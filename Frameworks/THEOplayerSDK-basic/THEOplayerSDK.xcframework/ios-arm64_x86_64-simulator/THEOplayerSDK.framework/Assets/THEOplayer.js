/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), promise-polyfill
 (MIT - Copyright (c) 2014 Taylor Hakes & Forbes Lindesay),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.3.3 (4.1.1)
 Created: 2022-10-17T08:20:53.862Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e,r=t.window,s=t.document,u=t.location,o=t.navigator,a=t.setTimeout,h=t.clearTimeout,c=t.setInterval,f=t.clearInterval,l=t.Error,v=t.TypeError,d=t.SyntaxError,w=t.Object,g=t.Math,m=t.parseInt,y=t.parseFloat,p=t.isNaN,_=t.Uint8Array,b=t.Worker,k=(t.WorkerGlobalScope,t.XMLHttpRequest);function A(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),w.defineProperty(t,e.key,e)}}function T(t,n,i){return n&&A(t.prototype,n),i&&A(t,i),w.defineProperty(t,"prototype",{writable:!1}),t}function S(t,n){return(S=w.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function E(t,n){t.prototype=w.create(n.prototype),t.prototype.constructor=t,S(t,n)}!function(t){t.l="web",t.g="android",t.I="android-tv",t.R="ios",t.N="tvos",t.M="chromecast"}(e||(e={}));var I=o?o.userAgent:"",R=I.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),C=I.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),N=I.match(/Android ([0-9\.]+)/i),D=I.match(/Windows NT ([0-9\.]+)/i),P=I.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),x=I.match(/Firefox\/([0-9\.]+)/i),B=I.match(/OPR\/(\d+\.\d+)/i),O=I.match(/Tizen ([0-9\.]+)/i),L=function(){function n(){this.U=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.F=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(I)||/(macintosh|mac(?=_powerpc)\s)/i.test(I),this.V=/Windows NT/i.test(I),this.G=D?y(D[1]):0,this.Y=/Android/i.test(I),this.j=N?y(N[1]):0,this.Z=/windows phone (8|8\.1)/i.test(I),this.K=/iPhone/i.test(I),this.J=/iPad/i.test(I),this.nt=this.F&&this.U&&!this.J,this.ut=/iPod/i.test(I),this.ot=/Mobile Safari/i.test(I),this.ct=/EOSSTB/i.test(I),this.ft=(this.K||this.J||this.nt||this.ut)&&!this.Z,this.vt=this.Z||this.ft||this.Y||this.ot,this.dt=/CriOS/i.test(I),this.wt=Boolean(t.chrome&&/google/i.test(o.vendor))||this.dt,this._t=this.wt&&/Edg\//i.test(o.userAgent),this.yt=C?m(C[1],10):0,this.kt=Boolean(t.chrome||/Chrome/i.test(I)||/CriOS/i.test(I)),this.bt=R?m(R[1],10):0,this.At=/SMART-TV.*Tizen/i.test(I),this.Tt=O?y(O[1]):0,this.St=/webos|web0s/i.test(I),this.Et=/Edge\/\d+/i.test(I),this.It=/Trident/i.test(I),this.Rt=this.It&&!t.ActiveXObject&&"ActiveXObject"in t,this.Nt=/Vivaldi/i.test(I),this.Dt=/Firefox/i.test(I)&&!/Seamonkey/i.test(I),this.Ct=x?y(x[1]):0,this.Pt=/Safari/i.test(I)&&!/Chrome/i.test(I)&&!this.Z&&!this.At,this.Bt=P?y(P[2]):0,this.Ot=Boolean(B),this.xt=B?y(B[1]):0,this.Lt=/CrKey/.test(I),this.Mt=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(I),this.Ut="ios"===e.I,this.Xt="ios"===e.g,this.Ft=this.Xt||this.Ut,this.Ht="ios"===e.R,this.zt="ios"===e.N,this.Vt="ios"===e.M}return T(n,[{key:"Wt",get:function(){return this.U}},{key:"Gt",get:function(){return this.F}},{key:"qt",get:function(){return this.V}},{key:"Yt",get:function(){return this.G}},{key:"jt",get:function(){return this.Y}},{key:"Qt",get:function(){return this.j}},{key:"Zt",get:function(){return this.Z}},{key:"Kt",get:function(){return this.K}},{key:"Jt",get:function(){return this.J}},{key:"$t",get:function(){return this.nt}},{key:"in",get:function(){return this.ut}},{key:"un",get:function(){return this.ft}},{key:"cn",get:function(){return this.ct}},{key:"hn",get:function(){return this.ot}},{key:"fn",get:function(){return this.vt}},{key:"vn",get:function(){return this.dt}},{key:"dn",get:function(){return this.wt}},{key:"wn",get:function(){return this.bt}},{key:"_n",get:function(){return this._t}},{key:"yn",get:function(){return this.yt}},{key:"pn",get:function(){return this.At}},{key:"An",get:function(){return this.Tt}},{key:"Tn",get:function(){return this.St}},{key:"Sn",get:function(){return this.Et}},{key:"En",get:function(){return this.It}},{key:"In",get:function(){return this.Rt}},{key:"Rn",get:function(){return this.Nt}},{key:"Nn",get:function(){return this.Dt}},{key:"Dn",get:function(){return this.Ct}},{key:"Cn",get:function(){return this.Pt}},{key:"Pn",get:function(){return this.Bt}},{key:"Bn",get:function(){return this.Ot}},{key:"On",get:function(){return this.xt}},{key:"xn",get:function(){return this.Lt}},{key:"Ln",get:function(){return this.Mt}},{key:"Mn",get:function(){return!(!this.Tn&&!this.pn)&&this.wn<=56}},{key:"Un",get:function(){return this.Ut}},{key:"Xn",get:function(){return this.Xt}},{key:"Fn",get:function(){return this.Ft}},{key:"Hn",get:function(){return this.Ht}},{key:"zn",get:function(){return this.zt}},{key:"Vn",get:function(){return this.Vt}},{key:"Wn",get:function(){return this.kt}}]),n}();L.Gn=new L;var M=L.Gn,j={}.hasOwnProperty,F={}.toString;function U(t){return null!=t}function H(t){return void 0===t}var X=Array.isArray||function(t){return"[object Array]"===F.call(t)};function z(t){return V(t)&&j.call(t,"length")&&Q(t.length)}function V(t){return"object"==typeof t&&null!==t}function W(t){return V(t)&&t.constructor&&t.constructor===w}function q(t){return"string"==typeof t}function G(t){return"boolean"==typeof t}function $(t){return Boolean(t)&&"function"==typeof t.then}function Y(t){return"[object Date]"===F.call(t)}function Q(t){return"number"==typeof t}var Z=function(){},K=function(t){return t};function J(t,n){var e=-1/0;return function(){var r=i.Je();r-e>=n&&(t.apply(void 0,arguments),e=r)}}function tt(t,n,e){var r;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var a=this,h=e&&!r;void 0!==r&&i.qn(r),r=i.Yn(function(){r=void 0,e||t.apply(a,u)},n),h&&t.apply(a,u)}}var nt=!(M.En&&!M.In),it=t.console;function et(t){if(V(t))try{return JSON.stringify(t)}catch(t){}return t}function rt(t){return t.map(et).join(" ")}function st(t){var n=it&&it[t];return n?n.bind&&nt?n.bind(it):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];it[t](rt(i))}:void 0}var ut,ot=st("log")||Z,at=st("warn")||ot.bind(void 0,"WARNING:"),ht=st("error")||ot.bind(void 0,"ERROR:"),ct=(ut=it&&it.assert)?ut.bind&&nt?ut.bind(it):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];it.assert(t,rt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ht.apply(void 0,["Assertion failed:"].concat(i))}},ft=null;try{ft=new WebAssembly.Instance(new WebAssembly.Module(new _([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function lt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function vt(t){return!0===(t&&t.jn)}function dt(t){var n=g.clz32(t&-t);return t?31-n:n}lt.prototype.jn,w.defineProperty(lt.prototype,"jn",{value:!0}),lt.isLong=vt;var wt={},gt={};function mt(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=gt[t])?e:(i=pt(t,0,!0),r&&(gt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=wt[t])?e:(i=pt(t,t<0?-1:0,!1),r&&(wt[t]=i),i)}function yt(t,n){if(p(t))return n?Rt:It;if(n){if(t<0)return Rt;if(t>=Tt)return xt}else{if(t<=-St)return Bt;if(t+1>=St)return Pt}return t<0?yt(-t,n).neg():pt(t%At|0,t/At|0,n)}function pt(t,n,i){return new lt(t,n,i)}lt.fromInt=mt,lt.fromNumber=yt,lt.fromBits=pt;var _t=g.pow;function bt(t,n,i){if(0===t.length)throw l("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?Rt:It;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw l("interior hyphen");if(0===e)return bt(t.substring(1),n,i).neg();for(var r=yt(_t(i,8)),s=It,u=0;u<t.length;u+=8){var o=g.min(8,t.length-u),a=m(t.substring(u,u+o),i);if(o<8){var h=yt(_t(i,o));s=s.mul(h).add(yt(a))}else s=(s=s.mul(r)).add(yt(a))}return s.unsigned=n,s}function kt(t,n){return"number"==typeof t?yt(t,n):"string"==typeof t?bt(t,n):pt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}lt.fromString=bt,lt.fromValue=kt;var At=4294967296,Tt=At*At,St=Tt/2,Et=mt(1<<24),It=mt(0);lt.ZERO=It;var Rt=mt(0,!0);lt.UZERO=Rt;var Ct=mt(1);lt.ONE=Ct;var Nt=mt(1,!0);lt.UONE=Nt;var Dt=mt(-1);lt.NEG_ONE=Dt;var Pt=pt(-1,2147483647,!1);lt.MAX_VALUE=Pt;var xt=pt(-1,-1,!0);lt.MAX_UNSIGNED_VALUE=xt;var Bt=pt(0,-2147483648,!1);lt.MIN_VALUE=Bt;var Ot=lt.prototype;Ot.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ot.toNumber=function(){return this.unsigned?(this.high>>>0)*At+(this.low>>>0):this.high*At+(this.low>>>0)},Ot.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Bt)){var n=yt(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=yt(_t(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),a=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return a+u;for(;a.length<6;)a="0"+a;u=""+a+u}},Ot.getHighBits=function(){return this.high},Ot.getHighBitsUnsigned=function(){return this.high>>>0},Ot.getLowBits=function(){return this.low},Ot.getLowBitsUnsigned=function(){return this.low>>>0},Ot.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Bt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Ot.isZero=function(){return 0===this.high&&0===this.low},Ot.eqz=Ot.isZero,Ot.isNegative=function(){return!this.unsigned&&this.high<0},Ot.isPositive=function(){return this.unsigned||this.high>=0},Ot.isOdd=function(){return 1==(1&this.low)},Ot.isEven=function(){return 0==(1&this.low)},Ot.equals=function(t){return vt(t)||(t=kt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Ot.eq=Ot.equals,Ot.notEquals=function(t){return!this.eq(t)},Ot.neq=Ot.notEquals,Ot.ne=Ot.notEquals,Ot.lessThan=function(t){return this.comp(t)<0},Ot.lt=Ot.lessThan,Ot.lessThanOrEqual=function(t){return this.comp(t)<=0},Ot.lte=Ot.lessThanOrEqual,Ot.le=Ot.lessThanOrEqual,Ot.greaterThan=function(t){return this.comp(t)>0},Ot.gt=Ot.greaterThan,Ot.greaterThanOrEqual=function(t){return this.comp(t)>=0},Ot.gte=Ot.greaterThanOrEqual,Ot.ge=Ot.greaterThanOrEqual,Ot.compare=function(t){if(vt(t)||(t=kt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Ot.comp=Ot.compare,Ot.negate=function(){return!this.unsigned&&this.eq(Bt)?Bt:this.not().add(Ct)},Ot.neg=Ot.negate,Ot.add=function(t){vt(t)||(t=kt(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=0,h=0,c=0,f=0;return c+=(f+=r+(65535&t.low))>>>16,h+=(c+=e+o)>>>16,a+=(h+=i+u)>>>16,a+=n+s,pt((c&=65535)<<16|(f&=65535),(a&=65535)<<16|(h&=65535),this.unsigned)},Ot.subtract=function(t){return vt(t)||(t=kt(t)),this.add(t.neg())},Ot.sub=Ot.subtract,Ot.multiply=function(t){if(this.isZero())return this;if(vt(t)||(t=kt(t)),ft)return pt(ft.mul(this.low,this.high,t.low,t.high),ft.get_high(),this.unsigned);if(t.isZero())return this.unsigned?Rt:It;if(this.eq(Bt))return t.isOdd()?Bt:It;if(t.eq(Bt))return this.isOdd()?Bt:It;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Et)&&t.lt(Et))return yt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=65535&t.low,h=0,c=0,f=0,l=0;return f+=(l+=r*a)>>>16,c+=(f+=e*a)>>>16,f&=65535,c+=(f+=r*o)>>>16,h+=(c+=i*a)>>>16,c&=65535,h+=(c+=e*o)>>>16,c&=65535,h+=(c+=r*u)>>>16,h+=n*a+i*o+e*u+r*s,pt((f&=65535)<<16|(l&=65535),(h&=65535)<<16|(c&=65535),this.unsigned)},Ot.mul=Ot.multiply,Ot.divide=function(t){if(vt(t)||(t=kt(t)),t.isZero())throw l("division by zero");var n,i,e;if(ft)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?pt((this.unsigned?ft.div_u:ft.div_s)(this.low,this.high,t.low,t.high),ft.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Rt:It;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Rt;if(t.gt(this.shru(1)))return Nt;e=Rt}else{if(this.eq(Bt))return t.eq(Ct)||t.eq(Dt)?Bt:t.eq(Bt)?Ct:(n=this.shr(1).div(t).shl(1)).eq(It)?t.isNegative()?Ct:Dt:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(Bt))return this.unsigned?Rt:It;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=It}for(i=this;i.gte(t);){n=g.max(1,g.floor(i.toNumber()/t.toNumber()));for(var r=g.ceil(g.log(n)/g.LN2),s=r<=48?1:_t(2,r-48),u=yt(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=yt(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Ct),e=e.add(u),i=i.sub(o)}return e},Ot.div=Ot.divide,Ot.modulo=function(t){return vt(t)||(t=kt(t)),ft?pt((this.unsigned?ft.rem_u:ft.rem_s)(this.low,this.high,t.low,t.high),ft.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Ot.mod=Ot.modulo,Ot.rem=Ot.modulo,Ot.not=function(){return pt(~this.low,~this.high,this.unsigned)},Ot.countLeadingZeros=function(){return this.high?g.clz32(this.high):g.clz32(this.low)+32},Ot.clz=Ot.countLeadingZeros,Ot.countTrailingZeros=function(){return this.low?dt(this.low):dt(this.high)+32},Ot.ctz=Ot.countTrailingZeros,Ot.and=function(t){return vt(t)||(t=kt(t)),pt(this.low&t.low,this.high&t.high,this.unsigned)},Ot.or=function(t){return vt(t)||(t=kt(t)),pt(this.low|t.low,this.high|t.high,this.unsigned)},Ot.xor=function(t){return vt(t)||(t=kt(t)),pt(this.low^t.low,this.high^t.high,this.unsigned)},Ot.shiftLeft=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?pt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):pt(0,this.low<<t-32,this.unsigned)},Ot.shl=Ot.shiftLeft,Ot.shiftRight=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?pt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):pt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Ot.shr=Ot.shiftRight,Ot.shiftRightUnsigned=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?pt(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):pt(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Ot.shru=Ot.shiftRightUnsigned,Ot.shr_u=Ot.shiftRightUnsigned,Ot.rotateLeft=function(t){var n;return vt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?pt(this.high,this.low,this.unsigned):t<32?(n=32-t,pt(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),pt(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Ot.rotl=Ot.rotateLeft,Ot.rotateRight=function(t){var n;return vt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?pt(this.high,this.low,this.unsigned):t<32?(n=32-t,pt(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),pt(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Ot.rotr=Ot.rotateRight,Ot.toSigned=function(){return this.unsigned?pt(this.low,this.high,!1):this},Ot.toUnsigned=function(){return this.unsigned?this:pt(this.low,this.high,!0)},Ot.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Ot.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Ot.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},lt.fromBytes=function(t,n,i){return i?lt.fromBytesLE(t,n):lt.fromBytesBE(t,n)},lt.fromBytesLE=function(t,n){return new lt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},lt.fromBytesBE=function(t,n){return new lt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Lt=9007199254740991,Mt=g.pow(2,-52);function jt(t,n,i){return g.min(g.max(t,n),i)}function Ft(t,n,i){return t===n||g.abs(t-n)<=i}function Ut(t){return t!=t}function Ht(t,n){return t===n||Ut(t)&&Ut(n)}function Xt(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function zt(t){return!p(t.getTime())}function Vt(){return Date.now()||(new Date).getTime()}function Wt(t){return t/1e3}function qt(t){return 1e3*t}var Gt,$t=lt.fromNumber(Lt);function Yt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual($t))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function Qt(t){return t.Qn===Gt.Zn}function Zt(t){return t.Qn===Gt.Kn}function Kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Zn=1]="Zn",t[t.Jn=2]="Jn",t[t.Kn=3]="Kn",t[t.$n=4]="$n",t[t.ni=9]="ni"}(Gt||(Gt={}));var Jt=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];l.apply(this,n)};(Jt.prototype=w.create(l.prototype)).constructor=Jt;var tn=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,l.captureStackTrace&&l.captureStackTrace(Kt(e),e.constructor),e}return E(n,t),T(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Jt),nn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return E(n,t),n}(tn),en=function(){function t(){}return t.prototype.ei=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new nn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new nn;return new cn(n)},t}(),rn=function(){function t(t){this.ri=void 0,this.ri=t}var n=t.prototype;return n.ui=function(t){return this.ri.isEqualNode(t.ri)},n.oi=function(n){return new t(this.ri.cloneNode(n))},T(t,[{key:"Qn",get:function(){return Gt.Jn}},{key:"ai",get:function(){var t;return null!=(t=this.ri.localName)?t:vn(this.ri.nodeName)}},{key:"ci",get:function(){return this.ri.nodeName}},{key:"di",get:function(){var t;return null!=(t=this.ri.namespaceURI)?t:void 0}},{key:"wi",get:function(){var t;return null!=(t=this.ri.prefix)?t:void 0}},{key:"_i",get:function(){return this.ri.nodeValue}}]),t}(),sn=function(){function t(t){this.gi=void 0,this.Ai=void 0,this.gi=t}var n=t.prototype;return n.Ti=function(t){return this.Si.filter(function(n){return fn(n)&&n.Ei===t})},n.Ii=function(t,n){return this.Si.filter(function(i){return fn(i)&&i.ai===n&&i.di===t})},n.Ri=function(t){this.gi.appendChild(t.Ni),this.Ai&&this.Ai.push(t)},n.ui=function(t){return this.gi.isEqualNode(t.Ni)},T(t,[{key:"Si",get:function(){return void 0===this.Ai&&(this.Ai=function(t){for(var n=[],i=0;i<t.length;i++){var e=ln(t.item(i));e&&n.push(e)}return n}(this.gi.childNodes)),this.Ai}},{key:"Di",get:function(){return this.Si.filter(fn)}},{key:"Ni",get:function(){return this.gi}}]),t}(),un=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.Ci=function(t){if(this.gi.hasAttribute(t))return this.gi.getAttribute(t)},i.Pi=function(t,n){if(this.gi.hasAttributeNS(t,n))return this.gi.getAttributeNS(t,n)},i.Bi=function(t){this.gi.removeAttribute(t)},i.Oi=function(t,n){this.gi.removeAttributeNS(t,n)},i.xi=function(t,n){this.gi.setAttribute(t,n)},i.Li=function(t,n,i){this.gi.setAttributeNS(t,n,i)},i.oi=function(t){return new n(this.gi.cloneNode(t))},T(n,[{key:"Qn",get:function(){return Gt.Zn}},{key:"ai",get:function(){var t;return null!=(t=this.gi.localName)?t:vn(this.gi.nodeName)}},{key:"di",get:function(){var t;return null!=(t=this.gi.namespaceURI)?t:void 0}},{key:"wi",get:function(){var t;return null!=(t=this.gi.prefix)?t:void 0}},{key:"Ei",get:function(){return this.gi.nodeName}},{key:"Mi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new rn(t.item(i)));return n}(this.gi.attributes)}},{key:"Ui",get:function(){return this.gi.textContent}}]),n}(sn),on=function(){function t(t){this.gi=void 0,this.gi=t}return t.prototype.ui=function(t){return this.Xi===t.Xi},T(t,[{key:"Xi",get:function(){return this.gi.nodeValue}},{key:"Ni",get:function(){return this.gi}}]),t}(),an=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.oi=function(t){return new n(this.gi.cloneNode(t))},T(n,[{key:"Qn",get:function(){return Gt.Kn}}]),n}(on),hn=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.oi=function(t){return new n(this.gi.cloneNode(t))},T(n,[{key:"Qn",get:function(){return Gt.$n}}]),n}(on),cn=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.oi=function(t){return new n(this.gi.cloneNode(t))},T(n,[{key:"Qn",get:function(){return Gt.ni}},{key:"Fi",get:function(){return new un(this.gi.documentElement)}}]),n}(sn);function fn(t){return Qt(t)}function ln(t){switch(t.nodeType){case Gt.Zn:return new un(t);case Gt.Kn:return new an(t);case Gt.$n:return new hn(t)}}function vn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function dn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),w.defineProperty(t,e.key,e)}}function wn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){gn(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&gn(i,null,t.length,t),t}function gn(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(r=0;r<h;r+=f)for(u=(s=r+i)+i,s>h&&(s=h),u>h&&(u=h),o=r,a=s;;)if(o<s&&a<u)n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<s)e[c++]=t[o++];else{if(!(a<u))break;e[c++]=t[a++]}}var mn=/[a-zA-Z]/,yn=/[0-9]/,pn=/[0-9a-fA-F]/,_n=/^0x/i,bn=/^[0-9]+$/,kn=/^[0-9a-fA-F]+$/,An=/^[0-7]+$/,Tn=w.prototype.toString,Sn=Array.isArray||function(t){return"[object Array]"===Tn.call(t)},En="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function In(t){return Sn(t)?t:Array.from(t)}function Rn(t){return t>=65&&t<=90}function Cn(t){return Rn(t)||function(t){return t>=97&&t<=122}(t)}function Nn(t){return t>=48&&t<=57}function Dn(t){return Nn(t)||Cn(t)}function Pn(t){return Nn(t)||t>=65&&t<=70||t>=97&&t<=102}function xn(t){return Rn(t)?t+32:t}function Bn(t){return Nn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function On(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Ln=g.min,Mn=String.fromCharCode,jn=16384;function Fn(t){for(var n=t.length,i=[],e=0;e<n;e+=jn){var r=Ln(e+jn,n);i.push(Mn.apply(null,t.slice(e,r)))}return i.join("")}var Un=/[^\0-\x7E]/,Hn=/[\x2E\u3002\uFF0E\uFF61]/g,Xn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},zn=g.floor,Vn=String.fromCharCode;function Wn(t){throw new RangeError(Xn[t])}function qn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var Gn,$n,Yn,Qn=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Zn=function(t,n,i){var e=0;for(t=i?zn(t/700):t>>1,t+=zn(t/n);t>455;e+=36)t=zn(t/35);return zn(e+36*t/(t+38))},Kn=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Hn,".")).split("."),n).join(".");return e+r}(t,function(t){return Un.test(t)?"xn--"+function(t){for(var n=[],i=(t=qn(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var a=o[u];a<128&&n.push(Vn(a))}var h=n.length,c=h;for(h&&n.push("-");c<i;){for(var f=2147483647,l=0,v=t;l<v.length;l++){var d=v[l];d>=e&&d<f&&(f=d)}var w=c+1;f-e>zn((2147483647-r)/w)&&Wn("overflow"),r+=(f-e)*w,e=f;for(var g=0,m=t;g<m.length;g++){var y=m[g];if(y<e&&++r>2147483647&&Wn("overflow"),y==e){for(var p=r,_=36;;_+=36){var b=_<=s?1:_>=s+26?26:_-s;if(p<b)break;var k=p-b,A=36-b;n.push(Vn(Qn(b+k%A,0))),p=zn(k/A)}n.push(Vn(Qn(p,0))),s=Zn(r,w,c==h),r=0,++c}}++r,++e}return n.join("")}(t):t})};function Jn(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Fn(n)}function ti(t){if(t>=55296&&t<=57343)throw new l("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ni(t,n){return t>>n&63|128}function ii(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ti(t),n.push(t>>12&15|224),n.push(ni(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ni(t,12)),n.push(ni(t,6))),n.push(63&t|128)):n.push(t)}function ei(t){for(var n=[],i=0;i<t.length;i++){ii(t[i],n)}return n}function ri(){if(Yn>=$n)throw new l("Invalid byte index");var t=255&Gn[Yn];if(Yn++,128==(192&t))return 63&t;throw new l("Invalid continuation byte")}function si(){var t,n;if(Yn>$n)throw new l("Invalid byte index");if(Yn===$n)return!1;if(t=255&Gn[Yn],Yn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ri())>=128)return n;throw new l("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ri()<<6|ri())>=2048)return ti(n),n;throw new l("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ri()<<12|ri()<<6|ri())>=65536&&n<=1114111)return n;throw new l("Invalid UTF-8 detected")}function ui(t){return[37,On(t>>4),On(15&t)]}function oi(t){return function(t){return t>=0&&t<=31}(t)||t>126}function ai(t){return oi(t)||32===t||34===t||60===t||62===t||96===t}function hi(t){return ai(t)||35===t||63===t||123===t||125===t}function ci(t){return hi(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function fi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function li(t){return fi(t)||39===t}function vi(t,n){if(!n(t))return[t];for(var i=ei([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,ui(s))}return e}function di(t,n){for(var i=[],e=0,r=qn(t);e<r.length;e++){var s=r[e];i.push.apply(i,vi(s,n))}return Jn(i)}function wi(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&Pn(t[e+1])&&Pn(t[e+2])){var s=Bn(t[e+1])<<4|Bn(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(ei(t))}function gi(t){return Jn(function(t){Gn=t.slice(),$n=Gn.length,Yn=0;for(var n,i=[];!1!==(n=si());)i.push(n);return i}(wi(qn(t))))}function mi(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,a=null,h=0;if(h<s&&":"===t[h]){if(!(h+1<s&&":"===t[h+1]))throw new v;h+=2,a=o+=1}for(;h<s;){if(8===o)throw new v("Too many groups");if(":"!==t[h]){for(var c=0,f=0;f<4&&h<s&&pn.test(t[h]);)c=c<<4|m(t[h],16),h+=1,f+=1;if("."===t[h]){if(0===f)throw new v;if(h-=f,o>6)throw new v;for(var l=0;h<s;){var d=null;if(l>0){if(!("."===t[h]&&l<4))throw new v;h+=1}if(!yn.test(t[h]))throw new v;for(;h<s&&yn.test(t[h]);){var w=m(t[h],10);if(null===d)d=w;else{if(0===d)throw new v;if((d=10*d+w)>255)throw new v}h+=1}u[o]=u[o]<<8|d,2!==(l+=1)&&4!==l||(o+=1)}if(4!==l)throw new v;break}if(":"===t[h]){if((h+=1)===s)throw new v}else if(h<s)throw new v;u[o]=c,o+=1}else{if(null!==a)throw new v("Too many :: groups");h+=1,a=o+=1}}if(null!==a){var g=o-a;for(o=7;0!==o&&g>0;)e=a+g-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,g-=1}else if(8!==o)throw new v;return u}function yi(t){var n=10,i=bn;return _n.test(t)?(t=t.slice(2),n=16,i=kn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=An),""===t?0:i.test(t)?m(t,n):void 0}var pi={Hi:4},_i=/[\0\t\n\r #%/:?@\[\\\]]/,bi=/[\0\t\n\r #/:?@\[\\\]]/;function ki(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{Hi:2,zi:mi(t.slice(1,-1))}}if(!n)return function(t){if(bi.test(t))throw new v("Invalid code point in opaque host");var n=di(t,oi);return""===n?pi:{Hi:3,Vi:n}}(t);var i=function(t){return function(t){return Kn(t.toLowerCase())}(t)}(gi(t));if(_i.test(i))throw new v("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=yi(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new v;if(i[i.length-1]>=g.pow(256,5-i.length))throw new v;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*g.pow(256,3-a);return o}}(i);return void 0!==e?{Hi:1,zi:e}:""===i?pi:{Hi:0,Wi:i}}function Ai(t){switch(t.Hi){case 0:return t.Wi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.zi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.zi)+"]";case 3:return t.Vi;case 4:return""}}var Ti=/\+/g;function Si(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(Ti," "),o=o.replace(Ti," ");var a=gi(u),h=gi(o);i.push([a,h])}}return i}function Ei(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Ii(ei(qn(e[0])))+"="+Ii(ei(qn(e[1])))}return n}function Ii(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Dn(n)?i.push(r):i.push.apply(i,ui(r))}return Fn(i)}var Ri=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Ci(t){var n=""+t,i=Ri.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(Di(s))if(Pi(s)||r===i-1)e.push(Ni);else{var u=t.charCodeAt(r+1);Pi(u)?(e.push(s,u),r++):e.push(Ni)}else e.push(s)}return t.slice(0,n)+Fn(e)}(n,i.index):n}var Ni=65533,Di=function(t){return 55296==(63488&t)},Pi=function(t){return 0!=(1024&t)};function xi(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Bi(t){t.Gi.length=0}function Oi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Gi,Si(n))}function Li(t){if(t.qi){var n=Ei(t.Gi);""===n&&(n=null),t.qi.qi.Yi=n}}var Mi=function(){function t(t){if(void 0===t&&(t=void 0),this.qi=null,null==t)this.Gi=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof Mi&&Sn(s.Gi)&&(!En||s[Symbol.iterator]===ji))this.Gi=t.Gi.slice();else if(function(t){return null!=t&&(!!Sn(t)||!!En&&"function"==typeof t[Symbol.iterator])}(t)){this.Gi=[];for(var n=0,i=In(t);n<i.length;n++){var e=In(i[n]);if(2!==e.length)throw new v("Invalid name-value pair");this.Gi.push([Ci(e[0]),Ci(e[1])])}}else for(var r in this.Gi=[],t)w.prototype.hasOwnProperty.call(t,r)&&this.Gi.push([Ci(r),Ci(t[r])]);else(t=Ci(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Gi=Si(t);var s}var n=t.prototype;return n.append=function(t,n){t=Ci(t),n=Ci(n),this.Gi.push([t,n]),Li(this)},n.delete=function(t){t=Ci(t);for(var n=this.Gi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Li(this)},n.get=function(t){t=Ci(t);for(var n=this.Gi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Ci(t);for(var n=this.Gi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Ci(t);for(var n=this.Gi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Ci(t),n=Ci(n);for(var i=this.Gi,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),Li(this)},n.sort=function(){wn(this.Gi,xi),Li(this)},n.toString=function(){return Ei(this.Gi)},n.entries=function(){return new Xi(this.Gi,Fi)},n.keys=function(){return new Xi(this.Gi,Ui)},n.values=function(){return new Xi(this.Gi,Hi)},n.forEach=function(t){var n=this;this.Gi.forEach(function(i){return t(i[1],i[0],n)})},t}(),ji=Mi.prototype.entries;En&&(Mi.prototype[Symbol.iterator]=ji);var Fi=function(t){return[t[0],t[1]]},Ui=function(t){return t[0]},Hi=function(t){return t[1]},Xi=function(){function t(t,n){this.ji=0,this.Gi=t,this.Qi=n}return t.prototype.next=function(){return this.ji<this.Gi.length?{done:!1,value:this.Qi(this.Gi[this.ji++])}:{done:!0,value:void 0}},t}(),zi="null";var Vi=w.create(null);Vi.ftp=21,Vi.file=0,Vi.gopher=70,Vi.http=80,Vi.https=443,Vi.ws=80,Vi.wss=443;var Wi=/^(?:\.|%2e)$/i,qi=/^(?:\.|%2e){2}$/i;function Gi(t){return Wi.test(t)}function $i(t){return qi.test(t)}function Yi(t){return void 0!==Vi[t]}function Qi(t){return Yi(t.Zi)}function Zi(t){return""!==t.Ki||""!==t.Ji}function Ki(t){var n=t.length;if(!(n>=2))return!1;if(!te(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Ji(t){return 2===t.length&&mn.test(t[0])&&(":"===t[1]||"|"===t[1])}function te(t){return 2===t.length&&Ji(Fn(t))}function ne(t){return Ji(t)&&":"===t[1]}function ie(t){var n=t.$i;0!==n.length&&("file"===t.Zi&&1===n.length&&ne(n[0])||n.pop())}function ee(t){return null===t.re||pi===t.re||t.ue||"file"===t.Zi}var re=-1,se=/\t|\n|\r/g,ue=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function oe(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new he,t=t.replace(ue,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,a=!1,h=qn(t=t.replace(se,"")),c=h.length,f=0;f<=c;){var l=f<c?h[f]:re;switch(r){case 0:if(!Cn(l)){if(null===e){s.length=0,r=2;continue}throw new v("Invalid scheme")}s.push(xn(l)),r=1;break;case 1:if(Dn(l)||43===l||45===l||46===l)s.push(xn(l));else{if(58!==l){if(null===e){s.length=0,r=2,f=0;continue}throw new v("Invalid scheme")}var d=Jn(s);if(null!==e){if(Yi(i.Zi)&&!Yi(d))return;if(!Yi(i.Zi)&&Yi(d))return;if((Zi(i)||null!==i.oe)&&"file"===d)return;if("file"===i.Zi&&(i.re===pi||null===i.re))return}if(i.Zi=d,null!==e)return void(Qi(i)&&i.oe===Vi[i.Zi]&&(i.oe=null));s.length=0,"file"===i.Zi?r=13:Qi(i)&&n&&n.Zi===i.Zi?r=3:Qi(i)?r=7:47===h[f+1]?(r=4,f+=1):(i.ue=!0,i.$i.push(""),r=18)}break;case 2:if(!n||n.ue&&35!==l)throw new v("Invalid scheme");n.ue&&35===l?(i.Zi=n.Zi,i.$i=n.$i.slice(),i.Yi=n.Yi,i.fe="",i.ue=!0,r=20):"file"!==n.Zi?(r=5,f-=1):(r=13,f-=1);break;case 3:47===l&&47===h[f+1]?r=8:(r=5,f-=1);break;case 4:47===l?r=9:(r=17,f-=1);break;case 5:i.Zi=n.Zi,re===l?(i.Ki=n.Ki,i.Ji=n.Ji,i.re=n.re,i.oe=n.oe,i.$i=n.$i.slice(),i.Yi=n.Yi):47===l?r=6:63===l?(i.Ki=n.Ki,i.Ji=n.Ji,i.re=n.re,i.oe=n.oe,i.$i=n.$i.slice(),i.Yi="",r=19):35===l?(i.Ki=n.Ki,i.Ji=n.Ji,i.re=n.re,i.oe=n.oe,i.$i=n.$i.slice(),i.Yi=n.Yi,i.fe="",r=20):92===l&&Qi(i)?r=6:(i.Ki=n.Ki,i.Ji=n.Ji,i.re=n.re,i.oe=n.oe,i.$i=n.$i.slice(),i.$i.pop(),r=17,f-=1);break;case 6:!Qi(i)||47!==l&&92!==l?47===l?r=9:(i.Ki=n.Ki,i.Ji=n.Ji,i.re=n.re,i.oe=n.oe,r=17,f-=1):r=8;break;case 7:if(47!==l||47!==h[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==l&&92!==l&&(r=9,f-=1);break;case 9:if(64===l){u&&s.unshift(37,52,48),u=!0;for(var w=0;w<s.length;w++){var g=s[w];if(58!==g||a){var y=Jn(vi(g,ci));a?i.Ji+=y:i.Ki+=y}else a=!0}s.length=0}else if(re===l||47===l||63===l||35===l||Qi(i)&&92===l){if(u&&0===s.length)throw new v("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(l);break;case 10:case 11:if(null!==e&&"file"===i.Zi)f-=1,r=15;else if(58!==l||o)if(re===l||47===l||63===l||35===l||Qi(i)&&92===l){if(f-=1,Qi(i)&&0===s.length)throw new v("Invalid host");if(null!==e&&0===s.length&&(Zi(i)||null!==i.oe))return;var p=ki(Jn(s),Qi(i));if(i.re=p,s.length=0,r=16,null!==e)return}else 91===l?o=!0:93===l&&(o=!1),s.push(l);else{if(0===s.length)throw new v("Invalid host");var _=ki(Jn(s),Qi(i));if(i.re=_,s.length=0,r=12,11===e)return}break;case 12:if(Nn(l))s.push(l);else{if(!(re===l||47===l||63===l||35===l||Qi(i)&&92===l||null!==e))throw new v("Invalid port");if(0!==s.length){var b=m(Jn(s),10);if(b>65535)throw new v("Invalid port");i.oe=b===Vi[i.Zi]?null:b,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.Zi="file",47===l||92===l?r=14:n&&"file"===n.Zi?re===l?(i.re=n.re,i.$i=n.$i.slice(),i.Yi=n.Yi):63===l?(i.re=n.re,i.$i=n.$i.slice(),i.Yi="",r=19):35===l?(i.re=n.re,i.$i=n.$i.slice(),i.Yi=n.Yi,i.fe="",r=20):(Ki(h.slice(f))||(i.re=n.re,i.$i=n.$i.slice(),ie(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===l||92===l?r=15:(n&&"file"===n.Zi&&!Ki(h.slice(f))&&(ne(n.$i[0])?i.$i.push(n.$i[0]):i.re=n.re),r=17,f-=1);break;case 15:if(re===l||47===l||92===l||63===l||35===l)if(f-=1,null===e&&te(s))r=17;else if(0===s.length){if(i.re=pi,null!==e)return;r=16}else{var k=ki(Jn(s),Qi(i));if(0===k.Hi&&"localhost"===k.Wi&&(k=pi),i.re=k,null!==e)return;s.length=0,r=16}else s.push(l);break;case 16:Qi(i)?(r=17,47!==l&&92!==l&&(f-=1)):null===e&&63===l?(i.Yi="",r=19):null===e&&35===l?(i.fe="",r=20):re!==l&&(r=17,47!==l&&(f-=1));break;case 17:if(re===l||47===l||Qi(i)&&92===l||null===e&&(63===l||35===l)){var A=Jn(s);if($i(A)?(ie(i),47===l||Qi(i)&&92===l||i.$i.push("")):!Gi(A)||47===l||Qi(i)&&92===l?Gi(A)||("file"===i.Zi&&0===i.$i.length&&te(s)&&(pi!==i.re&&null!==i.re&&(i.re=pi),s[1]=58,A=Jn(s)),i.$i.push(A)):i.$i.push(""),s.length=0,"file"===i.Zi&&(re===l||63===l||35===l))for(;i.$i.length>1&&""===i.$i[0];)i.$i.shift();63===l?(i.Yi="",r=19):35===l&&(i.fe="",r=20)}else s.push.apply(s,vi(l,hi));break;case 18:63===l?(i.Yi="",r=19):35===l?(i.fe="",r=20):re!==l&&(i.$i[0]+=Jn(vi(l,oi)));break;case 19:null===e&&35===l?(i.fe="",r=20):re!==l&&(i.Yi+=Jn(vi(l,Qi(i)?li:fi)));break;case 20:re===l||0===l||(i.fe+=Jn(vi(l,ai)))}f++}return i}function ae(t,n,i,e){try{oe(t,n,i,e)}catch(t){}}var he=function(){this.Zi="",this.Ki="",this.Ji="",this.re=null,this.oe=null,this.$i=[],this.Yi=null,this.fe=null,this.ue=!1};function ce(t){switch(t.Zi){case"blob":var n;try{n=oe(t.$i[0],null)}catch(t){return zi}return ce(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Zi,e=t.re,r=t.oe,i+"://"+Ai(e)+(null===r?"":":"+r);case"file":default:return zi}var i,e,r}var fe,le,ve,de,we,ge,me=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof me&&"object"==typeof i.qi)r=n.qi;else try{r=oe(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{e=oe(String(t),r)}catch(t){throw new v("Invalid URL: "+t.message)}var s=e.Yi;this.qi=e,this.Yi=function(t){var n=new Mi;return null!==t&&Oi(n,t),n}(s),this.Yi.qi=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Zi+":";if(null!==t.re?(i+="//",Zi(t)&&(i+=t.Ki,""!==t.Ji&&(i+=":"+t.Ji),i+="@"),i+=Ai(t.re),null!==t.oe&&(i+=":"+t.oe)):null===t.re&&"file"===t.Zi&&(i+="//"),t.ue)i+=t.$i[0];else for(var e=0,r=t.$i;e<r.length;e++)i+="/"+r[e];return null!==t.Yi&&(i+="?"+t.Yi),n||null===t.fe||(i+="#"+t.fe),i}(this.qi)},set:function(t){var n;try{n=oe(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.qi=n,Bi(this.Yi);var i=this.qi.Yi;null!==i&&Oi(this.Yi,i)}},{key:"origin",get:function(){return ce(this.qi)}},{key:"protocol",get:function(){return this.qi.Zi+":"},set:function(t){ae(t+":",null,this.qi,0)}},{key:"username",get:function(){return this.qi.Ki},set:function(t){ee(this.qi)||(this.qi.Ki=di(t,ci))}},{key:"password",get:function(){return this.qi.Ji},set:function(t){ee(this.qi)||(this.qi.Ji=di(t,ci))}},{key:"host",get:function(){var t=this.qi,n=t.re;if(null===n)return"";var i=t.oe,e=Ai(n);return null!==i&&(e+=":"+i),e},set:function(t){this.qi.ue||ae(t,null,this.qi,10)}},{key:"hostname",get:function(){var t=this.qi.re;return null===t?"":Ai(t)},set:function(t){this.qi.ue||ae(t,null,this.qi,11)}},{key:"port",get:function(){var t=this.qi.oe;return null===t?"":""+t},set:function(t){ee(this.qi)||(""===t?this.qi.oe=null:ae(t,null,this.qi,12))}},{key:"pathname",get:function(){var t=this.qi.$i;return this.qi.ue?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.qi.ue||(this.qi.$i.length=0,ae(t,null,this.qi,16))}},{key:"search",get:function(){var t=this.qi.Yi;return null===t||""===t?"":"?"+t},set:function(t){t=Ci(t);var n=this.qi;if(""===t)return n.Yi=null,void Bi(this.Yi);"?"===t[0]&&(t=t.slice(1)),n.Yi="",ae(t,null,n,19),Oi(this.Yi,t)}},{key:"searchParams",get:function(){return this.Yi}},{key:"hash",get:function(){var t=this.qi.fe;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.qi.fe="",ae(t,null,this.qi,20)):this.qi.fe=null}}])&&dn(n.prototype,i),e&&dn(n,e),t}();function ye(t){return t.document&&t.document.baseURI||t.location.href||""}var pe=a;function _e(t){return Boolean(t&&void 0!==t.length)}function be(){}function ke(t){if(!(this instanceof ke))throw new v("Promises must be constructed via new");if("function"!=typeof t)throw new v("not a function");this.we=0,this._e=!1,this.me=void 0,this.ye=[],Re(t,this)}function Ae(t,n){for(;3===t.we;)t=t.me;0!==t.we?(t._e=!0,ke.ke(function(){var i=1===t.we?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.me)}catch(t){return void Se(n.promise,t)}Te(n.promise,e)}else(1===t.we?Te:Se)(n.promise,t.me)})):t.ye.push(n)}function Te(t,n){try{if(n===t)throw new v("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof ke)return t.we=3,t.me=n,void Ee(t);if("function"==typeof i)return void Re((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.we=1,t.me=n,Ee(t)}catch(n){Se(t,n)}var e,r}function Se(t,n){t.we=2,t.me=n,Ee(t)}function Ee(t){2===t.we&&0===t.ye.length&&ke.ke(function(){t._e||ke.pe(t.me)});for(var n=0,i=t.ye.length;n<i;n++)Ae(t,t.ye[n]);t.ye=null}function Ie(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function Re(t,n){var i=!1;try{t(function(t){i||(i=!0,Te(n,t))},function(t){i||(i=!0,Se(n,t))})}catch(t){if(i)return;i=!0,Se(n,t)}}ke.prototype.catch=function(t){return this.then(null,t)},ke.prototype.then=function(t,n){var i=new this.constructor(be);return Ae(this,new Ie(t,n,i)),i},ke.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},ke.all=function(t){return new ke(function(n,i){if(!_e(t))return i(new v("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)s(u,e[u])})},ke.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new v(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)s(u,e[u])})},ke.resolve=function(t){return t&&"object"==typeof t&&t.constructor===ke?t:new ke(function(n){n(t)})},ke.reject=function(t){return new ke(function(n,i){i(t)})},ke.race=function(t){return new ke(function(n,i){if(!_e(t))return i(new v("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)ke.resolve(t[e]).then(n,i)})},ke.ke="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){pe(t,0)},ke.pe=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Ce=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),Ne=o?o.userAgent:"",De=Ne.match(/Firefox\/([0-9]+)/i),Pe=null!=De,xe=De?Number(De[1]):0,Be=Ne.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Oe=null!=Be,Le=Be?Number(Be[3]):0,Me=function(){function t(t){this.Ae=0,this.Te=0,this.Vi=[],this.Se=t}return t.prototype.Ee=function(t){var n=this.length();this.Ie(n+1);var i=this.Te+n&this.Se-1;this.Vi[i]=t,this.Ae=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Se<n)this.Ee(t);else{var i=this.Te+n-1,e=this.Se-1;this.Vi[i&e]=t,this.Ae=n}},t.prototype.shift=function(){var t=this.Te,n=this.Vi[t];return this.Vi[t]=void 0,this.Te=t+1&this.Se-1,this.Ae--,n},t.prototype.length=function(){return this.Ae},t.prototype.Ie=function(t){this.Se<t&&this.Re(this.Se<<1)},t.prototype.Re=function(t){var n=this.Se;this.Se=t;var i=this.Te+this.Ae&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.Vi,0,n,i)},t}();var je="unhandledrejection",Fe=t.PromiseRejectionEvent,Ue=t.CustomEvent;function He(t){return new Fe(je,{reason:t,promise:Ce.reject(t).catch(function(){}),cancelable:!0})}function Xe(t){var n=new Ue(je,{detail:{reason:t},cancelable:!0});return w.defineProperty(n,"reason",{value:t}),n}function ze(t){var n=s.createEvent("CustomEvent");return n.initCustomEvent(je,!1,!0,{reason:t}),n}var Ve,We,qe,Ge,$e,Ye,Qe,Ze=function(t){return(Ze=function(){try{var t=Ce.resolve(),n=new Fe(je,{reason:"error",promise:t});return je===n.type&&"error"===n.reason}catch(t){}return!1}()?He:function(){try{var t=new Ue(je,{detail:{reason:"error"}});return je===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?Xe:ze)(t)};if(Ce&&!(Pe&&xe<60||Oe&&Le<15))We=Ce;else{We=ke;var Ke=null!==(Ve=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=Ce;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==Ve?Ve:ke.ke,Je=(qe=Ke,Ge=new Me(16),$e=!1,{Ne:function(t){Ge.push(t),$e||($e=!0,qe(Ye))},De:Ye=function(){for(;Ge.length()>0;)Ge.shift()();$e=!1}});ke.ke=Je.Ne,ke.pe=function(n){try{var i=Ze(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}a(function(){throw new l("Unhandled promise rejection: ".concat(n))},0)}}function tr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function nr(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}function ir(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}function er(t,n){return void 0!==t.classList?t.classList.contains(n):void 0!==t.className&&-1!==(" "+nr(t)+" ").indexOf(" "+n+" ")}function rr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=nr(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&ir(t,(i+" "+n).trim())}}function sr(t,n){if(void 0!==t.classList)t.classList.remove(n);else if(void 0!==t.className){for(var i=" "+nr(t)+" ",e=" "+n+" ";-1!==i.indexOf(e);)i=i.replace(e," ");ir(t,i.trim())}}function ur(t,n,i){void 0===i&&(i=!er(t,n)),i?rr(t,n):sr(t,n)}function or(t,n){M.pn&&M.An<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function ar(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function hr(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function cr(t){t.removeAttribute("title")}function fr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function lr(t){t.src&&(t.removeAttribute("src"),t.load())}function vr(){return void 0!==s?s.createElement("video"):void 0}function dr(){return Qe||(Qe=vr()),Qe}var wr=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),gr=dr(),mr=!(!gr||!gr.webkitShowPlaybackTargetPicker),yr=function(){function t(){this.Ce=void 0,this.Pe=!1,this.Wt=wr,this.fn=!1,this.Be=!0,this.Oe=!0}var n=t.prototype;return n.xe=function(){return 0},n.Le=function(t,n){return!0},n.Me=function(t){return t>=1/6*2},T(t,[{key:"Ue",get:function(){return void 0===this.Ce&&(this.Ce=this.xe()),this.Ce}},{key:"Xe",get:function(){return r.devicePixelRatio||1}},{key:"Fe",get:function(){return mr}},{key:"He",get:function(){return!1}},{key:"ze",get:function(){return!0}},{key:"Ve",get:function(){return M.Cn||M.un}},{key:"We",get:function(){return!0}},{key:"Ge",get:function(){return!0}},{key:"qe",get:function(){return!1}},{key:"Ye",get:function(){}},{key:"je",get:function(){return!0}},{key:"Qe",get:function(){return!1}}]),t}(),pr=function(){var t=vr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}(),_r=function(){if(M.$t)return!1;var t=vr();if(!t)return!1;var n=t.volume;return t.volume=n/2+.1,n!==t.volume}();var br=function(t){function n(n){var i;return(i=t.call(this)||this).Ze=void 0,i.Ze=n,i.Ze&&(i.Pe=i.Ze.Pe,i.Wt=i.Ze.Wt,i.Be=pr&&i.Ze.Be),i}E(n,t);var i=n.prototype;return i.xe=function(){return this.Ze?this.Ze.Ue:t.prototype.xe.call(this)},i.Le=function(n,i){return this.Ze?this.Ze.Le(n,i):t.prototype.Le.call(this,n,i)},i.Me=function(n){return this.Ze?this.Ze.Me(n):t.prototype.Me.call(this,n)},T(n,[{key:"Ye",get:function(){var t;return null==(t=this.Ze)?void 0:t.Ye}},{key:"je",get:function(){var t,n;return null==(t=null==(n=this.Ze)?void 0:n.je)||t}}]),n}(yr),kr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Pe=!0,i.fn=!0,i}return E(n,t),T(n,[{key:"qe",get:function(){return M.un}}]),n}(br),Ar=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.xe=function(){return de.MediaSource?t.prototype.xe.call(this):1},T(n,[{key:"qe",get:function(){return!0}}]),n}(kr),Tr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Le=function(n,i){return t.prototype.Le.call(this,n,i)},T(n,[{key:"He",get:function(){return M.An<3}},{key:"ze",get:function(){return M.An>=3}},{key:"Qe",get:function(){return M.An<3}}]),n}(br),Sr=function(t){function n(){return t.call(this)||this}return E(n,t),n}(yr),Er=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Le=function(t,n){if(t&&t.Ke&&n&&n.Ke){var i=Ir(t.Ke,"mp4a.40.2")&&Ir(n.Ke,"mp4a.40.5"),e=Ir(t.Ke,"mp4a.40.5")&&Ir(n.Ke,"mp4a.40.2"),r=Ir(t.Ke,"mp4a.40.2")&&Ir(n.Ke,"mp4a.40.34"),s=Ir(t.Ke,"mp4a.40.34")&&Ir(n.Ke,"mp4a.40.2"),u=Ir(t.Ke,"mp4a.40.5")&&Ir(n.Ke,"mp4a.40.34"),o=Ir(t.Ke,"mp4a.40.34")&&Ir(n.Ke,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},T(n,[{key:"Ye",get:function(){if(M.Gt)return 4096}}]),n}(Sr);function Ir(t,n){return t.indexOf(n)>-1}var Rr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Me=function(t){return t>=2},n}(Sr),Cr=function(t){function n(){var n;return(n=t.call(this)||this).Pe=M.Pn>=11,n.Be=M.Cn&&!(M.un&&M.Pn<10),n}return E(n,t),n}(Sr),Nr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"We",get:function(){return!1}}]),n}(br),Dr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"je",get:function(){return!M.qt||(M._n?92!==M.yn:M.wn>=100)}}]),n}(Sr),Pr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"qe",get:function(){return!0}}]),n}(br),xr=function(){function n(){var n;this.Je=void 0,this.$e=new en,this.ir=new Br,this.er=(n=function(){if(M.Nn)return new Er;if(M.Sn||M.En)return new Rr;if(M.Cn)return new Cr;if(M.dn)return new Dr;return new Sr}(),M.un?new Ar(n):M.fn?new kr(n):M.pn?new Tr(n):M.Tn?new Nr(n):M.Gt?new Pr(n):new br(n)),this.rr=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.Je=function(){return t.performance.now()}:this.Je=Vt}var i=n.prototype;return i.dr=function(){ot.apply(void 0,arguments)},i.wr=function(){at.apply(void 0,arguments)},i._r=function(){ht.apply(void 0,arguments)},i.gr=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ct.apply(void 0,[t].concat(i))},i.Yn=function(t,n){return a(t,n)},i.yr=function(t,n){return c(t,n)},i.qn=function(t){h(t)},i.pr=function(t){f(t)},i.ei=function(t){return this.$e.ei(t)},i.Ar=function(){return this.Tr.Ar()},i.Sr=function(){return this.Tr.Sr()},i.Er=function(){return this.Tr.Er()},i.Ir=function(){return this.Tr.Ir()},i.Rr=function(){return this.Tr.Rr()},i.Nr=function(t,n){return this.Tr.Nr(t,n)},i.Dr=function(t){return this.Tr.Dr(t)},i.Cr=function(t,n){var i;return void 0===n&&(n=ye(de)),i="object"!=typeof n||n instanceof me?n:n.href,new me(t,i)},i.Pr=function(n,i){if(void 0===i&&(i=ye(de)),this.rr){var e=q(i)?i:i.toString();return new t.URL(n,e).href}return this.Cr(n,i).href},T(n,[{key:"Br",get:function(){return this.ir}},{key:"Or",get:function(){return this.er}},{key:"xr",get:function(){return{Lr:o&&o.userAgent.match(/Android /i)?"Android":"other",Mr:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Ur",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Xr",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Br=function(){function t(){}return T(t,[{key:"Fr",get:function(){return o.oscpu}},{key:"Or",get:function(){return o.platform}},{key:"Hr",get:function(){return o.vendor}},{key:"zr",get:function(){return o.vendorSub}}]),t}();var Or="undefined"!=typeof globalThis?globalThis:void 0!==r?r:"undefined"!=typeof global?global:void 0!==t?t:{};function Lr(t){return t&&t.__esModule&&w.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mr={exports:{}};!function(t){var n,i=w.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,n,i,e){var r=n&&n.prototype instanceof y?n:y,s=w.create(r.prototype),u=new D(e||[]);return s.Vr=function(t,n,i){var e=c;return function(r,s){if(e===d)throw new l("Generator is already running");if(e===g){if("throw"===r)throw s;return x()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=R(u,i);if(o){if(o===m)continue;return o}}if("next"===i.method)i.sent=i.Wr=i.arg;else if("throw"===i.method){if(e===c)throw e=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=d;var a=h(t,n,i);if("normal"===a.type){if(e=i.done?g:f,a.arg===m)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(e=g,i.method="throw",i.arg=a.arg)}}}(t,i,u),s}function h(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var c="suspendedStart",f="suspendedYield",d="executing",g="completed",m={};function y(){}function _(){}function b(){}var k={};k[s]=function(){return this};var A=w.getPrototypeOf,T=A&&A(A(P([])));T&&T!==i&&e.call(T,s)&&(k=T);var S=b.prototype=y.prototype=w.create(k);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Vr(n,t)}})}function I(t){var n;this.Vr=function(i,r){function s(){return new We(function(n,s){!function n(i,r,s,u){var o=h(t[i],t,r);if("throw"!==o.type){var a=o.arg,c=a.value;return c&&"object"==typeof c&&e.call(c,"Gr")?We.resolve(c.Gr).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):We.resolve(c).then(function(t){a.value=t,s(a)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function R(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,R(t,i),"throw"===i.method))return m;i.method="throw",i.arg=new v("The iterator does not provide a 'throw' method")}return m}var r=h(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,m;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,m):s:(i.method="throw",i.arg=new v("iterator result is not an object"),i.delegate=null,m)}function C(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function N(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!p(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:x}}function x(){return{value:n,done:!0}}_.prototype=S.constructor=b,b.constructor=_,b[o]=_.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===_||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return w.setPrototypeOf?w.setPrototypeOf(t,b):(t.__proto__=b,o in t||(t[o]="GeneratorFunction")),t.prototype=w.create(S),t},t.awrap=function(t){return{Gr:t}},E(I.prototype),I.prototype[u]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var s=new I(a(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=P,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Wr=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!p(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var a=e.call(u,"catchLoc"),h=e.call(u,"finallyLoc");if(a&&h){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!h)throw new l("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),m},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),N(i),m}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;N(i)}return r}}throw new l("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:P(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),m}}}(Mr.exports);var jr=Mr.exports;function Fr(){return(Fr=w.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)w.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function Ur(){var t=w.create(null);return t.__=void 0,delete t.__,t}function Hr(){return new Gr}function Xr(){return new Qr}function zr(t){var n=Hr();for(var i in t)j.call(t,i)&&n.set(i,t[i]);return n}function Vr(t){var n=[];return t.forEach(function(t){return n.push(t)}),n}var Wr,qr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Gr=qr||(Wr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=w.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Ur(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Ur(),this.size=0},n.keys=function(){return new Wr(this.data,function(t,n){return n})},n.values=function(){return new Wr(this.data,function(t,n){return t[n]})},n.entries=function(){return new Wr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var $r,Yr,Qr=qr||($r=function(){function t(t,n){this.Yr=void 0,this.jr=void 0,this.Yr=t,this.jr=n}var n=t.prototype;return n.next=function(){var t=this.Yr.next();return t.done?t:{value:this.jr(t.value),done:!1}},t}(),function(){function t(){this.Qr=Hr()}var n=t.prototype;return n.get=function(t){return this.Qr.get(""+t)},n.set=function(t,n){return this.Qr.set(""+t,n),this},n.has=function(t){return this.Qr.has(""+t)},n.delete=function(t){return this.Qr.delete(""+t)},n.clear=function(){this.Qr.clear()},n.keys=function(){return new $r(this.Qr.keys(),function(t){return Number(t)})},n.values=function(){return this.Qr.values()},n.entries=function(){return new $r(this.Qr.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Qr.forEach(function(n,i){t(n,Number(i))})},T(t,[{key:"size",get:function(){return this.Qr.size}}]),t}());!function(t){t.Zr="9a04f079-9840-4286-ab92-e65be0885f95",t.Kr="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.Jr="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.$r="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Yr||(Yr={}));var Zr,Kr="urn:mpeg:dash:mp4protection:2011",Jr="cenc",ts="sinf",ns="skd",is=Yr.Zr,es="urn:uuid:"+is,rs="com.microsoft.playready",ss=Yr.Kr,us="urn:uuid:"+ss,os=Yr.Jr,as="urn:uuid:"+os,hs=Yr.$r,cs="urn:uuid:"+hs,fs="com.apple.fps.1_0",ls="com.apple.streamingkeydelivery";!function(t){t.Zr="playready",t.Kr="widevine",t.$r="fairplay",t.Jr="clearkey",t.rs="aes128"}(Zr||(Zr={}));var vs={us:Zr.Zr,hs:rs,fs:"cenc",vs:is,ls:es,ds:"PlayReady"},ds={us:Zr.Kr,hs:"com.widevine.alpha",fs:"cenc",vs:ss,ls:us,ds:"Widevine"},ws={us:Zr.$r,hs:fs,fs:"skd",vs:hs,ls:cs,ds:"FairPlay"},gs={us:Zr.$r,hs:"com.apple.fps",fs:"sinf",vs:hs,ls:cs,ds:"FairPlay"},ms={us:Zr.Jr,hs:"org.w3.clearkey",fs:"cenc",vs:os,ls:as,ds:"ClearKey"},ys=[vs,ds,ws,ms];function ps(t){return ys.filter(function(n){return n.ls===t.toLowerCase()})}function _s(t,n,i){return t.split(n).join(i)}function bs(t,n){return null!=t&&-1!==t.indexOf(n)}function ks(t,n){return null!=t&&t.substr(0,n.length)===n}function As(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function Ts(t,n){return t.toUpperCase()===n.toUpperCase()}function Ss(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function Es(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=Ss(e,r/e.length)),e.slice(0,r)+t)}function Is(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Cs(n)}var Rs=16384;function Cs(t){var n=t.length;if(n<=Rs)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Rs)i.push(String.fromCharCode.apply(String,t.slice(e,e+Rs)));return i.join("")}var Ns=M.dn&&M.wn>=42||M.Nn&&M.Dn>=38||M.Sn||M.In||M.Bn&&M.On>=29;function Ds(t,n){return bs(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Fr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Fr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function Ps(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function xs(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Bs,Os=function(){function t(t){this._s=void 0,this.gs=Hr(),this.ys=void 0,this._s=t}var n=t.prototype;return n.Rr=function(){return this.Dr(ds)},n.Sr=function(){return this.Dr(ms)},n.Ir=function(){return this.Dr(vs)},n.Er=function(){return this.Dr(ws)},n.Dr=function(t){var n=t.ls,i=this.gs.get(n);if(i)return i;var e=this.Nr(t,'video/mp4; codecs="avc1.42000a"');return this.gs.set(n,e),e},n.Nr=function(t,n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,jr.awrap(this._s.As(t.hs,[Ds(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,jr.awrap(this._s.As(t.hs,[Ds(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],We)},n.Ar=function(){return this.ys||(this.ys=this.Ts()),this.ys},n.Ts=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==we.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Ns){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,jr.awrap(this.Sr());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,We)},t}();function Ls(t,n){return js(t.slice(),n)}function Ms(t,n){var i=js(t,n);return i!==t&&Fs(i,void 0,t.length,t),t}function js(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){Fs(i,n,s,r);var u=i;i=r,r=u}return i}function Fs(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(s=0;s<h;s+=f)for(r=(u=s+i)+i,u>h&&(u=h),r>h&&(r=h),o=s,a=u;;)if(o<u&&a<r)n&&n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<u)e[c++]=t[o++];else{if(!(a<r))break;e[c++]=t[a++]}}!function(t){t[t.Ss=0]="Ss",t[t.Es=1]="Es",t[t.Is=-1]="Is"}(Bs||(Bs={}));var Us=function(t,n){return(0|t)-(0|n)},Hs=function(t,n){return t===n?Bs.Ss:t<n?Bs.Is:t>n?Bs.Es:p(t)?p(n)?Bs.Ss:Bs.Es:Bs.Is};function Xs(t,n,i){return Ft(t,n,i)?Bs.Ss:Hs(t,n)}var zs=function(t,n){return function(t,n){if(t===n)return!0;var i=g.abs(t-n);return i<Mt||i<g.max(g.abs(t),g.abs(n))*Mt}(t,n)?Bs.Ss:Hs(t,n)};function Vs(t,n,i){var e=qs(t,n,i);return-1===e?void 0:t[e]}function Ws(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function qs(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function Gs(t,n){var i=t.indexOf(n);return-1!==i&&($s(t,i),!0)}function $s(t,n){t.splice(n,1)}function Ys(t,n){return-1!==t.indexOf(n)}function Qs(t,n){for(var i=0;i<n.length;i++){if(!Ys(t,n[i]))return!1}return!0}function Zs(t){t.length=0}function Ks(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function Js(t,n){return nu(t,function(t,i){return Hs(n(t),n(i))})}function tu(t,n){return function(t,n){return nu(t,function(t,i){return n(i,t)})}(t,function(t,i){return Hs(n(t),n(i))})}function nu(t,n){if(0!==t.length)return t.reduce(function(t,i){return n(t,i)<=0?t:i})}function iu(t,n){return We.all(t.map(n)).then(function(n){return t.filter(function(t,i){return n[i]})})}function eu(t,n){var i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.length)){r.next=10;break}return e=t[i],r.next=5,jr.awrap(n(e));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:i++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,null,We)}function ru(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var su=function(){function t(){this.Rs=!1,this.Ns=!1,this.Ds=[],this.Cs=[]}var n=t.prototype;return n.Ps=function(){if(!this.Rs&&!this.Ns){this.Rs=!0;for(var t=0,n=this.Ds.slice();t<n.length;t++){(0,n[t])()}this.Bs()}},n.Bs=function(){if(!this.Ns){this.Ns=!0;for(var t=0,n=this.Cs.slice();t<n.length;t++){(0,n[t])()}Zs(this.Ds),Zs(this.Cs)}},n.Os=function(t){this.Ns||this.Ds.push(t)},n.xs=function(t){this.Ns||Gs(this.Ds,t)},n.Ls=function(t){this.Ns||this.Cs.push(t)},n.Ms=function(t){this.Ns||Gs(this.Cs,t)},t}(),uu=function(){function t(){this.Us=new su}var n=t.prototype;return n.Xs=function(){this.Us.Ps()},n.Bs=function(){this.Us.Bs()},n.Fs=function(t){var n=this.Us;if(!n.Rs)if(t.Rs)n.Ps();else if(!n.Ns&&!t.Ns){var i=function(){e(),n.Ps()},e=function e(){t.xs(i),t.Ms(e),n.xs(i),n.Ms(e)};t.Os(i),t.Ls(e),n.Os(i),n.Ls(e)}},n.Hs=function(){var n=new t,i=new t,e=n.zs,r=i.zs,s=this.Us,u=function(){e.Rs&&r.Ns||r.Rs&&e.Ns?s.Ps():e.Ns&&r.Ns&&s.Bs()};e.Os(u),r.Os(u),e.Ls(u),r.Ls(u),n.Fs(s),i.Fs(s);return s.Ls(function(){e.xs(u),r.xs(u),e.Ms(u),r.Ms(u)}),[n,i]},T(t,[{key:"zs",get:function(){return this.Us}}]),t}(),ou=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return E(n,t),T(n,[{key:"name",get:function(){return"AbortError"}}]),n}(tn);function au(t){return t instanceof l&&"AbortError"===t.name}function hu(t){if(t&&t.Rs)throw new ou}function cu(t){if(au(t))throw t}function fu(t){if(!au(t))throw t}function lu(t,n){return n?new We(function(i,e){if(n.Rs)return t.catch(Z),e(new ou);var r=function t(){n.xs(t),e(new ou)};n.Os(r),t.then(function(t){n.xs(r),i(t)},function(t){n.xs(r),e(t)})}):t}function vu(t,n){return t.then(function(t){return n.Bs(),t},function(t){throw n.Bs(),t})}function du(t,n){var i=new uu;return n&&i.Fs(n),t(i.zs).then(function(t){return i.Xs(),t},function(t){throw i.Xs(),t})}var wu=We.resolve();function gu(t){wu.then(t)}function mu(t){t.then(Z,Z)}function yu(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,jr.awrap(We.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,jr.awrap(We.all(t.map(function(t){return t.catch(Z)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],We)}function pu(t,n){return new We(function(e,r){if(void 0!==n&&n.Rs)r(new ou);else{var s=i.Yn(function(){void 0!==n&&n.xs(u),e()},t),u=function(){i.qn(s),r(new ou)};void 0!==n&&n.Os(u)}})}function _u(t){return t&&"function"!=typeof t?t.slice():t}function bu(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var ku,Au=function(){function t(t){var n=this;this.Vs=Ur(),this.Ws=void 0,this.Gs=void 0,this.qs=function(t){n.Ys(t)},this.Gs=t||this}var n=t.prototype;return n.js=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Qs(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Qs(e,n)}},n.Qs=function(t,n){var i=this.Vs[t];i?"function"==typeof i?this.Vs[t]=[i,n]:i.push(n):this.Vs[t]=n},n.Zs=function(t){if("function"==typeof t){var n=this.Ws;n?"function"==typeof n?this.Ws=[n,t]:n.push(t):this.Ws=t}},n.Ks=function(){this.Vs=Ur(),this.Ws=void 0},n.Ys=function(t){var n=_u(this.Vs[t.type]),i=_u(this.Ws);bu(this.Gs,t,n),bu(this.Gs,t,i)},n.Js=function(t,n){if("function"==typeof n)if("string"==typeof t)this.$s(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.$s(e,n)}},n.$s=function(t,n){var i=this.Vs[t];i&&("function"==typeof i?i===n&&(this.Vs[t]=void 0):Gs(i,n))},n.tu=function(t){if("string"==typeof t)this.Vs[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Vs[i]=void 0}},n.nu=function(t){var n=this.Ws;n&&("function"==typeof n?n===t&&(this.Ws=void 0):Gs(n,t))},n.uu=function(t,n){var i=this;return new We(function(e,r){if(n&&n.Rs)return r(new ou);var s=function(t){o(),e(t)},u=function(){o(),r(new ou)},o=function(){i.Js(t,s),n&&n.xs(u)};i.js(t,s),n&&n.Os(u)})},t}(),Tu=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Ys=function(n){var i=this;gu(function(){t.prototype.Ys.call(i,n)})},n}(Au),Su=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Eu=["cenc"],Iu=["cbcs","cbcs-1-9"],Ru=function(t){function n(n){var i;return(i=t.call(this,"au")||this).ou=n,i}return E(n,t),n}(Su),Cu=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"fu")||this).ou=n,s.vu=i,s.fu=e,s.du=r,s}return E(n,t),n}(Su),Nu=function(t){function n(){return t.call(this,"wu")||this}return E(n,t),n}(Su);!function(t){t._u="mu",t.yu="bu"}(ku||(ku={}));var Du=function(t){function n(n,i){var e;return(e=t.call(this,ku._u)||this).fs=n,e.pu=i,e}return E(n,t),n}(Su),Pu=function(t){function n(){return t.call(this,ku.yu)||this}return E(n,t),n}(Su),xu=new _([0]).buffer,Bu=function(){function t(){this.Au=void 0,this.Au=[]}var n=t.prototype;return n.Tu=function(t){for(var n=0,i=this.Au;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Su=function(t){for(var n=0,i=this.Au;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.Eu=function(t,n){this.Au.forEach(function(n){return t(n[1],n[0])},n)},n.Iu=function(t,n){this.Au.push([t,n])},n.Ru=function(){Zs(this.Au)},T(t,[{key:"Nu",get:function(){return this.Au.length}}]),t}(),Ou="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Lu=16383,Mu=/[\t\n\f\r ]/g;function ju(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Fu()}function Fu(){throw new l("Invalid base64 input")}function Uu(t){var n=t;Mu.test(n)&&(n=n.replace(Mu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Fu();for(var r,s=0===e?0:4-e,u=new _(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,a=0,h=0;a<o;a+=4)r=ju(n.charCodeAt(a))<<18|ju(n.charCodeAt(a+1))<<12|ju(n.charCodeAt(a+2))<<6|ju(n.charCodeAt(a+3)),u[h++]=r>>16&255,u[h++]=r>>8&255,u[h++]=255&r;return 2===s?(r=ju(n.charCodeAt(a))<<2|ju(n.charCodeAt(a+1))>>4,u[h++]=255&r):1===s&&(r=ju(n.charCodeAt(a))<<10|ju(n.charCodeAt(a+1))<<4|ju(n.charCodeAt(a+2))>>2,u[h++]=r>>8&255,u[h++]=255&r),u}function Hu(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],Ou[e>>2]+Ou[(3&e)<<4|r>>4]+Ou[(15&r)<<2|s>>6]+Ou[63&s]));return u.join("")}function Xu(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=Lu)e.push(Hu(t,s,g.min(r,s+Lu)));if(1===i){var u=t[n-1];e.push(Ou[u>>2]+Ou[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];e.push(Ou[o>>2]+Ou[(3&o)<<4|a>>4]+Ou[(15&a)<<2]+"=")}return e.join("")}var zu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Vu=ArrayBuffer.isView||function(t){return t&&Ys(zu,F.call(t))};function Wu(t,n){return t===n||t.byteLength===n.byteLength&&qu(new _(t),new _(n))}function qu(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function Gu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return $u(t,n)}function $u(t,n){for(var i=new _(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function Yu(t){return Uu(t).buffer}function Qu(t){return Xu(new _(t))}function Zu(t){return Xu(Oo(t))}function Ku(t,n){var i=n.Du,e=t.getUint8(i>>3),r=1<<7-(7&i);return n.Cu(1),(e&r)===r?1:0}function Ju(t,n,i){for(var e=0,r=0;r<i;r++)e=2*e+Ku(t,n);return e}var to=function(){function t(t){void 0===t&&(t=0),this.Pu=t}var n=t.prototype;return n.Cu=function(t){this.Pu+=t},n.Bu=function(t){this.Pu=t},n.Ou=function(){return new t(this.Du)},T(t,[{key:"Du",get:function(){return this.Pu}}]),t}();function no(t){if(t>=55296&&t<=57343)throw new l("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function io(t,n){return t>>n&63|128}function eo(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(no(t),n.push(t>>12&15|224),n.push(io(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(io(t,12)),n.push(io(t,6))),n.push(63&t|128)):n.push(t)}function ro(t,n){if(n.Du>=t.length)throw new l("Invalid byte index");var i=255&t[n.Du];if(n.Cu(1),128==(192&i))return 63&i;throw new l("Invalid continuation byte")}function so(t,n){var i=n.Du;if(i>t.length)throw new l("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Cu(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|ro(t,n);if(r>=128)return r;throw new l("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|ro(t,n)<<6|ro(t,n);if(s>=2048)return no(s),s;throw new l("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|ro(t,n)<<12|ro(t,n)<<6|ro(t,n);if(u>=65536&&u<=1114111)return u}throw new l("Invalid UTF-8 detected")}var uo=65279;var oo=[128,64,32,16,8,4,2,1],ao=function(){function t(t){this.xu=t}return t.prototype.Lu=function(t){return ho(this.xu,t)},t}();function ho(t,n){return(t&n)===n}function co(t,n){return ho(t,oo[n])}function fo(t,n){var i=t.getUint8(n.Du);return n.Cu(1),i}function lo(t,n,i){t.setUint8(n.Du,i),n.Cu(1)}function vo(t,n,i){var e=zo(qo(t),n.Du,n.Du+i);return n.Cu(e.byteLength),e}function wo(t,n,i){qo(t).set(qo(i),n.Du),n.Cu(i.byteLength)}function go(t,n,i){return n.Du+i<=t.byteLength}function mo(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=fo(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+fo(t,n);return e}(t,n,i)}function yo(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Du,i);return n.Cu(2),e}function po(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Du,i,e),n.Cu(2)}function _o(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Du,i);return n.Cu(4),e}function bo(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Du,i,e),n.Cu(4)}function ko(t,n,i){void 0===i&&(i=!1);var e=_o(t,n,i),r=_o(t,n,i),s=i?r:e,u=i?e:r;return lt.fromBits(u,s,!0)}function Ao(t,n){var i=fo(t,n);if(i)return String.fromCharCode(i)}function To(t,n){return Io(t,n)}function So(t,n,i){for(var e="",r=0;r<i;r++)e+=Ao(t,n);return e}function Eo(t,n){var i,e=fo(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&fo(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&fo(t,n))+(63&fo(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&fo(t,n))+64*(63&fo(t,n))+(63&fo(t,n))),i}function Io(t,n){return Ro(t,n,!0)}function Ro(t,n,i){for(var e=[];n.Du<t.byteLength;){var r=fo(t,n);if(i&&!r)break;e.push(r)}return Cs(e)}function Co(t,n){if(n.Du+2<=t.byteLength){var i=t.getUint8(n.Du),e=t.getUint8(n.Du+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function No(t,n){var i=Co(t,n);return void 0!==i&&n.Cu(2),Do(t,n,!0===i)}function Do(t,n,i){return void 0===i&&(i=!1),Po(t,n,i,!0)}function Po(t,n,i,e){for(var r=[];n.Du+2<=t.byteLength;){var s=yo(t,n,i);if(e&&!s)break;r.push(s)}return Cs(r)}function xo(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){po(t,n,i.charCodeAt(s),e)}}function Bo(t){return Ro(Wo(t),new Ko,!1)}function Oo(t){var n=new _(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)lo(t,n,i.charCodeAt(r))}(Wo(n),new Ko,t),n}function Lo(t,n){return void 0===n&&(n=!1),Po(Wo(t),new Ko,n,!1)}function Mo(t,n){void 0===n&&(n=!1);var i=new _(2*t.length);return xo(Wo(i),new Ko,t,n),i}function jo(t,n){return n.Du+3<=t.byteLength&&(239===t.getUint8(n.Du)&&187===t.getUint8(n.Du+1)&&191===t.getUint8(n.Du+2))}function Fo(t,n){return function(t,n,i){var e=[];jo(t,n)&&n.Cu(3);for(;n.Du<t.byteLength;){var r=Eo(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Is(e)}(t,n,!0)}function Uo(t){return Is(function(t,n){var i,e=[],r=new Ko;if(!n){if(!1===(i=so(t,r)))return e;i===uo||e.push(i)}for(;!1!==(i=so(t,r));)e.push(i);return e}(qo(t)))}function Ho(t){return new _(function(t){for(var n=[],i=0;i<t.length;i++)eo(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Xo(t,n){if(jo(t,n))return Fo(t,n);if(void 0!==Co(t,n))return No(t,n);if(n.Du+4<=t.byteLength){if(0===t.getUint8(n.Du)&&0===t.getUint8(n.Du+2))return Do(t,n,!1);if(0===t.getUint8(n.Du+1)&&0===t.getUint8(n.Du+3))return Do(t,n,!0)}return Fo(t,n)}function zo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new _(t.buffer,t.byteOffset+n,i-n)}function Vo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Wo(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function qo(t){return new _(t.buffer,t.byteOffset,t.byteLength)}function Go(t){return t instanceof ArrayBuffer||Vu(t)}function $o(t){return t instanceof ArrayBuffer?new _(t):qo(t)}function Yo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Qo(zo(t,n,i))}function Qo(t){if(t.slice)return t.slice(0);var n=new _(t.byteLength);return n.set(t,0),n}function Zo(t){return[].slice.call(t)}var Ko=function(){function t(t){void 0===t&&(t=0),this.Pu=t}var n=t.prototype;return n.Cu=function(t){this.Pu+=t},n.Bu=function(t){this.Pu=t},n.Ou=function(){return new t(this.Du)},n.Mu=function(){return new to(this.Du<<3)},T(t,[{key:"Du",get:function(){return this.Pu}}]),t}();function Jo(t){var n=t.toLowerCase(),i=0,e=0;ks(n,"0x")&&(n=n.substring(2));var r=new _(g.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=m(n[0],16));i<n.length;i+=2)r[e++]=m(n.substr(i,2),16);return r}var ta=function(){function t(){var t=this;this.Uu=void 0,this.Xu=void 0,this.Fu=void 0,this.Uu=new We(function(n,i){t.Xu=n,t.Fu=i})}var n=t.prototype;return n.Hu=function(t){this.Xu&&(this.Xu(t),this.Bs())},n.Vu=function(t){this.Fu&&(this.Fu(t),this.Bs())},n.Xs=function(){this.Uu.catch(Z),this.Vu(new ou)},n.Bs=function(){this.Xu=void 0,this.Fu=void 0},t}();function na(){return new _([8,4]).buffer}function ia(t){return Wu(t,na())}function ea(t,n){return t===rs?function(t){if(t.byteLength<2*ra.length)return t;if(Lo(new DataView(t,0,2*ra.length),!0)===ra)return t;return n=t,Mo('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Qu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var ra="<PlayReady";var sa=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).Wu=void 0,s.Gu=void 0,s.Wu=i,s.Gu=e,s}return E(n,t),n}(tn),ua=function(t,n){return(ua=w.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)w.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function oa(t,n){if("function"!=typeof n&&null!==n)throw new v("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}ua(t,n),t.prototype=null===n?w.create(n):(i.prototype=n.prototype,new i)}function aa(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function ha(t,n,i){return g.min(g.max(t,n),i)}function ca(t,n){return t>>8-n}function fa(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.Yu=t,this.ju=n}t.prototype.get=function(t){var n=this.Yu.get(t);if(0===this.ju||void 0===n)return n;var i=this.Yu.get(t+1)||0,e=n&(1<<8-this.ju)-1,r=i>>8-this.ju;return(e<<this.ju)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Yu.get(g.floor((t+this.ju)/8));if(void 0!==n)return(n&1<<7-this.ju-t%8)>0?1:0}},w.defineProperty(t.prototype,"bitLength",{get:function(){return this.Yu.bitLength-this.ju},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"length",{get:function(){return this.Yu.length},enumerable:!1,configurable:!0})}();var la=function(){function t(t){this.Qu=t,this.Zu=0,this.Ku=0}return w.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Zu+this.Ku},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"done",{get:function(){return this.Zu===this.Qu.length&&0===this.Ku},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Zu,bit:this.Ku}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Qu);return n.seek(this.Zu,this.Ku),n},t.prototype.canReadBits=function(t){return 8*this.Zu+t+this.Ku<=8*this.Qu.length},t.prototype.canReadBytes=function(t){return 0===this.Ku?this.Zu+t<=this.Qu.length:this.Zu+t<this.Qu.length},t.prototype.incBit=function(){this.Ku++,this.Ku>7&&(this.Zu++,this.Ku=0)},t.prototype.seek=function(t,n){this.Zu=t,this.Ku=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new l("Cannot read past end of buffer.");return this.Qu.get(this.Zu)>>7-this.Ku&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new l("Cannot read past end of buffer.");if(0===this.Ku)return this.Qu.get(this.Zu++);var t=fa(this.Qu.get(this.Zu),8-this.Ku),n=ca(this.Qu.get(this.Zu+1),this.Ku);return this.Zu++,t<<this.Ku|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new l("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new l("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new l("Cannot read past end of buffer.");var n=0;if(0===this.Ku&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new l("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new l("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-g.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new l("Skipping over the buffer edge is not allowed.");var n=this.Ku+t;this.Zu+=n>>3,this.Ku=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new l("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),va=function(t,n){return t===n?0:t<n?-1:t>n?1:p(t)?p(n)?0:1:-1},da=function(){function t(){this.Ju=[],this.$u=[],this.Ae=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new l("The buffer length must be positive.");if(0!==i){if(0===this.$u.length)this.$u.push(0);else{var e=this.$u[this.$u.length-1]+this.Ju[this.Ju.length-1].length;this.$u.push(e)}this.Ju.push(t.subarray(n,n+i)),this.Ae+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this.Ju;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.Ju=[],this.$u=[],this.Ae=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.$u[n];return this.Ju[n][i]}},w.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.Ju.length<1)return-1;if(this.Ju.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.Ju[0];return"number"==typeof t?aa(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=aa(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,a=1;u<o&&t[u]===n[a];u++,a++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=g.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.$u,t,va)},t.prototype.join=function(){if(1===this.Ju.length)return this.Ju[0];var t=new _(this.length);return this.copyInternal(t,0),t},w.defineProperty(t.prototype,"length",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new l("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new l("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*g.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=ha(n,0,this.length),r=ha(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this.Ju[u],a=e,h=a-this.$u[u];a+o.length-h<r;)s.pushRange(o,h,o.length-h),u+=1,h=(a+=o.length-h)-this.$u[u],o=this.Ju[u];var c=r-a;return s.pushRange(o,h,c),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.Ju.length-1,e=this.Ju[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.Ju[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),wa=function(){function t(n){this.uo=n||t.BUFFER_CHUNK_SIZE,this.oo=!1,this.ao=new da,this.Qu=new _(this.uo),this.do=0,this._o=0,this.Ku=7}return t.prototype.closeByte=function(){this.Qu[this.do++]=this._o,this.do>=this.uo&&this.closeBuffer(),this._o=0,this.Ku=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.do&&(this.ao.pushRange(this.Qu,0,this.do),t&&(this.Qu=new _(this.uo)),this.do=0)},w.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Ku},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.oo)throw new l("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.oo=!0,this.ao},t.prototype.writeBit=function(t){if(this.oo)throw new l("Cannot write to a closed BitWriter.");this._o|=t<<this.Ku,0===this.Ku?this.closeByte():this.Ku--},t.prototype.writeByte=function(t){if(this.oo)throw new l("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this._o=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Ku;this._o|=ca(t,n+1),this.closeByte(),this._o=fa(t,8-n)<<n+1,this.Ku=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.oo)throw new l("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.do+t.length<=this.uo?(this.Qu.set(t,this.do),this.do+=t.length,this.do===this.uo&&this.closeBuffer()):(this.closeBuffer(),this.ao.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Ku;this._o|=ca(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=fa(t[i-1],8-n),r=ca(t[i],n+1);this._o=e<<n+1|r,this.closeByte()}this._o=fa(t[t.length-1],8-n)<<n+1,this.Ku=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new l("Received a negative number.");if(n>32)throw new l("The max bitlength that can be provided is 32.");if(t>=g.pow(2,n))throw new l("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new l("The max bitlength that can be provided is 32.");if(g.abs(t)>=g.pow(2,n-1))throw new l("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+g.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new l("Received a negative number.");for(var n=g.floor(g.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new _(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),ga=function(){function t(t){this.rb=new da,this.mo=t}return t.prototype.closeWriter=function(){void 0!==this.mo&&(this.rb=this.rb.concat(this.mo.close()),this.mo=void 0)},w.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.mo&&(this.mo=new wa),this.mo},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),ma=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new l("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(g.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new ga;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=g.pow(2,32),t}();function ya(t,n){return t instanceof lt?64===n:t<g.pow(2,n)}function pa(t,n){return g.round(t*g.pow(2,n))}function _a(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function ba(t,n){return t/g.pow(2,n)}var ka=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!ya(i,8))throw new l("the provided version cannot fit in 8 bits.");return r.flags=e,r}return oa(n,t),w.defineProperty(n.prototype,"flags",{get:function(){return this.po},set:function(t){this.po=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new l("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(ma),Aa=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return oa(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(da.from(this.data))},n}(ma),Ta=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();function Sa(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){var n=t.length;if(n<=Ea)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Ea)i.push(String.fromCharCode.apply(String,t.slice(e,e+Ea)));return i.join("")}(n)}var Ea=16384;var Ia=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function Ra(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function Ca(t,n,i){return n.offset+i<=t.byteLength}function Na(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function Da(t,n,i){void 0===i&&(i=!1);var e=Na(t,n,i),r=Na(t,n,i),s=i?r:e,u=i?e:r;return lt.fromBits(u,s,!0)}function Pa(t,n){var i=Ra(t,n);if(i)return String.fromCharCode(i)}function xa(t,n,i){for(var e="",r=0;r<i;r++)e+=Pa(t,n);return e}function Ba(t,n){var i,e=Ra(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&Ra(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&Ra(t,n))+(63&Ra(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&Ra(t,n))+64*(63&Ra(t,n))+(63&Ra(t,n))),i}function Oa(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Ba(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Sa(e)}(t,n,!0)}function La(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new _(t.buffer,t.byteOffset+n,i-n)}function Ma(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ja(t){return new _(t.buffer,t.byteOffset,t.byteLength)}var Fa=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new Ta(this.offset<<3)},t}(),Ua=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return Ra(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return Na(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=Na(t,n,i),r=Na(t,n,i),s=i?r:e,u=i?e:r;return lt.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return Da(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return function(t,n,i){var e=La(ja(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(Na(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return xa(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Oa(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Ha(t,n){return t.type===n}var Xa=8;function za(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=Va(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new l("Data incomplete");return n.boxes}function Va(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!Ca(t,n,Xa)){var e=n.offset+Xa;return{complete:!1,neededOffset:e}}var r=Na(t,n),s=xa(t,n,4);if(1===r){if(!Ca(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=Da(t,n).toNumber()}if("uuid"===s){if(!Ca(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=xa(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var a,h,c,f={type:r.type,offset:i,data:new Ua((a=t,h=i,c=u,void 0===h&&(h=0),void 0===c&&(c=a.byteLength),new DataView(a.buffer,a.byteOffset+h,c-h)),new Fa(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function Wa(t){return{version:t>>24,flags:new Ia(16777215&t)}}function qa(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function Ga(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function $a(t){var n=t.nextUint32Array(9);return{a:ba(n[0],16),b:ba(n[1],16),u:ba(n[2],30),c:ba(n[3],16),d:ba(n[4],16),v:ba(n[5],30),x:ba(n[6],16),y:ba(n[7],16),w:ba(n[8],30)}}function Ya(t){return new Aa(t.type,La(ja(t.data.data),t.data.cursor.offset))}var Qa=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return oa(n,t),w.defineProperty(n.prototype,"handlerType",{get:function(){return this.Ao},set:function(t){this.Ao=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(ka);function Za(t){var n=t.data,i=Wa(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new Qa(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}oa(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Qa);var Ka=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},w.defineProperty(t.prototype,"tag",{get:function(){return this.To},set:function(t){if(!ya(t,8))throw new l("Provided tag does not fit in 8 bits.");this.To=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=e,a.decoderSpecificInfo=u,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=r,a.maxBitrate=s.max,a.avgBitrate=s.avg,a}oa(n,t),w.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.So},set:function(t){if(!ya(t,8))throw new l("Provided objectTypeIndication does not fit in 8 bits.");this.So=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"streamType",{get:function(){return this.Eo},set:function(t){if(!ya(t,6))throw new l("Provided streamType does not fit in 6 bits.");this.Eo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Io},set:function(t){if(!ya(t,24))throw new l("Provided bufferSizeDb does not fit in 24 bits.");this.Io=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.Ro},set:function(t){if(!ya(t,32))throw new l("Provided maxBitrate does not fit in 32 bits.");this.Ro=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.No},set:function(t){if(!ya(t,32))throw new l("Provided avgBitrate does not fit in 32 bits.");this.No=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Ka),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}oa(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(da.from(this.data))}}(Ka);var Ja=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return oa(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Ka);!function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new Ja(r.fixed28BitMode),s}oa(n,t),w.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"esId",{get:function(){return this.Do},set:function(t){if(!ya(t,16))throw new l("Provided esId does not fit in 16 bits.");this.Do=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Co},set:function(t){if(!ya(t,5))throw new l("Provided streamPriority does not fit in 5 bits.");this.Co=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Po},set:function(t){if(t&&!ya(t,16))throw new l("Provided dependsOnEsId does not fit in 16 bits.");this.Po=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.Bo},set:function(t){if(t&&!ya(t,16))throw new l("Provided ocrEsId does not fit in 16 bits.");this.Bo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Ka);var th=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return oa(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(ma),nh=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return oa(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(th),ih=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return oa(n,t),w.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.Oo},set:function(t){if(!ya(t,16))throw new l("Provided dataReferenceIndex does not fit in 16 bits.");this.Oo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(nh),eh=function(t){function n(n,i,e,r){var s,u,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return oa(n,t),w.defineProperty(n.prototype,"channelCount",{get:function(){return this.xo},set:function(t){if(!ya(t,16))throw new l("Provided channelCount does not fit in 16 bits.");this.xo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleSize",{get:function(){return this.Lo},set:function(t){if(!ya(t,16))throw new l("Provided sampleSize does not fit in 16 bits.");this.Lo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleRate",{get:function(){return this.Mo},set:function(t){if(!ya(pa(t,16),32))throw new l("Provided rate does not fit in 32 bits (fixed 16.16).");this.Mo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(pa(this.sampleRate,16),32),this.extra&&_a(n.writer,this.extra)},n}(ih);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}oa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){if(!ya(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ya(t,32)}))throw new l("Not all entries can be represented in 32 bits.");this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(ka),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}oa(n,t),w.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Xo},set:function(t){if(!ya(t,32))throw new l("Provided cleanApertureWidthN does not fit in 32 bits.");this.Xo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.Fo},set:function(t){if(!ya(t,32))throw new l("Provided cleanApertureWidthD does not fit in 32 bits.");this.Fo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Ho},set:function(t){if(!ya(t,32))throw new l("Provided cleanApertureHeightN does not fit in 32 bits.");this.Ho=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.zo},set:function(t){if(!ya(t,32))throw new l("Provided cleanApertureHeightD does not fit in 32 bits.");this.zo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Vo},set:function(t){if(!ya(t,32))throw new l("Provided horizOffN does not fit in 32 bits.");this.Vo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Wo},set:function(t){if(!ya(t,32))throw new l("Provided horizOffD does not fit in 32 bits.");this.Wo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Go},set:function(t){if(!ya(t,32))throw new l("Provided vertOffN does not fit in 32 bits.");this.Go=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"vertOffD",{get:function(){return this.qo},set:function(t){if(!ya(t,32))throw new l("Provided vertOffD does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(ma),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}oa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){if(!ya(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ya(t.sampleCount,32)||!ya(t.sampleOffset,32)}))throw new l("Not all entries can be represented in 64 bits.");this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(ka),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}oa(n,t),w.defineProperty(n.prototype,"location",{get:function(){return this.Yo},set:function(t){this.flags=void 0===t?1:0,this.Yo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(ka),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}oa(n,t),w.defineProperty(n.prototype,"location",{get:function(){return this.Yo},set:function(t){if(1&this.flags)throw new l("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Yo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(ka),function(t){function n(){return t.call(this,"dinf")||this}oa(n,t)}(nh);var rh=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!ya(i,8))throw new l("the provided version cannot fit in 8 bits.");return r.flags=e,r}return oa(n,t),w.defineProperty(n.prototype,"flags",{get:function(){return this.po},set:function(t){this.po=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new l("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(th);!function(t){function n(){return t.call(this,"dref",0,0)||this}oa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(rh);var sh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return oa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!ya(e.segmentDuration,this.bitSize))throw new l("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!ya(e.mediaTime,this.bitSize))throw new l("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!ya(e.mediaRateInteger,16))throw new l("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!ya(e.mediaRateFraction,16))throw new l("Provided mediaRateFraction does not fit in 16 bits.")}this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(ka),uh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return oa(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(sh),oh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return oa(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(sh);function ah(t){for(var n=t.data,i=Wa(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var a=void 0,h=void 0;0===e?(a=n.nextUint32(),h=n.nextInt32()):(a=n.nextUint64(),h=n.nextInt64());var c=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:a,mediaTime:h,mediaRateFraction:f,mediaRateInteger:c})}return 0===e?new uh(u,r.raw):new oh(u,r.raw)}var hh=function(t){function n(){return t.call(this,"edts")||this}return oa(n,t),n}(nh);function ch(t){for(var n=new hh,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Ha(r,"elst")?n.boxes.push(ah(r)):n.boxes.push(Ya(r))}return n}var fh=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return oa(n,t),w.defineProperty(n.prototype,"majorBrand",{get:function(){return this.jo},set:function(t){if(4!==t.length)throw new l("the provided major brand does not conform to the 4 character requirement");this.jo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Qo},set:function(t){if(!ya(t,32))throw new l("the provided minor version does not fit in 32 bits.");this.Qo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Zo},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new l("Some of the compatible brands do not conform to the 4 character requirement");this.Zo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(ma),lh=function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}return oa(n,t),n}(fh);function vh(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new lh(i,e,r)}var dh=function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}return oa(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(da.from(this.data))},n}(ma),wh=function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return oa(n,t),w.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ko},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ko=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Jo},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Jo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"timescale",{get:function(){return this.$o},set:function(t){if(!ya(t,32))throw new l("Provided sequence number does not fit in 32 bits.");this.$o=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"duration",{get:function(){return this.ea},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"language",{get:function(){return this.ra},set:function(t){if(!ph(t))throw new l("Expected an ISO-639-2/T language code");this.ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(ka),gh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return oa(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(wh),mh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return oa(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(wh);function yh(t){var n=t.data,i=Wa(n.nextUint32()),e=i.version,r=i.flags,s=qa(n,e),u=new la(da.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(u.readUInt(5));var h=o.map(function(t){return String.fromCharCode(t+96)}).join("");return ph(h)||(h="und"),n.skip(2),0===e?new gh(s,h,r.raw):new mh(s,h,r.raw)}function ph(t){return/^[a-z]{3}$/.test(t)}var _h=function(t){function n(){return t.call(this,"mdia")||this}return oa(n,t),n}(nh);function bh(t){for(var n=new _h,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Ha(r,"mdhd")?n.boxes.push(yh(r)):Ha(r,"hdlr")?n.boxes.push(Za(r)):n.boxes.push(Ya(r))}return n}var kh,Ah=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new da,n}return oa(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(ma);function Th(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),e=new Ah;return e.data.pushRange(i),e}!function(t){function n(){return t.call(this,"minf")||this}oa(n,t)}(nh),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}oa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(rh),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(kh||(kh={}));var Sh,Eh,Ih={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Rh(t,n){n.writer.writeUInt(pa(t.a,16),32),n.writer.writeUInt(pa(t.b,16),32),n.writer.writeUInt(pa(0,30),32),n.writer.writeUInt(pa(t.c,16),32),n.writer.writeUInt(pa(t.d,16),32),n.writer.writeUInt(pa(0,30),32),n.writer.writeUInt(pa(t.x,16),32),n.writer.writeUInt(pa(t.y,16),32),n.writer.writeUInt(pa(1,30),32)}function Ch(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Sh.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Eh.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Eh.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:Eh.UNKNOWN,2)}function Nh(t,n){var i,e,r;n.writer.writeUInt(0,4),Ch(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Sh||(Sh={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Eh||(Eh={}));var Dh=function(){return function(){}}(),Ph=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return oa(n,t),w.defineProperty(n.prototype,"systemId",{get:function(){return this.ua},set:function(t){if(16!==t.length)throw new l("Provided systemId length is not 16.");this.ua=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"data",{get:function(){return this.Vi},set:function(t){if(!ya(t.length,32))throw new l("Provided data length does not fit in 32 bits.");this.Vi=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(da.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(da.from(this.data))},n}(ka),xh=function(t){function n(n,i){return t.call(this,0,n,i)||this}return oa(n,t),n}(Ph),Bh=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return oa(n,t),w.defineProperty(n.prototype,"kIds",{get:function(){return this.oa},set:function(t){if(!ya(t.length,32))throw new l("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new l("Not all provided key ids are 16 bytes long.");this.oa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(da.from(e))}},n}(Ph);function Oh(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),s=0;s<r;s++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new Bh(i,o,e):new xh(i,o)}var Lh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return oa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.va},set:function(t){if(!ya(t,this.bitSize))throw new l("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.va=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(ka),Mh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return oa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Lh),jh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return oa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Lh);function Fh(t){var n=t.data,i=Wa(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Mh(n.nextUint32(),r.raw):new jh(n.nextUint64(),r.raw)}var Uh=function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var s,u,o,a=this;return(a=t.call(this,"trex",e,r)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,a.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return oa(n,t),w.defineProperty(n.prototype,"trackId",{get:function(){return this._a},set:function(t){if(!ya(t,32))throw new l("Provided track id does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.ma},set:function(t){if(!ya(t,32))throw new l("Provided default sample description index does not fit in 32 bits.");this.ma=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.ya},set:function(t){if(!ya(t,32))throw new l("Provided default sample duration does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Aa},set:function(t){if(!ya(t,32))throw new l("Provided default sample size does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ta},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!ya(t.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ya(t.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");this.Ta=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Nh(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(ka);function Hh(t){var n=t.data,i=Wa(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),h=Ga(new la(da.from(n.nextUint8Array(4))));return new Uh(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:a,sampleFlags:h},e,r.raw)}var Xh=function(t){function n(){return t.call(this,"mvex")||this}return oa(n,t),n}(nh);function zh(t){for(var n=new Xh,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Ha(r,"mehd")?n.boxes.push(Fh(r)):Ha(r,"trex")?n.boxes.push(Hh(r)):n.boxes.push(Ya(r))}return n}var Vh=function(t){function n(i,e,r,s,u){void 0===u&&(u=0);var o,a,h,c=this;return(c=t.call(this,"mvhd",s,u)||this).creationTime=i.creation,c.modificationTime=i.modification,c.timescale=i.scale,c.duration=i.duration,c.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,c.volume=null!==(a=r.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,c.matrix=null!==(h=r.matrix)&&void 0!==h?h:Ih,c.Sa=e,c}return oa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ko},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ko=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Jo},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Jo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"timescale",{get:function(){return this.$o},set:function(t){if(!ya(t,32))throw new l("Provided sequence number does not fit in 32 bits.");this.$o=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"duration",{get:function(){return this.ea},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"rate",{get:function(){return this.Ea},set:function(t){if(!ya(pa(t,16),32))throw new l("Provided rate does not fit in 32 bits (fixed 16.16).");this.Ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"volume",{get:function(){return this.Ia},set:function(t){if(!ya(pa(t,8),16))throw new l("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ia=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"matrix",{get:function(){return this.Ra},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new l("(u, v, w) does not match the required (0, 0, 1)");this.Ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Sa},set:function(t){if(0===t)throw new l("NextTrackId cannot be 0.");if(!ya(t,32))throw new l("NextTrackId cannot exceed 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(pa(this.rate,16),32),n.writer.writeUInt(pa(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Rh(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(ka),Wh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return oa(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Vh),qh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return oa(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Vh);function Gh(t){var n=t.data,i=Wa(n.nextUint32()),e=i.version,r=i.flags,s=qa(n,e),u=ba(n.nextUint32(),16),o=ba(n.nextUint16(),8);n.skip(2),n.skip(8);var a=$a(n);n.skip(24);var h=n.nextUint32();return 0===e?new Wh(s,h,{rate:u,volume:o,matrix:a},r.raw):new qh(s,h,{rate:u,volume:o,matrix:a},r.raw)}var $h=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a,h,c,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(h=o.alternateGroup)&&void 0!==h?h:0,f.matrix=null!==(c=o.matrix)&&void 0!==c?c:Ih,f}return oa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ko},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ko=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Jo},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Jo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"trackId",{get:function(){return this._a},set:function(t){if(0===t)throw new l("trackId cannot be 0.");if(!ya(t,32))throw new l("trackId cannot exceed 32 bits.");this._a=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"duration",{get:function(){return this.ea},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"volume",{get:function(){return this.Ia},set:function(t){if(!ya(pa(t,8),16))throw new l("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ia=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"width",{get:function(){return this.Na},set:function(t){if(!ya(pa(t,16),32))throw new l("Provided width does not fit in 32 bits (fixed 16.16).");this.Na=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"height",{get:function(){return this.Da},set:function(t){if(!ya(pa(t,16),32))throw new l("Provided height does not fit in 32 bits (fixed 16.16).");this.Da=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"layer",{get:function(){return this.Ca},set:function(t){if(!ya(t,16))throw new l("Provided layer does not fit in 16 bits.");this.Ca=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Pa},set:function(t){if(!ya(t,16))throw new l("Provided alternateGroup does not fit in 16 bits.");this.Pa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"matrix",{get:function(){return this.Ra},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new l("(u, v, w) does not match the required (0, 0, 1)");this.Ra=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(pa(this.volume,8),16),n.writer.writeUInt(0,16),Rh(this.matrix,n),n.writer.writeUInt(pa(this.width,16),32),n.writer.writeUInt(pa(this.height,16),32)},n}(ka),Yh=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return oa(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}($h),Qh=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return oa(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}($h);function Zh(t){var n,i,e,r,s=t.data,u=Wa(s.nextUint32()),o=u.version,a=u.flags,h=a.isSet(8),c=a.isSet(4),f=a.isSet(2),l=a.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var v=s.nextInt16(),d=s.nextInt16(),w=ba(s.nextInt16(),8);s.skip(2);var g=$a(s),m=ba(s.nextUint32(),16),y=ba(s.nextUint32(),16);return 0===o?new Yh({creation:n,modification:i,duration:r},e,w,m,y,{layer:v,matrix:g,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:l,trackInPreview:c,trackInMovie:f}):new Qh({creation:n,modification:i,duration:r},e,w,m,y,{layer:v,matrix:g,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:l,trackInPreview:c,trackInMovie:f})}var Kh=function(t){function n(){return t.call(this,"trak")||this}return oa(n,t),n}(nh);function Jh(t){for(var n=new Kh,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Ha(r,"tkhd")?n.boxes.push(Zh(r)):Ha(r,"mdia")?n.boxes.push(bh(r)):Ha(r,"edts")?n.boxes.push(ch(r)):n.boxes.push(Ya(r))}return n}var tc=function(t){function n(){return t.call(this,"moov")||this}return oa(n,t),n}(nh);function nc(t){for(var n=new tc,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Ha(r,"mvhd")?n.boxes.push(Gh(r)):Ha(r,"trak")?n.boxes.push(Jh(r)):Ha(r,"mvex")?n.boxes.push(zh(r)):Ha(r,"pssh")?n.boxes.push(Oh(r)):n.boxes.push(Ya(r))}return n}var ic=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return oa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.Ba},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.Ba=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(ka),ec=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return oa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(ic),rc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return oa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(ic);function sc(t){var n=t.data,i=Wa(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new ec(n.nextUint32(),r.raw):new rc(n.nextUint64(),r.raw)}var uc=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return oa(n,t),w.defineProperty(n.prototype,"trackId",{get:function(){return this._a},set:function(t){if(!ya(t,32))throw new l("Provided track id does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Oa},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new l("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new l("The base data offset present flag is not set.");if(t&&!ya(t,64))throw new l("Provided baseDataOffset does not fit in 32 bits.");this.Oa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.xa},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new l("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new l("The sample description index flag is not set.");if(t&&!ya(t,32))throw new l("Provided sampleDescriptionIndex does not fit in 32 bits.");this.xa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.ya},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new l("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new l("The default sample duration present flag is not set.");if(t&&!ya(t,32))throw new l("Provided defaultSampleDuration does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Aa},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new l("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new l("The default sample size present flag is not set.");if(t&&!ya(t,32))throw new l("Provided defaultSampleSize does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ta},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new l("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new l("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!ya(t.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ya(t.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");this.Ta=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Nh(this.defaultSampleFlags,n)},n}(ka);function oc(t){var n=t.data,i=n.nextUint8(),e=new la(da.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=Boolean(e.readBit()),f=n.nextUint32(),l=c?n.nextUint64():void 0,v=h?n.nextUint32():void 0,d=a?n.nextUint32():void 0,w=o?n.nextUint32():void 0,g=u?Ga(new la(da.from(n.nextUint8Array(4)))):void 0;return new uc({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:l,sampleDescriptionIndex:v,defaultSampleDuration:d,defaultSampleSize:w,defaultSampleFlags:g},i)}var ac=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return oa(n,t),w.defineProperty(n.prototype,"dataOffset",{get:function(){return this.La},set:function(t){if(t&&!ya(t,32))throw new l("Provided data offset does not fit in 32 bits.");this.La=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.Ma},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!ya(t.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ya(t.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");this.Ma=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"samples",{get:function(){return this.Ua},set:function(t){var n,i;if(!ya(t.length,32))throw new l("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new l("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new l("The sample duration present flag is not set.");if(s.duration&&!ya(s.duration,32))throw new l("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new l("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new l("The sample size present flag is not set.");if(s.size&&!ya(s.size,32))throw new l("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new l("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new l("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!ya(s.flags.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!ya(s.flags.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new l("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new l("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!ya(s.compositionTimeOffset,32))throw new l("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Ua=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Nh(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&Nh(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(ka);function hc(t){var n=t.data,i=n.nextUint8(),e=new la(da.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};h&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=Ga(new la(da.from(n.nextUint8Array(4)))));for(var l=[],v=0;v<c;v++){var d={};o&&(d.duration=n.nextUint32()),u&&(d.size=n.nextUint32()),s&&(d.flags=Ga(new la(da.from(n.nextUint8Array(4))))),r&&(d.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),l.push(d)}return new ac(i,f,l)}var cc=function(t){function n(){return t.call(this,"traf")||this}return oa(n,t),n}(nh);function fc(t){for(var n=new cc,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Ha(r,"tfhd")?n.boxes.push(oc(r)):Ha(r,"tfdt")?n.boxes.push(sc(r)):Ha(r,"trun")?n.boxes.push(hc(r)):n.boxes.push(Ya(r))}return n}var lc=function(t){function n(){return t.call(this,"moof")||this}return oa(n,t),n}(nh);function vc(t){for(var n=new lc,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Ha(r,"traf")?n.boxes.push(fc(r)):Ha(r,"pssh")?n.boxes.push(Oh(r)):n.boxes.push(Ya(r))}return n}!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}oa(n,t),w.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.Xa},set:function(t){if(!ya(t,32))throw new l("Provided sequence number does not fit in 32 bits.");this.Xa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(ka);var dc=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return oa(n,t),w.defineProperty(n.prototype,"codingName",{get:function(){return this.Fa},set:function(t){if(4!==t.length)throw new l("Provided coding name was not 4 characters long.");this.Fa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(ma);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}oa(n,t),w.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Ha},set:function(t){if(!ya(t,32))throw new l("Provided hSpacing does not fit in 32 bits.");this.Ha=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Va},set:function(t){if(!ya(t,32))throw new l("Provided vSpacing does not fit in 32 bits.");this.Va=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(ma),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}oa(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(nh),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new dc(n),r}oa(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(ma);var wc=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return oa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){var n=this;if(!ya(t.length,32))throw new l("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!ya(t,n.bitSize)}))throw new l("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Uo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Wa},set:function(t){if(void 0===t)this.flags=0;else{if(!ya(t.auxInfoType,32))throw new l("Provided auxInfoType does not fit in 32 bits.");if(!ya(t.auxInfoTypeParameter,32))throw new l("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Wa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(ka);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}oa(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(wc),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}oa(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(wc),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}oa(n,t),w.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.Ga},set:function(t){if(!ya(t,8))throw new l("Provided defaultSampleInfoSize does not fit in a single byte.");this.Ga=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.qa},set:function(t){if(!ya(t.length,32))throw new l("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!ya(t,8)}))throw new l("Not all provided sampleInfoSizes fit in a byte.");this.qa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Wa},set:function(t){if(void 0===t)this.flags=0;else{if(!ya(t.auxInfoType,32))throw new l("Provided auxInfoType does not fit in 32 bits.");if(!ya(t.auxInfoTypeParameter,32))throw new l("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Wa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0===this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0===this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new l("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(ka),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}oa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Ch(e[i],n)}}}(ka),function(t){function n(n){return t.call(this,"stsd",n,0)||this}oa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(rh);var gc=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return oa(n,t),w.defineProperty(n.prototype,"groupingType",{get:function(){return this.Ya},set:function(t){if(4!==t.length)throw new l("The provided groupingType does not equal 4 characters.");this.Ya=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(ka);!function(t){function n(n,i){return t.call(this,0,n,i)||this}oa(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(gc),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}oa(n,t),w.defineProperty(n.prototype,"defaultLength",{get:function(){return this.Qa},set:function(t){if(!ya(t,32))throw new l("The provided defaultLength does not fit in 32 bits.");this.Qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(gc),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new l("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}oa(n,t),w.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.ma},set:function(t){if(!ya(t,32))throw new l("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(gc),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}oa(n,t),w.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.Za},set:function(t){if(!ya(t.length,32))throw new l("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!ya(t,32)}))throw new l("Not all sampleSizes can be represented in 32 bits.");this.Za=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(ka),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}oa(n,t),w.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Aa},set:function(t){if(!ya(t,32))throw new l("Provided defaultSampleSize does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"samples",{get:function(){return this.Ua},set:function(t){if(!ya(t,32))throw new l("Number of allowed samples cannot fit in 32 bits.");this.Ua=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(ka),function(t){function n(){return t.call(this,"stbl")||this}oa(n,t)}(nh),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}oa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){if(!ya(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ya(t.firstChunk,32)||!ya(t.sampleDescriptionIndex,32)||!ya(t.samplesPerChunk,32)}))throw new l("Not all entries can be represented in 96 bits.");this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(ka),function(t){function n(){return t.call(this,"schi")||this}oa(n,t)}(nh),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}oa(n,t),w.defineProperty(n.prototype,"schemeType",{get:function(){return this.Ka},set:function(t){if(4!==t.length)throw new l("The provided schemeType does not have a length of 4.");this.Ka=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.Ja},set:function(t){if(!ya(t,32))throw new l("The provided schemeVersion does not fit in 23 bits.");this.Ja=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"schemeUri",{get:function(){return this.$a},set:function(t){if(t&&4!==t.length)throw new l("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.$a=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(ka);var mc=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=e,a.earliestPresentationTime=r,a.firstOffset=s,a.references=u,a}return oa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"referenceId",{get:function(){return this.tc},set:function(t){if(!ya(t,32))throw new l("Provided referenceId does not fit in 32 bits.");this.tc=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"timescale",{get:function(){return this.$o},set:function(t){if(!ya(t,32))throw new l("Provided timescale does not fit in 32 bits.");this.$o=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.nc},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.nc=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"firstOffset",{get:function(){return this.ic},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.ic=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"references",{get:function(){return this.ec},set:function(t){if(!ya(t.length,16))throw new l("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!ya(e.referencedSize,31))throw new l("Provided referenced size does not fit in 31 bits.");if(!ya(e.subsegmentDuration,32))throw new l("Provided subsegment duration does not fit in 31 bits.");if(!ya(e.sapType,3))throw new l("Provided SAP type does not fit in 3 bits.");if(!ya(e.sapDeltaTime,28))throw new l("Provided SAP delta time does not fit in 28 bits.")}this.ec=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(ka),yc=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return oa(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(mc),pc=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return oa(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(mc);var _c=function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}return oa(n,t),n}(fh);function bc(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new _c(i,e,r)}!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}oa(n,t),w.defineProperty(n.prototype,"balance",{get:function(){return this.rc},set:function(t){if(t<-1||t>1)throw new l("Provided balance does not fit in the allowed range [-1, 1].");if(!ya(pa(t,8),16))throw new l("Provided balance does not fit in 16 bits (fixed 8.8).");this.rc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(pa(this.balance,8),16),n.writer.writeUInt(0,16)}}(ka),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}oa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){if(!ya(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ya(t,32)}))throw new l("Not all entries can be represented in 32 bits.");this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(ka),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}oa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){if(!ya(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ya(t.sampleCount,32)||!ya(t.sampleDelta,32)}))throw new l("Not all entries can be represented in 64 bits.");this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(ka),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}oa(n,t),w.defineProperty(n.prototype,"trackId",{get:function(){return this._a},set:function(t){if(!ya(t,32))throw new l("The provided trackId does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(rh),function(t){function n(){return t.call(this,"udta")||this}oa(n,t)}(nh);var kc={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=kc);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}oa(n,t),w.defineProperty(n.prototype,"opColor",{get:function(){return this.uc},set:function(t){if(!ya(t.red,16)||!ya(t.green,16)||!ya(t.blue,16))throw new l("Not all colors could be represented in 16 bits.");this.uc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(ka);var Ac=function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u,o,a,h,c,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=r.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(h=r.frameCount)&&void 0!==h?h:1,f.depth=null!==(c=r.depth)&&void 0!==c?c:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=s,f}return oa(n,t),w.defineProperty(n.prototype,"width",{get:function(){return this.Na},set:function(t){if(!ya(t,16))throw new l("Provided width does not fit in 16 bits.");this.Na=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"height",{get:function(){return this.Da},set:function(t){if(!ya(t,16))throw new l("Provided height does not fit in 16 bits.");this.Da=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.ac},set:function(t){if(!ya(pa(t,16),32))throw new l("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.ac=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.cc},set:function(t){if(!ya(pa(t,16),32))throw new l("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.cc=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"compressorName",{get:function(){return this.hc},set:function(t){if(t.length>31)throw new l("The provided compressorName should at most be 31 characters long.");this.hc=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"frameCount",{get:function(){return this.fc},set:function(t){if(!ya(t,16))throw new l("Provided frameCount does not fit in 16 bits.");this.fc=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"depth",{get:function(){return this.vc},set:function(t){if(!ya(t,16))throw new l("Provided depth does not fit in 16 bits.");this.vc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(pa(this.horizontalResolution,16),32),n.writer.writeUInt(pa(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&_a(n.writer,this.extra)},n}(ih);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}oa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof _?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof _?n.concat(da.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(ka),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}oa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(eh),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}oa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Ac),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}oa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(ih),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}oa(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(ma),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}w.defineProperty(t.prototype,"version",{get:function(){return this.lc},set:function(t){if(!ya(t,8))throw new l("Provided version does not fit in 8 bits.");this.lc=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"profileIndication",{get:function(){return this.dc},set:function(t){if(!ya(t,8))throw new l("Provided profileIndication does not fit in 8 bits.");this.dc=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.wc},set:function(t){if(!ya(t,8))throw new l("Provided profileCompatibility does not fit in 8 bits.");this.wc=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"levelIndication",{get:function(){return this._c},set:function(t){if(!ya(t,8))throw new l("Provided levelIndication does not fit in 8 bits.");this._c=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"spsSets",{get:function(){return this.gc},set:function(t){if(!ya(t.length,5))throw new l("Provided number of spsSets exceeds the max (32)");this.gc=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"ppsSets",{get:function(){return this.mc},set:function(t){if(!ya(t.length,8))throw new l("Provided number of ppsSets exceeds the max (256)");this.mc=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(da.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(da.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}oa(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(Ac),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}oa(n,t),w.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Io},set:function(t){if(!ya(t,32))throw new l("Provided bufferSizeDb does not fit in 32 bits.");this.Io=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"max",{get:function(){return this.yc},set:function(t){if(!ya(t,32))throw new l("Provided max does not fit in 32 bits.");this.yc=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"avg",{get:function(){return this.kc},set:function(t){if(!ya(t,32))throw new l("Provided avg does not fit in 32 bits.");this.kc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(ma);var Tc=function(t){function n(n,i){var e,r,s,u,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new l("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new _(0),o}return oa(n,t),w.defineProperty(n.prototype,"isProtected",{get:function(){return this.bc},set:function(t){if(!ya(t,8))throw new l("Provided isProtected does not fit in 1 byte.");this.bc=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.pc},set:function(t){if(![8,16].includes(t))throw new l("Provided perSampleIvSize does not match any allowed value [8, 16].");this.pc=t,this.Ac=new _(0)},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"kId",{get:function(){return this.Tc},set:function(t){if(16!==t.length)throw new l("Provided kId length is not 16.");this.Tc=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"constantIv",{get:function(){return this.Ac},set:function(t){if(![8,16].includes(t.length))throw new l("Provided constant IV length does not match any allowed value [8, 16].");this.Ac=t,this.pc=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),_a(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),_a(t.writer,this.constantIv))},n}(ka);!function(t){function n(n){return t.call(this,0,n)||this}oa(n,t)}(Tc);var Sc=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return oa(n,t),w.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Sc},set:function(t){if(!ya(t,4))throw new l("Provided cryptByteBlocks does not fit in 4 bits.");this.Sc=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Ec},set:function(t){if(!ya(t,4))throw new l("Provided skipByteBlocks does not fit in 4 bits.");this.Ec=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(Tc);function Ec(t){return void 0!==t.iv}function Ic(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new Sc(n),i}oa(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Dh),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}oa(n,t),w.defineProperty(n.prototype,"samples",{get:function(){return this.Ua},set:function(t){var n;if(!ya(t.length,32))throw new l("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(Ec(r)&&![8,16].includes(r.iv.length))throw new l("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Ic(r)),!0===n&&!Ic(r)||!1===n&&Ic(r))throw new l("Mix of samples with and without subsamples detected.");if(Ic(r)){if(!ya(r.subsamples.length,16))throw new l("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!ya(o.clearData,16))throw new l("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!ya(o.protectedData,23))throw new l("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Ua=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];Ec(r)&&(n+=r.iv.length),Ic(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(Ec(r)&&_a(n.writer,r.iv),Ic(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(ka),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}oa(n,t),w.defineProperty(n.prototype,"timescale",{get:function(){return this.$o},set:function(t){if(!ya(t,32))throw new l("The provided timescale does not fit in 32 bits.");this.$o=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Ic},set:function(t){if(!ya(t,32))throw new l("The provided presentationTimeDelta does not fit in 32 bits.");this.Ic=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Rc},set:function(t){if(!ya(t,32))throw new l("The provided eventDuration does not fit in 32 bits.");this.Rc=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"id",{get:function(){return this.Nc},set:function(t){if(!ya(t,32))throw new l("The provided id does not fit in 32 bits.");this.Nc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(da.from(this.data))}}(ka);var Rc=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new ga,n=0,i=this.boxes;n<i.length;n++){var e=i[n];t.concat(e.serialize())}return t.toRangedBuffer()},t}();function Cc(t,n){return function(i){var e=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=Va(i,e);if(!r.complete)return;if(Ha(r.box,n))return r.box}}(new Ua(Ma(i),new Fa),t);if(!e)throw new l("".concat(t," box not found"));return n(e)}}var Nc=Cc("moov",nc),Dc=Cc("sidx",function(t){var n,i,e=t.data,r=Wa(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),a=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var h=e.nextUint16(),c=[],f=0;f<h;f++){var l=new la(da.from(e.nextUint8Array(12))),v=l.readBit(),d=l.readUInt(31),w=l.readUInt(32),g=Boolean(l.readBit()),m=l.readUInt(3),y=l.readUInt(28);c.push({referenceType:v,referencedSize:d,subsegmentDuration:w,startsWithSap:g,sapType:m,sapDeltaTime:y})}return 0===s?new yc(o,a,n,i,c,u.raw):new pc(o,a,n,i,c,u.raw)}),Pc=Cc("moof",vc),xc=Cc("pssh",Oh);function Bc(t){return function(t){for(var n=new Rc,i=0,e=za(t);i<e.length;i++){var r=e[i];Ha(r,"ftyp")?n.boxes.push(vh(r)):Ha(r,"styp")?n.boxes.push(bc(r)):Ha(r,"moov")?n.boxes.push(nc(r)):Ha(r,"moof")?n.boxes.push(vc(r)):Ha(r,"mdat")?n.boxes.push(Th(r)):n.boxes.push(Ya(r))}return n}(new Ua(Ma(t),new Fa))}var Oc=function(t){function n(n,i){var e;(e=t.call(this)||this).Dc=void 0,e.Cc=!1,e.Pc=void 0,e.Bc=void 0,e.Oc=function(){e.xc()},e.Lc=function(t){e.Ys(new Cu(Kt(e),t.messageType,ea(e.Mc,t.message)))},e.Uc=function(){e.Cc=!0,e.Dc.Nu>0&&(e.Dc.Ru(),e.Ys(new Ru(Kt(e)))),e.Xc.removeEventListener("keystatuseschange",e.Oc),e.Xc.removeEventListener("message",e.Lc)},e.Xc=n,e.Mc=i,e.Xc.addEventListener("keystatuseschange",e.Oc),e.Xc.addEventListener("message",e.Lc),e.Dc=new Bu;var r=[];return e.Xc.closed&&r.push(We.resolve(e.Xc.closed)),e.Bc=new ta,r.push(e.Bc.Uu),e.Pc=We.race(r).then(e.Uc,e.Uc),e.xc(),e}E(n,t);var i=n.prototype;return i.Fc=function(){if(this.Cc)return this.Pc;var t=[];return t.push(We.resolve(this.Xc.close())),t.push(pu(1e3)),this.Bc.Hu(We.race(t).catch(Lc)),this.Cc=!0,this.Pc},i.Hc=function(t,n,i){if(M.cn){var e=xc($o(n));if(1===e.version)n=new xh(e.systemId,e.data).serialize().join()}return We.resolve(this.Xc.generateRequest(t,n)).catch(Lc)},i.zc=function(t){return We.resolve(this.Xc.load(t)).catch(Lc)},i.Vc=function(){return We.resolve(this.Xc.remove()).catch(Lc)},i.Wc=function(t){return We.resolve(this.Xc.update(t)).catch(Lc)},i.xc=function(){var t=this;this.Dc.Ru(),this.Xc.keyStatuses.forEach(function(n,i){t.Gc(i,n)}),this.Ys(new Ru(this))},i.Gc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=$o(t);if(this.Mc===rs&&16===e.byteLength){var r=Wo(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.Mc===rs&&"status-pending"===n&&(n="usable"),this.Dc.Iu(e,n)},T(n,[{key:"qc",get:function(){return this.Pc}},{key:"Yc",get:function(){return this.Xc.expiration}},{key:"jc",get:function(){return this.Dc}},{key:"Qc",get:function(){return this.Xc.sessionId}}]),n}(Au);function Lc(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|m(i[1],16))}throw new sa(t.message,void 0,n,t)}var Mc=function(){function t(t,n,i){this.Zc=t,this.Kc=n,this.Jc=i}var n=t.prototype;return n.$c=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Oc(this.Zc.createSession(t),this.Kc));case 1:case"end":return n.stop()}},null,this,null,We)},n.nh=function(t){return We.resolve(this.Zc.setServerCertificate(t))},n.ih=function(t){return We.resolve(t.setMediaKeys(this.Zc))},n.eh=function(t){return We.resolve(t.setMediaKeys(null))},t}(),jc=function(){function t(t,n,i){this.rh=t,this.Mc=n,this.sh=i}var n=t.prototype;return n.uh=function(){var t;return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jr.awrap(this.rh.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new Mc(t,this.Mc,this.sh));case 4:case"end":return n.stop()}},null,this,null,We)},n.oh=function(){return this.sh},T(t,[{key:"Kc",get:function(){return this.rh.keySystem}}]),t}(),Fc={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Uc(t){return bs(t,Fc.APPLICATION_MP4)||bs(t,Fc.VIDEO_MP4)||bs(t,Fc.AUDIO_MP4)}var Hc=function(){function t(t,n){this.us=void 0,this.ah=void 0,this.us=t,this.ah=n}return t.prototype.hh=function(t){for(var n=0,i=this.ah;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function Xc(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Hc(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,a=0;a<r.length;a++){var h=r[a];if(o||";"!==h)'"'===h&&(o=!o);else{var c=zc(r.substr(u,a));c&&s.push(c),u=a+1}}if(u!==r.length){var f=zc(r.substr(u));f&&s.push(f)}return new Hc(e,s)}function zc(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function Vc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function Wc(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);i&&(n="avc1."+Es((Number(i[1])<<16|Number(i[2])).toString(16),6,"0"));return n}function qc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,fh:e.fh},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return Gc(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var a=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});a.length&&(s.videoCapabilities=a.filter(function(e){return Gc(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function Gc(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Ys(n,e.encryptionScheme))&&(!e.robustness&&t(i,Vc(e.contentType))))}function $c(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function Yc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function Qc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Zc))||!(!t.videoCapabilities||!t.videoCapabilities.some(Zc))}function Zc(t){return!t.robustness}function Kc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(Fr({},r,{robustness:n}))}return i}var Jc=function(){function t(){}return t.prototype.As=function(t,n){var i,e,r,s,u,a,h,c;return jr.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.fh}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=Yc(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Yc(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(Qc)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",Fr({},n=t,{videoCapabilities:n.videoCapabilities?Kc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?Kc(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,jr.awrap(o.requestMediaKeySystemAccess(t,s));case 7:return u=f.sent,a=u.getConfiguration(),f.abrupt("return",new jc(u,t,a));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,jr.awrap(o.requestMediaKeySystemAccess(t,n));case 16:return h=f.sent,c=h.getConfiguration(),f.abrupt("return",new jc(h,t,c));case 19:case"end":return f.stop()}},null,null,[[4,12]],We)},t.vh=function(){return Ps()},t}(),tf=function(t){function n(n,i){var e;return(e=t.call(this)||this).Cc=!1,e.lh=void 0,e.dh=void 0,e.wh=void 0,e._h=void 0,e.gh=void 0,e.Uc=function(){e.Cc=!0,e.lh.Hu(void 0),e.gh&&(e.gh.removeEventListener("mskeyclose",e.Uc),e.gh.removeEventListener("mskeymessage",e.yh),e.gh.removeEventListener("mskeyerror",e.kh),e.gh.removeEventListener("mskeyadded",e.ph))},e.yh=function(t){e.wh&&(e.wh.Hu(void 0),e.wh=void 0),e.Ys(new Cu(Kt(e),"license-request",Qo(t.message).buffer,t.destinationURL||void 0))},e.kh=function(){var t=e.gh&&e.gh.error;if(t){var n=new sa("Unknown CDM error",t.code,t.systemCode);if(e.wh)e.wh.Vu(n),e.wh=void 0;else if(e.dh)e.dh.Vu(n),e.dh=void 0;else switch(n.Wu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Ah("output-not-allowed");break;default:e.Ah("internal-error")}}},e.ph=function(){e.wh&&(e.Ah("usable"),e.wh.Hu(void 0),e.wh=void 0),e.dh&&(e.Ah("usable"),e.dh.Hu(void 0),e.dh=void 0)},e.Th=n,e.Sh=i,e.lh=new ta,e._h=new Bu,e}E(n,t);var i=n.prototype;return i.Hc=function(t,n,i){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Eh(),this.wh=new ta,this.$c($o(n),i),t.next=5,jr.awrap(this.wh.Uu);case 5:case"end":return t.stop()}},null,this,null,We)},i.$c=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Ih;return(i=n?this.Th.createSession(this.Sh,t,e):this.Th.createSession(this.Sh,t)).addEventListener("mskeyclose",this.Uc),i.addEventListener("mskeymessage",this.yh),i.addEventListener("mskeyerror",this.kh),i.addEventListener("mskeyadded",this.ph),this.gh=i,this.Ah("status-pending"),i},i.zc=function(t){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Eh(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,We)},i.Wc=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.dh=new ta,this.Eh(),this.gh){i.next=4;break}return i.abrupt("return",We.resolve());case 4:if(0!==(n=$o(t)).byteLength){i.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.gh.update(n),i.next=10,jr.awrap(this.dh.Uu);case 10:case"end":return i.stop()}},null,this,null,We)},i.Fc=function(){return!this.Cc&&this.gh&&(this.Cc=!0,this.gh.close()),this.lh.Uu},i.Vc=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Eh(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,We)},i.Eh=function(){if(this.Cc)throw new v("Already closing or closed.")},i.Ah=function(t){this._h.Ru(),this._h.Iu(xu,t),this.Ys(new Ru(this))},T(n,[{key:"Qc",get:function(){return this.gh&&this.gh.sessionId||""}},{key:"Yc",get:function(){return NaN}},{key:"qc",get:function(){return this.lh.Uu}},{key:"jc",get:function(){return this._h}}]),n}(Au),nf=function(){function t(t,n,i){this.Sh=void 0,this.Th=t,this.Kc=n,this.Jc=i;var e=$c(i)||"video/mp4";this.Sh=Vc(e)}var n=t.prototype;return n.$c=function(t){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new tf(this.Th,this.Sh));case 1:case"end":return t.stop()}},null,this,null,We)},n.nh=function(t){return We.resolve(!1)},n.ih=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Th):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Th),t.removeEventListener("loadedmetadata",i)}),We.resolve()},n.eh=function(t){return We.resolve()},t}(),ef=function(){function t(t,n){this.Mc=t,this.Rh=n}var n=t.prototype;return n.oh=function(){return this.Rh},n.uh=function(){var t=new de.MSMediaKeys(this.Mc);return We.resolve(new nf(t,this.Mc,this.Rh))},T(t,[{key:"Kc",get:function(){return this.Mc}}]),t}(),rf=function(){function t(){}return t.prototype.As=function(t,n){try{return We.resolve(function(t,n){if(!sf())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=qc(uf,Eu,t,e);if(r)return new ef(t,r)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return We.reject(t)}},t.vh=function(){return sf()},t}();function sf(){return void 0!==de.MSMediaKeys&&"function"==typeof de.MSMediaKeys.isTypeSupported}function uf(t,n){return de.MSMediaKeys.isTypeSupported(t,n)}var of,af,hf=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).lh=new ta,r.Nh=void 0,r._h=new Bu,r.Dh=void 0,r.Ch=new ta,r.kh=function(){var t=r.Dh&&r.Dh.error;if(t){var n=new sa("Unknown CDM error",t.code,t.systemCode);r.Nh?(r.Nh.Vu(n),r.Nh=void 0):n.Wu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Ah("output-not-allowed"):r.Ah("internal-error"),r.Ys(new Nu)}},r.yh=function(t){r.Nh&&(r.Nh.Hu(void 0),r.Nh=void 0),r.Ys(new Cu(Kt(r),"license-request",Qo(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Ph=n,r.Sh=i,r.Bh=e,r}E(n,t);var i=n.prototype;return i.Hc=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Oh;if(!e)throw new v("Expected FairPlay contentId to be defined but was "+e+".");var r=cf($o(n),e,this.Bh);return this.Dh=this.Ph.createSession(this.Sh,r),this.Dh.addEventListener("webkitkeymessage",this.yh,!1),this.Dh.addEventListener("webkitkeyerror",this.kh,!1),this.Ah("usable"),this.Ch.Hu(this.Dh),this.Ch=new ta,We.resolve()},i.zc=function(t){return We.resolve(!0)},i.Wc=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=$o(t)).byteLength){i.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.Nh=new ta,i.t0=this.Dh,i.t0){i.next=9;break}return i.next=8,jr.awrap(this.Ch.Uu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,jr.awrap(this.Nh.Uu);case 13:case"end":return i.stop()}},null,this,null,We)},i.Fc=function(){var t=this.Dh;return t&&(t.removeEventListener("webkitkeymessage",this.yh,!1),t.removeEventListener("webkitkeyerror",this.kh,!1),t.close()),this.Ch.Xs(),this.lh.Hu(void 0),this.lh.Uu},i.Vc=function(){return We.resolve(void 0)},i.Ah=function(t){this._h.Ru(),this._h.Iu(xu,t),this.Ys(new Ru(this))},T(n,[{key:"Qc",get:function(){return this.Dh?this.Dh.sessionId:""}},{key:"Yc",get:function(){return NaN}},{key:"qc",get:function(){return this.lh.Uu}},{key:"jc",get:function(){return this._h}}]),n}(Au);function cf(t,n,i){var e=Uo(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),a=new Ko;return bo(o,a,r,!0),xo(o,a,e,!0),bo(o,a,s,!0),xo(o,a,n,!0),bo(o,a,i.byteLength,!0),wo(o,a,i),new _(u)}n.ErrorCode=void 0,(of=n.ErrorCode||(n.ErrorCode={}))[of.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",of[of.LICENSE_ERROR=2e3]="LICENSE_ERROR",of[of.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",of[of.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",of[of.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",of[of.SOURCE_INVALID=3e3]="SOURCE_INVALID",of[of.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",of[of.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",of[of.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",of[of.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",of[of.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",of[of.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",of[of.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",of[of.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",of[of.MEDIA_ABORTED=5004]="MEDIA_ABORTED",of[of.NETWORK_ERROR=6e3]="NETWORK_ERROR",of[of.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",of[of.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",of[of.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",of[of.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",of[of.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",of[of.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",of[of.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",of[of.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",of[of.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",of[of.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",of[of.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",of[of.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",of[of.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",of[of.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",of[of.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",of[of.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",of[of.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",of[of.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",of[of.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",of[of.AD_ERROR=1e4]="AD_ERROR",of[of.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",of[of.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(af=n.ErrorCategory||(n.ErrorCategory={}))[af.CONFIGURATION=1]="CONFIGURATION",af[af.LICENSE=2]="LICENSE",af[af.SOURCE=3]="SOURCE",af[af.MANIFEST=4]="MANIFEST",af[af.MEDIA=5]="MEDIA",af[af.NETWORK=6]="NETWORK",af[af.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",af[af.SUBTITLE=8]="SUBTITLE",af[af.VR=9]="VR",af[af.AD=10]="AD",af[af.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=g.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new v("Invalid error code: "+t)}}();var ff=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return E(i,t),T(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(tn);var lf=function(){function t(t,n,i){this.Sh=void 0,this.Bh=void 0,this.Ph=t,this.Kc=n,this.Jc=i;var e=$c(i)||"video/mp4";this.Sh=Vc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Ph},i.$c=function(t){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Bh){t.next=2;break}throw new ff(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new hf(this.Ph,this.Sh,this.Bh));case 3:case"end":return t.stop()}},null,this,null,We)},i.nh=function(t){return this.Bh=$o(t),We.resolve(!0)},i.ih=function(t){return t.webkitSetMediaKeys(this.Ph),We.resolve()},i.eh=function(t){return t.webkitSetMediaKeys(null),We.resolve()},t}(),vf=function(){function t(t,n){this.Mc=t,this.Rh=n}var n=t.prototype;return n.oh=function(){return this.Rh},n.uh=function(){var t=new de.WebKitMediaKeys(this.Mc);return We.resolve(new lf(t,this.Mc,this.Rh))},T(t,[{key:"Kc",get:function(){return this.Mc}}]),t}(),df=function(){function t(){}return t.prototype.As=function(t,n){try{return We.resolve(function(t,n){if(t!==fs)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!wf())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=qc(gf,Iu,t,e);if(r)return new vf(t,r)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return We.reject(t)}},t.vh=function(){return wf()},t}();function wf(){return void 0!==de.WebKitMediaKeys&&"function"==typeof de.WebKitMediaKeys.isTypeSupported}function gf(t,n){return de.WebKitMediaKeys.isTypeSupported(t,n)}var mf,yf=function(){function t(t){this.Lh=t}return t.prototype.As=function(t,n){var i,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Lh;case 1:if(!(i<e.length)){s.next=14;break}return r=e[i],s.prev=3,s.next=6,jr.awrap(r.As(t,n));case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(3);case 11:i++,s.next=1;break;case 14:throw new v("Unsupported key system configuration for "+t);case 15:case"end":return s.stop()}},null,this,[[3,9]],We)},t}(),pf=function(t){function n(n){var i;return(i=t.call(this)||this).wh=void 0,i.Nh=void 0,i.lh=void 0,i.oo=!1,i.Mh=void 0,i.Uh=void 0,i.Xh=void 0,i.Fh=void 0,i.Hh=void 0,i.Mc=n,i.lh=new ta,i.Uh="",i.Hh=new ta,i.Xh=new Bu,i}E(n,t);var i=n.prototype;return i.Vh=function(){this.Nh&&(this.Ah("usable"),this.Nh.Hu(void 0),this.Nh=void 0)},i.Wh=function(t){var n=new sa("Unknown CDM error",t.errorCode,t.systemCode);this.Nh?(this.Nh.Vu(n),this.Nh=void 0):this.wh?(this.wh.Vu(n),this.wh=void 0):n.Wu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Ah("output-restricted"):1===n.Gu?this.Ah("expired"):this.Ah("internal-error")},i.Gh=function(t){0!==t.message.byteLength&&(this.wh&&(this.wh.Hu(void 0),this.wh=void 0),this.Ys(new Cu(this,"license-request",ea(this.Mc,Qo(t.message).buffer),t.defaultURL||void 0)))},i.qh=function(t){this.Fh||(this.Fh=t,this.Hh.Hu(t))},i.Fc=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.oo=!0,this.lh.Hu(void 0);case 3:case"end":return t.stop()}},null,this,null,We)},i.Hc=function(t,n){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.wh=new ta,this.Mh=$o(n),t.t0=this.Fh,t.t0){t.next=8;break}return t.next=7,jr.awrap(this.Hh.Uu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Mc,this.Mh),t.next=12,jr.awrap(this.wh.Uu);case 12:case"end":return t.stop()}},null,this,null,We)},i.zc=function(t){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,We)},i.Vc=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,We)},i.Wc=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Nh=new ta,n.t0=this.Fh,n.t0){n.next=7;break}return n.next=6,jr.awrap(this.Hh.Uu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Mc,$o(t),this.Mh,this.Qc),n.next=11,jr.awrap(this.Nh.Uu);case 11:case"end":return n.stop()}},null,this,null,We)},i.throwIfClosed=function(){if(this.oo)throw new v("Already closing or closed.")},i.Ah=function(t){this.Xh.Ru(),this.Xh.Iu(xu,t),this.Ys(new Ru(this))},T(n,[{key:"jc",get:function(){return this.Xh}},{key:"Qc",get:function(){return this.Uh},set:function(t){this.Uh=t}},{key:"qc",get:function(){return this.lh.Uu}},{key:"Yc",get:function(){return NaN}}]),n}(Au),_f=function(){function t(t,n){var i=this;this.Fh=void 0,this.Yh=Hr(),this.jh=[],this.ph=function(t){var n=i.Qh(t.sessionId);n&&n.Vh()},this.Zh=function(t){var n=i.Qh(t.sessionId);n&&n.Wh(t)},this.Kh=function(t){var n=i.Qh(t.sessionId);n&&n.Gh(t)},this.Kc=t,this.Jc=n}var n=t.prototype;return n.ih=function(t){return this.Fh=t,this.Fh.addEventListener("webkitkeyadded",this.ph),this.Fh.addEventListener("webkitkeyerror",this.Zh),this.Fh.addEventListener("webkitkeymessage",this.Kh),this.Yh.forEach(function(n,i){return n.qh(t)}),this.jh.forEach(function(n){return n.qh(t)}),We.resolve()},n.eh=function(t){return t.removeEventListener("webkitkeyadded",this.ph),t.removeEventListener("webkitkeyerror",this.Zh),t.removeEventListener("webkitkeymessage",this.Kh),this.Fh=void 0,We.resolve()},n.$c=function(t,n,i){var e;return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new pf(this.Kc),this.Fh&&e.qh(this.Fh),this.jh.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,We)},n.nh=function(t){return We.resolve(!1)},n.Qh=function(t){if(t){var n=this.Yh.get(t);return n||((n=this.jh.shift())?(n.Qc=t,this.Yh.set(t,n),n):void 0)}},t}(),bf=function(){function t(t,n){this.Kc=t,this.Jh=n}var n=t.prototype;return n.uh=function(){return We.resolve(new _f(this.Kc,this.Jh))},n.oh=function(){return this.Jh},t}(),kf=function(){function t(){}return t.prototype.As=function(t,n){try{return We.resolve(Af(t,n))}catch(t){return We.reject(t)}},t.vh=function(){return xs()},t}();function Af(t,n){if(!kf.vh())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=qc(Tf,Eu,t,e);if(r)return new bf(t,r)}throw new v("Unsupported key system configuration for "+t)}function Tf(t,n){var i=dr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Sf(){return mf||(mf=function(){var t=[];df.vh()&&t.push(new df);Jc.vh()&&t.push(new Jc);rf.vh()&&t.push(new rf);kf.vh()&&t.push(new kf);return new yf(t)}()),mf}var Ef=function(){function t(){this.$h=Hr()}var n=t.prototype;return n.Ru=function(t){this.$h.delete(t)},n.tf=function(){this.$h.clear()},n.Su=function(t){return this.$h.get(t)},n.nf=function(t,n){this.$h.set(t,n)},t}(),If=function(){function t(){}return t.if=function(){return t.Gn||(t.Gn=Rf.vh()?new Rf:new Ef),t.Gn},t.Ru=function(n){t.if().Ru(n)},t.tf=function(){t.if().tf()},t.Su=function(n){return t.if().Su(n)},t.nf=function(n,i){t.if().nf(n,i)},t}();If.Gn=void 0;var Rf=function(n){function i(){return n.apply(this,arguments)||this}E(i,n),i.vh=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.Ru=function(n){t.sessionStorage.removeItem(n)},e.tf=function(){t.sessionStorage.clear()},e.Su=function(n){return t.sessionStorage[n]},e.nf=function(n,i){t.sessionStorage[n]=i},i}(If);var Cf=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}}();function Nf(t,n,i){var e=Cf([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=s.createElement("a");o.href=r,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(r)}var Df,Pf;!function(t){t.ef="rf",t.sf="uf",t.cf="contentprotectionerror",t.hf="contentprotectionsuccess",t.vf="currentsourcechange",t.lf="destroy",t.df="durationchange",t.wf="emptied",t._u="encrypted",t._f="ended",t.gf="mf",t.yf="loadstart",t.kf="manifestupdate",t.bf="nosupportedrepresentationfound",t.pf="offline",t.Af="online",t.Tf="pause",t.Sf="play",t.Ef="progress",t.If="ratechange",t.Rf="representationchange",t.Nf="resize",t.Df="seeked",t.Cf="seeking",t.Pf="segmentnotfound",t.Bf="Of",t.xf="Lf",t.Mf="sourcechange",t.Uf="timeupdate",t.Xf="volumechange",t.Ff="Hf",t.zf="metricschange"}(Df||(Df={})),function(t){t.Vf="arraybuffer",t.Wf="json",t.Gf="stream",t.Kn="text"}(Pf||(Pf={}));var xf=function(){function t(n){var i=this;this.Qr=void 0,this.Qr={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&w.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Bf(i),e=Of(e);var r=i.toLowerCase();if(this.Qr.hasOwnProperty(r)){var s=this.Qr[r],u=s[1];s[1]=u?u+", "+e:e}else this.Qr[r]=[i,e]},n.delete=function(t){var n=Bf(t).toLowerCase();delete this.Qr[n]},n.get=function(t){var n=Bf(t).toLowerCase();return this.Qr.hasOwnProperty(n)?this.Qr[n][1]:null},n.has=function(t){var n=Bf(t).toLowerCase();return this.Qr.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Bf(i)).toLowerCase();this.Qr[e]=[i,Of(n)]},n.forEach=function(t,n){for(var i in this.Qr)this.Qr.hasOwnProperty(i)&&t.call(n,this.Qr[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Qr)if(this.Qr.hasOwnProperty(n)){var i=this.Qr[n],e=i[0],r=i[1];t.push([e,r])}return t},n.qf=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Yf=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.jf=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Bf(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function Of(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Mf(){}var jf=void 0!==t?t:void 0!==r?r:"undefined"!=typeof global?global:void 0;function Ff(t){return"object"==typeof t&&null!==t||"function"==typeof t}var Uf=Mf,Hf=We,Xf=We.prototype.then,zf=We.resolve.bind(Hf),Vf=We.reject.bind(Hf);function Wf(t){return new Hf(t)}function qf(t){return zf(t)}function Gf(t){return Vf(t)}function $f(t,n,i){return Xf.call(t,n,i)}function Yf(t,n,i){$f($f(t,n,i),void 0,Uf)}function Qf(t,n){Yf(t,n)}function Zf(t,n){Yf(t,void 0,n)}function Kf(t,n,i){return $f(t,n,i)}function Jf(t){$f(t,void 0,Uf)}var tl=function(){var t=jf&&jf.queueMicrotask;if("function"==typeof t)return t;var n=qf(void 0);return function(t){return $f(n,t)}}();function nl(t,n,i){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function il(t,n,i){try{return qf(nl(t,n,i))}catch(t){return Gf(t)}}var el=function(){function t(){this.Qf=0,this.Zf=0,this.Te={Kf:[],Jf:void 0},this.$f=this.Te,this.Qf=0,this.Zf=0}return w.defineProperty(t.prototype,"length",{get:function(){return this.Zf},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var n=this.$f,i=n;16383===n.Kf.length&&(i={Kf:[],Jf:void 0}),n.Kf.push(t),i!==n&&(this.$f=i,n.Jf=i),++this.Zf},t.prototype.shift=function(){var t=this.Te,n=t,i=this.Qf,e=i+1,r=t.Kf,s=r[i];return 16384===e&&(n=t.Jf,e=0),--this.Zf,this.Qf=e,t!==n&&(this.Te=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Qf,i=this.Te,e=i.Kf;!(n===e.length&&void 0===i.Jf||n===e.length&&(n=0,0===(e=(i=i.Jf).Kf).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Te,n=this.Qf;return t.Kf[n]},t}();function rl(t,n){t.tv=n,n.ev=t,"readable"===n.we?al(t):"closed"===n.we?function(t){al(t),fl(t)}(t):hl(t,n.rv)}function sl(t,n){return uw(t.tv,n)}function ul(t){"readable"===t.tv.we?cl(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){hl(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.tv.ev=void 0,t.tv=void 0}function ol(t){return new v("Cannot "+t+" a stream using a released reader")}function al(t){t.Pc=Wf(function(n,i){t.uv=n,t.ov=i})}function hl(t,n){al(t),cl(t,n)}function cl(t,n){void 0!==t.ov&&(Jf(t.Pc),t.ov(n),t.uv=void 0,t.ov=void 0)}function fl(t){void 0!==t.uv&&(t.uv(void 0),t.uv=void 0,t.ov=void 0)}var ll=Lf("[[AbortSteps]]"),vl=Lf("[[ErrorSteps]]"),dl=Lf("[[CancelSteps]]"),wl=Lf("[[PullSteps]]"),gl=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},ml=g.trunc||function(t){return t<0?g.ceil(t):g.floor(t)};function yl(t,n){if(void 0!==t&&("object"!=typeof(i=t)&&"function"!=typeof i))throw new v(n+" is not an object.");var i}function pl(t,n){if("function"!=typeof t)throw new v(n+" is not a function.")}function _l(t,n){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new v(n+" is not an object.")}function bl(t,n,i){if(void 0===t)throw new v("Parameter "+n+" is required in '"+i+"'.")}function kl(t,n,i){if(void 0===t)throw new v(n+" is required in '"+i+"'.")}function Al(t){return Number(t)}function Tl(t){return 0===t?0:t}function Sl(t,n){var i=Number.MAX_SAFE_INTEGER,e=Number(t);if(e=Tl(e),!gl(e))throw new v(n+" is not a finite number");if((e=function(t){return Tl(ml(t))}(e))<0||e>i)throw new v(n+" is outside the accepted range of 0 to "+i+", inclusive");return gl(e)&&0!==e?e:0}function El(t,n){if(!rw(t))throw new v(n+" is not a ReadableStream.")}function Il(t){return new Bl(t)}function Rl(t,n){t.ev.hv.push(n)}function Cl(t,n,i){var e=t.ev.hv.shift();i?e.fv():e.vv(n)}function Nl(t){return t.ev.hv.length}function Dl(t){var n=t.ev;return void 0!==n&&!!Ol(n)}var Pl,xl,Bl=function(){function t(t){if(bl(t,1,"ReadableStreamDefaultReader"),El(t,"First parameter"),sw(t))throw new v("This stream has already been locked for exclusive reading by another reader");rl(this,t),this.hv=new el}return w.defineProperty(t.prototype,"closed",{get:function(){return Ol(this)?this.Pc:Gf(Ml("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Ol(this)?void 0===this.tv?Gf(ol("cancel")):sl(this,t):Gf(Ml("cancel"))},t.prototype.read=function(){if(!Ol(this))return Gf(Ml("read"));if(void 0===this.tv)return Gf(ol("read from"));var t,n,i=Wf(function(i,e){t=i,n=e});return Ll(this,{vv:function(n){return t({value:n,done:!1})},fv:function(){return t({value:void 0,done:!0})},wv:function(t){return n(t)}}),i},t.prototype.releaseLock=function(){if(!Ol(this))throw Ml("releaseLock");if(void 0!==this.tv){if(this.hv.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");ul(this)}},t}();function Ol(t){return!!Ff(t)&&(!!w.prototype.hasOwnProperty.call(t,"hv")&&t instanceof Bl)}function Ll(t,n){var i=t.tv;i._v=!0,"closed"===i.we?n.fv():"errored"===i.we?n.wv(i.rv):i.mv[wl](n)}function Ml(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}w.defineProperties(Bl.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Lf.toStringTag&&w.defineProperty(Bl.prototype,Lf.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof Lf.asyncIterator&&((Pl={})[Lf.asyncIterator]=function(){return this},xl=Pl,w.defineProperty(xl,Lf.asyncIterator,{enumerable:!1}));var jl=function(){function t(t,n){this.yv=void 0,this.bv=!1,this.ev=t,this.pv=n}return t.prototype.next=function(){var t=this,n=function(){return t.Av()};return this.yv=this.yv?Kf(this.yv,n,n):n(),this.yv},t.prototype.return=function(t){var n=this,i=function(){return n.Tv(t)};return this.yv?Kf(this.yv,i,i):i()},t.prototype.Av=function(){var t=this;if(this.bv)return We.resolve({value:void 0,done:!0});var n,i,e=this.ev;if(void 0===e.tv)return Gf(ol("iterate"));var r=Wf(function(t,e){n=t,i=e});return Ll(e,{vv:function(i){t.yv=void 0,tl(function(){return n({value:i,done:!1})})},fv:function(){t.yv=void 0,t.bv=!0,ul(e),n({value:void 0,done:!0})},wv:function(n){t.yv=void 0,t.bv=!0,ul(e),i(n)}}),r},t.prototype.Tv=function(t){if(this.bv)return We.resolve({value:t,done:!0});this.bv=!0;var n=this.ev;if(void 0===n.tv)return Gf(ol("finish iterating"));if(!this.pv){var i=sl(n,t);return ul(n),Kf(i,function(){return{value:t,done:!0}})}return ul(n),qf({value:t,done:!0})},t}(),Fl={next:function(){return Ul(this)?this.Sv.next():Gf(Hl("next"))},return:function(t){return Ul(this)?this.Sv.return(t):Gf(Hl("return"))}};function Ul(t){if(!Ff(t))return!1;if(!w.prototype.hasOwnProperty.call(t,"Sv"))return!1;try{return t.Sv instanceof jl}catch(t){return!1}}function Hl(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}void 0!==xl&&w.setPrototypeOf(Fl,xl);var Xl=Number.isNaN||function(t){return t!=t};function zl(t){return t.slice()}function Vl(t,n,i,e,r){new _(t).set(new _(i,e,r),n)}function Wl(t){return t}function ql(t,n,i){if(t.slice)return t.slice(n,i);var e=i-n,r=new ArrayBuffer(e);return Vl(r,0,t,n,e),r}function Gl(t){var n=ql(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new _(n)}function $l(t){var n=t.Ev.shift();return t.Iv-=n.size,t.Iv<0&&(t.Iv=0),n.value}function Yl(t,n,i){if("number"!=typeof(e=i)||Xl(e)||e<0||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var e;t.Ev.push({value:n,size:i}),t.Iv+=i}function Ql(t){t.Ev=new el,t.Iv=0}var Zl=function(){function t(){throw new v("Illegal constructor")}return w.defineProperty(t.prototype,"view",{get:function(){if(!tv(this))throw kv("view");return this.Rv},enumerable:!1,configurable:!0}),t.prototype.respond=function(t){if(!tv(this))throw kv("respond");if(bl(t,1,"respond"),t=Sl(t,"First parameter"),void 0===this.Nv)throw new v("This BYOB request has been invalidated");this.Rv.buffer,pv(this.Nv,t)},t.prototype.respondWithNewView=function(t){if(!tv(this))throw kv("respondWithNewView");if(bl(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");if(void 0===this.Nv)throw new v("This BYOB request has been invalidated");t.buffer,_v(this.Nv,t)},t}();w.defineProperties(Zl.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof Lf.toStringTag&&w.defineProperty(Zl.prototype,Lf.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var Kl=function(){function t(){throw new v("Illegal constructor")}return w.defineProperty(t.prototype,"byobRequest",{get:function(){if(!Jl(this))throw Av("byobRequest");return mv(this)},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Jl(this))throw Av("desiredSize");return yv(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!Jl(this))throw Av("close");if(this.Dv)throw new v("The stream has already been closed; do not close it again!");var t=this.Cv.we;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");dv(this)},t.prototype.enqueue=function(t){if(!Jl(this))throw Av("enqueue");if(bl(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new v("chunk must be an array buffer view");if(0===t.byteLength)throw new v("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new v("chunk's buffer must have non-zero byteLength");if(this.Dv)throw new v("stream is closed or draining");var n=this.Cv.we;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");wv(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Jl(this))throw Av("error");gv(this,t)},t.prototype[dl]=function(t){iv(this),Ql(this);var n=this.Pv(t);return vv(this),n},t.prototype[wl]=function(t){var n=this.Cv;if(this.Iv>0){var i=this.Ev.shift();this.Iv-=i.byteLength,av(this);var e=new _(i.buffer,i.byteOffset,i.byteLength);t.vv(e)}else{var r=this.Bv;if(void 0!==r){var s=void 0;try{s=new ArrayBuffer(r)}catch(n){return void t.wv(n)}var u={buffer:s,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:_,readerType:"default"};this.Ov.push(u)}Rl(n,t),nv(this)}},t}();function Jl(t){return!!Ff(t)&&(!!w.prototype.hasOwnProperty.call(t,"Cv")&&t instanceof Kl)}function tv(t){return!!Ff(t)&&(!!w.prototype.hasOwnProperty.call(t,"Nv")&&t instanceof Zl)}function nv(t){(function(t){var n=t.Cv;if("readable"!==n.we)return!1;if(t.Dv)return!1;if(!t.xv)return!1;if(Dl(n)&&Nl(n)>0)return!0;if(Iv(n)&&Ev(n)>0)return!0;if(yv(t)>0)return!0;return!1})(t)&&(t.Lv?t.Mv=!0:(t.Lv=!0,Yf(t.Uv(),function(){t.Lv=!1,t.Mv&&(t.Mv=!1,nv(t))},function(n){gv(t,n)})))}function iv(t){hv(t),t.Ov=new el}function ev(t,n){var i=!1;"closed"===t.we&&(i=!0);var e=rv(n);"default"===n.readerType?Cl(t,e,i):function(t,n,i){var e=t.ev.Xv.shift();i?e.fv(n):e.vv(n)}(t,e,i)}function rv(t){var n=t.bytesFilled,i=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,n/i)}function sv(t,n,i,e){t.Ev.push({buffer:n,byteOffset:i,byteLength:e}),t.Iv+=e}function uv(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=g.min(t.Iv,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,a=!1;u>e&&(o=u-n.bytesFilled,a=!0);for(var h=t.Ev;o>0;){var c=h.peek(),f=g.min(o,c.byteLength),l=n.byteOffset+n.bytesFilled;Vl(n.buffer,l,c.buffer,c.byteOffset,f),c.byteLength===f?h.shift():(c.byteOffset+=f,c.byteLength-=f),t.Iv-=f,ov(t,f,n),o-=f}return a}function ov(t,n,i){i.bytesFilled+=n}function av(t){0===t.Iv&&t.Dv?(vv(t),ow(t.Cv)):nv(t)}function hv(t){null!==t.Fv&&(t.Fv.Nv=void 0,t.Fv.Rv=null,t.Fv=null)}function cv(t){for(;t.Ov.length>0;){if(0===t.Iv)return;var n=t.Ov.peek();uv(t,n)&&(lv(t),ev(t.Cv,n))}}function fv(t,n){var i=t.Ov.peek();hv(t),"closed"===t.Cv.we?function(t,n){var i=t.Cv;if(Iv(i))for(;Ev(i)>0;)ev(i,lv(t))}(t):function(t,n,i){if(ov(0,n,i),!(i.bytesFilled<i.elementSize)){lv(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=ql(i.buffer,r-e,r);sv(t,s,0,s.byteLength)}i.bytesFilled-=e,ev(t.Cv,i),cv(t)}}(t,n,i),nv(t)}function lv(t){return t.Ov.shift()}function vv(t){t.Uv=void 0,t.Pv=void 0}function dv(t){var n=t.Cv;if(!t.Dv&&"readable"===n.we)if(t.Iv>0)t.Dv=!0;else{if(t.Ov.length>0)if(t.Ov.peek().bytesFilled>0){var i=new v("Insufficient bytes to fill elements in the given buffer");throw gv(t,i),i}vv(t),ow(n)}}function wv(t,n){var i=t.Cv;if(!t.Dv&&"readable"===i.we){var e=n.buffer,r=n.byteOffset,s=n.byteLength,u=Wl(e);if(t.Ov.length>0){var o=t.Ov.peek();o.buffer,0,o.buffer=Wl(o.buffer)}if(hv(t),Dl(i))if(0===Nl(i))sv(t,u,r,s);else t.Ov.length>0&&lv(t),Cl(i,new _(u,r,s),!1);else Iv(i)?(sv(t,u,r,s),cv(t)):sv(t,u,r,s);nv(t)}}function gv(t,n){var i=t.Cv;"readable"===i.we&&(iv(t),Ql(t),vv(t),aw(i,n))}function mv(t){if(null===t.Fv&&t.Ov.length>0){var n=t.Ov.peek(),i=new _(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),e=w.create(Zl.prototype);!function(t,n,i){t.Nv=n,t.Rv=i}(e,t,i),t.Fv=e}return t.Fv}function yv(t){var n=t.Cv.we;return"errored"===n?null:"closed"===n?0:t.Hv-t.Iv}function pv(t,n){var i=t.Ov.peek();if("closed"===t.Cv.we){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw new v("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=Wl(i.buffer),fv(t,n)}function _v(t,n){var i=t.Ov.peek();if("closed"===t.Cv.we){if(0!==n.byteLength)throw new v("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw new v("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+n.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var e=n.byteLength;i.buffer=Wl(n.buffer),fv(t,e)}function bv(t,n,i,e,r,s,u){n.Cv=t,n.Mv=!1,n.Lv=!1,n.Fv=null,n.Ev=n.Iv=void 0,Ql(n),n.Dv=!1,n.xv=!1,n.Hv=s,n.Uv=e,n.Pv=r,n.Bv=u,n.Ov=new el,t.mv=n,Yf(qf(i()),function(){n.xv=!0,nv(n)},function(t){gv(n,t)})}function kv(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Av(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Tv(t){return new Rv(t)}function Sv(t,n){t.ev.Xv.push(n)}function Ev(t){return t.ev.Xv.length}function Iv(t){var n=t.ev;return void 0!==n&&!!Cv(n)}w.defineProperties(Kl.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Lf.toStringTag&&w.defineProperty(Kl.prototype,Lf.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Rv=function(){function t(t){if(bl(t,1,"ReadableStreamBYOBReader"),El(t,"First parameter"),sw(t))throw new v("This stream has already been locked for exclusive reading by another reader");if(!Jl(t.mv))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");rl(this,t),this.Xv=new el}return w.defineProperty(t.prototype,"closed",{get:function(){return Cv(this)?this.Pc:Gf(Dv("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Cv(this)?void 0===this.tv?Gf(ol("cancel")):sl(this,t):Gf(Dv("cancel"))},t.prototype.read=function(t){if(!Cv(this))return Gf(Dv("read"));if(!ArrayBuffer.isView(t))return Gf(new v("view must be an array buffer view"));if(0===t.byteLength)return Gf(new v("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return Gf(new v("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this.tv)return Gf(ol("read from"));var n,i,e=Wf(function(t,e){n=t,i=e});return Nv(this,t,{vv:function(t){return n({value:t,done:!1})},fv:function(t){return n({value:t,done:!0})},wv:function(t){return i(t)}}),e},t.prototype.releaseLock=function(){if(!Cv(this))throw Dv("releaseLock");if(void 0!==this.tv){if(this.Xv.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");ul(this)}},t}();function Cv(t){return!!Ff(t)&&(!!w.prototype.hasOwnProperty.call(t,"Xv")&&t instanceof Rv)}function Nv(t,n,i){var e=t.tv;e._v=!0,"errored"===e.we?i.wv(e.rv):function(t,n,i){var e=t.Cv,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var s=n.constructor,u=Wl(n.buffer),o={buffer:u,bufferByteLength:u.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,viewConstructor:s,readerType:"byob"};if(t.Ov.length>0)return t.Ov.push(o),void Sv(e,i);if("closed"!==e.we){if(t.Iv>0){if(uv(t,o)){var a=rv(o);return av(t),void i.vv(a)}if(t.Dv){var h=new v("Insufficient bytes to fill elements in the given buffer");return gv(t,h),void i.wv(h)}}t.Ov.push(o),Sv(e,i),nv(t)}else{var c=new s(o.buffer,o.byteOffset,0);i.fv(c)}}(e.mv,n,i)}function Dv(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function Pv(t,n){var i=t.highWaterMark;if(void 0===i)return n;if(Xl(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function xv(t){var n=t.size;return n||function(){return 1}}function Bv(t,n){yl(t,n);var i=null==t?void 0:t.highWaterMark,e=null==t?void 0:t.size;return{highWaterMark:void 0===i?void 0:Al(i),size:void 0===e?void 0:Ov(e,n+" has member 'size' that")}}function Ov(t,n){return pl(t,n),function(n){return Al(t(n))}}function Lv(t,n,i){return pl(t,i),function(i){return il(t,n,[i])}}function Mv(t,n,i){return pl(t,i),function(){return il(t,n,[])}}function jv(t,n,i){return pl(t,i),function(i){return nl(t,n,[i])}}function Fv(t,n,i){return pl(t,i),function(i,e){return il(t,n,[i,e])}}function Uv(t,n){if(!Wv(t))throw new v(n+" is not a WritableStream.")}w.defineProperties(Rv.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Lf.toStringTag&&w.defineProperty(Rv.prototype,Lf.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var Hv="function"==typeof AbortController;var Xv=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:_l(t,"First parameter");var i=Bv(n,"Second parameter"),e=function(t,n){yl(t,n);var i=null==t?void 0:t.abort,e=null==t?void 0:t.close,r=null==t?void 0:t.start,s=null==t?void 0:t.type,u=null==t?void 0:t.write;return{abort:void 0===i?void 0:Lv(i,t,n+" has member 'abort' that"),close:void 0===e?void 0:Mv(e,t,n+" has member 'close' that"),start:void 0===r?void 0:jv(r,t,n+" has member 'start' that"),write:void 0===u?void 0:Fv(u,t,n+" has member 'write' that"),type:s}}(t,"First parameter");if(Vv(this),void 0!==e.type)throw new RangeError("Invalid type is specified");var r=xv(i);!function(t,n,i,e){var r=w.create(hd.prototype),s=function(){},u=function(){return qf(void 0)},o=function(){return qf(void 0)},a=function(){return qf(void 0)};void 0!==n.start&&(s=function(){return n.start(r)});void 0!==n.write&&(u=function(t){return n.write(t,r)});void 0!==n.close&&(o=function(){return n.close()});void 0!==n.abort&&(a=function(t){return n.abort(t)});fd(t,r,s,u,o,a,i,e)}(this,e,Pv(i,1),r)}return w.defineProperty(t.prototype,"locked",{get:function(){if(!Wv(this))throw yd("locked");return qv(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),Wv(this)?qv(this)?Gf(new v("Cannot abort a stream that already has a writer")):Gv(this,t):Gf(yd("abort"))},t.prototype.close=function(){return Wv(this)?qv(this)?Gf(new v("Cannot close a stream that already has a writer")):Kv(this)?Gf(new v("Cannot close an already-closing stream")):$v(this):Gf(yd("close"))},t.prototype.getWriter=function(){if(!Wv(this))throw yd("getWriter");return zv(this)},t}();function zv(t){return new nd(t)}function Vv(t){t.we="writable",t.rv=void 0,t.mo=void 0,t.zv=void 0,t.Vv=new el,t.Wv=void 0,t.Gv=void 0,t.qv=void 0,t.Yv=void 0,t.Qv=!1}function Wv(t){return!!Ff(t)&&(!!w.prototype.hasOwnProperty.call(t,"zv")&&t instanceof Xv)}function qv(t){return void 0!==t.mo}function Gv(t,n){var i;if("closed"===t.we||"errored"===t.we)return qf(void 0);t.zv.Zv=n,null===(i=t.zv.Kv)||void 0===i||i.abort();var e=t.we;if("closed"===e||"errored"===e)return qf(void 0);if(void 0!==t.Yv)return t.Yv.Jv;var r=!1;"erroring"===e&&(r=!0,n=void 0);var s=Wf(function(i,e){t.Yv={Jv:void 0,Xu:i,Fu:e,$v:n,il:r}});return t.Yv.Jv=s,r||Qv(t,n),s}function $v(t){var n=t.we;if("closed"===n||"errored"===n)return Gf(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=Wf(function(n,i){var e={Xu:n,Fu:i};t.Gv=e}),r=t.mo;return void 0!==r&&t.Qv&&"writable"===n&&Nd(r),Yl(i=t.zv,ad,0),dd(i),e}function Yv(t,n){"writable"!==t.we?Zv(t):Qv(t,n)}function Qv(t,n){var i=t.zv;t.we="erroring",t.rv=n;var e=t.mo;void 0!==e&&sd(e,n),!function(t){if(void 0===t.Wv&&void 0===t.qv)return!1;return!0}(t)&&i.xv&&Zv(t)}function Zv(t){t.we="errored",t.zv[vl]();var n=t.rv;if(t.Vv.forEach(function(t){t.Fu(n)}),t.Vv=new el,void 0!==t.Yv){var i=t.Yv;if(t.Yv=void 0,i.il)return i.Fu(n),void Jv(t);Yf(t.zv[ll](i.$v),function(){i.Xu(),Jv(t)},function(n){i.Fu(n),Jv(t)})}else Jv(t)}function Kv(t){return void 0!==t.Gv||void 0!==t.qv}function Jv(t){void 0!==t.Gv&&(t.Gv.Fu(t.rv),t.Gv=void 0);var n=t.mo;void 0!==n&&Td(n,t.rv)}function td(t,n){var i=t.mo;void 0!==i&&n!==t.Qv&&(n?function(t){Ed(t)}(i):Nd(i)),t.Qv=n}w.defineProperties(Xv.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Lf.toStringTag&&w.defineProperty(Xv.prototype,Lf.toStringTag,{value:"WritableStream",configurable:!0});var nd=function(){function t(t){if(bl(t,1,"WritableStreamDefaultWriter"),Uv(t,"First parameter"),qv(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.ul=t,t.mo=this;var n,i=t.we;if("writable"===i)!Kv(t)&&t.Qv?Ed(this):Rd(this),kd(this);else if("erroring"===i)Id(this,t.rv),kd(this);else if("closed"===i)Rd(this),kd(n=this),Sd(n);else{var e=t.rv;Id(this,e),Ad(this,e)}}return w.defineProperty(t.prototype,"closed",{get:function(){return id(this)?this.Pc:Gf(_d("closed"))},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!id(this))throw _d("desiredSize");if(void 0===this.ul)throw bd("desiredSize");return function(t){var n=t.ul,i=n.we;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return vd(n.zv)}(this)},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"ready",{get:function(){return id(this)?this.ol:Gf(_d("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),id(this)?void 0===this.ul?Gf(bd("abort")):function(t,n){return Gv(t.ul,n)}(this,t):Gf(_d("abort"))},t.prototype.close=function(){if(!id(this))return Gf(_d("close"));var t=this.ul;return void 0===t?Gf(bd("close")):Kv(t)?Gf(new v("Cannot close an already-closing stream")):ed(this)},t.prototype.releaseLock=function(){if(!id(this))throw _d("releaseLock");void 0!==this.ul&&ud(this)},t.prototype.write=function(t){return void 0===t&&(t=void 0),id(this)?void 0===this.ul?Gf(bd("write to")):od(this,t):Gf(_d("write"))},t}();function id(t){return!!Ff(t)&&(!!w.prototype.hasOwnProperty.call(t,"ul")&&t instanceof nd)}function ed(t){return $v(t.ul)}function rd(t,n){"pending"===t.al?Td(t,n):function(t,n){Ad(t,n)}(t,n)}function sd(t,n){"pending"===t.cl?Cd(t,n):function(t,n){Id(t,n)}(t,n)}function ud(t){var n=t.ul,i=new v("Writer was released and can no longer be used to monitor the stream's closedness");sd(t,i),rd(t,i),n.mo=void 0,t.ul=void 0}function od(t,n){var i=t.ul,e=i.zv,r=function(t,n){try{return t.hl(n)}catch(n){return wd(t,n),1}}(e,n);if(i!==t.ul)return Gf(bd("write to"));var s=i.we;if("errored"===s)return Gf(i.rv);if(Kv(i)||"closed"===s)return Gf(new v("The stream is closing or closed and cannot be written to"));if("erroring"===s)return Gf(i.rv);var u=function(t){return Wf(function(n,i){var e={Xu:n,Fu:i};t.Vv.push(e)})}(i);return function(t,n,i){try{Yl(t,n,i)}catch(n){return void wd(t,n)}var e=t.fl;if(!Kv(e)&&"writable"===e.we){var r=gd(t);td(e,r)}dd(t)}(e,n,r),u}w.defineProperties(nd.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof Lf.toStringTag&&w.defineProperty(nd.prototype,Lf.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var ad={},hd=function(){function t(){throw new v("Illegal constructor")}return w.defineProperty(t.prototype,"abortReason",{get:function(){if(!cd(this))throw pd("abortReason");return this.Zv},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"signal",{get:function(){if(!cd(this))throw pd("signal");if(void 0===this.Kv)throw new v("WritableStreamDefaultController.prototype.signal is not supported");return this.Kv.signal},enumerable:!1,configurable:!0}),t.prototype.error=function(t){if(void 0===t&&(t=void 0),!cd(this))throw pd("error");"writable"===this.fl.we&&md(this,t)},t.prototype[ll]=function(t){var n=this.vl(t);return ld(this),n},t.prototype[vl]=function(){Ql(this)},t}();function cd(t){return!!Ff(t)&&(!!w.prototype.hasOwnProperty.call(t,"fl")&&t instanceof hd)}function fd(t,n,i,e,r,s,u,o){n.fl=t,t.zv=n,n.Ev=void 0,n.Iv=void 0,Ql(n),n.Zv=void 0,n.Kv=function(){if(Hv)return new AbortController}(),n.xv=!1,n.hl=o,n.Hv=u,n.ll=e,n.dl=r,n.vl=s;var a=gd(n);td(t,a),Yf(qf(i()),function(){n.xv=!0,dd(n)},function(i){n.xv=!0,Yv(t,i)})}function ld(t){t.ll=void 0,t.dl=void 0,t.vl=void 0,t.hl=void 0}function vd(t){return t.Hv-t.Iv}function dd(t){var n=t.fl;if(t.xv&&void 0===n.Wv)if("erroring"!==n.we){if(0!==t.Ev.length){var i=t.Ev.peek().value;i===ad?function(t){var n=t.fl;(function(t){t.qv=t.Gv,t.Gv=void 0})(n),$l(t);var i=t.dl();ld(t),Yf(i,function(){!function(t){t.qv.Xu(void 0),t.qv=void 0,"erroring"===t.we&&(t.rv=void 0,void 0!==t.Yv&&(t.Yv.Xu(),t.Yv=void 0)),t.we="closed";var n=t.mo;void 0!==n&&Sd(n)}(n)},function(t){!function(t,n){t.qv.Fu(n),t.qv=void 0,void 0!==t.Yv&&(t.Yv.Fu(n),t.Yv=void 0),Yv(t,n)}(n,t)})}(t):function(t,n){var i=t.fl;(function(t){t.Wv=t.Vv.shift()})(i),Yf(t.ll(n),function(){!function(t){t.Wv.Xu(void 0),t.Wv=void 0}(i);var n=i.we;if($l(t),!Kv(i)&&"writable"===n){var e=gd(t);td(i,e)}dd(t)},function(n){"writable"===i.we&&ld(t),function(t,n){t.Wv.Fu(n),t.Wv=void 0,Yv(t,n)}(i,n)})}(t,i)}}else Zv(n)}function wd(t,n){"writable"===t.fl.we&&md(t,n)}function gd(t){return vd(t)<=0}function md(t,n){var i=t.fl;ld(t),Qv(i,n)}function yd(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function pd(t){return new v("WritableStreamDefaultController.prototype."+t+" can only be used on a WritableStreamDefaultController")}function _d(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function bd(t){return new v("Cannot "+t+" a stream using a released writer")}function kd(t){t.Pc=Wf(function(n,i){t.uv=n,t.ov=i,t.al="pending"})}function Ad(t,n){kd(t),Td(t,n)}function Td(t,n){void 0!==t.ov&&(Jf(t.Pc),t.ov(n),t.uv=void 0,t.ov=void 0,t.al="rejected")}function Sd(t){void 0!==t.uv&&(t.uv(void 0),t.uv=void 0,t.ov=void 0,t.al="resolved")}function Ed(t){t.ol=Wf(function(n,i){t.wl=n,t._l=i}),t.cl="pending"}function Id(t,n){Ed(t),Cd(t,n)}function Rd(t){Ed(t),Nd(t)}function Cd(t,n){void 0!==t._l&&(Jf(t.ol),t._l(n),t.wl=void 0,t._l=void 0,t.cl="rejected")}function Nd(t){void 0!==t.wl&&(t.wl(void 0),t.wl=void 0,t._l=void 0,t.cl="fulfilled")}w.defineProperties(hd.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof Lf.toStringTag&&w.defineProperty(hd.prototype,Lf.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Dd="undefined"!=typeof DOMException?DOMException:void 0;var Pd,xd=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Dd)?Dd:((Pd=function(t,n){this.message=t||"",this.name=n||"Error",l.captureStackTrace&&l.captureStackTrace(this,this.constructor)}).prototype=w.create(l.prototype),w.defineProperty(Pd.prototype,"constructor",{value:Pd,writable:!0,configurable:!0}),Pd);function Bd(t,n,i,e,r,s){var u=Il(t),o=zv(n);t._v=!0;var a=!1,h=qf(void 0);return Wf(function(c,f){var l,d,w,g;if(void 0!==s){if(l=function(){var i=new xd("Aborted","AbortError"),s=[];e||s.push(function(){return"writable"===n.we?Gv(n,i):qf(void 0)}),r||s.push(function(){return"readable"===t.we?uw(t,i):qf(void 0)}),_(function(){return We.all(s.map(function(t){return t()}))},!0,i)},s.aborted)return void l();s.addEventListener("abort",l)}if(p(t,u.Pc,function(t){e?b(!0,t):_(function(){return Gv(n,t)},!0,t)}),p(n,o.Pc,function(n){r?b(!0,n):_(function(){return uw(t,n)},!0,n)}),d=t,w=u.Pc,g=function(){i?b():_(function(){return function(t){var n=t.ul,i=n.we;return Kv(n)||"closed"===i?qf(void 0):"errored"===i?Gf(n.rv):ed(t)}(o)})},"closed"===d.we?g():Qf(w,g),Kv(n)||"closed"===n.we){var m=new v("the destination writable stream closed before all data could be piped to it");r?b(!0,m):_(function(){return uw(t,m)},!0,m)}function y(){var t=h;return $f(h,function(){return t!==h?y():void 0})}function p(t,n,i){"errored"===t.we?i(t.rv):Zf(n,i)}function _(t,i,e){function r(){Yf(t(),function(){return k(i,e)},function(t){return k(!0,t)})}a||(a=!0,"writable"!==n.we||Kv(n)?r():Qf(y(),r))}function b(t,i){a||(a=!0,"writable"!==n.we||Kv(n)?k(t,i):Qf(y(),function(){return k(t,i)}))}function k(t,n){ud(o),ul(u),void 0!==s&&s.removeEventListener("abort",l),t?f(n):c(void 0)}Jf(Wf(function(t,n){!function i(e){e?t():$f(a?qf(!0):$f(o.ol,function(){return Wf(function(t,n){Ll(u,{vv:function(n){h=$f(od(o,n),void 0,Mf),t(!1)},fv:function(){return t(!0)},wv:n})})}),i,n)}(!1)}))})}var Od=function(){function t(){throw new v("Illegal constructor")}return w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Ld(this))throw qd("desiredSize");return zd(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!Ld(this))throw qd("close");if(!Vd(this))throw new v("The stream is not in a state that permits close");Ud(this)},t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Ld(this))throw qd("enqueue");if(!Vd(this))throw new v("The stream is not in a state that permits enqueue");return Hd(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Ld(this))throw qd("error");Xd(this,t)},t.prototype[dl]=function(t){Ql(this);var n=this.Pv(t);return Fd(this),n},t.prototype[wl]=function(t){var n=this.yl;if(this.Ev.length>0){var i=$l(this);this.Dv&&0===this.Ev.length?(Fd(this),ow(n)):Md(this),t.vv(i)}else Rl(n,t),Md(this)},t}();function Ld(t){return!!Ff(t)&&(!!w.prototype.hasOwnProperty.call(t,"yl")&&t instanceof Od)}function Md(t){jd(t)&&(t.Lv?t.Mv=!0:(t.Lv=!0,Yf(t.Uv(),function(){t.Lv=!1,t.Mv&&(t.Mv=!1,Md(t))},function(n){Xd(t,n)})))}function jd(t){var n=t.yl;return!!Vd(t)&&(!!t.xv&&(!!(sw(n)&&Nl(n)>0)||zd(t)>0))}function Fd(t){t.Uv=void 0,t.Pv=void 0,t.hl=void 0}function Ud(t){if(Vd(t)){var n=t.yl;t.Dv=!0,0===t.Ev.length&&(Fd(t),ow(n))}}function Hd(t,n){if(Vd(t)){var i=t.yl;if(sw(i)&&Nl(i)>0)Cl(i,n,!1);else{var e=void 0;try{e=t.hl(n)}catch(n){throw Xd(t,n),n}try{Yl(t,n,e)}catch(n){throw Xd(t,n),n}}Md(t)}}function Xd(t,n){var i=t.yl;"readable"===i.we&&(Ql(t),Fd(t),aw(i,n))}function zd(t){var n=t.yl.we;return"errored"===n?null:"closed"===n?0:t.Hv-t.Iv}function Vd(t){var n=t.yl.we;return!t.Dv&&"readable"===n}function Wd(t,n,i,e,r,s,u){n.yl=t,n.Ev=void 0,n.Iv=void 0,Ql(n),n.xv=!1,n.Dv=!1,n.Mv=!1,n.Lv=!1,n.hl=u,n.Hv=s,n.Uv=e,n.Pv=r,t.mv=n,Yf(qf(i()),function(){n.xv=!0,Md(n)},function(t){Xd(n,t)})}function qd(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function Gd(t,n){return Jl(t.mv)?function(t){var n,i,e,r,s,u=Il(t),o=!1,a=!1,h=!1,c=!1,f=!1,l=Wf(function(t){s=t});function v(t){Zf(t.Pc,function(n){t===u&&(gv(e.mv,n),gv(r.mv,n),c&&f||s(void 0))})}function d(){Cv(u)&&(ul(u),v(u=Il(t)));var n={vv:function(n){tl(function(){a=!1,h=!1;var i=n,u=n;if(!c&&!f)try{u=Gl(n)}catch(n){return gv(e.mv,n),gv(r.mv,n),void s(uw(t,n))}c||wv(e.mv,i),f||wv(r.mv,u),o=!1,a?g():h&&m()})},fv:function(){o=!1,c||dv(e.mv),f||dv(r.mv),e.mv.Ov.length>0&&pv(e.mv,0),r.mv.Ov.length>0&&pv(r.mv,0),c&&f||s(void 0)},wv:function(){o=!1}};Ll(u,n)}function w(n,i){Ol(u)&&(ul(u),v(u=Tv(t)));var l=i?r:e,d=i?e:r,w={vv:function(n){tl(function(){a=!1,h=!1;var e=i?f:c,r=i?c:f;if(r)e||_v(l.mv,n);else{var u=void 0;try{u=Gl(n)}catch(n){return gv(l.mv,n),gv(d.mv,n),void s(uw(t,n))}e||_v(l.mv,n),wv(d.mv,u)}o=!1,a?g():h&&m()})},fv:function(t){o=!1;var n=i?f:c,e=i?c:f;n||dv(l.mv),e||dv(d.mv),void 0!==t&&(n||_v(l.mv,t),!e&&d.mv.Ov.length>0&&pv(d.mv,0)),n&&e||s(void 0)},wv:function(){o=!1}};Nv(u,n,w)}function g(){if(o)return a=!0,qf(void 0);o=!0;var t=mv(e.mv);return null===t?d():w(t.Rv,!1),qf(void 0)}function m(){if(o)return h=!0,qf(void 0);o=!0;var t=mv(r.mv);return null===t?d():w(t.Rv,!0),qf(void 0)}function y(){}return e=iw(y,g,function(e){if(c=!0,n=e,f){var r=zl([n,i]),u=uw(t,r);s(u)}return l}),r=iw(y,m,function(e){if(f=!0,i=e,c){var r=zl([n,i]),u=uw(t,r);s(u)}return l}),v(u),[e,r]}(t):function(t,n){var i,e,r,s,u,o=Il(t),a=!1,h=!1,c=!1,f=!1,l=Wf(function(t){u=t});function v(){if(a)return h=!0,qf(void 0);a=!0;var t={vv:function(t){tl(function(){h=!1;var n=t,i=t;c||Hd(r.mv,n),f||Hd(s.mv,i),a=!1,h&&v()})},fv:function(){a=!1,c||Ud(r.mv),f||Ud(s.mv),c&&f||u(void 0)},wv:function(){a=!1}};return Ll(o,t),qf(void 0)}function d(){}return r=nw(d,v,function(n){if(c=!0,i=n,f){var r=zl([i,e]),s=uw(t,r);u(s)}return l}),s=nw(d,v,function(n){if(f=!0,e=n,c){var r=zl([i,e]),s=uw(t,r);u(s)}return l}),Zf(o.Pc,function(t){Xd(r.mv,t),Xd(s.mv,t),c&&f||u(void 0)}),[r,s]}(t)}function $d(t,n,i){return pl(t,i),function(i){return il(t,n,[i])}}function Yd(t,n,i){return pl(t,i),function(i){return il(t,n,[i])}}function Qd(t,n,i){return pl(t,i),function(i){return nl(t,n,[i])}}function Zd(t,n){if("bytes"!==(t=""+t))throw new v(n+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function Kd(t,n){if("byob"!==(t=""+t))throw new v(n+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function Jd(t,n){yl(t,n);var i=null==t?void 0:t.preventAbort,e=null==t?void 0:t.preventCancel,r=null==t?void 0:t.preventClose,s=null==t?void 0:t.signal;return void 0!==s&&function(t,n){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new v(n+" is not an AbortSignal.")}(s,n+" has member 'signal' that"),{preventAbort:Boolean(i),preventCancel:Boolean(e),preventClose:Boolean(r),signal:s}}w.defineProperties(Od.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Lf.toStringTag&&w.defineProperty(Od.prototype,Lf.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var tw=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:_l(t,"First parameter");var i=Bv(n,"Second parameter"),e=function(t,n){yl(t,n);var i=t,e=null==i?void 0:i.autoAllocateChunkSize,r=null==i?void 0:i.cancel,s=null==i?void 0:i.pull,u=null==i?void 0:i.start,o=null==i?void 0:i.type;return{autoAllocateChunkSize:void 0===e?void 0:Sl(e,n+" has member 'autoAllocateChunkSize' that"),cancel:void 0===r?void 0:$d(r,i,n+" has member 'cancel' that"),pull:void 0===s?void 0:Yd(s,i,n+" has member 'pull' that"),start:void 0===u?void 0:Qd(u,i,n+" has member 'start' that"),type:void 0===o?void 0:Zd(o,n+" has member 'type' that")}}(t,"First parameter");if(ew(this),"bytes"===e.type){if(void 0!==i.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,n,i){var e=w.create(Kl.prototype),r=function(){},s=function(){return qf(void 0)},u=function(){return qf(void 0)};void 0!==n.start&&(r=function(){return n.start(e)}),void 0!==n.pull&&(s=function(){return n.pull(e)}),void 0!==n.cancel&&(u=function(t){return n.cancel(t)});var o=n.autoAllocateChunkSize;if(0===o)throw new v("autoAllocateChunkSize must be greater than 0");bv(t,e,r,s,u,i,o)}(this,e,Pv(i,0))}else{var r=xv(i);!function(t,n,i,e){var r=w.create(Od.prototype),s=function(){},u=function(){return qf(void 0)},o=function(){return qf(void 0)};void 0!==n.start&&(s=function(){return n.start(r)}),void 0!==n.pull&&(u=function(){return n.pull(r)}),void 0!==n.cancel&&(o=function(t){return n.cancel(t)}),Wd(t,r,s,u,o,i,e)}(this,e,Pv(i,1),r)}}return w.defineProperty(t.prototype,"locked",{get:function(){if(!rw(this))throw hw("locked");return sw(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),rw(this)?sw(this)?Gf(new v("Cannot cancel a stream that already has a reader")):uw(this,t):Gf(hw("cancel"))},t.prototype.getReader=function(t){if(void 0===t&&(t=void 0),!rw(this))throw hw("getReader");return void 0===function(t,n){yl(t,n);var i=null==t?void 0:t.mode;return{mode:void 0===i?void 0:Kd(i,n+" has member 'mode' that")}}(t,"First parameter").mode?Il(this):Tv(this)},t.prototype.pipeThrough=function(t,n){if(void 0===n&&(n={}),!rw(this))throw hw("pipeThrough");bl(t,1,"pipeThrough");var i=function(t,n){yl(t,n);var i=null==t?void 0:t.readable;kl(i,"readable","ReadableWritablePair"),El(i,n+" has member 'readable' that");var e=null==t?void 0:t.writable;return kl(e,"writable","ReadableWritablePair"),Uv(e,n+" has member 'writable' that"),{readable:i,writable:e}}(t,"First parameter"),e=Jd(n,"Second parameter");if(sw(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(qv(i.writable))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Jf(Bd(this,i.writable,e.preventClose,e.preventAbort,e.preventCancel,e.signal)),i.readable},t.prototype.pipeTo=function(t,n){if(void 0===n&&(n={}),!rw(this))return Gf(hw("pipeTo"));if(void 0===t)return Gf("Parameter 1 is required in 'pipeTo'.");if(!Wv(t))return Gf(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var i;try{i=Jd(n,"Second parameter")}catch(t){return Gf(t)}return sw(this)?Gf(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):qv(t)?Gf(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Bd(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)},t.prototype.tee=function(){if(!rw(this))throw hw("tee");return zl(Gd(this))},t.prototype.values=function(t){if(void 0===t&&(t=void 0),!rw(this))throw hw("values");var n,i,e,r,s,u=function(t,n){yl(t,n);var i=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(i)}}(t,"First parameter");return n=this,i=u.preventCancel,e=Il(n),r=new jl(e,i),(s=w.create(Fl)).Sv=r,s},t}();function nw(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=w.create(tw.prototype);return ew(s),Wd(s,w.create(Od.prototype),t,n,i,e,r),s}function iw(t,n,i){var e=w.create(tw.prototype);return ew(e),bv(e,w.create(Kl.prototype),t,n,i,0,void 0),e}function ew(t){t.we="readable",t.ev=void 0,t.rv=void 0,t._v=!1}function rw(t){return!!Ff(t)&&(!!w.prototype.hasOwnProperty.call(t,"mv")&&t instanceof tw)}function sw(t){return void 0!==t.ev}function uw(t,n){if(t._v=!0,"closed"===t.we)return qf(void 0);if("errored"===t.we)return Gf(t.rv);ow(t);var i=t.ev;return void 0!==i&&Cv(i)&&(i.Xv.forEach(function(t){t.fv(void 0)}),i.Xv=new el),Kf(t.mv[dl](n),Mf)}function ow(t){t.we="closed";var n=t.ev;void 0!==n&&(fl(n),Ol(n)&&(n.hv.forEach(function(t){t.fv()}),n.hv=new el))}function aw(t,n){t.we="errored",t.rv=n;var i=t.ev;void 0!==i&&(cl(i,n),Ol(i)?(i.hv.forEach(function(t){t.wv(n)}),i.hv=new el):(i.Xv.forEach(function(t){t.wv(n)}),i.Xv=new el))}function hw(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function cw(t,n){yl(t,n);var i=null==t?void 0:t.highWaterMark;return kl(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Al(i)}}w.defineProperties(tw.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Lf.toStringTag&&w.defineProperty(tw.prototype,Lf.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof Lf.asyncIterator&&w.defineProperty(tw.prototype,Lf.asyncIterator,{value:tw.prototype.values,writable:!0,configurable:!0});var fw=function(t){return t.byteLength};try{w.defineProperty(fw,"name",{value:"size",configurable:!0})}catch(Pl){}var lw=function(){function t(t){bl(t,1,"ByteLengthQueuingStrategy"),t=cw(t,"First parameter"),this.bl=t.highWaterMark}return w.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!dw(this))throw vw("highWaterMark");return this.bl},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"size",{get:function(){if(!dw(this))throw vw("size");return fw},enumerable:!1,configurable:!0}),t}();function vw(t){return new v("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function dw(t){return!!Ff(t)&&(!!w.prototype.hasOwnProperty.call(t,"bl")&&t instanceof lw)}w.defineProperties(lw.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Lf.toStringTag&&w.defineProperty(lw.prototype,Lf.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var ww=function(){return 1};try{w.defineProperty(ww,"name",{value:"size",configurable:!0})}catch(Pl){}var gw=function(){function t(t){bl(t,1,"CountQueuingStrategy"),t=cw(t,"First parameter"),this.Al=t.highWaterMark}return w.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!yw(this))throw mw("highWaterMark");return this.Al},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"size",{get:function(){if(!yw(this))throw mw("size");return ww},enumerable:!1,configurable:!0}),t}();function mw(t){return new v("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function yw(t){return!!Ff(t)&&(!!w.prototype.hasOwnProperty.call(t,"Al")&&t instanceof gw)}function pw(t,n,i){return pl(t,i),function(i){return il(t,n,[i])}}function _w(t,n,i){return pl(t,i),function(i){return nl(t,n,[i])}}function bw(t,n,i){return pl(t,i),function(i,e){return il(t,n,[i,e])}}w.defineProperties(gw.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Lf.toStringTag&&w.defineProperty(gw.prototype,Lf.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var kw=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===t&&(t=null);var e=Bv(n,"Second parameter"),r=Bv(i,"Third parameter"),s=function(t,n){yl(t,n);var i=null==t?void 0:t.flush,e=null==t?void 0:t.readableType,r=null==t?void 0:t.start,s=null==t?void 0:t.transform,u=null==t?void 0:t.writableType;return{flush:void 0===i?void 0:pw(i,t,n+" has member 'flush' that"),readableType:e,start:void 0===r?void 0:_w(r,t,n+" has member 'start' that"),transform:void 0===s?void 0:bw(s,t,n+" has member 'transform' that"),writableType:u}}(t,"First parameter");if(void 0!==s.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==s.writableType)throw new RangeError("Invalid writableType specified");var u,o=Pv(r,0),a=xv(r),h=Pv(e,1),c=xv(e);!function(t,n,i,e,r,s){function u(){return n}t.Tl=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=w.create(Xv.prototype);return Vv(u),fd(u,w.create(hd.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.Sl;if(t.Qv){var e=t.El;return Kf(e,function(){var e=t.Tl,r=e.we;if("erroring"===r)throw e.rv;return Dw(i,n)})}return Dw(i,n)}(t,n)},function(){return function(t){var n=t.Il,i=t.Sl,e=i.Rl();return Cw(i),Kf(e,function(){if("errored"===n.we)throw n.rv;Ud(n.mv)},function(i){throw Tw(t,i),n.rv})}(t)},function(n){return function(t,n){return Tw(t,n),qf(void 0)}(t,n)},i,e),t.Il=nw(u,function(){return function(t){return Ew(t,!1),t.El}(t)},function(n){return Sw(t,n),qf(void 0)},r,s),t.Qv=void 0,t.El=void 0,t.Nl=void 0,Ew(t,!0),t.Sl=void 0}(this,Wf(function(t){u=t}),h,c,o,a),function(t,n){var i=w.create(Iw.prototype),e=function(t){try{return Nw(i,t),qf(void 0)}catch(t){return Gf(t)}},r=function(){return qf(void 0)};void 0!==n.transform&&(e=function(t){return n.transform(t,i)});void 0!==n.flush&&(r=function(){return n.flush(i)});!function(t,n,i,e){n.Dl=t,t.Sl=n,n.Cl=i,n.Rl=e}(t,i,e,r)}(this,s),void 0!==s.start?u(s.start(this.Sl)):u(void 0)}return w.defineProperty(t.prototype,"readable",{get:function(){if(!Aw(this))throw xw("readable");return this.Il},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"writable",{get:function(){if(!Aw(this))throw xw("writable");return this.Tl},enumerable:!1,configurable:!0}),t}();function Aw(t){return!!Ff(t)&&(!!w.prototype.hasOwnProperty.call(t,"Sl")&&t instanceof kw)}function Tw(t,n){Xd(t.Il.mv,n),Sw(t,n)}function Sw(t,n){Cw(t.Sl),wd(t.Tl.zv,n),t.Qv&&Ew(t,!1)}function Ew(t,n){void 0!==t.El&&t.Nl(),t.El=Wf(function(n){t.Nl=n}),t.Qv=n}w.defineProperties(kw.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Lf.toStringTag&&w.defineProperty(kw.prototype,Lf.toStringTag,{value:"TransformStream",configurable:!0});var Iw=function(){function t(){throw new v("Illegal constructor")}return w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Rw(this))throw Pw("desiredSize");return zd(this.Dl.Il.mv)},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Rw(this))throw Pw("enqueue");Nw(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Rw(this))throw Pw("error");var n;n=t,Tw(this.Dl,n)},t.prototype.terminate=function(){if(!Rw(this))throw Pw("terminate");!function(t){var n=t.Dl;Ud(n.Il.mv);var i=new v("TransformStream terminated");Sw(n,i)}(this)},t}();function Rw(t){return!!Ff(t)&&(!!w.prototype.hasOwnProperty.call(t,"Dl")&&t instanceof Iw)}function Cw(t){t.Cl=void 0,t.Rl=void 0}function Nw(t,n){var i=t.Dl,e=i.Il.mv;if(!Vd(e))throw new v("Readable side is not in a state that permits enqueue");try{Hd(e,n)}catch(t){throw Sw(i,t),i.Il.rv}(function(t){return!jd(t)})(e)!==i.Qv&&Ew(i,!0)}function Dw(t,n){return Kf(t.Cl(n),void 0,function(n){throw Tw(t.Dl,n),n})}function Pw(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function xw(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}w.defineProperties(Iw.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Lf.toStringTag&&w.defineProperty(Iw.prototype,Lf.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var Bw,Ow=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return E(n,t),T(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(tn);function Lw(t){return n=[t],new tw({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function Mw(t){return Lw(new _(t))}function jw(t,n){return function(t,n){var i=n,e=t.getReader(),r=new ta,s=function(){u();var t=new ou;e.cancel(t).catch(Z),r.Vu(t)},u=function(){i&&(i.xs(s),i=void 0)};i&&(i.Rs?s():i.Os(s));var o=[];return We.resolve(e.read()).then(function t(n){return n.done?(u(),We.resolve(o)):(o.push(n.value),We.resolve(e.read()).then(t))}).then(function(t){u(),r.Hu(t)},function(t){u(),r.Vu(t)}),r.Uu}(t,n).then(function(t){return Gu(t).buffer})}function Fw(t,n){var i=n,e=new kw,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Xs()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(Z)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(Z)}),r}function Uw(t){var n=new kw,i=n.readable,e=n.writable;return t.pipeTo(e,{preventCancel:!0}).catch(function(n){var i;i=X(n)?n[0]===n[1]||au(n[0])&&au(n[1])?n[0]:new Ow(n):n,t.cancel(i).catch(Z)}),i.tee()}function Hw(t){return Uo(new _(t))}function Xw(t){return Ho(t).buffer}!function(t){t[t.Gf=0]="Gf",t[t.Pl=1]="Pl"}(Bw||(Bw={}));var zw="content-type",Vw="text/plain;charset=UTF-8",Ww=function(){function t(){}var n=t.prototype;return n.Bl=function(t){return this.Ol(t).then(JSON.parse)},n.xl=function(t,n){switch(t){case Pf.Vf:return this.Ll(n);case Pf.Wf:return this.Bl(n);case Pf.Gf:return this.Ml();case Pf.Kn:return this.Ol(n);default:throw new v}},t}();function qw(t,n,i){if(t instanceof Ww)return t;if(t instanceof tw)return function(t,n){return new $w({us:Bw.Gf,Ml:t,Ul:Gw(n)})}(t,i);var e=Gw(i),r=We.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{us:Pf.Kn,Xl:t,Ul:n||Vw};if(t instanceof ArrayBuffer||Vu(t))return{us:Pf.Vf,Xl:ng(t),Ul:n};if(W(t)||X(t))return{us:Pf.Wf,Xl:t,Ul:n};throw new v("Unsupported BodyInit type")}return{us:Pf.Kn,Xl:null,Ul:n}}(t,e)});return new $w({us:Bw.Pl,Uu:r,Fl:n})}function Gw(t){return(t.get(zw)||"").toLowerCase()}var $w=function(t){function n(n){var i;return(i=t.call(this)||this).Hl=!1,i.zl=void 0,i.Vl=new ta,i.Vl.Uu.catch(Z),i.Wl(n),i}E(n,t);var i=n.prototype;return i.Gl=function(){return this.Vl.Uu},i.Ol=function(t){return this.ql(Yw,t)},i.Bl=function(t){return this.ql(Zw,t)},i.Ll=function(t){return this.ql(Jw,t)},i.Ml=function(){return this.Yl((t=this.zl).us===Bw.Gf?t.Ml:Fw(t.Uu.then(tg).then(Mw),t.Fl));var t},i.ql=function(t,n){if(this.Hl)return We.reject(new v("Already used"));this.Hl=!0;var i=t(this.zl,n);return this.Vl.Hu(i.then(Z)),i},i.Yl=function(t){if(this.Hl)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.Hl=!0;var n=new kw,i=We.resolve(t.pipeTo(n.writable));return this.Vl.Hu(i),n.readable},i.Wl=function(t){this.zl=t,t.us===Bw.Pl&&t.Uu.catch(Z)},i.jl=function(){if(this.Hl)throw new v("Already used");var t=function(t){if(t.us===Bw.Gf){var n=t.Ml.tee(),i=n[0],e=n[1];return[{us:t.us,Ml:i,Ul:t.Ul},{us:t.us,Ml:e,Ul:t.Ul}]}var r=t.Fl.Hs(),s=r[0],u=r[1];return[{us:t.us,Uu:t.Uu,Fl:s},{us:t.us,Uu:t.Uu,Fl:u}]}(this.zl),i=t[0],e=t[1];return this.Wl(i),new n(e)},T(n,[{key:"Ql",get:function(){return this.Hl}}]),n}(Ww);function Yw(t,n){return t.us===Bw.Gf?jw(t.Ml,n).then(Hw):(n&&t.Fl.Fs(n),vu(t.Uu.then(Qw),t.Fl))}function Qw(t){switch(t.us){case Pf.Kn:return We.resolve(t.Xl||"");case Pf.Vf:return We.resolve(t.Xl).then(Hw);case Pf.Wf:return We.resolve(t.Xl).then(JSON.stringify)}}function Zw(t,n){return t.us===Bw.Gf?Yw(t,n).then(JSON.parse):(n&&t.Fl.Fs(n),vu(t.Uu.then(Kw),t.Fl))}function Kw(t){return t.us===Pf.Wf?We.resolve(t.Xl):Qw(t).then(JSON.parse)}function Jw(t,n){return t.us===Bw.Gf?jw(t.Ml,n):(n&&t.Fl.Fs(n),vu(t.Uu.then(tg),t.Fl))}function tg(t){switch(t.us){case Pf.Vf:return We.resolve(t.Xl);case Pf.Kn:case Pf.Wf:return Qw(t).then(Xw)}}function ng(t){return t instanceof ArrayBuffer?t:Qo(qo(t)).buffer}function ig(t){return t.Zl>=200&&t.Zl<=299||304===t.Zl}var eg,rg,sg,ug,og=function(t){function n(n,i){var e,r,s,u,o,a;i?(r=i.Kl,s=i.Jl,u=i.Zl,o=i.$l,a=i.td):(r=[],s=Pf.Kn,u=200,o="OK",a=!1);var h=n.ed,c=new xf(n.Kl||r),f=n.Jl||s,l=n.rd||(i&&i.ed===h?i.rd:h.ud),v=i?i.od:null,d=qw(void 0!==n.Xi?n.Xi:v,n.Fl||new uu,c);return(e=t.call(this,d)||this).Kl=void 0,e.ed=void 0,e.rd=void 0,e.Jl=void 0,e.Zl=void 0,e.$l=void 0,e.td=void 0,e.Kl=c,e.ed=h,e.rd=l,e.Jl=f,e.Zl=void 0!==n.Zl?n.Zl:u,e.$l=void 0!==n.$l?String(n.$l):o,e.td=n.td||a,e}E(n,t);var i=n.prototype;return i.Xi=function(t){return this.xl(this.Jl,t)},i.Ou=function(){return new n({Xi:this.jl(),ed:this.ed},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).od=void 0,i.od=n,i}E(n,t);var i=n.prototype;return i.Gl=function(){return this.od.Gl()},i.Ol=function(t){return this.od.Ol(t)},i.Bl=function(t){return this.od.Bl(t)},i.Ll=function(t){return this.od.Ll(t)},i.Ml=function(){return this.od.Ml()},i.jl=function(){return this.od.jl()},T(n,[{key:"Ql",get:function(){return this.od.Ql}}]),n}(Ww));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(eg||(eg={})),function(t){t.hd="",t.fd="manifest",t.vd="segment",t.ld="content-protection"}(rg||(rg={})),function(t){t.hd="",t.dd="initialization-segment",t.wd="fairplay-license",t._d="fairplay-certificate",t.md="widevine-license",t.yd="widevine-certificate",t.kd="playready-license",t.bd="clearkey-license",t.pd="aes128-key"}(sg||(sg={})),function(t){t.hd="",t.Ad="audio",t.Td="video",t.Kn="text",t.Sd="image"}(ug||(ug={}));var ag=function(t,n){this.Xl=void 0,this.Kl=void 0,this.Ed=void 0,this.Jl=void 0,this.Id=void 0,this.zs=void 0,this.us=void 0,this.Rd=void 0,this.Nd=void 0,this.ud=void 0,this.Dd=void 0,this.Cd=void 0;var i,e,r,s,u,o,a,h,c,f,l,v=t.ud;n?(i=n.Xl,e=n.Kl,r=n.Ed,s=n.Jl,u=n.Id,o=n.zs,a=n.us,h=n.Rd,c=n.Nd,f=n.Dd,l=n.Cd):(i=null,e={},r=eg.GET,s=Pf.Kn,u=0,a=rg.hd,h=sg.hd,c=ug.hd,f=!1),this.ud=v,this.Xl=t.Xl||i,this.Kl=new xf(t.Kl||e),this.Ed=t.Ed||r,this.Jl=t.Jl||s,this.Id=void 0!==t.Id?Number(t.Id)||0:u,this.zs=t.zs||o||(new uu).zs,this.us=t.us||a,this.Rd=t.Rd||h,this.Nd=t.Nd||c,this.Dd=void 0!==t.Dd?Boolean(t.Dd):f,this.Cd=t.Cd||l},hg=function(){function t(){}var n=t.prototype;return n.ed=function(t){var n=function(t){return new og({Xi:null,Kl:{},ed:t,rd:t.ud,Jl:t.Jl,Zl:0,$l:Df.pf})}(new ag(t));return We.resolve(n)},n.Pd=function(t){},n.Bd=function(){},t}();var cg=function(){function t(t,n){void 0===n&&(n=!0),this.Od=void 0,this.xd=void 0,this.Od=t,this.xd=n}var n=t.prototype;return n.ed=function(t){var n=this.Ld(t);return this.Od.ed(n)},n.Pd=function(t){return this.Od.Pd(this.Md(t))},n.Ld=function(n){var i=new ag(n);if(!this.xd){var e=t.Ud(i.ud);i=new ag({ud:e},i)}return i},n.Md=function(n){var i=n.ud;return this.xd||(i=t.Ud(i)),{ud:i,Xl:n.Xl}},t.Ud=function(t){return i.Ur&&ks(t,"http://")?t.replace(":","s:"):t},n.Bd=function(){this.Od.Bd()},T(t,null,[{key:"Xd",get:function(){return t.Fd||(t.Fd=new t(new hg)),t.Fd}}]),t}();function fg(t,n){for(var i=0,e=w.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function lg(t,n){var e=i.Pr(t);return n&&!As(e,"/")&&(e+="/"),e}cg.Fd=void 0;var vg,dg=/cache:(.+)?(?=&|$)/,wg="http://webcache.googleusercontent.com/search?q=cache:";function gg(t){if(!ks(t,wg))return"";var n=i.Cr(t).search.match(dg);return n&&n.length>1?n[1]:""}!function(t){t.Hd="HttpOpenError",t.zd="HttpResponseError",t.Vd="HttpTimeoutError"}(vg||(vg={}));var mg=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Wd=void 0,r.Wd=n,r}return E(n,t),T(n,[{key:"ed",get:function(){return this.Wd}}]),n}(tn);var yg=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.ud+". Invalid URL.",i)||this}return E(n,t),T(n,[{key:"name",get:function(){return vg.Hd}}]),n}(mg);var pg=function(t){function n(n,i,e){var r;return(r=t.call(this,n.ed,null!=e?e:function(t){return"Error while loading "+t.ed.ud+", status code "+t.Zl}(n),i)||this).Gd=void 0,r.Gd=n,r}return E(n,t),T(n,[{key:"name",get:function(){return vg.zd}},{key:"qd",get:function(){return this.Gd}}]),n}(mg);var _g=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.ud+" timed out after "+t.Id+" seconds."}(n),i)||this}return E(n,t),T(n,[{key:"name",get:function(){return vg.Vd}}]),n}(mg),bg=function(t,n){return(bg=w.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function kg(t,n){function i(){this.constructor=t}bg(t,n),t.prototype=null===n?w.create(n):(i.prototype=n.prototype,new i)}var Ag="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var Tg=function(){var t=Ag.Blob;if(t)try{return new t,function(t,n){return new Ag.Blob(t,n)}}catch(t){}var n,i=Ag.BlobBuilder||Ag.WebKitBlobBuilder||Ag.MozBlobBuilder||Ag.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),Sg="function"==typeof tw?tw:void 0;function Eg(t){return t&&"function"==typeof t.getReader}function Ig(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Eg(i)}catch(t){return!1}}var Rg=function(){function t(t,n){this.ev=t,this.Yd=n}return t.prototype.pull=function(t){var n=this;return this.ev.read().then(function(i){n.Yd&&n.Yd(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.ev.cancel(t)},t}();function Cg(t,n){return n.constructor===t?n:new t(new Rg(n.getReader()),{highWaterMark:0})}var Ng=function(){function t(t,n){this.jd=t,this.Qd=n}return t.prototype.pull=function(t){return this.jd().then(function(n){t.enqueue(new _(n)),t.close()})},t.prototype.cancel=function(t){this.Qd&&this.Qd(t)},t}();function Dg(t,n,i){return new t(new Ng(n,i),{highWaterMark:0})}var Pg={searchParams:"URLSearchParams"in Ag,iterable:"Symbol"in Ag&&"iterator"in Symbol,blob:"FileReader"in Ag&&!!Tg,formData:"FormData"in Ag,arrayBuffer:"ArrayBuffer"in Ag,stream:Ig(Sg),streamRequest:"Request"in Ag&&"body"in Ag.Request.prototype,streamResponse:"Response"in Ag&&"body"in Ag.Response.prototype,abort:"AbortController"in Ag&&"Request"in Ag&&"signal"in Ag.Request.prototype,encoding:"TextEncoder"in Ag&&"TextDecoder"in Ag,url:"URL"in Ag&&function(t){try{return new Ag.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Ag&&/Firefox\//.test(Ag.navigator.userAgent)};function xg(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function Bg(t){return"string"!=typeof t&&(t=String(t)),t}function Og(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Pg.iterable&&(n[Symbol.iterator]=function(){return n}),n}var Lg=function(){function t(t){var n=this;this.Qr={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return Pg.iterable&&t&&t[Symbol.iterator]}(t)?t&&w.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=xg(t),n=Bg(n);var i=t.toLowerCase();if(this.Qr.hasOwnProperty(i)){var e=this.Qr[i],r=e[1];e[1]=r?r+", "+n:n}else this.Qr[i]=[t,n]},t.prototype.delete=function(t){var n=xg(t).toLowerCase();delete this.Qr[n]},t.prototype.get=function(t){var n=xg(t).toLowerCase();return this.Qr.hasOwnProperty(n)?this.Qr[n][1]:null},t.prototype.has=function(t){var n=xg(t).toLowerCase();return this.Qr.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=xg(t)).toLowerCase();this.Qr[i]=[t,Bg(n)]},t.prototype.forEach=function(t,n){for(var i in this.Qr)this.Qr.hasOwnProperty(i)&&t.call(n,this.Qr[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),Og(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),Og(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),Og(t)},t.prototype.asList=function(){var t=[];for(var n in this.Qr)if(this.Qr.hasOwnProperty(n)){var i=this.Qr[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function Mg(){}Pg.iterable&&(Lg.prototype[Symbol.iterator]=Lg.prototype.entries);var jg,Fg,Ug,Hg=g.min,Xg=String.fromCharCode,zg=16384;function Vg(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=zg){var r=Hg(e+zg,n);i.push(Xg.apply(null,t.slice(e,r)))}return i.join("")}(n)}function Wg(t){if(t>=55296&&t<=57343)throw new l("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function qg(t,n){return t>>n&63|128}function Gg(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Wg(t),n.push(t>>12&15|224),n.push(qg(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(qg(t,12)),n.push(qg(t,6))),n.push(63&t|128)):n.push(t)}function $g(){if(Ug>=Fg)throw new l("Invalid byte index");var t=255&jg[Ug];if(Ug++,128==(192&t))return 63&t;throw new l("Invalid continuation byte")}function Yg(){var t,n;if(Ug>Fg)throw new l("Invalid byte index");if(Ug===Fg)return!1;if(t=255&jg[Ug],Ug++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|$g())>=128)return n;throw new l("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|$g()<<6|$g())>=2048)return Wg(n),n;throw new l("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|$g()<<12|$g()<<6|$g())>=65536&&n<=1114111)return n;throw new l("Invalid UTF-8 detected")}var Qg=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Zg(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Kg(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Jg(t){return t&&DataView.prototype.isPrototypeOf(t)}var tm,nm=ArrayBuffer.isView||function(t){return t&&(Qg.indexOf(w.prototype.toString.call(t))>-1||Jg(t))};function im(t){if(t.bodyUsed)return We.reject(new v("Already used"));t.bodyUsed=!0}function em(t){return new We(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function rm(t){return Pg.encoding?new Ag.TextDecoder("utf-8").decode(new _(t)):Vg(function(t){Fg=(jg=t).length,Ug=0;for(var n,i=[];!1!==(n=Yg());)i.push(n);return i}(new _(t)))}function sm(t){return Pg.encoding?(new Ag.TextEncoder).encode(t).buffer:new _(function(t){for(var n=[],i=0,e=t;i<e.length;i++)Gg(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function um(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?We.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function om(t){return um(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(a=e[i]).byteLength;for(var r=new _(n),s=0,u=0,o=t;u<o.length;u++){var a=o[u];r.set(a,s),s+=a.byteLength}return r}(t).buffer})}function am(t){return t.slice?t.slice(0):hm(new _(t))}function hm(t){if(t.slice)return t.slice(0).buffer;var n=new _(t.byteLength);return n.set(new _(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function cm(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function fm(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.Zd===tm.Kd){if(!n.Jd.tee)throw new l("could not clone ReadableStream body");var i=n.Jd.tee(),e=i[0],r=i[1];return n.body=e,n.Jd=e,n.$d=e,r}return n.Zd===tm.Vf?am(n.Jd):n.Zd===tm.Pl?n.Jd.then(fm):n.$d}!function(t){t[t.Kn=0]="Kn",t[t.nw=1]="nw",t[t.iw=2]="iw",t[t.Vf=3]="Vf",t[t.Kd=4]="Kd",t[t.Pl=5]="Pl"}(tm||(tm={}));var lm=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.$d=n||null,n)if("string"==typeof n)this.Zd=tm.Kn,this.Jd=n;else if((s=n)&&"function"==typeof s.then)this.Zd=tm.Pl,this.Jd=We.resolve(n).then(function(n){return new t(n,i)}),this.Jd.catch(Mg);else if(Pg.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Zd=tm.nw,this.Jd=n;else if(Pg.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Zd=tm.iw,this.Jd=n;else if(Pg.searchParams&&Zg(n))this.Zd=tm.Kn,this.Jd=n.toString();else if(Pg.arrayBuffer&&(Kg(n)||nm(n)))Jg(n)&&(this.$d=new _((r=n).buffer,r.byteOffset,r.byteLength)),this.Zd=tm.Vf,this.Jd=Kg(e=n)?am(e):hm(e);else{if(!Pg.stream||!Eg(n))throw new l("unsupported BodyInit type");n=Cg(Sg,n),this.Zd=tm.Kd,this.Jd=n,this.$d=n}else this.Zd=tm.Kn,this.Jd="";this.ew="",i.has("content-type")?this.ew=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.ew="text/plain;charset=UTF-8":u.Zd===tm.nw&&u.Jd.type?this.ew=u.Jd.type:Pg.searchParams&&Zg(n)&&(this.ew="application/x-www-form-urlencoded;charset=UTF-8"),this.ew&&i.set("content-type",this.ew)),Pg.stream&&(null==n?this.body=null:u.Zd===tm.Kd?this.body=u.Jd:this.body=Dg(Sg,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=im(this);return e||(this.Zd===tm.nw?(t=this.Jd,n=new FileReader,i=em(n),n.readAsText(t),i):this.Zd===tm.Vf?We.resolve(this.Jd).then(rm):this.Zd===tm.Kd?om(this.Jd).then(rm):this.Zd===tm.Pl?this.Jd.then(function(t){return t.text()}):this.Zd===tm.iw?We.reject(new l("could not read FormData body as text")):We.resolve(this.Jd))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Pg.blob&&(lm.prototype.blob=function(){var t,n,i=im(this);return i||(this.Zd===tm.nw?We.resolve(this.Jd):this.Zd===tm.Vf?We.resolve(Tg([this.Jd],{type:this.ew})):this.Zd===tm.Kd?(t=this.Jd,n=this.ew,um(t).then(function(t){return Tg(t,{type:n||""})})):this.Zd===tm.Pl?this.Jd.then(function(t){return t.blob()}):this.Zd===tm.iw?We.reject(new l("could not read FormData body as Blob")):We.resolve(Tg([this.Jd],{type:this.ew})))}),Pg.arrayBuffer&&(lm.prototype.arrayBuffer=function(){var t,n,i;return this.Zd===tm.Vf?im(this)||We.resolve(this.Jd):this.Zd===tm.nw?im(this)||(t=this.Jd,n=new FileReader,i=em(n),n.readAsArrayBuffer(t),i):this.Zd===tm.Kd?om(this.Jd):this.Zd===tm.Pl?im(this)||this.Jd.then(function(t){return t.arrayBuffer()}):this.Zd===tm.iw?We.reject(new l("could not read FormData body as ArrayBuffer")):We.resolve(this.Jd).then(sm)}),Pg.formData&&(lm.prototype.formData=function(){return this.Zd===tm.iw?im(this)||We.resolve(this.Jd):this.text().then(cm)});var vm=[301,302,303,307,308],dm=function(t){function n(n,i){var e=this,r=new Lg((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return kg(n,t),n.prototype.clone=function(){return new n(fm(this),{status:this.status,statusText:this.statusText,headers:new Lg(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===vm.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(lm);var wm,gm=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),w.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=w.setPrototypeOf?w.getPrototypeOf:function(t){return t.__proto__||w.getPrototypeOf(t)})(t)}function o(t,n){return(o=w.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!w.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=w.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}w.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),w.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){a(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?h(e):r).listeners||f.call(h(t)),w.defineProperty(h(t),"aborted",{value:!1,writable:!0,configurable:!0}),w.defineProperty(h(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=w.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),d=function(){function t(){i(this,t),w.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=d,n.default=d});(wm=gm)&&wm.__esModule&&w.prototype.hasOwnProperty.call(wm,"default")&&wm.default,gm.AbortSignal;var mm=gm.AbortController,ym=Ag.DOMException;try{new ym}catch(t){(ym=function(t,n){l.call(this,t),this.name=n||"Error",l.captureStackTrace&&l.captureStackTrace(this,this.constructor)}).prototype=w.create(l.prototype),ym.prototype.constructor=ym}var pm=mm;function _m(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function bm(t,n,i){return new We(function(e,r){if(n.signal.aborted)return t.catch(Mg),r(km());var s=function(){n.signal.removeEventListener("abort",s),r(km())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function km(){return new ym("Aborted","AbortError")}var Am,Tm="moz-chunked-arraybuffer";function Sm(t){try{var n=new k;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Am||(Am={}));var Em=function(){function t(t,n){var i=this;this.uw=!1,this.Wd=t,this.ow=n,this.aw=new k,this.cw=new We(function(t,n){i.hw=t,i.fw=n})}return t.prototype.send=function(){var t=this;return this.vw().then(function(n){return t.lw(n,t.ow),t.cw})},t.prototype.vw=function(){var t=this.Wd;return t.Zd===tm.Kd?t.arrayBuffer():We.resolve(t.$d)},t.prototype.dw=function(t){this.Wd.onprogress&&this.Wd.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.ww=function(t){this.fw(t)},t.prototype._w=function(){this.ww(new v("Network request failed"))},t.prototype.gw=function(){this.ww(new v("Network request failed"))},t.prototype.mw=function(){this.ww(km())},t.prototype.lw=function(t,n){var i=this,e=this.Wd,r=this.aw,s=function(){return i.yw()};if(e.signal.aborted)return this.mw();r.onreadystatechange=function(){if(r.readyState>=Am.HEADERS_RECEIVED&&!i.uw){var t=function(t){var n=new Lg;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.uw=!0,i.bw(n)}},r.onprogress=function(t){return i.dw(t)},r.onload=function(){return i.pw()},r.onerror=function(){return i._w()},r.ontimeout=function(){return i.gw()},r.onabort=function(){return i.mw()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.yw=function(){this.mw(),this.aw.abort()},t}(),Im=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Aw=void 0,e.Tw=void 0,e}return kg(n,t),n.prototype.bw=function(t){var n=this;this.Aw=new We(function(t,i){n.Tw=t,n.Sw=i}),this.hw(new dm(this.Aw,t))},n.prototype.pw=function(){var t=this.aw.response;if(null==t){var n=this.ow;""===n||"text"===n?t=this.aw.responseText:"document"===n?t=this.aw.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=Tg([]))}this.Tw(t)},n.prototype.ww=function(n){t.prototype.ww.call(this,n),this.Sw&&this.Sw(n)},n}(Em),Rm=function(t){function n(n){var i=t.call(this,n,Tm)||this;return i.Ew=void 0,i.Iw=void 0,i.Rw=!1,i}return kg(n,t),n.prototype.bw=function(t){var n=this;this.Ew=new Sg({start:function(t){n.Iw=t},cancel:function(){n.Rw=!0,n.yw()}}),this.hw(new dm(this.Ew,t))},n.prototype.dw=function(n){this.Rw||this.Iw.enqueue(new _(this.aw.response)),t.prototype.dw.call(this,n)},n.prototype.pw=function(){this.Iw.close()},n.prototype.ww=function(n){t.prototype.ww.call(this,n),this.Iw&&!this.Rw&&(this.Rw=!0,this.Iw.error(n))},n}(Em),Cm=function(){var t=Pg.firefox&&Sm(Tm);return Cm=function(){return t},t},Nm=function(){var t;return t=Pg.arrayBuffer&&Sm("arraybuffer")?"arraybuffer":Pg.blob&&Sm("blob")?"blob":"",Nm=function(){return t},t};function Dm(t){return(Pg.stream&&Cm()?new Rm(t):new Im(t,Nm())).send()}var Pm=Ag.fetch,xm=Ag.Request;Ag.Response;var Bm=Ag.AbortController;var Om=["http:","https:"];var Lm=function(){try{if(Pg.streamRequest){var t=new xm("about:blank",{body:"",method:"POST"}).body;if(t&&Ig(t.constructor))return t.constructor}}catch(t){}}();function Mm(t,n,i){var e;if(Pg.stream){var r=void 0;if(Pg.streamResponse){var s=t.body;r=s&&Cg(Sg,s)}else r=Dg(Sg,function(){return bm(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new Rg(n.getReader(),i),{highWaterMark:0})}(Sg,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,jm(t.headers))),e=r}else{var u=bm(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return We.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,jm(t.headers))),e=u}return new dm(e,t)}function jm(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function Fm(t){var n=new pm;return t.signal&&_m(n,t.signal),function(t,n){var i,e,r=t;if(i=r.Zd===tm.Kd?Pg.streamRequest&&Lm?We.resolve(Cg(Lm,r.Jd)):bm(t.arrayBuffer(),n,!1):bm(We.resolve(t.$d),n,!1),Pg.abort){var s=new Bm;_m(s,n.signal),e=s.signal}return i.then(function(n){return new xm(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof Lg?i:new Lg(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return Pm(i).then(function(i){return Mm(i,n,t.onprogress)})})}var Um=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Hm=function(t){function n(i,e){var r,s,u,o,a,h,c,f,l,d=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new v("Already used");r=i.url,s=i.credentials,e.headers||(u=new Lg(i.headers)),o=i.method,a=i.mode,h=i.referrer,c=i.referrerPolicy,f=i.signal,l=i.onprogress,w||null==i.$d||(w=i.$d,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",a="cors",h="about:client",c="",f=null,l=null;if(!e.headers&&u||(u=new Lg(e.headers)),e&&(h="about:client",c=""),(d=t.call(this,w,u)||this).url=r,d.headers=u,d.credentials=e.credentials||s,d.method=function(t){var n=t.toUpperCase();return Um.indexOf(n)>-1?n:t}(e.method||o),d.mode=e.mode||a,d.signal=e.signal||f||(new pm).signal,d.referrer=void 0!==e.referrer?e.referrer:h,d.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:c,d.onprogress=e.onprogress||l,("GET"===d.method||"HEAD"===d.method)&&w)throw new v("Body not allowed for GET or HEAD requests");return d}return kg(n,t),n.prototype.clone=function(){return new n(this,{body:fm(this)})},n}(lm),Xm="function"==typeof Pm&&Pg.stream&&Pg.streamResponse&&Pg.url;function zm(t,n){return new We(function(i){var e=new Hm(t,n);i((Xm&&function(t){try{return Om.indexOf(new Ag.URL(t,Ag.location.href).protocol)>=0}catch(t){return!1}}(e.url)?Fm:Dm)(e))})}zm.polyfill=!0;var Vm=function(){function t(t){this.qd=void 0,this.Wd=void 0,this.Kv=new uu,this.Gd=void 0,this.Nw=!1,this.Wd=t,this.Kv.Fs(t.zs),this.qd=this.Dw()}var n=t.prototype;return n.Dw=function(){var t,n,e,r,s,u,o,h,c=this;return jr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.Wd).Id&&a(function(){c.Nw=!0,c.Kv.Xs()},t.Id),f.prev=2,n=zm(t.ud,{method:t.Ed,headers:t.Kl.qf(),body:t.Xl,credentials:t.Dd?"include":"same-origin",signal:Gm(this.Kv.zs),onprogress:t.Cd}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new yg(t,f.t0);case 9:return f.prev=9,f.next=12,jr.awrap(n);case 12:e=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),au(r=this.Cw(f.t1))&&this.Kv.Xs(),r;case 20:if(s=e.url||t.ud,u=0===e.status&&"file:"===(l=s,i.Cr(l).protocol)?200:e.status,o=new Wm(this,e,this.Kv),h=new og({Xi:o,ed:t,Jl:t.Jl,Kl:new xf(e.headers.asList()),Zl:u,$l:e.statusText,rd:s}),this.Gd=h,!ig(h)){f.next=29;break}return f.abrupt("return",h);case 29:throw new pg(h);case 30:case"end":return f.stop()}var l},null,this,[[2,6],[9,15]],We)},n.Cw=function(t){return au(t)?this.Nw?new _g(this.Wd):new ou(t.message,t):this.Gd?new pg(this.Gd,t):new yg(this.Wd,t)},t}(),Wm=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Pw=void 0,r.Bw=void 0,r.Kv=void 0,r.Vl=new ta,r.Pw=n,r.Bw=i,r.Kv=e,r.Vl.Uu.catch(Z),r}E(n,t);var i=n.prototype;return i.Gl=function(){return this.Vl.Uu},i.Ol=function(t){return this.ql(this.Bw.text(),t)},i.Ll=function(t){return this.ql(this.Bw.arrayBuffer(),t)},i.Ml=function(){var t=this.Bw.body;return t?this.Yl(t):Fw(this.Ll().then(Mw),this.Kv)},i.jl=function(){var t=this.Bw.clone(),i=this.Kv.Hs(),e=i[0],r=i[1];return this.Kv=e,new n(this.Pw,t,r)},i.ql=function(t,n){var i=this;n&&this.Kv.Fs(n);var e=We.resolve(t).catch(function(t){throw i.Pw.Cw(t)});return e=vu(e,this.Kv),this.Vl.Hu(e.then(Z)),e},i.Yl=function(t){var n=this,i=new kw,e=We.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.Pw.Cw(t);throw i.writable.abort(e).catch(Z),e});return e=vu(e,this.Kv),this.Vl.Hu(e.then(Z)),i.readable},T(n,[{key:"Ql",get:function(){return this.Bw.bodyUsed}}]),n}(Ww),qm="abort";function Gm(t){var n=new pm;if(t.Rs)n.abort();else if(!t.Ns){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(qm,i),t.xs(i),t.Ms(e)};n.signal.addEventListener(qm,i),t.Os(i),t.Ls(e)}return n.signal}function $m(t,n,i){return new We(function(e,r){if(i&&i.Rs)return r(new ou);var s=function(t){o(),e(t)},u=function(){o(),r(new ou)},o=function(){t.removeEventListener(n,s),i&&i.xs(u)};t.addEventListener(n,s),i&&i.Os(u)})}var Ym,Qm,Zm=function(){function t(){}var n=t.prototype;return n.ed=function(t){return new Vm(t).qd},n.Pd=function(t){if(ge&&ge.sendBeacon)ge.sendBeacon(t.ud,Cf([t.Xl],{type:t.Ul}));else{var n=t.Ul?{"Content-type":t.Ul}:void 0;mu(this.ed(new ag({Ed:eg.POST,ud:t.ud,Xl:t.Xl,Kl:n})))}},n.Bd=function(){},t}();Ym=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).Ow=void 0,i.xw=function(){if(M.cn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.Lw=M.Mn,i.Mw=void 0,i}return E(i,n),T(i,[{key:"Tr",get:function(){return this.Ow||(this.Ow=new Os(Sf())),this.Ow}},{key:"Uw",get:function(){return this.xw}},{key:"Xw",get:function(){return this.Lw}},{key:"Fw",get:function(){return!1}},{key:"Hw",get:function(){return If.if()}},{key:"zw",get:function(){return{Vw:Nf}}},{key:"Ww",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"Gw",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"qw",get:function(){return this.Mw||(this.Mw=new cg(new Zm)),this.Mw}}]),i}(xr)),i=Ym,function(t){t.Yw="jw",t.Qw="Zw"}(Qm||(Qm={})),Qm.Yw,Qm.Qw;var Km=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Kw=void 0,e}return E(n,t),T(n,[{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}}]),n}(Su);function Jm(t){return Boolean(t&&t.Jw)}var ty,ny=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n}(Km),iy=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n}(Su),ey=function(t){function n(n){var i;return(i=t.call(this,Qm.Yw)||this).t_=n,i}return E(n,t),n.prototype.$w=function(){return new ry(this.t_.Jw)},n}(ny),ry=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return E(n,t),n}(iy),sy=function(t){function n(n){var i;return(i=t.call(this,Qm.Qw)||this).t_=n,i}return E(n,t),n.prototype.$w=function(){return new uy(this.t_.Jw)},n}(ny),uy=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return E(n,t),n}(iy);!function(t){t.n_="i_",t.e_="r_",t.s_="u_",t.o_="a_",t.c_="h_",t.f_="v_",t.l_="d_",t.w_="__",t.g_="Wc",t.m_="y_",t.k_="b_",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(ty||(ty={}));var oy=function(t){function n(){var n;return(n=t.call(this)||this).p_=[],n.Kw=void 0,n}E(n,t);var i=n.prototype;return i.A_=function(t){return this.p_[t]},i.T_=function(t){return!(!t||Ys(this.p_,t))&&(this.p_.push(t),this.Kw&&this.Kw.push(t.Jw),t.js(ty.f_,this.qs),this.Ys(new ey(t)),!0)},i.S_=function(t){if(!t)return!1;var n=this.p_.indexOf(t);return!(n<0)&&($s(this.p_,n),this.Kw&&$s(this.Kw,n),t.Js(ty.f_,this.qs),this.Ys(new sy(t)),!0)},i.E_=function(t){return Ys(this.p_,t)},i.I_=function(){for(var t=this.p_,n=t.length-1;n>=0;n-=1)this.S_(t[n])},i.Bd=function(){this.I_(),this.Ks()},T(n,[{key:"R_",get:function(){return this.p_}},{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}},{key:"N_",get:function(){return this.p_.length}}]),n}(Au),ay=function(t){function n(n){var i;return(i=t.call(this,ty.f_)||this).t_=n,i}return E(n,t),n.prototype.$w=function(){return new hy(this.t_.Jw)},n}(ny),hy=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return E(n,t),n}(iy),cy=function(t){function n(){var n;return(n=t.call(this)||this).D_=void 0,n.C_=function(t){var i=t.t_;n.T_(i)},n.P_=function(t){var i=t.t_;n.S_(i)},n}E(n,t);var i=n.prototype;return i.B_=function(t){t.js(Qm.Yw,this.C_),t.js(Qm.Qw,this.P_)},i.O_=function(t){t.Js(Qm.Yw,this.C_),t.Js(Qm.Qw,this.P_)},i.Bd=function(){this.D_&&this.D_.Bd(),t.prototype.Bd.call(this)},T(n,[{key:"x_",get:function(){return this.D_},set:function(t){var n=this.D_;if(t!==n){if(n){this.O_(n);for(var i=0,e=n.R_;i<e.length;i++){var r=e[i];t&&t.E_(r)||this.S_(r)}}if(this.D_=t,t){for(var s=[],u=0,o=t.R_;u<o.length;u++){var a=o[u];this.T_(a),this.L_(a)&&s.push(a)}this.B_(t);for(var h=0;h<s.length;h++){var c=s[h];c.Ys(new ay(c))}}}}}]),n}(oy),fy=w.freeze||K;function ly(t,n,i){w.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function vy(t){return fy(t)}function dy(t,n){for(var i=0,e=w.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];w.defineProperty(t,r,w.getOwnPropertyDescriptor(n,r))}return t}function wy(t){if(W(t)){var n={};for(var i in t)j.call(t,i)&&(n[i]=wy(t[i]));return n}if(X(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=wy(t[r]));return e}return t}function gy(t,n){return t===n||!(!t||!n)&&(!(!V(t)||!V(n))&&(z(t)?!!z(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!gy(t[r],n[r]))return!1;return!0}(t,n):!z(n)&&function(t,n){var i=w.keys(t),e=w.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!j.call(n,s)||!gy(t[s],n[s]))return!1}return!0}(t,n)))}function my(t,n){return t.constructor===n.constructor}function yy(t){for(var n={},i=0,e=w.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function py(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function _y(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function by(t){var n=_y(t);if(p(n))throw new l("Expected a valid number.");return n}function ky(t){return"string"==typeof t?t:""}function Ay(t,n){if(!z(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function Ty(t,n){return z(t)?Ay(t,n):n(t)}var Sy=[Qm.Yw,Qm.Qw,ty.f_];function Ey(t){var n,i=t.R_.map(function(t){return t.Jw});return i.item=function(n){var i=0|n,e=t.A_(i);return e&&e.Jw||void 0},i.addEventListener=function(t,i){n.js(t,i)},i.removeEventListener=function(t,i){n.Js(t,i)},n=new Tu(i),t.js(Sy,function(t){return n.Ys(t.Jw)}),i}function Iy(){}function Ry(t){var n,i=[ty.g_,ty.f_,ty.m_,ty.k_,ty.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.M_&&t.M_.Jw},get enabled(){return t.U_},set enabled(n){t.U_=py(n)},get id(){return t.X_},get uid(){return t.F_},get kind(){return t.H_},get label(){return t.z_},set label(n){t.z_=ky(n)},get language(){return t.V_},get qualities(){return t.W_.Jw},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.W_.R_;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.Jw===o&&i.push(s)}return i}(t,X(n)?n:[n]):[]).length>0?t.G_=i:t.G_=void 0},get targetQuality(){if(t.G_)return 1===t.G_.length?t.G_[0].Jw:t.G_.map(function(t){return t.Jw})},addEventListener:function(t,i){var e=Ty(t,ky);n.js(e,i)},removeEventListener:function(t,i){var e=Ty(t,ky);n.Js(e,i)}};return n=new Tu(e),t.js(i,function(t){return n.Ys(t.Jw)}),w.defineProperty(e,"constructor",{value:Iy}),e}function Cy(){}function Ny(t){var n=Ey(t);return w.defineProperty(n,"constructor",{value:Cy}),n}var Dy,Py,xy=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.$w=function(){return Ny(this)},i.L_=function(t){return t.U_},n}(cy);function By(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Dy.q_:case Dy.Y_:case Dy.j_:return n}}else if("number"==typeof t)switch(t){case 0:return Dy.q_;case 1:return Dy.Y_;case 2:return Dy.j_}return Dy.q_}function Oy(){}function Ly(t){var n,i=[ty.f_,ty.g_,ty.n_,ty.e_,ty.s_,ty.o_,ty.c_,ty.l_,ty.w_],e=[Py.Q_],r={get kind(){return t.H_},get label(){return t.z_},set label(n){t.z_=ky(n)},get language(){return t.V_},get id(){return t.X_},get uid(){return t.F_},get inBandMetadataTrackDispatchType(){return t.Z_},get mode(){return t.K_},set mode(n){n!==Dy.j_&&n!==Dy.Y_&&n!==Dy.q_||t.J_(n)},get forced(){return Boolean(t.eg)},get type(){return t.us},get readyState(){return Fy(t.rg)},get cues(){return t.K_===Dy.q_?null:t.og.Jw},get activeCues(){return t.K_===Dy.q_?null:t.ag.Jw},get src(){return t.cg||""},addEventListener:function(t,i){var e=Ty(t,ky);n.js(e,i)},removeEventListener:function(t,i){var e=Ty(t,ky);n.Js(e,i)}};return n=new Tu(t),t.js(i,function(t){return n.Ys(t.Jw)}),t.js(e,function(t){return n.Ys(t)}),w.defineProperty(r,"constructor",{value:Oy}),r}function My(){}function jy(t){var n=Ey(t);return w.defineProperty(n,"constructor",{value:My}),n}function Fy(t){return t}!function(t){t.q_="disabled",t.Y_="hidden",t.j_="showing"}(Dy||(Dy={})),function(t){t.Q_="error"}(Py||(Py={}));var Uy=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.$w=function(){return jy(this)},i.L_=function(t){return t.K_===Dy.j_},n}(cy),Hy=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.Zs=function(n){t.prototype.Zs.call(this,n)},i.nu=function(n){t.prototype.nu.call(this,n)},n}(Au),Xy=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(Hy),zy=function(t){function n(){return t.call(this,Df.gf)||this}return E(n,t),n}(Su),Vy=function(t){function n(n){var i;return(i=t.call(this,Df.vf)||this).currentSource=n,i}return E(n,t),n}(Su),Wy=function(){function t(){}return t.hg=function(n,i){var e=t.fg(n,i);return e?t.vg(e):0},t.dg=function(){return i.Ww||"default"},t.wg=function(){return i.Gw||"unknown"},t.fg=function(n,e){var r,s=null==(r=i.Hw)?void 0:r.Su(e),u=s&&JSON.parse(s);if(u&&u[n])return t._g(u,n,e)},t.vg=function(t){var n=t.availableBandwidth;return n||0},t._g=function(n,i,e){if(!t.gg(n,i))return n[i];t.yg(n,i,e)},t.yg=function(t,n,e){var r;delete t[n],null==(r=i.Hw)||r.nf(e,JSON.stringify(t))},t.gg=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.pg=function(t,n,i,e){var r;return Fr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Ag=function(n){var i=t.dg();t.Tg(i,"theoplayer-stored-network-info",n,Vt())},t.Tg=function(n,e,r,s){var u,o,a=null==(u=i.Hw)?void 0:u.Su(e),h=a?JSON.parse(a):void 0,c=t.pg(h,n,r,s);null==(o=i.Hw)||o.nf(e,JSON.stringify(c))},t.Sg=function(){var n=t.dg();return t.hg(n,"theoplayer-stored-network-info")},t}();var qy,Gy,$y,Yy,Qy,Zy,Ky="1ADD53F3";function Jy(t){return{chromecast:function(t){return{appID:t&&t.appID?ky(t.appID):Ky}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return qy.AUTO;case"manual":return qy.MANUAL;case"disabled":return qy.DISABLED;default:return qy.MANUAL}}(t?t.strategy:void 0)}}function tp(t){var n,i=$y.Eg;return(n=t)&&bs(n,"mpd")&&(i=$y.Ig),function(t){return!!t&&bs(t,"m3u8")}(t)&&(i=$y.Rg),i}function np(t){return!!t&&ks(t.toLowerCase(),$y.Ig)}function ip(t){if(!t)return!1;var n=t.toLowerCase();return ks(n,$y.Rg)||ks(n,$y.Ng)}function ep(t){return V(t)&&V(t.ssai)&&"google-dai"===t.ssai.integration}function rp(t){return V(t)&&q(t.integration)&&"verizon-media"===t.integration}function sp(t){if(q(t))return!t;if(rp(t))return!t.id;if(ep(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function up(t){return Boolean(V(t)&&q(t.src))}function op(t){return q(t)||up(t)||ep(t)||rp(t)}function ap(t){if(t){if(op(t))return sp(t);for(var n=0;n<t.length;n++){if(!sp(t[n]))return!1}return!0}return!0}function hp(){return{crossOrigin:Gy.Dg,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function cp(){return Fr({},hp(),{src:void 0,type:$y.Eg,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function fp(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Yy.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return Qy.NONE;case"midroll-and-postroll":default:return Qy.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=py(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Yy.INSECURE;case"disabled":return Yy.DISABLED;case"enabled":default:return Yy.ENABLED}}(t.vpaidMode)),X(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(q)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:py(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function lp(t){if(!z(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];W(r)&&n.push(r)}return n}function vp(t){return q(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(qy||(qy={})),function(t){t.Dg="",t.Cg="anonymous",t.Pg="use-credentials"}(Gy||(Gy={})),function(t){t.Ig="application/dash+xml",t.Rg="application/vnd.apple.mpegurl",t.Ng="application/x-mpegurl",t.Eg="video/mp4",t.Bg="application/vnd.theoplayer.hesp+json",t.Og="application/vnd.theo.hesp+json"}($y||($y={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(Yy||(Yy={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(Qy||(Qy={})),function(t){t[t.xg=0]="xg",t[t.Lg=1]="Lg",t[t.Mg=2]="Mg",t[t.Ug=3]="Ug",t[t.Xg=4]="Xg"}(Zy||(Zy={}));var dp,wp=function(t){function n(n,i){var e;return void 0===i&&(i=Zy.xg),(e=t.call(this,Df.wf)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Su),gp=function(t){function n(n){var i;return(i=t.call(this,Df.Tf)||this).currentTime=n,i}return E(n,t),n}(Su),mp=function(t){function n(n){var i;return(i=t.call(this,Df.Sf)||this).currentTime=n,i}return E(n,t),n}(Su);!function(t){t.Fg="canplay",t.Hg="canplaythrough",t.zg="loadeddata",t.Vg="loadedmetadata",t.l_="readystatechange",t.Wg="waiting",t.Gg="playing"}(dp||(dp={}));var yp,pp,_p=[dp.Fg,dp.Hg,dp.zg,dp.Vg,dp.l_,dp.Wg,dp.Gg],bp=function(t){function n(n,i){var e;return void 0===i&&(i=Zy.Lg),(e=t.call(this,dp.Vg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Su),kp=function(t){function n(n){var i;return(i=t.call(this,Df.df)||this).duration=n,i}return E(n,t),n}(Su),Ap=function(t){function n(n,i){var e;return(e=t.call(this,Df.If)||this).currentTime=n,e.playbackRate=i,e}return E(n,t),n}(Su),Tp=function(t){function n(n,i){var e;return(e=t.call(this,Df.Uf)||this).currentTime=n,e.currentProgramDateTime=i,e}return E(n,t),n}(Su),Sp=function(t){function n(n){var i;return(i=t.call(this,Df._f)||this).currentTime=n,i}return E(n,t),n}(Su),Ep=function(t){function n(n,i){var e;return void 0===i&&(i=Zy.Mg),(e=t.call(this,dp.zg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Su),Ip=function(t){function n(n){var i;return(i=t.call(this,Df.Cf)||this).currentTime=n,i}return E(n,t),n}(Su),Rp=function(t){function n(n){var i;return(i=t.call(this,Df.Df)||this).currentTime=n,i}return E(n,t),n}(Su),Cp=function(t){function n(n,i){var e;return(e=t.call(this,Df.Xf)||this).currentTime=n,e.volume=i,e}return E(n,t),n}(Su),Np=function(t){function n(n,i){var e;return void 0===i&&(i=Zy.Ug),(e=t.call(this,dp.Fg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Su),Dp=function(t){function n(n,i){var e;return void 0===i&&(i=Zy.Xg),(e=t.call(this,dp.Hg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Su),Pp=function(t){function n(n,i){var e;return(e=t.call(this,dp.l_)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Su),xp=function(t){function n(n){var i;return(i=t.call(this,Py.Q_)||this).errorObject=n,i}return E(n,t),n.prototype.$w=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Km);function Bp(t){switch(t){case yp.ALL:case yp.CONTENT:return t;default:return yp.NONE}}function Op(t){var n,e,r,s=wy(t||{});return s.libraryLocation&&(s.libraryLocation=lg(s.libraryLocation,!0)),s.isEmbeddable=Boolean(s.isEmbeddable),s.cast=Jy(s.cast),s.ads=fp(s.ads),s.analytics=lp(s.analytics),s.mutedAutoplay=Bp(s.mutedAutoplay),s.allowNativeFullscreen=Boolean(s.allowNativeFullscreen),s.allowMixedContent=Boolean(s.allowMixedContent),s.persistVolume=Boolean(s.persistVolume),s.liveOffset=(n=s.liveOffset,Number(n)||void 0),s.hlsDateRange=(e=s.hlsDateRange,Boolean(e)),s.retainPlaybackRateOnSourceChange=Boolean(s.retainPlaybackRateOnSourceChange),s.license=q(r=s.license)?r:void 0,s.licenseUrl=function(t){if(!t)return;try{return lg(t)}catch(t){return void i.wr("Invalid 'licenseUrl', falling back to default URL")}}(s.licenseUrl),s}function Lp(t){return{qg:t.qg,Yg:t.Yg,jg:t.jg,wu:t.wu,Qg:t.Qg,Zg:t.Zg,Kg:t.Kg,Jg:t.Jg,rg:t.rg,$g:t.$g,tm:t.tm,nm:t.nm,im:t.im}}function Mp(t,n,i){if(n!==i){var e=n.qg,r=n.Yg,s=n.Zg,u=n.Kg,o=n.Jg,a=n.rg,h=n.$g;n.nm,n.tm;var c=n.im,f=i.qg,l=i.Yg,v=i.jg,d=i.Qg,w=i.Zg,g=i.Kg,m=i.Jg,y=i.rg,_=i.$g;i.nm,i.tm;var b=i.im;a!==Zy.xg&&t.Ys(new wp(f,y)),g&&!u?t.Ys(new gp(f)):!g&&u&&t.Ys(new mp(f)),y>=Zy.Lg&&t.Ys(new bp(f,y)),l===r||p(l)&&p(r)||t.Ys(new kp(l)),m!==o&&t.Ys(new Ap(f,m)),f!==e&&t.Ys(new Tp(f,void 0)),v&&t.Ys(new Sp(f)),y>=Zy.Mg&&t.Ys(new Ep(f,y)),_&&!h?t.Ys(new Ip(f)):!_&&h&&t.Ys(new Rp(f)),b===c&&w===s||t.Ys(new Cp(f,b)),y>=Zy.Ug&&t.Ys(new Np(f,y)),y>=Zy.Xg&&t.Ys(new Dp(f,y)),y!==a&&t.Ys(new Pp(f,y)),d&&t.Ys(new xp(d))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(yp||(yp={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(pp||(pp={}));var jp=400,Fp=.25,Up={um:.2,cm:.45,hm:.7,fm:3,vm:Gp,lm:$p},Hp={um:.4,cm:.65,hm:1,fm:3,vm:Gp,lm:$p},Xp={um:.4,cm:.7,hm:.9,fm:3,vm:Gp,lm:$p},zp={um:.4,cm:.65,hm:1,fm:3,vm:Gp,lm:$p},Vp={um:.5,cm:1.125,hm:1.75,fm:2.55,vm:Gp,lm:$p};function Wp(){var t;return t=i.Or.Ve?zp:i.Or.qe?Hp:i.Or.Ge?"Android"===i.xr.Lr?Xp:Up:Vp,i.xr.Mr?function(t){if(i.xr.Mr){var n=(jp+250)/1e3,e=g.max(n,t.um),r=g.max(e+Fp,t.cm),s=g.max(r+Fp,t.hm);return{um:e,cm:r,hm:s,fm:g.max(s+Fp,t.fm),vm:Gp,lm:$p}}return t}(t):t}var qp,Gp=.92,$p=1.08;function Yp(t){return{goLive:function(){return t.dm()},get isLive(){return t.wm},get currentServerLiveTime(){return t._m},get currentLatency(){return t.gm},get latency(){return t.mm},set latency(n){if(!function(t){if(!V(t))return!1;var n=t,i=U(n.target)&&"number"==typeof n.target&&U(n.windowEnd)&&"number"==typeof n.windowEnd&&U(n.windowStart)&&"number"==typeof n.windowStart&&U(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new l("Invalid latency configuration");t.mm=n},get manifest(){return t.ym},get metrics(){return t.pm},addEventListener:function(n,i){t.js(Zp(n),i)},removeEventListener:function(n,i){t.Js(Zp(n),i)}}}!function(t){t[t.q_=0]="q_",t[t.Am=1]="Am",t[t.Tm=2]="Tm"}(qp||(qp={}));var Qp=["analytic","golive","nogolive","bufferedchange"];function Zp(t){var n=Ty(t,ky);return(q(n)?[n]:n).filter(function(t){return Ys(Qp,t)})}var Kp,Jp=function(t){function n(){var n,i;return(n=t.call(this)||this).D_=void 0,n.Kw=void 0,n.Sm={windowStart:(i=Wp()).um,windowEnd:i.hm,target:i.cm,maxOffset:i.fm},n.D_=void 0,n}E(n,t);var i=n.prototype;return i.B_=function(t){t.js(Qp,this.qs)},i.O_=function(t){t.Js(Qp,this.qs)},i.dm=function(){var t;null==(t=this.D_)||t.dm()},i.Bd=function(){this.Ks(),this.D_&&this.O_(this.D_),this.D_=void 0},T(n,[{key:"x_",get:function(){return this.D_},set:function(t){var n=this.D_;t!==n&&(n&&this.O_(n),t&&this.B_(t),this.D_=t,this.D_&&(this.D_.mm=this.Sm))}},{key:"Jw",get:function(){return this.Kw||(this.Kw=Yp(this)),this.Kw}},{key:"_m",get:function(){var t;return null==(t=this.D_)?void 0:t._m}},{key:"gm",get:function(){var t;return null==(t=this.D_)?void 0:t.gm}},{key:"wm",get:function(){return!!this.D_&&this.D_.wm}},{key:"mm",get:function(){return this.D_?this.D_.mm:this.Sm},set:function(t){this.D_&&(this.D_.mm=t),this.Sm=t}},{key:"ym",get:function(){var t;return null==(t=this.D_)?void 0:t.ym}},{key:"pm",get:function(){var t;return null==(t=this.D_)?void 0:t.pm}}]),n}(Au),t_=function(t){function n(n){var i;return(i=t.call(this)||this).D_=void 0,i.Em=[],i.Im=!1,i.Rm=new xy,i.Nm=new xy,i.Dm=new Uy,i.Cm=new Jp,i.Pm=!1,i.Bm(n),n.Zs(i.qs),i.D_=n,i.Rm.x_=n.Om,i.Nm.x_=n.xm,i.Dm.x_=n.Lm,i.Cm.x_=n.Mm,i}E(n,t);var i=n.prototype;return i.Um=function(){this.D_.Um()},i.Xm=function(){this.D_.Xm()},i.Fm=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",yu(this.Em.map(function(t){return t.Fm()})).then(Z));case 1:case"end":return t.stop()}},null,this,null,We)},i.Hm=function(){return this.D_.Hm()},i.zm=function(t,n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return hu(n),i.next=3,jr.awrap(this.D_.zm(t,n));case 3:case"end":return i.stop()}},null,this,null,We)},i.Vm=function(){return this.x_.Vm()},i.Wm=function(){this.x_.Wm()},i.Gm=function(){this.x_.Gm()},i.qm=function(){if(!this.Im){for(var t=0,n=this.Em;t<n.length;t++){n[t].qm()}this.Im=!0}},i.Ym=function(t){this.D_.Ym(t)},i.jm=function(){this.D_.jm()},i.Qm=function(){this.D_.Qm()},i.Zm=function(){this.D_.Zm()},i.Km=function(){return this.D_.Km()},i.Jm=function(){return this.D_.Jm()},i.$m=function(){for(var t=[],n=0,i=this.Em;n<i.length;n++){var e=i[n];t.push.apply(t,e.$m())}return t},i.iy=function(t){for(var n=!1,i=0,e=this.Em;i<e.length;i++){n=e[i].iy(t)||n}return n},i.Ys=function(n){this.iy(n)||t.prototype.Ys.call(this,n)},i.Bm=function(t){this.Em.push(t)},i.ey=function(t){Gs(this.Em,t)},i.sy=function(t){if(t!==this.D_){var n=this.D_;n.jm(),n.nu(this.qs);var i=Lp(this),e=this.uy,r=this.Jm();this.D_=t,this.Rm.x_=t.Om,this.Nm.x_=t.xm,this.Dm.x_=t.Lm,this.Cm.x_=t.Mm,Mp(this,i,this);var s=this.uy;s!==e&&this.Ys(new Vy(s)),this.Jm()!==r&&this.Ys(new zy),t.Zs(this.qs),t.Ym(n)}},i.oy=function(){},i.Bd=function(){var t,n,i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.Ks(),this.D_.jm(),t=0,n=this.Em;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,jr.awrap(i.Bd());case 7:t++,e.next=3;break;case 10:this.Rm.Bd(),this.Nm.Bd(),this.Dm.Bd(),this.Cm.Bd();case 14:case"end":return e.stop()}},null,this,null,We)},i.I_=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",yu(this.Em.map(function(t){return t.I_()})).then(Z));case 1:case"end":return t.stop()}},null,this,null,We)},T(n,[{key:"Om",get:function(){return this.Rm}},{key:"Lm",get:function(){return this.Dm}},{key:"xm",get:function(){return this.Nm}},{key:"vy",get:function(){return this.D_.vy}},{key:"ly",get:function(){return this.D_.ly},set:function(t){this.D_.ly=t}},{key:"uy",get:function(){return this.D_.uy}},{key:"qg",get:function(){return this.D_.qg},set:function(t){this.D_.qg=t}},{key:"Yg",get:function(){return this.D_.Yg}},{key:"wy",get:function(){return this.D_.wy}},{key:"jg",get:function(){return this.D_.jg}},{key:"wu",get:function(){return this.D_.wu}},{key:"Qg",get:function(){return this.D_.Qg}},{key:"Mm",get:function(){return this.Cm}},{key:"_y",get:function(){return this.D_._y}},{key:"pm",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.gy,i+=a.yy,e+=a.by,r+=a.py,s+=a.Ay,u.amountOfBufferedAudioSegments+=a.Ty.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=a.Ty.amountOfBufferedVideoSegments}return{gy:n,yy:i,by:e,py:r,Ay:s,Ty:u}}(this.Em.map(function(t){return t.pm}))}},{key:"Zg",get:function(){return this.D_.Zg},set:function(t){this.D_.Zg=t}},{key:"Sy",get:function(){return this.D_.Sy}},{key:"Kg",get:function(){return this.D_.Kg}},{key:"Jg",get:function(){return this.D_.Jg},set:function(t){this.D_.Jg=t}},{key:"Ey",get:function(){return this.D_.Ey}},{key:"Iy",get:function(){return this.D_.Iy},set:function(t){this.D_.Iy=t}},{key:"rg",get:function(){return this.D_.rg}},{key:"Ry",get:function(){return this.D_.Ry}},{key:"$g",get:function(){return this.D_.$g}},{key:"tm",get:function(){return this.D_.tm}},{key:"nm",get:function(){return this.D_.nm}},{key:"im",get:function(){return this.D_.im},set:function(t){this.D_.im=t}},{key:"Ny",get:function(){return this.D_.Ny}},{key:"Dy",get:function(){return!1},set:function(t){}},{key:"x_",get:function(){return this.D_},set:function(t){this.sy(t)}}]),n}(Xy),n_=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e)||this).url=void 0,h.status=void 0,h.statusText=void 0,h.response=void 0,h.systemCode=void 0,h.url=r,h.status=s,h.statusText=u,h.response=o,h.systemCode=a,h}return E(n,t),T(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(ff);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Kp||(Kp={}));var i_=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,l.captureStackTrace&&l.captureStackTrace(Kt(s),s.constructor),s}return E(n,t),T(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Jt);function e_(t){ly(t,"MEDIA_ERR_ABORTED",Kp.ABORTED),ly(t,"MEDIA_ERR_NETWORK",Kp.NETWORK),ly(t,"MEDIA_ERR_DECODE",Kp.DECODE),ly(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",Kp.SRC_NOT_SUPPORTED),ly(t,"MEDIA_ERR_ENCRYPTED",Kp.ENCRYPTED)}function r_(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new i_(Kp.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new i_(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return Kp.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return Kp.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return Kp.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return Kp.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return Kp.NETWORK;if(i===n.ErrorCategory.SOURCE)return Kp.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return Kp.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return Kp.ENCRYPTED;if(i===n.ErrorCategory.AD)return Kp.ADVERTISEMENT_ERROR;return Kp.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}e_(i_),e_(i_.prototype);var s_,u_=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.T_=function(n){return t.prototype.T_.call(this,n)},i.$w=function(){return Ny(this)},n}(oy);!function(t){t.Ad="audio",t.Td="video",t.Kn="text",t.Sd="image",t.hd="unknown"}(s_||(s_={}));var o_=function(){function t(){this.Cy=[],this.Kw=void 0}var n=t.prototype;return n.Py=function(t){this.Cy.push(t),this.Kw&&this.Kw.push(t.Jw)},n.Vc=function(t){Gs(this.Cy,t),this.Kw&&Gs(this.Kw,t.Jw)},n.A_=function(t){return this.Cy[t]},n.By=function(t){return X(t)?Qs(this.Cy,t):Ys(this.Cy,t)},n.I_=function(){Zs(this.Cy),this.Kw&&Zs(this.Kw)},T(t,[{key:"R_",get:function(){return this.Cy}},{key:"N_",get:function(){return this.Cy.length}},{key:"Jw",get:function(){var t,n;return this.Kw||(this.Kw=((n=(t=this).R_.map(function(t){return t.Jw})).item=function(n){var i=0|n,e=t.A_(i);return e&&e.Jw||void 0},n)),this.Kw}}]),t}(),a_=function(t){function n(n){var i;return(i=t.call(this,ty.g_)||this).t_=n,i}return E(n,t),n.prototype.$w=function(){return new h_(this.t_.Jw)},n}(ny),h_=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return E(n,t),n}(iy),c_=0;function f_(){return c_++}var l_=0;var v_=0;function d_(){return v_++}var w_=0;function g_(){return w_++}var m_=0;var y_=function(t){function n(n){var i;return(i=t.call(this)||this).us=s_.Ad,i.Oy=void 0,i.Nc=void 0,i.xy=void 0,i.Ly=void 0,i.My=!1,i.Cy=void 0,i.Kw=void 0,i.Oy=n,i.Ly=f_(),i.Nc=m_+++"",i.xy=n.label,i.Cy=new o_,i.Uy(),i}E(n,t);var i=n.prototype;return i.Xy=function(t){this.U_=t},i.Uy=function(){this.U_=this.Fy},T(n,[{key:"M_",get:function(){}},{key:"U_",get:function(){return this.My},set:function(t){this.My!==t&&(this.My=t,this.Fy=t,this.Ys(new ay(this)))}},{key:"Fy",get:function(){return this.Oy.enabled},set:function(t){this.Oy.enabled=t}},{key:"Jw",get:function(){return this.Kw||(this.Kw=Ry(this)),this.Kw}},{key:"X_",get:function(){return this.Nc}},{key:"F_",get:function(){return this.Ly}},{key:"H_",get:function(){return this.Oy.kind}},{key:"z_",get:function(){return this.xy},set:function(t){t!==this.xy&&(this.xy=t,this.Ys(new a_(this)))}},{key:"V_",get:function(){return this.Oy.language}},{key:"K_",get:function(){return this.U_?"enabled":"disabled"}},{key:"Hy",get:function(){return this.Oy}},{key:"W_",get:function(){return this.Cy}},{key:"G_",get:function(){},set:function(t){}}]),n}(Au),p_=0;var __,b_,k_,A_=function(t){function n(n){var i;return(i=t.call(this)||this).us=s_.Td,i.Oy=void 0,i.Nc=void 0,i.Ly=void 0,i.My=!1,i.Cy=void 0,i.xy=void 0,i.Kw=void 0,i.Oy=n,i.Ly=f_(),i.Nc=p_+++"",i.Cy=new o_,i.xy=n.label,i.Uy(),i}E(n,t);var i=n.prototype;return i.Uy=function(){this.U_=this.Fy},i.Xy=function(t){this.U_=t},T(n,[{key:"M_",get:function(){}},{key:"U_",get:function(){return this.My},set:function(t){this.My!==t&&(this.My=t,this.Fy=t,this.Ys(new ay(this)))}},{key:"Fy",get:function(){return!!this.Oy.selected},set:function(t){this.Oy.selected=t}},{key:"Jw",get:function(){return this.Kw||(this.Kw=Ry(this)),this.Kw}},{key:"X_",get:function(){return this.Nc}},{key:"F_",get:function(){return this.Ly}},{key:"H_",get:function(){return"main"}},{key:"z_",get:function(){return this.xy},set:function(t){t!==this.xy&&(this.xy=t,this.Ys(new a_(this)))}},{key:"V_",get:function(){return this.Oy.language}},{key:"K_",get:function(){return this.U_?"enabled":"disabled"}},{key:"Hy",get:function(){return this.Oy}},{key:"W_",get:function(){return this.Cy}},{key:"G_",get:function(){},set:function(t){}}]),n}(Au),T_=function(t){function n(n){var i;return(i=t.call(this,Df.ef)||this)._y=n,i}return E(n,t),n}(Su);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(__||(__={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(b_||(b_={})),function(t){t.zy="cue",t.Vy="region",t.Wy="stylesheet"}(k_||(k_={}));var S_,E_={"line-left":"start",center:"middle","line-right":"end"},I_={start:"line-left",middle:"center",end:"line-right"};function R_(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function C_(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:y(i),p(r)?e:r;var i,e,r}!function(t){t.Gy="qy",t.Yy="jy",t.g_="Wc"}(S_||(S_={}));var N_=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Qy=i,e}return E(n,t),n}(ny),D_=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return E(n,t),n}(iy);function P_(t){var n,i=[S_.Gy,S_.Yy,S_.g_],e={get track(){return t.t_.Jw},get id(){return t.X_},get uid(){return t.F_},get startTime(){return t.Zy},get endTime(){return t.Ky},get content(){return t.Jy},addEventListener:function(t,i){var e=Ty(t,ky);n.js(e,i)},removeEventListener:function(t,i){var e=Ty(t,ky);n.Js(e,i)}};return n=new Tu(e),t.js(i,function(t){return n.Ys(t.Jw)}),e}function x_(){}function B_(t){return dy(P_(t),{get align(){return t.$y},get line(){return t.nk},get lineAlign(){return t.ek},get position(){return t.rk},get positionAlign(){return t.ck},get region(){return t.hk?t.hk.Jw:null},get size(){return t.Nu},get snapToLines(){return t.fk},get text(){return t.Jy},get vertical(){return t.vk}})}var O_=function(t){function n(n){return t.call(this,S_.g_,n)||this}return E(n,t),n.prototype.$w=function(){return new L_(this.Qy.Jw)},n}(N_),L_=function(t){function n(n){return t.call(this,"update",n)||this}return E(n,t),n}(D_),M_=.02;function j_(t,n){return Ft(t.Zy,n.Zy,M_)&&Ft(t.Ky,n.Ky,M_)&&t.X_===n.X_}var F_=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Ly=void 0,u.Nc=void 0,u.lk=void 0,u.dk=void 0,u.Kw=void 0,u.wk=void 0,u._k=!1,u.gk=void 0,u.yk=void 0,u.bk=-1,u.Ly=g_(),u.lk=n,u.dk=i,u.gk=e,u.yk=Boolean(r),u.Nc=null!=s?s:"",u}E(n,t);var i=n.prototype;return i.$w=function(){return P_(this)},i.pk=function(t){return this===t||my(this,t)&&j_(this,t)},i.Bd=function(){this.Ks()},T(n,[{key:"Zy",get:function(){return this.lk},set:function(t){this.lk!==t&&(this.lk=t,this.Ys(new O_(this)))}},{key:"Ky",get:function(){return this.dk},set:function(t){this.dk!==t&&(this.dk=t,this.Ys(new O_(this)))}},{key:"X_",get:function(){return this.Nc}},{key:"F_",get:function(){return this.Ly}},{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}},{key:"Ak",get:function(){return this._k},set:function(t){this._k=t}},{key:"t_",get:function(){return this.wk},set:function(t){this.wk=t}},{key:"Jy",get:function(){return this.gk},set:function(t){this.gk!==t&&(this.gk=t,this.Ys(new O_(this)))}},{key:"Tk",get:function(){return this.yk},set:function(t){this.yk=t}}]),n}(Au);function U_(t,n){return t.Jy===n.Jy&&t.nk===n.nk&&t.ek===n.ek&&t.rk===n.rk&&t.ck===n.ck&&t.hk===n.hk&&t.fk===n.fk&&t.Nu===n.Nu&&t.$y===n.$y&&t.vk===n.vk}var H_=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).nk="auto",u.ek="start",u.rk="auto",u.ck="auto",u.hk=void 0,u.fk=!0,u.Nu=100,u.$y="center",u.vk="",u}return E(n,t),n.prototype.pk=function(n){return this===n||my(this,n)&&t.prototype.pk.call(this,n)&&U_(this,n)},T(n,[{key:"Jw",get:function(){return this.Kw||(this.Kw=B_(this)),this.Kw}},{key:"us",get:function(){return k_.zy}}]),n}(F_);function X_(t){var n=Q(t.nk)?t.nk:y(t.nk);return p(n)||t.fk||!(n<0||n>100)?p(n)?t.fk?-1:100:n:100}function z_(t){return C_(t.rk,t.$y)}function V_(t){return R_(t.ck,t.$y)}function W_(t){var n,i=V_(t),e=z_(t);switch(i){case"line-left":n=100-e;break;case"line-right":n=e;break;case"center":n=e<=50?2*e:2*(100-e)}return g.min(t.Nu,n)}function q_(t){return{get id(){return t.X_},get identifier(){return t.X_},get lines(){return t.Sk},get regionAnchorX(){return t.Ek},get regionAnchorY(){return t.Ik},get scrollValue(){return t.Rk},get viewportAnchorX(){return t.Nk},get viewportAnchorY(){return t.Dk},get width(){return t.Ck}}}var G_=function(){function t(t,n,i,e,r,s,u,o){this.Kw=void 0,this.X_=t,this.Ck=n,this.Sk=i,this.Ek=e,this.Ik=r,this.Nk=s,this.Dk=u,this.Rk=o}return T(t,[{key:"Jw",get:function(){return this.Kw||(this.Kw=q_(this)),this.Kw}},{key:"us",get:function(){return k_.Vy}}]),t}(),$_=function(){function t(){}var n=t.prototype;return n.Pk=function(t){return this.Bk()*t},n.Ok=function(t){return this.xk(t)>0},n.Lk=function(t){return this.xk(t)>=0},n.Mk=function(t,n){return this.Xk(t).Uk(n)},n.pk=function(t){return 0===this.xk(t)},n.Fk=function(t){return this.xk(t)<0},n.Uk=function(t){return this.xk(t)<=0},n.Hk=function(){return this.zk()?this.Vk():this},n.Wk=function(t){return this.Py(t.Vk())},n.Xk=function(t){return this.Wk(t).Hk()},t}();function Y_(t,n){return t.Gk()?n.Gk()?Bs.Ss:Bs.Es:n.Gk()?Bs.Is:t.qk()?n.qk()&&t.zk()===n.zk()?Bs.Ss:t.zk()?Bs.Is:Bs.Es:n.zk()?Bs.Es:Bs.Is}var Q_=function(){function t(t,n){this.Yk=void 0,this.jk=void 0,this.Yk=t,this.jk=n}t.Qk=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Zk=function(n){return n.unsigned?new t(n,lt.UZERO):new t(n,n.isNegative()?lt.NEG_ONE:lt.ZERO)},t.Kk=function(n,i){if(p(n))return i?t.Jk:t.$k;if(i){if(n<0)return t.Jk;if(n>=3.402823669209385e38)return t.ib}else{if(n<=-1.7014118346046923e38)return t.eb;if(n+1>=1.7014118346046923e38)return t.sb}return n<0?t.Kk(-n,i).Vk():t.Qk(lt.fromNumber(n%0x10000000000000000),lt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.ub=function(){return this.jk.unsigned},n.ob=function(){return this.Yk.isZero()&&this.jk.isZero()},n.zk=function(){return this.jk.isNegative()},n.cb=function(){return this.ub()?t.Qk(this.Yk,this.jk,!1):this},n.hb=function(){return this.ub()?this:t.Qk(this.Yk,this.jk,!0)},n.fb=function(){return this.Yk},n.Bk=function(){return this.zk()?-this.Vk().Bk():0x10000000000000000*this.jk.toNumber()+this.Yk.toUnsigned().toNumber()},n.vb=function(){return this.Yk.toInt()},n.pk=function(t){return(this.ub()===t.ub()||this.jk.getHighBits()>>>31!=1||t.jk.getHighBits()>>>31!=1)&&(this.jk.toUnsigned().eq(t.jk.toUnsigned())&&this.Yk.toUnsigned().eq(t.Yk.toUnsigned()))},n.xk=function(t){if(this.pk(t))return Bs.Ss;var n=this.zk(),i=t.zk();if(n&&!i)return Bs.Is;if(!n&&i)return Bs.Es;if(!this.ub())return this.Wk(t).zk()?Bs.Is:Bs.Es;var e=this.hb(),r=t.hb(),s=r.jk.comp(e.jk);return s>0||0===s&&r.Yk.gt(e.Yk)?Bs.Is:Bs.Es},n.Fk=function(t){return this.xk(t)<0},n.Uk=function(t){return this.xk(t)<=0},n.wb=function(t){return this.xk(t)>0},n._b=function(t){return this.xk(t)>=0},n.gb=function(){return new t(this.Yk.not(),this.jk.not())},n.mb=function(n){return new t(this.Yk.and(n.Yk),this.jk.and(n.jk))},n.yb=function(n){return new t(this.Yk.or(n.Yk),this.jk.or(n.jk))},n.kb=function(n){var i=127&n;return 0===i?this:i<64?t.Qk(this.Yk.shl(i),this.jk.shl(i).or(this.Yk.shru(64-i)),this.ub()):t.Qk(lt.ZERO,this.Yk.shl(i-64),this.ub())},n.bb=function(n){var i=127&n;return 0===i?this:i<64?t.Qk(this.Yk.shru(i).or(this.jk.shl(64-i)),this.jk.shr(i),this.ub()):t.Qk(this.jk.shr(i-64),this.jk.isNegative()?lt.NEG_ONE:lt.ZERO,this.ub())},n.pb=function(n){var i=127&n;return 0===i?this:i<64?t.Qk(this.Yk.shru(i).or(this.jk.shl(64-i)),this.jk.shru(i),this.ub()):64===i?t.Qk(this.jk,lt.ZERO,this.ub()):t.Qk(this.jk.shru(i-64),lt.ZERO,this.ub())},n.Py=function(n){var i=this.jk.high>>>16,e=65535&this.jk.high,r=this.jk.low>>>16,s=65535&this.jk.low,u=this.Yk.high>>>16,o=65535&this.Yk.high,a=this.Yk.low>>>16,h=65535&this.Yk.low,c=n.jk.high>>>16,f=65535&n.jk.high,l=n.jk.low>>>16,v=65535&n.jk.low,d=n.Yk.high>>>16,w=65535&n.Yk.high,g=n.Yk.low>>>16,m=0,y=0,p=0,_=0,b=0,k=0,A=0,T=0;A+=(T+=h+(65535&n.Yk.low))>>>16,T&=65535,k+=(A+=a+g)>>>16,A&=65535,b+=(k+=o+w)>>>16,k&=65535,_+=(b+=u+d)>>>16,b&=65535,p+=(_+=s+v)>>>16,_&=65535,y+=(p+=r+l)>>>16,p&=65535,m+=(y+=e+f)>>>16,y&=65535,m+=i+c,m&=65535;var S=this.ub(),E=lt.fromBits(p<<16|_,m<<16|y,S),I=lt.fromBits(A<<16|T,b<<16|k,S);return t.Qk(I,E,S)},n.Wk=function(t){return this.Py(t.Vk())},n.Vk=function(){return this.gb().Py(t.Ab)},n.Tb=function(n){if(this.ob()||n.ob())return this.ub()?t.Jk:t.$k;if(this.zk())return n.zk()?this.Vk().Tb(n.Vk()):this.Vk().Tb(n).Vk();if(n.zk())return this.Tb(n.Vk()).Vk();if(this.jk.isZero()&&0===this.Yk.high&&n.jk.isZero()&&0===n.Yk.high)return t.Zk(this.Yk.multiply(n.Yk));var i=lt.fromBits(4294967295,0,!0),e=this.Yk.and(i),r=this.Yk.shru(32),s=this.jk.and(i),u=this.jk.shru(32),o=n.Yk.and(i),a=n.Yk.shru(32),h=n.jk.and(i),c=n.jk.shru(32),f=lt.UZERO,l=lt.UZERO,v=lt.UZERO,d=lt.UZERO;f=f.add(e.mul(o)),l=l.add(f.shru(32)),f=f.and(i),l=l.add(r.mul(o)),v=v.add(l.shru(32)),l=(l=l.and(i)).add(e.mul(a)),v=v.add(l.shru(32)),l=l.and(i),v=v.add(s.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)).add(s.mul(a)).add(r.mul(h)).add(e.mul(c)).and(i);var w=lt.fromBits(f.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0),g=lt.fromBits(v.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0);return t.Qk(w,g,this.ub())},n.Sb=function(n){var i,e,r=n;if(r.ob())throw new RangeError("division by zero");if(this.ob())return this.ub()?[t.Jk,t.Jk]:[t.$k,t.$k];if(this.ub()){if(r.ub()||(r=r.hb()),r.wb(this))return[t.Jk,this];if(r.wb(this.pb(1)))return[e=t.Eb,i=this.Wk(r)];e=t.Jk}else{if(this.pk(t.eb)){if(r.pk(t.Ab)||r.pk(t.Ib))return[t.eb,t.$k];if(r.pk(t.eb))return[t.Ab,t.$k];var s=this.bb(1).Rb(r).kb(1);return s.pk(t.$k)?e=r.zk()?t.Ab:t.Ib:(i=this.Wk(r.Tb(s)),e=s.Py(i.Rb(r))),[e,i=this.Wk(r.Tb(e))]}if(r.pk(t.eb))return this.ub()?[t.Jk,this]:[t.$k,this];if(this.zk()){if(r.zk())return this.Vk().Sb(r.Vk());var u=this.Vk().Sb(r);return e=u[0],i=u[1],[e.Vk(),i.Vk()]}if(r.zk()){var o=this.Sb(r.Vk());return e=o[0],i=o[1],[e.Vk(),i.Vk()]}e=t.$k}for(i=this;i._b(r);){for(var a=g.max(1,g.floor(i.Bk()/r.Bk())),h=g.ceil(g.log(a)/g.LN2),c=h<=48?1:g.pow(2,h-48),f=t.Kk(a),l=f.Tb(r);l.zk()||l.wb(i);)a-=c,l=(f=t.Kk(a,this.ub())).Tb(r);f.ob()&&(f=t.Ab),e=e.Py(f),i=i.Wk(l)}return[e,i]},n.Rb=function(t){return this.Sb(t)[0]},n.Nb=function(t){return this.Sb(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.ob())return"0";if(this.zk()){if(this.pk(t.eb)){var e=t.Kk(i),r=this.Rb(e),s=r.Tb(e).Wk(this);return r.toString(i)+s.vb().toString(i)}return"-"+this.Vk().toString(i)}for(var u=t.Kk(g.pow(i,6),this.ub()),o=this,a="";;){var h=o.Rb(u),c=(o.Wk(h.Tb(u)).vb()>>>0).toString(i);if((o=h).ob())return c+a;for(;c.length<6;)c="0"+c;a=String(c)+a}},t}();Q_.$k=Q_.Zk(lt.ZERO),Q_.Jk=Q_.Zk(lt.UZERO),Q_.Ab=Q_.Zk(lt.ONE),Q_.Eb=Q_.Zk(lt.UONE),Q_.Ib=Q_.Zk(lt.NEG_ONE),Q_.sb=Q_.Qk(lt.NEG_ONE,lt.MAX_VALUE,!1),Q_.ib=Q_.Qk(lt.MAX_UNSIGNED_VALUE,lt.MAX_UNSIGNED_VALUE,!0),Q_.eb=Q_.Qk(lt.ZERO,lt.MIN_VALUE,!1);var Z_=function(){function t(t,n){void 0===n&&(n=1),this.Db=void 0,this.Cb=void 0,this.Db=t,this.Cb=n}t.Pb=function(n){return new t(g.ceil(n.Db),n.Cb)},t.Bb=function(n){return new t(g.floor(n.Db),n.Cb)},t.Ob=function(t,n){return t.Lk(n)?t:n},t.xb=function(t,n){return t.Uk(n)?t:n};var n=t.prototype;return n.Py=function(n){return this.Cb>=n.Cb?new t(this.Db+n.Lb(this.Cb).Db,this.Cb):new t(this.Lb(n.Cb).Db+n.Db,n.Cb)},n.Ok=function(t){return t.Fk(this)},n.Lk=function(t){return t.Uk(this)},n.Xk=function(n){return this.Cb>=n.Cb?new t(g.abs(this.Db-n.Lb(this.Cb).Db),this.Cb):n.Xk(this)},n.Mk=function(t,n){return this.Xk(t).Uk(n)},n.xk=function(t){return i=t,(n=this).Cb>=i.Cb?zs(n.Db,i.Lb(n.Cb).Db):zs(n.Lb(i.Cb).Db,i.Db);var n,i},n.pk=function(t){return 0===this.xk(t)},n.Fk=function(t){return this.xk(t)<0},n.Uk=function(t){return this.xk(t)<=0},n.Lb=function(n){return new t(this.Db*(n/this.Cb),n)},n.Wk=function(n){return this.Cb>=n.Cb?new t(this.Db-n.Lb(this.Cb).Db,this.Cb):new t(this.Lb(n.Cb).Db-n.Db,n.Cb)},n.Mb=function(n){return new t(this.Db*n,this.Cb)},T(t,[{key:"qk",get:function(){return!isFinite(this.Db)}},{key:"Ub",get:function(){return this.Db/this.Cb}}]),t}();Z_.Xb=new Z_(1/6,1),Z_.$k=new Z_(0),Z_.Fb=new Z_(1/0),Z_.Hb=1e6;var K_=function(t){function n(n,i){var e;return(e=t.call(this)||this)._i=void 0,e.Cb=void 0,e._i=n.toSigned(),e.Cb=i>>>0,e}E(n,t),n.zb=function(t,i){return void 0===i&&(i=1e6),n.Kk(t*i,i)},n.Kk=function(t,i){return p(t)?n.Vb:t===1/0?n.Wb:t===-1/0?n.Gb:new n(lt.fromNumber(t),i)},n.Zk=function(t,i){return new n(t,i)},n.qb=function(t){return n.zb(t.Ub,1e6)},n.Yb=function(t){return new n(lt.fromNumber(t.getTime()),1e3)},n.Ob=function(t,n){return t.Lk(n)?t:n},n.xb=function(t,n){return t.Uk(n)?t:n},n.jb=function(t,i,e){return n.Ob(i,n.xb(e,t))};var i=n.prototype;return i.zk=function(){return this._i.isNegative()},i.ob=function(){return 0!==this.Cb&&this._i.isZero()},i.qk=function(){return 0===this.Cb&&!this._i.isZero()},i.Gk=function(){return 0===this.Cb&&this._i.isZero()},i.Bk=function(){if(0===this.Cb)return this._i.isZero()?NaN:this._i.isNegative()?-1/0:1/0;var t=this._i.divide(this.Cb),n=this._i.subtract(t.multiply(this.Cb));return t.toNumber()+n.toNumber()/this.Cb},i.fb=function(){if(0===this.Cb)throw new l("Failed to convert timestamp");return this._i},i.Qb=function(){return new Date(0===this.Cb?NaN:this.Lb(1e3)._i.toNumber())},i.Zb=function(){return new Z_(0===this.Cb?this.Bk():this._i.toNumber(),this.Cb)},i.Lb=function(t,i){void 0===i&&(i=nb.Kb);var e=this.Cb;if(e===t)return this;if(0===e)return this;var r=Xt(e,t);return new n(function(t,n,i){var e=t.Sb(n),r=e[0],s=e[1];if(s.ob())return r;if(i===nb.Kb)return s.zk()?r.Wk(Q_.Ab):r;if(i===nb.Jb)return s.zk()?r:r.Py(Q_.Ab);var u=s.Tb(Q_.Kk(2));return u.zk()?u.Vk().Fk(n)?r:r.Wk(Q_.Ab):u.Fk(n)?r:r.Py(Q_.Ab)}(Q_.Zk(this._i).Tb(Q_.Kk(t/r)),Q_.Kk(e/r),i).fb(),t)},i.xk=function(t){if(this===t)return Bs.Ss;if(0===this.Cb||0===t.Cb)return Y_(this,t);if(this.ob())return t.ob()?Bs.Ss:t.zk()?Bs.Es:Bs.Is;if(t.ob())return this.zk()?Bs.Is:Bs.Es;var n=g.min(this.Cb,t.Cb),i=this.Lb(n,nb.$b)._i,e=t.Lb(n,nb.$b)._i;return i.compare(e)},i.Vk=function(){return 0===this.Cb?J_(this):new n(this._i.negate(),this.Cb)},i.Py=function(t){if(0===this.Cb||0===t.Cb)return tb(this,t);if(this.ob())return t;if(t.ob())return this;var i=g.max(this.Cb,t.Cb),e=this.Lb(i,nb.$b),r=t.Lb(i,nb.$b);return new n(e._i.add(r._i),i)},i.Tb=function(t){if(this.Gk()||p(t))return n.Vb;if(this.qk()||!isFinite(t)){if(this.ob()||0===t)return n.Vb;var i=this.zk()?n.Gb:n.Wb;return t<0?i.Vk():i}return this.ob()?this:new n(0===t?lt.ZERO:this._i.multiply(t),this.Cb)},i.Rb=function(t){if(this.Gk()||p(t))return n.Vb;if(this.qk())return isFinite(t)?0===t?1/t<0?this.Vk():this:t<0?this.Vk():this:n.Vb;if(!isFinite(t))return new n(lt.ZERO,this.Cb);if(this.ob())return 0===t?n.Vb:new n(lt.ZERO,this.Cb);if(0===t){var i=this.zk()?n.Gb:n.Wb;return 1/t<0?i.Vk():i}return new n(this._i.divide(t),this.Cb)},i.tp=function(){return[this._i.low,this._i.high,this.Cb]},n}($_);function J_(t){return t.Gk()?t:t.zk()?K_.Wb:K_.Gb}function tb(t,n){return t.Gk()||n.Gk()?K_.Vb:t.qk()&&n.qk()?t.zk()===n.zk()?t:K_.Vb:t.qk()?t:n}K_.$k=new K_(lt.ZERO,1e6),K_.Vb=new K_(lt.ZERO,0),K_.Wb=new K_(lt.ONE,0),K_.Gb=new K_(lt.NEG_ONE,0);var nb,ib=function(t){function n(n,i){var e;return(e=t.call(this)||this)._i=void 0,e.Cb=void 0,e._i=BigInt.asIntN(64,n),e.Cb=i>>>0,e}E(n,t),n.zb=function(t,i){return void 0===i&&(i=1e6),n.Kk(t*i,i)},n.Kk=function(t,i){return p(t)?n.Vb:t===1/0?n.Wb:t===-1/0?n.Gb:new n(BigInt(g.floor(t)),i)},n.Zk=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.qb=function(t){return n.zb(t.Ub,1e6)},n.Yb=function(t){return n.Kk(t.getTime(),1e3)},n.Ob=function(t,n){return t.Lk(n)?t:n},n.xb=function(t,n){return t.Uk(n)?t:n},n.jb=function(t,i,e){return n.Ob(i,n.xb(e,t))};var i=n.prototype;return i.zk=function(){return this._i<BigInt(0)},i.ob=function(){return 0!==this.Cb&&this._i===BigInt(0)},i.qk=function(){return 0===this.Cb&&this._i!==BigInt(0)},i.Gk=function(){return 0===this.Cb&&this._i===BigInt(0)},i.Bk=function(){if(0===this.Cb)return this._i===BigInt(0)?NaN:this._i<BigInt(0)?-1/0:1/0;var t=this._i/BigInt(this.Cb),n=this._i-t*BigInt(this.Cb);return Number(t)+Number(n)/this.Cb},i.fb=function(){if(0===this.Cb)throw new l("Failed to convert timestamp");return this.np()},i.np=function(){var t=this._i&BigInt(4294967295),n=this._i>>BigInt(32)&BigInt(4294967295);return lt.fromBits(Number(t),Number(n))},i.Qb=function(){return new Date(0===this.Cb?NaN:Number(this.Lb(1e3)._i))},i.Zb=function(){return new Z_(0===this.Cb?this.Bk():Number(this._i),this.Cb)},i.Lb=function(t,i){void 0===i&&(i=nb.Kb);var e=this.Cb;if(e===t)return this;if(0===e)return this;var r=Xt(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===nb.Kb)return r<BigInt(0)?e-BigInt(1):e;if(i===nb.Jb)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this._i*BigInt(t/r),BigInt(e/r),i),t)},i.xk=function(t){if(this===t)return Bs.Ss;if(0===this.Cb||0===t.Cb)return Y_(this,t);if(this.ob())return t.ob()?Bs.Ss:t.zk()?Bs.Es:Bs.Is;if(t.ob())return this.zk()?Bs.Is:Bs.Es;var n=g.min(this.Cb,t.Cb),i=this.Lb(n,nb.$b)._i,e=t.Lb(n,nb.$b)._i;return i>e?Bs.Es:i<e?Bs.Is:Bs.Ss},i.Vk=function(){return 0===this.Cb?eb(this):new n(-this._i,this.Cb)},i.Py=function(t){if(0===this.Cb||0===t.Cb)return rb(this,t);if(this.ob())return t;if(t.ob())return this;var i=g.max(this.Cb,t.Cb),e=this.Lb(i,nb.$b),r=t.Lb(i,nb.$b);return new n(e._i+r._i,i)},i.Tb=function(t){if(this.Gk()||p(t))return n.Vb;if(this.qk()||!isFinite(t)){if(this.ob()||0===t)return n.Vb;var i=this.zk()?n.Gb:n.Wb;return t<0?i.Vk():i}return this.ob()?this:new n(0===t?BigInt(0):this._i*BigInt(t),this.Cb)},i.Rb=function(t){if(this.Gk()||p(t))return n.Vb;if(this.qk())return isFinite(t)?0===t?1/t<0?this.Vk():this:t<0?this.Vk():this:n.Vb;if(!isFinite(t))return new n(BigInt(0),this.Cb);if(this.ob())return 0===t?n.Vb:new n(BigInt(0),this.Cb);if(0===t){var i=this.zk()?n.Gb:n.Wb;return 1/t<0?i.Vk():i}return new n(this._i/BigInt(t),this.Cb)},i.tp=function(){var t=this.np();return[t.low,t.high,this.Cb]},T(n,null,[{key:"$k",get:function(){return n.ip||(n.ip=new n(BigInt(0),1e6)),n.ip}},{key:"Vb",get:function(){return n.ep||(n.ep=new n(BigInt(0),0)),n.ep}},{key:"Wb",get:function(){return n.rp||(n.rp=new n(BigInt(1),0)),n.rp}},{key:"Gb",get:function(){return n.sp||(n.sp=new n(BigInt(-1),0)),n.sp}}]),n}($_);function eb(t){return t.Gk()?t:t.zk()?ib.Wb:ib.Gb}function rb(t,n){return t.Gk()||n.Gk()?ib.Vb:t.qk()&&n.qk()?t.zk()===n.zk()?t:ib.Vb:t.qk()?t:n}ib.ip=void 0,ib.ep=void 0,ib.rp=void 0,ib.sp=void 0,function(t){t[t.Kb=0]="Kb",t[t.Jb=1]="Jb",t[t.$b=2]="$b"}(nb||(nb={}));var sb=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?ib:K_;var ub=9e4,ob=g.pow(2,33),ab=sb.Kk(ob,ub),hb=ab.Rb(2);var cb,fb,lb,vb,db={op:0,ap:1/0,cp:0},wb=6,gb=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],mb=[" ","\t","\n","\f","\r"],yb=/^\d*$/,pb=/.*[0-9]+.*/,_b=/^[\d.-]+$/,bb=/(^\.|\.$)/,kb=/(\D\.|\.\D)/;function Ab(t,n){void 0===n&&(n=db);var i={og:[],hp:[],fp:[]},e=Tb(t),r=new Ko;if(Ob(e),Sb(e,function(t){return"\n"!==t},r),r.Du>=e.length)return i;(r.Cu(1),"\n"!==e.charAt(r.Du))?Cb(Eb(e,r,!1,!0,i,n),i):r.Cu(1);for(Sb(e,function(t){return"\n"===t},r);r.Du<e.length;){Cb(Eb(e,r,!1,!1,i,n),i),Sb(e,function(t){return"\n"===t},r)}return i}function Tb(t){var n=_s(t,"\0"," "),i=_s(n,"\r\n","\n");return _s(i,"\r","\n")}function Sb(t,n,i){for(var e=i.Du;i.Du<t.length&&n(t.charAt(i.Du));)i.Cu(1);return t.substring(e,i.Du)}function Eb(t,n,e,r,s,u){for(var o,a=0,h=n.Du,c="",f=!1,l=!1,v=null,d=null,w=null;!f;)if(o=Sb(t,function(t){return"\n"!==t},n),a++,n.Du>=t.length?f=!0:n.Cu(1),bs(o,"--\x3e")){if(r||1!==a&&(2!==a||l)){n.Bu(h);break}l=!0,h=n.Du,v=new H_(0,0,"",!1,c);try{Nb(o,s.hp,v,u),c=""}catch(t){i.wr(t),v=null}}else{if(""===o)break;r&&ks(o,"X-TIMESTAMP-MAP")&&(s.vp=Ib(o)),r||2!==a||e||(Ts("STYLE",c.replace(/ /g,""))?(d={us:k_.Wy},c=""):Ts("REGION",c.replace(/ /g,""))&&(w=new G_("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,h=n.Du}if(v)return v.Jy=c,v;if(d);else if(w)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&bs(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":qb(o,n);break;case"WIDTH":Yb(o,n);break;case"LINES":$b(o,n);break;case"REGIONANCHOR":var a=Wb(o);a&&(n.Ek=a[0],n.Ik=a[1]);break;case"VIEWPORTANCHOR":var h=Wb(o);h&&(n.Nk=h[0],n.Dk=h[1]);break;case"SCROLL":Gb(o,n)}}}}(c,w),w;return null}function Ib(t){var n,i,e=t.split("=")[1].trim().split(","),r=Rb(e[0].trim(),"MPEGTS")?e[0]:e[1],s=Rb(e[0].trim(),"LOCAL")?e[0]:e[1];return{lp:(i=Number(r.split(/:(.*)/)[1].trim())||0,sb.Kk(i,ub)),dp:sb.zb(null!=(n=xb(s.split(/:(.*)/)[1].trim(),new Ko))?n:0)}}function Rb(t,n){return ks(t,n)}function Cb(t,n){t&&function(t){return t.us===k_.zy}(t)?n.og.push(t):t&&function(t){return t.us===k_.Vy}(t)?n.hp.push(t):t&&function(t){return t.us===k_.Wy}(t)&&n.fp.push(t)}function Nb(t,n,i,e){var r=new Ko;if(Lb(t,r),i.Zy=Db(xb(t,r),e),Lb(t,r),"--\x3e"!==t.substring(r.Du,r.Du+3))throw l("Something went wrong with parsing a WebVTT Cue");r.Cu(3),Lb(t,r),i.Ky=Db(xb(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&bs(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),a=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":Hb(a,n,i);break;case"VERTICAL":zb(a,n);break;case"D":Vb(a,n);break;case"LINE":case"L":Fb(a,n);break;case"POSITION":case"T":Ub(a,n);break;case"SIZE":case"S":Xb(a,n);break;case"ALIGN":case"A":jb(a,n)}}}}(t.substring(r.Du,t.length),i,n)}function Db(t,n){return t+n.op}function Pb(t){return/^[0-9]$/.test(t)}function xb(t,n){var i,e,r,s=_s(t,",","."),u=!1;if(n.Du>=s.length||!Pb(s.charAt(n.Du)))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");var o=Sb(s,Pb,n),a=m(o,10);if((o.length>2||a>59)&&(u=!0),n.Du>=s.length||":"!==s.charAt(n.Du))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");n.Cu(1);var h=Sb(s,Pb,n);if(2!==h.length)throw new l("Something went wrong with parsing a WebVTT Cue timestamp");var c=m(h,10);if(u||n.Du<s.length&&":"===s.charAt(n.Du)){if(n.Du>=s.length||":"!==s.charAt(n.Du))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");n.Cu(1);var f=Sb(s,Pb,n);if(2!==h.length)throw new l("Something went wrong with parsing a WebVTT Cue timestamp");i=a,e=c,r=m(f,10)}else i=0,e=a,r=c;if(n.Du>=s.length||"."!==s.charAt(n.Du))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");n.Cu(1);var v=Sb(s,Pb,n),d=m(v,10);if(c>59||r>59)throw new l("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+d/1e3}function Bb(t){return Ob(Tb(t))}function Ob(t){if(t.length<wb)return!1;for(var n=0;n<gb.length;n++){if(ks(t,gb[n]))return!0}return!1}function Lb(t,n){for(;n.Du<t.length&&(i=t.charAt(n.Du),Ys(mb,i));)n.Cu(1);var i}function Mb(t){var n=t.lastIndexOf("%");if(n>-1){var i=y(t.substring(0,n));if(!p(i)&&i>=0&&i<=100)return i}return null}function jb(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.$y=i;break;case"middle":n.$y="center"}}function Fb(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),pb.test(i)){var s,u;if(As(i,"%")){var o=Mb(i);if(null===o)return;s=o,u=!1}else{if(!_b.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!kb.test(i)||bb.test(i)))return;if(s=y(i),p(s))return;u=!0}switch(n.nk=s,n.fk=u,e=e.toLowerCase()){case"start":case"center":case"end":n.ek=e;break;case"middle":n.ek="center"}}}function Ub(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var s=Mb(i);if(null!==s)switch(n.rk=s,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.ck=e;break;case"start":n.ck="line-left";break;case"middle":n.ck="center";break;case"end":n.ck="line-right"}}function Hb(t,n,i){var e=Ws(i,function(n){return n.X_===t});void 0!==e&&(n.hk=e)}function Xb(t,n){var i=Mb(t);null!==i&&(n.Nu=i)}function zb(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.vk="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.vk="lr";break;default:n.vk=""}}function Vb(t,n){"VERTICAL"===t.toUpperCase()?n.vk="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.vk="lr")}function Wb(t){if(t.indexOf(",")>=0){var n=Mb(t.substring(0,t.indexOf(","))),i=Mb(t.substring(t.indexOf(",")+1,t.length));return[jt(n||0,0,100),jt(i||100,0,100)]}return null}function qb(t,n){n.X_=t}function Gb(t,n){"up"===t.toLowerCase()&&(n.Rk="up")}function $b(t,n){yb.test(t)&&(n.Sk=m(t))}function Yb(t,n){var i=Mb(t);null!==i&&(n.Ck=i)}!function(t){t.wp="moov",t._p="mvhd",t.gp="trak",t.mp="tkhd",t.yp="mdia",t.kp="mdhd",t.bp="hdlr",t.pp="minf",t.Ap="stbl",t.Tp="stsd",t.Sp="stsc",t.Ep="mvex",t.Ip="trex",t.Rp="avc1",t.Np="avcC",t.Dp="hev1",t.Cp="hvc1",t.Pp="hvcC",t.Bp="pasp",t.Op="mp4a",t.xp="esds",t.Lp="wvtt",t.Mp="vttC",t.Up="vlab",t.Xp="enca",t.Fp="encv",t.Hp="moof",t.zp="mfhd",t.Vp="traf",t.Wp="tfhd",t.Gp="trun",t.qp="tfdt",t.Yp="senc",t.jp="mdat",t.Qp="pssh",t.Zp="emsg",t.Kp="sidx",t.Jp="styp",t.$p="ftyp",t.tA="sinf",t.nA="frma"}(cb||(cb={})),function(t){t.Td="vide",t.Ad="soun",t.iA="subt",t.eA="hint",t.rA="meta",t.sA="auxv"}(fb||(fb={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(lb||(lb={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(vb||(vb={}));var Qb=function(){function t(t,n){this.Xi=void 0,this.uA=void 0,this.Xi=t,this.uA=n}var n=t.prototype;return n.oA=function(){return fo(this.Xi,this.uA)},n.aA=function(){return yo(this.Xi,this.uA)},n.cA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Du,i);return n.Cu(2),e}(this.Xi,this.uA)},n.hA=function(){return _o(this.Xi,this.uA)},n.fA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Du,i);return n.Cu(4),e}(this.Xi,this.uA)},n.vA=function(){return ko(this.Xi,this.uA)},n.lA=function(t){return vo(this.Xi,this.uA,t)},n.dA=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(_o(t,n));return e}(this.Xi,this.uA,t)},n.wA=function(t){return So(this.Xi,this.uA,t)},n._A=function(){return Fo(this.Xi,this.uA)},n.gA=function(t){this.uA.Cu(t)},n.Ou=function(){return new t(this.Xi,this.uA.Ou())},t}();function Zb(t,n){return t.us===n}function Kb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(Zb(e,n))return e}}function Jb(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];Zb(r,n)&&i.push(r)}return i}var tk=function(t){function n(n,i){var e;return(e=t.call(this)||this).mA=n,e.yA=i,e}return E(n,t),T(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(tn),nk=function(){function t(){}return t.kA=function(n){var i=n.Xi,e=n.uA,r=t.bA(i,e,!1);if(!r.pA)throw new tk(e.Du,r.Di);return r.Di},t.bA=function(n,i,e){for(var r=[];i.Du<n.byteLength;){var s=t.AA(n,i,e);if(!s.pA)return{pA:!1,Di:r};r.push(s.TA)}return{pA:!0,Di:r}},t.SA=function(n,i){var e=t.AA(n,i,!1);if(!e.pA)throw new tk(i.Du);return e.TA},t.EA=function(n,i){for(var e=n.Xi,r=n.uA;r.Du<e.byteLength;){var s=t.AA(e,r,!1);if(!s.pA)return;if(s.TA.us===i)return s.TA}},t.AA=function(n,i,e){var r=i.Du,s=t.IA(n,i);if(!s.pA)return s;var u=s.RA,o=u.Nu;if(0===o){if(e)return i.Bu(r),{pA:!1,NA:1/0};o=n.byteLength-r}var a=r+o;if(a>n.byteLength){var h=a;return i.Bu(r),{pA:!1,NA:h}}var c={us:u.us,Du:r,Xi:new Qb(Vo(n,r,a),new Ko(u.DA))};return i.Bu(a),{pA:!0,TA:c}},t.IA=function(t,n){var i=n.Du;if(!go(t,n,8))return{pA:!1,NA:n.Du+8};var e=_o(t,n),r=So(t,n,4);if(1===e){if(!go(t,n,8)){var s=n.Du+8;return n.Bu(i),{pA:!1,NA:s}}e=ko(t,n).toNumber()}if("uuid"===r){if(!go(t,n,16)){var u=n.Du+16;return n.Bu(i),{pA:!1,NA:u}}r=So(t,n,16)}return{pA:!0,RA:{us:r,Nu:e,DA:n.Du-i}}},t.CA=function(t,n,i){var e=t.Xi,r=t.uA,s=zo(qo(e),r.Du,e.byteLength);return i&&(s=Qo(s)),r.Cu(s.byteLength),{us:n,Xi:s}},t.PA=function(n,i,e){var r=sk(n.hA());return{us:i,BA:r.version,OA:r.flags,Xi:t.CA(n,i,e).Xi}},t}();function ik(t,n){var i=ek(t,n);if(!i)throw new l("Missing "+n+" atom");return i}function ek(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.us===n)return e.Xi}}function rk(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.us===n&&i.push(r.Xi)}return i}function sk(t){return{version:t>>24,flags:new ao(16777215&t)}}var uk=function(){function t(){}return t.xA=function(n){for(var i=[],e=nk.kA(new Qb(n,new Ko)),r=0;r<e.length;r++){var s=e[r],u=t.LA(s);u&&i.push(u)}return i},t.MA=function(t){return nk.bA(t,new Ko,!1).Di.some(this.UA)},t.XA=function(n){return rk(nk.kA(new Qb(n,new Ko)),cb.Qp).map(t.FA)},t.HA=function(n){return rk(nk.kA(n.Xi),cb.Qp).map(t.FA)},t.UA=function(t){return t.us===cb.$p||t.us===cb.Jp||t.us===cb.wp||t.us===cb.Hp||t.us===cb.jp||t.us===cb.Kp||t.us===cb.Zp},t.LA=function(n){switch(n.us){case cb.wp:return t.zA(n.Xi);case cb.Hp:return t.VA(n.Xi,n.Du);case cb.jp:return t.WA(n.Xi);case cb.Kp:return t.GA(n.Xi);case cb.Zp:return t.qA(n.Xi)}},t.zA=function(n){var i=nk.kA(n),e=ik(i,cb._p),r=rk(i,cb.gp),s=ek(i,cb.Ep),u=t.YA(e),o=r.map(t.jA),a=s?t.QA(s):void 0;return{us:cb.wp,RA:u,ZA:o,KA:a}},t.YA=function(t){var n=sk(t.hA()),i=n.version,e=n.flags,r=1===i?t.vA():t.hA(),s=1===i?t.vA():t.hA(),u=t.hA(),o=1===i?t.vA():t.hA(),a=t.hA(),h=t.aA()>>8;t.gA(2),t.gA(8);var c=t.dA(9);t.gA(24);var f=t.hA();return{us:cb._p,BA:i,OA:e,JA:r,$A:s,Cb:u,Yg:o,tT:a,im:h,nT:c,iT:f}},t.jA=function(n){var i=nk.kA(n),e=ik(i,cb.mp),r=ik(i,cb.yp),s=t.eT(e),u=t.rT(r);return{us:cb.gp,RA:s,sT:u}},t.eT=function(t){var n=sk(t.hA()),i=n.version,e=n.flags,r=1===i?t.vA():t.hA(),s=1===i?t.vA():t.hA(),u=t.hA();t.gA(4);var o=1===i?t.vA():t.hA();t.gA(8);var a=t.cA(),h=t.cA(),c=t.cA()/g.pow(2,8);t.gA(2);var f=t.dA(9),l=t.hA()/g.pow(2,16),v=t.hA()/g.pow(2,16);return{us:cb.mp,uT:e.Lu(1),oT:e.Lu(2),aT:e.Lu(4),JA:r,$A:s,cT:u,Yg:o,hT:a,fT:h,im:c,nT:f,Ck:l,vT:v}},t.rT=function(n){var i=nk.kA(n),e=ik(i,cb.kp),r=ik(i,cb.bp),s=ik(i,cb.pp),u=t.lT(e),o=t.dT(r),a=t.wT(s);return{us:cb.yp,RA:u,_T:o,gT:a}},t.lT=function(t){var n=sk(t.hA()),i=n.version,e=n.flags,r=1===i?t.vA():t.hA(),s=1===i?t.vA():t.hA(),u=t.hA(),o=1===i?t.vA():t.hA();return t.aA(),t.gA(2),{us:cb.kp,BA:i,OA:e,JA:r,$A:s,Cb:u,Yg:o}},t.dT=function(t){var n=sk(t.hA()),i=n.version,e=n.flags;t.gA(4);var r=t.wA(4);t.gA(12);var s=t._A();return{us:cb.bp,BA:i,OA:e,mT:r,ci:s}},t.wT=function(n){var i=ik(nk.kA(n),cb.Ap),e=t.yT(i);return{us:cb.pp,kT:e}},t.yT=function(n){var i=ik(nk.kA(n),cb.Tp),e=t.bT(i);return{us:cb.Ap,pT:e}},t.bT=function(n){var i=sk(n.hA()),e=i.version,r=i.flags;n.hA();for(var s=[],u=nk.kA(n),o=0;o<u.length;o++){var a=u[o],h=t.AT(a.Xi,a.us);h&&s.push(h)}return{us:cb.Tp,BA:e,OA:r,TT:s}},t.AT=function(n,i){var e=t.ST(n,i);return e||((e=t.ET(n,i))||(i===cb.Lp?t.IT(n):void 0))},t.ST=function(n,i){return i===cb.Op?t.RT(n):i===cb.Xp?t.NT(n):void 0},t.ET=function(n,i){return i===cb.Rp?t.DT(n):i===cb.Dp||i===cb.Cp?t.CT(n,i):i===cb.Fp?t.PT(n):void 0},t.BT=function(t,n){return t.gA(6),{us:n,OT:t.aA()}},t.xT=function(n,i){var e=t.BT(n,i);n.gA(8);var r=n.aA(),s=n.aA();return n.gA(2),n.gA(2),Fr({},e,{LT:r,MT:s,UT:n.hA()>>>16})},t.XT=function(n,i){var e=t.BT(n,i);n.gA(2),n.gA(2),n.gA(12);var r=n.aA(),s=n.aA(),u=n.hA(),o=n.hA();n.gA(4);var a=n.aA();n.gA(32);var h=n.aA();return n.gA(2),Fr({},e,{Ck:r,vT:s,FT:u,HT:o,zT:a,VT:h})},t.RT=function(n){var i=t.xT(n,cb.Op),e=ik(nk.kA(n),cb.xp);return Fr({},i,{WT:t.GT(e)})},t.IT=function(n){var i=t.BT(n,cb.Lp),e=nk.kA(n),r=ik(e,cb.Mp),s=t.qT(r),u=ek(e,cb.Up);return Fr({},i,{YT:s,jT:u?t.QT(u):u})},t.qT=function(t){return{us:cb.Mp,Jc:t._A()}},t.QT=function(t){return{us:cb.Up,z_:t._A()}},t.GT=function(t){return nk.PA(t,cb.xp,!0)},t.DT=function(n){var i=t.XT(n,cb.Rp),e=nk.kA(n),r=ik(e,cb.Np),s=ek(e,cb.Bp);return Fr({},i,{ZT:t.KT(r),JT:s?t.$T(s):void 0})},t.CT=function(n,i){var e=t.XT(n,i),r=ik(nk.kA(n),cb.Pp);return Fr({},e,{tS:t.nS(r)})},t.PT=function(n){var i=n.Ou(),e=t.XT(n,cb.Fp),r=ik(nk.kA(n),cb.tA),s=t.iS(r);return Fr({},e,{eS:t.ET(i,s.sS.rS),uS:s})},t.NT=function(n){var i=n.Ou(),e=t.xT(n,cb.Xp),r=ik(nk.kA(n),cb.tA),s=t.iS(r);return Fr({},e,{eS:t.ST(i,s.sS.rS),uS:s})},t.iS=function(n){var i=ik(nk.kA(n),cb.nA),e=t.oS(i);return{us:cb.tA,sS:e}},t.oS=function(t){var n=t.wA(4);return{us:cb.nA,rS:n}},t.KT=function(t){return nk.CA(t,cb.Np,!0)},t.nS=function(t){return nk.CA(t,cb.Pp,!0)},t.$T=function(t){var n=t.hA(),i=t.hA();return{us:cb.Bp,aS:n,cS:i}},t.QA=function(n){var i=rk(nk.kA(n),cb.Ip).map(t.hS);return{us:cb.Ep,ZA:i}},t.hS=function(t){var n=sk(t.hA()),i=n.version,e=n.flags,r=t.hA(),s=t.hA(),u=t.hA(),o=t.hA(),a=t.hA();return{us:cb.Ip,BA:i,OA:e,cT:r,fS:s,vS:u,lS:o,dS:a}},t.VA=function(n,i){var e=nk.kA(n),r=ik(e,cb.zp),s=rk(e,cb.Vp),u=t.wS(r),o=s.map(t._S);return{us:cb.Hp,gS:i,RA:u,ZA:o}},t.wS=function(t){var n=sk(t.hA()),i=n.version,e=n.flags,r=t.hA();return{us:cb.zp,BA:i,OA:e,mS:r}},t._S=function(n){var i=nk.kA(n),e=ik(i,cb.Wp),r=rk(i,cb.Gp),s=ek(i,cb.qp),u=t.yS(e),o=r.map(function(n){return t.kS(n,u)}),a=s?t.bS(s):void 0;return{us:cb.Vp,RA:u,pS:o,AS:a}},t.yS=function(t){var n=sk(t.hA()),i=n.version,e=n.flags,r=t.hA(),s=e.Lu(lb.BASE_DATA_OFFSET_PRESENT)?t.vA():void 0,u=e.Lu(lb.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.hA():void 0,o=e.Lu(lb.DEFAULT_SAMPLE_DURATION_PRESENT)?t.hA():void 0,a=e.Lu(lb.DEFAULT_SAMPLE_SIZE_PRESENT)?t.hA():void 0,h=e.Lu(lb.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.hA():void 0;return{us:cb.Wp,BA:i,OA:e,cT:r,TS:s,SS:u,vS:o,lS:a,dS:h}},t.kS=function(n,i){for(var e=sk(n.hA()),r=e.version,s=e.flags,u=n.hA(),o=s.Lu(vb.DATA_OFFSET_PRESENT)?n.fA():void 0,a=s.Lu(vb.FIRST_SAMPLE_FLAGS_PRESENT)?n.hA():void 0,h=[],c=0;c<u;c++){var f=t.ES(n,s,r,i);0===c&&void 0!==a&&(f.OA=a),h.push(f)}return{us:cb.Gp,BA:r,OA:s,IS:u,gS:o,RS:a,NS:h}},t.ES=function(t,n,i,e){return{Yg:n.Lu(vb.SAMPLE_DURATION_PRESENT)?t.hA():e.vS,Nu:n.Lu(vb.SAMPLE_SIZE_PRESENT)?t.hA():e.lS,OA:n.Lu(vb.SAMPLE_FLAGS_PRESENT)?t.hA():e.dS,DS:n.Lu(vb.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.hA():t.fA():void 0}},t.qA=function(t){var n=t.Xi,i=t.uA,e=sk(_o(n,i)),r=e.version,s=e.flags;if(1===r){var u=_o(n,i),o=ko(n,i),a=_o(n,i),h=_o(n,i),c=To(n,i),f=To(n,i),l=Yo(qo(n),i.Du,n.byteLength);return i.Cu(l.byteLength),{us:cb.Zp,BA:r,OA:s,CS:c,_i:f,Cb:u,PS:o,OS:a,X_:h,xS:l}}var v=To(n,i),d=To(n,i),w=_o(n,i),g=_o(n,i),m=_o(n,i),y=_o(n,i),p=Yo(qo(n),i.Du,n.byteLength);return i.Cu(p.byteLength),{us:cb.Zp,OA:s,BA:r,CS:v,_i:d,Cb:w,LS:g,OS:m,X_:y,xS:p}},t.WA=function(t){return nk.CA(t,cb.jp,!1)},t.FA=function(n){var i=n.Xi,e=n.uA,r=Qo(qo(i)).buffer,s=sk(_o(i,e)),u=s.version,o=s.flags,a=t.MS(i,e),h=[];if(u>0)for(var c=_o(i,e),f=0;f<c;f++){var l=vo(i,e,16);h.push(l)}var v=_o(i,e),d=new _(r,e.Du,v);return e.Cu(i.byteLength),{us:cb.Qp,BA:u,OA:o,US:a,XS:h,FS:v,Xi:d,HS:r}},t.MS=function(t,n){for(var i="",e=0;e<4;e++){var r=fo(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=fo(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var a=fo(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var h=0;h<2;h++){var c=fo(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var l=fo(t,n).toString(16);i+=1===l.length?"0"+l:l}return i.toLowerCase()},t.GA=function(t){var n,i,e=t.Xi,r=t.uA,s=sk(_o(e,r)),u=s.version,o=s.flags,a=_o(e,r),h=_o(e,r);0===u?(n=lt.fromBits(_o(e,r),0,!0),i=lt.fromBits(_o(e,r),0,!0)):(n=ko(e,r),i=ko(e,r)),r.Cu(2);for(var c=yo(e,r),f=[],l=0;l<c;l+=1){var v=_o(e,r),d=v>>31&1,w=2147483647&v,g=_o(e,r),m=_o(e,r),y=m>>31&1,p=m>>28&7,_=268435455&m;f.push({zS:d,VS:w,Yg:g,WS:y,GS:p,qS:_})}return{us:cb.Kp,BA:u,OA:o,YS:a,Cb:h,jS:n,QS:i,ZS:c,KS:f}},t.bS=function(t){var n,i=t.Xi,e=t.uA,r=sk(_o(i,e)),s=r.version,u=r.flags;return n=0===s?lt.fromBits(_o(i,e),0,!0):ko(i,e),{us:cb.qp,BA:s,OA:u,AS:n}},t}();function ok(t){return t&&"Ni"in t?t.Ni:t}var ak=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this,n,i,e,r)||this).JS=void 0,a.$S=void 0,a.tE=void 0,a.JS=s,a.$S=u,a.tE=o||void 0,a}return E(n,t),n.prototype.pk=function(n){return this===n||!!my(this,n)&&(!!t.prototype.pk.call(this,n)&&(!!gy(this.nE,n.nE)&&(!!gy(this.hp,n.hp)&&(this.iE&&n.iE?!!this.iE.ui(n.iE)&&(this.Jy&&n.Jy?this.Jy.ui(n.Jy):this.Jy===n.Jy):this.iE===n.iE))))},T(n,[{key:"nE",get:function(){return this.JS}},{key:"hp",get:function(){return this.$S}},{key:"iE",get:function(){return this.tE}},{key:"Jw",get:function(){var t;return this.Kw||(this.Kw=dy(P_(t=this),{get styles(){return t.nE},get regions(){return t.hp},get metadata(){return ok(t.iE)},get content(){return ok(t.Jy)}})),this.Kw}}]),n}(F_),hk=function(){function t(t,n,i){this.Rv=void 0,this.eE=void 0,this.rE=void 0,this.eE=t,this.rE=n,Qt(i)?this.Rv=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.Bi(s)}return i}(0,0,i):this.Rv=i}return T(t,[{key:"sE",get:function(){return this.Rv.oi(!0)}},{key:"Zy",get:function(){return this.eE}},{key:"Ky",get:function(){return this.rE}}]),t}();var ck="http://www.w3.org/XML/1998/namespace";function fk(t,n,i,e){var r=t.Ii(i,n);return 0===r.length&&(r=t.Ti(e+":"+n)),r}function lk(t,n){return function(t,n){var i=t.Di.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Di)}return e}(t,function(t){return t.Ei===n})}function vk(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function dk(t,n){for(var i=t.Mi,e={},r=0;r<i.length;r++)e[vk(i[r].ci,n)]=i[r]._i;return e}var wk=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,gk=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,mk="http://www.w3.org/ns/ttml";function yk(t,n,i,e){void 0===i&&(i=db),void 0===e&&(e=Fc.APPLICATION_TTML_XML);var r=[],s=Wo(t);return e===Fc.APPLICATION_MP4?r=function(t,n,i){var e=Kb(uk.xA(t),cb.jp);if(!e)return[];return bk(Wo(e.Xi),n,i)}(s,n,i):e===Fc.APPLICATION_TTML_XML&&(r=bk(s,n,i)),r}function pk(t,n,i){return void 0===i&&(i=db),kk(t,n,i)}function _k(t,n){for(var i=function t(n){var i=[];var e;if(Qt(n)){(e=n.Ci("region"))&&i.push(e);for(var r=n.Si,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.sE),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function bk(t,n,i){return kk(Xo(t,new Ko),n,i)}function kk(t,n,e){var r,s=[];try{r=i.ei(t)}catch(t){return s}var u=r.Fi;if("tt"!==u.ai)return s;var o=u&&u.Ii(mk,"head")[0],a=u&&u.Ii(mk,"body")[0],h=["ebutts","tts","xml"];if(!a||!o)return s;for(var c=function(t,n){for(var i={},e=t.Ii(mk,"styling")[0],r=e&&e.Ii(mk,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.Pi(ck,"id");i[o]=dk(u,n)}return i}(o,h),f=function(t,n){var i=wy(t),e=Sk(n.Ci("tts:extent"));if(!e)return i;for(var r=0,s=w.keys(i);r<s.length;r++){var u=s[r],o=Sk(i[u].extent);if(o){var a=Ak(o[0],e[0]),h=Ak(o[1],e[1]);i[u].extent=a+" "+h}var c=Sk(i[u].origin);if(c){var f=Ak(c[0],e[0]),l=Ak(c[1],e[1]);i[u].origin=f+" "+l}}return i}(function(t,n){for(var i={},e=t.Ii(mk,"layout")[0],r=e&&e.Ii(mk,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.Pi(ck,"id");if(o){i[o]=dk(u,n);var a=Rk(u,n);for(var h in a)j.call(a,h)&&(i[o][h]=a[h])}}return i}(o,h),u),l=o.Ii(mk,"metadata")[0],v=function t(n,i,e,r){var s=i;var u;var o=e;var a=[];var h=[];if(Qt(n)){var c,f;s=null!=(c=Ik(n.Ci("begin"),r))?c:s,u=Ik(n.Ci("dur"),0),o=null!=(f=Ik(n.Ci("end"),r))?f:void 0!==u?s+u:o;for(var l=n.Si,v=0;v<l.length;v++)("body"===n.ai||"div"===n.ai)&&l[v].Qn>1||(a=a.concat(t(l[v],s,o,r)))}var d=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.Zy,s.Ky)}e.sort(Hs);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&($s(e,o+1),o--,u=e.length);return e}(s,o,a);for(var w=0;w<d.length-1;w++){var g=Ek(d[w],d[w+1],a);if(g.length<=0&&Ck(n)){var m=n.oi(!1);h.push(new hk(d[w],d[w+1],m))}else g.length>0&&function(){var t=n.oi(!1);g.forEach(function(n){return t.Ri(n.sE)}),h.push(new hk(d[w],d[w+1],t))}()}return h}(a,e.op,e.ap,e.cp),d=0;d<v.length;d++){var g=v[d],m=_k(f,g);s.push(new ak(g.Zy,g.Ky,g.sE,!1,c,m,l))}return s}function Ak(t,n){var i=Tk(t),e=Tk(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return p(r)||p(s)?t:r/s*100+"%"}return t}function Tk(t){return As(t,"px")?"px":As(t,"em")?"em":As(t,"c")?"c":As(t,"%")?"%":void 0}function Sk(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Ek(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].Zy,u=i[r].Ky;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function Ik(t,n){if(t){if(wk.test(t)){var i=wk.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*g.pow(.1,u.length):0)+n}if(gk.test(t)){var o=gk.exec(t);if(!o)return;var a,h=Number(o[1]);switch(o[4]){case"h":a=3600*h;break;case"m":a=60*h;break;case"s":a=h;break;case"ms":a=.001*h;break;case"f":case"t":default:a=NaN}return a+n}}}function Rk(t,n){for(var i={},e=t.Ti("style")||[],r=0;r<e.length;r++){var s=dk(e[r],n);for(var u in s)j.call(s,u)&&(i[u]=s[u])}return i}function Ck(t){if(Qt(t)){var n=t.ai.toUpperCase(),i=Boolean(t.Ci("smpte:backgroundImage"));return"BR"===n||i}return t.Qn===Gt.Kn}function Nk(t){var n=function(t){try{return i.ei(t).Fi}catch(t){}}(t);return"tt"===(null==n?void 0:n.ai)}var Dk,Pk=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.T_=function(n){return t.prototype.T_.call(this,n)},i.S_=function(n){var i=t.prototype.S_.call(this,n);return i&&(n.K_=Dy.q_),i},i.$w=function(){return jy(this)},n}(oy);!function(t){t.iA="subtitles",t.uE="captions",t.oE="descriptions",t.aE="chapters",t.rA="metadata",t.cE="thumbnails"}(Dk||(Dk={}));var xk=[Dk.iA,Dk.uE,Dk.oE,Dk.aE,Dk.rA,Dk.cE];function Bk(t){return"string"==typeof t&&Ys(xk,t)}var Ok,Lk=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return E(n,t),n}(ff);function Mk(t){return t instanceof mg}function jk(t){return t instanceof pg}function Fk(t){return t===Dk.iA||t===Dk.uE}function Uk(t){return bs(t,Ok.hE)}function Hk(t){return t.some(Xk)}function Xk(t){return bs(t,Ok.fE)||bs(t,Ok.Lp)}function zk(t,n){return Uc(t)&&Hk(n)}function Vk(t,n){return!!t&&(Uc(t)?function(t){return t.some(Uk)}(n)||Hk(n):bs(t,Fc.APPLICATION_TTML_XML)||bs(t,Fc.TEXT_VTT)||bs(t,Fc.IMAGE_JPEG))}function Wk(t,n){return t===Dk.cE||t===Dk.rA&&n===Dk.cE}function qk(t,n,i,e){for(var r=0,s=t.og.R_;r<s.length;r++){var u=s[r];if(u.Zy>i)break;n<=u.Ky&&e.push(u)}}function Gk(t,n){return Us(t.F_,n.F_)}function $k(t,i){var e=i,r=0;if(Mk(t)&&t.name===vg.Hd)e=t.ed.ud;else if(jk(t)){var s=t.qd;if(e=s.rd,0===(r=s.Zl))return new Lk(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Lk(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Yk(t,i,e,r){var s=function(t){switch(t){case b_.WEBVTT:return"WebVTT";case b_.SRT:return"SRT";case b_.TTML:return"TTML";default:return""}}(t);return new Lk(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function Qk(t){return Bb(t)?b_.WEBVTT:Nk(t)?b_.TTML:b_.SRT}function Zk(t,n){for(var i=[],e=0,r=t.og.R_;e<r.length;e++){var s=r[e];if(s.Ky<=n)i.push(s);else if(s.Zy>=n)break}for(var u=0;u<i.length;u++){var o=i[u];t.vE(o)}}!function(t){t.fE="vtt",t.Lp="wvtt",t.hE="stpp"}(Ok||(Ok={}));var Kk=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ZA=new Pk,n.lE=function(t){var i=t.t_;n.dE(i)},n}E(n,t);var i=n.prototype;return i.T_=function(t){t.js(ty.f_,this.lE),this.ZA.T_(t),this.dE(t)},i.S_=function(t){t.Js(ty.f_,this.lE),t.K_=Dy.q_,this.ZA.S_(t)},i.wE=function(t){},i._E=function(t){},i.dE=function(t){t.K_!==Dy.q_?this.wE(t):this._E(t)},i.gE=function(){for(var t=0,n=this.ZA.R_;t<n.length;t++){var i=n[t];i.Js(ty.f_,this.lE),i.Bd()}},i.mE=function(t){if(t>0)for(var n=0,i=this.ZA.R_;n<i.length;n++){Zk(i[n],t)}},i.I_=function(){return this.gE(),this.ZA.I_(),We.resolve()},i.Bd=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ks(),t.next=3,jr.awrap(this.I_());case 3:this.ZA.Bd();case 4:case"end":return t.stop()}},null,this,null,We)},n}(Au),Jk=function(t){function n(n){var i;return(i=t.call(this,Py.Q_)||this).errorObject=n,i}return E(n,t),n.prototype.$w=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Km),tA=function(t){function n(n,i){var e;return(e=t.call(this)||this).yE=void 0,e.kE=void 0,e.bE=new uu,e.yE=n,e.kE=i,e}E(n,t);var i=n.prototype;return i.pE=function(t){if(t.src){var n=t.kind||Dk.iA,i=this.yE.AE(n,t.id,t.label,t.srclang,t.default);return i.cg=lg(t.src),this.T_(i),i}},i.TE=function(t,n){var i,e,r,s,u,o,a,h,c,f;return jr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return t.rg=__.LOADING,i=new ag({ud:t.cg,Jl:Pf.Kn,Ed:eg.GET,zs:n}),l.prev=2,l.next=5,jr.awrap(this.kE.ed(i));case 5:return s=l.sent,r=s.Zl,l.next=9,jr.awrap(s.Ol());case 9:e=l.sent,l.next=18;break;case 12:return l.prev=12,l.t0=l.catch(2),cu(l.t0),t.rg=__.ERROR,t.Ys(new Jk($k(l.t0,t.cg))),l.abrupt("return");case 18:for(l.prev=18,u=Qk(e),t.us=u,o=[],u===b_.WEBVTT||u===b_.SRT?(a=Ab(e),o=a.og):u===b_.TTML&&(o=pk(e,t)),h=0,c=o;h<c.length;h++)f=c[h],t.SE(f);l.next=32;break;case 26:return l.prev=26,l.t1=l.catch(18),cu(l.t1),t.rg=__.ERROR,t.Ys(new Jk(Yk(t.us,t.cg,r,l.t1))),l.abrupt("return");case 32:t.rg=__.LOADED;case 33:case"end":return l.stop()}},null,this,[[2,12],[18,26]],We)},i.wE=function(t){Ys(this.ZA.R_,t)&&t.rg===__.NONE&&this.TE(t,this.bE.zs).catch(fu)},i.zc=function(){},i.I_=function(){var n,i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.bE.Xs(),this.bE=new uu,n=0,i=this.ZA.R_;n<i.length;n++)e=i[n],this.yE.EE(e);return r.next=5,jr.awrap(t.prototype.I_.call(this));case 5:case"end":return r.stop()}},null,this,null,We)},n}(Kk);function nA(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.H_===n&&e.IE)return e}}function iA(t,n){eA(nA(t.R_,n))}function eA(t){void 0!==t&&(t.K_=Dy.j_)}function rA(t,n){eA(nA(t.R_,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.H_===n)return e}}(t.R_,n))}function sA(t){for(var n=0;n<xk.length;n++){var i=xk[n];i===Dk.aE?rA(t,i):iA(t,i)}}var uA,oA=function(t){function n(){return t.call(this,Df.Nf)||this}return E(n,t),n}(Su);!function(t){t[t.RE=0]="RE",t[t.NE=1]="NE"}(uA||(uA={}));var aA=t,hA=aA.MediaSource,cA=aA.WebKitMediaSource,fA=aA.TextTrack,lA=s&&s.createElement("video");s&&s.documentElement.style;var vA=M.Gt&&M.Bn&&M.On<=26;M.fn;var dA=!(!hA&&!cA),wA=!!fA;s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||M.un,M.Nn&&M.Dn,lA&&lA.canPlayType&&(""!==lA.canPlayType("application/vnd.apple.mpegURL")||M.jt&&!M.Nn&&M.Qt);lA&&lA.canPlayType&&lA.canPlayType("video/mp4");var gA=dA&&!M.Cn&&!M.En&&!M.Sn&&((hA||cA).isTypeSupported?(hA||cA).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):lA&&lA.canPlayType&&""!==lA.canPlayType('audio/mp4; codecs="mp4a.40.34"'));dA&&!M.Cn&&(gA||((hA||cA).isTypeSupported?(hA||cA).isTypeSupported("audio/mpeg"):lA&&lA.canPlayType&&lA.canPlayType("audio/mpeg"))),dA&&(!M.Rn||!M.Gt)&&(hA||cA).isTypeSupported&&(hA||cA).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),M.Cn||M.En||M.Sn,M.In,M.Cn,M.En&&M.qt&&M.Yt;try{r&&r.top!==r.self}catch(t){!0}var mA=function(t){function n(n){var i;return(i=t.call(this,dp.Wg)||this).currentTime=n,i}return E(n,t),n}(Su),yA=function(t){function n(n){var i;return(i=t.call(this,dp.Gg)||this).currentTime=n,i}return E(n,t),n}(Su),pA=[dp.l_,dp.Gg,Df.Sf,Df.Tf],_A=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).DE=Zy.xg,e.CE=!0,e.PE=!1,e.BE=!1,e.OE=function(t){var n=e.xE.rg;n!==e.DE&&e.Ys(new Pp(t.currentTime,n)),n===Zy.xg&&(e.PE=!1,e.BE=!1),e.LE(n),e.ME(n),e.UE(n),e.maybeDispatchCanPlayThroughEvent(n),e.XE(n),e.FE(n),e.DE=n},e.HE=function(){e.FE(e.DE),e.XE(e.DE),e.CE=e.xE.Kg},e.zE=function(){e.CE=e.xE.Kg},e.xE=n,e.VE=i,e.xE.js(dp.l_,e.OE),e.xE.js(Df.Sf,e.HE),e.xE.js(Df.Tf,e.zE),e.VE&&e.xE.js(dp.Gg,e.qs),e}E(n,t);var i=n.prototype;return i.LE=function(t){!this.BE&&t>=Zy.Lg&&(this.BE=!0,this.Ys(new bp(this.xE.qg,t)))},i.ME=function(t){!this.PE&&t>=Zy.Mg&&(this.PE=!0,this.Ys(new Ep(this.xE.qg,t)))},i.XE=function(t){this.VE||(t>=Zy.Ug&&this.DE<Zy.Ug&&!this.xE.Kg||this.WE&&t>=Zy.Ug)&&this.Ys(new yA(this.xE.qg))},i.FE=function(t){!this.GE(t)||this.xE.jg||this.xE.wu||this.Ys(new mA(this.xE.qg))},i.UE=function(t){this.DE<=Zy.Mg&&t>=Zy.Ug&&this.Ys(new Np(this.xE.qg,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===Zy.Xg&&this.Ys(new Dp(this.xE.qg,t))},i.GE=function(t){var n=!this.xE.Kg&&t<=Zy.Mg,i=!this.CE&&this.DE<=Zy.Mg;return n&&!i},i.I_=function(){this.DE=Zy.xg,this.CE=!0,this.PE=!1,this.BE=!1},i.Bd=function(){this.Ks(),this.VE&&this.xE.Js(dp.Gg,this.qs),this.xE.Js(Df.Sf,this.HE),this.xE.Js(Df.Tf,this.zE),this.xE.Js(dp.l_,this.OE)},T(n,[{key:"WE",get:function(){return!this.xE.Kg&&this.CE}}]),n}(Au),bA=function(t){function n(n){var i;return(i=t.call(this)||this).xE=n,i.xE.js(pA,i.qs),i}return E(n,t),n.prototype.Bs=function(){this.Ks(),this.xE.Js(pA,this.qs)},T(n,[{key:"qg",get:function(){return this.xE.qg}},{key:"jg",get:function(){return this.xE.jg}},{key:"wu",get:function(){return this.xE.wu}},{key:"Kg",get:function(){return this.xE.Kg}},{key:"rg",get:function(){return this.xE.rg}}]),n}(Au),kA="titanium",AA="conax",TA="ezdrm",SA="irdeto",EA="vudrm",IA="verimatrix",RA="keyos",CA="drmtoday",NA="expressplay",DA="azure",PA="xstream",xA="vimond",BA="axinom",OA="uplynk",LA="comcast",MA="custom",jA=function(){function t(t,n,i,e,r){this.Kc=void 0,this.qE=void 0,this.YE=void 0,this.jE=void 0,this.kE=void 0,this.QE=void 0,this.ZE=void 0,this.Kc=t,this.qE=n,this.YE=i,this.kE=e,this.ZE=r,this.jE=this.KE(n)}var e=t.prototype;return e.JE=function(){return this.QE},e.$E=function(t){this.QE=t},e.tI=function(){return this.jE.licenseAcquisitionURL||this.JE()},e.nI=function(t){return We.resolve()},e.iI=function(t,n){return We.resolve(void 0)},e.eI=function(t,i,e,r){var s,u;return jr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(s=this.rI(t,i,e,r)).ud){o.next=3;break}throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,jr.awrap(this.qw.ed(s));case 6:return u=o.sent,o.next=9,jr.awrap(u.xl(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),cu(o.t0),o.next=17,jr.awrap(this.sI(o.t0,s.ud,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],We)},e.rI=function(t,n,i,e){var r=this.uI().qf(),s=this.Dd,u={ud:this.oI(),Jl:n,Kl:r,Xl:t,Dd:s,Ed:eg.POST,Id:0,zs:e,us:rg.ld,Rd:i};return new ag(u)},e.aI=function(t,n){return We.resolve(t)},e.cI=function(t,n,i,e){return We.resolve(t)},e.uI=function(){return new xf(this.jE.headers||{})},e.sI=function(t,i,e){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new n_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,We)},e.oI=function(t,n){var e=n,r=this.jE.queryParameters;if(!e){var s=this.tI();if(!s)return"";e=s}if(r||t){var u=i.Cr(e);t&&fg(u,t),r&&fg(u,r),e=u.href}return e},e.hI=function(t,n){return FA(t)},e.fI=function(t){return new _(t)},e.vI=function(t,n,i){var e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,jr.awrap(this.hI(t,i));case 2:return e=u.sent,u.next=5,jr.awrap(this.eI(e,this.ZE,n,i));case 5:return r=u.sent,s=this.fI(r),u.abrupt("return",s);case 8:case"end":return u.stop()}},null,this,null,We)},e.Bd=function(){},T(t,[{key:"qw",get:function(){return this.kE}},{key:"lI",get:function(){return!1}},{key:"dI",get:function(){var t=this.jE.certificate;if(t)return q(t)?Uu(t):$o(t)}},{key:"wI",get:function(){return!1}},{key:"Dd",get:function(){return Boolean(this.jE.useCredentials)}}]),t}();function FA(t){return We.resolve(Qo(t).buffer)}var UA,HA,XA=function(t){function n(n,i,e,r){return t.call(this,ds,n,i,e,r)||this}E(n,t);var i=n.prototype;return i.KE=function(t){return t.widevine||{}},i._I=function(t,n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.dI){i.next=2;break}return i.abrupt("return",this.dI);case 2:return i.abrupt("return",this.gI(new _(t),n));case 3:case"end":return i.stop()}},null,this,null,We)},i.gI=function(n,i){return t.prototype.vI.call(this,n,sg.md,i)},n}(jA);function zA(t,n){if(null==t)return{};var i,e,r={},s=w.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function VA(t){return U(t.token&&t.deviceId)}function WA(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&U(i.PreAuthorization)}function qA(t){var n=t;return VA(n)&&""!==n.token&&""!==n.deviceId&&!WA(n)}(HA=UA||(UA={})).mI=!1,HA.yI=!1,HA.kI=!1,HA.bI=!1,HA.LOG_ADS_DETAILS=!1,HA.LOG_CHROMECAST_DETAILS=!1,HA.LOG_CUSTOM_DRM=!1,HA.LOG_BUFFERING_VIDEO_MAIN=!1,HA.LOG_BUFFERING_VIDEO_SELECTION=!1,HA.LOG_BUFFERING_AUDIO_MAIN=!1,HA.LOG_BUFFERING_AUDIO_SELECTION=!1,HA.pI=!1,HA.AI=!1,HA.LOG_LCEVC_DETAILS=!1;var GA,$A=function(){function t(t,n,i){this.TI=t,this.Mc=n,this.SI=i}return t.prototype.EI=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.SI.build(t))},T(t,[{key:"II",get:function(){return this.TI}},{key:"Kc",get:function(){return this.Mc}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(GA||(GA={}));var YA=function(){function t(){this.RI=[]}var e=t.prototype;return e.registerContentProtectionIntegration=function(t,e,r){switch(this.NI(t,e,r)){case GA.FAILED:throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+e+".");case GA.OVERRIDDEN:var s=dT(e);i.wr("Warning: Overwriting an earlier registered integration for "+t+" and "+s+".");break;case GA.SUCCEEDED:dT(e);0}},e.NI=function(t,n,i){var e=dT(n);if(!e)return GA.FAILED;for(var r=GA.SUCCEEDED,s=0,u=this.RI.slice();s<u.length;s++){var o=u[s];o.II===t&&o.Kc===e&&(r=GA.OVERRIDDEN,Gs(this.RI,o))}return this.RI.push(new $A(t,e,i)),r},e.DI=function(t,n){return void 0!==this.CI(t,n)},e.BI=function(t,n,i){var e=this.CI(t,n);if(!e)throw l("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.EI(i)},e.CI=function(t,n){for(var i=0,e=this.RI;i<e.length;i++){var r=e[i];if(r.II===t&&(!n||r.Kc===n))return r}},t}();YA.OI=new YA;var QA=["customdata"],ZA={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function KA(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters;return!(n||i||e||r||s||u)}function JA(t){return t&&void 0!==t.licenseAcquisitionURL}var tT,nT=JA,iT=JA;function eT(t){if(!t)return!0;if(oT(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return KA(n)&&KA(i)&&KA(e)&&KA(r)&&KA(s)}function rT(t){var n=qA(t),i=function(t){var n,i=t;return WA(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!VA(i)}(t);return(!n||!i)&&(n||i)}function sT(t){return t.integration===SA}function uT(t){var n=t;if(!n)return!1;if(eT(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(oT(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!nT(e))return!1;if(r&&!iT(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(YA.OI.DI(n.integration))return!0;switch(n.integration){case kA:if(!function(t){return t.integration===kA&&(aT(t)||hT(t))}(t))return!1;break;case EA:if(!cT(t))return!1;break;case IA:if(!function(t){return t.integration===IA}(t))return!1;break;case SA:if(!sT(t))return!1;break;case AA:if(!rT(t))return!1;break;case TA:if(!function(t){return t.integration===TA}(t))return!1;break;case RA:if(!oT(t))return!1;break;case CA:if(!function(t){var n=t;return n.integration===CA&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case NA:if(!function(t){return t.integration===NA}(t))return!1;break;case PA:if(!fT(t))return!1;break;case xA:if(!function(t){return t.integration===xA}(t))return!1;break;case BA:if(!lT(t))return!1;break;case DA:if(!function(t){var n=t;return n.integration===DA&&void 0!==n.token}(t))return!1;break;case OA:if(!function(t){return t.integration===OA}(t))return!1;break;case LA:if(!function(t){var n=t;return n&&U(n.releasePid)&&U(n.accountId)&&U(n.token)}(t))return!1;break;case MA:return!0;default:return!1}}return!0}function oT(t){return t.integration===RA}function aT(t){return void 0!==t.authToken}function hT(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function cT(t){var n=t;return n.integration===EA&&void 0!==n.token}function fT(t){var n=t;return n&&n.integration===PA&&q(n.ticketAcquisitionURL)&&q(n.streamId)}function lT(t){var n=t;return n.integration===BA&&void 0!==n.token}function vT(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:ZA[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,a=o?{customData:o}:{},h=Fr({},null!=(r=null==s?void 0:s.headers)?r:{},a),c=null!=s?s:{};return c.customdata,Fr({},zA(c,QA),{licenseAcquisitionURL:u,headers:h})}function dT(t){switch(t.toLowerCase()){case"widevine":case us:return us;case"playready":case es:return es;case"fairplay":case cs:return cs}}function wT(t,i){switch(t){case Jr:return function(t){for(var n={},i=uk.XA(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.US]=r.HS}return n}(i);case ts:case ns:return function(t){var n;return(n={})[hs]=t,n}(i);default:throw new ff(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.Kr="Widevine",t.Zr="PlayreadyV2",t.xI="PlayreadyV2",t.LI="PlayreadyV3",t.$r="Fairplay"}(tT||(tT={}));var gT={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function mT(t,n){var e,r,s,u,o=gT[n],a=t.accountName;return{CustomerName:t.customerName,AccountName:a,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=i.Br)?void 0:e.Or,OSVersion:null==(r=i.Br)?void 0:r.Fr,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(s=i.Br)?void 0:s.Hr,DeviceModel:null==(u=i.Br)?void 0:u.zr}}}function yT(t,i){if(!t.accountName)throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function pT(t,n,i){var e;if(aT(t))e={AuthToken:t.authToken,Payload:n};else{if(!hT(t))throw yT(t,i);e={LatensRegistration:mT(t,i),Payload:n}}return Zu(JSON.stringify(e))}function _T(t,i,e){var r,s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=t.qd){a.next=3;break}throw new n_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return s=r,a.prev=4,a.next=7,jr.awrap(s.Bl(e));case 7:u=a.sent,o=bT(u),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),o="";case 14:throw new n_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,s.ed.ud,s.Zl,s.$l,o);case 15:case"end":return a.stop()}},null,null,[[4,11]],We)}function bT(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var kT=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e,Pf.Wf)||this).MI=void 0,r}E(e,t),e.UI=function(){return i.Or.We?"required":"optional"};var r=e.prototype;return r.sI=function(t,n,i){return _T(t,n,i)},r.nI=function(t){return this.MI?lu(this.MI.Uu,t):(this.MI=new ta,We.resolve())},r.hI=function(t,i){var e,r;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.qE){i.next=3;break}throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=Xu(t),i.abrupt("return",pT(e,r,tT.Kr));case 5:case"end":return i.stop()}},null,this,null,We)},r.fI=function(t){if(!t.license)throw new n_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Uu(t.license)},r.XI=function(t){return We.resolve(new _(t))},r._I=function(t,n){var i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.FI(),r.next=3,jr.awrap(this.hI(t,n));case 3:return i=r.sent,r.next=6,jr.awrap(this.eI(i,Pf.Vf,sg.yd,n));case 6:return e=r.sent,r.next=9,jr.awrap(this.XI(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,We)},r.gI=function(n,i){var e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,jr.awrap(t.prototype.gI.call(this,n,i));case 2:return e=r.sent,this.FI(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,We)},r.FI=function(){this.MI||(this.MI=new ta),this.MI.Hu()},r.Bd=function(){this.MI&&this.MI.Xs(),t.prototype.Bd.call(this)},e}(XA),AT=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,Pf.Vf)||this).$E("https://widevine-proxy.drm.technology/proxy"),r}return E(i,t),i.prototype.hI=function(t,i){var e,r,s,u;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,jr.awrap(FA(t));case 2:if(e=i.sent,r=this.YE,s=Zo(new _(e)),u=this.HI){i.next=8;break}throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:u,drm_info:s,kid:r}));case 9:case"end":return i.stop()}},null,this,null,We)},T(i,[{key:"HI",get:function(){if(cT(this.qE))return this.qE.token}}]),i}(XA);function TT(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Fr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Fr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var ST=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Pf.Vf)||this).$E("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return E(n,t),n.prototype.oI=function(n,i){var e=n;return sT(this.qE)&&(e=TT(this.qE,e)),t.prototype.oI.call(this,e,i)},n}(XA),ET="Conax-Custom-Data";function IT(t,n,i){var e=t&&rT(t)&&t;if(e&&!i.has(ET)){var r=qA(e)?e.token:void 0,s=qA(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(ET,u)}return i}var RT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Pf.Vf)||this).$E("https://connect.conax.com:8094/license"),r}return E(n,t),n.prototype.uI=function(){var n=t.prototype.uI.call(this);return IT(this.qE,"Widevine",n)},n}(XA);function CT(t){var n=Bo(new _(t));return Uu(JSON.parse(n).license)}function NT(t){return"string"==typeof t.token?t.token:Zu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function DT(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var PT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Pf.Vf)||this).$E("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}E(n,t);var i=n.prototype;return i.fI=function(t){return CT(t)},i.uI=function(){return DT(t.prototype.uI.call(this),this.HI,this.qE)},T(n,[{key:"HI",get:function(){return NT(this.qE)}}]),n}(XA),xT=function(t){function n(n,i,e){return t.call(this,n,i,e,Pf.Vf)||this}return E(n,t),n.prototype.uI=function(){var n=t.prototype.uI.call(this),i=this.qE.token;return n.set("Authorization","Bearer "+i),n},n}(XA);function BT(t,i,e,r){var s,u,o,a,h,c,f;return jr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(fT(t)){l.next=2;break}throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new xf).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(u=t.sessionId)&&s.append("XSSESSION",u),o=t.streamId,a=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",h={drmType:i,licenseType:a,streamId:o},c={ud:t.ticketAcquisitionURL,Jl:Pf.Wf,Kl:s,Ed:eg.POST,Xl:JSON.stringify(h),zs:r},l.next=13,jr.awrap(e.ed(c));case 13:return f=l.sent,l.next=16,jr.awrap(f.Bl());case 16:return l.abrupt("return",l.sent);case 17:case"end":return l.stop()}},null,null,null,We)}var OT=function(t){function n(n,i,e){return t.call(this,n,i,e,Pf.Wf)||this}E(n,t);var i=n.prototype;return i.uI=function(){var n=t.prototype.uI.call(this);return n.set("Content-Type","application/json"),n},i.hI=function(n,i){var e,r,s,u;return jr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=Qu(n.buffer),r=this.qE,o.next=4,jr.awrap(BT(r,"widevine_modular",this.qw,i));case 4:return s=o.sent,this.$E(s.licenseServerUrl),u=Oo(JSON.stringify({payload:e,ticket:s.ticket})),o.abrupt("return",t.prototype.hI.call(this,u,i));case 8:case"end":return o.stop()}},null,this,null,We)},i.fI=function(t){return Uu(t.license)},n}(XA),LT=function(t){function i(n,i,e){return t.call(this,n,i,e,Pf.Vf)||this}return E(i,t),i.prototype.uI=function(){if(!lT(this.qE))throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.uI.call(this);return i.set("X-AxDRM-Message",this.qE.token),i},i}(XA);function MT(t){for(var n=new _(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var jT=function(t){function n(n,i,e){var r;return(r=t.call(this,vs,n,i,e,Pf.Vf)||this).zI=void 0,r}E(n,t);var e=n.prototype;return e.KE=function(t){return t.playready||{}},e.uI=function(){var n=new xf(this.zI);return n.jf(t.prototype.uI.call(this)),n},e.VI=function(t){return t.length>=1&&t[0].Si.length>0},e.iI=function(n){var i=this.qE.playready.customData;if(i){var e=MT(i),r=MT('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Xu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return We.resolve({playready:{Ih:r}})}return t.prototype.iI.call(this,n)},e.hI=function(t,n){var i;return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jr.awrap(FA(t));case 2:return i=n.sent,n.abrupt("return",this.WI(i));case 4:case"end":return n.stop()}},null,this,null,We)},e.WI=function(t){var n,e,r,s,u,o,a,h,c,f,l,v,d,w,g,m;return jr.async(function(y){for(;;)switch(y.prev=y.next){case 0:u=null,o=new DataView(t),a=Do(o,new Ko,!0),y.prev=3,h=i.ei(a),y.next=10;break;case 7:return y.prev=7,y.t0=y.catch(3),y.abrupt("return",u);case 10:for(c=null==(n=h.Ti("PlayReadyKeyMessage")[0])?void 0:n.Ti("LicenseAcquisition")[0],f=null!=(e=null==c?void 0:c.Ti("Challenge"))?e:[],this.VI(f)&&(u=Yu(f[0].Ui)),l=new xf,v=null!=(r=null==c?void 0:null==(s=c.Ti("HttpHeaders")[0])?void 0:s.Ti("HttpHeader"))?r:[],d=0;d<v.length;d++)w=v[d],g=w.Ti("name")[0].Ui,m=w.Ti("value")[0].Ui,l.append(g,m);return this.zI=l,y.abrupt("return",u);case 18:case"end":return y.stop()}},null,this,[[3,7]],We)},e._I=function(t,n){return We.resolve(t)},e.gI=function(n,i){return t.prototype.vI.call(this,n,sg.kd,i)},n}(jA),FT=function(){function t(n){this.lc=void 0,this.GI=n,this.lc=t.qI(n)}return t.qI=function(t){return"3"===t.version?tT.LI:tT.xI},t.prototype.YI=function(){var t={};if(this.lc===tT.LI){var n={LatensRegistration:mT(this.GI,tT.LI)};t["X-TITANIUM-DRM-CDATA"]=Zu(JSON.stringify(n))}return t},T(t,[{key:"jI",get:function(){return this.lc}},{key:"fh",get:function(){return this.lc===tT.xI}}]),t}();var UT=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e)||this).QI=void 0,r.QI=new FT(r.qE),r}E(e,t);var r=e.prototype;return r.iI=function(t){var i=this.qE;if(!this.qE)throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(hT(i)){var e={};return e.playready={Ih:HT(i,this.QI.jI)},We.resolve(e)}return We.reject(yT(i,tT.Zr))},r.uI=function(){var n=new xf(this.QI.YI());return n.jf(t.prototype.uI.call(this)),n},r.sI=function(t,e,r){var s,u,o,a,h,c,f,l;return jr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(s=t.qd){v.next=3;break}throw new n_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e);case 3:return v.prev=3,v.next=6,jr.awrap(s.Ll(r));case 6:a=v.sent,h=Bo(new _(a)),(c=i.ei(h))&&(f=lk(c,"CustomData")).length>0&&(u=JSON.parse(f[0].Ui),o=null==(l=u.DrmErr)?void 0:l.desc),v.next=14;break;case 12:v.prev=12,v.t0=v.catch(3);case 14:throw new n_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e,s.Zl,s.$l,o);case 15:case"end":return v.stop()}},null,null,[[3,12]],We)},r.VI=function(t){if(1!==t.length)throw new n_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},e}(jT);function HT(t,n){var i=mT(t,n),e=i.DeviceInfo.FormatVersion,r=Zu('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=Mo(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Mo('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Xu(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var XT,zT=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).$E("https://playready-license.drm.technology/rightsmanager.asmx"),r}E(i,t);var e=i.prototype;return e.VI=function(t){if(1!==t.length)throw new n_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.oI=function(n,i){var e=Fr({},n||{},{token:this.HI});return t.prototype.oI.call(this,e,i)},T(i,[{key:"HI",get:function(){if(cT(this.qE))return this.qE.token}}]),i}(jT),VT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).$E("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return E(n,t),n.prototype.oI=function(n,i){var e=n;return sT(this.qE)&&(e=TT(this.qE,e)),t.prototype.oI.call(this,e,i)},n}(jT),WT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).$E("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return E(n,t),n.prototype.uI=function(){var n=t.prototype.uI.call(this);return IT(this.qE,"PlayReady",n)},n}(jT),qT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).$E("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}E(n,t);var i=n.prototype;return i.fI=function(n){return(ks(Bo(new _(n)),"<?xml")?XT.ZI:XT.Bl)===XT.Bl?CT(n):t.prototype.fI.call(this,new _(n))},i.uI=function(){return DT(t.prototype.uI.call(this),this.HI,this.qE)},T(n,[{key:"HI",get:function(){return NT(this.qE)}}]),n}(jT);!function(t){t[t.ZI=0]="ZI",t[t.Bl=1]="Bl"}(XT||(XT={}));var GT,$T=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).KI=void 0,r}E(n,t);var i=n.prototype;return i.uI=function(){var n=t.prototype.uI.call(this);return this.KI&&n.set("Ticket",this.KI),n.set("Content-Type","text/xml"),n},i.hI=function(n,i){var e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.qE,s.next=3,jr.awrap(BT(e,"playready",this.qw,i));case 3:return r=s.sent,this.$E(r.licenseServerUrl),this.KI=r.ticket,s.abrupt("return",t.prototype.hI.call(this,n,i));case 7:case"end":return s.stop()}},null,this,null,We)},n}(jT),YT=function(t){function i(){return t.apply(this,arguments)||this}return E(i,t),i.prototype.uI=function(){if(!lT(this.qE))throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.uI.call(this);return i.set("X-AxDRM-Message",this.qE.token),i},i}(jT);!function(t){t.Wf="application/json",t.JI="application/x-www-form-urlencoded",t.$I="application/octet-stream",t.Kn="text/plain;charset=UTF-8"}(GT||(GT={}));var QT=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.Kc,i,e,r,s)||this).tR="",u.nR=void 0,u.iR=void 0,u.iR=n.eR,u}E(n,t);var i=n.prototype;return i.rR=function(){return this.jE.certificateURL||this.nR},i.sR=function(t){this.nR=t},i.hI=function(t){return We.resolve(this.uR(t,this.tR))},i.uR=function(t,n){return"spc="+encodeURIComponent(Xu(t))+"&assetId="+encodeURIComponent(n)},i.KE=function(t){return t.fairplay||{}},i.oR=function(t){var n=t.indexOf("?");if(n>=0)return We.resolve(t.substr(n+1));var i=t.split("/");return We.resolve(i[i.length-1])},i.iI=function(t){var n,i,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=null!=(n=this.iR)?n:Uo(new _(t)),s.next=3,jr.awrap(this.oR(i));case 3:return e=s.sent,this.tR=e,(r={}).fairplay={Oh:e},s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,We)},i.uI=function(){var n=t.prototype.uI.call(this);return n.set("Content-Type",this.aR),n},i._I=function(t,n){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.dI){t.next=2;break}return t.abrupt("return",this.dI);case 2:return t.next=4,jr.awrap(this.cR(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,We)},i.gI=function(n,i){return t.prototype.vI.call(this,n,sg.wd,i)},i.hR=function(t){var n=this.rR(),i=this.uI(),e={ud:n,Jl:Pf.Vf,Kl:i,Ed:eg.GET,Dd:!1,Xl:null,Id:0,zs:t,us:rg.ld,Rd:sg._d};return new ag(e)},i.cR=function(t){var n,i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.hR(t),r.next=3,jr.awrap(this.qw.ed(n));case 3:return i=r.sent,r.next=6,jr.awrap(i.Ll());case 6:return e=r.sent,r.abrupt("return",new _(e));case 8:case"end":return r.stop()}},null,this,null,We)},i.fI=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Uu(i)}else n=new _(t);return n},i.oI=function(n,i){var e=t.prototype.oI.call(this,n,i);return ks(e,"skd:")&&(e=e.substr("skd:".length)),e},T(n,[{key:"wI",get:function(){return!0}},{key:"aR",get:function(){return GT.JI}}]),n}(jA),ZT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Pf.Vf)||this}E(n,t);var i=n.prototype;return i.oR=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return We.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return We.resolve(i)},i.hI=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},i.fI=function(t){return new _(t)},i.oI=function(n,i){var e=n||{};return e.p1=Vt(),t.prototype.oI.call(this,e,i)},T(n,[{key:"aR",get:function(){return GT.$I}}]),n}(QT),KT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Pf.Vf)||this).$E("https://fairplay-license.drm.technology/license"),s.sR("https://fairplay-license.drm.technology/certificate"),s}E(i,t);var e=i.prototype;return e.uR=function(t,n){var i={token:this.HI,contentId:n,payload:Xu(t)};return JSON.stringify(i)},e.fI=function(t){return new _(t)},e.uI=function(){var n=t.prototype.uI.call(this);return n.set("x-vudrm-token",this.HI),n},T(i,[{key:"aR",get:function(){return GT.Wf}},{key:"HI",get:function(){if(!cT(this.qE))throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.qE.token}}]),i}(QT),JT="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",tS="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",nS=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Pf.Vf)||this}return E(i,t),i.prototype.fI=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new n_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,JT)}if(!i)throw new n_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,tS);return i}(Bo(new DataView(i)));return t.prototype.fI.call(this,e)},i}(QT);var iS=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Pf.Wf)||this}E(i,t);var e=i.prototype;return e.hI=function(t){var i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.qE){r.next=3;break}throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Xu(t),r.abrupt("return",pT(i,e,tT.$r));case 5:case"end":return r.stop()}},null,this,null,We)},e.fI=function(t){try{var i;if(q(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Yu(i.license);return new _(r)}throw new n_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new n_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.sI=function(t,n,i){return _T(t,n,i)},T(i,[{key:"aR",get:function(){return GT.Wf}}]),i}(QT),eS=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Pf.Vf)||this).$E("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.sR("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}E(n,t);var e=n.prototype;return e.rR=function(){var n=t.prototype.rR.call(this);if(!n)return n;var e=i.Cr(n),r=this.qE;return sT(r)&&fg(e,{accountId:r.accountId,applicationId:r.applicationId||""}),e.href},e.oR=function(n){return sT(this.qE)?We.resolve(this.qE.contentId):t.prototype.oR.call(this,n)},e.hI=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.fI=function(t){return new _(t)},e.oI=function(n,i){var e=n;return sT(this.qE)&&(e=function(t,n){return Fr({},TT(t,n),{KeyId:t.keyId})}(this.qE,e)),t.prototype.oI.call(this,e,i)},T(n,[{key:"aR",get:function(){return GT.$I}}]),n}(QT),rS=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,Pf.Kn)||this,!rT(e))throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.$E("https://connect.conax.com:8097/license"),u}E(i,t);var e=i.prototype;return e.uI=function(){var n=t.prototype.uI.call(this);return IT(this.qE,"FairPlay",n)},e.cR=function(t){var n,i,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.rR(),i={ud:n,Jl:Pf.Vf,Kl:{},Ed:eg.GET,Dd:!1,Xl:null,Id:0,zs:t,us:rg.ld,Rd:sg._d},s.next=4,jr.awrap(this.qw.ed(i));case 4:return e=s.sent,s.next=7,jr.awrap(e.Ll());case 7:return r=s.sent,s.abrupt("return",new _(r));case 9:case"end":return s.stop()}},null,this,null,We)},e.hI=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.oR=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),We.resolve(Bo(Uu(n)))):We.resolve("unknown")},e.fI=function(t){try{var n=JSON.parse(t);return new _(Yu(n.CkcMessage))}catch(t){throw new l("CFLRW-66")}},i}(QT),sS=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Pf.Kn)||this).$E(ZA[Zr.$r]),s}E(i,t);var e=i.prototype;return e.oR=function(t){return ks(t,"skd://")?We.resolve(t.substring("skd://".length,40)):We.reject(new n_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.uR=function(t,n){return"spc="+Xu(t)+"&assetId="+n},i}(QT),uS=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Pf.Kn)||this).$E("https://lic.drmtoday.com/license-server-fairplay/"),s}E(n,t);var i=n.prototype;return i.uR=function(t,n){var i="spc="+encodeURIComponent(Xu(t))+"&"+encodeURI(n);return"persistent"===this.jE.licenseType?i+"&offline=true":i},i.uI=function(){return DT(t.prototype.uI.call(this),this.HI,this.qE)},T(n,[{key:"HI",get:function(){return NT(this.qE)}}]),n}(QT),oS=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Pf.Vf)||this}E(n,t);var e=n.prototype;return e.oR=function(t){var n=t;return ks(n,"skd:")&&(n="http:"+n.substring(4)),ks(n,"http:")||ks(n,"https:")?We.resolve(i.Cr(n).hostname):We.reject(new l("Could not parse ExpressPlay FairPlay content ID."))},e.hI=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.fI=function(t){return new _(t)},T(n,[{key:"aR",get:function(){return GT.$I}}]),n}(QT),aS=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Pf.Kn)||this}return E(n,t),n.prototype.uI=function(){var n=t.prototype.uI.call(this),i=this.qE.token;return n.set("Authorization","Bearer "+i),n},n}(QT),hS=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,Pf.Wf)||this,!fT(i))throw new l("Invalid Xstream DRM configuration");return s}E(n,t);var i=n.prototype;return i.cR=function(t){var n,i,e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.rR(),i=this.uI(),e={ud:n,Jl:Pf.Wf,Kl:i,Ed:eg.POST,zs:t,us:rg.ld,Rd:sg._d},u.next=5,jr.awrap(this.qw.ed(e));case 5:return r=u.sent,u.next=8,jr.awrap(r.Bl());case 8:return s=u.sent,u.abrupt("return",new _(Uu(s.certificate)));case 10:case"end":return u.stop()}},null,this,null,We)},i.gI=function(t,n,i){var e,r,s,u,o,a,h;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=Xu(t),r=this.qE,i.next=5,jr.awrap(BT(r,"fairplay",this.qw,n));case 5:return s=i.sent,u=Oo(JSON.stringify({spc:e,ticket:s.ticket})),o={ud:this.tI(),Jl:Pf.Wf,Kl:this.uI(),Ed:eg.POST,Xl:u,Id:0,zs:n,us:rg.ld,Rd:sg.wd},i.next=10,jr.awrap(this.qw.ed(o));case 10:return a=i.sent,i.next=13,jr.awrap(a.Bl());case 13:return h=i.sent,i.abrupt("return",Uu(h.licence));case 15:case"end":return i.stop()}},null,this,null,We)},T(n,[{key:"aR",get:function(){return GT.Wf}}]),n}(QT),cS=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Pf.Kn)||this}E(i,t);var e=i.prototype;return e.uR=function(t,n){return Xu(t)},e.fI=function(i){if(0===i.length)throw new n_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.fI.call(this,i)},e.uI=function(){var n=t.prototype.uI.call(this);return n.set("Content-Type","text/plain"),n},i}(QT),fS=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Pf.Vf)||this}E(i,t);var e=i.prototype;return e.uR=function(t,n){return t},e.fI=function(t){return new _(t)},e.uI=function(){if(!lT(this.qE))throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.uI.call(this);return i.set("X-AxDRM-Message",this.qE.token),i},T(i,[{key:"aR",get:function(){return GT.Wf}}]),i}(QT),lS=function(t){function e(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Pf.Wf)||this).fR=void 0,s}E(e,t);var r=e.prototype;return r.uR=function(t,n){var i={spc:Xu(t)};return JSON.stringify(i)},r.oR=function(t){var e=i.Cr(t);return this.fR=t,e.searchParams.has("b")?We.resolve(e.searchParams.get("b")):We.reject(new n_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.oI=function(n,i){var e=this.tI();return!e&&this.fR&&(e=this.fR),e&&(e=e.replace("skd://","https://")),t.prototype.oI.call(this,n,i||e)},r.fI=function(t){try{var i;if((i=q(t)?JSON.parse(t.trim()):t).ckc)return Uu(i.ckc)}catch(t){throw new n_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new n_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},T(e,[{key:"aR",get:function(){return GT.Kn}}]),e}(QT),vS=function(){function t(t,n){this.vR=t,this.lR=n}var n=t.prototype;return n.dR=function(t){return this.vR(t)},n.wR=function(t,n){throw new v(n+" must be "+this.lR+". (Received: "+t+")")},t}();new vS(function(t){return!0},"any");var dS=new vS(Q,"a number"),wS=new vS(q,"a string"),gS=new vS(G,"a boolean");new vS(Y,"a date"),new vS(H,"undefined"),new vS(V,"an object"),new vS(function(t){return null===t},"null"),new vS(function(t){return null==t},"null or undefined");var mS,yS=(mS={responseCode:dS,isException:gS,description:wS,title:wS,correlationId:wS},{dR:function(t){if(!V(t))return!1;for(var n=0,i=w.keys(mS);n<i.length;n++){var e=i[n];if(!mS[e].dR(t[e]))return!1}return!0},wR:function(t,n){if(!V(t))throw new v(n+" must be an object.");for(var i=0,e=w.keys(mS);i<e.length;i++){var r=e[i],s=mS[r];if(!s.dR(t[r]))return s.wR(t[r],n+"."+String(r))}throw new v}});function pS(t,n,i,e,r){var s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=_S(t,n,i,r),u.next=3,jr.awrap(bS(s,e));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,null,null,We)}function _S(t,n,e,r){var s={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=i.Cr(t);return fg(e,n),e.toString()}(e,s)),o=new xf({});o.append("Content-Type","application/json");var a=Xu(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:a}};return{ud:u,Jl:Pf.Kn,Kl:o,Ed:eg.POST,Xl:JSON.stringify(h),zs:r,us:rg.ld,Rd:sg.wd}}function bS(t,i){var e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,jr.awrap(i.ed(t));case 2:return e=s.sent,s.next=5,jr.awrap(e.Bl());case 5:if(r=s.sent,!yS.dR(r)){s.next=8;break}throw new n_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.ud,r.responseCode);case 8:return s.abrupt("return",Uu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return s.stop()}},null,null,null,We)}var kS=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Pf.Vf)||this)._R=void 0,s._R=i,s}E(n,t);var i=n.prototype;return i.oR=function(n){var i=n.replace("FairPlay",this._R.releasePid);return t.prototype.oR.call(this,i)},i.gI=function(t,n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,jr.awrap(pS(t,this._R,this.tI(),this.qw,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,We)},n}(QT),AS=function(t){function i(n,i,e){return t.call(this,ms,n,i,e,Pf.Vf)||this}E(i,t);var e=i.prototype;return e.KE=function(t){return t.clearkey||{}},e.eI=function(i,e,r,s){var u,o;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.jE,!this.tI()){e.next=5;break}return e.abrupt("return",t.prototype.eI.call(this,i,this.ZE,r,s));case 5:if(!u.keys||!u.keys.length){e.next=10;break}return o={keys:u.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Oo(JSON.stringify(o)).buffer);case 10:throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,We)},e._I=function(t,n){return We.resolve(new _(0))},e.gI=function(n,i){return t.prototype.vI.call(this,n,sg.bd,i)},i}(jA),TS=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(XA),SS={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function ES(t,n,i){var e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=OS(n),(r=t.onCertificateRequest)&&"function"==typeof r){u.next=5;break}return u.abrupt("return",We.resolve(n));case 5:return u.next=8,jr.awrap(lu(We.resolve(r.call(t,e)),i));case 8:if(!Go(s=u.sent)){u.next=11;break}return u.abrupt("return",$o(s));case 11:return u.abrupt("return",BS(Fr({},SS,s)));case 12:case"end":return u.stop()}},null,null,null,We)}function IS(t,n,i,e,r){var s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.onCertificateResponse,u=xS(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",We.resolve(n));case 5:return a.next=8,jr.awrap(lu(We.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",$o(o));case 10:case"end":return a.stop()}},null,null,null,We)}function RS(t,n,i,e){var r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,jr.awrap(NS(t,n,i,e));case 2:if(!((r=s.sent)instanceof ArrayBuffer)){s.next=5;break}return s.abrupt("return",r);case 5:return s.abrupt("return",BS(r));case 6:case"end":return s.stop()}},null,null,null,We)}function CS(t,n,i,e,r,s){var u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return u=PS(i,r),a.next=3,jr.awrap(DS(t,new _(n),u,e,s));case 3:return o=a.sent,a.abrupt("return",$o(o).buffer);case 5:case"end":return a.stop()}},null,null,null,We)}function NS(t,n,i,e){var r,s,u;return jr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,s=PS(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",We.resolve(s));case 5:return o.next=8,jr.awrap(lu(We.resolve(r.call(t,s)),e));case 8:if(!Go(u=o.sent)){o.next=11;break}return o.abrupt("return",$o(u).buffer);case 11:return o.abrupt("return",Fr({fairplaySkdUrl:void 0},SS,u));case 12:case"end":return o.stop()}},null,null,null,We)}function DS(t,n,i,e,r){var s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=null==t?void 0:t.onLicenseResponse,u=xS(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",We.resolve(n));case 5:return a.next=8,jr.awrap(lu(We.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",$o(o));case 10:case"end":return a.stop()}},null,null,null,We)}function PS(t,n){return Fr({},OS(t),{fairplaySkdUrl:n})}function xS(t,n,i){return{url:i.rd,status:i.Zl,statusText:i.$l,headers:i.Kl.qf(),body:t,request:n}}function BS(t){return new ag({ud:t.url,Ed:t.method,Kl:t.headers,Xl:t.body,Dd:t.useCredentials})}function OS(t){var n;return{url:t.ud,body:null!=(n=LS(t.Xl))?n:null,headers:t.Kl.qf(),method:t.Ed,useCredentials:t.Dd}}function LS(t){if(t)return"string"==typeof t?Ho(t):t instanceof ArrayBuffer?new _(t):Vu(t)?qo(t):void 0}var MS,jS=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).gR=void 0,s.gR=r,s}E(i,t);var e=i.prototype;return e._I=function(t,n){return We.resolve(t)},e.gI=function(t,i){var e,r,s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,jr.awrap(this.WI(Qo(t).buffer));case 2:return e=a.sent,r=this.rI(e,Pf.Vf,sg.kd,i),a.next=6,jr.awrap(RS(this.gR,r,void 0,i));case 6:if(!((s=a.sent)instanceof ArrayBuffer)){a.next=10;break}return a.abrupt("return",new _(s));case 10:if(""!==s.ud){a.next=12;break}throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return a.prev=12,a.next=15,jr.awrap(this.qw.ed(s));case 15:return u=a.sent,a.next=18,jr.awrap(u.Ll(i));case 18:return o=a.sent,a.t0=_,a.next=22,jr.awrap(CS(this.gR,o,r,u,void 0,i));case 22:return a.t1=a.sent,a.abrupt("return",new a.t0(a.t1));case 26:throw a.prev=26,a.t2=a.catch(12),cu(a.t2),new n_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a.t2);case 30:case"end":return a.stop()}},null,this,[[12,26]],We)},i}(jT),FS=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,Pf.Vf)||this).gR=void 0,s.gR=r,s}E(i,t);var e=i.prototype;return e._I=function(t,i){var e,r,s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.dI){a.next=2;break}return a.abrupt("return",this.dI);case 2:return e=this.rI(t,Pf.Vf,sg.yd,i),a.next=5,jr.awrap(ES(this.gR,e,i));case 5:if(!((r=a.sent)instanceof _)){a.next=9;break}return a.abrupt("return",r);case 9:if(""!==r.ud){a.next=11;break}throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return a.prev=11,a.next=14,jr.awrap(this.qw.ed(r));case 14:return s=a.sent,a.next=17,jr.awrap(s.Ll(i));case 17:u=a.sent,a.next=24;break;case 20:throw a.prev=20,a.t0=a.catch(11),cu(a.t0),new n_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",a.t0);case 24:return o=PS(e,void 0),a.next=27,jr.awrap(IS(this.gR,new _(u),o,s,i));case 27:return a.abrupt("return",a.sent);case 28:case"end":return a.stop()}},null,this,[[11,20]],We)},e.gI=function(t,i){var e,r,s,u;return jr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.rI(t,Pf.Vf,sg.md,i),o.next=3,jr.awrap(RS(this.gR,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new _(r));case 7:if(""!==r.ud){o.next=9;break}throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,jr.awrap(this.qw.ed(r));case 12:return s=o.sent,o.next=15,jr.awrap(s.Ll(i));case 15:u=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),cu(o.t0),new n_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=_,o.next=25,jr.awrap(CS(this.gR,u,e,s,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],We)},i}(TS),US=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,Pf.Vf)||this).gR=void 0,u.mR=void 0,u.gR=s,u}E(i,t);var e=i.prototype;return e._I=function(t,i){var e,r,s,u,o;return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.dI){t.next=2;break}return t.abrupt("return",this.dI);case 2:return e=this.hR(i),t.next=5,jr.awrap(ES(this.gR,e,i));case 5:if(r=t.sent,!Vu(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,jr.awrap(this.qw.ed(r));case 11:return s=t.sent,t.next=14,jr.awrap(s.Ll());case 14:return u=t.sent,o=PS(e,void 0),t.next=18,jr.awrap(IS(this.gR,new _(u),o,s,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),cu(t.t0),new n_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],We)},e.gI=function(t,i){var e,r,s,u;return jr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.rI(t,Pf.Vf,sg.wd,i),o.next=3,jr.awrap(RS(this.gR,e,this.mR,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new _(r));case 7:if(""!==r.ud){o.next=9;break}throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,jr.awrap(this.qw.ed(r));case 12:return s=o.sent,o.next=15,jr.awrap(s.Ll(i));case 15:return u=o.sent,o.t0=_,o.next=19,jr.awrap(CS(this.gR,u,e,s,this.mR,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),cu(o.t2),new n_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],We)},e.oR=function(n){var i;return this.mR=n,null!=(i=this.gR)&&i.extractFairplayContentId?We.resolve(this.gR.extractFairplayContentId(n)):t.prototype.oR.call(this,n)},i}(QT),HS=function(){function t(){}var n=t.prototype;return n.yR=function(t,n,i,e){switch(t.Kc.us){case Zr.Kr:return this.kR(n,i,e);case Zr.Zr:return this.bR(n,i,e);case Zr.$r:return this.pR(t,n,i,e);case Zr.Jr:default:return this.AR(n,i,e)}},n.kR=function(t,n,i){var e,r=(e=t).integration===MA&&q(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&YA.OI.DI(r,us)){var s=YA.OI.BI(r,us,t);return new FS(t,n,i,s)}switch(r){case kA:return new kT(t,n,i);case EA:return new AT(t,n,i);case SA:return new ST(t,n,i);case AA:return new RT(t,n,i);case CA:return new PT(t,n,i);case DA:return new xT(t,n,i);case PA:return new OT(t,n,i);case BA:return new LT(t,n,i);case RA:default:return new TS(t,n,i,Pf.Vf)}},n.bR=function(t,n,i){var e=t.integration;if(e&&YA.OI.DI(e,es)){var r=YA.OI.BI(e,es,t);return new jS(t,n,i,r)}switch(e){case kA:return new UT(t,n,i);case EA:return new zT(t,n,i);case SA:return new VT(t,n,i);case AA:return new WT(t,n,i);case CA:return new qT(t,n,i);case PA:return new $T(t,n,i);case BA:return new YT(t,n,i);case RA:default:return new jT(t,n,i)}},n.pR=function(t,n,i,e){var r=n.integration;if(r&&YA.OI.DI(r,cs)){var s=YA.OI.BI(r,cs,n);return new US(t,n,i,e,s)}switch(r){case TA:return new ZT(t,n,i,e);case EA:return new KT(t,n,i,e);case IA:return new nS(t,n,i,e);case kA:return new iS(t,n,i,e);case SA:return new eS(t,n,i,e);case AA:return new rS(t,n,i,e);case RA:return new sS(t,n,i,e);case CA:return new uS(t,n,i,e);case NA:return new oS(t,n,i,e);case DA:return new aS(t,n,i,e);case PA:return new hS(t,n,i,e);case xA:return new cS(t,n,i,e);case BA:return new fS(t,n,i,e);case OA:return new lS(t,n,i,e);case LA:return new kS(t,n,i,e);default:return new QT(t,n,i,e,Pf.Kn)}},n.AR=function(t,n,i){return new AS(t,n,i)},n.SR=function(t){return t.us===Zr.Zr||t.us===Zr.Kr||t.us===Zr.$r||t.us===Zr.Jr},n.fh=function(t,n){var i;if(t.us!==Zr.Zr)return!1;if(U(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!YA.OI.DI(e,cs))&&(e===kA&&new FT(n).fh)},n.UI=function(t,n){if(t.us===Zr.Kr){var i=n.integration;if(!i||!YA.OI.DI(i,cs))return i===kA?kT.UI():void 0}},t}();!function(t){t[t.ER=0]="ER",t[t.IR=1]="IR",t[t.RR=2]="RR",t[t.NR=3]="NR",t[t.DR=4]="DR",t[t.Rg=5]="Rg",t[t.PR=6]="PR",t[t.OR=7]="OR",t[t.Og=8]="Og",t[t.xR=9]="xR",t[t.LR=10]="LR"}(MS||(MS={}));var XS=function(){function t(){}return t.prototype.MR=function(t){},T(t,[{key:"UR",get:function(){return 0}},{key:"XR",get:function(){return 0}}]),t}(),zS=function(){function t(t,n){void 0===n&&(n=new HS),this.kE=void 0,this.FR=void 0,this.GI=void 0,this.kE=t,this.FR=n}var n=t.prototype;return n.HR=function(t){this.GI=t},n.UI=function(t){var n=this.GI;if(void 0!==n)return this.FR.UI(t,n)},n.fh=function(t){var n=this.GI;return void 0!==n&&this.FR.fh(t,n)},n.zR=function(t){var n={Kc:t.Kc,WR:t.WR||[],eR:t.eR},i=this.FR.yR(n,this.GI||{},t.YE,this.kE);return new VS(i)},t}(),VS=function(){function t(t){this.GR=void 0,this.GR=t}var n=t.prototype;return n.nI=function(t){return this.GR.nI(t)},n.iI=function(t,n,i){return this.GR.iI(n,i)},n.wI=function(){return this.GR.wI||void 0!==this.GR.dI},n._I=function(t,n){return this.GR._I(t,n)},n.gI=function(t,n,i){return n&&this.GR.$E(n),this.GR.gI(t,i)},n.Bs=function(){this.GR.Bd()},t}(),WS=function(t){function n(n){var i;(i=t.call(this)||this).qR=[],i.YR=function(t){i.T_(t.t_)},i.jR=function(t){var n=t.t_;i.QR(n)||i.S_(n)};for(var e=0;e<n.length;e++){var r=n[e];i.ZR(r)}return i}E(n,t);var i=n.prototype;return i.ZR=function(t){this.qR.push(t);for(var n=0,i=t.R_;n<i.length;n++){var e=i[n];this.T_(e)}this.KR(t)},i.JR=function(t){Gs(this.qR,t),this.$R(t);for(var n=0,i=t.R_;n<i.length;n++){var e=i[n];this.QR(e)||this.S_(e)}},i.QR=function(t){for(var n=0,i=this.qR;n<i.length;n++){if(i[n].E_(t))return!0}return!1},i.KR=function(t){t.js(Qm.Yw,this.YR),t.js(Qm.Qw,this.jR)},i.$R=function(t){t.Js(Qm.Yw,this.YR),t.Js(Qm.Qw,this.jR)},i.Bd=function(){for(;this.qR.length>0;)this.JR(this.qR[0]);t.prototype.Bd.call(this)},i.$w=function(){return jy(this)},n}(oy);function qS(t){return{get enabled(){return t.U_},set enabled(n){t.U_=py(n)},get currentLatency(){return t.gm},get streamConfiguration(){if(void 0!==t.tN)return function(t){return{get minimumOffset(){return t.um},get maximumOffset(){return t.hm},get targetOffset(){return t.cm},get forceSeekOffset(){return t.fm},get minimumPlaybackRate(){return t.vm},get maximumPlaybackRate(){return t.lm}}}(t.tN)},get configuration(){return function(t){return{get minimumOffset(){return t.um},set minimumOffset(n){t.um=_y(n)},get maximumOffset(){return t.hm},set maximumOffset(n){t.hm=_y(n)},get targetOffset(){return t.cm},set targetOffset(n){t.cm=_y(n)},get forceSeekOffset(){return t.fm},set forceSeekOffset(n){t.fm=_y(n)},get minimumPlaybackRate(){return t.vm},set minimumPlaybackRate(n){t.vm=_y(n)},get maximumPlaybackRate(){return t.lm},set maximumPlaybackRate(n){t.lm=_y(n)},update:function(n){t.Wc(function(t){var n={};void 0!==t.minimumOffset&&(n.um=_y(t.minimumOffset));void 0!==t.maximumOffset&&(n.hm=_y(t.maximumOffset));void 0!==t.targetOffset&&(n.cm=_y(t.targetOffset));void 0!==t.forceSeekOffset&&(n.fm=_y(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.vm=_y(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.lm=_y(t.maximumPlaybackRate));return n}(n))}}}(t.Jc)}}}var GS,$S=function(){function t(){this.Kw=void 0,this.nN=void 0,this.nN={fm:0,hm:0,lm:0,um:0,vm:0,cm:0,Wc:Z}}return T(t,[{key:"Jw",get:function(){return null!=this.Kw||(this.Kw=qS(this)),this.Kw}},{key:"U_",get:function(){return!1},set:function(t){}},{key:"gm",get:function(){}},{key:"tN",get:function(){}},{key:"Jc",get:function(){return this.nN}}]),t}();function YS(){return GS||(GS=de&&de.document&&de.document.createElement("video")),GS}var QS=function(t){function i(i,e,r,s,u,o,a){var h;return void 0===o&&(o=new HS),void 0===a&&(a=Sf()),(h=t.call(this)||this).iN=void 0,h.eN=void 0,h.rN=void 0,h.Rm=void 0,h.Nm=void 0,h.Dm=void 0,h.sN=void 0,h.uN=void 0,h.oN=void 0,h.aN=void 0,h.cN=void 0,h.kE=void 0,h._s=void 0,h.hN=void 0,h.fN=void 0,h.vN=new XS,h.lN=new $S,h.dN=function(t){var i=t.wu,e=i.code,r=new ff(function(t){switch(t){case Kp.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case Kp.NETWORK:return n.ErrorCode.NETWORK_ERROR;case Kp.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case Kp.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case Kp.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case Kp.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case Kp.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),s=new i_(e,r.message,i.message);h.wN(r,s)},h._N=function(){h.Ys(new Tp(h.qg,h.ly))},h.gN=function(t){h.Kg||(h.fN=void 0),h.Ys(t)},h.mN=function(t){h.fN=void 0,h.Ys(t)},h.yN=function(){h.Ys(new T_(h._y))},h.kN=function(){h.nm>0&&h.tm>0&&h.Ys(new oA)},h.bN=function(t){h.Rm.T_(new y_(t.track))},h.pN=function(t){var n=KS(h.Rm,t.track);n&&h.Rm.S_(n)},h.AN=function(){h.TN(h.Rm)},h.SN=function(t){h.Nm.T_(new A_(t.track))},h.EN=function(t){var n=KS(h.Nm,t.track);n&&h.Nm.S_(n)},h.IN=function(){h.TN(h.Nm)},h.RN=function(t){h.Ys(t),h.wN(t.errorObject,r_(t.errorObject))},h.iN=e,h.kE=r,h._s=a,h.eN=h.iN.NN(s_.Td),h.oN=h.eN.DN.preload,h.aN=new _A(h.eN,!0),h.aN.js(_p,h.qs),h.hN=new zS(r,o),h.eN.CN=h.hN,h.PN(),h.Rm=new u_,h.Nm=new u_,h.BN(),h.cN=new tA(h.eN,h.kE),h.Dm=new WS([h.eN.Lm]),h.Qm(),h}E(i,t);var e=i.prototype;return e.Zm=function(){this.eN.Zm()},e.Qm=function(){this.eN.Qm()},e.zm=function(t,n,i){var e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return hu(i),e={us:uA.RE,cg:t.src,Ul:t.type,ON:this.xN(t),Iy:this.oN,LN:t.crossOrigin,MN:n.metadata&&n.metadata.title},this.hN.HR(t.contentProtection),r.next=5,jr.awrap(this.eN.zc(e));case 5:this.rN=r.sent,hu(i),n.textTracks&&this.UN(n.textTracks),sA(this.Lm);case 9:case"end":return r.stop()}},null,this,null,We)},e.UN=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.eN.XN()&&M.un&&wA&&!Wk(i.kind,i.label)&&this.FN(i)){var e,r=null!=(e=i.kind)?e:Dk.iA;this.eN.HN(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.cN.pE(i)}}},e.FN=function(t){return!t.format||"webvtt"===t.format},e.Um=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,jr.awrap(this.eN.Um());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.zN){t.next=12;break}return t.next=10,jr.awrap(this.eN.uu(Df.Ef));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],We)},e.Xm=function(){this.eN.Xm()},e.Vm=function(){return void 0!==this.eN.DN.webkitShowPlaybackTargetPicker},e.Wm=function(){this.eN.DN.webkitShowPlaybackTargetPicker&&this.eN.DN.webkitShowPlaybackTargetPicker()},e.Gm=function(){this.eN.DN.webkitShowPlaybackTargetPicker&&this.eN.DN.webkitShowPlaybackTargetPicker()},e.Km=function(){return this.eN.DN},e.Jm=function(){return this.eN.VN},e.I_=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.sN=void 0,this.uN=void 0,this.rN=void 0,t.next=5,jr.awrap(this.cN.I_());case 5:return this.eN.WN(),t.next=8,jr.awrap(this.eN.I_());case 8:this.aN.I_(),this.Iy=this.oN,this.Om.I_(),this.xm.I_(),this.fN=void 0;case 13:case"end":return t.stop()}},null,this,null,We)},e.Bd=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jr.awrap(this.I_());case 2:return this.Ks(),this.GN(),this.qN(),this.aN.Bd(),this.eN.CN=void 0,t.next=9,jr.awrap(this.iN.YN(this.eN));case 9:return this.Rm.Bd(),this.Nm.Bd(),this.Dm.Bd(),t.next=14,jr.awrap(this.cN.Bd());case 14:case"end":return t.stop()}},null,this,null,We)},e.PN=function(){this.eN.js(Df.Sf,this.qs),this.eN.js(Df.Tf,this.qs),this.eN.js(Df.Uf,this._N),this.eN.js(Df.Ef,this.qs),this.eN.js(Df.yf,this.qs),this.eN.js(Df.Cf,this.qs),this.eN.js(Df.Df,this.gN),this.eN.js(Df._f,this.qs),this.eN.js(Df.If,this.qs),this.eN.js(Df.Xf,this.qs),this.eN.js(Df.df,this.qs),this.eN.js(Df.Nf,this.kN),this.eN.js(dp.Gg,this.mN),this.eN.js(Py.Q_,this.dN),this.eN.js(Df.hf,this.qs),this.eN.js(Df.cf,this.RN),this.eN.DN.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.yN)},e.GN=function(){this.eN.Js(Df.Sf,this.qs),this.eN.Js(Df.Tf,this.qs),this.eN.Js(Df.Uf,this._N),this.eN.Js(Df.Ef,this.qs),this.eN.Js(Df.yf,this.qs),this.eN.Js(Df.Cf,this.qs),this.eN.Js(Df.Df,this.gN),this.eN.Js(Df._f,this.qs),this.eN.Js(Df.If,this.qs),this.eN.Js(Df.Xf,this.qs),this.eN.Js(Df.df,this.qs),this.eN.Js(Df.Nf,this.kN),this.eN.Js(dp.Gg,this.mN),this.eN.Js(Py.Q_,this.dN),this.eN.Js(Df.hf,this.qs),this.eN.Js(Df.cf,this.RN),this.eN.DN.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.yN)},e.xN=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Kc:ws,jN:[{initDataTypes:[ws.fs],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.BN=function(){var t=this.eN.DN.audioTracks,n=this.eN.DN.videoTracks;t&&(t.addEventListener("addtrack",this.bN),t.addEventListener("removetrack",this.pN),t.addEventListener("change",this.AN)),n&&(n.addEventListener("addtrack",this.SN),n.addEventListener("removetrack",this.EN),n.addEventListener("change",this.IN))},e.qN=function(){var t=this.eN.DN.audioTracks,n=this.eN.DN.videoTracks;t&&(t.removeEventListener("addtrack",this.bN),t.removeEventListener("removetrack",this.pN),t.removeEventListener("change",this.AN)),n&&(n.removeEventListener("addtrack",this.SN),n.removeEventListener("removetrack",this.EN),n.removeEventListener("change",this.IN))},e.TN=function(t){for(var n=0;n<t.N_;n++){t.A_(n).Uy()}},e.oy=function(){this.eN.oy()},e.wN=function(t,n){this.sN||(this.sN=n,this.uN=t,this.Ys(new xp(t)))},T(i,[{key:"zN",get:function(){var t=this.eN.vy,n=this.qg;return t.QN(n,.01)}},{key:"Om",get:function(){return this.Rm}},{key:"vy",get:function(){return this.eN.vy.ZN()}},{key:"ly",get:function(){return this.eN.ly},set:function(t){t&&this.eN.KN(t)}},{key:"qg",get:function(){return void 0!==this.fN?this.fN:this.eN.qg},set:function(t){this._y&&(this.fN=t),this.eN.Bu(t)}},{key:"Yg",get:function(){return this.eN.Yg}},{key:"jg",get:function(){return this.eN.jg}},{key:"wu",get:function(){return this.sN}},{key:"Qg",get:function(){return this.uN}},{key:"Mm",get:function(){}},{key:"_y",get:function(){return this.eN._y}},{key:"pm",get:function(){return Fr({},{gy:0,yy:0,by:0,py:0,Ay:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.eN.JN())}},{key:"Zg",get:function(){return this.eN.Zg},set:function(t){this.eN.Zg=t}},{key:"Sy",get:function(){return!0}},{key:"Kg",get:function(){return this.eN.Kg}},{key:"Jg",get:function(){return this.eN.Jg},set:function(t){this.eN.Jg=t}},{key:"Ey",get:function(){return this.eN.DN.played}},{key:"Iy",get:function(){return this.oN},set:function(t){this.oN=t,this.rN&&(this.rN.Iy=t)}},{key:"rg",get:function(){return this.eN.rg}},{key:"Ry",get:function(){return this.eN.Ry.ZN()}},{key:"$g",get:function(){return this.eN.$g}},{key:"$N",get:function(){return this.eN.$N}},{key:"Lm",get:function(){return this.Dm}},{key:"xm",get:function(){return this.Nm}},{key:"tm",get:function(){return this.eN.tm}},{key:"nm",get:function(){return this.eN.nm}},{key:"im",get:function(){return this.eN.im},set:function(t){this.eN.im=t}},{key:"Ny",get:function(){return this.lN}},{key:"Dy",get:function(){return this.eN.Dy},set:function(t){this.eN.Dy=t}},{key:"tD",get:function(){return this.vN}}]),i}(Hy);var ZS=function(){function t(){this.nD=MS.LR}var n=t.prototype;return n.EI=function(t,n,i,e,r,s){return new QS(t,n,i,e,r)},n.iD=function(t,n){return function(t){return!t.type||!(!YS().canPlayType||!YS().canPlayType(t.type))}(t)},n.eD=function(){return!1},t}();function KS(t,n){for(var i=0,e=t.R_;i<e.length;i++){var r=e[i];if(r.Hy===n)return r}}var JS=function(){function t(){this.rD=new ZS,this.sD=[]}t.uD=function(){return this.Gn};var n=t.prototype;return n.oD=function(t){this.sD.push(t)},n.EI=function(t,n,i,e,r,s){for(var u=this.rD.EI(t,n,i,e,r,s),o=0,a=this.sD;o<a.length;o++){u=(0,a[o])(u,i,e)}return u},n.iD=function(t,n){return this.rD.iD(t,n)},n.eD=function(){return!1},T(t,[{key:"nD",get:function(){return this.rD.nD}}]),t}();function tE(t,n){return Us(t.nD,n.nD)}function nE(t){iE.Gn.aD(t)}JS.Gn=new JS;var iE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).cD=JS.uD(),n}E(n,t);var i=n.prototype;return i.hD=function(t){this.cD=t},i.fD=function(){return this.cD},i.vD=function(t,n){var i,e,r,s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=0;case 1:if(!(i<t.length)){a.next=11;break}return e=t[i],a.next=5,jr.awrap(this.lD(e,n));case 5:if(!(r=a.sent)){a.next=8;break}return a.abrupt("return",{dD:e,wD:r});case 8:i++,a.next=1;break;case 11:s=this.cD,u=0;case 13:if(!(u<t.length)){a.next=20;break}if(o=t[u],!s.iD(o,n)){a.next=17;break}return a.abrupt("return",{dD:o,wD:s});case 17:u++,a.next=13;break;case 20:return a.abrupt("return",{dD:t[0],wD:s});case 21:case"end":return a.stop()}},null,this,null,We)},n}(function(){function t(){this._D=[]}var n=t.prototype;return n.aD=function(t){this._D.push(t),this._D.sort(tE)},n.lD=function(t,n){var i,e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this._D;case 1:if(!(i<e.length)){u.next=17;break}if(r=e[i],!$(s=r.iD(t,n))){u.next=10;break}return u.next=7,jr.awrap(s);case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=Boolean(s);case 11:if(!u.t0){u.next=14;break}return u.abrupt("return",r);case 14:i++,u.next=1;break;case 17:return u.abrupt("return",void 0);case 18:case"end":return u.stop()}},null,this,null,We)},t}());iE.Gn=new iE;var eE,rE=function(){function t(t){this.gD=void 0,this.gD=de&&de.document&&de.document.createElement("div"),hr(this.gD),t.appendChild(this.gD)}return t.prototype.Bd=function(){tr(this.gD)},t}();function sE(t){switch(t){case eE.mD:case"":return eE.mD;case eE.rA:return eE.rA;case eE.yD:default:return eE.yD}}!function(t){t.LR="",t.yD="none",t.rA="metadata",t.mD="auto"}(eE||(eE={}));var uE=[Py.Q_,Df.wf,Df._u,Df.zf,Df.ef,Df.gf,Df.pf,Df.Af,Df.Bf,Df.xf,dp.Fg,dp.Hg,dp.zg,dp.Vg,dp.l_,dp.Wg,dp.Gg,Df.cf,Df.hf,Df.df,Df._f,Df.yf,Df.kf,Df.Sf,Df.Ef,Df.Tf,Df.If,Df.Nf,Df.Cf,Df.Df,Df.Uf,Df.Xf,Df.Rf,Df.bf,Df.Pf],oE=function(t){function n(n,i){var e;return(e=t.call(this)||this).kD=void 0,e.bD=void 0,e.pD=void 0,e.TD=void 0,e.oN=eE.yD,e.SD=void 0,e.ED=!0,e.Rm=new xy,e.Nm=new xy,e.Dm=new Uy,e.Cm=new Jp,e.kD=n,e.pD=i,e.pD.Iy=e.Iy,e.RD(),e}E(n,t);var i=n.prototype;return i.Xm=function(){this.pD.Xm()},i.Um=function(){var t=this.pD.Um();$(t)&&mu(t)},i.Fm=function(){return this.zm(void 0)},i.qm=function(){},i.iy=function(t){return!1},i.RD=function(){this.Rm.x_=this.pD.Om,this.Nm.x_=this.pD.xm,this.Dm.x_=this.pD.Lm,this.Cm.x_=this.pD.Mm,this.pD.js(uE,this.qs)},i.ND=function(){this.pD.Js(uE,this.qs),this.Rm.x_=void 0,this.Nm.x_=void 0,this.Dm.x_=void 0,this.Cm.x_=void 0},i.Hm=function(){return this.SD},i.zm=function(t,n){var i,e,r,s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(hu(n),this.SD=t,t){a.next=4;break}return a.abrupt("return");case 4:if(!ap(i=t.sources.filter(vp))){a.next=7;break}return a.abrupt("return");case 7:return a.next=9,jr.awrap(this.kD.vD(i,t));case 9:if(e=a.sent,hu(n),r=e.dD,s=e.wD,u=this.Jm(),o=Lp(this),this.bD===s&&!this.wu){a.next=25;break}return this.ND(),a.next=19,jr.awrap(this.pD.Bd());case 19:hu(n),this.bD=s,this.pD=this.DD(s),aE(this.pD,o),Mp(this,o,this),this.RD();case 25:return this.pD.Iy=this.Iy,this.ED?this.pD.Qm():this.pD.Zm(),a.next=29,jr.awrap(this.pD.zm(r,t,n));case 29:hu(n),this.CD(r),this.Jm()!==u&&this.Ys(new zy);case 32:case"end":return a.stop()}},null,this,null,We)},i.CD=function(t){this.TD!==t&&(this.TD=t,this.Ys(new Vy(t)))},i.Vm=function(){return this.pD.Vm()},i.Wm=function(){this.pD.Wm()},i.Gm=function(){this.pD.Gm()},i.Jm=function(){return this.pD.Jm()},i.oy=function(){this.pD.oy()},i.I_=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.SD=void 0,this.CD(void 0),t.next=4,jr.awrap(this.pD.I_());case 4:case"end":return t.stop()}},null,this,null,We)},i.Bd=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ks(),t.next=3,jr.awrap(this.I_());case 3:return t.next=5,jr.awrap(this.pD.Bd());case 5:this.Rm.Bd(),this.Nm.Bd(),this.Dm.Bd(),this.Cm.Bd();case 9:case"end":return t.stop()}},null,this,null,We)},i.Qm=function(){this.ED=!0,this.pD.Qm()},i.Zm=function(){this.ED=!1,this.pD.Zm()},T(n,[{key:"Om",get:function(){return this.Rm}},{key:"vy",get:function(){return this.pD.vy}},{key:"wu",get:function(){return this.pD.wu}},{key:"Qg",get:function(){return this.pD.Qg}},{key:"ly",get:function(){return this.pD.ly},set:function(t){this.pD.ly=t}},{key:"uy",get:function(){return this.TD}},{key:"qg",get:function(){return this.pD.qg},set:function(t){this.pD.qg=t}},{key:"Yg",get:function(){return this.pD.Yg}},{key:"jg",get:function(){return this.pD.jg}},{key:"Mm",get:function(){return this.Cm}},{key:"_y",get:function(){return this.pD._y}},{key:"pm",get:function(){return this.pD.pm}},{key:"Zg",get:function(){return this.pD.Zg},set:function(t){this.pD.Zg=t}},{key:"Sy",get:function(){return this.pD.Sy}},{key:"Kg",get:function(){return this.pD.Kg}},{key:"Jg",get:function(){return this.pD.Jg},set:function(t){this.pD.Jg=t}},{key:"Ey",get:function(){return this.pD.Ey}},{key:"Iy",get:function(){return this.oN},set:function(t){this.oN=t,this.pD&&(this.pD.Iy=this.oN)}},{key:"rg",get:function(){return this.pD.rg}},{key:"Ry",get:function(){return this.pD.Ry}},{key:"$g",get:function(){return this.pD.$g}},{key:"Lm",get:function(){return this.Dm}},{key:"tm",get:function(){return this.pD.tm}},{key:"xm",get:function(){return this.Nm}},{key:"nm",get:function(){return this.pD.nm}},{key:"im",get:function(){return this.pD.im},set:function(t){this.pD.im=t}},{key:"Ny",get:function(){return this.pD.Ny}},{key:"tD",get:function(){return this.pD.tD}}]),n}(Au);function aE(t,n){t.Zg!==n.Zg&&(t.Zg=n.Zg),t.im!==n.im&&(t.im=n.im),t.Jg!==n.Jg&&(t.Jg=n.Jg)}var hE,cE=function(t){function n(n,i){var e;return(e=t.call(this)||this).N_=void 0,e.PD=void 0,e.BD=void 0,e.N_=n.length>>1,e.PD=n,e.BD=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.N_),e}E(n,t);var i=n.prototype;return i.OD=function(t){return this.PD[2*t]},i.xD=function(t){return this.BD[2*t]},i.LD=function(t){return this.PD[2*t+1]},i.MD=function(t){return this.BD[2*t+1]},T(n,[{key:"UD",get:function(){return this.PD.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.pk=function(t,n){return 0===this.xk(t,n)},n.wb=function(t,n){return this.xk(t,n)>0},n._b=function(t,n){return this.xk(t,n)>=0},n.Fk=function(t,n){return this.xk(t,n)<0},n.Uk=function(t,n){return this.xk(t,n)<=0},n.xb=function(t,n){return this.Fk(t,n)?t:n},n.Ob=function(t,n){return this.wb(t,n)?t:n},n.XD=function(t,n,i){return i?this.Uk(t,n):this.Fk(t,n)},n.ZN=function(){var t=this;return{get length(){return t.N_},start:function(n){var i=0|n;return t.FD(i),t.HD(t.OD(i))},end:function(n){var i=0|n;return t.FD(i),t.HD(t.LD(i))}}},n.zD=function(){for(var t=new Array(2*this.N_),n=new Array(2*this.N_),i=0;i<this.N_;i++)t[2*i]=this.OD(i),t[2*i+1]=this.LD(i),n[2*i]=!0,n[2*i+1]=!0;return this.VD(t,n)},n.FD=function(t){if(t<0)throw new l("The index provided ("+t+") must be non-negative");if(t>=this.N_)throw new l("The index provided ("+t+") is greater than the maximum bound ("+this.N_+")")},n.WD=function(t){if(0===this.N_)return this.GD();if(this.QN(t))return t;if(this.Uk(t,this.OD(0)))return this.OD(0);if(this._b(t,this.LD(this.N_-1)))return this.LD(this.N_-1);for(var n,i=this.qD(),e=0;e<this.N_;e++){var r=this.OD(e),s=this.Xk(r,t);this.Fk(s,i)&&(n=r,i=s);var u=this.LD(e),o=this.Xk(this.LD(e),t);this.Fk(o,i)&&(n=u,i=o)}return n},n.YD=function(t){for(var n=0,i=0,e=[],r=[];n<this.N_&&i<t.N_;){var s=this.OD(n),u=this.LD(n),o=this.xD(n),a=this.MD(n),h=t.OD(i),c=t.LD(i),f=t.xD(i),l=t.MD(i),v=this.Ob(s,h),d=this.xb(u,c),w=void 0;w=this.pk(s,h)?o&&f:this.pk(v,s)?o:f;var g=void 0;g=this.pk(u,c)?a&&l:this.pk(d,u)?a:l,(this.Fk(v,d)||w&&g&&this.pk(v,d))&&(e.push(v,d),r.push(w,g));var m=this.xk(this.LD(n),t.LD(i));0===m?(n+=1,i+=1):m<0?n+=1:i+=1}return this.VD(e,r)},n.jD=function(){var t=this.QD(),n=t.N_;if(0===n)return this.VD([t.ZD(),t.qD()],[!1,!1]);var i=[],e=[],r=t.OD(0);t.pk(r,t.ZD())||(i.push(t.ZD(),r),e.push(!1,!t.xD(0)));for(var s=0;s<n-1;s++)i.push(t.LD(s),t.OD(s+1)),e.push(!t.MD(s),!t.xD(s+1));var u=t.LD(n-1);return t.pk(u,t.qD())||(i.push(u,t.qD()),e.push(!t.MD(n-1),!1)),t.VD(i,e)},n.KD=function(t){for(var n=0,i=0,e=this.N_,r=t.N_,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var a=this.OD(n),h=this.LD(n),c=t.OD(i),f=t.LD(i);this.Fk(a,c)||this.pk(a,c)&&this.Fk(h,f)?(s[o]=a,s[o+1]=h,u[o]=this.xD(n),u[o+1]=this.MD(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.xD(i),u[o+1]=t.MD(i),i++),o+=2}for(;n<e;)s[o]=this.OD(n),s[o+1]=this.LD(n),u[o]=this.xD(n),u[o+1]=this.MD(n),n++,o+=2;for(;i<r;)s[o]=t.OD(i),s[o+1]=t.LD(i),u[o]=t.xD(i),u[o+1]=t.MD(i),i++,o+=2;return this.VD(s,u)},n.JD=function(t){void 0===t&&(t=this.GD());var n=this.N_;if(n<2)return this;for(var i=[],e=[],r=this.OD(0),s=this.LD(0),u=this.xD(0),o=this.MD(0),a=1;a<n;a++){var h=this.OD(a),c=this.LD(a),f=this.xD(a),l=this.MD(a);this.Fk(r,h)&&this.wb(s,c)||(this.pk(r,h)&&(u=f=u||f),this.pk(s,c)&&(o=l=o||l),this.XD(h,this.Py(s,t),o||f)?(s=c,o=l):(i.push(r,s),e.push(u,o),r=h,s=c,u=f,o=l))}return i.push(r,s),e.push(u,o),this.VD(i,e).QD()},n.QD=function(){for(var t=[],n=[],i=0;i<this.N_;i++){var e=this.OD(i),r=this.LD(i),s=this.xD(i),u=this.MD(i);this.pk(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this.VD(t,n)},n.$D=function(t){return this.N_?t.N_?this.KD(t).JD():this:t},n.tC=function(t){var n=this.QD(),i=t.QD(),e=n.jD(),r=i.jD(),s=e.YD(i),u=r.YD(n);return s.$D(u)},n.Cu=function(t){if(this.pk(t,this.GD()))return this;for(var n=[],i=[],e=0;e<this.N_;e++){var r=this.Py(this.OD(e),t),s=this.Py(this.LD(e),t);n.push(r,s),i.push(this.xD(e),this.MD(e))}return this.VD(n,i)},n.nC=function(t){return 0===this.N_||0===t.N_?this:this.QD().YD(t.QD().jD())},n.QN=function(t,n){return this.iC(t,n)>=0},n.eC=function(t,n,i,e,r){return this.rC(t,n,i,e,r)>=0},n.sC=function(t,n,i,e,r){return this.uC(t,n,i,e,r)>=0},n.oC=function(t){if(t.N_!==this.N_)return!1;for(var n=0;n<this.N_;n++)if(!this.pk(this.OD(n),t.OD(n))||!this.pk(this.LD(n),t.LD(n))||this.xD(n)!==t.xD(n)||this.MD(n)!==t.MD(n))return!1;return!0},n.aC=function(t){for(var n=[],i=[],e=0;e<this.N_;e++){var r=this.OD(e),s=this.LD(e),u=this.xD(e),o=this.MD(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this.VD(n,i)},n.uC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.GD());for(var s=this.Wk(t,r),u=this.Py(n,r),o=0;o<this.N_;o+=1)if(this.XD(this.OD(o),u,!e||this.xD(o))&&this.XD(s,this.LD(o),!i||this.MD(o)))return o;return-1},n.rC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.GD());for(var s=this.Py(t,r),u=this.Wk(n,r),o=0;o<this.N_;o+=1)if(this.XD(this.OD(o),s,!i||this.xD(o))&&this.XD(u,this.LD(o),!e||this.MD(o)))return o;return-1},n.iC=function(t,n){return this.rC(t,t,!0,!0,n)},n.cC=function(t,n){void 0===n&&(n=this.GD());for(var i=this.Py(t,n),e=this.N_-1;e>=0;e-=1)if(this.XD(this.OD(e),i,this.xD(e)))return e;return-1},n.hC=function(t,n){void 0===n&&(n=this.GD());for(var i=this.Wk(t,n),e=0;e<this.N_;e+=1)if(this.XD(i,this.LD(e),this.MD(e)))return e;return-1},n.fC=function(t){return this.FD(t),this.VD([this.OD(t),this.LD(t)],[this.xD(t),this.MD(t)])},n.vC=function(t,n){var i=this.iC(t,n);return i<0?void 0:this.fC(i)},T(t,[{key:"lC",get:function(){for(var t=this.GD(),n=0;n<this.N_;n++){var i=this.Wk(this.LD(n),this.OD(n));t=this.Py(t,i)}return t}}]),t}()),fE=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.xk=function(t,n){return t<n?Bs.Is:t===n?Bs.Ss:Bs.Es},i.Py=function(t,n){return t+n},i.Wk=function(t,n){return t-n},i.Xk=function(t,n){return g.abs(t-n)},i.GD=function(){return 0},i.qD=function(){return 1/0},i.ZD=function(){return-1/0},n.dC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.wC=function(t){for(var i=[],e=[],r=0;r<t.N_;r++)i.push(t.OD(r).Ub),i.push(t.LD(r).Ub),e.push(t.xD(r)),e.push(t.MD(r));return new n(i,e)},n._C=function(t){return new n([t,t],[!0,!0])},i.VD=function(t,i){return new n(t,i)},i.HD=function(t){return t},n.gC=function(){return lE},n}(cE),lE=new fE([]);!function(t){t.f_="fullscreenchange",t.mC="fullscreensupportchange",t.Q_="fullscreenerror"}(hE||(hE={}));var vE=function(t){function n(){return t.call(this,hE.Q_)||this}return E(n,t),n}(Su),dE=new(function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.qy=function(){this.Ys(new vE)},i.jy=function(){},i.Bd=function(){this.Ks()},T(n,[{key:"yC",get:function(){return!1}},{key:"kC",get:function(){return!1}}]),n}(Au)),wE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).iN=void 0,n.eN=void 0,n}E(n,t);var i=n.prototype;return i.Km=function(){var t;return null==(t=this.eN)?void 0:t.DN},i.Bd=function(){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jr.awrap(t.prototype.Bd.call(this));case 2:if(!this.eN){n.next=6;break}return n.next=5,jr.awrap(this.iN.YN(this.eN));case 5:this.eN=void 0;case 6:case"end":return n.stop()}},null,this,null,We)},T(n,[{key:"bC",set:function(t){this.iN=t,this.eN=t.NN(s_.Td)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).pC=0,n.AC=!1,n.TC=!0,n.SC=1,n.EC=!1,n.Ia=1,n.Om=new u_,n.vy=fE.gC().ZN(),n.Yg=NaN,n.jg=!1,n.wu=void 0,n.Qg=void 0,n.Mm=void 0,n._y=!1,n.Sy=!0,n.Ey=fE.gC().ZN(),n.Iy=eE.yD,n.rg=Zy.xg,n.Ry=fE.gC().ZN(),n.$N=void 0,n.Lm=new Pk,n.tm=0,n.xm=new u_,n.nm=0,n.Ny=new $S,n.vN=new XS,n}E(n,t);var i=n.prototype;return i.Qm=function(){},i.Zm=function(){},i.Um=function(){this.TC&&(this.TC=!1,this.Ys(new mp(this.qg)),this.Ys(new mA(this.qg)))},i.Xm=function(){this.TC||(this.TC=!0,this.Ys(new Tp(this.qg,this.ly)),this.Ys(new gp(this.qg)))},i.zm=function(t,n){return We.resolve()},i.Vm=function(){return!1},i.Wm=function(){},i.Gm=function(){},i.Jm=function(){return dE},i.oy=function(){},i.I_=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.pC=0,this.EC=!1,this.Xm(),this.Ys(new wp(this.pC));case 4:case"end":return t.stop()}},null,this,null,We)},i.Bd=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ks(),this.Om.Bd(),this.Lm.Bd(),this.xm.Bd();case 4:case"end":return t.stop()}},null,this,null,We)},T(n,[{key:"ly",get:function(){},set:function(t){}},{key:"qg",get:function(){return this.pC},set:function(t){this.pC!==t&&(this.pC=t,this.EC=!0,this.Ys(new Ip(this.qg)))}},{key:"pm",get:function(){return{gy:0,yy:0,by:0,py:0,Ay:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Zg",get:function(){return this.AC},set:function(t){this.AC!==t&&(this.AC=t,this.Ys(new Cp(this.qg,this.im)))}},{key:"Kg",get:function(){return this.TC}},{key:"Jg",get:function(){return this.SC},set:function(t){this.SC!==t&&(this.SC=t,this.Ys(new Ap(this.qg,this.Jg)))}},{key:"$g",get:function(){return this.EC}},{key:"im",get:function(){return this.Ia},set:function(t){this.Ia!==t&&(this.Ia=t,this.Ys(new Cp(this.qg,this.im)))}},{key:"Dy",get:function(){return!1},set:function(t){}},{key:"tD",get:function(){return this.vN}}]),n}(Au)),gE=function(t){function n(n,i,e,r,s,u){var o,a=new wE;return(o=t.call(this,iE.Gn,a)||this).Rh=void 0,o.IC=void 0,o.RC=void 0,o.NC=void 0,o.kE=void 0,o.DC=void 0,o.BC=void 0,o.RC=n,o.Rh=i,o.kE=e,o.DC=r,o.NC=u,o.IC=new fe(s,o.NC),o.IC.OC(o.RC),a.bC=o.IC,o.BC=new rE(o.RC),o}E(n,t);var i=n.prototype;return i.qm=function(){t.prototype.qm.call(this),this.IC.xC()},i.Ym=function(t){var n,i,e,r;n=this,e=(i=t).im,r=i.Zg,n.im=e,n.Zg=r},i.jm=function(){},i.DD=function(t){return t.EI(this.RC,this.IC,this.kE,this.Rh,this.DC,this.NC)},i.Km=function(){return this.pD.Km()},i.$m=function(){return this.IC.LC.map(function(t){return t.DN})},i.Zs=function(n){t.prototype.Zs.call(this,n)},i.nu=function(n){t.prototype.nu.call(this,n)},i.Bd=function(){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jr.awrap(t.prototype.Bd.call(this));case 2:this.IC.Bd(),this.BC.Bd();case 4:case"end":return n.stop()}},null,this,null,We)},T(n,[{key:"wy",get:function(){return this.RC}},{key:"Dy",get:function(){return this.pD.Dy},set:function(t){this.pD.Dy=t}}]),n}(oE),mE=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).RC=void 0,r.MC=void 0,r.UC=void 0,r.XC=void 0,r.FC=void 0,r.lN=new $S,r.RC=n,r.MC=i,r.XC=new u_,r.FC=new Pk,r.UC=e,r}E(n,t);var i=n.prototype;return i.iy=function(t){return!0},i.Zm=function(){},i.Um=function(){throw this.Ys(new xp(this.UC)),this.MC},i.Xm=function(){},i.Hm=function(){},i.zm=function(t,n){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw hu(n),this.Ys(new xp(this.UC)),this.MC;case 3:case"end":return t.stop()}},null,this,null,We)},i.Qm=function(){},i.Fm=function(){return We.resolve()},i.Km=function(){},i.Jm=function(){return dE},i.$m=function(){return[]},i.qm=function(){},i.Ym=function(t){},i.jm=function(){},i.Vm=function(){return!1},i.Wm=function(){},i.Gm=function(){},i.oy=function(){},i.I_=function(){return We.resolve()},i.Bd=function(){return this.Ks(),this.XC.Bd(),this.FC.Bd(),We.resolve()},T(n,[{key:"Om",get:function(){return this.XC}},{key:"vy",get:function(){return fE.gC().ZN()}},{key:"ly",get:function(){return new Date(NaN)},set:function(t){}},{key:"uy",get:function(){}},{key:"qg",get:function(){return 0},set:function(t){}},{key:"Yg",get:function(){return 0}},{key:"wy",get:function(){return this.RC}},{key:"jg",get:function(){return!0}},{key:"wu",get:function(){return this.MC}},{key:"Qg",get:function(){return this.UC}},{key:"Mm",get:function(){}},{key:"pm",get:function(){return{gy:0,yy:0,by:0,py:0,Ay:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Zg",get:function(){return!1},set:function(t){}},{key:"Sy",get:function(){return!0}},{key:"Kg",get:function(){return!0}},{key:"Jg",get:function(){return 0},set:function(t){}},{key:"Ey",get:function(){return fE.gC().ZN()}},{key:"Iy",get:function(){return eE.yD},set:function(t){}},{key:"rg",get:function(){return Zy.xg}},{key:"Ry",get:function(){return fE.gC().ZN()}},{key:"$g",get:function(){return!1}},{key:"Lm",get:function(){return this.FC}},{key:"tm",get:function(){return 0}},{key:"xm",get:function(){return this.XC}},{key:"nm",get:function(){return 0}},{key:"im",get:function(){return 1},set:function(t){}},{key:"Ny",get:function(){return this.lN}},{key:"Dy",get:function(){return!1},set:function(t){}},{key:"_y",get:function(){return!1}}]),n}(Xy);function yE(t){if(t&&V(t))return Fr({},t,{integration:pE(t.integration),fairplay:SE(t.fairplay),widevine:_E(t.widevine),playready:bE(t.playready),clearkey:EE(t.clearkey),aes128:IE(t.aes128),integrationParameters:RE(t.integrationParameters),preferredKeySystems:CE(t.preferredKeySystems)})}function pE(t){if(q(t))return t}function _E(t){if(t&&V(t))return{persistentState:kE(t.persistentState),distinctiveIdentifier:kE(t.distinctiveIdentifier),audioRobustness:AE(t.audioRobustness),videoRobustness:AE(t.videoRobustness),licenseAcquisitionURL:q(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:TE(t.licenseType),headers:t.headers,useCredentials:!!G(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:q(t.certificate)||Go(t.certificate)?t.certificate:void 0}}function bE(t){if(t){var n=_E(t);if(n)return Fr({},n,{customData:q(t.customData)?t.customData:void 0})}}function kE(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function AE(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function TE(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function SE(t){if(t){var n=_E(t);if(n)return Fr({},n,{certificateURL:q(t.certificateURL)?t.certificateURL:void 0})}}function EE(t){if(t){var n=_E(t);if(n)return Fr({},n,{keys:X(t.keys)?t.keys.map(function(t){return function(t){if(!t||!V(t))return;var n=t.id,i=t.value;if(!q(n)||!q(i))return;return{id:n,value:i}}(t)}).filter(U):void 0})}}function IE(t){if(V(t))return{useCredentials:G(t.useCredentials)?t.useCredentials:void 0}}function RE(t){if(V(t))return t}function CE(t){return t&&X(t)?t.map(function(t){return dT(t)}).filter(U):[us,es,cs]}function NE(t){return(t=t||{}).position=function(t){switch(t){case"top-left":case"top-right":case"bottom-left":case"bottom-right":return t;default:return}}(t.position),t.visibility=function(t){if(U(t)&&!p(t))return jt(t,0,1)}(t.visibility),t.retainPresentationModeOnSourceChange=py(t.retainPresentationModeOnSourceChange),t}var DE,PE=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return E(n,t),n}(Su),xE=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).HC=[],e.zC=void 0,e.VC=function(t){gu(function(){e.qs(t)})},e.zC=i?e.VC:e.qs,e}E(n,t);var i=n.prototype;return i.WC=function(t){t.Zs(this.zC),this.HC.push(t)},i.GC=function(t){t.nu(this.zC),Gs(this.HC,t)},i.Bd=function(){this.Ks();for(var t=0,n=this.HC;t<n.length;t++){n[t].nu(this.zC)}Zs(this.HC)},n}(Hy),BE=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(xE);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(DE||(DE={}));var OE,LE=function(t){function i(n){var i;return(i=t.call(this)||this).qC=void 0,i.YC=void 0,i.jC=!1,i.QC=!1,i.ZC=void 0,i.KC=void 0,i.JC=void 0,i.Kw=void 0,i.$C=function(){return i.tP()},i.nP=function(){return i.iP()},i.JC=n,i.qC=i.YC=i.ZC=i.KC=DE.INLINE,i.JC.js(hE.f_,i.$C),i.JC.js(hE.Q_,i.nP),i.eP(),i}E(i,t);var e=i.prototype;return e.$w=function(){return t=this,i={get currentMode(){return t.rP()},requestMode:function(n){var i=jE(n);i&&t.sP(i)},supportsMode:function(n){var i=jE(n);return!!i&&t.uP(i)},addEventListener:function(t,i){n.js(t,i)},removeEventListener:function(t,i){n.Js(t,i)}},(n=new xE(i,!0)).WC(t),i;var t,n,i},e.sP=function(t){this.oP(t,t)},e.oP=function(t,n){this.YC!==n&&(this.jC=!0,this.qC=t,this.aP(n,this.YC),t!==DE.FULLSCREEN&&(this.ZC=t),this.jC=!1,this.eP())},e.rP=function(){return this.QC?DE.FULLSCREEN:DE.INLINE},e.uP=function(t){switch(t){case DE.FULLSCREEN:return this.JC.kC;case DE.INLINE:return!0}return!1},e.eP=function(){if(!this.jC){var t=this.YC,n=this.rP();this.YC=n,n!==DE.FULLSCREEN&&(this.KC=n),t!==n&&this.Ys(new PE(n))}},e.aP=function(t,n){var i=t===DE.FULLSCREEN;this.QC=i,i!==this.JC.yC&&(i?this.JC.qy():this.JC.jy())},e.tP=function(){if(!this.jC){var t=this.JC.yC;this.QC=t,t?this.oP(DE.FULLSCREEN,DE.FULLSCREEN):t||this.qC!==DE.FULLSCREEN?this.eP():this.oP(this.ZC,this.KC)}},e.iP=function(){this.tP(),this.Ys(new xp(new ff(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.Bd=function(){this.JC.Bd(),this.Ks()},T(i,[{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}}]),i}(Hy),ME={qg:0,Yg:NaN,jg:!1,wu:void 0,Qg:void 0,Zg:!1,Kg:!0,Jg:1,rg:Zy.xg,$g:!1,tm:0,nm:0,im:1};function jE(t){switch(t){case DE.INLINE:case DE.FULLSCREEN:case DE.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(OE||(OE={}));var FE,UE,HE,XE,zE,VE,WE,qE,GE=function(){function t(){this.cP=[]}var n=t.prototype;return n.hP=function(t){var n=this.fP.filter(function(n){return n.vP(t)});if(n.length>1)0;else if(0===n.length)throw l("Unknown ad integration: "+t.integration);return n[0]||null},n.lP=function(t){this.cP.push(t)},T(t,[{key:"fP",get:function(){return this.cP}}]),t}();GE.Gn=new GE,function(t){t.Gg="PLAYING",t.Tm="PAUSED",t.dP="SEEK",t.wP="STALLED",t._P="FAILED",t.gP="INITIAL_BUFFERING",t.mP="NO_ACCESS"}(FE||(FE={})),function(t){t.yP="HTTP_REQUEST_STATUS_CODE_1XX",t.kP="HTTP_REQUEST_STATUS_CODE_2XX",t.bP="HTTP_REQUEST_STATUS_CODE_3XX",t.pP="HTTP_REQUEST_STATUS_CODE_4XX",t.AP="HTTP_REQUEST_STATUS_CODE_5XX",t.TP="BUFFER_LENGTH",t.SP="BYTES_RECEIVED",t.EP="SEGMENT_READ_BITRATE",t.IP="SEGMENT_PROFILE_BITRATE",t.RP="NUMBER_OF_FRAMES_DROPPED",t.NP="PLAYBACK_POSITION",t.DP="NUMBER_OF_FRAMES_DECODED",t.CP="PLAYBACK_DELTA_TO_ORIGIN",t.PP="STREAM_DELTA_TO_ORIGIN",t.BP="ORIGIN_TIMESTAMP"}(UE||(UE={})),function(t){t.OP="MANIFEST_URI",t.xP="ASSET_DURATION",t.LP="NUMBER_OF_CONTENT_PROFILES",t.MP="CDN",t.UP="CONTENT_TITLE",t.XP="SERVICE_NAME",t.FP="CONTENT_TYPE",t.HP="CONTENT_DESCRIPTION"}(HE||(HE={})),function(t){t.zP="shutdown_normal_shutdown"}(XE||(XE={})),function(t){t.VP="session/",t.WP="internalError/",t.GP="drmError/",t.qP="caError/",t.YP="networkError/"}(zE||(zE={})),function(t){t.jP="userAction",t.QP="endOfStreamReached"}(VE||(VE={})),function(t){t.PAUSE="ZP",t.RESUME="KP"}(WE||(WE={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(qE||(qE={}));var $E,YE,QE,ZE,KE,JE="agama";function tI(t){return function(t){switch(t){case $E.NONE:case $E.HORIZONTAL:case $E.VERTICAL:return!0;default:return!1}}(t)?t:$E.NONE}function nI(t){switch(t){case"":return $E.NONE;case"horizontal":return $E.HORIZONTAL;case"vertical":return $E.VERTICAL;default:throw new v}}function iI(t){if(!t||!q(t))return YE.mD;switch(t){case"always":return YE.JP;case"never":return YE.$P;default:return YE.mD}}function eI(t){if(!t||!q(t))return QE.mD;switch(t){case"playlist":return QE.tB;case"media":return QE.nB;default:return QE.mD}}function rI(t,n){return t.length>0?t:n.length>0?n:void 0}function sI(t){if(null!==t)return t}function uI(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:sI(t.streamActivityMonitorID),adTagParameters:V(t.adTagParameters)?t.adTagParameters:{},authToken:sI(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,s=t.contentSourceID;return r?s?Fr({},e,{availabilityType:"vod",videoID:r,contentSourceID:s}):void i.wr("A VOD DAI configuration was provided without valid contentSourceID which is required."):void i.wr("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Fr({},e,{availabilityType:"live",assetKey:u}):void i.wr("A Live DAI configuration was provided without valid assetKey which is required.")}i.wr("A DAI configuration was provided without a valid availabilityType which is required.")}function oI(t){if(!uT(t)||!t.integration)return t;switch(t.integration){case RA:return n=t,i=vT(Zr.Kr,n),e=vT(Zr.Zr,n),r=n[Zr.$r]&&vT(Zr.$r,n),Fr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}($E||($E={})),function(t){t.mD="auto",t.JP="always",t.$P="never"}(YE||(YE={})),function(t){t.mD="auto",t.tB="playlist",t.nB="media"}(QE||(QE={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(ZE||(ZE={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(KE||(KE={}));var aI="https://content.uplynk.com";function hI(t){if(!t)return!0;var n,i=!(op(n=t.sources)||z(n)&&op(n[0]))||ap(t.sources),e=!t.ads||cI(t.ads),r=""!==t.poster&&!t.poster;return i&&e&&r}function cI(t){return!t||X(t)&&0===t.length}function fI(t){if(t&&t.sources)return function t(n){if(q(n))return n;if(up(n))return n.src;if(z(n)&&n.length>0)return t(n[0]);return}(t.sources)}function lI(t,n,i){return rp(t)?function(t,n,i){var e=Fr({},hp(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:ZE.VERIZON_MEDIA,id:"",prefix:aI,preplayParameters:{},playbackUrlParameters:{},assetType:KE.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,q(r)?r:z(r)&&q(r[0])?r:V(s=r)&&q(s.userId)&&(z(s.externalId)||q(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return KE.CHANNEL;case"event":return KE.EVENT;case"asset":default:return KE.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=py(t.contentProtected));t.assetInfo?e.assetInfo=py(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=ky(t.prefix)||aI);return e.ping=(u=e.assetType,o=t.ping,a=!1,h=!1,c=!1,o?(a=!!G(o.adImpressions)&&o.adImpressions,h=!!G(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=G(o.linearAdData)?o.linearAdData:u!==KE.ASSET):u!==KE.ASSET&&(c=!0),{adImpressions:a,freeWheelVideoViews:h,linearAdData:c}),e=dI(e=wI(e=vI(e,t),n,i),t,i);var u,o,a,h,c}(t,n,i):function(t,n,i){var e=cp(),r=n&&(n.contentProtection||n.drm);if(q(t)){if(e.src=t,e.type=tp(t),r){var s=yE(r);e.contentProtection=oI(s)}}else if(up(t)||ep(t)){e.src=t.src,e.type=t.type||tp(t.src),e.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===$y.Bg||t.type===$y.Og}(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=V(c=t)&&q(c.integration)&&"mediatailor"===c.integration;o&&(e.integration=t.integration);var a=t.contentProtection||t.drm||r,h=yE(a);e.contentProtection=oI(h),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return uI(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=vI(e,t)}var c;return e=dI(e=wI(e,n,i),t,i)}(t,n,i)}function vI(t,n){var i;n.useCredentials?t.crossOrigin=Gy.Pg:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case Gy.Cg:case Gy.Pg:return t;default:return Gy.Dg}}(n.crossOrigin)),q(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=py(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=py(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:iI(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:eI(null==t?void 0:t.discontinuityAlignment),useLegacy:(n=null==t?void 0:t.useLegacy,U(n)?Boolean(n):void 0)};var n}(n.hls)),n.lcevc&&(t.lcevc=py(n.lcevc));var e=void 0!==n.experimentalRendering?py(n.experimentalRendering):void 0;void 0!==e&&(t.experimentalRendering=e);var r=void 0!==n.nativeUiRendering?py(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function dI(t,n,i){return t.abr=function(t,n){var i=Ay(null==t?void 0:t.preferredAudioCodecs,ky),e=Ay(null==t?void 0:t.preferredVideoCodecs,ky),r=Ay(null==n?void 0:n.preferredAudioCodecs,ky),s=Ay(null==n?void 0:n.preferredVideoCodecs,ky),u=rI(i,r),o=rI(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}(q(n)?void 0:n.abr,null==i?void 0:i.abr),t}function wI(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!U(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!U(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===Gy.Dg&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=Gy.Cg),t.useCredentials=t.crossOrigin===Gy.Pg,q(r)&&!t.timeServer&&(t.timeServer=r),t}function gI(t){var n,i,e={src:""};if(t&&t.src){if(e.src=ky(t.src),"default"in t&&(e.default=py(t.default)),e.kind=(n=t.kind,Bk(i=String(n||"").toLowerCase())?i:i?Dk.rA:Dk.iA),function(t){switch(t){case b_.DEFAULT:case b_.SRT:case b_.TTML:case b_.WEBVTT:case b_.EMSG:case b_.EVENT_STREAM:case b_.ID3:case b_.CEA608:case b_.DATE_RANGE:return!0;default:return!1}}(t.format)&&(e.format=t.format),"srclang"in t){var r=t.srclang;"string"==typeof r&&""!==r&&(e.srclang=r)}if("label"in t){var s=t.label;"string"==typeof s&&""!==s&&(e.label=s)}}return e}function mI(t,n){if(W(t))try{return n.hP(t).iB(t)}catch(t){return}}function yI(t){return q(t.sources)&&""!==t.sources||V(t.sources)&&q(t.sources.src)}function pI(t){return t.integration===OE.SPOTX&&!p(t.id)}function _I(t){return"freewheel"===t.integration}function bI(t,n,i){if(void 0===i&&(i=GE.Gn),hI(t))return{sources:[cp()]};var e=wy(t);if(e.sources=function(t,n,i){if(op(t))return[lI(t,n,i)];if(z(t)&&op(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(lI(s,n,i))}return e}return[cp()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!z(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=mI(s,n))&&(yI(s)||pI(s)||_I(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,a=!ap(e.sources),h=e.ads&&e.ads.length>0;if(a&&!h?delete e.ads:h&&!a&&(e.sources=[]),"textTracks"in e){var c=function(t){if(!z(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=gI(r)).src&&n.push(r)}return n}(e.textTracks);0===c.length?delete e.textTracks:e.textTracks=c}if("poster"in e&&(e.poster=ky(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=tI(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?nI(u.stereoMode):$E.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=lp(e.analytics),l=n&&n.analytics||[];e.analytics=function(t,n){for(var i=wy(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==JE&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,l)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Bp(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=_y(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var kI=function(){function t(t){this.eB=t}return t.prototype.rB=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";var h=t.length%4;if(h>0)for(;h++<4;)t+=this.eB.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.eB.indexOf(t.charAt(n))<<18|this.eB.indexOf(t.charAt(n+1))<<12|(s=this.eB.indexOf(t.charAt(n+2)))<<6|(u=this.eB.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.sB=function(t,n){var i,e,r,s,u,o,a,h=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.eB.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,h[o/3]=this.eB.charAt(e)+this.eB.charAt(r)+this.eB.charAt(s)+this.eB.charAt(u);return a=(a=h.join("")).slice(0,a.length-c.length),n||(a+=c),a},t.dp=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.uB=new t(t.dp.rB("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function AI(t){return"string"==typeof t}function TI(t){return"number"==typeof t}var SI={}.toString;var EI,II=Array.isArray||function(t){return"[object Array]"===SI.call(t)};function RI(t,n){return II(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(EI||(EI={}));var CI,NI=w.keys(EI).map(function(t){return EI[t]});function DI(t){return-1!==NI.indexOf(t)}function PI(t){try{var n=kI.uB.rB(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=AI(t.key),e=AI(t.customer_id),r=TI(t.generation_date),s=TI(t.expiration_date),u=RI(t.domains_page,AI),o=RI(t.domains_source,AI),a=RI(t.sdks,DI),h=(c=t.send_impression,"boolean"==typeof c);var c;var f;if(!(n&&i&&e&&r&&s&&u&&o&&a&&h))return!1;return!0}(i))throw new l("The provided license could not be decoded correctly.");return i}catch(t){throw new l("The provided license could not be decoded correctly.")}}function xI(){return CI||(CI={ud:we.href,oB:de.parent&&de.parent!==r,aB:LI()}),CI}var BI,OI=["http:","https:","ftp:","ws:","wss:"];function LI(){try{return de.top.location.href}catch(t){return de&&de.document&&de.document.referrer}}!function(t){t[t.cB=0]="cB",t[t.hB=1]="hB",t[t.fB=2]="fB"}(BI||(BI={}));var MI,jI=function(t,n,i,e,r,s,u,o){void 0===r&&(r=""),void 0===s&&(s=Date.now()),void 0===u&&(u=[]),void 0===o&&(o=!0),this.vB=t,this.lB=n,this.dB=i,this.wB=e,this._B=r,this.gB=s,this.mB=u,this.yB=o};!function(t){t.hB="expired",t.kB="invaliddomain",t.bB="invalidsource",t.Q_="error"}(MI||(MI={}));var FI=function(){function t(t,n,i){this.pB=void 0,this.AB=t,this.TB=n,this.Yo=i,this.pB=WI(this.Yo)}var n=t.prototype;return n.SB=function(t,n){var i=this;if(!hI(t)&&0!==n.dB.length&&!XI(n.dB)){var e=[];if(op(t.sources)?e=[t.sources]:z(t.sources)&&(e=t.sources),!e.every(function(t){return i.EB(t,n)})){var r=MI.bB,s=GI.IB(r);throw new ff(UI(r),s)}}},n.RB=function(n){return this.NB(n.mB)&&this.DB(n)?t.CB(n.wB)?BI.cB:BI.hB:BI.fB},n.NB=function(t){var n=this;return 0===t.length||t.some(function(t){return n.PB(t)})},n.PB=function(t){return"ios"===function(t){switch(t){case EI.ANDROID:return e.g;case EI.ANDROIDTV:case EI.FIRETV:return e.I;case EI.IOS:return e.R;case EI.TVOS:return e.N;case EI.CHROMECAST:case EI.CHROMECASTCAF:return e.M;default:return e.l}}(t)},t.CB=function(t){var n=Number(new Date);return!!t&&n<=t},n.DB=function(t){return!(this.pB&&0!==t.lB.length&&!XI(t.lB))||!!(this.pB&&this.BB(t.lB)&&this.OB(t.lB))},n.BB=function(t){return zI(this.Yo.ud,t)},n.OB=function(t){if(!this.Yo.oB)return!0;if(this.AB)return!0;var n=this.xB();return!!n&&zI(n,t)},n.xB=function(){if(this.Yo.oB){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Yo.aB?this.Yo.aB:void 0}},n.EB=function(n,i){return!!t.LB(n,i.dB)},t.LB=function(t,n){return zI(this.MB(t),n)},t.MB=function(t){return q(t)?t:up(t)&&t.src||""},t}();function UI(t){switch(t){case MI.kB:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case MI.bB:return n.ErrorCode.LICENSE_INVALID_SOURCE;case MI.hB:return n.ErrorCode.LICENSE_EXPIRED;case MI.Q_:return n.ErrorCode.LICENSE_ERROR}}function HI(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),a=e.match(o),h=function(t){return"*"===t?"("+s+")":t};if(null!==a&&5===a.length){var c=new RegExp("^"+a[1]+r+h(a[2])+r+h(a[3])+r+h(a[4])+"$");return null!==i.match(c)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function XI(t){return t.some(function(t){return"*"===t})}function zI(t,n){var e=i.Cr(t);if(!VI(e))return!0;for(var r=0;r<n.length;r++){var s=n[r];if(HI(e.hostname,s))return!0;if(HI(gg(t),s))return!0}return!1}function VI(t){return-1!==OI.indexOf(t.protocol)}function WI(t){var n=i.Cr(t.ud);return VI(n)&&!HI(n.hostname,"localhost")&&!function(t){return HI(t.hostname,"theoplayer.doubleclick.net")}(n)}var qI,GI=function(){function t(){}return t.IB=function(t){return t===MI.kB?this.UB:t===MI.bB?this.XB:t===MI.hB?this.FB:this.HB},t}();function $I(t){var n=[t.mS,t.zB,t.VB];switch(t.zB){case qI.WB:n.push(t.cg);break;case qI.GB:n.push(t.qg),n.push(t.wu);break;case qI.qB:n.push(t.wu)}return n}GI.HB="The license for this player is invalid.",GI.FB="The usage license for this video player has expired.",GI.UB="The current domain is incompatible with the license for this player.",GI.XB="The provided video source is incompatible with the license for this player.",function(t){t[t.WB=1]="WB",t[t.GB=4]="GB",t[t.qB=5]="qB"}(qI||(qI={}));for(var YI=new Array(256),QI=0;QI<256;QI+=1)YI[QI]=(QI<16?"0":"")+QI.toString(16);function ZI(){var t=Vt(),n=(4294967296*g.random()|0)+t&3029421624,i=(4294967296*g.random()|0)+t&3595553209,e=(4294967296*g.random()|0)+t&1130486254,r=(4294967296*g.random()|0)+t&1284287105;return YI[255&n]+YI[n>>>8&255]+YI[n>>>16&255]+YI[n>>>24&255]+"-"+YI[255&i]+YI[i>>>8&255]+"-"+YI[i>>>16&15|64]+YI[i>>>24&255]+"-"+YI[63&e|128]+YI[e>>>8&255]+"-"+YI[e>>>16&255]+YI[e>>>24&255]+YI[255&r]+YI[r>>>8&255]+YI[r>>>16&255]+YI[r>>>24&255]}var KI=function(){function t(t){this.eB=void 0,this.eB=t}var n=t.prototype;return n.rB=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.eB.indexOf(t.charAt(n))<<18|this.eB.indexOf(t.charAt(n+1))<<12|(s=this.eB.indexOf(t.charAt(n+2)))<<6|(u=this.eB.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.sB=function(t){var n,i,e,r,s,u,o,a=[],h="";if((u=t.length%3)>0)for(;u++<3;)h+=this.eB.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,a[u/3]=this.eB.charAt(i)+this.eB.charAt(e)+this.eB.charAt(r)+this.eB.charAt(s);return(o=a.join("")).slice(0,o.length-h.length)+h},t}();function JI(){return i.Je()}KI.dp=new KI(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),KI.uB=new KI(KI.dp.rB("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var tR,nR="theoplayer-session-id";function iR(){if(!tR){var t=If.Su(nR);t?tR=t:(tR=ZI(),If.nf(nR,tR))}return tR}var eR=/[^\x00-\x7E]/g;function rR(t){return"\\u"+Es(t.charCodeAt(0).toString(16),4,"0")}var sR=0,uR=1,oR=6e4;function aR(t){var n,i,e,r,s,u=(n=function(t){return[t.YB,t.Qc,t.vB,t.BA,t.jB,t.QB,t.ZB.map($I)]}(t),i=[],e=n,r=function(t,n){if(V(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(eR,rR));return KI.uB.sB(u)}var hR=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=KI.dp),void 0===r&&(r=sR),void 0===s&&(s=uR),this.KB=[],this.JB=null,this.$B=0,this.tO="unknown",this.Xa=0,this.nO=void 0,this.iO=function(){JI()-u.$B>oR&&u.De()},this.eO=function(){u.De(!0)},this.lc=t,this.kE=n,this.rO=i,this.sO=e,this.uO=r,this.oO=s,ve.aO(this.eO),this.nO=c(this.iO,oR)}var n=t.prototype;return n.cO=function(){return Boolean(this.jB)},n.hO=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,jr.awrap(this.rO.fO());case 2:if(i.sent.yB){i.next=5;break}return i.abrupt("return");case 5:return n={zB:qI.WB,VB:Vt(),cg:t},i.next=8,jr.awrap(this.vO(n));case 8:case"end":return i.stop()}},null,this,null,We)},n.lO=function(t,n){var i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={zB:qI.GB,VB:Vt(),qg:n,wu:t},e.next=3,jr.awrap(this.vO(i));case 3:case"end":return e.stop()}},null,this,null,We)},n.dO=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={zB:qI.qB,VB:Vt(),wu:t},i.next=3,jr.awrap(this.vO(n));case 3:case"end":return i.stop()}},null,this,null,We)},n.vO=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,jr.awrap(this.rO.fO());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.sO.sB(n.vB)){i.next=6;break}if(t.zB===qI.qB){i.next=6;break}return i.abrupt("return");case 6:if(t.zB===qI.WB?this.wO():this.cO()||this.wO(),t.mS=this.Xa++,this.KB.push(t),(e=t.zB)!==qI.WB&&e!==qI.qB){i.next=14;break}return i.next=12,jr.awrap(this.De());case 12:i.next=19;break;case 14:if(!(this.KB.length>this.uO)){i.next=19;break}return i.next=17,jr.awrap(this._O());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,We)},n.De=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.KB.length>0)){n.next=6;break}return n.next=4,jr.awrap(this._O(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,We)},n.gO=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,jr.awrap(this.rO.fO());case 2:return n=i.sent,i.abrupt("return",{YB:Vt(),Qc:iR(),vB:this.sO.sB(n.vB)||"dev",BA:this.lc,jB:this.JB,QB:this.tO,ZB:t});case 4:case"end":return i.stop()}},null,this,null,We)},n._O=function(t){var n,i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.KB.splice(0,this.oO),e.next=4,jr.awrap(this.gO(n));case 4:i=e.sent,t?this.Pd(i):this.mO(i),this.$B=JI();case 7:case"end":return e.stop()}},null,this,null,We)},n.mO=function(t){var n,i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=aR(t),i=new ag({ud:"https://license.theoplayer.com",Xl:n,Dd:!1,Jl:Pf.Kn,Kl:{"Content-Type":GT.JI},Id:4e3,Ed:eg.POST}),r.prev=2,r.next=5,jr.awrap(this.kE.ed(i));case 5:return e=r.sent,r.next=8,jr.awrap(e.Ll());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],We)},n.Pd=function(t){var n=aR(t);this.kE.Pd({ud:"https://license.theoplayer.com",Xl:n,Ul:GT.JI})},n.wO=function(){this.cO()&&this.De(),this.JB=ZI(),this.Xa=0},n.Bd=function(){ve.yO(this.eO),f(this.nO),this.De()},T(t,[{key:"ZB",get:function(){return this.KB}},{key:"jB",get:function(){return this.JB}}]),t}();var cR=M.En||M.un&&M.Pn<13;function fR(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var lR=function(){function t(t){this.wD=void 0,this.Kw=void 0,this.kO=void 0,this.wD=t}var n=t.prototype;return n.bO=function(t){if(!t||!t.drawImage)return!1;var n=this.wD.Km();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.pO=function(t,n,i,e,r,u){if(!t||!t.texImage2D)return!1;var o=this.wD,a=o.Km();if(!a)return!1;if(cR){this.kO||(this.kO=s.createElement("canvas"));var h=this.kO,c=h.getContext("2d"),f=o.nm,v=o.tm,d=h.width,w=h.height;c.clearRect(0,0,h.width,h.height),d===f&&w===v||(h.width=f,h.height=v),c.drawImage(a,0,0,f,v);var g=!1;f>0&&fR(c,f-1,0)&&(h.width=d,g=!0),v>0&&fR(c,0,v-1)&&(h.height=w,g=!0),g&&c.drawImage(a,0,0,f,v),a=h}try{t.texImage2D(n,i,e,r,u,a)}catch(t){throw new l("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},T(t,[{key:"Jw",get:function(){return this.Kw||(this.Kw=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.bO.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.pO(n,i,e,r,s,u)}}));var t}}]),t}(),vR=function(t){function n(n,i){var e;return(e=t.call(this,"AO")||this).Ck=n,e.vT=i,e}return E(n,t),n.prototype.$w=function(){return new dR(this.Ck,this.vT)},n}(Km),dR=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return E(n,t),n}(Su),wR=function(t,n){this.wy=void 0,this.TO=void 0,this.wy=t,this.TO=n},gR=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).SO=void 0,e.EO=0,e.IO=0,e.RO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.IO=n.width,e.EO=n.height,e.TO(e.IO,e.EO)}},e.SO=new de.ResizeObserver(e.RO),e.SO.observe(e.wy),e}return E(n,t),n.prototype.Bd=function(){this.SO.disconnect()},T(n,[{key:"DO",get:function(){return this.EO}},{key:"CO",get:function(){return this.IO}}]),n}(wR),mR=0;var yR,pR=h,_R=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,bR=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function kR(){return yR||(yR=de&&de.document&&de.document.createElement("span")),yR}_R&&bR||(_R=function(t){var n=JI(),i=g.max(0,16-(n-mR)),e=a(function(){return t(n+i)},i);return mR=n+i,e},bR=pR),_R=_R.bind(t),bR=bR.bind(t);var AR=["Webkit","Moz","O","ms"],TR=function(){var t=!1;try{if(void 0!==de&&"function"==typeof de.addEventListener){var n=w.defineProperty({},"passive",{get:function(){t=!0}});de.addEventListener("testPassiveEventSupport",Z,n),de.removeEventListener("testPassiveEventSupport",Z,n)}}catch(t){}return t}(),SR=Hr();function ER(t){return SR.has(t)||SR.set(t,function(t){var n=kR();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<AR.length;e++){var r=AR[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),SR.get(t)}function IR(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function RR(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[ER("transition")]="0s"}var CR=function(t){function n(n,i,e){var u;(u=t.call(this,n,i)||this).PO=void 0,u.BO=0,u.IO=NaN,u.EO=NaN,u.OO=void 0,u.xO=void 0,u.LO=void 0,u.MO=void 0,u.UO=void 0,u.I_=function(){u.xO.style.width=1e5+"px",u.xO.style.height=1e5+"px",u.OO.scrollLeft=1e5,u.OO.scrollTop=1e5,u.LO.scrollLeft=1e5,u.LO.scrollTop=1e5,0===u.LO.scrollTop&&_R(u.I_)},u.XO=function(){var t=u.CO,n=u.DO;u.TO(t,n),u.IO=t,u.EO=n,u.I_(),u.BO=0},u.FO=function(){if(!u.BO){var t=u.CO,n=u.DO;t===u.IO&&n===u.EO||(u.BO=_R(u.XO))}},u.HO=function(){u.UO||(u.UO=a(u.zO,66))},u.zO=function(){u.UO=void 0,u.VO()},u.VO=function(){u.FO()};var o=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");e||"static"!==o||(n.style.position="relative");var h,c=s.createElement("div");return u.PO=c,u.OO=s.createElement("div"),u.xO=s.createElement("div"),u.LO=s.createElement("div"),u.MO=s.createElement("div"),IR(u.OO),IR(u.LO),RR(u.xO),RR(h=u.MO),h.style.width="200%",h.style.height="200%",c.appendChild(u.OO),c.appendChild(u.LO),u.OO.appendChild(u.xO),u.LO.appendChild(u.MO),n.appendChild(c),u.OO.addEventListener("scroll",u.FO),u.LO.addEventListener("scroll",u.FO),r&&r.addEventListener("resize",u.HO),u.FO(),u}return E(n,t),n.prototype.Bd=function(){bR(this.BO),this.BO=0,this.OO.removeEventListener("scroll",this.FO),this.LO.removeEventListener("scroll",this.FO),tr(this.PO),r&&r.removeEventListener("resize",this.HO)},T(n,[{key:"DO",get:function(){return this.wy.getBoundingClientRect().height||this.EO||0}},{key:"CO",get:function(){return this.wy.getBoundingClientRect().width||this.IO||0}}]),n}(wR),NR=function(t){function n(n){var i;return(i=t.call(this)||this).wy=void 0,i.SO=void 0,i.RO=function(t,n){i.Ys(new vR(t,n))},i.wy=n,i}E(n,t);var i=n.prototype;return i.ih=function(t){this.SO||("function"==typeof de.ResizeObserver?this.SO=new gR(this.wy,this.RO):this.SO=new CR(this.wy,this.RO,t))},i.Bd=function(){this.Ks(),this.SO&&(this.SO.Bd(),this.SO=void 0)},T(n,[{key:"DO",get:function(){return this.SO?this.SO.DO:0}},{key:"CO",get:function(){return this.SO?this.SO.CO:0}}]),n}(Au),DR=function(t){function n(){return t.call(this,hE.f_)||this}return E(n,t),n}(Su);var PR=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{WO:i[0],GO:i[1],qO:i[2],YO:i[3],jO:i[4],QO:i[5]}}}(),xR=function(t){function n(){return t.call(this,hE.mC)||this}return E(n,t),n}(Su),BR=function(t){function n(i){var e;return(e=t.call(this)||this).wy=void 0,e.kC=void 0,e.yC=!1,e.ZO=function(){return e.$C()},e.KO=function(){return e.nP()},e.wy=i,e.kC=n.JO(i),s.addEventListener(PR.jO,e.ZO),e.$C(),e}E(n,t),n.JO=function(t){return Boolean(PR&&s[PR.YO]&&PR.WO in t)};var i=n.prototype;return i.qy=function(){var t=this.wy[PR.WO]();t&&t.then?t.then(this.ZO,this.KO):(s.removeEventListener(PR.QO,this.KO),s.addEventListener(PR.QO,this.KO))},i.jy=function(){var t=s[PR.GO]();t&&t.then?t.then(this.ZO,this.KO):(s.removeEventListener(PR.QO,this.KO),s.addEventListener(PR.QO,this.KO))},i.$C=function(){var t=this.yC,n=this.wy===s[PR.qO];this.yC=n,t!==n&&this.Ys(new DR)},i.nP=function(){this.Ys(new vE)},i.Bd=function(){this.Ks(),s.removeEventListener(PR.jO,this.ZO),s.removeEventListener(PR.QO,this.KO)},n}(Au),OR=function(t){function n(i){var e;return(e=t.call(this)||this).wy=void 0,e.kC=void 0,e.yC=!1,e.ZO=function(){return e.$C()},e.wy=i,e.kC=n.JO(i),e.wy.addEventListener("webkitbeginfullscreen",e.ZO),e.wy.addEventListener("webkitendfullscreen",e.ZO),e.wy.addEventListener("webkitpresentationmodechanged",e.ZO),e.$C(),e}E(n,t),n.JO=function(t){return M.un&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.qy=function(){var t=this;this.wy.webkitSupportsPresentationMode&&this.wy.webkitSupportsPresentationMode("fullscreen")?M.un?requestAnimationFrame(function(){return t.wy.webkitSetPresentationMode("fullscreen")}):this.wy.webkitSetPresentationMode("fullscreen"):this.wy.webkitEnterFullscreen()},i.jy=function(){this.wy.webkitSupportsPresentationMode&&this.wy.webkitSupportsPresentationMode("inline")?this.wy.webkitSetPresentationMode("inline"):this.wy.webkitExitFullscreen()},i.$C=function(){var t,n=this.yC;t=this.wy.webkitPresentationMode?"fullscreen"===this.wy.webkitPresentationMode:!!this.wy.webkitDisplayingFullscreen,this.yC=t,n!==t&&this.Ys(new DR)},i.Bd=function(){this.Ks(),this.wy.removeEventListener("webkitbeginfullscreen",this.ZO),this.wy.removeEventListener("webkitendfullscreen",this.ZO),this.wy.removeEventListener("webkitpresentationmodechanged",this.ZO)},n}(Au),LR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).$O=[],n.tx=void 0,n.QC=!1,n.$C=function(){var t=n.QC,i=n.nx();t!==i&&(n.QC=i,n.Ys(new DR))},n}E(n,t);var i=n.prototype;return i.qy=function(){this.tx?this.tx.qy():this.Ys(new vE)},i.jy=function(){for(var t=0,n=this.$O;t<n.length;t++){var i=n[t];i.yC&&i.jy()}},i.ix=function(t){this.tx=t},i.ex=function(t){this.$O.push(t),t.js(hE.f_,this.$C),t.js(hE.Q_,this.qs),this.$C()},i.sx=function(t){Gs(this.$O,t),t.Js(hE.f_,this.$C),t.Js(hE.Q_,this.qs)},i.nx=function(){for(var t=0,n=this.$O;t<n.length;t++){if(n[t].yC)return!0}return!1},i.I_=function(){this.tx=void 0,this.QC=!1;for(var t=this.$O.slice(),n=0;n<t.length;n++){var i=t[n];this.sx(i),i.Bd()}this.$C()},i.Bd=function(){this.Ks(),this.I_()},T(n,[{key:"kC",get:function(){return!!this.tx&&this.tx.kC}},{key:"yC",get:function(){return this.QC}}]),n}(Au),MR=function(t){function n(n,i){var e;return(e=t.call(this)||this).wD=void 0,e.ux=void 0,e.ox=void 0,e.ax=!1,e.hx=function(){return e.Wc()},e.$C=function(t){e.ax||e.Ys(t)},e.wD=n,e.ux=i,e.ox=dE,e.vx(),e.wD.js(Df.gf,e.hx),e.Wc(),e}E(n,t);var i=n.prototype;return i.qy=function(){this.ux&&this.ox.qy()},i.jy=function(){this.ox.jy()},i.vx=function(){this.ox.js(hE.f_,this.$C),this.ox.js(hE.Q_,this.qs)},i.lx=function(){this.ox.Js(hE.f_,this.$C),this.ox.Js(hE.Q_,this.qs)},i.Wc=function(){var t=this.ox,n=this.wD.Jm();if(t!==n){this.ax=!0;var i=this.yC,e=this.kC;i&&this.jy(),this.lx(),this.ox=n,this.vx(),i&&!this.yC&&this.kC?this.qy():this.jy(),this.ax=!1,e!==this.kC&&this.Ys(new xR),i!==this.yC&&this.Ys(new DR)}},i.Bd=function(){this.Ks(),this.lx(),this.wD.Js(Df.gf,this.hx)},T(n,[{key:"kC",get:function(){return!!this.ux&&this.ox.kC}},{key:"yC",get:function(){return this.ox.yC}}]),n}(Au);function jR(t){var n;return{get url(){return t.ud},get method(){return t.Ed},get headers(){return n||(n=t.Kl.qf()),n},get body(){return t.Xl},get useCredentials(){return t.Dd},get type(){return zR(t.us)},get subType(){return WR(t.Rd)},get mediaType(){return GR(t.Nd)},get responseType(){return UR(t.Jl)}}}function FR(t){switch(t.toLowerCase()){case"arraybuffer":return Pf.Vf;case"json":return Pf.Wf;case"stream":return Pf.Gf;case"text":default:return Pf.Kn}}function UR(t){return t}function HR(t){switch(t.toUpperCase()){case"POST":return eg.POST;case"PUT":return eg.PUT;case"DELETE":return eg.DELETE;case"HEAD":return eg.HEAD;case"OPTIONS":return eg.OPTIONS;case"GET":default:return eg.GET}}function XR(t){switch(t.toLowerCase()){case"manifest":return rg.fd;case"segment":return rg.vd;case"content-protection":return rg.ld;default:return rg.hd}}function zR(t){return t}function VR(t){switch(t.toLowerCase()){case"initialization-segment":return sg.dd;case"fairplay-license":return sg.wd;case"fairplay-certificate":return sg._d;case"widevine-license":return sg.md;case"widevine-certificate":return sg.yd;case"playready-license":return sg.kd;case"clearkey-license":return sg.bd;case"aes128-key":return sg.pd;default:return sg.hd}}function WR(t){return t}function qR(t){switch(t.toLowerCase()){case"audio":return ug.Ad;case"video":return ug.Td;case"text":return ug.Kn;case"image":return ug.Sd;case"":default:return ug.hd}}function GR(t){return t}var $R=function(){function t(t,n){this.wx=new ta,this._x=[],this.Kw=void 0,this.gx=!1,this.Gd=void 0,this.mx=0,this.yx=t,this.kx=n}var n=t.prototype;return n.pA=function(){this.gx=!0,this.wx.Hu(null)},n.bx=function(){this.wx.Vu(new Ow(this._x))},n.Ax=function(t){if(!this.Tx)throw new v("Cannot respond more than once");if(!V(t))throw new v("Expected valid response");this.Gd=this.Sx(t),this.pA()},n.Ex=function(){try{var t=this.kx(this.Jw);t?this.Ix(t):this.Rx||this.Nx||this.pA()}catch(t){this._x.push(t),this.bx()}},n.Ix=function(t){if(this.Nx)throw new l("Request has been redirected or a response already exists");if($(t))this.Dx(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new ta;try{var i=t(function(t){t?n.Vu(t):n.Hu(void 0)});$(i)&&n.Hu(i)}catch(t){n.Vu(t)}this.Dx(n.Uu)}},n.Dx=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.mx++,n.next=4,jr.awrap(t);case 4:this.mx--,this.Rx||this.Nx||(this._x.length?this.bx():this.pA()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.mx--,this._x.push(n.t0),this.Rx||this.Nx||this.bx();case 13:case"end":return n.stop()}},null,this,[[0,8]],We)},T(t,[{key:"Cx",get:function(){return this.wx.Uu}},{key:"Jw",get:function(){return this.Kw||(this.Kw=this.Px()),this.Kw}},{key:"Nx",get:function(){return this.gx}},{key:"Tx",get:function(){return!this.gx}},{key:"Rx",get:function(){return this.mx>0}},{key:"qd",get:function(){return this.Gd}}]),t}(),YR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).Bx=void 0,r.Bx=e,r.Ex(),r}E(n,t),n.Ox=function(t,n,i){var e=void 0===t.body?i:t.body;return new og({Xi:e,ed:n.ed,Jl:n.ed.Jl,Kl:t.headers,Zl:t.status,$l:t.statusText,rd:t.url,td:!0},n)};var i=n.prototype;return i.Px=function(){return i=jR((t=this).ed),{get closed(){return!t.Tx},get request(){return i},get url(){return t.ud},get status(){return t.Zl},get statusText(){return t.$l},get headers(){return n||(n=t.Kl.qf()),n},get body(){return t.Xl},respondWith:function(n){return t.Ax(n)},waitUntil:function(n){return t.Ix(n)}};var t,n,i},i.Sx=function(t){return n.Ox(t,this.yx,this.Bx)},T(n,[{key:"Xl",get:function(){return this.Bx}},{key:"Kl",get:function(){return this.yx.Kl}},{key:"ed",get:function(){return this.yx.ed}},{key:"qd",get:function(){return this.Gd}},{key:"Zl",get:function(){return this.yx.Zl}},{key:"$l",get:function(){return this.yx.$l}},{key:"ud",get:function(){return this.yx.rd}}]),n}($R),QR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).xx=void 0,r.Lx=void 0,r.Lx=e,r.Ex(),r}E(n,t);var i=n.prototype;return i.Px=function(){return t=this,{get url(){return t.ud},get method(){return t.Ed},get headers(){return n||(n=t.Kl.qf()),n},get body(){return t.Xl},get closed(){return!t.Tx},get useCredentials(){return t.Dd},get type(){return zR(t.us)},get subType(){return WR(t.Rd)},get mediaType(){return GR(t.Nd)},get responseType(){return UR(t.Jl)},redirect:function(n){return t.Mx(n)},respondWith:function(n){return t.Ax(n)},waitUntil:function(n){return t.Ix(n)}};var t,n},i.Sx=function(t){var n=this.yx.Xl,i=new og({Xi:n,Kl:{},ed:this.yx,rd:this.yx.ud,Jl:this.yx.Jl,Zl:200,$l:"OK"});return YR.Ox(t,i,n)},i.Mx=function(t){if(!this.Tx)throw new v("Cannot redirect, already redirected or has a response");var n;n=q(t)?{url:t}:t,this.xx=function(t,n){return new ag({ud:void 0===t.url?n.ud:t.url,Ed:void 0!==t.method?HR(t.method):void 0,Kl:t.headers,Xl:t.body,Dd:t.useCredentials,us:void 0!==t.type?XR(t.type):void 0,Rd:void 0!==t.subType?VR(t.subType):void 0,Nd:void 0!==t.mediaType?qR(t.mediaType):void 0,Jl:void 0!==t.responseType?FR(t.responseType):void 0},n)}(n,this.yx),this.pA()},T(n,[{key:"Xl",get:function(){return this.yx.Xl}},{key:"Tx",get:function(){return this.Lx&&!this.gx}},{key:"Kl",get:function(){return this.yx.Kl}},{key:"Ed",get:function(){return this.yx.Ed}},{key:"Ux",get:function(){return this.xx}},{key:"qd",get:function(){return this.Gd}},{key:"Jl",get:function(){return this.yx.Jl}},{key:"Id",get:function(){return this.yx.Id}},{key:"zs",get:function(){return this.yx.zs}},{key:"us",get:function(){return this.yx.us}},{key:"Rd",get:function(){return this.yx.Rd}},{key:"Nd",get:function(){return this.yx.Nd}},{key:"ud",get:function(){return this.yx.ud}},{key:"Dd",get:function(){return this.yx.Dd}},{key:"Cd",get:function(){return this.yx.Cd}}]),n}($R);var ZR,KR=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new JR(n);return(e=t.call(this,r,i)||this).Xx=void 0,e.Xx=r,e}E(n,t);var i=n.prototype;return i.Fx=function(t){this.Xx.Fx(t)},i.Hx=function(t){this.Xx.Hx(t)},i.zx=function(t){this.Xx.zx(t)},i.Vx=function(t){this.Xx.Vx(t)},i.Wx=function(t){this.Xx.Wx(t)},n}(cg),JR=function(){function t(t){this.Od=void 0,this.Gx=[],this.qx=[],this.Od=t}var n=t.prototype;return n.ed=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,jr.awrap(this.Yx(t,t.zs));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof mg)){i.next=12;break}return i.next=11,jr.awrap(this.jx(i.t0,t.zs));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,jr.awrap(this.Qx(n,t.zs));case 15:if(!ig(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new pg(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],We)},n.Pd=function(t){return this.Od.Pd(t)},n.Yx=function(t,n){var i,e,r,s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:hu(n),i=t,r=0,s=this.Gx.slice();case 3:if(!(r<s.length)){a.next=21;break}if(u=s[r],hu(n),(o=new QR(i,u,!e)).Nx){a.next=17;break}return a.prev=8,a.next=11,jr.awrap(o.Cx);case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(8),a.abrupt("continue",18);case 17:o.Ux&&!e?i=o.Ux:o.qd&&!e&&(e=o.qd);case 18:r++,a.next=3;break;case 21:if(!e){a.next=23;break}return a.abrupt("return",e);case 23:return a.abrupt("return",this.Od.ed(i));case 24:case"end":return a.stop()}},null,this,[[8,13]],We)},n.jx=function(t,n){var i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof pg?t.qd:new og({Xi:null,ed:t.ed,Zl:0,$l:""}),r.next=3,jr.awrap(this.Qx(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!ig(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new pg(e);case 13:case"end":return r.stop()}},null,this,null,We)},n.Qx=function(t,n){var i,e,r,s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=t,e=0,r=this.qx.slice();case 2:if(!(e<r.length)){a.next=23;break}return s=r[e],hu(n),a.next=7,jr.awrap(We.resolve(i.Ou().Xi(n)));case 7:if(u=a.sent,(o=new YR(i,s,u)).Nx){a.next=19;break}return a.prev=10,a.next=13,jr.awrap(o.Cx);case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(10),a.abrupt("continue",20);case 19:i=o.qd||i;case 20:e++,a.next=2;break;case 23:return a.abrupt("return",i);case 24:case"end":return a.stop()}},null,this,[[10,15]],We)},n.Fx=function(t){this.Gx.unshift(t)},n.Hx=function(t){this.Gx.push(t)},n.zx=function(t){Gs(this.Gx,t)},n.Vx=function(t){this.qx.unshift(t)},n.Wx=function(t){Gs(this.qx,t)},n.Bd=function(){this.Od.Bd(),Zs(this.Gx),Zs(this.qx)},t}(),tC=function(){function t(t){this.Kw=void 0,this.kE=t}var n=t.prototype;return n.Fx=function(t){this.kE.Fx(t)},n.zx=function(t){this.kE.zx(t)},n.Vx=function(t){this.kE.Vx(t)},n.Wx=function(t){this.kE.Wx(t)},T(t,[{key:"Jw",get:function(){var t;return this.Kw||(this.Kw=(t=this,{addRequestInterceptor:function(n){t.Fx(n)},removeRequestInterceptor:function(n){t.zx(n)},addResponseInterceptor:function(n){t.Vx(n)},removeResponseInterceptor:function(n){t.Wx(n)}})),this.Kw}}]),t}(),nC=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).Kw=void 0,r.Zx=function(t){r.Ys(t)},r.Kx=function(t){r.Ys(t)},r.Jx=n,r.kE=i,r.DC=e,r.Jx.js(Df.Af,r.Zx),r.Jx.js(Df.pf,r.Kx),r}E(n,t);var i=n.prototype;return i.$x=function(t){this.DC.$x(t)},i.Fx=function(t){this.kE.Fx(t)},i.zx=function(t){this.kE.zx(t)},i.Vx=function(t){this.kE.Vx(t)},i.Wx=function(t){this.kE.Wx(t)},i.Bd=function(){this.Ks(),this.Jx.Js(Df.Af,this.Zx),this.Jx.Js(Df.pf,this.Kx)},T(n,[{key:"Jw",get:function(){var t;return this.Kw||(this.Kw=(t=this,{get online(){return t.Sy},get estimator(){return n=t.tL,{get bandwidth(){return n.UR},get roundTripTime(){return n.XR}};var n},setEstimator:function(n){t.$x(function(t){if(t)return{get UR(){return by(t.bandwidth)},get XR(){return by(t.roundTripTime)},MR:function(n){return function(t){if(t)return{nL:function(n){t.markRequestStart(n)},iL:function(n){t.markResponseStart(n)},eL:function(n,i){t.markResponseData(n,i)},rL:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(jR(n)))}}}(n))},addRequestInterceptor:function(n){t.Fx(n)},removeRequestInterceptor:function(n){t.zx(n)},addResponseInterceptor:function(n){t.Vx(n)},removeResponseInterceptor:function(n){t.Wx(n)},addEventListener:function(n,i){t.js(n,i)},removeEventListener:function(n,i){t.Js(n,i)}})),this.Kw}},{key:"Sy",get:function(){return this.Jx.Sy}},{key:"tL",get:function(){return this.DC.tL}}]),n}(Au);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(ZR||(ZR={}));var iC=30,eC=1,rC=5;function sC(t,n,i,e,r,s){var u=[],o=t-g.max(s,eC),a=t+r;if(n&&i){var h=jt(i,eC,rC),c=n-h;o=g.min(o,c);var f=n+i+h;a=g.max(a,f)}return 0!==o&&e.sC(0,o)&&u.push([0,o]),e.sC(a,1/0)&&u.push([a,1/0]),u}function uC(t){return t instanceof l&&"QuotaExceededError"===t.name}var oC={type:ZR.BANDWIDTH},aC=20,hC=60;function cC(t){var n,i,e,r=wy(oC);return q(t)?r.type=fC(t):V(t)&&function(t){switch(t){case ZR.PERFORMANCE:case ZR.QUALITY:case ZR.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=fC(t.type)),V(t)&&V(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=_y(n.bitrate),p(e)||(i.bitrate=e),i)),r}function fC(t){switch(t){case"bandwidth":return ZR.BANDWIDTH;case"performance":return ZR.PERFORMANCE;case"quality":return ZR.QUALITY}}var lC=function(t){function n(n){var i;return(i=t.call(this,"uL")||this).sL=n,i}return E(n,t),n}(Su),vC=function(t){function n(n){var i;return(i=t.call(this,"aL")||this).oL=n,i}return E(n,t),n}(Su),dC=function(t){function n(n){var i;return(i=t.call(this,"hL")||this).cL=n,i}return E(n,t),n}(Su),wC=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).Kw=(i=Kt(n),{get strategy(){return{metadata:(t=i.oL).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.oL=cC(t)},get targetBuffer(){return i.sL},set targetBuffer(t){var n=_y(t);p(n)||(i.sL=n>hC?hC:n)},get bufferLookbackWindow(){return i.cL},set bufferLookbackWindow(t){var n=_y(t);p(n)||(i.cL=n<=0?iC:n)},get maxBufferLength(){return i.fL}}),n.vL=oC,n.lL=aC,n.dL=iC,n.wL=1/0,n._L=void 0,n.gL=void 0,n}E(n,t);var i=n.prototype;return i.mL=function(t){this.gL=t},i.$x=function(t){this._L=t},i.yL=function(t){var n=g.min(t,.8*this.wL);if(n=g.max(10,n),this.wL===n)return!1;var i=this.kL;this.wL=n;var e=this.kL;return e!==i&&this.Ys(new lC(e)),!0},T(n,[{key:"bL",get:function(){switch(this.vL.type){case ZR.PERFORMANCE:return 0;case ZR.QUALITY:return 1/0;case ZR.BANDWIDTH:return this.vL.metadata&&void 0!==this.vL.metadata.bitrate?this.vL.metadata.bitrate:8*Wy.Sg();default:return 8*Wy.Sg()}}},{key:"Jw",get:function(){return this.Kw}},{key:"oL",get:function(){return this.vL},set:function(t){this.vL=t,this.Ys(new vC(t))}},{key:"sL",get:function(){return this.lL},set:function(t){this.lL=t,this.Ys(new lC(t))}},{key:"kL",get:function(){return g.min(this.lL,this.wL)}},{key:"cL",get:function(){return this.dL},set:function(t){this.dL=t,this.Ys(new dC(t))}},{key:"fL",get:function(){return this.wL}},{key:"tL",get:function(){var t;return null!=(t=this._L)?t:this.gL.tD}}]),n}(Au),gC=function(t){function n(){return t.call(this,"v_")||this}return E(n,t),n.prototype.$w=function(){return new mC},n}(Km),mC=function(t){function n(){return t.call(this,"change")||this}return E(n,t),n}(Su),yC=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).pL=void 0,r.KB=void 0,r.AL=function(t){Jm(t)&&gu(function(){r.Ys(t.Jw)})},r.pL=n,r.KB=i;for(var s=0,u=r.KB;s<u.length;s++){var o=u[s];r.pL.js(o,r.AL)}return r}return E(n,t),n.prototype.Bd=function(){this.Ks();for(var t=0,n=this.KB;t<n.length;t++){var i=n[t];this.pL.Js(i,this.AL)}},n}(Au),pC=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).pL=void 0,e.AL=function(t){Jm(t)&&gu(function(){e.Ys(t.Jw)})},e.pL=n,e.pL.Zs(e.AL),e}return E(n,t),n.prototype.Bd=function(){this.Ks(),this.pL.nu(this.AL)},n}(Hy),_C=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(pC);var bC=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).lk=0,n.dk=1/0,n.Kw=void 0,n}E(n,t);var i=n.prototype;return i.I_=function(){0===this.lk&&this.dk===1/0||(this.lk=0,this.dk=1/0,this.Ys(new gC))},i.TL=function(){return new fE([this.Zy,this.Ky],[!0,!0])},T(n,[{key:"Zy",get:function(){return this.lk},set:function(t){if(this.Ky<=t)throw new l("Start time of a clip should be smaller than the end time.");this.lk!==t&&(this.lk=t,this.Ys(new gC))}},{key:"Ky",get:function(){return this.dk},set:function(t){if(t<=this.Zy)throw new l("End time of a clip should be larger than the start time.");this.dk!==t&&(this.dk=t,this.Ys(new gC))}},{key:"Jw",get:function(){var t,n,i;return this.Kw||(this.Kw=(i={get startTime(){return t.Zy},set startTime(n){t.Zy=n},get endTime(){return t.Ky},set endTime(n){t.Ky=n},addEventListener:function(t,i){n.js(t,i)},removeEventListener:function(t,i){n.Js(t,i)}},n=new pC(t=this,i),i)),this.Kw}}]),n}(Hy),kC=function(t){function n(n){var i;return(i=t.call(this)||this).SL=function(t){i.EL(t)||i.Ys(t)},i.IL=n,i.IL.Zs(i.SL),i}E(n,t);var i=n.prototype;return i.RL=function(){return this.IL.Om},i.$m=function(){return this.IL.$m()},i.NL=function(){return this.IL.vy},i.DL=function(){return this.IL.uy},i.CL=function(){return this.IL.ly},i.PL=function(t){this.IL.ly=t},i.BL=function(){return this.IL.qg},i.OL=function(t){this.IL.qg=t},i.xL=function(){return this.IL.Yg},i.LL=function(){return this.IL.wy},i.ML=function(){return this.IL.jg},i.UL=function(){return this.IL.wu},i.XL=function(){return this.IL.Qg},i.FL=function(){return this.IL._y},i.HL=function(){return this.IL.Zg},i.zL=function(t){this.IL.Zg=t},i.VL=function(){return this.IL.Sy},i.WL=function(){return this.IL.Kg},i.GL=function(){return this.IL.Jg},i.qL=function(t){this.IL.Jg=t},i.YL=function(){return this.IL.Ey},i.jL=function(){return this.IL.Iy},i.QL=function(t){this.IL.Iy=t},i.ZL=function(){return this.IL.rg},i.KL=function(){return this.IL.Ry},i.JL=function(){return this.IL.$g},i.Hm=function(){return this.IL.Hm()},i.zm=function(t,n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return hu(n),i.next=3,jr.awrap(this.IL.zm(t,n));case 3:case"end":return i.stop()}},null,this,null,We)},i.$L=function(){return this.IL.Lm},i.tM=function(){return this.IL.tm},i.nM=function(){return this.IL.xm},i.iM=function(){return this.IL.nm},i.eM=function(){return this.IL.im},i.rM=function(t){this.IL.im=t},i.Jm=function(){return this.IL.Jm()},i.Km=function(){return this.IL.Km()},i.Ym=function(t){this.IL.Ym(t)},i.jm=function(){this.IL.jm()},i.Zm=function(){this.IL.Zm()},i.qm=function(){this.IL.qm()},i.Xm=function(){this.IL.Xm()},i.Um=function(){this.IL.Um()},i.Qm=function(){this.IL.Qm()},i.Fm=function(){return this.IL.Fm()},i.Vm=function(){return this.IL.Vm()},i.Wm=function(){this.IL.Wm()},i.Gm=function(){this.IL.Gm()},i.I_=function(){return this.IL.I_()},i.Bd=function(){return this.IL.Bd()},i.oy=function(){this.IL.oy()},i.iy=function(t){return this.IL.iy(t)},i.EL=function(t){return!1},T(n,[{key:"Om",get:function(){return this.RL()}},{key:"vy",get:function(){return this.NL()}},{key:"ly",get:function(){return this.CL()},set:function(t){this.PL(t)}},{key:"uy",get:function(){return this.DL()}},{key:"qg",get:function(){return this.BL()},set:function(t){this.OL(t)}},{key:"Yg",get:function(){return this.xL()}},{key:"wy",get:function(){return this.LL()}},{key:"jg",get:function(){return this.ML()}},{key:"wu",get:function(){return this.UL()}},{key:"Qg",get:function(){return this.XL()}},{key:"Mm",get:function(){return this.IL.Mm}},{key:"_y",get:function(){return this.FL()}},{key:"pm",get:function(){return this.IL.pm}},{key:"Zg",get:function(){return this.HL()},set:function(t){this.zL(t)}},{key:"Sy",get:function(){return this.VL()}},{key:"Kg",get:function(){return this.WL()}},{key:"Jg",get:function(){return this.GL()},set:function(t){this.qL(t)}},{key:"Ey",get:function(){return this.YL()}},{key:"Iy",get:function(){return this.jL()},set:function(t){this.QL(t)}},{key:"rg",get:function(){return this.ZL()}},{key:"Ry",get:function(){return this.KL()}},{key:"$g",get:function(){return this.JL()}},{key:"Lm",get:function(){return this.$L()}},{key:"tm",get:function(){return this.tM()}},{key:"xm",get:function(){return this.nM()}},{key:"nm",get:function(){return this.iM()}},{key:"im",get:function(){return this.eM()},set:function(t){this.rM(t)}},{key:"Ny",get:function(){return this.IL.Ny}},{key:"Dy",get:function(){return this.IL.Dy},set:function(t){this.IL.Dy=t}}]),n}(Xy),AC=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).sM=void 0,r.uM=!1,r.oM=void 0,r.aM=!1,r.cM=function(){r.hM(),r.fM()},r._N=function(){r.vM(),r.fM(),r.lM&&r.qg>=r.sM.Ky-n.dM&&!r.jg&&(r.oM=_R(r._N))},r.wM=function(){r.aM=!0},r._M=function(){r.aM&&(r.aM=!1,r.fM())},r.sM=e,r.sM.js("v_",r.cM),r.IL.js("timeupdate",r._N),r}E(n,t);var i=n.prototype;return i.OL=function(n){var i=this.sM.TL().WD(n);t.prototype.OL.call(this,i),this.fM()},i.ML=function(){return t.prototype.ML.call(this)||this.uM},i.KL=function(){return fE.dC(t.prototype.KL.call(this)).YD(this.sM.TL()).ZN()},i.Um=function(){this.ML()?this.OL(this.gM.start(0)):this.hM(),t.prototype.Um.call(this),this.fM()},i.zm=function(n,i){return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return hu(i),this.uM=!1,this.sM.I_(),e.next=5,jr.awrap(t.prototype.zm.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,We)},i.Bd=function(){return this.sM.Js("v_",this.cM),this.IL.Js("timeupdate",this._N),this.vM(),t.prototype.Bd.call(this)},i.EL=function(n){switch(n.type){case"seeking":return this.Ys(n),this.wM(),!0;case"seeked":case"emptied":return this.Ys(n),this._M(),!0;case"ended":if(this.lM)return!0}return t.prototype.EL.call(this,n)},i.vM=function(){this.oM&&(bR(this.oM),this.oM=void 0)},i.fM=function(){var t=this.qg,i=this.lM&&t>=this.sM.Ky-n.Xb;this.uM&&!i?(this.uM=!1,this.Kg&&this.Um()):this.uM||!i||this.$g||this.aM||(this.uM=!0,this.Ys(new Sp(t)),this.Xm())},i.hM=function(){if(this.Yg!==1/0){var t=this.gM,i=fE.dC(t).WD(this.qg);Ft(this.qg,i,n.Xb)||this.OL(i)}},T(n,[{key:"gM",get:function(){return this.KL().length?this.KL():this.sM.TL().ZN()}},{key:"lM",get:function(){return this.sM.Ky<this.Yg}}]),n}(kC);AC.dM=1,AC.Xb=.001;var TC=function(){function t(){this.mM=void 0,this.mM=!1}return T(t,[{key:"yM",get:function(){return this.mM},set:function(t){this.mM=t}}]),t}(),SC=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).mM=void 0,e.kM=!1,e.bM=!1,e.mM=i,e}E(n,t);var i=n.prototype;return i.ML=function(){return!this.mM.yM&&t.prototype.ML.call(this)},i.Xm=function(){this.bM=!0,t.prototype.Xm.call(this)},i.Um=function(){this.bM=!1,t.prototype.Um.call(this)},i.EL=function(n){if(this.mM.yM)switch(n.type){case"ended":return this.qg=0,this.bM||(this.$g?this.kM=!0:this.Um()),!0;case"seeked":this.kM&&(this.kM=!1,this.Um());break;case"pause":if(this.kM||t.prototype.ML.call(this))return!0}return t.prototype.EL.call(this,n)},n}(kC);var EC=function(){function t(t){var n;this.Kw=(n=this,{get currentBandwidthEstimate(){return n.py},get corruptedVideoFrames(){return n.yy},get droppedVideoFrames(){return n.gy},get totalBytesLoaded(){return n.Ay},get bufferedSegments(){return n.Ty}}),this.pD=t}return T(t,[{key:"Jw",get:function(){return this.Kw}},{key:"yy",get:function(){return this.pD.pM.pm.yy}},{key:"py",get:function(){return this.pD.pM.pm.py}},{key:"gy",get:function(){return this.pD.pM.pm.gy}},{key:"AM",get:function(){throw new l("Not implemented")}},{key:"TM",get:function(){throw new l("Not implemented")}},{key:"Ay",get:function(){return this.pD.pM.pm.Ay}},{key:"by",get:function(){return this.pD.pM.pm.by}},{key:"Ty",get:function(){return this.pD.pM.pm.Ty}}]),t}();function IC(t){if(!t||!fr(t))return{gy:0,yy:0,by:0,py:0,Ay:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{gy:n.droppedVideoFrames,yy:n.corruptedVideoFrames||0,by:n.totalVideoFrames}}return{gy:t.webkitDroppedFrameCount||0,yy:0,by:t.webkitDecodedFrameCount||0}}var RC=function(t){function n(){return t.call(this,"SM")||this}return E(n,t),n.prototype.$w=function(){return new CC},n}(Km),CC=function(t){function n(){return t.call(this,"castingchange")||this}return E(n,t),n}(Su);var NC=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).EM=[],n.Kw=void 0,n.IM=function(){return n.Ys(new RC)},n}E(n,t);var i=n.prototype;return i.RM=function(t){this.EM.push(t),t.js("statechange",this.IM)},i.Bd=function(){var t=this;this.EM.forEach(function(n){n.Js("statechange",t.IM)}),Zs(this.EM)},T(n,[{key:"NM",get:function(){return this.EM.some(function(t){return t.NM})}},{key:"Jw",get:function(){var t,n,i;return this.Kw||(this.Kw=(i={get casting(){return t.NM},addEventListener:function(t,i){n.js(t,i)},removeEventListener:function(t,i){n.Js(t,i)}},n=new _C(t=this,i),i)),this.Kw}}]),n}(Xy),DC=function(){function t(){}return t.DM=function(t,n){var i,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=new ag({ud:t,Jl:Pf.Kn,Ed:eg.GET}),s.next=4,jr.awrap(n.ed(i));case 4:return e=s.sent,s.next=7,jr.awrap(e.Xi());case 7:return r=s.sent,s.abrupt("return",r.trim());case 11:return s.prev=11,s.t0=s.catch(0),au(s.t0),s.abrupt("return",void 0);case 15:case"end":return s.stop()}},null,null,[[0,11]],We)},t.CM=function(t){try{var i=PI(t);return new jI(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new ff(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.PM=function(t){void 0===t&&(t=KI.dp),i.wr("The baked-in license is used. Please update the configuration with your license.");var n=t.rB(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.rB(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.rB(n)}),s=Number(new Date(Number(t.rB("COD|aHpHa:p3Ceo3Co\"\""))));return new jI(n,e,r,s)},t.convertLicenseToDummyLicense=function(t){return new jI(t.vB,t.lB,t.dB,864e13,t._B,Date.now(),t.mB,t.yB)},t}(),PC=function(){function t(){}return t.if=function(){return t.Gn||(t.Gn=xC.vh()?new xC:new Ef),t.Gn},t.Ru=function(n){t.if().Ru(n)},t.tf=function(){t.if().tf()},t.Su=function(n){return t.if().Su(n)},t.nf=function(n,i){t.if().nf(n,i)},t.BM=function(n){var i=t.Su(n);if(void 0!==i)return y(i)},t.OM=function(n){return"true"===t.Su(n)},t}();PC.Gn=void 0;var xC=function(n){function i(){return n.apply(this,arguments)||this}E(i,n),i.vh=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.Ru=function(n){t.localStorage.removeItem(n)},e.tf=function(){t.localStorage.clear()},e.Su=function(n){return t.localStorage[n]},e.nf=function(n,i){t.localStorage[n]=i},i}(PC),BC=g.floor(14399999*g.random()-72e5),OC=function(){function t(t,n,i,e,r,s){this.pB=void 0,this.kE=t,this.xM=n,this.LM=i,this.rO=e,this.MM=r,this.Yo=s,this.pB=WI(s)}var i=t.prototype;return i.UM=function(){var t;return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jr.awrap(this.XM(this.MM.license,this.MM.licenseUrl));case 2:t=n.sent,this.rO.FM(t);case 4:case"end":return n.stop()}},null,this,null,We)},i.XM=function(t,i){var e,r,s,u,o,a,h,c,f;return jr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(e=i,t?r=DC.CM(t):e||(r=DC.PM()),e||(e="https://validate.theoplayer.com/1/"+r.vB),s=this.HM(),!r){l.next=14;break}if((u=this.xM.RB(r))!==BI.cB){l.next=14;break}if(!this.zM(r.wB)||!this.zM(null==s?void 0:s.wB)){l.next=13;break}return l.next=10,jr.awrap(this.VM(e));case 10:if(!(o=l.sent)){l.next=13;break}return l.abrupt("return",o);case 13:return l.abrupt("return",r);case 14:if(!s){l.next=25;break}if(this.xM.RB(s)!==BI.cB){l.next=24;break}if(!this.zM(null==s?void 0:s.wB)){l.next=23;break}return l.next=20,jr.awrap(this.VM(e));case 20:if(!(a=l.sent)){l.next=23;break}return l.abrupt("return",a);case 23:return l.abrupt("return",s);case 24:PC.Ru("THEOplayer.license");case 25:return l.next=27,jr.awrap(DC.DM(e,this.kE));case 27:if(!(h=l.sent)){l.next=37;break}if(c=DC.CM(h),this.xM.RB(c)!==BI.cB){l.next=34;break}return PC.nf("THEOplayer.license",h),l.abrupt("return",c);case 34:PC.Ru("THEOplayer.license"),l.next=39;break;case 37:if(this.pB||!r||u!==BI.hB||e!=="https://validate.theoplayer.com/1/"+r.vB){l.next=39;break}return l.abrupt("return",DC.convertLicenseToDummyLicense(r));case 39:if(!r&&!c){l.next=43;break}this.WM(null!=(f=r)?f:c,new ff(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),l.next=44;break;case 43:throw new ff(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return l.stop()}},null,this,null,We)},i.SB=function(t){var n,i,e,r,s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,jr.awrap(this.rO.fO());case 2:if(n=a.sent,!this.zM(n.wB)){a.next=9;break}return e=null!=(i=this.MM.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.vB,a.next=7,jr.awrap(this.VM(e));case 7:(r=a.sent)&&(this.rO.FM(r),n=r);case 9:if(a.prev=9,(s=this.xM.RB(n))!==BI.fB){a.next=16;break}throw u=MI.kB,new ff(UI(u),GI.IB(u));case 16:if(s!==BI.hB){a.next=19;break}throw o=MI.hB,new ff(UI(o),GI.IB(o));case 19:this.xM.SB(t,n),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(9),this.GM(a.t0);case 25:case"end":return a.stop()}},null,this,[[9,22]],We)},i.VM=function(t){var n,i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jr.awrap(DC.DM(t,this.kE));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=DC.CM(n),this.xM.RB(i)!==BI.cB){e.next=11;break}return PC.nf("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],We)},i.zM=function(t){return!t||Number(new Date)+2592e5+BC>=t},i.HM=function(){var t=PC.Su("THEOplayer.license");if(t)return DC.CM(t)},i.WM=function(t,n){this.rO.FM(t),this.GM(n)},i.GM=function(t){throw ht(t.message),this.LM.dO(t.message),t},t}(),LC=function(){function t(){this.qM=void 0,this.YM=new ta}var n=t.prototype;return n.FM=function(t){this.qM=t,this.YM.Hu()},n.fO=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.qM){t.next=2;break}return t.abrupt("return",We.resolve(this.qM));case 2:return t.next=4,jr.awrap(this.YM.Uu);case 4:return t.abrupt("return",this.qM);case 5:case"end":return t.stop()}},null,this,null,We)},T(t,[{key:"jM",get:function(){return this.qM}}]),t}(),MC=function(t){function n(){return t.call(this,"v_")||this}return E(n,t),n.prototype.$w=function(){return new jC},n}(Km),jC=function(t){function n(){return t.call(this,"change")||this}return E(n,t),n}(Su);function FC(t){var n,i={get fontFamily(){return t.QM},set fontFamily(n){t.QM=n},get fontColor(){return t.ZM},set fontColor(n){t.ZM=n},get fontSize(){return t.KM},set fontSize(n){t.KM=n},get backgroundColor(){return t.JM},set backgroundColor(n){t.JM=n},get windowColor(){return t.$M},set windowColor(n){t.$M=n},get edgeStyle(){return t.tU},set edgeStyle(n){t.tU=n},addEventListener:function(t,i){var e=Ty(t,ky);n.js(e,i)},removeEventListener:function(t,i){var e=Ty(t,ky);n.Js(e,i)}};return n=new Tu(i),t.js(["v_"],function(t){return n.Ys(t.Jw)}),i}var UC,HC,XC={QM:void 0,ZM:void 0,KM:void 0,JM:void 0,$M:void 0,tU:void 0,nU:void 0},zC="THEOplayer.textTrackStyle.",VC=function(t){function n(){var i;return(i=t.call(this)||this).iU=void 0,i.Kw=void 0,i.iU=n.eU(),i}return E(n,t),n.prototype.Wc=function(t){this.iU=Fr({},this.iU,t),n.rU(this.iU),this.Ys(new MC)},n.eU=function(){var t=Fr({},XC);return t.QM=PC.Su(zC+"fontFamily")||t.QM,t.ZM=PC.Su(zC+"fontColor")||t.ZM,t.KM=PC.Su(zC+"fontSize")||t.KM,t.JM=PC.Su(zC+"backgroundColor")||t.JM,t.$M=PC.Su(zC+"windowColor")||t.$M,t.tU=PC.Su(zC+"edgeStyle")||t.tU,t},n.rU=function(t){PC.nf(zC+"fontFamily",t.QM||""),PC.nf(zC+"fontColor",t.ZM||""),PC.nf(zC+"fontSize",t.KM||""),PC.nf(zC+"backgroundColor",t.JM||""),PC.nf(zC+"windowColor",t.$M||""),PC.nf(zC+"edgeStyle",t.tU||"")},T(n,[{key:"sU",get:function(){return this.iU}},{key:"QM",get:function(){return this.iU.QM},set:function(t){this.Wc({QM:t})}},{key:"ZM",get:function(){return this.iU.ZM},set:function(t){this.Wc({ZM:t})}},{key:"KM",get:function(){return this.iU.KM},set:function(t){this.Wc({KM:t})}},{key:"JM",get:function(){return this.iU.JM},set:function(t){this.Wc({JM:t})}},{key:"$M",get:function(){return this.iU.$M},set:function(t){this.Wc({$M:t})}},{key:"tU",get:function(){return this.iU.tU},set:function(t){this.Wc({tU:t})}},{key:"nU",get:function(){return this.iU.nU}},{key:"Jw",get:function(){return this.Kw||(this.Kw=FC(this)),this.Kw}}]),n}(Au),WC=function(t){function n(n,e){var r;(r=t.call(this)||this).uU=void 0,r.Jc=void 0,r.pM=void 0,r.oU=void 0,r.qw=void 0,r.sM=void 0,r.mM=void 0,r.aU=void 0,r.cU=void 0,r.DC=void 0,r.xM=void 0,r.hU=void 0,r.fU=void 0,r.NC=void 0,r.vU=!1,r.Im=!1,r.Ly=void 0,r.lU=!1,r.dU=void 0,r.wU=void 0,r._U=void 0,r.gU=void 0,r.mU=void 0,r.yU=function(t){if(!r.lU){r.lU=!0;var n=r.uU,i=r_(t);r.pM.x_=new mE(r.wy,i,t),mu(n.Bd())}},r.kU=function(t){r.Ys(t.Jw)},r.bU=function(t){t.type!==Df.Af&&t.type!==Df.pf&&r.Ys(t)};var s=_y(e.uid);p(s)?r.Ly=l_++:r.Ly=s,r.Jc=e;var u=i.qw,o=new LC;r.oU=new hR("4.1.1",u,o),r.qw=new KR(u,e.allowMixedContent),r.DC=new wC,r.xM=new FI(e.isEmbeddable,"4.1.1",xI()),r.mU=new OC(u,r.xM,r.oU,o,e,xI()),r.mU.UM().catch(r.yU),r.hU=new NR(n),r.hU.js("AO",r.kU),r.NC=new VC,r.sM=new bC,r.mM=new TC;var a=new gE(n,e,r.qw,r.DC,r.hU,r.NC);r.DC.mL(a);var h=a;h=new AC(h,r.pU),h=new SC(h,r.yM),r.uU=h,r.pM=new t_(r.uU),r.pM.Zs(r.bU),r.gU=new EC(Kt(r)),r.wU=new nC(r.pM,r.qw,r.DC),r.aU=new lR(Kt(r)),r.fU=new MR(r.pM,e.allowNativeFullscreen),r.cU=new LE(r.fU),r.hU.ih();var c=new fe(r.hU,r.NC,1,[s_.Td]);return r.dU=new le(c),r._U=new NC,r}E(n,t);var e=n.prototype;return e.zL=function(t){this.pM.Zg=t,t||this.Kg||this.qm()},e.rM=function(t){this.pM.im=t},e.AU=function(){Mp(this,ME,this)},e.Um=function(){this.pM.Um()},e.Xm=function(){this.pM.Xm()},e.zm=function(t,n){var i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.mU.SB(t).catch(this.yU),i=qC(t),e.next=5,jr.awrap(this.pM.zm(i,n));case 5:case"end":return e.stop()}},null,this,null,We)},e.qm=function(){this.Im||(this.pM.qm(),this.dU.qm(),this.Im=!0)},e.yC=function(){return this.cU.rP()===DE.FULLSCREEN},e.Qm=function(){this.pM.Qm()},e.Zm=function(){this.pM.Zm()},e.Km=function(){return this.pM.Km()},e.I_=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jr.awrap(this.pM.Fm());case 2:return t.next=4,jr.awrap(this.pM.I_());case 4:case"end":return t.stop()}},null,this,null,We)},e.Bd=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ks(),this._U.Bd(),this.qw.Bd(),this.wU.Bd(),this.fU.Bd(),this.cU.Bd(),this.hU.Bd(),this.oU.Bd(),this.dU.Bd(),t.next=11,jr.awrap(this.pM.Bd());case 11:case"end":return t.stop()}},null,this,null,We)},T(n,[{key:"TU",get:function(){return this.DC}},{key:"Pm",get:function(){return this.vU},set:function(t){this.vU=t,this.pM.Pm=t}},{key:"SU",get:function(){return this.dU}},{key:"Om",get:function(){return this.pM.Om}},{key:"EU",get:function(){return this._U}},{key:"IU",get:function(){return this.hU}},{key:"Mm",get:function(){return this.pM.Mm}},{key:"pm",get:function(){return this.gU}},{key:"RU",get:function(){return this.wU}},{key:"Lm",get:function(){return this.pM.Lm}},{key:"NU",get:function(){return this.NC}},{key:"xm",get:function(){return this.pM.xm}},{key:"vy",get:function(){return this.pM.vy}},{key:"pU",get:function(){return this.sM}},{key:"yM",get:function(){return this.mM}},{key:"qg",get:function(){return this.pM.qg},set:function(t){this.pM.qg=t}},{key:"ly",get:function(){return this.pM.ly},set:function(t){this.pM.ly=t}},{key:"uy",get:function(){return this.pM.uy}},{key:"Yg",get:function(){return this.pM.Yg}},{key:"wy",get:function(){return this.pM.wy}},{key:"jg",get:function(){return this.pM.jg}},{key:"wu",get:function(){return this.pM.wu}},{key:"Qg",get:function(){return this.pM.Qg}},{key:"Zg",get:function(){return this.pM.Zg},set:function(t){var n=Boolean(t);this.zL(n)}},{key:"Kg",get:function(){return this.pM.Kg}},{key:"Jg",get:function(){return this.pM.Jg},set:function(t){this.pM.Jg=t}},{key:"Ey",get:function(){return this.pM.Ey}},{key:"Iy",get:function(){return this.pM.Iy},set:function(t){this.pM.Iy=sE(t)}},{key:"rg",get:function(){return this.pM.rg}},{key:"Ry",get:function(){return this.pM.Ry}},{key:"$g",get:function(){return this.pM.$g}},{key:"F_",get:function(){return this.Ly}},{key:"tm",get:function(){return this.pM.tm}},{key:"nm",get:function(){return this.pM.nm}},{key:"im",get:function(){return this.pM.im},set:function(t){var n=jt(Number(t),0,1)||0;this.rM(n)}},{key:"Ny",get:function(){return this.pM.Ny}}]),n}(Xy);function qC(t){t.sources;var n=t.sources.filter(function(t){return H(t.integration)});return t.sources=n,t}!function(t){t[t.DU=0]="DU",t[t.CU=1]="CU"}(UC||(UC={})),function(t){t[t.PU=0]="PU"}(HC||(HC={}));var GC={},$C={};function YC(t,n){(GC[n]||(GC[n]=[])).push(t)}function QC(t,n){($C[n]||($C[n]=[])).push(t)}function ZC(t,n){var i=t;if(GC[n])for(var e=0,r=GC[n];e<r.length;e++){i=(0,r[e])(i)}return i}var KC=[],JC=[];function tN(t){KC.push(t)}function nN(t){for(var n=0;n<KC.length;n++){(0,KC[n])(t)}}var iN=t.CustomEvent;var eN=function(){try{var t=new iN("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},rN=function(){function t(t,n){var i=this;this.pD=void 0,this.BU=void 0,this.OU=!1,this.xU=function(t){i.BU.lO(t.error,i.qg)},this.LU=function(){i.BU.hO(i.MU),i.pD.removeEventListener("playing",i.LU),i.OU=!1},this.UU=function(){i.OU||(i.pD.addEventListener("playing",i.LU),i.OU=!0)},this.BU=n,this.pD=t,this.pD.addEventListener("error",this.xU),this.pD.addEventListener("sourcechange",this.UU),this.UU()}return t.prototype.I_=function(){},T(t,[{key:"qg",get:function(){var t=this.pD.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"MU",get:function(){return this.pD.src||""}}]),t}();tN(function(t){new rN(t.Jw,t.oU)});var sN="theoplayer-stored-volume",uN="theoplayer-stored-mutedstate";YC(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=PC.BM(sN);(void 0===r||p(r))&&(r=1);var s=PC.OM(uN)||!1;e.im=r,e.Zg=s}return e}E(n,t);var i=n.prototype;return i.zL=function(n){this.Jc.persistVolume&&PC.nf(uN,""+Boolean(n)),t.prototype.zL.call(this,n)},i.rM=function(n){this.Jc.persistVolume&&PC.nf(sN,""+Number(n)),t.prototype.rM.call(this,n)},n}(t)},UC.CU);var oN=new(function(){function t(){this.XU=[],this.Kw=void 0}var n=t.prototype;return n.A_=function(t){return this.XU[t]},n.FU=function(t){this.XU.push(t),this.Jw.push(t.Jw)},n.Vc=function(t){var n=this.XU.indexOf(t);n<0||($s(this.XU,n),this.Kw&&$s(this.Kw,n))},n.HU=function(t){for(var n=0,i=this.XU;n<i.length;n++){var e=i[n];if(e.F_===t)return e}},T(t,[{key:"N_",get:function(){return this.XU.length}},{key:"Jw",get:function(){return this.Kw||(this.Kw=function(t){for(var n=[],i=0;i<t.N_;i++)n[i]=t.A_(i).Jw;return n.getPlayerByUID=function(n){var i=t.HU(n);return i&&i.Jw},n}(this)),this.Kw}}]),t}()),aN=function(){function t(t){var n=this;this.zU=[],this.VU=void 0,this.Kv=new uu,this.WU=void 0,this.GU=function(){return 0===n.zU.length?n.WU?hN(n.WU,n.Kv.zs).then(n.qU,n.qU):n.qU():n.zU.shift()().then(n.GU)},this.qU=function(){if(0!==n.zU.length)return n.GU();n.VU=void 0},this.WU=t}var n=t.prototype;return n.YU=function(t,n){var i=this;return new We(function(e){var r=new uu;r.Fs(i.Kv.zs),n&&r.Fs(n);var s=function(){r.Bs()};i.zU.push(function(){var n=hN(t,r.zs);return e(n),n.then(s,s)}),i.VU||(i.VU=i.GU())})},n.Xs=function(){return this.jU(!0)},n.Bd=function(){return this.WU=void 0,this.jU(!1)},n.jU=function(t){var n=this.VU;return this.Kv.Xs(),t&&(this.Kv=new uu),We.resolve(n)},t}();function hN(t,n){return new We(function(i){return i(t(n))})}var cN,fN=function(t){function n(n){var i;return(i=t.call(this,Df.Mf)||this).source=n,i}return E(n,t),n}(Su),lN=function(t){function n(){var n;return(n=t.call(this)||this).pC=void 0,n.TC=void 0,n.EC=void 0,n.SC=void 0,n.pC=0,n.TC=!0,n.EC=!1,n.SC=1,n}E(n,t);var i=n.prototype;return i.Um=function(){this.TC&&(this.TC=!1,this.Ys(new mp(this.qg)),this.Ys(new mA(this.qg)))},i.Xm=function(){this.TC||(this.TC=!0,this.Ys(new Tp(this.qg,this.ly)),this.Ys(new gp(this.qg)))},i.I_=function(){this.pC=0,this.EC=!1,this.SC=1,this.Xm(),this.Ys(new wp(this.pC))},i.Bd=function(){this.Ks()},i.Zm=function(){},i.Qm=function(){},T(n,[{key:"ly",get:function(){},set:function(t){}},{key:"qg",get:function(){return this.pC},set:function(t){this.EC&&this.pC===t||(this.pC=t,this.EC=!0,this.Ys(new Ip(this.qg)))}},{key:"Kg",get:function(){return this.TC}},{key:"Jg",get:function(){return this.SC},set:function(t){this.SC!==t&&(this.SC=t,this.Ys(new Ap(this.qg,this.Jg)))}},{key:"rg",get:function(){return Zy.xg}},{key:"$g",get:function(){return this.EC}}]),n}(Hy),vN=function(t){function n(){return t.call(this,Df.lf)||this}return E(n,t),n}(Su),dN={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},wN={visibility:"hidden"},gN={visibility:"visible"},mN=function(){function t(t){var n,i=this;this.gD=void 0,this.pD=void 0,this.QU=!1,this.ZU=void 0,this.KU=void 0,this.JU=function(t){var n;i.QU=!1,i.ZU=null==(n=t.source)?void 0:n.poster,i.Wc()},this.HE=function(){i.QU=!0,i.Zm()},this.pD=t,this.RD(),this.gD=((n=de&&de.document&&de.document.createElement("div")).className="theoplayer-poster",ar(dN,n),n),t.wy.appendChild(this.gD)}var n=t.prototype;return n.Wc=function(){var t=this.pD.Kg,n=this.QU;this.ud?this.gD.style.backgroundImage='url("'+this.ud.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.gD.style.backgroundImage="",t&&this.ud&&!n?this.Qm():this.Zm()},n.Qm=function(){ar(wN,this.pD.wy),ar(gN,this.gD)},n.Zm=function(){ar(wN,this.gD),ar(gN,this.pD.wy)},n.RD=function(){this.pD.js("sourcechange",this.JU),this.pD.js("play",this.HE)},n.Bd=function(){this.pD.Js("sourcechange",this.JU),this.pD.Js("play",this.HE),tr(this.gD)},T(t,[{key:"ud",get:function(){return void 0!==this.ZU?this.ZU:void 0!==this.KU?this.KU:void 0}},{key:"$U",set:function(t){this.KU=t,this.Wc()}}]),t}();function yN(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this).pD=void 0,r.tX=void 0,r.nX=void 0,r.iX=void 0,r.eX=void 0,r.rX=void 0,r.sX=void 0,r.uX=void 0,r.ED=void 0,r.SD=void 0,r.sN=void 0,r.MC=void 0,r.Kw=void 0,r.oX=function(t){t.type!==Df.If&&r.uX.push(t)},r.tX=new t(n,e),r.nX=new lN,r.pD=r.tX,r.iX=new mN(Kt(r)),r.rX=new aN,r.sX=!1,r.uX=[],r.ED=!0,r.RD(),r}E(e,i);var r=e.prototype;return r.YU=function(t,n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.rX.YU(t,n).catch(fu));case 1:case"end":return i.stop()}},null,this,null,We)},r.aX=function(t,n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return hu(n),this.tX.Zs(this.oX),i.next=4,jr.awrap(this.tX.zm(t,n));case 4:this.tX.nu(this.oX);case 5:case"end":return i.stop()}},null,this,null,We)},r.cX=function(){var t,n,i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.Hm())&&!hI(t)&&this.Pm&&this.Kg){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.Jc.mutedAutoplay,e.next=6,jr.awrap(this.SU.hX());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.fX(),e.abrupt("break",14);case 12:return(this.Zg||n===yp.ALL)&&(this.Zg=!0,this.Um()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,We)},r.zm=function(t){var i=this,e=this.SD;e&&!hI(e)&&this.Ys(new wp(0,0)),this.I_(),this.SD=t,mu(this.YU(function(e){return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return hu(e),r.prev=1,r.next=4,jr.awrap(i.aX(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.SD=void 0,i.wN((s=r.t0,u=n.ErrorCode.SOURCE_NOT_SUPPORTED,s instanceof ff?s:s instanceof l?new ff(u,s.message,s):new ff(u,String(s)))),r.abrupt("return");case 11:return r.next=13,jr.awrap(i.vX());case 13:case"end":return r.stop()}var s,u},null,null,[[1,6]],We)}))},r.vX=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.lX(this.tX),this.Ys(new fN(this.Hm())),t.next=4,jr.awrap(this.cX());case 4:case"end":return t.stop()}},null,this,null,We)},r.OL=function(t){this.pD.qg=t},r.UL=function(){var t;return null!=(t=this.MC)?t:this.tX.wu},r.XL=function(){var t;return null!=(t=this.sN)?t:this.tX.Qg},r.wN=function(t){void 0===this.XL()&&(this.sN=t,this.MC=r_(t),this.Ys(new xp(t)))},r.Um=function(){this.pD.Um()},r.fX=function(){this.Zg||this.qm(),this.Um()},r.qm=function(){this.tX.qm()},r.Xm=function(){this.pD.Xm()},r.Fm=function(){this.zm(void 0)},r.Qm=function(){this.ED=!0,this.pD.Qm()},r.Zm=function(){this.ED=!1,this.pD.Zm()},r.AU=function(){this.tX.AU()},r.rM=function(t){this.tX.rM(t)},r.zL=function(t){this.tX.zL(t)},r.dX=function(t){this.eX=t,t.FU(this)},r.yC=function(){return this.tX.yC()},r.Hm=function(){return this.SD},r.Km=function(){return this.tX.Km()},r.BL=function(){return this.tX.qg},r.xL=function(){return this.tX.Yg},r.NL=function(){return this.tX.vy},r.YL=function(){return this.tX.Ey},r.KL=function(){return this.tX.Ry},r.I_=function(){var t=this;this.SD=void 0,this.sN=void 0,this.MC=void 0,Zs(this.uX),this.nX.I_(),this.lX(this.nX),this.rX.Xs(),mu(this.rX.YU(function(n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return hu(n),i.next=3,jr.awrap(t.tX.I_());case 3:case"end":return i.stop()}},null,null,null,We)}))},r.Bd=function(){var t=this;this.Ys(new vN),this.iX.Bd(),this.ND(),this.I_(),mu(this.YU(function(){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jr.awrap(t.tX.Bd());case 2:t.eX&&(t.eX.Vc(t),t.eX=void 0),t.rX.Bd();case 4:case"end":return n.stop()}},null,null,null,We)})),this.Ks()},r.lX=function(t){if(this.pD!==t){var n=this.pD.Kg,i=this.pD.qg,e=this.pD.Jg,r=this.pD.$g;this.ND(),t===this.tX?((r||t.qg!==i)&&(t.qg=i),t.Jg!==e&&(t.Jg=e),n?t.Xm():t.Um()):this.Jc.retainPlaybackRateOnSourceChange?t.Jg=e:1!==e&&this.Ys(new Ap(this.BL(),1)),this.pD=t,this.RD();for(var s=0,u=this.uX;s<u.length;s++){var o=u[s];this.Ys(o)}Zs(this.uX),this.ED?t.Qm():t.Zm()}},r.RD=function(){this.pD.Zs(this.qs)},r.ND=function(){this.pD.nu(this.qs)},r.$w=function(){return t=this,e=function(n){i=n;var e=bI(n,t.Jc);t.zm(e)},r={get abr(){return t.TU.Jw},get audioTracks(){return t.Om.Jw},get autoplay(){return t.Pm},set autoplay(n){t.Pm=Boolean(n)},get buffered(){return t.NL()},get canvas(){return t.aU.Jw},get clip(){return t.pU.Jw},get currentProgramDateTime(){var n;return null!=(n=t.ly)?n:null},set currentProgramDateTime(n){t.ly=null!=n?n:void 0},get currentTime(){return t.BL()},set currentTime(n){t.OL(Number(n))},get duration(){return t.xL()},get element(){return t.wy},get ended(){return t.jg},get error(){return t.UL()},get errorObject(){return t.XL()},get loop(){return t.yM.yM},set loop(n){t.yM.yM=Boolean(n)},get metrics(){return t.pm.Jw},get muted(){return t.Zg},set muted(n){t.zL(n)},get network(){return t.RU.Jw},get paused(){return t.Kg},get playbackRate(){return t.Jg},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Jg=i},get played(){return t.YL()},get poster(){return t.wX},set poster(n){t.wX=ky(n)},get preload(){return t.Iy},set preload(n){t.Iy=n},get presentation(){return t.cU.Jw},get readyState(){return t.rg},get seekable(){return t.KL()},get seeking(){return t.$g},get source(){return i},set source(t){e(t)},get src(){return fI(t.Hm())},set src(t){e({sources:t})},get textTracks(){return t.Lm.Jw},get textTrackStyle(){return t.NU.Jw},get uid(){return t.F_},get videoHeight(){return t.tm},get videoTracks(){return t.xm.Jw},get videoWidth(){return t.nm},get volume(){return t.im},set volume(n){t.rM(Number(n))},get latency(){return t.Ny.Jw},destroy:function(){t.Bd(),t=null,i=void 0},play:function(){t.fX()},pause:function(){t.Xm()},stop:function(){i=void 0,t.Fm()},prepareWithUserAction:function(){t.qm()},addEventListener:function(t,i){n.js(t,i)},removeEventListener:function(t,i){n.Js(t,i)},setSource:function(t){e(t)}},(n=new BE(r,!0)).WC(t),r;var t,n,i,e,r},T(e,[{key:"oU",get:function(){return this.tX.oU}},{key:"aU",get:function(){return this.tX.aU}},{key:"Jc",get:function(){return this.tX.Jc}},{key:"uU",get:function(){return this.tX.uU}},{key:"qw",get:function(){return this.tX.qw}},{key:"VN",get:function(){return this.tX.fU}},{key:"cU",get:function(){return this.tX.cU}},{key:"hU",get:function(){return this.tX.hU}},{key:"pM",get:function(){return this.tX.pM}},{key:"TU",get:function(){return this.tX.TU}},{key:"Pm",get:function(){return this.tX.Pm},set:function(t){this.tX.Pm=t,this.cX()}},{key:"SU",get:function(){return this.tX.SU}},{key:"Om",get:function(){return this.tX.Om}},{key:"EU",get:function(){return this.tX.EU}},{key:"IU",get:function(){return this.tX.hU}},{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}},{key:"Mm",get:function(){return this.tX.Mm}},{key:"pm",get:function(){return this.tX.pm}},{key:"RU",get:function(){return this.tX.RU}},{key:"Lm",get:function(){return this.tX.Lm}},{key:"NU",get:function(){return this.tX.NU}},{key:"xm",get:function(){return this.tX.xm}},{key:"pU",get:function(){return this.tX.pU}},{key:"yM",get:function(){return this.tX.yM}},{key:"ly",get:function(){return this.pD.ly},set:function(t){this.pD.ly=t}},{key:"uy",get:function(){return this.tX.uy}},{key:"wy",get:function(){return this.tX.wy}},{key:"jg",get:function(){return this.tX.jg}},{key:"Zg",get:function(){return this.tX.Zg},set:function(t){this.tX.Zg=t}},{key:"Kg",get:function(){return this.pD.Kg}},{key:"wX",get:function(){return this.iX.ud||""},set:function(t){this.iX.$U=t}},{key:"Jg",get:function(){return this.tX.Jg},set:function(t){this.pD.Jg=t}},{key:"Iy",get:function(){return this.tX.Iy},set:function(t){this.tX.Iy=sE(t)}},{key:"rg",get:function(){return this.pD.rg}},{key:"$g",get:function(){return this.pD.$g}},{key:"F_",get:function(){return this.tX.F_}},{key:"tm",get:function(){return this.tX.tm}},{key:"nm",get:function(){return this.tX.nm}},{key:"im",get:function(){return this.tX.im},set:function(t){this.tX.im=t}},{key:"Ny",get:function(){return this.tX.Ny}}]),e}(Xy)}function pN(){return cN||(cN=ZC(cN=yN(WC),UC.DU),cN=ZC(cN,UC.CU)),cN}function _N(t,n){var i=Op(n),e=new(pN())(t,i),r=e.Jw;return e.AU(),e.dX(oN),w.defineProperty(r,"constructor",{value:_N}),r=vy(r),nN(e),r}gu(function(){t.dispatchEvent&&t.dispatchEvent(eN("theoplayerready"))});var bN,kN={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Xu(t)},n.decode=function(t){return Uu(t)},t}())},AN=["hls","airplay","ui"],TN=oN.Jw,SN=YA.OI.registerContentProtectionIntegration.bind(YA.OI),EN=[Df.Sf,Df.Tf,dp.Gg,Df.Uf,Df.Ef,Df.yf,Df.Cf,Df.Df,Df._f,Df.If,Df.Xf,Df.df,dp.l_,Df.Nf,Py.Q_,ku._u,ku.yu,Df.hf,Df.cf,Df.Ff],IN={_X:!1,gX:50},RN=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.QP="mX"}(bN||(bN={}));var CN,NN=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Rh=void 0,s.eN=void 0,s.Fh=void 0,s.yX=!1,s.kX=new ta,s.bX=!1,s.rX=new aN,s.pX=void 0,s._s=void 0,s.Zc=void 0,s.AX=function(){s.bX=!0},s.TX=function(){s.SX(!0)},s.Rh=n,s.eN=i,s.Fh=i.DN,s.pX=e,s._s=r,s.Fh.addEventListener("loadedmetadata",s.AX);for(var u=0;u<RN.length;u++){var o=RN[u];s.Fh.addEventListener(o,s.TX)}return s}E(i,t);var e=i.prototype;return e.EX=function(t,n){var i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,jr.awrap(this._s.As(t.hs,n));case 2:return i=r.sent,r.next=5,jr.awrap(i.uh());case 5:return e=r.sent,r.next=8,jr.awrap(this.IX(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,We)},e.RX=function(t){var n=this.Zc;return n?0!==t.ON.length&&t.ON.some(function(t){return t.Kc.hs===n.Kc}):0===t.ON.length||!this.bX},e.NX=function(t){return this.pX.NX(t),this.Rh=t,We.resolve()},e.Bs=function(){var t,n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:for(this.Ks(),this.Fh.removeEventListener("loadedmetadata",this.AX),t=0;t<RN.length;t++)n=RN[t],this.Fh.removeEventListener(n,this.TX);return i.next=5,jr.awrap(this.rX.Bd());case 5:return i.next=7,jr.awrap(this.DX());case 7:return i.next=9,jr.awrap(this.pX.I_());case 9:return i.next=11,jr.awrap(this.IX(void 0));case 11:case"end":return i.stop()}},null,this,null,We)},e.SX=function(t){t!==this.yX&&(this.yX=t,t?this.kX.Hu(void 0):this.kX=new ta)},e.IX=function(t){var n=this;return this.rX.YU(function(){return n.CX(t)})},e.CX=function(t){var i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.Fh.src){e.next=4;break}throw new n_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.Fh.src){e.next=6;break}throw new n_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!t||this.yX){e.next=9;break}return e.next=9,jr.awrap(this.kX.Uu);case 9:if(!(i=this.Zc)){e.next=14;break}return e.next=13,jr.awrap(i.eh(this.Fh));case 13:this.Zc=void 0;case 14:if(!t){e.next=18;break}return e.next=17,jr.awrap(t.ih(this.Fh));case 17:this.Zc=t;case 18:case"end":return e.stop()}},null,this,null,We)},e.zm=function(t){var n=this;return this.rX.YU(function(){return n.PX(t)})},e.PX=function(t){this.SX(!1);var n=this.eN.Jg;this.Fh.src=t,this.eN.Jg=n},e.BX=function(t){var n=this;return this.rX.YU(function(){return n.OX(t)})},e.OX=function(t){this.PX(t),this.Fh.load()},e.DX=function(){var t=this;return this.rX.YU(function(){return t.xX()})},e.xX=function(){this.SX(!1),lr(this.Fh)},T(i,[{key:"Om",get:function(){throw new l("Not implemented")}},{key:"Jc",get:function(){return this.Rh}},{key:"DN",get:function(){return this.Fh}},{key:"xm",get:function(){throw new l("Not implemented")}}]),i}(Au),DN=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.mL=function(){var t;return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.Jc,n.t0=t.LN,n.next=n.t0===Gy.Cg?4:n.t0===Gy.Pg?4:(n.t0,Gy.Dg,6);break;case 4:return this.Fh.setAttribute("crossorigin",t.LN),n.abrupt("break",8);case 6:return this.Fh.removeAttribute("crossorigin"),n.abrupt("break",8);case 8:return void 0!==t.Iy?this.Fh.preload=t.Iy:this.Fh.preload=eE.LR,void 0!==t.MN?this.Fh.title=t.MN:cr(this.Fh),n.next=12,jr.awrap(this.zm(t.cg));case 12:this.pX.zc(this,t);case 13:case"end":return n.stop()}},null,this,null,We)},i.RX=function(t){return!1},i.NX=function(t){return We.resolve(void 0)},i.Bs=function(){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return cr(this.Fh),n.next=3,jr.awrap(t.prototype.Bs.call(this));case 3:case"end":return n.stop()}},null,this,null,We)},n.LX=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Ul))},T(n,[{key:"vy",get:function(){return fE.dC(this.Fh.buffered)}},{key:"Yg",get:function(){return this.Fh.duration}},{key:"MX",get:function(){var t=this.Yg;if(!isFinite(t))return!1;var n=this.vy;return 0!==n.N_&&t-n.LD(n.N_-1)<1/6}},{key:"Iy",get:function(){return this.Fh.preload},set:function(t){this.Fh.preload=t}},{key:"Ry",get:function(){return fE.dC(this.Fh.seekable)}},{key:"UX",get:function(){return this.vy}},{key:"XX",get:function(){if(fr(this.Fh)&&(this.Fh.videoWidth>0||this.Fh.videoHeight>0))return this.vy}}]),n}(NN),PN=function(t){function n(n){var i;return(i=t.call(this,Df.Ef)||this).currentTime=n,i}return E(n,t),n}(Su),xN=function(t){function n(){return t.call(this,Df.yf)||this}return E(n,t),n}(Su);!function(t){t.FX="HX"}(CN||(CN={}));var BN,ON,LN=[CN.FX];!function(t){t[t.zX=0]="zX",t[t.Gf=1]="Gf",t[t.VX=2]="VX"}(BN||(BN={})),function(t){t.WX="GX"}(ON||(ON={}));var MN=function(t){function n(n){var i;return(i=t.call(this,ON.WX)||this).qX=n,i}return E(n,t),n}(Su),jN=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).YX=fE.gC(),n}E(n,t);var i=n.prototype;return i.jX=function(t,n){var i=new fE([t,n]);this.YX=this.YX.$D(i),this.Ys(new MN(i))},i.QX=function(t,n){this.YX=this.YX.nC(new fE([t,n]))},i.I_=function(){this.YX=fE.gC()},i.Bd=function(){this.Ks()},T(n,[{key:"ZX",get:function(){return this.YX}}]),n}(Au);function FN(t,n){return void 0===n&&(n=new gw({highWaterMark:1/0})),new tw(new HN(t,n),{highWaterMark:0})}var UN,HN=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.ev=void 0,this.KX=void 0,this.JX=void 0,this.Ev=[],this.Iv=0,this.YM=void 0,this.$X=!1,this.tF=void 0,this.nF=function(t){return t.done?(i.iF(),void i.YM.close()):(i.Ev.push(t.value),i.Iv+=i.KX(t.value),i.$X&&i.iF(),i.eF()?i.ev.read().then(i.nF):void 0)},this._w=function(t){i.iF(),i.YM.error(t)},this.ev=t.getReader(),this.KX=r,this.JX=u}var n=t.prototype;return n.start=function(t){this.YM=t,this.eF()&&this.rF()},n.pull=function(){this.Ev.length>0?this.iF():this.$X=!0,this.eF()&&this.rF()},n.cancel=function(t){return Zs(this.Ev),this.Iv=0,this.$X=!1,this.ev.cancel(t)},n.iF=function(){if(0!==this.Ev.length){var t=this.Ev;this.Ev=[],this.Iv=0,this.$X=!1,this.YM.enqueue(t)}},n.eF=function(){return!!this.$X||this.JX-this.Iv>0},n.rF=function(){var t=this;if(!this.tF){var n=this.ev.read().then(this.nF).catch(this._w);this.tF=n;var i=function(){t.tF===n&&(t.tF=void 0)};n.then(i,i)}},t}(),XN=function(){function t(){this.sF=[],this.Nu=0}var n=t.prototype;return n.FU=function(t){this.sF.push(t),this.Nu+=t.byteLength},n.uF=function(t){if(this.Nu<=t)return this.oF();for(var n=this.sF,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(zo(n[e],0,s)),i+=s}return{sF:r,Nu:i}},n.aF=function(t){var n=this.uF(t);return 1===n.sF.length?n.sF[0]:$u(n.sF,n.Nu)},n.oF=function(){return{sF:this.sF,Nu:this.Nu}},n.cF=function(t){if(this.Nu<=t)return this.hF();for(var n=this.sF,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(zo(n[0],0,s)),n[0]=zo(n[0],s),i+=s}return this.Nu-=i,{sF:r,Nu:i}},n.fF=function(t){var n=this.cF(t);return 1===n.sF.length?n.sF[0]:$u(n.sF,n.Nu)},n.hF=function(){var t=this.oF();return this.sF=[],this.Nu=0,t},n.vF=function(){var t=1===this.sF.length?this.sF[0]:$u(this.sF,this.Nu);return this.sF=[],this.Nu=0,t},t}();!function(t){t[t.lF=0]="lF",t[t.dF=1]="dF",t[t.wF=2]="wF"}(UN||(UN={}));var zN=function(){var t=n.prototype;function n(){this.Ev=new XN,this.we=UN.lF,this._F=0,this.gF=0,this.mF()}return t.yF=function(t,n){},t.kF=function(){},t.bF=function(t){this.Ev.FU(t),this.pF(!1)},t.AF=function(){this.pF(!0)},t.TF=function(){return this.we!==UN.lF||0!==this.Ev.Nu},t.pF=function(t){for(;0!==this.Ev.Nu;){if(!t&&this._F>this.Ev.Nu)return;switch(this.we){case UN.lF:this.SF(t);break;case UN.dF:this.EF(t);break;case UN.wF:this.IF(t)}}},t.mF=function(){this.we=UN.lF,this._F=8},t.SF=function(t){var n=Wo(this.Ev.aF(this._F)),i=new Ko,e=nk.IA(n,i);if(!e.pA)return this._F=e.NA,void(t&&this._F>this.Ev.Nu&&this.RF(this.Ev.Nu));var r=e.RA.us,s=e.RA.Nu;0===s&&(s=1/0),this.yF(r,s),this.NF(r)?this.DF(s):this.RF(s)},t.DF=function(t){this.we=UN.dF,this._F=t},t.EF=function(t){var n=Wo(this.Ev.fF(this._F)),i=new Ko,e=nk.AA(n,i,!t);if(!e.pA)throw new tk(i.Du);this.kF(),this.CF(e.TA),this.mF()},t.RF=function(t){this.we=UN.wF,this._F=0,this.gF=t},t.IF=function(t){var n=this.Ev.cF(this.gF);this.gF-=n.Nu;for(var i=0,e=n.sF;i<e.length;i++){var r=e[i];this.PF(r)}(0===this.gF||t&&this.gF===1/0)&&(this.kF(),this.mF())},n}(),VN=function(t){function n(n){var i;return(i=t.call(this)||this).YM=void 0,i.BF=void 0,i.OF=void 0,i.xF=void 0,i.BF=n,i}E(n,t);var i=n.prototype;return i.start=function(t){this.YM=t},i.transform=function(t){this.bF(t)},i.flush=function(){this.AF()},i.NF=function(t){return t===cb.wp||t===cb.Hp||t===cb.Kp},i.CF=function(t){var n=this.LF(t);this.YM.enqueue(n)},i.PF=function(t){this.YM.enqueue(t)},i.LF=function(t){var n=qo(t.Xi.Xi);switch(t.us){case"moov":return this.MF(n);case"sidx":return this.UF(n);case"moof":return this.XF(n)}return n},i.MF=function(t){for(var n=Nc(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof Wh?n.boxes[i]=this.FF(e):e instanceof qh?n.boxes[i]=this.HF(e):e instanceof Kh&&this.zF(e)}for(var r=0,s=n.boxes;r<s.length;r++){var u=s[r];u instanceof Xh&&this.VF(u)}return n.serialize().join()},i.FF=function(t){this.OF=t.timescale;var n=qN(lt.fromNumber(t.duration,!0),this.WF,this.BF);return 0!==n.getHighBits()?this.HF(function(t){return new qh({creation:lt.fromNumber(t.creationTime,!0),modification:lt.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:lt.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.BF,t.duration=n.toInt(),t)},i.HF=function(t){return this.OF=t.timescale,t.timescale=this.BF,t.duration=qN(t.duration,this.WF,this.BF),t},i.zF=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Yh?t.boxes[n]=this.GF(i):i instanceof Qh?t.boxes[n]=this.qF(i):i instanceof _h?this.YF(i):i instanceof hh&&this.jF(i)}},i.GF=function(t){var n=qN(lt.fromNumber(t.duration,!0),this.WF,this.BF);return 0!==n.getHighBits()?this.qF(function(t){return new Qh({creation:lt.fromNumber(t.creationTime,!0),modification:lt.fromNumber(t.modificationTime,!0),duration:lt.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.qF=function(t){return t.duration=qN(t.duration,this.WF,this.BF),t},i.YF=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof gh?t.boxes[n]=this.QF(i):i instanceof mh&&(t.boxes[n]=this.ZF(i))}},i.QF=function(t){this.xF=t.timescale;var n=qN(lt.fromNumber(t.duration,!0),this.KF,this.BF);return 0!==n.getHighBits()?this.ZF(function(t){return new mh({creation:lt.fromNumber(t.creationTime,!0),modification:lt.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:lt.fromNumber(t.duration,!0)},t.language,t.flags)}(t)):(t.timescale=this.BF,t.duration=n.toInt(),t)},i.ZF=function(t){return this.xF=t.timescale,t.timescale=this.BF,t.duration=qN(t.duration,this.KF,this.BF),t},i.jF=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof uh?this.JF(e):e instanceof oh&&this.tH(e)}},i.JF=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=WN(e.mediaTime,this.WF,this.BF),e.segmentDuration=WN(e.segmentDuration,this.WF,this.BF)}},i.tH=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=qN(e.mediaTime,this.WF,this.BF),e.segmentDuration=qN(e.segmentDuration,this.WF,this.BF)}},i.VF=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Uh?this.nH(i):i instanceof Mh?t.boxes[n]=this.iH(i):i instanceof jh&&(t.boxes[n]=this.eH(i))}},i.nH=function(t){t.defaultSampleDuration=WN(t.defaultSampleDuration,this.KF,this.BF)},i.iH=function(t){var n=qN(lt.fromNumber(t.fragmentDuration,!0),this.WF,this.BF);return 0!==n.getHighBits()?this.eH(function(t){return new jh(lt.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.eH=function(t){return t.fragmentDuration=qN(t.fragmentDuration,this.WF,this.BF),t},i.UF=function(t){var n=Dc(t);return(n=n instanceof yc?this.rH(n):this.sH(n)).serialize().join()},i.rH=function(t){var n=t.timescale,i=qN(lt.fromNumber(t.earliestPresentationTime,!0),n,this.BF);if(0!==i.getHighBits())return this.sH(function(t){return new pc(t.referenceId,t.timescale,lt.fromNumber(t.earliestPresentationTime,!0),lt.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.BF,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var s=r[e];s.subsegmentDuration=WN(s.subsegmentDuration,n,this.BF)}return t},i.sH=function(t){var n=t.timescale;t.timescale=this.BF,t.earliestPresentationTime=qN(t.earliestPresentationTime,n,this.BF);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=WN(r.subsegmentDuration,n,this.BF)}return t},i.XF=function(t){for(var n=Pc(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var s=r[e];s instanceof cc&&this.uH(s)}var u=n.getSize();if(u!==i)for(var o=u-i,a=0,h=n.boxes;a<h.length;a++){var c=h[a];c instanceof cc&&this.oH(c,o)}return n.serialize().join()},i.uH=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof uc?this.aH(i):i instanceof ec?t.boxes[n]=this.cH(i):i instanceof rc?t.boxes[n]=this.hH(i):i instanceof ac&&this.fH(i)}},i.aH=function(t){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=WN(t.defaultSampleDuration,this.KF,this.BF))},i.cH=function(t){var n=qN(lt.fromNumber(t.baseMediaDecodeTime,!0),this.KF,this.BF);return 0!==n.getHighBits()?this.hH(function(t){return new rc(lt.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t)):(t.baseMediaDecodeTime=n.toInt(),t)},i.hH=function(t){return t.baseMediaDecodeTime=qN(t.baseMediaDecodeTime,this.KF,this.BF),t},i.fH=function(t){for(var n,i,e,r=0,s=0,u=0,o=t.samples;u<o.length;u++){var a=o[u];if(void 0!==a.duration){var h=WN(s+=a.duration,this.KF,this.BF);a.duration=h-r,r=h}void 0!==a.compositionTimeOffset&&(a.compositionTimeOffset=(n=a.compositionTimeOffset,i=this.KF,e=this.BF,lt.fromInt(n,!1).multiply(e).divide(i).toNumber()))}},i.oH=function(t,n){var i=Vs(t.boxes,GN);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var s=r[e];s instanceof ac&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}},T(n,[{key:"WF",get:function(){if(void 0===this.OF)throw new l("Expected to have found a movie header timescale.");return this.OF}},{key:"KF",get:function(){if(void 0===this.xF)throw new l("Expected to have found a media header timescale.");return this.xF}}]),n}(zN);function WN(t,n,i){return lt.fromInt(t,!0).multiply(i).divide(n).toNumber()}function qN(t,n,i){return Q_.Zk(t).Tb(Q_.Kk(i,!0)).Rb(Q_.Kk(n,!0)).fb()}function GN(t){return t instanceof uc}var $N,YN,QN,ZN=1e5,KN=function(){function t(t){this.vH=void 0,this.vH=new VN(t)}return t.prototype.lH=function(t){return t.pipeThrough(new kw(this.vH))},t}();function JN(t,n,i){var e=fo(t,n);if(e!==i)throw new v("Expected descriptor with tag "+i+", but found "+e)}function tD(t,n){JN(t,n,$N.dH);var i,e,r,s=nD(t,n),u=n.Du+s,o=yo(t,n),a=fo(t,n),h=0!=(64&a),c=0!=(32&a),f=31&a;(0!=(128&a)&&(i=yo(t,n)),h)&&(e=So(t,n,fo(t,n)));c&&(r=So(t,n,2));var l=function(t,n){JN(t,n,$N.wH);var i,e=nD(t,n),r=n.Du+e,s=fo(t,n),u=fo(t,n),o=u>>2,a=0!=(2&u),h=mo(t,n,3),c=_o(t,n),f=_o(t,n);if(n.Du<r){var l=function(t,n){return t.getUint8(n.Du)}(t,n);l===$N._H&&(i=function(t,n){JN(t,n,$N._H);var i=nD(t,n),e=vo(t,n,i);return{gH:$N._H,mH:e}}(t,n))}return n.Bu(r),{gH:$N.wH,yH:s,kH:o,bH:a,pH:h,AH:c,TH:f,SH:i}}(t,n);return n.Bu(u),{gH:$N.dH,X_:o,EH:i,ud:e,IH:f,RH:r,NH:l}}function nD(t,n){for(var i=0,e=0;e<4;e++){var r=fo(t,n);if(i=i<<7|127&r,!(128&r))break}return i}function iD(t,n){for(var i=fo(t,n),e=fo(t,n),r=fo(t,n),s=fo(t,n),u=3&fo(t,n),o=31&fo(t,n),a=[],h=0;h<o;h++){var c=yo(t,n);a.push(vo(t,n,c))}for(var f=fo(t,n),l=[],v=0;v<f;v++){var d=yo(t,n);l.push(vo(t,n,d))}return{DH:i,CH:e,PH:r,BH:s,OH:u,xH:a,LH:l}}function eD(t,n){var i=Kb(uk.xA(t),cb.Hp);if(i&&0!==i.ZA.length)return rD(i,n)}function rD(t,n){for(var i,e=0,r=t.ZA;e<r.length;e++){var s,u=r[e],o=null==(s=u.AS)?void 0:s.AS;o&&function(){var t=u.RA.cT,e=Vs(n.ZA,function(n){return n.cT===t}),r=sb.Zk(o,e.Cb);i=i?sb.xb(i,r):r}()}return i}function sD(t){var n=Kb(uk.xA(t),cb.wp);if(n){for(var i=n.RA.Cb,e=[],r=0,s=n.ZA;r<s.length;r++){for(var u=s[r],o=u.RA.cT,a=u.sT.RA.Cb,h=void 0,c=void 0,f=0,l=u.sT.gT.kT.pT.TT;f<l.length;f++){var v,d,w=uD(l[f]);if(w)h=null!=(v=w.MH)?v:h,c=null!=(d=w.UH)?d:c}e.push({cT:o,Cb:a,XH:{MH:h,UH:c,FH:void 0}})}return{Cb:i,ZA:e}}}function uD(t){var n,i;if(t.us===cb.Rp)n=function(t){return"avc1."+oD(t.CH,2)+oD(t.PH,2)+oD(t.BH,2)}(iD(Wo(t.ZT.Xi),new Ko));else if(t.us===cb.Dp||t.us===cb.Cp){var e=function(t,n){for(var i=n.Mu(),e=Ju(t,i,8),r=Ju(t,i,2),s=Ju(t,i,1),u=Ju(t,i,5),o=Ju(t,i,32),a=[],h=0;h<6;h++)a.push(Ju(t,i,8));var c=Ju(t,i,8);i.Cu(4);var f=Ju(t,i,12);i.Cu(6);var l=Ju(t,i,2);i.Cu(6);var v=Ju(t,i,2);i.Cu(5);var d=Ju(t,i,3);i.Cu(5);for(var w=Ju(t,i,3),g=Ju(t,i,16),m=Ju(t,i,2),y=Ju(t,i,3),p=Ju(t,i,1),_=Ju(t,i,2),b=Ju(t,i,8),k=[],A=0;A<b;A++){var T=Ju(t,i,1);i.Cu(1);for(var S=Ju(t,i,6),E=Ju(t,i,16),I=[],R=0;R<E;R++){var C=Ju(t,i,16),N=vo(t,new Ko(i.Du>>3),C);i.Cu(8*C),I.push({HH:C,zH:N})}k.push({VH:T,WH:S,GH:E,qH:I})}return{DH:e,YH:r,jH:s,QH:u,ZH:a,KH:c,JH:f,$H:l,tz:o,nz:v,iz:d,ez:w,rz:g,sz:y,oz:p,cz:m,OH:_,fz:b,vz:k}}(Wo(t.tS.Xi),new Ko);n=function(t,n){var i=t.toString()+".";switch(n.YH){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.QH.toString()+".",i+=(e=n.tz,r=e,r=(r=(r=(r=(r=r>>>1&1431655765|(1431655765&r)<<1)>>>2&858993459|(858993459&r)<<2)>>>4&252645135|(252645135&r)<<4)>>>8&16711935|(16711935&r)<<8)>>>16|r<<16).toString(16)+".",n.jH){case 0:i+="L";break;case 1:i+="H";break;default:return}var e,r;i+=n.KH.toString();for(var s=n.ZH.reduce(function(t,n){return 0===t?n:n+1},0),u=0;u<s;u++)i+="."+n.ZH[u].toString(16).toUpperCase();return i}(t.us,e)}else{if(t.us!==cb.Op)return(t.us===cb.Fp||t.us===cb.Xp)&&t.eS?uD(t.eS):void 0;i=function(t){var n=t.NH;switch(n.yH){case YN.lz:return function(t){var n;if(null==(n=t.SH)||!n.mH)return"mp4a.40";return"mp4a.40."+function(t,n){var i=Ju(t,n,5);31===i&&(i=32+Ju(t,n,6));var e,r=Ju(t,n,4);return 15===r&&(e=Ju(t,n,24)),{wz:i,_z:r,gz:e,mz:Ju(t,n,4)}}(Wo(t.SH.mH),new to).wz}(n);case YN.yz:return"mp4a.40.2";case YN.kz:return"mp4a.40.34"}}(tD(Wo(t.WT.Xi),new Ko))}return{MH:n,UH:i,FH:void 0}}function oD(t,n){return Es(t.toString(16),n,"0")}function aD(t,n){var i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.us,e.next=e.t0===BN.zX?3:e.t0===BN.Gf?4:e.t0===BN.VX?9:10;break;case 3:return e.abrupt("return",t);case 4:return e.next=6,jr.awrap(jw(t.Xi,n));case 6:return i=e.sent,hu(n),e.abrupt("return",{us:BN.zX,Xi:new _(i)});case 9:throw new l("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 10:case"end":return e.stop()}},null,null,null,We)}!function(t){t[t.dH=3]="dH",t[t.wH=4]="wH",t[t._H=5]="_H"}($N||($N={})),function(t){t[t.lz=64]="lz",t[t.yz=103]="yz",t[t.kz=107]="kz"}(YN||(YN={})),function(t){t[t.bz=0]="bz",t[t.pz=1]="pz",t[t.yz=2]="yz",t[t.Az=5]="Az",t[t.Tz=34]="Tz"}(QN||(QN={}));var hD=20,cD=M.Cn,fD=function(t){function n(n,e,r,s,u){var o;return(o=t.call(this)||this).Sz=void 0,o.Ez=void 0,o.Iz=void 0,o.Rz=void 0,o.Nz=void 0,o.lL=hD,o.dL=iC,o.Dz=!1,o.Cz=!1,o.Pz=void 0,o.Bz=new uu,o.Oz=void 0,o.xz=!1,o.Lz=void 0,o.Mz=!1,o.Uz=void 0,o.Xz=function(){o.Dz=!1},o.Sz=e,o.Ez=n,o.Iz=r,o.Iz.addEventListener("updateend",o.Xz),o.Rz=s,o.Nz=u,o.Mz=lD(s.Ul,u),i.Or.Qe&&(o.Oz=new KN(ZN)),o}E(n,t);var e=n.prototype;return e.Fz=function(t,n,i){var e=this;switch(t.us){case BN.zX:case BN.Gf:return this.Hz(function(i){return e.zz(t,n,i)},i);case BN.VX:throw new l("Opaque segments are not supported on web.")}},e.Vz=function(t,n){var i=this;switch(t.us){case BN.zX:return this.Hz(function(n){return i.Wz(t,n)},n);case BN.Gf:throw new l("Streaming initialization segments are not supported on web.");case BN.VX:throw new l("Opaque initialization segments are not supported on web.")}},e.Wz=function(t,n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Mz){i.next=3;break}return this.Uz=sD(Wo(t.Xi)),i.abrupt("return");case 3:return i.next=5,jr.awrap(this.Gz(t,void 0,n));case 5:cD&&(this.xz=!1,this.Lz=t);case 6:case"end":return i.stop()}},null,this,null,We)},e.zz=function(t,n,i){var e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(cD&&this.xz&&this.Lz)){u.next=3;break}return u.next=3,jr.awrap(this.Wz(this.Lz,i));case 3:if(u.prev=3,hu(i),!this.Mz||!this.Uz){u.next=12;break}return u.next=8,jr.awrap(aD(t,i));case 8:r=u.sent,o=r.Xi,a=this.Uz,h=void 0,c=void 0,f=void 0,h=uk.xA(Wo(o)),c=rD(Kb(h,cb.Hp),a),f=Kb(h,cb.jp),s={Zy:c.Bk(),qz:f.Xi},t={us:BN.zX,Xi:s.qz},n=Fr({},n,{cp:s.Zy+(null!=(e=n.cp)?e:0)});case 12:return u.next=14,jr.awrap(this.Gz(t,n,i));case 14:this.Ys(new Su(CN.FX));case 15:return u.prev=15,t.us===BN.Gf&&t.Xi.cancel(new ou).catch(Z),u.finish(15);case 18:case"end":return u.stop()}var o,a,h,c,f},null,this,[[3,,15,18]],We)},e.Gz=function(t,n,e){var r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:hu(e),n&&this.Yz(n),u.t0=t.us,u.next=u.t0===BN.zX?5:u.t0===BN.Gf?13:21;break;case 5:if(!i.Or.Qe){u.next=10;break}return r=this.Oz.lH(Lw(t.Xi)),u.next=9,jr.awrap(this.jz(r,e));case 9:return u.abrupt("return",u.sent);case 10:return u.next=12,jr.awrap(this.Qz(t.Xi));case 12:return u.abrupt("return",u.sent);case 13:if(!i.Or.Qe){u.next=18;break}return s=this.Oz.lH(t.Xi),u.next=17,jr.awrap(this.jz(s,e));case 17:return u.abrupt("return",u.sent);case 18:return u.next=20,jr.awrap(this.jz(t.Xi,e));case 20:return u.abrupt("return",u.sent);case 21:case"end":return u.stop()}},null,this,null,We)},e.jz=function(t,n){var i,e,r,s,u,o,a,h;return jr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=this.Ez.vy,e=FN(t),r=e.getReader(),s=!1,c.prev=4;case 5:return c.next=8,jr.awrap(lu(r.read(),n));case 8:if(!(u=c.sent).done){c.next=12;break}return s=!1,c.abrupt("break",19);case 12:return hu(n),o=Gu(u.value),s=!0,c.next=17,jr.awrap(this.Qz(o));case 17:c.next=5;break;case 19:c.next=36;break;case 21:if(c.prev=21,c.t0=c.catch(4),r.cancel(c.t0).catch(Z),!s){c.next=35;break}return c.next=27,jr.awrap(this.Zz());case 27:a=this.Ez.vy.YD(i.jD()),h=0;case 29:if(!(h<a.N_)){c.next=35;break}return c.next=32,jr.awrap(this.Kz(a.OD(h),a.LD(h)));case 32:h++,c.next=29;break;case 35:throw c.t0;case 36:case"end":return c.stop()}},null,this,[[4,21]],We)},e.Jz=function(t,n){var i=this;return this.Hz(function(){return i.$z(t,n)})},e.$z=function(t,n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Iz.appendWindowStart===t&&this.Iz.appendWindowEnd===n){i.next=6;break}return i.next=3,jr.awrap(this.Zz());case 3:this.Iz.appendWindowStart=0,this.Iz.appendWindowEnd=n,this.Iz.appendWindowStart=t;case 6:case"end":return i.stop()}},null,this,null,We)},e.Yz=function(t){this.Iz.timestampOffset!==t.cp&&(this.Iz.timestampOffset=t.cp)},e.Qz=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Iz.appendBuffer(t),this.Cz=!0,n.next=4,jr.awrap(this.tV());case 4:case"end":return n.stop()}},null,this,null,We)},e.nV=function(t,n,i){var e=this;return this.Hz(function(i){return e.Kz(t,n,i)},i)},e.Kz=function(t,n,i){return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return hu(i),this.Iz.remove(t,n),e.next=4,jr.awrap(this.tV());case 4:case"end":return e.stop()}},null,this,null,We)},e.tV=function(){var t=this,n=this.Ez.vy;return new We(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},a=function(){s=!1,r="aborted"},h=function(){c(),s&&!r?(n.oC(t.Ez.vy)||t.Ys(new Su(CN.FX)),i()):e(new l(r))},c=function(){t.Iz.removeEventListener("update",u),t.Iz.removeEventListener("error",o),t.Iz.removeEventListener("abort",a),t.Iz.removeEventListener("updateend",h)};t.Iz.addEventListener("update",u),t.Iz.addEventListener("error",o),t.Iz.addEventListener("abort",a),t.Iz.addEventListener("updateend",h)})},e.iV=function(){var t=this;return this.Hz(function(){return t.Zz()})},e.Zz=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Sz.rg===CD.Hd){t.next=2;break}return t.abrupt("return");case 2:cD&&(this.xz=!0),this.Iz.updating&&(this.Dz=!0);try{this.Iz.abort()}catch(t){0,this.Dz=!1}if(!this.ax){t.next=8;break}return t.next=8,jr.awrap(this.tV().catch(Z));case 8:case"end":return t.stop()}},null,this,null,We)},e.eV=function(){return"function"==typeof this.Iz.changeType},e.NX=function(t){var n;this.rV(),this.Sz.rg!==CD.sV&&(this.Rz=t,this.Nz=null!=(n=xD(t.Ul))?n:t.Ul,this.Mz=lD(t.Ul,this.Nz),this.eV()&&this.Iz.changeType(this.Nz))},e.uV=function(){this.Sz.rg!==CD._f||this.Pz||this.ax||(this.Iz.timestampOffset=this.Iz.timestampOffset,this.Sz.oV())},e.Hz=function(t,n){var i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.rV(),(i=new uu).Fs(this.Bz.zs),n&&i.Fs(n),e.prev=4,this.Pz=t(i.zs),e.next=8,jr.awrap(this.Pz);case 8:if(this.Sz.oV(),!this.ax){e.next=12;break}return e.next=12,jr.awrap(this.tV());case 12:return e.prev=12,this.Pz=void 0,i.Bs(),e.finish(12);case 16:case"end":return e.stop()}},null,this,[[4,,12,16]],We)},e.rV=function(){if(this.Pz)throw new l("Internal error")},e.Bs=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ks(),this.Bz.Xs(),!this.Pz){t.next=6;break}return t.next=5,jr.awrap(this.Pz.catch(Z));case 5:this.Pz=void 0;case 6:this.Iz.removeEventListener("updateend",this.Xz);case 7:case"end":return t.stop()}},null,this,null,We)},T(n,[{key:"sL",get:function(){return this.lL},set:function(t){this.lL=t}},{key:"cL",get:function(){return this.dL},set:function(t){this.dL=t}},{key:"ax",get:function(){return this.Dz||this.Iz.updating}}]),n}(Au);function lD(t,n){return ks(t,"audio/mp4")&&ks(n,"audio/mpeg")}var vD=function(){function t(t,n){this.aV=void 0,this.Iz=void 0,this.cV=void 0,this.aV=n,this.Iz=t}var n=t.prototype;return n.MX=function(){return!!this.cV&&this.vy.zD().QN(this.cV)},n.hV=function(){var t=this.vy;this.cV=t.N_>0?t.LD(t.N_-1):0,this.aV.fV()},n.uV=function(){this.cV=void 0},T(t,[{key:"vy",get:function(){if(this.aV.rg===CD.sV)return fE.gC();var t=fE.dC(this.Iz.buffered).YD(new fE([0,1/0])),n=this.cV;return void 0!==n&&t.N_>0&&t.LD(t.N_-1)===n&&(t=t.$D(fE._C(n))),t}}]),t}();function dD(t){var n=t.hh("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function wD(t,n){var i=gD(t)||mD(t),e=gD(n)||mD(n);return!i&&!e||t===n}function gD(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function mD(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function yD(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],a=e[2];if(s!==o)return!1;if(Number(u)!==Number(a))return!1}return!0}function pD(t,n,i,e,r,s,u){var o=new vD(r,t),a=new fD(o,t,r,i,s);return new _D(t,n,i,e,o,a,u)}var _D=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Sz=void 0,a.Rh=void 0,a.vV=void 0,a.eN=void 0,a.Sh=void 0,a.lV=void 0,a.Ez=void 0,a.dV=void 0,a.wV=Hr(),a.Sz=n,a.Rh=e,a.Sh=e.Ul,a.vV=r,a.eN=i,a.Ez=s,a.dV=u,a.lV=o,a.dV.js(CN.FX,a.qs),a}E(n,t);var i=n.prototype;return i.MX=function(){return this.Ez.MX()},i.hV=function(){this.Ez.hV()},i.uV=function(){this.Ez.uV(),this.dV.uV()},i._V=function(t,n){this.lV.jX(t,n)},i.gV=function(t,n){this.lV.QX(t,n)},i.mV=function(){return this.dV.iV()},i.Fz=function(t,n,i){return this.dV.Fz(t,n,i)},i.Vz=function(t,n,i){return this.dV.Vz(t,i)},i.Jz=function(t,n){return this.dV.Jz(t,n)},i.Vc=function(t,n,i){var e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.gV(t,n),e=this.vy,s.next=4,jr.awrap(this.dV.nV(t,n,i));case 4:r=0!==e.N_&&0===this.vy.N_,(M.xn||M.Tn)&&r&&this.eN.Bu(this.eN.qg);case 6:case"end":return s.stop()}},null,this,null,We)},i.RX=function(t){var n=t.Ul;if(this.Sh===n)return!0;var i=this.wV.get(n);if(void 0!==i)return i;var e=this.yV(t);return this.wV.set(n,e),e},i.yV=function(t){var n=xD(t.Ul);if(void 0===n)return!1;var i=Xc(this.Sh),e=Xc(n),r=dD(i),s=dD(e);if(this.dV.eV()){if(!function(t,n){return ru(t,n,wD)}(r,s))return!1}else{if(i.us!==e.us)return!1;if(!function(t,n){return ru(t,n,yD)}(r,s))return!1}return!0},i.NX=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.Ul,this.Sh!==n&&(this.wV.clear(),this.dV.NX(t),this.Sh=n),this.Rh=t,this.Sz.kV();case 4:case"end":return i.stop()}},null,this,null,We)},i.Bs=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.wV.clear(),this.Ks(),this.lV.Bd(),t.prev=3,this.dV.Js(CN.FX,this.qs),t.next=7,jr.awrap(this.dV.Bs());case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},null,this,[[3,9]],We)},T(n,[{key:"vy",get:function(){return this.Ez.vy}},{key:"Jc",get:function(){return this.Rh}},{key:"Ul",get:function(){return this.Sh}},{key:"bV",get:function(){return this.vV}},{key:"pV",get:function(){return this.lV.ZX}},{key:"sL",get:function(){return this.dV.sL},set:function(t){this.dV.sL=t}},{key:"cL",get:function(){return this.dV.cL},set:function(t){this.dV.cL=t}},{key:"ax",get:function(){return this.dV.ax}}]),n}(Au),bD=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.AV=void 0,this.OD=t,this.LD=n,this.TV=i,this.SV=e,this.AV=JI()}return t.prototype.EV=function(){var t=this.OD,n=this.LD;if(this.TV||this.SV){var i=.001*(JI()-this.AV);this.TV&&(t+=i),this.SV&&(n+=i)}return t>=n?fE.gC():new fE([t,n])},t}(),kD=100,AD=1e3,TD=1e4,SD=.01,ED=[Df.Sf,Df.Tf,Df.Cf,Df.Df,Df._f,Df.If,dp.l_,Py.Q_],ID=function(){function t(t,n){var e=this;this.DE=Zy.xg,this.RV=!1,this.NV=[],this.DV=void 0,this.CV=0,this.PV=0,this.BV=0,this.OV=0,this.xV=0,this.LV=AD,this.MV=function(t){var n=e.eN.qg;t.qX.QN(n)&&e.UV(n)},this.XV=tt(function(){e.FV(dp.l_)},kD),this.HV=tt(function(){e.FV(Df.Ef)},kD),this.zV=function(){e.VV()?e.WV():e.GV()},this.qV=function(){var t=e.CV,n=e.BV,r=e.eN.qg,s=i.Je(),u=t!==r;if(u||!e.VV())return e.CV=r,e.BV=s,void(u&&(e.xV=0,e.LV=AD));if(n>0&&s>n+e.LV){var o=r+e.xV*SD,a=e.Ez.vy;a.QN(o)||(o=e.YV(r,a)),e.CV=o,e.BV=s,e.xV++,e.LV=g.min(2*e.LV,TD),e.eN.Bu(o)}},this.Ez=t,this.eN=n,this.eN.js(dp.l_,this.XV),this.eN.js(Df.Ef,this.HV),this.eN.js(ED,this.zV)}var n=t.prototype;return n.jV=function(t){this.NV.push(t),t.js(ON.WX,this.MV)},n.Bd=function(){var t=this;this.GV(),this.DE=Zy.xg,this.eN.Js(dp.l_,this.XV),this.eN.Js(Df.Ef,this.HV),this.eN.Js(ED,this.zV),this.NV.forEach(function(n){return n.Js(ON.WX,t.MV)}),void 0!==this.DV&&(i.qn(this.DV),this.DV=void 0),this.RV=!0},n.FV=function(t){if(!this.RV){var n=this.eN.rg;if(n<=Zy.Mg){var i=this.eN.qg,e=this.Ez.vy,r=e.iC(i),s=e.LD(r);-1!==r&&(t===dp.l_&&n<this.DE||t===Df.Ef&&n===this.DE)&&s<i+.5&&(i=s),this.UV(i)}t===dp.l_&&(this.DE=n)}},n.UV=function(t){var n=this;if(this.eN.jg)return!1;var e=this.ZX.zD().nC(this.Ez.vy),r=e.iC(t);if(-1!==r&&!(g.abs(e.OD(r)-e.LD(r))<=.001)){if(i.Xw){if(void 0!==this.DV)return!1;this.PV=this.eN.qg,this.DV=i.Yn(function(){n.PV===n.eN.qg&&n.eN.Bu(e.LD(r)),n.DV=void 0},1500)}else this.eN.Bu(e.LD(r));return!0}return!1},n.WV=function(){0===this.OV&&(this.OV=i.yr(this.qV,250))},n.GV=function(){0!==this.OV&&(i.pr(this.OV),this.OV=0),this.eN.$g||(this.BV=0)},n.VV=function(){return!this.eN.Kg&&!this.eN.$g&&0!==this.eN.Jg&&!this.eN.jg&&!this.eN.wu&&this.eN.rg>=Zy.Ug},n.YV=function(t,n){var i=n.iC(t);return i>-1?n.LD(i):t},T(t,[{key:"ZX",get:function(){return this.NV.reduce(function(t,n){return t.$D(n.ZX)},fE.gC())}}]),t}();function RD(t){var n=[];if(t.QV&&n.push(t.QV.vy),t.ZV&&n.push(t.ZV.vy),0===n.length)return fE.gC();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.N_>0&&(i=g.max(i,r.LD(r.N_-1)))}for(var s=t.MX,u=new fE([0,i],[!0,s]),o=0;o<n.length;o++){var a=n[o];s&&a.N_>0&&(a=a.$D(new fE([a.LD(a.N_-1),i],[!0,!0]))),u=u.YD(a)}return u}var CD,ND=M.Sn||M.En;!function(t){t.sV="closed",t.Hd="open",t._f="ended"}(CD||(CD={}));var DD=function(){function t(){}return t.prototype.KV=function(){return new MediaSource},t}(),PD=function(t){function n(n,i,e,r,s){var u;return void 0===s&&(s=new DD),(u=t.call(this,n,i,e,r)||this).JV=void 0,u.$V=void 0,u.tW=void 0,u.nW=new bD(0,1/0),u.rN=void 0,u.iW=void 0,u.eW=void 0,u.rW=!1,u.sW=function(){u.uW()},u.oW=function(){u.eN.oW()},u.JV=s,u.rN=u.JV.KV(),u.eN.js(Df.Cf,u.sW),u.eW=new ID(Kt(u),u.eN),u}E(n,t);var i=n.prototype;return i.aW=function(t){if(p(t)||t<0)throw new l("Invalid duration");this.cW()?this.hW(t):this.iW=t},i.hW=function(t){var n=t===1/0,i=n?Lt:t;if(n&&this.rN.setLiveSeekableRange){var e=g.pow(2,39);this.rN.setLiveSeekableRange(0,e)}this.rN.duration=i,this.iW=void 0},i.fW=function(t,n,i,e){this.nW=new bD(t,n,!!i,!!e)},i.mL=function(){var t,n,i,e,r,s,u,o,a,h,c;return jr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return t=this.Rh,n=Vs(t.vW,function(t){return ks(t.Ul,"audio")}),i=Vs(t.vW,function(t){return ks(t.Ul,"video")}),f.next=5,jr.awrap(this.lW());case 5:n&&(r=new jN,this.eW.jV(r),s=null!=(e=xD(n.Ul))?e:n.Ul,u=this.rN.addSourceBuffer(s),this.$V=pD(this,this.eN,n,s_.Ad,u,s,r),this.$V.js(CN.FX,this.oW)),i&&(a=new jN,this.eW.jV(a),h=null!=(o=xD(i.Ul))?o:i.Ul,c=this.rN.addSourceBuffer(h),this.tW=pD(this,this.eN,i,s_.Td,c,h,a),this.tW.js(CN.FX,this.oW)),this.pX.zc(this,t);case 8:case"end":return f.stop()}},null,this,null,We)},i.lW=function(){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=URL.createObjectURL(this.rN),i.next=3,jr.awrap(t.prototype.BX.call(this,n));case 3:if(this.rg===CD.Hd){i.next=6;break}return i.next=6,jr.awrap($m(this.rN,"sourceopen"));case 6:case"end":return i.stop()}},null,this,null,We)},i.cW=function(){if(this.rg!==CD.Hd)return!1;var t=this.$V&&this.$V.ax,n=this.tW&&this.tW.ax;return!(t||n)},i.hV=function(){this.rW=!0,this.$V&&this.$V.hV(),this.tW&&this.tW.hV(),this.rW=!1,this.uW()},i.uV=function(){this.$V&&this.$V.uV(),this.tW&&this.tW.uV()},i.RX=function(n){var i=Vs(n.vW,function(t){return ks(t.Ul,"audio")}),e=Vs(n.vW,function(t){return ks(t.Ul,"video")});if(this.$V){if(!i)return!1;if(!this.$V.RX(i))return!1}else if(i)return!1;if(this.tW){if(!e)return!1;if(!this.tW.RX(e))return!1}else if(e)return!1;return!!t.prototype.RX.call(this,n)},i.NX=function(n){var i,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=Vs(n.vW,function(t){return ks(t.Ul,"audio")}),e=Vs(n.vW,function(t){return ks(t.Ul,"video")}),r=[],this.$V&&r.push(this.$V.NX(i)),this.tW&&r.push(this.tW.NX(e)),s.next=7,jr.awrap(We.all(r));case 7:return s.next=9,jr.awrap(t.prototype.NX.call(this,n));case 9:case"end":return s.stop()}},null,this,null,We)},i.Bs=function(){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.$V){n.next=4;break}return n.next=3,jr.awrap(this.$V.Bs());case 3:this.$V=void 0;case 4:if(!this.tW){n.next=8;break}return n.next=7,jr.awrap(this.tW.Bs());case 7:this.tW=void 0;case 8:return this.Fh.src&&URL.revokeObjectURL(this.Fh.src),this.eN.Js(Df.Cf,this.sW),this.eW.Bd(),n.next=13,jr.awrap(t.prototype.Bs.call(this));case 13:case"end":return n.stop()}},null,this,null,We)},i.kV=function(){var t=this,n=this.Rh,i=n.vW.map(function(n){return ks(n.Ul,"audio")&&t.$V?t.$V.Jc:ks(n.Ul,"video")&&t.tW?t.tW.Jc:n});this.Rh=Fr({},n,{vW:i})},i.fV=function(){this.rW||this.uW()},i.uW=function(){this.dW&&this.cW()&&(this.rN.endOfStream(),this.iW=void 0,this.Ys(new Su(bN.QP)),this.eN.oW())},i.oV=function(){this.cW()&&(this.MX?this.uW():void 0!==this.iW&&this.hW(this.iW))},i.UV=function(t){return this.eW.UV(t)},n.LX=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.vW;n<i.length;n++){if(void 0===xD(i[n].Ul))return!1}return!0},T(n,[{key:"QV",get:function(){return this.$V}},{key:"ZV",get:function(){return this.tW}},{key:"Yg",get:function(){if(this.iW)return this.iW;var t=this.rN.duration;return t===Lt?1/0:t}},{key:"vy",get:function(){return ND?RD(this):(t=this,n=fE.dC(this.Fh.buffered),(i=n).N_>0&&t.MX&&(i=i.$D(fE._C(i.LD(i.N_-1)))),i);var t,n,i}},{key:"UX",get:function(){var t;return null==(t=this.$V)?void 0:t.vy}},{key:"XX",get:function(){var t;return null==(t=this.tW)?void 0:t.vy}},{key:"Ry",get:function(){return this.nW.EV().YD(new fE([0,this.Yg],[!0,!0]))}},{key:"MX",get:function(){return(!this.$V||this.$V.MX())&&(!this.tW||this.tW.MX())}},{key:"rg",get:function(){return this.rN.readyState}},{key:"dW",get:function(){if(!this.MX)return!1;var t=this.vy;return 0!==t.N_&&t.OD(t.N_-1)<=this.eN.qg}}]),n}(NN);function xD(t){var n=Xc(t),i="audio/mp4"===n.us&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(dD(n),["mp4a.40.34"]);if(MediaSource.isTypeSupported(t)&&(!i||!M.Cn))return t;if(i){var e=Vs(['audio/mp4; codecs="mp3"',"audio/mpeg"],function(t){return MediaSource.isTypeSupported(t)});return void 0!==e?e:void 0}}var BD=[Df.Xf,Df.If,Df.Cf,Df.Sf,Df.Tf],OD=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return(c=t.call(this)||this).pC=n,c.ea=i,c.wW=e,c.TC=r,c.EC=s,c.AC=u,c.SC=o,c.Ia=a,c._W=h,c}E(n,t);var i=n.prototype;return i.Xm=function(){this.TC||(this.TC=!0,this.Ys(new gp(this.qg)))},i.Um=function(){this.TC&&(this.TC=!1,this.Ys(new mp(this.qg)))},i.Bs=function(){this.Ks()},T(n,[{key:"qg",get:function(){return this.pC},set:function(t){this.qg!==t&&(this.pC=t,this.EC=!0,this.Ys(new Ip(this.qg)))}},{key:"Yg",get:function(){return this.ea}},{key:"jg",get:function(){return this.wW}},{key:"Kg",get:function(){return this.TC}},{key:"rg",get:function(){return this._W}},{key:"$g",get:function(){return this.EC}},{key:"Zg",get:function(){return this.AC},set:function(t){this.Zg!==t&&(this.AC=t,this.Ys(new Cp(this.qg,this.im)))}},{key:"Jg",get:function(){return this.SC},set:function(t){this.Jg!==t&&(this.SC=t,this.Ys(new Ap(this.qg,this.Jg)))}},{key:"im",get:function(){return this.Ia},set:function(t){this.im!==t&&(this.Ia=t,this.Ys(new Cp(this.qg,this.im)))}}]),n}(Au);var LD=function(t){function n(n){var i;return(i=t.call(this)||this).eN=void 0,i.DE=Zy.xg,i.gW=function(){i.mW()},i.eN=n,i}E(n,t);var i=n.prototype;return i.yW=function(t){this.DE!==t&&(this.DE=t,this.Ys(new Pp(this.eN.qg,t)))},i.mW=function(){this.yW(this.ZL())},i.I_=function(){this.yW(Zy.xg)},i.Bs=function(){this.Ks()},T(n,[{key:"rg",get:function(){return this.ZL()}}]),n}(Au),MD=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],jD=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<MD.length;e++){var r=MD[e];i.eN.DN.addEventListener(r,i.gW)}return i}E(n,t);var i=n.prototype;return i.ZL=function(){var t=this.eN.DN.readyState;return t>Zy.Mg&&this.eN.kW?Zy.Mg:(this.eN.DN.seeking&&t>Zy.Lg&&(t=Zy.Lg),t)},i.Bs=function(){for(var n=0;n<MD.length;n++){var i=MD[n];this.eN.DN.removeEventListener(i,this.gW)}t.prototype.Bs.call(this)},n}(LD),FD=function(t){function n(n){var i;(i=t.call(this,n)||this).eN.js(Df.Cf,i.gW);for(var e=0;e<MD.length;e++){var r=MD[e];i.eN.DN.addEventListener(r,i.gW)}return i}E(n,t);var i=n.prototype;return i.ZL=function(){if(this.eN.DN.readyState===Zy.xg)return Zy.xg;var t=this.bW(),n=t?t.LD-t.OD:0;if(!t)return Zy.Lg;var i=this.eN.Jg;return this.pW()||n>=3*i?Zy.Xg:n>=3?Zy.Ug:Zy.Mg},i.bW=function(){var t=this.eN.qg,n=this.eN.vy.JD(.04),i=n.iC(t);if(!(i<0))return{OD:t,LD:n.LD(i)}},i.pW=function(){if(this.eN.jg)return!0;var t=this.eN.Yg,n=this.bW();return!!n&&t-n.LD<=1/6},i.Bs=function(){this.eN.Js(Df.Cf,this.gW);for(var n=0;n<MD.length;n++){var i=MD[n];this.eN.DN.removeEventListener(i,this.gW)}t.prototype.Bs.call(this)},n}(LD),UD=[dp.l_,Df.Sf,Df.Tf,Df.Cf,Df.Df,Df._f,Py.Q_],HD=function(t){function n(n){var i;return(i=t.call(this,n)||this).Fh=void 0,i.AW=!1,i.TW=function(){i.AW=!0,i.Wc()},i.Fh=n.DN,i.Fh.addEventListener(dp.Gg,i.TW),i}E(n,t);var i=n.prototype;return i.SW=function(){return this.AW&&t.prototype.SW.call(this)},i.Wc=function(){this.AW&&(this.Fh.paused||this.Fh.ended||this.Fh.error)&&(this.AW=!1),t.prototype.Wc.call(this)},i.I_=function(){t.prototype.I_.call(this),this.AW=!1},i.Bs=function(){this.Fh.removeEventListener(dp.Gg,this.TW),t.prototype.Bs.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).xE=void 0,i.EW=!1,i.hx=function(){i.Wc()},i.xE=n,i.xE.js(UD,i.hx),i}E(n,t);var i=n.prototype;return i.IW=function(){return this.xE.rg<Zy.Ug},i.SW=function(){return!this.xE.$g&&!(this.xE.Kg||this.xE.jg||this.xE.wu||this.IW())},i.Wc=function(){var t=this.EW;this.EW=this.SW(),!t&&this.EW&&this.Ys(new yA(this.xE.qg))},i.I_=function(){this.EW=!1},i.Bs=function(){this.Ks(),this.xE.Js(UD,this.hx)},n}(Au)),XD=function(t){function n(n){var i;return(i=t.call(this,Py.Q_)||this).wu=void 0,i.wu=n,i}return E(n,t),n}(Su);function zD(t,n){return t.Zy<=n&&t.Ky>n}function VD(t,n){return function(t,n){return Xs(t.Zy,n.Zy,M_)}(t,n)||function(t,n){return Xs(t.Ky,n.Ky,M_)}(t,n)}function WD(t,n){var i=function(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,a=u-1;o<=a;){var h=o+(a-o>>1),c=e(i(t[h]),n);if(c<0)o=h+1;else if(c>0)a=h-1;else{if(!(r&&h>s&&0===e(i(t[h-1]),n)))return h;a=h-1}}return~o}(t,n,K,VD,!0);if(i<0)return i;for(;i<t.length&&VD(n,t[i])===Bs.Ss;i++)if(t[i].pk(n))return i;return-(i+1)}function qD(t){var n=t.t_;if(!n)return-1;if(t instanceof F_)return n.RW(t);var i=n.og;if(!i)return-1;var e=WD(i.R_,t);return e>=0?e:-1}function GD(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],a=[];s<e&&u<r;){var h=t[s],c=n[u];h===c?(s++,u++):i(c,h)<=0?(o.push(c),u++):(a.push(h),s++)}for(;s<e;)a.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{NW:o,DW:a}}(t,n,VD);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var $D=function(){function t(t){this.PW=void 0,this.Kw=void 0,this.PW=t}var n=t.prototype;return n.$w=function(){return function(t){for(var n=[],i=0;i<t.N_;i++)n[i]=t.Su(i).Jw;return n.item=function(n){var i=0|n,e=t.Su(i);return e&&e.Jw||void 0},w.defineProperty(n,"constructor",{value:x_}),n}(this)},n.By=function(t){for(var n=this.PW,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.pk(e))return!0}return!1},n.Su=function(t){return this.PW[t]},T(t,[{key:"R_",get:function(){return this.PW}},{key:"N_",get:function(){return this.PW.length}},{key:"Jw",get:function(){if(this.Kw){var t=this.PW;this.Kw.length=t.length;for(var n=0;n<t.length;n++)this.Kw[n]=t[n].Jw}else this.Kw=this.$w();return this.Kw}}]),t}(),YD=function(t){function n(n,i){var e;return(e=t.call(this,ty.l_)||this).t_=n,e.rg=i,e}return E(n,t),n.prototype.$w=function(){return new QD(this.t_.Jw,Fy(this.rg))},n}(ny),QD=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return E(n,t),n}(iy),ZD=function(t){function n(n){var i;return(i=t.call(this,ty.w_)||this).t_=n,i}return E(n,t),n.prototype.$w=function(){return new KD(this.t_.Jw)},n}(ny),KD=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return E(n,t),n}(iy),JD=function(t){function n(n){var i;return(i=t.call(this,ty.n_)||this).Qy=n,i}return E(n,t),n.prototype.$w=function(){return new tP(this.Qy.Jw)},n}(ny),tP=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return E(n,t),n}(iy),nP=function(t){function n(n){var i;return(i=t.call(this,ty.e_)||this).Qy=n,i}return E(n,t),n.prototype.$w=function(){return new iP(this.Qy.Jw)},n}(ny),iP=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return E(n,t),n}(iy),eP=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this)||this).Kw=void 0,h.Nc=void 0,h.Ly=f_(),h.BW=!1,h.OW=void 0,h.xW=void 0,h.xy=void 0,h.ra=void 0,h.qC=Dy.q_,h._W=__.NONE,h.LW=void 0,h.Hi=void 0,h.MW=void 0,h.PW=[],h.UW=[],h.XW=void 0,h.FW=void 0,h.HW=0,h.zW=0,h.Nc=i||"",h.OW=a||"",h.xW=n,h.ra=r||"",h.BW=Boolean(s),h.MW=Boolean(o),h.Hi=u||b_.DEFAULT,h.xy=e||"",h.XW=new $D(h.PW),h.FW=new $D(h.UW),h}E(n,t);var i=n.prototype;return i.VW=function(t){return Vs(this.XW.R_,function(n){return n.X_===t})},i.$w=function(){return Ly(this)},i.oP=function(t){var n=By(t);n!==this.K_&&(this.qC=n,n===Dy.q_&&(this.UW.forEach(function(t){t.Ak=!1}),Zs(this.UW),this.zW=0),this.Ys(new ay(this)))},i.SE=function(t){if(t&&!t.t_){var n=WD(this.og.R_,t);if(!(n>=0)){t.t_=this;var i=-(n+1);this.PW.splice(i,0,t),this.WW(i),t.bk=i,i<this.zW&&(this.zW=i),this.Ys(new JD(t))}}},i.vE=function(t){if(t&&t.t_===this){var n=this.RW(t);if(!(n<0)){t.Ak=!1;var i=this.UW,e=WD(i,t);e>=0&&$s(i,e),$s(this.PW,n),this.WW(n),t.bk=-1,this.zW>n&&--this.zW,this.Ys(new nP(t))}}},i.GW=function(t,n){var i=this.UW,e=this.PW,r=this.zW,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){zD(i[u],t)||(s=!0,$s(i,u))}for(;r<e.length&&e[r].Zy<=t;){var o=e[r];if(0===t)break;zD(o,t)&&!Ys(i,o)&&(s=!0,i.push(o)),r++}s&&Ms(i,VD),this.zW=r},i.RW=function(t){return(-1===t.bk||t.bk>=this.HW)&&this.qW(),t.bk},i.qW=function(){for(var t=this.PW,n=this.HW;n<t.length;n++)t[n].bk=n;this.HW=t.length},i.WW=function(t){t<this.HW&&(this.HW=t)},i.J_=function(t){this.eg||(this.K_=t)},i.Bd=function(){this.Ks();for(var t=this.PW.slice(),n=0;n<t.length;n++){t[n].Bd()}Zs(this.PW),Zs(this.UW)},T(n,[{key:"ag",get:function(){return this.FW}},{key:"og",get:function(){return this.XW}},{key:"IE",get:function(){return this.BW},set:function(t){this.BW=t}},{key:"eg",get:function(){return this.MW}},{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}},{key:"X_",get:function(){return this.Nc}},{key:"F_",get:function(){return this.Ly}},{key:"Z_",get:function(){return this.OW},set:function(t){this.OW=t}},{key:"H_",get:function(){return this.xW}},{key:"z_",get:function(){return this.xy},set:function(t){t!==this.xy&&(this.xy=t,this.Ys(new a_(this)))}},{key:"V_",get:function(){return this.ra}},{key:"K_",get:function(){return this.qC},set:function(t){this.oP(t)}},{key:"rg",get:function(){return this._W},set:function(t){this._W!==t&&(this._W=t,this.Ys(new YD(this,this._W)))}},{key:"cg",get:function(){return this.LW},set:function(t){this.LW=t}},{key:"us",get:function(){return this.Hi},set:function(t){this.Hi!==t&&(this.Hi=t,this.Ys(new ZD(this)))}}]),n}(Au),rP=function(t){function n(n,i){var e;return(e=t.call(this,S_.Gy,n)||this).Db=i,e}return E(n,t),n.prototype.$w=function(){return new sP(this.Qy.Jw)},n}(N_),sP=function(t){function n(n){return t.call(this,"enter",n)||this}return E(n,t),n}(D_),uP=function(t){function n(n,i){var e;return(e=t.call(this,S_.Yy,n)||this).Db=i,e}return E(n,t),n.prototype.$w=function(){return new oP(this.Qy.Jw)},n}(N_),oP=function(t){function n(n){return t.call(this,"exit",n)||this}return E(n,t),n}(D_),aP=function(t){function n(n){var i;return(i=t.call(this,ty.s_)||this).Qy=n,i}return E(n,t),n.prototype.$w=function(){return new hP(this.Qy.Jw)},n}(ny),hP=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return E(n,t),n}(iy),cP=function(t){function n(n){var i;return(i=t.call(this,ty.o_)||this).Qy=n,i}return E(n,t),n.prototype.$w=function(){return new fP(this.Qy.Jw)},n}(ny),fP=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return E(n,t),n}(iy),lP=function(t){function n(n){var i;return(i=t.call(this)||this).YW=void 0,i.gk=void 0,i.Ly=void 0,i.wk=void 0,i.Kw=void 0,i._k=!1,i.jW=function(){i.Ak=!0},i.QW=function(){i.Ak=!1},i.Ly=g_(),i.YW=n,i.YW.addEventListener("enter",i.jW),i.YW.addEventListener("exit",i.QW),i}E(n,t);var i=n.prototype;return i.$w=function(){return P_(this)},i.pk=function(t){return this===t||my(this,t)&&j_(this,t)},i.Bd=function(){this.Ks(),this.YW.removeEventListener("enter",this.jW),this.YW.removeEventListener("exit",this.QW)},T(n,[{key:"F_",get:function(){return this.Ly}},{key:"Zy",get:function(){return this.YW.startTime},set:function(t){this.YW.startTime=t}},{key:"Ky",get:function(){return this.YW.endTime},set:function(t){this.YW.endTime=t}},{key:"Jy",get:function(){return this.gk},set:function(t){this.gk=t}},{key:"Tk",get:function(){return!!this.YW.pauseOnExit},set:function(t){this.YW.pauseOnExit=!!t}},{key:"t_",get:function(){return this.wk},set:function(t){this.wk=t}},{key:"X_",get:function(){return this.YW.id||""}},{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}},{key:"Ak",get:function(){return this._k},set:function(t){this.Ak!==t&&(this._k=t,t?(this.Ys(new rP(this,this.Zy)),this.wk&&this.wk.Ys(new aP(this))):(this.Ys(new uP(this,this.Ky)),this.wk&&this.wk.Ys(new cP(this))))}}]),n}(Hy),vP=function(t){function n(n){var i;return(i=t.call(this,ty.c_)||this).t_=n,i}return E(n,t),n.prototype.$w=function(){return new dP(this.t_.Jw)},n}(ny),dP=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return E(n,t),n}(iy);function wP(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new gP(t),t.THEOplayerVTTRegion=n),n}}var gP=function(){function t(t){this.ZW=void 0,this.Kw=void 0,this.ZW=t}return T(t,[{key:"KW",get:function(){return this.ZW}},{key:"X_",get:function(){return this.ZW.id||""}},{key:"Ck",get:function(){return+this.ZW.width||0},set:function(t){this.ZW.width=t||0}},{key:"Sk",get:function(){return+this.ZW.lines||0},set:function(t){this.ZW.lines=t||0}},{key:"Ek",get:function(){return+this.ZW.regionAnchorX||0},set:function(t){this.ZW.regionAnchorX=t||0}},{key:"Ik",get:function(){return+this.ZW.regionAnchorY||0},set:function(t){this.ZW.regionAnchorY=t||0}},{key:"Nk",get:function(){return+this.ZW.viewportAnchorX||0},set:function(t){this.ZW.viewportAnchorX=t||0}},{key:"Dk",get:function(){return+this.ZW.viewportAnchorY||0},set:function(t){this.ZW.viewportAnchorY=t||0}},{key:"Rk",get:function(){return this.ZW.scroll||""}},{key:"Jw",get:function(){return this.Kw||(this.Kw=q_(this)),this.Kw}}]),t}();var mP=function(t){function n(n){return t.call(this,n)||this}return E(n,t),T(n,[{key:"Jy",get:function(){return this.YW.text},set:function(t){this.YW.text=t}},{key:"vk",get:function(){return this.YW.vertical||""},set:function(t){this.YW.vertical=t||""}},{key:"fk",get:function(){return this.YW.snapToLines},set:function(t){this.YW.snapToLines=t}},{key:"nk",get:function(){return this.YW.line},set:function(t){this.YW.line=t}},{key:"Nu",get:function(){return+this.YW.size},set:function(t){this.YW.size=jt(t,0,100)}}]),n}(lP),yP=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.pk=function(n){return this===n||my(this,n)&&t.prototype.pk.call(this,n)&&U_(this,n)},T(n,[{key:"hk",get:function(){return wP(this.YW.region)}},{key:"ek",get:function(){return this.YW.lineAlign||"start"},set:function(t){this.YW.lineAlign=t||"start"}},{key:"rk",get:function(){return this.YW.position},set:function(t){this.YW.position=t}},{key:"ck",get:function(){return this.YW.positionAlign||"auto"},set:function(t){this.YW.positionAlign=t||"auto"}},{key:"$y",get:function(){return this.YW.align||"center"},set:function(t){this.YW.align=t||"center"}},{key:"Jw",get:function(){return this.Kw||(this.Kw=B_(this)),this.Kw}}]),n}(mP),pP=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.pk=function(n){return this===n||my(this,n)&&t.prototype.pk.call(this,n)&&U_(this,n)},T(n,[{key:"hk",get:function(){return wP(this.KW)}},{key:"KW",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.YW.track,this.YW.regionId)}},{key:"ek",get:function(){return"middle"===(t=this.YW.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.YW.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"rk",get:function(){return this.YW.position},set:function(t){var n,i;this.YW.position=(n=t,i=this.$y,C_(n,i))}},{key:"ck",get:function(){return t=this.YW.positionAlign||"middle",I_[t];var t},set:function(t){var n,i;this.YW.positionAlign=(n=t||"center",i=this.$y,E_[R_(n,i)])}},{key:"$y",get:function(){return"middle"===(t=this.YW.align||"middle")?"center":t;var t},set:function(t){var n;this.YW.align="center"===(n=t||"center")?"middle":n}},{key:"Jw",get:function(){return this.Kw||(this.Kw=B_(this)),this.Kw}}]),n}(mP);function _P(t,n){return t.Jy===n.Jy}function bP(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Zy<t.Zy)kP(n,i,t.Zy);else{var e=n[0];if(e.Zy>t.Zy)t.Ky=e.Zy;else{var r=WD(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0)n[u].Zy<t.Zy&&kP(n,u,t.Zy);if(s<n.length){var o=n[s];t.Ky=o.Zy}}}}}}function kP(t,n,i){for(var e=t[n].Zy,r=n;r>=0&&t[r].Zy===e;r--)t[r].Ky=i}function AP(t){return P_(t)}var TP,SP,EP=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).JW=void 0,e.JW=i,e}return E(n,t),n.prototype.pk=function(n){return this===n||my(this,n)&&t.prototype.pk.call(this,n)&&_P(this,n)},T(n,[{key:"Jy",get:function(){return this.JW}},{key:"Jw",get:function(){return this.Kw||(this.Kw=AP(this)),this.Kw}}]),n}(lP);function IP(t){switch(t){case TP.ISO_8859_1:case TP.UTF16_BOM:case TP.UTF16:case TP.UTF8:return!0}return!1}function RP(t){switch(t){case TP.ISO_8859_1:return Io;case TP.UTF16_BOM:return No;case TP.UTF16:return Do;case TP.UTF8:return Fo}}function CP(t,n){var i=n.Du,e=t.byteLength,r=qo(t);return n.Cu(e-i),Yo(r,i,e).buffer}function NP(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function DP(t,n,i){var e=fo(t,n);if(IP(e)){var r=RP(e);return{id:i,language:So(t,n,3),description:r(t,n),text:r(t,n)}}}function PP(t,n,i){var e=fo(t,n);if(IP(e)){var r=RP(e);return{id:i,mimeType:Io(t,n),fileName:r(t,n),description:r(t,n),data:CP(t,n)}}}function xP(t,n,i){var e=fo(t,n);if(IP(e)){for(var r=RP(e),s=[];n.Du<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function BP(t,n,i){var e=fo(t,n);if(IP(e)){for(var r=RP(e),s=So(t,n,3),u=fo(t,n),o=fo(t,n),a=r(t,n),h=!1,c=[];n.Du<t.byteLength;){var f=void 0;if(e===TP.UTF16_BOM){var l=Co(t,n);void 0===l?l=h:h=l,f=Do(t,n,l)}else f=r(t,n);if(!f||n.Du+4>t.byteLength)break;c.push({text:f,timestamp:_o(t,n)})}return{id:i,language:s,format:u,contentType:o,description:a,entries:c}}}function OP(t,n,i){return{id:i,ownerIdentifier:Io(t,n),identifier:CP(t,n)}}function LP(t,n,i){var e=fo(t,n);if(IP(e)){var r=RP(e);return{id:i,language:So(t,n,3),description:r(t,n),text:r(t,n)}}}function MP(t,n,i){var e=fo(t,n);if(IP(e))return{id:i,text:RP(e)(t,n)}}function jP(t,n,i){return{id:i,url:Io(t,n)}}function FP(t,n,i){var e=fo(t,n);if(IP(e)){var r=RP(e);return{id:i,description:r(t,n),text:r(t,n)}}}function UP(t,n,i){var e=fo(t,n);if(IP(e))return{id:i,description:RP(e)(t,n),url:Io(t,n)}}function HP(t,n,i){switch(i){case"COM":return DP(t,n,i);case"GEO":return PP(t,n,i);case"IPL":return xP(t,n,i);case"PIC":return function(t,n,i){var e=fo(t,n);if(IP(e)){var r,s,u=RP(e),o=So(t,n,3),a=fo(t,n),h=u(t,n);return"--\x3e"===o?(r=o,s=Io(t,n)):(r="image/"+o.toLowerCase(),s=CP(t,n)),{id:i,mimeType:r,pictureType:a,description:h,data:s}}}(t,n,i);case"SLT":return BP(t,n,i);case"TXX":return FP(t,n,i);case"UFI":return OP(t,n,i);case"ULT":return LP(t,n,i);case"WXX":return UP(t,n,i);default:if("T"===i.charAt(0))return MP(t,n,i);if("W"===i.charAt(0))return jP(t,n,i)}}function XP(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=fo(t,n);if(IP(e)){var r=RP(e),s=Io(t,n);return{id:i,mimeType:s,pictureType:fo(t,n),description:r(t,n),data:"--\x3e"===s?Io(t,n):CP(t,n)}}}(t,n,i);case"COMM":return DP(t,n,i);case"COMR":return function(t,n,i){var e=fo(t,n);if(IP(e)){var r,s,u=RP(e),o=Io(t,n),a=So(t,n,8),h=Io(t,n),c=fo(t,n),f=u(t,n),l=u(t,n);return n.Du<t.byteLength&&(r=Io(t,n)||"image/",s=CP(t,n)),{id:i,price:o,validUntil:a,contactURL:h,receivedAs:c,nameOfSeller:f,description:l,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return PP(t,n,i);case"IPLS":return xP(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:Io(t,n),data:CP(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:fo(t,n),position:_o(t,n)}}(t,n,i);case"SYLT":return BP(t,n,i);case"TXXX":return FP(t,n,i);case"UFID":return OP(t,n,i);case"USER":return function(t,n,i){var e=fo(t,n);if(IP(e)){var r=RP(e);return{id:i,language:So(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return LP(t,n,i);case"WXXX":return UP(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return MP(t,n,i);default:var e=i.charAt(0);if("T"===e)return MP(t,n,i);if("W"===e)return jP(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(TP||(TP={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(SP||(SP={}));var zP=10;function VP(t,n){return(127&fo(t,n))<<21|(127&fo(t,n))<<14|(127&fo(t,n))<<7|127&fo(t,n)}function WP(t,n){switch(t){case SP.V24:return{$W:co(n,0),tG:co(n,1),nG:co(n,2),iG:co(n,3)};case SP.V23:return{$W:co(n,0),tG:co(n,1),nG:co(n,2)};case SP.V22:return{$W:co(n,0),eG:co(n,1)}}}function qP(t,n,i){switch(i.BA){case SP.V23:i.OA.tG&&function(t,n){var i=n.Du,e=_o(t,n)+4,r=32768&yo(t,n);n.Bu(i+e),r&&_o(t,n)}(t,n);break;case SP.V24:i.OA.tG&&function(t,n){var i=n.Du,e=VP(t,n);n.Bu(i+e)}(t,n)}}function GP(t,n){if(t.byteLength-n.Du<zP)return null;if(73!==fo(t,n)||68!==fo(t,n)||51!==fo(t,n))return null;var i=fo(t,n),e=fo(t,n);if(!function(t){switch(t){case SP.V22:case SP.V23:case SP.V24:return!0}return!1}(i))return null;var r=fo(t,n),s=VP(t,n);return{BA:i,rG:e,OA:WP(i,r),sG:s}}function $P(t,n,i){switch(i.BA){case SP.V22:return function(t,n,i){return{X_:So(t,n,3),Nu:mo(t,n,3)}}(t,n);case SP.V23:return function(t,n,i){var e=So(t,n,4),r=_o(t,n);fo(t,n);var s=fo(t,n);return{X_:e,Nu:r,OA:{eG:co(s,0),uG:co(s,1),groupingIdentity:co(s,2)}}}(t,n);case SP.V24:return function(t,n,i){var e=So(t,n,4),r=VP(t,n);fo(t,n);var s=fo(t,n);return{X_:e,Nu:r,OA:{groupingIdentity:co(s,1),eG:co(s,4),uG:co(s,5),$W:co(s,6),oG:co(s,7)}}}(t,n)}}function YP(t){for(var n=new _(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function QP(t,n){var i=n||new Ko,e=GP(t,i);return e?{RA:e,aG:function(t,n,i){var e=[],r=n.Du,s=Vo(t,r,r+i.sG),u=new Ko;switch(n.Cu(i.sG),i.BA){case SP.V22:case SP.V23:i.OA.$W&&(s=YP(s))}qP(t,n,i);for(;u.Du<s.byteLength;)e.push(ZP(s,u,i));return e}(t,i,e)}:null}function ZP(t,n,i){var e,r,s=$P(t,n,i),u=n.Du,o=Vo(t,u,u+s.Nu);switch(n.Cu(s.Nu),i.BA){case SP.V22:var a=s;e=HP(r=o,new Ko,a.X_);break;case SP.V23:var h=s,c=new Ko;!function(t,n,i){var e,r,s,u=i.OA;u.eG&&(e=_o(t,n)),u.uG&&(r=fo(t,n)),u.groupingIdentity&&(s=fo(t,n))}(o,c,h),e=XP(r=Vo(o,c.Du,o.byteLength),new Ko,h.X_);break;case SP.V24:var f=s,l=new Ko;f.OA.$W&&(o=YP(o)),function(t,n,i){var e,r,s,u,o=i.OA;o.groupingIdentity&&(e=fo(t,n)),o.eG&&(r=_o(t,n)),o.uG&&(s=fo(t,n)),o.oG&&(u=VP(t,n))}(o,l,f),e=XP(r=Vo(o,l.Du,o.byteLength),new Ko,f.X_)}if(!e){var v=Qo(qo(r));e=NP(s.X_,v.buffer)}return e}function KP(t){return function(t,n,i){return MP(t,n,i)}(new DataView(t.data),new Ko,t.key)}function JP(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return KP(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return NP(t.key,t.data)}(t)}var tx="org.id3";var nx=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).Oy=void 0,r.cG=void 0,r.PW=[],r.UW=[],r.XW=void 0,r.FW=void 0,r.Ly=void 0,r.xy=void 0,r.qC=Dy.q_,r._W=__.NONE,r.Kw=void 0,r.LW=void 0,r.Hi=b_.DEFAULT,r.hG=void 0,r.fG=function(){r.vG(),r.Oy.removeEventListener("cuechange",r.fG)},r.lG=function(){r.K_!==Dy.q_&&(r.dG(),r.GW(),r.PW.length&&r.wG(__.LOADING))},r._G=function(){r.wG(__.LOADED)},r.gG=function(){r.wG(__.ERROR)},r.Oy=n,r.hG=e,r.Oy.addEventListener("cuechange",r.fG),r.Oy.addEventListener("cuechange",r.lG),r.cG=i,r.cG&&(r.LW=lg(r.cG.src),r.cG.addEventListener("load",r._G),r.cG.addEventListener("error",r.gG)),r.Ly=f_(),r.xy=n.label||"",r.XW=new $D(r.PW),r.FW=new $D(r.UW),r.K_=r.mG,gu(function(){r.lG(),r.wG(__.NONE)}),r}E(n,t);var i=n.prototype;return i.$w=function(){return Ly(this)},i.vG=function(){var t=this.K_;this.yG||t!==Dy.j_?this.mG=t:this.mG=Dy.Y_},i.kG=function(){var t=this.K_,n=this.mG;t!==n&&(this.yG||t!==Dy.j_||n!==Dy.Y_)&&("metadata"===this.H_&&n===Dy.q_?this.K_=t:this.K_=n)},i.mW=function(t){this._W!==t&&(this._W=t,this.Ys(new YD(this,t)))},i.wG=function(t){var n=g.max(this._W,this.bG,t);this.mW(n)},n.pG=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.AG=function(t){var i=n.pG(t);if(i)return i;if(z(i=this.TG(t)))for(var e=0,r=i;e<r.length;e++){r[e].t_=this}else i.t_=this;return t.THEOplayerTextTrackCue=i,i},i.TG=function(t){return(n=t)&&n.type===tx&&n.value?(this.us=b_.ID3,function(t){var n;try{n=JP(t.value)}catch(t){n=NP("")}return new EP(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.us=b_.ID3,function(t){var n=[];try{var i=QP(new DataView(t.data));if(i)for(var e=0,r=i.aG;e<r.length;e++){var s=r[e];n.push(new EP(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.us=b_.WEBVTT,function(t){return"regionId"in t}(t)?new pP(t):new yP(t)):new lP(t);var n},i.SG=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.AG(t[e]||t.item(e));if(z(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.dG=function(){for(var t=this.SG(this.Oy.cues),n=GD(this.PW,t),i=0,e=n.DW;i<e.length;i++){var r=e[i];r.Js(S_.Yy,this.lG),r.Js(S_.Gy,this.lG),this.Ys(new nP(r))}for(var s=0,u=n.NW;s<u.length;s++){var o=u[s];o.js(S_.Gy,this.lG),o.js(S_.Yy,this.lG),this.Ys(new JD(o))}},i.GW=function(){for(var t=this.SG(this.Oy.activeCues),n=GD(this.UW,t),i=0,e=n.DW;i<e.length;i++){e[i].Ak=!1}for(var r=0,s=n.NW;r<s.length;r++){s[r].Ak=!0}(n.NW.length||n.DW.length)&&this.Ys(new vP(this))},i.J_=function(t){this.K_=t},i.Bd=function(){this.Ks();for(var t=this.PW.slice(),n=0;n<t.length;n++){t[n].Bd()}Zs(this.PW),Zs(this.UW),this.Oy.removeEventListener("cuechange",this.lG),this.cG&&(this.Oy.removeEventListener("load",this._G),this.Oy.removeEventListener("error",this.gG)),this.cG&&tr(this.cG)},T(n,[{key:"ag",get:function(){return this.FW}},{key:"IE",get:function(){return this.cG?this.cG.default:void 0}},{key:"og",get:function(){return this.XW}},{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}},{key:"X_",get:function(){return this.Oy.id||this.cG&&this.cG.id||""}},{key:"F_",get:function(){return this.Ly}},{key:"Z_",get:function(){return this.Oy.inBandMetadataTrackDispatchType||""}},{key:"H_",get:function(){return this.Oy.kind||Dk.iA}},{key:"z_",get:function(){return this.xy},set:function(t){t!==this.z_&&(this.xy=t,this.Ys(new a_(this)))}},{key:"V_",get:function(){return this.Oy.language||""}},{key:"K_",get:function(){return this.qC},set:function(t){var n=this.K_;this.qC=By(t),this.vG();var i=this.K_;n!==i&&this.Ys(new ay(this)),i!==Dy.q_&&this.wG(__.LOADING)}},{key:"mG",get:function(){return By(this.Oy.mode)},set:function(t){this.Oy.mode=t}},{key:"Hy",get:function(){return this.Oy}},{key:"rg",get:function(){return this._W}},{key:"bG",get:function(){return this.cG?+this.cG.readyState||__.NONE:__.LOADED}},{key:"cg",get:function(){return this.LW}},{key:"us",get:function(){return this.Hi},set:function(t){this.Hi!==t&&(this.Hi=t,this.Ys(new ZD(this)))}},{key:"yG",get:function(){return this.hG},set:function(t){this.hG=t,this.vG()}}]),n}(Au);function ix(t,n){return Hs(t.Db,n.Db)||function(t,n){return t.t_===n.t_?Us(qD(t),qD(n)):Gk(t.t_,n.t_)}(t.Qy,n.Qy)||function(t,n){return t===n?Bs.Ss:t===S_.Gy?Bs.Is:Bs.Es}(t.type,n.type)}var ex=function(){function t(t,n){var i=this;this.pD=void 0,this.EG=void 0,this.Dm=[],this.IG=0,this.RG=0,this.NG=[],this.DG=[],this.CG=!1,this.PG=!1,this.BG=void 0,this.OG=function(){i.IG=0,i.xG(),i.LG()},this.MG=function(){i.xG(),i.LG()},this.UG=function(){i.PG=!0,i.BG=i.pD.qg,i.XG()},this.FG=function(){i.xG(),i.LG()},this.HG=function(){i.zG(),i.xG(),i.LG()},this.VG=function(t){Ys(i.DG,t.Qy)||i.DG.push(t.Qy),i.WG()},this.GG=function(t){Gs(i.NG,t.Qy),Gs(i.DG,t.Qy),i.WG()},this.EG=n,this.pD=t,t.js(Df.Uf,this.MG),t.js(Df.Sf,this.MG),t.js(dp.Gg,this.MG),t.js(Df.Tf,this.MG),t.js(Df.Cf,this.UG),t.js(Df.Df,this.FG),this.WG()}var n=t.prototype;return n.I_=function(){Zs(this.NG);for(var t=0,n=this.Dm.slice();t<n.length;t++){var i=n[t];this.S_(i)}this.XG(),this.IG=0,this.RG=0,this.CG=!1,this.PG=!1,this.BG=void 0},n.T_=function(t){if(!Ys(this.Dm,t)){if(this.Dm.push(t),t.js(ty.n_,this.VG),t.js(ty.e_,this.GG),t.js(ty.f_,this.HG),t.og.N_>0){for(var n=0,i=t.og.R_;n<i.length;n++){var e=i[n];this.DG.push(e)}this.WG()}this.zG()}},n.S_=function(t){if(Gs(this.Dm,t)){if(t.Js(ty.n_,this.VG),t.Js(ty.e_,this.GG),t.Js(ty.f_,this.HG),t.og.N_>0){for(var n=0,i=t.og.R_;n<i.length;n++){var e=i[n];Gs(this.NG,e),Gs(this.DG,e)}this.WG()}this.zG()}},n.zG=function(){this.CG=this.Dm.some(function(t){return t.K_!==Dy.q_})},n.LG=function(){this.pD.$g||this.pD.Kg?this.XG():this.WG()},n.WG=function(){this.CG&&(this.IG||(this.IG=this.EG.Ne(this.OG)))},n.XG=function(){this.IG&&(this.EG.qG(this.IG),this.IG=0)},n.xG=function(){var t;if(this.CG&&!this.pD.$g){var n=this.Dm,i=this.RG,e=null!=(t=this.BG)?t:this.pD.qg,r=e-i<-.1,s=this.PG||r;s&&e>i&&e-i<.1&&(s=!1),this.PG=!1,this.BG=void 0;for(var u,o=[],a=0;a<n.length;a++){var h=n[a];if(h.K_!==Dy.q_){h.GW(e,s);for(var c=0,f=h.ag.R_;c<f.length;c++){var l=f[c];o.push(l)}}}if(s)u=this.NG;else{u=[];for(var v=0;v<n.length;v++){var d=n[v];d.K_!==Dy.q_&&qk(d,i-1/6,e,u)}}for(var w=u.length-1;w>=0;w--)Ys(o,u[w])&&$s(u,w);var m=[];if(!s)for(var y=u.length-1;y>=0;y--){var p=u[y];p.Zy>i&&p.Ky<=e&&(m.push(p),$s(u,y))}for(var _=0,b=this.DG;_<b.length;_++){Gs(m,b[_])}Zs(this.DG);for(var k=[],A=[],T=0;T<m.length;T++){var S=m[T];S.Ak||k.push(new rP(S,S.Zy)),k.push(new uP(S,g.max(S.Zy,S.Ky))),S.Ak=!1}for(var E=0,I=u;E<I.length;E++){var R=I[E];R.Ak&&(k.push(new uP(R,g.max(R.Zy,R.Ky))),R.Ak=!1)}for(var C=0;C<o.length;C++){var N=o[C];N.Ak||(k.push(new rP(N,N.Zy)),N.Ak=!0)}k.sort(ix);for(var D=0;D<k.length;D++){var P=k[D],x=P.Qy;x.Ys(P);var B=x.t_;B&&(P.type===S_.Gy?B.Ys(new aP(x)):B.Ys(new cP(x)),Ys(A,B)||A.push(B))}A.sort(Gk);for(var O=0;O<A.length;O++){var L=A[O];L.Ys(new vP(L))}this.RG=e,this.NG=o}},n.Bd=function(){this.I_(),this.pD.Js(Df.Uf,this.MG),this.pD.Js(Df.Sf,this.MG),this.pD.Js(dp.Gg,this.MG),this.pD.Js(Df.Tf,this.MG),this.pD.Js(Df.Cf,this.UG),this.pD.Js(Df.Df,this.FG)},t}(),rx=function(){function t(){}var n=t.prototype;return n.Ne=function(t){return _R(t)},n.qG=function(t){bR(t)},t}(),sx=new rx,ux=function(t){function n(n,i){return void 0===i&&(i=sx),t.call(this,n,i)||this}return E(n,t),n}(ex),ox=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return E(n,t),n.prototype.pk=function(n){return this===n||my(this,n)&&t.prototype.pk.call(this,n)&&_P(this,n)},T(n,[{key:"Jw",get:function(){return this.Kw||(this.Kw=AP(this)),this.Kw}}]),n}(F_),ax=function(t){function n(n,i,e){return void 0===e&&(e=b_.DEFAULT),t.call(this,Dk.rA,"",i||"","",!1,e,!1,n)||this}return E(n,t),n}(eP),hx=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).us=b_.ID3,e}E(n,t);var i=n.prototype;return i.SE=function(n){bP(n,this.PW),t.prototype.SE.call(this,n)},i.$w=function(){return Ly(this)},n}(ax);function cx(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=JP(t.value);return t.THEOplayerTextTrackCue=new ox(i,e),t.THEOplayerTextTrackCue}var fx=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Oy=void 0,i.lG=function(){i.K_!==Dy.q_&&(i.dG(),i.wG(__.LOADED))},i.Oy=n,i.Oy.addEventListener("cuechange",i.lG),i.K_=i.mG,gu(function(){i.lG()}),i}E(n,t);var i=n.prototype;return i.oP=function(n){t.prototype.oP.call(this,n),this.mG=this.K_},i.wG=function(t){this.rg=g.max(this.rg,t)},i.dG=function(){var t=this.Oy.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(cx(t[e]||t.item(e)));return Ms(i,VD),i}(t),i=GD(this.og.R_.slice(),n),e=0,r=i.DW;e<r.length;e++){var s=r[e];this.vE(s)}for(var u=0,o=i.NW;u<o.length;u++){var a=o[u];this.SE(a)}}},i.Bd=function(){this.Oy.removeEventListener("cuechange",this.lG),t.prototype.Bd.call(this)},T(n,[{key:"X_",get:function(){return this.Oy.id||""}},{key:"Z_",get:function(){return this.Oy.inBandMetadataTrackDispatchType||""}},{key:"V_",get:function(){return this.Oy.language||""}},{key:"mG",get:function(){return By(this.Oy.mode)},set:function(t){this.Oy.mode=t}},{key:"Hy",get:function(){return this.Oy}}]),n}(hx),lx=function(t){function n(n,i){var e;return(e=t.call(this)||this).YG=Xr(),e.YR=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.t_).us){i.next=4;break}return i.next=4,jr.awrap(n.uu(ty.w_));case 4:if(n.us===b_.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.og.N_){i.next=11;break}return i.next=9,jr.awrap(n.uu(ty.n_));case 9:i.next=6;break;case 11:e.jG(n);case 12:case"end":return i.stop()}},null,null,null,We)},e.jR=function(t){var n=t.t_;if(n.us===b_.ID3&&e.YG.has(n.F_)){var i=e.YG.get(n.F_);e.S_(i),e.yE.EE(i),n.Js(ty.n_,e.QG)}},e.QG=function(t){vx(t.Qy)&&e.ZG(t.Qy)},e.yE=n,e.KG=i,e.JG(),e}E(n,t);var i=n.prototype;return i.JG=function(){this.KG.js(Qm.Yw,this.YR),this.KG.js(Qm.Qw,this.jR)},i.$G=function(){this.KG.Js(Qm.Yw,this.YR),this.KG.Js(Qm.Qw,this.jR)},i.jG=function(t){var n=t.og.R_[0];if(vx(n)){var i=function(t){var n=t.match(dx);if(!n)return;return{t_:n[1],V_:n[2]}}(n.Jy.description),e=i.t_,r=i.V_;if(!this.tq(e,r)){var s=this.yE.AE(Dk.iA,t.X_,e,r,!1,b_.TTML);this.T_(s),this.YG.set(t.F_,s);for(var u=0,o=t.og.R_;u<o.length;u++){var a=o[u];vx(a)&&this.ZG(a)}t.js(ty.n_,this.QG)}}},i.tq=function(t,n){return this.ZA.R_.some(function(i){return i.z_===t&&i.V_===n})},i.ZG=function(t){if(t.t_)for(var n=this.YG.get(t.t_.F_),i=pk(t.Jy.text,n,{op:0,ap:1/0,cp:t.Zy}),e=0;e<i.length;e++){var r=i[e];n.SE(r)}},i.I_=function(){var n,i,e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,i=this.KG.R_;n<i.length;n++)i[n].Js(ty.n_,this.QG);for(e=0,r=this.ZA.R_;e<r.length;e++)s=r[e],this.yE.EE(s);return this.YG.clear(),u.next=5,jr.awrap(t.prototype.I_.call(this));case 5:case"end":return u.stop()}},null,this,null,We)},i.Bd=function(){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.$G(),n.next=3,jr.awrap(t.prototype.Bd.call(this));case 3:case"end":return n.stop()}},null,this,null,We)},n}(Kk);function vx(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Jy)&&dx.test(n.description);var n}var dx=/^Track:(.+),Lang:(.+)$/;var wx=function(t){function n(n){var i;return(i=t.call(this,Df.cf)||this).errorObject=void 0,i.errorObject=n,i}return E(n,t),T(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Su),gx=function(t){function n(){return t.call(this,Df.hf)||this}return E(n,t),n}(Su),mx=function(t){function n(n){var i;return(i=t.call(this,"Hf")||this).nq=n,i}return E(n,t),n}(Su),yx=new aN,px=function(t){function n(n){var i;return(i=t.call(this,"Fc")||this).session=n,i}return E(n,t),n}(Su),_x=function(t){function e(e,r,s){var u;return(u=t.call(this)||this).iq=!1,u.rq=!1,u.Kv=new uu,u.uq=void 0,u.Lc=function(t){if(!u.Kv.zs.Rs)switch(t.vu){case"license-request":u.aI(t.fu,t.du).catch(function(t){return u.kh(t)});break;default:u.kh(new n_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.vu))}},u.oq=function(t){u.aq.jc.Eu(function(t,n){switch(t){case"usable":i.Yn(function(){u.rq=!0,u.Ys(new gx)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Ys(new mx(n))}})},u.cq=function(t){u.kh(new n_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.aq=e,u.hq=r,u.fq=s,e.js("fu",u.Lc),e.js("au",u.oq),e.js("wu",u.cq),e.qc.then(function(){return u.vq()}),u}E(e,t);var r=e.prototype;return r.Hc=function(){var t=this;return this.iq=!0,yx.YU(function(n){return t.lq(n)},this.Kv.zs)},r.lq=function(t){var i,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,hu(t),s.next=4,jr.awrap(this.hq.nI(t));case 4:return s.next=6,jr.awrap(this.hq.iI(this.fq.fs,this.fq.pu,t));case 6:return i=s.sent,s.next=9,jr.awrap(this.aq.Hc(this.fq.fs,this.fq.pu,i));case 9:s.next=18;break;case 11:throw s.prev=11,s.t0=s.catch(0),cu(s.t0),e=s.t0 instanceof sa?s.t0.Gu:void 0,r=new n_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",s.t0,void 0,void 0,void 0,void 0,e),this.kh(r),r;case 18:case"end":return s.stop()}},null,this,[[0,11]],We)},r.aI=function(t,i){var e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,!ia(t)){u.next=7;break}return u.next=4,jr.awrap(this.hq._I(new _(t),this.Kv.zs));case 4:e=u.sent,u.next=10;break;case 7:return u.next=9,jr.awrap(this.hq.gI(new _(t),i,this.Kv.zs));case 9:e=u.sent;case 10:u.next=17;break;case 12:if(u.prev=12,u.t0=u.catch(0),!au(u.t0)){u.next=16;break}return u.abrupt("return");case 16:throw u.t0;case 17:if(!this.Kv.zs.Rs){u.next=19;break}return u.abrupt("return");case 19:return u.prev=19,this.uq=new ta,u.next=23,jr.awrap(this.aq.Wc(e));case 23:this.uq.Hu(pu(100)),u.next=31;break;case 26:throw u.prev=26,u.t1=u.catch(19),null==(r=this.uq)||r.Hu(),s=u.t1 instanceof sa?u.t1.Gu:void 0,new n_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",u.t1,void 0,void 0,void 0,void 0,s);case 31:case"end":return u.stop()}},null,this,[[0,12],[19,26]],We)},r.kh=function(t){var i=t instanceof n_?t:new n_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Ys(new wx(i)),this.Fc()},r.vq=function(){this.aq.Js("fu",this.Lc),this.aq.Js("au",this.oq),this.aq.Js("wu",this.cq),this.rq=!1,this.Kv.Xs(),this.Ys(new px(this))},r.Fc=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ks(),!this.uq){t.next=4;break}return t.next=4,jr.awrap(this.uq.Uu);case 4:return this.vq(),t.next=7,jr.awrap(this.aq.Fc().catch(Z));case 7:case"end":return t.stop()}},null,this,null,We)},e}(Au),bx=[Df.hf,Df.cf,Df.Ff],kx=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Mc=void 0,r.Zc=void 0,r.dq=void 0,r.wq=[],r._q=void 0,r.gq=[],r.mq=function(t){t.session.Js(bx,r.qs),t.session.Js("Fc",r.mq),Gs(r.wq,t.session)},r.Mc=n,r.Zc=i,r.dq=e,r}E(n,t);var i=n.prototype;return i.wI=function(){return this.dq.wI()},i.yq=function(t){return this._q||(this._q=this.kq(t)),this._q},i.kq=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return hu(t),i.next=3,jr.awrap(this.dq._I(new _(na()),t));case 3:if(n=i.sent,hu(t),this.Zc){i.next=7;break}throw new l("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,jr.awrap(this.Zc.nh(n.buffer));case 9:case"end":return i.stop()}},null,this,null,We)},i.bq=function(t){var n,i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.Zc){e.next=2;break}throw new l("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.gq.push(t),e.next=6,jr.awrap(this.Zc.$c("temporary"));case 6:return n=e.sent,i=new _x(n,this.dq,t),this.wq.push(i),i.js(bx,this.qs),i.js("Fc",this.mq),e.abrupt("return",i);case 12:return e.prev=12,Gs(this.gq,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],We)},i.pq=function(t){if(t.Aq)return!1;for(var n=0,i=this.wq;n<i.length;n++){if(Ax(i[n].fq,t))return!0}for(var e=0,r=this.gq;e<r.length;e++){if(Ax(r[e],t))return!0}return!1},i.Bd=function(){var t;return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Zc=void 0,this.Ks(),t=this.wq.slice(),Zs(this.wq),n.next=6,jr.awrap(We.all(t.map(function(t){return t.Fc()})));case 6:this.dq.Bs();case 7:case"end":return n.stop()}},null,this,null,We)},T(n,[{key:"Kc",get:function(){return this.Mc}}]),n}(Au);function Ax(t,n){return!t.Aq&&t.fs===n.fs&&Wu(t.pu,n.pu)}var Tx=function(t){function e(n){var i;return(i=t.call(this)||this).eN=void 0,i.Kv=new uu,i.rX=new aN,i.Rh=void 0,i.dq=void 0,i.rN=void 0,i.Mc=void 0,i.Tq=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,jr.awrap(i.Sq(t.fs,t.pu,i.Kv.zs));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),au(n.t0)||i.kh(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],We)},i.eN=n,i.eN.js(ku._u,i.Tq),i}E(e,t);var r=e.prototype;return r.zc=function(t,n){this.rN=t,this.NX(n)},r.NX=function(t){this.Rh=t,this.Eq(this.Kv.zs).catch(fu)},r.Eq=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.Or.ze){n.next=5;break}return n.next=3,jr.awrap(this.Iq(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Rh||!this.Rh.Rq){n.next=9;break}return n.next=8,jr.awrap(this.Nq(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,We)},r.Iq=function(t){var n,i,e,r,s,u,o,a,h,c,f;return jr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(null==(n=this.Rh)?void 0:n.ON){l.next=3;break}return l.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(s=null==(u=this.Rh)?void 0:u.ON)?s:[];case 5:if(!(e<r.length)){l.next=27;break}o=r[e],a=0,h=null!=(c=o.WR)?c:[];case 8:if(!(a<h.length)){l.next=22;break}return f=h[a],l.prev=10,l.next=13,jr.awrap(this.Sq(o.Kc.fs,f,t));case 13:i=!0,l.next=19;break;case 16:l.prev=16,l.t0=l.catch(10),cu(l.t0);case 19:a++,l.next=8;break;case 22:if(!i){l.next=24;break}return l.abrupt("return",!0);case 24:e++,l.next=5;break;case 27:return l.abrupt("return",!1);case 28:case"end":return l.stop()}},null,this,[[10,16]],We)},r.Sq=function(t,e,r){var s,u,o,a,h,c,f,l,v,d;return jr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(hu(r),e.byteLength){w.next=3;break}return w.abrupt("return");case 3:if(this.Rh&&this.Rh.ON.length){w.next=5;break}throw new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Jr||t===ns||t===ts){w.next=8;break}return w.abrupt("return");case 8:s=wT(t,e),u=this.Rh.ON,a=0;case 11:if(!(a<u.length)){w.next=42;break}if(h=u[a],hu(r),(c=s[h.Kc.vs])&&h.Kc.fs===t){w.next=17;break}return w.abrupt("continue",39);case 17:return w.prev=17,w.next=20,jr.awrap(this.Dq(h,r));case 20:if(!(f=w.sent).wI()){w.next=24;break}return w.next=24,jr.awrap(f.yq());case 24:if(l=this.eN._y,v={fs:h.Kc.fs,pu:c,Aq:l},!this.Cq(f,v)){w.next=32;break}return w.next=29,jr.awrap(f.bq(v));case 29:return d=w.sent,w.next=32,jr.awrap(d.Hc());case 32:return w.abrupt("return");case 35:w.prev=35,w.t0=w.catch(17),cu(w.t0),o=w.t0;case 39:a++,w.next=11;break;case 42:return w.next=44,jr.awrap(i.Ar());case 44:if(!w.sent){w.next=48;break}throw new n_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new n_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return w.stop()}},null,this,[[17,35]],We)},r.Nq=function(t){var n,i,e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=null==(n=this.Rh)?void 0:n.ON){u.next=3;break}return u.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){u.next=23;break}return r=i[e],hu(t),u.prev=7,u.next=10,jr.awrap(this.Dq(r,t));case 10:if(!(s=u.sent).wI()){u.next=14;break}return u.next=14,jr.awrap(s.yq());case 14:return u.abrupt("return");case 17:u.prev=17,u.t0=u.catch(7),cu(u.t0);case 20:e++,u.next=4;break;case 23:case"end":return u.stop()}},null,this,[[7,17]],We)},r.Cq=function(t,n){return i.Or.He||!t.pq(n)},r.Dq=function(t,n){var i=this;return this.rX.YU(function(n){return i.Pq(t,n)},n)},r.Pq=function(t,n){var i,e,r,s,u;return jr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(hu(n),this.Rh&&this.dq&&this.rN){o.next=3;break}throw new l("Not initialized");case 3:if(!this.Mc){o.next=7;break}if(this.Mc.Kc===t.Kc){o.next=6;break}throw new l("Internal key system error");case 6:return o.abrupt("return",this.Mc);case 7:return i=this.dq,e=Fr({},t,{jN:t.jN.map(function(n){var e;return Fr({},n,{persistentState:null!=(e=n.persistentState)?e:i.UI(t.Kc),fh:n.fh||i.fh(t.Kc)})})}),o.next=11,jr.awrap(this.rN.EX(e.Kc,e.jN));case 11:return r=o.sent,s=i.zR(e),(u=new kx(e.Kc,r,s)).js([Df.hf,Df.cf,Df.Ff],this.qs),this.Mc=u,o.abrupt("return",u);case 17:case"end":return o.stop()}},null,this,null,We)},r.kh=function(t){var i=t instanceof n_?t:new n_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Ys(new wx(i))},r.I_=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.rN=void 0,this.Rh=void 0,this.Kv.Xs(),this.Kv=new uu,t.next=6,jr.awrap(this.Bq());case 6:case"end":return t.stop()}},null,this,null,We)},r.Bq=function(){var t;return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jr.awrap(this.rX.Xs());case 2:if(!(t=this.Mc)){n.next=8;break}return t.Js(Df.Ff,this.qs),this.Mc=void 0,n.next=8,jr.awrap(t.Bd());case 8:case"end":return n.stop()}},null,this,null,We)},r.Bs=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ks(),this.eN.Js(ku._u,this.Tq),t.next=4,jr.awrap(this.I_());case 4:return t.next=6,jr.awrap(this.rX.Bd());case 6:case"end":return t.stop()}},null,this,null,We)},T(e,[{key:"Oq",get:function(){var t;return null==(t=this.Mc)?void 0:t.Kc}},{key:"CN",get:function(){return this.dq},set:function(t){this.dq=t}}]),e}(Au),Sx=M.Sn||M.En,Ex=M.Wn,Ix=.5,Rx=5,Cx=M.Cn,Nx=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Fh=void 0,s.xq=void 0,s.sN=void 0,s.ED=!0,s.rN=void 0,s.Lq=new aN,s.Mq=void 0,s.Uq=void 0,s.Xq=void 0,s.pX=void 0,s.Dm=void 0,s.NC=void 0,s.Fq=[],s.Hq=void 0,s.zq=void 0,s.Vq=void 0,s.Wq=void 0,s.Gq=void 0,s.qq=void 0,s.Yq=NaN,s.jq=void 0,s.Qq=void 0,s.EC=!1,s.Zq=We.resolve(),s.Kq=new uu,s.Jq=[],s.$q=fE.gC(),s.tY=void 0,s.nY=1,s.iY=!1,s.eY=!1,s.rY=!1,s.sY=!1,s._s=void 0,s.uY=!1,s.oY=!1,s.aY=!1,s.cY=!1,s.hY=0,s.fY=function(t){var n=t.track,i=s.vY(n);s.lY(n,i)},s.dY=function(t){var n=Bx(s.Hq,t.track);n&&s.Hq.S_(n)},s.wY=function(){for(var t=0;t<s.Dm.N_;t++){var n=s.Dm.A_(t);n instanceof nx&&n.kG()}},s._Y=function(){s.Hq.I_()},s.gY=function(){var t=s.rN,n=t.QV,i=t.ZV;if(n&&i)if(t.MX)s.mY();else if(t.rg!==CD.sV){var e=n.vy,r=i.vy;if(0!==e.N_&&0!==r.N_){var u=s.qg;if(u<e.OD(0)||u<r.OD(0))s.mY();else if(e.QN(u)!==r.QN(u)){if(t.UV(u))return;s.yY()}else{if(s.mY(),!s.hY&&s.Xq.SW())e.tC(r).sC(u,u+Ix)&&(s.hY=_R(s.kY))}}else s.mY()}},s.kY=function(){s.hY=0,s.gY()},s.bY=function(){if(!(s.$g||s.rg>=Zy.Ug)){0;var t=s.rN,n=t.QV,i=t.ZV;if(n&&i){var e=s.qg,r=n.vy,u=i.vy;if(r.QN(e)&&u.QN(e))r.tC(u).sC(e-Rx,e)&&(s.aY?s.mY():s.pY())}}},s.AY=function(){s.Ys(new mp(s.qg))},s.TY=function(){s.SY(new ou),s.Ys(new gp(s.qg))},s.EY=function(){s.IY(),s.Ys(new yA(s.qg))},s.RY=function(){s.NY(s.Jg)},s.DY=function(){s.Ys(new kp(s.Yg))},s.CY=function(){s.Ys(new PN(s.qg))},s.PY=function(){s.Ys(new xN)},s.BY=function(){var t=s.qg,n=s.$g,i=s.rg<Zy.Ug&&!s.jg,e=void 0!==s.Qq,r=e&&s.Qq!==t;(n||!e||r&&!i)&&(s.Ys(new Tp(s.qg,void 0)),s.Qq=t)},s.OY=function(){!s.iY&&s.jg&&(s.iY=!0,s.Ys(new Sp(s.qg)))},s.xY=function(){if(null!==s.Fh.error){var t,n=s.Fh.error;s.wN(new i_(null!=(t=n.code)?t:Kp.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.LY=function(){s.eY&&(s.MY(),s.rY=!0)},s.UY=function(){s.Ys(new Cp(s.qg,s.im))},s.XY=function(){s.nm>0&&s.tm>0&&s.Ys(new oA)},s.FY=function(t){s.Ys(new Du(t.initDataType,t.initData||new ArrayBuffer(0)))},s.HY=function(){s.Ys(new Pu)},s.zY=function(t){var n=t.initData,i=n?Qo(n).buffer:new ArrayBuffer(0);s.Ys(new Du(Jr,i))},s.VY=function(t){if(t.initData){var n=Dx(t.initData);if(!n)return;s.Ys(new Du(ns,n))}else s.Ys(new Du(ns,new ArrayBuffer(0)))},s.WY=function(t){var n=t.initData,i=n?Qo(n).buffer:new ArrayBuffer(0);s.Ys(new Du(Jr,i))},s.GY=function(){s.IY()},s.qY=function(t){s.SY(t)},s.YY=function(t){s.Ys(t),t.type===Df.cf&&s.wN(r_(t.errorObject))},s.Fh=n,s._s=i,s.xq=e,s.NC=r,s.Uq=new jD(Kt(s)),s.Uq.js(dp.l_,s.qs),s.Xq=new HD(Kt(s)),s.Xq.js(dp.Gg,s.EY),s.pX=new Tx(Kt(s)),s.pX.js([Df.hf,Df.cf,Df.Ff],s.YY),s.Dm=new Pk,s.Hq=new Pk,s.zq=new WS([s.Dm,s.Hq]),s.Vq=new lx(Kt(s),s.zq),s.Wq=new WS([s.zq,s.Vq.ZA]),s.Gq=new ux(Kt(s)),s.jY(),s.BN(),s}E(n,t);var e=n.prototype;return e.QY=function(){this.DN.ended||this.qg===this.Yg||(this.iY=!1)},e.ZY=function(){return void 0!==this.qq&&this.Yg===this.qq},e.NY=function(t){this.nY!==t&&(this.nY=t,this.Ys(new Ap(this.qg,t)))},e.JN=function(){return IC(this.Fh)},e.Um=function(){var t=this.KY();return this.JY(),t},e.JY=function(){this.uY?this.oY&&(this.oY=!1,this.Ys(new mp(this.qg))):this.$Y()},e.$Y=function(){if(this.Mq)this.Mq.Um();else{M.Cn&&!M.un&&this.Fh.preload===eE.yD&&(this.Fh.preload=eE.rA);var t=this.Jg,n=this.Fh.play();t!==this.DN.playbackRate&&(this.Jg=t),$(n)?n.then(this.GY,this.qY):this.Xq.SW()&&this.IY()}},e.Xm=function(){this.uY?this.oY||(this.oY=!0,this.Ys(new gp(this.qg))):this.tj()},e.tj=function(){this.Mq?this.Mq.Xm():(this.Fh.pause(),this.Xq.Wc()),this.nj(new ou)},e.KY=function(){var t=new ta;return this.Jq.push(t),t.Uu},e.ij=function(){for(var t=0,n=this.Jq;t<n.length;t++){n[t].Hu(void 0)}Zs(this.Jq)},e.nj=function(t){for(var n=0,i=this.Jq;n<i.length;n++){i[n].Vu(t)}Zs(this.Jq)},e.IY=function(){this.uY||this.Mq||this.ij()},e.SY=function(t){this.uY||this.Mq||this.nj(t)},e.Bu=function(t,n){this.Mq?this.Mq.qg=t:(this.Kq.Xs(),this.Kq=new uu,this.Zq=this.ej(t,this.Zq,this.Kq.zs).catch(Z))},e.KN=function(t){var n=this.$N;if(n&&!p(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Bu(i)}},e.ej=function(t,n,i){var e,r,s,u,o,a,h,c,f=this;return jr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,this.qq=t,this.Yq=t,this.EC=!0,this.iY&&!this.ZY()&&(this.iY=!1),this.Ys(new Ip(t)),l.next=8,jr.awrap(n.catch(Z));case 8:if(hu(i),this.sY&&this.rj(),this.rg!==Zy.xg){l.next=13;break}return l.next=13,jr.awrap(this.uu(dp.l_,i));case 13:if(0!==this.Fh.seekable.length){l.next=19;break}return l.next=16,jr.awrap(We.race([$m(this.Fh,"timeupdate",i),pu(100,i)]));case 16:hu(i),l.next=13;break;case 19:e=this.sj(t),r=this.Ry,s=!0,u=!1;case 23:if((r=this.Ry).N_>0&&!r.QN(e)&&(e=r.WD(e),s=!0),Cx&&void 0!==(o=this.uj())&&e>o&&(e=o,s=!0),u){l.next=37;break}if(!(void 0!==(a=this.aj())&&e>a)){l.next=37;break}return u=!0,l.next=33,jr.awrap(this.cj(a,i));case 33:return l.next=35,jr.awrap($m(this.Fh,"seeked",i));case 35:hu(i),s=!0;case 37:if(!s){l.next=56;break}return s=!1,l.next=41,jr.awrap(this.cj(e,i));case 41:hu(i),h=this.qg,r=this.Ry,e=r.WD(e),c=1;case 46:if(!(g.abs(e-h)>=1/6)){l.next=56;break}return r=this.Ry,e=xx(e,r,c),l.next=51,jr.awrap(this.cj(e,i));case 51:hu(i),h=this.qg,c++,l.next=46;break;case 56:if(this.Fh.seeking||this.rg<Zy.Mg){l.next=58;break}return l.abrupt("break",63);case 58:return l.next=60,jr.awrap(du(function(t){var n;return We.race([$m(f.Fh,"seeked",t),f.uu([Df.Ef,Df.df,dp.l_],t),null==(n=f.rN)?void 0:n.uu(bN.QP,t)].filter(U))},i));case 60:hu(i),l.next=23;break;case 63:this.hj(),l.next=71;break;case 66:if(l.prev=66,l.t0=l.catch(0),!au(l.t0)){l.next=70;break}return l.abrupt("return");case 70:0;case 71:case"end":return l.stop()}},null,this,[[0,66]],We)},e.cj=function(t,n){var i,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(hu(n),i=this.Ry,t=i.WD(t),!this.sY){s.next=18;break}e=!0;case 5:if(!(e||this.rg<Zy.Ug)){s.next=17;break}if((i=this.Ry).QN(t)||(t=i.WD(t),e=!0),!e){s.next=13;break}return e=!1,this.qq=t,this.vj(this.qg),s.abrupt("continue",5);case 13:return s.next=15,jr.awrap(this.uu([dp.l_,Df.df],n));case 15:s.next=5;break;case 17:hu(n);case 18:if(r=$m(this.Fh,"seeking",n),this.Fh.currentTime=t,this.qq=void 0,this.vj(this.qg),!this.Fh.seeking){s.next=25;break}return s.next=25,jr.awrap(r);case 25:case"end":return s.stop()}},null,this,null,We)},e.sj=function(t){var n=this.vy;if(n&&!n.QN(t)){var i=n.iC(t,.05);if(i>-1){var e=n.OD(i);if(t<e)return e}}return t},e.uj=function(){if(this.rN&&this.rN.MX){var t=this.rN.UX,n=this.rN.XX,i=t&&n?t.YD(n):t||n;if(i&&0!==i.N_){var e=i.OD(i.N_-1),r=i.LD(i.N_-1);return g.max(e,r-.001)}}},e.aj=function(){if(this.rN&&this.rN.MX){var t=this.rN.XX;if(t&&0!==t.N_){var n=t.OD(t.N_-1),i=t.LD(t.N_-1)-.02;return i-=.001,g.max(n,i)}}},e.vj=function(t){this.Yq!==t&&(this.Yq=t,this.Ys(new Ip(t)))},e.hj=function(){this.EC=!1,this.Yq=NaN,this.sY&&this.lj(),this.Ys(new Rp(this.qg))},e.rj=function(){this.uY||(this.oY=this.Kg,this.uY=!0,this.tj())},e.lj=function(){this.uY&&(this.uY=!1,this.oY||this.JY())},e.LX=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.us===uA.RE&&DN.LX(i,this.Fh))return i;if(i.us===uA.NE&&PD.LX(i))return i}},e.Zm=function(){this.ED=!1,fr(this.Fh)&&(this.Fh.style.display="none")},e.Qm=function(){this.ED=!0,fr(this.Fh)&&(this.Fh.style.display="block")},e.AE=function(t,n,i,e,r,s,u,o){var a=new eP(t,n,i,e,r,s,u,o);return this.Dm.T_(a),this.Gq.T_(a),a},e.XN=function(){return!0},e.HN=function(t,n,i,e){var r=s.createElement("track");r.src=lg(t),r.kind=n,r.label=null!=i?i:"",e&&(r.srclang=e),r.id=ZI(),this.Fh.appendChild(r);var u=this.Fh.textTracks.getTrackById(r.id),o=new nx(u,r);return this.Hq.T_(o),this.Fq.push(o),o},e.EE=function(t){this.Dm.S_(t),this.Gq.S_(t)},e.WN=function(){for(var t=0,n=this.Dm.R_.slice();t<n.length;t++){n[t].Bd()}this.Dm.I_();for(var i=0,e=this.Fq.slice();i<e.length;i++){var r=e[i];this.Hq.S_(r),r.Bd()}Zs(this.Fq)},e.BN=function(){var t=this.Fh.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.fY),t.addEventListener("removetrack",this.dY),t.addEventListener("change",this.wY)),this.Fh.addEventListener("emptied",this._Y)},e.qN=function(){var t=this.Fh.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.fY),t.removeEventListener("removetrack",this.dY),t.removeEventListener("change",this.wY)),this.Fh.removeEventListener("emptied",this._Y)},e.lY=function(t,n){if(M.Cn){if(t.kind===Dk.rA)return void this.dj(t);if(t.kind===Dk.uE&&""===t.label&&""===t.language&&!Ox(t))return void this.wj(t,n)}Bx(this.Hq,t)||this.Hq.T_(new nx(t,n))},e.dj=function(t){t.mode=Dy.Y_;var n=new fx(t);this.Hq.T_(n),this.Gq.T_(n)},e.wj=function(t,n){var i=this;t.addEventListener("cuechange",function e(){Ox(t)&&(t.removeEventListener("cuechange",e),i.Hq.T_(new nx(t,n)))}),t.mode=Dy.Y_},e.vY=function(t){for(var n=this.Fh.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},e.zc=function(t){var n=this;return this.Lq.YU(function(i){var e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(hu(i),!n.rN){r.next=3;break}throw new l("Already loaded a media source");case 3:if(t.us!==uA.RE){r.next=9;break}e=new DN(t,n,n.pX,n._s),n.sY=!1,n._j(new jD(n)),r.next=17;break;case 9:if(t.us!==uA.NE){r.next=16;break}e=new PD(t,n,n.pX,n._s),n.sY=Sx,n._j(n.sY?new FD(n):new jD(n)),Ex&&(n.js(Df.Uf,n.gY),n.js(dp.l_,n.bY)),r.next=17;break;case 16:throw new l("Unsupported configuration");case 17:return n.rN=e,r.next=20,jr.awrap(e.mL());case 20:return r.abrupt("return",e);case 21:case"end":return r.stop()}},null,null,null,We)})},e.yY=function(){if(!this.aY){var t=this.Jg;this.aY=!0,this.Jg=t,this.Fh.playbackRate=0,this.Uq&&this.Uq.mW()}},e.mY=function(){if(this.aY){var t=this.Jg;this.aY=!1,this.Jg=t,this.pY()}},e.pY=function(){this.Fh.currentTime=this.Fh.currentTime,this.Uq&&this.Uq.mW()},e._j=function(t){var n=this.rg;this.Uq.Bs(),this.Uq=t,this.Uq.js(dp.l_,this.qs);var i=this.rg;n!==i&&this.Ys(new Pp(this.qg,i))},e.I_=function(){var t=this;return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.EC=!1,this.$q=fE.gC(),this.Kq.Xs(),this.qq=void 0,this.Yq=NaN,this.jq=void 0,this.sY=!1,this.uY=!1,this.sN=void 0,this.iY=!1,this.Qq=void 0,this.eY=!1,this.rY&&(this.jY(),this.rY=!1),this.nj(new ou),this._j(new jD(this)),this.Xq.I_(),this.mY(),Ex&&(bR(this.hY),this.hY=0,this.Js(Df.Uf,this.gY),this.Js(dp.l_,this.bY)),n.next=20,jr.awrap(this.Lq.Xs());case 20:return n.next=22,jr.awrap(this.Lq.YU(function(){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.rN){n.next=4;break}return n.next=3,jr.awrap(t.rN.Bs());case 3:t.rN=void 0;case 4:case"end":return n.stop()}},null,null,null,We)}));case 22:case"end":return n.stop()}},null,this,null,We)},e.Bs=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.rY=!1,this.MY(),this.qN(),t.next=5,jr.awrap(this.I_());case 5:return t.next=7,jr.awrap(this.Lq.Bd());case 7:return this.Xq.Bs(),this.Uq.Bs(),t.next=11,jr.awrap(this.pX.Bs());case 11:return this.WN(),this.Dm.Bd(),this.Hq.Bd(),t.next=16,jr.awrap(this.Vq.Bd());case 16:this.zq.Bd(),this.Wq.Bd(),this.Ks();case 19:case"end":return t.stop()}},null,this,null,We)},e.jY=function(){this.DN.addEventListener("play",this.AY),this.DN.addEventListener("pause",this.TY),this.DN.addEventListener("timeupdate",this.BY),this.DN.addEventListener("progress",this.CY),this.DN.addEventListener("loadstart",this.PY),this.DN.addEventListener("ended",this.OY),this.DN.addEventListener("ratechange",this.RY),this.DN.addEventListener("volumechange",this.UY),this.DN.addEventListener("durationchange",this.DY),this.DN.addEventListener("resize",this.XY),this.DN.addEventListener("loadedmetadata",this.XY),this.DN.addEventListener("error",this.xY),this.DN.addEventListener("emptied",this.LY),Ps()?(this.Fh.addEventListener("encrypted",this.FY),this.Fh.addEventListener("waitingforkey",this.HY)):void 0!==de.WebKitMediaKeys&&"function"==typeof de.WebKitMediaKeys.isTypeSupported?this.Fh.addEventListener("webkitneedkey",this.VY):xs()?this.Fh.addEventListener("webkitneedkey",this.WY):void 0!==de.MSMediaKeys&&"function"==typeof de.MSMediaKeys.isTypeSupported&&this.Fh.addEventListener("msneedkey",this.zY)},e.MY=function(){this.DN.removeEventListener("play",this.AY),this.DN.removeEventListener("pause",this.TY),this.DN.removeEventListener("timeupdate",this.BY),this.DN.removeEventListener("progress",this.CY),this.DN.removeEventListener("loadstart",this.PY),this.DN.removeEventListener("ended",this.OY),this.DN.removeEventListener("ratechange",this.RY),this.DN.removeEventListener("volumechange",this.UY),this.DN.removeEventListener("durationchange",this.DY),this.DN.removeEventListener("resize",this.XY),this.DN.removeEventListener("loadedmetadata",this.XY),this.DN.removeEventListener("error",this.xY),this.DN.removeEventListener("encrypted",this.FY),this.DN.removeEventListener("waitingforkey",this.HY),this.DN.removeEventListener("webkitneedkey",this.VY),this.DN.removeEventListener("webkitneedkey",this.WY),this.DN.removeEventListener("msneedkey",this.zY),this.DN.removeEventListener("emptied",this.LY)},e.gj=function(){var t;this.Mq||(this.$q=this.Ey,this.Mq=new OD((t=this).qg,t.Yg,t.jg,t.Kg,t.$g,t.Zg,t.Jg,t.im,t.rg),this.MY(),this.Mq.js(BD,this.qs))},e.mj=function(){if(this.Mq){var t,n,i=this.Mq;this.Mq=void 0,this.Uq.mW(),t=this,(n=i).Yg===t.Yg||p(n.Yg)&&p(t.Yg)||t.Ys(new kp(t.Yg)),t.Zg=n.Zg,t.im=n.im,t.Jg=n.Jg,n.Kg?t.Xm():t.Um().catch(Z),n.qg!==t.qg||n.rg>Zy.xg&&t.rg===Zy.xg?t.Bu(n.qg):!n.$g&&t.$g?t.Ys(new Ip(t.qg)):n.$g&&!t.$g&&t.rg>=Zy.Mg&&t.Ys(new Rp(t.qg)),!n.jg&&t.jg&&t.Ys(new Sp(t.qg)),i.Bs(),this.jY()}},e.wN=function(t){this.sN=t,this.nj(this.sN),this.Ys(new XD(this.sN))},e.yj=function(){this.bj||(oO(this.Fh,i.Or),this.cY=!0)},e.pj=function(t){t.appendChild(this.Fh)},e.oW=function(){Ex&&this.gY(),this.Uq.mW()},e.oy=function(){this.pX.Bq().catch(Z)},T(n,[{key:"kW",get:function(){return this.aY}},{key:"vy",get:function(){return this.rN?this.rN.vy:fE.gC()}},{key:"ly",get:function(){var t=this.$N;if(t&&!p(t.getTime())){var n=1e3*this.qg;return new Date(t.getTime()+n)}}},{key:"$N",get:function(){if(this.DN.getStartDate)return this.EC&&this.jq||(this.jq=this.DN.getStartDate()),this.jq}},{key:"qg",get:function(){return this.Mq?this.Mq.qg:void 0!==this.qq?this.qq:this.Fh.currentTime}},{key:"IU",get:function(){return this.xq}},{key:"Yg",get:function(){return this.Mq?this.Mq.Yg:this.rN?this.rN.Yg:this.Fh.duration}},{key:"jg",get:function(){return this.$g?this.ZY():this.Mq?this.Mq.jg:this.Fh.ended||this.iY}},{key:"wu",get:function(){return this.sN}},{key:"DN",get:function(){return this.Fh}},{key:"Kg",get:function(){return this.uY?this.oY:this.Mq?this.Mq.Kg:this.Fh.paused}},{key:"Ey",get:function(){return this.$q.$D(fE.dC(this.Fh.played))}},{key:"vT",get:function(){return this.Fh.offsetHeight*i.Or.Xe}},{key:"Ck",get:function(){return this.Fh.offsetWidth*i.Or.Xe}},{key:"VN",get:function(){return dE}},{key:"rg",get:function(){return this.Uq.rg}},{key:"Ry",get:function(){return this.rN?this.rN.Ry:fE.gC()}},{key:"$g",get:function(){return this.Mq?this.Mq.$g:this.EC}},{key:"Zg",get:function(){return this.Mq?this.Mq.Zg:this.Fh.muted},set:function(t){this.Mq?this.Mq.Zg=t:this.Fh.muted=t}},{key:"Jg",get:function(){return this.Mq?this.Mq.Jg:void 0!==this.tY?this.tY:this.Fh.playbackRate},set:function(t){this.Mq?this.Mq.Jg=t:this.Kg||this.aY?(this.tY=t,this.NY(t)):(this.tY=void 0,this.Fh.playbackRate=t)}},{key:"Aj",get:function(){return this.ED}},{key:"im",get:function(){return this.Mq?this.Mq.im:this.Fh.volume},set:function(t){this.Mq?this.Mq.im=t:this.Fh.volume=t}},{key:"Lm",get:function(){return this.Wq}},{key:"NU",get:function(){return this.NC}},{key:"_y",get:function(){return!!this.Fh.webkitCurrentPlaybackTargetIsWireless}},{key:"bj",get:function(){return this.cY}},{key:"Tj",get:function(){return Fr({},IN)}},{key:"CN",get:function(){return this.pX.CN},set:function(t){this.pX.CN=t}},{key:"Oq",get:function(){return this.pX.Oq}},{key:"Dy",get:function(){return this.eY},set:function(t){this.eY=t,this.rY&&!this.eY&&(this.rY=!1,this.jY())}}]),n}(Au);function Dx(t){try{var n=Wo(t),i=new Ko;return Oo(Lo(vo(n,i,_o(n,i,!0)),!0))}catch(t){return}}var Px=.01;function xx(t,n,i){if(void 0===i&&(i=0),!n.N_)return 0;var e=n.WD(t),r=Px*i;return e===n.OD(0)?e+=r:e===n.LD(n.N_-1)&&(e-=r),e}function Bx(t,n){for(var i=0,e=t.R_;i<e.length;i++){var r=e[i];if(r.Hy===n)return r}}function Ox(t){return!!t.cues&&t.cues.length>0}var Lx={QM:void 0,ZM:void 0,KM:void 0,JM:void 0,$M:void 0,tU:void 0,nU:void 0},Mx=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Kw=void 0,n}return E(n,t),T(n,[{key:"Jw",get:function(){return this.Kw||(this.Kw=FC(this)),this.Kw}},{key:"QM",get:function(){}},{key:"ZM",get:function(){}},{key:"KM",get:function(){}},{key:"JM",get:function(){}},{key:"$M",get:function(){}},{key:"tU",get:function(){}},{key:"nU",get:function(){}}]),n}(Au);new Mx;var jx=function(t){function n(n,i,e){return t.call(this,n,i,e,new Mx)||this}return E(n,t),n.prototype.Km=function(){},T(n,[{key:"tm",get:function(){return 0}},{key:"nm",get:function(){return 0}}]),n}(Nx),Fx="theoplayer-texttracks",Ux=function(){function t(t){void 0===t&&(t=5),this.Sj=void 0;var n=de.document.createElement("div");n.className=Fx,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.Sj=n,this.Qm()}var n=t.prototype;return n.Zm=function(){this.Sj.style.display="none"},n.Qm=function(){this.Sj.style.display="block"},n.pj=function(t){t.appendChild(this.Sj)},n.Bd=function(){tr(this.Sj)},T(t,[{key:"wy",get:function(){return this.Sj}}]),t}();function Hx(t,n){return t?Fr({},n,yy({JM:t.JM,KM:t.KM,ZM:t.ZM,QM:t.QM,$M:t.$M,tU:t.tU,nU:t.nU})):n}function Xx(t){return t.KM&&As(t.KM,"%")?Number(t.KM.replace("%",""))/100:t.KM&&As(t.KM,"em")?Number(t.KM.replace("em","")):1}var zx,Vx,Wx=function(){function t(t,n,i,e,r){var s=this;this.Ej=Xr(),this.Ij=!0,this.Rj=void 0,this.Nj=Fr({},Lx),this.Dj=[],this.wk=void 0,this.Fh=void 0,this.xq=void 0,this.Cj=void 0,this.Pj=function(t){return s.SE(t.Qy)},this.Bj=function(t){return s.removeCue(t.Qy)},this.Oj=function(){return s.xj()},this.Lj=function(t){return s.Mj(t.Qy)},this.Uj=function(t){return s.Xj(t.Qy)},this.Fj=function(t){return s.Hj(t.Qy)},this.zj=function(t){s.Vj(t.Ck,t.vT)},this.wk=t,this.Cj=this.Rj=r,this.Fh=this.Wj(i),this.xq=e,n.appendChild(this.Fh)}var n=t.prototype;return n.Gj=function(t){var n=this.qj(t);if(!n)return!1;for(var i=0;i<n.length;i++){tr(n[i])}return this.Yj(t),!0},n.mL=function(){var t=this;this.jj(),this.wk.og.R_.forEach(function(n){return t.SE(n)}),this.IU.js("AO",this.zj),this.Vj(this.IU.CO,this.IU.DO)},n.Qj=function(t){this.Nj=t,this.Rj=Hx(this.Nj,this.Cj),this.Rj.QM&&(this.DN.style.fontFamily=this.Rj.QM),this.Rj.nU&&(this.DN.style.visibility=this.Rj.nU),this.Vj(this.IU.CO,this.IU.DO),this.Zj(!0)},n.Kj=function(){return this.Rj},n.Jj=function(t){return this.Ej.has(t.F_)},n.jj=function(){this.wk.js(ty.n_,this.Pj),this.wk.js(ty.e_,this.Bj),this.wk.js(ty.f_,this.Oj)},n.$j=function(){this.wk.Js(ty.n_,this.Pj),this.wk.Js(ty.e_,this.Bj),this.wk.Js(ty.f_,this.Oj)},n.tQ=function(t){t.js(S_.Gy,this.Lj),t.js(S_.Yy,this.Uj),t.js(S_.g_,this.Fj)},n.nQ=function(t){t.Js(S_.Gy,this.Lj),t.Js(S_.Yy,this.Uj),t.Js(S_.g_,this.Fj)},n.SE=function(t){this.tQ(t),t.Ak&&this.Mj(t)},n.removeCue=function(t){this.nQ(t),this.Xj(t)},n.xj=function(){this.wk.K_===Dy.j_?this.iQ():this.eQ()},n.iQ=function(){if(this.Ij){this.Ij=!1;var t=this.IU.CO,n=this.IU.DO;this.Vj(t,n),this.Zj(!1)}},n.eQ=function(){this.Ij||(this.Ij=!0,this.Zj(!0))},n.Mj=function(t){this.Ij||t.Ak&&!this.Jj(t)&&this.Zj(!1)},n.Xj=function(t){this.Jj(t)&&this.Zj(!1)},n.Hj=function(t){(t.Ak||this.Jj(t))&&this.Zj(!0)},n.Zj=function(t){var n=this.Dj,i=this.Ij?[]:this.wk.ag.R_.slice();this.rQ(i,n,t),this.Dj=i},n.qj=function(t){var n;return null==(n=this.Ej.get(t.F_))?void 0:n.sQ},n.uQ=function(t,n){this.Ej.set(t.F_,{Qy:t,sQ:n})},n.Yj=function(t){this.Ej.delete(t.F_)},n.oQ=function(){return this.Dj.slice()},n.Bd=function(){var t=this;tr(this.DN),this.Ej.clear(),this.$j(),this.wk.og.R_.forEach(function(n){return t.nQ(n)}),this.IU.Js("AO",this.zj)},T(t,[{key:"t_",get:function(){return this.wk}},{key:"DN",get:function(){return this.Fh}},{key:"IU",get:function(){return this.xq}},{key:"aQ",get:function(){return this.Rj}},{key:"cQ",get:function(){return this.Nj}}]),t}();function qx(t){return Gx[t||"none"]}!function(t){t.hQ='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.fQ='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.vQ='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.lQ='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(zx||(zx={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(Vx||(Vx={}));var Gx={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},$x=zr({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),Yx={ZM:Vx.WHITE,QM:"Arial, Helvetica, Sans-Serif",KM:"100%",JM:Vx.TRANSPARENT,$M:Vx.TRANSPARENT,tU:"none",nU:"visible"},Qx=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Yx)||this}E(n,t);var i=n.prototype;return i.Wj=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",or(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.Vj=function(t,n){var i=g.min(t,n)/15;this.DN.style.fontSize=i+"px"},i.rQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Ak||this.Gj(r)}for(var s=0;s<t.length;s++){var u=t[s];this.dQ(u)}},i.dQ=function(t){var n=this.qj(t);n||(n=this.wQ(t),this.uQ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.DN.appendChild(r)}},i.wQ=function(t){var n,i=[],e=t.nE,r=t.hp,u=t.Jy;if(0===w.keys(r).length){rB(n=s.createElement("div"));for(var o=Zx(u,e,t.iE,void 0),a=0;a<o.length;a++){var h=o[a];n.appendChild(h)}i.push(n)}else for(var c=0,f=w.keys(r);c<f.length;c++){var l=f[c],v=s.createElement("div");v.id=l;var d=Zx(u,e,t.iE,v);if(d){rB(v),Jx(v,"region",r[l],e);for(var g=0;g<d.length;g++){var m=d[g];v.appendChild(m)}i.push(v)}i.push(v)}return i},i.Qj=function(t){},n}(Wx);function Zx(t,n,i,e){var r,u;if(Qt(t)&&("SPAN"===(u=t).ai.toUpperCase()||"P"===u.ai.toUpperCase()||"BR"===u.ai.toUpperCase()||"DIV"===u.ai.toUpperCase()||"BODY"===u.ai.toUpperCase())){var o=function t(n){var i=n.Ci("region");if("p"===n.ai.toLowerCase())return i;var e=[];for(var r=0,s=n.Di;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||(null==e?void 0:e.id)===o){(r="BODY"===t.ai.toUpperCase()?e:function(t){var n;switch(t.ai.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":Kx(n=s.createElement("span"),t);break;case"P":n=s.createElement("p"),(i=n).style.fontFamily="inherit",i.style.color="inherit",i.style.textAlign="inherit",i.style.padding="0",i.style.margin="0",i.style.lineHeight="inherit",Kx(n,t);break;case"DIV":Kx(n=s.createElement("div"),t)}var i;return n}(t))&&(function(t,n,i,e){var r=n.Ci("style");nB(t,n.ai,r,i,e),function(t,n,i){for(var e=0,r=n.Mi;e<r.length;e++){var s=r[e],u=vk(s.ci,["ebutts","tts","xml"]);iB(t,n.ai,u,s._i,i)}}(t,n,e)}(r,t,n,e),function(t,n,i){var e=null==n?void 0:n.Ci("smpte:backgroundImage");if(e){e=e.replace("#","");var r=i&&function t(n,i){if(i(n))return n;for(var e=0,r=n.Di;e<r.length;e++){var s=r[e],u=t(s,i);if(u)return u}return null}(i,function(t){return t.Mi.some(function(t){return"id"===t.ai&&t._i===e})});r&&tB(t,r,n,!0)}!function(t,n){var i=n.Di[0];if(!i||"metadata"!==i.ai.toLowerCase())return;var e=i.Di[0];tB(t,e,n)}(t,n)}(r,t,i));for(var a=[],h=t.Si,c=0;c<h.length;c++){var f=Zx(h[c],n,i,e);f&&(a=a.concat(f))}if("BODY"!==t.ai.toUpperCase()){for(var l=0,v=a;l<v.length;l++){var d,w=v[l];null==(d=r)||d.appendChild(w)}return r?[r]:[]}return a}}else Zt(t)&&(r=s.createTextNode(t.Xi));return r?[r]:[]}function Kx(t,n){var i=n.Pi(ck,"id");i&&(t.id=i)}function Jx(t,n,i,e){nB(t,n,i.style,e,t);for(var r=0,s=w.keys(i);r<s.length;r++){var u=s[r];iB(t,n,u,i[u],t)}}function tB(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var r=s.createElement("img");r.src=function(t){var n=t&&t.Si.length>0?t.Si[0]:null;return n&&Zt(n)?"data:image/png;base64,"+n.Xi:""}(n),r.id=t.id,r.style.height="100%",r.style.maxWidth="100%",function(t,n){or(t.style,"flex");var i=n.Ci("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.Ci("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(r)}function nB(t,n,i,e,r){if(i)for(var s=0,u=i.split(" ");s<u.length;s++){var o=u[s];if(e[o])for(var a=0,h=w.keys(e[o]);a<h.length;a++){var c=h[a],f=vk(c,["ebutts","tts","xml"]);"style"===f.toLowerCase()?nB(t,n,e[o][c],e,r):iB(t,n,f,e[o][c],r)}}}function iB(t,n,i,e,r){switch(i){case"backgroundColor":t.style.backgroundColor=e;break;case"color":t.style.color=e;break;case"direction":t.style.direction=e;break;case"display":"none"===e&&(t.style.display="none");break;case"fontFamily":var s=$x.get(e);t.style.fontFamily=s||e;break;case"fontSize":As(e,"px")?e=m(e)/24+"em":As(e,"c")&&(e=e.replace("c","em")),t.style.fontSize=e;break;case"fontStyle":t.style.fontStyle=e;break;case"fontWeight":t.style.fontWeight=e;break;case"lineHeight":t.style.lineHeight=e;break;case"opacity":t.style.opacity=e;break;case"overflow":t.style.overflow=e;break;case"padding":t.style.padding=e;break;case"textAlign":"right"===e?(t.style.textAlign="right",t.style.justifyContent="flex-end"):"start"===e?(t.style.textAlign="start",t.style.justifyContent="flex-start"):"center"===e?(t.style.textAlign="center",t.style.justifyContent="center"):"end"===e?(t.style.textAlign="end",t.style.justifyContent="flex-end"):"left"===e&&(t.style.textAlign="left",t.style.justifyContent="flex-start");break;case"textDecoration":var u=e;u=(u=(u=(u=u.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough","none")).replace("noOverline","none"),t.style.textDecoration=u;break;case"unicodeBidi":t.style.unicodeBidi=e.replace("bidiOverride","bidi-override");break;case"visibility":t.style.visibility=e;break;case"zIndex":t.style.zIndex=e;break;case"displayAlign":var o;if("before"===e.toLowerCase())o="flex-start";else if("center"===e.toLowerCase())o="center";else{if("after"!==e.toLowerCase())return;o="flex-end"}t.style.alignItems=o;break;case"extent":var a,h,c=eB(n.toLowerCase())?r:t,f=e.split(" ");f.length>=2?(a=f[0],h=f[1]):a=h="100%",c&&(c.style.height=h,c.style.width=a);break;case"origin":var l=eB(n.toLowerCase())?r:t,v=e.split(" "),d=v[0],w=v[1];l&&(d||w)&&(d&&(l.style.left=d),w&&(l.style.top=w));break;case"showBackground":break;case"wrapOption":t.style.whiteSpace=e.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap");break;case"writingMode":var g,y,p,_;switch(e){case"lrtb":g="horizontal-tb";break;case"rltb":g="horizontal-tb",y="rtl",_="bidi-override";break;case"tbrl":g="vertical-rl",p="upright";break;case"tblr":g="vertical-lr",p="upright";break;case"lr":g="horizontal-tb";break;case"rl":g="horizontal-tb",y="rtl";break;case"tb":g="vertical-rl",p="upright";break;default:return}t.style.writingMode=g,t.style.setProperty("-webkit-writing-mode",g),y&&(t.style.direction=y),p&&(t.style.textOrientation=p,t.style.setProperty("-webkit-text-orientation",p)),_&&(t.style.unicodeBidi=_);break;case"textOutline":break;case"linePadding":if(As(e,"c")){var b=e.replace("c","em");t.style.paddingLeft=t.style.paddingRight=b}break;case"multiRowAlign":"auto"===e.toLowerCase()?t.style.textAlign="":t.style.textAlign="value"}}function eB(t){return"div"===t||"p"===t||"span"===t}function rB(t){or(t.style,"flex"),t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px",t.style.textAlign="start",t.style.writingMode="horizontal-tb",t.style.setProperty("-webkit-writing-mode","horizontal-tb"),t.style.padding="0",t.style.margin="0",t.style.lineHeight="1.3em"}var sB,uB,oB=void 0;function aB(t,n){for(var i,e=sB._Q,r="",s=[],u=t.charAt(n.Du),o="",a={us:uB.gQ,Ei:"",mQ:[]};n.Du<t.length+1;){switch(u=n.Du<t.length?t.charAt(n.Du):"EOF",e){case sB._Q:switch(u){case"&":var h=t.substring(n.Du).match(/&#?[0-9a-zA-Z]+;/);h?(r+=(i=h[0],oB||(oB=de.document.createElement("textarea")),oB.innerHTML=i,oB.value),n.Cu(h[0].length-1)):r+="&";break;case"<":if(r)return{us:uB.yQ,Jy:r};e=sB.kQ;break;case"EOF":return{us:uB.yQ,Jy:r};default:r+=u}break;case sB.kQ:switch(u){case"\t":case"\n":case"\f":case" ":e=sB.bQ;break;case".":e=sB.pQ;break;case"/":e=sB.AQ;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=sB.TQ;break;case">":return n.Cu(1),a;case"EOF":return a;default:r=u,e=sB.SQ}break;case sB.SQ:switch(u){case"\t":case"\f":case" ":e=sB.bQ;break;case"\n":o=u,e=sB.bQ;break;case".":e=sB.pQ;break;case">":return n.Cu(1),{us:uB.gQ,Ei:r,mQ:[]};case"EOF":return{us:uB.gQ,Ei:r,mQ:[]};default:r+=u}break;case sB.pQ:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=sB.bQ;break;case"\n":s.push(o),o=u,e=sB.bQ;break;case".":s.push(o),o="";break;case">":return n.Cu(1),s.push(o),{us:uB.gQ,Ei:r,mQ:s};case"EOF":return s.push(o),{us:uB.gQ,Ei:r,mQ:s};default:o+=u}break;case sB.bQ:switch(u){case"&":e=sB.EQ;break;case">":n.Cu(1);var c=o.trim();return c=c.replace(/\s/," "),{us:uB.gQ,Ei:r,mQ:s,IQ:c};default:o+=u}break;case sB.EQ:for(var f="",l=n.Du;">"===t.charAt(l);l++)f+=t.charAt(l);o+=f||"&",e=sB.bQ;break;case sB.AQ:switch(u){case">":return n.Cu(1),{us:uB.RQ,Ei:r};case"EOF":return{us:uB.RQ,Ei:r};default:r+=u}break;case sB.TQ:switch(u){case">":return n.Cu(1),{us:uB.NQ,DQ:r};case"EOF":return{us:uB.NQ,DQ:r};default:r+=u}}n.Cu(1)}return a}function hB(t){var n;if(t.getBoundingClientRect&&t.parentNode&&(n=t.getBoundingClientRect()),!n)return{left:0,top:0};var i=s.documentElement,e=s.body,u=i.clientLeft||e.clientLeft||0,o=r.pageXOffset||e.scrollLeft,a=n.left+o-u,h=i.clientTop||e.clientTop||0,c=r.pageYOffset||e.scrollTop,f=n.top+c-h;return{left:g.round(a),top:g.round(f)}}function cB(t,n,i,e){if(void 0===e&&(e=0),t&&n){t.style.left="0px";var r=t.getClientRects(),s=n.getClientRects();if(0!==r.length&&0!==s.length){var u=r[0],o=s[0],a=u.width/2+u.left;!function(t,n,i,e){void 0===e&&(e=0);!function(t,n,i,e,r,s){void 0===s&&(s=0);var u=t.getClientRects();if(r&&u.length>0){var o=u[0],a=r[i]+s-o[i],h=r[e]-s-o[e];n=jt(n,a,h)}t.style[i]=n+"px"}(t,n,"left","right",i,e)}(t,o.width/2+o.left-a,i,e)}}}function fB(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}!function(t){t._Q="Data",t.kQ="Tag",t.SQ="StartTag",t.pQ="StartTagClass",t.bQ="StartTagAnnotation",t.EQ="CharRefInAnnotation",t.AQ="EndTag",t.TQ="TimestampTag"}(sB||(sB={})),function(t){t.yQ="string",t.gQ="starttag",t.RQ="endtag",t.NQ="timestamp"}(uB||(uB={}));var lB,vB=function(){function t(t,n,i,e){this.CQ=void 0,this.BQ=void 0,this.Ck=void 0,this.vT=void 0,this.CQ=t,this.BQ=n,this.Ck=i,this.vT=e}var n=t.prototype;return n.OQ=function(t){return this.CQ<t.xQ&&this.xQ>t.CQ&&this.BQ<t.LQ&&this.LQ>t.BQ},n.By=function(t){return this.CQ<=t.CQ&&t.xQ<=this.xQ&&this.BQ<=t.BQ&&t.LQ<=this.LQ},n.Ou=function(){return new t(this.CQ,this.BQ,this.Ck,this.vT)},T(t,[{key:"xQ",get:function(){return this.CQ+this.Ck},set:function(t){this.CQ=t-this.Ck}},{key:"LQ",get:function(){return this.BQ+this.vT},set:function(t){this.BQ=t-this.vT}}]),t}(),dB={ZM:Vx.WHITE,QM:"sans-serif",KM:"100%",JM:"rgba(0,0,0,0.8)",$M:Vx.TRANSPARENT,tU:"none",nU:"visible"},wB="theoplayer-webvtt-region-",gB="theoplayer-webvtt-styling-",mB="theoplayer-webvtt-voice-",yB="theoplayer-webvtt-default-style",pB=5.23,_B=1.14,bB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,dB)||this).MQ=Hr(),s.UQ=EB(3),s}E(n,t);var i=n.prototype;return i.Wj=function(t){var n=s.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,hr(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.aQ.QM;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(s.getElementById(yB))return;for(var t=[],n=0;n<BB.length;n++){var i=BB[n],e=i[0],r=i[1];t.push("."+gB+e+" { color: "+r+" !important; }"),t.push("."+gB+"XQ"+e+" { background-color: "+r+" !important; }"),t.push("video::cue(."+e+") { color: "+r+"; }"),t.push("FQ"+e+") { background-color: "+r+"; }")}var u=s.createElement("style");u.id=yB,u.innerHTML=t.join("\n"),s.body.appendChild(u)}(),n},i.mL=function(){this.DN.appendChild(this.UQ),t.prototype.mL.call(this)},i.Vj=function(t,n){var i=this,e=g.min(t/100,n/100),r=Xx(this.aQ);this.MQ.forEach(function(t){var n=t.hk,s=t.HQ;i.zQ(s,e,r,n)}),this.zQ(this.UQ,e,r),this.VQ()},i.VQ=function(){var t=Xx(this.aQ);this.UQ.style.margin=t>=1.5?"0":1/t+"em"},i.rQ=function(t,n,i){for(var e=this,r=this.DN,s=this.IU.DO/100,u=[],o=0;o<t.length;o++){var a=t[o];void 0!==a.hk&&(Ys(u,a.hk)||u.push(a.hk))}this.MQ.forEach(function(t,n){var r=t.hk,s=t.HQ;!i&&Ys(u,r)||(tr(s),e.MQ.delete(n))});for(var h=0;h<n.length;h++){var c=n[h];!i&&c.Ak||this.Gj(c)}for(var f=[],l=0;l<u.length;l++){var v=u[l],d=void 0;this.MQ.has(v.X_)?d=this.MQ.get(v.X_).HQ:(d=IB(v,s),r.appendChild(d),this.MQ.set(v.X_,{hk:v,HQ:d})),f.push(NB(d.getBoundingClientRect()))}for(var w=NB(this.UQ.getBoundingClientRect()),g=0;g<t.length;g++){var m=t[g],y=this.dQ(m,f,w);void 0!==y&&f.push(y)}},i.dQ=function(t,n,i){var e,r;t.hk?(r=this.MQ.get(t.hk.X_).HQ,"up"===t.hk.Rk&&r.children.length>=1&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s")):r=this.UQ;var s=null==(e=this.qj(t))?void 0:e[0];if(s?r.appendChild(s):(s=this.WQ(t),r.appendChild(s),t.hk||(t.fk?function(t,n,i,e){var r=RB(t),s=r?i.vT:i.Ck,u=y(getComputedStyle(n).lineHeight);if(0===u)return;var o=NB(n.getBoundingClientRect()),a=g.round(X_(t));"rl"===t.vk&&(a=-(a+1));var h=u*a;"rl"===t.vk&&(h=h-o.Ck+u);a<0&&(h+=s,u=-u);r?o.BQ+=h:o.CQ+=h;var c=o.Ou(),f=!1;for(;!i.By(o)||CB(o,e);)if(r)if(u<0&&o.BQ<i.BQ||u>0&&o.LQ>i.LQ){if(o.BQ=c.BQ,f)break;u=-u,f=!0}else o.BQ+=u;else if(u<0&&o.CQ<i.CQ||u>0&&o.xQ>i.xQ){if(o.CQ=c.CQ,f)break;u=-u,f=!0}else o.CQ+=u;r?n.style.top=(o.BQ-i.BQ)/i.vT*100+"%":n.style.left=(o.CQ-i.CQ)/i.Ck*100+"%"}(t,s,i,n):function(t,n,i,e){var r=NB(n.getBoundingClientRect());if(0===r.Ck||0===r.vT)return;RB(t)?"center"===t.ek?r.BQ-=r.vT/2:"end"===t.ek&&(r.BQ-=r.vT):"center"===t.ek?r.CQ-=r.Ck/2:"end"===t.ek&&(r.CQ-=r.Ck);var s,u=r.Ou(),o=u,a=1,h=!1;s=""===t.vk?[lB.POS_Y,lB.NEG_Y,lB.POS_X,lB.NEG_X]:"lr"===t.vk?[lB.POS_X,lB.NEG_X,lB.POS_Y,lB.NEG_Y]:[lB.NEG_X,lB.POS_X,lB.POS_Y,lB.NEG_Y];var c=y(getComputedStyle(n).lineHeight)/4;if(c>0){for(var f=0;f<s.length&&!h;f++){for(;!PB(r,i,s[f],.01)&&(!i.By(r)||CB(r,e));)DB(r,s[f],c);if(i.By(r)){o=r.Ou(),h=!0;break}var l=(v=r,d=i,w=void 0,m=void 0,void 0,w=g.max(0,g.min(v.xQ,d.xQ)-g.max(v.CQ,d.CQ)),m=g.max(0,g.min(v.LQ,d.LQ)-g.max(v.BQ,d.BQ)),w*m/(v.Ck*v.vT));a>l&&(o=r.Ou(),a=l),r=u.Ou()}i.By(r)||(o=u.Ou())}var v,d,w,m;n.style.left=(o.CQ-i.CQ)/i.Ck*100+"%",n.style.top=(o.BQ-i.BQ)/i.vT*100+"%"}(t,s,i,n)),this.uQ(t,[s])),!t.hk)return NB(s.getBoundingClientRect())},i.WQ=function(t){for(var n=new Ko,i=t.Jy,e=this.GQ(t),r={qQ:void 0,wy:e},u=r,o="",a="",h=[r],c=[],f=[];n.Du<i.length;){var l=aB(i,n);if(l.us===uB.yQ){var v=s.createElement("span");fB(v,l.Jy),kB(v,h),""!==o&&(v.lang=o),this.YQ(v,a),u.wy.appendChild(v)}else if(l.us===uB.gQ){var d=l.Ei.toLowerCase();switch(d){case"i":case"b":case"u":case"ruby":var w=s.createElement(d);u.wy.appendChild(w),u={qQ:l,wy:w},h.push(u);break;case"rt":var g;if("ruby"===(null==(g=u.qQ)?void 0:g.Ei.toLowerCase())){var m=s.createElement("rt");u.wy.appendChild(m),u={qQ:l,wy:m},h.push(u)}break;case"c":case"v":u={qQ:l,wy:u.wy},h.push(u);break;case"font":var y,p=null==(y=l.IQ)?void 0:y.match(/(?:^| )color=["']([^"']+)/i);p&&(a=p[1],f.push(a),u={qQ:l,wy:u.wy},h.push(u));break;case"lang":var _;o=null!=(_=l.IQ)?_:"",c.push(o)}}else if(l.us===uB.RQ){var b,k=l.Ei.toLowerCase(),A=null==(b=u.qQ)?void 0:b.Ei.toLowerCase();A===k?(h.pop(),u=h[h.length-1],"font"===k&&(f.pop(),a=f.length>0?f[f.length-1]:"")):"rt"===A&&"ruby"===k?(h.pop(),h.pop(),u=h[h.length-1]):"lang"===k&&(c.pop(),o=c.length>0?c[c.length-1]:"")}else if(l.us===uB.NQ){var T=l.DQ,S=new Ko;try{xb(T,S)}catch(t){ht("ERROR collecting timestamp",t)}}}return e},i.YQ=function(t,n){var i=this.aQ,e=this.cQ;i.JM&&(t.style.background=i.JM);var r=e.ZM||n||i.ZM;r&&(t.style.color=r)},i.zQ=function(t,n,i,e){if(e){var r=AB(e,n);t.style.height=r*i+"px",t.style.left=TB(e)+"%",t.style.top=SB(e,n)+"px"}t.style.fontSize=pB*n*i+"px"},i.GQ=function(t){var n=s.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.$y,function(t,n){"rl"===n.vk?t.style.writingMode="vertical-rl":"lr"===n.vk?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=W_(n);RB(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=V_(n),s=z_(n),u=W_(n);if(RB(n)){switch(r){case"line-left":i=s;break;case"center":i=s-u/2;break;case"line-right":i=s-u}e=n.fk?0:X_(n)}else{switch(r){case"line-left":e=s;break;case"center":e=s-u/2;break;case"line-right":e=s-u}i=n.fk?0:X_(n)}t.style.left=i+"%",t.style.top=e+"%"}(n,t);var i=this.aQ.$M;i&&(n.style.background=i);var e=this.aQ.ZM;return e&&(n.style.color=e),n.style.textShadow=qx(this.aQ.tU),n},n}(Wx);function kB(t,n){for(var i=0;i<n.length;i++){var e=n[i];if(e.qQ){for(var r=0,s=e.qQ.mQ;r<s.length;r++){var u=s[r];rr(t,gB+u)}"v"===e.qQ.Ei.toLowerCase()&&e.qQ.IQ&&rr(t,mB+e.qQ.IQ)}}}function AB(t,n){return t.Sk*(pB*n)*_B}function TB(t){return t.Nk-t.Ek*t.Ck/100}function SB(t,n){var i=t.Dk,e=t.Ik*AB(t,n)/100;return g.max(0,i-e)}function EB(t){var n=s.createElement("div");return n.className=wB+"default",hr(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="1em",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=pB*t+"px",n.style.lineHeight=_B+"em",n}function IB(t,n){var i=EB(n);i.className=wB+t.X_;var e=t.Ck,r=AB(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=TB(t)+"%",i.style.right="",i.style.top=SB(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function RB(t){return""===t.vk}function CB(t,n){return n.some(function(n){return t.OQ(n)})}function NB(t){return new vB(t.left,t.top,t.width,t.height)}function DB(t,n,i){switch(n){case lB.POS_X:t.CQ+=i;break;case lB.NEG_X:t.CQ-=i;break;case lB.POS_Y:t.BQ+=i;break;case lB.NEG_Y:t.BQ-=i}}function PB(t,n,i,e){switch(i){case lB.POS_X:return t.xQ>n.xQ+e;case lB.NEG_X:return t.CQ<n.CQ-e;case lB.POS_Y:return t.LQ>n.LQ+e;case lB.NEG_Y:return t.BQ<n.BQ-e}}!function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(lB||(lB={}));var xB,BB=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(xB||(xB={}));var OB={ZM:Vx.WHITE,QM:zx.vQ,KM:"100%",JM:Vx.BLACK,$M:"transparent",tU:"none",jQ:xB.FONT_REGULAR,nU:"visible"},LB=[{QQ:Vx.WHITE,jQ:xB.FONT_REGULAR,ZQ:0},{QQ:Vx.WHITE,jQ:xB.FONT_UNDERLINE,ZQ:0},{QQ:Vx.GREEN,jQ:xB.FONT_REGULAR,ZQ:0},{QQ:Vx.GREEN,jQ:xB.FONT_UNDERLINE,ZQ:0},{QQ:Vx.BLUE,jQ:xB.FONT_REGULAR,ZQ:0},{QQ:Vx.BLUE,jQ:xB.FONT_UNDERLINE,ZQ:0},{QQ:Vx.CYAN,jQ:xB.FONT_REGULAR,ZQ:0},{QQ:Vx.CYAN,jQ:xB.FONT_UNDERLINE,ZQ:0},{QQ:Vx.RED,jQ:xB.FONT_REGULAR,ZQ:0},{QQ:Vx.RED,jQ:xB.FONT_UNDERLINE,ZQ:0},{QQ:Vx.YELLOW,jQ:xB.FONT_REGULAR,ZQ:0},{QQ:Vx.YELLOW,jQ:xB.FONT_UNDERLINE,ZQ:0},{QQ:Vx.MAGENTA,jQ:xB.FONT_REGULAR,ZQ:0},{QQ:Vx.MAGENTA,jQ:xB.FONT_UNDERLINE,ZQ:0},{QQ:Vx.WHITE,jQ:xB.FONT_ITALICS,ZQ:0},{QQ:Vx.WHITE,jQ:xB.FONT_UNDERLINE_ITALICS,ZQ:0},{QQ:Vx.WHITE,jQ:xB.FONT_REGULAR,ZQ:0},{QQ:Vx.WHITE,jQ:xB.FONT_UNDERLINE,ZQ:0},{QQ:Vx.WHITE,jQ:xB.FONT_REGULAR,ZQ:4},{QQ:Vx.WHITE,jQ:xB.FONT_UNDERLINE,ZQ:4},{QQ:Vx.WHITE,jQ:xB.FONT_REGULAR,ZQ:8},{QQ:Vx.WHITE,jQ:xB.FONT_UNDERLINE,ZQ:8},{QQ:Vx.WHITE,jQ:xB.FONT_REGULAR,ZQ:12},{QQ:Vx.WHITE,jQ:xB.FONT_UNDERLINE,ZQ:12},{QQ:Vx.WHITE,jQ:xB.FONT_REGULAR,ZQ:16},{QQ:Vx.WHITE,jQ:xB.FONT_UNDERLINE,ZQ:16},{QQ:Vx.WHITE,jQ:xB.FONT_REGULAR,ZQ:20},{QQ:Vx.WHITE,jQ:xB.FONT_UNDERLINE,ZQ:20},{QQ:Vx.WHITE,jQ:xB.FONT_REGULAR,ZQ:24},{QQ:Vx.WHITE,jQ:xB.FONT_UNDERLINE,ZQ:24},{QQ:Vx.WHITE,jQ:xB.FONT_REGULAR,ZQ:28},{QQ:Vx.WHITE,jQ:xB.FONT_UNDERLINE,ZQ:28}],MB=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function jB(t,n){return i=t.KQ,e=n.KQ,i.xk(e)||Us(t.mS,n.mS);var i,e}var FB=32,UB=function(){function t(t,n,i){this.JQ=void 0,this.$Q=t,this.tZ=n,this.Rj=i}var n=t.prototype;return n.nZ=function(){return this.JQ=this.iZ(),this.eZ(),this.rZ(),this.JQ},n.iZ=function(){var t=s.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.sZ/FB*this.tZ.uZ*100+"%",t.style.height=1.2*this.oZ+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.tZ.aZ?"calc(1em - 1ch)":"";var n=this.Rj.QM;n&&(t.style.fontFamily=n);var i=this.Rj.$M;return i&&(t.style.backgroundColor=i),t},n.eZ=function(){if(this.JQ){var t=this.hZ.cZ/15*100,n=this.hZ.ZQ/FB*100,i=(FB-this.fZ.ZQ-1)/FB*100,e=(15-this.fZ.cZ-1)/15*100;this.tZ.vZ||(n=i=1,this.JQ.style.width="98%"),e<t?this.JQ.style.bottom=e*this.tZ.uZ+"%":this.JQ.style.top=t*this.tZ.uZ+"%",i<n?this.JQ.style.right=i+"%":this.JQ.style.left=n+"%"}},n.rZ=function(){for(var t=this.$Q.lZ.sort(HB),n=0;n<t.length;n++)this.dZ(t[n-1],t[n]),this.wZ(t[n]);this.dZ(t[t.length-1],void 0)},n.wZ=function(n){var i,e=Hx(this.Rj,n._Z),r=t.gZ(e);fB(r,n.mZ),null==(i=this.JQ)||i.appendChild(r)},t.gZ=function(t){var n=s.createElement("span");n.style.display="inline-block",t.jQ!==xB.FONT_ITALICS&&t.jQ!==xB.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.jQ!==xB.FONT_UNDERLINE&&t.jQ!==xB.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.ZM;i&&(n.style.color=i);var e=t.JM;return e&&(n.style.backgroundColor=e),n.style.textShadow=qx(t.tU),n.style.height="1.2em",n},n.dZ=function(t,n){var i=t?t.yZ.cZ:this.$Q.kZ.cZ,e=n?n.kZ.cZ:this.$Q.yZ.cZ,r=t?t.yZ.ZQ:this.$Q.kZ.ZQ,s=n?n.kZ.ZQ:this.$Q.yZ.ZQ;i<e&&(!n||t&&t.kZ.cZ!==n.kZ.cZ?this.bZ():this.pZ(this.$Q.yZ.ZQ-r),r=this.$Q.kZ.ZQ),r<s&&(n?this.pZ(s-r):this.bZ())},n.bZ=function(){var t,n=s.createElement("br");null==(t=this.JQ)||t.appendChild(n)},n.pZ=function(t){var n;if(!(t<=0)){var i=s.createElement("span");i.style.display="inline-block",fB(i,Ss(" ",t)),null==(n=this.JQ)||n.appendChild(i)}},T(t,[{key:"hZ",get:function(){return this.$Q.kZ}},{key:"fZ",get:function(){return this.$Q.yZ}},{key:"sZ",get:function(){return this.$Q.yZ.ZQ-this.$Q.kZ.ZQ+1}},{key:"oZ",get:function(){return this.$Q.yZ.cZ-this.$Q.kZ.cZ+1}}]),t}();function HB(t,n){return function(t,n){if(t.cZ!==n.cZ)return t.cZ-n.cZ;return t.ZQ-n.ZQ}(t.kZ,n.kZ)}var XB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,OB)||this).AZ=void 0,s.TZ=void 0,s}E(n,t);var i=n.prototype;return i.Wj=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.aQ.QM&&(n.style.fontFamily=this.aQ.QM),n},i.Vj=function(t,n){this.SZ()},i.SZ=function(){var t,n=Xx(this.aQ);this.TZ={uZ:(t=100*n)/100,aZ:t<=100,vZ:t<=150};var i=this.EZ/FB;this.AZ=i*n,this.DN.style.fontSize=this.AZ+"px"},i.rQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Ak||this.Gj(r)}for(var s=0;s<t.length;s++){var u=t[s];this.dQ(u)}},i.dQ=function(t){this.TZ&&this.TZ.vZ?this.IZ(80):this.IZ(100),this.SZ();var n=this.qj(t);n||(n=this.wQ(t),this.uQ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.DN.appendChild(r)}},i.wQ=function(t){var n=this;return t.Jy.map(function(t){return new UB(t,n.TZ,n.aQ).nZ()})},i.IZ=function(t){var n=(100-t)/2;this.DN.style.left=n+"%",this.DN.style.width=t+"%"},T(n,[{key:"EZ",get:function(){var t=this.DN.offsetWidth;return this.TZ&&this.TZ.vZ||(t*=.8),t}}]),n}(Wx),zB=function(){function t(t,n,i,e,r){var s=this;this.RZ=void 0,this.xq=void 0,this.Dm=void 0,this.NZ=void 0,this.DZ=[],this.NC=void 0,this.CZ=function(t){var n=t.t_;n.js(ty.l_,s.PZ),n.js(ty.w_,s.PZ),n instanceof nx&&(n.yG=s.yG),s.BZ(n)},this.PZ=function(t){var n=t.t_;s.BZ(n)},this.OZ=function(t){var n=t.t_;n.Js(ty.l_,s.PZ),n.Js(ty.w_,s.PZ),s.xZ(n)},this.LZ=function(){for(var t=s.yG,n=0,i=s.Dm.R_;n<i.length;n++){var e=i[n];e instanceof nx&&(e.yG=t)}},this.MZ=function(){for(var t=0,n=s.DZ;t<n.length;t++){n[t].Qj(s.NC)}},this.UZ=function(){for(var t=0,n=s.DZ;t<n.length;t++){var i=n[t];i.Qj(Fr({},i.Kj(),{nU:"hidden"}))}},this.XZ=function(){for(var t=0,n=s.DZ;t<n.length;t++){var i=n[t];i.Qj(Fr({},i.Kj(),{nU:"visible"}))}},this.RZ=t,this.xq=n,this.Dm=i,this.NZ=r,this.NC=e,this.Dm.js(Qm.Yw,this.CZ),this.Dm.js(Qm.Qw,this.OZ),this.Dm.js(ty.f_,this.PZ),this.NZ.js(hE.f_,this.LZ),this.NC.js("v_",this.MZ),this.LZ()}var n=t.prototype;return n.FZ=function(t){for(var n=0,i=this.DZ;n<i.length;n++){var e=i[n];if(e.t_===t)return e}},t.HZ=function(t){switch(t.us){case b_.TTML:case b_.SRT:case b_.WEBVTT:case b_.CEA608:return!0}return!1},n.zZ=function(t){switch(t.us){case b_.TTML:return new Qx(t,this.RZ,t.z_,this.xq);case b_.SRT:case b_.WEBVTT:return new bB(t,this.RZ,t.z_,this.xq);case b_.CEA608:return new XB(t,this.RZ,t.z_,this.xq)}},n.VZ=function(t){var n=this.FZ(t);n||(n=this.zZ(t))&&(n.mL(),n.Qj(this.NC),this.DZ.push(n),t.K_===Dy.j_&&n.iQ())},n.xZ=function(t){for(var n=this.DZ,i=n.length-1;i>=0;i-=1){var e=n[i];e.t_===t&&(e.Bd(),$s(n,i))}},n.BZ=function(n){Fk(n.H_)&&t.HZ(n)&&(n.rg===__.ERROR?this.xZ(n):this.VZ(n))},n.I_=function(){for(var t=0,n=this.DZ;t<n.length;t++){var i=n[t];i.t_.Js(ty.l_,this.PZ),i.t_.Js(ty.w_,this.PZ),i.Bd()}Zs(this.DZ)},n.Bd=function(){this.I_();for(var t=0,n=this.DZ;t<n.length;t++){n[t].Bd()}this.Dm.Js(Qm.Yw,this.CZ),this.Dm.Js(Qm.Qw,this.OZ),this.Dm.Js(ty.f_,this.PZ),this.NZ.Js(hE.f_,this.LZ),this.NC.Js("v_",this.MZ)},T(t,[{key:"yG",get:function(){return this.NZ.yC}}]),t}();function VB(t){var n=new LR,i=function(t){var n=[];return BR.JO(t)&&n.push(new BR(t)),OR.JO(t)&&n.push(new OR(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.ex(r)}n.ix(i[0])}return n}var WB,qB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).WZ=void 0,s.GZ=void 0,s.qZ=void 0,s.qZ=VB(n),s.WZ=new Ux,s.GZ=new zB(s.WZ.wy,s.IU,s.Lm,s.NU,s.VN),s}E(n,t);var i=n.prototype;return i.Km=function(){return this.Fh},i.Bs=function(){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.qZ.Bd(),this.WZ.Bd(),this.GZ.Bd(),n.next=5,jr.awrap(t.prototype.Bs.call(this));case 5:case"end":return n.stop()}},null,this,null,We)},i.Zm=function(){t.prototype.Zm.call(this),this.WZ.Zm()},i.Qm=function(){t.prototype.Qm.call(this),this.WZ.Qm()},i.pj=function(n){t.prototype.pj.call(this,n),this.WZ.pj(n)},T(n,[{key:"DN",get:function(){return this.Fh}},{key:"tm",get:function(){return this.Fh.videoHeight}},{key:"nm",get:function(){return this.Fh.videoWidth}},{key:"VN",get:function(){return this.qZ}}]),n}(Nx);!function(t){t.YZ="HELLO",t.jZ="HI_THERE",t.QZ="INITIALIZE",t.ZZ="APPEND_INIT",t.KZ="APPEND_DATA",t.JZ="ACK",t.$Z="REMOVE",t.tK="DESTROY_SESSION"}(WB||(WB={}));var GB=function(){function t(){this.oe=void 0,this.Uh=void 0,this.rX=new aN}var n=t.prototype;return n.nK=function(t){var n=this;return this.rX.YU(function(t){var i,e,r,s,u,a;return jr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(hu(t),i=new MessageChannel,e=i.port1,r=i.port2,o.serviceWorker.controller){h.next=7;break}return h.next=7,jr.awrap($m(o.serviceWorker,"install",t));case 7:if("activated"===o.serviceWorker.controller.state){h.next=10;break}return h.next=10,jr.awrap($m(o.serviceWorker.controller,"activate",t));case 10:return s={kind:WB.YZ,port:r},o.serviceWorker.controller.postMessage(s,[r]),e.start(),n.oe=e,h.prev=15,h.next=18,jr.awrap($m(e,"message",t));case 18:if(u=h.sent,(a=u.data).kind===WB.jZ){h.next=23;break}throw new l("Could not set up message channel");case 23:n.Uh=a.sessionId,h.next=30;break;case 26:throw h.prev=26,h.t0=h.catch(15),au(h.t0)&&n.iK(),h.t0;case 30:case"end":return h.stop()}},null,null,[[15,26]],We)},t)},n.eK=function(t,n){var i=this;return this.oe,this.rX.YU(function(){var e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.oe){r.next=2;break}throw new l("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.oe.postMessage(t,n),r.next=7,jr.awrap($m(i.oe,"message"));case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},null,null,null,We)})},n.rK=function(){var t=this;return this.rX.YU(function(){return t.iK()})},n.iK=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.oe){var t={kind:WB.tK};this.oe.postMessage(t),this.oe.close(),this.oe=void 0}},t}(),$B=function(){function t(){this.sK=Z_.Fb}var n=t.prototype;return n.uK=function(t,n){var i=t.Wk(n);this.sK=i.Ok(this.oK)?this.sK:i},n.aK=function(t){this.sK=t},T(t,[{key:"oK",get:function(){return this.sK}}]),t}(),YB=function(t){function n(n,i){var e;return(e=t.call(this)||this).cK=void 0,e.hK=void 0,e.$o=void 0,e.rX=new aN,e.fK=!1,e.vK=!1,e.tO=n,e.lK=i,e}E(n,t);var i=n.prototype;return i._V=function(t,n){},i.gV=function(t,n){},i.MX=function(){return this.vK},i.mV=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,We)},i.Jz=function(t,n){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,We)},i.Fz=function(t,i,e){var r,s,u=this;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.us===BN.zX){i.next=2;break}throw new l("Streaming or opaque segments are not supported yet.");case 2:return r=t.Xi,s=function(){var t,i,e,s,o,a,h;return jr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(t=uk.xA(new DataView(r.buffer)),(i=Jb(t,cb.Hp)).length){c.next=4;break}throw new l("Moof boxes not found");case 4:return e=u.$o,s=n.dK(i,e),o=u.wK(i,e),a=r.buffer,h={kind:WB.KZ,mimeType:u.tO,segment:r,startPts:sb.qb(s).tp(),totalDuration:sb.qb(o).tp()},c.next=11,jr.awrap(u.lK.eK(h,[a]));case 11:void 0===u.cK&&(u.cK=s),void 0===u.hK&&(u.hK=s),u.hK=u.hK.Py(o),u.Ys(new Su(CN.FX));case 15:case"end":return c.stop()}},null,null,null,We)},i.abrupt("return",this.rX.YU(function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return hu(t),n.prev=1,u.fK=!0,n.next=5,jr.awrap(s());case 5:return n.prev=5,u.fK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},e));case 5:case"end":return i.stop()}},null,this,null,We)},i.Vz=function(t,n,i){var e,r,s=this;return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.us===BN.zX){n.next=2;break}throw new l("Streaming or opaque initialization segments are not supported yet.");case 2:return e=t.Xi,r=function(){var t,n,i,r;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t=uk.xA(new DataView(e.buffer)),n=Kb(t,cb.wp)){u.next=4;break}throw new l("Moov Box not found");case 4:if(0!==n.ZA.length){u.next=6;break}throw new l("Tracks not found");case 6:return s.$o=n.ZA[0].sT.RA.Cb,i=e.buffer,r={kind:WB.ZZ,mimeType:s.tO,segment:e},u.next=11,jr.awrap(s.lK.eK(r,[i]));case 11:s.Ys(new Su(CN.FX));case 12:case"end":return u.stop()}},null,null,null,We)},n.abrupt("return",this.rX.YU(function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return hu(t),n.prev=1,s.fK=!0,n.next=5,jr.awrap(r());case 5:return n.prev=5,s.fK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},i));case 5:case"end":return n.stop()}},null,this,null,We)},i.hV=function(){this.vK=!0},i.uV=function(){this.vK=!1},i.Vc=function(t,n,i){var e,r=this;return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={kind:WB.$Z,mimeType:r.tO,endTime:sb.zb(n).tp()},i.next=3,jr.awrap(r.lK.eK(t));case 3:r.cK=void 0,r.hK=void 0,r.Ys(new Su(CN.FX));case 6:case"end":return i.stop()}},null,null,null,We)},t.abrupt("return",this.rX.YU(function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return hu(t),n.prev=1,r.fK=!0,n.next=5,jr.awrap(e());case 5:return n.prev=5,r.fK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},i));case 2:case"end":return t.stop()}},null,this,null,We)},i.RX=function(t){return this.tO===t.Ul},i.NX=function(t){return this.tO=t.Ul,We.resolve()},n.dK=function(t,n){if(0===t.length)throw new l("Initial Moof box not found");var i=t[0];if(0===i.ZA.length)throw new l("No tracks");if(!i.ZA[0].AS)throw new l("No decode time");return new Z_(i.ZA[0].AS.AS.toNumber(),n)},i.wK=function(t,n){var i=0;return t.forEach(function(t){t.ZA.forEach(function(t){t.pS.forEach(function(t){t.NS.forEach(function(t){var n;i+=null!=(n=t.Yg)?n:0})})})}),new Z_(i,n)},i.Bs=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ks(),t.next=3,jr.awrap(this.rX.Bd());case 3:case"end":return t.stop()}},null,this,null,We)},T(n,[{key:"vy",get:function(){return void 0===this.cK||void 0===this.hK?fE.gC():new fE([this.cK.Ub,this.hK.Ub])}},{key:"Jc",get:function(){return{Ul:this.tO}}},{key:"bV",get:function(){return s_.hd}},{key:"QB",get:function(){return this.tO}},{key:"pV",get:function(){return fE.gC()}},{key:"sL",get:function(){return 30},set:function(t){}},{key:"cL",get:function(){return 30},set:function(t){}},{key:"ax",get:function(){return this.fK}},{key:"_K",get:function(){return this.cK}},{key:"Ky",get:function(){return this.hK}}]),n}(Au),QB=function(){function t(t,n){this.Rh=void 0,this.$V=void 0,this.tW=void 0,this.Rh=t,this.tW=Vs(n,function(t){return Boolean(t.QB.match(/video/))}),this.$V=Vs(n,function(t){return Boolean(t.QB.match(/audio/))}),this.gK()}t.mK=function(n,i){for(var e=[],r=0;r<n.vW.length;r++){var s=n.vW[r].Ul;e.push(new YB(s,i))}return new t(n,e)};var n=t.prototype;return n.gK=function(){},n.Bs=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jr.awrap(We.all([this.$V,this.tW].filter(U).map(function(t){return t.Bs()})));case 2:case"end":return t.stop()}},null,this,null,We)},n.aW=function(t){},n.fW=function(t,n,i,e){},n.hV=function(){var t,n;null==(t=this.$V)||t.hV(),null==(n=this.tW)||n.hV()},n.uV=function(){var t,n;null==(t=this.$V)||t.uV(),null==(n=this.tW)||n.uV()},n.RX=function(t){return t===this.Rh},n.NX=function(t){return this.Rh=t,We.resolve()},T(t,[{key:"yK",get:function(){return[this.$V,this.tW].filter(U)}},{key:"QV",get:function(){return this.$V}},{key:"vy",get:function(){return RD(this)}},{key:"Jc",get:function(){return this.Rh}},{key:"Yg",get:function(){return 0}},{key:"MX",get:function(){var t,n,i,e,r=null==(t=null==(n=this.$V)?void 0:n.MX())||t,s=null==(i=null==(e=this.tW)?void 0:e.MX())||i;return r&&s}},{key:"Ry",get:function(){return new fE([0,1/0])}},{key:"ZV",get:function(){return this.tW}},{key:"xm",get:function(){throw new l("Not implemented")}}]),t}(),ZB=Z_.$k,KB=new Z_(-1/0),JB=Z_.Fb,tO=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.xk=function(t,n){return t.Fk(n)?Bs.Is:t.pk(n)?Bs.Ss:Bs.Es},i.Py=function(t,n){return t.Py(n)},i.Wk=function(t,n){return t.Wk(n)},i.Xk=function(t,n){return t.Xk(n)},i.GD=function(){return ZB},i.qD=function(){return JB},i.ZD=function(){return KB},n.dC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new Z_(t.start(e)),new Z_(t.end(e)));return new n(i)},n.kK=function(t){for(var i=[],e=[],r=0;r<t.N_;r++)i.push(new Z_(t.OD(r))),i.push(new Z_(t.LD(r))),e.push(t.xD(r)),e.push(t.MD(r));return new n(i,e)},n._C=function(t){return new n([t,t],[!0,!0])},i.VD=function(t,i){return new n(t,i)},i.HD=function(t){return t.Ub},n.gC=function(){return nO},n}(cE),nO=new tO([]),iO=function(t){function n(n){var i;return(i=t.call(this)||this).bK=!0,i.lK=new GB,i.pK=new $B,i.rN=void 0,i.Uq=void 0,i.AK=!0,i.TK=new ta,i.EC=!1,i.Zq=We.resolve(),i.Kq=new uu,i.SK=!0,i.$q=fE.gC(),i.qZ=void 0,i.EK=void 0,i.cY=!1,i.hN=void 0,i.IK=function(){i.Kg||i.RK.N_<=0||i.vy.N_<=0||i.pK.uK(new Z_(i.vy.LD(i.vy.N_-1)),i.RK.LD(i.RK.N_-1))},i.NK=function(){i.Ys(new Sp(i.qg))},i.DK=function(){i.Ys(new Tp(i.qg,i.ly))},i.CK=function(){i.Ys(new Ap(i.qg,i.Jg))},i.PK=function(){i.Ys(new Cp(i.qg,i.im))},i.BK=function(){i.Ys(new kp(i.Yg))},i.xK=function(){i.Ys(new yA(i.qg))},i.LK=function(){i.Bu(i.qg)},i.MK=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:i.SK&&i.Ys(new mp(i.qg)),i.AK=!1,i.SK=!0;case 3:case"end":return t.stop()}},null,null,null,We)},i.UK=function(){i.AK=!0,i.Ys(new gp(i.qg))},i.EK=n,i.Uq=new jD(Kt(i)),i.EK.setAttribute("id","player_video"),i.EK.setAttribute("x-webkit-airplay","deny"),i.EK.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.EK.playsInline=!0,i.EK.style.width="100%",i.EK.style.height="100%",i.XK(),i.FK(),i.qZ=VB(i.EK),i}E(n,t);var e=n.prototype;return e.XK=function(){this.EK.addEventListener("timeupdate",this.IK),this.EK.addEventListener("ended",this.NK),this.EK.addEventListener("timeupdate",this.DK),this.EK.addEventListener("ratechange",this.CK),this.EK.addEventListener("volumechange",this.PK),this.EK.addEventListener("durationchange",this.BK),this.EK.addEventListener("playing",this.xK),this.EK.addEventListener("seeking",this.LK),this.EK.addEventListener("play",this.MK),this.EK.addEventListener("pause",this.UK)},e.HK=function(){this.EK.removeEventListener("timeupdate",this.IK),this.EK.removeEventListener("ended",this.NK),this.EK.removeEventListener("timeupdate",this.DK),this.EK.removeEventListener("ratechange",this.CK),this.EK.removeEventListener("volumechange",this.PK),this.EK.removeEventListener("durationchange",this.BK),this.EK.removeEventListener("playing",this.xK),this.EK.removeEventListener("seeking",this.LK),this.EK.removeEventListener("play",this.MK),this.EK.removeEventListener("pause",this.UK)},e.FK=function(){this.Uq.js(dp.l_,this.qs)},e.zK=function(){this.Uq.Js(dp.l_,this.qs)},e.Bu=function(t,n){this.Kq.Xs(),this.Kq=new uu,this.Zq=this.ej(t,this.Zq,this.Kq.zs).catch(Z)},e.ej=function(t,n,i){var e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.$q=this.Ey,r=null==(e=this.rN)?void 0:e.yK){u.next=4;break}return u.abrupt("return");case 4:return s=g.max.apply(g,r.map(function(t){return t._K?t._K.Ub:1/0})),this.EC=!0,this.Ys(new Ip(t)),u.next=9,jr.awrap(n.catch(Z));case 9:if(hu(i),u.prev=10,this.bK||this.VK(),this.EK.load(),this.AK){u.next=17;break}return this.SK=!1,u.next=17,jr.awrap(lu(this.EK.play(),i));case 17:if(!(this.rg<Zy.Mg)){u.next=22;break}return u.next=20,jr.awrap(this.Uq.uu(dp.l_,i));case 20:u.next=17;break;case 22:this.TK.Hu(),this.bK=!1,this.EC=!1,this.Ys(new Rp(this.qg)),u.next=32;break;case 28:throw u.prev=28,u.t0=u.catch(10),this.TK.Vu(u.t0),u.t0;case 32:return u.prev=32,this.WK(),this.pK.aK(new Z_(s)),u.finish(32);case 36:case"end":return u.stop()}},null,this,[[10,28,32,36]],We)},e.Xm=function(){this.AK=!0,this.EK.pause()},e.Um=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.AK){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.EK.src){t.next=9;break}return this.yj(),t.next=7,jr.awrap(this.TK.Uu);case 7:t.next=11;break;case 9:return t.next=11,jr.awrap(this.EK.play());case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.AK=!0,t.t0;case 17:case"end":return t.stop()}},null,this,[[2,13]],We)},e.Bs=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.lK&&this.lK.rK().catch(Z),this.Kq.Xs(),this.HK(),this.zK(),this.Uq.Bs(),this.Ks();case 6:case"end":return t.stop()}},null,this,null,We)},e.I_=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.lK&&this.lK.rK().catch(Z),this.Kq.Xs(),this.EK.removeAttribute("src"),this.EK.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.EK.removeAttribute("x-airplay-deny"),this.EK.load(),this.Uq.I_(),this.$q=fE.gC();case 8:case"end":return t.stop()}},null,this,null,We)},e.yj=function(){this.bj||(oO(this.EK,i.Or),this.cY=!0)},e.VK=function(){var t,n=this.EK.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.EK.videoWidth/this.EK.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.EK.style.width=i+"px",this.EK.style.height=e+"px",this.EK.style.marginLeft=(r-i)/2+"px",this.EK.style.marginTop=(u-e)/2+"px",this.EK.style.backgroundColor="black"}},e.WK=function(){this.EK.style.width="100%",this.EK.style.height="100%",this.EK.style.marginLeft="",this.EK.style.marginTop="",this.EK.style.backgroundColor=""},e.HN=function(t,n,i,e){},e.AE=function(t,n,i,e,r,s){},e.LX=function(t){},e.JN=function(){return IC(this.EK)},e.Qm=function(){this.EK.style.display="block"},e.Zm=function(){this.EK.style.display="none"},e.gj=function(){},e.zc=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.us!==uA.RE){i.next=2;break}throw new l("Not yet implemented");case 2:return i.next=4,jr.awrap(this.lK.nK());case 4:return n={kind:WB.QZ,mediaBufferConfigs:t.vW.map(function(t){return t.Ul})},i.next=7,jr.awrap(this.lK.eK(n));case 7:return this.rN=QB.mK(t,this.lK),this.EK.preload="none",this.EK.src="https://theo.proxy/"+this.lK.Uh+"/master.m3u8",i.abrupt("return",this.rN);case 11:case"end":return i.stop()}},null,this,null,We)},e.mj=function(){},e.EE=function(t){},e.WN=function(){},e.KN=function(t){},e.XN=function(){return!1},e.pj=function(t){t.appendChild(this.EK)},e.Km=function(){return this.EK},e.QY=function(){},e.oy=function(){},T(n,[{key:"DN",get:function(){return this.EK}},{key:"kW",get:function(){return!1}},{key:"qg",get:function(){return this.EK.currentTime+this.pK.oK.Ub}},{key:"Kg",get:function(){return this.EK.paused}},{key:"im",get:function(){return this.EK.volume},set:function(t){this.EK.volume=t}},{key:"Jg",get:function(){return this.EK.playbackRate},set:function(t){this.EK.playbackRate=t}},{key:"GK",get:function(){return this.EK.defaultPlaybackRate}},{key:"vy",get:function(){var t,n;return null!=(t=null==(n=this.rN)?void 0:n.vy)?t:fE.gC()}},{key:"RK",get:function(){return tO.dC(this.EK.buffered)}},{key:"Ey",get:function(){var t=fE.wC(this.qK);return this.$q.$D(t.Cu(this.pK.oK.Ub))}},{key:"qK",get:function(){return tO.dC(this.EK.played)}},{key:"$g",get:function(){return this.EC}},{key:"Yg",get:function(){return this.EK.duration}},{key:"Zg",get:function(){return this.EK.muted},set:function(t){this.EK.muted=t}},{key:"_Z",get:function(){return this.EK.style}},{key:"Tj",get:function(){return Fr({},IN,{_X:!0,gX:300})}},{key:"rg",get:function(){return this.Uq.rg}},{key:"tm",get:function(){return this.EK.videoHeight}},{key:"nm",get:function(){return this.EK.videoWidth}},{key:"jg",get:function(){return this.EK.ended}},{key:"vT",get:function(){return 0}},{key:"Ck",get:function(){return 0}},{key:"_y",get:function(){return!1}},{key:"bj",get:function(){return this.cY}},{key:"ly",get:function(){}},{key:"IU",get:function(){}},{key:"wu",get:function(){}},{key:"VN",get:function(){return this.qZ}},{key:"Ry",get:function(){return this.rN?this.rN.Ry:fE.gC()}},{key:"$N",get:function(){}},{key:"Lm",get:function(){}},{key:"NU",get:function(){}},{key:"Dy",get:function(){return!1},set:function(t){}},{key:"Aj",get:function(){return"block"===this.EK.style.display}},{key:"CN",get:function(){return this.hN},set:function(t){this.hN=t}},{key:"Oq",get:function(){}}]),n}(Au),eO=2,rO=[s_.Ad,s_.Td];function sO(t){var n=s.createElement(t);return fr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),uO(n),n}function uO(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),lr(t),t.pause(),t.playbackRate=1,t.preload=eE.mD,t.controls=!1,t.style.display="none",fr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function oO(t,n){if(n.Be){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();$(e)&&mu(e),t.pause()}}var aO,hO;function cO(t){return{get bandwidth(){return t.UR},get codecs(){return t.XH},get id(){return t.X_},get uid(){return t.F_},get name(){return t.z_},get averageBandwidth(){return t.YK},get label(){return t.z_},set label(n){t.z_=ky(n)},get height(){return t.vT},get width(){return t.Ck},get frameRate(){return t.jK},get firstFrame(){return t.QK},get available(){return t.ZK},addEventListener:function(n,i){t.js(n,i)},removeEventListener:function(n,i){t.Js(n,i)}}}function fO(t){return{get bandwidth(){return t.UR},get codecs(){return t.XH},get id(){return t.X_},get uid(){return t.F_},get name(){return t.z_},get averageBandwidth(){return t.YK},get label(){return t.z_},set label(n){if(!q(n))throw new l("Unexpected - The provided label is not a string");t.z_=n},get audioSamplingRate(){return t.KK},get available(){return t.ZK},addEventListener:function(n,i){t.js(n,i)},removeEventListener:function(n,i){t.Js(n,i)}}}fe=(aO={JK:function(){function t(t,n,i,e,r){void 0===i&&(i=eO),void 0===e&&(e=rO),void 0===r&&(r=Sf()),this.$K=void 0,this.tJ=void 0,this._s=void 0,this.nJ=void 0,this.xq=void 0,this.NC=void 0,this.iJ=void 0,this.$K=i,this.tJ=[].concat(e),this._s=r,this.xq=t,this.NC=n,this.nJ=Hr(),this.eJ()}var n=t.prototype;return n.OC=function(t){for(var n=0,i=this.LC;n<i.length;n++){i[n].pj(t)}},n.NN=function(t){var n=Vs(this.nJ.get(t),function(t){return t.ZK});if(n)return n.ZK=!1,n.rJ},n.sJ=function(t){if(!this.iJ)throw new l("Error creating iOS Safari MediaController");return this.iJ},n.YN=function(t){var n,i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.DN,i=n.tagName.toLowerCase(),r.next=4,jr.awrap(t.I_());case 4:uO(n),(e=Vs(this.nJ.get(i)||[],function(n){return t===n.rJ}))&&(e.ZK=!0);case 7:case"end":return r.stop()}},null,this,null,We)},n.xC=function(){for(var t=0,n=this.LC;t<n.length;t++){n[t].yj()}},n.Bd=function(){for(var t=0,n=this.LC;t<n.length;t++){var i=n[t],e=i.DN;i.Bs(),uO(e),tr(e)}},n.eJ=function(){for(var t=0,n=this.tJ;t<n.length;t++){var i=n[t],e=[];this.nJ.set(i,e);for(var r=0;r<this.$K;r++){var s=sO(i),u=i===s_.Ad?new jx(s,this._s,this.xq):new qB(s,this._s,this.xq,this.NC);e.push({rJ:u,ZK:!0})}}if(M.Cn&&M.un){var o=sO(s_.Td);this.iJ=new iO(o)}},T(t,[{key:"LC",get:function(){for(var t=[],n=0,i=this.tJ;n<i.length;n++){var e=i[n],r=this.nJ.get(e).map(function(t){return t.rJ});t.push.apply(t,r)}return this.iJ&&t.push(this.iJ),t}}]),t}(),uJ:function(){function t(n){var i=this;this.oJ=new aN,this.aJ=function(){var n,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=i.IC.NN(s_.Td),e=n.DN,s.next=4,jr.awrap(t.cJ(e));case 4:return r=s.sent,s.next=7,jr.awrap(i.IC.YN(n));case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,null,null,We)},this.IC=n}var n=t.prototype;return n.hX=function(){return this.oJ.YU(this.aJ)},n.qm=function(){this.IC.xC()},t.cJ=function(n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!M.Tn&&!M.pn){i.next=2;break}return i.abrupt("return","all");case 2:return n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),i.next=5,jr.awrap(t.hJ());case 5:return i.next=7,jr.awrap(t.fJ(n));case 7:if(!i.sent){i.next=9;break}return i.abrupt("return","all");case 9:return i.next=11,jr.awrap(t.vJ(n));case 11:if(!i.sent){i.next=13;break}return i.abrupt("return","muted");case 13:return i.abrupt("return","none");case 14:case"end":return i.stop()}},null,null,null,We)},t.fJ=function(t){var n,i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.play(),e.prev=1,$(n)){e.next=4;break}return e.abrupt("return",!M.fn);case 4:return i=pu(100),e.next=7,jr.awrap(We.race([n,i]));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",!1);case 13:return e.prev=13,t.pause(),e.finish(13);case 16:case"end":return e.stop()}},null,null,[[1,10,13,16]],We)},t.vJ=function(n){var i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.muted=!0,e.next=3,jr.awrap(t.fJ(n));case 3:return i=e.sent,n.muted=!1,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,null,null,We)},t.hJ=function(){return new We(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else a(t,0)})},n.Bd=function(){this.oJ.Bd()},t}(),lJ:{aO:function(t){de.addEventListener("beforeunload",t)},yO:function(t){de.removeEventListener("beforeunload",t)}},dJ:r}).JK,le=aO.uJ,ve=aO.lJ,de=aO.dJ,we=de&&de.location,ge=de&&de.navigator,function(t){t.wJ="currentbufferingrenditionchange",t._J="gJ",t.mJ="yJ",t.kJ="bJ"}(hO||(hO={}));var lO=function(t,n){this.F_=void 0,this.pJ=void 0,this.us=void 0,this.AJ=void 0,this.TJ=void 0,this.SJ=void 0,this.ci=void 0,this.V_=void 0,this.EJ=void 0,this.IJ=void 0,this.RJ=void 0,this.F_=d_(),this.pJ=n,this.us=t.us,this.AJ=t.AJ,this.TJ=t.TJ,this.SJ=t.SJ,this.ci=t.ci,this.V_=t.V_,this.EJ=t.EJ,this.IJ=t.IJ,this.RJ=void 0===t.NJ};function vO(t,n){return t.us===n.us&&t.ci===n.ci}function dO(t,n){return t.pJ===n.pJ}function wO(t,n){for(var i=0;i<t.length;i++){if(dO(t[i],n))return!0}return!1}var gO,mO,yO=function(t){function n(n,i){var e;return(e=t.call(this,ty.k_)||this).W_=void 0,e.t_=void 0,e.W_=n||[],e.t_=i,e}return E(n,t),n.prototype.$w=function(){return new pO(this.W_.map(function(t){return t.Jw}))},n}(Km),pO=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return E(n,t),n}(Su);!function(t){t.DJ="alternative",t.CJ="main",t.PJ="commentary",t.BJ="",t.oE="descriptions",t.OJ="main-desc",t.xJ="translation"}(gO||(gO={})),function(t){t.DJ="alternative",t.CJ="main",t.PJ="commentary",t.BJ="",t.uE="captions",t.LJ="sign",t.iA="subtitles"}(mO||(mO={}));var _O=function(t){function n(n,i,e){var r;return(r=t.call(this,ty.m_)||this).MJ=n,r.UJ=i,r.XJ=e,r}return E(n,t),n.prototype.$w=function(){return new bO(this.MJ&&this.MJ.Jw)},n}(Km),bO=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return E(n,t),n}(Su);function kO(t){return{UR:t.UR,Ke:t.XH,vT:AO(t)?t.vT:0,us:AO(t)?s_.Td:s_.Ad,Ck:AO(t)?t.Ck:0}}function AO(t){var n=t;return void 0!==n.vT&&void 0!==n.Ck}var TO,SO=function(t){function n(){return t.call(this,ty.NO_QUALITY)||this}return E(n,t),n}(Su),EO=function(t){function n(n,i,e){var r,s,u;(u=t.call(this)||this).xy=void 0,u.ra=void 0,u.FJ=void 0,u.HJ=void 0,u.zJ=void 0,u.Kw=void 0,u.Ly=void 0,u.VJ=function(){var t=u.M_;t&&u.HJ!==t&&(u.HJ=t,u.Ys(new _O(t)))},u.WJ=function(){var t=u.U_;u.zJ!==t&&(u.zJ=t,u.GJ.Ys(new ay(Kt(u))),u.Ys(new ay(Kt(u))))},u.pD=n,u.GJ=i,u.W_=e,u.HJ=u.M_,u.zJ=u.U_;var o=e.A_(0);return u.xy=null!=(r=null==o?void 0:o.qJ.ci)?r:"",u.ra=null!=(s=null==o?void 0:o.qJ.V_)?s:"",u.Ly=f_(),u.pD.js(hO.wJ,u.VJ),u.pD.js(hO._J,u.WJ),u}E(n,t);var e=n.prototype;return e.Xy=function(t){this.U_=t},e.Bd=function(){this.Ks(),this.pD.Js(hO.wJ,this.VJ),this.pD.Js(hO._J,this.WJ);for(var t=0,n=this.W_.R_;t<n.length;t++){n[t].Bd()}this.W_.I_()},T(n,[{key:"U_",get:function(){var t=this.YJ();if(!t)return!1;for(var n=0,i=this.W_.R_;n<i.length;n++){if(i[n].qJ===t)return!0}return!1},set:function(t){if(t!==this.U_&&t){for(var n=this.W_.A_(0).qJ,i=this.pD.jJ,e=0,r=this.W_.R_;e<r.length;e++){var s=r[e];if(s.QJ===i){n=s.qJ;break}}this.ZJ(n)}}},{key:"M_",get:function(){if(this.U_)for(var t=this.pD.KJ,n=0,i=this.W_.R_;n<i.length;n++){var e=i[n];if(wO(t,e.qJ))return e}}},{key:"Jw",get:function(){return this.Kw||(this.Kw=Ry(this)),this.Kw}},{key:"X_",get:function(){return this.Ly.toString()}},{key:"F_",get:function(){return this.Ly}},{key:"z_",get:function(){return this.xy},set:function(t){t!==this.xy&&(this.xy=t,this.Ys(new a_(this)))}},{key:"V_",get:function(){return this.ra}},{key:"K_",get:function(){return this.U_?"enabled":"disabled"}},{key:"G_",get:function(){return this.FJ},set:function(t){var n=this,e=[];t?e=t.filter(function(t){var e=n.M_?kO(n.M_):void 0;return i.Or.Le(e,kO(t))}).filter(function(i){return n.W_.By(t)&&i.ZK}):e=this.W_.R_.filter(function(t){return t.ZK});0!==e.length?t!==this.FJ&&(this.FJ&&Qs(this.FJ,e)&&Qs(e,this.FJ)||(this.FJ=t?e:void 0,1===e.length?(mu(this.pD.JJ(e[0].QJ,!1)),this.pD.$J([])):this.pD.$J(e.map(function(t){return t.QJ})),this.Ys(new yO(e,this)))):this.Ys(new SO)}}]),n}(Au),IO=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.YJ=function(){return this.pD.t$},i.ZJ=function(t){mu(this.pD.n$(t))},T(n,[{key:"H_",get:function(){return gO.CJ}}]),n}(EO),RO=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.YJ=function(){return this.pD.i$},i.ZJ=function(t){mu(this.pD.e$(t))},T(n,[{key:"H_",get:function(){return mO.CJ}}]),n}(EO),CO=function(t){function n(n,i){var e;return(e=t.call(this)||this).ZK=!0,e.QJ=n,e.qJ=i,e}E(n,t);var i=n.prototype;return i._E=function(){},i.Bd=function(){this.Ks()},T(n,[{key:"X_",get:function(){return String(this.QJ.X_)}},{key:"F_",get:function(){return this.QJ.X_}},{key:"UR",get:function(){return this.QJ.UR}},{key:"YK",get:function(){return this.QJ.YK}},{key:"z_",get:function(){return this.qJ.ci}},{key:"NJ",get:function(){return this.qJ.pJ.r$()}}]),n}(Au),NO=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Kw=void 0,e}return E(n,t),n.prototype.$w=function(){return fO(this)},T(n,[{key:"KK",get:function(){return 0}},{key:"XH",get:function(){var t;return(null==(t=this.QJ.XH)?void 0:t.UH)||""}},{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}}]),n}(CO),DO=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Kw=void 0,e}return E(n,t),n.prototype.$w=function(){return cO(this)},T(n,[{key:"XH",get:function(){var t;return(null==(t=this.QJ.XH)?void 0:t.MH)||""}},{key:"QK",get:function(){return 0}},{key:"jK",get:function(){return 0}},{key:"vT",get:function(){var t,n;return null!=(t=null==(n=this.QJ.s$)?void 0:n.vT)?t:0}},{key:"Ck",get:function(){var t,n;return null!=(t=null==(n=this.QJ.s$)?void 0:n.Ck)?t:0}},{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}}]),n}(CO);!function(t){t.u$="FATAL",t.Q_="ERROR",t.o$="WARNING",t.a$="INFO",t.c$="DEBUG"}(TO||(TO={}));var PO,xO=new(function(){function t(){this.U_=function(){return!1}}var n=t.prototype;return n.h$=function(t){if(!this.U_())return!1;var n=[];return!(n.length>0)||n.some(function(n){return n.toLowerCase()===t.toLowerCase()})},n.f$=function(t){if(this.h$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.dr.apply(i,[TO.c$+" "+t+" -"].concat(e))}},n.gT=function(t){if(this.h$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.dr.apply(i,[TO.a$+" "+t+" -"].concat(e))}},n.v$=function(t){if(this.h$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.wr.apply(i,[TO.o$+" "+t+" -"].concat(e))}},n.wu=function(t){if(this.h$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i._r.apply(i,[TO.Q_+" "+t+" -"].concat(e))}},n.l$=function(t){if(this.h$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i._r.apply(i,[TO.u$+" "+t+" -"].concat(e))}},t}()),BO="HLSPlaylistParser",OO=function(){function t(t,n,i){this.pD=t,this.d$=n,this.w$=i}var n=t.prototype;return n._$=function(){var t,n,i=null==(t=this.pD.g$)?void 0:t.m$;if(i&&0!==i.length){for(var e=null!=(n=Vs(i,function(t){return 0!==t.y$.length&&0!==t.k$.length}))?n:i[0],r=i.filter(function(t){return t!==e}),s=0,u=e.y$;s<u.length;s++){var o=u[s],a=new o_,h=[];a.Py(new NO(e,o)),h.push(o);for(var c=0;c<r.length;c++)for(var f=r[c],l=0,v=f.y$;l<v.length;l++){var d=v[l];if(vO(d,o)&&!wO(h,d)){a.Py(new NO(f,d)),h.push(d);break}}this.d$.T_(new IO(this.pD,this.d$,a))}for(var w=0,g=e.k$;w<g.length;w++){var m=g[w],y=new o_,p=[];y.Py(new DO(e,m)),p.push(m);for(var _=0;_<r.length;_++)for(var b=r[_],k=0,A=b.k$;k<A.length;k++){var T=A[k];if(vO(T,m)&&!wO(p,T)){y.Py(new DO(b,T)),p.push(T);break}}this.w$.T_(new RO(this.pD,this.w$,y))}}else xO.v$("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.b$=function(){this.p$(this.d$),this.p$(this.w$)},n.p$=function(t){for(var n=[],i=0,e=t.R_;i<e.length;i++){for(var r=e[i],s=[],u=0,o=r.W_.R_;u<o.length;u++){var a=o[u];Ys(a.QJ.A$,a.qJ)||s.push(a)}for(var h=0;h<s.length;h++){var c=s[h];r.W_.Vc(c),c.Bd()}0===r.W_.N_&&n.push(r)}for(var f=0;f<n.length;f++){var l=n[f];t.S_(l),l.Bd()}},t}(),LO=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).DC=void 0,e.DC=i,e}return E(n,t),n.prototype.ed=function(t){var n,e,r,s,u;return jr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=new ag(t),e=this.DC.tL.MR(n)){o.next=4;break}return o.abrupt("return",this.kE.ed(n));case 4:return e.nL(i.Je()/1e3),o.next=7,jr.awrap(this.kE.ed(t));case 7:return r=o.sent,e.iL(i.Je()/1e3),s=r.Ml().pipeThrough(new kw(new MO(e))),u={Xi:s,ed:r.ed},o.abrupt("return",new og(u,r));case 12:case"end":return o.stop()}},null,this,null,We)},n}(function(){function t(t){this.kE=void 0,this.kE=t}var n=t.prototype;return n.ed=function(t){return this.kE.ed(t)},n.Pd=function(t){this.kE.Pd(t)},n.Bd=function(){this.kE.Bd()},t}()),MO=function(){function t(t){this.YM=void 0,this.T$=t}var n=t.prototype;return n.start=function(t){this.YM=t},n.transform=function(t){this.T$.eL(i.Je()/1e3,t),this.YM.enqueue(t)},n.flush=function(){this.T$.rL(i.Je()/1e3)},t}(),jO=function(){function t(t){this.S$=void 0,this.E$=0,this.I$=0,this.S$=g.exp(g.log(.5)/t)}var n=t.prototype;return n.R$=function(t,n){var i=g.pow(this.S$,t),e=n*(1-i)+i*this.E$;p(e)||(this.E$=e,this.I$+=t)},n.NX=function(t){var n=g.exp(g.log(.5)/t);if(n!==this.S$)if(0!==this.I$){var i=this.uK,e=1-g.pow(n,this.I$);this.E$=i*e,this.S$=n}else this.S$=n},T(t,[{key:"uK",get:function(){var t=1-g.pow(this.S$,this.I$);return this.E$/t}}]),t}();!function(t){t.N$="sample"}(PO||(PO={}));var FO=function(t){function n(i,e,r,s){var u;return void 0===r&&(r=n.D$),void 0===s&&(s=n.C$),(u=t.call(this)||this).P$=void 0,u.B$=void 0,u.O$=0,u.x$=void 0,u.L$=void 0,u.L$=r,u.P$=new jO(i),u.B$=new jO(e),u.x$=s,u}E(n,t);var i=n.prototype;return i.M$=function(t,n,i){if(0!==t){var e=8*n/t;this.P$.R$(i,e),this.B$.R$(i,e),this.O$+=n,this.Ys(new Su(PO.N$))}},i.U$=function(){return this.O$>=this.L$},T(n,[{key:"uK",get:function(){return this.U$()?g.min(this.P$.uK,this.B$.uK):this.x$}}]),n}(Au);FO.D$=128e3,FO.C$=5e5;var UO=function(){function t(n,i,e,r){void 0===n&&(n=t.X$),void 0===i&&(i=t.F$),void 0===e&&(e=t.C$),void 0===r&&(r=!1),this.P$=void 0,this.B$=void 0,this.H$=0,this.z$=[],this.V$=void 0,this.W$=6e4,this.G$=10,this.q$=void 0,this.Y$=void 0,this.x$=void 0,this.j$=void 0,this.q$=n,this.Y$=i,this.x$=e,this.j$=r,this.P$=new jO(n),this.B$=new jO(i)}var n=t.prototype;return n.R$=function(t){var n=i.Je(),e=t;this.j$&&void 0!==this.V$&&n-this.V$>=this.W$&&this.I_(),this.H$+=1,this.P$.R$(1,e),this.B$.R$(1,e),this.z$.push(e),this.z$.length>this.G$&&this.z$.shift(),this.V$=n},n.U$=function(){return void 0!==this.V$&&i.Je()-this.V$<=this.W$},n.I_=function(){this.P$=new jO(this.q$),this.B$=new jO(this.Y$),this.H$=0,this.z$=[],this.V$=void 0},T(t,[{key:"uK",get:function(){return this.U$()?g.max(this.P$.uK,this.B$.uK):this.x$}}]),t}();UO.X$=2,UO.F$=5,UO.C$=.1;var HO=function(){function t(t){this.Q$=t}var n=t.prototype;return n.nL=function(t){for(var n=0,i=this.Q$;n<i.length;n++){i[n].nL(t)}},n.iL=function(t){for(var n=0,i=this.Q$;n<i.length;n++){i[n].iL(t)}},n.eL=function(t,n){for(var i=0,e=this.Q$;i<e.length;i++){e[i].eL(t,n)}},n.rL=function(t){for(var n=0,i=this.Q$;n<i.length;n++){i[n].rL(t)}},t}(),XO=function(){function t(t){this.Z$=void 0,this.K$=void 0,this.Z$=t}var n=t.prototype;return n.nL=function(t){this.K$=t},n.iL=function(t){this.Z$.R$(t-this.K$)},n.eL=function(t){},n.rL=function(t){},t}(),zO=function(){function t(t){this.J$=void 0,this.n0=void 0,this.i0=[],this.J$=t}var n=t.prototype;return n.eL=function(t,n){if(void 0!==this.n0){var i=t-this.n0,e=this.i0.length>0?this.i0.reduce(function(t,n){return n+t},0)/this.i0.length:0;i>e/2&&i<e+e/2&&this.J$.R$(i,n.length),this.i0.push(i),this.i0.length>100&&this.i0.shift(),this.n0=t}else this.n0=t},n.nL=function(t){},n.iL=function(t){},n.rL=function(t){},t}(),VO=function(){function t(t,n){void 0===n&&(n=0),this.J$=void 0,this.e0=void 0,this.r0=new WO,this.RG=0,this.s0=0,this.J$=t,this.e0=n}var n=t.prototype;return n.nL=function(t){},n.eL=function(t,n){var e=n.byteLength,r=this.s0;this.s0=e;var s=t-this.RG;this.RG=t,this.r0.bF(n);var u=!this.r0.u0(),o=e>=this.e0;r!==i.Or.Ye&&u&&o&&this.J$.R$(s,e)},n.iL=function(t){this.RG=t},n.rL=function(t){},t}(),WO=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).o0=void 0,n.a0=!1,n}E(n,t);var i=n.prototype;return i.u0=function(){return this.a0},i.bF=function(n){this.a0=!1,t.prototype.bF.call(this,n)},i.yF=function(n,i){this.o0&&this.o0!==cb.jp||(this.a0=!0),t.prototype.yF.call(this,n,i),this.o0=n},i.NF=function(t){return!1},i.CF=function(t){},i.PF=function(t){},n}(zN),qO=function(t){function n(i,e,r,s){return void 0===i&&(i=n.X$),void 0===e&&(e=n.F$),t.call(this,i,e,r,s)||this}return E(n,t),n.prototype.R$=function(t,n){this.M$(t,n,t)},n}(FO);qO.X$=.5,qO.F$=5;var GO=function(){function t(t){this.J$=void 0,this.c0=void 0;var n=t.UR>0?t.UR:FO.C$,i=t.XR>0?t.XR:UO.C$;this.J$=new qO(qO.X$,qO.F$,1,n),this.c0=new UO(UO.X$,UO.F$,i)}var n=t.prototype;return n.MR=function(t){if("segment"===t.us)return new HO([new XO(this.c0),new zO(this.J$),new HO([new zO(this.J$),new VO(this.J$,1e3)])])},n.h0=function(t){this.J$=new qO(qO.X$,qO.F$,1,t)},T(t,[{key:"UR",get:function(){return this.J$.uK}},{key:"XR",get:function(){return this.c0.uK}}]),t}(),$O=function(t){function n(n){var i;return(i=t.call(this,hO.kJ)||this).wu=n,i}return E(n,t),n}(Su),YO=function(){function t(t){this.rJ=t}return t.prototype.LX=function(t){var n={us:uA.NE,ON:[],vW:[{Ul:t}]};return We.resolve(void 0!==this.rJ.LX([n]))},t}(),QO=function(t,n,i,e,r){return We.resolve(t.filter(function(t){return!!Ys(r,t)||1.1*t.UR<=i.UR}))},ZO=function(t,n,i,e,r){return We.resolve(t.filter(function(t){if(Ys(r,t))return!0;for(var s=1/0,u=0,o=t.A$;u<o.length;u++){var a,h,c=o[u];s=g.min(s,null!=(a=null!=(h=c.pJ.f0)?h:c.pJ.v0)?a:1/0)}s===1/0&&(s=1);var f=3*i.XR+t.UR*s/i.UR;return t.UR<=n.UR||e>f}))},KO=function(t,n,i,e,r){return We.resolve(Ls(t,function(t,n){return n.UR-t.UR}))},JO=function(t,n,i,e,r){return We.resolve(t.every(function(t){return t.l0&&!p(t.l0)})?Ls(t,function(t,n){return n.l0-t.l0}):t)},tL=function(t,n,i,e,r){return We.resolve(Ls(t,function(t,n){var i=Ys(r,t)?1:0;return(Ys(r,t)?1:0)-i}))},nL=function(t,n,i,e,r){return We.resolve(t.filter(function(t){return!t.XH||!n.XH||(t.XH.MH?!!n.XH.MH&&(t.XH.MH.split(".")[0]===n.XH.MH.split(".")[0]&&(t.XH.UH?!!n.XH.UH&&(t.XH.UH.split(".")[0]===n.XH.UH.split(".")[0]&&t.XH.FH===n.XH.FH):!n.XH.UH)):!n.XH.MH)}))},iL=function(){function t(t){this.d0=[nL,QO,ZO,KO,JO,tL],this.DC=t}var n=t.prototype;return n.w0=function(t){this.d0=t},n._0=function(t,n,i,e){var r,s,u,o,a;return jr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(t.length){h.next=2;break}throw new l("AbrEvaluator - Unable to select optimal variant stream from an empty list.");case 2:xO.f$("AbrEvaluator","Performing optimal variant stream selection."),r=this.g0,s=t,u=0,o=this.d0;case 6:if(!(u<o.length)){h.next=14;break}return a=o[u],h.next=10,jr.awrap(a(s,n,r,i,e));case 10:s=h.sent;case 11:u++,h.next=6;break;case 14:if(s.length){h.next=17;break}return xO.v$("AbrEvaluator","No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),h.abrupt("return",Js(t,function(t){return t.UR}));case 17:return h.abrupt("return",s[0]);case 18:case"end":return h.stop()}},null,this,null,We)},T(t,[{key:"g0",get:function(){return this.DC.tL}}]),t}();var eL=function(t){function n(n,i){var e,r=rL(i,n.Yg,n.$N,n.m0);return(e=t.call(this,i,r,void 0,!1,n.X_)||this).y0=void 0,e.k0=void 0,e.b0=void 0,e.ea=void 0,e.p0=void 0,e.A0=void 0,e.T0=void 0,e.S0=void 0,e.E0=void 0,e.I0=void 0,e.y0=n.R0,e.k0=n.$N,e.b0=n.m0,e.ea=n.Yg,e.p0=n.N0,e.A0=Boolean(n.D0),e.T0=n.C0||{},e.S0=n.P0,e.E0=n.B0,e.I0=n.O0,e.x0(),e.L0(),e}E(n,t);var i=n.prototype;return i.Wc=function(t){var n=!1;void 0===this.y0&&void 0!==t.R0&&(n=!0,this.y0=t.R0),void 0===this.b0&&void 0!==t.m0&&(n=!0,this.b0=t.m0),void 0===this.ea&&void 0!==t.Yg&&(n=!0,this.ea=t.Yg),void 0===this.p0&&void 0!==t.N0&&(n=!0,this.p0=t.N0),!this.A0&&t.D0&&(n=!0,this.A0=t.D0),n=this.updateCustomAttributes(t,n),void 0===this.S0&&void 0!==t.P0&&(n=!0,this.S0=t.P0),void 0===this.E0&&void 0!==t.B0&&(n=!0,this.E0=t.B0),void 0===this.I0&&void 0!==t.O0&&(n=!0,this.I0=t.O0),this.x0(),this.L0(),this.M0(),n&&this.Ys(new O_(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.C0)for(var e=0,r=w.keys(t.C0);e<r.length;e++){var s=r[e];void 0===this.T0[s]&&(i=!0,this.T0[s]=t.C0[s])}return i},i.x0=function(){this.ea&&!this.b0&&(this.b0=new Date(this.k0.getTime()+qt(this.ea)))},i.L0=function(){this.b0&&!this.ea&&(this.ea=Wt(this.b0.getTime()-this.k0.getTime()))},i.M0=function(){this.dk===1/0&&(this.b0||this.ea)&&(this.dk=rL(this.lk,this.ea,this.k0,this.b0))},T(n,[{key:"Jw",get:function(){var t;return this.Kw||(this.Kw=dy(P_(t=this),{get content(){return t.Jy},get class(){return t.R0},get startDate(){return t.$N},get endDate(){return t.m0},get duration(){return t.Yg},get plannedDuration(){return t.N0},get endOnNext(){return t.D0},get scte35Cmd(){return t.P0},get scte35Out(){return t.B0},get scte35In(){return t.O0},get customAttributes(){return t.C0}})),this.Kw}},{key:"R0",get:function(){return this.y0}},{key:"$N",get:function(){return this.k0}},{key:"m0",get:function(){return this.b0}},{key:"Yg",get:function(){return this.ea}},{key:"N0",get:function(){return this.p0}},{key:"D0",get:function(){return this.A0}},{key:"P0",get:function(){return this.S0}},{key:"B0",get:function(){return this.E0}},{key:"O0",get:function(){return this.I0}},{key:"C0",get:function(){return this.T0}}]),n}(F_);function rL(t,n,i,e){return U(n)?t+n:e?t+(Wt(e.getTime())-Wt(i.getTime())):1/0}var sL=function(t){function n(){return t.call(this,void 0,void 0,b_.DATE_RANGE)||this}E(n,t);var i=n.prototype;return i.Wc=function(t,n){uL(this,oL(t),n)},i.SE=function(n){var i,e,r;i=this.og.R_,e=n,(r=Ws(i,function(t){return t.R0===e.R0}))&&r.D0&&r.Wc({X_:r.X_,m0:e.$N}),t.prototype.SE.call(this,n)},n}(ax);function uL(t,n,i){for(var e=t.og.R_,r=function(i){var r=e[i],s=Vs(n,function(t){return t.X_===r.X_});s?r.Wc(s):t.vE(r)},s=e.length-1;s>=0;s--)r(s);for(var u=0;u<n.length;u++){var o=n[u],a=o.$N;if(void 0!==a&&!t.VW(o.X_)){var h=i(a);t.SE(new eL(o,h))}}}function oL(t){for(var n=Hr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.X_)){var s=n.get(r.X_),u=Fr({},s,yy(r),{C0:Fr({},s.C0,r.C0)});n.set(r.X_,u)}else n.set(r.X_,r),i.push(r.X_)}return i.map(function(t){return n.get(t)})}var aL,hL=function(){function t(t,n,i){var e=this;this.U0=void 0,this.X0=void 0,this.eN=void 0,this.F0=void 0,this.H0=void 0,this.z0=function(t){e.X0.hlsDateRange&&e.V0(t.qJ)},this.X0=t,this.U0=n,this.eN=i,this.F0=new Pk,this.U0.js("W0",this.z0)}return t.prototype.V0=function(t){if(0!==t.pJ.G0.length){this.H0||(this.H0=this.eN.AE(Dk.rA,void 0,void 0,void 0,void 0,b_.DATE_RANGE),this.F0.T_(this.H0));uL(this.H0,t.pJ.G0,function(n){var i;return null!=(i=t.pJ.q0(n))?i:NaN})}},T(t,[{key:"Lm",get:function(){return this.F0}}]),t}();function cL(t,n){return[t,void 0!==n?t+n-1:Lt]}function fL(t){return Boolean(t.sT)}function lL(t){return Boolean(t.Y0)}!function(t){t[t.Ad=0]="Ad",t[t.Td=1]="Td",t[t.iA=2]="iA",t[t.j0=3]="j0"}(aL||(aL={}));var vL,dL,wL,gL=[aL.Ad,aL.Td,aL.iA,aL.j0];function mL(t){return t?t.Q0?t._i+"@"+t.Q0.OD+"-"+(null!=(n=t.Q0.N_)?n:""):""+t._i:"";var n}function yL(t,n){if(n===t)return!0;if(n._i!==t._i)return!1;if(!t.Q0)return!0;if(n.Q0){var i=cL(t.Q0.OD,t.Q0.N_),e=cL(n.Q0.OD,n.Q0.N_);return i[0]<=e[0]&&i[1]>=e[1]}return!1}function pL(t,n){return t===n||t._i===n._i&&(Boolean(t.Q0)===Boolean(n.Q0)&&(!t.Q0||!n.Q0||t.Q0.OD===n.Q0.OD&&t.Q0.N_===n.Q0.N_))}function _L(t){var n=!!t.D0||void 0;return{X_:t.X_,R0:t.R0,$N:t.$N,m0:t.m0,Yg:t.Yg,N0:t.N0,D0:n,C0:t.Z0,P0:t.K0,B0:t.B0,O0:t.O0}}function bL(t,n,i,e){var r=[],s=Vs(i,function(t){return t.J0===Kr});if(void 0!==s){var u=s._i?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s._i.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var a=i[o];if(a.J0!==Kr)for(var h=0,c=ps(a.J0);h<c.length;h++){var f=c[h];r.push({Kc:f,WR:a.$0?[a.$0]:[],eR:void 0})}}if(r.length)return{qE:t,n1:{i1:u,YE:s.YE},e1:r,s1:n===s_.Ad?e.slice():[],u1:n===s_.Td?e.slice():[],Rq:!1}}}}function kL(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=Hr();return AL(e,r,t.e1),AL(e,r,n.e1),{qE:t.qE,n1:{i1:t.n1.i1,YE:null!=(i=t.n1.YE)?i:n.n1.YE},e1:e,s1:TL(t.s1,n.s1,Ys),u1:TL(t.u1,n.u1,Ys),Rq:t.Rq||n.Rq||!1}}function AL(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.Kc.ls,u=void 0;n.has(s)?(u=n.get(s)).WR=TL(u.WR,r.WR,SL):(u=Fr({},r),t.push(u),n.set(s,u))}}function TL(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function SL(t,n){for(var i=0;i<t.length;i++){if(Wu(t[i],n))return!0}return!1}function EL(t,n){var i,e=t.o1;if(e){for(var r=t.QB,s=[],u=0,o=t.XH;u<o.length;u++){var a=o[u];s.push(r+'; codecs="'+a+'"')}i=bL(n||{},t.us,e,s)}for(var h=0,c=t.a1;h<c.length;h++){i=kL(i,IL(c[h],n))}return i}function IL(t,n){return bL(n||{},t.us,t.o1||[],[t.Ul])}function RL(t,n){switch(n.us){case Zr.Kr:return t.widevine;case Zr.Zr:return t.playready;case Zr.$r:return t.fairplay;case Zr.Jr:return t.clearkey}}function CL(t,n,i){if(0!==t.length)return t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:i}})}function NL(t,n,i,e){var r,s,u,o,a,h,c,f,l;return jr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(t){v.next=2;break}return v.abrupt("return",[]);case 2:return r=n.filter(function(t){return bs(t,"audio")}),s=n.filter(function(t){return bs(t,"video")}),u=[],o=i.map(function(t){return DL(t,e)}),v.next=8,jr.awrap(We.all(o));case 8:for(a=v.sent.filter(U),h=xL(a,t.preferredKeySystems),c=0;c<h.length;c++)f=h[c],l=RL(t,f.Kc),"cbcs",u.push({Kc:f.Kc,WR:f.WR,eR:f.eR,jN:[{initDataTypes:[f.Kc.fs],audioCapabilities:CL(r,"cbcs",null==l?void 0:l.audioRobustness),videoCapabilities:CL(s,"cbcs",null==l?void 0:l.videoRobustness),persistentState:null==l?void 0:l.persistentState,distinctiveIdentifier:null==l?void 0:l.distinctiveIdentifier}]});return v.abrupt("return",u);case 12:case"end":return v.stop()}},null,null,null,We)}function DL(t,n){var i,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.NJ){s.next=2;break}return s.abrupt("return");case 2:if(t.c1){s.next=4;break}return s.abrupt("return");case 4:if(t.Ed===dL.h1){s.next=6;break}return s.abrupt("return");case 6:if(i=PL(t.c1)){s.next=9;break}return s.abrupt("return");case 9:if(i.ls!==cs){s.next=13;break}return s.abrupt("return",{Kc:i,WR:[],eR:t.NJ});case 13:return xO.gT("HLSDrmUtils","Fetching key uri "+t.NJ+"."),s.next=16,jr.awrap(n.ed({ud:t.NJ}));case 16:return e=s.sent,s.next=19,jr.awrap(e.Ll());case 19:return r=s.sent,s.abrupt("return",{Kc:i,WR:[r],eR:void 0});case 21:case"end":return s.stop()}},null,null,null,We)}function PL(t){return t===us?ds:t===rs?vs:t===ls?gs:void 0}function xL(t,n){var i=function(t){var i=n.indexOf(t.Kc.ls);return i>=0?i:n.length};return Ls(t,function(t,n){return i(t)-i(n)})}function BL(t){if("#"!==t[0])throw new l("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function OL(t){return"#"!==t[0]?t:t.split(":",1)[0]}function LL(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new l("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function ML(t){var n=HL(LL(t));if(void 0===n)throw new l("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function jL(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,e=i.exec(t);null!==e;){var r=e[1],s=void 0;s=void 0!==e[3]?e[3]:e[2],null!==r?n[r]=s:xO.v$(BO,"Ignoring unparsable M3U8 attribute name: "+t+"."),e=i.exec(t)}return n}function FL(t,n){var e=jL(t),r=rM(function(){return e.URI?i.Pr(e.URI,n):void 0}),s=e["GROUP-ID"],u=e.LANGUAGE,o=e["ASSOC-LANGUAGE"],a=e.NAME,h="YES"===e.DEFAULT,c="YES"===e.AUTOSELECT,f="YES"===e.FORCED,v=e["INSTREAM-ID"],d=e.CHARACTERISTICS,w=e.CHANNELS,g=rM(function(){return function(t){switch(t){case"AUDIO":return aL.Ad;case"VIDEO":return aL.Td;case"SUBTITLES":return aL.iA;case"CLOSED-CAPTIONS":return aL.j0}throw new l("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(e.TYPE)});if(s||xO.v$(BO,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),u||xO.v$(BO,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),a||xO.v$(BO,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),g.f1===aL.j0?(r&&xO.v$(BO,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),v?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(v)||xO.v$(BO,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):xO.v$(BO,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):v&&xO.v$(BO,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),h&&!c&&(c=!0,e.AUTOSELECT&&xO.v$(BO,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),g.f1===aL.iA&&e.FORCED&&xO.v$(BO,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===s||void 0===a||r.v1||g.v1)throw new l("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");var m=r.f1;return{l1:o,d1:w,w1:d,EJ:s,TJ:c,AJ:h,SJ:f,IJ:v,V_:u,ci:a,us:g.f1,NJ:m}}function UL(t,n,e){var r=jL(t),s=rM(function(){var t;return i.Pr(null!=(t=e||r.URI)?t:"",n)}),u=HL(r.BANDWIDTH),o=HL(r["AVERAGE-BANDWIDTH"]),a=HL(r.SCORE),h=function(t){if(!t)return;for(var n,i,e,r=t.toLowerCase().split(","),s=0;s<r.length;s++){var u=r[s],o=u.trim();ks(o,"mp4a")?n="mp4a.40.05"===o?"mp4a.40.5":"mp4a.40.02"===o?"mp4a.40.2":o:"ac-3"===o||"ec-3"===o?n=o:ks(o,"avc")||ks(o,"hvc1")||ks(o,"hev1")||ks(o,"dvh")?i=u:e=e?e+","+o:o}return{UH:n,MH:i,FH:e}}(r.CODECS),c=rM(function(){return function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),e=Number(n[1]);if(p(i)||p(e))throw new l("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{Ck:i,vT:e}}(r.RESOLUTION)}),f=HL(r["FRAME-RATE"]),v=r["HDCP-LEVEL"],d=[];if(void 0!==r["ALLOWED-CPC"]){var w=r["ALLOWED-CPC"].split(",");d.push.apply(d,w.map(function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))}var g=r["VIDEO-RANGE"],m=r.AUDIO,y=r.VIDEO,_=r.SUBTITLES,b=r["CLOSED-CAPTIONS"];if(s.v1&&xO.v$(BO,"#EXT-X-STREAM-INF tag has no valid URI: "+t+"."),void 0===u?xO.v$(BO,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==o&&o>u&&xO.v$(BO,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),h||xO.gT(BO,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),h&&h.MH&&c.v1&&xO.gT(BO,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===v||Ys(["TYPE-0","TYPE-1","NONE"],v)||xO.v$(BO,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===g||Ys(["SDR","PQ","HLG"],g)||xO.v$(BO,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===u||s.v1||c.v1)throw new l("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");var k=s.f1;return{_1:d,g1:m,YK:o,UR:u,m1:b,XH:h,jK:f,b1:v,s$:c.f1,l0:a,A1:_,NJ:k,T1:y,S1:g}}function HL(t){var n=Number(t);return p(n)?void 0:n}function XL(t,n){var e,r,s,u,o=jL(t),a=rM(function(){return function(t){switch(t){case"NONE":return dL.yD;case"AES-128":return dL.E1;case"SAMPLE-AES":return dL.h1;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new l("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(o.METHOD)}),h=rM(function(){var t;return i.Pr(null!=(t=o.URI)?t:"",n)}),c=o.KEYFORMAT,f=o.IV,v=o.KEYFORMATVERSIONS;if(!a.v1)if(a.f1!==dL.yD){if(e=c||"identity","SAMPLE-AES-CENC"===a.f1||"SAMPLE-AES-CTR"===a.f1)PL(e)!==ds?xO.v$(BO,"#EXT-X-KEY tag with METHOD="+a.f1+" is only compatible with Widevine."):r=dL.h1;else r=a.f1;s=f?Jo(f):void 0,u=v?v.split("/").map(function(t){return Number(t)}):[1]}else r=dL.yD,(void 0!==o.URI||c||v||f)&&xO.v$(BO,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");if(a.v1||h.v1||void 0===r)throw new l("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".");return{Ed:r,NJ:h.f1,I1:s,c1:e,R1:u}}function zL(t){var n=LL(t);if(!n)return[void 0,""];var i=n.split(","),e=i[0],r=i[1];return[HL(e),r]}function VL(t,n){var i=t.split("@"),e=HL(i[0]),r=i.length>1?HL(i[1]):n;if(void 0===e||void 0===r)throw new l("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{OD:r,N_:e}}function WL(t){if(void 0!==t)return VL(t,void 0)}function qL(t,n){return VL(LL(t),n)}function GL(t,n){var i=jL(t),e=rM(function(){return QL(i.URI,n)}),r=rM(function(){return WL(i.BYTERANGE)});if(e.v1||r.v1)throw new l("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".");return{_i:e.f1,Q0:r.f1}}function $L(t){var n=LL(t);if(!n)throw new l("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!zt(i))throw new l("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function YL(t){var n,i,e,r=jL(t),s=r["START-DATE"],u=r["END-DATE"],o=HL(r["PLANNED-DURATION"]),a=HL(r.DURATION);void 0!==r["SCTE35-CMD"]&&(n=Jo(r["SCTE35-CMD"]).buffer),r["SCTE35-IN"]&&(i=Jo(r["SCTE35-IN"]).buffer),r["SCTE35-OUT"]&&(e=Jo(r["SCTE35-OUT"]).buffer);var h,c,f="YES"===r["END-ON-NEXT"],v=function(t){for(var n={},i=0,e=w.keys(t);i<e.length;i++){var r=e[i],s=t[r];void 0!==s&&ks(r,"X-")&&(n[r]=s)}return n}(r),d=r.ID,g=r.CLASS;if(void 0===s)xO.v$(BO,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+s+".");else if(h=new Date(s),c=void 0!==u?new Date(u):void 0,zt(h)||xO.v$(BO,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+h+"."),void 0!==a){var m=new Date(h.getTime()+1e3*a);c?c.getTime()!==m.getTime()&&(xO.v$(BO,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),c=m):c=m}else c&&(a=(h.getTime()-c.getTime())/1e3);if(f&&(r.CLASS||xO.v$(BO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),r.DURATION&&xO.v$(BO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),c&&xO.v$(BO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===d&&xO.v$(BO,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===d||void 0===h)throw new l("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{X_:d,R0:g,$N:h,m0:c,Yg:a,N0:o,K0:n,O0:i,B0:e,D0:f,Z0:v}}function QL(t,n){if(void 0===t)throw new l("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return i.Pr(t,n)}function ZL(t,n){var i=jL(t),e=HL(i.DURATION),r=rM(function(){return QL(i.URI,n)}),s=rM(function(){return WL(i.BYTERANGE)}),u="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(!e||r.v1)throw new l("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{Yg:e,NJ:{_i:r.f1,Q0:s.f1},N1:u,D1:o}}function KL(t){var n=jL(t);return{C1:"YES"===n["CAN-BLOCK-RELOAD"],P1:HL(n["CAN-SKIP-UNTIL"]),B1:"YES"===n["CAN-SKIP-DATERANGES"],O1:HL(n["HOLD-BACK"]),L1:HL(n["PART-HOLD-BACK"])}}function JL(t,n){var i=jL(t),e=rM(function(){var t;return QL(null!=(t=i.URI)?t:"",n)}),r=HL(i["LAST-MSN"]),s=HL(i["LAST-PART"]);if(void 0===i.URI&&xO.gT(BO,"Assuming #EXT-X-RENDITION-REPORT tag without URI attribute refers to the current media playlist: "+t+"."),void 0===i["LAST-MSN"]&&xO.gT(BO,"Assuming #EXT-X-RENDITION-REPORT tag without LAST-MSN attribute refers to the current media playlist: "+t+"."),void 0===i["LAST-PART"]&&xO.gT(BO,"Assuming #EXT-X-RENDITION-REPORT tag without LAST-PART attribute refers to the current media playlist: "+t+"."),e.v1)throw new l("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{NJ:e.f1,M1:r,U1:s}}function tM(t,n){var i,e=jL(t),r=HL(e["SKIPPED-SEGMENTS"]),s=null==(i=e["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(!r)throw new l("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{X1:r,F1:s,H1:n}}function nM(t){var n=HL(jL(t)["PART-TARGET"]);if(void 0===n)throw new l("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function iM(t){switch(LL(t)){case"VOD":return wL.z1;case"EVENT":return wL.V1;default:return xO.v$(BO,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),wL.hd}}function eM(t,n){var i,e=jL(t),r=rM(function(){return function(t){if(void 0===t)throw new l("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return vL.W1;if("PART"===t)return vL.G1;throw new l("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(e.TYPE)}),s=rM(function(){return QL(e.URI,n)}),u=HL(e["BYTERANGE-START"]),o=HL(e["BYTERANGE-LENGTH"]);if(void 0===u&&void 0===o||(i={OD:u||0,N_:o}),r.v1||s.v1)throw new l("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".");return{us:r.f1,NJ:{_i:s.f1,Q0:i}}}function rM(t){var n;try{n=t()}catch(t){return xO.v$(BO,t.message),{f1:void 0,v1:!0}}return{f1:n,v1:!1}}!function(t){t[t.W1=0]="W1",t[t.G1=1]="G1"}(vL||(vL={})),function(t){t[t.yD=0]="yD",t[t.E1=1]="E1",t[t.h1=2]="h1"}(dL||(dL={})),function(t){t[t.hd=0]="hd",t[t.z1=1]="z1",t[t.V1=2]="V1"}(wL||(wL={}));var sM=function(){function t(n){this.q1=0,this.Y1=void 0,this.Y1=t.j1(n)}var n=t.prototype;return n.Q1=function(){var t=this.Y1[this.q1];return this.q1+=1,t},n.Z1=function(){return this.Y1[this.q1]},n.Ou=function(){var n=new t("");return n.q1=0,n.Y1=this.Y1.slice(this.q1),n},t.j1=function(t){return t?t.split(/[\r\n]+/).map(function(t){return t.trim()}).filter(function(t){return t}):[]},t}();function uM(t,n,i){var e=t.NJ,r=t.BA,s=t.K1,u=t.OD;switch(i){case"#EXT-X-VERSION":r=function(t){var n=ML(t);return p(n)?(xO.v$(BO,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":s=!0;break;case"#EXT-X-START":u=function(t){var n=jL(t),i=HL(n["TIME-OFFSET"]);if(void 0===i)throw new l("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{J1:i,n2:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":xO.v$(BO,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:xO.gT(BO,"Ignoring unrecognized line or comment: "+n+".")}return{NJ:e,BA:r,K1:s,OD:u}}function oM(t,n){return t.map(function(t){return t.Ed===dL.yD||t.I1?t:Fr({},t,{I1:aM(n)})})}function aM(t){var n=new DataView(new ArrayBuffer(16)),i=new Ko;return i.Cu(8),function(t,n,i,e){void 0===e&&(e=!1);var r=i.getHighBitsUnsigned(),s=i.getLowBitsUnsigned(),u=e?r:s;bo(t,n,e?s:r,e),bo(t,n,u,e)}(n,i,lt.fromNumber(t)),new _(n.buffer)}function hM(t,n,e){xO.gT(BO,"Parsing M3U8 playlist at "+t+".");var r=new sM(e);if("#EXTM3U"!==r.Q1())throw new l("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(e)?function(t,n){for(var e={NJ:t,K1:void 0,OD:void 0,BA:void 0},r=[],s=[],u=[],o=[];;){var a=n.Q1();if(!a)break;try{var h=BL(a);switch(h){case"#EXT-X-MEDIA":var c=FL(a,t);r.push(c);break;case"#EXT-X-STREAM-INF":var f=UL(a,t,n.Q1());s.push(f);break;case"#EXT-X-I-FRAME-STREAM-INF":var v=UL(a,t);u.push(v);break;case"#EXT-X-SESSION-DATA":xO.v$(BO,"Ignoring unsupported #EXT-X-SESSION-DATA: "+a+".");break;case"#EXT-X-SESSION-KEY":var d=XL(a,t);o.push(d);break;default:e=uM(e,a,h)}}catch(t){xO.v$(BO,"Ignoring unparsable line: "+a,t)}}var w=e.NJ,g=e.BA,m=e.K1,y=e.OD;if(void 0===w?xO.v$(BO,"The master playlist has no valid base URI: "+w+"."):w=i.Pr(w),void 0===m&&(xO.v$(BO,"The playlist has no #EXT-X-INDEPENDENT-SEGMENT, assuming segments are not independent."),m=!1),void 0===g&&(xO.v$(BO,"The playlist has no #EXT-X-VERSION, assuming version is 2."),g=2),g>=8&&(s.some(function(t){return void 0!==t.l0})||u.some(function(t){return void 0!==t.l0}))&&(s.some(function(t){return void 0===t.l0})||u.some(function(t){return void 0===t.l0}))&&xO.v$(BO,"If one master playlist variant stream has a SCORE, all variants should have it."),void 0===w)throw new l("HLSPlaylistParser - Could not parse HLS master playlist: "+w);return{NJ:w,BA:g,K1:m,OD:y,i2:u,e2:o,sT:r,s2:s}}(t,r):function(t,n,e){for(var r,s,u,o,a,h,c,f,v,d,w,g,m,y,p,_,b,k={NJ:t,K1:void 0,OD:void 0,BA:void 0},A=[],T=!1,S=!1,E=[],I=Hr(),R=[],C=[],N=!1,D=!1,P=[],x=[],B=0,O=!1,L=wL.hd,M=!1,j=0,F=e.Ou();void 0===p||void 0===_;){var U=F.Q1();if(!U)break;try{switch(OL(U)){case"#EXT-X-MEDIA-SEQUENCE":p=ML(U);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":_=ML(U)}}catch(t){xO.v$(BO,"Ignoring unparsable line: "+U,t)}}void 0===p&&(xO.gT(BO,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),p=0),void 0===_&&(xO.gT(BO,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),_=0);for(var H=p,X=_;;){var z=e.Q1();if(!z)break;var V=!1;try{var W=OL(z);switch(W){case"#EXTINF":V=!0;var q=zL(z);a=q[0],h=q[1];break;case"#EXT-X-BYTERANGE":V=!0,(c=qL(z,B))&&(B=c.OD+c.N_);break;case"#EXT-X-DISCONTINUITY":V=!0,N=!0,X++;break;case"#EXT-X-KEY":var G,$;V=!0;var Y=XL(z,t);if(Y.Ed===dL.yD){I.clear(),m=void 0;break}var Q=null!=(G=null==($=Y.c1)?void 0:$.toString())?G:"identity";I.set(Q,Y),Y.Ed===dL.E1&&(m=Y);break;case"#EXT-X-MAP":V=!0,v=GL(z,t),d=m;break;case"#EXT-X-PROGRAM-DATE-TIME":V=!0,w=$L(z);break;case"#EXT-X-GAP":V=!0,D=!0;break;case"#EXT-X-BITRATE":V=!0,g=ML(z);break;case"#EXT-X-TARGETDURATION":r=ML(z);break;case"#EXT-X-DATERANGE":var Z=YL(z);A.push(Z);break;case"#EXT-X-PART":V=!0;var K=ZL(z,t);C.push(K);break;case"#EXT-X-PRELOAD-HINT":var J=eM(z,t);P.push(J);break;case"#EXT-X-SKIP":E.length>0&&xO.v$(BO,"#EXT-X-SKIP must appear before any #EXTINF tags."),V=!0;var tt=tM(z,H);j=tt.X1,b=tt.F1,H+=tt.X1;break;case"#EXT-X-SERVER-CONTROL":var nt=KL(z);T=nt.C1,s=nt.P1,S=nt.B1,u=nt.O1,o=nt.L1;break;case"#EXT-X-RENDITION-REPORT":var it=JL(z,t);x.push(it);break;case"#EXT-X-PART-INF":y=nM(z);break;case"#EXT-X-MEDIA-SEQUENCE":V&&xO.v$(BO,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":V&&xO.v$(BO,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":O=!0;break;case"#EXT-X-PLAYLIST-TYPE":L=iM(z);break;case"#EXT-X-I-FRAMES-ONLY":M=!0;break;default:if(ks(W,"#"))k=uM(k,z,W);else{f=i.Pr(z,t);var et=v?{NJ:v,u2:d}:void 0,rt={e2:oM(Vr(I),H),iE:R,o2:C,Yg:a,MN:h,a2:N,NJ:{Q0:c,_i:f},c2:et,h2:w,D1:D,f2:g,H1:H,l2:X};E.push(rt),H++,R=[],C=[],a=void 0,a=void 0,h=void 0,N=!1,c=void 0,f=void 0,w=void 0,D=!1,g=void 0}}}catch(t){xO.v$(BO,"Ignoring unparsable line: "+z,t)}}if(C.length){var st=v?{NJ:v,u2:m}:void 0,ut={e2:oM(Vr(I),H),iE:R,o2:C,Yg:a,MN:h,a2:N,NJ:void 0,c2:st,h2:w,D1:D,f2:g,H1:H,l2:X};E.push(ut)}var ot=t,at=k.BA,ht=k.K1,ct=k.OD;try{ot=i.Pr(ot)}catch(n){xO.v$(BO,"The media playlist has no valid base URI: "+t+".",n),ot=void 0}void 0===ht&&(xO.v$(BO,"The media playlist has no #EXT-X-INDEPENDENT-SEGMENT tag, assuming segments are not independent."),ht=!1),void 0===at&&(xO.v$(BO,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),at=2),void 0===r&&xO.v$(BO,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var ft=E.length,lt=ft>0;lt||xO.v$(BO,"The HLS media playlist contains no segments.");var vt=lt&&E[ft-1].o2.length>0;vt&&void 0===y&&xO.v$(BO,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),vt&&void 0===o&&xO.v$(BO,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts.");for(var dt=[],wt=0;wt<x.length;wt++){var gt=x[wt],mt=gt.NJ,yt=gt.M1,pt=gt.U1;void 0!==mt&&void 0!==yt&&void 0!==pt||(xO.v$(BO,"Detected #EXT-X-RENDITION-REPORT tag with missing required attributes, assuming it refers to the containing HLS media playlist."),mt=t,yt=H+E.length,pt=E.length>0?E[E.length-1].o2.length-1:0),dt.push({NJ:mt,M1:yt,U1:pt})}if(void 0===ot||void 0===r)throw new l("HLSPlaylistParser - Could not parse HLS media playlist.");return{C1:T,P1:s,B1:S,G0:A,l2:_,d2:O,K1:ht,O1:u,w2:M,H1:p,X1:j,L1:o,f0:y,_2:L,g2:P,F1:b,m2:dt,b2:r,Y0:E,OD:ct,NJ:ot,A2:n,BA:at}}(t,n,r)}function cM(t){return t.reduce(function(t,n){return t+n},0)}var fM=function(){function t(t,n,i){var e,r,s,u;this.X_=lM++,this.pJ=void 0,this.UR=void 0,this.l0=void 0,this.s$=void 0,this.g1=void 0,this.T1=void 0,this.A1=void 0,this.m1=void 0,this.T2=void 0,this.S2=void 0,this.E2=[],this.pJ=n,this.UR=t.UR,this.T2=t.YK,this.l0=t.l0,this.S2=t.XH?vM(t.XH):void 0,this.s$=t.s$,this.g1=null!=(e=t.g1)?e:"I2"+this.X_,this.T1=null!=(r=t.T1)?r:"R2"+this.X_,this.A1=null!=(s=t.A1)?s:"N2"+this.X_,this.m1=null!=(u=t.m1)?u:"D2"+this.X_,this.E2=i}var n=t.prototype;return n.C2=function(t){for(var n=0,i=this.E2;n<i.length;n++){var e=i[n].pJ.C2(t);if(void 0!==e)return e}},n.q0=function(t){for(var n=0,i=this.E2;n<i.length;n++){var e=i[n].pJ.q0(t);if(void 0!==e)return e}},n.P2=function(t){for(var n=0,i=this.E2;n<i.length;n++){var e=i[n];if(e.us===t&&e.RJ)return void Gs(this.E2,e)}},T(t,[{key:"NJ",get:function(){return this.pJ.NJ}},{key:"XH",get:function(){return this.S2},set:function(t){this.S2=t?vM(t):void 0}},{key:"YK",get:function(){return this.T2||this.UR}},{key:"B2",get:function(){var t,n;if(!this.E2.length)return fE.gC();var i=null!=(t=tu(this.E2,function(t){var n;return null!=(n=t.pJ.O2)?n:0}))?t:this.A$[0],e=i.pJ.Y0;if(!e.length||e.length<2)return fE.gC();var r=i.pJ.d2?e[0].Zy:e[1].Zy,s=e[e.length-1],u=s.Zy+(null!=(n=s.Yg)?n:cM(s.o2.map(function(t){return t.Yg})))-this.A$.reduce(function(t,n){var i,e;return g.max(null!=(i=null!=(e=n.pJ.L1)?e:n.pJ.O1)?i:0,t)},0);return u<r?fE.gC():new fE([r,u])}},{key:"A$",get:function(){return this.E2}},{key:"y$",get:function(){return this.E2.filter(function(t){return t.us===aL.Ad})}},{key:"k$",get:function(){return this.E2.filter(function(t){return t.us===aL.Td})}},{key:"L2",get:function(){return this.E2.filter(function(t){return t.us===aL.iA})}},{key:"M2",get:function(){return this.E2.filter(function(t){return t.us===aL.j0})}}]),t}(),lM=0;function vM(t){return Fr({},t,{MH:t.MH?Wc(t.MH):void 0})}var dM=function(){function t(t,n,i,e,r){this.U2=void 0,this.X2=void 0,this.Yg=void 0,this.NJ=void 0,this.N1=void 0,this.D1=void 0,this.F2=void 0,this.lk=void 0,this.H2=void 0,this.U2=t,this.X2=n,this.lk=i,this.F2=e,this.Yg=r.Yg,this.NJ=r.NJ,this.N1=r.N1,this.D1=r.D1}return T(t,[{key:"Zy",get:function(){var t;return this.lk+(null!=(t=this.H2)?t:0)}},{key:"e2",get:function(){return this.U2.e2}}]),t}();var wM,gM=function(){function t(t,n,i,e){this.Yg=void 0,this.h2=void 0,this.NJ=void 0,this.c2=void 0,this.D1=void 0,this.F2=void 0,this.H1=void 0,this.a2=void 0,this.l2=void 0,this.e2=void 0,this.lk=void 0,this.z2=[],this.V2=void 0,this.lk=t,this.c2=e.c2,this.F2=i,this.Yg=e.Yg,this.h2=e.h2,this.NJ=e.NJ,this.D1=e.D1,this.H1=e.H1,this.a2=e.a2,this.l2=n,this.e2=e.e2,this.W2(e)}var n=t.prototype;return n.G2=function(t){return this.z2[t]},n.q2=function(t){for(var n=0;n<this.z2.length;n++){var i=this.z2[n],e=i.Zy,r=e+i.Yg;if(e<=t&&t<=r)return t===r&&n+1<this.z2.length?this.z2[n+1]:i}},n.Y2=function(t){for(var n=this.z2.length-1;n>=0;n--){var i=this.z2[n];if(i.Zy<=t)return i}},n.j2=function(t){for(var n=this.Y2(t);n&&!n.N1&&n.X2>0;)n=this.G2(n.X2-1);return n},n.W2=function(t){if(t.o2.length)for(var n=0,i=0;i<t.o2.length;i++){var e=t.o2[i],r=!!this.F2&&i===t.o2.length-1,s=this.lk+n,u=new dM(this,i,s,r,e);this.z2.push(u),n+=e.Yg}},n.Q2=function(){Zs(this.z2)},T(t,[{key:"Zy",get:function(){var t;return this.lk+(null!=(t=this.V2)?t:0)}},{key:"Z2",get:function(){return this.lk}},{key:"o2",get:function(){return this.z2}},{key:"H2",get:function(){return this.V2},set:function(t){this.V2=t;for(var n=0,i=this.z2;n<i.length;n++){i[n].H2=t}}}]),t}();!function(t){t.K2="YES",t.J2="v2"}(wM||(wM={}));var mM=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(tn),yM=String.fromCharCode(95),pM=yM+"HLS_msn",_M=yM+"HLS_part",bM=yM+"HLS_skip",kM=function(){function t(t){this.NJ=void 0,this.n3=void 0,this.i3=void 0,this.e3=void 0,this.r3=void 0,this.s3=void 0,this.u3=void 0,this.o3=void 0,this.a3=[],this.c3=[],this.V2=void 0,this.h3=!1,this.f3=void 0,this.v3=!1,this.nW=fE.gC(),this.ea=void 0,this.l3=-1/0,this.NJ=t}var n=t.prototype;return n.r$=function(t){if(!t)return this.NJ;var n=i.Cr(this.NJ);return void 0!==t.H1&&n.searchParams.append(pM,String(t.H1)),void 0!==t.d3&&n.searchParams.append(_M,String(t.d3)),void 0!==t.gA&&n.searchParams.append(bM,t.gA),n.href},n.w3=function(t){return Vs(this.a3,function(n){return n.H1===t})},n._3=function(t){for(var n=0;n<this.a3.length;n++){var i,e=this.a3[n],r=e.Zy,s=r+(null!=(i=e.Yg)?i:cM(e.o2.map(function(t){return t.Yg})));if(r<=t&&t<=s)return t===s&&n+1<this.a3.length?this.a3[n+1]:e}},n.C2=function(t){var n=this.g3();if(void 0!==n)return new Date(1e3*t+n)},n.q0=function(t){var n=this.g3();if(void 0!==n)return(t.getTime()-n)/1e3},n.g3=function(){for(var t=this.Y0,n=t.length-1;n>=0;n--){var i=t[n];if(void 0!==i.h2)return i.h2.getTime()-1e3*i.Zy}},n.m3=function(t){switch(t){case vL.W1:return this.i3;case vL.G1:return this.e3;default:return}},n.y3=function(t){void 0!==this.r3||p(t.b2)||(this.r3=t.b2),void 0===this.r3&&(this.r3=this.b3(t)),void 0===this.u3&&void 0!==t.O1&&(this.u3=t.O1),void 0===this.s3&&void 0!==t.f0&&(this.s3=t.f0),void 0===this.o3&&void 0!==t.L1&&(this.o3=t.L1),this.h3=t.C1,this.f3=t.P1,this.v3=t.B1,this.A3(t),this.V0(t);for(var n=0,e=t.g2;n<e.length;n++){var r=e[n];switch(r.us){case vL.W1:this.i3={NJ:r.NJ,us:r.us,l2:t.l2};break;case vL.G1:this.e3={NJ:r.NJ,us:r.us,l2:t.l2}}}this.n3=i.Je()/1e3,this.nW=this.T3(),this.ea=this.S3()},n.T3=function(){var t,n,i,e=this.Y0;if(0===e.length)return fE.gC();var r=e[0].Zy,s=e[e.length-1],u=s.Zy+(null!=(t=s.Yg)?t:cM(s.o2.map(function(t){return t.Yg})))-(null!=(n=null!=(i=this.L1)?i:this.O1)?n:0);return u<r?fE.gC():new fE([r,u])},n.S3=function(){var t;if(0===this.a3.length)return 0;if(!this.d2)return 1/0;var n=cM(this.a3.slice(0,this.a3.length-1).map(function(t){var n;return null!=(n=t.Yg)?n:0})),i=this.a3[this.a3.length-1];return n+(null!=(t=i.Yg)?t:cM(i.o2.map(function(t){return t.Yg})))},n.b3=function(t){for(var n,i=0,e=t.Y0;i<e.length;i++){var r=e[i];if(void 0!==r.Yg){var s=g.max(1,g.round(r.Yg));(void 0===n||n<s)&&(n=s)}}if(void 0===n)throw new l("HLSModel - Could not determine required segment target duration.");return n},n.A3=function(t){if(0===t.Y0.length)return Zs(this.a3),void(this.H2=void 0);var n,i,e,r=0,s=t.X1;if(this.a3.length>0){var u=this.a3[0].H1,o=this.a3[this.a3.length-1].H1,a=t.Y0[0].H1-s,h=t.Y0[t.Y0.length-1].H1;if(a<u)return void xO.v$("HLSMediaPlaylist","Ignoring older playlist (first media sequence number is "+a+", but previous playlist already started at "+u+")");if(h<o)return void xO.v$("HLSMediaPlaylist","Ignoring older playlist (last media sequence number is "+h+", but previous playlist already ended at "+o+")");if(o<a){var c;r=null!=(c=function(t,n){var i=Ws(t,function(t){return void 0!==t.h2});if(void 0===i)return;var e=function(t){for(var n=0,i=0;i<t.length;i++){var e,r=t[i];if(r.a2)return;if(r.h2)return[r,n];n+=null!=(e=r.Yg)?e:0}return}(n.Y0);if(void 0===e)return;var r=e[0],s=e[1];if(i.l2!==r.l2)return;var u=(r.h2.getTime()-i.h2.getTime())/1e3;return i.Zy+u-s}(this.a3,t))?c:function(t,n,i){var e,r=t[t.length-1],s=n.Y0[0],u=r.Z2+(null!=(e=r.Yg)?e:i),o=s.H1-r.H1-1;return u+o*i}(this.a3,t,this.v0),Zs(this.a3)}else{0;var f=qs(this.a3,function(t){return t.H1===a});0,r=this.a3[f].Z2,f>0&&this.a3.splice(0,f)}}if(s>0){if(s>this.a3.length)throw new mM("New playlist skips over missing segments.");var l=this.a3[s-1];if(void 0===l.Yg)throw new mM("New playlist skips over an incomplete segment.");n=l.Z2+l.Yg,e=l.l2-t.l2;for(var v=0,d=i=this.a3.slice(0,s);v<d.length;v++){d[v].Q2()}}else n=r,e=0,i=[];for(var w=0;w<t.Y0.length;w++){var g=t.Y0[w],m=t.d2&&w===t.Y0.length-1,y=g.Yg,p=g.l2+e,_=new gM(n,p,m,g);_.H2=this.V2,i.push(_),void 0!==y&&(n+=y)}this.a3=i},n.V0=function(t){var n=this,i=t.G0.map(_L);if(t.B1&&t.A2.gA===wM.J2&&(i=this.c3.concat(i)),this.c3=oL(i),t.F1)for(var e=function(t,i){var e=i[t],r=qs(n.c3,function(t){return t.X_===e});r>=0&&$s(n.c3,r)},r=0,s=t.F1;r<s.length;r++)e(r,s)},T(t,[{key:"E3",get:function(){return this.i3}},{key:"I3",get:function(){return this.e3}},{key:"d2",get:function(){return Boolean(Vs(this.a3,function(t){return t.F2}))}},{key:"Yg",get:function(){return this.ea}},{key:"Ry",get:function(){return this.nW}},{key:"v0",get:function(){return this.r3}},{key:"f0",get:function(){return this.s3}},{key:"O1",get:function(){return this.d2?0:this.u3?this.u3:this.r3?3*this.r3:void 0}},{key:"L1",get:function(){var t;return null!=(t=this.o3)?t:this.s3?3*this.s3:void 0}},{key:"R3",get:function(){var t;if(!this.d2&&this.a3.length){var n=this.a3[this.a3.length-1],i=null!=(t=this.L1)?t:0;return void 0===n.Yg?n.o2.length?n.Zy+n.o2[0].Yg*n.o2.length-i:n.Zy-i:n.Zy+n.Yg-i}}},{key:"C1",get:function(){return this.h3}},{key:"P1",get:function(){return this.f3}},{key:"B1",get:function(){return this.v3}},{key:"N3",get:function(){return void 0!==this.f0}},{key:"D3",get:function(){if(this.d2)return!0;var t=i.Je()/1e3,n=this.O2,e=this.C3;return void 0!==n&&t-n<e}},{key:"O2",get:function(){return this.n3}},{key:"H2",get:function(){return this.V2},set:function(t){this.V2=t;for(var n=0,i=this.a3;n<i.length;n++){i[n].H2=this.V2}}},{key:"C3",get:function(){var t;return null!=(t=this.r3)?t:1}},{key:"Y0",get:function(){return this.a3}},{key:"G0",get:function(){return this.c3}},{key:"P3",get:function(){return this.l3},set:function(t){this.l3=t}}]),t}();var AM=function(){function t(t){this.B3=[],this.O3=[],this.x3=Hr(),this.L3=t}var n=t.prototype;return n.y3=function(t,n){if(lL(t))if(0===this.B3.length)this.M3(t);else{if(!n)return void xO.v$("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.pJ.y3(t)}else{if(0!==this.B3.length)return void xO.v$("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.U3(t)}},n.M3=function(t){var n=this.X3(t.NJ);n.y3(t);var i=this.F3(aL.Ad,n),e=this.F3(aL.Td,n),r=new fM({NJ:n.NJ,UR:0,YK:0,l0:NaN,XH:void 0,s$:void 0,jK:0,_1:[],b1:void 0,S1:void 0,g1:void 0,T1:void 0,A1:void 0,m1:void 0},n,[i,e]);this.B3.push(r)},n.U3=function(t){var n,i=this;(n=this.O3).push.apply(n,t.e2);for(var e=this.H3(t),r=function(t,n){var r=n[t],s=e.filter(function(t){return function(t,n){return TM(t.us,t.EJ,n)&&(!t.RJ||t.pJ.NJ===n.NJ)}(t,r)});i.z3(r,s);var u=new fM(r,i.X3(r.NJ),s);i.B3.push(u)},s=0,u=t.s2;s<u.length;s++)r(s,u)},n.X3=function(t){var n=this.x3.get(t);return void 0===n&&(n=new kM(t),this.x3.set(t,n)),n},n.H3=function(t){for(var n=[],i=0,e=t.sT;i<e.length;i++){var r=e[i];if(void 0===r.NJ)for(var s=0,u=t.s2;s<u.length;s++){var o=u[s];if(TM(r.us,r.EJ,o)){var a=new lO(r,this.X3(o.NJ));n.push(a)}}else{var h=new lO(r,this.X3(r.NJ));n.push(h)}}return n},n.F3=function(t,n){return new lO({us:t,NJ:void 0,EJ:"",V_:void 0,l1:void 0,ci:"",AJ:!0,TJ:!1,SJ:!1,w1:void 0,IJ:void 0,d1:void 0},n)},n.z3=function(t,n){var i=n.filter(function(t){return t.us===aL.Ad}),e=n.filter(function(t){return t.us===aL.Td}),r=t.XH&&(t.XH.MH||t.XH.UH);if((!r||t.XH.MH)&&0===e.length){var s=this.F3(aL.Td,this.X3(t.NJ));n.push(s)}if((!r||t.XH.UH)&&0===i.length){var u=this.F3(aL.Ad,this.X3(t.NJ));n.push(u)}t.XH&&t.XH.FH},n.V3=function(t){for(var n=0,i=this.B3;n<i.length;n++)for(var e=0,r=i[n].A$;e<r.length;e++){var s=r[e];if(s===t)return s}},n.W3=function(t){for(var n=0,i=this.B3;n<i.length;n++){var e=i[n];if(e===t)return e}},n.G3=function(t){for(var n=0,i=this.B3;n<i.length;n++){var e=i[n];if(Ys(e.A$,t))return e}},T(t,[{key:"q3",get:function(){return this.O3}},{key:"m$",get:function(){return this.B3}}]),t}();function TM(t,n,i){switch(t){case aL.Ad:return i.g1===n;case aL.Td:return i.T1===n;case aL.iA:return i.A1===n;case aL.j0:return i.m1===n}return!1}var SM=function(t){function n(n){var i;return(i=t.call(this,"W0")||this).qJ=n,i}return E(n,t),n}(Su);function EM(t,n,i,e,r){var s,u;return jr.async(function(o){for(;;)switch(o.prev=o.next){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),s=0;case 4:return o.prev=5,o.next=8,jr.awrap(t(n));case 8:return o.abrupt("return",o.sent);case 11:if(o.prev=11,o.t0=o.catch(5),cu(o.t0),!(s<i)){o.next=20;break}return u=g.min(e*g.pow(2,s),r),s++,o.next=19,jr.awrap(pu(u,n));case 19:return o.abrupt("continue",4);case 20:throw o.t0;case 21:o.next=4;break;case 23:case"end":return o.stop()}},null,null,[[5,11]],We)}var IM=function(t){function n(n){var i;return(i=t.call(this,"Y3")||this).qJ=n,i}return E(n,t),n}(Su),RM="HlsModelUpdate",CM=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).j3=void 0,r.Q3=!1,r.Z3=void 0,r.K3=void 0,r.J3=Xr(),r.kE=n,r.t4=i,r.rootURI=e,r.j3=new AM(e),r}E(n,t);var e=n.prototype;return e.n4=function(t){var n,i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.j3.L3){e.next=3;break}throw new l("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");case 3:return e.next=5,jr.awrap(this.i4(n,{},2,t));case 5:if(fL(i=e.sent)||lL(i)){e.next=8;break}throw new l("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");case 8:return fL(i)||xO.gT(RM,"Detected media playlist only HLS stream."),this.e4(i),e.next=12,jr.awrap(this.r4(t));case 12:this.Q3=!0;case 13:case"end":return e.stop()}},null,this,null,We)},e.s4=function(t,n,i,e){var r,s,u;return jr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=this.j3.V3(t)){o.next=3;break}throw new l("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");case 3:return s={H1:n,d3:i,gA:xM(r)},u=qt(g.max(1,3*t.pJ.C3)),o.prev=5,o.next=8,jr.awrap(this.u4(r,s,e,u));case 8:o.next=15;break;case 10:throw o.prev=10,o.t0=o.catch(5),cu(o.t0),this.o4(r),o.t0;case 15:case"end":return o.stop()}},null,this,[[5,10]],We)},e.a4=function(t,n){var i=this.j3.V3(t);if(!i)throw new l("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var e={H1:void 0,d3:void 0,gA:xM(i)},r=qt(g.max(1,3*t.pJ.C3));return this.u4(i,e,n,r)},e.c4=function(t,n){return this.J3.has(t.F_)||this.J3.set(t.F_,new ta),lu(this.J3.get(t.F_).Uu,n)},e.o4=function(t){this.Ys(new IM(t))},e.u4=function(t,n,e,r){var s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.pJ.r$(n),a.prev=1,a.next=4,jr.awrap(this.i4(s,n,0,e,r));case 4:u=a.sent,a.next=12;break;case 7:throw a.prev=7,a.t0=a.catch(1),cu(a.t0),t.pJ.P3=i.Je(),a.t0;case 12:if(lL(u)){a.next=14;break}throw new l("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");case 14:a.prev=14,this.e4(u,t),a.next=24;break;case 18:if(a.prev=18,a.t1=a.catch(14),!(a.t1 instanceof mM&&void 0!==n.gA)){a.next=23;break}return o=Fr({},n,{gA:void 0}),a.abrupt("return",this.u4(t,o,e,r));case 23:throw a.t1;case 24:if(t!==this.Z3){a.next=26;break}return a.abrupt("return");case 26:if(void 0===t.pJ.H2){a.next=28;break}return a.abrupt("return");case 28:if(this.Z3){a.next=33;break}this.Z3=t,this.Z3.pJ.H2=0,a.next=45;break;case 33:if(this.Z3.pJ.D3){a.next=44;break}return a.prev=34,a.next=37,jr.awrap(this.a4(this.Z3,e));case 37:a.next=44;break;case 39:a.prev=39,a.t2=a.catch(34),cu(a.t2),this.Z3=t,this.h4();case 44:this.f4(t);case 45:case"end":return a.stop()}},null,this,[[1,7],[14,18],[34,39]],We)},e.i4=function(t,n,i,e,r){var s,u,o,a=this;return jr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return xO.gT(RM,"Loading HLS playlist at "+t+"."),h.prev=1,h.next=4,jr.awrap(this.t4.v4([t]));case 4:if(s=h.sent,hu(e),void 0===s){h.next=8;break}return h.abrupt("return",hM(s.responseURL,{},s.data));case 8:h.next=14;break;case 10:h.prev=10,h.t0=h.catch(1),cu(h.t0);case 14:return u={ud:t,Jl:Pf.Kn,Ed:eg.GET,us:rg.fd,zs:e,Id:r},h.next=17,jr.awrap(EM(function(){return a.l4(u)},e,i));case 17:return o=h.sent,h.abrupt("return",hM(o.rd,n,o.Xi));case 19:case"end":return h.stop()}},null,this,[[1,10]],We)},e.l4=function(t){var n,i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jr.awrap(this.kE.ed(t));case 2:return n=e.sent,e.next=5,jr.awrap(n.Ol());case 5:return i=e.sent,e.abrupt("return",{Xi:i,rd:n.rd});case 7:case"end":return e.stop()}},null,this,null,We)},e.r4=function(t){var n,i,e,r,s,u,o,a;return jr.async(function(h){for(;;)switch(h.prev=h.next){case 0:hu(t),n=[],i=0,e=this.j3.m$;case 3:if(!(i<e.length)){h.next=26;break}r=e[i],s=0,u=r.A$;case 6:if(!(s<u.length)){h.next=23;break}return o=u[s],h.prev=8,h.next=11,jr.awrap(this.t4.v4([o.pJ.NJ]));case 11:a=h.sent,hu(t),void 0===a||o.pJ.D3||n.push(this.a4(o,t)),h.next=20;break;case 16:h.prev=16,h.t0=h.catch(8),cu(h.t0);case 20:s++,h.next=6;break;case 23:i++,h.next=3;break;case 26:return h.next=28,jr.awrap(We.all(n));case 28:case"end":return h.stop()}},null,this,[[8,16]],We)},e.h4=function(){for(var t=0,n=this.j3.m$;t<n.length;t++)for(var i=0,e=n[t].A$;i<e.length;i++){var r=e[i];r!==this.Z3&&(void 0!==r.pJ.H2&&(r.pJ.D3?this.f4(r):r.pJ.H2=void 0))}},e.f4=function(t){if(t.pJ.Y0.length&&this.Z3){if(t.pJ.Y0.length&&t.pJ.d2)return t.pJ.H2=0,void xO.gT(RM,"Assuming global timeline offset of "+t.pJ.H2+"s for rendition "+t.pJ.NJ+".");var n=function(t,n){var i=DM(t);if(0===i.length)return;var e=DM(n);if(0===n.length)return;for(var r=e.length-1;r>=0;r--)for(var s=e[r],u=0;u<i.length;u++){var o=i[u];if(s.l2===o.l2)return{segment:o,referenceSegment:s}}return}(t.pJ.Y0,this.Z3.pJ.Y0);if(void 0!==n){var i=n.segment,e=n.referenceSegment;return t.pJ.H2=e.Zy-i.Zy,void xO.gT(RM,"Assuming global timeline offset of "+t.pJ.H2+"s for rendition "+t.pJ.NJ+".")}var r=PM(t.pJ.Y0);if(void 0!==r){var s=PM(this.Z3.pJ.Y0);if(void 0!==s){var u=s.Zy-r.Zy,o=(s.h2.getTime()-r.h2.getTime())/1e3;return t.pJ.H2=u-o,void xO.gT(RM,"Assuming global timeline offset of "+t.pJ.H2+"s for rendition "+t.pJ.NJ+".")}}t.pJ.H2=NM(this.Z3)-NM(t),xO.gT(RM,"Assuming global timeline offset of "+t.pJ.H2+"s for rendition "+t.pJ.NJ+".")}},e.e4=function(t,n){var i;(this.j3.y3(t,n),lL(t)&&n)&&(this.K3=n,this.Ys(new SM(n)),null==(i=this.J3.get(n.F_))||i.Hu(),this.J3.delete(n.F_))},e.d4=function(t,n){var i=this.j3.W3(t);if(!i)throw new l("HLSModelUpdater - Could not update HLS variant stream: the stream does not exist on the internal model.");for(var e=0,r=this.j3.m$;e<r.length;e++){var s=r[e];s.XH||(n.MH||s.P2(aL.Td),n.UH||s.P2(aL.Ad))}i.XH=n},T(n,[{key:"w4",get:function(){return this.Q3}},{key:"g$",get:function(){return this.j3}},{key:"_4",get:function(){return this.K3}}]),n}(Au);function NM(t){var n,i=t.pJ.Y0[t.pJ.Y0.length-1];return i.Zy+(null!=(n=i.Yg)?n:cM(i.o2.map(function(t){return t.Yg})))}function DM(t){return t.filter(function(t){return t.a2})}function PM(t){for(var n=t.length-1;n>=0;n--)if(void 0!==t[n].h2)return t[n]}function xM(t){if(void 0!==t.pJ.P1&&!t.pJ.d2&&!(void 0===t.pJ.O2||i.Je()/1e3-t.pJ.O2>=t.pJ.P1/2))return t.pJ.B1?wM.J2:wM.K2}var BM=function(t){function n(){return t.call(this,hO.wJ)||this}return E(n,t),n}(Su);var OM,LM=function(){function t(t){this.a3=[],this.Lz=void 0,this.g4=void 0,this.m4=t}var n=t.prototype;return n.y4=function(t){var n;return null==(n=this.b4(t))?void 0:n.qJ},n.A4=function(t){this.Lz=t,this.T4()},n.S4=function(t,n,i,e,r,s){this.a3.push({H1:n,qJ:t,E4:new fE([r,s]),I4:new fE([i,e])}),this.T4()},n.b4=function(t){for(var n=0,i=this.a3;n<i.length;n++){var e=i[n];if(e.I4.QN(t))return e}},n.R4=function(t){for(var n=0,i=this.a3;n<i.length;n++){var e=i[n];if(e.H1===t)return e}},n.hV=function(){var t=this.vy;t.N_>0&&(this.g4=t.LD(t.N_-1))},n.T4=function(){var t=this.m4.vy;this.a3=this.a3.filter(function(n){return 0!==t.YD(n.I4).N_})},T(t,[{key:"N4",get:function(){return this.Lz}},{key:"vy",get:function(){return t=this.m4.vy,n=this.m4.pV,i=n.aC(function(n,i){return t.sC(n,i,!1,!1)}),t.$D(i);var t,n,i}},{key:"Y0",get:function(){return this.a3}},{key:"D4",get:function(){return this.g4}}]),t}(),MM=function(){function t(t,n,i,e){var r=this;this.m4=void 0,this.C4=void 0,this.P4=void 0,this.Hi=void 0,this.B4=void 0,this.Kv=new uu,this.O4=fE.gC(),this.x4=function(t){r.B4&&(t&&!au(t)?r.B4.Vu(t):r.B4.Hu(),r.B4=void 0)},this.Hi=t,this.P4=i,this.m4=n,this.C4=e}var n=t.prototype;return n.L4=function(){if(this.M4)throw new l("Cannot perform new operation while BufferAppender is still busy")},n.U4=function(t){this.m4!==t&&(this.L4(),this.m4=t,this.C4=new LM(t))},n.X4=function(){return this.B4?this.B4.Uu:We.resolve()},n.F4=function(t){var n,i,e=this.C4.D4,r=this.C4.vy;if(void 0===e)return!1;var s=g.min(t,e);return null!=(n=null==(i=r.zD().nC(this.H4).vC(s))?void 0:i.QN(e))&&n},n.z4=function(t){return this.C4.y4(t)},n.Xs=function(){this.Kv.Xs(),this.Kv=new uu},n.Vz=function(t){var n=this;this.L4(),this.B4=new ta;var i=function(i){n.P4.V4(t),n.x4(i)};this.Wz(t,this.Kv.zs).then(i,i)},n.Wz=function(t,n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return xO.f$("Buffering","Appending initializer",mL(t.W4.NJ)),i.next=3,jr.awrap(this.m4.Vz(t,n));case 3:xO.f$("Buffering","Appended initializer",mL(t.W4.NJ)),this.C4.A4(t);case 5:case"end":return i.stop()}},null,this,null,We)},n.G4=function(t){var n=this;this.L4(),this.B4=new ta;var i=function(i){n.P4.V4(t),n.x4(i)};this.q4(t,this.Kv.zs).then(i,i)},n.q4=function(t,n){var i,e,r,s,u,o,a,h,c,f,v,d,w,g;return jr.async(function(m){for(;;)switch(m.prev=m.next){case 0:if(e=t.qJ,r=t.H1,void 0!==e.pJ.v0){m.next=4;break}throw new l("MediaBufferWrapper - Cannot append HLSAsset to "+this.Hi+" MediaBuffer for a HLSRendition with an undefined targetDuration.");case 4:return s=this.C4.vy.UD,u=this.m4.vy,xO.f$("Buffering","Appending",mL(t.W4.NJ)),m.next=9,jr.awrap(this.m4.Fz(t,n));case 9:xO.f$("Buffering","Appended",mL(t.W4.NJ),s,this.C4.vy.UD),o=t.Zy,a=o+t.Yg,h=t.W4,c=h.Zy,f=h.Zy+(null!=(i=h.Yg)?i:0),this.C4.S4(e,r,o,a,c,f),v=this.m4.vy.nC(u),(d=this.C4.R4(r-1))?this.Y4(d)?0===v.N_?Boolean(this.j4.R4(r))||(w=this.m4.pV.YD(new fE([o,a])),this.O4=this.O4.$D(w)):(this.O4=this.O4.nC(new fE([v.OD(0),a])),v.OD(0)>o&&(this.O4=this.O4.$D(new fE([o,v.OD(0)])))):this.O4=this.O4.nC(new fE([o,a])):0===v.N_?(g=this.m4.pV.YD(new fE([o,a])),this.O4=this.O4.$D(g)):v.OD(0)>o&&(this.O4=this.O4.$D(new fE([o,v.OD(0)]))),t.W4.F2&&this.C4.hV();case 20:case"end":return m.stop()}},null,this,null,We)},n.Y4=function(t){var n=t.I4,i=n.OD(0),e=n.LD(n.N_-1),r=n.xD(0),s=n.MD(n.N_-1);return this.O4.eC(i,e,r,s)},T(t,[{key:"us",get:function(){return this.Hi}},{key:"Q4",get:function(){return this.Hi===s_.Ad||this.Hi===s_.Td}},{key:"j4",get:function(){return this.C4}},{key:"H4",get:function(){return this.O4}},{key:"M4",get:function(){return void 0!==this.B4}}]),t}(),jM=function(){function t(t,n){this.Z4=void 0,this.K4=t,this.kE=n}var n=t.prototype;return n.J4=function(t,n,i,e){var r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,jr.awrap(this.t6(n,e));case 2:return r=s.sent,s.next=5,jr.awrap(this.K4.J4(t,r,i));case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,We)},n.t6=function(t,n){var i,e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if((null==(i=this.Z4)?void 0:i.ud)===t){u.next=10;break}return xO.f$("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),u.next=4,jr.awrap(this.kE.ed({ud:t,Jl:Pf.Vf,Ed:eg.GET,zs:n,us:rg.ld,Rd:sg.pd}));case 4:return e=u.sent,u.next=7,jr.awrap(e.Ll());case 7:r=u.sent,s=new _(r),this.Z4={ud:t,Xi:s};case 10:return u.abrupt("return",this.Z4.Xi);case 11:case"end":return u.stop()}},null,this,null,We)},t}(),FM=function(){function t(t,n,i,e,r){void 0===r&&(r=2),this.kE=t,this.t4=n,this.n6=i,this.i6=e,this.e6=r}var n=t.prototype;return n.ed=function(t,n,i){var e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,jr.awrap(this.r6(t,n,Pf.Vf,i));case 2:return e=r.sent,r.t0=_,r.next=6,jr.awrap(e.Ll(i));case 6:return r.t1=r.sent,r.abrupt("return",new r.t0(r.t1));case 8:case"end":return r.stop()}},null,this,null,We)},n.s6=function(t,n,i){var e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,jr.awrap(this.r6(t,n,Pf.Gf,i));case 2:return e=r.sent,r.abrupt("return",e.Ml(i));case 4:case"end":return r.stop()}},null,this,null,We)},n.r6=function(t,n,i,e){var r,s,u,o,a=this;return jr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return t.Q0&&0===(r=cL(t.Q0.OD,t.Q0.N_))[0]&&r[1]===Lt&&(r=void 0),s=r?{Range:"bytes="+r[0]+"-"+r[1]}:void 0,u=new ag({ud:t._i,Jl:i,Kl:s,Dd:this.i6,Ed:eg.GET,us:rg.vd,Rd:n,Nd:this.n6,zs:e}),h.prev=3,h.next=6,jr.awrap(this.t4.u6(t._i,r));case 6:if(o=h.sent,hu(e),void 0===o){h.next=10;break}return h.abrupt("return",new og({ed:u,Xi:o.buffer}));case 10:h.next=16;break;case 12:h.prev=12,h.t0=h.catch(3),cu(h.t0);case 16:return h.next=18,jr.awrap(EM(function(){return lu(a.kE.ed(u),u.zs)},e,this.e6));case 18:return h.abrupt("return",h.sent);case 19:case"end":return h.stop()}},null,this,[[3,12]],We)},t}(),UM=function(){function t(t,n){this.U0=void 0,this.o6=void 0,this.a6=void 0,this.c6=new uu,this.RG=-1/0,this.h6=!1,this.U0=t,this.o6=n,this.f6()}var n=t.prototype;return n.v6=function(){return this.o6.pJ.C1},n.l6=function(t,n,e){return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.v6()){r.next=2;break}throw new l("Could not perform blocking playlist update.");case 2:return r.prev=2,r.next=5,jr.awrap(this.d6());case 5:return hu(e),r.next=8,jr.awrap(this.U0.s4(this.o6,t,n,e));case 8:this.RG=i.Je(),r.next=15;break;case 11:throw r.prev=11,r.t0=r.catch(2),au(r.t0)&&this.f6(),r.t0;case 15:this.f6();case 16:case"end":return r.stop()}},null,this,[[2,11]],We)},n.w6=function(t){return this.U0.c4(this.o6,t)},n.f6=function(){var t=this;if(!this.a6&&!this.h6){var n=function(){t.a6=void 0};this.a6=this._6(this.c6.zs).then(n,n)}},n.d6=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.a6){t.next=6;break}return this.c6.Xs(),this.c6=new uu,t.next=5,jr.awrap(this.a6.catch(Z));case 5:this.a6=void 0;case 6:case"end":return t.stop()}},null,this,null,We)},n._6=function(t){var n,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.o6.pJ.d2||!this.o6.pJ.D3){r.next=3;break}return r.abrupt("return");case 3:if(n=i.Je()-this.RG,e=1e3*this.o6.pJ.C3,!(n<e)){r.next=8;break}return r.next=8,jr.awrap(pu(e-n,t));case 8:return r.prev=8,r.next=11,jr.awrap(this.U0.a4(this.o6,t));case 11:r.next=18;break;case 13:throw r.prev=13,r.t0=r.catch(8),cu(r.t0),this.U0.o4(this.o6),r.t0;case 18:this.RG=i.Je(),r.next=0;break;case 21:case"end":return r.stop()}},null,this,[[8,13]],We)},n.Bs=function(){this.h6=!0,mu(this.d6())},t}();!function(t){t[t.W1=0]="W1",t[t.G1=1]="G1",t[t.vd=2]="vd",t[t.g6=3]="g6"}(OM||(OM={}));var HM="AssetExtractor",XM=function(){function t(){this.m6=[]}var n=t.prototype;return n.y6=function(t,n,i){for(var e=n,r=0,s=this.m6;r<s.length;r++){var u=s[r];if(e>=t)return!0;if(e<u.OD)return!1;if(e<u.LD){if(i<=u.LD)return!0;e=u.LD}}return e>=t},n.k6=function(t,n){for(var i=[],e=0;e<this.m6.length;e+=1){var r=this.m6[e],s=t-r.OD,u=r.Xi.length,o=g.min(u,g.max(s,0)),a=g.max(0,n+s),h=Yo(r.Xi,o,a);h.length&&(e=this.b6(e,r,t,o,a),i.push(h))}return i},n.p6=function(t,n){this.m6.push({OD:t,LD:t+n.length,Xi:n})},n.b6=function(t,n,i,e,r){var s=t;this.m6.splice(s,1),s-=1,n.OD<i&&(s+=1,this.m6.splice(s,0,{OD:n.OD,LD:i,Xi:Yo(n.Xi,0,e)}));var u=i+r-e;return u<n.LD&&(s+=1,this.m6.splice(s,0,{OD:u,LD:n.LD,Xi:Yo(n.Xi,r)})),s},t}(),zM=function(){function t(t,n){this.ev=void 0,this.A6=n,this.ev=t.getReader()}var n=t.prototype;return n.T6=function(){var t;return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jr.awrap(this.ev.read());case 2:if(!(t=n.sent).done){n.next=6;break}throw this.A6=1/0,new l("No more data can be read from the given stream.");case 6:return this.A6+=t.value.length,n.abrupt("return",t.value);case 8:case"end":return n.stop()}},null,this,null,We)},n.S6=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jr.awrap(this.ev.cancel(t));case 2:case"end":return n.stop()}},null,this,null,We)},T(t,[{key:"E6",get:function(){return this.A6}}]),t}(),VM=function(){function t(t,n,i,e){this.I6=void 0,this.ev=void 0,this.R6=void 0,this.N6=void 0,this.D6=void 0,this.C6=void 0,this.P6=new ta,this.I6=t,this.ev=n,this.R6=i,this.N6=e,this.D6=new ta,this.C6=new ta}var n=t.prototype;return n.B6=function(){this.C6.Hu(),this.C6=new ta},n.O6=function(t){var n=qM(this.I6.Q0),i=n.x6,e=n.L6,r=this.R6.k6(i,e-i);xO.f$(HM,"Collected "+r.length+" chunks.");for(var s=0;s<r.length;s++){var u=r[s];t.enqueue(u)}},n.readAndSliceOutAssetBytes=function(t){var n,i,e,r,s,u,o,a,h,c,f,l,v;return jr.async(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,jr.awrap(this.D6.Uu);case 2:n=qM(this.I6.Q0),i=n.x6,e=n.L6,d.prev=3;case 4:return r=this.ev.E6,d.next=8,jr.awrap(this.ev.T6());case 8:if(s=d.sent,u=s.length,xO.f$(HM,"Read "+u+" at "+r+" for extraction of "+mL(this.I6)),o=g.min(r+u,i),!((a=o-r)>0)){d.next=25;break}if(h=Yo(s,0,a),c=Yo(s,a),xO.f$(HM,"Of the read "+u+" bytes, the first "+a+" will be stored locally for extraction of "+mL(this.I6)),this.R6.p6(r,h),!(c.length>0)){d.next=23;break}return xO.f$(HM,"Extracting "+c.length+" bytes for extraction of "+mL(this.I6)),t.enqueue(c),this.B6(),d.abrupt("return",mu(this.readAndSliceOutAssetBytes(t)));case 23:d.next=46;break;case 25:if(!(r+u<=e)){d.next=33;break}return xO.f$(HM,"Extracting the read data range for extraction of "+mL(this.I6)),t.enqueue(s),this.B6(),d.abrupt("return",mu(this.readAndSliceOutAssetBytes(t)));case 33:if(l=Yo(s,0,f=e-r),v=Yo(s,f),l.length>0&&(xO.f$(HM,"Extracting "+l.length+" bytes for extraction of "+mL(this.I6)),t.enqueue(l)),xO.f$(HM,"Of the read "+u+" bytes, the last "+v.length+" will be stored locally for extraction of "+mL(this.I6)),this.R6.p6(r+f,v),xO.f$(HM,"Extraction of "+mL(this.I6)+" completed as the entire request has been fulfilled."),this.M6(t),!this.N6){d.next=45;break}return xO.f$(HM,"Aborting stream upstream as no more bytes are needed from "+mL(this.I6)+"."),d.next=45,jr.awrap(this.ev.S6("AssetExtraction - AbortOnEnd"));case 45:return d.abrupt("return");case 46:d.next=4;break;case 48:d.next=54;break;case 50:d.prev=50,d.t0=d.catch(3),xO.f$(HM,"Extraction of "+mL(this.I6)+" completed as the entire source stream has been read."),this.M6(t);case 54:case"end":return d.stop()}},null,this,[[3,50]],We)},n.M6=function(t){t.close(),this.B6(),this.P6.Hu()},n.start=function(t){xO.f$(HM,"Preparing to push all collected data to controller for extraction of "+mL(this.I6)),this.O6(t),xO.f$(HM,"Collected data pushed to controller for extraction of "+mL(this.I6));var n=qM(this.I6.Q0).L6;this.ev.E6>=n?(xO.f$(HM,"Extraction of "+mL(this.I6)+" completed as the entire request has been fulfilled."),this.M6(t)):(xO.f$(HM,"Continuing read from original stream for extraction of "+mL(this.I6)),mu(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.D6.Hu(),this.D6=new ta,this.C6.Uu},T(t,[{key:"U6",get:function(){return this.P6.Uu}}]),t}(),WM=function(){function t(t,n){this.R6=void 0,this.X6=void 0,this.F6=void 0,this.I6=n;var i=qM(this.I6.Q0).x6;this.X6=new zM(t,i),this.R6=new XM}var n=t.prototype;return n.By=function(t){if(!yL(this.I6,t))return!1;var n=qM(t.Q0),i=n.x6,e=n.L6;return this.R6.y6(this.X6.E6,i,e)},n.H6=function(t,n){var i,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0===n&&(n=!1),i=this.X6,e=this.R6,xO.gT(HM,"Extracting data from "+mL(t)+" out of "+mL(this.I6)),!this.F6){s.next=8;break}return xO.f$(HM,"Awaiting previous extraction before extracting "+mL(t)+" out of "+mL(this.I6)),s.next=8,jr.awrap(this.F6);case 8:if(this.By(t)){s.next=10;break}throw new l("The extractor does not contain the data requested");case 10:return r=new VM(t,i,e,n),this.F6=r.U6,s.abrupt("return",new tw(r));case 13:case"end":return s.stop()}},null,this,null,We)},t}();function qM(t){if(t){var n=t.OD;return{x6:n,L6:void 0!==t.N_?n+t.N_:Lt}}return{x6:0,L6:Lt}}var GM,$M=function(){function t(t,n){this.Kv=new uu,this.z6=void 0,this.I6=t,this.V6=n,this.z6=this.zc()}var n=t.prototype;return n.zc=function(){var t;return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jr.awrap(this.V6.s6(this.I6,sg.hd,this.Kv.zs));case 2:return t=n.sent,n.abrupt("return",new WM(t,this.I6));case 4:case"end":return n.stop()}},null,this,null,We)},n.By=function(t){return yL(this.I6,t)},n.H6=function(t,n){var i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!1),e.next=3,jr.awrap(this.z6);case 3:return i=e.sent,e.next=6,jr.awrap(lu(i.H6(t,n),this.Kv.zs));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},null,this,null,We)},n.Xs=function(){this.z6.catch(Z),this.Kv.Xs()},t}(),YM=function(t){function n(){return t.call(this,GM.W6)||this}return E(n,t),n}(Su),QM="HlsPlaylistDownloader";!function(t){t.W6="videosegmentdownloaded"}(GM||(GM={}));var ZM=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Hi=void 0,a.U0=void 0,a.P4=void 0,a.V6=void 0,a.G6=void 0,a.o6=void 0,a.q6=void 0,a.Y6=void 0,a.j6=void 0,a.Q6=new uu,a.Z6=void 0,a.K6=void 0,a.J6=void 0,a.t5=void 0,a.n5=function(t){a.Y6&&(a.o6=a.Y6,a.Y6=void 0,a.Z6=void 0,a.K6=void 0),a.j6&&(t&&!au(t)?a.j6.Vu(t):a.j6.Hu(),a.j6=void 0)},a.Hi=n,a.U0=e,a.P4=r,a.o6=i,a.q6=new UM(e,i),a.G6=new jM(o,s),a.V6=new FM(s,u,function(t){switch(t){case aL.Td:return ug.Td;case aL.Ad:return ug.Ad;case aL.iA:case aL.j0:return ug.Kn;default:return ug.hd}}(i.us),!1),a}E(n,t);var e=n.prototype;return e.i5=function(t){this.q6.Bs(),this.q6=new UM(this.U0,t),this.M4?this.Y6=t:(this.o6=t,this.Z6=void 0,this.K6=void 0)},e.X4=function(){return this.j6?this.j6.Uu:We.resolve()},e.e5=function(){return this.P4.e5()},e.r5=function(t){this.P4.r5(t)},e.Xs=function(){var t,n;this.Q6.Xs(),this.Q6=new uu,null==(t=this.t5)||t.Xs(),null==(n=this.J6)||n.Xs(),this.t5=void 0,this.J6=void 0,this.Z6=void 0,this.K6=void 0},e.Bs=function(){this.q6.Bs()},e.s5=function(t){var n=this.o6.pJ._3(t);if(!n)return!1;if(void 0!==this.Z6){var i=n.H1===this.Z6;return void 0!==this.K6?n.q2(t)===n.G2(this.K6)&&i:i}return!1},e.u5=function(t){var n;if(void 0===this.Z6)n=this.o5(t);else if(n=this.a5(this.Z6,this.K6)){var i=n,e=i[0],r=i[1],s=(null!=r?r:e).Zy,u=3*this.qJ.pJ.v0;g.abs(s-t)>=u&&(n=this.o5(t))}if(n){var o=n,a=o[0],h=o[1];return 0===(null==h?void 0:h.X2)&&void 0!==a.Yg?[a,void 0]:[a,h]}},e.o5=function(t){var n,i,e,r=this.o6.pJ.Y0;if(0!==r.length){var s=r[r.length-1];if(s.Zy+(null!=(n=s.Yg)?n:cM(s.o2.map(function(t){return t.Yg})))<=t)i=s,e=s.j2(t);else if(r[0].Zy>t)e=(i=r[0]).G2(0);else{var u;e=null==(u=i=this.o6.pJ._3(t))?void 0:u.j2(t)}return i?[i,e]:void 0}},e.a5=function(t,n){var i,e,r;if((i=this.o6.pJ.w3(t))&&void 0!==n){if(0===i.o2.length)return[i,void 0];e=i.G2(n+1)}void 0!==i&&void 0!==e||(e=null==(r=i=this.o6.pJ.w3(t+1))?void 0:r.G2(0));return i?[i,e]:void 0},e.L4=function(){if(this.M4)throw new l("Cannot perform new operation while PlaylistDownloader is still busy")},e.c5=function(t){this.L4(),this.j6=new ta,this.h5(t,this.Q6.zs).then(this.n5,this.n5)},e.f5=function(){this.q6.f6()},e.h5=function(t,n){var i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=this.u5(t))||!this.q6.v6()||void 0===this.Z6){e.next=5;break}return e.next=4,jr.awrap(this.q6.l6(void 0===this.K6?this.Z6+1:this.Z6,void 0!==this.K6?this.K6+1:void 0,n));case 4:i=this.u5(t);case 5:if(i||!this.q6.v6()||void 0===this.Z6){e.next=9;break}return e.next=8,jr.awrap(this.q6.l6(this.Z6+1,0,n));case 8:i=this.u5(t);case 9:if(i){e.next=16;break}return xO.gT(QM,"No next segment / part available, need to update playlist before continuing."),e.next=13,jr.awrap(this.q6.w6(n));case 13:i=this.u5(t),e.next=9;break;case 16:case"end":return e.stop()}},null,this,null,We)},e.v5=function(){return this.P4.l5()},e.d5=function(){this.L4();try{var t=this.o6.pJ.m3(vL.W1);t&&this.w5(t);var n=this.o6.pJ.m3(vL.G1);n&&this._5(n)}catch(t){throw cu(t),this.qJ.pJ.P3=i.Je(),this.U0.o4(this.qJ),t}},e.w5=function(t){this.J6&&!this.J6.By(t.NJ)&&(this.J6.Xs(),this.J6=void 0),this.J6||(this.J6=new $M(t.NJ,this.V6))},e._5=function(t){this.t5&&!this.t5.By(t.NJ)&&(this.t5.Xs(),this.t5=void 0),this.t5||(this.t5=new $M(t.NJ,this.V6))},e.g5=function(t,n,e){var r=this;this.L4(),xO.gT(QM,"Starting download of segment "+mL(t.NJ)+" and part "+(null==n?void 0:n.X2)),this.j6=new ta,this.m5(t,n,e,this.Q6.zs).catch(function(t){throw cu(t),r.qJ.pJ.P3=i.Je(),r.U0.o4(r.qJ),t}).then(this.n5,this.n5)},e.m5=function(t,n,i,e){var r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!t.c2){u.next=5;break}if(i&&pL(i.W4.NJ,t.c2.NJ)&&t.l2===i.l2){u.next=5;break}return u.next=4,jr.awrap(this.y5(t.c2,t,e));case 4:s=u.sent;case 5:if(s){u.next=9;break}return u.next=8,jr.awrap(this.k5(t,n,e));case 8:s=u.sent;case 9:this.P4.b5(s),"p5"===s.us&&this.Hi===s_.Td&&this.Ys(new YM),xO.f$("Buffering","Download complete",mL(null!=(r=null==n?void 0:n.NJ)?r:t.NJ));case 12:case"end":return u.stop()}},null,this,null,We)},e.k5=function(t,n,i){var e,r,s,u;return jr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!n){o.next=26;break}if(!this.t5){o.next=19;break}if(!this.t5.By(n.NJ)){o.next=17;break}return o.next=5,jr.awrap(this.t5.H6(n.NJ));case 5:return r=o.sent,o.t0=_,o.next=9,jr.awrap(jw(r,i));case 9:return o.t1=o.sent,s=new o.t0(o.t1),o.next=13,jr.awrap(this.J4(s,n.e2,i));case 13:u=o.sent,e=tj(n,u),o.next=19;break;case 17:this.t5.Xs(),this.t5=void 0;case 19:if(e){o.next=24;break}return xO.f$("Buffering","Start download",mL(n.NJ)),o.next=23,jr.awrap(this.A5(n,i));case 23:e=o.sent;case 24:o.next=30;break;case 26:return xO.f$("Buffering","Start download",mL(t.NJ)),o.next=29,jr.awrap(this.T5(t,i));case 29:e=o.sent;case 30:return this.Z6=t.H1,this.K6=null==n?void 0:n.X2,o.abrupt("return",{us:"p5",H1:t.H1,p5:e,qJ:this.o6,l2:t.l2});case 33:case"end":return o.stop()}},null,this,null,We)},e.y5=function(t,n,i){var e,r,s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.J6){a.next=17;break}if(!this.J6.By(t.NJ)){a.next=14;break}return a.next=4,jr.awrap(lu(this.J6.H6(t.NJ),i));case 4:return s=a.sent,a.t0=_,a.next=8,jr.awrap(jw(s,i));case 8:return a.t1=a.sent,u=new a.t0(a.t1),a.next=12,jr.awrap(this.J4(u,t.u2?[t.u2]:[],i));case 12:o=a.sent,e=KM(t,n,o);case 14:xO.gT(QM,"MAP is required for segment, downloading MAP data."),null==(r=this.J6)||r.Xs(),this.J6=void 0;case 17:if(e){a.next=22;break}return xO.f$("Buffering","Start download",mL(t.NJ)),a.next=21,jr.awrap(this.S5(t,n,i));case 21:e=a.sent;case 22:return a.abrupt("return",{us:"c2",c2:e,Zy:n.Zy,l2:n.l2,e2:n.e2});case 23:case"end":return a.stop()}},null,this,null,We)},e.S5=function(t,n,i){var e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,jr.awrap(this.V6.ed(t.NJ,sg.dd,i));case 2:return e=u.sent,r=t.u2?[t.u2]:[],u.next=6,jr.awrap(this.J4(e,r,i));case 6:return s=u.sent,u.abrupt("return",KM(t,n,s));case 8:case"end":return u.stop()}},null,this,null,We)},e.T5=function(t,n){var i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.NJ){r.next=2;break}throw new l("Internal error: attempted to download an incomplete segment");case 2:return r.next=4,jr.awrap(this.V6.ed(t.NJ,sg.hd,n));case 4:return i=r.sent,r.next=7,jr.awrap(this.J4(i,t.e2,n));case 7:return e=r.sent,r.abrupt("return",JM(t,e));case 9:case"end":return r.stop()}},null,this,null,We)},e.A5=function(t,n){var i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,jr.awrap(this.V6.ed(t.NJ,sg.hd,n));case 2:return i=r.sent,r.next=5,jr.awrap(this.J4(i,t.e2,n));case 5:return e=r.sent,r.abrupt("return",tj(t,e));case 7:case"end":return r.stop()}},null,this,null,We)},e.J4=function(t,n,i){var e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(e=Vs(n,function(t){return t.Ed===dL.E1})){r.next=3;break}return r.abrupt("return",t);case 3:if(e.NJ&&e.I1){r.next=6;break}return xO.wu(QM,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),r.abrupt("return",t);case 6:return r.next=8,jr.awrap(this.G6.J4(t,e.NJ,e.I1,i));case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}},null,this,null,We)},T(n,[{key:"M4",get:function(){return void 0!==this.j6}},{key:"qJ",get:function(){var t;return null!=(t=this.Y6)?t:this.o6}},{key:"E5",get:function(){if(!this.o6.pJ.d2)return!1;if(void 0===this.Z6)return!1;var t=this.o6.pJ.Y0[this.o6.pJ.Y0.length-1];return t.H1===this.Z6&&!(this.K6&&this.K6!==t.o2.length-1)}}]),n}(Au);function KM(t,n,i){return{Xi:{Xi:i,us:BN.zX},us:OM.W1,W4:t,l2:n.l2}}function JM(t,n){return{Xi:{Xi:n,us:BN.zX},us:OM.vd,W4:t,l2:t.l2}}function tj(t,n){return{Xi:{Xi:n,us:BN.zX},us:OM.G1,W4:t,l2:t.U2.l2}}var nj,ij=function(){function t(){this.I5=[],this.R5=Hr(),this.N5=void 0,this.D5=void 0}var n=t.prototype;return n.b5=function(t){"c2"===t.us&&(this.D5=t.c2),this.I5.push(t),this.N5&&(this.N5.Hu(),this.N5=void 0)},n.e5=function(){return this.I5[0]},n.r5=function(t){Gs(this.I5,t)},n.l5=function(){return null!=this.N5||(this.N5=new ta),this.N5.Uu},n.C5=function(t){this.P5(t.B5).C5(t)},n.O5=function(t){return this.P5(t).O5()},n.V4=function(t){this.P5(t.B5).V4(t)},n.x5=function(t){var n;null==(n=this.R5.get(t))||n.Bs()},n.L5=function(t){return this.P5(t).L5()},n.P5=function(t){if(this.R5.has(t))return this.R5.get(t);var n=new ej;return this.R5.set(t,n),n},n.Ru=function(){this.M5(),this.U5()},n.M5=function(){this.D5=void 0,Zs(this.I5)},n.U5=function(){this.R5.forEach(function(t){return t.Ru()})},n.Bs=function(){this.R5.forEach(function(t){return t.Bs()}),this.R5.clear(),this.Ru(),this.N5&&(this.N5.Vu(new ou),this.N5=void 0)},T(t,[{key:"N4",get:function(){return this.D5}},{key:"X5",get:function(){for(var t=fE.gC(),n=0,i=this.I5;n<i.length;n++){var e=i[n];if("p5"===e.us){var r,s=e.p5.W4;t=t.$D(new fE([s.Zy,s.Zy+(null!=(r=s.Yg)?r:0)]))}}return t}},{key:"F5",get:function(){var t=fE.gC();return this.R5.forEach(function(n){t=t.$D(n.F5)}),t}}]),t}(),ej=function(){function t(){this.H5=[],this.z5=void 0}var n=t.prototype;return n.C5=function(t){this.H5.push(t),this.z5&&(this.z5.Hu(),this.z5=void 0)},n.O5=function(){return this.H5[0]},n.V4=function(t){Gs(this.H5,t)},n.L5=function(){return null!=this.z5||(this.z5=new ta),this.z5.Uu},n.Ru=function(){Zs(this.H5)},n.Bs=function(){this.Ru(),this.z5&&(this.z5.Vu(new ou),this.z5=void 0)},T(t,[{key:"F5",get:function(){for(var t=fE.gC(),n=0,i=this.H5;n<i.length;n++){var e=i[n];"p5"===e.us&&(t=t.$D(new fE([e.Zy,e.Zy+e.Yg])))}return t}}]),t}(),rj=function(){function t(t,n){this.V5=void 0,this.W5=void 0,this.G5=fE.gC(),this.V5=t,this.W5=n}var n=t.prototype;return n.Vz=function(t,n){var i,e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=t.Xi.Xi,this.q5(i),this.V5.us!==b_.TTML){u.next=8;break}if(this.W5.Y5(t.l2)){u.next=6;break}return u.next=6,jr.awrap(lu(this.W5.j5(t.l2),n));case 6:for(e=this.Q5(i,t.l2),r=0;r<e.length;r++)s=e[r],this.V5.SE(s);case 8:case"end":return u.stop()}},null,this,null,We)},n.Fz=function(t,n){var i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t.Xi){r.next=2;break}return r.abrupt("return");case 2:if(i=t.Zy,e=i+t.Yg,this.G5=this.G5.$D(new fE([i,e])),this.W5.Y5(t.l2)){r.next=8;break}return r.next=8,jr.awrap(lu(this.W5.j5(t.l2),n));case 8:this.zz(t.Xi.Xi,t.l2,t.W4);case 9:case"end":return r.stop()}},null,this,null,We)},n.zz=function(t,n,i){this.q5(t);for(var e=0,r=this.V5.us===b_.WEBVTT?this.Z5(t,i):this.Q5(t,n);e<r.length;e++){var s=r[e];this.V5.SE(s)}},n.Z5=function(t,n){for(var i,e,r=(void 0===e&&(e=db),Ab(Xo(Wo(t),new Ko),e)),s=r.og,u=null!=(i=r.vp)?i:{lp:sb.$k,dp:sb.$k},o=0;o<s.length;o++){var a=s[o],h=sb.zb(a.Zy).Wk(u.dp).Py(u.lp),c=this.W5.K5(h,n).Bk(),f=c+(a.Ky-a.Zy);a.Zy=c,a.Ky=f}return s},n.Q5=function(t,n){var i=this.W5.J5(n).Bk();return yk(t,this.V5,{op:0,ap:1/0,cp:i},Fc.APPLICATION_MP4)},n.q5=function(t){this.V5.us===b_.DEFAULT&&(this.V5.us=this.t8(t)?b_.WEBVTT:b_.TTML)},n.t8=function(t){return Bb(Xo(Vo(Wo(t),0,g.min(t.byteLength,7)),new Ko))},n._V=function(t,n){},n.gV=function(t,n){},T(t,[{key:"vy",get:function(){return this.G5}},{key:"pV",get:function(){return fE.gC()}}]),t}(),sj=function(t){function n(n,i){var e;return(e=t.call(this,nj.n8)||this).qJ=n,e.XH=i,e}return E(n,t),n}(Su);!function(t){t.n8="i8"}(nj||(nj={}));var uj=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).o6=void 0,s.P4=void 0,s.W5=void 0,s.e8=void 0,s.r8=void 0,s.Kv=new uu,s.s8=function(t){s.r8&&(t&&!au(t)?s.r8.Vu(t):(s.r8.Hu(),s.r8=void 0))},s.o6=n,s.P4=i,s.W5=e,s.e8=r,s}E(n,t);var i=n.prototype;return i.i5=function(t){this.o6!==t&&(this.Xs(),this.o6=t)},i.u8=function(t){for(var n=0,i=this.e8;n<i.length;n++){var e=i[n];Ys(t,e)||this.P4.x5(e)}this.e8=t},i.X4=function(){var t,n;return null!=(t=null==(n=this.r8)?void 0:n.Uu)?t:We.resolve()},i.L4=function(){if(this.M4)throw new l("Cannot perform new operation while transmuxer is still busy")},i.o8=function(t){var n=this;this.L4(),this.r8=new ta;var i=function(i){n.P4.r5(t),n.s8(i)};this.a8(t,this.Kv.zs).then(i,i)},i.c8=function(t){var n=this;this.L4(),this.r8=new ta;var i=function(i){n.P4.r5(t),n.s8(i)};this.h8(t,this.Kv.zs).then(i,i)},i.f8=function(t){this.Ys(new sj(this.o6,t))},i.C5=function(t){Ys(this.e8,t.B5)&&this.P4.C5(t)},i.v8=function(t){return this.P4.O5(t)},i.V4=function(t){this.P4.V4(t)},i.l8=function(t){return this.P4.L5(t)},i.Xs=function(){this.Kv.Xs(),this.Kv=new uu},T(n,[{key:"qJ",get:function(){return this.o6}},{key:"d8",get:function(){return this.e8}},{key:"M4",get:function(){return void 0!==this.r8}}]),n}(Au),oj=function(t){function n(n,i,e,r){return t.call(this,n,i,e,[r])||this}E(n,t);var i=n.prototype;return i.a8=function(t,n){hu(n);var i={us:"w8",Xi:t.c2.Xi,B5:this.d8[0],l2:t.l2,_8:{XH:"",e2:t.e2},Zy:t.Zy,qJ:this.qJ,W4:t.c2.W4};return this.C5(i),We.resolve()},i.h8=function(t,n){var i;hu(n);var e=t.p5.W4,r={us:"p5",Xi:t.p5.Xi,B5:this.d8[0],H1:t.H1,Zy:e.Zy,Yg:null!=(i=e.Yg)?i:0,cp:0,l2:t.l2,qJ:t.qJ,W4:t.p5.W4};return this.C5(r),We.resolve()},n}(uj),aj=function(){function t(t,n,i){this.g8=[],this.m8=t,this.P4=n,this.y8=i}var n=t.prototype;return n.i5=function(t){this.m8.i5(t)},n.k8=function(t){for(var n=this,i=t.slice(),e=function(t){var e=n.g8[t];if(!e.Q4)throw new l("Invalid state");var r=qs(i,function(t){return t.us===e.us});r>=0?(e.U4(i[r]),$s(i,r)):$s(n.g8,t)},r=this.g8.length-1;r>=0;r--)e(r);for(var s=0;s<i.length;s++){var u=i[s],o=new LM(u);this.g8.push(new MM(u.us,u,this.P4,o))}i.length>0&&this.P4.Ru();var a=t.map(function(t){return t.us});this.y8.u8(a)},n.b8=function(t){for(var n=0,i=this.g8;n<i.length;n++){var e=i[n];if(e.us!==s_.Kn||e.M4)throw new l("Invalid state")}var r=new LM(t),s=new MM(s_.Kn,t,this.P4,r);this.g8=[s]},n.p8=function(){for(var t=0,n=this.g8;t<n.length;t++){n[t].j4.T4()}},n.A8=function(t){var n=this.T8.vC(t,.001);return n?n.LD(n.N_-1):t},n.s5=function(t){return!!this.T8.vC(t,.001)||this.m8.s5(t)},n.S8=function(t){return this.E8.QN(t,.001)},n.I8=function(t,n,i){for(var e=0,r=this.g8;e<r.length;e++){var s=r[e].j4,u=s.D4;if(void 0!==u&&n>=u)return!s.vy.zD().QN(u)}return n-t<i},n.Xs=function(){this.R8(),this.N8()},n.R8=function(){this.D8.Xs()},n.N8=function(){this.C8.Xs(),this.P8.forEach(function(t){return t.Xs()})},n.Bs=function(){this.Xs(),this.D8.Bs()},T(t,[{key:"P8",get:function(){return this.g8}},{key:"D8",get:function(){return this.m8}},{key:"C8",get:function(){return this.y8}},{key:"B8",get:function(){return this.P4}},{key:"qJ",get:function(){return this.m8.qJ}},{key:"N4",get:function(){var t=this.P4.N4;if(t)return t;if(this.g8.length>0){var n=this.g8[0].j4.N4;if(n&&this.g8.every(function(t){return t.j4.N4===n}))return n}}},{key:"T8",get:function(){if(0===this.g8.length)return fE.gC();for(var t=this.P4.X5.$D(this.P4.F5).zD(),n=new fE([0,1/0]),i=0,e=this.g8;i<e.length;i++){for(var r=e[i],s=r.j4.vy,u=r.j4.Y0,o=r.H4,a=0;a<u.length;a++)for(var h=u[a],c=h.E4.nC(h.I4),f=0;f<c.N_;f++)t.sC(c.OD(f),c.LD(f),!0,!0)&&(s=s.$D(c.fC(f)));n=n.YD(s).nC(o)}return n=n.$D(t)}},{key:"E8",get:function(){if(0===this.g8.length)return fE.gC();for(var t=this.P4.F5.zD(),n=new fE([0,1/0]),i=0,e=this.g8;i<e.length;i++){for(var r=e[i],s=r.j4.vy,u=r.j4.Y0,o=0;o<u.length;o++)for(var a=u[o],h=a.E4.nC(a.I4),c=0;c<h.N_;c++)t.sC(h.OD(c),h.LD(c),!0,!0)&&(s=s.$D(h.fC(c)));n=n.YD(s)}return n=n.$D(t)}}]),t}();var hj=function(t){function n(){return t.call(this,hO.mJ)||this}return E(n,t),n}(Su),cj=function(t){function n(){return t.call(this,hO._J)||this}return E(n,t),n}(Su),fj=function(t){function i(n,i){var e;return(e=t.call(this)||this).Sh=void 0,e.m4=void 0,e.O8=new ta,e.lL=aC,e.x8=!1,e.dL=iC,e.lV=new jN,e.Hi=n,e.L8=i,e}E(i,t);var e=i.prototype;return e.MX=function(){return this.m4?this.m4.MX():this.x8},e._V=function(t,n){xO.f$("LazyMediaBuffer","Marking gap from "+t+" to "+n+"."),this.lV.jX(t,n),this.m4&&this.m4._V(t,n)},e.gV=function(t,n){xO.f$("LazyMediaBuffer","Removing gap from "+t+" to "+n+"."),this.lV.QX(t,n),this.m4&&this.m4.gV(t,n)},e.M8=function(t){this.m4=t,this.m4.cL=this.dL,this.m4.sL=this.lL;for(var n,i=this.lV.ZX,e=0;e<i.N_;e++)this.m4._V(i.OD(e),i.LD(e));this.x8&&(xO.f$("LazyMediaBuffer","End of stream"),null==(n=this.m4)||n.hV());this.m4.js(CN.FX,this.qs),this.O8.Hu(t)},e.U8=function(t){return lu(this.O8.Uu,t)},e.Fz=function(t,n,i){var e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,jr.awrap(this.U8(i));case 2:return e=r.sent,r.next=5,jr.awrap(e.Fz(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.mV=function(){var t;return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jr.awrap(this.U8());case 2:return t=n.sent,n.next=5,jr.awrap(t.mV());case 5:case"end":return n.stop()}},null,this,null,We)},e.Vz=function(t,n,i){var e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,jr.awrap(this.U8(i));case 2:return e=r.sent,r.next=5,jr.awrap(e.Vz(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.Vc=function(t,n,i){var e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,jr.awrap(this.U8(i));case 2:return e=r.sent,r.next=5,jr.awrap(e.Vc(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.Jz=function(t,n){var i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jr.awrap(this.U8());case 2:return i=e.sent,e.next=5,jr.awrap(i.Jz(t,n));case 5:case"end":return e.stop()}},null,this,null,We)},e.hV=function(){this.x8=!0,this.m4&&this.m4.hV()},e.RX=function(t){return!!this.m4&&this.m4.RX(t)},e.NX=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,jr.awrap(this.U8());case 2:return n=i.sent,i.next=5,jr.awrap(n.NX(t));case 5:case"end":return i.stop()}},null,this,null,We)},e.Bd=function(){var t;return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.Ks(),null==(t=this.m4)||t.Js(CN.FX,this.qs);case 2:case"end":return n.stop()}},null,this,null,We)},T(i,[{key:"Ul",get:function(){return this.Sh}},{key:"bV",get:function(){return this.Hi}},{key:"Jc",get:function(){if(!this.m4)throw new ff(n.ErrorCode.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.m4.Jc}},{key:"sL",get:function(){return this.lL},set:function(t){this.lL=t,this.m4&&(this.m4.sL=t)}},{key:"vy",get:function(){return this.m4?this.m4.vy:fE.gC()}},{key:"pV",get:function(){return this.m4?this.m4.pV:this.lV.ZX}},{key:"cL",get:function(){return this.dL},set:function(t){this.dL=t,this.m4&&(this.m4.cL=t)}}]),i}(Au),lj="LazyMediaSource",vj=function(){function t(t,n,i){this.X8=void 0,this.F8=void 0,this.H8=new ta,this.rN=void 0,this.z8=!1,this.ea=NaN,this.vK=!1,this.V8=0,this.W8=1/0,this.G8=!1,this.q8=!1,this.eN=t,n&&(xO.f$(lj,"Created lazy media buffer for audio."),this.X8=new fj(s_.Ad,this)),i&&(xO.f$(lj,"Created lazy media buffer for video."),this.F8=new fj(s_.Td,this))}var n=t.prototype;return n.aW=function(t){this.ea=t,this.rN&&this.rN.aW(t)},n.hV=function(){this.vK=!0,this.rN&&this.rN.hV()},n.uV=function(){this.vK=!1,this.rN&&this.rN.uV()},n.fW=function(t,n,i,e){this.V8=t,this.W8=n,this.G8=Boolean(i),this.q8=Boolean(e),this.rN&&this.rN.fW(t,n,i,e)},n.RX=function(t){return!this.rN||this.rN.RX(t)},n.NX=function(t){var n,i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.RX(t)){r.next=2;break}throw new l("LazyMediaSource - Unable to reconfigure MediaSource.");case 2:if(this.rN){r.next=19;break}return this.eN.gj(),r.next=6,jr.awrap(this.eN.zc(t));case 6:e=r.sent,p(this.ea)||e.aW(this.ea),this.vK&&e.hV(),e.fW(this.V8,this.W8,this.G8,this.q8),xO.f$(lj,"The MediaSource has been loaded."),this.z8=!0,this.rN=e,null==(n=this.X8)||n.M8(this.rN.QV),null==(i=this.F8)||i.M8(this.rN.ZV),this.H8.Hu(e),this.eN.mj(),r.next=21;break;case 19:return r.next=21,jr.awrap(this.rN.NX(t));case 21:case"end":return r.stop()}},null,this,null,We)},n.Bs=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.rN){t.next=3;break}return t.next=3,jr.awrap(this.rN.Bs());case 3:case"end":return t.stop()}},null,this,null,We)},T(t,[{key:"Jc",get:function(){return{us:uA.NE,vW:[],ON:[]}}},{key:"xm",get:function(){throw new l("Not implemented")}},{key:"QV",get:function(){return this.X8}},{key:"ZV",get:function(){return this.F8}},{key:"vy",get:function(){return this.rN?this.rN.vy:fE.gC()}},{key:"Yg",get:function(){return this.rN?this.rN.Yg:this.ea}},{key:"MX",get:function(){return!!this.rN&&this.rN.MX}},{key:"Ry",get:function(){return this.rN?this.rN.Ry:new fE([0,1/0])}}]),t}();function dj(t,n){return void 0===n&&(n=!1),function(i,e){void 0===e&&(e="*");var r,s,u,o=gj(i,"tag"),a=gj(null==e?"*":e,"range"),h=[],c=-1;for(;++c<a.length;)if(r=a[c].toLowerCase(),n||"*"!==r){for(s=-1,u=[];++s<o.length;)if(t(o[s].toLowerCase(),r)){if(!n)return o[s];h.push(o[s])}else u.push(o[s]);o=u}return n?h:void 0}}dj(function(t,n){return"*"===n||t===n||bs(t,n+"-")},!0),dj(function(t,n){var i=t.split("-"),e=n.split("-"),r=0,s=0;if("*"!==e[s]&&i[r]!==e[s])return!1;for(r++,s++;s<e.length;)if("*"!==e[s]){if(!i[r])return!1;if(i[r]!==e[s]){if(1===i[r].length)return!1;r++}else r++,s++}else s++;return!0},!0);var wj=dj(function(t,n){for(var i,e=n;;){if("*"===e||t===e)return!0;if((i=e.lastIndexOf("-"))<0)return!1;"-"===e.charAt(i-2)&&(i-=2),e=e.slice(0,i)}});function gj(t,n){var i=t&&"string"==typeof t?[t]:t;if(!(i&&"object"==typeof i&&"length"in i))throw new l("Invalid "+n+" `"+i+"`, expected non-empty string");return i}var mj,yj=function(t){function n(){return t.call(this,Df.Af)||this}return E(n,t),n}(Su),pj=function(t){function n(){return t.call(this,Df.pf)||this}return E(n,t),n}(Su),_j=16384,bj=71,kj=188;function Aj(t){return null!==GP(Wo(t),new Ko)?mj.Y8:function(t){return function(t){if(t.length<2*kj)return-1;for(var n=g.min(1e3,t.length-2*kj),i=0;i<=n;i++)if(t[i]===bj&&t[i+kj]===bj)return i;return-1}(t)>=0}(t)?mj.j8:Tj(t)?mj.Eg:mj.hd}function Tj(t){var n=zo(t,0,g.min(t.length,_j));return uk.MA(Wo(n))}!function(t){t[t.hd=0]="hd",t[t.Eg=1]="Eg",t[t.j8=2]="j8",t[t.Y8=3]="Y8"}(mj||(mj={}));var Sj=function(){function t(t,n,i,e){this.Hi=void 0,this.m4=void 0,this.Q8=void 0,this.Z8=void 0,this.K8=void 0,this.Hi=t,this.m4=n,this.Z8=i,this.K8=e}var n=t.prototype;return n.J8=function(t){return this.m4===t},n.Vz=function(t,n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,jr.awrap(this.m4.Vz(t.Xi,{t9:t.qJ.F_},n));case 3:this.Hi===s_.Td&&Tj(t.Xi.Xi)&&this.K8.n9(t.Xi.Xi);case 4:case"end":return i.stop()}},null,this,null,We)},n.Fz=function(t,n){var i,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(hu(n),xO.gT("HlsMediaBuffer","Got media data, appending to "+this.Hi+" MediaBuffer: "+mL(t.W4.NJ)),i=t.Zy,e=t.Zy+t.Yg,r={i9:t.Zy,Yg:t.Yg,cp:t.cp,t9:t.qJ.F_},void 0===t.Xi){s.next=10;break}return s.next=9,jr.awrap(this.m4.Fz(t.Xi,r,n));case 9:this.e9(t.Xi,t);case 10:this.r9(i,e);case 11:case"end":return s.stop()}},null,this,null,We)},n.e9=function(t,n){if(Tj(t.Xi)){var i=n.Zy,e=i+n.Yg,r=n.cp;this.Z8.S4(t.Xi,i,r),this.Hi===s_.Td&&this.K8.S4(t.Xi,i,e,r)}},n.r9=function(t,n){for(var i=this.m4.vy,e=new fE([t,n]).nC(i),r=0;r<e.N_;r++)this.m4._V(e.OD(r),e.LD(r));for(var s=0;s<i.N_;s++)this.m4.gV(i.OD(s),i.LD(s))},n._V=function(t,n){this.m4._V(t,n)},n.gV=function(t,n){this.m4.gV(t,n)},T(t,[{key:"us",get:function(){return this.Hi}},{key:"vy",get:function(){return this.m4.vy}},{key:"pV",get:function(){return this.m4.pV}}]),t}(),Ej=function(){function t(){this.s9=[],this.u9=Xr()}var n=t.prototype;return n.Y5=function(t){var n;return void 0!==(null==(n=this.u9.get(t))?void 0:n.cp)},n.j5=function(t){return this.a9(t).o9.Uu},n.J5=function(t){var n=this.u9.get(t);if(!n||!n.cp)throw new l("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n.cp},n.c9=function(t,n){var i=void 0!==n.o2?n:n.U2;return t.Py(this.J5(i.l2))},n.h9=function(t,n){return this.K5(t,n).Wk(t)},n.K5=function(t,n){var i=this.c9(t,n),e=sb.zb(n.Zy).Wk(i);if(e.Hk().Ok(hb)){var r=g.round(e.Bk()/ab.Bk());i=i.Py(ab.Tb(r))}return i},n.f9=function(t,n,i,e,r){var s=this.a9(t);void 0===s.cp&&(s.v9.some(function(t){return t.B5===n})||(s.v9.push({B5:n,l9:i,d9:e.Lb(i.Cb),w9:r}),this._9(s)))},n._9=function(t){if(!t.cp&&this.g9(t)){var n=nu(t.v9,Ij);Zs(t.v9),t.cp=n.d9.Wk(n.l9),t.o9.Hu()}},n.g9=function(t){return this.s9.length>0&&this.s9.every(function(n){return t.v9.some(function(t){return t.B5===n})})},n.a9=function(t){if(this.u9.has(t))return this.u9.get(t);var n={cp:void 0,o9:new ta,v9:[]};return this.u9.set(t,n),n},n.m9=function(t){var n=this;this.s9=t,this.u9.forEach(function(t){return n._9(t)})},n.Bs=function(){this.u9.forEach(function(t){return t.o9.Xs()}),this.u9.clear()},t}();function Ij(t,n){return t.w9||n.w9?(i=t.l9,e=n.l9,r=i.Wk(e),i.qk()||e.qk()?r:(r.Lk(hb)?r=r.Wk(ab):r.Fk(hb.Vk())&&(r=r.Py(ab)),r)).xk(sb.$k):t.l9.xk(n.l9);var i,e,r}var Rj=2500;var Cj=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,u,!1)||this).y9=void 0,o.me=void 0,o.k9=void 0,o.y9=e,o.me=r,o.k9=s,o}return E(n,t),n.prototype.pk=function(n){return this===n||my(this,n)&&t.prototype.pk.call(this,n)&&gy(this.Jy,n.Jy)},T(n,[{key:"CS",get:function(){return this.y9}},{key:"_i",get:function(){return this.me}},{key:"b9",get:function(){return this.k9}},{key:"Jw",get:function(){var t;return this.Kw||(this.Kw=dy(P_(t=this),{get schemeIDURI(){return t.CS},get value(){return t._i},get emsgID(){return t.b9}})),this.Kw}}]),n}(F_);function Nj(t,n){return t+" "+n}var Dj,Pj,xj=function(t){function n(n){var i;return(i=t.call(this)||this).yE=void 0,i.yE=n,i}E(n,t);var i=n.prototype;return i.S4=function(t,i,e){var r=uk.xA(Wo(t));if(r){var s=Jb(r,cb.Zp);if(s.length){var u=n.p9(r,i,e);this.A9(s,u,e)}}},i.A9=function(t,n,i){for(var e=0;e<t.length;e++){var r=t[e],s=void 0,u=(s=1===r.BA?r.PS.toNumber()/r.Cb+i:n+r.LS/r.Cb)+r.OS/r.Cb;"https://aomedia.org/emsg/ID3"===r.CS?this.T9(r,s):this.S9(r,s,u)}},i.S9=function(t,n,i){var e=Nj(t.CS,t._i),r=this.E9(e);r||(r=this.I9(e),this.R9(r)),r.SE(new Cj(n,i,t.CS,t._i,t.X_,t.xS))},i.T9=function(t,n){var i=QP(Wo(t.xS));if(i){var e=Nj(t.CS,t._i),r=this.E9(e);r||(r=this.N9(e),this.R9(r));for(var s=0,u=i.aG;s<u.length;s++){var o=u[s],a=new ox(n,o);bP(a,r.og.R_),r.SE(a)}}},n.p9=function(t,n,i){var e=Kb(t,cb.Kp);return e?Yt(e.jS,e.Cb)+i:n},i.I9=function(t){var n=this.yE.AE(Dk.rA,"","","",void 0,b_.EMSG);return n.Z_=t,n.K_=Dy.Y_,n},i.N9=function(t){var n=this.yE.AE(Dk.rA,"","","",void 0,b_.ID3);return n.Z_=t,n.K_=Dy.Y_,n},i.I_=function(){var n,i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(n=0,i=this.ZA.R_;n<i.length;n++)e=i[n],this.yE.EE(e);return r.next=3,jr.awrap(t.prototype.I_.call(this));case 3:case"end":return r.stop()}},null,this,null,We)},n}(function(t){function n(){return t.call(this)||this}E(n,t);var i=n.prototype;return i.R9=function(t){return t.rg=__.LOADED,this.T_(t),t},i.E9=function(t){for(var n=0,i=this.ZA.R_;n<i.length;n++){var e=i[n];if(e.Z_===t)return e}},n}(Kk));function Bj(t){return"function"==typeof t.Su}function Oj(t,n,i){if(!(i&&n.byte>=i)){var e=Bj(t)?t.Su(n.byte):t[n.byte];return n.byte+=1,e}}function Lj(t,n){return function(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=256*e+Oj(t,n);return e}(t,n,2)}!function(t){t[t.D9=0]="D9",t[t.C9=1]="C9",t[t.P9=2]="P9",t[t.B9=3]="B9",t[t.O9=4]="O9",t[t.x9=5]="x9"}(Dj||(Dj={})),function(t){t[t.L9=0]="L9",t[t.M9=1]="M9",t[t.U9=2]="U9",t[t.X9=3]="X9"}(Pj||(Pj={}));var Mj,jj=function(){function t(){this.F9=0,this.H9=[],this.iE={}}var n=t.prototype;return n.z9=function(t){this.H9=this.H9.concat(t.H9),this.F9+=t.N_},n.V9=function(t,n,i){var e=this.F9,r=i-n;r>0&&(this.H9.push({W9:n,G9:i,q9:r,Y9:e,j9:t}),this.F9+=r)},n.Su=function(t){for(var n=0,i=this.H9;n<i.length;n++){var e=i[n];if(e.Y9<=t&&t<e.Y9+e.q9)return e.j9[t+e.W9-e.Y9]}},n.Q9=function(t,n){for(var i=n,e=0,r=this.H9;e<r.length;e++)for(var s=r[e],u=s.G9,o=s.W9;o<u;o+=1,i+=1)t[i]=s.j9[o];return i},n.Z9=function(){for(var t=new _(this.F9),n=0,i=0,e=this.H9;i<e.length;i++)for(var r=e[i],s=r.G9,u=r.W9;u<s;u+=1,n+=1)t[n]=r.j9[u];return t},n.Ou=function(n){for(var i=new t,e=0,r=this.H9;e<r.length;e++){var s=r[e];i.V9(s.j9,s.W9,s.G9)}return i.iE=n||Fr({},this.iE),i},T(t,[{key:"N_",get:function(){return this.F9},set:function(t){var n=this.H9,i=this.F9-t;if(!(t>=this.F9))if(this.F9=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.q9)return r.G9-=i,r.q9-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.q9}else n.length=0}},{key:"Xi",get:function(){for(var t=new Array(this.F9),n=0,i=0,e=this.H9;i<e.length;i++)for(var r=e[i],s=r.G9,u=r.W9;u<s;u+=1,n+=1)t[n]=r.j9[u];return t}}]),t}();function Fj(t,n,i){return i===Dj.D9?i:n!==Pj.L9&&n!==Pj.M9||i!==Dj.C9&&i!==Dj.P9?t?n===Pj.U9?Dj.O9:n===Pj.X9?Dj.B9:Dj.D9:Dj.x9:Dj.P9}function Uj(t,n,i,e){var r={byte:i},s=Dj.C9,u=[],o=31&Oj(n,r,e);r.byte+=1;for(var a=0;a<o;a+=1){var h=Oj(n,r,e),c=4&h,f=3&h;s=Fj(Boolean(c),f,s);var l=Oj(n,r,e),v=Oj(n,r,e);u.push({KQ:t,mS:-1,K9:!a,J9:Boolean(c),us:f,sQ:s,t7:l,n7:v})}return u}function Hj(t,n,i){var e=Oj(t,n,i);if(!p(e))return String.fromCharCode(e)}function Xj(t){var n=t.i7,i={byte:t.e7},e=t.r7,r=Oj(n,i,e);if(255===r&&(i.byte+=1),181===r){var s=Lj(n,i);if(s===Mj.s7||s===Mj.u7){if(s===Mj.u7)if("GA94"!==function(t,n,i){for(var e="",r=i;r>0;)r-=1,e+=Hj(t,n);return e}(n,i,4))return;if(3===Oj(n,i,e)){s===Mj.s7&&(i.byte+=1);var u=t;return u.o7=i.byte,u}}}}function zj(t){return 4===t.a7}function Vj(t){for(var n=t.filter(zj).map(Xj).filter(U),i=[],e=0;e<n.length;e++){var r=n[e];i.push.apply(i,Uj(r.c7,r.i7,r.o7,r.r7))}return i}!function(t){t[t.s7=47]="s7",t[t.u7=49]="u7"}(Mj||(Mj={}));var Wj="und";function qj(t){if(t!==Wj)for(var n=t.toLowerCase(),i=0;i<$j.length;i++){var e=$j[i];if(e[1]===n||e[2]===n||e["2T"]===n||e["2B"]===n||e[3]===n)return e}}var Gj,$j=[{ci:"Abkhaz",dp:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{ci:"Afar",dp:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{ci:"Afrikaans",dp:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{ci:"Akan",dp:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{ci:"Albanian",dp:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{ci:"Amharic",dp:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{ci:"Arabic",dp:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{ci:"Aragonese",dp:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{ci:"Armenian",dp:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{ci:"Assamese",dp:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{ci:"Avaric",dp:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{ci:"Avestan",dp:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{ci:"Aymara",dp:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{ci:"Azerbaijani",dp:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{ci:"Bambara",dp:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{ci:"Bashkir",dp:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{ci:"Basque",dp:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{ci:"Belarusian",dp:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{ci:"Bengali",dp:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{ci:"Bihari",dp:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{ci:"Bislama",dp:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{ci:"Bosnian",dp:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{ci:"Breton",dp:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{ci:"Bulgarian",dp:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{ci:"Burmese",dp:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{ci:"Catalan",dp:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{ci:"Chamorro",dp:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{ci:"Chechen",dp:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{ci:"Chichewa",dp:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{ci:"Chinese",dp:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{ci:"Chuvash",dp:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{ci:"Cornish",dp:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{ci:"Corsican",dp:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{ci:"Cree",dp:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{ci:"Croatian",dp:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{ci:"Czech",dp:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{ci:"Danish",dp:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{ci:"Divehi",dp:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{ci:"Dutch",dp:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{ci:"Dzongkha",dp:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{ci:"English",dp:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{ci:"Esperanto",dp:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{ci:"Estonian",dp:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{ci:"Ewe",dp:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{ci:"Faroese",dp:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{ci:"Fijian",dp:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{ci:"Finnish",dp:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{ci:"French",dp:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{ci:"Fula",dp:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{ci:"Galician",dp:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{ci:"Georgian",dp:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{ci:"German",dp:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{ci:"Greek",dp:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{ci:"Guaran\xed",dp:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{ci:"Gujarati",dp:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{ci:"Haitian",dp:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{ci:"Hausa",dp:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{ci:"Hebrew",dp:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{ci:"Herero",dp:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{ci:"Hindi",dp:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{ci:"Hiri Motu",dp:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{ci:"Hungarian",dp:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{ci:"Interlingua",dp:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{ci:"Indonesian",dp:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{ci:"Interlingue",dp:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{ci:"Irish",dp:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{ci:"Igbo",dp:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{ci:"Inupiaq",dp:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{ci:"Ido",dp:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{ci:"Icelandic",dp:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{ci:"Italian",dp:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{ci:"Inuktitut",dp:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{ci:"Japanese",dp:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{ci:"Javanese",dp:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{ci:"Kalaallisut",dp:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{ci:"Kannada",dp:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{ci:"Kanuri",dp:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{ci:"Kashmiri",dp:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{ci:"Kazakh",dp:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{ci:"Khmer",dp:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{ci:"Kikuyu",dp:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{ci:"Kinyarwanda",dp:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{ci:"Kyrgyz",dp:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{ci:"Komi",dp:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{ci:"Kongo",dp:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{ci:"Korean",dp:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{ci:"Kurdish",dp:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{ci:"Kwanyama",dp:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{ci:"Latin",dp:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{ci:"Luxembourgish",dp:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{ci:"Ganda",dp:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{ci:"Limburgish",dp:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{ci:"Lingala",dp:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{ci:"Lao",dp:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{ci:"Lithuanian",dp:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{ci:"Luba-Katanga",dp:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{ci:"Latvian",dp:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{ci:"Manx",dp:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{ci:"Macedonian",dp:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{ci:"Malagasy",dp:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{ci:"Malay",dp:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{ci:"Malayalam",dp:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{ci:"Maltese",dp:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{ci:"M\u0101ori",dp:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{ci:"Marathi",dp:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{ci:"Marshallese",dp:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{ci:"Mongolian",dp:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{ci:"Nauru",dp:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{ci:"Navajo",dp:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{ci:"Northern Ndebele",dp:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{ci:"Nepali",dp:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{ci:"Ndonga",dp:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{ci:"Norwegian Bokm\xe5l",dp:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{ci:"Norwegian Nynorsk",dp:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{ci:"Norwegian",dp:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{ci:"Nuosu",dp:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{ci:"Southern Ndebele",dp:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{ci:"Occitan",dp:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{ci:"Ojibwe",dp:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{ci:"Old Church Slavonic",dp:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{ci:"Oromo",dp:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{ci:"Oriya",dp:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{ci:"Ossetian",dp:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{ci:"Panjabi",dp:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{ci:"P\u0101li",dp:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{ci:"Persian",dp:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{ci:"Polish",dp:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{ci:"Pashto",dp:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{ci:"Portuguese",dp:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{ci:"Quechua",dp:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{ci:"Romansh",dp:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{ci:"Kirundi",dp:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{ci:"Romanian",dp:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{ci:"Russian",dp:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{ci:"Sanskrit",dp:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{ci:"Sardinian",dp:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{ci:"Sindhi",dp:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{ci:"Northern Sami",dp:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{ci:"Samoan",dp:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{ci:"Sango",dp:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{ci:"Serbian",dp:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{ci:"Gaelic",dp:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{ci:"Shona",dp:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{ci:"Sinhala",dp:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{ci:"Slovak",dp:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{ci:"Slovene",dp:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{ci:"Somali",dp:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{ci:"Southern Sotho",dp:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{ci:"Spanish",dp:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{ci:"Sundanese",dp:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{ci:"Swahili",dp:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{ci:"Swati",dp:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{ci:"Swedish",dp:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{ci:"Tamil",dp:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{ci:"Telugu",dp:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{ci:"Tajik",dp:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{ci:"Thai",dp:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{ci:"Tigrinya",dp:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{ci:"Tibetan Standard",dp:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{ci:"Turkmen",dp:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{ci:"Tagalog",dp:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{ci:"Tswana",dp:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{ci:"Tonga",dp:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{ci:"Turkish",dp:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{ci:"Tsonga",dp:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{ci:"Tatar",dp:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{ci:"Twi",dp:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{ci:"Tahitian",dp:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{ci:"Uyghur",dp:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{ci:"Ukrainian",dp:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{ci:"Urdu",dp:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{ci:"Uzbek",dp:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{ci:"Venda",dp:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{ci:"Vietnamese",dp:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{ci:"Volap\xfck",dp:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{ci:"Walloon",dp:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{ci:"Welsh",dp:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{ci:"Wolof",dp:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{ci:"Western Frisian",dp:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{ci:"Xhosa",dp:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{ci:"Yiddish",dp:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{ci:"Yoruba",dp:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{ci:"Zhuang",dp:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{ci:"Zulu",dp:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}],Yj=[128,64,32,16,8,4,2,1];function Qj(t,n){var i=g.floor(n.bit/8),e=0==((Bj(t)?t.Su(i):t[i])&Yj[n.bit%8])?0:1;return n.bit+=1,e}function Zj(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=2*e+Qj(t,n);return e}function Kj(t,n){for(var i=0;0===Qj(t,n)&&i<32;)i+=1;return Zj(t,n,i)+g.pow(2,i)-1}function Jj(t,n){var i=Kj(t,n);return 1&i?g.floor((i+1)/2):-g.floor(i/2)}function tF(t,n){var i,e=[],r={byte:1};do{e.push(iF(t,n,r)),i=n.Su(r.byte)}while(void 0!==i&&128!==i);return e}function nF(t,n){var i,e=0;do{e+=i=Oj(t,n)}while(255===i);return e}function iF(t,n,i){var e=nF(n,i),r=nF(n,i),s=i.byte,u=s+r;return i.byte=u,{c7:t,a7:e,h7:r,e7:s,r7:u,i7:n}}!function(t){t[t.f7=1]="f7",t[t.v7=2]="v7",t[t.l7=3]="l7",t[t.d7=4]="d7",t[t.w7=5]="w7",t[t._7=6]="_7",t[t.g7=7]="g7",t[t.m7=8]="m7",t[t.y7=9]="y7"}(Gj||(Gj={}));var eF=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function rF(t,n,i){for(var e=8,r=8,s=0;s<i;s+=1){if(0!==r)r=(e+Jj(t,n)+256)%256;e=0===r?e:r}}var sF=function(){function t(t){this.k7=void 0,this.b7=[],this.p7=0,this.k7=t}var n=t.prototype;return n.A7=function(){for(var t=this.b7,n=g.max(0,this.p7+t.length-2),i=this.k7,e=i.N_,r=0;n<e;n+=1){var s=i.Su(n);0===s?r+=1:(3===s&&r>=2&&t.push(n),r=0)}this.p7=n-t.length},n.T7=function(t){for(var n=this.b7,i=t,e=0;e<n.length;e++){if(!(n[e]<=i))return i;i+=1}return i},n.Su=function(t){if(!(t>this.k7.N_))return t>this.p7&&this.A7(),this.k7.Su(this.T7(t))},t}();var uF=24;function oF(t){var n=t.xH,i=new jj;return i.V9(qo(n),0,n.length),function(t){var n,i,e,r,s,u,o=new sF(t),a=0,h=0,c=0,f=0,l=o.Su(1),v={bit:32};if(Kj(o,v),100===l||110===l||122===l||144===l){var d=Kj(o,v);if(3===d&&(n=Qj(o,v)),Kj(o,v),Kj(o,v),Qj(o,v),1===Qj(o,v))for(var w=0;w<(3!==d?8:12);w+=1)1===Qj(o,v)&&rF(o,v,w<6?16:64)}var m=Kj(o,v),y=Kj(o,v);if(0===y)Kj(o,v);else if(1===y){Qj(o,v),Jj(o,v),Jj(o,v);for(var p=Kj(o,v),_=0;_<p;_+=1)Jj(o,v)}Kj(o,v),Qj(o,v);var b=Kj(o,v),k=Kj(o,v),A=Qj(o,v);if(0===A&&Qj(o,v),Qj(o,v),1===Qj(o,v)&&(a=Kj(o,v),h=Kj(o,v),c=Kj(o,v),f=Kj(o,v)),1===Qj(o,v)){if(1===Qj(o,v)){var T=Zj(o,v,8);if(255===T)i=Zj(o,v,16),e=Zj(o,v,16);else{var S=eF[T];S&&(i=S[0],e=S[1])}}1===Qj(o,v)&&Qj(o,v),1===Qj(o,v)&&(Zj(o,v,3),Qj(o,v),1===Qj(o,v)&&(Zj(o,v,8),Zj(o,v,8),Zj(o,v,8))),1===Qj(o,v)&&(Kj(o,v),Kj(o,v)),1===(r=Qj(o,v))&&(s=Zj(o,v,32),u=Zj(o,v,32),Qj(o,v))}return{width:g.floor(16*(b+1)-2*a-2*h),height:g.floor((2-A)*(k+1)*16-2*c-2*f),aS:i,cS:e,S7:!!r&&u/(2*s),E7:n,I7:m}}(i).S7}function aF(t){var n=oF(t)||uF;return t.R7/n}function hF(t){return t.us===cb.Hp}var cF,fF=65536;function lF(t,n,i,e,r){for(var s,u=function(t,n,i,e){var r=i.R7,s=lt.fromNumber(t.DS||0),u=e.Py(sb.Zk(s,r));return{N7:e.Bk(),D7:e,C7:u,P7:e}}(t,0,i,e),o=sb.Kk(t.Yg||0,i.R7),a=t.OA||0,h=!(a&fF)&&(a>>24&3)!==cF.SAMPLE_DEPENDS_ON_OTHERS,c=Wo(r),f=new Ko;f.Du<c.byteLength;){var l=_o(c,f);if((31&mo(c,f,1))===Gj._7){var v,d=new jj;d.V9(r,f.Du-1,f.Du+l-1);var w=tF(u.C7,d);(v=s=s||[]).push.apply(v,Vj(w))}f.Cu(l-1)}return Fr({},u,{Yg:o.Bk(),B7:o,O7:u.C7.Bk(),x7:u.N7,L7:h,M7:s,U7:!1,X7:!1})}function vF(t){return t.us===cb.wp}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(cF||(cF={}));var dF=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return E(n,t),n}(F_),wF=function(){function t(t,n){this.cZ=t,this.ZQ=n}return t.prototype.pk=function(t){return this.cZ===t.cZ&&this.ZQ===t.ZQ},t}(),gF=function(){function t(t,n){this.F7="",this.iU=t,this.H7=n}var n=t.prototype;return n.z7=function(t){this.F7+=t},n.V7=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.z7(i)}},T(t,[{key:"mZ",get:function(){return this.F7}},{key:"lZ",get:function(){return[this]}},{key:"_Z",get:function(){return this.iU}},{key:"kZ",get:function(){return this.H7}},{key:"yZ",get:function(){return new wF(this.kZ.cZ,this.kZ.ZQ+this.mZ.length-1)}}]),t}(),mF=function(){function t(){}var n=t.prototype;return n.W7=function(t){return t.tp(this)},n.G7=function(t){var n,i,e=this,r=t.map(function(t,n){return t.tp(e,n)});return n=r,(i=[]).concat.apply(i,n)},n.q7=function(t,n){return new yF(t,n).Y7()},t}(),yF=function(){function t(t,n){this.j7=[],this.Q7=null,this.cZ=t,this.Z7=n}var n=t.prototype;return n.Y7=function(){if(this.K7)return[];for(var t=0;t<this.cZ.length;t++)this.J7(t);return this.ttt(),this.j7},n.ntt=function(t){this.Q7=new gF(OB,new wF(this.Z7,t))},n.ttt=function(){this.Q7&&(this.j7.push(this.Q7),this.Q7=null)},n.J7=function(t){var n=this.cZ[t];pF(n)?this.Q7&&this.ttt():(this.Q7||this.ntt(t),this.Q7.z7(n))},T(t,[{key:"K7",get:function(){return this.cZ.every(pF)}}]),t}();function pF(t){return null==t}var _F=function(){function t(){}return t.itt=function(t,n,i){if(!(n>=i)){var e=Ks(t,function(t,n){return new yF(t.map(function(t){return t?t.ett():null}),n).Y7()});if(0!==e.length)return new dF(n,i,e)}},t}(),bF="black",kF="white",AF=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),TF=function(){function t(){this.rtt=[],this.stt=0,this.utt=void 0;for(var t=0;t<FB;t++)this.rtt.push(null);this.utt=!1}var n=t.prototype;return n.ott=function(t){for(var n=0;n<FB;n++)t&&(this.rtt[n]=t.rtt[n])},n.pk=function(t){for(var n=0;n<FB;n++)if(this.rtt[n]!==t.rtt[n])return!1;return!0},n.att=function(){for(var t=0;t<FB;t++)if(null!==this.rtt[t])return!1;return!0},n.ctt=function(t){this.stt!==t&&(this.stt=t),this.stt<0?this.stt=0:this.stt>FB&&(this.stt=FB-1)},n.htt=function(t){var n=this.stt+t;this.ctt(n)},n.ftt=function(){this.htt(-1),this.rtt[this.stt]=null},n.z7=function(t){t>=144&&this.ftt();var n,i=AF[n=t]?String.fromCharCode(AF[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.stt>=FB||(32===Number(t)?(this.rtt[this.stt]=this.utt?"</i>":"<i>",this.utt=!this.utt):this.rtt[this.stt]=t,this.htt(1))},n.ltt=function(t){for(var n=t;n<FB;n++)this.rtt[n]=null},n.Ru=function(){this.ltt(0),this.stt=0},n.dtt=function(){this.ltt(this.stt)},n.wtt=function(t,n){for(var i=this.rtt,e=null,r=0;r<FB;r++){var s=i[r];null===s?e=null:(e||(e={x_:r,y_:t,Ck:0,vT:1,rtt:[[]]},n.push(e)),e.rtt[0].push(s),e.Ck++)}},n.tp=function(t,n){return t.q7(this.rtt,n)},t}();var SF,EF=function(){function t(t,n){this.mtt=void 0,this.ytt=void 0,this.ktt=void 0,this.btt=void 0,this.ptt=void 0,this.Att=void 0,this.Ttt=void 0,this.Stt=void 0,this.Ett=void 0,this.mtt=new Array(IF+1);for(var i=0;i<=IF;i++)this.mtt[i]=new TF;this.ytt=1,this.ktt=0,this.btt=t,this.ptt=n,this.Att=!1,this.Ttt=!1,this.Stt=kF,this.Ett=bF,this.I_()}var n=t.prototype;return n.Itt=function(t,n){var i="CC"+(this.btt<<1|this.ptt+1);if(t>=n)return null;var e=(new mF).G7(this.mtt.slice(1));return 0===e.length?null:{Qy:new dF(t,n,e),Ml:i,Rtt:this.btt<<1|this.ptt+1}},n.I_=function(){this.Ntt(),this.ytt=1},n.Dtt=function(){return this.ytt},n.Ctt=function(t){this.ytt=t},n.ctt=function(t){this.mtt[this.ytt].ctt(t)},n.htt=function(t){this.mtt[this.ytt].htt(t)},n.Ptt=function(){return this.ktt},n.Btt=function(t){this.ktt=t},n.z7=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case SF.Ott:i=void 0!==CF[n]?CF[n]:String.fromCharCode(n);break;case SF.xtt:i=NF[n];break;case SF.Ltt:this.Mtt(),i=DF[n];break;case SF.Utt:this.Mtt(),i=PF[n]}i&&this.mtt[this.ytt].addParsedChar(i)}},n.Mtt=function(){this.mtt[this.ytt].ftt()},n.Xtt=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.mtt[t+e]=this.mtt[n+e];else for(var r=0;r<i;r++)this.mtt[t+r]=this.mtt[n+r]},n.Ftt=function(t,n){for(var i=0;i<=n;i++)this.mtt[t+i]=new TF},n.Ntt=function(){this.Ftt(0,IF)},n.Htt=function(){this.ytt=this.ktt>0?this.ktt:0,this.Ntt()},n.ztt=function(t){this.Att=t},n.Vtt=function(t){this.Ttt=t},n.Wtt=function(t){this.Stt=t},n.Gtt=function(t){this.Ett=t},t}(),IF=15;!function(t){t[t.Ott=0]="Ott",t[t.xtt=1]="xtt",t[t.Ltt=2]="Ltt",t[t.Utt=3]="Utt"}(SF||(SF={}));var RF,CF={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},NF={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},DF={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},PF={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},xF=function(){function t(t,n){this.Hi=void 0,this.qtt=void 0,this.Ytt=void 0,this.jtt=void 0,this.Qtt=void 0,this.Ztt=void 0,this.Ktt=void 0,this.Jtt=void 0,this.Hi=RF.yD,this.qtt=new EF(t,n),this.Ytt=new EF(t,n),this.jtt=new EF(t,n),this.Qtt=this.Ytt,this.Ztt=0,this.Ktt=void 0,this.Jtt=!1}var n=t.prototype;return n.I_=function(){this.Jtt=!0,this.Ztt=0,this.Hi=RF.yD,this.Qtt=this.Ytt,this.Ktt=void 0,this.Ytt.I_(),this.jtt.I_(),this.qtt.I_()},n.$tt=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.tnt=function(t,n){var i=this.$tt(t,n),e=(30&n)>>1,r=kF,s=!1;e<7?r=MF[e]:7===e&&(s=!0);var u=1==(1&n);if(this.Hi!==RF.Kn){var o=this.Qtt;if(this.Hi===RF.nnt&&i!==o.Dtt()){var a=1+o.Dtt()-o.Ptt(),h=1+i-o.Ptt();o.Xtt(h,a,o.Ptt()),o.Ftt(0,h-1),o.Ftt(i+1,IF-i)}o.Ctt(i);var c=MB[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{QQ:LB[i].QQ,jQ:LB[i].jQ,ZQ:LB[i].ZQ,cZ:t}}(c,n);o.ctt(f.ZQ),this.Qtt.ztt(u),this.Qtt.Vtt(s),this.Qtt.Wtt(r),this.Qtt.Gtt(bF)}}},n.int=function(t,n){this.Qtt.ztt(!1),this.Qtt.Vtt(!1),this.Qtt.Wtt(kF);var i=this.ent(t,SF.Ott," ".charCodeAt(0)),e=kF,r=!1,s=1==(1&n);return"white_italics"===(e=MF[(14&n)>>1])&&(e="white",r=!0),this.Qtt.ztt(s),this.Qtt.Vtt(r),this.Qtt.Wtt(e),i},n.ent=function(t,n,i){if(this.Qtt.z7(n,i),this.Hi===RF.rnt||this.Hi===RF.nnt){var e=this.snt(this.Qtt,this.Ztt,t);return this.Ztt=t,e}return null},n.snt=function(t,n,i){return this.Jtt?null:t.Itt(n,i)},n.unt=function(t,n){var i=bF;0==(7&t)&&(i=LF[(14&n)>>1]),this.Qtt.Gtt(i)},n.ont=function(t){var n=BF,i=t.ant,e=t.cnt,r=null;switch(i){case n.RCL:this.hnt();break;case n.BS:this.fnt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.vnt(2,e);break;case n.RU3:r=this.vnt(3,e);break;case n.RU4:r=this.vnt(4,e);break;case n.FON:r=this.lnt(e);break;case n.RDC:this.dnt(e);break;case n.TR:this.wnt();break;case n.RTD:this._nt();break;case n.EDM:r=this.gnt(e);break;case n.CR:r=this.mnt(e);break;case n.ENM:this.ynt();break;case n.EOC:r=this.knt(e)}return r},n.mnt=function(t){var n=this.Qtt;if(this.Hi!==RF.nnt)return null;var i=this.snt(n,this.Ztt,t),e=n.Dtt()-n.Ptt()+1;return n.Xtt(e-1,e,n.Ptt()),n.Ftt(0,e-1),n.Ftt(n.Dtt(),IF-n.Dtt()),this.Ztt=t,i},n.vnt=function(t,n){this.Qtt=this.Ytt;var i=this.Qtt,e=null;return this.Hi!==RF.nnt&&this.Hi!==RF.Kn&&(e=this.snt(i,this.Ztt,n),this.Ytt.Htt(),this.jtt.Htt(),this.Jtt=!1,i.Ctt(IF)),this.Hi=RF.nnt,i.Btt(t),e},n.lnt=function(t){return this.ent(t,SF.Ott," ".charCodeAt(0))},n.gnt=function(t){var n=this.Ytt,i=null;return this.Hi!==RF.Kn&&(i=this.snt(n,this.Ztt,t)),n.Ntt(),this.Jtt=!1,i},n.dnt=function(t){this.Hi=RF.rnt,this.Qtt=this.Ytt,this.Qtt.Btt(0),this.Ztt=t},n.ynt=function(){this.jtt.Ntt()},n.knt=function(t){var n=null;this.Hi!==RF.Kn&&(n=this.snt(this.Ytt,this.Ztt,t));var i=this.jtt;return this.jtt=this.Ytt,this.Ytt=i,this.hnt(),this.Ztt=t,n},n.hnt=function(){this.Hi=RF.bnt,this.Qtt=this.jtt,this.Qtt.Btt(0)},n.fnt=function(){this.Qtt.Mtt()},n.wnt=function(){this.qtt.I_(),this.Jtt=!1,this._nt()},n._nt=function(){this.Qtt=this.qtt,this.Hi=RF.Kn},n.pnt=function(t,n,i){return this.Qtt.z7(SF.Ott,n),this.ent(t,SF.Ott,i)},n.Ant=function(t,n,i){var e=1&n?SF.Utt:SF.Ltt;return this.ent(t,e,i)},n.Tnt=function(t){var n=t.Snt,i=t.ant,e=t.cnt;if(this.Ktt===(n<<8|i))return this.Ktt=void 0,null;if(this.Ktt=n<<8|i,this.Ent(n,i))this.tnt(n,i);else{if(this.Int(n,i))return this.int(e,i);if(this.Rnt(n,i))this.unt(n,i);else{if(this.Nnt(n,i))return this.ent(e,SF.xtt,i);if(this.Dnt(n,i))return this.Ant(e,n,i);if(this.Cnt(n,i))return this.ont(t);this.isTabOffset(n)&&this.Qtt.htt(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.Cnt=function(t,n){return 20==(246&t)&&32==(240&n)},n.Ent=function(t,n){return 16==(240&t)&&64==(192&n)},n.Int=function(t,n){return 17==(247&t)&&32==(240&n)},n.Rnt=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.Nnt=function(t,n){return 17==(247&t)&&48==(240&n)},n.Dnt=function(t,n){return 18==(246&t)&&32==(224&n)},t.Pnt=function(t){return 16==(112&t)},t}(),BF={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.yD=0]="yD",t[t.bnt=1]="bnt",t[t.rnt=2]="rnt",t[t.nnt=3]="nnt",t[t.Kn=4]="Kn"}(RF||(RF={}));var OF,LF=["black","green","blue","cyan","red","yellow","magenta","black"],MF=["white","green","blue","cyan","red","yellow","magenta","white_italics"],jF=function(){function t(t,n,i,e,r){this.Bnt=void 0,this.Att=void 0,this.Ttt=void 0,this.Ett=void 0,this.Stt=void 0,this.Bnt=t,this.Att=n,this.Ttt=i,this.Ett=e,this.Stt=r}var n=t.prototype;return n.ett=function(){return this.Bnt},n.Ont=function(){return this.Att},n.xnt=function(){return this.Ttt},n.Lnt=function(){return this.Ett},n.Mnt=function(){return this.Stt},t}(),FF=function(){function t(t){this.Unt=void 0,this.ED=void 0,this.Xnt=void 0,this.Fnt=void 0,this.Hnt=void 0,this.znt=void 0,this.Vnt=void 0,this.Wnt=void 0,this.Gnt=void 0,this.qnt=void 0,this.lk=void 0,this.ytt=void 0,this.Ynt=void 0,this.Ttt=void 0,this.Att=void 0,this.Stt=void 0,this.Ett=void 0,this.Unt=t,this.ED=!1,this.Xnt=!1,this.Fnt=0,this.Hnt=0,this.znt=0,this.Vnt=0,this.Wnt=0,this.Gnt=OF.jnt,this.qnt=[],this.lk=0,this.ytt=0,this.Ynt=0,this.Ttt=!1,this.Att=!1,this.Stt=kF,this.Ett=bF,this.Qnt()}var n=t.prototype;return n.Znt=function(t,n,i,e,r,s,u){this.ED=t,this.Hnt=n,this.Fnt=i,this.znt=e,this.Xnt=r,this.Vnt=s,this.Wnt=u},n.Qnt=function(){this.qnt=[];for(var t=0;t<HF;t++)this.qnt.push(this.Knt())},n.Knt=function(){for(var t=[],n=0;n<UF;n++)t.push(null);return t},n.Jnt=function(t){this.$nt()&&(this.qnt[this.ytt][this.Ynt]=new jF(t,this.Att,this.Ttt,this.Ett,this.Stt),this.Ynt++)},n.tit=function(){this.$nt()&&(this.Ynt<=0&&this.ytt<=0||(this.Ynt<=0?(this.Ynt=this.Wnt-1,this.ytt--):this.Ynt--,this.qnt[this.ytt][this.Ynt]=null))},n.$nt=function(){var t=this.ytt<this.Vnt&&this.ytt>=0,n=this.Ynt<this.Wnt&&this.Ynt>=0;return t&&n},n.nit=function(){return this.ED},n.iit=function(t){for(var n=0,i=t;i<HF;i++,n++)this.qnt[n]=this.qnt[i];for(var e=0;e<t;e++,n++)this.qnt[n]=this.Knt()},n.eit=function(){if(this.ytt+1>=this.Vnt)return this.iit(1),void(this.Ynt=0);this.ytt++,this.Ynt=0},n.rit=function(){this.qnt[this.ytt]=this.Knt(),this.Ynt=0},n.Itt=function(t,n){if(this.lk>=t)return null;var i=_F.itt(this.qnt,this.lk,t);return i?(this.sit(t),{Qy:i,Ml:"svc"+n,Rtt:n}):null},n.uit=function(t,n){this.ytt=t,this.Ynt=n},n.oit=function(t){this.Ett=t},n.ait=function(t){this.Stt=t},n.cit=function(t){this.Att=t},n.hit=function(t){this.Ttt=t},n.fit=function(){this.ytt=0,this.Ynt=0,this.Att=!1,this.Ttt=!1,this.Stt=kF,this.Ett=bF},n.vit=function(t){this.Gnt=t},n.dit=function(){this.ED=!0},n.Zm=function(){this.ED=!1},n.wit=function(){this.ED=!this.ED},n.sit=function(t){this.lk=t},t}();!function(t){t[t._it=0]="_it",t[t.git=1]="git",t[t.jnt=2]="jnt",t[t.mit=3]="mit"}(OF||(OF={}));var UF=42,HF=15,XF=function(){function t(t){this.yit=void 0,this.kit=void 0,this.pit=void 0,this.yit=t,this.kit=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.pit=void 0}var n=t.prototype;return n.Ait=function(t){var n=t.Tit(),i=n._i,e=n.cnt;i===GF&&(i=i<<16|t.Tit()._i);return i>=0&&i<=31?this.Sit(i,e):i>=128&&i<=159?this.Eit(t,i,e):(i>=4096&&i<=4127?this.Iit(t,255&i):i>=4224&&i<=4255?this.Rit(t,255&i):i>=32&&i<=127?this.Nit(i):i>=160&&i<=255?this.Dit(i):i>=4128&&i<=4223?this.Cit(255&i):i>=4256&&i<=4351&&this.Pit(255&i),null)},n.Nit=function(t){this.pit&&(127!==t?this.pit.Jnt(String.fromCharCode(t)):this.pit.Jnt("\u266a"))},n.Dit=function(t){this.pit&&this.pit.Jnt(String.fromCharCode(t))},n.Cit=function(t){if(this.pit)if(void 0!==$F[t]){var n=$F[t];this.pit.Jnt(n)}else this.pit.Jnt("_")},n.Pit=function(t){this.pit&&(160===t?this.pit.Jnt("[CC]"):this.pit.Jnt("_"))},n.Sit=function(t,n){if(!this.pit)return null;var i=this.pit,e=null;switch(t){case zF:i.tit();break;case WF:i.nit()&&(e=i.Itt(n,this.yit)),i.eit();break;case qF:i.nit()&&(e=i.Itt(n,this.yit)),i.rit();break;case VF:i.nit()&&(e=i.Itt(n,this.yit)),i.Qnt(),i.uit(0,0)}return e},n.Eit=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.Bit(e)}else{if(136===n){var r=t.Tit()._i;return this.Oit(r,i)}if(137===n){var s=t.Tit()._i;this.xit(s,i)}else{if(138===n){var u=t.Tit()._i;return this.Lit(u,i)}if(139===n){var o=t.Tit()._i;return this.Mit(o,i)}if(140===n){var a=t.Tit()._i;return this.Uit(a,i)}if(143===n)return this.I_(i);if(144===n)this.Xit(t);else if(145===n)this.Fit(t);else if(146===n)this.uit(t);else if(151===n)this.Hit(t);else if(n>=152&&n<=159){var h=(15&n)-8;this.Znt(t,h,i)}}}return null},n.Iit=function(t,n){n>=8&&n<=15?t.gA(1):n>=16&&n<=23?t.gA(2):n>=24&&n<=31&&t.gA(3)},n.Rit=function(t,n){n>=128&&n<=135?t.gA(4):n>=136&&n<=143&&t.gA(5)},n.Bit=function(t){this.kit[t]&&(this.pit=this.kit[t])},n.zit=jr.mark(function t(n){var i;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.kit[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.Oit=function(t,n){for(var i=null,e=0,r=this.zit(t);e<r.length;e++){var s=r[e],u=this.kit[s];u.nit()&&(i=u.Itt(n,this.yit)),u.Qnt()}return i},n.xit=function(t,n){for(var i=0,e=this.zit(t);i<e.length;i++){var r=e[i],s=this.kit[r];s.nit()||s.sit(n),s.dit()}},n.Lit=function(t,n){for(var i=null,e=0,r=this.zit(t);e<r.length;e++){var s=r[e],u=this.kit[s];u.nit()&&(i=u.Itt(n,this.yit)),u.Zm()}return i},n.Mit=function(t,n){for(var i=null,e=0,r=this.zit(t);e<r.length;e++){var s=r[e],u=this.kit[s];u.nit()?i=u.Itt(n,this.yit):u.sit(n),u.wit()}return i},n.Uit=function(t,n){for(var i=null,e=0,r=this.zit(t);e<r.length;e++){var s=r[e],u=this.kit[s];u.nit()&&(i=u.Itt(n,this.yit)),this.kit[s]=void 0}return i},n.I_=function(t){var n=this.Uit(255,t);return this.Ru(),n},n.Ru=function(){this.pit=void 0,this.kit=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.Xit=function(t){t.gA(1);var n=t.Tit()._i;if(this.pit){var i=(128&n)>0,e=(64&n)>0;this.pit.hit(i),this.pit.cit(e)}},n.Fit=function(t){var n=t.Tit()._i,i=t.Tit()._i;if(t.gA(1),this.pit){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,a=(48&i)>>4,h=this.Vit(s,r,e),c=this.Vit(a,o,u);this.pit.ait(h),this.pit.oit(c)}},n.uit=function(t){var n=t.Tit()._i,i=t.Tit()._i;if(this.pit){var e=15&n,r=63&i;this.pit.uit(e,r)}},n.Hit=function(t){t.gA(1),t.gA(1);var n=t.Tit()._i;if(t.gA(1),this.pit){var i=3&n;this.pit.vit(i)}},n.Znt=function(t,n,i){var e=void 0!==this.kit[n];if(!e){var r=new FF(n);r.sit(i),this.kit[n]=r}var s=t.Tit()._i,u=t.Tit()._i,o=t.Tit()._i,a=t.Tit()._i,h=t.Tit()._i,c=t.Tit()._i,f=(32&s)>0,l=127&u,v=(128&u)>0,d=o,w=1+(15&a),g=(240&a)>>4,m=1+(63&h);e&&0===(7&c)||this.kit[n].fit(),this.kit[n].Znt(f,l,d,g,v,w,m),this.pit=this.kit[n]},n.Vit=function(t,n,i){var e={0:0,1:0,2:1,3:1};return YF[e[t]<<2|e[n]<<1|e[i]]},t}(),zF=8,VF=12,WF=13,qF=14,GF=16,$F={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},YF=["black","blue","green","cyan","red","magenta","yellow","white"],QF=function(){function t(){this.Wit=void 0,this.Git=void 0,this.qit=void 0,this.Wit=[],this.Git=null,this.qit=0}var n=t.prototype;return n.Yit=function(t){if(t.us===Pj.X9){var n=63&t._i;return this.qit=2*n-1,void(this.Git=[])}if(this.Git&&(this.qit>0&&(this.Git.push(t),this.qit--),0===this.qit)){var i=new ZF(this.Git);this.Wit.push(i),this.Git=null,this.qit=0}},n.jit=function(){return this.Wit},n.Qit=function(){this.Wit=[]},n.Ru=function(){this.Wit=[],this.Git=[],this.qit=0},t}(),ZF=function(){function t(t){this.Zit=void 0,this.Kit=void 0,this.Zit=0,this.Kit=t}var i=t.prototype;return i.Jit=function(){return this.Zit<this.Kit.length},i.$it=function(){return this.Zit},i.Tit=function(){if(!this.Jit())throw new ff(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Kit[this.Zit++]},i.gA=function(t){if(this.Zit+t>this.Kit.length)throw new ff(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Zit+=t},t}(),KF=function(){function t(){this.tet=void 0,this.net=void 0,this.iet=void 0,this.eet=void 0,this.ret=void 0,this.uet=void 0,this.oet=void 0,this.aet=void 0,this.cet=!1,this.tet=[],this.net=[],this.iet=new QF,this.eet=0,this.ret=zr({CC1:new xF(0,0),CC2:new xF(0,1),CC3:new xF(1,0),CC4:new xF(1,1)}),this.uet=0,this.oet=0,this.aet=Xr(),this.I_()}var i=t.prototype;return i.Ru=function(){this.eet=0,this.tet=[],this.net=[],this.iet.Ru(),this.I_(),this.aet.forEach(function(t){t.Ru()})},i.I_=function(){this.uet=0,this.oet=0,this.ret.forEach(function(t){t.I_()})},i.H6=function(t,n){if(t.J9){var i=t.t7,e=t.n7,r=t.us;r===Pj.L9||r===Pj.M9?this.tet.push({cnt:n,us:r,Snt:i,ant:e,het:this.tet.length}):this.cet&&(this.net.push({cnt:n,us:r,_i:i,het:this.net.length}),this.net.push({cnt:n,us:Pj.U9,_i:e,het:this.net.length}))}},i.rB=function(){var t=[];Ls(this.tet,function(t,n){return t.cnt-n.cnt||t.het-n.het}),Ls(this.net,function(t,n){return t.cnt-n.cnt||t.het-n.het});for(var n=0,i=this.tet;n<i.length;n++){var e=i[n],r=this.fet(e);r&&t.push(r)}for(var s=0,u=this.net;s<u.length;s++){var o=u[s];this.iet.Yit(o)}for(var a=this.iet.jit(),h=0;h<a.length;h++){var c=a[h],f=this.vet(c);t.push.apply(t,f)}return this.iet.Qit(),this.tet=[],this.net=[],t},i.fet=function(t){var n=t.us;if(xF.Pnt(t.Snt)){var i=t.Snt>>3&1;0===n?this.uet=i:this.oet=i}var e="CC"+(n<<1|(n?this.oet:this.uet)+1),r=this.ret.get(e);return 255===t.Snt&&255===t.ant||!t.Snt&&!t.ant||!this.let(t.Snt)||!this.let(t.ant)?(++this.eet>=45&&this.I_(),null):(this.eet=0,t.Snt&=127,t.ant&=127,t.Snt||t.ant?xF.Pnt(t.Snt)?r.Tnt(t):r.pnt(t.cnt,t.Snt,t.ant):null)},i.vet=function(t){var i=[];try{for(;t.Jit();){var e=t.Tit()._i,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.Tit()._i;if(0!==r){if(!this.aet.has(r)){var u=new XF(r);this.aet.set(r,u)}for(var o=this.aet.get(r),a=t.$it();t.$it()-a<s;){var h=o.Ait(t);h&&i.push(h)}}}}catch(t){if(!(t instanceof ff&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.let=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),JF=function(t){function n(n,i){var e;return(e=t.call(this,"det")||this).Rtt=n,e.Qy=i,e}return E(n,t),n}(Su),tU=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.wet=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];this._et(e,e.KQ.Bk()+n)}this.rB()},n}(function(t){function n(){var n;return(n=t.call(this)||this).met=void 0,n.met=new KF,n}E(n,t);var i=n.prototype;return i._et=function(t,n){this.met.H6(t,n)},i.rB=function(){for(var t=this.met.rB(),n=0;n<t.length;n++){var i=t[n];this.Ys(new JF(i.Rtt,i.Qy))}},i.I_=function(){this.met.Ru()},i.Bd=function(){this.Ks(),this.met.Ru()},n}(Au)),nU=function(t){function n(n){var i;return(i=t.call(this)||this).yet=void 0,i.ket=void 0,i.bet=NaN,i.pet=NaN,i.Aet=void 0,i.yE=void 0,i.Tet=function(t){i.Eet({Iet:t.Rtt,Ret:""}).SE(t.Qy)},i.yE=n,i.Aet=Xr(),i.yet=new tU,i.yet.js("det",i.Tet),i}E(n,t);var i=n.prototype;return i.Net=function(t){return this.Aet.get(t)},i.Eet=function(t){var n=this.Aet.get(t.Iet);return n||(n=this.Det(t),this.Aet.set(t.Iet,n)),n},i.Det=function(t){var n,i=qj(t.Ret),e=i?i.ci:"";t.Cet&&(e="easy "+e),n=t.z_?"CC "+t.z_:e?"CC "+e:"CC"+t.Iet;var r=this.yE.AE(Dk.uE,n,n,e,!1,b_.CEA608);return this.T_(r),r},i.n9=function(t){var n=uk.xA(Wo(t));this.ket=function(t){for(var n=0;n<t.ZA.length;n++){var i=t.ZA[n],e={cT:(h=t.ZA[n]).RA.cT,R7:h.sT.RA.Cb},r=i.sT.gT.kT.pT.TT,s=Vs(r,function(t){return t.us===cb.Rp});if(!s){var u=Vs(r.filter(function(t){return t.us===cb.Fp}),function(t){var n;return(null==(n=t.eS)?void 0:n.us)===cb.Rp});u&&(s=u.eS)}if(s){var o=iD(Wo(s.ZT.Xi),new Ko),a=s.JT;return Fr({},e,{cT:i.RA.cT,ZT:Zo(s.ZT.Xi),Ck:s.Ck,vT:s.vT,cS:a&&a.cS,aS:a&&a.aS,Pet:o.CH,Bet:o.PH,t9:o.BH,xH:o.xH[0],LH:o.LH[0]})}}var h}(n.filter(vF)[0])},i.S4=function(t,n,i,e){if(this.ket&&(p(this.bet)||!Ft(this.bet,n,1e-5))){p(this.pet)||Ft(n,this.pet,1e-5)||this.yet.I_();var r=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.iE.M7&&n.push.apply(n,e.iE.M7),delete e.iE.M7}for(var r=0;r<n.length;r+=1)n[r].mS=r;return n.sort(jB)}(function(t,n,i,e,r){for(var s=[],u=n.filter(hF),o=e(i),a=0;a<u.length;a++){var h,c=u[a],f=Vs(c.ZA,function(t){return t.RA.cT===i.cT});if(f)for(var l=f.RA.vS||0,v=f.RA.lS||0,d=f.AS?f.AS.AS:lt.ZERO,w=c.gS+(null!=(h=f.RA.TS)?h:lt.ZERO).toNumber(),g=0,m=f.pS;g<m.length;g++)for(var y=m[g],p=w+(y.gS||0),_=0,b=y.NS;_<b.length;_++){var k=b[_],A=k.Nu||v,T=new jj;T.V9(t,p,p+A);var S=sb.Zk(d,i.R7);T.iE=r(k,c,i,S,Yo(t,p,p+A)),s.push(T),p+=A,d=d.add(k.Yg||l||o)}}return s}(t,uk.xA(Wo(t)),this.ket,aF,lF));this.yet.wet(r,e),this.bet=n,this.pet=i}},i.I_=function(){var n=this;return this.yet.I_(),this.Aet.forEach(function(t){return n.S_(t)}),this.Aet.clear(),this.ket=void 0,this.bet=NaN,this.pet=NaN,t.prototype.I_.call(this)},i.Bd=function(){return this.yet.Js("det",this.Tet),this.yet.Bd(),t.prototype.Bd.call(this)},n}(Kk);function iU(t){if(t.us===aL.j0&&void 0!==t.IJ){var n=t.IJ.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.IJ.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}var eU="LLHLSPlayer",rU=[dp.Fg,dp.Hg,dp.zg,dp.Vg,dp.l_],sU=[Df.yf,Df.If,Df.Nf,Df.hf],uU=50,oU=3e4,aU=function(t){function e(e,r,s,u,o,a){var h;return(h=t.call(this)||this).eN=void 0,h.kE=void 0,h.vN=void 0,h.hN=void 0,h.Oet=void 0,h.xet=void 0,h.Let=void 0,h.Met=void 0,h.Rm=void 0,h.Nm=void 0,h.Dm=void 0,h.Uet=Xr(),h.Xet=void 0,h.Fet=void 0,h.cN=void 0,h.Z8=void 0,h.K8=void 0,h.Het=!1,h.bE=new uu,h.zet=void 0,h.X0=void 0,h.rN=void 0,h.z6=void 0,h.Vet=void 0,h.Wet=new uu,h.Get=void 0,h.U0=void 0,h.qet=void 0,h.Yet=void 0,h.jet=void 0,h.Qet=void 0,h.Zet=void 0,h.Ket=[],h.$V=void 0,h.tW=void 0,h.Jet=void 0,h.$et=void 0,h.trt=void 0,h.W5=void 0,h.y8=void 0,h.nrt=new uu,h.irt=void 0,h.Kq=new uu,h.Zq=void 0,h.ert=-1,h.rrt=void 0,h.urt=void 0,h.ort=void 0,h.art=void 0,h.crt=void 0,h.hrt=void 0,h.frt=!0,h.vrt=0,h.lrt=!1,h.SC=1,h.oN=eE.yD,h.sN=void 0,h.uN=void 0,h.nW=fE.gC(),h.drt=[],h.wrt=void 0,h._rt=!1,h.grt=void 0,h.mrt=void 0,h.yrt=!1,h.krt=void 0,h.brt=void 0,h.lN=new $S,h.handleContentProtectionErrorEvent=function(t){h.sN=r_(t.errorObject),h.uN=t.errorObject,h.qs(t)},h.handleBufferingErrorEvent=function(t){h.wN(new ff(n.ErrorCode.MEDIA_LOAD_ERROR,t.wu.message,t.wu))},h.prt=function(){h.Art();var t=h.Yg;t!==h.grt&&(h.grt=t,h.Ys(new kp(h.grt)))},h.Trt=function(){h.jg&&h.Ys(new Sp(h.qg))},h.Srt=function(){h.Ys(new gp(h.qg))},h.Ert=function(){h.Ys(new mp(h.qg))},h.mN=function(){void 0!==h.brt&&i.qn(h.brt),h.Ys(new yA(h.qg))},h.Irt=function(){h.Ys(new PN(h.qg))},h.OE=function(){h.Ys(new Pp(h.qg,h.rg))},h.MG=function(){var t=h.KJ;Qs(h.drt,t)&&Qs(t,h.drt)||(h.Ys(new BM),h.drt=t),h.Ys(new Tp(h.qg,h.ly))},h.Rrt=function(){mu(h._0())},h.sW=function(){h.Ys(new Ip(h.qg))},h.gN=function(){h.Ys(new Rp(h.qg))},h.Nrt=function(){h.Ys(new Cp(h.qg,h.im))},h.Drt=function(){h.eN.$g?h.Ys(new mA(h.qg)):(h.brt=i.Yn(function(){h.krt=void 0,mu(h.Crt())},Rj),h.Ys(new mA(h.qg)))},h.Prt=function(t){au(t)||Mk(t)||jk(t)||(h.Brt(),mu(h.Ort()),h.Ys(new $O(t)))},h.z0=function(){h.Art()},h.xrt=function(t){mu(h.Lrt(t.qJ))},h.Mrt=tt(function(t){var n=[h.z6,h.irt,h.Zq].filter(U);h.Kq=new uu,h.Zq=h.ej(n,t,h.Kq.zs).catch(h.Prt)},uU),h.Urt=function(t){if(!au(t)){var i=t instanceof ff?t:new ff(n.ErrorCode.MEDIA_DECODE_ERROR,t.message,t);h.wN(i)}},h.onTextTrackChange=function(t){if(h.qet){var n=t.t_,i=Vs(h.qet.L2,function(t){return n===h.Uet.get(t.F_)});i&&(n.K_===Dy.Y_||n.K_===Dy.j_?(mu(h.Xrt(i)),h.Uet.forEach(function(t){t!==n&&(t.K_=Dy.q_)})):h.Qet&&h.Qet===i&&mu(h.Frt(h.Yet,h.jet,void 0)))}},h.retryOfflineRenditionsCallback=function(t,n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(h.Hrt===t||h.t$===t||h.i$===t){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,jr.awrap(h.U0.a4(t,n));case 4:t.pJ.P3=-1/0;case 5:case"end":return i.stop()}},null,null,null,We)},h.zrt=function(){h.Vrt()},h.Wrt=function(){h.Grt()},h.qrt=function(t){if(t.qJ.RJ){var n=h.U0.g$.G3(t.qJ);if(n&&!n.XH){h.U0.d4(n,t.XH),h.Xet.b$();var i=h.qet;if(i){var e=void 0!==h.Yet&&!Ys(i.y$,h.Yet),r=void 0!==h.jet&&!Ys(i.k$,h.jet);(e||r)&&h.Frt(e?void 0:h.Yet,r?void 0:h.jet,h.Qet).catch(Z)}}}},h.DC=s,h.K4=u,h.Yrt=o,h.t4=a,h.eN=e,h.kE=new LO(r,h.DC),h.vN=new GO(h.DC.tL),h.Let=new YO(h.eN),h.Met=new iL(h.DC),h.Rm=new u_,h.Nm=new u_,h.Xet=new OO(Kt(h),h.Rm,h.Nm),h.Fet=new Pk,h.cN=new tA(h.eN,h.kE),h.Z8=new xj(h.eN),h.K8=new nU(h.eN),h.Dm=new WS([h.Fet,h.cN.ZA,h.Z8.ZA,h.K8.ZA]),h.hN=new zS(h.kE),h.eN.CN=h.hN,h.Oet=new cU(Kt(h),h.eN),h.xet=new _A(h.Oet,!0),h.jrt(),h}E(e,t);var r=e.prototype;return r.Qrt=function(t){return Js(t,function(t){return t.UR})},r.Crt=function(){var t,n,i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jr.awrap(this.Zrt());case 2:if(void 0!==(t=e.sent)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,jr.awrap(this.Krt(t));case 7:if((n=e.sent).length>0&&(t=n),void 0===(i=this.Qrt(t))){e.next=14;break}return e.next=13,jr.awrap(this.JJ(i,!0));case 13:this.vN.h0(i.UR);case 14:case"end":return e.stop()}},null,this,null,We)},r.Art=function(){var t=fU([this.Yet,this.jet].filter(U));0!==t.N_&&(this.rN&&this.rN.MX&&this.Jrt&&(t=new fE([t.OD(0),this.rN.Yg])),this.nW=t,this.Z8.mE(t.OD(0)),this.K8.mE(t.OD(0)))},r.Vm=function(){return!1},r.Jm=function(){return dE},r.Zm=function(){xO.gT(eU,"Hiding the player."),this.eN.Zm()},r.Xm=function(){xO.gT(eU,"Pausing the player."),this.eN.Xm()},r.Um=function(){var t;return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.eN.Um(),this.Het){n.next=4;break}return n.next=4,jr.awrap(this.zc());case 4:return n.next=6,jr.awrap(t);case 6:case"end":return n.stop()}},null,this,null,We)},r.$rt=function(){this.sN=void 0,this.uN=void 0},r.wN=function(t){this.sN||(mu(this.I_()),this.sN=r_(t),this.uN=t,this.Ys(new xp(t)))},r.Qm=function(){xO.gT(eU,"Showing the player."),this.eN.Qm()},r.Wm=function(){throw new l("Not implemented")},r.Gm=function(){throw new l("Not implemented")},r.oy=function(){},r.zm=function(t,n,e){return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(xO.gT(eU,"Setting the player source to "+t.src+"."),this.$rt(),!this.zet||ap(this.zet)){r.next=6;break}return r.next=5,jr.awrap(this.I_());case 5:hu(e);case 6:if(t.src&&!ap(t)){r.next=8;break}return r.abrupt("return");case 8:this.hN.HR(t.contentProtection),this.X0=t,this.js(hO.kJ,this.handleBufferingErrorEvent),this.U0=new CM(this.kE,this.t4,i.Pr(t.src)),this.U0.js("W0",this.z0),this.U0.js("Y3",this.xrt),this.Get=new hL(t,this.U0,this.eN),this.Dm.ZR(this.Get.Lm),this.y8=this.Yrt.mK(),this.W5=new Ej,n.textTracks&&this.UN(n.textTracks),sA(this.Dm),this.tst();case 21:case"end":return r.stop()}},null,this,null,We)},r.zc=function(){return this.z6?this.z6:(this.z6=this.Dw(this.bE.zs).catch(this.Urt),this.z6)},r.Dw=function(t){var i,e,r,s,u,o,a,h;return jr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(xO.gT(eU,"Loading the player."),this.U0.w4){c.next=13;break}return c.prev=2,c.next=5,jr.awrap(this.U0.n4(t));case 5:this.nst(),c.next=13;break;case 8:throw c.prev=8,c.t0=c.catch(2),cu(c.t0),this.Sy=!1,new ff(n.ErrorCode.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+c.t0.message,c.t0);case 13:if(this.Zet=this.U0.g$.m$,this.Zet.length){c.next=16;break}throw new ff(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");case 16:return c.next=18,jr.awrap(this.ist(this.Zet));case 18:if(0!==(e=c.sent).length){c.next=21;break}throw new ff(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");case 21:return c.next=23,jr.awrap(this.Krt(e));case 23:(r=c.sent).length>0&&(e=r),xO.gT(eU,"Selecting initial active variant stream."),s=vU(e,null==(i=this.X0)?void 0:i.abr,this.DC),(u=wU(s.y$))&&xO.gT(eU,"Detected initial audio rendition."),(o=wU(s.k$))&&xO.gT(eU,"Detected initial video rendition."),(a=lU(s.L2))&&xO.gT(eU,"Detected initial subtitle rendition."),a||(h=lU(s.M2))&&xO.gT(eU,"Detected initial closed caption rendition."),this.rst(s),this.Xet._$(),this.sst(s,h),this.Frt(u,o,a).catch(Z),this.Het=!0;case 39:case"end":return c.stop()}},null,this,[[2,8]],We)},r.nst=function(){this.yrt||(this.yrt=!0,this.Oet.ust())},r.UN=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.cN.pE(i)}},r.sst=function(t,n){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i],r=iU(e);void 0!==r&&n.push({Iet:r,Ret:e.V_||"",z_:e.ci})}return n}(t.M2),e=0;e<i.length;e++){var r=i[e];this.K8.Eet(r)}if(void 0!==n){var s=iU(n);this.K8.Net(s).K_=Dy.j_}},r.tst=function(){this.Wet.Xs(),this.Wet=new uu,this.Vet=this.ost(this.Vet,this.Wet.zs).catch(this.Urt)},r.ost=function(t,n){var i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.oN,!t){e.next=5;break}return e.next=4,jr.awrap(t);case 4:hu(n);case 5:if(i!==eE.yD&&this.U0){e.next=7;break}return e.abrupt("return");case 7:if(hu(n),this.U0.w4){e.next=19;break}return e.prev=9,e.next=12,jr.awrap(this.U0.n4(n));case 12:this.nst(),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(9),cu(e.t0),e.abrupt("return");case 19:if(i!==eE.rA){e.next=21;break}return e.abrupt("return");case 21:hu(n),this.zc().catch(this.Urt);case 23:case"end":return e.stop()}},null,this,[[9,15]],We)},r.$J=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.ast(i))throw new l("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.Zet=t},r.ast=function(t){var n=this.g$;return!!n&&Ys(n.m$,t)},r.cst=function(t){if(this.qet)return Vs(this.qet.A$,function(n){return n===t})},r.rst=function(t){if(xO.gT(eU,"Setting active variant stream."),this.qet!==t){var n;if((null==(n=this.qet)?void 0:n.A1)!==(null==t?void 0:t.A1)){if(this.qet)for(var i=0,e=this.qet.L2;i<e.length;i++){var r=e[i];this.EE(r)}if(t)for(var s=0,u=t.L2;s<u.length;s++){var o=u[s];this.hst(o)}}this.qet=t,this.Ys(new hj)}},r.hst=function(t){var n=this.eN.AE(Dk.iA,void 0,t.ci,t.V_,t.AJ);this.Fet.T_(n),this.Uet.set(t.F_,n),n.js(ty.f_,this.onTextTrackChange)},r.EE=function(t){var n=this.Uet.get(t.F_);n&&(n.Js(ty.f_,this.onTextTrackChange),this.Fet.S_(n),this.Uet.delete(t.F_),this.eN.EE(n))},r.Zrt=function(){var t,n,i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(n=null!=(t=this.Zet)?t:this.g$.m$).length||this.Zet){r.next=4;break}return xO.gT(eU,"The HLS stream does not contain any variant streams, skipping ABR selection."),r.abrupt("return",void 0);case 4:if(1!==n.length||this.Zet){r.next=7;break}return xO.gT(eU,"The HLS stream contains only a single variant stream, skipping ABR selection."),r.abrupt("return",void 0);case 7:return r.next=9,jr.awrap(this.ist(n));case 9:if((i=r.sent).length){r.next=13;break}return xO.v$(eU,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),r.abrupt("return",void 0);case 13:if(0!==(e=gU(i)).length){r.next=22;break}if(!this.lrt){r.next=17;break}return r.abrupt("return",void 0);case 17:return xO.v$(eU,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),this.vrt++,r.next=21,jr.awrap(this.fst(i));case 21:return r.abrupt("return",void 0);case 22:return r.abrupt("return",e);case 23:case"end":return r.stop()}},null,this,null,We)},r._0=function(){var t,n,i,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,jr.awrap(this.Zrt());case 2:if(void 0!==(t=s.sent)){s.next=5;break}return s.abrupt("return");case 5:return u=this.eN,o=void 0,a=void 0,o=u.qg,a=u.vy.vC(o),n=a?a.LD(0)-o:0,s.next=8,jr.awrap(this.Krt(t));case 8:return i=s.sent,s.next=11,jr.awrap(this.Met._0(t,this.qet,n,i));case 11:if(e=s.sent,r=!!this.qet&&e.UR<this.qet.UR,!(!!r||this.vst(e,t,n))){s.next=17;break}return s.next=17,jr.awrap(this.JJ(e,r));case 17:case"end":return s.stop()}var u,o,a},null,this,null,We)},r.vst=function(t,n,e){var r,s;if(t===this.jJ)return!1;if(t===this.Qrt(n))return!0;(!this.krt||this.krt.QJ.UR>t.UR)&&(this.krt={QJ:t,N7:i.Je()});var u=i.Je()-this.krt.N7,o=null!=(r=null==(s=this.i$)?void 0:s.pJ.v0)?r:1/0;return e>=g.max(o-1,5)||u>1e3},r.fst=function(t){var n,i,e,r,s,u=this;return jr.async(function(o){for(;;)switch(o.prev=o.next){case 0:this.lrt=!0,n=!1,i=0;case 3:if(!(i<t.length)){o.next=20;break}if(e=t[i],o.prev=5,void 0!==(r=this.jet?Vs(e.k$,function(t){return vO(t,u.jet)}):void 0)){o.next=9;break}return o.abrupt("continue",17);case 9:return o.next=11,jr.awrap(this.a4(r));case 11:r.pJ.P3=-1/0,n=!0,o.next=17;break;case 15:o.prev=15,o.t0=o.catch(5);case 17:i++,o.next=3;break;case 20:if(!n){o.next=26;break}return this.vrt=0,o.next=24,jr.awrap(this.lst());case 24:o.next=29;break;case 26:return s=g.min(1e3*g.pow(2,this.vrt),oU),o.next=29,jr.awrap(pu(s));case 29:return this.lrt=!1,o.next=32,jr.awrap(this._0());case 32:case"end":return o.stop()}},null,this,[[5,15]],We)},r.ist=function(t){var n,i=this;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jr.awrap(iu(t,function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.XH){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t1=!t.XH.UH,n.t1){n.next=7;break}return n.next=6,jr.awrap(i.Let.LX('audio/mp4; codecs="'+t.XH.UH+'"'));case 6:n.t1=n.sent;case 7:if(n.t0=n.t1,!n.t0){n.next=15;break}if(n.t2=!t.XH.MH,n.t2){n.next=14;break}return n.next=13,jr.awrap(i.Let.LX('video/mp4; codecs="'+t.XH.MH+'"'));case 13:n.t2=n.sent;case 14:n.t0=n.t2;case 15:return n.abrupt("return",n.t0);case 16:case"end":return n.stop()}},null,null,null,We)}));case 2:return(n=e.sent).some(function(t){var n;return null==(n=t.XH)?void 0:n.MH})&&(n=n.filter(function(t){return!t.XH||t.XH.MH})),n.some(function(t){var n;return null==(n=t.XH)?void 0:n.UH})&&(n=n.filter(function(t){return!t.XH||t.XH.UH})),e.abrupt("return",n);case 6:case"end":return e.stop()}},null,null,null,We)},r.Krt=function(t){var n=this;return iu(t,function(t){var i,e,r,s,u=[wU(t.y$),wU(t.k$),lU(t.L2),lU(t.M2)].filter(U);return i=u,e=function(t){return n.dst(t)},jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=10;break}return s=i[r],t.next=5,jr.awrap(e(s));case 5:if(t.sent){t.next=7;break}return t.abrupt("return",!1);case 7:r++,t.next=1;break;case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}},null,null,null,We)})},r.dst=function(t){var n,i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==t.pJ.Y0.length){r.next=2;break}return r.abrupt("return",!1);case 2:if((n=t.pJ.Y0[0]).NJ){r.next=5;break}return r.abrupt("return",!1);case 5:return i=n.NJ,e=i.Q0?cL(i.Q0.OD,i.Q0.N_):void 0,r.prev=7,r.next=10,jr.awrap(this.t4.wst(i._i,e));case 10:return r.abrupt("return",r.sent);case 13:return r.prev=13,r.t0=r.catch(7),r.abrupt("return",!1);case 16:case"end":return r.stop()}},null,this,[[7,13]],We)},r.JJ=function(t,n){var i,e,r,s=this;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.Het){u.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded.");case 2:if(t){u.next=4;break}throw new l("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");case 4:if(this.ast(t)){u.next=6;break}throw new l("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");case 6:if(t!==this.qet){u.next=9;break}return xO.gT(eU,"Trying to set the already active variant stream, ignoring."),u.abrupt("return");case 9:return i=this.Yet?Vs(t.y$,function(t){return vO(t,s.Yet)}):void 0,e=this.jet?Vs(t.k$,function(t){return vO(t,s.jet)}):void 0,r=this.Qet?Vs(t.L2,function(t){return vO(t,s.Qet)}):void 0,this.rst(t),this.krt=void 0,u.next=16,jr.awrap(this.Frt(i,e,r,n));case 16:case"end":return u.stop()}},null,this,null,We)},r.n$=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Het){i.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.qet){i.next=4;break}throw new l("LLHLSPlayer - Cannot set the active audio rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new l("LLHLSPlayer - Cannot explicitly set the active audio rendition to undefined.");case 6:if(n=this.cst(t)){i.next=9;break}throw new l("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");case 9:return xO.gT(eU,"Switching audio rendition"),i.next=12,jr.awrap(this.Frt(n,this.jet,this.Qet,!1,!0,!1));case 12:case"end":return i.stop()}},null,this,null,We)},r.e$=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Het){i.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.qet){i.next=4;break}throw new l("LLHLSPlayer - Cannot set the active video rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new l("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.cst(t)){i.next=9;break}throw new l("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");case 9:return xO.gT(eU,"Switching video rendition"),i.next=12,jr.awrap(this.Frt(this.Yet,n,this.Qet,!1,!1,!0));case 12:case"end":return i.stop()}},null,this,null,We)},r.Xrt=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Het){i.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.qet){i.next=4;break}throw new l("LLHLSPlayer - Cannot set the active subtitle rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new l("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.cst(t)){i.next=9;break}throw new l("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");case 9:return xO.gT(eU,"Switching subtitle rendition"),i.next=12,jr.awrap(this.Frt(this.Yet,this.jet,n));case 12:case"end":return i.stop()}},null,this,null,We)},r.Lrt=function(t,n){var i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lrt){e.next=2;break}return e.abrupt("return");case 2:if(t.us===aL.Td){e.next=7;break}return e.next=5,jr.awrap(this._st(t,n));case 5:e.next=17;break;case 7:if(0!==(null==(i=this.Zet)?void 0:i.length)){e.next=15;break}if(this.jet===t){e.next=11;break}return e.next=11,jr.awrap(this.Frt(this.Yet,t,this.Qet));case 11:return e.next=13,jr.awrap(this._st(t,n));case 13:e.next=17;break;case 15:return e.next=17,jr.awrap(this._0());case 17:case"end":return e.stop()}},null,this,null,We)},r.a4=function(t,n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,jr.awrap(this.U0.a4(t,n));case 3:i.next=12;break;case 5:if(i.prev=5,i.t0=i.catch(0),cu(i.t0),!Mk(i.t0)&&!jk(i.t0)){i.next=11;break}return i.next=11,jr.awrap(this.Lrt(t,n));case 11:throw i.t0;case 12:case"end":return i.stop()}},null,this,[[0,5]],We)},r._st=function(t,n){var i=this;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ys(this.Ket,t)){e.next=2;break}return e.abrupt("return");case 2:return this.Ket.push(t),e.prev=3,e.next=6,jr.awrap(EM(function(){return i.retryOfflineRenditionsCallback(t,n)},n,1/0,1e3,oU));case 6:if(e.prev=6,Gs(this.Ket,t),t.pJ.P3!==-1/0){e.next=11;break}return e.next=11,jr.awrap(this.lst());case 11:return e.finish(6);case 12:case"end":return e.stop()}},null,this,[[3,,6,12]],We)},r.Frt=function(t,n,i,e,r,s){return void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===s&&(s=!1),this.Yet===t&&this.jet===n&&this.Qet===i?We.resolve():void 0===t&&void 0===n?We.reject(new l("Trying to buffer no media renditions.")):(this.Yet=t,this.jet=n,this.Qet=i,this.Art(),this.Ys(new cj),this.Kq.Xs(),this.Kq=new uu,this.nrt.Xs(),this.nrt=new uu,this.irt=this.gst([this.irt,this.Zq].filter(U),t,n,i,e,r,s,this.nrt.zs).catch(this.Prt),this.irt)},r.gst=function(t,n,i,e,r,s,u,o){var a,h,c,f,l=this;return jr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,jr.awrap(We.all(t.map(function(t){return t.catch(Z)})));case 2:return this.Brt(),v.next=5,jr.awrap(this.Ort());case 5:return a=[],s&&this.rN&&this.rN.QV&&a.push(this.rN.QV.Vc(0,1/0)),u&&this.rN&&this.rN.ZV&&a.push(this.rN.ZV.Vc(0,1/0)),v.next=10,jr.awrap(We.all(a));case 10:return hu(o),v.next=13,jr.awrap(this.mst(n,i,o));case 13:return this.yst(n,i,r),this.kst(e,r),hu(o),h=n&&i&&dO(n,i),c=[i,h?void 0:n,e].filter(U),v.prev=18,v.next=21,jr.awrap(We.all(c.filter(function(t){return!t.pJ.D3}).map(function(t){var n;return null==(n=l.U0)?void 0:n.c4(t,o)})));case 21:v.next=26;break;case 23:v.prev=23,v.t0=v.catch(18),cu(v.t0);case 26:hu(o),this.hW(),this.Art(),void 0!==this.wrt?this.Mrt(this.wrt):!this._rt&&c.every(function(t){return!t.pJ.d2})?(f=fU(c),this.Mrt(f.WD(1/0))):this.bst.length>0&&this.pst();case 30:case"end":return v.stop()}},null,this,[[18,23]],We)},r.mst=function(t,n,i){var e,r,s,u,o,a,h;return jr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(e=void 0!==t&&t!==n,r=void 0!==n,!this.rN){c.next=7;break}if(s=void 0!==this.rN.QV,u=void 0!==this.rN.ZV,e!==s||r!==u){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,jr.awrap(this.Ast(t,n,this.qet));case 9:for(o=c.sent,hu(i),a=0,h=this.bst;a<h.length;a++)h[a].P8.forEach(function(t){return t.Xs()});if(this.eN.gj(),c.prev=13,!this.rN){c.next=17;break}return c.next=17,jr.awrap(this.eN.I_());case 17:return c.next=19,jr.awrap(this.Tst(o,e,r));case 19:this.rN=c.sent;case 20:return c.prev=20,this.eN.mj(),c.finish(20);case 23:case"end":return c.stop()}},null,this,[[13,,20,23]],We)},r.Ast=function(t,n,i){var e,r,s,u,o,a,h,c,f,l,v,d;return jr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(o=i.XH,a=[],o&&o.UH&&(h='audio/mp4; codecs="'+o.UH+'"',xO.gT(eU,"Configuring MediaSource for initial audio rendition with codec: "+h+"."),a.push(h)),o&&o.MH&&(c='video/mp4; codecs="'+o.MH+'"',xO.gT(eU,"Configuring MediaSource for initial video rendition with codec: "+c+"."),a.push(c)),0!==a.length){w.next=7;break}return xO.v$(eU,"No codecs found on the active variant stream."),w.abrupt("return",void 0);case 7:return f=null!=(e=null==n?void 0:null==(r=n.pJ.Y0[0])?void 0:r.e2)?e:[],l=null!=(s=null==t?void 0:null==(u=t.pJ.Y0[0])?void 0:u.e2)?s:[],v=this.U0.g$,w.next=12,jr.awrap(NL(this.X0.contentProtection,a,v.q3.concat(l).concat(f),this.kE));case 12:return d=w.sent,w.abrupt("return",{us:uA.NE,vW:a.map(function(t){return{Ul:t}}),ON:d});case 14:case"end":return w.stop()}},null,this,null,We)},r.Tst=function(t,n,i){var e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,jr.awrap(this.eN.zc(t));case 3:e=r.sent,r.next=7;break;case 6:e=new vj(this.eN,n,i);case 7:return this.rN=e,this.hW(),this.Vrt(),this.Grt(),r.abrupt("return",e);case 12:case"end":return r.stop()}},null,this,null,We)},r.hW=function(){var t=this.rN;if(t&&p(t.Yg)){var n,i,e,r=null!=(n=null==(i=this.Yet)?void 0:i.pJ.Yg)?n:null==(e=this.jet)?void 0:e.pJ.Yg;void 0!==r&&r>0&&t.aW(r)}this.Art()},r.Vrt=function(){var t=this.rN;t&&(t.ZV&&(t.ZV.sL=this.DC.kL),t.QV&&(t.QV.sL=this.DC.kL))},r.Grt=function(){var t=this.rN;t&&(t.ZV&&(t.ZV.cL=this.DC.cL),t.QV&&(t.QV.cL=this.DC.cL))},r.yst=function(t,n,i){if(!this.rN)throw new l("Invalid state");this.rN.QV?this.$V&&this.$V.J8(this.rN.QV)||(this.$V=new Sj(s_.Ad,this.rN.QV,this.Z8,this.K8)):this.$V=void 0,this.rN.ZV?this.tW&&this.tW.J8(this.rN.ZV)||(this.tW=new Sj(s_.Td,this.rN.ZV,this.Z8,this.K8)):this.tW=void 0;var e,r,s,u,o,a,h,c,f,v,d,w,g,m,y=t&&n&&dO(t,n);if(this.tW&&n){var p=y&&this.$V?[this.tW,this.$V]:[this.tW];this.$et?this.$et.qJ!==n&&(i&&(this.$et.Xs(),this.$et.B8.Ru()),this.$et.i5(n)):(this.$et=(e=n,r=p,this.eN,s=this.U0,u=this.kE,o=this.t4,a=this.K4,h=this.W5,c=this.y8,f=new ij,v=new ZM(s_.Td,e,s,f,u,o,a),d=r.map(function(t){return t.us}),w=c.Sst(e,f,h,d),(g=new aj(v,f,w)).k8(r),g),this.$et.D8.js(GM.W6,this.Rrt),this.$et.C8.js(nj.n8,this.qrt)),this.$et.k8(p)}else{var _;null==(_=this.$et)||_.Bs(),this.$et=void 0}this.$V&&t&&!y?(this.Jet?this.Jet.qJ!==t&&(i&&(this.Jet.Xs(),this.Jet.B8.Ru()),this.Jet.i5(t)):(this.Jet=function(t,n,i,e,r,s,u,o,a){var h=new ij,c=new ZM(s_.Ad,t,e,h,r,s,u),f=a.Sst(t,h,o,[n.us]),l=new aj(c,h,f);return l.k8([n]),l}(t,this.$V,this.eN,this.U0,this.kE,this.t4,this.K4,this.W5,this.y8),this.Jet.C8.js(nj.n8,this.qrt)),this.Jet.k8([this.$V])):(null==(m=this.Jet)||m.Bs(),this.Jet=void 0);this.Est()},r.kst=function(t,n){this.trt&&(this.trt.D8.qJ===t?n&&(this.trt.Xs(),this.trt.B8.Ru()):(this.trt.Bs(),this.trt=void 0));if(!this.trt&&t){var i=this.Uet.get(t.F_);i.K_=Dy.j_,this.trt=function(t,n,i,e,r,s,u){var o=new rj(n,u),a=new ij,h=new ZM(s_.Kn,t,i,a,e,r,s),c=new oj(t,a,u,s_.Kn),f=new aj(h,a,c);return f.b8(o),f}(t,i,this.U0,this.kE,this.t4,this.K4,this.W5)}},r.Est=function(){var t=[this.$V,this.tW].filter(U).map(function(t){return t.us});this.W5.m9(t)},r.ej=function(t,n,i){return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jr.awrap(We.all(t.map(function(t){return t.catch(Z)})));case 2:return hu(i),e.next=5,jr.awrap(this.Ort());case 5:hu(i),this.wrt=void 0,this.mrt=void 0,this._rt=!0,this.eN.Bu(n),this.Het&&this.bst.length>0&&(this.Ist(this.eN.qg),this.pst());case 11:case"end":return e.stop()}},null,this,null,We)},r.Ist=function(t){for(var n=0,i=this.bst;n<i.length;n++){var e=i[n];e.s5(t)||(e.R8(),e.B8.M5()),e.S8(t)||(e.N8(),e.B8.U5())}},r.Brt=function(){for(var t=0,n=this.bst;t<n.length;t++){n[t].Xs()}},r.Ort=function(){return We.all([this.Rst(),this.Nst(),this.Dst()])},r.pst=function(){this.Cst(),this.Pst(),this.Bst()},r.lst=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.Het&&this.bst.length>0)){t.next=6;break}return this.bst.forEach(function(t){return t.R8()}),t.next=4,jr.awrap(this.Rst());case 4:this.Cst(),this.bst.forEach(function(t){return t.D8.f5()});case 6:case"end":return t.stop()}},null,this,null,We)},r.Cst=function(){var t=this;if(!this.art){var n=function(){t.art=void 0};this.rrt=new uu,this.art=this.Ost(this.rrt.zs).catch(this.Prt).then(n,n)}},r.Rst=function(){var t,n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.rrt)||t.Xs(),n=this.art,this.art=void 0,!n){i.next=6;break}return i.next=6,jr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r.Ost=function(t){var n,i,e,r,s,u,o,a,h,c,f;return jr.async(function(l){for(;;)switch(l.prev=l.next){case 0:hu(t),n=this.bst;case 2:for(i=[],e=this.eN.qg,r=0;r<n.length;r++)s=n[r],u=s.D8,o=s.A8(e),u.M4?i.push(u.X4()):s.I8(e,o,this.DC.kL)&&((a=u.u5(o))?(c=a[0],f=a[1],u.g5(c,f,s.N4)):((h=u.qJ.pJ.Y0).length&&h[0].Zy>o&&(this.qg=this.Ry.end(this.Ry.length-1)),u.d5(),u.c5(o)),i.push(u.X4()));if(0!==i.length){l.next=13;break}if(!n.every(function(t){return t.D8.E5})){l.next=9;break}return l.abrupt("break",17);case 9:return l.next=11,jr.awrap(this.eN.uu(Df.Uf,t));case 11:l.next=15;break;case 13:return l.next=15,jr.awrap(lu(We.race(i),t));case 15:l.next=2;break;case 17:case"end":return l.stop()}},null,this,null,We)},r.Pst=function(){var t=this;if(!this.crt){var n=function(){t.crt=void 0};this.urt=new uu,this.crt=this.xst(this.urt.zs).catch(this.Prt).then(n,n)}},r.Nst=function(){var t,n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.urt)||t.Xs(),n=this.crt,this.crt=void 0,!n){i.next=6;break}return i.next=6,jr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r.xst=function(t){var n,i,e,r,s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:hu(t),n=this.bst;case 2:for(i=[],e=0;e<n.length;e++)r=n[e],s=r.D8,(u=r.C8).M4?i.push(u.X4()):(o=s.e5())?"p5"===o.us?(u.c8(o),i.push(u.X4())):"c2"===o.us&&(u.o8(o),i.push(u.X4())):i.push(s.v5());if(0!==i.length){a.next=12;break}if(!n.every(function(t){return t.D8.E5})){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,jr.awrap(this.eN.uu(Df.Uf,t));case 10:a.next=14;break;case 12:return a.next=14,jr.awrap(lu(We.race(i),t));case 14:a.next=2;break;case 16:case"end":return a.stop()}},null,this,null,We)},r.Bst=function(){var t=this;if(!this.hrt){this.ort=new uu;var n=function(){t.hrt=void 0};this.hrt=this.Lst(this.ort.zs).catch(this.Prt).then(n,n)}},r.Dst=function(){var t,n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.ort)||t.Xs(),n=this.hrt,this.hrt=void 0,!n){i.next=6;break}return i.next=6,jr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r.Lst=function(t){var n,i,e,r,s,u,o,a,h,c,f,l,v,d=this;return jr.async(function(w){for(;;)switch(w.prev=w.next){case 0:for((n=this.bst).forEach(function(t){return t.p8()}),i=[],e=[],r=[],s=0;s<n.length;s++)for(u=n[s],o=u.C8,a=0,h=u.P8;a<h.length;a++)c=h[a],f=c.Q4?i:e,c.M4?f.push(c.X4()):c.F4(this.eN.qg)||((l=o.v8(c.us))?"p5"===l.us&&l.l2===this.ert?(c.G4(l),f.push(c.X4())):"w8"===l.us&&l.l2===this.ert&&(c.Vz(l),f.push(c.X4())):r.push(o.l8(c.us)));if(0!==i.length){w.next=15;break}if(!((v=Ks(n,function(t){return t.P8.filter(function(t){return t.Q4}).map(function(n){return t.C8.v8(n.us)})})).length>0&&v.every(function(t){return void 0!==t&&"w8"===t.us&&t.l2!==d.ert}))){w.next=15;break}return w.next=12,jr.awrap(function(){var i,e,r,s,u,o,a,h,c,f;return jr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(e=tu(i=v,function(t){return t.l2}).l2,!i.every(function(t){return t.l2===e})){l.next=20;break}return r=Js(i,function(t){return t.Zy}).Zy,l.next=7,jr.awrap(d.Mst(i));case 7:if(s=l.sent,!d.rN.RX(s)){l.next=15;break}return xO.f$("Discontinuity","Seamless switch from",d.rN.Jc,"to",s),l.next=12,jr.awrap(d.rN.NX(s));case 12:xO.f$("Discontinuity","Seamless switch complete."),l.next=17;break;case 15:return l.next=17,jr.awrap(d.Ust(r,s,t));case 17:d.ert=i[0].l2,l.next=21;break;case 20:for(u=0;u<n.length;u++)for(o=n[u],a=0,h=o.P8;a<h.length;a++)for(c=h[a],f=o.C8.v8(c.us);f&&f.l2!==e;)o.C8.V4(f),f=o.C8.v8(c.us);case 21:return l.abrupt("return","continue");case 22:case"end":return l.stop()}},null,null,null,We)}());case 12:if("continue"!==w.sent){w.next=15;break}return w.abrupt("continue",0);case 15:if(0!==i.length||0!==e.length||0!==r.length){w.next=19;break}return n.every(function(t){return t.P8.length>0&&t.P8.every(function(t){return t.F4(d.eN.qg)})})&&this.rN.hV(),w.abrupt("break",23);case 19:return w.next=21,jr.awrap(lu(We.race([].concat(i,e,r)),t));case 21:w.next=0;break;case 23:case"end":return w.stop()}},null,this,null,We)},r.Mst=function(t){var n,i,e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.map(function(t){return t._8.XH}),i=n.map(function(t){return{Ul:t}}),(e=Ks(t,function(t){return t._8.e2})).push.apply(e,this.U0.g$.q3),r=this.X0.contentProtection,u.next=7,jr.awrap(NL(r,n,e,this.kE));case 7:return 0===(s=u.sent).length&&this.rN&&this.rN.Jc.ON.length>0&&(s=this.rN.Jc.ON),u.abrupt("return",{us:uA.NE,vW:i,ON:s});case 10:case"end":return u.stop()}},null,this,null,We)},r.Ust=function(t,n,i){var e,r,s,u,o,a;return jr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(r=this.rN,s=r.Yg,!(u=this.qg<t)){h.next=19;break}h.prev=4,xO.f$("Discontinuity","Marking end of stream and waiting for ended to switch discontinuity."),r.hV();case 7:if(this.eN.jg||!(this.eN.qg<t)){h.next=12;break}return h.next=10,jr.awrap(this.eN.uu([Df.Uf,Df._f],i));case 10:h.next=7;break;case 12:h.next=19;break;case 14:throw h.prev=14,h.t0=h.catch(4),r.uV(),r.aW(s),h.t0;case 19:return xO.f$("Discontinuity","Perform hard switch from",null==(e=this.rN)?void 0:e.Jc,"to",n),h.prev=20,this.qg<t&&(this.qg=t),this.eN.gj(),this.tW=void 0,this.$V=void 0,this.Est(),h.next=28,jr.awrap(this.eN.I_());case 28:return h.next=30,jr.awrap(this.eN.zc(n));case 30:this.rN=h.sent,this.hW(),this.Vrt(),this.Grt(),this.rN.ZV&&(this.tW=new Sj(s_.Td,this.rN.ZV,this.Z8,this.K8)),this.rN.QV&&(this.$V=new Sj(s_.Ad,this.rN.QV,this.Z8,this.K8)),this.Est();case 37:return h.prev=37,u&&mu(this.eN.Um()),this.eN.mj(),h.finish(37);case 41:this.$et&&(o=void 0!==this.$V&&void 0===this.Jet,a=o?[this.tW,this.$V]:[this.tW],this.$et.k8(a)),this.Jet&&this.Jet.k8([this.$V]),xO.f$("Discontinuity","Hard switch complete.");case 44:case"end":return h.stop()}},null,this,[[4,14],[20,,37,41]],We)},r.Xst=function(t){return lu(yu(Ks(this.bst,function(t){return t.P8.map(function(t){return t.X4()})})),t)},r.Bd=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return xO.gT(eU,"Unloading the player."),this.Fst(),this.$rt(),t.next=5,jr.awrap(this.I_());case 5:return this.eN.CN=void 0,this.Fet.Bd(),t.next=9,jr.awrap(this.cN.Bd());case 9:return t.next=11,jr.awrap(this.Z8.Bd());case 11:return t.next=13,jr.awrap(this.K8.Bd());case 13:this.Rm.Bd(),this.Nm.Bd(),this.Dm.Bd(),this.xet.Bd(),this.Oet.Bs();case 18:case"end":return t.stop()}},null,this,null,We)},r.I_=function(){var t;return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return xO.gT(eU,"Resetting the player."),this.Js(hO.kJ,this.handleBufferingErrorEvent),this.ert=-1,this.Wet.Xs(),this.Wet=new uu,this.bE.Xs(),this.bE=new uu,this.Kq.Xs(),this.Kq=new uu,this.nrt.Xs(),this.nrt=new uu,t=[this.Vet,this.z6,this.Zq,this.irt].filter(U),n.next=14,jr.awrap(We.all(t.map(function(t){return t.catch(Z)})));case 14:return this.Vet=void 0,this.z6=void 0,this.Zq=void 0,this.irt=void 0,this.Yet=void 0,this.jet=void 0,this.Qet=void 0,this.Zet=void 0,this.Ket=[],this.rst(void 0),this.Brt(),n.next=27,jr.awrap(this.Ort());case 27:return this.Jet&&(this.Jet.Bs(),this.Jet=void 0),this.$et&&(this.$et.Bs(),this.$et=void 0),this.trt&&(this.trt.Bs(),this.trt=void 0),this.$V=void 0,this.tW=void 0,this.rN=void 0,this.y8&&(this.y8.Bs(),this.y8=void 0),this.W5&&(this.W5.Bs(),this.W5=void 0),this.U0&&(this.U0.Js("W0",this.z0),this.U0.Js("Y3",this.xrt),this.U0=void 0),this.Get&&(this.Dm.JR(this.Get.Lm),this.Get=void 0),n.next=39,jr.awrap(this.cN.I_());case 39:return n.next=41,jr.awrap(this.Z8.I_());case 41:return n.next=43,jr.awrap(this.K8.I_());case 43:return this.eN.WN(),n.next=46,jr.awrap(this.eN.I_());case 46:this.X0=void 0,this.zet=void 0,this.Het=!1,this.SC=1,this.nW=fE.gC(),this.wrt=void 0,this.grt=void 0,this.mrt=void 0,this._rt=!1,this.yrt=!1,this.xet.I_(),this.Hst(),this.Ys(new wp(this.qg,this.rg));case 59:case"end":return n.stop()}},null,this,null,We)},r.Hst=function(){for(var t=0,n=this.Rm.R_;t<n.length;t++){n[t].Bd()}for(var i=0,e=this.Nm.R_;i<e.length;i++){e[i].Bd()}for(var r=0,s=this.Dm.R_;r<s.length;r++){s[r].Bd()}this.Rm.I_(),this.Nm.I_(),this.Dm.I_(),this.Uet.clear()},r.jrt=function(){this.xet.js(rU,this.qs),this.xet.js(dp.Gg,this.mN),this.xet.js(dp.Wg,this.Drt),this.DC.js("uL",this.zrt),this.DC.js("hL",this.Wrt),this.eN.js(sU,this.qs),this.eN.js(Df.cf,this.handleContentProtectionErrorEvent),this.eN.js(Df.df,this.prt),this.eN.js(Df._f,this.Trt),this.eN.js(Df.Tf,this.Srt),this.eN.js(Df.Sf,this.Ert),this.eN.js(Df.Ef,this.Irt),this.eN.js(dp.l_,this.OE),this.eN.js(Df.Uf,this.MG),this.eN.js(Df.Cf,this.sW),this.eN.js(Df.Df,this.gN),this.eN.js(Df.Xf,this.Nrt)},r.Fst=function(){this.xet.Js(rU,this.qs),this.xet.Js(dp.Gg,this.mN),this.xet.Js(dp.Wg,this.Drt),this.DC.Js("uL",this.zrt),this.DC.Js("hL",this.Wrt),this.eN.Js(sU,this.qs),this.eN.Js(Df.cf,this.handleContentProtectionErrorEvent),this.eN.Js(Df.df,this.prt),this.eN.Js(Df._f,this.Trt),this.eN.Js(Df.Tf,this.Srt),this.eN.Js(Df.Sf,this.Ert),this.eN.Js(Df.Ef,this.Irt),this.eN.Js(dp.l_,this.OE),this.eN.Js(Df.Uf,this.MG),this.eN.Js(Df.Cf,this.sW),this.eN.Js(Df.Df,this.gN),this.eN.Js(Df.Xf,this.Nrt)},T(e,[{key:"Jrt",get:function(){for(var t=[this.Yet,this.jet].filter(U),n=0;n<t.length;n++){var i=t[n];if(!i.pJ.d2)return!1;var e=i.pJ.Y0,r=e[e.length-1];if(r&&r.l2!==this.ert)return!1}return!0}},{key:"jJ",get:function(){return this.qet}},{key:"t$",get:function(){return this.Yet}},{key:"i$",get:function(){return this.jet}},{key:"Hrt",get:function(){return this.Qet}},{key:"Om",get:function(){return this.Rm}},{key:"vy",get:function(){return this.eN.vy.ZN()}},{key:"KJ",get:function(){var t=[];if(this.qet)for(var n=this.eN.qg,i=0,e=this.bst;i<e.length;i++)for(var r=0,s=e[i].P8;r<s.length;r++){var u=s[r].z4(n);u&&!Ys(t,u)&&t.push(u)}return t}},{key:"ly",get:function(){if(this.qet){var t=this.eN.qg;return this.qet.C2(t)}},set:function(t){if(t&&this.qet){var n=this.qet.q0(t);void 0!==n&&(this.qg=n)}}},{key:"qg",get:function(){var t;return null!=(t=this.wrt)?t:this.eN.qg},set:function(t){xO.gT(eU,"Seeking to "+t+" s."),this.wrt=t,this.mrt=!0,this._rt=!0,this.Ys(new Ip(t)),this.Kq.Xs(),this.Mrt(t)}},{key:"Yg",get:function(){var t,n,i,e,r,s,u;return this.Jrt?this.eN.Yg:null!=(t=null!=(n=null!=(i=null==(e=this.Yet)?void 0:e.pJ.Yg)?i:null==(r=this.jet)?void 0:r.pJ.Yg)?n:null==(s=this.U0)?void 0:null==(u=s._4)?void 0:u.pJ.Yg)?t:1/0}},{key:"jg",get:function(){if(!this.Jrt)return!1;if(this.$g){var t,n,i=this.qg,e=null==(t=this.Yet)?void 0:t.pJ.Yg,r=null==(n=this.jet)?void 0:n.pJ.Yg;return!(void 0!==e&&i<e)&&!(void 0!==r&&i<r)}return this.eN.jg}},{key:"wu",get:function(){return this.sN}},{key:"Qg",get:function(){return this.uN}},{key:"Mm",get:function(){}},{key:"_y",get:function(){return!1}},{key:"pm",get:function(){return Fr({},{gy:0,yy:0,by:0,py:0,Ay:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.eN.JN())}},{key:"g$",get:function(){var t;return null==(t=this.U0)?void 0:t.g$}},{key:"Zg",get:function(){return this.eN.Zg},set:function(t){this.eN.Zg=t}},{key:"Sy",get:function(){return this.frt},set:function(t){this.frt!==t&&(this.frt=t,this.Ys(t?new yj:new pj))}},{key:"Kg",get:function(){return this.eN.Kg}},{key:"Jg",get:function(){return this.eN.Jg},set:function(t){xO.gT(eU,"Setting playback rate to "+t+"."),this.eN.Jg=t}},{key:"Ey",get:function(){return this.eN.Ey.ZN()}},{key:"Iy",get:function(){return this.oN},set:function(t){this.oN!==t&&(this.oN=t,this.tst())}},{key:"rg",get:function(){var t=this.eN.rg;return this.yrt&&(t=g.max(Zy.Lg,t)),t}},{key:"Ry",get:function(){return this.nW.ZN()}},{key:"$g",get:function(){var t;return null!=(t=this.mrt)?t:this.eN.$g}},{key:"$N",get:function(){}},{key:"Lm",get:function(){return this.Dm}},{key:"xm",get:function(){return this.Nm}},{key:"tm",get:function(){return this.eN.tm}},{key:"nm",get:function(){return this.eN.nm}},{key:"im",get:function(){return this.eN.im},set:function(t){xO.gT(eU,"Setting volume to "+t+"."),this.eN.im=t}},{key:"Ny",get:function(){return this.lN}},{key:"Dy",get:function(){return!1},set:function(t){}},{key:"tD",get:function(){return this.vN}},{key:"bst",get:function(){return[this.Jet,this.$et,this.trt].filter(U)}}]),e}(Au),hU=function(){function t(){}return t.prototype.iD=function(t,n){return ip(t.type)},t}(),cU=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).pD=n,e}return E(n,t),n.prototype.ust=function(){this.Ys(new Pp(this.qg,this.rg))},T(n,[{key:"rg",get:function(){return this.pD.rg}}]),n}(bA);function fU(t){return t.reduce(function(t,n){return t.YD(n.pJ.Ry)},new fE([0,1/0]))}function lU(t){var n=Vs(t,function(t){return t.AJ}),e=t.filter(function(t){return t.TJ}),r=i.Xr,s=e.map(function(t){return t.V_}).filter(U),u=wj(s,r);return u?Vs(e,function(t){return t.V_===u}):n}function vU(t,n,i){var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,e=n.preferredAudioCodecs;if(void 0!==i){for(var r,s=function(n){var s=i[n],u=t.filter(function(t){return t.XH&&t.XH.MH&&yD(t.XH.MH,s)});if(0===u.length)return"continue";if(void 0===e)return{v:u};void 0===r&&(r=u);var o=dU(u,e);return void 0!==o?{v:o}:void 0},u=0;u<i.length;u++){var o=s(u);if("continue"!==o&&"object"==typeof o)return o.v}if(void 0!==r)return r}if(void 0!==e){var a=dU(t,e);if(void 0!==a)return a}return t}(t,n);switch(i.oL.type){case ZR.BANDWIDTH:var r=i.bL,s=e.filter(function(t){return t.UR<=r});if(s.length>0)return tu(s,function(t){return t.UR});case ZR.PERFORMANCE:return Js(e,function(t){return t.UR});case ZR.QUALITY:return tu(e,function(t){return t.UR})}}function dU(t,n){for(var i=function(i){var e=n[i],r=t.filter(function(t){return t.XH&&t.XH.UH&&yD(t.XH.UH,e)});return 0===r.length?"continue":{v:r}},e=0;e<n.length;e++){var r=i(e);if("continue"!==r&&"object"==typeof r)return r.v}}function wU(t){var n;return null!=(n=lU(t))?n:t[0]}function gU(t){return t.filter(function(t){return t.k$.some(function(t){return t.pJ.P3<i.Je()-oU})||0===t.k$.length})}var mU=function(){function t(){}return t.prototype.J4=function(t,i,e){var r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,jr.awrap(crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]));case 3:return r=u.sent,u.next=6,jr.awrap(crypto.subtle.decrypt({name:"AES-CBC",iv:e},r,t));case 6:return s=u.sent,u.abrupt("return",new _(s));case 10:throw u.prev=10,u.t0=u.catch(0),new ff(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 13:case"end":return u.stop()}},null,null,[[0,10]],We)},t}();function yU(t,n){if(void 0===n.zst)return{UH:void 0,MH:t};if(void 0===n.Vst)return{UH:t,MH:void 0};for(var i=Bc(t),e=_U(i),r=_U(i),s=0;s<i.boxes.length;s++){var u=i.boxes[s];u instanceof lc&&(e.boxes[s]=TU(u,n.Vst),r.boxes[s]=TU(u,n.zst))}var o=e.serialize().join(),a=r.serialize().join();return{UH:o,MH:a}}function pU(t){var n=Vs(t.boxes,CU);if(n){var i=Vs(n.boxes,NU);if(i)return i.handlerType}}function _U(t){var n,i=new Rc;return(n=i.boxes).push.apply(n,t.boxes),i}function bU(t){var n,i=new Xh;return(n=i.boxes).push.apply(n,t.boxes),i}var kU=8;function AU(t,n){for(var i=function(t){var n,i=new tc;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=SU(n),r=0;r<i.boxes.length;r++){var s=i.boxes[r];if(s===n)i.boxes[r]=new dh(new _(n.getSize()-kU));else if(s instanceof Xh){var u=s,o=qs(u.boxes,function(t){return t instanceof Uh&&t.trackId===e});if(o>=0){var a=u.boxes[o],h=bU(u);h.boxes[o]=new dh(new _(a.getSize()-kU)),i.boxes[r]=h}}}return i}function TU(t,n){for(var i=function(t){var n,i=new lc;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=0;e<i.boxes.length;e++){var r=i.boxes[e];if(r instanceof cc){var s=Vs(r.boxes,DU);s&&s.trackId===n&&(i.boxes[e]=new dh(new _(r.getSize()-kU)))}}return i}function SU(t){return Vs(t.boxes,RU).trackId}function EU(t){return t instanceof tc}function IU(t){return t instanceof Kh}function RU(t){return t instanceof Yh||t instanceof Qh}function CU(t){return t instanceof _h}function NU(t){return t instanceof Qa}function DU(t){return t instanceof uc}function PU(t,n,i){var e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,jr.awrap(Wo(t.Xi));case 2:if(e=s.sent,hu(i),void 0!==(r=e?eD(e,n):void 0)){s.next=7;break}throw new l("Mp4Transmuxer - Unable to parse segment or part.");case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,null,null,We)}var xU,BU=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,i,e,r,s)||this).Pw=void 0,u.Wst=void 0,u.Gst=void 0,u.qst=void 0,u.Yst=0,u.jst=0,u.Qst=Xr(),u.Pw=n,u}E(n,t);var e=n.prototype;return e.a8=function(n,i){return t.prototype.a8.call(this,n,i)},e.Zst=function(t){var n;return this.Qst.has(t.l2)?n=this.Qst.get(t.l2):(n=Aj(t.p5.Xi.Xi),this.Qst.set(t.l2,n)),n},e.h8=function(n,e){var r,s,u,o,a,h,c,f,l,v,d,w,g,m,y,p,_,b,k,A;return jr.async(function(T){for(;;)switch(T.prev=T.next){case 0:if(hu(e),s=this.Zst(n),u=n.p5,s===mj.j8||s===mj.Y8){T.next=5;break}return T.abrupt("return",t.prototype.h8.call(this,n,e));case 5:if(o=this.Pw.Kst(),s!==mj.j8){T.next=12;break}return T.next=9,jr.awrap(o.Jst({data:u.Xi.Xi,metadata:this.Wst}));case 9:a=T.sent,T.next=15;break;case 12:return T.next=14,jr.awrap(o.$st({data:u.Xi.Xi,metadata:this.Wst}));case 14:a=T.sent;case 15:if(hu(e),this.f8({UH:a.metadata.audio_codec,MH:a.metadata.video_codec,FH:void 0}),h=sb.Zk(lt.fromBits(a.metadata.first_timestamp_low,a.metadata.first_timestamp_high),a.metadata.first_timestamp_timescale),i.Or.Qe&&(h=h.Lb(ZN)),this.W5.Y5(n.l2)){T.next=25;break}for(c=sb.zb(u.W4.Zy),f=0,l=this.d8;f<l.length;f++)v=l[f],this.W5.f9(n.l2,v,h,c,!0);if(this.W5.Y5(n.l2)){T.next=25;break}return T.next=25,jr.awrap(lu(this.W5.j5(n.l2),e));case 25:if(d=this.W5.h9(h,u.W4),this.Wst=a.metadata,w={H1:n.H1,Zy:u.W4.Zy,Yg:null!=(r=u.W4.Yg)?r:0,cp:d.Bk(),l2:n.l2,qJ:n.qJ,W4:u.W4},void 0!==a.data.audio_media||void 0!==a.data.video_media){T.next=31;break}for(g=0,m=this.d8;g<m.length;g++)y=m[g],p=Fr({us:"p5",Xi:void 0,B5:y},w),this.C5(p);return T.abrupt("return");case 31:void 0!==a.data.audio_media&&(!a.data.audio_init||this.Gst&&this.Yst===n.l2&&qu(this.Gst,a.data.audio_init)||(_={us:"w8",Xi:{us:BN.zX,Xi:a.data.audio_init},B5:s_.Ad,l2:n.l2,_8:{XH:'audio/mp4; codecs="'+a.metadata.audio_codec+'"',e2:u.W4.e2},Zy:u.W4.Zy,qJ:n.qJ,W4:u.W4},this.Gst=a.data.audio_init,this.Yst=n.l2,this.C5(_)),b=Fr({us:"p5",Xi:{us:BN.zX,Xi:a.data.audio_media},B5:s_.Ad},w),this.C5(b)),void 0!==a.data.video_media&&(!a.data.video_init||this.qst&&this.jst===n.l2&&qu(this.qst,a.data.video_init)||(k={us:"w8",Xi:{us:BN.zX,Xi:a.data.video_init},B5:s_.Td,l2:n.l2,_8:{XH:'video/mp4; codecs="'+a.metadata.video_codec+'"',e2:u.W4.e2},Zy:u.W4.Zy,qJ:n.qJ,W4:u.W4},this.qst=a.data.video_init,this.jst=n.l2,this.C5(k)),A=Fr({us:"p5",Xi:{us:BN.zX,Xi:a.data.video_media},B5:s_.Td},w),this.C5(A));case 33:case"end":return T.stop()}},null,this,null,We)},e.Xs=function(){this.Gst=void 0,this.qst=void 0,t.prototype.Xs.call(this)},n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Uz=void 0,n.tut=void 0,n}E(n,t);var i=n.prototype;return i.a8=function(t,n){hu(n);var i=this.qJ.us,e=sD(Wo(t.c2.Xi.Xi));if(!e)throw new l("Mp4Transmuxer - Unable to parse "+i+" MP4 initializer.");this.Uz=e;var r=function(t){for(var n,i,e,r=0,s=t.ZA;r<s.length;r++){var u=s[r];n||(n=u.XH.UH),i||(i=u.XH.MH),e||(e=u.XH.FH)}if(n||i)return{UH:n,MH:i,FH:e};return}(e);r&&this.f8(r);var s=function(t){var n=Bc(t),i=Vs(n.boxes,EU),e=i.boxes.filter(IU),r=Vs(e,function(t){return pU(t)===kh.AUDIO}),s=Vs(e,function(t){return pU(t)===kh.VIDEO}),u={zst:r?SU(r):void 0,Vst:s?SU(s):void 0};if(!r||!s)return{UH:r?t:void 0,MH:s?t:void 0,iE:u};var o=_U(n),a=_U(n),h=n.boxes.indexOf(i);o.boxes[h]=AU(i,s),a.boxes[h]=AU(i,r);var c=o.serialize().join(),f=a.serialize().join();return{UH:c,MH:f,iE:u}}(t.c2.Xi.Xi);if(this.tut=s.iE,s.MH){var u=Vs(e.ZA,function(t){return t.cT===s.iE.Vst}),o={us:"w8",Xi:{us:BN.zX,Xi:s.MH},B5:s_.Td,l2:t.l2,_8:{XH:'video/mp4; codecs="'+u.XH.MH+'"',e2:t.e2},Zy:t.Zy,qJ:this.qJ,W4:t.c2.W4};this.C5(o)}if(s.UH){var a=Vs(e.ZA,function(t){return t.cT===s.iE.zst}),h={us:"w8",Xi:{us:BN.zX,Xi:s.UH},B5:s_.Ad,l2:t.l2,_8:{XH:'audio/mp4; codecs="'+a.XH.UH+'"',e2:t.e2},Zy:t.Zy,qJ:this.qJ,W4:t.c2.W4};this.C5(h)}return We.resolve()},i.h8=function(t,n){var i,e,r,s,u,o,a,h,c,f,l,v,d,w;return jr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(hu(n),e=t.p5.W4,r=this.qJ.us,xO.gT("Mp4Transmuxer","Got media data, transmuxing for "+r+" track: "+mL(e.NJ)),s=t.p5.Xi,this.W5.Y5(t.l2)){g.next=14;break}return g.next=8,jr.awrap(PU(s,this.Uz,n));case 8:for(u=g.sent,o=sb.zb(e.Zy),a=0,h=this.d8;a<h.length;a++)c=h[a],this.W5.f9(t.l2,c,u,o,!1);if(this.W5.Y5(t.l2)){g.next=14;break}return g.next=14,jr.awrap(lu(this.W5.j5(t.l2),n));case 14:f=this.W5.J5(t.l2),l={H1:t.H1,Zy:e.Zy,Yg:null!=(i=e.Yg)?i:0,cp:f.Bk(),l2:t.l2,qJ:t.qJ,W4:t.p5.W4},(v=yU(s.Xi,this.tut)).MH&&(d=Fr({us:"p5",Xi:{us:BN.zX,Xi:v.MH},B5:s_.Td},l),this.C5(d)),v.UH&&(w=Fr({us:"p5",Xi:{us:BN.zX,Xi:v.UH},B5:s_.Ad},l),this.C5(w));case 19:case"end":return g.stop()}},null,this,null,We)},n}(uj)),OU=function(){function t(){}return t.prototype.Sst=function(t,n,i,e){return new BU(this,t,n,i,e)},t}();!function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(xU||(xU={}));var LU=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return E(n,t),n}(Su),MU=["message","messageerror","error"],jU=function(t){function n(n){var i;return(i=t.call(this,Py.Q_)||this).error=n,i}return E(n,t),n}(Su),FU=function(t){function n(n){var i;return(i=t.call(this)||this).nut=void 0,i.iut=void 0,i.eut=[],i.rut=function(t){if(i.sut)t.uut();else{i.nut=t,i.nut.js(MU,i.qs);for(var n=0,e=i.eut;n<e.length;n++){var r=e[n];t.out(r.fu,r.aut)}Zs(i.eut)}},i.cut=function(t){if(!i.sut){var n=t instanceof l?t:new l("Could not create Worker.");i.Ys(new jU(n)),i.uut()}},i.iut=new uu,n(i.iut.zs).then(i.rut,i.cut),i}E(n,t);var i=n.prototype;return i.out=function(t,n){this.sut||(void 0!==this.nut?this.nut.out(t,n):this.eut.push({fu:t,aut:n}))},i.uut=function(){this.sut||(this.iut.Xs(),Zs(this.eut),void 0!==this.nut&&this.nut.uut())},T(n,[{key:"sut",get:function(){return this.iut.zs.Rs}}]),n}(Au);var UU=function(t){function n(n){var i;return(i=t.call(this)||this).nut=void 0,i.hut=function(t){i.Ys(new LU("message",t.data))},i.fut=function(t){i.Ys(new LU("messageerror",t.data))},i.xY=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof l?t.error:new l(t.message);i.Ys(new jU(n)),i.uut()},i.nut=new b(n),i.nut.addEventListener("message",i.hut),i.nut.addEventListener("messageerror",i.fut),i.nut.addEventListener("error",i.xY),i}E(n,t);var i=n.prototype;return i.out=function(t,n){n?this.nut.postMessage(t,n):this.nut.postMessage(t)},i.uut=function(){this.Ks(),this.nut.removeEventListener("message",this.hut),this.nut.removeEventListener("messageerror",this.fut),this.nut.removeEventListener("error",this.xY),this.nut.terminate()},n}(Au),HU=0,XU="iframe.html",zU=function(n){function e(e,r){var u;(u=n.call(this)||this).Nc=void 0,u.vut=void 0,u.lut=void 0,u.wut=void 0,u._ut=function(){u.lut.removeEventListener("load",u._ut),u.lut.contentWindow.postMessage({type:"initialize",id:u.Nc,script:u.vut},"*")},u.gut=function(t){t.origin===u.wut&&t.data.id===u.Nc&&("initialized"===t.data.type||("error"===t.data.type?(u.Ys(new jU(new l(t.data.data.message))),u.uut()):u.Ys(new LU("message",t.data.data))))},u.Nc=HU++,u.vut=e;var o,a,h=i.Cr(XU,r);return u.lut=(o=h.href,(a=s.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,s.body.appendChild(a),a),u.wut=h.origin,u.lut.addEventListener("load",u._ut),t.addEventListener("message",u.gut),u}E(e,n);var r=e.prototype;return r.out=function(t,n){n?this.lut.contentWindow.postMessage({type:"message",data:t},"*",n):this.lut.contentWindow.postMessage({type:"message",data:t},"*")},r.uut=function(){var n;this.lut.removeEventListener("load",this._ut),t.removeEventListener("message",this.gut),null==(n=this.lut.contentWindow)||n.postMessage({type:"terminate"},"*"),tr(this.lut)},e}(Au);function VU(t,n){return t=i.Pr(t,n),new FU(function(e){return function(t,n,e){var r,s,u,o,a,h,c,f;return jr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,r=new UU(t),l.next=4,jr.awrap(qU(r,e));case 4:return l.abrupt("return",r);case 7:l.prev=7,l.t0=l.catch(0),null==(s=r)||s.uut(),cu(l.t0);case 11:if(!WU||!Cf){l.next=42;break}return l.prev=12,l.next=15,jr.awrap(i.qw.ed({ud:t,Ed:eg.GET,Jl:Pf.Kn,zs:e}));case 15:return o=l.sent,l.next=18,jr.awrap(o.Ol(e));case 18:u=l.sent,l.next=24;break;case 21:l.prev=21,l.t1=l.catch(12),cu(l.t1);case 24:if(!u){l.next=42;break}return l.prev=25,h=Cf([u],{type:"application/javascript"}),a=URL.createObjectURL(h),r=new UU(a),l.next=31,jr.awrap(qU(r,e));case 31:return l.abrupt("return",r);case 34:l.prev=34,l.t2=l.catch(25),null==(c=r)||c.uut(),cu(l.t2),WU=!1;case 39:return l.prev=39,a&&URL.revokeObjectURL(a),l.finish(39);case 42:return l.prev=42,r=new zU(t,n),l.next=46,jr.awrap(qU(r,e));case 46:return l.abrupt("return",r);case 49:throw l.prev=49,l.t3=l.catch(42),null==(f=r)||f.uut(),l.t3;case 53:case"end":return l.stop()}},null,null,[[0,7],[12,21],[25,34,39,42],[42,49]],We)}(t,n,e)})}var WU=!0;function qU(t,i){var e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,jr.awrap(t.uu(["message","error"],i));case 2:if("error"!==(e=r.sent).type){r.next=5;break}throw u=e.error,new ff(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",u);case 5:if(W(s=e.data)&&"4.1.1"===s.mut){r.next=7;break}throw new ff(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (4.1.1).");case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}var s,u},null,null,null,We)}var GU=function(){function t(t){var e=this;this.yut=void 0,this.kut=void 0,this.but=void 0,this.nut=void 0,this.Aut=0,this.Tut=Xr(),this.Sut=0,this.Eut=function(t){var n=t.data;if(void 0!==n.requestId){var i=e.Tut.get(n.requestId);if(!i)return;e.Tut.delete(n.requestId),n.success?(i.Hu(n.output),e.Iut()):i.Vu(new ff(n.errorCode,n.error))}else n.success||e.Bs(new ff(n.errorCode,n.error))},this.ww=function(t){var i=new ff(n.ErrorCode.MEDIA_DECODE_ERROR,t.error.message,t.error);e.Bs(i)},this.yut=t,this.but=function(){if("undefined"==typeof WebAssembly)return!1;var t=M.wn;return!(t>0&&t<=56)}();var r=this.but?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.kut=i.Pr(r,t)}catch(t){throw new ff(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.nut=this.Rut()}var e=t.prototype;return e.Jst=function(t){return this.Nut(xU.MPEGTS_TO_FMP4,t)},e.$st=function(t){return this.Nut(xU.RAW_AUDIO_TO_FMP4,t)},e.Rut=function(){var t=VU(this.kut,this.yut);return t.js("message",this.Eut),t.js("error",this.ww),t},e.Iut=function(){this.but||this.Tut.size>0||this.Sut<10||(this.nut&&this.nut.uut(),this.nut=this.Rut(),this.Sut=0)},e.Nut=function(t,n){var i=++this.Aut;this.Sut+=1;var e={type:t,id:i,input:n},r=new ta;return this.Tut.set(i,r),this.nut.out(e,[n.data.buffer]),r.Uu},e.Bs=function(t){void 0===t&&(t=new ou),this.Tut.forEach(function(n){return n.Vu(t)}),this.Tut.clear(),this.nut.uut()},t}(),$U=function(t){function n(n){var i;return(i=t.call(this)||this).nut=void 0,i.Dut=n,i}E(n,t);var i=n.prototype;return i.Kst=function(){var t;return null!=(t=this.nut)?t:this.nut=new GU(this.Dut)},i.Bs=function(){this.nut&&(this.nut.Bs(),this.nut=void 0)},n}(OU),YU=function(){function t(t){this.Dut=t}return t.prototype.mK=function(){return new $U(this.Dut)},t}(),QU=function(){function t(t){this.FR=void 0,this.FR=t}var n=t.prototype;return n.NN=function(t){return this.FR.NN(t)},n.sJ=function(t){return this.FR.sJ(t)},n.YN=function(t){return this.FR.YN(t)},t}(),ZU=function(t){function n(n){var i;return(i=t.call(this)||this).eN=void 0,i.rN=void 0,i.Cut=new Uy,i.Put=function(t){return i.iy(t)},i.eN=n,i.Cut.x_=n.Lm,i.eN.js(EN,i.Put),i}E(n,t);var i=n.prototype;return i.NL=function(){return this.eN.vy},i.CL=function(){return this.eN.ly},i.BL=function(){return this.eN.qg},i.xL=function(){return this.eN.Yg},i.But=function(){return this.eN.$N},i.Out=function(){return this.eN.jg},i.xut=function(){return this.eN.Kg},i.YL=function(){return this.eN.Ey},i.ZL=function(){return this.eN.rg},i.KL=function(){return this.eN.Ry},i.JL=function(){return this.eN.$g},i.$L=function(){return this.Cut},i.Kj=function(){return this.eN.NU},i.Lut=function(){return this.eN.CN},i.Mut=function(t){this.eN.CN=t},i.Uut=function(){return this.eN.Oq},i.JN=function(){return this.eN.JN()},i.Um=function(){return this.eN.Um()},i.Xm=function(){this.eN.Xm()},i.Bu=function(t,n){this.eN.Bu(t,n)},i.KN=function(t){this.eN.KN(t)},i.Qm=function(){this.eN.Qm()},i.Zm=function(){this.eN.Zm()},i.AE=function(t,n,i,e,r,s,u){return this.eN.AE(t,n,i,e,r,s,u)},i.XN=function(){return this.eN.XN()},i.HN=function(t,n,i,e){return this.eN.HN(t,n,i,e)},i.EE=function(t){this.eN.EE(t)},i.WN=function(){this.eN.WN()},i.LX=function(t){return this.eN.LX(t)},i.zc=function(t){var n,i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jr.awrap(this.eN.zc(t));case 2:return n=e.sent,i=t.us===uA.RE?this.Xut(n):this.Fut(n),this.rN=i,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,this,null,We)},i.I_=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.rN){t.next=4;break}return t.next=3,jr.awrap(this.rN.Bs());case 3:this.rN=void 0;case 4:return t.next=6,jr.awrap(this.eN.I_());case 6:case"end":return t.stop()}},null,this,null,We)},i.gj=function(){this.eN.gj()},i.mj=function(){this.eN.mj()},i.Bs=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ks(),this.eN.Js(EN,this.Put),this.Cut.x_=void 0,this.Cut.Bd(),!this.rN){t.next=8;break}return t.next=7,jr.awrap(this.rN.Bs());case 7:this.rN=void 0;case 8:case"end":return t.stop()}},null,this,null,We)},i.yj=function(){this.eN.yj()},i.Hut=function(t){this.eN.Js(EN,this.Put),this.eN=t,this.Cut.x_=t.Lm,this.eN.js(EN,this.Put)},i.iy=function(t){this.Ys(t)},T(n,[{key:"zut",get:function(){return this.eN}},{key:"vy",get:function(){return this.NL()}},{key:"ly",get:function(){return this.CL()}},{key:"qg",get:function(){return this.BL()}},{key:"IU",get:function(){return this.eN.IU}},{key:"Yg",get:function(){return this.xL()}},{key:"$N",get:function(){return this.But()}},{key:"jg",get:function(){return this.Out()}},{key:"wu",get:function(){return this.eN.wu}},{key:"vT",get:function(){return this.eN.vT}},{key:"Ck",get:function(){return this.eN.Ck}},{key:"VN",get:function(){return this.eN.VN}},{key:"Zg",get:function(){return this.eN.Zg},set:function(t){this.eN.Zg=t}},{key:"Kg",get:function(){return this.xut()}},{key:"Jg",get:function(){return this.eN.Jg},set:function(t){this.eN.Jg=t}},{key:"Ey",get:function(){return this.YL()}},{key:"rg",get:function(){return this.ZL()}},{key:"Ry",get:function(){return this.KL()}},{key:"$g",get:function(){return this.JL()}},{key:"Lm",get:function(){return this.$L()}},{key:"NU",get:function(){return this.Kj()}},{key:"Aj",get:function(){return this.eN.Aj}},{key:"im",get:function(){return this.eN.im},set:function(t){this.eN.im=t}},{key:"bj",get:function(){return this.eN.bj}},{key:"_y",get:function(){return this.eN._y}},{key:"Tj",get:function(){return this.eN.Tj}},{key:"CN",get:function(){return this.Lut()},set:function(t){this.Mut(t)}},{key:"Oq",get:function(){return this.Uut()}}]),n}(Au),KU=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.pj=function(t){this.eN.pj(t)},i.QY=function(){this.eN.QY()},i.oy=function(){this.eN.oy()},T(n,[{key:"DN",get:function(){return this.eN.DN}},{key:"kW",get:function(){return this.eN.kW}},{key:"Dy",get:function(){return this.eN.Dy},set:function(t){this.eN.Dy=t}}]),n}(ZU),JU=function(){function t(t){this.rN=void 0,this.rN=t}var n=t.prototype;return n.oh=function(){return this.rN.Jc},n.KL=function(){return this.rN.Ry},n.RX=function(t){return this.rN.RX(t)},n.NX=function(t){return this.rN.NX(t)},n.Bs=function(){return We.resolve()},T(t,[{key:"Jc",get:function(){return this.oh()}},{key:"Ry",get:function(){return this.KL()}},{key:"xm",get:function(){return this.rN.xm}}]),t}(),tH=function(t){function n(n){var i;return(i=t.call(this,n)||this).$V=void 0,i.tW=void 0,i.Vut=function(t){return i.Wut(t)},i}E(n,t);var i=n.prototype;return i.NL=function(){return this.rN.vy},i.xL=function(){return this.rN.Yg},i.Gut=function(){return this.rN.MX},i.aW=function(t){this.rN.aW(t)},i.fW=function(t,n,i,e){this.rN.fW(t,n,i,e)},i.hV=function(){this.rN.hV()},i.uV=function(){this.rN.uV()},i.Bs=function(){return this.$V&&(this.$V.Bs(),this.$V=void 0),this.tW&&(this.tW.Bs(),this.tW=void 0),t.prototype.Bs.call(this)},i.qut=function(t){this.rN=t,this.$V?t.QV?this.$V.U4(t.QV):(this.$V.Bs(),this.$V=void 0):t.QV&&(this.$V=this.Yut(t.QV),this.$V.js(LN,this.Vut)),this.tW?t.ZV?this.tW.U4(t.ZV):(this.tW.Bs(),this.tW=void 0):t.ZV&&(this.tW=this.Yut(t.ZV),this.tW.js(LN,this.Vut))},i.Wut=function(t){},T(n,[{key:"QV",get:function(){return this.$V}},{key:"ZV",get:function(){return this.tW}},{key:"vy",get:function(){return this.NL()}},{key:"Yg",get:function(){return this.xL()}},{key:"MX",get:function(){return this.Gut()}}]),n}(JU),nH=function(t){function n(n){var i;return(i=t.call(this)||this).Rh=void 0,i.lL=0,i.dL=0,i.Rh=n,i}E(n,t);var i=n.prototype;return i.Fz=function(t,n,i){return We.reject(new l("Invalid media buffer"))},i.mV=function(){return We.reject(new l("Invalid media buffer"))},i.Vz=function(t,n,i){return We.reject(new l("Invalid media buffer"))},i.MX=function(){return!1},i.hV=function(){},i._V=function(t,n){},i.gV=function(t,n){},i.Vc=function(t,n,i){return We.resolve()},i.Jz=function(t,n){return We.reject(new l("Invalid media buffer"))},i.Xy=function(t,n){return We.reject(new l("Invalid media buffer"))},i.RX=function(t){return!1},i.NX=function(t){return We.reject(new l("Invalid media buffer"))},i.Bs=function(){this.Ks()},T(n,[{key:"cL",get:function(){return this.dL},set:function(t){this.dL=t}},{key:"vy",get:function(){return fE.gC()}},{key:"Jc",get:function(){return this.Rh}},{key:"bV",get:function(){return s_.hd}},{key:"pV",get:function(){return fE.gC()}},{key:"jut",get:function(){return!1}},{key:"sL",get:function(){return this.lL},set:function(t){this.lL=t}}]),n}(Au),iH=function(t){function n(n){var i;return(i=t.call(this,n)||this).eN=void 0,i}E(n,t);var i=n.prototype;return i.Fz=function(t,n,i){return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return hu(i),e.next=3,jr.awrap(this.Qut(this.eN.qg,null==n?void 0:n.i9,null==n?void 0:n.Yg));case 3:if(hu(i),t.us!==BN.Gf){e.next=10;break}return e.next=7,jr.awrap(this.Zut(t,n,i));case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,jr.awrap(this.Kut(t,n,i));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},null,this,null,We)},i.Zut=function(t,n,i){var e,r,s,u;return jr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=t;case 1:return r=Uw(e.Xi),s=r[0],u=r[1],e={us:BN.Gf,Xi:s},o.prev=4,o.next=7,jr.awrap(this.Jut(e,n,i));case 7:return u.cancel(new ou).catch(Z),o.abrupt("return");case 11:if(o.prev=11,o.t0=o.catch(4),!uC(o.t0)){o.next=20;break}return o.next=16,jr.awrap(this.Qut(this.eN.qg,n.i9,n.Yg,i));case 16:if(!o.sent){o.next=20;break}return e={us:BN.Gf,Xi:u},o.abrupt("continue",1);case 20:throw u.cancel(o.t0).catch(Z),o.t0;case 22:o.next=1;break;case 24:case"end":return o.stop()}},null,this,[[4,11]],We)},i.Kut=function(t,n,i){return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,hu(i),e.next=5,jr.awrap(this.Jut(t,n,i));case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(1),!uC(e.t0)){e.next=16;break}return e.next=13,jr.awrap(this.Qut(this.eN.qg,n.i9,n.Yg,i));case 13:if(!e.sent){e.next=16;break}return e.abrupt("continue",0);case 16:throw e.t0;case 17:e.next=0;break;case 19:case"end":return e.stop()}},null,this,[[1,8]],We)},i.Qut=function(t,n,i,e){var r,s,u,o,a;return jr.async(function(h){for(;;)switch(h.prev=h.next){case 0:r=sC(t,n,i,this.vy,this.sL,this.cL),s=0;case 2:if(!(s<r.length)){h.next=9;break}return u=r[s],o=u[0],a=u[1],h.next=6,jr.awrap(this.$ut(o,a,e));case 6:s++,h.next=2;break;case 9:return h.abrupt("return",r.length>0);case 10:case"end":return h.stop()}},null,this,null,We)},i.Jut=function(n,i,e){return t.prototype.Fz.call(this,n,i,e)},i.$ut=function(n,i,e){return t.prototype.Vc.call(this,n,i,e)},T(n,[{key:"rJ",get:function(){return this.eN},set:function(t){this.eN=t}}]),n}(function(t){function n(n){var i;return(i=t.call(this)||this).m4=void 0,i.tot=function(t){return i.iy(t)},i.m4=n,i.m4.js(LN,i.tot),i}E(n,t);var i=n.prototype;return i.iot=function(){return this.m4.cL},i.eot=function(t){this.m4.cL=t},i.NL=function(){return this.m4.vy},i.oh=function(){return this.m4.Jc},i.rot=function(){return this.m4.pV},i.uot=function(){return this.m4.sL},i.oot=function(t){this.m4.sL=t},i.Fz=function(t,n,i){return this.m4.Fz(t,n,i)},i.mV=function(){return this.m4.mV()},i.Vz=function(t,n,i){return this.m4.Vz(t,n,i)},i.MX=function(){return this.m4.MX()},i.hV=function(){this.m4.hV()},i._V=function(t,n){this.m4._V(t,n)},i.gV=function(t,n){this.m4.gV(t,n)},i.Vc=function(t,n,i){return this.m4.Vc(t,n,i)},i.Jz=function(t,n){return this.m4.Jz(t,n)},i.RX=function(t){return this.m4.RX(t)},i.NX=function(t){return this.m4.NX(t)},i.iy=function(t){this.Ys(t)},i.Bs=function(){this.Ks(),this.U4(new nH(this.Jc))},i.U4=function(t){this.m4.Js(LN,this.tot),this.m4=t,this.m4.js(LN,this.tot)},T(n,[{key:"cL",get:function(){return this.iot()},set:function(t){this.eot(t)}},{key:"vy",get:function(){return this.NL()}},{key:"Jc",get:function(){return this.oh()}},{key:"bV",get:function(){return this.m4.bV}},{key:"pV",get:function(){return this.rot()}},{key:"sL",get:function(){return this.uot()},set:function(t){this.oot(t)}}]),n}(Au)),eH=function(t){function n(n){var i;return(i=t.call(this,n)||this).eN=void 0,i.qut(n),i}return E(n,t),n.prototype.Yut=function(t){var n=new iH(t);return n.rJ=this.eN,n},T(n,[{key:"rJ",get:function(){return this.eN},set:function(t){this.eN=t,this.$V&&(this.$V.rJ=t),this.tW&&(this.tW.rJ=t)}}]),n}(tH),rH=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"Iy",get:function(){return this.rN.Iy},set:function(t){this.rN.Iy=t}}]),n}(JU),sH=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.pj=function(t){this.eN.pj(t)},i.QY=function(){this.eN.QY()},i.oy=function(){this.eN.oy()},i.Km=function(){return this.eN.Km()},T(n,[{key:"DN",get:function(){return this.eN.DN}},{key:"kW",get:function(){return this.eN.kW}},{key:"nm",get:function(){return this.eN.nm}},{key:"tm",get:function(){return this.eN.tm}},{key:"Dy",get:function(){return this.eN.Dy},set:function(t){this.eN.Dy=t}}]),n}(ZU),uH=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.Fut=function(t){var n=new eH(t);return n.rJ=this,n},i.Xut=function(t){return new rH(t)},T(n,[{key:"zut",get:function(){return this.eN}}]),n}(KU),oH=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.Fut=function(t){var n=new eH(t);return n.rJ=this,n},i.Xut=function(t){return new rH(t)},T(n,[{key:"zut",get:function(){return this.eN}}]),n}(sH),aH=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.NN=function(n){return n===s_.Td?new oH(t.prototype.NN.call(this,n)):n===s_.Ad?new uH(t.prototype.NN.call(this,n)):void 0},i.YN=function(n){var i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n,e.next=3,jr.awrap(i.Bs());case 3:return e.next=5,jr.awrap(t.prototype.YN.call(this,i.zut));case 5:case"end":return e.stop()}},null,this,null,We)},n}(QU);function hH(t){return lg(t)}function cH(t,n){var i=lg(t);return n?""+i+n:""+i}var fH=function(){function t(t,n,i,e){this.aot=t,this.cot=n,this.hot=i,this.fot=e}var n=t.prototype;return n.v4=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,jr.awrap(this.aot.vot(t.map(hH)));case 2:return n=i.sent,i.abrupt("return",n.shift());case 4:case"end":return i.stop()}},null,this,null,We)},n.wst=function(t,n){var i=cH(t,n);return this.cot.Tu(i)},n.u6=function(t,n){var i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=cH(t,n),r.next=3,jr.awrap(this.hot.Su(e));case 3:if(r.t0=i=r.sent,null!=r.t0){r.next=8;break}r.t1=void 0,r.next=9;break;case 8:r.t1=i.data;case 9:return r.abrupt("return",r.t1);case 10:case"end":return r.stop()}},null,this,null,We)},n.HM=function(t){return this.fot.Su(t)},t}(),lH=function(){function t(){}var n=t.prototype;return n.lot=function(t){return We.resolve(!1)},n.dot=function(t){return We.reject(vH)},n.wot=function(t){return We.reject(vH)},n.Tu=function(t){return We.resolve(!1)},n.Su=function(t){return We.resolve(void 0)},n._ot=function(t,n){return We.resolve(void 0)},n.vot=function(t){return We.resolve([])},n.got=function(){return We.resolve([])},n.mot=function(t){return We.resolve([])},n.yot=function(t,n){return We.resolve([])},n.Vc=function(t){return We.reject(vH)},n.kot=function(t){return We.reject(vH)},n.bot=function(){return We.reject(vH)},t}(),vH="Storage disabled",dH=function(){function t(){this.pot=void 0,this.Y0=void 0,this.Aot=void 0,this.Tot=void 0,this.Sot=void 0,this.pot=new lH,this.Y0=new lH,this.Aot=new lH,this.Tot=new lH,this.Sot=new lH}return t.mK=function(){return We.resolve(new t)},t.prototype.Eot=function(t){return We.reject(wH)},t}(),wH="Storage disabled",gH=function(){function t(t){var n=this;this.Us=new ta,this.Iot=void 0,this.Us.Hu(t),this.Us.Uu.then(function(t){n.Iot=t})}var n=t.prototype;return n.lot=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Iot,i.t0){i.next=5;break}return i.next=4,jr.awrap(this.Rot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.lot(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.dot=function(t,n){var i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Iot,e.t0){e.next=5;break}return e.next=4,jr.awrap(this.Rot);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.dot(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.wot=function(t,n){var i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Iot,e.t0){e.next=5;break}return e.next=4,jr.awrap(this.Rot);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.wot(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.Tu=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Iot,i.t0){i.next=5;break}return i.next=4,jr.awrap(this.Rot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Tu(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Su=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Iot,i.t0){i.next=5;break}return i.next=4,jr.awrap(this.Rot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Su(t));case 7:case"end":return i.stop()}},null,this,null,We)},n._ot=function(t,n){var i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Iot,e.t0){e.next=5;break}return e.next=4,jr.awrap(this.Rot);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i._ot(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.vot=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Iot,i.t0){i.next=5;break}return i.next=4,jr.awrap(this.Rot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.vot(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.got=function(){var t;return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.Iot,n.t0){n.next=5;break}return n.next=4,jr.awrap(this.Rot);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.got());case 7:case"end":return n.stop()}},null,this,null,We)},n.mot=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Iot,i.t0){i.next=5;break}return i.next=4,jr.awrap(this.Rot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.mot(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.yot=function(t,n){var i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Iot,e.t0){e.next=5;break}return e.next=4,jr.awrap(this.Rot);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.yot(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.Vc=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Iot,i.t0){i.next=5;break}return i.next=4,jr.awrap(this.Rot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Vc(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.kot=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Iot,i.t0){i.next=5;break}return i.next=4,jr.awrap(this.Rot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.kot(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.bot=function(){var t;return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.Iot,n.t0){n.next=5;break}return n.next=4,jr.awrap(this.Rot);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.bot());case 7:case"end":return n.stop()}},null,this,null,We)},T(t,[{key:"Rot",get:function(){return this.Us.Uu}}]),t}(),mH=function(){function t(t){var n=this;this.Us=new ta,this.Not=void 0,this.Y0=void 0,this.pot=void 0,this.Aot=void 0,this.Tot=void 0,this.Sot=void 0,this.Us.Hu(t);var i=this.Us.Uu;i.then(function(t){n.Not=t}),this.Y0=new gH(i.then(function(t){return t.Y0})),this.pot=new gH(i.then(function(t){return t.pot})),this.Aot=new gH(i.then(function(t){return t.Aot})),this.Tot=new gH(i.then(function(t){return t.Tot})),this.Sot=new gH(i.then(function(t){return t.Sot}))}return t.prototype.Eot=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Not,i.t0){i.next=5;break}return i.next=4,jr.awrap(this.Dot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.next=8,jr.awrap(n.Eot(t));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},null,this,null,We)},T(t,[{key:"Dot",get:function(){return this.Us.Uu}}]),t}();function yH(t){return new l("This storage cannot handle persistency type "+t)}var pH=function(){function t(){this.Uo=[]}var n=t.prototype;return n.lot=function(t){return We.resolve("temporary"===t)},n.dot=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?We.reject(yH(n)):(this.Cot(t.key),this.Uo.push(t),We.resolve())},n.wot=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return We.reject(yH(n));for(var i=0;i<t.length;i++){var e=t[i];this.Cot(e.key)}for(var r=0;r<t.length;r++){var s=t[r];this.Uo.push(s)}return We.resolve()},n.Tu=function(t){return We.resolve(Boolean(this.Pot(t)))},n.Su=function(t){return We.resolve(this.Pot(t))},n._ot=function(t,n){return We.resolve(this.Bot(t,n))},n.vot=function(t){var n=this,i=t?t.map(function(t){return n.Pot(t)}):this.Uo;return We.resolve(i.filter(U))},n.got=function(){return We.resolve([].concat(this.Uo))},n.mot=function(t){return this.yot(t,"key")},n.yot=function(t,n){var i=this.Uo.filter(function(i){return i[n]===t});return We.resolve(i)},n.Vc=function(t){return this.Cot(t),We.resolve()},n.kot=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Cot(i)}return We.resolve()},n.bot=function(){return Zs(this.Uo),We.resolve()},n.Pot=function(t){return this.Bot(t,"key")},n.Bot=function(t,n){for(var i=0,e=this.Uo;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.Cot=function(t){var n=this.Pot(t);n&&Gs(this.Uo,n)},t}(),_H=function(){function t(){this.pot=void 0,this.Y0=void 0,this.Aot=void 0,this.Tot=void 0,this.Sot=void 0,this.pot=new pH,this.Y0=new pH,this.Aot=new pH,this.Tot=new pH,this.Sot=new pH}return t.mK=function(){return We.resolve(new t)},t.prototype.Eot=function(t){return t(this)},t}(),bH=function(){function t(t){this.Oot=t}var n=t.prototype;return n.lot=function(t){var n,i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Oot;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,jr.awrap(e.lot(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,We)},n.dot=function(t,n){var i,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.Oot;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,jr.awrap(r.lot(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.dot(t));case 8:i++,s.next=2;break;case 11:throw yH(n);case 12:case"end":return s.stop()}},null,this,null,We)},n.wot=function(t,n){var i,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.Oot;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,jr.awrap(r.lot(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.wot(t));case 8:i++,s.next=2;break;case 11:throw yH(n);case 12:case"end":return s.stop()}},null,this,null,We)},n.Tu=function(t){var n,i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Oot;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,jr.awrap(e.Tu(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,We)},n.Su=function(t){var n,i,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=0,i=this.Oot;case 1:if(!(n<i.length)){s.next=11;break}return e=i[n],s.next=5,jr.awrap(e.Su(t));case 5:if(!(r=s.sent)){s.next=8;break}return s.abrupt("return",r);case 8:n++,s.next=1;break;case 11:return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},null,this,null,We)},n._ot=function(t,n){var i,e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.Oot;case 1:if(!(i<e.length)){u.next=11;break}return r=e[i],u.next=5,jr.awrap(r._ot(t,n));case 5:if(!(s=u.sent)){u.next=8;break}return u.abrupt("return",s);case 8:i++,u.next=1;break;case 11:return u.abrupt("return",void 0);case 12:case"end":return u.stop()}},null,this,null,We)},n.vot=function(t){var n,i,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.Oot;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,jr.awrap(r.vot(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,We)},n.got=function(){var t,n,i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0,i=this.Oot;case 2:if(!(n<i.length)){r.next=13;break}return e=i[n],r.t0=t.push,r.t1=t,r.next=8,jr.awrap(e.got());case 8:r.t2=r.sent,r.t0.apply.call(r.t0,r.t1,r.t2);case 10:n++,r.next=2;break;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},null,this,null,We)},n.mot=function(t){var n,i,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.Oot;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,jr.awrap(r.mot(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,We)},n.yot=function(t,n){var i,e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],e=0,r=this.Oot;case 2:if(!(e<r.length)){u.next=13;break}return s=r[e],u.t0=i.push,u.t1=i,u.next=8,jr.awrap(s.yot(t,n));case 8:u.t2=u.sent,u.t0.apply.call(u.t0,u.t1,u.t2);case 10:e++,u.next=2;break;case 13:return u.abrupt("return",i);case 14:case"end":return u.stop()}},null,this,null,We)},n.Vc=function(t){var n,i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Oot;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,jr.awrap(e.Vc(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,We)},n.kot=function(t){var n,i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Oot;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,jr.awrap(e.kot(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,We)},n.bot=function(){var t,n,i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.Oot;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,jr.awrap(i.bot());case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,We)},t}();function kH(t){return function(){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,jr.awrap(We.all(t.map(function(t){return t()})));case 2:return n=i.sent,i.abrupt("return",AH.mK(n));case 4:case"end":return i.stop()}},null,null,null,We)}}var AH=function(){function t(t){this.xot=void 0,this.Lot=void 0,this.Mot=void 0,this.Uot=void 0,this.Xot=void 0,this.Fot=void 0,this.xot=t,this.Lot=new bH(t.map(function(t){return t.Tot})),this.Mot=new bH(t.map(function(t){return t.Sot})),this.Uot=new bH(t.map(function(t){return t.Aot})),this.Xot=new bH(t.map(function(t){return t.pot})),this.Fot=new bH(t.map(function(t){return t.Y0}))}return t.mK=function(n){return We.resolve(new t(n))},t.prototype.Eot=function(n){var i=this;if(0===this.xot.length)return n(this);var e=[],r=0;return this.xot[r].Eot(function s(u){return e.push(u),++r<i.xot.length?i.xot[r].Eot(s):n(new t(e))})},T(t,[{key:"Tot",get:function(){return this.Lot}},{key:"Sot",get:function(){return this.Mot}},{key:"Aot",get:function(){return this.Uot}},{key:"pot",get:function(){return this.Xot}},{key:"Y0",get:function(){return this.Fot}}]),t}(),TH=function(){function t(t){this.Hot=void 0,this.zot=[],this.Vot=!0,this.Hot=t}var n=t.prototype;return n.mK=function(){return new mH(this.Wot())},n.Wot=function(){var t,n,i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Vot){e.next=4;break}return e.next=3,jr.awrap(We.resolve());case 3:this.Vot=!1;case 4:t=0,n=this.zot;case 5:if(!(t<n.length)){e.next=18;break}return i=n[t],e.prev=7,e.next=10,jr.awrap(kH([_H.mK,i])());case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:t++,e.next=5;break;case 18:return e.next=20,jr.awrap(kH([_H.mK,this.Hot])());case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},null,this,[[7,13]],We)},n.dX=function(t){if(!this.Vot)throw new l("Registration overdue");this.zot.push(t)},t}(),SH=function(){function t(){}return t.dX=function(n){t.FR.dX(n)},T(t,null,[{key:"Gn",get:function(){return t.Got||(t.Got=t.FR.mK()),t.Got}}]),t}();SH.FR=new TH(dH.mK),SH.Got=void 0;var EH=function(t){function n(n,i,e,r,s,u){var o,a=new aH(n),h=a.NN(s_.Td);return(o=t.call(this,h,i,e,r,s,u)||this).iN=void 0,o.iN=a,o}return E(n,t),n.prototype.Bd=function(){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jr.awrap(t.prototype.Bd.call(this));case 2:return n.next=4,jr.awrap(this.iN.YN(this.eN));case 4:case"end":return n.stop()}},null,this,null,We)},n}(function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Km=function(){if(void 0!==this.eN.tm)return this.eN.Km()},T(n,[{key:"Dy",get:function(){return!1},set:function(t){}}]),n}(aU));nE(new(function(t){function i(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).nD=MS.Rg,n}E(i,t);var e=i.prototype;return e.EI=function(t,n,i,e,r,s){return new EH(n,i,r,new mU,new YU(e.libraryLocation),new fH(SH.Gn.Aot,SH.Gn.pot,SH.Gn.Y0,SH.Gn.Sot))},e.iD=function(i,e){var r;if(!t.prototype.iD.call(this,i,e))return!1;if(null!=(r=i.hls)&&r.useLegacy){if(!Ys(AN,"hls-legacy"))throw new ff(n.ErrorCode.SOURCE_NOT_SUPPORTED,'The given source requires the "hls-legacy" feature to be enabled.');return!1}return!0},e.eD=function(){return!0},i}(function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.iD=function(n,i){var e;return!!r.MediaSource&&(!M.un&&!M.Hn&&(!i.manifestMetadataTrack&&((!M.Cn||null==(e=n.contentProtection)||!e.fairplay)&&t.prototype.iD.call(this,n,i))))},n}(hU)))),xO.U_=function(){return!(!r||!r.THEOplayerDebugLogsEnabled)};var IH=[];function RH(){IH.shift()()}var CH,NH=function(){function t(t){this.qot=void 0,this.Yot=void 0,this.jot=void 0,this.jot=t}var n=t.prototype;return n.Qot=function(t){return this.qot=this.qot||{},void 0===this.qot[t]&&(this.qot[t]=[]),this.qot[t]},n.addEventListener=function(t,n){var i=this.Qot(t);-1===i.indexOf(n)&&i.push(n)},n.Zs=function(t){(this.Yot||(this.Yot=[])).push(t)},n.removeEventListener=function(t,n){var i=this.Qot(t);n?Gs(i,n):i.length=0},n.nu=function(t){var n=this.Yot;n&&Gs(n,t)},n.Ks=function(){this.qot=void 0},n.dispatchEvent=function(t,n){if(n)return i=this.dispatchEvent.bind(this,t),IH.push(i),void a(RH,0);var i;"string"==typeof t&&(t={type:t});for(var e=this.Qot(t.type).slice(),r=this.Yot&&this.Yot.slice(),s=0;s<e.length;s++){e[s].call(this.jot||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.jot||this,t)}},n.Zot=function(t){return Boolean(this.qot&&this.qot[t]&&this.qot[t].length)},n.Kot=function(){return this.qot?w.keys(this.qot):[]},t}(),DH=function(t){function n(n,i){var e,r=BH[n];return(e=t.call(this,r?r.fu:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.Jot,e.helpLinkText=r&&r.$ot,e}return E(n,t),T(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(tn);!function(t){t.nat="LICENSE_INVALID",t.iat="MANIFEST_NOT_FOUND",t.eat="MANIFEST_CORS_ERROR",t.rat="INVALID_HLS_MANIFEST",t.sat="PLAYBACK_ISSUE",t.uat="AUDIO_ISSUE",t.oat="BROWSER_SUPPORT_ISSUE",t.aat="INVALID_KEY",t.fat="DECRYPTION_ERROR",t.vat="AD_BLOCK_DETECTED",t.dat="THEOPLAYER_NOT_INITIALIZED",t.Q_="ERROR",t.wat="MANIFEST_SEQUENCE_RESET_ERROR",t._at="PLAYER_INCORRECTLY_CONFIGURED",t.gat="UNSUPPORTED"}(CH||(CH={}));for(var PH,xH=[{Wu:CH.nat,fu:"The license for this player is invalid. Please contact your service provider for additional information."},{Wu:CH.iat,fu:"Could not load the manifest file."},{Wu:CH.eat,fu:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",Jot:"https://www.theoplayer.com/documentation/cors.html",mat:!1},{Wu:CH.rat,fu:"The source of the player is an invalid HLS manifest.",Jot:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Wu:CH.sat,fu:"There appears to be a playback issue."},{Wu:CH.uat,fu:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Wu:CH.oat,fu:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Wu:CH.aat,fu:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Wu:CH.fat,fu:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Wu:CH.vat,fu:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Wu:CH.dat,fu:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Wu:CH.Q_,fu:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Wu:CH.wat,fu:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Wu:CH._at,fu:"The player is incorrectly configured.",Jot:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Wu:CH.gat,fu:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],BH={},OH=0;OH<xH.length;OH++){var LH=xH[OH];BH[LH.Wu]=LH}function MH(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function jH(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function FH(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function UH(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?Jo(e[6]):void 0!==e[7]?{width:y(e[8]),height:y(e[10])}:void 0!==e[12]?y(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var HH,XH="x-";function zH(t,n,i,e){var r=t.split("@"),s=MH(n,i),u=m(r[0],10),o=r[1]?m(r[1],10):e;return{NJ:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},yat:{OD:o,LD:o+u-1}}}function VH(t,n,i){var e,r,s,u,o,a=0,h=0,c=0,f=null,l=0,v=!1,d=[],w=null,p=0,b=t.match(/[^\r\n]+/g);if(!b||"#EXTM3U"!==b[0].trim())throw new DH(CH.rat,{code:"HMP2670",uri:n});for(var k={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},A=1;A<b.length;A+=1){var T=b[A].trim();if(d.push(T+""),jH(T,"#EXT")){if(jH(T,"#EXTINF"))c=(c=y(FH(T)))||.5;else if(jH(T,"#EXT-X-BYTERANGE"))f=FH(T);else if(jH(T,"#EXT-X-KEY"))(s=UH(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=MH(s.uri,i);else if(jH(T,"#EXT-X-DISCONTINUITY")&&!jH(T,"#EXT-X-DISCONTINUITY-"))v=!0,l+=1;else if(jH(T,"#EXT-X-STREAM-INF"))(r=UH(T)).X2=h++,(A+=1)<b.length&&(r.uri=MH(b[A].trim(),i),k.streams.push(r));else if(jH(T,"#EXT-X-MEDIA")&&!jH(T,"#EXT-X-MEDIA-"))(u=UH(T)).uri&&(u.uri=MH(u.uri,i)),k.media.push(u);else if(jH(T,"#EXT-X-PROGRAM-DATE-TIME"))w=new Date(FH(T));else if(jH(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))k.bat=!0,k.pat=m(FH(T),10);else if(jH(T,"#EXT-X-MEDIA-SEQUENCE"))a=m(FH(T),10),k.Aat=!0,k.Tat=a;else if(jH(T,"#EXT-X-TARGETDURATION"))k.targetDuration=m(FH(T),10),k.hasTargetDuration=!0;else if(jH(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))k.isEvent=!0;else if(jH(T,"#EXT-X-ENDLIST"))k.live=!1,k.hasEnd=!0;else if(jH(T,"#EXT-X-MAP")){var S=UH(T),E=S.uri,I=S.byterange;o=I?zH(I,E,i,0):MH(E,i)}else if(jH(T,"#EXT-X-VERSION"))k.version=m(FH(T),10);else if(jH(T,"#EXT-X-DATERANGE")){var R=WH(T);k.dateRanges.push(R)}}else if(jH(T,"#"));else if(0!==T.length){f?p=(e=zH(f,T,i,p)).yat.LD+1:e=MH(T,i);var C,N=s&&Fr({},s);s&&void 0===s.iv&&(C=a%4294967295,N.iv=new _([0,0,0,0,0,0,0,0,0,0,0,0,C>>24,C>>16,C>>8,255&C])),k.fragments.push({start:0,duration:c,uri:e,X2:a,Sat:v,l2:l,key:N,h2:w,Eat:d,Iat:!1,Rat:o}),a+=1,c=0,f=null,v=!1,w=null,d=[]}}return k.hasEnd&&k.fragments.length&&(k.fragments[k.fragments.length-1].Iat=!0),k.isMasterPlaylist=0!==k.streams.length,k.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=g.min(i,o.duration),e=g.max(e,o.duration)}return{Nat:i,Dat:e,Cat:n?t.fragments[n-1].duration:0,Pat:r/n,Bat:r}}(k),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(k),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(k),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.X2-n.X2})}(k),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||$s(t.media,s)}}(k,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(k),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(k),k}function WH(t){var n=UH(t),i=function(t){for(var n={},i=0,e=w.keys(t);i<e.length;i++){var r=e[i];ks(r,XH)&&(n[r.substr(XH.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{X_:n.id,R0:n.class,$N:e,m0:r,Yg:n.duration,N0:n["planned-duration"],D0:s,C0:i,P0:u,B0:o,O0:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(HH||(HH={}));(PH={})[HH.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",PH[HH.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",PH[HH.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",PH[HH.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",PH[HH.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",PH[HH.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",PH[HH.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var qH=function(){function t(){}return t.prototype.xA=function(t,n,i){return VH(t,n,i)},t}(),GH=3,$H=function(){function t(t,n,i){void 0===i&&(i=GH),this.kE=t,this.i6=n,this.Oat=i}var n=t.prototype;return n.xat=function(t,n,i){return this.Lat(t,n,!0,i)},n.Mat=function(t,n,i){return this.Lat(t,n,!1,i)},n.Lat=function(t,n,i,e){var r,s,u,o,a,h,c,f;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=100,u=0;case 2:if(!(u<this.Oat)){i.next=31;break}if(!(u>0)){i.next=7;break}return i.next=6,jr.awrap(pu(s,e));case 6:s<1e4&&(s=g.min(2*s,1e4));case 7:o=0;case 8:if(!(o<t.length)){i.next=28;break}return a=t[o],i.prev=10,h=new ag({ud:a,Jl:Pf.Kn,Kl:n,Dd:this.i6,Ed:eg.GET,us:rg.fd,Rd:sg.hd,zs:e}),i.next=14,jr.awrap(this.kE.ed(h));case 14:return c=i.sent,i.next=17,jr.awrap(c.Ol(e));case 17:return f=i.sent,i.abrupt("return",{Uat:f,Xat:a,rd:c.rd});case 22:i.prev=22,i.t0=i.catch(10),r=i.t0;case 25:o++,i.next=8;break;case 28:u++,i.next=2;break;case 31:throw r;case 32:case"end":return i.stop()}},null,this,[[10,22]],We)},t}(),YH=function(){function t(t){this.Fat=void 0,this.Fat=t}return t.prototype.Hat=function(t,n,i,e){var r,s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:void 0===e&&(e=!1),s=0,u=this.Fat;case 2:if(!(s<u.length)){a.next=17;break}return o=u[s],a.prev=4,a.next=7,jr.awrap(o.Hat(t,n,i,e));case 7:return a.abrupt("return",a.sent);case 10:a.prev=10,a.t0=a.catch(4),cu(a.t0),r=a.t0;case 14:s++,a.next=2;break;case 17:throw r;case 18:case"end":return a.stop()}},null,this,[[4,10]],We)},t}(),QH=function(){function t(t){this.t4=t}return t.prototype.Hat=function(t,n,i,e){var r;return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jr.awrap(this.t4.v4(t));case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",{Uat:r.data,Xat:r.locationURL,rd:r.responseURL});case 7:throw new l("Manifest fetch from cache unsuccesful");case 8:case"end":return n.stop()}},null,this,null,We)},t}(),ZH=function(){function t(t){this.zat=t}return t.prototype.Hat=function(t,n,i,e){return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e&&(e=!1),!e){r.next=7;break}return r.next=4,jr.awrap(this.zat.xat(t,n,i));case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,jr.awrap(this.zat.Mat(t,n,i));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,We)},t}();function KH(t,n){return new YH([new QH(n),new ZH(t)])}var JH=function(){function t(t,n,i){this.Vat=t,this.Wat=n,this.Gat=i}var n=t.prototype;return n.Hat=function(t,n,i,e){var r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e&&(e=!1),s.next=3,jr.awrap(this.Vat.Hat(t,n,i,e));case 3:return r=s.sent,s.next=6,jr.awrap(this.qat(r));case 6:return s.abrupt("return",r);case 7:case"end":return s.stop()}},null,this,null,We)},n.qat=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jr.awrap(this.Wat.dot({key:hH(t.Xat),locationURL:lg(t.Xat),responseURL:lg(t.rd),data:t.Uat,references:[this.Gat.X_]}));case 2:case"end":return n.stop()}},null,this,null,We)},t}();function tX(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var nX,iX=function(){function t(t,n,i){this.Rh=void 0,this.kE=void 0,this.Vat=void 0,this.Yat=void 0,this.Yat=new qH,this.Rh=t,this.kE=i;var e=this.Rh&&this.Rh.crossOrigin===Gy.Pg,r=new $H(i,e,1);this.Vat=KH(r,new fH(SH.Gn.Aot,SH.Gn.pot,SH.Gn.Y0,SH.Gn.Sot))}var n=t.prototype;return n.zc=function(t,n,i){var e=this.Dw(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.Dw=function(t,n){var i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,jr.awrap(this.Vat.Hat([t],n));case 3:return i=r.sent,t=i.rd,e=this.Yat.xA(i.Uat,t,tX(t)),r.abrupt("return",{ym:e,jat:i.Uat});case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof yg)){r.next=16;break}throw new DH(CH.iat,{code:"MFL8600",uri:t});case 16:if(!(r.t0 instanceof pg)){r.next=24;break}if(0!==r.t0.qd.Zl){r.next=21;break}throw new DH(CH.eat,{code:"MFL3900",uri:t,status:r.t0.qd.Zl});case 21:throw new DH(CH.iat,{code:"MFL4100",uri:t,status:r.t0.qd.Zl});case 22:r.next=25;break;case 24:throw new DH(CH.Q_,{error:r.t0,uri:t});case 25:case"end":return r.stop()}},null,this,[[0,10]],We)},t}(),eX=function(t){function n(n,i){var e;return(e=t.call(this)||this).Qat=void 0,e.Zat=void 0,e.Kat=void 0,e.Jat=void 0,e.$at=void 0,e.tct=void 0,e.nct=void 0,e.sN=void 0,e.Qat=new iX(i||{},SH.Gn.Aot,n),e}E(n,t);var i=n.prototype;return i.Fm=function(){void 0!==this.Jat&&(h(this.Jat),this.Jat=void 0),this.Kat&&this.Kat.ed&&(this.Kat=void 0)},i.ict=function(t){if(this.nct)for(var n=0,i=this.nct.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.ect=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.Bat<3*s)?1e3*u.Nat:s?1e3*s:1e4,i===n&&(r/=2),r=g.max(r-e,1e3)},i.rct=function(t){if(t.fragments.length>0)for(var n=this.ict(t.fragments[0].uri),i=n&&n.X2||0,e=0,r=t.fragments;e<r.length;e++){r[e].X2+=i}},i.sct=function(t,i,e,r,s,u){var o=this;if(this.Kat&&e===this.Kat.ed){var h=JI()-i;if(r){this.Kat=void 0,this.sN=r;var c={type:"wu",wu:r};return this.dispatchEvent(c),s&&s(r)}this.Kat=void 0;var f=u.ym,l=u.jat;f.Aat||this.rct(f),t===this.Zat&&(this.tct=f),this.nct=f;var v=n.ect(f,l,this.$at,h);f.live?f.isMasterPlaylist||(this.Jat=a(function(){return o.Dw(t)},v)):this.Fm(),s&&s(r,u);var d={type:"uct",manifest:f,manifestText:l};this.dispatchEvent(d),this.$at=l}},i.Dw=function(t,n){var i=this,e=JI(),r=t;h(this.Jat),this.Jat=void 0;var s=this.Qat.zc(r,{},function(r,u){return i.sct(t,e,s,r,n,u)});this.Kat={ed:s,ud:t}},i.OD=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.nct?this.nct.uri:this.Zat))&&(this.Kat&&this.Kat.ud===t?n&&(i=function(t){s.removeEventListener("wu",e),s.removeEventListener("uct",i);var r=t;n(null,{ym:r.manifest,jat:r.manifestText})},e=function(t){s.removeEventListener("wu",e),s.removeEventListener("uct",i),n(t.wu)},this.addEventListener("wu",e),this.addEventListener("uct",i)):(this.Fm(),this.Dw(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.act=function(t){t&&(this.$at=void 0,this.tct&&this.tct.isMasterPlaylist?this.OD(t.uri):this.nct&&!this.cct()&&this.OD(this.nct.uri))},i.Bd=function(){this.Fm(),this.Ks()},i.cct=function(){return!!this.Kat||!!this.Jat||!(!this.nct||this.nct.live)},T(n,[{key:"ym",get:function(){return this.nct}},{key:"hct",get:function(){return this.tct}},{key:"fct",get:function(){return this.Zat},set:function(t){this.Fm(),this.$at=void 0,this.tct=void 0,this.nct=void 0,this.Zat=t}}]),n}(NH),rX=function(t){function n(){return t.call(this,"vct")||this}return E(n,t),n}(Su),sX=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).lct=void 0,r.dct=void 0,r.wct=void 0,r.zet=void 0,r._ct=void 0,r.kE=void 0,r.iq=void 0,r.gct=void 0,r.mct=function(){r.Ys(new rX)},r.zet=n,r._ct=Fr({},i,{crossOrigin:r.zet.crossOrigin,withCredentials:r.zet.useCredentials,liveOffset:r.zet.liveOffset,hlsDateRange:r.zet.hlsDateRange}),r.kE=e,r.dct=[],r.iq=!1,r}E(n,t);var i=n.prototype;return i.yct=function(){if(this.wct)return this.wct.ym},i.OD=function(t){var n=this;mu(EM(function(){return n.kct()},t))},i.kct=function(){var t,n,i,e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,jr.awrap(this.bct());case 2:if((t=u.sent).isMasterPlaylist)for(this.lct=t,n=0,i=t.streams;n<i.length;n++)e=i[n],r=new eX(this.kE,this._ct),this.dct.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:r});else s=new eX(this.kE,this._ct),this.dct.push({stream:{uri:t.uri},updater:s});this.gct&&(this.pct(this.gct.width,this.gct.height),this.gct=void 0),this.iq=!0;case 6:case"end":return u.stop()}},null,this,null,We)},i.Act=function(t,n){this.iq?this.pct(t,n):this.gct={width:t,height:n}},i.pct=function(t,n){this.Tct();var i=this.Sct(t,n);i&&(this.wct=i.updater,this.wct.addEventListener("uct",this.mct),i.updater.OD(i.stream.uri))},i.Tct=function(){this.wct&&(this.wct.Fm(),this.wct.removeEventListener("uct",this.mct),this.wct=void 0)},i.Sct=function(t,n){return 1===this.dct.length?this.dct[0]:Vs(this.dct,function(i){return i.stream.width===t&&i.stream.height===n})},i.bct=function(){var t,n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new iX(this._ct,SH.Gn.Aot,this.kE),i.next=3,jr.awrap(t.zc(this.zet.src,{}));case 3:return n=i.sent,i.abrupt("return",n.ym);case 5:case"end":return i.stop()}},null,this,null,We)},i.Bd=function(){this.Tct();for(var t=0,n=this.dct;t<n.length;t++){n[t].updater.Bd()}Zs(this.dct)},n}(Au),uX=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).Ect=void 0,r.Ict=void 0,r.MM=void 0,r.Rct=!1,r.H0=void 0,r.Gq=void 0,r.handleManifestUpdate=function(){var t=r.Ect.yct();if(t){var n=r.$N;if(n){var i=n.getTime(),e=r.H0;e||(e=new sL,r.H0=e),e.Wc(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.Rct&&e.og.N_>0&&(r.Lm.T_(e),r.Gq.T_(e),r.Rct=!0)}}},r.Nct=function(){r.Ect&&r.Ect.Act(r.nm,r.tm)},r.Ict=i,r.MM=e,r.Gq=new ux(Kt(r)),r.js(Df.Nf,r.Nct),r}E(n,t);var i=n.prototype;return i.zm=function(n,i,e){return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,jr.awrap(t.prototype.zm.call(this,n,i,e));case 2:n.hlsDateRange&&this.Dct(n,i,e);case 3:case"end":return r.stop()}},null,this,null,We)},i.Dct=function(t,n,i){this.Ect&&(this.Ect.Js("vct",this.handleManifestUpdate),this.Ect.Bd()),this.Ect=new sX(t,n,this.Ict),this.Ect.js("vct",this.handleManifestUpdate),this.Ect.OD(i)},i.I_=function(){return this.H0&&(this.Lm.S_(this.H0),this.Gq.S_(this.H0),this.H0.Bd(),this.H0=void 0,this.Rct=!1),this.Gq.I_(),t.prototype.I_.call(this)},i.Bd=function(){return this.Js(Df.Nf,this.Nct),this.Ect&&(this.Ect.Js("vct",this.handleManifestUpdate),this.Ect.Bd()),this.Gq.Bd(),t.prototype.Bd.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).Cct=void 0,i.Cct=n;for(var e=0;e<uE.length;e++){var r=uE[e];i.Cct.js(r,i.qs)}return i}E(n,t);var i=n.prototype;return i.Vm=function(){return this.Cct.Vm()},i.Jm=function(){return this.Cct.Jm()},i.Km=function(){return this.Cct.Km()},i.Zm=function(){return this.Cct.Zm()},i.oy=function(){return this.Cct.oy()},i.Xm=function(){return this.Cct.Xm()},i.Um=function(){return this.Cct.Um()},i.I_=function(){return this.Cct.I_()},i.zm=function(t,n,i){return this.Cct.zm(t,n,i)},i.Qm=function(){return this.Cct.Qm()},i.Wm=function(){return this.Cct.Wm()},i.Gm=function(){return this.Cct.Gm()},i.Bd=function(){this.Ks();for(var t=0;t<uE.length;t++){var n=uE[t];this.Cct.Js(n,this.qs)}return this.Cct.Bd()},T(n,[{key:"Om",get:function(){return this.Cct.Om}},{key:"vy",get:function(){return this.Cct.vy}},{key:"ly",get:function(){return this.Cct.ly},set:function(t){this.Cct.ly=t}},{key:"qg",get:function(){return this.Cct.qg},set:function(t){this.Cct.qg=t}},{key:"Yg",get:function(){return this.Cct.Yg}},{key:"jg",get:function(){return this.Cct.jg}},{key:"Qg",get:function(){return this.Cct.Qg}},{key:"Mm",get:function(){return this.Cct.Mm}},{key:"wu",get:function(){return this.Cct.wu}},{key:"_y",get:function(){return this.Cct._y}},{key:"pm",get:function(){return this.Cct.pm}},{key:"Zg",get:function(){return this.Cct.Zg},set:function(t){this.Cct.Zg=t}},{key:"Sy",get:function(){return this.Cct.Sy}},{key:"Kg",get:function(){return this.Cct.Kg}},{key:"Jg",get:function(){return this.Cct.Jg},set:function(t){this.Cct.Jg=t}},{key:"Ey",get:function(){return this.Cct.Ey}},{key:"Iy",get:function(){return this.Cct.Iy},set:function(t){this.Cct.Iy=t}},{key:"rg",get:function(){return this.Cct.rg}},{key:"Ry",get:function(){return this.Cct.Ry}},{key:"$g",get:function(){return this.Cct.$g}},{key:"$N",get:function(){return this.Cct.$N}},{key:"Lm",get:function(){return this.Cct.Lm}},{key:"tm",get:function(){return this.Cct.tm}},{key:"xm",get:function(){return this.Cct.xm}},{key:"nm",get:function(){return this.Cct.nm}},{key:"im",get:function(){return this.Cct.im},set:function(t){this.Cct.im=t}},{key:"Ny",get:function(){return this.Cct.Ny}},{key:"Dy",get:function(){return this.Cct.Dy},set:function(t){this.Cct.Dy=t}},{key:"tD",get:function(){return this.Cct.tD}}]),n}(Hy));nX=function(t,n,i){return new uX(t,n,i)},JS.uD().oD(nX);var oX=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},aX=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),hX={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(hX,hX.exports);var cX=hX.exports;function fX(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function lX(t){return JSON.stringify(t,hX.exports.getSerialize(fX))}var vX={},dX={};!function(t){w.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(dX);var wX={};!function(t){w.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(wX);var gX={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}w.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(gX),w.defineProperty(vX,"__esModule",{value:!0});var mX=dX.isS,yX=dX.isChar,pX=dX.isNameStartChar,_X=dX.isNameChar,bX=dX.S_LIST,kX=dX.NAME_RE,AX=wX.isChar,TX=gX.isNCNameStartChar,SX=gX.isNCNameChar,EX=gX.NC_NAME_RE;const IX="http://www.w3.org/XML/1998/namespace",RX="http://www.w3.org/2000/xmlns/",CX={__proto__:null,xml:IX,xmlns:RX},NX={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},DX=-1,PX=-2,xX=0,BX=1,OX=2,LX=3,MX=4,jX=5,FX=6,UX=7,HX=8,XX=9,zX=10,VX=11,WX=12,qX=13,GX=14,$X=15,YX=16,QX=17,ZX=18,KX=19,JX=20,tz=21,nz=22,iz=23,ez=24,rz=25,sz=26,uz=27,oz=28,az=29,hz=30,cz=31,fz=32,lz=33,vz=34,dz=35,wz=36,gz=37,mz=38,yz=39,pz=40,_z=41,bz=42,kz=43,Az=44,Tz=9,Sz=10,Ez=13,Iz=32,Rz=33,Cz=38,Nz=45,Dz=47,Pz=59,xz=60,Bz=61,Oz=62,Lz=63,Mz=91,jz=93,Fz=133,Uz=8232,Hz=t=>34===t||39===t,Xz=[34,39],zz=[...Xz,Mz,Oz],Vz=[...Xz,xz,jz],Wz=[Bz,Lz,...bX],qz=[...bX,Oz,Cz,xz];function Gz(t,n,i){switch(n){case"xml":i!==IX&&t.fail(`xml prefix must be bound to ${IX}.`);break;case"xmlns":i!==RX&&t.fail(`xmlns prefix must be bound to ${RX}.`)}switch(i){case RX:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${RX}.`);break;case IX:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const $z=t=>EX.test(t),Yz=t=>kX.test(t),Qz=0,Zz=1,Kz=2;vX.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Jz={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var tV=vX.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=TX,this.nameCheck=SX,this.isName=$z,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=w.assign({__proto__:null},CX);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of w.keys(n))Gz(t,i,n[i])}(this,t),w.assign(this.ns,t))}else this.nameStartCheck=pX,this.nameCheck=_X,this.isName=Yz,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.oo}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Qz,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?qX:xX,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new l("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.oo=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=w.create(NX),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[Jz[t]]=n}off(t){this[Jz[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new l(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===Ez||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return DX;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=Iz||i===Tz)return i;switch(i){case Sz:return this.line++,this.column=0,this.positionAtNewLine=this.position,Sz;case Ez:return t.charCodeAt(n+1)===Sz&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,PX;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return DX;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==Uz||i===Tz)return i;switch(i){case Sz:return this.line++,this.column=0,this.positionAtNewLine=this.position,Sz;case Ez:{const i=t.charCodeAt(n+1);i!==Sz&&i!==Fz||(this.i=n+2)}case Fz:case Uz:return this.line++,this.column=0,this.positionAtNewLine=this.position,PX;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===PX?Sz:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===PX,s=r?Sz:e;if(s===DX||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case PX:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=Sz;break;case DX:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===DX)return this.name+=t.slice(n),DX;if(!_X(i))return this.name+=t.slice(n,this.prevI),i===PX?Sz:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===DX||!mX(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=yX,this.getCode=this.getCode10):(this.isChar=AX,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=BX}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case xz:if(this.state=$X,0!==this.text.length)throw new l("no-empty text at start");break;case DX:break;default:this.unget(),this.state=qX,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(zz);switch(n){case Oz:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=qX,this.doctype=!0;break;case DX:break;default:this.text+=String.fromCodePoint(n),n===Mz?this.state=MX:Hz(n)&&(this.state=LX,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=OX)}sDTD(){const t=this.captureTo(Vz);t!==DX&&(this.text+=String.fromCodePoint(t),t===jz?this.state=OX:t===xz?this.state=FX:Hz(t)&&(this.state=jX,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=MX,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case Rz:this.state=UX,this.openWakaBang="";break;case Lz:this.state=VX;break;default:this.state=MX}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?HX:MX,this.openWakaBang="")}sDTDComment(){this.captureToChar(Nz)&&(this.text+="-",this.state=XX)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===Nz?zX:HX}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Oz?this.state=MX:(this.fail("malformed comment."),this.state=HX)}sDTDPI(){this.captureToChar(Lz)&&(this.text+="?",this.state=WX)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Oz&&(this.state=MX)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case PX:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case Pz:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===qX&&void 0===this.textHandler||(this.text+=r);break t}case DX:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(pX(t))this.state=vz,this.unget(),this.xmlDeclPossible=!1;else switch(t){case Dz:this.state=kz,this.xmlDeclPossible=!1;break;case Rz:this.state=YX,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Lz:this.state=iz;break;default:this.fail("disallowed character in tag name"),this.state=qX,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=JX,this.openWakaBang="";break;case"--":this.state=QX,this.openWakaBang="";break;case"DOCTYPE":this.state=OX,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(Nz)&&(this.state=ZX)}sCommentEnding(){var t;const n=this.getCodeNorm();n===Nz?(this.state=KX,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=QX)}sCommentEnded(){const t=this.getCodeNorm();t!==Oz?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=QX):this.state=qX}sCData(){this.captureToChar(jz)&&(this.state=tz)}sCDataEnding(){const t=this.getCodeNorm();t===jz?this.state=nz:(this.text+=`]${String.fromCodePoint(t)}`,this.state=JX)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Oz:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=qX;break;case jz:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=JX}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=ez):t===Lz||mX(t)?(this.fail("processing instruction without a target."),this.state=t===Lz?sz:rz):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=ez)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===DX)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===Lz;e||mX(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?lz:uz):this.state=e?sz:rz:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Lz?this.state=sz:mX(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Lz)&&(this.state=sz)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Oz){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=qX}else n===Lz?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=rz);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Lz?t!==DX&&(this.state=oz,this.name=String.fromCodePoint(t)):this.state=lz}sXMLDeclName(){const t=this.captureTo(Wz);if(t===Lz)return this.state=lz,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(mX(t)||t===Bz){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===Bz?hz:az}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Lz)return this.state=lz,void this.fail("XML declaration is incomplete.");mX(t)||(t!==Bz&&this.fail("value required."),this.state=hz)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Lz)return this.state=lz,void this.fail("XML declaration is incomplete.");mX(t)||(Hz(t)?this.q=t:(this.fail("value must be quoted."),this.q=Iz),this.state=cz)}sXMLDeclValue(){const t=this.captureTo([this.q,Lz]);if(t===Lz)return this.state=lz,this.text="",void this.fail("XML declaration is incomplete.");if(t===DX)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=fz}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Lz?(mX(t)||(this.fail("whitespace required."),this.unget()),this.state=uz):this.state=lz}sXMLDeclEnding(){var t;this.getCodeNorm()===Oz?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=qX):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===DX)return;const i=this.tag={name:this.name,attributes:w.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=w.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Oz:this.openTag();break;case Dz:this.state=dz;break;default:mX(n)||this.fail("disallowed character in tag name."),this.state=wz}}sOpenTagSlash(){this.getCode()===Oz?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=wz)}sAttrib(){const t=this.skipSpaces();t!==DX&&(pX(t)?(this.unget(),this.state=gz):t===Oz?this.openTag():t===Dz?this.state=dz:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===Bz?this.state=yz:mX(t)?this.state=mz:t===Oz?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==DX&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case DX:return;case Bz:this.state=yz;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Oz?this.openTag():pX(t)?(this.unget(),this.state=gz):(this.fail("disallowed character in attribute name."),this.state=wz)}}sAttribValue(){const t=this.getCodeNorm();Hz(t)?(this.q=t,this.state=pz):mX(t)||(this.fail("unquoted attribute value."),this.state=bz,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=_z);case Cz:return this.text+=n.slice(i,this.prevI),this.state=GX,void(this.entityReturnState=pz);case Sz:case PX:case Tz:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case xz:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case DX:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();mX(t)?this.state=wz:t===Oz?this.openTag():t===Dz?this.state=dz:pX(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=gz):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(qz);switch(t){case Cz:this.state=GX,this.entityReturnState=bz;break;case xz:this.fail("disallowed character.");break;case DX:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Oz?this.openTag():this.state=wz}}sCloseTag(){const t=this.captureNameChars();t===Oz?this.closeTag():mX(t)?this.state=Az:t!==DX&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Oz:this.closeTag();break;case DX:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case xz:if(this.state=$X,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=Qz;break t;case Cz:this.state=GX,this.entityReturnState=qX,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=Qz;break t;case jz:switch(n){case Qz:n=Zz;break;case Zz:n=Kz;break;case Kz:break;default:throw new l("impossible state")}break;case Oz:n===Kz&&this.fail('the string "]]>" is disallowed in char data.'),n=Qz;break;case PX:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Qz;break;case DX:void 0!==e&&(this.text+=i.slice(t));break t;default:n=Qz}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case xz:if(this.state=$X,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case Cz:this.state=GX,this.entityReturnState=qX,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case PX:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case DX:void 0!==i&&(this.text+=n.slice(t));break t;default:mX(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,Gz(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Gz(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==xX&&this.state!==qX&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.oo=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?RX:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=qX,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=qX,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=qX,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=m(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=m(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},nV=function(){function t(){}return t.prototype.ei=function(t){var n=new tV({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new aV,e=[i];function r(t){e[e.length-1].Ri(t)}return n.on("text",function(t){e.length>1&&r(new uV(t))}),n.on("cdata",function(t){r(new oV(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new rV({ai:n,di:""===i?void 0:i,Pct:""===s?void 0:s}),o=t.attributes,a=0,h=w.keys(o);a<h.length;a++){var c=o[h[a]],f=c.prefix,l=c.local,v=c.uri,d=c.value,g=new iV({ai:l,_i:d,di:""===v?void 0:v,Pct:""===f?void 0:f});u.Bct(g)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new nn(t)}),n.write(t).close(),i},t}(),iV=function(){function t(t){this.Oct=void 0,this.xct=void 0,this.Lct=void 0,this.me=void 0,this.Oct=t.ai,this.me=t._i,this.xct=t.di,this.Lct=t.Pct}var n=t.prototype;return n.ui=function(t){return this===t||!!cV(this,t)&&(this.Oct===t.Oct&&this.xct===t.xct&&this.Lct===t.Lct&&this.me===t.me)},n.oi=function(){return new t({ai:this.ai,_i:this._i,di:this.di,Pct:this.wi})},T(t,[{key:"Qn",get:function(){return Gt.Jn}},{key:"ai",get:function(){return this.Oct}},{key:"ci",get:function(){return void 0===this.Lct?this.Oct:this.Lct+":"+this.Oct}},{key:"di",get:function(){return this.xct}},{key:"wi",get:function(){return this.Lct}},{key:"_i",get:function(){return this.me}}]),t}(),eV=function(){function t(){this.Ai=[]}var n=t.prototype;return n.Ti=function(t){return this.Ai.filter(function(n){return hV(n)&&n.Ei===t})},n.Ii=function(t,n){return this.Ai.filter(function(i){return hV(i)&&i.ai===n&&i.di===t})},n.Ri=function(t){this.Ai.push(t)},T(t,[{key:"Si",get:function(){return this.Ai}},{key:"Di",get:function(){return this.Ai.filter(hV)}}]),t}(),rV=function(t){function n(n){var i;return(i=t.call(this)||this).Oct=void 0,i.xct=void 0,i.Lct=void 0,i.Mct=[],i.Oct=n.ai,i.xct=n.di,i.Lct=n.Pct,i}E(n,t);var i=n.prototype;return i.Uct=function(t){for(var n=0,i=this.Si;n<i.length;n++){var e=i[n];hV(e)?e.Uct(t):t.push(e.Xi)}},i.Pi=function(t,n){for(var i=0,e=this.Mct;i<e.length;i++){var r=e[i];if(r.ai===n&&r.di===t)return r._i}},i.Ci=function(t){for(var n=0,i=this.Mct;n<i.length;n++){var e=i[n];if(e.ci===t)return e._i}},i.Bct=function(t){this.Mct.push(t)},i.Bi=function(t){for(var n=0;n<this.Mct.length;n++)if(this.Mct[n].ci===t)return void this.Mct.splice(n,1)},i.Oi=function(t,n){for(var i=0;i<this.Mct.length;i++)if(this.Mct[i].ai===n&&this.Mct[i].di===t)return void this.Mct.splice(i,1)},i.xi=function(t,n){this.Bi(t),this.Bct(new iV({ai:t,_i:n}))},i.Li=function(t,n,i){this.Bi(n);var e=n.split(":");this.Bct(new iV({ai:e[e.length-1],_i:i,di:t,Pct:e.length>1?e[0]:void 0}))},i.oi=function(t){var i=new n({ai:this.ai,di:this.di,Pct:this.wi});return this.Mi.forEach(function(t){return i.Bct(t.oi())}),t&&this.Si.forEach(function(n){return i.Ri(n.oi(t))}),i},i.ui=function(t){return this===t||!!cV(this,t)&&(this.Oct===t.Oct&&this.Lct===t.Lct&&this.xct===t.xct&&(fV(this.Mi,t.Mi)&&fV(this.Si,t.Si)))},T(n,[{key:"Qn",get:function(){return Gt.Zn}},{key:"Mi",get:function(){return this.Mct}},{key:"ai",get:function(){return this.Oct}},{key:"di",get:function(){return this.xct}},{key:"wi",get:function(){return this.Lct}},{key:"Ei",get:function(){return void 0===this.Lct?this.Oct:this.Lct+":"+this.Oct}},{key:"Ui",get:function(){var t=[];return this.Uct(t),t.join("")}}]),n}(eV),sV=function(){function t(t){this.Vi=void 0,this.Vi=t}return T(t,[{key:"Xi",get:function(){return this.Vi}}]),t}(),uV=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.oi=function(){return new n(this.Xi)},i.ui=function(t){return this===t||!!cV(this,t)&&this.Xi===t.Xi},T(n,[{key:"Qn",get:function(){return Gt.Kn}}]),n}(sV),oV=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.oi=function(){return new n(this.Xi)},i.ui=function(t){return this===t||!!cV(this,t)&&this.Xi===t.Xi},T(n,[{key:"Qn",get:function(){return Gt.$n}}]),n}(sV),aV=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.oi=function(t){var i=new n;return t&&this.Si.forEach(function(n){return i.Ri(n.oi(t))}),i},i.ui=function(t){return this===t||!!cV(this,t)&&fV(this.Si,t.Si)},T(n,[{key:"Qn",get:function(){return Gt.ni}},{key:"Fi",get:function(){return this.Di[0]}}]),n}(eV);function hV(t){return Qt(t)}function cV(t,n){return t.Qn===n.Qn}function fV(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ui(n[i]))return!1;return!0}var lV,vV=["adBreak"],dV=["adBreak"];function wV(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Fr({},t,{adBreak:Fr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,zA(t,vV)})})})}function gV(t){return void 0===t.ads?t:Fr({},t,{ads:t.ads.map(function(t){return t.adBreak,zA(t,dV)})})}function mV(t){return"string"==typeof t.date?new Date(t.date):t.date}function yV(t){var n;return t.cue.track?(n=_V(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=_V(t.cue,""),n}function pV(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&w.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=w.entries(i);return w.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function _V(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new nV).ei(e.firstChild.outerHTML).Fi.Mi.forEach(function(t){r[t.ai]=t._i}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(h=o)&&null!==h){var a=bV(o);s[u]={type:lV.Xct,value:a}}else AV(o)?s[u]={type:lV.Fct,value:o}:s[u]={type:lV.yQ,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=bV(t.scte35Cmd),i.scte35Out=bV(t.scte35Out),i.scte35In=bV(t.scte35In),i.customAttributes=s}var h}(),i}function bV(t){if(void 0!==t)return Xu(t)}function kV(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(_V(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(_V(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function AV(t){return"number"==typeof t}!function(t){t.yQ="daterange-ca-type_string",t.Fct="daterange-ca-type_number",t.Xct="daterange-ca-type_arraybuffer"}(lV||(lV={}));var TV={cue:function(t){var n={};switch(n.date=mV(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=yV(t)}return n},textTrack:function(t){var n={};switch(n.date=mV(t),n.type=t.type,t.type){case"addcue":var i=t.cue;RV().register(i);var e=IV()[CV()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=yV(t);break;case"cuechange":for(var r=[],s=0;s<t.track.activeCues.length;s++){var u=t.track.activeCues[s];r.push(_V(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:kV(t.track),date:mV(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=RV();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=mV(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Df.Xf:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Fr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=kV(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=gV(t.ad);break;case"adloaded":case"adimpression":n.ad=wV(t.ad);break;case"aderror":t.Hct&&(n.Hct=t.Hct),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=wV(t.ad)}return pV(n)},minimizeCueHelper:function(t){var n={};return n.date=mV(t),n.type=t.type,n.cue=yV(t),n.track={uid:t.cue.track.uid},n},adReplacer:wV,adBreakReplacer:gV,removeCircularReferences:pV},SV=function(){this.stringify=lX,this.minimize=TV};function EV(){return de.self}function IV(){return EV().THEOplayerBridge}function RV(){return EV().THEOCueMirrorMap}function CV(){return EV().THEOplayerGlobalID}function NV(){var t=EV();if(t.THEOplayerBridge){var n=new oX;t.THEOplayerBridge=dy(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new oX;t.THEOplayerUtils||(t.THEOplayerUtils=new SV),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new aX)}NV();var DV,PV=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return E(n,t),n}(Su),xV=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Ys(new PV(t,n))},i.addEventListener=function(t,n){this.js(t,n)},i.removeEventListener=function(t,n){this.Js(t,n)},n}(Xy),BV=function(t){function n(n,i){var e;return(e=t.call(this)||this).zct=void 0,e.Vct=void 0,e.Wct=function(t){e.zct.eK("THEOplayerABRSetTargetBuffer",t.sL),e.Ys(t)},e.Gct=function(t){e.zct.eK("THEOplayerABRSetStrategy",t.oL),e.Ys(t)},e.zct=n,e.Vct=i,e.Vct.js("uL",e.Wct),e.Vct.js("aL",e.Gct),e}return E(n,t),n.prototype.yL=function(t){return this.Vct.yL(t)},T(n,[{key:"bL",get:function(){var t;switch(this.oL.type){case ZR.PERFORMANCE:return 1;case ZR.QUALITY:return 0;case ZR.BANDWIDTH:return null!=(t=this.oL.metadata)&&t.bitrate&&!p(this.oL.metadata.bitrate)?this.oL.metadata.bitrate:0;default:return 0}}},{key:"Jw",get:function(){return this.Vct.Jw}},{key:"oL",get:function(){return this.Vct.oL},set:function(t){this.Vct.oL=t}},{key:"sL",get:function(){return this.Vct.sL},set:function(t){this.Vct.sL=t}},{key:"kL",get:function(){return this.Vct.kL}},{key:"cL",get:function(){return this.Vct.cL},set:function(t){this.Vct.cL=t}},{key:"fL",get:function(){return this.Vct.fL}},{key:"tL",get:function(){return this.Vct.tL}}]),n}(Au),OV=function(){function t(t,n,i){this.Rh=void 0,this._s=void 0,this.Fh=void 0,this.Zc=void 0,this.Rh=t,this._s=i,this.Fh=n}var n=t.prototype;return n.EE=function(t){throw new l("Not implemented yet.")},n.EX=function(t,n){var i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,jr.awrap(this._s.As(t.hs,n));case 2:return i=r.sent,r.next=5,jr.awrap(i.uh());case 5:return e=r.sent,r.next=8,jr.awrap(this.IX(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,We)},n.RX=function(t){return!1},n.NX=function(t){return We.resolve(void 0)},n.Bs=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jr.awrap(this.IX(void 0));case 2:case"end":return t.stop()}},null,this,null,We)},n.IX=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.CX(t),i.next=3,jr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,We)},n.CX=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.Zc)){i.next=5;break}return i.next=4,jr.awrap(n.eh(this.Fh));case 4:this.Zc=void 0;case 5:if(!t){i.next=9;break}return i.next=8,jr.awrap(t.ih(this.Fh));case 8:this.Zc=t;case 9:case"end":return i.stop()}},null,this,null,We)},n.AE=function(t,n,i){throw new l("Not implemented yet.")},T(t,[{key:"Jc",get:function(){return this.Rh}},{key:"Iy",get:function(){throw new l("Not implemented yet.")},set:function(t){throw new l("Not implemented yet.")}},{key:"Ry",get:function(){return new fE([0,1/0])}},{key:"Lm",get:function(){throw new l("Not implemented yet.")}},{key:"qct",get:function(){throw new l("Not implemented yet")}},{key:"xm",get:function(){throw new l("Not implemented yet.")}},{key:"Yct",get:function(){throw new l("Not implemented yet")}},{key:"jct",get:function(){throw new l("Not implemented yet")}}]),t}();!function(t){t.Qct="webkitneedkey",t.Zct="webkitkeymessage",t.Kct="webkitkeyerror"}(DV||(DV={}));var LV=function(t){function n(n,i){var e;return(e=t.call(this,DV.Qct)||this).initData=n,e.sessionId=i,e}return E(n,t),n}(Su),MV=function(t){function n(n,i){var e;return(e=t.call(this,DV.Zct)||this).message=n,e.destinationURL=i,e}return E(n,t),n}(Su),jV=function(t){function n(){return t.call(this,DV.Kct)||this}return E(n,t),n}(Su),FV=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).lh=new ta,u.Nh=void 0,u._h=new Bu,u.Ch=new ta,u.Jct=function(t){u.Nh?(u.Nh.Vu(void 0),u.Nh=void 0):u.Ah("internal-error"),u.Ys(new Nu)},u.$ct=function(t){u.Nh&&(u.Nh.Hu(void 0),u.Nh=void 0),u.Ys(new Cu(Kt(u),"license-request",Qo(t.message).buffer,t.destinationURL||void 0))},u.Sh=n,u.Mc=i,u.tht=e,u.Uh=r,u.Bh=s,u}E(n,t);var i=n.prototype;return i.Hc=function(t,n,i){var e;return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Oh){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,jr.awrap(this.nht($o(n),e));case 5:this.Ah("usable"),this.Ch.Hu(),this.Ch=new ta;case 8:case"end":return t.stop()}},null,this,null,We)},i.zc=function(t){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,We)},i.Wc=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=$o(t)).byteLength){i.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.Nh=new ta,this.tht.Wc(this.Uh,n),i.next=7,jr.awrap(this.Nh.Uu);case 7:case"end":return i.stop()}},null,this,null,We)},i.Fc=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jr.awrap(this.Ch);case 2:return this.tht.Js(DV.Zct,this.$ct),this.tht.Js(DV.Kct,this.Jct),this.Ch.Xs(),this.lh.Hu(void 0),t.abrupt("return",this.lh.Uu);case 7:case"end":return t.stop()}},null,this,null,We)},i.Vc=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,We)},i.nht=function(t,n){var i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=cf(t,n,this.Bh),this.tht.js(DV.Zct,this.$ct),this.tht.js(DV.Kct,this.Jct),this.tht.bq(this.Uh,i);case 4:case"end":return e.stop()}},null,this,null,We)},i.Ah=function(t){this._h.Ru(),this._h.Iu(xu,t),this.Ys(new Ru(this))},T(n,[{key:"Qc",get:function(){return this.Uh}},{key:"Yc",get:function(){return NaN}},{key:"qc",get:function(){return this.lh.Uu}},{key:"jc",get:function(){return this._h}}]),n}(Au),UV=function(){function t(t,n,i){this.iht=void 0,this.Uh=void 0,this.Bh=void 0,this.tht=void 0,this.Mc=void 0,this.Rh=void 0,this.Sh=void 0,this.tht=t,this.Mc=n,this.Rh=i;var e=$c(i)||"video/mp4";this.Sh=Vc(e)}var i=t.prototype;return i.$c=function(t){var i;return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Bh){t.next=2;break}throw new ff(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new FV(this.Sh,this.Mc,this.tht,this.Uh,this.Bh),this.iht=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,We)},i.nh=function(t){return this.Bh=$o(t),We.resolve(!0)},i.ih=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,We)},i.eh=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,We)},i.createSession=function(){throw new l("Whoops.")},T(t,[{key:"Kc",get:function(){return this.Mc}},{key:"Jc",get:function(){return this.Rh}},{key:"sessionId",set:function(t){this.Uh=t}}]),t}(),HV=function(){function t(t,n,i){this.eht=t,this.Mc=n,this.Rh=i}var n=t.prototype;return n.oh=function(){return this.Rh},n.uh=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new UV(this.eht,this.Mc,this.Rh));case 1:case"end":return t.stop()}},null,this,null,We)},T(t,[{key:"Kc",get:function(){return this.Mc}}]),t}(),XV=function(){function t(t){this.eht=void 0,this.eht=t}return t.prototype.As=function(t,n){var i,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0;case 1:if(!(i<n.length)){s.next=9;break}if(e=n[i],!(r=qc(zV,Iu,t,e))){s.next=6;break}return s.abrupt("return",new HV(this.eht,t,r));case 6:i++,s.next=1;break;case 9:throw new v("Unsupported key system configuration for "+t);case 10:case"end":return s.stop()}},null,this,null,We)},t}();function zV(t,n){return t===fs}var VV,WV=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Cq=function(t,n){return!0},n}(Tx),qV=function(t){function n(n,i,e){var r;return void 0===e&&(e=new XV(i)),(r=t.call(this)||this).rN=void 0,r._s=void 0,r.pX=void 0,r.Lq=new aN,r.rht=void 0,r.eht=void 0,r.sht=!1,r.Uh=void 0,r.Ph=null,r.uht={gy:0,yy:0,by:0,py:0,Ay:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.oht=function(t){"boolean"==typeof t.detail.casting&&(r.sht=t.detail.casting,r.Ys(new T_(r.sht)))},r.aht=function(t){r.Uh=t.sessionId,r.Ph&&(r.Ph.sessionId=r.Uh);var n=t.initData;if(n){var i=Dx(n);if(!i)return;r.Ys(new Du(ns,i))}else r.Ys(new Du(ns,new ArrayBuffer(0)))},r.rht=n,r.eht=i,r.eht.js(DV.Qct,r.aht),r._s=e,r.pX=new WV(Kt(r)),r.cht(),r}E(n,t);var i=n.prototype;return i.LX=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.us===uA.RE)return i}},i.Bs=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jr.awrap(this.I_());case 2:return this.Ks(),this.hht(),this.eht.Js(DV.Qct,this.aht),t.next=7,jr.awrap(this.pX.Bs());case 7:case"end":return t.stop()}},null,this,null,We)},i.Zm=function(){throw new l("Not implemented yet")},i.AE=function(t,n,i,e,r,s,u,o){throw new l("Not implemented yet")},i.XN=function(){return!1},i.HN=function(t,n,i,e){throw new l("Not implemented yet")},i.EE=function(t){throw new l("Not implemented yet")},i.WN=function(){throw new l("Not implemented yet")},i.zc=function(t){var n=this;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.Lq.YU(function(i){var e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.us!==uA.RE){r.next=8;break}return hu(i),e=new OV(t,n,n._s),n.rN=e,n.pX.zc(e,t),r.abrupt("return",e);case 8:throw new l("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,We)}));case 1:case"end":return i.stop()}},null,this,null,We)},i.Xm=function(){throw new l("Not implemented yet")},i.Um=function(){throw new l("Not implemented yet")},i.I_=function(){var t=this;return this.Lq.Xs(),this.Lq.YU(function(){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.rN){n.next=4;break}return n.next=3,jr.awrap(t.rN.Bs());case 3:t.rN=void 0;case 4:return n.next=6,jr.awrap(t.pX.I_());case 6:case"end":return n.stop()}},null,null,null,We)})},i.Bu=function(t,n){throw new l("Not implemented yet")},i.KN=function(t){throw new l("Not implemented yet")},i.Qm=function(){throw new l("Not implemented yet")},i.JN=function(){return this.uht},i.cht=function(){this.rht.addEventListener("airPlayIsCasting",this.oht)},i.hht=function(){this.rht.removeEventListener("airPlayIsCasting",this.oht)},i.webkitSetMediaKeys=function(t){this.Ph=t||null,this.Ph&&(this.Ph.sessionId=this.Uh)},i.yj=function(){},i.gj=function(){throw new l("Not implemented yet")},i.mj=function(){throw new l("Not implemented yet")},T(n,[{key:"ly",get:function(){throw new l("Not implemented yet")}},{key:"vy",get:function(){throw new l("Not implemented yet")}},{key:"qg",get:function(){throw new l("Not implemented yet")}},{key:"IU",get:function(){throw new l("Not implemented yet")}},{key:"Yg",get:function(){throw new l("Not implemented yet")}},{key:"jg",get:function(){throw new l("Not implemented yet")}},{key:"wu",get:function(){throw new l("Not implemented yet")}},{key:"vT",get:function(){throw new l("Not implemented yet")}},{key:"_y",get:function(){return this.sht}},{key:"Zg",get:function(){throw new l("Not implemented yet")}},{key:"Kg",get:function(){throw new l("Not implemented yet")}},{key:"Jg",get:function(){throw new l("Not implemented yet")}},{key:"Ey",get:function(){throw new l("Not implemented yet")}},{key:"rg",get:function(){throw new l("Not implemented yet")}},{key:"Ry",get:function(){throw new l("Not implemented yet")}},{key:"$g",get:function(){throw new l("Not implemented yet")}},{key:"Aj",get:function(){throw new l("Not implemented yet")}},{key:"im",get:function(){throw new l("Not implemented yet")},set:function(t){throw new l("Not implemented yet")}},{key:"Ck",get:function(){throw new l("Not implemented yet")}},{key:"VN",get:function(){throw new l("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Ph}},{key:"Tj",get:function(){return IN}},{key:"Lm",get:function(){throw new l("Not implemented yet")}},{key:"NU",get:function(){throw new l("Not implemented yet")}},{key:"$N",get:function(){throw new l("Not implemented yet")}},{key:"bj",get:function(){return!0}},{key:"CN",get:function(){return this.pX.CN},set:function(t){this.pX.CN=t}},{key:"Oq",get:function(){return this.pX.Oq}}]),n}(Hy),GV=function(t){function n(n){var i;return(i=t.call(this,Df.zf)||this).uht=n,i}return E(n,t),n}(Su);function $V(t){switch(t.type){case VV.yQ:return t.value;case VV.Fct:return _y(t.value);case VV.Xct:return Uu(t.value);default:return}}function YV(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.yQ="daterange-ca-type_string",t.Fct="daterange-ca-type_number",t.Xct="daterange-ca-type_arraybuffer"}(VV||(VV={}));var QV=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this).lR=void 0,u.fht=void 0,u.lR=n,u.fht=s,u}return E(n,t),T(n,[{key:"name",get:function(){return this.lR}},{key:"timestamp",get:function(){return this.fht}}]),n}(ff),ZV=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e,r,a)||this).url=void 0,h.status=void 0,h.errorComment=void 0,h.url=s,h.status=u,h.errorComment=o,h}return E(n,t),n}(QV),KV=function(){function t(t,n){this.Dm=void 0,this.Gq=void 0,this.Dm=new Pk,this.Gq=new ex(t,n)}var n=t.prototype;return n.AE=function(t,n,i,e,r,s,u){var o=new eP(t,n,i,e,r,s,u);return this.Dm.T_(o),this.Gq.T_(o),o},n.EE=function(t){this.Dm.S_(t),this.Gq.S_(t),t.Bd()},n.I_=function(){for(var t=0,n=this.Dm.R_.slice();t<n.length;t++){n[t].Bd()}this.Dm.I_(),this.Gq.I_()},n.Bd=function(){this.I_(),this.Dm.Bd(),this.Gq.Bd()},T(t,[{key:"Lm",get:function(){return this.Dm}}]),t}(),JV=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this).pC=0,u.wW=!1,u.sN=void 0,u.uN=void 0,u.vht=void 0,u.TC=!0,u.SC=1,u.Rm=void 0,u.Nm=void 0,u.Hq=void 0,u.Vq=void 0,u.Dm=void 0,u.yE=void 0,u.ea=void 0,u.G5=fE.gC(),u.nW=fE.gC(),u.AC=!1,u.$q=fE.gC(),u.EC=void 0,u.dht=void 0,u.wht=void 0,u._W=Zy.xg,u.DE=Zy.xg,u.rht=void 0,u.Gq=void 0,u.cN=void 0,u.zct=void 0,u.zet=void 0,u.DC=void 0,u.eN=void 0,u.hN=void 0,u.eht=void 0,u.uht={gy:0,yy:0,by:0,py:0,Ay:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.rN=void 0,u._ht=void 0,u.vN=new XS,u.lN=new $S,u.setCurrentTime=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Ry.length){n.next=4;break}return u.pC=t,n.next=4,jr.awrap(u.rht.uu("seekablechange"));case 4:u.pC=u.updateCurrentTime(t),u.zct.eK("THEOplayerSetCurrentTime",u.pC),u.EC=!0,u.Ys(new Ip(u.pC));case 8:case"end":return n.stop()}},null,null,null,We)},u.ght=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.G5=new fE(i),u.Ys(new PN(u.qg))}},u.mht=function(t){u._W=t.detail.readyState,u.Ys(new Np(+t.detail.currentTime,u.rg)),u.yht()},u.kht=function(t){u._W=t.detail.readyState,u.Ys(new Dp(+t.detail.currentTime,u.rg)),u.yht()},u.bht=function(t){if(t.detail){var n=+t.detail.duration;u.ea=n,u.Ys(new kp(u.Yg))}},u.pht=function(t){t.detail&&(u.wW=!0,u.Ys(new Sp(+t.detail.currentTime)))},u.dN=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);YV(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.uN=new ZV(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.sN=r_(u.uN),u.Ys(new xp(u.uN))):YV(i)&&(u.uN=new QV(i.name,i.message,void 0,i.code,i.timestamp),u.sN=r_(u.uN),u.Ys(new xp(u.uN)))}},u.Aht=function(t){u.Ys(new xN)},u.Tht=function(t){u._W=t.detail.readyState,u.Ys(new Ep(+t.detail.currentTime,u.rg)),u.yht()},u.Sht=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Ry.length){n.next=3;break}return n.next=3,jr.awrap(u.rht.uu("seekablechange"));case 3:u._W=t.detail.readyState,u.Ys(new bp(+t.detail.currentTime,u.rg)),u.yht();case 6:case"end":return n.stop()}},null,null,null,We)},u.Eht=function(t){t.detail&&u.TC&&(u.TC=!1,u.Ys(new mp(+t.detail.currentTime)))},u.Iht=function(t){t.detail&&(u.TC||(u.TC=!0,u.Ys(new gp(+t.detail.currentTime))))},u.Rht=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.$q=new fE(i)}},u.Nht=function(t){t.detail&&u.Ys(new yA(+t.detail.currentTime))},u.Dht=function(t){t.detail&&(u.SC=t.detail.playbackRate,u.Ys(new Ap(+t.detail.currentTime,u.SC)))},u.Cht=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.nW=new fE(i)}},u.Pht=function(t){t.detail&&(u.pC=+t.detail.currentTime,u.EC=!1,u.Ys(new Tp(u.pC,u.vht)),u.Ys(new Rp(u.pC)))},u.Bht=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.ea&&(u.wW=!1),u.EC=!0,u.Ys(new Ip(n))}},u.Oht=function(t){t.detail&&(t.detail.currentDate&&(u.vht=new Date(1e3*t.detail.currentDate)),u.pC=+t.detail.currentTime,u.Ys(new Tp(u.pC,u.vht)))},u.xht=function(t){u.dht=t.detail.height,u.wht=t.detail.width},u.Lht=function(t){t.detail&&u.Ys(new mA(+t.detail.currentTime))},u.Mht=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Om.T_(new y_(n))},u.Uht=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.Rm.N_;s++){var o=u.Om.A_(s);o.V_==e&&o.z_==r?i=u.Rm.A_(s):1==o.U_&&(n=u.Rm.A_(s))}i&&n&&(i.U_=!0,n.U_=!1)},u.Xht=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.xm.T_(new A_(n))},u.CZ=function(t){var n,i=t.detail.kind,e=t.detail.type;i===Dk.rA&&e===b_.ID3?(n=new hx("",t.detail.label)).K_=Dy.Y_:i===Dk.rA&&e===b_.DATE_RANGE?(n=new sL,u._ht=n):n=new eP(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.Hq.T_(n),u.Gq.T_(n)},u.Fht=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(s.description=e.Id3FrameDescription);var o=new ox(_y(e.startTime),s,e.uid),a=u.Hht();a&&a.SE(o)}},u.zht=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new H_(_y(r.startTime),_y(r.endTime),r.content,!1),o=null!=(e=u.Vht(Dk.iA))?e:u.Vht(Dk.uE);o&&(o.us=b_.WEBVTT,o.SE(s))}},u.YY=function(t){t.type===Df.cf&&(u.sN=r_(t.errorObject)),u.qs(t)},u.Wht=function(t){t.detail&&(u.uht.yy=t.detail.corruptedVideoFrames,u.uht.gy=t.detail.droppedVideoFrames,u.Ys(new GV(u.pm)))},u.Ght=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={X_:t.id};if(void 0!==t.startDate&&(n.$N=new Date(t.startDate)),void 0!==t.endDate&&(n.m0=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=$V(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.C0=e}void 0!==t.scte35Cmd&&(n.P0=Uu(t.scte35Cmd)),void 0!==t.scte35In&&(n.O0=Uu(t.scte35In)),void 0!==t.scte35Out&&(n.B0=Uu(t.scte35Out)),void 0!==t.startTime&&(n.Zy=t.startTime),n.R0=t.class,n.Yg=_y(t.duration),n.N0=_y(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Zy?t.Zy:(new Date).getTime(),e=new eL(t,i);u._ht.SE(e),u._ht.Wc(n,i)})};var o=r.uid;u.zct=u.getSdkBridge(o),u.rht=new xV,IV()[o].sdkEventBus=u.rht,u.Rm=new u_,u.Nm=new u_;var a=u.qht(e);return u.yE=new KV(Kt(u),new rx),u.Gq=new ux(Kt(u)),u.cN=new tA(u.yE,a),u.Hq=new Pk,u.Vq=new lx(u.yE,u.Hq),u.Dm=new WS([u.Hq,u.cN.ZA,u.Vq.ZA]),u.eht=u.getFairPlayControllerBridge(u.zct),u.eN=new qV(u.rht,u.eht),u.hN=new zS(a),u.eN.CN=u.hN,u.observeMediaElement(),u.BN(),u.DC=new BV(u.zct,s),u.DC.js("uL",function(){u.zct.eK("THEOplayerSetPreferredForwardBufferDuration",u.DC.sL)}),u}E(n,t);var i=n.prototype;return i.Jm=function(){return dE},i.Qm=function(){this.zct.eK("THEOplayerShow",{})},i.Zm=function(){this.zct.eK("THEOplayerHide",{})},i.Yht=function(){var t=this;this.zct.eK("THEOplayerSetInitialPreferredPeakBitRate",this.DC.bL);this.js("playing",function n(){t.zct.eK("THEOplayerSetInitialPreferredPeakBitRate",0),t.Js("playing",n)})},i.zm=function(t,n){var i,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.zet=t,i=Fr({},n,{sources:{src:t.src,type:$y.Rg,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.zct.eK("THEOplayerSourceChange",i),e={us:uA.RE,cg:t.src,Ul:t.type,ON:this.xN(t),LN:t.crossOrigin,MN:n.metadata&&n.metadata.title},this.hN.HR(t.contentProtection),s.next=7,jr.awrap(this.eN.zc(e));case 7:this.rN=s.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==b_.WEBVTT})).length>0&&this.UN(r),sA(this.Lm),this.Yht();case 11:case"end":return s.stop()}},null,this,null,We)},i.xN=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Kc:ws,jN:[{initDataTypes:[ws.fs],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Um=function(){this.TC=!1,this.Ys(new mp(this.qg)),this.zct.eK("THEOplayerPlay",{})},i.Xm=function(){this.TC=!0,this.Ys(new gp(this.qg)),this.zct.eK("THEOplayerPause",{})},i.Km=function(){},i.I_=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pC=0,this.wW=!1,this.sN=void 0,this.uN=void 0,this.TC=!0,this.SC=1,this.ea=void 0,this.nW=fE.gC(),this.G5=fE.gC(),this.dht=void 0,this.wht=void 0,this._W=Zy.xg,this.DE=Zy.xg,this.Rm.I_(),this.Nm.I_(),this.Hq.I_(),this.Dm.I_(),t.next=19,jr.awrap(this.Vq.I_());case 19:return t.next=21,jr.awrap(this.cN.I_());case 21:return this.yE.I_(),this.Gq.I_(),this.zet=void 0,t.next=26,jr.awrap(this.eN.I_());case 26:case"end":return t.stop()}},null,this,null,We)},i.Wm=function(){this.zct.eK("THEOplayerShowAirPlayPicker",{})},i.Gm=function(){this.zct.eK("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.pm.yy=t.yy,this.pm.gy=t.gy},i.Bd=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jr.awrap(this.I_());case 2:return this.Ks(),this.unobserveMediaElement(),this.qN(),this.eN.CN=void 0,t.next=8,jr.awrap(this.eN.Bs());case 8:return this.Rm.Bd(),this.Nm.Bd(),this.Hq.Bd(),this.Dm.Bd(),t.next=14,jr.awrap(this.Vq.Bd());case 14:return t.next=16,jr.awrap(this.cN.Bd());case 16:this.yE.Bd(),this.Gq.Bd();case 18:case"end":return t.stop()}},null,this,null,We)},i.UN=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.cN.pE(i)}},i.yht=function(){var t=this.DE,n=this._W;t!==n&&(this.DE=n,this.Ys(new Pp(this.qg,n)))},i.observeMediaElement=function(){this.eN.js(Df.ef,this.qs),this.eN.js([Df.hf,Df.cf],this.YY),this.rht.addEventListener("play",this.Eht),this.rht.addEventListener("pause",this.Iht),this.rht.addEventListener("seeking",this.Bht),this.rht.addEventListener("seeked",this.Pht),this.rht.addEventListener("ratechange",this.Dht),this.rht.addEventListener("durationchange",this.bht),this.rht.addEventListener("timeupdate",this.Oht),this.rht.addEventListener("waiting",this.Lht),this.rht.addEventListener("playing",this.Nht),this.rht.addEventListener("ended",this.pht),this.rht.addEventListener("loadedmetadata",this.Sht),this.rht.addEventListener("loadeddata",this.Tht),this.rht.addEventListener("loadstart",this.Aht),this.rht.addEventListener("canplay",this.mht),this.rht.addEventListener("canplaythrough",this.kht),this.rht.addEventListener("error",this.dN),this.rht.addEventListener("seekablechange",this.Cht),this.rht.addEventListener("videosizechange",this.xht),this.rht.addEventListener("bufferedchange",this.ght),this.rht.addEventListener("playedchange",this.Rht),this.rht.addEventListener("metricschange",this.Wht),this.rht.addEventListener("addDateRangeCues",this.Ght)},i.unobserveMediaElement=function(){this.eN.Js(Df.ef,this.qs),this.eN.Js([Df.hf,Df.cf],this.YY),this.rht.removeEventListener("play",this.Eht),this.rht.removeEventListener("pause",this.Iht),this.rht.removeEventListener("seeking",this.Bht),this.rht.removeEventListener("seeked",this.Pht),this.rht.removeEventListener("ratechange",this.Dht),this.rht.removeEventListener("durationchange",this.bht),this.rht.removeEventListener("timeupdate",this.Oht),this.rht.removeEventListener("waiting",this.Lht),this.rht.removeEventListener("playing",this.Nht),this.rht.removeEventListener("ended",this.pht),this.rht.removeEventListener("loadedmetadata",this.Sht),this.rht.removeEventListener("loadeddata",this.Tht),this.rht.removeEventListener("loadstart",this.Aht),this.rht.removeEventListener("canplay",this.mht),this.rht.removeEventListener("canplaythrough",this.kht),this.rht.removeEventListener("error",this.dN),this.rht.removeEventListener("seekablechange",this.Cht),this.rht.removeEventListener("videosizechange",this.xht),this.rht.removeEventListener("bufferedchange",this.ght),this.rht.removeEventListener("playedchange",this.Rht),this.rht.removeEventListener("metricschange",this.Wht),this.rht.removeEventListener("addDateRangeCues",this.Ght)},i.updateCurrentTime=function(t){var n=this.Ry.start(0),i=this.Ry.end(0);return g.min(g.max(t,n),i)},i.Hht=function(){for(var t=0,n=this.Dm.R_;t<n.length;t++){var i=n[t];if(i.H_===Dk.rA&&i.us===b_.ID3)return i}},i.Vht=function(t){for(var n=0,i=this.Dm.R_;n<i.length;n++){var e=i[n],r=e.K_===Dy.j_,s=e.H_===t;if(r&&s)return e}},i.BN=function(){this.rht.addEventListener("addaudiotrack",this.Mht),this.rht.addEventListener("enableaudiotrack",this.Uht),this.rht.addEventListener("addvideotrack",this.Xht),this.rht.addEventListener("addtexttrack",this.CZ),this.rht.addEventListener("addtexttrackid3cues",this.Fht),this.rht.addEventListener("addtexttrackcues",this.zht)},i.qN=function(){this.rht.removeEventListener("addaudiotrack",this.Mht),this.rht.removeEventListener("enableaudiotrack",this.Uht),this.rht.removeEventListener("addvideotrack",this.Xht),this.rht.removeEventListener("addtexttrack",this.CZ),this.rht.removeEventListener("addtexttrackid3cues",this.Fht),this.rht.removeEventListener("addtexttrackcues",this.zht)},i.oy=function(){},T(n,[{key:"Om",get:function(){return this.Rm}},{key:"vy",get:function(){return this.G5.ZN()}},{key:"ly",get:function(){return this.vht?this.vht:null},set:function(t){this.zct.eK("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.vht=t}},{key:"qg",get:function(){return this.pC},set:function(t){this.setCurrentTime(t)}},{key:"Yg",get:function(){return this.ea}},{key:"jg",get:function(){return this.wW}},{key:"wu",get:function(){return this.sN}},{key:"Qg",get:function(){return this.uN}},{key:"Mm",get:function(){}},{key:"_y",get:function(){return this.eN._y}},{key:"pm",get:function(){return this.uht}},{key:"Zg",get:function(){return this.AC},set:function(t){this.AC!==t&&(this.zct.eK("THEOplayerSetMuted",t),this.AC=t,this.Ys(new Cp(this.qg,t?0:1)))}},{key:"Kg",get:function(){return this.TC}},{key:"Jg",get:function(){return this.SC},set:function(t){this.zct.eK("THEOplayerSetPlaybackRate",t),this.SC=t}},{key:"Ey",get:function(){return this.$q.ZN()}},{key:"Iy",get:function(){return eE.yD},set:function(t){}},{key:"rg",get:function(){return this._W}},{key:"Ry",get:function(){return this.nW.ZN()}},{key:"$g",get:function(){return this.EC}},{key:"$N",get:function(){}},{key:"Lm",get:function(){return this.Dm}},{key:"tm",get:function(){return this.dht}},{key:"nm",get:function(){return this.wht}},{key:"im",get:function(){return 1},set:function(t){}},{key:"Ny",get:function(){return this.lN}},{key:"xm",get:function(){return this.Nm}},{key:"tD",get:function(){return this.vN}},{key:"Dy",get:function(){return!1},set:function(t){}},{key:"Sy",get:function(){return!0}}]),n}(Hy),tW=function(){function t(){this.nD=MS.OR}var n=t.prototype;return n.iD=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(np(n.type))return!1;var e=n.contentProtection;if(e&&!eT(e)){if(!uT(e))return!1;if(!t.jht(e))return!1}return!0},t.jht=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.eD=function(){return!1},t}(),nW=function(){function t(){this.Qht=r.webkit}return t.prototype.eK=function(t,n){this.Qht.messageHandlers[t]&&this.Qht.messageHandlers[t].postMessage(n)},t}(),iW=function(t){function n(n){var i;return(i=t.call(this)||this).zct=void 0,i.rht=void 0,i.Zht=function(t){var n=Uu(t.detail.initData),e=t.detail.sessionId;i.Ys(new LV(n,e))},i.Kht=function(t){var n=new _(Yu(t.detail.message)),e=t.detail.destinationURL;i.Ys(new MV(n,e))},i.Jht=function(t){i.Ys(new jV)},i.zct=n,i.rht=new xV,IV().fairplayController={sdkEventBus:i.rht},i.$ht(),i}E(n,t);var i=n.prototype;return i.$ht=function(){this.rht.addEventListener(DV.Qct,this.Zht),this.rht.addEventListener(DV.Zct,this.Kht),this.rht.addEventListener(DV.Kct,this.Jht)},i.bq=function(t,n){var i={playerId:CV(),data:Qu(n.buffer),sessionId:t};this.zct.eK("THEOplayerCreateKeySession",i)},i.Wc=function(t,n){var i={playerId:CV(),data:Qu(n.buffer),sessionId:t};this.zct.eK("THEOplayerUpdateKey",i)},n}(Hy),eW=function(t){var n=this;this.rht=void 0,this.tft=void 0,this.nft=function(){n.tft.XZ()},this.ift=function(){n.tft.UZ()},this.rht=new xV,this.tft=t,this.rht.addEventListener("showTracks",this.nft),this.rht.addEventListener("hideTracks",this.ift),IV().texttracks={sdkEventBus:this.rht}},rW=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this).WZ=void 0,o.GZ=void 0,o.eft=void 0;var a=i.NN(s_.Td);return o.WZ=new Ux,o.WZ.pj(n),o.GZ=new zB(o.WZ.wy,a.IU,o.Lm,u,a.VN),o.eft=new eW(o.GZ),i.YN(a),de.document.querySelector(".vjs-tech")?de.document.querySelector(".player-div").classList.add("theo-ios-sdk"):de.document.querySelector(".player-div").style.background="transparent",o}E(n,t);var i=n.prototype;return i.Qm=function(){t.prototype.Qm.call(this),this.WZ.Qm()},i.Zm=function(){t.prototype.Zm.call(this),this.WZ.Zm()},i.Vm=function(){return!0},i.getSdkBridge=function(){return new nW},i.getFairPlayControllerBridge=function(){return uW},i.qht=function(t){return t},i.Bd=function(){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return de.document.querySelector(".vjs-tech")?de.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):de.document.querySelector(".player-div").style.background="#000000",n.next=3,jr.awrap(t.prototype.Bd.call(this));case 3:this.GZ.Bd(),this.WZ.Bd();case 5:case"end":return n.stop()}},null,this,null,We)},n}(JV);nE(new(function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.EI=function(t,n,i,e,r,s){return new rW(t,n,i,e,r,s)},i.iD=function(n,i){if(n.type){var e=dr();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.iD.call(this,n,i)},n}(tW)));var sW,uW=new iW(new nW),oW=function(t){function n(){return t.call(this,"rft")||this}return E(n,t),n.prototype.$w=function(){return new aW},n}(Km),aW=function(t){function n(){return t.call(this,"statechange")||this}return E(n,t),n}(Su);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(sW||(sW={}));var hW=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).sft=new Hy,n.qs=function(t){n.Ys(t)},n}E(n,t);var i=n.prototype;return i.$w=function(){return n=function(t){var n=t.uft.map(function(t){return t.Jw});return n.item=function(n){n|=0;var i=t.A_(n);return i&&i.Jw||void 0},n}(t=this),i=new pC(t,n),n.addEventListener=function(t,n){i.js(t,n)},n.removeEventListener=function(t,n){i.Js(t,n)},n;var t,n,i},i.js=function(t,n){this.sft.js(t,n)},i.Zs=function(t){this.sft.Zs(t)},i.Ks=function(){this.sft.Ks()},i.Ys=function(t){this.sft.Ys(t)},i.Js=function(t,n){this.sft.Js(t,n)},i.tu=function(t){this.sft.tu(t)},i.nu=function(t){this.sft.nu(t)},i.uu=function(t,n){return this.sft.uu(t,n)},n}(function(){function t(){this.Au=[],this.Kw=void 0}var n=t.prototype;return n.A_=function(t){return this.Au[t]},n.Py=function(t){this.Au.push(t),this.Kw&&this.Kw.push(t.Jw),this.oft(t)},n.aft=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Py(i)}},n.cft=function(t,n){n>=0&&n<=this.Au.length&&(this.Au.splice(n,0,t),this.Kw&&this.Kw.splice(n,0,t.Jw),this.oft(t))},n.By=function(t){return Ys(this.Au,t)},n.Vc=function(t){this.hft(this.Au.indexOf(t))},n.hft=function(t){if(t>=0&&t<this.Au.length){var n=this.Au[t];$s(this.Au,t),this.Kw&&$s(this.Kw,t),this.fft(n)}},n.Ru=function(){var t=this.Au.slice();Zs(this.Au),this.Kw&&Zs(this.Kw);for(var n=0;n<t.length;n++){var i=t[n];this.fft(i)}},T(t,[{key:"uft",get:function(){return this.Au}},{key:"N_",get:function(){return this.Au.length}},{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}}]),t}());var cW,fW=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return E(n,t),n}(Su),lW=function(t){function n(n){var i;return(i=t.call(this,"lft")||this).vft=n,i}return E(n,t),n.prototype.$w=function(){return new fW(this.vft.Jw)},n}(Km),vW=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return E(n,t),n}(Su),dW=function(t){function n(n){var i;return(i=t.call(this,"dft")||this).task=n,i}return E(n,t),n.prototype.$w=function(){return new vW(this.task.Jw)},n}(Km),wW=function(t){function n(){return t.call(this)||this}E(n,t);var i=n.prototype;return i.oft=function(t){this.Ys(new lW(t))},i.fft=function(t){this.Ys(new dW(t))},n}(hW);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(cW||(cW={}));var gW=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).wft=cW.UNINITIALISED,r.zU=new wW,r.Wat=void 0,r._ft=void 0,r.gft=void 0,r.gft=i,r._ft=e,r.Wat=n,r.qm(),r}E(n,t);var i=n.prototype;return i.qm=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jr.awrap(this.mft());case 2:this.yft(cW.INITIALISED);case 3:case"end":return t.stop()}},null,this,null,We)},i.mft=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,jr.awrap(this.kft());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},null,this,[[0,5]],We)},i.kft=function(){var t,n,i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,jr.awrap(this.Wat.got());case 2:for(t=r.sent,n=0;n<t.length;n++)i=t[n],e=this.gft.bft(i.id,i.sourceDescription,i.parameters,this._ft),this.pft(e),this.zU.Py(e);case 4:case"end":return r.stop()}},null,this,null,We)},i.yft=function(t){this.wft=t,this.Ys(new oW)},i.bft=function(t,n,i){void 0===i&&(i="persistent");var e=this.gft.Aft(t,n,i);return this.Tft(e,i),this.zU.Py(e),this.pft(e),e},i.Tft=function(t,n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,jr.awrap(this.Sft(t,n));case 3:i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(0),l("Unable to persist task - "+i.t0);case 8:case"end":return i.stop()}},null,this,[[0,5]],We)},i.Sft=function(t,n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,jr.awrap(this.Wat.dot({key:t.X_,id:t.X_,sourceDescription:t.dD,parameters:t.ah},n));case 2:case"end":return i.stop()}},null,this,null,We)},i.pft=function(t){var n=this;t.js("rft",function(){t.Zl===sW.EVICTED&&n.zU.Vc(t)})},T(n,[{key:"Zl",get:function(){return this.wft}},{key:"Eft",get:function(){return this.zU}}]),n}(Au);function mW(t,n){return function(t,n){var i=t.Ck&&n.Ck,e=t.vT&&n.vT;return i||e?i&&e?t.Ck*t.vT-n.Ck*n.vT:i?t.Ck-n.Ck:e?t.vT-n.vT:(t.Ck||1)*(t.vT||1)-(n.Ck||1)*(n.vT||1):0}(t,n)||function(t,n){return t.UR-n.UR}(t,n)}var yW=function(t){function n(){return t.call(this,"progress")||this}return E(n,t),n}(Su),pW=function(t){function n(){return t.call(this,"Ift")||this}return E(n,t),n.prototype.$w=function(){return new yW},n}(Km),_W=function(){function t(t,n,i){if(this.Rft=void 0,this.Nft=t,this.Cy=n,this.Dft=i,0===this.Cy.size)this.Rft=fE.gC();else{var e=new fE([-1/0,1/0]);this.Cy.forEach(function(t){e=e.YD(t.timeRanges)}),this.Rft=e}}return t.prototype.pk=function(t){return!!gy(this.Cy,t.Cy)&&(!!Ht(this.Nft,t.Nft)&&(!!Ht(this.lC,t.lC)&&(!!Ht(this.Cft,t.Cft)&&this.Pft.oC(t.Pft))))},t.Bft=function(){return kW},T(t,[{key:"lC",get:function(){return this.Dft}},{key:"Oft",get:function(){return this.Nft}},{key:"Cft",get:function(){return this.Pft.lC}},{key:"xft",get:function(){var t=0,n=0;return this.Cy.forEach(function(i){t+=i.timeRanges.lC,n+=i.totalQualityDurationToCache}),0===n?0:g.min(1,t/n)}},{key:"Pft",get:function(){return this.Rft}}]),t}(),bW=Hr(),kW=new _W(0,bW,NaN);function AW(t,n){if(q(t)){if(bs(t,"%"))return y(t)/100*n;throw new l("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var TW,SW=function(t){function n(n,i){return t.call(this,n,i)||this}return E(n,t),T(n,[{key:"name",get:function(){return"Lft"}}]),n}(tn);function EW(t,n,i){var e,r,s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Mft;r<s.length;r++)u=s[r],e.push(IW(u,n,i));return a.next=4,jr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{Yg:t.Xft.Uft(),Fft:[t.Hft],Mft:o});case 6:case"end":return a.stop()}},null,null,null,We)}function IW(t,n,i){var e,r,s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.zft;r<s.length;r++)u=s[r],e.push(RW(u,n,i));return a.next=4,jr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{Vft:o});case 6:case"end":return a.stop()}},null,null,null,We)}function RW(t,n,i){var e,r,s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Wft;r<s.length;r++)CW(u=s[r])||e.push(xW(u,n,i));return a.next=4,jr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{ZA:o,us:t.us});case 6:case"end":return a.stop()}},null,null,null,We)}function CW(t){return t.a1.every(PW)}!function(t){t[t.Ig=0]="Ig",t[t.Rg=1]="Rg"}(TW||(TW={}));var NW,DW=1;function PW(t){return t.Gft!==DW&&Boolean(t.Gft)}function xW(t,n,i){var e,r,s,u,o,a,h,c,f;return jr.async(function(l){for(;;)switch(l.prev=l.next){case 0:for(e=[],r=0,s=t.a1;r<s.length;r++)PW(u=s[r])||e.push(OW(u,i));return l.next=4,jr.awrap(We.all(e));case 4:return o=l.sent,a=t.XH[0],h=t.o1,c=h?BW(a,h):void 0,f=EL(t,n),l.abrupt("return",{W_:o,V_:t.Ret,us:t.us,ON:c,qft:f});case 10:case"end":return l.stop()}},null,null,null,We)}function BW(t,n){for(var i=[],e=function(t){return t?bs(t,"avc")?Fc.VIDEO_H264:bs(t,"hev")||bs(t,"hvc")||bs(t,"hvt")||bs(t,"lhv")||bs(t,"lhe")||bs(t,"lht")?Fc.VIDEO_H265:bs(t,"mp4")?Fc.VIDEO_MP4:bs(t,"mpeg2")?Fc.VIDEO_MPEG2:bs(t,"mpeg")?Fc.VIDEO_MPEG:Fc.VIDEO_UNKNOWN:Fc.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.J0.split(":").pop(),o=s.$0;i.push({mimeType:e,uuid:u,data:o})}return{type:TW.Ig,schemeType:Jr,schemeDatas:i}}function OW(t,n){var i,e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,jr.awrap(LW(t,n));case 2:r=u.sent,s={X_:jW(t),KS:r,UR:t.UR,Ke:t.Ke,vT:t.vT,us:t.us,Ck:t.Ck},u.t0=t.us,u.next=u.t0===s_.Kn?7:u.t0===s_.Td?8:u.t0===s_.Ad?10:12;break;case 7:return u.abrupt("break",13);case 8:return s.jK=null!=(i=null==(e=t.jK)?void 0:e.Bk())?i:NaN,u.abrupt("break",13);case 10:return s.audioSamplingRate=t.KK,u.abrupt("break",13);case 12:0;case 13:return u.abrupt("return",s);case 14:case"end":return u.stop()}},null,null,null,We)}function LW(t,n){var i,e,r,s,u,o,a,h;return jr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=t.Yft,t.Rat&&i.push({Zy:0,Yg:0,jft:t.Rat}),r=e.Qft(),s=r;case 5:if(!s){c.next=17;break}if(!t.Zft(s)){c.next=13;break}return c.next=9,jr.awrap(t.Kft(s,n,(new uu).zs));case 9:for(u=c.sent,o=0;o<u.N_;o++)i.push(MW(u.Jft(o),t));c.next=14;break;case 13:i.push(MW(s,t));case 14:s=e.$ft(s),c.next=5;break;case 17:return a=e.tvt(),h=a.Ky-r.Zy,c.abrupt("return",{Yg:h,Y0:i});case 20:case"end":return c.stop()}},null,null,null,We)}function MW(t,n){return{Zy:t.Zy,Yg:t.Yg,jft:n.nvt(t)}}function jW(t){return t.ivt.OD+"-"+(""+t.X_)}function FW(t,n){return function(t,n){for(var i={},e=0;e<gL.length;e++){var r=gL[e],s=t[r],u={};for(var o in s){for(var a=[],h=s[o],c=0;c<h.length;c++){var f=h[c],l=UW(f,r,n);a.push(l)}u[o]=a}i[r]=u}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var e=t[i];n[e.EJ]||(n[e.EJ]={us:e.us,sT:[]}),n[e.EJ].sT.push(e)}return n}(t),i={};for(var e in n)for(var r=n[e],s=0,u=r.sT;s<u.length;s++){var o,a,h=u[s],c=null!=(a=i[o=r.us])?a:i[o]={};c[h.ci]||(c[h.ci]=[]),c[h.ci].push(h)}return i}(t),n)}function UW(t,n,i){for(var e=t.EJ,r={qJ:t,m$:[]},s=0;s<i.length;s++){var u=i[s];TM(n,e,u)&&r.m$.push(u)}return r}function HW(t,n){var i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jr.awrap(n.Hat([t],{}));case 2:return i=e.sent,e.abrupt("return",hM(i.rd,{},i.Uat));case 4:case"end":return e.stop()}},null,null,null,We)}function XW(t,n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!fL(t)){i.next=4;break}return i.abrupt("return",zW(t,n));case 4:return i.abrupt("return",(r=void 0,{Yg:(r=KW(e=t)).Yg,Fft:[e.NJ],Mft:[{Vft:[{us:s_.hd,ZA:[{us:s_.hd,V_:Wj,W_:[{X_:e.NJ,KS:r,UR:0,Ke:"",vT:0,us:s_.hd,Ck:0}]}]}]}]}));case 5:case"end":return i.stop()}var e,r},null,null,null,We)}function zW(t,n){var i,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=FW(t.sT,t.s2),s.next=3,jr.awrap(qW(i,n));case 3:return e=s.sent,s.next=6,jr.awrap(WW(t.s2,n));case 6:return r=s.sent,e.push(r),s.abrupt("return",{Yg:VW(e),Fft:[t.NJ],Mft:[{Vft:e}]});case 9:case"end":return s.stop()}},null,null,null,We)}function VW(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].ZA;e<r.length;e++){var s=r[e];n=g.max.apply(g,[n].concat(s.W_.map(function(t){return t.KS.Yg})))}return n}function WW(t,n){var i,e,r,s,u,o,a,h;return jr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=0;case 2:if(!(e<t.length)){c.next=15;break}return a=t[e],c.next=6,jr.awrap(ZW(a.NJ,n));case 6:(h=c.sent).UR=a.UR,h.Ke=a.XH?[(f=a.XH).UH,f.MH,f.FH].filter(U).join(","):"",h.vT=null!=(r=null==(s=a.s$)?void 0:s.vT)?r:0,h.Ck=null!=(u=null==(o=a.s$)?void 0:o.Ck)?u:0,i.push(h);case 12:e++,c.next=2;break;case 15:return c.abrupt("return",{us:s_.hd,ZA:[{V_:Wj,us:s_.hd,W_:i}]});case 16:case"end":return c.stop()}var f},null,null,null,We)}function qW(t,n){var i,e,r,s,u;return jr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=0;case 2:if(!(e<gL.length)){o.next=13;break}if(r=gL[e],!(s=t[r])){o.next=10;break}return o.next=8,jr.awrap(GW(s,r,n));case 8:u=o.sent,i.push(u);case 10:e++,o.next=2;break;case 13:return o.abrupt("return",i);case 14:case"end":return o.stop()}},null,null,null,We)}function GW(t,n,i){var e,r,s,u;return jr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=[],o.t0=jr.keys(t);case 2:if((o.t1=o.t0()).done){o.next=11;break}return r=o.t1.value,s=t[r],o.next=7,jr.awrap($W(s,i));case 7:u=o.sent,e.push(u),o.next=2;break;case 11:return o.abrupt("return",{us:YW(n),ZA:e});case 12:case"end":return o.stop()}},null,null,null,We)}function $W(t,n){var i,e,r,s,u;return jr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=t[0].qJ,r=0;case 3:if(!(r<t.length)){o.next=12;break}return s=t[r],o.next=7,jr.awrap(QW(s,n));case 7:u=o.sent,i.push(u);case 9:r++,o.next=3;break;case 12:return o.abrupt("return",{V_:e.V_||Wj,us:YW(e.us),W_:i});case 13:case"end":return o.stop()}},null,null,null,We)}function YW(t){switch(t){case aL.Ad:return s_.Ad;case aL.Td:return s_.Td;case aL.iA:case aL.j0:return s_.Kn;default:return s_.hd}}function QW(t,n){var i,e,r;return ZW((e=(i=t).qJ.NJ,r=i.m$.map(function(t){return t.NJ}),e||(r.length?r[0]:void 0)),n)}function ZW(t,n){var i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i={Yg:0,Y0:[]},!t){r.next=6;break}return r.next=4,jr.awrap(HW(t,n));case 4:lL(e=r.sent)&&(i=KW(e));case 6:return r.abrupt("return",{X_:t||"default",evt:t,KS:i,UR:0,Ke:"",vT:0,us:s_.hd,Ck:0});case 7:case"end":return r.stop()}},null,null,null,We)}function KW(t){for(var n,i=[],e=0,r=0,s=t.Y0;r<s.length;r++){var u=s[r],o=e;!u.c2||void 0!==n&&pL(u.c2.NJ,n)||(i.push(JW(u.c2,o)),n=u.c2.NJ),i.push(tq(u,o)),e+=u.Yg}return{Yg:e,Y0:i}}function JW(t,n){return{Zy:n,Yg:0,jft:nq(t.NJ)}}function tq(t,n){return{Zy:n,Yg:t.Yg,jft:nq(t.NJ)}}function nq(t){return{ud:t._i,yat:t.Q0?[t.Q0.OD,t.Q0.OD+t.Q0.N_]:void 0,Dd:!1}}!function(t){t.RE="static",t.NE="dynamic"}(NW||(NW={}));var iq,eq=31536e3,rq=2592e3,sq=86400,uq=3600,oq=60,aq=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,hq=function(){function t(t){this.rvt=void 0;var n=t.match(aq);if(!n)throw new l("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,e=Number(n[2])||0,r=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.rvt=i*eq+e*rq+r*sq+s*uq+u*oq+o}var n=t.prototype;return n.Uft=function(){return this.rvt},n.svt=function(){return 1e3*this.rvt},T(t,[{key:"N7",get:function(){return sb.zb(this.rvt,1e3)}}]),t}();!function(t){t.uvt="progressive",t.ovt="interlaced",t.hd="unknown"}(iq||(iq={}));var cq=function(){function t(t,n){this.avt=t,this.cvt=n}return t.prototype.Bk=function(){return this.avt/this.cvt},t}(),fq=/^(?:true|false)$/i,lq=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function vq(t){if(void 0!==t)return new hq(t)}function dq(t){if(void 0!==t){var n=t.match(lq);if(!n)throw new l("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],a=n[7],h=n[8],c=n[9],f=n[10],v=n[11],d=("-"===i?-1:1)*Number(e),w=Number(r)-1,m=Number(s),y=Number(u),_=Number(o),b=Number(a),k=Number("0."+(h||"")),A=g.round(1e3*k);if(c)_-=("-"===c?-1:1)*(60*Number(f)+Number(v));var T=new Date(Date.UTC(d,w,m,y,_,b,A));if(p(T.getTime()))throw new l("The given value could not be parsed as a valid Date");return T}}function wq(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[mq(n[1]),mq(n[2])]}}function gq(t){if(void 0!==t){if(!p(Number(t)))try{return lt.fromString(t,!0)}catch(t){}throw new l("The given value could not be parsed as a valid unsigned long")}}function mq(t){if(void 0!==t){var n=Number(t);if(!p(n))return n;throw new l("The given value could not be parsed as a valid Number")}}function yq(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!p(i)&&!p(e))return new cq(i,e);throw new l("The given value could not be parsed as a valid frame rate")}}function pq(t){if(void 0!==t){if(fq.test(t))return"true"===t.toLowerCase();if(!p(m(t)))return Boolean(m(t));throw new l("The given value could not be parsed as a valid Boolean.")}}function _q(t){return{ud:t.Ui,fvt:pq(t.Ci("availabilityTimeComplete")),vvt:mq(t.Ci("availabilityTimeOffset"))}}function bq(t){return t.map(_q)}function kq(t){var n,i,e,r,s,u,o=xq(t),a=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).Pi(e,i))&&(s=n.Ci(r+":"+i)),s),h=fk(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==h&&(u=Yu(h.Ui)),!u){var c=fk(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=Uu(t.Ui),i=new _([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new _(s),o=new DataView(s),a=new Ko;bo(o,a,r),bo(o,a,1886614376),bo(o,a,0),wo(o,a,i),bo(o,a,e),wo(o,a,n),0;return u.buffer}(c))}return{YE:a,$0:u,J0:o.J0,_i:o._i}}function Aq(t){return{lvt:t.Ci("sourceURL"),yat:wq(t.Ci("range"))}}function Tq(t,n){var i=t.Ci("d"),e=t.Ci("t"),r=mq(t.Ci("r"));n.push({Yg:i,Zy:e,dvt:r})}function Sq(t){return{wvt:t.Ci("index"),_vt:wq(t.Ci("indexRange")),sT:t.Ci("media"),gvt:wq(t.Ci("mediaRange"))}}function Eq(t){var n,i;return Fr({},Cq(t),{mvt:(n=t.Ti("SegmentURL"),(i=n.map(Sq)).length>0?i:void 0),yvt:t.Ci("xlink:href"),kvt:t.Ci("xlink:actuate")})}function Iq(t){var n=t.map(Eq);return n.length>0?n:void 0}function Rq(t){var n=pq(t.Ci("availabilityTimeComplete")),i=mq(t.Ci("availabilityTimeOffset")),e=wq(t.Ci("indexRange")),r=pq(t.Ci("indexRangeExact")),s=t.Ti("Initialization");if(s.length>1)throw new l("The provided MPEG-DASH document's "+t.Ei+" element can not have more than one Initialization element.");var u=1===s.length?Aq(s[0]):void 0,o=gq(t.Ci("presentationTimeOffset")),a=t.Ti("RepresentationIndex");if(a.length>1)throw new l("The provided MPEG-DASH document's "+t.Ei+" element can not have more than one RepresentationIndex element.");return{fvt:n,vvt:i,_vt:e,bvt:r,pvt:u,Avt:o,Tvt:1===a.length?Aq(a[0]):void 0,Svt:vq(t.Ci("timeShiftBufferDepth")),Cb:mq(t.Ci("timescale"))}}function Cq(t){var n=Rq(t),i=t.Ti("BitstreamSwitching"),e=i.length>0?Aq(i[0]):void 0,r=mq(t.Ci("duration")),s=t.Ti("SegmentTimeline");if(s.length>1)throw new l("The provided MPEG-DASH document's "+t.Ei+" element can not have more than one SegmentTimeline element.");return Fr({},n,{Evt:e,Yg:r,Yft:1===s.length?function(t){for(var n=[],i=t.Ti("S"),e=0;e<i.length;e++)Tq(i[e],n);return n}(s[0]):void 0,Ivt:mq(t.Ci("startNumber")),Rvt:mq(t.Ci("endNumber"))})}function Nq(t){return Fr({},Cq(t),{Nvt:t.Ci("bitstreamSwitching"),Dvt:t.Ci("index"),Cvt:t.Ci("initialization"),Pvt:t.Ci("media")})}function Dq(t){return{KK:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(mq)):1===n.length?n.map(mq)[0]:void 0}}(t.Ci("audioSamplingRate")),XH:t.Ci("codecs"),Bvt:pq(t.Ci("codingDependency")),o1:function(t){if(0!==t.length)return t.map(kq)}(t.Ti("ContentProtection")),Ovt:t.Ti("EssentialProperty").map(Bq),jK:yq(t.Ci("frameRate")),vT:mq(t.Ci("height")),Gft:mq(t.Ci("maxPlayoutRate")),xvt:mq(t.Ci("maximumSAPPeriod")),QB:t.Ci("mimeType"),Lvt:t.Ci("profiles"),Mvt:t.Ci("sar"),Uvt:function(t){switch(t){case iq.uvt:case iq.ovt:case iq.hd:return t;default:return}}(t.Ci("scanType")),Xvt:t.Ci("segmentProfiles"),Fvt:mq(t.Ci("startWithSAP")),Ck:mq(t.Ci("width"))}}function Pq(t){var n=Dq(t),i=mq(t.Ci("bandwidth")),e=bq(t.Ti("BaseURL")),r=t.Ci("dependencyId"),s=t.Ci("id"),u=t.Ci("mediaStreamStructureId"),o=mq(t.Ci("qualityRanking")),a=t.Ti("SegmentBase");if(a.length>1)throw new l("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var h=1===a.length?Rq(a[0]):void 0,c=Iq(t.Ti("SegmentList")),f=t.Ti("SegmentTemplate");if(f.length>1)throw new l("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return Fr({},n,{UR:i,Hvt:e,zvt:r,X_:s,Vvt:u,Wvt:o,Gvt:h,qvt:c,Yvt:1===f.length?Nq(f[0]):void 0})}function xq(t){return{J0:t.Ci("schemeIdUri"),_i:t.Ci("value")}}function Bq(t){return xq(t)}function Oq(t){return xq(t)}function Lq(t){return xq(t)}function Mq(t){var n,i=Dq(t),e=function(t){return t.map(Lq)}(t.Ti("Accessibility")),r=bq(t.Ti("BaseURL")),s=pq(t.Ci("bitstreamSwitching")),u=t.Ci("contentType"),o=mq(t.Ci("group")),a=mq(t.Ci("id")),h=(null==(n=t.Ti("Label")[0])?void 0:n.Ui)||"",c=t.Ci("lang"),f=mq(t.Ci("maxBandwidth")),v=yq(t.Ci("maxFrameRate")),d=mq(t.Ci("maxHeight")),w=mq(t.Ci("maxWidth")),g=mq(t.Ci("minBandwidth")),m=yq(t.Ci("minFrameRate")),y=mq(t.Ci("minHeight")),p=mq(t.Ci("minWidth")),_=t.Ci("par"),b=t.Ti("Representation").map(Pq);if(0===b.length)throw new l("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k=function(t){return t.map(Oq)}(t.Ti("Role")),A=pq(t.Ci("segmentAlignment"))||!1,T=t.Ti("SegmentBase");if(T.length>1)throw new l("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?Rq(T[0]):void 0,E=Iq(t.Ti("SegmentList")),I=t.Ti("SegmentTemplate");if(I.length>1)throw new l("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var R,C=1===I.length?Nq(I[0]):void 0,N=mq(t.Ci("selectionPriority")),D=N||1,P=pq(t.Ci("subsegmentAlignment"))||!1;try{R=mq(t.Ci("subsegmentStartsWithSAP"))}catch(t){}return Fr({},i,{jvt:e,Hvt:r,Evt:s,Ul:u,Qvt:o,X_:a,z_:h,V_:c,Zvt:f,Kvt:v,Jvt:d,$vt:w,tlt:g,nlt:m,ilt:y,elt:p,rlt:_,a1:b,slt:k,ult:A,Gvt:S,qvt:E,Yvt:C,nD:D,olt:P,clt:R,hlt:t.Ci("xlink:actuate")||"onRequest",flt:t.Ci("xlink:href")})}function jq(t){var n=gq(t.Ci("presentationTime"))||lt.ZERO,i=gq(t.Ci("duration")),e=mq(t.Ci("id")),r=function(t){for(var n=t.Mi,i={},e=0;e<n.length;e++)i[n[e].ci]=n[e]._i;return i}(t),s=t.Ui;return{PS:n,Yg:i,X_:e,Mi:r,Xi:""!==s.trim()?s:t.Ci("messageData")||""}}function Fq(t){return{flt:t.Ci("xlink:href"),hlt:t.Ci("xlink:actuate"),J0:t.Ci("schemeIdUri"),_i:t.Ci("value"),Cb:mq(t.Ci("timescale")),Avt:gq(t.Ci("presentationTimeOffset")),ZB:t.Ti("Event").map(jq)}}function Uq(t,n){var i=t.Ti("AssetIdentifier");if(i.length>1)throw new l("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var e=1===i.length?xq(i[0]):void 0,r=t.Ti("AdaptationSet").map(Mq),s=bq(t.Ti("BaseURL")),u=pq(t.Ci("bitstreamSwitching")),o=vq(t.Ci("duration")),a=t.Ti("EventStream").map(Fq),h=t.Ci("id"),c=n&&vq(n.Ci("start")),f=t.Ti("SegmentBase");if(f.length>1)throw new l("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var v=1===f.length?Rq(f[0]):void 0,d=Iq(t.Ti("SegmentBase")),w=t.Ti("SegmentTemplate");if(w.length>1)throw new l("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===w.length?Nq(w[0]):void 0,m=vq(t.Ci("start"));t.Ti("Subset");var y=t.Ci("xlink:href");return{Wft:r,vlt:e,Hvt:s,Evt:u,Yg:o,llt:a,X_:h,dlt:c,Gvt:v,qvt:d,Yvt:g,OD:m,hlt:t.Ci("xlink:actuate"),flt:y}}function Hq(t){var n=t.Ci("schemeIdUri");if(n)return{J0:n,_i:t.Ci("value")}}function Xq(t,n){var i=dq(t.Ci("availabilityEndTime")),e=dq(t.Ci("availabilityStartTime")),r=bq(t.Ti("BaseURL")),s=t.Ci("id"),u=t.Ti("Location").map(function(t){return""+t.Ui}),o=vq(t.Ci("maxSegmentDuration")),a=vq(t.Ci("maxSubsegmentDuration")),h=vq(t.Ci("mediaPresentationDuration"));t.Ti("Metrics");var c=vq(t.Ci("minBufferTime"));if(!c)throw new l("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=vq(t.Ci("minimumUpdatePeriod")),v=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(Uq(t[i],t[i+1]));return n}(t.Ti("Period"));if(!v.length)throw new l("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.Ci("profiles");if(!d)throw new l("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{wlt:i,_lt:e,Hvt:r,X_:s,glt:u,ylt:n,klt:o,blt:a,Xft:h,plt:c,Alt:f,Mft:v,Lvt:d,Tlt:dq(t.Ci("publishTime")),Slt:vq(t.Ci("suggestedPresentationDelay")),Svt:vq(t.Ci("timeShiftBufferDepth")),us:function(t){switch(t){case NW.RE:case NW.NE:return t;default:return}}(t.Ci("type")),Elt:function(t){for(var n=[],i=0;i<t.length;i++){var e=Hq(t[i]);e&&n.push(e)}return n}(t.Ti("UTCTiming"))}}var zq,Vq=function(){function t(){}return t.prototype.Dct=function(t,n){return function(t,n){if(!t)throw new l("The provided MPEG-DASH document does not contain a valid MPD root element.");return Xq(t,n)}(i.ei(t).Fi,n)},t}(),Wq=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return E(n,t),n}(Su),qq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).F_=void 0,u.xy=void 0,u.Ilt=void 0,u.X_=n,u.UR=i,u.XH=e,u.NJ=s,u.F_=d_(),u.xy=r||"",u.Ilt=!0,u}return E(n,t),n.prototype._E=function(){this.Ilt=!1,this.Ys(new Wq(this.Jw))},T(n,[{key:"z_",get:function(){return this.xy},set:function(t){this.xy!==t&&(this.xy=t,this.Ys(new Wq(this.Jw)))}},{key:"YK",get:function(){}},{key:"ZK",get:function(){return this.Ilt}}]),n}(Au),Gq=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return void 0===h&&(h=0),(c=t.call(this,n,i,e,r,s)||this).Kw=void 0,c.jK=u,c.Ck=o,c.vT=a,c.QK=h,c}return E(n,t),T(n,[{key:"Jw",get:function(){return this.Kw||(this.Kw=cO(this)),this.Kw}}]),n}(qq),$q=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).Kw=void 0,o.KK=u,o}return E(n,t),T(n,[{key:"Jw",get:function(){return this.Kw||(this.Kw=fO(this)),this.Kw}}]),n}(qq);!function(t){t.Rlt="Nlt",t.Dlt="Clt"}(zq||(zq={}));var Yq=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Plt=function(t){n.Ys(t)},n}return E(n,t),T(n,[{key:"Blt",get:function(){var t=this.Olt();return null==t?void 0:t.OD}},{key:"xlt",get:function(){var t=this.Olt();return null==t?void 0:t.LD}}]),n}(Au);function Qq(t){return Q(t.Llt)}var Zq=function(t){function n(n,i){var e;if((e=t.call(this)||this).Mlt=void 0,e.Kw=void 0,e.j3=void 0,e.Ult=void 0,e.Xlt=void 0,e.Mlt=n,e.j3=i,e.j3.js(zq.Rlt,e.Plt),e.us===s_.Td){var r,s,u=null!=(r=null==(s=e.jK)?void 0:s.Bk())?r:NaN;e.Ult=new Gq(e.X_,e.UR,e.Ke,"","",u,e.Ck,e.vT)}else e.us===s_.Ad?e.Ult=new $q(e.X_,e.UR,e.Ke,"","",e.KK):e.Ult=void 0;return e}E(n,t);var i=n.prototype;return i.nvt=function(t){var n=Qq(t)?this.j3.Flt(t):this.j3.nvt(t);return{ud:n.ud,yat:n.yat,Dd:this.Hlt.Dd}},i.zlt=function(){return this.j3.zlt()},i.Olt=function(){return this.j3.Olt()},i.Vlt=function(){return this.j3.Vlt()},i.Zft=function(t){return this.j3.Zft(t)},i.Kft=function(t,n,i){return this.j3.Kft(t,this.Hlt.Dd,n,i)},i.Wlt=function(t){return Qq(t)?this.Yft.Glt(t):this.Yft.Wlt(t)},i.qlt=function(t){return Qq(t)?this.Yft.Ylt(t):this.Yft.qlt(t)},i.Bd=function(){this.j3.Js(zq.Rlt,this.Plt)},T(n,[{key:"jlt",get:function(){return this.Mlt}},{key:"KK",get:function(){var t;return null!=(t=this.j3.Xi.KK)?t:this.jlt.KK}},{key:"UR",get:function(){return this.j3.Xi.UR||0}},{key:"XH",get:function(){var t=this.j3.Xi;return t.XH?[t.XH]:this.jlt.XH}},{key:"Qlt",get:function(){var t=this.j3.Xi;return t.XH?[t.XH]:[]}},{key:"Ke",get:function(){return this.j3.Xi.XH||this.jlt.Ke}},{key:"Bvt",get:function(){return this.j3.Xi.Bvt||this.jlt.Bvt}},{key:"o1",get:function(){return this.j3.Xi.o1||this.jlt.o1}},{key:"Ul",get:function(){return this.QB+'; codecs="'+this.Ke+'"'}},{key:"Ovt",get:function(){var t=this.j3.Xi;return t.Ovt.length?t.Ovt:this.jlt.Ovt}},{key:"Jw",get:function(){return this.Kw||(this.Kw=(t=this,{get id(){return t.X_},get type(){return t.us},get bandwidth(){return t.UR},get width(){return t.Ck},get height(){return t.vT},get frameRate(){var n,i;return null!=(n=null==(i=t.jK)?void 0:i.Bk())?n:NaN},get audioSamplingRate(){return t.KK}}));var t}},{key:"jK",get:function(){var t;return null!=(t=this.j3.Xi.jK)?t:this.jlt.jK}},{key:"vT",get:function(){return this.j3.Xi.vT||this.jlt.vT}},{key:"X_",get:function(){return this.j3.Xi.X_||""}},{key:"Zlt",get:function(){return this.Xlt},set:function(t){this.Xlt=t}},{key:"Rat",get:function(){var t=this.j3.Klt();if(t)return{ud:t.ud,yat:t.yat,Dd:this.Hlt.Dd}}},{key:"Gft",get:function(){return this.j3.Xi.Gft||this.jlt.Gft||1}},{key:"xvt",get:function(){return this.j3.Xi.xvt||this.jlt.xvt}},{key:"Hlt",get:function(){return this.ivt.Hlt}},{key:"QB",get:function(){return this.j3.Xi.QB||this.jlt.QB}},{key:"ivt",get:function(){return this.jlt.ivt}},{key:"Lvt",get:function(){return this.j3.Xi.Lvt||this.jlt.Lvt}},{key:"MJ",get:function(){return this.Ult}},{key:"Mvt",get:function(){return this.j3.Xi.Mvt||this.jlt.Mvt}},{key:"Uvt",get:function(){return this.j3.Xi.Uvt||this.jlt.Uvt}},{key:"Jlt",get:function(){return this.j3.Jlt}},{key:"Xvt",get:function(){return this.j3.Xi.Xvt||this.jlt.Xvt}},{key:"Yft",get:function(){return this.j3.Yft}},{key:"Fvt",get:function(){return this.j3.Xi.Fvt||this.jlt.Fvt}},{key:"us",get:function(){var t=this.QB.split("/")[0];return"application"===t||"text"===t||zk(this.QB,this.XH)?s_.Kn:"video"===t?s_.Td:"audio"===t?s_.Ad:"image"===t?s_.Sd:s_.hd}},{key:"Ck",get:function(){return this.j3.Xi.Ck||this.jlt.Ck}}]),n}(Yq),Kq=function(t){function n(n,i){var e;return(e=t.call(this)||this).$lt=[],e.j3=void 0,e.tdt=void 0,e.ndt=[],e.tdt=n,e.j3=i,e.j3.js(zq.Rlt,e.Plt),e}E(n,t);var i=n.prototype;return i.Wc=function(t,n){var i,e=this;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==this.ndt.length){r.next=6;break}return this.ndt=[],i=this.j3.a1.map(function(i){return e.idt(i,t,n)}),r.next=5,jr.awrap(We.all(i));case 5:this.ndt=r.sent.filter(U);case 6:this.edt();case 7:case"end":return r.stop()}},null,this,null,We)},i.idt=function(t,n,i){var e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=new Zq(this,t),s.next=3,jr.awrap(n(e));case 3:if(r=s.sent,hu(i),r){s.next=7;break}return s.abrupt("return",void 0);case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}},null,this,null,We)},i.edt=function(){if(!this.ndt.length)throw new l("Detected an AdaptationSet without any supported Representations.")},i.Olt=function(){return this.j3.Olt()},i.Vlt=function(){return this.j3.Vlt()},i.Bd=function(){this.j3.Js(zq.Rlt,this.Plt);for(var t=0,n=this.ndt;t<n.length;t++){n[t].Bd()}Zs(this.ndt)},T(n,[{key:"jvt",get:function(){return this.j3.Xi.jvt}},{key:"KK",get:function(){var t;return null!=(t=this.j3.Xi.KK)?t:-1}},{key:"XH",get:function(){if(this.j3.Xi.XH)return[this.j3.Xi.XH];for(var t=[],n=0,i=this.a1;n<i.length;n++){var e=i[n];e.Qlt.length&&-1===t.indexOf(e.Ke)&&t.push(e.Ke)}return t}},{key:"Ke",get:function(){return this.XH.join()}},{key:"Bvt",get:function(){return this.j3.Xi.Bvt}},{key:"o1",get:function(){return this.j3.Xi.o1}},{key:"Ul",get:function(){return this.QB+'; codecs="'+this.Ke+'"'}},{key:"Ovt",get:function(){return this.$lt}},{key:"jK",get:function(){return this.j3.Xi.jK}},{key:"Qvt",get:function(){return this.j3.Xi.Qvt}},{key:"vT",get:function(){return this.j3.Xi.vT||0}},{key:"X_",get:function(){return this.j3.Xi.X_}},{key:"z_",get:function(){return this.j3.Xi.z_||""}},{key:"Gft",get:function(){return this.j3.Xi.Gft}},{key:"xvt",get:function(){return this.j3.Xi.xvt}},{key:"Hlt",get:function(){return this.ivt.Hlt}},{key:"QB",get:function(){return this.j3.Xi.QB||this.ndt[0].QB}},{key:"ivt",get:function(){return this.tdt}},{key:"Lvt",get:function(){return this.j3.Xi.Lvt}},{key:"a1",get:function(){return this.ndt}},{key:"slt",get:function(){return this.j3.Xi.slt||[]}},{key:"Mvt",get:function(){return this.j3.Xi.Mvt}},{key:"Uvt",get:function(){return this.j3.Xi.Uvt}},{key:"Xvt",get:function(){return this.j3.Xi.Xvt}},{key:"nD",get:function(){return this.j3.Xi.nD}},{key:"Fvt",get:function(){return this.j3.Xi.Fvt}},{key:"us",get:function(){var t=(this.j3.Xi.Ul||this.QB).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||zk(this.QB,this.XH)?s_.Kn:"video"===t?s_.Td:"audio"===t?s_.Ad:"image"===t?s_.Sd:s_.hd}},{key:"Ck",get:function(){return this.j3.Xi.Ck||0}},{key:"Ret",get:function(){return this.j3.Xi.V_||""}},{key:"rdt",get:function(){return this.Blt}},{key:"sdt",get:function(){var t=this.rdt,n=this.xlt;if(void 0!==t&&void 0!==n){var i=g.min(n,this.Hlt.udt);return g.max(t,i)}}}]),n}(Yq);function Jq(t,n){for(var e=[],r=0;r<n.length;r++)for(var s=n[r],u=0;u<t.length;u++){var o=t[u];e.push(i.Cr(o,s))}return e}var tG=function(){function t(t,n){this.tdt=void 0,this.odt=void 0,this.$o=void 0,this.adt=void 0,this.cdt=void 0,this.tdt=t,this.odt=n,this.$o=n.Cb,this.adt=n.vvt,this.cdt=n.Avt}var n=t.prototype;return n.hdt=function(t){var n=t-this.tdt.OD;if(!(n<0||n>=this.tdt.Yg)){var i=this.fdt();return void 0!==i&&Ft(i,n,1e-5)?this.Qft():this.vdt(n)}},n.ldt=function(t){var n=t-this.tdt.OD;if(!(n<0))return this.ddt(g.min(n,this.tdt.Yg))},n.Qft=function(){return this.wdt(0)},n.tvt=function(){var t=this.tdt.Yg;if(isFinite(t))return this.ddt(t)},n.zlt=function(t){if(this.tdt._dt.us===NW.NE){var n=this.gdt(t);if(!n)return;return{mdt:t,ydt:this.kdt(t),bdt:n}}var i=this.Qft();if(i)return{mdt:t,ydt:i,bdt:this.tvt()}},n.Vlt=function(t,n){if(n){var i=this.pdt(n.ydt),e=this.$ft(n.bdt);if(e){var r=this.Adt(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.Qft();if(s){var u=this.Adt(s);if(t.getTime()<u.getTime())return u}var o=this.tdt._dt._lt;return t.getTime()<o.getTime()?o:void 0},n.gdt=function(t){var n=(t.getTime()-this.tdt._dt._lt.getTime())/1e3-this.tdt.OD+this.adt,i=this.ddt(jt(n,0,this.tdt.Yg));if(i&&(i=this.Tdt(i,t))){for(var e=this.$ft(i);e&&this.Sdt(e,t);)i=e,e=this.$ft(i);return i}},n.kdt=function(t){var n,i=this.odt.Svt;if(i){var e=(t.getTime()-this.tdt._dt._lt.getTime())/1e3-this.tdt.OD-i.Uft();(n=this.ddt(jt(e,0,this.tdt.Yg)))||(n=this.Qft())}else n=this.Qft();if(n&&(n=this.Tdt(n,t))){for(var r=this.Edt(n);r&&this.Sdt(r,t);)n=r,r=this.Edt(n);return n}},n.Tdt=function(t,n){for(var i=t;i&&this.Adt(i).getTime()>n.getTime();)i=this.Edt(i);if(i){var e=this.pdt(i);if(e&&e.getTime()<=n.getTime()){var r=this.Edt(i);for(r&&this.Sdt(r,n)&&(i=r);i;){if(this.Adt(i).getTime()>n.getTime())return;if(this.Sdt(i,n))break;i=this.$ft(i)}if(!i)return}return i}},n.Sdt=function(t,n){if(this.Adt(t).getTime()>n.getTime())return!1;var i=this.pdt(t);return!(i&&n.getTime()>=i.getTime())},n.Idt=function(t,n){if(this.Rdt(t).getTime()>n.getTime())return!1;var i=this.pdt(t);return!(i&&n.getTime()>=i.getTime())},n.Ndt=function(t,n,i){var e=Yt(n,this.$o)+this.tdt.OD;return{wvt:t,Ddt:n,Zy:e,Yg:i,Ky:e+i}},n.Rdt=function(t){return this.tdt._dt.us===NW.NE?new Date(this.tdt._dt._lt.getTime()+1e3*(t.Zy+t.Yg)):this.tdt._dt._lt},n.Adt=function(t){var n=this.Rdt(t);return this.tdt._dt.us===NW.NE?new Date(n.getTime()-1e3*this.adt):n},n.pdt=function(t){var n=1/0;if(this.tdt._dt.us===NW.NE){var i=this.odt.Svt;i&&(n=this.Rdt(t).getTime()+1e3*t.Yg+i.svt())}var e=this.tdt._dt.wlt;return e&&(n=g.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.Cdt=function(t,n){return t.wvt+n},n.Zft=function(t){return!1},n.Kft=function(t,n,i,e,r){var s=this.Pdt(t);if(!s)return We.reject(new l("Invalid segment"));var u=this.Bdt(s.wvt);return u?We.resolve(u):this.Odt(s.wvt,n,i,e,r)},n.Bdt=function(t){},n.Odt=function(t,n,i,e,r){return We.reject(new l("Not supported"))},n.Edt=function(t){var n=this.Pdt(t);if(n)return this.wdt(n.wvt-1)},n.$ft=function(t){var n=this.Pdt(t);if(n)return this.wdt(n.wvt+1)},n.Pdt=function(t){var n=this.wdt(t.wvt);if(n&&n.Zy===t.Zy)return n;var i=this.hdt(t.Zy);return i&&i.Zy===t.Zy?i:void 0},n.xdt=function(t){var n=this.Ldt(t);if(n&&this.Zft(n.wvt)){var i=this.Bdt(n.wvt);if(i)return i.xdt(t)}},n.Ldt=function(t){return this.wdt(t.Mdt)},n.Wlt=function(t){var n=this.Pdt(t);return!!n&&0===n.wvt},n.Glt=function(t){var n=this.xdt(t);return!!n&&0===n.Llt},n.qlt=function(t){var n=this.Pdt(t);if(!n)return!1;var i=this.tvt();return!!i&&n.wvt===i.wvt},n.Ylt=function(t){var n=this.xdt(t);if(!n)return!1;var i=this.tvt();if(!i||n.Mdt!==i.wvt)return!1;var e=this.Bdt(n.Mdt);return n.Llt+1===e.N_},T(t,[{key:"cp",get:function(){return this.tdt.OD-Yt(this.cdt,this.$o)}},{key:"Avt",get:function(){return Yt(this.cdt,this.$o)}}]),t}(),nG=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).Udt=void 0,e.Xdt=void 0;var r=n.Fdt,s=n.Yg;if(void 0===r||void 0===s)throw new l("MultipleSegmentBase does not have a segment duration specified.");return e.Xdt=r,e.Udt=s,e}E(n,t);var i=n.prototype;return i.wdt=function(t){if(!(t<0)){var n=this.Xdt.multiply(t),i=Yt(n,this.$o),e=this.tdt.Yg;if(!(i>=e)){var r=this.Hdt();if(void 0!==r){if(t>r)return;if(t===r)return this.Ndt(t,n,e-i)}return isFinite(e)&&i+this.Udt>e?this.Ndt(t,n,e-i):this.Ndt(t,n,this.Udt)}}},i.fdt=function(){return 0},i.vdt=function(t){var n=g.floor(t/this.Udt),i=this.Hdt();return void 0!==i&&n>=i?this.wdt(i):this.wdt(n)},i.ddt=function(t){if(t>=this.tdt.Yg){var n=g.ceil(this.tdt.Yg/this.Udt)-1,i=this.Hdt();return void 0!==i&&n>=i?this.wdt(i):this.wdt(n)}return this.vdt(t)},i.Hdt=function(){var t,n=this.odt.Rvt;if(void 0!==n)return n-(null!=(t=this.odt.Ivt)?t:1);if(isFinite(this.tdt.Yg)){var i=this.odt.zdt;if(void 0!==i&&i>0)return i-1}},i.Vdt=function(){if(isFinite(this.tdt.Yg))return this.tvt()},i.Wdt=function(t,n){return this.Xdt.multiply(t.wvt+(n-1))},i.Wc=function(){},n}(tG);function iG(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].Zy,u=t[r].Ky;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+g.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),a=t[o],h=a.Zy,c=o+1<i?t[o+1].Zy:a.Ky;if(c.lessThanOrEqual(n))e=o+1,s=c;else{if(!n.lessThan(h))return o;r=o-1,u=h}}return-1}var eG=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).a3=[],e.Gdt=void 0,e.bet=lt.ZERO,e.Wc(),e}E(n,t);var i=n.prototype;return i.wdt=function(t){if(!(t<0))return t<this.a3.length?this.a3[t].p5:this.qdt(t-this.a3.length)},i.fdt=function(){if(this.a3.length>0)return Yt(this.a3[0].Zy,this.$o)},i.vdt=function(t){if(this.Gdt&&Yt(this.Gdt.Zy,this.$o)<=t){var n=Yt(this.Gdt.Zy,this.$o),i=Yt(this.Gdt.Yg,this.$o),e=g.floor((t-n)/i);return this.qdt(e)}if(this.a3.length>0&&Ft(t,Yt(this.a3[0].Zy,this.$o),1e-5))return this.a3[0].p5;var r=iG(this.a3,lt.fromNumber(t*this.$o));return r<0?void 0:this.a3[r].p5},i.ddt=function(t){if(!this.Gdt&&this.a3.length>0){var n=this.a3[this.a3.length-1];if(i=t,e=Yt(n.Ky,this.$o),Xs(i,e,1e-5)>=0)return n.p5}var i,e,r=this.fdt();return r&&t<r?this.a3[0].p5:this.vdt(t)},i.Vdt=function(){return isFinite(this.tdt.Yg)?this.tvt():this.wdt(this.a3.length-1)},i.Wdt=function(t){return this.Ydt(t)},i.qdt=function(t){if(this.Gdt){var n=this.Gdt.Zy,i=this.Gdt.Yg,e=n.add(i.multiply(t)),r=Yt(e,this.$o),s=this.tdt.Yg;if(!(r>=s)){var u=this.a3.length+t,o=g.min(Yt(i,this.$o),r+s);return this.Ndt(u,e,o)}}},i.Ydt=function(t){return t.Ddt.add(this.cdt)},i.Wc=function(){var t=this.odt.Xi.Yft;if(!t)throw new l("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.A3(t)},i.A3=function(t){var n=this.cdt;this.jdt(t,n);var i=this.Qdt(t);this.Zdt(t,n,i.Kdt,i.Mdt)},i.jdt=function(t,n){var i=this.a3;if(0===t.length)Zs(i);else{for(var e=t[0],r=e.Zy?lt.fromString(e.Zy,!1).subtract(n):lt.ZERO,s=0;s<i.length&&i[s].Zy.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.Qdt=function(t){for(var n=this.a3,i=this.bet,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].dvt||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].Zy.greaterThanOrEqual(i))break;if(n[r].p5.wvt===r)r=u+1;else for(;r<=u;)n[r].p5.wvt=r,r++;0,e++}return{Kdt:e,Mdt:r}},i.Zdt=function(t,n,i,e){for(var r,s=this.a3,u=i,o=e;u<t.length;){var a=t[u],h=lt.fromString(a.Yg,!1),c=a.dvt||0,f=void 0;if(a.Zy){if(f=lt.fromString(a.Zy,!1).subtract(n),o>0){var l=s[o-1];l.Ky.greaterThan(f)&&(l.Yg=f.subtract(l.Zy),l.Ky=l.Zy.add(l.Yg))}}else f=o>0?s[o-1].Ky:lt.ZERO;if(c<0){if(u+1===t.length){r={Zy:f,Yg:h};break}for(var v=lt.fromString(t[u+1].Zy,!1).subtract(n);f.lessThan(v);){var d=f.add(h);this.Jdt(s,o,f,h,d),f=d,o++}}else for(var w=o+c;o<=w;){var g=f.add(h);this.Jdt(s,o,f,h,g),f=g,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.bet=s[s.length-1].Zy),this.Gdt=r},i.Jdt=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.Yg.equals(e)?s.p5.wvt=n:t[n]={Zy:i,Yg:e,Ky:r,p5:this.Ndt(n,i,Yt(e,this.$o))}}else t.push({Zy:i,Yg:e,Ky:r,p5:this.Ndt(n,i,Yt(e,this.$o))})},n}(tG),rG=function(){function t(t,n,i){this.ivt=void 0,this.$dt=void 0,this.Vi=void 0,this.twt=void 0,this.nwt=void 0,this.ivt=t,this.$dt=n,this.Vi=i}var n=t.prototype;return n.iwt=function(){if(this.nwt=this.ewt(),this.nwt)return this.nwt;if(this.$dt)return this.$dt.Yft;throw new l("Missing media segment information.")},n.Klt=function(t){var n=this.pvt;if(n)return{ud:(void 0!==n.lvt?i.Cr(n.lvt,t.Hvt[0]):t.Hvt[0]).href,yat:n.yat};var e=this._vt;return e?{ud:t.Hvt[0].href,yat:[0,e[0]-1]}:void 0},n.Wc=function(t){this.Vi=t,this.nwt&&this.nwt.Wc()},T(t,[{key:"Xi",get:function(){return this.Vi}},{key:"vvt",get:function(){return this.Vi&&void 0!==this.Vi.vvt?this.Vi.vvt:this.$dt?this.$dt.vvt:0}},{key:"Avt",get:function(){return this.Vi&&void 0!==this.Vi.Avt?this.Vi.Avt:this.$dt?this.$dt.Avt:lt.ZERO}},{key:"Svt",get:function(){return this.Vi&&void 0!==this.Vi.Svt?this.Vi.Svt:this.$dt?this.$dt.Svt:this.ivt._dt.Svt}},{key:"Cb",get:function(){return this.Vi&&void 0!==this.Vi.Cb?this.Vi.Cb:this.$dt&&this.$dt.Cb?this.$dt.Cb:1}},{key:"_vt",get:function(){return this.Vi&&void 0!==this.Vi._vt?this.Vi._vt:this.$dt?this.$dt._vt:void 0}},{key:"pvt",get:function(){return this.Vi&&void 0!==this.Vi.pvt?this.Vi.pvt:this.$dt?this.$dt.pvt:void 0}},{key:"Yft",get:function(){return this.twt||(this.twt=this.iwt()),this.twt}}]),t}(),sG=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.ewt=function(){return this.Vi.Yft?new eG(this,this.ivt):void 0!==this.Vi.Yg?new nG(this,this.ivt):void 0},T(n,[{key:"Yg",get:function(){return void 0!==this.Vi.Yg?this.Vi.Yg/this.Cb:this.$dt&&this.$dt instanceof n?this.$dt.Yg:void 0}},{key:"Fdt",get:function(){return void 0!==this.Vi.Yg?lt.fromNumber(this.Vi.Yg):this.$dt&&this.$dt instanceof n?this.$dt.Fdt:void 0}},{key:"Ivt",get:function(){return void 0!==this.Vi.Ivt?this.Vi.Ivt:this.$dt&&this.$dt instanceof n?this.$dt.Ivt:void 0}},{key:"Rvt",get:function(){return void 0!==this.Vi.Rvt?this.Vi.Rvt:this.$dt&&this.$dt instanceof n?this.$dt.Rvt:void 0}}]),n}(rG),uG=function(){function t(t){this.rwt=void 0,this.rwt=t}return t.prototype.Hu=function(t){return this.rwt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=Es(u,Number(e),"0")})},t}();var oG=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).swt=void 0,r.uwt=void 0,r.swt=e.Cvt?new uG(e.Cvt):void 0,r.uwt=e.Pvt?new uG(e.Pvt):void 0,r}E(n,t);var e=n.prototype;return e.Klt=function(n){var e=this.Cvt;if(!e)return t.prototype.Klt.call(this,n);var r=e.Hu({Bandwidth:n.Xi.UR,RepresentationID:n.Xi.X_});return{ud:i.Pr(r,n.Hvt[0])}},e.nvt=function(t,n){var e,r=null!=(e=n.Jlt.Ivt)?e:1,s=this.Pvt.Hu({Bandwidth:n.Xi.UR,Number:n.Yft.Cdt(t,r),RepresentationID:n.Xi.X_,Time:n.Yft.Wdt(t,r)});return{ud:i.Pr(s,n.Hvt[0])}},e.Flt=function(t,n){},T(n,[{key:"Cvt",get:function(){return this.swt?this.swt:this.$dt&&this.$dt instanceof n?this.$dt.Cvt:void 0}},{key:"Pvt",get:function(){return this.uwt?this.uwt:this.$dt&&this.$dt instanceof n?this.$dt.Pvt:void 0}},{key:"zdt",get:function(){}}]),n}(sG),aG=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var e=n.prototype;return e.nvt=function(t,n){var e=this.Vi.mvt[t.wvt],r=n.Hvt[0];return{ud:(e.sT?i.Cr(e.sT,r):r).href,yat:e.gvt}},e.Flt=function(t,n){},T(n,[{key:"zdt",get:function(){return void 0!==this.Vi.mvt?this.Vi.mvt.length:this.$dt&&this.$dt instanceof sG?this.$dt.zdt:void 0}}]),n}(sG),hG=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Mdt=void 0,u.x6=void 0,u.Cb=void 0,u.owt=void 0,u.Avt=void 0,u.awt=void 0,u.Mdt=n,u.x6=i,u.Cb=e.Cb,u.owt=r,u.Avt=s,u.awt=u.cwt(e),u}E(n,t);var i=n.prototype;return i.Jft=function(t){if(t>=0&&t<this.N_)return this.hwt(this.awt[t])},i.fwt=function(t){var n=this.vwt(t);if(this.awt.length>0){var i=this.awt[0];if(n<=Yt(i.Zy,this.Cb))return this.hwt(i)}var e=iG(this.awt,lt.fromNumber(n*this.Cb));if(!(e<0))return this.hwt(this.awt[e])},i.lwt=function(t){var n=this.vwt(t);if(this.awt.length>0){var i=this.awt[this.awt.length-1];if(n>=Yt(i.Ky,this.Cb))return this.hwt(i)}return this.fwt(t)},i.hwt=function(t){var n=Yt(t.Zy,this.Cb)-this.Avt,i=n+this.owt,e=Yt(t.Yg,this.Cb);return{Mdt:this.Mdt,Llt:t.wvt,Zy:i,Ddt:lt.fromNumber(n*this.Cb),Yg:e,Ky:i+e,Q0:[this.x6+t.x6,this.x6+t.L6]}},i.cwt=function(t){for(var n=[],i=t.jS,e=t.QS.toNumber(),r=0,s=0,u=t.KS;s<u.length;s++){var o=u[s],a=o.VS,h=lt.fromNumber(o.Yg),c=i.add(h);0===o.zS&&n.push({wvt:r++,Zy:i,Yg:h,Ky:c,x6:e,L6:e+a-1}),e+=a,i=c}return n},i.vwt=function(t){return t-this.owt+this.Avt},T(n,[{key:"N_",get:function(){return this.awt.length}}]),n}(function(){function t(){}return t.prototype.xdt=function(t){var n=this.Jft(t.Llt);if(n&&n.Zy===t.Zy)return n;var i=this.fwt(t.Zy);return i&&i.Zy===t.Zy?i:void 0},t}()),cG=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).dwt=void 0,e.wwt=void 0,e._wt=void 0,e.dwt=n._vt,e.wwt=e.Ndt(0,lt.ZERO,e.tdt.Yg),e}E(n,t);var i=n.prototype;return i.wdt=function(t){if(0===t)return this.wwt},i.fdt=function(){return 0},i.vdt=function(t){return this.wwt},i.ddt=function(t){return this.vdt(t)},i.Vdt=function(){return this.wwt},i.Wdt=function(t,n){return lt.ZERO},i.zlt=function(t){var n=this.gwt(t);return n&&{mdt:t,ydt:n,bdt:n}},i.gwt=function(t){var n=this.wwt;return this.Sdt(n,t)?n:void 0},i.gdt=function(t){return this.gwt(t)},i.kdt=function(t){return this.gwt(t)},i.Wc=function(){},i.Zft=function(t){return 0===t&&void 0!==this.dwt},i.Bdt=function(t){return this._wt},i.Odt=function(t,n,i,e,r){var s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=n.Hvt[0].href,u=this.dwt,a.next=4,jr.awrap(e.mwt(s,u,i,r));case 4:return o=a.sent,this._wt=this.ywt(t,o),a.abrupt("return",this._wt);case 7:case"end":return a.stop()}},null,this,null,We)},i.ywt=function(t,n){var i=this.dwt,e=nk.SA(new DataView(n),new Ko);if(e.us!==cb.Kp)throw new l("Invalid segment index");var r=uk.GA(e.Xi),s=i[1]+1;return new hG(t,s,r,this.tdt.OD,Yt(this.cdt,this.$o))},n}(tG),fG=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.nvt=function(t,n){return{ud:n.Hvt[0].href}},i.Flt=function(t,n){return{ud:n.Hvt[0].href,yat:t.Q0}},i.ewt=function(){return new cG(this,this.ivt)},T(n,[{key:"Ivt",get:function(){}}]),n}(rG),lG=function(t){function n(){return t.call(this,zq.Rlt)||this}return E(n,t),n}(Su);var vG=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Pw=void 0,r.Vi=void 0,r.kwt=void 0,r.odt=void 0,r.bwt=1/0,r.pwt=void 0,r.Pw=i,r.Awt(n,e),r}E(n,t);var i=n.prototype;return i.Twt=function(){return this.odt||this.Pw&&this.Pw.Twt()},i.Swt=function(t){var n=this.ivt,i=this.Pw&&this.Pw.Twt();this.Vi.Yvt?this.odt=new oG(n,i,this.Vi.Yvt):this.Vi.qvt?this.odt=new aG(n,i,this.Vi.qvt[0]):this.Vi.Gvt?this.odt=new fG(n,i,this.Vi.Gvt):t&&!i&&(this.odt=new fG(n,i,void 0))},i.Awt=function(t,n){this.Vi=t,this.kwt=t.Hvt&&t.Hvt.length>0?Jq(t.Hvt.map(function(t){return t.ud}),n):n.slice(),this.odt&&(t.Yvt?this.odt.Wc(t.Yvt):t.qvt?this.odt.Wc(t.qvt[0]):t.Gvt&&this.odt.Wc(t.Gvt))},i.Olt=function(){var t;return null==(t=this.pwt)?void 0:t.Ewt},i.Vlt=function(){var t;return null==(t=this.pwt)?void 0:t.Iwt},i.Rwt=function(t){var n=this.bwt,i=this.ivt.Yg,e=this.pwt,r=this.Nwt(t);e&&Ft(i,n,1e-5)&&mG(e,r)||(this.bwt=i,this.pwt=r,this.Ys(new lG))},i.Bs=function(){this.Ks()},T(n,[{key:"Xi",get:function(){return this.Vi}},{key:"Hvt",get:function(){return this.kwt}}]),n}(Au);function dG(t){for(var n,i=0;i<t.length;i++){var e=t[i].Olt();if(e){n=e.OD;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].Olt();if(u){r=u.LD;break}}if(void 0!==r)return{OD:n,LD:r}}}function wG(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].Olt();if(!r)return;if((n=g.max(n,r.OD))>=(i=g.min(i,r.LD)))return}return{OD:n,LD:i}}}function gG(t){for(var n,i=0;i<t.length;i++){var e=t[i].Vlt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function mG(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.Iwt,n.Iwt)&&function(t,n){return t&&n?Ft(t.OD,n.OD,1e-5)&&Ft(t.LD,n.LD,1e-5):t===n}(t.Ewt,n.Ewt)}var yG=function(t){function n(n,i,e){var r;(r=t.call(this)||this).tdt=void 0,r.Nc=void 0,r.Dwt=void 0,r.tdt=n,r.Nc=i,r.Dwt=e.slice();for(var s=0;s<e.length;s++){e[s].js(zq.Rlt,r.Plt)}return r}E(n,t);var i=n.prototype;return i.Olt=function(){return wG(this.Dwt)},i.Vlt=function(){for(var t,n=0,i=this.Dwt;n<i.length;n++){var e=i[n].Vlt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.Bd=function(){this.Ks();for(var t=0,n=this.Dwt;t<n.length;t++){n[t].Js(zq.Rlt,this.Plt)}},T(n,[{key:"Wft",get:function(){return this.Dwt}},{key:"XH",get:function(){return this.Wft.reduce(function(t,n){for(var i=0,e=n.XH;i<e.length;i++){var r=e[i];Ys(t,r)||t.push(r)}return t},[])}},{key:"Ke",get:function(){return this.XH.length>0?this.XH[0]:""}},{key:"us",get:function(){return this.Dwt[0].us}},{key:"X_",get:function(){return this.Nc}},{key:"Hlt",get:function(){return this.tdt.Hlt}},{key:"QB",get:function(){return this.Dwt[0].QB}},{key:"ivt",get:function(){return this.tdt}},{key:"a1",get:function(){return Ks(this.Wft,function(t){return t.a1})}}]),n}(Yq),pG=function(t){function n(){return t.call(this,zq.Dlt)||this}return E(n,t),n}(Su);function _G(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.Qvt;void 0===s||(r=Vs(n,function(t){return t.X_===s})),r||(r={X_:s,Wft:[]},n.push(r)),r.Wft.push(e)},e=0;e<t.length;e++)i(e);return n}var bG,kG=function(t){function n(n,i){var e;return(e=t.call(this)||this).j3=void 0,e.Dwt=[],e.Cwt=[],e.Pwt=void 0,e.Bwt=!1,e.Pwt=n,e.j3=i,e.j3.js(zq.Rlt,e.Plt),e}E(n,t);var i=n.prototype;return i.Owt=function(t,n){if(0!==this.Cwt.length){for(var i=t,e=0,r=this.Cwt;e<r.length;e++){var s=r[e],u=s.us;if(u===s_.Ad||u===s_.Td){var o=s.xlt;if(void 0===o)return;i=n(i,o)}}return i}},i.xwt=function(){this.Bwt||(this.Bwt=!0,this.Ys(new pG),this.Bd())},i.Wc=function(t,n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==this.Dwt.length){i.next=7;break}return i.next=3,jr.awrap(this.Lwt(this.j3.Wft,t,n));case 3:this.Mwt(this.Dwt),hu(n),i.next=9;break;case 7:return i.next=9,jr.awrap(this.Uwt(t,n));case 9:case"end":return i.stop()}},null,this,null,We)},i.Lwt=function(t,n,i){var e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0;case 1:if(!(e<t.length)){u.next=17;break}return r=t[e],s=new Kq(this,r),u.prev=4,u.next=7,jr.awrap(s.Wc(n,i));case 7:this.Dwt.push(s),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(4),cu(u.t0);case 14:e++,u.next=1;break;case 17:case"end":return u.stop()}},null,this,[[4,10]],We)},i.Mwt=function(t){for(var n=_G(t),i=0;i<n.length;i++){var e=n[i],r=new yG(this,e.X_,e.Wft);this.Cwt.push(r)}},i.Uwt=function(t,n){var i,e,r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Dwt;case 1:if(!(i<e.length)){s.next=8;break}return r=e[i],s.next=5,jr.awrap(r.Wc(t,n));case 5:i++,s.next=1;break;case 8:case"end":return s.stop()}},null,this,null,We)},i.Olt=function(){return this.j3.Olt()},i.Vlt=function(){return this.j3.Vlt()},i.Bd=function(){this.Ks(),this.j3.Js(zq.Rlt,this.Plt);for(var t=0,n=this.Cwt;t<n.length;t++){n[t].Bd()}for(var i=0,e=this.Dwt;i<e.length;i++){e[i].Bd()}Zs(this.Dwt),Zs(this.Cwt)},T(n,[{key:"Wft",get:function(){return this.Dwt}},{key:"zft",get:function(){return this.Cwt}},{key:"vlt",get:function(){return this.j3.Xi.vlt}},{key:"Yg",get:function(){return this.j3.Yg}},{key:"LD",get:function(){return this.OD+this.Yg}},{key:"llt",get:function(){return this.j3.Xi.llt||[]}},{key:"X_",get:function(){return this.j3.X_}},{key:"Clt",get:function(){return this.Bwt}},{key:"Hlt",get:function(){return this.Pwt}},{key:"Xwt",get:function(){return this.Pwt.Fwt(this)}},{key:"ivt",get:function(){return this}},{key:"Hwt",get:function(){return this.Pwt.zwt(this)}},{key:"Vwt",get:function(){return this.Owt(1/0,g.min)}},{key:"Wwt",get:function(){return this.Owt(0,g.max)}},{key:"OD",get:function(){return this.j3.OD}},{key:"Dd",get:function(){return this.Hlt.Dd}}]),n}(Yq),AG=function(t){function n(){return t.call(this,Df.kf)||this}return E(n,t),n}(Su);!function(t){t.Gwt="qwt"}(bG||(bG={}));var TG=function(t){function n(){return t.call(this,bG.Gwt)||this}return E(n,t),n}(Su),SG=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Hvt)||this).Mlt=void 0,e.Ywt=void 0,e.Mlt=i,e.Swt(!0),e}E(n,t);var i=n.prototype;return i.Zft=function(t){return!!Uc(this.QB)&&this.Yft.Zft(t.wvt)},i.Kft=function(t,n,i,e){return this.Yft.Kft(t,this,n,i,e)},i.Klt=function(){return this.Jlt.Klt(this)},i.nvt=function(t){return this.Jlt.nvt(t,this)},i.Flt=function(t){return this.Jlt.Flt(t,this)},i.zlt=function(){return this.Ywt},i.Nwt=function(t){var n=this.Yft,i=n.zlt(t),e=i&&function(t,n){var i,e=t.ydt,r=t.bdt,s=t.mdt,u=e.Zy,o=n.Rdt(r);if(o.getTime()<=s.getTime())i=r.Ky;else{var a=(o.getTime()-s.getTime())/1e3,h=g.max(r.Yg-a,0);i=r.Zy+h}return{OD:u,LD:i}}(i,n),r=this.Yft.Vlt(t,i);return this.Ywt=i,{mdt:t,Ewt:e,Iwt:r}},i.Wc=function(t){this.Awt(t,this.Mlt.Hvt)},T(n,[{key:"jlt",get:function(){return this.Mlt}},{key:"ivt",get:function(){return this.Mlt.ivt}},{key:"_dt",get:function(){return this.Mlt._dt}},{key:"QB",get:function(){return this.Vi.QB||this.Mlt.QB}},{key:"Jlt",get:function(){return this.Twt()}},{key:"Yft",get:function(){return this.Jlt.Yft}}]),n}(vG),EG=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Hvt)||this).tdt=void 0,e.ndt=void 0,e.tdt=i,e.Swt(!1),e.ndt=n.a1.map(function(t){return new SG(t,Kt(e))}),e}E(n,t);var i=n.prototype;return i.Wc=function(t){this.Awt(t,this.tdt.Hvt);var n=t.a1||[];if(this.ndt.length!==n.length)throw new l("Expected "+this.ndt.length+' representations in adaptation set "'+t.X_+'", found '+n.length);for(var i=0;i<n.length;i++)this.ndt[i].Wc(n[i])},i.Rwt=function(n){for(var i=0,e=this.ndt;i<e.length;i++){e[i].Rwt(n)}t.prototype.Rwt.call(this,n)},i.Nwt=function(t){return{mdt:t,Ewt:wG(this.ndt),Iwt:gG(this.ndt)}},i.Bs=function(){for(var n=0,i=this.ndt;n<i.length;n++){i[n].Bs()}t.prototype.Bs.call(this)},T(n,[{key:"a1",get:function(){return this.ndt}},{key:"ivt",get:function(){return this.tdt}},{key:"_dt",get:function(){return this.tdt._dt}},{key:"Qvt",get:function(){return this.Vi.Qvt}},{key:"QB",get:function(){var t;return this.Vi.QB||(null==(t=this.ndt[0])?void 0:t.Xi.QB)||""}}]),n}(vG),IG=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.Hvt)||this).jwt=void 0,s.eE=void 0,s.ea=void 0,s.Dwt=void 0,s.Cwt=[],s.jwt=n,s.eE=e,s.ea=r,s.Swt(!1),s.Dwt=(i.Wft||[]).map(function(t){return new EG(t,Kt(s))}),s.Cwt=_G(s.Dwt),s}E(n,t);var i=n.prototype;return i.Wc=function(t,n){this.Awt(t,this.jwt.Hvt),this.ea=n;var i=t.Wft||[];if(this.Dwt.length!==i.length)throw new l("Expected "+this.Dwt.length+' adaptation sets in period "'+t.X_+'", found '+i.length);for(var e=0;e<i.length;e++)this.Dwt[e].Wc(i[e])},i.Rwt=function(n){for(var i=0,e=this.Dwt;i<e.length;i++){e[i].Rwt(n)}t.prototype.Rwt.call(this,n)},i.Nwt=function(t){return{mdt:t,Ewt:wG(this.Dwt),Iwt:gG(this.Dwt)}},i.Bs=function(){for(var n=0,i=this.Dwt;n<i.length;n++){i[n].Bs()}t.prototype.Bs.call(this)},T(n,[{key:"Wft",get:function(){return this.Dwt}},{key:"zft",get:function(){return this.Cwt}},{key:"ivt",get:function(){return this}},{key:"_dt",get:function(){return this.jwt}},{key:"X_",get:function(){return this.Vi.X_}},{key:"OD",get:function(){return this.eE}},{key:"Yg",get:function(){return this.ea}}]),n}(vG),RG=new Date("2000-01-01"),CG=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this).Vi=void 0,s.Qwt=void 0,s.Zwt=void 0,s.RG=void 0,s.Kwt=void 0,s.pwt=void 0,s.kwt=void 0,s.Jwt=void 0,s.$wt=void 0,s.t_t=void 0,s.n_t=[],s.Qwt=i,s.Wc(n,e,r),n.us===NW.NE){var u=s.Vdt();u&&u.wlt&&u.wlt.getTime()<RG.getTime()&&(s.t_t=new Date(s.Tlt.getTime()-1e3*(u.p5.Zy+u.p5.Yg)),s.Rwt(r))}return s}E(n,t);var e=n.prototype;return e.Olt=function(){var t;return null==(t=this.pwt)?void 0:t.Ewt},e.Vlt=function(){var t;return null==(t=this.pwt)?void 0:t.Iwt},e.Wc=function(t,n,e,r){var s;this.Vi=t,this.Zwt=n,this.Kwt=null!=r?r:e,this.RG=e;var u,o=[(u=n,i.Cr(".",u))];this.kwt=t.Hvt&&t.Hvt.length>0?Jq(t.Hvt.map(function(t){return t.ud}),o):o,this.Jwt=t.glt&&t.glt.length>0?Jq(t.glt,this.kwt):[];var a=this.Jwt.map(function(t){return t.href}),h=n.href;Ys(a,h)||(this.Jwt.push(n),a.push(h));var c=this.Qwt.href;Ys(a,c)||(this.Jwt.push(this.Qwt),a.push(c)),this.$wt=null==(s=t.Xft)?void 0:s.Uft();var f=t.us===NW.NE,l=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.OD)u=s.OD.Uft();else if(r>0&&t[r-1].Yg){var o=e[r-1],a=t[r-1].Yg.Uft();u=o+a}else{if(0!==r||n)break;u=0}e.push(u)}for(var h=[],c=0;c<e.length-1;c++)h.push({Xi:t[c],OD:e[c],Yg:e[c+1]-e[c]});if(e.length>0){var f=e.length-1,l=t[f],v=e[f],d=1/0;n||(d=l.Yg?l.Yg.Uft():i-v),h.push({Xi:l,OD:v,Yg:d})}return h}(t.Mft,f,this.$wt);this.i_t(l),this.Rwt(e)},e.i_t=function(t){var n=this.n_t;if(0!==t.length){for(var i=t[0].Xi.X_,e=0;e<n.length&&n[e].X_!==i;)e++;for(var r=n.splice(0,e),s=0;s<r.length;s++){r[s].Bs()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var a=n[u];0,a.Wc(o.Xi,o.Yg)}else n.push(new IG(this,o.Xi,o.OD,o.Yg))}}else Zs(n)},e.Rwt=function(t){for(var n=0,i=this.n_t;n<i.length;n++){i[n].Rwt(t)}var e=this.pwt,r=this.Nwt(t);e&&mG(e,r)||(this.pwt=r,this.Ys(new lG))},e.Nwt=function(t){return{mdt:t,Ewt:dG(this.n_t),Iwt:gG(this.n_t)}},e.Vdt=function(){if(0!==this.n_t.length){var t=this.n_t[this.n_t.length-1];if(!isFinite(t.Yg)&&0!==t.Wft.length){var n=t.Wft[0];if(0!==n.a1.length){var i=n.a1[0].Yft,e=i.Vdt();if(e)return{p5:e,wlt:i.pdt(e)}}}}},e.Bs=function(){this.Ks();for(var t=0,n=this.n_t;t<n.length;t++){n[t].Bs()}},T(n,[{key:"Xi",get:function(){return this.Vi}},{key:"us",get:function(){return this.Vi.us||NW.RE}},{key:"_lt",get:function(){return this.t_t||this.Vi._lt||this.Tlt}},{key:"wlt",get:function(){return this.Vi.wlt}},{key:"Xft",get:function(){return this.$wt}},{key:"Hvt",get:function(){return this.kwt}},{key:"glt",get:function(){return this.Jwt}},{key:"Mft",get:function(){return this.n_t}},{key:"Tlt",get:function(){return this.Vi.Tlt||this.RG}},{key:"Svt",get:function(){return this.Vi.Svt}},{key:"e_t",get:function(){return this.Kwt}},{key:"r_t",get:function(){return this.RG}}]),n}(Au);var NG=function(){function t(t,n,i){this.s_t=0,this.kE=t,this.u_t=n,this.o_t=i}var n=t.prototype;return n.mL=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jr.awrap(this.a_t(t,this.kE,this.u_t,this.o_t).catch(fu));case 2:case"end":return n.stop()}},null,this,null,We)},n.c_t=function(){return new Date(Vt()+this.s_t)},n.a_t=function(t,n,i,e){var r,s,u;return jr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=4;break}return o.next=3,jr.awrap(this.h_t(n,e,i));case 3:r=o.sent;case 4:if(void 0!==r){o.next=17;break}hu(i),s=0;case 7:if(!(s<t.length)){o.next=17;break}return u=t[s],o.next=11,jr.awrap(this.f_t(n,u,i));case 11:if(void 0===(r=o.sent)){o.next=14;break}return o.abrupt("break",17);case 14:s++,o.next=7;break;case 17:this.s_t=void 0===r?0:r-Vt();case 18:case"end":return o.stop()}},null,this,null,We)},n.f_t=function(t,n,i){var e,r,s,u;return jr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=n.J0,o.t0=e,o.next="urn:mpeg:dash:utc:http-xsdate:2012"===o.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===o.t0?4:"urn:mpeg:dash:utc:direct:2012"===o.t0?10:"urn:mpeg:dash:utc:direct:2014"===o.t0?10:16;break;case 4:if(!(r=n._i)){o.next=9;break}return o.next=8,jr.awrap(this.h_t(t,r,i));case 8:return o.abrupt("return",o.sent);case 9:return o.abrupt("break",17);case 10:if(!(s=n._i)){o.next=15;break}if(u=new Date(s).getTime(),p(u)){o.next=15;break}return o.abrupt("return",u);case 15:return o.abrupt("break",17);case 16:return o.abrupt("return");case 17:case"end":return o.stop()}},null,this,null,We)},n.h_t=function(t,n,i){var e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,jr.awrap(t.ed({ud:n,Ed:eg.GET,Jl:Pf.Kn,zs:i}));case 3:return e=u.sent,u.next=6,jr.awrap(e.Ol());case 6:if(r=u.sent,s=new Date(r).getTime(),p(s)){u.next=10;break}return u.abrupt("return",s);case 10:u.next=16;break;case 12:u.prev=12,u.t0=u.catch(0),cu(u.t0);case 16:case"end":return u.stop()}},null,null,[[0,12]],We)},t}(),DG=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).v_t=void 0,s.j3=void 0,s.l_t=void 0,s.frt=!0,s.n_t=[],s.d_t=void 0,s.w_t=void 0,s.__t=void 0,s.kE=void 0,s.g_t=void 0,s.d_t=n,s.l_t=n.cg,s.w_t=i,s.kE=e,s.v_t=r,s.g_t=new NG(s.kE,s.v_t,s.d_t.m_t),s}E(n,t);var e=n.prototype;return e.y_t=function(t){var n=this.Sy;this.frt=t,n!==this.Sy&&this.Ys(new TG)},e.Wc=function(t,n,e){var r,s,u,o,a,h,c,f,l,v,d,w,g;return jr.async(function(m){for(;;)switch(m.prev=m.next){case 0:if(s=[],u=[],o=t.ylt?i.Cr(t.ylt,this.l_t):this.l_t,void 0!==this.j3){m.next=10;break}return m.next=6,jr.awrap(this.g_t.mL(t.Elt));case 6:this.j3=new CG(t,this.l_t,o,this.c_t()),this.j3.js(zq.Rlt,this.qs),m.next=11;break;case 10:this.j3.Wc(t,o,this.c_t(),n);case 11:if(0===(a=this.j3.Mft).length)h=this.n_t.slice(),Zs(this.n_t);else{for(c=a[0].X_,f=0;f<this.n_t.length&&this.n_t[f].X_!==c;)f++;for(h=this.n_t.splice(0,f),l=0;l<a.length;l++)v=a[l],d=void 0,l<this.n_t.length?d=this.n_t[l]:(d=new kG(this,v),s.push(d)),u.push(d.Wc(this.w_t,e))}return m.next=15,jr.awrap(We.all(u));case 15:for((r=this.n_t).push.apply(r,s),w=0,g=h;w<g.length;w++)g[w].xwt();this.Ys(new AG);case 18:case"end":return m.stop()}},null,this,null,We)},e.c_t=function(){return this.g_t.c_t()},e.zwt=function(t){var n=this.n_t.indexOf(t);if(n>0)return this.n_t[n-1]},e.Fwt=function(t){var n=this.n_t.indexOf(t);if(n>=0&&n+1<this.n_t.length)return this.n_t[n+1]},e.Olt=function(){return this.j3?this.j3.Olt():void 0},e.Vlt=function(){return this.j3&&this.j3.Vlt()},e.Rwt=function(t){this.j3&&this.j3.Rwt(t)},e.Bd=function(){this.Ks(),this.__t=void 0,this.y_t(!1);for(var t=0,n=this.n_t;t<n.length;t++){n[t].Bd()}Zs(this.n_t),this.j3&&this.j3.Bs()},T(n,[{key:"wlt",get:function(){return this.j3&&this.j3.wlt}},{key:"_lt",get:function(){return this.j3&&this.j3._lt}},{key:"X_",get:function(){return this.j3&&this.j3.Xi.X_}},{key:"e_t",get:function(){var t;return null==(t=this.j3)?void 0:t.e_t}},{key:"k_t",get:function(){var t;return null==(t=this.j3)?void 0:t.r_t}},{key:"glt",get:function(){return this.j3?this.j3.glt.map(function(t){return t.href}):[this.Hft]}},{key:"Hft",get:function(){return this.l_t.href}},{key:"klt",get:function(){return this.j3&&this.j3.Xi.klt}},{key:"blt",get:function(){return this.j3&&this.j3.Xi.blt}},{key:"Xft",get:function(){return this.j3&&this.j3.Xi.Xft}},{key:"plt",get:function(){return this.j3&&this.j3.Xi.plt}},{key:"Alt",get:function(){var t,n,i=(null==(t=this.j3)?void 0:null==(n=t.Xi.Alt)?void 0:n.svt())||0;return g.max(i,xG)}},{key:"Sy",get:function(){return this.frt}},{key:"Mft",get:function(){return this.n_t}},{key:"b_t",get:function(){return this.us===NW.NE?this.udt:this.p_t}},{key:"A_t",get:function(){var t=this.b_t;if(void 0!==t)for(var n=0,i=this.Mft;n<i.length;n++){var e=i[n];if(e.OD<=t&&e.LD>t)return e}}},{key:"Lvt",get:function(){return this.j3&&this.j3.Xi.Lvt}},{key:"Tlt",get:function(){return this.j3&&this.j3.Tlt}},{key:"Vwt",get:function(){for(var t=this.n_t.length-1;t>=0;t-=1){var n=this.n_t[t].Vwt;if(n)return n}}},{key:"udt",get:function(){var t=this.Vwt;if(void 0!==t){var n=t-this.T_t;return g.max(n,this.p_t)}}},{key:"p_t",get:function(){for(var t=0,n=this.n_t;t<n.length;t++){var i=n[t].Blt;if(void 0!==i)return i}}},{key:"Dd",get:function(){return Boolean(this.d_t.Dd)}},{key:"T_t",get:function(){var t=this.j3&&this.j3.Xi.Slt;return t?t.Uft():this.us===NW.NE?this.S_t:0}},{key:"S_t",get:function(){return this.d_t.S_t?this.d_t.S_t:1.5*this.plt.Uft()}},{key:"Svt",get:function(){return this.j3&&this.j3.Svt}},{key:"us",get:function(){return this.j3?this.j3.us:void 0}}]),n}(Au),PG=function(){function t(t,n,i,e){this.Pwt=void 0,this.Pwt=new DG(t,n,i,e)}return T(t,[{key:"Hlt",get:function(){return this.Pwt}}]),t}(),xG=1e3,BG=g.pow(2,31)-1,OG=function(){function t(t,n,i,e){var r=this;this.Vat=void 0,this.j3=void 0,this.E_t=void 0,this.I_t=void 0,this.R_t=void 0,this.N_t=new uu,this.D_t=function(t){var n,i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.j3.Hlt.c_t(),e.next=4,jr.awrap(r.C_t(r.j3.Hlt.glt,t));case 4:return i=e.sent,e.next=7,jr.awrap(r.j3.Hlt.Wc(i,n,t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),Mk(e.t0)&&r.j3.Hlt.y_t(!1),e.t0;case 13:case"end":return e.stop()}},null,null,[[0,9]],We)},this.Vat=e,this.j3=new PG(t,n,i,this.N_t.zs)}var n=t.prototype;return n.Dw=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.j3.Hlt.Ys(new xN),n.prev=1,n.next=4,jr.awrap(EM(this.D_t,t));case 4:this.j3.Hlt.y_t(!0),n.next=13;break;case 7:throw n.prev=7,n.t0=n.catch(1),cu(n.t0),this.I_t=void 0,this.j3.Hlt.y_t(!1),new l("The provided MPEG-DASH document could not be loaded - "+n.t0.message);case 13:this.E_t=this.P_t(this.N_t.zs);case 14:case"end":return n.stop()}},null,this,[[1,7]],We)},n.P_t=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(this.j3.Hlt.us!==NW.NE){n.next=6;break}return n.next=4,jr.awrap(lu(this.B_t,t));case 4:n.next=1;break;case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},null,this,[[0,8]],We)},n.O_t=function(t){var n,i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(hu(t),!((n=this.x_t())>0)){e.next=6;break}return i=g.min(n,BG),e.next=6,jr.awrap(pu(i,t));case 6:return e.prev=6,e.next=9,jr.awrap(EM(this.D_t,t,1/0,xG,3e4));case 9:this.j3.Hlt.y_t(!0);case 10:return e.prev=10,this.R_t=void 0,e.finish(10);case 13:case"end":return e.stop()}},null,this,[[6,,10,13]],We)},n.x_t=function(){var t=this.j3.Hlt.c_t().getTime()-this.j3.Hlt.e_t.getTime();return this.j3.Hlt.Alt-t},n.L_t=function(t){var n=this.j3.Hlt.Vlt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.j3.Hlt.Rwt(t);var e=this.j3.Hlt.Vlt();return e?e.getTime()-t.getTime():NaN},n.M_t=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.R_t||(this.R_t=this.O_t(t)),(n=new uu).Fs(t),i.prev=3,i.next=6,jr.awrap(We.race([this.R_t,this.U_t(n.zs)].filter(U)));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),fu(i.t0);case 11:return i.prev=11,n.Xs(),i.finish(11);case 14:case"end":return i.stop()}},null,this,[[3,8,11,14]],We)},n.U_t=function(t){var n=this.j3.Hlt.c_t(),i=this.L_t(n);if(!p(i))return this.X_t(i,t)},n.X_t=function(t,n){var i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jr.awrap(pu(t,n));case 2:i=this.j3.Hlt.c_t(),this.j3.Hlt.Rwt(i);case 4:case"end":return e.stop()}},null,this,null,We)},n.C_t=function(t,n){var i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,jr.awrap(this.Vat.Hat(t,{},n,!1));case 2:return i=r.sent,e=new Vq,r.abrupt("return",e.Dct(i.Uat,i.rd));case 5:case"end":return r.stop()}},null,this,null,We)},n.Bd=function(){return this.N_t.Xs(),this.E_t=void 0,this.I_t=void 0,this.R_t=void 0,this.j3.Hlt.Bd(),We.resolve()},T(t,[{key:"g$",get:function(){return this.j3}},{key:"F_t",get:function(){return this.I_t||(this.I_t=this.Dw(this.N_t.zs),mu(this.I_t)),this.I_t}},{key:"B_t",get:function(){return this.j3.Hlt.k_t&&this.j3.Hlt.us===NW.NE?this.M_t(this.N_t.zs):this.F_t}}]),t}(),LG=function(){function t(t,n,i){this.Vat=t,this.H_t=n,this.z_t=i}var n=t.prototype;return n.V_t=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.src){i.next=2;break}throw new l("Invalid typed source");case 2:if(!ip(n=t.type)){i.next=9;break}return i.next=6,jr.awrap(this.W_t(t));case 6:return i.abrupt("return",i.sent);case 9:if(!np(n)){i.next=15;break}return i.next=12,jr.awrap(this.G_t(t));case 12:return i.abrupt("return",i.sent);case 15:throw new l("Unexpected source type");case 16:case"end":return i.stop()}},null,this,null,We)},n.W_t=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,jr.awrap(HW(t.src,this.Vat));case 3:return n=i.sent,i.next=6,jr.awrap(XW(n,this.Vat));case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),new l("Unable to fetch HLS manifest");case 12:case"end":return i.stop()}},null,this,[[0,9]],We)},n.G_t=function(t){var n;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new OG({cg:i.Cr(t.src),S_t:t.liveOffset,m_t:t.timeServer,Dd:t.useCredentials},this.z_t,cg.Xd,this.Vat),e.next=4,jr.awrap(n.F_t);case 4:return e.next=6,jr.awrap(EW(n.g$.Hlt,t.contentProtection,this.H_t));case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new l("Unable to fetch DASH manifest");case 12:case"end":return e.stop()}},null,this,[[0,9]],We)},t}();var MG=function(){function t(t){this.q_t=void 0,this.Y_t=[],this.j_t=0,this.q_t=t}var n=t.prototype;return n.Q_t=function(){var t=new ta;return this.Y_t.push(t),this.Z_t(),t.Uu},n.K_t=function(t,n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,jr.awrap(t);case 2:this.j_t-=1,this.Z_t(),0===this.Y_t.length&&0===this.j_t&&n.Hu(!0);case 5:case"end":return i.stop()}},null,this,null,We)},n.Z_t=function(){this.Y_t.length>0&&this.j_t<this.q_t&&(this.Y_t.shift().Hu(),this.j_t+=1)},t}();function jG(t,n){for(var i=0,e=0,r=t.KS.Y0.map(function(t){return t.Yg});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var FG=function(t){function n(n,e,r,s,u,o,a,h){var c,f,l,v,d;void 0===h&&(l=M.Tn||M.pn,v=void 0!==f&&void 0!==f.preferredAudioCodecs&&f.preferredAudioCodecs.some(function(t){return"ec-3"===t}),d=l&&!v,h=function(t){var n,e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=t.Ul,MediaSource.isTypeSupported(e)||Vk(t.QB,t.XH)){u.next=3;break}return u.abrupt("return",!1);case 3:if(!d||-1===(null==(n=t.Ke)?void 0:n.indexOf("ec-3"))){u.next=5;break}return u.abrupt("return",!1);case 5:if(!t.o1){u.next=13;break}return r=t.o1,s=Ks(r,function(t){return ps(t.J0)}).filter(U),u.next=10,jr.awrap(eu(s,function(t){return i.Nr(t,e)}));case 10:if(u.sent){u.next=13;break}return u.abrupt("return",!1);case 13:return u.abrupt("return",!0);case 14:case"end":return u.stop()}},null,null,null,We)}),(c=t.call(this)||this).Gat=void 0,c.J_t=void 0,c.$_t=new ta,c.tgt=void 0,c.nct=void 0,c.ngt=_W.Bft(),c.Dft=void 0,c.igt=void 0,c.Im=void 0,c.egt=void 0,c.Not=void 0,c.Vat=void 0,c.rgt=void 0,c.H_t=void 0,c.z_t=void 0,c._ft=void 0,c.Gat=n,c.Not=e,c.Vat=r,c.egt=s,c.rgt=u,c.H_t=o,c.z_t=h,c._ft=a,c.igt=-1;var w=c.Gat.dD.sources[0];return c.tgt=w,c.Im=c.qm(),c.J_t=new MG(c.Gat.ah.parallelTasksThreshold),c}E(n,t);var e=n.prototype;return e.qm=function(){var t,n,i,e,r,s,u,o,a,h,c,f,l,v,d,w,m,y,p,_,b,k,A,T,S,E,I,R=this;return jr.async(function(C){for(;;)switch(C.prev=C.next){case 0:return t=new LG(this.Vat,this.H_t,this.z_t),C.next=3,jr.awrap(t.V_t(this.tgt));case 3:return this.nct=C.sent,n=this.Gat.ah.amount,i=this.nct.Yg,e=AW(n,i),this.Dft=e,s=hH(this.nct.Fft[0]),C.next=11,jr.awrap(this.Not.pot.yot(s,"manifestURL"));case 11:for(u=C.sent.filter(function(t){return Ys(t.references,R.Gat.X_)}),o=[],a=this.Gat.ah.bandwidth,h=0,c=this.nct.Mft;h<c.length;h++)for(f=c[h],l=0,v=f.Vft;l<v.length;l++)for(d=v[l],w=0,m=HG(d.ZA);w<m.length;w++)for(y=m[w],p=0,_=XG(y.W_,a);p<_.length;p++)b=_[p],o.push(b);if(this.igt=g.ceil(o.map(function(t){return t.UR*jG(t,e)/8}).reduce(function(t,n){return t+n},0)),k=Hr(),u&&0!==u.length){for(A=u.reduce(function(t,n){return t+n.byteSize},0),T=function(t){var n=u[t],i=n.qualityId,e=new fE(n.startsAndEnds);if(k.has(i))k.get(i).timeRanges=k.get(i).timeRanges.$D(e).JD(5e-4);else{var r,s=Vs(o,function(t){return t.X_===i}),a=g.min(R.Dft,null!=(r=null==s?void 0:s.KS.Yg)?r:1/0);k.set(i,{timeRanges:e,totalQualityDurationToCache:a})}},S=0;S<u.length;S++)T(S);r=new _W(A,k,this.Dft)}else{for(E=0;E<o.length;E++)I=o[E],k.set(I.X_,{timeRanges:fE.gC(),totalQualityDurationToCache:g.min(I.KS.Yg,this.Dft)});r=new _W(0,k,this.Dft)}this.sgt=r;case 19:case"end":return C.stop()}},null,this,null,We)},e.ugt=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jr.awrap(this.Im);case 2:return n.next=4,jr.awrap(this.ogt(this.nct,t));case 4:return n.next=6,jr.awrap(this.$_t.Uu);case 6:case"end":return n.stop()}},null,this,null,We)},e.ogt=function(t,n){var i,e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.Fft){u.next=2;break}throw new l("Unexpected - manifest is missing locations");case 2:return u.next=4,jr.awrap(this.agt());case 4:for(i=[],e=0,r=t.Mft;e<r.length;e++)s=r[e],i.push(this.cgt(s,t.Fft[0],n));return u.abrupt("return",We.all(i));case 7:case"end":return u.stop()}},null,this,null,We)},e.agt=function(){var t,n,i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,jr.awrap(this.egt.got());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=25;break}return i=t[n],r.next=8,jr.awrap(this.Not.Aot.Su(i.key));case 8:if(!(e=r.sent)){r.next=14;break}return r.next=12,jr.awrap(UG(e,this.Gat.X_,this.Not.Aot,this._ft));case 12:r.next=22;break;case 14:return r.prev=14,r.next=17,jr.awrap(this.Not.Aot.dot(i,this._ft));case 17:r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(14),new SW("Unable to store manifest with url: "+i.locationURL,r.t0);case 22:n++,r.next=4;break;case 25:return r.next=27,jr.awrap(this.egt.bot());case 27:case"end":return r.stop()}},null,this,[[14,19]],We)},e.cgt=function(t,n,i){var e,r,s,u,o,a,h;return jr.async(function(c){for(;;)switch(c.prev=c.next){case 0:for(e=[],r=0,s=t.Vft;r<s.length;r++)for(u=s[r],o=HG(u.ZA),a=0;a<o.length;a++)h=o[a],e.push(this.hgt(h,n,i));return c.abrupt("return",We.all(e));case 3:case"end":return c.stop()}},null,this,null,We)},e.hgt=function(t,n,i){var e,r,s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.Gat.ah.bandwidth,r=XG(t.W_,e),t.us!==s_.Td||!t.qft||!t.qft.qE.widevine||"persistent"!==t.qft.qE.widevine.licenseType){a.next=6;break}return a.next=5,jr.awrap(this.fgt(t.qft));case 5:hu(i);case 6:for(s=[],u=0;u<r.length;u++)o=r[u],s.push(this.vgt(o,n,i));return a.abrupt("return",We.all(s));case 9:case"end":return a.stop()}},null,this,null,We)},e.vgt=function(t,n,i){var e,r,s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:hu(i),e=t.KS.Y0[0].Zy,r=e+this.Dft,s=0,u=t.KS.Y0;case 4:if(!(s<u.length)){a.next=16;break}if(!((o=u[s]).Zy>=r)){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,jr.awrap(this.lgt(i));case 10:return a.next=12,jr.awrap(this.J_t.Q_t());case 12:mu(this.J_t.K_t(this.dgt(o,t,n),this.$_t));case 13:s++,a.next=4;break;case 16:case"end":return a.stop()}},null,this,null,We)},e.lgt=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||!t.Rs){n.next=4;break}return n.next=3,jr.awrap(this.$_t.Uu);case 3:throw new ou;case 4:case"end":return n.stop()}},null,this,null,We)},e.wgt=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jr.awrap(this.Im);case 2:return t.abrupt("return",this.nct);case 3:case"end":return t.stop()}},null,this,null,We)},e.fgt=function(t){return We.resolve()},e._gt=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return at("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},null,null,null,We)},e.dgt=function(t,n,i){var e,r,s,u,o,a,h,c=this;return jr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e=this.Not.pot,r=cH(t.jft.ud,t.jft.yat),f.next=4,jr.awrap(e.Su(r));case 4:if(!(s=f.sent)){f.next=11;break}return f.next=8,jr.awrap(UG(s,this.Gat.X_,e,this._ft));case 8:this.ggt(s,!1),f.next=24;break;case 11:return f.prev=11,f.next=14,jr.awrap(this.mgt(t.jft));case 14:return u=f.sent,o=this.ygt(t,n,i,u),a=o.segmentMetadataEntry,h=o.segmentEntry,f.next=18,jr.awrap(this.Not.Eot(function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jr.awrap(t.pot.dot(a,c._ft));case 2:return n.next=4,jr.awrap(t.Y0.dot(h,c._ft));case 4:case"end":return n.stop()}},null,null,null,We)}));case 18:this.ggt(a,!0),f.next=24;break;case 21:throw f.prev=21,f.t0=f.catch(11),new SW("Unable to store segment with url: "+t.jft.ud,f.t0);case 24:case"end":return f.stop()}},null,this,[[11,21]],We)},e.mgt=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,jr.awrap(this.rgt.kgt(t,!1));case 2:return n=i.sent,i.next=5,jr.awrap(this.bgt(n));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},null,this,null,We)},e.bgt=function(t){var n;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,jr.awrap(t.Ll());case 2:return n=i.sent,i.abrupt("return",{buffer:n});case 4:case"end":return i.stop()}},null,null,null,We)},e.ygt=function(t,n,i,e){var r=cH(t.jft.ud,t.jft.yat),s=t.Zy,u=t.Yg,o=this.pgt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:hH(i),qualityId:n.X_,byteSize:o,startsAndEnds:new fE([s,s+u]).UD,references:[this.Gat.X_]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:hH(i),data:e}}},e.pgt=function(t){return t.buffer.byteLength},e.ggt=function(t,n){var i=t.qualityId,e=this.ngt,r=e.Cy;r.get(i).timeRanges=r.get(i).timeRanges.$D(new fE(t.startsAndEnds)).JD(5e-4),this.sgt=new _W(n?e.Oft+t.byteSize:e.Oft,r,this.Dft)},T(n,[{key:"Agt",get:function(){return this.igt}},{key:"sgt",get:function(){return this.ngt},set:function(t){this.ngt.pk(t)||(this.ngt=t,t.pk(_W.Bft())||this.Ys(new pW))}}]),n}(Au);function UG(t,n,i,e){return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Ys(t.references,n)){r.next=4;break}return t.references.push(n),r.next=4,jr.awrap(i.dot(t,e));case 4:case"end":return r.stop()}},null,null,null,We)}function HG(t){return t.length?[t[0]]:[]}function XG(t,n){if(!t.length)return[];var i=[].concat(t).sort(mW),e=i.filter(function(t){return t.UR<=n});return e.length>0?[e.pop()]:[i.shift()]}var zG=function(){function t(t){this.kE=void 0,this.rX=new aN,this.kE=t}var n=t.prototype;return n.ed=function(t){var n=this,i=new ta;return this.rX.YU(function(e){return n.Tgt(i,t,e)},t.zs).catch(Z),i.Uu},n.Pd=function(t){return this.kE.Pd(t)},n.Tgt=function(t,n,i){var e,r,s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return hu(i),e=new ag({ud:n.ud,zs:i},n),r=this.kE.ed(e),t.Hu(r),u.next=6,jr.awrap(r);case 6:return s=u.sent,u.next=9,jr.awrap(s.Gl());case 9:case"end":return u.stop()}},null,this,null,We)},n.Bd=function(){this.rX.Bd()},t}(),VG=function(){function t(t,n){this.kE=void 0,this.Sgt=void 0,this.n6=void 0,this.kE=t,this.Sgt=new zG(t),this.n6=n}var n=t.prototype;return n.kgt=function(t,n,i){return this.w3(t,n,!0,!1,void 0,i)},n.g5=function(t,n,i,e){return this.w3(t,n,!1,!1,i,e)},n.Egt=function(t,n,i,e){return this.w3(t,n,!1,!0,i,e)},n.w3=function(n,i,e,r,s,u){var o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return hu(u),a.next=3,jr.awrap(this.T5(n,e,r,s,u));case 3:if(o=a.sent,!i){a.next=8;break}return a.abrupt("return",t.Igt(o));case 8:return a.abrupt("return",this.Rgt(o));case 9:case"end":return a.stop()}},null,this,null,We)},n.Rgt=function(t){return t},t.Igt=function(t){return t},n.T5=function(t,n,i,e,r){var s=new ag({ud:t.ud,Jl:Pf.Vf,Kl:t.yat?{Range:"bytes="+t.yat[0]+"-"+t.yat[1]}:void 0,Dd:t.Dd,Ed:eg.GET,us:rg.vd,Rd:i?sg.dd:sg.hd,Nd:this.n6,Id:e,zs:r});return n?this.Sgt.ed(s):this.kE.ed(s)},t}(),WG=function(){function t(t){this.kE=void 0,this.kE=t}return t.prototype.mwt=function(t,n,i,e){var r;return jr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,jr.awrap(this.kE.ed({ud:t,Jl:Pf.Vf,Kl:{Range:"bytes="+n[0]+"-"+n[1]},Dd:i,Ed:eg.GET,us:rg.hd,zs:e}));case 2:return r=s.sent,s.next=5,jr.awrap(r.Ll());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,We)},t}(),qG=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).p5=void 0,r.p5=n,r}return E(n,t),n}(tn),GG=function(){function t(t){this.t4=void 0,this.t4=t}return t.prototype.mwt=function(t,n,i,e){var r,s;return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,jr.awrap(this.t4.u6(t,n));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.buffer);case 5:return i.next=7,jr.awrap(this.t4.u6(t));case 7:if(!(s=i.sent)){i.next=10;break}return i.abrupt("return",Yo(new _(s.buffer),n[0],n[1]));case 10:throw new qG({ud:t,yat:n,Dd:!1});case 11:case"end":return i.stop()}},null,this,null,We)},t}(),$G={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new fE([0,0]).UD,references:[]},YG={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},QG=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).Ngt=void 0,u.Dgt=void 0,u.Not=void 0,u._ft=void 0,u.Ngt=new WG(i),u.Not=e,u.Dgt=r,u._ft=s,u}E(n,t);var i=n.prototype;return i.mwt=function(n,i,e,r){var s;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,jr.awrap(t.prototype.mwt.call(this,n,i,e,r));case 3:return u.abrupt("return",u.sent);case 6:u.prev=6,u.t0=u.catch(0),cu(u.t0);case 9:return u.next=11,jr.awrap(this.Ngt.mwt(n,i,e,r));case 11:return s=u.sent,u.next=14,jr.awrap(this.Cgt(n,i,s));case 14:return u.abrupt("return",s);case 15:case"end":return u.stop()}},null,this,[[0,6]],We)},i.Cgt=function(t,i,e){var r,s,u,o,a,h,c,f=this;return jr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(void 0!==this.Dgt){l.next=2;break}return l.abrupt("return");case 2:return r=this.Not.pot,s=cH(t,i),l.next=6,jr.awrap(r.Su(s));case 6:if(!(u=l.sent)){l.next=12;break}return l.next=10,jr.awrap(UG(u,this.Dgt,r,this._ft));case 10:l.next=22;break;case 12:return l.prev=12,o={buffer:e},a=n.ygt(s,o,this.Dgt),h=a.segmentMetadataEntry,c=a.segmentEntry,l.next=17,jr.awrap(this.Not.Eot(function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jr.awrap(t.pot.dot(h,f._ft));case 2:return n.next=4,jr.awrap(t.Y0.dot(c,f._ft));case 4:case"end":return n.stop()}},null,null,null,We)}));case 17:l.next=22;break;case 19:throw l.prev=19,l.t0=l.catch(12),new SW("Unable to store segment with url: "+t,l.t0);case 22:case"end":return l.stop()}},null,this,[[12,19]],We)},n.ygt=function(t,n,i){return{segmentMetadataEntry:Fr({},$G,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:Fr({},YG,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(GG);var ZG=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Pgt=function(t,n,i,e,r,s,u){return new FG(t,n,i,e,r,s,u)},n}(function(){function t(t){this.kE=t}return t.prototype.mK=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.dD.sources[0].useCredentials),r=new VG(this.kE,ug.hd),s=new $H(this.kE,e),u=new fH(n.Aot,n.pot,n.Y0,n.Sot),o=function(t,n,i,e,r){return new QG(n,t,i,e,r)}(this.kE,u,n,t.X_,i),a=new pH,h=new JH(KH(s,u),a,t);return this.Pgt(t,n,h,a,r,o,i)},t}());function KG(t){var n,i={get id(){return t.X_},get status(){return t.Zl},get source(){return t.dD},get parameters(){return t.ah},get duration(){return t.Yg},get cached(){return t.Bgt.ZN()},get secondsCached(){return t.Ogt},get percentageCached(){return t.xgt},get bytes(){return t.Lgt},get bytesCached(){return t.Mgt},get license(){return t.fO.Jw},start:function(){t.OD()},pause:function(){t.Xm()},remove:function(){t.Vc()},addEventListener:function(t,i){n.js(t,i)},removeEventListener:function(t,i){n.Js(t,i)}};return n=new yC(t,["Ift","rft"],i),i}var JG=function(){function t(t,n,i){this.Gat=t,this.Not=n,this.nct=i}var n=t.prototype;return n.Ugt=function(){var t=this;return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jr.awrap(this.Not.Eot(function(n){return jr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,jr.awrap(t.Xgt(n));case 2:return i.next=4,jr.awrap(t.Fgt(n));case 4:return i.next=6,jr.awrap(t.Hgt(n));case 6:return i.next=8,jr.awrap(t.zgt(n));case 8:case"end":return i.stop()}},null,null,null,We)}));case 2:case"end":return n.stop()}},null,this,null,We)},n.Xgt=function(t){var n,i;return jr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.Tot,i=this.Gat.X_,e.next=4,jr.awrap(n.Vc(i));case 4:case"end":return e.stop()}},null,this,null,We)},n.Fgt=function(t){var n,i,e,r,s,u,o,a=this;return jr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(n=t.pot,i=t.Y0,up(e=this.Gat.dD.sources[0])){h.next=5;break}return h.abrupt("return");case 5:return r=hH(e.src),h.next=8,jr.awrap(n.yot(r,"manifestURL"));case 8:s=h.sent.filter(function(t){return Ys(t.references,a.Gat.X_)}),u=0;case 10:if(!(u<s.length)){h.next=25;break}if(Gs((o=s[u]).references,this.Gat.X_),0!==o.references.length){h.next=20;break}return h.next=16,jr.awrap(n.Vc(o.key));case 16:return h.next=18,jr.awrap(i.Vc(o.key));case 18:h.next=22;break;case 20:return h.next=22,jr.awrap(n.dot(o));case 22:u++,h.next=10;break;case 25:case"end":return h.stop()}},null,this,null,We)},n.Hgt=function(t){var n,i,e,r,s,u=this;return jr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.Aot,i=this.Vgt(),o.next=4,jr.awrap(n.vot(i));case 4:e=o.sent.filter(function(t){return Ys(t.references,u.Gat.X_)}),r=0;case 6:if(!(r<e.length)){o.next=19;break}if(Gs((s=e[r]).references,this.Gat.X_),0!==s.references.length){o.next=14;break}return o.next=12,jr.awrap(n.Vc(s.key));case 12:o.next=16;break;case 14:return o.next=16,jr.awrap(n.dot(s));case 16:r++,o.next=6;break;case 19:case"end":return o.stop()}},null,this,null,We)},n.Vgt=function(){if(!this.nct)return[];var t=this.Gat.dD.sources[0];if(!up(t))return[];var n=hH(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.Mft;i<e.length;i++)for(var r=0,s=e[i].Vft;r<s.length;r++)for(var u=0,o=s[r].ZA;u<o.length;u++)for(var a=0,h=o[u].W_;a<h.length;a++){var c=h[a];c.evt&&n.push(c.evt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.nct).map(function(t){return{src:t}}).map(function(t){return hH(t.src)});return[n].concat(i)},n.zgt=function(t){var n,i,e,r,s=this;return jr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.Sot,u.next=3,jr.awrap(n.got());case 3:i=u.sent.filter(function(t){return Ys(t.references,s.Gat.X_)}),e=0;case 5:if(!(e<i.length)){u.next=19;break}if(Gs((r=i[e]).references,this.Gat.X_),0!==r.references.length){u.next=14;break}return u.next=11,jr.awrap(n.Vc(r.key));case 11:this.Wgt(r),u.next=16;break;case 14:return u.next=16,jr.awrap(n.dot(r));case 16:e++,u.next=5;break;case 19:case"end":return u.stop()}},null,this,null,We)},n.Wgt=function(t){},t}(),t$=new(function(){function t(){}return t.prototype.mK=function(t,n,i){return new JG(t,n,i)},t}());var n$=function(){function t(t,n){this.Kw=void 0,this.Pw=t,this.Ggt=n}var n=t.prototype;return n.qgt=function(t){this.Ygt(t)},n.Ygt=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,jr.awrap(this.Ggt._gt(t));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),this.Pw.yft(sW.ERROR);case 9:case"end":return n.stop()}},null,this,[[0,5]],We)},T(t,[{key:"Jw",get:function(){var t;return this.Kw||(this.Kw=(t=this,{renew:function(n){t.qgt(n)}})),this.Kw}}]),t}(),i$=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this)||this).Nc=void 0,o.wft=void 0,o.Kw=void 0,o.zet=void 0,o.jgt=void 0,o.Not=void 0,o.Ggt=void 0,o.Qgt=new uu,o.Zgt=void 0,o.evictOnLoading=function(){o.Js("rft",o.evictOnLoading),o.Kgt()},o.Nc=n,o.zet=i,o.jgt=e,o.Not=r,o.Ggt=s.mK(Kt(o),o.Not,u),o.Zgt=new n$(Kt(o),o.Ggt),o.wft=1===o.Ggt.sgt.xft?sW.DONE:sW.IDLE,o.Ggt.js("Ift",function(t){o.qs(t),1===o.xgt&&o.yft(sW.DONE)});var h=new Date,c=o.jgt.expirationDate.getTime()-h.getTime();return c<2147483647&&a(function(){return o.Kgt()},c),o}E(n,t);var i=n.prototype;return i.yft=function(t){this.wft!==t&&(this.wft=t,this.Ys(new oW))},i.OD=function(){this.wft===sW.EVICTED||this.wft===sW.DONE||this.Jgt()},i.Jgt=function(){var t;return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.yft(sW.LOADING),t=new uu,this.Qgt=t,n.next=6,jr.awrap(this.Ggt.ugt(t.zs));case 6:this.yft(sW.DONE),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),au(n.t0)?this.yft(sW.IDLE):this.yft(sW.ERROR);case 12:return n.prev=12,this.Qgt.Bs(),n.finish(12);case 15:case"end":return n.stop()}},null,this,[[0,9,12,15]],We)},i.Xm=function(){this.Qgt.Xs()},i.Vc=function(){this.Zl===sW.LOADING?(this.js("rft",this.evictOnLoading),this.Xm()):this.Kgt()},i.Kgt=function(){var t;return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,jr.awrap(this.Ggt.wgt());case 3:return t=n.sent,n.next=6,jr.awrap(t$.mK(this,this.Not,t).Ugt());case 6:this.Ggt.sgt=_W.Bft(),this.yft(sW.EVICTED),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),this.yft(sW.ERROR);case 14:case"end":return n.stop()}},null,this,[[0,10]],We)},T(n,[{key:"Jw",get:function(){return this.Kw||(this.Kw=KG(this)),this.Kw}},{key:"X_",get:function(){return this.Nc}},{key:"fO",get:function(){return this.Zgt}},{key:"Zl",get:function(){return this.wft}},{key:"dD",get:function(){return this.zet}},{key:"ah",get:function(){return this.jgt}},{key:"Yg",get:function(){return this.Ggt.sgt.lC}},{key:"Bgt",get:function(){return this.Ggt.sgt.Pft}},{key:"Ogt",get:function(){return this.Ggt.sgt.Cft}},{key:"xgt",get:function(){return this.Ggt.sgt.xft}},{key:"Lgt",get:function(){return this.Ggt.Agt}},{key:"Mgt",get:function(){return this.Ggt.sgt.Oft}}]),n}(Hy);var e$=function(){function t(t,n){this.Not=t,this.$gt=n}var n=t.prototype;return n.Aft=function(t,n,i){var e=ZI();return this.bft(e,t,n,i)},n.bft=function(t,n,i,e){return new i$(t,n,i,this.Not,this.$gt,e)},t}(),r$=30,s$=5;function u$(t){if(!t)throw new l("Unexpected - The cache parameters are undefined");var n=function(t){if(q(t)&&!bs(t,"%"))return m(t);return t}(t.amount);!function(t){if(i=t,q(i)&&bs(i,"%")){var n=y(t);if(p(n)||n<0||n>100)throw new l("The amount as percentage must be between 0 and 100 percent.")}var i;if(!q(t)&&p(t))throw new l("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+r$),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(Y(n)&&n>new Date)))throw new l("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(p(t)||t<0)throw new l("The bandwidth must be between zero and infinity.")}(e),{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return s$;if(p(t))throw new l("The amount must be a number");return t}(t.numberOfParallelTasks)}}var o$,a$,h$,c$,f$,l$,v$=function(t){function n(n,i){var e;return(e=t.call(this)||this).Kw=void 0,e.tmt=n,e.wU=i,e.tmt.js("rft",e.qs),e}return E(n,t),n.prototype.nmt=function(t,n,i){var e,r;if(!t)throw new l("Unexpected - The source description is undefined");if(e=bI(t),r=u$(n),hI(e))throw new l("Invalid source description");return this.tmt.bft(e,r).Jw},T(n,[{key:"Jw",get:function(){var t,n,i;return this.Kw||(this.Kw=(i={get status(){return t.Zl},get tasks(){return t.Eft},get network(){return t.RU.Jw},createTask:function(n,i){return t.nmt(n,i)},addEventListener:function(t,i){n.js(t,i)},removeEventListener:function(t,i){n.Js(t,i)}},n=new pC(t=this,i),i)),this.Kw}},{key:"Zl",get:function(){return this.tmt.Zl}},{key:"Eft",get:function(){return this.tmt.Eft.Jw}},{key:"RU",get:function(){return this.wU}}]),n}(Hy);(o$=new KR(i.qw,!1),a$=SH.Gn,h$=new ZG(o$),c$=new e$(a$,h$),f$=new tC(o$),l$=new gW(a$.Tot,c$,"persistent"),new v$(l$,f$)).Jw;var d$=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Nc=void 0,s.wft=void 0,s.Kw=void 0,s.zet=void 0,s.jgt=void 0,s.ea=0,s.imt=fE.gC(),s.emt=0,s.rmt=0,s.tmt=void 0,s.Nc=n,s.wft=sW.IDLE,s.zet=i,s.jgt=e,s.tmt=r,s}E(n,t);var i=n.prototype;return i.OD=function(){this.tmt.startCachingTask(this)},i.Vc=function(){this.tmt.removeCachingTask(this)},T(n,[{key:"Jw",get:function(){return this.Kw||(this.Kw=KG(this)),this.Kw}},{key:"X_",get:function(){return this.Nc}},{key:"Zl",get:function(){return this.wft},set:function(t){this.wft!==t&&(this.wft=t,this.Ys(new oW))}},{key:"dD",get:function(){return this.zet}},{key:"ah",get:function(){return this.jgt}},{key:"Yg",get:function(){return this.ea},set:function(t){this.ea=t}},{key:"Bgt",get:function(){return this.imt},set:function(t){this.imt=t}},{key:"Ogt",get:function(){return this.emt},set:function(t){this.emt=t}},{key:"xgt",get:function(){return this.rmt},set:function(t){this.rmt=t,this.Ys(new pW)}}]),n}(Xy),w$=30;function g$(t){var n,i;if(!t)throw new l("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+w$),n&&((i=n)&&!(Y(i)&&i>new Date)))throw new l("Invalid expiration date for the cache parameters");return{expirationDate:n}}var m$=function(t){function n(){var n;return(n=t.call(this)||this).wft=cW.UNINITIALISED,n.zU=new wW,n.zct=void 0,n.rht=void 0,n.smt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.Zl=sW.EVICTED,i.xgt=0,i.Ogt=0,i.Yg=0,i.Bgt=fE.gC(),n.zU.Vc(i))}},n.umt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.Zl=e);var r=t.detail.percentage;r&&(i.xgt=r);var s=t.detail.duration;s&&(i.Yg=s);var u=t.detail.seconds;u&&(i.Ogt=u);var o=t.detail.cached;if(o){for(var a=[],h=0;h<o.length;h++){var c=o[h];a.push(c.start,c.end)}i.Bgt=new fE(a)}}}},n.omt=function(t){if(t.detail){var i=bI(JSON.parse(t.detail.source));if(!n.amt(i)){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)});var s=t.detail.uuid;n.bft(i,g$(e),s)}}},n.cmt=function(t){if(t.detail){var i={},e=t.detail.expirationDate;e&&(i={expirationDate:new Date(e)});var r=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.bft(bI(r),g$(i),s);u.Zl=t.detail.status,u.xgt=t.detail.percentage,u.Yg=t.detail.duration,u.Ogt=t.detail.seconds;for(var o=t.detail.cached,a=[],h=0;h<o.length;h++){var c=o[h];a.push(c.start,c.end)}u.Bgt=new fE(a)}},n.hmt=function(t){t.detail&&n.yft(t.detail.status)},n.zct=new nW,n.rht=new xV,IV().cache={sdkEventBus:n.rht},n.$ht(),n}E(n,t);var i=n.prototype;return i.yft=function(t){this.wft!==t&&(this.wft=t,this.Ys(new oW))},i.bft=function(t,n,i){void 0===i&&(i=void 0);var e=new d$(i||ZI(),t,n,this);return this.zU.Py(e),i||this.zct.eK("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e.X_}),e},i.findTaskWithId=function(t){for(var n=0,i=this.zU.uft;n<i.length;n++){var e=i[n];if(e.X_===t)return e}},i.amt=function(t){for(var n=p$(t.sources),i=0,e=this.zU.uft;i<e.length;i++){if(p$(e[i].dD.sources).src===n.src)return!0}return!1},i.$ht=function(){this.rht.addEventListener("deleteTask",this.smt),this.rht.addEventListener("updateValues",this.umt),this.rht.addEventListener("newTask",this.omt),this.rht.addEventListener("restoreTask",this.cmt),this.rht.addEventListener("setCacheStatus",this.hmt)},i.startCachingTask=function(t){this.zct.eK("THEOplayerCacheStartCachingTask",{id:t.X_})},i.removeCachingTask=function(t){this.zct.eK("THEOplayerCacheRemoveCachingTask",{id:t.X_})},T(n,[{key:"Zl",get:function(){return this.wft}},{key:"Eft",get:function(){return this.zU}}]),n}(Au),y$=function(t){function n(n){var i;return(i=t.call(this,n)||this).fmt=n,i.fmt.js("rft",i.qs),i}return E(n,t),n.prototype.nmt=function(t,n){var i,e;if(!t)throw new l("Unexpected - The source description is undefined");if(i=bI(t),e=g$(n),hI(i))throw new l("Invalid source description");if(!p$(i.sources))throw new l("The provided sources can't be cached");return this.fmt.bft(i,e).Jw},n}(v$);function p$(t){for(var n=0;n<t.length;n++){var i=t[n];if(ip(i.type))return i}}var _$,b$,k$=function(){var t=new m$;return new y$(t)}().Jw;!function(t){t.vmt="any",t.lmt="natural",t.dmt="landscape",t.wmt="portrait",t._mt="portrait-primary",t.gmt="portrait-secondary",t.mmt="landscape-primary",t.ymt="landscape-secondary"}(_$||(_$={})),function(t){t._mt="portrait-primary",t.gmt="portrait-secondary",t.mmt="landscape-primary",t.ymt="landscape-secondary"}(b$||(b$={}));var A$,T$,S$=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).zct=new nW,n.kmt=_$.lmt,n.bmt=b$._mt,n.pmt=b$._mt,n.Amt=b$._mt,n}E(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,e){n.kmt=t,n.zct.eK("THEOplayerOrientationLock",t),n.Tmt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.kmt=_$.lmt,t.zct.eK("THEOplayerOrientationUnlock"),t.type=t.pmt,t.Tmt(),n()})},i.Tmt=function(){var t=this.Amt,n=this.type;t!==n&&(this.Amt=n,this.Ys(new Su("change")))},i.addEventListener=function(t,n){this.js(t,n)},i.removeEventListener=function(t,n){this.Js(t,n)},n.Smt=function(t){switch(t){case _$._mt:return[b$._mt];case _$.gmt:return[b$.gmt];case _$.wmt:return[b$._mt,b$.gmt];case _$.mmt:return[b$.mmt];case _$.ymt:return[b$.ymt];case _$.dmt:return[b$.mmt,b$.ymt];case _$.lmt:return[b$._mt,b$.mmt,b$.ymt];case _$.vmt:return[b$._mt,b$.gmt,b$.mmt,b$.ymt]}},n.Emt=function(t,i){return n.Smt(i).indexOf(t)>=0},T(n,[{key:"type",get:function(){return this.bmt},set:function(t){this.pmt=t,n.Emt(t,this.kmt)?(this.bmt=t,this.Tmt()):(t===b$.mmt&&this.kmt===_$.ymt&&(this.bmt=b$.ymt,this.Tmt()),t===b$.ymt&&this.kmt===_$.mmt&&(this.bmt=b$.mmt,this.Tmt()))}},{key:"angle",get:function(){switch(this.type){case b$.mmt:return-90;case b$.ymt:return 90;case b$._mt:return 0;case b$.gmt:return 180;default:return 0}}}]),n}(Xy);S$.Gn=new S$,r.screen.orientation=S$.Gn,o&&-1===o.userAgent.indexOf("OS 9")&&w.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.Imt="unavailable",t.Rmt="available",t.Nmt="presenting"}(A$||(A$={})),YC(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return E(n,t),n.prototype.zm=function(n){t.prototype.zm.call(this,n);var i=this.Jw;this.Jw.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===A$.Nmt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(_$.ymt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},UC.CU),function(t){t.Yw="addtrack",t.Qw="removetrack",t.f_="change",t.g_="update"}(T$||(T$={}));var E$=function(t,n,i){this.type=T$.f_,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},I$=function(t,n){this.type=T$.Yw,this.mediaType=t,this.mediaTrack=n},R$=function(t,n){this.type=T$.Qw,this.mediaType=t,this.mediaTrack=n},C$=function(t,n){this.type=T$.g_,this.mediaType=t,this.mediaTrack=n},N$=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.Dmt=function(t){var n=new E$(e.type,t.track,e.mediaTracks);e.messageDispatcher.Cmt(n)},this.Pmt=function(t){var n=new I$(e.type,t.track);e.messageDispatcher.Cmt(n),t.track.addEventListener("update",e.Bmt)},this.Omt=function(t){var n=new R$(e.type,t.track);e.messageDispatcher.Cmt(n)},this.Bmt=function(t){var n=new C$(e.type,t.track);e.messageDispatcher.Cmt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.$ht()}return t.prototype.$ht=function(){this.mediaTracks.addEventListener("change",this.Dmt),this.mediaTracks.addEventListener("addtrack",this.Pmt),this.mediaTracks.addEventListener("removetrack",this.Omt)},t}(),D$=function(){function t(){this.xmt=void 0,this.xmt=new nW}return t.prototype.Cmt=function(t){this.xmt.eK(t.type,lX(t))},t}();tN(function(t){if(t.Jw.audioTracks){var n=new D$;new N$("audio",t.Jw.audioTracks,n)}if(t.Jw.videoTracks){var i=new D$;new N$("video",t.Jw.videoTracks,i)}});var P$,x$="nativePromiseCallback",B$=function(t){function n(n){var i;return(i=t.call(this,x$)||this).detail=n,i}return E(n,t),n}(Su);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(P$||(P$={}));var O$=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Ys(new B$(n))},i.addEventListener=function(t,n){this.js(t,n)},i.removeEventListener=function(t,n){this.Js(t,n)},n}(xV),L$=function(){function t(){var t=this;this.xmt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new l("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case P$.RESOLVE:i.Hu(n.detail.data);break;case P$.REJECT:i.Vu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new O$;IV().nativePromise={sdkEventBus:n},n.addEventListener(x$,this.handleNativePromiseEvent)}return t.prototype.Lmt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=Fr({},n,{promiseId:e}),s=new ta;return this.promisesMap[e]=s,null==(i=this.xmt)||i.eK(n.type,cX(r)),s.Uu},t}();L$.messageIdTracker=-1;var M$,j$=function(t){function n(){var n;return(n=t.call(this)||this).xmt=new nW,n}return E(n,t),n}(L$),F$=function(){function n(t){this.playerID=t}return n.prototype.eK=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),U$=function(t){function n(n){var i;return(i=t.call(this)||this).xmt=new F$(n),i}return E(n,t),n}(L$);!function(t){t.Yw="TextTrackListAddTrack",t.Qw="TextTrackListRemoveTrack",t.f_="TextTrackListChange"}(M$||(M$={}));var H$,X$=function(t){this.type=M$.Yw,this.textTrack=t},z$=function(t){this.type=M$.Qw,this.textTrack=t},V$=function(t){this.type=M$.f_,this.textTrack=t};!function(t){t.n_="TextTrackAddCue",t.e_="TextTrackRemoveCue",t.s_="TextTrackEnterCue",t.o_="TextTrackExitCue",t.c_="TextTrackCueChange"}(H$||(H$={}));var W$,q$=function(t,n){this.type=H$.n_,this.textTrackCue=t,this.textTrackUid=n},G$=function(t,n){this.type=H$.e_,this.textTrackCue=t,this.textTrackUid=n},$$=function(t,n){this.type=H$.s_,this.textTrackCue=t,this.textTrackUid=n},Y$=function(t,n){this.type=H$.o_,this.textTrackCue=t,this.textTrackUid=n},Q$=function(t){this.type=H$.c_,this.textTrackUid=t};!function(t){t.Gy="TextTrackCueEnter",t.Yy="TextTrackCueExit",t.g_="TextTrackCueUpdate"}(W$||(W$={}));var Z$=function(t){this.type=W$.Gy,this.textTrackCue=t},K$=function(t){this.type=W$.Yy,this.textTrackCue=t},J$=function(t){this.type=W$.g_,this.textTrackCue=t},tY=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.Mmt=function(t){var i=nY(t.cue),e=new Z$(i);n.messageDispatcher.Lmt(e).then()},this.Umt=function(t){var i=nY(t.cue),e=new K$(i);n.messageDispatcher.Lmt(e).then()},this.Xmt=function(t){var i=nY(t.cue),e=new J$(i);n.messageDispatcher.Lmt(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.$ht=function(t){t.addEventListener("enter",this.Mmt),t.addEventListener("exit",this.Umt),t.addEventListener("update",this.Xmt)},n.tu=function(t){t.removeEventListener("enter",this.Mmt),t.removeEventListener("exit",this.Umt),t.removeEventListener("update",this.Xmt)},t}();function nY(t){var n=_V(t,t.track.type);return delete n.track,n}var iY=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.Fmt=function(t){var n,e=nY(t.cue),r=new q$(e,t.cue.track.uid);i.messageDispatcher.Lmt(r).then(),null==(n=i.textTrackCueBridge)||n.$ht(t.cue)},this.Hmt=function(t){var n,e=nY(t.cue),r=new G$(e,t.cue.track.uid);i.messageDispatcher.Lmt(r).then(),null==(n=i.textTrackCueBridge)||n.tu(t.cue)},this.Mmt=function(t){var n=nY(t.cue),e=new $$(n,t.cue.track.uid);i.messageDispatcher.Lmt(e).then()},this.Umt=function(t){var n=nY(t.cue),e=new Y$(n,t.cue.track.uid);i.messageDispatcher.Lmt(e).then()},this.zmt=function(t){var n=new Q$(t.track.uid);i.messageDispatcher.Lmt(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new tY(e))}var n=t.prototype;return n.$ht=function(t){t.addEventListener("addcue",this.Fmt),t.addEventListener("removecue",this.Hmt),t.addEventListener("entercue",this.Mmt),t.addEventListener("exitcue",this.Umt),t.addEventListener("cuechange",this.zmt)},n.tu=function(t){t.removeEventListener("addcue",this.Fmt),t.removeEventListener("removecue",this.Hmt),t.removeEventListener("entercue",this.Mmt),t.removeEventListener("exitcue",this.Umt),t.removeEventListener("cuechange",this.zmt)},n.initMessageDispatcher=function(t){return M.Hn?new j$:M.zn&&void 0!==t?new U$(t):void 0},t}(),eY=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.Pmt=function(t){var n,i=new X$(t.track);e.messageDispatcher.Lmt(i).then(),null==(n=e.textTrackBridge)||n.$ht(t.track)},this.Omt=function(t){var n,i=new z$(t.track);e.messageDispatcher.Lmt(i).then(),null==(n=e.textTrackBridge)||n.tu(t.track)},this.Vmt=function(t){var n=new V$(t.track);e.messageDispatcher.Lmt(n).then()},this.Wmt=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.Gmt(i);r&&(this.textTrackBridge=new iY(r,i)),this.$ht(),this.sdkEventBus=new xV,IV().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.Wmt)}var n=t.prototype;return n.$ht=function(){this.textTracks.addEventListener("addtrack",this.Pmt),this.textTracks.addEventListener("removetrack",this.Omt),this.textTracks.addEventListener("change",this.Vmt)},n.Gmt=function(t){return M.Hn?new j$:M.zn&&void 0!==t?new U$(t):void 0},t}();tN(function(t){if(t.Jw.textTracks){var n=new j$;new eY(t.Jw.textTracks,n)}});var rY,sY,uY=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case rY.qmt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Ys(new oY(i));break;default:0}},n}(xV),oY=function(t){function n(n){var i;return(i=t.call(this,rY.qmt)||this).detail=n,i}return E(n,t),n}(Su);!function(t){t.qmt="registerContentProtectionIntegration"}(rY||(rY={})),function(t){t.Ymt="certifiateRequest",t.jmt="certifiateResponse",t.Qmt="licenseRequest",t.Zmt="licenseResponse",t.Kmt="extractFairplayContentId",t.Jmt="buildContentProtection",t.$mt="registerContentProtectionCallback"}(sY||(sY={}));var aY,hY=function(t,n){this.type=sY.$mt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(aY||(aY={}));var cY=function(t,n){this.type=sY.Jmt,this.value=t,this.integrationId=n},fY=function(t,n){this.type=sY.Ymt,this.value=t,this.integrationId=n},lY=function(t,n){this.type=sY.jmt,this.value=t,this.integrationId=n},vY=function(t,n){this.type=sY.Kmt,this.value=t,this.integrationId=n},dY=function(t,n){this.type=sY.Qmt,this.value=t,this.integrationId=n},wY=function(t,n){this.type=sY.Zmt,this.value=t,this.integrationId=n},gY=function(){function t(t,n){this.tyt=void 0,this.II=void 0,this.tyt=t,this.II=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e=new fY(i,this.II),a.prev=2,a.next=5,jr.awrap(this.tyt.Lmt(e));case 5:if(!(r=a.sent)){a.next=16;break}if(s=JSON.parse(r),!this.nyt(s)){a.next=13;break}return u=Fr({},s),a.abrupt("return",u);case 13:if(!this.iyt(s)){a.next=16;break}return o=new _(s),a.abrupt("return",o);case 16:throw new n_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw a.prev=19,a.t0=a.catch(2),new n_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 22:case"end":return a.stop()}},null,this,[[2,19]],We)},i.onCertificateResponse=function(t){var i,e,r,s,u;return jr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new lY(e,this.II),o.next=5,jr.awrap(this.tyt.Lmt(r));case 5:if(!(s=o.sent)){o.next=11;break}return u=JSON.parse(s),o.abrupt("return",new _(u));case 11:throw new n_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,We)},i.onLicenseRequest=function(t){var i,e,r,s,u,o,a;return jr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new dY(e,this.II),h.prev=3,h.next=6,jr.awrap(this.tyt.Lmt(r));case 6:if(!(s=h.sent)){h.next=17;break}if(u=JSON.parse(s),!this.nyt(u)){h.next=14;break}return o={url:u.url,method:u.method,headers:u.headers,body:u.body?new _(u.body):null,useCredentials:u.useCredentials,fairplaySkdUrl:u.fairplaySkdUrl},h.abrupt("return",o);case 14:if(!this.iyt(u)){h.next=17;break}return a=new _(u),h.abrupt("return",a);case 17:throw new n_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw h.prev=20,h.t0=h.catch(3),new n_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,h.t0);case 23:case"end":return h.stop()}},null,this,[[3,20]],We)},i.onLicenseResponse=function(t){var i,e,r,s,u,o;return jr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=Fr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},s=new wY(r,this.II),a.next=6,jr.awrap(this.tyt.Lmt(s));case 6:if(!(u=a.sent)){a.next=12;break}return o=JSON.parse(u),a.abrupt("return",new _(o));case 12:throw new n_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return a.stop()}},null,this,null,We)},i.extractFairplayContentId=function(t){var i,e;return jr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new vY(t,this.II),r.next=3,jr.awrap(this.tyt.Lmt(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",We.reject(new n_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,We)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.nyt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.iyt=function(t){return!!new _(t)},t}(),mY=function(){function t(t){this.tyt=void 0,this.tyt=t}return t.prototype.build=function(t){if(!t.integration)throw new l("integrationId is undefined");var n=new gY(this.tyt,t.integration),i=new cY({drmConfiguration:t},t.integration);return this.tyt.Lmt(i),n},t}(),yY=function(t){function n(){var n;return(n=t.call(this)||this).tyt=new j$,n}return E(n,t),T(n,[{key:"messageDispatcher",get:function(){return this.tyt}}]),n}(function(){var t=this;this.rht=void 0,this.eyt=function(n){var i=new mY(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:YA.OI.NI(r,s,i)};t.messageDispatcher.Lmt(new hY(u,r))},this.rht=new uY,IV().contentProtectionIntegration={sdkEventBus:this.rht},this.rht.addEventListener(rY.qmt,this.eyt)});tN(function(t){new yY});var pY=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return E(n,t),n}(Su);var _Y,bY=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).ryt=function(){},e.syt(),e}E(n,t);var e=n.prototype;return e.uyt=function(){this.pD&&this.pD.Js(Df.ef,this.handleAirplayChangedEvent),this.pD=this.Jx,this.pD.js(Df.ef,this.handleAirplayChangedEvent)},e.oyt=function(){return jr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.pD){t.next=2;break}return t.abrupt("return");case 2:this.ayt(qE.CONNECTED);case 3:case"end":return t.stop()}},null,this,null,We)},e.cyt=function(){this.ayt(qE.AVAILABLE)},e.Wm=function(){i.Or.Fe&&(this.hyt.qm(),this.fyt.Xs(),this.fyt=new uu,mu(this.vyt(this.fyt.zs)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).Kw=void 0,e.hyt=void 0,e.pD=void 0,e.Jx=void 0,e.we=qE.UNAVAILABLE,e.fyt=new uu,e.ryt=void 0,e.handleAirplayChangedEvent=function(){e.pD&&e.pD._y?e.oyt():e.sQ===qE.CONNECTED&&e.cyt()},e.hyt=n,e.Jx=i,e}E(n,t);var e=n.prototype;return e.syt=function(){this.uyt(),this.hyt.js("sourcechange",this.ryt),i.Or.Fe&&this.ayt(qE.AVAILABLE)},e.preloadPlayer=function(t){if(hu(t),this.pD.rg<Zy.Lg){var n=this.pD.uu("loadedmetadata",t);return this.pD.Iy=eE.rA,n}return We.resolve()},e.ayt=function(t){t!==this.we&&(this.we=t,this.Ys(new pY(this.we)))},e.vyt=function(t){return jr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jr.awrap(this.preloadPlayer(t));case 2:this.Jx.Wm();case 3:case"end":return n.stop()}},null,this,null,We)},e.Gm=function(){i.Or.Fe&&this.pD.Gm()},e.Bd=function(){this.Ks(),this.hyt.Js("sourcechange",this.ryt),this.fyt.Xs()},T(n,[{key:"NM",get:function(){return this.sQ===qE.CONNECTED}},{key:"sQ",get:function(){return this.we}},{key:"Jw",get:function(){var t;return this.Kw||(this.Kw=(t=this,{get casting(){return t.NM},get state(){return t.sQ},start:function(){t.Wm()},stop:function(){t.Gm()},addEventListener:function(n,i){var e=Ty(n,ky);t.js(e,i)},removeEventListener:function(n,i){var e=Ty(n,ky);t.Js(e,i)}})),this.Kw}}]),n}(Au));YC(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.$w=function(){var n=this.EU.Jw;return dy(t.prototype.$w.call(this),{get cast(){return n}})},n}(t)},UC.DU),YC(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).lyt=void 0,e.lyt=new bY(Kt(e),e.pM),e.EU.RM(e.lyt),e.js("currentsourcechange",function(){e.lyt.uyt()}),e}E(n,t);var i=n.prototype;return i.$w=function(){var n=this,i=t.prototype.$w.call(this);return dy(i.cast,{get airplay(){return n.lyt.Jw}}),i},i.Bd=function(){this.lyt.Bd(),t.prototype.Bd.call(this)},n}(t)},UC.DU),function(t){t.dyt="airplaystatechange"}(_Y||(_Y={}));var kY=function(t){this.type=_Y.dyt,this.state=t},AY=function(t){function n(n){var i;return(i=t.call(this)||this).wyt=void 0,i._yt=function(t){var n=new kY(t.state);i.Cmt(n)},i.wyt=n,i.$ht(n),i}return E(n,t),n.prototype.$ht=function(t){t.addEventListener("statechange",this._yt)},n}(D$);function TY(t){throw new l('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}tN(function(t){var n;null!=(n=t.Jw.cast)&&n.airplay&&new AY(t.Jw.cast.airplay)});var SY,EY={exports:{}},IY=Lr(EY.exports=function t(n,i,e){function r(u,o){if(!i[u]){if(!n[u]){var a=TY;if(!o&&a)return a(u,!0);if(s)return s(u,!0);var h=new l("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[u]={exports:{}};n[u][0].call(c.exports,function(t){var i=n[u][1][t];return r(i||t)},c,c.exports,t,n,i,e)}return i[u].exports}for(var s=TY,u=0;u<e.length;u++)r(e[u]);return r}({1:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.gyt=!1,r.on("mousedown",r.handleMouseDown),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-big-play-button"},n.prototype.handleClick=function(t){var n=this.wD.play();if(!(this.gyt&&t.clientX&&t.clientY)){var i=this.wD.getChild("controlBar"),e=i&&i.getChild("playToggle");if(e){var r=function(){return e.focus()};n&&n.then?n.then(r,function(){}):this.setTimeout(r,1)}else this.wD.focus()}},n.prototype.handleKeyPress=function(n){this.gyt=!1,t.prototype.handleKeyPress.call(this,n)},n.prototype.handleMouseDown=function(t){this.gyt=!0},n}(r.default);a.prototype.myt="Play Video",u.default.registerComponent("BigPlayButton",a),i.default=a},{2:2,5:5}],2:[function(t,n,i){i.__esModule=!0;var e=t(3),r=c(e),s=t(5),u=c(s),o=t(87),a=c(o),h=t(89);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=(0,h.assign)({className:this.buildCSSClass()},n),"button"!==t&&(a.default.warn("Creating a Button with an HTML element of "+t+" is deprecated; use ClickableComponent instead."),n=(0,h.assign)({tabIndex:0},n),i=(0,h.assign)({role:"button"},i)),i=(0,h.assign)({type:"button","aria-live":"polite"},i);var e=u.default.prototype.createEl.call(this,t,n,i);return this.createControlTextEl(e),e},n.prototype.addChild=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.constructor.name;return a.default.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),u.default.prototype.addChild.call(this,t,n)},n.prototype.enable=function(){t.prototype.enable.call(this),this.yyt.removeAttribute("disabled")},n.prototype.disable=function(){t.prototype.disable.call(this),this.yyt.setAttribute("disabled","disabled")},n.prototype.handleKeyPress=function(n){32!==n.which&&13!==n.which&&t.prototype.handleKeyPress.call(this,n)},n}(r.default);u.default.registerComponent("Button",f),i.default=f},{3:3,5:5,87:87,89:89}],3:[function(t,n,i){i.__esModule=!0;var e=t(5),r=y(e),s=t(81),u=m(s),o=t(82),a=m(o),h=t(83),c=m(h),f=t(87),l=y(f),d=t(85),g=t(89);function m(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function y(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.emitTapEvents(),r.on(i,"languagechange",r.handleLanguagechange),r.enable(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=(0,g.assign)({className:this.buildCSSClass(),tabIndex:0},i),"button"===n&&l.default.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead."),e=(0,g.assign)({role:"button","aria-live":"polite"},e),this.pyt=i.tabIndex;var r=t.prototype.createEl.call(this,n,i,e);return this.createControlTextEl(r),r},n.prototype.createControlTextEl=function(t){return this.byt=u.createEl("span",{className:"vjs-control-text"}),t&&t.appendChild(this.byt),this.controlText(this.myt,t),this.byt},n.prototype.controlText=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===t)return this.myt||"Need Text";var i=this.localize(t);return this.myt=t,this.byt.innerHTML=i,this.nonIconControl||n.setAttribute("title",i),this},n.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.yyt.setAttribute("aria-disabled","false"),void 0!==this.pyt&&this.yyt.setAttribute("tabIndex",this.pyt),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},n.prototype.disable=function(){return this.addClass("vjs-disabled"),this.yyt.setAttribute("aria-disabled","true"),void 0!==this.pyt&&this.yyt.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},n.prototype.handleLanguagechange=function(){this.controlText(this.myt)},n.prototype.handleClick=function(t){},n.prototype.handleFocus=function(t){a.on(d.document,"keydown",c.bind(this,this.handleKeyPress))},n.prototype.handleKeyPress=function(n){32===n.which||13===n.which?(n.preventDefault(),this.handleClick(n)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,n)},n.prototype.handleBlur=function(t){a.off(d.document,"keydown",c.bind(this,this.handleKeyPress))},n}(r.default);r.default.registerComponent("ClickableComponent",p),i.default=p},{5:5,81:81,82:82,83:83,85:85,87:87,89:89}],4:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.controlText(e&&e.controlText||"Close"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n}(r.default);u.default.registerComponent("CloseButton",a),i.default=a},{2:2,5:5}],5:[function(t,n,i){i.__esModule=!0;var e=t(85),r=t(81),s=S(r),u=t(83),o=S(u),a=t(86),h=S(a),c=t(82),f=S(c),d=t(87),p=T(d),_=t(92),b=T(_),k=t(88),A=T(k);function T(t){return t&&t.__esModule?t:{default:t}}function S(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var E=function(){function t(n,i,e){if(function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,t),!n&&this.play?this.wD=n=this:this.wD=n,this.kyt=(0,A.default)({},this.kyt),i=this.kyt=(0,A.default)(this.kyt,i),this.X_=i.id||i.el&&i.el.id,!this.X_){var r=n&&n.id&&n.id()||"no_player";this.X_=r+"Ayt"+h.newGUID()}this.ci=i.name||null,i.el?this.yyt=i.el:!1!==i.createEl&&(this.yyt=this.createEl()),this.Di=[],this.Tyt={},this.Syt={},!1!==i.initChildren&&this.initChildren(),this.ready(e),!1!==i.reportTouchActivity&&this.enableTouchActivity()}return t.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.Di)for(var t=this.Di.length-1;t>=0;t--)this.Di[t].dispose&&this.Di[t].dispose();this.Di=null,this.Tyt=null,this.Syt=null,this.off(),this.yyt.parentNode&&this.yyt.parentNode.removeChild(this.yyt),s.removeElData(this.yyt),this.yyt=null},t.prototype.player=function(){return this.wD},t.prototype.options=function(t){return p.default.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.kyt=(0,A.default)(this.kyt,t),this.kyt):this.kyt},t.prototype.el=function(){return this.yyt},t.prototype.createEl=function(t,n,i){return s.createEl(t,n,i)},t.prototype.localize=function(t){var n=this.wD.language&&this.wD.language(),i=this.wD.languages&&this.wD.languages();if(!n||!i)return t;var e=i[n];if(e&&e[t])return e[t];var r=n.split("-")[0],s=i[r];return s&&s[t]?s[t]:t},t.prototype.contentEl=function(){return this.Eyt||this.yyt},t.prototype.id=function(){return this.X_},t.prototype.name=function(){return this.ci},t.prototype.children=function(){return this.Di},t.prototype.getChildById=function(t){return this.Tyt[t]},t.prototype.getChild=function(t){if(t)return t=(0,b.default)(t),this.Syt[t]},t.prototype.addChild=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.Di.length,r=void 0,s=void 0;if("string"==typeof n){s=(0,b.default)(n),i||(i={}),!0===i&&(p.default.warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),i={});var u=i.componentClass||s;i.name=s;var o=t.getComponent(u);if(!o)throw new l("Component "+u+" does not exist");if("function"!=typeof o)return null;r=new o(this.wD||this,i)}else r=n;if(this.Di.splice(e,0,r),"function"==typeof r.id&&(this.Tyt[r.id()]=r),(s=s||r.name&&(0,b.default)(r.name()))&&(this.Syt[s]=r),"function"==typeof r.el&&r.el()){var a=this.contentEl().children,h=a[e]||null;this.contentEl().insertBefore(r.el(),h)}return r},t.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.Di){for(var n=!1,i=this.Di.length-1;i>=0;i--)if(this.Di[i]===t){n=!0,this.Di.splice(i,1);break}if(n){this.Tyt[t.id()]=null,this.Syt[t.name()]=null;var e=t.el();e&&e.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},t.prototype.initChildren=function(){var n=this,i=this.kyt.children;if(i){var e=this.kyt,r=void 0,s=t.getComponent("Tech");(r=Array.isArray(i)?i:w.keys(i)).concat(w.keys(this.kyt).filter(function(t){return!r.some(function(n){return"string"==typeof n?t===n:t===n.name})})).map(function(t){var e=void 0,r=void 0;return"string"==typeof t?r=i[e=t]||n.kyt[e]||{}:(e=t.name,r=t),{name:e,opts:r}}).filter(function(n){var i=t.getComponent(n.opts.componentClass||(0,b.default)(n.name));return i&&!s.isTech(i)}).forEach(function(t){var i=t.name,r=t.opts;if(void 0!==e[i]&&(r=e[i]),!1!==r){!0===r&&(r={}),r.playerOptions=n.kyt.playerOptions;var s=n.addChild(i,r);s&&(n[i]=s)}})}},t.prototype.buildCSSClass=function(){return""},t.prototype.on=function(t,n,i){var e=this;if("string"==typeof t||Array.isArray(t))f.on(this.yyt,t,o.bind(this,n));else{var r=t,s=n,u=o.bind(this,i),a=function(){return e.off(r,s,u)};a.guid=u.guid,this.on("dispose",a);var h=function(){return e.off("dispose",a)};h.guid=u.guid,t.nodeName?(f.on(r,s,u),f.on(r,"dispose",h)):"function"==typeof t.on&&(r.on(s,u),r.on("dispose",h))}return this},t.prototype.off=function(t,n,i){if(!t||"string"==typeof t||Array.isArray(t))f.off(this.yyt,t,n);else{var e=t,r=n,s=o.bind(this,i);this.off("dispose",s),t.nodeName?(f.off(e,r,s),f.off(e,"dispose",s)):(e.off(r,s),e.off("dispose",s))}return this},t.prototype.one=function(t,n,i){var e=this,r=arguments;if("string"==typeof t||Array.isArray(t))f.one(this.yyt,t,o.bind(this,n));else{var s=t,u=n,a=o.bind(this,i),h=function t(){e.off(s,u,t),a.apply(null,r)};h.guid=a.guid,this.on(s,u,h)}return this},t.prototype.trigger=function(t,n){return f.trigger(this.yyt,t,n),this},t.prototype.ready=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(this.Iyt?n?t.call(this):this.setTimeout(t,1):(this.Ryt=this.Ryt||[],this.Ryt.push(t))),this},t.prototype.triggerReady=function(){this.Iyt=!0,this.setTimeout(function(){var t=this.Ryt;this.Ryt=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},t.prototype.$=function(t,n){return s.$(t,n||this.contentEl())},t.prototype.$$=function(t,n){return s.$$(t,n||this.contentEl())},t.prototype.hasClass=function(t){return s.hasElClass(this.yyt,t)},t.prototype.addClass=function(t){return s.addElClass(this.yyt,t),this},t.prototype.removeClass=function(t){return s.removeElClass(this.yyt,t),this},t.prototype.toggleClass=function(t,n){return s.toggleElClass(this.yyt,t,n),this},t.prototype.show=function(){return this.removeClass("vjs-hidden"),this},t.prototype.hide=function(){return this.addClass("vjs-hidden"),this},t.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},t.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},t.prototype.getAttribute=function(t){return s.getAttribute(this.yyt,t)},t.prototype.setAttribute=function(t,n){return s.setAttribute(this.yyt,t,n),this},t.prototype.removeAttribute=function(t){return s.removeAttribute(this.yyt,t),this},t.prototype.width=function(t,n){return this.dimension("width",t,n)},t.prototype.height=function(t,n){return this.dimension("height",t,n)},t.prototype.dimensions=function(t,n){return this.width(t,!0).height(n)},t.prototype.dimension=function(t,n,i){if(void 0!==n)return null!==n&&n==n||(n=0),-1!==(""+n).indexOf("%")||-1!==(""+n).indexOf("px")?this.yyt.style[t]=n:this.yyt.style[t]="auto"===n?"":n+"px",i||this.trigger("resize"),this;if(!this.yyt)return 0;var e=this.yyt.style[t],r=e.indexOf("px");return m(-1!==r?e.slice(0,r):this.yyt["offset"+(0,b.default)(t)],10)},t.prototype.currentDimension=function(t){var n=0;if("width"!==t&&"height"!==t)throw new l("currentDimension only accepts width or height value");if("function"==typeof e.window.getComputedStyle){var i=e.window.getComputedStyle(this.yyt);n=i.getPropertyValue(t)||i[t]}if(0===(n=y(n))){var r="offset"+(0,b.default)(t);n=this.yyt[r]}return n},t.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.prototype.currentWidth=function(){return this.currentDimension("width")},t.prototype.currentHeight=function(){return this.currentDimension("height")},t.prototype.focus=function(){this.yyt.focus()},t.prototype.blur=function(){this.yyt.blur()},t.prototype.emitTapEvents=function(){var t=0,n=null,i=void 0;this.on("touchstart",function(e){1===e.touches.length&&(n={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=(new Date).getTime(),i=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)i=!1;else if(n){var e=t.touches[0].pageX-n.pageX,r=t.touches[0].pageY-n.pageY,s=g.sqrt(e*e+r*r);s>10&&(i=!1)}});var e=function(){i=!1};this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){if(n=null,!0===i){var r=(new Date).getTime()-t;r<200&&(e.preventDefault(),this.trigger("tap"))}})},t.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=o.bind(this.player(),this.player().reportUserActivity),n=void 0;this.on("touchstart",function(){t(),this.clearInterval(n),n=this.setInterval(t,250)});var i=function(i){t(),this.clearInterval(n)};this.on("touchmove",t),this.on("touchend",i),this.on("touchcancel",i)}},t.prototype.setTimeout=function(t,n){t=o.bind(this,t);var i=e.window.setTimeout(t,n),r=function(){this.clearTimeout(i)};return r.guid="vjs-timeout-"+i,this.on("dispose",r),i},t.prototype.clearTimeout=function(t){e.window.clearTimeout(t);var n=function(){};return n.guid="vjs-timeout-"+t,this.off("dispose",n),t},t.prototype.setInterval=function(t,n){t=o.bind(this,t);var i=e.window.setInterval(t,n),r=function(){this.clearInterval(i)};return r.guid="vjs-interval-"+i,this.on("dispose",r),i},t.prototype.clearInterval=function(t){e.window.clearInterval(t);var n=function(){};return n.guid="vjs-interval-"+t,this.off("dispose",n),t},t.registerComponent=function(n,i){if(n){if(n=(0,b.default)(n),t.Cyt||(t.Cyt={}),"Player"===n&&t.Cyt[n]){var e=t.Cyt[n];if(e.players&&w.keys(e.players).length>0&&w.keys(e.players).map(function(t){return e.players[t]}).every(Boolean))throw new l("Can not register Player component after player has been created")}return t.Cyt[n]=i,i}},t.getComponent=function(n){if(n)return n=(0,b.default)(n),t.Cyt&&t.Cyt[n]?t.Cyt[n]:e.window&&e.window.videojs&&e.window.videojs[n]?(p.default.warn("The "+n+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),e.window.videojs[n]):void 0},t.extend=function(n){n=n||{},p.default.warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var i=n.init||n.init||this.prototype.init||this.prototype.init||function(){},e=function(){i.apply(this,arguments)};for(var r in(e.prototype=w.create(this.prototype)).constructor=e,e.extend=t.extend,n)n.hasOwnProperty(r)&&(e.prototype[r]=n[r]);return e},t}();E.registerComponent("Component",E),i.default=E},{81:81,82:82,83:83,85:85,86:86,87:87,88:88,92:92}],6:[function(t,n,i){i.__esModule=!0;var e=t(36),r=h(e),s=t(5),u=h(s),o=t(7),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.tracks=i.audioTracks&&i.audioTracks();var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.yyt.setAttribute("aria-label","Audio Menu"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.Nyt=1;var n=this.wD.audioTracks&&this.wD.audioTracks();if(!n)return t;for(var i=0;i<n.length;i++){var e=n[i];t.push(new a.default(this.wD,{track:e,selectable:!0}))}return t},n}(r.default);c.prototype.myt="Audio Track",u.default.registerComponent("AudioTrackButton",c),i.default=c},{36:36,5:5,7:7}],7:[function(t,n,i){i.__esModule=!0;var e=t(48),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.track,s=i.audioTracks();e.label=r.label||r.language||"Unknown",e.selected=r.enabled;var u=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));if(u.track=r,s){var o=a.bind(u,u.handleTracksChange);s.addEventListener("change",o),u.on("dispose",function(){s.removeEventListener("change",o)})}return u}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){var i=this.wD.audioTracks();if(t.prototype.handleClick.call(this,n),i)for(var e=0;e<i.length;e++){var r=i[e];r.enabled=r===this.track}},n.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)},n}(r.default);u.default.registerComponent("AudioTrackMenuItem",c),i.default=c},{48:48,5:5,83:83}],8:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(12),t(32),t(33),t(35),t(34),t(10),t(18),t(9),t(38),t(40),t(11),t(25),t(27),t(29),t(24),t(6),t(13),t(21);var u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},n}(s.default);u.prototype.kyt={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},s.default.registerComponent("ControlBar",u),i.default=u},{10:10,11:11,12:12,13:13,18:18,21:21,24:24,25:25,27:27,29:29,32:32,33:33,34:34,35:35,38:38,40:40,5:5,6:6,9:9}],9:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"fullscreenchange",r.handleFullscreenChange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleFullscreenChange=function(t){this.wD.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.prototype.handleClick=function(t){this.wD.isFullscreen()?this.wD.exitFullscreen():this.wD.requestFullscreen()},n}(r.default);a.prototype.myt="Fullscreen",u.default.registerComponent("FullscreenToggle",a),i.default=a},{2:2,5:5}],10:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r.on(r.player(),"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.Eyt=o.createEl("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.byt=o.createEl("span",{className:"vjs-control-text",innerHTML:this.localize("Stream Type")}),this.Dyt=a.document.createTextNode(this.localize("LIVE")),this.Eyt.appendChild(this.byt),this.Eyt.appendChild(this.Dyt),n.appendChild(this.Eyt),n},n.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},n.prototype.handleLanguagechange=function(){this.byt.innerHTML=this.localize("Stream Type"),this.Dyt.innerHTML=this.localize("LIVE")},n}(s.default);s.default.registerComponent("LiveDisplay",h),i.default=h},{5:5,81:81,85:85}],11:[function(t,n,i){i.__esModule=!0;var e=t(2),r=h(e),s=t(5),u=h(s),o=t(81),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"volumechange",r.update),i.Pyt&&!1===i.Pyt.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(i,"loadstart",function(){this.update(),!1===i.Pyt.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.wD.muted(!this.wD.muted())},n.prototype.update=function(t){var n=this.wD.volume(),i=3;this.wD.muted()?i=0:n<.33?i=1:n<.67&&(i=2);var e=this.wD.muted()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e);for(var r=0;r<4;r++)a.removeElClass(this.yyt,"vjs-vol-"+r);a.addElClass(this.yyt,"vjs-vol-"+i)},n}(r.default);c.prototype.myt="Mute",u.default.registerComponent("MuteToggle",c),i.default=c},{2:2,5:5,81:81}],12:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"play",r.handlePlay),r.on(i,"pause",r.handlePause),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.wD.paused()?this.wD.play():this.wD.pause()},n.prototype.handlePlay=function(t){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n}(r.default);a.prototype.myt="Play",u.default.registerComponent("PlayToggle",a),i.default=a},{2:2,5:5}],13:[function(t,n,i){i.__esModule=!0;var e=t(47),r=d(e),s=t(49),u=d(s),o=t(14),a=d(o),h=t(5),c=d(h),f=t(81),l=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(f);function d(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateVisibility(),r.updateLabel(),r.on(i,"loadstart",r.updateVisibility),r.on(i,"ratechange",r.updateLabel),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this);return this.xyt=l.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),n.appendChild(this.xyt),n},n.prototype.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.prototype.createMenu=function(){var t=new u.default(this.player()),n=this.playbackRates();if(n)for(var i=n.length-1;i>=0;i--)t.addChild(new a.default(this.player(),{rate:n[i]+"x"}));return t},n.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.prototype.handleClick=function(t){for(var n=this.player().playbackRate(),i=this.playbackRates(),e=i[0],r=0;r<i.length;r++)if(i[r]>n){e=i[r];break}this.player().playbackRate(e)},n.prototype.playbackRates=function(){return this.kyt.playbackRates||this.kyt.playerOptions&&this.kyt.playerOptions.playbackRates},n.prototype.playbackRateSupported=function(){return this.player().Pyt&&this.player().Pyt.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.xyt.innerHTML=this.player().playbackRate()+"x")},n}(r.default);g.prototype.myt="Playback Rate",c.default.registerComponent("PlaybackRateMenuButton",g),i.default=g},{14:14,47:47,49:49,5:5,81:81}],14:[function(t,n,i){i.__esModule=!0;var e=t(48),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.rate,s=y(r,10);e.label=r,e.selected=1===s,e.selectable=!0;var u=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return u.label=r,u.rate=s,u.on(i,"ratechange",u.update),u}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)},n}(r.default);a.prototype.contentElType="button",u.default.registerComponent("PlaybackRateMenuItem",a),i.default=a},{48:48,5:5}],15:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.Byt=[],r.on(i,"progress",r.update),r.on(i,"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"});return this.Oyt=o.createEl("span",{innerHTML:this.localize("Loaded")}),this.Lyt=a.document.createTextNode(": 0%"),this.byt=o.createEl("span",{className:"vjs-control-text"}),this.byt.appendChild(this.Oyt),this.byt.appendChild(this.Lyt),n.appendChild(this.byt),n},n.prototype.update=function(t){var n=this.wD.buffered(),i=this.wD.duration(),e=this.wD.bufferedEnd(),r=this.Byt,s=function(t,n){var i=t/n||0;return 100*(i>=1?1:i)+"%"};this.yyt.style.width=s(e,i);for(var u=0;u<n.length;u++){var a=n.start(u),h=n.end(u),c=r[u];c||(c=this.yyt.appendChild(o.createEl()),r[u]=c),c.style.left=s(a,e),c.style.width=s(h-a,e)}for(var f=r.length;f>n.length;f--)this.yyt.removeChild(r[f-1]);r.length=n.length},n.prototype.handleLanguagechange=function(){this.Oyt.innerHTML=this.localize("Loaded")},n}(s.default);s.default.registerComponent("LoadProgressBar",h),i.default=h},{5:5,81:81,85:85}],16:[function(t,n,i){i.__esModule=!0;var e=t(5),r=m(e),s=t(81),u=d(s),o=t(83),a=d(o),h=t(84),c=m(h),f=t(80),l=m(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function m(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltip=u.createEl("div",{className:"vjs-time-tooltip"}),r.el().appendChild(r.tooltip),r.addClass("vjs-keep-tooltips-inside")),r.update(0,0),i.on("ready",function(){r.on(i.controlBar.progressControl.el(),"mousemove",a.throttle(a.bind(r,r.handleMouseMove),25))}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.prototype.handleMouseMove=function(t){var n=this.wD.duration(),i=this.calculateDistance(t)*n,e=t.pageX-u.findElPosition(this.el().parentNode).left;this.update(i,e)},n.prototype.update=function(t,n){var i=(0,c.default)(t,this.wD.duration());if(this.el().style.left=n+"px",this.el().setAttribute("data-current-time",i),this.keepTooltipsInside){var e=this.Myt(n),r=n-e+1,s=y((0,l.default)(this.tooltip,"width")),u=s/2;this.tooltip.innerHTML=i,this.tooltip.style.right="-"+(u-r)+"px"}},n.prototype.calculateDistance=function(t){return u.getPointerPosition(this.el().parentNode,t).x},n.prototype.Myt=function(t){if(!this.keepTooltipsInside)return t;var n=y((0,l.default)(this.player().el(),"width")),i=y((0,l.default)(this.tooltip,"width")),e=i/2,r=t;return t<e?r=g.ceil(e):t>n-e&&(r=g.floor(n-e)),r},n}(r.default);r.default.registerComponent("MouseTimeDisplay",p),i.default=p},{5:5,80:80,81:81,83:83,84:84}],17:[function(t,n,i){i.__esModule=!0;var e=t(5),r=d(e),s=t(83),u=l(s),o=t(84),a=d(o),h=t(81),c=l(h),f=t(85);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function d(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateDataAttr(),r.on(i,"timeupdate",r.updateDataAttr),r.on(i,"languagechange",r.handleLanguagechange),i.ready(u.bind(r,r.updateDataAttr)),e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&r.addClass("vjs-keep-tooltips-inside"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"});return this.jyt=c.createEl("span",{innerHTML:this.localize("Progress")}),this.Fyt=f.document.createTextNode(": 0%"),this.byt=c.createEl("span",{className:"vjs-control-text"}),this.byt.appendChild(this.jyt),this.byt.appendChild(this.Fyt),n.appendChild(this.byt),n},n.prototype.updateDataAttr=function(t){var n=this.wD.scrubbing()?this.wD.getCache().currentTime:this.wD.currentTime();this.yyt.setAttribute("data-current-time",(0,a.default)(n,this.wD.duration()))},n.prototype.handleLanguagechange=function(){this.jyt.innerHTML=this.localize("Progress")},n}(r.default);r.default.registerComponent("PlayProgressBar",g),i.default=g},{5:5,81:81,83:83,84:84,85:85}],18:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(19),t(16);var u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n}(s.default);u.prototype.kyt={children:["seekBar"]},s.default.registerComponent("ProgressControl",u),i.default=u},{16:16,19:19,5:5}],19:[function(t,n,i){i.__esModule=!0;var e=t(57),r=d(e),s=t(5),u=d(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o),h=t(84),c=d(h),f=t(80),l=d(f);function d(t){return t&&t.__esModule?t:{default:t}}t(15),t(17),t(20);var m=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateProgress),r.on(i,"ended",r.updateProgress),i.ready(a.bind(r,r.updateProgress)),e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltipProgressBar=r.addChild("TooltipProgressBar")),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},n.prototype.updateProgress=function(t){if(this.updateAriaAttributes(this.yyt),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.yyt),this.tooltipProgressBar.yyt.style.width=this.bar.yyt.style.width;var n=y((0,l.default)(this.player().el(),"width")),i=y((0,l.default)(this.tooltipProgressBar.tooltip,"width")),e=this.tooltipProgressBar.el().style;e.maxWidth=g.floor(n-i/2)+"px",e.minWidth=g.ceil(i/2)+"px",e.right="-"+i/2+"px"}},n.prototype.updateAriaAttributes=function(t){var n=this.wD.scrubbing()?this.wD.getCache().currentTime:this.wD.currentTime();t.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),t.setAttribute("aria-valuetext",(0,c.default)(n,this.wD.duration()))},n.prototype.getPercent=function(){var t=this.wD.currentTime()/this.wD.duration();return t>=1?1:t},n.prototype.handleMouseDown=function(n){this.wD.scrubbing(!0),this.videoWasPlaying=!this.wD.paused(),this.wD.pause(),t.prototype.handleMouseDown.call(this,n)},n.prototype.handleMouseMove=function(t){var n=this.calculateDistance(t)*this.wD.duration();n===this.wD.duration()&&(n-=.1),this.wD.currentTime(n)},n.prototype.handleMouseUp=function(n){t.prototype.handleMouseUp.call(this,n),this.wD.scrubbing(!1),this.videoWasPlaying&&this.wD.play()},n.prototype.stepForward=function(){this.wD.currentTime(this.wD.currentTime()+5)},n.prototype.stepBack=function(){this.wD.currentTime(this.wD.currentTime()-5)},n}(r.default);m.prototype.kyt={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},m.prototype.playerEvent="timeupdate",u.default.registerComponent("SeekBar",m),i.default=m},{15:15,17:17,20:20,5:5,57:57,80:80,83:83,84:84}],20:[function(t,n,i){i.__esModule=!0;var e=t(5),r=d(e),s=t(83),u=l(s),o=t(84),a=d(o),h=t(81),c=l(h),f=t(85);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function d(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateDataAttr(),r.on(i,"timeupdate",r.updateDataAttr),r.on(i,"languagechange",r.handleLanguagechange),i.ready(u.bind(r,r.updateDataAttr)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar"});return this.tooltip=c.createEl("div",{className:"vjs-time-tooltip"}),this.jyt=c.createEl("span",{innerHTML:this.localize("Progress")}),this.Fyt=f.document.createTextNode(": 0%"),this.byt=c.createEl("span",{className:"vjs-control-text"}),this.byt.appendChild(this.jyt),this.byt.appendChild(this.Fyt),n.appendChild(this.tooltip),n.appendChild(this.byt),n},n.prototype.updateDataAttr=function(t){var n=this.wD.scrubbing()?this.wD.getCache().currentTime:this.wD.currentTime(),i=(0,a.default)(n,this.wD.duration());this.yyt.setAttribute("data-current-time",i),this.tooltip.innerHTML=i},n.prototype.handleLanguagechange=function(){this.jyt.innerHTML=this.localize("Progress")},n}(r.default);r.default.registerComponent("TooltipProgressBar",g),i.default=g},{5:5,81:81,83:83,84:84,85:85}],21:[function(t,n,i){i.__esModule=!0;var e=t(22),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return n.innerHTML="&nbsp;",n},n}(r.default);u.default.registerComponent("CustomControlSpacer",a),i.default=a},{22:22,5:5}],22:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n}(s.default);s.default.registerComponent("Spacer",u),i.default=u},{5:5}],23:[function(t,n,i){i.__esModule=!0;var e=t(31),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.track={player:i,kind:e.kind,label:e.kind+" settings",selectable:!1,default:!1,mode:"disabled"},e.selectable=!1;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.addClass("vjs-texttrack-settings"),r.controlText(", opens "+e.kind+" settings dialog"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").yyt.focus()},n}(r.default);u.default.registerComponent("CaptionSettingsMenuItem",a),i.default=a},{31:31,5:5}],24:[function(t,n,i){i.__esModule=!0;var e=t(30),r=h(e),s=t(5),u=h(s),o=t(23),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.yyt.setAttribute("aria-label","Captions Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.prototype.createItems=function(){var n=[];return this.player().Pyt&&this.player().Pyt.featuresNativeTextTracks||(n.push(new a.default(this.wD,{kind:this.H_})),this.Nyt+=1),t.prototype.createItems.call(this,n)},n}(r.default);c.prototype.H_="captions",c.prototype.myt="Captions",u.default.registerComponent("CaptionsButton",c),i.default=c},{23:23,30:30,5:5}],25:[function(t,n,i){i.__esModule=!0;var e=t(30),r=f(e),s=t(5),u=f(s),o=t(26),a=f(o),h=t(92),c=f(h);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.yyt.setAttribute("aria-label","Chapters Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.prototype.update=function(n){this.t_&&(!n||"addtrack"!==n.type&&"removetrack"!==n.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},n.prototype.setTrack=function(t){if(this.t_!==t){if(this.Uyt||(this.Uyt=this.update.bind(this)),this.t_){var n=this.wD.remoteTextTrackEls().Hyt(this.t_);n&&n.removeEventListener("load",this.Uyt),this.t_=null}if(this.t_=t,this.t_){this.t_.mode="hidden";var i=this.wD.remoteTextTrackEls().Hyt(this.t_);i&&i.addEventListener("load",this.Uyt)}}},n.prototype.findChaptersTrack=function(){for(var t=this.wD.textTracks()||[],n=t.length-1;n>=0;n--){var i=t[n];if(i.kind===this.H_)return i}},n.prototype.getMenuCaption=function(){return this.t_&&this.t_.label?this.t_.label:this.localize((0,c.default)(this.H_))},n.prototype.createMenu=function(){return this.kyt.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.prototype.createItems=function(){var t=[];if(!this.t_)return t;var n=this.t_.cues;if(!n)return t;for(var i=0,e=n.length;i<e;i++){var r=n[i],s=new a.default(this.wD,{track:this.t_,cue:r});t.push(s)}return t},n}(r.default);l.prototype.H_="chapters",l.prototype.myt="Chapters",u.default.registerComponent("ChaptersButton",l),i.default=l},{26:26,30:30,5:5,92:92}],26:[function(t,n,i){i.__esModule=!0;var e=t(48),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.track,s=e.cue,u=i.currentTime();e.selectable=!0,e.label=s.text,e.selected=s.startTime<=u&&u<s.endTime;var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return o.track=r,o.cue=s,r.addEventListener("cuechange",a.bind(o,o.update)),o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){t.prototype.handleClick.call(this),this.wD.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.prototype.update=function(t){var n=this.cue,i=this.wD.currentTime();this.selected(n.startTime<=i&&i<n.endTime)},n}(r.default);u.default.registerComponent("ChaptersTrackMenuItem",c),i.default=c},{48:48,5:5,83:83}],27:[function(t,n,i){i.__esModule=!0;var e=t(30),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));s.yyt.setAttribute("aria-label","Descriptions Menu");var u=i.textTracks();if(u){var o=a.bind(s,s.handleTracksChange);u.addEventListener("change",o),s.on("dispose",function(){u.removeEventListener("change",o)})}return s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleTracksChange=function(t){for(var n=this.player().textTracks(),i=!1,e=0,r=n.length;e<r;e++){var s=n[e];if(s.kind!==this.H_&&"showing"===s.mode){i=!0;break}}i?this.disable():this.enable()},n.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n}(r.default);c.prototype.H_="descriptions",c.prototype.myt="Descriptions",u.default.registerComponent("DescriptionsButton",c),i.default=c},{30:30,5:5,83:83}],28:[function(t,n,i){i.__esModule=!0;var e=t(31),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.track={player:i,kind:e.kind,label:e.kind+" off",default:!1,mode:"disabled"},e.selectable=!0;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.selected(!0),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleTracksChange=function(t){for(var n=this.player().textTracks(),i=!0,e=0,r=n.length;e<r;e++){var s=n[e];if(s.kind===this.track.kind&&"showing"===s.mode){i=!1;break}}this.selected(i)},n}(r.default);u.default.registerComponent("OffTextTrackMenuItem",a),i.default=a},{31:31,5:5}],29:[function(t,n,i){i.__esModule=!0;var e=t(30),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.yyt.setAttribute("aria-label","Subtitles Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n}(r.default);a.prototype.H_="subtitles",a.prototype.myt="Subtitles",u.default.registerComponent("SubtitlesButton",a),i.default=a},{30:30,5:5}],30:[function(t,n,i){i.__esModule=!0;var e=t(36),r=f(e),s=t(5),u=f(s),o=t(31),a=f(o),h=t(28),c=f(h);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.tracks=i.textTracks(),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.push(new c.default(this.wD,{kind:this.H_})),this.Nyt+=1;var n=this.wD.textTracks();if(!n)return t;for(var i=0;i<n.length;i++){var e=n[i];e.kind===this.H_&&t.push(new a.default(this.wD,{track:e,selectable:!0}))}return t},n}(r.default);u.default.registerComponent("TextTrackButton",l),i.default=l},{28:28,31:31,36:36,5:5}],31:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=t(48),s=f(r),u=t(5),o=f(u),a=t(83),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a),c=t(85);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function n(i,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=r.track,u=i.textTracks();r.label=s.label||s.language||"Unknown",r.selected=s.default||"showing"===s.mode;var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,r));if(o.track=s,u){var a=h.bind(o,o.handleTracksChange);i.on(["loadstart","texttrackchange"],a),u.addEventListener("change",a),o.on("dispose",function(){u.removeEventListener("change",a)})}if(u&&void 0===u.onchange){var f=void 0;o.on(["tap","click"],function(){if("object"!==e(c.window.Event))try{f=new c.window.Event("change")}catch(t){}f||(f=c.document.createEvent("Event")).initEvent("change",!0,!0),u.dispatchEvent(f)})}return o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){var i=this.track.kind,e=this.wD.textTracks();if(t.prototype.handleClick.call(this,n),e)for(var r=0;r<e.length;r++){var s=e[r];s.kind===i&&(s===this.track?"showing"!==s.mode&&(s.mode="showing"):"disabled"!==s.mode&&(s.mode="disabled"))}},n.prototype.handleTracksChange=function(t){this.selected("showing"===this.track.mode)},n}(s.default);o.default.registerComponent("TextTrackMenuItem",l),i.default=l},{48:48,5:5,83:83,85:85}],32:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.Eyt=u.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),n.appendChild(this.Eyt),n},n.prototype.updateContent=function(t){var n=this.wD.scrubbing()?this.wD.getCache().currentTime:this.wD.currentTime(),i=this.localize("Current Time"),e=(0,a.default)(n,this.wD.duration());e!==this.Xyt&&(this.Xyt=e,this.Eyt.innerHTML='<span class="vjs-control-text">'+i+"</span> "+e)},n}(r.default);r.default.registerComponent("CurrentTimeDisplay",c),i.default=c},{5:5,81:81,84:84}],33:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"durationchange",r.updateContent),r.on(i,"timeupdate",r.updateContent),r.on(i,"loadedmetadata",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.Eyt=u.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),n.appendChild(this.Eyt),n},n.prototype.updateContent=function(t){var n=this.wD.duration();if(n&&this.Yg!==n){this.Yg=n;var i=this.localize("Duration Time"),e=(0,a.default)(n);this.Eyt.innerHTML='<span class="vjs-control-text">'+i+"</span> "+e}},n}(r.default);r.default.registerComponent("DurationDisplay",c),i.default=c},{5:5,81:81,84:84}],34:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateContent),r.on(i,"durationchange",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.Eyt=u.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),n.appendChild(this.Eyt),n},n.prototype.updateContent=function(t){if(this.wD.duration()){var n=this.localize("Remaining Time"),i=(0,a.default)(this.wD.remainingTime());i!==this.Xyt&&(this.Xyt=i,this.Eyt.innerHTML='<span class="vjs-control-text">'+n+"</span> -"+i)}},n}(r.default);r.default.registerComponent("RemainingTimeDisplay",c),i.default=c},{5:5,81:81,84:84}],35:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},n}(s.default);s.default.registerComponent("TimeDivider",u),i.default=u},{5:5}],36:[function(t,n,i){i.__esModule=!0;var e=t(47),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}function c(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var f=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.tracks,s=c(this,t.call(this,i,e));if(s.items.length<=1&&s.hide(),!r)return c(s);var u=a.bind(s,s.update);return r.addEventListener("removetrack",u),r.addEventListener("addtrack",u),s.wD.on("dispose",function(){r.removeEventListener("removetrack",u),r.removeEventListener("addtrack",u)}),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(r.default);u.default.registerComponent("TrackButton",f),i.default=f},{47:47,5:5,83:83}],37:[function(t,n,i){i.__esModule=!0;var e=t(57),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}t(39);var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"volumechange",r.updateARIAAttributes),i.ready(a.bind(r,r.updateARIAAttributes)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},n.prototype.handleMouseMove=function(t){this.checkMuted(),this.wD.volume(this.calculateDistance(t))},n.prototype.checkMuted=function(){this.wD.muted()&&this.wD.muted(!1)},n.prototype.getPercent=function(){return this.wD.muted()?0:this.wD.volume()},n.prototype.stepForward=function(){this.checkMuted(),this.wD.volume(this.wD.volume()+.1)},n.prototype.stepBack=function(){this.checkMuted(),this.wD.volume(this.wD.volume()-.1)},n.prototype.updateARIAAttributes=function(t){var n=(100*this.wD.volume()).toFixed(2);this.yyt.setAttribute("aria-valuenow",n),this.yyt.setAttribute("aria-valuetext",n+"%")},n}(r.default);c.prototype.kyt={children:["volumeLevel"],barName:"volumeLevel"},c.prototype.playerEvent="volumechange",u.default.registerComponent("VolumeBar",c),i.default=c},{39:39,5:5,57:57,83:83}],38:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(37);var u=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return i.Pyt&&!1===i.Pyt.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(i,"loadstart",function(){!1===i.Pyt.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},n}(s.default);u.prototype.kyt={children:["volumeBar"]},s.default.registerComponent("VolumeControl",u),i.default=u},{37:37,5:5}],39:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},n}(s.default);s.default.registerComponent("VolumeLevel",u),i.default=u},{5:5}],40:[function(t,n,i){i.__esModule=!0;var e=t(83),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(5),u=m(s),o=t(54),a=m(o),h=t(53),c=m(h),f=t(11),l=m(f),d=t(37),g=m(d);function m(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),void 0===e.inline&&(e.inline=!0),void 0===e.vertical&&(e.inline?e.vertical=!1:e.vertical=!0),e.volumeBar=e.volumeBar||{},e.volumeBar.vertical=!!e.vertical;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));function s(){i.Pyt&&!1===i.Pyt.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}return r.on(i,"volumechange",r.volumeUpdate),r.on(i,"loadstart",r.volumeUpdate),s.call(r),r.on(i,"loadstart",s),r.on(r.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),r.on(r.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),r.on(r.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),r.on(r.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){var n="";return n=this.kyt.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+t.prototype.buildCSSClass.call(this)+" "+n},n.prototype.createPopup=function(){var t=new a.default(this.wD,{contentElType:"div"}),n=new g.default(this.wD,this.kyt.volumeBar);return t.addChild(n),this.menuContent=t,this.volumeBar=n,this.attachVolumeBarEvents(),t},n.prototype.handleClick=function(n){l.default.prototype.handleClick.call(this),t.prototype.handleClick.call(this)},n.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],r.bind(this,this.handleMouseDown))},n.prototype.handleMouseDown=function(t){this.on(["mousemove","touchmove"],r.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.yyt.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},n.prototype.handleMouseUp=function(t){this.off(["mousemove","touchmove"],r.bind(this.volumeBar,this.volumeBar.handleMouseMove))},n}(c.default);y.prototype.volumeUpdate=l.default.prototype.update,y.prototype.myt="Mute",u.default.registerComponent("VolumeMenuButton",y),i.default=y},{11:11,37:37,5:5,53:53,54:54,83:83}],41:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(50),u=h(s),o=t(88),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"error",r.open),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},n}(u.default);c.prototype.kyt=(0,a.default)(u.default.prototype.kyt,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),r.default.registerComponent("ErrorDisplay",c),i.default=c},{5:5,50:50,88:88}],42:[function(t,n,i){i.__esModule=!0;var e=t(82),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=function(){};s.prototype.zyt={},s.prototype.on=function(t,n){var i=this.addEventListener;this.addEventListener=function(){},r.on(this,t,n),this.addEventListener=i},s.prototype.addEventListener=s.prototype.on,s.prototype.off=function(t,n){r.off(this,t,n)},s.prototype.removeEventListener=s.prototype.off,s.prototype.one=function(t,n){var i=this.addEventListener;this.addEventListener=function(){},r.one(this,t,n),this.addEventListener=i},s.prototype.trigger=function(t){var n=t.type||t;"string"==typeof t&&(t={type:n}),t=r.fixEvent(t),this.zyt[n]&&this["on"+n]&&this["on"+n](t),r.trigger(this,t)},s.prototype.dispatchEvent=s.prototype.trigger,i.default=s},{82:82}],43:[function(t,n,i){i.__esModule=!0;var e,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=t(87),u=(e=s)&&e.__esModule?e:{default:e},o=t(89);i.default=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(){t.apply(this,arguments)},e={};for(var s in(0,o.isObject)(n)?("function"==typeof n.init&&(u.default.warn("Constructor logic via init() is deprecated; please use constructor() instead."),n.constructor=n.init),n.constructor!==w.prototype.constructor&&(i=n.constructor),e=n):"function"==typeof n&&(i=n),function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+(void 0===n?"undefined":r(n)));t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t.Vyt=n)}(i,t),e)e.hasOwnProperty(s)&&(i.prototype[s]=e[s]);return i}},{87:87,89:89}],44:[function(t,n,i){i.__esModule=!0;for(var e=t(85),r={prefixed:!0},s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],u=s[0],o=void 0,a=0;a<s.length;a++)if(s[a][1]in e.document){o=s[a];break}if(o){for(var h=0;h<o.length;h++)r[u[h]]=o[h];r.prefixed=o[0]!==u[0]}i.default=r},{85:85}],45:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},n}(s.default);s.default.registerComponent("LoadingSpinner",u),i.default=u},{5:5}],46:[function(t,n,i){i.__esModule=!0;var e=t(89);function r(t){if(t instanceof r)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:(0,e.isObject)(t)&&("number"==typeof t.code&&(this.code=t.code),(0,e.assign)(this,t)),this.message||(this.message=r.defaultMessages[this.code]||"")}r.prototype.code=0,r.prototype.message="",r.prototype.status=null,r.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],r.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var s=0;s<r.errorTypes.length;s++)r[r.errorTypes[s]]=s,r.prototype[r.errorTypes[s]]=s;i.default=r},{89:89}],47:[function(t,n,i){i.__esModule=!0;var e=t(3),r=y(e),s=t(5),u=y(s),o=t(49),a=y(o),h=t(81),c=m(h),f=t(83),l=m(f),d=t(92),g=y(d);function m(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function y(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),r.U_=!0,r.yyt.setAttribute("aria-haspopup","true"),r.yyt.setAttribute("role","menuitem"),r.on("keydown",r.handleSubmenuKeyPress),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.update=function(){var t=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=t,this.addChild(t),this.Wyt=!1,this.yyt.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.Nyt?this.hide():this.show()},n.prototype.createMenu=function(){var t=new a.default(this.wD);if(this.Nyt=0,this.kyt.title){var n=c.createEl("li",{className:"vjs-menu-title",innerHTML:(0,g.default)(this.kyt.title),tabIndex:-1});this.Nyt+=1,t.Di.unshift(n),c.insertElFirst(n,t.contentEl())}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},n.prototype.createItems=function(){},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n.prototype.buildCSSClass=function(){var n="vjs-menu-button";return!0===this.kyt.inline?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",l.bind(this,function(t){this.unpressButton(),this.yyt.blur()})),this.Wyt?this.unpressButton():this.pressButton()},n.prototype.handleKeyPress=function(n){27===n.which||9===n.which?(this.Wyt&&this.unpressButton(),9!==n.which&&n.preventDefault()):38===n.which||40===n.which?this.Wyt||(this.pressButton(),n.preventDefault()):t.prototype.handleKeyPress.call(this,n)},n.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.Wyt&&this.unpressButton(),9!==t.which&&t.preventDefault())},n.prototype.pressButton=function(){this.U_&&(this.Wyt=!0,this.menu.lockShowing(),this.yyt.setAttribute("aria-expanded","true"),this.menu.focus())},n.prototype.unpressButton=function(){this.U_&&(this.Wyt=!1,this.menu.unlockShowing(),this.yyt.setAttribute("aria-expanded","false"),this.yyt.focus())},n.prototype.disable=function(){return this.Wyt=!1,this.menu.unlockShowing(),this.yyt.setAttribute("aria-expanded","false"),this.U_=!1,t.prototype.disable.call(this)},n.prototype.enable=function(){return this.U_=!0,t.prototype.enable.call(this)},n}(r.default);u.default.registerComponent("MenuButton",p),i.default=p},{3:3,49:49,5:5,81:81,83:83,92:92}],48:[function(t,n,i){i.__esModule=!0;var e=t(3),r=h(e),s=t(5),u=h(s),o=t(89),a=t(85);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.selectable=e.selectable,r.selected(e.selected),r.selectable?r.yyt.setAttribute("role","menuitemcheckbox"):r.yyt.setAttribute("role","menuitem"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(n,i,e){this.nonIconControl=!0;var r=t.prototype.createEl.call(this,"li",(0,o.assign)({className:"vjs-menu-item",tabIndex:-1},i),e);return this.xyt=a.document.createTextNode(this.localize(this.kyt.label)),r.appendChild(this.xyt),r},n.prototype.handleClick=function(t){this.selected(!0)},n.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.yyt.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.yyt.setAttribute("aria-checked","false"),this.controlText("")))},n.prototype.handleLanguagechange=function(){t.prototype.handleLanguagechange.call(this),this.xyt.innerHTML=this.localize(this.kyt.label)},n}(r.default);u.default.registerComponent("MenuItem",c),i.default=c},{3:3,5:5,85:85,89:89}],49:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=l(u),a=t(83),h=l(a),c=t(82),f=l(c);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var d=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.qyt=-1,r.on("keydown",r.handleKeyPress),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addItem=function(t){this.addChild(t),t.on("click",h.bind(this,function(t){this.unlockShowing()}))},n.prototype.createEl=function(){var n=this.kyt.contentElType||"ul";this.Eyt=o.createEl(n,{className:"vjs-menu-content"}),this.Eyt.setAttribute("role","menu");var i=t.prototype.createEl.call(this,"div",{append:this.Eyt,className:"vjs-menu"});return i.setAttribute("role","presentation"),i.appendChild(this.Eyt),f.on(i,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),i},n.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},n.prototype.stepForward=function(){var t=0;void 0!==this.qyt&&(t=this.qyt+1),this.focus(t)},n.prototype.stepBack=function(){var t=0;void 0!==this.qyt&&(t=this.qyt-1),this.focus(t)},n.prototype.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.children().slice(),i=n.length&&n[0].className&&/vjs-menu-title/.test(n[0].className);i&&n.shift(),n.length>0&&(t<0?t=0:t>=n.length&&(t=n.length-1),this.qyt=t,n[t].yyt.focus())},n}(s.default);s.default.registerComponent("Menu",d),i.default=d},{5:5,81:81,82:82,83:83}],50:[function(t,n,i){i.__esModule=!0;var e,r=t(81),s=c(r),u=t(83),o=c(u),a=t(5),h=(e=a)&&e.__esModule?e:{default:e};function c(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var f="vjs-modal-dialog",l=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.Gyt=r.$yt=r.Yyt=!1,r.closeable(!r.kyt.uncloseable),r.content(r.kyt.content),r.Eyt=s.createEl("div",{className:f+"-content"},{role:"document"}),r.Qyt=s.createEl("p",{className:f+"-description vjs-offscreen",id:r.el().getAttribute("aria-describedby")}),s.textContent(r.Qyt,r.description()),r.yyt.appendChild(r.Qyt),r.yyt.appendChild(r.Eyt),r.on(i,"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"Zyt","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.prototype.buildCSSClass=function(){return f+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},n.prototype.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},n.prototype.label=function(){return this.kyt.label||this.localize("Modal Window")},n.prototype.description=function(){var t=this.kyt.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},n.prototype.open=function(){if(!this.Gyt){var t=this.player();this.trigger("beforemodalopen"),this.Gyt=!0,(this.kyt.fillAlways||!this.$yt&&!this.Yyt)&&this.fill(),this.Kyt=!t.paused(),this.kyt.pauseOnOpen&&this.Kyt&&t.pause(),this.closeable()&&this.on(this.yyt.ownerDocument,"keydown",o.bind(this,this.handleKeyPress)),t.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.$yt=!0}return this},n.prototype.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.Gyt},n.prototype.close=function(){if(this.Gyt){var t=this.player();this.trigger("beforemodalclose"),this.Gyt=!1,this.Kyt&&this.kyt.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.yyt.ownerDocument,"keydown",o.bind(this,this.handleKeyPress)),t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.kyt.temporary&&this.dispose()}return this},n.prototype.closeable=function(t){if("boolean"==typeof t){var n=this.Jyt=!!t,i=this.getChild("closeButton");if(n&&!i){var e=this.Eyt;this.Eyt=this.yyt,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.Eyt=e,this.on(i,"close",this.close)}!n&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.Jyt},n.prototype.fill=function(){return this.fillWith(this.content())},n.prototype.fillWith=function(t){var n=this.contentEl(),i=n.parentNode,e=n.nextSibling;return this.trigger("beforemodalfill"),this.Yyt=!0,i.removeChild(n),this.empty(),s.insertContent(n,t),this.trigger("modalfill"),e?i.insertBefore(n,e):i.appendChild(n),this},n.prototype.empty=function(){return this.trigger("beforemodalempty"),s.emptyEl(this.contentEl()),this.trigger("modalempty"),this},n.prototype.content=function(t){return void 0!==t&&(this.Jy=t),this.Jy},n.prototype.handleLanguagechange=function(){this.yyt.setAttribute("aria-label",this.label()),s.textContent(this.Qyt,this.description()),this.opened()?this.fill():(this.$yt||this.Yyt)&&(this.$yt=!1,this.Yyt=!1,this.empty())},n}(h.default);l.prototype.kyt={pauseOnOpen:!0,temporary:!0},h.default.registerComponent("ModalDialog",l),i.default=l},{5:5,81:81,83:83}],51:[function(t,n,i){i.__esModule=!0;var e=t(5),r=Q(e),s=t(85),u=t(82),o=Y(u),a=t(81),h=Y(a),c=t(83),f=Y(c),d=t(86),m=Y(d),_=t(78),b=Y(_),k=t(87),A=Q(k),T=t(92),S=Q(T),E=t(91),I=t(79),R=t(90),C=Y(R),N=t(44),D=Q(N),P=t(46),x=Q(P),B=t(116),O=Q(B),L=t(89),M=t(88),j=Q(M),F=t(69),U=Q(F),H=t(50),X=Q(H),z=t(62),V=Q(z),W=t(63),q=Q(W),G=t(76),$=Q(G);function Y(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function Q(t){return t&&t.__esModule?t:{default:t}}t(61),t(59),t(55),t(68),t(45),t(1),t(4),t(8),t(41),t(71),t(60);var Z=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],K=function(t){function n(i,e,r){if(function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),i.id=i.id||["vjs_video",m.newGUID()].join("_"),(e=(0,L.assign)(n.getTagSettings(i),e)).initChildren=!1,e.createEl=!1,e.reportTouchActivity=!1,!e.language)if("function"==typeof i.closest){var s=i.closest("[lang]");s&&(e.language=s.getAttribute("lang"))}else for(var u=i;u&&1===u.nodeType;){if(h.getElAttributes(u).hasOwnProperty("lang")){e.language=u.getAttribute("lang");break}u=u.parentNode}var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,null,e,r));if(!o.kyt||!o.kyt.techOrder||!o.kyt.techOrder.length)throw new l("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=i,o.tagAttributes=i&&h.getElAttributes(i),o.language(o.kyt.language),e.languages){var a={};w.getOwnPropertyNames(e.languages).forEach(function(t){a[t.toLowerCase()]=e.languages[t]}),o.tpt=a}else o.tpt=n.prototype.kyt.languages;o.ugt={},o.wX=e.poster||"",o.npt=!!e.controls,i.controls=!1,o.ipt=!1,o.yyt=o.createEl();var c=(0,j.default)(o.kyt);if(e.plugins){var f=e.plugins;w.getOwnPropertyNames(f).forEach(function(t){"function"==typeof this[t]?this[t](f[t]):A.default.error("Unable to find plugin:",t)},o)}o.kyt.playerOptions=c,o.initChildren(),o.isAudio("audio"===i.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.yyt.setAttribute("role","region"),o.isAudio()?o.yyt.setAttribute("aria-label","audio player"):o.yyt.setAttribute("aria-label","video player"),o.isAudio()&&o.addClass("vjs-audio"),o.ept()&&o.addClass("vjs-no-flex"),b.IS_IOS||o.addClass("vjs-workinghover"),n.players[o.X_]=o;var d="5.20.6-opentelly.7".split(".")[0];return o.addClass("vjs-v"+d),o.userActive(!0),o.reportUserActivity(),o.rpt(),o.on("fullscreenchange",o.tP),o.on("stageclick",o.spt),o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.upt&&this.upt.parentNode&&this.upt.parentNode.removeChild(this.upt),n.players[this.X_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.yyt&&this.yyt.player&&(this.yyt.player=null),this.Pyt&&this.Pyt.dispose(),t.prototype.dispose.call(this)},n.prototype.createEl=function(){var n=this.tag,i=void 0,e=this.apt=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player");i=this.yyt=e?n.parentNode:t.prototype.createEl.call(this,"div"),n.setAttribute("tabindex","-1"),n.removeAttribute("width"),n.removeAttribute("height");var r=h.getElAttributes(n);if(w.getOwnPropertyNames(r).forEach(function(t){"class"===t?i.className+=" "+r[t]:i.setAttribute(t,r[t])}),n.playerId=n.id,n.id+="hpt",n.className="vjs-tech",n.player=i.player=this,this.addClass("vjs-paused"),!0!==s.window.VIDEOJS_NO_DYNAMIC_STYLE){this.upt=C.createStyleElement("vjs-styles-dimensions");var u=h.$(".vjs-styles-defaults"),o=h.$("head");o.insertBefore(this.upt,u?u.nextSibling:o.firstChild)}this.width(this.kyt.width),this.height(this.kyt.height),this.fluid(this.kyt.fluid),this.aspectRatio(this.kyt.aspectRatio);for(var a=n.getElementsByTagName("a"),c=0;c<a.length;c++){var f=a.item(c);h.addElClass(f,"vjs-hidden"),f.setAttribute("hidden","hidden")}return n.cpt=n.networkState,n.parentNode&&!e&&n.parentNode.insertBefore(i,n),h.insertElFirst(n,i),this.Di.unshift(n),this.yyt=i,i},n.prototype.width=function(t){return this.dimension("width",t)},n.prototype.height=function(t){return this.dimension("height",t)},n.prototype.dimension=function(t,n){var i="width"===t?"Ck":"vT";if(void 0===n)return this[i]||0;if(""===n)this[i]=void 0;else{var e=y(n);if(p(e))return A.default.error('Improper value "'+n+'" supplied for for '+t),this;this[i]=e}return this.fpt(),this},n.prototype.fluid=function(t){if(void 0===t)return!!this.lpt;this.lpt=!!t,t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.fpt()},n.prototype.aspectRatio=function(t){if(void 0===t)return this.vpt;if(!/^\d+\:\d+$/.test(t))throw new l("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.vpt=t,this.fluid(!0),this.fpt()},n.prototype.fpt=function(){if(!0!==s.window.VIDEOJS_NO_DYNAMIC_STYLE){var t=void 0,n=void 0,i=void 0,e=(void 0!==this.vpt&&"auto"!==this.vpt?this.vpt:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=e[1]/e[0];t=void 0!==this.Ck?this.Ck:void 0!==this.vT?this.vT/r:this.videoWidth()||300,n=void 0!==this.vT?this.vT:t*r,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),C.setTextContent(this.upt,"\n      ."+i+" {\n        width: "+t+"px;\n        height: "+n+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var u="number"==typeof this.Ck?this.Ck:this.kyt.width,o="number"==typeof this.vT?this.vT:this.kyt.height,a=this.Pyt&&this.Pyt.el();a&&(u>=0&&(a.width=u),o>=0&&(a.height=o))}},n.prototype.dpt=function(t,n){var i=this;this.Pyt&&this.wpt(),"Html5"!==t&&this.tag&&(V.default.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.gpt=t,this.Iyt=!1;var e=(0,L.assign)({source:n,nativeControlsForTouch:this.kyt.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+t+"mpt",videoTracks:this.xm,textTracks:this.Lm,audioTracks:this.Om,autoplay:this.kyt.autoplay,playsinline:this.kyt.playsinline,preload:this.kyt.preload,loop:this.kyt.loop,muted:this.kyt.muted,poster:this.poster(),language:this.language(),playerElIngest:this.apt||!1,"vtt.js":this.kyt["vtt.js"]},this.kyt[t.toLowerCase()]);this.tag&&(e.tag=this.tag),n&&(this.ypt=n.type,n.src===this.ugt.src&&this.ugt.currentTime>0&&(e.startTime=this.ugt.currentTime),this.ugt.sources=null,this.ugt.source=n,this.ugt.src=n.src);var s=V.default.getTech(t);s||(s=r.default.getComponent(t)),this.Pyt=new s(e),this.Pyt.ready(f.bind(this,this.ppt),!0),U.default.jsonToTextTracks(this._pt||[],this.Pyt),Z.forEach(function(t){i.on(i.Pyt,t,i["handleTech"+(0,S.default)(t)+"_"])}),this.on(this.Pyt,"loadstart",this.bpt),this.on(this.Pyt,"waiting",this.kpt),this.on(this.Pyt,"canplay",this.Apt),this.on(this.Pyt,"canplaythrough",this.Tpt),this.on(this.Pyt,"playing",this.Spt),this.on(this.Pyt,"ended",this.Ept),this.on(this.Pyt,"seeking",this.Ipt),this.on(this.Pyt,"seeked",this.Rpt),this.on(this.Pyt,"play",this.Cpt),this.on(this.Pyt,"firstplay",this.Npt),this.on(this.Pyt,"pause",this.Dpt),this.on(this.Pyt,"durationchange",this.Ppt),this.on(this.Pyt,"fullscreenchange",this.xpt),this.on(this.Pyt,"error",this.Bpt),this.on(this.Pyt,"loadedmetadata",this.fpt),this.on(this.Pyt,"resize",this.fpt),this.on(this.Pyt,"posterchange",this.Opt),this.on(this.Pyt,"textdata",this.Lpt),this.usingNativeControls(this.Mpt("controls")),this.controls()&&!this.usingNativeControls()&&this.jpt(),this.Pyt.el().parentNode===this.contentEl()||"Html5"===t&&this.tag||h.insertElFirst(this.Pyt.el(),this.contentEl()),this.tag&&(this.tag.player=null,this.tag=null)},n.prototype.wpt=function(){this.xm=this.videoTracks(),this.Lm=this.textTracks(),this.Om=this.audioTracks(),this._pt=U.default.textTracksToJson(this.Pyt),this.Iyt=!1,this.Pyt.dispose(),this.Pyt=!1},n.prototype.tech=function(t){if(t&&t.IWillNotUseThisInPlugins)return this.Pyt;var n="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw s.window.alert(n),new l(n)},n.prototype.jpt=function(){this.Fpt(),this.on(this.Pyt,"mousedown",this.Upt),this.on(this.Pyt,"touchstart",this.Hpt),this.on(this.Pyt,"touchmove",this.Xpt),this.on(this.Pyt,"touchend",this.zpt),this.on(this.Pyt,"tap",this.Vpt)},n.prototype.Fpt=function(){this.off(this.Pyt,"tap",this.Vpt),this.off(this.Pyt,"touchstart",this.Hpt),this.off(this.Pyt,"touchmove",this.Xpt),this.off(this.Pyt,"touchend",this.zpt),this.off(this.Pyt,"mousedown",this.Upt)},n.prototype.ppt=function(){if(this.triggerReady(),this.ugt.volume&&this.Wpt("setVolume",this.ugt.volume),this.Opt(),this.Ppt(),(this.src()||this.currentSrc())&&this.tag&&this.kyt.autoplay&&this.paused()){try{delete this.tag.poster}catch(t){(0,A.default)("deleting tag.poster throws in some browsers",t)}this.play()}},n.prototype.bpt=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},n.prototype.hasStarted=function(t){return void 0!==t?(this.qpt!==t&&(this.qpt=t,t?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.qpt},n.prototype.Cpt=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.prototype.kpt=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})},n.prototype.Apt=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.prototype.Tpt=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.prototype.Spt=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.prototype.Ipt=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.prototype.Rpt=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},n.prototype.Npt=function(){this.kyt.starttime&&(A.default.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.kyt.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.prototype.Dpt=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.prototype.Ept=function(){this.addClass("vjs-ended"),this.kyt.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.prototype.Ppt=function(){this.duration(this.Mpt("duration"))},n.prototype.Upt=function(t){0===t.button&&this.controls()&&(this.paused()?this.play():this.pause())},n.prototype.Vpt=function(){this.userActive(!this.userActive())},n.prototype.Hpt=function(){this.userWasActive=this.userActive()},n.prototype.Xpt=function(){this.userWasActive&&this.reportUserActivity()},n.prototype.zpt=function(t){t.preventDefault()},n.prototype.tP=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.prototype.spt=function(){this.reportUserActivity()},n.prototype.xpt=function(t,n){n&&this.isFullscreen(n.isFullscreen),this.trigger("fullscreenchange")},n.prototype.Bpt=function(){var t=this.Pyt.error();this.error(t)},n.prototype.Lpt=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},n.prototype.getCache=function(){return this.ugt},n.prototype.Wpt=function(t,n){if(this.Pyt&&!this.Pyt.Iyt)this.Pyt.ready(function(){this[t](n)},!0);else try{this.Pyt&&this.Pyt[t](n)}catch(t){throw(0,A.default)(t),t}},n.prototype.Mpt=function(t){if(this.Pyt&&this.Pyt.Iyt)try{return this.Pyt[t]()}catch(n){throw void 0===this.Pyt[t]?(0,A.default)("Video.js: "+t+" method not defined for "+this.gpt+" playback technology.",n):"TypeError"===n.name?((0,A.default)("Video.js: "+t+" unavailable on "+this.gpt+" playback technology element.",n),this.Pyt.Iyt=!1):(0,A.default)(n),n}},n.prototype.play=function(){return this.src()||this.currentSrc()?this.Wpt("play"):this.Pyt.one("loadstart",function(){this.play()}),this},n.prototype.pause=function(){return this.Wpt("pause"),this},n.prototype.paused=function(){return!1!==this.Mpt("paused")},n.prototype.scrubbing=function(t){return void 0!==t?(this.ipt=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.ipt},n.prototype.currentTime=function(t){return void 0!==t?(this.Wpt("setCurrentTime",t),this):(this.ugt.currentTime=this.Mpt("currentTime")||0,this.ugt.currentTime)},n.prototype.duration=function(t){return void 0===t?void 0!==this.ugt.duration?this.ugt.duration:NaN:((t=y(t))<0&&(t=1/0),t!==this.ugt.duration&&(this.ugt.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},n.prototype.remainingTime=function(){return this.duration()-this.currentTime()},n.prototype.buffered=function(){var t=this.Mpt("buffered");return t&&t.length||(t=(0,E.createTimeRange)(0,0)),t},n.prototype.bufferedPercent=function(){return(0,I.bufferedPercent)(this.buffered(),this.duration())},n.prototype.bufferedEnd=function(){var t=this.buffered(),n=this.duration(),i=t.end(t.length-1);return i>n&&(i=n),i},n.prototype.volume=function(t){var n=void 0;return void 0!==t?(n=g.max(0,g.min(1,y(t))),this.ugt.volume=n,this.Wpt("setVolume",n),this):(n=y(this.Mpt("volume")),p(n)?1:n)},n.prototype.muted=function(t){return void 0!==t?(this.Wpt("setMuted",t),this):this.Mpt("muted")||!1},n.prototype.supportsFullScreen=function(){return this.Mpt("supportsFullScreen")||!1},n.prototype.isFullscreen=function(t){return void 0!==t?(this.yC=!!t,this):!!this.yC},n.prototype.requestFullscreen=function(t){var n=D.default,i=void 0;return this.isFullscreen(!0),n.requestFullscreen?(o.on(s.document,n.fullscreenchange,f.bind(this,function t(i){this.isFullscreen(s.document[n.fullscreenElement]),!1===this.isFullscreen()&&o.off(s.document,n.fullscreenchange,t),this.trigger("fullscreenchange")})),n.prefixed||(i=this.kyt.fullscreenOptions,void 0!==t&&(i=t)),this.yyt[n.requestFullscreen](i)):this.Pyt.supportsFullScreen()?this.Wpt("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},n.prototype.exitFullscreen=function(){var t=D.default;return this.isFullscreen(!1),t.requestFullscreen?s.document[t.exitFullscreen]():this.Pyt.supportsFullScreen()?this.Wpt("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},n.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=s.document.documentElement.style.overflow,o.on(s.document,"keydown",f.bind(this,this.fullWindowOnEscKey)),s.document.documentElement.style.overflow="hidden",h.addElClass(s.document.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},n.prototype.exitFullWindow=function(){this.isFullWindow=!1,o.off(s.document,"keydown",this.fullWindowOnEscKey),s.document.documentElement.style.overflow=this.docOrigOverflow,h.removeElClass(s.document.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.prototype.canPlayType=function(t){for(var n=void 0,i=0,e=this.kyt.techOrder;i<e.length;i++){var s=(0,S.default)(e[i]),u=V.default.getTech(s);if(u||(u=r.default.getComponent(s)),u){if(u.isSupported()&&(n=u.canPlayType(t)))return n}else A.default.error('The "'+s+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.prototype.selectSource=function(t){var n,i=this,e=this.kyt.techOrder.map(S.default).map(function(t){return[t,V.default.getTech(t)||r.default.getComponent(t)]}).filter(function(t){var n=t[0],i=t[1];return i?i.isSupported():(A.default.error('The "'+n+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),s=function(t,n,i){var e=void 0;return t.some(function(t){return n.some(function(n){if(e=i(t,n))return!0})}),e},u=function(t,n){var e=t[0],r=t[1];if(r.canPlaySource(n,i.kyt[e.toLowerCase()]))return{source:n,tech:e}};return(this.kyt.sourceOrder?s(t,e,(n=u,function(t,i){return n(i,t)})):s(e,t,u))||!1},n.prototype.src=function(t){if(void 0===t)return this.Mpt("src");var n=V.default.getTech(this.gpt);return n||(n=r.default.getComponent(this.gpt)),Array.isArray(t)?this.Gpt(t):"string"==typeof t?this.src({src:t}):t instanceof w&&(t.type&&!n.canPlaySource(t,this.kyt[this.gpt.toLowerCase()])?this.Gpt([t]):(this.ugt.sources=null,this.ugt.source=t,this.ugt.src=t.src,this.ypt=t.type||"",this.ready(function(){n.prototype.hasOwnProperty("setSource")?this.Wpt("setSource",t):this.Wpt("src",t.src),"auto"===this.kyt.preload&&this.load(),this.kyt.autoplay&&this.play()},!0))),this},n.prototype.Gpt=function(t){var n=this.selectSource(t);n?(n.tech===this.gpt?this.src(n.source):this.dpt(n.tech,n.source),this.ugt.sources=t):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.kyt.notSupportedMessage)})},0),this.triggerReady())},n.prototype.load=function(){return this.Wpt("load"),this},n.prototype.reset=function(){return this.dpt((0,S.default)(this.kyt.techOrder[0]),null),this.Wpt("reset"),this},n.prototype.currentSources=function(){var t=this.currentSource(),n=[];return 0!==w.keys(t).length&&n.push(t),this.ugt.sources||n},n.prototype.currentSource=function(){var t={},n=this.currentSrc();return n&&(t.src=n),this.ugt.source||t},n.prototype.currentSrc=function(){return this.Mpt("currentSrc")||this.ugt.src||""},n.prototype.currentType=function(){return this.ypt||""},n.prototype.preload=function(t){return void 0!==t?(this.Wpt("setPreload",t),this.kyt.preload=t,this):this.Mpt("preload")},n.prototype.autoplay=function(t){return void 0!==t?(this.Wpt("setAutoplay",t),this.kyt.autoplay=t,this):this.Mpt("autoplay",t)},n.prototype.playsinline=function(t){return void 0!==t?(this.Wpt("setPlaysinline",t),this.kyt.playsinline=t,this):this.Mpt("playsinline")},n.prototype.loop=function(t){return void 0!==t?(this.Wpt("setLoop",t),this.kyt.loop=t,this):this.Mpt("loop")},n.prototype.poster=function(t){return void 0===t?this.wX:(t||(t=""),this.wX=t,this.Wpt("setPoster",t),this.trigger("posterchange"),this)},n.prototype.Opt=function(){!this.wX&&this.Pyt&&this.Pyt.poster&&(this.wX=this.Pyt.poster()||"",this.trigger("posterchange"))},n.prototype.controls=function(t){return void 0!==t?(t=!!t,this.npt!==t&&(this.npt=t,this.usingNativeControls()&&this.Wpt("setControls",t),t?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.jpt()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.Fpt())),this):!!this.npt},n.prototype.usingNativeControls=function(t){return void 0!==t?(t=!!t,this.$pt!==t&&(this.$pt=t,t?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.$pt},n.prototype.error=function(t){return void 0===t?this.wu||null:null===t?(this.wu=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.wu=new x.default(t),this.addClass("vjs-error"),A.default.error("(CODE:"+this.wu.code+" "+x.default.errorTypes[this.wu.code]+")",this.wu.message,this.wu),this.trigger("error"),this)},n.prototype.reportUserActivity=function(t){this.Ypt=!0},n.prototype.userActive=function(t){return void 0!==t?((t=!!t)!==this.Qpt&&(this.Qpt=t,t?(this.Ypt=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.Ypt=!1,this.Pyt&&this.Pyt.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.Qpt},n.prototype.rpt=function(){var t=void 0,n=void 0,i=void 0,e=f.bind(this,this.reportUserActivity);this.on("mousedown",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}),this.on("mousemove",function(t){t.screenX===n&&t.screenY===i||(n=t.screenX,i=t.screenY,e())}),this.on("mouseup",function(n){e(),this.clearInterval(t)}),this.on("keydown",e),this.on("keyup",e);var r=void 0;this.setInterval(function(){if(this.Ypt){this.Ypt=!1,this.userActive(!0),this.clearTimeout(r);var t=this.kyt.inactivityTimeout;t>0&&(r=this.setTimeout(function(){this.Ypt||this.userActive(!1)},t))}},250)},n.prototype.playbackRate=function(t){return void 0!==t?(this.Wpt("setPlaybackRate",t),this):this.Pyt&&this.Pyt.featuresPlaybackRate?this.Mpt("playbackRate"):1},n.prototype.isAudio=function(t){return void 0!==t?(this.Zpt=!!t,this):!!this.Zpt},n.prototype.videoTracks=function(){return this.Pyt?this.Pyt.videoTracks():(this.xm=this.xm||new $.default,this.xm)},n.prototype.audioTracks=function(){return this.Pyt?this.Pyt.audioTracks():(this.Om=this.Om||new q.default,this.Om)},n.prototype.textTracks=function(){if(this.Pyt)return this.Pyt.textTracks()},n.prototype.remoteTextTracks=function(){if(this.Pyt)return this.Pyt.remoteTextTracks()},n.prototype.remoteTextTrackEls=function(){if(this.Pyt)return this.Pyt.remoteTextTrackEls()},n.prototype.addTextTrack=function(t,n,i){if(this.Pyt)return this.Pyt.addTextTrack(t,n,i)},n.prototype.addRemoteTextTrack=function(t,n){if(this.Pyt)return this.Pyt.addRemoteTextTrack(t,n)},n.prototype.removeRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.track,i=void 0===n?arguments[0]:n;if(this.Pyt)return this.Pyt.removeRemoteTextTrack(i)},n.prototype.getVideoPlaybackQuality=function(){return this.Mpt("getVideoPlaybackQuality")},n.prototype.videoWidth=function(){return this.Pyt&&this.Pyt.videoWidth&&this.Pyt.videoWidth()||0},n.prototype.videoHeight=function(){return this.Pyt&&this.Pyt.videoHeight&&this.Pyt.videoHeight()||0},n.prototype.language=function(t){return void 0===t?this.V_:(this.V_!==String(t).toLowerCase()&&(this.V_=String(t).toLowerCase(),void 0!==this.yyt&&this.trigger("languagechange")),this)},n.prototype.languages=function(){return(0,j.default)(n.prototype.kyt.languages,this.tpt)},n.prototype.toJSON=function(){var t=(0,j.default)(this.kyt),n=t.tracks;t.tracks=[];for(var i=0;i<n.length;i++){var e=n[i];(e=(0,j.default)(e)).player=void 0,t.tracks[i]=e}return t},n.prototype.createModal=function(t,n){var i=this;(n=n||{}).content=t||"";var e=new X.default(this,n);return this.addChild(e),e.on("dispose",function(){i.removeChild(e)}),e.open()},n.getTagSettings=function(t){var n={sources:[],tracks:[]},i=h.getElAttributes(t),e=i["data-setup"];if(h.hasElClass(t,"vjs-fluid")&&(i.fluid=!0),null!==e){var r=(0,O.default)(e||"{}"),s=r[0],u=r[1];s&&A.default.error(s),(0,L.assign)(i,u)}if((0,L.assign)(n,i),t.hasChildNodes())for(var o=t.childNodes,a=0,c=o.length;a<c;a++){var f=o[a],l=f.nodeName.toLowerCase();"source"===l?n.sources.push(h.getElAttributes(f)):"track"===l&&n.tracks.push(h.getElAttributes(f))}return n},n.prototype.ept=function(){var t=s.document.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},n}(r.default);K.players={};var J=s.window.navigator;K.prototype.kyt={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:J&&(J.languages&&J.languages[0]||J.userLanguage||J.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreenOptions:{navigationUI:"hide"}},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){K.prototype[t]=function(){return this.Mpt(t)}}),Z.forEach(function(t){K.prototype["handleTech"+(0,S.default)(t)+"_"]=function(){return this.trigger(t)}}),r.default.registerComponent("Player",K),i.default=K},{1:1,116:116,4:4,41:41,44:44,45:45,46:46,5:5,50:50,55:55,59:59,60:60,61:61,62:62,63:63,68:68,69:69,71:71,76:76,78:78,79:79,8:8,81:81,82:82,83:83,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92}],52:[function(t,n,i){i.__esModule=!0;var e,r=t(51),s=(e=r)&&e.__esModule?e:{default:e};i.default=function(t,n){s.default.prototype[t]=n}},{51:51}],53:[function(t,n,i){i.__esModule=!0;var e=t(3),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.update=function(){var t=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=t,this.addChild(t),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},n.prototype.createPopup=function(){},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n.prototype.buildCSSClass=function(){var n="vjs-menu-button";return!0===this.kyt.inline?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},n}(r.default);u.default.registerComponent("PopupButton",a),i.default=a},{3:3,5:5}],54:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=l(u),a=t(83),h=l(a),c=t(82),f=l(c);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var d=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addItem=function(t){this.addChild(t),t.on("click",h.bind(this,function(){this.unlockShowing()}))},n.prototype.createEl=function(){var n=this.kyt.contentElType||"ul";this.Eyt=o.createEl(n,{className:"vjs-menu-content"});var i=t.prototype.createEl.call(this,"div",{append:this.Eyt,className:"vjs-menu"});return i.appendChild(this.Eyt),f.on(i,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),i},n}(s.default);s.default.registerComponent("Popup",d),i.default=d},{5:5,81:81,82:82,83:83}],55:[function(t,n,i){i.__esModule=!0;var e=t(3),r=g(e),s=t(5),u=g(s),o=t(83),a=d(o),h=t(81),c=d(h),f=t(78),l=d(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function g(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),i.on("posterchange",a.bind(r,r.update)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},n.prototype.createEl=function(){var t=c.createEl("div",{className:"vjs-poster",tabIndex:-1});return l.BACKGROUND_SIZE_SUPPORTED||(this.Kpt=c.createEl("img"),t.appendChild(this.Kpt)),t},n.prototype.update=function(t){var n=this.player().poster();this.setSrc(n),n?this.show():this.hide()},n.prototype.setSrc=function(t){if(this.Kpt)this.Kpt.src=t;else{var n="";t&&(n='url("'+t+'")'),this.yyt.style.backgroundImage=n}},n.prototype.handleClick=function(t){this.wD.controls()&&(this.wD.paused()?this.wD.play():this.wD.pause())},n}(r.default);u.default.registerComponent("PosterImage",m),i.default=m},{3:3,5:5,78:78,81:81,83:83}],56:[function(t,n,i){i.__esModule=!0,i.hasLoaded=i.autoSetupTimeout=i.autoSetup=void 0;var e=t(81),r=a(e),s=t(82),u=a(s),o=t(85);function a(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var h=!1,c=void 0,f=function(){if(r.isReal()){var t=o.document.getElementsByTagName("video"),n=o.document.getElementsByTagName("audio"),i=[];if(t&&t.length>0)for(var e=0,s=t.length;e<s;e++)i.push(t[e]);if(n&&n.length>0)for(var u=0,a=n.length;u<a;u++)i.push(n[u]);if(i&&i.length>0)for(var f=0,v=i.length;f<v;f++){var d=i[f];if(!d||!d.getAttribute){l(1);break}if(void 0===d.player){var w=d.getAttribute("data-setup");null!==w&&c(d)}}else h||l(1)}};function l(t,n){n&&(c=n),o.window.setTimeout(f,t)}r.isReal()&&"complete"===o.document.readyState?h=!0:u.one(o.window,"load",function(){h=!0}),i.autoSetup=f,i.autoSetupTimeout=l,i.hasLoaded=function(){return h}},{81:81,82:82,85:85}],57:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(89),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.bar=r.getChild(r.kyt.barName),r.vertical(!!r.kyt.vertical),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on("focus",r.handleFocus),r.on("blur",r.handleBlur),r.on("click",r.handleClick),r.on(i,"controlsvisible",r.update),r.on(i,r.playerEvent,r.update),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.className=i.className+" vjs-slider",i=(0,a.assign)({tabIndex:0},i),e=(0,a.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},e),t.prototype.createEl.call(this,n,i,e)},n.prototype.handleMouseDown=function(t){var n=this.bar.yyt.ownerDocument;t.preventDefault(),o.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove),this.on(n,"mouseup",this.handleMouseUp),this.on(n,"touchmove",this.handleMouseMove),this.on(n,"touchend",this.handleMouseUp),this.handleMouseMove(t)},n.prototype.handleMouseMove=function(t){},n.prototype.handleMouseUp=function(){var t=this.bar.yyt.ownerDocument;o.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},n.prototype.update=function(){if(this.yyt){var t=this.getPercent(),n=this.bar;if(n){("number"!=typeof t||t!=t||t<0||t===1/0)&&(t=0);var i=(100*t).toFixed(2)+"%";this.vertical()?n.el().style.height=i:n.el().style.width=i}}},n.prototype.calculateDistance=function(t){var n=o.getPointerPosition(this.yyt,t);return this.vertical()?n.y:n.x},n.prototype.handleFocus=function(){this.on(this.bar.yyt.ownerDocument,"keydown",this.handleKeyPress)},n.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},n.prototype.handleBlur=function(){this.off(this.bar.yyt.ownerDocument,"keydown",this.handleKeyPress)},n.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},n.prototype.vertical=function(t){return void 0===t?this.vk||!1:(this.vk=!!t,this.vk?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},n}(s.default);s.default.registerComponent("Slider",h),i.default=h},{5:5,81:81,89:89}],58:[function(t,n,i){i.__esModule=!0,i.default=function(t){return t.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},t.streamFromParts=function(t,n){return t+"&"+n},t.streamToParts=function(t){var n={connection:"",stream:""};if(!t)return n;var i=t.search(/&(?!\w+=)/),e=void 0;return-1!==i?e=i+1:0===(i=e=t.lastIndexOf("/")+1)&&(i=e=t.length),n.connection=t.substring(0,i),n.stream=t.substring(e,t.length),n},t.isStreamingType=function(n){return n in t.streamingFormats},t.RTMP_RE=/^rtmp[set]?:\/\//i,t.isStreamingSrc=function(n){return t.RTMP_RE.test(n)},t.rtmpSourceHandler={},t.rtmpSourceHandler.canPlayType=function(n){return t.isStreamingType(n)?"maybe":""},t.rtmpSourceHandler.canHandleSource=function(n,i){var e=t.rtmpSourceHandler.canPlayType(n.type);return e||(t.isStreamingSrc(n.src)?"maybe":"")},t.rtmpSourceHandler.handleSource=function(n,i,e){var r=t.streamToParts(n.src);i.setRtmpConnection(r.connection),i.setRtmpStream(r.stream)},t.registerSourceHandler(t.rtmpSourceHandler),t}},{}],59:[function(t,n,i){i.__esModule=!0;var e=t(62),r=p(e),s=t(81),u=y(s),o=t(93),a=y(o),h=t(91),c=t(58),f=p(c),l=t(5),d=p(l),g=t(85),m=t(89);function y(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function p(t){return t&&t.__esModule?t:{default:t}}var _=g.window.navigator,b=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return i.source&&r.ready(function(){this.setSource(i.source)},!0),i.startTime&&r.ready(function(){this.load(),this.play(),this.currentTime(i.startTime)},!0),g.window.videojs=g.window.videojs||{},g.window.videojs.Flash=g.window.videojs.Flash||{},g.window.videojs.Flash.onReady=n.onReady,g.window.videojs.Flash.onEvent=n.onEvent,g.window.videojs.Flash.onError=n.onError,r.on("seeked",function(){this.Jpt=void 0}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var t=this.kyt;t.swf||(t.swf="//vjs.zencdn.net/swf/5.4.1/video-js.swf");var i=t.techId,e=(0,m.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:t.autoplay,preload:t.preload,loop:t.loop,muted:t.muted},t.flashVars),r=(0,m.assign)({wmode:"opaque",bgcolor:"#000000"},t.params),s=(0,m.assign)({id:i,name:i,class:"vjs-tech"},t.attributes);return this.yyt=n.embed(t.swf,e,r,s),this.yyt.tech=this,this.yyt},n.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.yyt.vjs_play()},n.prototype.pause=function(){this.yyt.vjs_pause()},n.prototype.src=function(t){return void 0===t?this.currentSrc():this.setSrc(t)},n.prototype.setSrc=function(t){var n=this;t=a.getAbsoluteURL(t),this.yyt.vjs_src(t),this.autoplay()&&this.setTimeout(function(){return n.play()},0)},n.prototype.seeking=function(){return void 0!==this.Jpt},n.prototype.setCurrentTime=function(n){var i=this.seekable();i.length&&(n=(n=n>i.start(0)?n:i.start(0))<i.end(i.length-1)?n:i.end(i.length-1),this.Jpt=n,this.trigger("seeking"),this.yyt.vjs_setProperty("currentTime",n),t.prototype.setCurrentTime.call(this))},n.prototype.currentTime=function(){return this.seeking()?this.Jpt||0:this.yyt.vjs_getProperty("currentTime")},n.prototype.currentSrc=function(){return this.uy?this.uy.src:this.yyt.vjs_getProperty("currentSrc")},n.prototype.duration=function(){if(0===this.readyState())return NaN;var t=this.yyt.vjs_getProperty("duration");return t>=0?t:1/0},n.prototype.load=function(){this.yyt.vjs_load()},n.prototype.poster=function(){this.yyt.vjs_getProperty("poster")},n.prototype.setPoster=function(){},n.prototype.seekable=function(){var t=this.duration();return 0===t?(0,h.createTimeRange)():(0,h.createTimeRange)(0,t)},n.prototype.buffered=function(){var t=this.yyt.vjs_getProperty("buffered");return 0===t.length?(0,h.createTimeRange)():(0,h.createTimeRange)(t[0][0],t[0][1])},n.prototype.supportsFullScreen=function(){return!1},n.prototype.enterFullScreen=function(){return!1},n.prototype.getVideoPlaybackQuality=function(){var t=this.yyt.vjs_getProperty("getVideoPlaybackQuality");return g.window.performance&&"function"==typeof g.window.performance.now?t.creationTime=g.window.performance.now():g.window.performance&&g.window.performance.timing&&"number"==typeof g.window.performance.timing.navigationStart&&(t.creationTime=g.window.Date.now()-g.window.performance.timing.navigationStart),t},n}(r.default),k=b.prototype,A="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),T="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(",");function S(t){var n=t.charAt(0).toUpperCase()+t.slice(1);k["set"+n]=function(n){return this.yyt.vjs_setProperty(t,n)}}function E(t){k[t]=function(){return this.yyt.vjs_getProperty(t)}}for(var I=0;I<A.length;I++)E(A[I]),S(A[I]);for(var R=0;R<T.length;R++)E(T[R]);b.isSupported=function(){return b.version()[0]>=10},r.default.withSourceHandlers(b),b.nativeSourceHandler={},b.nativeSourceHandler.canPlayType=function(t){return t in b.formats?"maybe":""},b.nativeSourceHandler.canHandleSource=function(t,n){var i,e,r=void 0;return r=t.type?t.type.replace(/;.*/,"").toLowerCase():(i=t.src,(e=a.getFileExtension(i))?"video/"+e:""),b.nativeSourceHandler.canPlayType(r)},b.nativeSourceHandler.handleSource=function(t,n,i){n.setSrc(t.src)},b.nativeSourceHandler.dispose=function(){},b.registerSourceHandler(b.nativeSourceHandler),b.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},b.onReady=function(t){var n=u.getEl(t),i=n&&n.tech;i&&i.el()&&b.checkReady(i)},b.checkReady=function(t){t.el()&&(t.el().vjs_getProperty?t.triggerReady():this.setTimeout(function(){b.checkReady(t)},50))},b.onEvent=function(t,n){var i=u.getEl(t).tech,e=Array.prototype.slice.call(arguments,2);i.setTimeout(function(){i.trigger(n,e)},1)},b.onError=function(t,n){var i=u.getEl(t).tech;if("srcnotfound"===n)return i.error(4);i.error("FLASH: "+n)},b.version=function(){var t="0,0,0";try{t=new g.window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(n){try{_.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(_.plugins["Shockwave Flash 2.0"]||_.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(t){}}return t.split(",")},b.embed=function(t,n,i,e){var r=b.getEmbedCode(t,n,i,e),s=u.createEl("div",{innerHTML:r}).childNodes[0];return s},b.getEmbedCode=function(t,n,i,e){var r="",s="",u="";return n&&w.getOwnPropertyNames(n).forEach(function(t){r+=t+"="+n[t]+"&amp;"}),i=(0,m.assign)({movie:t,flashvars:r,allowScriptAccess:"always",allowNetworking:"all"},i),w.getOwnPropertyNames(i).forEach(function(t){s+='<param name="'+t+'" value="'+i[t]+'" />'}),e=(0,m.assign)({data:t,width:"100%",height:"100%"},e),w.getOwnPropertyNames(e).forEach(function(t){u+=t+'="'+e[t]+'" '}),'<object type="application/x-shockwave-flash" '+u+">"+s+"</object>"},(0,f.default)(b),d.default.registerComponent("Flash",b),r.default.registerTech("Flash",b),i.default=b},{5:5,58:58,62:62,81:81,85:85,89:89,91:91,93:93}],60:[function(t,n,i){i.__esModule=!0;var e,r=((e=["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]).raw=["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],e),s=t(62),u=N(s),o=t(5),a=N(o),h=t(81),c=C(h),f=t(93),l=C(f),d=t(83),g=C(d),m=t(87),y=N(m),p=t(121),_=N(p),b=t(78),k=C(b),A=t(85),T=t(89),S=t(88),E=N(S),I=t(92),R=N(I);function C(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function N(t){return t&&t.__esModule?t:{default:t}}var D=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e)),u=i.source,o=!1;if(u&&(s.yyt.currentSrc!==u.src||i.tag&&3===i.tag.cpt)?s.setSource(u):s.tbt(s.yyt),s.yyt.hasChildNodes()){for(var a=s.yyt.childNodes,h=a.length,c=[];h--;){var f=a[h],d=f.nodeName.toLowerCase();"track"===d&&(s.featuresNativeTextTracks?(s.remoteTextTrackEls().nbt(f),s.remoteTextTracks().T_(f.track),o||s.yyt.hasAttribute("crossorigin")||!l.isCrossOrigin(f.src)||(o=!0)):c.push(f))}for(var w=0;w<c.length;w++)s.yyt.removeChild(c[w])}return["audio","video"].forEach(function(t){var n=s.el()[t+"Tracks"],i=s[t+"Tracks"](),e=(0,R.default)(t);s["featuresNative"+e+"Tracks"]&&n&&n.addEventListener&&(s["handle"+e+"ibt"]=function(t){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},s["handle"+e+"ebt"]=function(t){return i.addTrack(t.track)},s["handle"+e+"rbt"]=function(t){return i.removeTrack(t.track)},n.addEventListener("change",s["handle"+e+"ibt"]),n.addEventListener("addtrack",s["handle"+e+"ebt"]),n.addEventListener("removetrack",s["handle"+e+"rbt"]),s["removeOld"+e+"sbt"]=function(t){return s.ubt(i,n)},s.on("loadstart",s["removeOld"+e+"sbt"]))}),s.featuresNativeTextTracks&&(o&&y.default.warn((0,_.default)(r)),s.obt=g.bind(s,s.handleTextTrackChange),s.abt=g.bind(s,s.handleTextTrackAdd),s.hbt=g.bind(s,s.handleTextTrackRemove),s.cbt()),s.fbt(),(k.TOUCH_ENABLED||k.IS_IPHONE||k.IS_NATIVE_ANDROID)&&!0===i.nativeControlsForTouch&&s.setControls(!0),s.lbt(),s.triggerReady(),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){var i=this;["audio","video","text"].forEach(function(t){var n=(0,R.default)(t),e=i.yyt[t+"Tracks"];e&&e.removeEventListener&&(e.removeEventListener("change",i["handle"+n+"ibt"]),e.removeEventListener("addtrack",i["handle"+n+"ebt"]),e.removeEventListener("removetrack",i["handle"+n+"rbt"])),e&&i.off("loadstart",i["removeOld"+n+"sbt"])}),n.disposeMediaElement(this.yyt),t.prototype.dispose.call(this)},n.prototype.fbt=function(){var t=this.textTracks(),n=void 0,i=function(){n=[];for(var i=0;i<t.length;i++){var e=t[i];"metadata"===e.kind&&n.push({track:e,storedMode:e.mode})}};i(),t.addEventListener("change",i);var e=function i(){for(var e=0;e<n.length;e++){var r=n[e];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}t.removeEventListener("change",i)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",i),t.removeEventListener("change",e),t.addEventListener("change",e)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",i),t.addEventListener("change",i),t.removeEventListener("change",e)})},n.prototype.createEl=function(){var t=this.kyt.tag;if(!t||!this.kyt.playerElIngest&&!this.movingMediaElementInDOM){if(t){var i=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(i,t),n.disposeMediaElement(t),t=i}else{t=A.document.createElement("video");var e=this.kyt.tag&&c.getElAttributes(this.kyt.tag),r=(0,E.default)({},e);k.TOUCH_ENABLED&&!0===this.kyt.nativeControlsForTouch||delete r.controls,c.setElAttributes(t,(0,T.assign)(r,{id:this.kyt.techId,class:"vjs-tech"}))}t.playerId=this.kyt.playerId}void 0!==this.kyt.preload&&c.setAttribute(t,"preload",this.kyt.preload);for(var s=["loop","muted","playsinline","autoplay"],u=s.length-1;u>=0;u--){var o=s[u],a=this.kyt[o];void 0!==a&&(a?c.setAttribute(t,o,o):c.removeAttribute(t,o),t[o]=a)}return t},n.prototype.tbt=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var n=!1,i=function(){n=!0};this.on("loadstart",i);var e=function(){n||this.trigger("loadstart")};return this.on("loadedmetadata",e),void this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",e),n||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(t){this.trigger(t)},this)})}},n.prototype.cbt=function(){var t=this.el().textTracks;if(t){for(var n=0;n<t.length;n++)this.textTracks().T_(t[n]);t.addEventListener&&(t.addEventListener("change",this.obt),t.addEventListener("addtrack",this.abt),t.addEventListener("removetrack",this.hbt)),this.on("loadstart",this.vbt)}},n.prototype.handleTextTrackChange=function(t){var n=this.textTracks();this.textTracks().trigger({type:"change",target:n,currentTarget:n,srcElement:n})},n.prototype.handleTextTrackAdd=function(t){this.textTracks().T_(t.track)},n.prototype.handleTextTrackRemove=function(t){this.textTracks().S_(t.track)},n.prototype.ubt=function(t,n){var i=[];if(n){for(var e=0;e<t.length;e++){for(var r=t[e],s=!1,u=0;u<n.length;u++)if(n[u]===r){s=!0;break}s||i.push(r)}for(var o=0;o<i.length;o++){var a=i[o];t.S_(a)}}},n.prototype.vbt=function(t){var n=this.textTracks(),i=this.el().textTracks;this.ubt(n,i)},n.prototype.play=function(){var t=this.yyt.play();void 0!==t&&"function"==typeof t.then&&t.then(null,function(t){})},n.prototype.setCurrentTime=function(t){try{this.yyt.currentTime=t}catch(t){(0,y.default)(t,"Video is not ready. (Video.js)")}},n.prototype.duration=function(){var t=this;return this.yyt.duration===1/0&&k.IS_ANDROID&&k.IS_CHROME&&0===this.yyt.currentTime?(this.on("timeupdate",function n(){t.yyt.currentTime>0&&(t.yyt.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",n))}),NaN):this.yyt.duration||NaN},n.prototype.width=function(){return this.yyt.offsetWidth},n.prototype.height=function(){return this.yyt.offsetHeight},n.prototype.lbt=function(){var t=this;if("webkitDisplayingFullscreen"in this.yyt){var n=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.yyt&&"picture-in-picture"!==this.yyt.webkitPresentationMode&&(this.one("webkitendfullscreen",n),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",function(){t.off("webkitbeginfullscreen",i),t.off("webkitendfullscreen",n)})}},n.prototype.supportsFullScreen=function(){if("function"==typeof this.yyt.webkitEnterFullScreen){var t=A.window.navigator&&A.window.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},n.prototype.enterFullScreen=function(){var t=this.yyt;t.paused&&t.networkState<=t.HAVE_METADATA?(this.yyt.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},n.prototype.exitFullScreen=function(){this.yyt.webkitExitFullScreen()},n.prototype.src=function(t){if(void 0===t)return this.yyt.src;this.setSrc(t)},n.prototype.reset=function(){n.resetMediaElement(this.yyt)},n.prototype.currentSrc=function(){return this.uy?this.uy.src:this.yyt.currentSrc},n.prototype.setControls=function(t){this.yyt.controls=!!t},n.prototype.addTextTrack=function(n,i,e){return this.featuresNativeTextTracks?this.yyt.addTextTrack(n,i,e):t.prototype.addTextTrack.call(this,n,i,e)},n.prototype.createRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,n);var i=A.document.createElement("track");return n.kind&&(i.kind=n.kind),n.label&&(i.label=n.label),(n.language||n.srclang)&&(i.srclang=n.language||n.srclang),n.default&&(i.default=n.default),n.id&&(i.id=n.id),n.src&&(i.src=n.src),i},n.prototype.addRemoteTextTrack=function(n,i){var e=t.prototype.addRemoteTextTrack.call(this,n,i);return this.featuresNativeTextTracks&&this.el().appendChild(e),e},n.prototype.removeRemoteTextTrack=function(n){if(t.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var i=this.$$("track"),e=i.length;e--;)n!==i[e]&&n!==i[e].track||this.el().removeChild(i[e])},n.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),A.window.performance&&"function"==typeof A.window.performance.now?t.creationTime=A.window.performance.now():A.window.performance&&A.window.performance.timing&&"number"==typeof A.window.performance.timing.navigationStart&&(t.creationTime=A.window.Date.now()-A.window.performance.timing.navigationStart),t},n}(u.default);if(c.isReal()){D.TEST_VID=A.document.createElement("video");var P=A.document.createElement("track");P.kind="captions",P.srclang="en",P.label="English",D.TEST_VID.appendChild(P)}D.isSupported=function(){try{D.TEST_VID.volume=.5}catch(t){return!1}return!(!D.TEST_VID||!D.TEST_VID.canPlayType)},D.canControlVolume=function(){try{var t=D.TEST_VID.volume;return D.TEST_VID.volume=t/2+.1,t!==D.TEST_VID.volume}catch(t){return!1}},D.canControlPlaybackRate=function(){if(k.IS_ANDROID&&k.IS_CHROME&&k.CHROME_VERSION<58)return!1;try{var t=D.TEST_VID.playbackRate;return D.TEST_VID.playbackRate=t/2+.1,t!==D.TEST_VID.playbackRate}catch(t){return!1}},D.supportsNativeTextTracks=function(){return k.IS_ANY_SAFARI},D.supportsNativeVideoTracks=function(){return!(!D.TEST_VID||!D.TEST_VID.videoTracks)},D.supportsNativeAudioTracks=function(){return!(!D.TEST_VID||!D.TEST_VID.audioTracks)},D.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],D.prototype.featuresVolumeControl=D.canControlVolume(),D.prototype.featuresPlaybackRate=D.canControlPlaybackRate(),D.prototype.movingMediaElementInDOM=!k.IS_IOS,D.prototype.featuresFullscreenResize=!0,D.prototype.featuresProgressEvents=!0,D.prototype.featuresTimeupdateEvents=!0,D.prototype.featuresNativeTextTracks=D.supportsNativeTextTracks(),D.prototype.featuresNativeVideoTracks=D.supportsNativeVideoTracks(),D.prototype.featuresNativeAudioTracks=D.supportsNativeAudioTracks();var x=D.TEST_VID&&D.TEST_VID.constructor.prototype.canPlayType,B=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,O=/^video\/mp4/i;D.patchCanPlayType=function(){k.ANDROID_VERSION>=4&&!k.IS_FIREFOX?D.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&B.test(t)?"maybe":x.call(this,t)}:k.IS_OLD_ANDROID&&(D.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&O.test(t)?"maybe":x.call(this,t)})},D.unpatchCanPlayType=function(){var t=D.TEST_VID.constructor.prototype.canPlayType;return D.TEST_VID.constructor.prototype.canPlayType=x,t},D.patchCanPlayType(),D.disposeMediaElement=function(t){if(t){var n=t.nodeName.toLowerCase();if("video"===n||"audio"===n){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}}},D.resetMediaElement=function(t){if(t){for(var n=t.querySelectorAll("source"),i=n.length;i--;)t.removeChild(n[i]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){D.prototype[t]=function(){return this.yyt[t]||this.yyt.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){D.prototype["set"+(0,R.default)(t)]=function(n){this.yyt[t]=n,n?this.yyt.setAttribute(t,t):this.yyt.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){D.prototype[t]=function(){return this.yyt[t]}}),["volume","src","poster","preload","playbackRate"].forEach(function(t){D.prototype["set"+(0,R.default)(t)]=function(n){this.yyt[t]=n}}),["pause","load"].forEach(function(t){D.prototype[t]=function(){return this.yyt[t]()}}),u.default.withSourceHandlers(D),D.nativeSourceHandler={},D.nativeSourceHandler.canPlayType=function(t){try{return D.TEST_VID.canPlayType(t)}catch(t){return""}},D.nativeSourceHandler.canHandleSource=function(t,n){if(t.type)return D.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=l.getFileExtension(t.src);return D.nativeSourceHandler.canPlayType("video/"+i)}return""},D.nativeSourceHandler.handleSource=function(t,n,i){n.setSrc(t.src)},D.nativeSourceHandler.dispose=function(){},D.registerSourceHandler(D.nativeSourceHandler),a.default.registerComponent("Html5",D),u.default.registerTech("Html5",D),i.default=D},{121:121,5:5,62:62,78:78,81:81,83:83,85:85,87:87,88:88,89:89,92:92,93:93}],61:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(62),u=h(s),o=t(92),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,s){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,s));if(e.playerOptions.sources&&0!==e.playerOptions.sources.length)i.src(e.playerOptions.sources);else for(var h=0,c=e.playerOptions.techOrder;h<c.length;h++){var f=(0,a.default)(c[h]),l=u.default.getTech(f);if(f||(l=r.default.getComponent(f)),l&&l.isSupported()){i.dpt(f);break}}return o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(r.default);r.default.registerComponent("MediaLoader",c),i.default=c},{5:5,62:62,92:92}],62:[function(t,n,i){i.__esModule=!0;var e=t(5),r=P(e),s=t(66),u=P(s),o=t(65),a=P(o),h=t(88),c=P(h),f=t(72),d=P(f),g=t(70),m=P(g),y=t(76),p=P(y),_=t(63),b=P(_),k=t(83),A=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(k),T=t(87),S=P(T),E=t(91),I=t(79),R=t(46),C=P(R),N=t(85),D=t(89);function P(t){return t&&t.__esModule?t:{default:t}}var x=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),i.reportTouchActivity=!1;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,null,i,e));return r.qpt=!1,r.on("playing",function(){this.qpt=!0}),r.on("loadstart",function(){this.qpt=!1}),r.Lm=i.textTracks,r.xm=i.videoTracks,r.Om=i.audioTracks,r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===i["native"+t+"Tracks"]&&(r["featuresNative"+t+"Tracks"]=!1)}),!1===i.nativeCaptions&&(r.featuresNativeTextTracks=!1),r.featuresNativeTextTracks||r.emulateTextTracks(),r.dbt=new m.default,r.initTextTrackListeners(),r.initTrackListeners(),i.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.ci=r.constructor.name||"Unknown Tech"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(A.bind(this,function(){var t=this.bufferedPercent();this.wbt!==t&&this.trigger("progress"),this.wbt=t,1===t&&this.stopTrackingProgress()}),500)},n.prototype.onDurationChange=function(t){this.Yg=this.duration()},n.prototype.buffered=function(){return(0,E.createTimeRange)(0,0)},n.prototype.bufferedPercent=function(){return(0,I.bufferedPercent)(this.buffered(),this.Yg)},n.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},n.prototype.clearTracks=function(t){var n=this;(t=[].concat(t)).forEach(function(t){for(var i=n[t+"Tracks"]()||[],e=i.length;e--;){var r=i[e];"text"===t&&n.removeRemoteTextTrack(r),i.S_(r)}})},n.prototype.cleanupAutoTextTracks=function(){for(var t=this.dbt||[],n=t.length;n--;){var i=t[n];this.removeRemoteTextTrack(i)}},n.prototype.reset=function(){},n.prototype.error=function(t){return void 0!==t&&(this.wu=new C.default(t),this.trigger("error")),this.wu},n.prototype.played=function(){return this.qpt?(0,E.createTimeRange)(0,0):(0,E.createTimeRange)()},n.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.initTextTrackListeners=function(){var t=A.bind(this,function(){this.trigger("texttrackchange")}),n=this.textTracks();n&&(n.addEventListener("removetrack",t),n.addEventListener("addtrack",t),this.on("dispose",A.bind(this,function(){n.removeEventListener("removetrack",t),n.removeEventListener("addtrack",t)})))},n.prototype.initTrackListeners=function(){var t=this;["video","audio"].forEach(function(n){var i=function(){t.trigger(n+"trackchange")},e=t[n+"Tracks"]();e.addEventListener("removetrack",i),e.addEventListener("addtrack",i),t.on("dispose",function(){e.removeEventListener("removetrack",i),e.removeEventListener("addtrack",i)})})},n.prototype.gbt=function(){var t=this;if(!N.window.WebVTT)if(N.document.body.contains(this.el())){var n={};if(!this.kyt["vtt.js"]&&(0,D.isPlain)(n)&&w.keys(n).length>0)return void this.trigger("vttjsloaded");var i=N.document.createElement("script");i.src=this.kyt["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",i.onload=function(){t.trigger("vttjsloaded")},i.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){i.onload=null,i.onerror=null}),N.window.WebVTT=!0,this.el().parentNode.appendChild(i)}else this.ready(this.gbt)},n.prototype.emulateTextTracks=function(){var t=this,n=this.textTracks();if(n){var i=this.remoteTextTracks(),e=function(t){return n.T_(t.track)},r=function(t){return n.S_(t.track)};i.on("addtrack",e),i.on("removetrack",r),this.gbt();var s=function(){return t.trigger("texttrackchange")},u=function(){s();for(var t=0;t<n.length;t++){var i=n[t];i.removeEventListener("cuechange",s),"showing"===i.mode&&i.addEventListener("cuechange",s)}};u(),n.addEventListener("change",u),n.addEventListener("addtrack",u),n.addEventListener("removetrack",u),this.on("dispose",function(){i.off("addtrack",e),i.off("removetrack",r),n.removeEventListener("change",u),n.removeEventListener("addtrack",u),n.removeEventListener("removetrack",u);for(var t=0;t<n.length;t++){var o=n[t];o.removeEventListener("cuechange",s)}})}},n.prototype.videoTracks=function(){return this.xm=this.xm||new p.default,this.xm},n.prototype.audioTracks=function(){return this.Om=this.Om||new b.default,this.Om},n.prototype.textTracks=function(){return this.Lm=this.Lm||new m.default,this.Lm},n.prototype.remoteTextTracks=function(){return this.mbt=this.mbt||new m.default,this.mbt},n.prototype.remoteTextTrackEls=function(){return this.ybt=this.ybt||new a.default,this.ybt},n.prototype.addTextTrack=function(t,n,i){if(!t)throw new l("TextTrack kind is required but was not provided");return function(t,n,i,e){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=t.textTracks();r.kind=n,i&&(r.label=i),e&&(r.language=e),r.tech=t;var u=new d.default(r);return s.T_(u),u}(this,t,n,i)},n.prototype.createRemoteTextTrack=function(t){var n=(0,c.default)(t,{tech:this});return new u.default(n)},n.prototype.addRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=this.createRemoteTextTrack(t);return!0!==n&&!1!==n&&(S.default.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().nbt(i),this.remoteTextTracks().T_(i.track),!0!==n&&this.dbt.T_(i.track),i},n.prototype.removeRemoteTextTrack=function(t){var n=this.remoteTextTrackEls().Hyt(t);this.remoteTextTrackEls().pbt(n),this.remoteTextTracks().S_(t),this.dbt.S_(t)},n.prototype.getVideoPlaybackQuality=function(){return{}},n.prototype.setPoster=function(){},n.prototype.playsinline=function(){},n.prototype.setPlaysinline=function(){},n.prototype.canPlayType=function(){return""},n.isTech=function(t){return t.prototype instanceof n||t instanceof n||t===n},n.registerTech=function(t,i){if(n._bt||(n._bt={}),!n.isTech(i))throw new l("Tech "+t+" must be a Tech");return n._bt[t]=i,i},n.getTech=function(t){return n._bt&&n._bt[t]?n._bt[t]:N.window&&N.window.videojs&&N.window.videojs[t]?(S.default.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),N.window.videojs[t]):void 0},n}(r.default);x.prototype.Lm,x.prototype.Om,x.prototype.xm,x.prototype.featuresVolumeControl=!0,x.prototype.featuresFullscreenResize=!1,x.prototype.featuresPlaybackRate=!1,x.prototype.featuresProgressEvents=!1,x.prototype.featuresTimeupdateEvents=!1,x.prototype.featuresNativeTextTracks=!1,x.withSourceHandlers=function(t){t.registerSourceHandler=function(n,i){var e=t.sourceHandlers;e||(e=t.sourceHandlers=[]),void 0===i&&(i=e.length),e.splice(i,0,n)},t.canPlayType=function(n){for(var i=t.sourceHandlers||[],e=void 0,r=0;r<i.length;r++)if(e=i[r].canPlayType(n))return e;return""},t.selectSourceHandler=function(n,i){for(var e=t.sourceHandlers||[],r=0;r<e.length;r++)if(e[r].canHandleSource(n,i))return e[r];return null},t.canPlaySource=function(n,i){var e=t.selectSourceHandler(n,i);return e?e.canHandleSource(n,i):""},["seekable","duration"].forEach(function(t){var n=this[t];"function"==typeof n&&(this[t]=function(){return this.bbt&&this.bbt[t]?this.bbt[t].apply(this.bbt,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(n){var i=t.selectSourceHandler(n,this.kyt);return i||(t.nativeSourceHandler?i=t.nativeSourceHandler:S.default.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==t.nativeSourceHandler&&(this.uy=n,this.off(this.yyt,"loadstart",t.prototype.kbt),this.off(this.yyt,"loadstart",t.prototype.Abt),this.one(this.yyt,"loadstart",t.prototype.kbt)),this.bbt=i.handleSource(n,this,this.kyt),this.on("dispose",this.disposeSourceHandler),this},t.prototype.kbt=function(){this.one(this.yyt,"loadstart",t.prototype.Abt)},t.prototype.Abt=function(){this.disposeSourceHandler(),this.one(this.yyt,"loadstart",t.prototype.Abt)},t.prototype.disposeSourceHandler=function(){this.uy&&(this.clearTracks(["audio","video"]),this.uy=null),this.cleanupAutoTextTracks(),this.bbt&&(this.off(this.yyt,"loadstart",t.prototype.kbt),this.off(this.yyt,"loadstart",t.prototype.Abt),this.bbt.dispose&&this.bbt.dispose(),this.bbt=null)}},r.default.registerComponent("Tech",x),r.default.registerComponent("MediaTechController",x),x.registerTech("Tech",x),i.default=x},{46:46,5:5,63:63,65:65,66:66,70:70,72:72,76:76,79:79,83:83,85:85,87:87,88:88,89:89,91:91}],63:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t,n){for(var i=0;i<t.length;i++)n.id!==t[i].id&&(t[i].enabled=!1)},f=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);for(var r=void 0,u=e.length-1;u>=0;u--)if(e[u].enabled){c(e,e[u]);break}if(o.IS_IE8){for(var f in r=a.document.createElement("custom"),s.default.prototype)"constructor"!==f&&(r[f]=s.default.prototype[f]);for(var l in n.prototype)"constructor"!==l&&(r[l]=n.prototype[l])}return i=h(this,t.call(this,e,r)),(r=i).Tbt=!1,h(i,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.T_=function(n){var i=this;n.enabled&&c(this,n),t.prototype.T_.call(this,n),n.addEventListener&&n.addEventListener("enabledchange",function(){i.Tbt||(i.Tbt=!0,c(i,n),i.Tbt=!1,i.trigger("change"))})},n.prototype.addTrack=function(t){this.T_(t)},n.prototype.removeTrack=function(n){t.prototype.S_.call(this,n)},n}(s.default);i.default=f},{74:74,78:78,85:85}],64:[function(t,n,i){i.__esModule=!0;var e=t(73),r=t(75),s=c(r),u=t(88),o=c(u),a=t(78),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var l=function(t){function n(){var i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=(0,o.default)(r,{kind:e.AudioTrackKind[r.kind]||""}),u=i=f(this,t.call(this,s)),a=!1;if(h.IS_IE8)for(var c in n.prototype)"constructor"!==c&&(u[c]=n.prototype[c]);return w.defineProperty(u,"enabled",{get:function(){return a},set:function(t){"boolean"==typeof t&&t!==a&&(a=t,this.trigger("enabledchange"))}}),s.enabled&&(u.enabled=s.enabled),u.F_t=!0,f(i,u)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(s.default);i.default=l},{73:73,75:75,78:78,88:88}],65:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,t);var i=this;if(r.IS_IE8)for(var e in i=s.document.createElement("custom"),t.prototype)"constructor"!==e&&(i[e]=t.prototype[e]);i.Sbt=[],w.defineProperty(i,"length",{get:function(){return this.Sbt.length}});for(var u=0,o=n.length;u<o;u++)i.nbt(n[u]);if(r.IS_IE8)return i}return t.prototype.nbt=function(t){var n=this.Sbt.length;""+n in this||w.defineProperty(this,n,{get:function(){return this.Sbt[n]}}),-1===this.Sbt.indexOf(t)&&this.Sbt.push(t)},t.prototype.Hyt=function(t){for(var n=void 0,i=0,e=this.Sbt.length;i<e;i++)if(t===this.Sbt[i].track){n=this.Sbt[i];break}return n},t.prototype.pbt=function(t){for(var n=0,i=this.Sbt.length;n<i;n++)if(t===this.Sbt[n]){this.Sbt.splice(n,1);break}},t}();i.default=u},{78:78,85:85}],66:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=t(42),o=c(u),a=t(72),h=c(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var l=0,d=2,g=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var e=f(this,t.call(this)),u=void 0,o=e;if(r.IS_IE8)for(var a in o=s.document.createElement("custom"),n.prototype)"constructor"!==a&&(o[a]=n.prototype[a]);var c=new h.default(i);return o.kind=c.kind,o.src=c.src,o.srclang=c.language,o.label=c.label,o.default=c.default,w.defineProperty(o,"readyState",{get:function(){return u}}),w.defineProperty(o,"track",{get:function(){return c}}),u=l,c.addEventListener("loadeddata",function(){u=d,o.trigger({type:"load",target:o})}),r.IS_IE8?f(e,o):e}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(o.default);g.prototype.zyt={load:"load"},g.NONE=l,g.LOADING=1,g.LOADED=d,g.ERROR=3,i.default=g},{42:42,72:72,78:78,85:85}],67:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,t);var i=this;if(r.IS_IE8)for(var e in i=s.document.createElement("custom"),t.prototype)"constructor"!==e&&(i[e]=t.prototype[e]);if(t.prototype.Ebt.call(i,n),w.defineProperty(i,"length",{get:function(){return this.N_}}),r.IS_IE8)return i}return t.prototype.Ebt=function(t){var n=this.length||0,i=0,e=t.length;this.og=t,this.N_=t.length;var r=function(t){""+t in this||w.defineProperty(this,""+t,{get:function(){return this.og[t]}})};if(n<e)for(i=n;i<e;i++)r.call(this,i)},t.prototype.getCueById=function(t){for(var n=null,i=0,e=this.length;i<e;i++){var r=this[i];if(r.id===t){n=r;break}}return n},t}();i.default=u},{78:78,85:85}],68:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(83),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function c(t,n){return"rgba("+m(t[1]+t[1],16)+","+m(t[2]+t[2],16)+","+m(t[3]+t[3],16)+","+n+")"}function f(t,n,i){try{t.style[n]=i}catch(t){return}}var l=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return i.on("loadstart",o.bind(s,s.toggleDisplay)),i.on("texttrackchange",o.bind(s,s.updateDisplay)),i.ready(o.bind(s,function(){if(i.Pyt&&i.Pyt.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",o.bind(this,this.updateDisplay));for(var t=this.kyt.playerOptions.tracks||[],n=0;n<t.length;n++)this.wD.addRemoteTextTrack(t[n],!0);var e={captions:1,subtitles:1},r=this.wD.textTracks(),s=void 0,u=void 0;if(r){for(var a=0;a<r.length;a++){var h=r[a];h.default&&("descriptions"!==h.kind||s?h.kind in e&&!u&&(u=h):s=h)}u?u.mode="showing":s&&(s.mode="showing")}}})),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.toggleDisplay=function(){this.wD.Pyt&&this.wD.Pyt.featuresNativeTextTracks?this.hide():this.show()},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.prototype.clearDisplay=function(){"function"==typeof a.window.WebVTT&&a.window.WebVTT.processCues(a.window,[],this.yyt)},n.prototype.updateDisplay=function(){var t=this.wD.textTracks();if(this.clearDisplay(),t){for(var n=null,i=null,e=t.length;e--;){var r=t[e];"showing"===r.mode&&("descriptions"===r.kind?n=r:i=r)}i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n))}},n.prototype.updateForTrack=function(t){if("function"==typeof a.window.WebVTT&&t.activeCues){for(var n=this.wD.textTrackSettings.getValues(),i=[],e=0;e<t.activeCues.length;e++)i.push(t.activeCues[e]);a.window.WebVTT.processCues(a.window,i,this.yyt);for(var r=i.length;r--;){var s=i[r];if(s){var u=s.displayState;if(n.color&&(u.firstChild.style.color=n.color),n.textOpacity&&f(u.firstChild,"color",c(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(u.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&f(u.firstChild,"backgroundColor",c(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?f(u,"backgroundColor",c(n.windowColor,n.windowOpacity)):u.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?u.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===n.edgeStyle?u.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===n.edgeStyle?u.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===n.edgeStyle&&(u.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),n.fontPercent&&1!==n.fontPercent){var o=a.window.parseFloat(u.style.fontSize);u.style.fontSize=o*n.fontPercent+"px",u.style.height="auto",u.style.top="auto",u.style.bottom="2px"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=h[n.fontFamily])}}}},n}(s.default);s.default.registerComponent("TextTrackDisplay",l),i.default=l},{5:5,83:83,85:85}],69:[function(t,n,i){i.__esModule=!0;var e=function(t){var n=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(n,i,e){return t[i]&&(n[i]=t[i]),n},{cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})});return n};i.default={textTracksToJson:function(t){var n=t.$$("track"),i=Array.prototype.map.call(n,function(t){return t.track});return Array.prototype.map.call(n,function(t){var n=e(t.track);return t.src&&(n.src=t.src),n}).concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===i.indexOf(t)}).map(e))},jsonToTextTracks:function(t,n){return t.forEach(function(t){var i=n.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return i.addCue(t)})}),n.textTracks()},Ibt:e}},{}],70:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(83),o=f(u),a=t(78),h=f(a),c=t(85);function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function l(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var d=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=void 0;if(h.IS_IE8){for(var u in r=c.document.createElement("custom"),s.default.prototype)"constructor"!==u&&(r[u]=s.default.prototype[u]);for(var o in n.prototype)"constructor"!==o&&(r[o]=n.prototype[o])}return i=l(this,t.call(this,e,r)),l(i,r=i)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.T_=function(n){t.prototype.T_.call(this,n),n.addEventListener("modechange",o.bind(this,function(){this.trigger("change")}))},n}(s.default);i.default=d},{74:74,78:78,83:83,85:85}],71:[function(t,n,i){i.__esModule=!0;var e=t(85),r=t(5),s=g(r),u=t(81),o=t(83),a=d(o),h=t(89),c=d(h),f=t(87),l=g(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function g(t){return t&&t.__esModule?t:{default:t}}var m=["#000","Black"],y=["#00F","Blue"],p=["#0FF","Cyan"],_=["#0F0","Green"],b=["#F0F","Magenta"],k=["#F00","Red"],A=["#FFF","White"],T=["#FF0","Yellow"],S=["1","Opaque"],E=["0.5","Semi-Transparent"],I=["0","Transparent"],R={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[m,A,k,_,y,T,b,p]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[S,E,I]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[A,m,k,_,y,T,b,p]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[S,E]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[I,E,S]}};function C(t,n){if(n&&(t=n(t)),t&&"none"!==t)return t}R.windowColor.options=R.backgroundColor.options;var N=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.setDefaults(),r.hide(),r.updateDisplay=a.bind(r,r.updateDisplay),void 0===e.persistTextTrackSettings&&(r.kyt.persistTextTrackSettings=r.kyt.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",function(){r.saveSettings(),r.hide()}),r.on(r.$(".vjs-default-button"),"click",function(){r.setDefaults(),r.updateDisplay()}),c.each(R,function(t){r.on(r.$(t.selector),"change",r.updateDisplay)}),r.kyt.persistTextTrackSettings&&r.restoreSettings(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.Rbt=function(t){var n=this,i=R[t],e=i.id.replace("%s",this.X_);return[(0,u.createEl)("label",{className:"vjs-label",textContent:i.label},{for:e}),(0,u.createEl)("select",{id:e},void 0,i.options.map(function(t){return(0,u.createEl)("option",{textContent:n.localize(t[1]),value:t[0]})}))]},n.prototype.Cbt=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Text")}),n=this.Rbt("color"),i=(0,u.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.Rbt("textOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.Nbt=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Background")}),n=this.Rbt("backgroundColor"),i=(0,u.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.Rbt("backgroundOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.Dbt=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Window")}),n=this.Rbt("windowColor"),i=(0,u.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.Rbt("windowOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.Pbt=function(){return(0,u.createEl)("div",{className:"vjs-tracksettings-colors"},void 0,[this.Cbt(),this.Nbt(),this.Dbt()])},n.prototype.xbt=function(){var t=(0,u.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.Rbt("fontPercent")),n=(0,u.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.Rbt("edgeStyle")),i=(0,u.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.Rbt("fontFamily"));return(0,u.createEl)("div",{className:"vjs-tracksettings-font"},void 0,[t,n,i])},n.prototype.Bbt=function(){var t=(0,u.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),n=(0,u.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,u.createEl)("div",{className:"vjs-tracksettings-controls"},void 0,[t,n])},n.prototype.createEl=function(){var t=(0,u.createEl)("div",{className:"vjs-tracksettings"},void 0,[this.Pbt(),this.xbt(),this.Bbt()]),n=(0,u.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.X_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),i=(0,u.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.X_,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),e=(0,u.createEl)("div",void 0,{role:"document"},[n,i,t]);return(0,u.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":n.id,"aria-describedby":i.id},e)},n.prototype.getValues=function(){var t=this;return c.reduce(R,function(n,i,e){var r,s,u=(r=t.$(i.selector),s=i.parser,C(r.options[r.options.selectedIndex].value,s));return void 0!==u&&(n[e]=u),n},{})},n.prototype.setValues=function(t){var n=this;c.each(R,function(i,e){!function(t,n,i){if(n)for(var e=0;e<t.options.length;e++)if(C(t.options[e].value,i)===n){t.selectedIndex=e;break}}(n.$(i.selector),t[e],i.parser)})},n.prototype.setDefaults=function(){var t=this;c.each(R,function(n){var i=n.hasOwnProperty("default")?n.default:0;t.$(n.selector).selectedIndex=i})},n.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(e.window.localStorage.getItem("vjs-text-track-settings"))}catch(t){l.default.warn(t)}t&&this.setValues(t)},n.prototype.saveSettings=function(){if(this.kyt.persistTextTrackSettings){var t=this.getValues();try{w.keys(t).length?e.window.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):e.window.localStorage.removeItem("vjs-text-track-settings")}catch(t){l.default.warn(t)}}},n.prototype.updateDisplay=function(){var t=this.wD.getChild("textTrackDisplay");t&&t.updateDisplay()},n}(s.default);s.default.registerComponent("TextTrackSettings",N),i.default=N},{5:5,81:81,83:83,85:85,87:87,89:89}],72:[function(t,n,i){i.__esModule=!0;var e=t(67),r=T(e),s=t(83),u=A(s),o=t(73),a=t(87),h=T(a),c=t(85),f=t(75),d=T(f),g=t(93),m=t(122),y=T(m),p=t(88),_=T(p),b=t(78),k=A(b);function A(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function T(t){return t&&t.__esModule?t:{default:t}}function S(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var E=function(t,n){var i=new c.window.WebVTT.Parser(c.window,c.window.vttjs,c.window.WebVTT.StringDecoder()),e=[];i.oncue=function(t){n.addCue(t)},i.onparsingerror=function(t){e.push(t)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(t),e.length>0&&(c.window.console&&c.window.console.groupCollapsed&&c.window.console.groupCollapsed("Text Track parsing errors for "+n.src),e.forEach(function(t){return h.default.error(t)}),c.window.console&&c.window.console.groupEnd&&c.window.console.groupEnd()),i.flush()},I=function(t,n){var i={uri:t},e=(0,g.isCrossOrigin)(t);e&&(i.cors=e),(0,y.default)(i,u.bind(this,function(t,i,e){if(t)return h.default.error(t,i);if(n.F_t=!0,"function"!=typeof c.window.WebVTT){if(n.Pyt){var r=function(){return E(e,n)};n.Pyt.on("vttjsloaded",r),n.Pyt.on("vttjserror",function(){h.default.error("vttjs failed to load, stopping trying to process "+n.src),n.Pyt.off("vttjsloaded",r)})}}else E(e,n)}))},R=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),!e.tech)throw new l("A tech was not provided.");var s=(0,_.default)(e,{kind:o.TextTrackKind[e.kind]||"subtitles",language:e.language||e.srclang||""}),a=o.TextTrackMode[s.mode]||"disabled",h=s.default;"metadata"!==s.kind&&"chapters"!==s.kind||(a="hidden");var c=i=S(this,t.call(this,s));if(c.Pyt=s.tech,k.IS_IE8)for(var f in n.prototype)"constructor"!==f&&(c[f]=n.prototype[f]);c.og=[],c.ag=[];var d=new r.default(c.og),g=new r.default(c.ag),m=!1,y=u.bind(c,function(){this.activeCues,m&&(this.trigger("cuechange"),m=!1)});return"disabled"!==a&&c.Pyt.ready(function(){c.Pyt.on("timeupdate",y)},!0),w.defineProperty(c,"default",{get:function(){return h},set:function(){}}),w.defineProperty(c,"mode",{get:function(){return a},set:function(t){var n=this;o.TextTrackMode[t]&&("showing"===(a=t)&&this.Pyt.ready(function(){n.Pyt.on("timeupdate",y)},!0),this.trigger("modechange"))}}),w.defineProperty(c,"cues",{get:function(){return this.F_t?d:null},set:function(){}}),w.defineProperty(c,"activeCues",{get:function(){if(!this.F_t)return null;if(0===this.cues.length)return g;for(var t=this.Pyt.currentTime(),n=[],i=0,e=this.cues.length;i<e;i++){var r=this.cues[i];r.startTime<=t&&r.endTime>=t?n.push(r):r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t&&n.push(r)}if(m=!1,n.length!==this.ag.length)m=!0;else for(var s=0;s<n.length;s++)-1===this.ag.indexOf(n[s])&&(m=!0);return this.ag=n,g.Ebt(this.ag),g},set:function(){}}),s.src?(c.src=s.src,I(s.src,c)):c.F_t=!0,S(i,c)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addCue=function(t){var n=t;if(c.window.vttjs&&!(t instanceof c.window.vttjs.VTTCue)){for(var i in n=new c.window.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)i in n||(n[i]=t[i]);n.id=t.id,n.Obt=t}var e=this.Pyt.textTracks();if(e)for(var r=0;r<e.length;r++)e[r]!==this&&e[r].removeCue(n);this.og.push(n),this.cues.Ebt(this.og)},n.prototype.removeCue=function(t){for(var n=this.og.length;n--;){var i=this.og[n];if(i===t||i.Obt&&i.Obt===t){this.og.splice(n,1),this.cues.Ebt(this.og);break}}},n}(d.default);R.prototype.zyt={cuechange:"cuechange"},i.default=R},{122:122,67:67,73:73,75:75,78:78,83:83,85:85,87:87,88:88,93:93}],73:[function(t,n,i){i.__esModule=!0,i.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},i.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},i.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},i.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},{}],74:[function(t,n,i){i.__esModule=!0;var e,r=t(42),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=h(this,t.call(this));if(!e&&(e=r,o.IS_IE8))for(var s in e=a.document.createElement("custom"),n.prototype)"constructor"!==s&&(e[s]=n.prototype[s]);e.ZA=[],w.defineProperty(e,"length",{get:function(){return this.ZA.length}});for(var u=0;u<i.length;u++)e.T_(i[u]);return h(r,e)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.T_=function(t){var n=this.ZA.length;""+n in this||w.defineProperty(this,n,{get:function(){return this.ZA[n]}}),-1===this.ZA.indexOf(t)&&(this.ZA.push(t),this.trigger({track:t,type:"addtrack"}))},n.prototype.S_=function(t){for(var n=void 0,i=0,e=this.length;i<e;i++)if(this[i]===t){(n=this[i]).off&&n.off(),this.ZA.splice(i,1);break}n&&this.trigger({track:n,type:"removetrack"})},n.prototype.getTrackById=function(t){for(var n=null,i=0,e=this.length;i<e;i++){var r=this[i];if(r.id===t){n=r;break}}return n},n}(s.default);for(var f in c.prototype.zyt={change:"change",addtrack:"addtrack",removetrack:"removetrack"},c.prototype.zyt)c.prototype["on"+f]=null;i.default=c},{42:42,78:78,85:85}],75:[function(t,n,i){i.__esModule=!0;var e,r=t(78),s=f(r),u=t(85),o=t(86),a=f(o),h=t(42),c=(e=h)&&e.__esModule?e:{default:e};function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function l(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var d=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var e=l(this,t.call(this)),r=e;if(s.IS_IE8)for(var o in r=u.document.createElement("custom"),n.prototype)"constructor"!==o&&(r[o]=n.prototype[o]);var h={id:i.id||["vjs_track",a.newGUID()].join("_"),kind:i.kind||"",label:i.label||"",language:i.language||""},c=function(t){w.defineProperty(r,t,{get:function(){return h[t]},set:function(){}})};for(var f in h)c(f);return l(e,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(c.default);i.default=d},{42:42,78:78,85:85,86:86}],76:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t,n){for(var i=0;i<t.length;i++)n.id!==t[i].id&&(t[i].selected=!1)},f=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);for(var r=void 0,u=e.length-1;u>=0;u--)if(e[u].selected){c(e,e[u]);break}if(o.IS_IE8){for(var f in r=a.document.createElement("custom"),s.default.prototype)"constructor"!==f&&(r[f]=s.default.prototype[f]);for(var l in n.prototype)"constructor"!==l&&(r[l]=n.prototype[l])}return i=h(this,t.call(this,e,r)),(r=i).Tbt=!1,w.defineProperty(r,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),h(i,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.T_=function(n){var i=this;n.selected&&c(this,n),t.prototype.T_.call(this,n),n.addEventListener&&n.addEventListener("selectedchange",function(){i.Tbt||(i.Tbt=!0,c(i,n),i.Tbt=!1,i.trigger("change"))})},n.prototype.addTrack=function(t){this.T_(t)},n.prototype.removeTrack=function(n){t.prototype.S_.call(this,n)},n}(s.default);i.default=f},{74:74,78:78,85:85}],77:[function(t,n,i){i.__esModule=!0;var e=t(73),r=t(75),s=c(r),u=t(88),o=c(u),a=t(78),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var l=function(t){function n(){var i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=(0,o.default)(r,{kind:e.VideoTrackKind[r.kind]||""}),u=i=f(this,t.call(this,s)),a=!1;if(h.IS_IE8)for(var c in n.prototype)"constructor"!==c&&(u[c]=n.prototype[c]);return w.defineProperty(u,"selected",{get:function(){return a},set:function(t){"boolean"==typeof t&&t!==a&&(a=t,this.trigger("selectedchange"))}}),s.selected&&(u.selected=s.selected),f(i,u)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(s.default);i.default=l},{73:73,75:75,78:78,88:88}],78:[function(t,n,i){i.__esModule=!0,i.BACKGROUND_SIZE_SUPPORTED=i.TOUCH_ENABLED=i.IS_ANY_SAFARI=i.IS_SAFARI=i.IE_VERSION=i.IS_IE8=i.CHROME_VERSION=i.IS_CHROME=i.IS_EDGE=i.IS_FIREFOX=i.IS_NATIVE_ANDROID=i.IS_OLD_ANDROID=i.ANDROID_VERSION=i.IS_ANDROID=i.IOS_VERSION=i.IS_IOS=i.IS_IPOD=i.IS_IPHONE=i.IS_IPAD=void 0;var e,r=t(81),s=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(r),u=t(85),o=u.window.navigator&&u.window.navigator.userAgent||"",a=/AppleWebKit\/([\d.]+)/i.exec(o),h=a?y(a.pop()):null,c=i.IS_IPAD=/iPad/i.test(o),f=i.IS_IPHONE=/iPhone/i.test(o)&&!c,l=i.IS_IPOD=/iPod/i.test(o),v=i.IS_IOS=f||c||l;i.IOS_VERSION=(e=o.match(/OS (\d+)_/i))&&e[1]?e[1]:null;var d=i.IS_ANDROID=/Android/i.test(o),g=i.ANDROID_VERSION=function(){var t=o.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var n=t[1]&&y(t[1]),i=t[2]&&y(t[2]);return n&&i?y(t[1]+"."+t[2]):n||null}();i.IS_OLD_ANDROID=d&&/webkit/i.test(o)&&g<2.3,i.IS_NATIVE_ANDROID=d&&g<5&&h<537,i.IS_FIREFOX=/Firefox/i.test(o);var m,p,_=i.IS_EDGE=/Edge/i.test(o),b=i.IS_CHROME=!_&&/Chrome/i.test(o);i.CHROME_VERSION=function(){var t=o.match(/Chrome\/(\d+)/);return t&&t[1]?y(t[1]):null}(),i.IS_IE8=/MSIE\s8\.0/.test(o),i.IE_VERSION=(m=/MSIE\s(\d+)\.\d/.exec(o),!(p=m&&y(m[1]))&&/Trident\/7.0/i.test(o)&&/rv:11.0/.test(o)&&(p=11),p);var k=i.IS_SAFARI=/Safari/i.test(o)&&!b&&!d&&!_;i.IS_ANY_SAFARI=k||v,i.TOUCH_ENABLED=s.isReal()&&("ontouchstart"in u.window||u.window.DocumentTouch&&u.window.document instanceof u.window.DocumentTouch),i.BACKGROUND_SIZE_SUPPORTED=s.isReal()&&"backgroundSize"in u.window.document.createElement("video").style},{81:81,85:85}],79:[function(t,n,i){i.__esModule=!0,i.bufferedPercent=function(t,n){var i=0,r=void 0,s=void 0;if(!n)return 0;t&&t.length||(t=(0,e.createTimeRange)(0,0));for(var u=0;u<t.length;u++)r=t.start(u),(s=t.end(u))>n&&(s=n),i+=s-r;return i/n};var e=t(91)},{91:91}],80:[function(t,n,i){i.__esModule=!0,i.default=function(t,n){if(!t||!n)return"";if("function"==typeof e.window.getComputedStyle){var i=e.window.getComputedStyle(t);return i?i[n]:""}return t.currentStyle[n]||""};var e=t(85)},{85:85}],81:[function(t,n,i){i.__esModule=!0,i.$$=i.$=void 0;var e,r=((e=["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]).raw=["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],e);i.isReal=function(){return s.document===s.window.document&&void 0!==s.document.createElement},i.isEl=p,i.getEl=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),s.document.getElementById(t)},i.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=arguments[3],u=s.document.createElement(t);return w.getOwnPropertyNames(n).forEach(function(t){var i=n[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(h.default.warn((0,f.default)(r,t,i)),u.setAttribute(t,i)):"textContent"===t?b(u,i):u[t]=i}),w.getOwnPropertyNames(i).forEach(function(t){u.setAttribute(t,i[t])}),e&&D(u,e),u},i.textContent=b,i.insertElFirst=function(t,n){n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t)},i.getElData=function(t){var n=t[A];return n||(n=t[A]=o.newGUID()),k[n]||(k[n]={}),k[n]},i.hasElData=function(t){var n=t[A];return!!n&&!!w.getOwnPropertyNames(k[n]).length},i.removeElData=function(t){var n=t[A];if(n){delete k[n];try{delete t[A]}catch(n){t.removeAttribute?t.removeAttribute(A):t[A]=null}}},i.hasElClass=T,i.addElClass=S,i.removeElClass=E,i.toggleElClass=function(t,n,i){var e=T(t,n);if("function"==typeof i&&(i=i(t,n)),"boolean"!=typeof i&&(i=!e),i!==e)return i?S(t,n):E(t,n),t},i.setElAttributes=function(t,n){w.getOwnPropertyNames(n).forEach(function(i){var e=n[i];null==e||!1===e?t.removeAttribute(i):t.setAttribute(i,!0===e?"":e)})},i.getElAttributes=function(t){var n={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var e=t.attributes,r=e.length-1;r>=0;r--){var s=e[r].name,u=e[r].value;"boolean"!=typeof t[s]&&-1===i.indexOf(","+s+",")||(u=null!==u),n[s]=u}return n},i.getAttribute=function(t,n){return t.getAttribute(n)},i.setAttribute=function(t,n,i){t.setAttribute(n,i)},i.removeAttribute=function(t,n){t.removeAttribute(n)},i.blockTextSelection=function(){s.document.body.focus(),s.document.onselectstart=function(){return!1}},i.unblockTextSelection=function(){s.document.onselectstart=function(){return!0}},i.findElPosition=I,i.getPointerPosition=function(t,n){var i={},e=I(t),r=t.offsetWidth,s=t.offsetHeight,u=e.top,o=e.left,a=n.pageY,h=n.pageX;return n.changedTouches&&(h=n.changedTouches[0].pageX,a=n.changedTouches[0].pageY),i.y=g.max(0,g.min(1,(u-a+s)/s)),i.x=g.max(0,g.min(1,(h-o)/r)),i},i.isTextNode=R,i.emptyEl=C,i.normalizeContent=N,i.appendContent=D,i.insertContent=function(t,n){return D(C(t),n)};var s=t(85),u=t(86),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(87),h=d(a),c=t(121),f=d(c),v=t(89);function d(t){return t&&t.__esModule?t:{default:t}}function m(t){return"string"==typeof t&&/\S/.test(t)}function y(t){if(/\s/.test(t))throw new l("class has illegal whitespace characters")}function p(t){return(0,v.isObject)(t)&&1===t.nodeType}function _(t){return function(n,i){if(!m(n))return s.document[t](null);m(i)&&(i=s.document.querySelector(i));var e=p(i)?i:s.document;return e[t]&&e[t](n)}}function b(t,n){return void 0===t.textContent?t.innerText=n:t.textContent=n,t}var k={},A="vdata"+(new Date).getTime();function T(t,n){return y(n),t.classList?t.classList.contains(n):(i=n,new RegExp("(^|\\s)"+i+"($|\\s)")).test(t.className);var i}function S(t,n){return t.classList?t.classList.add(n):T(t,n)||(t.className=(t.className+" "+n).trim()),t}function E(t,n){return t.classList?t.classList.remove(n):(y(n),t.className=t.className.split(/\s+/).filter(function(t){return t!==n}).join(" ")),t}function I(t){var n=void 0;if(t.getBoundingClientRect&&t.parentNode&&(n=t.getBoundingClientRect()),!n)return{left:0,top:0};var i=s.document.documentElement,e=s.document.body,r=i.clientLeft||e.clientLeft||0,u=s.window.pageXOffset||e.scrollLeft,o=n.left+u-r,a=i.clientTop||e.clientTop||0,h=s.window.pageYOffset||e.scrollTop,c=n.top+h-a;return{left:g.round(o),top:g.round(c)}}function R(t){return(0,v.isObject)(t)&&3===t.nodeType}function C(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function N(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"==typeof t&&(t=t()),p(t)||R(t)?t:"string"==typeof t&&/\S/.test(t)?s.document.createTextNode(t):void 0}).filter(function(t){return t})}function D(t,n){return N(n).forEach(function(n){return t.appendChild(n)}),t}i.$=_("querySelector"),i.$$=_("querySelectorAll")},{121:121,85:85,86:86,87:87,89:89}],82:[function(t,n,i){i.__esModule=!0,i.fixEvent=d,i.on=y,i.off=p,i.trigger=function t(n,i,e){var r=s.hasElData(n)?s.getElData(n):{},u=n.parentNode||n.ownerDocument;if("string"==typeof i&&(i={type:i,target:n}),i=d(i),r.dispatcher&&r.dispatcher.call(n,i,e),u&&!i.isPropagationStopped()&&!0===i.bubbles)t.call(null,u,i,e);else if(!u&&!i.defaultPrevented){var o=s.getElData(i.target);i.target[i.type]&&(o.disabled=!0,"function"==typeof i.target[i.type]&&i.target[i.type](),o.disabled=!1)}return!i.defaultPrevented},i.one=function t(n,i,e){if(Array.isArray(i))return v(t,n,i,e);var r=function t(){p(n,i,t),e.apply(this,arguments)};r.guid=e.guid=e.guid||o.newGUID(),y(n,i,r)};var e,r=t(81),s=f(r),u=t(86),o=f(u),a=t(87),h=(e=a)&&e.__esModule?e:{default:e},c=t(85);function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function l(t,n){var i=s.getElData(t);0===i.handlers[n].length&&(delete i.handlers[n],t.removeEventListener?t.removeEventListener(n,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+n,i.dispatcher)),w.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===w.getOwnPropertyNames(i).length&&s.removeElData(t)}function v(t,n,i,e){i.forEach(function(i){t(n,i,e)})}function d(t){function n(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var e=t||c.window.event;for(var r in t={},e)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&e.preventDefault||(t[r]=e[r]));if(t.target||(t.target=t.srcElement||c.document),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){e.preventDefault&&e.preventDefault(),t.returnValue=!1,e.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){e.stopPropagation&&e.stopPropagation(),t.cancelBubble=!0,e.cancelBubble=!0,t.isPropagationStopped=n},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){e.stopImmediatePropagation&&e.stopImmediatePropagation(),t.isImmediatePropagationStopped=n,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!==t.clientX&&void 0!==t.clientX){var s=c.document.documentElement,u=c.document.body;t.pageX=t.clientX+(s&&s.scrollLeft||u&&u.scrollLeft||0)-(s&&s.clientLeft||u&&u.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||u&&u.scrollTop||0)-(s&&s.clientTop||u&&u.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var g=!1;!function(){try{var t=w.defineProperty({},"passive",{get:function(){g=!0}});c.window.addEventListener("test",null,t)}catch(t){}}();var m=["touchstart","touchmove"];function y(t,n,i){if(Array.isArray(n))return v(y,t,n,i);var e=s.getElData(t);if(e.handlers||(e.handlers={}),e.handlers[n]||(e.handlers[n]=[]),i.guid||(i.guid=o.newGUID()),e.handlers[n].push(i),e.dispatcher||(e.disabled=!1,e.dispatcher=function(n,i){if(!e.disabled){n=d(n);var r=e.handlers[n.type];if(r)for(var s=r.slice(0),u=0,o=s.length;u<o&&!n.isImmediatePropagationStopped();u++)try{s[u].call(t,n,i)}catch(t){h.default.error(t)}}}),1===e.handlers[n].length)if(t.addEventListener){var r=!1;g&&m.indexOf(n)>-1&&(r={passive:!0}),t.addEventListener(n,e.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+n,e.dispatcher)}function p(t,n,i){if(s.hasElData(t)){var e=s.getElData(t);if(e.handlers){if(Array.isArray(n))return v(p,t,n,i);var r=function(n){e.handlers[n]=[],l(t,n)};if(n){var u=e.handlers[n];if(u)if(i){if(i.guid)for(var o=0;o<u.length;o++)u[o].guid===i.guid&&u.splice(o--,1);l(t,n)}else r(n)}else for(var a in e.handlers)r(a)}}}},{81:81,85:85,86:86,87:87}],83:[function(t,n,i){i.__esModule=!0,i.throttle=i.bind=void 0;var e=t(86);i.bind=function(t,n,i){n.guid||(n.guid=(0,e.newGUID)());var r=function(){return n.apply(t,arguments)};return r.guid=i?i+"_"+n.guid:n.guid,r},i.throttle=function(t,n){var i=Date.now();return function(){var e=Date.now();e-i>=n&&(t.apply(void 0,arguments),i=e)}}},{86:86}],84:[function(t,n,i){i.__esModule=!0,i.default=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;t=t<0?0:t;var i=g.floor(t%60),e=g.floor(t/60%60),r=g.floor(t/3600),s=g.floor(n/60%60),u=g.floor(n/3600);return(p(t)||t===1/0)&&(r=e=i="-"),(r=r>0||u>0?r+":":"")+(e=((r||s>=10)&&e<10?"0"+e:e)+":")+(i=i<10?"0"+i:i)}},{}],85:[function(n,i,e){(function(n){e.__esModule=!0;var i=void 0!==r?r:void 0!==n?n:void 0!==t?t:{},u=void 0!==s?s:{createElement:function(){}};e.window=i,e.document=u}).call(this,void 0!==Or?Or:void 0!==t?t:void 0!==r?r:{})},{}],86:[function(t,n,i){i.__esModule=!0,i.newGUID=function(){return e++};var e=1},{}],87:[function(t,n,i){i.__esModule=!0,i.logByType=void 0;var e=t(85),r=t(78),s=t(89),u=void 0,o=i.logByType=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!r.IE_VERSION&&r.IE_VERSION<11;"log"!==t&&n.unshift(t.toUpperCase()+":"),u.history.push(n),n.unshift("VIDEOJS:");var o=e.window.console&&e.window.console[t];o&&(i&&(n=n.map(function(t){if((0,s.isObject)(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(n){return String(t)}return String(t)}).join(" ")),o.apply?o[Array.isArray(n)?"apply":"call"](e.window.console,n):o(n))};(u=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];o("log",n)}).history=[],u.error=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return o("error",n)},u.warn=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return o("warn",n)},i.default=u},{78:78,85:85,89:89}],88:[function(t,n,i){i.__esModule=!0,i.default=function t(){for(var n={},i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.forEach(function(i){i&&(0,e.each)(i,function(i,r){(0,e.isPlain)(i)?((0,e.isPlain)(n[r])||(n[r]={}),n[r]=t(n[r],i)):n[r]=i})}),n};var e=t(89)},{89:89}],89:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.each=u,i.reduce=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return s(t).reduce(function(i,e){return n(i,t[e],e)},i)},i.assign=function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];return w.assign?w.assign.apply(w,[t].concat(i)):(i.forEach(function(n){n&&u(n,function(n,i){t[i]=n})}),t)},i.isObject=o,i.isPlain=function(t){return o(t)&&"[object Object]"===r.call(t)&&t.constructor===w};var r=w.prototype.toString,s=function(t){return o(t)?w.keys(t):[]};function u(t,n){s(t).forEach(function(i){return n(t[i],i)})}function o(t){return!!t&&"object"===(void 0===t?"undefined":e(t))}},{}],90:[function(t,n,i){i.__esModule=!0,i.setTextContent=i.createStyleElement=void 0;var e=t(85);i.createStyleElement=function(t){var n=e.document.createElement("style");return n.className=t,n},i.setTextContent=function(t,n){t.styleSheet?t.styleSheet.cssText=n:t.textContent=n}},{85:85}],91:[function(t,n,i){i.__esModule=!0,i.createTimeRange=void 0,i.createTimeRanges=a;var e,r=t(87),s=(e=r)&&e.__esModule?e:{default:e};function u(t,n,i,e){return void 0===e&&(s.default.warn("DEPRECATED: Function '"+t+"' on 'TimeRanges' called without an index argument."),e=0),function(t,n,i){if(n<0||n>i)throw new l("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+n+") is greater than or equal to the maximum bound ("+i+").")}(t,e,i.length-1),i[e][n]}function o(t){return void 0===t||0===t.length?{length:0,start:function(){throw new l("This TimeRanges object is empty")},end:function(){throw new l("This TimeRanges object is empty")}}:{length:t.length,start:u.bind(null,"start",0,t),end:u.bind(null,"end",1,t)}}function a(t,n){return Array.isArray(t)?o(t):void 0===t||void 0===n?o():o([[t,n]])}i.createTimeRange=a},{87:87}],92:[function(t,n,i){i.__esModule=!0,i.default=function(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}},{}],93:[function(t,n,i){i.__esModule=!0,i.isCrossOrigin=i.getFileExtension=i.getAbsoluteURL=i.parseUrl=void 0;var e=t(85),r=i.parseUrl=function(t){var n=["protocol","hostname","port","pathname","search","hash","host"],i=e.document.createElement("a");i.href=t;var r=""===i.host&&"file:"!==i.protocol,s=void 0;r&&((s=e.document.createElement("div")).innerHTML='<a href="'+t+'"></a>',i=s.firstChild,s.setAttribute("style","display:none; position:absolute;"),e.document.body.appendChild(s));for(var u={},o=0;o<n.length;o++)u[n[o]]=i[n[o]];return"http:"===u.protocol&&(u.host=u.host.replace(/:80$/,"")),"https:"===u.protocol&&(u.host=u.host.replace(/:443$/,"")),r&&e.document.body.removeChild(s),u};i.getAbsoluteURL=function(t){if(!t.match(/^https?:\/\//)){var n=e.document.createElement("div");n.innerHTML='<a href="'+t+'">x</a>',t=n.firstChild.href}return t},i.getFileExtension=function(t){if("string"==typeof t){var n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t);if(n)return n.pop().toLowerCase()}return""},i.isCrossOrigin=function(t){var n=e.window.location,i=r(t),s=":"===i.protocol?n.protocol:i.protocol,u=s+i.host!==n.protocol+n.host;return u}},{85:85}],94:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=t(85),s=t(78),u=K(s),o=t(81),a=K(o),h=t(56),c=K(h),f=t(90),l=K(f),d=t(5),g=Z(d),m=t(42),y=Z(m),p=t(82),_=K(p),b=t(51),k=Z(b),A=t(52),T=Z(A),S=t(88),E=Z(S),I=t(83),R=K(I),C=t(72),N=Z(C),D=t(64),P=Z(D),x=t(77),B=Z(x),O=t(91),L=t(84),M=Z(L),j=t(87),F=Z(j),U=t(93),H=K(U),X=t(89),z=t(80),V=Z(z),W=t(43),q=Z(W),G=t(122),$=Z(G),Y=t(62),Q=Z(Y);function Z(t){return t&&t.__esModule?t:{default:t}}function K(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function J(t,n,i){var e=void 0;if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),J.getPlayers()[t])return n&&F.default.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&J.getPlayers()[t].ready(i),J.getPlayers()[t];e=a.getEl(t)}else e=t;if(!e||!e.nodeName)throw new v("The element or ID supplied is not valid. (videojs)");if(e.player||k.default.players[e.playerId])return e.player||k.default.players[e.playerId];n=n||{},J.hooks("beforesetup").forEach(function(t){var i=t(e,(0,E.default)(n));(0,X.isObject)(i)&&!Array.isArray(i)?n=(0,E.default)(n,i):F.default.error("please return an object in beforesetup hooks")});var r=g.default.getComponent("Player"),s=new r(e,n,i);return J.hooks("setup").forEach(function(t){return t(s)}),s}if("undefined"==typeof HTMLVideoElement&&a.isReal()&&(r.document.createElement("video"),r.document.createElement("audio"),r.document.createElement("track")),J.Lbt={},J.hooks=function(t,n){return J.Lbt[t]=J.Lbt[t]||[],n&&(J.Lbt[t]=J.Lbt[t].concat(n)),J.Lbt[t]},J.hook=function(t,n){J.hooks(t,n)},J.removeHook=function(t,n){var i=J.hooks(t).indexOf(n);return!(i<=-1||(J.Lbt[t]=J.Lbt[t].slice(),J.Lbt[t].splice(i,1),0))},!0!==r.window.VIDEOJS_NO_DYNAMIC_STYLE&&a.isReal()){var tt=a.$(".vjs-styles-defaults");if(!tt){tt=l.createStyleElement("vjs-styles-defaults");var nt=a.$("head");nt&&nt.insertBefore(tt,nt.firstChild),l.setTextContent(tt,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}c.autoSetupTimeout(1,J),J.VERSION="5.20.6-opentelly.7",J.options=k.default.prototype.kyt,J.getPlayers=function(){return k.default.players},J.players=k.default.players,J.getComponent=g.default.getComponent,J.registerComponent=function(t,n){Q.default.isTech(n)&&F.default.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),g.default.registerComponent.call(g.default,t,n)},J.getTech=Q.default.getTech,J.registerTech=Q.default.registerTech,J.browser=u,J.TOUCH_ENABLED=u.TOUCH_ENABLED,J.extend=q.default,J.mergeOptions=E.default,J.bind=R.bind,J.plugin=T.default,J.addLanguage=function(t,n){var i;return t=(""+t).toLowerCase(),J.options.languages=(0,E.default)(J.options.languages,((i={})[t]=n,i)),J.options.languages[t]},J.log=F.default,J.createTimeRange=J.createTimeRanges=O.createTimeRanges,J.formatTime=M.default,J.parseUrl=H.parseUrl,J.isCrossOrigin=H.isCrossOrigin,J.EventTarget=y.default,J.on=_.on,J.one=_.one,J.off=_.off,J.trigger=_.trigger,J.xhr=$.default,J.TextTrack=N.default,J.AudioTrack=P.default,J.VideoTrack=B.default,J.isEl=a.isEl,J.isTextNode=a.isTextNode,J.createEl=a.createEl,J.hasClass=a.hasElClass,J.addClass=a.addElClass,J.removeClass=a.removeElClass,J.toggleClass=a.toggleElClass,J.setAttributes=a.setElAttributes,J.getAttributes=a.getElAttributes,J.emptyEl=a.emptyEl,J.appendContent=a.appendContent,J.insertContent=a.insertContent,J.computedStyle=V.default,"object"===(void 0===i?"undefined":e(i))&&"object"===(void 0===n?"undefined":e(n))&&(n.exports=J),i.default=J},{122:122,42:42,43:43,5:5,51:51,52:52,56:56,62:62,64:64,72:72,77:77,78:78,80:80,81:81,82:82,83:83,84:84,85:85,87:87,88:88,89:89,90:90,91:91,93:93}],95:[function(t,n,i){var e=t(113),r="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),s=w.prototype.toString,u=Array.prototype.concat,o=w.defineProperty,a=o&&function(){var t={};try{for(var n in o(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),h=function(t,n,i,e){var r;n in t&&("function"!=typeof(r=e)||"[object Function]"!==s.call(r)||!e())||(a?o(t,n,{configurable:!0,enumerable:!1,value:i,writable:!0}):t[n]=i)},c=function(t,n){var i=arguments.length>2?arguments[2]:{},s=e(n);r&&(s=u.call(s,w.getOwnPropertySymbols(n)));for(var o=0;o<s.length;o+=1)h(t,s[o],n[s[o]],i[s[o]])};c.supportsDescriptors=!!a,n.exports=c},{113:113}],96:[function(t,n,i){var e=w.getOwnPropertyDescriptor?function(){return w.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new v},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,s=w.getPrototypeOf||function(t){return t.__proto__},u=void 0===_?void 0:s(_),o={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":r?s([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":l,"$ %ErrorPrototype%":l.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":p,"$ %IteratorPrototype%":r?s(s([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&r?s((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":g,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":w,"$ %ObjectPrototype%":w.prototype,"$ %ObjProto_toString%":w.prototype.toString,"$ %ObjProto_valueOf%":w.prototype.valueOf,"$ %parseFloat%":y,"$ %parseInt%":m,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&r?s((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":r?s(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":r?Symbol:void 0,"$ %SymbolPrototype%":r?Symbol.prototype:void 0,"$ %SyntaxError%":d,"$ %SyntaxErrorPrototype%":d.prototype,"$ %ThrowTypeError%":e,"$ %TypedArray%":u,"$ %TypedArrayPrototype%":u?u.prototype:void 0,"$ %TypeError%":v,"$ %TypeErrorPrototype%":v.prototype,"$ %Uint8Array%":void 0===_?void 0:_,"$ %Uint8ArrayPrototype%":void 0===_?void 0:_.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype};n.exports=function(t,n){if(arguments.length>1&&"boolean"!=typeof n)throw new v('"allowMissing" argument must be a boolean');var i="$ "+t;if(!(i in o))throw new d("intrinsic "+t+" does not exist!");if(void 0===o[i]&&!n)throw new v("intrinsic "+t+" exists, but is not available. Please file an issue!");return o[i]}},{}],97:[function(t,n,i){var e=t(96),r=e("%Object%"),s=e("%TypeError%"),u=e("%String%"),o=t(98),a=t(100),h=t(99),c=t(102),f=t(101),l=t(110),d=t(103),w=t(109),m={ToPrimitive:d,ToBoolean:function(t){return!!t},ToNumber:function(t){return+t},ToInteger:function(t){var n=this.ToNumber(t);return a(n)?0:0!==n&&h(n)?c(n)*g.floor(g.abs(n)):n},ToInt32:function(t){return this.ToNumber(t)>>0},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var n=this.ToNumber(t);if(a(n)||0===n||!h(n))return 0;var i=c(n)*g.floor(g.abs(n));return f(i,65536)},ToString:function(t){return u(t)},ToObject:function(t){return this.CheckObjectCoercible(t),r(t)},CheckObjectCoercible:function(t,n){if(null==t)throw new s(n||"Cannot call method on "+t);return t},IsCallable:l,SameValue:function(t,n){return t===n?0!==t||1/t==1/n:a(t)&&a(n)},Type:function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0},IsPropertyDescriptor:function(t){if("Object"!==this.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var i in t)if(w(t,i)&&!n[i])return!1;var e=w(t,"[[Value]]"),r=w(t,"[[Get]]")||w(t,"[[Set]]");if(e&&r)throw new s("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!(!w(t,"[[Get]]")&&!w(t,"[[Set]]")))},IsDataDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!(!w(t,"[[Value]]")&&!w(t,"[[Writable]]")))},IsGenericDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!this.IsAccessorDescriptor(t)&&!this.IsDataDescriptor(t))},FromPropertyDescriptor:function(t){if(void 0===t)return t;if(o(this,"Property Descriptor","Desc",t),this.IsDataDescriptor(t))return{value:t["[[Value]]"],writable:!!t["[[Writable]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};if(this.IsAccessorDescriptor(t))return{get:t["[[Get]]"],set:t["[[Set]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};throw new s("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(t){if("Object"!==this.Type(t))throw new s("ToPropertyDescriptor requires an object");var n={};if(w(t,"enumerable")&&(n["[[Enumerable]]"]=this.ToBoolean(t.enumerable)),w(t,"configurable")&&(n["[[Configurable]]"]=this.ToBoolean(t.configurable)),w(t,"value")&&(n["[[Value]]"]=t.value),w(t,"writable")&&(n["[[Writable]]"]=this.ToBoolean(t.writable)),w(t,"get")){var i=t.get;if(void 0!==i&&!this.IsCallable(i))throw new v("getter must be a function");n["[[Get]]"]=i}if(w(t,"set")){var e=t.set;if(void 0!==e&&!this.IsCallable(e))throw new s("setter must be a function");n["[[Set]]"]=e}if((w(n,"[[Get]]")||w(n,"[[Set]]"))&&(w(n,"[[Value]]")||w(n,"[[Writable]]")))throw new s("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return n}};n.exports=m},{100:100,101:101,102:102,103:103,109:109,110:110,96:96,98:98,99:99}],98:[function(t,n,i){var e=t(96),r=e("%TypeError%"),s=e("%SyntaxError%"),u=t(109),o={"Property Descriptor":function(t,n){if("Object"!==t.Type(n))return!1;var i={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var e in n)if(u(n,e)&&!i[e])return!1;var s=u(n,"[[Value]]"),o=u(n,"[[Get]]")||u(n,"[[Set]]");if(s&&o)throw new r("Property Descriptors may not be both accessor and data descriptors");return!0}};n.exports=function(t,n,i,e){var u=o[n];if("function"!=typeof u)throw new s("unknown record type: "+n);if(!u(t,e))throw new r(i+" must be a "+n);console.log(u(t,e),e)}},{109:109,96:96}],99:[function(t,n,i){var e=Number.isNaN||function(t){return t!=t};n.exports=Number.isFinite||function(t){return"number"==typeof t&&!e(t)&&t!==1/0&&t!==-1/0}},{}],100:[function(t,n,i){n.exports=Number.isNaN||function(t){return t!=t}},{}],101:[function(t,n,i){n.exports=function(t,n){var i=t%n;return g.floor(i>=0?i:i+n)}},{}],102:[function(t,n,i){n.exports=function(t){return t>=0?1:-1}},{}],103:[function(t,n,i){var e=w.prototype.toString,r=t(104),s=t(110),u={"[[DefaultValue]]":function(t){var n;if((n=arguments.length>1?arguments[1]:"[object Date]"===e.call(t)?String:Number)===String||n===Number){var i,u,o=n===String?["toString","valueOf"]:["valueOf","toString"];for(u=0;u<o.length;++u)if(s(t[o[u]])&&(i=t[o[u]](),r(i)))return i;throw new v("No default value")}throw new v("invalid [[DefaultValue]] hint supplied")}};n.exports=function(t){return r(t)?t:arguments.length>1?u["[[DefaultValue]]"](t,arguments[1]):u["[[DefaultValue]]"](t)}},{104:104,110:110}],104:[function(t,n,i){n.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}},{}],105:[function(t,n,i){var e=t(110),r=w.prototype.toString,s=w.prototype.hasOwnProperty;n.exports=function(t,n,i){if(!e(n))throw new v("iterator must be a function");var u;arguments.length>=3&&(u=i),"[object Array]"===r.call(t)?function(t,n,i){for(var e=0,r=t.length;e<r;e++)s.call(t,e)&&(null==i?n(t[e],e,t):n.call(i,t[e],e,t))}(t,n,u):"string"==typeof t?function(t,n,i){for(var e=0,r=t.length;e<r;e++)null==i?n(t.charAt(e),e,t):n.call(i,t.charAt(e),e,t)}(t,n,u):function(t,n,i){for(var e in t)s.call(t,e)&&(null==i?n(t[e],e,t):n.call(i,t[e],e,t))}(t,n,u)}},{110:110}],106:[function(t,n,i){var e=Array.prototype.slice,r=w.prototype.toString;n.exports=function(t){var n=this;if("function"!=typeof n||"[object Function]"!==r.call(n))throw new v("Function.prototype.bind called on incompatible "+n);for(var i,s=e.call(arguments,1),u=g.max(0,n.length-s.length),o=[],a=0;a<u;a++)o.push("$"+a);if(i=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof i){var r=n.apply(this,s.concat(e.call(arguments)));return w(r)===r?r:this}return n.apply(t,s.concat(e.call(arguments)))}),n.prototype){var h=function(){};h.prototype=n.prototype,i.prototype=new h,h.prototype=null}return i}},{}],107:[function(t,n,i){var e=t(106);n.exports=Function.prototype.bind||e},{106:106}],108:[function(n,i,e){(function(n){i.exports=void 0!==r?r:void 0!==n?n:void 0!==t?t:{}}).call(this,void 0!==Or?Or:void 0!==t?t:void 0!==r?r:{})},{}],109:[function(t,n,i){var e=t(107);n.exports=e.call(Function.call,w.prototype.hasOwnProperty)},{107:107}],110:[function(t,n,i){var e=Function.prototype.toString,r=/^\s*class\b/,s=function(t){try{var n=e.call(t);return r.test(n)}catch(t){return!1}},u=w.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;n.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(o)return function(t){try{return!s(t)&&(e.call(t),!0)}catch(t){return!1}}(t);if(s(t))return!1;var n=u.call(t);return"[object Function]"===n||"[object GeneratorFunction]"===n}},{}],111:[function(t,n,i){n.exports=function(t){var n=e.call(t);return"[object Function]"===n||"function"==typeof t&&"[object RegExp]"!==n||void 0!==r&&(t===r.setTimeout||t===r.alert||t===r.confirm||t===r.prompt)};var e=w.prototype.toString},{}],112:[function(t,n,i){var e;if(!w.keys){var s=w.prototype.hasOwnProperty,u=w.prototype.toString,o=t(114),a=w.prototype.propertyIsEnumerable,h=!a.call({toString:null},"toString"),c=a.call(function(){},"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(t){var n=t.constructor;return n&&n.prototype===t},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},g=function(){if(void 0===r)return!1;for(var t in r)try{if(!d["$"+t]&&s.call(r,t)&&null!==r[t]&&"object"==typeof r[t])try{l(r[t])}catch(t){return!0}}catch(t){return!0}return!1}();e=function(t){var n=null!==t&&"object"==typeof t,i="[object Function]"===u.call(t),e=o(t),a=n&&"[object String]"===u.call(t),d=[];if(!n&&!i&&!e)throw new v("Object.keys called on a non-object");var w=c&&i;if(a&&t.length>0&&!s.call(t,0))for(var m=0;m<t.length;++m)d.push(String(m));if(e&&t.length>0)for(var y=0;y<t.length;++y)d.push(String(y));else for(var p in t)w&&"prototype"===p||!s.call(t,p)||d.push(String(p));if(h)for(var _=function(t){if(void 0===r||!g)return l(t);try{return l(t)}catch(t){return!1}}(t),b=0;b<f.length;++b)_&&"constructor"===f[b]||!s.call(t,f[b])||d.push(f[b]);return d}}n.exports=e},{114:114}],113:[function(t,n,i){var e=Array.prototype.slice,r=t(114),s=w.keys,u=s?function(t){return s(t)}:t(112),o=w.keys;u.shim=function(){if(w.keys){var t=function(){var t=w.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(w.keys=function(t){return r(t)?o(e.call(t)):o(t)})}else w.keys=u;return w.keys||u},n.exports=u},{112:112,114:114}],114:[function(t,n,i){var e=w.prototype.toString;n.exports=function(t){var n=e.call(t),i="[object Arguments]"===n;return i||(i="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),i}},{}],115:[function(t,n,i){var e=t(118),r=t(105);n.exports=function(t){if(!t)return{};var n={};return r(e(t).split("\n"),function(t){var i,r=t.indexOf(":"),s=e(t.slice(0,r)).toLowerCase(),u=e(t.slice(r+1));void 0===n[s]?n[s]=u:(i=n[s],"[object Array]"===w.prototype.toString.call(i)?n[s].push(u):n[s]=[n[s],u])}),n}},{105:105,118:118}],116:[function(t,n,i){n.exports=function(t,n){var i,e=null;try{i=JSON.parse(t,n)}catch(t){e=t}return[e,i]}},{}],117:[function(t,n,i){var e=t(107),r=t(97),s=e.call(Function.call,String.prototype.replace),u=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,o=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;n.exports=function(){var t=r.ToString(r.CheckObjectCoercible(this));return s(s(t,u,""),o,"")}},{107:107,97:97}],118:[function(t,n,i){var e=t(107),r=t(95),s=t(117),u=t(119),o=t(120),a=e.call(Function.call,u());r(a,{getPolyfill:u,implementation:s,shim:o}),n.exports=a},{107:107,117:117,119:119,120:120,95:95}],119:[function(t,n,i){var e=t(117);n.exports=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()?String.prototype.trim:e}},{117:117}],120:[function(t,n,i){var e=t(95),r=t(119);n.exports=function(){var t=r();return e(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}},{119:119,95:95}],121:[function(t,n,i){function e(t){return t.replace(/\n\r?\s*/g,"")}n.exports=function(t){for(var n="",i=0;i<arguments.length;i++)n+=e(t[i])+(arguments[i+1]||"");return n}},{}],122:[function(t,n,i){var e=t(108),r=t(111),s=t(115),u=t(123);function o(t,n,i){var e=t;return r(n)?(i=n,"string"==typeof t&&(e={uri:t})):e=u(n,{uri:t}),e.callback=i,e}function c(t,n,i){return f(n=o(t,n,i))}function f(t){if(void 0===t.callback)throw new l("callback argument missing");var n=!1,i=function(i,e,r){n||(n=!0,t.callback(i,e,r))};function e(){var t=void 0;if(t=d.response?d.response:d.responseText||function(t){if("document"===t.responseType)return t.responseXML;var n=204===t.status&&t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||n?null:t.responseXML}(d),b)try{t=JSON.parse(t)}catch(t){}return t}var r={body:void 0,headers:{},statusCode:0,method:m,url:g,rawRequest:d};function u(t){return h(w),t instanceof l||(t=new l(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,i(t,r)}function o(){if(!v){var n;h(w),n=t.useXDR&&void 0===d.status?200:1223===d.status?204:d.status;var u=r,o=null;return 0!==n?(u={body:e(),statusCode:n,method:m,headers:{},url:g,rawRequest:d},d.getAllResponseHeaders&&(u.headers=s(d.getAllResponseHeaders()))):o=new l("Internal XMLHttpRequest Error"),i(o,u,u.body)}}var f,v,d=t.xhr||null;d||(d=t.cors||t.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var w,g=d.url=t.uri||t.url,m=d.method=t.method||"GET",y=t.body||t.data||null,p=d.headers=t.headers||{},_=!!t.sync,b=!1;if("json"in t&&(b=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==m&&"HEAD"!==m&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),y=JSON.stringify(t.json))),d.onreadystatechange=function(){4===d.readyState&&o()},d.onload=o,d.onerror=u,d.onprogress=function(){},d.ontimeout=u,d.open(m,g,!_,t.username,t.password),_||(d.withCredentials=!!t.withCredentials),!_&&t.timeout>0&&(w=a(function(){v=!0,d.abort("timeout");var t=new l("XMLHttpRequest timeout");t.code="ETIMEDOUT",u(t)},t.timeout)),d.setRequestHeader)for(f in p)p.hasOwnProperty(f)&&d.setRequestHeader(f,p[f]);else if(t.headers&&!function(t){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0}(t.headers))throw new l("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(d.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(d),d.send(y),d}n.exports=c,c.XMLHttpRequest=e.XMLHttpRequest||function(){},c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:e.XDomainRequest,function(t,n){for(var i=0;i<t.length;i++)n(t[i])}(["get","put","post","patch","head","delete"],function(t){c["delete"===t?"del":t]=function(n,i,e){return(i=o(n,i,e)).method=t.toUpperCase(),f(i)}})},{108:108,111:111,115:115,123:123}],123:[function(t,n,i){n.exports=function(){for(var t={},n=0;n<arguments.length;n++){var i=arguments[n];for(var r in i)e.call(i,r)&&(t[r]=i[r])}return t};var e=w.prototype.hasOwnProperty},{}]},{},[94])(94)),RY=10,CY=60;function NY(t){return t.duration()===1/0}function DY(t){return t.scrubbing()?t.getCache().currentTime:t.currentTime()}function PY(t){var n=OY(t);return NY(t)?n.end(n.length-1):n.start(0)}function xY(t){return OY(t).start(0)}function BY(t){var n=OY(t);return n.end(n.length-1)-n.start(0)}function OY(t){var n=t.seekable();if(n&&n.length)return n;var i=t.duration();return i=isFinite(i)?i:0,new fE([0,i]).ZN()}function LY(t,n){void 0===n&&(n=t);var i=t<0?"-":"";t=g.abs(t);var e=g.floor(t%60),r=g.floor(t/60%60),s=g.floor(t/3600),u=g.floor(n/60%60),o=g.floor(n/3600);return(p(t)||t===1/0)&&(s=r=e="-"),i+(s=s>0||o>0?s+":":"")+(r=((s||u>=10)&&r<10?"0"+r:r)+":")+(e=e<10?"0"+e:e)}function MY(){var t=DY(this);this.toggleClass("theo-at-live",function(t,n){if(NY(t)){var i=OY(t);return i.end(i.length-1)-n<RY}return!1}(this,t)),this.toggleClass("theo-dvr",function(t){return NY(t)&&BY(t)>=CY}(this))}!function(t){t.Mbt="theo",t.jbt="google-ima",t.Fbt="google-dai",t.Ubt="freewheel"}(SY||(SY={}));var jY="theo-ad-playing",FY="theo-dai-ad-playing";function UY(t,n){var i=function(n){var i,e=(null==(i=n.ad)?void 0:i.integration)===SY.Fbt;!function(t,n,i){var e="adbreakbegin"===n;t.toggleClass(jY,e),i?t.toggleClass(FY,e):t.toggleClass(FY,!1)}(t,n.type,e)};n&&(n.ads&&(n.ads.addEventListener("adbreakbegin",i),n.ads.addEventListener("adbreakend",i),n.addEventListener("sourcechange",i)),n.verizonMedia&&n.verizonMedia.ads.adBreaks.addEventListener("addadbreak",function(t){t.adBreak.addEventListener("adbreakbegin",i),t.adBreak.addEventListener("adbreakend",i)}))}function HY(){this.userActive(!1)}var XY,zY=function(t,n){this.type=void 0,this.target=void 0,this.playerEvent=void 0,this.type=t.type,this.target=n,this.playerEvent=t};!function(t){t.LOADED="F_t",t.AD_BREAK_STARTED="Hbt",t.AD_BREAK_ENDED="Xbt",t.AD_PERIOD_STARTED="zbt",t.AD_PERIOD_ENDED="Vbt",t.AD_PROGRESS="Wbt",t.CUEPOINTS_CHANGED="qbt",t.CLICK="Gbt",t.ERROR="wu",t.STARTED="$bt",t.FIRST_QUARTILE="Ybt",t.MIDPOINT="Qbt",t.STREAM_INITIALIZED="Zbt",t.THIRD_QUARTILE="Kbt",t.COMPLETE="pA"}(XY||(XY={}));var VY=["loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange","resize"],WY=IY.getTech("Tech"),qY=IY.getTech("Html5"),GY=function(t){function n(n,i){var e;void 0===n&&(n={}),(e=t.call(this,n,i)||this).Jbt=void 0,e.tkt=function(t){return e.qs(t)},e.nkt=!1,e.UU=function(){e.qs(new wp(e.Jbt.currentTime,e.Jbt.readyState)),e.qs(new xN)},e.ikt=function(t){e.textTracks().T_(t.track)},e.ekt=function(t){e.audioTracks().T_(t.track)},e.rkt=function(t){e.textTracks().S_(t.track)},e.skt=function(t){e.audioTracks().S_(t.track)},e.ukt=function(){var t=e.textTracks();t.trigger({type:"change",target:t,currentTarget:t,srcElement:t})},e.okt=function(){var t=e.audioTracks();t.trigger({type:"change",target:t,currentTarget:t,srcElement:t})},e.akt=function(){if(e.supportsFullScreen()){var t=e.nkt,n=e.Jbt.presentation.currentMode===DE.FULLSCREEN;t!==n&&(e.nkt=n,e.trigger("fullscreenchange",{isFullscreen:n}))}},e.kh=function(){var t=e.Jbt.error,n=t&&t.code||-1,i=t&&t.message||"An unknown error occurred.";e.error({code:n,message:e.localize(i)})},e.Jbt=e.kyt.player,e.hkt();var r=!e.paused();return r&&e.pause(),n.preload&&e.setPreload(n.preload),n.autoplay&&e.setAutoplay(n.autoplay),n.muted&&e.setMuted(n.muted),n.source?e.setSrc(n.source):e.tbt(),r&&e.ready(function(){return e.play()}),e.triggerReady(),e}E(n,t);var i=n.prototype;return i.hkt=function(){for(var t=0;t<VY.length;t++){var n=VY[t];this.Jbt.addEventListener(n,this.tkt)}this.Jbt.addEventListener("error",this.kh),this.Jbt.addEventListener("contentprotectionerror",this.kh),this.Jbt.addEventListener("sourcechange",this.UU),this.Jbt.presentation.addEventListener("presentationmodechange",this.akt),this.Jbt.textTracks.addEventListener("addtrack",this.ikt),this.Jbt.textTracks.addEventListener("removetrack",this.rkt),this.Jbt.textTracks.addEventListener("change",this.ukt),this.Jbt.audioTracks.addEventListener("addtrack",this.ekt),this.Jbt.audioTracks.addEventListener("removetrack",this.skt),this.Jbt.audioTracks.addEventListener("change",this.okt)},i.ckt=function(){for(var t=0;t<VY.length;t++){var n=VY[t];this.Jbt.removeEventListener(n,this.tkt)}this.Jbt.removeEventListener("error",this.kh),this.Jbt.removeEventListener("contentprotectionerror",this.kh),this.Jbt.removeEventListener("sourcechange",this.UU),this.Jbt.presentation.removeEventListener("presentationmodechange",this.akt),this.Jbt.textTracks.removeEventListener("addtrack",this.ikt),this.Jbt.textTracks.removeEventListener("removetrack",this.rkt),this.Jbt.textTracks.removeEventListener("change",this.ukt),this.Jbt.audioTracks.removeEventListener("addtrack",this.ekt),this.Jbt.audioTracks.removeEventListener("removetrack",this.skt),this.Jbt.audioTracks.removeEventListener("change",this.okt)},i.qs=function(t){this.trigger(new zY(t,this))},i.createEl=function(){var t=this.kyt,n=t.player;if(!n)throw new l(this.localize('Missing required tech option "player"'));var i=n.element;return IY.setAttributes(i,{id:t.techId}),i},i.theoplayer=function(){return this.Jbt},i.addTextTrack=function(n,i,e){return t.prototype.addTextTrack.call(this,n,i,e)},i.buffered=function(){return this.Jbt.buffered},i.played=function(){return this.Jbt.played},i.reset=function(){this.Jbt.stop()},i.play=function(){this.Jbt.play()},i.pause=function(){this.Jbt.pause()},i.paused=function(){return this.Jbt.paused},i.currentTime=function(){return this.Jbt.currentTime},i.setCurrentTime=function(t){this.Jbt.currentTime=t},i.duration=function(){return this.Jbt.duration},i.volume=function(){return this.Jbt.volume},i.setVolume=function(t){this.Jbt.volume=t},i.muted=function(){return this.Jbt.muted},i.setMuted=function(t){this.Jbt.muted=t},i.src=function(t){if(void 0!==t)this.setSrc(t);else{if(this.Jbt.src)return this.Jbt.src;if(this.Jbt.source){if(!cI(this.Jbt.source.ads))return this.Jbt.source.ads[0].sources;if(function(t){if(t.sources)if(X(t.sources))for(var n=0,i=t.sources;n<i.length;n++){var e=i[n];if(!q(e)&&"verizon-media"===e.integration)return!0}else if(!q(t.sources))return"verizon-media"===t.sources.integration;return!1}(this.Jbt.source))return"This source is managed by the Verizon Media integration extension.";if(function(t){if(t.sources)if(X(t.sources)){for(var n=0,i=t.sources;n<i.length;n++)if(ep(i[n]))return!0}else if(V(t.sources))return ep(t.sources);return!1}(this.Jbt.source))return"This source is managed by the DAI integration extension."}}},i.setSrc=function(t){return this.setSource({src:t})},i.setSource=function(t){this.wu=null,this.trigger("error")},i.currentSrc=function(){return this.Jbt.src},i.load=function(){this.setPreload("auto")},i.preload=function(){return this.Jbt.preload},i.setPreload=function(t){this.Jbt.preload=t},i.autoplay=function(){return this.Jbt.autoplay},i.setAutoplay=function(t){this.Jbt.autoplay=!!t},i.seeking=function(){return this.Jbt.seeking},i.seekable=function(){return this.Jbt.seekable},i.ended=function(){return this.Jbt.ended},i.playbackRate=function(){return this.Jbt.playbackRate},i.setPlaybackRate=function(t){this.Jbt.playbackRate=t},i.readyState=function(){return this.Jbt.readyState},i.networkState=function(){return 0},i.controls=function(){return!1},i.videoHeight=function(){return this.Jbt.videoHeight},i.videoWidth=function(){return this.Jbt.videoWidth},i.supportsFullScreen=function(){return this.Jbt.presentation.supportsMode(DE.FULLSCREEN)},i.enterFullScreen=function(){this.Jbt.presentation.requestMode(DE.FULLSCREEN)},i.exitFullScreen=function(){this.Jbt.presentation.requestMode(DE.INLINE)},i.fkt=function(){var t=this.Jbt.ads;if(t&&t.playing)return!0;var n=this.Jbt.vr;return!(!n||n.state===A$.Imt)},i.initTextTrackListeners=function(){var n=this;return this.on("touchend",function(t){n.fkt()&&(t.preventDefault=function(){})}),t.prototype.initTextTrackListeners.call(this)},i.tbt=function(){var t=this;if(this.src()){var n=this.readyState();if(0===n){var i=!1,e=function(){i=!0};this.on("loadstart",e);var r=function(){i||t.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready(function(){t.off("loadstart",e),t.off("loadedmetadata",r),i||t.trigger("loadstart")})}var s=["loadstart"];s.push("loadedmetadata"),n>=2&&s.push("loadeddata"),n>=3&&s.push("canplay"),n>=4&&s.push("canplaythrough"),this.ready(function(){for(var n=0;n<s.length;n++){var i=s[n];t.trigger(i)}})}},i.dispose=function(){this.ckt(),this.Jbt=null,t.prototype.dispose.call(this)},n.isSupported=function(){return!0},n.canPlayType=function(){return"maybe"},n.canPlaySource=function(t){return"maybe"},T(n,[{key:"featuresVolumeControl",get:function(){return _r}}]),n}(WY);function $Y(t){return function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).lkt=void 0,n}return E(n,t),n.prototype.dispose=function(){this.lkt=void 0,t.prototype.dispose.call(this)},T(n,[{key:"Jbt",get:function(){return this.lkt||(this.lkt=this.player().tech({IWillNotUseThisInPlugins:!0}).theoplayer()),this.lkt}}]),n}(t)}GY.prototype.featuresFullscreenResize=qY.prototype.featuresFullscreenResize,GY.prototype.featuresPlaybackRate=qY.prototype.featuresPlaybackRate,GY.prototype.featuresProgressEvents=!0,GY.prototype.featuresTimeupdateEvents=!0,GY.prototype.featuresNativeTextTracks=!0,IY.registerTech("THEOplayer",GY);var YY=function(t){var n=this;this.gD=void 0,this.vkt=function(t){rr(n.gD,"theo-mobile-button-hover"),t.stopImmediatePropagation()},this.dkt=function(t){sr(n.gD,"theo-mobile-button-hover")},this.wkt=function(t){n.gD.blur()},this.gD=t,t.addEventListener("touchstart",this.vkt),t.addEventListener("touchend",this.dkt),t.addEventListener("focusin",this.wkt)},QY=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.gkt=function(){rr(this.mkt,"theo-menu-opened")},i.Fc=function(){sr(this.mkt,"theo-menu-opened")},T(n,[{key:"mkt",get:function(){return this.player().el()}}]),n}($Y(IY.getComponent("Menu"))),ZY=function(t){function n(n,e,r){var s;return(s=t.call(this,n,Fr({selectable:!0},e))||this).ykt=void 0,s.pkt=!1,s.vkt=function(t){rr(s.el(),"theo-mobile-menu-item-hover"),t.stopImmediatePropagation()},s.dkt=function(t){sr(s.el(),"theo-mobile-menu-item-hover")},s.ykt=r,i.Or.fn&&(s.el().addEventListener("touchstart",s.vkt),s.el().addEventListener("touchend",s.dkt)),s}E(n,t);var e=n.prototype;return e.buildCSSClass=function(){return"theo-menu-item vjs-menu-item"},e.createEl=function(){var n=t.prototype.createEl.call(this,"li",{className:this.buildCSSClass(),tabIndex:0},{"aria-live":"off","aria-label":""});return n.innerHTML="",n},e.handleClick=function(t){this.pkt||(this.parentMenu._kt(this),"tap"!==t.type&&"keydown"!==t.type||(this.pkt=!0,this.trigger("click"),this.pkt=!1))},e.dispose=function(){i.Or.fn&&(this.el().removeEventListener("touchstart",this.vkt),this.el().removeEventListener("touchend",this.dkt)),t.prototype.dispose.call(this)},T(n,[{key:"parentMenu",get:function(){return this.ykt}}]),n}($Y(IY.getComponent("MenuItem"))),KY=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).ykt=void 0,r.pkt=!1,r.bkt=!1,r.ykt=e,r.on(n,"languagechange",r.kkt),r}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-primary-background theo-menu-header"},i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-live":"off","aria-label":""});return n.innerHTML="",n},i.handleClick=function(t){!this.pkt&&this.Akt&&(this.ykt.Tkt(),"tap"===t.type&&(this.pkt=!0,this.trigger("click"),this.pkt=!1))},i.kkt=function(){this.Akt?this.el().setAttribute("aria-label",this.localize("Go back to the previous menu")):this.el().setAttribute("aria-label","")},T(n,[{key:"parentMenu",get:function(){return this.ykt}},{key:"Akt",get:function(){return this.bkt},set:function(t){this.bkt=t,this.el().setAttribute("tabindex",this.Akt?"0":"-1"),this.kkt()}}]),n}(IY.getComponent("ClickableComponent")),JY=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.Skt=function(t){this.Ikt.Ekt(t,"replace")},i.Rkt=function(t){t.Ikt.Ekt(this,"restore")},i.Qm=function(){sr(this.Ckt,"vjs-hidden"),this.Ckt.style.opacity="1",t.prototype.show.call(this)},i.Zm=function(){rr(this.Ckt,"vjs-hidden")},i.gkt=function(){this.Ikt&&this.Ikt.gkt(),t.prototype.gkt.call(this)},i.Fc=function(){this.Ikt&&this.Ikt.Fc(),t.prototype.Fc.call(this),rr(this.Ckt,"vjs-hidden")},i.Nkt=function(){if(this.Ikt&&this.Ikt.Dkt)return this.Ikt.Dkt.Ckt},i.Pkt=function(n,i){if(i.length>0){var e=i[0].height,r=i[0].width;this.xkt.wy.style.height=e+"px",this.xkt.wy.style.width=r+"px"}t.prototype.Pkt.call(this,n,i)},T(n,[{key:"Ikt",get:function(){return this.xkt},set:function(t){this.xkt&&this.xkt.Bkt(this),this.xkt=t,t&&t.Okt(this)}}]),n}(function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Lkt=void 0,e.Mkt=function(){return e.jkt()},e.Lkt=e.player().el(),e.hide(),e.on("menuchange",e.jkt),e}E(n,t);var e=n.prototype;return e.addMenuItem=function(t){t=Fr({playerOptions:this.kyt.playerOptions},t);var n=new ZY(this.player(),t,this);return this.addChild(n,void 0,t.index),this.trigger("menuchange"),n},e.addSubMenuItem=function(t){t=Fr({playerOptions:this.kyt.playerOptions},t);var n=this.Fkt(this.player(),t);return this.addChild(n,void 0,t.index),this.trigger("menuchange"),n},e.removeMenuItem=function(t){this.removeChild(t),this.trigger("menuchange")},e.buildCSSClass=function(){return"theo-menu vjs-menu"},e.gkt=function(){t.prototype.gkt.call(this),r.removeEventListener("resize",this.Mkt),r.addEventListener("resize",this.Mkt),this.show()},e.jkt=function(){var t=this.Nkt();if(t){var n=t.getClientRects();i.Or.fn?this.Ukt(t,n):this.Pkt(t,n)}},e.Nkt=function(){var t;return null!=(t=this.contentEl().parentElement)?t:void 0},e.Pkt=function(t,n){},e.Ukt=function(t,n){},e.Fc=function(){r.removeEventListener("resize",this.Mkt),t.prototype.Fc.call(this),this.hide(),i.Or.fn&&(this.el().removeAttribute("style"),this.contentEl().removeAttribute("style"))},e.createEl=function(){var n=t.prototype.createEl.call(this);n.className=this.buildCSSClass();var i=this.contentEl();rr(i,"theo-menu-content");var e=new KY(this.player(),this.kyt,this);return i.parentNode.insertBefore(e.el(),i),this.Hkt=e,n},e._kt=function(t){},e.show=function(){return this.jkt(),t.prototype.show.call(this)},e.dispose=function(){this.Hkt&&this.Hkt.dispose(),t.prototype.dispose.call(this)},T(n,[{key:"menuHeader",get:function(){return this.Hkt}},{key:"menuItems",get:function(){return this.children()}}]),n}(QY)),tQ=function(){function t(t){this.Xkt=void 0,this.zkt=void 0,this.gD=void 0,this.Lkt=void 0,this.zkt=this.Xkt=t,this.gD=s.createElement("div"),this.gD.className="theo-tertiary-background theo-menu-animation-container",this.gD.appendChild(this.zkt.Ckt),this.Lkt=this.Xkt.player().el()}var n=t.prototype;return n.Okt=function(t){t.Zm(),this.gD.appendChild(t.Ckt)},n.Bkt=function(t){this.gD.removeChild(t.Ckt)},n.Ekt=function(t,n){if(t!=this.Xkt){var e=this.Xkt;if(this.Xkt=t,this.Xkt.Qm(),this.Dkt.focus(),i.Or.fn)e.Zm();else{var r=ER("transform");e.Ckt.style.opacity="0",e.Ckt.style[r]="replace"===n?"translateX(-100%)":"translateX(100%)",this.Xkt.Ckt.style.opacity="1",this.Xkt.Ckt.style[r]="",a(function(){e.Zm(),e.Ckt.style[r]=""},300)}}},n.gkt=function(){this.Vkt(),this.Xkt.Qm(),this.Wkt()},n.Fc=function(){this.Vkt(),this.Xkt.Zm(),this.zkt.Zm(),this.Xkt=this.zkt,this.Wkt()},n.Wkt=function(){var t=this;_R(function(){sr(t.gD,"theo-no-transition"),sr(t.Xkt.Ckt,"theo-no-transition")})},n.Vkt=function(){rr(this.gD,"theo-no-transition"),rr(this.Xkt.Ckt,"theo-no-transition")},T(t,[{key:"wy",get:function(){return this.gD}},{key:"Dkt",get:function(){return this.Xkt}}]),t}(),nQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).qkt=void 0,r.Gkt=!1,r.qkt=e,r.menuHeader.Akt=!0,r}E(n,t);var i=n.prototype;return i.Fkt=function(t,n){var i=new iQ(t,n,this);return i.subMenu.Ikt=this.Ikt,i},i.Tkt=function(){this.$kt()},i._kt=function(n){t.prototype._kt.call(this,n),this.$kt()},i.$kt=function(){this.parentMenu.Rkt(this)},i.buildCSSClass=function(){return"theo-submenu "+(this.Gkt?"":"theo-leaf-submenu ")+"theo-menu-content theo-menu-content-animatable "+t.prototype.buildCSSClass.call(this)},i.addSubMenuItem=function(n){this.Gkt=!0;var i=t.prototype.addSubMenuItem.call(this,n);return this.removeClass("theo-leaf-submenu"),i},T(n,[{key:"Ckt",get:function(){return this.el()}},{key:"parentMenu",get:function(){return this.qkt}}]),n}(JY),iQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,Fr({selectable:!1},i),e)||this).Ykt=void 0,r.Ykt=new nQ(n,i,e),r}return E(n,t),n.prototype.handleClick=function(t){this.parentMenu.Skt(this.subMenu)},T(n,[{key:"subMenu",get:function(){return this.Ykt}}]),n}(ZY),eQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).Qkt=void 0,r.Zkt=!1,r.Qkt=e,r}E(n,t);var i=n.prototype;return i.createEl=function(){var n=IY.createEl("div",{className:this.buildCSSClass()});return this.Kkt=t.prototype.createEl.call(this),this.Kkt.className=t.prototype.buildCSSClass.call(this),rr(this.Kkt,"theo-menu-content-animatable"),n.appendChild(this.Kkt),this.Ikt=new tQ(this),n.appendChild(this.Ikt.wy),n},i.buildCSSClass=function(){return"theo-menu-animatable "+t.prototype.buildCSSClass.call(this)},i.Fkt=function(t,n){var i=new iQ(t,n,this);return i.subMenu.Ikt=this.Ikt,i},i.Pkt=function(n,i){t.prototype.Pkt.call(this,n,i);var e=this.Lkt.getClientRects(),r=e.length>0?e[0]:void 0,s=y(getComputedStyle(this.el()).fontSize);cB(this.el(),this.Qkt.el(),r,s)},i.Tkt=function(){this.Qkt.closeMenu()},i.dispose=function(){this.Zkt||(this.Zkt=!0,t.prototype.dispose.call(this))},T(n,[{key:"menuButton",get:function(){return this.Qkt}},{key:"Ckt",get:function(){return this.Kkt}}]),n}(JY),rQ=function(){function t(t,n){var i=this;this.Jkt=void 0,this.tAt=void 0,this.nAt=function(){sr(i.Jkt,"vjs-hidden");var t=i.tAt.player().contentEl().getClientRects(),n=t.length>0?t[0]:void 0,e=y(getComputedStyle(i.Jkt).fontSize);cB(i.Jkt,i.tAt.el(),n,e)},this.iAt=function(){rr(i.Jkt,"vjs-hidden")},this.eAt=function(){return i.rAt()},this.tAt=t,cr(t.el()),t.el().addEventListener("mouseover",function(t){cr(t.target)}),this.Jkt=s.createElement("span"),this.Jkt.innerHTML=this.tAt.localize(n),this.Jkt.className="theo-button-tooltip vjs-hidden",this.Jkt.setAttribute("aria-hidden","true"),this.tAt.el().appendChild(this.Jkt),this.tAt.on("mouseover",this.nAt),this.tAt.on("mouseout",this.iAt),this.tAt.on("dispose",this.eAt)}return t.prototype.rAt=function(){this.tAt.off("mouseover",this.nAt),this.tAt.off("mouseout",this.iAt),this.tAt.off("dispose",this.eAt),tr(this.Jkt)},T(t,[{key:"sAt",get:function(){return this.Jkt.textContent||""},set:function(t){this.Jkt.innerHTML=this.tAt.localize(t),this.iAt(),this.nAt(),cr(this.tAt.el())}}]),t}(),sQ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).uAt=void 0,r.Jkt=void 0,r.oAt=!1,r.aAt=1,r.My=!0,r.hAt=function(t){var n,e=r.el().contains(t.target),s=r.uAt.el().contains(t.target),u=!1;i.Or.fn&&r.cAt&&(u=(null==(n=r.el().parentElement)?void 0:n.querySelector(".theo-mobile-menu-background"))===t.target);e||s||!r.oAt||(u&&t.preventDefault(),r.closeMenu())},r.fAt=function(t){27===t.which&&(r.closeMenu(),r.focus())},r.sW=function(){r.oAt&&r.closeMenu()},r.lAt=function(){r.uAt.menuItems.length>=r.aAt?r.show():(r.closeMenu(),r.hide())},r.uAt=new eQ(n,e,Kt(r)),r.player().getChild("controlBarMenuContainer").addChild(r.uAt),r.Jkt=new rQ(Kt(r),r.controlText()),r.el().setAttribute("aria-haspopup","true"),i.Or.Wt?(r.on(s,"touchend",r.hAt),new YY(r.el())):(r.on(s,"click",r.hAt),r.on(s,"keydown",r.fAt),r.on(s,PR.jO,r.closeMenu)),r.Jbt.addEventListener("seeking",r.sW),r.on(r.uAt,"menuchange",r.lAt),r.on(n,"languagechange",r.kkt),r.lAt(),r}E(n,t);var e=n.prototype;return e.isMenuOpen=function(){return this.oAt},e.openMenu=function(){this.My&&!this.oAt&&(this.uAt.gkt(),this.el().setAttribute("aria-expanded","true"),this.oAt=!0,this.uAt.focus())},e.closeMenu=function(){this.My&&this.oAt&&(this.uAt.Fc(),this.el().setAttribute("aria-expanded","false"),this.oAt=!1)},e.buildCSSClass=function(){return"theo-controlbar-button vjs-menu-button vjs-menu-button-popup "+t.prototype.buildCSSClass.call(this)},e.createEl=function(n,i,e){return t.prototype.createEl.call(this,"button",{},{"aria-live":"off"})},e.handleClick=function(){this.oAt?this.closeMenu():this.openMenu()},e.enable=function(){return this.My=!0,t.prototype.enable.call(this)},e.disable=function(){return this.closeMenu(),this.My=!1,t.prototype.disable.call(this)},e.kkt=function(){this.Jkt.sAt=this.controlText()},e.dispose=function(){this.player().removeChild(this.uAt),this.uAt.dispose(),this.Jkt.rAt(),this.Jbt.removeEventListener("seeking",this.sW),t.prototype.dispose.call(this)},T(n,[{key:"cAt",get:function(){var t=this.el().parentElement;return!!t&&null!==t.querySelector(".theo-mobile-menu-background")}},{key:"menu",get:function(){return this.uAt}},{key:"minimumMenuItems",set:function(t){this.aAt=t,this.lAt()}}]),n}($Y(IY.getComponent("Button"))),uQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).vAt=void 0,e.vAt=i.dAt,e}E(n,t);var i=n.prototype;return i.handleFocus=function(n){t.prototype.handleFocus.call(this,n),this.vAt.addClass("focus-within")},i.handleBlur=function(n){t.prototype.handleBlur.call(this,n),this.vAt.removeClass("focus-within")},n}(IY.getComponent("VolumeBar")),oQ=IY.getComponent("VolumeControl"),aQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).wAt=void 0,e.wAt=new uQ(n,{dAt:Kt(e)}),e.addChild(e.wAt),e}return E(n,t),n}(oQ);aQ.prototype.kyt=Fr({},oQ.prototype.kyt,{children:[]}),IY.registerComponent("VolumeControl",aQ);var hQ=IY.getComponent("ControlBar"),cQ=IY.getComponent("Component"),fQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).addChild("THEOControlBarShadow",void 0,0),e}E(n,t);var i=n.prototype;return i.addMenuButton=function(t){t=Fr({playerOptions:this.kyt.playerOptions},t);var n=new sQ(this.player(),t);return this.addChild(n),n},i.removeMenuButton=function(t){this.removeChild(t)},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-secondary-color vjs-control-bar "+t.prototype.buildCSSClass.call(this)},n}(hQ),lQ=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i.buildCSSClass=function(){return"theo-tertiary-color theo-control-bar-shadow"},n}(cQ);fQ.prototype.kyt=Fr({},hQ.prototype.kyt,{children:["progressControl","playToggle","muteToggle","volumeControl","currentTimeDisplay","timeDivider","durationDisplay","liveDisplay","remainingTimeDisplay","customControlSpacer","activeQualityLabel","vrButton","descriptionsButton","subtitlesButton","chromecastButton","airplayButton","audioTrackButton","SettingsButton","fullscreenToggle"]}),IY.registerComponent("ControlBar",fQ),IY.registerComponent("THEOControlBarShadow",lQ);var vQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).on(n,"timeupdate",e.updateContent),e.on(n,"emptied",e.updateContent),e}return E(n,t),n.prototype.updateContent=function(){var t=this.player(),n=DY(t),i=xY(t),e=this.localize("Current Time"),r=LY(g.max(0,n-i),BY(t));r!==this.Xyt&&(this.Xyt=r,this.contentEl().innerHTML='<span class="vjs-control-text">'+e+"</span> "+r)},n}(IY.getComponent("CurrentTimeDisplay"));IY.registerComponent("CurrentTimeDisplay",vQ);var dQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).gAt=function(){return e.updateContent()},e.off(n,"durationchange",e.updateContent),e.on(n,"durationchange",e.updateContent),e.off(n,"timeupdate",e.updateContent),e.on(n,"timeupdate",e.updateContent),e.off(n,"emptied",e.updateContent),e.on(n,"emptied",e.updateContent),e.Jbt&&e.Jbt.clip.addEventListener("change",e.gAt),e}return E(n,t),n.prototype.updateContent=function(){var t=p(this.Jbt.duration)?NaN:BY(this.player()),n=this.Jbt.clip.endTime-this.Jbt.clip.startTime,i=g.min(t,n)||0;if(this.Yg!==i){this.Yg=i;var e=this.localize("Duration Time"),r=LY(i);this.Eyt.innerHTML='<span class="vjs-control-text">'+e+"</span> "+r}},n}($Y(IY.getComponent("DurationDisplay")));IY.registerComponent("DurationDisplay",dQ);var wQ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).controlText("Live"),r.mAt(),r.on(r.player(),"durationchange",r.mAt),i.Or.Wt&&new YY(r.el()),r}E(n,t);var e=n.prototype;return e.buildCSSClass=function(){return"theo-live-control "+t.prototype.buildCSSClass.call(this)},e.createEl=function(){var n=t.prototype.createEl.call(this,"button",{},{"aria-live":"off"});return this.yAt=IY.createEl("span",{className:"theo-live-control-indicator"}),n.insertBefore(this.yAt,n.firstChild),n},e.createControlTextEl=function(n){var i=t.prototype.createControlTextEl.call(this,n);return IY.removeClass(i,"vjs-control-text"),IY.addClass(i,"theo-live-control-text"),i},e.handleClick=function(){var t,n=this.Jbt;if(void 0!==(null==(t=n.hesp)?void 0:t.manifest))n.hesp.goLive();else{var i=this.player();i.currentTime(PY(i)),i.play()}},e.mAt=function(){NY(this.player())?this.show():this.hide()},n}($Y(IY.getComponent("Button")));IY.registerComponent("LiveDisplay",wQ);var gQ=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-secondary-color vjs-loading-spinner "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var n=t.prototype.createEl.call(this);n.className=this.buildCSSClass();var i=IY.createEl("div",{className:"theo-loading-spinner-rotator"}),e=IY.createEl("div",{className:"theo-loading-spinner-circle-left"}),r=IY.createEl("div",{className:"theo-loading-spinner-circle-right"});return i.appendChild(e),i.appendChild(r),n.appendChild(i),n},n}(IY.getComponent("LoadingSpinner"));IY.registerComponent("LoadingSpinner",gQ);var mQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).pAt=[],e.on(n,"emptied",e.update),e}return E(n,t),n.prototype.update=function(){var t=this.player(),n=fE.dC(OY(t)),i=n.OD(0),e=fE.dC(t.buffered()).YD(n),r=n.LD(0)-i,u=e.N_&&e.LD(e.N_-1)||0;u=g.max(0,u-i);var o=this.el(),a=this.pAt;o.style.width=yQ(u,r);for(var h=0;h<e.N_;h++){var c=e.OD(h),f=e.LD(h),l=a[h];l||(l=s.createElement("div"),a.push(l),o.appendChild(l)),l.style.left=yQ(c-i,u),l.style.width=yQ(f-c,u)}for(var v=a.length;v>e.N_;v--)o.removeChild(a[v-1]);a.length=e.N_},n}(IY.getComponent("LoadProgressBar"));function yQ(t,n){var i=t/n||0;return 100*(i>=1?1:i)+"%"}IY.registerComponent("LoadProgressBar",mQ);var pQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this)._At=function(){var t=e.player(),n=t.scrubbing()?t.getCache().currentTime:t.currentTime(),i=(n-xY(t))/BY(t)||0;i=jt(i,0,1),e.update(n,100*i+"%")},e.keepTooltipsInside&&(IY.addClass(e.tooltip,"theo-secondary-color"),e.tooltip.appendChild(e.bAt)),M.fn&&(e.on(n,"firstplay",e._At),e.on(n,"play",e._At),e.on(n,"seeking",e._At),e.on(n,"seeked",e._At),e.on(n,"timeupdate",e._At),e.Jbt.addEventListener("dimensionchange",e._At),e.Jbt.presentation.addEventListener("presentationmodechange",e._At),n.on("ready",function(){e.on(n.controlBar.progressControl,"touchmove",J(function(t){return e.handleTouchMove(t)},25)),e._At()})),e}E(n,t);var i=n.prototype;return i.handleMouseMove=function(t){var n=this.player(),i=xY(n)+this.calculateDistance(t)*BY(n),e=t.pageX-hB(this.el().parentNode).left;this.update(i,e+"px")},i.handleTouchMove=function(t){var n=this.player(),i=xY(n)+this.calculateDistance(t)*BY(n),e=t.touches[0].pageX-hB(this.el().parentNode).left;this.update(i,e+"px")},i.createEl=function(){var n=t.prototype.createEl.call(this);return this.bAt=IY.createEl("span",{className:"theo-time-tooltip-text"}),n},i.update=function(t,n){var i=this.kAt(t);if(this.el().style.left=n,this.el().setAttribute("data-current-time",i),this.keepTooltipsInside&&(fB(this.bAt,i),this.tooltip.offsetParent)){var e=this.player().contentEl(),r=e.getClientRects(),s=r.length>0?r[0]:void 0,u=y(getComputedStyle(e).fontSize);cB(this.tooltip,this.el(),s,u)}},i.kAt=function(t){var n=this.player(),i=t-PY(n);return LY(NY(n)?g.min(i,0):i,BY(n))},n}($Y(IY.getComponent("MouseTimeDisplay")));IY.registerComponent("MouseTimeDisplay",pQ);var _Q=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.updateDataAttr=function(){var t=DY(this.player());this.el().setAttribute("data-current-time",this.kAt(t))},i.kAt=function(t){var n=this.player();return LY(t-PY(n),BY(n))},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-play-progress vjs-slider-bar "+t.prototype.buildCSSClass.call(this)},n}(IY.getComponent("PlayProgressBar"));IY.registerComponent("PlayProgressBar",_Q);var bQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).on(n,"timeupdate",e.updateContent),e.on(n,"emptied",e.updateContent),e}return E(n,t),n.prototype.updateContent=function(){var t=this.player(),n=BY(t);if(n){var i=OY(t).end(0),e=this.localize("Remaining Time"),r=LY(g.max(0,i-t.currentTime()),n);r!==this.Xyt&&(this.Xyt=r,this.contentEl().innerHTML='<span class="vjs-control-text">'+e+"</span> -"+r)}},n}(IY.getComponent("RemainingTimeDisplay"));IY.registerComponent("RemainingTimeDisplay",bQ);var kQ=function(){function t(t,n){var i=this;this.AAt=void 0,this.TAt=void 0,this.SAt=void 0,this.EAt=void 0,this.IAt=[],this.lkt=void 0,this.RAt=function(t){var n=t.track;n.kind===Dk.aE&&(n.addEventListener("addcue",i.CAt),n.addEventListener("removecue",i.CAt),n.addEventListener("readystatechange",i.CAt)),i.CAt()},this.NAt=function(t){var n=t.track;n.kind===Dk.aE&&(n.removeEventListener("addcue",i.CAt),n.removeEventListener("removecue",i.CAt),n.removeEventListener("readystatechange",i.CAt)),i.CAt()},this.DAt=function(t){var n=i.PAt,e=function(t,n){var i,e,r=hB(t),s=t.offsetWidth,u=t.offsetHeight,o=r.top,a=r.left;!function(t){return void 0!==t.changedTouches}(n)?(e=n.pageX,i=n.pageY):(e=n.changedTouches[0].pageX,i=n.changedTouches[0].pageY);var h=jt((o-i+u)/u,0,1);return{x:jt((e-a)/s,0,1),y:h}}(i.AAt,t),r=xY(n)+e.x*BY(n);r===n.duration()&&(r-=.1),i.xAt(r)},this.BAt=function(){i.TAt.Zm()},this.OAt=function(){i.TAt.Qm()},this.CAt=function(){var t=i.LAt();t!==i.EAt&&(i.I_(),t&&i.MAt(t))},this.PAt=n,this.SAt=t,this.TAt=new TQ,this.PAt.contentEl().appendChild(this.TAt.wy),this.AAt=s.createElement("div"),rr(this.AAt,"theoplayer-chapterbar"),this.SAt.appendChild(this.AAt),this.SAt.addEventListener("mousemove",this.DAt),this.SAt.addEventListener("mouseenter",this.OAt),this.SAt.addEventListener("mouseleave",this.BAt),this.jAt()}var n=t.prototype;return n.MAt=function(t){if(t.kind===Dk.aE&&0!==this.Jbt.seekable.length){this.EAt=t;var n=t.cues.slice();this.TAt.zc(n);for(var i=0;i<n.length;i++){var e=n[i],r=n[i+1],s=!r||e.endTime!==r.startTime,u=new AQ(e,this.Jbt,s);this.IAt.push(u),this.AAt.appendChild(u.wy)}}},n.jAt=function(){this.Jbt.addEventListener("loadedmetadata",this.CAt),this.Jbt.addEventListener("loadeddata",this.CAt),this.Jbt.addEventListener("sourcechange",this.CAt),this.Jbt.textTracks.addEventListener("addtrack",this.RAt),this.Jbt.textTracks.addEventListener("removetrack",this.NAt),this.Jbt.textTracks.addEventListener("change",this.CAt)},n.FAt=function(){this.Jbt.removeEventListener("loadedmetadata",this.CAt),this.Jbt.removeEventListener("loadeddata",this.CAt),this.Jbt.removeEventListener("sourcechange",this.CAt),this.Jbt.textTracks.removeEventListener("addtrack",this.RAt),this.Jbt.textTracks.removeEventListener("removetrack",this.NAt),this.Jbt.textTracks.removeEventListener("change",this.CAt)},n.LAt=function(){if(!(this.Jbt.readyState<Zy.Lg))for(var t=0,n=this.Jbt.textTracks;t<n.length;t++){var i=n[t];if(i.kind===Dk.aE&&i.mode===Dy.j_&&i.cues.length>0&&i.readyState!==__.ERROR)return i}},n.xAt=function(t){this.TAt.Wc(t)},n.UAt=function(){this.TAt.Qm()},n.HAt=function(){this.TAt.Zm()},n.I_=function(){for(var t=0,n=this.IAt;t<n.length;t++){n[t].rAt()}this.TAt.I_(),this.IAt=[],this.EAt=void 0},n.rAt=function(){this.FAt(),this.SAt.removeEventListener("mousemove",this.DAt),this.SAt.removeEventListener("mouseenter",this.OAt),this.SAt.removeEventListener("mouseleave",this.BAt),this.I_(),this.TAt.rAt(),this.lkt=void 0},T(t,[{key:"Jbt",get:function(){return this.lkt||(this.lkt=this.PAt.tech({IWillNotUseThisInPlugins:!0}).theoplayer()),this.lkt}}]),t}(),AQ=function(){function t(t,n,i){var e=this;this.gD=void 0,this.XAt=function(){rr(e.wy,"theoplayer-chapter-indicator-active")},this.zAt=function(){sr(e.wy,"theoplayer-chapter-indicator-active")},this.VAt=t,this.wD=n,this.WAt=i,this.gD=this.qAt(),this.GAt()}var n=t.prototype;return n.GAt=function(){SQ(this.VAt,this.wD.currentTime)&&this.XAt(),this.VAt.addEventListener("enter",this.XAt),this.VAt.addEventListener("exit",this.zAt)},n.qAt=function(){var t=this.wD.seekable.start(0),n=this.wD.seekable.end(this.wD.seekable.length-1)-t,i=this.VAt.startTime,e=this.VAt.endTime-i,r=s.createElement("div");rr(r,"theoplayer-chapter-indicator");var u=s.createElement("div");rr(u,"theoplayer-chapter-indicator-highlight"),r.appendChild(u),this.WAt&&rr(r,"theoplayer-chapter-indicator-discontinuous");var o=g.min(i/n*100,100),a=100-o,h=g.min(e/n*100,a);return r.style.width=h+"%",r.style.left=o+"%",r},n.rAt=function(){this.VAt.removeEventListener("enter",this.XAt),this.VAt.removeEventListener("exit",this.zAt),tr(this.gD)},T(t,[{key:"wy",get:function(){return this.gD}}]),t}(),TQ=function(){function t(){this.$At=[],this.wy=void 0,this.YAt=void 0,this.QAt=0,this.wy=s.createElement("div"),rr(this.wy,"theoplayer-chaptertitle"),this.wy.style.display="none",this.YAt=s.createElement("p"),this.wy.appendChild(this.YAt)}var n=t.prototype;return n.Zm=function(){this.QAt--,0===this.QAt&&sr(this.wy,"theoplayer-chapter-hovering")},n.zc=function(t){this.$At=t||[],this.$At.length>0&&(this.wy.style.display="")},n.nZ=function(t){fB(this.YAt,t.content)},n.I_=function(){this.$At=[],fB(this.YAt,""),this.wy.style.display="none"},n.Qm=function(){this.QAt++,this.QAt>0&&rr(this.wy,"theoplayer-chapter-hovering")},n.Wc=function(t){for(var n=0,i=this.$At;n<i.length;n++){var e=i[n];if(SQ(e,t)){this.nZ(e);break}}},n.rAt=function(){tr(this.wy)},t}();function SQ(t,n){return new fE([t.startTime,t.endTime]).QN(n)}var EQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).AAt=void 0,e.playingStates=[],e.on(n,"emptied",e.update),e.on(n,"seeking",e.update),e.AAt=new kQ(e.el(),n),e}E(n,t);var i=n.prototype;return i.updateAriaAttributes=function(t){var n=this.player(),i=DY(n);t.setAttribute("aria-valuenow",(100*this.ZAt(i)).toFixed(2)),t.setAttribute("aria-valuetext",LY(i-PY(n),BY(n)))},i.getPercent=function(){return this.ZAt(this.player().currentTime())},i.handleMouseMove=function(t){if(!(this.Jbt&&this.Jbt.ads&&this.Jbt.ads.playing)){var n=this.player(),i=xY(n)+this.calculateDistance(t)*BY(n);i>=n.duration()&&(i=n.duration()-.1),this.AAt.xAt(i),n.currentTime(i)}},i.handleMouseDown=function(n){this.playingStates.push(!this.player().paused()),this.AAt.UAt(),t.prototype.handleMouseDown.call(this,n)},i.handleMouseUp=function(n){this.videoWasPlaying=Boolean(this.playingStates.pop()),this.AAt.HAt(),t.prototype.handleMouseUp.call(this,n)},i.ZAt=function(t){var n=this.player();return jt((t-xY(n))/BY(n),0,1)},i.dispose=function(){this.AAt.rAt(),Zs(this.playingStates)},n}($Y(IY.getComponent("SeekBar")));IY.registerComponent("SeekBar",EQ);var IQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).on(Kt(e),"touchmove",e.handleMouseMove),e.on("touchstart",e.handleMouseDown),e.seekBar.off(["touchmove","touchstart"]),e}E(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(t){this.seekBar.handleMouseMove(t)},i.handleMouseDown=function(t){this.seekBar.handleMouseDown(t)},n}(IY.getComponent("ProgressControl"));i.Or.fn&&IY.registerComponent("ProgressControl",IQ);var RQ=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.updateDataAttr=function(){var t=DY(this.player()),n=this.kAt(t);this.el().setAttribute("data-current-time",n),this.tooltip.innerHTML=n},i.kAt=function(t){var n=this.player();return LY(t-PY(n),BY(n))},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-tooltip-progress-bar vjs-slider-bar "+t.prototype.buildCSSClass.call(this)},n}(IY.getComponent("TooltipProgressBar"));function CQ(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.enabled)return i}}function NQ(t){if(t)return t.label&&""!==t.label?{name:t.label,hd:!1}:{name:DQ(t),description:PQ(t),hd:!!t.height&&t.height>=720}}function DQ(t){return t.height?t.height+"p":t.bandwidth?PQ(t):""}function PQ(t){return t.bandwidth?t.bandwidth>1e7?(t.bandwidth/1e6).toFixed(0)+"Mbps":t.bandwidth>1e6?(t.bandwidth/1e6).toFixed(1)+"Mbps":(t.bandwidth/1e3).toFixed(0)+"kbps":""}IY.registerComponent("TooltipProgressBar",RQ);var xQ=function(){function t(t){this.KAt=void 0,this.JAt=[],this.KAt=t}var n=t.prototype;return n.tTt=function(t){var n=this.nTt;if(n)for(var i=0;i<n.length;i++){var e=n[i];if(e.g$===t)return e}},n.iTt=function(t){var n=this,i=this.KAt.addMenuItem();return i.g$=t,i.on("click",function(){return n.eTt(i)}),i.el().setAttribute("role","menuitemradio"),i},n.rTt=function(t){t.dispose()},n.sTt=function(t){return!0},n.uTt=function(t){if(this.sTt(t)){Ys(this.JAt,t)||this.JAt.push(t);var n=this.tTt(t)||this.iTt(t);return this.oTt(n),n}this.aTt(t)},n.aTt=function(t){var n=this.tTt(t);n&&(this.KAt.removeMenuItem(n),this.rTt(n)),Gs(this.JAt,t)},n.rAt=function(){for(var t=[],n=0,i=this.JAt;n<i.length;n++){var e=i[n];t.push(e)}for(var r=0;r<t.length;r++){var s=t[r];this.aTt(s)}Zs(t)},T(t,[{key:"hTt",get:function(){return this.JAt},set:function(t){for(var n=this.JAt,i=n.length-1;i>=0;i--){var e=n[i];Ys(t,e)||this.aTt(e)}for(var r=0;r<t.length;r++){var s=t[r];this.uTt(s)}this.KAt.jkt()}},{key:"nTt",get:function(){return this.KAt.menuItems}}]),t}(),BQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n.subMenu)||this).cTt=void 0,r.lkt=void 0,r.fTt=void 0,r.lTt=void 0,r.vTt=void 0,r.dTt=void 0,r.wTt=void 0,r.gTt=void 0,r.mTt=void 0,r.yTt=function(){var t=CQ(r.lkt.videoTracks);if(t!==r.lTt){var n=[];if(r.lTt&&(r.lTt.removeEventListener("activequalitychanged",r.pTt),r.lTt.removeEventListener("targetqualitychanged",r._Tt),r.lTt.removeEventListener("update",r.eP)),r.lTt=t,t){t.addEventListener("activequalitychanged",r.pTt),t.addEventListener("targetqualitychanged",r._Tt),t.addEventListener("update",r.eP);var i=LQ(FQ(t.qualities.filter(function(t){return t.available})));n=[void 0].concat(i)}r.hTt=n,r._Tt(),r.pTt()}},r.eP=function(t){var n=t.track;if(n===r.lTt){var i=LQ(FQ(n.qualities.filter(function(t){return t.available}))),e=n&&UQ(n.targetQuality);r.vTt=r.bTt(e,i),r.hTt=[void 0].concat(i),r.kTt()}},r.pTt=function(){r.uTt(void 0),r.kTt()},r._Tt=function(){var t=CQ(r.lkt.videoTracks),n=t&&UQ(t.targetQuality),i=r.bTt(n),e=r.vTt;i!==e&&(r.vTt=i,i&&e||r.uTt(void 0),e&&Ys(r.hTt,e)&&r.uTt(e),n&&r.uTt(i),r.kTt())},r.kkt=function(){fB(r.KAt.menuHeader.el(),r.fTt.localize("Quality")),fB(r.dTt,r.fTt.localize("Quality")),fB(r.wTt,r.fTt.localize("Automatic")),fB(r.gTt,r.fTt.localize("Automatic")),fB(r.mTt,r.fTt.localize("HD")),r.cTt.el().setAttribute("aria-label",r.fTt.localize("Open the video quality settings menu"));for(var t=0,n=r.nTt;t<n.length;t++){var i=n[t];r.oTt(i)}r.kTt()},r.cTt=n,r.lkt=i,r.fTt=e,r.dTt=r.ATt(),r.wTt=r.TTt(),r.gTt=r.STt(),r.mTt=r.ETt(),r.ITt(),fB(r.KAt.menuHeader.el(),r.fTt.localize("Quality")),r.hTt=[void 0],r.lkt.videoTracks.addEventListener(["addtrack","removetrack","change"],r.yTt),r.fTt.on("languagechange",r.kkt),r.yTt(),r}E(n,t);var i=n.prototype;return i.ATt=function(){return this.dTt=s.createElement("span"),this.dTt.className="theo-settings-control-menu-item-title",fB(this.dTt,this.fTt.localize("Quality")),this.dTt},i.TTt=function(){return this.wTt=s.createElement("span"),this.wTt.className="theo-settings-control-menu-quality-automatic",fB(this.wTt,this.fTt.localize("Automatic")),this.wTt},i.STt=function(){return this.gTt=s.createElement("span"),fB(this.gTt,this.fTt.localize("Automatic")),this.gTt},i.ETt=function(){return this.mTt=s.createElement("span"),this.mTt.className="theo-primary-color theo-settings-control-menu-item-hd-label",fB(this.mTt,this.fTt.localize("HD")),this.mTt},i.ITt=function(){var t=s.createElement("span");t.className="theo-primary-color theo-settings-control-menu-item-value",t.appendChild(this.wTt),t.appendChild(s.createTextNode(" ")),t.appendChild(this.gTt),t.appendChild(s.createTextNode(" ")),t.appendChild(this.mTt),this.cTt.el().appendChild(this.dTt),this.cTt.el().appendChild(t),this.cTt.el().setAttribute("aria-label",this.fTt.localize("Open the video quality settings menu"))},i.kTt=function(){var t=this.lTt,n=t&&UQ(t.targetQuality),i=t&&t.activeQuality,e=NQ(this.bTt(n||i))||{name:this.fTt.localize("Automatic")};fB(this.gTt,e.name),ur(this.wTt,"vjs-hidden",!!n),ur(this.mTt,"vjs-hidden",!e.hd)},i.oTt=function(t){var n=NQ(t.g$)||{name:this.fTt.localize("Automatic")},i=n.name;n.hd&&(i+='<span class="theo-primary-color theo-settings-control-menu-item-hd-label">'+this.fTt.localize("HD")+"</span>"),n.description&&(i+='<span class="theo-settings-control-submenu-item-alternate-value">'+n.description+"</span>"),t.el().innerHTML=i,t.el().setAttribute("aria-label",this.fTt.localize("Set video quality to ")+n.name),t.g$?t.selected(t.g$===this.vTt):t.selected(!this.vTt)},i.eTt=function(t){this.lTt&&(this.lTt.targetQuality=t.g$&&t.g$.videoQualities)},i.bTt=function(t,n){for(var i=n||this.hTt,e=0;e<i.length;e++){var r=i[e];if(t&&r&&-1!==r.videoQualities.indexOf(t))return r}},i.rAt=function(){this.lkt.videoTracks.removeEventListener(["addtrack","removetrack","change"],this.yTt),this.fTt.off("languagechange",this.kkt),this.lTt&&(this.lTt.removeEventListener("activequalitychanged",this.pTt),this.lTt.removeEventListener("targetqualitychanged",this._Tt),this.lTt.removeEventListener("update",this.eP)),t.prototype.rAt.call(this)},n}(xQ),OQ=function(){function t(t){this.RTt=t}return t.prototype.add=function(t){this.RTt.push(t)},T(t,[{key:"height",get:function(){return this.RTt[0].height}},{key:"bandwidth",get:function(){return this.RTt[0].bandwidth}},{key:"videoQualities",get:function(){return this.RTt}},{key:"label",get:function(){return this.RTt[0].label}}]),t}();function LQ(t){for(var n,i,e=[],r=0;r<t.length;r++){for(var s=t[r],u=!1,o=0;o<e.length;o++){var a=e[o];if(i=s,(n=a).label&&i.label&&n.label===i.label||gy(NQ(n),NQ(i))){a.add(s),u=!0;break}}u||e.push(new OQ([s]))}return e}function MQ(t,n){return t&&n?Hs(t,n):Bs.Ss}function jQ(t,n){return t===n?Bs.Ss:MQ(t.height,n.height)||MQ(t.width,n.width)||MQ(t.bandwidth,n.bandwidth)}function FQ(t){return Ls(t,jQ).reverse()}function UQ(t){return X(t)?1===t.length?t[0]:void 0:t}function HQ(t){return 1===t?"Normal":""+g.round(100*t)/100}var XQ=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n.subMenu)||this).cTt=void 0,s.lkt=void 0,s.fTt=void 0,s.CTt=void 0,s.dTt=void 0,s.NTt=void 0,s.DTt=function(){s.CTt&&s.uTt(s.CTt);var t=s.lkt.playbackRate;s.CTt=t,fB(s.NTt,s.fTt.localize(HQ(t))),t&&s.uTt(t)},s.kkt=function(){fB(s.KAt.menuHeader.el(),s.fTt.localize("Speed")),fB(s.dTt,s.fTt.localize("Speed")),s.cTt.el().setAttribute("aria-label",s.fTt.localize("Open the video speed settings menu"));for(var t=0,n=s.nTt;t<n.length;t++){var i=n[t];s.oTt(i)}s.DTt()},s.cTt=n,s.lkt=i,s.fTt=e,s.dTt=s.ATt(),s.NTt=s.ITt(),fB(s.KAt.menuHeader.el(),s.fTt.localize("Speed")),s.hTt=r,s.lkt.addEventListener("ratechange",s.DTt),s.fTt.on("languagechange",s.kkt),s.DTt(),s}E(n,t);var i=n.prototype;return i.ATt=function(){return this.dTt=s.createElement("span"),this.dTt.className="theo-settings-control-menu-item-title",fB(this.dTt,this.fTt.localize("Speed")),this.dTt},i.ITt=function(){var t=s.createElement("span");return t.className="theo-primary-color theo-settings-control-menu-item-value",this.cTt.el().appendChild(this.dTt),this.cTt.el().appendChild(t),this.cTt.el().setAttribute("aria-label",this.fTt.localize("Open the video speed settings menu")),t},i.iTt=function(n){var i=t.prototype.iTt.call(this,n);return this.oTt(i),i},i.oTt=function(t){var n=t.g$,i=this.fTt.localize(HQ(n));fB(t.el(),i),t.el().setAttribute("aria-label",this.fTt.localize("Set video speed to "+i)),t.selected(t.g$===this.lkt.playbackRate)},i.eTt=function(t){this.lkt.playbackRate=t.g$},i.rAt=function(){this.lkt.removeEventListener("ratechange",this.DTt),this.fTt.off("languagechange",this.kkt),t.prototype.rAt.call(this)},n}(xQ),zQ=function(t){function n(n,i){var e,r,s;(s=t.call(this,n,i)||this).PTt=void 0,s.xTt=void 0,s.BTt=void 0,s.OTt=void 0,s.lTt=void 0,s.TN=function(){var t=CQ(s.Jbt.videoTracks);t!==s.lTt&&(s.lTt&&s.lTt.removeEventListener("activequalitychanged",s.pTt),s.lTt=t,t&&t.addEventListener("activequalitychanged",s.pTt),s.pTt())},s.pTt=function(){var t,n=null==(t=s.lTt)?void 0:t.activeQuality,i=!!(n&&n.height>=720);s.player().toggleClass("theo-hd",i)},rr(s.menu.el(),"theo-settings-control-menu"),fB(s.menu.menuHeader.el(),n.localize("Settings")),s.controlText("Settings"),s.Jkt.sAt=s.controlText(),s.PTt=s.menu.addSubMenuItem({name:"QualityMenuItem"}),s.xTt=new BQ(s.PTt,s.Jbt,n);var u=null!=(e=null==i?void 0:null==(r=i.playerOptions)?void 0:r.playbackRates)?e:[];return s.BTt=s.menu.addSubMenuItem({name:"PlaybackRateMenuItem"}),s.OTt=new XQ(s.BTt,s.Jbt,n,u),s.Jbt.videoTracks.addEventListener(["addtrack","removetrack","change"],s.TN),s.TN(),s}E(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return this.LTt=IY.createEl("span",{className:"theo-settings-control-label-hd theo-primary-background"}),fB(this.LTt,this.localize("HD")),n.appendChild(this.LTt),n},i.buildCSSClass=function(){return"vjs-icon-cog theo-settings-control-button "+t.prototype.buildCSSClass.call(this)},i.kkt=function(){t.prototype.kkt.call(this),fB(this.LTt,this.localize("HD")),fB(this.menu.menuHeader.el(),this.localize("Settings"))},i.dispose=function(){this.lTt&&(this.lTt.removeEventListener("activequalitychanged",this.pTt),this.lTt=void 0),this.Jbt.videoTracks.removeEventListener(["addtrack","removetrack","change"],this.TN),this.xTt.rAt(),this.OTt.rAt(),t.prototype.dispose.call(this)},n}(sQ);IY.registerComponent("SettingsButton",zQ);var VQ=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).GJ=void 0,e.MTt=function(t){var n=t.track;e.uTt(n),n.addEventListener("update",e.jTt)},e.FTt=function(t){var n=t.track;e.aTt(n),n.removeEventListener("update",e.jTt)},e.UTt=function(t){return e.HTt()},e.jTt=function(){for(var t=0,n=e.hTt;t<n.length;t++){var i=n[t];e.uTt(i)}},e.GJ=i,e.GJ.addEventListener("addtrack",e.MTt),e.GJ.addEventListener("removetrack",e.FTt),e.GJ.addEventListener("change",e.UTt),e.HTt(),e}E(n,t);var i=n.prototype;return i.XTt=function(t){var n=t.label;if(n)return n;var i=t.language;if(i){var e=qj(i);if(e)return e.dp}return i||""},i.HTt=function(){this.hTt=this.GJ},i.rAt=function(){this.GJ.removeEventListener("addtrack",this.MTt),this.GJ.removeEventListener("removetrack",this.FTt),this.GJ.removeEventListener("change",this.UTt),t.prototype.rAt.call(this)},n}(xQ),WQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i.audioTracks)||this).Jbt=void 0,r.fTt=void 0,r.kkt=function(){fB(r.KAt.menuHeader.el(),r.fTt.localize("Language"));for(var t=0,n=r.nTt;t<n.length;t++){var i=n[t];r.oTt(i)}},r.Jbt=i,r.fTt=e,fB(r.KAt.menuHeader.el(),r.fTt.localize("Language")),r.fTt.on("languagechange",r.kkt),r}E(n,t);var i=n.prototype;return i.oTt=function(t){var n=t.g$,i=this.XTt(n);fB(t.el(),this.XTt(n)),t.el().setAttribute("aria-label",this.fTt.localize("Set the audio language to")+" "+i),t.selected(n.enabled)},i.eTt=function(t){for(var n=t.g$,i=0,e=this.Jbt.audioTracks;i<e.length;i++){var r=e[i];r!==n&&(r.enabled=!1)}n.enabled=!0},i.rAt=function(){this.fTt.off("languagechange",this.kkt),t.prototype.rAt.call(this)},n}(VQ),qQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).zTt=void 0,e.minimumMenuItems=2,e.zTt=new WQ(e.menu,e.Jbt,n),e.controlText("Language"),e.Jkt.sAt=e.controlText(),e}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-audio theo-audio-track-control-button "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this.zTt.rAt(),t.prototype.dispose.call(this)},n}(sQ);IY.registerComponent("audioTrackButton",qQ);var GQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i.textTracks)||this).Jbt=void 0,r.fTt=void 0,r.kkt=function(){fB(r.KAt.menuHeader.el(),r.fTt.localize("Subtitles"));for(var t=0,n=r.nTt;t<n.length;t++){var i=n[t];r.oTt(i)}},r.Jbt=i,r.fTt=e,fB(r.KAt.menuHeader.el(),e.localize("Subtitles")),r.fTt.on("languagechange",r.kkt),r}E(n,t);var i=n.prototype;return i.sTt=function(n){return!!t.prototype.sTt.call(this,n)&&(!n.forced&&Fk(n.kind))},i.iTt=function(n){var i=this,e=t.prototype.iTt.call(this,n);rr(e.el(),"theo-text-track-menu-item");var r=s.createElement("span");e.z_=r;var u=s.createElement("div");u.className="theo-text-track-menu-item-toggle",e.wit=u;var o=function(t){return i.VTt(t,e)};e.WTt=o,u.addEventListener("click",o);var a=s.createElement("div");return a.className="theo-text-track-menu-item-toggle-slider",u.appendChild(a),e.el().appendChild(r),e.el().appendChild(u),e},i.oTt=function(t){var n=t,i=n.g$,e=this.XTt(i);fB(n.z_,e),n.el().setAttribute("aria-label",this.fTt.localize("Set the subtitle language to")+" "+e),n.el().setAttribute("role","menuitemcheckbox"),n.selected(i.mode===Dy.j_)},i.rTt=function(n){var i=n;i.wit.removeEventListener("click",i.WTt),t.prototype.rTt.call(this,n)},i.eTt=function(t){for(var n,i,e=t.g$,r=0,s=this.Jbt.textTracks;r<s.length;r++){var u=s[r];u!==e&&(n=u.kind,i=e.kind,Bk(n)&&Bk(i)&&(n===i||n===Dk.iA&&i===Dk.uE||n===Dk.uE&&i===Dk.iA))&&(u.mode=Dy.q_)}e.mode!==Dy.j_?e.mode=Dy.j_:e.mode=Dy.q_},i.VTt=function(t,n){t.stopImmediatePropagation(),this.eTt(n)},i.rAt=function(){this.fTt.off("languagechange",this.kkt),t.prototype.rAt.call(this)},n}(VQ),$Q=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).zTt=void 0,e.zTt=new GQ(e.menu,e.Jbt,n),e.controlText("Subtitles"),e.Jkt.sAt=e.controlText(),e}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-subtitles theo-text-track-control-button "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this.zTt.rAt(),t.prototype.dispose.call(this)},n}(sQ);IY.registerComponent("subtitlesButton",$Q);var YQ,QQ=IY.getComponent("playToggle");!function(t){t.Tf="Pause",t.Sf="Play",t.qTt="Replay"}(YQ||(YQ={}));var ZQ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).Jkt=void 0,r.Trt=function(){r.controlText(YQ.qTt),r.Jkt.sAt=r.controlText()},r.controlText(YQ.Sf),r.Jkt=new rQ(Kt(r),r.controlText()),r.Jbt.addEventListener("ended",r.Trt),r.on(n,"languagechange",r.kkt),i.Or.Wt&&new YY(r.el()),r}E(n,t);var e=n.prototype;return e.handlePlay=function(n){t.prototype.handlePlay.call(this,n),this.controlText(YQ.Tf),this.Jkt.sAt=this.controlText()},e.handlePause=function(n){this.Jbt.ended||(t.prototype.handlePause.call(this,n),this.controlText(YQ.Sf),this.Jkt.sAt=this.controlText())},e.kkt=function(){this.Jkt.sAt=this.controlText()},e.dispose=function(){this.Jkt.rAt(),this.Jbt.removeEventListener("ended",this.Trt),t.prototype.dispose.call(this)},n}($Y(QQ));IY.registerComponent("playToggle",ZQ);var KQ,JQ=IY.getComponent("fullscreenToggle");!function(t){t.GTt="Exit fullscreen",t.$Tt="Fullscreen"}(KQ||(KQ={}));var tZ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).Jkt=void 0,r.controlText(KQ.$Tt),r.Jkt=new rQ(Kt(r),r.controlText()),i.Or.Wt&&new YY(r.el()),r.on(n,"languagechange",r.updateContent),r}E(n,t);var e=n.prototype;return e.handleClick=function(n){this.Jbt.prepareWithUserAction(),t.prototype.handleClick.call(this,n)},e.handleFullscreenChange=function(n){t.prototype.handleFullscreenChange.call(this,n),this.updateContent()},e.updateContent=function(){var t=this.player().isFullscreen()?KQ.GTt:KQ.$Tt;this.controlText(t),this.Jkt.sAt=this.controlText()},e.dispose=function(){this.Jkt.rAt(),t.prototype.dispose.call(this)},n}($Y(JQ));IY.registerComponent("fullscreenToggle",tZ);var nZ,iZ=IY.getComponent("muteToggle");!function(t){t.YTt="Unmute",t.QTt="Mute"}(nZ||(nZ={}));var eZ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).Jkt=void 0,r.controlText(nZ.QTt),r.Jkt=new rQ(Kt(r),r.controlText()),i.Or.Wt&&new YY(r.el()),r.on(n,"languagechange",r.kkt),pr&&(r.removeClass("vjs-hidden"),r.on(n,"loadstart",function(){r.removeClass("vjs-hidden")})),r}E(n,t);var e=n.prototype;return e.update=function(n){t.prototype.update.call(this,n),this.kkt()},e.kkt=function(){var t=this.player().muted()?nZ.YTt:nZ.QTt;this.controlText(t),this.Jkt.sAt=this.controlText()},e.dispose=function(){this.Jkt.rAt(),t.prototype.dispose.call(this)},n}(iZ);IY.registerComponent("muteToggle",eZ);var rZ=IY.getComponent("BigPlayButton"),sZ=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this),i=IY.createEl("div",{className:"theo-big-play-button-svg-container"});return i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150" fill="currentColor">\n  <circle cx="75" cy="75" r="73" fill="#000" fill-opacity="0.2"></circle>\n  <circle cx="75" cy="75" r="73" class="theo-play-svg-circle" stroke-width="4" stroke="currentColor" fill="none" transform="rotate(-90,75,75)"></circle>\n  <g transform="translate(85,75) scale(0.5625) translate(-75,-75)">\n    <path d="m 123.89639,85.432 c -12.865,9.167 -29.482997,19.402 -49.848997,30.7 -19.634,11.035 -36.851,19.7 -51.65,26 l -16.3990002,6.099 c -1.033,-4.433 -2,-11.002 -2.9,-19.7 -2.033,-17.333 -3.04999998,-36.466 -3.04999998,-57.399 0,-19.167 1.38199998,-37.081 4.14799998,-53.75 l 4.0019995,-19.1499994 17.3990007,5.849 c 15.068,5.9999994 31.401,14.5169994 49,25.5509994 18.631,11.666 34.616997,22.766 47.948997,33.3 6.663,5.3 11.463,9.383 14.396,12.25 l -13.046,10.25"></path>\n  </g>\n</svg>',n.appendChild(i),n},i.buildCSSClass=function(){return"theo-primary-color "+t.prototype.buildCSSClass.call(this)},n}(rZ);IY.registerComponent("BigPlayButton",sZ);var uZ=/^([^#]*)#xywh=(\d+),(\d+),(\d+),(\d+)\s*$/;var oZ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).ZTt=void 0,e.KTt=void 0,e.JTt=void 0,e.tSt=function(t){return e.nSt(t)},e.iSt=void 0,e.showThumbnails=function(){e.ZTt&&(e.ZTt.hidden=!1)},e.hideThumbnails=function(){e.ZTt&&!e.player().scrubbing()&&(e.ZTt.hidden=!0)},e.player().textTracks().on("addtrack",e.tSt),e.player().textTracks().on("removetrack",e.tSt),M.fn&&(e.on(n,"seeking",e.showThumbnails),e.on(n,"seeked",e.hideThumbnails)),e}E(n,t);var e=n.prototype;return e.nSt=function(t){var n=t.track;"removetrack"===t.type&&n===this.KTt?(this.KTt=void 0,this.JTt=void 0,this.eSt(),this.iSt=void 0):"addtrack"===t.type&&"metadata"===n.kind&&"thumbnails"===n.label&&(this.KTt=n,this.JTt=n.src?i.Cr(n.src).href:void 0)},e.createEl=function(){var n=t.prototype.createEl.call(this);return this.rSt=IY.createEl("img",{className:"theo-time-tooltip-thumbnail"}),this.sSt=IY.createEl("canvas",{className:"theo-time-tooltip-thumbnail"}),n},e.update=function(n,i){if(t.prototype.update.call(this,n,i),this.keepTooltipsInside){var e;if(this.KTt&&this.KTt.cues){var r=function(t,n){for(var i=t[0],e=0;e<t.length;e++){var r=t[e];if(r.startTime<=n)i=r;else if(n>=r.endTime)return i}return i}(this.KTt.cues,n);e=r&&r.content}if(e!==this.iSt)if(this.iSt=e,IY.toggleClass(this.el(),"theo-time-tooltip-has-thumbnail",!!e),e){var s=e.match(uZ);if(s){var u=s[1],o=s[2],a=s[3],h=s[4],c=s[5];u=this.uSt(u);var f={x_:+o,y_:+a,Ck:+h,vT:+c};this.oSt(u,f)}else{var l=this.uSt(e);this.oSt(l)}}else this.eSt()}},e.uSt=function(t){return this.KTt&&this.JTt?i.Cr(t,this.JTt).href:t},e.oSt=function(t,n){var i=this;this.rSt&&(this.rSt.src!==t?(this.rSt.onload=function(){i.aSt(n)},this.rSt.src="",this.rSt.src=t):this.aSt(n))},e.aSt=function(t){if(this.sSt&&this.rSt){var n=this.sSt.getContext("2d");n&&(t=t||{x_:0,y_:0,Ck:this.rSt.naturalWidth,vT:this.rSt.naturalHeight},this.sSt.width=t.Ck,this.sSt.height=t.vT,n.drawImage(this.rSt,t.x_,t.y_,t.Ck,t.vT,0,0,t.Ck,t.vT),this.hSt(this.sSt))}},e.hSt=function(t){this.ZTt||(this.tooltip.firstChild?this.tooltip.insertBefore(t,this.tooltip.firstChild):this.tooltip.appendChild(t),this.ZTt=t)},e.eSt=function(){this.ZTt&&this.tooltip.removeChild(this.ZTt),M.fn&&(this.off(this.player(),"seeking",this.showThumbnails),this.off(this.player(),"seeked",this.hideThumbnails)),this.ZTt=void 0},n}(pQ);IY.registerComponent("MouseTimeDisplay",oZ);var aZ=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-volume-level "+t.prototype.buildCSSClass.call(this)},n}(IY.getComponent("VolumeLevel"));IY.registerComponent("VolumeLevel",aZ);var hZ=IY.getComponent("ControlBar"),cZ=function(t){function n(n,i){var e;return e=t.call(this,n,i)||this,n.topControlBar=Kt(e),e}return E(n,t),n.prototype.buildCSSClass=function(){return"theo-top-controlbar "+t.prototype.buildCSSClass.call(this)},n}(hZ);cZ.prototype.kyt=Fr({},hZ.prototype.kyt,{children:[]}),IY.registerComponent("TopControlBar",cZ);var fZ=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-menu-container "+t.prototype.buildCSSClass.call(this)},n}(IY.getComponent("Component"));fZ.prototype.kyt=Fr({},fZ.prototype.kyt,{children:[]}),IY.registerComponent("controlBarMenuContainer",fZ);var lZ=IY.getComponent("Player"),vZ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).handleKeyPress=function(t){9===t.which&&r.addClass("theo-probably-keyboard-focus")},r.handleClick=function(t){0===t.x&&0===t.y||r.removeClass("theo-probably-keyboard-focus")},s.body.addEventListener("keydown",r.handleKeyPress),s.body.addEventListener("click",r.handleClick),r}return E(n,t),n.prototype.dispose=function(){var n=this.el(),i=this.contentEl(),e=n.parentNode,r=n.nextSibling;t.prototype.dispose.call(this),tr(i),this.apt&&e&&(r?e.insertBefore(n,r):e.appendChild(n)),s.body.removeEventListener("keydown",this.handleKeyPress),s.body.removeEventListener("click",this.handleClick)},n}(lZ);vZ.prototype.kyt=Fr({},lZ.prototype.kyt,{children:["bigPlayButton","AdControlPanel","TopControlBar","mediaLoader","upNextContainer","posterImage","chromecastOverlay","controlBarMenuContainer","controlBar","textTrackDisplay","loadingSpinner","errorDisplay","textTrackSettings"]}),IY.registerComponent("Player",vZ);var dZ=IY.getComponent("Player"),wZ=dZ.prototype.Upt;dZ.prototype.Upt=function(t){if(!(this.Pyt&&this.Pyt.fkt&&this.Pyt.fkt()))return wZ.call(this,t)};var gZ,mZ=dZ.prototype.createEl;function yZ(t,n,e,s){var u=Fr({controls:!0,playbackRates:[.25,.5,1,1.25,1.5,2]},e);u.controlBar=Fr({progressControl:{keepTooltipsInside:!0}},u.controlBar);var o,a=u.techOrder||(u.techOrder=[]);(-1===a.indexOf("THEOplayer")&&a.unshift("THEOplayer"),(u.theoplayer||(u.theoplayer={})).player=t,e&&V(e.language))&&(u.languages=Fr({},u.languages,((o={})[Wj]=e.language,o)),u.language=Wj);n.setAttribute("data-vjs-player","");var h,c,f,l=n.getAttribute("style"),v=IY(t.element,u,s);return v.ready(function(){!function(t){t.on("timeupdate",MY),t.on("durationchange",MY)}(v),UY(v,t),function(t){t.on("mouseleave",HY)}(v)}),n.removeAttribute("data-vjs-player"),l?n.setAttribute("style",l):n.removeAttribute("style"),i.Or.fn&&(rr(n,"theo-mobile"),h=n,c=r.outerHeight,f=r.outerWidth,c>f?(sr(h,"theo-mobile-landscape"),rr(h,"theo-mobile-portrait")):(sr(h,"theo-mobile-portrait"),rr(h,"theo-mobile-landscape"))),function(t){t.on("seeking",function(){er(t.el(),"vjs-ended")&&t.currentTime()!==t.duration()&&t.play()})}(v),v}function pZ(t){return function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).cSt=void 0,r.fSt=void 0,r.lSt=void 0,r.cSt=n,r.lSt=t.prototype.$w.call(Kt(r)),w.defineProperty(r.lSt,"constructor",{value:_N}),r.fSt=yZ(r.lSt,r.cSt,e.ui),r}E(n,t);var i=n.prototype;return i.$w=function(){return t=this.lSt,n=this,dy(w.create(t),{get controls(){return n.npt},set controls(t){n.npt=py(t)},get ui(){return n.fSt}});var t,n},i.Bd=function(){t.prototype.Bd.call(this),this.fSt.dispose()},i.zm=function(n){this.fSt.src(""),t.prototype.zm.call(this,n)},T(n,[{key:"npt",get:function(){return this.fSt.controls()},set:function(t){this.fSt.controls(t)}}]),n}(t)}function _Z(){return gZ||(gZ=function(t,n){var i=t;if($C[n])for(var e=0,r=$C[n];e<r.length;e++)i=(0,r[e])(i);return i}(gZ=pZ(pN()),HC.PU)),gZ}function bZ(t){return{get ratio(){return t.vSt},get thresholds(){return t.dSt.slice()}}}function kZ(t){var n=[],i=g.floor(1/t);if(p(i))return[];for(var e=0;e<=i;e++){var r=jt(e*t,0,1);n.push(r)}return n}dZ.prototype.createEl=function(){var t=mZ.call(this),n=IY.createEl("div");for(n.className="theo-player-wrapper";t.firstChild;)n.appendChild(t.firstChild);return t.appendChild(n),this.Eyt=n,t};var AZ=function(){function t(t,n,i){this.wSt=1,this.gSt=void 0,this.mSt=void 0,this.Kw=void 0,this.gSt=kZ(n);var e=this.ySt(i);this.mSt=new r.IntersectionObserver(e,{root:null,threshold:this.gSt}),this.mSt.observe(t)}var n=t.prototype;return n.ySt=function(t){var n=this;return function(i){var e=i[i.length-1];n.wSt=e.intersectionRatio,t(e.intersectionRatio)}},n.Fm=function(){this.mSt.disconnect()},T(t,[{key:"vSt",get:function(){return this.wSt}},{key:"dSt",get:function(){return this.gSt}},{key:"Jw",get:function(){return this.Kw||(this.Kw=bZ(this)),this.Kw}}]),t}(),TZ=function(t){function n(n,i,e){var s;return(s=t.call(this,i,e)||this).pSt=void 0,s._St=J(function(){return s.bSt(s.kSt())},50),s.pSt=n,r.addEventListener("scroll",s._St,!!TR&&{passive:!0}),gu(function(){return s.bSt(s.kSt())}),s}E(n,t);var i=n.prototype;return i.kSt=function(){var t=this.pSt.getBoundingClientRect();return jt(g.max(0,g.min(r.innerWidth,t.right)-g.max(0,t.left))*g.max(0,g.min(r.innerHeight,t.bottom)-g.max(0,t.top))/(t.width*t.height),0,1)},i.Fm=function(){r.removeEventListener("scroll",this._St)},n}(function(){function t(t,n){this.gSt=void 0,this.ASt=void 0,this.wSt=1,this.TSt=-1,this.Kw=void 0,this.gSt=kZ(t),this.ASt=n}return t.prototype.bSt=function(t){this.wSt=t;var n=this.gSt,i=0;if(t>0)for(;i<n.length&&n[i]<=t;)++i;this.TSt!==i&&(this.TSt=i,this.ASt(t))},T(t,[{key:"vSt",get:function(){return this.wSt}},{key:"dSt",get:function(){return this.gSt}},{key:"Jw",get:function(){return this.Kw||(this.Kw=bZ(this)),this.Kw}}]),t}()),SZ=IY.getComponent("Button");var EZ=function(t){function n(n,i){var e;if((e=t.call(this,n,i)||this).SSt=void 0,e.controlText("Close Picture-in-Picture"),!function(t){return!!t&&Boolean(t.SSt)}(i))throw new l("Invalid Picture-in-picture options.");return e.SSt=i.SSt,e}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-close-button theo-pip-close"},i.handleClick=function(){this.SSt.ESt()},n}(SZ);IY.registerComponent("THEOPiPCloseButton",EZ);var IZ=.1,RZ=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).ISt=void 0,r.rk=void 0,r.RSt=void 0,r.wD=void 0,r.pSt=void 0,r.$q=!1,r._k=!1,r.CSt=!1,r.NSt=!1,r.Im=!1,r.ESt=void 0,r.DSt=!1,r.PSt=void 0,r.xSt=void 0,r.BSt=void 0,r.OSt=!1,r.LSt=void 0,r.MSt=function(){r.$q=!0,r.LSt&&!r.Ak&&r.PSt&&r.ISt&&r.PSt.vSt<=r.ISt&&r.qy(!1)},r.jSt=function(){r.RSt||(r.$q=!1,r.jy(!1))},r.kkt=function(){if(r.BSt){var t=r.wD.fSt;fB(r.BSt,t.localize("Video playing in Picture-in-Picture mode"))}},r.FSt=function(t){!r.NSt&&r.LSt&&(p(t)||(r.ISt&&t<=r.ISt||r.OSt?r._k||r.CSt||r.qy(!1):r._k?r.jy(!1):r.CSt=!1))},r.ISt=i.visibility,r.rk=i.position,r.RSt=i.retainPresentationModeOnSourceChange,r.LSt=void 0!==r.ISt,r.wD=n,r.pSt=n.cSt,r.ESt=e,r.$ht(),r}E(n,t);var i=n.prototype;return i.$ht=function(){this.wD.js("play",this.MSt),this.RSt||this.wD.js("sourcechange",this.jSt),this.wD.fSt.on("languagechange",this.kkt)},i.USt=function(){var t=this.rk;if(t)return"theo-pip-"+t},i.qy=function(t){var n=this.pSt;if(n&&!this.HSt){this.Im||this.XSt(),this.zSt(),rr(n,"theo-pip");var i=this.USt();i&&rr(n,i),this._k=!0,this.NSt=t,this.CSt=!1,this.Ys(new PE(DE.PICTURE_IN_PICTURE))}},i.jy=function(t){var n=this.pSt;if(n){this.VSt(),sr(n,"theo-pip");var i=this.USt();i&&sr(n,i),this._k=!1,this.CSt=t,this.OSt=this.NSt,this.NSt=!1,this.Ys(new PE(DE.INLINE))}},i.XSt=function(){if(!this.Im){var t=this.wD.fSt;t.addChild("THEOPiPCloseButton",{SSt:this});var n=s.createElement("div");n.className="theo-pip-overlay",this.BSt=s.createElement("div"),this.BSt.className="theo-pip-overlay-text",fB(this.BSt,t.localize("Video playing in Picture-in-Picture mode")),n.appendChild(this.BSt),t.el().appendChild(n),this.xSt=n,this.Im=!0}},i.WSt=function(){this.LSt&&!this.DSt&&this.wD.qSt&&(this.PSt=this.wD.qSt.GSt(IZ,this.FSt),this.DSt=!0)},i.$St=function(){this.PSt&&this.wD.qSt&&(this.wD.qSt.YSt(this.PSt),this.DSt=!1)},i.zSt=function(){var t=this.wD.fSt.contentEl(),n=t.getBoundingClientRect(),i=s.documentElement.clientWidth,e=s.documentElement.clientHeight;t.style.top=n.top+"px",t.style.bottom=e-n.bottom+"px",t.style.right=i-n.right+"px",t.style.left=n.left+"px",t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.position="fixed"},i.VSt=function(){var t=this.wD.fSt.contentEl();t.style.top="",t.style.bottom="",t.style.right="",t.style.left="",t.style.width="",t.style.height="",t.style.position=""},i.QSt=function(){sr(this.pSt,"theo-pip"),this.Ak&&this.rk&&sr(this.pSt,"theo-pip-"+this.rk),this.xSt&&(tr(this.xSt),this.xSt=void 0)},i.Bd=function(){this.QSt(),this.$St(),this.Ks(),this.wD.Js("play",this.MSt),this.wD.Js("sourcechange",this.jSt),this.wD.fSt.off("languagechange",this.kkt)},T(n,[{key:"Ak",get:function(){return this._k}},{key:"HSt",get:function(){return this.wD.yC()}}]),n}(Xy),CZ=function(){function t(t){this.pSt=void 0,this.ZSt=1,this.KSt=0,this.JSt=[],this.Kw=void 0,this.pSt=t,this.GSt(IZ,this.tEt())}var n=t.prototype;return n.tEt=function(t){var n=this;return function(i){n.ZSt=i,null==t||t(n.ZSt)}},n.GSt=function(t,n){if(p(t))throw new v("step is not of the right type");if(t>1||t<=0)throw new RangeError("The step must be a number greater than 0 and smaller than or equal to 1");var i;return i="function"==typeof r.IntersectionObserver?new AZ(this.pSt,t,this.tEt(n)):new TZ(this.pSt,t,this.tEt(n)),this.JSt.push(i),i},n.YSt=function(t){t.Fm(),Gs(this.JSt,t)},n.nEt=function(t){for(var n=0,i=this.JSt;n<i.length;n++){var e=i[n];if(e.Jw===t)return e}},n.Bd=function(){for(var t=0,n=this.JSt;t<n.length;t++){n[t].Fm()}Zs(this.JSt)},T(t,[{key:"iEt",get:function(){return this.ZSt}},{key:"ISt",get:function(){return this.KSt},set:function(t){if(p(t)||t<0||t>1)throw new RangeError("The threshold must be a value between 0 and 1");this.KSt=t}},{key:"Jw",get:function(){var t;return this.Kw||(this.Kw=(t=this,{get ratio(){return t.iEt},get visible(){return t.iEt>t.ISt},get visibleThreshold(){return t.ISt},set visibleThreshold(n){n=_y(n),t.ISt=n},addObserver:function(n,i){return n=_y(n),t.GSt(n,i).Jw},removeObserver:function(n){var i=t.nEt(n);i&&t.YSt(i)}})),this.Kw}}]),t}();YC(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).qSt=void 0,e.qSt=new CZ(n),e}E(n,t);var i=n.prototype;return i.$w=function(){var n=this;return dy(t.prototype.$w.call(this),{get visibility(){return n.qSt.Jw}})},i.Bd=function(){this.qSt&&(this.qSt.Bd(),this.qSt=void 0),t.prototype.Bd.call(this)},n}(t)},UC.CU),QC(function(t){return function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).qSt=void 0,r.qSt=new CZ(n),r}E(n,t);var i=n.prototype;return i.$w=function(){var n=this;return dy(t.prototype.$w.call(this),{get visibility(){return n.qSt.Jw}})},i.Bd=function(){this.qSt&&(this.qSt.Bd(),this.qSt=void 0),t.prototype.Bd.call(this)},n}(t)},HC.PU);var NZ=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).pD=void 0,r.eEt=void 0,r.rEt=function(){return r.eP()},r.ESt=function(){return r.sP(DE.INLINE)},r.sEt=function(){r.rP()!==DE.FULLSCREEN&&r.eEt.WSt(),r.pD.Js("play",r.sEt)},r.pD=n,r.eEt=new RZ(n,e.pip,r.ESt),r.eEt.js("presentationmodechange",r.rEt),r.pD.js("play",r.sEt),r.eP(),r}E(n,t);var i=n.prototype;return i.rP=function(){var n=t.prototype.rP.call(this);return n===DE.INLINE&&this.eEt&&this.eEt.Ak?DE.PICTURE_IN_PICTURE:n},i.uP=function(n){switch(n){case DE.PICTURE_IN_PICTURE:return!0;default:return t.prototype.uP.call(this,n)}},i.oP=function(n,i){n===DE.FULLSCREEN&&this.eEt.$St(),t.prototype.oP.call(this,n,i),n!==DE.FULLSCREEN&&this.eEt.WSt()},i.aP=function(n,i){n!==i&&(n===DE.FULLSCREEN&&this.eEt.jy(!1),n===DE.INLINE&&i===DE.PICTURE_IN_PICTURE&&this.eEt.jy(!0),t.prototype.aP.call(this,n,i),n===DE.PICTURE_IN_PICTURE&&(i===DE.INLINE?this.eEt.qy(!0):this.eEt.qy(!1)))},i.Bd=function(){t.prototype.Bd.call(this),this.eEt.Bd()},n}(LE),DZ=function(t){function n(n,i){var e;return(e=t.call(this)||this).fSt=void 0,e.uEt=void 0,e.nkt=!1,e.oEt=!1,e.ax=!1,e.aEt=function(){if(!e.ax){var t=e.nkt,n=e.yC;t!==n&&(e.nkt=n,e.Ys(new DR))}},e.hEt=function(){e.oEt=e.uEt.yC,e.aEt()},e.cEt=function(){e.ax||(e.fSt.isFullWindow&&e.fSt.supportsFullScreen()||e.oEt&&!e.fSt.supportsFullScreen())&&(e.ax=!0,e.fSt.exitFullscreen(),e.fSt.requestFullscreen(),e.ax=!1,e.aEt())},e.fSt=n,e.uEt=i,e.fSt.on("fullscreenchange",e.aEt),e.uEt.js(hE.f_,e.hEt),e.uEt.js(hE.mC,e.cEt),e.uEt.js(hE.Q_,e.qs),e.aEt(),e}E(n,t);var i=n.prototype;return i.qy=function(){this.fSt.requestFullscreen()},i.jy=function(){this.fSt.exitFullscreen(),this.uEt.jy()},i.Bd=function(){this.Ks(),this.fSt.off("fullscreenchange",this.aEt),this.uEt.Js(hE.f_,this.aEt),this.uEt.Js(hE.Q_,this.qs)},T(n,[{key:"kC",get:function(){return BR.JO(this.fSt.el())||this.fSt.supportsFullScreen()}},{key:"yC",get:function(){return this.fSt.isFullscreen()||this.oEt}}]),n}(Au);QC(function(t){return function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).fEt=void 0,r.lEt=void 0,r.lEt=new DZ(r.fSt,r.VN),r.fEt=new NZ(Kt(r),r.lEt,e),r.fEt.js("presentationmodechange",r.qs),r}E(n,t);var i=n.prototype;return i.yC=function(){return"fullscreen"===this.fEt.rP()},i.$w=function(){var n=this.fEt;return dy(t.prototype.$w.call(this),{get presentation(){return n.Jw},get presentationMode(){return n.Jw.currentMode},set presentationMode(t){n.Jw.requestMode(t)}})},i.Bd=function(){this.fEt.Bd(),this.lEt.Bd(),t.prototype.Bd.call(this)},n}(t)},HC.PU);var PZ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).pSt=void 0,r.we=void 0,r.Jkt=void 0,r.pSt=n.el(),r.we=qE.UNAVAILABLE,r.controlText("Unavailable"),r.Jkt=new rQ(Kt(r),r.controlText()),r.vEt.addEventListener("statechange",function(t){var n=t;r.ayt(n.state)}),i.Or.Wt&&new YY(r.el()),r.ayt(r.vEt.state),r.on(n,"languagechange",r.kkt),r}E(n,t);var e=n.prototype;return e.buildCSSClass=function(){return"theo-cast-button theo-"+this.dEt+"-button theo-controlbar-button "+t.prototype.buildCSSClass.call(this)},e.createEl=function(n,i,e){var r=t.prototype.createEl.call(this),u=s.createElement("div");u.className="theo-button-icon-blur";var o=s.createElement("div");return o.className="theo-cast-svg-container",o.innerHTML=this.wEt,r.appendChild(u),r.appendChild(o),r},e.handleClick=function(n){t.prototype.handleClick.call(this,n),this.we===qE.AVAILABLE?this.vEt.start():this.we!==qE.CONNECTED&&this.we!==qE.CONNECTING||this.vEt.stop()},e.ayt=function(t){sr(this.pSt,"theo-"+this.dEt+"-"+this.we),this.we=t,rr(this.pSt,"theo-"+this.dEt+"-"+this.we),this.kkt()},e.kkt=function(){this.gEt(this.we),this.Jkt.sAt=this.controlText()},e.gEt=function(t){t===qE.CONNECTED?this.controlText("Stop Casting"):t===qE.AVAILABLE?this.controlText("Start Casting"):t===qE.CONNECTING?this.controlText("Connecting"):this.controlText("Unavailable")},T(n,[{key:"vEt",get:function(){throw new l("mEt")}},{key:"wEt",get:function(){return this.kyt.wEt}},{key:"dEt",get:function(){return this.kyt.dEt}}]),n}($Y(IY.getComponent("Button"))),xZ='\n<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">\n    <path class="theo-cast-inner" d="M5 7h14v8H5z"/>\n    <path d="M6 22h12l-6-6zM21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v-2H3V5h18v12h-4v2h4c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>\n</svg>',BZ=function(t){function n(n,i){var e,r,s;return(s=t.call(this,n,Fr({},i,{dEt:"airplay",wEt:xZ}))||this).yEt=function(){s.enable()},s.pEt=function(){s.disable()},null==(e=s.Jbt.ads)||e.addEventListener("adbreakbegin",s.pEt),null==(r=s.Jbt.ads)||r.addEventListener("adbreakend",s.yEt),s.Jbt.addEventListener("currentsourcechange",s.yEt),s}return E(n,t),n.prototype.dispose=function(){var n,i;null==(n=this.Jbt.ads)||n.removeEventListener("adbreakbegin",this.pEt),null==(i=this.Jbt.ads)||i.removeEventListener("adbreakend",this.yEt),this.Jbt.removeEventListener("currentsourcechange",this.yEt),t.prototype.dispose.call(this)},T(n,[{key:"vEt",get:function(){return this.Jbt.cast.airplay}}]),n}(PZ);IY.registerComponent("airplayButton",BZ),YC(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).zct=new nW,e.js("presentationmodechange",function(t){t.presentationMode===DE.FULLSCREEN?e.enterFullscreen():e.exitFullscreen()}),e}E(n,t);var i=n.prototype;return i.enterFullscreen=function(){this.zct.eK("THEOplayerFullscreen","true")},i.exitFullscreen=function(){this.zct.eK("THEOplayerFullscreen","false")},n}(t)},UC.CU),n.ChromelessPlayer=_N,n.Player=function t(n,i){var e=function(t){var n=t=Op(t);return n.ui=n.ui||{},void 0!==t.width&&void 0===n.ui.width&&(n.ui.width=t.width),void 0!==t.height&&void 0===n.ui.height&&(n.ui.height=t.height),void 0!==t.fluid&&void 0===n.ui.fluid&&(n.ui.fluid=t.fluid),n.pip=NE(n.pip),n}(i),r=s.createElement("div");r.style.position="absolute",n.appendChild(r);var u=new(_Z())(n,r,e),o=u.Jw;return u.AU(),u.dX(oN),w.defineProperty(o,"constructor",{value:t}),o=vy(o),nN(u),function(t){for(var n=0;n<JC.length;n++)(0,JC[n])(t)}(u),o},n.cache=k$,n.createGlobals=NV,n.features=AN,n.getCueMirrorMap=RV,n.getGlobalId=CV,n.getSdkEventBridge=IV,n.playerSuiteVersion="2022.3.3",n.players=TN,n.registerContentProtectionIntegration=SN,n.utils=kN,n.version="4.1.1",n.videojs=IY,w.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
