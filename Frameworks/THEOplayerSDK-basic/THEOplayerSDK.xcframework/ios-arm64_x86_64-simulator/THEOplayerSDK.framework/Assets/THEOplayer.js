/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), promise-polyfill
 (MIT - Copyright (c) 2014 Taylor Hakes & Forbes Lindesay),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.4.2 (4.4.0)
 Created: 2022-11-28T10:10:48.512Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e,r=t.window,s=t.document,u=t.location,o=t.navigator,a=t.setTimeout,h=t.clearTimeout,c=t.setInterval,f=t.clearInterval,l=t.Error,v=t.TypeError,d=t.SyntaxError,w=t.Object,g=t.Math,m=t.parseInt,y=t.parseFloat,p=t.isNaN,_=t.Uint8Array,b=t.Worker,k=(t.WorkerGlobalScope,t.XMLHttpRequest);function A(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),w.defineProperty(t,e.key,e)}}function T(t,n,i){return n&&A(t.prototype,n),i&&A(t,i),w.defineProperty(t,"prototype",{writable:!1}),t}function S(t,n){return(S=w.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function E(t,n){t.prototype=w.create(n.prototype),t.prototype.constructor=t,S(t,n)}!function(t){t.l="web",t.g="android",t.I="android-tv",t.R="ios",t.N="tvos",t.M="chromecast"}(e||(e={}));var I=o?o.userAgent:"",R=I.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),C=I.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),D=I.match(/Android ([0-9\.]+)/i),N=I.match(/Windows NT ([0-9\.]+)/i),P=I.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),x=I.match(/Firefox\/([0-9\.]+)/i),B=I.match(/OPR\/(\d+\.\d+)/i),O=I.match(/Tizen ([0-9\.]+)/i),L=I.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),M=function(){function n(){this.U=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.F=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(I)||/(macintosh|mac(?=_powerpc)\s)/i.test(I),this.V=/Windows NT/i.test(I),this.G=N?y(N[1]):0,this.Y=/Android/i.test(I),this.j=D?y(D[1]):0,this.Z=/windows phone (8|8\.1)/i.test(I),this.K=/iPhone/i.test(I),this.J=/iPad/i.test(I),this.nt=this.F&&this.U&&!this.J,this.ut=/iPod/i.test(I),this.ot=/Mobile Safari/i.test(I),this.ct=/EOSSTB/i.test(I),this.ft=(this.K||this.J||this.nt||this.ut)&&!this.Z,this.vt=L?y(L[2]):0,this.dt=this.Z||this.ft||this.Y||this.ot,this.wt=/CriOS/i.test(I),this._t=Boolean(t.chrome&&/google/i.test(o.vendor))||this.wt,this.yt=this._t&&/Edg\//i.test(o.userAgent),this.kt=C?m(C[1],10):0,this.bt=Boolean(t.chrome||/Chrome/i.test(I)||/CriOS/i.test(I)),this.At=R?m(R[1],10):0,this.Tt=/SMART-TV.*Tizen/i.test(I),this.St=O?y(O[1]):0,this.Et=/webos|web0s/i.test(I),this.It=/Edge\/\d+/i.test(I),this.Rt=/Trident/i.test(I),this.Dt=this.Rt&&!t.ActiveXObject&&"ActiveXObject"in t,this.Nt=/Vivaldi/i.test(I),this.Ct=/Firefox/i.test(I)&&!/Seamonkey/i.test(I),this.Pt=x?y(x[1]):0,this.Bt=/Safari/i.test(I)&&!/Chrome/i.test(I)&&!this.Z&&!this.Tt,this.Ot=P?y(P[2]):0,this.xt=Boolean(B),this.Lt=B?y(B[1]):0,this.Mt=/CrKey/.test(I),this.Ut=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(I),this.Xt="ios"===e.I,this.Ht="ios"===e.g,this.Ft=this.Ht||this.Xt,this.zt="ios"===e.R,this.Vt="ios"===e.N,this.Wt="ios"===e.M}return T(n,[{key:"Gt",get:function(){return this.U}},{key:"qt",get:function(){return this.F}},{key:"Yt",get:function(){return this.V}},{key:"jt",get:function(){return this.G}},{key:"Qt",get:function(){return this.Y}},{key:"Zt",get:function(){return this.j}},{key:"Kt",get:function(){return this.Z}},{key:"Jt",get:function(){return this.K}},{key:"$t",get:function(){return this.J}},{key:"in",get:function(){return this.nt}},{key:"un",get:function(){return this.ut}},{key:"hn",get:function(){return this.ft}},{key:"cn",get:function(){return this.vt}},{key:"fn",get:function(){return this.ct}},{key:"vn",get:function(){return this.ot}},{key:"dn",get:function(){return this.dt}},{key:"wn",get:function(){return this.wt}},{key:"_n",get:function(){return this._t}},{key:"yn",get:function(){return this.At}},{key:"pn",get:function(){return this.yt}},{key:"An",get:function(){return this.kt}},{key:"Tn",get:function(){return this.Tt}},{key:"Sn",get:function(){return this.St}},{key:"En",get:function(){return this.Et}},{key:"In",get:function(){return this.It}},{key:"Rn",get:function(){return this.Rt}},{key:"Dn",get:function(){return this.Dt}},{key:"Nn",get:function(){return this.Nt}},{key:"Cn",get:function(){return this.Ct}},{key:"Pn",get:function(){return this.Pt}},{key:"Bn",get:function(){return this.Bt}},{key:"On",get:function(){return this.Ot}},{key:"xn",get:function(){return this.xt}},{key:"Ln",get:function(){return this.Lt}},{key:"Mn",get:function(){return this.Mt}},{key:"Un",get:function(){return this.Ut}},{key:"Xn",get:function(){return!(!this.En&&!this.Tn)&&this.yn<=56}},{key:"Hn",get:function(){return this.Xt}},{key:"Fn",get:function(){return this.Ht}},{key:"zn",get:function(){return this.Ft}},{key:"Vn",get:function(){return this.zt}},{key:"Wn",get:function(){return this.Vt}},{key:"Gn",get:function(){return this.Wt}},{key:"qn",get:function(){return this.bt}}]),n}();M.Yn=new M;var j=M.Yn,F={}.hasOwnProperty,U={}.toString;function H(t){return null!=t}function X(t){return void 0===t}var V=Array.isArray||function(t){return"[object Array]"===U.call(t)};function z(t){return W(t)&&F.call(t,"length")&&Z(t.length)}function W(t){return"object"==typeof t&&null!==t}function q(t){return W(t)&&t.constructor&&t.constructor===w}function G(t){return"string"==typeof t}function $(t){return"boolean"==typeof t}function Y(t){return Boolean(t)&&"function"==typeof t.then}function Q(t){return"[object Date]"===U.call(t)}function Z(t){return"number"==typeof t}var K=function(){},J=function(t){return t};function tt(t,n){var e=-1/0;return function(){var r=i.ir();r-e>=n&&(t.apply(void 0,arguments),e=r)}}function nt(t,n,e){var r;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var a=this,h=e&&!r;void 0!==r&&i.jn(r),r=i.Qn(function(){r=void 0,e||t.apply(a,u)},n),h&&t.apply(a,u)}}var it=!(j.Rn&&!j.Dn),et=t.console;function rt(t){if(W(t))try{return JSON.stringify(t)}catch(t){}return t}function st(t){return t.map(rt).join(" ")}function ut(t){var n=et&&et[t];return n?n.bind&&it?n.bind(et):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];et[t](st(i))}:void 0}var ot,at=ut("log")||K,ht=ut("warn")||at.bind(void 0,"WARNING:"),ct=ut("error")||at.bind(void 0,"ERROR:"),ft=(ot=et&&et.assert)?ot.bind&&it?ot.bind(et):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];et.assert(t,st(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ct.apply(void 0,["Assertion failed:"].concat(i))}},lt=null;try{lt=new WebAssembly.Instance(new WebAssembly.Module(new _([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function vt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function dt(t){return!0===(t&&t.Zn)}function wt(t){var n=g.clz32(t&-t);return t?31-n:n}vt.prototype.Zn,w.defineProperty(vt.prototype,"Zn",{value:!0}),vt.isLong=dt;var gt={},mt={};function yt(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=mt[t])?e:(i=_t(t,0,!0),r&&(mt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=gt[t])?e:(i=_t(t,t<0?-1:0,!1),r&&(gt[t]=i),i)}function pt(t,n){if(p(t))return n?Ct:Rt;if(n){if(t<0)return Ct;if(t>=St)return Bt}else{if(t<=-Et)return Ot;if(t+1>=Et)return xt}return t<0?pt(-t,n).neg():_t(t%Tt|0,t/Tt|0,n)}function _t(t,n,i){return new vt(t,n,i)}vt.fromInt=yt,vt.fromNumber=pt,vt.fromBits=_t;var bt=g.pow;function kt(t,n,i){if(0===t.length)throw l("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?Ct:Rt;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw l("interior hyphen");if(0===e)return kt(t.substring(1),n,i).neg();for(var r=pt(bt(i,8)),s=Rt,u=0;u<t.length;u+=8){var o=g.min(8,t.length-u),a=m(t.substring(u,u+o),i);if(o<8){var h=pt(bt(i,o));s=s.mul(h).add(pt(a))}else s=(s=s.mul(r)).add(pt(a))}return s.unsigned=n,s}function At(t,n){return"number"==typeof t?pt(t,n):"string"==typeof t?kt(t,n):_t(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}vt.fromString=kt,vt.fromValue=At;var Tt=4294967296,St=Tt*Tt,Et=St/2,It=yt(1<<24),Rt=yt(0);vt.ZERO=Rt;var Ct=yt(0,!0);vt.UZERO=Ct;var Dt=yt(1);vt.ONE=Dt;var Nt=yt(1,!0);vt.UONE=Nt;var Pt=yt(-1);vt.NEG_ONE=Pt;var xt=_t(-1,2147483647,!1);vt.MAX_VALUE=xt;var Bt=_t(-1,-1,!0);vt.MAX_UNSIGNED_VALUE=Bt;var Ot=_t(0,-2147483648,!1);vt.MIN_VALUE=Ot;var Lt=vt.prototype;Lt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Lt.toNumber=function(){return this.unsigned?(this.high>>>0)*Tt+(this.low>>>0):this.high*Tt+(this.low>>>0)},Lt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ot)){var n=pt(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=pt(bt(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),a=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return a+u;for(;a.length<6;)a="0"+a;u=""+a+u}},Lt.getHighBits=function(){return this.high},Lt.getHighBitsUnsigned=function(){return this.high>>>0},Lt.getLowBits=function(){return this.low},Lt.getLowBitsUnsigned=function(){return this.low>>>0},Lt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ot)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Lt.isZero=function(){return 0===this.high&&0===this.low},Lt.eqz=Lt.isZero,Lt.isNegative=function(){return!this.unsigned&&this.high<0},Lt.isPositive=function(){return this.unsigned||this.high>=0},Lt.isOdd=function(){return 1==(1&this.low)},Lt.isEven=function(){return 0==(1&this.low)},Lt.equals=function(t){return dt(t)||(t=At(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Lt.eq=Lt.equals,Lt.notEquals=function(t){return!this.eq(t)},Lt.neq=Lt.notEquals,Lt.ne=Lt.notEquals,Lt.lessThan=function(t){return this.comp(t)<0},Lt.lt=Lt.lessThan,Lt.lessThanOrEqual=function(t){return this.comp(t)<=0},Lt.lte=Lt.lessThanOrEqual,Lt.le=Lt.lessThanOrEqual,Lt.greaterThan=function(t){return this.comp(t)>0},Lt.gt=Lt.greaterThan,Lt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Lt.gte=Lt.greaterThanOrEqual,Lt.ge=Lt.greaterThanOrEqual,Lt.compare=function(t){if(dt(t)||(t=At(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Lt.comp=Lt.compare,Lt.negate=function(){return!this.unsigned&&this.eq(Ot)?Ot:this.not().add(Dt)},Lt.neg=Lt.negate,Lt.add=function(t){dt(t)||(t=At(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=0,h=0,c=0,f=0;return c+=(f+=r+(65535&t.low))>>>16,h+=(c+=e+o)>>>16,a+=(h+=i+u)>>>16,a+=n+s,_t((c&=65535)<<16|(f&=65535),(a&=65535)<<16|(h&=65535),this.unsigned)},Lt.subtract=function(t){return dt(t)||(t=At(t)),this.add(t.neg())},Lt.sub=Lt.subtract,Lt.multiply=function(t){if(this.isZero())return this;if(dt(t)||(t=At(t)),lt)return _t(lt.mul(this.low,this.high,t.low,t.high),lt.get_high(),this.unsigned);if(t.isZero())return this.unsigned?Ct:Rt;if(this.eq(Ot))return t.isOdd()?Ot:Rt;if(t.eq(Ot))return this.isOdd()?Ot:Rt;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(It)&&t.lt(It))return pt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=65535&t.low,h=0,c=0,f=0,l=0;return f+=(l+=r*a)>>>16,c+=(f+=e*a)>>>16,f&=65535,c+=(f+=r*o)>>>16,h+=(c+=i*a)>>>16,c&=65535,h+=(c+=e*o)>>>16,c&=65535,h+=(c+=r*u)>>>16,h+=n*a+i*o+e*u+r*s,_t((f&=65535)<<16|(l&=65535),(h&=65535)<<16|(c&=65535),this.unsigned)},Lt.mul=Lt.multiply,Lt.divide=function(t){if(dt(t)||(t=At(t)),t.isZero())throw l("division by zero");var n,i,e;if(lt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?_t((this.unsigned?lt.div_u:lt.div_s)(this.low,this.high,t.low,t.high),lt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Ct:Rt;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Ct;if(t.gt(this.shru(1)))return Nt;e=Ct}else{if(this.eq(Ot))return t.eq(Dt)||t.eq(Pt)?Ot:t.eq(Ot)?Dt:(n=this.shr(1).div(t).shl(1)).eq(Rt)?t.isNegative()?Dt:Pt:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(Ot))return this.unsigned?Ct:Rt;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=Rt}for(i=this;i.gte(t);){n=g.max(1,g.floor(i.toNumber()/t.toNumber()));for(var r=g.ceil(g.log(n)/g.LN2),s=r<=48?1:bt(2,r-48),u=pt(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=pt(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Dt),e=e.add(u),i=i.sub(o)}return e},Lt.div=Lt.divide,Lt.modulo=function(t){return dt(t)||(t=At(t)),lt?_t((this.unsigned?lt.rem_u:lt.rem_s)(this.low,this.high,t.low,t.high),lt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Lt.mod=Lt.modulo,Lt.rem=Lt.modulo,Lt.not=function(){return _t(~this.low,~this.high,this.unsigned)},Lt.countLeadingZeros=function(){return this.high?g.clz32(this.high):g.clz32(this.low)+32},Lt.clz=Lt.countLeadingZeros,Lt.countTrailingZeros=function(){return this.low?wt(this.low):wt(this.high)+32},Lt.ctz=Lt.countTrailingZeros,Lt.and=function(t){return dt(t)||(t=At(t)),_t(this.low&t.low,this.high&t.high,this.unsigned)},Lt.or=function(t){return dt(t)||(t=At(t)),_t(this.low|t.low,this.high|t.high,this.unsigned)},Lt.xor=function(t){return dt(t)||(t=At(t)),_t(this.low^t.low,this.high^t.high,this.unsigned)},Lt.shiftLeft=function(t){return dt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?_t(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):_t(0,this.low<<t-32,this.unsigned)},Lt.shl=Lt.shiftLeft,Lt.shiftRight=function(t){return dt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?_t(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):_t(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Lt.shr=Lt.shiftRight,Lt.shiftRightUnsigned=function(t){return dt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?_t(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):_t(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Lt.shru=Lt.shiftRightUnsigned,Lt.shr_u=Lt.shiftRightUnsigned,Lt.rotateLeft=function(t){var n;return dt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?_t(this.high,this.low,this.unsigned):t<32?(n=32-t,_t(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),_t(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Lt.rotl=Lt.rotateLeft,Lt.rotateRight=function(t){var n;return dt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?_t(this.high,this.low,this.unsigned):t<32?(n=32-t,_t(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),_t(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Lt.rotr=Lt.rotateRight,Lt.toSigned=function(){return this.unsigned?_t(this.low,this.high,!1):this},Lt.toUnsigned=function(){return this.unsigned?this:_t(this.low,this.high,!0)},Lt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Lt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Lt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},vt.fromBytes=function(t,n,i){return i?vt.fromBytesLE(t,n):vt.fromBytesBE(t,n)},vt.fromBytesLE=function(t,n){return new vt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},vt.fromBytesBE=function(t,n){return new vt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Mt=9007199254740991,jt=g.pow(2,-52);function Ft(t,n,i){return g.min(g.max(t,n),i)}function Ut(t,n,i){return t===n||g.abs(t-n)<=i}function Ht(t){return t!=t}function Xt(t,n){return t===n||Ht(t)&&Ht(n)}function Vt(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function zt(t){return!p(t.getTime())}function Wt(){return Date.now()||(new Date).getTime()}function qt(t){return t/1e3}function Gt(t){return 1e3*t}var $t,Yt=vt.fromNumber(Mt);function Qt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Yt))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function Zt(t){return t.Kn===$t.Jn}function Kt(t){return t.Kn===$t.$n}function Jt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Jn=1]="Jn",t[t.ni=2]="ni",t[t.$n=3]="$n",t[t.ei=4]="ei",t[t.ri=9]="ri"}($t||($t={}));var tn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];l.apply(this,n)};(tn.prototype=w.create(l.prototype)).constructor=tn;var nn=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,l.captureStackTrace&&l.captureStackTrace(Jt(e),e.constructor),e}return E(n,t),T(n,[{key:"name",get:function(){return"BaseError"}}]),n}(tn),en=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return E(n,t),n}(nn),rn=function(){function t(){}return t.prototype.ui=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new en(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new en;return new fn(n)},t}(),sn=function(){function t(t){this.oi=void 0,this.oi=t}var n=t.prototype;return n.ai=function(t){return this.oi.isEqualNode(t.oi)},n.ci=function(n){return new t(this.oi.cloneNode(n))},T(t,[{key:"Kn",get:function(){return $t.ni}},{key:"di",get:function(){var t;return null!=(t=this.oi.localName)?t:dn(this.oi.nodeName)}},{key:"wi",get:function(){return this.oi.nodeName}},{key:"_i",get:function(){var t;return null!=(t=this.oi.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.oi.prefix)?t:void 0}},{key:"Ai",get:function(){return this.oi.nodeValue}}]),t}(),un=function(){function t(t){this.Ti=void 0,this.Si=void 0,this.Ti=t}var n=t.prototype;return n.Ei=function(t){return this.Ii.filter(function(n){return ln(n)&&n.Ri===t})},n.Di=function(t,n){return this.Ii.filter(function(i){return ln(i)&&i.di===n&&i._i===t})},n.Ni=function(t){this.Ti.appendChild(t.Ci),this.Si&&this.Si.push(t)},n.ai=function(t){return this.Ti.isEqualNode(t.Ci)},T(t,[{key:"Ii",get:function(){return void 0===this.Si&&(this.Si=function(t){for(var n=[],i=0;i<t.length;i++){var e=vn(t.item(i));e&&n.push(e)}return n}(this.Ti.childNodes)),this.Si}},{key:"Pi",get:function(){return this.Ii.filter(ln)}},{key:"Ci",get:function(){return this.Ti}}]),t}(),on=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.Bi=function(t){if(this.Ti.hasAttribute(t))return this.Ti.getAttribute(t)},i.Oi=function(t,n){if(this.Ti.hasAttributeNS(t,n))return this.Ti.getAttributeNS(t,n)},i.xi=function(t){this.Ti.removeAttribute(t)},i.Li=function(t,n){this.Ti.removeAttributeNS(t,n)},i.Mi=function(t,n){this.Ti.setAttribute(t,n)},i.Ui=function(t,n,i){this.Ti.setAttributeNS(t,n,i)},i.ci=function(t){return new n(this.Ti.cloneNode(t))},T(n,[{key:"Kn",get:function(){return $t.Jn}},{key:"di",get:function(){var t;return null!=(t=this.Ti.localName)?t:dn(this.Ti.nodeName)}},{key:"_i",get:function(){var t;return null!=(t=this.Ti.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.Ti.prefix)?t:void 0}},{key:"Ri",get:function(){return this.Ti.nodeName}},{key:"Xi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new sn(t.item(i)));return n}(this.Ti.attributes)}},{key:"Hi",get:function(){return this.Ti.textContent}}]),n}(un),an=function(){function t(t){this.Ti=void 0,this.Ti=t}return t.prototype.ai=function(t){return this.Fi===t.Fi},T(t,[{key:"Fi",get:function(){return this.Ti.nodeValue}},{key:"Ci",get:function(){return this.Ti}}]),t}(),hn=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},T(n,[{key:"Kn",get:function(){return $t.$n}}]),n}(an),cn=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},T(n,[{key:"Kn",get:function(){return $t.ei}}]),n}(an),fn=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},T(n,[{key:"Kn",get:function(){return $t.ri}},{key:"zi",get:function(){return new on(this.Ti.documentElement)}}]),n}(un);function ln(t){return Zt(t)}function vn(t){switch(t.nodeType){case $t.Jn:return new on(t);case $t.$n:return new hn(t);case $t.ei:return new cn(t)}}function dn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function wn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),w.defineProperty(t,e.key,e)}}function gn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){mn(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&mn(i,null,t.length,t),t}function mn(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(r=0;r<h;r+=f)for(u=(s=r+i)+i,s>h&&(s=h),u>h&&(u=h),o=r,a=s;;)if(o<s&&a<u)n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<s)e[c++]=t[o++];else{if(!(a<u))break;e[c++]=t[a++]}}var yn=/[a-zA-Z]/,pn=/[0-9]/,_n=/[0-9a-fA-F]/,bn=/^0x/i,kn=/^[0-9]+$/,An=/^[0-9a-fA-F]+$/,Tn=/^[0-7]+$/,Sn=w.prototype.toString,En=Array.isArray||function(t){return"[object Array]"===Sn.call(t)},In="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Rn(t){return En(t)?t:Array.from(t)}function Cn(t){return t>=65&&t<=90}function Dn(t){return Cn(t)||function(t){return t>=97&&t<=122}(t)}function Nn(t){return t>=48&&t<=57}function Pn(t){return Nn(t)||Dn(t)}function xn(t){return Nn(t)||t>=65&&t<=70||t>=97&&t<=102}function Bn(t){return Cn(t)?t+32:t}function On(t){return Nn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Ln(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Mn=g.min,jn=String.fromCharCode,Fn=16384;function Un(t){for(var n=t.length,i=[],e=0;e<n;e+=Fn){var r=Mn(e+Fn,n);i.push(jn.apply(null,t.slice(e,r)))}return i.join("")}var Hn=/[^\0-\x7E]/,Xn=/[\x2E\u3002\uFF0E\uFF61]/g,Vn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},zn=g.floor,Wn=String.fromCharCode;function qn(t){throw new RangeError(Vn[t])}function Gn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var $n,Yn,Qn,Zn=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Kn=function(t,n,i){var e=0;for(t=i?zn(t/700):t>>1,t+=zn(t/n);t>455;e+=36)t=zn(t/35);return zn(e+36*t/(t+38))},Jn=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Xn,".")).split("."),n).join(".");return e+r}(t,function(t){return Hn.test(t)?"xn--"+function(t){for(var n=[],i=(t=Gn(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var a=o[u];a<128&&n.push(Wn(a))}var h=n.length,c=h;for(h&&n.push("-");c<i;){for(var f=2147483647,l=0,v=t;l<v.length;l++){var d=v[l];d>=e&&d<f&&(f=d)}var w=c+1;f-e>zn((2147483647-r)/w)&&qn("overflow"),r+=(f-e)*w,e=f;for(var g=0,m=t;g<m.length;g++){var y=m[g];if(y<e&&++r>2147483647&&qn("overflow"),y==e){for(var p=r,_=36;;_+=36){var b=_<=s?1:_>=s+26?26:_-s;if(p<b)break;var k=p-b,A=36-b;n.push(Wn(Zn(b+k%A,0))),p=zn(k/A)}n.push(Wn(Zn(p,0))),s=Kn(r,w,c==h),r=0,++c}}++r,++e}return n.join("")}(t):t})};function ti(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Un(n)}function ni(t){if(t>=55296&&t<=57343)throw new l("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ii(t,n){return t>>n&63|128}function ei(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ni(t),n.push(t>>12&15|224),n.push(ii(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ii(t,12)),n.push(ii(t,6))),n.push(63&t|128)):n.push(t)}function ri(t){for(var n=[],i=0;i<t.length;i++){ei(t[i],n)}return n}function si(){if(Qn>=Yn)throw new l("Invalid byte index");var t=255&$n[Qn];if(Qn++,128==(192&t))return 63&t;throw new l("Invalid continuation byte")}function ui(){var t,n;if(Qn>Yn)throw new l("Invalid byte index");if(Qn===Yn)return!1;if(t=255&$n[Qn],Qn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|si())>=128)return n;throw new l("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|si()<<6|si())>=2048)return ni(n),n;throw new l("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|si()<<12|si()<<6|si())>=65536&&n<=1114111)return n;throw new l("Invalid UTF-8 detected")}function oi(t){return[37,Ln(t>>4),Ln(15&t)]}function ai(t){return function(t){return t>=0&&t<=31}(t)||t>126}function hi(t){return ai(t)||32===t||34===t||60===t||62===t||96===t}function ci(t){return hi(t)||35===t||63===t||123===t||125===t}function fi(t){return ci(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function li(t){return t<33||t>126||34===t||35===t||60===t||62===t}function vi(t){return li(t)||39===t}function di(t,n){if(!n(t))return[t];for(var i=ri([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,oi(s))}return e}function wi(t,n){for(var i=[],e=0,r=Gn(t);e<r.length;e++){var s=r[e];i.push.apply(i,di(s,n))}return ti(i)}function gi(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&xn(t[e+1])&&xn(t[e+2])){var s=On(t[e+1])<<4|On(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(ri(t))}function mi(t){return ti(function(t){$n=t.slice(),Yn=$n.length,Qn=0;for(var n,i=[];!1!==(n=ui());)i.push(n);return i}(gi(Gn(t))))}function yi(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,a=null,h=0;if(h<s&&":"===t[h]){if(!(h+1<s&&":"===t[h+1]))throw new v;h+=2,a=o+=1}for(;h<s;){if(8===o)throw new v("Too many groups");if(":"!==t[h]){for(var c=0,f=0;f<4&&h<s&&_n.test(t[h]);)c=c<<4|m(t[h],16),h+=1,f+=1;if("."===t[h]){if(0===f)throw new v;if(h-=f,o>6)throw new v;for(var l=0;h<s;){var d=null;if(l>0){if(!("."===t[h]&&l<4))throw new v;h+=1}if(!pn.test(t[h]))throw new v;for(;h<s&&pn.test(t[h]);){var w=m(t[h],10);if(null===d)d=w;else{if(0===d)throw new v;if((d=10*d+w)>255)throw new v}h+=1}u[o]=u[o]<<8|d,2!==(l+=1)&&4!==l||(o+=1)}if(4!==l)throw new v;break}if(":"===t[h]){if((h+=1)===s)throw new v}else if(h<s)throw new v;u[o]=c,o+=1}else{if(null!==a)throw new v("Too many :: groups");h+=1,a=o+=1}}if(null!==a){var g=o-a;for(o=7;0!==o&&g>0;)e=a+g-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,g-=1}else if(8!==o)throw new v;return u}function pi(t){var n=10,i=kn;return bn.test(t)?(t=t.slice(2),n=16,i=An):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Tn),""===t?0:i.test(t)?m(t,n):void 0}var _i={Vi:4},bi=/[\0\t\n\r #%/:?@\[\\\]]/,ki=/[\0\t\n\r #/:?@\[\\\]]/;function Ai(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{Vi:2,Wi:yi(t.slice(1,-1))}}if(!n)return function(t){if(ki.test(t))throw new v("Invalid code point in opaque host");var n=wi(t,ai);return""===n?_i:{Vi:3,Gi:n}}(t);var i=function(t){return function(t){return Jn(t.toLowerCase())}(t)}(mi(t));if(bi.test(i))throw new v("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=pi(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new v;if(i[i.length-1]>=g.pow(256,5-i.length))throw new v;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*g.pow(256,3-a);return o}}(i);return void 0!==e?{Vi:1,Wi:e}:""===i?_i:{Vi:0,qi:i}}function Ti(t){switch(t.Vi){case 0:return t.qi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Wi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Wi)+"]";case 3:return t.Gi;case 4:return""}}var Si=/\+/g;function Ei(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(Si," "),o=o.replace(Si," ");var a=mi(u),h=mi(o);i.push([a,h])}}return i}function Ii(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Ri(ri(Gn(e[0])))+"="+Ri(ri(Gn(e[1])))}return n}function Ri(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Pn(n)?i.push(r):i.push.apply(i,oi(r))}return Un(i)}var Ci=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Di(t){var n=""+t,i=Ci.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(Pi(s))if(xi(s)||r===i-1)e.push(Ni);else{var u=t.charCodeAt(r+1);xi(u)?(e.push(s,u),r++):e.push(Ni)}else e.push(s)}return t.slice(0,n)+Un(e)}(n,i.index):n}var Ni=65533,Pi=function(t){return 55296==(63488&t)},xi=function(t){return 0!=(1024&t)};function Bi(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Oi(t){t.Yi.length=0}function Li(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Yi,Ei(n))}function Mi(t){if(t.ji){var n=Ii(t.Yi);""===n&&(n=null),t.ji.ji.Qi=n}}var ji=function(){function t(t){if(void 0===t&&(t=void 0),this.ji=null,null==t)this.Yi=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof ji&&En(s.Yi)&&(!In||s[Symbol.iterator]===Fi))this.Yi=t.Yi.slice();else if(function(t){return null!=t&&(!!En(t)||!!In&&"function"==typeof t[Symbol.iterator])}(t)){this.Yi=[];for(var n=0,i=Rn(t);n<i.length;n++){var e=Rn(i[n]);if(2!==e.length)throw new v("Invalid name-value pair");this.Yi.push([Di(e[0]),Di(e[1])])}}else for(var r in this.Yi=[],t)w.prototype.hasOwnProperty.call(t,r)&&this.Yi.push([Di(r),Di(t[r])]);else(t=Di(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Yi=Ei(t);var s}var n=t.prototype;return n.append=function(t,n){t=Di(t),n=Di(n),this.Yi.push([t,n]),Mi(this)},n.delete=function(t){t=Di(t);for(var n=this.Yi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Mi(this)},n.get=function(t){t=Di(t);for(var n=this.Yi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Di(t);for(var n=this.Yi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Di(t);for(var n=this.Yi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Di(t),n=Di(n);for(var i=this.Yi,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),Mi(this)},n.sort=function(){gn(this.Yi,Bi),Mi(this)},n.toString=function(){return Ii(this.Yi)},n.entries=function(){return new Vi(this.Yi,Ui)},n.keys=function(){return new Vi(this.Yi,Hi)},n.values=function(){return new Vi(this.Yi,Xi)},n.forEach=function(t){var n=this;this.Yi.forEach(function(i){return t(i[1],i[0],n)})},t}(),Fi=ji.prototype.entries;In&&(ji.prototype[Symbol.iterator]=Fi);var Ui=function(t){return[t[0],t[1]]},Hi=function(t){return t[0]},Xi=function(t){return t[1]},Vi=function(){function t(t,n){this.Zi=0,this.Yi=t,this.Ki=n}return t.prototype.next=function(){return this.Zi<this.Yi.length?{done:!1,value:this.Ki(this.Yi[this.Zi++])}:{done:!0,value:void 0}},t}(),zi="null";var Wi=w.create(null);Wi.ftp=21,Wi.file=0,Wi.gopher=70,Wi.http=80,Wi.https=443,Wi.ws=80,Wi.wss=443;var qi=/^(?:\.|%2e)$/i,Gi=/^(?:\.|%2e){2}$/i;function $i(t){return qi.test(t)}function Yi(t){return Gi.test(t)}function Qi(t){return void 0!==Wi[t]}function Zi(t){return Qi(t.Ji)}function Ki(t){return""!==t.$i||""!==t.re}function Ji(t){var n=t.length;if(!(n>=2))return!1;if(!ne(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function te(t){return 2===t.length&&yn.test(t[0])&&(":"===t[1]||"|"===t[1])}function ne(t){return 2===t.length&&te(Un(t))}function ie(t){return te(t)&&":"===t[1]}function ee(t){var n=t.ue;0!==n.length&&("file"===t.Ji&&1===n.length&&ie(n[0])||n.pop())}function re(t){return null===t.oe||_i===t.oe||t.fe||"file"===t.Ji}var se=-1,ue=/\t|\n|\r/g,oe=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function ae(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new ce,t=t.replace(oe,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,a=!1,h=Gn(t=t.replace(ue,"")),c=h.length,f=0;f<=c;){var l=f<c?h[f]:se;switch(r){case 0:if(!Dn(l)){if(null===e){s.length=0,r=2;continue}throw new v("Invalid scheme")}s.push(Bn(l)),r=1;break;case 1:if(Pn(l)||43===l||45===l||46===l)s.push(Bn(l));else{if(58!==l){if(null===e){s.length=0,r=2,f=0;continue}throw new v("Invalid scheme")}var d=ti(s);if(null!==e){if(Qi(i.Ji)&&!Qi(d))return;if(!Qi(i.Ji)&&Qi(d))return;if((Ki(i)||null!==i.we)&&"file"===d)return;if("file"===i.Ji&&(i.oe===_i||null===i.oe))return}if(i.Ji=d,null!==e)return void(Zi(i)&&i.we===Wi[i.Ji]&&(i.we=null));s.length=0,"file"===i.Ji?r=13:Zi(i)&&n&&n.Ji===i.Ji?r=3:Zi(i)?r=7:47===h[f+1]?(r=4,f+=1):(i.fe=!0,i.ue.push(""),r=18)}break;case 2:if(!n||n.fe&&35!==l)throw new v("Invalid scheme");n.fe&&35===l?(i.Ji=n.Ji,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",i.fe=!0,r=20):"file"!==n.Ji?(r=5,f-=1):(r=13,f-=1);break;case 3:47===l&&47===h[f+1]?r=8:(r=5,f-=1);break;case 4:47===l?r=9:(r=17,f-=1);break;case 5:i.Ji=n.Ji,se===l?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi=n.Qi):47===l?r=6:63===l?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi="",r=19):35===l?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",r=20):92===l&&Zi(i)?r=6:(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.ue.pop(),r=17,f-=1);break;case 6:!Zi(i)||47!==l&&92!==l?47===l?r=9:(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,r=17,f-=1):r=8;break;case 7:if(47!==l||47!==h[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==l&&92!==l&&(r=9,f-=1);break;case 9:if(64===l){u&&s.unshift(37,52,48),u=!0;for(var w=0;w<s.length;w++){var g=s[w];if(58!==g||a){var y=ti(di(g,fi));a?i.re+=y:i.$i+=y}else a=!0}s.length=0}else if(se===l||47===l||63===l||35===l||Zi(i)&&92===l){if(u&&0===s.length)throw new v("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(l);break;case 10:case 11:if(null!==e&&"file"===i.Ji)f-=1,r=15;else if(58!==l||o)if(se===l||47===l||63===l||35===l||Zi(i)&&92===l){if(f-=1,Zi(i)&&0===s.length)throw new v("Invalid host");if(null!==e&&0===s.length&&(Ki(i)||null!==i.we))return;var p=Ai(ti(s),Zi(i));if(i.oe=p,s.length=0,r=16,null!==e)return}else 91===l?o=!0:93===l&&(o=!1),s.push(l);else{if(0===s.length)throw new v("Invalid host");var _=Ai(ti(s),Zi(i));if(i.oe=_,s.length=0,r=12,11===e)return}break;case 12:if(Nn(l))s.push(l);else{if(!(se===l||47===l||63===l||35===l||Zi(i)&&92===l||null!==e))throw new v("Invalid port");if(0!==s.length){var b=m(ti(s),10);if(b>65535)throw new v("Invalid port");i.we=b===Wi[i.Ji]?null:b,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.Ji="file",47===l||92===l?r=14:n&&"file"===n.Ji?se===l?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi=n.Qi):63===l?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi="",r=19):35===l?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",r=20):(Ji(h.slice(f))||(i.oe=n.oe,i.ue=n.ue.slice(),ee(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===l||92===l?r=15:(n&&"file"===n.Ji&&!Ji(h.slice(f))&&(ie(n.ue[0])?i.ue.push(n.ue[0]):i.oe=n.oe),r=17,f-=1);break;case 15:if(se===l||47===l||92===l||63===l||35===l)if(f-=1,null===e&&ne(s))r=17;else if(0===s.length){if(i.oe=_i,null!==e)return;r=16}else{var k=Ai(ti(s),Zi(i));if(0===k.Vi&&"localhost"===k.qi&&(k=_i),i.oe=k,null!==e)return;s.length=0,r=16}else s.push(l);break;case 16:Zi(i)?(r=17,47!==l&&92!==l&&(f-=1)):null===e&&63===l?(i.Qi="",r=19):null===e&&35===l?(i._e="",r=20):se!==l&&(r=17,47!==l&&(f-=1));break;case 17:if(se===l||47===l||Zi(i)&&92===l||null===e&&(63===l||35===l)){var A=ti(s);if(Yi(A)?(ee(i),47===l||Zi(i)&&92===l||i.ue.push("")):!$i(A)||47===l||Zi(i)&&92===l?$i(A)||("file"===i.Ji&&0===i.ue.length&&ne(s)&&(_i!==i.oe&&null!==i.oe&&(i.oe=_i),s[1]=58,A=ti(s)),i.ue.push(A)):i.ue.push(""),s.length=0,"file"===i.Ji&&(se===l||63===l||35===l))for(;i.ue.length>1&&""===i.ue[0];)i.ue.shift();63===l?(i.Qi="",r=19):35===l&&(i._e="",r=20)}else s.push.apply(s,di(l,ci));break;case 18:63===l?(i.Qi="",r=19):35===l?(i._e="",r=20):se!==l&&(i.ue[0]+=ti(di(l,ai)));break;case 19:null===e&&35===l?(i._e="",r=20):se!==l&&(i.Qi+=ti(di(l,Zi(i)?vi:li)));break;case 20:se===l||0===l||(i._e+=ti(di(l,hi)))}f++}return i}function he(t,n,i,e){try{ae(t,n,i,e)}catch(t){}}var ce=function(){this.Ji="",this.$i="",this.re="",this.oe=null,this.we=null,this.ue=[],this.Qi=null,this._e=null,this.fe=!1};function fe(t){switch(t.Ji){case"blob":var n;try{n=ae(t.ue[0],null)}catch(t){return zi}return fe(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Ji,e=t.oe,r=t.we,i+"://"+Ti(e)+(null===r?"":":"+r);case"file":default:return zi}var i,e,r}var le,ve,de,we,ge,me,ye=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof ye&&"object"==typeof i.ji)r=n.ji;else try{r=ae(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{e=ae(String(t),r)}catch(t){throw new v("Invalid URL: "+t.message)}var s=e.Qi;this.ji=e,this.Qi=function(t){var n=new ji;return null!==t&&Li(n,t),n}(s),this.Qi.ji=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Ji+":";if(null!==t.oe?(i+="//",Ki(t)&&(i+=t.$i,""!==t.re&&(i+=":"+t.re),i+="@"),i+=Ti(t.oe),null!==t.we&&(i+=":"+t.we)):null===t.oe&&"file"===t.Ji&&(i+="//"),t.fe)i+=t.ue[0];else for(var e=0,r=t.ue;e<r.length;e++)i+="/"+r[e];return null!==t.Qi&&(i+="?"+t.Qi),n||null===t._e||(i+="#"+t._e),i}(this.ji)},set:function(t){var n;try{n=ae(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.ji=n,Oi(this.Qi);var i=this.ji.Qi;null!==i&&Li(this.Qi,i)}},{key:"origin",get:function(){return fe(this.ji)}},{key:"protocol",get:function(){return this.ji.Ji+":"},set:function(t){he(t+":",null,this.ji,0)}},{key:"username",get:function(){return this.ji.$i},set:function(t){re(this.ji)||(this.ji.$i=wi(t,fi))}},{key:"password",get:function(){return this.ji.re},set:function(t){re(this.ji)||(this.ji.re=wi(t,fi))}},{key:"host",get:function(){var t=this.ji,n=t.oe;if(null===n)return"";var i=t.we,e=Ti(n);return null!==i&&(e+=":"+i),e},set:function(t){this.ji.fe||he(t,null,this.ji,10)}},{key:"hostname",get:function(){var t=this.ji.oe;return null===t?"":Ti(t)},set:function(t){this.ji.fe||he(t,null,this.ji,11)}},{key:"port",get:function(){var t=this.ji.we;return null===t?"":""+t},set:function(t){re(this.ji)||(""===t?this.ji.we=null:he(t,null,this.ji,12))}},{key:"pathname",get:function(){var t=this.ji.ue;return this.ji.fe?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.ji.fe||(this.ji.ue.length=0,he(t,null,this.ji,16))}},{key:"search",get:function(){var t=this.ji.Qi;return null===t||""===t?"":"?"+t},set:function(t){t=Di(t);var n=this.ji;if(""===t)return n.Qi=null,void Oi(this.Qi);"?"===t[0]&&(t=t.slice(1)),n.Qi="",he(t,null,n,19),Li(this.Qi,t)}},{key:"searchParams",get:function(){return this.Qi}},{key:"hash",get:function(){var t=this.ji._e;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.ji._e="",he(t,null,this.ji,20)):this.ji._e=null}}])&&wn(n.prototype,i),e&&wn(n,e),t}();function pe(t){return t.document&&t.document.baseURI||t.location.href||""}var _e=a;function be(t){return Boolean(t&&void 0!==t.length)}function ke(){}function Ae(t){if(!(this instanceof Ae))throw new v("Promises must be constructed via new");if("function"!=typeof t)throw new v("not a function");this.me=0,this.ye=!1,this.ke=void 0,this.pe=[],Ce(t,this)}function Te(t,n){for(;3===t.me;)t=t.ke;0!==t.me?(t.ye=!0,Ae.Ae(function(){var i=1===t.me?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.ke)}catch(t){return void Ee(n.promise,t)}Se(n.promise,e)}else(1===t.me?Se:Ee)(n.promise,t.ke)})):t.pe.push(n)}function Se(t,n){try{if(n===t)throw new v("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof Ae)return t.me=3,t.ke=n,void Ie(t);if("function"==typeof i)return void Ce((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.me=1,t.ke=n,Ie(t)}catch(n){Ee(t,n)}var e,r}function Ee(t,n){t.me=2,t.ke=n,Ie(t)}function Ie(t){2===t.me&&0===t.pe.length&&Ae.Ae(function(){t.ye||Ae.Te(t.ke)});for(var n=0,i=t.pe.length;n<i;n++)Te(t,t.pe[n]);t.pe=null}function Re(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function Ce(t,n){var i=!1;try{t(function(t){i||(i=!0,Se(n,t))},function(t){i||(i=!0,Ee(n,t))})}catch(t){if(i)return;i=!0,Ee(n,t)}}Ae.prototype.catch=function(t){return this.then(null,t)},Ae.prototype.then=function(t,n){var i=new this.constructor(ke);return Te(this,new Re(t,n,i)),i},Ae.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},Ae.all=function(t){return new Ae(function(n,i){if(!be(t))return i(new v("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)s(u,e[u])})},Ae.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new v(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)s(u,e[u])})},Ae.resolve=function(t){return t&&"object"==typeof t&&t.constructor===Ae?t:new Ae(function(n){n(t)})},Ae.reject=function(t){return new Ae(function(n,i){i(t)})},Ae.race=function(t){return new Ae(function(n,i){if(!be(t))return i(new v("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)Ae.resolve(t[e]).then(n,i)})},Ae.Ae="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){_e(t,0)},Ae.Te=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var De=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),Ne=o?o.userAgent:"",Pe=Ne.match(/Firefox\/([0-9]+)/i),xe=null!=Pe,Be=Pe?Number(Pe[1]):0,Oe=Ne.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Le=null!=Oe,Me=Oe?Number(Oe[3]):0,je=function(){function t(t){this.Se=0,this.Ee=0,this.Gi=[],this.Ie=t}return t.prototype.Re=function(t){var n=this.length();this.De(n+1);var i=this.Ee+n&this.Ie-1;this.Gi[i]=t,this.Se=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Ie<n)this.Re(t);else{var i=this.Ee+n-1,e=this.Ie-1;this.Gi[i&e]=t,this.Se=n}},t.prototype.shift=function(){var t=this.Ee,n=this.Gi[t];return this.Gi[t]=void 0,this.Ee=t+1&this.Ie-1,this.Se--,n},t.prototype.length=function(){return this.Se},t.prototype.De=function(t){this.Ie<t&&this.Ne(this.Ie<<1)},t.prototype.Ne=function(t){var n=this.Ie;this.Ie=t;var i=this.Ee+this.Se&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.Gi,0,n,i)},t}();var Fe="unhandledrejection",Ue=t.PromiseRejectionEvent,He=t.CustomEvent;function Xe(t){return new Ue(Fe,{reason:t,promise:De.reject(t).catch(function(){}),cancelable:!0})}function Ve(t){var n=new He(Fe,{detail:{reason:t},cancelable:!0});return w.defineProperty(n,"reason",{value:t}),n}function ze(t){var n=s.createEvent("CustomEvent");return n.initCustomEvent(Fe,!1,!0,{reason:t}),n}var We,qe,Ge,$e,Ye,Qe,Ze,Ke=function(t){return(Ke=function(){try{var t=De.resolve(),n=new Ue(Fe,{reason:"error",promise:t});return Fe===n.type&&"error"===n.reason}catch(t){}return!1}()?Xe:function(){try{var t=new He(Fe,{detail:{reason:"error"}});return Fe===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?Ve:ze)(t)};if(De&&!(xe&&Be<60||Le&&Me<15))qe=De;else{qe=Ae;var Je=null!==(We=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=De;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==We?We:Ae.Ae,tr=(Ge=Je,$e=new je(16),Ye=!1,{Ce:function(t){$e.push(t),Ye||(Ye=!0,Ge(Qe))},Pe:Qe=function(){for(;$e.length()>0;)$e.shift()();Ye=!1}});Ae.Ae=tr.Ce,Ae.Te=function(n){try{var i=Ke(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}a(function(){throw new l("Unhandled promise rejection: ".concat(n))},0)}}function nr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ir(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}function er(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}function rr(t,n){return void 0!==t.classList?t.classList.contains(n):void 0!==t.className&&-1!==(" "+ir(t)+" ").indexOf(" "+n+" ")}function sr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=ir(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&er(t,(i+" "+n).trim())}}function ur(t,n){if(void 0!==t.classList)t.classList.remove(n);else if(void 0!==t.className){for(var i=" "+ir(t)+" ",e=" "+n+" ";-1!==i.indexOf(e);)i=i.replace(e," ");er(t,i.trim())}}function or(t,n,i){void 0===i&&(i=!rr(t,n)),i?sr(t,n):ur(t,n)}function ar(t,n){j.Tn&&j.Sn<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function hr(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function cr(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function fr(t){t.removeAttribute("title")}function lr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function vr(t){t.src&&(t.removeAttribute("src"),t.load())}function dr(){return void 0!==s?s.createElement("video"):void 0}function wr(){return Ze||(Ze=dr()),Ze}var gr=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),mr=wr(),yr=!(!mr||!mr.webkitShowPlaybackTargetPicker),pr=function(){function t(){this.Be=void 0,this.Oe=!1,this.Gt=gr,this.dn=!1,this.xe=!0}var n=t.prototype;return n.Le=function(){return 0},n.Me=function(t,n){return!0},n.Ue=function(t){return t>=1/6*2},T(t,[{key:"Xe",get:function(){return void 0===this.Be&&(this.Be=this.Le()),this.Be}},{key:"He",get:function(){return!j.Un}},{key:"Fe",get:function(){return r.devicePixelRatio||1}},{key:"ze",get:function(){return yr}},{key:"Ve",get:function(){return!1}},{key:"We",get:function(){return!0}},{key:"Ge",get:function(){return j.Bn||j.hn}},{key:"qe",get:function(){return!0}},{key:"Ye",get:function(){return!0}},{key:"je",get:function(){return!1}},{key:"Qe",get:function(){}},{key:"Ze",get:function(){return!0}},{key:"Ke",get:function(){return!1}}]),t}(),_r=function(){var t=dr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}(),br=function(){if(j.in)return!1;var t=dr();if(!t)return!1;var n=t.volume;return t.volume=n/2+.1,n!==t.volume}();var kr=function(t){function n(n){var i;return(i=t.call(this)||this).Je=void 0,i.Je=n,i.Je&&(i.Oe=i.Je.Oe,i.Gt=i.Je.Gt,i.xe=_r&&i.Je.xe),i}E(n,t);var i=n.prototype;return i.Le=function(){return this.Je?this.Je.Xe:t.prototype.Le.call(this)},i.Me=function(n,i){return this.Je?this.Je.Me(n,i):t.prototype.Me.call(this,n,i)},i.Ue=function(n){return this.Je?this.Je.Ue(n):t.prototype.Ue.call(this,n)},T(n,[{key:"Qe",get:function(){var t;return null==(t=this.Je)?void 0:t.Qe}},{key:"Ze",get:function(){var t,n;return null==(t=null==(n=this.Je)?void 0:n.Ze)||t}}]),n}(pr),Ar=function(t){function n(n){var i;return(i=t.call(this,n)||this).Oe=!0,i.dn=!0,i}return E(n,t),T(n,[{key:"je",get:function(){return j.hn}}]),n}(kr),Tr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Le=function(){return we.MediaSource?t.prototype.Le.call(this):1},T(n,[{key:"je",get:function(){return!0}}]),n}(Ar),Sr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Me=function(n,i){return t.prototype.Me.call(this,n,i)},T(n,[{key:"Ve",get:function(){return j.Sn<3}},{key:"We",get:function(){return j.Sn>=3}},{key:"Ke",get:function(){return j.Sn<3}}]),n}(kr),Er=function(t){function n(){return t.call(this)||this}return E(n,t),n}(pr),Ir=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Me=function(t,n){if(t&&t.$e&&n&&n.$e){var i=Rr(t.$e,"mp4a.40.2")&&Rr(n.$e,"mp4a.40.5"),e=Rr(t.$e,"mp4a.40.5")&&Rr(n.$e,"mp4a.40.2"),r=Rr(t.$e,"mp4a.40.2")&&Rr(n.$e,"mp4a.40.34"),s=Rr(t.$e,"mp4a.40.34")&&Rr(n.$e,"mp4a.40.2"),u=Rr(t.$e,"mp4a.40.5")&&Rr(n.$e,"mp4a.40.34"),o=Rr(t.$e,"mp4a.40.34")&&Rr(n.$e,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},T(n,[{key:"Qe",get:function(){if(j.qt)return 4096}}]),n}(Er);function Rr(t,n){return t.indexOf(n)>-1}var Cr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Ue=function(t){return t>=2},n}(Er),Dr=function(t){function n(){var n;return(n=t.call(this)||this).Oe=j.On>=11,n.xe=j.Bn&&!(j.hn&&j.On<10),n}return E(n,t),n}(Er),Nr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"qe",get:function(){return!1}}]),n}(kr),Pr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"Ze",get:function(){return!j.Yt||(j.pn?92!==j.An:j.yn>=100)}}]),n}(Er),xr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"je",get:function(){return!0}}]),n}(kr),Br=function(){function n(){var n;this.ir=void 0,this.er=new rn,this.rr=new Or,this.dr=(n=function(){if(j.Cn)return new Ir;if(j.In||j.Rn)return new Cr;if(j.Bn)return new Dr;if(j._n)return new Pr;return new Er}(),j.hn?new Tr(n):j.dn?new Ar(n):j.Tn?new Sr(n):j.En?new Nr(n):j.qt?new xr(n):new kr(n)),this.wr=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.ir=function(){return t.performance.now()}:this.ir=Wt}var i=n.prototype;return i._r=function(){at.apply(void 0,arguments)},i.gr=function(){ht.apply(void 0,arguments)},i.yr=function(){ct.apply(void 0,arguments)},i.pr=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ft.apply(void 0,[t].concat(i))},i.Qn=function(t,n){return a(t,n)},i.Ar=function(t,n){return c(t,n)},i.jn=function(t){h(t)},i.Tr=function(t){f(t)},i.ui=function(t){return this.er.ui(t)},i.Sr=function(){return this.Er.Sr()},i.Ir=function(){return this.Er.Ir()},i.Rr=function(){return this.Er.Rr()},i.Dr=function(){return this.Er.Dr()},i.Nr=function(){return this.Er.Nr()},i.Cr=function(t,n){return this.Er.Cr(t,n)},i.Pr=function(t){return this.Er.Pr(t)},i.Br=function(t,n){var i;return void 0===n&&(n=pe(we)),i="object"!=typeof n||n instanceof ye?n:n.href,new ye(t,i)},i.Or=function(n,i){if(void 0===i&&(i=pe(we)),this.wr){var e=G(i)?i:i.toString();return new t.URL(n,e).href}return this.Br(n,i).href},T(n,[{key:"xr",get:function(){return this.rr}},{key:"Lr",get:function(){return this.dr}},{key:"Mr",get:function(){return{Ur:o&&o.userAgent.match(/Android /i)?"Android":"other",Xr:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Hr",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Fr",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Or=function(){function t(){}return T(t,[{key:"zr",get:function(){return o.oscpu}},{key:"Lr",get:function(){return o.platform}},{key:"Vr",get:function(){return o.vendor}},{key:"Wr",get:function(){return o.vendorSub}}]),t}();var Lr="undefined"!=typeof globalThis?globalThis:void 0!==r?r:"undefined"!=typeof global?global:void 0!==t?t:{};function Mr(t){return t&&t.__esModule&&w.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jr={exports:{}};!function(t){var n,i=w.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,n,i,e){var r=n&&n.prototype instanceof y?n:y,s=w.create(r.prototype),u=new N(e||[]);return s.Gr=function(t,n,i){var e=c;return function(r,s){if(e===d)throw new l("Generator is already running");if(e===g){if("throw"===r)throw s;return x()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=R(u,i);if(o){if(o===m)continue;return o}}if("next"===i.method)i.sent=i.qr=i.arg;else if("throw"===i.method){if(e===c)throw e=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=d;var a=h(t,n,i);if("normal"===a.type){if(e=i.done?g:f,a.arg===m)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(e=g,i.method="throw",i.arg=a.arg)}}}(t,i,u),s}function h(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var c="suspendedStart",f="suspendedYield",d="executing",g="completed",m={};function y(){}function _(){}function b(){}var k={};k[s]=function(){return this};var A=w.getPrototypeOf,T=A&&A(A(P([])));T&&T!==i&&e.call(T,s)&&(k=T);var S=b.prototype=y.prototype=w.create(k);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Gr(n,t)}})}function I(t){var n;this.Gr=function(i,r){function s(){return new qe(function(n,s){!function n(i,r,s,u){var o=h(t[i],t,r);if("throw"!==o.type){var a=o.arg,c=a.value;return c&&"object"==typeof c&&e.call(c,"Yr")?qe.resolve(c.Yr).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):qe.resolve(c).then(function(t){a.value=t,s(a)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function R(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,R(t,i),"throw"===i.method))return m;i.method="throw",i.arg=new v("The iterator does not provide a 'throw' method")}return m}var r=h(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,m;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,m):s:(i.method="throw",i.arg=new v("iterator result is not an object"),i.delegate=null,m)}function C(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!p(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:x}}function x(){return{value:n,done:!0}}_.prototype=S.constructor=b,b.constructor=_,b[o]=_.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===_||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return w.setPrototypeOf?w.setPrototypeOf(t,b):(t.__proto__=b,o in t||(t[o]="GeneratorFunction")),t.prototype=w.create(S),t},t.awrap=function(t){return{Yr:t}},E(I.prototype),I.prototype[u]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var s=new I(a(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=P,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.qr=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!p(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var a=e.call(u,"catchLoc"),h=e.call(u,"finallyLoc");if(a&&h){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!h)throw new l("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),m},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),m}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;D(i)}return r}}throw new l("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:P(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),m}}}(jr.exports);var Fr=jr.exports;function Ur(){return(Ur=w.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)w.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function Hr(){var t=w.create(null);return t.__=void 0,delete t.__,t}function Xr(){return new $r}function Vr(){return new Zr}function zr(t){var n=Xr();for(var i in t)F.call(t,i)&&n.set(i,t[i]);return n}function Wr(t){var n=[];return t.forEach(function(t){return n.push(t)}),n}var qr,Gr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,$r=Gr||(qr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=w.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Hr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Hr(),this.size=0},n.keys=function(){return new qr(this.data,function(t,n){return n})},n.values=function(){return new qr(this.data,function(t,n){return t[n]})},n.entries=function(){return new qr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Yr,Qr,Zr=Gr||(Yr=function(){function t(t,n){this.Qr=void 0,this.Zr=void 0,this.Qr=t,this.Zr=n}var n=t.prototype;return n.next=function(){var t=this.Qr.next();return t.done?t:{value:this.Zr(t.value),done:!1}},t}(),function(){function t(){this.Kr=Xr()}var n=t.prototype;return n.get=function(t){return this.Kr.get(""+t)},n.set=function(t,n){return this.Kr.set(""+t,n),this},n.has=function(t){return this.Kr.has(""+t)},n.delete=function(t){return this.Kr.delete(""+t)},n.clear=function(){this.Kr.clear()},n.keys=function(){return new Yr(this.Kr.keys(),function(t){return Number(t)})},n.values=function(){return this.Kr.values()},n.entries=function(){return new Yr(this.Kr.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Kr.forEach(function(n,i){t(n,Number(i))})},T(t,[{key:"size",get:function(){return this.Kr.size}}]),t}());!function(t){t.Jr="9a04f079-9840-4286-ab92-e65be0885f95",t.$r="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.rs="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.us="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Qr||(Qr={}));var Kr,Jr="urn:mpeg:dash:mp4protection:2011",ts="cenc",ns="sinf",is="skd",es=Qr.Jr,rs="urn:uuid:"+es,ss="com.microsoft.playready",us=Qr.$r,os="urn:uuid:"+us,as=Qr.rs,hs="urn:uuid:"+as,cs=Qr.us,fs="urn:uuid:"+cs,ls="com.apple.fps.1_0",vs="com.apple.streamingkeydelivery";!function(t){t.Jr="playready",t.$r="widevine",t.us="fairplay",t.rs="clearkey",t.hs="aes128"}(Kr||(Kr={}));var ds={fs:Kr.Jr,vs:ss,ls:"cenc",ds:es,_s:rs,gs:"PlayReady"},ws={fs:Kr.$r,vs:"com.widevine.alpha",ls:"cenc",ds:us,_s:os,gs:"Widevine"},gs={fs:Kr.us,vs:ls,ls:"skd",ds:cs,_s:fs,gs:"FairPlay"},ms={fs:Kr.us,vs:"com.apple.fps",ls:"sinf",ds:cs,_s:fs,gs:"FairPlay"},ys={fs:Kr.rs,vs:"org.w3.clearkey",ls:"cenc",ds:as,_s:hs,gs:"ClearKey"},ps=[ds,ws,gs,ys];function _s(t){return ps.filter(function(n){return n._s===t.toLowerCase()})}function bs(t,n,i){return t.split(n).join(i)}function ks(t,n){return null!=t&&-1!==t.indexOf(n)}function As(t,n){return null!=t&&t.substr(0,n.length)===n}function Ts(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function Ss(t,n){return t.toUpperCase()===n.toUpperCase()}function Es(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function Is(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=Es(e,r/e.length)),e.slice(0,r)+t)}function Rs(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Ds(n)}var Cs=16384;function Ds(t){var n=t.length;if(n<=Cs)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Cs)i.push(String.fromCharCode.apply(String,t.slice(e,e+Cs)));return i.join("")}var Ns=j._n&&j.yn>=42||j.Cn&&j.Pn>=38||j.In||j.Dn||j.xn&&j.Ln>=29;function Ps(t,n){return ks(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Ur({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Ur({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function xs(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function Bs(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Os,Ls=function(){function t(t){this.ys=void 0,this.As=Xr(),this.Ts=void 0,this.ys=t}var n=t.prototype;return n.Nr=function(){return this.Pr(ws)},n.Ir=function(){return this.Pr(ys)},n.Dr=function(){return this.Pr(ds)},n.Rr=function(){return this.Pr(gs)},n.Pr=function(t){var n=t._s,i=this.As.get(n);if(i)return i;var e=this.Cr(t,'video/mp4; codecs="avc1.42000a"');return this.As.set(n,e),e},n.Cr=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(this.ys.Ss(t.vs,[Ps(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,Fr.awrap(this.ys.Ss(t.vs,[Ps(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],qe)},n.Sr=function(){return this.Ts||(this.Ts=this.Es()),this.Ts},n.Es=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==ge.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Ns){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Fr.awrap(this.Ir());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,qe)},t}();function Ms(t,n){return Fs(t.slice(),n)}function js(t,n){var i=Fs(t,n);return i!==t&&Us(i,void 0,t.length,t),t}function Fs(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){Us(i,n,s,r);var u=i;i=r,r=u}return i}function Us(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(s=0;s<h;s+=f)for(r=(u=s+i)+i,u>h&&(u=h),r>h&&(r=h),o=s,a=u;;)if(o<u&&a<r)n&&n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<u)e[c++]=t[o++];else{if(!(a<r))break;e[c++]=t[a++]}}!function(t){t[t.Is=0]="Is",t[t.Rs=1]="Rs",t[t.Ds=-1]="Ds"}(Os||(Os={}));var Hs=function(t,n){return(0|t)-(0|n)},Xs=function(t,n){return t===n?Os.Is:t<n?Os.Ds:t>n?Os.Rs:p(t)?p(n)?Os.Is:Os.Rs:Os.Ds};function Vs(t,n,i){return Ut(t,n,i)?Os.Is:Xs(t,n)}var zs=function(t,n){return function(t,n){if(t===n)return!0;var i=g.abs(t-n);return i<jt||i<g.max(g.abs(t),g.abs(n))*jt}(t,n)?Os.Is:Xs(t,n)};function Ws(t,n,i){var e=Gs(t,n,i);return-1===e?void 0:t[e]}function qs(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function Gs(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function $s(t,n){var i=t.indexOf(n);return-1!==i&&(Ys(t,i),!0)}function Ys(t,n){t.splice(n,1)}function Qs(t,n){return-1!==t.indexOf(n)}function Zs(t,n){for(var i=0;i<n.length;i++){if(!Qs(t,n[i]))return!1}return!0}function Ks(t){t.length=0}function Js(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!Qs(n,t[i]))return!1}return!0}function tu(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function nu(t,n){return eu(t,function(t,i){return Xs(n(t),n(i))})}function iu(t,n){return function(t,n){return eu(t,function(t,i){return n(i,t)})}(t,function(t,i){return Xs(n(t),n(i))})}function eu(t,n){if(0!==t.length)return t.reduce(function(t,i){return n(t,i)<=0?t:i})}function ru(t,n){return qe.all(t.map(n)).then(function(n){return t.filter(function(t,i){return n[i]})})}function su(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.length)){r.next=10;break}return e=t[i],r.next=5,Fr.awrap(n(e));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:i++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,null,qe)}function uu(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var ou=function(){function t(){this.Ns=!1,this.Cs=!1,this.Ps=[],this.Bs=[]}var n=t.prototype;return n.Os=function(){if(!this.Ns&&!this.Cs){this.Ns=!0;for(var t=0,n=this.Ps.slice();t<n.length;t++){(0,n[t])()}this.xs()}},n.xs=function(){if(!this.Cs){this.Cs=!0;for(var t=0,n=this.Bs.slice();t<n.length;t++){(0,n[t])()}Ks(this.Ps),Ks(this.Bs)}},n.Ls=function(t){this.Cs||this.Ps.push(t)},n.Ms=function(t){this.Cs||$s(this.Ps,t)},n.Us=function(t){this.Cs||this.Bs.push(t)},n.Xs=function(t){this.Cs||$s(this.Bs,t)},t}(),au=function(){function t(){this.Hs=new ou}var n=t.prototype;return n.Fs=function(){this.Hs.Os()},n.xs=function(){this.Hs.xs()},n.zs=function(t){var n=this.Hs;if(!n.Ns)if(t.Ns)n.Os();else if(!n.Cs&&!t.Cs){var i=function(){e(),n.Os()},e=function e(){t.Ms(i),t.Xs(e),n.Ms(i),n.Xs(e)};t.Ls(i),t.Us(e),n.Ls(i),n.Us(e)}},n.Vs=function(){var n=new t,i=new t,e=n.Ws,r=i.Ws,s=this.Hs,u=function(){e.Ns&&r.Cs||r.Ns&&e.Cs?s.Os():e.Cs&&r.Cs&&s.xs()};e.Ls(u),r.Ls(u),e.Us(u),r.Us(u),n.zs(s),i.zs(s);return s.Us(function(){e.Ms(u),r.Ms(u),e.Xs(u),r.Xs(u)}),[n,i]},T(t,[{key:"Ws",get:function(){return this.Hs}}]),t}(),hu=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return E(n,t),T(n,[{key:"name",get:function(){return"AbortError"}}]),n}(nn);function cu(t){return t instanceof l&&"AbortError"===t.name}function fu(t){if(t&&t.Ns)throw new hu}function lu(t){if(cu(t))throw t}function vu(t){if(!cu(t))throw t}function du(t,n){return n?new qe(function(i,e){if(n.Ns)return t.catch(K),e(new hu);var r=function t(){n.Ms(t),e(new hu)};n.Ls(r),t.then(function(t){n.Ms(r),i(t)},function(t){n.Ms(r),e(t)})}):t}function wu(t,n){return t.then(function(t){return n.xs(),t},function(t){throw n.xs(),t})}function gu(t,n){var i=new au;return n&&i.zs(n),t(i.Ws).then(function(t){return i.Fs(),t},function(t){throw i.Fs(),t})}var mu=qe.resolve();function yu(t){mu.then(t)}function pu(t){t.then(K,K)}function _u(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Fr.awrap(qe.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,Fr.awrap(qe.all(t.map(function(t){return t.catch(K)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],qe)}function bu(t,n){return new qe(function(e,r){if(void 0!==n&&n.Ns)r(new hu);else{var s=i.Qn(function(){void 0!==n&&n.Ms(u),e()},t),u=function(){i.jn(s),r(new hu)};void 0!==n&&n.Ls(u)}})}function ku(t){return t&&"function"!=typeof t?t.slice():t}function Au(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var Tu,Su=function(){function t(t){var n=this;this.Gs=Hr(),this.qs=void 0,this.Ys=void 0,this.js=function(t){n.Qs(t)},this.Ys=t||this}var n=t.prototype;return n.Zs=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Ks(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Ks(e,n)}},n.Ks=function(t,n){var i=this.Gs[t];i?"function"==typeof i?this.Gs[t]=[i,n]:i.push(n):this.Gs[t]=n},n.Js=function(t){if("function"==typeof t){var n=this.qs;n?"function"==typeof n?this.qs=[n,t]:n.push(t):this.qs=t}},n.$s=function(){this.Gs=Hr(),this.qs=void 0},n.Qs=function(t){var n=ku(this.Gs[t.type]),i=ku(this.qs);Au(this.Ys,t,n),Au(this.Ys,t,i)},n.tu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.nu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.nu(e,n)}},n.nu=function(t,n){var i=this.Gs[t];i&&("function"==typeof i?i===n&&(this.Gs[t]=void 0):$s(i,n))},n.uu=function(t){if("string"==typeof t)this.Gs[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Gs[i]=void 0}},n.ou=function(t){var n=this.qs;n&&("function"==typeof n?n===t&&(this.qs=void 0):$s(n,t))},n.au=function(t,n){var i=this;return new qe(function(e,r){if(n&&n.Ns)return r(new hu);var s=function(t){o(),e(t)},u=function(){o(),r(new hu)},o=function(){i.tu(t,s),n&&n.Ms(u)};i.Zs(t,s),n&&n.Ls(u)})},t}(),Eu=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Qs=function(n){var i=this;yu(function(){t.prototype.Qs.call(i,n)})},n}(Su),Iu=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Ru=["cenc"],Cu=["cbcs","cbcs-1-9"],Du=function(t){function n(n){var i;return(i=t.call(this,"vu")||this).fu=n,i}return E(n,t),n}(Iu),Nu=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"du")||this).fu=n,s.wu=i,s.du=e,s._u=r,s}return E(n,t),n}(Iu),Pu=function(t){function n(){return t.call(this,"mu")||this}return E(n,t),n}(Iu);!function(t){t.yu="pu",t.bu="Au"}(Tu||(Tu={}));var xu=function(t){function n(n,i){var e;return(e=t.call(this,Tu.yu)||this).ls=n,e.Tu=i,e}return E(n,t),n}(Iu),Bu=function(t){function n(){return t.call(this,Tu.bu)||this}return E(n,t),n}(Iu),Ou=new _([0]).buffer,Lu=function(){function t(){this.Su=void 0,this.Su=[]}var n=t.prototype;return n.Eu=function(t){for(var n=0,i=this.Su;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Iu=function(t){for(var n=0,i=this.Su;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.Ru=function(t,n){this.Su.forEach(function(n){return t(n[1],n[0])},n)},n.Du=function(t,n){this.Su.push([t,n])},n.Nu=function(){Ks(this.Su)},T(t,[{key:"Cu",get:function(){return this.Su.length}}]),t}(),Mu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ju=16383,Fu=/[\t\n\f\r ]/g;function Uu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Hu()}function Hu(){throw new l("Invalid base64 input")}function Xu(t){var n=t;Fu.test(n)&&(n=n.replace(Fu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Hu();for(var r,s=0===e?0:4-e,u=new _(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,a=0,h=0;a<o;a+=4)r=Uu(n.charCodeAt(a))<<18|Uu(n.charCodeAt(a+1))<<12|Uu(n.charCodeAt(a+2))<<6|Uu(n.charCodeAt(a+3)),u[h++]=r>>16&255,u[h++]=r>>8&255,u[h++]=255&r;return 2===s?(r=Uu(n.charCodeAt(a))<<2|Uu(n.charCodeAt(a+1))>>4,u[h++]=255&r):1===s&&(r=Uu(n.charCodeAt(a))<<10|Uu(n.charCodeAt(a+1))<<4|Uu(n.charCodeAt(a+2))>>2,u[h++]=r>>8&255,u[h++]=255&r),u}function Vu(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],Mu[e>>2]+Mu[(3&e)<<4|r>>4]+Mu[(15&r)<<2|s>>6]+Mu[63&s]));return u.join("")}function zu(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=ju)e.push(Vu(t,s,g.min(r,s+ju)));if(1===i){var u=t[n-1];e.push(Mu[u>>2]+Mu[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];e.push(Mu[o>>2]+Mu[(3&o)<<4|a>>4]+Mu[(15&a)<<2]+"=")}return e.join("")}var Wu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],qu=ArrayBuffer.isView||function(t){return t&&Qs(Wu,U.call(t))};function Gu(t,n){return t===n||t.byteLength===n.byteLength&&$u(new _(t),new _(n))}function $u(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function Yu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return Qu(t,n)}function Qu(t,n){for(var i=new _(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function Zu(t){return Xu(t).buffer}function Ku(t){return zu(new _(t))}function Ju(t){return zu(Lo(t))}function to(t,n){var i=n.Pu,e=t.getUint8(i>>3),r=1<<7-(7&i);return n.Bu(1),(e&r)===r?1:0}function no(t,n,i){for(var e=0,r=0;r<i;r++)e=2*e+to(t,n);return e}var io=function(){function t(t){void 0===t&&(t=0),this.Ou=t}var n=t.prototype;return n.Bu=function(t){this.Ou+=t},n.xu=function(t){this.Ou=t},n.Lu=function(){return new t(this.Pu)},T(t,[{key:"Pu",get:function(){return this.Ou}}]),t}();function eo(t){if(t>=55296&&t<=57343)throw new l("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ro(t,n){return t>>n&63|128}function so(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(eo(t),n.push(t>>12&15|224),n.push(ro(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ro(t,12)),n.push(ro(t,6))),n.push(63&t|128)):n.push(t)}function uo(t,n){if(n.Pu>=t.length)throw new l("Invalid byte index");var i=255&t[n.Pu];if(n.Bu(1),128==(192&i))return 63&i;throw new l("Invalid continuation byte")}function oo(t,n){var i=n.Pu;if(i>t.length)throw new l("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Bu(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|uo(t,n);if(r>=128)return r;throw new l("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|uo(t,n)<<6|uo(t,n);if(s>=2048)return eo(s),s;throw new l("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|uo(t,n)<<12|uo(t,n)<<6|uo(t,n);if(u>=65536&&u<=1114111)return u}throw new l("Invalid UTF-8 detected")}var ao=65279;var ho=[128,64,32,16,8,4,2,1],co=function(){function t(t){this.Mu=t}return t.prototype.Uu=function(t){return fo(this.Mu,t)},t}();function fo(t,n){return(t&n)===n}function lo(t,n){return fo(t,ho[n])}function vo(t,n){var i=t.getUint8(n.Pu);return n.Bu(1),i}function wo(t,n,i){t.setUint8(n.Pu,i),n.Bu(1)}function go(t,n,i){var e=zo(Go(t),n.Pu,n.Pu+i);return n.Bu(e.byteLength),e}function mo(t,n,i){Go(t).set(Go(i),n.Pu),n.Bu(i.byteLength)}function yo(t,n,i){return n.Pu+i<=t.byteLength}function po(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=vo(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+vo(t,n);return e}(t,n,i)}function _o(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Pu,i);return n.Bu(2),e}function bo(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Pu,i,e),n.Bu(2)}function ko(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Pu,i);return n.Bu(4),e}function Ao(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Pu,i,e),n.Bu(4)}function To(t,n,i){void 0===i&&(i=!1);var e=ko(t,n,i),r=ko(t,n,i),s=i?r:e,u=i?e:r;return vt.fromBits(u,s,!0)}function So(t,n){return Ro(t,n)}function Eo(t,n,i){return Ds(Ko(go(t,n,i)))}function Io(t,n){var i,e=vo(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&vo(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&vo(t,n))+(63&vo(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&vo(t,n))+64*(63&vo(t,n))+(63&vo(t,n))),i}function Ro(t,n){return Co(t,n,!0)}function Co(t,n,i){for(var e=[];n.Pu<t.byteLength;){var r=vo(t,n);if(i&&!r)break;e.push(r)}return Ds(e)}function Do(t,n){if(n.Pu+2<=t.byteLength){var i=t.getUint8(n.Pu),e=t.getUint8(n.Pu+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function No(t,n){var i=Do(t,n);return void 0!==i&&n.Bu(2),Po(t,n,!0===i)}function Po(t,n,i){return void 0===i&&(i=!1),xo(t,n,i,!0)}function xo(t,n,i,e){for(var r=[];n.Pu+2<=t.byteLength;){var s=_o(t,n,i);if(e&&!s)break;r.push(s)}return Ds(r)}function Bo(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){bo(t,n,i.charCodeAt(s),e)}}function Oo(t){return Co(qo(t),new Jo,!1)}function Lo(t){var n=new _(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)wo(t,n,i.charCodeAt(r))}(qo(n),new Jo,t),n}function Mo(t,n){return void 0===n&&(n=!1),xo(qo(t),new Jo,n,!1)}function jo(t,n){void 0===n&&(n=!1);var i=new _(2*t.length);return Bo(qo(i),new Jo,t,n),i}function Fo(t,n){return n.Pu+3<=t.byteLength&&(239===t.getUint8(n.Pu)&&187===t.getUint8(n.Pu+1)&&191===t.getUint8(n.Pu+2))}function Uo(t,n){return function(t,n,i){var e=[];Fo(t,n)&&n.Bu(3);for(;n.Pu<t.byteLength;){var r=Io(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Rs(e)}(t,n,!0)}function Ho(t){return Rs(function(t,n){var i,e=[],r=new Jo;if(!n){if(!1===(i=oo(t,r)))return e;i===ao||e.push(i)}for(;!1!==(i=oo(t,r));)e.push(i);return e}(Go(t)))}function Xo(t){return new _(function(t){for(var n=[],i=0;i<t.length;i++)so(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Vo(t,n){if(Fo(t,n))return Uo(t,n);if(void 0!==Do(t,n))return No(t,n);if(n.Pu+4<=t.byteLength){if(0===t.getUint8(n.Pu)&&0===t.getUint8(n.Pu+2))return Po(t,n,!1);if(0===t.getUint8(n.Pu+1)&&0===t.getUint8(n.Pu+3))return Po(t,n,!0)}return Uo(t,n)}function zo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new _(t.buffer,t.byteOffset+n,i-n)}function Wo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function qo(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Go(t){return new _(t.buffer,t.byteOffset,t.byteLength)}function $o(t){return t instanceof ArrayBuffer||qu(t)}function Yo(t){return t instanceof ArrayBuffer?new _(t):Go(t)}function Qo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Zo(zo(t,n,i))}function Zo(t){if(t.slice)return t.slice(0);var n=new _(t.byteLength);return n.set(t,0),n}function Ko(t){return[].slice.call(t)}var Jo=function(){function t(t){void 0===t&&(t=0),this.Ou=t}var n=t.prototype;return n.Bu=function(t){this.Ou+=t},n.xu=function(t){this.Ou=t},n.Lu=function(){return new t(this.Pu)},n.Xu=function(){return new io(this.Pu<<3)},T(t,[{key:"Pu",get:function(){return this.Ou}}]),t}();function ta(t){var n=t.toLowerCase(),i=0,e=0;As(n,"0x")&&(n=n.substring(2));var r=new _(g.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=m(n[0],16));i<n.length;i+=2)r[e++]=m(n.substr(i,2),16);return r}var na=function(){function t(){var t=this;this.Hu=void 0,this.Fu=void 0,this.Vu=void 0,this.Hu=new qe(function(n,i){t.Fu=n,t.Vu=i})}var n=t.prototype;return n.Wu=function(t){this.Fu&&(this.Fu(t),this.xs())},n.Gu=function(t){this.Vu&&(this.Vu(t),this.xs())},n.Fs=function(){this.Hu.catch(K),this.Gu(new hu)},n.xs=function(){this.Fu=void 0,this.Vu=void 0},t}();function ia(){return new _([8,4]).buffer}function ea(t){return Gu(t,ia())}function ra(t,n){return t===ss?function(t){if(t.byteLength<2*sa.length)return t;if(Mo(new DataView(t,0,2*sa.length),!0)===sa)return t;return n=t,jo('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Ku(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var sa="<PlayReady";var ua=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).Yu=void 0,s.ju=void 0,s.Yu=i,s.ju=e,s}return E(n,t),n}(nn),oa=function(t,n){return(oa=w.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)w.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function aa(t,n){if("function"!=typeof n&&null!==n)throw new v("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}oa(t,n),t.prototype=null===n?w.create(n):(i.prototype=n.prototype,new i)}function ha(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function ca(t,n,i){return g.min(g.max(t,n),i)}function fa(t,n){return t>>8-n}function la(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.Qu=t,this.Zu=n}t.prototype.get=function(t){var n=this.Qu.get(t);if(0===this.Zu||void 0===n)return n;var i=this.Qu.get(t+1)||0,e=n&(1<<8-this.Zu)-1,r=i>>8-this.Zu;return(e<<this.Zu)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Qu.get(g.floor((t+this.Zu)/8));if(void 0!==n)return(n&1<<7-this.Zu-t%8)>0?1:0}},w.defineProperty(t.prototype,"bitLength",{get:function(){return this.Qu.bitLength-this.Zu},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"length",{get:function(){return this.Qu.length},enumerable:!1,configurable:!0})}();var va=function(){function t(t){this.Ku=t,this.Ju=0,this.$u=0}return w.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Ju+this.$u},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"done",{get:function(){return this.Ju===this.Ku.length&&0===this.$u},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Ju,bit:this.$u}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Ku);return n.seek(this.Ju,this.$u),n},t.prototype.canReadBits=function(t){return 8*this.Ju+t+this.$u<=8*this.Ku.length},t.prototype.canReadBytes=function(t){return 0===this.$u?this.Ju+t<=this.Ku.length:this.Ju+t<this.Ku.length},t.prototype.incBit=function(){this.$u++,this.$u>7&&(this.Ju++,this.$u=0)},t.prototype.seek=function(t,n){this.Ju=t,this.$u=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new l("Cannot read past end of buffer.");return this.Ku.get(this.Ju)>>7-this.$u&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new l("Cannot read past end of buffer.");if(0===this.$u)return this.Ku.get(this.Ju++);var t=la(this.Ku.get(this.Ju),8-this.$u),n=fa(this.Ku.get(this.Ju+1),this.$u);return this.Ju++,t<<this.$u|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new l("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new l("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new l("Cannot read past end of buffer.");var n=0;if(0===this.$u&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new l("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new l("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-g.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new l("Skipping over the buffer edge is not allowed.");var n=this.$u+t;this.Ju+=n>>3,this.$u=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new l("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),da=function(t,n){return t===n?0:t<n?-1:t>n?1:p(t)?p(n)?0:1:-1},wa=function(){function t(){this.uo=[],this.oo=[],this.Se=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new l("The buffer length must be positive.");if(0!==i){if(0===this.oo.length)this.oo.push(0);else{var e=this.oo[this.oo.length-1]+this.uo[this.uo.length-1].length;this.oo.push(e)}this.uo.push(t.subarray(n,n+i)),this.Se+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this.uo;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.uo=[],this.oo=[],this.Se=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.oo[n];return this.uo[n][i]}},w.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.uo.length<1)return-1;if(this.uo.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.uo[0];return"number"==typeof t?ha(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=ha(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,a=1;u<o&&t[u]===n[a];u++,a++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=g.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.oo,t,da)},t.prototype.join=function(){if(1===this.uo.length)return this.uo[0];var t=new _(this.length);return this.copyInternal(t,0),t},w.defineProperty(t.prototype,"length",{get:function(){return this.Se},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new l("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new l("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*g.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=ca(n,0,this.length),r=ca(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this.uo[u],a=e,h=a-this.oo[u];a+o.length-h<r;)s.pushRange(o,h,o.length-h),u+=1,h=(a+=o.length-h)-this.oo[u],o=this.uo[u];var c=r-a;return s.pushRange(o,h,c),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.uo.length-1,e=this.uo[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.uo[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),ga=function(){function t(n){this.ao=n||t.BUFFER_CHUNK_SIZE,this.do=!1,this._o=new wa,this.Ku=new _(this.ao),this.mo=0,this.po=0,this.$u=7}return t.prototype.closeByte=function(){this.Ku[this.mo++]=this.po,this.mo>=this.ao&&this.closeBuffer(),this.po=0,this.$u=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.mo&&(this._o.pushRange(this.Ku,0,this.mo),t&&(this.Ku=new _(this.ao)),this.mo=0)},w.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.$u},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.do)throw new l("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.do=!0,this._o},t.prototype.writeBit=function(t){if(this.do)throw new l("Cannot write to a closed BitWriter.");this.po|=t<<this.$u,0===this.$u?this.closeByte():this.$u--},t.prototype.writeByte=function(t){if(this.do)throw new l("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.po=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.$u;this.po|=fa(t,n+1),this.closeByte(),this.po=la(t,8-n)<<n+1,this.$u=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.do)throw new l("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.mo+t.length<=this.ao?(this.Ku.set(t,this.mo),this.mo+=t.length,this.mo===this.ao&&this.closeBuffer()):(this.closeBuffer(),this._o.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.$u;this.po|=fa(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=la(t[i-1],8-n),r=fa(t[i],n+1);this.po=e<<n+1|r,this.closeByte()}this.po=la(t[t.length-1],8-n)<<n+1,this.$u=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new l("Received a negative number.");if(n>32)throw new l("The max bitlength that can be provided is 32.");if(t>=g.pow(2,n))throw new l("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new l("The max bitlength that can be provided is 32.");if(g.abs(t)>=g.pow(2,n-1))throw new l("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+g.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new l("Received a negative number.");for(var n=g.floor(g.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new _(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),ma=function(){function t(t){this.rb=new wa,this.Ao=t}return t.prototype.closeWriter=function(){void 0!==this.Ao&&(this.rb=this.rb.concat(this.Ao.close()),this.Ao=void 0)},w.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Ao&&(this.Ao=new ga),this.Ao},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),ya=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new l("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(g.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new ma;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=g.pow(2,32),t}();function pa(t,n){return t instanceof vt?64===n:t<g.pow(2,n)}function _a(t,n){return g.round(t*g.pow(2,n))}function ba(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function ka(t,n){return t/g.pow(2,n)}var Aa=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!pa(i,8))throw new l("the provided version cannot fit in 8 bits.");return r.flags=e,r}return aa(n,t),w.defineProperty(n.prototype,"flags",{get:function(){return this.To},set:function(t){this.To=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new l("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(ya),Ta=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return aa(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(wa.from(this.data))},n}(ya),Sa=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();var Ea=16384;function Ia(t){var n=t.length;if(n<=Ea)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Ea)i.push(String.fromCharCode.apply(String,t.slice(e,e+Ea)));return i.join("")}var Ra=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function Ca(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function Da(t,n,i){var e=Ma(Fa(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}function Na(t,n,i){return n.offset+i<=t.byteLength}function Pa(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function xa(t,n,i){void 0===i&&(i=!1);var e=Pa(t,n,i),r=Pa(t,n,i),s=i?r:e,u=i?e:r;return vt.fromBits(u,s,!0)}function Ba(t,n,i){var e,r=Da(t,n,i);return Ia((e=r,[].slice.call(e)))}function Oa(t,n){var i,e=Ca(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&Ca(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&Ca(t,n))+(63&Ca(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&Ca(t,n))+64*(63&Ca(t,n))+(63&Ca(t,n))),i}function La(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Oa(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return function(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Ia(n)}(e)}(t,n,!0)}function Ma(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new _(t.buffer,t.byteOffset+n,i-n)}function ja(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Fa(t){return new _(t.buffer,t.byteOffset,t.byteLength)}var Ua=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new Sa(this.offset<<3)},t}(),Ha=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return Ca(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return Pa(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=Pa(t,n,i),r=Pa(t,n,i),s=i?r:e,u=i?e:r;return vt.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return xa(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return Da(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(Pa(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Ba(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return La(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Xa(t,n){return t.type===n}var Va=8;function za(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=Wa(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new l("Data incomplete");return n.boxes}function Wa(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!Na(t,n,Va)){var e=n.offset+Va;return{complete:!1,neededOffset:e}}var r=Pa(t,n),s=Ba(t,n,4);if(1===r){if(!Na(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=xa(t,n).toNumber()}if("uuid"===s){if(!Na(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=Ba(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var a,h,c,f={type:r.type,offset:i,data:new Ha((a=t,h=i,c=u,void 0===h&&(h=0),void 0===c&&(c=a.byteLength),new DataView(a.buffer,a.byteOffset+h,c-h)),new Ua(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function qa(t){return{version:t>>24,flags:new Ra(16777215&t)}}function Ga(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function $a(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function Ya(t){var n=t.nextUint32Array(9);return{a:ka(n[0],16),b:ka(n[1],16),u:ka(n[2],30),c:ka(n[3],16),d:ka(n[4],16),v:ka(n[5],30),x:ka(n[6],16),y:ka(n[7],16),w:ka(n[8],30)}}function Qa(t){return new Ta(t.type,Ma(Fa(t.data.data),t.data.cursor.offset))}var Za=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return aa(n,t),w.defineProperty(n.prototype,"handlerType",{get:function(){return this.So},set:function(t){this.So=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(Aa);function Ka(t){var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new Za(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}aa(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Za);var Ja=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},w.defineProperty(t.prototype,"tag",{get:function(){return this.Eo},set:function(t){if(!pa(t,8))throw new l("Provided tag does not fit in 8 bits.");this.Eo=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=e,a.decoderSpecificInfo=u,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=r,a.maxBitrate=s.max,a.avgBitrate=s.avg,a}aa(n,t),w.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Io},set:function(t){if(!pa(t,8))throw new l("Provided objectTypeIndication does not fit in 8 bits.");this.Io=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"streamType",{get:function(){return this.Ro},set:function(t){if(!pa(t,6))throw new l("Provided streamType does not fit in 6 bits.");this.Ro=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Do},set:function(t){if(!pa(t,24))throw new l("Provided bufferSizeDb does not fit in 24 bits.");this.Do=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.No},set:function(t){if(!pa(t,32))throw new l("Provided maxBitrate does not fit in 32 bits.");this.No=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.Co},set:function(t){if(!pa(t,32))throw new l("Provided avgBitrate does not fit in 32 bits.");this.Co=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Ja),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}aa(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(wa.from(this.data))}}(Ja);var th=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return aa(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Ja);!function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new th(r.fixed28BitMode),s}aa(n,t),w.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"esId",{get:function(){return this.Po},set:function(t){if(!pa(t,16))throw new l("Provided esId does not fit in 16 bits.");this.Po=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Bo},set:function(t){if(!pa(t,5))throw new l("Provided streamPriority does not fit in 5 bits.");this.Bo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Oo},set:function(t){if(t&&!pa(t,16))throw new l("Provided dependsOnEsId does not fit in 16 bits.");this.Oo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.xo},set:function(t){if(t&&!pa(t,16))throw new l("Provided ocrEsId does not fit in 16 bits.");this.xo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Ja);var nh=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return aa(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(ya),ih=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return aa(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(nh),eh=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return aa(n,t),w.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.Lo},set:function(t){if(!pa(t,16))throw new l("Provided dataReferenceIndex does not fit in 16 bits.");this.Lo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(ih),rh=function(t){function n(n,i,e,r){var s,u,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return aa(n,t),w.defineProperty(n.prototype,"channelCount",{get:function(){return this.Mo},set:function(t){if(!pa(t,16))throw new l("Provided channelCount does not fit in 16 bits.");this.Mo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleSize",{get:function(){return this.Uo},set:function(t){if(!pa(t,16))throw new l("Provided sampleSize does not fit in 16 bits.");this.Uo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleRate",{get:function(){return this.Xo},set:function(t){if(!pa(_a(t,16),32))throw new l("Provided rate does not fit in 32 bits (fixed 16.16).");this.Xo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(_a(this.sampleRate,16),32),this.extra&&ba(n.writer,this.extra)},n}(eh);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}aa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){if(!pa(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!pa(t,32)}))throw new l("Not all entries can be represented in 32 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Aa),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}aa(n,t),w.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Fo},set:function(t){if(!pa(t,32))throw new l("Provided cleanApertureWidthN does not fit in 32 bits.");this.Fo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.zo},set:function(t){if(!pa(t,32))throw new l("Provided cleanApertureWidthD does not fit in 32 bits.");this.zo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Vo},set:function(t){if(!pa(t,32))throw new l("Provided cleanApertureHeightN does not fit in 32 bits.");this.Vo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.Wo},set:function(t){if(!pa(t,32))throw new l("Provided cleanApertureHeightD does not fit in 32 bits.");this.Wo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Go},set:function(t){if(!pa(t,32))throw new l("Provided horizOffN does not fit in 32 bits.");this.Go=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"horizOffD",{get:function(){return this.qo},set:function(t){if(!pa(t,32))throw new l("Provided horizOffD does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Yo},set:function(t){if(!pa(t,32))throw new l("Provided vertOffN does not fit in 32 bits.");this.Yo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"vertOffD",{get:function(){return this.jo},set:function(t){if(!pa(t,32))throw new l("Provided vertOffD does not fit in 32 bits.");this.jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(ya),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}aa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){if(!pa(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!pa(t.sampleCount,32)||!pa(t.sampleOffset,32)}))throw new l("Not all entries can be represented in 64 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(Aa),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}aa(n,t),w.defineProperty(n.prototype,"location",{get:function(){return this.Qo},set:function(t){this.flags=void 0===t?1:0,this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Aa),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}aa(n,t),w.defineProperty(n.prototype,"location",{get:function(){return this.Qo},set:function(t){if(1&this.flags)throw new l("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Aa),function(t){function n(){return t.call(this,"dinf")||this}aa(n,t)}(ih);var sh=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!pa(i,8))throw new l("the provided version cannot fit in 8 bits.");return r.flags=e,r}return aa(n,t),w.defineProperty(n.prototype,"flags",{get:function(){return this.To},set:function(t){this.To=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new l("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(nh);!function(t){function n(){return t.call(this,"dref",0,0)||this}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(sh);var uh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!pa(e.segmentDuration,this.bitSize))throw new l("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!pa(e.mediaTime,this.bitSize))throw new l("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!pa(e.mediaRateInteger,16))throw new l("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!pa(e.mediaRateFraction,16))throw new l("Provided mediaRateFraction does not fit in 16 bits.")}this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(Aa),oh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return aa(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(uh),ah=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return aa(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(uh);function hh(t){for(var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var a=void 0,h=void 0;0===e?(a=n.nextUint32(),h=n.nextInt32()):(a=n.nextUint64(),h=n.nextInt64());var c=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:a,mediaTime:h,mediaRateFraction:f,mediaRateInteger:c})}return 0===e?new oh(u,r.raw):new ah(u,r.raw)}var ch=function(t){function n(){return t.call(this,"edts")||this}return aa(n,t),n}(ih);function fh(t){for(var n=new ch,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Xa(r,"elst")?n.boxes.push(hh(r)):n.boxes.push(Qa(r))}return n}var lh=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return aa(n,t),w.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Zo},set:function(t){if(4!==t.length)throw new l("the provided major brand does not conform to the 4 character requirement");this.Zo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Ko},set:function(t){if(!pa(t,32))throw new l("the provided minor version does not fit in 32 bits.");this.Ko=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Jo},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new l("Some of the compatible brands do not conform to the 4 character requirement");this.Jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(ya),vh=function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}return aa(n,t),n}(lh);function dh(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new vh(i,e,r)}var wh=function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}return aa(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(wa.from(this.data))},n}(ya),gh=function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return aa(n,t),w.defineProperty(n.prototype,"creationTime",{get:function(){return this.$o},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$o=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ea},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!pa(t,32))throw new l("Provided sequence number does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"duration",{get:function(){return this.ua},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"language",{get:function(){return this.oa},set:function(t){if(!_h(t))throw new l("Expected an ISO-639-2/T language code");this.oa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(Aa),mh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return aa(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(gh),yh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return aa(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(gh);function ph(t){var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags,s=Ga(n,e),u=new va(wa.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(u.readUInt(5));var h=o.map(function(t){return String.fromCharCode(t+96)}).join("");return _h(h)||(h="und"),n.skip(2),0===e?new mh(s,h,r.raw):new yh(s,h,r.raw)}function _h(t){return/^[a-z]{3}$/.test(t)}var bh=function(t){function n(){return t.call(this,"mdia")||this}return aa(n,t),n}(ih);function kh(t){for(var n=new bh,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Xa(r,"mdhd")?n.boxes.push(ph(r)):Xa(r,"hdlr")?n.boxes.push(Ka(r)):n.boxes.push(Qa(r))}return n}var Ah,Th=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new wa,n}return aa(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(ya);function Sh(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),e=new Th;return e.data.pushRange(i),e}!function(t){function n(){return t.call(this,"minf")||this}aa(n,t)}(ih),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(sh),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(Ah||(Ah={}));var Eh,Ih,Rh={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Ch(t,n){n.writer.writeUInt(_a(t.a,16),32),n.writer.writeUInt(_a(t.b,16),32),n.writer.writeUInt(_a(0,30),32),n.writer.writeUInt(_a(t.c,16),32),n.writer.writeUInt(_a(t.d,16),32),n.writer.writeUInt(_a(0,30),32),n.writer.writeUInt(_a(t.x,16),32),n.writer.writeUInt(_a(t.y,16),32),n.writer.writeUInt(_a(1,30),32)}function Dh(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Eh.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Ih.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Ih.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:Ih.UNKNOWN,2)}function Nh(t,n){var i,e,r;n.writer.writeUInt(0,4),Dh(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Eh||(Eh={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Ih||(Ih={}));var Ph=function(){return function(){}}(),xh=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return aa(n,t),w.defineProperty(n.prototype,"systemId",{get:function(){return this.va},set:function(t){if(16!==t.length)throw new l("Provided systemId length is not 16.");this.va=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"data",{get:function(){return this.Gi},set:function(t){if(!pa(t.length,32))throw new l("Provided data length does not fit in 32 bits.");this.Gi=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(wa.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(wa.from(this.data))},n}(Aa),Bh=function(t){function n(n,i){return t.call(this,0,n,i)||this}return aa(n,t),n}(xh),Oh=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return aa(n,t),w.defineProperty(n.prototype,"kIds",{get:function(){return this._a},set:function(t){if(!pa(t.length,32))throw new l("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new l("Not all provided key ids are 16 bytes long.");this._a=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(wa.from(e))}},n}(xh);function Lh(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),s=0;s<r;s++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new Oh(i,o,e):new Bh(i,o)}var Mh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.ma},set:function(t){if(!pa(t,this.bitSize))throw new l("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Aa),jh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return aa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Mh),Fh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return aa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Mh);function Uh(t){var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new jh(n.nextUint32(),r.raw):new Fh(n.nextUint64(),r.raw)}var Hh=function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var s,u,o,a=this;return(a=t.call(this,"trex",e,r)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,a.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return aa(n,t),w.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(!pa(t,32))throw new l("Provided track id does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Aa},set:function(t){if(!pa(t,32))throw new l("Provided default sample description index does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ta},set:function(t){if(!pa(t,32))throw new l("Provided default sample duration does not fit in 32 bits.");this.Ta=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Sa},set:function(t){if(!pa(t,32))throw new l("Provided default sample size does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ea},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!pa(t.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!pa(t.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Nh(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(Aa);function Xh(t){var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),h=$a(new va(wa.from(n.nextUint8Array(4))));return new Hh(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:a,sampleFlags:h},e,r.raw)}var Vh=function(t){function n(){return t.call(this,"mvex")||this}return aa(n,t),n}(ih);function zh(t){for(var n=new Vh,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Xa(r,"mehd")?n.boxes.push(Uh(r)):Xa(r,"trex")?n.boxes.push(Xh(r)):n.boxes.push(Qa(r))}return n}var Wh=function(t){function n(i,e,r,s,u){void 0===u&&(u=0);var o,a,h,c=this;return(c=t.call(this,"mvhd",s,u)||this).creationTime=i.creation,c.modificationTime=i.modification,c.timescale=i.scale,c.duration=i.duration,c.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,c.volume=null!==(a=r.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,c.matrix=null!==(h=r.matrix)&&void 0!==h?h:Rh,c.Ia=e,c}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"creationTime",{get:function(){return this.$o},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$o=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ea},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!pa(t,32))throw new l("Provided sequence number does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"duration",{get:function(){return this.ua},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"rate",{get:function(){return this.Ra},set:function(t){if(!pa(_a(t,16),32))throw new l("Provided rate does not fit in 32 bits (fixed 16.16).");this.Ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"volume",{get:function(){return this.Da},set:function(t){if(!pa(_a(t,8),16))throw new l("Provided volume does not fit in 16 bits (fixed 8.8).");this.Da=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"matrix",{get:function(){return this.Na},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new l("(u, v, w) does not match the required (0, 0, 1)");this.Na=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Ia},set:function(t){if(0===t)throw new l("NextTrackId cannot be 0.");if(!pa(t,32))throw new l("NextTrackId cannot exceed 32 bits.");this.Ia=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(_a(this.rate,16),32),n.writer.writeUInt(_a(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Ch(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(Aa),qh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return aa(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Wh),Gh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return aa(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Wh);function $h(t){var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags,s=Ga(n,e),u=ka(n.nextUint32(),16),o=ka(n.nextUint16(),8);n.skip(2),n.skip(8);var a=Ya(n);n.skip(24);var h=n.nextUint32();return 0===e?new qh(s,h,{rate:u,volume:o,matrix:a},r.raw):new Gh(s,h,{rate:u,volume:o,matrix:a},r.raw)}var Yh=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a,h,c,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(h=o.alternateGroup)&&void 0!==h?h:0,f.matrix=null!==(c=o.matrix)&&void 0!==c?c:Rh,f}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"creationTime",{get:function(){return this.$o},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$o=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ea},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(0===t)throw new l("trackId cannot be 0.");if(!pa(t,32))throw new l("trackId cannot exceed 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"duration",{get:function(){return this.ua},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"volume",{get:function(){return this.Da},set:function(t){if(!pa(_a(t,8),16))throw new l("Provided volume does not fit in 16 bits (fixed 8.8).");this.Da=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"width",{get:function(){return this.Ca},set:function(t){if(!pa(_a(t,16),32))throw new l("Provided width does not fit in 32 bits (fixed 16.16).");this.Ca=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"height",{get:function(){return this.Pa},set:function(t){if(!pa(_a(t,16),32))throw new l("Provided height does not fit in 32 bits (fixed 16.16).");this.Pa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"layer",{get:function(){return this.Ba},set:function(t){if(!pa(t,16))throw new l("Provided layer does not fit in 16 bits.");this.Ba=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Oa},set:function(t){if(!pa(t,16))throw new l("Provided alternateGroup does not fit in 16 bits.");this.Oa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"matrix",{get:function(){return this.Na},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new l("(u, v, w) does not match the required (0, 0, 1)");this.Na=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(_a(this.volume,8),16),n.writer.writeUInt(0,16),Ch(this.matrix,n),n.writer.writeUInt(_a(this.width,16),32),n.writer.writeUInt(_a(this.height,16),32)},n}(Aa),Qh=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return aa(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Yh),Zh=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return aa(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Yh);function Kh(t){var n,i,e,r,s=t.data,u=qa(s.nextUint32()),o=u.version,a=u.flags,h=a.isSet(8),c=a.isSet(4),f=a.isSet(2),l=a.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var v=s.nextInt16(),d=s.nextInt16(),w=ka(s.nextInt16(),8);s.skip(2);var g=Ya(s),m=ka(s.nextUint32(),16),y=ka(s.nextUint32(),16);return 0===o?new Qh({creation:n,modification:i,duration:r},e,w,m,y,{layer:v,matrix:g,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:l,trackInPreview:c,trackInMovie:f}):new Zh({creation:n,modification:i,duration:r},e,w,m,y,{layer:v,matrix:g,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:l,trackInPreview:c,trackInMovie:f})}var Jh=function(t){function n(){return t.call(this,"trak")||this}return aa(n,t),n}(ih);function tc(t){for(var n=new Jh,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Xa(r,"tkhd")?n.boxes.push(Kh(r)):Xa(r,"mdia")?n.boxes.push(kh(r)):Xa(r,"edts")?n.boxes.push(fh(r)):n.boxes.push(Qa(r))}return n}var nc=function(t){function n(){return t.call(this,"moov")||this}return aa(n,t),n}(ih);function ic(t){for(var n=new nc,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Xa(r,"mvhd")?n.boxes.push($h(r)):Xa(r,"trak")?n.boxes.push(tc(r)):Xa(r,"mvex")?n.boxes.push(zh(r)):Xa(r,"pssh")?n.boxes.push(Lh(r)):n.boxes.push(Qa(r))}return n}var ec=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.xa},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.xa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Aa),rc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return aa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(ec),sc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return aa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(ec);function uc(t){var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new rc(n.nextUint32(),r.raw):new sc(n.nextUint64(),r.raw)}var oc=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return aa(n,t),w.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(!pa(t,32))throw new l("Provided track id does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.La},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new l("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new l("The base data offset present flag is not set.");if(t&&!pa(t,64))throw new l("Provided baseDataOffset does not fit in 32 bits.");this.La=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Ma},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new l("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new l("The sample description index flag is not set.");if(t&&!pa(t,32))throw new l("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Ma=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ta},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new l("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new l("The default sample duration present flag is not set.");if(t&&!pa(t,32))throw new l("Provided defaultSampleDuration does not fit in 32 bits.");this.Ta=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Sa},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new l("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new l("The default sample size present flag is not set.");if(t&&!pa(t,32))throw new l("Provided defaultSampleSize does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ea},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new l("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new l("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!pa(t.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!pa(t.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Nh(this.defaultSampleFlags,n)},n}(Aa);function ac(t){var n=t.data,i=n.nextUint8(),e=new va(wa.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=Boolean(e.readBit()),f=n.nextUint32(),l=c?n.nextUint64():void 0,v=h?n.nextUint32():void 0,d=a?n.nextUint32():void 0,w=o?n.nextUint32():void 0,g=u?$a(new va(wa.from(n.nextUint8Array(4)))):void 0;return new oc({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:l,sampleDescriptionIndex:v,defaultSampleDuration:d,defaultSampleSize:w,defaultSampleFlags:g},i)}var hc=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return aa(n,t),w.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Ua},set:function(t){if(t&&!pa(t,32))throw new l("Provided data offset does not fit in 32 bits.");this.Ua=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.Xa},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!pa(t.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!pa(t.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");this.Xa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"samples",{get:function(){return this.Ha},set:function(t){var n,i;if(!pa(t.length,32))throw new l("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new l("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new l("The sample duration present flag is not set.");if(s.duration&&!pa(s.duration,32))throw new l("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new l("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new l("The sample size present flag is not set.");if(s.size&&!pa(s.size,32))throw new l("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new l("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new l("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!pa(s.flags.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!pa(s.flags.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new l("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new l("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!pa(s.compositionTimeOffset,32))throw new l("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Ha=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Nh(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&Nh(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(Aa);function cc(t){var n=t.data,i=n.nextUint8(),e=new va(wa.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};h&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=$a(new va(wa.from(n.nextUint8Array(4)))));for(var l=[],v=0;v<c;v++){var d={};o&&(d.duration=n.nextUint32()),u&&(d.size=n.nextUint32()),s&&(d.flags=$a(new va(wa.from(n.nextUint8Array(4))))),r&&(d.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),l.push(d)}return new hc(i,f,l)}var fc=function(t){function n(){return t.call(this,"traf")||this}return aa(n,t),n}(ih);function lc(t){for(var n=new fc,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Xa(r,"tfhd")?n.boxes.push(ac(r)):Xa(r,"tfdt")?n.boxes.push(uc(r)):Xa(r,"trun")?n.boxes.push(cc(r)):n.boxes.push(Qa(r))}return n}var vc=function(t){function n(){return t.call(this,"moof")||this}return aa(n,t),n}(ih);function dc(t){for(var n=new vc,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Xa(r,"traf")?n.boxes.push(lc(r)):Xa(r,"pssh")?n.boxes.push(Lh(r)):n.boxes.push(Qa(r))}return n}!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}aa(n,t),w.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.Fa},set:function(t){if(!pa(t,32))throw new l("Provided sequence number does not fit in 32 bits.");this.Fa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(Aa);var wc=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return aa(n,t),w.defineProperty(n.prototype,"codingName",{get:function(){return this.Va},set:function(t){if(4!==t.length)throw new l("Provided coding name was not 4 characters long.");this.Va=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(ya);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}aa(n,t),w.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Wa},set:function(t){if(!pa(t,32))throw new l("Provided hSpacing does not fit in 32 bits.");this.Wa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Ga},set:function(t){if(!pa(t,32))throw new l("Provided vSpacing does not fit in 32 bits.");this.Ga=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(ya),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}aa(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(ih),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new wc(n),r}aa(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(ya);var gc=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){var n=this;if(!pa(t.length,32))throw new l("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!pa(t,n.bitSize)}))throw new l("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Ho=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.qa},set:function(t){if(void 0===t)this.flags=0;else{if(!pa(t.auxInfoType,32))throw new l("Provided auxInfoType does not fit in 32 bits.");if(!pa(t.auxInfoTypeParameter,32))throw new l("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(Aa);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}aa(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(gc),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}aa(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(gc),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}aa(n,t),w.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.Ya},set:function(t){if(!pa(t,8))throw new l("Provided defaultSampleInfoSize does not fit in a single byte.");this.Ya=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Qa},set:function(t){if(!pa(t.length,32))throw new l("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!pa(t,8)}))throw new l("Not all provided sampleInfoSizes fit in a byte.");this.Qa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.qa},set:function(t){if(void 0===t)this.flags=0;else{if(!pa(t.auxInfoType,32))throw new l("Provided auxInfoType does not fit in 32 bits.");if(!pa(t.auxInfoTypeParameter,32))throw new l("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new l("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(Aa),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Dh(e[i],n)}}}(Aa),function(t){function n(n){return t.call(this,"stsd",n,0)||this}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(sh);var mc=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return aa(n,t),w.defineProperty(n.prototype,"groupingType",{get:function(){return this.Za},set:function(t){if(4!==t.length)throw new l("The provided groupingType does not equal 4 characters.");this.Za=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(Aa);!function(t){function n(n,i){return t.call(this,0,n,i)||this}aa(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(mc),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}aa(n,t),w.defineProperty(n.prototype,"defaultLength",{get:function(){return this.Ka},set:function(t){if(!pa(t,32))throw new l("The provided defaultLength does not fit in 32 bits.");this.Ka=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(mc),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new l("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}aa(n,t),w.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Aa},set:function(t){if(!pa(t,32))throw new l("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(mc),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}aa(n,t),w.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.Ja},set:function(t){if(!pa(t.length,32))throw new l("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!pa(t,32)}))throw new l("Not all sampleSizes can be represented in 32 bits.");this.Ja=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Aa),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}aa(n,t),w.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Sa},set:function(t){if(!pa(t,32))throw new l("Provided defaultSampleSize does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"samples",{get:function(){return this.Ha},set:function(t){if(!pa(t,32))throw new l("Number of allowed samples cannot fit in 32 bits.");this.Ha=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(Aa),function(t){function n(){return t.call(this,"stbl")||this}aa(n,t)}(ih),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}aa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){if(!pa(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!pa(t.firstChunk,32)||!pa(t.sampleDescriptionIndex,32)||!pa(t.samplesPerChunk,32)}))throw new l("Not all entries can be represented in 96 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(Aa),function(t){function n(){return t.call(this,"schi")||this}aa(n,t)}(ih),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}aa(n,t),w.defineProperty(n.prototype,"schemeType",{get:function(){return this.$a},set:function(t){if(4!==t.length)throw new l("The provided schemeType does not have a length of 4.");this.$a=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.nh},set:function(t){if(!pa(t,32))throw new l("The provided schemeVersion does not fit in 23 bits.");this.nh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"schemeUri",{get:function(){return this.ih},set:function(t){if(t&&4!==t.length)throw new l("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.ih=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(Aa);var yc=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=e,a.earliestPresentationTime=r,a.firstOffset=s,a.references=u,a}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"referenceId",{get:function(){return this.eh},set:function(t){if(!pa(t,32))throw new l("Provided referenceId does not fit in 32 bits.");this.eh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!pa(t,32))throw new l("Provided timescale does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.rh},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.rh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"firstOffset",{get:function(){return this.sh},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.sh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"references",{get:function(){return this.uh},set:function(t){if(!pa(t.length,16))throw new l("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!pa(e.referencedSize,31))throw new l("Provided referenced size does not fit in 31 bits.");if(!pa(e.subsegmentDuration,32))throw new l("Provided subsegment duration does not fit in 31 bits.");if(!pa(e.sapType,3))throw new l("Provided SAP type does not fit in 3 bits.");if(!pa(e.sapDeltaTime,28))throw new l("Provided SAP delta time does not fit in 28 bits.")}this.uh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(Aa),pc=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return aa(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(yc),_c=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return aa(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(yc);var bc=function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}return aa(n,t),n}(lh);function kc(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new bc(i,e,r)}!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}aa(n,t),w.defineProperty(n.prototype,"balance",{get:function(){return this.oh},set:function(t){if(t<-1||t>1)throw new l("Provided balance does not fit in the allowed range [-1, 1].");if(!pa(_a(t,8),16))throw new l("Provided balance does not fit in 16 bits (fixed 8.8).");this.oh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(_a(this.balance,8),16),n.writer.writeUInt(0,16)}}(Aa),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}aa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){if(!pa(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!pa(t,32)}))throw new l("Not all entries can be represented in 32 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Aa),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}aa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){if(!pa(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!pa(t.sampleCount,32)||!pa(t.sampleDelta,32)}))throw new l("Not all entries can be represented in 64 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(Aa),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}aa(n,t),w.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(!pa(t,32))throw new l("The provided trackId does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(sh),function(t){function n(){return t.call(this,"udta")||this}aa(n,t)}(ih);var Ac={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=Ac);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}aa(n,t),w.defineProperty(n.prototype,"opColor",{get:function(){return this.ah},set:function(t){if(!pa(t.red,16)||!pa(t.green,16)||!pa(t.blue,16))throw new l("Not all colors could be represented in 16 bits.");this.ah=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(Aa);var Tc=function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u,o,a,h,c,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=r.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(h=r.frameCount)&&void 0!==h?h:1,f.depth=null!==(c=r.depth)&&void 0!==c?c:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=s,f}return aa(n,t),w.defineProperty(n.prototype,"width",{get:function(){return this.Ca},set:function(t){if(!pa(t,16))throw new l("Provided width does not fit in 16 bits.");this.Ca=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"height",{get:function(){return this.Pa},set:function(t){if(!pa(t,16))throw new l("Provided height does not fit in 16 bits.");this.Pa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.hh},set:function(t){if(!pa(_a(t,16),32))throw new l("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.hh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.fh},set:function(t){if(!pa(_a(t,16),32))throw new l("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.fh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"compressorName",{get:function(){return this.vh},set:function(t){if(t.length>31)throw new l("The provided compressorName should at most be 31 characters long.");this.vh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"frameCount",{get:function(){return this.lh},set:function(t){if(!pa(t,16))throw new l("Provided frameCount does not fit in 16 bits.");this.lh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"depth",{get:function(){return this.dh},set:function(t){if(!pa(t,16))throw new l("Provided depth does not fit in 16 bits.");this.dh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(_a(this.horizontalResolution,16),32),n.writer.writeUInt(_a(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&ba(n.writer,this.extra)},n}(eh);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof _?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof _?n.concat(wa.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(Aa),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(rh),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Tc),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(eh),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}aa(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(ya),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}w.defineProperty(t.prototype,"version",{get:function(){return this.wh},set:function(t){if(!pa(t,8))throw new l("Provided version does not fit in 8 bits.");this.wh=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"profileIndication",{get:function(){return this._h},set:function(t){if(!pa(t,8))throw new l("Provided profileIndication does not fit in 8 bits.");this._h=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.gh},set:function(t){if(!pa(t,8))throw new l("Provided profileCompatibility does not fit in 8 bits.");this.gh=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"levelIndication",{get:function(){return this.yh},set:function(t){if(!pa(t,8))throw new l("Provided levelIndication does not fit in 8 bits.");this.yh=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"spsSets",{get:function(){return this.kh},set:function(t){if(!pa(t.length,5))throw new l("Provided number of spsSets exceeds the max (32)");this.kh=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"ppsSets",{get:function(){return this.ph},set:function(t){if(!pa(t.length,8))throw new l("Provided number of ppsSets exceeds the max (256)");this.ph=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(wa.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(wa.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}aa(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(Tc),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}aa(n,t),w.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Do},set:function(t){if(!pa(t,32))throw new l("Provided bufferSizeDb does not fit in 32 bits.");this.Do=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"max",{get:function(){return this.Ah},set:function(t){if(!pa(t,32))throw new l("Provided max does not fit in 32 bits.");this.Ah=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"avg",{get:function(){return this.Th},set:function(t){if(!pa(t,32))throw new l("Provided avg does not fit in 32 bits.");this.Th=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(ya);var Sc=function(t){function n(n,i){var e,r,s,u,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new l("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new _(0),o}return aa(n,t),w.defineProperty(n.prototype,"isProtected",{get:function(){return this.Sh},set:function(t){if(!pa(t,8))throw new l("Provided isProtected does not fit in 1 byte.");this.Sh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Eh},set:function(t){if(![8,16].includes(t))throw new l("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Eh=t,this.Ih=new _(0)},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"kId",{get:function(){return this.Rh},set:function(t){if(16!==t.length)throw new l("Provided kId length is not 16.");this.Rh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"constantIv",{get:function(){return this.Ih},set:function(t){if(![8,16].includes(t.length))throw new l("Provided constant IV length does not match any allowed value [8, 16].");this.Ih=t,this.Eh=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),ba(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),ba(t.writer,this.constantIv))},n}(Aa);!function(t){function n(n){return t.call(this,0,n)||this}aa(n,t)}(Sc);var Ec=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return aa(n,t),w.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Dh},set:function(t){if(!pa(t,4))throw new l("Provided cryptByteBlocks does not fit in 4 bits.");this.Dh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Nh},set:function(t){if(!pa(t,4))throw new l("Provided skipByteBlocks does not fit in 4 bits.");this.Nh=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(Sc);function Ic(t){return void 0!==t.iv}function Rc(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new Ec(n),i}aa(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Ph),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}aa(n,t),w.defineProperty(n.prototype,"samples",{get:function(){return this.Ha},set:function(t){var n;if(!pa(t.length,32))throw new l("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(Ic(r)&&![8,16].includes(r.iv.length))throw new l("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Rc(r)),!0===n&&!Rc(r)||!1===n&&Rc(r))throw new l("Mix of samples with and without subsamples detected.");if(Rc(r)){if(!pa(r.subsamples.length,16))throw new l("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!pa(o.clearData,16))throw new l("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!pa(o.protectedData,23))throw new l("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Ha=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];Ic(r)&&(n+=r.iv.length),Rc(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(Ic(r)&&ba(n.writer,r.iv),Rc(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(Aa),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}aa(n,t),w.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!pa(t,32))throw new l("The provided timescale does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Ch},set:function(t){if(!pa(t,32))throw new l("The provided presentationTimeDelta does not fit in 32 bits.");this.Ch=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Ph},set:function(t){if(!pa(t,32))throw new l("The provided eventDuration does not fit in 32 bits.");this.Ph=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"id",{get:function(){return this.Bh},set:function(t){if(!pa(t,32))throw new l("The provided id does not fit in 32 bits.");this.Bh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(wa.from(this.data))}}(Aa);var Cc=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new ma,n=0,i=this.boxes;n<i.length;n++){var e=i[n];t.concat(e.serialize())}return t.toRangedBuffer()},t}();function Dc(t,n){return function(i){var e=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=Wa(i,e);if(!r.complete)return;if(Xa(r.box,n))return r.box}}(new Ha(ja(i),new Ua),t);if(!e)throw new l("".concat(t," box not found"));return n(e)}}var Nc=Dc("moov",ic),Pc=Dc("sidx",function(t){var n,i,e=t.data,r=qa(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),a=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var h=e.nextUint16(),c=[],f=0;f<h;f++){var l=new va(wa.from(e.nextUint8Array(12))),v=l.readBit(),d=l.readUInt(31),w=l.readUInt(32),g=Boolean(l.readBit()),m=l.readUInt(3),y=l.readUInt(28);c.push({referenceType:v,referencedSize:d,subsegmentDuration:w,startsWithSap:g,sapType:m,sapDeltaTime:y})}return 0===s?new pc(o,a,n,i,c,u.raw):new _c(o,a,n,i,c,u.raw)}),xc=Dc("moof",dc),Bc=Dc("pssh",Lh);function Oc(t){return function(t){for(var n=new Cc,i=0,e=za(t);i<e.length;i++){var r=e[i];Xa(r,"ftyp")?n.boxes.push(dh(r)):Xa(r,"styp")?n.boxes.push(kc(r)):Xa(r,"moov")?n.boxes.push(ic(r)):Xa(r,"moof")?n.boxes.push(dc(r)):Xa(r,"mdat")?n.boxes.push(Sh(r)):n.boxes.push(Qa(r))}return n}(new Ha(ja(t),new Ua))}var Lc=function(t){function n(n,i){var e;(e=t.call(this)||this).Oh=void 0,e.Lh=!1,e.Mh=void 0,e.Uh=void 0,e.Xh=function(){e.Hh()},e.Fh=function(t){e.Qs(new Nu(Jt(e),t.messageType,ra(e.Vh,t.message)))},e.Wh=function(){e.Lh=!0,e.Oh.Cu>0&&(e.Oh.Nu(),e.Qs(new Du(Jt(e)))),e.Gh.removeEventListener("keystatuseschange",e.Xh),e.Gh.removeEventListener("message",e.Fh)},e.Gh=n,e.Vh=i,e.Gh.addEventListener("keystatuseschange",e.Xh),e.Gh.addEventListener("message",e.Fh),e.Oh=new Lu;var r=[];return e.Gh.closed&&r.push(qe.resolve(e.Gh.closed)),e.Uh=new na,r.push(e.Uh.Hu),e.Mh=qe.race(r).then(e.Wh,e.Wh),e.Hh(),e}E(n,t);var i=n.prototype;return i.qh=function(){if(this.Lh)return this.Mh;var t=[];return t.push(qe.resolve(this.Gh.close())),t.push(bu(1e3)),this.Uh.Wu(qe.race(t).catch(Mc)),this.Lh=!0,this.Mh},i.Yh=function(t,n,i){if(j.fn){var e=Bc(Yo(n));if(1===e.version)n=new Bh(e.systemId,e.data).serialize().join()}return qe.resolve(this.Gh.generateRequest(t,n)).catch(Mc)},i.jh=function(t){return qe.resolve(this.Gh.load(t)).catch(Mc)},i.Qh=function(){return qe.resolve(this.Gh.remove()).catch(Mc)},i.Zh=function(t){return qe.resolve(this.Gh.update(t)).catch(Mc)},i.Hh=function(){var t=this;this.Oh.Nu(),this.Gh.keyStatuses.forEach(function(n,i){t.Kh(i,n)}),this.Qs(new Du(this))},i.Kh=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Yo(t);if(this.Vh===ss&&16===e.byteLength){var r=qo(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.Vh===ss&&"status-pending"===n&&(n="usable"),this.Oh.Du(e,n)},T(n,[{key:"Jh",get:function(){return this.Mh}},{key:"$h",get:function(){return this.Gh.expiration}},{key:"tc",get:function(){return this.Oh}},{key:"nc",get:function(){return this.Gh.sessionId}}]),n}(Su);function Mc(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|m(i[1],16))}throw new ua(t.message,void 0,n,t)}var jc=function(){function t(t,n,i){this.ic=t,this.ec=n,this.rc=i}var n=t.prototype;return n.uc=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Lc(this.ic.createSession(t),this.ec));case 1:case"end":return n.stop()}},null,this,null,qe)},n.ac=function(t){return qe.resolve(this.ic.setServerCertificate(t))},n.hc=function(t){return qe.resolve(t.setMediaKeys(this.ic))},n.cc=function(t){return qe.resolve(t.setMediaKeys(null))},t}(),Fc=function(){function t(t,n,i){this.fc=t,this.Vh=n,this.vc=i}var n=t.prototype;return n.lc=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.fc.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new jc(t,this.Vh,this.vc));case 4:case"end":return n.stop()}},null,this,null,qe)},n.dc=function(){return this.vc},T(t,[{key:"ec",get:function(){return this.fc.keySystem}}]),t}(),Uc={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Hc(t){return ks(t,Uc.APPLICATION_MP4)||ks(t,Uc.VIDEO_MP4)||ks(t,Uc.AUDIO_MP4)}var Xc=function(){function t(t,n){this.fs=void 0,this.wc=void 0,this.fs=t,this.wc=n}return t.prototype._c=function(t){for(var n=0,i=this.wc;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function Vc(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Xc(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,a=0;a<r.length;a++){var h=r[a];if(o||";"!==h)'"'===h&&(o=!o);else{var c=zc(r.substr(u,a));c&&s.push(c),u=a+1}}if(u!==r.length){var f=zc(r.substr(u));f&&s.push(f)}return new Xc(e,s)}function zc(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function Wc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function qc(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);i&&(n="avc1."+Is((Number(i[1])<<16|Number(i[2])).toString(16),6,"0"));return n}function Gc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,gc:e.gc},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return $c(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var a=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});a.length&&(s.videoCapabilities=a.filter(function(e){return $c(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function $c(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Qs(n,e.encryptionScheme))&&(!e.robustness&&t(i,Wc(e.contentType))))}function Yc(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function Qc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function Zc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Kc))||!(!t.videoCapabilities||!t.videoCapabilities.some(Kc))}function Kc(t){return!t.robustness}function Jc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(Ur({},r,{robustness:n}))}return i}var tf=function(){function t(){}return t.prototype.Ss=function(t,n){var i,e,r,s,u,a,h,c;return Fr.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.gc}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=Qc(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Qc(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(Zc)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",Ur({},n=t,{videoCapabilities:n.videoCapabilities?Jc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?Jc(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,Fr.awrap(o.requestMediaKeySystemAccess(t,s));case 7:return u=f.sent,a=u.getConfiguration(),f.abrupt("return",new Fc(u,t,a));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,Fr.awrap(o.requestMediaKeySystemAccess(t,n));case 16:return h=f.sent,c=h.getConfiguration(),f.abrupt("return",new Fc(h,t,c));case 19:case"end":return f.stop()}},null,null,[[4,12]],qe)},t.mc=function(){return xs()},t}(),nf=function(t){function n(n,i){var e;return(e=t.call(this)||this).Lh=!1,e.yc=void 0,e.kc=void 0,e.pc=void 0,e.bc=void 0,e.Ac=void 0,e.Wh=function(){e.Lh=!0,e.yc.Wu(void 0),e.Ac&&(e.Ac.removeEventListener("mskeyclose",e.Wh),e.Ac.removeEventListener("mskeymessage",e.Tc),e.Ac.removeEventListener("mskeyerror",e.Sc),e.Ac.removeEventListener("mskeyadded",e.Ec))},e.Tc=function(t){e.pc&&(e.pc.Wu(void 0),e.pc=void 0),e.Qs(new Nu(Jt(e),"license-request",Zo(t.message).buffer,t.destinationURL||void 0))},e.Sc=function(){var t=e.Ac&&e.Ac.error;if(t){var n=new ua("Unknown CDM error",t.code,t.systemCode);if(e.pc)e.pc.Gu(n),e.pc=void 0;else if(e.kc)e.kc.Gu(n),e.kc=void 0;else switch(n.Yu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Ic("output-not-allowed");break;default:e.Ic("internal-error")}}},e.Ec=function(){e.pc&&(e.Ic("usable"),e.pc.Wu(void 0),e.pc=void 0),e.kc&&(e.Ic("usable"),e.kc.Wu(void 0),e.kc=void 0)},e.Rc=n,e.Dc=i,e.yc=new na,e.bc=new Lu,e}E(n,t);var i=n.prototype;return i.Yh=function(t,n,i){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nc(),this.pc=new na,this.uc(Yo(n),i),t.next=5,Fr.awrap(this.pc.Hu);case 5:case"end":return t.stop()}},null,this,null,qe)},i.uc=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Cc;return(i=n?this.Rc.createSession(this.Dc,t,e):this.Rc.createSession(this.Dc,t)).addEventListener("mskeyclose",this.Wh),i.addEventListener("mskeymessage",this.Tc),i.addEventListener("mskeyerror",this.Sc),i.addEventListener("mskeyadded",this.Ec),this.Ac=i,this.Ic("status-pending"),i},i.jh=function(t){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,qe)},i.Zh=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.kc=new na,this.Nc(),this.Ac){i.next=4;break}return i.abrupt("return",qe.resolve());case 4:if(0!==(n=Yo(t)).byteLength){i.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.Ac.update(n),i.next=10,Fr.awrap(this.kc.Hu);case 10:case"end":return i.stop()}},null,this,null,qe)},i.qh=function(){return!this.Lh&&this.Ac&&(this.Lh=!0,this.Ac.close()),this.yc.Hu},i.Qh=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nc(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,qe)},i.Nc=function(){if(this.Lh)throw new v("Already closing or closed.")},i.Ic=function(t){this.bc.Nu(),this.bc.Du(Ou,t),this.Qs(new Du(this))},T(n,[{key:"nc",get:function(){return this.Ac&&this.Ac.sessionId||""}},{key:"$h",get:function(){return NaN}},{key:"Jh",get:function(){return this.yc.Hu}},{key:"tc",get:function(){return this.bc}}]),n}(Su),ef=function(){function t(t,n,i){this.Dc=void 0,this.Rc=t,this.ec=n,this.rc=i;var e=Yc(i)||"video/mp4";this.Dc=Wc(e)}var n=t.prototype;return n.uc=function(t){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new nf(this.Rc,this.Dc));case 1:case"end":return t.stop()}},null,this,null,qe)},n.ac=function(t){return qe.resolve(!1)},n.hc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Rc):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Rc),t.removeEventListener("loadedmetadata",i)}),qe.resolve()},n.cc=function(t){return qe.resolve()},t}(),rf=function(){function t(t,n){this.Vh=t,this.Pc=n}var n=t.prototype;return n.dc=function(){return this.Pc},n.lc=function(){var t=new we.MSMediaKeys(this.Vh);return qe.resolve(new ef(t,this.Vh,this.Pc))},T(t,[{key:"ec",get:function(){return this.Vh}}]),t}(),sf=function(){function t(){}return t.prototype.Ss=function(t,n){try{return qe.resolve(function(t,n){if(!uf())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Gc(of,Ru,t,e);if(r)return new rf(t,r)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return qe.reject(t)}},t.mc=function(){return uf()},t}();function uf(){return void 0!==we.MSMediaKeys&&"function"==typeof we.MSMediaKeys.isTypeSupported}function of(t,n){return we.MSMediaKeys.isTypeSupported(t,n)}var af,hf,cf=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).yc=new na,r.Bc=void 0,r.bc=new Lu,r.Oc=void 0,r.xc=new na,r.Sc=function(){var t=r.Oc&&r.Oc.error;if(t){var n=new ua("Unknown CDM error",t.code,t.systemCode);r.Bc?(r.Bc.Gu(n),r.Bc=void 0):n.Yu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Ic("output-not-allowed"):r.Ic("internal-error"),r.Qs(new Pu)}},r.Tc=function(t){r.Qs(new Nu(Jt(r),"license-request",Zo(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Ec=function(){r.Bc&&(r.Bc.Wu(void 0),r.Bc=void 0),r.Ic("usable")},r.Lc=n,r.Dc=i,r.Mc=e,r}E(n,t);var i=n.prototype;return i.Yh=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Uc;if(!e)throw new v("Expected FairPlay contentId to be defined but was "+e+".");var r=ff(Yo(n),e,this.Mc);return this.Oc=this.Lc.createSession(this.Dc,r),this.Oc.addEventListener("webkitkeymessage",this.Tc,!1),this.Oc.addEventListener("webkitkeyadded",this.Ec,!1),this.Oc.addEventListener("webkitkeyerror",this.Sc,!1),this.Ic("status-pending"),this.xc.Wu(this.Oc),this.xc=new na,qe.resolve()},i.jh=function(t){return qe.resolve(!0)},i.Zh=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Yo(t)).byteLength){i.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.Bc=new na,i.t0=this.Oc,i.t0){i.next=9;break}return i.next=8,Fr.awrap(this.xc.Hu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,Fr.awrap(this.Bc.Hu);case 13:case"end":return i.stop()}},null,this,null,qe)},i.qh=function(){var t,n=this.Oc;return n&&(n.removeEventListener("webkitkeymessage",this.Tc,!1),n.removeEventListener("webkitkeyadded",this.Ec,!1),n.removeEventListener("webkitkeyerror",this.Sc,!1),n.close()),this.xc.Fs(),null==(t=this.Bc)||t.Fs(),this.yc.Wu(void 0),this.yc.Hu},i.Qh=function(){return qe.resolve(void 0)},i.Ic=function(t){this.bc.Nu(),this.bc.Du(Ou,t),this.Qs(new Du(this))},T(n,[{key:"nc",get:function(){return this.Oc?this.Oc.sessionId:""}},{key:"$h",get:function(){return NaN}},{key:"Jh",get:function(){return this.yc.Hu}},{key:"tc",get:function(){return this.bc}}]),n}(Su);function ff(t,n,i){var e=Ho(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),a=new Jo;return Ao(o,a,r,!0),Bo(o,a,e,!0),Ao(o,a,s,!0),Bo(o,a,n,!0),Ao(o,a,i.byteLength,!0),mo(o,a,i),new _(u)}n.ErrorCode=void 0,(af=n.ErrorCode||(n.ErrorCode={}))[af.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",af[af.LICENSE_ERROR=2e3]="LICENSE_ERROR",af[af.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",af[af.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",af[af.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",af[af.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",af[af.SOURCE_INVALID=3e3]="SOURCE_INVALID",af[af.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",af[af.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",af[af.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",af[af.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",af[af.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",af[af.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",af[af.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",af[af.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",af[af.MEDIA_ABORTED=5004]="MEDIA_ABORTED",af[af.NETWORK_ERROR=6e3]="NETWORK_ERROR",af[af.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",af[af.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",af[af.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",af[af.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",af[af.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",af[af.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",af[af.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",af[af.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",af[af.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",af[af.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",af[af.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",af[af.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",af[af.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",af[af.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",af[af.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",af[af.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",af[af.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",af[af.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",af[af.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",af[af.AD_ERROR=1e4]="AD_ERROR",af[af.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",af[af.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(hf=n.ErrorCategory||(n.ErrorCategory={}))[hf.CONFIGURATION=1]="CONFIGURATION",hf[hf.LICENSE=2]="LICENSE",hf[hf.SOURCE=3]="SOURCE",hf[hf.MANIFEST=4]="MANIFEST",hf[hf.MEDIA=5]="MEDIA",hf[hf.NETWORK=6]="NETWORK",hf[hf.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",hf[hf.SUBTITLE=8]="SUBTITLE",hf[hf.VR=9]="VR",hf[hf.AD=10]="AD",hf[hf.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=g.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new v("Invalid error code: "+t)}}();var lf=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return E(i,t),T(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(nn);var vf=function(){function t(t,n,i){this.Dc=void 0,this.Mc=void 0,this.Lc=t,this.ec=n,this.rc=i;var e=Yc(i)||"video/mp4";this.Dc=Wc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Lc},i.uc=function(t){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Mc){t.next=2;break}throw new lf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new cf(this.Lc,this.Dc,this.Mc));case 3:case"end":return t.stop()}},null,this,null,qe)},i.ac=function(t){return this.Mc=Yo(t),qe.resolve(!0)},i.hc=function(t){return t.webkitSetMediaKeys(this.Lc),qe.resolve()},i.cc=function(t){return t.webkitSetMediaKeys(null),qe.resolve()},t}(),df=function(){function t(t,n){this.Vh=t,this.Pc=n}var n=t.prototype;return n.dc=function(){return this.Pc},n.lc=function(){var t=new we.WebKitMediaKeys(this.Vh);return qe.resolve(new vf(t,this.Vh,this.Pc))},T(t,[{key:"ec",get:function(){return this.Vh}}]),t}(),wf=function(){function t(){}return t.prototype.Ss=function(t,n){try{return qe.resolve(function(t,n){if(t!==ls)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!gf())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Gc(mf,Cu,t,e);if(r)return new df(t,r)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return qe.reject(t)}},t.mc=function(){return gf()},t}();function gf(){return void 0!==we.WebKitMediaKeys&&"function"==typeof we.WebKitMediaKeys.isTypeSupported}function mf(t,n){return we.WebKitMediaKeys.isTypeSupported(t,n)}var yf,pf=function(){function t(t){this.Xc=t}return t.prototype.Ss=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Xc;case 1:if(!(i<e.length)){s.next=14;break}return r=e[i],s.prev=3,s.next=6,Fr.awrap(r.Ss(t,n));case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(3);case 11:i++,s.next=1;break;case 14:throw new v("Unsupported key system configuration for "+t);case 15:case"end":return s.stop()}},null,this,[[3,9]],qe)},t}(),_f=function(t){function n(n){var i;return(i=t.call(this)||this).pc=void 0,i.Bc=void 0,i.yc=void 0,i.do=!1,i.Hc=void 0,i.Fc=void 0,i.zc=void 0,i.Vc=void 0,i.Wc=void 0,i.Vh=n,i.yc=new na,i.Fc="",i.Wc=new na,i.zc=new Lu,i}E(n,t);var i=n.prototype;return i.Gc=function(){this.Bc&&(this.Ic("usable"),this.Bc.Wu(void 0),this.Bc=void 0)},i.qc=function(t){var n=new ua("Unknown CDM error",t.errorCode,t.systemCode);this.Bc?(this.Bc.Gu(n),this.Bc=void 0):this.pc?(this.pc.Gu(n),this.pc=void 0):n.Yu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Ic("output-restricted"):1===n.ju?this.Ic("expired"):this.Ic("internal-error")},i.Yc=function(t){0!==t.message.byteLength&&(this.pc&&(this.pc.Wu(void 0),this.pc=void 0),this.Qs(new Nu(this,"license-request",ra(this.Vh,Zo(t.message).buffer),t.defaultURL||void 0)))},i.jc=function(t){this.Vc||(this.Vc=t,this.Wc.Wu(t))},i.qh=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.do=!0,this.yc.Wu(void 0);case 3:case"end":return t.stop()}},null,this,null,qe)},i.Yh=function(t,n){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.pc=new na,this.Hc=Yo(n),t.t0=this.Vc,t.t0){t.next=8;break}return t.next=7,Fr.awrap(this.Wc.Hu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Vh,this.Hc),t.next=12,Fr.awrap(this.pc.Hu);case 12:case"end":return t.stop()}},null,this,null,qe)},i.jh=function(t){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,qe)},i.Qh=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,qe)},i.Zh=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Bc=new na,n.t0=this.Vc,n.t0){n.next=7;break}return n.next=6,Fr.awrap(this.Wc.Hu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Vh,Yo(t),this.Hc,this.nc),n.next=11,Fr.awrap(this.Bc.Hu);case 11:case"end":return n.stop()}},null,this,null,qe)},i.throwIfClosed=function(){if(this.do)throw new v("Already closing or closed.")},i.Ic=function(t){this.zc.Nu(),this.zc.Du(Ou,t),this.Qs(new Du(this))},T(n,[{key:"tc",get:function(){return this.zc}},{key:"nc",get:function(){return this.Fc},set:function(t){this.Fc=t}},{key:"Jh",get:function(){return this.yc.Hu}},{key:"$h",get:function(){return NaN}}]),n}(Su),bf=function(){function t(t,n){var i=this;this.Vc=void 0,this.Qc=Xr(),this.Zc=[],this.Ec=function(t){var n=i.Kc(t.sessionId);n&&n.Gc()},this.Jc=function(t){var n=i.Kc(t.sessionId);n&&n.qc(t)},this.$c=function(t){var n=i.Kc(t.sessionId);n&&n.Yc(t)},this.ec=t,this.rc=n}var n=t.prototype;return n.hc=function(t){return this.Vc=t,this.Vc.addEventListener("webkitkeyadded",this.Ec),this.Vc.addEventListener("webkitkeyerror",this.Jc),this.Vc.addEventListener("webkitkeymessage",this.$c),this.Qc.forEach(function(n,i){return n.jc(t)}),this.Zc.forEach(function(n){return n.jc(t)}),qe.resolve()},n.cc=function(t){return t.removeEventListener("webkitkeyadded",this.Ec),t.removeEventListener("webkitkeyerror",this.Jc),t.removeEventListener("webkitkeymessage",this.$c),this.Vc=void 0,qe.resolve()},n.uc=function(t,n,i){var e;return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new _f(this.ec),this.Vc&&e.jc(this.Vc),this.Zc.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,qe)},n.ac=function(t){return qe.resolve(!1)},n.Kc=function(t){if(t){var n=this.Qc.get(t);return n||((n=this.Zc.shift())?(n.nc=t,this.Qc.set(t,n),n):void 0)}},t}(),kf=function(){function t(t,n){this.ec=t,this.tf=n}var n=t.prototype;return n.lc=function(){return qe.resolve(new bf(this.ec,this.tf))},n.dc=function(){return this.tf},t}(),Af=function(){function t(){}return t.prototype.Ss=function(t,n){try{return qe.resolve(Tf(t,n))}catch(t){return qe.reject(t)}},t.mc=function(){return Bs()},t}();function Tf(t,n){if(!Af.mc())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Gc(Sf,Ru,t,e);if(r)return new kf(t,r)}throw new v("Unsupported key system configuration for "+t)}function Sf(t,n){var i=wr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Ef(){return yf||(yf=function(){var t=[];wf.mc()&&t.push(new wf);tf.mc()&&t.push(new tf);sf.mc()&&t.push(new sf);Af.mc()&&t.push(new Af);return new pf(t)}()),yf}var If=function(){function t(){this.nf=Xr()}var n=t.prototype;return n.Nu=function(t){this.nf.delete(t)},n.if=function(){this.nf.clear()},n.Iu=function(t){return this.nf.get(t)},n.ef=function(t,n){this.nf.set(t,n)},t}(),Rf=function(){function t(){}return t.rf=function(){return t.Yn||(t.Yn=Cf.mc()?new Cf:new If),t.Yn},t.Nu=function(n){t.rf().Nu(n)},t.if=function(){t.rf().if()},t.Iu=function(n){return t.rf().Iu(n)},t.ef=function(n,i){t.rf().ef(n,i)},t}();Rf.Yn=void 0;var Cf=function(n){function i(){return n.apply(this,arguments)||this}E(i,n),i.mc=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.Nu=function(n){t.sessionStorage.removeItem(n)},e.if=function(){t.sessionStorage.clear()},e.Iu=function(n){return t.sessionStorage[n]},e.ef=function(n,i){t.sessionStorage[n]=i},i}(Rf);var Df=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}}();function Nf(t,n,i){var e=Df([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=s.createElement("a");o.href=r,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(r)}var Pf,xf;!function(t){t.sf="uf",t.hf="cf",t.vf="contentprotectionerror",t.lf="contentprotectionsuccess",t.df="currentsourcechange",t.wf="destroy",t._f="durationchange",t.gf="emptied",t.yu="encrypted",t.mf="ended",t.yf="kf",t.pf="loadstart",t.bf="manifestupdate",t.Af="nosupportedrepresentationfound",t.Tf="offline",t.Sf="online",t.Ef="pause",t.If="play",t.Rf="progress",t.Df="ratechange",t.Nf="representationchange",t.Cf="resize",t.Pf="seeked",t.Bf="seeking",t.Of="segmentnotfound",t.xf="Lf",t.Mf="Uf",t.Xf="sourcechange",t.Hf="timeupdate",t.Ff="volumechange",t.zf="Vf",t.Wf="metricschange"}(Pf||(Pf={})),function(t){t.Gf="arraybuffer",t.qf="json",t.Yf="stream",t.$n="text"}(xf||(xf={}));var Bf=function(){function t(n){var i=this;this.Kr=void 0,this.Kr={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&w.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Of(i),e=Lf(e);var r=i.toLowerCase();if(this.Kr.hasOwnProperty(r)){var s=this.Kr[r],u=s[1];s[1]=u?u+", "+e:e}else this.Kr[r]=[i,e]},n.delete=function(t){var n=Of(t).toLowerCase();delete this.Kr[n]},n.get=function(t){var n=Of(t).toLowerCase();return this.Kr.hasOwnProperty(n)?this.Kr[n][1]:null},n.has=function(t){var n=Of(t).toLowerCase();return this.Kr.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Of(i)).toLowerCase();this.Kr[e]=[i,Lf(n)]},n.forEach=function(t,n){for(var i in this.Kr)this.Kr.hasOwnProperty(i)&&t.call(n,this.Kr[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Kr)if(this.Kr.hasOwnProperty(n)){var i=this.Kr[n],e=i[0],r=i[1];t.push([e,r])}return t},n.jf=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Qf=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Zf=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Of(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function Lf(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function jf(){}var Ff=Number.isNaN||function(t){return t!=t},Uf=jf;function Hf(t){return"object"==typeof t&&null!==t||"function"==typeof t}function Xf(t){return t.slice()}function Vf(t){return!1!==function(t){if("number"!=typeof t)return!1;if(Ff(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function zf(t,n,i){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Wf(t,n,i,e){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new v(r+" is not a method");switch(i){case 0:return function(){return Gf(r,t,e)};case 1:return function(n){var i=[n].concat(e);return Gf(r,t,i)}}}return function(){return il(void 0)}}function qf(t,n,i){var e=t[n];if(void 0!==e)return zf(e,t,i)}function Gf(t,n,i){try{return il(zf(t,n,i))}catch(t){return el(t)}}function $f(t){return t}function Yf(t){if(t=Number(t),Ff(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Qf(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new v("size property of a queuing strategy must be a function");return function(n){return t(n)}}var Zf=qe,Kf=qe.prototype.then,Jf=qe.resolve.bind(Zf),tl=qe.reject.bind(Zf);function nl(t){return new Zf(t)}function il(t){return Jf(t)}function el(t){return tl(t)}function rl(t,n,i){return Kf.call(t,n,i)}function sl(t,n,i){rl(rl(t,n,i),void 0,Uf)}function ul(t,n){sl(t,n)}function ol(t,n){sl(t,void 0,n)}function al(t,n,i){return rl(t,n,i)}function hl(t){rl(t,void 0,Uf)}var cl=function(){function t(){this.Kf=0,this.Jf=0,this.Ee={$f:[],tv:void 0},this.ev=this.Ee,this.Kf=0,this.Jf=0}return w.defineProperty(t.prototype,"length",{get:function(){return this.Jf},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.ev,i=n;16383===n.$f.length&&(i={$f:[],tv:void 0}),n.$f.push(t),i!==n&&(this.ev=i,n.tv=i),++this.Jf},t.prototype.shift=function(){var t=this.Ee,n=t,i=this.Kf,e=i+1,r=t.$f,s=r[i];return 16384===e&&(n=t.tv,e=0),--this.Jf,this.Kf=e,t!==n&&(this.Ee=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Kf,i=this.Ee,e=i.$f;!(n===e.length&&void 0===i.tv||n===e.length&&(n=0,0===(e=(i=i.tv).$f).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Ee,n=this.Kf;return t.$f[n]},t}();function fl(t,n,i){var e=null;!0===i&&(e=w.prototype);var r=w.create(e);return r.value=t,r.done=n,r}function ll(t,n){t.rv=!0,t.uv=n,n.ov=t,"readable"===n.me?gl(t):"closed"===n.me?function(t){gl(t),pl(t)}(t):ml(t,n.hv)}function vl(t,n){return Ad(t.uv,n)}function dl(t){"readable"===t.uv.me?yl(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){ml(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.uv.ov=void 0,t.uv=void 0}function wl(t){return new v("Cannot "+t+" a stream using a released reader")}function gl(t){t.Mh=nl(function(n,i){t.fv=n,t.vv=i})}function ml(t,n){gl(t),yl(t,n)}function yl(t,n){hl(t.Mh),t.vv(n),t.fv=void 0,t.vv=void 0}function pl(t){t.fv(void 0),t.fv=void 0,t.vv=void 0}var _l=Mf("[[CancelSteps]]"),bl=Mf("[[PullSteps]]");function kl(t,n){void 0===n&&(n=!1);var i=new Cl(t);return i.rv=n,i}function Al(t){return nl(function(n,i){var e={Fu:n,Vu:i};t.ov.wv.push(e)})}function Tl(t,n,i){var e=t.ov;e.wv.shift().Fu(fl(n,i,e.rv))}function Sl(t){return t.ov.wv.length}function El(t){var n=t.ov;return void 0!==n&&!!Dl(n)}var Il,Rl,Cl=function(){function t(t){if(!1===bd(t))throw new v("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===kd(t))throw new v("This stream has already been locked for exclusive reading by another reader");ll(this,t),this.wv=new cl}return w.defineProperty(t.prototype,"closed",{get:function(){return Dl(this)?this.Mh:el(Pl("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Dl(this)?void 0===this.uv?el(wl("cancel")):vl(this,t):el(Pl("cancel"))},t.prototype.read=function(){return Dl(this)?void 0===this.uv?el(wl("read from")):Nl(this):el(Pl("read"))},t.prototype.releaseLock=function(){if(!Dl(this))throw Pl("releaseLock");if(void 0!==this.uv){if(this.wv.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");dl(this)}},t}();function Dl(t){return!!Hf(t)&&!!w.prototype.hasOwnProperty.call(t,"wv")}function Nl(t){var n=t.uv;return n._v=!0,"closed"===n.me?il(fl(void 0,!0,t.rv)):"errored"===n.me?el(n.hv):n.mv[bl]()}function Pl(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof Mf.asyncIterator&&((Il={})[Mf.asyncIterator]=function(){return this},Rl=Il,w.defineProperty(Rl,Mf.asyncIterator,{enumerable:!1}));var xl={next:function(){if(!1===Bl(this))return el(Ol("next"));var t=this.yv;return void 0===t.uv?el(wl("iterate")):al(Nl(t),function(n){var i=n.done;return i&&dl(t),fl(n.value,i,!0)})},return:function(t){if(!1===Bl(this))return el(Ol("next"));var n=this.yv;if(void 0===n.uv)return el(wl("finish iterating"));if(n.wv.length>0)return el(new v("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.pv){var i=vl(n,t);return dl(n),al(i,function(){return fl(t,!0,!0)})}return dl(n),il(fl(t,!0,!0))}};function Bl(t){return!!Hf(t)&&!!w.prototype.hasOwnProperty.call(t,"yv")}function Ol(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Ll(t){var n=t.bv.shift();return t.Av-=n.size,t.Av<0&&(t.Av=0),n.value}function Ml(t,n,i){if(!Vf(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.bv.push({value:n,size:i}),t.Av+=i}function jl(t){t.bv=new cl,t.Av=0}void 0!==Rl&&w.setPrototypeOf(xl,Rl),w.defineProperty(xl,"next",{enumerable:!1}),w.defineProperty(xl,"return",{enumerable:!1});var Fl=Mf("[[AbortSteps]]"),Ul=Mf("[[ErrorSteps]]"),Hl=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Vl(this);var i=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=Qf(i);void 0===e&&(e=1),function(t,n,i,e){var r=w.create(ov.prototype);var s=Wf(n,"write",1,[r]),u=Wf(n,"close",0,[]),o=Wf(n,"abort",1,[]);av(t,r,function(){return qf(n,"start",[r])},s,u,o,i,e)}(this,t,e=Yf(e),r)}return w.defineProperty(t.prototype,"locked",{get:function(){if(!1===zl(this))throw wv("locked");return Wl(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===zl(this)?el(wv("abort")):!0===Wl(this)?el(new v("Cannot abort a stream that already has a writer")):ql(this,t)},t.prototype.close=function(){return!1===zl(this)?el(wv("close")):!0===Wl(this)?el(new v("Cannot close a stream that already has a writer")):!0===Zl(this)?el(new v("Cannot close an already-closing stream")):Gl(this)},t.prototype.getWriter=function(){if(!1===zl(this))throw wv("getWriter");return Xl(this)},t}();function Xl(t){return new tv(t)}function Vl(t){t.me="writable",t.hv=void 0,t.Ao=void 0,t.Tv=void 0,t.Sv=new cl,t.Ev=void 0,t.Iv=void 0,t.Rv=void 0,t.Dv=void 0,t.Nv=!1}function zl(t){return!!Hf(t)&&!!w.prototype.hasOwnProperty.call(t,"Tv")}function Wl(t){return void 0!==t.Ao}function ql(t,n){var i=t.me;if("closed"===i||"errored"===i)return il(void 0);if(void 0!==t.Dv)return t.Dv.Cv;var e=!1;"erroring"===i&&(e=!0,n=void 0);var r=nl(function(i,r){t.Dv={Cv:void 0,Fu:i,Vu:r,Pv:n,Bv:e}});return t.Dv.Cv=r,!1===e&&Yl(t,n),r}function Gl(t){var n=t.me;if("closed"===n||"errored"===n)return el(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=nl(function(n,i){var e={Fu:n,Vu:i};t.Iv=e}),r=t.Ao;return void 0!==r&&!0===t.Nv&&"writable"===n&&Ev(r),Ml(i=t.Tv,"close",0),fv(i),e}function $l(t,n){"writable"!==t.me?Ql(t):Yl(t,n)}function Yl(t,n){var i=t.Tv;t.me="erroring",t.hv=n;var e=t.Ao;void 0!==e&&rv(e,n),!1===function(t){if(void 0===t.Ev&&void 0===t.Rv)return!1;return!0}(t)&&!0===i.Ov&&Ql(t)}function Ql(t){t.me="errored",t.Tv[Ul]();var n=t.hv;if(t.Sv.forEach(function(t){t.Vu(n)}),t.Sv=new cl,void 0!==t.Dv){var i=t.Dv;if(t.Dv=void 0,!0===i.Bv)return i.Vu(n),void Kl(t);sl(t.Tv[Fl](i.Pv),function(){i.Fu(),Kl(t)},function(n){i.Vu(n),Kl(t)})}else Kl(t)}function Zl(t){return void 0!==t.Iv||void 0!==t.Rv}function Kl(t){void 0!==t.Iv&&(t.Iv.Vu(t.hv),t.Iv=void 0);var n=t.Ao;void 0!==n&&_v(n,t.hv)}function Jl(t,n){var i=t.Ao;void 0!==i&&n!==t.Nv&&(!0===n?function(t){kv(t)}(i):Ev(i)),t.Nv=n}var tv=function(){function t(t){if(!1===zl(t))throw new v("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Wl(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.xv=t,t.Ao=this;var n,i=t.me;if("writable"===i)!1===Zl(t)&&!0===t.Nv?kv(this):Tv(this),yv(this);else if("erroring"===i)Av(this,t.hv),yv(this);else if("closed"===i)Tv(this),yv(n=this),bv(n);else{var e=t.hv;Av(this,e),pv(this,e)}}return w.defineProperty(t.prototype,"closed",{get:function(){return!1===nv(this)?el(gv("closed")):this.Mh},enumerable:!0,configurable:!0}),w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===nv(this))throw gv("desiredSize");if(void 0===this.xv)throw mv("desiredSize");return function(t){var n=t.xv,i=n.me;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return cv(n.Tv)}(this)},enumerable:!0,configurable:!0}),w.defineProperty(t.prototype,"ready",{get:function(){return!1===nv(this)?el(gv("ready")):this.Lv},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===nv(this)?el(gv("abort")):void 0===this.xv?el(mv("abort")):function(t,n){return ql(t.xv,n)}(this,t)},t.prototype.close=function(){if(!1===nv(this))return el(gv("close"));var t=this.xv;return void 0===t?el(mv("close")):!0===Zl(t)?el(new v("Cannot close an already-closing stream")):iv(this)},t.prototype.releaseLock=function(){if(!1===nv(this))throw gv("releaseLock");void 0!==this.xv&&sv(this)},t.prototype.write=function(t){return!1===nv(this)?el(gv("write")):void 0===this.xv?el(mv("write to")):uv(this,t)},t}();function nv(t){return!!Hf(t)&&!!w.prototype.hasOwnProperty.call(t,"xv")}function iv(t){return Gl(t.xv)}function ev(t,n){"pending"===t.Mv?_v(t,n):function(t,n){pv(t,n)}(t,n)}function rv(t,n){"pending"===t.Uv?Sv(t,n):function(t,n){Av(t,n)}(t,n)}function sv(t){var n=t.xv,i=new v("Writer was released and can no longer be used to monitor the stream's closedness");rv(t,i),ev(t,i),n.Ao=void 0,t.xv=void 0}function uv(t,n){var i=t.xv,e=i.Tv,r=function(t,n){try{return t.Xv(n)}catch(n){return lv(t,n),1}}(e,n);if(i!==t.xv)return el(mv("write to"));var s=i.me;if("errored"===s)return el(i.hv);if(!0===Zl(i)||"closed"===s)return el(new v("The stream is closing or closed and cannot be written to"));if("erroring"===s)return el(i.hv);var u=function(t){return nl(function(n,i){var e={Fu:n,Vu:i};t.Sv.push(e)})}(i);return function(t,n,i){var e={chunk:n};try{Ml(t,e,i)}catch(n){return void lv(t,n)}var r=t.Hv;if(!1===Zl(r)&&"writable"===r.me){var s=vv(t);Jl(r,s)}fv(t)}(e,n,r),u}var ov=function(){function t(){throw new v("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!Hf(t))return!1;if(!w.prototype.hasOwnProperty.call(t,"Hv"))return!1;return!0}(this))throw new v("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Hv.me&&dv(this,t)},t.prototype[Fl]=function(t){var n=this.Fv(t);return hv(this),n},t.prototype[Ul]=function(){jl(this)},t}();function av(t,n,i,e,r,s,u,o){n.Hv=t,t.Tv=n,n.bv=void 0,n.Av=void 0,jl(n),n.Ov=!1,n.Xv=o,n.zv=u,n.Vv=e,n.Wv=r,n.Fv=s;var a=vv(n);Jl(t,a),sl(il(i()),function(){n.Ov=!0,fv(n)},function(i){n.Ov=!0,$l(t,i)})}function hv(t){t.Vv=void 0,t.Wv=void 0,t.Fv=void 0,t.Xv=void 0}function cv(t){return t.zv-t.Av}function fv(t){var n=t.Hv;if(!1!==t.Ov&&void 0===n.Ev)if("erroring"!==n.me){if(0!==t.bv.length){var i=t.bv.peek().value;"close"===i?function(t){var n=t.Hv;(function(t){t.Rv=t.Iv,t.Iv=void 0})(n),Ll(t);var i=t.Wv();hv(t),sl(i,function(){!function(t){t.Rv.Fu(void 0),t.Rv=void 0,"erroring"===t.me&&(t.hv=void 0,void 0!==t.Dv&&(t.Dv.Fu(),t.Dv=void 0)),t.me="closed";var n=t.Ao;void 0!==n&&bv(n)}(n)},function(t){!function(t,n){t.Rv.Vu(n),t.Rv=void 0,void 0!==t.Dv&&(t.Dv.Vu(n),t.Dv=void 0),$l(t,n)}(n,t)})}(t):function(t,n){var i=t.Hv;(function(t){t.Ev=t.Sv.shift()})(i),sl(t.Vv(n),function(){!function(t){t.Ev.Fu(void 0),t.Ev=void 0}(i);var n=i.me;if(Ll(t),!1===Zl(i)&&"writable"===n){var e=vv(t);Jl(i,e)}fv(t)},function(n){"writable"===i.me&&hv(t),function(t,n){t.Ev.Vu(n),t.Ev=void 0,$l(t,n)}(i,n)})}(t,i.chunk)}}else Ql(n)}function lv(t,n){"writable"===t.Hv.me&&dv(t,n)}function vv(t){return cv(t)<=0}function dv(t,n){var i=t.Hv;hv(t),Yl(i,n)}function wv(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function gv(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function mv(t){return new v("Cannot "+t+" a stream using a released writer")}function yv(t){t.Mh=nl(function(n,i){t.fv=n,t.vv=i,t.Mv="pending"})}function pv(t,n){yv(t),_v(t,n)}function _v(t,n){hl(t.Mh),t.vv(n),t.fv=void 0,t.vv=void 0,t.Mv="rejected"}function bv(t){t.fv(void 0),t.fv=void 0,t.vv=void 0,t.Mv="resolved"}function kv(t){t.Lv=nl(function(n,i){t.Gv=n,t.qv=i}),t.Uv="pending"}function Av(t,n){kv(t),Sv(t,n)}function Tv(t){kv(t),Ev(t)}function Sv(t,n){hl(t.Lv),t.qv(n),t.Gv=void 0,t.qv=void 0,t.Uv="rejected"}function Ev(t){t.Gv(void 0),t.Gv=void 0,t.qv=void 0,t.Uv="fulfilled"}function Iv(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Rv="undefined"!=typeof DOMException?DOMException:void 0;var Cv,Dv=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Rv)?Rv:((Cv=function(t,n){this.message=t||"",this.name=n||"Error",l.captureStackTrace&&l.captureStackTrace(this,this.constructor)}).prototype=w.create(l.prototype),w.defineProperty(Cv.prototype,"constructor",{value:Cv,writable:!0,configurable:!0}),Cv);function Nv(t,n,i,e,r,s){var u=kl(t),o=Xl(n);t._v=!0;var a=!1,h=il(void 0);return nl(function(c,f){var l,d,w,g;if(void 0!==s){if(l=function(){var i=new Dv("Aborted","AbortError"),s=[];!1===e&&s.push(function(){return"writable"===n.me?ql(n,i):il(void 0)}),!1===r&&s.push(function(){return"readable"===t.me?Ad(t,i):il(void 0)}),_(function(){return qe.all(s.map(function(t){return t()}))},!0,i)},!0===s.aborted)return void l();s.addEventListener("abort",l)}if(p(t,u.Mh,function(t){!1===e?_(function(){return ql(n,t)},!0,t):b(!0,t)}),p(n,o.Mh,function(n){!1===r?_(function(){return Ad(t,n)},!0,n):b(!0,n)}),d=t,w=u.Mh,g=function(){!1===i?_(function(){return function(t){var n=t.xv,i=n.me;return!0===Zl(n)||"closed"===i?il(void 0):"errored"===i?el(n.hv):iv(t)}(o)}):b()},"closed"===d.me?g():ul(w,g),!0===Zl(n)||"closed"===n.me){var m=new v("the destination writable stream closed before all data could be piped to it");!1===r?_(function(){return Ad(t,m)},!0,m):b(!0,m)}function y(){var t=h;return rl(h,function(){return t!==h?y():void 0})}function p(t,n,i){"errored"===t.me?i(t.hv):ol(n,i)}function _(t,i,e){function r(){sl(t(),function(){return k(i,e)},function(t){return k(!0,t)})}!0!==a&&(a=!0,"writable"===n.me&&!1===Zl(n)?ul(y(),r):r())}function b(t,i){!0!==a&&(a=!0,"writable"===n.me&&!1===Zl(n)?ul(y(),function(){return k(t,i)}):k(t,i))}function k(t,n){sv(o),dl(u),void 0!==s&&s.removeEventListener("abort",l),t?f(n):c(void 0)}hl(nl(function(t,n){!function i(e){e?t():rl(!0===a?il(!0):rl(o.Lv,function(){return rl(Nl(u),function(t){return!0===t.done||(h=rl(uv(o,t.value),void 0,jf),!1)})}),i,n)}(!1)}))})}var Pv=function(){function t(){throw new v}return w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===xv(this))throw Vv("desiredSize");return Uv(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===xv(this))throw Vv("close");if(!1===Hv(this))throw new v("The stream is not in a state that permits close");Mv(this)},t.prototype.enqueue=function(t){if(!1===xv(this))throw Vv("enqueue");if(!1===Hv(this))throw new v("The stream is not in a state that permits enqueue");return jv(this,t)},t.prototype.error=function(t){if(!1===xv(this))throw Vv("error");Fv(this,t)},t.prototype[_l]=function(t){jl(this);var n=this.Yv(t);return Lv(this),n},t.prototype[bl]=function(){var t=this.Qv;if(this.bv.length>0){var n=Ll(this);return!0===this.Zv&&0===this.bv.length?(Lv(this),Td(t)):Bv(this),il(fl(n,!1,t.ov.rv))}var i=Al(t);return Bv(this),i},t}();function xv(t){return!!Hf(t)&&!!w.prototype.hasOwnProperty.call(t,"Qv")}function Bv(t){!1!==Ov(t)&&(!0!==t.Kv?(t.Kv=!0,sl(t.Jv(),function(){t.Kv=!1,!0===t.$v&&(t.$v=!1,Bv(t))},function(n){Fv(t,n)})):t.$v=!0)}function Ov(t){var n=t.Qv;return!1!==Hv(t)&&(!1!==t.Ov&&(!0===kd(n)&&Sl(n)>0||Uv(t)>0))}function Lv(t){t.Jv=void 0,t.Yv=void 0,t.Xv=void 0}function Mv(t){var n=t.Qv;t.Zv=!0,0===t.bv.length&&(Lv(t),Td(n))}function jv(t,n){var i=t.Qv;if(!0===kd(i)&&Sl(i)>0)Tl(i,n,!1);else{var e=void 0;try{e=t.Xv(n)}catch(n){throw Fv(t,n),n}try{Ml(t,n,e)}catch(n){throw Fv(t,n),n}}Bv(t)}function Fv(t,n){var i=t.Qv;"readable"===i.me&&(jl(t),Lv(t),Sd(i,n))}function Uv(t){var n=t.Qv.me;return"errored"===n?null:"closed"===n?0:t.zv-t.Av}function Hv(t){var n=t.Qv.me;return!1===t.Zv&&"readable"===n}function Xv(t,n,i,e,r,s,u){n.Qv=t,n.bv=void 0,n.Av=void 0,jl(n),n.Ov=!1,n.Zv=!1,n.$v=!1,n.Kv=!1,n.Xv=u,n.zv=s,n.Jv=e,n.Yv=r,t.mv=n,sl(il(i()),function(){n.Ov=!0,Bv(n)},function(t){Fv(n,t)})}function Vv(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var zv=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&g.floor(t)===t},Wv=function(){function t(){throw new v("ReadableStreamBYOBRequest cannot be used directly")}return w.defineProperty(t.prototype,"view",{get:function(){if(!1===$v(this))throw cd("view");return this.il},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===$v(this))throw cd("respond");if(void 0===this.ul)throw new v("This BYOB request has been invalidated");this.il.buffer,function(t,n){if(!1===Vf(n=Number(n)))throw new RangeError("bytesWritten must be a finite");rd(t,n)}(this.ul,t)},t.prototype.respondWithNewView=function(t){if(!1===$v(this))throw cd("respond");if(void 0===this.ul)throw new v("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.ol.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,rd(t,n.byteLength)}(this.ul,t)},t}(),qv=function(){function t(){throw new v("ReadableByteStreamController constructor cannot be used directly")}return w.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Gv(this))throw fd("byobRequest");if(void 0===this.al&&this.ol.length>0){var t=this.ol.peek(),n=new _(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=w.create(Wv.prototype);!function(t,n,i){t.ul=n,t.il=i}(i,this,n),this.al=i}return this.al},enumerable:!0,configurable:!0}),w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Gv(this))throw fd("desiredSize");return ad(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Gv(this))throw fd("close");if(!0===this.Zv)throw new v("The stream has already been closed; do not close it again!");var t=this.hl.me;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.hl;if(t.Av>0)return void(t.Zv=!0);if(t.ol.length>0){var i=t.ol.peek();if(i.bytesFilled>0){var e=new v("Insufficient bytes to fill elements in the given buffer");throw od(t,e),e}}ud(t),Td(n)}(this)},t.prototype.enqueue=function(t){if(!1===Gv(this))throw fd("enqueue");if(!0===this.Zv)throw new v("stream is closed or draining");var n=this.hl.me;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new v("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.hl,e=n.buffer,r=n.byteOffset,s=n.byteLength,u=$f(e);if(!0===El(i))if(0===Sl(i))Kv(t,u,r,s);else{var o=new _(u,r,s);Tl(i,o,!1)}else!0===dd(i)?(Kv(t,u,r,s),ed(t)):Kv(t,u,r,s);Yv(t)}(this,t)},t.prototype.error=function(t){if(!1===Gv(this))throw fd("error");od(this,t)},t.prototype[_l]=function(t){this.ol.length>0&&(this.ol.peek().bytesFilled=0);jl(this);var n=this.Yv(t);return ud(this),n},t.prototype[bl]=function(){var t=this.hl;if(this.Av>0){var n=this.bv.shift();this.Av-=n.byteLength,nd(this);var i=void 0;try{i=new _(n.buffer,n.byteOffset,n.byteLength)}catch(t){return el(t)}return il(fl(i,!1,t.ov.rv))}var e=this.cl;if(void 0!==e){var r=void 0;try{r=new ArrayBuffer(e)}catch(t){return el(t)}var s={buffer:r,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:_,readerType:"default"};this.ol.push(s)}var u=Al(t);return Yv(this),u},t}();function Gv(t){return!!Hf(t)&&!!w.prototype.hasOwnProperty.call(t,"hl")}function $v(t){return!!Hf(t)&&!!w.prototype.hasOwnProperty.call(t,"ul")}function Yv(t){!1!==function(t){var n=t.hl;if("readable"!==n.me)return!1;if(!0===t.Zv)return!1;if(!1===t.Ov)return!1;if(!0===El(n)&&Sl(n)>0)return!0;if(!0===dd(n)&&vd(n)>0)return!0;if(ad(t)>0)return!0;return!1}(t)&&(!0!==t.Kv?(t.Kv=!0,sl(t.Jv(),function(){t.Kv=!1,!0===t.$v&&(t.$v=!1,Yv(t))},function(n){od(t,n)})):t.$v=!0)}function Qv(t,n){var i=!1;"closed"===t.me&&(i=!0);var e=Zv(n);"default"===n.readerType?Tl(t,e,i):function(t,n,i){var e=t.ov;e.fl.shift().Fu(fl(n,i,e.rv))}(t,e,i)}function Zv(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function Kv(t,n,i,e){t.bv.push({buffer:n,byteOffset:i,byteLength:e}),t.Av+=e}function Jv(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=g.min(t.Av,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,a=!1;u>e&&(o=u-n.bytesFilled,a=!0);for(var h,c,f,l,v,d=t.bv;o>0;){var w=d.peek(),m=g.min(o,w.byteLength),y=n.byteOffset+n.bytesFilled;h=n.buffer,c=y,f=w.buffer,l=w.byteOffset,v=m,new _(h).set(new _(f,l,v),c),w.byteLength===m?d.shift():(w.byteOffset+=m,w.byteLength-=m),t.Av-=m,td(t,m,n),o-=m}return a}function td(t,n,i){id(t),i.bytesFilled+=n}function nd(t){0===t.Av&&!0===t.Zv?(ud(t),Td(t.hl)):Yv(t)}function id(t){void 0!==t.al&&(t.al.ul=void 0,t.al.il=void 0,t.al=void 0)}function ed(t){for(;t.ol.length>0;){if(0===t.Av)return;var n=t.ol.peek();!0===Jv(t,n)&&(sd(t),Qv(t.hl,n))}}function rd(t,n){var i=t.ol.peek();if("closed"===t.hl.me){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=$f(n.buffer);var i=t.hl;if(!0===dd(i))for(;vd(i)>0;)Qv(i,sd(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(td(t,n,i),!(i.bytesFilled<i.elementSize)){sd(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=i.buffer.slice(r-e,r);Kv(t,s,0,s.byteLength)}i.buffer=$f(i.buffer),i.bytesFilled-=e,Qv(t.hl,i),ed(t)}}(t,n,i);Yv(t)}function sd(t){var n=t.ol.shift();return id(t),n}function ud(t){t.Jv=void 0,t.Yv=void 0}function od(t,n){var i=t.hl;"readable"===i.me&&(!function(t){id(t),t.ol=new cl}(t),jl(t),ud(t),Sd(i,n))}function ad(t){var n=t.hl.me;return"errored"===n?null:"closed"===n?0:t.zv-t.Av}function hd(t,n,i){var e=w.create(qv.prototype);var r=Wf(n,"pull",0,[e]),s=Wf(n,"cancel",1,[]),u=n.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===zv(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,e,r,s,u){n.hl=t,n.$v=!1,n.Kv=!1,n.al=void 0,n.bv=n.Av=void 0,jl(n),n.Zv=!1,n.Ov=!1,n.zv=Yf(s),n.Jv=e,n.Yv=r,n.cl=u,n.ol=new cl,t.mv=n,sl(il(i()),function(){n.Ov=!0,Yv(n)},function(t){od(n,t)})}(t,e,function(){return qf(n,"start",[e])},r,s,i,u)}function cd(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function fd(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function ld(t){return nl(function(n,i){var e={Fu:n,Vu:i};t.ov.fl.push(e)})}function vd(t){return t.ov.fl.length}function dd(t){var n=t.ov;return void 0!==n&&!!gd(n)}var wd=function(){function t(t){if(!bd(t))throw new v("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Gv(t.mv))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(kd(t))throw new v("This stream has already been locked for exclusive reading by another reader");ll(this,t),this.fl=new cl}return w.defineProperty(t.prototype,"closed",{get:function(){return gd(this)?this.Mh:el(md("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return gd(this)?void 0===this.uv?el(wl("cancel")):vl(this,t):el(md("cancel"))},t.prototype.read=function(t){return gd(this)?void 0===this.uv?el(wl("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?el(new v("view must have non-zero byteLength")):function(t,n){var i=t.uv;if(i._v=!0,"errored"===i.me)return el(i.hv);return function(t,n){var i=t.hl,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,s={buffer:$f(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:r,readerType:"byob"};if(t.ol.length>0)return t.ol.push(s),ld(i);if("closed"===i.me)return il(fl(new r(s.buffer,s.byteOffset,0),!0,i.ov.rv));if(t.Av>0){if(!0===Jv(t,s)){var u=Zv(s);return nd(t),il(fl(u,!1,i.ov.rv))}if(!0===t.Zv){var o=new v("Insufficient bytes to fill elements in the given buffer");return od(t,o),el(o)}}t.ol.push(s);var a=ld(i);return Yv(t),a}(i.mv,n)}(this,t)):el(new v("view must be an array buffer view")):el(md("read"))},t.prototype.releaseLock=function(){if(!gd(this))throw md("releaseLock");if(void 0!==this.uv){if(this.fl.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");dl(this)}},t}();function gd(t){return!!Hf(t)&&!!w.prototype.hasOwnProperty.call(t,"fl")}function md(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var yd=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),_d(this);var i=n.size,e=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),hd(this,t,e=Yf(e))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var s=Qf(i);void 0===e&&(e=1),function(t,n,i,e){var r=w.create(Pv.prototype),s=Wf(n,"pull",0,[r]),u=Wf(n,"cancel",1,[]);Xv(t,r,function(){return qf(n,"start",[r])},s,u,i,e)}(this,t,e=Yf(e),s)}}return w.defineProperty(t.prototype,"locked",{get:function(){if(!1===bd(this))throw Ed("locked");return kd(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===bd(this)?el(Ed("cancel")):!0===kd(this)?el(new v("Cannot cancel a stream that already has a reader")):Ad(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===bd(this))throw Ed("getReader");if(void 0===n)return kl(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new wd(t);return i.rv=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,e=t.readable,r=void 0===n?{}:n,s=r.preventClose,u=r.preventAbort,o=r.preventCancel,a=r.signal;if(!1===bd(this))throw Ed("pipeThrough");if(!1===zl(i))throw new v("writable argument to pipeThrough must be a WritableStream");if(!1===bd(e))throw new v("readable argument to pipeThrough must be a ReadableStream");if(s=Boolean(s),u=Boolean(u),o=Boolean(o),void 0!==a&&!Iv(a))throw new v("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===kd(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Wl(i))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return hl(Nv(this,i,s,u,o,a)),e},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,e=i.preventClose,r=i.preventAbort,s=i.preventCancel,u=i.signal;return!1===bd(this)?el(Ed("pipeTo")):!1===zl(t)?el(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),r=Boolean(r),s=Boolean(s),void 0===u||Iv(u)?!0===kd(this)?el(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Wl(t)?el(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Nv(this,t,e,r,s,u):el(new v("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===bd(this))throw Ed("tee");var t=function(t,n){var i,e,r,s,u,o=kl(t),a=!1,h=!1,c=!1,f=nl(function(t){u=t});function l(){return!0===a?il(void 0):(a=!0,hl(al(Nl(o),function(t){if(a=!1,!0===t.done)return!1===h&&Mv(r.mv),void(!1===c&&Mv(s.mv));var n=t.value,i=n,e=n;!1===h&&jv(r.mv,i),!1===c&&jv(s.mv,e)})),il(void 0))}function v(){}return r=pd(v,l,function(n){if(h=!0,i=n,!0===c){var r=Xf([i,e]),s=Ad(t,r);u(s)}return f}),s=pd(v,l,function(n){if(c=!0,e=n,!0===h){var r=Xf([i,e]),s=Ad(t,r);u(s)}return f}),ol(o.Mh,function(t){Fv(r.mv,t),Fv(s.mv,t)}),[r,s]}(this);return Xf(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===bd(this))throw Ed("getIterator");return function(t,n){void 0===n&&(n=!1);var i=kl(t),e=w.create(xl);return e.yv=i,e.pv=Boolean(n),e}(this,i)},t}();function pd(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=w.create(yd.prototype);return _d(s),Xv(s,w.create(Pv.prototype),t,n,i,e,r),s}function _d(t){t.me="readable",t.ov=void 0,t.hv=void 0,t._v=!1}function bd(t){return!!Hf(t)&&!!w.prototype.hasOwnProperty.call(t,"mv")}function kd(t){return void 0!==t.ov}function Ad(t,n){return t._v=!0,"closed"===t.me?il(void 0):"errored"===t.me?el(t.hv):(Td(t),al(t.mv[_l](n),jf))}function Td(t){t.me="closed";var n=t.ov;void 0!==n&&(Dl(n)&&(n.wv.forEach(function(t){t.Fu(fl(void 0,!0,n.rv))}),n.wv=new cl),pl(n))}function Sd(t,n){t.me="errored",t.hv=n;var i=t.ov;void 0!==i&&(Dl(i)?(i.wv.forEach(function(t){t.Vu(n)}),i.wv=new cl):(i.fl.forEach(function(t){t.Vu(n)}),i.fl=new cl),yl(i,n))}function Ed(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof Mf.asyncIterator&&w.defineProperty(yd.prototype,Mf.asyncIterator,{value:yd.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Id=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Rd=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var e=n.size,r=n.highWaterMark,s=i.size,u=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=Qf(e);if(void 0===r&&(r=1),r=Yf(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,h=Qf(s);void 0===u&&(u=0),u=Yf(u),function(t,n,i,e,r,s){function u(){return n}t.vl=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=w.create(Hl.prototype);return Vl(u),av(u,w.create(ov.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.ll;if(!0===t.Nv){var e=t.dl;return al(e,function(){var e=t.vl,r=e.me;if("erroring"===r)throw e.hv;return Md(i,n)})}return Md(i,n)}(t,n)},function(){return function(t){var n=t.wl,i=t.ll,e=i._l();return Od(i),al(e,function(){if("errored"===n.me)throw n.hv;var t=n.mv;!0===Hv(t)&&Mv(t)},function(i){throw Dd(t,i),n.hv})}(t)},function(n){return function(t,n){return Dd(t,n),il(void 0)}(t,n)},i,e),t.wl=pd(u,function(){return function(t){return Pd(t,!1),t.dl}(t)},function(n){return Nd(t,n),il(void 0)},r,s),t.Nv=void 0,t.dl=void 0,t.yl=void 0,Pd(t,!0),t.ll=void 0}(this,nl(function(t){a=t}),r,o,u,h),function(t,n){var i=w.create(xd.prototype),e=function(t){try{return Ld(i,t),il(void 0)}catch(t){return el(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new v("transform is not a method");e=function(t){return Gf(r,n,[t,i])}}var s=Wf(n,"flush",0,[i]);!function(t,n,i,e){n.bl=t,t.ll=n,n.Al=i,n._l=e}(t,i,e,s)}(this,t);var c=qf(t,"start",[this.ll]);a(c)}return w.defineProperty(t.prototype,"readable",{get:function(){if(!1===Cd(this))throw Fd("readable");return this.wl},enumerable:!0,configurable:!0}),w.defineProperty(t.prototype,"writable",{get:function(){if(!1===Cd(this))throw Fd("writable");return this.vl},enumerable:!0,configurable:!0}),t}();function Cd(t){return!!Hf(t)&&!!w.prototype.hasOwnProperty.call(t,"ll")}function Dd(t,n){Fv(t.wl.mv,n),Nd(t,n)}function Nd(t,n){Od(t.ll),lv(t.vl.Tv,n),!0===t.Nv&&Pd(t,!1)}function Pd(t,n){void 0!==t.dl&&t.yl(),t.dl=nl(function(n){t.yl=n}),t.Nv=n}var xd=function(){function t(){throw new v("TransformStreamDefaultController instances cannot be created directly")}return w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Bd(this))throw jd("desiredSize");return Uv(this.bl.wl.mv)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Bd(this))throw jd("enqueue");Ld(this,t)},t.prototype.error=function(t){if(!1===Bd(this))throw jd("error");var n;n=t,Dd(this.bl,n)},t.prototype.terminate=function(){if(!1===Bd(this))throw jd("terminate");!function(t){var n=t.bl,i=n.wl.mv;!0===Hv(i)&&Mv(i);var e=new v("TransformStream terminated");Nd(n,e)}(this)},t}();function Bd(t){return!!Hf(t)&&!!w.prototype.hasOwnProperty.call(t,"bl")}function Od(t){t.Al=void 0,t._l=void 0}function Ld(t,n){var i=t.bl,e=i.wl.mv;if(!1===Hv(e))throw new v("Readable side is not in a state that permits enqueue");try{jv(e,n)}catch(t){throw Nd(i,t),i.wl.hv}(function(t){return!0!==Ov(t)})(e)!==i.Nv&&Pd(i,!0)}function Md(t,n){return al(t.Al(n),void 0,function(n){throw Dd(t.bl,n),n})}function jd(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Fd(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}var Ud,Hd=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return E(n,t),T(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(nn);function Xd(t){return n=[t],new yd({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function Vd(t){return Xd(new _(t))}function zd(t,n){return function(t,n){var i=n,e=t.getReader(),r=new na,s=function(){u();var t=new hu;e.cancel(t).catch(K),r.Gu(t)},u=function(){i&&(i.Ms(s),i=void 0)};i&&(i.Ns?s():i.Ls(s));var o=[];return qe.resolve(e.read()).then(function t(n){return n.done?(u(),qe.resolve(o)):(o.push(n.value),qe.resolve(e.read()).then(t))}).then(function(t){u(),r.Wu(t)},function(t){u(),r.Gu(t)}),r.Hu}(t,n).then(function(t){return Yu(t).buffer})}function Wd(t,n){var i=n,e=new Rd,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Fs()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(K)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(K)}),r}function qd(t){var n=new Rd,i=n.readable,e=n.writable;return t.pipeTo(e,{preventCancel:!0}).catch(function(n){var i;i=V(n)?n[0]===n[1]||cu(n[0])&&cu(n[1])?n[0]:new Hd(n):n,t.cancel(i).catch(K)}),i.tee()}function Gd(t){return Ho(new _(t))}function $d(t){return Xo(t).buffer}!function(t){t[t.Yf=0]="Yf",t[t.Tl=1]="Tl"}(Ud||(Ud={}));var Yd="content-type",Qd="text/plain;charset=UTF-8",Zd=function(){function t(){}var n=t.prototype;return n.Sl=function(t){return this.El(t).then(JSON.parse)},n.Il=function(t,n){switch(t){case xf.Gf:return this.Rl(n);case xf.qf:return this.Sl(n);case xf.Yf:return this.Dl();case xf.$n:return this.El(n);default:throw new v}},t}();function Kd(t,n,i){if(t instanceof Zd)return t;if(t instanceof yd)return function(t,n){return new tw({fs:Ud.Yf,Dl:t,Nl:Jd(n)})}(t,i);var e=Jd(i),r=qe.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{fs:xf.$n,Cl:t,Nl:n||Qd};if(t instanceof ArrayBuffer||qu(t))return{fs:xf.Gf,Cl:ow(t),Nl:n};if(q(t)||V(t))return{fs:xf.qf,Cl:t,Nl:n};throw new v("Unsupported BodyInit type")}return{fs:xf.$n,Cl:null,Nl:n}}(t,e)});return new tw({fs:Ud.Tl,Hu:r,Pl:n})}function Jd(t){return(t.get(Yd)||"").toLowerCase()}var tw=function(t){function n(n){var i;return(i=t.call(this)||this).Bl=!1,i.Ol=void 0,i.xl=new na,i.xl.Hu.catch(K),i.Ll(n),i}E(n,t);var i=n.prototype;return i.Ml=function(){return this.xl.Hu},i.El=function(t){return this.Ul(nw,t)},i.Sl=function(t){return this.Ul(ew,t)},i.Rl=function(t){return this.Ul(sw,t)},i.Dl=function(){return this.Xl((t=this.Ol).fs===Ud.Yf?t.Dl:Wd(t.Hu.then(uw).then(Vd),t.Pl));var t},i.Ul=function(t,n){if(this.Bl)return qe.reject(new v("Already used"));this.Bl=!0;var i=t(this.Ol,n);return this.xl.Wu(i.then(K)),i},i.Xl=function(t){if(this.Bl)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.Bl=!0;var n=new Rd,i=qe.resolve(t.pipeTo(n.writable));return this.xl.Wu(i),n.readable},i.Ll=function(t){this.Ol=t,t.fs===Ud.Tl&&t.Hu.catch(K)},i.Hl=function(){if(this.Bl)throw new v("Already used");var t=function(t){if(t.fs===Ud.Yf){var n=t.Dl.tee(),i=n[0],e=n[1];return[{fs:t.fs,Dl:i,Nl:t.Nl},{fs:t.fs,Dl:e,Nl:t.Nl}]}var r=t.Pl.Vs(),s=r[0],u=r[1];return[{fs:t.fs,Hu:t.Hu,Pl:s},{fs:t.fs,Hu:t.Hu,Pl:u}]}(this.Ol),i=t[0],e=t[1];return this.Ll(i),new n(e)},T(n,[{key:"Fl",get:function(){return this.Bl}}]),n}(Zd);function nw(t,n){return t.fs===Ud.Yf?zd(t.Dl,n).then(Gd):(n&&t.Pl.zs(n),wu(t.Hu.then(iw),t.Pl))}function iw(t){switch(t.fs){case xf.$n:return qe.resolve(t.Cl||"");case xf.Gf:return qe.resolve(t.Cl).then(Gd);case xf.qf:return qe.resolve(t.Cl).then(JSON.stringify)}}function ew(t,n){return t.fs===Ud.Yf?nw(t,n).then(JSON.parse):(n&&t.Pl.zs(n),wu(t.Hu.then(rw),t.Pl))}function rw(t){return t.fs===xf.qf?qe.resolve(t.Cl):iw(t).then(JSON.parse)}function sw(t,n){return t.fs===Ud.Yf?zd(t.Dl,n):(n&&t.Pl.zs(n),wu(t.Hu.then(uw),t.Pl))}function uw(t){switch(t.fs){case xf.Gf:return qe.resolve(t.Cl);case xf.$n:case xf.qf:return iw(t).then($d)}}function ow(t){return t instanceof ArrayBuffer?t:Zo(Go(t)).buffer}function aw(t){return t.zl>=200&&t.zl<=299||304===t.zl}var hw,cw,fw,lw,vw=function(t){function n(n,i){var e,r,s,u,o,a;i?(r=i.Vl,s=i.Wl,u=i.zl,o=i.Gl,a=i.ql):(r=[],s=xf.$n,u=200,o="OK",a=!1);var h=n.Yl,c=new Bf(n.Vl||r),f=n.Wl||s,l=n.jl||(i&&i.Yl===h?i.jl:h.Ql),v=i?i.Zl:null,d=Kd(void 0!==n.Fi?n.Fi:v,n.Pl||new au,c);return(e=t.call(this,d)||this).Vl=void 0,e.Yl=void 0,e.jl=void 0,e.Wl=void 0,e.zl=void 0,e.Gl=void 0,e.ql=void 0,e.Vl=c,e.Yl=h,e.jl=l,e.Wl=f,e.zl=void 0!==n.zl?n.zl:u,e.Gl=void 0!==n.Gl?String(n.Gl):o,e.ql=n.ql||a,e}E(n,t);var i=n.prototype;return i.Fi=function(t){return this.Il(this.Wl,t)},i.Lu=function(){return new n({Fi:this.Hl(),Yl:this.Yl},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Zl=void 0,i.Zl=n,i}E(n,t);var i=n.prototype;return i.Ml=function(){return this.Zl.Ml()},i.El=function(t){return this.Zl.El(t)},i.Sl=function(t){return this.Zl.Sl(t)},i.Rl=function(t){return this.Zl.Rl(t)},i.Dl=function(){return this.Zl.Dl()},i.Hl=function(){return this.Zl.Hl()},T(n,[{key:"Fl",get:function(){return this.Zl.Fl}}]),n}(Zd));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(hw||(hw={})),function(t){t.Kl="",t.Jl="manifest",t.$l="segment",t.td="content-protection"}(cw||(cw={})),function(t){t.Kl="",t.ed="initialization-segment",t.rd="fairplay-license",t.ud="fairplay-certificate",t.od="widevine-license",t.hd="widevine-certificate",t.fd="playready-license",t.vd="clearkey-license",t.ld="aes128-key"}(fw||(fw={})),function(t){t.Kl="",t.dd="audio",t.wd="video",t.$n="text",t._d="image"}(lw||(lw={}));var dw=function(t,n){this.Cl=void 0,this.Vl=void 0,this.md=void 0,this.Wl=void 0,this.yd=void 0,this.Ws=void 0,this.fs=void 0,this.kd=void 0,this.pd=void 0,this.Ql=void 0,this.bd=void 0,this.Ad=void 0;var i,e,r,s,u,o,a,h,c,f,l,v=t.Ql;n?(i=n.Cl,e=n.Vl,r=n.md,s=n.Wl,u=n.yd,o=n.Ws,a=n.fs,h=n.kd,c=n.pd,f=n.bd,l=n.Ad):(i=null,e={},r=hw.GET,s=xf.$n,u=0,a=cw.Kl,h=fw.Kl,c=lw.Kl,f=!1),this.Ql=v,this.Cl=t.Cl||i,this.Vl=new Bf(t.Vl||e),this.md=t.md||r,this.Wl=t.Wl||s,this.yd=void 0!==t.yd?Number(t.yd)||0:u,this.Ws=t.Ws||o||(new au).Ws,this.fs=t.fs||a,this.kd=t.kd||h,this.pd=t.pd||c,this.bd=void 0!==t.bd?Boolean(t.bd):f,this.Ad=t.Ad||l},ww=function(){function t(){}var n=t.prototype;return n.Yl=function(t){var n=function(t){return new vw({Fi:null,Vl:{},Yl:t,jl:t.Ql,Wl:t.Wl,zl:0,Gl:Pf.Tf})}(new dw(t));return qe.resolve(n)},n.Td=function(t){},n.Sd=function(){},t}();var gw=function(){function t(t,n){void 0===n&&(n=!0),this.Ed=void 0,this.Id=void 0,this.Ed=t,this.Id=n}var n=t.prototype;return n.Yl=function(t){var n=this.Rd(t);return this.Ed.Yl(n)},n.Td=function(t){return this.Ed.Td(this.Dd(t))},n.Rd=function(n){var i=new dw(n);if(!this.Id){var e=t.Nd(i.Ql);i=new dw({Ql:e},i)}return i},n.Dd=function(n){var i=n.Ql;return this.Id||(i=t.Nd(i)),{Ql:i,Cl:n.Cl}},t.Nd=function(t){return i.Hr&&As(t,"http://")?t.replace(":","s:"):t},n.Sd=function(){this.Ed.Sd()},T(t,null,[{key:"Cd",get:function(){return t.Pd||(t.Pd=new t(new ww)),t.Pd}}]),t}();function mw(t,n){for(var i=0,e=w.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function yw(t,n){var e=i.Or(t);return n&&!Ts(e,"/")&&(e+="/"),e}gw.Pd=void 0;var pw,_w=/cache:(.+)?(?=&|$)/,bw="http://webcache.googleusercontent.com/search?q=cache:";function kw(t){if(!As(t,bw))return"";var n=i.Br(t).search.match(_w);return n&&n.length>1?n[1]:""}!function(t){t.Bd="HttpOpenError",t.Od="HttpResponseError",t.xd="HttpTimeoutError"}(pw||(pw={}));var Aw=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Ld=void 0,r.Ld=n,r}return E(n,t),T(n,[{key:"Yl",get:function(){return this.Ld}}]),n}(nn);var Tw=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Ql+". Invalid URL.",i)||this}return E(n,t),T(n,[{key:"name",get:function(){return pw.Bd}}]),n}(Aw);var Sw=function(t){function n(n,i,e){var r;return(r=t.call(this,n.Yl,null!=e?e:function(t){return"Error while loading "+t.Yl.Ql+", status code "+t.zl}(n),i)||this).Md=void 0,r.Md=n,r}return E(n,t),T(n,[{key:"name",get:function(){return pw.Od}},{key:"Ud",get:function(){return this.Md}}]),n}(Aw);var Ew=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Ql+" timed out after "+t.yd+" seconds."}(n),i)||this}return E(n,t),T(n,[{key:"name",get:function(){return pw.xd}}]),n}(Aw),Iw=function(t,n){return(Iw=w.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Rw(t,n){function i(){this.constructor=t}Iw(t,n),t.prototype=null===n?w.create(n):(i.prototype=n.prototype,new i)}var Cw="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var Dw=function(){var t=Cw.Blob;if(t)try{return new t,function(t,n){return new Cw.Blob(t,n)}}catch(t){}var n,i=Cw.BlobBuilder||Cw.WebKitBlobBuilder||Cw.MozBlobBuilder||Cw.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),Nw="function"==typeof yd?yd:void 0;function Pw(t){return t&&"function"==typeof t.getReader}function xw(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Pw(i)}catch(t){return!1}}var Bw=function(){function t(t,n){this.ov=t,this.Xd=n}return t.prototype.pull=function(t){var n=this;return this.ov.read().then(function(i){n.Xd&&n.Xd(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.ov.cancel(t)},t}();function Ow(t,n){return n.constructor===t?n:new t(new Bw(n.getReader()),{highWaterMark:0})}var Lw=function(){function t(t,n){this.Hd=t,this.Fd=n}return t.prototype.pull=function(t){return this.Hd().then(function(n){t.enqueue(new _(n)),t.close()})},t.prototype.cancel=function(t){this.Fd&&this.Fd(t)},t}();function Mw(t,n,i){return new t(new Lw(n,i),{highWaterMark:0})}var jw={searchParams:"URLSearchParams"in Cw,iterable:"Symbol"in Cw&&"iterator"in Symbol,blob:"FileReader"in Cw&&!!Dw,formData:"FormData"in Cw,arrayBuffer:"ArrayBuffer"in Cw,stream:xw(Nw),streamRequest:"Request"in Cw&&"body"in Cw.Request.prototype,streamResponse:"Response"in Cw&&"body"in Cw.Response.prototype,abort:"AbortController"in Cw&&"Request"in Cw&&"signal"in Cw.Request.prototype,encoding:"TextEncoder"in Cw&&"TextDecoder"in Cw,url:"URL"in Cw&&function(t){try{return new Cw.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Cw&&/Firefox\//.test(Cw.navigator.userAgent)};function Fw(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function Uw(t){return"string"!=typeof t&&(t=String(t)),t}function Hw(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return jw.iterable&&(n[Symbol.iterator]=function(){return n}),n}var Xw=function(){function t(t){var n=this;this.Kr={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return jw.iterable&&t&&t[Symbol.iterator]}(t)?t&&w.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=Fw(t),n=Uw(n);var i=t.toLowerCase();if(this.Kr.hasOwnProperty(i)){var e=this.Kr[i],r=e[1];e[1]=r?r+", "+n:n}else this.Kr[i]=[t,n]},t.prototype.delete=function(t){var n=Fw(t).toLowerCase();delete this.Kr[n]},t.prototype.get=function(t){var n=Fw(t).toLowerCase();return this.Kr.hasOwnProperty(n)?this.Kr[n][1]:null},t.prototype.has=function(t){var n=Fw(t).toLowerCase();return this.Kr.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=Fw(t)).toLowerCase();this.Kr[i]=[t,Uw(n)]},t.prototype.forEach=function(t,n){for(var i in this.Kr)this.Kr.hasOwnProperty(i)&&t.call(n,this.Kr[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),Hw(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),Hw(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),Hw(t)},t.prototype.asList=function(){var t=[];for(var n in this.Kr)if(this.Kr.hasOwnProperty(n)){var i=this.Kr[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function Vw(){}jw.iterable&&(Xw.prototype[Symbol.iterator]=Xw.prototype.entries);var zw,Ww,qw,Gw=g.min,$w=String.fromCharCode,Yw=16384;function Qw(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=Yw){var r=Gw(e+Yw,n);i.push($w.apply(null,t.slice(e,r)))}return i.join("")}(n)}function Zw(t){if(t>=55296&&t<=57343)throw new l("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Kw(t,n){return t>>n&63|128}function Jw(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Zw(t),n.push(t>>12&15|224),n.push(Kw(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Kw(t,12)),n.push(Kw(t,6))),n.push(63&t|128)):n.push(t)}function tg(){if(qw>=Ww)throw new l("Invalid byte index");var t=255&zw[qw];if(qw++,128==(192&t))return 63&t;throw new l("Invalid continuation byte")}function ng(){var t,n;if(qw>Ww)throw new l("Invalid byte index");if(qw===Ww)return!1;if(t=255&zw[qw],qw++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|tg())>=128)return n;throw new l("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|tg()<<6|tg())>=2048)return Zw(n),n;throw new l("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|tg()<<12|tg()<<6|tg())>=65536&&n<=1114111)return n;throw new l("Invalid UTF-8 detected")}var ig=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function eg(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function rg(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function sg(t){return t&&DataView.prototype.isPrototypeOf(t)}var ug,og=ArrayBuffer.isView||function(t){return t&&(ig.indexOf(w.prototype.toString.call(t))>-1||sg(t))};function ag(t){if(t.bodyUsed)return qe.reject(new v("Already used"));t.bodyUsed=!0}function hg(t){return new qe(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function cg(t){return jw.encoding?new Cw.TextDecoder("utf-8").decode(new _(t)):Qw(function(t){Ww=(zw=t).length,qw=0;for(var n,i=[];!1!==(n=ng());)i.push(n);return i}(new _(t)))}function fg(t){return jw.encoding?(new Cw.TextEncoder).encode(t).buffer:new _(function(t){for(var n=[],i=0,e=t;i<e.length;i++)Jw(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function lg(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?qe.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function vg(t){return lg(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(a=e[i]).byteLength;for(var r=new _(n),s=0,u=0,o=t;u<o.length;u++){var a=o[u];r.set(a,s),s+=a.byteLength}return r}(t).buffer})}function dg(t){return t.slice?t.slice(0):wg(new _(t))}function wg(t){if(t.slice)return t.slice(0).buffer;var n=new _(t.byteLength);return n.set(new _(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function gg(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function mg(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.zd===ug.Vd){if(!n.Wd.tee)throw new l("could not clone ReadableStream body");var i=n.Wd.tee(),e=i[0],r=i[1];return n.body=e,n.Wd=e,n.Gd=e,r}return n.zd===ug.Gf?dg(n.Wd):n.zd===ug.Tl?n.Wd.then(mg):n.Gd}!function(t){t[t.$n=0]="$n",t[t.qd=1]="qd",t[t.Yd=2]="Yd",t[t.Gf=3]="Gf",t[t.Vd=4]="Vd",t[t.Tl=5]="Tl"}(ug||(ug={}));var yg=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.Gd=n||null,n)if("string"==typeof n)this.zd=ug.$n,this.Wd=n;else if((s=n)&&"function"==typeof s.then)this.zd=ug.Tl,this.Wd=qe.resolve(n).then(function(n){return new t(n,i)}),this.Wd.catch(Vw);else if(jw.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.zd=ug.qd,this.Wd=n;else if(jw.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.zd=ug.Yd,this.Wd=n;else if(jw.searchParams&&eg(n))this.zd=ug.$n,this.Wd=n.toString();else if(jw.arrayBuffer&&(rg(n)||og(n)))sg(n)&&(this.Gd=new _((r=n).buffer,r.byteOffset,r.byteLength)),this.zd=ug.Gf,this.Wd=rg(e=n)?dg(e):wg(e);else{if(!jw.stream||!Pw(n))throw new l("unsupported BodyInit type");n=Ow(Nw,n),this.zd=ug.Vd,this.Wd=n,this.Gd=n}else this.zd=ug.$n,this.Wd="";this.jd="",i.has("content-type")?this.jd=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.jd="text/plain;charset=UTF-8":u.zd===ug.qd&&u.Wd.type?this.jd=u.Wd.type:jw.searchParams&&eg(n)&&(this.jd="application/x-www-form-urlencoded;charset=UTF-8"),this.jd&&i.set("content-type",this.jd)),jw.stream&&(null==n?this.body=null:u.zd===ug.Vd?this.body=u.Wd:this.body=Mw(Nw,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=ag(this);return e||(this.zd===ug.qd?(t=this.Wd,n=new FileReader,i=hg(n),n.readAsText(t),i):this.zd===ug.Gf?qe.resolve(this.Wd).then(cg):this.zd===ug.Vd?vg(this.Wd).then(cg):this.zd===ug.Tl?this.Wd.then(function(t){return t.text()}):this.zd===ug.Yd?qe.reject(new l("could not read FormData body as text")):qe.resolve(this.Wd))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();jw.blob&&(yg.prototype.blob=function(){var t,n,i=ag(this);return i||(this.zd===ug.qd?qe.resolve(this.Wd):this.zd===ug.Gf?qe.resolve(Dw([this.Wd],{type:this.jd})):this.zd===ug.Vd?(t=this.Wd,n=this.jd,lg(t).then(function(t){return Dw(t,{type:n||""})})):this.zd===ug.Tl?this.Wd.then(function(t){return t.blob()}):this.zd===ug.Yd?qe.reject(new l("could not read FormData body as Blob")):qe.resolve(Dw([this.Wd],{type:this.jd})))}),jw.arrayBuffer&&(yg.prototype.arrayBuffer=function(){var t,n,i;return this.zd===ug.Gf?ag(this)||qe.resolve(this.Wd):this.zd===ug.qd?ag(this)||(t=this.Wd,n=new FileReader,i=hg(n),n.readAsArrayBuffer(t),i):this.zd===ug.Vd?vg(this.Wd):this.zd===ug.Tl?ag(this)||this.Wd.then(function(t){return t.arrayBuffer()}):this.zd===ug.Yd?qe.reject(new l("could not read FormData body as ArrayBuffer")):qe.resolve(this.Wd).then(fg)}),jw.formData&&(yg.prototype.formData=function(){return this.zd===ug.Yd?ag(this)||qe.resolve(this.Wd):this.text().then(gg)});var pg=[301,302,303,307,308],_g=function(t){function n(n,i){var e=this,r=new Xw((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return Rw(n,t),n.prototype.clone=function(){return new n(mg(this),{status:this.status,statusText:this.statusText,headers:new Xw(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===pg.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(yg);var bg,kg=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),w.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=w.setPrototypeOf?w.getPrototypeOf:function(t){return t.__proto__||w.getPrototypeOf(t)})(t)}function o(t,n){return(o=w.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!w.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=w.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}w.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),w.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){a(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?h(e):r).listeners||f.call(h(t)),w.defineProperty(h(t),"aborted",{value:!1,writable:!0,configurable:!0}),w.defineProperty(h(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=w.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),d=function(){function t(){i(this,t),w.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=d,n.default=d});(bg=kg)&&bg.__esModule&&w.prototype.hasOwnProperty.call(bg,"default")&&bg.default,kg.AbortSignal;var Ag=kg.AbortController,Tg=Cw.DOMException;try{new Tg}catch(t){(Tg=function(t,n){l.call(this,t),this.name=n||"Error",l.captureStackTrace&&l.captureStackTrace(this,this.constructor)}).prototype=w.create(l.prototype),Tg.prototype.constructor=Tg}var Sg=Ag;function Eg(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Ig(t,n,i){return new qe(function(e,r){if(n.signal.aborted)return t.catch(Vw),r(Rg());var s=function(){n.signal.removeEventListener("abort",s),r(Rg())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function Rg(){return new Tg("Aborted","AbortError")}var Cg,Dg="moz-chunked-arraybuffer";function Ng(t){try{var n=new k;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Cg||(Cg={}));var Pg=function(){function t(t,n){var i=this;this.Qd=!1,this.Ld=t,this.Zd=n,this.Kd=new k,this.Jd=new qe(function(t,n){i.$d=t,i.nw=n})}return t.prototype.send=function(){var t=this;return this.iw().then(function(n){return t.ew(n,t.Zd),t.Jd})},t.prototype.iw=function(){var t=this.Ld;return t.zd===ug.Vd?t.arrayBuffer():qe.resolve(t.Gd)},t.prototype.uw=function(t){this.Ld.onprogress&&this.Ld.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.ow=function(t){this.nw(t)},t.prototype.aw=function(){this.ow(new v("Network request failed"))},t.prototype.hw=function(){this.ow(new v("Network request failed"))},t.prototype.cw=function(){this.ow(Rg())},t.prototype.ew=function(t,n){var i=this,e=this.Ld,r=this.Kd,s=function(){return i.fw()};if(e.signal.aborted)return this.cw();r.onreadystatechange=function(){if(r.readyState>=Cg.HEADERS_RECEIVED&&!i.Qd){var t=function(t){var n=new Xw;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Qd=!0,i.vw(n)}},r.onprogress=function(t){return i.uw(t)},r.onload=function(){return i.lw()},r.onerror=function(){return i.aw()},r.ontimeout=function(){return i.hw()},r.onabort=function(){return i.cw()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.fw=function(){this.cw(),this.Kd.abort()},t}(),xg=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.dw=void 0,e.ww=void 0,e}return Rw(n,t),n.prototype.vw=function(t){var n=this;this.dw=new qe(function(t,i){n.ww=t,n._w=i}),this.$d(new _g(this.dw,t))},n.prototype.lw=function(){var t=this.Kd.response;if(null==t){var n=this.Zd;""===n||"text"===n?t=this.Kd.responseText:"document"===n?t=this.Kd.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=Dw([]))}this.ww(t)},n.prototype.ow=function(n){t.prototype.ow.call(this,n),this._w&&this._w(n)},n}(Pg),Bg=function(t){function n(n){var i=t.call(this,n,Dg)||this;return i.gw=void 0,i.mw=void 0,i.yw=!1,i}return Rw(n,t),n.prototype.vw=function(t){var n=this;this.gw=new Nw({start:function(t){n.mw=t},cancel:function(){n.yw=!0,n.fw()}}),this.$d(new _g(this.gw,t))},n.prototype.uw=function(n){this.yw||this.mw.enqueue(new _(this.Kd.response)),t.prototype.uw.call(this,n)},n.prototype.lw=function(){this.mw.close()},n.prototype.ow=function(n){t.prototype.ow.call(this,n),this.mw&&!this.yw&&(this.yw=!0,this.mw.error(n))},n}(Pg),Og=function(){var t=jw.firefox&&Ng(Dg);return Og=function(){return t},t},Lg=function(){var t;return t=jw.arrayBuffer&&Ng("arraybuffer")?"arraybuffer":jw.blob&&Ng("blob")?"blob":"",Lg=function(){return t},t};function Mg(t){return(jw.stream&&Og()?new Bg(t):new xg(t,Lg())).send()}var jg=Cw.fetch,Fg=Cw.Request;Cw.Response;var Ug=Cw.AbortController;var Hg=["http:","https:"];var Xg=function(){try{if(jw.streamRequest){var t=new Fg("about:blank",{body:"",method:"POST"}).body;if(t&&xw(t.constructor))return t.constructor}}catch(t){}}();function Vg(t,n,i){var e;if(jw.stream){var r=void 0;if(jw.streamResponse){var s=t.body;r=s&&Ow(Nw,s)}else r=Mw(Nw,function(){return Ig(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new Bw(n.getReader(),i),{highWaterMark:0})}(Nw,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,zg(t.headers))),e=r}else{var u=Ig(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return qe.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,zg(t.headers))),e=u}return new _g(e,t)}function zg(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function Wg(t){var n=new Sg;return t.signal&&Eg(n,t.signal),function(t,n){var i,e,r=t;if(i=r.zd===ug.Vd?jw.streamRequest&&Xg?qe.resolve(Ow(Xg,r.Wd)):Ig(t.arrayBuffer(),n,!1):Ig(qe.resolve(t.Gd),n,!1),jw.abort){var s=new Ug;Eg(s,n.signal),e=s.signal}return i.then(function(n){return new Fg(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof Xw?i:new Xw(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return jg(i).then(function(i){return Vg(i,n,t.onprogress)})})}var qg=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Gg=function(t){function n(i,e){var r,s,u,o,a,h,c,f,l,d=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new v("Already used");r=i.url,s=i.credentials,e.headers||(u=new Xw(i.headers)),o=i.method,a=i.mode,h=i.referrer,c=i.referrerPolicy,f=i.signal,l=i.onprogress,w||null==i.Gd||(w=i.Gd,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",a="cors",h="about:client",c="",f=null,l=null;if(!e.headers&&u||(u=new Xw(e.headers)),e&&(h="about:client",c=""),(d=t.call(this,w,u)||this).url=r,d.headers=u,d.credentials=e.credentials||s,d.method=function(t){var n=t.toUpperCase();return qg.indexOf(n)>-1?n:t}(e.method||o),d.mode=e.mode||a,d.signal=e.signal||f||(new Sg).signal,d.referrer=void 0!==e.referrer?e.referrer:h,d.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:c,d.onprogress=e.onprogress||l,("GET"===d.method||"HEAD"===d.method)&&w)throw new v("Body not allowed for GET or HEAD requests");return d}return Rw(n,t),n.prototype.clone=function(){return new n(this,{body:mg(this)})},n}(yg),$g="function"==typeof jg&&jw.stream&&jw.streamResponse&&jw.url;function Yg(t,n){return new qe(function(i){var e=new Gg(t,n);i(($g&&function(t){try{return Hg.indexOf(new Cw.URL(t,Cw.location.href).protocol)>=0}catch(t){return!1}}(e.url)?Wg:Mg)(e))})}Yg.polyfill=!0;var Qg=function(){function t(t){this.Ud=void 0,this.Ld=void 0,this.pw=new au,this.Md=void 0,this.bw=!1,this.Ld=t,this.pw.zs(t.Ws),this.Ud=this.Aw()}var n=t.prototype;return n.Aw=function(){var t,n,e,r,s,u,o,h,c=this;return Fr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.Ld).yd&&a(function(){c.bw=!0,c.pw.Fs()},t.yd),f.prev=2,n=Yg(t.Ql,{method:t.md,headers:t.Vl.jf(),body:t.Cl,credentials:t.bd?"include":"same-origin",signal:Jg(this.pw.Ws),onprogress:t.Ad}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new Tw(t,f.t0);case 9:return f.prev=9,f.next=12,Fr.awrap(n);case 12:e=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),cu(r=this.Tw(f.t1))&&this.pw.Fs(),r;case 20:if(s=e.url||t.Ql,u=0===e.status&&"file:"===(l=s,i.Br(l).protocol)?200:e.status,o=new Zg(this,e,this.pw),h=new vw({Fi:o,Yl:t,Wl:t.Wl,Vl:new Bf(e.headers.asList()),zl:u,Gl:e.statusText,jl:s}),this.Md=h,!aw(h)){f.next=29;break}return f.abrupt("return",h);case 29:throw new Sw(h);case 30:case"end":return f.stop()}var l},null,this,[[2,6],[9,15]],qe)},n.Tw=function(t){return cu(t)?this.bw?new Ew(this.Ld):new hu(t.message,t):this.Md?new Sw(this.Md,t):new Tw(this.Ld,t)},t}(),Zg=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Sw=void 0,r.Ew=void 0,r.pw=void 0,r.xl=new na,r.Sw=n,r.Ew=i,r.pw=e,r.xl.Hu.catch(K),r}E(n,t);var i=n.prototype;return i.Ml=function(){return this.xl.Hu},i.El=function(t){return this.Ul(this.Ew.text(),t)},i.Rl=function(t){return this.Ul(this.Ew.arrayBuffer(),t)},i.Dl=function(){var t=this.Ew.body;return t?this.Xl(t):Wd(this.Rl().then(Vd),this.pw)},i.Hl=function(){var t=this.Ew.clone(),i=this.pw.Vs(),e=i[0],r=i[1];return this.pw=e,new n(this.Sw,t,r)},i.Ul=function(t,n){var i=this;n&&this.pw.zs(n);var e=qe.resolve(t).catch(function(t){throw i.Sw.Tw(t)});return e=wu(e,this.pw),this.xl.Wu(e.then(K)),e},i.Xl=function(t){var n=this,i=new Rd,e=qe.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.Sw.Tw(t);throw i.writable.abort(e).catch(K),e});return e=wu(e,this.pw),this.xl.Wu(e.then(K)),i.readable},T(n,[{key:"Fl",get:function(){return this.Ew.bodyUsed}}]),n}(Zd),Kg="abort";function Jg(t){var n=new Sg;if(t.Ns)n.abort();else if(!t.Cs){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(Kg,i),t.Ms(i),t.Xs(e)};n.signal.addEventListener(Kg,i),t.Ls(i),t.Us(e)}return n.signal}function tm(t,n,i){return new qe(function(e,r){if(i&&i.Ns)return r(new hu);var s=function(t){o(),e(t)},u=function(){o(),r(new hu)},o=function(){t.removeEventListener(n,s),i&&i.Ms(u)};t.addEventListener(n,s),i&&i.Ls(u)})}var nm,im,em=function(){function t(){}var n=t.prototype;return n.Yl=function(t){return new Qg(t).Ud},n.Td=function(t){if(me&&me.sendBeacon)me.sendBeacon(t.Ql,Df([t.Cl],{type:t.Nl}));else{var n=t.Nl?{"Content-type":t.Nl}:void 0;pu(this.Yl(new dw({md:hw.POST,Ql:t.Ql,Cl:t.Cl,Vl:n})))}},n.Sd=function(){},t}();nm=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).Iw=void 0,i.Rw=function(){if(j.fn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.Dw=j.Xn||j.fn,i.Nw=void 0,i}return E(i,n),T(i,[{key:"Er",get:function(){return this.Iw||(this.Iw=new Ls(Ef())),this.Iw}},{key:"Cw",get:function(){return this.Rw}},{key:"Pw",get:function(){return this.Dw}},{key:"Bw",get:function(){return!1}},{key:"Ow",get:function(){return Rf.rf()}},{key:"xw",get:function(){return{Lw:Nf}}},{key:"Mw",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"Uw",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"Xw",get:function(){return this.Nw||(this.Nw=new gw(new em)),this.Nw}}]),i}(Br)),i=nm,function(t){t.Hw="Fw",t.zw="Vw"}(im||(im={})),im.Hw,im.zw;var rm=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Ww=void 0,e}return E(n,t),T(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}}]),n}(Iu);function sm(t){return Boolean(t&&t.Gw)}var um,om=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n}(rm),am=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n}(Iu),hm=function(t){function n(n){var i;return(i=t.call(this,im.Hw)||this).Yw=n,i}return E(n,t),n.prototype.qw=function(){return new cm(this.Yw.Gw)},n}(om),cm=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return E(n,t),n}(am),fm=function(t){function n(n){var i;return(i=t.call(this,im.zw)||this).Yw=n,i}return E(n,t),n.prototype.qw=function(){return new lm(this.Yw.Gw)},n}(om),lm=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return E(n,t),n}(am);!function(t){t.jw="Qw",t.Zw="Kw",t.Jw="$w",t.t_="n_",t.i_="e_",t.r_="s_",t.u_="o_",t.a_="h_",t.c_="Zh",t.f_="v_",t.l_="d_",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(um||(um={}));var vm=function(t){function n(){var n;return(n=t.call(this)||this).w_=[],n.Ww=void 0,n}E(n,t);var i=n.prototype;return i.__=function(t){return this.w_[t]},i.g_=function(t){return!(!t||Qs(this.w_,t))&&(this.w_.push(t),this.Ww&&this.Ww.push(t.Gw),t.Zs(um.r_,this.js),this.Qs(new hm(t)),!0)},i.m_=function(t){if(!t)return!1;var n=this.w_.indexOf(t);return!(n<0)&&(Ys(this.w_,n),this.Ww&&Ys(this.Ww,n),t.tu(um.r_,this.js),this.Qs(new fm(t)),!0)},i.y_=function(t){return Qs(this.w_,t)},i.k_=function(){for(var t=this.w_,n=t.length-1;n>=0;n-=1)this.m_(t[n])},i.Sd=function(){this.k_(),this.$s()},T(n,[{key:"p_",get:function(){return this.w_}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}},{key:"b_",get:function(){return this.w_.length}}]),n}(Su),dm=function(t){function n(n){var i;return(i=t.call(this,um.r_)||this).Yw=n,i}return E(n,t),n.prototype.qw=function(){return new wm(this.Yw.Gw)},n}(om),wm=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return E(n,t),n}(am),gm=function(t){function n(){var n;return(n=t.call(this)||this).A_=void 0,n.T_=function(t){var i=t.Yw;n.g_(i)},n.S_=function(t){var i=t.Yw;n.m_(i)},n}E(n,t);var i=n.prototype;return i.E_=function(t){t.Zs(im.Hw,this.T_),t.Zs(im.zw,this.S_)},i.I_=function(t){t.tu(im.Hw,this.T_),t.tu(im.zw,this.S_)},i.Sd=function(){this.A_&&this.A_.Sd(),t.prototype.Sd.call(this)},T(n,[{key:"R_",get:function(){return this.A_},set:function(t){var n=this.A_;if(t!==n){if(n){this.I_(n);for(var i=0,e=n.p_;i<e.length;i++){var r=e[i];t&&t.y_(r)||this.m_(r)}}if(this.A_=t,t){for(var s=[],u=0,o=t.p_;u<o.length;u++){var a=o[u];this.g_(a),this.D_(a)&&s.push(a)}this.E_(t);for(var h=0;h<s.length;h++){var c=s[h];c.Qs(new dm(c))}}}}}]),n}(vm),mm=w.freeze||J;function ym(t,n,i){w.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function pm(t){return mm(t)}function _m(t,n){for(var i=0,e=w.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];w.defineProperty(t,r,w.getOwnPropertyDescriptor(n,r))}return t}function bm(t){if(q(t)){var n={};for(var i in t)F.call(t,i)&&(n[i]=bm(t[i]));return n}if(V(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=bm(t[r]));return e}return t}function km(t,n){return t===n||!(!t||!n)&&(!(!W(t)||!W(n))&&(z(t)?!!z(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!km(t[r],n[r]))return!1;return!0}(t,n):!z(n)&&function(t,n){var i=w.keys(t),e=w.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!F.call(n,s)||!km(t[s],n[s]))return!1}return!0}(t,n)))}function Am(t,n){return t.constructor===n.constructor}function Tm(t){for(var n={},i=0,e=w.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function Sm(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Em(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Im(t){var n=Em(t);if(p(n))throw new l("Expected a valid number.");return n}function Rm(t){return"string"==typeof t?t:""}function Cm(t,n){if(!z(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function Dm(t,n){return z(t)?Cm(t,n):n(t)}var Nm=[im.Hw,im.zw,um.r_];function Pm(t){var n,i=t.p_.map(function(t){return t.Gw});return i.item=function(n){var i=0|n,e=t.__(i);return e&&e.Gw||void 0},i.addEventListener=function(t,i){n.Zs(t,i)},i.removeEventListener=function(t,i){n.tu(t,i)},n=new Eu(i),t.Zs(Nm,function(t){return n.Qs(t.Gw)}),i}function xm(){}function Bm(t){var n,i=[um.c_,um.r_,um.f_,um.l_,um.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.N_&&t.N_.Gw},get enabled(){return t.C_},set enabled(n){t.C_=Sm(n)},get id(){return t.P_},get uid(){return t.B_},get kind(){return t.O_},get label(){return t.x_},set label(n){t.x_=Rm(n)},get language(){return t.L_},get qualities(){return t.M_.Gw},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.M_.p_;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.Gw===o&&i.push(s)}return i}(t,V(n)?n:[n]):[]).length>0?t.U_=i:t.U_=void 0},get targetQuality(){if(t.U_)return 1===t.U_.length?t.U_[0].Gw:t.U_.map(function(t){return t.Gw})},addEventListener:function(t,i){var e=Dm(t,Rm);n.Zs(e,i)},removeEventListener:function(t,i){var e=Dm(t,Rm);n.tu(e,i)}};return n=new Eu(e),t.Zs(i,function(t){return n.Qs(t.Gw)}),w.defineProperty(e,"constructor",{value:xm}),e}function Om(){}function Lm(t){var n=Pm(t);return w.defineProperty(n,"constructor",{value:Om}),n}var Mm,jm,Fm=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.qw=function(){return Lm(this)},i.D_=function(t){return t.C_},n}(gm);function Um(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Mm.X_:case Mm.H_:case Mm.F_:return n}}else if("number"==typeof t)switch(t){case 0:return Mm.X_;case 1:return Mm.H_;case 2:return Mm.F_}return Mm.X_}function Hm(){}function Xm(t){var n,i=[um.r_,um.c_,um.jw,um.Zw,um.Jw,um.t_,um.i_,um.u_,um.a_],e=[jm.z_],r={get kind(){return t.O_},get label(){return t.x_},set label(n){t.x_=Rm(n)},get language(){return t.L_},get id(){return t.P_},get uid(){return t.B_},get inBandMetadataTrackDispatchType(){return t.V_},get mode(){return t.W_},set mode(n){n!==Mm.F_&&n!==Mm.H_&&n!==Mm.X_||t.G_(n)},get forced(){return Boolean(t.q_)},get type(){return t.fs},get readyState(){return Wm(t.Y_)},get cues(){return t.W_===Mm.X_?null:t.j_.Gw},get activeCues(){return t.W_===Mm.X_?null:t.Q_.Gw},get src(){return t.Z_||""},addEventListener:function(t,i){var e=Dm(t,Rm);n.Zs(e,i)},removeEventListener:function(t,i){var e=Dm(t,Rm);n.tu(e,i)}};return n=new Eu(t),t.Zs(i,function(t){return n.Qs(t.Gw)}),t.Zs(e,function(t){return n.Qs(t)}),w.defineProperty(r,"constructor",{value:Hm}),r}function Vm(){}function zm(t){var n=Pm(t);return w.defineProperty(n,"constructor",{value:Vm}),n}function Wm(t){return t}!function(t){t.X_="disabled",t.H_="hidden",t.F_="showing"}(Mm||(Mm={})),function(t){t.z_="error"}(jm||(jm={}));var qm=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.qw=function(){return zm(this)},i.D_=function(t){return t.W_===Mm.F_},n}(gm),Gm=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.Js=function(n){t.prototype.Js.call(this,n)},i.ou=function(n){t.prototype.ou.call(this,n)},n}(Su),$m=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(Gm),Ym=function(t){function n(){return t.call(this,Pf.yf)||this}return E(n,t),n}(Iu),Qm=function(t){function n(n){var i;return(i=t.call(this,Pf.df)||this).currentSource=n,i}return E(n,t),n}(Iu),Zm=function(){function t(){}return t.K_=function(n,i){var e=t.J_(n,i);return e?t.eg(e):0},t.rg=function(){return i.Mw||"default"},t.og=function(){return i.Uw||"unknown"},t.J_=function(n,e){var r,s=null==(r=i.Ow)?void 0:r.Iu(e),u=s&&JSON.parse(s);if(u&&u[n])return t.ag(u,n,e)},t.eg=function(t){var n=t.availableBandwidth;return n||0},t.ag=function(n,i,e){if(!t.hg(n,i))return n[i];t.cg(n,i,e)},t.cg=function(t,n,e){var r;delete t[n],null==(r=i.Ow)||r.ef(e,JSON.stringify(t))},t.hg=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.fg=function(t,n,i,e){var r;return Ur({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.vg=function(n){var i=t.rg();t.dg(i,"theoplayer-stored-network-info",n,Wt())},t.dg=function(n,e,r,s){var u,o,a=null==(u=i.Ow)?void 0:u.Iu(e),h=a?JSON.parse(a):void 0,c=t.fg(h,n,r,s);null==(o=i.Ow)||o.ef(e,JSON.stringify(c))},t.wg=function(){var n=t.rg();return t.K_(n,"theoplayer-stored-network-info")},t}();var Km,Jm,ty,ny,iy,ey,ry="1ADD53F3";function sy(t){return{chromecast:function(t){return{appID:t&&t.appID?Rm(t.appID):ry}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Km.AUTO;case"manual":return Km.MANUAL;case"disabled":return Km.DISABLED;default:return Km.MANUAL}}(t?t.strategy:void 0)}}function uy(t){var n,i=ty._g;return(n=t)&&ks(n,"mpd")&&(i=ty.gg),function(t){return!!t&&ks(t,"m3u8")}(t)&&(i=ty.yg),i}function oy(t){return!!t&&As(t.toLowerCase(),ty.gg)}function ay(t){if(!t)return!1;var n=t.toLowerCase();return As(n,ty.yg)||As(n,ty.pg)}function hy(t){return W(t)&&W(t.ssai)&&"google-dai"===t.ssai.integration}function cy(t){return W(t)&&G(t.integration)&&"verizon-media"===t.integration}function fy(t){if(G(t))return!t;if(cy(t))return!t.id;if(hy(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function ly(t){return Boolean(W(t)&&G(t.src))}function vy(t){return G(t)||ly(t)||hy(t)||cy(t)}function dy(t){if(t){if(vy(t))return fy(t);for(var n=0;n<t.length;n++){if(!fy(t[n]))return!1}return!0}return!0}function wy(){return{crossOrigin:Jm.Ag,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function gy(){return Ur({},wy(),{src:void 0,type:ty._g,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function my(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:ny.ENABLED,googleImaConfiguration:{useNativeIma:!1,bitrate:-1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return iy.NONE;case"midroll-and-postroll":default:return iy.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Sm(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return ny.INSECURE;case"disabled":return ny.DISABLED;case"enabled":default:return ny.ENABLED}}(t.vpaidMode)),V(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(G)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){var n;return void 0===t?{useNativeIma:!1,bitrate:-1}:{useNativeIma:Sm(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1}}(t.googleImaConfiguration)),n)}function yy(t){if(!z(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];q(r)&&n.push(r)}return n}function py(t){return G(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Km||(Km={})),function(t){t.Ag="",t.Tg="anonymous",t.Sg="use-credentials"}(Jm||(Jm={})),function(t){t.gg="application/dash+xml",t.yg="application/vnd.apple.mpegurl",t.pg="application/x-mpegurl",t._g="video/mp4",t.Eg="application/vnd.theoplayer.hesp+json",t.Ig="application/vnd.theo.hesp+json"}(ty||(ty={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(ny||(ny={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(iy||(iy={})),function(t){t[t.Rg=0]="Rg",t[t.Dg=1]="Dg",t[t.Ng=2]="Ng",t[t.Cg=3]="Cg",t[t.Pg=4]="Pg"}(ey||(ey={}));var _y,by=function(t){function n(n,i){var e;return void 0===i&&(i=ey.Rg),(e=t.call(this,Pf.gf)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Iu),ky=function(t){function n(n){var i;return(i=t.call(this,Pf.Ef)||this).currentTime=n,i}return E(n,t),n}(Iu),Ay=function(t){function n(n){var i;return(i=t.call(this,Pf.If)||this).currentTime=n,i}return E(n,t),n}(Iu);!function(t){t.Bg="canplay",t.Og="canplaythrough",t.xg="loadeddata",t.Lg="loadedmetadata",t.u_="readystatechange",t.Mg="waiting",t.Ug="playing"}(_y||(_y={}));var Ty,Sy=[_y.Bg,_y.Og,_y.xg,_y.Lg,_y.u_,_y.Mg,_y.Ug],Ey=function(t){function n(n,i){var e;return void 0===i&&(i=ey.Dg),(e=t.call(this,_y.Lg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Iu),Iy=function(t){function n(n){var i;return(i=t.call(this,Pf._f)||this).duration=n,i}return E(n,t),n}(Iu),Ry=function(t){function n(n,i){var e;return(e=t.call(this,Pf.Df)||this).currentTime=n,e.playbackRate=i,e}return E(n,t),n}(Iu),Cy=function(t){function n(n,i){var e;return(e=t.call(this,Pf.Hf)||this).currentTime=n,e.currentProgramDateTime=i,e}return E(n,t),n}(Iu),Dy=function(t){function n(n){var i;return(i=t.call(this,Pf.mf)||this).currentTime=n,i}return E(n,t),n}(Iu),Ny=function(t){function n(n,i){var e;return void 0===i&&(i=ey.Ng),(e=t.call(this,_y.xg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Iu),Py=function(t){function n(n){var i;return(i=t.call(this,Pf.Bf)||this).currentTime=n,i}return E(n,t),n}(Iu),xy=function(t){function n(n){var i;return(i=t.call(this,Pf.Pf)||this).currentTime=n,i}return E(n,t),n}(Iu),By=function(t){function n(n,i){var e;return(e=t.call(this,Pf.Ff)||this).currentTime=n,e.volume=i,e}return E(n,t),n}(Iu),Oy=function(t){function n(n,i){var e;return void 0===i&&(i=ey.Cg),(e=t.call(this,_y.Bg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Iu),Ly=function(t){function n(n,i){var e;return void 0===i&&(i=ey.Pg),(e=t.call(this,_y.Og)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Iu),My=function(t){function n(n,i){var e;return(e=t.call(this,_y.u_)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Iu),jy=function(t){function n(n){var i;return(i=t.call(this,jm.z_)||this).errorObject=n,i}return E(n,t),n.prototype.qw=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(rm);function Fy(t){switch(t){case Ty.ALL:case Ty.CONTENT:return t;default:return Ty.NONE}}function Uy(t){var n,e,r,s=bm(t||{});return s.libraryLocation&&(s.libraryLocation=yw(s.libraryLocation,!0)),s.isEmbeddable=Boolean(s.isEmbeddable),s.cast=sy(s.cast),s.ads=my(s.ads),s.analytics=yy(s.analytics),s.mutedAutoplay=Fy(s.mutedAutoplay),s.allowNativeFullscreen=Boolean(s.allowNativeFullscreen),s.allowMixedContent=Boolean(s.allowMixedContent),s.persistVolume=Boolean(s.persistVolume),s.liveOffset=(n=s.liveOffset,Number(n)||void 0),s.hlsDateRange=(e=s.hlsDateRange,Boolean(e)),s.retainPlaybackRateOnSourceChange=Boolean(s.retainPlaybackRateOnSourceChange),s.license=G(r=s.license)?r:void 0,s.licenseUrl=function(t){if(!t)return;try{return yw(t)}catch(t){return void i.gr("Invalid 'licenseUrl', falling back to default URL")}}(s.licenseUrl),s}function Hy(t){return{Xg:t.Xg,Hg:t.Hg,Fg:t.Fg,mu:t.mu,zg:t.zg,Vg:t.Vg,Wg:t.Wg,Gg:t.Gg,Y_:t.Y_,qg:t.qg,Yg:t.Yg,jg:t.jg,Qg:t.Qg}}function Xy(t,n,i){if(n!==i){var e=n.Xg,r=n.Hg,s=n.Vg,u=n.Wg,o=n.Gg,a=n.Y_,h=n.qg;n.jg,n.Yg;var c=n.Qg,f=i.Xg,l=i.Hg,v=i.Fg,d=i.zg,w=i.Vg,g=i.Wg,m=i.Gg,y=i.Y_,_=i.qg;i.jg,i.Yg;var b=i.Qg;a!==ey.Rg&&t.Qs(new by(f,y)),g&&!u?t.Qs(new ky(f)):!g&&u&&t.Qs(new Ay(f)),y>=ey.Dg&&t.Qs(new Ey(f,y)),l===r||p(l)&&p(r)||t.Qs(new Iy(l)),m!==o&&t.Qs(new Ry(f,m)),f!==e&&t.Qs(new Cy(f,void 0)),v&&t.Qs(new Dy(f)),y>=ey.Ng&&t.Qs(new Ny(f,y)),_&&!h?t.Qs(new Py(f)):!_&&h&&t.Qs(new xy(f)),b===c&&w===s||t.Qs(new By(f,b)),y>=ey.Cg&&t.Qs(new Oy(f,y)),y>=ey.Pg&&t.Qs(new Ly(f,y)),y!==a&&t.Qs(new My(f,y)),d&&t.Qs(new jy(d))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Ty||(Ty={}));var Vy=.25,zy=400,Wy={Zg:.2,Kg:.45,Jg:.7,$g:3,tm:Ky,nm:Jy},qy={Zg:.4,Kg:.65,Jg:1,$g:3,tm:Ky,nm:Jy},Gy={Zg:.4,Kg:.7,Jg:.9,$g:3,tm:Ky,nm:Jy},$y={Zg:.4,Kg:.65,Jg:1,$g:3,tm:Ky,nm:Jy},Yy={Zg:.5,Kg:1.125,Jg:1.75,$g:2.55,tm:Ky,nm:Jy};function Qy(){var t;return t=i.Lr.Ge?$y:i.Lr.je?qy:i.Lr.Ye?"Android"===i.Mr.Ur?Gy:Wy:Yy,i.Mr.Xr?function(t){if(i.Mr.Xr){var n=(zy+250)/1e3,e=g.max(n,t.Zg),r=g.max(e+Vy,t.Kg),s=g.max(r+Vy,t.Jg);return{Zg:e,Kg:r,Jg:s,$g:g.max(s+Vy,t.$g),tm:Ky,nm:Jy}}return t}(t):t}var Zy,Ky=.92,Jy=1.08;function tp(t){return{goLive:function(){return t.im()},get isLive(){return t.um},get currentServerLiveTime(){return t.hm},get currentLatency(){return t.cm},get latency(){return t.fm},set latency(n){if(!function(t){if(!W(t))return!1;var n=t,i=H(n.target)&&"number"==typeof n.target&&H(n.windowEnd)&&"number"==typeof n.windowEnd&&H(n.windowStart)&&"number"==typeof n.windowStart&&H(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new l("Invalid latency configuration");t.fm=n},get manifest(){return t.vm},addEventListener:function(n,i){t.Zs(ip(n),i)},removeEventListener:function(n,i){t.tu(ip(n),i)}}}!function(t){t[t.X_=0]="X_",t[t.lm=1]="lm",t[t.dm=2]="dm"}(Zy||(Zy={}));var np=["golive"];function ip(t){var n=Dm(t,Rm);return(G(n)?[n]:n).filter(function(t){return Qs(np,t)})}var ep,rp=function(t){function n(){var n,i;return(n=t.call(this)||this).A_=void 0,n.Ww=void 0,n.wm={windowStart:(i=Qy()).Zg,windowEnd:i.Jg,target:i.Kg,maxOffset:i.$g},n.A_=void 0,n}E(n,t);var i=n.prototype;return i.E_=function(t){t.Zs(np,this.js)},i.I_=function(t){t.tu(np,this.js)},i.im=function(){var t;null==(t=this.A_)||t.im()},i.Sd=function(){this.$s(),this.A_&&this.I_(this.A_),this.A_=void 0},T(n,[{key:"R_",get:function(){return this.A_},set:function(t){var n=this.A_;t!==n&&(n&&this.I_(n),t&&this.E_(t),this.A_=t,this.A_&&(this.A_.fm=this.wm))}},{key:"Gw",get:function(){return this.Ww||(this.Ww=tp(this)),this.Ww}},{key:"hm",get:function(){var t;return null==(t=this.A_)?void 0:t.hm}},{key:"cm",get:function(){var t;return null==(t=this.A_)?void 0:t.cm}},{key:"um",get:function(){return!!this.A_&&this.A_.um}},{key:"fm",get:function(){return this.A_?this.A_.fm:this.wm},set:function(t){this.A_&&(this.A_.fm=t),this.wm=t}},{key:"vm",get:function(){var t;return null==(t=this.A_)?void 0:t.vm}}]),n}(Su),sp=function(t){function n(n){var i;return(i=t.call(this)||this).A_=void 0,i._m=[],i.gm=!1,i.mm=new Fm,i.ym=new Fm,i.pm=new qm,i.Am=new rp,i.Tm=!1,i.Sm(n),n.Js(i.js),i.A_=n,i.mm.R_=n.Em,i.ym.R_=n.Im,i.pm.R_=n.Rm,i.Am.R_=n.Dm,i}E(n,t);var i=n.prototype;return i.Nm=function(){this.A_.Nm()},i.Cm=function(){this.A_.Cm()},i.Pm=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",_u(this._m.map(function(t){return t.Pm()})).then(K));case 1:case"end":return t.stop()}},null,this,null,qe)},i.Bm=function(){return this.A_.Bm()},i.Om=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return fu(n),i.next=3,Fr.awrap(this.A_.Om(t,n));case 3:case"end":return i.stop()}},null,this,null,qe)},i.xm=function(){return this.R_.xm()},i.Lm=function(){this.R_.Lm()},i.Mm=function(){this.R_.Mm()},i.Um=function(){if(!this.gm){for(var t=0,n=this._m;t<n.length;t++){n[t].Um()}this.gm=!0}},i.Xm=function(t){this.A_.Xm(t)},i.Hm=function(){this.A_.Hm()},i.Fm=function(){this.A_.Fm()},i.zm=function(){this.A_.zm()},i.Vm=function(){return this.A_.Vm()},i.Wm=function(){return this.A_.Wm()},i.Gm=function(){for(var t=[],n=0,i=this._m;n<i.length;n++){var e=i[n];t.push.apply(t,e.Gm())}return t},i.qm=function(t){for(var n=!1,i=0,e=this._m;i<e.length;i++){n=e[i].qm(t)||n}return n},i.Qs=function(n){this.qm(n)||t.prototype.Qs.call(this,n)},i.Sm=function(t){this._m.push(t)},i.Ym=function(t){$s(this._m,t)},i.jm=function(t){if(t!==this.A_){var n=this.A_;n.Hm(),n.ou(this.js);var i=Hy(this),e=this.Qm,r=this.Wm();this.A_=t,this.mm.R_=t.Em,this.ym.R_=t.Im,this.pm.R_=t.Rm,this.Am.R_=t.Dm,Xy(this,i,this);var s=this.Qm;s!==e&&this.Qs(new Qm(s)),this.Wm()!==r&&this.Qs(new Ym),t.Js(this.js),t.Xm(n)}},i.Zm=function(){},i.Sd=function(){var t,n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.$s(),this.A_.Hm(),t=0,n=this._m;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,Fr.awrap(i.Sd());case 7:t++,e.next=3;break;case 10:this.mm.Sd(),this.ym.Sd(),this.pm.Sd(),this.Am.Sd();case 14:case"end":return e.stop()}},null,this,null,qe)},i.k_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",_u(this._m.map(function(t){return t.k_()})).then(K));case 1:case"end":return t.stop()}},null,this,null,qe)},T(n,[{key:"Em",get:function(){return this.mm}},{key:"Rm",get:function(){return this.pm}},{key:"Im",get:function(){return this.ym}},{key:"Km",get:function(){return this.A_.Km}},{key:"Jm",get:function(){return this.A_.Jm},set:function(t){this.A_.Jm=t}},{key:"Qm",get:function(){return this.A_.Qm}},{key:"Xg",get:function(){return this.A_.Xg},set:function(t){this.A_.Xg=t}},{key:"Hg",get:function(){return this.A_.Hg}},{key:"$m",get:function(){return this.A_.$m}},{key:"Fg",get:function(){return this.A_.Fg}},{key:"mu",get:function(){return this.A_.mu}},{key:"zg",get:function(){return this.A_.zg}},{key:"Dm",get:function(){return this.Am}},{key:"iy",get:function(){return this.A_.iy}},{key:"ey",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.sy,i+=a.uy,e+=a.oy,r+=a.vy,s+=a.ly,u.amountOfBufferedAudioSegments+=a.wy.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=a.wy.amountOfBufferedVideoSegments}return{sy:n,uy:i,oy:e,vy:r,ly:s,wy:u}}(this._m.map(function(t){return t.ey}))}},{key:"Vg",get:function(){return this.A_.Vg},set:function(t){this.A_.Vg=t}},{key:"_y",get:function(){return this.A_._y}},{key:"Wg",get:function(){return this.A_.Wg}},{key:"Gg",get:function(){return this.A_.Gg},set:function(t){this.A_.Gg=t}},{key:"gy",get:function(){return this.A_.gy}},{key:"yy",get:function(){return this.A_.yy},set:function(t){this.A_.yy=t}},{key:"Y_",get:function(){return this.A_.Y_}},{key:"py",get:function(){return this.A_.py}},{key:"qg",get:function(){return this.A_.qg}},{key:"Yg",get:function(){return this.A_.Yg}},{key:"jg",get:function(){return this.A_.jg}},{key:"Qg",get:function(){return this.A_.Qg},set:function(t){this.A_.Qg=t}},{key:"by",get:function(){return this.A_.by}},{key:"Ay",get:function(){return!1},set:function(t){}},{key:"R_",get:function(){return this.A_},set:function(t){this.jm(t)}}]),n}($m),up=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e)||this).url=void 0,h.status=void 0,h.statusText=void 0,h.response=void 0,h.systemCode=void 0,h.url=r,h.status=s,h.statusText=u,h.response=o,h.systemCode=a,h}return E(n,t),T(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(lf);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(ep||(ep={}));var op=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,l.captureStackTrace&&l.captureStackTrace(Jt(s),s.constructor),s}return E(n,t),T(n,[{key:"name",get:function(){return"MediaError"}}]),n}(tn);function ap(t){ym(t,"MEDIA_ERR_ABORTED",ep.ABORTED),ym(t,"MEDIA_ERR_NETWORK",ep.NETWORK),ym(t,"MEDIA_ERR_DECODE",ep.DECODE),ym(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",ep.SRC_NOT_SUPPORTED),ym(t,"MEDIA_ERR_ENCRYPTED",ep.ENCRYPTED)}function hp(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new op(ep.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new op(cp(t.code),t.message,null==(e=t.cause)?void 0:e.message)}function cp(t){if(t===n.ErrorCode.MEDIA_ABORTED)return ep.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return ep.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return ep.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return ep.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);return i===n.ErrorCategory.NETWORK?ep.NETWORK:i===n.ErrorCategory.SOURCE?ep.SRC_NOT_SUPPORTED:i===n.ErrorCategory.LICENSE?ep.LICENSE_INVALID:i===n.ErrorCategory.CONTENT_PROTECTION?ep.ENCRYPTED:i===n.ErrorCategory.AD?ep.ADVERTISEMENT_ERROR:ep.DECODE}ap(op),ap(op.prototype);var fp,lp=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.g_=function(n){return t.prototype.g_.call(this,n)},i.qw=function(){return Lm(this)},n}(vm);!function(t){t.dd="audio",t.wd="video",t.$n="text",t._d="image",t.Kl="unknown"}(fp||(fp={}));var vp=function(){function t(){this.Ty=[],this.Ww=void 0}var n=t.prototype;return n.Sy=function(t){this.Ty.push(t),this.Ww&&this.Ww.push(t.Gw)},n.Qh=function(t){$s(this.Ty,t),this.Ww&&$s(this.Ww,t.Gw)},n.__=function(t){return this.Ty[t]},n.Ey=function(t){return V(t)?Zs(this.Ty,t):Qs(this.Ty,t)},n.k_=function(){Ks(this.Ty),this.Ww&&Ks(this.Ww)},T(t,[{key:"p_",get:function(){return this.Ty}},{key:"b_",get:function(){return this.Ty.length}},{key:"Gw",get:function(){var t,n;return this.Ww||(this.Ww=((n=(t=this).p_.map(function(t){return t.Gw})).item=function(n){var i=0|n,e=t.__(i);return e&&e.Gw||void 0},n)),this.Ww}}]),t}(),dp=function(t){function n(n){var i;return(i=t.call(this,um.c_)||this).Yw=n,i}return E(n,t),n.prototype.qw=function(){return new wp(this.Yw.Gw)},n}(om),wp=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return E(n,t),n}(am),gp=0;function mp(){return gp++}var yp=0;var pp=0;function _p(){return pp++}var bp=0;function kp(){return bp++}var Ap=0;var Tp=function(t){function n(n){var i;return(i=t.call(this)||this).fs=fp.dd,i.Iy=void 0,i.Bh=void 0,i.Ry=void 0,i.Dy=void 0,i.Ny=!1,i.Ty=void 0,i.Ww=void 0,i.Iy=n,i.Dy=mp(),i.Bh=Ap+++"",i.Ry=n.label,i.Ty=new vp,i.Cy(),i}E(n,t);var i=n.prototype;return i.Py=function(t){this.C_=t},i.Cy=function(){this.C_=this.By},T(n,[{key:"N_",get:function(){}},{key:"C_",get:function(){return this.Ny},set:function(t){this.Ny!==t&&(this.Ny=t,this.By=t,this.Qs(new dm(this)))}},{key:"By",get:function(){return this.Iy.enabled},set:function(t){this.Iy.enabled=t}},{key:"Gw",get:function(){return this.Ww||(this.Ww=Bm(this)),this.Ww}},{key:"P_",get:function(){return this.Bh}},{key:"B_",get:function(){return this.Dy}},{key:"O_",get:function(){return this.Iy.kind}},{key:"x_",get:function(){return this.Ry},set:function(t){t!==this.Ry&&(this.Ry=t,this.Qs(new dp(this)))}},{key:"L_",get:function(){return this.Iy.language}},{key:"W_",get:function(){return this.C_?"enabled":"disabled"}},{key:"Oy",get:function(){return this.Iy}},{key:"M_",get:function(){return this.Ty}},{key:"U_",get:function(){},set:function(t){}}]),n}(Su),Sp=0;var Ep,Ip,Rp,Cp=function(t){function n(n){var i;return(i=t.call(this)||this).fs=fp.wd,i.Iy=void 0,i.Bh=void 0,i.Dy=void 0,i.Ny=!1,i.Ty=void 0,i.Ry=void 0,i.Ww=void 0,i.Iy=n,i.Dy=mp(),i.Bh=Sp+++"",i.Ty=new vp,i.Ry=n.label,i.Cy(),i}E(n,t);var i=n.prototype;return i.Cy=function(){this.C_=this.By},i.Py=function(t){this.C_=t},T(n,[{key:"N_",get:function(){}},{key:"C_",get:function(){return this.Ny},set:function(t){this.Ny!==t&&(this.Ny=t,this.By=t,this.Qs(new dm(this)))}},{key:"By",get:function(){return!!this.Iy.selected},set:function(t){this.Iy.selected=t}},{key:"Gw",get:function(){return this.Ww||(this.Ww=Bm(this)),this.Ww}},{key:"P_",get:function(){return this.Bh}},{key:"B_",get:function(){return this.Dy}},{key:"O_",get:function(){return"main"}},{key:"x_",get:function(){return this.Ry},set:function(t){t!==this.Ry&&(this.Ry=t,this.Qs(new dp(this)))}},{key:"L_",get:function(){return this.Iy.language}},{key:"W_",get:function(){return this.C_?"enabled":"disabled"}},{key:"Oy",get:function(){return this.Iy}},{key:"M_",get:function(){return this.Ty}},{key:"U_",get:function(){},set:function(t){}}]),n}(Su),Dp=function(t){function n(n){var i;return(i=t.call(this,Pf.sf)||this).iy=n,i}return E(n,t),n}(Iu);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Ep||(Ep={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Ip||(Ip={})),function(t){t.xy="cue",t.Ly="region",t.My="stylesheet"}(Rp||(Rp={}));var Np,Pp={"line-left":"start",center:"middle","line-right":"end"},xp={start:"line-left",middle:"center",end:"line-right"};function Bp(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Op(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:y(i),p(r)?e:r;var i,e,r}!function(t){t.Uy="Xy",t.Hy="Fy",t.c_="Zh"}(Np||(Np={}));var Lp=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).zy=i,e}return E(n,t),n}(om),Mp=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return E(n,t),n}(am);function jp(t){var n,i=[Np.Uy,Np.Hy,Np.c_],e={get track(){return t.Yw.Gw},get id(){return t.P_},get uid(){return t.B_},get startTime(){return t.Vy},get endTime(){return t.Wy},get content(){return t.Gy},addEventListener:function(t,i){var e=Dm(t,Rm);n.Zs(e,i)},removeEventListener:function(t,i){var e=Dm(t,Rm);n.tu(e,i)}};return n=new Eu(e),t.Zs(i,function(t){return n.Qs(t.Gw)}),e}function Fp(){}function Up(t){return _m(jp(t),{get align(){return t.qy},get line(){return t.Yy},get lineAlign(){return t.jy},get position(){return t.Qy},get positionAlign(){return t.Zy},get region(){return t.Ky?t.Ky.Gw:null},get size(){return t.Cu},get snapToLines(){return t.Jy},get text(){return t.Gy},get vertical(){return t.$y}})}var Hp=function(t){function n(n){return t.call(this,Np.c_,n)||this}return E(n,t),n.prototype.qw=function(){return new Xp(this.zy.Gw)},n}(Lp),Xp=function(t){function n(n){return t.call(this,"update",n)||this}return E(n,t),n}(Mp),Vp=.02;function zp(t,n){return Ut(t.Vy,n.Vy,Vp)&&Ut(t.Wy,n.Wy,Vp)&&t.P_===n.P_}var Wp=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Dy=void 0,u.Bh=void 0,u.nk=void 0,u.ek=void 0,u.Ww=void 0,u.rk=void 0,u.hk=!1,u.ck=void 0,u.fk=void 0,u.vk=-1,u.Dy=kp(),u.nk=n,u.ek=i,u.ck=e,u.fk=Boolean(r),u.Bh=null!=s?s:"",u}E(n,t);var i=n.prototype;return i.qw=function(){return jp(this)},i.lk=function(t){return this===t||Am(this,t)&&zp(this,t)},i.Sd=function(){this.$s()},T(n,[{key:"Vy",get:function(){return this.nk},set:function(t){this.nk!==t&&(this.nk=t,this.Qs(new Hp(this)))}},{key:"Wy",get:function(){return this.ek},set:function(t){this.ek!==t&&(this.ek=t,this.Qs(new Hp(this)))}},{key:"P_",get:function(){return this.Bh}},{key:"B_",get:function(){return this.Dy}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}},{key:"dk",get:function(){return this.hk},set:function(t){this.hk=t}},{key:"Yw",get:function(){return this.rk},set:function(t){this.rk=t}},{key:"Gy",get:function(){return this.ck},set:function(t){this.ck!==t&&(this.ck=t,this.Qs(new Hp(this)))}},{key:"wk",get:function(){return this.fk},set:function(t){this.fk=t}}]),n}(Su);function qp(t,n){return t.Gy===n.Gy&&t.Yy===n.Yy&&t.jy===n.jy&&t.Qy===n.Qy&&t.Zy===n.Zy&&t.Ky===n.Ky&&t.Jy===n.Jy&&t.Cu===n.Cu&&t.qy===n.qy&&t.$y===n.$y}var Gp=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).Yy="auto",u.jy="start",u.Qy="auto",u.Zy="auto",u.Ky=void 0,u.Jy=!0,u.Cu=100,u.qy="center",u.$y="",u}return E(n,t),n.prototype.lk=function(n){return this===n||Am(this,n)&&t.prototype.lk.call(this,n)&&qp(this,n)},T(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=Up(this)),this.Ww}},{key:"fs",get:function(){return Rp.xy}}]),n}(Wp);function $p(t){var n=Z(t.Yy)?t.Yy:y(t.Yy);return p(n)||t.Jy||!(n<0||n>100)?p(n)?t.Jy?-1:100:n:100}function Yp(t){return Op(t.Qy,t.qy)}function Qp(t){return Bp(t.Zy,t.qy)}function Zp(t){var n,i=Qp(t),e=Yp(t);switch(i){case"line-left":n=100-e;break;case"line-right":n=e;break;case"center":n=e<=50?2*e:2*(100-e)}return g.min(t.Cu,n)}function Kp(t){return{get id(){return t.P_},get identifier(){return t.P_},get lines(){return t._k},get regionAnchorX(){return t.gk},get regionAnchorY(){return t.yk},get scrollValue(){return t.pk},get viewportAnchorX(){return t.bk},get viewportAnchorY(){return t.Ak},get width(){return t.Tk}}}var Jp=function(){function t(t,n,i,e,r,s,u,o){this.Ww=void 0,this.P_=t,this.Tk=n,this._k=i,this.gk=e,this.yk=r,this.bk=s,this.Ak=u,this.pk=o}return T(t,[{key:"Gw",get:function(){return this.Ww||(this.Ww=Kp(this)),this.Ww}},{key:"fs",get:function(){return Rp.Ly}}]),t}(),t_=function(){function t(){}var n=t.prototype;return n.Sk=function(t){return this.Ek()*t},n.Ik=function(t){return this.Rk(t)>0},n.Dk=function(t){return this.Rk(t)>=0},n.Nk=function(t,n){return this.Pk(t).Ck(n)},n.lk=function(t){return 0===this.Rk(t)},n.Bk=function(t){return this.Rk(t)<0},n.Ck=function(t){return this.Rk(t)<=0},n.Ok=function(){return this.xk()?this.Lk():this},n.Mk=function(t){return this.Sy(t.Lk())},n.Pk=function(t){return this.Mk(t).Ok()},t}();function n_(t,n){return t.Uk()?n.Uk()?Os.Is:Os.Rs:n.Uk()?Os.Ds:t.Xk()?n.Xk()&&t.xk()===n.xk()?Os.Is:t.xk()?Os.Ds:Os.Rs:n.xk()?Os.Rs:Os.Ds}var i_=function(){function t(t,n){this.Hk=void 0,this.Fk=void 0,this.Hk=t,this.Fk=n}t.zk=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Vk=function(n){return n.unsigned?new t(n,vt.UZERO):new t(n,n.isNegative()?vt.NEG_ONE:vt.ZERO)},t.Wk=function(n,i){if(p(n))return i?t.Gk:t.qk;if(i){if(n<0)return t.Gk;if(n>=3.402823669209385e38)return t.Yk}else{if(n<=-1.7014118346046923e38)return t.jk;if(n+1>=1.7014118346046923e38)return t.Qk}return n<0?t.Wk(-n,i).Lk():t.zk(vt.fromNumber(n%0x10000000000000000),vt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Zk=function(){return this.Fk.unsigned},n.Kk=function(){return this.Hk.isZero()&&this.Fk.isZero()},n.xk=function(){return this.Fk.isNegative()},n.Jk=function(){return this.Zk()?t.zk(this.Hk,this.Fk,!1):this},n.$k=function(){return this.Zk()?this:t.zk(this.Hk,this.Fk,!0)},n.tp=function(){return this.Hk},n.Ek=function(){return this.xk()?-this.Lk().Ek():0x10000000000000000*this.Fk.toNumber()+this.Hk.toUnsigned().toNumber()},n.np=function(){return this.Hk.toInt()},n.lk=function(t){return(this.Zk()===t.Zk()||this.Fk.getHighBits()>>>31!=1||t.Fk.getHighBits()>>>31!=1)&&(this.Fk.toUnsigned().eq(t.Fk.toUnsigned())&&this.Hk.toUnsigned().eq(t.Hk.toUnsigned()))},n.Rk=function(t){if(this.lk(t))return Os.Is;var n=this.xk(),i=t.xk();if(n&&!i)return Os.Ds;if(!n&&i)return Os.Rs;if(!this.Zk())return this.Mk(t).xk()?Os.Ds:Os.Rs;var e=this.$k(),r=t.$k(),s=r.Fk.comp(e.Fk);return s>0||0===s&&r.Hk.gt(e.Hk)?Os.Ds:Os.Rs},n.Bk=function(t){return this.Rk(t)<0},n.Ck=function(t){return this.Rk(t)<=0},n.ip=function(t){return this.Rk(t)>0},n.ep=function(t){return this.Rk(t)>=0},n.rp=function(){return new t(this.Hk.not(),this.Fk.not())},n.sp=function(n){return new t(this.Hk.and(n.Hk),this.Fk.and(n.Fk))},n.op=function(n){return new t(this.Hk.or(n.Hk),this.Fk.or(n.Fk))},n.ap=function(n){var i=127&n;return 0===i?this:i<64?t.zk(this.Hk.shl(i),this.Fk.shl(i).or(this.Hk.shru(64-i)),this.Zk()):t.zk(vt.ZERO,this.Hk.shl(i-64),this.Zk())},n.hp=function(n){var i=127&n;return 0===i?this:i<64?t.zk(this.Hk.shru(i).or(this.Fk.shl(64-i)),this.Fk.shr(i),this.Zk()):t.zk(this.Fk.shr(i-64),this.Fk.isNegative()?vt.NEG_ONE:vt.ZERO,this.Zk())},n.cp=function(n){var i=127&n;return 0===i?this:i<64?t.zk(this.Hk.shru(i).or(this.Fk.shl(64-i)),this.Fk.shru(i),this.Zk()):64===i?t.zk(this.Fk,vt.ZERO,this.Zk()):t.zk(this.Fk.shru(i-64),vt.ZERO,this.Zk())},n.Sy=function(n){var i=this.Fk.high>>>16,e=65535&this.Fk.high,r=this.Fk.low>>>16,s=65535&this.Fk.low,u=this.Hk.high>>>16,o=65535&this.Hk.high,a=this.Hk.low>>>16,h=65535&this.Hk.low,c=n.Fk.high>>>16,f=65535&n.Fk.high,l=n.Fk.low>>>16,v=65535&n.Fk.low,d=n.Hk.high>>>16,w=65535&n.Hk.high,g=n.Hk.low>>>16,m=0,y=0,p=0,_=0,b=0,k=0,A=0,T=0;A+=(T+=h+(65535&n.Hk.low))>>>16,T&=65535,k+=(A+=a+g)>>>16,A&=65535,b+=(k+=o+w)>>>16,k&=65535,_+=(b+=u+d)>>>16,b&=65535,p+=(_+=s+v)>>>16,_&=65535,y+=(p+=r+l)>>>16,p&=65535,m+=(y+=e+f)>>>16,y&=65535,m+=i+c,m&=65535;var S=this.Zk(),E=vt.fromBits(p<<16|_,m<<16|y,S),I=vt.fromBits(A<<16|T,b<<16|k,S);return t.zk(I,E,S)},n.Mk=function(t){return this.Sy(t.Lk())},n.Lk=function(){return this.rp().Sy(t.fp)},n.vp=function(n){if(this.Kk()||n.Kk())return this.Zk()?t.Gk:t.qk;if(this.xk())return n.xk()?this.Lk().vp(n.Lk()):this.Lk().vp(n).Lk();if(n.xk())return this.vp(n.Lk()).Lk();if(this.Fk.isZero()&&0===this.Hk.high&&n.Fk.isZero()&&0===n.Hk.high)return t.Vk(this.Hk.multiply(n.Hk));var i=vt.fromBits(4294967295,0,!0),e=this.Hk.and(i),r=this.Hk.shru(32),s=this.Fk.and(i),u=this.Fk.shru(32),o=n.Hk.and(i),a=n.Hk.shru(32),h=n.Fk.and(i),c=n.Fk.shru(32),f=vt.UZERO,l=vt.UZERO,v=vt.UZERO,d=vt.UZERO;f=f.add(e.mul(o)),l=l.add(f.shru(32)),f=f.and(i),l=l.add(r.mul(o)),v=v.add(l.shru(32)),l=(l=l.and(i)).add(e.mul(a)),v=v.add(l.shru(32)),l=l.and(i),v=v.add(s.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)).add(s.mul(a)).add(r.mul(h)).add(e.mul(c)).and(i);var w=vt.fromBits(f.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0),g=vt.fromBits(v.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0);return t.zk(w,g,this.Zk())},n.lp=function(n){var i,e,r=n;if(r.Kk())throw new RangeError("division by zero");if(this.Kk())return this.Zk()?[t.Gk,t.Gk]:[t.qk,t.qk];if(this.Zk()){if(r.Zk()||(r=r.$k()),r.ip(this))return[t.Gk,this];if(r.ip(this.cp(1)))return[e=t.dp,i=this.Mk(r)];e=t.Gk}else{if(this.lk(t.jk)){if(r.lk(t.fp)||r.lk(t.wp))return[t.jk,t.qk];if(r.lk(t.jk))return[t.fp,t.qk];var s=this.hp(1)._p(r).ap(1);return s.lk(t.qk)?e=r.xk()?t.fp:t.wp:(i=this.Mk(r.vp(s)),e=s.Sy(i._p(r))),[e,i=this.Mk(r.vp(e))]}if(r.lk(t.jk))return this.Zk()?[t.Gk,this]:[t.qk,this];if(this.xk()){if(r.xk())return this.Lk().lp(r.Lk());var u=this.Lk().lp(r);return e=u[0],i=u[1],[e.Lk(),i.Lk()]}if(r.xk()){var o=this.lp(r.Lk());return e=o[0],i=o[1],[e.Lk(),i.Lk()]}e=t.qk}for(i=this;i.ep(r);){for(var a=g.max(1,g.floor(i.Ek()/r.Ek())),h=g.ceil(g.log(a)/g.LN2),c=h<=48?1:g.pow(2,h-48),f=t.Wk(a),l=f.vp(r);l.xk()||l.ip(i);)a-=c,l=(f=t.Wk(a,this.Zk())).vp(r);f.Kk()&&(f=t.fp),e=e.Sy(f),i=i.Mk(l)}return[e,i]},n._p=function(t){return this.lp(t)[0]},n.gp=function(t){return this.lp(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Kk())return"0";if(this.xk()){if(this.lk(t.jk)){var e=t.Wk(i),r=this._p(e),s=r.vp(e).Mk(this);return r.toString(i)+s.np().toString(i)}return"-"+this.Lk().toString(i)}for(var u=t.Wk(g.pow(i,6),this.Zk()),o=this,a="";;){var h=o._p(u),c=(o.Mk(h.vp(u)).np()>>>0).toString(i);if((o=h).Kk())return c+a;for(;c.length<6;)c="0"+c;a=String(c)+a}},t}();i_.qk=i_.Vk(vt.ZERO),i_.Gk=i_.Vk(vt.UZERO),i_.fp=i_.Vk(vt.ONE),i_.dp=i_.Vk(vt.UONE),i_.wp=i_.Vk(vt.NEG_ONE),i_.Qk=i_.zk(vt.NEG_ONE,vt.MAX_VALUE,!1),i_.Yk=i_.zk(vt.MAX_UNSIGNED_VALUE,vt.MAX_UNSIGNED_VALUE,!0),i_.jk=i_.zk(vt.ZERO,vt.MIN_VALUE,!1);var e_=function(){function t(t,n){void 0===n&&(n=1),this.mp=void 0,this.yp=void 0,this.mp=t,this.yp=n}t.kp=function(n){return new t(g.ceil(n.mp),n.yp)},t.pp=function(n){return new t(g.floor(n.mp),n.yp)},t.bp=function(t,n){return t.Dk(n)?t:n},t.Ap=function(t,n){return t.Ck(n)?t:n};var n=t.prototype;return n.Sy=function(n){return this.yp>=n.yp?new t(this.mp+n.Tp(this.yp).mp,this.yp):new t(this.Tp(n.yp).mp+n.mp,n.yp)},n.Ik=function(t){return t.Bk(this)},n.Dk=function(t){return t.Ck(this)},n.Pk=function(n){return this.yp>=n.yp?new t(g.abs(this.mp-n.Tp(this.yp).mp),this.yp):n.Pk(this)},n.Nk=function(t,n){return this.Pk(t).Ck(n)},n.Rk=function(t){return i=t,(n=this).yp>=i.yp?zs(n.mp,i.Tp(n.yp).mp):zs(n.Tp(i.yp).mp,i.mp);var n,i},n.lk=function(t){return 0===this.Rk(t)},n.Bk=function(t){return this.Rk(t)<0},n.Ck=function(t){return this.Rk(t)<=0},n.Tp=function(n){return new t(this.mp*(n/this.yp),n)},n.Mk=function(n){return this.yp>=n.yp?new t(this.mp-n.Tp(this.yp).mp,this.yp):new t(this.Tp(n.yp).mp-n.mp,n.yp)},n.Sp=function(n){return new t(this.mp*n,this.yp)},T(t,[{key:"Xk",get:function(){return!isFinite(this.mp)}},{key:"Ep",get:function(){return this.mp/this.yp}}]),t}();e_.Ip=new e_(1/6,1),e_.qk=new e_(0),e_.Rp=new e_(1/0),e_.Dp=1e6;var r_=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ai=void 0,e.yp=void 0,e.Ai=n.toSigned(),e.yp=i>>>0,e}E(n,t),n.Np=function(t,i){return void 0===i&&(i=1e6),n.Wk(t*i,i)},n.Wk=function(t,i){return p(t)?n.Cp:t===1/0?n.Pp:t===-1/0?n.Bp:new n(vt.fromNumber(t),i)},n.Vk=function(t,i){return new n(t,i)},n.Op=function(t){return n.Np(t.Ep,1e6)},n.xp=function(t){return new n(vt.fromNumber(t.getTime()),1e3)},n.bp=function(t,n){return t.Dk(n)?t:n},n.Ap=function(t,n){return t.Ck(n)?t:n},n.Lp=function(t,i,e){return n.bp(i,n.Ap(e,t))};var i=n.prototype;return i.xk=function(){return this.Ai.isNegative()},i.Kk=function(){return 0!==this.yp&&this.Ai.isZero()},i.Xk=function(){return 0===this.yp&&!this.Ai.isZero()},i.Uk=function(){return 0===this.yp&&this.Ai.isZero()},i.Ek=function(){if(0===this.yp)return this.Ai.isZero()?NaN:this.Ai.isNegative()?-1/0:1/0;var t=this.Ai.divide(this.yp),n=this.Ai.subtract(t.multiply(this.yp));return t.toNumber()+n.toNumber()/this.yp},i.tp=function(){if(0===this.yp)throw new l("Failed to convert timestamp");return this.Ai},i.Mp=function(){return new Date(0===this.yp?NaN:this.Tp(1e3).Ai.toNumber())},i.Up=function(){return new e_(0===this.yp?this.Ek():this.Ai.toNumber(),this.yp)},i.Tp=function(t,i){void 0===i&&(i=o_.Xp);var e=this.yp;if(e===t)return this;if(0===e)return this;var r=Vt(e,t);return new n(function(t,n,i){var e=t.lp(n),r=e[0],s=e[1];if(s.Kk())return r;if(i===o_.Xp)return s.xk()?r.Mk(i_.fp):r;if(i===o_.Hp)return s.xk()?r:r.Sy(i_.fp);var u=s.vp(i_.Wk(2));return u.xk()?u.Lk().Bk(n)?r:r.Mk(i_.fp):u.Bk(n)?r:r.Sy(i_.fp)}(i_.Vk(this.Ai).vp(i_.Wk(t/r)),i_.Wk(e/r),i).tp(),t)},i.Rk=function(t){if(this===t)return Os.Is;if(0===this.yp||0===t.yp)return n_(this,t);if(this.Kk())return t.Kk()?Os.Is:t.xk()?Os.Rs:Os.Ds;if(t.Kk())return this.xk()?Os.Ds:Os.Rs;var n=g.min(this.yp,t.yp),i=this.Tp(n,o_.Fp).Ai,e=t.Tp(n,o_.Fp).Ai;return i.compare(e)},i.Lk=function(){return 0===this.yp?s_(this):new n(this.Ai.negate(),this.yp)},i.Sy=function(t){if(0===this.yp||0===t.yp)return u_(this,t);if(this.Kk())return t;if(t.Kk())return this;var i=g.max(this.yp,t.yp),e=this.Tp(i,o_.Fp),r=t.Tp(i,o_.Fp);return new n(e.Ai.add(r.Ai),i)},i.vp=function(t){if(this.Uk()||p(t))return n.Cp;if(this.Xk()||!isFinite(t)){if(this.Kk()||0===t)return n.Cp;var i=this.xk()?n.Bp:n.Pp;return t<0?i.Lk():i}return this.Kk()?this:new n(0===t?vt.ZERO:this.Ai.multiply(t),this.yp)},i._p=function(t){if(this.Uk()||p(t))return n.Cp;if(this.Xk())return isFinite(t)?0===t?1/t<0?this.Lk():this:t<0?this.Lk():this:n.Cp;if(!isFinite(t))return new n(vt.ZERO,this.yp);if(this.Kk())return 0===t?n.Cp:new n(vt.ZERO,this.yp);if(0===t){var i=this.xk()?n.Bp:n.Pp;return 1/t<0?i.Lk():i}return new n(this.Ai.divide(t),this.yp)},i.zp=function(){return[this.Ai.low,this.Ai.high,this.yp]},n}(t_);function s_(t){return t.Uk()?t:t.xk()?r_.Pp:r_.Bp}function u_(t,n){return t.Uk()||n.Uk()?r_.Cp:t.Xk()&&n.Xk()?t.xk()===n.xk()?t:r_.Cp:t.Xk()?t:n}r_.qk=new r_(vt.ZERO,1e6),r_.Cp=new r_(vt.ZERO,0),r_.Pp=new r_(vt.ONE,0),r_.Bp=new r_(vt.NEG_ONE,0);var o_,a_=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ai=void 0,e.yp=void 0,e.Ai=BigInt.asIntN(64,n),e.yp=i>>>0,e}E(n,t),n.Np=function(t,i){return void 0===i&&(i=1e6),n.Wk(t*i,i)},n.Wk=function(t,i){return p(t)?n.Cp:t===1/0?n.Pp:t===-1/0?n.Bp:new n(BigInt(g.floor(t)),i)},n.Vk=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Op=function(t){return n.Np(t.Ep,1e6)},n.xp=function(t){return n.Wk(t.getTime(),1e3)},n.bp=function(t,n){return t.Dk(n)?t:n},n.Ap=function(t,n){return t.Ck(n)?t:n},n.Lp=function(t,i,e){return n.bp(i,n.Ap(e,t))};var i=n.prototype;return i.xk=function(){return this.Ai<BigInt(0)},i.Kk=function(){return 0!==this.yp&&this.Ai===BigInt(0)},i.Xk=function(){return 0===this.yp&&this.Ai!==BigInt(0)},i.Uk=function(){return 0===this.yp&&this.Ai===BigInt(0)},i.Ek=function(){if(0===this.yp)return this.Ai===BigInt(0)?NaN:this.Ai<BigInt(0)?-1/0:1/0;var t=this.Ai/BigInt(this.yp),n=this.Ai-t*BigInt(this.yp);return Number(t)+Number(n)/this.yp},i.tp=function(){if(0===this.yp)throw new l("Failed to convert timestamp");return this.Vp()},i.Vp=function(){var t=this.Ai&BigInt(4294967295),n=this.Ai>>BigInt(32)&BigInt(4294967295);return vt.fromBits(Number(t),Number(n))},i.Mp=function(){return new Date(0===this.yp?NaN:Number(this.Tp(1e3).Ai))},i.Up=function(){return new e_(0===this.yp?this.Ek():Number(this.Ai),this.yp)},i.Tp=function(t,i){void 0===i&&(i=o_.Xp);var e=this.yp;if(e===t)return this;if(0===e)return this;var r=Vt(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===o_.Xp)return r<BigInt(0)?e-BigInt(1):e;if(i===o_.Hp)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this.Ai*BigInt(t/r),BigInt(e/r),i),t)},i.Rk=function(t){if(this===t)return Os.Is;if(0===this.yp||0===t.yp)return n_(this,t);if(this.Kk())return t.Kk()?Os.Is:t.xk()?Os.Rs:Os.Ds;if(t.Kk())return this.xk()?Os.Ds:Os.Rs;var n=g.min(this.yp,t.yp),i=this.Tp(n,o_.Fp).Ai,e=t.Tp(n,o_.Fp).Ai;return i>e?Os.Rs:i<e?Os.Ds:Os.Is},i.Lk=function(){return 0===this.yp?h_(this):new n(-this.Ai,this.yp)},i.Sy=function(t){if(0===this.yp||0===t.yp)return c_(this,t);if(this.Kk())return t;if(t.Kk())return this;var i=g.max(this.yp,t.yp),e=this.Tp(i,o_.Fp),r=t.Tp(i,o_.Fp);return new n(e.Ai+r.Ai,i)},i.vp=function(t){if(this.Uk()||p(t))return n.Cp;if(this.Xk()||!isFinite(t)){if(this.Kk()||0===t)return n.Cp;var i=this.xk()?n.Bp:n.Pp;return t<0?i.Lk():i}return this.Kk()?this:new n(0===t?BigInt(0):this.Ai*BigInt(t),this.yp)},i._p=function(t){if(this.Uk()||p(t))return n.Cp;if(this.Xk())return isFinite(t)?0===t?1/t<0?this.Lk():this:t<0?this.Lk():this:n.Cp;if(!isFinite(t))return new n(BigInt(0),this.yp);if(this.Kk())return 0===t?n.Cp:new n(BigInt(0),this.yp);if(0===t){var i=this.xk()?n.Bp:n.Pp;return 1/t<0?i.Lk():i}return new n(this.Ai/BigInt(t),this.yp)},i.zp=function(){var t=this.Vp();return[t.low,t.high,this.yp]},T(n,null,[{key:"qk",get:function(){return n.Wp||(n.Wp=new n(BigInt(0),1e6)),n.Wp}},{key:"Cp",get:function(){return n.Gp||(n.Gp=new n(BigInt(0),0)),n.Gp}},{key:"Pp",get:function(){return n.qp||(n.qp=new n(BigInt(1),0)),n.qp}},{key:"Bp",get:function(){return n.Yp||(n.Yp=new n(BigInt(-1),0)),n.Yp}}]),n}(t_);function h_(t){return t.Uk()?t:t.xk()?a_.Pp:a_.Bp}function c_(t,n){return t.Uk()||n.Uk()?a_.Cp:t.Xk()&&n.Xk()?t.xk()===n.xk()?t:a_.Cp:t.Xk()?t:n}a_.Wp=void 0,a_.Gp=void 0,a_.qp=void 0,a_.Yp=void 0,function(t){t[t.Xp=0]="Xp",t[t.Hp=1]="Hp",t[t.Fp=2]="Fp"}(o_||(o_={}));var f_=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?a_:r_;function l_(t,n){return t.Rk(n)}var v_=9e4,d_=g.pow(2,33),w_=f_.Wk(d_,v_),g_=w_._p(2);var m_,y_,p_,__,b_={jp:0,Qp:1/0,Zp:0},k_=6,A_=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],T_=[" ","\t","\n","\f","\r"],S_=/^\d*$/,E_=/.*[0-9]+.*/,I_=/^[\d.-]+$/,R_=/(^\.|\.$)/,C_=/(\D\.|\.\D)/;function D_(t,n){void 0===n&&(n=b_);var i={j_:[],Kp:[],Jp:[]},e=N_(t),r=new Jo;if(X_(e),P_(e,function(t){return"\n"!==t},r),r.Pu>=e.length)return i;(r.Bu(1),"\n"!==e.charAt(r.Pu))?L_(x_(e,r,!1,!0,i,n),i):r.Bu(1);for(P_(e,function(t){return"\n"===t},r);r.Pu<e.length;){L_(x_(e,r,!1,!1,i,n),i),P_(e,function(t){return"\n"===t},r)}return i}function N_(t){var n=bs(t,"\0"," "),i=bs(n,"\r\n","\n");return bs(i,"\r","\n")}function P_(t,n,i){for(var e=i.Pu;i.Pu<t.length&&n(t.charAt(i.Pu));)i.Bu(1);return t.substring(e,i.Pu)}function x_(t,n,e,r,s,u){for(var o,a=0,h=n.Pu,c="",f=!1,l=!1,v=null,d=null,w=null;!f;)if(o=P_(t,function(t){return"\n"!==t},n),a++,n.Pu>=t.length?f=!0:n.Bu(1),ks(o,"--\x3e")){if(r||1!==a&&(2!==a||l)){n.xu(h);break}l=!0,h=n.Pu,v=new Gp(0,0,"",!1,c);try{M_(o,s.Kp,v,u),c=""}catch(t){i.gr(t),v=null}}else{if(""===o)break;r&&As(o,"X-TIMESTAMP-MAP")&&(s.$p=B_(o)),r||2!==a||e||(Ss("STYLE",c.replace(/ /g,""))?(d={fs:Rp.My},c=""):Ss("REGION",c.replace(/ /g,""))&&(w=new Jp("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,h=n.Pu}if(v)return v.Gy=c,v;if(d);else if(w)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&ks(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":J_(o,n);break;case"WIDTH":ib(o,n);break;case"LINES":nb(o,n);break;case"REGIONANCHOR":var a=K_(o);a&&(n.gk=a[0],n.yk=a[1]);break;case"VIEWPORTANCHOR":var h=K_(o);h&&(n.bk=h[0],n.Ak=h[1]);break;case"SCROLL":tb(o,n)}}}}(c,w),w;return null}function B_(t){var n,i,e=t.split("=")[1].trim().split(","),r=O_(e[0].trim(),"MPEGTS")?e[0]:e[1],s=O_(e[0].trim(),"LOCAL")?e[0]:e[1];return{ib:(i=Number(r.split(/:(.*)/)[1].trim())||0,f_.Wk(i,v_)),eb:f_.Np(null!=(n=U_(s.split(/:(.*)/)[1].trim(),new Jo))?n:0)}}function O_(t,n){return As(t,n)}function L_(t,n){t&&function(t){return t.fs===Rp.xy}(t)?n.j_.push(t):t&&function(t){return t.fs===Rp.Ly}(t)?n.Kp.push(t):t&&function(t){return t.fs===Rp.My}(t)&&n.Jp.push(t)}function M_(t,n,i,e){var r=new Jo;if(V_(t,r),i.Vy=j_(U_(t,r),e),V_(t,r),"--\x3e"!==t.substring(r.Pu,r.Pu+3))throw l("Something went wrong with parsing a WebVTT Cue");r.Bu(3),V_(t,r),i.Wy=j_(U_(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&ks(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),a=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":$_(a,n,i);break;case"VERTICAL":Q_(a,n);break;case"D":Z_(a,n);break;case"LINE":case"L":q_(a,n);break;case"POSITION":case"T":G_(a,n);break;case"SIZE":case"S":Y_(a,n);break;case"ALIGN":case"A":W_(a,n)}}}}(t.substring(r.Pu,t.length),i,n)}function j_(t,n){return t+n.jp}function F_(t){return/^[0-9]$/.test(t)}function U_(t,n){var i,e,r,s=bs(t,",","."),u=!1;if(n.Pu>=s.length||!F_(s.charAt(n.Pu)))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");var o=P_(s,F_,n),a=m(o,10);if((o.length>2||a>59)&&(u=!0),n.Pu>=s.length||":"!==s.charAt(n.Pu))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var h=P_(s,F_,n);if(2!==h.length)throw new l("Something went wrong with parsing a WebVTT Cue timestamp");var c=m(h,10);if(u||n.Pu<s.length&&":"===s.charAt(n.Pu)){if(n.Pu>=s.length||":"!==s.charAt(n.Pu))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var f=P_(s,F_,n);if(2!==h.length)throw new l("Something went wrong with parsing a WebVTT Cue timestamp");i=a,e=c,r=m(f,10)}else i=0,e=a,r=c;if(n.Pu>=s.length||"."!==s.charAt(n.Pu))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var v=P_(s,F_,n),d=m(v,10);if(c>59||r>59)throw new l("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+d/1e3}function H_(t){return X_(N_(t))}function X_(t){if(t.length<k_)return!1;for(var n=0;n<A_.length;n++){if(As(t,A_[n]))return!0}return!1}function V_(t,n){for(;n.Pu<t.length&&(i=t.charAt(n.Pu),Qs(T_,i));)n.Bu(1);var i}function z_(t){var n=t.lastIndexOf("%");if(n>-1){var i=y(t.substring(0,n));if(!p(i)&&i>=0&&i<=100)return i}return null}function W_(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.qy=i;break;case"middle":n.qy="center"}}function q_(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),E_.test(i)){var s,u;if(Ts(i,"%")){var o=z_(i);if(null===o)return;s=o,u=!1}else{if(!I_.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!C_.test(i)||R_.test(i)))return;if(s=y(i),p(s))return;u=!0}switch(n.Yy=s,n.Jy=u,e=e.toLowerCase()){case"start":case"center":case"end":n.jy=e;break;case"middle":n.jy="center"}}}function G_(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var s=z_(i);if(null!==s)switch(n.Qy=s,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Zy=e;break;case"start":n.Zy="line-left";break;case"middle":n.Zy="center";break;case"end":n.Zy="line-right"}}function $_(t,n,i){var e=qs(i,function(n){return n.P_===t});void 0!==e&&(n.Ky=e)}function Y_(t,n){var i=z_(t);null!==i&&(n.Cu=i)}function Q_(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.$y="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.$y="lr";break;default:n.$y=""}}function Z_(t,n){"VERTICAL"===t.toUpperCase()?n.$y="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.$y="lr")}function K_(t){if(t.indexOf(",")>=0){var n=z_(t.substring(0,t.indexOf(","))),i=z_(t.substring(t.indexOf(",")+1,t.length));return[Ft(n||0,0,100),Ft(i||100,0,100)]}return null}function J_(t,n){n.P_=t}function tb(t,n){"up"===t.toLowerCase()&&(n.pk="up")}function nb(t,n){S_.test(t)&&(n._k=m(t))}function ib(t,n){var i=z_(t);null!==i&&(n.Tk=i)}!function(t){t.sb="moov",t.ub="mvhd",t.ob="trak",t.hb="tkhd",t.cb="mdia",t.fb="mdhd",t.vb="hdlr",t.wb="minf",t._b="stbl",t.gb="stsd",t.mb="stsc",t.yb="mvex",t.kb="trex",t.pb="avc1",t.bb="avcC",t.Ab="hev1",t.Tb="hvc1",t.Sb="hvcC",t.Eb="pasp",t.Ib="mp4a",t.Rb="esds",t.Db="wvtt",t.Nb="vttC",t.Cb="vlab",t.Pb="enca",t.Bb="encv",t.Ob="moof",t.xb="mfhd",t.Lb="traf",t.Mb="tfhd",t.Ub="trun",t.Xb="tfdt",t.Hb="senc",t.Fb="mdat",t.zb="pssh",t.Vb="emsg",t.Wb="sidx",t.Gb="styp",t.qb="ftyp",t.Yb="sinf",t.jb="frma"}(m_||(m_={})),function(t){t.wd="vide",t.dd="soun",t.Qb="subt",t.Zb="hint",t.Kb="meta",t.Jb="auxv"}(y_||(y_={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(p_||(p_={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(__||(__={}));var eb=function(){function t(t,n){this.Fi=void 0,this.$b=void 0,this.Fi=t,this.$b=n}var n=t.prototype;return n.tA=function(){return vo(this.Fi,this.$b)},n.nA=function(){return _o(this.Fi,this.$b)},n.iA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Pu,i);return n.Bu(2),e}(this.Fi,this.$b)},n.eA=function(){return ko(this.Fi,this.$b)},n.rA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Pu,i);return n.Bu(4),e}(this.Fi,this.$b)},n.sA=function(){return To(this.Fi,this.$b)},n.uA=function(t){return go(this.Fi,this.$b,t)},n.oA=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(ko(t,n));return e}(this.Fi,this.$b,t)},n.aA=function(t){return Eo(this.Fi,this.$b,t)},n.hA=function(){return Uo(this.Fi,this.$b)},n.cA=function(t){this.$b.Bu(t)},n.Lu=function(){return new t(this.Fi,this.$b.Lu())},t}();function rb(t,n){return t.fs===n}function sb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(rb(e,n))return e}}function ub(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];rb(r,n)&&i.push(r)}return i}var ob=function(t){function n(n,i){var e;return(e=t.call(this)||this).fA=n,e.vA=i,e}return E(n,t),T(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(nn),ab=function(){function t(){}return t.lA=function(n){var i=n.Fi,e=n.$b,r=t.dA(i,e,!1);if(!r.wA)throw new ob(e.Pu,r.Pi);return r.Pi},t.dA=function(n,i,e){for(var r=[];i.Pu<n.byteLength;){var s=t._A(n,i,e);if(!s.wA)return{wA:!1,Pi:r};r.push(s.gA)}return{wA:!0,Pi:r}},t.mA=function(n,i){var e=t._A(n,i,!1);if(!e.wA)throw new ob(i.Pu);return e.gA},t.yA=function(n,i){for(var e=n.Fi,r=n.$b;r.Pu<e.byteLength;){var s=t._A(e,r,!1);if(!s.wA)return;if(s.gA.fs===i)return s.gA}},t._A=function(n,i,e){var r=i.Pu,s=t.kA(n,i);if(!s.wA)return s;var u=s.pA,o=u.Cu;if(0===o){if(e)return i.xu(r),{wA:!1,bA:1/0};o=n.byteLength-r}var a=r+o;if(a>n.byteLength){var h=a;return i.xu(r),{wA:!1,bA:h}}var c={fs:u.fs,Pu:r,Fi:new eb(Wo(n,r,a),new Jo(u.AA))};return i.xu(a),{wA:!0,gA:c}},t.kA=function(t,n){var i=n.Pu;if(!yo(t,n,8))return{wA:!1,bA:n.Pu+8};var e=ko(t,n),r=Eo(t,n,4);if(1===e){if(!yo(t,n,8)){var s=n.Pu+8;return n.xu(i),{wA:!1,bA:s}}e=To(t,n).toNumber()}if("uuid"===r){if(!yo(t,n,16)){var u=n.Pu+16;return n.xu(i),{wA:!1,bA:u}}r=Eo(t,n,16)}return{wA:!0,pA:{fs:r,Cu:e,AA:n.Pu-i}}},t.TA=function(t,n,i){var e=t.Fi,r=t.$b,s=zo(Go(e),r.Pu,e.byteLength);return i&&(s=Zo(s)),r.Bu(s.byteLength),{fs:n,Fi:s}},t.SA=function(n,i,e){var r=lb(n.eA());return{fs:i,EA:r.version,IA:r.flags,Fi:t.TA(n,i,e).Fi}},t}();function hb(t,n){var i=cb(t,n);if(!i)throw new l("Missing "+n+" atom");return i}function cb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.fs===n)return e.Fi}}function fb(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.fs===n&&i.push(r.Fi)}return i}function lb(t){return{version:t>>24,flags:new co(16777215&t)}}var vb=function(){function t(){}return t.RA=function(n){for(var i=[],e=ab.lA(new eb(n,new Jo)),r=0;r<e.length;r++){var s=e[r],u=t.DA(s);u&&i.push(u)}return i},t.NA=function(t){return ab.dA(t,new Jo,!1).Pi.some(this.CA)},t.PA=function(n){return fb(ab.lA(new eb(n,new Jo)),m_.zb).map(t.BA)},t.OA=function(n){return fb(ab.lA(n.Fi),m_.zb).map(t.BA)},t.CA=function(t){return t.fs===m_.qb||t.fs===m_.Gb||t.fs===m_.sb||t.fs===m_.Ob||t.fs===m_.Fb||t.fs===m_.Wb||t.fs===m_.Vb},t.DA=function(n){switch(n.fs){case m_.sb:return t.xA(n.Fi);case m_.Ob:return t.LA(n.Fi,n.Pu);case m_.Fb:return t.MA(n.Fi);case m_.Wb:return t.UA(n.Fi);case m_.Vb:return t.XA(n.Fi)}},t.xA=function(n){var i=ab.lA(n),e=hb(i,m_.ub),r=fb(i,m_.ob),s=cb(i,m_.yb),u=t.HA(e),o=r.map(t.FA),a=s?t.zA(s):void 0;return{fs:m_.sb,pA:u,VA:o,WA:a}},t.HA=function(t){var n=lb(t.eA()),i=n.version,e=n.flags,r=1===i?t.sA():t.eA(),s=1===i?t.sA():t.eA(),u=t.eA(),o=1===i?t.sA():t.eA(),a=t.eA(),h=t.nA()>>8;t.cA(2),t.cA(8);var c=t.oA(9);t.cA(24);var f=t.eA();return{fs:m_.ub,EA:i,IA:e,GA:r,qA:s,yp:u,Hg:o,YA:a,Qg:h,jA:c,QA:f}},t.FA=function(n){var i=ab.lA(n),e=hb(i,m_.hb),r=hb(i,m_.cb),s=t.ZA(e),u=t.KA(r);return{fs:m_.ob,pA:s,JA:u}},t.ZA=function(t){var n=lb(t.eA()),i=n.version,e=n.flags,r=1===i?t.sA():t.eA(),s=1===i?t.sA():t.eA(),u=t.eA();t.cA(4);var o=1===i?t.sA():t.eA();t.cA(8);var a=t.iA(),h=t.iA(),c=t.iA()/g.pow(2,8);t.cA(2);var f=t.oA(9),l=t.eA()/g.pow(2,16),v=t.eA()/g.pow(2,16);return{fs:m_.hb,$A:e.Uu(1),tT:e.Uu(2),nT:e.Uu(4),GA:r,qA:s,iT:u,Hg:o,eT:a,rT:h,Qg:c,jA:f,Tk:l,sT:v}},t.KA=function(n){var i=ab.lA(n),e=hb(i,m_.fb),r=hb(i,m_.vb),s=hb(i,m_.wb),u=t.uT(e),o=t.oT(r),a=t.aT(s);return{fs:m_.cb,pA:u,hT:o,cT:a}},t.uT=function(t){var n=lb(t.eA()),i=n.version,e=n.flags,r=1===i?t.sA():t.eA(),s=1===i?t.sA():t.eA(),u=t.eA(),o=1===i?t.sA():t.eA();return t.nA(),t.cA(2),{fs:m_.fb,EA:i,IA:e,GA:r,qA:s,yp:u,Hg:o}},t.oT=function(t){var n=lb(t.eA()),i=n.version,e=n.flags;t.cA(4);var r=t.aA(4);t.cA(12);var s=t.hA();return{fs:m_.vb,EA:i,IA:e,fT:r,wi:s}},t.aT=function(n){var i=hb(ab.lA(n),m_._b),e=t.vT(i);return{fs:m_.wb,lT:e}},t.vT=function(n){var i=hb(ab.lA(n),m_.gb),e=t.dT(i);return{fs:m_._b,wT:e}},t.dT=function(n){var i=lb(n.eA()),e=i.version,r=i.flags;n.eA();for(var s=[],u=ab.lA(n),o=0;o<u.length;o++){var a=u[o],h=t._T(a.Fi,a.fs);h&&s.push(h)}return{fs:m_.gb,EA:e,IA:r,gT:s}},t._T=function(n,i){var e=t.mT(n,i);return e||((e=t.yT(n,i))||(i===m_.Db?t.kT(n):void 0))},t.mT=function(n,i){return i===m_.Ib?t.pT(n):i===m_.Pb?t.bT(n):void 0},t.yT=function(n,i){return i===m_.pb?t.AT(n):i===m_.Ab||i===m_.Tb?t.TT(n,i):i===m_.Bb?t.ST(n):void 0},t.ET=function(t,n){return t.cA(6),{fs:n,IT:t.nA()}},t.RT=function(n,i){var e=t.ET(n,i);n.cA(8);var r=n.nA(),s=n.nA();return n.cA(2),n.cA(2),Ur({},e,{DT:r,NT:s,CT:n.eA()>>>16})},t.PT=function(n,i){var e=t.ET(n,i);n.cA(2),n.cA(2),n.cA(12);var r=n.nA(),s=n.nA(),u=n.eA(),o=n.eA();n.cA(4);var a=n.nA();n.cA(32);var h=n.nA();return n.cA(2),Ur({},e,{Tk:r,sT:s,BT:u,OT:o,xT:a,LT:h})},t.pT=function(n){var i=t.RT(n,m_.Ib),e=hb(ab.lA(n),m_.Rb);return Ur({},i,{MT:t.UT(e)})},t.kT=function(n){var i=t.ET(n,m_.Db),e=ab.lA(n),r=hb(e,m_.Nb),s=t.XT(r),u=cb(e,m_.Cb);return Ur({},i,{HT:s,FT:u?t.zT(u):u})},t.XT=function(t){return{fs:m_.Nb,rc:t.hA()}},t.zT=function(t){return{fs:m_.Cb,x_:t.hA()}},t.UT=function(t){return ab.SA(t,m_.Rb,!0)},t.AT=function(n){var i=t.PT(n,m_.pb),e=ab.lA(n),r=hb(e,m_.bb),s=cb(e,m_.Eb);return Ur({},i,{VT:t.WT(r),GT:s?t.qT(s):void 0})},t.TT=function(n,i){var e=t.PT(n,i),r=hb(ab.lA(n),m_.Sb);return Ur({},e,{YT:t.jT(r)})},t.ST=function(n){var i=n.Lu(),e=t.PT(n,m_.Bb),r=hb(ab.lA(n),m_.Yb),s=t.QT(r);return Ur({},e,{ZT:t.yT(i,s.JT.KT),$T:s})},t.bT=function(n){var i=n.Lu(),e=t.RT(n,m_.Pb),r=hb(ab.lA(n),m_.Yb),s=t.QT(r);return Ur({},e,{ZT:t.mT(i,s.JT.KT),$T:s})},t.QT=function(n){var i=hb(ab.lA(n),m_.jb),e=t.tS(i);return{fs:m_.Yb,JT:e}},t.tS=function(t){var n=t.aA(4);return{fs:m_.jb,KT:n}},t.WT=function(t){return ab.TA(t,m_.bb,!0)},t.jT=function(t){return ab.TA(t,m_.Sb,!0)},t.qT=function(t){var n=t.eA(),i=t.eA();return{fs:m_.Eb,nS:n,iS:i}},t.zA=function(n){var i=fb(ab.lA(n),m_.kb).map(t.eS);return{fs:m_.yb,VA:i}},t.eS=function(t){var n=lb(t.eA()),i=n.version,e=n.flags,r=t.eA(),s=t.eA(),u=t.eA(),o=t.eA(),a=t.eA();return{fs:m_.kb,EA:i,IA:e,iT:r,rS:s,sS:u,uS:o,oS:a}},t.LA=function(n,i){var e=ab.lA(n),r=hb(e,m_.xb),s=fb(e,m_.Lb),u=t.aS(r),o=s.map(t.hS);return{fs:m_.Ob,cS:i,pA:u,VA:o}},t.aS=function(t){var n=lb(t.eA()),i=n.version,e=n.flags,r=t.eA();return{fs:m_.xb,EA:i,IA:e,fS:r}},t.hS=function(n){var i=ab.lA(n),e=hb(i,m_.Mb),r=fb(i,m_.Ub),s=cb(i,m_.Xb),u=t.vS(e),o=r.map(function(n){return t.lS(n,u)}),a=s?t.dS(s):void 0;return{fs:m_.Lb,pA:u,wS:o,_S:a}},t.vS=function(t){var n=lb(t.eA()),i=n.version,e=n.flags,r=t.eA(),s=e.Uu(p_.BASE_DATA_OFFSET_PRESENT)?t.sA():void 0,u=e.Uu(p_.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.eA():void 0,o=e.Uu(p_.DEFAULT_SAMPLE_DURATION_PRESENT)?t.eA():void 0,a=e.Uu(p_.DEFAULT_SAMPLE_SIZE_PRESENT)?t.eA():void 0,h=e.Uu(p_.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.eA():void 0;return{fs:m_.Mb,EA:i,IA:e,iT:r,gS:s,mS:u,sS:o,uS:a,oS:h}},t.lS=function(n,i){for(var e=lb(n.eA()),r=e.version,s=e.flags,u=n.eA(),o=s.Uu(__.DATA_OFFSET_PRESENT)?n.rA():void 0,a=s.Uu(__.FIRST_SAMPLE_FLAGS_PRESENT)?n.eA():void 0,h=[],c=0;c<u;c++){var f=t.yS(n,s,r,i);0===c&&void 0!==a&&(f.IA=a),h.push(f)}return{fs:m_.Ub,EA:r,IA:s,kS:u,cS:o,pS:a,bS:h}},t.yS=function(t,n,i,e){return{Hg:n.Uu(__.SAMPLE_DURATION_PRESENT)?t.eA():e.sS,Cu:n.Uu(__.SAMPLE_SIZE_PRESENT)?t.eA():e.uS,IA:n.Uu(__.SAMPLE_FLAGS_PRESENT)?t.eA():e.oS,AS:n.Uu(__.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.eA():t.rA():void 0}},t.XA=function(t){var n=t.Fi,i=t.$b,e=lb(ko(n,i)),r=e.version,s=e.flags;if(1===r){var u=ko(n,i),o=To(n,i),a=ko(n,i),h=ko(n,i),c=So(n,i),f=So(n,i),l=Qo(Go(n),i.Pu,n.byteLength);return i.Bu(l.byteLength),{fs:m_.Vb,EA:r,IA:s,TS:c,Ai:f,yp:u,SS:o,ES:a,P_:h,IS:l}}var v=So(n,i),d=So(n,i),w=ko(n,i),g=ko(n,i),m=ko(n,i),y=ko(n,i),p=Qo(Go(n),i.Pu,n.byteLength);return i.Bu(p.byteLength),{fs:m_.Vb,IA:s,EA:r,TS:v,Ai:d,yp:w,RS:g,ES:m,P_:y,IS:p}},t.MA=function(t){return ab.TA(t,m_.Fb,!1)},t.BA=function(n){var i=n.Fi,e=n.$b,r=Zo(Go(i)).buffer,s=lb(ko(i,e)),u=s.version,o=s.flags,a=t.DS(i,e),h=[];if(u>0)for(var c=ko(i,e),f=0;f<c;f++){var l=go(i,e,16);h.push(l)}var v=ko(i,e),d=new _(r,e.Pu,v);return e.Bu(i.byteLength),{fs:m_.zb,EA:u,IA:o,NS:a,CS:h,PS:v,Fi:d,OS:r}},t.DS=function(t,n){for(var i="",e=0;e<4;e++){var r=vo(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=vo(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var a=vo(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var h=0;h<2;h++){var c=vo(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var l=vo(t,n).toString(16);i+=1===l.length?"0"+l:l}return i.toLowerCase()},t.UA=function(t){var n,i,e=t.Fi,r=t.$b,s=lb(ko(e,r)),u=s.version,o=s.flags,a=ko(e,r),h=ko(e,r);0===u?(n=vt.fromBits(ko(e,r),0,!0),i=vt.fromBits(ko(e,r),0,!0)):(n=To(e,r),i=To(e,r)),r.Bu(2);for(var c=_o(e,r),f=[],l=0;l<c;l+=1){var v=ko(e,r),d=v>>31&1,w=2147483647&v,g=ko(e,r),m=ko(e,r),y=m>>31&1,p=m>>28&7,_=268435455&m;f.push({xS:d,LS:w,Hg:g,MS:y,US:p,XS:_})}return{fs:m_.Wb,EA:u,IA:o,HS:a,yp:h,FS:n,zS:i,VS:c,WS:f}},t.dS=function(t){var n,i=t.Fi,e=t.$b,r=lb(ko(i,e)),s=r.version,u=r.flags;return n=0===s?vt.fromBits(ko(i,e),0,!0):To(i,e),{fs:m_.Xb,EA:s,IA:u,_S:n}},t}();function db(t){return t&&"Ci"in t?t.Ci:t}var wb=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this,n,i,e,r)||this).GS=void 0,a.qS=void 0,a.YS=void 0,a.GS=s,a.qS=u,a.YS=o||void 0,a}return E(n,t),n.prototype.lk=function(n){return this===n||!!Am(this,n)&&(!!t.prototype.lk.call(this,n)&&(!!km(this.jS,n.jS)&&(!!km(this.Kp,n.Kp)&&(this.QS&&n.QS?!!this.QS.ai(n.QS)&&(this.Gy&&n.Gy?this.Gy.ai(n.Gy):this.Gy===n.Gy):this.QS===n.QS))))},T(n,[{key:"jS",get:function(){return this.GS}},{key:"Kp",get:function(){return this.qS}},{key:"QS",get:function(){return this.YS}},{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=_m(jp(t=this),{get styles(){return t.jS},get regions(){return t.Kp},get metadata(){return db(t.QS)},get content(){return db(t.Gy)}})),this.Ww}}]),n}(Wp),gb=function(){function t(t,n,i){this.il=void 0,this.ZS=void 0,this.KS=void 0,this.ZS=t,this.KS=n,Zt(i)?this.il=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.xi(s)}return i}(0,0,i):this.il=i}return T(t,[{key:"JS",get:function(){return this.il.ci(!0)}},{key:"Vy",get:function(){return this.ZS}},{key:"Wy",get:function(){return this.KS}}]),t}();var mb="http://www.w3.org/XML/1998/namespace";function yb(t,n,i,e){var r=t.Di(i,n);return 0===r.length&&(r=t.Ei(e+":"+n)),r}function pb(t,n){return function(t,n){var i=t.Pi.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Pi)}return e}(t,function(t){return t.Ri===n})}function _b(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function bb(t,n){for(var i=t.Xi,e={},r=0;r<i.length;r++)e[_b(i[r].wi,n)]=i[r].Ai;return e}var kb=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Ab=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Tb="http://www.w3.org/ns/ttml";function Sb(t,n,i,e){void 0===i&&(i=b_),void 0===e&&(e=Uc.APPLICATION_TTML_XML);var r=[],s=qo(t);return e===Uc.APPLICATION_MP4?r=function(t,n,i){var e=sb(vb.RA(t),m_.Fb);if(!e)return[];return Rb(qo(e.Fi),n,i)}(s,n,i):e===Uc.APPLICATION_TTML_XML&&(r=Rb(s,n,i)),r}function Eb(t,n,i){return void 0===i&&(i=b_),Cb(t,n,i)}function Ib(t,n){for(var i=function t(n){var i=[];var e;if(Zt(n)){(e=n.Bi("region"))&&i.push(e);for(var r=n.Ii,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.JS),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function Rb(t,n,i){return Cb(Vo(t,new Jo),n,i)}function Cb(t,n,e){var r,s=[];try{r=i.ui(t)}catch(t){return s}var u=r.zi;if("tt"!==u.di)return s;var o=u&&u.Di(Tb,"head")[0],a=u&&u.Di(Tb,"body")[0],h=["ebutts","tts","xml"];if(!a||!o)return s;for(var c=function(t,n){for(var i={},e=t.Di(Tb,"styling")[0],r=e&&e.Di(Tb,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.Oi(mb,"id");i[o]=bb(u,n)}return i}(o,h),f=function(t,n){var i=bm(t),e=Pb(n.Bi("tts:extent"));if(!e)return i;for(var r=0,s=w.keys(i);r<s.length;r++){var u=s[r],o=Pb(i[u].extent);if(o){var a=Db(o[0],e[0]),h=Db(o[1],e[1]);i[u].extent=a+" "+h}var c=Pb(i[u].origin);if(c){var f=Db(c[0],e[0]),l=Db(c[1],e[1]);i[u].origin=f+" "+l}}return i}(function(t,n){for(var i={},e=t.Di(Tb,"layout")[0],r=e&&e.Di(Tb,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.Oi(mb,"id");if(o){i[o]=bb(u,n);var a=Ob(u,n);for(var h in a)F.call(a,h)&&(i[o][h]=a[h])}}return i}(o,h),u),l=o.Di(Tb,"metadata")[0],v=function t(n,i,e,r){var s=i;var u;var o=e;var a=[];var h=[];if(Zt(n)){var c,f;s=null!=(c=Bb(n.Bi("begin"),r))?c:s,u=Bb(n.Bi("dur"),0),o=null!=(f=Bb(n.Bi("end"),r))?f:void 0!==u?s+u:o;for(var l=n.Ii,v=0;v<l.length;v++)("body"===n.di||"div"===n.di)&&l[v].Kn>1||(a=a.concat(t(l[v],s,o,r)))}var d=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.Vy,s.Wy)}e.sort(Xs);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(Ys(e,o+1),o--,u=e.length);return e}(s,o,a);for(var w=0;w<d.length-1;w++){var g=xb(d[w],d[w+1],a);if(g.length<=0&&Lb(n)){var m=n.ci(!1);h.push(new gb(d[w],d[w+1],m))}else g.length>0&&function(){var t=n.ci(!1);g.forEach(function(n){return t.Ni(n.JS)}),h.push(new gb(d[w],d[w+1],t))}()}return h}(a,e.jp,e.Qp,e.Zp),d=0;d<v.length;d++){var g=v[d],m=Ib(f,g);s.push(new wb(g.Vy,g.Wy,g.JS,!1,c,m,l))}return s}function Db(t,n){var i=Nb(t),e=Nb(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return p(r)||p(s)?t:r/s*100+"%"}return t}function Nb(t){return Ts(t,"px")?"px":Ts(t,"em")?"em":Ts(t,"c")?"c":Ts(t,"%")?"%":void 0}function Pb(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function xb(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].Vy,u=i[r].Wy;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function Bb(t,n){if(t){if(kb.test(t)){var i=kb.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*g.pow(.1,u.length):0)+n}if(Ab.test(t)){var o=Ab.exec(t);if(!o)return;var a,h=Number(o[1]);switch(o[4]){case"h":a=3600*h;break;case"m":a=60*h;break;case"s":a=h;break;case"ms":a=.001*h;break;case"f":case"t":default:a=NaN}return a+n}}}function Ob(t,n){for(var i={},e=t.Ei("style")||[],r=0;r<e.length;r++){var s=bb(e[r],n);for(var u in s)F.call(s,u)&&(i[u]=s[u])}return i}function Lb(t){if(Zt(t)){var n=t.di.toUpperCase(),i=Boolean(t.Bi("smpte:backgroundImage"));return"BR"===n||i}return t.Kn===$t.$n}function Mb(t){var n=function(t){try{return i.ui(t).zi}catch(t){}}(t);return"tt"===(null==n?void 0:n.di)}var jb,Fb=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.g_=function(n){return t.prototype.g_.call(this,n)},i.m_=function(n){var i=t.prototype.m_.call(this,n);return i&&(n.W_=Mm.X_),i},i.qw=function(){return zm(this)},n}(vm);!function(t){t.Qb="subtitles",t.$S="captions",t.tE="descriptions",t.nE="chapters",t.Kb="metadata",t.iE="thumbnails"}(jb||(jb={}));var Ub=[jb.Qb,jb.$S,jb.tE,jb.nE,jb.Kb,jb.iE];function Hb(t){return"string"==typeof t&&Qs(Ub,t)}var Xb,Vb=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return E(n,t),n}(lf);function zb(t){return t instanceof Aw}function Wb(t){return t instanceof Sw}function qb(t){return t===jb.Qb||t===jb.$S}function Gb(t){return ks(t,Xb.eE)}function $b(t){return t.some(Yb)}function Yb(t){return ks(t,Xb.rE)||ks(t,Xb.Db)}function Qb(t,n){return Hc(t)&&$b(n)}function Zb(t,n){return!!t&&(Hc(t)?function(t){return t.some(Gb)}(n)||$b(n):ks(t,Uc.APPLICATION_TTML_XML)||ks(t,Uc.TEXT_VTT)||ks(t,Uc.IMAGE_JPEG))}function Kb(t,n){return t===jb.iE||t===jb.Kb&&n===jb.iE}function Jb(t,n,i,e){for(var r=0,s=t.j_.p_;r<s.length;r++){var u=s[r];if(u.Vy>i)break;n<=u.Wy&&e.push(u)}}function tk(t,n){return Hs(t.B_,n.B_)}function nk(t,i){var e=i,r=0;if(zb(t)&&t.name===pw.Bd)e=t.Yl.Ql;else if(Wb(t)){var s=t.Ud;if(e=s.jl,0===(r=s.zl))return new Vb(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Vb(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function ik(t,i,e,r){var s=function(t){switch(t){case Ip.WEBVTT:return"WebVTT";case Ip.SRT:return"SRT";case Ip.TTML:return"TTML";default:return""}}(t);return new Vb(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function ek(t){return H_(t)?Ip.WEBVTT:Mb(t)?Ip.TTML:Ip.SRT}function rk(t,n){for(var i=[],e=0,r=t.j_.p_;e<r.length;e++){var s=r[e];if(s.Wy<=n)i.push(s);else if(s.Vy>=n)break}for(var u=0;u<i.length;u++){var o=i[u];t.sE(o)}}!function(t){t.rE="vtt",t.Db="wvtt",t.eE="stpp"}(Xb||(Xb={}));var sk=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).VA=new Fb,n.uE=function(t){var i=t.Yw;n.oE(i)},n}E(n,t);var i=n.prototype;return i.g_=function(t){t.Zs(um.r_,this.uE),this.VA.g_(t),this.oE(t)},i.m_=function(t){t.tu(um.r_,this.uE),t.W_=Mm.X_,this.VA.m_(t)},i.aE=function(t){},i.hE=function(t){},i.oE=function(t){t.W_!==Mm.X_?this.aE(t):this.hE(t)},i.cE=function(){for(var t=0,n=this.VA.p_;t<n.length;t++){var i=n[t];i.tu(um.r_,this.uE),i.Sd()}},i.fE=function(t){if(t>0)for(var n=0,i=this.VA.p_;n<i.length;n++){rk(i[n],t)}},i.k_=function(){return this.cE(),this.VA.k_(),qe.resolve()},i.Sd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.next=3,Fr.awrap(this.k_());case 3:this.VA.Sd();case 4:case"end":return t.stop()}},null,this,null,qe)},n}(Su),uk=function(t){function n(n){var i;return(i=t.call(this,jm.z_)||this).errorObject=n,i}return E(n,t),n.prototype.qw=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(rm),ok=function(t){function n(n,i){var e;return(e=t.call(this)||this).vE=void 0,e.lE=void 0,e.dE=new au,e.vE=n,e.lE=i,e}E(n,t);var i=n.prototype;return i.wE=function(t){if(t.src){var n=t.kind||jb.Qb,i=this.vE._E(n,t.id,t.label,t.srclang,t.default);return i.Z_=yw(t.src),this.g_(i),i}},i.gE=function(t,n){var i,e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return t.Y_=Ep.LOADING,i=new dw({Ql:t.Z_,Wl:xf.$n,md:hw.GET,Ws:n}),l.prev=2,l.next=5,Fr.awrap(this.lE.Yl(i));case 5:return s=l.sent,r=s.zl,l.next=9,Fr.awrap(s.El());case 9:e=l.sent,l.next=18;break;case 12:return l.prev=12,l.t0=l.catch(2),lu(l.t0),t.Y_=Ep.ERROR,t.Qs(new uk(nk(l.t0,t.Z_))),l.abrupt("return");case 18:for(l.prev=18,u=ek(e),t.fs=u,o=[],u===Ip.WEBVTT||u===Ip.SRT?(a=D_(e),o=a.j_):u===Ip.TTML&&(o=Eb(e,t)),h=0,c=o;h<c.length;h++)f=c[h],t.mE(f);l.next=32;break;case 26:return l.prev=26,l.t1=l.catch(18),lu(l.t1),t.Y_=Ep.ERROR,t.Qs(new uk(ik(t.fs,t.Z_,r,l.t1))),l.abrupt("return");case 32:t.Y_=Ep.LOADED;case 33:case"end":return l.stop()}},null,this,[[2,12],[18,26]],qe)},i.aE=function(t){Qs(this.VA.p_,t)&&t.Y_===Ep.NONE&&this.gE(t,this.dE.Ws).catch(vu)},i.jh=function(){},i.k_=function(){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.dE.Fs(),this.dE=new au,n=0,i=this.VA.p_;n<i.length;n++)e=i[n],this.vE.yE(e);return r.next=5,Fr.awrap(t.prototype.k_.call(this));case 5:case"end":return r.stop()}},null,this,null,qe)},n}(sk);function ak(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.O_===n&&e.kE)return e}}function hk(t,n){ck(ak(t.p_,n))}function ck(t){void 0!==t&&(t.W_=Mm.F_)}function fk(t,n){ck(ak(t.p_,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.O_===n)return e}}(t.p_,n))}function lk(t){for(var n=0;n<Ub.length;n++){var i=Ub[n];i===jb.nE?fk(t,i):hk(t,i)}}var vk,dk=function(t){function n(){return t.call(this,Pf.Cf)||this}return E(n,t),n}(Iu);!function(t){t[t.pE=0]="pE",t[t.bE=1]="bE"}(vk||(vk={}));var wk=t,gk=wk.MediaSource,mk=wk.WebKitMediaSource,yk=wk.TextTrack,pk=s&&s.createElement("video");s&&s.documentElement.style;var _k=j.qt&&j.xn&&j.Ln<=26;j.dn;var bk=!(!gk&&!mk),kk=!!yk;s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||j.hn,j.Cn&&j.Pn,pk&&pk.canPlayType&&(""!==pk.canPlayType("application/vnd.apple.mpegURL")||j.Qt&&!j.Cn&&j.Zt);pk&&pk.canPlayType&&pk.canPlayType("video/mp4");var Ak=bk&&!j.Bn&&!j.Rn&&!j.In&&((gk||mk).isTypeSupported?(gk||mk).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):pk&&pk.canPlayType&&""!==pk.canPlayType('audio/mp4; codecs="mp4a.40.34"'));bk&&!j.Bn&&(Ak||((gk||mk).isTypeSupported?(gk||mk).isTypeSupported("audio/mpeg"):pk&&pk.canPlayType&&pk.canPlayType("audio/mpeg"))),bk&&(!j.Nn||!j.qt)&&(gk||mk).isTypeSupported&&(gk||mk).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),j.Bn||j.Rn||j.In,j.Dn,j.Bn,j.Rn&&j.Yt&&j.jt;try{r&&r.top!==r.self}catch(t){!0}var Tk=function(t){function n(n){var i;return(i=t.call(this,_y.Mg)||this).currentTime=n,i}return E(n,t),n}(Iu),Sk=function(t){function n(n){var i;return(i=t.call(this,_y.Ug)||this).currentTime=n,i}return E(n,t),n}(Iu),Ek=[_y.u_,_y.Ug,Pf.If,Pf.Ef],Ik=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).AE=ey.Rg,e.TE=!0,e.SE=!1,e.EE=!1,e.IE=function(t){var n=e.RE.Y_;n!==e.AE&&e.Qs(new My(t.currentTime,n)),n===ey.Rg&&(e.SE=!1,e.EE=!1),e.DE(n),e.NE(n),e.CE(n),e.maybeDispatchCanPlayThroughEvent(n),e.PE(n),e.BE(n),e.AE=n},e.OE=function(){e.BE(e.AE),e.PE(e.AE),e.TE=e.RE.Wg},e.xE=function(){e.TE=e.RE.Wg},e.LE=function(t){e.Qs(new Sk(t.currentTime))},e.RE=n,e.ME=i,e.RE.Zs(_y.u_,e.IE),e.RE.Zs(Pf.If,e.OE),e.RE.Zs(Pf.Ef,e.xE),e.ME&&e.RE.Zs(_y.Ug,e.LE),e}E(n,t);var i=n.prototype;return i.DE=function(t){!this.EE&&t>=ey.Dg&&(this.EE=!0,this.Qs(new Ey(this.RE.Xg,t)))},i.NE=function(t){!this.SE&&t>=ey.Ng&&(this.SE=!0,this.Qs(new Ny(this.RE.Xg,t)))},i.PE=function(t){this.ME||(t>=ey.Cg&&this.AE<ey.Cg&&!this.RE.Wg||this.UE&&t>=ey.Cg)&&this.Qs(new Sk(this.RE.Xg))},i.BE=function(t){!this.XE(t)||this.RE.Fg||this.RE.mu||this.Qs(new Tk(this.RE.Xg))},i.CE=function(t){this.AE<=ey.Ng&&t>=ey.Cg&&this.Qs(new Oy(this.RE.Xg,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===ey.Pg&&this.Qs(new Ly(this.RE.Xg,t))},i.XE=function(t){var n=!this.RE.Wg&&t<=ey.Ng,i=!this.TE&&this.AE<=ey.Ng;return n&&!i},i.k_=function(){this.AE=ey.Rg,this.TE=!0,this.SE=!1,this.EE=!1},i.Sd=function(){this.$s(),this.ME&&this.RE.tu(_y.Ug,this.LE),this.RE.tu(Pf.If,this.OE),this.RE.tu(Pf.Ef,this.xE),this.RE.tu(_y.u_,this.IE)},T(n,[{key:"UE",get:function(){return!this.RE.Wg&&this.TE}}]),n}(Su),Rk=function(t){function n(n){var i;return(i=t.call(this)||this).RE=n,i.RE.Zs(Ek,i.js),i}return E(n,t),n.prototype.xs=function(){this.$s(),this.RE.tu(Ek,this.js)},T(n,[{key:"Xg",get:function(){return this.RE.Xg}},{key:"Fg",get:function(){return this.RE.Fg}},{key:"mu",get:function(){return this.RE.mu}},{key:"Wg",get:function(){return this.RE.Wg}},{key:"Y_",get:function(){return this.RE.Y_}}]),n}(Su),Ck="titanium",Dk="conax",Nk="ezdrm",Pk="irdeto",xk="vudrm",Bk="verimatrix",Ok="keyos",Lk="drmtoday",Mk="expressplay",jk="azure",Fk="xstream",Uk="vimond",Hk="axinom",Xk="uplynk",Vk="comcast",zk="custom",Wk=function(){function t(t,n,i,e,r){this.ec=void 0,this.HE=void 0,this.FE=void 0,this.zE=void 0,this.lE=void 0,this.VE=void 0,this.WE=void 0,this.ec=t,this.HE=n,this.FE=i,this.lE=e,this.WE=r,this.zE=this.GE(n)}var e=t.prototype;return e.qE=function(){return this.VE},e.YE=function(t){this.VE=t},e.jE=function(){return this.zE.licenseAcquisitionURL||this.qE()},e.QE=function(t){return qe.resolve()},e.ZE=function(t,n){return qe.resolve(void 0)},e.KE=function(t,i,e,r){var s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(s=this.JE(t,i,e,r)).Ql){o.next=3;break}throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,Fr.awrap(this.Xw.Yl(s));case 6:return u=o.sent,o.next=9,Fr.awrap(u.Il(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),lu(o.t0),o.next=17,Fr.awrap(this.$E(o.t0,s.Ql,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],qe)},e.JE=function(t,n,i,e){var r=this.tI().jf(),s=this.bd,u={Ql:this.nI(),Wl:n,Vl:r,Cl:t,bd:s,md:hw.POST,yd:0,Ws:e,fs:cw.td,kd:i};return new dw(u)},e.iI=function(t,n){return qe.resolve(t)},e.eI=function(t,n,i,e){return qe.resolve(t)},e.tI=function(){return new Bf(this.zE.headers||{})},e.$E=function(t,i,e){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new up(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,qe)},e.nI=function(t,n){var e=n,r=this.zE.queryParameters;if(!e){var s=this.jE();if(!s)return"";e=s}if(r||t){var u=i.Br(e);t&&mw(u,t),r&&mw(u,r),e=u.href}return e},e.rI=function(t,n){return qk(t)},e.sI=function(t){return new _(t)},e.uI=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Fr.awrap(this.rI(t,i));case 2:return e=u.sent,u.next=5,Fr.awrap(this.KE(e,this.WE,n,i));case 5:return r=u.sent,s=this.sI(r),u.abrupt("return",s);case 8:case"end":return u.stop()}},null,this,null,qe)},e.Sd=function(){},T(t,[{key:"Xw",get:function(){return this.lE}},{key:"oI",get:function(){return!1}},{key:"aI",get:function(){var t=this.zE.certificate;if(t)return G(t)?Xu(t):Yo(t)}},{key:"hI",get:function(){return!1}},{key:"bd",get:function(){return Boolean(this.zE.useCredentials)}}]),t}();function qk(t){return qe.resolve(Zo(t).buffer)}var Gk,$k,Yk=function(t){function n(n,i,e,r){return t.call(this,ws,n,i,e,r)||this}E(n,t);var i=n.prototype;return i.GE=function(t){return t.widevine||{}},i.cI=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.aI){i.next=2;break}return i.abrupt("return",this.aI);case 2:return i.abrupt("return",this.fI(new _(t),n));case 3:case"end":return i.stop()}},null,this,null,qe)},i.fI=function(n,i){return t.prototype.uI.call(this,n,fw.od,i)},n}(Wk);function Qk(t,n){if(null==t)return{};var i,e,r={},s=w.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function Zk(t){return H(t.token&&t.deviceId)}function Kk(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&H(i.PreAuthorization)}function Jk(t){var n=t;return Zk(n)&&""!==n.token&&""!==n.deviceId&&!Kk(n)}($k=Gk||(Gk={})).vI=!1,$k.lI=!1,$k.dI=!1,$k.wI=!1,$k.LOG_ADS_DETAILS=!1,$k.LOG_CHROMECAST_DETAILS=!1,$k.LOG_CUSTOM_DRM=!1,$k.LOG_BUFFERING_VIDEO_MAIN=!1,$k.LOG_BUFFERING_VIDEO_SELECTION=!1,$k.LOG_BUFFERING_AUDIO_MAIN=!1,$k.LOG_BUFFERING_AUDIO_SELECTION=!1,$k._I=!1,$k.gI=!1,$k.LOG_LCEVC_DETAILS=!1;var tA,nA=function(){function t(t,n,i){this.mI=t,this.Vh=n,this.yI=i}return t.prototype.kI=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.yI.build(t))},T(t,[{key:"pI",get:function(){return this.mI}},{key:"ec",get:function(){return this.Vh}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(tA||(tA={}));var iA=function(){function t(){this.bI=[]}var e=t.prototype;return e.registerContentProtectionIntegration=function(t,e,r){switch(this.AI(t,e,r)){case tA.FAILED:throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+e+".");case tA.OVERRIDDEN:var s=bA(e);i.gr("Warning: Overwriting an earlier registered integration for "+t+" and "+s+".");break;case tA.SUCCEEDED:bA(e);0}},e.AI=function(t,n,i){var e=bA(n);if(!e)return tA.FAILED;for(var r=tA.SUCCEEDED,s=0,u=this.bI.slice();s<u.length;s++){var o=u[s];o.pI===t&&o.ec===e&&(r=tA.OVERRIDDEN,$s(this.bI,o))}return this.bI.push(new nA(t,e,i)),r},e.TI=function(t,n){return void 0!==this.SI(t,n)},e.EI=function(t,n,i){var e=this.SI(t,n);if(!e)throw l("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.kI(i)},e.SI=function(t,n){for(var i=0,e=this.bI;i<e.length;i++){var r=e[i];if(r.pI===t&&(!n||r.ec===n))return r}},t}();iA.II=new iA;var eA=["customdata"],rA={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function sA(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters;return!(n||i||e||r||s||u)}function uA(t){return t&&void 0!==t.licenseAcquisitionURL}var oA,aA=uA,hA=uA;function cA(t){if(!t)return!0;if(dA(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return sA(n)&&sA(i)&&sA(e)&&sA(r)&&sA(s)}function fA(t){var n=Jk(t),i=function(t){var n,i=t;return Kk(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Zk(i)}(t);return(!n||!i)&&(n||i)}function lA(t){return t.integration===Pk}function vA(t){var n=t;if(!n)return!1;if(cA(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(dA(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!aA(e))return!1;if(r&&!hA(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(iA.II.TI(n.integration))return!0;switch(n.integration){case Ck:if(!function(t){return t.integration===Ck&&(wA(t)||gA(t))}(t))return!1;break;case xk:if(!mA(t))return!1;break;case Bk:if(!function(t){return t.integration===Bk}(t))return!1;break;case Pk:if(!lA(t))return!1;break;case Dk:if(!fA(t))return!1;break;case Nk:if(!function(t){return t.integration===Nk}(t))return!1;break;case Ok:if(!dA(t))return!1;break;case Lk:if(!function(t){var n=t;return n.integration===Lk&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Mk:if(!function(t){return t.integration===Mk}(t))return!1;break;case Fk:if(!yA(t))return!1;break;case Uk:if(!function(t){return t.integration===Uk}(t))return!1;break;case Hk:if(!pA(t))return!1;break;case jk:if(!function(t){var n=t;return n.integration===jk&&void 0!==n.token}(t))return!1;break;case Xk:if(!function(t){return t.integration===Xk}(t))return!1;break;case Vk:if(!function(t){var n=t;return n&&H(n.releasePid)&&H(n.accountId)&&H(n.token)}(t))return!1;break;case zk:return!0;default:return!1}}return!0}function dA(t){return t.integration===Ok}function wA(t){return void 0!==t.authToken}function gA(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function mA(t){var n=t;return n.integration===xk&&void 0!==n.token}function yA(t){var n=t;return n&&n.integration===Fk&&G(n.ticketAcquisitionURL)&&G(n.streamId)}function pA(t){var n=t;return n.integration===Hk&&void 0!==n.token}function _A(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:rA[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,a=o?{customData:o}:{},h=Ur({},null!=(r=null==s?void 0:s.headers)?r:{},a),c=null!=s?s:{};return c.customdata,Ur({},Qk(c,eA),{licenseAcquisitionURL:u,headers:h})}function bA(t){switch(t.toLowerCase()){case"widevine":case os:return os;case"playready":case rs:return rs;case"fairplay":case fs:return fs}}function kA(t,i){switch(t){case ts:return function(t){for(var n={},i=vb.PA(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.NS]=r.OS}return n}(i);case ns:case is:return function(t){var n;return(n={})[cs]=t,n}(i);default:throw new lf(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.$r="Widevine",t.Jr="PlayreadyV2",t.RI="PlayreadyV2",t.DI="PlayreadyV3",t.us="Fairplay"}(oA||(oA={}));var AA={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function TA(t,n){var e,r,s,u,o=AA[n],a=t.accountName;return{CustomerName:t.customerName,AccountName:a,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=i.xr)?void 0:e.Lr,OSVersion:null==(r=i.xr)?void 0:r.zr,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(s=i.xr)?void 0:s.Vr,DeviceModel:null==(u=i.xr)?void 0:u.Wr}}}function SA(t,i){if(!t.accountName)throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function EA(t,n,i){var e;if(wA(t))e={AuthToken:t.authToken,Payload:n};else{if(!gA(t))throw SA(t,i);e={LatensRegistration:TA(t,i),Payload:n}}return Ju(JSON.stringify(e))}function IA(t,i,e){var r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=t.Ud){a.next=3;break}throw new up(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return s=r,a.prev=4,a.next=7,Fr.awrap(s.Sl(e));case 7:u=a.sent,o=RA(u),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),o="";case 14:throw new up(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,s.Yl.Ql,s.zl,s.Gl,o);case 15:case"end":return a.stop()}},null,null,[[4,11]],qe)}function RA(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var CA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e,xf.qf)||this).NI=void 0,r}E(e,t),e.CI=function(){return i.Lr.qe?"required":"optional"};var r=e.prototype;return r.$E=function(t,n,i){return IA(t,n,i)},r.QE=function(t){return this.NI?du(this.NI.Hu,t):(this.NI=new na,qe.resolve())},r.rI=function(t,i){var e,r;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.HE){i.next=3;break}throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=zu(t),i.abrupt("return",EA(e,r,oA.$r));case 5:case"end":return i.stop()}},null,this,null,qe)},r.sI=function(t){if(!t.license)throw new up(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Xu(t.license)},r.BI=function(t){return qe.resolve(new _(t))},r.cI=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.OI(),r.next=3,Fr.awrap(this.rI(t,n));case 3:return i=r.sent,r.next=6,Fr.awrap(this.KE(i,xf.Gf,fw.hd,n));case 6:return e=r.sent,r.next=9,Fr.awrap(this.BI(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,qe)},r.fI=function(n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(t.prototype.fI.call(this,n,i));case 2:return e=r.sent,this.OI(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,qe)},r.OI=function(){this.NI||(this.NI=new na),this.NI.Wu()},r.Sd=function(){this.NI&&this.NI.Fs(),t.prototype.Sd.call(this)},e}(Yk),DA=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,xf.Gf)||this).YE("https://widevine-proxy.drm.technology/proxy"),r}return E(i,t),i.prototype.rI=function(t,i){var e,r,s,u;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(qk(t));case 2:if(e=i.sent,r=this.FE,s=Ko(new _(e)),u=this.xI){i.next=8;break}throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:u,drm_info:s,kid:r}));case 9:case"end":return i.stop()}},null,this,null,qe)},T(i,[{key:"xI",get:function(){if(mA(this.HE))return this.HE.token}}]),i}(Yk);function NA(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Ur({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Ur({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var PA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,xf.Gf)||this).YE("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return E(n,t),n.prototype.nI=function(n,i){var e=n;return lA(this.HE)&&(e=NA(this.HE,e)),t.prototype.nI.call(this,e,i)},n}(Yk),xA="Conax-Custom-Data";function BA(t,n,i){var e=t&&fA(t)&&t;if(e&&!i.has(xA)){var r=Jk(e)?e.token:void 0,s=Jk(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(xA,u)}return i}var OA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,xf.Gf)||this).YE("https://connect.conax.com:8094/license"),r}return E(n,t),n.prototype.tI=function(){var n=t.prototype.tI.call(this);return BA(this.HE,"Widevine",n)},n}(Yk);function LA(t){var n=Oo(new _(t));return Xu(JSON.parse(n).license)}function MA(t){return"string"==typeof t.token?t.token:Ju(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function jA(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var FA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,xf.Gf)||this).YE("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}E(n,t);var i=n.prototype;return i.sI=function(t){return LA(t)},i.tI=function(){return jA(t.prototype.tI.call(this),this.xI,this.HE)},T(n,[{key:"xI",get:function(){return MA(this.HE)}}]),n}(Yk),UA=function(t){function n(n,i,e){return t.call(this,n,i,e,xf.Gf)||this}return E(n,t),n.prototype.tI=function(){var n=t.prototype.tI.call(this),i=this.HE.token;return n.set("Authorization","Bearer "+i),n},n}(Yk);function HA(t,i,e,r){var s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(yA(t)){l.next=2;break}throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Bf).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(u=t.sessionId)&&s.append("XSSESSION",u),o=t.streamId,a=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",h={drmType:i,licenseType:a,streamId:o},c={Ql:t.ticketAcquisitionURL,Wl:xf.qf,Vl:s,md:hw.POST,Cl:JSON.stringify(h),Ws:r},l.next=13,Fr.awrap(e.Yl(c));case 13:return f=l.sent,l.next=16,Fr.awrap(f.Sl());case 16:return l.abrupt("return",l.sent);case 17:case"end":return l.stop()}},null,null,null,qe)}var XA=function(t){function n(n,i,e){return t.call(this,n,i,e,xf.qf)||this}E(n,t);var i=n.prototype;return i.tI=function(){var n=t.prototype.tI.call(this);return n.set("Content-Type","application/json"),n},i.rI=function(n,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=Ku(n.buffer),r=this.HE,o.next=4,Fr.awrap(HA(r,"widevine_modular",this.Xw,i));case 4:return s=o.sent,this.YE(s.licenseServerUrl),u=Lo(JSON.stringify({payload:e,ticket:s.ticket})),o.abrupt("return",t.prototype.rI.call(this,u,i));case 8:case"end":return o.stop()}},null,this,null,qe)},i.sI=function(t){return Xu(t.license)},n}(Yk),VA=function(t){function i(n,i,e){return t.call(this,n,i,e,xf.Gf)||this}return E(i,t),i.prototype.tI=function(){if(!pA(this.HE))throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.tI.call(this);return i.set("X-AxDRM-Message",this.HE.token),i},i}(Yk);function zA(t){for(var n=new _(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var WA=function(t){function n(n,i,e){var r;return(r=t.call(this,ds,n,i,e,xf.Gf)||this).LI=void 0,r}E(n,t);var e=n.prototype;return e.GE=function(t){return t.playready||{}},e.tI=function(){var n=new Bf(this.LI);return n.Zf(t.prototype.tI.call(this)),n},e.MI=function(t){return t.length>=1&&t[0].Ii.length>0},e.ZE=function(n){var i=this.HE.playready.customData;if(i){var e=zA(i),r=zA('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+zu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return qe.resolve({playready:{Cc:r}})}return t.prototype.ZE.call(this,n)},e.rI=function(t,n){var i;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(qk(t));case 2:return i=n.sent,n.abrupt("return",this.UI(i));case 4:case"end":return n.stop()}},null,this,null,qe)},e.UI=function(t){var n,e,r,s,u,o,a,h,c,f,l,v,d,w,g,m;return Fr.async(function(y){for(;;)switch(y.prev=y.next){case 0:u=null,o=new DataView(t),a=Po(o,new Jo,!0),y.prev=3,h=i.ui(a),y.next=10;break;case 7:return y.prev=7,y.t0=y.catch(3),y.abrupt("return",u);case 10:for(c=null==(n=h.Ei("PlayReadyKeyMessage")[0])?void 0:n.Ei("LicenseAcquisition")[0],f=null!=(e=null==c?void 0:c.Ei("Challenge"))?e:[],this.MI(f)&&(u=Zu(f[0].Hi)),l=new Bf,v=null!=(r=null==c?void 0:null==(s=c.Ei("HttpHeaders")[0])?void 0:s.Ei("HttpHeader"))?r:[],d=0;d<v.length;d++)w=v[d],g=w.Ei("name")[0].Hi,m=w.Ei("value")[0].Hi,l.append(g,m);return this.LI=l,y.abrupt("return",u);case 18:case"end":return y.stop()}},null,this,[[3,7]],qe)},e.cI=function(t,n){return qe.resolve(t)},e.fI=function(n,i){return t.prototype.uI.call(this,n,fw.fd,i)},n}(Wk),qA=function(){function t(n){this.wh=void 0,this.XI=n,this.wh=t.HI(n)}return t.HI=function(t){return"3"===t.version?oA.DI:oA.RI},t.prototype.FI=function(){var t={};if(this.wh===oA.DI){var n={LatensRegistration:TA(this.XI,oA.DI)};t["X-TITANIUM-DRM-CDATA"]=Ju(JSON.stringify(n))}return t},T(t,[{key:"zI",get:function(){return this.wh}},{key:"gc",get:function(){return this.wh===oA.RI}}]),t}();var GA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e)||this).VI=void 0,r.VI=new qA(r.HE),r}E(e,t);var r=e.prototype;return r.ZE=function(t){var i=this.HE;if(!this.HE)throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(gA(i)){var e={};return e.playready={Cc:$A(i,this.VI.zI)},qe.resolve(e)}return qe.reject(SA(i,oA.Jr))},r.tI=function(){var n=new Bf(this.VI.FI());return n.Zf(t.prototype.tI.call(this)),n},r.$E=function(t,e,r){var s,u,o,a,h,c,f,l;return Fr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(s=t.Ud){v.next=3;break}throw new up(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e);case 3:return v.prev=3,v.next=6,Fr.awrap(s.Rl(r));case 6:a=v.sent,h=Oo(new _(a)),(c=i.ui(h))&&(f=pb(c,"CustomData")).length>0&&(u=JSON.parse(f[0].Hi),o=null==(l=u.DrmErr)?void 0:l.desc),v.next=14;break;case 12:v.prev=12,v.t0=v.catch(3);case 14:throw new up(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e,s.zl,s.Gl,o);case 15:case"end":return v.stop()}},null,null,[[3,12]],qe)},r.MI=function(t){if(1!==t.length)throw new up(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},e}(WA);function $A(t,n){var i=TA(t,n),e=i.DeviceInfo.FormatVersion,r=Ju('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=jo(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return jo('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+zu(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var YA,QA=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YE("https://playready-license.drm.technology/rightsmanager.asmx"),r}E(i,t);var e=i.prototype;return e.MI=function(t){if(1!==t.length)throw new up(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.nI=function(n,i){var e=Ur({},n||{},{token:this.xI});return t.prototype.nI.call(this,e,i)},T(i,[{key:"xI",get:function(){if(mA(this.HE))return this.HE.token}}]),i}(WA),ZA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YE("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return E(n,t),n.prototype.nI=function(n,i){var e=n;return lA(this.HE)&&(e=NA(this.HE,e)),t.prototype.nI.call(this,e,i)},n}(WA),KA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YE("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return E(n,t),n.prototype.tI=function(){var n=t.prototype.tI.call(this);return BA(this.HE,"PlayReady",n)},n}(WA),JA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YE("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}E(n,t);var i=n.prototype;return i.sI=function(n){return(As(Oo(new _(n)),"<?xml")?YA.WI:YA.Sl)===YA.Sl?LA(n):t.prototype.sI.call(this,new _(n))},i.tI=function(){return jA(t.prototype.tI.call(this),this.xI,this.HE)},T(n,[{key:"xI",get:function(){return MA(this.HE)}}]),n}(WA);!function(t){t[t.WI=0]="WI",t[t.Sl=1]="Sl"}(YA||(YA={}));var tT,nT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).GI=void 0,r}E(n,t);var i=n.prototype;return i.tI=function(){var n=t.prototype.tI.call(this);return this.GI&&n.set("Ticket",this.GI),n.set("Content-Type","text/xml"),n},i.rI=function(n,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.HE,s.next=3,Fr.awrap(HA(e,"playready",this.Xw,i));case 3:return r=s.sent,this.YE(r.licenseServerUrl),this.GI=r.ticket,s.abrupt("return",t.prototype.rI.call(this,n,i));case 7:case"end":return s.stop()}},null,this,null,qe)},n}(WA),iT=function(t){function i(){return t.apply(this,arguments)||this}return E(i,t),i.prototype.tI=function(){if(!pA(this.HE))throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.tI.call(this);return i.set("X-AxDRM-Message",this.HE.token),i},i}(WA);!function(t){t.qf="application/json",t.qI="application/x-www-form-urlencoded",t.YI="application/octet-stream",t.$n="text/plain;charset=UTF-8"}(tT||(tT={}));var eT=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.ec,i,e,r,s)||this).jI="",u.QI=void 0,u.ZI=void 0,u.ZI=n.KI,u}E(n,t);var i=n.prototype;return i.JI=function(){return this.zE.certificateURL||this.QI},i.$I=function(t){this.QI=t},i.rI=function(t){return qe.resolve(this.tR(t,this.jI))},i.tR=function(t,n){return"spc="+encodeURIComponent(zu(t))+"&assetId="+encodeURIComponent(n)},i.GE=function(t){return t.fairplay||{}},i.nR=function(t){var n=t.indexOf("?");if(n>=0)return qe.resolve(t.substr(n+1));var i=t.split("/");return qe.resolve(i[i.length-1])},i.ZE=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=null!=(n=this.ZI)?n:Ho(new _(t)),s.next=3,Fr.awrap(this.nR(i));case 3:return e=s.sent,this.jI=e,(r={}).fairplay={Uc:e},s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,qe)},i.tI=function(){var n=t.prototype.tI.call(this);return n.set("Content-Type",this.iR),n},i.cI=function(t,n){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.aI){t.next=2;break}return t.abrupt("return",this.aI);case 2:return t.next=4,Fr.awrap(this.eR(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,qe)},i.fI=function(n,i){return t.prototype.uI.call(this,n,fw.rd,i)},i.rR=function(t){var n=this.JI(),i=this.tI(),e={Ql:n,Wl:xf.Gf,Vl:i,md:hw.GET,bd:!1,Cl:null,yd:0,Ws:t,fs:cw.td,kd:fw.ud};return new dw(e)},i.eR=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.rR(t),r.next=3,Fr.awrap(this.Xw.Yl(n));case 3:return i=r.sent,r.next=6,Fr.awrap(i.Rl());case 6:return e=r.sent,r.abrupt("return",new _(e));case 8:case"end":return r.stop()}},null,this,null,qe)},i.sI=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Xu(i)}else n=new _(t);return n},i.nI=function(n,i){var e=t.prototype.nI.call(this,n,i);return As(e,"skd:")&&(e=e.substr("skd:".length)),e},T(n,[{key:"hI",get:function(){return!0}},{key:"iR",get:function(){return tT.qI}}]),n}(Wk),rT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,xf.Gf)||this}E(n,t);var i=n.prototype;return i.nR=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return qe.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return qe.resolve(i)},i.rI=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,qe)},i.sI=function(t){return new _(t)},i.nI=function(n,i){var e=n||{};return e.p1=Wt(),t.prototype.nI.call(this,e,i)},T(n,[{key:"iR",get:function(){return tT.YI}}]),n}(eT),sT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.Gf)||this).YE("https://fairplay-license.drm.technology/license"),s.$I("https://fairplay-license.drm.technology/certificate"),s}E(i,t);var e=i.prototype;return e.tR=function(t,n){var i={token:this.xI,contentId:n,payload:zu(t)};return JSON.stringify(i)},e.sI=function(t){return new _(t)},e.tI=function(){var n=t.prototype.tI.call(this);return n.set("x-vudrm-token",this.xI),n},T(i,[{key:"iR",get:function(){return tT.qf}},{key:"xI",get:function(){if(!mA(this.HE))throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.HE.token}}]),i}(eT),uT="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",oT="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",aT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,xf.Gf)||this}return E(i,t),i.prototype.sI=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new up(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,uT)}if(!i)throw new up(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,oT);return i}(Oo(new DataView(i)));return t.prototype.sI.call(this,e)},i}(eT);var hT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,xf.qf)||this}E(i,t);var e=i.prototype;return e.rI=function(t){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.HE){r.next=3;break}throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=zu(t),r.abrupt("return",EA(i,e,oA.us));case 5:case"end":return r.stop()}},null,this,null,qe)},e.sI=function(t){try{var i;if(G(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Zu(i.license);return new _(r)}throw new up(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new up(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.$E=function(t,n,i){return IA(t,n,i)},T(i,[{key:"iR",get:function(){return tT.qf}}]),i}(eT),cT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.Gf)||this).YE("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.$I("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}E(n,t);var e=n.prototype;return e.JI=function(){var n=t.prototype.JI.call(this);if(!n)return n;var e=i.Br(n),r=this.HE;return lA(r)&&mw(e,{accountId:r.accountId,applicationId:r.applicationId||""}),e.href},e.nR=function(n){return lA(this.HE)?qe.resolve(this.HE.contentId):t.prototype.nR.call(this,n)},e.rI=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,qe)},e.sI=function(t){return new _(t)},e.nI=function(n,i){var e=n;return lA(this.HE)&&(e=function(t,n){return Ur({},NA(t,n),{KeyId:t.keyId})}(this.HE,e)),t.prototype.nI.call(this,e,i)},T(n,[{key:"iR",get:function(){return tT.YI}}]),n}(eT),fT=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,xf.$n)||this,!fA(e))throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.YE("https://connect.conax.com:8097/license"),u}E(i,t);var e=i.prototype;return e.tI=function(){var n=t.prototype.tI.call(this);return BA(this.HE,"FairPlay",n)},e.eR=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.JI(),i={Ql:n,Wl:xf.Gf,Vl:{},md:hw.GET,bd:!1,Cl:null,yd:0,Ws:t,fs:cw.td,kd:fw.ud},s.next=4,Fr.awrap(this.Xw.Yl(i));case 4:return e=s.sent,s.next=7,Fr.awrap(e.Rl());case 7:return r=s.sent,s.abrupt("return",new _(r));case 9:case"end":return s.stop()}},null,this,null,qe)},e.rI=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,qe)},e.nR=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),qe.resolve(Oo(Xu(n)))):qe.resolve("unknown")},e.sI=function(t){try{var n=JSON.parse(t);return new _(Zu(n.CkcMessage))}catch(t){throw new l("CFLRW-66")}},i}(eT),lT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.$n)||this).YE(rA[Kr.us]),s}E(i,t);var e=i.prototype;return e.nR=function(t){return As(t,"skd://")?qe.resolve(t.substring("skd://".length,40)):qe.reject(new up(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.tR=function(t,n){return"spc="+zu(t)+"&assetId="+n},i}(eT),vT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.$n)||this).YE("https://lic.drmtoday.com/license-server-fairplay/"),s}E(n,t);var i=n.prototype;return i.tR=function(t,n){var i="spc="+encodeURIComponent(zu(t))+"&"+encodeURI(n);return"persistent"===this.zE.licenseType?i+"&offline=true":i},i.tI=function(){return jA(t.prototype.tI.call(this),this.xI,this.HE)},T(n,[{key:"xI",get:function(){return MA(this.HE)}}]),n}(eT),dT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,xf.Gf)||this}E(n,t);var e=n.prototype;return e.nR=function(t){var n=t;return As(n,"skd:")&&(n="http:"+n.substring(4)),As(n,"http:")||As(n,"https:")?qe.resolve(i.Br(n).hostname):qe.reject(new l("Could not parse ExpressPlay FairPlay content ID."))},e.rI=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,qe)},e.sI=function(t){return new _(t)},T(n,[{key:"iR",get:function(){return tT.YI}}]),n}(eT),wT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,xf.$n)||this}return E(n,t),n.prototype.tI=function(){var n=t.prototype.tI.call(this),i=this.HE.token;return n.set("Authorization","Bearer "+i),n},n}(eT),gT=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,xf.qf)||this,!yA(i))throw new l("Invalid Xstream DRM configuration");return s}E(n,t);var i=n.prototype;return i.eR=function(t){var n,i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.JI(),i=this.tI(),e={Ql:n,Wl:xf.qf,Vl:i,md:hw.POST,Ws:t,fs:cw.td,kd:fw.ud},u.next=5,Fr.awrap(this.Xw.Yl(e));case 5:return r=u.sent,u.next=8,Fr.awrap(r.Sl());case 8:return s=u.sent,u.abrupt("return",new _(Xu(s.certificate)));case 10:case"end":return u.stop()}},null,this,null,qe)},i.fI=function(t,n,i){var e,r,s,u,o,a,h;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=zu(t),r=this.HE,i.next=5,Fr.awrap(HA(r,"fairplay",this.Xw,n));case 5:return s=i.sent,u=Lo(JSON.stringify({spc:e,ticket:s.ticket})),o={Ql:this.jE(),Wl:xf.qf,Vl:this.tI(),md:hw.POST,Cl:u,yd:0,Ws:n,fs:cw.td,kd:fw.rd},i.next=10,Fr.awrap(this.Xw.Yl(o));case 10:return a=i.sent,i.next=13,Fr.awrap(a.Sl());case 13:return h=i.sent,i.abrupt("return",Xu(h.licence));case 15:case"end":return i.stop()}},null,this,null,qe)},T(n,[{key:"iR",get:function(){return tT.qf}}]),n}(eT),mT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,xf.$n)||this}E(i,t);var e=i.prototype;return e.tR=function(t,n){return zu(t)},e.sI=function(i){if(0===i.length)throw new up(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.sI.call(this,i)},e.tI=function(){var n=t.prototype.tI.call(this);return n.set("Content-Type","text/plain"),n},i}(eT),yT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,xf.Gf)||this}E(i,t);var e=i.prototype;return e.tR=function(t,n){return t},e.sI=function(t){return new _(t)},e.tI=function(){if(!pA(this.HE))throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.tI.call(this);return i.set("X-AxDRM-Message",this.HE.token),i},T(i,[{key:"iR",get:function(){return tT.qf}}]),i}(eT),pT=function(t){function e(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.qf)||this).sR=void 0,s}E(e,t);var r=e.prototype;return r.tR=function(t,n){var i={spc:zu(t)};return JSON.stringify(i)},r.nR=function(t){var e=i.Br(t);return this.sR=t,e.searchParams.has("b")?qe.resolve(e.searchParams.get("b")):qe.reject(new up(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.nI=function(n,i){var e=this.jE();return!e&&this.sR&&(e=this.sR),e&&(e=e.replace("skd://","https://")),t.prototype.nI.call(this,n,i||e)},r.sI=function(t){try{var i;if((i=G(t)?JSON.parse(t.trim()):t).ckc)return Xu(i.ckc)}catch(t){throw new up(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new up(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},T(e,[{key:"iR",get:function(){return tT.$n}}]),e}(eT),_T=function(){function t(t,n){this.uR=t,this.oR=n}var n=t.prototype;return n.aR=function(t){return this.uR(t)},n.hR=function(t,n){throw new v(n+" must be "+this.oR+". (Received: "+t+")")},t}();new _T(function(t){return!0},"any");var bT=new _T(Z,"a number"),kT=new _T(G,"a string"),AT=new _T($,"a boolean");new _T(Q,"a date"),new _T(X,"undefined"),new _T(W,"an object"),new _T(function(t){return null===t},"null"),new _T(function(t){return null==t},"null or undefined");var TT,ST=(TT={responseCode:bT,isException:AT,description:kT,title:kT,correlationId:kT},{aR:function(t){if(!W(t))return!1;for(var n=0,i=w.keys(TT);n<i.length;n++){var e=i[n];if(!TT[e].aR(t[e]))return!1}return!0},hR:function(t,n){if(!W(t))throw new v(n+" must be an object.");for(var i=0,e=w.keys(TT);i<e.length;i++){var r=e[i],s=TT[r];if(!s.aR(t[r]))return s.hR(t[r],n+"."+String(r))}throw new v}});function ET(t,n,i,e,r){var s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=IT(t,n,i,r),u.next=3,Fr.awrap(RT(s,e));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,null,null,qe)}function IT(t,n,e,r){var s={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=i.Br(t);return mw(e,n),e.toString()}(e,s)),o=new Bf({});o.append("Content-Type","application/json");var a=zu(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:a}};return{Ql:u,Wl:xf.$n,Vl:o,md:hw.POST,Cl:JSON.stringify(h),Ws:r,fs:cw.td,kd:fw.rd}}function RT(t,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(i.Yl(t));case 2:return e=s.sent,s.next=5,Fr.awrap(e.Sl());case 5:if(r=s.sent,!ST.aR(r)){s.next=8;break}throw new up(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.Ql,r.responseCode);case 8:return s.abrupt("return",Xu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return s.stop()}},null,null,null,qe)}var CT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.Gf)||this).cR=void 0,s.cR=i,s}E(n,t);var i=n.prototype;return i.nR=function(n){var i=n.replace("FairPlay",this.cR.releasePid);return t.prototype.nR.call(this,i)},i.fI=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(ET(t,this.cR,this.jE(),this.Xw,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,qe)},n}(eT),DT=function(t){function i(n,i,e){return t.call(this,ys,n,i,e,xf.Gf)||this}E(i,t);var e=i.prototype;return e.GE=function(t){return t.clearkey||{}},e.KE=function(i,e,r,s){var u,o;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.zE,!this.jE()){e.next=5;break}return e.abrupt("return",t.prototype.KE.call(this,i,this.WE,r,s));case 5:if(!u.keys||!u.keys.length){e.next=10;break}return o={keys:u.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Lo(JSON.stringify(o)).buffer);case 10:throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,qe)},e.cI=function(t,n){return qe.resolve(new _(0))},e.fI=function(n,i){return t.prototype.uI.call(this,n,fw.vd,i)},i}(Wk),NT=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(Yk),PT={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function xT(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=XT(n),(r=t.onCertificateRequest)&&"function"==typeof r){u.next=5;break}return u.abrupt("return",qe.resolve(n));case 5:return u.next=8,Fr.awrap(du(qe.resolve(r.call(t,e)),i));case 8:if(!$o(s=u.sent)){u.next=11;break}return u.abrupt("return",Yo(s));case 11:return u.abrupt("return",HT(Ur({},PT,s)));case 12:case"end":return u.stop()}},null,null,null,qe)}function BT(t,n,i,e,r){var s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.onCertificateResponse,u=UT(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",qe.resolve(n));case 5:return a.next=8,Fr.awrap(du(qe.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Yo(o));case 10:case"end":return a.stop()}},null,null,null,qe)}function OT(t,n,i,e){var r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(MT(t,n,i,e));case 2:if(!((r=s.sent)instanceof ArrayBuffer)){s.next=5;break}return s.abrupt("return",r);case 5:return s.abrupt("return",HT(r));case 6:case"end":return s.stop()}},null,null,null,qe)}function LT(t,n,i,e,r,s){var u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return u=FT(i,r),a.next=3,Fr.awrap(jT(t,new _(n),u,e,s));case 3:return o=a.sent,a.abrupt("return",Yo(o).buffer);case 5:case"end":return a.stop()}},null,null,null,qe)}function MT(t,n,i,e){var r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,s=FT(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",qe.resolve(s));case 5:return o.next=8,Fr.awrap(du(qe.resolve(r.call(t,s)),e));case 8:if(!$o(u=o.sent)){o.next=11;break}return o.abrupt("return",Yo(u).buffer);case 11:return o.abrupt("return",Ur({fairplaySkdUrl:void 0},PT,u));case 12:case"end":return o.stop()}},null,null,null,qe)}function jT(t,n,i,e,r){var s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=null==t?void 0:t.onLicenseResponse,u=UT(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",qe.resolve(n));case 5:return a.next=8,Fr.awrap(du(qe.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Yo(o));case 10:case"end":return a.stop()}},null,null,null,qe)}function FT(t,n){return Ur({},XT(t),{fairplaySkdUrl:n})}function UT(t,n,i){return{url:i.jl,status:i.zl,statusText:i.Gl,headers:i.Vl.jf(),body:t,request:n}}function HT(t){return new dw({Ql:t.url,md:t.method,Vl:t.headers,Cl:t.body,bd:t.useCredentials})}function XT(t){var n;return{url:t.Ql,body:null!=(n=VT(t.Cl))?n:null,headers:t.Vl.jf(),method:t.md,useCredentials:t.bd}}function VT(t){if(t)return"string"==typeof t?Xo(t):t instanceof ArrayBuffer?new _(t):qu(t)?Go(t):void 0}var zT,WT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).fR=void 0,s.fR=r,s}E(i,t);var e=i.prototype;return e.cI=function(t,n){return qe.resolve(t)},e.fI=function(t,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Fr.awrap(this.UI(Zo(t).buffer));case 2:return e=a.sent,r=this.JE(e,xf.Gf,fw.fd,i),a.next=6,Fr.awrap(OT(this.fR,r,void 0,i));case 6:if(!((s=a.sent)instanceof ArrayBuffer)){a.next=10;break}return a.abrupt("return",new _(s));case 10:if(""!==s.Ql){a.next=12;break}throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return a.prev=12,a.next=15,Fr.awrap(this.Xw.Yl(s));case 15:return u=a.sent,a.next=18,Fr.awrap(u.Rl(i));case 18:return o=a.sent,a.t0=_,a.next=22,Fr.awrap(LT(this.fR,o,r,u,void 0,i));case 22:return a.t1=a.sent,a.abrupt("return",new a.t0(a.t1));case 26:throw a.prev=26,a.t2=a.catch(12),lu(a.t2),new up(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a.t2);case 30:case"end":return a.stop()}},null,this,[[12,26]],qe)},i}(WA),qT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,xf.Gf)||this).fR=void 0,s.fR=r,s}E(i,t);var e=i.prototype;return e.cI=function(t,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.aI){a.next=2;break}return a.abrupt("return",this.aI);case 2:return e=this.JE(t,xf.Gf,fw.hd,i),a.next=5,Fr.awrap(xT(this.fR,e,i));case 5:if(!((r=a.sent)instanceof _)){a.next=9;break}return a.abrupt("return",r);case 9:if(""!==r.Ql){a.next=11;break}throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return a.prev=11,a.next=14,Fr.awrap(this.Xw.Yl(r));case 14:return s=a.sent,a.next=17,Fr.awrap(s.Rl(i));case 17:u=a.sent,a.next=24;break;case 20:throw a.prev=20,a.t0=a.catch(11),lu(a.t0),new up(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",a.t0);case 24:return o=FT(e,void 0),a.next=27,Fr.awrap(BT(this.fR,new _(u),o,s,i));case 27:return a.abrupt("return",a.sent);case 28:case"end":return a.stop()}},null,this,[[11,20]],qe)},e.fI=function(t,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.JE(t,xf.Gf,fw.od,i),o.next=3,Fr.awrap(OT(this.fR,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new _(r));case 7:if(""!==r.Ql){o.next=9;break}throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Fr.awrap(this.Xw.Yl(r));case 12:return s=o.sent,o.next=15,Fr.awrap(s.Rl(i));case 15:u=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),lu(o.t0),new up(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=_,o.next=25,Fr.awrap(LT(this.fR,u,e,s,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],qe)},i}(NT),GT=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,xf.Gf)||this).fR=void 0,u.vR=void 0,u.fR=s,u}E(i,t);var e=i.prototype;return e.cI=function(t,i){var e,r,s,u,o;return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.aI){t.next=2;break}return t.abrupt("return",this.aI);case 2:return e=this.rR(i),t.next=5,Fr.awrap(xT(this.fR,e,i));case 5:if(r=t.sent,!qu(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,Fr.awrap(this.Xw.Yl(r));case 11:return s=t.sent,t.next=14,Fr.awrap(s.Rl());case 14:return u=t.sent,o=FT(e,void 0),t.next=18,Fr.awrap(BT(this.fR,new _(u),o,s,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),lu(t.t0),new up(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],qe)},e.fI=function(t,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.JE(t,xf.Gf,fw.rd,i),o.next=3,Fr.awrap(OT(this.fR,e,this.vR,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new _(r));case 7:if(""!==r.Ql){o.next=9;break}throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Fr.awrap(this.Xw.Yl(r));case 12:return s=o.sent,o.next=15,Fr.awrap(s.Rl(i));case 15:return u=o.sent,o.t0=_,o.next=19,Fr.awrap(LT(this.fR,u,e,s,this.vR,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),lu(o.t2),new up(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],qe)},e.nR=function(n){var i;return this.vR=n,null!=(i=this.fR)&&i.extractFairplayContentId?qe.resolve(this.fR.extractFairplayContentId(n)):t.prototype.nR.call(this,n)},i}(eT),$T=function(){function t(){}var n=t.prototype;return n.lR=function(t,n,i,e){switch(t.ec.fs){case Kr.$r:return this.dR(n,i,e);case Kr.Jr:return this.wR(n,i,e);case Kr.us:return this._R(t,n,i,e);case Kr.rs:default:return this.gR(n,i,e)}},n.dR=function(t,n,i){var e,r=(e=t).integration===zk&&G(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&iA.II.TI(r,os)){var s=iA.II.EI(r,os,t);return new qT(t,n,i,s)}switch(r){case Ck:return new CA(t,n,i);case xk:return new DA(t,n,i);case Pk:return new PA(t,n,i);case Dk:return new OA(t,n,i);case Lk:return new FA(t,n,i);case jk:return new UA(t,n,i);case Fk:return new XA(t,n,i);case Hk:return new VA(t,n,i);case Ok:default:return new NT(t,n,i,xf.Gf)}},n.wR=function(t,n,i){var e=t.integration;if(e&&iA.II.TI(e,rs)){var r=iA.II.EI(e,rs,t);return new WT(t,n,i,r)}switch(e){case Ck:return new GA(t,n,i);case xk:return new QA(t,n,i);case Pk:return new ZA(t,n,i);case Dk:return new KA(t,n,i);case Lk:return new JA(t,n,i);case Fk:return new nT(t,n,i);case Hk:return new iT(t,n,i);case Ok:default:return new WA(t,n,i)}},n._R=function(t,n,i,e){var r=n.integration;if(r&&iA.II.TI(r,fs)){var s=iA.II.EI(r,fs,n);return new GT(t,n,i,e,s)}switch(r){case Nk:return new rT(t,n,i,e);case xk:return new sT(t,n,i,e);case Bk:return new aT(t,n,i,e);case Ck:return new hT(t,n,i,e);case Pk:return new cT(t,n,i,e);case Dk:return new fT(t,n,i,e);case Ok:return new lT(t,n,i,e);case Lk:return new vT(t,n,i,e);case Mk:return new dT(t,n,i,e);case jk:return new wT(t,n,i,e);case Fk:return new gT(t,n,i,e);case Uk:return new mT(t,n,i,e);case Hk:return new yT(t,n,i,e);case Xk:return new pT(t,n,i,e);case Vk:return new CT(t,n,i,e);default:return new eT(t,n,i,e,xf.$n)}},n.gR=function(t,n,i){return new DT(t,n,i)},n.mR=function(t){return t.fs===Kr.Jr||t.fs===Kr.$r||t.fs===Kr.us||t.fs===Kr.rs},n.gc=function(t,n){var i;if(t.fs!==Kr.Jr)return!1;if(H(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!iA.II.TI(e,fs))&&(e===Ck&&new qA(n).gc)},n.CI=function(t,n){if(t.fs===Kr.$r){var i=n.integration;if(!i||!iA.II.TI(i,fs))return i===Ck?CA.CI():void 0}},t}();!function(t){t[t.yR=0]="yR",t[t.kR=1]="kR",t[t.pR=2]="pR",t[t.bR=3]="bR",t[t.AR=4]="AR",t[t.yg=5]="yg",t[t.SR=6]="SR",t[t.ER=7]="ER",t[t.Ig=8]="Ig",t[t.IR=9]="IR",t[t.RR=10]="RR"}(zT||(zT={}));var YT=function(){function t(){}return t.prototype.DR=function(t){},T(t,[{key:"NR",get:function(){return 0}},{key:"PR",get:function(){return 0}}]),t}(),QT=function(){function t(t,n){void 0===n&&(n=new $T),this.lE=void 0,this.OR=void 0,this.XI=void 0,this.lE=t,this.OR=n}var n=t.prototype;return n.xR=function(t){this.XI=t},n.CI=function(t){var n=this.XI;if(void 0!==n)return this.OR.CI(t,n)},n.gc=function(t){var n=this.XI;return void 0!==n&&this.OR.gc(t,n)},n.LR=function(t){var n={ec:t.ec,MR:t.MR||[],KI:t.KI},i=this.OR.lR(n,this.XI||{},t.FE,this.lE);return new ZT(i)},t}(),ZT=function(){function t(t){this.UR=void 0,this.UR=t}var n=t.prototype;return n.QE=function(t){return this.UR.QE(t)},n.ZE=function(t,n,i){return this.UR.ZE(n,i)},n.hI=function(){return this.UR.hI||void 0!==this.UR.aI},n.cI=function(t,n){return this.UR.cI(t,n)},n.fI=function(t,n,i){return n&&this.UR.YE(n),this.UR.fI(t,i)},n.xs=function(){this.UR.Sd()},t}(),KT=function(t){function n(n){var i;(i=t.call(this)||this).XR=[],i.HR=function(t){i.g_(t.Yw)},i.FR=function(t){var n=t.Yw;i.zR(n)||i.m_(n)};for(var e=0;e<n.length;e++){var r=n[e];i.WR(r)}return i}E(n,t);var i=n.prototype;return i.WR=function(t){this.XR.push(t);for(var n=0,i=t.p_;n<i.length;n++){var e=i[n];this.g_(e)}this.GR(t)},i.qR=function(t){$s(this.XR,t),this.YR(t);for(var n=0,i=t.p_;n<i.length;n++){var e=i[n];this.zR(e)||this.m_(e)}},i.zR=function(t){for(var n=0,i=this.XR;n<i.length;n++){if(i[n].y_(t))return!0}return!1},i.GR=function(t){t.Zs(im.Hw,this.HR),t.Zs(im.zw,this.FR)},i.YR=function(t){t.tu(im.Hw,this.HR),t.tu(im.zw,this.FR)},i.Sd=function(){for(;this.XR.length>0;)this.qR(this.XR[0]);t.prototype.Sd.call(this)},i.qw=function(){return zm(this)},n}(vm);function JT(t){return{get enabled(){return t.C_},set enabled(n){t.C_=Sm(n)},get currentLatency(){return t.cm},get streamConfiguration(){if(void 0!==t.jR)return function(t){return{get minimumOffset(){return t.Zg},get maximumOffset(){return t.Jg},get targetOffset(){return t.Kg},get forceSeekOffset(){return t.$g},get minimumPlaybackRate(){return t.tm},get maximumPlaybackRate(){return t.nm}}}(t.jR)},get configuration(){return function(t){return{get minimumOffset(){return t.Zg},set minimumOffset(n){t.Zg=Em(n)},get maximumOffset(){return t.Jg},set maximumOffset(n){t.Jg=Em(n)},get targetOffset(){return t.Kg},set targetOffset(n){t.Kg=Em(n)},get forceSeekOffset(){return t.$g},set forceSeekOffset(n){t.$g=Em(n)},get minimumPlaybackRate(){return t.tm},set minimumPlaybackRate(n){t.tm=Em(n)},get maximumPlaybackRate(){return t.nm},set maximumPlaybackRate(n){t.nm=Em(n)},update:function(n){t.Zh(function(t){var n={};void 0!==t.minimumOffset&&(n.Zg=Em(t.minimumOffset));void 0!==t.maximumOffset&&(n.Jg=Em(t.maximumOffset));void 0!==t.targetOffset&&(n.Kg=Em(t.targetOffset));void 0!==t.forceSeekOffset&&(n.$g=Em(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.tm=Em(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.nm=Em(t.maximumPlaybackRate));return n}(n))}}}(t.rc)}}}var tS,nS=function(){function t(){this.Ww=void 0,this.QR=void 0,this.QR={$g:0,Jg:0,nm:0,Zg:0,tm:0,Kg:0,Zh:K}}return T(t,[{key:"Gw",get:function(){return null!=this.Ww||(this.Ww=JT(this)),this.Ww}},{key:"C_",get:function(){return!1},set:function(t){}},{key:"cm",get:function(){}},{key:"jR",get:function(){}},{key:"rc",get:function(){return this.QR}}]),t}();function iS(){return tS||(tS=we&&we.document&&we.document.createElement("video")),tS}var eS=function(t){function i(i,e,r,s,u,o,a){var h;return void 0===o&&(o=new $T),void 0===a&&(a=Ef()),(h=t.call(this)||this).ZR=void 0,h.KR=void 0,h.JR=void 0,h.mm=void 0,h.ym=void 0,h.pm=void 0,h.$R=void 0,h.tD=void 0,h.nD=void 0,h.iD=void 0,h.eD=void 0,h.lE=void 0,h.ys=void 0,h.rD=void 0,h.sD=void 0,h.uD=new YT,h.oD=new nS,h.aD=function(t){var i=t.mu,e=i.code,r=new lf(function(t){switch(t){case ep.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case ep.NETWORK:return n.ErrorCode.NETWORK_ERROR;case ep.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case ep.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case ep.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case ep.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case ep.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),s=new op(e,r.message,i.message);h.hD(r,s)},h.cD=function(){h.Qs(new Cy(h.Xg,h.Jm))},h.fD=function(t){h.Wg||(h.sD=void 0),h.Qs(t)},h.vD=function(t){h.sD=void 0,h.Qs(t)},h.lD=function(){h.Qs(new Dp(h.iy))},h.dD=function(){h.jg>0&&h.Yg>0&&h.Qs(new dk)},h.wD=function(t){h.mm.g_(new Tp(t.track))},h._D=function(t){var n=sS(h.mm,t.track);n&&h.mm.m_(n)},h.gD=function(){h.mD(h.mm)},h.yD=function(t){h.ym.g_(new Cp(t.track))},h.kD=function(t){var n=sS(h.ym,t.track);n&&h.ym.m_(n)},h.pD=function(){h.mD(h.ym)},h.bD=function(t){h.Qs(t),h.hD(t.errorObject,hp(t.errorObject))},h.ZR=e,h.lE=r,h.ys=a,h.KR=h.ZR.TD(fp.wd),h.nD=h.KR.SD.preload,h.iD=new Ik(h.KR,!0),h.iD.Zs(Sy,h.js),h.rD=new QT(r,o),h.KR.ED=h.rD,h.RD(),h.mm=new lp,h.ym=new lp,h.DD(),h.eD=new ok(h.KR,h.lE),h.pm=new KT([h.KR.Rm]),h.Fm(),h}E(i,t);var e=i.prototype;return e.zm=function(){this.KR.zm()},e.Fm=function(){this.KR.Fm()},e.Om=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return fu(i),e={fs:vk.pE,Z_:t.src,Nl:t.type,ND:this.CD(t),yy:this.nD,PD:t.crossOrigin,BD:n.metadata&&n.metadata.title},this.rD.xR(t.contentProtection),r.next=5,Fr.awrap(this.KR.jh(e));case 5:this.JR=r.sent,fu(i),n.textTracks&&this.OD(n.textTracks),lk(this.Rm);case 9:case"end":return r.stop()}},null,this,null,qe)},e.OD=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.KR.xD()&&j.hn&&kk&&!Kb(i.kind,i.label)&&this.LD(i)){var e,r=null!=(e=i.kind)?e:jb.Qb;this.KR.MD(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.eD.wE(i)}}},e.LD=function(t){return!t.format||"webvtt"===t.format},e.Nm=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fr.awrap(this.KR.Nm());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.UD){t.next=12;break}return t.next=10,Fr.awrap(this.KR.au(Pf.Rf));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],qe)},e.Cm=function(){this.KR.Cm()},e.xm=function(){return void 0!==this.KR.SD.webkitShowPlaybackTargetPicker},e.Lm=function(){this.KR.SD.webkitShowPlaybackTargetPicker&&this.KR.SD.webkitShowPlaybackTargetPicker()},e.Mm=function(){this.KR.SD.webkitShowPlaybackTargetPicker&&this.KR.SD.webkitShowPlaybackTargetPicker()},e.Vm=function(){return this.KR.SD},e.Wm=function(){return this.KR.XD},e.k_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$R=void 0,this.tD=void 0,this.JR=void 0,t.next=5,Fr.awrap(this.eD.k_());case 5:return this.KR.HD(),t.next=8,Fr.awrap(this.KR.k_());case 8:this.iD.k_(),this.yy=this.nD,this.Em.k_(),this.Im.k_(),this.sD=void 0;case 13:case"end":return t.stop()}},null,this,null,qe)},e.Sd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.k_());case 2:return this.$s(),this.FD(),this.zD(),this.iD.Sd(),this.KR.ED=void 0,t.next=9,Fr.awrap(this.ZR.VD(this.KR));case 9:return this.mm.Sd(),this.ym.Sd(),this.pm.Sd(),t.next=14,Fr.awrap(this.eD.Sd());case 14:case"end":return t.stop()}},null,this,null,qe)},e.RD=function(){this.KR.Zs(Pf.If,this.js),this.KR.Zs(Pf.Ef,this.js),this.KR.Zs(Pf.Hf,this.cD),this.KR.Zs(Pf.Rf,this.js),this.KR.Zs(Pf.pf,this.js),this.KR.Zs(Pf.Bf,this.js),this.KR.Zs(Pf.Pf,this.fD),this.KR.Zs(Pf.mf,this.js),this.KR.Zs(Pf.Df,this.js),this.KR.Zs(Pf.Ff,this.js),this.KR.Zs(Pf._f,this.js),this.KR.Zs(Pf.Cf,this.dD),this.KR.Zs(_y.Ug,this.vD),this.KR.Zs(jm.z_,this.aD),this.KR.Zs(Pf.lf,this.js),this.KR.Zs(Pf.vf,this.bD),this.KR.SD.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.lD)},e.FD=function(){this.KR.tu(Pf.If,this.js),this.KR.tu(Pf.Ef,this.js),this.KR.tu(Pf.Hf,this.cD),this.KR.tu(Pf.Rf,this.js),this.KR.tu(Pf.pf,this.js),this.KR.tu(Pf.Bf,this.js),this.KR.tu(Pf.Pf,this.fD),this.KR.tu(Pf.mf,this.js),this.KR.tu(Pf.Df,this.js),this.KR.tu(Pf.Ff,this.js),this.KR.tu(Pf._f,this.js),this.KR.tu(Pf.Cf,this.dD),this.KR.tu(_y.Ug,this.vD),this.KR.tu(jm.z_,this.aD),this.KR.tu(Pf.lf,this.js),this.KR.tu(Pf.vf,this.bD),this.KR.SD.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.lD)},e.CD=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{ec:gs,WD:[{initDataTypes:[gs.ls],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.DD=function(){var t=this.KR.SD.audioTracks,n=this.KR.SD.videoTracks;t&&(t.addEventListener("addtrack",this.wD),t.addEventListener("removetrack",this._D),t.addEventListener("change",this.gD)),n&&(n.addEventListener("addtrack",this.yD),n.addEventListener("removetrack",this.kD),n.addEventListener("change",this.pD))},e.zD=function(){var t=this.KR.SD.audioTracks,n=this.KR.SD.videoTracks;t&&(t.removeEventListener("addtrack",this.wD),t.removeEventListener("removetrack",this._D),t.removeEventListener("change",this.gD)),n&&(n.removeEventListener("addtrack",this.yD),n.removeEventListener("removetrack",this.kD),n.removeEventListener("change",this.pD))},e.mD=function(t){for(var n=0;n<t.b_;n++){t.__(n).Cy()}},e.Zm=function(){this.KR.Zm()},e.hD=function(t,n){this.$R||(this.$R=n,this.tD=t,this.Qs(new jy(t)))},T(i,[{key:"UD",get:function(){var t=this.KR.Km,n=this.Xg;return t.GD(n,.01)}},{key:"Em",get:function(){return this.mm}},{key:"Km",get:function(){return this.KR.Km.qD()}},{key:"Jm",get:function(){return this.KR.Jm},set:function(t){t&&this.KR.YD(t)}},{key:"Xg",get:function(){return void 0!==this.sD?this.sD:this.KR.Xg},set:function(t){this.iy&&(this.sD=t),this.KR.xu(t)}},{key:"Hg",get:function(){return this.KR.Hg}},{key:"Fg",get:function(){return this.KR.Fg}},{key:"mu",get:function(){return this.$R}},{key:"zg",get:function(){return this.tD}},{key:"Dm",get:function(){}},{key:"iy",get:function(){return this.KR.iy}},{key:"ey",get:function(){return Ur({},{sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.KR.jD())}},{key:"Vg",get:function(){return this.KR.Vg},set:function(t){this.KR.Vg=t}},{key:"_y",get:function(){return!0}},{key:"Wg",get:function(){return this.KR.Wg}},{key:"Gg",get:function(){return this.KR.Gg},set:function(t){this.KR.Gg=t}},{key:"gy",get:function(){return this.KR.SD.played}},{key:"yy",get:function(){return this.nD},set:function(t){this.nD=t,this.JR&&(this.JR.yy=t)}},{key:"Y_",get:function(){return this.KR.Y_}},{key:"py",get:function(){return this.KR.py.qD()}},{key:"qg",get:function(){return this.KR.qg}},{key:"QD",get:function(){return this.KR.QD}},{key:"Rm",get:function(){return this.pm}},{key:"Im",get:function(){return this.ym}},{key:"Yg",get:function(){return this.KR.Yg}},{key:"jg",get:function(){return this.KR.jg}},{key:"Qg",get:function(){return this.KR.Qg},set:function(t){this.KR.Qg=t}},{key:"by",get:function(){return this.oD}},{key:"Ay",get:function(){return this.KR.Ay},set:function(t){this.KR.Ay=t}},{key:"ZD",get:function(){return this.uD}}]),i}(Gm);var rS=function(){function t(){this.KD=zT.RR}var n=t.prototype;return n.kI=function(t,n,i,e,r,s){return new eS(t,n,i,e,r)},n.JD=function(t,n){return function(t){return!t.type||!(!iS().canPlayType||!iS().canPlayType(t.type))}(t)},n.$D=function(){return!1},t}();function sS(t,n){for(var i=0,e=t.p_;i<e.length;i++){var r=e[i];if(r.Oy===n)return r}}var uS=function(){function t(){this.tN=new rS,this.nN=[]}t.iN=function(){return this.Yn};var n=t.prototype;return n.eN=function(t){this.nN.push(t)},n.kI=function(t,n,i,e,r,s){for(var u=this.tN.kI(t,n,i,e,r,s),o=0,a=this.nN;o<a.length;o++){u=(0,a[o])(u,i,e)}return u},n.JD=function(t,n){return this.tN.JD(t,n)},n.$D=function(){return!1},T(t,[{key:"KD",get:function(){return this.tN.KD}}]),t}();function oS(t,n){return Hs(t.KD,n.KD)}function aS(t){hS.Yn.rN(t)}uS.Yn=new uS;var hS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).sN=uS.iN(),n}E(n,t);var i=n.prototype;return i.uN=function(t){this.sN=t},i.oN=function(){return this.sN},i.aN=function(t,n){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=0;case 1:if(!(i<t.length)){a.next=11;break}return e=t[i],a.next=5,Fr.awrap(this.hN(e,n));case 5:if(!(r=a.sent)){a.next=8;break}return a.abrupt("return",{cN:e,fN:r});case 8:i++,a.next=1;break;case 11:s=this.sN,u=0;case 13:if(!(u<t.length)){a.next=20;break}if(o=t[u],!s.JD(o,n)){a.next=17;break}return a.abrupt("return",{cN:o,fN:s});case 17:u++,a.next=13;break;case 20:return a.abrupt("return",{cN:t[0],fN:s});case 21:case"end":return a.stop()}},null,this,null,qe)},n}(function(){function t(){this.vN=[]}var n=t.prototype;return n.rN=function(t){this.vN.push(t),this.vN.sort(oS)},n.hN=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.vN;case 1:if(!(i<e.length)){u.next=17;break}if(r=e[i],!Y(s=r.JD(t,n))){u.next=10;break}return u.next=7,Fr.awrap(s);case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=Boolean(s);case 11:if(!u.t0){u.next=14;break}return u.abrupt("return",r);case 14:i++,u.next=1;break;case 17:return u.abrupt("return",void 0);case 18:case"end":return u.stop()}},null,this,null,qe)},t}());hS.Yn=new hS;var cS,fS=function(){function t(t){this.lN=void 0,this.lN=we&&we.document&&we.document.createElement("div"),cr(this.lN),t.appendChild(this.lN)}return t.prototype.Sd=function(){nr(this.lN)},t}();function lS(t){switch(t){case cS.dN:case"":return cS.dN;case cS.Kb:return cS.Kb;case cS.wN:default:return cS.wN}}!function(t){t.RR="",t.wN="none",t.Kb="metadata",t.dN="auto"}(cS||(cS={}));var vS=[jm.z_,Pf.gf,Pf.yu,Pf.Wf,Pf.sf,Pf.yf,Pf.Tf,Pf.Sf,Pf.xf,Pf.Mf,_y.Bg,_y.Og,_y.xg,_y.Lg,_y.u_,_y.Mg,_y.Ug,Pf.vf,Pf.lf,Pf._f,Pf.mf,Pf.pf,Pf.bf,Pf.If,Pf.Rf,Pf.Ef,Pf.Df,Pf.Cf,Pf.Bf,Pf.Pf,Pf.Hf,Pf.Ff,Pf.Nf,Pf.Af,Pf.Of],dS=function(t){function n(n,i){var e;return(e=t.call(this)||this)._N=void 0,e.gN=void 0,e.mN=void 0,e.yN=void 0,e.nD=cS.wN,e.kN=void 0,e.pN=!0,e.mm=new Fm,e.ym=new Fm,e.pm=new qm,e.Am=new rp,e._N=n,e.mN=i,e.mN.yy=e.yy,e.bN(),e}E(n,t);var i=n.prototype;return i.Cm=function(){this.mN.Cm()},i.Nm=function(){var t=this.mN.Nm();Y(t)&&pu(t)},i.Pm=function(){return this.Om(void 0)},i.Um=function(){},i.qm=function(t){return!1},i.bN=function(){this.mm.R_=this.mN.Em,this.ym.R_=this.mN.Im,this.pm.R_=this.mN.Rm,this.Am.R_=this.mN.Dm,this.mN.Zs(vS,this.js)},i.AN=function(){this.mN.tu(vS,this.js),this.mm.R_=void 0,this.ym.R_=void 0,this.pm.R_=void 0,this.Am.R_=void 0},i.Bm=function(){return this.kN},i.Om=function(t,n){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(fu(n),this.kN=t,t){a.next=4;break}return a.abrupt("return");case 4:if(!dy(i=t.sources.filter(py))){a.next=7;break}return a.abrupt("return");case 7:return a.next=9,Fr.awrap(this._N.aN(i,t));case 9:if(e=a.sent,fu(n),r=e.cN,s=e.fN,u=this.Wm(),o=Hy(this),this.gN===s&&!this.mu){a.next=25;break}return this.AN(),a.next=19,Fr.awrap(this.mN.Sd());case 19:fu(n),this.gN=s,this.mN=this.TN(s),wS(this.mN,o),Xy(this,o,this),this.bN();case 25:return this.mN.yy=this.yy,this.pN?this.mN.Fm():this.mN.zm(),a.next=29,Fr.awrap(this.mN.Om(r,t,n));case 29:fu(n),this.SN(r),this.Wm()!==u&&this.Qs(new Ym);case 32:case"end":return a.stop()}},null,this,null,qe)},i.SN=function(t){this.yN!==t&&(this.yN=t,this.Qs(new Qm(t)))},i.xm=function(){return this.mN.xm()},i.Lm=function(){this.mN.Lm()},i.Mm=function(){this.mN.Mm()},i.Wm=function(){return this.mN.Wm()},i.Zm=function(){this.mN.Zm()},i.k_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.kN=void 0,this.SN(void 0),t.next=4,Fr.awrap(this.mN.k_());case 4:case"end":return t.stop()}},null,this,null,qe)},i.Sd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.next=3,Fr.awrap(this.k_());case 3:return t.next=5,Fr.awrap(this.mN.Sd());case 5:this.mm.Sd(),this.ym.Sd(),this.pm.Sd(),this.Am.Sd();case 9:case"end":return t.stop()}},null,this,null,qe)},i.Fm=function(){this.pN=!0,this.mN.Fm()},i.zm=function(){this.pN=!1,this.mN.zm()},T(n,[{key:"Em",get:function(){return this.mm}},{key:"Km",get:function(){return this.mN.Km}},{key:"mu",get:function(){return this.mN.mu}},{key:"zg",get:function(){return this.mN.zg}},{key:"Jm",get:function(){return this.mN.Jm},set:function(t){this.mN.Jm=t}},{key:"Qm",get:function(){return this.yN}},{key:"Xg",get:function(){return this.mN.Xg},set:function(t){this.mN.Xg=t}},{key:"Hg",get:function(){return this.mN.Hg}},{key:"Fg",get:function(){return this.mN.Fg}},{key:"Dm",get:function(){return this.Am}},{key:"iy",get:function(){return this.mN.iy}},{key:"ey",get:function(){return this.mN.ey}},{key:"Vg",get:function(){return this.mN.Vg},set:function(t){this.mN.Vg=t}},{key:"_y",get:function(){return this.mN._y}},{key:"Wg",get:function(){return this.mN.Wg}},{key:"Gg",get:function(){return this.mN.Gg},set:function(t){this.mN.Gg=t}},{key:"gy",get:function(){return this.mN.gy}},{key:"yy",get:function(){return this.nD},set:function(t){this.nD=t,this.mN&&(this.mN.yy=this.nD)}},{key:"Y_",get:function(){return this.mN.Y_}},{key:"py",get:function(){return this.mN.py}},{key:"qg",get:function(){return this.mN.qg}},{key:"Rm",get:function(){return this.pm}},{key:"Yg",get:function(){return this.mN.Yg}},{key:"Im",get:function(){return this.ym}},{key:"jg",get:function(){return this.mN.jg}},{key:"Qg",get:function(){return this.mN.Qg},set:function(t){this.mN.Qg=t}},{key:"by",get:function(){return this.mN.by}},{key:"ZD",get:function(){return this.mN.ZD}}]),n}(Su);function wS(t,n){t.Vg!==n.Vg&&(t.Vg=n.Vg),t.Qg!==n.Qg&&(t.Qg=n.Qg),t.Gg!==n.Gg&&(t.Gg=n.Gg)}var gS,mS=function(t){function n(n,i){var e;return(e=t.call(this)||this).b_=void 0,e.EN=void 0,e.IN=void 0,e.b_=n.length>>1,e.EN=n,e.IN=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.b_),e}E(n,t);var i=n.prototype;return i.RN=function(t){return this.EN[2*t]},i.DN=function(t){return this.IN[2*t]},i.NN=function(t){return this.EN[2*t+1]},i.CN=function(t){return this.IN[2*t+1]},T(n,[{key:"PN",get:function(){return this.EN.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.lk=function(t,n){return 0===this.Rk(t,n)},n.ip=function(t,n){return this.Rk(t,n)>0},n.ep=function(t,n){return this.Rk(t,n)>=0},n.Bk=function(t,n){return this.Rk(t,n)<0},n.Ck=function(t,n){return this.Rk(t,n)<=0},n.Ap=function(t,n){return this.Bk(t,n)?t:n},n.bp=function(t,n){return this.ip(t,n)?t:n},n.BN=function(t,n,i){return i?this.Ck(t,n):this.Bk(t,n)},n.qD=function(){var t=this;return{get length(){return t.b_},start:function(n){var i=0|n;return t.ON(i),t.xN(t.RN(i))},end:function(n){var i=0|n;return t.ON(i),t.xN(t.NN(i))}}},n.LN=function(){for(var t=new Array(2*this.b_),n=new Array(2*this.b_),i=0;i<this.b_;i++)t[2*i]=this.RN(i),t[2*i+1]=this.NN(i),n[2*i]=!0,n[2*i+1]=!0;return this.MN(t,n)},n.ON=function(t){if(t<0)throw new l("The index provided ("+t+") must be non-negative");if(t>=this.b_)throw new l("The index provided ("+t+") is greater than the maximum bound ("+this.b_+")")},n.UN=function(t){if(0===this.b_)return this.XN();if(this.GD(t))return t;if(this.Ck(t,this.RN(0)))return this.RN(0);if(this.ep(t,this.NN(this.b_-1)))return this.NN(this.b_-1);for(var n,i=this.HN(),e=0;e<this.b_;e++){var r=this.RN(e),s=this.Pk(r,t);this.Bk(s,i)&&(n=r,i=s);var u=this.NN(e),o=this.Pk(this.NN(e),t);this.Bk(o,i)&&(n=u,i=o)}return n},n.FN=function(t){for(var n=0,i=0,e=[],r=[];n<this.b_&&i<t.b_;){var s=this.RN(n),u=this.NN(n),o=this.DN(n),a=this.CN(n),h=t.RN(i),c=t.NN(i),f=t.DN(i),l=t.CN(i),v=this.bp(s,h),d=this.Ap(u,c),w=void 0;w=this.lk(s,h)?o&&f:this.lk(v,s)?o:f;var g=void 0;g=this.lk(u,c)?a&&l:this.lk(d,u)?a:l,(this.Bk(v,d)||w&&g&&this.lk(v,d))&&(e.push(v,d),r.push(w,g));var m=this.Rk(this.NN(n),t.NN(i));0===m?(n+=1,i+=1):m<0?n+=1:i+=1}return this.MN(e,r)},n.zN=function(){var t=this.VN(),n=t.b_;if(0===n)return this.MN([t.WN(),t.HN()],[!1,!1]);var i=[],e=[],r=t.RN(0);t.lk(r,t.WN())||(i.push(t.WN(),r),e.push(!1,!t.DN(0)));for(var s=0;s<n-1;s++)i.push(t.NN(s),t.RN(s+1)),e.push(!t.CN(s),!t.DN(s+1));var u=t.NN(n-1);return t.lk(u,t.HN())||(i.push(u,t.HN()),e.push(!t.CN(n-1),!1)),t.MN(i,e)},n.GN=function(t){for(var n=0,i=0,e=this.b_,r=t.b_,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var a=this.RN(n),h=this.NN(n),c=t.RN(i),f=t.NN(i);this.Bk(a,c)||this.lk(a,c)&&this.Bk(h,f)?(s[o]=a,s[o+1]=h,u[o]=this.DN(n),u[o+1]=this.CN(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.DN(i),u[o+1]=t.CN(i),i++),o+=2}for(;n<e;)s[o]=this.RN(n),s[o+1]=this.NN(n),u[o]=this.DN(n),u[o+1]=this.CN(n),n++,o+=2;for(;i<r;)s[o]=t.RN(i),s[o+1]=t.NN(i),u[o]=t.DN(i),u[o+1]=t.CN(i),i++,o+=2;return this.MN(s,u)},n.qN=function(t){void 0===t&&(t=this.XN());var n=this.b_;if(n<2)return this;for(var i=[],e=[],r=this.RN(0),s=this.NN(0),u=this.DN(0),o=this.CN(0),a=1;a<n;a++){var h=this.RN(a),c=this.NN(a),f=this.DN(a),l=this.CN(a);this.Bk(r,h)&&this.ip(s,c)||(this.lk(r,h)&&(u=f=u||f),this.lk(s,c)&&(o=l=o||l),this.BN(h,this.Sy(s,t),o||f)?(s=c,o=l):(i.push(r,s),e.push(u,o),r=h,s=c,u=f,o=l))}return i.push(r,s),e.push(u,o),this.MN(i,e).VN()},n.VN=function(){for(var t=[],n=[],i=0;i<this.b_;i++){var e=this.RN(i),r=this.NN(i),s=this.DN(i),u=this.CN(i);this.lk(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this.MN(t,n)},n.YN=function(t){return this.b_?t.b_?this.GN(t).qN():this:t},n.jN=function(t){var n=this.VN(),i=t.VN(),e=n.zN(),r=i.zN(),s=e.FN(i),u=r.FN(n);return s.YN(u)},n.Bu=function(t){if(this.lk(t,this.XN()))return this;for(var n=[],i=[],e=0;e<this.b_;e++){var r=this.Sy(this.RN(e),t),s=this.Sy(this.NN(e),t);n.push(r,s),i.push(this.DN(e),this.CN(e))}return this.MN(n,i)},n.QN=function(t){return 0===this.b_||0===t.b_?this:this.VN().FN(t.VN().zN())},n.GD=function(t,n){return this.ZN(t,n)>=0},n.KN=function(t,n,i,e,r){return this.JN(t,n,i,e,r)>=0},n.$N=function(t,n,i,e,r){return this.tC(t,n,i,e,r)>=0},n.nC=function(t){if(t.b_!==this.b_)return!1;for(var n=0;n<this.b_;n++)if(!this.lk(this.RN(n),t.RN(n))||!this.lk(this.NN(n),t.NN(n))||this.DN(n)!==t.DN(n)||this.CN(n)!==t.CN(n))return!1;return!0},n.iC=function(t){for(var n=[],i=[],e=0;e<this.b_;e++){var r=this.RN(e),s=this.NN(e),u=this.DN(e),o=this.CN(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this.MN(n,i)},n.tC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.XN());for(var s=this.Mk(t,r),u=this.Sy(n,r),o=0;o<this.b_;o+=1)if(this.BN(this.RN(o),u,!e||this.DN(o))&&this.BN(s,this.NN(o),!i||this.CN(o)))return o;return-1},n.JN=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.XN());for(var s=this.Sy(t,r),u=this.Mk(n,r),o=0;o<this.b_;o+=1)if(this.BN(this.RN(o),s,!i||this.DN(o))&&this.BN(u,this.NN(o),!e||this.CN(o)))return o;return-1},n.ZN=function(t,n){return this.JN(t,t,!0,!0,n)},n.eC=function(t,n){void 0===n&&(n=this.XN());for(var i=this.Sy(t,n),e=this.b_-1;e>=0;e-=1)if(this.BN(this.RN(e),i,this.DN(e)))return e;return-1},n.rC=function(t,n){void 0===n&&(n=this.XN());for(var i=this.Mk(t,n),e=0;e<this.b_;e+=1)if(this.BN(i,this.NN(e),this.CN(e)))return e;return-1},n.sC=function(t){return this.ON(t),this.MN([this.RN(t),this.NN(t)],[this.DN(t),this.CN(t)])},n.uC=function(t,n){var i=this.ZN(t,n);return i<0?void 0:this.sC(i)},T(t,[{key:"oC",get:function(){for(var t=this.XN(),n=0;n<this.b_;n++){var i=this.Mk(this.NN(n),this.RN(n));t=this.Sy(t,i)}return t}}]),t}()),yS=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.Rk=function(t,n){return t<n?Os.Ds:t===n?Os.Is:Os.Rs},i.Sy=function(t,n){return t+n},i.Mk=function(t,n){return t-n},i.Pk=function(t,n){return g.abs(t-n)},i.XN=function(){return 0},i.HN=function(){return 1/0},i.WN=function(){return-1/0},n.aC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.hC=function(t){for(var i=[],e=[],r=0;r<t.b_;r++)i.push(t.RN(r).Ep),i.push(t.NN(r).Ep),e.push(t.DN(r)),e.push(t.CN(r));return new n(i,e)},n.cC=function(t){return new n([t,t],[!0,!0])},i.MN=function(t,i){return new n(t,i)},i.xN=function(t){return t},n.fC=function(){return pS},n}(mS),pS=new yS([]);!function(t){t.r_="fullscreenchange",t.vC="fullscreensupportchange",t.z_="fullscreenerror"}(gS||(gS={}));var _S=function(t){function n(){return t.call(this,gS.z_)||this}return E(n,t),n}(Iu),bS=new(function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.Xy=function(){this.Qs(new _S)},i.Fy=function(){},i.Sd=function(){this.$s()},T(n,[{key:"lC",get:function(){return!1}},{key:"dC",get:function(){return!1}}]),n}(Su)),kS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ZR=void 0,n.KR=void 0,n}E(n,t);var i=n.prototype;return i.Vm=function(){var t;return null==(t=this.KR)?void 0:t.SD},i.Sd=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.prototype.Sd.call(this));case 2:if(!this.KR){n.next=6;break}return n.next=5,Fr.awrap(this.ZR.VD(this.KR));case 5:this.KR=void 0;case 6:case"end":return n.stop()}},null,this,null,qe)},T(n,[{key:"wC",set:function(t){this.ZR=t,this.KR=t.TD(fp.wd)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this)._C=0,n.gC=!1,n.mC=!0,n.yC=1,n.kC=!1,n.Da=1,n.Em=new lp,n.Km=yS.fC().qD(),n.Hg=NaN,n.Fg=!1,n.mu=void 0,n.zg=void 0,n.Dm=void 0,n.iy=!1,n._y=!0,n.gy=yS.fC().qD(),n.yy=cS.wN,n.Y_=ey.Rg,n.py=yS.fC().qD(),n.QD=void 0,n.Rm=new Fb,n.Yg=0,n.Im=new lp,n.jg=0,n.by=new nS,n.uD=new YT,n}E(n,t);var i=n.prototype;return i.Fm=function(){},i.zm=function(){},i.Nm=function(){this.mC&&(this.mC=!1,this.Qs(new Ay(this.Xg)),this.Qs(new Tk(this.Xg)))},i.Cm=function(){this.mC||(this.mC=!0,this.Qs(new Cy(this.Xg,this.Jm)),this.Qs(new ky(this.Xg)))},i.Om=function(t,n){return qe.resolve()},i.xm=function(){return!1},i.Lm=function(){},i.Mm=function(){},i.Wm=function(){return bS},i.Zm=function(){},i.k_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this._C=0,this.kC=!1,this.Cm(),this.Qs(new by(this._C));case 4:case"end":return t.stop()}},null,this,null,qe)},i.Sd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.$s(),this.Em.Sd(),this.Rm.Sd(),this.Im.Sd();case 4:case"end":return t.stop()}},null,this,null,qe)},T(n,[{key:"Jm",get:function(){},set:function(t){}},{key:"Xg",get:function(){return this._C},set:function(t){this._C!==t&&(this._C=t,this.kC=!0,this.Qs(new Py(this.Xg)))}},{key:"ey",get:function(){return{sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Vg",get:function(){return this.gC},set:function(t){this.gC!==t&&(this.gC=t,this.Qs(new By(this.Xg,this.Qg)))}},{key:"Wg",get:function(){return this.mC}},{key:"Gg",get:function(){return this.yC},set:function(t){this.yC!==t&&(this.yC=t,this.Qs(new Ry(this.Xg,this.Gg)))}},{key:"qg",get:function(){return this.kC}},{key:"Qg",get:function(){return this.Da},set:function(t){this.Da!==t&&(this.Da=t,this.Qs(new By(this.Xg,this.Qg)))}},{key:"Ay",get:function(){return!1},set:function(t){}},{key:"ZD",get:function(){return this.uD}}]),n}(Su)),AS=function(t){function n(n,i,e,r,s,u){var o,a=new kS;return(o=t.call(this,hS.Yn,a)||this).Pc=void 0,o.pC=void 0,o.bC=void 0,o.AC=void 0,o.lE=void 0,o.TC=void 0,o.SC=void 0,o.bC=n,o.Pc=i,o.lE=e,o.TC=r,o.AC=u,o.pC=new le(s,o.AC),o.pC.EC(o.bC),a.wC=o.pC,o.SC=new fS(o.bC),o}E(n,t);var i=n.prototype;return i.Um=function(){t.prototype.Um.call(this),this.pC.IC()},i.Xm=function(t){var n,i,e,r;n=this,e=(i=t).Qg,r=i.Vg,n.Qg=e,n.Vg=r},i.Hm=function(){},i.TN=function(t){return t.kI(this.bC,this.pC,this.lE,this.Pc,this.TC,this.AC)},i.Vm=function(){return this.mN.Vm()},i.Gm=function(){return this.pC.RC.map(function(t){return t.SD})},i.Js=function(n){t.prototype.Js.call(this,n)},i.ou=function(n){t.prototype.ou.call(this,n)},i.Sd=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.prototype.Sd.call(this));case 2:this.pC.Sd(),this.SC.Sd();case 4:case"end":return n.stop()}},null,this,null,qe)},T(n,[{key:"$m",get:function(){return this.bC}},{key:"Ay",get:function(){return this.mN.Ay},set:function(t){this.mN.Ay=t}}]),n}(dS),TS=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).bC=void 0,r.DC=void 0,r.NC=void 0,r.BC=void 0,r.OC=void 0,r.oD=new nS,r.bC=n,r.DC=i,r.BC=new lp,r.OC=new Fb,r.NC=e,r}E(n,t);var i=n.prototype;return i.qm=function(t){return!0},i.zm=function(){},i.Nm=function(){throw this.Qs(new jy(this.NC)),this.DC},i.Cm=function(){},i.Bm=function(){},i.Om=function(t,n){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw fu(n),this.Qs(new jy(this.NC)),this.DC;case 3:case"end":return t.stop()}},null,this,null,qe)},i.Fm=function(){},i.Pm=function(){return qe.resolve()},i.Vm=function(){},i.Wm=function(){return bS},i.Gm=function(){return[]},i.Um=function(){},i.Xm=function(t){},i.Hm=function(){},i.xm=function(){return!1},i.Lm=function(){},i.Mm=function(){},i.Zm=function(){},i.k_=function(){return qe.resolve()},i.Sd=function(){return this.$s(),this.BC.Sd(),this.OC.Sd(),qe.resolve()},T(n,[{key:"Em",get:function(){return this.BC}},{key:"Km",get:function(){return yS.fC().qD()}},{key:"Jm",get:function(){return new Date(NaN)},set:function(t){}},{key:"Qm",get:function(){}},{key:"Xg",get:function(){return 0},set:function(t){}},{key:"Hg",get:function(){return 0}},{key:"$m",get:function(){return this.bC}},{key:"Fg",get:function(){return!0}},{key:"mu",get:function(){return this.DC}},{key:"zg",get:function(){return this.NC}},{key:"Dm",get:function(){}},{key:"ey",get:function(){return{sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Vg",get:function(){return!1},set:function(t){}},{key:"_y",get:function(){return!0}},{key:"Wg",get:function(){return!0}},{key:"Gg",get:function(){return 0},set:function(t){}},{key:"gy",get:function(){return yS.fC().qD()}},{key:"yy",get:function(){return cS.wN},set:function(t){}},{key:"Y_",get:function(){return ey.Rg}},{key:"py",get:function(){return yS.fC().qD()}},{key:"qg",get:function(){return!1}},{key:"Rm",get:function(){return this.OC}},{key:"Yg",get:function(){return 0}},{key:"Im",get:function(){return this.BC}},{key:"jg",get:function(){return 0}},{key:"Qg",get:function(){return 1},set:function(t){}},{key:"by",get:function(){return this.oD}},{key:"Ay",get:function(){return!1},set:function(t){}},{key:"iy",get:function(){return!1}}]),n}($m);function SS(t){if(t&&W(t))return Ur({},t,{integration:ES(t.integration),fairplay:PS(t.fairplay),widevine:IS(t.widevine),playready:RS(t.playready),clearkey:xS(t.clearkey),aes128:BS(t.aes128),integrationParameters:OS(t.integrationParameters),preferredKeySystems:LS(t.preferredKeySystems)})}function ES(t){if(G(t))return t}function IS(t){if(t&&W(t))return{persistentState:CS(t.persistentState),distinctiveIdentifier:CS(t.distinctiveIdentifier),audioRobustness:DS(t.audioRobustness),videoRobustness:DS(t.videoRobustness),licenseAcquisitionURL:G(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:NS(t.licenseType),headers:t.headers,useCredentials:!!$(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:G(t.certificate)||$o(t.certificate)?t.certificate:void 0}}function RS(t){if(t){var n=IS(t);if(n)return Ur({},n,{customData:G(t.customData)?t.customData:void 0})}}function CS(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function DS(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function NS(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function PS(t){if(t){var n=IS(t);if(n)return Ur({},n,{certificateURL:G(t.certificateURL)?t.certificateURL:void 0})}}function xS(t){if(t){var n=IS(t);if(n)return Ur({},n,{keys:V(t.keys)?t.keys.map(function(t){return function(t){if(!t||!W(t))return;var n=t.id,i=t.value;if(!G(n)||!G(i))return;return{id:n,value:i}}(t)}).filter(H):void 0})}}function BS(t){if(W(t))return{useCredentials:$(t.useCredentials)?t.useCredentials:void 0}}function OS(t){if(W(t))return t}function LS(t){return t&&V(t)?t.map(function(t){return bA(t)}).filter(H):[os,rs,fs]}function MS(t){return(t=t||{}).position=function(t){switch(t){case"top-left":case"top-right":case"bottom-left":case"bottom-right":return t;default:return}}(t.position),t.visibility=function(t){if(H(t)&&!p(t))return Ft(t,0,1)}(t.visibility),t.retainPresentationModeOnSourceChange=Sm(t.retainPresentationModeOnSourceChange),t}var jS,FS=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return E(n,t),n}(Iu),US=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).xC=[],e.LC=void 0,e.MC=function(t){yu(function(){e.js(t)})},e.LC=i?e.MC:e.js,e}E(n,t);var i=n.prototype;return i.UC=function(t){t.Js(this.LC),this.xC.push(t)},i.XC=function(t){t.ou(this.LC),$s(this.xC,t)},i.Sd=function(){this.$s();for(var t=0,n=this.xC;t<n.length;t++){n[t].ou(this.LC)}Ks(this.xC)},n}(Gm),HS=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(US);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(jS||(jS={}));var XS,VS=function(t){function i(n){var i;return(i=t.call(this)||this).HC=void 0,i.FC=void 0,i.zC=!1,i.VC=!1,i.WC=void 0,i.GC=void 0,i.qC=void 0,i.Ww=void 0,i.YC=function(){return i.jC()},i.QC=function(){return i.ZC()},i.qC=n,i.HC=i.FC=i.WC=i.GC=jS.INLINE,i.qC.Zs(gS.r_,i.YC),i.qC.Zs(gS.z_,i.QC),i.KC(),i}E(i,t);var e=i.prototype;return e.qw=function(){return t=this,i={get currentMode(){return t.JC()},requestMode:function(n){var i=WS(n);i&&t.$C(i)},supportsMode:function(n){var i=WS(n);return!!i&&t.tP(i)},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},(n=new US(i,!0)).UC(t),i;var t,n,i},e.$C=function(t){this.nP(t,t)},e.nP=function(t,n){this.FC!==n&&(this.zC=!0,this.HC=t,this.iP(n,this.FC),t!==jS.FULLSCREEN&&(this.WC=t),this.zC=!1,this.KC())},e.JC=function(){return this.VC?jS.FULLSCREEN:jS.INLINE},e.tP=function(t){switch(t){case jS.FULLSCREEN:return this.qC.dC;case jS.INLINE:return!0}return!1},e.KC=function(){if(!this.zC){var t=this.FC,n=this.JC();this.FC=n,n!==jS.FULLSCREEN&&(this.GC=n),t!==n&&this.Qs(new FS(n))}},e.iP=function(t,n){var i=t===jS.FULLSCREEN;this.VC=i,i!==this.qC.lC&&(i?this.qC.Xy():this.qC.Fy())},e.jC=function(){if(!this.zC){var t=this.qC.lC;this.VC=t,t?this.nP(jS.FULLSCREEN,jS.FULLSCREEN):t||this.HC!==jS.FULLSCREEN?this.KC():this.nP(this.WC,this.GC)}},e.ZC=function(){this.jC(),this.Qs(new jy(new lf(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.Sd=function(){this.qC.Sd(),this.$s()},T(i,[{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}}]),i}(Gm),zS={Xg:0,Hg:NaN,Fg:!1,mu:void 0,zg:void 0,Vg:!1,Wg:!0,Gg:1,Y_:ey.Rg,qg:!1,Yg:0,jg:0,Qg:1};function WS(t){switch(t){case jS.INLINE:case jS.FULLSCREEN:case jS.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(XS||(XS={}));var qS,GS,$S,YS,QS,ZS,KS,JS,tE=function(){function t(){this.eP=[]}var n=t.prototype;return n.rP=function(t){var n=this.sP.filter(function(n){return n.uP(t)});if(n.length>1)0;else if(0===n.length)throw l("Unknown ad integration: "+t.integration);return n[0]||null},n.oP=function(t){this.eP.push(t)},T(t,[{key:"sP",get:function(){return this.eP}}]),t}();tE.Yn=new tE,function(t){t.Ug="PLAYING",t.dm="PAUSED",t.aP="SEEK",t.hP="STALLED",t.cP="FAILED",t.fP="INITIAL_BUFFERING",t.vP="NO_ACCESS"}(qS||(qS={})),function(t){t.lP="HTTP_REQUEST_STATUS_CODE_1XX",t.dP="HTTP_REQUEST_STATUS_CODE_2XX",t.wP="HTTP_REQUEST_STATUS_CODE_3XX",t._P="HTTP_REQUEST_STATUS_CODE_4XX",t.gP="HTTP_REQUEST_STATUS_CODE_5XX",t.mP="BUFFER_LENGTH",t.yP="BYTES_RECEIVED",t.kP="SEGMENT_READ_BITRATE",t.pP="SEGMENT_PROFILE_BITRATE",t.bP="NUMBER_OF_FRAMES_DROPPED",t.AP="PLAYBACK_POSITION",t.TP="NUMBER_OF_FRAMES_DECODED",t.SP="PLAYBACK_DELTA_TO_ORIGIN",t.EP="STREAM_DELTA_TO_ORIGIN",t.IP="ORIGIN_TIMESTAMP"}(GS||(GS={})),function(t){t.RP="MANIFEST_URI",t.DP="ASSET_DURATION",t.NP="NUMBER_OF_CONTENT_PROFILES",t.CP="CDN",t.PP="CONTENT_TITLE",t.BP="SERVICE_NAME",t.OP="CONTENT_TYPE",t.xP="CONTENT_DESCRIPTION"}($S||($S={})),function(t){t.LP="shutdown_normal_shutdown"}(YS||(YS={})),function(t){t.MP="session/",t.UP="internalError/",t.XP="drmError/",t.HP="caError/",t.FP="networkError/"}(QS||(QS={})),function(t){t.zP="userAction",t.VP="endOfStreamReached"}(ZS||(ZS={})),function(t){t.PAUSE="WP",t.RESUME="GP"}(KS||(KS={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(JS||(JS={}));var nE,iE,eE,rE,sE,uE="agama";function oE(t){return function(t){switch(t){case nE.NONE:case nE.HORIZONTAL:case nE.VERTICAL:return!0;default:return!1}}(t)?t:nE.NONE}function aE(t){switch(t){case"":return nE.NONE;case"horizontal":return nE.HORIZONTAL;case"vertical":return nE.VERTICAL;default:throw new v}}function hE(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!G(t))return iE.dN;switch(t){case"always":return iE.qP;case"never":return iE.YP;case"clear-only":return iE.CLEAR_ONLY;default:return iE.dN}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:null==t?void 0:t.needsTimescaleShifting}}function cE(t){if(!t||!G(t))return eE.dN;switch(t){case"playlist":return eE.jP;case"media":return eE.QP;default:return eE.dN}}function fE(t,n){return t.length>0?t:n.length>0?n:void 0}function lE(t){if(null!==t)return t}function vE(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:lE(t.streamActivityMonitorID),adTagParameters:W(t.adTagParameters)?t.adTagParameters:{},authToken:lE(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,s=t.contentSourceID;return r?s?Ur({},e,{availabilityType:"vod",videoID:r,contentSourceID:s}):void i.gr("A VOD DAI configuration was provided without valid contentSourceID which is required."):void i.gr("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Ur({},e,{availabilityType:"live",assetKey:u}):void i.gr("A Live DAI configuration was provided without valid assetKey which is required.")}i.gr("A DAI configuration was provided without a valid availabilityType which is required.")}function dE(t){if(!vA(t)||!t.integration)return t;switch(t.integration){case Ok:return n=t,i=_A(Kr.$r,n),e=_A(Kr.Jr,n),r=n[Kr.us]&&_A(Kr.us,n),Ur({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(nE||(nE={})),function(t){t.dN="auto",t.qP="always",t.YP="never",t.CLEAR_ONLY="clear-only"}(iE||(iE={})),function(t){t.dN="auto",t.jP="playlist",t.QP="media"}(eE||(eE={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(rE||(rE={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(sE||(sE={}));var wE="https://content.uplynk.com";function gE(t){if(!t)return!0;var n,i=!(vy(n=t.sources)||z(n)&&vy(n[0]))||dy(t.sources),e=!t.ads||mE(t.ads),r=""!==t.poster&&!t.poster;return i&&e&&r}function mE(t){return!t||V(t)&&0===t.length}function yE(t){if(t&&t.sources)return function t(n){if(G(n))return n;if(ly(n))return n.src;if(z(n)&&n.length>0)return t(n[0]);return}(t.sources)}function pE(t,n,i){return cy(t)?function(t,n,i){var e=Ur({},wy(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:rE.VERIZON_MEDIA,id:"",prefix:wE,preplayParameters:{},playbackUrlParameters:{},assetType:sE.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,G(r)?r:z(r)&&G(r[0])?r:W(s=r)&&G(s.userId)&&(z(s.externalId)||G(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return sE.CHANNEL;case"event":return sE.EVENT;case"asset":default:return sE.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=Sm(t.contentProtected));t.assetInfo?e.assetInfo=Sm(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=Rm(t.prefix)||wE);return e.ping=(u=e.assetType,o=t.ping,a=!1,h=!1,c=!1,o?(a=!!$(o.adImpressions)&&o.adImpressions,h=!!$(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=$(o.linearAdData)?o.linearAdData:u!==sE.ASSET):u!==sE.ASSET&&(c=!0),{adImpressions:a,freeWheelVideoViews:h,linearAdData:c}),e=bE(e=kE(e=_E(e,t),n,i),t,i);var u,o,a,h,c}(t,n,i):function(t,n,i){var e=gy(),r=n&&(n.contentProtection||n.drm);if(G(t)){if(e.src=t,e.type=uy(t),r){var s=SS(r);e.contentProtection=dE(s)}}else if(ly(t)||hy(t)){e.src=t.src,e.type=t.type||uy(t.src),e.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===ty.Eg||t.type===ty.Ig}(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=W(c=t)&&G(c.integration)&&"mediatailor"===c.integration;o&&(e.integration=t.integration);var a=t.contentProtection||t.drm||r,h=SS(a);e.contentProtection=dE(h),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return vE(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=_E(e,t)}var c;return e=bE(e=kE(e,n,i),t,i)}(t,n,i)}function _E(t,n){var i,e;n.useCredentials?t.crossOrigin=Jm.Sg:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case Jm.Tg:case Jm.Sg:return t;default:return Jm.Ag}}(n.crossOrigin)),G(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Sm(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Sm(n.useNativePlayback)),n.dash&&(t.dash=hE(n.dash)),n.hls&&(t.hls={discontinuityAlignment:cE(null==(i=n.hls)?void 0:i.discontinuityAlignment),useLegacy:(e=null==i?void 0:i.useLegacy,H(e)?Boolean(e):void 0)}),n.lcevc&&(t.lcevc=Sm(n.lcevc));var r=void 0!==n.experimentalRendering?Sm(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var s=void 0!==n.nativeUiRendering?Sm(n.nativeUiRendering):void 0;return void 0!==s&&(t.nativeUiRendering=s),t}function bE(t,n,i){return t.abr=function(t,n){var i=Cm(null==t?void 0:t.preferredAudioCodecs,Rm),e=Cm(null==t?void 0:t.preferredVideoCodecs,Rm),r=Cm(null==n?void 0:n.preferredAudioCodecs,Rm),s=Cm(null==n?void 0:n.preferredVideoCodecs,Rm),u=fE(i,r),o=fE(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}(G(n)?void 0:n.abr,null==i?void 0:i.abr),t}function kE(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!H(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!H(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===Jm.Ag&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=Jm.Tg),t.useCredentials=t.crossOrigin===Jm.Sg,G(r)&&!t.timeServer&&(t.timeServer=r),t}function AE(t){var n,i,e={src:""};if(t&&t.src){if(e.src=Rm(t.src),"default"in t&&(e.default=Sm(t.default)),e.kind=(n=t.kind,Hb(i=String(n||"").toLowerCase())?i:i?jb.Kb:jb.Qb),function(t){switch(t){case Ip.DEFAULT:case Ip.SRT:case Ip.TTML:case Ip.WEBVTT:case Ip.EMSG:case Ip.EVENT_STREAM:case Ip.ID3:case Ip.CEA608:case Ip.DATE_RANGE:return!0;default:return!1}}(t.format)&&(e.format=t.format),"srclang"in t){var r=t.srclang;"string"==typeof r&&""!==r&&(e.srclang=r)}if("label"in t){var s=t.label;"string"==typeof s&&""!==s&&(e.label=s)}}return e}function TE(t,n){if(q(t))try{return n.rP(t).ZP(t)}catch(t){return}}function SE(t){return G(t.sources)&&""!==t.sources||W(t.sources)&&G(t.sources.src)}function EE(t){return t.integration===XS.SPOTX&&!p(t.id)}function IE(t){return"freewheel"===t.integration}function RE(t,n,i){if(void 0===i&&(i=tE.Yn),gE(t))return{sources:[gy()]};var e=bm(t);if(e.sources=function(t,n,i){if(vy(t))return[pE(t,n,i)];if(z(t)&&vy(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(pE(s,n,i))}return e}return[gy()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!z(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=TE(s,n))&&(SE(s)||EE(s)||IE(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,a=!dy(e.sources),h=e.ads&&e.ads.length>0;if(a&&!h?delete e.ads:h&&!a&&(e.sources=[]),"textTracks"in e){var c=function(t){if(!z(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=AE(r)).src&&n.push(r)}return n}(e.textTracks);0===c.length?delete e.textTracks:e.textTracks=c}if("poster"in e&&(e.poster=Rm(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=oE(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?aE(u.stereoMode):nE.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=yy(e.analytics),l=n&&n.analytics||[];e.analytics=function(t,n){for(var i=bm(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==uE&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,l)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Fy(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=Em(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var CE=function(){function t(t){this.KP=t}return t.prototype.JP=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";var h=t.length%4;if(h>0)for(;h++<4;)t+=this.KP.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.KP.indexOf(t.charAt(n))<<18|this.KP.indexOf(t.charAt(n+1))<<12|(s=this.KP.indexOf(t.charAt(n+2)))<<6|(u=this.KP.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.$P=function(t,n){var i,e,r,s,u,o,a,h=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.KP.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,h[o/3]=this.KP.charAt(e)+this.KP.charAt(r)+this.KP.charAt(s)+this.KP.charAt(u);return a=(a=h.join("")).slice(0,a.length-c.length),n||(a+=c),a},t.eb=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.tB=new t(t.eb.JP("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function DE(t){return"string"==typeof t}function NE(t){return"number"==typeof t}var PE={}.toString;var xE,BE=Array.isArray||function(t){return"[object Array]"===PE.call(t)};function OE(t,n){return BE(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(xE||(xE={}));var LE,ME=w.keys(xE).map(function(t){return xE[t]});function jE(t){return-1!==ME.indexOf(t)}!function(t){t.MULTIVIEW="multiview"}(LE||(LE={}));var FE,UE=w.keys(LE).map(function(t){return LE[t]});function HE(t){return-1!==UE.indexOf(t)}function XE(t){try{var n=CE.tB.JP(t),i=JSON.parse(n);if(!function(t,n){var i,e=(v=t,"object"==typeof v&&null!==v),r=DE(t.key),s=DE(t.customer_id),u=NE(t.generation_date),o=NE(t.expiration_date),a=OE(t.domains_page,DE),h=OE(t.domains_source,DE),c=OE(t.sdks,n?jE:DE),f=(l=t.send_impression,"boolean"==typeof l);var l;var v;t.features?i=OE(t.features,n?HE:DE):(i=!0,t.features=[]);if(!(e&&r&&s&&u&&o&&a&&h&&c&&f&&i))return!1;return!0}(i,!1))throw new l("The provided license could not be decoded correctly.");return i}catch(t){throw new l("The provided license could not be decoded correctly.")}}function VE(){return FE||(FE={Ql:ge.href,nB:we.parent&&we.parent!==r,iB:qE()}),FE}var zE,WE=["http:","https:","ftp:","ws:","wss:"];function qE(){try{return we.top.location.href}catch(t){return we&&we.document&&we.document.referrer}}!function(t){t[t.eB=0]="eB",t[t.rB=1]="rB",t[t.sB=2]="sB"}(zE||(zE={}));var GE,$E=function(t,n,i,e,r,s,u,o,a){void 0===r&&(r=[]),void 0===s&&(s=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.uB=t,this.oB=n,this.aB=i,this.hB=e,this.cB=r,this.fB=s,this.vB=u,this.lB=o,this.dB=a};!function(t){t.rB="expired",t.wB="invaliddomain",t._B="invalidsource",t.gB="invalidfeature",t.z_="error"}(GE||(GE={}));var YE=function(){function t(t,n,i){this.mB=void 0,this.yB=t,this.kB=n,this.Qo=i,this.mB=nI(this.Qo)}var n=t.prototype;return n.pB=function(t,n){var i=this;if(!gE(t)&&0!==n.aB.length&&!KE(n.aB)){var e=[];if(vy(t.sources)?e=[t.sources]:z(t.sources)&&(e=t.sources),!e.every(function(t){return i.bB(t,n)})){var r=GE._B,s=eI.AB(r);throw new lf(QE(r),s)}}},n.TB=function(n){return this.SB(n.lB)&&this.EB(n)?t.IB(n.hB)?zE.eB:zE.rB:zE.sB},n.RB=function(t,n){if(!Zs(n.cB,t)){var i=GE.gB,e=eI.AB(i);throw new lf(QE(i),e)}},n.SB=function(t){var n=this;return 0===t.length||t.some(function(t){return n.DB(t)})},n.DB=function(t){return"ios"===function(t){switch(t){case xE.ANDROID:return e.g;case xE.ANDROIDTV:case xE.FIRETV:return e.I;case xE.IOS:return e.R;case xE.TVOS:return e.N;case xE.CHROMECAST:case xE.CHROMECASTCAF:return e.M;default:return e.l}}(t)},t.IB=function(t){var n=Number(new Date);return!!t&&n<=t},n.EB=function(t){return!(this.mB&&0!==t.oB.length&&!KE(t.oB))||!!(this.mB&&this.NB(t.oB)&&this.CB(t.oB))},n.NB=function(t){return JE(this.Qo.Ql,t)},n.CB=function(t){if(!this.Qo.nB)return!0;if(this.yB)return!0;var n=this.PB();return!!n&&JE(n,t)},n.PB=function(){if(this.Qo.nB){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Qo.iB?this.Qo.iB:void 0}},n.bB=function(n,i){return!!t.BB(n,i.aB)},t.BB=function(t,n){return JE(this.OB(t),n)},t.OB=function(t){return G(t)?t:ly(t)&&t.src||""},t}();function QE(t){switch(t){case GE.wB:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case GE._B:return n.ErrorCode.LICENSE_INVALID_SOURCE;case GE.rB:return n.ErrorCode.LICENSE_EXPIRED;case GE.gB:return n.ErrorCode.LICENSE_INVALID_FEATURE;case GE.z_:return n.ErrorCode.LICENSE_ERROR}}function ZE(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),a=e.match(o),h=function(t){return"*"===t?"("+s+")":t};if(null!==a&&5===a.length){var c=new RegExp("^"+a[1]+r+h(a[2])+r+h(a[3])+r+h(a[4])+"$");return null!==i.match(c)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function KE(t){return t.some(function(t){return"*"===t})}function JE(t,n){var e=i.Br(t);if(!tI(e))return!0;for(var r=0;r<n.length;r++){var s=n[r];if(ZE(e.hostname,s))return!0;if(ZE(kw(t),s))return!0}return!1}function tI(t){return-1!==WE.indexOf(t.protocol)}function nI(t){var n=i.Br(t.Ql);return tI(n)&&!ZE(n.hostname,"localhost")&&!function(t){return ZE(t.hostname,"theoplayer.doubleclick.net")}(n)}var iI,eI=function(){function t(){}return t.AB=function(t){return t===GE.wB?this.xB:t===GE._B?this.LB:t===GE.rB?this.MB:t===GE.gB?this.UB:this.XB},t}();function rI(t){var n=[t.fS,t.HB,t.FB];switch(t.HB){case iI.zB:n.push(t.Z_);break;case iI.VB:n.push(t.Xg),n.push(t.mu);break;case iI.WB:n.push(t.mu)}return n}eI.XB="The license for this player is invalid.",eI.MB="The usage license for this video player has expired.",eI.xB="The current domain is incompatible with the license for this player.",eI.LB="The provided video source is incompatible with the license for this player.",eI.UB="The requested feature is not available with the license for this player.",function(t){t[t.zB=1]="zB",t[t.VB=4]="VB",t[t.WB=5]="WB"}(iI||(iI={}));for(var sI=new Array(256),uI=0;uI<256;uI+=1)sI[uI]=(uI<16?"0":"")+uI.toString(16);function oI(){var t=Wt(),n=(4294967296*g.random()|0)+t&3029421624,i=(4294967296*g.random()|0)+t&3595553209,e=(4294967296*g.random()|0)+t&1130486254,r=(4294967296*g.random()|0)+t&1284287105;return sI[255&n]+sI[n>>>8&255]+sI[n>>>16&255]+sI[n>>>24&255]+"-"+sI[255&i]+sI[i>>>8&255]+"-"+sI[i>>>16&15|64]+sI[i>>>24&255]+"-"+sI[63&e|128]+sI[e>>>8&255]+"-"+sI[e>>>16&255]+sI[e>>>24&255]+sI[255&r]+sI[r>>>8&255]+sI[r>>>16&255]+sI[r>>>24&255]}var aI=function(){function t(t){this.KP=void 0,this.KP=t}var n=t.prototype;return n.JP=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.KP.indexOf(t.charAt(n))<<18|this.KP.indexOf(t.charAt(n+1))<<12|(s=this.KP.indexOf(t.charAt(n+2)))<<6|(u=this.KP.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.$P=function(t){var n,i,e,r,s,u,o,a=[],h="";if((u=t.length%3)>0)for(;u++<3;)h+=this.KP.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,a[u/3]=this.KP.charAt(i)+this.KP.charAt(e)+this.KP.charAt(r)+this.KP.charAt(s);return(o=a.join("")).slice(0,o.length-h.length)+h},t}();function hI(){return i.ir()}aI.eb=new aI(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),aI.tB=new aI(aI.eb.JP("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var cI,fI="theoplayer-session-id";function lI(){if(!cI){var t=Rf.Iu(fI);t?cI=t:(cI=oI(),Rf.ef(fI,cI))}return cI}var vI=/[^\x00-\x7E]/g;function dI(t){return"\\u"+Is(t.charCodeAt(0).toString(16),4,"0")}var wI=0,gI=1,mI=6e4;function yI(t){var n,i,e,r,s,u=(n=function(t){return[t.GB,t.nc,t.uB,t.EA,t.qB,t.YB,t.jB.map(rI)]}(t),i=[],e=n,r=function(t,n){if(W(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(vI,dI));return aI.tB.$P(u)}var pI=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=aI.eb),void 0===r&&(r=wI),void 0===s&&(s=gI),this.QB=[],this.ZB=null,this.KB=0,this.JB="unknown",this.Fa=0,this.$B=void 0,this.tO=function(){hI()-u.KB>mI&&u.Pe()},this.nO=function(){u.Pe(!0)},this.wh=t,this.lE=n,this.iO=i,this.eO=e,this.rO=r,this.sO=s,de.uO(this.nO),this.$B=c(this.tO,mI)}var n=t.prototype;return n.oO=function(){return Boolean(this.qB)},n.aO=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.iO.hO());case 2:if(i.sent.dB){i.next=5;break}return i.abrupt("return");case 5:return n={HB:iI.zB,FB:Wt(),Z_:t},i.next=8,Fr.awrap(this.cO(n));case 8:case"end":return i.stop()}},null,this,null,qe)},n.fO=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={HB:iI.VB,FB:Wt(),Xg:n,mu:t},e.next=3,Fr.awrap(this.cO(i));case 3:case"end":return e.stop()}},null,this,null,qe)},n.vO=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={HB:iI.WB,FB:Wt(),mu:t},i.next=3,Fr.awrap(this.cO(n));case 3:case"end":return i.stop()}},null,this,null,qe)},n.cO=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.iO.hO());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.eO.$P(n.uB)){i.next=6;break}if(t.HB===iI.WB){i.next=6;break}return i.abrupt("return");case 6:if(t.HB===iI.zB?this.lO():this.oO()||this.lO(),t.fS=this.Fa++,this.QB.push(t),(e=t.HB)!==iI.zB&&e!==iI.WB){i.next=14;break}return i.next=12,Fr.awrap(this.Pe());case 12:i.next=19;break;case 14:if(!(this.QB.length>this.rO)){i.next=19;break}return i.next=17,Fr.awrap(this.dO());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,qe)},n.Pe=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.QB.length>0)){n.next=6;break}return n.next=4,Fr.awrap(this.dO(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,qe)},n.wO=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.iO.hO());case 2:return n=i.sent,i.abrupt("return",{GB:Wt(),nc:lI(),uB:this.eO.$P(n.uB)||"dev",EA:this.wh,qB:this.ZB,YB:this.JB,jB:t});case 4:case"end":return i.stop()}},null,this,null,qe)},n.dO=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.QB.splice(0,this.sO),e.next=4,Fr.awrap(this.wO(n));case 4:i=e.sent,t?this.Td(i):this._O(i),this.KB=hI();case 7:case"end":return e.stop()}},null,this,null,qe)},n._O=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=yI(t),i=new dw({Ql:"https://license.theoplayer.com",Cl:n,bd:!1,Wl:xf.$n,Vl:{"Content-Type":tT.qI},yd:4e3,md:hw.POST}),r.prev=2,r.next=5,Fr.awrap(this.lE.Yl(i));case 5:return e=r.sent,r.next=8,Fr.awrap(e.Rl());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],qe)},n.Td=function(t){var n=yI(t);this.lE.Td({Ql:"https://license.theoplayer.com",Cl:n,Nl:tT.qI})},n.lO=function(){this.oO()&&this.Pe(),this.ZB=oI(),this.Fa=0},n.Sd=function(){de.gO(this.nO),f(this.$B),this.Pe()},T(t,[{key:"jB",get:function(){return this.QB}},{key:"qB",get:function(){return this.ZB}}]),t}();var _I=j.Rn||j.hn&&j.On<13;function bI(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var kI=function(){function t(t){this.fN=void 0,this.Ww=void 0,this.mO=void 0,this.fN=t}var n=t.prototype;return n.yO=function(t){if(!t||!t.drawImage)return!1;var n=this.fN.Vm();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.kO=function(t,n,i,e,r,u){if(!t||!t.texImage2D)return!1;var o=this.fN,a=o.Vm();if(!a)return!1;if(_I){this.mO||(this.mO=s.createElement("canvas"));var h=this.mO,c=h.getContext("2d"),f=o.jg,v=o.Yg,d=h.width,w=h.height;c.clearRect(0,0,h.width,h.height),d===f&&w===v||(h.width=f,h.height=v),c.drawImage(a,0,0,f,v);var g=!1;f>0&&bI(c,f-1,0)&&(h.width=d,g=!0),v>0&&bI(c,0,v-1)&&(h.height=w,g=!0),g&&c.drawImage(a,0,0,f,v),a=h}try{t.texImage2D(n,i,e,r,u,a)}catch(t){throw new l("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},T(t,[{key:"Gw",get:function(){return this.Ww||(this.Ww=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.yO.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.kO(n,i,e,r,s,u)}}));var t}}]),t}(),AI=function(t){function n(n,i){var e;return(e=t.call(this,"pO")||this).Tk=n,e.sT=i,e}return E(n,t),n.prototype.qw=function(){return new TI(this.Tk,this.sT)},n}(rm),TI=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return E(n,t),n}(Iu),SI=function(t,n){this.$m=void 0,this.bO=void 0,this.$m=t,this.bO=n},EI=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).AO=void 0,e.TO=0,e.SO=0,e.EO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.SO=n.width,e.TO=n.height,e.bO(e.SO,e.TO)}},e.AO=new we.ResizeObserver(e.EO),e.AO.observe(e.$m),e}return E(n,t),n.prototype.Sd=function(){this.AO.disconnect()},T(n,[{key:"IO",get:function(){return this.TO}},{key:"RO",get:function(){return this.SO}}]),n}(SI),II=0;var RI,CI=h,DI=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,NI=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function PI(){return RI||(RI=we&&we.document&&we.document.createElement("span")),RI}DI&&NI||(DI=function(t){var n=hI(),i=g.max(0,16-(n-II)),e=a(function(){return t(n+i)},i);return II=n+i,e},NI=CI),DI=DI.bind(t),NI=NI.bind(t);var xI=["Webkit","Moz","O","ms"],BI=function(){var t=!1;try{if(void 0!==we&&"function"==typeof we.addEventListener){var n=w.defineProperty({},"passive",{get:function(){t=!0}});we.addEventListener("testPassiveEventSupport",K,n),we.removeEventListener("testPassiveEventSupport",K,n)}}catch(t){}return t}(),OI=Xr();function LI(t){return OI.has(t)||OI.set(t,function(t){var n=PI();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<xI.length;e++){var r=xI[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),OI.get(t)}function MI(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function jI(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[LI("transition")]="0s"}var FI=function(t){function n(n,i,e){var u;(u=t.call(this,n,i)||this).DO=void 0,u.CO=0,u.SO=NaN,u.TO=NaN,u.PO=void 0,u.BO=void 0,u.OO=void 0,u.xO=void 0,u.LO=void 0,u.k_=function(){u.BO.style.width=1e5+"px",u.BO.style.height=1e5+"px",u.PO.scrollLeft=1e5,u.PO.scrollTop=1e5,u.OO.scrollLeft=1e5,u.OO.scrollTop=1e5,0===u.OO.scrollTop&&DI(u.k_)},u.MO=function(){var t=u.RO,n=u.IO;u.bO(t,n),u.SO=t,u.TO=n,u.k_(),u.CO=0},u.UO=function(){if(!u.CO){var t=u.RO,n=u.IO;t===u.SO&&n===u.TO||(u.CO=DI(u.MO))}},u.XO=function(){u.LO||(u.LO=a(u.HO,66))},u.HO=function(){u.LO=void 0,u.FO()},u.FO=function(){u.UO()};var o=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");e||"static"!==o||(n.style.position="relative");var h,c=s.createElement("div");return u.DO=c,u.PO=s.createElement("div"),u.BO=s.createElement("div"),u.OO=s.createElement("div"),u.xO=s.createElement("div"),MI(u.PO),MI(u.OO),jI(u.BO),jI(h=u.xO),h.style.width="200%",h.style.height="200%",c.appendChild(u.PO),c.appendChild(u.OO),u.PO.appendChild(u.BO),u.OO.appendChild(u.xO),n.appendChild(c),u.PO.addEventListener("scroll",u.UO),u.OO.addEventListener("scroll",u.UO),r&&r.addEventListener("resize",u.XO),u.UO(),u}return E(n,t),n.prototype.Sd=function(){NI(this.CO),this.CO=0,this.PO.removeEventListener("scroll",this.UO),this.OO.removeEventListener("scroll",this.UO),nr(this.DO),r&&r.removeEventListener("resize",this.XO)},T(n,[{key:"IO",get:function(){return this.$m.getBoundingClientRect().height||this.TO||0}},{key:"RO",get:function(){return this.$m.getBoundingClientRect().width||this.SO||0}}]),n}(SI),UI=function(t){function n(n){var i;return(i=t.call(this)||this).$m=void 0,i.AO=void 0,i.EO=function(t,n){i.Qs(new AI(t,n))},i.$m=n,i}E(n,t);var i=n.prototype;return i.hc=function(t){this.AO||("function"==typeof we.ResizeObserver?this.AO=new EI(this.$m,this.EO):this.AO=new FI(this.$m,this.EO,t))},i.Sd=function(){this.$s(),this.AO&&(this.AO.Sd(),this.AO=void 0)},T(n,[{key:"IO",get:function(){return this.AO?this.AO.IO:0}},{key:"RO",get:function(){return this.AO?this.AO.RO:0}}]),n}(Su),HI=function(t){function n(){return t.call(this,gS.r_)||this}return E(n,t),n}(Iu);var XI=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{zO:i[0],VO:i[1],WO:i[2],GO:i[3],qO:i[4],YO:i[5]}}}(),VI=function(t){function n(){return t.call(this,gS.vC)||this}return E(n,t),n}(Iu),zI=function(t){function n(i){var e;return(e=t.call(this)||this).$m=void 0,e.dC=void 0,e.lC=!1,e.jO=function(){return e.YC()},e.QO=function(){return e.QC()},e.$m=i,e.dC=n.ZO(i),s.addEventListener(XI.qO,e.jO),e.YC(),e}E(n,t),n.ZO=function(t){return Boolean(XI&&s[XI.GO]&&XI.zO in t)};var i=n.prototype;return i.Xy=function(){var t=this.$m[XI.zO]();t&&t.then?t.then(this.jO,this.QO):(s.removeEventListener(XI.YO,this.QO),s.addEventListener(XI.YO,this.QO))},i.Fy=function(){var t=s[XI.VO]();t&&t.then?t.then(this.jO,this.QO):(s.removeEventListener(XI.YO,this.QO),s.addEventListener(XI.YO,this.QO))},i.YC=function(){var t=this.lC,n=this.$m===s[XI.WO];this.lC=n,t!==n&&this.Qs(new HI)},i.QC=function(){this.Qs(new _S)},i.Sd=function(){this.$s(),s.removeEventListener(XI.qO,this.jO),s.removeEventListener(XI.YO,this.QO)},n}(Su),WI=function(t){function n(i){var e;return(e=t.call(this)||this).$m=void 0,e.dC=void 0,e.lC=!1,e.jO=function(){return e.YC()},e.$m=i,e.dC=n.ZO(i),e.$m.addEventListener("webkitbeginfullscreen",e.jO),e.$m.addEventListener("webkitendfullscreen",e.jO),e.$m.addEventListener("webkitpresentationmodechanged",e.jO),e.YC(),e}E(n,t),n.ZO=function(t){return j.hn&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.Xy=function(){var t=this;this.$m.webkitSupportsPresentationMode&&this.$m.webkitSupportsPresentationMode("fullscreen")?j.hn?requestAnimationFrame(function(){return t.$m.webkitSetPresentationMode("fullscreen")}):this.$m.webkitSetPresentationMode("fullscreen"):this.$m.webkitEnterFullscreen()},i.Fy=function(){this.$m.webkitSupportsPresentationMode&&this.$m.webkitSupportsPresentationMode("inline")?this.$m.webkitSetPresentationMode("inline"):this.$m.webkitExitFullscreen()},i.YC=function(){var t,n=this.lC;t=this.$m.webkitPresentationMode?"fullscreen"===this.$m.webkitPresentationMode:!!this.$m.webkitDisplayingFullscreen,this.lC=t,n!==t&&this.Qs(new HI)},i.Sd=function(){this.$s(),this.$m.removeEventListener("webkitbeginfullscreen",this.jO),this.$m.removeEventListener("webkitendfullscreen",this.jO),this.$m.removeEventListener("webkitpresentationmodechanged",this.jO)},n}(Su),qI=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).KO=[],n.JO=void 0,n.VC=!1,n.YC=function(){var t=n.VC,i=n.$O();t!==i&&(n.VC=i,n.Qs(new HI))},n}E(n,t);var i=n.prototype;return i.Xy=function(){this.JO?this.JO.Xy():this.Qs(new _S)},i.Fy=function(){for(var t=0,n=this.KO;t<n.length;t++){var i=n[t];i.lC&&i.Fy()}},i.tx=function(t){this.JO=t},i.nx=function(t){this.KO.push(t),t.Zs(gS.r_,this.YC),t.Zs(gS.z_,this.js),this.YC()},i.ix=function(t){$s(this.KO,t),t.tu(gS.r_,this.YC),t.tu(gS.z_,this.js)},i.$O=function(){for(var t=0,n=this.KO;t<n.length;t++){if(n[t].lC)return!0}return!1},i.k_=function(){this.JO=void 0,this.VC=!1;for(var t=this.KO.slice(),n=0;n<t.length;n++){var i=t[n];this.ix(i),i.Sd()}this.YC()},i.Sd=function(){this.$s(),this.k_()},T(n,[{key:"dC",get:function(){return!!this.JO&&this.JO.dC}},{key:"lC",get:function(){return this.VC}}]),n}(Su),GI=function(t){function n(n,i){var e;return(e=t.call(this)||this).fN=void 0,e.ex=void 0,e.sx=void 0,e.ux=!1,e.ox=function(){return e.Zh()},e.YC=function(t){e.ux||e.Qs(t)},e.fN=n,e.ex=i,e.sx=bS,e.ax(),e.fN.Zs(Pf.yf,e.ox),e.Zh(),e}E(n,t);var i=n.prototype;return i.Xy=function(){this.ex&&this.sx.Xy()},i.Fy=function(){this.sx.Fy()},i.ax=function(){this.sx.Zs(gS.r_,this.YC),this.sx.Zs(gS.z_,this.js)},i.hx=function(){this.sx.tu(gS.r_,this.YC),this.sx.tu(gS.z_,this.js)},i.Zh=function(){var t=this.sx,n=this.fN.Wm();if(t!==n){this.ux=!0;var i=this.lC,e=this.dC;i&&this.Fy(),this.hx(),this.sx=n,this.ax(),i&&!this.lC&&this.dC?this.Xy():this.Fy(),this.ux=!1,e!==this.dC&&this.Qs(new VI),i!==this.lC&&this.Qs(new HI)}},i.Sd=function(){this.$s(),this.hx(),this.fN.tu(Pf.yf,this.ox)},T(n,[{key:"dC",get:function(){return!!this.ex&&this.sx.dC}},{key:"lC",get:function(){return this.sx.lC}}]),n}(Su);function $I(t){var n;return{get url(){return t.Ql},get method(){return t.md},get headers(){return n||(n=t.Vl.jf()),n},get body(){return t.Cl},get useCredentials(){return t.bd},get type(){return JI(t.fs)},get subType(){return nR(t.kd)},get mediaType(){return eR(t.pd)},get responseType(){return QI(t.Wl)}}}function YI(t){switch(t.toLowerCase()){case"arraybuffer":return xf.Gf;case"json":return xf.qf;case"stream":return xf.Yf;case"text":default:return xf.$n}}function QI(t){return t}function ZI(t){switch(t.toUpperCase()){case"POST":return hw.POST;case"PUT":return hw.PUT;case"DELETE":return hw.DELETE;case"HEAD":return hw.HEAD;case"OPTIONS":return hw.OPTIONS;case"GET":default:return hw.GET}}function KI(t){switch(t.toLowerCase()){case"manifest":return cw.Jl;case"segment":return cw.$l;case"content-protection":return cw.td;default:return cw.Kl}}function JI(t){return t}function tR(t){switch(t.toLowerCase()){case"initialization-segment":return fw.ed;case"fairplay-license":return fw.rd;case"fairplay-certificate":return fw.ud;case"widevine-license":return fw.od;case"widevine-certificate":return fw.hd;case"playready-license":return fw.fd;case"clearkey-license":return fw.vd;case"aes128-key":return fw.ld;default:return fw.Kl}}function nR(t){return t}function iR(t){switch(t.toLowerCase()){case"audio":return lw.dd;case"video":return lw.wd;case"text":return lw.$n;case"image":return lw._d;case"":default:return lw.Kl}}function eR(t){return t}var rR=function(){function t(t,n){this.vx=new na,this.lx=[],this.Ww=void 0,this.wx=!1,this.Md=void 0,this._x=0,this.gx=t,this.mx=n}var n=t.prototype;return n.wA=function(){this.wx=!0,this.vx.Wu(null)},n.yx=function(){this.vx.Gu(new Hd(this.lx))},n.kx=function(t){if(!this.bx)throw new v("Cannot respond more than once");if(!W(t))throw new v("Expected valid response");this.Md=this.Ax(t),this.wA()},n.Tx=function(){try{var t=this.mx(this.Gw);t?this.Sx(t):this.Ex||this.Ix||this.wA()}catch(t){this.lx.push(t),this.yx()}},n.Sx=function(t){if(this.Ix)throw new l("Request has been redirected or a response already exists");if(Y(t))this.Rx(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new na;try{var i=t(function(t){t?n.Gu(t):n.Wu(void 0)});Y(i)&&n.Wu(i)}catch(t){n.Gu(t)}this.Rx(n.Hu)}},n.Rx=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this._x++,n.next=4,Fr.awrap(t);case 4:this._x--,this.Ex||this.Ix||(this.lx.length?this.yx():this.wA()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this._x--,this.lx.push(n.t0),this.Ex||this.Ix||this.yx();case 13:case"end":return n.stop()}},null,this,[[0,8]],qe)},T(t,[{key:"Dx",get:function(){return this.vx.Hu}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.Nx()),this.Ww}},{key:"Ix",get:function(){return this.wx}},{key:"bx",get:function(){return!this.wx}},{key:"Ex",get:function(){return this._x>0}},{key:"Ud",get:function(){return this.Md}}]),t}(),sR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).Cx=void 0,r.Cx=e,r.Tx(),r}E(n,t),n.Px=function(t,n,i){var e=void 0===t.body?i:t.body;return new vw({Fi:e,Yl:n.Yl,Wl:n.Yl.Wl,Vl:t.headers,zl:t.status,Gl:t.statusText,jl:t.url,ql:!0},n)};var i=n.prototype;return i.Nx=function(){return i=$I((t=this).Yl),{get closed(){return!t.bx},get request(){return i},get url(){return t.Ql},get status(){return t.zl},get statusText(){return t.Gl},get headers(){return n||(n=t.Vl.jf()),n},get body(){return t.Cl},respondWith:function(n){return t.kx(n)},waitUntil:function(n){return t.Sx(n)}};var t,n,i},i.Ax=function(t){return n.Px(t,this.gx,this.Cx)},T(n,[{key:"Cl",get:function(){return this.Cx}},{key:"Vl",get:function(){return this.gx.Vl}},{key:"Yl",get:function(){return this.gx.Yl}},{key:"Ud",get:function(){return this.Md}},{key:"zl",get:function(){return this.gx.zl}},{key:"Gl",get:function(){return this.gx.Gl}},{key:"Ql",get:function(){return this.gx.jl}}]),n}(rR),uR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).Bx=void 0,r.Ox=void 0,r.Ox=e,r.Tx(),r}E(n,t);var i=n.prototype;return i.Nx=function(){return t=this,{get url(){return t.Ql},get method(){return t.md},get headers(){return n||(n=t.Vl.jf()),n},get body(){return t.Cl},get closed(){return!t.bx},get useCredentials(){return t.bd},get type(){return JI(t.fs)},get subType(){return nR(t.kd)},get mediaType(){return eR(t.pd)},get responseType(){return QI(t.Wl)},redirect:function(n){return t.xx(n)},respondWith:function(n){return t.kx(n)},waitUntil:function(n){return t.Sx(n)}};var t,n},i.Ax=function(t){var n=this.gx.Cl,i=new vw({Fi:n,Vl:{},Yl:this.gx,jl:this.gx.Ql,Wl:this.gx.Wl,zl:200,Gl:"OK"});return sR.Px(t,i,n)},i.xx=function(t){if(!this.bx)throw new v("Cannot redirect, already redirected or has a response");var n;n=G(t)?{url:t}:t,this.Bx=function(t,n){return new dw({Ql:void 0===t.url?n.Ql:t.url,md:void 0!==t.method?ZI(t.method):void 0,Vl:t.headers,Cl:t.body,bd:t.useCredentials,fs:void 0!==t.type?KI(t.type):void 0,kd:void 0!==t.subType?tR(t.subType):void 0,pd:void 0!==t.mediaType?iR(t.mediaType):void 0,Wl:void 0!==t.responseType?YI(t.responseType):void 0},n)}(n,this.gx),this.wA()},T(n,[{key:"Cl",get:function(){return this.gx.Cl}},{key:"bx",get:function(){return this.Ox&&!this.wx}},{key:"Vl",get:function(){return this.gx.Vl}},{key:"md",get:function(){return this.gx.md}},{key:"Lx",get:function(){return this.Bx}},{key:"Ud",get:function(){return this.Md}},{key:"Wl",get:function(){return this.gx.Wl}},{key:"yd",get:function(){return this.gx.yd}},{key:"Ws",get:function(){return this.gx.Ws}},{key:"fs",get:function(){return this.gx.fs}},{key:"kd",get:function(){return this.gx.kd}},{key:"pd",get:function(){return this.gx.pd}},{key:"Ql",get:function(){return this.gx.Ql}},{key:"bd",get:function(){return this.gx.bd}},{key:"Ad",get:function(){return this.gx.Ad}}]),n}(rR);var oR,aR=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new hR(n);return(e=t.call(this,r,i)||this).Mx=void 0,e.Mx=r,e}E(n,t);var i=n.prototype;return i.Ux=function(t){this.Mx.Ux(t)},i.Xx=function(t){this.Mx.Xx(t)},i.Hx=function(t){this.Mx.Hx(t)},i.Fx=function(t){this.Mx.Fx(t)},i.zx=function(t){this.Mx.zx(t)},n}(gw),hR=function(){function t(t){this.Ed=void 0,this.Vx=[],this.Wx=[],this.Ed=t}var n=t.prototype;return n.Yl=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(this.Gx(t,t.Ws));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof Aw)){i.next=12;break}return i.next=11,Fr.awrap(this.qx(i.t0,t.Ws));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,Fr.awrap(this.Yx(n,t.Ws));case 15:if(!aw(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new Sw(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],qe)},n.Td=function(t){return this.Ed.Td(t)},n.Gx=function(t,n){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:fu(n),i=t,r=0,s=this.Vx.slice();case 3:if(!(r<s.length)){a.next=21;break}if(u=s[r],fu(n),(o=new uR(i,u,!e)).Ix){a.next=17;break}return a.prev=8,a.next=11,Fr.awrap(o.Dx);case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(8),a.abrupt("continue",18);case 17:o.Lx&&!e?i=o.Lx:o.Ud&&!e&&(e=o.Ud);case 18:r++,a.next=3;break;case 21:if(!e){a.next=23;break}return a.abrupt("return",e);case 23:return a.abrupt("return",this.Ed.Yl(i));case 24:case"end":return a.stop()}},null,this,[[8,13]],qe)},n.qx=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof Sw?t.Ud:new vw({Fi:null,Yl:t.Yl,zl:0,Gl:""}),r.next=3,Fr.awrap(this.Yx(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!aw(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new Sw(e);case 13:case"end":return r.stop()}},null,this,null,qe)},n.Yx=function(t,n){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=t,e=0,r=this.Wx.slice();case 2:if(!(e<r.length)){a.next=23;break}return s=r[e],fu(n),a.next=7,Fr.awrap(qe.resolve(i.Lu().Fi(n)));case 7:if(u=a.sent,(o=new sR(i,s,u)).Ix){a.next=19;break}return a.prev=10,a.next=13,Fr.awrap(o.Dx);case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(10),a.abrupt("continue",20);case 19:i=o.Ud||i;case 20:e++,a.next=2;break;case 23:return a.abrupt("return",i);case 24:case"end":return a.stop()}},null,this,[[10,15]],qe)},n.Ux=function(t){this.Vx.unshift(t)},n.Xx=function(t){this.Vx.push(t)},n.Hx=function(t){$s(this.Vx,t)},n.Fx=function(t){this.Wx.unshift(t)},n.zx=function(t){$s(this.Wx,t)},n.Sd=function(){this.Ed.Sd(),Ks(this.Vx),Ks(this.Wx)},t}(),cR=function(){function t(t){this.Ww=void 0,this.lE=t}var n=t.prototype;return n.Ux=function(t){this.lE.Ux(t)},n.Hx=function(t){this.lE.Hx(t)},n.Fx=function(t){this.lE.Fx(t)},n.zx=function(t){this.lE.zx(t)},T(t,[{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=(t=this,{addRequestInterceptor:function(n){t.Ux(n)},removeRequestInterceptor:function(n){t.Hx(n)},addResponseInterceptor:function(n){t.Fx(n)},removeResponseInterceptor:function(n){t.zx(n)}})),this.Ww}}]),t}(),fR=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).Ww=void 0,r.jx=function(t){r.Qs(t)},r.Qx=function(t){r.Qs(t)},r.Zx=n,r.lE=i,r.TC=e,r.Zx.Zs(Pf.Sf,r.jx),r.Zx.Zs(Pf.Tf,r.Qx),r}E(n,t);var i=n.prototype;return i.Kx=function(t){this.TC.Kx(t)},i.Ux=function(t){this.lE.Ux(t)},i.Hx=function(t){this.lE.Hx(t)},i.Fx=function(t){this.lE.Fx(t)},i.zx=function(t){this.lE.zx(t)},i.Sd=function(){this.$s(),this.Zx.tu(Pf.Sf,this.jx),this.Zx.tu(Pf.Tf,this.Qx)},T(n,[{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=(t=this,{get online(){return t._y},get estimator(){return n=t.Jx,{get bandwidth(){return n.NR},get roundTripTime(){return n.PR}};var n},setEstimator:function(n){t.Kx(function(t){if(t)return{get NR(){return Im(t.bandwidth)},get PR(){return Im(t.roundTripTime)},DR:function(n){return function(t){if(t)return{$x:function(n){t.markRequestStart(n)},tL:function(n){t.markResponseStart(n)},nL:function(n,i){t.markResponseData(n,i)},iL:function(n){t.markResponseEnd(n)}}}(t.createMeasurer($I(n)))}}}(n))},addRequestInterceptor:function(n){t.Ux(n)},removeRequestInterceptor:function(n){t.Hx(n)},addResponseInterceptor:function(n){t.Fx(n)},removeResponseInterceptor:function(n){t.zx(n)},addEventListener:function(n,i){t.Zs(n,i)},removeEventListener:function(n,i){t.tu(n,i)}})),this.Ww}},{key:"_y",get:function(){return this.Zx._y}},{key:"Jx",get:function(){return this.TC.Jx}}]),n}(Su);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(oR||(oR={}));var lR=30,vR=1,dR=5;function wR(t,n,i,e,r,s){var u=[],o=t-g.max(s,vR),a=t+r;if(n&&i){var h=Ft(i,vR,dR),c=n-h;o=g.min(o,c);var f=n+i+h;a=g.max(a,f)}return 0!==o&&e.$N(0,o)&&u.push([0,o]),e.$N(a,1/0)&&u.push([a,1/0]),u}function gR(t){return t instanceof l&&"QuotaExceededError"===t.name}var mR={type:oR.BANDWIDTH},yR=20;function pR(t){var n,i,e,r=bm(mR);return G(t)?r.type=_R(t):W(t)&&function(t){switch(t){case oR.PERFORMANCE:case oR.QUALITY:case oR.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=_R(t.type)),W(t)&&W(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=Em(n.bitrate),p(e)||(i.bitrate=e),i)),r}function _R(t){switch(t){case"bandwidth":return oR.BANDWIDTH;case"performance":return oR.PERFORMANCE;case"quality":return oR.QUALITY}}var bR=function(t){function n(n){var i;return(i=t.call(this,"rL")||this).eL=n,i}return E(n,t),n}(Iu),kR=function(t){function n(n){var i;return(i=t.call(this,"uL")||this).sL=n,i}return E(n,t),n}(Iu),AR=function(t){function n(n){var i;return(i=t.call(this,"aL")||this).oL=n,i}return E(n,t),n}(Iu),TR=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).Ww=(i=Jt(n),{get strategy(){return{metadata:(t=i.sL).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.sL=pR(t)},get targetBuffer(){return i.eL},set targetBuffer(t){var n=Em(t);p(n)||(i.eL=n)},get bufferLookbackWindow(){return i.oL},set bufferLookbackWindow(t){var n=Em(t);p(n)||(i.oL=n<=0?lR:n)},get maxBufferLength(){return i.hL}}),n.cL=mR,n.fL=yR,n.vL=lR,n.lL=1/0,n.dL=void 0,n.wL=void 0,n}E(n,t);var i=n.prototype;return i._L=function(t){this.wL=t},i.Kx=function(t){this.dL=t},i.gL=function(t){var n=g.min(t,.8*this.lL);if(n=g.max(10,n),this.lL===n)return!1;var i=this.mL;this.lL=n;var e=this.mL;return e!==i&&this.Qs(new bR(e)),!0},T(n,[{key:"yL",get:function(){switch(this.cL.type){case oR.PERFORMANCE:return 0;case oR.QUALITY:return 1/0;case oR.BANDWIDTH:return this.cL.metadata&&void 0!==this.cL.metadata.bitrate?this.cL.metadata.bitrate:8*Zm.wg();default:return 8*Zm.wg()}}},{key:"Gw",get:function(){return this.Ww}},{key:"sL",get:function(){return this.cL},set:function(t){this.cL=t,this.Qs(new kR(t))}},{key:"eL",get:function(){return this.fL},set:function(t){this.fL=t,this.Qs(new bR(t))}},{key:"mL",get:function(){return g.min(this.fL,this.lL)}},{key:"oL",get:function(){return this.vL},set:function(t){this.vL=t,this.Qs(new AR(t))}},{key:"hL",get:function(){return this.lL}},{key:"Jx",get:function(){var t;return null!=(t=this.dL)?t:this.wL.ZD}}]),n}(Su),SR=function(t){function n(){return t.call(this,"s_")||this}return E(n,t),n.prototype.qw=function(){return new ER},n}(rm),ER=function(t){function n(){return t.call(this,"change")||this}return E(n,t),n}(Iu),IR=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).kL=void 0,r.QB=void 0,r.pL=function(t){sm(t)&&yu(function(){r.Qs(t.Gw)})},r.kL=n,r.QB=i;for(var s=0,u=r.QB;s<u.length;s++){var o=u[s];r.kL.Zs(o,r.pL)}return r}return E(n,t),n.prototype.Sd=function(){this.$s();for(var t=0,n=this.QB;t<n.length;t++){var i=n[t];this.kL.tu(i,this.pL)}},n}(Su),RR=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).kL=void 0,e.pL=function(t){sm(t)&&yu(function(){e.Qs(t.Gw)})},e.kL=n,e.kL.Js(e.pL),e}return E(n,t),n.prototype.Sd=function(){this.$s(),this.kL.ou(this.pL)},n}(Gm);var CR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).nk=0,n.ek=1/0,n.Ww=void 0,n}E(n,t);var i=n.prototype;return i.k_=function(){0===this.nk&&this.ek===1/0||(this.nk=0,this.ek=1/0,this.Qs(new SR))},i.bL=function(){return new yS([this.Vy,this.Wy],[!0,!0])},T(n,[{key:"Vy",get:function(){return this.nk},set:function(t){if(this.Wy<=t)throw new l("Start time of a clip should be smaller than the end time.");this.nk!==t&&(this.nk=t,this.Qs(new SR))}},{key:"Wy",get:function(){return this.ek},set:function(t){if(t<=this.Vy)throw new l("End time of a clip should be larger than the start time.");this.ek!==t&&(this.ek=t,this.Qs(new SR))}},{key:"Gw",get:function(){var t,n,i;return this.Ww||(this.Ww=(i={get startTime(){return t.Vy},set startTime(n){t.Vy=n},get endTime(){return t.Wy},set endTime(n){t.Wy=n},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new RR(t=this,i),i)),this.Ww}}]),n}(Gm),DR=function(t){function n(n){var i;return(i=t.call(this)||this).AL=function(t){i.TL(t)||i.Qs(t)},i.SL=n,i.SL.Js(i.AL),i}E(n,t);var i=n.prototype;return i.EL=function(){return this.SL.Em},i.Gm=function(){return this.SL.Gm()},i.IL=function(){return this.SL.Km},i.RL=function(){return this.SL.Qm},i.DL=function(){return this.SL.Jm},i.NL=function(t){this.SL.Jm=t},i.CL=function(){return this.SL.Xg},i.PL=function(t){this.SL.Xg=t},i.BL=function(){return this.SL.Hg},i.OL=function(){return this.SL.$m},i.xL=function(){return this.SL.Fg},i.LL=function(){return this.SL.mu},i.ML=function(){return this.SL.zg},i.UL=function(){return this.SL.iy},i.XL=function(){return this.SL.Vg},i.HL=function(t){this.SL.Vg=t},i.FL=function(){return this.SL._y},i.zL=function(){return this.SL.Wg},i.VL=function(){return this.SL.Gg},i.WL=function(t){this.SL.Gg=t},i.GL=function(){return this.SL.gy},i.qL=function(){return this.SL.yy},i.YL=function(t){this.SL.yy=t},i.jL=function(){return this.SL.Y_},i.QL=function(){return this.SL.py},i.ZL=function(){return this.SL.qg},i.Bm=function(){return this.SL.Bm()},i.Om=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return fu(n),i.next=3,Fr.awrap(this.SL.Om(t,n));case 3:case"end":return i.stop()}},null,this,null,qe)},i.KL=function(){return this.SL.Rm},i.JL=function(){return this.SL.Yg},i.$L=function(){return this.SL.Im},i.tM=function(){return this.SL.jg},i.nM=function(){return this.SL.Qg},i.iM=function(t){this.SL.Qg=t},i.Wm=function(){return this.SL.Wm()},i.Vm=function(){return this.SL.Vm()},i.Xm=function(t){this.SL.Xm(t)},i.Hm=function(){this.SL.Hm()},i.zm=function(){this.SL.zm()},i.Um=function(){this.SL.Um()},i.Cm=function(){this.SL.Cm()},i.Nm=function(){this.SL.Nm()},i.Fm=function(){this.SL.Fm()},i.Pm=function(){return this.SL.Pm()},i.xm=function(){return this.SL.xm()},i.Lm=function(){this.SL.Lm()},i.Mm=function(){this.SL.Mm()},i.k_=function(){return this.SL.k_()},i.Sd=function(){return this.SL.Sd()},i.Zm=function(){this.SL.Zm()},i.qm=function(t){return this.SL.qm(t)},i.TL=function(t){return!1},T(n,[{key:"Em",get:function(){return this.EL()}},{key:"Km",get:function(){return this.IL()}},{key:"Jm",get:function(){return this.DL()},set:function(t){this.NL(t)}},{key:"Qm",get:function(){return this.RL()}},{key:"Xg",get:function(){return this.CL()},set:function(t){this.PL(t)}},{key:"Hg",get:function(){return this.BL()}},{key:"$m",get:function(){return this.OL()}},{key:"Fg",get:function(){return this.xL()}},{key:"mu",get:function(){return this.LL()}},{key:"zg",get:function(){return this.ML()}},{key:"Dm",get:function(){return this.SL.Dm}},{key:"iy",get:function(){return this.UL()}},{key:"ey",get:function(){return this.SL.ey}},{key:"Vg",get:function(){return this.XL()},set:function(t){this.HL(t)}},{key:"_y",get:function(){return this.FL()}},{key:"Wg",get:function(){return this.zL()}},{key:"Gg",get:function(){return this.VL()},set:function(t){this.WL(t)}},{key:"gy",get:function(){return this.GL()}},{key:"yy",get:function(){return this.qL()},set:function(t){this.YL(t)}},{key:"Y_",get:function(){return this.jL()}},{key:"py",get:function(){return this.QL()}},{key:"qg",get:function(){return this.ZL()}},{key:"Rm",get:function(){return this.KL()}},{key:"Yg",get:function(){return this.JL()}},{key:"Im",get:function(){return this.$L()}},{key:"jg",get:function(){return this.tM()}},{key:"Qg",get:function(){return this.nM()},set:function(t){this.iM(t)}},{key:"by",get:function(){return this.SL.by}},{key:"Ay",get:function(){return this.SL.Ay},set:function(t){this.SL.Ay=t}}]),n}($m),NR=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).eM=void 0,r.rM=!1,r.sM=void 0,r.uM=!1,r.oM=function(){r.aM(),r.hM()},r.cD=function(){r.cM(),r.hM(),r.fM&&r.Xg>=r.eM.Wy-n.vM&&!r.Fg&&(r.sM=DI(r.cD))},r.lM=function(){r.uM=!0},r.dM=function(){r.uM&&(r.uM=!1,r.hM())},r.eM=e,r.eM.Zs("s_",r.oM),r.SL.Zs("timeupdate",r.cD),r}E(n,t);var i=n.prototype;return i.PL=function(n){var i=this.eM.bL().UN(n);t.prototype.PL.call(this,i),this.hM()},i.xL=function(){return t.prototype.xL.call(this)||this.rM},i.QL=function(){return yS.aC(t.prototype.QL.call(this)).FN(this.eM.bL()).qD()},i.Nm=function(){this.xL()?this.PL(this.wM.start(0)):this.aM(),t.prototype.Nm.call(this),this.hM()},i.Om=function(n,i){return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return fu(i),this.rM=!1,this.eM.k_(),e.next=5,Fr.awrap(t.prototype.Om.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,qe)},i.Sd=function(){return this.eM.tu("s_",this.oM),this.SL.tu("timeupdate",this.cD),this.cM(),t.prototype.Sd.call(this)},i.TL=function(n){switch(n.type){case"seeking":return this.Qs(n),this.lM(),!0;case"seeked":case"emptied":return this.Qs(n),this.dM(),!0;case"ended":if(this.fM)return!0}return t.prototype.TL.call(this,n)},i.cM=function(){this.sM&&(NI(this.sM),this.sM=void 0)},i.hM=function(){var t=this.Xg,i=this.fM&&t>=this.eM.Wy-n.Ip;this.rM&&!i?(this.rM=!1,this.Wg&&this.Nm()):this.rM||!i||this.qg||this.uM||(this.rM=!0,this.Qs(new Dy(t)),this.Cm())},i.aM=function(){if(this.Hg!==1/0){var t=this.wM,i=yS.aC(t).UN(this.Xg);Ut(this.Xg,i,n.Ip)||this.PL(i)}},T(n,[{key:"wM",get:function(){return this.QL().length?this.QL():this.eM.bL().qD()}},{key:"fM",get:function(){return this.eM.Wy<this.Hg}}]),n}(DR);NR.vM=1,NR.Ip=.001;var PR=function(){function t(){this._M=void 0,this._M=!1}return T(t,[{key:"gM",get:function(){return this._M},set:function(t){this._M=t}}]),t}(),xR=function(t){function n(n,i){var e;return(e=t.call(this,n)||this)._M=void 0,e.mM=!1,e.yM=!1,e._M=i,e}E(n,t);var i=n.prototype;return i.xL=function(){return!this._M.gM&&t.prototype.xL.call(this)},i.Cm=function(){this.yM=!0,t.prototype.Cm.call(this)},i.Nm=function(){this.yM=!1,t.prototype.Nm.call(this)},i.TL=function(n){if(this._M.gM)switch(n.type){case"ended":return this.Xg=0,this.yM||(this.qg?this.mM=!0:this.Nm()),!0;case"seeked":this.mM&&(this.mM=!1,this.Nm());break;case"pause":if(this.mM||t.prototype.xL.call(this))return!0}return t.prototype.TL.call(this,n)},n}(DR);var BR=function(){function t(t){var n;this.Ww=(n=this,{get currentBandwidthEstimate(){return n.vy},get corruptedVideoFrames(){return n.uy},get droppedVideoFrames(){return n.sy},get totalBytesLoaded(){return n.ly},get bufferedSegments(){return n.wy}}),this.mN=t}return T(t,[{key:"Gw",get:function(){return this.Ww}},{key:"uy",get:function(){return this.mN.kM.ey.uy}},{key:"vy",get:function(){return this.mN.kM.ey.vy}},{key:"sy",get:function(){return this.mN.kM.ey.sy}},{key:"pM",get:function(){throw new l("Not implemented")}},{key:"bM",get:function(){throw new l("Not implemented")}},{key:"ly",get:function(){return this.mN.kM.ey.ly}},{key:"oy",get:function(){return this.mN.kM.ey.oy}},{key:"wy",get:function(){return this.mN.kM.ey.wy}}]),t}();function OR(t){if(!t||!lr(t))return{sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{sy:n.droppedVideoFrames,uy:n.corruptedVideoFrames||0,oy:n.totalVideoFrames}}return{sy:t.webkitDroppedFrameCount||0,uy:0,oy:t.webkitDecodedFrameCount||0}}var LR=function(t){function n(){return t.call(this,"AM")||this}return E(n,t),n.prototype.qw=function(){return new MR},n}(rm),MR=function(t){function n(){return t.call(this,"castingchange")||this}return E(n,t),n}(Iu);var jR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).TM=[],n.SM=!1,n.Ww=void 0,n.EM=function(){var t=n.SM,i=n.IM;t!==i&&(n.SM=i,n.Qs(new LR))},n}E(n,t);var i=n.prototype;return i.RM=function(t){this.TM.push(t),t.Zs("statechange",this.EM)},i.Sd=function(){for(var t=0,n=this.TM;t<n.length;t++){n[t].tu("statechange",this.EM)}Ks(this.TM)},T(n,[{key:"IM",get:function(){return this.TM.some(function(t){return t.IM})}},{key:"Gw",get:function(){var t,n,i;return this.Ww||(this.Ww=(i={get casting(){return t.IM},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new IR(t=this,["AM"],i),i)),this.Ww}}]),n}(Su),FR=function(){function t(){}return t.DM=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=new dw({Ql:t,Wl:xf.$n,md:hw.GET}),s.next=4,Fr.awrap(n.Yl(i));case 4:return e=s.sent,s.next=7,Fr.awrap(e.Fi());case 7:return r=s.sent,s.abrupt("return",r.trim());case 11:return s.prev=11,s.t0=s.catch(0),cu(s.t0),s.abrupt("return",void 0);case 15:case"end":return s.stop()}},null,null,[[0,11]],qe)},t.NM=function(t){try{var i=XE(t);return new $E(i.key,i.domains_page,i.domains_source,i.expiration_date,i.features,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new lf(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.CM=function(t){void 0===t&&(t=aI.eb),i.gr("The baked-in license is used. Please update the configuration with your license.");var n=t.JP(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.JP(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.JP(n)}),s=Number(new Date(Number(t.JP("COD|aHpHa:p3Ceo3Co\"\"")))),u=[].map(function(n){return t.JP(n)});return new $E(n,e,r,s,u)},t.convertLicenseToDummyLicense=function(t){return new $E(t.uB,t.oB,t.aB,864e13,t.cB,t.fB,Date.now(),t.lB,t.dB)},t}(),UR=function(){function t(){}return t.rf=function(){return t.Yn||(t.Yn=HR.mc()?new HR:new If),t.Yn},t.Nu=function(n){t.rf().Nu(n)},t.if=function(){t.rf().if()},t.Iu=function(n){return t.rf().Iu(n)},t.ef=function(n,i){t.rf().ef(n,i)},t.PM=function(n){var i=t.Iu(n);if(void 0!==i)return y(i)},t.BM=function(n){return"true"===t.Iu(n)},t}();UR.Yn=void 0;var HR=function(n){function i(){return n.apply(this,arguments)||this}E(i,n),i.mc=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.Nu=function(n){t.localStorage.removeItem(n)},e.if=function(){t.localStorage.clear()},e.Iu=function(n){return t.localStorage[n]},e.ef=function(n,i){t.localStorage[n]=i},i}(UR),XR=g.floor(14399999*g.random()-72e5),VR=function(){function t(t,n,i,e,r,s){this.mB=void 0,this.lE=t,this.OM=n,this.xM=i,this.iO=e,this.LM=r,this.Qo=s,this.mB=nI(s)}var i=t.prototype;return i.MM=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.UM(this.LM.license,this.LM.licenseUrl));case 2:t=n.sent,this.iO.XM(t);case 4:case"end":return n.stop()}},null,this,null,qe)},i.UM=function(t,i){var e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(e=i,t?r=FR.NM(t):e||(r=FR.CM()),e||(e="https://validate.theoplayer.com/1/"+r.uB),s=this.HM(),!r){l.next=14;break}if((u=this.OM.TB(r))!==zE.eB){l.next=14;break}if(!this.FM(r.hB)||!this.FM(null==s?void 0:s.hB)){l.next=13;break}return l.next=10,Fr.awrap(this.zM(e));case 10:if(!(o=l.sent)){l.next=13;break}return l.abrupt("return",o);case 13:return l.abrupt("return",r);case 14:if(!s){l.next=25;break}if(this.OM.TB(s)!==zE.eB){l.next=24;break}if(!this.FM(null==s?void 0:s.hB)){l.next=23;break}return l.next=20,Fr.awrap(this.zM(e));case 20:if(!(a=l.sent)){l.next=23;break}return l.abrupt("return",a);case 23:return l.abrupt("return",s);case 24:UR.Nu("THEOplayer.license");case 25:return l.next=27,Fr.awrap(FR.DM(e,this.lE));case 27:if(!(h=l.sent)){l.next=37;break}if(c=FR.NM(h),this.OM.TB(c)!==zE.eB){l.next=34;break}return UR.ef("THEOplayer.license",h),l.abrupt("return",c);case 34:UR.Nu("THEOplayer.license"),l.next=39;break;case 37:if(this.mB||!r||u!==zE.rB||e!=="https://validate.theoplayer.com/1/"+r.uB){l.next=39;break}return l.abrupt("return",FR.convertLicenseToDummyLicense(r));case 39:if(!r&&!c){l.next=43;break}this.VM(null!=(f=r)?f:c,new lf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),l.next=44;break;case 43:throw new lf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return l.stop()}},null,this,null,qe)},i.pB=function(t){var n,i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Fr.awrap(this.iO.hO());case 2:if(n=a.sent,!this.FM(n.hB)){a.next=9;break}return e=null!=(i=this.LM.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.uB,a.next=7,Fr.awrap(this.zM(e));case 7:(r=a.sent)&&(this.iO.XM(r),n=r);case 9:if(a.prev=9,(s=this.OM.TB(n))!==zE.sB){a.next=16;break}throw u=GE.wB,new lf(QE(u),eI.AB(u));case 16:if(s!==zE.rB){a.next=19;break}throw o=GE.rB,new lf(QE(o),eI.AB(o));case 19:this.OM.pB(t,n),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(9),this.WM(a.t0);case 25:case"end":return a.stop()}},null,this,[[9,22]],qe)},i.RB=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.iO.hO());case 2:n=i.sent;try{this.OM.RB(t,n)}catch(t){this.WM(t)}case 4:case"end":return i.stop()}},null,this,null,qe)},i.zM=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fr.awrap(FR.DM(t,this.lE));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=FR.NM(n),this.OM.TB(i)!==zE.eB){e.next=11;break}return UR.ef("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],qe)},i.FM=function(t){return!t||Number(new Date)+2592e5+XR>=t},i.HM=function(){var t=UR.Iu("THEOplayer.license");if(t)return FR.NM(t)},i.VM=function(t,n){this.iO.XM(t),this.WM(n)},i.WM=function(t){throw ct(t.message),this.xM.vO(t.message),t},t}(),zR=function(){function t(){this.GM=void 0,this.qM=new na}var n=t.prototype;return n.XM=function(t){this.GM=t,this.qM.Wu()},n.hO=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.GM){t.next=2;break}return t.abrupt("return",qe.resolve(this.GM));case 2:return t.next=4,Fr.awrap(this.qM.Hu);case 4:return t.abrupt("return",this.GM);case 5:case"end":return t.stop()}},null,this,null,qe)},T(t,[{key:"YM",get:function(){return this.GM}}]),t}(),WR=function(t){function n(){return t.call(this,"s_")||this}return E(n,t),n.prototype.qw=function(){return new qR},n}(rm),qR=function(t){function n(){return t.call(this,"change")||this}return E(n,t),n}(Iu);function GR(t){var n,i={get fontFamily(){return t.jM},set fontFamily(n){t.jM=n},get fontColor(){return t.QM},set fontColor(n){t.QM=n},get fontSize(){return t.ZM},set fontSize(n){t.ZM=n},get backgroundColor(){return t.KM},set backgroundColor(n){t.KM=n},get windowColor(){return t.JM},set windowColor(n){t.JM=n},get edgeStyle(){return t.$M},set edgeStyle(n){t.$M=n},get marginTop(){return t.tU},set marginTop(n){t.tU=n},get marginBottom(){return t.nU},set marginBottom(n){t.nU=n},get marginLeft(){return t.iU},set marginLeft(n){t.iU=n},get marginRight(){return t.eU},set marginRight(n){t.eU=n},addEventListener:function(t,i){var e=Dm(t,Rm);n.Zs(e,i)},removeEventListener:function(t,i){var e=Dm(t,Rm);n.tu(e,i)}};return n=new Eu(i),t.Zs(["s_"],function(t){return n.Qs(t.Gw)}),i}var $R={jM:void 0,QM:void 0,ZM:void 0,KM:void 0,JM:void 0,$M:void 0,rU:void 0,tU:void 0,nU:void 0,iU:void 0,eU:void 0},YR="THEOplayer.textTrackStyle.",QR=function(t){function n(){var i;return(i=t.call(this)||this).sU=void 0,i.Ww=void 0,i.sU=n.uU(),i}return E(n,t),n.prototype.Zh=function(t){this.sU=Ur({},this.sU,t),n.oU(this.sU),this.Qs(new WR)},n.uU=function(){var t=Ur({},$R);return t.jM=UR.Iu(YR+"fontFamily")||t.jM,t.QM=UR.Iu(YR+"fontColor")||t.QM,t.ZM=UR.Iu(YR+"fontSize")||t.ZM,t.KM=UR.Iu(YR+"backgroundColor")||t.KM,t.JM=UR.Iu(YR+"windowColor")||t.JM,t.$M=UR.Iu(YR+"edgeStyle")||t.$M,t},n.oU=function(t){UR.ef(YR+"fontFamily",t.jM||""),UR.ef(YR+"fontColor",t.QM||""),UR.ef(YR+"fontSize",t.ZM||""),UR.ef(YR+"backgroundColor",t.KM||""),UR.ef(YR+"windowColor",t.JM||""),UR.ef(YR+"edgeStyle",t.$M||"")},T(n,[{key:"aU",get:function(){return this.sU}},{key:"jM",get:function(){return this.sU.jM},set:function(t){this.Zh({jM:t})}},{key:"QM",get:function(){return this.sU.QM},set:function(t){this.Zh({QM:t})}},{key:"ZM",get:function(){return this.sU.ZM},set:function(t){this.Zh({ZM:t})}},{key:"KM",get:function(){return this.sU.KM},set:function(t){this.Zh({KM:t})}},{key:"JM",get:function(){return this.sU.JM},set:function(t){this.Zh({JM:t})}},{key:"$M",get:function(){return this.sU.$M},set:function(t){this.Zh({$M:t})}},{key:"rU",get:function(){return this.sU.rU}},{key:"tU",get:function(){return this.sU.tU},set:function(t){this.Zh({tU:t})}},{key:"nU",get:function(){return this.sU.nU},set:function(t){this.Zh({nU:t})}},{key:"eU",get:function(){return this.sU.eU},set:function(t){this.Zh({eU:t})}},{key:"iU",get:function(){return this.sU.iU},set:function(t){this.Zh({iU:t})}},{key:"Gw",get:function(){return this.Ww||(this.Ww=GR(this)),this.Ww}}]),n}(Su);function ZR(t,n){var i,e;t.style.marginLeft=(null!=(i=n.iU)?i:0)+"px",t.style.marginRight=(null!=(e=n.eU)?e:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}var KR,JR,tC=function(t){function n(n,e){var r;(r=t.call(this)||this).hU=void 0,r.rc=void 0,r.kM=void 0,r.cU=void 0,r.Xw=void 0,r.eM=void 0,r._M=void 0,r.fU=void 0,r.vU=void 0,r.TC=void 0,r.OM=void 0,r.lU=void 0,r.dU=void 0,r.AC=void 0,r.wU=!1,r.gm=!1,r.Dy=void 0,r._U=!1,r.gU=void 0,r.mU=void 0,r.yU=void 0,r.kU=void 0,r.pU=void 0,r.bU=function(t){if(!r._U){r._U=!0;var n=r.hU,i=hp(t);r.kM.R_=new TS(r.$m,i,t),pu(n.Sd())}},r.AU=function(t){r.Qs(t.Gw)},r.TU=function(t){t.type!==Pf.Sf&&t.type!==Pf.Tf&&r.Qs(t)};var s=Em(e.uid);p(s)?r.Dy=yp++:r.Dy=s,r.rc=e;var u=i.Xw,o=new zR;r.cU=new pI("4.4.0",u,o),r.Xw=new aR(u,e.allowMixedContent),r.TC=new TR,r.OM=new YE(e.isEmbeddable,"4.4.0",VE()),r.pU=new VR(u,r.OM,r.cU,o,e,VE()),r.pU.MM().catch(r.bU),r.lU=new UI(n),r.lU.Zs("pO",r.AU),r.AC=new QR,r.eM=new CR,r._M=new PR;var a=new AS(n,e,r.Xw,r.TC,r.lU,r.AC);r.TC._L(a);var h=a;h=new NR(h,r.SU),h=new xR(h,r.gM),r.hU=h,r.kM=new sp(r.hU),r.kM.Js(r.TU),r.kU=new BR(Jt(r)),r.mU=new fR(r.kM,r.Xw,r.TC),r.fU=new kI(Jt(r)),r.dU=new GI(r.kM,e.allowNativeFullscreen),r.vU=new VS(r.dU),r.lU.hc();var c=new le(r.lU,r.AC,1,[fp.wd]);return r.gU=new ve(c),r.yU=new jR,r}E(n,t);var e=n.prototype;return e.HL=function(t){this.kM.Vg=t,t||this.Wg||this.Um()},e.iM=function(t){this.kM.Qg=t},e.EU=function(){Xy(this,zS,this)},e.Nm=function(){this.kM.Nm()},e.Cm=function(){this.kM.Cm()},e.Om=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.pU.pB(t).catch(this.bU),i=nC(t),e.next=5,Fr.awrap(this.kM.Om(i,n));case 5:case"end":return e.stop()}},null,this,null,qe)},e.Um=function(){this.gm||(this.kM.Um(),this.gU.Um(),this.gm=!0)},e.lC=function(){return this.vU.JC()===jS.FULLSCREEN},e.Fm=function(){this.kM.Fm()},e.zm=function(){this.kM.zm()},e.Vm=function(){return this.kM.Vm()},e.k_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.kM.Pm());case 2:return t.next=4,Fr.awrap(this.kM.k_());case 4:case"end":return t.stop()}},null,this,null,qe)},e.Sd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),this.yU.Sd(),this.Xw.Sd(),this.mU.Sd(),this.dU.Sd(),this.vU.Sd(),this.lU.Sd(),this.cU.Sd(),this.gU.Sd(),t.next=11,Fr.awrap(this.kM.Sd());case 11:case"end":return t.stop()}},null,this,null,qe)},T(n,[{key:"IU",get:function(){return this.TC}},{key:"Tm",get:function(){return this.wU},set:function(t){this.wU=t,this.kM.Tm=t}},{key:"RU",get:function(){return this.gU}},{key:"Em",get:function(){return this.kM.Em}},{key:"DU",get:function(){return this.yU}},{key:"NU",get:function(){return this.lU}},{key:"Dm",get:function(){return this.kM.Dm}},{key:"ey",get:function(){return this.kU}},{key:"CU",get:function(){return this.mU}},{key:"Rm",get:function(){return this.kM.Rm}},{key:"PU",get:function(){return this.AC}},{key:"Im",get:function(){return this.kM.Im}},{key:"Km",get:function(){return this.kM.Km}},{key:"SU",get:function(){return this.eM}},{key:"gM",get:function(){return this._M}},{key:"Xg",get:function(){return this.kM.Xg},set:function(t){this.kM.Xg=t}},{key:"Jm",get:function(){return this.kM.Jm},set:function(t){this.kM.Jm=t}},{key:"Qm",get:function(){return this.kM.Qm}},{key:"Hg",get:function(){return this.kM.Hg}},{key:"$m",get:function(){return this.kM.$m}},{key:"Fg",get:function(){return this.kM.Fg}},{key:"mu",get:function(){return this.kM.mu}},{key:"zg",get:function(){return this.kM.zg}},{key:"Vg",get:function(){return this.kM.Vg},set:function(t){var n=Boolean(t);this.HL(n)}},{key:"Wg",get:function(){return this.kM.Wg}},{key:"Gg",get:function(){return this.kM.Gg},set:function(t){this.kM.Gg=t}},{key:"gy",get:function(){return this.kM.gy}},{key:"yy",get:function(){return this.kM.yy},set:function(t){this.kM.yy=lS(t)}},{key:"Y_",get:function(){return this.kM.Y_}},{key:"py",get:function(){return this.kM.py}},{key:"qg",get:function(){return this.kM.qg}},{key:"B_",get:function(){return this.Dy}},{key:"Yg",get:function(){return this.kM.Yg}},{key:"jg",get:function(){return this.kM.jg}},{key:"Qg",get:function(){return this.kM.Qg},set:function(t){var n=Ft(Number(t),0,1)||0;this.iM(n)}},{key:"by",get:function(){return this.kM.by}}]),n}($m);function nC(t){t.sources;var n=t.sources.filter(function(t){return X(t.integration)});return t.sources=n,t}!function(t){t[t.BU=0]="BU",t[t.OU=1]="OU"}(KR||(KR={})),function(t){t[t.xU=0]="xU"}(JR||(JR={}));var iC={},eC={};function rC(t,n){(iC[n]||(iC[n]=[])).push(t)}function sC(t,n){(eC[n]||(eC[n]=[])).push(t)}function uC(t,n){var i=t;if(iC[n])for(var e=0,r=iC[n];e<r.length;e++){i=(0,r[e])(i)}return i}var oC=[],aC=[];function hC(t){oC.push(t)}function cC(t){for(var n=0;n<oC.length;n++){(0,oC[n])(t)}}var fC=t.CustomEvent;var lC=function(){try{var t=new fC("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},vC=function(){function t(t,n){var i=this;this.mN=void 0,this.LU=void 0,this.MU=!1,this.UU=function(t){i.LU.fO(t.error,i.Xg)},this.XU=function(){i.LU.aO(i.HU),i.mN.removeEventListener("playing",i.XU),i.MU=!1},this.FU=function(){i.MU||(i.mN.addEventListener("playing",i.XU),i.MU=!0)},this.LU=n,this.mN=t,this.mN.addEventListener("error",this.UU),this.mN.addEventListener("sourcechange",this.FU),this.FU()}return t.prototype.k_=function(){},T(t,[{key:"Xg",get:function(){var t=this.mN.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"HU",get:function(){return this.mN.src||""}}]),t}();hC(function(t){new vC(t.Gw,t.cU)});var dC="theoplayer-stored-volume",wC="theoplayer-stored-mutedstate";rC(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=UR.PM(dC);(void 0===r||p(r))&&(r=1);var s=UR.BM(wC)||!1;e.Qg=r,e.Vg=s}return e}E(n,t);var i=n.prototype;return i.HL=function(n){this.rc.persistVolume&&UR.ef(wC,""+Boolean(n)),t.prototype.HL.call(this,n)},i.iM=function(n){this.rc.persistVolume&&UR.ef(dC,""+Number(n)),t.prototype.iM.call(this,n)},n}(t)},KR.OU);var gC=new(function(){function t(){this.zU=[],this.Ww=void 0}var n=t.prototype;return n.__=function(t){return this.zU[t]},n.VU=function(t){this.zU.push(t),this.Gw.push(t.Gw)},n.Qh=function(t){var n=this.zU.indexOf(t);n<0||(Ys(this.zU,n),this.Ww&&Ys(this.Ww,n))},n.WU=function(t){for(var n=0,i=this.zU;n<i.length;n++){var e=i[n];if(e.B_===t)return e}},T(t,[{key:"b_",get:function(){return this.zU.length}},{key:"Gw",get:function(){return this.Ww||(this.Ww=function(t){for(var n=[],i=0;i<t.b_;i++)n[i]=t.__(i).Gw;return n.getPlayerByUID=function(n){var i=t.WU(n);return i&&i.Gw},n}(this)),this.Ww}}]),t}()),mC=function(){function t(t){var n=this;this.GU=[],this.qU=void 0,this.pw=new au,this.YU=void 0,this.jU=function(){return 0===n.GU.length?n.YU?yC(n.YU,n.pw.Ws).then(n.QU,n.QU):n.QU():n.GU.shift()().then(n.jU)},this.QU=function(){if(0!==n.GU.length)return n.jU();n.qU=void 0},this.YU=t}var n=t.prototype;return n.ZU=function(t,n){var i=this;return new qe(function(e){var r=new au;r.zs(i.pw.Ws),n&&r.zs(n);var s=function(){r.xs()};i.GU.push(function(){var n=yC(t,r.Ws);return e(n),n.then(s,s)}),i.qU||(i.qU=i.jU())})},n.Fs=function(){return this.KU(!0)},n.Sd=function(){return this.YU=void 0,this.KU(!1)},n.KU=function(t){var n=this.qU;return this.pw.Fs(),t&&(this.pw=new au),qe.resolve(n)},t}();function yC(t,n){return new qe(function(i){return i(t(n))})}var pC,_C=function(t){function n(n){var i;return(i=t.call(this,Pf.Xf)||this).source=n,i}return E(n,t),n}(Iu),bC=function(t){function n(){var n;return(n=t.call(this)||this)._C=void 0,n.mC=void 0,n.kC=void 0,n.yC=void 0,n._C=0,n.mC=!0,n.kC=!1,n.yC=1,n}E(n,t);var i=n.prototype;return i.Nm=function(){this.mC&&(this.mC=!1,this.Qs(new Ay(this.Xg)),this.Qs(new Tk(this.Xg)))},i.Cm=function(){this.mC||(this.mC=!0,this.Qs(new Cy(this.Xg,this.Jm)),this.Qs(new ky(this.Xg)))},i.k_=function(){this._C=0,this.kC=!1,this.yC=1,this.Cm(),this.Qs(new by(this._C))},i.Sd=function(){this.$s()},i.zm=function(){},i.Fm=function(){},T(n,[{key:"Jm",get:function(){},set:function(t){}},{key:"Xg",get:function(){return this._C},set:function(t){this.kC&&this._C===t||(this._C=t,this.kC=!0,this.Qs(new Py(this.Xg)))}},{key:"Wg",get:function(){return this.mC}},{key:"Gg",get:function(){return this.yC},set:function(t){this.yC!==t&&(this.yC=t,this.Qs(new Ry(this.Xg,this.Gg)))}},{key:"Y_",get:function(){return ey.Rg}},{key:"qg",get:function(){return this.kC}}]),n}(Gm),kC=function(t){function n(){return t.call(this,Pf.wf)||this}return E(n,t),n}(Iu),AC={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},TC={visibility:"hidden"},SC={visibility:"visible"},EC=function(){function t(t){var n,i=this;this.lN=void 0,this.mN=void 0,this.JU=!1,this.$U=void 0,this.tX=void 0,this.nX=function(t){var n;i.JU=!1,i.$U=null==(n=t.source)?void 0:n.poster,i.Zh()},this.OE=function(){i.JU=!0,i.zm()},this.mN=t,this.bN(),this.lN=((n=we&&we.document&&we.document.createElement("div")).className="theoplayer-poster",hr(AC,n),n),t.$m.appendChild(this.lN)}var n=t.prototype;return n.Zh=function(){var t=this.mN.Wg,n=this.JU;this.Ql?this.lN.style.backgroundImage='url("'+this.Ql.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.lN.style.backgroundImage="",t&&this.Ql&&!n?this.Fm():this.zm()},n.Fm=function(){hr(TC,this.mN.$m),hr(SC,this.lN)},n.zm=function(){hr(TC,this.lN),hr(SC,this.mN.$m)},n.bN=function(){this.mN.Zs("sourcechange",this.nX),this.mN.Zs("play",this.OE)},n.Sd=function(){this.mN.tu("sourcechange",this.nX),this.mN.tu("play",this.OE),nr(this.lN)},T(t,[{key:"Ql",get:function(){return void 0!==this.$U?this.$U:void 0!==this.tX?this.tX:void 0}},{key:"iX",set:function(t){this.tX=t,this.Zh()}}]),t}();function IC(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this).mN=void 0,r.eX=void 0,r.rX=void 0,r.sX=void 0,r.uX=void 0,r.oX=void 0,r.aX=void 0,r.hX=void 0,r.pN=void 0,r.kN=void 0,r.$R=void 0,r.DC=void 0,r.Ww=void 0,r.cX=function(t){t.type!==Pf.Df&&r.hX.push(t)},r.eX=new t(n,e),r.rX=new bC,r.mN=r.eX,r.sX=new EC(Jt(r)),r.oX=new mC,r.aX=!1,r.hX=[],r.pN=!0,r.bN(),r}E(e,i);var r=e.prototype;return r.ZU=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.oX.ZU(t,n).catch(vu));case 1:case"end":return i.stop()}},null,this,null,qe)},r.fX=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return fu(n),this.eX.Js(this.cX),i.next=4,Fr.awrap(this.eX.Om(t,n));case 4:this.eX.ou(this.cX);case 5:case"end":return i.stop()}},null,this,null,qe)},r.vX=function(){var t,n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.Bm())&&!gE(t)&&this.Tm&&this.Wg){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.rc.mutedAutoplay,e.next=6,Fr.awrap(this.RU.lX());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.dX(),e.abrupt("break",14);case 12:return(this.Vg||n===Ty.ALL)&&(this.Vg=!0,this.Nm()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,qe)},r.Om=function(t){var i=this,e=this.kN;e&&!gE(e)&&this.Qs(new by(0,0)),this.k_(),this.kN=t,pu(this.ZU(function(e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return fu(e),r.prev=1,r.next=4,Fr.awrap(i.fX(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.kN=void 0,i.hD((s=r.t0,u=n.ErrorCode.SOURCE_NOT_SUPPORTED,s instanceof lf?s:s instanceof l?new lf(u,s.message,s):new lf(u,String(s)))),r.abrupt("return");case 11:return r.next=13,Fr.awrap(i.wX());case 13:case"end":return r.stop()}var s,u},null,null,[[1,6]],qe)}))},r.wX=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this._X(this.eX),this.Qs(new _C(this.Bm())),t.next=4,Fr.awrap(this.vX());case 4:case"end":return t.stop()}},null,this,null,qe)},r.PL=function(t){this.mN.Xg=t},r.LL=function(){var t;return null!=(t=this.DC)?t:this.eX.mu},r.ML=function(){var t;return null!=(t=this.$R)?t:this.eX.zg},r.hD=function(t){void 0===this.ML()&&(this.$R=t,this.DC=hp(t),this.Qs(new jy(t)))},r.Nm=function(){this.mN.Nm()},r.dX=function(){this.Vg||this.Um(),this.Nm()},r.Um=function(){this.eX.Um()},r.Cm=function(){this.mN.Cm()},r.Pm=function(){this.Om(void 0)},r.Fm=function(){this.pN=!0,this.mN.Fm()},r.zm=function(){this.pN=!1,this.mN.zm()},r.EU=function(){this.eX.EU()},r.iM=function(t){this.eX.iM(t)},r.HL=function(t){this.eX.HL(t)},r.gX=function(t){this.uX=t,t.VU(this)},r.lC=function(){return this.eX.lC()},r.Bm=function(){return this.kN},r.Vm=function(){return this.eX.Vm()},r.CL=function(){return this.eX.Xg},r.BL=function(){return this.eX.Hg},r.IL=function(){return this.eX.Km},r.GL=function(){return this.eX.gy},r.QL=function(){return this.eX.py},r.k_=function(){var t=this;this.kN=void 0,this.$R=void 0,this.DC=void 0,Ks(this.hX),this.rX.k_(),this._X(this.rX),this.oX.Fs(),pu(this.oX.ZU(function(n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return fu(n),i.next=3,Fr.awrap(t.eX.k_());case 3:case"end":return i.stop()}},null,null,null,qe)}))},r.Sd=function(){var t=this;this.Qs(new kC),this.sX.Sd(),this.AN(),this.k_(),pu(this.ZU(function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.eX.Sd());case 2:t.uX&&(t.uX.Qh(t),t.uX=void 0),t.oX.Sd();case 4:case"end":return n.stop()}},null,null,null,qe)})),this.$s()},r._X=function(t){if(this.mN!==t){var n=this.mN.Wg,i=this.mN.Xg,e=this.mN.Gg,r=this.mN.qg;this.AN(),t===this.eX?((r||t.Xg!==i)&&(t.Xg=i),t.Gg!==e&&(t.Gg=e),n?t.Cm():t.Nm()):this.rc.retainPlaybackRateOnSourceChange?t.Gg=e:1!==e&&this.Qs(new Ry(this.CL(),1)),this.mN=t,this.bN();for(var s=0,u=this.hX;s<u.length;s++){var o=u[s];this.Qs(o)}Ks(this.hX),this.pN?t.Fm():t.zm()}},r.bN=function(){this.mN.Js(this.js)},r.AN=function(){this.mN.ou(this.js)},r.qw=function(){return t=this,e=function(n){i=n;var e=RE(n,t.rc);t.Om(e)},r={get abr(){return t.IU.Gw},get audioTracks(){return t.Em.Gw},get autoplay(){return t.Tm},set autoplay(n){t.Tm=Boolean(n)},get buffered(){return t.IL()},get canvas(){return t.fU.Gw},get clip(){return t.SU.Gw},get currentProgramDateTime(){var n;return null!=(n=t.Jm)?n:null},set currentProgramDateTime(n){t.Jm=null!=n?n:void 0},get currentTime(){return t.CL()},set currentTime(n){t.PL(Number(n))},get duration(){return t.BL()},get element(){return t.$m},get ended(){return t.Fg},get error(){return t.LL()},get errorObject(){return t.ML()},get loop(){return t.gM.gM},set loop(n){t.gM.gM=Boolean(n)},get metrics(){return t.ey.Gw},get muted(){return t.Vg},set muted(n){t.HL(n)},get network(){return t.CU.Gw},get paused(){return t.Wg},get playbackRate(){return t.Gg},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Gg=i},get played(){return t.GL()},get poster(){return t.mX},set poster(n){t.mX=Rm(n)},get preload(){return t.yy},set preload(n){t.yy=n},get presentation(){return t.vU.Gw},get readyState(){return t.Y_},get seekable(){return t.QL()},get seeking(){return t.qg},get source(){return i},set source(t){e(t)},get src(){return yE(t.Bm())},set src(t){e({sources:t})},get textTracks(){return t.Rm.Gw},get textTrackStyle(){return t.PU.Gw},get uid(){return t.B_},get videoHeight(){return t.Yg},get videoTracks(){return t.Im.Gw},get videoWidth(){return t.jg},get volume(){return t.Qg},set volume(n){t.iM(Number(n))},get latency(){return t.by.Gw},destroy:function(){t.Sd(),t=null,i=void 0},play:function(){t.dX()},pause:function(){t.Cm()},stop:function(){i=void 0,t.Pm()},prepareWithUserAction:function(){t.Um()},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)},setSource:function(t){e(t)}},(n=new HS(r,!0)).UC(t),r;var t,n,i,e,r},T(e,[{key:"cU",get:function(){return this.eX.cU}},{key:"fU",get:function(){return this.eX.fU}},{key:"rc",get:function(){return this.eX.rc}},{key:"hU",get:function(){return this.eX.hU}},{key:"Xw",get:function(){return this.eX.Xw}},{key:"XD",get:function(){return this.eX.dU}},{key:"vU",get:function(){return this.eX.vU}},{key:"lU",get:function(){return this.eX.lU}},{key:"kM",get:function(){return this.eX.kM}},{key:"IU",get:function(){return this.eX.IU}},{key:"Tm",get:function(){return this.eX.Tm},set:function(t){this.eX.Tm=t,this.vX()}},{key:"RU",get:function(){return this.eX.RU}},{key:"Em",get:function(){return this.eX.Em}},{key:"DU",get:function(){return this.eX.DU}},{key:"NU",get:function(){return this.eX.lU}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}},{key:"Dm",get:function(){return this.eX.Dm}},{key:"ey",get:function(){return this.eX.ey}},{key:"CU",get:function(){return this.eX.CU}},{key:"Rm",get:function(){return this.eX.Rm}},{key:"PU",get:function(){return this.eX.PU}},{key:"Im",get:function(){return this.eX.Im}},{key:"SU",get:function(){return this.eX.SU}},{key:"gM",get:function(){return this.eX.gM}},{key:"Jm",get:function(){return this.mN.Jm},set:function(t){this.mN.Jm=t}},{key:"Qm",get:function(){return this.eX.Qm}},{key:"$m",get:function(){return this.eX.$m}},{key:"Fg",get:function(){return this.eX.Fg}},{key:"Vg",get:function(){return this.eX.Vg},set:function(t){this.eX.Vg=t}},{key:"Wg",get:function(){return this.mN.Wg}},{key:"mX",get:function(){return this.sX.Ql||""},set:function(t){this.sX.iX=t}},{key:"Gg",get:function(){return this.eX.Gg},set:function(t){this.mN.Gg=t}},{key:"yy",get:function(){return this.eX.yy},set:function(t){this.eX.yy=lS(t)}},{key:"Y_",get:function(){return this.mN.Y_}},{key:"qg",get:function(){return this.mN.qg}},{key:"B_",get:function(){return this.eX.B_}},{key:"Yg",get:function(){return this.eX.Yg}},{key:"jg",get:function(){return this.eX.jg}},{key:"Qg",get:function(){return this.eX.Qg},set:function(t){this.eX.Qg=t}},{key:"by",get:function(){return this.eX.by}}]),e}($m)}function RC(){return pC||(pC=uC(pC=IC(tC),KR.BU),pC=uC(pC,KR.OU)),pC}function CC(t,n){var i=Uy(n),e=new(RC())(t,i),r=e.Gw;return e.EU(),e.gX(gC),w.defineProperty(r,"constructor",{value:CC}),r=pm(r),cC(e),r}yu(function(){t.dispatchEvent&&t.dispatchEvent(lC("theoplayerready"))});var DC,NC={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return zu(t)},n.decode=function(t){return Xu(t)},t}())},PC=["hls","airplay","ui"],xC=gC.Gw,BC=iA.II.registerContentProtectionIntegration.bind(iA.II),OC=[Pf.If,Pf.Ef,_y.Ug,Pf.Hf,Pf.Rf,Pf.pf,Pf.Bf,Pf.Pf,Pf.mf,Pf.Df,Pf.Ff,Pf._f,_y.u_,Pf.Cf,jm.z_,Tu.yu,Tu.bu,Pf.lf,Pf.vf,Pf.zf],LC={yX:!1,kX:50},MC=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.VP="pX"}(DC||(DC={}));var jC,FC=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Pc=void 0,s.KR=void 0,s.Vc=void 0,s.bX=!1,s.AX=new na,s.TX=!1,s.oX=new mC,s.SX=void 0,s.ys=void 0,s.ic=void 0,s.EX=function(){s.TX=!0},s.IX=function(){s.RX(!0)},s.Pc=n,s.KR=i,s.Vc=i.SD,s.SX=e,s.ys=r,s.Vc.addEventListener("loadedmetadata",s.EX);for(var u=0;u<MC.length;u++){var o=MC[u];s.Vc.addEventListener(o,s.IX)}return s}E(i,t);var e=i.prototype;return e.DX=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.ys.Ss(t.vs,n));case 2:return i=r.sent,r.next=5,Fr.awrap(i.lc());case 5:return e=r.sent,r.next=8,Fr.awrap(this.NX(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,qe)},e.CX=function(t){var n=this,i=this.ic;return i?0!==t.ND.length&&t.ND.some(function(t){return t.ec.vs===i.ec}):0!==this.Pc.ND.length?t.ND.some(function(t){return n.Pc.ND.some(function(n){return t.ec===n.ec})}):0===t.ND.length||!this.TX},e.PX=function(t){return this.SX.PX(t),this.Pc=t,qe.resolve()},e.xs=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:for(this.$s(),this.Vc.removeEventListener("loadedmetadata",this.EX),t=0;t<MC.length;t++)n=MC[t],this.Vc.removeEventListener(n,this.IX);return i.next=5,Fr.awrap(this.oX.Sd());case 5:return i.next=7,Fr.awrap(this.BX());case 7:return i.next=9,Fr.awrap(this.SX.k_());case 9:return i.next=11,Fr.awrap(this.NX(void 0));case 11:case"end":return i.stop()}},null,this,null,qe)},e.RX=function(t){t!==this.bX&&(this.bX=t,t?this.AX.Wu(void 0):this.AX=new na)},e.NX=function(t){var n=this;return this.oX.ZU(function(){return n.OX(t)})},e.OX=function(t){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.Vc.src){e.next=4;break}throw new up(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.Vc.src){e.next=6;break}throw new up(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!t||this.bX){e.next=9;break}return e.next=9,Fr.awrap(this.AX.Hu);case 9:if(!(i=this.ic)){e.next=14;break}return e.next=13,Fr.awrap(i.cc(this.Vc));case 13:this.ic=void 0;case 14:if(!t){e.next=18;break}return e.next=17,Fr.awrap(t.hc(this.Vc));case 17:this.ic=t;case 18:case"end":return e.stop()}},null,this,null,qe)},e.Om=function(t){var n=this;return this.oX.ZU(function(){return n.xX(t)})},e.xX=function(t){this.RX(!1);var n=this.KR.Gg;this.Vc.src=t,this.KR.Gg=n},e.LX=function(t){var n=this;return this.oX.ZU(function(){return n.MX(t)})},e.MX=function(t){this.xX(t),this.Vc.load()},e.BX=function(){var t=this;return this.oX.ZU(function(){return t.UX()})},e.UX=function(){this.RX(!1),vr(this.Vc)},T(i,[{key:"Em",get:function(){throw new l("Not implemented")}},{key:"rc",get:function(){return this.Pc}},{key:"SD",get:function(){return this.Vc}},{key:"Im",get:function(){throw new l("Not implemented")}}]),i}(Su),UC=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i._L=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.rc,n.t0=t.PD,n.next=n.t0===Jm.Tg?4:n.t0===Jm.Sg?4:(n.t0,Jm.Ag,6);break;case 4:return this.Vc.setAttribute("crossorigin",t.PD),n.abrupt("break",8);case 6:return this.Vc.removeAttribute("crossorigin"),n.abrupt("break",8);case 8:return void 0!==t.yy?this.Vc.preload=t.yy:this.Vc.preload=cS.RR,void 0!==t.BD?this.Vc.title=t.BD:fr(this.Vc),n.next=12,Fr.awrap(this.Om(t.Z_));case 12:this.SX.jh(this,t);case 13:case"end":return n.stop()}},null,this,null,qe)},i.CX=function(t){return!1},i.PX=function(t){return qe.resolve(void 0)},i.xs=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return fr(this.Vc),n.next=3,Fr.awrap(t.prototype.xs.call(this));case 3:case"end":return n.stop()}},null,this,null,qe)},n.XX=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Nl))},T(n,[{key:"Km",get:function(){return yS.aC(this.Vc.buffered)}},{key:"Hg",get:function(){return this.Vc.duration}},{key:"HX",get:function(){var t=this.Hg;if(!isFinite(t))return!1;var n=this.Km;return 0!==n.b_&&t-n.NN(n.b_-1)<1/6}},{key:"yy",get:function(){return this.Vc.preload},set:function(t){this.Vc.preload=t}},{key:"py",get:function(){return yS.aC(this.Vc.seekable)}},{key:"FX",get:function(){return this.Km}},{key:"zX",get:function(){if(lr(this.Vc)&&(this.Vc.videoWidth>0||this.Vc.videoHeight>0))return this.Km}}]),n}(FC),HC=function(t){function n(n){var i;return(i=t.call(this,Pf.Rf)||this).currentTime=n,i}return E(n,t),n}(Iu),XC=function(t){function n(){return t.call(this,Pf.pf)||this}return E(n,t),n}(Iu);!function(t){t.VX="WX"}(jC||(jC={}));var VC,zC,WC=[jC.VX];!function(t){t[t.GX=0]="GX",t[t.Yf=1]="Yf",t[t.qX=2]="qX"}(VC||(VC={})),function(t){t.YX="jX"}(zC||(zC={}));var qC=function(t){function n(n){var i;return(i=t.call(this,zC.YX)||this).QX=n,i}return E(n,t),n}(Iu),GC=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ZX=yS.fC(),n}E(n,t);var i=n.prototype;return i.KX=function(t,n){var i=new yS([t,n]);this.ZX=this.ZX.YN(i),this.Qs(new qC(i))},i.JX=function(t,n){this.ZX=this.ZX.QN(new yS([t,n]))},i.k_=function(){this.ZX=yS.fC()},i.Sd=function(){this.$s()},T(n,[{key:"$X",get:function(){return this.ZX}}]),n}(Su);function $C(t,n){return void 0===n&&(n=new Id({highWaterMark:1/0})),new yd(new QC(t,n),{highWaterMark:0})}var YC,QC=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.ov=void 0,this.tH=void 0,this.nH=void 0,this.bv=[],this.Av=0,this.qM=void 0,this.iH=!1,this.eH=void 0,this.rH=function(t){return t.done?(i.sH(),void i.qM.close()):(i.bv.push(t.value),i.Av+=i.tH(t.value),i.iH&&i.sH(),i.uH()?i.ov.read().then(i.rH):void 0)},this.aw=function(t){i.sH(),i.qM.error(t)},this.ov=t.getReader(),this.tH=r,this.nH=u}var n=t.prototype;return n.start=function(t){this.qM=t,this.uH()&&this.oH()},n.pull=function(){this.bv.length>0?this.sH():this.iH=!0,this.uH()&&this.oH()},n.cancel=function(t){return Ks(this.bv),this.Av=0,this.iH=!1,this.ov.cancel(t)},n.sH=function(){if(0!==this.bv.length){var t=this.bv;this.bv=[],this.Av=0,this.iH=!1,this.qM.enqueue(t)}},n.uH=function(){return!!this.iH||this.nH-this.Av>0},n.oH=function(){var t=this;if(!this.eH){var n=this.ov.read().then(this.rH).catch(this.aw);this.eH=n;var i=function(){t.eH===n&&(t.eH=void 0)};n.then(i,i)}},t}(),ZC=function(){function t(){this.aH=[],this.Cu=0}var n=t.prototype;return n.VU=function(t){this.aH.push(t),this.Cu+=t.byteLength},n.hH=function(t){if(this.Cu<=t)return this.cH();for(var n=this.aH,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(zo(n[e],0,s)),i+=s}return{aH:r,Cu:i}},n.fH=function(t){var n=this.hH(t);return 1===n.aH.length?n.aH[0]:Qu(n.aH,n.Cu)},n.cH=function(){return{aH:this.aH,Cu:this.Cu}},n.vH=function(t){if(this.Cu<=t)return this.lH();for(var n=this.aH,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(zo(n[0],0,s)),n[0]=zo(n[0],s),i+=s}return this.Cu-=i,{aH:r,Cu:i}},n.dH=function(t){var n=this.vH(t);return 1===n.aH.length?n.aH[0]:Qu(n.aH,n.Cu)},n.lH=function(){var t=this.cH();return this.aH=[],this.Cu=0,t},n.wH=function(){var t=1===this.aH.length?this.aH[0]:Qu(this.aH,this.Cu);return this.aH=[],this.Cu=0,t},t}();!function(t){t[t._H=0]="_H",t[t.gH=1]="gH",t[t.mH=2]="mH"}(YC||(YC={}));var KC=function(){var t=n.prototype;function n(){this.bv=new ZC,this.me=YC._H,this.yH=0,this.kH=0,this.pH()}return t.bH=function(t,n){},t.AH=function(){},t.TH=function(t){this.bv.VU(t),this.SH(!1)},t.EH=function(){this.SH(!0)},t.IH=function(){return this.me!==YC._H||0!==this.bv.Cu},t.SH=function(t){for(;0!==this.bv.Cu;){if(!t&&this.yH>this.bv.Cu)return;switch(this.me){case YC._H:this.RH(t);break;case YC.gH:this.DH(t);break;case YC.mH:this.NH(t)}}},t.pH=function(){this.me=YC._H,this.yH=8},t.RH=function(t){var n=qo(this.bv.fH(this.yH)),i=new Jo,e=ab.kA(n,i);if(!e.wA)return this.yH=e.bA,void(t&&this.yH>this.bv.Cu&&this.CH(this.bv.Cu));var r=e.pA.fs,s=e.pA.Cu;0===s&&(s=1/0),this.bH(r,s),this.PH(r)?this.BH(s):this.CH(s)},t.BH=function(t){this.me=YC.gH,this.yH=t},t.DH=function(t){var n=qo(this.bv.dH(this.yH)),i=new Jo,e=ab._A(n,i,!t);if(!e.wA)throw new ob(i.Pu);this.AH(),this.OH(e.gA),this.pH()},t.CH=function(t){this.me=YC.mH,this.yH=0,this.kH=t},t.NH=function(t){var n=this.bv.vH(this.kH);this.kH-=n.Cu;for(var i=0,e=n.aH;i<e.length;i++){var r=e[i];this.xH(r)}(0===this.kH||t&&this.kH===1/0)&&(this.AH(),this.pH())},n}();function JC(t){return t instanceof nc}function tD(t){return t instanceof Jh}function nD(t){return t instanceof Qh||t instanceof Zh}function iD(t){return t instanceof bh}function eD(t){return t instanceof Za}function rD(t){return t instanceof vc}function sD(t){return t instanceof oc}function uD(t,n){var i=Ws(t.boxes,sD);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var s=r[e];s instanceof hc&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}}var oD=function(t){function n(n){var i;return(i=t.call(this)||this).qM=void 0,i.LH=void 0,i.MH=void 0,i.UH=Vr(),i.LH=n,i}E(n,t);var i=n.prototype;return i.start=function(t){this.qM=t},i.transform=function(t){this.TH(t)},i.flush=function(){this.EH()},i.PH=function(t){return t===m_.sb||t===m_.Ob||t===m_.Wb},i.OH=function(t){var n=this.XH(t);this.qM.enqueue(n)},i.xH=function(t){this.qM.enqueue(t)},i.XH=function(t){var n=Go(t.Fi.Fi);switch(t.fs){case"moov":return this.HH(n);case"sidx":return this.FH(n);case"moof":return this.zH(n)}return n},i.VH=function(t){var n=this.UH.get(t);if(void 0===n)throw new l("Expected to have found a media header timescale for track ID "+t+".");return n},i.HH=function(t){for(var n=Nc(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof qh?n.boxes[i]=this.WH(e):e instanceof Gh?n.boxes[i]=this.GH(e):e instanceof Jh&&this.qH(e)}for(var r=0,s=n.boxes;r<s.length;r++){var u=s[r];u instanceof Vh&&this.YH(u)}return n.serialize().join()},i.WH=function(t){this.MH=t.timescale;var n=hD(vt.fromNumber(t.duration,!0),this.jH,this.LH);return 0!==n.getHighBits()?this.GH(function(t){return new Gh({creation:vt.fromNumber(t.creationTime,!0),modification:vt.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:vt.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.LH,t.duration=n.toInt(),t)},i.GH=function(t){return this.MH=t.timescale,t.timescale=this.LH,t.duration=hD(t.duration,this.jH,this.LH),t},i.qH=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof Qh?(n=e.trackId,t.boxes[i]=this.QH(e)):e instanceof Zh?(n=e.trackId,t.boxes[i]=this.ZH(e)):e instanceof bh?this.KH(e,n):e instanceof ch&&this.JH(e)}},i.QH=function(t){var n=hD(vt.fromNumber(t.duration,!0),this.jH,this.LH);return 0!==n.getHighBits()?this.ZH(function(t){return new Zh({creation:vt.fromNumber(t.creationTime,!0),modification:vt.fromNumber(t.modificationTime,!0),duration:vt.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.ZH=function(t){return t.duration=hD(t.duration,this.jH,this.LH),t},i.KH=function(t,n){for(var i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof mh?t.boxes[i]=this.$H(e,n):e instanceof yh&&(t.boxes[i]=this.tF(e,n))}},i.$H=function(t,n){this.UH.set(n,t.timescale);var i=hD(vt.fromNumber(t.duration,!0),t.timescale,this.LH);return 0!==i.getHighBits()?this.tF(function(t){return new yh({creation:vt.fromNumber(t.creationTime,!0),modification:vt.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:vt.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.LH,t.duration=i.toInt(),t)},i.tF=function(t,n){return this.UH.set(n,t.timescale),t.timescale=this.LH,t.duration=hD(t.duration,t.timescale,this.LH),t},i.JH=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof oh?this.nF(e):e instanceof ah&&this.iF(e)}},i.nF=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=aD(e.mediaTime,this.jH,this.LH),e.segmentDuration=aD(e.segmentDuration,this.jH,this.LH)}},i.iF=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=hD(e.mediaTime,this.jH,this.LH),e.segmentDuration=hD(e.segmentDuration,this.jH,this.LH)}},i.YH=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Hh?this.eF(i):i instanceof jh?t.boxes[n]=this.rF(i):i instanceof Fh&&(t.boxes[n]=this.sF(i))}},i.eF=function(t){var n=this.VH(t.trackId);t.defaultSampleDuration=aD(t.defaultSampleDuration,n,this.LH)},i.rF=function(t){var n=hD(vt.fromNumber(t.fragmentDuration,!0),this.jH,this.LH);return 0!==n.getHighBits()?this.sF(function(t){return new Fh(vt.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.sF=function(t){return t.fragmentDuration=hD(t.fragmentDuration,this.jH,this.LH),t},i.FH=function(t){var n=Pc(t);return(n=n instanceof pc?this.uF(n):this.oF(n)).serialize().join()},i.uF=function(t){var n=t.timescale,i=hD(vt.fromNumber(t.earliestPresentationTime,!0),n,this.LH);if(0!==i.getHighBits())return this.oF(function(t){return new _c(t.referenceId,t.timescale,vt.fromNumber(t.earliestPresentationTime,!0),vt.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.LH,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var s=r[e];s.subsegmentDuration=aD(s.subsegmentDuration,n,this.LH)}return t},i.oF=function(t){var n=t.timescale;t.timescale=this.LH,t.earliestPresentationTime=hD(t.earliestPresentationTime,n,this.LH);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=aD(r.subsegmentDuration,n,this.LH)}return t},i.zH=function(t){for(var n=xc(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var s=r[e];s instanceof fc&&this.aF(s)}var u=n.getSize();if(u!==i)for(var o=u-i,a=0,h=n.boxes;a<h.length;a++){var c=h[a];c instanceof fc&&uD(c,o)}return n.serialize().join()},i.aF=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof oc?(n=this.VH(e.trackId),this.hF(e,n)):e instanceof rc?t.boxes[i]=this.cF(e,n):e instanceof sc?t.boxes[i]=this.fF(e,n):e instanceof hc&&this.vF(e,n)}},i.hF=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=aD(t.defaultSampleDuration,n,this.LH))},i.cF=function(t,n){var i=hD(vt.fromNumber(t.baseMediaDecodeTime,!0),n,this.LH);return 0!==i.getHighBits()?this.fF(function(t){return new sc(vt.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.fF=function(t,n){return t.baseMediaDecodeTime=hD(t.baseMediaDecodeTime,n,this.LH),t},i.vF=function(t,n){for(var i,e,r,s=0,u=0,o=0,a=t.samples;o<a.length;o++){var h=a[o];if(void 0!==h.duration){var c=aD(u+=h.duration,n,this.LH);h.duration=c-s,s=c}void 0!==h.compositionTimeOffset&&(h.compositionTimeOffset=(i=h.compositionTimeOffset,e=n,r=this.LH,vt.fromInt(i,!1).multiply(r).divide(e).toNumber()))}},T(n,[{key:"jH",get:function(){if(void 0===this.MH)throw new l("Expected to have found a movie header timescale.");return this.MH}}]),n}(KC);function aD(t,n,i){return vt.fromInt(t,!0).multiply(i).divide(n).toNumber()}function hD(t,n,i){return i_.Vk(t).vp(i_.Wk(i,!0))._p(i_.Wk(n,!0)).tp()}var cD,fD,lD,vD=1e5,dD=function(){function t(t){this.lF=void 0,this.lF=new oD(t)}return t.prototype.dF=function(t){return t.pipeThrough(new Rd(this.lF))},t}();function wD(t,n,i){var e=vo(t,n);if(e!==i)throw new v("Expected descriptor with tag "+i+", but found "+e)}function gD(t,n){wD(t,n,cD.wF);var i,e,r,s=mD(t,n),u=n.Pu+s,o=_o(t,n),a=vo(t,n),h=0!=(64&a),c=0!=(32&a),f=31&a;(0!=(128&a)&&(i=_o(t,n)),h)&&(e=Eo(t,n,vo(t,n)));c&&(r=Eo(t,n,2));var l=function(t,n){wD(t,n,cD._F);var i,e=mD(t,n),r=n.Pu+e,s=vo(t,n),u=vo(t,n),o=u>>2,a=0!=(2&u),h=po(t,n,3),c=ko(t,n),f=ko(t,n);if(n.Pu<r){var l=function(t,n){return t.getUint8(n.Pu)}(t,n);l===cD.gF&&(i=function(t,n){wD(t,n,cD.gF);var i=mD(t,n),e=go(t,n,i);return{mF:cD.gF,yF:e}}(t,n))}return n.xu(r),{mF:cD._F,kF:s,pF:o,bF:a,AF:h,TF:c,SF:f,EF:i}}(t,n);return n.xu(u),{mF:cD.wF,P_:o,IF:i,Ql:e,RF:f,DF:r,NF:l}}function mD(t,n){for(var i=0,e=0;e<4;e++){var r=vo(t,n);if(i=i<<7|127&r,!(128&r))break}return i}function yD(t,n){for(var i=vo(t,n),e=vo(t,n),r=vo(t,n),s=vo(t,n),u=3&vo(t,n),o=31&vo(t,n),a=[],h=0;h<o;h++){var c=_o(t,n);a.push(go(t,n,c))}for(var f=vo(t,n),l=[],v=0;v<f;v++){var d=_o(t,n);l.push(go(t,n,d))}return{CF:i,PF:e,BF:r,OF:s,xF:u,LF:a,MF:l}}function pD(t){var n=sb(vb.RA(t),m_.sb);if(n){for(var i=n.pA.yp,e=[],r=0,s=n.VA;r<s.length;r++){for(var u=s[r],o=u.pA.iT,a=u.JA.pA.yp,h=void 0,c=void 0,f=0,l=u.JA.cT.lT.wT.gT;f<l.length;f++){var v,d,w=_D(l[f]);if(w)h=null!=(v=w.UF)?v:h,c=null!=(d=w.XF)?d:c}e.push({iT:o,yp:a,HF:{UF:h,XF:c,FF:void 0}})}return{yp:i,VA:e}}}function _D(t){var n,i;if(t.fs===m_.pb)n=function(t){return"avc1."+bD(t.PF,2)+bD(t.BF,2)+bD(t.OF,2)}(yD(qo(t.VT.Fi),new Jo));else if(t.fs===m_.Ab||t.fs===m_.Tb){var e=function(t,n){for(var i=n.Xu(),e=no(t,i,8),r=no(t,i,2),s=no(t,i,1),u=no(t,i,5),o=no(t,i,32),a=[],h=0;h<6;h++)a.push(no(t,i,8));var c=no(t,i,8);i.Bu(4);var f=no(t,i,12);i.Bu(6);var l=no(t,i,2);i.Bu(6);var v=no(t,i,2);i.Bu(5);var d=no(t,i,3);i.Bu(5);for(var w=no(t,i,3),g=no(t,i,16),m=no(t,i,2),y=no(t,i,3),p=no(t,i,1),_=no(t,i,2),b=no(t,i,8),k=[],A=0;A<b;A++){var T=no(t,i,1);i.Bu(1);for(var S=no(t,i,6),E=no(t,i,16),I=[],R=0;R<E;R++){var C=no(t,i,16),D=go(t,new Jo(i.Pu>>3),C);i.Bu(8*C),I.push({zF:C,VF:D})}k.push({WF:T,GF:S,qF:E,YF:I})}return{CF:e,jF:r,QF:s,ZF:u,KF:a,JF:c,tz:f,nz:l,iz:o,ez:v,rz:d,sz:w,oz:g,cz:y,fz:p,vz:m,xF:_,lz:b,wz:k}}(qo(t.YT.Fi),new Jo);n=function(t,n){var i=t.toString()+".";switch(n.jF){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.ZF.toString()+".",i+=(e=n.iz,r=e,r=(r=(r=(r=(r=r>>>1&1431655765|(1431655765&r)<<1)>>>2&858993459|(858993459&r)<<2)>>>4&252645135|(252645135&r)<<4)>>>8&16711935|(16711935&r)<<8)>>>16|r<<16).toString(16)+".",n.QF){case 0:i+="L";break;case 1:i+="H";break;default:return}var e,r;i+=n.JF.toString();for(var s=n.KF.reduce(function(t,n){return 0===t?n:n+1},0),u=0;u<s;u++)i+="."+n.KF[u].toString(16).toUpperCase();return i}(t.fs,e)}else{if(t.fs!==m_.Ib)return(t.fs===m_.Bb||t.fs===m_.Pb)&&t.ZT?_D(t.ZT):void 0;i=function(t){var n=t.NF;switch(n.kF){case fD._z:return function(t){var n;if(null==(n=t.EF)||!n.yF)return"mp4a.40";return"mp4a.40."+function(t,n){var i=no(t,n,5);31===i&&(i=32+no(t,n,6));var e,r=no(t,n,4);return 15===r&&(e=no(t,n,24)),{gz:i,mz:r,yz:e,kz:no(t,n,4)}}(qo(t.EF.yF),new io).gz}(n);case fD.pz:return"mp4a.40.2";case fD.bz:return"mp4a.40.34"}}(gD(qo(t.MT.Fi),new Jo))}return{UF:n,XF:i,FF:void 0}}function bD(t,n){return Is(t.toString(16),n,"0")}function kD(t,n){var i=vb.RA(qo(t)),e=function(t,n){for(var i,e=0,r=t.VA;e<r.length;e++){var s,u=r[e],o=null==(s=u._S)?void 0:s._S;o&&function(){var t=u.pA.iT,e=Ws(n.VA,function(n){return n.iT===t}),r=f_.Vk(o,e.yp);i&&!r.Bk(i)||(i=r)}()}return i}(sb(i,m_.Ob),n),r=sb(i,m_.Fb);return{Vy:e.Ek(),Az:r.Fi}}function AD(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.fs,e.next=e.t0===VC.GX?3:e.t0===VC.Yf?4:e.t0===VC.qX?9:10;break;case 3:return e.abrupt("return",t);case 4:return e.next=6,Fr.awrap(zd(t.Fi,n));case 6:return i=e.sent,fu(n),e.abrupt("return",{fs:VC.GX,Fi:new _(i)});case 9:throw new l("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 10:case"end":return e.stop()}},null,null,null,qe)}!function(t){t[t.wF=3]="wF",t[t._F=4]="_F",t[t.gF=5]="gF"}(cD||(cD={})),function(t){t[t._z=64]="_z",t[t.pz=103]="pz",t[t.bz=107]="bz"}(fD||(fD={})),function(t){t[t.Tz=0]="Tz",t[t.Sz=1]="Sz",t[t.pz=2]="pz",t[t.Ez=5]="Ez",t[t.Iz=34]="Iz"}(lD||(lD={}));var TD=20,SD=j.Bn,ED=function(t){function n(n,i,e,r,s){var u,o;return(o=t.call(this)||this).Rz=void 0,o.Dz=void 0,o.Nz=void 0,o.Cz=void 0,o.Pz=void 0,o.fL=TD,o.vL=lR,o.Bz=!1,o.Oz=!1,o.xz=void 0,o.Lz=new au,o.Mz=void 0,o.Uz=!1,o.Xz=void 0,o.Hz=!1,o.Fz=void 0,o.zz=function(){o.Bz=!1},o.Rz=i,o.Dz=n,o.Nz=e,o.Nz.addEventListener("updateend",o.zz),o.Cz=r,o.Pz=s,o.Hz=ID(r.Nl,s),null!=(u=i.rc)&&u.Ke&&(o.Mz=new dD(vD)),o}E(n,t);var i=n.prototype;return i.Vz=function(t,n,i){var e=this;switch(t.fs){case VC.GX:case VC.Yf:return this.Wz(function(i){return e.Gz(t,n,i)},i);case VC.qX:throw new l("Opaque segments are not supported on web.")}},i.qz=function(t,n){var i=this;switch(t.fs){case VC.GX:return this.Wz(function(n){return i.Yz(t,n)},n);case VC.Yf:throw new l("Streaming initialization segments are not supported on web.");case VC.qX:throw new l("Opaque initialization segments are not supported on web.")}},i.Yz=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Hz){i.next=3;break}return this.Fz=pD(qo(t.Fi)),i.abrupt("return");case 3:return i.next=5,Fr.awrap(this.jz(t,void 0,n));case 5:SD&&(this.Uz=!1,this.Xz=t);case 6:case"end":return i.stop()}},null,this,null,qe)},i.Gz=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(SD&&this.Uz&&this.Xz)){u.next=3;break}return u.next=3,Fr.awrap(this.Yz(this.Xz,i));case 3:if(u.prev=3,fu(i),!this.Hz||!this.Fz){u.next=12;break}return u.next=8,Fr.awrap(AD(t,i));case 8:r=u.sent,s=kD(r.Fi,this.Fz),t={fs:VC.GX,Fi:s.Az},n=Ur({},n,{Zp:s.Vy+(null!=(e=n.Zp)?e:0)});case 12:return u.next=14,Fr.awrap(this.jz(t,n,i));case 14:this.Qs(new Iu(jC.VX));case 15:return u.prev=15,t.fs===VC.Yf&&t.Fi.cancel(new hu).catch(K),u.finish(15);case 18:case"end":return u.stop()}},null,this,[[3,,15,18]],qe)},i.jz=function(t,n,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:fu(i),n&&this.Qz(n),s.t0=t.fs,s.next=s.t0===VC.GX?5:s.t0===VC.Yf?13:21;break;case 5:if(!this.Mz){s.next=10;break}return e=this.Mz.dF(Xd(t.Fi)),s.next=9,Fr.awrap(this.Zz(e,i));case 9:return s.abrupt("return",s.sent);case 10:return s.next=12,Fr.awrap(this.Kz(t.Fi));case 12:return s.abrupt("return",s.sent);case 13:if(!this.Mz){s.next=18;break}return r=this.Mz.dF(t.Fi),s.next=17,Fr.awrap(this.Zz(r,i));case 17:return s.abrupt("return",s.sent);case 18:return s.next=20,Fr.awrap(this.Zz(t.Fi,i));case 20:return s.abrupt("return",s.sent);case 21:case"end":return s.stop()}},null,this,null,qe)},i.Zz=function(t,n){var i,e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=this.Dz.Km,e=$C(t),r=e.getReader(),s=!1,c.prev=4;case 5:return c.next=8,Fr.awrap(du(r.read(),n));case 8:if(!(u=c.sent).done){c.next=12;break}return s=!1,c.abrupt("break",19);case 12:return fu(n),o=Yu(u.value),s=!0,c.next=17,Fr.awrap(this.Kz(o));case 17:c.next=5;break;case 19:c.next=36;break;case 21:if(c.prev=21,c.t0=c.catch(4),r.cancel(c.t0).catch(K),!s){c.next=35;break}return c.next=27,Fr.awrap(this.Jz());case 27:a=this.Dz.Km.FN(i.zN()),h=0;case 29:if(!(h<a.b_)){c.next=35;break}return c.next=32,Fr.awrap(this.$z(a.RN(h),a.NN(h)));case 32:h++,c.next=29;break;case 35:throw c.t0;case 36:case"end":return c.stop()}},null,this,[[4,21]],qe)},i.tV=function(t,n){var i=this;return this.Wz(function(){return i.nV(t,n)})},i.nV=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Nz.appendWindowStart===t&&this.Nz.appendWindowEnd===n){i.next=6;break}return i.next=3,Fr.awrap(this.Jz());case 3:this.Nz.appendWindowStart=0,this.Nz.appendWindowEnd=n,this.Nz.appendWindowStart=t;case 6:case"end":return i.stop()}},null,this,null,qe)},i.Qz=function(t){this.Nz.timestampOffset!==t.Zp&&(this.Nz.timestampOffset=t.Zp)},i.Kz=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Nz.appendBuffer(t),this.Oz=!0,n.next=4,Fr.awrap(this.iV());case 4:case"end":return n.stop()}},null,this,null,qe)},i.eV=function(t,n,i){var e=this;return this.Wz(function(i){return e.$z(t,n,i)},i)},i.$z=function(t,n,i){return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return fu(i),this.Nz.remove(t,n),e.next=4,Fr.awrap(this.iV());case 4:case"end":return e.stop()}},null,this,null,qe)},i.iV=function(){var t=this,n=this.Dz.Km;return new qe(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},a=function(){s=!1,r="aborted"},h=function(){c(),s&&!r?(n.nC(t.Dz.Km)||t.Qs(new Iu(jC.VX)),i()):e(new l(r))},c=function(){t.Nz.removeEventListener("update",u),t.Nz.removeEventListener("error",o),t.Nz.removeEventListener("abort",a),t.Nz.removeEventListener("updateend",h)};t.Nz.addEventListener("update",u),t.Nz.addEventListener("error",o),t.Nz.addEventListener("abort",a),t.Nz.addEventListener("updateend",h)})},i.rV=function(){var t=this;return this.Wz(function(){return t.Jz()})},i.Jz=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Rz.Y_===WD.Bd){t.next=2;break}return t.abrupt("return");case 2:SD&&(this.Uz=!0),this.Nz.updating&&(this.Bz=!0);try{this.Nz.abort()}catch(t){0,this.Bz=!1}if(!this.ux){t.next=8;break}return t.next=8,Fr.awrap(this.iV().catch(K));case 8:case"end":return t.stop()}},null,this,null,qe)},i.sV=function(){return"function"==typeof this.Nz.changeType},i.PX=function(t){var n;this.uV(),this.Rz.Y_!==WD.oV&&(this.Cz=t,this.Pz=null!=(n=YD(t.Nl))?n:t.Nl,this.Hz=ID(t.Nl,this.Pz),this.sV()&&this.Nz.changeType(this.Pz))},i.aV=function(){this.Rz.Y_!==WD.mf||this.xz||this.ux||(this.Nz.timestampOffset=this.Nz.timestampOffset,this.Rz.hV())},i.Wz=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.uV(),(i=new au).zs(this.Lz.Ws),n&&i.zs(n),e.prev=4,this.xz=t(i.Ws),e.next=8,Fr.awrap(this.xz);case 8:if(this.Rz.hV(),!this.ux){e.next=12;break}return e.next=12,Fr.awrap(this.iV());case 12:return e.prev=12,this.xz=void 0,i.xs(),e.finish(12);case 16:case"end":return e.stop()}},null,this,[[4,,12,16]],qe)},i.uV=function(){if(this.xz)throw new l("Internal error")},i.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$s(),this.Lz.Fs(),!this.xz){t.next=6;break}return t.next=5,Fr.awrap(this.xz.catch(K));case 5:this.xz=void 0;case 6:this.Nz.removeEventListener("updateend",this.zz);case 7:case"end":return t.stop()}},null,this,null,qe)},T(n,[{key:"eL",get:function(){return this.fL},set:function(t){this.fL=t}},{key:"oL",get:function(){return this.vL},set:function(t){this.vL=t}},{key:"ux",get:function(){return this.Bz||this.Nz.updating}}]),n}(Su);function ID(t,n){return As(t,"audio/mp4")&&As(n,"audio/mpeg")}var RD=function(){function t(t,n){this.cV=void 0,this.Nz=void 0,this.fV=void 0,this.cV=n,this.Nz=t}var n=t.prototype;return n.HX=function(){return!!this.fV&&this.Km.LN().GD(this.fV)},n.vV=function(){var t=this.Km;this.fV=t.b_>0?t.NN(t.b_-1):0,this.cV.lV()},n.aV=function(){this.fV=void 0},T(t,[{key:"Km",get:function(){if(this.cV.Y_===WD.oV)return yS.fC();var t=yS.aC(this.Nz.buffered).FN(new yS([0,1/0])),n=this.fV;return void 0!==n&&t.b_>0&&t.NN(t.b_-1)===n&&(t=t.YN(yS.cC(n))),t}}]),t}();function CD(t){var n=t._c("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function DD(t,n){var i=ND(t)||PD(t),e=ND(n)||PD(n);return!i&&!e||t===n}function ND(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function PD(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function xD(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],a=e[2];if(s!==o)return!1;if(Number(u)!==Number(a))return!1}return!0}function BD(t,n,i,e,r,s,u){var o=new RD(r,t),a=new ED(o,t,r,i,s);return new OD(t,n,i,e,o,a,u)}var OD=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Rz=void 0,a.Pc=void 0,a.dV=void 0,a.KR=void 0,a.Dc=void 0,a.wV=void 0,a.Dz=void 0,a._V=void 0,a.gV=Xr(),a.Rz=n,a.Pc=e,a.Dc=e.Nl,a.dV=r,a.KR=i,a.Dz=s,a._V=u,a.wV=o,a._V.Zs(jC.VX,a.js),a}E(n,t);var i=n.prototype;return i.HX=function(){return this.Dz.HX()},i.vV=function(){this.Dz.vV()},i.aV=function(){this.Dz.aV(),this._V.aV()},i.mV=function(t,n){this.wV.KX(t,n)},i.yV=function(t,n){this.wV.JX(t,n)},i.kV=function(){return this._V.rV()},i.Vz=function(t,n,i){return this._V.Vz(t,n,i)},i.qz=function(t,n,i){return this._V.qz(t,i)},i.tV=function(t,n){return this._V.tV(t,n)},i.Qh=function(t,n,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.yV(t,n),e=this.Km,s.next=4,Fr.awrap(this._V.eV(t,n,i));case 4:r=0!==e.b_&&0===this.Km.b_,(j.Mn||j.En)&&r&&this.KR.xu(this.KR.Xg);case 6:case"end":return s.stop()}},null,this,null,qe)},i.CX=function(t){var n=t.Nl;if(this.Dc===n)return!0;var i=this.gV.get(n);if(void 0!==i)return i;var e=this.pV(t);return this.gV.set(n,e),e},i.pV=function(t){var n=YD(t.Nl);if(void 0===n)return!1;var i=Vc(this.Dc),e=Vc(n),r=CD(i),s=CD(e);if(this._V.sV()){if(!function(t,n){return uu(t,n,DD)}(r,s))return!1}else{if(i.fs!==e.fs)return!1;if(!function(t,n){return uu(t,n,xD)}(r,s))return!1}return!0},i.PX=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.Nl,this.Dc!==n&&(this.gV.clear(),this._V.PX(t),this.Dc=n),this.Pc=t,this.Rz.bV();case 4:case"end":return i.stop()}},null,this,null,qe)},i.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gV.clear(),this.$s(),this.wV.Sd(),t.prev=3,this._V.tu(jC.VX,this.js),t.next=7,Fr.awrap(this._V.xs());case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},null,this,[[3,9]],qe)},T(n,[{key:"Km",get:function(){return this.Dz.Km}},{key:"rc",get:function(){return this.Pc}},{key:"Nl",get:function(){return this.Dc}},{key:"AV",get:function(){return this.dV}},{key:"TV",get:function(){return this.wV.$X}},{key:"eL",get:function(){return this._V.eL},set:function(t){this._V.eL=t}},{key:"oL",get:function(){return this._V.oL},set:function(t){this._V.oL=t}},{key:"ux",get:function(){return this._V.ux}}]),n}(Su),LD=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.SV=void 0,this.RN=t,this.NN=n,this.EV=i,this.RV=e,this.SV=hI()}return t.prototype.DV=function(){var t=this.RN,n=this.NN;if(this.EV||this.RV){var i=.001*(hI()-this.SV);this.EV&&(t+=i),this.RV&&(n+=i)}return t>=n?yS.fC():new yS([t,n])},t}(),MD=100,jD=1e3,FD=1e4,UD=.01,HD=1,XD=[Pf.If,Pf.Ef,Pf.Bf,Pf.Pf,Pf.mf,Pf.Df,_y.u_,jm.z_],VD=function(){function t(t,n){var e=this;this.AE=ey.Rg,this.NV=!1,this.CV=[],this.PV=void 0,this.BV=0,this.OV=0,this.xV=0,this.LV=0,this.MV=0,this.UV=jD,this.XV=function(t){var n=e.KR.Xg;t.QX.GD(n)&&e.HV(n)},this.FV=nt(function(){e.zV(_y.u_)},MD),this.VV=nt(function(){e.zV(Pf.Rf)},MD),this.WV=function(){e.GV()?e.qV():e.YV()},this.jV=function(){var t=e.BV,n=e.xV,r=e.KR.Xg,s=i.ir(),u=t!==r;if(u||!e.GV())return e.BV=r,e.xV=s,void(u&&(e.MV=0,e.UV=jD));if(n>0&&s>n+e.UV){var o=e.Dz.Km;if(o.b_>1){var a=e.$X.LN().QN(o),h=a.rC(r);if(-1!==h)if(a.RN(h)-r<HD){var c=a.NN(h);return void e.KR.xu(c)}}var f=r+e.MV*UD;o.GD(f)||(f=e.QV(r,o)),e.BV=f,e.xV=s,e.MV++,e.UV=g.min(2*e.UV,FD),e.KR.xu(f)}},this.Dz=t,this.KR=n,this.KR.Zs(_y.u_,this.FV),this.KR.Zs(Pf.Rf,this.VV),this.KR.Zs(XD,this.WV)}var n=t.prototype;return n.ZV=function(t){this.CV.push(t),t.Zs(zC.YX,this.XV)},n.Sd=function(){var t=this;this.YV(),this.AE=ey.Rg,this.KR.tu(_y.u_,this.FV),this.KR.tu(Pf.Rf,this.VV),this.KR.tu(XD,this.WV),this.CV.forEach(function(n){return n.tu(zC.YX,t.XV)}),void 0!==this.PV&&(i.jn(this.PV),this.PV=void 0),this.NV=!0},n.zV=function(t){if(!this.NV){var n=this.KR.Y_;if(n<=ey.Ng){var i=this.KR.Xg,e=this.Dz.Km,r=e.ZN(i),s=e.NN(r);-1!==r&&(t===_y.u_&&n<this.AE||t===Pf.Rf&&n===this.AE)&&s<i+.5&&(i=s),this.HV(i)}t===_y.u_&&(this.AE=n)}},n.HV=function(t){var n=this;if(this.KR.Fg)return!1;var e=this.$X.LN().QN(this.Dz.Km),r=e.ZN(t);if(-1!==r&&!(g.abs(e.RN(r)-e.NN(r))<=.001)){if(i.Pw){if(void 0!==this.PV)return!1;this.OV=this.KR.Xg,this.PV=i.Qn(function(){n.OV===n.KR.Xg&&n.KR.xu(e.NN(r)),n.PV=void 0},1500)}else this.KR.xu(e.NN(r));return!0}return!1},n.qV=function(){0===this.LV&&(this.LV=i.Ar(this.jV,250))},n.YV=function(){0!==this.LV&&(i.Tr(this.LV),this.LV=0),this.KR.qg||(this.xV=0)},n.GV=function(){return!this.KR.Wg&&!this.KR.qg&&0!==this.KR.Gg&&!this.KR.Fg&&!this.KR.mu&&this.KR.Y_>=ey.Cg},n.QV=function(t,n){var i=n.ZN(t);return i>-1?n.NN(i):t},T(t,[{key:"$X",get:function(){return this.CV.reduce(function(t,n){return t.YN(n.$X)},yS.fC())}}]),t}();function zD(t){var n=[];if(t.KV&&n.push(t.KV.Km),t.JV&&n.push(t.JV.Km),0===n.length)return yS.fC();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.b_>0&&(i=g.max(i,r.NN(r.b_-1)))}for(var s=t.HX,u=new yS([0,i],[!0,s]),o=0;o<n.length;o++){var a=n[o];s&&a.b_>0&&(a=a.YN(new yS([a.NN(a.b_-1),i],[!0,!0]))),u=u.FN(a)}return u}var WD,qD=j.In||j.Rn;!function(t){t.oV="closed",t.Bd="open",t.mf="ended"}(WD||(WD={}));var GD=function(){function t(){}return t.prototype.$V=function(){return new MediaSource},t}(),$D=function(t){function n(n,i,e,r,s){var u;return void 0===s&&(s=new GD),(u=t.call(this,n,i,e,r)||this).tW=void 0,u.nW=void 0,u.iW=void 0,u.eW=new LD(0,1/0),u.JR=void 0,u.rW=void 0,u.sW=void 0,u.uW=!1,u.oW=function(){u.aW()},u.hW=function(){u.KR.hW()},u.tW=s,u.JR=u.tW.$V(),u.KR.Zs(Pf.Bf,u.oW),u.sW=new VD(Jt(u),u.KR),u}E(n,t);var i=n.prototype;return i.cW=function(t){if(p(t)||t<0)throw new l("Invalid duration");this.fW()?this.vW(t):this.rW=t},i.vW=function(t){var n=t===1/0,i=n?Mt:t;if(n&&this.JR.setLiveSeekableRange){var e=g.pow(2,39);this.JR.setLiveSeekableRange(0,e)}this.JR.duration=i,this.rW=void 0},i.lW=function(t,n,i,e){this.eW=new LD(t,n,!!i,!!e)},i._L=function(){var t,n,i,e,r,s,u,o,a,h,c;return Fr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return t=this.Pc,n=Ws(t.dW,function(t){return As(t.Nl,"audio")}),i=Ws(t.dW,function(t){return As(t.Nl,"video")}),f.next=5,Fr.awrap(this.wW());case 5:n&&(r=new GC,this.sW.ZV(r),s=null!=(e=YD(n.Nl))?e:n.Nl,u=this.JR.addSourceBuffer(s),this.nW=BD(this,this.KR,n,fp.dd,u,s,r),this.nW.Zs(jC.VX,this.hW)),i&&(a=new GC,this.sW.ZV(a),h=null!=(o=YD(i.Nl))?o:i.Nl,c=this.JR.addSourceBuffer(h),this.iW=BD(this,this.KR,i,fp.wd,c,h,a),this.iW.Zs(jC.VX,this.hW)),this.SX.jh(this,t);case 8:case"end":return f.stop()}},null,this,null,qe)},i.wW=function(){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=URL.createObjectURL(this.JR),i.next=3,Fr.awrap(t.prototype.LX.call(this,n));case 3:if(this.Y_===WD.Bd){i.next=6;break}return i.next=6,Fr.awrap(tm(this.JR,"sourceopen"));case 6:case"end":return i.stop()}},null,this,null,qe)},i.fW=function(){if(this.Y_!==WD.Bd)return!1;var t=this.nW&&this.nW.ux,n=this.iW&&this.iW.ux;return!(t||n)},i.vV=function(){this.uW=!0,this.nW&&this.nW.vV(),this.iW&&this.iW.vV(),this.uW=!1,this.aW()},i.aV=function(){this.nW&&this.nW.aV(),this.iW&&this.iW.aV()},i.CX=function(n){var i=Ws(n.dW,function(t){return As(t.Nl,"audio")}),e=Ws(n.dW,function(t){return As(t.Nl,"video")});if(this.nW){if(!i)return!1;if(!this.nW.CX(i))return!1}else if(i)return!1;if(this.iW){if(!e)return!1;if(!this.iW.CX(e))return!1}else if(e)return!1;return!!t.prototype.CX.call(this,n)},i.PX=function(n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=Ws(n.dW,function(t){return As(t.Nl,"audio")}),e=Ws(n.dW,function(t){return As(t.Nl,"video")}),r=[],this.nW&&r.push(this.nW.PX(i)),this.iW&&r.push(this.iW.PX(e)),s.next=7,Fr.awrap(qe.all(r));case 7:return s.next=9,Fr.awrap(t.prototype.PX.call(this,n));case 9:case"end":return s.stop()}},null,this,null,qe)},i.xs=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.nW){n.next=4;break}return n.next=3,Fr.awrap(this.nW.xs());case 3:this.nW=void 0;case 4:if(!this.iW){n.next=8;break}return n.next=7,Fr.awrap(this.iW.xs());case 7:this.iW=void 0;case 8:return this.Vc.src&&URL.revokeObjectURL(this.Vc.src),this.KR.tu(Pf.Bf,this.oW),this.sW.Sd(),n.next=13,Fr.awrap(t.prototype.xs.call(this));case 13:case"end":return n.stop()}},null,this,null,qe)},i.bV=function(){var t=this,n=this.Pc,i=n.dW.map(function(n){return As(n.Nl,"audio")&&t.nW?t.nW.rc:As(n.Nl,"video")&&t.iW?t.iW.rc:n});this.Pc=Ur({},n,{dW:i})},i.lV=function(){this.uW||this.aW()},i.aW=function(){this._W&&this.fW()&&(this.JR.endOfStream(),this.rW=void 0,this.Qs(new Iu(DC.VP)),this.KR.hW())},i.hV=function(){this.fW()&&(this.HX?this.aW():void 0!==this.rW&&this.vW(this.rW))},i.HV=function(t){return this.sW.HV(t)},n.XX=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.dW;n<i.length;n++){if(void 0===YD(i[n].Nl))return!1}return!0},T(n,[{key:"KV",get:function(){return this.nW}},{key:"JV",get:function(){return this.iW}},{key:"Hg",get:function(){if(this.rW)return this.rW;var t=this.JR.duration;return t===Mt?1/0:t}},{key:"Km",get:function(){return qD?zD(this):(t=this,n=yS.aC(this.Vc.buffered),(i=n).b_>0&&t.HX&&(i=i.YN(yS.cC(i.NN(i.b_-1)))),i);var t,n,i}},{key:"FX",get:function(){var t;return null==(t=this.nW)?void 0:t.Km}},{key:"zX",get:function(){var t;return null==(t=this.iW)?void 0:t.Km}},{key:"py",get:function(){return this.eW.DV().FN(new yS([0,this.Hg],[!0,!0]))}},{key:"HX",get:function(){return(!this.nW||this.nW.HX())&&(!this.iW||this.iW.HX())}},{key:"Y_",get:function(){return this.JR.readyState}},{key:"_W",get:function(){if(!this.HX)return!1;var t=this.Km;return 0!==t.b_&&t.RN(t.b_-1)<=this.KR.Xg}}]),n}(FC);function YD(t){var n=Vc(t),i="audio/mp4"===n.fs&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(CD(n),["mp4a.40.34"]);if(MediaSource.isTypeSupported(t)&&(!i||!j.Bn))return t;if(i){var e=Ws(['audio/mp4; codecs="mp3"',"audio/mpeg"],function(t){return MediaSource.isTypeSupported(t)});return void 0!==e?e:void 0}}var QD=[Pf.Ff,Pf.Df,Pf.Bf,Pf.If,Pf.Ef],ZD=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return(c=t.call(this)||this)._C=n,c.ua=i,c.gW=e,c.mC=r,c.kC=s,c.gC=u,c.yC=o,c.Da=a,c.mW=h,c}E(n,t);var i=n.prototype;return i.Cm=function(){this.mC||(this.mC=!0,this.Qs(new ky(this.Xg)))},i.Nm=function(){this.mC&&(this.mC=!1,this.Qs(new Ay(this.Xg)))},i.xs=function(){this.$s()},T(n,[{key:"Xg",get:function(){return this._C},set:function(t){this.Xg!==t&&(this._C=t,this.kC=!0,this.Qs(new Py(this.Xg)))}},{key:"Hg",get:function(){return this.ua}},{key:"Fg",get:function(){return this.gW}},{key:"Wg",get:function(){return this.mC}},{key:"Y_",get:function(){return this.mW}},{key:"qg",get:function(){return this.kC}},{key:"Vg",get:function(){return this.gC},set:function(t){this.Vg!==t&&(this.gC=t,this.Qs(new By(this.Xg,this.Qg)))}},{key:"Gg",get:function(){return this.yC},set:function(t){this.Gg!==t&&(this.yC=t,this.Qs(new Ry(this.Xg,this.Gg)))}},{key:"Qg",get:function(){return this.Da},set:function(t){this.Qg!==t&&(this.Da=t,this.Qs(new By(this.Xg,this.Qg)))}}]),n}(Su);var KD=function(t){function n(n){var i;return(i=t.call(this)||this).KR=void 0,i.AE=ey.Rg,i.yW=function(){i.kW()},i.KR=n,i}E(n,t);var i=n.prototype;return i.pW=function(t){this.AE!==t&&(this.AE=t,this.Qs(new My(this.KR.Xg,t)))},i.kW=function(){this.pW(this.jL())},i.k_=function(){this.pW(ey.Rg)},i.xs=function(){this.$s()},T(n,[{key:"Y_",get:function(){return this.jL()}}]),n}(Su),JD=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],tN=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<JD.length;e++){var r=JD[e];i.KR.SD.addEventListener(r,i.yW)}return i}E(n,t);var i=n.prototype;return i.jL=function(){var t=this.KR.SD.readyState;return t>ey.Ng&&this.KR.bW?ey.Ng:(this.KR.SD.seeking&&t>ey.Dg&&(t=ey.Dg),t)},i.xs=function(){for(var n=0;n<JD.length;n++){var i=JD[n];this.KR.SD.removeEventListener(i,this.yW)}t.prototype.xs.call(this)},n}(KD),nN=function(t){function n(n){var i;(i=t.call(this,n)||this).KR.Zs(Pf.Bf,i.yW);for(var e=0;e<JD.length;e++){var r=JD[e];i.KR.SD.addEventListener(r,i.yW)}return i}E(n,t);var i=n.prototype;return i.jL=function(){if(this.KR.SD.readyState===ey.Rg)return ey.Rg;var t=this.AW(),n=t?t.NN-t.RN:0;if(!t)return ey.Dg;var i=this.KR.Gg;return this.TW()||n>=3*i?ey.Pg:n>=3?ey.Cg:ey.Ng},i.AW=function(){var t=this.KR.Xg,n=this.KR.Km.qN(.04),i=n.ZN(t);if(!(i<0))return{RN:t,NN:n.NN(i)}},i.TW=function(){if(this.KR.Fg)return!0;var t=this.KR.Hg,n=this.AW();return!!n&&t-n.NN<=1/6},i.xs=function(){this.KR.tu(Pf.Bf,this.yW);for(var n=0;n<JD.length;n++){var i=JD[n];this.KR.SD.removeEventListener(i,this.yW)}t.prototype.xs.call(this)},n}(KD),iN=[_y.u_,Pf.If,Pf.Ef,Pf.Bf,Pf.Pf,Pf.mf,jm.z_],eN=function(t){function n(n){var i;return(i=t.call(this,n)||this).Vc=void 0,i.SW=!1,i.LE=function(){i.SW=!0,i.Zh()},i.Vc=n.SD,i.Vc.addEventListener(_y.Ug,i.LE),i}E(n,t);var i=n.prototype;return i.EW=function(){return this.SW&&t.prototype.EW.call(this)},i.Zh=function(){this.SW&&(this.Vc.paused||this.Vc.ended||this.Vc.error)&&(this.SW=!1),t.prototype.Zh.call(this)},i.k_=function(){t.prototype.k_.call(this),this.SW=!1},i.xs=function(){this.Vc.removeEventListener(_y.Ug,this.LE),t.prototype.xs.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).RE=void 0,i.IW=!1,i.ox=function(){i.Zh()},i.RE=n,i.RE.Zs(iN,i.ox),i}E(n,t);var i=n.prototype;return i.RW=function(){return this.RE.Y_<ey.Cg},i.EW=function(){return!this.RE.qg&&!(this.RE.Wg||this.RE.Fg||this.RE.mu||this.RW())},i.Zh=function(){var t=this.IW;this.IW=this.EW(),!t&&this.IW&&this.Qs(new Sk(this.RE.Xg))},i.k_=function(){this.IW=!1},i.xs=function(){this.$s(),this.RE.tu(iN,this.ox)},n}(Su)),rN=function(t){function n(n){var i;return(i=t.call(this,jm.z_)||this).mu=void 0,i.mu=n,i}return E(n,t),n}(Iu);function sN(t,n){return t.Vy<=n&&t.Wy>n}function uN(t,n){return function(t,n){return Vs(t.Vy,n.Vy,Vp)}(t,n)||function(t,n){return Vs(t.Wy,n.Wy,Vp)}(t,n)}function oN(t,n){var i=function(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,a=u-1;o<=a;){var h=o+(a-o>>1),c=e(i(t[h]),n);if(c<0)o=h+1;else if(c>0)a=h-1;else{if(!(r&&h>s&&0===e(i(t[h-1]),n)))return h;a=h-1}}return~o}(t,n,J,uN,!0);if(i<0)return i;for(;i<t.length&&uN(n,t[i])===Os.Is;i++)if(t[i].lk(n))return i;return-(i+1)}function aN(t){var n=t.Yw;if(!n)return-1;if(t instanceof Wp)return n.DW(t);var i=n.j_;if(!i)return-1;var e=oN(i.p_,t);return e>=0?e:-1}function hN(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],a=[];s<e&&u<r;){var h=t[s],c=n[u];h===c?(s++,u++):i(c,h)<=0?(o.push(c),u++):(a.push(h),s++)}for(;s<e;)a.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{NW:o,PW:a}}(t,n,uN);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var cN=function(){function t(t){this.BW=void 0,this.Ww=void 0,this.BW=t}var n=t.prototype;return n.qw=function(){return function(t){for(var n=[],i=0;i<t.b_;i++)n[i]=t.Iu(i).Gw;return n.item=function(n){var i=0|n,e=t.Iu(i);return e&&e.Gw||void 0},w.defineProperty(n,"constructor",{value:Fp}),n}(this)},n.Ey=function(t){for(var n=this.BW,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.lk(e))return!0}return!1},n.Iu=function(t){return this.BW[t]},T(t,[{key:"p_",get:function(){return this.BW}},{key:"b_",get:function(){return this.BW.length}},{key:"Gw",get:function(){if(this.Ww){var t=this.BW;this.Ww.length=t.length;for(var n=0;n<t.length;n++)this.Ww[n]=t[n].Gw}else this.Ww=this.qw();return this.Ww}}]),t}(),fN=function(t){function n(n,i){var e;return(e=t.call(this,um.u_)||this).Yw=n,e.Y_=i,e}return E(n,t),n.prototype.qw=function(){return new lN(this.Yw.Gw,Wm(this.Y_))},n}(om),lN=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return E(n,t),n}(am),vN=function(t){function n(n){var i;return(i=t.call(this,um.a_)||this).Yw=n,i}return E(n,t),n.prototype.qw=function(){return new dN(this.Yw.Gw)},n}(om),dN=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return E(n,t),n}(am),wN=function(t){function n(n){var i;return(i=t.call(this,um.jw)||this).zy=n,i}return E(n,t),n.prototype.qw=function(){return new gN(this.zy.Gw)},n}(om),gN=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return E(n,t),n}(am),mN=function(t){function n(n){var i;return(i=t.call(this,um.Zw)||this).zy=n,i}return E(n,t),n.prototype.qw=function(){return new yN(this.zy.Gw)},n}(om),yN=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return E(n,t),n}(am),pN=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this)||this).Ww=void 0,h.Bh=void 0,h.Dy=mp(),h.OW=!1,h.xW=void 0,h.LW=void 0,h.Ry=void 0,h.oa=void 0,h.HC=Mm.X_,h.mW=Ep.NONE,h.MW=void 0,h.Vi=void 0,h.UW=void 0,h.BW=[],h.XW=[],h.HW=void 0,h.FW=void 0,h.zW=0,h.VW=0,h.Bh=i||"",h.xW=a||"",h.LW=n,h.oa=r||"",h.OW=Boolean(s),h.UW=Boolean(o),h.Vi=u||Ip.DEFAULT,h.Ry=e||"",h.HW=new cN(h.BW),h.FW=new cN(h.XW),h}E(n,t);var i=n.prototype;return i.WW=function(t){return Ws(this.HW.p_,function(n){return n.P_===t})},i.qw=function(){return Xm(this)},i.nP=function(t){var n=Um(t);n!==this.W_&&(this.HC=n,n===Mm.X_&&(this.XW.forEach(function(t){t.dk=!1}),Ks(this.XW),this.VW=0),this.Qs(new dm(this)))},i.mE=function(t){if(t&&!t.Yw){var n=oN(this.j_.p_,t);if(!(n>=0)){t.Yw=this;var i=-(n+1);this.BW.splice(i,0,t),this.GW(i),t.vk=i,i<this.VW&&(this.VW=i),this.Qs(new wN(t))}}},i.sE=function(t){if(t&&t.Yw===this){var n=this.DW(t);if(!(n<0)){t.dk=!1;var i=this.XW,e=oN(i,t);e>=0&&Ys(i,e),Ys(this.BW,n),this.GW(n),t.vk=-1,this.VW>n&&--this.VW,this.Qs(new mN(t))}}},i.qW=function(t,n){var i=this.XW,e=this.BW,r=this.VW,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){sN(i[u],t)||(s=!0,Ys(i,u))}for(;r<e.length&&e[r].Vy<=t;){var o=e[r];if(0===t)break;sN(o,t)&&!Qs(i,o)&&(s=!0,i.push(o)),r++}s&&js(i,uN),this.VW=r},i.DW=function(t){return(-1===t.vk||t.vk>=this.zW)&&this.YW(),t.vk},i.YW=function(){for(var t=this.BW,n=this.zW;n<t.length;n++)t[n].vk=n;this.zW=t.length},i.GW=function(t){t<this.zW&&(this.zW=t)},i.G_=function(t){this.q_||(this.W_=t)},i.Sd=function(){this.$s();for(var t=this.BW.slice(),n=0;n<t.length;n++){t[n].Sd()}Ks(this.BW),Ks(this.XW)},T(n,[{key:"Q_",get:function(){return this.FW}},{key:"j_",get:function(){return this.HW}},{key:"kE",get:function(){return this.OW},set:function(t){this.OW=t}},{key:"q_",get:function(){return this.UW}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}},{key:"P_",get:function(){return this.Bh}},{key:"B_",get:function(){return this.Dy}},{key:"V_",get:function(){return this.xW},set:function(t){this.xW=t}},{key:"O_",get:function(){return this.LW}},{key:"x_",get:function(){return this.Ry},set:function(t){t!==this.Ry&&(this.Ry=t,this.Qs(new dp(this)))}},{key:"L_",get:function(){return this.oa}},{key:"W_",get:function(){return this.HC},set:function(t){this.nP(t)}},{key:"Y_",get:function(){return this.mW},set:function(t){this.mW!==t&&(this.mW=t,this.Qs(new fN(this,this.mW)))}},{key:"Z_",get:function(){return this.MW},set:function(t){this.MW=t}},{key:"fs",get:function(){return this.Vi},set:function(t){this.Vi!==t&&(this.Vi=t,this.Qs(new vN(this)))}}]),n}(Su),_N=function(t){function n(n,i){var e;return(e=t.call(this,Np.Uy,n)||this).mp=i,e}return E(n,t),n.prototype.qw=function(){return new bN(this.zy.Gw)},n}(Lp),bN=function(t){function n(n){return t.call(this,"enter",n)||this}return E(n,t),n}(Mp),kN=function(t){function n(n,i){var e;return(e=t.call(this,Np.Hy,n)||this).mp=i,e}return E(n,t),n.prototype.qw=function(){return new AN(this.zy.Gw)},n}(Lp),AN=function(t){function n(n){return t.call(this,"exit",n)||this}return E(n,t),n}(Mp),TN=function(t){function n(n){var i;return(i=t.call(this,um.Jw)||this).zy=n,i}return E(n,t),n.prototype.qw=function(){return new SN(this.zy.Gw)},n}(om),SN=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return E(n,t),n}(am),EN=function(t){function n(n){var i;return(i=t.call(this,um.t_)||this).zy=n,i}return E(n,t),n.prototype.qw=function(){return new IN(this.zy.Gw)},n}(om),IN=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return E(n,t),n}(am),RN=function(t){function n(n){var i;return(i=t.call(this)||this).jW=void 0,i.ck=void 0,i.Dy=void 0,i.rk=void 0,i.Ww=void 0,i.hk=!1,i.QW=function(){i.dk=!0},i.ZW=function(){i.dk=!1},i.Dy=kp(),i.jW=n,i.jW.addEventListener("enter",i.QW),i.jW.addEventListener("exit",i.ZW),i}E(n,t);var i=n.prototype;return i.qw=function(){return jp(this)},i.lk=function(t){return this===t||Am(this,t)&&zp(this,t)},i.Sd=function(){this.$s(),this.jW.removeEventListener("enter",this.QW),this.jW.removeEventListener("exit",this.ZW)},T(n,[{key:"B_",get:function(){return this.Dy}},{key:"Vy",get:function(){return this.jW.startTime},set:function(t){this.jW.startTime=t}},{key:"Wy",get:function(){return this.jW.endTime},set:function(t){this.jW.endTime=t}},{key:"Gy",get:function(){return this.ck},set:function(t){this.ck=t}},{key:"wk",get:function(){return!!this.jW.pauseOnExit},set:function(t){this.jW.pauseOnExit=!!t}},{key:"Yw",get:function(){return this.rk},set:function(t){this.rk=t}},{key:"P_",get:function(){return this.jW.id||""}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}},{key:"dk",get:function(){return this.hk},set:function(t){this.dk!==t&&(this.hk=t,t?(this.Qs(new _N(this,this.Vy)),this.rk&&this.rk.Qs(new TN(this))):(this.Qs(new kN(this,this.Wy)),this.rk&&this.rk.Qs(new EN(this))))}}]),n}(Gm),CN=function(t){function n(n){var i;return(i=t.call(this,um.i_)||this).Yw=n,i}return E(n,t),n.prototype.qw=function(){return new DN(this.Yw.Gw)},n}(om),DN=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return E(n,t),n}(am);function NN(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new PN(t),t.THEOplayerVTTRegion=n),n}}var PN=function(){function t(t){this.KW=void 0,this.Ww=void 0,this.KW=t}return T(t,[{key:"JW",get:function(){return this.KW}},{key:"P_",get:function(){return this.KW.id||""}},{key:"Tk",get:function(){return+this.KW.width||0},set:function(t){this.KW.width=t||0}},{key:"_k",get:function(){return+this.KW.lines||0},set:function(t){this.KW.lines=t||0}},{key:"gk",get:function(){return+this.KW.regionAnchorX||0},set:function(t){this.KW.regionAnchorX=t||0}},{key:"yk",get:function(){return+this.KW.regionAnchorY||0},set:function(t){this.KW.regionAnchorY=t||0}},{key:"bk",get:function(){return+this.KW.viewportAnchorX||0},set:function(t){this.KW.viewportAnchorX=t||0}},{key:"Ak",get:function(){return+this.KW.viewportAnchorY||0},set:function(t){this.KW.viewportAnchorY=t||0}},{key:"pk",get:function(){return this.KW.scroll||""}},{key:"Gw",get:function(){return this.Ww||(this.Ww=Kp(this)),this.Ww}}]),t}();var xN=function(t){function n(n){return t.call(this,n)||this}return E(n,t),T(n,[{key:"Gy",get:function(){return this.jW.text},set:function(t){this.jW.text=t}},{key:"$y",get:function(){return this.jW.vertical||""},set:function(t){this.jW.vertical=t||""}},{key:"Jy",get:function(){return this.jW.snapToLines},set:function(t){this.jW.snapToLines=t}},{key:"Yy",get:function(){return this.jW.line},set:function(t){this.jW.line=t}},{key:"Cu",get:function(){return+this.jW.size},set:function(t){this.jW.size=Ft(t,0,100)}}]),n}(RN),BN=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.lk=function(n){return this===n||Am(this,n)&&t.prototype.lk.call(this,n)&&qp(this,n)},T(n,[{key:"Ky",get:function(){return NN(this.jW.region)}},{key:"jy",get:function(){return this.jW.lineAlign||"start"},set:function(t){this.jW.lineAlign=t||"start"}},{key:"Qy",get:function(){return this.jW.position},set:function(t){this.jW.position=t}},{key:"Zy",get:function(){return this.jW.positionAlign||"auto"},set:function(t){this.jW.positionAlign=t||"auto"}},{key:"qy",get:function(){return this.jW.align||"center"},set:function(t){this.jW.align=t||"center"}},{key:"Gw",get:function(){return this.Ww||(this.Ww=Up(this)),this.Ww}}]),n}(xN),ON=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.lk=function(n){return this===n||Am(this,n)&&t.prototype.lk.call(this,n)&&qp(this,n)},T(n,[{key:"Ky",get:function(){return NN(this.JW)}},{key:"JW",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.jW.track,this.jW.regionId)}},{key:"jy",get:function(){return"middle"===(t=this.jW.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.jW.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"Qy",get:function(){return this.jW.position},set:function(t){var n,i;this.jW.position=(n=t,i=this.qy,Op(n,i))}},{key:"Zy",get:function(){return t=this.jW.positionAlign||"middle",xp[t];var t},set:function(t){var n,i;this.jW.positionAlign=(n=t||"center",i=this.qy,Pp[Bp(n,i)])}},{key:"qy",get:function(){return"middle"===(t=this.jW.align||"middle")?"center":t;var t},set:function(t){var n;this.jW.align="center"===(n=t||"center")?"middle":n}},{key:"Gw",get:function(){return this.Ww||(this.Ww=Up(this)),this.Ww}}]),n}(xN);function LN(t,n){return t.Gy===n.Gy}function MN(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Vy<t.Vy)jN(n,i,t.Vy);else{var e=n[0];if(e.Vy>t.Vy)t.Wy=e.Vy;else{var r=oN(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0)n[u].Vy<t.Vy&&jN(n,u,t.Vy);if(s<n.length){var o=n[s];t.Wy=o.Vy}}}}}}function jN(t,n,i){for(var e=t[n].Vy,r=n;r>=0&&t[r].Vy===e;r--)t[r].Wy=i}function FN(t){return jp(t)}var UN,HN,XN=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).$W=void 0,e.$W=i,e}return E(n,t),n.prototype.lk=function(n){return this===n||Am(this,n)&&t.prototype.lk.call(this,n)&&LN(this,n)},T(n,[{key:"Gy",get:function(){return this.$W}},{key:"Gw",get:function(){return this.Ww||(this.Ww=FN(this)),this.Ww}}]),n}(RN);function VN(t){switch(t){case UN.ISO_8859_1:case UN.UTF16_BOM:case UN.UTF16:case UN.UTF8:return!0}return!1}function zN(t){switch(t){case UN.ISO_8859_1:return Ro;case UN.UTF16_BOM:return No;case UN.UTF16:return Po;case UN.UTF8:return Uo}}function WN(t,n){var i=n.Pu,e=t.byteLength,r=Go(t);return n.Bu(e-i),Qo(r,i,e).buffer}function qN(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function GN(t,n,i){var e=vo(t,n);if(VN(e)){var r=zN(e);return{id:i,language:Eo(t,n,3),description:r(t,n),text:r(t,n)}}}function $N(t,n,i){var e=vo(t,n);if(VN(e)){var r=zN(e);return{id:i,mimeType:Ro(t,n),fileName:r(t,n),description:r(t,n),data:WN(t,n)}}}function YN(t,n,i){var e=vo(t,n);if(VN(e)){for(var r=zN(e),s=[];n.Pu<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function QN(t,n,i){var e=vo(t,n);if(VN(e)){for(var r=zN(e),s=Eo(t,n,3),u=vo(t,n),o=vo(t,n),a=r(t,n),h=!1,c=[];n.Pu<t.byteLength;){var f=void 0;if(e===UN.UTF16_BOM){var l=Do(t,n);void 0===l?l=h:h=l,f=Po(t,n,l)}else f=r(t,n);if(!f||n.Pu+4>t.byteLength)break;c.push({text:f,timestamp:ko(t,n)})}return{id:i,language:s,format:u,contentType:o,description:a,entries:c}}}function ZN(t,n,i){return{id:i,ownerIdentifier:Ro(t,n),identifier:WN(t,n)}}function KN(t,n,i){var e=vo(t,n);if(VN(e)){var r=zN(e);return{id:i,language:Eo(t,n,3),description:r(t,n),text:r(t,n)}}}function JN(t,n,i){var e=vo(t,n);if(VN(e))return{id:i,text:zN(e)(t,n)}}function tP(t,n,i){return{id:i,url:Ro(t,n)}}function nP(t,n,i){var e=vo(t,n);if(VN(e)){var r=zN(e);return{id:i,description:r(t,n),text:r(t,n)}}}function iP(t,n,i){var e=vo(t,n);if(VN(e))return{id:i,description:zN(e)(t,n),url:Ro(t,n)}}function eP(t,n,i){switch(i){case"COM":return GN(t,n,i);case"GEO":return $N(t,n,i);case"IPL":return YN(t,n,i);case"PIC":return function(t,n,i){var e=vo(t,n);if(VN(e)){var r,s,u=zN(e),o=Eo(t,n,3),a=vo(t,n),h=u(t,n);return"--\x3e"===o?(r=o,s=Ro(t,n)):(r="image/"+o.toLowerCase(),s=WN(t,n)),{id:i,mimeType:r,pictureType:a,description:h,data:s}}}(t,n,i);case"SLT":return QN(t,n,i);case"TXX":return nP(t,n,i);case"UFI":return ZN(t,n,i);case"ULT":return KN(t,n,i);case"WXX":return iP(t,n,i);default:if("T"===i.charAt(0))return JN(t,n,i);if("W"===i.charAt(0))return tP(t,n,i)}}function rP(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=vo(t,n);if(VN(e)){var r=zN(e),s=Ro(t,n);return{id:i,mimeType:s,pictureType:vo(t,n),description:r(t,n),data:"--\x3e"===s?Ro(t,n):WN(t,n)}}}(t,n,i);case"COMM":return GN(t,n,i);case"COMR":return function(t,n,i){var e=vo(t,n);if(VN(e)){var r,s,u=zN(e),o=Ro(t,n),a=Eo(t,n,8),h=Ro(t,n),c=vo(t,n),f=u(t,n),l=u(t,n);return n.Pu<t.byteLength&&(r=Ro(t,n)||"image/",s=WN(t,n)),{id:i,price:o,validUntil:a,contactURL:h,receivedAs:c,nameOfSeller:f,description:l,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return $N(t,n,i);case"IPLS":return YN(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:Ro(t,n),data:WN(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:vo(t,n),position:ko(t,n)}}(t,n,i);case"SYLT":return QN(t,n,i);case"TXXX":return nP(t,n,i);case"UFID":return ZN(t,n,i);case"USER":return function(t,n,i){var e=vo(t,n);if(VN(e)){var r=zN(e);return{id:i,language:Eo(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return KN(t,n,i);case"WXXX":return iP(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return JN(t,n,i);default:var e=i.charAt(0);if("T"===e)return JN(t,n,i);if("W"===e)return tP(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(UN||(UN={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(HN||(HN={}));var sP=10;function uP(t,n){return(127&vo(t,n))<<21|(127&vo(t,n))<<14|(127&vo(t,n))<<7|127&vo(t,n)}function oP(t,n){switch(t){case HN.V24:return{tG:lo(n,0),nG:lo(n,1),iG:lo(n,2),eG:lo(n,3)};case HN.V23:return{tG:lo(n,0),nG:lo(n,1),iG:lo(n,2)};case HN.V22:return{tG:lo(n,0),rG:lo(n,1)}}}function aP(t,n,i){switch(i.EA){case HN.V23:i.IA.nG&&function(t,n){var i=n.Pu,e=ko(t,n)+4,r=32768&_o(t,n);n.xu(i+e),r&&ko(t,n)}(t,n);break;case HN.V24:i.IA.nG&&function(t,n){var i=n.Pu,e=uP(t,n);n.xu(i+e)}(t,n)}}function hP(t,n){if(t.byteLength-n.Pu<sP)return null;if(73!==vo(t,n)||68!==vo(t,n)||51!==vo(t,n))return null;var i=vo(t,n),e=vo(t,n);if(!function(t){switch(t){case HN.V22:case HN.V23:case HN.V24:return!0}return!1}(i))return null;var r=vo(t,n),s=uP(t,n);return{EA:i,sG:e,IA:oP(i,r),uG:s}}function cP(t,n,i){switch(i.EA){case HN.V22:return function(t,n,i){return{P_:Eo(t,n,3),Cu:po(t,n,3)}}(t,n);case HN.V23:return function(t,n,i){var e=Eo(t,n,4),r=ko(t,n);vo(t,n);var s=vo(t,n);return{P_:e,Cu:r,IA:{rG:lo(s,0),oG:lo(s,1),groupingIdentity:lo(s,2)}}}(t,n);case HN.V24:return function(t,n,i){var e=Eo(t,n,4),r=uP(t,n);vo(t,n);var s=vo(t,n);return{P_:e,Cu:r,IA:{groupingIdentity:lo(s,1),rG:lo(s,4),oG:lo(s,5),tG:lo(s,6),aG:lo(s,7)}}}(t,n)}}function fP(t){for(var n=new _(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function lP(t,n){var i=n||new Jo,e=hP(t,i);return e?{pA:e,hG:function(t,n,i){var e=[],r=n.Pu,s=Wo(t,r,r+i.uG),u=new Jo;switch(n.Bu(i.uG),i.EA){case HN.V22:case HN.V23:i.IA.tG&&(s=fP(s))}aP(t,n,i);for(;u.Pu<s.byteLength;)e.push(vP(s,u,i));return e}(t,i,e)}:null}function vP(t,n,i){var e,r,s=cP(t,n,i),u=n.Pu,o=Wo(t,u,u+s.Cu);switch(n.Bu(s.Cu),i.EA){case HN.V22:var a=s;e=eP(r=o,new Jo,a.P_);break;case HN.V23:var h=s,c=new Jo;!function(t,n,i){var e,r,s,u=i.IA;u.rG&&(e=ko(t,n)),u.oG&&(r=vo(t,n)),u.groupingIdentity&&(s=vo(t,n))}(o,c,h),e=rP(r=Wo(o,c.Pu,o.byteLength),new Jo,h.P_);break;case HN.V24:var f=s,l=new Jo;f.IA.tG&&(o=fP(o)),function(t,n,i){var e,r,s,u,o=i.IA;o.groupingIdentity&&(e=vo(t,n)),o.rG&&(r=ko(t,n)),o.oG&&(s=vo(t,n)),o.aG&&(u=uP(t,n))}(o,l,f),e=rP(r=Wo(o,l.Pu,o.byteLength),new Jo,f.P_)}if(!e){var v=Zo(Go(r));e=qN(s.P_,v.buffer)}return e}function dP(t){return function(t,n,i){return JN(t,n,i)}(new DataView(t.data),new Jo,t.key)}function wP(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return dP(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return qN(t.key,t.data)}(t)}var gP="org.id3";var mP=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).Iy=void 0,r.cG=void 0,r.BW=[],r.XW=[],r.HW=void 0,r.FW=void 0,r.Dy=void 0,r.Ry=void 0,r.HC=Mm.X_,r.mW=Ep.NONE,r.Ww=void 0,r.MW=void 0,r.Vi=Ip.DEFAULT,r.fG=void 0,r.vG=function(){r.lG(),r.Iy.removeEventListener("cuechange",r.vG)},r.dG=function(){r.W_!==Mm.X_&&(r.wG(),r.qW(),r.BW.length&&r._G(Ep.LOADING))},r.gG=function(){r._G(Ep.LOADED)},r.mG=function(){r._G(Ep.ERROR)},r.Iy=n,r.fG=e,r.Iy.addEventListener("cuechange",r.vG),r.Iy.addEventListener("cuechange",r.dG),r.cG=i,r.cG&&(r.MW=yw(r.cG.src),r.cG.addEventListener("load",r.gG),r.cG.addEventListener("error",r.mG)),r.Dy=mp(),r.Ry=n.label||"",r.HW=new cN(r.BW),r.FW=new cN(r.XW),r.W_=r.yG,yu(function(){r.dG(),r._G(Ep.NONE)}),r}E(n,t);var i=n.prototype;return i.qw=function(){return Xm(this)},i.lG=function(){var t=this.W_;this.kG||t!==Mm.F_?this.yG=t:this.yG=Mm.H_},i.pG=function(){var t=this.W_,n=this.yG;t!==n&&(this.kG||t!==Mm.F_||n!==Mm.H_)&&("metadata"===this.O_&&n===Mm.X_?this.W_=t:this.W_=n)},i.kW=function(t){this.mW!==t&&(this.mW=t,this.Qs(new fN(this,t)))},i._G=function(t){var n=g.max(this.mW,this.bG,t);this.kW(n)},n.AG=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.TG=function(t){var i=n.AG(t);if(i)return i;if(z(i=this.SG(t)))for(var e=0,r=i;e<r.length;e++){r[e].Yw=this}else i.Yw=this;return t.THEOplayerTextTrackCue=i,i},i.SG=function(t){return(n=t)&&n.type===gP&&n.value?(this.fs=Ip.ID3,function(t){var n;try{n=wP(t.value)}catch(t){n=qN("")}return new XN(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.fs=Ip.ID3,function(t){var n=[];try{var i=lP(new DataView(t.data));if(i)for(var e=0,r=i.hG;e<r.length;e++){var s=r[e];n.push(new XN(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.fs=Ip.WEBVTT,function(t){return"regionId"in t}(t)?new ON(t):new BN(t)):new RN(t);var n},i.EG=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.TG(t[e]||t.item(e));if(z(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.wG=function(){for(var t=this.EG(this.Iy.cues),n=hN(this.BW,t),i=0,e=n.PW;i<e.length;i++){var r=e[i];r.tu(Np.Hy,this.dG),r.tu(Np.Uy,this.dG),this.Qs(new mN(r))}for(var s=0,u=n.NW;s<u.length;s++){var o=u[s];o.Zs(Np.Uy,this.dG),o.Zs(Np.Hy,this.dG),this.Qs(new wN(o))}},i.qW=function(){for(var t=this.EG(this.Iy.activeCues),n=hN(this.XW,t),i=0,e=n.PW;i<e.length;i++){e[i].dk=!1}for(var r=0,s=n.NW;r<s.length;r++){s[r].dk=!0}(n.NW.length||n.PW.length)&&this.Qs(new CN(this))},i.G_=function(t){this.W_=t},i.Sd=function(){this.$s();for(var t=this.BW.slice(),n=0;n<t.length;n++){t[n].Sd()}Ks(this.BW),Ks(this.XW),this.Iy.removeEventListener("cuechange",this.dG),this.cG&&(this.Iy.removeEventListener("load",this.gG),this.Iy.removeEventListener("error",this.mG)),this.cG&&nr(this.cG)},T(n,[{key:"Q_",get:function(){return this.FW}},{key:"kE",get:function(){return this.cG?this.cG.default:void 0}},{key:"j_",get:function(){return this.HW}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}},{key:"P_",get:function(){return this.Iy.id||this.cG&&this.cG.id||""}},{key:"B_",get:function(){return this.Dy}},{key:"V_",get:function(){return this.Iy.inBandMetadataTrackDispatchType||""}},{key:"O_",get:function(){return this.Iy.kind||jb.Qb}},{key:"x_",get:function(){return this.Ry},set:function(t){t!==this.x_&&(this.Ry=t,this.Qs(new dp(this)))}},{key:"L_",get:function(){return this.Iy.language||""}},{key:"W_",get:function(){return this.HC},set:function(t){var n=this.W_;this.HC=Um(t),this.lG();var i=this.W_;n!==i&&this.Qs(new dm(this)),i!==Mm.X_&&this._G(Ep.LOADING)}},{key:"yG",get:function(){return Um(this.Iy.mode)},set:function(t){this.Iy.mode=t}},{key:"Oy",get:function(){return this.Iy}},{key:"Y_",get:function(){return this.mW}},{key:"bG",get:function(){return this.cG?+this.cG.readyState||Ep.NONE:Ep.LOADED}},{key:"Z_",get:function(){return this.MW}},{key:"fs",get:function(){return this.Vi},set:function(t){this.Vi!==t&&(this.Vi=t,this.Qs(new vN(this)))}},{key:"kG",get:function(){return this.fG},set:function(t){this.fG=t,this.lG()}}]),n}(Su);function yP(t,n){return Xs(t.mp,n.mp)||function(t,n){return t.Yw===n.Yw?Hs(aN(t),aN(n)):tk(t.Yw,n.Yw)}(t.zy,n.zy)||function(t,n){return t===n?Os.Is:t===Np.Uy?Os.Ds:Os.Rs}(t.type,n.type)}var pP=function(){function t(t,n){var i=this;this.mN=void 0,this.IG=void 0,this.pm=[],this.RG=0,this.DG=0,this.NG=[],this.CG=[],this.PG=!1,this.BG=!1,this.OG=void 0,this.xG=function(){i.RG=0,i.LG(),i.MG()},this.UG=function(){i.LG(),i.MG()},this.XG=function(){i.BG=!0,i.OG=i.mN.Xg,i.HG()},this.FG=function(){i.LG(),i.MG()},this.zG=function(){i.VG(),i.LG(),i.MG()},this.WG=function(t){Qs(i.CG,t.zy)||i.CG.push(t.zy),i.GG()},this.qG=function(t){$s(i.NG,t.zy),$s(i.CG,t.zy),i.GG()},this.IG=n,this.mN=t,t.Zs(Pf.Hf,this.UG),t.Zs(Pf.If,this.UG),t.Zs(_y.Ug,this.UG),t.Zs(Pf.Ef,this.UG),t.Zs(Pf.Bf,this.XG),t.Zs(Pf.Pf,this.FG),this.GG()}var n=t.prototype;return n.k_=function(){Ks(this.NG);for(var t=0,n=this.pm.slice();t<n.length;t++){var i=n[t];this.m_(i)}this.HG(),this.RG=0,this.DG=0,this.PG=!1,this.BG=!1,this.OG=void 0},n.g_=function(t){if(!Qs(this.pm,t)){if(this.pm.push(t),t.Zs(um.jw,this.WG),t.Zs(um.Zw,this.qG),t.Zs(um.r_,this.zG),t.j_.b_>0){for(var n=0,i=t.j_.p_;n<i.length;n++){var e=i[n];this.CG.push(e)}this.GG()}this.VG()}},n.m_=function(t){if($s(this.pm,t)){if(t.tu(um.jw,this.WG),t.tu(um.Zw,this.qG),t.tu(um.r_,this.zG),t.j_.b_>0){for(var n=0,i=t.j_.p_;n<i.length;n++){var e=i[n];$s(this.NG,e),$s(this.CG,e)}this.GG()}this.VG()}},n.VG=function(){this.PG=this.pm.some(function(t){return t.W_!==Mm.X_})},n.MG=function(){this.mN.qg||this.mN.Wg?this.HG():this.GG()},n.GG=function(){this.PG&&(this.RG||(this.RG=this.IG.Ce(this.xG)))},n.HG=function(){this.RG&&(this.IG.YG(this.RG),this.RG=0)},n.LG=function(){var t;if(this.PG&&!this.mN.qg){var n=this.pm,i=this.DG,e=null!=(t=this.OG)?t:this.mN.Xg,r=e-i<-.1,s=this.BG||r;s&&e>i&&e-i<.1&&(s=!1),this.BG=!1,this.OG=void 0;for(var u,o=[],a=0;a<n.length;a++){var h=n[a];if(h.W_!==Mm.X_){h.qW(e,s);for(var c=0,f=h.Q_.p_;c<f.length;c++){var l=f[c];o.push(l)}}}if(s)u=this.NG;else{u=[];for(var v=0;v<n.length;v++){var d=n[v];d.W_!==Mm.X_&&Jb(d,i-1/6,e,u)}}for(var w=u.length-1;w>=0;w--)Qs(o,u[w])&&Ys(u,w);var m=[];if(!s)for(var y=u.length-1;y>=0;y--){var p=u[y];p.Vy>i&&p.Wy<=e&&(m.push(p),Ys(u,y))}for(var _=0,b=this.CG;_<b.length;_++){$s(m,b[_])}Ks(this.CG);for(var k=[],A=[],T=0;T<m.length;T++){var S=m[T];S.dk||k.push(new _N(S,S.Vy)),k.push(new kN(S,g.max(S.Vy,S.Wy))),S.dk=!1}for(var E=0,I=u;E<I.length;E++){var R=I[E];R.dk&&(k.push(new kN(R,g.max(R.Vy,R.Wy))),R.dk=!1)}for(var C=0;C<o.length;C++){var D=o[C];D.dk||(k.push(new _N(D,D.Vy)),D.dk=!0)}k.sort(yP);for(var N=0;N<k.length;N++){var P=k[N],x=P.zy;x.Qs(P);var B=x.Yw;B&&(P.type===Np.Uy?B.Qs(new TN(x)):B.Qs(new EN(x)),Qs(A,B)||A.push(B))}A.sort(tk);for(var O=0;O<A.length;O++){var L=A[O];L.Qs(new CN(L))}this.DG=e,this.NG=o}},n.Sd=function(){this.k_(),this.mN.tu(Pf.Hf,this.UG),this.mN.tu(Pf.If,this.UG),this.mN.tu(_y.Ug,this.UG),this.mN.tu(Pf.Ef,this.UG),this.mN.tu(Pf.Bf,this.XG),this.mN.tu(Pf.Pf,this.FG)},t}(),_P=function(){function t(){}var n=t.prototype;return n.Ce=function(t){return DI(t)},n.YG=function(t){NI(t)},t}(),bP=new _P,kP=function(t){function n(n,i){return void 0===i&&(i=bP),t.call(this,n,i)||this}return E(n,t),n}(pP),AP=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return E(n,t),n.prototype.lk=function(n){return this===n||Am(this,n)&&t.prototype.lk.call(this,n)&&LN(this,n)},T(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=FN(this)),this.Ww}}]),n}(Wp),TP=function(t){function n(n,i,e){return void 0===e&&(e=Ip.DEFAULT),t.call(this,jb.Kb,"",i||"","",!1,e,!1,n)||this}return E(n,t),n}(pN),SP=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).fs=Ip.ID3,e}E(n,t);var i=n.prototype;return i.mE=function(n){MN(n,this.BW),t.prototype.mE.call(this,n)},i.qw=function(){return Xm(this)},n}(TP);function EP(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=wP(t.value);return t.THEOplayerTextTrackCue=new AP(i,e),t.THEOplayerTextTrackCue}var IP=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Iy=void 0,i.dG=function(){i.W_!==Mm.X_&&(i.wG(),i._G(Ep.LOADED))},i.Iy=n,i.Iy.addEventListener("cuechange",i.dG),i.W_=i.yG,yu(function(){i.dG()}),i}E(n,t);var i=n.prototype;return i.nP=function(n){t.prototype.nP.call(this,n),this.yG=this.W_},i._G=function(t){this.Y_=g.max(this.Y_,t)},i.wG=function(){var t=this.Iy.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(EP(t[e]||t.item(e)));return js(i,uN),i}(t),i=hN(this.j_.p_.slice(),n),e=0,r=i.PW;e<r.length;e++){var s=r[e];this.sE(s)}for(var u=0,o=i.NW;u<o.length;u++){var a=o[u];this.mE(a)}}},i.Sd=function(){this.Iy.removeEventListener("cuechange",this.dG),t.prototype.Sd.call(this)},T(n,[{key:"P_",get:function(){return this.Iy.id||""}},{key:"V_",get:function(){return this.Iy.inBandMetadataTrackDispatchType||""}},{key:"L_",get:function(){return this.Iy.language||""}},{key:"yG",get:function(){return Um(this.Iy.mode)},set:function(t){this.Iy.mode=t}},{key:"Oy",get:function(){return this.Iy}}]),n}(SP),RP=function(t){function n(n,i){var e;return(e=t.call(this)||this).jG=Vr(),e.HR=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.Yw).fs){i.next=4;break}return i.next=4,Fr.awrap(n.au(um.a_));case 4:if(n.fs===Ip.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.j_.b_){i.next=11;break}return i.next=9,Fr.awrap(n.au(um.jw));case 9:i.next=6;break;case 11:e.QG(n);case 12:case"end":return i.stop()}},null,null,null,qe)},e.FR=function(t){var n=t.Yw;if(n.fs===Ip.ID3&&e.jG.has(n.B_)){var i=e.jG.get(n.B_);e.m_(i),e.vE.yE(i),n.tu(um.jw,e.ZG)}},e.ZG=function(t){CP(t.zy)&&e.KG(t.zy)},e.vE=n,e.JG=i,e.$G(),e}E(n,t);var i=n.prototype;return i.$G=function(){this.JG.Zs(im.Hw,this.HR),this.JG.Zs(im.zw,this.FR)},i.tq=function(){this.JG.tu(im.Hw,this.HR),this.JG.tu(im.zw,this.FR)},i.QG=function(t){var n=t.j_.p_[0];if(CP(n)){var i=function(t){var n=t.match(DP);if(!n)return;return{Yw:n[1],L_:n[2]}}(n.Gy.description),e=i.Yw,r=i.L_;if(!this.nq(e,r)){var s=this.vE._E(jb.Qb,t.P_,e,r,!1,Ip.TTML);this.g_(s),this.jG.set(t.B_,s);for(var u=0,o=t.j_.p_;u<o.length;u++){var a=o[u];CP(a)&&this.KG(a)}t.Zs(um.jw,this.ZG)}}},i.nq=function(t,n){return this.VA.p_.some(function(i){return i.x_===t&&i.L_===n})},i.KG=function(t){if(t.Yw)for(var n=this.jG.get(t.Yw.B_),i=Eb(t.Gy.text,n,{jp:0,Qp:1/0,Zp:t.Vy}),e=0;e<i.length;e++){var r=i[e];n.mE(r)}},i.k_=function(){var n,i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,i=this.JG.p_;n<i.length;n++)i[n].tu(um.jw,this.ZG);for(e=0,r=this.VA.p_;e<r.length;e++)s=r[e],this.vE.yE(s);return this.jG.clear(),u.next=5,Fr.awrap(t.prototype.k_.call(this));case 5:case"end":return u.stop()}},null,this,null,qe)},i.Sd=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.tq(),n.next=3,Fr.awrap(t.prototype.Sd.call(this));case 3:case"end":return n.stop()}},null,this,null,qe)},n}(sk);function CP(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Gy)&&DP.test(n.description);var n}var DP=/^Track:(.+),Lang:(.+)$/;var NP=function(t){function n(n){var i;return(i=t.call(this,Pf.vf)||this).errorObject=void 0,i.errorObject=n,i}return E(n,t),T(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Iu),PP=function(t){function n(){return t.call(this,Pf.lf)||this}return E(n,t),n}(Iu),xP=function(t){function n(n){var i;return(i=t.call(this,"Vf")||this).iq=n,i}return E(n,t),n}(Iu),BP=new mC,OP=function(t){function n(n){var i;return(i=t.call(this,"qh")||this).session=n,i}return E(n,t),n}(Iu),LP=function(t){function e(e,r,s){var u;return(u=t.call(this)||this).rq=!1,u.uq=!1,u.pw=new au,u.oq=void 0,u.Fh=function(t){if(!u.pw.Ws.Ns)switch(t.wu){case"license-request":case"license-renewal":u.iI(t.du,t._u).catch(function(t){return u.Sc(t)});break;default:u.Sc(new up(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.wu))}},u.aq=function(t){u.hq.tc.Ru(function(t,n){switch(t){case"usable":i.Qn(function(){u.uq=!0,u.Qs(new PP)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Qs(new xP(n))}})},u.cq=function(t){u.Sc(new up(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.hq=e,u.fq=r,u.vq=s,e.Zs("du",u.Fh),e.Zs("vu",u.aq),e.Zs("mu",u.cq),e.Jh.then(function(){return u.lq()}),u}E(e,t);var r=e.prototype;return r.Yh=function(){var t=this;return this.rq=!0,BP.ZU(function(n){return t.dq(n)},this.pw.Ws)},r.dq=function(t){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,fu(t),s.next=4,Fr.awrap(this.fq.QE(t));case 4:return s.next=6,Fr.awrap(this.fq.ZE(this.vq.ls,this.vq.Tu,t));case 6:return i=s.sent,s.next=9,Fr.awrap(this.hq.Yh(this.vq.ls,this.vq.Tu,i));case 9:s.next=18;break;case 11:throw s.prev=11,s.t0=s.catch(0),lu(s.t0),e=s.t0 instanceof ua?s.t0.ju:void 0,r=new up(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",s.t0,void 0,void 0,void 0,void 0,e),this.Sc(r),r;case 18:case"end":return s.stop()}},null,this,[[0,11]],qe)},r.iI=function(t,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!ea(t)){o.next=7;break}return o.next=4,Fr.awrap(this.fq.cI(new _(t),this.pw.Ws));case 4:e=o.sent,o.next=10;break;case 7:return o.next=9,Fr.awrap(this.fq.fI(new _(t),i,this.pw.Ws));case 9:e=o.sent;case 10:o.next=17;break;case 12:if(o.prev=12,o.t0=o.catch(0),!cu(o.t0)){o.next=16;break}return o.abrupt("return");case 16:throw o.t0;case 17:if(!this.pw.Ws.Ns){o.next=19;break}return o.abrupt("return");case 19:return r=this.oq,s=new na,this.oq=s,o.prev=22,o.next=25,Fr.awrap(this.hq.Zh(e));case 25:return o.next=27,Fr.awrap(bu(100));case 27:o.next=33;break;case 29:throw o.prev=29,o.t1=o.catch(22),u=o.t1 instanceof ua?o.t1.ju:void 0,new up(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o.t1,void 0,void 0,void 0,void 0,u);case 33:if(o.prev=33,void 0===r){o.next=37;break}return o.next=37,Fr.awrap(r.Hu);case 37:return s.Wu(),this.oq===s&&(this.oq=void 0),o.finish(33);case 40:case"end":return o.stop()}},null,this,[[0,12],[22,29,33,40]],qe)},r.Sc=function(t){var i=t instanceof up?t:new up(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Qs(new NP(i)),this.qh()},r.lq=function(){this.hq.tu("du",this.Fh),this.hq.tu("vu",this.aq),this.hq.tu("mu",this.cq),this.uq=!1,this.pw.Fs(),this.Qs(new OP(this))},r.qh=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.$s();case 1:if(void 0===(t=this.oq)){n.next=5;break}return n.next=5,Fr.awrap(t.Hu);case 5:if(this.oq!==t){n.next=1;break}case 6:return this.lq(),n.next=9,Fr.awrap(this.hq.qh().catch(K));case 9:case"end":return n.stop()}},null,this,null,qe)},e}(Su),MP=[Pf.lf,Pf.vf,Pf.zf],jP=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Vh=void 0,r.ic=void 0,r.wq=void 0,r._q=[],r.gq=void 0,r.mq=[],r.yq=function(t){t.session.tu(MP,r.js),t.session.tu("qh",r.yq),$s(r._q,t.session)},r.Vh=n,r.ic=i,r.wq=e,r}E(n,t);var i=n.prototype;return i.hI=function(){return this.wq.hI()},i.kq=function(t){return this.gq||(this.gq=this.pq(t)),this.gq},i.pq=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return fu(t),i.next=3,Fr.awrap(this.wq.cI(new _(ia()),t));case 3:if(n=i.sent,fu(t),this.ic){i.next=7;break}throw new l("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,Fr.awrap(this.ic.ac(n.buffer));case 9:case"end":return i.stop()}},null,this,null,qe)},i.bq=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ic){e.next=2;break}throw new l("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.mq.push(t),e.next=6,Fr.awrap(this.ic.uc("temporary"));case 6:return n=e.sent,i=new LP(n,this.wq,t),this._q.push(i),i.Zs(MP,this.js),i.Zs("qh",this.yq),e.abrupt("return",i);case 12:return e.prev=12,$s(this.mq,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],qe)},i.Aq=function(t){if(t.Tq)return!1;for(var n=0,i=this._q;n<i.length;n++){if(FP(i[n].vq,t))return!0}for(var e=0,r=this.mq;e<r.length;e++){if(FP(r[e],t))return!0}return!1},i.Sd=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.ic=void 0,this.$s(),t=this._q.slice(),Ks(this._q),n.next=6,Fr.awrap(qe.all(t.map(function(t){return t.qh()})));case 6:this.wq.xs();case 7:case"end":return n.stop()}},null,this,null,qe)},T(n,[{key:"ec",get:function(){return this.Vh}}]),n}(Su);function FP(t,n){return!t.Tq&&t.ls===n.ls&&Gu(t.Tu,n.Tu)}var UP=function(t){function e(n){var i;return(i=t.call(this)||this).KR=void 0,i.pw=new au,i.oX=new mC,i.Pc=void 0,i.wq=void 0,i.JR=void 0,i.Vh=void 0,i.Sq=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Fr.awrap(i.Eq(t.ls,t.Tu,i.pw.Ws));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),cu(n.t0)||i.Sc(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],qe)},i.KR=n,i.KR.Zs(Tu.yu,i.Sq),i}E(e,t);var r=e.prototype;return r.jh=function(t,n){this.JR=t,this.PX(n)},r.PX=function(t){this.Pc=t,this.Iq(this.pw.Ws).catch(vu)},r.Iq=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.Lr.We){n.next=5;break}return n.next=3,Fr.awrap(this.Rq(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Pc||!this.Pc.Dq){n.next=9;break}return n.next=8,Fr.awrap(this.Nq(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,qe)},r.Rq=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(null==(n=this.Pc)?void 0:n.ND){l.next=3;break}return l.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(s=null==(u=this.Pc)?void 0:u.ND)?s:[];case 5:if(!(e<r.length)){l.next=27;break}o=r[e],a=0,h=null!=(c=o.MR)?c:[];case 8:if(!(a<h.length)){l.next=22;break}return f=h[a],l.prev=10,l.next=13,Fr.awrap(this.Eq(o.ec.ls,f,t));case 13:i=!0,l.next=19;break;case 16:l.prev=16,l.t0=l.catch(10),lu(l.t0);case 19:a++,l.next=8;break;case 22:if(!i){l.next=24;break}return l.abrupt("return",!0);case 24:e++,l.next=5;break;case 27:return l.abrupt("return",!1);case 28:case"end":return l.stop()}},null,this,[[10,16]],qe)},r.Eq=function(t,e,r){var s,u,o,a,h,c,f,l,v,d;return Fr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(fu(r),e.byteLength){w.next=3;break}return w.abrupt("return");case 3:if(this.Pc&&this.Pc.ND.length){w.next=5;break}throw new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===ts||t===is||t===ns){w.next=8;break}return w.abrupt("return");case 8:s=kA(t,e),u=this.Pc.ND,a=0;case 11:if(!(a<u.length)){w.next=42;break}if(h=u[a],fu(r),(c=s[h.ec.ds])&&h.ec.ls===t){w.next=17;break}return w.abrupt("continue",39);case 17:return w.prev=17,w.next=20,Fr.awrap(this.Cq(h,r));case 20:if(!(f=w.sent).hI()){w.next=24;break}return w.next=24,Fr.awrap(f.kq());case 24:if(l=this.KR.iy,v={ls:h.ec.ls,Tu:c,Tq:l},!this.Pq(f,v)){w.next=32;break}return w.next=29,Fr.awrap(f.bq(v));case 29:return d=w.sent,w.next=32,Fr.awrap(d.Yh());case 32:return w.abrupt("return");case 35:w.prev=35,w.t0=w.catch(17),lu(w.t0),o=w.t0;case 39:a++,w.next=11;break;case 42:return w.next=44,Fr.awrap(i.Sr());case 44:if(!w.sent){w.next=48;break}throw new up(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new up(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return w.stop()}},null,this,[[17,35]],qe)},r.Nq=function(t){var n,i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=null==(n=this.Pc)?void 0:n.ND){u.next=3;break}return u.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){u.next=23;break}return r=i[e],fu(t),u.prev=7,u.next=10,Fr.awrap(this.Cq(r,t));case 10:if(!(s=u.sent).hI()){u.next=14;break}return u.next=14,Fr.awrap(s.kq());case 14:return u.abrupt("return");case 17:u.prev=17,u.t0=u.catch(7),lu(u.t0);case 20:e++,u.next=4;break;case 23:case"end":return u.stop()}},null,this,[[7,17]],qe)},r.Pq=function(t,n){return i.Lr.Ve||!t.Aq(n)},r.Cq=function(t,n){var i=this;return this.oX.ZU(function(n){return i.Bq(t,n)},n)},r.Bq=function(t,n){var i,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(fu(n),this.Pc&&this.wq&&this.JR){o.next=3;break}throw new l("Not initialized");case 3:if(!this.Vh){o.next=7;break}if(this.Vh.ec===t.ec){o.next=6;break}throw new l("Internal key system error");case 6:return o.abrupt("return",this.Vh);case 7:return i=this.wq,e=Ur({},t,{WD:t.WD.map(function(n){var e;return Ur({},n,{persistentState:null!=(e=n.persistentState)?e:i.CI(t.ec),gc:n.gc||i.gc(t.ec)})})}),o.next=11,Fr.awrap(this.JR.DX(e.ec,e.WD));case 11:return r=o.sent,s=i.LR(e),(u=new jP(e.ec,r,s)).Zs([Pf.lf,Pf.vf,Pf.zf],this.js),this.Vh=u,o.abrupt("return",u);case 17:case"end":return o.stop()}},null,this,null,qe)},r.Sc=function(t){var i=t instanceof up?t:new up(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Qs(new NP(i))},r.k_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.JR=void 0,this.Pc=void 0,this.pw.Fs(),this.pw=new au,t.next=6,Fr.awrap(this.Oq());case 6:case"end":return t.stop()}},null,this,null,qe)},r.Oq=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.oX.Fs());case 2:if(!(t=this.Vh)){n.next=8;break}return t.tu(Pf.zf,this.js),this.Vh=void 0,n.next=8,Fr.awrap(t.Sd());case 8:case"end":return n.stop()}},null,this,null,qe)},r.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),this.KR.tu(Tu.yu,this.Sq),t.next=4,Fr.awrap(this.k_());case 4:return t.next=6,Fr.awrap(this.oX.Sd());case 6:case"end":return t.stop()}},null,this,null,qe)},T(e,[{key:"xq",get:function(){var t;return null==(t=this.Vh)?void 0:t.ec}},{key:"ED",get:function(){return this.wq},set:function(t){this.wq=t}}]),e}(Su),HP=j.In||j.Rn,XP=j.qn,VP=.5,zP=5,WP=j.Bn,qP=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Vc=void 0,s.Lq=void 0,s.$R=void 0,s.pN=!0,s.JR=void 0,s.Mq=new mC,s.Uq=void 0,s.Xq=void 0,s.Hq=void 0,s.SX=void 0,s.pm=void 0,s.AC=void 0,s.Fq=[],s.zq=void 0,s.Vq=void 0,s.Wq=void 0,s.Gq=void 0,s.qq=void 0,s.Yq=void 0,s.jq=NaN,s.Qq=void 0,s.Zq=void 0,s.kC=!1,s.Kq=qe.resolve(),s.Jq=new au,s.$q=[],s.tY=yS.fC(),s.nY=void 0,s.iY=1,s.eY=!1,s.rY=!1,s.sY=!1,s.uY=!1,s.ys=void 0,s.oY=!1,s.aY=!1,s.hY=!1,s.cY=!1,s.fY=0,s.vY=function(t){var n=t.track,i=s.lY(n);s.dY(n,i)},s.wY=function(t){var n=QP(s.zq,t.track);n&&s.zq.m_(n)},s._Y=function(){for(var t=0;t<s.pm.b_;t++){var n=s.pm.__(t);n instanceof mP&&n.pG()}},s.gY=function(){s.zq.k_()},s.mY=function(){var t=s.JR,n=t.KV,i=t.JV;if(n&&i)if(t.HX)s.yY();else if(t.Y_!==WD.oV){var e=n.Km,r=i.Km;if(0!==e.b_&&0!==r.b_){var u=s.Xg;if(u<e.RN(0)||u<r.RN(0))s.yY();else if(e.GD(u)!==r.GD(u)){if(t.HV(u))return;s.kY()}else{if(s.yY(),!s.fY&&s.Hq.EW())e.jN(r).$N(u,u+VP)&&(s.fY=DI(s.pY))}}else s.yY()}},s.pY=function(){s.fY=0,s.mY()},s.bY=function(){if(!(s.qg||s.Y_>=ey.Cg)){0;var t=s.JR,n=t.KV,i=t.JV;if(n&&i){var e=s.Xg,r=n.Km,u=i.Km;if(r.GD(e)&&u.GD(e))r.jN(u).$N(e-zP,e)&&(s.hY?s.yY():s.AY())}}},s.TY=function(){s.Qs(new Ay(s.Xg))},s.SY=function(){s.EY(new hu),s.Qs(new ky(s.Xg))},s.IY=function(){s.RY(),s.Qs(new Sk(s.Xg))},s.DY=function(){s.NY(s.Gg)},s.CY=function(){s.Qs(new Iy(s.Hg))},s.PY=function(){s.Qs(new HC(s.Xg))},s.BY=function(){s.Qs(new XC)},s.OY=function(){var t=s.Xg,n=s.qg,i=s.Y_<ey.Cg&&!s.Fg,e=void 0!==s.Zq,r=e&&s.Zq!==t;(n||!e||r&&!i)&&(s.Qs(new Cy(s.Xg,void 0)),s.Zq=t)},s.xY=function(){!s.eY&&s.Fg&&(s.eY=!0,s.Qs(new Dy(s.Xg)))},s.LY=function(){if(null!==s.Vc.error){var t,n=s.Vc.error;s.hD(new op(null!=(t=n.code)?t:ep.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.MY=function(){s.rY&&(s.UY(),s.sY=!0)},s.XY=function(){s.Qs(new By(s.Xg,s.Qg))},s.HY=function(){s.jg>0&&s.Yg>0&&s.Qs(new dk)},s.FY=function(t){s.Qs(new xu(t.initDataType,t.initData||new ArrayBuffer(0)))},s.zY=function(){s.Qs(new Bu)},s.VY=function(t){var n=t.initData,i=n?Zo(n).buffer:new ArrayBuffer(0);s.Qs(new xu(ts,i))},s.WY=function(t){if(t.initData){var n=GP(t.initData);if(!n)return;s.Qs(new xu(is,n))}else s.Qs(new xu(is,new ArrayBuffer(0)))},s.GY=function(t){var n=t.initData,i=n?Zo(n).buffer:new ArrayBuffer(0);s.Qs(new xu(ts,i))},s.qY=function(){s.RY()},s.YY=function(t){s.EY(t)},s.jY=function(t){s.Qs(t),t.type===Pf.vf&&s.hD(hp(t.errorObject))},s.Vc=n,s.ys=i,s.Lq=e,s.AC=r,s.Xq=new tN(Jt(s)),s.Xq.Zs(_y.u_,s.js),s.Hq=new eN(Jt(s)),s.Hq.Zs(_y.Ug,s.IY),s.SX=new UP(Jt(s)),s.SX.Zs([Pf.lf,Pf.vf,Pf.zf],s.jY),s.pm=new Fb,s.zq=new Fb,s.Vq=new KT([s.pm,s.zq]),s.Wq=new RP(Jt(s),s.Vq),s.Gq=new KT([s.Vq,s.Wq.VA]),s.qq=new kP(Jt(s)),s.QY(),s.DD(),s}E(n,t);var e=n.prototype;return e.ZY=function(){this.SD.ended||this.Xg===this.Hg||(this.eY=!1)},e.KY=function(){return void 0!==this.Yq&&this.Hg===this.Yq},e.NY=function(t){this.iY!==t&&(this.iY=t,this.Qs(new Ry(this.Xg,t)))},e.jD=function(){return OR(this.Vc)},e.Nm=function(){var t=this.JY();return this.$Y(),t},e.$Y=function(){this.oY?this.aY&&(this.aY=!1,this.Qs(new Ay(this.Xg))):this.tj()},e.tj=function(){if(this.Uq)this.Uq.Nm();else{j.Bn&&!j.hn&&this.Vc.preload===cS.wN&&(this.Vc.preload=cS.Kb);var t=this.Gg,n=this.Vc.play();t!==this.SD.playbackRate&&(this.Gg=t),Y(n)?n.then(this.qY,this.YY):this.Hq.EW()&&this.RY()}},e.Cm=function(){this.oY?this.aY||(this.aY=!0,this.Qs(new ky(this.Xg))):this.nj()},e.nj=function(){this.Uq?this.Uq.Cm():(this.Vc.pause(),this.Hq.Zh()),this.ij(new hu)},e.JY=function(){var t=new na;return this.$q.push(t),t.Hu},e.ej=function(){for(var t=0,n=this.$q;t<n.length;t++){n[t].Wu(void 0)}Ks(this.$q)},e.ij=function(t){for(var n=0,i=this.$q;n<i.length;n++){i[n].Gu(t)}Ks(this.$q)},e.RY=function(){this.oY||this.Uq||this.ej()},e.EY=function(t){this.oY||this.Uq||this.ij(t)},e.xu=function(t,n){this.Uq?this.Uq.Xg=t:(this.Jq.Fs(),this.Jq=new au,this.Kq=this.rj(t,this.Kq,this.Jq.Ws).catch(K))},e.YD=function(t){var n=this.QD;if(n&&!p(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.xu(i)}},e.rj=function(t,n,i){var e,r,s,u,o,a,h,c,f=this;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,this.Yq=t,this.jq=t,this.kC=!0,this.eY&&!this.KY()&&(this.eY=!1),this.Qs(new Py(t)),l.next=8,Fr.awrap(n.catch(K));case 8:if(fu(i),this.uY&&this.sj(),this.Y_!==ey.Rg){l.next=13;break}return l.next=13,Fr.awrap(this.au(_y.u_,i));case 13:if(0!==this.Vc.seekable.length){l.next=19;break}return l.next=16,Fr.awrap(qe.race([tm(this.Vc,"timeupdate",i),bu(100,i)]));case 16:fu(i),l.next=13;break;case 19:e=this.uj(t),r=this.py,s=!0,u=!1;case 23:if((r=this.py).b_>0&&!r.GD(e)&&(e=r.UN(e),s=!0),WP&&void 0!==(o=this.aj())&&e>o&&(e=o,s=!0),u){l.next=37;break}if(!(void 0!==(a=this.hj())&&e>a)){l.next=37;break}return u=!0,l.next=33,Fr.awrap(this.cj(a,i));case 33:return l.next=35,Fr.awrap(tm(this.Vc,"seeked",i));case 35:fu(i),s=!0;case 37:if(!s){l.next=56;break}return s=!1,l.next=41,Fr.awrap(this.cj(e,i));case 41:fu(i),h=this.Xg,r=this.py,e=r.UN(e),c=1;case 46:if(!(g.abs(e-h)>=1/6)){l.next=56;break}return r=this.py,e=YP(e,r,c),l.next=51,Fr.awrap(this.cj(e,i));case 51:fu(i),h=this.Xg,c++,l.next=46;break;case 56:if(this.Vc.seeking||this.Y_<ey.Ng){l.next=58;break}return l.abrupt("break",63);case 58:return l.next=60,Fr.awrap(gu(function(t){var n;return qe.race([tm(f.Vc,"seeked",t),f.au([Pf.Rf,Pf._f,_y.u_],t),null==(n=f.JR)?void 0:n.au(DC.VP,t)].filter(H))},i));case 60:fu(i),l.next=23;break;case 63:this.vj(),l.next=71;break;case 66:if(l.prev=66,l.t0=l.catch(0),!cu(l.t0)){l.next=70;break}return l.abrupt("return");case 70:0;case 71:case"end":return l.stop()}},null,this,[[0,66]],qe)},e.cj=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(fu(n),i=this.py,t=i.UN(t),!this.uY){s.next=18;break}e=!0;case 5:if(!(e||this.Y_<ey.Cg)){s.next=17;break}if((i=this.py).GD(t)||(t=i.UN(t),e=!0),!e){s.next=13;break}return e=!1,this.Yq=t,this.lj(this.Xg),s.abrupt("continue",5);case 13:return s.next=15,Fr.awrap(this.au([_y.u_,Pf._f],n));case 15:s.next=5;break;case 17:fu(n);case 18:if(r=tm(this.Vc,"seeking",n),this.Vc.currentTime=t,this.Yq=void 0,this.lj(this.Xg),!this.Vc.seeking){s.next=25;break}return s.next=25,Fr.awrap(r);case 25:case"end":return s.stop()}},null,this,null,qe)},e.uj=function(t){var n=this.Km;if(n&&!n.GD(t)){var i=n.ZN(t,.05);if(i>-1){var e=n.RN(i);if(t<e)return e}}return t},e.aj=function(){if(this.JR&&this.JR.HX){var t=this.JR.FX,n=this.JR.zX,i=t&&n?t.FN(n):t||n;if(i&&0!==i.b_){var e=i.RN(i.b_-1),r=i.NN(i.b_-1);return g.max(e,r-.001)}}},e.hj=function(){if(this.JR&&this.JR.HX){var t=this.JR.zX;if(t&&0!==t.b_){var n=t.RN(t.b_-1),i=t.NN(t.b_-1)-.02;return i-=.001,g.max(n,i)}}},e.lj=function(t){this.jq!==t&&(this.jq=t,this.Qs(new Py(t)))},e.vj=function(){this.kC=!1,this.jq=NaN,this.uY&&this.dj(),this.Qs(new xy(this.Xg))},e.sj=function(){this.oY||(this.aY=this.Wg,this.oY=!0,this.nj())},e.dj=function(){this.oY&&(this.oY=!1,this.aY||this.$Y())},e.XX=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.fs===vk.pE&&UC.XX(i,this.Vc))return i;if(i.fs===vk.bE&&$D.XX(i))return i}},e.zm=function(){this.pN=!1,lr(this.Vc)&&(this.Vc.style.display="none")},e.Fm=function(){this.pN=!0,lr(this.Vc)&&(this.Vc.style.display="block")},e._E=function(t,n,i,e,r,s,u,o){var a=new pN(t,n,i,e,r,s,u,o);return this.pm.g_(a),this.qq.g_(a),a},e.xD=function(){return!0},e.MD=function(t,n,i,e){var r=s.createElement("track");r.src=yw(t),r.kind=n,r.label=null!=i?i:"",e&&(r.srclang=e),r.id=oI(),this.Vc.appendChild(r);var u=this.Vc.textTracks.getTrackById(r.id),o=new mP(u,r);return this.zq.g_(o),this.Fq.push(o),o},e.yE=function(t){this.pm.m_(t),this.qq.m_(t)},e.HD=function(){for(var t=0,n=this.pm.p_.slice();t<n.length;t++){n[t].Sd()}this.pm.k_();for(var i=0,e=this.Fq.slice();i<e.length;i++){var r=e[i];this.zq.m_(r),r.Sd()}Ks(this.Fq)},e.DD=function(){var t=this.Vc.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.vY),t.addEventListener("removetrack",this.wY),t.addEventListener("change",this._Y)),this.Vc.addEventListener("emptied",this.gY)},e.zD=function(){var t=this.Vc.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.vY),t.removeEventListener("removetrack",this.wY),t.removeEventListener("change",this._Y)),this.Vc.removeEventListener("emptied",this.gY)},e.dY=function(t,n){if(j.Bn){if(t.kind===jb.Kb)return void this.wj(t);if(t.kind===jb.$S&&""===t.label&&""===t.language&&!ZP(t))return void this._j(t,n)}QP(this.zq,t)||this.zq.g_(new mP(t,n))},e.wj=function(t){t.mode=Mm.H_;var n=new IP(t);this.zq.g_(n),this.qq.g_(n)},e._j=function(t,n){var i=this;t.addEventListener("cuechange",function e(){ZP(t)&&(t.removeEventListener("cuechange",e),i.zq.g_(new mP(t,n)))}),t.mode=Mm.H_},e.lY=function(t){for(var n=this.Vc.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},e.jh=function(t){var n=this;return this.Mq.ZU(function(i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(fu(i),!n.JR){r.next=3;break}throw new l("Already loaded a media source");case 3:if(t.fs!==vk.pE){r.next=9;break}e=new UC(t,n,n.SX,n.ys),n.uY=!1,n.gj(new tN(n)),r.next=17;break;case 9:if(t.fs!==vk.bE){r.next=16;break}e=new $D(t,n,n.SX,n.ys),n.uY=HP,n.gj(n.uY?new nN(n):new tN(n)),XP&&(n.Zs(Pf.Hf,n.mY),n.Zs(_y.u_,n.bY)),r.next=17;break;case 16:throw new l("Unsupported configuration");case 17:return n.JR=e,r.next=20,Fr.awrap(e._L());case 20:return r.abrupt("return",e);case 21:case"end":return r.stop()}},null,null,null,qe)})},e.kY=function(){if(!this.hY){var t=this.Gg;this.hY=!0,this.Gg=t,this.Vc.playbackRate=0,this.Xq&&this.Xq.kW()}},e.yY=function(){if(this.hY){var t=this.Gg;this.hY=!1,this.Gg=t,this.AY()}},e.AY=function(){this.Vc.currentTime=this.Vc.currentTime,this.Xq&&this.Xq.kW()},e.gj=function(t){var n=this.Y_;this.Xq.xs(),this.Xq=t,this.Xq.Zs(_y.u_,this.js);var i=this.Y_;n!==i&&this.Qs(new My(this.Xg,i))},e.k_=function(){var t=this;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.kC=!1,this.tY=yS.fC(),this.Jq.Fs(),this.Yq=void 0,this.jq=NaN,this.Qq=void 0,this.uY=!1,this.oY=!1,this.$R=void 0,this.eY=!1,this.Zq=void 0,this.rY=!1,this.sY&&(this.QY(),this.sY=!1),this.ij(new hu),this.gj(new tN(this)),this.Hq.k_(),this.yY(),XP&&(NI(this.fY),this.fY=0,this.tu(Pf.Hf,this.mY),this.tu(_y.u_,this.bY)),n.next=20,Fr.awrap(this.Mq.Fs());case 20:return n.next=22,Fr.awrap(this.Mq.ZU(function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.JR){n.next=4;break}return n.next=3,Fr.awrap(t.JR.xs());case 3:t.JR=void 0;case 4:case"end":return n.stop()}},null,null,null,qe)}));case 22:case"end":return n.stop()}},null,this,null,qe)},e.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.sY=!1,this.UY(),this.zD(),t.next=5,Fr.awrap(this.k_());case 5:return t.next=7,Fr.awrap(this.Mq.Sd());case 7:return this.Hq.xs(),this.Xq.xs(),t.next=11,Fr.awrap(this.SX.xs());case 11:return this.HD(),this.pm.Sd(),this.zq.Sd(),t.next=16,Fr.awrap(this.Wq.Sd());case 16:this.Vq.Sd(),this.Gq.Sd(),this.$s();case 19:case"end":return t.stop()}},null,this,null,qe)},e.QY=function(){this.SD.addEventListener("play",this.TY),this.SD.addEventListener("pause",this.SY),this.SD.addEventListener("timeupdate",this.OY),this.SD.addEventListener("progress",this.PY),this.SD.addEventListener("loadstart",this.BY),this.SD.addEventListener("ended",this.xY),this.SD.addEventListener("ratechange",this.DY),this.SD.addEventListener("volumechange",this.XY),this.SD.addEventListener("durationchange",this.CY),this.SD.addEventListener("resize",this.HY),this.SD.addEventListener("loadedmetadata",this.HY),this.SD.addEventListener("error",this.LY),this.SD.addEventListener("emptied",this.MY),xs()?(this.Vc.addEventListener("encrypted",this.FY),this.Vc.addEventListener("waitingforkey",this.zY)):void 0!==we.WebKitMediaKeys&&"function"==typeof we.WebKitMediaKeys.isTypeSupported?this.Vc.addEventListener("webkitneedkey",this.WY):Bs()?this.Vc.addEventListener("webkitneedkey",this.GY):void 0!==we.MSMediaKeys&&"function"==typeof we.MSMediaKeys.isTypeSupported&&this.Vc.addEventListener("msneedkey",this.VY)},e.UY=function(){this.SD.removeEventListener("play",this.TY),this.SD.removeEventListener("pause",this.SY),this.SD.removeEventListener("timeupdate",this.OY),this.SD.removeEventListener("progress",this.PY),this.SD.removeEventListener("loadstart",this.BY),this.SD.removeEventListener("ended",this.xY),this.SD.removeEventListener("ratechange",this.DY),this.SD.removeEventListener("volumechange",this.XY),this.SD.removeEventListener("durationchange",this.CY),this.SD.removeEventListener("resize",this.HY),this.SD.removeEventListener("loadedmetadata",this.HY),this.SD.removeEventListener("error",this.LY),this.SD.removeEventListener("encrypted",this.FY),this.SD.removeEventListener("waitingforkey",this.zY),this.SD.removeEventListener("webkitneedkey",this.WY),this.SD.removeEventListener("webkitneedkey",this.GY),this.SD.removeEventListener("msneedkey",this.VY),this.SD.removeEventListener("emptied",this.MY)},e.mj=function(){var t;this.Uq||(this.tY=this.gy,this.Uq=new ZD((t=this).Xg,t.Hg,t.Fg,t.Wg,t.qg,t.Vg,t.Gg,t.Qg,t.Y_),this.UY(),this.Uq.Zs(QD,this.js))},e.yj=function(){if(this.Uq){var t,n,i=this.Uq;this.Uq=void 0,this.Xq.kW(),t=this,(n=i).Hg===t.Hg||p(n.Hg)&&p(t.Hg)||t.Qs(new Iy(t.Hg)),t.Vg=n.Vg,t.Qg=n.Qg,t.Gg=n.Gg,n.Wg?t.Cm():t.Nm().catch(K),n.Xg!==t.Xg||n.Y_>ey.Rg&&t.Y_===ey.Rg?t.xu(n.Xg):!n.qg&&t.qg?t.Qs(new Py(t.Xg)):n.qg&&!t.qg&&t.Y_>=ey.Ng&&t.Qs(new xy(t.Xg)),!n.Fg&&t.Fg&&t.Qs(new Dy(t.Xg)),i.xs(),this.QY()}},e.hD=function(t){this.$R=t,this.ij(this.$R),this.Qs(new rN(this.$R))},e.pj=function(){this.bj||(AB(this.Vc,i.Lr),this.cY=!0)},e.Aj=function(t){t.appendChild(this.Vc)},e.hW=function(){XP&&this.mY(),this.Xq.kW()},e.Zm=function(){this.SX.Oq().catch(K)},T(n,[{key:"bW",get:function(){return this.hY}},{key:"Km",get:function(){return this.JR?this.JR.Km:yS.fC()}},{key:"Jm",get:function(){var t=this.QD;if(t&&!p(t.getTime())){var n=1e3*this.Xg;return new Date(t.getTime()+n)}}},{key:"QD",get:function(){if(this.SD.getStartDate)return this.kC&&this.Qq||(this.Qq=this.SD.getStartDate()),this.Qq}},{key:"Xg",get:function(){return this.Uq?this.Uq.Xg:void 0!==this.Yq?this.Yq:this.Vc.currentTime}},{key:"NU",get:function(){return this.Lq}},{key:"Hg",get:function(){return this.Uq?this.Uq.Hg:this.JR?this.JR.Hg:this.Vc.duration}},{key:"Fg",get:function(){return this.qg?this.KY():this.Uq?this.Uq.Fg:this.Vc.ended||this.eY}},{key:"mu",get:function(){return this.$R}},{key:"SD",get:function(){return this.Vc}},{key:"Wg",get:function(){return this.oY?this.aY:this.Uq?this.Uq.Wg:this.Vc.paused}},{key:"gy",get:function(){return this.tY.YN(yS.aC(this.Vc.played))}},{key:"sT",get:function(){return this.Vc.offsetHeight*i.Lr.Fe}},{key:"Tk",get:function(){return this.Vc.offsetWidth*i.Lr.Fe}},{key:"XD",get:function(){return bS}},{key:"Y_",get:function(){return this.Xq.Y_}},{key:"py",get:function(){return this.JR?this.JR.py:yS.fC()}},{key:"qg",get:function(){return this.Uq?this.Uq.qg:this.kC}},{key:"Vg",get:function(){return this.Uq?this.Uq.Vg:this.Vc.muted},set:function(t){this.Uq?this.Uq.Vg=t:this.Vc.muted=t}},{key:"Gg",get:function(){return this.Uq?this.Uq.Gg:void 0!==this.nY?this.nY:this.Vc.playbackRate},set:function(t){this.Uq?this.Uq.Gg=t:this.Wg||this.hY?(this.nY=t,this.NY(t)):(this.nY=void 0,this.Vc.playbackRate=t)}},{key:"Tj",get:function(){return this.pN}},{key:"Qg",get:function(){return this.Uq?this.Uq.Qg:this.Vc.volume},set:function(t){this.Uq?this.Uq.Qg=t:this.Vc.volume=t}},{key:"Rm",get:function(){return this.Gq}},{key:"PU",get:function(){return this.AC}},{key:"iy",get:function(){return!!this.Vc.webkitCurrentPlaybackTargetIsWireless}},{key:"bj",get:function(){return this.cY}},{key:"Sj",get:function(){return Ur({},LC)}},{key:"ED",get:function(){return this.SX.ED},set:function(t){this.SX.ED=t}},{key:"xq",get:function(){return this.SX.xq}},{key:"Ay",get:function(){return this.rY},set:function(t){this.rY=t,this.sY&&!this.rY&&(this.sY=!1,this.QY())}}]),n}(Su);function GP(t){try{var n=qo(t),i=new Jo;return Lo(Mo(go(n,i,ko(n,i,!0)),!0))}catch(t){return}}var $P=.01;function YP(t,n,i){if(void 0===i&&(i=0),!n.b_)return 0;var e=n.UN(t),r=$P*i;return e===n.RN(0)?e+=r:e===n.NN(n.b_-1)&&(e-=r),e}function QP(t,n){for(var i=0,e=t.p_;i<e.length;i++){var r=e[i];if(r.Oy===n)return r}}function ZP(t){return!!t.cues&&t.cues.length>0}var KP={jM:void 0,QM:void 0,ZM:void 0,KM:void 0,JM:void 0,$M:void 0,rU:void 0,tU:void 0,nU:void 0,iU:void 0,eU:void 0},JP=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Ww=void 0,n}return E(n,t),T(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=GR(this)),this.Ww}},{key:"jM",get:function(){}},{key:"QM",get:function(){}},{key:"ZM",get:function(){}},{key:"KM",get:function(){}},{key:"JM",get:function(){}},{key:"$M",get:function(){}},{key:"rU",get:function(){}},{key:"tU",get:function(){}},{key:"nU",get:function(){}},{key:"iU",get:function(){}},{key:"eU",get:function(){}}]),n}(Su);new JP;var tx=function(t){function n(n,i,e){return t.call(this,n,i,e,new JP)||this}return E(n,t),n.prototype.Vm=function(){},T(n,[{key:"Yg",get:function(){return 0}},{key:"jg",get:function(){return 0}}]),n}(qP),nx="theoplayer-texttracks",ix=function(){function t(t){void 0===t&&(t=5),this.Ej=void 0;var n=we.document.createElement("div");n.className=nx,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.Ej=n,this.Fm()}var n=t.prototype;return n.zm=function(){this.Ej.style.display="none"},n.Fm=function(){this.Ej.style.display="block"},n.Aj=function(t){t.appendChild(this.Ej)},n.Sd=function(){nr(this.Ej)},T(t,[{key:"$m",get:function(){return this.Ej}}]),t}();function ex(t,n){return Ur({},n,Tm({jM:(i=t).jM,QM:i.QM,ZM:i.ZM,KM:i.KM,JM:i.JM,$M:i.$M,rU:i.rU,tU:i.tU,nU:i.nU,iU:i.iU,eU:i.eU}));var i}function rx(t){return t.ZM&&Ts(t.ZM,"%")?Number(t.ZM.replace("%",""))/100:t.ZM&&Ts(t.ZM,"em")?Number(t.ZM.replace("em","")):1}var sx,ux,ox=function(){function t(t,n,i,e,r){var s=this;this.Ij=Vr(),this.Rj=!0,this.Dj=void 0,this.Nj=Ur({},KP),this.Cj=[],this.rk=void 0,this.Vc=void 0,this.Lq=void 0,this.Pj=void 0,this.Bj=function(t){return s.mE(t.zy)},this.Oj=function(t){return s.removeCue(t.zy)},this.xj=function(){return s.Lj()},this.Mj=function(t){return s.Uj(t.zy)},this.Xj=function(t){return s.Hj(t.zy)},this.Fj=function(t){return s.zj(t.zy)},this.Vj=function(t){s.Wj(t.Tk,t.sT)},this.rk=t,this.Pj=this.Dj=r,this.Vc=this.Gj(i),this.Lq=e,n.appendChild(this.Vc)}var n=t.prototype;return n.qj=function(t){var n=this.Yj(t);if(!n)return!1;for(var i=0;i<n.length;i++){nr(n[i])}return this.jj(t),!0},n._L=function(){var t=this;this.Qj(),this.rk.j_.p_.forEach(function(n){return t.mE(n)}),this.NU.Zs("pO",this.Vj),this.Wj(this.NU.RO,this.NU.IO)},n.Zj=function(t){this.Nj=t,this.Dj=ex(this.Nj,this.Pj),this.Dj.jM&&(this.SD.style.fontFamily=this.Dj.jM),this.Dj.rU&&(this.SD.style.visibility=this.Dj.rU),this.Wj(this.NU.RO,this.NU.IO),this.Kj(!0)},n.Jj=function(){return this.Dj},n.$j=function(t){return this.Ij.has(t.B_)},n.Qj=function(){this.rk.Zs(um.jw,this.Bj),this.rk.Zs(um.Zw,this.Oj),this.rk.Zs(um.r_,this.xj)},n.tQ=function(){this.rk.tu(um.jw,this.Bj),this.rk.tu(um.Zw,this.Oj),this.rk.tu(um.r_,this.xj)},n.nQ=function(t){t.Zs(Np.Uy,this.Mj),t.Zs(Np.Hy,this.Xj),t.Zs(Np.c_,this.Fj)},n.iQ=function(t){t.tu(Np.Uy,this.Mj),t.tu(Np.Hy,this.Xj),t.tu(Np.c_,this.Fj)},n.mE=function(t){this.nQ(t),t.dk&&this.Uj(t)},n.removeCue=function(t){this.iQ(t),this.Hj(t)},n.Lj=function(){this.rk.W_===Mm.F_?this.eQ():this.rQ()},n.eQ=function(){if(this.Rj){this.Rj=!1;var t=this.NU.RO,n=this.NU.IO;this.Wj(t,n),this.Kj(!1)}},n.rQ=function(){this.Rj||(this.Rj=!0,this.Kj(!0))},n.Uj=function(t){this.Rj||t.dk&&!this.$j(t)&&this.Kj(!1)},n.Hj=function(t){this.$j(t)&&this.Kj(!1)},n.zj=function(t){(t.dk||this.$j(t))&&this.Kj(!0)},n.Kj=function(t){var n=this.Cj,i=this.Rj?[]:this.rk.Q_.p_.slice();this.sQ(i,n,t),this.Cj=i},n.Yj=function(t){var n;return null==(n=this.Ij.get(t.B_))?void 0:n.uQ},n.oQ=function(t,n){this.Ij.set(t.B_,{zy:t,uQ:n})},n.jj=function(t){this.Ij.delete(t.B_)},n.aQ=function(){return this.Cj.slice()},n.Sd=function(){var t=this;nr(this.SD),this.Ij.clear(),this.tQ(),this.rk.j_.p_.forEach(function(n){return t.iQ(n)}),this.NU.tu("pO",this.Vj)},T(t,[{key:"Yw",get:function(){return this.rk}},{key:"SD",get:function(){return this.Vc}},{key:"NU",get:function(){return this.Lq}},{key:"hQ",get:function(){return this.Dj}},{key:"cQ",get:function(){return this.Nj}}]),t}();function ax(t){return hx[t||"none"]}!function(t){t.fQ='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.vQ='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.lQ='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.dQ='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(sx||(sx={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(ux||(ux={}));var hx={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},cx=zr({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),fx={QM:ux.WHITE,jM:"Arial, Helvetica, Sans-Serif",ZM:"100%",KM:ux.TRANSPARENT,JM:ux.TRANSPARENT,$M:"none",rU:"visible",tU:void 0,nU:void 0,iU:void 0,eU:void 0},lx=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,fx)||this}E(n,t);var i=n.prototype;return i.Gj=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",ar(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.Wj=function(t,n){var i=g.min(t,n)/15;this.SD.style.fontSize=i+"px"},i.sQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.dk||this.qj(r)}for(var s=0;s<t.length;s++){var u=t[s];this.wQ(u)}},i.wQ=function(t){var n=this.Yj(t);n||(n=this._Q(t),this.oQ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.SD.appendChild(r)}},i._Q=function(t){var n,i=[],e=t.jS,r=t.Kp,u=t.Gy;if(0===w.keys(r).length){_x(n=s.createElement("div"));for(var o=vx(u,e,t.QS,void 0),a=0;a<o.length;a++){var h=o[a];n.appendChild(h)}i.push(n)}else for(var c=0,f=w.keys(r);c<f.length;c++){var l=f[c],v=s.createElement("div");v.id=l;var d=vx(u,e,t.QS,v);if(d){_x(v),wx(v,"region",r[l],e);for(var g=0;g<d.length;g++){var m=d[g];v.appendChild(m)}i.push(v)}i.push(v)}return i},i.Zj=function(t){var n,i,e,r;n=this.SD,i=t,n.style.marginTop=(null!=(e=i.tU)?e:0)+"px",n.style.marginBottom=(null!=(r=i.nU)?r:0)+"px",n.style.height="calc(100% - "+n.style.marginTop+" - "+n.style.marginBottom+")",ZR(this.SD,t)},n}(ox);function vx(t,n,i,e){var r,u;if(Zt(t)&&("SPAN"===(u=t).di.toUpperCase()||"P"===u.di.toUpperCase()||"BR"===u.di.toUpperCase()||"DIV"===u.di.toUpperCase()||"BODY"===u.di.toUpperCase())){var o=function t(n){var i=n.Bi("region");if("p"===n.di.toLowerCase())return i;var e=[];for(var r=0,s=n.Pi;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||(null==e?void 0:e.id)===o){(r="BODY"===t.di.toUpperCase()?e:function(t){var n;switch(t.di.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":dx(n=s.createElement("span"),t);break;case"P":n=s.createElement("p"),(i=n).style.fontFamily="inherit",i.style.color="inherit",i.style.textAlign="inherit",i.style.padding="0",i.style.margin="0",i.style.lineHeight="inherit",dx(n,t);break;case"DIV":dx(n=s.createElement("div"),t)}var i;return n}(t))&&(function(t,n,i,e){var r=n.Bi("style");mx(t,n.di,r,i,e),function(t,n,i){for(var e=0,r=n.Xi;e<r.length;e++){var s=r[e],u=_b(s.wi,["ebutts","tts","xml"]);yx(t,n.di,u,s.Ai,i)}}(t,n,e)}(r,t,n,e),function(t,n,i){var e=null==n?void 0:n.Bi("smpte:backgroundImage");if(e){e=e.replace("#","");var r=i&&function t(n,i){if(i(n))return n;for(var e=0,r=n.Pi;e<r.length;e++){var s=r[e],u=t(s,i);if(u)return u}return null}(i,function(t){return t.Xi.some(function(t){return"id"===t.di&&t.Ai===e})});r&&gx(t,r,n,!0)}!function(t,n){var i=n.Pi[0];if(!i||"metadata"!==i.di.toLowerCase())return;var e=i.Pi[0];gx(t,e,n)}(t,n)}(r,t,i));for(var a=[],h=t.Ii,c=0;c<h.length;c++){var f=vx(h[c],n,i,e);f&&(a=a.concat(f))}if("BODY"!==t.di.toUpperCase()){for(var l=0,v=a;l<v.length;l++){var d,w=v[l];null==(d=r)||d.appendChild(w)}return r?[r]:[]}return a}}else Kt(t)&&(r=s.createTextNode(t.Fi));return r?[r]:[]}function dx(t,n){var i=n.Oi(mb,"id");i&&(t.id=i)}function wx(t,n,i,e){mx(t,n,i.style,e,t);for(var r=0,s=w.keys(i);r<s.length;r++){var u=s[r];yx(t,n,u,i[u],t)}}function gx(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var r=s.createElement("img");r.src=function(t){var n=t&&t.Ii.length>0?t.Ii[0]:null;return n&&Kt(n)?"data:image/png;base64,"+n.Fi:""}(n),r.id=t.id,r.style.height="100%",r.style.maxWidth="100%",function(t,n){ar(t.style,"flex");var i=n.Bi("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.Bi("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(r)}function mx(t,n,i,e,r){if(i)for(var s=0,u=i.split(" ");s<u.length;s++){var o=u[s];if(e[o])for(var a=0,h=w.keys(e[o]);a<h.length;a++){var c=h[a],f=_b(c,["ebutts","tts","xml"]);"style"===f.toLowerCase()?mx(t,n,e[o][c],e,r):yx(t,n,f,e[o][c],r)}}}function yx(t,n,i,e,r){switch(i){case"backgroundColor":t.style.backgroundColor=e;break;case"color":t.style.color=e;break;case"direction":t.style.direction=e;break;case"display":"none"===e&&(t.style.display="none");break;case"fontFamily":var s=cx.get(e);t.style.fontFamily=s||e;break;case"fontSize":Ts(e,"px")?e=m(e)/24+"em":Ts(e,"c")&&(e=e.replace("c","em")),t.style.fontSize=e;break;case"fontStyle":t.style.fontStyle=e;break;case"fontWeight":t.style.fontWeight=e;break;case"lineHeight":t.style.lineHeight=e;break;case"opacity":t.style.opacity=e;break;case"overflow":t.style.overflow=e;break;case"padding":t.style.padding=e;break;case"textAlign":"right"===e?(t.style.textAlign="right",t.style.justifyContent="flex-end"):"start"===e?(t.style.textAlign="start",t.style.justifyContent="flex-start"):"center"===e?(t.style.textAlign="center",t.style.justifyContent="center"):"end"===e?(t.style.textAlign="end",t.style.justifyContent="flex-end"):"left"===e&&(t.style.textAlign="left",t.style.justifyContent="flex-start");break;case"textDecoration":var u=e;u=(u=(u=(u=u.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough","none")).replace("noOverline","none"),t.style.textDecoration=u;break;case"unicodeBidi":t.style.unicodeBidi=e.replace("bidiOverride","bidi-override");break;case"visibility":t.style.visibility=e;break;case"zIndex":t.style.zIndex=e;break;case"displayAlign":var o;if("before"===e.toLowerCase())o="flex-start";else if("center"===e.toLowerCase())o="center";else{if("after"!==e.toLowerCase())return;o="flex-end"}t.style.alignItems=o;break;case"extent":var a,h,c=px(n.toLowerCase())?r:t,f=e.split(" ");f.length>=2?(a=f[0],h=f[1]):a=h="100%",c&&(c.style.height=h,c.style.width=a);break;case"origin":var l=px(n.toLowerCase())?r:t,v=e.split(" "),d=v[0],w=v[1];l&&(d||w)&&(d&&(l.style.left=d),w&&(l.style.top=w));break;case"showBackground":break;case"wrapOption":t.style.whiteSpace=e.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap");break;case"writingMode":var g,y,p,_;switch(e){case"lrtb":g="horizontal-tb";break;case"rltb":g="horizontal-tb",y="rtl",_="bidi-override";break;case"tbrl":g="vertical-rl",p="upright";break;case"tblr":g="vertical-lr",p="upright";break;case"lr":g="horizontal-tb";break;case"rl":g="horizontal-tb",y="rtl";break;case"tb":g="vertical-rl",p="upright";break;default:return}t.style.writingMode=g,t.style.setProperty("-webkit-writing-mode",g),y&&(t.style.direction=y),p&&(t.style.textOrientation=p,t.style.setProperty("-webkit-text-orientation",p)),_&&(t.style.unicodeBidi=_);break;case"textOutline":break;case"linePadding":if(Ts(e,"c")){var b=e.replace("c","em");t.style.paddingLeft=t.style.paddingRight=b}break;case"multiRowAlign":"auto"===e.toLowerCase()?t.style.textAlign="":t.style.textAlign="value"}}function px(t){return"div"===t||"p"===t||"span"===t}function _x(t){ar(t.style,"flex"),t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px",t.style.textAlign="start",t.style.writingMode="horizontal-tb",t.style.setProperty("-webkit-writing-mode","horizontal-tb"),t.style.padding="0",t.style.margin="0",t.style.lineHeight="1.3em"}var bx,kx,Ax=void 0;function Tx(t,n){for(var i,e=bx.gQ,r="",s=[],u=t.charAt(n.Pu),o="",a={fs:kx.mQ,Ri:"",yQ:[]};n.Pu<t.length+1;){switch(u=n.Pu<t.length?t.charAt(n.Pu):"EOF",e){case bx.gQ:switch(u){case"&":var h=t.substring(n.Pu).match(/&#?[0-9a-zA-Z]+;/);h?(r+=(i=h[0],Ax||(Ax=we.document.createElement("textarea")),Ax.innerHTML=i,Ax.value),n.Bu(h[0].length-1)):r+="&";break;case"<":if(r)return{fs:kx.kQ,Gy:r};e=bx.pQ;break;case"EOF":return{fs:kx.kQ,Gy:r};default:r+=u}break;case bx.pQ:switch(u){case"\t":case"\n":case"\f":case" ":e=bx.bQ;break;case".":e=bx.AQ;break;case"/":e=bx.TQ;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=bx.SQ;break;case">":return n.Bu(1),a;case"EOF":return a;default:r=u,e=bx.EQ}break;case bx.EQ:switch(u){case"\t":case"\f":case" ":e=bx.bQ;break;case"\n":o=u,e=bx.bQ;break;case".":e=bx.AQ;break;case">":return n.Bu(1),{fs:kx.mQ,Ri:r,yQ:[]};case"EOF":return{fs:kx.mQ,Ri:r,yQ:[]};default:r+=u}break;case bx.AQ:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=bx.bQ;break;case"\n":s.push(o),o=u,e=bx.bQ;break;case".":s.push(o),o="";break;case">":return n.Bu(1),s.push(o),{fs:kx.mQ,Ri:r,yQ:s};case"EOF":return s.push(o),{fs:kx.mQ,Ri:r,yQ:s};default:o+=u}break;case bx.bQ:switch(u){case"&":e=bx.IQ;break;case">":n.Bu(1);var c=o.trim();return c=c.replace(/\s/," "),{fs:kx.mQ,Ri:r,yQ:s,RQ:c};default:o+=u}break;case bx.IQ:for(var f="",l=n.Pu;">"===t.charAt(l);l++)f+=t.charAt(l);o+=f||"&",e=bx.bQ;break;case bx.TQ:switch(u){case">":return n.Bu(1),{fs:kx.DQ,Ri:r};case"EOF":return{fs:kx.DQ,Ri:r};default:r+=u}break;case bx.SQ:switch(u){case">":return n.Bu(1),{fs:kx.NQ,CQ:r};case"EOF":return{fs:kx.NQ,CQ:r};default:r+=u}}n.Bu(1)}return a}function Sx(t){var n;if(t.getBoundingClientRect&&t.parentNode&&(n=t.getBoundingClientRect()),!n)return{left:0,top:0};var i=s.documentElement,e=s.body,u=i.clientLeft||e.clientLeft||0,o=r.pageXOffset||e.scrollLeft,a=n.left+o-u,h=i.clientTop||e.clientTop||0,c=r.pageYOffset||e.scrollTop,f=n.top+c-h;return{left:g.round(a),top:g.round(f)}}function Ex(t,n,i,e){if(void 0===e&&(e=0),t&&n){t.style.left="0px";var r=t.getClientRects(),s=n.getClientRects();if(0!==r.length&&0!==s.length){var u=r[0],o=s[0],a=u.width/2+u.left;!function(t,n,i,e){void 0===e&&(e=0);!function(t,n,i,e,r,s){void 0===s&&(s=0);var u=t.getClientRects();if(r&&u.length>0){var o=u[0],a=r[i]+s-o[i],h=r[e]-s-o[e];n=Ft(n,a,h)}t.style[i]=n+"px"}(t,n,"left","right",i,e)}(t,o.width/2+o.left-a,i,e)}}}function Ix(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}!function(t){t.gQ="Data",t.pQ="Tag",t.EQ="StartTag",t.AQ="StartTagClass",t.bQ="StartTagAnnotation",t.IQ="CharRefInAnnotation",t.TQ="EndTag",t.SQ="TimestampTag"}(bx||(bx={})),function(t){t.kQ="string",t.mQ="starttag",t.DQ="endtag",t.NQ="timestamp"}(kx||(kx={}));var Rx,Cx=function(){function t(t,n,i,e){this.BQ=void 0,this.OQ=void 0,this.Tk=void 0,this.sT=void 0,this.BQ=t,this.OQ=n,this.Tk=i,this.sT=e}var n=t.prototype;return n.xQ=function(t){return this.BQ<t.LQ&&this.LQ>t.BQ&&this.OQ<t.MQ&&this.MQ>t.OQ},n.Ey=function(t){return this.BQ<=t.BQ&&t.LQ<=this.LQ&&this.OQ<=t.OQ&&t.MQ<=this.MQ},n.Lu=function(){return new t(this.BQ,this.OQ,this.Tk,this.sT)},T(t,[{key:"LQ",get:function(){return this.BQ+this.Tk},set:function(t){this.BQ=t-this.Tk}},{key:"MQ",get:function(){return this.OQ+this.sT},set:function(t){this.OQ=t-this.sT}}]),t}(),Dx={QM:ux.WHITE,jM:"sans-serif",ZM:"100%",KM:"rgba(0,0,0,0.8)",JM:ux.TRANSPARENT,$M:"none",rU:"visible",tU:void 0,nU:void 0,iU:void 0,eU:void 0},Nx="theoplayer-webvtt-region-",Px="theoplayer-webvtt-styling-",xx="theoplayer-webvtt-voice-",Bx="theoplayer-webvtt-default-style",Ox=5.23,Lx=1.14,Mx=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Dx)||this).UQ=Xr(),s.XQ=Xx(3),s}E(n,t);var i=n.prototype;return i.Gj=function(t){var n=s.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,cr(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.hQ.jM;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(s.getElementById(Bx))return;for(var t=[],n=0;n<Qx.length;n++){var i=Qx[n],e=i[0],r=i[1];t.push("."+Px+e+" { color: "+r+" !important; }"),t.push("."+Px+"HQ"+e+" { background-color: "+r+" !important; }"),t.push("video::cue(."+e+") { color: "+r+"; }"),t.push("FQ"+e+") { background-color: "+r+"; }")}var u=s.createElement("style");u.id=Bx,u.innerHTML=t.join("\n"),s.body.appendChild(u)}(),n},i._L=function(){this.SD.appendChild(this.XQ),t.prototype._L.call(this)},i.Wj=function(t,n){var i=this,e=g.min(t/100,n/100),r=rx(this.hQ);this.UQ.forEach(function(t){var n=t.Ky,s=t.zQ;i.VQ(s,e,r,n)}),this.VQ(this.XQ,e,r)},i.Zj=function(n){ZR(this.SD,n),t.prototype.Zj.call(this,n)},i.sQ=function(t,n,i){for(var e=this,r=this.SD,s=this.NU.IO/100,u=[],o=0;o<t.length;o++){var a=t[o];void 0!==a.Ky&&(Qs(u,a.Ky)||u.push(a.Ky))}this.UQ.forEach(function(t,n){var r=t.Ky,s=t.zQ;!i&&Qs(u,r)||(nr(s),e.UQ.delete(n))});for(var h=0;h<n.length;h++){var c=n[h];!i&&c.dk||this.qj(c)}var f=[],l=qx(this.XQ.getBoundingClientRect());f.push.apply(f,this.WQ(l));for(var v=0;v<u.length;v++){var d=u[v],w=void 0;this.UQ.has(d.P_)?w=this.UQ.get(d.P_).zQ:(w=Vx(d,s),r.appendChild(w),this.UQ.set(d.P_,{Ky:d,zQ:w})),f.push(qx(w.getBoundingClientRect()))}for(var g=0;g<t.length;g++){var m=t[g],y=this.wQ(m,f,l);void 0!==y&&f.push(y)}},i.WQ=function(t){var n=[],i=this.hQ;if(void 0!==i.tU){var e=t.Lu();e.sT=i.tU,n.push(e)}if(void 0!==i.nU){var r=t.Lu();r.sT=i.nU,r.MQ=t.MQ,n.push(r)}return n},i.wQ=function(t,n,i){var e,r;t.Ky?(r=this.UQ.get(t.Ky.P_).zQ,"up"===t.Ky.pk&&r.children.length>=1&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s")):r=this.XQ;var s=null==(e=this.Yj(t))?void 0:e[0];if(s?r.appendChild(s):(s=this.GQ(t),r.appendChild(s),t.Ky||(t.Jy?function(t,n,i,e){var r=zx(t),s=r?i.sT:i.Tk,u=y(getComputedStyle(n).lineHeight);if(0===u)return;var o=qx(n.getBoundingClientRect()),a=g.round($p(t));"rl"===t.$y&&(a=-(a+1));var h=u*a;"rl"===t.$y&&(h=h-o.Tk+u);a<0&&(h+=s,u=-u);r?o.OQ+=h:o.BQ+=h;var c=o.Lu(),f=!1;for(;!i.Ey(o)||Wx(o,e);)if(r)if(u<0&&o.OQ<i.OQ||u>0&&o.MQ>i.MQ){if(o.OQ=c.OQ,f)break;u=-u,f=!0}else o.OQ+=u;else if(u<0&&o.BQ<i.BQ||u>0&&o.LQ>i.LQ){if(o.BQ=c.BQ,f)break;u=-u,f=!0}else o.BQ+=u;r?n.style.top=(o.OQ-i.OQ)/i.sT*100+"%":n.style.left=(o.BQ-i.BQ)/i.Tk*100+"%"}(t,s,i,n):function(t,n,i,e){var r=qx(n.getBoundingClientRect());if(0===r.Tk||0===r.sT)return;zx(t)?"center"===t.jy?r.OQ-=r.sT/2:"end"===t.jy&&(r.OQ-=r.sT):"center"===t.jy?r.BQ-=r.Tk/2:"end"===t.jy&&(r.BQ-=r.Tk);var s,u=r.Lu(),o=u,a=1,h=!1;s=""===t.$y?[Rx.POS_Y,Rx.NEG_Y,Rx.POS_X,Rx.NEG_X]:"lr"===t.$y?[Rx.POS_X,Rx.NEG_X,Rx.POS_Y,Rx.NEG_Y]:[Rx.NEG_X,Rx.POS_X,Rx.POS_Y,Rx.NEG_Y];var c=y(getComputedStyle(n).lineHeight)/4;if(c>0){for(var f=0;f<s.length&&!h;f++){for(;!$x(r,i,s[f],.01)&&(!i.Ey(r)||Wx(r,e));)Gx(r,s[f],c);if(i.Ey(r)){o=r.Lu(),h=!0;break}var l=(v=r,d=i,w=void 0,m=void 0,void 0,w=g.max(0,g.min(v.LQ,d.LQ)-g.max(v.BQ,d.BQ)),m=g.max(0,g.min(v.MQ,d.MQ)-g.max(v.OQ,d.OQ)),w*m/(v.Tk*v.sT));a>l&&(o=r.Lu(),a=l),r=u.Lu()}i.Ey(r)||(o=u.Lu())}var v,d,w,m;n.style.left=(o.BQ-i.BQ)/i.Tk*100+"%",n.style.top=(o.OQ-i.OQ)/i.sT*100+"%"}(t,s,i,n)),this.oQ(t,[s])),!t.Ky)return qx(s.getBoundingClientRect())},i.GQ=function(t){for(var n=new Jo,i=t.Gy,e=this.qQ(t),r={YQ:void 0,$m:e},u=r,o="",a="",h=[r],c=[],f=[];n.Pu<i.length;){var l=Tx(i,n);if(l.fs===kx.kQ){var v=s.createElement("span");Ix(v,l.Gy),jx(v,h),""!==o&&(v.lang=o),this.jQ(v,a),u.$m.appendChild(v)}else if(l.fs===kx.mQ){var d=l.Ri.toLowerCase();switch(d){case"i":case"b":case"u":case"ruby":var w=s.createElement(d);u.$m.appendChild(w),u={YQ:l,$m:w},h.push(u);break;case"rt":var g;if("ruby"===(null==(g=u.YQ)?void 0:g.Ri.toLowerCase())){var m=s.createElement("rt");u.$m.appendChild(m),u={YQ:l,$m:m},h.push(u)}break;case"c":case"v":u={YQ:l,$m:u.$m},h.push(u);break;case"font":var y,p=null==(y=l.RQ)?void 0:y.match(/(?:^| )color=["']([^"']+)/i);p&&(a=p[1],f.push(a),u={YQ:l,$m:u.$m},h.push(u));break;case"lang":var _;o=null!=(_=l.RQ)?_:"",c.push(o)}}else if(l.fs===kx.DQ){var b,k=l.Ri.toLowerCase(),A=null==(b=u.YQ)?void 0:b.Ri.toLowerCase();A===k?(h.pop(),u=h[h.length-1],"font"===k&&(f.pop(),a=f.length>0?f[f.length-1]:"")):"rt"===A&&"ruby"===k?(h.pop(),h.pop(),u=h[h.length-1]):"lang"===k&&(c.pop(),o=c.length>0?c[c.length-1]:"")}else if(l.fs===kx.NQ){var T=l.CQ,S=new Jo;try{U_(T,S)}catch(t){ct("ERROR collecting timestamp",t)}}}return e},i.jQ=function(t,n){var i=this.hQ,e=this.cQ;i.KM&&(t.style.background=i.KM);var r=e.QM||n||i.QM;r&&(t.style.color=r)},i.VQ=function(t,n,i,e){if(e){var r=Fx(e,n);t.style.height=r*i+"px",t.style.left=Ux(e)+"%",t.style.top=Hx(e,n)+"px"}t.style.fontSize=Ox*n*i+"px"},i.qQ=function(t){var n=s.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.qy,function(t,n){"rl"===n.$y?t.style.writingMode="vertical-rl":"lr"===n.$y?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=Zp(n);zx(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=Qp(n),s=Yp(n),u=Zp(n);if(zx(n)){switch(r){case"line-left":i=s;break;case"center":i=s-u/2;break;case"line-right":i=s-u}e=n.Jy?0:$p(n)}else{switch(r){case"line-left":e=s;break;case"center":e=s-u/2;break;case"line-right":e=s-u}i=n.Jy?0:$p(n)}t.style.left=i+"%",t.style.top=e+"%"}(n,t);var i=this.hQ.JM;i&&(n.style.background=i);var e=this.hQ.QM;return e&&(n.style.color=e),n.style.textShadow=ax(this.hQ.$M),n},n}(ox);function jx(t,n){for(var i=0;i<n.length;i++){var e=n[i];if(e.YQ){for(var r=0,s=e.YQ.yQ;r<s.length;r++){var u=s[r];sr(t,Px+u)}"v"===e.YQ.Ri.toLowerCase()&&e.YQ.RQ&&sr(t,xx+e.YQ.RQ)}}}function Fx(t,n){return t._k*(Ox*n)*Lx}function Ux(t){return t.bk-t.gk*t.Tk/100}function Hx(t,n){var i=t.Ak,e=t.yk*Fx(t,n)/100;return g.max(0,i-e)}function Xx(t){var n=s.createElement("div");return n.className=Nx+"default",cr(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=Ox*t+"px",n.style.lineHeight=Lx+"em",n}function Vx(t,n){var i=Xx(n);i.className=Nx+t.P_;var e=t.Tk,r=Fx(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=Ux(t)+"%",i.style.right="",i.style.top=Hx(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function zx(t){return""===t.$y}function Wx(t,n){return n.some(function(n){return t.xQ(n)})}function qx(t){return new Cx(t.left,t.top,t.width,t.height)}function Gx(t,n,i){switch(n){case Rx.POS_X:t.BQ+=i;break;case Rx.NEG_X:t.BQ-=i;break;case Rx.POS_Y:t.OQ+=i;break;case Rx.NEG_Y:t.OQ-=i}}function $x(t,n,i,e){switch(i){case Rx.POS_X:return t.LQ>n.LQ+e;case Rx.NEG_X:return t.BQ<n.BQ-e;case Rx.POS_Y:return t.MQ>n.MQ+e;case Rx.NEG_Y:return t.OQ<n.OQ-e}}!function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(Rx||(Rx={}));var Yx,Qx=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(Yx||(Yx={}));var Zx={QM:ux.WHITE,jM:sx.lQ,ZM:"100%",KM:ux.BLACK,JM:"transparent",$M:"none",QQ:Yx.FONT_REGULAR,rU:"visible",tU:void 0,nU:void 0,iU:void 0,eU:void 0},Kx=[{ZQ:ux.WHITE,QQ:Yx.FONT_REGULAR,KQ:0},{ZQ:ux.WHITE,QQ:Yx.FONT_UNDERLINE,KQ:0},{ZQ:ux.GREEN,QQ:Yx.FONT_REGULAR,KQ:0},{ZQ:ux.GREEN,QQ:Yx.FONT_UNDERLINE,KQ:0},{ZQ:ux.BLUE,QQ:Yx.FONT_REGULAR,KQ:0},{ZQ:ux.BLUE,QQ:Yx.FONT_UNDERLINE,KQ:0},{ZQ:ux.CYAN,QQ:Yx.FONT_REGULAR,KQ:0},{ZQ:ux.CYAN,QQ:Yx.FONT_UNDERLINE,KQ:0},{ZQ:ux.RED,QQ:Yx.FONT_REGULAR,KQ:0},{ZQ:ux.RED,QQ:Yx.FONT_UNDERLINE,KQ:0},{ZQ:ux.YELLOW,QQ:Yx.FONT_REGULAR,KQ:0},{ZQ:ux.YELLOW,QQ:Yx.FONT_UNDERLINE,KQ:0},{ZQ:ux.MAGENTA,QQ:Yx.FONT_REGULAR,KQ:0},{ZQ:ux.MAGENTA,QQ:Yx.FONT_UNDERLINE,KQ:0},{ZQ:ux.WHITE,QQ:Yx.FONT_ITALICS,KQ:0},{ZQ:ux.WHITE,QQ:Yx.FONT_UNDERLINE_ITALICS,KQ:0},{ZQ:ux.WHITE,QQ:Yx.FONT_REGULAR,KQ:0},{ZQ:ux.WHITE,QQ:Yx.FONT_UNDERLINE,KQ:0},{ZQ:ux.WHITE,QQ:Yx.FONT_REGULAR,KQ:4},{ZQ:ux.WHITE,QQ:Yx.FONT_UNDERLINE,KQ:4},{ZQ:ux.WHITE,QQ:Yx.FONT_REGULAR,KQ:8},{ZQ:ux.WHITE,QQ:Yx.FONT_UNDERLINE,KQ:8},{ZQ:ux.WHITE,QQ:Yx.FONT_REGULAR,KQ:12},{ZQ:ux.WHITE,QQ:Yx.FONT_UNDERLINE,KQ:12},{ZQ:ux.WHITE,QQ:Yx.FONT_REGULAR,KQ:16},{ZQ:ux.WHITE,QQ:Yx.FONT_UNDERLINE,KQ:16},{ZQ:ux.WHITE,QQ:Yx.FONT_REGULAR,KQ:20},{ZQ:ux.WHITE,QQ:Yx.FONT_UNDERLINE,KQ:20},{ZQ:ux.WHITE,QQ:Yx.FONT_REGULAR,KQ:24},{ZQ:ux.WHITE,QQ:Yx.FONT_UNDERLINE,KQ:24},{ZQ:ux.WHITE,QQ:Yx.FONT_REGULAR,KQ:28},{ZQ:ux.WHITE,QQ:Yx.FONT_UNDERLINE,KQ:28}],Jx=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function tB(t,n){return l_(t.JQ,n.JQ)||Hs(t.fS,n.fS)}var nB=32,iB=function(){function t(t,n,i){this.$Q=void 0,this.tZ=t,this.nZ=n,this.Dj=i}var n=t.prototype;return n.iZ=function(){return this.$Q=this.eZ(),this.rZ(),this.sZ(),this.$Q},n.eZ=function(){var t=s.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.uZ/nB*this.nZ.oZ*100+"%",t.style.height=1.2*this.aZ+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.nZ.hZ?"calc(1em - 1ch)":"";var n=this.Dj.jM;n&&(t.style.fontFamily=n);var i=this.Dj.JM;return i&&(t.style.backgroundColor=i),t},n.rZ=function(){if(this.$Q){var t=this.fZ.cZ/15*100,n=this.fZ.KQ/nB*100,i=(nB-this.vZ.KQ-1)/nB*100,e=(15-this.vZ.cZ-1)/15*100;this.nZ.lZ||(n=i=1,this.$Q.style.width="98%"),e<t?this.$Q.style.bottom=e*this.nZ.oZ+"%":this.$Q.style.top=t*this.nZ.oZ+"%",i<n?this.$Q.style.right=i+"%":this.$Q.style.left=n+"%"}},n.sZ=function(){for(var t=this.tZ.dZ.sort(eB),n=0;n<t.length;n++)this.wZ(t[n-1],t[n]),this._Z(t[n]);this.wZ(t[t.length-1],void 0)},n._Z=function(n){var i,e=ex(this.Dj,n.gZ),r=t.mZ(e);Ix(r,n.yZ),null==(i=this.$Q)||i.appendChild(r)},t.mZ=function(t){var n=s.createElement("span");n.style.display="inline-block",t.QQ!==Yx.FONT_ITALICS&&t.QQ!==Yx.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.QQ!==Yx.FONT_UNDERLINE&&t.QQ!==Yx.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.QM;i&&(n.style.color=i);var e=t.KM;return e&&(n.style.backgroundColor=e),n.style.textShadow=ax(t.$M),n.style.height="1.2em",n},n.wZ=function(t,n){var i=t?t.kZ.cZ:this.tZ.pZ.cZ,e=n?n.pZ.cZ:this.tZ.kZ.cZ,r=t?t.kZ.KQ:this.tZ.pZ.KQ,s=n?n.pZ.KQ:this.tZ.kZ.KQ;i<e&&(!n||t&&t.pZ.cZ!==n.pZ.cZ?this.bZ():this.AZ(this.tZ.kZ.KQ-r),r=this.tZ.pZ.KQ),r<s&&(n?this.AZ(s-r):this.bZ())},n.bZ=function(){var t,n=s.createElement("br");null==(t=this.$Q)||t.appendChild(n)},n.AZ=function(t){var n;if(!(t<=0)){var i=s.createElement("span");i.style.display="inline-block",Ix(i,Es(" ",t)),null==(n=this.$Q)||n.appendChild(i)}},T(t,[{key:"fZ",get:function(){return this.tZ.pZ}},{key:"vZ",get:function(){return this.tZ.kZ}},{key:"uZ",get:function(){return this.tZ.kZ.KQ-this.tZ.pZ.KQ+1}},{key:"aZ",get:function(){return this.tZ.kZ.cZ-this.tZ.pZ.cZ+1}}]),t}();function eB(t,n){return function(t,n){if(t.cZ!==n.cZ)return t.cZ-n.cZ;return t.KQ-n.KQ}(t.pZ,n.pZ)}var rB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Zx)||this).TZ=void 0,s.SZ=void 0,s}E(n,t);var i=n.prototype;return i.Gj=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.hQ.jM&&(n.style.fontFamily=this.hQ.jM),n},i.Wj=function(t,n){this.EZ()},i.EZ=function(){var t,n=rx(this.hQ);this.SZ={oZ:(t=100*n)/100,hZ:t<=100,lZ:t<=150};var i=this.IZ/nB;this.TZ=i*n,this.SD.style.fontSize=this.TZ+"px"},i.sQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.dk||this.qj(r)}for(var s=0;s<t.length;s++){var u=t[s];this.wQ(u)}},i.wQ=function(t){this.SZ&&this.SZ.lZ?this.RZ(80):this.RZ(100),this.EZ();var n=this.Yj(t);n||(n=this._Q(t),this.oQ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.SD.appendChild(r)}},i._Q=function(t){var n=this;return t.Gy.map(function(t){return new iB(t,n.SZ,n.hQ).iZ()})},i.RZ=function(t){var n=(100-t)/2;this.SD.style.left=n+"%",this.SD.style.width=t+"%"},T(n,[{key:"IZ",get:function(){var t=this.SD.offsetWidth;return this.SZ&&this.SZ.lZ||(t*=.8),t}}]),n}(ox),sB=function(){function t(t,n,i,e,r){var s=this;this.DZ=void 0,this.Lq=void 0,this.pm=void 0,this.NZ=void 0,this.CZ=[],this.AC=void 0,this.PZ=function(t){var n=t.Yw;n.Zs(um.u_,s.BZ),n.Zs(um.a_,s.BZ),n instanceof mP&&(n.kG=s.kG),s.OZ(n)},this.BZ=function(t){var n=t.Yw;s.OZ(n)},this.xZ=function(t){var n=t.Yw;n.tu(um.u_,s.BZ),n.tu(um.a_,s.BZ),s.LZ(n)},this.MZ=function(){for(var t=s.kG,n=0,i=s.pm.p_;n<i.length;n++){var e=i[n];e instanceof mP&&(e.kG=t)}},this.UZ=function(){for(var t=0,n=s.CZ;t<n.length;t++){n[t].Zj(s.AC)}},this.XZ=function(){for(var t=0,n=s.CZ;t<n.length;t++){var i=n[t];i.Zj(Ur({},i.Jj(),{rU:"hidden"}))}},this.HZ=function(){for(var t=0,n=s.CZ;t<n.length;t++){var i=n[t];i.Zj(Ur({},i.Jj(),{rU:"visible"}))}},this.DZ=t,this.Lq=n,this.pm=i,this.NZ=r,this.AC=e,this.pm.Zs(im.Hw,this.PZ),this.pm.Zs(im.zw,this.xZ),this.pm.Zs(um.r_,this.BZ),this.NZ.Zs(gS.r_,this.MZ),this.AC.Zs("s_",this.UZ),this.MZ()}var n=t.prototype;return n.FZ=function(t){for(var n=0,i=this.CZ;n<i.length;n++){var e=i[n];if(e.Yw===t)return e}},t.zZ=function(t){switch(t.fs){case Ip.TTML:case Ip.SRT:case Ip.WEBVTT:case Ip.CEA608:return!0}return!1},n.VZ=function(t){switch(t.fs){case Ip.TTML:return new lx(t,this.DZ,t.x_,this.Lq);case Ip.SRT:case Ip.WEBVTT:return new Mx(t,this.DZ,t.x_,this.Lq);case Ip.CEA608:return new rB(t,this.DZ,t.x_,this.Lq)}},n.WZ=function(t){var n=this.FZ(t);n||(n=this.VZ(t))&&(n._L(),n.Zj(this.AC),this.CZ.push(n),t.W_===Mm.F_&&n.eQ())},n.LZ=function(t){for(var n=this.CZ,i=n.length-1;i>=0;i-=1){var e=n[i];e.Yw===t&&(e.Sd(),Ys(n,i))}},n.OZ=function(n){qb(n.O_)&&t.zZ(n)&&(n.Y_===Ep.ERROR?this.LZ(n):this.WZ(n))},n.k_=function(){for(var t=0,n=this.CZ;t<n.length;t++){var i=n[t];i.Yw.tu(um.u_,this.BZ),i.Yw.tu(um.a_,this.BZ),i.Sd()}Ks(this.CZ)},n.Sd=function(){this.k_();for(var t=0,n=this.CZ;t<n.length;t++){n[t].Sd()}this.pm.tu(im.Hw,this.PZ),this.pm.tu(im.zw,this.xZ),this.pm.tu(um.r_,this.BZ),this.NZ.tu(gS.r_,this.MZ),this.AC.tu("s_",this.UZ)},T(t,[{key:"kG",get:function(){return this.NZ.lC}}]),t}();function uB(t){var n=new qI,i=function(t){var n=[];return zI.ZO(t)&&n.push(new zI(t)),WI.ZO(t)&&n.push(new WI(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.nx(r)}n.tx(i[0])}return n}var oB,aB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).GZ=void 0,s.qZ=void 0,s.YZ=void 0,s.YZ=uB(n),s.GZ=new ix,s.qZ=new sB(s.GZ.$m,s.NU,s.Rm,s.PU,s.XD),s}E(n,t);var i=n.prototype;return i.Vm=function(){return this.Vc},i.xs=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.YZ.Sd(),this.GZ.Sd(),this.qZ.Sd(),n.next=5,Fr.awrap(t.prototype.xs.call(this));case 5:case"end":return n.stop()}},null,this,null,qe)},i.zm=function(){t.prototype.zm.call(this),this.GZ.zm()},i.Fm=function(){t.prototype.Fm.call(this),this.GZ.Fm()},i.Aj=function(n){t.prototype.Aj.call(this,n),this.GZ.Aj(n)},T(n,[{key:"SD",get:function(){return this.Vc}},{key:"Yg",get:function(){return this.Vc.videoHeight}},{key:"jg",get:function(){return this.Vc.videoWidth}},{key:"XD",get:function(){return this.YZ}}]),n}(qP);!function(t){t.jZ="HELLO",t.QZ="HI_THERE",t.ZZ="INITIALIZE",t.KZ="APPEND_INIT",t.JZ="APPEND_DATA",t.$Z="ACK",t.tK="REMOVE",t.nK="DESTROY_SESSION"}(oB||(oB={}));var hB=function(){function t(){this.we=void 0,this.Fc=void 0,this.oX=new mC}var n=t.prototype;return n.iK=function(t){var n=this;return this.oX.ZU(function(t){var i,e,r,s,u,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(fu(t),i=new MessageChannel,e=i.port1,r=i.port2,o.serviceWorker.controller){h.next=7;break}return h.next=7,Fr.awrap(tm(o.serviceWorker,"install",t));case 7:if("activated"===o.serviceWorker.controller.state){h.next=10;break}return h.next=10,Fr.awrap(tm(o.serviceWorker.controller,"activate",t));case 10:return s={kind:oB.jZ,port:r},o.serviceWorker.controller.postMessage(s,[r]),e.start(),n.we=e,h.prev=15,h.next=18,Fr.awrap(tm(e,"message",t));case 18:if(u=h.sent,(a=u.data).kind===oB.QZ){h.next=23;break}throw new l("Could not set up message channel");case 23:n.Fc=a.sessionId,h.next=30;break;case 26:throw h.prev=26,h.t0=h.catch(15),cu(h.t0)&&n.eK(),h.t0;case 30:case"end":return h.stop()}},null,null,[[15,26]],qe)},t)},n.rK=function(t,n){var i=this;return this.we,this.oX.ZU(function(){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.we){r.next=2;break}throw new l("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.we.postMessage(t,n),r.next=7,Fr.awrap(tm(i.we,"message"));case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},null,null,null,qe)})},n.sK=function(){var t=this;return this.oX.ZU(function(){return t.eK()})},n.eK=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.we){var t={kind:oB.nK};this.we.postMessage(t),this.we.close(),this.we=void 0}},t}(),cB=function(){function t(){this.uK=e_.Rp}var n=t.prototype;return n.oK=function(t,n){var i=t.Mk(n);this.uK=i.Ik(this.aK)?this.uK:i},n.hK=function(t){this.uK=t},T(t,[{key:"aK",get:function(){return this.uK}}]),t}(),fB=function(t){function n(n,i){var e;return(e=t.call(this)||this).cK=void 0,e.fK=void 0,e.ra=void 0,e.oX=new mC,e.vK=!1,e.lK=!1,e.JB=n,e.dK=i,e}E(n,t);var i=n.prototype;return i.mV=function(t,n){},i.yV=function(t,n){},i.HX=function(){return this.lK},i.kV=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,qe)},i.tV=function(t,n){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,qe)},i.Vz=function(t,i,e){var r,s,u=this;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.fs===VC.GX){i.next=2;break}throw new l("Streaming or opaque segments are not supported yet.");case 2:return r=t.Fi,s=function(){var t,i,e,s,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(t=vb.RA(new DataView(r.buffer)),(i=ub(t,m_.Ob)).length){c.next=4;break}throw new l("Moof boxes not found");case 4:return e=u.ra,s=n.wK(i,e),o=u._K(i,e),a=r.buffer,h={kind:oB.JZ,mimeType:u.JB,segment:r,startPts:f_.Op(s).zp(),totalDuration:f_.Op(o).zp()},c.next=11,Fr.awrap(u.dK.rK(h,[a]));case 11:void 0===u.cK&&(u.cK=s),void 0===u.fK&&(u.fK=s),u.fK=u.fK.Sy(o),u.Qs(new Iu(jC.VX));case 15:case"end":return c.stop()}},null,null,null,qe)},i.abrupt("return",this.oX.ZU(function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return fu(t),n.prev=1,u.vK=!0,n.next=5,Fr.awrap(s());case 5:return n.prev=5,u.vK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],qe)},e));case 5:case"end":return i.stop()}},null,this,null,qe)},i.qz=function(t,n,i){var e,r,s=this;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.fs===VC.GX){n.next=2;break}throw new l("Streaming or opaque initialization segments are not supported yet.");case 2:return e=t.Fi,r=function(){var t,n,i,r;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t=vb.RA(new DataView(e.buffer)),n=sb(t,m_.sb)){u.next=4;break}throw new l("Moov Box not found");case 4:if(0!==n.VA.length){u.next=6;break}throw new l("Tracks not found");case 6:return s.ra=n.VA[0].JA.pA.yp,i=e.buffer,r={kind:oB.KZ,mimeType:s.JB,segment:e},u.next=11,Fr.awrap(s.dK.rK(r,[i]));case 11:s.Qs(new Iu(jC.VX));case 12:case"end":return u.stop()}},null,null,null,qe)},n.abrupt("return",this.oX.ZU(function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return fu(t),n.prev=1,s.vK=!0,n.next=5,Fr.awrap(r());case 5:return n.prev=5,s.vK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],qe)},i));case 5:case"end":return n.stop()}},null,this,null,qe)},i.vV=function(){this.lK=!0},i.aV=function(){this.lK=!1},i.Qh=function(t,n,i){var e,r=this;return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={kind:oB.tK,mimeType:r.JB,endTime:f_.Np(n).zp()},i.next=3,Fr.awrap(r.dK.rK(t));case 3:r.cK=void 0,r.fK=void 0,r.Qs(new Iu(jC.VX));case 6:case"end":return i.stop()}},null,null,null,qe)},t.abrupt("return",this.oX.ZU(function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return fu(t),n.prev=1,r.vK=!0,n.next=5,Fr.awrap(e());case 5:return n.prev=5,r.vK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],qe)},i));case 2:case"end":return t.stop()}},null,this,null,qe)},i.CX=function(t){return this.JB===t.Nl},i.PX=function(t){return this.JB=t.Nl,qe.resolve()},n.wK=function(t,n){if(0===t.length)throw new l("Initial Moof box not found");var i=t[0];if(0===i.VA.length)throw new l("No tracks");if(!i.VA[0]._S)throw new l("No decode time");return new e_(i.VA[0]._S._S.toNumber(),n)},i._K=function(t,n){var i=0;return t.forEach(function(t){t.VA.forEach(function(t){t.wS.forEach(function(t){t.bS.forEach(function(t){var n;i+=null!=(n=t.Hg)?n:0})})})}),new e_(i,n)},i.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.next=3,Fr.awrap(this.oX.Sd());case 3:case"end":return t.stop()}},null,this,null,qe)},T(n,[{key:"Km",get:function(){return void 0===this.cK||void 0===this.fK?yS.fC():new yS([this.cK.Ep,this.fK.Ep])}},{key:"rc",get:function(){return{Nl:this.JB}}},{key:"AV",get:function(){return fp.Kl}},{key:"YB",get:function(){return this.JB}},{key:"TV",get:function(){return yS.fC()}},{key:"eL",get:function(){return 30},set:function(t){}},{key:"oL",get:function(){return 30},set:function(t){}},{key:"ux",get:function(){return this.vK}},{key:"gK",get:function(){return this.cK}},{key:"Wy",get:function(){return this.fK}}]),n}(Su),lB=function(){function t(t,n){this.Pc=void 0,this.nW=void 0,this.iW=void 0,this.Pc=t,this.iW=Ws(n,function(t){return Boolean(t.YB.match(/video/))}),this.nW=Ws(n,function(t){return Boolean(t.YB.match(/audio/))}),this.mK()}t.yK=function(n,i){for(var e=[],r=0;r<n.dW.length;r++){var s=n.dW[r].Nl;e.push(new fB(s,i))}return new t(n,e)};var n=t.prototype;return n.mK=function(){},n.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(qe.all([this.nW,this.iW].filter(H).map(function(t){return t.xs()})));case 2:case"end":return t.stop()}},null,this,null,qe)},n.cW=function(t){},n.lW=function(t,n,i,e){},n.vV=function(){var t,n;null==(t=this.nW)||t.vV(),null==(n=this.iW)||n.vV()},n.aV=function(){var t,n;null==(t=this.nW)||t.aV(),null==(n=this.iW)||n.aV()},n.CX=function(t){return t===this.Pc},n.PX=function(t){return this.Pc=t,qe.resolve()},T(t,[{key:"kK",get:function(){return[this.nW,this.iW].filter(H)}},{key:"KV",get:function(){return this.nW}},{key:"Km",get:function(){return zD(this)}},{key:"rc",get:function(){return this.Pc}},{key:"Hg",get:function(){return 0}},{key:"HX",get:function(){var t,n,i,e,r=null==(t=null==(n=this.nW)?void 0:n.HX())||t,s=null==(i=null==(e=this.iW)?void 0:e.HX())||i;return r&&s}},{key:"py",get:function(){return new yS([0,1/0])}},{key:"JV",get:function(){return this.iW}},{key:"Im",get:function(){throw new l("Not implemented")}}]),t}(),vB=e_.qk,dB=new e_(-1/0),wB=e_.Rp,gB=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.Rk=function(t,n){return t.Bk(n)?Os.Ds:t.lk(n)?Os.Is:Os.Rs},i.Sy=function(t,n){return t.Sy(n)},i.Mk=function(t,n){return t.Mk(n)},i.Pk=function(t,n){return t.Pk(n)},i.XN=function(){return vB},i.HN=function(){return wB},i.WN=function(){return dB},n.aC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new e_(t.start(e)),new e_(t.end(e)));return new n(i)},n.pK=function(t){for(var i=[],e=[],r=0;r<t.b_;r++)i.push(new e_(t.RN(r))),i.push(new e_(t.NN(r))),e.push(t.DN(r)),e.push(t.CN(r));return new n(i,e)},n.cC=function(t){return new n([t,t],[!0,!0])},i.MN=function(t,i){return new n(t,i)},i.xN=function(t){return t.Ep},n.fC=function(){return mB},n}(mS),mB=new gB([]),yB=function(t){function n(n){var i;return(i=t.call(this)||this).bK=!0,i.dK=new hB,i.AK=new cB,i.JR=void 0,i.Xq=void 0,i.TK=!0,i.SK=new na,i.kC=!1,i.Kq=qe.resolve(),i.Jq=new au,i.EK=!0,i.tY=yS.fC(),i.YZ=void 0,i.IK=void 0,i.cY=!1,i.rD=void 0,i.RK=function(){i.Wg||i.DK.b_<=0||i.Km.b_<=0||i.AK.oK(new e_(i.Km.NN(i.Km.b_-1)),i.DK.NN(i.DK.b_-1))},i.NK=function(){i.Qs(new Dy(i.Xg))},i.CK=function(){i.Qs(new Cy(i.Xg,i.Jm))},i.PK=function(){i.Qs(new Ry(i.Xg,i.Gg))},i.BK=function(){i.Qs(new By(i.Xg,i.Qg))},i.xK=function(){i.Qs(new Iy(i.Hg))},i.LK=function(){i.Qs(new Sk(i.Xg))},i.MK=function(){i.xu(i.Xg)},i.UK=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:i.EK&&i.Qs(new Ay(i.Xg)),i.TK=!1,i.EK=!0;case 3:case"end":return t.stop()}},null,null,null,qe)},i.XK=function(){i.TK=!0,i.Qs(new ky(i.Xg))},i.IK=n,i.Xq=new tN(Jt(i)),i.IK.setAttribute("id","player_video"),i.IK.setAttribute("x-webkit-airplay","deny"),i.IK.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.IK.playsInline=!0,i.IK.style.width="100%",i.IK.style.height="100%",i.HK(),i.FK(),i.YZ=uB(i.IK),i}E(n,t);var e=n.prototype;return e.HK=function(){this.IK.addEventListener("timeupdate",this.RK),this.IK.addEventListener("ended",this.NK),this.IK.addEventListener("timeupdate",this.CK),this.IK.addEventListener("ratechange",this.PK),this.IK.addEventListener("volumechange",this.BK),this.IK.addEventListener("durationchange",this.xK),this.IK.addEventListener("playing",this.LK),this.IK.addEventListener("seeking",this.MK),this.IK.addEventListener("play",this.UK),this.IK.addEventListener("pause",this.XK)},e.zK=function(){this.IK.removeEventListener("timeupdate",this.RK),this.IK.removeEventListener("ended",this.NK),this.IK.removeEventListener("timeupdate",this.CK),this.IK.removeEventListener("ratechange",this.PK),this.IK.removeEventListener("volumechange",this.BK),this.IK.removeEventListener("durationchange",this.xK),this.IK.removeEventListener("playing",this.LK),this.IK.removeEventListener("seeking",this.MK),this.IK.removeEventListener("play",this.UK),this.IK.removeEventListener("pause",this.XK)},e.FK=function(){this.Xq.Zs(_y.u_,this.js)},e.VK=function(){this.Xq.tu(_y.u_,this.js)},e.xu=function(t,n){this.Jq.Fs(),this.Jq=new au,this.Kq=this.rj(t,this.Kq,this.Jq.Ws).catch(K)},e.rj=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.tY=this.gy,r=null==(e=this.JR)?void 0:e.kK){u.next=4;break}return u.abrupt("return");case 4:return s=g.max.apply(g,r.map(function(t){return t.gK?t.gK.Ep:1/0})),this.kC=!0,this.Qs(new Py(t)),u.next=9,Fr.awrap(n.catch(K));case 9:if(fu(i),u.prev=10,this.bK||this.WK(),this.IK.load(),this.TK){u.next=17;break}return this.EK=!1,u.next=17,Fr.awrap(du(this.IK.play(),i));case 17:if(!(this.Y_<ey.Ng)){u.next=22;break}return u.next=20,Fr.awrap(this.Xq.au(_y.u_,i));case 20:u.next=17;break;case 22:this.SK.Wu(),this.bK=!1,this.kC=!1,this.Qs(new xy(this.Xg)),u.next=32;break;case 28:throw u.prev=28,u.t0=u.catch(10),this.SK.Gu(u.t0),u.t0;case 32:return u.prev=32,this.GK(),this.AK.hK(new e_(s)),u.finish(32);case 36:case"end":return u.stop()}},null,this,[[10,28,32,36]],qe)},e.Cm=function(){this.TK=!0,this.IK.pause()},e.Nm=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.TK){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.IK.src){t.next=9;break}return this.pj(),t.next=7,Fr.awrap(this.SK.Hu);case 7:t.next=11;break;case 9:return t.next=11,Fr.awrap(this.IK.play());case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.TK=!0,t.t0;case 17:case"end":return t.stop()}},null,this,[[2,13]],qe)},e.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.dK&&this.dK.sK().catch(K),this.Jq.Fs(),this.zK(),this.VK(),this.Xq.xs(),this.$s();case 6:case"end":return t.stop()}},null,this,null,qe)},e.k_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.dK&&this.dK.sK().catch(K),this.Jq.Fs(),this.IK.removeAttribute("src"),this.IK.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.IK.removeAttribute("x-airplay-deny"),this.IK.load(),this.Xq.k_(),this.tY=yS.fC();case 8:case"end":return t.stop()}},null,this,null,qe)},e.pj=function(){this.bj||(AB(this.IK,i.Lr),this.cY=!0)},e.WK=function(){var t,n=this.IK.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.IK.videoWidth/this.IK.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.IK.style.width=i+"px",this.IK.style.height=e+"px",this.IK.style.marginLeft=(r-i)/2+"px",this.IK.style.marginTop=(u-e)/2+"px",this.IK.style.backgroundColor="black"}},e.GK=function(){this.IK.style.width="100%",this.IK.style.height="100%",this.IK.style.marginLeft="",this.IK.style.marginTop="",this.IK.style.backgroundColor=""},e.MD=function(t,n,i,e){},e._E=function(t,n,i,e,r,s){},e.XX=function(t){},e.jD=function(){return OR(this.IK)},e.Fm=function(){this.IK.style.display="block"},e.zm=function(){this.IK.style.display="none"},e.mj=function(){},e.jh=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.fs!==vk.pE){i.next=2;break}throw new l("Not yet implemented");case 2:return i.next=4,Fr.awrap(this.dK.iK());case 4:return n={kind:oB.ZZ,mediaBufferConfigs:t.dW.map(function(t){return t.Nl})},i.next=7,Fr.awrap(this.dK.rK(n));case 7:return this.JR=lB.yK(t,this.dK),this.IK.preload="none",this.IK.src="https://theo.proxy/"+this.dK.Fc+"/master.m3u8",i.abrupt("return",this.JR);case 11:case"end":return i.stop()}},null,this,null,qe)},e.yj=function(){},e.yE=function(t){},e.HD=function(){},e.YD=function(t){},e.xD=function(){return!1},e.Aj=function(t){t.appendChild(this.IK)},e.Vm=function(){return this.IK},e.ZY=function(){},e.Zm=function(){},T(n,[{key:"SD",get:function(){return this.IK}},{key:"bW",get:function(){return!1}},{key:"Xg",get:function(){return this.IK.currentTime+this.AK.aK.Ep}},{key:"Wg",get:function(){return this.IK.paused}},{key:"Qg",get:function(){return this.IK.volume},set:function(t){this.IK.volume=t}},{key:"Gg",get:function(){return this.IK.playbackRate},set:function(t){this.IK.playbackRate=t}},{key:"qK",get:function(){return this.IK.defaultPlaybackRate}},{key:"Km",get:function(){var t,n;return null!=(t=null==(n=this.JR)?void 0:n.Km)?t:yS.fC()}},{key:"DK",get:function(){return gB.aC(this.IK.buffered)}},{key:"gy",get:function(){var t=yS.hC(this.YK);return this.tY.YN(t.Bu(this.AK.aK.Ep))}},{key:"YK",get:function(){return gB.aC(this.IK.played)}},{key:"qg",get:function(){return this.kC}},{key:"Hg",get:function(){return this.IK.duration}},{key:"Vg",get:function(){return this.IK.muted},set:function(t){this.IK.muted=t}},{key:"gZ",get:function(){return this.IK.style}},{key:"Sj",get:function(){return Ur({},LC,{yX:!0,kX:300})}},{key:"Y_",get:function(){return this.Xq.Y_}},{key:"Yg",get:function(){return this.IK.videoHeight}},{key:"jg",get:function(){return this.IK.videoWidth}},{key:"Fg",get:function(){return this.IK.ended}},{key:"sT",get:function(){return this.IK.height||this.IK.clientHeight}},{key:"Tk",get:function(){return this.IK.width||this.IK.clientWidth}},{key:"iy",get:function(){return!1}},{key:"bj",get:function(){return this.cY}},{key:"Jm",get:function(){}},{key:"NU",get:function(){}},{key:"mu",get:function(){}},{key:"XD",get:function(){return this.YZ}},{key:"py",get:function(){return this.JR?this.JR.py:yS.fC()}},{key:"QD",get:function(){}},{key:"Rm",get:function(){}},{key:"PU",get:function(){}},{key:"Ay",get:function(){return!1},set:function(t){}},{key:"Tj",get:function(){return"block"===this.IK.style.display}},{key:"ED",get:function(){return this.rD},set:function(t){this.rD=t}},{key:"xq",get:function(){}}]),n}(Su),pB=2,_B=[fp.dd,fp.wd];function bB(t){var n=s.createElement(t);return lr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),kB(n),n}function kB(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),vr(t),t.pause(),t.playbackRate=1,t.preload=cS.dN,t.controls=!1,t.style.display="none",lr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function AB(t,n){if(n.xe){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();Y(e)&&pu(e),t.pause()}}var TB,SB,EB;function IB(t){return{get bandwidth(){return t.NR},get codecs(){return t.HF},get id(){return t.P_},get uid(){return t.B_},get name(){return t.x_},get averageBandwidth(){return t.jK},get label(){return t.x_},set label(n){t.x_=Rm(n)},get height(){return t.sT},get width(){return t.Tk},get frameRate(){return t.QK},get firstFrame(){return t.ZK},get available(){return t.KK},addEventListener:function(n,i){t.Zs(n,i)},removeEventListener:function(n,i){t.tu(n,i)}}}function RB(t){return{get bandwidth(){return t.NR},get codecs(){return t.HF},get id(){return t.P_},get uid(){return t.B_},get name(){return t.x_},get averageBandwidth(){return t.jK},get label(){return t.x_},set label(n){if(!G(n))throw new l("Unexpected - The provided label is not a string");t.x_=n},get audioSamplingRate(){return t.JK},get available(){return t.KK},addEventListener:function(n,i){t.Zs(n,i)},removeEventListener:function(n,i){t.tu(n,i)}}}function CB(t,n){return[t,void 0!==n?t+n-1:Mt]}function DB(t){return Boolean(t.JA)}function NB(t){return Boolean(t.$K)}le=(TB={tJ:function(){function t(t,n,i,e,r){void 0===i&&(i=pB),void 0===e&&(e=_B),void 0===r&&(r=Ef()),this.nJ=void 0,this.iJ=void 0,this.ys=void 0,this.eJ=void 0,this.Lq=void 0,this.AC=void 0,this.rJ=void 0,this.nJ=i,this.iJ=[].concat(e),this.ys=r,this.Lq=t,this.AC=n,this.eJ=Xr(),this.sJ()}var n=t.prototype;return n.EC=function(t){for(var n=0,i=this.RC;n<i.length;n++){i[n].Aj(t)}},n.TD=function(t){var n=Ws(this.eJ.get(t),function(t){return t.KK});if(n)return n.KK=!1,n.uJ},n.oJ=function(t){if(!this.rJ)throw new l("Error creating iOS Safari MediaController");return this.rJ},n.VD=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.SD,i=n.tagName.toLowerCase(),r.next=4,Fr.awrap(t.k_());case 4:kB(n),(e=Ws(this.eJ.get(i)||[],function(n){return t===n.uJ}))&&(e.KK=!0);case 7:case"end":return r.stop()}},null,this,null,qe)},n.IC=function(){for(var t=0,n=this.RC;t<n.length;t++){n[t].pj()}},n.Sd=function(){for(var t=0,n=this.RC;t<n.length;t++){var i=n[t],e=i.SD;i.xs(),kB(e),nr(e)}},n.sJ=function(){for(var t=0,n=this.iJ;t<n.length;t++){var i=n[t],e=[];this.eJ.set(i,e);for(var r=0;r<this.nJ;r++){var s=bB(i),u=i===fp.dd?new tx(s,this.ys,this.Lq):new aB(s,this.ys,this.Lq,this.AC);e.push({uJ:u,KK:!0})}}if(j.Bn&&j.hn){var o=bB(fp.wd);this.rJ=new yB(o)}},T(t,[{key:"RC",get:function(){for(var t=[],n=0,i=this.iJ;n<i.length;n++){var e=i[n],r=this.eJ.get(e).map(function(t){return t.uJ});t.push.apply(t,r)}return this.rJ&&t.push(this.rJ),t}}]),t}(),aJ:function(){function t(n){var i=this;this.hJ=new mC,this.cJ=function(){var n,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=i.pC.TD(fp.wd),e=n.SD,s.next=4,Fr.awrap(t.fJ(e));case 4:return r=s.sent,s.next=7,Fr.awrap(i.pC.VD(n));case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,null,null,qe)},this.pC=n}var n=t.prototype;return n.lX=function(){return this.hJ.ZU(this.cJ)},n.Um=function(){this.pC.IC()},t.fJ=function(n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!j.En&&!j.Tn){i.next=2;break}return i.abrupt("return","all");case 2:return n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),i.next=5,Fr.awrap(t.vJ());case 5:return i.next=7,Fr.awrap(t.lJ(n));case 7:if(!i.sent){i.next=9;break}return i.abrupt("return","all");case 9:return i.next=11,Fr.awrap(t.dJ(n));case 11:if(!i.sent){i.next=13;break}return i.abrupt("return","muted");case 13:return i.abrupt("return","none");case 14:case"end":return i.stop()}},null,null,null,qe)},t.lJ=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.play(),e.prev=1,Y(n)){e.next=4;break}return e.abrupt("return",!j.dn);case 4:return i=bu(100),e.next=7,Fr.awrap(qe.race([n,i]));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",!1);case 13:return e.prev=13,t.pause(),e.finish(13);case 16:case"end":return e.stop()}},null,null,[[1,10,13,16]],qe)},t.dJ=function(n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.muted=!0,e.next=3,Fr.awrap(t.lJ(n));case 3:return i=e.sent,n.muted=!1,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,null,null,qe)},t.vJ=function(){return new qe(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else a(t,0)})},n.Sd=function(){this.hJ.Sd()},t}(),wJ:{uO:function(t){we.addEventListener("beforeunload",t)},gO:function(t){we.removeEventListener("beforeunload",t)}},_J:r}).tJ,ve=TB.aJ,de=TB.wJ,we=TB._J,ge=we&&we.location,me=we&&we.navigator,function(t){t.gJ="currentbufferingrenditionchange",t.mJ="yJ",t.kJ="pJ",t.bJ="AJ"}(SB||(SB={})),function(t){t[t.dd=0]="dd",t[t.wd=1]="wd",t[t.Qb=2]="Qb",t[t.TJ=3]="TJ"}(EB||(EB={}));var PB,xB,BB,OB=[EB.dd,EB.wd,EB.Qb,EB.TJ];function LB(t){return t?t.SJ?t.Ai+"@"+t.SJ.RN+"-"+(null!=(n=t.SJ.b_)?n:""):""+t.Ai:"";var n}function MB(t,n){if(n===t)return!0;if(n.Ai!==t.Ai)return!1;if(!t.SJ)return!0;if(n.SJ){var i=CB(t.SJ.RN,t.SJ.b_),e=CB(n.SJ.RN,n.SJ.b_);return i[0]<=e[0]&&i[1]>=e[1]}return!1}function jB(t,n){return t===n||t.Ai===n.Ai&&(Boolean(t.SJ)===Boolean(n.SJ)&&(!t.SJ||!n.SJ||t.SJ.RN===n.SJ.RN&&t.SJ.b_===n.SJ.b_))}function FB(t){var n=!!t.EJ||void 0;return{P_:t.P_,IJ:t.IJ,QD:t.QD,RJ:t.RJ,Hg:t.Hg,DJ:t.DJ,EJ:n,NJ:t.CJ,PJ:t.BJ,OJ:t.OJ,xJ:t.xJ}}!function(t){t[t.LJ=0]="LJ",t[t.MJ=1]="MJ"}(PB||(PB={})),function(t){t[t.wN=0]="wN",t[t.UJ=1]="UJ",t[t.XJ=2]="XJ"}(xB||(xB={})),function(t){t[t.Kl=0]="Kl",t[t.HJ=1]="HJ",t[t.FJ=2]="FJ"}(BB||(BB={}));var UB=function(t,n){this.B_=void 0,this.zJ=void 0,this.fs=void 0,this.VJ=void 0,this.WJ=void 0,this.GJ=void 0,this.wi=void 0,this.L_=void 0,this.qJ=void 0,this.YJ=void 0,this.jJ=void 0,this.B_=_p(),this.zJ=n,this.fs=t.fs,this.VJ=t.VJ,this.WJ=t.WJ,this.GJ=t.GJ,this.wi=t.wi,this.L_=t.L_,this.qJ=t.qJ,this.YJ=t.YJ,this.jJ=void 0===t.QJ};function HB(t,n){return t.fs===n.fs&&(t.wi===n.wi||!(!XB(t)||!XB(n)))}function XB(t){return t.fs===EB.wd&&t.VJ&&t.jJ&&void 0===t.L_}function VB(t,n){return t.zJ===n.zJ}function zB(t,n){for(var i=0;i<t.length;i++){if(VB(t[i],n))return!0}return!1}var WB,qB,GB=function(t){function n(n,i){var e;return(e=t.call(this,um.l_)||this).M_=void 0,e.Yw=void 0,e.M_=n||[],e.Yw=i,e}return E(n,t),n.prototype.qw=function(){return new $B(this.M_.map(function(t){return t.Gw}))},n}(rm),$B=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return E(n,t),n}(Iu);!function(t){t.ZJ="alternative",t.KJ="main",t.JJ="commentary",t.$J="",t.tE="descriptions",t.t$="main-desc",t.n$="translation"}(WB||(WB={})),function(t){t.ZJ="alternative",t.KJ="main",t.JJ="commentary",t.$J="",t.$S="captions",t.i$="sign",t.Qb="subtitles"}(qB||(qB={}));var YB=function(t){function n(n,i,e){var r;return(r=t.call(this,um.f_)||this).e$=n,r.r$=i,r.s$=e,r}return E(n,t),n.prototype.qw=function(){return new QB(this.e$&&this.e$.Gw)},n}(rm),QB=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return E(n,t),n}(Iu);function ZB(t){return{NR:t.NR,$e:t.HF,sT:KB(t)?t.sT:0,fs:KB(t)?fp.wd:fp.dd,Tk:KB(t)?t.Tk:0}}function KB(t){var n=t;return void 0!==n.sT&&void 0!==n.Tk}var JB,tO=function(t){function n(){return t.call(this,um.NO_QUALITY)||this}return E(n,t),n}(Iu),nO=function(t){function n(n,i,e){var r,s,u;(u=t.call(this)||this).Ry=void 0,u.oa=void 0,u.u$=void 0,u.o$=void 0,u.a$=void 0,u.Ww=void 0,u.Dy=void 0,u.h$=function(){var t=u.N_;t&&u.o$!==t&&(u.o$=t,u.Qs(new YB(t)))},u.c$=function(){var t=u.C_;u.a$!==t&&(u.a$=t,u.f$.Qs(new dm(Jt(u))),u.Qs(new dm(Jt(u))))},u.mN=n,u.f$=i,u.M_=e,u.o$=u.N_,u.a$=u.C_;var o=e.__(0);return u.Ry=null!=(r=null==o?void 0:o.v$.wi)?r:"",u.oa=null!=(s=null==o?void 0:o.v$.L_)?s:"",u.Dy=mp(),u.mN.Zs(SB.gJ,u.h$),u.mN.Zs(SB.mJ,u.c$),u}E(n,t);var e=n.prototype;return e.Py=function(t){this.C_=t},e.Sd=function(){this.$s(),this.mN.tu(SB.gJ,this.h$),this.mN.tu(SB.mJ,this.c$);for(var t=0,n=this.M_.p_;t<n.length;t++){n[t].Sd()}this.M_.k_()},T(n,[{key:"C_",get:function(){var t=this.l$();if(!t)return!1;for(var n=0,i=this.M_.p_;n<i.length;n++){if(i[n].v$===t)return!0}return!1},set:function(t){if(t!==this.C_&&t){for(var n=this.M_.__(0).v$,i=this.mN.d$,e=0,r=this.M_.p_;e<r.length;e++){var s=r[e];if(s.w$===i){n=s.v$;break}}this._$(n)}}},{key:"N_",get:function(){if(this.C_)for(var t=this.mN.g$,n=0,i=this.M_.p_;n<i.length;n++){var e=i[n];if(zB(t,e.v$))return e}}},{key:"Gw",get:function(){return this.Ww||(this.Ww=Bm(this)),this.Ww}},{key:"P_",get:function(){return this.Dy.toString()}},{key:"B_",get:function(){return this.Dy}},{key:"x_",get:function(){return this.Ry},set:function(t){t!==this.Ry&&(this.Ry=t,this.Qs(new dp(this)))}},{key:"L_",get:function(){return this.oa}},{key:"W_",get:function(){return this.C_?"enabled":"disabled"}},{key:"U_",get:function(){return this.u$},set:function(t){var n=this,e=[];t?e=t.filter(function(t){var e=n.N_?ZB(n.N_):void 0;return i.Lr.Me(e,ZB(t))}).filter(function(i){return n.M_.Ey(t)&&i.KK}):e=this.M_.p_.filter(function(t){return t.KK});0!==e.length?t!==this.u$&&(this.u$&&Js(this.u$,e)||(this.u$=t?e:void 0,this.mN.m$(e.map(function(t){return t.w$})),1===e.length&&pu(this.mN.y$(e[0].w$,!1)),this.Qs(new GB(e,this)))):this.Qs(new tO)}}]),n}(Su),iO=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.l$=function(){return this.mN.k$},i._$=function(t){pu(this.mN.p$(t))},T(n,[{key:"O_",get:function(){return WB.KJ}}]),n}(nO),eO=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.l$=function(){return this.mN.b$},i._$=function(t){pu(this.mN.A$(t))},T(n,[{key:"O_",get:function(){return qB.KJ}}]),n}(nO),rO=function(t){function n(n,i){var e;return(e=t.call(this)||this).KK=!0,e.w$=n,e.v$=i,e}E(n,t);var i=n.prototype;return i.hE=function(){},i.Sd=function(){this.$s()},T(n,[{key:"P_",get:function(){return String(this.w$.P_)}},{key:"B_",get:function(){return this.w$.P_}},{key:"NR",get:function(){return this.w$.NR}},{key:"jK",get:function(){return this.w$.jK}},{key:"x_",get:function(){return this.v$.wi}},{key:"QJ",get:function(){return this.v$.zJ.T$()}}]),n}(Su),sO=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Ww=void 0,e}return E(n,t),n.prototype.qw=function(){return RB(this)},T(n,[{key:"JK",get:function(){return 0}},{key:"HF",get:function(){var t;return(null==(t=this.w$.HF)?void 0:t.XF)||""}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}}]),n}(rO),uO=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Ww=void 0,e}return E(n,t),n.prototype.qw=function(){return IB(this)},T(n,[{key:"HF",get:function(){var t;return(null==(t=this.w$.HF)?void 0:t.UF)||""}},{key:"ZK",get:function(){return 0}},{key:"QK",get:function(){return 0}},{key:"sT",get:function(){var t,n;return null!=(t=null==(n=this.w$.S$)?void 0:n.sT)?t:0}},{key:"Tk",get:function(){var t,n;return null!=(t=null==(n=this.w$.S$)?void 0:n.Tk)?t:0}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}}]),n}(rO);!function(t){t.E$="FATAL",t.z_="ERROR",t.I$="WARNING",t.R$="INFO",t.D$="DEBUG"}(JB||(JB={}));var oO,aO=new(function(){function t(){this.C_=function(){return!1}}var n=t.prototype;return n.N$=function(t){if(!this.C_())return!1;var n=[];return!(n.length>0)||n.some(function(n){return n.toLowerCase()===t.toLowerCase()})},n.C$=function(t){if(this.N$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i._r.apply(i,[JB.D$+" "+t+" -"].concat(e))}},n.cT=function(t){if(this.N$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i._r.apply(i,[JB.R$+" "+t+" -"].concat(e))}},n.P$=function(t){if(this.N$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.gr.apply(i,[JB.I$+" "+t+" -"].concat(e))}},n.mu=function(t){if(this.N$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.yr.apply(i,[JB.z_+" "+t+" -"].concat(e))}},n.B$=function(t){if(this.N$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.yr.apply(i,[JB.E$+" "+t+" -"].concat(e))}},t}()),hO="HLSPlaylistParser",cO=function(){function t(t,n,i){this.mN=t,this.O$=n,this.x$=i}var n=t.prototype;return n.L$=function(){var t,n,i=null==(t=this.mN.M$)?void 0:t.U$;if(i&&0!==i.length){for(var e=null!=(n=Ws(i,function(t){return 0!==t.X$.length&&0!==t.H$.length}))?n:i[0],r=i.filter(function(t){return t!==e}),s=0,u=e.X$;s<u.length;s++){var o=u[s],a=new vp,h=[];a.Sy(new sO(e,o)),h.push(o);for(var c=0;c<r.length;c++)for(var f=r[c],l=0,v=f.X$;l<v.length;l++){var d=v[l];if(HB(d,o)&&!zB(h,d)){a.Sy(new sO(f,d)),h.push(d);break}}this.O$.g_(new iO(this.mN,this.O$,a))}for(var w=0,g=e.H$;w<g.length;w++){var m=g[w],y=new vp,p=[];y.Sy(new uO(e,m)),p.push(m);for(var _=0;_<r.length;_++)for(var b=r[_],k=0,A=b.H$;k<A.length;k++){var T=A[k];if(HB(T,m)&&!zB(p,T)){y.Sy(new uO(b,T)),p.push(T);break}}this.x$.g_(new eO(this.mN,this.x$,y))}}else aO.P$("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.F$=function(){this.z$(this.O$),this.z$(this.x$)},n.z$=function(t){for(var n=[],i=0,e=t.p_;i<e.length;i++){for(var r=e[i],s=[],u=0,o=r.M_.p_;u<o.length;u++){var a=o[u];Qs(a.w$.V$,a.v$)||s.push(a)}for(var h=0;h<s.length;h++){var c=s[h];r.M_.Qh(c),c.Sd()}0===r.M_.b_&&n.push(r)}for(var f=0;f<n.length;f++){var l=n[f];t.m_(l),l.Sd()}},t}(),fO=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).TC=void 0,e.TC=i,e}return E(n,t),n.prototype.Yl=function(t){var n,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=new dw(t),e=this.TC.Jx.DR(n)){o.next=4;break}return o.abrupt("return",this.lE.Yl(n));case 4:return e.$x(i.ir()/1e3),o.next=7,Fr.awrap(this.lE.Yl(t));case 7:return r=o.sent,e.tL(i.ir()/1e3),s=r.Dl().pipeThrough(new Rd(new lO(e))),u={Fi:s,Yl:r.Yl},o.abrupt("return",new vw(u,r));case 12:case"end":return o.stop()}},null,this,null,qe)},n}(function(){function t(t){this.lE=void 0,this.lE=t}var n=t.prototype;return n.Yl=function(t){return this.lE.Yl(t)},n.Td=function(t){this.lE.Td(t)},n.Sd=function(){this.lE.Sd()},t}()),lO=function(){function t(t){this.qM=void 0,this.W$=t}var n=t.prototype;return n.start=function(t){this.qM=t},n.transform=function(t){this.W$.nL(i.ir()/1e3,t),this.qM.enqueue(t)},n.flush=function(){this.W$.iL(i.ir()/1e3)},t}(),vO=function(){function t(t){this.G$=void 0,this.q$=0,this.Y$=0,this.G$=g.exp(g.log(.5)/t)}var n=t.prototype;return n.j$=function(t,n){var i=g.pow(this.G$,t),e=n*(1-i)+i*this.q$;p(e)||(this.q$=e,this.Y$+=t)},n.PX=function(t){var n=g.exp(g.log(.5)/t);if(n!==this.G$)if(0!==this.Y$){var i=this.oK,e=1-g.pow(n,this.Y$);this.q$=i*e,this.G$=n}else this.G$=n},T(t,[{key:"oK",get:function(){var t=1-g.pow(this.G$,this.Y$);return this.q$/t}}]),t}();!function(t){t.Q$="sample"}(oO||(oO={}));var dO=function(t){function n(i,e,r,s){var u;return void 0===r&&(r=n.Z$),void 0===s&&(s=n.K$),(u=t.call(this)||this).J$=void 0,u.n0=void 0,u.i0=0,u.e0=void 0,u.r0=void 0,u.r0=r,u.J$=new vO(i),u.n0=new vO(e),u.e0=s,u}E(n,t);var i=n.prototype;return i.s0=function(t,n,i){if(0!==t){var e=8*n/t;this.J$.j$(i,e),this.n0.j$(i,e),this.i0+=n,this.Qs(new Iu(oO.Q$))}},i.u0=function(){return this.i0>=this.r0},T(n,[{key:"oK",get:function(){return this.u0()?g.min(this.J$.oK,this.n0.oK):this.e0}}]),n}(Su);dO.Z$=128e3,dO.K$=5e5;var wO=function(){function t(n,i,e,r){void 0===n&&(n=t.o0),void 0===i&&(i=t.a0),void 0===e&&(e=t.K$),void 0===r&&(r=!1),this.J$=void 0,this.n0=void 0,this.h0=0,this.c0=[],this.f0=void 0,this.v0=6e4,this.l0=10,this.d0=void 0,this.w0=void 0,this.e0=void 0,this._0=void 0,this.d0=n,this.w0=i,this.e0=e,this._0=r,this.J$=new vO(n),this.n0=new vO(i)}var n=t.prototype;return n.j$=function(t){var n=i.ir(),e=t;this._0&&void 0!==this.f0&&n-this.f0>=this.v0&&this.k_(),this.h0+=1,this.J$.j$(1,e),this.n0.j$(1,e),this.c0.push(e),this.c0.length>this.l0&&this.c0.shift(),this.f0=n},n.u0=function(){return void 0!==this.f0&&i.ir()-this.f0<=this.v0},n.k_=function(){this.J$=new vO(this.d0),this.n0=new vO(this.w0),this.h0=0,this.c0=[],this.f0=void 0},T(t,[{key:"oK",get:function(){return this.u0()?g.max(this.J$.oK,this.n0.oK):this.e0}}]),t}();wO.o0=2,wO.a0=5,wO.K$=.1;var gO=function(){function t(t){this.g0=t}var n=t.prototype;return n.$x=function(t){for(var n=0,i=this.g0;n<i.length;n++){i[n].$x(t)}},n.tL=function(t){for(var n=0,i=this.g0;n<i.length;n++){i[n].tL(t)}},n.nL=function(t,n){for(var i=0,e=this.g0;i<e.length;i++){e[i].nL(t,n)}},n.iL=function(t){for(var n=0,i=this.g0;n<i.length;n++){i[n].iL(t)}},t}(),mO=function(){function t(t){this.m0=void 0,this.y0=void 0,this.m0=t}var n=t.prototype;return n.$x=function(t){this.y0=t},n.tL=function(t){this.m0.j$(t-this.y0)},n.nL=function(t){},n.iL=function(t){},t}(),yO=function(){function t(t){this.k0=void 0,this.p0=void 0,this.b0=[],this.k0=t}var n=t.prototype;return n.nL=function(t,n){if(void 0!==this.p0){var i=t-this.p0,e=this.b0.length>0?this.b0.reduce(function(t,n){return n+t},0)/this.b0.length:0;i>e/2&&i<e+e/2&&this.k0.j$(i,n.length),this.b0.push(i),this.b0.length>100&&this.b0.shift(),this.p0=t}else this.p0=t},n.$x=function(t){},n.tL=function(t){},n.iL=function(t){},t}(),pO=function(){function t(t,n){void 0===n&&(n=0),this.k0=void 0,this.A0=void 0,this.T0=new _O,this.DG=0,this.S0=0,this.k0=t,this.A0=n}var n=t.prototype;return n.$x=function(t){},n.nL=function(t,n){var e=n.byteLength,r=this.S0;this.S0=e;var s=t-this.DG;this.DG=t,this.T0.TH(n);var u=!this.T0.E0(),o=e>=this.A0;r!==i.Lr.Qe&&u&&o&&this.k0.j$(s,e)},n.tL=function(t){this.DG=t},n.iL=function(t){},t}(),_O=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).I0=void 0,n.R0=!1,n}E(n,t);var i=n.prototype;return i.E0=function(){return this.R0},i.TH=function(n){this.R0=!1,t.prototype.TH.call(this,n)},i.bH=function(n,i){this.I0&&this.I0!==m_.Fb||(this.R0=!0),t.prototype.bH.call(this,n,i),this.I0=n},i.PH=function(t){return!1},i.OH=function(t){},i.xH=function(t){},n}(KC),bO=function(t){function n(i,e,r,s){return void 0===i&&(i=n.o0),void 0===e&&(e=n.a0),t.call(this,i,e,r,s)||this}return E(n,t),n.prototype.j$=function(t,n){this.s0(t,n,t)},n}(dO);bO.o0=.5,bO.a0=5;var kO=function(){function t(t){this.k0=void 0,this.D0=void 0;var n=t.NR>0?t.NR:dO.K$,i=t.PR>0?t.PR:wO.K$;this.k0=new bO(bO.o0,bO.a0,1,n),this.D0=new wO(wO.o0,wO.a0,i)}var n=t.prototype;return n.DR=function(t){if("segment"===t.fs)return new gO([new mO(this.D0),new yO(this.k0),new gO([new yO(this.k0),new pO(this.k0,1e3)])])},n.N0=function(t){this.k0=new bO(bO.o0,bO.a0,1,t)},T(t,[{key:"NR",get:function(){return this.k0.oK}},{key:"PR",get:function(){return this.D0.oK}}]),t}(),AO=function(t){function n(n){var i;return(i=t.call(this,SB.bJ)||this).mu=n,i}return E(n,t),n}(Iu),TO=function(){function t(t){this.uJ=t}return t.prototype.XX=function(t){var n={fs:vk.bE,ND:[],dW:[{Nl:t}]};return qe.resolve(void 0!==this.uJ.XX([n]))},t}(),SO=function(t,n,i,e,r){return qe.resolve(t.filter(function(t){return!!Qs(r,t)||1.1*t.NR<=i.NR}))},EO=function(t,n,i,e,r){return qe.resolve(t.filter(function(t){if(Qs(r,t))return!0;for(var s=1/0,u=0,o=t.V$;u<o.length;u++){var a,h,c=o[u];s=g.min(s,null!=(a=null!=(h=c.zJ.C0)?h:c.zJ.P0)?a:1/0)}s===1/0&&(s=1);var f=3*i.PR+t.NR*s/i.NR;return t.NR<=n.NR||e>f}))},IO=function(t,n,i,e,r){return qe.resolve(Ms(t,function(t,n){return n.NR-t.NR}))},RO=function(t,n,i,e,r){return qe.resolve(t.every(function(t){return t.B0&&!p(t.B0)})?Ms(t,function(t,n){return n.B0-t.B0}):t)},CO=function(t,n,i,e,r){return qe.resolve(Ms(t,function(t,n){var i=Qs(r,t)?1:0;return(Qs(r,t)?1:0)-i}))},DO=function(t,n,i,e,r){return qe.resolve(t.filter(function(t){return!t.HF||!n.HF||(t.HF.UF?!!n.HF.UF&&(t.HF.UF.split(".")[0]===n.HF.UF.split(".")[0]&&(t.HF.XF?!!n.HF.XF&&(t.HF.XF.split(".")[0]===n.HF.XF.split(".")[0]&&t.HF.FF===n.HF.FF):!n.HF.XF)):!n.HF.UF)}))},NO=function(){function t(t){this.O0=[DO,SO,EO,IO,RO,CO],this.TC=t}var n=t.prototype;return n.x0=function(t){this.O0=t},n.L0=function(t,n,i,e){var r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(t.length){h.next=2;break}throw new l("AbrEvaluator - Unable to select optimal variant stream from an empty list.");case 2:aO.C$("AbrEvaluator","Performing optimal variant stream selection."),r=this.M0,s=t,u=0,o=this.O0;case 6:if(!(u<o.length)){h.next=14;break}return a=o[u],h.next=10,Fr.awrap(a(s,n,r,i,e));case 10:s=h.sent;case 11:u++,h.next=6;break;case 14:if(s.length){h.next=17;break}return aO.P$("AbrEvaluator","No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),h.abrupt("return",nu(t,function(t){return t.NR}));case 17:return h.abrupt("return",s[0]);case 18:case"end":return h.stop()}},null,this,null,qe)},T(t,[{key:"M0",get:function(){return this.TC.Jx}}]),t}();function PO(t,n,i,e){var r=[],s=Ws(i,function(t){return t.U0===Jr});if(void 0!==s){var u=s.Ai?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.Ai.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var a=i[o];if(a.U0!==Jr)for(var h=0,c=_s(a.U0);h<c.length;h++){var f=c[h];r.push({ec:f,MR:a.X0?[a.X0]:[],KI:void 0})}}if(r.length)return{HE:t,H0:{F0:u,FE:s.FE},z0:r,V0:n===fp.dd?e.slice():[],W0:n===fp.wd?e.slice():[],Dq:!1}}}}function xO(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=Xr();return BO(e,r,t.z0),BO(e,r,n.z0),{HE:t.HE,H0:{F0:t.H0.F0,FE:null!=(i=t.H0.FE)?i:n.H0.FE},z0:e,V0:OO(t.V0,n.V0,Qs),W0:OO(t.W0,n.W0,Qs),Dq:t.Dq||n.Dq||!1}}function BO(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.ec._s,u=void 0;n.has(s)?(u=n.get(s)).MR=OO(u.MR,r.MR,LO):(u=Ur({},r),t.push(u),n.set(s,u))}}function OO(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function LO(t,n){for(var i=0;i<t.length;i++){if(Gu(t[i],n))return!0}return!1}function MO(t,n){var i,e=t.G0;if(e){for(var r=t.YB,s=[],u=0,o=t.HF;u<o.length;u++){var a=o[u];s.push(r+'; codecs="'+a+'"')}i=PO(n||{},t.fs,e,s)}for(var h=0,c=t.q0;h<c.length;h++){i=xO(i,jO(c[h],n))}return i}function jO(t,n){return PO(n||{},t.fs,t.G0||[],[t.Nl])}function FO(t,n){switch(n.fs){case Kr.$r:return t.widevine;case Kr.Jr:return t.playready;case Kr.us:return t.fairplay;case Kr.rs:return t.clearkey}}function UO(t,n,i){if(0!==t.length)return t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:i}})}function HO(t,n,i,e){var r,s,u,o,a,h,c,f,l;return Fr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(t){v.next=2;break}return v.abrupt("return",[]);case 2:return r=n.filter(function(t){return ks(t,"audio")}),s=n.filter(function(t){return ks(t,"video")}),u=[],o=i.map(function(t){return XO(t,e)}),v.next=8,Fr.awrap(qe.all(o));case 8:for(a=v.sent.filter(H),h=zO(a,t.preferredKeySystems),c=0;c<h.length;c++)f=h[c],l=FO(t,f.ec),"cbcs",u.push({ec:f.ec,MR:f.MR,KI:f.KI,WD:[{initDataTypes:[f.ec.ls],audioCapabilities:UO(r,"cbcs",null==l?void 0:l.audioRobustness),videoCapabilities:UO(s,"cbcs",null==l?void 0:l.videoRobustness),persistentState:null==l?void 0:l.persistentState,distinctiveIdentifier:null==l?void 0:l.distinctiveIdentifier}]});return v.abrupt("return",u);case 12:case"end":return v.stop()}},null,null,null,qe)}function XO(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.QJ){s.next=2;break}return s.abrupt("return");case 2:if(t.Y0){s.next=4;break}return s.abrupt("return");case 4:if(t.md===xB.XJ){s.next=6;break}return s.abrupt("return");case 6:if(i=VO(t.Y0)){s.next=9;break}return s.abrupt("return");case 9:if(i._s!==fs){s.next=13;break}return s.abrupt("return",{ec:i,MR:[],KI:t.QJ});case 13:return aO.cT("HLSDrmUtils","Fetching key uri "+t.QJ+"."),s.next=16,Fr.awrap(n.Yl({Ql:t.QJ}));case 16:return e=s.sent,s.next=19,Fr.awrap(e.Rl());case 19:return r=s.sent,s.abrupt("return",{ec:i,MR:[r],KI:void 0});case 21:case"end":return s.stop()}},null,null,null,qe)}function VO(t){return t===os?ws:t===ss?ds:t===vs?ms:void 0}function zO(t,n){var i=function(t){var i=n.indexOf(t.ec._s);return i>=0?i:n.length};return Ms(t,function(t,n){return i(t)-i(n)})}function WO(t){if("#"!==t[0])throw new l("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function qO(t){return"#"!==t[0]?t:t.split(":",1)[0]}function GO(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new l("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function $O(t){var n=JO(GO(t));if(void 0===n)throw new l("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function YO(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,e=i.exec(t);null!==e;){var r=e[1],s=void 0;s=void 0!==e[3]?e[3]:e[2],null!==r?n[r]=s:aO.P$(hO,"Ignoring unparsable M3U8 attribute name: "+t+"."),e=i.exec(t)}return n}function QO(t,n){var e,r,s=YO(t);try{e=s.URI?i.Or(s.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return EB.dd;case"VIDEO":return EB.wd;case"SUBTITLES":return EB.Qb;case"CLOSED-CAPTIONS":return EB.TJ}throw new l("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(s.TYPE)}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=s["GROUP-ID"],o=s.LANGUAGE,a=s["ASSOC-LANGUAGE"],h=s.NAME,c="YES"===s.DEFAULT,f="YES"===s.AUTOSELECT,v="YES"===s.FORCED,d=s["INSTREAM-ID"],w=s.CHARACTERISTICS,g=s.CHANNELS;if(u||aO.P$(hO,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),o||aO.P$(hO,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),h||aO.P$(hO,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===EB.TJ?(e&&aO.P$(hO,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),d?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(d)||aO.P$(hO,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):aO.P$(hO,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):d&&aO.P$(hO,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!f&&(f=!0,s.AUTOSELECT&&aO.P$(hO,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),r===EB.Qb&&s.FORCED&&aO.P$(hO,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===h)throw new l("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{j0:a,Q0:g,Z0:w,qJ:u,WJ:f,VJ:c,GJ:v,YJ:d,L_:o,wi:h,fs:r,QJ:e}}function ZO(t,n,e){var r,s,u,o=YO(t);try{r=i.Or(e,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),e=Number(n[1]);if(p(i)||p(e))throw new l("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{Tk:i,sT:e}}(o.RESOLUTION),s=function(t){if(!t)return;for(var n,i,e,r=t.toLowerCase().split(","),s=0;s<r.length;s++){var u=r[s],o=u.trim();As(o,"mp4a")?n="mp4a.40.05"===o?"mp4a.40.5":"mp4a.40.02"===o?"mp4a.40.2":o:"ac-3"===o||"ec-3"===o?n=o:As(o,"avc")||As(o,"hvc1")||As(o,"hev1")||As(o,"dvh")?i=u:e=e?e+","+o:o}return{XF:n,UF:i,FF:e}}(o.CODECS)}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var a=JO(o.BANDWIDTH),h=JO(o["AVERAGE-BANDWIDTH"]),c=JO(o.SCORE),f=JO(o["FRAME-RATE"]),v=o["HDCP-LEVEL"],d=[];if(void 0!==o["ALLOWED-CPC"]){var w=o["ALLOWED-CPC"].split(",");d.push.apply(d,w.map(function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))}var g=o["VIDEO-RANGE"],m=o.AUDIO,y=o.VIDEO,_=o.SUBTITLES,b=o["CLOSED-CAPTIONS"];if(void 0===a?aO.P$(hO,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==h&&h>a&&aO.P$(hO,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),s||aO.cT(hO,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),s&&s.UF&&void 0===u&&aO.cT(hO,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===v||Qs(["TYPE-0","TYPE-1","NONE"],v)||aO.P$(hO,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===g||Qs(["SDR","PQ","HLG"],g)||aO.P$(hO,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===a)throw new l("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{K0:d,J0:m,jK:h,NR:a,$0:b,HF:s,QK:f,n1:v,S$:u,B0:c,i1:_,QJ:r,e1:y,s1:g}}function KO(t,n){var i=YO(t);if(!i.URI)throw new l("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return ZO(t,n,i.URI)}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function JO(t){var n=Number(t);return p(n)?void 0:n}function tL(t,n){var i,e,r=YO(t);try{i=function(t){switch(t){case"NONE":return xB.wN;case"AES-128":return xB.UJ;case"SAMPLE-AES":return xB.XJ;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new l("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(r.METHOD),e=r.URI?aL(r.URI,n):void 0}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var s,u,o,a,h,c=r.KEYFORMAT,f=r.IV,v=r.KEYFORMATVERSIONS;if(i!==xB.wN){if(o=c||"identity","SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(VO(o)!==ws)throw new l("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");s=xB.XJ}else s=i;u=e,a=f?ta(f):void 0,h=v?v.split("/").map(function(t){return Number(t)}):[1]}else s=xB.wN,(e||c||v||f)&&aO.P$(hO,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{md:s,QJ:u,u1:a,Y0:o,o1:h}}function nL(t){var n=GO(t);if(!n)return[void 0,""];var i=n.split(","),e=i[0],r=i[1];return[JO(e),r]}function iL(t,n){var i=t.split("@"),e=JO(i[0]),r=i.length>1?JO(i[1]):n;if(void 0===e||void 0===r)throw new l("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{RN:r,b_:e}}function eL(t){if(void 0!==t)return iL(t,void 0)}function rL(t,n){return iL(GO(t),n)}function sL(t,n){var i=YO(t);try{return{Ai:aL(i.URI,n),SJ:eL(i.BYTERANGE)}}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function uL(t){var n=GO(t);if(!n)throw new l("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!zt(i))throw new l("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function oL(t){var n,i,e,r=YO(t),s=r["START-DATE"],u=r["END-DATE"],o=JO(r["PLANNED-DURATION"]),a=JO(r.DURATION);void 0!==r["SCTE35-CMD"]&&(n=ta(r["SCTE35-CMD"]).buffer),r["SCTE35-IN"]&&(i=ta(r["SCTE35-IN"]).buffer),r["SCTE35-OUT"]&&(e=ta(r["SCTE35-OUT"]).buffer);var h,c,f="YES"===r["END-ON-NEXT"],v=function(t){for(var n={},i=0,e=w.keys(t);i<e.length;i++){var r=e[i],s=t[r];void 0!==s&&As(r,"X-")&&(n[r]=s)}return n}(r),d=r.ID,g=r.CLASS;if(void 0===s)aO.P$(hO,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+s+".");else if(h=new Date(s),c=void 0!==u?new Date(u):void 0,zt(h)||aO.P$(hO,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+h+"."),void 0!==a){var m=new Date(h.getTime()+1e3*a);c?c.getTime()!==m.getTime()&&(aO.P$(hO,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),c=m):c=m}else c&&(a=(h.getTime()-c.getTime())/1e3);if(f&&(r.CLASS||aO.P$(hO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),r.DURATION&&aO.P$(hO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),c&&aO.P$(hO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===d&&aO.P$(hO,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===d||void 0===h)throw new l("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{P_:d,IJ:g,QD:h,RJ:c,Hg:a,DJ:o,BJ:n,xJ:i,OJ:e,EJ:f,CJ:v}}function aL(t,n){if(void 0===t)throw new l("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return i.Or(t,n)}function hL(t,n){var i=YO(t),e=JO(i.DURATION),r=aL(i.URI,n),s=eL(i.BYTERANGE),u="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===e)throw new l("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{Hg:e,QJ:{Ai:r,SJ:s},a1:u,h1:o}}function cL(t){var n=YO(t);return{c1:"YES"===n["CAN-BLOCK-RELOAD"],f1:JO(n["CAN-SKIP-UNTIL"]),v1:"YES"===n["CAN-SKIP-DATERANGES"],l1:JO(n["HOLD-BACK"]),d1:JO(n["PART-HOLD-BACK"])}}function fL(t,n){var i=YO(t);if(void 0===i.URI)throw new l("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var e=aL(i.URI,n),r=JO(i["LAST-MSN"]),s=JO(i["LAST-PART"]);if(void 0===r)throw new l("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{QJ:e,w1:r,_1:s}}function lL(t,n){var i,e=YO(t),r=JO(e["SKIPPED-SEGMENTS"]),s=null==(i=e["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(!r)throw new l("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{g1:r,m1:s,b1:n}}function vL(t){var n=JO(YO(t)["PART-TARGET"]);if(void 0===n)throw new l("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function dL(t){switch(GO(t)){case"VOD":return BB.HJ;case"EVENT":return BB.FJ;default:return aO.P$(hO,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),BB.Kl}}function wL(t,n){var i,e,r=YO(t);try{i=function(t){if(void 0===t)throw new l("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return PB.LJ;if("PART"===t)return PB.MJ;throw new l("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(r.TYPE),e=aL(r.URI,n)}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var s,u=JO(r["BYTERANGE-START"]),o=JO(r["BYTERANGE-LENGTH"]);return void 0===u&&void 0===o||(s={RN:u||0,b_:o}),{fs:i,QJ:{Ai:e,SJ:s}}}var gL=function(){function t(n){this.A1=0,this.T1=void 0,this.T1=t.S1(n)}var n=t.prototype;return n.E1=function(){var t=this.T1[this.A1];return this.A1+=1,t},n.I1=function(){return this.T1[this.A1]},n.Lu=function(){var n=new t("");return n.A1=0,n.T1=this.T1.slice(this.A1),n},t.S1=function(t){return t?t.split(/[\r\n]+/).map(function(t){return t.trim()}).filter(function(t){return t}):[]},t}();function mL(t,n,i){var e=t.QJ,r=t.EA,s=t.R1,u=t.RN;switch(i){case"#EXT-X-VERSION":r=function(t){var n=$O(t);return p(n)?(aO.P$(hO,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":s=!0;break;case"#EXT-X-START":u=function(t){var n=YO(t),i=JO(n["TIME-OFFSET"]);if(void 0===i)throw new l("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{D1:i,N1:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":aO.P$(hO,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:aO.cT(hO,"Ignoring unrecognized line or comment: "+n+".")}return{QJ:e,EA:r,R1:s,RN:u}}function yL(t,n){return t.map(function(t){return t.md===xB.wN||t.u1?t:Ur({},t,{u1:pL(n)})})}function pL(t){var n=new DataView(new ArrayBuffer(16)),i=new Jo;return i.Bu(8),function(t,n,i,e){void 0===e&&(e=!1);var r=i.getHighBitsUnsigned(),s=i.getLowBitsUnsigned(),u=e?r:s;Ao(t,n,e?s:r,e),Ao(t,n,u,e)}(n,i,vt.fromNumber(t)),new _(n.buffer)}function _L(t,n,e){aO.cT(hO,"Parsing M3U8 playlist at "+t+".");var r=new gL(e);if("#EXTM3U"!==r.E1())throw new l("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(e)?function(t,n){var e,r;try{r=i.Or(t)}catch(n){throw aO.P$(hO,"The master playlist has no valid base URI: "+t+"."),new l("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var s={QJ:r,R1:void 0,RN:void 0,EA:void 0},u=[],o=[],a=[],h=[];;){var c=n.E1();if(!c)break;try{var f=WO(c);switch(f){case"#EXT-X-MEDIA":var v=QO(c,r);u.push(v);break;case"#EXT-X-STREAM-INF":var d=ZO(c,r,n.E1());o.push(d);break;case"#EXT-X-I-FRAME-STREAM-INF":var w=KO(c,r);a.push(w);break;case"#EXT-X-SESSION-DATA":aO.P$(hO,"Ignoring unsupported #EXT-X-SESSION-DATA: "+c+".");break;case"#EXT-X-SESSION-KEY":var g=tL(c,r);h.push(g);break;default:s=mL(s,c,f)}}catch(t){aO.P$(hO,"Ignoring unparsable line: "+c,t)}}var m=s.EA,y=null!=(e=s.R1)&&e,p=s.RN;return void 0===m&&(aO.P$(hO,"The playlist has no #EXT-X-VERSION, assuming version is 2."),m=2),m>=8&&(o.some(function(t){return void 0!==t.B0})||a.some(function(t){return void 0!==t.B0}))&&(o.some(function(t){return void 0===t.B0})||a.some(function(t){return void 0===t.B0}))&&aO.P$(hO,"If one master playlist variant stream has a SCORE, all variants should have it."),{QJ:r,EA:m,R1:y,RN:p,C1:a,P1:h,JA:u,B1:o}}(t,r):function(t,n,e){var r,s,u,o,a,h,c,f,v,d,w,g,m,y,p,_,b,k,A,T={QJ:t,R1:void 0,RN:void 0,EA:void 0},S=[],E=!1,I=!1,R=[],C=Xr(),D=[],N=[],P=!1,x=!1,B=[],O=[],L=0,M=!1,j=BB.Kl,F=!1,U=0;try{A=i.Or(t)}catch(n){throw aO.P$(hO,"The media playlist has no valid base URI: "+t+".",n),new l("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var H=e.Lu();void 0===_||void 0===b;){var X=H.E1();if(!X)break;try{switch(qO(X)){case"#EXT-X-MEDIA-SEQUENCE":_=$O(X);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":b=$O(X)}}catch(t){aO.P$(hO,"Ignoring unparsable line: "+X,t)}}void 0===_&&(aO.cT(hO,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),_=0),void 0===b&&(aO.cT(hO,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),b=0);for(var V=_,z=b;;){var W=e.E1();if(!W)break;var q=!1;try{var G=qO(W);switch(G){case"#EXTINF":q=!0;var $=nL(W);h=$[0],c=$[1];break;case"#EXT-X-BYTERANGE":q=!0,(f=rL(W,L))&&(L=f.RN+f.b_);break;case"#EXT-X-DISCONTINUITY":q=!0,P=!0,z++;break;case"#EXT-X-KEY":var Y,Q;q=!0;var Z=tL(W,A);if(Z.md===xB.wN){C.clear(),y=void 0;break}var K=null!=(Y=null==(Q=Z.Y0)?void 0:Q.toString())?Y:"identity";C.set(K,Z),Z.md===xB.UJ&&(y=Z);break;case"#EXT-X-MAP":q=!0,d=sL(W,A),w=y;break;case"#EXT-X-PROGRAM-DATE-TIME":q=!0,g=uL(W);break;case"#EXT-X-GAP":q=!0,x=!0;break;case"#EXT-X-BITRATE":q=!0,m=$O(W);break;case"#EXT-X-TARGETDURATION":s=$O(W);break;case"#EXT-X-DATERANGE":var J=oL(W);S.push(J);break;case"#EXT-X-PART":q=!0;var tt=hL(W,A);N.push(tt);break;case"#EXT-X-PRELOAD-HINT":var nt=wL(W,A);B.push(nt);break;case"#EXT-X-SKIP":R.length>0&&aO.P$(hO,"#EXT-X-SKIP must appear before any #EXTINF tags."),q=!0;var it=lL(W,V);U=it.g1,k=it.m1,V+=it.g1;break;case"#EXT-X-SERVER-CONTROL":var et=cL(W);E=et.c1,u=et.f1,I=et.v1,o=et.l1,a=et.d1;break;case"#EXT-X-RENDITION-REPORT":var rt=fL(W,A);O.push(rt);break;case"#EXT-X-PART-INF":p=vL(W);break;case"#EXT-X-MEDIA-SEQUENCE":q&&aO.P$(hO,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":q&&aO.P$(hO,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":M=!0;break;case"#EXT-X-PLAYLIST-TYPE":j=dL(W);break;case"#EXT-X-I-FRAMES-ONLY":F=!0;break;default:if(As(G,"#"))T=mL(T,W,G);else{v=i.Or(W,A);var st=d?{QJ:d,O1:w}:void 0,ut={P1:yL(Wr(C),V),QS:D,L1:N,Hg:h,BD:c,M1:P,QJ:{SJ:f,Ai:v},U1:st,X1:g,h1:x,H1:m,b1:V,F1:z};R.push(ut),V++,D=[],N=[],h=void 0,h=void 0,c=void 0,P=!1,f=void 0,v=void 0,g=void 0,x=!1,m=void 0}}}catch(t){aO.P$(hO,"Ignoring unparsable line: "+W,t)}}if(N.length){var ot=d?{QJ:d,O1:y}:void 0,at={P1:yL(Wr(C),V),QS:D,L1:N,Hg:h,BD:c,M1:P,QJ:void 0,U1:ot,X1:g,h1:x,H1:m,b1:V,F1:z};R.push(at)}var ht=T.EA,ct=null!=(r=T.R1)&&r,ft=T.RN;void 0===ht&&(aO.P$(hO,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),ht=2),void 0===s&&aO.P$(hO,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var lt=R.length,vt=lt>0;vt||aO.P$(hO,"The HLS media playlist contains no segments.");var dt=vt&&R[lt-1].L1.length>0;return dt&&void 0===p&&aO.P$(hO,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===a&&aO.P$(hO,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{c1:E,f1:u,v1:I,z1:S,F1:b,V1:M,R1:ct,l1:o,W1:F,b1:_,g1:U,d1:a,C0:p,G1:j,q1:B,m1:k,Y1:O,j1:s,$K:R,RN:ft,QJ:A,Q1:n,EA:ht}}(t,n,r)}var bL=function(){function t(t,n,i){var e,r,s,u;this.P_=kL++,this.zJ=void 0,this.NR=void 0,this.B0=void 0,this.S$=void 0,this.J0=void 0,this.e1=void 0,this.i1=void 0,this.$0=void 0,this.Z1=void 0,this.K1=void 0,this.J1=[],this.zJ=n,this.NR=t.NR,this.Z1=t.jK,this.B0=t.B0,this.K1=t.HF?AL(t.HF):void 0,this.S$=t.S$,this.J0=null!=(e=t.J0)?e:"n2"+this.P_,this.e1=null!=(r=t.e1)?r:"i2"+this.P_,this.i1=null!=(s=t.i1)?s:"e2"+this.P_,this.$0=null!=(u=t.$0)?u:"s2"+this.P_,this.J1=i}var n=t.prototype;return n.u2=function(t){for(var n=0,i=this.J1;n<i.length;n++){var e=i[n].zJ.u2(t);if(void 0!==e)return e}},n.o2=function(t){for(var n=0,i=this.J1;n<i.length;n++){var e=i[n].zJ.o2(t);if(void 0!==e)return e}},n.a2=function(t){for(var n=0,i=this.J1;n<i.length;n++){var e=i[n];if(e.fs===t&&e.jJ)return void $s(this.J1,e)}},T(t,[{key:"QJ",get:function(){return this.zJ.QJ}},{key:"HF",get:function(){return this.K1},set:function(t){this.K1=t?AL(t):void 0}},{key:"jK",get:function(){return this.Z1||this.NR}},{key:"h2",get:function(){var t,n;if(!this.J1.length)return yS.fC();var i=null!=(t=iu(this.J1,function(t){var n;return null!=(n=t.zJ.c2)?n:0}))?t:this.V$[0],e=i.zJ.$K;if(!e.length||e.length<2)return yS.fC();var r=i.zJ.V1?e[0].Vy:e[1].Vy,s=e[e.length-1],u=s.Vy+(null!=(n=s.Hg)?n:s.f2)-this.V$.reduce(function(t,n){var i,e;return g.max(null!=(i=null!=(e=n.zJ.d1)?e:n.zJ.l1)?i:0,t)},0);return u<r?yS.fC():new yS([r,u])}},{key:"V$",get:function(){return this.J1}},{key:"X$",get:function(){return this.J1.filter(function(t){return t.fs===EB.dd})}},{key:"H$",get:function(){return this.J1.filter(function(t){return t.fs===EB.wd})}},{key:"l2",get:function(){return this.J1.filter(function(t){return t.fs===EB.Qb})}},{key:"d2",get:function(){return this.J1.filter(function(t){return t.fs===EB.TJ})}}]),t}(),kL=0;function AL(t){return Ur({},t,{UF:t.UF?qc(t.UF):void 0})}var TL=function(){function t(t,n,i,e,r){this.w2=void 0,this._2=void 0,this.Hg=void 0,this.QJ=void 0,this.a1=void 0,this.h1=void 0,this.g2=void 0,this.nk=void 0,this.m2=void 0,this.b2=void 0,this.w2=t,this._2=n,this.nk=i,this.g2=e,this.Hg=r.Hg,this.QJ=r.QJ,this.a1=r.a1,this.h1=r.h1}return t.prototype.A2=function(t,n){this.nk=t,this.g2=n},T(t,[{key:"Vy",get:function(){var t;return this.nk+(null!=(t=this.b2)?t:0)}},{key:"T2",get:function(){return this.g2}},{key:"P1",get:function(){return this.w2.P1}}]),t}();function SL(t){return void 0!==t.L1}var EL,IL=function(){function t(t,n,i,e,r){this.ua=void 0,this.X1=void 0,this.QJ=void 0,this.U1=void 0,this.h1=void 0,this.S2=void 0,this.g2=void 0,this.b1=void 0,this.M1=void 0,this.F1=void 0,this.P1=void 0,this.nk=void 0,this.m2=void 0,this.E2=[],this.I2=0,this.R2=void 0,this.nk=t,this.U1=r.U1,this.S2=i,this.g2=e,this.ua=r.Hg,this.X1=r.X1,this.QJ=r.QJ,this.h1=r.h1,this.b1=r.b1,this.M1=r.M1,this.F1=n,this.P1=r.P1,this.D2(r.L1)}var n=t.prototype;return n.N2=function(t){return this.E2[t]},n.C2=function(t){for(var n=0;n<this.E2.length;n++){var i=this.E2[n],e=i.Vy,r=e+i.Hg;if(e<=t&&t<=r)return t===r&&n+1<this.E2.length?this.E2[n+1]:i}},n.P2=function(t){for(var n=this.E2.length-1;n>=0;n--){var i=this.E2[n];if(i.Vy<=t)return i}},n.B2=function(t){for(var n=this.P2(t);n&&!n.a1&&n._2>0;)n=this.N2(n._2-1);return n},n.A2=function(t,n,i){this.S2=n,this.g2=i,this.ua=t.Hg,this.D2(t.L1)},n.D2=function(t){this.E2.length>t.length&&(this.E2.length=t.length);for(var n=0,i=0;i<t.length;i++){var e=t[i],r=!!this.T2&&i===t.length-1,s=this.nk+n;if(i<this.E2.length)this.E2[i].A2(s,r);else{var u=new TL(this,i,s,r,e);this.E2.push(u)}n+=e.Hg}this.I2=n},n.O2=function(){Ks(this.E2),this.I2=0},T(t,[{key:"Vy",get:function(){var t;return this.nk+(null!=(t=this.R2)?t:0)}},{key:"L2",get:function(){return this.nk}},{key:"Hg",get:function(){return this.ua}},{key:"M2",get:function(){return this.S2}},{key:"T2",get:function(){return this.g2}},{key:"L1",get:function(){return this.E2}},{key:"f2",get:function(){return this.I2}},{key:"b2",get:function(){return this.R2},set:function(t){this.R2=t;for(var n=0,i=this.E2;n<i.length;n++){i[n].b2=t}}}]),t}();!function(t){t.U2="YES",t.X2="v2"}(EL||(EL={}));var RL=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(nn);var CL=function(t){function n(n,i){var e,r=DL(i,n.Hg,n.QD,n.RJ);return(e=t.call(this,i,r,void 0,!1,n.P_)||this).H2=void 0,e.F2=void 0,e.z2=void 0,e.ua=void 0,e.V2=void 0,e.W2=void 0,e.G2=void 0,e.q2=void 0,e.Y2=void 0,e.j2=void 0,e.H2=n.IJ,e.F2=n.QD,e.z2=n.RJ,e.ua=n.Hg,e.V2=n.DJ,e.W2=Boolean(n.EJ),e.G2=n.NJ||{},e.q2=n.PJ,e.Y2=n.OJ,e.j2=n.xJ,e.Q2(),e.Z2(),e}E(n,t);var i=n.prototype;return i.Zh=function(t){var n=!1;void 0===this.H2&&void 0!==t.IJ&&(n=!0,this.H2=t.IJ),void 0===this.z2&&void 0!==t.RJ&&(n=!0,this.z2=t.RJ),void 0===this.ua&&void 0!==t.Hg&&(n=!0,this.ua=t.Hg),void 0===this.V2&&void 0!==t.DJ&&(n=!0,this.V2=t.DJ),!this.W2&&t.EJ&&(n=!0,this.W2=t.EJ),n=this.updateCustomAttributes(t,n),void 0===this.q2&&void 0!==t.PJ&&(n=!0,this.q2=t.PJ),void 0===this.Y2&&void 0!==t.OJ&&(n=!0,this.Y2=t.OJ),void 0===this.j2&&void 0!==t.xJ&&(n=!0,this.j2=t.xJ),this.Q2(),this.Z2(),this.K2(),n&&this.Qs(new Hp(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.NJ)for(var e=0,r=w.keys(t.NJ);e<r.length;e++){var s=r[e];void 0===this.G2[s]&&(i=!0,this.G2[s]=t.NJ[s])}return i},i.Q2=function(){this.ua&&!this.z2&&(this.z2=new Date(this.F2.getTime()+Gt(this.ua)))},i.Z2=function(){this.z2&&!this.ua&&(this.ua=qt(this.z2.getTime()-this.F2.getTime()))},i.K2=function(){this.ek===1/0&&(this.z2||this.ua)&&(this.ek=DL(this.nk,this.ua,this.F2,this.z2))},T(n,[{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=_m(jp(t=this),{get content(){return t.Gy},get class(){return t.IJ},get startDate(){return t.QD},get endDate(){return t.RJ},get duration(){return t.Hg},get plannedDuration(){return t.DJ},get endOnNext(){return t.EJ},get scte35Cmd(){return t.PJ},get scte35Out(){return t.OJ},get scte35In(){return t.xJ},get customAttributes(){return t.NJ}})),this.Ww}},{key:"IJ",get:function(){return this.H2}},{key:"QD",get:function(){return this.F2}},{key:"RJ",get:function(){return this.z2}},{key:"Hg",get:function(){return this.ua}},{key:"DJ",get:function(){return this.V2}},{key:"EJ",get:function(){return this.W2}},{key:"PJ",get:function(){return this.q2}},{key:"OJ",get:function(){return this.Y2}},{key:"xJ",get:function(){return this.j2}},{key:"NJ",get:function(){return this.G2}}]),n}(Wp);function DL(t,n,i,e){return H(n)?t+n:e?t+(qt(e.getTime())-qt(i.getTime())):1/0}var NL=function(t){function n(){return t.call(this,void 0,void 0,Ip.DATE_RANGE)||this}E(n,t);var i=n.prototype;return i.Zh=function(t,n){PL(this,xL(t),n)},i.mE=function(n){var i,e,r;i=this.j_.p_,e=n,(r=qs(i,function(t){return t.IJ===e.IJ}))&&r.EJ&&r.Zh({P_:r.P_,RJ:e.QD}),t.prototype.mE.call(this,n)},n}(TP);function PL(t,n,i){for(var e=t.j_.p_,r=function(i){var r=e[i],s=Ws(n,function(t){return t.P_===r.P_});s?r.Zh(s):t.sE(r)},s=e.length-1;s>=0;s--)r(s);for(var u=0;u<n.length;u++){var o=n[u],a=o.QD;if(void 0!==a&&!t.WW(o.P_)){var h=i(a);t.mE(new CL(o,h))}}}function xL(t){for(var n=Xr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.P_)){var s=n.get(r.P_),u=Ur({},s,Tm(r),{NJ:Ur({},s.NJ,r.NJ)});n.set(r.P_,u)}else n.set(r.P_,r),i.push(r.P_)}return i.map(function(t){return n.get(t)})}var BL=String.fromCharCode(95),OL=BL+"HLS_msn",LL=BL+"HLS_part",ML=BL+"HLS_skip",jL=function(){function t(t){this.QJ=void 0,this.J2=void 0,this.n3=void 0,this.i3=void 0,this.e3=void 0,this.r3=void 0,this.s3=void 0,this.u3=void 0,this.o3=[],this.a3=[],this.R2=void 0,this.h3=!1,this.c3=void 0,this.f3=!1,this.v3=BB.Kl,this.eW=yS.fC(),this.l3=yS.fC(),this.ua=void 0,this.d3=-1/0,this.w3=void 0,this.QJ=t}var n=t.prototype;return n.T$=function(t){if(!t)return this.QJ;var n=i.Br(this.QJ);return void 0!==t.b1&&n.searchParams.append(OL,String(t.b1)),void 0!==t._3&&n.searchParams.append(LL,String(t._3)),void 0!==t.cA&&n.searchParams.append(ML,t.cA),n.href},n.g3=function(t){return Ws(this.o3,function(n){return n.b1===t})},n.m3=function(t){for(var n=0;n<this.o3.length;n++){var i,e=this.o3[n],r=e.Vy,s=r+(null!=(i=e.Hg)?i:e.f2);if(r<=t&&t<=s)return t===s&&n+1<this.o3.length?this.o3[n+1]:e}},n.u2=function(t){var n=this.y3();if(void 0!==n)return new Date(1e3*t+n)},n.o2=function(t){var n=this.y3();if(void 0!==n)return(t.getTime()-n)/1e3},n.y3=function(){for(var t=this.$K,n=t.length-1;n>=0;n--){var i=t[n];if(void 0!==i.X1)return i.X1.getTime()-1e3*i.Vy}},n.b3=function(t){switch(t){case PB.LJ:return this.n3;case PB.MJ:return this.i3;default:return}},n.A2=function(t){var n;void 0===this.e3&&(this.e3=null!=(n=t.j1)?n:this.A3(t));void 0===this.s3&&void 0!==t.l1&&(this.s3=t.l1),void 0===this.r3&&void 0!==t.C0&&(this.r3=t.C0),void 0===this.u3&&void 0!==t.d1&&(this.u3=t.d1),this.h3=t.c1,this.c3=t.f1,this.f3=t.v1,this.v3=t.G1,this.T3(t),this.S3(t);var e=Ws(t.q1,function(t){return t.fs===PB.LJ}),r=Ws(t.q1,function(t){return t.fs===PB.MJ});this.n3=e?{QJ:e.QJ,fs:e.fs,F1:t.F1}:void 0,this.i3=r?{QJ:r.QJ,fs:r.fs,F1:t.F1}:void 0,this.J2=i.ir()/1e3,this.l3=this.E3(),this.eW=this.I3(this.l3),this.ua=this.R3()},n.E3=function(){var t,n=this.$K;if(0===n.length)return yS.fC();var i=n[0].Vy,e=n[n.length-1],r=e.Vy,s=null!=(t=e.Hg)?t:e.f2;return new yS([i,r+s])},n.I3=function(t){var n,i;if(0===t.b_||this.V1)return t;var e=t.RN(0),r=t.NN(0)-(null!=(n=null!=(i=this.d1)?i:this.l1)?n:0);return r<e?yS.cC(e):new yS([e,r])},n.R3=function(){return 0===this.o3.length?0:this.V1?(t=this.o3,n=function(t){var n;return null!=(n=t.Hg)?n:t.f2},t.reduce(function(t,i){return t+n(i)},0)):1/0;var t,n},n.A3=function(t){for(var n,i=0,e=t.$K;i<e.length;i++){var r=e[i];if(void 0!==r.Hg){var s=g.max(1,g.round(r.Hg));(void 0===n||n<s)&&(n=s)}}if(void 0===n)throw new l("HLSModel - Could not determine required segment target duration.");return n},n.T3=function(t){if(0===t.$K.length)return Ks(this.o3),void this.D3();var n=this.N3(t);if(n){var i,e,r;n.C3>0&&this.o3.splice(0,n.C3);var s=t.g1;if(s>0){if(s>this.o3.length)throw new RL("New playlist skips over missing segments.");var u=this.o3[s-1];if(void 0===u.Hg)throw new RL("New playlist skips over an incomplete segment.");i=u.L2+u.Hg,r=u.F1-t.F1,e=s;for(var o=0;o<s;o++)this.o3[o].O2()}else i=n.P3,r=0,e=0;for(var a=0;a<t.$K.length;a++,e++){var h=t.$K[a],c=0===a,f=t.V1&&a===t.$K.length-1,l=h.Hg,v=h.F1+r;if(e<this.o3.length){var d=this.o3[e];0,d.A2(h,c,f)}else{var w=new IL(i,v,c,f,h);w.b2=this.R2,this.o3.push(w)}void 0!==l&&(i+=l)}}},n.N3=function(t){if(0===this.o3.length)return{C3:0,P3:0};var n=this.o3[0].b1,i=this.o3[this.o3.length-1].b1,e=t.$K[0].b1-t.g1,r=t.$K[t.$K.length-1].b1,s=0,u=0;if(e<n)aO.P$("HLSMediaPlaylist","Ignoring older playlist (first media sequence number is "+e+", but previous playlist already started at "+n+")");else{if(!(r<i)){if(i<e){var o;u=null!=(o=function(t,n){var i=qs(t,function(t){return void 0!==t.X1});if(void 0===i)return;var e=function(t){for(var n=0,i=0;i<t.length;i++){var e,r=t[i];if(r.M1)return;if(r.X1)return[r,n];n+=null!=(e=r.Hg)?e:0}return}(n.$K);if(void 0===e)return;var r=e[0],s=e[1];if(i.F1!==r.F1)return;var u=(r.X1.getTime()-i.X1.getTime())/1e3;return i.L2+u-s}(this.o3,t))?o:(h=this.o3,c=this.e3,l=h[h.length-1],v=null!=(f=l.Hg)?f:g.max(c,l.f2),l.L2+v),aO.C$("HLSMediaPlaylist","New playlist (starting at "+e+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+u+"s"),s=this.o3.length,this.D3()}else{0;var a=Gs(this.o3,function(t){return t.b1===e});0,u=this.o3[a].L2,a>0&&(s=a)}var h,c,f,l,v;return{C3:s,P3:u}}aO.P$("HLSMediaPlaylist","Ignoring older playlist (last media sequence number is "+r+", but previous playlist already ended at "+i+")")}},n.S3=function(t){var n=this,i=t.z1.map(FB);if(t.v1&&t.Q1.cA===EL.X2&&(i=this.a3.concat(i)),this.a3=xL(i),t.m1)for(var e=function(t,i){var e=i[t],r=Gs(n.a3,function(t){return t.P_===e});r>=0&&Ys(n.a3,r)},r=0,s=t.m1;r<s.length;r++)e(r,s)},n.B3=function(t,n){if(this.R2!==t){this.R2=t;for(var i=0,e=this.o3;i<e.length;i++){e[i].b2=this.R2}}this.w3=n},n.D3=function(){this.R2=void 0,this.w3=void 0},T(t,[{key:"V1",get:function(){return Boolean(Ws(this.o3,function(t){return t.T2}))}},{key:"Hg",get:function(){return this.ua}},{key:"py",get:function(){return this.eW}},{key:"O3",get:function(){return this.l3}},{key:"P0",get:function(){return this.e3}},{key:"C0",get:function(){return this.r3}},{key:"l1",get:function(){return this.V1?0:this.s3?this.s3:this.e3?3*this.e3:void 0}},{key:"d1",get:function(){var t;return null!=(t=this.u3)?t:this.r3?3*this.r3:void 0}},{key:"x3",get:function(){var t,n,i;if(!this.V1&&0!==this.o3.length){var e=this.o3[this.o3.length-1],r=null!=(t=e.Hg)?t:e.f2,s=null!=(n=null!=(i=this.d1)?i:this.l1)?n:0;return e.Vy+r-s}}},{key:"c1",get:function(){return this.h3}},{key:"f1",get:function(){return this.c3}},{key:"v1",get:function(){return this.f3}},{key:"G1",get:function(){return this.v3}},{key:"L3",get:function(){return void 0!==this.C0}},{key:"M3",get:function(){if(this.V1)return!0;var t=i.ir()/1e3,n=this.c2,e=this.U3;return void 0!==n&&t-n<e}},{key:"c2",get:function(){return this.J2}},{key:"b2",get:function(){return this.R2}},{key:"U3",get:function(){var t;return null!=(t=this.e3)?t:1}},{key:"$K",get:function(){return this.o3}},{key:"z1",get:function(){return this.a3}},{key:"X3",get:function(){return this.d3},set:function(t){this.d3=t}},{key:"H3",get:function(){return this.w3}}]),t}();var FL=function(){function t(){this.F3=[],this.z3=Vr()}var n=t.prototype;return n.V3=function(t){var n=this.z3.get(t);return void 0!==n&&UL(n)},n.W3=function(t){return this.q3(t).G3.Hu},n.Y3=function(t){var n=this.z3.get(t);if(!n||!UL(n))throw new l("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.j3=function(t){return this.Y3(t).Zp},n.Q3=function(t,n){var i=SL(n)?n:n.w2,e=this.Y3(i.F1),r=t.Sy(e.Zp);if(e.Z3){var s=f_.Np(n.Vy).Mk(r);if(s.Ok().Ik(g_)){var u=g.round(s.Ek()/w_.Ek());r=r.Sy(w_.vp(u))}}return r},n.K3=function(t,n){return this.Q3(t,n).Mk(t)},n.J3=function(t,n,i,e,r){var s=this.q3(t);void 0===s.Zp&&(s.t4.some(function(t){return t.n4===n})||(s.t4.push({n4:n,i4:i,e4:e.Tp(i.yp),Z3:r}),this.r4(s)))},n.r4=function(t){if(!t.Zp&&this.s4(t)){var n=eu(t.t4,HL);Ks(t.t4),t.Zp=n.e4.Mk(n.i4),t.Z3=n.Z3,t.G3.Wu()}},n.s4=function(t){return this.F3.length>0&&this.F3.every(function(n){return t.t4.some(function(t){return t.n4===n})})},n.q3=function(t){if(this.z3.has(t))return this.z3.get(t);var n={Zp:void 0,Z3:!1,G3:new na,t4:[]};return this.z3.set(t,n),n},n.u4=function(t){var n=this;this.F3=t,this.z3.forEach(function(t){return n.r4(t)})},n.xs=function(){this.z3.forEach(function(t){return t.G3.Fs()}),this.z3.clear()},t}();function UL(t){return void 0!==t.Zp}function HL(t,n){return t.Z3||n.Z3?(i=t.i4,e=n.i4,r=i.Mk(e),i.Xk()||e.Xk()?r:(r.Dk(g_)?r=r.Mk(w_):r.Bk(g_.Lk())&&(r=r.Sy(w_)),r)).Rk(f_.qk):t.i4.Rk(n.i4);var i,e,r}var XL=function(){function t(t){this.o4=[],this.a4=[],this.h4=Xr(),this.c4=new FL,this.f4=t}var n=t.prototype;return n.A2=function(t,n){if(NB(t))if(0===this.o4.length)this.v4(t);else{if(!n)return void aO.P$("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.zJ.A2(t)}else{if(0!==this.o4.length)return void aO.P$("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.l4(t)}},n.v4=function(t){var n=this.d4(t.QJ);n.A2(t);var i=this.w4(EB.dd,n),e=this.w4(EB.wd,n),r=new bL({QJ:n.QJ,NR:0,jK:0,B0:NaN,HF:void 0,S$:void 0,QK:0,K0:[],n1:void 0,s1:void 0,J0:void 0,e1:void 0,i1:void 0,$0:void 0},n,[i,e]);this.o4.push(r)},n.l4=function(t){var n,i=this;(n=this.a4).push.apply(n,t.P1);for(var e=this._4(t),r=function(t,n){var r=n[t],s=e.filter(function(t){return function(t,n){return VL(t.fs,t.qJ,n)&&(!t.jJ||t.zJ.QJ===n.QJ)}(t,r)});i.g4(r,s);var u=new bL(r,i.d4(r.QJ),s);i.o4.push(u)},s=0,u=t.B1;s<u.length;s++)r(s,u)},n.d4=function(t){var n=this.h4.get(t);return void 0===n&&(n=new jL(t),this.h4.set(t,n)),n},n._4=function(t){for(var n=[],i=0,e=t.JA;i<e.length;i++){var r=e[i];if(void 0===r.QJ)for(var s=0,u=t.B1;s<u.length;s++){var o=u[s];if(VL(r.fs,r.qJ,o)){var a=new UB(r,this.d4(o.QJ));n.push(a)}}else{var h=new UB(r,this.d4(r.QJ));n.push(h)}}return n},n.w4=function(t,n){return new UB({fs:t,QJ:void 0,qJ:"",L_:void 0,j0:void 0,wi:"",VJ:!0,WJ:!1,GJ:!1,Z0:void 0,YJ:void 0,Q0:void 0},n)},n.g4=function(t,n){var i=n.filter(function(t){return t.fs===EB.dd}),e=n.filter(function(t){return t.fs===EB.wd}),r=t.HF&&(t.HF.UF||t.HF.XF);if((!r||t.HF.UF)&&0===e.length){var s=this.w4(EB.wd,this.d4(t.QJ));n.push(s)}if((!r||t.HF.XF)&&0===i.length){var u=this.w4(EB.dd,this.d4(t.QJ));n.push(u)}t.HF&&t.HF.FF},n.m4=function(t){for(var n=0,i=this.o4;n<i.length;n++)for(var e=0,r=i[n].V$;e<r.length;e++){var s=r[e];if(s===t)return s}},n.y4=function(t){for(var n=0,i=this.o4;n<i.length;n++){var e=i[n];if(e===t)return e}},n.b4=function(t){for(var n=0,i=this.o4;n<i.length;n++){var e=i[n];if(Qs(e.V$,t))return e}},n.xs=function(){Ks(this.o4),Ks(this.a4),this.h4.clear(),this.c4.xs()},T(t,[{key:"A4",get:function(){return this.a4}},{key:"U$",get:function(){return this.o4}},{key:"WS",get:function(){return this.c4}}]),t}();function VL(t,n,i){switch(t){case EB.dd:return i.J0===n;case EB.wd:return i.e1===n;case EB.Qb:return i.i1===n;case EB.TJ:return i.$0===n}return!1}var zL=function(t){function n(n){var i;return(i=t.call(this,qL.T4)||this).v$=n,i}return E(n,t),n}(Iu);function WL(t,n,i,e,r){var s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),s=0;case 4:return o.prev=5,o.next=8,Fr.awrap(t(n));case 8:return o.abrupt("return",o.sent);case 11:if(o.prev=11,o.t0=o.catch(5),lu(o.t0),!(s<i)){o.next=20;break}return u=g.min(e*g.pow(2,s),r),s++,o.next=19,Fr.awrap(bu(u,n));case 19:return o.abrupt("continue",4);case 20:throw o.t0;case 21:o.next=4;break;case 23:case"end":return o.stop()}},null,null,[[5,11]],qe)}var qL,GL=function(t){function n(n){var i;return(i=t.call(this,qL.S4)||this).v$=n,i}return E(n,t),n}(Iu),$L="HlsModelUpdater";!function(t){t.T4="E4",t.S4="I4"}(qL||(qL={}));var YL=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).R4=void 0,r.D4=!1,r.N4=void 0,r.C4=void 0,r.P4=Vr(),r.lE=n,r.B4=i,r.rootURI=e,r.R4=new XL(e),r}E(n,t);var e=n.prototype;return e.O4=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.R4.f4){e.next=3;break}throw new l("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");case 3:return e.next=5,Fr.awrap(this.x4(n,{},2,t));case 5:if(DB(i=e.sent)||NB(i)){e.next=8;break}throw new l("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");case 8:return DB(i)||aO.cT($L,"Detected media playlist only HLS stream."),this.L4(i),e.next=12,Fr.awrap(this.M4(t));case 12:this.D4=!0;case 13:case"end":return e.stop()}},null,this,null,qe)},e.U4=function(t,n,i,e){var r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=this.R4.m4(t)){o.next=3;break}throw new l("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");case 3:return s={b1:n,_3:i,cA:JL(r)},u=Gt(g.max(1,3*t.zJ.U3)),o.prev=5,o.next=8,Fr.awrap(this.X4(r,s,e,u));case 8:o.next=15;break;case 10:throw o.prev=10,o.t0=o.catch(5),lu(o.t0),this.H4(r),o.t0;case 15:case"end":return o.stop()}},null,this,[[5,10]],qe)},e.F4=function(t,n){var i=this.R4.m4(t);if(!i)throw new l("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var e={b1:void 0,_3:void 0,cA:JL(i)},r=Gt(g.max(1,3*t.zJ.U3));return this.X4(i,e,n,r)},e.z4=function(t,n){return this.P4.has(t.B_)||this.P4.set(t.B_,new na),du(this.P4.get(t.B_).Hu,n)},e.H4=function(t){this.Qs(new GL(t))},e.X4=function(t,n,e,r){var s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.zJ.T$(n),a.prev=1,a.next=4,Fr.awrap(this.x4(s,n,0,e,r));case 4:u=a.sent,a.next=12;break;case 7:throw a.prev=7,a.t0=a.catch(1),lu(a.t0),t.zJ.X3=i.ir(),a.t0;case 12:if(NB(u)){a.next=14;break}throw new l("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");case 14:a.prev=14,this.L4(u,t),a.next=24;break;case 18:if(a.prev=18,a.t1=a.catch(14),!(a.t1 instanceof RL&&void 0!==n.cA)){a.next=23;break}return o=Ur({},n,{cA:void 0}),a.abrupt("return",this.X4(t,o,e,r));case 23:throw a.t1;case 24:if(!this.N4||t===this.N4||this.N4.zJ.M3){a.next=35;break}return a.prev=25,a.next=28,Fr.awrap(this.F4(this.N4,e));case 28:a.next=35;break;case 30:a.prev=30,a.t2=a.catch(25),lu(a.t2),this.N4=t,this.V4();case 35:this.W4(t);case 36:case"end":return a.stop()}},null,this,[[1,7],[14,18],[25,30]],qe)},e.x4=function(t,n,i,e,r){var s,u,o,a=this;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return aO.cT($L,"Loading HLS playlist at "+t+"."),h.prev=1,h.next=4,Fr.awrap(this.B4.G4([t]));case 4:if(s=h.sent,fu(e),void 0===s){h.next=8;break}return h.abrupt("return",_L(s.responseURL,{},s.data));case 8:h.next=14;break;case 10:h.prev=10,h.t0=h.catch(1),lu(h.t0);case 14:return u={Ql:t,Wl:xf.$n,md:hw.GET,fs:cw.Jl,Ws:e,yd:r},h.next=17,Fr.awrap(WL(function(){return a.q4(u)},e,i));case 17:return o=h.sent,h.abrupt("return",_L(o.jl,n,o.Fi));case 19:case"end":return h.stop()}},null,this,[[1,10]],qe)},e.q4=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(this.lE.Yl(t));case 2:return n=e.sent,e.next=5,Fr.awrap(n.El());case 5:return i=e.sent,e.abrupt("return",{Fi:i,jl:n.jl});case 7:case"end":return e.stop()}},null,this,null,qe)},e.M4=function(t){var n,i,e,r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:fu(t),n=[],i=0,e=this.R4.U$;case 3:if(!(i<e.length)){h.next=26;break}r=e[i],s=0,u=r.V$;case 6:if(!(s<u.length)){h.next=23;break}return o=u[s],h.prev=8,h.next=11,Fr.awrap(this.B4.G4([o.zJ.QJ]));case 11:a=h.sent,fu(t),void 0===a||o.zJ.M3||n.push(this.F4(o,t)),h.next=20;break;case 16:h.prev=16,h.t0=h.catch(8),lu(h.t0);case 20:s++,h.next=6;break;case 23:i++,h.next=3;break;case 26:return h.next=28,Fr.awrap(qe.all(n));case 28:case"end":return h.stop()}},null,this,[[8,16]],qe)},e.V4=function(){for(var t=0,n=this.R4.U$;t<n.length;t++)for(var i=0,e=n[t].V$;i<e.length;i++){var r=e[i];r!==this.N4&&(void 0!==r.zJ.b2&&(r.zJ.M3?this.W4(r):r.zJ.D3()))}},e.W4=function(t){if(0!==t.zJ.$K.length){if(!this.N4)return this.N4=t,void this.N4.zJ.B3(0,void 0);if(this.Y4(this.N4),!this.Y4(t)&&void 0===t.zJ.b2){var n=this.j4(t,this.N4);aO.C$($L,"Assuming global timeline offset of "+n+"s for rendition "+t.zJ.QJ+"."),t.zJ.B3(n,void 0)}}},e.j4=function(t,n){var i;if(QL(t)){var e=t.zJ.$K[0],r=n.zJ.$K[0];return aO.C$($L,"Synchronizing by start of VOD: "+r.Vy+" vs "+e.Vy),r.Vy-e.L2}var s=function(t,n){var i=t.length-1,e=n.length-1;for(;i>=0&&e>=0;){var r=t[i],s=n[i];if(r.F1>s.F1)i--;else if(r.F1<s.F1)e--;else if(r.M1){if(s.M1)return{segment:r,referenceSegment:s};e--}else i--}return}(t.zJ.$K,n.zJ.$K);if(void 0!==s){var u=s.segment,o=s.referenceSegment;return aO.C$($L,"Synchronizing by start of discontinuity #"+o.F1+": "+o.Vy+" vs "+u.Vy),o.Vy-u.L2}var a=KL(t.zJ.$K);if(void 0!==a){var h=KL(n.zJ.$K);if(void 0!==h)return aO.C$($L,"Synchronizing by PDT:",h.X1.toISOString()+" vs "+a.X1.getTime()),h.Vy-a.L2-(h.X1.getTime()-a.X1.getTime())/1e3}var c=ZL(n),f=ZL(t),l=null!=(i=t.zJ.b2)?i:0;return aO.C$($L,"Synchronizing by last segment:",c+" vs "+f),c-f+l},e.Y4=function(t){var n=this.R4.m4(t);if(!n)return!1;if(QL(n))return!1;var i,e,r=(i=n.zJ.$K,e=this.R4.WS,qs(i,function(t){return void 0!==t.m2&&e.V3(t.F1)}));if(void 0===r)return!1;if(n.zJ.H3===r.F1)return!0;var s=this.R4.WS.Q3(r.m2,r).Ek()-r.L2;return aO.C$($L,"Synchronize by media timestamp: "+s+"s for rendition "+t.zJ.QJ+"."),n.zJ.B3(s,r.F1),(void 0===this.N4||void 0===this.N4.zJ.H3||this.N4.zJ.H3<r.F1)&&(this.N4=n),!0},e.L4=function(t,n){var i;(this.R4.A2(t,n),NB(t)&&n)&&(this.C4=n,this.Qs(new zL(n)),null==(i=this.P4.get(n.B_))||i.Wu(),this.P4.delete(n.B_))},e.Q4=function(t,n){var i=this.R4.y4(t);if(!i)throw new l("HLSModelUpdater - Could not update HLS variant stream: the stream does not exist on the internal model.");for(var e=0,r=this.R4.U$;e<r.length;e++){var s=r[e];s.HF||(n.UF||s.a2(EB.wd),n.XF||s.a2(EB.dd))}i.HF=n},e.xs=function(){this.$s(),this.R4.xs(),this.P4.forEach(function(t){return t.Fs()}),this.P4.clear()},T(n,[{key:"Z4",get:function(){return this.D4}},{key:"M$",get:function(){return this.R4}},{key:"K4",get:function(){return this.C4}}]),n}(Su);function QL(t){return t.zJ.V1||t.zJ.G1===BB.FJ}function ZL(t){var n,i=t.zJ.$K[t.zJ.$K.length-1];return i.Vy+(null!=(n=i.Hg)?n:i.f2)}function KL(t){return qs(t,function(t){return void 0!==t.X1})}function JL(t){if(void 0!==t.zJ.f1&&!t.zJ.V1&&!(void 0===t.zJ.c2||i.ir()/1e3-t.zJ.c2>=t.zJ.f1/2))return t.zJ.v1?EL.X2:EL.U2}var tM=function(){function t(t,n,i){var e=this;this.J4=void 0,this.t6=void 0,this.KR=void 0,this.n6=void 0,this.i6=void 0,this.e6=function(t){e.t6.hlsDateRange&&e.S3(t.v$)},this.t6=t,this.J4=n,this.KR=i,this.n6=new Fb,this.J4.Zs(qL.T4,this.e6)}return t.prototype.S3=function(t){if(0!==t.zJ.z1.length){this.i6||(this.i6=this.KR._E(jb.Kb,void 0,void 0,void 0,void 0,Ip.DATE_RANGE),this.n6.g_(this.i6));PL(this.i6,t.zJ.z1,function(n){var i;return null!=(i=t.zJ.o2(n))?i:NaN})}},T(t,[{key:"Rm",get:function(){return this.n6}}]),t}(),nM=function(t){function n(){return t.call(this,SB.gJ)||this}return E(n,t),n}(Iu);var iM,eM=function(){function t(t){this.o3=[],this.Xz=void 0,this.r6=void 0,this.s6=t}var n=t.prototype;return n.u6=function(t){var n;return null==(n=this.o6(t))?void 0:n.v$},n.a6=function(t){this.Xz=t,this.h6()},n.c6=function(t,n,i,e,r,s){this.o3.push({b1:n,v$:t,f6:new yS([r,s]),v6:new yS([i,e])}),this.h6()},n.o6=function(t){for(var n=0,i=this.o3;n<i.length;n++){var e=i[n];if(e.v6.GD(t))return e}},n.l6=function(t){for(var n=0,i=this.o3;n<i.length;n++){var e=i[n];if(e.b1===t)return e}},n.vV=function(){var t=this.Km;t.b_>0&&(this.r6=t.NN(t.b_-1))},n.h6=function(){var t=this.s6.Km;this.o3=this.o3.filter(function(n){return 0!==t.FN(n.v6).b_})},T(t,[{key:"d6",get:function(){return this.Xz}},{key:"Km",get:function(){return t=this.s6.Km,n=this.s6.TV,i=n.iC(function(n,i){return t.$N(n,i,!1,!1)}),t.YN(i);var t,n,i}},{key:"$K",get:function(){return this.o3}},{key:"w6",get:function(){return this.r6}}]),t}(),rM=function(){function t(t,n,i,e,r){var s=this;this.s6=void 0,this._6=void 0,this.g6=void 0,this.Vi=void 0,this.m6=void 0,this.y6=void 0,this.pw=new au,this.k6=yS.fC(),this.p6=function(t){s.y6&&(t?gR(t)&&s.b6?s.m6.gL(s.s6.Km.oC)?s.y6.Wu():s.y6.Gu(t):cu(t)?s.y6.Wu():s.y6.Gu(t):s.y6.Wu(),s.y6=void 0)},this.Vi=t,this.g6=i,this.s6=n,this._6=e,this.m6=r}var n=t.prototype;return n.A6=function(){if(this.T6)throw new l("Cannot perform new operation while BufferAppender is still busy")},n.S6=function(t){this.s6!==t&&(this.A6(),this.s6=t,this._6=new eM(t))},n.E6=function(){return this.y6?this.y6.Hu:qe.resolve()},n.I6=function(t){var n,i,e=this._6.w6,r=this._6.Km;if(void 0===e)return!1;var s=g.min(t,e);return null!=(n=null==(i=r.LN().QN(this.R6).uC(s))?void 0:i.GD(e))&&n},n.D6=function(t){return this._6.u6(t)},n.Fs=function(){this.pw.Fs(),this.pw=new au},n.qz=function(t){var n=this;this.A6(),this.y6=new na;var i=function(i){n.g6.N6(t),n.p6(i)};this.Yz(t,this.pw.Ws).then(i,i)},n.Yz=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return aO.C$("Buffering","Appending initializer",LB(t.C6.QJ)),i.next=3,Fr.awrap(this.s6.qz(t,n));case 3:aO.C$("Buffering","Appended initializer",LB(t.C6.QJ)),this._6.a6(t);case 5:case"end":return i.stop()}},null,this,null,qe)},n.P6=function(t){var n=this;this.A6(),this.y6=new na;var i=function(i){n.g6.N6(t),n.p6(i)};this.B6(t,this.pw.Ws).then(i,i)},n.B6=function(t,n){var i,e,r,s,u,o,a,h,c,f,v,d,w,g;return Fr.async(function(m){for(;;)switch(m.prev=m.next){case 0:if(e=t.v$,r=t.b1,void 0!==e.zJ.P0){m.next=4;break}throw new l("MediaBufferWrapper - Cannot append HLSAsset to "+this.Vi+" MediaBuffer for a HLSRendition with an undefined targetDuration.");case 4:return s=this._6.Km.PN,u=this.s6.Km,aO.C$("Buffering","Appending",LB(t.C6.QJ)),m.next=9,Fr.awrap(this.s6.Vz(t,n));case 9:aO.C$("Buffering","Appended",LB(t.C6.QJ),s,this._6.Km.PN),o=t.Vy,a=o+t.Hg,h=t.C6,c=h.Vy,f=h.Vy+(null!=(i=h.Hg)?i:0),this._6.c6(e,r,o,a,c,f),v=this.s6.Km.QN(u),(d=this._6.l6(r-1))?this.O6(d)?0===v.b_?Boolean(this.x6.l6(r))||(w=this.s6.TV.FN(new yS([o,a])),this.k6=this.k6.YN(w)):(this.k6=this.k6.QN(new yS([v.RN(0),a])),v.RN(0)>o&&(this.k6=this.k6.YN(new yS([o,v.RN(0)])))):this.k6=this.k6.QN(new yS([o,a])):0===v.b_?(g=this.s6.TV.FN(new yS([o,a])),this.k6=this.k6.YN(g)):v.RN(0)>o&&(this.k6=this.k6.YN(new yS([o,v.RN(0)]))),t.C6.T2&&this._6.vV();case 20:case"end":return m.stop()}},null,this,null,qe)},n.O6=function(t){var n=t.v6,i=n.RN(0),e=n.NN(n.b_-1),r=n.DN(0),s=n.CN(n.b_-1);return this.k6.KN(i,e,r,s)},T(t,[{key:"fs",get:function(){return this.Vi}},{key:"b6",get:function(){return this.Vi===fp.dd||this.Vi===fp.wd}},{key:"x6",get:function(){return this._6}},{key:"R6",get:function(){return this.k6}},{key:"T6",get:function(){return void 0!==this.y6}}]),t}(),sM=function(){function t(t,n){this.L6=void 0,this.M6=t,this.lE=n}var n=t.prototype;return n.U6=function(t,n,i,e){var r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(this.X6(n,e));case 2:return r=s.sent,s.next=5,Fr.awrap(this.M6.U6(t,r,i));case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,qe)},n.X6=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if((null==(i=this.L6)?void 0:i.Ql)===t){u.next=10;break}return aO.C$("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),u.next=4,Fr.awrap(this.lE.Yl({Ql:t,Wl:xf.Gf,md:hw.GET,Ws:n,fs:cw.td,kd:fw.ld}));case 4:return e=u.sent,u.next=7,Fr.awrap(e.Rl());case 7:r=u.sent,s=new _(r),this.L6={Ql:t,Fi:s};case 10:return u.abrupt("return",this.L6.Fi);case 11:case"end":return u.stop()}},null,this,null,qe)},t}(),uM=function(){function t(t,n,i,e,r){void 0===r&&(r=2),this.lE=t,this.B4=n,this.H6=i,this.F6=e,this.z6=r}var n=t.prototype;return n.Yl=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.V6(t,n,xf.Gf,i));case 2:return e=r.sent,r.t0=_,r.next=6,Fr.awrap(e.Rl(i));case 6:return r.t1=r.sent,r.abrupt("return",new r.t0(r.t1));case 8:case"end":return r.stop()}},null,this,null,qe)},n.W6=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.V6(t,n,xf.Yf,i));case 2:return e=r.sent,r.abrupt("return",e.Dl(i));case 4:case"end":return r.stop()}},null,this,null,qe)},n.V6=function(t,n,i,e){var r,s,u,o,a=this;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return t.SJ&&0===(r=CB(t.SJ.RN,t.SJ.b_))[0]&&r[1]===Mt&&(r=void 0),s=r?{Range:"bytes="+r[0]+"-"+r[1]}:void 0,u=new dw({Ql:t.Ai,Wl:i,Vl:s,bd:this.F6,md:hw.GET,fs:cw.$l,kd:n,pd:this.H6,Ws:e}),h.prev=3,h.next=6,Fr.awrap(this.B4.G6(t.Ai,r));case 6:if(o=h.sent,fu(e),void 0===o){h.next=10;break}return h.abrupt("return",new vw({Yl:u,Fi:o.buffer}));case 10:h.next=16;break;case 12:h.prev=12,h.t0=h.catch(3),lu(h.t0);case 16:return h.next=18,Fr.awrap(WL(function(){return du(a.lE.Yl(u),u.Ws)},e,this.z6));case 18:return h.abrupt("return",h.sent);case 19:case"end":return h.stop()}},null,this,[[3,12]],qe)},t}(),oM=function(){function t(t,n){this.J4=void 0,this.q6=void 0,this.Y6=void 0,this.j6=new au,this.DG=-1/0,this.Q6=!1,this.J4=t,this.q6=n,this.Z6()}var n=t.prototype;return n.K6=function(){return this.q6.zJ.c1},n.J6=function(t,n,e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.K6()){r.next=2;break}throw new l("Could not perform blocking playlist update.");case 2:return r.prev=2,r.next=5,Fr.awrap(this.t5());case 5:return fu(e),r.next=8,Fr.awrap(this.J4.U4(this.q6,t,n,e));case 8:this.DG=i.ir(),r.next=15;break;case 11:throw r.prev=11,r.t0=r.catch(2),cu(r.t0)&&this.Z6(),r.t0;case 15:this.Z6();case 16:case"end":return r.stop()}},null,this,[[2,11]],qe)},n.n5=function(t){return this.J4.z4(this.q6,t)},n.Z6=function(){var t=this;if(!this.Y6&&!this.Q6){var n=function(){t.Y6=void 0};this.Y6=this.i5(this.j6.Ws).then(n,n)}},n.t5=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Y6){t.next=6;break}return this.j6.Fs(),this.j6=new au,t.next=5,Fr.awrap(this.Y6.catch(K));case 5:this.Y6=void 0;case 6:case"end":return t.stop()}},null,this,null,qe)},n.i5=function(t){var n,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.q6.zJ.V1||!this.q6.zJ.M3){r.next=3;break}return r.abrupt("return");case 3:if(n=i.ir()-this.DG,e=1e3*this.q6.zJ.U3,!(n<e)){r.next=8;break}return r.next=8,Fr.awrap(bu(e-n,t));case 8:return r.prev=8,r.next=11,Fr.awrap(this.J4.F4(this.q6,t));case 11:r.next=18;break;case 13:throw r.prev=13,r.t0=r.catch(8),lu(r.t0),this.J4.H4(this.q6),r.t0;case 18:this.DG=i.ir(),r.next=0;break;case 21:case"end":return r.stop()}},null,this,[[8,13]],qe)},n.xs=function(){this.Q6=!0,pu(this.t5())},t}();!function(t){t[t.LJ=0]="LJ",t[t.MJ=1]="MJ",t[t.$l=2]="$l",t[t.e5=3]="e5"}(iM||(iM={}));var aM="AssetExtractor",hM=function(){function t(){this.r5=[]}var n=t.prototype;return n.s5=function(t,n,i){for(var e=n,r=0,s=this.r5;r<s.length;r++){var u=s[r];if(e>=t)return!0;if(e<u.RN)return!1;if(e<u.NN){if(i<=u.NN)return!0;e=u.NN}}return e>=t},n.u5=function(t,n){for(var i=[],e=0;e<this.r5.length;e+=1){var r=this.r5[e],s=t-r.RN,u=r.Fi.length,o=g.min(u,g.max(s,0)),a=g.max(0,n+s),h=Qo(r.Fi,o,a);h.length&&(e=this.o5(e,r,t,o,a),i.push(h))}return i},n.a5=function(t,n){this.r5.push({RN:t,NN:t+n.length,Fi:n})},n.o5=function(t,n,i,e,r){var s=t;this.r5.splice(s,1),s-=1,n.RN<i&&(s+=1,this.r5.splice(s,0,{RN:n.RN,NN:i,Fi:Qo(n.Fi,0,e)}));var u=i+r-e;return u<n.NN&&(s+=1,this.r5.splice(s,0,{RN:u,NN:n.NN,Fi:Qo(n.Fi,r)})),s},t}(),cM=function(){function t(t,n){this.ov=void 0,this.h5=n,this.ov=t.getReader()}var n=t.prototype;return n.c5=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.ov.read());case 2:if(!(t=n.sent).done){n.next=6;break}throw this.h5=1/0,new l("No more data can be read from the given stream.");case 6:return this.h5+=t.value.length,n.abrupt("return",t.value);case 8:case"end":return n.stop()}},null,this,null,qe)},n.f5=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.ov.cancel(t));case 2:case"end":return n.stop()}},null,this,null,qe)},T(t,[{key:"v5",get:function(){return this.h5}}]),t}(),fM=function(){function t(t,n,i,e){this.l5=void 0,this.ov=void 0,this.d5=void 0,this.w5=void 0,this._5=void 0,this.g5=void 0,this.m5=new na,this.l5=t,this.ov=n,this.d5=i,this.w5=e,this._5=new na,this.g5=new na}var n=t.prototype;return n.y5=function(){this.g5.Wu(),this.g5=new na},n.k5=function(t){var n=vM(this.l5.SJ),i=n.p5,e=n.b5,r=this.d5.u5(i,e-i);aO.C$(aM,"Collected "+r.length+" chunks.");for(var s=0;s<r.length;s++){var u=r[s];t.enqueue(u)}},n.readAndSliceOutAssetBytes=function(t){var n,i,e,r,s,u,o,a,h,c,f,l,v;return Fr.async(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Fr.awrap(this._5.Hu);case 2:n=vM(this.l5.SJ),i=n.p5,e=n.b5,d.prev=3;case 4:return r=this.ov.v5,d.next=8,Fr.awrap(this.ov.c5());case 8:if(s=d.sent,u=s.length,aO.C$(aM,"Read "+u+" at "+r+" for extraction of "+LB(this.l5)),o=g.min(r+u,i),!((a=o-r)>0)){d.next=25;break}if(h=Qo(s,0,a),c=Qo(s,a),aO.C$(aM,"Of the read "+u+" bytes, the first "+a+" will be stored locally for extraction of "+LB(this.l5)),this.d5.a5(r,h),!(c.length>0)){d.next=23;break}return aO.C$(aM,"Extracting "+c.length+" bytes for extraction of "+LB(this.l5)),t.enqueue(c),this.y5(),d.abrupt("return",pu(this.readAndSliceOutAssetBytes(t)));case 23:d.next=46;break;case 25:if(!(r+u<=e)){d.next=33;break}return aO.C$(aM,"Extracting the read data range for extraction of "+LB(this.l5)),t.enqueue(s),this.y5(),d.abrupt("return",pu(this.readAndSliceOutAssetBytes(t)));case 33:if(l=Qo(s,0,f=e-r),v=Qo(s,f),l.length>0&&(aO.C$(aM,"Extracting "+l.length+" bytes for extraction of "+LB(this.l5)),t.enqueue(l)),aO.C$(aM,"Of the read "+u+" bytes, the last "+v.length+" will be stored locally for extraction of "+LB(this.l5)),this.d5.a5(r+f,v),aO.C$(aM,"Extraction of "+LB(this.l5)+" completed as the entire request has been fulfilled."),this.A5(t),!this.w5){d.next=45;break}return aO.C$(aM,"Aborting stream upstream as no more bytes are needed from "+LB(this.l5)+"."),d.next=45,Fr.awrap(this.ov.f5("AssetExtraction - AbortOnEnd"));case 45:return d.abrupt("return");case 46:d.next=4;break;case 48:d.next=54;break;case 50:d.prev=50,d.t0=d.catch(3),aO.C$(aM,"Extraction of "+LB(this.l5)+" completed as the entire source stream has been read."),this.A5(t);case 54:case"end":return d.stop()}},null,this,[[3,50]],qe)},n.A5=function(t){t.close(),this.y5(),this.m5.Wu()},n.start=function(t){aO.C$(aM,"Preparing to push all collected data to controller for extraction of "+LB(this.l5)),this.k5(t),aO.C$(aM,"Collected data pushed to controller for extraction of "+LB(this.l5));var n=vM(this.l5.SJ).b5;this.ov.v5>=n?(aO.C$(aM,"Extraction of "+LB(this.l5)+" completed as the entire request has been fulfilled."),this.A5(t)):(aO.C$(aM,"Continuing read from original stream for extraction of "+LB(this.l5)),pu(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this._5.Wu(),this._5=new na,this.g5.Hu},T(t,[{key:"T5",get:function(){return this.m5.Hu}}]),t}(),lM=function(){function t(t,n){this.d5=void 0,this.S5=void 0,this.E5=void 0,this.l5=n;var i=vM(this.l5.SJ).p5;this.S5=new cM(t,i),this.d5=new hM}var n=t.prototype;return n.Ey=function(t){if(!MB(this.l5,t))return!1;var n=vM(t.SJ),i=n.p5,e=n.b5;return this.d5.s5(this.S5.v5,i,e)},n.I5=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0===n&&(n=!1),i=this.S5,e=this.d5,aO.cT(aM,"Extracting data from "+LB(t)+" out of "+LB(this.l5)),!this.E5){s.next=8;break}return aO.C$(aM,"Awaiting previous extraction before extracting "+LB(t)+" out of "+LB(this.l5)),s.next=8,Fr.awrap(this.E5);case 8:if(this.Ey(t)){s.next=10;break}throw new l("The extractor does not contain the data requested");case 10:return r=new fM(t,i,e,n),this.E5=r.T5,s.abrupt("return",new yd(r));case 13:case"end":return s.stop()}},null,this,null,qe)},t}();function vM(t){if(t){var n=t.RN;return{p5:n,b5:void 0!==t.b_?n+t.b_:Mt}}return{p5:0,b5:Mt}}var dM,wM=function(){function t(t,n){this.pw=new au,this.R5=void 0,this.l5=t,this.D5=n,this.R5=this.jh()}var n=t.prototype;return n.jh=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.D5.W6(this.l5,fw.Kl,this.pw.Ws));case 2:return t=n.sent,n.abrupt("return",new lM(t,this.l5));case 4:case"end":return n.stop()}},null,this,null,qe)},n.Ey=function(t){return MB(this.l5,t)},n.I5=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!1),e.next=3,Fr.awrap(this.R5);case 3:return i=e.sent,e.next=6,Fr.awrap(du(i.I5(t,n),this.pw.Ws));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},null,this,null,qe)},n.Fs=function(){this.R5.catch(K),this.pw.Fs()},t}(),gM=function(t){function n(){return t.call(this,dM.N5)||this}return E(n,t),n}(Iu),mM="HlsPlaylistDownloader";!function(t){t.N5="videosegmentdownloaded"}(dM||(dM={}));var yM=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Vi=void 0,a.J4=void 0,a.g6=void 0,a.D5=void 0,a.C5=void 0,a.q6=void 0,a.P5=void 0,a.B5=void 0,a.O5=void 0,a.x5=new au,a.L5=void 0,a.M5=void 0,a.U5=void 0,a.X5=void 0,a.H5=function(t){a.B5&&(a.q6=a.B5,a.B5=void 0,a.L5=void 0,a.M5=void 0),a.O5&&(t&&!cu(t)?a.O5.Gu(t):a.O5.Wu(),a.O5=void 0)},a.Vi=n,a.J4=e,a.g6=r,a.q6=i,a.P5=new oM(e,i),a.C5=new sM(o,s),a.D5=new uM(s,u,function(t){switch(t){case EB.wd:return lw.wd;case EB.dd:return lw.dd;case EB.Qb:case EB.TJ:return lw.$n;default:return lw.Kl}}(i.fs),!1),a}E(n,t);var e=n.prototype;return e.F5=function(t){this.P5.xs(),this.P5=new oM(this.J4,t),this.T6?this.B5=t:(this.q6=t,this.L5=void 0,this.M5=void 0)},e.E6=function(){return this.O5?this.O5.Hu:qe.resolve()},e.z5=function(){return this.g6.z5()},e.V5=function(t){this.g6.V5(t)},e.Fs=function(){var t,n;this.x5.Fs(),this.x5=new au,null==(t=this.X5)||t.Fs(),null==(n=this.U5)||n.Fs(),this.X5=void 0,this.U5=void 0,this.L5=void 0,this.M5=void 0},e.xs=function(){this.P5.xs()},e.W5=function(t){var n=this.q6.zJ.m3(t);if(!n)return!1;if(void 0!==this.L5){var i=n.b1===this.L5;return void 0!==this.M5?n.C2(t)===n.N2(this.M5)&&i:i}return!1},e.G5=function(t){var n;if(void 0===this.L5)n=this.q5(t);else if(n=this.Y5(this.L5,this.M5)){var i=n,e=i[0],r=i[1],s=(null!=r?r:e).Vy,u=3*this.v$.zJ.P0;g.abs(s-t)>=u&&(n=this.q5(t))}if(n){var o=n,a=o[0],h=o[1];return 0===(null==h?void 0:h._2)&&void 0!==a.Hg?[a,void 0]:[a,h]}},e.q5=function(t){var n,i,e,r=this.q6.zJ.$K;if(0!==r.length){var s=r[r.length-1];if(s.Vy+(null!=(n=s.Hg)?n:s.f2)<=t)i=s,e=s.B2(t);else if(r[0].Vy>t)e=(i=r[0]).N2(0);else{var u;e=null==(u=i=this.q6.zJ.m3(t))?void 0:u.B2(t)}return i?[i,e]:void 0}},e.Y5=function(t,n){var i,e,r;if((i=this.q6.zJ.g3(t))&&void 0!==n){if(0===i.L1.length)return[i,void 0];e=i.N2(n+1)}void 0!==i&&void 0!==e||(e=null==(r=i=this.q6.zJ.g3(t+1))?void 0:r.N2(0));return i?[i,e]:void 0},e.A6=function(){if(this.T6)throw new l("Cannot perform new operation while PlaylistDownloader is still busy")},e.j5=function(t){this.A6(),this.O5=new na,this.Q5(t,this.x5.Ws).then(this.H5,this.H5)},e.Z5=function(){this.P5.Z6()},e.Q5=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=this.G5(t))||!this.P5.K6()||void 0===this.L5){e.next=5;break}return e.next=4,Fr.awrap(this.P5.J6(void 0===this.M5?this.L5+1:this.L5,void 0!==this.M5?this.M5+1:void 0,n));case 4:i=this.G5(t);case 5:if(i||!this.P5.K6()||void 0===this.L5){e.next=9;break}return e.next=8,Fr.awrap(this.P5.J6(this.L5+1,0,n));case 8:i=this.G5(t);case 9:if(i){e.next=16;break}return aO.cT(mM,"No next segment / part available, need to update playlist before continuing."),e.next=13,Fr.awrap(this.P5.n5(n));case 13:i=this.G5(t),e.next=9;break;case 16:case"end":return e.stop()}},null,this,null,qe)},e.K5=function(){return this.g6.J5()},e.t8=function(){this.A6();try{var t=this.q6.zJ.b3(PB.LJ);t&&this.n8(t);var n=this.q6.zJ.b3(PB.MJ);n&&this.i8(n)}catch(t){throw lu(t),this.v$.zJ.X3=i.ir(),this.J4.H4(this.v$),t}},e.n8=function(t){this.U5&&!this.U5.Ey(t.QJ)&&(this.U5.Fs(),this.U5=void 0),this.U5||(this.U5=new wM(t.QJ,this.D5))},e.i8=function(t){this.X5&&!this.X5.Ey(t.QJ)&&(this.X5.Fs(),this.X5=void 0),this.X5||(this.X5=new wM(t.QJ,this.D5))},e.e8=function(t,n,e){var r=this;this.A6(),aO.cT(mM,"Starting download of segment "+LB(t.QJ)+" and part "+(null==n?void 0:n._2)),this.O5=new na,this.r8(t,n,e,this.x5.Ws).catch(function(t){throw lu(t),r.v$.zJ.X3=i.ir(),r.J4.H4(r.v$),t}).then(this.H5,this.H5)},e.r8=function(t,n,i,e){var r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!t.U1){u.next=5;break}if(i&&jB(i.C6.QJ,t.U1.QJ)&&t.F1===i.F1){u.next=5;break}return u.next=4,Fr.awrap(this.s8(t.U1,t,e));case 4:s=u.sent;case 5:if(s){u.next=9;break}return u.next=8,Fr.awrap(this.u8(t,n,e));case 8:s=u.sent;case 9:this.g6.o8(s),"a8"===s.fs&&this.Vi===fp.wd&&this.Qs(new gM),aO.C$("Buffering","Download complete",LB(null!=(r=null==n?void 0:n.QJ)?r:t.QJ));case 12:case"end":return u.stop()}},null,this,null,qe)},e.u8=function(t,n,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!n){o.next=26;break}if(!this.X5){o.next=19;break}if(!this.X5.Ey(n.QJ)){o.next=17;break}return o.next=5,Fr.awrap(this.X5.I5(n.QJ));case 5:return r=o.sent,o.t0=_,o.next=9,Fr.awrap(zd(r,i));case 9:return o.t1=o.sent,s=new o.t0(o.t1),o.next=13,Fr.awrap(this.U6(s,n.P1,i));case 13:u=o.sent,e=bM(n,u),o.next=19;break;case 17:this.X5.Fs(),this.X5=void 0;case 19:if(e){o.next=24;break}return aO.C$("Buffering","Start download",LB(n.QJ)),o.next=23,Fr.awrap(this.h8(n,i));case 23:e=o.sent;case 24:o.next=30;break;case 26:return aO.C$("Buffering","Start download",LB(t.QJ)),o.next=29,Fr.awrap(this.c8(t,i));case 29:e=o.sent;case 30:return this.L5=t.b1,this.M5=null==n?void 0:n._2,o.abrupt("return",{fs:"a8",b1:t.b1,a8:e,v$:this.q6,F1:t.F1});case 33:case"end":return o.stop()}},null,this,null,qe)},e.s8=function(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.U5){a.next=17;break}if(!this.U5.Ey(t.QJ)){a.next=14;break}return a.next=4,Fr.awrap(du(this.U5.I5(t.QJ),i));case 4:return s=a.sent,a.t0=_,a.next=8,Fr.awrap(zd(s,i));case 8:return a.t1=a.sent,u=new a.t0(a.t1),a.next=12,Fr.awrap(this.U6(u,t.O1?[t.O1]:[],i));case 12:o=a.sent,e=pM(t,n,o);case 14:aO.cT(mM,"MAP is required for segment, downloading MAP data."),null==(r=this.U5)||r.Fs(),this.U5=void 0;case 17:if(e){a.next=22;break}return aO.C$("Buffering","Start download",LB(t.QJ)),a.next=21,Fr.awrap(this.f8(t,n,i));case 21:e=a.sent;case 22:return a.abrupt("return",{fs:"U1",U1:e,Vy:n.Vy,F1:n.F1,P1:n.P1});case 23:case"end":return a.stop()}},null,this,null,qe)},e.f8=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Fr.awrap(this.D5.Yl(t.QJ,fw.ed,i));case 2:return e=u.sent,r=t.O1?[t.O1]:[],u.next=6,Fr.awrap(this.U6(e,r,i));case 6:return s=u.sent,u.abrupt("return",pM(t,n,s));case 8:case"end":return u.stop()}},null,this,null,qe)},e.c8=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.QJ){r.next=2;break}throw new l("Internal error: attempted to download an incomplete segment");case 2:return r.next=4,Fr.awrap(this.D5.Yl(t.QJ,fw.Kl,n));case 4:return i=r.sent,r.next=7,Fr.awrap(this.U6(i,t.P1,n));case 7:return e=r.sent,r.abrupt("return",_M(t,e));case 9:case"end":return r.stop()}},null,this,null,qe)},e.h8=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.D5.Yl(t.QJ,fw.Kl,n));case 2:return i=r.sent,r.next=5,Fr.awrap(this.U6(i,t.P1,n));case 5:return e=r.sent,r.abrupt("return",bM(t,e));case 7:case"end":return r.stop()}},null,this,null,qe)},e.U6=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(e=Ws(n,function(t){return t.md===xB.UJ})){r.next=3;break}return r.abrupt("return",t);case 3:if(e.QJ&&e.u1){r.next=6;break}return aO.mu(mM,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),r.abrupt("return",t);case 6:return r.next=8,Fr.awrap(this.C5.U6(t,e.QJ,e.u1,i));case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}},null,this,null,qe)},T(n,[{key:"T6",get:function(){return void 0!==this.O5}},{key:"v$",get:function(){var t;return null!=(t=this.B5)?t:this.q6}},{key:"v8",get:function(){if(!this.q6.zJ.V1)return!1;if(void 0===this.L5)return!1;var t=this.q6.zJ.$K[this.q6.zJ.$K.length-1];return t.b1===this.L5&&!(this.M5&&this.M5!==t.L1.length-1)}}]),n}(Su);function pM(t,n,i){return{Fi:{Fi:i,fs:VC.GX},fs:iM.LJ,C6:t,F1:n.F1}}function _M(t,n){return{Fi:{Fi:n,fs:VC.GX},fs:iM.$l,C6:t,F1:t.F1}}function bM(t,n){return{Fi:{Fi:n,fs:VC.GX},fs:iM.MJ,C6:t,F1:t.w2.F1}}var kM,AM=function(){function t(){this.l8=[],this.d8=Xr(),this.w8=void 0,this._8=void 0}var n=t.prototype;return n.o8=function(t){"U1"===t.fs&&(this._8=t.U1),this.l8.push(t),this.w8&&(this.w8.Wu(),this.w8=void 0)},n.z5=function(){return this.l8[0]},n.V5=function(t){$s(this.l8,t)},n.J5=function(){return null!=this.w8||(this.w8=new na),this.w8.Hu},n.g8=function(t){this.m8(t.n4).g8(t)},n.y8=function(t){return this.m8(t).y8()},n.N6=function(t){this.m8(t.n4).N6(t)},n.k8=function(t){var n;null==(n=this.d8.get(t))||n.xs()},n.p8=function(t){return this.m8(t).p8()},n.m8=function(t){if(this.d8.has(t))return this.d8.get(t);var n=new TM;return this.d8.set(t,n),n},n.Nu=function(){this.b8(),this.A8()},n.b8=function(){this._8=void 0,Ks(this.l8)},n.A8=function(){this.d8.forEach(function(t){return t.Nu()})},n.xs=function(){this.d8.forEach(function(t){return t.xs()}),this.d8.clear(),this.Nu(),this.w8&&(this.w8.Gu(new hu),this.w8=void 0)},T(t,[{key:"d6",get:function(){return this._8}},{key:"T8",get:function(){for(var t=yS.fC(),n=0,i=this.l8;n<i.length;n++){var e=i[n];if("a8"===e.fs){var r,s=e.a8.C6;t=t.YN(new yS([s.Vy,s.Vy+(null!=(r=s.Hg)?r:0)]))}}return t}},{key:"S8",get:function(){var t=yS.fC();return this.d8.forEach(function(n){t=t.YN(n.S8)}),t}}]),t}(),TM=function(){function t(){this.E8=[],this.I8=void 0}var n=t.prototype;return n.g8=function(t){this.E8.push(t),this.I8&&(this.I8.Wu(),this.I8=void 0)},n.y8=function(){return this.E8[0]},n.N6=function(t){$s(this.E8,t)},n.p8=function(){return null!=this.I8||(this.I8=new na),this.I8.Hu},n.Nu=function(){Ks(this.E8)},n.xs=function(){this.Nu(),this.I8&&(this.I8.Gu(new hu),this.I8=void 0)},T(t,[{key:"S8",get:function(){for(var t=yS.fC(),n=0,i=this.E8;n<i.length;n++){var e=i[n];"a8"===e.fs&&(t=t.YN(new yS([e.Vy,e.Vy+e.Hg])))}return t}}]),t}(),SM=function(){function t(t,n){this.R8=void 0,this.c4=void 0,this.D8=yS.fC(),this.R8=t,this.c4=n}var n=t.prototype;return n.qz=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=t.Fi.Fi,this.N8(i),this.R8.fs!==Ip.TTML){u.next=8;break}if(this.c4.V3(t.F1)){u.next=6;break}return u.next=6,Fr.awrap(du(this.c4.W3(t.F1),n));case 6:for(e=this.C8(i,t.F1),r=0;r<e.length;r++)s=e[r],this.R8.mE(s);case 8:case"end":return u.stop()}},null,this,null,qe)},n.Vz=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t.Fi){r.next=2;break}return r.abrupt("return");case 2:if(i=t.Vy,e=i+t.Hg,this.D8=this.D8.YN(new yS([i,e])),this.c4.V3(t.F1)){r.next=8;break}return r.next=8,Fr.awrap(du(this.c4.W3(t.F1),n));case 8:this.Gz(t.Fi.Fi,t.F1,t.C6);case 9:case"end":return r.stop()}},null,this,null,qe)},n.Gz=function(t,n,i){this.N8(t);for(var e=0,r=this.R8.fs===Ip.WEBVTT?this.P8(t,i):this.C8(t,n);e<r.length;e++){var s=r[e];this.R8.mE(s)}},n.P8=function(t,n){for(var i,e,r=(void 0===e&&(e=b_),D_(Vo(qo(t),new Jo),e)),s=r.j_,u=null!=(i=r.$p)?i:{ib:f_.qk,eb:f_.qk},o=0;o<s.length;o++){var a=s[o],h=f_.Np(a.Vy).Mk(u.eb).Sy(u.ib),c=this.c4.Q3(h,n).Ek(),f=c+(a.Wy-a.Vy);a.Vy=c,a.Wy=f}return s},n.C8=function(t,n){var i=this.c4.j3(n).Ek();return Sb(t,this.R8,{jp:0,Qp:1/0,Zp:i},Uc.APPLICATION_MP4)},n.N8=function(t){this.R8.fs===Ip.DEFAULT&&(this.R8.fs=this.B8(t)?Ip.WEBVTT:Ip.TTML)},n.B8=function(t){return H_(Vo(Wo(qo(t),0,g.min(t.byteLength,7)),new Jo))},n.mV=function(t,n){},n.yV=function(t,n){},T(t,[{key:"Km",get:function(){return this.D8}},{key:"TV",get:function(){return yS.fC()}}]),t}(),EM=function(t){function n(n,i){var e;return(e=t.call(this,kM.O8)||this).v$=n,e.HF=i,e}return E(n,t),n}(Iu),IM=function(t){function n(n){var i;return(i=t.call(this,kM.x8)||this).v$=n,i}return E(n,t),n}(Iu);!function(t){t.O8="L8",t.x8="M8"}(kM||(kM={}));var RM=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).q6=void 0,s.g6=void 0,s.c4=void 0,s.U8=void 0,s.X8=void 0,s.pw=new au,s.H8=function(t){s.X8&&(t&&!cu(t)?s.X8.Gu(t):(s.X8.Wu(),s.X8=void 0))},s.q6=n,s.g6=i,s.c4=e,s.U8=r,s}E(n,t);var i=n.prototype;return i.F5=function(t){this.q6!==t&&(this.Fs(),this.q6=t)},i.F8=function(t){for(var n=0,i=this.U8;n<i.length;n++){var e=i[n];Qs(t,e)||this.g6.k8(e)}this.U8=t},i.E6=function(){var t,n;return null!=(t=null==(n=this.X8)?void 0:n.Hu)?t:qe.resolve()},i.A6=function(){if(this.T6)throw new l("Cannot perform new operation while transmuxer is still busy")},i.z8=function(t){var n=this;this.A6(),this.X8=new na;var i=function(i){n.g6.V5(t),n.H8(i)};this.V8(t,this.pw.Ws).then(i,i)},i.W8=function(t){var n=this;this.A6(),this.X8=new na;var i=function(i){n.g6.V5(t),n.H8(i)};this.G8(t,this.pw.Ws).then(i,i)},i.q8=function(t){this.Qs(new EM(this.q6,t))},i.Y8=function(){this.Qs(new IM(this.q6))},i.g8=function(t){Qs(this.U8,t.n4)&&this.g6.g8(t)},i.j8=function(t){return this.g6.y8(t)},i.N6=function(t){this.g6.N6(t)},i.Q8=function(t){return this.g6.p8(t)},i.Fs=function(){this.pw.Fs(),this.pw=new au},T(n,[{key:"v$",get:function(){return this.q6}},{key:"Z8",get:function(){return this.U8}},{key:"T6",get:function(){return void 0!==this.X8}}]),n}(Su);function CM(t){return function(t){return SL(t)?t.M2:0===t._2&&t.w2.M2}(t)?0:t.Vy}var DM=function(t){function n(n,i,e,r){return t.call(this,n,i,e,[r])||this}E(n,t);var i=n.prototype;return i.V8=function(t,n){fu(n);var i={fs:"K8",Fi:t.U1.Fi,n4:this.Z8[0],F1:t.F1,J8:{HF:"",P1:t.P1},Vy:t.Vy,v$:this.v$,C6:t.U1.C6};return this.g8(i),qe.resolve()},i.G8=function(t,n){var i;fu(n);var e=t.a8.C6,r={fs:"a8",Fi:t.a8.Fi,n4:this.Z8[0],b1:t.b1,t9:CM(e),Vy:e.Vy,Hg:null!=(i=e.Hg)?i:0,Zp:0,F1:t.F1,v$:t.v$,C6:t.a8.C6};return this.g8(r),qe.resolve()},n}(RM),NM=function(){function t(t,n,i,e){this.n9=[],this.i9=t,this.g6=n,this.e9=i,this.TC=e}var n=t.prototype;return n.F5=function(t){this.i9.F5(t)},n.r9=function(t){for(var n=this,i=t.slice(),e=function(t){var e=n.n9[t];if(!e.b6)throw new l("Invalid state");var r=Gs(i,function(t){return t.fs===e.fs});r>=0?(e.S6(i[r]),Ys(i,r)):Ys(n.n9,t)},r=this.n9.length-1;r>=0;r--)e(r);for(var s=0;s<i.length;s++){var u=i[s],o=new eM(u);this.n9.push(new rM(u.fs,u,this.g6,o,this))}i.length>0&&this.g6.Nu();var a=t.map(function(t){return t.fs});this.e9.F8(a)},n.gL=function(t){var n,i=(null==(n=this.TC)?void 0:n.gL(t))||!1;return i&&(this.Fs(),this.s9.Nu()),i},n.u9=function(t){for(var n=0,i=this.n9;n<i.length;n++){var e=i[n];if(e.fs!==fp.$n||e.T6)throw new l("Invalid state")}var r=new eM(t),s=new rM(fp.$n,t,this.g6,r,this);this.n9=[s]},n.o9=function(){for(var t=0,n=this.n9;t<n.length;t++){n[t].x6.h6()}},n.a9=function(t){var n=this.h9.uC(t,.001);return n?n.NN(n.b_-1):t},n.W5=function(t){return!!this.h9.uC(t,.001)||this.i9.W5(t)},n.c9=function(t){return this.f9.GD(t,.001)},n.v9=function(t,n,i){for(var e=0,r=this.n9;e<r.length;e++){var s=r[e].x6,u=s.w6;if(void 0!==u&&n>=u)return!s.Km.LN().GD(u)}return n-t<i},n.Fs=function(){this.l9(),this.d9()},n.l9=function(){this.w9.Fs()},n.d9=function(){this._9.Fs(),this.g9.forEach(function(t){return t.Fs()})},n.xs=function(){this.Fs(),this.w9.xs()},T(t,[{key:"g9",get:function(){return this.n9}},{key:"w9",get:function(){return this.i9}},{key:"_9",get:function(){return this.e9}},{key:"s9",get:function(){return this.g6}},{key:"v$",get:function(){return this.i9.v$}},{key:"d6",get:function(){var t=this.g6.d6;if(t)return t;if(this.n9.length>0){var n=this.n9[0].x6.d6;if(n&&this.n9.every(function(t){return t.x6.d6===n}))return n}}},{key:"h9",get:function(){if(0===this.n9.length)return yS.fC();for(var t=this.g6.T8.YN(this.g6.S8).LN(),n=new yS([0,1/0]),i=0,e=this.n9;i<e.length;i++){for(var r=e[i],s=r.x6.Km,u=r.x6.$K,o=r.R6,a=0;a<u.length;a++)for(var h=u[a],c=h.f6.QN(h.v6),f=0;f<c.b_;f++)t.$N(c.RN(f),c.NN(f),!0,!0)&&(s=s.YN(c.sC(f)));n=n.FN(s).QN(o)}return n=n.YN(t)}},{key:"f9",get:function(){if(0===this.n9.length)return yS.fC();for(var t=this.g6.S8.LN(),n=new yS([0,1/0]),i=0,e=this.n9;i<e.length;i++){for(var r=e[i],s=r.x6.Km,u=r.x6.$K,o=0;o<u.length;o++)for(var a=u[o],h=a.f6.QN(a.v6),c=0;c<h.b_;c++)t.$N(h.RN(c),h.NN(c),!0,!0)&&(s=s.YN(h.sC(c)));n=n.FN(s)}return n=n.YN(t)}}]),t}();var PM=function(t){function n(){return t.call(this,SB.kJ)||this}return E(n,t),n}(Iu),xM=function(t){function n(){return t.call(this,SB.mJ)||this}return E(n,t),n}(Iu),BM=function(t){function i(n,i){var e;return(e=t.call(this)||this).Dc=void 0,e.s6=void 0,e.m9=new na,e.fL=yR,e.y9=!1,e.vL=lR,e.wV=new GC,e.Vi=n,e.k9=i,e}E(i,t);var e=i.prototype;return e.HX=function(){return this.s6?this.s6.HX():this.y9},e.mV=function(t,n){aO.C$("LazyMediaBuffer","Marking gap from "+t+" to "+n+"."),this.wV.KX(t,n),this.s6&&this.s6.mV(t,n)},e.yV=function(t,n){aO.C$("LazyMediaBuffer","Removing gap from "+t+" to "+n+"."),this.wV.JX(t,n),this.s6&&this.s6.yV(t,n)},e.p9=function(t){this.s6=t,this.s6.oL=this.vL,this.s6.eL=this.fL;for(var n,i=this.wV.$X,e=0;e<i.b_;e++)this.s6.mV(i.RN(e),i.NN(e));this.y9&&(aO.C$("LazyMediaBuffer","End of stream"),null==(n=this.s6)||n.vV());this.s6.Zs(jC.VX,this.js),this.m9.Wu(t)},e.b9=function(t){return du(this.m9.Hu,t)},e.Vz=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.b9(i));case 2:return e=r.sent,r.next=5,Fr.awrap(e.Vz(t,n,i));case 5:case"end":return r.stop()}},null,this,null,qe)},e.kV=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.b9());case 2:return t=n.sent,n.next=5,Fr.awrap(t.kV());case 5:case"end":return n.stop()}},null,this,null,qe)},e.qz=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.b9(i));case 2:return e=r.sent,r.next=5,Fr.awrap(e.qz(t,n,i));case 5:case"end":return r.stop()}},null,this,null,qe)},e.Qh=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.b9(i));case 2:return e=r.sent,r.next=5,Fr.awrap(e.Qh(t,n,i));case 5:case"end":return r.stop()}},null,this,null,qe)},e.tV=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(this.b9());case 2:return i=e.sent,e.next=5,Fr.awrap(i.tV(t,n));case 5:case"end":return e.stop()}},null,this,null,qe)},e.vV=function(){this.y9=!0,this.s6&&this.s6.vV()},e.CX=function(t){return!!this.s6&&this.s6.CX(t)},e.PX=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.b9());case 2:return n=i.sent,i.next=5,Fr.awrap(n.PX(t));case 5:case"end":return i.stop()}},null,this,null,qe)},e.Sd=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.$s(),null==(t=this.s6)||t.tu(jC.VX,this.js);case 2:case"end":return n.stop()}},null,this,null,qe)},T(i,[{key:"Nl",get:function(){return this.Dc}},{key:"AV",get:function(){return this.Vi}},{key:"rc",get:function(){if(!this.s6)throw new lf(n.ErrorCode.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.s6.rc}},{key:"eL",get:function(){return this.fL},set:function(t){this.fL=t,this.s6&&(this.s6.eL=t)}},{key:"Km",get:function(){return this.s6?this.s6.Km:yS.fC()}},{key:"TV",get:function(){return this.s6?this.s6.TV:this.wV.$X}},{key:"oL",get:function(){return this.vL},set:function(t){this.vL=t,this.s6&&(this.s6.oL=t)}}]),i}(Su),OM="LazyMediaSource",LM=function(){function t(t,n,i){this.A9=void 0,this.T9=void 0,this.S9=new na,this.JR=void 0,this.E9=!1,this.ua=NaN,this.lK=!1,this.I9=0,this.R9=1/0,this.D9=!1,this.N9=!1,this.KR=t,n&&(aO.C$(OM,"Created lazy media buffer for audio."),this.A9=new BM(fp.dd,this)),i&&(aO.C$(OM,"Created lazy media buffer for video."),this.T9=new BM(fp.wd,this))}var n=t.prototype;return n.cW=function(t){this.ua=t,this.JR&&this.JR.cW(t)},n.vV=function(){this.lK=!0,this.JR&&this.JR.vV()},n.aV=function(){this.lK=!1,this.JR&&this.JR.aV()},n.lW=function(t,n,i,e){this.I9=t,this.R9=n,this.D9=Boolean(i),this.N9=Boolean(e),this.JR&&this.JR.lW(t,n,i,e)},n.CX=function(t){return!this.JR||this.JR.CX(t)},n.PX=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.CX(t)){r.next=2;break}throw new l("LazyMediaSource - Unable to reconfigure MediaSource.");case 2:if(this.JR){r.next=19;break}return this.KR.mj(),r.next=6,Fr.awrap(this.KR.jh(t));case 6:e=r.sent,p(this.ua)||e.cW(this.ua),this.lK&&e.vV(),e.lW(this.I9,this.R9,this.D9,this.N9),aO.C$(OM,"The MediaSource has been loaded."),this.E9=!0,this.JR=e,null==(n=this.A9)||n.p9(this.JR.KV),null==(i=this.T9)||i.p9(this.JR.JV),this.S9.Wu(e),this.KR.yj(),r.next=21;break;case 19:return r.next=21,Fr.awrap(this.JR.PX(t));case 21:case"end":return r.stop()}},null,this,null,qe)},n.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.JR){t.next=3;break}return t.next=3,Fr.awrap(this.JR.xs());case 3:case"end":return t.stop()}},null,this,null,qe)},T(t,[{key:"rc",get:function(){return{fs:vk.bE,dW:[],ND:[]}}},{key:"Im",get:function(){throw new l("Not implemented")}},{key:"KV",get:function(){return this.A9}},{key:"JV",get:function(){return this.T9}},{key:"Km",get:function(){return this.JR?this.JR.Km:yS.fC()}},{key:"Hg",get:function(){return this.JR?this.JR.Hg:this.ua}},{key:"HX",get:function(){return!!this.JR&&this.JR.HX}},{key:"py",get:function(){return this.JR?this.JR.py:new yS([0,1/0])}}]),t}();function MM(t,n){return void 0===n&&(n=!1),function(i,e){void 0===e&&(e="*");var r,s,u,o=FM(i,"tag"),a=FM(null==e?"*":e,"range"),h=[],c=-1;for(;++c<a.length;)if(r=a[c].toLowerCase(),n||"*"!==r){for(s=-1,u=[];++s<o.length;)if(t(o[s].toLowerCase(),r)){if(!n)return o[s];h.push(o[s])}else u.push(o[s]);o=u}return n?h:void 0}}MM(function(t,n){return"*"===n||t===n||ks(t,n+"-")},!0),MM(function(t,n){var i=t.split("-"),e=n.split("-"),r=0,s=0;if("*"!==e[s]&&i[r]!==e[s])return!1;for(r++,s++;s<e.length;)if("*"!==e[s]){if(!i[r])return!1;if(i[r]!==e[s]){if(1===i[r].length)return!1;r++}else r++,s++}else s++;return!0},!0);var jM=MM(function(t,n){for(var i,e=n;;){if("*"===e||t===e)return!0;if((i=e.lastIndexOf("-"))<0)return!1;"-"===e.charAt(i-2)&&(i-=2),e=e.slice(0,i)}});function FM(t,n){var i=t&&"string"==typeof t?[t]:t;if(!(i&&"object"==typeof i&&"length"in i))throw new l("Invalid "+n+" `"+i+"`, expected non-empty string");return i}var UM,HM=function(t){function n(){return t.call(this,Pf.Sf)||this}return E(n,t),n}(Iu),XM=function(t){function n(){return t.call(this,Pf.Tf)||this}return E(n,t),n}(Iu),VM=16384,zM=71,WM=188;function qM(t){return null!==hP(qo(t),new Jo)?UM.C9:function(t){return function(t){if(t.length<2*WM)return-1;for(var n=g.min(1e3,t.length-2*WM),i=0;i<=n;i++)if(t[i]===zM&&t[i+WM]===zM)return i;return-1}(t)>=0}(t)?UM.P9:GM(t)?UM._g:UM.Kl}function GM(t){var n=zo(t,0,g.min(t.length,VM));return vb.NA(qo(n))}!function(t){t[t.Kl=0]="Kl",t[t._g=1]="_g",t[t.P9=2]="P9",t[t.C9=3]="C9"}(UM||(UM={}));var $M=function(){function t(t,n,i,e){this.Vi=void 0,this.s6=void 0,this.B9=void 0,this.O9=void 0,this.x9=void 0,this.Vi=t,this.s6=n,this.O9=i,this.x9=e}var n=t.prototype;return n.L9=function(t){return this.s6===t},n.qz=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Fr.awrap(this.s6.qz(t.Fi,{M9:t.v$.B_},n));case 3:this.Vi===fp.wd&&GM(t.Fi.Fi)&&this.x9.U9(t.Fi.Fi);case 4:case"end":return i.stop()}},null,this,null,qe)},n.Vz=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(fu(n),aO.cT("HlsMediaBuffer","Got media data, appending to "+this.Vi+" MediaBuffer: "+LB(t.C6.QJ)),i=t.t9,e=t.Vy+t.Hg,r={m2:t.Vy,Hg:t.Hg,Zp:t.Zp,M9:t.v$.B_},void 0===t.Fi){s.next=10;break}return s.next=9,Fr.awrap(this.s6.Vz(t.Fi,r,n));case 9:this.X9(t.Fi,t);case 10:this.H9(i,e);case 11:case"end":return s.stop()}},null,this,null,qe)},n.X9=function(t,n){if(GM(t.Fi)){var i=n.Vy,e=i+n.Hg,r=n.Zp;this.O9.c6(t.Fi,i,r),this.Vi===fp.wd&&this.x9.c6(t.Fi,i,e,r)}},n.H9=function(t,n){for(var i=this.s6.Km,e=new yS([t,n]).QN(i),r=0;r<e.b_;r++)this.s6.mV(e.RN(r),e.NN(r));for(var s=0;s<i.b_;s++)this.s6.yV(i.RN(s),i.NN(s))},n.mV=function(t,n){this.s6.mV(t,n)},n.yV=function(t,n){this.s6.yV(t,n)},T(t,[{key:"fs",get:function(){return this.Vi}},{key:"Km",get:function(){return this.s6.Km}},{key:"TV",get:function(){return this.s6.TV}}]),t}(),YM=2500;var QM=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,u,!1)||this).F9=void 0,o.ke=void 0,o.z9=void 0,o.F9=e,o.ke=r,o.z9=s,o}return E(n,t),n.prototype.lk=function(n){return this===n||Am(this,n)&&t.prototype.lk.call(this,n)&&km(this.Gy,n.Gy)},T(n,[{key:"TS",get:function(){return this.F9}},{key:"Ai",get:function(){return this.ke}},{key:"V9",get:function(){return this.z9}},{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=_m(jp(t=this),{get schemeIDURI(){return t.TS},get value(){return t.Ai},get emsgID(){return t.V9}})),this.Ww}}]),n}(Wp);function ZM(t,n){return t+" "+n}var KM,JM,tj=function(t){function n(n){var i;return(i=t.call(this)||this).vE=void 0,i.vE=n,i}E(n,t);var i=n.prototype;return i.c6=function(t,i,e){var r=vb.RA(qo(t));if(r){var s=ub(r,m_.Vb);if(s.length){var u=n.W9(r,i,e);this.G9(s,u,e)}}},i.G9=function(t,n,i){for(var e=0;e<t.length;e++){var r=t[e],s=void 0,u=(s=1===r.EA?r.SS.toNumber()/r.yp+i:n+r.RS/r.yp)+r.ES/r.yp;"https://aomedia.org/emsg/ID3"===r.TS?this.q9(r,s):this.Y9(r,s,u)}},i.Y9=function(t,n,i){var e=ZM(t.TS,t.Ai),r=this.j9(e);r||(r=this.Q9(e),this.Z9(r)),r.mE(new QM(n,i,t.TS,t.Ai,t.P_,t.IS))},i.q9=function(t,n){var i=lP(qo(t.IS));if(i){var e=ZM(t.TS,t.Ai),r=this.j9(e);r||(r=this.K9(e),this.Z9(r));for(var s=0,u=i.hG;s<u.length;s++){var o=u[s],a=new AP(n,o);MN(a,r.j_.p_),r.mE(a)}}},n.W9=function(t,n,i){var e=sb(t,m_.Wb);return e?Qt(e.FS,e.yp)+i:n},i.Q9=function(t){var n=this.vE._E(jb.Kb,"","","",void 0,Ip.EMSG);return n.V_=t,n.W_=Mm.H_,n},i.K9=function(t){var n=this.vE._E(jb.Kb,"","","",void 0,Ip.ID3);return n.V_=t,n.W_=Mm.H_,n},i.k_=function(){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(n=0,i=this.VA.p_;n<i.length;n++)e=i[n],this.vE.yE(e);return r.next=3,Fr.awrap(t.prototype.k_.call(this));case 3:case"end":return r.stop()}},null,this,null,qe)},n}(function(t){function n(){return t.call(this)||this}E(n,t);var i=n.prototype;return i.Z9=function(t){return t.Y_=Ep.LOADED,this.g_(t),t},i.j9=function(t){for(var n=0,i=this.VA.p_;n<i.length;n++){var e=i[n];if(e.V_===t)return e}},n}(sk));function nj(t){return"function"==typeof t.Iu}function ij(t,n,i){if(!(i&&n.byte>=i)){var e=nj(t)?t.Iu(n.byte):t[n.byte];return n.byte+=1,e}}function ej(t,n){return function(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=256*e+ij(t,n);return e}(t,n,2)}!function(t){t[t.J9=0]="J9",t[t.t7=1]="t7",t[t.n7=2]="n7",t[t.i7=3]="i7",t[t.e7=4]="e7",t[t.r7=5]="r7"}(KM||(KM={})),function(t){t[t.s7=0]="s7",t[t.u7=1]="u7",t[t.o7=2]="o7",t[t.a7=3]="a7"}(JM||(JM={}));var rj,sj=function(){function t(){this.h7=0,this.c7=[],this.QS={}}var n=t.prototype;return n.f7=function(t){this.c7=this.c7.concat(t.c7),this.h7+=t.b_},n.v7=function(t,n,i){var e=this.h7,r=i-n;r>0&&(this.c7.push({l7:n,d7:i,w7:r,_7:e,g7:t}),this.h7+=r)},n.Iu=function(t){for(var n=0,i=this.c7;n<i.length;n++){var e=i[n];if(e._7<=t&&t<e._7+e.w7)return e.g7[t+e.l7-e._7]}},n.m7=function(t,n){for(var i=n,e=0,r=this.c7;e<r.length;e++)for(var s=r[e],u=s.d7,o=s.l7;o<u;o+=1,i+=1)t[i]=s.g7[o];return i},n.y7=function(){for(var t=new _(this.h7),n=0,i=0,e=this.c7;i<e.length;i++)for(var r=e[i],s=r.d7,u=r.l7;u<s;u+=1,n+=1)t[n]=r.g7[u];return t},n.Lu=function(n){for(var i=new t,e=0,r=this.c7;e<r.length;e++){var s=r[e];i.v7(s.g7,s.l7,s.d7)}return i.QS=n||Ur({},this.QS),i},T(t,[{key:"b_",get:function(){return this.h7},set:function(t){var n=this.c7,i=this.h7-t;if(!(t>=this.h7))if(this.h7=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.w7)return r.d7-=i,r.w7-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.w7}else n.length=0}},{key:"Fi",get:function(){for(var t=new Array(this.h7),n=0,i=0,e=this.c7;i<e.length;i++)for(var r=e[i],s=r.d7,u=r.l7;u<s;u+=1,n+=1)t[n]=r.g7[u];return t}}]),t}();function uj(t,n,i){return i===KM.J9?i:n!==JM.s7&&n!==JM.u7||i!==KM.t7&&i!==KM.n7?t?n===JM.o7?KM.e7:n===JM.a7?KM.i7:KM.J9:KM.r7:KM.n7}function oj(t,n,i,e){var r={byte:i},s=KM.t7,u=[],o=31&ij(n,r,e);r.byte+=1;for(var a=0;a<o;a+=1){var h=ij(n,r,e),c=4&h,f=3&h;s=uj(Boolean(c),f,s);var l=ij(n,r,e),v=ij(n,r,e);u.push({JQ:t,fS:-1,k7:!a,p7:Boolean(c),fs:f,uQ:s,b7:l,A7:v})}return u}function aj(t,n,i){var e=ij(t,n,i);if(!p(e))return String.fromCharCode(e)}function hj(t){var n=t.T7,i={byte:t.S7},e=t.E7,r=ij(n,i,e);if(255===r&&(i.byte+=1),181===r){var s=ej(n,i);if(s===rj.I7||s===rj.R7){if(s===rj.R7)if("GA94"!==function(t,n,i){for(var e="",r=i;r>0;)r-=1,e+=aj(t,n);return e}(n,i,4))return;if(3===ij(n,i,e)){s===rj.I7&&(i.byte+=1);var u=t;return u.D7=i.byte,u}}}}function cj(t){return 4===t.N7}function fj(t){for(var n=t.filter(cj).map(hj).filter(H),i=[],e=0;e<n.length;e++){var r=n[e];i.push.apply(i,oj(r.C7,r.T7,r.D7,r.E7))}return i}!function(t){t[t.I7=47]="I7",t[t.R7=49]="R7"}(rj||(rj={}));var lj="und";function vj(t){if(t!==lj)for(var n=t.toLowerCase(),i=0;i<wj.length;i++){var e=wj[i];if(e[1]===n||e[2]===n||e["2T"]===n||e["2B"]===n||e[3]===n)return e}}var dj,wj=[{wi:"Abkhaz",eb:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{wi:"Afar",eb:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{wi:"Afrikaans",eb:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{wi:"Akan",eb:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{wi:"Albanian",eb:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{wi:"Amharic",eb:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{wi:"Arabic",eb:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{wi:"Aragonese",eb:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{wi:"Armenian",eb:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{wi:"Assamese",eb:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{wi:"Avaric",eb:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{wi:"Avestan",eb:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{wi:"Aymara",eb:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{wi:"Azerbaijani",eb:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{wi:"Bambara",eb:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{wi:"Bashkir",eb:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{wi:"Basque",eb:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{wi:"Belarusian",eb:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{wi:"Bengali",eb:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{wi:"Bihari",eb:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{wi:"Bislama",eb:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{wi:"Bosnian",eb:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{wi:"Breton",eb:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{wi:"Bulgarian",eb:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{wi:"Burmese",eb:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{wi:"Catalan",eb:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{wi:"Chamorro",eb:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{wi:"Chechen",eb:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{wi:"Chichewa",eb:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{wi:"Chinese",eb:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{wi:"Chuvash",eb:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{wi:"Cornish",eb:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{wi:"Corsican",eb:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{wi:"Cree",eb:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{wi:"Croatian",eb:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{wi:"Czech",eb:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{wi:"Danish",eb:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{wi:"Divehi",eb:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{wi:"Dutch",eb:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{wi:"Dzongkha",eb:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{wi:"English",eb:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{wi:"Esperanto",eb:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{wi:"Estonian",eb:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{wi:"Ewe",eb:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{wi:"Faroese",eb:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{wi:"Fijian",eb:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{wi:"Finnish",eb:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{wi:"French",eb:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{wi:"Fula",eb:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{wi:"Galician",eb:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{wi:"Georgian",eb:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{wi:"German",eb:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{wi:"Greek",eb:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{wi:"Guaran\xed",eb:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{wi:"Gujarati",eb:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{wi:"Haitian",eb:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{wi:"Hausa",eb:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{wi:"Hebrew",eb:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{wi:"Herero",eb:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{wi:"Hindi",eb:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{wi:"Hiri Motu",eb:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{wi:"Hungarian",eb:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{wi:"Interlingua",eb:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{wi:"Indonesian",eb:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{wi:"Interlingue",eb:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{wi:"Irish",eb:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{wi:"Igbo",eb:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{wi:"Inupiaq",eb:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{wi:"Ido",eb:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{wi:"Icelandic",eb:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{wi:"Italian",eb:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{wi:"Inuktitut",eb:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{wi:"Japanese",eb:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{wi:"Javanese",eb:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{wi:"Kalaallisut",eb:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{wi:"Kannada",eb:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{wi:"Kanuri",eb:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{wi:"Kashmiri",eb:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{wi:"Kazakh",eb:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{wi:"Khmer",eb:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{wi:"Kikuyu",eb:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{wi:"Kinyarwanda",eb:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{wi:"Kyrgyz",eb:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{wi:"Komi",eb:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{wi:"Kongo",eb:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{wi:"Korean",eb:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{wi:"Kurdish",eb:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{wi:"Kwanyama",eb:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{wi:"Latin",eb:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{wi:"Luxembourgish",eb:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{wi:"Ganda",eb:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{wi:"Limburgish",eb:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{wi:"Lingala",eb:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{wi:"Lao",eb:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{wi:"Lithuanian",eb:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{wi:"Luba-Katanga",eb:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{wi:"Latvian",eb:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{wi:"Manx",eb:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{wi:"Macedonian",eb:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{wi:"Malagasy",eb:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{wi:"Malay",eb:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{wi:"Malayalam",eb:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{wi:"Maltese",eb:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{wi:"M\u0101ori",eb:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{wi:"Marathi",eb:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{wi:"Marshallese",eb:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{wi:"Mongolian",eb:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{wi:"Nauru",eb:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{wi:"Navajo",eb:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{wi:"Northern Ndebele",eb:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{wi:"Nepali",eb:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{wi:"Ndonga",eb:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{wi:"Norwegian Bokm\xe5l",eb:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{wi:"Norwegian Nynorsk",eb:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{wi:"Norwegian",eb:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{wi:"Nuosu",eb:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{wi:"Southern Ndebele",eb:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{wi:"Occitan",eb:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{wi:"Ojibwe",eb:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{wi:"Old Church Slavonic",eb:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{wi:"Oromo",eb:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{wi:"Oriya",eb:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{wi:"Ossetian",eb:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{wi:"Panjabi",eb:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{wi:"P\u0101li",eb:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{wi:"Persian",eb:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{wi:"Polish",eb:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{wi:"Pashto",eb:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{wi:"Portuguese",eb:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{wi:"Quechua",eb:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{wi:"Romansh",eb:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{wi:"Kirundi",eb:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{wi:"Romanian",eb:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{wi:"Russian",eb:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{wi:"Sanskrit",eb:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{wi:"Sardinian",eb:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{wi:"Sindhi",eb:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{wi:"Northern Sami",eb:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{wi:"Samoan",eb:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{wi:"Sango",eb:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{wi:"Serbian",eb:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{wi:"Gaelic",eb:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{wi:"Shona",eb:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{wi:"Sinhala",eb:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{wi:"Slovak",eb:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{wi:"Slovene",eb:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{wi:"Somali",eb:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{wi:"Southern Sotho",eb:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{wi:"Spanish",eb:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{wi:"Sundanese",eb:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{wi:"Swahili",eb:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{wi:"Swati",eb:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{wi:"Swedish",eb:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{wi:"Tamil",eb:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{wi:"Telugu",eb:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{wi:"Tajik",eb:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{wi:"Thai",eb:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{wi:"Tigrinya",eb:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{wi:"Tibetan Standard",eb:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{wi:"Turkmen",eb:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{wi:"Tagalog",eb:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{wi:"Tswana",eb:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{wi:"Tonga",eb:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{wi:"Turkish",eb:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{wi:"Tsonga",eb:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{wi:"Tatar",eb:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{wi:"Twi",eb:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{wi:"Tahitian",eb:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{wi:"Uyghur",eb:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{wi:"Ukrainian",eb:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{wi:"Urdu",eb:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{wi:"Uzbek",eb:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{wi:"Venda",eb:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{wi:"Vietnamese",eb:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{wi:"Volap\xfck",eb:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{wi:"Walloon",eb:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{wi:"Welsh",eb:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{wi:"Wolof",eb:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{wi:"Western Frisian",eb:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{wi:"Xhosa",eb:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{wi:"Yiddish",eb:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{wi:"Yoruba",eb:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{wi:"Zhuang",eb:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{wi:"Zulu",eb:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}],gj=[128,64,32,16,8,4,2,1];function mj(t,n){var i=g.floor(n.bit/8),e=0==((nj(t)?t.Iu(i):t[i])&gj[n.bit%8])?0:1;return n.bit+=1,e}function yj(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=2*e+mj(t,n);return e}function pj(t,n){for(var i=0;0===mj(t,n)&&i<32;)i+=1;return yj(t,n,i)+g.pow(2,i)-1}function _j(t,n){var i=pj(t,n);return 1&i?g.floor((i+1)/2):-g.floor(i/2)}function bj(t,n){var i,e=[],r={byte:1};do{e.push(Aj(t,n,r)),i=n.Iu(r.byte)}while(void 0!==i&&128!==i);return e}function kj(t,n){var i,e=0;do{e+=i=ij(t,n)}while(255===i);return e}function Aj(t,n,i){var e=kj(n,i),r=kj(n,i),s=i.byte,u=s+r;return i.byte=u,{C7:t,N7:e,P7:r,S7:s,E7:u,T7:n}}!function(t){t[t.B7=1]="B7",t[t.O7=2]="O7",t[t.x7=3]="x7",t[t.L7=4]="L7",t[t.M7=5]="M7",t[t.U7=6]="U7",t[t.X7=7]="X7",t[t.H7=8]="H7",t[t.F7=9]="F7"}(dj||(dj={}));var Tj=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function Sj(t,n,i){for(var e=8,r=8,s=0;s<i;s+=1){if(0!==r)r=(e+_j(t,n)+256)%256;e=0===r?e:r}}var Ej=function(){function t(t){this.z7=void 0,this.V7=[],this.W7=0,this.z7=t}var n=t.prototype;return n.G7=function(){for(var t=this.V7,n=g.max(0,this.W7+t.length-2),i=this.z7,e=i.b_,r=0;n<e;n+=1){var s=i.Iu(n);0===s?r+=1:(3===s&&r>=2&&t.push(n),r=0)}this.W7=n-t.length},n.q7=function(t){for(var n=this.V7,i=t,e=0;e<n.length;e++){if(!(n[e]<=i))return i;i+=1}return i},n.Iu=function(t){if(!(t>this.z7.b_))return t>this.W7&&this.G7(),this.z7.Iu(this.q7(t))},t}();var Ij=24;function Rj(t){var n=t.LF,i=new sj;return i.v7(Go(n),0,n.length),function(t){var n,i,e,r,s,u,o=new Ej(t),a=0,h=0,c=0,f=0,l=o.Iu(1),v={bit:32};if(pj(o,v),100===l||110===l||122===l||144===l){var d=pj(o,v);if(3===d&&(n=mj(o,v)),pj(o,v),pj(o,v),mj(o,v),1===mj(o,v))for(var w=0;w<(3!==d?8:12);w+=1)1===mj(o,v)&&Sj(o,v,w<6?16:64)}var m=pj(o,v),y=pj(o,v);if(0===y)pj(o,v);else if(1===y){mj(o,v),_j(o,v),_j(o,v);for(var p=pj(o,v),_=0;_<p;_+=1)_j(o,v)}pj(o,v),mj(o,v);var b=pj(o,v),k=pj(o,v),A=mj(o,v);if(0===A&&mj(o,v),mj(o,v),1===mj(o,v)&&(a=pj(o,v),h=pj(o,v),c=pj(o,v),f=pj(o,v)),1===mj(o,v)){if(1===mj(o,v)){var T=yj(o,v,8);if(255===T)i=yj(o,v,16),e=yj(o,v,16);else{var S=Tj[T];S&&(i=S[0],e=S[1])}}1===mj(o,v)&&mj(o,v),1===mj(o,v)&&(yj(o,v,3),mj(o,v),1===mj(o,v)&&(yj(o,v,8),yj(o,v,8),yj(o,v,8))),1===mj(o,v)&&(pj(o,v),pj(o,v)),1===(r=mj(o,v))&&(s=yj(o,v,32),u=yj(o,v,32),mj(o,v))}return{width:g.floor(16*(b+1)-2*a-2*h),height:g.floor((2-A)*(k+1)*16-2*c-2*f),nS:i,iS:e,Y7:!!r&&u/(2*s),j7:n,Q7:m}}(i).Y7}function Cj(t){var n=Rj(t)||Ij;return t.Z7/n}function Dj(t){return t.fs===m_.Ob}var Nj,Pj=65536;function xj(t,n,i,e,r){for(var s,u=function(t,n,i,e){var r=i.Z7,s=vt.fromNumber(t.AS||0),u=e.Sy(f_.Vk(s,r));return{K7:e.Ek(),J7:e,ttt:u,ntt:e}}(t,0,i,e),o=f_.Wk(t.Hg||0,i.Z7),a=t.IA||0,h=!(a&Pj)&&(a>>24&3)!==Nj.SAMPLE_DEPENDS_ON_OTHERS,c=qo(r),f=new Jo;f.Pu<c.byteLength;){var l=ko(c,f);if((31&po(c,f,1))===dj.U7){var v,d=new sj;d.v7(r,f.Pu-1,f.Pu+l-1);var w=bj(u.ttt,d);(v=s=s||[]).push.apply(v,fj(w))}f.Bu(l-1)}return Ur({},u,{Hg:o.Ek(),itt:o,ett:u.ttt.Ek(),rtt:u.K7,stt:h,utt:s,ott:!1,att:!1})}function Bj(t){return t.fs===m_.sb}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(Nj||(Nj={}));var Oj=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return E(n,t),n}(Wp),Lj=function(){function t(t,n){this.cZ=t,this.KQ=n}return t.prototype.lk=function(t){return this.cZ===t.cZ&&this.KQ===t.KQ},t}(),Mj=function(){function t(t,n){this.htt="",this.sU=t,this.ctt=n}var n=t.prototype;return n.ftt=function(t){this.htt+=t},n.ltt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.ftt(i)}},T(t,[{key:"yZ",get:function(){return this.htt}},{key:"dZ",get:function(){return[this]}},{key:"gZ",get:function(){return this.sU}},{key:"pZ",get:function(){return this.ctt}},{key:"kZ",get:function(){return new Lj(this.pZ.cZ,this.pZ.KQ+this.yZ.length-1)}}]),t}(),jj=function(){function t(){}var n=t.prototype;return n.dtt=function(t){return t.zp(this)},n.wtt=function(t){var n,i,e=this,r=t.map(function(t,n){return t.zp(e,n)});return n=r,(i=[]).concat.apply(i,n)},n._tt=function(t,n){return new Fj(t,n).gtt()},t}(),Fj=function(){function t(t,n){this.mtt=[],this.ytt=null,this.cZ=t,this.ktt=n}var n=t.prototype;return n.gtt=function(){if(this.ptt)return[];for(var t=0;t<this.cZ.length;t++)this.btt(t);return this.Att(),this.mtt},n.Ttt=function(t){this.ytt=new Mj(Zx,new Lj(this.ktt,t))},n.Att=function(){this.ytt&&(this.mtt.push(this.ytt),this.ytt=null)},n.btt=function(t){var n=this.cZ[t];Uj(n)?this.ytt&&this.Att():(this.ytt||this.Ttt(t),this.ytt.ftt(n))},T(t,[{key:"ptt",get:function(){return this.cZ.every(Uj)}}]),t}();function Uj(t){return null==t}var Hj=function(){function t(){}return t.Stt=function(t,n,i){if(!(n>=i)){var e=tu(t,function(t,n){return new Fj(t.map(function(t){return t?t.Ett():null}),n).gtt()});if(0!==e.length)return new Oj(n,i,e)}},t}(),Xj="black",Vj="white",zj=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),Wj=function(){function t(){this.Itt=[],this.Rtt=0,this.Dtt=void 0;for(var t=0;t<nB;t++)this.Itt.push(null);this.Dtt=!1}var n=t.prototype;return n.Ntt=function(t){for(var n=0;n<nB;n++)t&&(this.Itt[n]=t.Itt[n])},n.lk=function(t){for(var n=0;n<nB;n++)if(this.Itt[n]!==t.Itt[n])return!1;return!0},n.Ctt=function(){for(var t=0;t<nB;t++)if(null!==this.Itt[t])return!1;return!0},n.Ptt=function(t){this.Rtt!==t&&(this.Rtt=t),this.Rtt<0?this.Rtt=0:this.Rtt>nB&&(this.Rtt=nB-1)},n.Btt=function(t){var n=this.Rtt+t;this.Ptt(n)},n.Ott=function(){this.Btt(-1),this.Itt[this.Rtt]=null},n.ftt=function(t){t>=144&&this.Ott();var n,i=zj[n=t]?String.fromCharCode(zj[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Rtt>=nB||(32===Number(t)?(this.Itt[this.Rtt]=this.Dtt?"</i>":"<i>",this.Dtt=!this.Dtt):this.Itt[this.Rtt]=t,this.Btt(1))},n.xtt=function(t){for(var n=t;n<nB;n++)this.Itt[n]=null},n.Nu=function(){this.xtt(0),this.Rtt=0},n.Ltt=function(){this.xtt(this.Rtt)},n.Mtt=function(t,n){for(var i=this.Itt,e=null,r=0;r<nB;r++){var s=i[r];null===s?e=null:(e||(e={x_:r,y_:t,Tk:0,sT:1,Itt:[[]]},n.push(e)),e.Itt[0].push(s),e.Tk++)}},n.zp=function(t,n){return t._tt(this.Itt,n)},t}();var qj,Gj=function(){function t(t,n){this.Htt=void 0,this.Ftt=void 0,this.ztt=void 0,this.Vtt=void 0,this.Wtt=void 0,this.Gtt=void 0,this.qtt=void 0,this.Ytt=void 0,this.jtt=void 0,this.Htt=new Array($j+1);for(var i=0;i<=$j;i++)this.Htt[i]=new Wj;this.Ftt=1,this.ztt=0,this.Vtt=t,this.Wtt=n,this.Gtt=!1,this.qtt=!1,this.Ytt=Vj,this.jtt=Xj,this.k_()}var n=t.prototype;return n.Qtt=function(t,n){var i="CC"+(this.Vtt<<1|this.Wtt+1);if(t>=n)return null;var e=(new jj).wtt(this.Htt.slice(1));return 0===e.length?null:{zy:new Oj(t,n,e),Dl:i,Ztt:this.Vtt<<1|this.Wtt+1}},n.k_=function(){this.Ktt(),this.Ftt=1},n.Jtt=function(){return this.Ftt},n.$tt=function(t){this.Ftt=t},n.Ptt=function(t){this.Htt[this.Ftt].Ptt(t)},n.Btt=function(t){this.Htt[this.Ftt].Btt(t)},n.tnt=function(){return this.ztt},n.nnt=function(t){this.ztt=t},n.ftt=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case qj.int:i=void 0!==Qj[n]?Qj[n]:String.fromCharCode(n);break;case qj.ent:i=Zj[n];break;case qj.rnt:this.snt(),i=Kj[n];break;case qj.unt:this.snt(),i=Jj[n]}i&&this.Htt[this.Ftt].addParsedChar(i)}},n.snt=function(){this.Htt[this.Ftt].Ott()},n.ont=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.Htt[t+e]=this.Htt[n+e];else for(var r=0;r<i;r++)this.Htt[t+r]=this.Htt[n+r]},n.ant=function(t,n){for(var i=0;i<=n;i++)this.Htt[t+i]=new Wj},n.Ktt=function(){this.ant(0,$j)},n.hnt=function(){this.Ftt=this.ztt>0?this.ztt:0,this.Ktt()},n.cnt=function(t){this.Gtt=t},n.fnt=function(t){this.qtt=t},n.vnt=function(t){this.Ytt=t},n.lnt=function(t){this.jtt=t},t}(),$j=15;!function(t){t[t.int=0]="int",t[t.ent=1]="ent",t[t.rnt=2]="rnt",t[t.unt=3]="unt"}(qj||(qj={}));var Yj,Qj={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},Zj={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},Kj={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},Jj={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},tF=function(){function t(t,n){this.Vi=void 0,this.dnt=void 0,this.wnt=void 0,this._nt=void 0,this.gnt=void 0,this.mnt=void 0,this.ynt=void 0,this.knt=void 0,this.Vi=Yj.wN,this.dnt=new Gj(t,n),this.wnt=new Gj(t,n),this._nt=new Gj(t,n),this.gnt=this.wnt,this.mnt=0,this.ynt=void 0,this.knt=!1}var n=t.prototype;return n.k_=function(){this.knt=!0,this.mnt=0,this.Vi=Yj.wN,this.gnt=this.wnt,this.ynt=void 0,this.wnt.k_(),this._nt.k_(),this.dnt.k_()},n.pnt=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.bnt=function(t,n){var i=this.pnt(t,n),e=(30&n)>>1,r=Vj,s=!1;e<7?r=rF[e]:7===e&&(s=!0);var u=1==(1&n);if(this.Vi!==Yj.$n){var o=this.gnt;if(this.Vi===Yj.Ant&&i!==o.Jtt()){var a=1+o.Jtt()-o.tnt(),h=1+i-o.tnt();o.ont(h,a,o.tnt()),o.ant(0,h-1),o.ant(i+1,$j-i)}o.$tt(i);var c=Jx[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{ZQ:Kx[i].ZQ,QQ:Kx[i].QQ,KQ:Kx[i].KQ,cZ:t}}(c,n);o.Ptt(f.KQ),this.gnt.cnt(u),this.gnt.fnt(s),this.gnt.vnt(r),this.gnt.lnt(Xj)}}},n.Tnt=function(t,n){this.gnt.cnt(!1),this.gnt.fnt(!1),this.gnt.vnt(Vj);var i=this.Snt(t,qj.int," ".charCodeAt(0)),e=Vj,r=!1,s=1==(1&n);return"white_italics"===(e=rF[(14&n)>>1])&&(e="white",r=!0),this.gnt.cnt(s),this.gnt.fnt(r),this.gnt.vnt(e),i},n.Snt=function(t,n,i){if(this.gnt.ftt(n,i),this.Vi===Yj.Ent||this.Vi===Yj.Ant){var e=this.Int(this.gnt,this.mnt,t);return this.mnt=t,e}return null},n.Int=function(t,n,i){return this.knt?null:t.Qtt(n,i)},n.Rnt=function(t,n){var i=Xj;0==(7&t)&&(i=eF[(14&n)>>1]),this.gnt.lnt(i)},n.Dnt=function(t){var n=nF,i=t.Nnt,e=t.Cnt,r=null;switch(i){case n.RCL:this.Pnt();break;case n.BS:this.Bnt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.Ont(2,e);break;case n.RU3:r=this.Ont(3,e);break;case n.RU4:r=this.Ont(4,e);break;case n.FON:r=this.xnt(e);break;case n.RDC:this.Lnt(e);break;case n.TR:this.Mnt();break;case n.RTD:this.Unt();break;case n.EDM:r=this.Xnt(e);break;case n.CR:r=this.Hnt(e);break;case n.ENM:this.Fnt();break;case n.EOC:r=this.znt(e)}return r},n.Hnt=function(t){var n=this.gnt;if(this.Vi!==Yj.Ant)return null;var i=this.Int(n,this.mnt,t),e=n.Jtt()-n.tnt()+1;return n.ont(e-1,e,n.tnt()),n.ant(0,e-1),n.ant(n.Jtt(),$j-n.Jtt()),this.mnt=t,i},n.Ont=function(t,n){this.gnt=this.wnt;var i=this.gnt,e=null;return this.Vi!==Yj.Ant&&this.Vi!==Yj.$n&&(e=this.Int(i,this.mnt,n),this.wnt.hnt(),this._nt.hnt(),this.knt=!1,i.$tt($j)),this.Vi=Yj.Ant,i.nnt(t),e},n.xnt=function(t){return this.Snt(t,qj.int," ".charCodeAt(0))},n.Xnt=function(t){var n=this.wnt,i=null;return this.Vi!==Yj.$n&&(i=this.Int(n,this.mnt,t)),n.Ktt(),this.knt=!1,i},n.Lnt=function(t){this.Vi=Yj.Ent,this.gnt=this.wnt,this.gnt.nnt(0),this.mnt=t},n.Fnt=function(){this._nt.Ktt()},n.znt=function(t){var n=null;this.Vi!==Yj.$n&&(n=this.Int(this.wnt,this.mnt,t));var i=this._nt;return this._nt=this.wnt,this.wnt=i,this.Pnt(),this.mnt=t,n},n.Pnt=function(){this.Vi=Yj.Vnt,this.gnt=this._nt,this.gnt.nnt(0)},n.Bnt=function(){this.gnt.snt()},n.Mnt=function(){this.dnt.k_(),this.knt=!1,this.Unt()},n.Unt=function(){this.gnt=this.dnt,this.Vi=Yj.$n},n.Wnt=function(t,n,i){return this.gnt.ftt(qj.int,n),this.Snt(t,qj.int,i)},n.Gnt=function(t,n,i){var e=1&n?qj.unt:qj.rnt;return this.Snt(t,e,i)},n.qnt=function(t){var n=t.Ynt,i=t.Nnt,e=t.Cnt;if(this.ynt===(n<<8|i))return this.ynt=void 0,null;if(this.ynt=n<<8|i,this.jnt(n,i))this.bnt(n,i);else{if(this.Qnt(n,i))return this.Tnt(e,i);if(this.Znt(n,i))this.Rnt(n,i);else{if(this.Knt(n,i))return this.Snt(e,qj.ent,i);if(this.Jnt(n,i))return this.Gnt(e,n,i);if(this.$nt(n,i))return this.Dnt(t);this.isTabOffset(n)&&this.gnt.Btt(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.$nt=function(t,n){return 20==(246&t)&&32==(240&n)},n.jnt=function(t,n){return 16==(240&t)&&64==(192&n)},n.Qnt=function(t,n){return 17==(247&t)&&32==(240&n)},n.Znt=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.Knt=function(t,n){return 17==(247&t)&&48==(240&n)},n.Jnt=function(t,n){return 18==(246&t)&&32==(224&n)},t.tit=function(t){return 16==(112&t)},t}(),nF={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.wN=0]="wN",t[t.Vnt=1]="Vnt",t[t.Ent=2]="Ent",t[t.Ant=3]="Ant",t[t.$n=4]="$n"}(Yj||(Yj={}));var iF,eF=["black","green","blue","cyan","red","yellow","magenta","black"],rF=["white","green","blue","cyan","red","yellow","magenta","white_italics"],sF=function(){function t(t,n,i,e,r){this.nit=void 0,this.Gtt=void 0,this.qtt=void 0,this.jtt=void 0,this.Ytt=void 0,this.nit=t,this.Gtt=n,this.qtt=i,this.jtt=e,this.Ytt=r}var n=t.prototype;return n.Ett=function(){return this.nit},n.iit=function(){return this.Gtt},n.eit=function(){return this.qtt},n.rit=function(){return this.jtt},n.sit=function(){return this.Ytt},t}(),uF=function(){function t(t){this.uit=void 0,this.pN=void 0,this.oit=void 0,this.ait=void 0,this.hit=void 0,this.cit=void 0,this.fit=void 0,this.vit=void 0,this.dit=void 0,this.wit=void 0,this.nk=void 0,this.Ftt=void 0,this._it=void 0,this.qtt=void 0,this.Gtt=void 0,this.Ytt=void 0,this.jtt=void 0,this.uit=t,this.pN=!1,this.oit=!1,this.ait=0,this.hit=0,this.cit=0,this.fit=0,this.vit=0,this.dit=iF.git,this.wit=[],this.nk=0,this.Ftt=0,this._it=0,this.qtt=!1,this.Gtt=!1,this.Ytt=Vj,this.jtt=Xj,this.mit()}var n=t.prototype;return n.yit=function(t,n,i,e,r,s,u){this.pN=t,this.hit=n,this.ait=i,this.cit=e,this.oit=r,this.fit=s,this.vit=u},n.mit=function(){this.wit=[];for(var t=0;t<aF;t++)this.wit.push(this.kit())},n.kit=function(){for(var t=[],n=0;n<oF;n++)t.push(null);return t},n.pit=function(t){this.Ait()&&(this.wit[this.Ftt][this._it]=new sF(t,this.Gtt,this.qtt,this.jtt,this.Ytt),this._it++)},n.Tit=function(){this.Ait()&&(this._it<=0&&this.Ftt<=0||(this._it<=0?(this._it=this.vit-1,this.Ftt--):this._it--,this.wit[this.Ftt][this._it]=null))},n.Ait=function(){var t=this.Ftt<this.fit&&this.Ftt>=0,n=this._it<this.vit&&this._it>=0;return t&&n},n.Sit=function(){return this.pN},n.Eit=function(t){for(var n=0,i=t;i<aF;i++,n++)this.wit[n]=this.wit[i];for(var e=0;e<t;e++,n++)this.wit[n]=this.kit()},n.Iit=function(){if(this.Ftt+1>=this.fit)return this.Eit(1),void(this._it=0);this.Ftt++,this._it=0},n.Rit=function(){this.wit[this.Ftt]=this.kit(),this._it=0},n.Qtt=function(t,n){if(this.nk>=t)return null;var i=Hj.Stt(this.wit,this.nk,t);return i?(this.Dit(t),{zy:i,Dl:"svc"+n,Ztt:n}):null},n.Nit=function(t,n){this.Ftt=t,this._it=n},n.Cit=function(t){this.jtt=t},n.Pit=function(t){this.Ytt=t},n.Bit=function(t){this.Gtt=t},n.Oit=function(t){this.qtt=t},n.xit=function(){this.Ftt=0,this._it=0,this.Gtt=!1,this.qtt=!1,this.Ytt=Vj,this.jtt=Xj},n.Lit=function(t){this.dit=t},n.Mit=function(){this.pN=!0},n.zm=function(){this.pN=!1},n.Uit=function(){this.pN=!this.pN},n.Dit=function(t){this.nk=t},t}();!function(t){t[t.Xit=0]="Xit",t[t.Hit=1]="Hit",t[t.git=2]="git",t[t.Fit=3]="Fit"}(iF||(iF={}));var oF=42,aF=15,hF=function(){function t(t){this.zit=void 0,this.Vit=void 0,this.Wit=void 0,this.zit=t,this.Vit=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Wit=void 0}var n=t.prototype;return n.Git=function(t){var n=t.qit(),i=n.Ai,e=n.Cnt;i===dF&&(i=i<<16|t.qit().Ai);return i>=0&&i<=31?this.Yit(i,e):i>=128&&i<=159?this.jit(t,i,e):(i>=4096&&i<=4127?this.Qit(t,255&i):i>=4224&&i<=4255?this.Zit(t,255&i):i>=32&&i<=127?this.Kit(i):i>=160&&i<=255?this.Jit(i):i>=4128&&i<=4223?this.$it(255&i):i>=4256&&i<=4351&&this.tet(255&i),null)},n.Kit=function(t){this.Wit&&(127!==t?this.Wit.pit(String.fromCharCode(t)):this.Wit.pit("\u266a"))},n.Jit=function(t){this.Wit&&this.Wit.pit(String.fromCharCode(t))},n.$it=function(t){if(this.Wit)if(void 0!==wF[t]){var n=wF[t];this.Wit.pit(n)}else this.Wit.pit("_")},n.tet=function(t){this.Wit&&(160===t?this.Wit.pit("[CC]"):this.Wit.pit("_"))},n.Yit=function(t,n){if(!this.Wit)return null;var i=this.Wit,e=null;switch(t){case cF:i.Tit();break;case lF:i.Sit()&&(e=i.Qtt(n,this.zit)),i.Iit();break;case vF:i.Sit()&&(e=i.Qtt(n,this.zit)),i.Rit();break;case fF:i.Sit()&&(e=i.Qtt(n,this.zit)),i.mit(),i.Nit(0,0)}return e},n.jit=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.net(e)}else{if(136===n){var r=t.qit().Ai;return this.iet(r,i)}if(137===n){var s=t.qit().Ai;this.eet(s,i)}else{if(138===n){var u=t.qit().Ai;return this.ret(u,i)}if(139===n){var o=t.qit().Ai;return this.uet(o,i)}if(140===n){var a=t.qit().Ai;return this.oet(a,i)}if(143===n)return this.k_(i);if(144===n)this.aet(t);else if(145===n)this.het(t);else if(146===n)this.Nit(t);else if(151===n)this.cet(t);else if(n>=152&&n<=159){var h=(15&n)-8;this.yit(t,h,i)}}}return null},n.Qit=function(t,n){n>=8&&n<=15?t.cA(1):n>=16&&n<=23?t.cA(2):n>=24&&n<=31&&t.cA(3)},n.Zit=function(t,n){n>=128&&n<=135?t.cA(4):n>=136&&n<=143&&t.cA(5)},n.net=function(t){this.Vit[t]&&(this.Wit=this.Vit[t])},n.fet=Fr.mark(function t(n){var i;return Fr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.Vit[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.iet=function(t,n){for(var i=null,e=0,r=this.fet(t);e<r.length;e++){var s=r[e],u=this.Vit[s];u.Sit()&&(i=u.Qtt(n,this.zit)),u.mit()}return i},n.eet=function(t,n){for(var i=0,e=this.fet(t);i<e.length;i++){var r=e[i],s=this.Vit[r];s.Sit()||s.Dit(n),s.Mit()}},n.ret=function(t,n){for(var i=null,e=0,r=this.fet(t);e<r.length;e++){var s=r[e],u=this.Vit[s];u.Sit()&&(i=u.Qtt(n,this.zit)),u.zm()}return i},n.uet=function(t,n){for(var i=null,e=0,r=this.fet(t);e<r.length;e++){var s=r[e],u=this.Vit[s];u.Sit()?i=u.Qtt(n,this.zit):u.Dit(n),u.Uit()}return i},n.oet=function(t,n){for(var i=null,e=0,r=this.fet(t);e<r.length;e++){var s=r[e],u=this.Vit[s];u.Sit()&&(i=u.Qtt(n,this.zit)),this.Vit[s]=void 0}return i},n.k_=function(t){var n=this.oet(255,t);return this.Nu(),n},n.Nu=function(){this.Wit=void 0,this.Vit=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.aet=function(t){t.cA(1);var n=t.qit().Ai;if(this.Wit){var i=(128&n)>0,e=(64&n)>0;this.Wit.Oit(i),this.Wit.Bit(e)}},n.het=function(t){var n=t.qit().Ai,i=t.qit().Ai;if(t.cA(1),this.Wit){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,a=(48&i)>>4,h=this.vet(s,r,e),c=this.vet(a,o,u);this.Wit.Pit(h),this.Wit.Cit(c)}},n.Nit=function(t){var n=t.qit().Ai,i=t.qit().Ai;if(this.Wit){var e=15&n,r=63&i;this.Wit.Nit(e,r)}},n.cet=function(t){t.cA(1),t.cA(1);var n=t.qit().Ai;if(t.cA(1),this.Wit){var i=3&n;this.Wit.Lit(i)}},n.yit=function(t,n,i){var e=void 0!==this.Vit[n];if(!e){var r=new uF(n);r.Dit(i),this.Vit[n]=r}var s=t.qit().Ai,u=t.qit().Ai,o=t.qit().Ai,a=t.qit().Ai,h=t.qit().Ai,c=t.qit().Ai,f=(32&s)>0,l=127&u,v=(128&u)>0,d=o,w=1+(15&a),g=(240&a)>>4,m=1+(63&h);e&&0===(7&c)||this.Vit[n].xit(),this.Vit[n].yit(f,l,d,g,v,w,m),this.Wit=this.Vit[n]},n.vet=function(t,n,i){var e={0:0,1:0,2:1,3:1};return gF[e[t]<<2|e[n]<<1|e[i]]},t}(),cF=8,fF=12,lF=13,vF=14,dF=16,wF={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},gF=["black","blue","green","cyan","red","magenta","yellow","white"],mF=function(){function t(){this.let=void 0,this.det=void 0,this.wet=void 0,this.let=[],this.det=null,this.wet=0}var n=t.prototype;return n._et=function(t){if(t.fs===JM.a7){var n=63&t.Ai;return this.wet=2*n-1,void(this.det=[])}if(this.det&&(this.wet>0&&(this.det.push(t),this.wet--),0===this.wet)){var i=new yF(this.det);this.let.push(i),this.det=null,this.wet=0}},n.met=function(){return this.let},n.yet=function(){this.let=[]},n.Nu=function(){this.let=[],this.det=[],this.wet=0},t}(),yF=function(){function t(t){this.ket=void 0,this.pet=void 0,this.ket=0,this.pet=t}var i=t.prototype;return i.bet=function(){return this.ket<this.pet.length},i.Aet=function(){return this.ket},i.qit=function(){if(!this.bet())throw new lf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.pet[this.ket++]},i.cA=function(t){if(this.ket+t>this.pet.length)throw new lf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.ket+=t},t}(),pF=function(){function t(){this.Tet=void 0,this.Eet=void 0,this.Iet=void 0,this.Ret=void 0,this.Det=void 0,this.Net=void 0,this.Cet=void 0,this.Pet=void 0,this.Bet=!1,this.Tet=[],this.Eet=[],this.Iet=new mF,this.Ret=0,this.Det=zr({CC1:new tF(0,0),CC2:new tF(0,1),CC3:new tF(1,0),CC4:new tF(1,1)}),this.Net=0,this.Cet=0,this.Pet=Vr(),this.k_()}var i=t.prototype;return i.Nu=function(){this.Ret=0,this.Tet=[],this.Eet=[],this.Iet.Nu(),this.k_(),this.Pet.forEach(function(t){t.Nu()})},i.k_=function(){this.Net=0,this.Cet=0,this.Det.forEach(function(t){t.k_()})},i.I5=function(t,n){if(t.p7){var i=t.b7,e=t.A7,r=t.fs;r===JM.s7||r===JM.u7?this.Tet.push({Cnt:n,fs:r,Ynt:i,Nnt:e,Oet:this.Tet.length}):this.Bet&&(this.Eet.push({Cnt:n,fs:r,Ai:i,Oet:this.Eet.length}),this.Eet.push({Cnt:n,fs:JM.o7,Ai:e,Oet:this.Eet.length}))}},i.JP=function(){var t=[];Ms(this.Tet,function(t,n){return t.Cnt-n.Cnt||t.Oet-n.Oet}),Ms(this.Eet,function(t,n){return t.Cnt-n.Cnt||t.Oet-n.Oet});for(var n=0,i=this.Tet;n<i.length;n++){var e=i[n],r=this.xet(e);r&&t.push(r)}for(var s=0,u=this.Eet;s<u.length;s++){var o=u[s];this.Iet._et(o)}for(var a=this.Iet.met(),h=0;h<a.length;h++){var c=a[h],f=this.Let(c);t.push.apply(t,f)}return this.Iet.yet(),this.Tet=[],this.Eet=[],t},i.xet=function(t){var n=t.fs;if(tF.tit(t.Ynt)){var i=t.Ynt>>3&1;0===n?this.Net=i:this.Cet=i}var e="CC"+(n<<1|(n?this.Cet:this.Net)+1),r=this.Det.get(e);return 255===t.Ynt&&255===t.Nnt||!t.Ynt&&!t.Nnt||!this.Met(t.Ynt)||!this.Met(t.Nnt)?(++this.Ret>=45&&this.k_(),null):(this.Ret=0,t.Ynt&=127,t.Nnt&=127,t.Ynt||t.Nnt?tF.tit(t.Ynt)?r.qnt(t):r.Wnt(t.Cnt,t.Ynt,t.Nnt):null)},i.Let=function(t){var i=[];try{for(;t.bet();){var e=t.qit().Ai,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.qit().Ai;if(0!==r){if(!this.Pet.has(r)){var u=new hF(r);this.Pet.set(r,u)}for(var o=this.Pet.get(r),a=t.Aet();t.Aet()-a<s;){var h=o.Git(t);h&&i.push(h)}}}}catch(t){if(!(t instanceof lf&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.Met=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),_F=function(t){function n(n,i){var e;return(e=t.call(this,"Uet")||this).Ztt=n,e.zy=i,e}return E(n,t),n}(Iu),bF=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Xet=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];this.Het(e,e.JQ.Ek()+n)}this.JP()},n}(function(t){function n(){var n;return(n=t.call(this)||this).Fet=void 0,n.Fet=new pF,n}E(n,t);var i=n.prototype;return i.Het=function(t,n){this.Fet.I5(t,n)},i.JP=function(){for(var t=this.Fet.JP(),n=0;n<t.length;n++){var i=t[n];this.Qs(new _F(i.Ztt,i.zy))}},i.k_=function(){this.Fet.Nu()},i.Sd=function(){this.$s(),this.Fet.Nu()},n}(Su)),kF=function(t){function n(n){var i;return(i=t.call(this)||this).zet=void 0,i.Vet=void 0,i.Wet=NaN,i.Get=NaN,i.qet=void 0,i.vE=void 0,i.Yet=function(t){i.jet({Qet:t.Ztt,Zet:""}).mE(t.zy)},i.vE=n,i.qet=Vr(),i.zet=new bF,i.zet.Zs("Uet",i.Yet),i}E(n,t);var i=n.prototype;return i.Ket=function(t){return this.qet.get(t)},i.jet=function(t){var n=this.qet.get(t.Qet);return n||(n=this.Jet(t),this.qet.set(t.Qet,n)),n},i.Jet=function(t){var n,i=vj(t.Zet),e=i?i.wi:"";t.$et&&(e="easy "+e),n=t.x_?"CC "+t.x_:e?"CC "+e:"CC"+t.Qet;var r=this.vE._E(jb.$S,n,n,e,!1,Ip.CEA608);return this.g_(r),r},i.U9=function(t){var n=vb.RA(qo(t));this.Vet=function(t){for(var n=0;n<t.VA.length;n++){var i=t.VA[n],e={iT:(h=t.VA[n]).pA.iT,Z7:h.JA.pA.yp},r=i.JA.cT.lT.wT.gT,s=Ws(r,function(t){return t.fs===m_.pb});if(!s){var u=Ws(r.filter(function(t){return t.fs===m_.Bb}),function(t){var n;return(null==(n=t.ZT)?void 0:n.fs)===m_.pb});u&&(s=u.ZT)}if(s){var o=yD(qo(s.VT.Fi),new Jo),a=s.GT;return Ur({},e,{iT:i.pA.iT,VT:Ko(s.VT.Fi),Tk:s.Tk,sT:s.sT,iS:a&&a.iS,nS:a&&a.nS,trt:o.PF,nrt:o.BF,M9:o.OF,LF:o.LF[0],MF:o.MF[0]})}}var h}(n.filter(Bj)[0])},i.c6=function(t,n,i,e){if(this.Vet&&(p(this.Wet)||!Ut(this.Wet,n,1e-5))){p(this.Get)||Ut(n,this.Get,1e-5)||this.zet.k_();var r=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.QS.utt&&n.push.apply(n,e.QS.utt),delete e.QS.utt}for(var r=0;r<n.length;r+=1)n[r].fS=r;return n.sort(tB)}(function(t,n,i,e,r){for(var s=[],u=n.filter(Dj),o=e(i),a=0;a<u.length;a++){var h,c=u[a],f=Ws(c.VA,function(t){return t.pA.iT===i.iT});if(f)for(var l=f.pA.sS||0,v=f.pA.uS||0,d=f._S?f._S._S:vt.ZERO,w=c.cS+(null!=(h=f.pA.gS)?h:vt.ZERO).toNumber(),g=0,m=f.wS;g<m.length;g++)for(var y=m[g],p=w+(y.cS||0),_=0,b=y.bS;_<b.length;_++){var k=b[_],A=k.Cu||v,T=new sj;T.v7(t,p,p+A);var S=f_.Vk(d,i.Z7);T.QS=r(k,c,i,S,Qo(t,p,p+A)),s.push(T),p+=A,d=d.add(k.Hg||l||o)}}return s}(t,vb.RA(qo(t)),this.Vet,Cj,xj));this.zet.Xet(r,e),this.Wet=n,this.Get=i}},i.k_=function(){var n=this;return this.zet.k_(),this.qet.forEach(function(t){return n.m_(t)}),this.qet.clear(),this.Vet=void 0,this.Wet=NaN,this.Get=NaN,t.prototype.k_.call(this)},i.Sd=function(){return this.zet.tu("Uet",this.Yet),this.zet.Sd(),t.prototype.Sd.call(this)},n}(sk);function AF(t){if(t.fs===EB.TJ&&void 0!==t.YJ){var n=t.YJ.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.YJ.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}var TF=function(){function t(t){this.B4=void 0,this.irt=!1,this.B4=t}var n=t.prototype;return n.ert=function(t,n){return this.irt?this.B4.ert(t,n):qe.resolve(!1)},n.G6=function(t,n){return this.irt?this.B4.G6(t,n):qe.resolve(void 0)},n.G4=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.B4.G4(t));case 2:return n=i.sent,this.irt=void 0!==n,i.abrupt("return",n);case 5:case"end":return i.stop()}},null,this,null,qe)},n.HM=function(t){return this.B4.HM(t)},t}(),SF="LLHLSPlayer",EF=[_y.Bg,_y.Og,_y.xg,_y.Lg,_y.u_],IF=[Pf.pf,Pf.Df,Pf.Cf,Pf.lf],RF=50,CF=3e4,DF=function(t){function e(e,r,s,u,o,a){var h;return(h=t.call(this)||this).KR=void 0,h.lE=void 0,h.uD=void 0,h.rD=void 0,h.rrt=void 0,h.urt=void 0,h.ort=void 0,h.art=void 0,h.B4=void 0,h.mm=void 0,h.ym=void 0,h.pm=void 0,h.hrt=Vr(),h.crt=void 0,h.frt=void 0,h.eD=void 0,h.O9=void 0,h.x9=void 0,h.vrt=!1,h.dE=new au,h.lrt=void 0,h.t6=void 0,h.JR=void 0,h.R5=void 0,h.drt=void 0,h.wrt=new au,h._rt=void 0,h.J4=void 0,h.grt=void 0,h.mrt=void 0,h.yrt=void 0,h.krt=void 0,h.prt=void 0,h.brt=[],h.nW=void 0,h.iW=void 0,h.Art=void 0,h.Trt=void 0,h.Srt=void 0,h.e9=void 0,h.Ert=new au,h.Irt=void 0,h.Jq=new au,h.Kq=void 0,h.Rrt=-1,h.Drt=void 0,h.Nrt=void 0,h.Crt=void 0,h.Prt=void 0,h.Brt=void 0,h.Ort=void 0,h.xrt=!0,h.Lrt=0,h.Mrt=!1,h.yC=1,h.nD=cS.wN,h.$R=void 0,h.tD=void 0,h.eW=yS.fC(),h.Urt=[],h.Xrt=void 0,h.Hrt=!1,h.Frt=void 0,h.zrt=void 0,h.Vrt=!1,h.Wrt=void 0,h.Grt=void 0,h.oD=new nS,h.handleContentProtectionErrorEvent=function(t){h.$R=hp(t.errorObject),h.tD=t.errorObject,h.js(t)},h.handleBufferingErrorEvent=function(t){h.hD(new lf(n.ErrorCode.MEDIA_LOAD_ERROR,t.mu.message,t.mu))},h.qrt=function(){h.Yrt();var t=h.Hg;t!==h.Frt&&(h.Frt=t,h.Qs(new Iy(h.Frt)))},h.jrt=function(){h.Fg&&h.Qs(new Dy(h.Xg))},h.Qrt=function(){h.Qs(new ky(h.Xg))},h.Zrt=function(){h.Qs(new Ay(h.Xg))},h.vD=function(){void 0!==h.Grt&&i.jn(h.Grt),h.Qs(new Sk(h.Xg))},h.Krt=function(){h.Qs(new HC(h.Xg))},h.IE=function(){h.Qs(new My(h.Xg,h.Y_))},h.UG=function(){var t=h.g$;Js(h.Urt,t)||(h.Qs(new nM),h.Urt=t),h.Qs(new Cy(h.Xg,h.Jm))},h.Jrt=function(){pu(h.L0())},h.oW=function(){h.Qs(new Py(h.Xg))},h.fD=function(){h.Qs(new xy(h.Xg))},h.$rt=function(){h.Qs(new By(h.Xg,h.Qg))},h.tst=function(){h.KR.qg?h.Qs(new Tk(h.Xg)):(h.Grt=i.Qn(function(){h.Wrt=void 0,pu(h.nst())},YM),h.Qs(new Tk(h.Xg)))},h.ist=function(t){cu(t)||zb(t)||Wb(t)||(h.rst(),pu(h.sst()),h.Qs(new AO(t)))},h.e6=function(){h.Yrt()},h.ust=function(t){pu(h.ost(t.v$))},h.ast=nt(function(t){var n=[h.R5,h.Irt,h.Kq].filter(H);h.Jq=new au,h.Kq=h.rj(n,t,h.Jq.Ws).catch(h.ist)},RF),h.hst=function(t){if(!cu(t)){var i=t instanceof lf?t:new lf(n.ErrorCode.MEDIA_DECODE_ERROR,t.message,t);h.hD(i)}},h.onTextTrackChange=function(t){if(h.grt){var n=t.Yw,i=Ws(h.grt.l2,function(t){return n===h.hrt.get(t.B_)});i&&(n.W_===Mm.H_||n.W_===Mm.F_?(pu(h.cst(i)),h.hrt.forEach(function(t){t!==n&&(t.W_=Mm.X_)})):h.krt&&h.krt===i&&pu(h.fst(h.mrt,h.yrt,void 0)))}},h.retryOfflineRenditionsCallback=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(h.vst===t||h.k$===t||h.b$===t){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,Fr.awrap(h.J4.F4(t,n));case 4:t.zJ.X3=-1/0;case 5:case"end":return i.stop()}},null,null,null,qe)},h.lst=function(){h.dst()},h.wst=function(){h._st()},h.gst=function(t){if(t.v$.jJ){var n=h.J4.M$.b4(t.v$);if(n&&!n.HF){h.J4.Q4(n,t.HF),h.crt.F$();var i=h.grt;if(i){var e=void 0!==h.mrt&&!Qs(i.X$,h.mrt),r=void 0!==h.yrt&&!Qs(i.H$,h.yrt);(e||r)&&h.fst(e?void 0:h.mrt,r?void 0:h.yrt,h.krt).catch(K)}}}},h.mst=function(t){h.J4.Y4(t.v$)},h.TC=s,h.M6=u,h.yst=o,h.B4=new TF(a),h.KR=e,h.lE=new fO(r,h.TC),h.uD=new kO(h.TC.Jx),h.ort=new TO(h.KR),h.art=new NO(h.TC),h.mm=new lp,h.ym=new lp,h.crt=new cO(Jt(h),h.mm,h.ym),h.frt=new Fb,h.eD=new ok(h.KR,h.lE),h.O9=new tj(h.KR),h.x9=new kF(h.KR),h.pm=new KT([h.frt,h.eD.VA,h.O9.VA,h.x9.VA]),h.rD=new QT(h.lE),h.KR.ED=h.rD,h.rrt=new PF(Jt(h),h.KR),h.urt=new Ik(h.rrt,!0),h.kst(),h}E(e,t);var r=e.prototype;return r.pst=function(t){return nu(t,function(t){return t.NR})},r.nst=function(){var t,n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(this.bst());case 2:if(void 0!==(t=e.sent)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Fr.awrap(this.Ast(t));case 7:if((n=e.sent).length>0&&(t=n),void 0===(i=this.pst(t))){e.next=14;break}return e.next=13,Fr.awrap(this.y$(i,!0));case 13:this.uD.N0(i.NR);case 14:case"end":return e.stop()}},null,this,null,qe)},r.Yrt=function(){var t=function(t){for(var n=new yS([0,1/0]),i=0,e=0;e<t.length;e++){var r=t[e],s=r.zJ.py;s.b_>0&&(n=n.FN(s),i=g.max(i,s.RN(0)))}if(n.b_>0)return n;return yS.cC(i)}([this.mrt,this.yrt].filter(H));0!==t.b_&&(this.JR&&this.JR.HX&&this.Tst&&(t=new yS([t.RN(0),this.JR.Hg])),this.eW=t,this.O9.fE(t.RN(0)),this.x9.fE(t.RN(0)))},r.xm=function(){return!1},r.Wm=function(){return bS},r.zm=function(){aO.cT(SF,"Hiding the player."),this.KR.zm()},r.Cm=function(){aO.cT(SF,"Pausing the player."),this.KR.Cm()},r.Nm=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.KR.Nm(),this.vrt){n.next=4;break}return n.next=4,Fr.awrap(this.jh());case 4:return n.next=6,Fr.awrap(t);case 6:case"end":return n.stop()}},null,this,null,qe)},r.Sst=function(){this.$R=void 0,this.tD=void 0},r.hD=function(t){this.$R||(pu(this.k_()),this.$R=hp(t),this.tD=t,this.Qs(new jy(t)))},r.Fm=function(){aO.cT(SF,"Showing the player."),this.KR.Fm()},r.Lm=function(){throw new l("Not implemented")},r.Mm=function(){throw new l("Not implemented")},r.Zm=function(){},r.Om=function(t,n,e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(aO.cT(SF,"Setting the player source to "+t.src+"."),this.Sst(),!this.lrt||dy(this.lrt)){r.next=6;break}return r.next=5,Fr.awrap(this.k_());case 5:fu(e);case 6:if(t.src&&!dy(t)){r.next=8;break}return r.abrupt("return");case 8:this.rD.xR(t.contentProtection),this.t6=t,this.Zs(SB.bJ,this.handleBufferingErrorEvent),this.J4=new YL(this.lE,this.B4,i.Or(t.src)),this.J4.Zs(qL.T4,this.e6),this.J4.Zs(qL.S4,this.ust),this._rt=new tM(t,this.J4,this.KR),this.pm.WR(this._rt.Rm),this.e9=this.yst.yK(),n.textTracks&&this.OD(n.textTracks),lk(this.pm),this.Est();case 20:case"end":return r.stop()}},null,this,null,qe)},r.jh=function(){return this.R5?this.R5:(this.R5=this.Aw(this.dE.Ws).catch(this.hst),this.R5)},r.Aw=function(t){var i,e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(aO.cT(SF,"Loading the player."),this.J4.Z4){c.next=13;break}return c.prev=2,c.next=5,Fr.awrap(this.J4.O4(t));case 5:this.Ist(),c.next=13;break;case 8:throw c.prev=8,c.t0=c.catch(2),lu(c.t0),this._y=!1,new lf(n.ErrorCode.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+c.t0.message,c.t0);case 13:if(this.prt=this.J4.M$.U$,this.prt.length){c.next=16;break}throw new lf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");case 16:return c.next=18,Fr.awrap(this.Rst(this.prt));case 18:if(0!==(e=c.sent).length){c.next=21;break}throw new lf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");case 21:return c.next=23,Fr.awrap(this.Ast(e));case 23:(r=c.sent).length>0&&(e=r),aO.cT(SF,"Selecting initial active variant stream."),s=BF(e,null==(i=this.t6)?void 0:i.abr,this.TC),(u=LF(s.X$))&&aO.cT(SF,"Detected initial audio rendition."),(o=LF(s.H$))&&aO.cT(SF,"Detected initial video rendition."),(a=xF(s.l2))&&aO.cT(SF,"Detected initial subtitle rendition."),a||(h=xF(s.d2))&&aO.cT(SF,"Detected initial closed caption rendition."),this.Dst(s),this.crt.L$(),this.Nst(s,h),this.fst(u,o,a).catch(K),this.vrt=!0;case 39:case"end":return c.stop()}},null,this,[[2,8]],qe)},r.Ist=function(){this.Vrt||(this.Vrt=!0,this.rrt.Cst())},r.OD=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.eD.wE(i)}},r.Nst=function(t,n){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i],r=AF(e);void 0!==r&&n.push({Qet:r,Zet:e.L_||"",x_:e.wi})}return n}(t.d2),e=0;e<i.length;e++){var r=i[e];this.x9.jet(r)}if(void 0!==n){var s=AF(n);this.x9.Ket(s).W_=Mm.F_}},r.Est=function(){this.wrt.Fs(),this.wrt=new au,this.drt=this.Pst(this.drt,this.wrt.Ws).catch(this.hst)},r.Pst=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.nD,!t){e.next=5;break}return e.next=4,Fr.awrap(t);case 4:fu(n);case 5:if(i!==cS.wN&&this.J4){e.next=7;break}return e.abrupt("return");case 7:if(fu(n),this.J4.Z4){e.next=19;break}return e.prev=9,e.next=12,Fr.awrap(this.J4.O4(n));case 12:this.Ist(),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(9),lu(e.t0),e.abrupt("return");case 19:if(i!==cS.Kb){e.next=21;break}return e.abrupt("return");case 21:fu(n),this.jh().catch(this.hst);case 23:case"end":return e.stop()}},null,this,[[9,15]],qe)},r.m$=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.Bst(i))throw new l("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.prt=t},r.Bst=function(t){var n=this.M$;return!!n&&Qs(n.U$,t)},r.Ost=function(t){if(this.grt)return Ws(this.grt.V$,function(n){return n===t})},r.Dst=function(t){if(aO.cT(SF,"Setting active variant stream."),this.grt!==t){var n;if((null==(n=this.grt)?void 0:n.i1)!==(null==t?void 0:t.i1)){if(this.grt)for(var i=0,e=this.grt.l2;i<e.length;i++){var r=e[i];this.yE(r)}if(t)for(var s=0,u=t.l2;s<u.length;s++){var o=u[s];this.xst(o)}}this.grt=t,this.Qs(new PM)}},r.xst=function(t){var n=this.KR._E(jb.Qb,void 0,t.wi,t.L_,t.VJ);this.frt.g_(n),this.hrt.set(t.B_,n),n.Zs(um.r_,this.onTextTrackChange)},r.yE=function(t){var n=this.hrt.get(t.B_);n&&(n.tu(um.r_,this.onTextTrackChange),this.frt.m_(n),this.hrt.delete(t.B_),this.KR.yE(n))},r.bst=function(){var t,n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(n=null!=(t=this.prt)?t:this.M$.U$).length||this.prt){r.next=4;break}return aO.cT(SF,"The HLS stream does not contain any variant streams, skipping ABR selection."),r.abrupt("return",void 0);case 4:if(1!==n.length||this.prt){r.next=7;break}return aO.cT(SF,"The HLS stream contains only a single variant stream, skipping ABR selection."),r.abrupt("return",void 0);case 7:return r.next=9,Fr.awrap(this.Rst(n));case 9:if((i=r.sent).length){r.next=13;break}return aO.P$(SF,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),r.abrupt("return",void 0);case 13:if(0!==(e=MF(i)).length){r.next=22;break}if(!this.Mrt){r.next=17;break}return r.abrupt("return",void 0);case 17:return aO.P$(SF,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),this.Lrt++,r.next=21,Fr.awrap(this.Lst(i));case 21:return r.abrupt("return",void 0);case 22:return r.abrupt("return",e);case 23:case"end":return r.stop()}},null,this,null,qe)},r.L0=function(){var t,n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(this.bst());case 2:if(void 0!==(t=s.sent)){s.next=5;break}return s.abrupt("return");case 5:return u=this.KR,o=void 0,a=void 0,o=u.Xg,a=u.Km.uC(o),n=a?a.NN(0)-o:0,s.next=8,Fr.awrap(this.Ast(t));case 8:return i=s.sent,s.next=11,Fr.awrap(this.art.L0(t,this.grt,n,i));case 11:if(e=s.sent,r=!!this.grt&&e.NR<this.grt.NR,!(!!r||this.Mst(e,t,n))){s.next=17;break}return s.next=17,Fr.awrap(this.y$(e,r));case 17:case"end":return s.stop()}var u,o,a},null,this,null,qe)},r.Mst=function(t,n,e){var r,s;if(t===this.d$)return!1;if(t===this.pst(n))return!0;(!this.Wrt||this.Wrt.w$.NR>t.NR)&&(this.Wrt={w$:t,K7:i.ir()});var u=i.ir()-this.Wrt.K7,o=null!=(r=null==(s=this.b$)?void 0:s.zJ.P0)?r:1/0;return e>=g.max(o-1,5)||u>1e3},r.Lst=function(t){var n,i,e,r,s,u=this;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:this.Mrt=!0,n=!1,i=0;case 3:if(!(i<t.length)){o.next=20;break}if(e=t[i],o.prev=5,void 0!==(r=this.yrt?Ws(e.H$,function(t){return HB(t,u.yrt)}):void 0)){o.next=9;break}return o.abrupt("continue",17);case 9:return o.next=11,Fr.awrap(this.F4(r));case 11:r.zJ.X3=-1/0,n=!0,o.next=17;break;case 15:o.prev=15,o.t0=o.catch(5);case 17:i++,o.next=3;break;case 20:if(!n){o.next=26;break}return this.Lrt=0,o.next=24,Fr.awrap(this.Ust());case 24:o.next=29;break;case 26:return s=g.min(1e3*g.pow(2,this.Lrt),CF),o.next=29,Fr.awrap(bu(s));case 29:return this.Mrt=!1,o.next=32,Fr.awrap(this.L0());case 32:case"end":return o.stop()}},null,this,[[5,15]],qe)},r.Rst=function(t){var n,i=this;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(ru(t,function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.HF){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t1=!t.HF.XF,n.t1){n.next=7;break}return n.next=6,Fr.awrap(i.ort.XX('audio/mp4; codecs="'+t.HF.XF+'"'));case 6:n.t1=n.sent;case 7:if(n.t0=n.t1,!n.t0){n.next=15;break}if(n.t2=!t.HF.UF,n.t2){n.next=14;break}return n.next=13,Fr.awrap(i.ort.XX('video/mp4; codecs="'+t.HF.UF+'"'));case 13:n.t2=n.sent;case 14:n.t0=n.t2;case 15:return n.abrupt("return",n.t0);case 16:case"end":return n.stop()}},null,null,null,qe)}));case 2:return(n=e.sent).some(function(t){var n;return null==(n=t.HF)?void 0:n.UF})&&(n=n.filter(function(t){return!t.HF||t.HF.UF})),n.some(function(t){var n;return null==(n=t.HF)?void 0:n.XF})&&(n=n.filter(function(t){return!t.HF||t.HF.XF})),e.abrupt("return",n);case 6:case"end":return e.stop()}},null,null,null,qe)},r.Ast=function(t){var n=this;return ru(t,function(t){var i,e,r,s,u=[LF(t.X$),LF(t.H$),xF(t.l2),xF(t.d2)].filter(H);return i=u,e=function(t){return n.Xst(t)},Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=10;break}return s=i[r],t.next=5,Fr.awrap(e(s));case 5:if(t.sent){t.next=7;break}return t.abrupt("return",!1);case 7:r++,t.next=1;break;case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}},null,null,null,qe)})},r.Xst=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==t.zJ.$K.length){r.next=2;break}return r.abrupt("return",!1);case 2:if((n=t.zJ.$K[0]).QJ){r.next=5;break}return r.abrupt("return",!1);case 5:return i=n.QJ,e=i.SJ?CB(i.SJ.RN,i.SJ.b_):void 0,r.prev=7,r.next=10,Fr.awrap(this.B4.ert(i.Ai,e));case 10:return r.abrupt("return",r.sent);case 13:return r.prev=13,r.t0=r.catch(7),r.abrupt("return",!1);case 16:case"end":return r.stop()}},null,this,[[7,13]],qe)},r.y$=function(t,n){var i,e,r,s=this;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.vrt){u.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded.");case 2:if(t){u.next=4;break}throw new l("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");case 4:if(this.Bst(t)){u.next=6;break}throw new l("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");case 6:if(t!==this.grt){u.next=9;break}return aO.cT(SF,"Trying to set the already active variant stream, ignoring."),u.abrupt("return");case 9:return i=this.mrt?Ws(t.X$,function(t){return HB(t,s.mrt)}):void 0,e=this.yrt?Ws(t.H$,function(t){return HB(t,s.yrt)}):void 0,r=this.krt?Ws(t.l2,function(t){return HB(t,s.krt)}):void 0,this.Dst(t),this.Wrt=void 0,u.next=16,Fr.awrap(this.fst(i,e,r,n));case 16:case"end":return u.stop()}},null,this,null,qe)},r.p$=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.vrt){i.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.grt){i.next=4;break}throw new l("LLHLSPlayer - Cannot set the active audio rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new l("LLHLSPlayer - Cannot explicitly set the active audio rendition to undefined.");case 6:if(n=this.Ost(t)){i.next=9;break}throw new l("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");case 9:return aO.cT(SF,"Switching audio rendition"),i.next=12,Fr.awrap(this.fst(n,this.yrt,this.krt,!1,!0,!1));case 12:case"end":return i.stop()}},null,this,null,qe)},r.A$=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.vrt){i.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.grt){i.next=4;break}throw new l("LLHLSPlayer - Cannot set the active video rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new l("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.Ost(t)){i.next=9;break}throw new l("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");case 9:return aO.cT(SF,"Switching video rendition"),i.next=12,Fr.awrap(this.fst(this.mrt,n,this.krt,!1,!1,!0));case 12:case"end":return i.stop()}},null,this,null,qe)},r.cst=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.vrt){i.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.grt){i.next=4;break}throw new l("LLHLSPlayer - Cannot set the active subtitle rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new l("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.Ost(t)){i.next=9;break}throw new l("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");case 9:return aO.cT(SF,"Switching subtitle rendition"),i.next=12,Fr.awrap(this.fst(this.mrt,this.yrt,n));case 12:case"end":return i.stop()}},null,this,null,qe)},r.ost=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Mrt){i.next=2;break}return i.abrupt("return");case 2:if(t.fs===EB.wd){i.next=7;break}return i.next=5,Fr.awrap(this.Hst(t,n));case 5:i.next=17;break;case 7:if(!(this.prt&&this.prt.length<=1)){i.next=15;break}if(this.yrt===t){i.next=11;break}return i.next=11,Fr.awrap(this.fst(this.mrt,t,this.krt));case 11:return i.next=13,Fr.awrap(this.Hst(t,n));case 13:i.next=17;break;case 15:return i.next=17,Fr.awrap(this.L0());case 17:case"end":return i.stop()}},null,this,null,qe)},r.F4=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(this.J4.F4(t,n));case 3:i.next=12;break;case 5:if(i.prev=5,i.t0=i.catch(0),lu(i.t0),!zb(i.t0)&&!Wb(i.t0)){i.next=11;break}return i.next=11,Fr.awrap(this.ost(t,n));case 11:throw i.t0;case 12:case"end":return i.stop()}},null,this,[[0,5]],qe)},r.Hst=function(t,n){var i=this;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qs(this.brt,t)){e.next=2;break}return e.abrupt("return");case 2:return this.brt.push(t),e.prev=3,e.next=6,Fr.awrap(WL(function(){return i.retryOfflineRenditionsCallback(t,n)},n,1/0,1e3,CF));case 6:if(e.prev=6,$s(this.brt,t),t.zJ.X3!==-1/0){e.next=11;break}return e.next=11,Fr.awrap(this.Ust());case 11:return e.finish(6);case 12:case"end":return e.stop()}},null,this,[[3,,6,12]],qe)},r.fst=function(t,n,i,e,r,s){return void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===s&&(s=!1),this.mrt===t&&this.yrt===n&&this.krt===i?qe.resolve():void 0===t&&void 0===n?qe.reject(new l("Trying to buffer no media renditions.")):(this.mrt=t,this.yrt=n,this.krt=i,this.Yrt(),this.Qs(new xM),this.Jq.Fs(),this.Jq=new au,this.Ert.Fs(),this.Ert=new au,this.Irt=this.Fst([this.Irt,this.Kq].filter(H),t,n,i,e,r,s,this.Ert.Ws).catch(this.ist),this.Irt)},r.Fst=function(t,n,i,e,r,s,u,o){var a,h,c,f=this;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Fr.awrap(qe.all(t.map(function(t){return t.catch(K)})));case 2:return this.rst(),l.next=5,Fr.awrap(this.sst());case 5:return a=[],s&&this.JR&&this.JR.KV&&a.push(this.JR.KV.Qh(0,1/0)),u&&this.JR&&this.JR.JV&&a.push(this.JR.JV.Qh(0,1/0)),l.next=10,Fr.awrap(qe.all(a));case 10:return fu(o),l.next=13,Fr.awrap(this.zst(n,i,o));case 13:return this.Vst(n,i,r),this.Wst(e,r),fu(o),h=n&&i&&VB(n,i),c=[i,h?void 0:n,e].filter(H),l.prev=18,l.next=21,Fr.awrap(qe.all(c.filter(function(t){return!t.zJ.M3}).map(function(t){var n;return null==(n=f.J4)?void 0:n.z4(t,o)})));case 21:l.next=26;break;case 23:l.prev=23,l.t0=l.catch(18),lu(l.t0);case 26:fu(o),this.vW(),this.Yrt(),void 0!==this.Xrt?this.ast(this.Xrt):!this.Hrt&&c.every(function(t){return!t.zJ.V1})?this.ast(1/0):this.Gst.length>0&&this.qst();case 30:case"end":return l.stop()}},null,this,[[18,23]],qe)},r.zst=function(t,n,i){var e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(e=void 0!==t&&t!==n,r=void 0!==n,!this.JR){c.next=7;break}if(s=void 0!==this.JR.KV,u=void 0!==this.JR.JV,e!==s||r!==u){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,Fr.awrap(this.Yst(t,n,this.grt));case 9:for(o=c.sent,fu(i),a=0,h=this.Gst;a<h.length;a++)h[a].g9.forEach(function(t){return t.Fs()});if(this.KR.mj(),c.prev=13,!this.JR){c.next=17;break}return c.next=17,Fr.awrap(this.KR.k_());case 17:return c.next=19,Fr.awrap(this.jst(o,e,r));case 19:this.JR=c.sent;case 20:return c.prev=20,this.KR.yj(),c.finish(20);case 23:case"end":return c.stop()}},null,this,[[13,,20,23]],qe)},r.Yst=function(t,n,i){var e,r,s,u,o,a,h,c,f,l,v,d;return Fr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(o=i.HF,a=[],o&&o.XF&&(h='audio/mp4; codecs="'+o.XF+'"',aO.cT(SF,"Configuring MediaSource for initial audio rendition with codec: "+h+"."),a.push(h)),o&&o.UF&&(c='video/mp4; codecs="'+o.UF+'"',aO.cT(SF,"Configuring MediaSource for initial video rendition with codec: "+c+"."),a.push(c)),0!==a.length){w.next=7;break}return aO.P$(SF,"No codecs found on the active variant stream."),w.abrupt("return",void 0);case 7:return f=null!=(e=null==n?void 0:null==(r=n.zJ.$K[0])?void 0:r.P1)?e:[],l=null!=(s=null==t?void 0:null==(u=t.zJ.$K[0])?void 0:u.P1)?s:[],v=this.J4.M$,w.next=12,Fr.awrap(HO(this.t6.contentProtection,a,v.A4.concat(l).concat(f),this.lE));case 12:return d=w.sent,w.abrupt("return",{fs:vk.bE,dW:a.map(function(t){return{Nl:t}}),ND:d});case 14:case"end":return w.stop()}},null,this,null,qe)},r.jst=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,Fr.awrap(this.KR.jh(t));case 3:e=r.sent,r.next=7;break;case 6:e=new LM(this.KR,n,i);case 7:return this.JR=e,this.vW(),this.dst(),this._st(),r.abrupt("return",e);case 12:case"end":return r.stop()}},null,this,null,qe)},r.vW=function(){var t=this.JR;if(t&&p(t.Hg)){var n,i,e,r=null!=(n=null==(i=this.mrt)?void 0:i.zJ.Hg)?n:null==(e=this.yrt)?void 0:e.zJ.Hg;void 0!==r&&r>0&&t.cW(r)}this.Yrt()},r.dst=function(){var t=this.JR;t&&(t.JV&&(t.JV.eL=this.TC.mL),t.KV&&(t.KV.eL=this.TC.mL))},r._st=function(){var t=this.JR;t&&(t.JV&&(t.JV.oL=this.TC.oL),t.KV&&(t.KV.oL=this.TC.oL))},r.Vst=function(t,n,i){if(!this.JR)throw new l("Invalid state");this.JR.KV?this.nW&&this.nW.L9(this.JR.KV)||(this.nW=new $M(fp.dd,this.JR.KV,this.O9,this.x9)):this.nW=void 0,this.JR.JV?this.iW&&this.iW.L9(this.JR.JV)||(this.iW=new $M(fp.wd,this.JR.JV,this.O9,this.x9)):this.iW=void 0;var e,r,s,u,o,a,h,c,f,v,d,w,g,m,y=t&&n&&VB(t,n);if(this.iW&&n){var p=y&&this.nW?[this.iW,this.nW]:[this.iW];this.Trt?this.Trt.v$!==n&&(i&&(this.Trt.Fs(),this.Trt.s9.Nu()),this.Trt.F5(n)):(this.Trt=(e=n,r=p,this.KR,s=this.J4,u=this.lE,o=this.B4,a=this.M6,h=this.e9,c=this.TC,f=new AM,v=new yM(fp.wd,e,s,f,u,o,a),d=r.map(function(t){return t.fs}),w=h.Qst(e,f,s.M$.WS,d),(g=new NM(v,f,w,c)).r9(r),g),this.Trt.w9.Zs(dM.N5,this.Jrt),this.Trt._9.Zs(kM.O8,this.gst),this.Trt._9.Zs(kM.x8,this.mst)),this.Trt.r9(p)}else{var _;null==(_=this.Trt)||_.xs(),this.Trt=void 0}this.nW&&t&&!y?(this.Art?this.Art.v$!==t&&(i&&(this.Art.Fs(),this.Art.s9.Nu()),this.Art.F5(t)):(this.Art=function(t,n,i,e,r,s,u,o,a){var h=new AM,c=new yM(fp.dd,t,e,h,r,s,u),f=o.Qst(t,h,e.M$.WS,[n.fs]),l=new NM(c,h,f,a);return l.r9([n]),l}(t,this.nW,this.KR,this.J4,this.lE,this.B4,this.M6,this.e9,this.TC),this.Art._9.Zs(kM.O8,this.gst),this.Art._9.Zs(kM.x8,this.mst)),this.Art.r9([this.nW])):(null==(m=this.Art)||m.xs(),this.Art=void 0);this.Zst()},r.Wst=function(t,n){this.Srt&&(this.Srt.w9.v$===t?n&&(this.Srt.Fs(),this.Srt.s9.Nu()):(this.Srt.xs(),this.Srt=void 0));if(!this.Srt&&t){var i=this.hrt.get(t.B_);i.W_=Mm.F_,this.Srt=function(t,n,i,e,r,s){var u=i.M$.WS,o=new SM(n,u),a=new AM,h=new yM(fp.$n,t,i,a,e,r,s),c=new DM(t,a,u,fp.$n),f=new NM(h,a,c);return f.u9(o),f}(t,i,this.J4,this.lE,this.B4,this.M6)}},r.Zst=function(){var t=[this.nW,this.iW].filter(H).map(function(t){return t.fs});this.J4.M$.WS.u4(t)},r.rj=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(qe.all(t.map(function(t){return t.catch(K)})));case 2:return fu(i),r.next=5,Fr.awrap(this.sst());case 5:fu(i),this.Xrt=void 0,this.zrt=void 0,this.Hrt=!0,e=this.Kst.UN(n),this.KR.xu(e),this.vrt&&this.Gst.length>0&&(this.Jst(this.KR.Xg),this.qst());case 12:case"end":return r.stop()}},null,this,null,qe)},r.Jst=function(t){for(var n=0,i=this.Gst;n<i.length;n++){var e=i[n];e.W5(t)||(e.l9(),e.s9.b8()),e.c9(t)||(e.d9(),e.s9.A8())}},r.rst=function(){for(var t=0,n=this.Gst;t<n.length;t++){n[t].Fs()}},r.sst=function(){return qe.all([this.$st(),this.tut(),this.nut()])},r.qst=function(){this.iut(),this.eut(),this.rut()},r.Ust=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.vrt&&this.Gst.length>0)){t.next=6;break}return this.Gst.forEach(function(t){return t.l9()}),t.next=4,Fr.awrap(this.$st());case 4:this.iut(),this.Gst.forEach(function(t){return t.w9.Z5()});case 6:case"end":return t.stop()}},null,this,null,qe)},r.iut=function(){var t=this;if(!this.Prt){var n=function(){t.Prt=void 0};this.Drt=new au,this.Prt=this.sut(this.Drt.Ws).catch(this.ist).then(n,n)}},r.$st=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Drt)||t.Fs(),n=this.Prt,this.Prt=void 0,!n){i.next=6;break}return i.next=6,Fr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,qe)},r.sut=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:fu(t),n=this.Gst;case 2:for(i=[],e=this.KR.Xg,r=0;r<n.length;r++)s=n[r],u=s.w9,o=s.a9(e),u.T6?i.push(u.E6()):s.v9(e,o,this.TC.mL)&&((a=u.G5(o))?(c=a[0],f=a[1],u.e8(c,f,s.d6)):((h=u.v$.zJ.$K).length&&h[0].Vy>o&&(this.Xg=1/0),u.t8(),u.j5(o)),i.push(u.E6()));if(0!==i.length){l.next=13;break}if(!n.every(function(t){return t.w9.v8})){l.next=9;break}return l.abrupt("break",17);case 9:return l.next=11,Fr.awrap(this.KR.au(Pf.Hf,t));case 11:l.next=15;break;case 13:return l.next=15,Fr.awrap(du(qe.race(i),t));case 15:l.next=2;break;case 17:case"end":return l.stop()}},null,this,null,qe)},r.eut=function(){var t=this;if(!this.Brt){var n=function(){t.Brt=void 0};this.Nrt=new au,this.Brt=this.uut(this.Nrt.Ws).catch(this.ist).then(n,n)}},r.tut=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Nrt)||t.Fs(),n=this.Brt,this.Brt=void 0,!n){i.next=6;break}return i.next=6,Fr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,qe)},r.uut=function(t){var n,i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:fu(t),n=this.Gst;case 2:for(i=[],e=0;e<n.length;e++)r=n[e],s=r.w9,(u=r._9).T6?i.push(u.E6()):(o=s.z5())?"a8"===o.fs?(u.W8(o),i.push(u.E6())):"U1"===o.fs&&(u.z8(o),i.push(u.E6())):i.push(s.K5());if(0!==i.length){a.next=12;break}if(!n.every(function(t){return t.w9.v8})){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Fr.awrap(this.KR.au(Pf.Hf,t));case 10:a.next=14;break;case 12:return a.next=14,Fr.awrap(du(qe.race(i),t));case 14:a.next=2;break;case 16:case"end":return a.stop()}},null,this,null,qe)},r.rut=function(){var t=this;if(!this.Ort){this.Crt=new au;var n=function(){t.Ort=void 0};this.Ort=this.out(this.Crt.Ws).catch(this.ist).then(n,n)}},r.nut=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Crt)||t.Fs(),n=this.Ort,this.Ort=void 0,!n){i.next=6;break}return i.next=6,Fr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,qe)},r.out=function(t){var n,i,e,r,s,u,o,a,h,c,f,l,v,d=this;return Fr.async(function(w){for(;;)switch(w.prev=w.next){case 0:for((n=this.Gst).forEach(function(t){return t.o9()}),i=[],e=[],r=[],s=0;s<n.length;s++)for(u=n[s],o=u._9,a=0,h=u.g9;a<h.length;a++)c=h[a],f=c.b6?i:e,c.T6?f.push(c.E6()):c.I6(this.KR.Xg)||((l=o.j8(c.fs))?"a8"===l.fs&&l.F1===this.Rrt?(c.P6(l),f.push(c.E6())):"K8"===l.fs&&l.F1===this.Rrt&&(c.qz(l),f.push(c.E6())):r.push(o.Q8(c.fs)));if(0!==i.length){w.next=15;break}if(!((v=tu(n,function(t){return t.g9.filter(function(t){return t.b6}).map(function(n){return t._9.j8(n.fs)})})).length>0&&v.every(function(t){return void 0!==t&&"K8"===t.fs&&t.F1!==d.Rrt}))){w.next=15;break}return w.next=12,Fr.awrap(function(){var i,e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(e=iu(i=v,function(t){return t.F1}).F1,!i.every(function(t){return t.F1===e})){l.next=20;break}return r=nu(i,function(t){return t.Vy}).Vy,l.next=7,Fr.awrap(d.aut(i));case 7:if(s=l.sent,!d.JR.CX(s)){l.next=15;break}return aO.C$("Discontinuity","Seamless switch from",d.JR.rc,"to",s),l.next=12,Fr.awrap(d.JR.PX(s));case 12:aO.C$("Discontinuity","Seamless switch complete."),l.next=17;break;case 15:return l.next=17,Fr.awrap(d.hut(r,s,t));case 17:d.Rrt=i[0].F1,l.next=21;break;case 20:for(u=0;u<n.length;u++)for(o=n[u],a=0,h=o.g9;a<h.length;a++)for(c=h[a],f=o._9.j8(c.fs);f&&f.F1!==e;)o._9.N6(f),f=o._9.j8(c.fs);case 21:return l.abrupt("return","continue");case 22:case"end":return l.stop()}},null,null,null,qe)}());case 12:if("continue"!==w.sent){w.next=15;break}return w.abrupt("continue",0);case 15:if(0!==i.length||0!==e.length||0!==r.length){w.next=19;break}return n.every(function(t){return t.g9.length>0&&t.g9.every(function(t){return t.I6(d.KR.Xg)})})&&this.JR.vV(),w.abrupt("break",23);case 19:return w.next=21,Fr.awrap(du(qe.race([].concat(i,e,r)),t));case 21:w.next=0;break;case 23:case"end":return w.stop()}},null,this,null,qe)},r.aut=function(t){var n,i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.map(function(t){return t.J8.HF}),i=n.map(function(t){return{Nl:t}}),(e=tu(t,function(t){return t.J8.P1})).push.apply(e,this.J4.M$.A4),r=this.t6.contentProtection,u.next=7,Fr.awrap(HO(r,n,e,this.lE));case 7:return 0===(s=u.sent).length&&this.JR&&this.JR.rc.ND.length>0&&(s=this.JR.rc.ND),u.abrupt("return",{fs:vk.bE,dW:i,ND:s});case 10:case"end":return u.stop()}},null,this,null,qe)},r.hut=function(t,n,i){var e,r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(r=this.JR,s=r.Hg,!(u=this.Xg<t)){h.next=19;break}h.prev=4,aO.C$("Discontinuity","Marking end of stream and waiting for ended to switch discontinuity."),r.vV();case 7:if(this.KR.Fg||!(this.KR.Xg<t)){h.next=12;break}return h.next=10,Fr.awrap(this.KR.au([Pf.Hf,Pf.mf],i));case 10:h.next=7;break;case 12:h.next=19;break;case 14:throw h.prev=14,h.t0=h.catch(4),r.aV(),r.cW(s),h.t0;case 19:return aO.C$("Discontinuity","Perform hard switch from",null==(e=this.JR)?void 0:e.rc,"to",n),h.prev=20,this.Xg<t&&(this.Xg=t),this.KR.mj(),this.iW=void 0,this.nW=void 0,this.Zst(),h.next=28,Fr.awrap(this.KR.k_());case 28:return h.next=30,Fr.awrap(this.KR.jh(n));case 30:this.JR=h.sent,this.vW(),this.dst(),this._st(),this.JR.JV&&(this.iW=new $M(fp.wd,this.JR.JV,this.O9,this.x9)),this.JR.KV&&(this.nW=new $M(fp.dd,this.JR.KV,this.O9,this.x9)),this.Zst();case 37:return h.prev=37,u&&pu(this.KR.Nm()),this.KR.yj(),h.finish(37);case 41:this.Trt&&(o=void 0!==this.nW&&void 0===this.Art,a=o?[this.iW,this.nW]:[this.iW],this.Trt.r9(a)),this.Art&&this.Art.r9([this.nW]),aO.C$("Discontinuity","Hard switch complete.");case 44:case"end":return h.stop()}},null,this,[[4,14],[20,,37,41]],qe)},r.cut=function(t){return du(_u(tu(this.Gst,function(t){return t.g9.map(function(t){return t.E6()})})),t)},r.Sd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return aO.cT(SF,"Unloading the player."),this.fut(),this.Sst(),t.next=5,Fr.awrap(this.k_());case 5:return this.KR.ED=void 0,this.frt.Sd(),t.next=9,Fr.awrap(this.eD.Sd());case 9:return t.next=11,Fr.awrap(this.O9.Sd());case 11:return t.next=13,Fr.awrap(this.x9.Sd());case 13:this.mm.Sd(),this.ym.Sd(),this.pm.Sd(),this.urt.Sd(),this.rrt.xs(),this.M6.xs();case 19:case"end":return t.stop()}},null,this,null,qe)},r.k_=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return aO.cT(SF,"Resetting the player."),this.tu(SB.bJ,this.handleBufferingErrorEvent),this.Rrt=-1,this.wrt.Fs(),this.wrt=new au,this.dE.Fs(),this.dE=new au,this.Jq.Fs(),this.Jq=new au,this.Ert.Fs(),this.Ert=new au,t=[this.drt,this.R5,this.Kq,this.Irt].filter(H),n.next=14,Fr.awrap(qe.all(t.map(function(t){return t.catch(K)})));case 14:return this.drt=void 0,this.R5=void 0,this.Kq=void 0,this.Irt=void 0,this.mrt=void 0,this.yrt=void 0,this.krt=void 0,this.prt=void 0,this.brt=[],this.Dst(void 0),this.rst(),n.next=27,Fr.awrap(this.sst());case 27:return this.Art&&(this.Art.xs(),this.Art=void 0),this.Trt&&(this.Trt.xs(),this.Trt=void 0),this.Srt&&(this.Srt.xs(),this.Srt=void 0),this.nW=void 0,this.iW=void 0,this.JR=void 0,this.e9&&(this.e9.xs(),this.e9=void 0),this.J4&&(this.J4.xs(),this.J4=void 0),this._rt&&(this.pm.qR(this._rt.Rm),this._rt=void 0),n.next=38,Fr.awrap(this.eD.k_());case 38:return n.next=40,Fr.awrap(this.O9.k_());case 40:return n.next=42,Fr.awrap(this.x9.k_());case 42:return this.KR.HD(),n.next=45,Fr.awrap(this.KR.k_());case 45:this.t6=void 0,this.lrt=void 0,this.vrt=!1,this.yC=1,this.eW=yS.fC(),this.Xrt=void 0,this.Frt=void 0,this.zrt=void 0,this.Hrt=!1,this.Vrt=!1,this.urt.k_(),this.vut(),this.Qs(new by(this.Xg,this.Y_));case 58:case"end":return n.stop()}},null,this,null,qe)},r.vut=function(){for(var t=0,n=this.mm.p_;t<n.length;t++){n[t].Sd()}for(var i=0,e=this.ym.p_;i<e.length;i++){e[i].Sd()}for(var r=0,s=this.pm.p_;r<s.length;r++){s[r].Sd()}this.mm.k_(),this.ym.k_(),this.pm.k_(),this.hrt.clear()},r.kst=function(){this.urt.Zs(EF,this.js),this.urt.Zs(_y.Ug,this.vD),this.urt.Zs(_y.Mg,this.tst),this.TC.Zs("rL",this.lst),this.TC.Zs("aL",this.wst),this.KR.Zs(IF,this.js),this.KR.Zs(Pf.vf,this.handleContentProtectionErrorEvent),this.KR.Zs(Pf._f,this.qrt),this.KR.Zs(Pf.mf,this.jrt),this.KR.Zs(Pf.Ef,this.Qrt),this.KR.Zs(Pf.If,this.Zrt),this.KR.Zs(Pf.Rf,this.Krt),this.KR.Zs(_y.u_,this.IE),this.KR.Zs(Pf.Hf,this.UG),this.KR.Zs(Pf.Bf,this.oW),this.KR.Zs(Pf.Pf,this.fD),this.KR.Zs(Pf.Ff,this.$rt)},r.fut=function(){this.urt.tu(EF,this.js),this.urt.tu(_y.Ug,this.vD),this.urt.tu(_y.Mg,this.tst),this.TC.tu("rL",this.lst),this.TC.tu("aL",this.wst),this.KR.tu(IF,this.js),this.KR.tu(Pf.vf,this.handleContentProtectionErrorEvent),this.KR.tu(Pf._f,this.qrt),this.KR.tu(Pf.mf,this.jrt),this.KR.tu(Pf.Ef,this.Qrt),this.KR.tu(Pf.If,this.Zrt),this.KR.tu(Pf.Rf,this.Krt),this.KR.tu(_y.u_,this.IE),this.KR.tu(Pf.Hf,this.UG),this.KR.tu(Pf.Bf,this.oW),this.KR.tu(Pf.Pf,this.fD),this.KR.tu(Pf.Ff,this.$rt)},T(e,[{key:"Tst",get:function(){for(var t=[this.mrt,this.yrt].filter(H),n=0;n<t.length;n++){var i=t[n];if(!i.zJ.V1)return!1;var e=i.zJ.$K,r=e[e.length-1];if(r&&r.F1!==this.Rrt)return!1}return!0}},{key:"d$",get:function(){return this.grt}},{key:"k$",get:function(){return this.mrt}},{key:"b$",get:function(){return this.yrt}},{key:"vst",get:function(){return this.krt}},{key:"Em",get:function(){return this.mm}},{key:"Km",get:function(){return this.KR.Km.qD()}},{key:"g$",get:function(){var t=[];if(this.grt)for(var n=this.KR.Xg,i=0,e=this.Gst;i<e.length;i++)for(var r=0,s=e[i].g9;r<s.length;r++){var u=s[r].D6(n);u&&!Qs(t,u)&&t.push(u)}return t}},{key:"Jm",get:function(){if(this.grt){var t=this.KR.Xg;return this.grt.u2(t)}},set:function(t){if(t&&this.grt){var n=this.grt.o2(t);void 0!==n&&(this.Xg=n)}}},{key:"Xg",get:function(){var t;return null!=(t=this.Xrt)?t:this.KR.Xg},set:function(t){aO.cT(SF,"Seeking to "+t+" s."),this.Xrt=t,this.zrt=!0,this.Hrt=!0,this.Qs(new Py(t)),this.Jq.Fs(),this.ast(t)}},{key:"Hg",get:function(){var t,n,i,e,r,s,u;return this.Tst?this.KR.Hg:null!=(t=null!=(n=null!=(i=null==(e=this.mrt)?void 0:e.zJ.Hg)?i:null==(r=this.yrt)?void 0:r.zJ.Hg)?n:null==(s=this.J4)?void 0:null==(u=s.K4)?void 0:u.zJ.Hg)?t:1/0}},{key:"Fg",get:function(){if(!this.Tst)return!1;if(this.qg){var t,n,i=this.Xg,e=null==(t=this.mrt)?void 0:t.zJ.Hg,r=null==(n=this.yrt)?void 0:n.zJ.Hg;return!(void 0!==e&&i<e)&&!(void 0!==r&&i<r)}return this.KR.Fg}},{key:"mu",get:function(){return this.$R}},{key:"zg",get:function(){return this.tD}},{key:"Dm",get:function(){}},{key:"iy",get:function(){return!1}},{key:"ey",get:function(){return Ur({},{sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.KR.jD())}},{key:"M$",get:function(){var t;return null==(t=this.J4)?void 0:t.M$}},{key:"Vg",get:function(){return this.KR.Vg},set:function(t){this.KR.Vg=t}},{key:"_y",get:function(){return this.xrt},set:function(t){this.xrt!==t&&(this.xrt=t,this.Qs(t?new HM:new XM))}},{key:"Wg",get:function(){return this.KR.Wg}},{key:"Gg",get:function(){return this.KR.Gg},set:function(t){aO.cT(SF,"Setting playback rate to "+t+"."),this.KR.Gg=t}},{key:"gy",get:function(){return this.lut.qD()}},{key:"lut",get:function(){return this.KR.gy}},{key:"yy",get:function(){return this.nD},set:function(t){this.nD!==t&&(this.nD=t,this.Est())}},{key:"Y_",get:function(){var t=this.KR.Y_;return this.Vrt&&(t=g.max(ey.Dg,t)),t}},{key:"py",get:function(){return this.Kst.qD()}},{key:"Kst",get:function(){var t=this.eW,n=[this.mrt,this.yrt].filter(H);if(t.b_>0&&n.some(function(t){return!t.zJ.V1})){var i=this.lut,e=t.NN(t.b_-1);if(i.b_>0&&i.NN(i.b_-1)>e){var r=i.NN(i.b_-1),s=n.reduce(function(t,n){return t.FN(n.zJ.O3)},new yS([0,1/0]));s.b_>0&&(r=g.min(r,s.NN(s.b_-1))),t=t.YN(new yS([e,r]))}}return t}},{key:"qg",get:function(){var t;return null!=(t=this.zrt)?t:this.KR.qg}},{key:"QD",get:function(){}},{key:"Rm",get:function(){return this.pm}},{key:"Im",get:function(){return this.ym}},{key:"Yg",get:function(){return this.KR.Yg}},{key:"jg",get:function(){return this.KR.jg}},{key:"Qg",get:function(){return this.KR.Qg},set:function(t){aO.cT(SF,"Setting volume to "+t+"."),this.KR.Qg=t}},{key:"by",get:function(){return this.oD}},{key:"Ay",get:function(){return!1},set:function(t){}},{key:"ZD",get:function(){return this.uD}},{key:"Gst",get:function(){return[this.Art,this.Trt,this.Srt].filter(H)}}]),e}(Su),NF=function(){function t(){}return t.prototype.JD=function(n,i){var e;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(ay(n.type)){i.next=2;break}return i.abrupt("return",!1);case 2:if(!n.useNativePlayback){i.next=4;break}return i.abrupt("return",!1);case 4:if(!(e=n.contentProtection)||cA(e)){i.next=12;break}if(vA(e)){i.next=8;break}return i.abrupt("return",!1);case 8:return i.next=10,Fr.awrap(t.wut(e));case 10:if(i.sent){i.next=12;break}return i.abrupt("return",!1);case 12:return i.abrupt("return",!0);case 13:case"end":return i.stop()}},null,null,null,qe)},t.wut=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.aes128){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t0=t.playready,!n.t0){n.next=7;break}return n.next=6,Fr.awrap(i.Dr());case 6:n.t0=n.sent;case 7:if(!n.t0){n.next=9;break}return n.abrupt("return",!0);case 9:if(n.t1=t.widevine,!n.t1){n.next=14;break}return n.next=13,Fr.awrap(i.Nr());case 13:n.t1=n.sent;case 14:if(!n.t1){n.next=16;break}return n.abrupt("return",!0);case 16:if(n.t2=t.clearkey,!n.t2){n.next=21;break}return n.next=20,Fr.awrap(i.Ir());case 20:n.t2=n.sent;case 21:if(!n.t2){n.next=23;break}return n.abrupt("return",!0);case 23:if(!t.fairplay){n.next=25;break}return n.abrupt("return",!1);case 25:return n.next=27,Fr.awrap(i.Sr());case 27:if(!n.sent){n.next=29;break}return n.abrupt("return",!0);case 29:return n.abrupt("return",!1);case 30:case"end":return n.stop()}},null,null,null,qe)},t}(),PF=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).mN=n,e}return E(n,t),n.prototype.Cst=function(){this.Qs(new My(this.Xg,this.Y_))},T(n,[{key:"Y_",get:function(){return this.mN.Y_}}]),n}(Rk);function xF(t){var n=Ws(t,function(t){return t.VJ}),e=t.filter(function(t){return t.WJ}),r=i.Fr,s=e.map(function(t){return t.L_}).filter(H),u=jM(s,r);return u?Ws(e,function(t){return t.L_===u}):n}function BF(t,n,i){var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,e=n.preferredAudioCodecs;if(void 0!==i){for(var r,s=function(n){var s=i[n],u=t.filter(function(t){return t.HF&&t.HF.UF&&xD(t.HF.UF,s)});if(0===u.length)return"continue";if(void 0===e)return{v:u};void 0===r&&(r=u);var o=OF(u,e);return void 0!==o?{v:o}:void 0},u=0;u<i.length;u++){var o=s(u);if("continue"!==o&&"object"==typeof o)return o.v}if(void 0!==r)return r}if(void 0!==e){var a=OF(t,e);if(void 0!==a)return a}return t}(t,n);switch(i.sL.type){case oR.BANDWIDTH:var r=i.yL,s=e.filter(function(t){return t.NR<=r});if(s.length>0)return iu(s,function(t){return t.NR});case oR.PERFORMANCE:return nu(e,function(t){return t.NR});case oR.QUALITY:return iu(e,function(t){return t.NR})}}function OF(t,n){for(var i=function(i){var e=n[i],r=t.filter(function(t){return t.HF&&t.HF.XF&&xD(t.HF.XF,e)});return 0===r.length?"continue":{v:r}},e=0;e<n.length;e++){var r=i(e);if("continue"!==r&&"object"==typeof r)return r.v}}function LF(t){var n;return null!=(n=xF(t))?n:t[0]}function MF(t){return t.filter(function(t){return t.H$.some(function(t){return t.zJ.X3<i.ir()-CF})||0===t.H$.length})}var jF=function(){function t(){}var i=t.prototype;return i.U6=function(t,i,e){var r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Fr.awrap(crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]));case 3:return r=u.sent,u.next=6,Fr.awrap(crypto.subtle.decrypt({name:"AES-CBC",iv:e},r,t));case 6:return s=u.sent,u.abrupt("return",new _(s));case 10:throw u.prev=10,u.t0=u.catch(0),new lf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 13:case"end":return u.stop()}},null,null,[[0,10]],qe)},i.xs=function(){},t.mc=function(){return void 0!==typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}(),FF=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return E(n,t),n}(Iu),UF=["message","messageerror","error"],HF=function(t){function n(n){var i;return(i=t.call(this,jm.z_)||this).error=n,i}return E(n,t),n}(Iu),XF=function(t){function n(n){var i;return(i=t.call(this)||this)._ut=void 0,i.gut=void 0,i.mut=[],i.yut=function(t){if(i.kut)t.but();else{i._ut=t,i._ut.Zs(UF,i.js);for(var n=0,e=i.mut;n<e.length;n++){var r=e[n];t.Aut(r.du,r.Tut)}Ks(i.mut)}},i.Sut=function(t){if(!i.kut){var n=t instanceof l?t:new l("Could not create Worker.");i.Qs(new HF(n)),i.but()}},i.gut=new au,n(i.gut.Ws).then(i.yut,i.Sut),i}E(n,t);var i=n.prototype;return i.Aut=function(t,n){this.kut||(void 0!==this._ut?this._ut.Aut(t,n):this.mut.push({du:t,Tut:n}))},i.but=function(){this.kut||(this.gut.Fs(),Ks(this.mut),void 0!==this._ut&&this._ut.but())},T(n,[{key:"kut",get:function(){return this.gut.Ws.Ns}}]),n}(Su);var VF=function(t){function n(n){var i;return(i=t.call(this)||this)._ut=void 0,i.Eut=function(t){i.Qs(new FF("message",t.data))},i.Iut=function(t){i.Qs(new FF("messageerror",t.data))},i.LY=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof l?t.error:new l(t.message);i.Qs(new HF(n)),i.but()},i._ut=new b(n),i._ut.addEventListener("message",i.Eut),i._ut.addEventListener("messageerror",i.Iut),i._ut.addEventListener("error",i.LY),i}E(n,t);var i=n.prototype;return i.Aut=function(t,n){n?this._ut.postMessage(t,n):this._ut.postMessage(t)},i.but=function(){this.$s(),this._ut.removeEventListener("message",this.Eut),this._ut.removeEventListener("messageerror",this.Iut),this._ut.removeEventListener("error",this.LY),this._ut.terminate()},n}(Su),zF=0,WF="iframe.html",qF=function(n){function e(e,r){var u;(u=n.call(this)||this).Bh=void 0,u.Rut=void 0,u.Dut=void 0,u.Nut=void 0,u.Cut=function(){u.Dut.removeEventListener("load",u.Cut),u.Dut.contentWindow.postMessage({type:"initialize",id:u.Bh,script:u.Rut},"*")},u.Put=function(t){t.origin===u.Nut&&t.data.id===u.Bh&&("initialized"===t.data.type||("error"===t.data.type?(u.Qs(new HF(new l(t.data.data.message))),u.but()):u.Qs(new FF("message",t.data.data))))},u.Bh=zF++,u.Rut=e;var o,a,h=i.Br(WF,r);return u.Dut=(o=h.href,(a=s.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,s.body.appendChild(a),a),u.Nut=h.origin,u.Dut.addEventListener("load",u.Cut),t.addEventListener("message",u.Put),u}E(e,n);var r=e.prototype;return r.Aut=function(t,n){n?this.Dut.contentWindow.postMessage({type:"message",data:t},"*",n):this.Dut.contentWindow.postMessage({type:"message",data:t},"*")},r.but=function(){var n;this.Dut.removeEventListener("load",this.Cut),t.removeEventListener("message",this.Put),null==(n=this.Dut.contentWindow)||n.postMessage({type:"terminate"},"*"),nr(this.Dut)},e}(Su);function GF(t,n){return t=i.Or(t,n),new XF(function(e){return function(t,n,e){var r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,r=new VF(t),l.next=4,Fr.awrap(ZF(r,e));case 4:return l.abrupt("return",r);case 7:l.prev=7,l.t0=l.catch(0),null==(s=r)||s.but(),lu(l.t0);case 11:if(!QF||!Df){l.next=42;break}return l.prev=12,l.next=15,Fr.awrap(i.Xw.Yl({Ql:t,md:hw.GET,Wl:xf.$n,Ws:e}));case 15:return o=l.sent,l.next=18,Fr.awrap(o.El(e));case 18:u=l.sent,l.next=24;break;case 21:l.prev=21,l.t1=l.catch(12),lu(l.t1);case 24:if(!u){l.next=42;break}return l.prev=25,h=Df([u],{type:"application/javascript"}),a=URL.createObjectURL(h),r=new VF(a),l.next=31,Fr.awrap(ZF(r,e));case 31:return l.abrupt("return",r);case 34:l.prev=34,l.t2=l.catch(25),null==(c=r)||c.but(),lu(l.t2),QF=!1;case 39:return l.prev=39,a&&URL.revokeObjectURL(a),l.finish(39);case 42:return l.prev=42,r=new qF(t,n),l.next=46,Fr.awrap(ZF(r,e));case 46:return l.abrupt("return",r);case 49:throw l.prev=49,l.t3=l.catch(42),null==(f=r)||f.but(),l.t3;case 53:case"end":return l.stop()}},null,null,[[0,7],[12,21],[25,34,39,42],[42,49]],qe)}(t,n,e)})}var $F,YF,QF=!0;function ZF(t,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(t.au(["message","error"],i));case 2:if("error"!==(e=r.sent).type){r.next=5;break}throw u=e.error,new lf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",u);case 5:if(q(s=e.data)&&"4.4.0"===s.But){r.next=7;break}throw new lf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (4.4.0).");case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}var s,u},null,null,null,qe)}!function(t){t.Out="U6",t.xut="f5"}($F||($F={})),function(t){t.Lut="Mut",t.Uut="Xut"}(YF||(YF={}));var KF=function(){function t(t){var e=this;this.Hut=void 0,this.Fut=void 0,this._ut=void 0,this.zut=0,this.Vut=Xr(),this.Wut=function(t){var i=t.data,r=i.Gut,s=e.Vut.get(r);s&&(e.Vut.delete(r),i.qut===YF.Lut?s.Wu(i.Yut):i.qut===YF.Uut&&s.Gu(new lf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.")))},this.ow=function(t){var i=new lf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);e.xs(i)},this.Hut=t;try{this.Fut=i.Or("theoplayer.d.js",t)}catch(t){throw new lf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var e=t.prototype;return e.jut=function(){var t=GF(this.Fut,this.Hut);return t.Zs("message",this.Wut),t.Zs("error",this.ow),t},e.U6=function(t,n,i){var e=""+ ++this.zut,r={Qut:$F.Out,Zut:e,Kut:t,Jut:n,$ut:i},s=new na;return this.Vut.set(e,s),null!=this._ut||(this._ut=this.jut()),this._ut.Aut(r),s.Hu},e.xs=function(t){void 0===t&&(t=new hu),this.Vut.forEach(function(n){return n.Gu(t)}),this.Vut.clear(),this._ut&&(this._ut.but(),this._ut=void 0)},t}();function JF(t,n){if(void 0===n.tot)return{XF:void 0,UF:t};if(void 0===n.iot)return{XF:t,UF:void 0};for(var i=Oc(t),e=nU(i),r=nU(i),s=0;s<i.boxes.length;s++){var u=i.boxes[s];rD(u)&&(e.boxes[s]=sU(u,n.iot),r.boxes[s]=sU(u,n.tot))}var o=e.serialize().join(),a=r.serialize().join();return{XF:o,UF:a}}function tU(t){var n=Ws(t.boxes,iD);if(n){var i=Ws(n.boxes,eD);if(i)return i.handlerType}}function nU(t){var n,i=new Cc;return(n=i.boxes).push.apply(n,t.boxes),i}function iU(t){var n,i=new Vh;return(n=i.boxes).push.apply(n,t.boxes),i}var eU=8;function rU(t,n){for(var i=function(t){var n,i=new nc;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=uU(n),r=0;r<i.boxes.length;r++){var s=i.boxes[r];if(s===n)i.boxes[r]=new wh(new _(n.getSize()-eU));else if(s instanceof Vh){var u=s,o=Gs(u.boxes,function(t){return t instanceof Hh&&t.trackId===e});if(o>=0){var a=u.boxes[o],h=iU(u);h.boxes[o]=new wh(new _(a.getSize()-eU)),i.boxes[r]=h}}}return i}function sU(t,n){for(var i=function(t){var n,i=new vc;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=0;e<i.boxes.length;e++){var r=i.boxes[e];if(r instanceof fc){var s=Ws(r.boxes,sD);s&&s.trackId===n&&(i.boxes[e]=new wh(new _(r.getSize()-eU)))}}return i}function uU(t){return Ws(t.boxes,nD).trackId}function oU(t,n,i){for(var e=Ws(t.boxes,sD),r=!0,s=0,u=t.boxes;s<u.length;s++){var o=u[s];if(o instanceof sc)o.baseMediaDecodeTime=o.baseMediaDecodeTime.subtract(i.Tp(n).tp());else if(o instanceof rc)o.baseMediaDecodeTime-=i.Sk(n);else if(o instanceof hc&&o.samples.length>0&&r){r=!1;var a=o.samples;if(!o.flags.sampleDurationPresent){o.flags.sampleDurationPresent=!0;for(var h=e.defaultSampleDuration,c=0;c<a.length;c++){a[c].duration=h}}a[0].duration+=i.Sk(n),o.samples=a}}}function aU(t,n){var i=sb(vb.RA(qo(t)),m_.Ob);if(!i)throw new l("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=[],e=function(t,e){var r=e[t];if(!r._S||0===r.wS.length||0===r.wS[0].bS.length)return"continue";for(var s=r.pA.iT,u=Ws(n.VA,function(t){return t.iT===s}),o=0,a=1/0,h=0,c=r.pA.sS||0,f=0,l=r.wS;f<l.length;f++)for(var v=0,d=l[f].bS;v<d.length;v++){var w,g=d[v],m=g.AS||0,y=o+m,p=(o+=null!=(w=g.Hg)?w:c)+m;y<a&&(a=y),p>h&&(h=p)}var _=f_.Vk(r._S._S,u.yp);i.push({iT:s,eot:_,gK:_.Sy(f_.Wk(a,u.yp)),rot:_.Sy(f_.Wk(o,u.yp)),uot:_.Sy(f_.Wk(h,u.yp))})},r=0,s=t.VA;r<s.length;r++)e(r,s);return i}(i,n)}var hU,cU=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,i,e,r,s)||this).Sw=void 0,u.oot=void 0,u.aot=void 0,u.hot=void 0,u.cot=void 0,u.fot=0,u.vot=0,u.lot=Vr(),u.Sw=n,u}E(i,t);var e=i.prototype;return e.V8=function(n,i){return t.prototype.V8.call(this,n,i)},e.dot=function(t){var n;return this.lot.has(t.F1)?n=this.lot.get(t.F1):(n=qM(t.a8.Fi.Fi),this.lot.set(t.F1,n)),n},e.G8=function(i,e){var r,s,u,o,a,h,c,f,l,v,d,w,g,m,y,p,_,b,k,A,T,S,E,I,R;return Fr.async(function(C){for(;;)switch(C.prev=C.next){case 0:if(fu(e),s=this.dot(i),u=i.a8,s===UM.P9||s===UM.C9){C.next=5;break}return C.abrupt("return",t.prototype.G8.call(this,i,e));case 5:if(!u.C6.P1.some(lU)){C.next=7;break}throw new lf(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");case 7:if(o=this.Sw.wot(),s!==UM.P9){C.next=14;break}return C.next=11,Fr.awrap(o._ot({data:u.Fi.Fi,metadata:this.oot}));case 11:a=C.sent,C.next=17;break;case 14:return C.next=16,Fr.awrap(o.got({data:u.Fi.Fi,metadata:this.oot}));case 16:a=C.sent;case 17:if(fu(e),this.q8({XF:a.metadata.audio_codec,UF:a.metadata.video_codec,FF:void 0}),h=f_.Vk(vt.fromBits(a.metadata.first_decode_timestamp.low,a.metadata.first_decode_timestamp.high),a.metadata.first_decode_timestamp.base),c=f_.Vk(vt.fromBits(a.metadata.first_presentation_timestamp.low,a.metadata.first_presentation_timestamp.high),a.metadata.first_presentation_timestamp.base),u.C6.m2=c,this.Y8(),this.c4.V3(i.F1)){C.next=30;break}for(f=f_.Np(u.C6.Vy),l=0,v=this.Z8;l<v.length;l++)d=v[l],this.c4.J3(i.F1,d,h,f,!0);if(this.Y8(),this.c4.V3(i.F1)){C.next=30;break}return C.next=30,Fr.awrap(du(this.c4.W3(i.F1),e));case 30:if(w=this.c4.K3(h,u.C6),this.oot=a.metadata,g={b1:i.b1,t9:CM(u.C6),Vy:u.C6.Vy,Hg:null!=(r=u.C6.Hg)?r:0,Zp:w.Ek(),F1:i.F1,v$:i.v$,C6:u.C6},void 0!==a.data.audio_media||void 0!==a.data.video_media){C.next=36;break}for(m=0,y=this.Z8;m<y.length;m++)p=y[m],_=Ur({fs:"a8",Fi:void 0,n4:p},g),this.g8(_);return C.abrupt("return");case 36:b=[],void 0!==a.data.audio_media&&(!a.data.audio_init||this.aot&&this.fot===i.F1&&$u(this.aot,a.data.audio_init)||(k={fs:"K8",Fi:{fs:VC.GX,Fi:a.data.audio_init},n4:fp.dd,F1:i.F1,J8:{HF:'audio/mp4; codecs="'+a.metadata.audio_codec+'"',P1:u.C6.P1},Vy:u.C6.Vy,v$:i.v$,C6:u.C6},this.aot=a.data.audio_init,this.fot=i.F1,this.g8(k)),A=Ur({fs:"a8",Fi:{fs:VC.GX,Fi:a.data.audio_media},n4:fp.dd},g),this.g8(A)),void 0!==a.data.video_media&&(!a.data.video_init||this.hot&&this.vot===i.F1&&$u(this.hot,a.data.video_init)||(T={fs:"K8",Fi:{fs:VC.GX,Fi:a.data.video_init},n4:fp.wd,F1:i.F1,J8:{HF:'video/mp4; codecs="'+a.metadata.video_codec+'"',P1:u.C6.P1},Vy:u.C6.Vy,v$:i.v$,C6:u.C6},this.hot=a.data.video_init,this.vot=i.F1,this.cot=pD(qo(a.data.video_init)),this.g8(T)),S=this.cot.VA[0],E=aU(a.data.video_media,this.cot)[0],I=this.mot(a.data.video_media,S,E,u.C6),this.yot=S,R=Ur({fs:"a8",Fi:{fs:VC.GX,Fi:I},n4:fp.wd},g),this.g8(R),b.push(E)),this.kot=u.C6,this.pot=b;case 41:case"end":return C.stop()}},null,this,null,qe)},e.Fs=function(){this.aot=void 0,this.hot=void 0,t.prototype.Fs.call(this)},i}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Fz=void 0,n.bot=void 0,n.kot=void 0,n.pot=void 0,n.yot=void 0,n}E(n,t);var i=n.prototype;return i.V8=function(t,n){fu(n);var i=this.v$.fs,e=pD(qo(t.U1.Fi.Fi));if(!e)throw new l("Mp4Transmuxer - Unable to parse "+i+" MP4 initializer.");this.Fz=e;var r=function(t){for(var n,i,e,r=0,s=t.VA;r<s.length;r++){var u=s[r];n||(n=u.HF.XF),i||(i=u.HF.UF),e||(e=u.HF.FF)}if(n||i)return{XF:n,UF:i,FF:e};return}(e);r&&this.q8(r);var s=function(t){var n=Oc(t),i=Ws(n.boxes,JC),e=i.boxes.filter(tD),r=Ws(e,function(t){return tU(t)===Ah.AUDIO}),s=Ws(e,function(t){return tU(t)===Ah.VIDEO}),u={tot:r?uU(r):void 0,iot:s?uU(s):void 0};if(!r||!s)return{XF:r?t:void 0,UF:s?t:void 0,QS:u};var o=nU(n),a=nU(n),h=n.boxes.indexOf(i);o.boxes[h]=rU(i,s),a.boxes[h]=rU(i,r);var c=o.serialize().join(),f=a.serialize().join();return{XF:c,UF:f,QS:u}}(t.U1.Fi.Fi);if(this.bot=s.QS,s.UF){var u=Ws(e.VA,function(t){return t.iT===s.QS.iot}),o={fs:"K8",Fi:{fs:VC.GX,Fi:s.UF},n4:fp.wd,F1:t.F1,J8:{HF:'video/mp4; codecs="'+u.HF.UF+'"',P1:t.P1},Vy:t.Vy,v$:this.v$,C6:t.U1.C6};this.g8(o)}if(s.XF){var a=Ws(e.VA,function(t){return t.iT===s.QS.tot}),h={fs:"K8",Fi:{fs:VC.GX,Fi:s.XF},n4:fp.dd,F1:t.F1,J8:{HF:'audio/mp4; codecs="'+a.HF.XF+'"',P1:t.P1},Vy:t.Vy,v$:this.v$,C6:t.U1.C6};this.g8(h)}return qe.resolve()},i.G8=function(t,n){var i,e,r,s,u,o,a,h,c,f,l,v,d,w,g,m,y,p,_,b;return Fr.async(function(k){for(;;)switch(k.prev=k.next){case 0:if(fu(n),e=t.a8.C6,r=this.v$.fs,aO.cT("Mp4Transmuxer","Got media data, transmuxing for "+r+" track: "+LB(e.QJ)),s=t.a8.Fi,(u=aU(s.Fi,this.Fz)).length>0&&(o=eu(u.map(function(t){return t.gK}),l_),e.m2=o,this.Y8()),this.c4.V3(t.F1)){k.next=13;break}if(a=f_.Np(e.Vy),u.length>0){for(h=eu(u.map(function(t){return t.eot}),l_),c=0,f=this.Z8;c<f.length;c++)l=f[c],this.c4.J3(t.F1,l,h,a,!1);this.Y8()}if(this.c4.V3(t.F1)){k.next=13;break}return k.next=13,Fr.awrap(du(this.c4.W3(t.F1),n));case 13:v=this.c4.j3(t.F1),d={b1:t.b1,t9:CM(e),Vy:e.Vy,Hg:null!=(i=e.Hg)?i:0,Zp:v.Ek(),F1:t.F1,v$:t.v$,C6:t.a8.C6},(w=JF(s.Fi,this.bot)).UF&&(g=this.bot.iot,m=Ws(this.Fz.VA,function(t){return t.iT===g}),y=Ws(u,function(t){return t.iT===g}),p=this.mot(w.UF,m,y,e),this.yot=m,_=Ur({fs:"a8",Fi:{fs:VC.GX,Fi:p},n4:fp.wd},d),this.g8(_)),w.XF&&(b=Ur({fs:"a8",Fi:{fs:VC.GX,Fi:w.XF},n4:fp.dd},d),this.g8(b)),this.kot=e,this.pot=u;case 20:case"end":return k.stop()}},null,this,null,qe)},i.mot=function(t,n,i,e){if(!function(t){return SL(t)?t.M1:0===t._2&&t.w2.M1}(e))return t;if(!this.kot||!this.yot||!this.pot)return t;var r=this.yot.iT,s=Ws(this.pot,function(t){return t.iT===r}),u=this.c4.Q3(s.uot,this.kot),o=this.c4.Q3(i.gK,e).Mk(u).Tp(n.yp);if(o.Ck(f_.qk))return t;if(o.Ik(f_.Np(.5)))return t;var a=SL(e)?e:e.w2;return aO.C$("Mp4Transmuxer","Stretching first video frame of segment #"+a.b1+" to fill gap of "+o.Ek()+"s"),function(t,n,i){var e=Oc(t),r=Ws(e.boxes,rD);if(r){for(var s=r.getSize(),u=0,o=r.boxes;u<o.length;u++){var a=o[u];a instanceof fc&&oU(a,n,i)}var h=r.getSize();if(h!==s)for(var c=h-s,f=0,l=r.boxes;f<l.length;f++){var v=l[f];v instanceof fc&&uD(v,c)}}return e.serialize().join()}(t,n.yp,o)},n}(RM)),fU=function(){function t(){}return t.prototype.Qst=function(t,n,i,e){return new cU(this,t,n,i,e)},t}();function lU(t){return t.md===xB.XJ}!function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(hU||(hU={}));var vU=function(){function t(t){var e=this;this.Hut=void 0,this.Fut=void 0,this.Aot=void 0,this._ut=void 0,this.zut=0,this.Vut=Vr(),this.Tot=0,this.Wut=function(t){var n=t.data;if(void 0!==n.requestId){var i=e.Vut.get(n.requestId);if(!i)return;e.Vut.delete(n.requestId),n.success?i.Wu(n.output):i.Gu(new lf(n.errorCode,n.error))}else n.success||e.xs(new lf(n.errorCode,n.error))},this.ow=function(t){var i=new lf(n.ErrorCode.MEDIA_DECODE_ERROR,t.error.message,t.error);e.xs(i)},this.Hut=t,this.Aot=function(){if("undefined"==typeof WebAssembly)return!1;var t=j.yn;return!(t>0&&t<=56)}();var r=this.Aot?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.Fut=i.Or(r,t)}catch(t){throw new lf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this._ut=this.jut()}var e=t.prototype;return e._ot=function(t){return this.Sot(hU.MPEGTS_TO_FMP4,t)},e.got=function(t){return this.Sot(hU.RAW_AUDIO_TO_FMP4,t)},e.jut=function(){var t=GF(this.Fut,this.Hut);return t.Zs("message",this.Wut),t.Zs("error",this.ow),t},e.Sot=function(t,n){var i=++this.zut;this.Tot+=1;var e={type:t,id:i,input:n},r=new na;return this.Vut.set(i,r),this._ut.Aut(e,[n.data.buffer]),r.Hu},e.xs=function(t){void 0===t&&(t=new hu),this.Vut.forEach(function(n){return n.Gu(t)}),this.Vut.clear(),this._ut.but()},t}(),dU=function(t){function n(n){var i;return(i=t.call(this)||this)._ut=void 0,i.Eot=n,i}E(n,t);var i=n.prototype;return i.wot=function(){var t;return null!=(t=this._ut)?t:this._ut=new vU(this.Eot)},i.xs=function(){this._ut&&(this._ut.xs(),this._ut=void 0)},n}(fU),wU=function(){function t(t){this.Eot=t}return t.prototype.yK=function(){return new dU(this.Eot)},t}(),gU=function(){function t(t){this.OR=void 0,this.OR=t}var n=t.prototype;return n.TD=function(t){return this.OR.TD(t)},n.oJ=function(t){return this.OR.oJ(t)},n.VD=function(t){return this.OR.VD(t)},t}(),mU=function(t){function n(n){var i;return(i=t.call(this)||this).KR=void 0,i.JR=void 0,i.Iot=new qm,i.Rot=function(t){return i.qm(t)},i.KR=n,i.Iot.R_=n.Rm,i.KR.Zs(OC,i.Rot),i}E(n,t);var i=n.prototype;return i.IL=function(){return this.KR.Km},i.DL=function(){return this.KR.Jm},i.CL=function(){return this.KR.Xg},i.BL=function(){return this.KR.Hg},i.Dot=function(){return this.KR.QD},i.Not=function(){return this.KR.Fg},i.Cot=function(){return this.KR.Wg},i.GL=function(){return this.KR.gy},i.jL=function(){return this.KR.Y_},i.QL=function(){return this.KR.py},i.ZL=function(){return this.KR.qg},i.KL=function(){return this.Iot},i.Jj=function(){return this.KR.PU},i.Pot=function(){return this.KR.ED},i.Bot=function(t){this.KR.ED=t},i.Oot=function(){return this.KR.xq},i.jD=function(){return this.KR.jD()},i.Nm=function(){return this.KR.Nm()},i.Cm=function(){this.KR.Cm()},i.xu=function(t,n){this.KR.xu(t,n)},i.YD=function(t){this.KR.YD(t)},i.Fm=function(){this.KR.Fm()},i.zm=function(){this.KR.zm()},i._E=function(t,n,i,e,r,s,u){return this.KR._E(t,n,i,e,r,s,u)},i.xD=function(){return this.KR.xD()},i.MD=function(t,n,i,e){return this.KR.MD(t,n,i,e)},i.yE=function(t){this.KR.yE(t)},i.HD=function(){this.KR.HD()},i.XX=function(t){return this.KR.XX(t)},i.jh=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(this.KR.jh(t));case 2:return n=e.sent,i=t.fs===vk.pE?this.xot(n):this.Lot(n),this.JR=i,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,this,null,qe)},i.k_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.JR){t.next=4;break}return t.next=3,Fr.awrap(this.JR.xs());case 3:this.JR=void 0;case 4:return t.next=6,Fr.awrap(this.KR.k_());case 6:case"end":return t.stop()}},null,this,null,qe)},i.mj=function(){this.KR.mj()},i.yj=function(){this.KR.yj()},i.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$s(),this.KR.tu(OC,this.Rot),this.Iot.R_=void 0,this.Iot.Sd(),!this.JR){t.next=8;break}return t.next=7,Fr.awrap(this.JR.xs());case 7:this.JR=void 0;case 8:case"end":return t.stop()}},null,this,null,qe)},i.pj=function(){this.KR.pj()},i.Mot=function(t){this.KR.tu(OC,this.Rot),this.KR=t,this.Iot.R_=t.Rm,this.KR.Zs(OC,this.Rot)},i.qm=function(t){this.Qs(t)},T(n,[{key:"Uot",get:function(){return this.KR}},{key:"Km",get:function(){return this.IL()}},{key:"Jm",get:function(){return this.DL()}},{key:"Xg",get:function(){return this.CL()}},{key:"NU",get:function(){return this.KR.NU}},{key:"Hg",get:function(){return this.BL()}},{key:"QD",get:function(){return this.Dot()}},{key:"Fg",get:function(){return this.Not()}},{key:"mu",get:function(){return this.KR.mu}},{key:"sT",get:function(){return this.KR.sT}},{key:"Tk",get:function(){return this.KR.Tk}},{key:"XD",get:function(){return this.KR.XD}},{key:"Vg",get:function(){return this.KR.Vg},set:function(t){this.KR.Vg=t}},{key:"Wg",get:function(){return this.Cot()}},{key:"Gg",get:function(){return this.KR.Gg},set:function(t){this.KR.Gg=t}},{key:"gy",get:function(){return this.GL()}},{key:"Y_",get:function(){return this.jL()}},{key:"py",get:function(){return this.QL()}},{key:"qg",get:function(){return this.ZL()}},{key:"Rm",get:function(){return this.KL()}},{key:"PU",get:function(){return this.Jj()}},{key:"Tj",get:function(){return this.KR.Tj}},{key:"Qg",get:function(){return this.KR.Qg},set:function(t){this.KR.Qg=t}},{key:"bj",get:function(){return this.KR.bj}},{key:"iy",get:function(){return this.KR.iy}},{key:"Sj",get:function(){return this.KR.Sj}},{key:"ED",get:function(){return this.Pot()},set:function(t){this.Bot(t)}},{key:"xq",get:function(){return this.Oot()}}]),n}(Su),yU=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.Aj=function(t){this.KR.Aj(t)},i.ZY=function(){this.KR.ZY()},i.Zm=function(){this.KR.Zm()},T(n,[{key:"SD",get:function(){return this.KR.SD}},{key:"bW",get:function(){return this.KR.bW}},{key:"Ay",get:function(){return this.KR.Ay},set:function(t){this.KR.Ay=t}}]),n}(mU),pU=function(){function t(t){this.JR=void 0,this.JR=t}var n=t.prototype;return n.dc=function(){return this.JR.rc},n.QL=function(){return this.JR.py},n.CX=function(t){return this.JR.CX(t)},n.PX=function(t){return this.JR.PX(t)},n.xs=function(){return qe.resolve()},T(t,[{key:"rc",get:function(){return this.dc()}},{key:"py",get:function(){return this.QL()}},{key:"Im",get:function(){return this.JR.Im}}]),t}(),_U=function(t){function n(n){var i;return(i=t.call(this,n)||this).nW=void 0,i.iW=void 0,i.Xot=function(t){return i.Hot(t)},i}E(n,t);var i=n.prototype;return i.IL=function(){return this.JR.Km},i.BL=function(){return this.JR.Hg},i.Fot=function(){return this.JR.HX},i.cW=function(t){this.JR.cW(t)},i.lW=function(t,n,i,e){this.JR.lW(t,n,i,e)},i.vV=function(){this.JR.vV()},i.aV=function(){this.JR.aV()},i.xs=function(){return this.nW&&(this.nW.xs(),this.nW=void 0),this.iW&&(this.iW.xs(),this.iW=void 0),t.prototype.xs.call(this)},i.zot=function(t){this.JR=t,this.nW?t.KV?this.nW.S6(t.KV):(this.nW.xs(),this.nW=void 0):t.KV&&(this.nW=this.Vot(t.KV),this.nW.Zs(WC,this.Xot)),this.iW?t.JV?this.iW.S6(t.JV):(this.iW.xs(),this.iW=void 0):t.JV&&(this.iW=this.Vot(t.JV),this.iW.Zs(WC,this.Xot))},i.Hot=function(t){},T(n,[{key:"KV",get:function(){return this.nW}},{key:"JV",get:function(){return this.iW}},{key:"Km",get:function(){return this.IL()}},{key:"Hg",get:function(){return this.BL()}},{key:"HX",get:function(){return this.Fot()}}]),n}(pU),bU=function(t){function n(n){var i;return(i=t.call(this)||this).Pc=void 0,i.fL=0,i.vL=0,i.Pc=n,i}E(n,t);var i=n.prototype;return i.Vz=function(t,n,i){return qe.reject(new l("Invalid media buffer"))},i.kV=function(){return qe.reject(new l("Invalid media buffer"))},i.qz=function(t,n,i){return qe.reject(new l("Invalid media buffer"))},i.HX=function(){return!1},i.vV=function(){},i.mV=function(t,n){},i.yV=function(t,n){},i.Qh=function(t,n,i){return qe.resolve()},i.tV=function(t,n){return qe.reject(new l("Invalid media buffer"))},i.Py=function(t,n){return qe.reject(new l("Invalid media buffer"))},i.CX=function(t){return!1},i.PX=function(t){return qe.reject(new l("Invalid media buffer"))},i.xs=function(){this.$s()},T(n,[{key:"oL",get:function(){return this.vL},set:function(t){this.vL=t}},{key:"Km",get:function(){return yS.fC()}},{key:"rc",get:function(){return this.Pc}},{key:"AV",get:function(){return fp.Kl}},{key:"TV",get:function(){return yS.fC()}},{key:"Wot",get:function(){return!1}},{key:"eL",get:function(){return this.fL},set:function(t){this.fL=t}}]),n}(Su),kU=function(t){function n(n){var i;return(i=t.call(this,n)||this).KR=void 0,i}E(n,t);var i=n.prototype;return i.Vz=function(t,n,i){return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return fu(i),e.next=3,Fr.awrap(this.Got(this.KR.Xg,null==n?void 0:n.m2,null==n?void 0:n.Hg));case 3:if(fu(i),t.fs!==VC.Yf){e.next=10;break}return e.next=7,Fr.awrap(this.qot(t,n,i));case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,Fr.awrap(this.Yot(t,n,i));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},null,this,null,qe)},i.qot=function(t,n,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=t;case 1:return r=qd(e.Fi),s=r[0],u=r[1],e={fs:VC.Yf,Fi:s},o.prev=4,o.next=7,Fr.awrap(this.jot(e,n,i));case 7:return u.cancel(new hu).catch(K),o.abrupt("return");case 11:if(o.prev=11,o.t0=o.catch(4),!gR(o.t0)){o.next=20;break}return o.next=16,Fr.awrap(this.Got(this.KR.Xg,n.m2,n.Hg,i));case 16:if(!o.sent){o.next=20;break}return e={fs:VC.Yf,Fi:u},o.abrupt("continue",1);case 20:throw u.cancel(o.t0).catch(K),o.t0;case 22:o.next=1;break;case 24:case"end":return o.stop()}},null,this,[[4,11]],qe)},i.Yot=function(t,n,i){return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,fu(i),e.next=5,Fr.awrap(this.jot(t,n,i));case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(1),!gR(e.t0)){e.next=16;break}return e.next=13,Fr.awrap(this.Got(this.KR.Xg,n.m2,n.Hg,i));case 13:if(!e.sent){e.next=16;break}return e.abrupt("continue",0);case 16:throw e.t0;case 17:e.next=0;break;case 19:case"end":return e.stop()}},null,this,[[1,8]],qe)},i.Got=function(t,n,i,e){var r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:r=wR(t,n,i,this.Km,this.eL,this.oL),s=0;case 2:if(!(s<r.length)){h.next=9;break}return u=r[s],o=u[0],a=u[1],h.next=6,Fr.awrap(this.Qot(o,a,e));case 6:s++,h.next=2;break;case 9:return h.abrupt("return",r.length>0);case 10:case"end":return h.stop()}},null,this,null,qe)},i.jot=function(n,i,e){return t.prototype.Vz.call(this,n,i,e)},i.Qot=function(n,i,e){return t.prototype.Qh.call(this,n,i,e)},T(n,[{key:"uJ",get:function(){return this.KR},set:function(t){this.KR=t}}]),n}(function(t){function n(n){var i;return(i=t.call(this)||this).s6=void 0,i.Zot=function(t){return i.qm(t)},i.s6=n,i.s6.Zs(WC,i.Zot),i}E(n,t);var i=n.prototype;return i.Kot=function(){return this.s6.oL},i.Jot=function(t){this.s6.oL=t},i.IL=function(){return this.s6.Km},i.dc=function(){return this.s6.rc},i.$ot=function(){return this.s6.TV},i.nat=function(){return this.s6.eL},i.iat=function(t){this.s6.eL=t},i.Vz=function(t,n,i){return this.s6.Vz(t,n,i)},i.kV=function(){return this.s6.kV()},i.qz=function(t,n,i){return this.s6.qz(t,n,i)},i.HX=function(){return this.s6.HX()},i.vV=function(){this.s6.vV()},i.mV=function(t,n){this.s6.mV(t,n)},i.yV=function(t,n){this.s6.yV(t,n)},i.Qh=function(t,n,i){return this.s6.Qh(t,n,i)},i.tV=function(t,n){return this.s6.tV(t,n)},i.CX=function(t){return this.s6.CX(t)},i.PX=function(t){return this.s6.PX(t)},i.qm=function(t){this.Qs(t)},i.xs=function(){this.$s(),this.S6(new bU(this.rc))},i.S6=function(t){this.s6.tu(WC,this.Zot),this.s6=t,this.s6.Zs(WC,this.Zot)},T(n,[{key:"oL",get:function(){return this.Kot()},set:function(t){this.Jot(t)}},{key:"Km",get:function(){return this.IL()}},{key:"rc",get:function(){return this.dc()}},{key:"AV",get:function(){return this.s6.AV}},{key:"TV",get:function(){return this.$ot()}},{key:"eL",get:function(){return this.nat()},set:function(t){this.iat(t)}}]),n}(Su)),AU=function(t){function n(n){var i;return(i=t.call(this,n)||this).KR=void 0,i.zot(n),i}return E(n,t),n.prototype.Vot=function(t){var n=new kU(t);return n.uJ=this.KR,n},T(n,[{key:"uJ",get:function(){return this.KR},set:function(t){this.KR=t,this.nW&&(this.nW.uJ=t),this.iW&&(this.iW.uJ=t)}}]),n}(_U),TU=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"yy",get:function(){return this.JR.yy},set:function(t){this.JR.yy=t}}]),n}(pU),SU=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.Aj=function(t){this.KR.Aj(t)},i.ZY=function(){this.KR.ZY()},i.Zm=function(){this.KR.Zm()},i.Vm=function(){return this.KR.Vm()},T(n,[{key:"SD",get:function(){return this.KR.SD}},{key:"bW",get:function(){return this.KR.bW}},{key:"jg",get:function(){return this.KR.jg}},{key:"Yg",get:function(){return this.KR.Yg}},{key:"Ay",get:function(){return this.KR.Ay},set:function(t){this.KR.Ay=t}}]),n}(mU),EU=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.Lot=function(t){var n=new AU(t);return n.uJ=this,n},i.xot=function(t){return new TU(t)},T(n,[{key:"Uot",get:function(){return this.KR}}]),n}(yU),IU=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.Lot=function(t){var n=new AU(t);return n.uJ=this,n},i.xot=function(t){return new TU(t)},T(n,[{key:"Uot",get:function(){return this.KR}}]),n}(SU),RU=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.TD=function(n){return n===fp.wd?new IU(t.prototype.TD.call(this,n)):n===fp.dd?new EU(t.prototype.TD.call(this,n)):void 0},i.VD=function(n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n,e.next=3,Fr.awrap(i.xs());case 3:return e.next=5,Fr.awrap(t.prototype.VD.call(this,i.Uot));case 5:case"end":return e.stop()}},null,this,null,qe)},n}(gU);function CU(t){return yw(t)}function DU(t,n){var i=yw(t);return n?""+i+n:""+i}var NU=function(){function t(t,n,i,e){this.eat=t,this.rat=n,this.sat=i,this.uat=e}var n=t.prototype;return n.G4=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.eat.oat(t.map(CU)));case 2:return n=i.sent,i.abrupt("return",n.shift());case 4:case"end":return i.stop()}},null,this,null,qe)},n.ert=function(t,n){var i=DU(t,n);return this.rat.Eu(i)},n.G6=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=DU(t,n),r.next=3,Fr.awrap(this.sat.Iu(e));case 3:if(r.t0=i=r.sent,null!=r.t0){r.next=8;break}r.t1=void 0,r.next=9;break;case 8:r.t1=i.data;case 9:return r.abrupt("return",r.t1);case 10:case"end":return r.stop()}},null,this,null,qe)},n.HM=function(t){return this.uat.Iu(t)},t}(),PU=function(){function t(){}var n=t.prototype;return n.aat=function(t){return qe.resolve(!1)},n.fat=function(t){return qe.reject(xU)},n.vat=function(t){return qe.reject(xU)},n.Eu=function(t){return qe.resolve(!1)},n.Iu=function(t){return qe.resolve(void 0)},n.dat=function(t,n){return qe.resolve(void 0)},n.oat=function(t){return qe.resolve([])},n.wat=function(){return qe.resolve([])},n._at=function(t){return qe.resolve([])},n.gat=function(t,n){return qe.resolve([])},n.Qh=function(t){return qe.reject(xU)},n.mat=function(t){return qe.reject(xU)},n.yat=function(){return qe.reject(xU)},t}(),xU="Storage disabled",BU=function(){function t(){this.pat=void 0,this.$K=void 0,this.bat=void 0,this.Aat=void 0,this.Tat=void 0,this.pat=new PU,this.$K=new PU,this.bat=new PU,this.Aat=new PU,this.Tat=new PU}return t.yK=function(){return qe.resolve(new t)},t.prototype.Sat=function(t){return qe.reject(OU)},t}(),OU="Storage disabled",LU=function(){function t(t){var n=this;this.Hs=new na,this.Eat=void 0,this.Hs.Wu(t),this.Hs.Hu.then(function(t){n.Eat=t})}var n=t.prototype;return n.aat=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Eat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.Iat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.aat(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.fat=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Eat,e.t0){e.next=5;break}return e.next=4,Fr.awrap(this.Iat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.fat(t,n));case 7:case"end":return e.stop()}},null,this,null,qe)},n.vat=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Eat,e.t0){e.next=5;break}return e.next=4,Fr.awrap(this.Iat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.vat(t,n));case 7:case"end":return e.stop()}},null,this,null,qe)},n.Eu=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Eat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.Iat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Eu(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.Iu=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Eat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.Iat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Iu(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.dat=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Eat,e.t0){e.next=5;break}return e.next=4,Fr.awrap(this.Iat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.dat(t,n));case 7:case"end":return e.stop()}},null,this,null,qe)},n.oat=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Eat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.Iat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.oat(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.wat=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.Eat,n.t0){n.next=5;break}return n.next=4,Fr.awrap(this.Iat);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.wat());case 7:case"end":return n.stop()}},null,this,null,qe)},n._at=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Eat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.Iat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n._at(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.gat=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Eat,e.t0){e.next=5;break}return e.next=4,Fr.awrap(this.Iat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.gat(t,n));case 7:case"end":return e.stop()}},null,this,null,qe)},n.Qh=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Eat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.Iat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Qh(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.mat=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Eat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.Iat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.mat(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.yat=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.Eat,n.t0){n.next=5;break}return n.next=4,Fr.awrap(this.Iat);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.yat());case 7:case"end":return n.stop()}},null,this,null,qe)},T(t,[{key:"Iat",get:function(){return this.Hs.Hu}}]),t}(),MU=function(){function t(t){var n=this;this.Hs=new na,this.Rat=void 0,this.$K=void 0,this.pat=void 0,this.bat=void 0,this.Aat=void 0,this.Tat=void 0,this.Hs.Wu(t);var i=this.Hs.Hu;i.then(function(t){n.Rat=t}),this.$K=new LU(i.then(function(t){return t.$K})),this.pat=new LU(i.then(function(t){return t.pat})),this.bat=new LU(i.then(function(t){return t.bat})),this.Aat=new LU(i.then(function(t){return t.Aat})),this.Tat=new LU(i.then(function(t){return t.Tat}))}return t.prototype.Sat=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Rat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.Dat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.next=8,Fr.awrap(n.Sat(t));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},null,this,null,qe)},T(t,[{key:"Dat",get:function(){return this.Hs.Hu}}]),t}();function jU(t){return new l("This storage cannot handle persistency type "+t)}var FU=function(){function t(){this.Ho=[]}var n=t.prototype;return n.aat=function(t){return qe.resolve("temporary"===t)},n.fat=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?qe.reject(jU(n)):(this.Nat(t.key),this.Ho.push(t),qe.resolve())},n.vat=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return qe.reject(jU(n));for(var i=0;i<t.length;i++){var e=t[i];this.Nat(e.key)}for(var r=0;r<t.length;r++){var s=t[r];this.Ho.push(s)}return qe.resolve()},n.Eu=function(t){return qe.resolve(Boolean(this.Cat(t)))},n.Iu=function(t){return qe.resolve(this.Cat(t))},n.dat=function(t,n){return qe.resolve(this.Pat(t,n))},n.oat=function(t){var n=this,i=t?t.map(function(t){return n.Cat(t)}):this.Ho;return qe.resolve(i.filter(H))},n.wat=function(){return qe.resolve([].concat(this.Ho))},n._at=function(t){return this.gat(t,"key")},n.gat=function(t,n){var i=this.Ho.filter(function(i){return i[n]===t});return qe.resolve(i)},n.Qh=function(t){return this.Nat(t),qe.resolve()},n.mat=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Nat(i)}return qe.resolve()},n.yat=function(){return Ks(this.Ho),qe.resolve()},n.Cat=function(t){return this.Pat(t,"key")},n.Pat=function(t,n){for(var i=0,e=this.Ho;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.Nat=function(t){var n=this.Cat(t);n&&$s(this.Ho,n)},t}(),UU=function(){function t(){this.pat=void 0,this.$K=void 0,this.bat=void 0,this.Aat=void 0,this.Tat=void 0,this.pat=new FU,this.$K=new FU,this.bat=new FU,this.Aat=new FU,this.Tat=new FU}return t.yK=function(){return qe.resolve(new t)},t.prototype.Sat=function(t){return t(this)},t}(),HU=function(){function t(t){this.Bat=t}var n=t.prototype;return n.aat=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Bat;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Fr.awrap(e.aat(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,qe)},n.fat=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.Bat;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Fr.awrap(r.aat(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.fat(t));case 8:i++,s.next=2;break;case 11:throw jU(n);case 12:case"end":return s.stop()}},null,this,null,qe)},n.vat=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.Bat;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Fr.awrap(r.aat(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.vat(t));case 8:i++,s.next=2;break;case 11:throw jU(n);case 12:case"end":return s.stop()}},null,this,null,qe)},n.Eu=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Bat;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Fr.awrap(e.Eu(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,qe)},n.Iu=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=0,i=this.Bat;case 1:if(!(n<i.length)){s.next=11;break}return e=i[n],s.next=5,Fr.awrap(e.Iu(t));case 5:if(!(r=s.sent)){s.next=8;break}return s.abrupt("return",r);case 8:n++,s.next=1;break;case 11:return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},null,this,null,qe)},n.dat=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.Bat;case 1:if(!(i<e.length)){u.next=11;break}return r=e[i],u.next=5,Fr.awrap(r.dat(t,n));case 5:if(!(s=u.sent)){u.next=8;break}return u.abrupt("return",s);case 8:i++,u.next=1;break;case 11:return u.abrupt("return",void 0);case 12:case"end":return u.stop()}},null,this,null,qe)},n.oat=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.Bat;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Fr.awrap(r.oat(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,qe)},n.wat=function(){var t,n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0,i=this.Bat;case 2:if(!(n<i.length)){r.next=13;break}return e=i[n],r.t0=t.push,r.t1=t,r.next=8,Fr.awrap(e.wat());case 8:r.t2=r.sent,r.t0.apply.call(r.t0,r.t1,r.t2);case 10:n++,r.next=2;break;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},null,this,null,qe)},n._at=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.Bat;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Fr.awrap(r._at(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,qe)},n.gat=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],e=0,r=this.Bat;case 2:if(!(e<r.length)){u.next=13;break}return s=r[e],u.t0=i.push,u.t1=i,u.next=8,Fr.awrap(s.gat(t,n));case 8:u.t2=u.sent,u.t0.apply.call(u.t0,u.t1,u.t2);case 10:e++,u.next=2;break;case 13:return u.abrupt("return",i);case 14:case"end":return u.stop()}},null,this,null,qe)},n.Qh=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Bat;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Fr.awrap(e.Qh(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,qe)},n.mat=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Bat;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Fr.awrap(e.mat(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,qe)},n.yat=function(){var t,n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.Bat;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,Fr.awrap(i.yat());case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,qe)},t}();function XU(t){return function(){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(qe.all(t.map(function(t){return t()})));case 2:return n=i.sent,i.abrupt("return",VU.yK(n));case 4:case"end":return i.stop()}},null,null,null,qe)}}var VU=function(){function t(t){this.Oat=void 0,this.xat=void 0,this.Lat=void 0,this.Mat=void 0,this.Uat=void 0,this.Xat=void 0,this.Oat=t,this.xat=new HU(t.map(function(t){return t.Aat})),this.Lat=new HU(t.map(function(t){return t.Tat})),this.Mat=new HU(t.map(function(t){return t.bat})),this.Uat=new HU(t.map(function(t){return t.pat})),this.Xat=new HU(t.map(function(t){return t.$K}))}return t.yK=function(n){return qe.resolve(new t(n))},t.prototype.Sat=function(n){var i=this;if(0===this.Oat.length)return n(this);var e=[],r=0;return this.Oat[r].Sat(function s(u){return e.push(u),++r<i.Oat.length?i.Oat[r].Sat(s):n(new t(e))})},T(t,[{key:"Aat",get:function(){return this.xat}},{key:"Tat",get:function(){return this.Lat}},{key:"bat",get:function(){return this.Mat}},{key:"pat",get:function(){return this.Uat}},{key:"$K",get:function(){return this.Xat}}]),t}(),zU=function(){function t(t){this.Hat=void 0,this.Fat=[],this.zat=!0,this.Hat=t}var n=t.prototype;return n.yK=function(){return new MU(this.Vat())},n.Vat=function(){var t,n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.zat){e.next=4;break}return e.next=3,Fr.awrap(qe.resolve());case 3:this.zat=!1;case 4:t=0,n=this.Fat;case 5:if(!(t<n.length)){e.next=18;break}return i=n[t],e.prev=7,e.next=10,Fr.awrap(XU([UU.yK,i])());case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:t++,e.next=5;break;case 18:return e.next=20,Fr.awrap(XU([UU.yK,this.Hat])());case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},null,this,[[7,13]],qe)},n.gX=function(t){if(!this.zat)throw new l("Registration overdue");this.Fat.push(t)},t}(),WU=function(){function t(){}return t.gX=function(n){t.OR.gX(n)},T(t,null,[{key:"Yn",get:function(){return t.Wat||(t.Wat=t.OR.yK()),t.Wat}}]),t}();WU.OR=new zU(BU.yK),WU.Wat=void 0;var qU=function(t){function n(n,i,e,r,s,u){var o,a=new RU(n),h=a.TD(fp.wd);return(o=t.call(this,h,i,e,r,s,u)||this).ZR=void 0,o.ZR=a,o}return E(n,t),n.prototype.Sd=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.prototype.Sd.call(this));case 2:return n.next=4,Fr.awrap(this.ZR.VD(this.KR));case 4:case"end":return n.stop()}},null,this,null,qe)},n}(function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Vm=function(){if(void 0!==this.KR.Yg)return this.KR.Vm()},T(n,[{key:"Ay",get:function(){return!1},set:function(t){}}]),n}(DF));aS(new(function(t){function i(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).KD=zT.yg,n}E(i,t);var e=i.prototype;return e.kI=function(t,n,i,e,r,s){return new qU(n,i,r,(u=e.libraryLocation,jF.mc()?new jF:new KF(u)),new wU(e.libraryLocation),new NU(WU.Yn.bat,WU.Yn.pat,WU.Yn.$K,WU.Yn.Tat));var u},e.JD=function(i,e){var r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(t.prototype.JD.call(this,i,e));case 2:if(s.sent){s.next=4;break}return s.abrupt("return",!1);case 4:if(null==(r=i.hls)||!r.useLegacy){s.next=8;break}if(Qs(PC,"hls-legacy")){s.next=7;break}throw new lf(n.ErrorCode.SOURCE_NOT_SUPPORTED,'The given source requires the "hls-legacy" feature to be enabled.');case 7:return s.abrupt("return",!1);case 8:return s.abrupt("return",!0);case 9:case"end":return s.stop()}},null,this,null,qe)},e.$D=function(){return!0},i}(function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.JD=function(n,i){return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.MediaSource){e.next=2;break}return e.abrupt("return",!1);case 2:if(!j.hn&&!j.Vn){e.next=4;break}return e.abrupt("return",!1);case 4:if(!i.manifestMetadataTrack){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",t.prototype.JD.call(this,n,i));case 7:case"end":return e.stop()}},null,this,null,qe)},n}(NF)))),aO.C_=function(){return!(!r||!r.THEOplayerDebugLogsEnabled)};var GU=[];function $U(){GU.shift()()}var YU,QU=function(){function t(t){this.Gat=void 0,this.qat=void 0,this.Yat=void 0,this.Yat=t}var n=t.prototype;return n.jat=function(t){return this.Gat=this.Gat||{},void 0===this.Gat[t]&&(this.Gat[t]=[]),this.Gat[t]},n.addEventListener=function(t,n){var i=this.jat(t);-1===i.indexOf(n)&&i.push(n)},n.Js=function(t){(this.qat||(this.qat=[])).push(t)},n.removeEventListener=function(t,n){var i=this.jat(t);n?$s(i,n):i.length=0},n.ou=function(t){var n=this.qat;n&&$s(n,t)},n.$s=function(){this.Gat=void 0},n.dispatchEvent=function(t,n){if(n)return i=this.dispatchEvent.bind(this,t),GU.push(i),void a($U,0);var i;"string"==typeof t&&(t={type:t});for(var e=this.jat(t.type).slice(),r=this.qat&&this.qat.slice(),s=0;s<e.length;s++){e[s].call(this.Yat||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.Yat||this,t)}},n.Qat=function(t){return Boolean(this.Gat&&this.Gat[t]&&this.Gat[t].length)},n.Zat=function(){return this.Gat?w.keys(this.Gat):[]},t}(),ZU=function(t){function n(n,i){var e,r=tH[n];return(e=t.call(this,r?r.du:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.Kat,e.helpLinkText=r&&r.Jat,e}return E(n,t),T(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(nn);!function(t){t.$at="LICENSE_INVALID",t.tht="MANIFEST_NOT_FOUND",t.nht="MANIFEST_CORS_ERROR",t.iht="INVALID_HLS_MANIFEST",t.eht="PLAYBACK_ISSUE",t.rht="AUDIO_ISSUE",t.sht="BROWSER_SUPPORT_ISSUE",t.uht="INVALID_KEY",t.Uut="DECRYPTION_ERROR",t.oht="AD_BLOCK_DETECTED",t.aht="THEOPLAYER_NOT_INITIALIZED",t.z_="ERROR",t.hht="MANIFEST_SEQUENCE_RESET_ERROR",t.cht="PLAYER_INCORRECTLY_CONFIGURED",t.fht="UNSUPPORTED"}(YU||(YU={}));for(var KU,JU=[{Yu:YU.$at,du:"The license for this player is invalid. Please contact your service provider for additional information."},{Yu:YU.tht,du:"Could not load the manifest file."},{Yu:YU.nht,du:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",Kat:"https://www.theoplayer.com/documentation/cors.html",vht:!1},{Yu:YU.iht,du:"The source of the player is an invalid HLS manifest.",Kat:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Yu:YU.eht,du:"There appears to be a playback issue."},{Yu:YU.rht,du:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Yu:YU.sht,du:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Yu:YU.uht,du:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Yu:YU.Uut,du:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Yu:YU.oht,du:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Yu:YU.aht,du:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Yu:YU.z_,du:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Yu:YU.hht,du:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Yu:YU.cht,du:"The player is incorrectly configured.",Kat:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Yu:YU.fht,du:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],tH={},nH=0;nH<JU.length;nH++){var iH=JU[nH];tH[iH.Yu]=iH}function eH(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function rH(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function sH(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function uH(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?ta(e[6]):void 0!==e[7]?{width:y(e[8]),height:y(e[10])}:void 0!==e[12]?y(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var oH,aH="x-";function hH(t,n,i,e){var r=t.split("@"),s=eH(n,i),u=m(r[0],10),o=r[1]?m(r[1],10):e;return{QJ:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},dht:{RN:o,NN:o+u-1}}}function cH(t,n,i){var e,r,s,u,o,a=0,h=0,c=0,f=null,l=0,v=!1,d=[],w=null,p=0,b=t.match(/[^\r\n]+/g);if(!b||"#EXTM3U"!==b[0].trim())throw new ZU(YU.iht,{code:"HMP2670",uri:n});for(var k={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},A=1;A<b.length;A+=1){var T=b[A].trim();if(d.push(T+""),rH(T,"#EXT")){if(rH(T,"#EXTINF"))c=(c=y(sH(T)))||.5;else if(rH(T,"#EXT-X-BYTERANGE"))f=sH(T);else if(rH(T,"#EXT-X-KEY"))(s=uH(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=eH(s.uri,i);else if(rH(T,"#EXT-X-DISCONTINUITY")&&!rH(T,"#EXT-X-DISCONTINUITY-"))v=!0,l+=1;else if(rH(T,"#EXT-X-STREAM-INF"))(r=uH(T))._2=h++,(A+=1)<b.length&&(r.uri=eH(b[A].trim(),i),k.streams.push(r));else if(rH(T,"#EXT-X-MEDIA")&&!rH(T,"#EXT-X-MEDIA-"))(u=uH(T)).uri&&(u.uri=eH(u.uri,i)),k.media.push(u);else if(rH(T,"#EXT-X-PROGRAM-DATE-TIME"))w=new Date(sH(T));else if(rH(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))k.wht=!0,k._ht=m(sH(T),10);else if(rH(T,"#EXT-X-MEDIA-SEQUENCE"))a=m(sH(T),10),k.ght=!0,k.mht=a;else if(rH(T,"#EXT-X-TARGETDURATION"))k.targetDuration=m(sH(T),10),k.hasTargetDuration=!0;else if(rH(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))k.isEvent=!0;else if(rH(T,"#EXT-X-ENDLIST"))k.live=!1,k.hasEnd=!0;else if(rH(T,"#EXT-X-MAP")){var S=uH(T),E=S.uri,I=S.byterange;o=I?hH(I,E,i,0):eH(E,i)}else if(rH(T,"#EXT-X-VERSION"))k.version=m(sH(T),10);else if(rH(T,"#EXT-X-DATERANGE")){var R=fH(T);k.dateRanges.push(R)}}else if(rH(T,"#"));else if(0!==T.length){f?p=(e=hH(f,T,i,p)).dht.NN+1:e=eH(T,i);var C,D=s&&Ur({},s);s&&void 0===s.iv&&(C=a%4294967295,D.iv=new _([0,0,0,0,0,0,0,0,0,0,0,0,C>>24,C>>16,C>>8,255&C])),k.fragments.push({start:0,duration:c,uri:e,_2:a,yht:v,F1:l,key:D,X1:w,kht:d,pht:!1,bht:o}),a+=1,c=0,f=null,v=!1,w=null,d=[]}}return k.hasEnd&&k.fragments.length&&(k.fragments[k.fragments.length-1].pht=!0),k.isMasterPlaylist=0!==k.streams.length,k.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=g.min(i,o.duration),e=g.max(e,o.duration)}return{Aht:i,Tht:e,Sht:n?t.fragments[n-1].duration:0,Eht:r/n,Iht:r}}(k),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(k),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(k),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t._2-n._2})}(k),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||Ys(t.media,s)}}(k,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(k),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(k),k}function fH(t){var n=uH(t),i=function(t){for(var n={},i=0,e=w.keys(t);i<e.length;i++){var r=e[i];As(r,aH)&&(n[r.substr(aH.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{P_:n.id,IJ:n.class,QD:e,RJ:r,Hg:n.duration,DJ:n["planned-duration"],EJ:s,NJ:i,PJ:u,OJ:o,xJ:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(oH||(oH={}));(KU={})[oH.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",KU[oH.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",KU[oH.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",KU[oH.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",KU[oH.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",KU[oH.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",KU[oH.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var lH=function(){function t(){}return t.prototype.RA=function(t,n,i){return cH(t,n,i)},t}(),vH=3,dH=function(){function t(t,n,i){void 0===i&&(i=vH),this.lE=t,this.F6=n,this.Rht=i}var n=t.prototype;return n.Dht=function(t,n,i){return this.Nht(t,n,!0,i)},n.Cht=function(t,n,i){return this.Nht(t,n,!1,i)},n.Nht=function(t,n,i,e){var r,s,u,o,a,h,c,f;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=100,u=0;case 2:if(!(u<this.Rht)){i.next=31;break}if(!(u>0)){i.next=7;break}return i.next=6,Fr.awrap(bu(s,e));case 6:s<1e4&&(s=g.min(2*s,1e4));case 7:o=0;case 8:if(!(o<t.length)){i.next=28;break}return a=t[o],i.prev=10,h=new dw({Ql:a,Wl:xf.$n,Vl:n,bd:this.F6,md:hw.GET,fs:cw.Jl,kd:fw.Kl,Ws:e}),i.next=14,Fr.awrap(this.lE.Yl(h));case 14:return c=i.sent,i.next=17,Fr.awrap(c.El(e));case 17:return f=i.sent,i.abrupt("return",{Pht:f,Bht:a,jl:c.jl});case 22:i.prev=22,i.t0=i.catch(10),r=i.t0;case 25:o++,i.next=8;break;case 28:u++,i.next=2;break;case 31:throw r;case 32:case"end":return i.stop()}},null,this,[[10,22]],qe)},t}(),wH=function(){function t(t){this.Oht=void 0,this.Oht=t}return t.prototype.xht=function(t,n,i,e){var r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:void 0===e&&(e=!1),s=0,u=this.Oht;case 2:if(!(s<u.length)){a.next=17;break}return o=u[s],a.prev=4,a.next=7,Fr.awrap(o.xht(t,n,i,e));case 7:return a.abrupt("return",a.sent);case 10:a.prev=10,a.t0=a.catch(4),lu(a.t0),r=a.t0;case 14:s++,a.next=2;break;case 17:throw r;case 18:case"end":return a.stop()}},null,this,[[4,10]],qe)},t}(),gH=function(){function t(t){this.B4=t}return t.prototype.xht=function(t,n,i,e){var r;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.B4.G4(t));case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",{Pht:r.data,Bht:r.locationURL,jl:r.responseURL});case 7:throw new l("Manifest fetch from cache unsuccesful");case 8:case"end":return n.stop()}},null,this,null,qe)},t}(),mH=function(){function t(t){this.Lht=t}return t.prototype.xht=function(t,n,i,e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e&&(e=!1),!e){r.next=7;break}return r.next=4,Fr.awrap(this.Lht.Dht(t,n,i));case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,Fr.awrap(this.Lht.Cht(t,n,i));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,qe)},t}();function yH(t,n){return new wH([new gH(n),new mH(t)])}var pH=function(){function t(t,n,i){this.Mht=t,this.Uht=n,this.Xht=i}var n=t.prototype;return n.xht=function(t,n,i,e){var r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e&&(e=!1),s.next=3,Fr.awrap(this.Mht.xht(t,n,i,e));case 3:return r=s.sent,s.next=6,Fr.awrap(this.Hht(r));case 6:return s.abrupt("return",r);case 7:case"end":return s.stop()}},null,this,null,qe)},n.Hht=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.Uht.fat({key:CU(t.Bht),locationURL:yw(t.Bht),responseURL:yw(t.jl),data:t.Pht,references:[this.Xht.P_]}));case 2:case"end":return n.stop()}},null,this,null,qe)},t}();function _H(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var bH,kH=function(){function t(t,n,i){this.Pc=void 0,this.lE=void 0,this.Mht=void 0,this.Fht=void 0,this.Fht=new lH,this.Pc=t,this.lE=i;var e=this.Pc&&this.Pc.crossOrigin===Jm.Sg,r=new dH(i,e,1);this.Mht=yH(r,new NU(WU.Yn.bat,WU.Yn.pat,WU.Yn.$K,WU.Yn.Tat))}var n=t.prototype;return n.jh=function(t,n,i){var e=this.Aw(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.Aw=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Fr.awrap(this.Mht.xht([t],n));case 3:return i=r.sent,t=i.jl,e=this.Fht.RA(i.Pht,t,_H(t)),r.abrupt("return",{vm:e,zht:i.Pht});case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof Tw)){r.next=16;break}throw new ZU(YU.tht,{code:"MFL8600",uri:t});case 16:if(!(r.t0 instanceof Sw)){r.next=24;break}if(0!==r.t0.Ud.zl){r.next=21;break}throw new ZU(YU.nht,{code:"MFL3900",uri:t,status:r.t0.Ud.zl});case 21:throw new ZU(YU.tht,{code:"MFL4100",uri:t,status:r.t0.Ud.zl});case 22:r.next=25;break;case 24:throw new ZU(YU.z_,{error:r.t0,uri:t});case 25:case"end":return r.stop()}},null,this,[[0,10]],qe)},t}(),AH=function(t){function n(n,i){var e;return(e=t.call(this)||this).Vht=void 0,e.Wht=void 0,e.Ght=void 0,e.qht=void 0,e.Yht=void 0,e.jht=void 0,e.Qht=void 0,e.$R=void 0,e.Vht=new kH(i||{},WU.Yn.bat,n),e}E(n,t);var i=n.prototype;return i.Pm=function(){void 0!==this.qht&&(h(this.qht),this.qht=void 0),this.Ght&&this.Ght.Yl&&(this.Ght=void 0)},i.Zht=function(t){if(this.Qht)for(var n=0,i=this.Qht.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.Kht=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.Iht<3*s)?1e3*u.Aht:s?1e3*s:1e4,i===n&&(r/=2),r=g.max(r-e,1e3)},i.Jht=function(t){if(t.fragments.length>0)for(var n=this.Zht(t.fragments[0].uri),i=n&&n._2||0,e=0,r=t.fragments;e<r.length;e++){r[e]._2+=i}},i.$ht=function(t,i,e,r,s,u){var o=this;if(this.Ght&&e===this.Ght.Yl){var h=hI()-i;if(r){this.Ght=void 0,this.$R=r;var c={type:"mu",mu:r};return this.dispatchEvent(c),s&&s(r)}this.Ght=void 0;var f=u.vm,l=u.zht;f.ght||this.Jht(f),t===this.Wht&&(this.jht=f),this.Qht=f;var v=n.Kht(f,l,this.Yht,h);f.live?f.isMasterPlaylist||(this.qht=a(function(){return o.Aw(t)},v)):this.Pm(),s&&s(r,u);var d={type:"tct",manifest:f,manifestText:l};this.dispatchEvent(d),this.Yht=l}},i.Aw=function(t,n){var i=this,e=hI(),r=t;h(this.qht),this.qht=void 0;var s=this.Vht.jh(r,{},function(r,u){return i.$ht(t,e,s,r,n,u)});this.Ght={Yl:s,Ql:t}},i.RN=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.Qht?this.Qht.uri:this.Wht))&&(this.Ght&&this.Ght.Ql===t?n&&(i=function(t){s.removeEventListener("mu",e),s.removeEventListener("tct",i);var r=t;n(null,{vm:r.manifest,zht:r.manifestText})},e=function(t){s.removeEventListener("mu",e),s.removeEventListener("tct",i),n(t.mu)},this.addEventListener("mu",e),this.addEventListener("tct",i)):(this.Pm(),this.Aw(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.nct=function(t){t&&(this.Yht=void 0,this.jht&&this.jht.isMasterPlaylist?this.RN(t.uri):this.Qht&&!this.ict()&&this.RN(this.Qht.uri))},i.Sd=function(){this.Pm(),this.$s()},i.ict=function(){return!!this.Ght||!!this.qht||!(!this.Qht||this.Qht.live)},T(n,[{key:"vm",get:function(){return this.Qht}},{key:"ect",get:function(){return this.jht}},{key:"rct",get:function(){return this.Wht},set:function(t){this.Pm(),this.Yht=void 0,this.jht=void 0,this.Qht=void 0,this.Wht=t}}]),n}(QU),TH=function(t){function n(){return t.call(this,"sct")||this}return E(n,t),n}(Iu),SH=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).uct=void 0,r.act=void 0,r.hct=void 0,r.lrt=void 0,r.cct=void 0,r.lE=void 0,r.rq=void 0,r.fct=void 0,r.vct=function(){r.Qs(new TH)},r.lrt=n,r.cct=Ur({},i,{crossOrigin:r.lrt.crossOrigin,withCredentials:r.lrt.useCredentials,liveOffset:r.lrt.liveOffset,hlsDateRange:r.lrt.hlsDateRange}),r.lE=e,r.act=[],r.rq=!1,r}E(n,t);var i=n.prototype;return i.lct=function(){if(this.hct)return this.hct.vm},i.RN=function(t){var n=this;pu(WL(function(){return n.dct()},t))},i.dct=function(){var t,n,i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Fr.awrap(this.wct());case 2:if((t=u.sent).isMasterPlaylist)for(this.uct=t,n=0,i=t.streams;n<i.length;n++)e=i[n],r=new AH(this.lE,this.cct),this.act.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:r});else s=new AH(this.lE,this.cct),this.act.push({stream:{uri:t.uri},updater:s});this.fct&&(this._ct(this.fct.width,this.fct.height),this.fct=void 0),this.rq=!0;case 6:case"end":return u.stop()}},null,this,null,qe)},i.gct=function(t,n){this.rq?this._ct(t,n):this.fct={width:t,height:n}},i._ct=function(t,n){this.mct();var i=this.yct(t,n);i&&(this.hct=i.updater,this.hct.addEventListener("tct",this.vct),i.updater.RN(i.stream.uri))},i.mct=function(){this.hct&&(this.hct.Pm(),this.hct.removeEventListener("tct",this.vct),this.hct=void 0)},i.yct=function(t,n){return 1===this.act.length?this.act[0]:Ws(this.act,function(i){return i.stream.width===t&&i.stream.height===n})},i.wct=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new kH(this.cct,WU.Yn.bat,this.lE),i.next=3,Fr.awrap(t.jh(this.lrt.src,{}));case 3:return n=i.sent,i.abrupt("return",n.vm);case 5:case"end":return i.stop()}},null,this,null,qe)},i.Sd=function(){this.mct();for(var t=0,n=this.act;t<n.length;t++){n[t].updater.Sd()}Ks(this.act)},n}(Su),EH=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).kct=void 0,r.pct=void 0,r.LM=void 0,r.bct=!1,r.i6=void 0,r.qq=void 0,r.handleManifestUpdate=function(){var t=r.kct.lct();if(t){var n=r.QD;if(n){var i=n.getTime(),e=r.i6;e||(e=new NL,r.i6=e),e.Zh(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.bct&&e.j_.b_>0&&(r.Rm.g_(e),r.qq.g_(e),r.bct=!0)}}},r.Act=function(){r.kct&&r.kct.gct(r.jg,r.Yg)},r.pct=i,r.LM=e,r.qq=new kP(Jt(r)),r.Zs(Pf.Cf,r.Act),r}E(n,t);var i=n.prototype;return i.Om=function(n,i,e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(t.prototype.Om.call(this,n,i,e));case 2:n.hlsDateRange&&this.Tct(n,i,e);case 3:case"end":return r.stop()}},null,this,null,qe)},i.Tct=function(t,n,i){this.kct&&(this.kct.tu("sct",this.handleManifestUpdate),this.kct.Sd()),this.kct=new SH(t,n,this.pct),this.kct.Zs("sct",this.handleManifestUpdate),this.kct.RN(i)},i.k_=function(){return this.i6&&(this.Rm.m_(this.i6),this.qq.m_(this.i6),this.i6.Sd(),this.i6=void 0,this.bct=!1),this.qq.k_(),t.prototype.k_.call(this)},i.Sd=function(){return this.tu(Pf.Cf,this.Act),this.kct&&(this.kct.tu("sct",this.handleManifestUpdate),this.kct.Sd()),this.qq.Sd(),t.prototype.Sd.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).Sct=void 0,i.Sct=n;for(var e=0;e<vS.length;e++){var r=vS[e];i.Sct.Zs(r,i.js)}return i}E(n,t);var i=n.prototype;return i.xm=function(){return this.Sct.xm()},i.Wm=function(){return this.Sct.Wm()},i.Vm=function(){return this.Sct.Vm()},i.zm=function(){return this.Sct.zm()},i.Zm=function(){return this.Sct.Zm()},i.Cm=function(){return this.Sct.Cm()},i.Nm=function(){return this.Sct.Nm()},i.k_=function(){return this.Sct.k_()},i.Om=function(t,n,i){return this.Sct.Om(t,n,i)},i.Fm=function(){return this.Sct.Fm()},i.Lm=function(){return this.Sct.Lm()},i.Mm=function(){return this.Sct.Mm()},i.Sd=function(){this.$s();for(var t=0;t<vS.length;t++){var n=vS[t];this.Sct.tu(n,this.js)}return this.Sct.Sd()},T(n,[{key:"Em",get:function(){return this.Sct.Em}},{key:"Km",get:function(){return this.Sct.Km}},{key:"Jm",get:function(){return this.Sct.Jm},set:function(t){this.Sct.Jm=t}},{key:"Xg",get:function(){return this.Sct.Xg},set:function(t){this.Sct.Xg=t}},{key:"Hg",get:function(){return this.Sct.Hg}},{key:"Fg",get:function(){return this.Sct.Fg}},{key:"zg",get:function(){return this.Sct.zg}},{key:"Dm",get:function(){return this.Sct.Dm}},{key:"mu",get:function(){return this.Sct.mu}},{key:"iy",get:function(){return this.Sct.iy}},{key:"ey",get:function(){return this.Sct.ey}},{key:"Vg",get:function(){return this.Sct.Vg},set:function(t){this.Sct.Vg=t}},{key:"_y",get:function(){return this.Sct._y}},{key:"Wg",get:function(){return this.Sct.Wg}},{key:"Gg",get:function(){return this.Sct.Gg},set:function(t){this.Sct.Gg=t}},{key:"gy",get:function(){return this.Sct.gy}},{key:"yy",get:function(){return this.Sct.yy},set:function(t){this.Sct.yy=t}},{key:"Y_",get:function(){return this.Sct.Y_}},{key:"py",get:function(){return this.Sct.py}},{key:"qg",get:function(){return this.Sct.qg}},{key:"QD",get:function(){return this.Sct.QD}},{key:"Rm",get:function(){return this.Sct.Rm}},{key:"Yg",get:function(){return this.Sct.Yg}},{key:"Im",get:function(){return this.Sct.Im}},{key:"jg",get:function(){return this.Sct.jg}},{key:"Qg",get:function(){return this.Sct.Qg},set:function(t){this.Sct.Qg=t}},{key:"by",get:function(){return this.Sct.by}},{key:"Ay",get:function(){return this.Sct.Ay},set:function(t){this.Sct.Ay=t}},{key:"ZD",get:function(){return this.Sct.ZD}}]),n}(Gm));bH=function(t,n,i){return new EH(t,n,i)},uS.iN().eN(bH);var IH=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},RH=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),CH={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(CH,CH.exports);var DH=CH.exports;function NH(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function PH(t){return JSON.stringify(t,CH.exports.getSerialize(NH))}var xH={},BH={};!function(t){w.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(BH);var OH={};!function(t){w.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(OH);var LH={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}w.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(LH),w.defineProperty(xH,"__esModule",{value:!0});var MH=BH.isS,jH=BH.isChar,FH=BH.isNameStartChar,UH=BH.isNameChar,HH=BH.S_LIST,XH=BH.NAME_RE,VH=OH.isChar,zH=LH.isNCNameStartChar,WH=LH.isNCNameChar,qH=LH.NC_NAME_RE;const GH="http://www.w3.org/XML/1998/namespace",$H="http://www.w3.org/2000/xmlns/",YH={__proto__:null,xml:GH,xmlns:$H},QH={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},ZH=-1,KH=-2,JH=0,tX=1,nX=2,iX=3,eX=4,rX=5,sX=6,uX=7,oX=8,aX=9,hX=10,cX=11,fX=12,lX=13,vX=14,dX=15,wX=16,gX=17,mX=18,yX=19,pX=20,_X=21,bX=22,kX=23,AX=24,TX=25,SX=26,EX=27,IX=28,RX=29,CX=30,DX=31,NX=32,PX=33,xX=34,BX=35,OX=36,LX=37,MX=38,jX=39,FX=40,UX=41,HX=42,XX=43,VX=44,zX=9,WX=10,qX=13,GX=32,$X=33,YX=38,QX=45,ZX=47,KX=59,JX=60,tV=61,nV=62,iV=63,eV=91,rV=93,sV=133,uV=8232,oV=t=>34===t||39===t,aV=[34,39],hV=[...aV,eV,nV],cV=[...aV,JX,rV],fV=[tV,iV,...HH],lV=[...HH,nV,YX,JX];function vV(t,n,i){switch(n){case"xml":i!==GH&&t.fail(`xml prefix must be bound to ${GH}.`);break;case"xmlns":i!==$H&&t.fail(`xmlns prefix must be bound to ${$H}.`)}switch(i){case $H:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${$H}.`);break;case GH:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const dV=t=>qH.test(t),wV=t=>XH.test(t),gV=0,mV=1,yV=2;xH.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const pV={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var _V=xH.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=zH,this.nameCheck=WH,this.isName=dV,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=w.assign({__proto__:null},YH);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of w.keys(n))vV(t,i,n[i])}(this,t),w.assign(this.ns,t))}else this.nameStartCheck=FH,this.nameCheck=UH,this.isName=wV,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.do}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=gV,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?lX:JH,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new l("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.do=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=w.create(QH),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[pV[t]]=n}off(t){this[pV[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new l(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===qX||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return ZH;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=GX||i===zX)return i;switch(i){case WX:return this.line++,this.column=0,this.positionAtNewLine=this.position,WX;case qX:return t.charCodeAt(n+1)===WX&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,KH;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return ZH;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==uV||i===zX)return i;switch(i){case WX:return this.line++,this.column=0,this.positionAtNewLine=this.position,WX;case qX:{const i=t.charCodeAt(n+1);i!==WX&&i!==sV||(this.i=n+2)}case sV:case uV:return this.line++,this.column=0,this.positionAtNewLine=this.position,KH;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===KH?WX:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===KH,s=r?WX:e;if(s===ZH||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case KH:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=WX;break;case ZH:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===ZH)return this.name+=t.slice(n),ZH;if(!UH(i))return this.name+=t.slice(n,this.prevI),i===KH?WX:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===ZH||!MH(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=jH,this.getCode=this.getCode10):(this.isChar=VH,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=tX}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case JX:if(this.state=dX,0!==this.text.length)throw new l("no-empty text at start");break;case ZH:break;default:this.unget(),this.state=lX,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(hV);switch(n){case nV:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=lX,this.doctype=!0;break;case ZH:break;default:this.text+=String.fromCodePoint(n),n===eV?this.state=eX:oV(n)&&(this.state=iX,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=nX)}sDTD(){const t=this.captureTo(cV);t!==ZH&&(this.text+=String.fromCodePoint(t),t===rV?this.state=nX:t===JX?this.state=sX:oV(t)&&(this.state=rX,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=eX,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case $X:this.state=uX,this.openWakaBang="";break;case iV:this.state=cX;break;default:this.state=eX}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?oX:eX,this.openWakaBang="")}sDTDComment(){this.captureToChar(QX)&&(this.text+="-",this.state=aX)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===QX?hX:oX}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===nV?this.state=eX:(this.fail("malformed comment."),this.state=oX)}sDTDPI(){this.captureToChar(iV)&&(this.text+="?",this.state=fX)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===nV&&(this.state=eX)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case KH:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case KX:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===lX&&void 0===this.textHandler||(this.text+=r);break t}case ZH:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(FH(t))this.state=xX,this.unget(),this.xmlDeclPossible=!1;else switch(t){case ZX:this.state=XX,this.xmlDeclPossible=!1;break;case $X:this.state=wX,this.openWakaBang="",this.xmlDeclPossible=!1;break;case iV:this.state=kX;break;default:this.fail("disallowed character in tag name"),this.state=lX,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=pX,this.openWakaBang="";break;case"--":this.state=gX,this.openWakaBang="";break;case"DOCTYPE":this.state=nX,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(QX)&&(this.state=mX)}sCommentEnding(){var t;const n=this.getCodeNorm();n===QX?(this.state=yX,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=gX)}sCommentEnded(){const t=this.getCodeNorm();t!==nV?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=gX):this.state=lX}sCData(){this.captureToChar(rV)&&(this.state=_X)}sCDataEnding(){const t=this.getCodeNorm();t===rV?this.state=bX:(this.text+=`]${String.fromCodePoint(t)}`,this.state=pX)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case nV:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=lX;break;case rV:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=pX}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=AX):t===iV||MH(t)?(this.fail("processing instruction without a target."),this.state=t===iV?SX:TX):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=AX)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===ZH)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===iV;e||MH(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?PX:EX):this.state=e?SX:TX:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===iV?this.state=SX:MH(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(iV)&&(this.state=SX)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===nV){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=lX}else n===iV?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=TX);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==iV?t!==ZH&&(this.state=IX,this.name=String.fromCodePoint(t)):this.state=PX}sXMLDeclName(){const t=this.captureTo(fV);if(t===iV)return this.state=PX,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(MH(t)||t===tV){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===tV?CX:RX}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===iV)return this.state=PX,void this.fail("XML declaration is incomplete.");MH(t)||(t!==tV&&this.fail("value required."),this.state=CX)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===iV)return this.state=PX,void this.fail("XML declaration is incomplete.");MH(t)||(oV(t)?this.q=t:(this.fail("value must be quoted."),this.q=GX),this.state=DX)}sXMLDeclValue(){const t=this.captureTo([this.q,iV]);if(t===iV)return this.state=PX,this.text="",void this.fail("XML declaration is incomplete.");if(t===ZH)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=NX}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==iV?(MH(t)||(this.fail("whitespace required."),this.unget()),this.state=EX):this.state=PX}sXMLDeclEnding(){var t;this.getCodeNorm()===nV?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=lX):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===ZH)return;const i=this.tag={name:this.name,attributes:w.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=w.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case nV:this.openTag();break;case ZX:this.state=BX;break;default:MH(n)||this.fail("disallowed character in tag name."),this.state=OX}}sOpenTagSlash(){this.getCode()===nV?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=OX)}sAttrib(){const t=this.skipSpaces();t!==ZH&&(FH(t)?(this.unget(),this.state=LX):t===nV?this.openTag():t===ZX?this.state=BX:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===tV?this.state=jX:MH(t)?this.state=MX:t===nV?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==ZH&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case ZH:return;case tV:this.state=jX;break;default:this.fail("attribute without value."),this.text="",this.name="",t===nV?this.openTag():FH(t)?(this.unget(),this.state=LX):(this.fail("disallowed character in attribute name."),this.state=OX)}}sAttribValue(){const t=this.getCodeNorm();oV(t)?(this.q=t,this.state=FX):MH(t)||(this.fail("unquoted attribute value."),this.state=HX,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=UX);case YX:return this.text+=n.slice(i,this.prevI),this.state=vX,void(this.entityReturnState=FX);case WX:case KH:case zX:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case JX:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case ZH:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();MH(t)?this.state=OX:t===nV?this.openTag():t===ZX?this.state=BX:FH(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=LX):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(lV);switch(t){case YX:this.state=vX,this.entityReturnState=HX;break;case JX:this.fail("disallowed character.");break;case ZH:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===nV?this.openTag():this.state=OX}}sCloseTag(){const t=this.captureNameChars();t===nV?this.closeTag():MH(t)?this.state=VX:t!==ZH&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case nV:this.closeTag();break;case ZH:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case JX:if(this.state=dX,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=gV;break t;case YX:this.state=vX,this.entityReturnState=lX,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=gV;break t;case rV:switch(n){case gV:n=mV;break;case mV:n=yV;break;case yV:break;default:throw new l("impossible state")}break;case nV:n===yV&&this.fail('the string "]]>" is disallowed in char data.'),n=gV;break;case KH:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=gV;break;case ZH:void 0!==e&&(this.text+=i.slice(t));break t;default:n=gV}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case JX:if(this.state=dX,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case YX:this.state=vX,this.entityReturnState=lX,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case KH:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case ZH:void 0!==i&&(this.text+=n.slice(t));break t;default:MH(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,vV(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,vV(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==JH&&this.state!==lX&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.do=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?$H:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=lX,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=lX,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=lX,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=m(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=m(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},bV=function(){function t(){}return t.prototype.ui=function(t){var n=new _V({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new RV,e=[i];function r(t){e[e.length-1].Ni(t)}return n.on("text",function(t){e.length>1&&r(new EV(t))}),n.on("cdata",function(t){r(new IV(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new TV({di:n,_i:""===i?void 0:i,Ect:""===s?void 0:s}),o=t.attributes,a=0,h=w.keys(o);a<h.length;a++){var c=o[h[a]],f=c.prefix,l=c.local,v=c.uri,d=c.value,g=new kV({di:l,Ai:d,_i:""===v?void 0:v,Ect:""===f?void 0:f});u.Ict(g)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new en(t)}),n.write(t).close(),i},t}(),kV=function(){function t(t){this.Rct=void 0,this.Dct=void 0,this.Nct=void 0,this.ke=void 0,this.Rct=t.di,this.ke=t.Ai,this.Dct=t._i,this.Nct=t.Ect}var n=t.prototype;return n.ai=function(t){return this===t||!!DV(this,t)&&(this.Rct===t.Rct&&this.Dct===t.Dct&&this.Nct===t.Nct&&this.ke===t.ke)},n.ci=function(){return new t({di:this.di,Ai:this.Ai,_i:this._i,Ect:this.gi})},T(t,[{key:"Kn",get:function(){return $t.ni}},{key:"di",get:function(){return this.Rct}},{key:"wi",get:function(){return void 0===this.Nct?this.Rct:this.Nct+":"+this.Rct}},{key:"_i",get:function(){return this.Dct}},{key:"gi",get:function(){return this.Nct}},{key:"Ai",get:function(){return this.ke}}]),t}(),AV=function(){function t(){this.Si=[]}var n=t.prototype;return n.Ei=function(t){return this.Si.filter(function(n){return CV(n)&&n.Ri===t})},n.Di=function(t,n){return this.Si.filter(function(i){return CV(i)&&i.di===n&&i._i===t})},n.Ni=function(t){this.Si.push(t)},T(t,[{key:"Ii",get:function(){return this.Si}},{key:"Pi",get:function(){return this.Si.filter(CV)}}]),t}(),TV=function(t){function n(n){var i;return(i=t.call(this)||this).Rct=void 0,i.Dct=void 0,i.Nct=void 0,i.Cct=[],i.Rct=n.di,i.Dct=n._i,i.Nct=n.Ect,i}E(n,t);var i=n.prototype;return i.Pct=function(t){for(var n=0,i=this.Ii;n<i.length;n++){var e=i[n];CV(e)?e.Pct(t):t.push(e.Fi)}},i.Oi=function(t,n){for(var i=0,e=this.Cct;i<e.length;i++){var r=e[i];if(r.di===n&&r._i===t)return r.Ai}},i.Bi=function(t){for(var n=0,i=this.Cct;n<i.length;n++){var e=i[n];if(e.wi===t)return e.Ai}},i.Ict=function(t){this.Cct.push(t)},i.xi=function(t){for(var n=0;n<this.Cct.length;n++)if(this.Cct[n].wi===t)return void this.Cct.splice(n,1)},i.Li=function(t,n){for(var i=0;i<this.Cct.length;i++)if(this.Cct[i].di===n&&this.Cct[i]._i===t)return void this.Cct.splice(i,1)},i.Mi=function(t,n){this.xi(t),this.Ict(new kV({di:t,Ai:n}))},i.Ui=function(t,n,i){this.xi(n);var e=n.split(":");this.Ict(new kV({di:e[e.length-1],Ai:i,_i:t,Ect:e.length>1?e[0]:void 0}))},i.ci=function(t){var i=new n({di:this.di,_i:this._i,Ect:this.gi});return this.Xi.forEach(function(t){return i.Ict(t.ci())}),t&&this.Ii.forEach(function(n){return i.Ni(n.ci(t))}),i},i.ai=function(t){return this===t||!!DV(this,t)&&(this.Rct===t.Rct&&this.Nct===t.Nct&&this.Dct===t.Dct&&(NV(this.Xi,t.Xi)&&NV(this.Ii,t.Ii)))},T(n,[{key:"Kn",get:function(){return $t.Jn}},{key:"Xi",get:function(){return this.Cct}},{key:"di",get:function(){return this.Rct}},{key:"_i",get:function(){return this.Dct}},{key:"gi",get:function(){return this.Nct}},{key:"Ri",get:function(){return void 0===this.Nct?this.Rct:this.Nct+":"+this.Rct}},{key:"Hi",get:function(){var t=[];return this.Pct(t),t.join("")}}]),n}(AV),SV=function(){function t(t){this.Gi=void 0,this.Gi=t}return T(t,[{key:"Fi",get:function(){return this.Gi}}]),t}(),EV=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.ci=function(){return new n(this.Fi)},i.ai=function(t){return this===t||!!DV(this,t)&&this.Fi===t.Fi},T(n,[{key:"Kn",get:function(){return $t.$n}}]),n}(SV),IV=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.ci=function(){return new n(this.Fi)},i.ai=function(t){return this===t||!!DV(this,t)&&this.Fi===t.Fi},T(n,[{key:"Kn",get:function(){return $t.ei}}]),n}(SV),RV=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.ci=function(t){var i=new n;return t&&this.Ii.forEach(function(n){return i.Ni(n.ci(t))}),i},i.ai=function(t){return this===t||!!DV(this,t)&&NV(this.Ii,t.Ii)},T(n,[{key:"Kn",get:function(){return $t.ri}},{key:"zi",get:function(){return this.Pi[0]}}]),n}(AV);function CV(t){return Zt(t)}function DV(t,n){return t.Kn===n.Kn}function NV(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ai(n[i]))return!1;return!0}var PV,xV=["adBreak"],BV=["adBreak"];function OV(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Ur({},t,{adBreak:Ur({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,Qk(t,xV)})})})}function LV(t){return void 0===t.ads?t:Ur({},t,{ads:t.ads.map(function(t){return t.adBreak,Qk(t,BV)})})}function MV(t){return"string"==typeof t.date?new Date(t.date):t.date}function jV(t){var n;return t.cue.track?(n=UV(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=UV(t.cue,""),n}function FV(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&w.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=w.entries(i);return w.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function UV(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new bV).ui(e.firstChild.outerHTML).zi.Xi.forEach(function(t){r[t.di]=t.Ai}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(h=o)&&null!==h){var a=HV(o);s[u]={type:PV.Bct,value:a}}else VV(o)?s[u]={type:PV.Oct,value:o}:s[u]={type:PV.kQ,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=HV(t.scte35Cmd),i.scte35Out=HV(t.scte35Out),i.scte35In=HV(t.scte35In),i.customAttributes=s}var h}(),i}function HV(t){if(void 0!==t)return zu(t)}function XV(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(UV(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(UV(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function VV(t){return"number"==typeof t}!function(t){t.kQ="daterange-ca-type_string",t.Oct="daterange-ca-type_number",t.Bct="daterange-ca-type_arraybuffer"}(PV||(PV={}));var zV={cue:function(t){var n={};switch(n.date=MV(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=jV(t)}return n},textTrack:function(t){var n={};switch(n.date=MV(t),n.type=t.type,t.type){case"addcue":var i=t.cue;$V().register(i);var e=GV()[YV()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=jV(t);break;case"cuechange":for(var r=[],s=0;s<t.track.activeCues.length;s++){var u=t.track.activeCues[s];r.push(UV(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:XV(t.track),date:MV(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=$V();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=MV(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Pf.Ff:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Ur({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=XV(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=LV(t.ad);break;case"adloaded":case"adimpression":n.ad=OV(t.ad);break;case"adskip":n.ad=OV(t.ad),n.playedPercentage=t.playedPercentage;break;case"aderror":t.xct&&(n.xct=t.xct),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=OV(t.ad)}return FV(n)},minimizeCueHelper:function(t){var n={};return n.date=MV(t),n.type=t.type,n.cue=jV(t),n.track={uid:t.cue.track.uid},n},adReplacer:OV,adBreakReplacer:LV,removeCircularReferences:FV},WV=function(){this.stringify=PH,this.minimize=zV};function qV(){return we.self}function GV(){return qV().THEOplayerBridge}function $V(){return qV().THEOCueMirrorMap}function YV(){return qV().THEOplayerGlobalID}function QV(){var t=qV();if(t.THEOplayerBridge){var n=new IH;t.THEOplayerBridge=_m(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new IH;t.THEOplayerUtils||(t.THEOplayerUtils=new WV),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new RH)}QV();var ZV,KV=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return E(n,t),n}(Iu),JV=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Qs(new KV(t,n))},i.addEventListener=function(t,n){this.Zs(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n}($m),tz=function(t){function n(n,i){var e;return(e=t.call(this)||this).Lct=void 0,e.Mct=void 0,e.Uct=function(t){e.Lct.rK("THEOplayerABRSetTargetBuffer",t.eL),e.Qs(t)},e.Xct=function(t){e.Lct.rK("THEOplayerABRSetStrategy",t.sL),e.Qs(t)},e.Lct=n,e.Mct=i,e.Mct.Zs("rL",e.Uct),e.Mct.Zs("uL",e.Xct),e}return E(n,t),n.prototype.gL=function(t){return this.Mct.gL(t)},T(n,[{key:"yL",get:function(){var t;switch(this.sL.type){case oR.PERFORMANCE:return 1;case oR.QUALITY:return 0;case oR.BANDWIDTH:return null!=(t=this.sL.metadata)&&t.bitrate&&!p(this.sL.metadata.bitrate)?this.sL.metadata.bitrate:0;default:return 0}}},{key:"Gw",get:function(){return this.Mct.Gw}},{key:"sL",get:function(){return this.Mct.sL},set:function(t){this.Mct.sL=t}},{key:"eL",get:function(){return this.Mct.eL},set:function(t){this.Mct.eL=t}},{key:"mL",get:function(){return this.Mct.mL}},{key:"oL",get:function(){return this.Mct.oL},set:function(t){this.Mct.oL=t}},{key:"hL",get:function(){return this.Mct.hL}},{key:"Jx",get:function(){return this.Mct.Jx}}]),n}(Su),nz=function(){function t(t,n,i){this.Pc=void 0,this.ys=void 0,this.Vc=void 0,this.ic=void 0,this.Pc=t,this.ys=i,this.Vc=n}var n=t.prototype;return n.yE=function(t){throw new l("Not implemented yet.")},n.DX=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.ys.Ss(t.vs,n));case 2:return i=r.sent,r.next=5,Fr.awrap(i.lc());case 5:return e=r.sent,r.next=8,Fr.awrap(this.NX(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,qe)},n.CX=function(t){return!1},n.PX=function(t){return qe.resolve(void 0)},n.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.NX(void 0));case 2:case"end":return t.stop()}},null,this,null,qe)},n.NX=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.OX(t),i.next=3,Fr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,qe)},n.OX=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.ic)){i.next=5;break}return i.next=4,Fr.awrap(n.cc(this.Vc));case 4:this.ic=void 0;case 5:if(!t){i.next=9;break}return i.next=8,Fr.awrap(t.hc(this.Vc));case 8:this.ic=t;case 9:case"end":return i.stop()}},null,this,null,qe)},n._E=function(t,n,i){throw new l("Not implemented yet.")},T(t,[{key:"rc",get:function(){return this.Pc}},{key:"yy",get:function(){throw new l("Not implemented yet.")},set:function(t){throw new l("Not implemented yet.")}},{key:"py",get:function(){return new yS([0,1/0])}},{key:"Rm",get:function(){throw new l("Not implemented yet.")}},{key:"Hct",get:function(){throw new l("Not implemented yet")}},{key:"Im",get:function(){throw new l("Not implemented yet.")}},{key:"Fct",get:function(){throw new l("Not implemented yet")}},{key:"zct",get:function(){throw new l("Not implemented yet")}}]),t}();!function(t){t.Vct="webkitneedkey",t.Wct="webkitkeymessage",t.Gct="webkitkeyerror"}(ZV||(ZV={}));var iz=function(t){function n(n,i){var e;return(e=t.call(this,ZV.Vct)||this).initData=n,e.sessionId=i,e}return E(n,t),n}(Iu),ez=function(t){function n(n,i){var e;return(e=t.call(this,ZV.Wct)||this).message=n,e.destinationURL=i,e}return E(n,t),n}(Iu),rz=function(t){function n(){return t.call(this,ZV.Gct)||this}return E(n,t),n}(Iu),sz=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).yc=new na,u.Bc=void 0,u.bc=new Lu,u.xc=new na,u.qct=function(t){u.Bc?(u.Bc.Gu(void 0),u.Bc=void 0):u.Ic("internal-error"),u.Qs(new Pu)},u.Yct=function(t){u.Bc&&(u.Bc.Wu(void 0),u.Bc=void 0),u.Qs(new Nu(Jt(u),"license-request",Zo(t.message).buffer,t.destinationURL||void 0))},u.Dc=n,u.Vh=i,u.jct=e,u.Fc=r,u.Mc=s,u}E(n,t);var i=n.prototype;return i.Yh=function(t,n,i){var e;return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Uc){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,Fr.awrap(this.Qct(Yo(n),e));case 5:this.Ic("usable"),this.xc.Wu(),this.xc=new na;case 8:case"end":return t.stop()}},null,this,null,qe)},i.jh=function(t){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,qe)},i.Zh=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Yo(t)).byteLength){i.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.Bc=new na,this.jct.Zh(this.Fc,n),i.next=7,Fr.awrap(this.Bc.Hu);case 7:case"end":return i.stop()}},null,this,null,qe)},i.qh=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.xc);case 2:return this.jct.tu(ZV.Wct,this.Yct),this.jct.tu(ZV.Gct,this.qct),this.xc.Fs(),this.yc.Wu(void 0),t.abrupt("return",this.yc.Hu);case 7:case"end":return t.stop()}},null,this,null,qe)},i.Qh=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,qe)},i.Qct=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=ff(t,n,this.Mc),this.jct.Zs(ZV.Wct,this.Yct),this.jct.Zs(ZV.Gct,this.qct),this.jct.bq(this.Fc,i);case 4:case"end":return e.stop()}},null,this,null,qe)},i.Ic=function(t){this.bc.Nu(),this.bc.Du(Ou,t),this.Qs(new Du(this))},T(n,[{key:"nc",get:function(){return this.Fc}},{key:"$h",get:function(){return NaN}},{key:"Jh",get:function(){return this.yc.Hu}},{key:"tc",get:function(){return this.bc}}]),n}(Su),uz=function(){function t(t,n,i){this.Zct=void 0,this.Fc=void 0,this.Mc=void 0,this.jct=void 0,this.Vh=void 0,this.Pc=void 0,this.Dc=void 0,this.jct=t,this.Vh=n,this.Pc=i;var e=Yc(i)||"video/mp4";this.Dc=Wc(e)}var i=t.prototype;return i.uc=function(t){var i;return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Mc){t.next=2;break}throw new lf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new sz(this.Dc,this.Vh,this.jct,this.Fc,this.Mc),this.Zct=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,qe)},i.ac=function(t){return this.Mc=Yo(t),qe.resolve(!0)},i.hc=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,qe)},i.cc=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,qe)},i.createSession=function(){throw new l("Whoops.")},T(t,[{key:"ec",get:function(){return this.Vh}},{key:"rc",get:function(){return this.Pc}},{key:"sessionId",set:function(t){this.Fc=t}}]),t}(),oz=function(){function t(t,n,i){this.Kct=t,this.Vh=n,this.Pc=i}var n=t.prototype;return n.dc=function(){return this.Pc},n.lc=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new uz(this.Kct,this.Vh,this.Pc));case 1:case"end":return t.stop()}},null,this,null,qe)},T(t,[{key:"ec",get:function(){return this.Vh}}]),t}(),az=function(){function t(t){this.Kct=void 0,this.Kct=t}return t.prototype.Ss=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0;case 1:if(!(i<n.length)){s.next=9;break}if(e=n[i],!(r=Gc(hz,Cu,t,e))){s.next=6;break}return s.abrupt("return",new oz(this.Kct,t,r));case 6:i++,s.next=1;break;case 9:throw new v("Unsupported key system configuration for "+t);case 10:case"end":return s.stop()}},null,this,null,qe)},t}();function hz(t,n){return t===ls}var cz,fz=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Pq=function(t,n){return!0},n}(UP),lz=function(t){function n(n,i,e){var r;return void 0===e&&(e=new az(i)),(r=t.call(this)||this).JR=void 0,r.ys=void 0,r.SX=void 0,r.Mq=new mC,r.Jct=void 0,r.Kct=void 0,r.$ct=!1,r.Fc=void 0,r.Lc=null,r.tft={sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.nft=function(t){"boolean"==typeof t.detail.casting&&(r.$ct=t.detail.casting,r.Qs(new Dp(r.$ct)))},r.ift=function(t){r.Fc=t.sessionId,r.Lc&&(r.Lc.sessionId=r.Fc);var n=t.initData;if(n){var i=GP(n);if(!i)return;r.Qs(new xu(is,i))}else r.Qs(new xu(is,new ArrayBuffer(0)))},r.Jct=n,r.Kct=i,r.Kct.Zs(ZV.Vct,r.ift),r.ys=e,r.SX=new fz(Jt(r)),r.eft(),r}E(n,t);var i=n.prototype;return i.XX=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.fs===vk.pE)return i}},i.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.k_());case 2:return this.$s(),this.rft(),this.Kct.tu(ZV.Vct,this.ift),t.next=7,Fr.awrap(this.SX.xs());case 7:case"end":return t.stop()}},null,this,null,qe)},i.zm=function(){throw new l("Not implemented yet")},i._E=function(t,n,i,e,r,s,u,o){throw new l("Not implemented yet")},i.xD=function(){return!1},i.MD=function(t,n,i,e){throw new l("Not implemented yet")},i.yE=function(t){throw new l("Not implemented yet")},i.HD=function(){throw new l("Not implemented yet")},i.jh=function(t){var n=this;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.Mq.ZU(function(i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.fs!==vk.pE){r.next=8;break}return fu(i),e=new nz(t,n,n.ys),n.JR=e,n.SX.jh(e,t),r.abrupt("return",e);case 8:throw new l("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,qe)}));case 1:case"end":return i.stop()}},null,this,null,qe)},i.Cm=function(){throw new l("Not implemented yet")},i.Nm=function(){throw new l("Not implemented yet")},i.k_=function(){var t=this;return this.Mq.Fs(),this.Mq.ZU(function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.JR){n.next=4;break}return n.next=3,Fr.awrap(t.JR.xs());case 3:t.JR=void 0;case 4:return n.next=6,Fr.awrap(t.SX.k_());case 6:case"end":return n.stop()}},null,null,null,qe)})},i.xu=function(t,n){throw new l("Not implemented yet")},i.YD=function(t){throw new l("Not implemented yet")},i.Fm=function(){throw new l("Not implemented yet")},i.jD=function(){return this.tft},i.eft=function(){this.Jct.addEventListener("airPlayIsCasting",this.nft)},i.rft=function(){this.Jct.removeEventListener("airPlayIsCasting",this.nft)},i.webkitSetMediaKeys=function(t){this.Lc=t||null,this.Lc&&(this.Lc.sessionId=this.Fc)},i.pj=function(){},i.mj=function(){throw new l("Not implemented yet")},i.yj=function(){throw new l("Not implemented yet")},T(n,[{key:"Jm",get:function(){throw new l("Not implemented yet")}},{key:"Km",get:function(){throw new l("Not implemented yet")}},{key:"Xg",get:function(){throw new l("Not implemented yet")}},{key:"NU",get:function(){throw new l("Not implemented yet")}},{key:"Hg",get:function(){throw new l("Not implemented yet")}},{key:"Fg",get:function(){throw new l("Not implemented yet")}},{key:"mu",get:function(){throw new l("Not implemented yet")}},{key:"sT",get:function(){throw new l("Not implemented yet")}},{key:"iy",get:function(){return this.$ct}},{key:"Vg",get:function(){throw new l("Not implemented yet")}},{key:"Wg",get:function(){throw new l("Not implemented yet")}},{key:"Gg",get:function(){throw new l("Not implemented yet")}},{key:"gy",get:function(){throw new l("Not implemented yet")}},{key:"Y_",get:function(){throw new l("Not implemented yet")}},{key:"py",get:function(){throw new l("Not implemented yet")}},{key:"qg",get:function(){throw new l("Not implemented yet")}},{key:"Tj",get:function(){throw new l("Not implemented yet")}},{key:"Qg",get:function(){throw new l("Not implemented yet")},set:function(t){throw new l("Not implemented yet")}},{key:"Tk",get:function(){throw new l("Not implemented yet")}},{key:"XD",get:function(){throw new l("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Lc}},{key:"Sj",get:function(){return LC}},{key:"Rm",get:function(){throw new l("Not implemented yet")}},{key:"PU",get:function(){throw new l("Not implemented yet")}},{key:"QD",get:function(){throw new l("Not implemented yet")}},{key:"bj",get:function(){return!0}},{key:"ED",get:function(){return this.SX.ED},set:function(t){this.SX.ED=t}},{key:"xq",get:function(){return this.SX.xq}}]),n}(Gm),vz=function(t){function n(n){var i;return(i=t.call(this,Pf.Wf)||this).tft=n,i}return E(n,t),n}(Iu);function dz(t){switch(t.type){case cz.kQ:return t.value;case cz.Oct:return Em(t.value);case cz.Bct:return Xu(t.value);default:return}}function wz(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.kQ="daterange-ca-type_string",t.Oct="daterange-ca-type_number",t.Bct="daterange-ca-type_arraybuffer"}(cz||(cz={}));var gz=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this).oR=void 0,u.sft=void 0,u.oR=n,u.sft=s,u}return E(n,t),T(n,[{key:"name",get:function(){return this.oR}},{key:"timestamp",get:function(){return this.sft}}]),n}(lf),mz=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e,r,a)||this).url=void 0,h.status=void 0,h.errorComment=void 0,h.url=s,h.status=u,h.errorComment=o,h}return E(n,t),n}(gz),yz=function(){function t(t,n){this.pm=void 0,this.qq=void 0,this.pm=new Fb,this.qq=new pP(t,n)}var n=t.prototype;return n._E=function(t,n,i,e,r,s,u){var o=new pN(t,n,i,e,r,s,u);return this.pm.g_(o),this.qq.g_(o),o},n.yE=function(t){this.pm.m_(t),this.qq.m_(t),t.Sd()},n.k_=function(){for(var t=0,n=this.pm.p_.slice();t<n.length;t++){n[t].Sd()}this.pm.k_(),this.qq.k_()},n.Sd=function(){this.k_(),this.pm.Sd(),this.qq.Sd()},T(t,[{key:"Rm",get:function(){return this.pm}}]),t}(),pz=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this)._C=0,u.gW=!1,u.$R=void 0,u.tD=void 0,u.uft=void 0,u.mC=!0,u.yC=1,u.mm=void 0,u.ym=void 0,u.zq=void 0,u.Wq=void 0,u.pm=void 0,u.vE=void 0,u.ua=void 0,u.D8=yS.fC(),u.eW=yS.fC(),u.gC=!1,u.tY=yS.fC(),u.kC=void 0,u.oft=void 0,u.aft=void 0,u.mW=ey.Rg,u.AE=ey.Rg,u.Jct=void 0,u.qq=void 0,u.eD=void 0,u.Lct=void 0,u.lrt=void 0,u.TC=void 0,u.KR=void 0,u.rD=void 0,u.Kct=void 0,u.tft={sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.JR=void 0,u.hft=void 0,u.uD=new YT,u.oD=new nS,u.setCurrentTime=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.py.length){n.next=4;break}return u._C=t,n.next=4,Fr.awrap(u.Jct.au("seekablechange"));case 4:u._C=u.updateCurrentTime(t),u.Lct.rK("THEOplayerSetCurrentTime",u._C),u.kC=!0,u.Qs(new Py(u._C));case 8:case"end":return n.stop()}},null,null,null,qe)},u.cft=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.D8=new yS(i),u.Qs(new HC(u.Xg))}},u.fft=function(t){u.mW=t.detail.readyState,u.Qs(new Oy(+t.detail.currentTime,u.Y_)),u.vft()},u.lft=function(t){u.mW=t.detail.readyState,u.Qs(new Ly(+t.detail.currentTime,u.Y_)),u.vft()},u.dft=function(t){if(t.detail){var n=+t.detail.duration;u.ua=n,u.Qs(new Iy(u.Hg))}},u.wft=function(t){t.detail&&(u.gW=!0,u.Qs(new Dy(+t.detail.currentTime)))},u.aD=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);wz(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.tD=new mz(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.$R=hp(u.tD),u.Qs(new jy(u.tD))):wz(i)&&(u.tD=new gz(i.name,i.message,void 0,i.code,i.timestamp),u.$R=hp(u.tD),u.Qs(new jy(u.tD)))}},u._ft=function(t){u.Qs(new XC)},u.gft=function(t){u.mW=t.detail.readyState,u.Qs(new Ny(+t.detail.currentTime,u.Y_)),u.vft()},u.mft=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.py.length){n.next=3;break}return n.next=3,Fr.awrap(u.Jct.au("seekablechange"));case 3:u.mW=t.detail.readyState,u.Qs(new Ey(+t.detail.currentTime,u.Y_)),u.vft();case 6:case"end":return n.stop()}},null,null,null,qe)},u.yft=function(t){t.detail&&u.mC&&(u.mC=!1,u.Qs(new Ay(+t.detail.currentTime)))},u.kft=function(t){t.detail&&(u.mC||(u.mC=!0,u.Qs(new ky(+t.detail.currentTime))))},u.pft=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.tY=new yS(i)}},u.bft=function(t){t.detail&&u.Qs(new Sk(+t.detail.currentTime))},u.Aft=function(t){t.detail&&(u.yC=t.detail.playbackRate,u.Qs(new Ry(+t.detail.currentTime,u.yC)))},u.Tft=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.eW=new yS(i)}},u.Sft=function(t){t.detail&&(u._C=+t.detail.currentTime,u.kC=!1,u.Qs(new Cy(u._C,u.uft)),u.Qs(new xy(u._C)))},u.Eft=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.ua&&(u.gW=!1),u.kC=!0,u.Qs(new Py(n))}},u.Ift=function(t){t.detail&&(t.detail.currentDate&&(u.uft=new Date(1e3*t.detail.currentDate)),u._C=+t.detail.currentTime,u.Qs(new Cy(u._C,u.uft)))},u.Rft=function(t){u.oft=t.detail.height,u.aft=t.detail.width},u.Dft=function(t){t.detail&&u.Qs(new Tk(+t.detail.currentTime))},u.Nft=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Em.g_(new Tp(n))},u.Cft=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.mm.b_;s++){var o=u.Em.__(s);o.L_==e&&o.x_==r?i=u.mm.__(s):1==o.C_&&(n=u.mm.__(s))}i&&n&&(i.C_=!0,n.C_=!1)},u.Pft=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.Im.g_(new Cp(n))},u.PZ=function(t){var n,i=t.detail.kind,e=t.detail.type;i===jb.Kb&&e===Ip.ID3?(n=new SP("",t.detail.label)).W_=Mm.H_:i===jb.Kb&&e===Ip.DATE_RANGE?(n=new NL,u.hft=n):n=new pN(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.zq.g_(n),u.qq.g_(n)},u.Bft=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(s.description=e.Id3FrameDescription);var o=new AP(Em(e.startTime),s,e.uid),a=u.Oft();a&&a.mE(o)}},u.xft=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new Gp(Em(r.startTime),Em(r.endTime),r.content,!1),o=null!=(e=u.Lft(jb.Qb))?e:u.Lft(jb.$S);o&&(o.fs=Ip.WEBVTT,o.mE(s))}},u.jY=function(t){t.type===Pf.vf&&(u.$R=hp(t.errorObject)),u.js(t)},u.Mft=function(t){t.detail&&(u.tft.uy=t.detail.corruptedVideoFrames,u.tft.sy=t.detail.droppedVideoFrames,u.Qs(new vz(u.ey)))},u.Uft=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={P_:t.id};if(void 0!==t.startDate&&(n.QD=new Date(t.startDate)),void 0!==t.endDate&&(n.RJ=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=dz(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.NJ=e}void 0!==t.scte35Cmd&&(n.PJ=Xu(t.scte35Cmd)),void 0!==t.scte35In&&(n.xJ=Xu(t.scte35In)),void 0!==t.scte35Out&&(n.OJ=Xu(t.scte35Out)),void 0!==t.startTime&&(n.Vy=t.startTime),n.IJ=t.class,n.Hg=Em(t.duration),n.DJ=Em(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Vy?t.Vy:(new Date).getTime(),e=new CL(t,i);u.hft.mE(e),u.hft.Zh(n,i)})};var o=r.uid;u.Lct=u.getSdkBridge(o),u.Jct=new JV,GV()[o].sdkEventBus=u.Jct,u.mm=new lp,u.ym=new lp;var a=u.Xft(e);return u.vE=new yz(Jt(u),new _P),u.qq=new kP(Jt(u)),u.eD=new ok(u.vE,a),u.zq=new Fb,u.Wq=new RP(u.vE,u.zq),u.pm=new KT([u.zq,u.eD.VA,u.Wq.VA]),u.Kct=u.getFairPlayControllerBridge(u.Lct),u.KR=new lz(u.Jct,u.Kct),u.rD=new QT(a),u.KR.ED=u.rD,u.observeMediaElement(),u.DD(),u.TC=new tz(u.Lct,s),u.TC.Zs("rL",function(){u.Lct.rK("THEOplayerSetPreferredForwardBufferDuration",u.TC.eL)}),u}E(n,t);var i=n.prototype;return i.Wm=function(){return bS},i.Fm=function(){this.Lct.rK("THEOplayerShow",{})},i.zm=function(){this.Lct.rK("THEOplayerHide",{})},i.Hft=function(){var t=this;this.Lct.rK("THEOplayerSetInitialPreferredPeakBitRate",this.TC.yL);this.Zs("playing",function n(){t.Lct.rK("THEOplayerSetInitialPreferredPeakBitRate",0),t.tu("playing",n)})},i.Om=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.lrt=t,i=Ur({},n,{sources:{src:t.src,type:ty.yg,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.Lct.rK("THEOplayerSourceChange",i),e={fs:vk.pE,Z_:t.src,Nl:t.type,ND:this.CD(t),PD:t.crossOrigin,BD:n.metadata&&n.metadata.title},this.rD.xR(t.contentProtection),s.next=7,Fr.awrap(this.KR.jh(e));case 7:this.JR=s.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==Ip.WEBVTT})).length>0&&this.OD(r),lk(this.Rm),this.Hft();case 11:case"end":return s.stop()}},null,this,null,qe)},i.CD=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{ec:gs,WD:[{initDataTypes:[gs.ls],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Nm=function(){this.mC=!1,this.Qs(new Ay(this.Xg)),this.Lct.rK("THEOplayerPlay",{})},i.Cm=function(){this.mC=!0,this.Qs(new ky(this.Xg)),this.Lct.rK("THEOplayerPause",{})},i.Vm=function(){},i.k_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this._C=0,this.gW=!1,this.$R=void 0,this.tD=void 0,this.mC=!0,this.yC=1,this.ua=void 0,this.eW=yS.fC(),this.D8=yS.fC(),this.oft=void 0,this.aft=void 0,this.mW=ey.Rg,this.AE=ey.Rg,this.mm.k_(),this.ym.k_(),this.zq.k_(),this.pm.k_(),t.next=19,Fr.awrap(this.Wq.k_());case 19:return t.next=21,Fr.awrap(this.eD.k_());case 21:return this.vE.k_(),this.qq.k_(),this.lrt=void 0,t.next=26,Fr.awrap(this.KR.k_());case 26:case"end":return t.stop()}},null,this,null,qe)},i.Lm=function(){this.Lct.rK("THEOplayerShowAirPlayPicker",{})},i.Mm=function(){this.Lct.rK("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.ey.uy=t.uy,this.ey.sy=t.sy},i.Sd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.k_());case 2:return this.$s(),this.unobserveMediaElement(),this.zD(),this.KR.ED=void 0,t.next=8,Fr.awrap(this.KR.xs());case 8:return this.mm.Sd(),this.ym.Sd(),this.zq.Sd(),this.pm.Sd(),t.next=14,Fr.awrap(this.Wq.Sd());case 14:return t.next=16,Fr.awrap(this.eD.Sd());case 16:this.vE.Sd(),this.qq.Sd();case 18:case"end":return t.stop()}},null,this,null,qe)},i.OD=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.eD.wE(i)}},i.vft=function(){var t=this.AE,n=this.mW;t!==n&&(this.AE=n,this.Qs(new My(this.Xg,n)))},i.observeMediaElement=function(){this.KR.Zs(Pf.sf,this.js),this.KR.Zs([Pf.lf,Pf.vf],this.jY),this.Jct.addEventListener("play",this.yft),this.Jct.addEventListener("pause",this.kft),this.Jct.addEventListener("seeking",this.Eft),this.Jct.addEventListener("seeked",this.Sft),this.Jct.addEventListener("ratechange",this.Aft),this.Jct.addEventListener("durationchange",this.dft),this.Jct.addEventListener("timeupdate",this.Ift),this.Jct.addEventListener("waiting",this.Dft),this.Jct.addEventListener("playing",this.bft),this.Jct.addEventListener("ended",this.wft),this.Jct.addEventListener("loadedmetadata",this.mft),this.Jct.addEventListener("loadeddata",this.gft),this.Jct.addEventListener("loadstart",this._ft),this.Jct.addEventListener("canplay",this.fft),this.Jct.addEventListener("canplaythrough",this.lft),this.Jct.addEventListener("error",this.aD),this.Jct.addEventListener("seekablechange",this.Tft),this.Jct.addEventListener("videosizechange",this.Rft),this.Jct.addEventListener("bufferedchange",this.cft),this.Jct.addEventListener("playedchange",this.pft),this.Jct.addEventListener("metricschange",this.Mft),this.Jct.addEventListener("addDateRangeCues",this.Uft)},i.unobserveMediaElement=function(){this.KR.tu(Pf.sf,this.js),this.KR.tu([Pf.lf,Pf.vf],this.jY),this.Jct.removeEventListener("play",this.yft),this.Jct.removeEventListener("pause",this.kft),this.Jct.removeEventListener("seeking",this.Eft),this.Jct.removeEventListener("seeked",this.Sft),this.Jct.removeEventListener("ratechange",this.Aft),this.Jct.removeEventListener("durationchange",this.dft),this.Jct.removeEventListener("timeupdate",this.Ift),this.Jct.removeEventListener("waiting",this.Dft),this.Jct.removeEventListener("playing",this.bft),this.Jct.removeEventListener("ended",this.wft),this.Jct.removeEventListener("loadedmetadata",this.mft),this.Jct.removeEventListener("loadeddata",this.gft),this.Jct.removeEventListener("loadstart",this._ft),this.Jct.removeEventListener("canplay",this.fft),this.Jct.removeEventListener("canplaythrough",this.lft),this.Jct.removeEventListener("error",this.aD),this.Jct.removeEventListener("seekablechange",this.Tft),this.Jct.removeEventListener("videosizechange",this.Rft),this.Jct.removeEventListener("bufferedchange",this.cft),this.Jct.removeEventListener("playedchange",this.pft),this.Jct.removeEventListener("metricschange",this.Mft),this.Jct.removeEventListener("addDateRangeCues",this.Uft)},i.updateCurrentTime=function(t){var n=this.py.start(0),i=this.py.end(0);return g.min(g.max(t,n),i)},i.Oft=function(){for(var t=0,n=this.pm.p_;t<n.length;t++){var i=n[t];if(i.O_===jb.Kb&&i.fs===Ip.ID3)return i}},i.Lft=function(t){for(var n=0,i=this.pm.p_;n<i.length;n++){var e=i[n],r=e.W_===Mm.F_,s=e.O_===t;if(r&&s)return e}},i.DD=function(){this.Jct.addEventListener("addaudiotrack",this.Nft),this.Jct.addEventListener("enableaudiotrack",this.Cft),this.Jct.addEventListener("addvideotrack",this.Pft),this.Jct.addEventListener("addtexttrack",this.PZ),this.Jct.addEventListener("addtexttrackid3cues",this.Bft),this.Jct.addEventListener("addtexttrackcues",this.xft)},i.zD=function(){this.Jct.removeEventListener("addaudiotrack",this.Nft),this.Jct.removeEventListener("enableaudiotrack",this.Cft),this.Jct.removeEventListener("addvideotrack",this.Pft),this.Jct.removeEventListener("addtexttrack",this.PZ),this.Jct.removeEventListener("addtexttrackid3cues",this.Bft),this.Jct.removeEventListener("addtexttrackcues",this.xft)},i.Zm=function(){},T(n,[{key:"Em",get:function(){return this.mm}},{key:"Km",get:function(){return this.D8.qD()}},{key:"Jm",get:function(){return this.uft?this.uft:null},set:function(t){this.Lct.rK("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.uft=t}},{key:"Xg",get:function(){return this._C},set:function(t){this.setCurrentTime(t)}},{key:"Hg",get:function(){return this.ua}},{key:"Fg",get:function(){return this.gW}},{key:"mu",get:function(){return this.$R}},{key:"zg",get:function(){return this.tD}},{key:"Dm",get:function(){}},{key:"iy",get:function(){return this.KR.iy}},{key:"ey",get:function(){return this.tft}},{key:"Vg",get:function(){return this.gC},set:function(t){this.gC!==t&&(this.Lct.rK("THEOplayerSetMuted",t),this.gC=t,this.Qs(new By(this.Xg,t?0:1)))}},{key:"Wg",get:function(){return this.mC}},{key:"Gg",get:function(){return this.yC},set:function(t){this.Lct.rK("THEOplayerSetPlaybackRate",t),this.yC=t}},{key:"gy",get:function(){return this.tY.qD()}},{key:"yy",get:function(){return cS.wN},set:function(t){}},{key:"Y_",get:function(){return this.mW}},{key:"py",get:function(){return this.eW.qD()}},{key:"qg",get:function(){return this.kC}},{key:"QD",get:function(){}},{key:"Rm",get:function(){return this.pm}},{key:"Yg",get:function(){return this.oft}},{key:"jg",get:function(){return this.aft}},{key:"Qg",get:function(){return 1},set:function(t){}},{key:"by",get:function(){return this.oD}},{key:"Im",get:function(){return this.ym}},{key:"ZD",get:function(){return this.uD}},{key:"Ay",get:function(){return!1},set:function(t){}},{key:"_y",get:function(){return!0}}]),n}(Gm),_z=function(){function t(){this.KD=zT.ER}var n=t.prototype;return n.JD=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(oy(n.type))return!1;var e=n.contentProtection;if(e&&!cA(e)){if(!vA(e))return!1;if(!t.wut(e))return!1}return!0},t.wut=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.$D=function(){return!1},t}(),bz=function(){function t(){this.Fft=r.webkit}return t.prototype.rK=function(t,n){this.Fft.messageHandlers[t]&&this.Fft.messageHandlers[t].postMessage(n)},t}(),kz=function(t){function n(n){var i;return(i=t.call(this)||this).Lct=void 0,i.Jct=void 0,i.zft=function(t){var n=Xu(t.detail.initData),e=t.detail.sessionId;i.Qs(new iz(n,e))},i.Vft=function(t){var n=new _(Zu(t.detail.message)),e=t.detail.destinationURL;i.Qs(new ez(n,e))},i.Wft=function(t){i.Qs(new rz)},i.Lct=n,i.Jct=new JV,GV().fairplayController={sdkEventBus:i.Jct},i.Gft(),i}E(n,t);var i=n.prototype;return i.Gft=function(){this.Jct.addEventListener(ZV.Vct,this.zft),this.Jct.addEventListener(ZV.Wct,this.Vft),this.Jct.addEventListener(ZV.Gct,this.Wft)},i.bq=function(t,n){var i={playerId:YV(),data:Ku(n.buffer),sessionId:t};this.Lct.rK("THEOplayerCreateKeySession",i)},i.Zh=function(t,n){var i={playerId:YV(),data:Ku(n.buffer),sessionId:t};this.Lct.rK("THEOplayerUpdateKey",i)},n}(Gm),Az=function(t){var n=this;this.Jct=void 0,this.qft=void 0,this.Yft=function(){n.qft.HZ()},this.jft=function(){n.qft.XZ()},this.Jct=new JV,this.qft=t,this.Jct.addEventListener("showTracks",this.Yft),this.Jct.addEventListener("hideTracks",this.jft),GV().texttracks={sdkEventBus:this.Jct}},Tz=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this).GZ=void 0,o.qZ=void 0,o.Qft=void 0;var a=i.TD(fp.wd);return o.GZ=new ix,o.GZ.Aj(n),o.qZ=new sB(o.GZ.$m,a.NU,o.Rm,u,a.XD),o.Qft=new Az(o.qZ),i.VD(a),we.document.querySelector(".vjs-tech")?we.document.querySelector(".player-div").classList.add("theo-ios-sdk"):we.document.querySelector(".player-div").style.background="transparent",o}E(n,t);var i=n.prototype;return i.Fm=function(){t.prototype.Fm.call(this),this.GZ.Fm()},i.zm=function(){t.prototype.zm.call(this),this.GZ.zm()},i.xm=function(){return!0},i.getSdkBridge=function(){return new bz},i.getFairPlayControllerBridge=function(){return Ez},i.Xft=function(t){return t},i.Sd=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return we.document.querySelector(".vjs-tech")?we.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):we.document.querySelector(".player-div").style.background="#000000",n.next=3,Fr.awrap(t.prototype.Sd.call(this));case 3:this.qZ.Sd(),this.GZ.Sd();case 5:case"end":return n.stop()}},null,this,null,qe)},n}(pz);aS(new(function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.kI=function(t,n,i,e,r,s){return new Tz(t,n,i,e,r,s)},i.JD=function(n,i){if(n.type){var e=wr();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.JD.call(this,n,i)},n}(_z)));var Sz,Ez=new kz(new bz),Iz=function(t){function n(){return t.call(this,"Zft")||this}return E(n,t),n.prototype.qw=function(){return new Rz},n}(rm),Rz=function(t){function n(){return t.call(this,"statechange")||this}return E(n,t),n}(Iu);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(Sz||(Sz={}));var Cz=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Kft=new Gm,n.js=function(t){n.Qs(t)},n}E(n,t);var i=n.prototype;return i.qw=function(){return n=function(t){var n=t.Jft.map(function(t){return t.Gw});return n.item=function(n){n|=0;var i=t.__(n);return i&&i.Gw||void 0},n}(t=this),i=new RR(t,n),n.addEventListener=function(t,n){i.Zs(t,n)},n.removeEventListener=function(t,n){i.tu(t,n)},n;var t,n,i},i.Zs=function(t,n){this.Kft.Zs(t,n)},i.Js=function(t){this.Kft.Js(t)},i.$s=function(){this.Kft.$s()},i.Qs=function(t){this.Kft.Qs(t)},i.tu=function(t,n){this.Kft.tu(t,n)},i.uu=function(t){this.Kft.uu(t)},i.ou=function(t){this.Kft.ou(t)},i.au=function(t,n){return this.Kft.au(t,n)},n}(function(){function t(){this.Su=[],this.Ww=void 0}var n=t.prototype;return n.__=function(t){return this.Su[t]},n.Sy=function(t){this.Su.push(t),this.Ww&&this.Ww.push(t.Gw),this.$ft(t)},n.tvt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Sy(i)}},n.nvt=function(t,n){n>=0&&n<=this.Su.length&&(this.Su.splice(n,0,t),this.Ww&&this.Ww.splice(n,0,t.Gw),this.$ft(t))},n.Ey=function(t){return Qs(this.Su,t)},n.Qh=function(t){this.ivt(this.Su.indexOf(t))},n.ivt=function(t){if(t>=0&&t<this.Su.length){var n=this.Su[t];Ys(this.Su,t),this.Ww&&Ys(this.Ww,t),this.evt(n)}},n.Nu=function(){var t=this.Su.slice();Ks(this.Su),this.Ww&&Ks(this.Ww);for(var n=0;n<t.length;n++){var i=t[n];this.evt(i)}},T(t,[{key:"Jft",get:function(){return this.Su}},{key:"b_",get:function(){return this.Su.length}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}}]),t}());var Dz,Nz=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return E(n,t),n}(Iu),Pz=function(t){function n(n){var i;return(i=t.call(this,"svt")||this).rvt=n,i}return E(n,t),n.prototype.qw=function(){return new Nz(this.rvt.Gw)},n}(rm),xz=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return E(n,t),n}(Iu),Bz=function(t){function n(n){var i;return(i=t.call(this,"uvt")||this).task=n,i}return E(n,t),n.prototype.qw=function(){return new xz(this.task.Gw)},n}(rm),Oz=function(t){function n(){return t.call(this)||this}E(n,t);var i=n.prototype;return i.$ft=function(t){this.Qs(new Pz(t))},i.evt=function(t){this.Qs(new Bz(t))},n}(Cz);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(Dz||(Dz={}));var Lz=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).ovt=Dz.UNINITIALISED,r.GU=new Oz,r.Uht=void 0,r.avt=void 0,r.cvt=void 0,r.cvt=i,r.avt=e,r.Uht=n,r.Um(),r}E(n,t);var i=n.prototype;return i.Um=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.fvt());case 2:this.vvt(Dz.INITIALISED);case 3:case"end":return t.stop()}},null,this,null,qe)},i.fvt=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fr.awrap(this.lvt());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},null,this,[[0,5]],qe)},i.lvt=function(){var t,n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.Uht.wat());case 2:for(t=r.sent,n=0;n<t.length;n++)i=t[n],e=this.cvt.dvt(i.id,i.sourceDescription,i.parameters,this.avt),this.wvt(e),this.GU.Sy(e);case 4:case"end":return r.stop()}},null,this,null,qe)},i.vvt=function(t){this.ovt=t,this.Qs(new Iz)},i.dvt=function(t,n,i){void 0===i&&(i="persistent");var e=this.cvt._vt(t,n,i);return this.gvt(e,i),this.GU.Sy(e),this.wvt(e),e},i.gvt=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(this.mvt(t,n));case 3:i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(0),l("Unable to persist task - "+i.t0);case 8:case"end":return i.stop()}},null,this,[[0,5]],qe)},i.mvt=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.Uht.fat({key:t.P_,id:t.P_,sourceDescription:t.cN,parameters:t.wc},n));case 2:case"end":return i.stop()}},null,this,null,qe)},i.wvt=function(t){var n=this;t.Zs("Zft",function(){t.zl===Sz.EVICTED&&n.GU.Qh(t)})},T(n,[{key:"zl",get:function(){return this.ovt}},{key:"yvt",get:function(){return this.GU}}]),n}(Su);function Mz(t,n){return function(t,n){var i=t.Tk&&n.Tk,e=t.sT&&n.sT;return i||e?i&&e?t.Tk*t.sT-n.Tk*n.sT:i?t.Tk-n.Tk:e?t.sT-n.sT:(t.Tk||1)*(t.sT||1)-(n.Tk||1)*(n.sT||1):0}(t,n)||function(t,n){return t.NR-n.NR}(t,n)}var jz=function(t){function n(){return t.call(this,"progress")||this}return E(n,t),n}(Iu),Fz=function(t){function n(){return t.call(this,"kvt")||this}return E(n,t),n.prototype.qw=function(){return new jz},n}(rm),Uz=function(){function t(t,n,i){if(this.pvt=void 0,this.bvt=t,this.Ty=n,this.Avt=i,0===this.Ty.size)this.pvt=yS.fC();else{var e=new yS([-1/0,1/0]);this.Ty.forEach(function(t){e=e.FN(t.timeRanges)}),this.pvt=e}}return t.prototype.lk=function(t){return!!km(this.Ty,t.Ty)&&(!!Xt(this.bvt,t.bvt)&&(!!Xt(this.oC,t.oC)&&(!!Xt(this.Tvt,t.Tvt)&&this.Svt.nC(t.Svt))))},t.Evt=function(){return Xz},T(t,[{key:"oC",get:function(){return this.Avt}},{key:"Ivt",get:function(){return this.bvt}},{key:"Tvt",get:function(){return this.Svt.oC}},{key:"Rvt",get:function(){var t=0,n=0;return this.Ty.forEach(function(i){t+=i.timeRanges.oC,n+=i.totalQualityDurationToCache}),0===n?0:g.min(1,t/n)}},{key:"Svt",get:function(){return this.pvt}}]),t}(),Hz=Xr(),Xz=new Uz(0,Hz,NaN);function Vz(t,n){if(G(t)){if(ks(t,"%"))return y(t)/100*n;throw new l("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var zz,Wz=function(t){function n(n,i){return t.call(this,n,i)||this}return E(n,t),T(n,[{key:"name",get:function(){return"Dvt"}}]),n}(nn);function qz(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Nvt;r<s.length;r++)u=s[r],e.push(Gz(u,n,i));return a.next=4,Fr.awrap(qe.all(e));case 4:return o=a.sent,a.abrupt("return",{Hg:t.Pvt.Cvt(),Bvt:[t.Ovt],Nvt:o});case 6:case"end":return a.stop()}},null,null,null,qe)}function Gz(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.xvt;r<s.length;r++)u=s[r],e.push($z(u,n,i));return a.next=4,Fr.awrap(qe.all(e));case 4:return o=a.sent,a.abrupt("return",{Lvt:o});case 6:case"end":return a.stop()}},null,null,null,qe)}function $z(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Mvt;r<s.length;r++)Yz(u=s[r])||e.push(Jz(u,n,i));return a.next=4,Fr.awrap(qe.all(e));case 4:return o=a.sent,a.abrupt("return",{VA:o,fs:t.fs});case 6:case"end":return a.stop()}},null,null,null,qe)}function Yz(t){return t.q0.every(Kz)}!function(t){t[t.gg=0]="gg",t[t.yg=1]="yg"}(zz||(zz={}));var Qz,Zz=1;function Kz(t){return t.Uvt!==Zz&&Boolean(t.Uvt)}function Jz(t,n,i){var e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:for(e=[],r=0,s=t.q0;r<s.length;r++)Kz(u=s[r])||e.push(nW(u,i));return l.next=4,Fr.awrap(qe.all(e));case 4:return o=l.sent,a=t.HF[0],h=t.G0,c=h?tW(a,h):void 0,f=MO(t,n),l.abrupt("return",{M_:o,L_:t.Zet,fs:t.fs,ND:c,Xvt:f});case 10:case"end":return l.stop()}},null,null,null,qe)}function tW(t,n){for(var i=[],e=function(t){return t?ks(t,"avc")?Uc.VIDEO_H264:ks(t,"hev")||ks(t,"hvc")||ks(t,"hvt")||ks(t,"lhv")||ks(t,"lhe")||ks(t,"lht")?Uc.VIDEO_H265:ks(t,"mp4")?Uc.VIDEO_MP4:ks(t,"mpeg2")?Uc.VIDEO_MPEG2:ks(t,"mpeg")?Uc.VIDEO_MPEG:Uc.VIDEO_UNKNOWN:Uc.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.U0.split(":").pop(),o=s.X0;i.push({mimeType:e,uuid:u,data:o})}return{type:zz.gg,schemeType:ts,schemeDatas:i}}function nW(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Fr.awrap(iW(t,n));case 2:r=u.sent,s={P_:rW(t),WS:r,NR:t.NR,$e:t.$e,sT:t.sT,fs:t.fs,Tk:t.Tk},u.t0=t.fs,u.next=u.t0===fp.$n?7:u.t0===fp.wd?8:u.t0===fp.dd?10:12;break;case 7:return u.abrupt("break",13);case 8:return s.QK=null!=(i=null==(e=t.QK)?void 0:e.Ek())?i:NaN,u.abrupt("break",13);case 10:return s.audioSamplingRate=t.JK,u.abrupt("break",13);case 12:0;case 13:return u.abrupt("return",s);case 14:case"end":return u.stop()}},null,null,null,qe)}function iW(t,n){var i,e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=t.Hvt,t.bht&&i.push({Vy:0,Hg:0,Fvt:t.bht}),r=e.zvt(),s=r;case 5:if(!s){c.next=17;break}if(!t.Vvt(s)){c.next=13;break}return c.next=9,Fr.awrap(t.Wvt(s,n,(new au).Ws));case 9:for(u=c.sent,o=0;o<u.b_;o++)i.push(eW(u.Gvt(o),t));c.next=14;break;case 13:i.push(eW(s,t));case 14:s=e.qvt(s),c.next=5;break;case 17:return a=e.Yvt(),h=a.Wy-r.Vy,c.abrupt("return",{Hg:h,$K:i});case 20:case"end":return c.stop()}},null,null,null,qe)}function eW(t,n){return{Vy:t.Vy,Hg:t.Hg,Fvt:n.jvt(t)}}function rW(t){return t.Qvt.RN+"-"+(""+t.P_)}function sW(t,n){return function(t,n){for(var i={},e=0;e<OB.length;e++){var r=OB[e],s=t[r],u={};for(var o in s){for(var a=[],h=s[o],c=0;c<h.length;c++){var f=h[c],l=uW(f,r,n);a.push(l)}u[o]=a}i[r]=u}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var e=t[i];n[e.qJ]||(n[e.qJ]={fs:e.fs,JA:[]}),n[e.qJ].JA.push(e)}return n}(t),i={};for(var e in n)for(var r=n[e],s=0,u=r.JA;s<u.length;s++){var o,a,h=u[s],c=null!=(a=i[o=r.fs])?a:i[o]={};c[h.wi]||(c[h.wi]=[]),c[h.wi].push(h)}return i}(t),n)}function uW(t,n,i){for(var e=t.qJ,r={v$:t,U$:[]},s=0;s<i.length;s++){var u=i[s];VL(n,e,u)&&r.U$.push(u)}return r}function oW(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(n.xht([t],{}));case 2:return i=e.sent,e.abrupt("return",_L(i.jl,{},i.Pht));case 4:case"end":return e.stop()}},null,null,null,qe)}function aW(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!DB(t)){i.next=4;break}return i.abrupt("return",hW(t,n));case 4:return i.abrupt("return",(r=void 0,{Hg:(r=yW(e=t)).Hg,Bvt:[e.QJ],Nvt:[{Lvt:[{fs:fp.Kl,VA:[{fs:fp.Kl,L_:lj,M_:[{P_:e.QJ,WS:r,NR:0,$e:"",sT:0,fs:fp.Kl,Tk:0}]}]}]}]}));case 5:case"end":return i.stop()}var e,r},null,null,null,qe)}function hW(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=sW(t.JA,t.B1),s.next=3,Fr.awrap(lW(i,n));case 3:return e=s.sent,s.next=6,Fr.awrap(fW(t.B1,n));case 6:return r=s.sent,e.push(r),s.abrupt("return",{Hg:cW(e),Bvt:[t.QJ],Nvt:[{Lvt:e}]});case 9:case"end":return s.stop()}},null,null,null,qe)}function cW(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].VA;e<r.length;e++){var s=r[e];n=g.max.apply(g,[n].concat(s.M_.map(function(t){return t.WS.Hg})))}return n}function fW(t,n){var i,e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=0;case 2:if(!(e<t.length)){c.next=15;break}return a=t[e],c.next=6,Fr.awrap(mW(a.QJ,n));case 6:(h=c.sent).NR=a.NR,h.$e=a.HF?[(f=a.HF).XF,f.UF,f.FF].filter(H).join(","):"",h.sT=null!=(r=null==(s=a.S$)?void 0:s.sT)?r:0,h.Tk=null!=(u=null==(o=a.S$)?void 0:o.Tk)?u:0,i.push(h);case 12:e++,c.next=2;break;case 15:return c.abrupt("return",{fs:fp.Kl,VA:[{L_:lj,fs:fp.Kl,M_:i}]});case 16:case"end":return c.stop()}var f},null,null,null,qe)}function lW(t,n){var i,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=0;case 2:if(!(e<OB.length)){o.next=13;break}if(r=OB[e],!(s=t[r])){o.next=10;break}return o.next=8,Fr.awrap(vW(s,r,n));case 8:u=o.sent,i.push(u);case 10:e++,o.next=2;break;case 13:return o.abrupt("return",i);case 14:case"end":return o.stop()}},null,null,null,qe)}function vW(t,n,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=[],o.t0=Fr.keys(t);case 2:if((o.t1=o.t0()).done){o.next=11;break}return r=o.t1.value,s=t[r],o.next=7,Fr.awrap(dW(s,i));case 7:u=o.sent,e.push(u),o.next=2;break;case 11:return o.abrupt("return",{fs:wW(n),VA:e});case 12:case"end":return o.stop()}},null,null,null,qe)}function dW(t,n){var i,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=t[0].v$,r=0;case 3:if(!(r<t.length)){o.next=12;break}return s=t[r],o.next=7,Fr.awrap(gW(s,n));case 7:u=o.sent,i.push(u);case 9:r++,o.next=3;break;case 12:return o.abrupt("return",{L_:e.L_||lj,fs:wW(e.fs),M_:i});case 13:case"end":return o.stop()}},null,null,null,qe)}function wW(t){switch(t){case EB.dd:return fp.dd;case EB.wd:return fp.wd;case EB.Qb:case EB.TJ:return fp.$n;default:return fp.Kl}}function gW(t,n){var i,e,r;return mW((e=(i=t).v$.QJ,r=i.U$.map(function(t){return t.QJ}),e||(r.length?r[0]:void 0)),n)}function mW(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i={Hg:0,$K:[]},!t){r.next=6;break}return r.next=4,Fr.awrap(oW(t,n));case 4:NB(e=r.sent)&&(i=yW(e));case 6:return r.abrupt("return",{P_:t||"default",Zvt:t,WS:i,NR:0,$e:"",sT:0,fs:fp.Kl,Tk:0});case 7:case"end":return r.stop()}},null,null,null,qe)}function yW(t){for(var n,i=[],e=0,r=0,s=t.$K;r<s.length;r++){var u=s[r],o=e;!u.U1||void 0!==n&&jB(u.U1.QJ,n)||(i.push(pW(u.U1,o)),n=u.U1.QJ),i.push(_W(u,o)),e+=u.Hg}return{Hg:e,$K:i}}function pW(t,n){return{Vy:n,Hg:0,Fvt:bW(t.QJ)}}function _W(t,n){return{Vy:n,Hg:t.Hg,Fvt:bW(t.QJ)}}function bW(t){return{Ql:t.Ai,dht:t.SJ?[t.SJ.RN,t.SJ.RN+t.SJ.b_]:void 0,bd:!1}}!function(t){t.pE="static",t.bE="dynamic"}(Qz||(Qz={}));var kW,AW=31536e3,TW=2592e3,SW=86400,EW=3600,IW=60,RW=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,CW=function(){function t(t){this.Kvt=void 0;var n=t.match(RW);if(!n)throw new l("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,e=Number(n[2])||0,r=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.Kvt=i*AW+e*TW+r*SW+s*EW+u*IW+o}var n=t.prototype;return n.Cvt=function(){return this.Kvt},n.Jvt=function(){return 1e3*this.Kvt},T(t,[{key:"K7",get:function(){return f_.Np(this.Kvt,1e3)}}]),t}();!function(t){t.$vt="progressive",t.tlt="interlaced",t.Kl="unknown"}(kW||(kW={}));var DW=function(){function t(t,n){this.nlt=t,this.ilt=n}return t.prototype.Ek=function(){return this.nlt/this.ilt},t}(),NW=/^(?:true|false)$/i,PW=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function xW(t){if(void 0!==t)return new CW(t)}function BW(t){if(void 0!==t){var n=t.match(PW);if(!n)throw new l("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],a=n[7],h=n[8],c=n[9],f=n[10],v=n[11],d=("-"===i?-1:1)*Number(e),w=Number(r)-1,m=Number(s),y=Number(u),_=Number(o),b=Number(a),k=Number("0."+(h||"")),A=g.round(1e3*k);if(c)_-=("-"===c?-1:1)*(60*Number(f)+Number(v));var T=new Date(Date.UTC(d,w,m,y,_,b,A));if(p(T.getTime()))throw new l("The given value could not be parsed as a valid Date");return T}}function OW(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[MW(n[1]),MW(n[2])]}}function LW(t){if(void 0!==t){if(!p(Number(t)))try{return vt.fromString(t,!0)}catch(t){}throw new l("The given value could not be parsed as a valid unsigned long")}}function MW(t){if(void 0!==t){var n=Number(t);if(!p(n))return n;throw new l("The given value could not be parsed as a valid Number")}}function jW(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!p(i)&&!p(e))return new DW(i,e);throw new l("The given value could not be parsed as a valid frame rate")}}function FW(t){if(void 0!==t){if(NW.test(t))return"true"===t.toLowerCase();if(!p(m(t)))return Boolean(m(t));throw new l("The given value could not be parsed as a valid Boolean.")}}function UW(t){return{Ql:t.Hi,elt:FW(t.Bi("availabilityTimeComplete")),rlt:MW(t.Bi("availabilityTimeOffset"))}}function HW(t){return t.map(UW)}function XW(t){var n,i,e,r,s,u,o=JW(t),a=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).Oi(e,i))&&(s=n.Bi(r+":"+i)),s),h=yb(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==h&&(u=Zu(h.Hi)),!u){var c=yb(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=Xu(t.Hi),i=new _([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new _(s),o=new DataView(s),a=new Jo;Ao(o,a,r),Ao(o,a,1886614376),Ao(o,a,0),mo(o,a,i),Ao(o,a,e),mo(o,a,n),0;return u.buffer}(c))}return{FE:a,X0:u,U0:o.U0,Ai:o.Ai}}function VW(t){return{slt:t.Bi("sourceURL"),dht:OW(t.Bi("range"))}}function zW(t,n){var i=t.Bi("d"),e=t.Bi("t"),r=MW(t.Bi("r"));n.push({Hg:i,Vy:e,ult:r})}function WW(t){return{olt:t.Bi("index"),hlt:OW(t.Bi("indexRange")),JA:t.Bi("media"),clt:OW(t.Bi("mediaRange"))}}function qW(t){var n,i;return Ur({},YW(t),{flt:(n=t.Ei("SegmentURL"),(i=n.map(WW)).length>0?i:void 0),vlt:t.Bi("xlink:href"),llt:t.Bi("xlink:actuate")})}function GW(t){var n=t.map(qW);return n.length>0?n:void 0}function $W(t){var n=FW(t.Bi("availabilityTimeComplete")),i=MW(t.Bi("availabilityTimeOffset")),e=OW(t.Bi("indexRange")),r=FW(t.Bi("indexRangeExact")),s=t.Ei("Initialization");if(s.length>1)throw new l("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one Initialization element.");var u=1===s.length?VW(s[0]):void 0,o=LW(t.Bi("presentationTimeOffset")),a=t.Ei("RepresentationIndex");if(a.length>1)throw new l("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one RepresentationIndex element.");return{elt:n,rlt:i,hlt:e,dlt:r,wlt:u,_lt:o,glt:1===a.length?VW(a[0]):void 0,ylt:xW(t.Bi("timeShiftBufferDepth")),yp:MW(t.Bi("timescale"))}}function YW(t){var n=$W(t),i=t.Ei("BitstreamSwitching"),e=i.length>0?VW(i[0]):void 0,r=MW(t.Bi("duration")),s=t.Ei("SegmentTimeline");if(s.length>1)throw new l("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one SegmentTimeline element.");return Ur({},n,{klt:e,Hg:r,Hvt:1===s.length?function(t){for(var n=[],i=t.Ei("S"),e=0;e<i.length;e++)zW(i[e],n);return n}(s[0]):void 0,plt:MW(t.Bi("startNumber")),blt:MW(t.Bi("endNumber"))})}function QW(t){return Ur({},YW(t),{Alt:t.Bi("bitstreamSwitching"),Tlt:t.Bi("index"),Slt:t.Bi("initialization"),Elt:t.Bi("media")})}function ZW(t){return{JK:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(MW)):1===n.length?n.map(MW)[0]:void 0}}(t.Bi("audioSamplingRate")),HF:t.Bi("codecs"),Ilt:FW(t.Bi("codingDependency")),G0:function(t){if(0!==t.length)return t.map(XW)}(t.Ei("ContentProtection")),Rlt:t.Ei("EssentialProperty").map(tq),QK:jW(t.Bi("frameRate")),sT:MW(t.Bi("height")),Uvt:MW(t.Bi("maxPlayoutRate")),Dlt:MW(t.Bi("maximumSAPPeriod")),YB:t.Bi("mimeType"),Nlt:t.Bi("profiles"),Clt:t.Bi("sar"),Plt:function(t){switch(t){case kW.$vt:case kW.tlt:case kW.Kl:return t;default:return}}(t.Bi("scanType")),Blt:t.Bi("segmentProfiles"),Olt:MW(t.Bi("startWithSAP")),Tk:MW(t.Bi("width"))}}function KW(t){var n=ZW(t),i=MW(t.Bi("bandwidth")),e=HW(t.Ei("BaseURL")),r=t.Bi("dependencyId"),s=t.Bi("id"),u=t.Bi("mediaStreamStructureId"),o=MW(t.Bi("qualityRanking")),a=t.Ei("SegmentBase");if(a.length>1)throw new l("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var h=1===a.length?$W(a[0]):void 0,c=GW(t.Ei("SegmentList")),f=t.Ei("SegmentTemplate");if(f.length>1)throw new l("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return Ur({},n,{NR:i,xlt:e,Llt:r,P_:s,Mlt:u,Ult:o,Xlt:h,Hlt:c,Flt:1===f.length?QW(f[0]):void 0})}function JW(t){return{U0:t.Bi("schemeIdUri"),Ai:t.Bi("value")}}function tq(t){return JW(t)}function nq(t){return JW(t)}function iq(t){return JW(t)}function eq(t){var n,i=ZW(t),e=function(t){return t.map(iq)}(t.Ei("Accessibility")),r=HW(t.Ei("BaseURL")),s=FW(t.Bi("bitstreamSwitching")),u=t.Bi("contentType"),o=MW(t.Bi("group")),a=MW(t.Bi("id")),h=(null==(n=t.Ei("Label")[0])?void 0:n.Hi)||"",c=t.Bi("lang"),f=MW(t.Bi("maxBandwidth")),v=jW(t.Bi("maxFrameRate")),d=MW(t.Bi("maxHeight")),w=MW(t.Bi("maxWidth")),g=MW(t.Bi("minBandwidth")),m=jW(t.Bi("minFrameRate")),y=MW(t.Bi("minHeight")),p=MW(t.Bi("minWidth")),_=t.Bi("par"),b=t.Ei("Representation").map(KW);if(0===b.length)throw new l("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k=function(t){return t.map(nq)}(t.Ei("Role")),A=FW(t.Bi("segmentAlignment"))||!1,T=t.Ei("SegmentBase");if(T.length>1)throw new l("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?$W(T[0]):void 0,E=GW(t.Ei("SegmentList")),I=t.Ei("SegmentTemplate");if(I.length>1)throw new l("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var R,C=1===I.length?QW(I[0]):void 0,D=MW(t.Bi("selectionPriority")),N=D||1,P=FW(t.Bi("subsegmentAlignment"))||!1;try{R=MW(t.Bi("subsegmentStartsWithSAP"))}catch(t){}return Ur({},i,{zlt:e,xlt:r,klt:s,Nl:u,Vlt:o,P_:a,x_:h,L_:c,Wlt:f,Glt:v,qlt:d,Ylt:w,jlt:g,Qlt:m,Zlt:y,Klt:p,Jlt:_,q0:b,$lt:k,tdt:A,Xlt:S,Hlt:E,Flt:C,KD:N,ndt:P,idt:R,edt:t.Bi("xlink:actuate")||"onRequest",rdt:t.Bi("xlink:href")})}function rq(t){var n=LW(t.Bi("presentationTime"))||vt.ZERO,i=LW(t.Bi("duration")),e=MW(t.Bi("id")),r=function(t){for(var n=t.Xi,i={},e=0;e<n.length;e++)i[n[e].wi]=n[e].Ai;return i}(t),s=t.Hi;return{SS:n,Hg:i,P_:e,Xi:r,Fi:""!==s.trim()?s:t.Bi("messageData")||""}}function sq(t){return{rdt:t.Bi("xlink:href"),edt:t.Bi("xlink:actuate"),U0:t.Bi("schemeIdUri"),Ai:t.Bi("value"),yp:MW(t.Bi("timescale")),_lt:LW(t.Bi("presentationTimeOffset")),jB:t.Ei("Event").map(rq)}}function uq(t,n){var i=t.Ei("AssetIdentifier");if(i.length>1)throw new l("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var e=1===i.length?JW(i[0]):void 0,r=t.Ei("AdaptationSet").map(eq),s=HW(t.Ei("BaseURL")),u=FW(t.Bi("bitstreamSwitching")),o=xW(t.Bi("duration")),a=t.Ei("EventStream").map(sq),h=t.Bi("id"),c=n&&xW(n.Bi("start")),f=t.Ei("SegmentBase");if(f.length>1)throw new l("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var v=1===f.length?$W(f[0]):void 0,d=GW(t.Ei("SegmentBase")),w=t.Ei("SegmentTemplate");if(w.length>1)throw new l("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===w.length?QW(w[0]):void 0,m=xW(t.Bi("start"));t.Ei("Subset");var y=t.Bi("xlink:href");return{Mvt:r,sdt:e,xlt:s,klt:u,Hg:o,udt:a,P_:h,odt:c,Xlt:v,Hlt:d,Flt:g,RN:m,edt:t.Bi("xlink:actuate"),rdt:y}}function oq(t){var n=t.Bi("schemeIdUri");if(n)return{U0:n,Ai:t.Bi("value")}}function aq(t,n){var i=BW(t.Bi("availabilityEndTime")),e=BW(t.Bi("availabilityStartTime")),r=HW(t.Ei("BaseURL")),s=t.Bi("id"),u=t.Ei("Location").map(function(t){return""+t.Hi}),o=xW(t.Bi("maxSegmentDuration")),a=xW(t.Bi("maxSubsegmentDuration")),h=xW(t.Bi("mediaPresentationDuration"));t.Ei("Metrics");var c=xW(t.Bi("minBufferTime"));if(!c)throw new l("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=xW(t.Bi("minimumUpdatePeriod")),v=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(uq(t[i],t[i+1]));return n}(t.Ei("Period"));if(!v.length)throw new l("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.Bi("profiles");if(!d)throw new l("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{adt:i,hdt:e,xlt:r,P_:s,cdt:u,fdt:n,vdt:o,ldt:a,Pvt:h,ddt:c,wdt:f,Nvt:v,Nlt:d,_dt:BW(t.Bi("publishTime")),gdt:xW(t.Bi("suggestedPresentationDelay")),ylt:xW(t.Bi("timeShiftBufferDepth")),fs:function(t){switch(t){case Qz.pE:case Qz.bE:return t;default:return}}(t.Bi("type")),mdt:function(t){for(var n=[],i=0;i<t.length;i++){var e=oq(t[i]);e&&n.push(e)}return n}(t.Ei("UTCTiming"))}}var hq,cq=function(){function t(){}return t.prototype.Tct=function(t,n){return function(t,n){if(!t)throw new l("The provided MPEG-DASH document does not contain a valid MPD root element.");return aq(t,n)}(i.ui(t).zi,n)},t}(),fq=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return E(n,t),n}(Iu),lq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).B_=void 0,u.Ry=void 0,u.ydt=void 0,u.P_=n,u.NR=i,u.HF=e,u.QJ=s,u.B_=_p(),u.Ry=r||"",u.ydt=!0,u}return E(n,t),n.prototype.hE=function(){this.ydt=!1,this.Qs(new fq(this.Gw))},T(n,[{key:"x_",get:function(){return this.Ry},set:function(t){this.Ry!==t&&(this.Ry=t,this.Qs(new fq(this.Gw)))}},{key:"jK",get:function(){}},{key:"KK",get:function(){return this.ydt}}]),n}(Su),vq=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return void 0===h&&(h=0),(c=t.call(this,n,i,e,r,s)||this).Ww=void 0,c.QK=u,c.Tk=o,c.sT=a,c.ZK=h,c}return E(n,t),T(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=IB(this)),this.Ww}}]),n}(lq),dq=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).Ww=void 0,o.JK=u,o}return E(n,t),T(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=RB(this)),this.Ww}}]),n}(lq);!function(t){t.kdt="pdt",t.bdt="Adt"}(hq||(hq={}));var wq=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Tdt=function(t){n.Qs(t)},n}return E(n,t),T(n,[{key:"Sdt",get:function(){var t=this.Edt();return null==t?void 0:t.RN}},{key:"Idt",get:function(){var t=this.Edt();return null==t?void 0:t.NN}}]),n}(Su);function gq(t){return Z(t.Rdt)}var mq=function(t){function n(n,i){var e;if((e=t.call(this)||this).Ddt=void 0,e.Ww=void 0,e.R4=void 0,e.Ndt=void 0,e.Cdt=void 0,e.Ddt=n,e.R4=i,e.R4.Zs(hq.kdt,e.Tdt),e.fs===fp.wd){var r,s,u=null!=(r=null==(s=e.QK)?void 0:s.Ek())?r:NaN;e.Ndt=new vq(e.P_,e.NR,e.$e,"","",u,e.Tk,e.sT)}else e.fs===fp.dd?e.Ndt=new dq(e.P_,e.NR,e.$e,"","",e.JK):e.Ndt=void 0;return e}E(n,t);var i=n.prototype;return i.jvt=function(t){var n=gq(t)?this.R4.Pdt(t):this.R4.jvt(t);return{Ql:n.Ql,dht:n.dht,bd:this.Bdt.bd}},i.Odt=function(){return this.R4.Odt()},i.Edt=function(){return this.R4.Edt()},i.xdt=function(){return this.R4.xdt()},i.Vvt=function(t){return this.R4.Vvt(t)},i.Wvt=function(t,n,i){return this.R4.Wvt(t,this.Bdt.bd,n,i)},i.Ldt=function(t){return gq(t)?this.Hvt.Mdt(t):this.Hvt.Ldt(t)},i.Udt=function(t){return gq(t)?this.Hvt.Xdt(t):this.Hvt.Udt(t)},i.Sd=function(){this.R4.tu(hq.kdt,this.Tdt)},T(n,[{key:"Hdt",get:function(){return this.Ddt}},{key:"JK",get:function(){var t;return null!=(t=this.R4.Fi.JK)?t:this.Hdt.JK}},{key:"NR",get:function(){return this.R4.Fi.NR||0}},{key:"HF",get:function(){var t=this.R4.Fi;return t.HF?[t.HF]:this.Hdt.HF}},{key:"Fdt",get:function(){var t=this.R4.Fi;return t.HF?[t.HF]:[]}},{key:"$e",get:function(){return this.R4.Fi.HF||this.Hdt.$e}},{key:"Ilt",get:function(){return this.R4.Fi.Ilt||this.Hdt.Ilt}},{key:"G0",get:function(){return this.R4.Fi.G0||this.Hdt.G0}},{key:"Nl",get:function(){return this.YB+'; codecs="'+this.$e+'"'}},{key:"Rlt",get:function(){var t=this.R4.Fi;return t.Rlt.length?t.Rlt:this.Hdt.Rlt}},{key:"Gw",get:function(){return this.Ww||(this.Ww=(t=this,{get id(){return t.P_},get type(){return t.fs},get bandwidth(){return t.NR},get width(){return t.Tk},get height(){return t.sT},get frameRate(){var n,i;return null!=(n=null==(i=t.QK)?void 0:i.Ek())?n:NaN},get audioSamplingRate(){return t.JK}}));var t}},{key:"QK",get:function(){var t;return null!=(t=this.R4.Fi.QK)?t:this.Hdt.QK}},{key:"sT",get:function(){return this.R4.Fi.sT||this.Hdt.sT}},{key:"P_",get:function(){return this.R4.Fi.P_||""}},{key:"zdt",get:function(){return this.Cdt},set:function(t){this.Cdt=t}},{key:"bht",get:function(){var t=this.R4.Vdt();if(t)return{Ql:t.Ql,dht:t.dht,bd:this.Bdt.bd}}},{key:"Uvt",get:function(){return this.R4.Fi.Uvt||this.Hdt.Uvt||1}},{key:"Dlt",get:function(){return this.R4.Fi.Dlt||this.Hdt.Dlt}},{key:"Bdt",get:function(){return this.Qvt.Bdt}},{key:"YB",get:function(){return this.R4.Fi.YB||this.Hdt.YB}},{key:"Qvt",get:function(){return this.Hdt.Qvt}},{key:"Nlt",get:function(){return this.R4.Fi.Nlt||this.Hdt.Nlt}},{key:"e$",get:function(){return this.Ndt}},{key:"Clt",get:function(){return this.R4.Fi.Clt||this.Hdt.Clt}},{key:"Plt",get:function(){return this.R4.Fi.Plt||this.Hdt.Plt}},{key:"Wdt",get:function(){return this.R4.Wdt}},{key:"Blt",get:function(){return this.R4.Fi.Blt||this.Hdt.Blt}},{key:"Hvt",get:function(){return this.R4.Hvt}},{key:"Olt",get:function(){return this.R4.Fi.Olt||this.Hdt.Olt}},{key:"fs",get:function(){var t=this.YB.split("/")[0];return"application"===t||"text"===t||Qb(this.YB,this.HF)?fp.$n:"video"===t?fp.wd:"audio"===t?fp.dd:"image"===t?fp._d:fp.Kl}},{key:"Tk",get:function(){return this.R4.Fi.Tk||this.Hdt.Tk}}]),n}(wq),yq=function(t){function n(n,i){var e;return(e=t.call(this)||this).Gdt=[],e.R4=void 0,e.qdt=void 0,e.Ydt=[],e.qdt=n,e.R4=i,e.R4.Zs(hq.kdt,e.Tdt),e}E(n,t);var i=n.prototype;return i.Zh=function(t,n){var i,e=this;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==this.Ydt.length){r.next=6;break}return this.Ydt=[],i=this.R4.q0.map(function(i){return e.jdt(i,t,n)}),r.next=5,Fr.awrap(qe.all(i));case 5:this.Ydt=r.sent.filter(H);case 6:this.Qdt();case 7:case"end":return r.stop()}},null,this,null,qe)},i.jdt=function(t,n,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=new mq(this,t),s.next=3,Fr.awrap(n(e));case 3:if(r=s.sent,fu(i),r){s.next=7;break}return s.abrupt("return",void 0);case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}},null,this,null,qe)},i.Qdt=function(){if(!this.Ydt.length)throw new l("Detected an AdaptationSet without any supported Representations.")},i.Edt=function(){return this.R4.Edt()},i.xdt=function(){return this.R4.xdt()},i.Sd=function(){this.R4.tu(hq.kdt,this.Tdt);for(var t=0,n=this.Ydt;t<n.length;t++){n[t].Sd()}Ks(this.Ydt)},T(n,[{key:"zlt",get:function(){return this.R4.Fi.zlt}},{key:"JK",get:function(){var t;return null!=(t=this.R4.Fi.JK)?t:-1}},{key:"HF",get:function(){if(this.R4.Fi.HF)return[this.R4.Fi.HF];for(var t=[],n=0,i=this.q0;n<i.length;n++){var e=i[n];e.Fdt.length&&-1===t.indexOf(e.$e)&&t.push(e.$e)}return t}},{key:"$e",get:function(){return this.HF.join()}},{key:"Ilt",get:function(){return this.R4.Fi.Ilt}},{key:"G0",get:function(){return this.R4.Fi.G0}},{key:"Nl",get:function(){return this.YB+'; codecs="'+this.$e+'"'}},{key:"Rlt",get:function(){return this.Gdt}},{key:"QK",get:function(){return this.R4.Fi.QK}},{key:"Vlt",get:function(){return this.R4.Fi.Vlt}},{key:"sT",get:function(){return this.R4.Fi.sT||0}},{key:"P_",get:function(){return this.R4.Fi.P_}},{key:"x_",get:function(){return this.R4.Fi.x_||""}},{key:"Uvt",get:function(){return this.R4.Fi.Uvt}},{key:"Dlt",get:function(){return this.R4.Fi.Dlt}},{key:"Bdt",get:function(){return this.Qvt.Bdt}},{key:"YB",get:function(){return this.R4.Fi.YB||this.Ydt[0].YB}},{key:"Qvt",get:function(){return this.qdt}},{key:"Nlt",get:function(){return this.R4.Fi.Nlt}},{key:"q0",get:function(){return this.Ydt}},{key:"$lt",get:function(){return this.R4.Fi.$lt||[]}},{key:"Clt",get:function(){return this.R4.Fi.Clt}},{key:"Plt",get:function(){return this.R4.Fi.Plt}},{key:"Blt",get:function(){return this.R4.Fi.Blt}},{key:"KD",get:function(){return this.R4.Fi.KD}},{key:"Olt",get:function(){return this.R4.Fi.Olt}},{key:"fs",get:function(){var t=(this.R4.Fi.Nl||this.YB).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||Qb(this.YB,this.HF)?fp.$n:"video"===t?fp.wd:"audio"===t?fp.dd:"image"===t?fp._d:fp.Kl}},{key:"Tk",get:function(){return this.R4.Fi.Tk||0}},{key:"Zet",get:function(){return this.R4.Fi.L_||""}},{key:"Zdt",get:function(){return this.Sdt}},{key:"Kdt",get:function(){var t=this.Zdt,n=this.Idt;if(void 0!==t&&void 0!==n){var i=g.min(n,this.Bdt.Jdt);return g.max(t,i)}}}]),n}(wq);function pq(t,n){for(var e=[],r=0;r<n.length;r++)for(var s=n[r],u=0;u<t.length;u++){var o=t[u];e.push(i.Br(o,s))}return e}var _q=function(){function t(t,n){this.qdt=void 0,this.$dt=void 0,this.ra=void 0,this.twt=void 0,this.nwt=void 0,this.qdt=t,this.$dt=n,this.ra=n.yp,this.twt=n.rlt,this.nwt=n._lt}var n=t.prototype;return n.iwt=function(t){var n=t-this.qdt.RN;if(!(n<0||n>=this.qdt.Hg)){var i=this.ewt();return void 0!==i&&Ut(i,n,1e-5)?this.zvt():this.rwt(n)}},n.swt=function(t){var n=t-this.qdt.RN;if(!(n<0))return this.uwt(g.min(n,this.qdt.Hg))},n.zvt=function(){return this.owt(0)},n.Yvt=function(){var t=this.qdt.Hg;if(isFinite(t))return this.uwt(t)},n.Odt=function(t){if(this.qdt.awt.fs===Qz.bE){var n=this.hwt(t);if(!n)return;return{cwt:t,fwt:this.vwt(t),lwt:n}}var i=this.zvt();if(i)return{cwt:t,fwt:i,lwt:this.Yvt()}},n.xdt=function(t,n){if(n){var i=this.dwt(n.fwt),e=this.qvt(n.lwt);if(e){var r=this.wwt(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.zvt();if(s){var u=this.wwt(s);if(t.getTime()<u.getTime())return u}var o=this.qdt.awt.hdt;return t.getTime()<o.getTime()?o:void 0},n.hwt=function(t){var n=(t.getTime()-this.qdt.awt.hdt.getTime())/1e3-this.qdt.RN+this.twt,i=this.uwt(Ft(n,0,this.qdt.Hg));if(i&&(i=this._wt(i,t))){for(var e=this.qvt(i);e&&this.gwt(e,t);)i=e,e=this.qvt(i);return i}},n.vwt=function(t){var n,i=this.$dt.ylt;if(i){var e=(t.getTime()-this.qdt.awt.hdt.getTime())/1e3-this.qdt.RN-i.Cvt();(n=this.uwt(Ft(e,0,this.qdt.Hg)))||(n=this.zvt())}else n=this.zvt();if(n&&(n=this._wt(n,t))){for(var r=this.mwt(n);r&&this.gwt(r,t);)n=r,r=this.mwt(n);return n}},n._wt=function(t,n){for(var i=t;i&&this.wwt(i).getTime()>n.getTime();)i=this.mwt(i);if(i){var e=this.dwt(i);if(e&&e.getTime()<=n.getTime()){var r=this.mwt(i);for(r&&this.gwt(r,n)&&(i=r);i;){if(this.wwt(i).getTime()>n.getTime())return;if(this.gwt(i,n))break;i=this.qvt(i)}if(!i)return}return i}},n.gwt=function(t,n){if(this.wwt(t).getTime()>n.getTime())return!1;var i=this.dwt(t);return!(i&&n.getTime()>=i.getTime())},n.ywt=function(t,n){if(this.kwt(t).getTime()>n.getTime())return!1;var i=this.dwt(t);return!(i&&n.getTime()>=i.getTime())},n.pwt=function(t,n,i){var e=Qt(n,this.ra)+this.qdt.RN;return{olt:t,bwt:n,Vy:e,Hg:i,Wy:e+i}},n.kwt=function(t){return this.qdt.awt.fs===Qz.bE?new Date(this.qdt.awt.hdt.getTime()+1e3*(t.Vy+t.Hg)):this.qdt.awt.hdt},n.wwt=function(t){var n=this.kwt(t);return this.qdt.awt.fs===Qz.bE?new Date(n.getTime()-1e3*this.twt):n},n.dwt=function(t){var n=1/0;if(this.qdt.awt.fs===Qz.bE){var i=this.$dt.ylt;i&&(n=this.kwt(t).getTime()+1e3*t.Hg+i.Jvt())}var e=this.qdt.awt.adt;return e&&(n=g.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.Awt=function(t,n){return t.olt+n},n.Vvt=function(t){return!1},n.Wvt=function(t,n,i,e,r){var s=this.Twt(t);if(!s)return qe.reject(new l("Invalid segment"));var u=this.Swt(s.olt);return u?qe.resolve(u):this.Ewt(s.olt,n,i,e,r)},n.Swt=function(t){},n.Ewt=function(t,n,i,e,r){return qe.reject(new l("Not supported"))},n.mwt=function(t){var n=this.Twt(t);if(n)return this.owt(n.olt-1)},n.qvt=function(t){var n=this.Twt(t);if(n)return this.owt(n.olt+1)},n.Twt=function(t){var n=this.owt(t.olt);if(n&&n.Vy===t.Vy)return n;var i=this.iwt(t.Vy);return i&&i.Vy===t.Vy?i:void 0},n.Iwt=function(t){var n=this.Rwt(t);if(n&&this.Vvt(n.olt)){var i=this.Swt(n.olt);if(i)return i.Iwt(t)}},n.Rwt=function(t){return this.owt(t.Dwt)},n.Ldt=function(t){var n=this.Twt(t);return!!n&&0===n.olt},n.Mdt=function(t){var n=this.Iwt(t);return!!n&&0===n.Rdt},n.Udt=function(t){var n=this.Twt(t);if(!n)return!1;var i=this.Yvt();return!!i&&n.olt===i.olt},n.Xdt=function(t){var n=this.Iwt(t);if(!n)return!1;var i=this.Yvt();if(!i||n.Dwt!==i.olt)return!1;var e=this.Swt(n.Dwt);return n.Rdt+1===e.b_},T(t,[{key:"Zp",get:function(){return this.qdt.RN-Qt(this.nwt,this.ra)}},{key:"_lt",get:function(){return Qt(this.nwt,this.ra)}}]),t}(),bq=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).Nwt=void 0,e.Cwt=void 0;var r=n.Pwt,s=n.Hg;if(void 0===r||void 0===s)throw new l("MultipleSegmentBase does not have a segment duration specified.");return e.Cwt=r,e.Nwt=s,e}E(n,t);var i=n.prototype;return i.owt=function(t){if(!(t<0)){var n=this.Cwt.multiply(t),i=Qt(n,this.ra),e=this.qdt.Hg;if(!(i>=e)){var r=this.Bwt();if(void 0!==r){if(t>r)return;if(t===r)return this.pwt(t,n,e-i)}return isFinite(e)&&i+this.Nwt>e?this.pwt(t,n,e-i):this.pwt(t,n,this.Nwt)}}},i.ewt=function(){return 0},i.rwt=function(t){var n=g.floor(t/this.Nwt),i=this.Bwt();return void 0!==i&&n>=i?this.owt(i):this.owt(n)},i.uwt=function(t){if(t>=this.qdt.Hg){var n=g.ceil(this.qdt.Hg/this.Nwt)-1,i=this.Bwt();return void 0!==i&&n>=i?this.owt(i):this.owt(n)}return this.rwt(t)},i.Bwt=function(){var t,n=this.$dt.blt;if(void 0!==n)return n-(null!=(t=this.$dt.plt)?t:1);if(isFinite(this.qdt.Hg)){var i=this.$dt.Owt;if(void 0!==i&&i>0)return i-1}},i.xwt=function(){if(isFinite(this.qdt.Hg))return this.Yvt()},i.Lwt=function(t,n){return this.Cwt.multiply(t.olt+(n-1))},i.Zh=function(){},n}(_q);function kq(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].Vy,u=t[r].Wy;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+g.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),a=t[o],h=a.Vy,c=o+1<i?t[o+1].Vy:a.Wy;if(c.lessThanOrEqual(n))e=o+1,s=c;else{if(!n.lessThan(h))return o;r=o-1,u=h}}return-1}var Aq=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).o3=[],e.Mwt=void 0,e.Wet=vt.ZERO,e.Zh(),e}E(n,t);var i=n.prototype;return i.owt=function(t){if(!(t<0))return t<this.o3.length?this.o3[t].a8:this.Uwt(t-this.o3.length)},i.ewt=function(){if(this.o3.length>0)return Qt(this.o3[0].Vy,this.ra)},i.rwt=function(t){if(this.Mwt&&Qt(this.Mwt.Vy,this.ra)<=t){var n=Qt(this.Mwt.Vy,this.ra),i=Qt(this.Mwt.Hg,this.ra),e=g.floor((t-n)/i);return this.Uwt(e)}if(this.o3.length>0&&Ut(t,Qt(this.o3[0].Vy,this.ra),1e-5))return this.o3[0].a8;var r=kq(this.o3,vt.fromNumber(t*this.ra));return r<0?void 0:this.o3[r].a8},i.uwt=function(t){if(!this.Mwt&&this.o3.length>0){var n=this.o3[this.o3.length-1];if(i=t,e=Qt(n.Wy,this.ra),Vs(i,e,1e-5)>=0)return n.a8}var i,e,r=this.ewt();return r&&t<r?this.o3[0].a8:this.rwt(t)},i.xwt=function(){return isFinite(this.qdt.Hg)?this.Yvt():this.owt(this.o3.length-1)},i.Lwt=function(t){return this.Xwt(t)},i.Uwt=function(t){if(this.Mwt){var n=this.Mwt.Vy,i=this.Mwt.Hg,e=n.add(i.multiply(t)),r=Qt(e,this.ra),s=this.qdt.Hg;if(!(r>=s)){var u=this.o3.length+t,o=g.min(Qt(i,this.ra),r+s);return this.pwt(u,e,o)}}},i.Xwt=function(t){return t.bwt.add(this.nwt)},i.Zh=function(){var t=this.$dt.Fi.Hvt;if(!t)throw new l("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.T3(t)},i.T3=function(t){var n=this.nwt;this.Hwt(t,n);var i=this.Fwt(t);this.zwt(t,n,i.Vwt,i.Dwt)},i.Hwt=function(t,n){var i=this.o3;if(0===t.length)Ks(i);else{for(var e=t[0],r=e.Vy?vt.fromString(e.Vy,!1).subtract(n):vt.ZERO,s=0;s<i.length&&i[s].Vy.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.Fwt=function(t){for(var n=this.o3,i=this.Wet,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].ult||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].Vy.greaterThanOrEqual(i))break;if(n[r].a8.olt===r)r=u+1;else for(;r<=u;)n[r].a8.olt=r,r++;0,e++}return{Vwt:e,Dwt:r}},i.zwt=function(t,n,i,e){for(var r,s=this.o3,u=i,o=e;u<t.length;){var a=t[u],h=vt.fromString(a.Hg,!1),c=a.ult||0,f=void 0;if(a.Vy){if(f=vt.fromString(a.Vy,!1).subtract(n),o>0){var l=s[o-1];l.Wy.greaterThan(f)&&(l.Hg=f.subtract(l.Vy),l.Wy=l.Vy.add(l.Hg))}}else f=o>0?s[o-1].Wy:vt.ZERO;if(c<0){if(u+1===t.length){r={Vy:f,Hg:h};break}for(var v=vt.fromString(t[u+1].Vy,!1).subtract(n);f.lessThan(v);){var d=f.add(h);this.Wwt(s,o,f,h,d),f=d,o++}}else for(var w=o+c;o<=w;){var g=f.add(h);this.Wwt(s,o,f,h,g),f=g,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.Wet=s[s.length-1].Vy),this.Mwt=r},i.Wwt=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.Hg.equals(e)?s.a8.olt=n:t[n]={Vy:i,Hg:e,Wy:r,a8:this.pwt(n,i,Qt(e,this.ra))}}else t.push({Vy:i,Hg:e,Wy:r,a8:this.pwt(n,i,Qt(e,this.ra))})},n}(_q),Tq=function(){function t(t,n,i){this.Qvt=void 0,this.Gwt=void 0,this.Gi=void 0,this.qwt=void 0,this.Ywt=void 0,this.Qvt=t,this.Gwt=n,this.Gi=i}var n=t.prototype;return n.jwt=function(){if(this.Ywt=this.Qwt(),this.Ywt)return this.Ywt;if(this.Gwt)return this.Gwt.Hvt;throw new l("Missing media segment information.")},n.Vdt=function(t){var n=this.wlt;if(n)return{Ql:(void 0!==n.slt?i.Br(n.slt,t.xlt[0]):t.xlt[0]).href,dht:n.dht};var e=this.hlt;return e?{Ql:t.xlt[0].href,dht:[0,e[0]-1]}:void 0},n.Zh=function(t){this.Gi=t,this.Ywt&&this.Ywt.Zh()},T(t,[{key:"Fi",get:function(){return this.Gi}},{key:"rlt",get:function(){return this.Gi&&void 0!==this.Gi.rlt?this.Gi.rlt:this.Gwt?this.Gwt.rlt:0}},{key:"_lt",get:function(){return this.Gi&&void 0!==this.Gi._lt?this.Gi._lt:this.Gwt?this.Gwt._lt:vt.ZERO}},{key:"ylt",get:function(){return this.Gi&&void 0!==this.Gi.ylt?this.Gi.ylt:this.Gwt?this.Gwt.ylt:this.Qvt.awt.ylt}},{key:"yp",get:function(){return this.Gi&&void 0!==this.Gi.yp?this.Gi.yp:this.Gwt&&this.Gwt.yp?this.Gwt.yp:1}},{key:"hlt",get:function(){return this.Gi&&void 0!==this.Gi.hlt?this.Gi.hlt:this.Gwt?this.Gwt.hlt:void 0}},{key:"wlt",get:function(){return this.Gi&&void 0!==this.Gi.wlt?this.Gi.wlt:this.Gwt?this.Gwt.wlt:void 0}},{key:"Hvt",get:function(){return this.qwt||(this.qwt=this.jwt()),this.qwt}}]),t}(),Sq=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Qwt=function(){return this.Gi.Hvt?new Aq(this,this.Qvt):void 0!==this.Gi.Hg?new bq(this,this.Qvt):void 0},T(n,[{key:"Hg",get:function(){return void 0!==this.Gi.Hg?this.Gi.Hg/this.yp:this.Gwt&&this.Gwt instanceof n?this.Gwt.Hg:void 0}},{key:"Pwt",get:function(){return void 0!==this.Gi.Hg?vt.fromNumber(this.Gi.Hg):this.Gwt&&this.Gwt instanceof n?this.Gwt.Pwt:void 0}},{key:"plt",get:function(){return void 0!==this.Gi.plt?this.Gi.plt:this.Gwt&&this.Gwt instanceof n?this.Gwt.plt:void 0}},{key:"blt",get:function(){return void 0!==this.Gi.blt?this.Gi.blt:this.Gwt&&this.Gwt instanceof n?this.Gwt.blt:void 0}}]),n}(Tq),Eq=function(){function t(t){this.Zwt=void 0,this.Zwt=t}return t.prototype.Wu=function(t){return this.Zwt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=Is(u,Number(e),"0")})},t}();var Iq=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).Kwt=void 0,r.Jwt=void 0,r.Kwt=e.Slt?new Eq(e.Slt):void 0,r.Jwt=e.Elt?new Eq(e.Elt):void 0,r}E(n,t);var e=n.prototype;return e.Vdt=function(n){var e=this.Slt;if(!e)return t.prototype.Vdt.call(this,n);var r=e.Wu({Bandwidth:n.Fi.NR,RepresentationID:n.Fi.P_});return{Ql:i.Or(r,n.xlt[0])}},e.jvt=function(t,n){var e,r=null!=(e=n.Wdt.plt)?e:1,s=this.Elt.Wu({Bandwidth:n.Fi.NR,Number:n.Hvt.Awt(t,r),RepresentationID:n.Fi.P_,Time:n.Hvt.Lwt(t,r)});return{Ql:i.Or(s,n.xlt[0])}},e.Pdt=function(t,n){},T(n,[{key:"Slt",get:function(){return this.Kwt?this.Kwt:this.Gwt&&this.Gwt instanceof n?this.Gwt.Slt:void 0}},{key:"Elt",get:function(){return this.Jwt?this.Jwt:this.Gwt&&this.Gwt instanceof n?this.Gwt.Elt:void 0}},{key:"Owt",get:function(){}}]),n}(Sq),Rq=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var e=n.prototype;return e.jvt=function(t,n){var e=this.Gi.flt[t.olt],r=n.xlt[0];return{Ql:(e.JA?i.Br(e.JA,r):r).href,dht:e.clt}},e.Pdt=function(t,n){},T(n,[{key:"Owt",get:function(){return void 0!==this.Gi.flt?this.Gi.flt.length:this.Gwt&&this.Gwt instanceof Sq?this.Gwt.Owt:void 0}}]),n}(Sq),Cq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Dwt=void 0,u.p5=void 0,u.yp=void 0,u.$wt=void 0,u._lt=void 0,u.t_t=void 0,u.Dwt=n,u.p5=i,u.yp=e.yp,u.$wt=r,u._lt=s,u.t_t=u.n_t(e),u}E(n,t);var i=n.prototype;return i.Gvt=function(t){if(t>=0&&t<this.b_)return this.i_t(this.t_t[t])},i.e_t=function(t){var n=this.r_t(t);if(this.t_t.length>0){var i=this.t_t[0];if(n<=Qt(i.Vy,this.yp))return this.i_t(i)}var e=kq(this.t_t,vt.fromNumber(n*this.yp));if(!(e<0))return this.i_t(this.t_t[e])},i.s_t=function(t){var n=this.r_t(t);if(this.t_t.length>0){var i=this.t_t[this.t_t.length-1];if(n>=Qt(i.Wy,this.yp))return this.i_t(i)}return this.e_t(t)},i.i_t=function(t){var n=Qt(t.Vy,this.yp)-this._lt,i=n+this.$wt,e=Qt(t.Hg,this.yp);return{Dwt:this.Dwt,Rdt:t.olt,Vy:i,bwt:vt.fromNumber(n*this.yp),Hg:e,Wy:i+e,SJ:[this.p5+t.p5,this.p5+t.b5]}},i.n_t=function(t){for(var n=[],i=t.FS,e=t.zS.toNumber(),r=0,s=0,u=t.WS;s<u.length;s++){var o=u[s],a=o.LS,h=vt.fromNumber(o.Hg),c=i.add(h);0===o.xS&&n.push({olt:r++,Vy:i,Hg:h,Wy:c,p5:e,b5:e+a-1}),e+=a,i=c}return n},i.r_t=function(t){return t-this.$wt+this._lt},T(n,[{key:"b_",get:function(){return this.t_t.length}}]),n}(function(){function t(){}return t.prototype.Iwt=function(t){var n=this.Gvt(t.Rdt);if(n&&n.Vy===t.Vy)return n;var i=this.e_t(t.Vy);return i&&i.Vy===t.Vy?i:void 0},t}()),Dq=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).u_t=void 0,e.o_t=void 0,e.a_t=void 0,e.u_t=n.hlt,e.o_t=e.pwt(0,vt.ZERO,e.qdt.Hg),e}E(n,t);var i=n.prototype;return i.owt=function(t){if(0===t)return this.o_t},i.ewt=function(){return 0},i.rwt=function(t){return this.o_t},i.uwt=function(t){return this.rwt(t)},i.xwt=function(){return this.o_t},i.Lwt=function(t,n){return vt.ZERO},i.Odt=function(t){var n=this.h_t(t);return n&&{cwt:t,fwt:n,lwt:n}},i.h_t=function(t){var n=this.o_t;return this.gwt(n,t)?n:void 0},i.hwt=function(t){return this.h_t(t)},i.vwt=function(t){return this.h_t(t)},i.Zh=function(){},i.Vvt=function(t){return 0===t&&void 0!==this.u_t},i.Swt=function(t){return this.a_t},i.Ewt=function(t,n,i,e,r){var s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=n.xlt[0].href,u=this.u_t,a.next=4,Fr.awrap(e.c_t(s,u,i,r));case 4:return o=a.sent,this.a_t=this.f_t(t,o),a.abrupt("return",this.a_t);case 7:case"end":return a.stop()}},null,this,null,qe)},i.f_t=function(t,n){var i=this.u_t,e=ab.mA(new DataView(n),new Jo);if(e.fs!==m_.Wb)throw new l("Invalid segment index");var r=vb.UA(e.Fi),s=i[1]+1;return new Cq(t,s,r,this.qdt.RN,Qt(this.nwt,this.ra))},n}(_q),Nq=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.jvt=function(t,n){return{Ql:n.xlt[0].href}},i.Pdt=function(t,n){return{Ql:n.xlt[0].href,dht:t.SJ}},i.Qwt=function(){return new Dq(this,this.Qvt)},T(n,[{key:"plt",get:function(){}}]),n}(Tq),Pq=function(t){function n(){return t.call(this,hq.kdt)||this}return E(n,t),n}(Iu);var xq=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Sw=void 0,r.Gi=void 0,r.v_t=void 0,r.$dt=void 0,r.l_t=1/0,r.d_t=void 0,r.Sw=i,r.w_t(n,e),r}E(n,t);var i=n.prototype;return i.__t=function(){return this.$dt||this.Sw&&this.Sw.__t()},i.g_t=function(t){var n=this.Qvt,i=this.Sw&&this.Sw.__t();this.Gi.Flt?this.$dt=new Iq(n,i,this.Gi.Flt):this.Gi.Hlt?this.$dt=new Rq(n,i,this.Gi.Hlt[0]):this.Gi.Xlt?this.$dt=new Nq(n,i,this.Gi.Xlt):t&&!i&&(this.$dt=new Nq(n,i,void 0))},i.w_t=function(t,n){this.Gi=t,this.v_t=t.xlt&&t.xlt.length>0?pq(t.xlt.map(function(t){return t.Ql}),n):n.slice(),this.$dt&&(t.Flt?this.$dt.Zh(t.Flt):t.Hlt?this.$dt.Zh(t.Hlt[0]):t.Xlt&&this.$dt.Zh(t.Xlt))},i.Edt=function(){var t;return null==(t=this.d_t)?void 0:t.m_t},i.xdt=function(){var t;return null==(t=this.d_t)?void 0:t.y_t},i.k_t=function(t){var n=this.l_t,i=this.Qvt.Hg,e=this.d_t,r=this.p_t(t);e&&Ut(i,n,1e-5)&&Mq(e,r)||(this.l_t=i,this.d_t=r,this.Qs(new Pq))},i.xs=function(){this.$s()},T(n,[{key:"Fi",get:function(){return this.Gi}},{key:"xlt",get:function(){return this.v_t}}]),n}(Su);function Bq(t){for(var n,i=0;i<t.length;i++){var e=t[i].Edt();if(e){n=e.RN;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].Edt();if(u){r=u.NN;break}}if(void 0!==r)return{RN:n,NN:r}}}function Oq(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].Edt();if(!r)return;if((n=g.max(n,r.RN))>=(i=g.min(i,r.NN)))return}return{RN:n,NN:i}}}function Lq(t){for(var n,i=0;i<t.length;i++){var e=t[i].xdt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function Mq(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.y_t,n.y_t)&&function(t,n){return t&&n?Ut(t.RN,n.RN,1e-5)&&Ut(t.NN,n.NN,1e-5):t===n}(t.m_t,n.m_t)}var jq=function(t){function n(n,i,e){var r;(r=t.call(this)||this).qdt=void 0,r.Bh=void 0,r.b_t=void 0,r.qdt=n,r.Bh=i,r.b_t=e.slice();for(var s=0;s<e.length;s++){e[s].Zs(hq.kdt,r.Tdt)}return r}E(n,t);var i=n.prototype;return i.Edt=function(){return Oq(this.b_t)},i.xdt=function(){for(var t,n=0,i=this.b_t;n<i.length;n++){var e=i[n].xdt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.Sd=function(){this.$s();for(var t=0,n=this.b_t;t<n.length;t++){n[t].tu(hq.kdt,this.Tdt)}},T(n,[{key:"Mvt",get:function(){return this.b_t}},{key:"HF",get:function(){return this.Mvt.reduce(function(t,n){for(var i=0,e=n.HF;i<e.length;i++){var r=e[i];Qs(t,r)||t.push(r)}return t},[])}},{key:"$e",get:function(){return this.HF.length>0?this.HF[0]:""}},{key:"fs",get:function(){return this.b_t[0].fs}},{key:"P_",get:function(){return this.Bh}},{key:"Bdt",get:function(){return this.qdt.Bdt}},{key:"YB",get:function(){return this.b_t[0].YB}},{key:"Qvt",get:function(){return this.qdt}},{key:"q0",get:function(){return tu(this.Mvt,function(t){return t.q0})}}]),n}(wq),Fq=function(t){function n(){return t.call(this,hq.bdt)||this}return E(n,t),n}(Iu);function Uq(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.Vlt;void 0===s||(r=Ws(n,function(t){return t.P_===s})),r||(r={P_:s,Mvt:[]},n.push(r)),r.Mvt.push(e)},e=0;e<t.length;e++)i(e);return n}var Hq,Xq=function(t){function n(n,i){var e;return(e=t.call(this)||this).R4=void 0,e.b_t=[],e.A_t=[],e.T_t=void 0,e.S_t=!1,e.T_t=n,e.R4=i,e.R4.Zs(hq.kdt,e.Tdt),e}E(n,t);var i=n.prototype;return i.E_t=function(t,n){if(0!==this.A_t.length){for(var i=t,e=0,r=this.A_t;e<r.length;e++){var s=r[e],u=s.fs;if(u===fp.dd||u===fp.wd){var o=s.Idt;if(void 0===o)return;i=n(i,o)}}return i}},i.I_t=function(){this.S_t||(this.S_t=!0,this.Qs(new Fq),this.Sd())},i.Zh=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==this.b_t.length){i.next=7;break}return i.next=3,Fr.awrap(this.R_t(this.R4.Mvt,t,n));case 3:this.D_t(this.b_t),fu(n),i.next=9;break;case 7:return i.next=9,Fr.awrap(this.N_t(t,n));case 9:case"end":return i.stop()}},null,this,null,qe)},i.R_t=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0;case 1:if(!(e<t.length)){u.next=17;break}return r=t[e],s=new yq(this,r),u.prev=4,u.next=7,Fr.awrap(s.Zh(n,i));case 7:this.b_t.push(s),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(4),lu(u.t0);case 14:e++,u.next=1;break;case 17:case"end":return u.stop()}},null,this,[[4,10]],qe)},i.D_t=function(t){for(var n=Uq(t),i=0;i<n.length;i++){var e=n[i],r=new jq(this,e.P_,e.Mvt);this.A_t.push(r)}},i.N_t=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.b_t;case 1:if(!(i<e.length)){s.next=8;break}return r=e[i],s.next=5,Fr.awrap(r.Zh(t,n));case 5:i++,s.next=1;break;case 8:case"end":return s.stop()}},null,this,null,qe)},i.Edt=function(){return this.R4.Edt()},i.xdt=function(){return this.R4.xdt()},i.Sd=function(){this.$s(),this.R4.tu(hq.kdt,this.Tdt);for(var t=0,n=this.A_t;t<n.length;t++){n[t].Sd()}for(var i=0,e=this.b_t;i<e.length;i++){e[i].Sd()}Ks(this.b_t),Ks(this.A_t)},T(n,[{key:"Mvt",get:function(){return this.b_t}},{key:"xvt",get:function(){return this.A_t}},{key:"sdt",get:function(){return this.R4.Fi.sdt}},{key:"Hg",get:function(){return this.R4.Hg}},{key:"NN",get:function(){return this.RN+this.Hg}},{key:"udt",get:function(){return this.R4.Fi.udt||[]}},{key:"P_",get:function(){return this.R4.P_}},{key:"Adt",get:function(){return this.S_t}},{key:"Bdt",get:function(){return this.T_t}},{key:"C_t",get:function(){return this.T_t.P_t(this)}},{key:"Qvt",get:function(){return this}},{key:"B_t",get:function(){return this.T_t.O_t(this)}},{key:"x_t",get:function(){return this.E_t(1/0,g.min)}},{key:"L_t",get:function(){return this.E_t(0,g.max)}},{key:"RN",get:function(){return this.R4.RN}},{key:"bd",get:function(){return this.Bdt.bd}}]),n}(wq),Vq=function(t){function n(){return t.call(this,Pf.bf)||this}return E(n,t),n}(Iu);!function(t){t.M_t="U_t"}(Hq||(Hq={}));var zq=function(t){function n(){return t.call(this,Hq.M_t)||this}return E(n,t),n}(Iu),Wq=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.xlt)||this).Ddt=void 0,e.X_t=void 0,e.Ddt=i,e.g_t(!0),e}E(n,t);var i=n.prototype;return i.Vvt=function(t){return!!Hc(this.YB)&&this.Hvt.Vvt(t.olt)},i.Wvt=function(t,n,i,e){return this.Hvt.Wvt(t,this,n,i,e)},i.Vdt=function(){return this.Wdt.Vdt(this)},i.jvt=function(t){return this.Wdt.jvt(t,this)},i.Pdt=function(t){return this.Wdt.Pdt(t,this)},i.Odt=function(){return this.X_t},i.p_t=function(t){var n=this.Hvt,i=n.Odt(t),e=i&&function(t,n){var i,e=t.fwt,r=t.lwt,s=t.cwt,u=e.Vy,o=n.kwt(r);if(o.getTime()<=s.getTime())i=r.Wy;else{var a=(o.getTime()-s.getTime())/1e3,h=g.max(r.Hg-a,0);i=r.Vy+h}return{RN:u,NN:i}}(i,n),r=this.Hvt.xdt(t,i);return this.X_t=i,{cwt:t,m_t:e,y_t:r}},i.Zh=function(t){this.w_t(t,this.Ddt.xlt)},T(n,[{key:"Hdt",get:function(){return this.Ddt}},{key:"Qvt",get:function(){return this.Ddt.Qvt}},{key:"awt",get:function(){return this.Ddt.awt}},{key:"YB",get:function(){return this.Gi.YB||this.Ddt.YB}},{key:"Wdt",get:function(){return this.__t()}},{key:"Hvt",get:function(){return this.Wdt.Hvt}}]),n}(xq),qq=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.xlt)||this).qdt=void 0,e.Ydt=void 0,e.qdt=i,e.g_t(!1),e.Ydt=n.q0.map(function(t){return new Wq(t,Jt(e))}),e}E(n,t);var i=n.prototype;return i.Zh=function(t){this.w_t(t,this.qdt.xlt);var n=t.q0||[];if(this.Ydt.length!==n.length)throw new l("Expected "+this.Ydt.length+' representations in adaptation set "'+t.P_+'", found '+n.length);for(var i=0;i<n.length;i++)this.Ydt[i].Zh(n[i])},i.k_t=function(n){for(var i=0,e=this.Ydt;i<e.length;i++){e[i].k_t(n)}t.prototype.k_t.call(this,n)},i.p_t=function(t){return{cwt:t,m_t:Oq(this.Ydt),y_t:Lq(this.Ydt)}},i.xs=function(){for(var n=0,i=this.Ydt;n<i.length;n++){i[n].xs()}t.prototype.xs.call(this)},T(n,[{key:"q0",get:function(){return this.Ydt}},{key:"Qvt",get:function(){return this.qdt}},{key:"awt",get:function(){return this.qdt.awt}},{key:"Vlt",get:function(){return this.Gi.Vlt}},{key:"YB",get:function(){var t;return this.Gi.YB||(null==(t=this.Ydt[0])?void 0:t.Fi.YB)||""}}]),n}(xq),Gq=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.xlt)||this).H_t=void 0,s.ZS=void 0,s.ua=void 0,s.b_t=void 0,s.A_t=[],s.H_t=n,s.ZS=e,s.ua=r,s.g_t(!1),s.b_t=(i.Mvt||[]).map(function(t){return new qq(t,Jt(s))}),s.A_t=Uq(s.b_t),s}E(n,t);var i=n.prototype;return i.Zh=function(t,n){this.w_t(t,this.H_t.xlt),this.ua=n;var i=t.Mvt||[];if(this.b_t.length!==i.length)throw new l("Expected "+this.b_t.length+' adaptation sets in period "'+t.P_+'", found '+i.length);for(var e=0;e<i.length;e++)this.b_t[e].Zh(i[e])},i.k_t=function(n){for(var i=0,e=this.b_t;i<e.length;i++){e[i].k_t(n)}t.prototype.k_t.call(this,n)},i.p_t=function(t){return{cwt:t,m_t:Oq(this.b_t),y_t:Lq(this.b_t)}},i.xs=function(){for(var n=0,i=this.b_t;n<i.length;n++){i[n].xs()}t.prototype.xs.call(this)},T(n,[{key:"Mvt",get:function(){return this.b_t}},{key:"xvt",get:function(){return this.A_t}},{key:"Qvt",get:function(){return this}},{key:"awt",get:function(){return this.H_t}},{key:"P_",get:function(){return this.Gi.P_}},{key:"RN",get:function(){return this.ZS}},{key:"Hg",get:function(){return this.ua}}]),n}(xq),$q=new Date("2000-01-01"),Yq=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this).Gi=void 0,s.F_t=void 0,s.z_t=void 0,s.DG=void 0,s.V_t=void 0,s.d_t=void 0,s.v_t=void 0,s.W_t=void 0,s.G_t=void 0,s.q_t=void 0,s.Y_t=[],s.F_t=i,s.Zh(n,e,r),n.fs===Qz.bE){var u=s.xwt();u&&u.adt&&u.adt.getTime()<$q.getTime()&&(s.q_t=new Date(s._dt.getTime()-1e3*(u.a8.Vy+u.a8.Hg)),s.k_t(r))}return s}E(n,t);var e=n.prototype;return e.Edt=function(){var t;return null==(t=this.d_t)?void 0:t.m_t},e.xdt=function(){var t;return null==(t=this.d_t)?void 0:t.y_t},e.Zh=function(t,n,e,r){var s;this.Gi=t,this.z_t=n,this.V_t=null!=r?r:e,this.DG=e;var u,o=[(u=n,i.Br(".",u))];this.v_t=t.xlt&&t.xlt.length>0?pq(t.xlt.map(function(t){return t.Ql}),o):o,this.W_t=t.cdt&&t.cdt.length>0?pq(t.cdt,this.v_t):[];var a=this.W_t.map(function(t){return t.href}),h=n.href;Qs(a,h)||(this.W_t.push(n),a.push(h));var c=this.F_t.href;Qs(a,c)||(this.W_t.push(this.F_t),a.push(c)),this.G_t=null==(s=t.Pvt)?void 0:s.Cvt();var f=t.fs===Qz.bE,l=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.RN)u=s.RN.Cvt();else if(r>0&&t[r-1].Hg){var o=e[r-1],a=t[r-1].Hg.Cvt();u=o+a}else{if(0!==r||n)break;u=0}e.push(u)}for(var h=[],c=0;c<e.length-1;c++)h.push({Fi:t[c],RN:e[c],Hg:e[c+1]-e[c]});if(e.length>0){var f=e.length-1,l=t[f],v=e[f],d=1/0;n||(d=l.Hg?l.Hg.Cvt():i-v),h.push({Fi:l,RN:v,Hg:d})}return h}(t.Nvt,f,this.G_t);this.j_t(l),this.k_t(e)},e.j_t=function(t){var n=this.Y_t;if(0!==t.length){for(var i=t[0].Fi.P_,e=0;e<n.length&&n[e].P_!==i;)e++;for(var r=n.splice(0,e),s=0;s<r.length;s++){r[s].xs()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var a=n[u];0,a.Zh(o.Fi,o.Hg)}else n.push(new Gq(this,o.Fi,o.RN,o.Hg))}}else Ks(n)},e.k_t=function(t){for(var n=0,i=this.Y_t;n<i.length;n++){i[n].k_t(t)}var e=this.d_t,r=this.p_t(t);e&&Mq(e,r)||(this.d_t=r,this.Qs(new Pq))},e.p_t=function(t){return{cwt:t,m_t:Bq(this.Y_t),y_t:Lq(this.Y_t)}},e.xwt=function(){if(0!==this.Y_t.length){var t=this.Y_t[this.Y_t.length-1];if(!isFinite(t.Hg)&&0!==t.Mvt.length){var n=t.Mvt[0];if(0!==n.q0.length){var i=n.q0[0].Hvt,e=i.xwt();if(e)return{a8:e,adt:i.dwt(e)}}}}},e.xs=function(){this.$s();for(var t=0,n=this.Y_t;t<n.length;t++){n[t].xs()}},T(n,[{key:"Fi",get:function(){return this.Gi}},{key:"fs",get:function(){return this.Gi.fs||Qz.pE}},{key:"hdt",get:function(){return this.q_t||this.Gi.hdt||this._dt}},{key:"adt",get:function(){return this.Gi.adt}},{key:"Pvt",get:function(){return this.G_t}},{key:"xlt",get:function(){return this.v_t}},{key:"cdt",get:function(){return this.W_t}},{key:"Nvt",get:function(){return this.Y_t}},{key:"_dt",get:function(){return this.Gi._dt||this.DG}},{key:"ylt",get:function(){return this.Gi.ylt}},{key:"Q_t",get:function(){return this.V_t}},{key:"Z_t",get:function(){return this.DG}}]),n}(Su);var Qq=function(){function t(t,n,i){this.K_t=0,this.lE=t,this.J_t=n,this.$_t=i}var n=t.prototype;return n._L=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.tgt(t,this.lE,this.J_t,this.$_t).catch(vu));case 2:case"end":return n.stop()}},null,this,null,qe)},n.ngt=function(){return new Date(Wt()+this.K_t)},n.tgt=function(t,n,i,e){var r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=4;break}return o.next=3,Fr.awrap(this.igt(n,e,i));case 3:r=o.sent;case 4:if(void 0!==r){o.next=17;break}fu(i),s=0;case 7:if(!(s<t.length)){o.next=17;break}return u=t[s],o.next=11,Fr.awrap(this.egt(n,u,i));case 11:if(void 0===(r=o.sent)){o.next=14;break}return o.abrupt("break",17);case 14:s++,o.next=7;break;case 17:this.K_t=void 0===r?0:r-Wt();case 18:case"end":return o.stop()}},null,this,null,qe)},n.egt=function(t,n,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=n.U0,o.t0=e,o.next="urn:mpeg:dash:utc:http-xsdate:2012"===o.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===o.t0?4:"urn:mpeg:dash:utc:direct:2012"===o.t0?10:"urn:mpeg:dash:utc:direct:2014"===o.t0?10:16;break;case 4:if(!(r=n.Ai)){o.next=9;break}return o.next=8,Fr.awrap(this.igt(t,r,i));case 8:return o.abrupt("return",o.sent);case 9:return o.abrupt("break",17);case 10:if(!(s=n.Ai)){o.next=15;break}if(u=new Date(s).getTime(),p(u)){o.next=15;break}return o.abrupt("return",u);case 15:return o.abrupt("break",17);case 16:return o.abrupt("return");case 17:case"end":return o.stop()}},null,this,null,qe)},n.igt=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Fr.awrap(t.Yl({Ql:n,md:hw.GET,Wl:xf.$n,Ws:i}));case 3:return e=u.sent,u.next=6,Fr.awrap(e.El());case 6:if(r=u.sent,s=new Date(r).getTime(),p(s)){u.next=10;break}return u.abrupt("return",s);case 10:u.next=16;break;case 12:u.prev=12,u.t0=u.catch(0),lu(u.t0);case 16:case"end":return u.stop()}},null,null,[[0,12]],qe)},t}(),Zq=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).rgt=void 0,s.R4=void 0,s.sgt=void 0,s.xrt=!0,s.Y_t=[],s.ugt=void 0,s.ogt=void 0,s.agt=void 0,s.lE=void 0,s.hgt=void 0,s.ugt=n,s.sgt=n.Z_,s.ogt=i,s.lE=e,s.rgt=r,s.hgt=new Qq(s.lE,s.rgt,s.ugt.cgt),s}E(n,t);var e=n.prototype;return e.fgt=function(t){var n=this._y;this.xrt=t,n!==this._y&&this.Qs(new zq)},e.Zh=function(t,n,e){var r,s,u,o,a,h,c,f,l,v,d,w,g;return Fr.async(function(m){for(;;)switch(m.prev=m.next){case 0:if(s=[],u=[],o=t.fdt?i.Br(t.fdt,this.sgt):this.sgt,void 0!==this.R4){m.next=10;break}return m.next=6,Fr.awrap(this.hgt._L(t.mdt));case 6:this.R4=new Yq(t,this.sgt,o,this.ngt()),this.R4.Zs(hq.kdt,this.js),m.next=11;break;case 10:this.R4.Zh(t,o,this.ngt(),n);case 11:if(0===(a=this.R4.Nvt).length)h=this.Y_t.slice(),Ks(this.Y_t);else{for(c=a[0].P_,f=0;f<this.Y_t.length&&this.Y_t[f].P_!==c;)f++;for(h=this.Y_t.splice(0,f),l=0;l<a.length;l++)v=a[l],d=void 0,l<this.Y_t.length?d=this.Y_t[l]:(d=new Xq(this,v),s.push(d)),u.push(d.Zh(this.ogt,e))}return m.next=15,Fr.awrap(qe.all(u));case 15:for((r=this.Y_t).push.apply(r,s),w=0,g=h;w<g.length;w++)g[w].I_t();this.Qs(new Vq);case 18:case"end":return m.stop()}},null,this,null,qe)},e.ngt=function(){return this.hgt.ngt()},e.O_t=function(t){var n=this.Y_t.indexOf(t);if(n>0)return this.Y_t[n-1]},e.P_t=function(t){var n=this.Y_t.indexOf(t);if(n>=0&&n+1<this.Y_t.length)return this.Y_t[n+1]},e.Edt=function(){return this.R4?this.R4.Edt():void 0},e.xdt=function(){return this.R4&&this.R4.xdt()},e.k_t=function(t){this.R4&&this.R4.k_t(t)},e.Sd=function(){this.$s(),this.agt=void 0,this.fgt(!1);for(var t=0,n=this.Y_t;t<n.length;t++){n[t].Sd()}Ks(this.Y_t),this.R4&&this.R4.xs()},T(n,[{key:"adt",get:function(){return this.R4&&this.R4.adt}},{key:"hdt",get:function(){return this.R4&&this.R4.hdt}},{key:"P_",get:function(){return this.R4&&this.R4.Fi.P_}},{key:"Q_t",get:function(){var t;return null==(t=this.R4)?void 0:t.Q_t}},{key:"vgt",get:function(){var t;return null==(t=this.R4)?void 0:t.Z_t}},{key:"cdt",get:function(){return this.R4?this.R4.cdt.map(function(t){return t.href}):[this.Ovt]}},{key:"Ovt",get:function(){return this.sgt.href}},{key:"vdt",get:function(){return this.R4&&this.R4.Fi.vdt}},{key:"ldt",get:function(){return this.R4&&this.R4.Fi.ldt}},{key:"Pvt",get:function(){return this.R4&&this.R4.Fi.Pvt}},{key:"ddt",get:function(){return this.R4&&this.R4.Fi.ddt}},{key:"wdt",get:function(){var t,n,i=(null==(t=this.R4)?void 0:null==(n=t.Fi.wdt)?void 0:n.Jvt())||0;return g.max(i,Jq)}},{key:"_y",get:function(){return this.xrt}},{key:"Nvt",get:function(){return this.Y_t}},{key:"lgt",get:function(){return this.fs===Qz.bE?this.Jdt:this.dgt}},{key:"wgt",get:function(){var t=this.lgt;if(void 0!==t)for(var n=0,i=this.Nvt;n<i.length;n++){var e=i[n];if(e.RN<=t&&e.NN>t)return e}}},{key:"Nlt",get:function(){return this.R4&&this.R4.Fi.Nlt}},{key:"_dt",get:function(){return this.R4&&this.R4._dt}},{key:"x_t",get:function(){for(var t=this.Y_t.length-1;t>=0;t-=1){var n=this.Y_t[t].x_t;if(n)return n}}},{key:"Jdt",get:function(){var t=this.x_t;if(void 0!==t){var n=t-this._gt;return g.max(n,this.dgt)}}},{key:"dgt",get:function(){for(var t=0,n=this.Y_t;t<n.length;t++){var i=n[t].Sdt;if(void 0!==i)return i}}},{key:"bd",get:function(){return Boolean(this.ugt.bd)}},{key:"_gt",get:function(){var t=this.R4&&this.R4.Fi.gdt;return t?t.Cvt():this.fs===Qz.bE?this.ggt:0}},{key:"ggt",get:function(){return this.ugt.ggt?this.ugt.ggt:1.5*this.ddt.Cvt()}},{key:"ylt",get:function(){return this.R4&&this.R4.ylt}},{key:"fs",get:function(){return this.R4?this.R4.fs:void 0}}]),n}(Su),Kq=function(){function t(t,n,i,e){this.T_t=void 0,this.T_t=new Zq(t,n,i,e)}return T(t,[{key:"Bdt",get:function(){return this.T_t}}]),t}(),Jq=1e3,tG=g.pow(2,31)-1,nG=function(){function t(t,n,i,e){var r=this;this.Mht=void 0,this.R4=void 0,this.mgt=void 0,this.ygt=void 0,this.kgt=void 0,this.pgt=new au,this.bgt=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.R4.Bdt.ngt(),e.next=4,Fr.awrap(r.Agt(r.R4.Bdt.cdt,t));case 4:return i=e.sent,e.next=7,Fr.awrap(r.R4.Bdt.Zh(i,n,t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),zb(e.t0)&&r.R4.Bdt.fgt(!1),e.t0;case 13:case"end":return e.stop()}},null,null,[[0,9]],qe)},this.Mht=e,this.R4=new Kq(t,n,i,this.pgt.Ws)}var n=t.prototype;return n.Aw=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.R4.Bdt.Qs(new XC),n.prev=1,n.next=4,Fr.awrap(WL(this.bgt,t));case 4:this.R4.Bdt.fgt(!0),n.next=13;break;case 7:throw n.prev=7,n.t0=n.catch(1),lu(n.t0),this.ygt=void 0,this.R4.Bdt.fgt(!1),new l("The provided MPEG-DASH document could not be loaded - "+n.t0.message);case 13:this.mgt=this.Tgt(this.pgt.Ws);case 14:case"end":return n.stop()}},null,this,[[1,7]],qe)},n.Tgt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(this.R4.Bdt.fs!==Qz.bE){n.next=6;break}return n.next=4,Fr.awrap(du(this.Sgt,t));case 4:n.next=1;break;case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},null,this,[[0,8]],qe)},n.Egt=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(fu(t),!((n=this.Igt())>0)){e.next=6;break}return i=g.min(n,tG),e.next=6,Fr.awrap(bu(i,t));case 6:return e.prev=6,e.next=9,Fr.awrap(WL(this.bgt,t,1/0,Jq,3e4));case 9:this.R4.Bdt.fgt(!0);case 10:return e.prev=10,this.kgt=void 0,e.finish(10);case 13:case"end":return e.stop()}},null,this,[[6,,10,13]],qe)},n.Igt=function(){var t=this.R4.Bdt.ngt().getTime()-this.R4.Bdt.Q_t.getTime();return this.R4.Bdt.wdt-t},n.Rgt=function(t){var n=this.R4.Bdt.xdt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.R4.Bdt.k_t(t);var e=this.R4.Bdt.xdt();return e?e.getTime()-t.getTime():NaN},n.Dgt=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.kgt||(this.kgt=this.Egt(t)),(n=new au).zs(t),i.prev=3,i.next=6,Fr.awrap(qe.race([this.kgt,this.Ngt(n.Ws)].filter(H)));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),vu(i.t0);case 11:return i.prev=11,n.Fs(),i.finish(11);case 14:case"end":return i.stop()}},null,this,[[3,8,11,14]],qe)},n.Ngt=function(t){var n=this.R4.Bdt.ngt(),i=this.Rgt(n);if(!p(i))return this.Cgt(i,t)},n.Cgt=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(bu(t,n));case 2:i=this.R4.Bdt.ngt(),this.R4.Bdt.k_t(i);case 4:case"end":return e.stop()}},null,this,null,qe)},n.Agt=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.Mht.xht(t,{},n,!1));case 2:return i=r.sent,e=new cq,r.abrupt("return",e.Tct(i.Pht,i.jl));case 5:case"end":return r.stop()}},null,this,null,qe)},n.Sd=function(){return this.pgt.Fs(),this.mgt=void 0,this.ygt=void 0,this.kgt=void 0,this.R4.Bdt.Sd(),qe.resolve()},T(t,[{key:"M$",get:function(){return this.R4}},{key:"Pgt",get:function(){return this.ygt||(this.ygt=this.Aw(this.pgt.Ws),pu(this.ygt)),this.ygt}},{key:"Sgt",get:function(){return this.R4.Bdt.vgt&&this.R4.Bdt.fs===Qz.bE?this.Dgt(this.pgt.Ws):this.Pgt}}]),t}(),iG=function(){function t(t,n,i){this.Mht=t,this.Bgt=n,this.Ogt=i}var n=t.prototype;return n.xgt=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.src){i.next=2;break}throw new l("Invalid typed source");case 2:if(!ay(n=t.type)){i.next=9;break}return i.next=6,Fr.awrap(this.Lgt(t));case 6:return i.abrupt("return",i.sent);case 9:if(!oy(n)){i.next=15;break}return i.next=12,Fr.awrap(this.Mgt(t));case 12:return i.abrupt("return",i.sent);case 15:throw new l("Unexpected source type");case 16:case"end":return i.stop()}},null,this,null,qe)},n.Lgt=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(oW(t.src,this.Mht));case 3:return n=i.sent,i.next=6,Fr.awrap(aW(n,this.Mht));case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),new l("Unable to fetch HLS manifest");case 12:case"end":return i.stop()}},null,this,[[0,9]],qe)},n.Mgt=function(t){var n;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new nG({Z_:i.Br(t.src),ggt:t.liveOffset,cgt:t.timeServer,bd:t.useCredentials},this.Ogt,gw.Cd,this.Mht),e.next=4,Fr.awrap(n.Pgt);case 4:return e.next=6,Fr.awrap(qz(n.M$.Bdt,t.contentProtection,this.Bgt));case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new l("Unable to fetch DASH manifest");case 12:case"end":return e.stop()}},null,this,[[0,9]],qe)},t}();var eG=function(){function t(t){this.Ugt=void 0,this.Xgt=[],this.Hgt=0,this.Ugt=t}var n=t.prototype;return n.Fgt=function(){var t=new na;return this.Xgt.push(t),this.zgt(),t.Hu},n.Vgt=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(t);case 2:this.Hgt-=1,this.zgt(),0===this.Xgt.length&&0===this.Hgt&&n.Wu(!0);case 5:case"end":return i.stop()}},null,this,null,qe)},n.zgt=function(){this.Xgt.length>0&&this.Hgt<this.Ugt&&(this.Xgt.shift().Wu(),this.Hgt+=1)},t}();function rG(t,n){for(var i=0,e=0,r=t.WS.$K.map(function(t){return t.Hg});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var sG=function(t){function n(n,e,r,s,u,o,a,h){var c,f,l,v,d;void 0===h&&(l=j.En||j.Tn,v=void 0!==f&&void 0!==f.preferredAudioCodecs&&f.preferredAudioCodecs.some(function(t){return"ec-3"===t}),d=l&&!v,h=function(t){var n,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=t.Nl,MediaSource.isTypeSupported(e)||Zb(t.YB,t.HF)){u.next=3;break}return u.abrupt("return",!1);case 3:if(!d||-1===(null==(n=t.$e)?void 0:n.indexOf("ec-3"))){u.next=5;break}return u.abrupt("return",!1);case 5:if(!t.G0){u.next=13;break}return r=t.G0,s=tu(r,function(t){return _s(t.U0)}).filter(H),u.next=10,Fr.awrap(su(s,function(t){return i.Cr(t,e)}));case 10:if(u.sent){u.next=13;break}return u.abrupt("return",!1);case 13:return u.abrupt("return",!0);case 14:case"end":return u.stop()}},null,null,null,qe)}),(c=t.call(this)||this).Xht=void 0,c.Wgt=void 0,c.Ggt=new na,c.qgt=void 0,c.Qht=void 0,c.Ygt=Uz.Evt(),c.Avt=void 0,c.jgt=void 0,c.gm=void 0,c.Qgt=void 0,c.Rat=void 0,c.Mht=void 0,c.Zgt=void 0,c.Bgt=void 0,c.Ogt=void 0,c.avt=void 0,c.Xht=n,c.Rat=e,c.Mht=r,c.Qgt=s,c.Zgt=u,c.Bgt=o,c.Ogt=h,c.avt=a,c.jgt=-1;var w=c.Xht.cN.sources[0];return c.qgt=w,c.gm=c.Um(),c.Wgt=new eG(c.Xht.wc.parallelTasksThreshold),c}E(n,t);var e=n.prototype;return e.Um=function(){var t,n,i,e,r,s,u,o,a,h,c,f,l,v,d,w,m,y,p,_,b,k,A,T,S,E,I,R=this;return Fr.async(function(C){for(;;)switch(C.prev=C.next){case 0:return t=new iG(this.Mht,this.Bgt,this.Ogt),C.next=3,Fr.awrap(t.xgt(this.qgt));case 3:return this.Qht=C.sent,n=this.Xht.wc.amount,i=this.Qht.Hg,e=Vz(n,i),this.Avt=e,s=CU(this.Qht.Bvt[0]),C.next=11,Fr.awrap(this.Rat.pat.gat(s,"manifestURL"));case 11:for(u=C.sent.filter(function(t){return Qs(t.references,R.Xht.P_)}),o=[],a=this.Xht.wc.bandwidth,h=0,c=this.Qht.Nvt;h<c.length;h++)for(f=c[h],l=0,v=f.Lvt;l<v.length;l++)for(d=v[l],w=0,m=oG(d.VA);w<m.length;w++)for(y=m[w],p=0,_=aG(y.M_,a);p<_.length;p++)b=_[p],o.push(b);if(this.jgt=g.ceil(o.map(function(t){return t.NR*rG(t,e)/8}).reduce(function(t,n){return t+n},0)),k=Xr(),u&&0!==u.length){for(A=u.reduce(function(t,n){return t+n.byteSize},0),T=function(t){var n=u[t],i=n.qualityId,e=new yS(n.startsAndEnds);if(k.has(i))k.get(i).timeRanges=k.get(i).timeRanges.YN(e).qN(5e-4);else{var r,s=Ws(o,function(t){return t.P_===i}),a=g.min(R.Avt,null!=(r=null==s?void 0:s.WS.Hg)?r:1/0);k.set(i,{timeRanges:e,totalQualityDurationToCache:a})}},S=0;S<u.length;S++)T(S);r=new Uz(A,k,this.Avt)}else{for(E=0;E<o.length;E++)I=o[E],k.set(I.P_,{timeRanges:yS.fC(),totalQualityDurationToCache:g.min(I.WS.Hg,this.Avt)});r=new Uz(0,k,this.Avt)}this.Kgt=r;case 19:case"end":return C.stop()}},null,this,null,qe)},e.Jgt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.gm);case 2:return n.next=4,Fr.awrap(this.$gt(this.Qht,t));case 4:return n.next=6,Fr.awrap(this.Ggt.Hu);case 6:case"end":return n.stop()}},null,this,null,qe)},e.$gt=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.Bvt){u.next=2;break}throw new l("Unexpected - manifest is missing locations");case 2:return u.next=4,Fr.awrap(this.tmt());case 4:for(i=[],e=0,r=t.Nvt;e<r.length;e++)s=r[e],i.push(this.nmt(s,t.Bvt[0],n));return u.abrupt("return",qe.all(i));case 7:case"end":return u.stop()}},null,this,null,qe)},e.tmt=function(){var t,n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.Qgt.wat());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=25;break}return i=t[n],r.next=8,Fr.awrap(this.Rat.bat.Iu(i.key));case 8:if(!(e=r.sent)){r.next=14;break}return r.next=12,Fr.awrap(uG(e,this.Xht.P_,this.Rat.bat,this.avt));case 12:r.next=22;break;case 14:return r.prev=14,r.next=17,Fr.awrap(this.Rat.bat.fat(i,this.avt));case 17:r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(14),new Wz("Unable to store manifest with url: "+i.locationURL,r.t0);case 22:n++,r.next=4;break;case 25:return r.next=27,Fr.awrap(this.Qgt.yat());case 27:case"end":return r.stop()}},null,this,[[14,19]],qe)},e.nmt=function(t,n,i){var e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:for(e=[],r=0,s=t.Lvt;r<s.length;r++)for(u=s[r],o=oG(u.VA),a=0;a<o.length;a++)h=o[a],e.push(this.imt(h,n,i));return c.abrupt("return",qe.all(e));case 3:case"end":return c.stop()}},null,this,null,qe)},e.imt=function(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.Xht.wc.bandwidth,r=aG(t.M_,e),t.fs!==fp.wd||!t.Xvt||!t.Xvt.HE.widevine||"persistent"!==t.Xvt.HE.widevine.licenseType){a.next=6;break}return a.next=5,Fr.awrap(this.emt(t.Xvt));case 5:fu(i);case 6:for(s=[],u=0;u<r.length;u++)o=r[u],s.push(this.rmt(o,n,i));return a.abrupt("return",qe.all(s));case 9:case"end":return a.stop()}},null,this,null,qe)},e.rmt=function(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:fu(i),e=t.WS.$K[0].Vy,r=e+this.Avt,s=0,u=t.WS.$K;case 4:if(!(s<u.length)){a.next=16;break}if(!((o=u[s]).Vy>=r)){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Fr.awrap(this.smt(i));case 10:return a.next=12,Fr.awrap(this.Wgt.Fgt());case 12:pu(this.Wgt.Vgt(this.umt(o,t,n),this.Ggt));case 13:s++,a.next=4;break;case 16:case"end":return a.stop()}},null,this,null,qe)},e.smt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||!t.Ns){n.next=4;break}return n.next=3,Fr.awrap(this.Ggt.Hu);case 3:throw new hu;case 4:case"end":return n.stop()}},null,this,null,qe)},e.omt=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.gm);case 2:return t.abrupt("return",this.Qht);case 3:case"end":return t.stop()}},null,this,null,qe)},e.emt=function(t){return qe.resolve()},e.amt=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return ht("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},null,null,null,qe)},e.umt=function(t,n,i){var e,r,s,u,o,a,h,c=this;return Fr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e=this.Rat.pat,r=DU(t.Fvt.Ql,t.Fvt.dht),f.next=4,Fr.awrap(e.Iu(r));case 4:if(!(s=f.sent)){f.next=11;break}return f.next=8,Fr.awrap(uG(s,this.Xht.P_,e,this.avt));case 8:this.hmt(s,!1),f.next=24;break;case 11:return f.prev=11,f.next=14,Fr.awrap(this.cmt(t.Fvt));case 14:return u=f.sent,o=this.fmt(t,n,i,u),a=o.segmentMetadataEntry,h=o.segmentEntry,f.next=18,Fr.awrap(this.Rat.Sat(function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.pat.fat(a,c.avt));case 2:return n.next=4,Fr.awrap(t.$K.fat(h,c.avt));case 4:case"end":return n.stop()}},null,null,null,qe)}));case 18:this.hmt(a,!0),f.next=24;break;case 21:throw f.prev=21,f.t0=f.catch(11),new Wz("Unable to store segment with url: "+t.Fvt.Ql,f.t0);case 24:case"end":return f.stop()}},null,this,[[11,21]],qe)},e.cmt=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.Zgt.vmt(t,!1));case 2:return n=i.sent,i.next=5,Fr.awrap(this.lmt(n));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},null,this,null,qe)},e.lmt=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(t.Rl());case 2:return n=i.sent,i.abrupt("return",{buffer:n});case 4:case"end":return i.stop()}},null,null,null,qe)},e.fmt=function(t,n,i,e){var r=DU(t.Fvt.Ql,t.Fvt.dht),s=t.Vy,u=t.Hg,o=this.dmt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:CU(i),qualityId:n.P_,byteSize:o,startsAndEnds:new yS([s,s+u]).PN,references:[this.Xht.P_]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:CU(i),data:e}}},e.dmt=function(t){return t.buffer.byteLength},e.hmt=function(t,n){var i=t.qualityId,e=this.Ygt,r=e.Ty;r.get(i).timeRanges=r.get(i).timeRanges.YN(new yS(t.startsAndEnds)).qN(5e-4),this.Kgt=new Uz(n?e.Ivt+t.byteSize:e.Ivt,r,this.Avt)},T(n,[{key:"wmt",get:function(){return this.jgt}},{key:"Kgt",get:function(){return this.Ygt},set:function(t){this.Ygt.lk(t)||(this.Ygt=t,t.lk(Uz.Evt())||this.Qs(new Fz))}}]),n}(Su);function uG(t,n,i,e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Qs(t.references,n)){r.next=4;break}return t.references.push(n),r.next=4,Fr.awrap(i.fat(t,e));case 4:case"end":return r.stop()}},null,null,null,qe)}function oG(t){return t.length?[t[0]]:[]}function aG(t,n){if(!t.length)return[];var i=[].concat(t).sort(Mz),e=i.filter(function(t){return t.NR<=n});return e.length>0?[e.pop()]:[i.shift()]}var hG=function(){function t(t){this.lE=void 0,this.oX=new mC,this.lE=t}var n=t.prototype;return n.Yl=function(t){var n=this,i=new na;return this.oX.ZU(function(e){return n._mt(i,t,e)},t.Ws).catch(K),i.Hu},n.Td=function(t){return this.lE.Td(t)},n._mt=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return fu(i),e=new dw({Ql:n.Ql,Ws:i},n),r=this.lE.Yl(e),t.Wu(r),u.next=6,Fr.awrap(r);case 6:return s=u.sent,u.next=9,Fr.awrap(s.Ml());case 9:case"end":return u.stop()}},null,this,null,qe)},n.Sd=function(){this.oX.Sd()},t}(),cG=function(){function t(t,n){this.lE=void 0,this.gmt=void 0,this.H6=void 0,this.lE=t,this.gmt=new hG(t),this.H6=n}var n=t.prototype;return n.vmt=function(t,n,i){return this.g3(t,n,!0,!1,void 0,i)},n.e8=function(t,n,i,e){return this.g3(t,n,!1,!1,i,e)},n.mmt=function(t,n,i,e){return this.g3(t,n,!1,!0,i,e)},n.g3=function(n,i,e,r,s,u){var o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return fu(u),a.next=3,Fr.awrap(this.c8(n,e,r,s,u));case 3:if(o=a.sent,!i){a.next=8;break}return a.abrupt("return",t.ymt(o));case 8:return a.abrupt("return",this.kmt(o));case 9:case"end":return a.stop()}},null,this,null,qe)},n.kmt=function(t){return t},t.ymt=function(t){return t},n.c8=function(t,n,i,e,r){var s=new dw({Ql:t.Ql,Wl:xf.Gf,Vl:t.dht?{Range:"bytes="+t.dht[0]+"-"+t.dht[1]}:void 0,bd:t.bd,md:hw.GET,fs:cw.$l,kd:i?fw.ed:fw.Kl,pd:this.H6,yd:e,Ws:r});return n?this.gmt.Yl(s):this.lE.Yl(s)},t}(),fG=function(){function t(t){this.lE=void 0,this.lE=t}return t.prototype.c_t=function(t,n,i,e){var r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(this.lE.Yl({Ql:t,Wl:xf.Gf,Vl:{Range:"bytes="+n[0]+"-"+n[1]},bd:i,md:hw.GET,fs:cw.Kl,Ws:e}));case 2:return r=s.sent,s.next=5,Fr.awrap(r.Rl());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,qe)},t}(),lG=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).a8=void 0,r.a8=n,r}return E(n,t),n}(nn),vG=function(){function t(t){this.B4=void 0,this.B4=t}return t.prototype.c_t=function(t,n,i,e){var r,s;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.B4.G6(t,n));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.buffer);case 5:return i.next=7,Fr.awrap(this.B4.G6(t));case 7:if(!(s=i.sent)){i.next=10;break}return i.abrupt("return",Qo(new _(s.buffer),n[0],n[1]));case 10:throw new lG({Ql:t,dht:n,bd:!1});case 11:case"end":return i.stop()}},null,this,null,qe)},t}(),dG={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new yS([0,0]).PN,references:[]},wG={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},gG=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).pmt=void 0,u.bmt=void 0,u.Rat=void 0,u.avt=void 0,u.pmt=new fG(i),u.Rat=e,u.bmt=r,u.avt=s,u}E(n,t);var i=n.prototype;return i.c_t=function(n,i,e,r){var s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Fr.awrap(t.prototype.c_t.call(this,n,i,e,r));case 3:return u.abrupt("return",u.sent);case 6:u.prev=6,u.t0=u.catch(0),lu(u.t0);case 9:return u.next=11,Fr.awrap(this.pmt.c_t(n,i,e,r));case 11:return s=u.sent,u.next=14,Fr.awrap(this.Amt(n,i,s));case 14:return u.abrupt("return",s);case 15:case"end":return u.stop()}},null,this,[[0,6]],qe)},i.Amt=function(t,i,e){var r,s,u,o,a,h,c,f=this;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(void 0!==this.bmt){l.next=2;break}return l.abrupt("return");case 2:return r=this.Rat.pat,s=DU(t,i),l.next=6,Fr.awrap(r.Iu(s));case 6:if(!(u=l.sent)){l.next=12;break}return l.next=10,Fr.awrap(uG(u,this.bmt,r,this.avt));case 10:l.next=22;break;case 12:return l.prev=12,o={buffer:e},a=n.fmt(s,o,this.bmt),h=a.segmentMetadataEntry,c=a.segmentEntry,l.next=17,Fr.awrap(this.Rat.Sat(function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.pat.fat(h,f.avt));case 2:return n.next=4,Fr.awrap(t.$K.fat(c,f.avt));case 4:case"end":return n.stop()}},null,null,null,qe)}));case 17:l.next=22;break;case 19:throw l.prev=19,l.t0=l.catch(12),new Wz("Unable to store segment with url: "+t,l.t0);case 22:case"end":return l.stop()}},null,this,[[12,19]],qe)},n.fmt=function(t,n,i){return{segmentMetadataEntry:Ur({},dG,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:Ur({},wG,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(vG);var mG=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Tmt=function(t,n,i,e,r,s,u){return new sG(t,n,i,e,r,s,u)},n}(function(){function t(t){this.lE=t}return t.prototype.yK=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.cN.sources[0].useCredentials),r=new cG(this.lE,lw.Kl),s=new dH(this.lE,e),u=new NU(n.bat,n.pat,n.$K,n.Tat),o=function(t,n,i,e,r){return new gG(n,t,i,e,r)}(this.lE,u,n,t.P_,i),a=new FU,h=new pH(yH(s,u),a,t);return this.Tmt(t,n,h,a,r,o,i)},t}());function yG(t){var n,i={get id(){return t.P_},get status(){return t.zl},get source(){return t.cN},get parameters(){return t.wc},get duration(){return t.Hg},get cached(){return t.Smt.qD()},get secondsCached(){return t.Emt},get percentageCached(){return t.Imt},get bytes(){return t.Rmt},get bytesCached(){return t.Dmt},get license(){return t.hO.Gw},start:function(){t.RN()},pause:function(){t.Cm()},remove:function(){t.Qh()},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}};return n=new IR(t,["kvt","Zft"],i),i}var pG=function(){function t(t,n,i){this.Xht=t,this.Rat=n,this.Qht=i}var n=t.prototype;return n.Nmt=function(){var t=this;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.Rat.Sat(function(n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(t.Cmt(n));case 2:return i.next=4,Fr.awrap(t.Pmt(n));case 4:return i.next=6,Fr.awrap(t.Bmt(n));case 6:return i.next=8,Fr.awrap(t.Omt(n));case 8:case"end":return i.stop()}},null,null,null,qe)}));case 2:case"end":return n.stop()}},null,this,null,qe)},n.Cmt=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.Aat,i=this.Xht.P_,e.next=4,Fr.awrap(n.Qh(i));case 4:case"end":return e.stop()}},null,this,null,qe)},n.Pmt=function(t){var n,i,e,r,s,u,o,a=this;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(n=t.pat,i=t.$K,ly(e=this.Xht.cN.sources[0])){h.next=5;break}return h.abrupt("return");case 5:return r=CU(e.src),h.next=8,Fr.awrap(n.gat(r,"manifestURL"));case 8:s=h.sent.filter(function(t){return Qs(t.references,a.Xht.P_)}),u=0;case 10:if(!(u<s.length)){h.next=25;break}if($s((o=s[u]).references,this.Xht.P_),0!==o.references.length){h.next=20;break}return h.next=16,Fr.awrap(n.Qh(o.key));case 16:return h.next=18,Fr.awrap(i.Qh(o.key));case 18:h.next=22;break;case 20:return h.next=22,Fr.awrap(n.fat(o));case 22:u++,h.next=10;break;case 25:case"end":return h.stop()}},null,this,null,qe)},n.Bmt=function(t){var n,i,e,r,s,u=this;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.bat,i=this.xmt(),o.next=4,Fr.awrap(n.oat(i));case 4:e=o.sent.filter(function(t){return Qs(t.references,u.Xht.P_)}),r=0;case 6:if(!(r<e.length)){o.next=19;break}if($s((s=e[r]).references,this.Xht.P_),0!==s.references.length){o.next=14;break}return o.next=12,Fr.awrap(n.Qh(s.key));case 12:o.next=16;break;case 14:return o.next=16,Fr.awrap(n.fat(s));case 16:r++,o.next=6;break;case 19:case"end":return o.stop()}},null,this,null,qe)},n.xmt=function(){if(!this.Qht)return[];var t=this.Xht.cN.sources[0];if(!ly(t))return[];var n=CU(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.Nvt;i<e.length;i++)for(var r=0,s=e[i].Lvt;r<s.length;r++)for(var u=0,o=s[r].VA;u<o.length;u++)for(var a=0,h=o[u].M_;a<h.length;a++){var c=h[a];c.Zvt&&n.push(c.Zvt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.Qht).map(function(t){return{src:t}}).map(function(t){return CU(t.src)});return[n].concat(i)},n.Omt=function(t){var n,i,e,r,s=this;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.Tat,u.next=3,Fr.awrap(n.wat());case 3:i=u.sent.filter(function(t){return Qs(t.references,s.Xht.P_)}),e=0;case 5:if(!(e<i.length)){u.next=19;break}if($s((r=i[e]).references,this.Xht.P_),0!==r.references.length){u.next=14;break}return u.next=11,Fr.awrap(n.Qh(r.key));case 11:this.Lmt(r),u.next=16;break;case 14:return u.next=16,Fr.awrap(n.fat(r));case 16:e++,u.next=5;break;case 19:case"end":return u.stop()}},null,this,null,qe)},n.Lmt=function(t){},t}(),_G=new(function(){function t(){}return t.prototype.yK=function(t,n,i){return new pG(t,n,i)},t}());var bG=function(){function t(t,n){this.Ww=void 0,this.Sw=t,this.Mmt=n}var n=t.prototype;return n.Umt=function(t){this.Xmt(t)},n.Xmt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Fr.awrap(this.Mmt.amt(t));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),this.Sw.vvt(Sz.ERROR);case 9:case"end":return n.stop()}},null,this,[[0,5]],qe)},T(t,[{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=(t=this,{renew:function(n){t.Umt(n)}})),this.Ww}}]),t}(),kG=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this)||this).Bh=void 0,o.ovt=void 0,o.Ww=void 0,o.lrt=void 0,o.Hmt=void 0,o.Rat=void 0,o.Mmt=void 0,o.Fmt=new au,o.zmt=void 0,o.evictOnLoading=function(){o.tu("Zft",o.evictOnLoading),o.Vmt()},o.Bh=n,o.lrt=i,o.Hmt=e,o.Rat=r,o.Mmt=s.yK(Jt(o),o.Rat,u),o.zmt=new bG(Jt(o),o.Mmt),o.ovt=1===o.Mmt.Kgt.Rvt?Sz.DONE:Sz.IDLE,o.Mmt.Zs("kvt",function(t){o.js(t),1===o.Imt&&o.vvt(Sz.DONE)});var h=new Date,c=o.Hmt.expirationDate.getTime()-h.getTime();return c<2147483647&&a(function(){return o.Vmt()},c),o}E(n,t);var i=n.prototype;return i.vvt=function(t){this.ovt!==t&&(this.ovt=t,this.Qs(new Iz))},i.RN=function(){this.ovt===Sz.EVICTED||this.ovt===Sz.DONE||this.Wmt()},i.Wmt=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.vvt(Sz.LOADING),t=new au,this.Fmt=t,n.next=6,Fr.awrap(this.Mmt.Jgt(t.Ws));case 6:this.vvt(Sz.DONE),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),cu(n.t0)?this.vvt(Sz.IDLE):this.vvt(Sz.ERROR);case 12:return n.prev=12,this.Fmt.xs(),n.finish(12);case 15:case"end":return n.stop()}},null,this,[[0,9,12,15]],qe)},i.Cm=function(){this.Fmt.Fs()},i.Qh=function(){this.zl===Sz.LOADING?(this.Zs("Zft",this.evictOnLoading),this.Cm()):this.Vmt()},i.Vmt=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Fr.awrap(this.Mmt.omt());case 3:return t=n.sent,n.next=6,Fr.awrap(_G.yK(this,this.Rat,t).Nmt());case 6:this.Mmt.Kgt=Uz.Evt(),this.vvt(Sz.EVICTED),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),this.vvt(Sz.ERROR);case 14:case"end":return n.stop()}},null,this,[[0,10]],qe)},T(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=yG(this)),this.Ww}},{key:"P_",get:function(){return this.Bh}},{key:"hO",get:function(){return this.zmt}},{key:"zl",get:function(){return this.ovt}},{key:"cN",get:function(){return this.lrt}},{key:"wc",get:function(){return this.Hmt}},{key:"Hg",get:function(){return this.Mmt.Kgt.oC}},{key:"Smt",get:function(){return this.Mmt.Kgt.Svt}},{key:"Emt",get:function(){return this.Mmt.Kgt.Tvt}},{key:"Imt",get:function(){return this.Mmt.Kgt.Rvt}},{key:"Rmt",get:function(){return this.Mmt.wmt}},{key:"Dmt",get:function(){return this.Mmt.Kgt.Ivt}}]),n}(Gm);var AG=function(){function t(t,n){this.Rat=t,this.Gmt=n}var n=t.prototype;return n._vt=function(t,n,i){var e=oI();return this.dvt(e,t,n,i)},n.dvt=function(t,n,i,e){return new kG(t,n,i,this.Rat,this.Gmt,e)},t}(),TG=30,SG=5;function EG(t){if(!t)throw new l("Unexpected - The cache parameters are undefined");var n=function(t){if(G(t)&&!ks(t,"%"))return m(t);return t}(t.amount);!function(t){if(i=t,G(i)&&ks(i,"%")){var n=y(t);if(p(n)||n<0||n>100)throw new l("The amount as percentage must be between 0 and 100 percent.")}var i;if(!G(t)&&p(t))throw new l("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+TG),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(Q(n)&&n>new Date)))throw new l("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(p(t)||t<0)throw new l("The bandwidth must be between zero and infinity.")}(e),{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return SG;if(p(t))throw new l("The amount must be a number");return t}(t.numberOfParallelTasks)}}var IG,RG,CG,DG,NG,PG,xG=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ww=void 0,e.qmt=n,e.mU=i,e.qmt.Zs("Zft",e.js),e}return E(n,t),n.prototype.Ymt=function(t,n,i){var e,r;if(!t)throw new l("Unexpected - The source description is undefined");if(e=RE(t),r=EG(n),gE(e))throw new l("Invalid source description");return this.qmt.dvt(e,r).Gw},T(n,[{key:"Gw",get:function(){var t,n,i;return this.Ww||(this.Ww=(i={get status(){return t.zl},get tasks(){return t.yvt},get network(){return t.CU.Gw},createTask:function(n,i){return t.Ymt(n,i)},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new RR(t=this,i),i)),this.Ww}},{key:"zl",get:function(){return this.qmt.zl}},{key:"yvt",get:function(){return this.qmt.yvt.Gw}},{key:"CU",get:function(){return this.mU}}]),n}(Gm);(IG=new aR(i.Xw,!1),RG=WU.Yn,CG=new mG(IG),DG=new AG(RG,CG),NG=new cR(IG),PG=new Lz(RG.Aat,DG,"persistent"),new xG(PG,NG)).Gw;var BG=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Bh=void 0,s.ovt=void 0,s.Ww=void 0,s.lrt=void 0,s.Hmt=void 0,s.ua=0,s.jmt=yS.fC(),s.Qmt=0,s.Zmt=0,s.qmt=void 0,s.Bh=n,s.ovt=Sz.IDLE,s.lrt=i,s.Hmt=e,s.qmt=r,s}E(n,t);var i=n.prototype;return i.RN=function(){this.qmt.startCachingTask(this)},i.Qh=function(){this.qmt.removeCachingTask(this)},T(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=yG(this)),this.Ww}},{key:"P_",get:function(){return this.Bh}},{key:"zl",get:function(){return this.ovt},set:function(t){this.ovt!==t&&(this.ovt=t,this.Qs(new Iz))}},{key:"cN",get:function(){return this.lrt}},{key:"wc",get:function(){return this.Hmt}},{key:"Hg",get:function(){return this.ua},set:function(t){this.ua=t}},{key:"Smt",get:function(){return this.jmt},set:function(t){this.jmt=t}},{key:"Emt",get:function(){return this.Qmt},set:function(t){this.Qmt=t}},{key:"Imt",get:function(){return this.Zmt},set:function(t){this.Zmt=t,this.Qs(new Fz)}}]),n}($m),OG=30;function LG(t){var n,i;if(!t)throw new l("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+OG),n&&((i=n)&&!(Q(i)&&i>new Date)))throw new l("Invalid expiration date for the cache parameters");return{expirationDate:n}}var MG=function(t){function n(){var n;return(n=t.call(this)||this).ovt=Dz.UNINITIALISED,n.GU=new Oz,n.Lct=void 0,n.Jct=void 0,n.Kmt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.zl=Sz.EVICTED,i.Imt=0,i.Emt=0,i.Hg=0,i.Smt=yS.fC(),n.GU.Qh(i))}},n.Jmt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.zl=e);var r=t.detail.percentage;r&&(i.Imt=r);var s=t.detail.duration;s&&(i.Hg=s);var u=t.detail.seconds;u&&(i.Emt=u);var o=t.detail.cached;if(o){for(var a=[],h=0;h<o.length;h++){var c=o[h];a.push(c.start,c.end)}i.Smt=new yS(a)}}}},n.$mt=function(t){if(t.detail){var i=RE(JSON.parse(t.detail.source));if(!n.tyt(i)){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)});var s=t.detail.uuid;n.dvt(i,LG(e),s)}}},n.nyt=function(t){if(t.detail){var i={},e=t.detail.expirationDate;e&&(i={expirationDate:new Date(e)});var r=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.dvt(RE(r),LG(i),s);u.zl=t.detail.status,u.Imt=t.detail.percentage,u.Hg=t.detail.duration,u.Emt=t.detail.seconds;for(var o=t.detail.cached,a=[],h=0;h<o.length;h++){var c=o[h];a.push(c.start,c.end)}u.Smt=new yS(a)}},n.iyt=function(t){t.detail&&n.vvt(t.detail.status)},n.Lct=new bz,n.Jct=new JV,GV().cache={sdkEventBus:n.Jct},n.Gft(),n}E(n,t);var i=n.prototype;return i.vvt=function(t){this.ovt!==t&&(this.ovt=t,this.Qs(new Iz))},i.dvt=function(t,n,i){void 0===i&&(i=void 0);var e=new BG(i||oI(),t,n,this);return this.GU.Sy(e),i||this.Lct.rK("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e.P_}),e},i.findTaskWithId=function(t){for(var n=0,i=this.GU.Jft;n<i.length;n++){var e=i[n];if(e.P_===t)return e}},i.tyt=function(t){for(var n=FG(t.sources),i=0,e=this.GU.Jft;i<e.length;i++){if(FG(e[i].cN.sources).src===n.src)return!0}return!1},i.Gft=function(){this.Jct.addEventListener("deleteTask",this.Kmt),this.Jct.addEventListener("updateValues",this.Jmt),this.Jct.addEventListener("newTask",this.$mt),this.Jct.addEventListener("restoreTask",this.nyt),this.Jct.addEventListener("setCacheStatus",this.iyt)},i.startCachingTask=function(t){this.Lct.rK("THEOplayerCacheStartCachingTask",{id:t.P_})},i.removeCachingTask=function(t){this.Lct.rK("THEOplayerCacheRemoveCachingTask",{id:t.P_})},T(n,[{key:"zl",get:function(){return this.ovt}},{key:"yvt",get:function(){return this.GU}}]),n}(Su),jG=function(t){function n(n){var i;return(i=t.call(this,n)||this).eyt=n,i.eyt.Zs("Zft",i.js),i}return E(n,t),n.prototype.Ymt=function(t,n){var i,e;if(!t)throw new l("Unexpected - The source description is undefined");if(i=RE(t),e=LG(n),gE(i))throw new l("Invalid source description");if(!FG(i.sources))throw new l("The provided sources can't be cached");return this.eyt.dvt(i,e).Gw},n}(xG);function FG(t){for(var n=0;n<t.length;n++){var i=t[n];if(ay(i.type))return i}}var UG,HG,XG=function(){var t=new MG;return new jG(t)}().Gw;!function(t){t.ryt="any",t.syt="natural",t.uyt="landscape",t.oyt="portrait",t.ayt="portrait-primary",t.hyt="portrait-secondary",t.cyt="landscape-primary",t.fyt="landscape-secondary"}(UG||(UG={})),function(t){t.ayt="portrait-primary",t.hyt="portrait-secondary",t.cyt="landscape-primary",t.fyt="landscape-secondary"}(HG||(HG={}));var VG,zG,WG=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Lct=new bz,n.vyt=UG.syt,n.lyt=HG.ayt,n.dyt=HG.ayt,n.wyt=HG.ayt,n}E(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,e){n.vyt=t,n.Lct.rK("THEOplayerOrientationLock",t),n._yt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.vyt=UG.syt,t.Lct.rK("THEOplayerOrientationUnlock"),t.type=t.dyt,t._yt(),n()})},i._yt=function(){var t=this.wyt,n=this.type;t!==n&&(this.wyt=n,this.Qs(new Iu("change")))},i.addEventListener=function(t,n){this.Zs(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n.gyt=function(t){switch(t){case UG.ayt:return[HG.ayt];case UG.hyt:return[HG.hyt];case UG.oyt:return[HG.ayt,HG.hyt];case UG.cyt:return[HG.cyt];case UG.fyt:return[HG.fyt];case UG.uyt:return[HG.cyt,HG.fyt];case UG.syt:return[HG.ayt,HG.cyt,HG.fyt];case UG.ryt:return[HG.ayt,HG.hyt,HG.cyt,HG.fyt]}},n.myt=function(t,i){return n.gyt(i).indexOf(t)>=0},T(n,[{key:"type",get:function(){return this.lyt},set:function(t){this.dyt=t,n.myt(t,this.vyt)?(this.lyt=t,this._yt()):(t===HG.cyt&&this.vyt===UG.fyt&&(this.lyt=HG.fyt,this._yt()),t===HG.fyt&&this.vyt===UG.cyt&&(this.lyt=HG.cyt,this._yt()))}},{key:"angle",get:function(){switch(this.type){case HG.cyt:return-90;case HG.fyt:return 90;case HG.ayt:return 0;case HG.hyt:return 180;default:return 0}}}]),n}($m);WG.Yn=new WG,r.screen.orientation=WG.Yn,o&&-1===o.userAgent.indexOf("OS 9")&&w.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.yyt="unavailable",t.kyt="available",t.pyt="presenting"}(VG||(VG={})),rC(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return E(n,t),n.prototype.Om=function(n){t.prototype.Om.call(this,n);var i=this.Gw;this.Gw.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===VG.pyt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(UG.fyt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},KR.OU),function(t){t.Hw="addtrack",t.zw="removetrack",t.r_="change",t.c_="update"}(zG||(zG={}));var qG=function(t,n,i){this.type=zG.r_,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},GG=function(t,n){this.type=zG.Hw,this.mediaType=t,this.mediaTrack=n},$G=function(t,n){this.type=zG.zw,this.mediaType=t,this.mediaTrack=n},YG=function(t,n){this.type=zG.c_,this.mediaType=t,this.mediaTrack=n},QG=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.byt=function(t){var n=new qG(e.type,t.track,e.mediaTracks);e.messageDispatcher.Ayt(n)},this.Tyt=function(t){var n=new GG(e.type,t.track);e.messageDispatcher.Ayt(n),t.track.addEventListener("update",e.Syt)},this.Eyt=function(t){var n=new $G(e.type,t.track);e.messageDispatcher.Ayt(n)},this.Syt=function(t){var n=new YG(e.type,t.track);e.messageDispatcher.Ayt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.Gft()}return t.prototype.Gft=function(){this.mediaTracks.addEventListener("change",this.byt),this.mediaTracks.addEventListener("addtrack",this.Tyt),this.mediaTracks.addEventListener("removetrack",this.Eyt)},t}(),ZG=function(){function t(){this.Iyt=void 0,this.Iyt=new bz}return t.prototype.Ayt=function(t){this.Iyt.rK(t.type,PH(t))},t}();hC(function(t){if(t.Gw.audioTracks){var n=new ZG;new QG("audio",t.Gw.audioTracks,n)}if(t.Gw.videoTracks){var i=new ZG;new QG("video",t.Gw.videoTracks,i)}});var KG,JG="nativePromiseCallback",t$=function(t){function n(n){var i;return(i=t.call(this,JG)||this).detail=n,i}return E(n,t),n}(Iu);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(KG||(KG={}));var n$=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Qs(new t$(n))},i.addEventListener=function(t,n){this.Zs(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n}(JV),i$=function(){function t(){var t=this;this.Iyt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new l("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case KG.RESOLVE:i.Wu(n.detail.data);break;case KG.REJECT:i.Gu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new n$;GV().nativePromise={sdkEventBus:n},n.addEventListener(JG,this.handleNativePromiseEvent)}return t.prototype.Ryt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=Ur({},n,{promiseId:e}),s=new na;return this.promisesMap[e]=s,null==(i=this.Iyt)||i.rK(n.type,DH(r)),s.Hu},t}();i$.messageIdTracker=-1;var e$,r$=function(t){function n(){var n;return(n=t.call(this)||this).Iyt=new bz,n}return E(n,t),n}(i$),s$=function(){function n(t){this.playerID=t}return n.prototype.rK=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),u$=function(t){function n(n){var i;return(i=t.call(this)||this).Iyt=new s$(n),i}return E(n,t),n}(i$);!function(t){t.Hw="TextTrackListAddTrack",t.zw="TextTrackListRemoveTrack",t.r_="TextTrackListChange"}(e$||(e$={}));var o$,a$=function(t){this.type=e$.Hw,this.textTrack=t},h$=function(t){this.type=e$.zw,this.textTrack=t},c$=function(t){this.type=e$.r_,this.textTrack=t};!function(t){t.jw="TextTrackAddCue",t.Zw="TextTrackRemoveCue",t.Jw="TextTrackEnterCue",t.t_="TextTrackExitCue",t.i_="TextTrackCueChange"}(o$||(o$={}));var f$,l$=function(t,n){this.type=o$.jw,this.textTrackCue=t,this.textTrackUid=n},v$=function(t,n){this.type=o$.Zw,this.textTrackCue=t,this.textTrackUid=n},d$=function(t,n){this.type=o$.Jw,this.textTrackCue=t,this.textTrackUid=n},w$=function(t,n){this.type=o$.t_,this.textTrackCue=t,this.textTrackUid=n},g$=function(t){this.type=o$.i_,this.textTrackUid=t};!function(t){t.Uy="TextTrackCueEnter",t.Hy="TextTrackCueExit",t.c_="TextTrackCueUpdate"}(f$||(f$={}));var m$=function(t){this.type=f$.Uy,this.textTrackCue=t},y$=function(t){this.type=f$.Hy,this.textTrackCue=t},p$=function(t){this.type=f$.c_,this.textTrackCue=t},_$=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.Dyt=function(t){var i=b$(t.cue),e=new m$(i);n.messageDispatcher.Ryt(e).then()},this.Nyt=function(t){var i=b$(t.cue),e=new y$(i);n.messageDispatcher.Ryt(e).then()},this.Cyt=function(t){var i=b$(t.cue),e=new p$(i);n.messageDispatcher.Ryt(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.Gft=function(t){t.addEventListener("enter",this.Dyt),t.addEventListener("exit",this.Nyt),t.addEventListener("update",this.Cyt)},n.uu=function(t){t.removeEventListener("enter",this.Dyt),t.removeEventListener("exit",this.Nyt),t.removeEventListener("update",this.Cyt)},t}();function b$(t){var n=UV(t,t.track.type);return delete n.track,n}var k$=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.Pyt=function(t){var n,e=b$(t.cue),r=new l$(e,t.cue.track.uid);i.messageDispatcher.Ryt(r).then(),null==(n=i.textTrackCueBridge)||n.Gft(t.cue)},this.Byt=function(t){var n,e=b$(t.cue),r=new v$(e,t.cue.track.uid);i.messageDispatcher.Ryt(r).then(),null==(n=i.textTrackCueBridge)||n.uu(t.cue)},this.Dyt=function(t){var n=b$(t.cue),e=new d$(n,t.cue.track.uid);i.messageDispatcher.Ryt(e).then()},this.Nyt=function(t){var n=b$(t.cue),e=new w$(n,t.cue.track.uid);i.messageDispatcher.Ryt(e).then()},this.Oyt=function(t){var n=new g$(t.track.uid);i.messageDispatcher.Ryt(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new _$(e))}var n=t.prototype;return n.Gft=function(t){t.addEventListener("addcue",this.Pyt),t.addEventListener("removecue",this.Byt),t.addEventListener("entercue",this.Dyt),t.addEventListener("exitcue",this.Nyt),t.addEventListener("cuechange",this.Oyt)},n.uu=function(t){t.removeEventListener("addcue",this.Pyt),t.removeEventListener("removecue",this.Byt),t.removeEventListener("entercue",this.Dyt),t.removeEventListener("exitcue",this.Nyt),t.removeEventListener("cuechange",this.Oyt)},n.initMessageDispatcher=function(t){return j.Vn?new r$:j.Wn&&void 0!==t?new u$(t):void 0},t}(),A$=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.Tyt=function(t){var n,i=new a$(t.track);e.messageDispatcher.Ryt(i).then(),null==(n=e.textTrackBridge)||n.Gft(t.track)},this.Eyt=function(t){var n,i=new h$(t.track);e.messageDispatcher.Ryt(i).then(),null==(n=e.textTrackBridge)||n.uu(t.track)},this.xyt=function(t){var n=new c$(t.track);e.messageDispatcher.Ryt(n).then()},this.Lyt=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.Myt(i);r&&(this.textTrackBridge=new k$(r,i)),this.Gft(),this.sdkEventBus=new JV,GV().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.Lyt)}var n=t.prototype;return n.Gft=function(){this.textTracks.addEventListener("addtrack",this.Tyt),this.textTracks.addEventListener("removetrack",this.Eyt),this.textTracks.addEventListener("change",this.xyt)},n.Myt=function(t){return j.Vn?new r$:j.Wn&&void 0!==t?new u$(t):void 0},t}();hC(function(t){if(t.Gw.textTracks){var n=new r$;new A$(t.Gw.textTracks,n)}});var T$,S$,E$=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case T$.Uyt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Qs(new I$(i));break;default:0}},n}(JV),I$=function(t){function n(n){var i;return(i=t.call(this,T$.Uyt)||this).detail=n,i}return E(n,t),n}(Iu);!function(t){t.Uyt="registerContentProtectionIntegration"}(T$||(T$={})),function(t){t.Xyt="certifiateRequest",t.Hyt="certifiateResponse",t.Fyt="licenseRequest",t.zyt="licenseResponse",t.Vyt="extractFairplayContentId",t.Wyt="buildContentProtection",t.Gyt="registerContentProtectionCallback"}(S$||(S$={}));var R$,C$,D$=function(t,n){this.type=S$.Gyt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(R$||(R$={})),function(t){t.GALLERY="gallery",t.OVERLAY="overlay",t.SPOTLIGHT="spotlight"}(C$||(C$={}));var N$=function(t,n){this.type=S$.Wyt,this.value=t,this.integrationId=n},P$=function(t,n){this.type=S$.Xyt,this.value=t,this.integrationId=n},x$=function(t,n){this.type=S$.Hyt,this.value=t,this.integrationId=n},B$=function(t,n){this.type=S$.Vyt,this.value=t,this.integrationId=n},O$=function(t,n){this.type=S$.Fyt,this.value=t,this.integrationId=n},L$=function(t,n){this.type=S$.zyt,this.value=t,this.integrationId=n},M$=function(){function t(t,n){this.qyt=void 0,this.pI=void 0,this.qyt=t,this.pI=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e=new P$(i,this.pI),a.prev=2,a.next=5,Fr.awrap(this.qyt.Ryt(e));case 5:if(!(r=a.sent)){a.next=16;break}if(s=JSON.parse(r),!this.Yyt(s)){a.next=13;break}return u=Ur({},s),a.abrupt("return",u);case 13:if(!this.jyt(s)){a.next=16;break}return o=new _(s),a.abrupt("return",o);case 16:throw new up(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw a.prev=19,a.t0=a.catch(2),new up(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 22:case"end":return a.stop()}},null,this,[[2,19]],qe)},i.onCertificateResponse=function(t){var i,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new x$(e,this.pI),o.next=5,Fr.awrap(this.qyt.Ryt(r));case 5:if(!(s=o.sent)){o.next=11;break}return u=JSON.parse(s),o.abrupt("return",new _(u));case 11:throw new up(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,qe)},i.onLicenseRequest=function(t){var i,e,r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new O$(e,this.pI),h.prev=3,h.next=6,Fr.awrap(this.qyt.Ryt(r));case 6:if(!(s=h.sent)){h.next=17;break}if(u=JSON.parse(s),!this.Yyt(u)){h.next=14;break}return o={url:u.url,method:u.method,headers:u.headers,body:u.body?new _(u.body):null,useCredentials:u.useCredentials,fairplaySkdUrl:u.fairplaySkdUrl},h.abrupt("return",o);case 14:if(!this.jyt(u)){h.next=17;break}return a=new _(u),h.abrupt("return",a);case 17:throw new up(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw h.prev=20,h.t0=h.catch(3),new up(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,h.t0);case 23:case"end":return h.stop()}},null,this,[[3,20]],qe)},i.onLicenseResponse=function(t){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=Ur({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},s=new L$(r,this.pI),a.next=6,Fr.awrap(this.qyt.Ryt(s));case 6:if(!(u=a.sent)){a.next=12;break}return o=JSON.parse(u),a.abrupt("return",new _(o));case 12:throw new up(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return a.stop()}},null,this,null,qe)},i.extractFairplayContentId=function(t){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new B$(t,this.pI),r.next=3,Fr.awrap(this.qyt.Ryt(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",qe.reject(new up(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,qe)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.Yyt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.jyt=function(t){return!!new _(t)},t}(),j$=function(){function t(t){this.qyt=void 0,this.qyt=t}return t.prototype.build=function(t){if(!t.integration)throw new l("integrationId is undefined");var n=new M$(this.qyt,t.integration),i=new N$({drmConfiguration:t},t.integration);return this.qyt.Ryt(i),n},t}(),F$=function(t){function n(){var n;return(n=t.call(this)||this).qyt=new r$,n}return E(n,t),T(n,[{key:"messageDispatcher",get:function(){return this.qyt}}]),n}(function(){var t=this;this.Jct=void 0,this.Qyt=function(n){var i=new j$(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:iA.II.AI(r,s,i)};t.messageDispatcher.Ryt(new D$(u,r))},this.Jct=new E$,GV().contentProtectionIntegration={sdkEventBus:this.Jct},this.Jct.addEventListener(T$.Uyt,this.Qyt)});hC(function(t){new F$});var U$=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return E(n,t),n}(Iu);var H$,X$=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Zyt=function(){},e.Kyt(),e}E(n,t);var e=n.prototype;return e.Jyt=function(){this.mN&&this.mN.tu(Pf.sf,this.handleAirplayChangedEvent),this.mN=this.Zx,this.mN.Zs(Pf.sf,this.handleAirplayChangedEvent)},e.$yt=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mN){t.next=2;break}return t.abrupt("return");case 2:this.tkt(JS.CONNECTED);case 3:case"end":return t.stop()}},null,this,null,qe)},e.nkt=function(){this.tkt(JS.AVAILABLE)},e.Lm=function(){i.Lr.ze&&(this.ikt.Um(),this.ekt.Fs(),this.ekt=new au,pu(this.rkt(this.ekt.Ws)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).Ww=void 0,e.ikt=void 0,e.mN=void 0,e.Zx=void 0,e.me=JS.UNAVAILABLE,e.ekt=new au,e.Zyt=void 0,e.handleAirplayChangedEvent=function(){e.mN&&e.mN.iy?e.$yt():e.uQ===JS.CONNECTED&&e.nkt()},e.ikt=n,e.Zx=i,e}E(n,t);var e=n.prototype;return e.Kyt=function(){this.Jyt(),this.ikt.Zs("sourcechange",this.Zyt),i.Lr.ze&&this.tkt(JS.AVAILABLE)},e.preloadPlayer=function(t){if(fu(t),this.mN.Y_<ey.Dg){var n=this.mN.au("loadedmetadata",t);return this.mN.yy=cS.Kb,n}return qe.resolve()},e.tkt=function(t){t!==this.me&&(this.me=t,this.Qs(new U$(this.me)))},e.rkt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.preloadPlayer(t));case 2:this.Zx.Lm();case 3:case"end":return n.stop()}},null,this,null,qe)},e.Mm=function(){i.Lr.ze&&this.mN.Mm()},e.Sd=function(){this.$s(),this.ikt.tu("sourcechange",this.Zyt),this.ekt.Fs()},T(n,[{key:"IM",get:function(){return this.uQ===JS.CONNECTED}},{key:"uQ",get:function(){return this.me}},{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=(t=this,{get casting(){return t.IM},get state(){return t.uQ},start:function(){t.Lm()},stop:function(){t.Mm()},addEventListener:function(n,i){var e=Dm(n,Rm);t.Zs(e,i)},removeEventListener:function(n,i){var e=Dm(n,Rm);t.tu(e,i)}})),this.Ww}}]),n}(Su));rC(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.qw=function(){var n=this.DU.Gw;return _m(t.prototype.qw.call(this),{get cast(){return n}})},n}(t)},KR.BU),rC(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).skt=void 0,e.skt=new X$(Jt(e),e.kM),e.DU.RM(e.skt),e.Zs("currentsourcechange",function(){e.skt.Jyt()}),e}E(n,t);var i=n.prototype;return i.qw=function(){var n=this,i=t.prototype.qw.call(this);return _m(i.cast,{get airplay(){return n.skt.Gw}}),i},i.Sd=function(){this.skt.Sd(),t.prototype.Sd.call(this)},n}(t)},KR.BU),function(t){t.ukt="airplaystatechange"}(H$||(H$={}));var V$=function(t){this.type=H$.ukt,this.state=t},z$=function(t){function n(n){var i;return(i=t.call(this)||this).okt=void 0,i.akt=function(t){var n=new V$(t.state);i.Ayt(n)},i.okt=n,i.Gft(n),i}return E(n,t),n.prototype.Gft=function(t){t.addEventListener("statechange",this.akt)},n}(ZG);function W$(t){throw new l('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}hC(function(t){var n;null!=(n=t.Gw.cast)&&n.airplay&&new z$(t.Gw.cast.airplay)});var q$,G$={exports:{}},$$=Mr(G$.exports=function t(n,i,e){function r(u,o){if(!i[u]){if(!n[u]){var a=W$;if(!o&&a)return a(u,!0);if(s)return s(u,!0);var h=new l("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[u]={exports:{}};n[u][0].call(c.exports,function(t){var i=n[u][1][t];return r(i||t)},c,c.exports,t,n,i,e)}return i[u].exports}for(var s=W$,u=0;u<e.length;u++)r(e[u]);return r}({1:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.tpt=!1,r.on("mousedown",r.handleMouseDown),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-big-play-button"},n.prototype.handleClick=function(t){var n=this.fN.play();if(!(this.tpt&&t.clientX&&t.clientY)){var i=this.fN.getChild("controlBar"),e=i&&i.getChild("playToggle");if(e){var r=function(){return e.focus()};n&&n.then?n.then(r,function(){}):this.setTimeout(r,1)}else this.fN.focus()}},n.prototype.handleKeyPress=function(n){this.tpt=!1,t.prototype.handleKeyPress.call(this,n)},n.prototype.handleMouseDown=function(t){this.tpt=!0},n}(r.default);a.prototype.npt="Play Video",u.default.registerComponent("BigPlayButton",a),i.default=a},{2:2,5:5}],2:[function(t,n,i){i.__esModule=!0;var e=t(3),r=c(e),s=t(5),u=c(s),o=t(87),a=c(o),h=t(89);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=(0,h.assign)({className:this.buildCSSClass()},n),"button"!==t&&(a.default.warn("Creating a Button with an HTML element of "+t+" is deprecated; use ClickableComponent instead."),n=(0,h.assign)({tabIndex:0},n),i=(0,h.assign)({role:"button"},i)),i=(0,h.assign)({type:"button","aria-live":"polite"},i);var e=u.default.prototype.createEl.call(this,t,n,i);return this.createControlTextEl(e),e},n.prototype.addChild=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.constructor.name;return a.default.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),u.default.prototype.addChild.call(this,t,n)},n.prototype.enable=function(){t.prototype.enable.call(this),this.ipt.removeAttribute("disabled")},n.prototype.disable=function(){t.prototype.disable.call(this),this.ipt.setAttribute("disabled","disabled")},n.prototype.handleKeyPress=function(n){32!==n.which&&13!==n.which&&t.prototype.handleKeyPress.call(this,n)},n}(r.default);u.default.registerComponent("Button",f),i.default=f},{3:3,5:5,87:87,89:89}],3:[function(t,n,i){i.__esModule=!0;var e=t(5),r=y(e),s=t(81),u=m(s),o=t(82),a=m(o),h=t(83),c=m(h),f=t(87),l=y(f),d=t(85),g=t(89);function m(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function y(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.emitTapEvents(),r.on(i,"languagechange",r.handleLanguagechange),r.enable(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=(0,g.assign)({className:this.buildCSSClass(),tabIndex:0},i),"button"===n&&l.default.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead."),e=(0,g.assign)({role:"button","aria-live":"polite"},e),this.ept=i.tabIndex;var r=t.prototype.createEl.call(this,n,i,e);return this.createControlTextEl(r),r},n.prototype.createControlTextEl=function(t){return this.rpt=u.createEl("span",{className:"vjs-control-text"}),t&&t.appendChild(this.rpt),this.controlText(this.npt,t),this.rpt},n.prototype.controlText=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===t)return this.npt||"Need Text";var i=this.localize(t);return this.npt=t,this.rpt.innerHTML=i,this.nonIconControl||n.setAttribute("title",i),this},n.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.ipt.setAttribute("aria-disabled","false"),void 0!==this.ept&&this.ipt.setAttribute("tabIndex",this.ept),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},n.prototype.disable=function(){return this.addClass("vjs-disabled"),this.ipt.setAttribute("aria-disabled","true"),void 0!==this.ept&&this.ipt.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},n.prototype.handleLanguagechange=function(){this.controlText(this.npt)},n.prototype.handleClick=function(t){},n.prototype.handleFocus=function(t){a.on(d.document,"keydown",c.bind(this,this.handleKeyPress))},n.prototype.handleKeyPress=function(n){32===n.which||13===n.which?(n.preventDefault(),this.handleClick(n)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,n)},n.prototype.handleBlur=function(t){a.off(d.document,"keydown",c.bind(this,this.handleKeyPress))},n}(r.default);r.default.registerComponent("ClickableComponent",p),i.default=p},{5:5,81:81,82:82,83:83,85:85,87:87,89:89}],4:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.controlText(e&&e.controlText||"Close"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n}(r.default);u.default.registerComponent("CloseButton",a),i.default=a},{2:2,5:5}],5:[function(t,n,i){i.__esModule=!0;var e=t(85),r=t(81),s=S(r),u=t(83),o=S(u),a=t(86),h=S(a),c=t(82),f=S(c),d=t(87),p=T(d),_=t(92),b=T(_),k=t(88),A=T(k);function T(t){return t&&t.__esModule?t:{default:t}}function S(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var E=function(){function t(n,i,e){if(function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,t),!n&&this.play?this.fN=n=this:this.fN=n,this.spt=(0,A.default)({},this.spt),i=this.spt=(0,A.default)(this.spt,i),this.P_=i.id||i.el&&i.el.id,!this.P_){var r=n&&n.id&&n.id()||"no_player";this.P_=r+"upt"+h.newGUID()}this.wi=i.name||null,i.el?this.ipt=i.el:!1!==i.createEl&&(this.ipt=this.createEl()),this.Pi=[],this.apt={},this.hpt={},!1!==i.initChildren&&this.initChildren(),this.ready(e),!1!==i.reportTouchActivity&&this.enableTouchActivity()}return t.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.Pi)for(var t=this.Pi.length-1;t>=0;t--)this.Pi[t].dispose&&this.Pi[t].dispose();this.Pi=null,this.apt=null,this.hpt=null,this.off(),this.ipt.parentNode&&this.ipt.parentNode.removeChild(this.ipt),s.removeElData(this.ipt),this.ipt=null},t.prototype.player=function(){return this.fN},t.prototype.options=function(t){return p.default.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.spt=(0,A.default)(this.spt,t),this.spt):this.spt},t.prototype.el=function(){return this.ipt},t.prototype.createEl=function(t,n,i){return s.createEl(t,n,i)},t.prototype.localize=function(t){var n=this.fN.language&&this.fN.language(),i=this.fN.languages&&this.fN.languages();if(!n||!i)return t;var e=i[n];if(e&&e[t])return e[t];var r=n.split("-")[0],s=i[r];return s&&s[t]?s[t]:t},t.prototype.contentEl=function(){return this.cpt||this.ipt},t.prototype.id=function(){return this.P_},t.prototype.name=function(){return this.wi},t.prototype.children=function(){return this.Pi},t.prototype.getChildById=function(t){return this.apt[t]},t.prototype.getChild=function(t){if(t)return t=(0,b.default)(t),this.hpt[t]},t.prototype.addChild=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.Pi.length,r=void 0,s=void 0;if("string"==typeof n){s=(0,b.default)(n),i||(i={}),!0===i&&(p.default.warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),i={});var u=i.componentClass||s;i.name=s;var o=t.getComponent(u);if(!o)throw new l("Component "+u+" does not exist");if("function"!=typeof o)return null;r=new o(this.fN||this,i)}else r=n;if(this.Pi.splice(e,0,r),"function"==typeof r.id&&(this.apt[r.id()]=r),(s=s||r.name&&(0,b.default)(r.name()))&&(this.hpt[s]=r),"function"==typeof r.el&&r.el()){var a=this.contentEl().children,h=a[e]||null;this.contentEl().insertBefore(r.el(),h)}return r},t.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.Pi){for(var n=!1,i=this.Pi.length-1;i>=0;i--)if(this.Pi[i]===t){n=!0,this.Pi.splice(i,1);break}if(n){this.apt[t.id()]=null,this.hpt[t.name()]=null;var e=t.el();e&&e.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},t.prototype.initChildren=function(){var n=this,i=this.spt.children;if(i){var e=this.spt,r=void 0,s=t.getComponent("Tech");(r=Array.isArray(i)?i:w.keys(i)).concat(w.keys(this.spt).filter(function(t){return!r.some(function(n){return"string"==typeof n?t===n:t===n.name})})).map(function(t){var e=void 0,r=void 0;return"string"==typeof t?r=i[e=t]||n.spt[e]||{}:(e=t.name,r=t),{name:e,opts:r}}).filter(function(n){var i=t.getComponent(n.opts.componentClass||(0,b.default)(n.name));return i&&!s.isTech(i)}).forEach(function(t){var i=t.name,r=t.opts;if(void 0!==e[i]&&(r=e[i]),!1!==r){!0===r&&(r={}),r.playerOptions=n.spt.playerOptions;var s=n.addChild(i,r);s&&(n[i]=s)}})}},t.prototype.buildCSSClass=function(){return""},t.prototype.on=function(t,n,i){var e=this;if("string"==typeof t||Array.isArray(t))f.on(this.ipt,t,o.bind(this,n));else{var r=t,s=n,u=o.bind(this,i),a=function(){return e.off(r,s,u)};a.guid=u.guid,this.on("dispose",a);var h=function(){return e.off("dispose",a)};h.guid=u.guid,t.nodeName?(f.on(r,s,u),f.on(r,"dispose",h)):"function"==typeof t.on&&(r.on(s,u),r.on("dispose",h))}return this},t.prototype.off=function(t,n,i){if(!t||"string"==typeof t||Array.isArray(t))f.off(this.ipt,t,n);else{var e=t,r=n,s=o.bind(this,i);this.off("dispose",s),t.nodeName?(f.off(e,r,s),f.off(e,"dispose",s)):(e.off(r,s),e.off("dispose",s))}return this},t.prototype.one=function(t,n,i){var e=this,r=arguments;if("string"==typeof t||Array.isArray(t))f.one(this.ipt,t,o.bind(this,n));else{var s=t,u=n,a=o.bind(this,i),h=function t(){e.off(s,u,t),a.apply(null,r)};h.guid=a.guid,this.on(s,u,h)}return this},t.prototype.trigger=function(t,n){return f.trigger(this.ipt,t,n),this},t.prototype.ready=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(this.fpt?n?t.call(this):this.setTimeout(t,1):(this.lpt=this.lpt||[],this.lpt.push(t))),this},t.prototype.triggerReady=function(){this.fpt=!0,this.setTimeout(function(){var t=this.lpt;this.lpt=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},t.prototype.$=function(t,n){return s.$(t,n||this.contentEl())},t.prototype.$$=function(t,n){return s.$$(t,n||this.contentEl())},t.prototype.hasClass=function(t){return s.hasElClass(this.ipt,t)},t.prototype.addClass=function(t){return s.addElClass(this.ipt,t),this},t.prototype.removeClass=function(t){return s.removeElClass(this.ipt,t),this},t.prototype.toggleClass=function(t,n){return s.toggleElClass(this.ipt,t,n),this},t.prototype.show=function(){return this.removeClass("vjs-hidden"),this},t.prototype.hide=function(){return this.addClass("vjs-hidden"),this},t.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},t.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},t.prototype.getAttribute=function(t){return s.getAttribute(this.ipt,t)},t.prototype.setAttribute=function(t,n){return s.setAttribute(this.ipt,t,n),this},t.prototype.removeAttribute=function(t){return s.removeAttribute(this.ipt,t),this},t.prototype.width=function(t,n){return this.dimension("width",t,n)},t.prototype.height=function(t,n){return this.dimension("height",t,n)},t.prototype.dimensions=function(t,n){return this.width(t,!0).height(n)},t.prototype.dimension=function(t,n,i){if(void 0!==n)return null!==n&&n==n||(n=0),-1!==(""+n).indexOf("%")||-1!==(""+n).indexOf("px")?this.ipt.style[t]=n:this.ipt.style[t]="auto"===n?"":n+"px",i||this.trigger("resize"),this;if(!this.ipt)return 0;var e=this.ipt.style[t],r=e.indexOf("px");return m(-1!==r?e.slice(0,r):this.ipt["offset"+(0,b.default)(t)],10)},t.prototype.currentDimension=function(t){var n=0;if("width"!==t&&"height"!==t)throw new l("currentDimension only accepts width or height value");if("function"==typeof e.window.getComputedStyle){var i=e.window.getComputedStyle(this.ipt);n=i.getPropertyValue(t)||i[t]}if(0===(n=y(n))){var r="offset"+(0,b.default)(t);n=this.ipt[r]}return n},t.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.prototype.currentWidth=function(){return this.currentDimension("width")},t.prototype.currentHeight=function(){return this.currentDimension("height")},t.prototype.focus=function(){this.ipt.focus()},t.prototype.blur=function(){this.ipt.blur()},t.prototype.emitTapEvents=function(){var t=0,n=null,i=void 0;this.on("touchstart",function(e){1===e.touches.length&&(n={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=(new Date).getTime(),i=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)i=!1;else if(n){var e=t.touches[0].pageX-n.pageX,r=t.touches[0].pageY-n.pageY,s=g.sqrt(e*e+r*r);s>10&&(i=!1)}});var e=function(){i=!1};this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){if(n=null,!0===i){var r=(new Date).getTime()-t;r<200&&(e.preventDefault(),this.trigger("tap"))}})},t.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=o.bind(this.player(),this.player().reportUserActivity),n=void 0;this.on("touchstart",function(){t(),this.clearInterval(n),n=this.setInterval(t,250)});var i=function(i){t(),this.clearInterval(n)};this.on("touchmove",t),this.on("touchend",i),this.on("touchcancel",i)}},t.prototype.setTimeout=function(t,n){t=o.bind(this,t);var i=e.window.setTimeout(t,n),r=function(){this.clearTimeout(i)};return r.guid="vjs-timeout-"+i,this.on("dispose",r),i},t.prototype.clearTimeout=function(t){e.window.clearTimeout(t);var n=function(){};return n.guid="vjs-timeout-"+t,this.off("dispose",n),t},t.prototype.setInterval=function(t,n){t=o.bind(this,t);var i=e.window.setInterval(t,n),r=function(){this.clearInterval(i)};return r.guid="vjs-interval-"+i,this.on("dispose",r),i},t.prototype.clearInterval=function(t){e.window.clearInterval(t);var n=function(){};return n.guid="vjs-interval-"+t,this.off("dispose",n),t},t.registerComponent=function(n,i){if(n){if(n=(0,b.default)(n),t.vpt||(t.vpt={}),"Player"===n&&t.vpt[n]){var e=t.vpt[n];if(e.players&&w.keys(e.players).length>0&&w.keys(e.players).map(function(t){return e.players[t]}).every(Boolean))throw new l("Can not register Player component after player has been created")}return t.vpt[n]=i,i}},t.getComponent=function(n){if(n)return n=(0,b.default)(n),t.vpt&&t.vpt[n]?t.vpt[n]:e.window&&e.window.videojs&&e.window.videojs[n]?(p.default.warn("The "+n+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),e.window.videojs[n]):void 0},t.extend=function(n){n=n||{},p.default.warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var i=n.init||n.init||this.prototype.init||this.prototype.init||function(){},e=function(){i.apply(this,arguments)};for(var r in(e.prototype=w.create(this.prototype)).constructor=e,e.extend=t.extend,n)n.hasOwnProperty(r)&&(e.prototype[r]=n[r]);return e},t}();E.registerComponent("Component",E),i.default=E},{81:81,82:82,83:83,85:85,86:86,87:87,88:88,92:92}],6:[function(t,n,i){i.__esModule=!0;var e=t(36),r=h(e),s=t(5),u=h(s),o=t(7),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.tracks=i.audioTracks&&i.audioTracks();var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.ipt.setAttribute("aria-label","Audio Menu"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.dpt=1;var n=this.fN.audioTracks&&this.fN.audioTracks();if(!n)return t;for(var i=0;i<n.length;i++){var e=n[i];t.push(new a.default(this.fN,{track:e,selectable:!0}))}return t},n}(r.default);c.prototype.npt="Audio Track",u.default.registerComponent("AudioTrackButton",c),i.default=c},{36:36,5:5,7:7}],7:[function(t,n,i){i.__esModule=!0;var e=t(48),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.track,s=i.audioTracks();e.label=r.label||r.language||"Unknown",e.selected=r.enabled;var u=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));if(u.track=r,s){var o=a.bind(u,u.handleTracksChange);s.addEventListener("change",o),u.on("dispose",function(){s.removeEventListener("change",o)})}return u}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){var i=this.fN.audioTracks();if(t.prototype.handleClick.call(this,n),i)for(var e=0;e<i.length;e++){var r=i[e];r.enabled=r===this.track}},n.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)},n}(r.default);u.default.registerComponent("AudioTrackMenuItem",c),i.default=c},{48:48,5:5,83:83}],8:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(12),t(32),t(33),t(35),t(34),t(10),t(18),t(9),t(38),t(40),t(11),t(25),t(27),t(29),t(24),t(6),t(13),t(21);var u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},n}(s.default);u.prototype.spt={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},s.default.registerComponent("ControlBar",u),i.default=u},{10:10,11:11,12:12,13:13,18:18,21:21,24:24,25:25,27:27,29:29,32:32,33:33,34:34,35:35,38:38,40:40,5:5,6:6,9:9}],9:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"fullscreenchange",r.handleFullscreenChange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleFullscreenChange=function(t){this.fN.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.prototype.handleClick=function(t){this.fN.isFullscreen()?this.fN.exitFullscreen():this.fN.requestFullscreen()},n}(r.default);a.prototype.npt="Fullscreen",u.default.registerComponent("FullscreenToggle",a),i.default=a},{2:2,5:5}],10:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r.on(r.player(),"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.cpt=o.createEl("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.rpt=o.createEl("span",{className:"vjs-control-text",innerHTML:this.localize("Stream Type")}),this.wpt=a.document.createTextNode(this.localize("LIVE")),this.cpt.appendChild(this.rpt),this.cpt.appendChild(this.wpt),n.appendChild(this.cpt),n},n.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},n.prototype.handleLanguagechange=function(){this.rpt.innerHTML=this.localize("Stream Type"),this.wpt.innerHTML=this.localize("LIVE")},n}(s.default);s.default.registerComponent("LiveDisplay",h),i.default=h},{5:5,81:81,85:85}],11:[function(t,n,i){i.__esModule=!0;var e=t(2),r=h(e),s=t(5),u=h(s),o=t(81),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"volumechange",r.update),i.gpt&&!1===i.gpt.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(i,"loadstart",function(){this.update(),!1===i.gpt.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.fN.muted(!this.fN.muted())},n.prototype.update=function(t){var n=this.fN.volume(),i=3;this.fN.muted()?i=0:n<.33?i=1:n<.67&&(i=2);var e=this.fN.muted()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e);for(var r=0;r<4;r++)a.removeElClass(this.ipt,"vjs-vol-"+r);a.addElClass(this.ipt,"vjs-vol-"+i)},n}(r.default);c.prototype.npt="Mute",u.default.registerComponent("MuteToggle",c),i.default=c},{2:2,5:5,81:81}],12:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"play",r.handlePlay),r.on(i,"pause",r.handlePause),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.fN.paused()?this.fN.play():this.fN.pause()},n.prototype.handlePlay=function(t){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n}(r.default);a.prototype.npt="Play",u.default.registerComponent("PlayToggle",a),i.default=a},{2:2,5:5}],13:[function(t,n,i){i.__esModule=!0;var e=t(47),r=d(e),s=t(49),u=d(s),o=t(14),a=d(o),h=t(5),c=d(h),f=t(81),l=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(f);function d(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateVisibility(),r.updateLabel(),r.on(i,"loadstart",r.updateVisibility),r.on(i,"ratechange",r.updateLabel),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this);return this.mpt=l.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),n.appendChild(this.mpt),n},n.prototype.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.prototype.createMenu=function(){var t=new u.default(this.player()),n=this.playbackRates();if(n)for(var i=n.length-1;i>=0;i--)t.addChild(new a.default(this.player(),{rate:n[i]+"x"}));return t},n.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.prototype.handleClick=function(t){for(var n=this.player().playbackRate(),i=this.playbackRates(),e=i[0],r=0;r<i.length;r++)if(i[r]>n){e=i[r];break}this.player().playbackRate(e)},n.prototype.playbackRates=function(){return this.spt.playbackRates||this.spt.playerOptions&&this.spt.playerOptions.playbackRates},n.prototype.playbackRateSupported=function(){return this.player().gpt&&this.player().gpt.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.mpt.innerHTML=this.player().playbackRate()+"x")},n}(r.default);g.prototype.npt="Playback Rate",c.default.registerComponent("PlaybackRateMenuButton",g),i.default=g},{14:14,47:47,49:49,5:5,81:81}],14:[function(t,n,i){i.__esModule=!0;var e=t(48),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.rate,s=y(r,10);e.label=r,e.selected=1===s,e.selectable=!0;var u=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return u.label=r,u.rate=s,u.on(i,"ratechange",u.update),u}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)},n}(r.default);a.prototype.contentElType="button",u.default.registerComponent("PlaybackRateMenuItem",a),i.default=a},{48:48,5:5}],15:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.ypt=[],r.on(i,"progress",r.update),r.on(i,"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"});return this.ppt=o.createEl("span",{innerHTML:this.localize("Loaded")}),this._pt=a.document.createTextNode(": 0%"),this.rpt=o.createEl("span",{className:"vjs-control-text"}),this.rpt.appendChild(this.ppt),this.rpt.appendChild(this._pt),n.appendChild(this.rpt),n},n.prototype.update=function(t){var n=this.fN.buffered(),i=this.fN.duration(),e=this.fN.bufferedEnd(),r=this.ypt,s=function(t,n){var i=t/n||0;return 100*(i>=1?1:i)+"%"};this.ipt.style.width=s(e,i);for(var u=0;u<n.length;u++){var a=n.start(u),h=n.end(u),c=r[u];c||(c=this.ipt.appendChild(o.createEl()),r[u]=c),c.style.left=s(a,e),c.style.width=s(h-a,e)}for(var f=r.length;f>n.length;f--)this.ipt.removeChild(r[f-1]);r.length=n.length},n.prototype.handleLanguagechange=function(){this.ppt.innerHTML=this.localize("Loaded")},n}(s.default);s.default.registerComponent("LoadProgressBar",h),i.default=h},{5:5,81:81,85:85}],16:[function(t,n,i){i.__esModule=!0;var e=t(5),r=m(e),s=t(81),u=d(s),o=t(83),a=d(o),h=t(84),c=m(h),f=t(80),l=m(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function m(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltip=u.createEl("div",{className:"vjs-time-tooltip"}),r.el().appendChild(r.tooltip),r.addClass("vjs-keep-tooltips-inside")),r.update(0,0),i.on("ready",function(){r.on(i.controlBar.progressControl.el(),"mousemove",a.throttle(a.bind(r,r.handleMouseMove),25))}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.prototype.handleMouseMove=function(t){var n=this.fN.duration(),i=this.calculateDistance(t)*n,e=t.pageX-u.findElPosition(this.el().parentNode).left;this.update(i,e)},n.prototype.update=function(t,n){var i=(0,c.default)(t,this.fN.duration());if(this.el().style.left=n+"px",this.el().setAttribute("data-current-time",i),this.keepTooltipsInside){var e=this.bpt(n),r=n-e+1,s=y((0,l.default)(this.tooltip,"width")),u=s/2;this.tooltip.innerHTML=i,this.tooltip.style.right="-"+(u-r)+"px"}},n.prototype.calculateDistance=function(t){return u.getPointerPosition(this.el().parentNode,t).x},n.prototype.bpt=function(t){if(!this.keepTooltipsInside)return t;var n=y((0,l.default)(this.player().el(),"width")),i=y((0,l.default)(this.tooltip,"width")),e=i/2,r=t;return t<e?r=g.ceil(e):t>n-e&&(r=g.floor(n-e)),r},n}(r.default);r.default.registerComponent("MouseTimeDisplay",p),i.default=p},{5:5,80:80,81:81,83:83,84:84}],17:[function(t,n,i){i.__esModule=!0;var e=t(5),r=d(e),s=t(83),u=l(s),o=t(84),a=d(o),h=t(81),c=l(h),f=t(85);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function d(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateDataAttr(),r.on(i,"timeupdate",r.updateDataAttr),r.on(i,"languagechange",r.handleLanguagechange),i.ready(u.bind(r,r.updateDataAttr)),e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&r.addClass("vjs-keep-tooltips-inside"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"});return this.kpt=c.createEl("span",{innerHTML:this.localize("Progress")}),this.Apt=f.document.createTextNode(": 0%"),this.rpt=c.createEl("span",{className:"vjs-control-text"}),this.rpt.appendChild(this.kpt),this.rpt.appendChild(this.Apt),n.appendChild(this.rpt),n},n.prototype.updateDataAttr=function(t){var n=this.fN.scrubbing()?this.fN.getCache().currentTime:this.fN.currentTime();this.ipt.setAttribute("data-current-time",(0,a.default)(n,this.fN.duration()))},n.prototype.handleLanguagechange=function(){this.kpt.innerHTML=this.localize("Progress")},n}(r.default);r.default.registerComponent("PlayProgressBar",g),i.default=g},{5:5,81:81,83:83,84:84,85:85}],18:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(19),t(16);var u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n}(s.default);u.prototype.spt={children:["seekBar"]},s.default.registerComponent("ProgressControl",u),i.default=u},{16:16,19:19,5:5}],19:[function(t,n,i){i.__esModule=!0;var e=t(57),r=d(e),s=t(5),u=d(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o),h=t(84),c=d(h),f=t(80),l=d(f);function d(t){return t&&t.__esModule?t:{default:t}}t(15),t(17),t(20);var m=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateProgress),r.on(i,"ended",r.updateProgress),i.ready(a.bind(r,r.updateProgress)),e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltipProgressBar=r.addChild("TooltipProgressBar")),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},n.prototype.updateProgress=function(t){if(this.updateAriaAttributes(this.ipt),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.ipt),this.tooltipProgressBar.ipt.style.width=this.bar.ipt.style.width;var n=y((0,l.default)(this.player().el(),"width")),i=y((0,l.default)(this.tooltipProgressBar.tooltip,"width")),e=this.tooltipProgressBar.el().style;e.maxWidth=g.floor(n-i/2)+"px",e.minWidth=g.ceil(i/2)+"px",e.right="-"+i/2+"px"}},n.prototype.updateAriaAttributes=function(t){var n=this.fN.scrubbing()?this.fN.getCache().currentTime:this.fN.currentTime();t.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),t.setAttribute("aria-valuetext",(0,c.default)(n,this.fN.duration()))},n.prototype.getPercent=function(){var t=this.fN.currentTime()/this.fN.duration();return t>=1?1:t},n.prototype.handleMouseDown=function(n){this.fN.scrubbing(!0),this.videoWasPlaying=!this.fN.paused(),this.fN.pause(),t.prototype.handleMouseDown.call(this,n)},n.prototype.handleMouseMove=function(t){var n=this.calculateDistance(t)*this.fN.duration();n===this.fN.duration()&&(n-=.1),this.fN.currentTime(n)},n.prototype.handleMouseUp=function(n){t.prototype.handleMouseUp.call(this,n),this.fN.scrubbing(!1),this.videoWasPlaying&&this.fN.play()},n.prototype.stepForward=function(){this.fN.currentTime(this.fN.currentTime()+5)},n.prototype.stepBack=function(){this.fN.currentTime(this.fN.currentTime()-5)},n}(r.default);m.prototype.spt={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},m.prototype.playerEvent="timeupdate",u.default.registerComponent("SeekBar",m),i.default=m},{15:15,17:17,20:20,5:5,57:57,80:80,83:83,84:84}],20:[function(t,n,i){i.__esModule=!0;var e=t(5),r=d(e),s=t(83),u=l(s),o=t(84),a=d(o),h=t(81),c=l(h),f=t(85);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function d(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateDataAttr(),r.on(i,"timeupdate",r.updateDataAttr),r.on(i,"languagechange",r.handleLanguagechange),i.ready(u.bind(r,r.updateDataAttr)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar"});return this.tooltip=c.createEl("div",{className:"vjs-time-tooltip"}),this.kpt=c.createEl("span",{innerHTML:this.localize("Progress")}),this.Apt=f.document.createTextNode(": 0%"),this.rpt=c.createEl("span",{className:"vjs-control-text"}),this.rpt.appendChild(this.kpt),this.rpt.appendChild(this.Apt),n.appendChild(this.tooltip),n.appendChild(this.rpt),n},n.prototype.updateDataAttr=function(t){var n=this.fN.scrubbing()?this.fN.getCache().currentTime:this.fN.currentTime(),i=(0,a.default)(n,this.fN.duration());this.ipt.setAttribute("data-current-time",i),this.tooltip.innerHTML=i},n.prototype.handleLanguagechange=function(){this.kpt.innerHTML=this.localize("Progress")},n}(r.default);r.default.registerComponent("TooltipProgressBar",g),i.default=g},{5:5,81:81,83:83,84:84,85:85}],21:[function(t,n,i){i.__esModule=!0;var e=t(22),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return n.innerHTML="&nbsp;",n},n}(r.default);u.default.registerComponent("CustomControlSpacer",a),i.default=a},{22:22,5:5}],22:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n}(s.default);s.default.registerComponent("Spacer",u),i.default=u},{5:5}],23:[function(t,n,i){i.__esModule=!0;var e=t(31),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.track={player:i,kind:e.kind,label:e.kind+" settings",selectable:!1,default:!1,mode:"disabled"},e.selectable=!1;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.addClass("vjs-texttrack-settings"),r.controlText(", opens "+e.kind+" settings dialog"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").ipt.focus()},n}(r.default);u.default.registerComponent("CaptionSettingsMenuItem",a),i.default=a},{31:31,5:5}],24:[function(t,n,i){i.__esModule=!0;var e=t(30),r=h(e),s=t(5),u=h(s),o=t(23),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.ipt.setAttribute("aria-label","Captions Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.prototype.createItems=function(){var n=[];return this.player().gpt&&this.player().gpt.featuresNativeTextTracks||(n.push(new a.default(this.fN,{kind:this.O_})),this.dpt+=1),t.prototype.createItems.call(this,n)},n}(r.default);c.prototype.O_="captions",c.prototype.npt="Captions",u.default.registerComponent("CaptionsButton",c),i.default=c},{23:23,30:30,5:5}],25:[function(t,n,i){i.__esModule=!0;var e=t(30),r=f(e),s=t(5),u=f(s),o=t(26),a=f(o),h=t(92),c=f(h);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.ipt.setAttribute("aria-label","Chapters Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.prototype.update=function(n){this.Yw&&(!n||"addtrack"!==n.type&&"removetrack"!==n.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},n.prototype.setTrack=function(t){if(this.Yw!==t){if(this.Tpt||(this.Tpt=this.update.bind(this)),this.Yw){var n=this.fN.remoteTextTrackEls().Spt(this.Yw);n&&n.removeEventListener("load",this.Tpt),this.Yw=null}if(this.Yw=t,this.Yw){this.Yw.mode="hidden";var i=this.fN.remoteTextTrackEls().Spt(this.Yw);i&&i.addEventListener("load",this.Tpt)}}},n.prototype.findChaptersTrack=function(){for(var t=this.fN.textTracks()||[],n=t.length-1;n>=0;n--){var i=t[n];if(i.kind===this.O_)return i}},n.prototype.getMenuCaption=function(){return this.Yw&&this.Yw.label?this.Yw.label:this.localize((0,c.default)(this.O_))},n.prototype.createMenu=function(){return this.spt.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.prototype.createItems=function(){var t=[];if(!this.Yw)return t;var n=this.Yw.cues;if(!n)return t;for(var i=0,e=n.length;i<e;i++){var r=n[i],s=new a.default(this.fN,{track:this.Yw,cue:r});t.push(s)}return t},n}(r.default);l.prototype.O_="chapters",l.prototype.npt="Chapters",u.default.registerComponent("ChaptersButton",l),i.default=l},{26:26,30:30,5:5,92:92}],26:[function(t,n,i){i.__esModule=!0;var e=t(48),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.track,s=e.cue,u=i.currentTime();e.selectable=!0,e.label=s.text,e.selected=s.startTime<=u&&u<s.endTime;var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return o.track=r,o.cue=s,r.addEventListener("cuechange",a.bind(o,o.update)),o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){t.prototype.handleClick.call(this),this.fN.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.prototype.update=function(t){var n=this.cue,i=this.fN.currentTime();this.selected(n.startTime<=i&&i<n.endTime)},n}(r.default);u.default.registerComponent("ChaptersTrackMenuItem",c),i.default=c},{48:48,5:5,83:83}],27:[function(t,n,i){i.__esModule=!0;var e=t(30),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));s.ipt.setAttribute("aria-label","Descriptions Menu");var u=i.textTracks();if(u){var o=a.bind(s,s.handleTracksChange);u.addEventListener("change",o),s.on("dispose",function(){u.removeEventListener("change",o)})}return s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleTracksChange=function(t){for(var n=this.player().textTracks(),i=!1,e=0,r=n.length;e<r;e++){var s=n[e];if(s.kind!==this.O_&&"showing"===s.mode){i=!0;break}}i?this.disable():this.enable()},n.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n}(r.default);c.prototype.O_="descriptions",c.prototype.npt="Descriptions",u.default.registerComponent("DescriptionsButton",c),i.default=c},{30:30,5:5,83:83}],28:[function(t,n,i){i.__esModule=!0;var e=t(31),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.track={player:i,kind:e.kind,label:e.kind+" off",default:!1,mode:"disabled"},e.selectable=!0;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.selected(!0),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleTracksChange=function(t){for(var n=this.player().textTracks(),i=!0,e=0,r=n.length;e<r;e++){var s=n[e];if(s.kind===this.track.kind&&"showing"===s.mode){i=!1;break}}this.selected(i)},n}(r.default);u.default.registerComponent("OffTextTrackMenuItem",a),i.default=a},{31:31,5:5}],29:[function(t,n,i){i.__esModule=!0;var e=t(30),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.ipt.setAttribute("aria-label","Subtitles Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n}(r.default);a.prototype.O_="subtitles",a.prototype.npt="Subtitles",u.default.registerComponent("SubtitlesButton",a),i.default=a},{30:30,5:5}],30:[function(t,n,i){i.__esModule=!0;var e=t(36),r=f(e),s=t(5),u=f(s),o=t(31),a=f(o),h=t(28),c=f(h);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.tracks=i.textTracks(),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.push(new c.default(this.fN,{kind:this.O_})),this.dpt+=1;var n=this.fN.textTracks();if(!n)return t;for(var i=0;i<n.length;i++){var e=n[i];e.kind===this.O_&&t.push(new a.default(this.fN,{track:e,selectable:!0}))}return t},n}(r.default);u.default.registerComponent("TextTrackButton",l),i.default=l},{28:28,31:31,36:36,5:5}],31:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=t(48),s=f(r),u=t(5),o=f(u),a=t(83),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a),c=t(85);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function n(i,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=r.track,u=i.textTracks();r.label=s.label||s.language||"Unknown",r.selected=s.default||"showing"===s.mode;var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,r));if(o.track=s,u){var a=h.bind(o,o.handleTracksChange);i.on(["loadstart","texttrackchange"],a),u.addEventListener("change",a),o.on("dispose",function(){u.removeEventListener("change",a)})}if(u&&void 0===u.onchange){var f=void 0;o.on(["tap","click"],function(){if("object"!==e(c.window.Event))try{f=new c.window.Event("change")}catch(t){}f||(f=c.document.createEvent("Event")).initEvent("change",!0,!0),u.dispatchEvent(f)})}return o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){var i=this.track.kind,e=this.fN.textTracks();if(t.prototype.handleClick.call(this,n),e)for(var r=0;r<e.length;r++){var s=e[r];s.kind===i&&(s===this.track?"showing"!==s.mode&&(s.mode="showing"):"disabled"!==s.mode&&(s.mode="disabled"))}},n.prototype.handleTracksChange=function(t){this.selected("showing"===this.track.mode)},n}(s.default);o.default.registerComponent("TextTrackMenuItem",l),i.default=l},{48:48,5:5,83:83,85:85}],32:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.cpt=u.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),n.appendChild(this.cpt),n},n.prototype.updateContent=function(t){var n=this.fN.scrubbing()?this.fN.getCache().currentTime:this.fN.currentTime(),i=this.localize("Current Time"),e=(0,a.default)(n,this.fN.duration());e!==this.Ept&&(this.Ept=e,this.cpt.innerHTML='<span class="vjs-control-text">'+i+"</span> "+e)},n}(r.default);r.default.registerComponent("CurrentTimeDisplay",c),i.default=c},{5:5,81:81,84:84}],33:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"durationchange",r.updateContent),r.on(i,"timeupdate",r.updateContent),r.on(i,"loadedmetadata",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.cpt=u.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),n.appendChild(this.cpt),n},n.prototype.updateContent=function(t){var n=this.fN.duration();if(n&&this.Hg!==n){this.Hg=n;var i=this.localize("Duration Time"),e=(0,a.default)(n);this.cpt.innerHTML='<span class="vjs-control-text">'+i+"</span> "+e}},n}(r.default);r.default.registerComponent("DurationDisplay",c),i.default=c},{5:5,81:81,84:84}],34:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateContent),r.on(i,"durationchange",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.cpt=u.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),n.appendChild(this.cpt),n},n.prototype.updateContent=function(t){if(this.fN.duration()){var n=this.localize("Remaining Time"),i=(0,a.default)(this.fN.remainingTime());i!==this.Ept&&(this.Ept=i,this.cpt.innerHTML='<span class="vjs-control-text">'+n+"</span> -"+i)}},n}(r.default);r.default.registerComponent("RemainingTimeDisplay",c),i.default=c},{5:5,81:81,84:84}],35:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},n}(s.default);s.default.registerComponent("TimeDivider",u),i.default=u},{5:5}],36:[function(t,n,i){i.__esModule=!0;var e=t(47),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}function c(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var f=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.tracks,s=c(this,t.call(this,i,e));if(s.items.length<=1&&s.hide(),!r)return c(s);var u=a.bind(s,s.update);return r.addEventListener("removetrack",u),r.addEventListener("addtrack",u),s.fN.on("dispose",function(){r.removeEventListener("removetrack",u),r.removeEventListener("addtrack",u)}),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(r.default);u.default.registerComponent("TrackButton",f),i.default=f},{47:47,5:5,83:83}],37:[function(t,n,i){i.__esModule=!0;var e=t(57),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}t(39);var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"volumechange",r.updateARIAAttributes),i.ready(a.bind(r,r.updateARIAAttributes)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},n.prototype.handleMouseMove=function(t){this.checkMuted(),this.fN.volume(this.calculateDistance(t))},n.prototype.checkMuted=function(){this.fN.muted()&&this.fN.muted(!1)},n.prototype.getPercent=function(){return this.fN.muted()?0:this.fN.volume()},n.prototype.stepForward=function(){this.checkMuted(),this.fN.volume(this.fN.volume()+.1)},n.prototype.stepBack=function(){this.checkMuted(),this.fN.volume(this.fN.volume()-.1)},n.prototype.updateARIAAttributes=function(t){var n=(100*this.fN.volume()).toFixed(2);this.ipt.setAttribute("aria-valuenow",n),this.ipt.setAttribute("aria-valuetext",n+"%")},n}(r.default);c.prototype.spt={children:["volumeLevel"],barName:"volumeLevel"},c.prototype.playerEvent="volumechange",u.default.registerComponent("VolumeBar",c),i.default=c},{39:39,5:5,57:57,83:83}],38:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(37);var u=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return i.gpt&&!1===i.gpt.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(i,"loadstart",function(){!1===i.gpt.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},n}(s.default);u.prototype.spt={children:["volumeBar"]},s.default.registerComponent("VolumeControl",u),i.default=u},{37:37,5:5}],39:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},n}(s.default);s.default.registerComponent("VolumeLevel",u),i.default=u},{5:5}],40:[function(t,n,i){i.__esModule=!0;var e=t(83),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(5),u=m(s),o=t(54),a=m(o),h=t(53),c=m(h),f=t(11),l=m(f),d=t(37),g=m(d);function m(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),void 0===e.inline&&(e.inline=!0),void 0===e.vertical&&(e.inline?e.vertical=!1:e.vertical=!0),e.volumeBar=e.volumeBar||{},e.volumeBar.vertical=!!e.vertical;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));function s(){i.gpt&&!1===i.gpt.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}return r.on(i,"volumechange",r.volumeUpdate),r.on(i,"loadstart",r.volumeUpdate),s.call(r),r.on(i,"loadstart",s),r.on(r.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),r.on(r.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),r.on(r.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),r.on(r.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){var n="";return n=this.spt.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+t.prototype.buildCSSClass.call(this)+" "+n},n.prototype.createPopup=function(){var t=new a.default(this.fN,{contentElType:"div"}),n=new g.default(this.fN,this.spt.volumeBar);return t.addChild(n),this.menuContent=t,this.volumeBar=n,this.attachVolumeBarEvents(),t},n.prototype.handleClick=function(n){l.default.prototype.handleClick.call(this),t.prototype.handleClick.call(this)},n.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],r.bind(this,this.handleMouseDown))},n.prototype.handleMouseDown=function(t){this.on(["mousemove","touchmove"],r.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.ipt.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},n.prototype.handleMouseUp=function(t){this.off(["mousemove","touchmove"],r.bind(this.volumeBar,this.volumeBar.handleMouseMove))},n}(c.default);y.prototype.volumeUpdate=l.default.prototype.update,y.prototype.npt="Mute",u.default.registerComponent("VolumeMenuButton",y),i.default=y},{11:11,37:37,5:5,53:53,54:54,83:83}],41:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(50),u=h(s),o=t(88),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"error",r.open),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},n}(u.default);c.prototype.spt=(0,a.default)(u.default.prototype.spt,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),r.default.registerComponent("ErrorDisplay",c),i.default=c},{5:5,50:50,88:88}],42:[function(t,n,i){i.__esModule=!0;var e=t(82),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=function(){};s.prototype.Ipt={},s.prototype.on=function(t,n){var i=this.addEventListener;this.addEventListener=function(){},r.on(this,t,n),this.addEventListener=i},s.prototype.addEventListener=s.prototype.on,s.prototype.off=function(t,n){r.off(this,t,n)},s.prototype.removeEventListener=s.prototype.off,s.prototype.one=function(t,n){var i=this.addEventListener;this.addEventListener=function(){},r.one(this,t,n),this.addEventListener=i},s.prototype.trigger=function(t){var n=t.type||t;"string"==typeof t&&(t={type:n}),t=r.fixEvent(t),this.Ipt[n]&&this["on"+n]&&this["on"+n](t),r.trigger(this,t)},s.prototype.dispatchEvent=s.prototype.trigger,i.default=s},{82:82}],43:[function(t,n,i){i.__esModule=!0;var e,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=t(87),u=(e=s)&&e.__esModule?e:{default:e},o=t(89);i.default=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(){t.apply(this,arguments)},e={};for(var s in(0,o.isObject)(n)?("function"==typeof n.init&&(u.default.warn("Constructor logic via init() is deprecated; please use constructor() instead."),n.constructor=n.init),n.constructor!==w.prototype.constructor&&(i=n.constructor),e=n):"function"==typeof n&&(i=n),function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+(void 0===n?"undefined":r(n)));t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t.Rpt=n)}(i,t),e)e.hasOwnProperty(s)&&(i.prototype[s]=e[s]);return i}},{87:87,89:89}],44:[function(t,n,i){i.__esModule=!0;for(var e=t(85),r={prefixed:!0},s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],u=s[0],o=void 0,a=0;a<s.length;a++)if(s[a][1]in e.document){o=s[a];break}if(o){for(var h=0;h<o.length;h++)r[u[h]]=o[h];r.prefixed=o[0]!==u[0]}i.default=r},{85:85}],45:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},n}(s.default);s.default.registerComponent("LoadingSpinner",u),i.default=u},{5:5}],46:[function(t,n,i){i.__esModule=!0;var e=t(89);function r(t){if(t instanceof r)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:(0,e.isObject)(t)&&("number"==typeof t.code&&(this.code=t.code),(0,e.assign)(this,t)),this.message||(this.message=r.defaultMessages[this.code]||"")}r.prototype.code=0,r.prototype.message="",r.prototype.status=null,r.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],r.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var s=0;s<r.errorTypes.length;s++)r[r.errorTypes[s]]=s,r.prototype[r.errorTypes[s]]=s;i.default=r},{89:89}],47:[function(t,n,i){i.__esModule=!0;var e=t(3),r=y(e),s=t(5),u=y(s),o=t(49),a=y(o),h=t(81),c=m(h),f=t(83),l=m(f),d=t(92),g=y(d);function m(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function y(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),r.C_=!0,r.ipt.setAttribute("aria-haspopup","true"),r.ipt.setAttribute("role","menuitem"),r.on("keydown",r.handleSubmenuKeyPress),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.update=function(){var t=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=t,this.addChild(t),this.Cpt=!1,this.ipt.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.dpt?this.hide():this.show()},n.prototype.createMenu=function(){var t=new a.default(this.fN);if(this.dpt=0,this.spt.title){var n=c.createEl("li",{className:"vjs-menu-title",innerHTML:(0,g.default)(this.spt.title),tabIndex:-1});this.dpt+=1,t.Pi.unshift(n),c.insertElFirst(n,t.contentEl())}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},n.prototype.createItems=function(){},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n.prototype.buildCSSClass=function(){var n="vjs-menu-button";return!0===this.spt.inline?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",l.bind(this,function(t){this.unpressButton(),this.ipt.blur()})),this.Cpt?this.unpressButton():this.pressButton()},n.prototype.handleKeyPress=function(n){27===n.which||9===n.which?(this.Cpt&&this.unpressButton(),9!==n.which&&n.preventDefault()):38===n.which||40===n.which?this.Cpt||(this.pressButton(),n.preventDefault()):t.prototype.handleKeyPress.call(this,n)},n.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.Cpt&&this.unpressButton(),9!==t.which&&t.preventDefault())},n.prototype.pressButton=function(){this.C_&&(this.Cpt=!0,this.menu.lockShowing(),this.ipt.setAttribute("aria-expanded","true"),this.menu.focus())},n.prototype.unpressButton=function(){this.C_&&(this.Cpt=!1,this.menu.unlockShowing(),this.ipt.setAttribute("aria-expanded","false"),this.ipt.focus())},n.prototype.disable=function(){return this.Cpt=!1,this.menu.unlockShowing(),this.ipt.setAttribute("aria-expanded","false"),this.C_=!1,t.prototype.disable.call(this)},n.prototype.enable=function(){return this.C_=!0,t.prototype.enable.call(this)},n}(r.default);u.default.registerComponent("MenuButton",p),i.default=p},{3:3,49:49,5:5,81:81,83:83,92:92}],48:[function(t,n,i){i.__esModule=!0;var e=t(3),r=h(e),s=t(5),u=h(s),o=t(89),a=t(85);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.selectable=e.selectable,r.selected(e.selected),r.selectable?r.ipt.setAttribute("role","menuitemcheckbox"):r.ipt.setAttribute("role","menuitem"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(n,i,e){this.nonIconControl=!0;var r=t.prototype.createEl.call(this,"li",(0,o.assign)({className:"vjs-menu-item",tabIndex:-1},i),e);return this.mpt=a.document.createTextNode(this.localize(this.spt.label)),r.appendChild(this.mpt),r},n.prototype.handleClick=function(t){this.selected(!0)},n.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.ipt.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.ipt.setAttribute("aria-checked","false"),this.controlText("")))},n.prototype.handleLanguagechange=function(){t.prototype.handleLanguagechange.call(this),this.mpt.innerHTML=this.localize(this.spt.label)},n}(r.default);u.default.registerComponent("MenuItem",c),i.default=c},{3:3,5:5,85:85,89:89}],49:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=l(u),a=t(83),h=l(a),c=t(82),f=l(c);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var d=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.Dpt=-1,r.on("keydown",r.handleKeyPress),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addItem=function(t){this.addChild(t),t.on("click",h.bind(this,function(t){this.unlockShowing()}))},n.prototype.createEl=function(){var n=this.spt.contentElType||"ul";this.cpt=o.createEl(n,{className:"vjs-menu-content"}),this.cpt.setAttribute("role","menu");var i=t.prototype.createEl.call(this,"div",{append:this.cpt,className:"vjs-menu"});return i.setAttribute("role","presentation"),i.appendChild(this.cpt),f.on(i,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),i},n.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},n.prototype.stepForward=function(){var t=0;void 0!==this.Dpt&&(t=this.Dpt+1),this.focus(t)},n.prototype.stepBack=function(){var t=0;void 0!==this.Dpt&&(t=this.Dpt-1),this.focus(t)},n.prototype.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.children().slice(),i=n.length&&n[0].className&&/vjs-menu-title/.test(n[0].className);i&&n.shift(),n.length>0&&(t<0?t=0:t>=n.length&&(t=n.length-1),this.Dpt=t,n[t].ipt.focus())},n}(s.default);s.default.registerComponent("Menu",d),i.default=d},{5:5,81:81,82:82,83:83}],50:[function(t,n,i){i.__esModule=!0;var e,r=t(81),s=c(r),u=t(83),o=c(u),a=t(5),h=(e=a)&&e.__esModule?e:{default:e};function c(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var f="vjs-modal-dialog",l=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.Npt=r.Ppt=r.xpt=!1,r.closeable(!r.spt.uncloseable),r.content(r.spt.content),r.cpt=s.createEl("div",{className:f+"-content"},{role:"document"}),r.Bpt=s.createEl("p",{className:f+"-description vjs-offscreen",id:r.el().getAttribute("aria-describedby")}),s.textContent(r.Bpt,r.description()),r.ipt.appendChild(r.Bpt),r.ipt.appendChild(r.cpt),r.on(i,"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"Opt","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.prototype.buildCSSClass=function(){return f+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},n.prototype.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},n.prototype.label=function(){return this.spt.label||this.localize("Modal Window")},n.prototype.description=function(){var t=this.spt.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},n.prototype.open=function(){if(!this.Npt){var t=this.player();this.trigger("beforemodalopen"),this.Npt=!0,(this.spt.fillAlways||!this.Ppt&&!this.xpt)&&this.fill(),this.Lpt=!t.paused(),this.spt.pauseOnOpen&&this.Lpt&&t.pause(),this.closeable()&&this.on(this.ipt.ownerDocument,"keydown",o.bind(this,this.handleKeyPress)),t.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.Ppt=!0}return this},n.prototype.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.Npt},n.prototype.close=function(){if(this.Npt){var t=this.player();this.trigger("beforemodalclose"),this.Npt=!1,this.Lpt&&this.spt.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.ipt.ownerDocument,"keydown",o.bind(this,this.handleKeyPress)),t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.spt.temporary&&this.dispose()}return this},n.prototype.closeable=function(t){if("boolean"==typeof t){var n=this.Mpt=!!t,i=this.getChild("closeButton");if(n&&!i){var e=this.cpt;this.cpt=this.ipt,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.cpt=e,this.on(i,"close",this.close)}!n&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.Mpt},n.prototype.fill=function(){return this.fillWith(this.content())},n.prototype.fillWith=function(t){var n=this.contentEl(),i=n.parentNode,e=n.nextSibling;return this.trigger("beforemodalfill"),this.xpt=!0,i.removeChild(n),this.empty(),s.insertContent(n,t),this.trigger("modalfill"),e?i.insertBefore(n,e):i.appendChild(n),this},n.prototype.empty=function(){return this.trigger("beforemodalempty"),s.emptyEl(this.contentEl()),this.trigger("modalempty"),this},n.prototype.content=function(t){return void 0!==t&&(this.Gy=t),this.Gy},n.prototype.handleLanguagechange=function(){this.ipt.setAttribute("aria-label",this.label()),s.textContent(this.Bpt,this.description()),this.opened()?this.fill():(this.Ppt||this.xpt)&&(this.Ppt=!1,this.xpt=!1,this.empty())},n}(h.default);l.prototype.spt={pauseOnOpen:!0,temporary:!0},h.default.registerComponent("ModalDialog",l),i.default=l},{5:5,81:81,83:83}],51:[function(t,n,i){i.__esModule=!0;var e=t(5),r=Q(e),s=t(85),u=t(82),o=Y(u),a=t(81),h=Y(a),c=t(83),f=Y(c),d=t(86),m=Y(d),_=t(78),b=Y(_),k=t(87),A=Q(k),T=t(92),S=Q(T),E=t(91),I=t(79),R=t(90),C=Y(R),D=t(44),N=Q(D),P=t(46),x=Q(P),B=t(116),O=Q(B),L=t(89),M=t(88),j=Q(M),F=t(69),U=Q(F),H=t(50),X=Q(H),V=t(62),z=Q(V),W=t(63),q=Q(W),G=t(76),$=Q(G);function Y(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function Q(t){return t&&t.__esModule?t:{default:t}}t(61),t(59),t(55),t(68),t(45),t(1),t(4),t(8),t(41),t(71),t(60);var Z=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],K=function(t){function n(i,e,r){if(function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),i.id=i.id||["vjs_video",m.newGUID()].join("_"),(e=(0,L.assign)(n.getTagSettings(i),e)).initChildren=!1,e.createEl=!1,e.reportTouchActivity=!1,!e.language)if("function"==typeof i.closest){var s=i.closest("[lang]");s&&(e.language=s.getAttribute("lang"))}else for(var u=i;u&&1===u.nodeType;){if(h.getElAttributes(u).hasOwnProperty("lang")){e.language=u.getAttribute("lang");break}u=u.parentNode}var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,null,e,r));if(!o.spt||!o.spt.techOrder||!o.spt.techOrder.length)throw new l("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=i,o.tagAttributes=i&&h.getElAttributes(i),o.language(o.spt.language),e.languages){var a={};w.getOwnPropertyNames(e.languages).forEach(function(t){a[t.toLowerCase()]=e.languages[t]}),o.jpt=a}else o.jpt=n.prototype.spt.languages;o.Jgt={},o.mX=e.poster||"",o.Fpt=!!e.controls,i.controls=!1,o.Upt=!1,o.ipt=o.createEl();var c=(0,j.default)(o.spt);if(e.plugins){var f=e.plugins;w.getOwnPropertyNames(f).forEach(function(t){"function"==typeof this[t]?this[t](f[t]):A.default.error("Unable to find plugin:",t)},o)}o.spt.playerOptions=c,o.initChildren(),o.isAudio("audio"===i.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.ipt.setAttribute("role","region"),o.isAudio()?o.ipt.setAttribute("aria-label","audio player"):o.ipt.setAttribute("aria-label","video player"),o.isAudio()&&o.addClass("vjs-audio"),o.Hpt()&&o.addClass("vjs-no-flex"),b.IS_IOS||o.addClass("vjs-workinghover"),n.players[o.P_]=o;var d="5.20.6-opentelly.8".split(".")[0];return o.addClass("vjs-v"+d),o.userActive(!0),o.reportUserActivity(),o.Xpt(),o.on("fullscreenchange",o.jC),o.on("stageclick",o.Vpt),o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.zpt&&this.zpt.parentNode&&this.zpt.parentNode.removeChild(this.zpt),n.players[this.P_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.ipt&&this.ipt.player&&(this.ipt.player=null),this.gpt&&this.gpt.dispose(),t.prototype.dispose.call(this)},n.prototype.createEl=function(){var n=this.tag,i=void 0,e=this.Wpt=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player");i=this.ipt=e?n.parentNode:t.prototype.createEl.call(this,"div"),n.setAttribute("tabindex","-1"),n.removeAttribute("width"),n.removeAttribute("height");var r=h.getElAttributes(n);if(w.getOwnPropertyNames(r).forEach(function(t){"class"===t?i.className+=" "+r[t]:i.setAttribute(t,r[t])}),n.playerId=n.id,n.id+="qpt",n.className="vjs-tech",n.player=i.player=this,this.addClass("vjs-paused"),!0!==s.window.VIDEOJS_NO_DYNAMIC_STYLE){this.zpt=C.createStyleElement("vjs-styles-dimensions");var u=h.$(".vjs-styles-defaults"),o=h.$("head");o.insertBefore(this.zpt,u?u.nextSibling:o.firstChild)}this.width(this.spt.width),this.height(this.spt.height),this.fluid(this.spt.fluid),this.aspectRatio(this.spt.aspectRatio);for(var a=n.getElementsByTagName("a"),c=0;c<a.length;c++){var f=a.item(c);h.addElClass(f,"vjs-hidden"),f.setAttribute("hidden","hidden")}return n.Gpt=n.networkState,n.parentNode&&!e&&n.parentNode.insertBefore(i,n),h.insertElFirst(n,i),this.Pi.unshift(n),this.ipt=i,i},n.prototype.width=function(t){return this.dimension("width",t)},n.prototype.height=function(t){return this.dimension("height",t)},n.prototype.dimension=function(t,n){var i="width"===t?"Tk":"sT";if(void 0===n)return this[i]||0;if(""===n)this[i]=void 0;else{var e=y(n);if(p(e))return A.default.error('Improper value "'+n+'" supplied for for '+t),this;this[i]=e}return this.$pt(),this},n.prototype.fluid=function(t){if(void 0===t)return!!this.Ypt;this.Ypt=!!t,t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.$pt()},n.prototype.aspectRatio=function(t){if(void 0===t)return this.Qpt;if(!/^\d+\:\d+$/.test(t))throw new l("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.Qpt=t,this.fluid(!0),this.$pt()},n.prototype.$pt=function(){if(!0!==s.window.VIDEOJS_NO_DYNAMIC_STYLE){var t=void 0,n=void 0,i=void 0,e=(void 0!==this.Qpt&&"auto"!==this.Qpt?this.Qpt:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=e[1]/e[0];t=void 0!==this.Tk?this.Tk:void 0!==this.sT?this.sT/r:this.videoWidth()||300,n=void 0!==this.sT?this.sT:t*r,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),C.setTextContent(this.zpt,"\n      ."+i+" {\n        width: "+t+"px;\n        height: "+n+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var u="number"==typeof this.Tk?this.Tk:this.spt.width,o="number"==typeof this.sT?this.sT:this.spt.height,a=this.gpt&&this.gpt.el();a&&(u>=0&&(a.width=u),o>=0&&(a.height=o))}},n.prototype.Zpt=function(t,n){var i=this;this.gpt&&this.Kpt(),"Html5"!==t&&this.tag&&(z.default.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.Jpt=t,this.fpt=!1;var e=(0,L.assign)({source:n,nativeControlsForTouch:this.spt.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+t+"tbt",videoTracks:this.Im,textTracks:this.Rm,audioTracks:this.Em,autoplay:this.spt.autoplay,playsinline:this.spt.playsinline,preload:this.spt.preload,loop:this.spt.loop,muted:this.spt.muted,poster:this.poster(),language:this.language(),playerElIngest:this.Wpt||!1,"vtt.js":this.spt["vtt.js"]},this.spt[t.toLowerCase()]);this.tag&&(e.tag=this.tag),n&&(this.nbt=n.type,n.src===this.Jgt.src&&this.Jgt.currentTime>0&&(e.startTime=this.Jgt.currentTime),this.Jgt.sources=null,this.Jgt.source=n,this.Jgt.src=n.src);var s=z.default.getTech(t);s||(s=r.default.getComponent(t)),this.gpt=new s(e),this.gpt.ready(f.bind(this,this.ibt),!0),U.default.jsonToTextTracks(this.ebt||[],this.gpt),Z.forEach(function(t){i.on(i.gpt,t,i["handleTech"+(0,S.default)(t)+"_"])}),this.on(this.gpt,"loadstart",this.rbt),this.on(this.gpt,"waiting",this.sbt),this.on(this.gpt,"canplay",this.ubt),this.on(this.gpt,"canplaythrough",this.obt),this.on(this.gpt,"playing",this.abt),this.on(this.gpt,"ended",this.hbt),this.on(this.gpt,"seeking",this.cbt),this.on(this.gpt,"seeked",this.fbt),this.on(this.gpt,"play",this.lbt),this.on(this.gpt,"firstplay",this.vbt),this.on(this.gpt,"pause",this.dbt),this.on(this.gpt,"durationchange",this.wbt),this.on(this.gpt,"fullscreenchange",this.gbt),this.on(this.gpt,"error",this.mbt),this.on(this.gpt,"loadedmetadata",this.$pt),this.on(this.gpt,"resize",this.$pt),this.on(this.gpt,"posterchange",this.ybt),this.on(this.gpt,"textdata",this.pbt),this.usingNativeControls(this._bt("controls")),this.controls()&&!this.usingNativeControls()&&this.bbt(),this.gpt.el().parentNode===this.contentEl()||"Html5"===t&&this.tag||h.insertElFirst(this.gpt.el(),this.contentEl()),this.tag&&(this.tag.player=null,this.tag=null)},n.prototype.Kpt=function(){this.Im=this.videoTracks(),this.Rm=this.textTracks(),this.Em=this.audioTracks(),this.ebt=U.default.textTracksToJson(this.gpt),this.fpt=!1,this.gpt.dispose(),this.gpt=!1},n.prototype.tech=function(t){if(t&&t.IWillNotUseThisInPlugins)return this.gpt;var n="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw s.window.alert(n),new l(n)},n.prototype.bbt=function(){this.kbt(),this.on(this.gpt,"mousedown",this.Abt),this.on(this.gpt,"touchstart",this.Tbt),this.on(this.gpt,"touchmove",this.Sbt),this.on(this.gpt,"touchend",this.Ebt),this.on(this.gpt,"tap",this.Ibt)},n.prototype.kbt=function(){this.off(this.gpt,"tap",this.Ibt),this.off(this.gpt,"touchstart",this.Tbt),this.off(this.gpt,"touchmove",this.Sbt),this.off(this.gpt,"touchend",this.Ebt),this.off(this.gpt,"mousedown",this.Abt)},n.prototype.ibt=function(){if(this.triggerReady(),this.Jgt.volume&&this.Rbt("setVolume",this.Jgt.volume),this.ybt(),this.wbt(),(this.src()||this.currentSrc())&&this.tag&&this.spt.autoplay&&this.paused()){try{delete this.tag.poster}catch(t){(0,A.default)("deleting tag.poster throws in some browsers",t)}this.play()}},n.prototype.rbt=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},n.prototype.hasStarted=function(t){return void 0!==t?(this.Cbt!==t&&(this.Cbt=t,t?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.Cbt},n.prototype.lbt=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.prototype.sbt=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})},n.prototype.ubt=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.prototype.obt=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.prototype.abt=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.prototype.cbt=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.prototype.fbt=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},n.prototype.vbt=function(){this.spt.starttime&&(A.default.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.spt.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.prototype.dbt=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.prototype.hbt=function(){this.addClass("vjs-ended"),this.spt.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.prototype.wbt=function(){this.duration(this._bt("duration"))},n.prototype.Abt=function(t){0===t.button&&this.controls()&&(void 0!==this.spt&&void 0!==this.spt.userActions&&void 0!==this.spt.userActions.click&&!1===this.spt.userActions.click||(void 0!==this.spt&&void 0!==this.spt.userActions&&"function"==typeof this.spt.userActions.click?this.spt.userActions.click.call(this,t):this.paused()?this.play():this.pause()))},n.prototype.Ibt=function(){this.userActive(!this.userActive())},n.prototype.Tbt=function(){this.userWasActive=this.userActive()},n.prototype.Sbt=function(){this.userWasActive&&this.reportUserActivity()},n.prototype.Ebt=function(t){t.preventDefault()},n.prototype.jC=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.prototype.Vpt=function(){this.reportUserActivity()},n.prototype.gbt=function(t,n){n&&this.isFullscreen(n.isFullscreen),this.trigger("fullscreenchange")},n.prototype.mbt=function(){var t=this.gpt.error();this.error(t)},n.prototype.pbt=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},n.prototype.getCache=function(){return this.Jgt},n.prototype.Rbt=function(t,n){if(this.gpt&&!this.gpt.fpt)this.gpt.ready(function(){this[t](n)},!0);else try{this.gpt&&this.gpt[t](n)}catch(t){throw(0,A.default)(t),t}},n.prototype._bt=function(t){if(this.gpt&&this.gpt.fpt)try{return this.gpt[t]()}catch(n){throw void 0===this.gpt[t]?(0,A.default)("Video.js: "+t+" method not defined for "+this.Jpt+" playback technology.",n):"TypeError"===n.name?((0,A.default)("Video.js: "+t+" unavailable on "+this.Jpt+" playback technology element.",n),this.gpt.fpt=!1):(0,A.default)(n),n}},n.prototype.play=function(){return this.src()||this.currentSrc()?this.Rbt("play"):this.gpt.one("loadstart",function(){this.play()}),this},n.prototype.pause=function(){return this.Rbt("pause"),this},n.prototype.paused=function(){return!1!==this._bt("paused")},n.prototype.scrubbing=function(t){return void 0!==t?(this.Upt=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.Upt},n.prototype.currentTime=function(t){return void 0!==t?(this.Rbt("setCurrentTime",t),this):(this.Jgt.currentTime=this._bt("currentTime")||0,this.Jgt.currentTime)},n.prototype.duration=function(t){return void 0===t?void 0!==this.Jgt.duration?this.Jgt.duration:NaN:((t=y(t))<0&&(t=1/0),t!==this.Jgt.duration&&(this.Jgt.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},n.prototype.remainingTime=function(){return this.duration()-this.currentTime()},n.prototype.buffered=function(){var t=this._bt("buffered");return t&&t.length||(t=(0,E.createTimeRange)(0,0)),t},n.prototype.bufferedPercent=function(){return(0,I.bufferedPercent)(this.buffered(),this.duration())},n.prototype.bufferedEnd=function(){var t=this.buffered(),n=this.duration(),i=t.end(t.length-1);return i>n&&(i=n),i},n.prototype.volume=function(t){var n=void 0;return void 0!==t?(n=g.max(0,g.min(1,y(t))),this.Jgt.volume=n,this.Rbt("setVolume",n),this):(n=y(this._bt("volume")),p(n)?1:n)},n.prototype.muted=function(t){return void 0!==t?(this.Rbt("setMuted",t),this):this._bt("muted")||!1},n.prototype.supportsFullScreen=function(){return this._bt("supportsFullScreen")||!1},n.prototype.isFullscreen=function(t){return void 0!==t?(this.lC=!!t,this):!!this.lC},n.prototype.requestFullscreen=function(t){var n=N.default,i=void 0;return this.isFullscreen(!0),n.requestFullscreen?(o.on(s.document,n.fullscreenchange,f.bind(this,function t(i){this.isFullscreen(s.document[n.fullscreenElement]),!1===this.isFullscreen()&&o.off(s.document,n.fullscreenchange,t),this.trigger("fullscreenchange")})),n.prefixed||(i=this.spt.fullscreenOptions,void 0!==t&&(i=t)),this.ipt[n.requestFullscreen](i)):this.gpt.supportsFullScreen()?this.Rbt("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},n.prototype.exitFullscreen=function(){var t=N.default;return this.isFullscreen(!1),t.requestFullscreen?s.document[t.exitFullscreen]():this.gpt.supportsFullScreen()?this.Rbt("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},n.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=s.document.documentElement.style.overflow,o.on(s.document,"keydown",f.bind(this,this.fullWindowOnEscKey)),s.document.documentElement.style.overflow="hidden",h.addElClass(s.document.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},n.prototype.exitFullWindow=function(){this.isFullWindow=!1,o.off(s.document,"keydown",this.fullWindowOnEscKey),s.document.documentElement.style.overflow=this.docOrigOverflow,h.removeElClass(s.document.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.prototype.canPlayType=function(t){for(var n=void 0,i=0,e=this.spt.techOrder;i<e.length;i++){var s=(0,S.default)(e[i]),u=z.default.getTech(s);if(u||(u=r.default.getComponent(s)),u){if(u.isSupported()&&(n=u.canPlayType(t)))return n}else A.default.error('The "'+s+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.prototype.selectSource=function(t){var n,i=this,e=this.spt.techOrder.map(S.default).map(function(t){return[t,z.default.getTech(t)||r.default.getComponent(t)]}).filter(function(t){var n=t[0],i=t[1];return i?i.isSupported():(A.default.error('The "'+n+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),s=function(t,n,i){var e=void 0;return t.some(function(t){return n.some(function(n){if(e=i(t,n))return!0})}),e},u=function(t,n){var e=t[0],r=t[1];if(r.canPlaySource(n,i.spt[e.toLowerCase()]))return{source:n,tech:e}};return(this.spt.sourceOrder?s(t,e,(n=u,function(t,i){return n(i,t)})):s(e,t,u))||!1},n.prototype.src=function(t){if(void 0===t)return this._bt("src");var n=z.default.getTech(this.Jpt);return n||(n=r.default.getComponent(this.Jpt)),Array.isArray(t)?this.Dbt(t):"string"==typeof t?this.src({src:t}):t instanceof w&&(t.type&&!n.canPlaySource(t,this.spt[this.Jpt.toLowerCase()])?this.Dbt([t]):(this.Jgt.sources=null,this.Jgt.source=t,this.Jgt.src=t.src,this.nbt=t.type||"",this.ready(function(){n.prototype.hasOwnProperty("setSource")?this.Rbt("setSource",t):this.Rbt("src",t.src),"auto"===this.spt.preload&&this.load(),this.spt.autoplay&&this.play()},!0))),this},n.prototype.Dbt=function(t){var n=this.selectSource(t);n?(n.tech===this.Jpt?this.src(n.source):this.Zpt(n.tech,n.source),this.Jgt.sources=t):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.spt.notSupportedMessage)})},0),this.triggerReady())},n.prototype.load=function(){return this.Rbt("load"),this},n.prototype.reset=function(){return this.Zpt((0,S.default)(this.spt.techOrder[0]),null),this.Rbt("reset"),this},n.prototype.currentSources=function(){var t=this.currentSource(),n=[];return 0!==w.keys(t).length&&n.push(t),this.Jgt.sources||n},n.prototype.currentSource=function(){var t={},n=this.currentSrc();return n&&(t.src=n),this.Jgt.source||t},n.prototype.currentSrc=function(){return this._bt("currentSrc")||this.Jgt.src||""},n.prototype.currentType=function(){return this.nbt||""},n.prototype.preload=function(t){return void 0!==t?(this.Rbt("setPreload",t),this.spt.preload=t,this):this._bt("preload")},n.prototype.autoplay=function(t){return void 0!==t?(this.Rbt("setAutoplay",t),this.spt.autoplay=t,this):this._bt("autoplay",t)},n.prototype.playsinline=function(t){return void 0!==t?(this.Rbt("setPlaysinline",t),this.spt.playsinline=t,this):this._bt("playsinline")},n.prototype.loop=function(t){return void 0!==t?(this.Rbt("setLoop",t),this.spt.loop=t,this):this._bt("loop")},n.prototype.poster=function(t){return void 0===t?this.mX:(t||(t=""),this.mX=t,this.Rbt("setPoster",t),this.trigger("posterchange"),this)},n.prototype.ybt=function(){!this.mX&&this.gpt&&this.gpt.poster&&(this.mX=this.gpt.poster()||"",this.trigger("posterchange"))},n.prototype.controls=function(t){return void 0!==t?(t=!!t,this.Fpt!==t&&(this.Fpt=t,this.usingNativeControls()&&this.Rbt("setControls",t),t?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.bbt()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.kbt())),this):!!this.Fpt},n.prototype.usingNativeControls=function(t){return void 0!==t?(t=!!t,this.Nbt!==t&&(this.Nbt=t,t?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.Nbt},n.prototype.error=function(t){return void 0===t?this.mu||null:null===t?(this.mu=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.mu=new x.default(t),this.addClass("vjs-error"),A.default.error("(CODE:"+this.mu.code+" "+x.default.errorTypes[this.mu.code]+")",this.mu.message,this.mu),this.trigger("error"),this)},n.prototype.reportUserActivity=function(t){this.Pbt=!0},n.prototype.userActive=function(t){return void 0!==t?((t=!!t)!==this.xbt&&(this.xbt=t,t?(this.Pbt=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.Pbt=!1,this.gpt&&this.gpt.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.xbt},n.prototype.Xpt=function(){var t=void 0,n=void 0,i=void 0,e=f.bind(this,this.reportUserActivity);this.on("mousedown",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}),this.on("mousemove",function(t){t.screenX===n&&t.screenY===i||(n=t.screenX,i=t.screenY,e())}),this.on("mouseup",function(n){e(),this.clearInterval(t)}),this.on("keydown",e),this.on("keyup",e);var r=void 0;this.setInterval(function(){if(this.Pbt){this.Pbt=!1,this.userActive(!0),this.clearTimeout(r);var t=this.spt.inactivityTimeout;t>0&&(r=this.setTimeout(function(){this.Pbt||this.userActive(!1)},t))}},250)},n.prototype.playbackRate=function(t){return void 0!==t?(this.Rbt("setPlaybackRate",t),this):this.gpt&&this.gpt.featuresPlaybackRate?this._bt("playbackRate"):1},n.prototype.isAudio=function(t){return void 0!==t?(this.Bbt=!!t,this):!!this.Bbt},n.prototype.videoTracks=function(){return this.gpt?this.gpt.videoTracks():(this.Im=this.Im||new $.default,this.Im)},n.prototype.audioTracks=function(){return this.gpt?this.gpt.audioTracks():(this.Em=this.Em||new q.default,this.Em)},n.prototype.textTracks=function(){if(this.gpt)return this.gpt.textTracks()},n.prototype.remoteTextTracks=function(){if(this.gpt)return this.gpt.remoteTextTracks()},n.prototype.remoteTextTrackEls=function(){if(this.gpt)return this.gpt.remoteTextTrackEls()},n.prototype.addTextTrack=function(t,n,i){if(this.gpt)return this.gpt.addTextTrack(t,n,i)},n.prototype.addRemoteTextTrack=function(t,n){if(this.gpt)return this.gpt.addRemoteTextTrack(t,n)},n.prototype.removeRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.track,i=void 0===n?arguments[0]:n;if(this.gpt)return this.gpt.removeRemoteTextTrack(i)},n.prototype.getVideoPlaybackQuality=function(){return this._bt("getVideoPlaybackQuality")},n.prototype.videoWidth=function(){return this.gpt&&this.gpt.videoWidth&&this.gpt.videoWidth()||0},n.prototype.videoHeight=function(){return this.gpt&&this.gpt.videoHeight&&this.gpt.videoHeight()||0},n.prototype.language=function(t){return void 0===t?this.L_:(this.L_!==String(t).toLowerCase()&&(this.L_=String(t).toLowerCase(),void 0!==this.ipt&&this.trigger("languagechange")),this)},n.prototype.languages=function(){return(0,j.default)(n.prototype.spt.languages,this.jpt)},n.prototype.toJSON=function(){var t=(0,j.default)(this.spt),n=t.tracks;t.tracks=[];for(var i=0;i<n.length;i++){var e=n[i];(e=(0,j.default)(e)).player=void 0,t.tracks[i]=e}return t},n.prototype.createModal=function(t,n){var i=this;(n=n||{}).content=t||"";var e=new X.default(this,n);return this.addChild(e),e.on("dispose",function(){i.removeChild(e)}),e.open()},n.getTagSettings=function(t){var n={sources:[],tracks:[]},i=h.getElAttributes(t),e=i["data-setup"];if(h.hasElClass(t,"vjs-fluid")&&(i.fluid=!0),null!==e){var r=(0,O.default)(e||"{}"),s=r[0],u=r[1];s&&A.default.error(s),(0,L.assign)(i,u)}if((0,L.assign)(n,i),t.hasChildNodes())for(var o=t.childNodes,a=0,c=o.length;a<c;a++){var f=o[a],l=f.nodeName.toLowerCase();"source"===l?n.sources.push(h.getElAttributes(f)):"track"===l&&n.tracks.push(h.getElAttributes(f))}return n},n.prototype.Hpt=function(){var t=s.document.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},n}(r.default);K.players={};var J=s.window.navigator;K.prototype.spt={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:J&&(J.languages&&J.languages[0]||J.userLanguage||J.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreenOptions:{navigationUI:"hide"}},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){K.prototype[t]=function(){return this._bt(t)}}),Z.forEach(function(t){K.prototype["handleTech"+(0,S.default)(t)+"_"]=function(){return this.trigger(t)}}),r.default.registerComponent("Player",K),i.default=K},{1:1,116:116,4:4,41:41,44:44,45:45,46:46,5:5,50:50,55:55,59:59,60:60,61:61,62:62,63:63,68:68,69:69,71:71,76:76,78:78,79:79,8:8,81:81,82:82,83:83,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92}],52:[function(t,n,i){i.__esModule=!0;var e,r=t(51),s=(e=r)&&e.__esModule?e:{default:e};i.default=function(t,n){s.default.prototype[t]=n}},{51:51}],53:[function(t,n,i){i.__esModule=!0;var e=t(3),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.update=function(){var t=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=t,this.addChild(t),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},n.prototype.createPopup=function(){},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n.prototype.buildCSSClass=function(){var n="vjs-menu-button";return!0===this.spt.inline?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},n}(r.default);u.default.registerComponent("PopupButton",a),i.default=a},{3:3,5:5}],54:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=l(u),a=t(83),h=l(a),c=t(82),f=l(c);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var d=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addItem=function(t){this.addChild(t),t.on("click",h.bind(this,function(){this.unlockShowing()}))},n.prototype.createEl=function(){var n=this.spt.contentElType||"ul";this.cpt=o.createEl(n,{className:"vjs-menu-content"});var i=t.prototype.createEl.call(this,"div",{append:this.cpt,className:"vjs-menu"});return i.appendChild(this.cpt),f.on(i,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),i},n}(s.default);s.default.registerComponent("Popup",d),i.default=d},{5:5,81:81,82:82,83:83}],55:[function(t,n,i){i.__esModule=!0;var e=t(3),r=g(e),s=t(5),u=g(s),o=t(83),a=d(o),h=t(81),c=d(h),f=t(78),l=d(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function g(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),i.on("posterchange",a.bind(r,r.update)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},n.prototype.createEl=function(){var t=c.createEl("div",{className:"vjs-poster",tabIndex:-1});return l.BACKGROUND_SIZE_SUPPORTED||(this.Obt=c.createEl("img"),t.appendChild(this.Obt)),t},n.prototype.update=function(t){var n=this.player().poster();this.setSrc(n),n?this.show():this.hide()},n.prototype.setSrc=function(t){if(this.Obt)this.Obt.src=t;else{var n="";t&&(n='url("'+t+'")'),this.ipt.style.backgroundImage=n}},n.prototype.handleClick=function(t){this.fN.controls()&&(this.fN.paused()?this.fN.play():this.fN.pause())},n}(r.default);u.default.registerComponent("PosterImage",m),i.default=m},{3:3,5:5,78:78,81:81,83:83}],56:[function(t,n,i){i.__esModule=!0,i.hasLoaded=i.autoSetupTimeout=i.autoSetup=void 0;var e=t(81),r=a(e),s=t(82),u=a(s),o=t(85);function a(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var h=!1,c=void 0,f=function(){if(r.isReal()){var t=o.document.getElementsByTagName("video"),n=o.document.getElementsByTagName("audio"),i=[];if(t&&t.length>0)for(var e=0,s=t.length;e<s;e++)i.push(t[e]);if(n&&n.length>0)for(var u=0,a=n.length;u<a;u++)i.push(n[u]);if(i&&i.length>0)for(var f=0,v=i.length;f<v;f++){var d=i[f];if(!d||!d.getAttribute){l(1);break}if(void 0===d.player){var w=d.getAttribute("data-setup");null!==w&&c(d)}}else h||l(1)}};function l(t,n){n&&(c=n),o.window.setTimeout(f,t)}r.isReal()&&"complete"===o.document.readyState?h=!0:u.one(o.window,"load",function(){h=!0}),i.autoSetup=f,i.autoSetupTimeout=l,i.hasLoaded=function(){return h}},{81:81,82:82,85:85}],57:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(89),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.bar=r.getChild(r.spt.barName),r.vertical(!!r.spt.vertical),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on("focus",r.handleFocus),r.on("blur",r.handleBlur),r.on("click",r.handleClick),r.on(i,"controlsvisible",r.update),r.on(i,r.playerEvent,r.update),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.className=i.className+" vjs-slider",i=(0,a.assign)({tabIndex:0},i),e=(0,a.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},e),t.prototype.createEl.call(this,n,i,e)},n.prototype.handleMouseDown=function(t){var n=this.bar.ipt.ownerDocument;t.preventDefault(),o.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove),this.on(n,"mouseup",this.handleMouseUp),this.on(n,"touchmove",this.handleMouseMove),this.on(n,"touchend",this.handleMouseUp),this.handleMouseMove(t)},n.prototype.handleMouseMove=function(t){},n.prototype.handleMouseUp=function(){var t=this.bar.ipt.ownerDocument;o.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},n.prototype.update=function(){if(this.ipt){var t=this.getPercent(),n=this.bar;if(n){("number"!=typeof t||t!=t||t<0||t===1/0)&&(t=0);var i=(100*t).toFixed(2)+"%";this.vertical()?n.el().style.height=i:n.el().style.width=i}}},n.prototype.calculateDistance=function(t){var n=o.getPointerPosition(this.ipt,t);return this.vertical()?n.y:n.x},n.prototype.handleFocus=function(){this.on(this.bar.ipt.ownerDocument,"keydown",this.handleKeyPress)},n.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},n.prototype.handleBlur=function(){this.off(this.bar.ipt.ownerDocument,"keydown",this.handleKeyPress)},n.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},n.prototype.vertical=function(t){return void 0===t?this.$y||!1:(this.$y=!!t,this.$y?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},n}(s.default);s.default.registerComponent("Slider",h),i.default=h},{5:5,81:81,89:89}],58:[function(t,n,i){i.__esModule=!0,i.default=function(t){return t.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},t.streamFromParts=function(t,n){return t+"&"+n},t.streamToParts=function(t){var n={connection:"",stream:""};if(!t)return n;var i=t.search(/&(?!\w+=)/),e=void 0;return-1!==i?e=i+1:0===(i=e=t.lastIndexOf("/")+1)&&(i=e=t.length),n.connection=t.substring(0,i),n.stream=t.substring(e,t.length),n},t.isStreamingType=function(n){return n in t.streamingFormats},t.RTMP_RE=/^rtmp[set]?:\/\//i,t.isStreamingSrc=function(n){return t.RTMP_RE.test(n)},t.rtmpSourceHandler={},t.rtmpSourceHandler.canPlayType=function(n){return t.isStreamingType(n)?"maybe":""},t.rtmpSourceHandler.canHandleSource=function(n,i){var e=t.rtmpSourceHandler.canPlayType(n.type);return e||(t.isStreamingSrc(n.src)?"maybe":"")},t.rtmpSourceHandler.handleSource=function(n,i,e){var r=t.streamToParts(n.src);i.setRtmpConnection(r.connection),i.setRtmpStream(r.stream)},t.registerSourceHandler(t.rtmpSourceHandler),t}},{}],59:[function(t,n,i){i.__esModule=!0;var e=t(62),r=p(e),s=t(81),u=y(s),o=t(93),a=y(o),h=t(91),c=t(58),f=p(c),l=t(5),d=p(l),g=t(85),m=t(89);function y(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function p(t){return t&&t.__esModule?t:{default:t}}var _=g.window.navigator,b=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return i.source&&r.ready(function(){this.setSource(i.source)},!0),i.startTime&&r.ready(function(){this.load(),this.play(),this.currentTime(i.startTime)},!0),g.window.videojs=g.window.videojs||{},g.window.videojs.Flash=g.window.videojs.Flash||{},g.window.videojs.Flash.onReady=n.onReady,g.window.videojs.Flash.onEvent=n.onEvent,g.window.videojs.Flash.onError=n.onError,r.on("seeked",function(){this.Lbt=void 0}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var t=this.spt;t.swf||(t.swf="//vjs.zencdn.net/swf/5.4.1/video-js.swf");var i=t.techId,e=(0,m.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:t.autoplay,preload:t.preload,loop:t.loop,muted:t.muted},t.flashVars),r=(0,m.assign)({wmode:"opaque",bgcolor:"#000000"},t.params),s=(0,m.assign)({id:i,name:i,class:"vjs-tech"},t.attributes);return this.ipt=n.embed(t.swf,e,r,s),this.ipt.tech=this,this.ipt},n.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.ipt.vjs_play()},n.prototype.pause=function(){this.ipt.vjs_pause()},n.prototype.src=function(t){return void 0===t?this.currentSrc():this.setSrc(t)},n.prototype.setSrc=function(t){var n=this;t=a.getAbsoluteURL(t),this.ipt.vjs_src(t),this.autoplay()&&this.setTimeout(function(){return n.play()},0)},n.prototype.seeking=function(){return void 0!==this.Lbt},n.prototype.setCurrentTime=function(n){var i=this.seekable();i.length&&(n=(n=n>i.start(0)?n:i.start(0))<i.end(i.length-1)?n:i.end(i.length-1),this.Lbt=n,this.trigger("seeking"),this.ipt.vjs_setProperty("currentTime",n),t.prototype.setCurrentTime.call(this))},n.prototype.currentTime=function(){return this.seeking()?this.Lbt||0:this.ipt.vjs_getProperty("currentTime")},n.prototype.currentSrc=function(){return this.Qm?this.Qm.src:this.ipt.vjs_getProperty("currentSrc")},n.prototype.duration=function(){if(0===this.readyState())return NaN;var t=this.ipt.vjs_getProperty("duration");return t>=0?t:1/0},n.prototype.load=function(){this.ipt.vjs_load()},n.prototype.poster=function(){this.ipt.vjs_getProperty("poster")},n.prototype.setPoster=function(){},n.prototype.seekable=function(){var t=this.duration();return 0===t?(0,h.createTimeRange)():(0,h.createTimeRange)(0,t)},n.prototype.buffered=function(){var t=this.ipt.vjs_getProperty("buffered");return 0===t.length?(0,h.createTimeRange)():(0,h.createTimeRange)(t[0][0],t[0][1])},n.prototype.supportsFullScreen=function(){return!1},n.prototype.enterFullScreen=function(){return!1},n.prototype.getVideoPlaybackQuality=function(){var t=this.ipt.vjs_getProperty("getVideoPlaybackQuality");return g.window.performance&&"function"==typeof g.window.performance.now?t.creationTime=g.window.performance.now():g.window.performance&&g.window.performance.timing&&"number"==typeof g.window.performance.timing.navigationStart&&(t.creationTime=g.window.Date.now()-g.window.performance.timing.navigationStart),t},n}(r.default),k=b.prototype,A="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),T="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(",");function S(t){var n=t.charAt(0).toUpperCase()+t.slice(1);k["set"+n]=function(n){return this.ipt.vjs_setProperty(t,n)}}function E(t){k[t]=function(){return this.ipt.vjs_getProperty(t)}}for(var I=0;I<A.length;I++)E(A[I]),S(A[I]);for(var R=0;R<T.length;R++)E(T[R]);b.isSupported=function(){return b.version()[0]>=10},r.default.withSourceHandlers(b),b.nativeSourceHandler={},b.nativeSourceHandler.canPlayType=function(t){return t in b.formats?"maybe":""},b.nativeSourceHandler.canHandleSource=function(t,n){var i,e,r=void 0;return r=t.type?t.type.replace(/;.*/,"").toLowerCase():(i=t.src,(e=a.getFileExtension(i))?"video/"+e:""),b.nativeSourceHandler.canPlayType(r)},b.nativeSourceHandler.handleSource=function(t,n,i){n.setSrc(t.src)},b.nativeSourceHandler.dispose=function(){},b.registerSourceHandler(b.nativeSourceHandler),b.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},b.onReady=function(t){var n=u.getEl(t),i=n&&n.tech;i&&i.el()&&b.checkReady(i)},b.checkReady=function(t){t.el()&&(t.el().vjs_getProperty?t.triggerReady():this.setTimeout(function(){b.checkReady(t)},50))},b.onEvent=function(t,n){var i=u.getEl(t).tech,e=Array.prototype.slice.call(arguments,2);i.setTimeout(function(){i.trigger(n,e)},1)},b.onError=function(t,n){var i=u.getEl(t).tech;if("srcnotfound"===n)return i.error(4);i.error("FLASH: "+n)},b.version=function(){var t="0,0,0";try{t=new g.window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(n){try{_.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(_.plugins["Shockwave Flash 2.0"]||_.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(t){}}return t.split(",")},b.embed=function(t,n,i,e){var r=b.getEmbedCode(t,n,i,e),s=u.createEl("div",{innerHTML:r}).childNodes[0];return s},b.getEmbedCode=function(t,n,i,e){var r="",s="",u="";return n&&w.getOwnPropertyNames(n).forEach(function(t){r+=t+"="+n[t]+"&amp;"}),i=(0,m.assign)({movie:t,flashvars:r,allowScriptAccess:"always",allowNetworking:"all"},i),w.getOwnPropertyNames(i).forEach(function(t){s+='<param name="'+t+'" value="'+i[t]+'" />'}),e=(0,m.assign)({data:t,width:"100%",height:"100%"},e),w.getOwnPropertyNames(e).forEach(function(t){u+=t+'="'+e[t]+'" '}),'<object type="application/x-shockwave-flash" '+u+">"+s+"</object>"},(0,f.default)(b),d.default.registerComponent("Flash",b),r.default.registerTech("Flash",b),i.default=b},{5:5,58:58,62:62,81:81,85:85,89:89,91:91,93:93}],60:[function(t,n,i){i.__esModule=!0;var e,r=((e=["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]).raw=["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],e),s=t(62),u=D(s),o=t(5),a=D(o),h=t(81),c=C(h),f=t(93),l=C(f),d=t(83),g=C(d),m=t(87),y=D(m),p=t(121),_=D(p),b=t(78),k=C(b),A=t(85),T=t(89),S=t(88),E=D(S),I=t(92),R=D(I);function C(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function D(t){return t&&t.__esModule?t:{default:t}}var N=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e)),u=i.source,o=!1;if(u&&(s.ipt.currentSrc!==u.src||i.tag&&3===i.tag.Gpt)?s.setSource(u):s.Mbt(s.ipt),s.ipt.hasChildNodes()){for(var a=s.ipt.childNodes,h=a.length,c=[];h--;){var f=a[h],d=f.nodeName.toLowerCase();"track"===d&&(s.featuresNativeTextTracks?(s.remoteTextTrackEls().jbt(f),s.remoteTextTracks().g_(f.track),o||s.ipt.hasAttribute("crossorigin")||!l.isCrossOrigin(f.src)||(o=!0)):c.push(f))}for(var w=0;w<c.length;w++)s.ipt.removeChild(c[w])}return["audio","video"].forEach(function(t){var n=s.el()[t+"Tracks"],i=s[t+"Tracks"](),e=(0,R.default)(t);s["featuresNative"+e+"Tracks"]&&n&&n.addEventListener&&(s["handle"+e+"Fbt"]=function(t){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},s["handle"+e+"Ubt"]=function(t){return i.addTrack(t.track)},s["handle"+e+"Hbt"]=function(t){return i.removeTrack(t.track)},n.addEventListener("change",s["handle"+e+"Fbt"]),n.addEventListener("addtrack",s["handle"+e+"Ubt"]),n.addEventListener("removetrack",s["handle"+e+"Hbt"]),s["removeOld"+e+"Xbt"]=function(t){return s.Vbt(i,n)},s.on("loadstart",s["removeOld"+e+"Xbt"]))}),s.featuresNativeTextTracks&&(o&&y.default.warn((0,_.default)(r)),s.zbt=g.bind(s,s.handleTextTrackChange),s.Wbt=g.bind(s,s.handleTextTrackAdd),s.qbt=g.bind(s,s.handleTextTrackRemove),s.Gbt()),s.$bt(),(k.TOUCH_ENABLED||k.IS_IPHONE||k.IS_NATIVE_ANDROID)&&!0===i.nativeControlsForTouch&&s.setControls(!0),s.Ybt(),s.triggerReady(),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){var i=this;["audio","video","text"].forEach(function(t){var n=(0,R.default)(t),e=i.ipt[t+"Tracks"];e&&e.removeEventListener&&(e.removeEventListener("change",i["handle"+n+"Fbt"]),e.removeEventListener("addtrack",i["handle"+n+"Ubt"]),e.removeEventListener("removetrack",i["handle"+n+"Hbt"])),e&&i.off("loadstart",i["removeOld"+n+"Xbt"])}),n.disposeMediaElement(this.ipt),t.prototype.dispose.call(this)},n.prototype.$bt=function(){var t=this.textTracks(),n=void 0,i=function(){n=[];for(var i=0;i<t.length;i++){var e=t[i];"metadata"===e.kind&&n.push({track:e,storedMode:e.mode})}};i(),t.addEventListener("change",i);var e=function i(){for(var e=0;e<n.length;e++){var r=n[e];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}t.removeEventListener("change",i)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",i),t.removeEventListener("change",e),t.addEventListener("change",e)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",i),t.addEventListener("change",i),t.removeEventListener("change",e)})},n.prototype.createEl=function(){var t=this.spt.tag;if(!t||!this.spt.playerElIngest&&!this.movingMediaElementInDOM){if(t){var i=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(i,t),n.disposeMediaElement(t),t=i}else{t=A.document.createElement("video");var e=this.spt.tag&&c.getElAttributes(this.spt.tag),r=(0,E.default)({},e);k.TOUCH_ENABLED&&!0===this.spt.nativeControlsForTouch||delete r.controls,c.setElAttributes(t,(0,T.assign)(r,{id:this.spt.techId,class:"vjs-tech"}))}t.playerId=this.spt.playerId}void 0!==this.spt.preload&&c.setAttribute(t,"preload",this.spt.preload);for(var s=["loop","muted","playsinline","autoplay"],u=s.length-1;u>=0;u--){var o=s[u],a=this.spt[o];void 0!==a&&(a?c.setAttribute(t,o,o):c.removeAttribute(t,o),t[o]=a)}return t},n.prototype.Mbt=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var n=!1,i=function(){n=!0};this.on("loadstart",i);var e=function(){n||this.trigger("loadstart")};return this.on("loadedmetadata",e),void this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",e),n||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(t){this.trigger(t)},this)})}},n.prototype.Gbt=function(){var t=this.el().textTracks;if(t){for(var n=0;n<t.length;n++)this.textTracks().g_(t[n]);t.addEventListener&&(t.addEventListener("change",this.zbt),t.addEventListener("addtrack",this.Wbt),t.addEventListener("removetrack",this.qbt)),this.on("loadstart",this.Qbt)}},n.prototype.handleTextTrackChange=function(t){var n=this.textTracks();this.textTracks().trigger({type:"change",target:n,currentTarget:n,srcElement:n})},n.prototype.handleTextTrackAdd=function(t){this.textTracks().g_(t.track)},n.prototype.handleTextTrackRemove=function(t){this.textTracks().m_(t.track)},n.prototype.Vbt=function(t,n){var i=[];if(n){for(var e=0;e<t.length;e++){for(var r=t[e],s=!1,u=0;u<n.length;u++)if(n[u]===r){s=!0;break}s||i.push(r)}for(var o=0;o<i.length;o++){var a=i[o];t.m_(a)}}},n.prototype.Qbt=function(t){var n=this.textTracks(),i=this.el().textTracks;this.Vbt(n,i)},n.prototype.play=function(){var t=this.ipt.play();void 0!==t&&"function"==typeof t.then&&t.then(null,function(t){})},n.prototype.setCurrentTime=function(t){try{this.ipt.currentTime=t}catch(t){(0,y.default)(t,"Video is not ready. (Video.js)")}},n.prototype.duration=function(){var t=this;return this.ipt.duration===1/0&&k.IS_ANDROID&&k.IS_CHROME&&0===this.ipt.currentTime?(this.on("timeupdate",function n(){t.ipt.currentTime>0&&(t.ipt.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",n))}),NaN):this.ipt.duration||NaN},n.prototype.width=function(){return this.ipt.offsetWidth},n.prototype.height=function(){return this.ipt.offsetHeight},n.prototype.Ybt=function(){var t=this;if("webkitDisplayingFullscreen"in this.ipt){var n=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.ipt&&"picture-in-picture"!==this.ipt.webkitPresentationMode&&(this.one("webkitendfullscreen",n),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",function(){t.off("webkitbeginfullscreen",i),t.off("webkitendfullscreen",n)})}},n.prototype.supportsFullScreen=function(){if("function"==typeof this.ipt.webkitEnterFullScreen){var t=A.window.navigator&&A.window.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},n.prototype.enterFullScreen=function(){var t=this.ipt;t.paused&&t.networkState<=t.HAVE_METADATA?(this.ipt.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},n.prototype.exitFullScreen=function(){this.ipt.webkitExitFullScreen()},n.prototype.src=function(t){if(void 0===t)return this.ipt.src;this.setSrc(t)},n.prototype.reset=function(){n.resetMediaElement(this.ipt)},n.prototype.currentSrc=function(){return this.Qm?this.Qm.src:this.ipt.currentSrc},n.prototype.setControls=function(t){this.ipt.controls=!!t},n.prototype.addTextTrack=function(n,i,e){return this.featuresNativeTextTracks?this.ipt.addTextTrack(n,i,e):t.prototype.addTextTrack.call(this,n,i,e)},n.prototype.createRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,n);var i=A.document.createElement("track");return n.kind&&(i.kind=n.kind),n.label&&(i.label=n.label),(n.language||n.srclang)&&(i.srclang=n.language||n.srclang),n.default&&(i.default=n.default),n.id&&(i.id=n.id),n.src&&(i.src=n.src),i},n.prototype.addRemoteTextTrack=function(n,i){var e=t.prototype.addRemoteTextTrack.call(this,n,i);return this.featuresNativeTextTracks&&this.el().appendChild(e),e},n.prototype.removeRemoteTextTrack=function(n){if(t.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var i=this.$$("track"),e=i.length;e--;)n!==i[e]&&n!==i[e].track||this.el().removeChild(i[e])},n.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),A.window.performance&&"function"==typeof A.window.performance.now?t.creationTime=A.window.performance.now():A.window.performance&&A.window.performance.timing&&"number"==typeof A.window.performance.timing.navigationStart&&(t.creationTime=A.window.Date.now()-A.window.performance.timing.navigationStart),t},n}(u.default);if(c.isReal()){N.TEST_VID=A.document.createElement("video");var P=A.document.createElement("track");P.kind="captions",P.srclang="en",P.label="English",N.TEST_VID.appendChild(P)}N.isSupported=function(){try{N.TEST_VID.volume=.5}catch(t){return!1}return!(!N.TEST_VID||!N.TEST_VID.canPlayType)},N.canControlVolume=function(){try{var t=N.TEST_VID.volume;return N.TEST_VID.volume=t/2+.1,t!==N.TEST_VID.volume}catch(t){return!1}},N.canControlPlaybackRate=function(){if(k.IS_ANDROID&&k.IS_CHROME&&k.CHROME_VERSION<58)return!1;try{var t=N.TEST_VID.playbackRate;return N.TEST_VID.playbackRate=t/2+.1,t!==N.TEST_VID.playbackRate}catch(t){return!1}},N.supportsNativeTextTracks=function(){return k.IS_ANY_SAFARI},N.supportsNativeVideoTracks=function(){return!(!N.TEST_VID||!N.TEST_VID.videoTracks)},N.supportsNativeAudioTracks=function(){return!(!N.TEST_VID||!N.TEST_VID.audioTracks)},N.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],N.prototype.featuresVolumeControl=N.canControlVolume(),N.prototype.featuresPlaybackRate=N.canControlPlaybackRate(),N.prototype.movingMediaElementInDOM=!k.IS_IOS,N.prototype.featuresFullscreenResize=!0,N.prototype.featuresProgressEvents=!0,N.prototype.featuresTimeupdateEvents=!0,N.prototype.featuresNativeTextTracks=N.supportsNativeTextTracks(),N.prototype.featuresNativeVideoTracks=N.supportsNativeVideoTracks(),N.prototype.featuresNativeAudioTracks=N.supportsNativeAudioTracks();var x=N.TEST_VID&&N.TEST_VID.constructor.prototype.canPlayType,B=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,O=/^video\/mp4/i;N.patchCanPlayType=function(){k.ANDROID_VERSION>=4&&!k.IS_FIREFOX?N.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&B.test(t)?"maybe":x.call(this,t)}:k.IS_OLD_ANDROID&&(N.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&O.test(t)?"maybe":x.call(this,t)})},N.unpatchCanPlayType=function(){var t=N.TEST_VID.constructor.prototype.canPlayType;return N.TEST_VID.constructor.prototype.canPlayType=x,t},N.patchCanPlayType(),N.disposeMediaElement=function(t){if(t){var n=t.nodeName.toLowerCase();if("video"===n||"audio"===n){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}}},N.resetMediaElement=function(t){if(t){for(var n=t.querySelectorAll("source"),i=n.length;i--;)t.removeChild(n[i]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){N.prototype[t]=function(){return this.ipt[t]||this.ipt.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){N.prototype["set"+(0,R.default)(t)]=function(n){this.ipt[t]=n,n?this.ipt.setAttribute(t,t):this.ipt.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){N.prototype[t]=function(){return this.ipt[t]}}),["volume","src","poster","preload","playbackRate"].forEach(function(t){N.prototype["set"+(0,R.default)(t)]=function(n){this.ipt[t]=n}}),["pause","load"].forEach(function(t){N.prototype[t]=function(){return this.ipt[t]()}}),u.default.withSourceHandlers(N),N.nativeSourceHandler={},N.nativeSourceHandler.canPlayType=function(t){try{return N.TEST_VID.canPlayType(t)}catch(t){return""}},N.nativeSourceHandler.canHandleSource=function(t,n){if(t.type)return N.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=l.getFileExtension(t.src);return N.nativeSourceHandler.canPlayType("video/"+i)}return""},N.nativeSourceHandler.handleSource=function(t,n,i){n.setSrc(t.src)},N.nativeSourceHandler.dispose=function(){},N.registerSourceHandler(N.nativeSourceHandler),a.default.registerComponent("Html5",N),u.default.registerTech("Html5",N),i.default=N},{121:121,5:5,62:62,78:78,81:81,83:83,85:85,87:87,88:88,89:89,92:92,93:93}],61:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(62),u=h(s),o=t(92),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,s){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,s));if(e.playerOptions.sources&&0!==e.playerOptions.sources.length)i.src(e.playerOptions.sources);else for(var h=0,c=e.playerOptions.techOrder;h<c.length;h++){var f=(0,a.default)(c[h]),l=u.default.getTech(f);if(f||(l=r.default.getComponent(f)),l&&l.isSupported()){i.Zpt(f);break}}return o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(r.default);r.default.registerComponent("MediaLoader",c),i.default=c},{5:5,62:62,92:92}],62:[function(t,n,i){i.__esModule=!0;var e=t(5),r=P(e),s=t(66),u=P(s),o=t(65),a=P(o),h=t(88),c=P(h),f=t(72),d=P(f),g=t(70),m=P(g),y=t(76),p=P(y),_=t(63),b=P(_),k=t(83),A=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(k),T=t(87),S=P(T),E=t(91),I=t(79),R=t(46),C=P(R),D=t(85),N=t(89);function P(t){return t&&t.__esModule?t:{default:t}}var x=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),i.reportTouchActivity=!1;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,null,i,e));return r.Cbt=!1,r.on("playing",function(){this.Cbt=!0}),r.on("loadstart",function(){this.Cbt=!1}),r.Rm=i.textTracks,r.Im=i.videoTracks,r.Em=i.audioTracks,r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===i["native"+t+"Tracks"]&&(r["featuresNative"+t+"Tracks"]=!1)}),!1===i.nativeCaptions&&(r.featuresNativeTextTracks=!1),r.featuresNativeTextTracks||r.emulateTextTracks(),r.Zbt=new m.default,r.initTextTrackListeners(),r.initTrackListeners(),i.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.wi=r.constructor.name||"Unknown Tech"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(A.bind(this,function(){var t=this.bufferedPercent();this.Kbt!==t&&this.trigger("progress"),this.Kbt=t,1===t&&this.stopTrackingProgress()}),500)},n.prototype.onDurationChange=function(t){this.Hg=this.duration()},n.prototype.buffered=function(){return(0,E.createTimeRange)(0,0)},n.prototype.bufferedPercent=function(){return(0,I.bufferedPercent)(this.buffered(),this.Hg)},n.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},n.prototype.clearTracks=function(t){var n=this;(t=[].concat(t)).forEach(function(t){for(var i=n[t+"Tracks"]()||[],e=i.length;e--;){var r=i[e];"text"===t&&n.removeRemoteTextTrack(r),i.m_(r)}})},n.prototype.cleanupAutoTextTracks=function(){for(var t=this.Zbt||[],n=t.length;n--;){var i=t[n];this.removeRemoteTextTrack(i)}},n.prototype.reset=function(){},n.prototype.error=function(t){return void 0!==t&&(this.mu=new C.default(t),this.trigger("error")),this.mu},n.prototype.played=function(){return this.Cbt?(0,E.createTimeRange)(0,0):(0,E.createTimeRange)()},n.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.initTextTrackListeners=function(){var t=A.bind(this,function(){this.trigger("texttrackchange")}),n=this.textTracks();n&&(n.addEventListener("removetrack",t),n.addEventListener("addtrack",t),this.on("dispose",A.bind(this,function(){n.removeEventListener("removetrack",t),n.removeEventListener("addtrack",t)})))},n.prototype.initTrackListeners=function(){var t=this;["video","audio"].forEach(function(n){var i=function(){t.trigger(n+"trackchange")},e=t[n+"Tracks"]();e.addEventListener("removetrack",i),e.addEventListener("addtrack",i),t.on("dispose",function(){e.removeEventListener("removetrack",i),e.removeEventListener("addtrack",i)})})},n.prototype.Jbt=function(){var t=this;if(!D.window.WebVTT)if(D.document.body.contains(this.el())){var n={};if(!this.spt["vtt.js"]&&(0,N.isPlain)(n)&&w.keys(n).length>0)return void this.trigger("vttjsloaded");var i=D.document.createElement("script");i.src=this.spt["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",i.onload=function(){t.trigger("vttjsloaded")},i.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){i.onload=null,i.onerror=null}),D.window.WebVTT=!0,this.el().parentNode.appendChild(i)}else this.ready(this.Jbt)},n.prototype.emulateTextTracks=function(){var t=this,n=this.textTracks();if(n){var i=this.remoteTextTracks(),e=function(t){return n.g_(t.track)},r=function(t){return n.m_(t.track)};i.on("addtrack",e),i.on("removetrack",r),this.Jbt();var s=function(){return t.trigger("texttrackchange")},u=function(){s();for(var t=0;t<n.length;t++){var i=n[t];i.removeEventListener("cuechange",s),"showing"===i.mode&&i.addEventListener("cuechange",s)}};u(),n.addEventListener("change",u),n.addEventListener("addtrack",u),n.addEventListener("removetrack",u),this.on("dispose",function(){i.off("addtrack",e),i.off("removetrack",r),n.removeEventListener("change",u),n.removeEventListener("addtrack",u),n.removeEventListener("removetrack",u);for(var t=0;t<n.length;t++){var o=n[t];o.removeEventListener("cuechange",s)}})}},n.prototype.videoTracks=function(){return this.Im=this.Im||new p.default,this.Im},n.prototype.audioTracks=function(){return this.Em=this.Em||new b.default,this.Em},n.prototype.textTracks=function(){return this.Rm=this.Rm||new m.default,this.Rm},n.prototype.remoteTextTracks=function(){return this.hkt=this.hkt||new m.default,this.hkt},n.prototype.remoteTextTrackEls=function(){return this.ckt=this.ckt||new a.default,this.ckt},n.prototype.addTextTrack=function(t,n,i){if(!t)throw new l("TextTrack kind is required but was not provided");return function(t,n,i,e){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=t.textTracks();r.kind=n,i&&(r.label=i),e&&(r.language=e),r.tech=t;var u=new d.default(r);return s.g_(u),u}(this,t,n,i)},n.prototype.createRemoteTextTrack=function(t){var n=(0,c.default)(t,{tech:this});return new u.default(n)},n.prototype.addRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=this.createRemoteTextTrack(t);return!0!==n&&!1!==n&&(S.default.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().jbt(i),this.remoteTextTracks().g_(i.track),!0!==n&&this.Zbt.g_(i.track),i},n.prototype.removeRemoteTextTrack=function(t){var n=this.remoteTextTrackEls().Spt(t);this.remoteTextTrackEls().fkt(n),this.remoteTextTracks().m_(t),this.Zbt.m_(t)},n.prototype.getVideoPlaybackQuality=function(){return{}},n.prototype.setPoster=function(){},n.prototype.playsinline=function(){},n.prototype.setPlaysinline=function(){},n.prototype.canPlayType=function(){return""},n.isTech=function(t){return t.prototype instanceof n||t instanceof n||t===n},n.registerTech=function(t,i){if(n.lkt||(n.lkt={}),!n.isTech(i))throw new l("Tech "+t+" must be a Tech");return n.lkt[t]=i,i},n.getTech=function(t){return n.lkt&&n.lkt[t]?n.lkt[t]:D.window&&D.window.videojs&&D.window.videojs[t]?(S.default.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),D.window.videojs[t]):void 0},n}(r.default);x.prototype.Rm,x.prototype.Em,x.prototype.Im,x.prototype.featuresVolumeControl=!0,x.prototype.featuresFullscreenResize=!1,x.prototype.featuresPlaybackRate=!1,x.prototype.featuresProgressEvents=!1,x.prototype.featuresTimeupdateEvents=!1,x.prototype.featuresNativeTextTracks=!1,x.withSourceHandlers=function(t){t.registerSourceHandler=function(n,i){var e=t.sourceHandlers;e||(e=t.sourceHandlers=[]),void 0===i&&(i=e.length),e.splice(i,0,n)},t.canPlayType=function(n){for(var i=t.sourceHandlers||[],e=void 0,r=0;r<i.length;r++)if(e=i[r].canPlayType(n))return e;return""},t.selectSourceHandler=function(n,i){for(var e=t.sourceHandlers||[],r=0;r<e.length;r++)if(e[r].canHandleSource(n,i))return e[r];return null},t.canPlaySource=function(n,i){var e=t.selectSourceHandler(n,i);return e?e.canHandleSource(n,i):""},["seekable","duration"].forEach(function(t){var n=this[t];"function"==typeof n&&(this[t]=function(){return this.vkt&&this.vkt[t]?this.vkt[t].apply(this.vkt,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(n){var i=t.selectSourceHandler(n,this.spt);return i||(t.nativeSourceHandler?i=t.nativeSourceHandler:S.default.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==t.nativeSourceHandler&&(this.Qm=n,this.off(this.ipt,"loadstart",t.prototype.dkt),this.off(this.ipt,"loadstart",t.prototype.wkt),this.one(this.ipt,"loadstart",t.prototype.dkt)),this.vkt=i.handleSource(n,this,this.spt),this.on("dispose",this.disposeSourceHandler),this},t.prototype.dkt=function(){this.one(this.ipt,"loadstart",t.prototype.wkt)},t.prototype.wkt=function(){this.disposeSourceHandler(),this.one(this.ipt,"loadstart",t.prototype.wkt)},t.prototype.disposeSourceHandler=function(){this.Qm&&(this.clearTracks(["audio","video"]),this.Qm=null),this.cleanupAutoTextTracks(),this.vkt&&(this.off(this.ipt,"loadstart",t.prototype.dkt),this.off(this.ipt,"loadstart",t.prototype.wkt),this.vkt.dispose&&this.vkt.dispose(),this.vkt=null)}},r.default.registerComponent("Tech",x),r.default.registerComponent("MediaTechController",x),x.registerTech("Tech",x),i.default=x},{46:46,5:5,63:63,65:65,66:66,70:70,72:72,76:76,79:79,83:83,85:85,87:87,88:88,89:89,91:91}],63:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t,n){for(var i=0;i<t.length;i++)n.id!==t[i].id&&(t[i].enabled=!1)},f=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);for(var r=void 0,u=e.length-1;u>=0;u--)if(e[u].enabled){c(e,e[u]);break}if(o.IS_IE8){for(var f in r=a.document.createElement("custom"),s.default.prototype)"constructor"!==f&&(r[f]=s.default.prototype[f]);for(var l in n.prototype)"constructor"!==l&&(r[l]=n.prototype[l])}return i=h(this,t.call(this,e,r)),(r=i).gkt=!1,h(i,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.g_=function(n){var i=this;n.enabled&&c(this,n),t.prototype.g_.call(this,n),n.addEventListener&&n.addEventListener("enabledchange",function(){i.gkt||(i.gkt=!0,c(i,n),i.gkt=!1,i.trigger("change"))})},n.prototype.addTrack=function(t){this.g_(t)},n.prototype.removeTrack=function(n){t.prototype.m_.call(this,n)},n}(s.default);i.default=f},{74:74,78:78,85:85}],64:[function(t,n,i){i.__esModule=!0;var e=t(73),r=t(75),s=c(r),u=t(88),o=c(u),a=t(78),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var l=function(t){function n(){var i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=(0,o.default)(r,{kind:e.AudioTrackKind[r.kind]||""}),u=i=f(this,t.call(this,s)),a=!1;if(h.IS_IE8)for(var c in n.prototype)"constructor"!==c&&(u[c]=n.prototype[c]);return w.defineProperty(u,"enabled",{get:function(){return a},set:function(t){"boolean"==typeof t&&t!==a&&(a=t,this.trigger("enabledchange"))}}),s.enabled&&(u.enabled=s.enabled),u.Pgt=!0,f(i,u)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(s.default);i.default=l},{73:73,75:75,78:78,88:88}],65:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,t);var i=this;if(r.IS_IE8)for(var e in i=s.document.createElement("custom"),t.prototype)"constructor"!==e&&(i[e]=t.prototype[e]);i.mkt=[],w.defineProperty(i,"length",{get:function(){return this.mkt.length}});for(var u=0,o=n.length;u<o;u++)i.jbt(n[u]);if(r.IS_IE8)return i}return t.prototype.jbt=function(t){var n=this.mkt.length;""+n in this||w.defineProperty(this,n,{get:function(){return this.mkt[n]}}),-1===this.mkt.indexOf(t)&&this.mkt.push(t)},t.prototype.Spt=function(t){for(var n=void 0,i=0,e=this.mkt.length;i<e;i++)if(t===this.mkt[i].track){n=this.mkt[i];break}return n},t.prototype.fkt=function(t){for(var n=0,i=this.mkt.length;n<i;n++)if(t===this.mkt[n]){this.mkt.splice(n,1);break}},t}();i.default=u},{78:78,85:85}],66:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=t(42),o=c(u),a=t(72),h=c(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var l=0,d=2,g=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var e=f(this,t.call(this)),u=void 0,o=e;if(r.IS_IE8)for(var a in o=s.document.createElement("custom"),n.prototype)"constructor"!==a&&(o[a]=n.prototype[a]);var c=new h.default(i);return o.kind=c.kind,o.src=c.src,o.srclang=c.language,o.label=c.label,o.default=c.default,w.defineProperty(o,"readyState",{get:function(){return u}}),w.defineProperty(o,"track",{get:function(){return c}}),u=l,c.addEventListener("loadeddata",function(){u=d,o.trigger({type:"load",target:o})}),r.IS_IE8?f(e,o):e}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(o.default);g.prototype.Ipt={load:"load"},g.NONE=l,g.LOADING=1,g.LOADED=d,g.ERROR=3,i.default=g},{42:42,72:72,78:78,85:85}],67:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,t);var i=this;if(r.IS_IE8)for(var e in i=s.document.createElement("custom"),t.prototype)"constructor"!==e&&(i[e]=t.prototype[e]);if(t.prototype.ykt.call(i,n),w.defineProperty(i,"length",{get:function(){return this.b_}}),r.IS_IE8)return i}return t.prototype.ykt=function(t){var n=this.length||0,i=0,e=t.length;this.j_=t,this.b_=t.length;var r=function(t){""+t in this||w.defineProperty(this,""+t,{get:function(){return this.j_[t]}})};if(n<e)for(i=n;i<e;i++)r.call(this,i)},t.prototype.getCueById=function(t){for(var n=null,i=0,e=this.length;i<e;i++){var r=this[i];if(r.id===t){n=r;break}}return n},t}();i.default=u},{78:78,85:85}],68:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(83),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function c(t,n){return"rgba("+m(t[1]+t[1],16)+","+m(t[2]+t[2],16)+","+m(t[3]+t[3],16)+","+n+")"}function f(t,n,i){try{t.style[n]=i}catch(t){return}}var l=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return i.on("loadstart",o.bind(s,s.toggleDisplay)),i.on("texttrackchange",o.bind(s,s.updateDisplay)),i.ready(o.bind(s,function(){if(i.gpt&&i.gpt.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",o.bind(this,this.updateDisplay));for(var t=this.spt.playerOptions.tracks||[],n=0;n<t.length;n++)this.fN.addRemoteTextTrack(t[n],!0);var e={captions:1,subtitles:1},r=this.fN.textTracks(),s=void 0,u=void 0;if(r){for(var a=0;a<r.length;a++){var h=r[a];h.default&&("descriptions"!==h.kind||s?h.kind in e&&!u&&(u=h):s=h)}u?u.mode="showing":s&&(s.mode="showing")}}})),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.toggleDisplay=function(){this.fN.gpt&&this.fN.gpt.featuresNativeTextTracks?this.hide():this.show()},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.prototype.clearDisplay=function(){"function"==typeof a.window.WebVTT&&a.window.WebVTT.processCues(a.window,[],this.ipt)},n.prototype.updateDisplay=function(){var t=this.fN.textTracks();if(this.clearDisplay(),t){for(var n=null,i=null,e=t.length;e--;){var r=t[e];"showing"===r.mode&&("descriptions"===r.kind?n=r:i=r)}i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n))}},n.prototype.updateForTrack=function(t){if("function"==typeof a.window.WebVTT&&t.activeCues){for(var n=this.fN.textTrackSettings.getValues(),i=[],e=0;e<t.activeCues.length;e++)i.push(t.activeCues[e]);a.window.WebVTT.processCues(a.window,i,this.ipt);for(var r=i.length;r--;){var s=i[r];if(s){var u=s.displayState;if(n.color&&(u.firstChild.style.color=n.color),n.textOpacity&&f(u.firstChild,"color",c(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(u.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&f(u.firstChild,"backgroundColor",c(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?f(u,"backgroundColor",c(n.windowColor,n.windowOpacity)):u.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?u.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===n.edgeStyle?u.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===n.edgeStyle?u.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===n.edgeStyle&&(u.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),n.fontPercent&&1!==n.fontPercent){var o=a.window.parseFloat(u.style.fontSize);u.style.fontSize=o*n.fontPercent+"px",u.style.height="auto",u.style.top="auto",u.style.bottom="2px"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=h[n.fontFamily])}}}},n}(s.default);s.default.registerComponent("TextTrackDisplay",l),i.default=l},{5:5,83:83,85:85}],69:[function(t,n,i){i.__esModule=!0;var e=function(t){var n=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(n,i,e){return t[i]&&(n[i]=t[i]),n},{cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})});return n};i.default={textTracksToJson:function(t){var n=t.$$("track"),i=Array.prototype.map.call(n,function(t){return t.track});return Array.prototype.map.call(n,function(t){var n=e(t.track);return t.src&&(n.src=t.src),n}).concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===i.indexOf(t)}).map(e))},jsonToTextTracks:function(t,n){return t.forEach(function(t){var i=n.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return i.addCue(t)})}),n.textTracks()},pkt:e}},{}],70:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(83),o=f(u),a=t(78),h=f(a),c=t(85);function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function l(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var d=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=void 0;if(h.IS_IE8){for(var u in r=c.document.createElement("custom"),s.default.prototype)"constructor"!==u&&(r[u]=s.default.prototype[u]);for(var o in n.prototype)"constructor"!==o&&(r[o]=n.prototype[o])}return i=l(this,t.call(this,e,r)),l(i,r=i)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.g_=function(n){t.prototype.g_.call(this,n),n.addEventListener("modechange",o.bind(this,function(){this.trigger("change")}))},n}(s.default);i.default=d},{74:74,78:78,83:83,85:85}],71:[function(t,n,i){i.__esModule=!0;var e=t(85),r=t(5),s=g(r),u=t(81),o=t(83),a=d(o),h=t(89),c=d(h),f=t(87),l=g(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function g(t){return t&&t.__esModule?t:{default:t}}var m=["#000","Black"],y=["#00F","Blue"],p=["#0FF","Cyan"],_=["#0F0","Green"],b=["#F0F","Magenta"],k=["#F00","Red"],A=["#FFF","White"],T=["#FF0","Yellow"],S=["1","Opaque"],E=["0.5","Semi-Transparent"],I=["0","Transparent"],R={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[m,A,k,_,y,T,b,p]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[S,E,I]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[A,m,k,_,y,T,b,p]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[S,E]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[I,E,S]}};function C(t,n){if(n&&(t=n(t)),t&&"none"!==t)return t}R.windowColor.options=R.backgroundColor.options;var D=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.setDefaults(),r.hide(),r.updateDisplay=a.bind(r,r.updateDisplay),void 0===e.persistTextTrackSettings&&(r.spt.persistTextTrackSettings=r.spt.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",function(){r.saveSettings(),r.hide()}),r.on(r.$(".vjs-default-button"),"click",function(){r.setDefaults(),r.updateDisplay()}),c.each(R,function(t){r.on(r.$(t.selector),"change",r.updateDisplay)}),r.spt.persistTextTrackSettings&&r.restoreSettings(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype._kt=function(t){var n=this,i=R[t],e=i.id.replace("%s",this.P_);return[(0,u.createEl)("label",{className:"vjs-label",textContent:i.label},{for:e}),(0,u.createEl)("select",{id:e},void 0,i.options.map(function(t){return(0,u.createEl)("option",{textContent:n.localize(t[1]),value:t[0]})}))]},n.prototype.bkt=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Text")}),n=this._kt("color"),i=(0,u.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this._kt("textOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.kkt=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Background")}),n=this._kt("backgroundColor"),i=(0,u.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this._kt("backgroundOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.Akt=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Window")}),n=this._kt("windowColor"),i=(0,u.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this._kt("windowOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.Tkt=function(){return(0,u.createEl)("div",{className:"vjs-tracksettings-colors"},void 0,[this.bkt(),this.kkt(),this.Akt()])},n.prototype.Skt=function(){var t=(0,u.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this._kt("fontPercent")),n=(0,u.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this._kt("edgeStyle")),i=(0,u.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this._kt("fontFamily"));return(0,u.createEl)("div",{className:"vjs-tracksettings-font"},void 0,[t,n,i])},n.prototype.Ekt=function(){var t=(0,u.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),n=(0,u.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,u.createEl)("div",{className:"vjs-tracksettings-controls"},void 0,[t,n])},n.prototype.createEl=function(){var t=(0,u.createEl)("div",{className:"vjs-tracksettings"},void 0,[this.Tkt(),this.Skt(),this.Ekt()]),n=(0,u.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.P_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),i=(0,u.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.P_,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),e=(0,u.createEl)("div",void 0,{role:"document"},[n,i,t]);return(0,u.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":n.id,"aria-describedby":i.id},e)},n.prototype.getValues=function(){var t=this;return c.reduce(R,function(n,i,e){var r,s,u=(r=t.$(i.selector),s=i.parser,C(r.options[r.options.selectedIndex].value,s));return void 0!==u&&(n[e]=u),n},{})},n.prototype.setValues=function(t){var n=this;c.each(R,function(i,e){!function(t,n,i){if(n)for(var e=0;e<t.options.length;e++)if(C(t.options[e].value,i)===n){t.selectedIndex=e;break}}(n.$(i.selector),t[e],i.parser)})},n.prototype.setDefaults=function(){var t=this;c.each(R,function(n){var i=n.hasOwnProperty("default")?n.default:0;t.$(n.selector).selectedIndex=i})},n.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(e.window.localStorage.getItem("vjs-text-track-settings"))}catch(t){l.default.warn(t)}t&&this.setValues(t)},n.prototype.saveSettings=function(){if(this.spt.persistTextTrackSettings){var t=this.getValues();try{w.keys(t).length?e.window.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):e.window.localStorage.removeItem("vjs-text-track-settings")}catch(t){l.default.warn(t)}}},n.prototype.updateDisplay=function(){var t=this.fN.getChild("textTrackDisplay");t&&t.updateDisplay()},n}(s.default);s.default.registerComponent("TextTrackSettings",D),i.default=D},{5:5,81:81,83:83,85:85,87:87,89:89}],72:[function(t,n,i){i.__esModule=!0;var e=t(67),r=T(e),s=t(83),u=A(s),o=t(73),a=t(87),h=T(a),c=t(85),f=t(75),d=T(f),g=t(93),m=t(122),y=T(m),p=t(88),_=T(p),b=t(78),k=A(b);function A(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function T(t){return t&&t.__esModule?t:{default:t}}function S(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var E=function(t,n){var i=new c.window.WebVTT.Parser(c.window,c.window.vttjs,c.window.WebVTT.StringDecoder()),e=[];i.oncue=function(t){n.addCue(t)},i.onparsingerror=function(t){e.push(t)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(t),e.length>0&&(c.window.console&&c.window.console.groupCollapsed&&c.window.console.groupCollapsed("Text Track parsing errors for "+n.src),e.forEach(function(t){return h.default.error(t)}),c.window.console&&c.window.console.groupEnd&&c.window.console.groupEnd()),i.flush()},I=function(t,n){var i={uri:t},e=(0,g.isCrossOrigin)(t);e&&(i.cors=e),(0,y.default)(i,u.bind(this,function(t,i,e){if(t)return h.default.error(t,i);if(n.Pgt=!0,"function"!=typeof c.window.WebVTT){if(n.gpt){var r=function(){return E(e,n)};n.gpt.on("vttjsloaded",r),n.gpt.on("vttjserror",function(){h.default.error("vttjs failed to load, stopping trying to process "+n.src),n.gpt.off("vttjsloaded",r)})}}else E(e,n)}))},R=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),!e.tech)throw new l("A tech was not provided.");var s=(0,_.default)(e,{kind:o.TextTrackKind[e.kind]||"subtitles",language:e.language||e.srclang||""}),a=o.TextTrackMode[s.mode]||"disabled",h=s.default;"metadata"!==s.kind&&"chapters"!==s.kind||(a="hidden");var c=i=S(this,t.call(this,s));if(c.gpt=s.tech,k.IS_IE8)for(var f in n.prototype)"constructor"!==f&&(c[f]=n.prototype[f]);c.j_=[],c.Q_=[];var d=new r.default(c.j_),g=new r.default(c.Q_),m=!1,y=u.bind(c,function(){this.activeCues,m&&(this.trigger("cuechange"),m=!1)});return"disabled"!==a&&c.gpt.ready(function(){c.gpt.on("timeupdate",y)},!0),w.defineProperty(c,"default",{get:function(){return h},set:function(){}}),w.defineProperty(c,"mode",{get:function(){return a},set:function(t){var n=this;o.TextTrackMode[t]&&("showing"===(a=t)&&this.gpt.ready(function(){n.gpt.on("timeupdate",y)},!0),this.trigger("modechange"))}}),w.defineProperty(c,"cues",{get:function(){return this.Pgt?d:null},set:function(){}}),w.defineProperty(c,"activeCues",{get:function(){if(!this.Pgt)return null;if(0===this.cues.length)return g;for(var t=this.gpt.currentTime(),n=[],i=0,e=this.cues.length;i<e;i++){var r=this.cues[i];r.startTime<=t&&r.endTime>=t?n.push(r):r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t&&n.push(r)}if(m=!1,n.length!==this.Q_.length)m=!0;else for(var s=0;s<n.length;s++)-1===this.Q_.indexOf(n[s])&&(m=!0);return this.Q_=n,g.ykt(this.Q_),g},set:function(){}}),s.src?(c.src=s.src,I(s.src,c)):c.Pgt=!0,S(i,c)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addCue=function(t){var n=t;if(c.window.vttjs&&!(t instanceof c.window.vttjs.VTTCue)){for(var i in n=new c.window.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)i in n||(n[i]=t[i]);n.id=t.id,n.Ikt=t}var e=this.gpt.textTracks();if(e)for(var r=0;r<e.length;r++)e[r]!==this&&e[r].removeCue(n);this.j_.push(n),this.cues.ykt(this.j_)},n.prototype.removeCue=function(t){for(var n=this.j_.length;n--;){var i=this.j_[n];if(i===t||i.Ikt&&i.Ikt===t){this.j_.splice(n,1),this.cues.ykt(this.j_);break}}},n}(d.default);R.prototype.Ipt={cuechange:"cuechange"},i.default=R},{122:122,67:67,73:73,75:75,78:78,83:83,85:85,87:87,88:88,93:93}],73:[function(t,n,i){i.__esModule=!0,i.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},i.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},i.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},i.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},{}],74:[function(t,n,i){i.__esModule=!0;var e,r=t(42),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=h(this,t.call(this));if(!e&&(e=r,o.IS_IE8))for(var s in e=a.document.createElement("custom"),n.prototype)"constructor"!==s&&(e[s]=n.prototype[s]);e.VA=[],w.defineProperty(e,"length",{get:function(){return this.VA.length}});for(var u=0;u<i.length;u++)e.g_(i[u]);return h(r,e)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.g_=function(t){var n=this.VA.length;""+n in this||w.defineProperty(this,n,{get:function(){return this.VA[n]}}),-1===this.VA.indexOf(t)&&(this.VA.push(t),this.trigger({track:t,type:"addtrack"}))},n.prototype.m_=function(t){for(var n=void 0,i=0,e=this.length;i<e;i++)if(this[i]===t){(n=this[i]).off&&n.off(),this.VA.splice(i,1);break}n&&this.trigger({track:n,type:"removetrack"})},n.prototype.getTrackById=function(t){for(var n=null,i=0,e=this.length;i<e;i++){var r=this[i];if(r.id===t){n=r;break}}return n},n}(s.default);for(var f in c.prototype.Ipt={change:"change",addtrack:"addtrack",removetrack:"removetrack"},c.prototype.Ipt)c.prototype["on"+f]=null;i.default=c},{42:42,78:78,85:85}],75:[function(t,n,i){i.__esModule=!0;var e,r=t(78),s=f(r),u=t(85),o=t(86),a=f(o),h=t(42),c=(e=h)&&e.__esModule?e:{default:e};function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function l(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var d=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var e=l(this,t.call(this)),r=e;if(s.IS_IE8)for(var o in r=u.document.createElement("custom"),n.prototype)"constructor"!==o&&(r[o]=n.prototype[o]);var h={id:i.id||["vjs_track",a.newGUID()].join("_"),kind:i.kind||"",label:i.label||"",language:i.language||""},c=function(t){w.defineProperty(r,t,{get:function(){return h[t]},set:function(){}})};for(var f in h)c(f);return l(e,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(c.default);i.default=d},{42:42,78:78,85:85,86:86}],76:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t,n){for(var i=0;i<t.length;i++)n.id!==t[i].id&&(t[i].selected=!1)},f=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);for(var r=void 0,u=e.length-1;u>=0;u--)if(e[u].selected){c(e,e[u]);break}if(o.IS_IE8){for(var f in r=a.document.createElement("custom"),s.default.prototype)"constructor"!==f&&(r[f]=s.default.prototype[f]);for(var l in n.prototype)"constructor"!==l&&(r[l]=n.prototype[l])}return i=h(this,t.call(this,e,r)),(r=i).gkt=!1,w.defineProperty(r,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),h(i,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.g_=function(n){var i=this;n.selected&&c(this,n),t.prototype.g_.call(this,n),n.addEventListener&&n.addEventListener("selectedchange",function(){i.gkt||(i.gkt=!0,c(i,n),i.gkt=!1,i.trigger("change"))})},n.prototype.addTrack=function(t){this.g_(t)},n.prototype.removeTrack=function(n){t.prototype.m_.call(this,n)},n}(s.default);i.default=f},{74:74,78:78,85:85}],77:[function(t,n,i){i.__esModule=!0;var e=t(73),r=t(75),s=c(r),u=t(88),o=c(u),a=t(78),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var l=function(t){function n(){var i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=(0,o.default)(r,{kind:e.VideoTrackKind[r.kind]||""}),u=i=f(this,t.call(this,s)),a=!1;if(h.IS_IE8)for(var c in n.prototype)"constructor"!==c&&(u[c]=n.prototype[c]);return w.defineProperty(u,"selected",{get:function(){return a},set:function(t){"boolean"==typeof t&&t!==a&&(a=t,this.trigger("selectedchange"))}}),s.selected&&(u.selected=s.selected),f(i,u)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(s.default);i.default=l},{73:73,75:75,78:78,88:88}],78:[function(t,n,i){i.__esModule=!0,i.BACKGROUND_SIZE_SUPPORTED=i.TOUCH_ENABLED=i.IS_ANY_SAFARI=i.IS_SAFARI=i.IE_VERSION=i.IS_IE8=i.CHROME_VERSION=i.IS_CHROME=i.IS_EDGE=i.IS_FIREFOX=i.IS_NATIVE_ANDROID=i.IS_OLD_ANDROID=i.ANDROID_VERSION=i.IS_ANDROID=i.IOS_VERSION=i.IS_IOS=i.IS_IPOD=i.IS_IPHONE=i.IS_IPAD=void 0;var e,r=t(81),s=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(r),u=t(85),o=u.window.navigator&&u.window.navigator.userAgent||"",a=/AppleWebKit\/([\d.]+)/i.exec(o),h=a?y(a.pop()):null,c=i.IS_IPAD=/iPad/i.test(o),f=i.IS_IPHONE=/iPhone/i.test(o)&&!c,l=i.IS_IPOD=/iPod/i.test(o),v=i.IS_IOS=f||c||l;i.IOS_VERSION=(e=o.match(/OS (\d+)_/i))&&e[1]?e[1]:null;var d=i.IS_ANDROID=/Android/i.test(o),g=i.ANDROID_VERSION=function(){var t=o.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var n=t[1]&&y(t[1]),i=t[2]&&y(t[2]);return n&&i?y(t[1]+"."+t[2]):n||null}();i.IS_OLD_ANDROID=d&&/webkit/i.test(o)&&g<2.3,i.IS_NATIVE_ANDROID=d&&g<5&&h<537,i.IS_FIREFOX=/Firefox/i.test(o);var m,p,_=i.IS_EDGE=/Edge/i.test(o),b=i.IS_CHROME=!_&&/Chrome/i.test(o);i.CHROME_VERSION=function(){var t=o.match(/Chrome\/(\d+)/);return t&&t[1]?y(t[1]):null}(),i.IS_IE8=/MSIE\s8\.0/.test(o),i.IE_VERSION=(m=/MSIE\s(\d+)\.\d/.exec(o),!(p=m&&y(m[1]))&&/Trident\/7.0/i.test(o)&&/rv:11.0/.test(o)&&(p=11),p);var k=i.IS_SAFARI=/Safari/i.test(o)&&!b&&!d&&!_;i.IS_ANY_SAFARI=k||v,i.TOUCH_ENABLED=s.isReal()&&("ontouchstart"in u.window||u.window.DocumentTouch&&u.window.document instanceof u.window.DocumentTouch),i.BACKGROUND_SIZE_SUPPORTED=s.isReal()&&"backgroundSize"in u.window.document.createElement("video").style},{81:81,85:85}],79:[function(t,n,i){i.__esModule=!0,i.bufferedPercent=function(t,n){var i=0,r=void 0,s=void 0;if(!n)return 0;t&&t.length||(t=(0,e.createTimeRange)(0,0));for(var u=0;u<t.length;u++)r=t.start(u),(s=t.end(u))>n&&(s=n),i+=s-r;return i/n};var e=t(91)},{91:91}],80:[function(t,n,i){i.__esModule=!0,i.default=function(t,n){if(!t||!n)return"";if("function"==typeof e.window.getComputedStyle){var i=e.window.getComputedStyle(t);return i?i[n]:""}return t.currentStyle[n]||""};var e=t(85)},{85:85}],81:[function(t,n,i){i.__esModule=!0,i.$$=i.$=void 0;var e,r=((e=["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]).raw=["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],e);i.isReal=function(){return s.document===s.window.document&&void 0!==s.document.createElement},i.isEl=p,i.getEl=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),s.document.getElementById(t)},i.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=arguments[3],u=s.document.createElement(t);return w.getOwnPropertyNames(n).forEach(function(t){var i=n[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(h.default.warn((0,f.default)(r,t,i)),u.setAttribute(t,i)):"textContent"===t?b(u,i):u[t]=i}),w.getOwnPropertyNames(i).forEach(function(t){u.setAttribute(t,i[t])}),e&&N(u,e),u},i.textContent=b,i.insertElFirst=function(t,n){n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t)},i.getElData=function(t){var n=t[A];return n||(n=t[A]=o.newGUID()),k[n]||(k[n]={}),k[n]},i.hasElData=function(t){var n=t[A];return!!n&&!!w.getOwnPropertyNames(k[n]).length},i.removeElData=function(t){var n=t[A];if(n){delete k[n];try{delete t[A]}catch(n){t.removeAttribute?t.removeAttribute(A):t[A]=null}}},i.hasElClass=T,i.addElClass=S,i.removeElClass=E,i.toggleElClass=function(t,n,i){var e=T(t,n);if("function"==typeof i&&(i=i(t,n)),"boolean"!=typeof i&&(i=!e),i!==e)return i?S(t,n):E(t,n),t},i.setElAttributes=function(t,n){w.getOwnPropertyNames(n).forEach(function(i){var e=n[i];null==e||!1===e?t.removeAttribute(i):t.setAttribute(i,!0===e?"":e)})},i.getElAttributes=function(t){var n={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var e=t.attributes,r=e.length-1;r>=0;r--){var s=e[r].name,u=e[r].value;"boolean"!=typeof t[s]&&-1===i.indexOf(","+s+",")||(u=null!==u),n[s]=u}return n},i.getAttribute=function(t,n){return t.getAttribute(n)},i.setAttribute=function(t,n,i){t.setAttribute(n,i)},i.removeAttribute=function(t,n){t.removeAttribute(n)},i.blockTextSelection=function(){s.document.body.focus(),s.document.onselectstart=function(){return!1}},i.unblockTextSelection=function(){s.document.onselectstart=function(){return!0}},i.findElPosition=I,i.getPointerPosition=function(t,n){var i={},e=I(t),r=t.offsetWidth,s=t.offsetHeight,u=e.top,o=e.left,a=n.pageY,h=n.pageX;return n.changedTouches&&(h=n.changedTouches[0].pageX,a=n.changedTouches[0].pageY),i.y=g.max(0,g.min(1,(u-a+s)/s)),i.x=g.max(0,g.min(1,(h-o)/r)),i},i.isTextNode=R,i.emptyEl=C,i.normalizeContent=D,i.appendContent=N,i.insertContent=function(t,n){return N(C(t),n)};var s=t(85),u=t(86),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(87),h=d(a),c=t(121),f=d(c),v=t(89);function d(t){return t&&t.__esModule?t:{default:t}}function m(t){return"string"==typeof t&&/\S/.test(t)}function y(t){if(/\s/.test(t))throw new l("class has illegal whitespace characters")}function p(t){return(0,v.isObject)(t)&&1===t.nodeType}function _(t){return function(n,i){if(!m(n))return s.document[t](null);m(i)&&(i=s.document.querySelector(i));var e=p(i)?i:s.document;return e[t]&&e[t](n)}}function b(t,n){return void 0===t.textContent?t.innerText=n:t.textContent=n,t}var k={},A="vdata"+(new Date).getTime();function T(t,n){return y(n),t.classList?t.classList.contains(n):(i=n,new RegExp("(^|\\s)"+i+"($|\\s)")).test(t.className);var i}function S(t,n){return t.classList?t.classList.add(n):T(t,n)||(t.className=(t.className+" "+n).trim()),t}function E(t,n){return t.classList?t.classList.remove(n):(y(n),t.className=t.className.split(/\s+/).filter(function(t){return t!==n}).join(" ")),t}function I(t){var n=void 0;if(t.getBoundingClientRect&&t.parentNode&&(n=t.getBoundingClientRect()),!n)return{left:0,top:0};var i=s.document.documentElement,e=s.document.body,r=i.clientLeft||e.clientLeft||0,u=s.window.pageXOffset||e.scrollLeft,o=n.left+u-r,a=i.clientTop||e.clientTop||0,h=s.window.pageYOffset||e.scrollTop,c=n.top+h-a;return{left:g.round(o),top:g.round(c)}}function R(t){return(0,v.isObject)(t)&&3===t.nodeType}function C(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function D(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"==typeof t&&(t=t()),p(t)||R(t)?t:"string"==typeof t&&/\S/.test(t)?s.document.createTextNode(t):void 0}).filter(function(t){return t})}function N(t,n){return D(n).forEach(function(n){return t.appendChild(n)}),t}i.$=_("querySelector"),i.$$=_("querySelectorAll")},{121:121,85:85,86:86,87:87,89:89}],82:[function(t,n,i){i.__esModule=!0,i.fixEvent=d,i.on=y,i.off=p,i.trigger=function t(n,i,e){var r=s.hasElData(n)?s.getElData(n):{},u=n.parentNode||n.ownerDocument;if("string"==typeof i&&(i={type:i,target:n}),i=d(i),r.dispatcher&&r.dispatcher.call(n,i,e),u&&!i.isPropagationStopped()&&!0===i.bubbles)t.call(null,u,i,e);else if(!u&&!i.defaultPrevented){var o=s.getElData(i.target);i.target[i.type]&&(o.disabled=!0,"function"==typeof i.target[i.type]&&i.target[i.type](),o.disabled=!1)}return!i.defaultPrevented},i.one=function t(n,i,e){if(Array.isArray(i))return v(t,n,i,e);var r=function t(){p(n,i,t),e.apply(this,arguments)};r.guid=e.guid=e.guid||o.newGUID(),y(n,i,r)};var e,r=t(81),s=f(r),u=t(86),o=f(u),a=t(87),h=(e=a)&&e.__esModule?e:{default:e},c=t(85);function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function l(t,n){var i=s.getElData(t);0===i.handlers[n].length&&(delete i.handlers[n],t.removeEventListener?t.removeEventListener(n,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+n,i.dispatcher)),w.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===w.getOwnPropertyNames(i).length&&s.removeElData(t)}function v(t,n,i,e){i.forEach(function(i){t(n,i,e)})}function d(t){function n(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var e=t||c.window.event;for(var r in t={},e)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&e.preventDefault||(t[r]=e[r]));if(t.target||(t.target=t.srcElement||c.document),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){e.preventDefault&&e.preventDefault(),t.returnValue=!1,e.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){e.stopPropagation&&e.stopPropagation(),t.cancelBubble=!0,e.cancelBubble=!0,t.isPropagationStopped=n},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){e.stopImmediatePropagation&&e.stopImmediatePropagation(),t.isImmediatePropagationStopped=n,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!==t.clientX&&void 0!==t.clientX){var s=c.document.documentElement,u=c.document.body;t.pageX=t.clientX+(s&&s.scrollLeft||u&&u.scrollLeft||0)-(s&&s.clientLeft||u&&u.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||u&&u.scrollTop||0)-(s&&s.clientTop||u&&u.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var g=!1;!function(){try{var t=w.defineProperty({},"passive",{get:function(){g=!0}});c.window.addEventListener("test",null,t)}catch(t){}}();var m=["touchstart","touchmove"];function y(t,n,i){if(Array.isArray(n))return v(y,t,n,i);var e=s.getElData(t);if(e.handlers||(e.handlers={}),e.handlers[n]||(e.handlers[n]=[]),i.guid||(i.guid=o.newGUID()),e.handlers[n].push(i),e.dispatcher||(e.disabled=!1,e.dispatcher=function(n,i){if(!e.disabled){n=d(n);var r=e.handlers[n.type];if(r)for(var s=r.slice(0),u=0,o=s.length;u<o&&!n.isImmediatePropagationStopped();u++)try{s[u].call(t,n,i)}catch(t){h.default.error(t)}}}),1===e.handlers[n].length)if(t.addEventListener){var r=!1;g&&m.indexOf(n)>-1&&(r={passive:!0}),t.addEventListener(n,e.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+n,e.dispatcher)}function p(t,n,i){if(s.hasElData(t)){var e=s.getElData(t);if(e.handlers){if(Array.isArray(n))return v(p,t,n,i);var r=function(n){e.handlers[n]=[],l(t,n)};if(n){var u=e.handlers[n];if(u)if(i){if(i.guid)for(var o=0;o<u.length;o++)u[o].guid===i.guid&&u.splice(o--,1);l(t,n)}else r(n)}else for(var a in e.handlers)r(a)}}}},{81:81,85:85,86:86,87:87}],83:[function(t,n,i){i.__esModule=!0,i.throttle=i.bind=void 0;var e=t(86);i.bind=function(t,n,i){n.guid||(n.guid=(0,e.newGUID)());var r=function(){return n.apply(t,arguments)};return r.guid=i?i+"_"+n.guid:n.guid,r},i.throttle=function(t,n){var i=Date.now();return function(){var e=Date.now();e-i>=n&&(t.apply(void 0,arguments),i=e)}}},{86:86}],84:[function(t,n,i){i.__esModule=!0,i.default=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;t=t<0?0:t;var i=g.floor(t%60),e=g.floor(t/60%60),r=g.floor(t/3600),s=g.floor(n/60%60),u=g.floor(n/3600);return(p(t)||t===1/0)&&(r=e=i="-"),(r=r>0||u>0?r+":":"")+(e=((r||s>=10)&&e<10?"0"+e:e)+":")+(i=i<10?"0"+i:i)}},{}],85:[function(n,i,e){(function(n){e.__esModule=!0;var i=void 0!==r?r:void 0!==n?n:void 0!==t?t:{},u=void 0!==s?s:{createElement:function(){}};e.window=i,e.document=u}).call(this,void 0!==Lr?Lr:void 0!==t?t:void 0!==r?r:{})},{}],86:[function(t,n,i){i.__esModule=!0,i.newGUID=function(){return e++};var e=1},{}],87:[function(t,n,i){i.__esModule=!0,i.logByType=void 0;var e=t(85),r=t(78),s=t(89),u=void 0,o=i.logByType=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!r.IE_VERSION&&r.IE_VERSION<11;"log"!==t&&n.unshift(t.toUpperCase()+":"),u.history.push(n),n.unshift("VIDEOJS:");var o=e.window.console&&e.window.console[t];o&&(i&&(n=n.map(function(t){if((0,s.isObject)(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(n){return String(t)}return String(t)}).join(" ")),o.apply?o[Array.isArray(n)?"apply":"call"](e.window.console,n):o(n))};(u=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];o("log",n)}).history=[],u.error=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return o("error",n)},u.warn=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return o("warn",n)},i.default=u},{78:78,85:85,89:89}],88:[function(t,n,i){i.__esModule=!0,i.default=function t(){for(var n={},i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.forEach(function(i){i&&(0,e.each)(i,function(i,r){(0,e.isPlain)(i)?((0,e.isPlain)(n[r])||(n[r]={}),n[r]=t(n[r],i)):n[r]=i})}),n};var e=t(89)},{89:89}],89:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.each=u,i.reduce=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return s(t).reduce(function(i,e){return n(i,t[e],e)},i)},i.assign=function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];return w.assign?w.assign.apply(w,[t].concat(i)):(i.forEach(function(n){n&&u(n,function(n,i){t[i]=n})}),t)},i.isObject=o,i.isPlain=function(t){return o(t)&&"[object Object]"===r.call(t)&&t.constructor===w};var r=w.prototype.toString,s=function(t){return o(t)?w.keys(t):[]};function u(t,n){s(t).forEach(function(i){return n(t[i],i)})}function o(t){return!!t&&"object"===(void 0===t?"undefined":e(t))}},{}],90:[function(t,n,i){i.__esModule=!0,i.setTextContent=i.createStyleElement=void 0;var e=t(85);i.createStyleElement=function(t){var n=e.document.createElement("style");return n.className=t,n},i.setTextContent=function(t,n){t.styleSheet?t.styleSheet.cssText=n:t.textContent=n}},{85:85}],91:[function(t,n,i){i.__esModule=!0,i.createTimeRange=void 0,i.createTimeRanges=a;var e,r=t(87),s=(e=r)&&e.__esModule?e:{default:e};function u(t,n,i,e){return void 0===e&&(s.default.warn("DEPRECATED: Function '"+t+"' on 'TimeRanges' called without an index argument."),e=0),function(t,n,i){if(n<0||n>i)throw new l("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+n+") is greater than or equal to the maximum bound ("+i+").")}(t,e,i.length-1),i[e][n]}function o(t){return void 0===t||0===t.length?{length:0,start:function(){throw new l("This TimeRanges object is empty")},end:function(){throw new l("This TimeRanges object is empty")}}:{length:t.length,start:u.bind(null,"start",0,t),end:u.bind(null,"end",1,t)}}function a(t,n){return Array.isArray(t)?o(t):void 0===t||void 0===n?o():o([[t,n]])}i.createTimeRange=a},{87:87}],92:[function(t,n,i){i.__esModule=!0,i.default=function(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}},{}],93:[function(t,n,i){i.__esModule=!0,i.isCrossOrigin=i.getFileExtension=i.getAbsoluteURL=i.parseUrl=void 0;var e=t(85),r=i.parseUrl=function(t){var n=["protocol","hostname","port","pathname","search","hash","host"],i=e.document.createElement("a");i.href=t;var r=""===i.host&&"file:"!==i.protocol,s=void 0;r&&((s=e.document.createElement("div")).innerHTML='<a href="'+t+'"></a>',i=s.firstChild,s.setAttribute("style","display:none; position:absolute;"),e.document.body.appendChild(s));for(var u={},o=0;o<n.length;o++)u[n[o]]=i[n[o]];return"http:"===u.protocol&&(u.host=u.host.replace(/:80$/,"")),"https:"===u.protocol&&(u.host=u.host.replace(/:443$/,"")),r&&e.document.body.removeChild(s),u};i.getAbsoluteURL=function(t){if(!t.match(/^https?:\/\//)){var n=e.document.createElement("div");n.innerHTML='<a href="'+t+'">x</a>',t=n.firstChild.href}return t},i.getFileExtension=function(t){if("string"==typeof t){var n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t);if(n)return n.pop().toLowerCase()}return""},i.isCrossOrigin=function(t){var n=e.window.location,i=r(t),s=":"===i.protocol?n.protocol:i.protocol,u=s+i.host!==n.protocol+n.host;return u}},{85:85}],94:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=t(85),s=t(78),u=K(s),o=t(81),a=K(o),h=t(56),c=K(h),f=t(90),l=K(f),d=t(5),g=Z(d),m=t(42),y=Z(m),p=t(82),_=K(p),b=t(51),k=Z(b),A=t(52),T=Z(A),S=t(88),E=Z(S),I=t(83),R=K(I),C=t(72),D=Z(C),N=t(64),P=Z(N),x=t(77),B=Z(x),O=t(91),L=t(84),M=Z(L),j=t(87),F=Z(j),U=t(93),H=K(U),X=t(89),V=t(80),z=Z(V),W=t(43),q=Z(W),G=t(122),$=Z(G),Y=t(62),Q=Z(Y);function Z(t){return t&&t.__esModule?t:{default:t}}function K(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function J(t,n,i){var e=void 0;if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),J.getPlayers()[t])return n&&F.default.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&J.getPlayers()[t].ready(i),J.getPlayers()[t];e=a.getEl(t)}else e=t;if(!e||!e.nodeName)throw new v("The element or ID supplied is not valid. (videojs)");if(e.player||k.default.players[e.playerId])return e.player||k.default.players[e.playerId];n=n||{},J.hooks("beforesetup").forEach(function(t){var i=t(e,(0,E.default)(n));(0,X.isObject)(i)&&!Array.isArray(i)?n=(0,E.default)(n,i):F.default.error("please return an object in beforesetup hooks")});var r=g.default.getComponent("Player"),s=new r(e,n,i);return J.hooks("setup").forEach(function(t){return t(s)}),s}if("undefined"==typeof HTMLVideoElement&&a.isReal()&&(r.document.createElement("video"),r.document.createElement("audio"),r.document.createElement("track")),J.Rkt={},J.hooks=function(t,n){return J.Rkt[t]=J.Rkt[t]||[],n&&(J.Rkt[t]=J.Rkt[t].concat(n)),J.Rkt[t]},J.hook=function(t,n){J.hooks(t,n)},J.removeHook=function(t,n){var i=J.hooks(t).indexOf(n);return!(i<=-1||(J.Rkt[t]=J.Rkt[t].slice(),J.Rkt[t].splice(i,1),0))},!0!==r.window.VIDEOJS_NO_DYNAMIC_STYLE&&a.isReal()){var tt=a.$(".vjs-styles-defaults");if(!tt){tt=l.createStyleElement("vjs-styles-defaults");var nt=a.$("head");nt&&nt.insertBefore(tt,nt.firstChild),l.setTextContent(tt,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}c.autoSetupTimeout(1,J),J.VERSION="5.20.6-opentelly.8",J.options=k.default.prototype.spt,J.getPlayers=function(){return k.default.players},J.players=k.default.players,J.getComponent=g.default.getComponent,J.registerComponent=function(t,n){Q.default.isTech(n)&&F.default.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),g.default.registerComponent.call(g.default,t,n)},J.getTech=Q.default.getTech,J.registerTech=Q.default.registerTech,J.browser=u,J.TOUCH_ENABLED=u.TOUCH_ENABLED,J.extend=q.default,J.mergeOptions=E.default,J.bind=R.bind,J.plugin=T.default,J.addLanguage=function(t,n){var i;return t=(""+t).toLowerCase(),J.options.languages=(0,E.default)(J.options.languages,((i={})[t]=n,i)),J.options.languages[t]},J.log=F.default,J.createTimeRange=J.createTimeRanges=O.createTimeRanges,J.formatTime=M.default,J.parseUrl=H.parseUrl,J.isCrossOrigin=H.isCrossOrigin,J.EventTarget=y.default,J.on=_.on,J.one=_.one,J.off=_.off,J.trigger=_.trigger,J.xhr=$.default,J.TextTrack=D.default,J.AudioTrack=P.default,J.VideoTrack=B.default,J.isEl=a.isEl,J.isTextNode=a.isTextNode,J.createEl=a.createEl,J.hasClass=a.hasElClass,J.addClass=a.addElClass,J.removeClass=a.removeElClass,J.toggleClass=a.toggleElClass,J.setAttributes=a.setElAttributes,J.getAttributes=a.getElAttributes,J.emptyEl=a.emptyEl,J.appendContent=a.appendContent,J.insertContent=a.insertContent,J.computedStyle=z.default,"object"===(void 0===i?"undefined":e(i))&&"object"===(void 0===n?"undefined":e(n))&&(n.exports=J),i.default=J},{122:122,42:42,43:43,5:5,51:51,52:52,56:56,62:62,64:64,72:72,77:77,78:78,80:80,81:81,82:82,83:83,84:84,85:85,87:87,88:88,89:89,90:90,91:91,93:93}],95:[function(t,n,i){var e=t(113),r="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),s=w.prototype.toString,u=Array.prototype.concat,o=w.defineProperty,a=o&&function(){var t={};try{for(var n in o(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),h=function(t,n,i,e){var r;n in t&&("function"!=typeof(r=e)||"[object Function]"!==s.call(r)||!e())||(a?o(t,n,{configurable:!0,enumerable:!1,value:i,writable:!0}):t[n]=i)},c=function(t,n){var i=arguments.length>2?arguments[2]:{},s=e(n);r&&(s=u.call(s,w.getOwnPropertySymbols(n)));for(var o=0;o<s.length;o+=1)h(t,s[o],n[s[o]],i[s[o]])};c.supportsDescriptors=!!a,n.exports=c},{113:113}],96:[function(t,n,i){var e=w.getOwnPropertyDescriptor?function(){return w.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new v},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,s=w.getPrototypeOf||function(t){return t.__proto__},u=void 0===_?void 0:s(_),o={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":r?s([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":l,"$ %ErrorPrototype%":l.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":p,"$ %IteratorPrototype%":r?s(s([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&r?s((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":g,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":w,"$ %ObjectPrototype%":w.prototype,"$ %ObjProto_toString%":w.prototype.toString,"$ %ObjProto_valueOf%":w.prototype.valueOf,"$ %parseFloat%":y,"$ %parseInt%":m,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&r?s((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":r?s(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":r?Symbol:void 0,"$ %SymbolPrototype%":r?Symbol.prototype:void 0,"$ %SyntaxError%":d,"$ %SyntaxErrorPrototype%":d.prototype,"$ %ThrowTypeError%":e,"$ %TypedArray%":u,"$ %TypedArrayPrototype%":u?u.prototype:void 0,"$ %TypeError%":v,"$ %TypeErrorPrototype%":v.prototype,"$ %Uint8Array%":void 0===_?void 0:_,"$ %Uint8ArrayPrototype%":void 0===_?void 0:_.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype};n.exports=function(t,n){if(arguments.length>1&&"boolean"!=typeof n)throw new v('"allowMissing" argument must be a boolean');var i="$ "+t;if(!(i in o))throw new d("intrinsic "+t+" does not exist!");if(void 0===o[i]&&!n)throw new v("intrinsic "+t+" exists, but is not available. Please file an issue!");return o[i]}},{}],97:[function(t,n,i){var e=t(96),r=e("%Object%"),s=e("%TypeError%"),u=e("%String%"),o=t(98),a=t(100),h=t(99),c=t(102),f=t(101),l=t(110),d=t(103),w=t(109),m={ToPrimitive:d,ToBoolean:function(t){return!!t},ToNumber:function(t){return+t},ToInteger:function(t){var n=this.ToNumber(t);return a(n)?0:0!==n&&h(n)?c(n)*g.floor(g.abs(n)):n},ToInt32:function(t){return this.ToNumber(t)>>0},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var n=this.ToNumber(t);if(a(n)||0===n||!h(n))return 0;var i=c(n)*g.floor(g.abs(n));return f(i,65536)},ToString:function(t){return u(t)},ToObject:function(t){return this.CheckObjectCoercible(t),r(t)},CheckObjectCoercible:function(t,n){if(null==t)throw new s(n||"Cannot call method on "+t);return t},IsCallable:l,SameValue:function(t,n){return t===n?0!==t||1/t==1/n:a(t)&&a(n)},Type:function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0},IsPropertyDescriptor:function(t){if("Object"!==this.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var i in t)if(w(t,i)&&!n[i])return!1;var e=w(t,"[[Value]]"),r=w(t,"[[Get]]")||w(t,"[[Set]]");if(e&&r)throw new s("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!(!w(t,"[[Get]]")&&!w(t,"[[Set]]")))},IsDataDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!(!w(t,"[[Value]]")&&!w(t,"[[Writable]]")))},IsGenericDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!this.IsAccessorDescriptor(t)&&!this.IsDataDescriptor(t))},FromPropertyDescriptor:function(t){if(void 0===t)return t;if(o(this,"Property Descriptor","Desc",t),this.IsDataDescriptor(t))return{value:t["[[Value]]"],writable:!!t["[[Writable]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};if(this.IsAccessorDescriptor(t))return{get:t["[[Get]]"],set:t["[[Set]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};throw new s("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(t){if("Object"!==this.Type(t))throw new s("ToPropertyDescriptor requires an object");var n={};if(w(t,"enumerable")&&(n["[[Enumerable]]"]=this.ToBoolean(t.enumerable)),w(t,"configurable")&&(n["[[Configurable]]"]=this.ToBoolean(t.configurable)),w(t,"value")&&(n["[[Value]]"]=t.value),w(t,"writable")&&(n["[[Writable]]"]=this.ToBoolean(t.writable)),w(t,"get")){var i=t.get;if(void 0!==i&&!this.IsCallable(i))throw new v("getter must be a function");n["[[Get]]"]=i}if(w(t,"set")){var e=t.set;if(void 0!==e&&!this.IsCallable(e))throw new s("setter must be a function");n["[[Set]]"]=e}if((w(n,"[[Get]]")||w(n,"[[Set]]"))&&(w(n,"[[Value]]")||w(n,"[[Writable]]")))throw new s("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return n}};n.exports=m},{100:100,101:101,102:102,103:103,109:109,110:110,96:96,98:98,99:99}],98:[function(t,n,i){var e=t(96),r=e("%TypeError%"),s=e("%SyntaxError%"),u=t(109),o={"Property Descriptor":function(t,n){if("Object"!==t.Type(n))return!1;var i={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var e in n)if(u(n,e)&&!i[e])return!1;var s=u(n,"[[Value]]"),o=u(n,"[[Get]]")||u(n,"[[Set]]");if(s&&o)throw new r("Property Descriptors may not be both accessor and data descriptors");return!0}};n.exports=function(t,n,i,e){var u=o[n];if("function"!=typeof u)throw new s("unknown record type: "+n);if(!u(t,e))throw new r(i+" must be a "+n);console.log(u(t,e),e)}},{109:109,96:96}],99:[function(t,n,i){var e=Number.isNaN||function(t){return t!=t};n.exports=Number.isFinite||function(t){return"number"==typeof t&&!e(t)&&t!==1/0&&t!==-1/0}},{}],100:[function(t,n,i){n.exports=Number.isNaN||function(t){return t!=t}},{}],101:[function(t,n,i){n.exports=function(t,n){var i=t%n;return g.floor(i>=0?i:i+n)}},{}],102:[function(t,n,i){n.exports=function(t){return t>=0?1:-1}},{}],103:[function(t,n,i){var e=w.prototype.toString,r=t(104),s=t(110),u={"[[DefaultValue]]":function(t){var n;if((n=arguments.length>1?arguments[1]:"[object Date]"===e.call(t)?String:Number)===String||n===Number){var i,u,o=n===String?["toString","valueOf"]:["valueOf","toString"];for(u=0;u<o.length;++u)if(s(t[o[u]])&&(i=t[o[u]](),r(i)))return i;throw new v("No default value")}throw new v("invalid [[DefaultValue]] hint supplied")}};n.exports=function(t){return r(t)?t:arguments.length>1?u["[[DefaultValue]]"](t,arguments[1]):u["[[DefaultValue]]"](t)}},{104:104,110:110}],104:[function(t,n,i){n.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}},{}],105:[function(t,n,i){var e=t(110),r=w.prototype.toString,s=w.prototype.hasOwnProperty;n.exports=function(t,n,i){if(!e(n))throw new v("iterator must be a function");var u;arguments.length>=3&&(u=i),"[object Array]"===r.call(t)?function(t,n,i){for(var e=0,r=t.length;e<r;e++)s.call(t,e)&&(null==i?n(t[e],e,t):n.call(i,t[e],e,t))}(t,n,u):"string"==typeof t?function(t,n,i){for(var e=0,r=t.length;e<r;e++)null==i?n(t.charAt(e),e,t):n.call(i,t.charAt(e),e,t)}(t,n,u):function(t,n,i){for(var e in t)s.call(t,e)&&(null==i?n(t[e],e,t):n.call(i,t[e],e,t))}(t,n,u)}},{110:110}],106:[function(t,n,i){var e=Array.prototype.slice,r=w.prototype.toString;n.exports=function(t){var n=this;if("function"!=typeof n||"[object Function]"!==r.call(n))throw new v("Function.prototype.bind called on incompatible "+n);for(var i,s=e.call(arguments,1),u=g.max(0,n.length-s.length),o=[],a=0;a<u;a++)o.push("$"+a);if(i=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof i){var r=n.apply(this,s.concat(e.call(arguments)));return w(r)===r?r:this}return n.apply(t,s.concat(e.call(arguments)))}),n.prototype){var h=function(){};h.prototype=n.prototype,i.prototype=new h,h.prototype=null}return i}},{}],107:[function(t,n,i){var e=t(106);n.exports=Function.prototype.bind||e},{106:106}],108:[function(n,i,e){(function(n){i.exports=void 0!==r?r:void 0!==n?n:void 0!==t?t:{}}).call(this,void 0!==Lr?Lr:void 0!==t?t:void 0!==r?r:{})},{}],109:[function(t,n,i){var e=t(107);n.exports=e.call(Function.call,w.prototype.hasOwnProperty)},{107:107}],110:[function(t,n,i){var e=Function.prototype.toString,r=/^\s*class\b/,s=function(t){try{var n=e.call(t);return r.test(n)}catch(t){return!1}},u=w.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;n.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(o)return function(t){try{return!s(t)&&(e.call(t),!0)}catch(t){return!1}}(t);if(s(t))return!1;var n=u.call(t);return"[object Function]"===n||"[object GeneratorFunction]"===n}},{}],111:[function(t,n,i){n.exports=function(t){var n=e.call(t);return"[object Function]"===n||"function"==typeof t&&"[object RegExp]"!==n||void 0!==r&&(t===r.setTimeout||t===r.alert||t===r.confirm||t===r.prompt)};var e=w.prototype.toString},{}],112:[function(t,n,i){var e;if(!w.keys){var s=w.prototype.hasOwnProperty,u=w.prototype.toString,o=t(114),a=w.prototype.propertyIsEnumerable,h=!a.call({toString:null},"toString"),c=a.call(function(){},"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(t){var n=t.constructor;return n&&n.prototype===t},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},g=function(){if(void 0===r)return!1;for(var t in r)try{if(!d["$"+t]&&s.call(r,t)&&null!==r[t]&&"object"==typeof r[t])try{l(r[t])}catch(t){return!0}}catch(t){return!0}return!1}();e=function(t){var n=null!==t&&"object"==typeof t,i="[object Function]"===u.call(t),e=o(t),a=n&&"[object String]"===u.call(t),d=[];if(!n&&!i&&!e)throw new v("Object.keys called on a non-object");var w=c&&i;if(a&&t.length>0&&!s.call(t,0))for(var m=0;m<t.length;++m)d.push(String(m));if(e&&t.length>0)for(var y=0;y<t.length;++y)d.push(String(y));else for(var p in t)w&&"prototype"===p||!s.call(t,p)||d.push(String(p));if(h)for(var _=function(t){if(void 0===r||!g)return l(t);try{return l(t)}catch(t){return!1}}(t),b=0;b<f.length;++b)_&&"constructor"===f[b]||!s.call(t,f[b])||d.push(f[b]);return d}}n.exports=e},{114:114}],113:[function(t,n,i){var e=Array.prototype.slice,r=t(114),s=w.keys,u=s?function(t){return s(t)}:t(112),o=w.keys;u.shim=function(){if(w.keys){var t=function(){var t=w.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(w.keys=function(t){return r(t)?o(e.call(t)):o(t)})}else w.keys=u;return w.keys||u},n.exports=u},{112:112,114:114}],114:[function(t,n,i){var e=w.prototype.toString;n.exports=function(t){var n=e.call(t),i="[object Arguments]"===n;return i||(i="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),i}},{}],115:[function(t,n,i){var e=t(118),r=t(105);n.exports=function(t){if(!t)return{};var n={};return r(e(t).split("\n"),function(t){var i,r=t.indexOf(":"),s=e(t.slice(0,r)).toLowerCase(),u=e(t.slice(r+1));void 0===n[s]?n[s]=u:(i=n[s],"[object Array]"===w.prototype.toString.call(i)?n[s].push(u):n[s]=[n[s],u])}),n}},{105:105,118:118}],116:[function(t,n,i){n.exports=function(t,n){var i,e=null;try{i=JSON.parse(t,n)}catch(t){e=t}return[e,i]}},{}],117:[function(t,n,i){var e=t(107),r=t(97),s=e.call(Function.call,String.prototype.replace),u=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,o=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;n.exports=function(){var t=r.ToString(r.CheckObjectCoercible(this));return s(s(t,u,""),o,"")}},{107:107,97:97}],118:[function(t,n,i){var e=t(107),r=t(95),s=t(117),u=t(119),o=t(120),a=e.call(Function.call,u());r(a,{getPolyfill:u,implementation:s,shim:o}),n.exports=a},{107:107,117:117,119:119,120:120,95:95}],119:[function(t,n,i){var e=t(117);n.exports=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()?String.prototype.trim:e}},{117:117}],120:[function(t,n,i){var e=t(95),r=t(119);n.exports=function(){var t=r();return e(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}},{119:119,95:95}],121:[function(t,n,i){function e(t){return t.replace(/\n\r?\s*/g,"")}n.exports=function(t){for(var n="",i=0;i<arguments.length;i++)n+=e(t[i])+(arguments[i+1]||"");return n}},{}],122:[function(t,n,i){var e=t(108),r=t(111),s=t(115),u=t(123);function o(t,n,i){var e=t;return r(n)?(i=n,"string"==typeof t&&(e={uri:t})):e=u(n,{uri:t}),e.callback=i,e}function c(t,n,i){return f(n=o(t,n,i))}function f(t){if(void 0===t.callback)throw new l("callback argument missing");var n=!1,i=function(i,e,r){n||(n=!0,t.callback(i,e,r))};function e(){var t=void 0;if(t=d.response?d.response:d.responseText||function(t){if("document"===t.responseType)return t.responseXML;var n=204===t.status&&t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||n?null:t.responseXML}(d),b)try{t=JSON.parse(t)}catch(t){}return t}var r={body:void 0,headers:{},statusCode:0,method:m,url:g,rawRequest:d};function u(t){return h(w),t instanceof l||(t=new l(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,i(t,r)}function o(){if(!v){var n;h(w),n=t.useXDR&&void 0===d.status?200:1223===d.status?204:d.status;var u=r,o=null;return 0!==n?(u={body:e(),statusCode:n,method:m,headers:{},url:g,rawRequest:d},d.getAllResponseHeaders&&(u.headers=s(d.getAllResponseHeaders()))):o=new l("Internal XMLHttpRequest Error"),i(o,u,u.body)}}var f,v,d=t.xhr||null;d||(d=t.cors||t.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var w,g=d.url=t.uri||t.url,m=d.method=t.method||"GET",y=t.body||t.data||null,p=d.headers=t.headers||{},_=!!t.sync,b=!1;if("json"in t&&(b=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==m&&"HEAD"!==m&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),y=JSON.stringify(t.json))),d.onreadystatechange=function(){4===d.readyState&&o()},d.onload=o,d.onerror=u,d.onprogress=function(){},d.ontimeout=u,d.open(m,g,!_,t.username,t.password),_||(d.withCredentials=!!t.withCredentials),!_&&t.timeout>0&&(w=a(function(){v=!0,d.abort("timeout");var t=new l("XMLHttpRequest timeout");t.code="ETIMEDOUT",u(t)},t.timeout)),d.setRequestHeader)for(f in p)p.hasOwnProperty(f)&&d.setRequestHeader(f,p[f]);else if(t.headers&&!function(t){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0}(t.headers))throw new l("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(d.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(d),d.send(y),d}n.exports=c,c.XMLHttpRequest=e.XMLHttpRequest||function(){},c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:e.XDomainRequest,function(t,n){for(var i=0;i<t.length;i++)n(t[i])}(["get","put","post","patch","head","delete"],function(t){c["delete"===t?"del":t]=function(n,i,e){return(i=o(n,i,e)).method=t.toUpperCase(),f(i)}})},{108:108,111:111,115:115,123:123}],123:[function(t,n,i){n.exports=function(){for(var t={},n=0;n<arguments.length;n++){var i=arguments[n];for(var r in i)e.call(i,r)&&(t[r]=i[r])}return t};var e=w.prototype.hasOwnProperty},{}]},{},[94])(94)),Y$=10,Q$=60;function Z$(t){return t.duration()===1/0}function K$(t){return t.scrubbing()?t.getCache().currentTime:t.currentTime()}function J$(t){var n=iY(t);return Z$(t)?n.end(n.length-1):n.start(0)}function tY(t){return iY(t).start(0)}function nY(t){var n=iY(t);return n.end(n.length-1)-n.start(0)}function iY(t){var n=t.seekable();if(n&&n.length)return n;var i=t.duration();return i=isFinite(i)?i:0,new yS([0,i]).qD()}function eY(t,n){void 0===n&&(n=t);var i=t<0?"-":"";t=g.abs(t);var e=g.floor(t%60),r=g.floor(t/60%60),s=g.floor(t/3600),u=g.floor(n/60%60),o=g.floor(n/3600);return(p(t)||t===1/0)&&(s=r=e="-"),i+(s=s>0||o>0?s+":":"")+(r=((s||u>=10)&&r<10?"0"+r:r)+":")+(e=e<10?"0"+e:e)}function rY(){var t=K$(this);this.toggleClass("theo-at-live",function(t,n){if(Z$(t)){var i=iY(t);return i.end(i.length-1)-n<Y$}return!1}(this,t)),this.toggleClass("theo-dvr",function(t){return Z$(t)&&nY(t)>=Q$}(this))}!function(t){t.Ckt="theo",t.Dkt="google-ima",t.Nkt="google-dai",t.Pkt="freewheel"}(q$||(q$={}));var sY="theo-ad-playing",uY="theo-dai-ad-playing";function oY(t,n){var i=function(n){var i,e=(null==(i=n.ad)?void 0:i.integration)===q$.Nkt;!function(t,n,i){var e="adbreakbegin"===n;t.toggleClass(sY,e),i?t.toggleClass(uY,e):t.toggleClass(uY,!1)}(t,n.type,e)};n&&(n.ads&&(n.ads.addEventListener("adbreakbegin",i),n.ads.addEventListener("adbreakend",i),n.addEventListener("sourcechange",i)),n.verizonMedia&&n.verizonMedia.ads.adBreaks.addEventListener("addadbreak",function(t){t.adBreak.addEventListener("adbreakbegin",i),t.adBreak.addEventListener("adbreakend",i)}))}function aY(){this.userActive(!1)}var hY,cY=function(t,n){this.type=void 0,this.target=void 0,this.playerEvent=void 0,this.type=t.type,this.target=n,this.playerEvent=t};!function(t){t.LOADED="DAILoaded",t.AD_BREAK_STARTED="DAIAdBreakStarted",t.AD_BREAK_ENDED="DAIAdBreakEnded",t.AD_PERIOD_STARTED="DAIAdPeriodStarted",t.AD_PERIOD_ENDED="DAIAdPeriodEnded",t.AD_PROGRESS="DAIAdProgress",t.CUEPOINTS_CHANGED="DAICuePointsChanged",t.CLICK="DAIClick",t.ERROR="DAIError",t.STARTED="DAIStarted",t.FIRST_QUARTILE="DAIFirstQuartile",t.MIDPOINT="DAIMidpoint",t.STREAM_INITIALIZED="DAIStreamInitialized",t.THIRD_QUARTILE="DAIThirdQuartile",t.COMPLETE="DAIComplete"}(hY||(hY={}));var fY=["loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange","resize"],lY=$$.getTech("Tech"),vY=$$.getTech("Html5"),dY=function(t){function n(n,i){var e;void 0===n&&(n={}),(e=t.call(this,n,i)||this).xkt=void 0,e.Bkt=function(t){return e.js(t)},e.Okt=!1,e.FU=function(){e.js(new by(e.xkt.currentTime,e.xkt.readyState)),e.js(new XC)},e.Lkt=function(t){e.textTracks().g_(t.track)},e.Mkt=function(t){e.audioTracks().g_(t.track)},e.jkt=function(t){e.textTracks().m_(t.track)},e.Fkt=function(t){e.audioTracks().m_(t.track)},e.Ukt=function(){var t=e.textTracks();t.trigger({type:"change",target:t,currentTarget:t,srcElement:t})},e.Hkt=function(){var t=e.audioTracks();t.trigger({type:"change",target:t,currentTarget:t,srcElement:t})},e.Xkt=function(){if(e.supportsFullScreen()){var t=e.Okt,n=e.xkt.presentation.currentMode===jS.FULLSCREEN;t!==n&&(e.Okt=n,e.trigger("fullscreenchange",{isFullscreen:n}))}},e.Sc=function(){var t=e.xkt.errorObject,n=t&&cp(t.code)||-1,i=t&&t.message||"An unknown error occurred.";e.error({code:n,message:e.localize(i)})},e.xkt=e.spt.player,e.Vkt();var r=!e.paused();return r&&e.pause(),n.preload&&e.setPreload(n.preload),n.autoplay&&e.setAutoplay(n.autoplay),n.muted&&e.setMuted(n.muted),n.source?e.setSrc(n.source):e.Mbt(),r&&e.ready(function(){return e.play()}),e.triggerReady(),e}E(n,t);var i=n.prototype;return i.Vkt=function(){for(var t,n=0;n<fY.length;n++){var i=fY[n];this.xkt.addEventListener(i,this.Bkt)}this.xkt.addEventListener("error",this.Sc),this.xkt.addEventListener("contentprotectionerror",this.Sc),this.xkt.addEventListener("sourcechange",this.FU),null==(t=this.xkt.presentation)||t.addEventListener("presentationmodechange",this.Xkt),this.xkt.textTracks.addEventListener("addtrack",this.Lkt),this.xkt.textTracks.addEventListener("removetrack",this.jkt),this.xkt.textTracks.addEventListener("change",this.Ukt),this.xkt.audioTracks.addEventListener("addtrack",this.Mkt),this.xkt.audioTracks.addEventListener("removetrack",this.Fkt),this.xkt.audioTracks.addEventListener("change",this.Hkt)},i.zkt=function(){for(var t,n=0;n<fY.length;n++){var i=fY[n];this.xkt.removeEventListener(i,this.Bkt)}this.xkt.removeEventListener("error",this.Sc),this.xkt.removeEventListener("contentprotectionerror",this.Sc),this.xkt.removeEventListener("sourcechange",this.FU),null==(t=this.xkt.presentation)||t.removeEventListener("presentationmodechange",this.Xkt),this.xkt.textTracks.removeEventListener("addtrack",this.Lkt),this.xkt.textTracks.removeEventListener("removetrack",this.jkt),this.xkt.textTracks.removeEventListener("change",this.Ukt),this.xkt.audioTracks.removeEventListener("addtrack",this.Mkt),this.xkt.audioTracks.removeEventListener("removetrack",this.Fkt),this.xkt.audioTracks.removeEventListener("change",this.Hkt)},i.js=function(t){this.trigger(new cY(t,this))},i.createEl=function(){var t=this.spt,n=t.player;if(!n)throw new l(this.localize('Missing required tech option "player"'));var i=n.element;return $$.setAttributes(i,{id:t.techId}),i},i.theoplayer=function(){return this.xkt},i.addTextTrack=function(n,i,e){return t.prototype.addTextTrack.call(this,n,i,e)},i.buffered=function(){return this.xkt.buffered},i.played=function(){return this.xkt.played},i.reset=function(){this.xkt.stop()},i.play=function(){this.xkt.play()},i.pause=function(){this.xkt.pause()},i.paused=function(){return this.xkt.paused},i.currentTime=function(){return this.xkt.currentTime},i.setCurrentTime=function(t){this.xkt.currentTime=t},i.duration=function(){return this.xkt.duration},i.volume=function(){return this.xkt.volume},i.setVolume=function(t){this.xkt.volume=t},i.muted=function(){return this.xkt.muted},i.setMuted=function(t){this.xkt.muted=t},i.src=function(t){if(void 0!==t)this.setSrc(t);else{if(this.xkt.src)return this.xkt.src;if(this.xkt.source){if(!mE(this.xkt.source.ads))return this.xkt.source.ads[0].sources;if(function(t){if(t.sources)if(V(t.sources))for(var n=0,i=t.sources;n<i.length;n++){var e=i[n];if(!G(e)&&"verizon-media"===e.integration)return!0}else if(!G(t.sources))return"verizon-media"===t.sources.integration;return!1}(this.xkt.source))return"This source is managed by the Verizon Media integration extension.";if(function(t){if(t.sources)if(V(t.sources)){for(var n=0,i=t.sources;n<i.length;n++)if(hy(i[n]))return!0}else if(W(t.sources))return hy(t.sources);return!1}(this.xkt.source))return"This source is managed by the DAI integration extension."}}},i.setSrc=function(t){return this.setSource({src:t})},i.setSource=function(t){this.mu=null,this.trigger("error")},i.currentSrc=function(){return this.xkt.src},i.load=function(){this.setPreload("auto")},i.preload=function(){return this.xkt.preload},i.setPreload=function(t){this.xkt.preload=t},i.autoplay=function(){return this.xkt.autoplay},i.setAutoplay=function(t){this.xkt.autoplay=!!t},i.seeking=function(){return this.xkt.seeking},i.seekable=function(){return this.xkt.seekable},i.ended=function(){return this.xkt.ended},i.playbackRate=function(){return this.xkt.playbackRate},i.setPlaybackRate=function(t){this.xkt.playbackRate=t},i.readyState=function(){return this.xkt.readyState},i.networkState=function(){return 0},i.controls=function(){return!1},i.videoHeight=function(){return this.xkt.videoHeight},i.videoWidth=function(){return this.xkt.videoWidth},i.supportsFullScreen=function(){return this.xkt.presentation.supportsMode(jS.FULLSCREEN)},i.enterFullScreen=function(){this.xkt.presentation.requestMode(jS.FULLSCREEN)},i.exitFullScreen=function(){this.xkt.presentation.requestMode(jS.INLINE)},i.Wkt=function(){var t=this.xkt.ads;if(t&&t.playing)return!0;var n=this.xkt.vr;return!(!n||n.state===VG.yyt)},i.initTextTrackListeners=function(){var n=this;return this.on("touchend",function(t){n.Wkt()&&(t.preventDefault=function(){})}),t.prototype.initTextTrackListeners.call(this)},i.Mbt=function(){var t=this;if(this.src()){var n=this.readyState();if(0===n){var i=!1,e=function(){i=!0};this.on("loadstart",e);var r=function(){i||t.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready(function(){t.off("loadstart",e),t.off("loadedmetadata",r),i||t.trigger("loadstart")})}var s=["loadstart"];s.push("loadedmetadata"),n>=2&&s.push("loadeddata"),n>=3&&s.push("canplay"),n>=4&&s.push("canplaythrough"),this.ready(function(){for(var n=0;n<s.length;n++){var i=s[n];t.trigger(i)}})}},i.dispose=function(){this.zkt(),this.xkt=null,t.prototype.dispose.call(this)},n.isSupported=function(){return!0},n.canPlayType=function(){return"maybe"},n.canPlaySource=function(t){return"maybe"},T(n,[{key:"featuresVolumeControl",get:function(){return br}}]),n}(lY);function wY(t){return function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).qkt=void 0,n}return E(n,t),n.prototype.dispose=function(){this.qkt=void 0,t.prototype.dispose.call(this)},T(n,[{key:"xkt",get:function(){return this.qkt||(this.qkt=this.player().tech({IWillNotUseThisInPlugins:!0}).theoplayer()),this.qkt}}]),n}(t)}dY.prototype.featuresFullscreenResize=vY.prototype.featuresFullscreenResize,dY.prototype.featuresPlaybackRate=vY.prototype.featuresPlaybackRate,dY.prototype.featuresProgressEvents=!0,dY.prototype.featuresTimeupdateEvents=!0,dY.prototype.featuresNativeTextTracks=!0,$$.registerTech("THEOplayer",dY);var gY=function(t){var n=this;this.lN=void 0,this.Gkt=function(t){sr(n.lN,"theo-mobile-button-hover"),t.stopImmediatePropagation()},this.$kt=function(t){ur(n.lN,"theo-mobile-button-hover")},this.Ykt=function(t){n.lN.blur()},this.lN=t,t.addEventListener("touchstart",this.Gkt),t.addEventListener("touchend",this.$kt),t.addEventListener("focusin",this.Ykt)},mY=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.Qkt=function(){sr(this.Zkt,"theo-menu-opened")},i.qh=function(){ur(this.Zkt,"theo-menu-opened")},T(n,[{key:"Zkt",get:function(){return this.player().el()}}]),n}(wY($$.getComponent("Menu"))),yY=function(t){function n(n,e,r){var s;return(s=t.call(this,n,Ur({selectable:!0},e))||this).Kkt=void 0,s.Jkt=!1,s.Gkt=function(t){sr(s.el(),"theo-mobile-menu-item-hover"),t.stopImmediatePropagation()},s.$kt=function(t){ur(s.el(),"theo-mobile-menu-item-hover")},s.Kkt=r,i.Lr.dn&&(s.el().addEventListener("touchstart",s.Gkt),s.el().addEventListener("touchend",s.$kt)),s}E(n,t);var e=n.prototype;return e.buildCSSClass=function(){return"theo-menu-item vjs-menu-item"},e.createEl=function(){var n=t.prototype.createEl.call(this,"li",{className:this.buildCSSClass(),tabIndex:0},{"aria-live":"off","aria-label":""});return n.innerHTML="",n},e.handleClick=function(t){this.Jkt||(this.parentMenu.tAt(this),"tap"!==t.type&&"keydown"!==t.type||(this.Jkt=!0,this.trigger("click"),this.Jkt=!1))},e.dispose=function(){i.Lr.dn&&(this.el().removeEventListener("touchstart",this.Gkt),this.el().removeEventListener("touchend",this.$kt)),t.prototype.dispose.call(this)},T(n,[{key:"parentMenu",get:function(){return this.Kkt}}]),n}(wY($$.getComponent("MenuItem"))),pY=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).Kkt=void 0,r.Jkt=!1,r.nAt=!1,r.Kkt=e,r.on(n,"languagechange",r.iAt),r}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-primary-background theo-menu-header"},i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-live":"off","aria-label":""});return n.innerHTML="",n},i.handleClick=function(t){!this.Jkt&&this.eAt&&(this.Kkt.rAt(),"tap"===t.type&&(this.Jkt=!0,this.trigger("click"),this.Jkt=!1))},i.iAt=function(){this.eAt?this.el().setAttribute("aria-label",this.localize("Go back to the previous menu")):this.el().setAttribute("aria-label","")},T(n,[{key:"parentMenu",get:function(){return this.Kkt}},{key:"eAt",get:function(){return this.nAt},set:function(t){this.nAt=t,this.el().setAttribute("tabindex",this.eAt?"0":"-1"),this.iAt()}}]),n}($$.getComponent("ClickableComponent")),_Y=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.sAt=function(t){this.oAt.uAt(t,"replace")},i.aAt=function(t){t.oAt.uAt(this,"restore")},i.Fm=function(){ur(this.hAt,"vjs-hidden"),this.hAt.style.opacity="1",t.prototype.show.call(this)},i.zm=function(){sr(this.hAt,"vjs-hidden")},i.Qkt=function(){this.oAt&&this.oAt.Qkt(),t.prototype.Qkt.call(this)},i.qh=function(){this.oAt&&this.oAt.qh(),t.prototype.qh.call(this),sr(this.hAt,"vjs-hidden")},i.cAt=function(){if(this.oAt&&this.oAt.fAt)return this.oAt.fAt.hAt},i.lAt=function(n,i){if(i.length>0){var e=i[0].height,r=i[0].width;this.vAt.$m.style.height=e+"px",this.vAt.$m.style.width=r+"px"}t.prototype.lAt.call(this,n,i)},T(n,[{key:"oAt",get:function(){return this.vAt},set:function(t){this.vAt&&this.vAt.dAt(this),this.vAt=t,t&&t.wAt(this)}}]),n}(function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).gAt=void 0,e.mAt=function(){return e.yAt()},e.gAt=e.player().el(),e.hide(),e.on("menuchange",e.yAt),e}E(n,t);var e=n.prototype;return e.addMenuItem=function(t){t=Ur({playerOptions:this.spt.playerOptions},t);var n=new yY(this.player(),t,this);return this.addChild(n,void 0,t.index),this.trigger("menuchange"),n},e.addSubMenuItem=function(t){t=Ur({playerOptions:this.spt.playerOptions},t);var n=this.pAt(this.player(),t);return this.addChild(n,void 0,t.index),this.trigger("menuchange"),n},e.removeMenuItem=function(t){this.removeChild(t),this.trigger("menuchange")},e.buildCSSClass=function(){return"theo-menu vjs-menu"},e.Qkt=function(){t.prototype.Qkt.call(this),r.removeEventListener("resize",this.mAt),r.addEventListener("resize",this.mAt),this.show()},e.yAt=function(){var t=this.cAt();if(t){var n=t.getClientRects();i.Lr.dn?this._At(t,n):this.lAt(t,n)}},e.cAt=function(){var t;return null!=(t=this.contentEl().parentElement)?t:void 0},e.lAt=function(t,n){},e._At=function(t,n){},e.qh=function(){r.removeEventListener("resize",this.mAt),t.prototype.qh.call(this),this.hide(),i.Lr.dn&&(this.el().removeAttribute("style"),this.contentEl().removeAttribute("style"))},e.createEl=function(){var n=t.prototype.createEl.call(this);n.className=this.buildCSSClass();var i=this.contentEl();sr(i,"theo-menu-content");var e=new pY(this.player(),this.spt,this);return i.parentNode.insertBefore(e.el(),i),this.bAt=e,n},e.tAt=function(t){},e.show=function(){return this.yAt(),t.prototype.show.call(this)},e.dispose=function(){this.bAt&&this.bAt.dispose(),t.prototype.dispose.call(this)},T(n,[{key:"menuHeader",get:function(){return this.bAt}},{key:"menuItems",get:function(){return this.children()}}]),n}(mY)),bY=function(){function t(t){this.kAt=void 0,this.AAt=void 0,this.lN=void 0,this.gAt=void 0,this.AAt=this.kAt=t,this.lN=s.createElement("div"),this.lN.className="theo-tertiary-background theo-menu-animation-container",this.lN.appendChild(this.AAt.hAt),this.gAt=this.kAt.player().el()}var n=t.prototype;return n.wAt=function(t){t.zm(),this.lN.appendChild(t.hAt)},n.dAt=function(t){this.lN.removeChild(t.hAt)},n.uAt=function(t,n){if(t!=this.kAt){var e=this.kAt;if(this.kAt=t,this.kAt.Fm(),this.fAt.focus(),i.Lr.dn)e.zm();else{var r=LI("transform");e.hAt.style.opacity="0",e.hAt.style[r]="replace"===n?"translateX(-100%)":"translateX(100%)",this.kAt.hAt.style.opacity="1",this.kAt.hAt.style[r]="",a(function(){e.zm(),e.hAt.style[r]=""},300)}}},n.Qkt=function(){this.TAt(),this.kAt.Fm(),this.SAt()},n.qh=function(){this.TAt(),this.kAt.zm(),this.AAt.zm(),this.kAt=this.AAt,this.SAt()},n.SAt=function(){var t=this;DI(function(){ur(t.lN,"theo-no-transition"),ur(t.kAt.hAt,"theo-no-transition")})},n.TAt=function(){sr(this.lN,"theo-no-transition"),sr(this.kAt.hAt,"theo-no-transition")},T(t,[{key:"$m",get:function(){return this.lN}},{key:"fAt",get:function(){return this.kAt}}]),t}(),kY=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).EAt=void 0,r.IAt=!1,r.EAt=e,r.menuHeader.eAt=!0,r}E(n,t);var i=n.prototype;return i.pAt=function(t,n){var i=new AY(t,n,this);return i.subMenu.oAt=this.oAt,i},i.rAt=function(){this.RAt()},i.tAt=function(n){t.prototype.tAt.call(this,n),this.RAt()},i.RAt=function(){this.parentMenu.aAt(this)},i.buildCSSClass=function(){return"theo-submenu "+(this.IAt?"":"theo-leaf-submenu ")+"theo-menu-content theo-menu-content-animatable "+t.prototype.buildCSSClass.call(this)},i.addSubMenuItem=function(n){this.IAt=!0;var i=t.prototype.addSubMenuItem.call(this,n);return this.removeClass("theo-leaf-submenu"),i},T(n,[{key:"hAt",get:function(){return this.el()}},{key:"parentMenu",get:function(){return this.EAt}}]),n}(_Y),AY=function(t){function n(n,i,e){var r;return(r=t.call(this,n,Ur({selectable:!1},i),e)||this).CAt=void 0,r.CAt=new kY(n,i,e),r}return E(n,t),n.prototype.handleClick=function(t){this.parentMenu.sAt(this.subMenu)},T(n,[{key:"subMenu",get:function(){return this.CAt}}]),n}(yY),TY=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).DAt=void 0,r.NAt=!1,r.DAt=e,r}E(n,t);var i=n.prototype;return i.createEl=function(){var n=$$.createEl("div",{className:this.buildCSSClass()});return this.PAt=t.prototype.createEl.call(this),this.PAt.className=t.prototype.buildCSSClass.call(this),sr(this.PAt,"theo-menu-content-animatable"),n.appendChild(this.PAt),this.oAt=new bY(this),n.appendChild(this.oAt.$m),n},i.buildCSSClass=function(){return"theo-menu-animatable "+t.prototype.buildCSSClass.call(this)},i.pAt=function(t,n){var i=new AY(t,n,this);return i.subMenu.oAt=this.oAt,i},i.lAt=function(n,i){t.prototype.lAt.call(this,n,i);var e=this.gAt.getClientRects(),r=e.length>0?e[0]:void 0,s=y(getComputedStyle(this.el()).fontSize);Ex(this.el(),this.DAt.el(),r,s)},i.rAt=function(){this.DAt.closeMenu()},i.dispose=function(){this.NAt||(this.NAt=!0,t.prototype.dispose.call(this))},T(n,[{key:"menuButton",get:function(){return this.DAt}},{key:"hAt",get:function(){return this.PAt}}]),n}(_Y),SY=function(){function t(t,n){var i=this;this.xAt=void 0,this.BAt=void 0,this.OAt=function(){ur(i.xAt,"vjs-hidden");var t=i.BAt.player().contentEl().getClientRects(),n=t.length>0?t[0]:void 0,e=y(getComputedStyle(i.xAt).fontSize);Ex(i.xAt,i.BAt.el(),n,e)},this.LAt=function(){sr(i.xAt,"vjs-hidden")},this.MAt=function(){return i.jAt()},this.BAt=t,fr(t.el()),t.el().addEventListener("mouseover",function(t){fr(t.target)}),this.xAt=s.createElement("span"),this.xAt.innerHTML=this.BAt.localize(n),this.xAt.className="theo-button-tooltip vjs-hidden",this.xAt.setAttribute("aria-hidden","true"),this.BAt.el().appendChild(this.xAt),this.BAt.on("mouseover",this.OAt),this.BAt.on("mouseout",this.LAt),this.BAt.on("dispose",this.MAt)}return t.prototype.jAt=function(){this.BAt.off("mouseover",this.OAt),this.BAt.off("mouseout",this.LAt),this.BAt.off("dispose",this.MAt),nr(this.xAt)},T(t,[{key:"FAt",get:function(){return this.xAt.textContent||""},set:function(t){this.xAt.innerHTML=this.BAt.localize(t),this.LAt(),this.OAt(),fr(this.BAt.el())}}]),t}(),EY=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).UAt=void 0,r.xAt=void 0,r.HAt=!1,r.XAt=1,r.Ny=!0,r.VAt=function(t){var n,e=r.el().contains(t.target),s=r.UAt.el().contains(t.target),u=!1;i.Lr.dn&&r.zAt&&(u=(null==(n=r.el().parentElement)?void 0:n.querySelector(".theo-mobile-menu-background"))===t.target);e||s||!r.HAt||(u&&t.preventDefault(),r.closeMenu())},r.WAt=function(t){27===t.which&&(r.closeMenu(),r.focus())},r.oW=function(){r.HAt&&r.closeMenu()},r.qAt=function(){r.UAt.menuItems.length>=r.XAt?r.show():(r.closeMenu(),r.hide())},r.UAt=new TY(n,e,Jt(r)),r.player().getChild("controlBarMenuContainer").addChild(r.UAt),r.xAt=new SY(Jt(r),r.controlText()),r.el().setAttribute("aria-haspopup","true"),i.Lr.Gt?(r.on(s,"touchend",r.VAt),new gY(r.el())):(r.on(s,"click",r.VAt),r.on(s,"keydown",r.WAt),XI&&r.on(s,XI.qO,r.closeMenu)),r.xkt.addEventListener("seeking",r.oW),r.on(r.UAt,"menuchange",r.qAt),r.on(n,"languagechange",r.iAt),r.qAt(),r}E(n,t);var e=n.prototype;return e.isMenuOpen=function(){return this.HAt},e.openMenu=function(){this.Ny&&!this.HAt&&(this.UAt.Qkt(),this.el().setAttribute("aria-expanded","true"),this.HAt=!0,this.UAt.focus())},e.closeMenu=function(){this.Ny&&this.HAt&&(this.UAt.qh(),this.el().setAttribute("aria-expanded","false"),this.HAt=!1)},e.buildCSSClass=function(){return"theo-controlbar-button vjs-menu-button vjs-menu-button-popup "+t.prototype.buildCSSClass.call(this)},e.createEl=function(n,i,e){return t.prototype.createEl.call(this,"button",{},{"aria-live":"off"})},e.handleClick=function(){this.HAt?this.closeMenu():this.openMenu()},e.enable=function(){return this.Ny=!0,t.prototype.enable.call(this)},e.disable=function(){return this.closeMenu(),this.Ny=!1,t.prototype.disable.call(this)},e.iAt=function(){this.xAt.FAt=this.controlText()},e.dispose=function(){this.player().removeChild(this.UAt),this.UAt.dispose(),this.xAt.jAt(),this.xkt.removeEventListener("seeking",this.oW),t.prototype.dispose.call(this)},T(n,[{key:"zAt",get:function(){var t=this.el().parentElement;return!!t&&null!==t.querySelector(".theo-mobile-menu-background")}},{key:"menu",get:function(){return this.UAt}},{key:"minimumMenuItems",set:function(t){this.XAt=t,this.qAt()}}]),n}(wY($$.getComponent("Button"))),IY=$$.getComponent("Component"),RY=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).addChild("THEOControlBarShadow",void 0,0),e}E(n,t);var i=n.prototype;return i.addMenuButton=function(t){t=Ur({playerOptions:this.spt.playerOptions},t);var n=new EY(this.player(),t);return this.addChild(n),n},i.removeMenuButton=function(t){this.removeChild(t)},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-secondary-color vjs-control-bar "+t.prototype.buildCSSClass.call(this)},n}($$.getComponent("ControlBar")),CY=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i.buildCSSClass=function(){return"theo-tertiary-color theo-control-bar-shadow"},n}(IY);$$.registerComponent("THEOControlBarShadow",CY);var DY=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).GAt=void 0,e.GAt=i.$At,e}E(n,t);var i=n.prototype;return i.handleFocus=function(n){t.prototype.handleFocus.call(this,n),this.GAt.addClass("focus-within")},i.handleBlur=function(n){t.prototype.handleBlur.call(this,n),this.GAt.removeClass("focus-within")},n}($$.getComponent("VolumeBar")),NY=$$.getComponent("VolumeControl"),PY=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).YAt=void 0,e.YAt=new DY(n,{$At:Jt(e)}),e.addChild(e.YAt),e}return E(n,t),n}(NY);PY.prototype.spt=Ur({},NY.prototype.spt,{children:[]}),$$.registerComponent("VolumeControl",PY);var xY=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).QAt=void 0,e.ZAt=function(t){if("opacity"===t.propertyName){var n=e.KAt();e.xkt.textTrackStyle.marginBottom!==n&&(e.xkt.textTrackStyle.marginBottom=n)}},e.JAt=function(t){"opacity"===t.propertyName&&"0"===r.getComputedStyle(e.el()).opacity&&(e.xkt.textTrackStyle.marginBottom=void 0)},e.tTt=function(){void 0!==e.xkt.textTrackStyle.marginBottom&&(e.xkt.textTrackStyle.marginBottom=e.KAt())},e.el().addEventListener("transitionstart",e.ZAt),e.el().addEventListener("transitionend",e.JAt),e.QAt=new UI(e.el()),e.QAt.Zs("pO",e.tTt),e.QAt.hc(),e}E(n,t);var i=n.prototype;return i.KAt=function(){return this.el().getBoundingClientRect().height},i.dispose=function(){this.el().removeEventListener("transitionstart",this.ZAt),this.el().removeEventListener("transitionend",this.JAt),this.QAt.tu("pO",this.tTt),this.QAt.Sd(),t.prototype.dispose.call(this)},n}(wY(RY));xY.prototype.spt=Ur({},RY.prototype.spt,{children:["progressControl","playToggle","muteToggle","volumeControl","currentTimeDisplay","timeDivider","durationDisplay","liveDisplay","remainingTimeDisplay","customControlSpacer","activeQualityLabel","vrButton","descriptionsButton","subtitlesButton","chromecastButton","airplayButton","multiViewButton","audioTrackButton","SettingsButton","fullscreenToggle"]}),$$.registerComponent("ControlBar",xY);var BY=function(t){function n(n,i){var e;return e=t.call(this,n,i)||this,n.topControlBar=Jt(e),e}return E(n,t),n.prototype.buildCSSClass=function(){return"theo-top-controlbar "+t.prototype.buildCSSClass.call(this)},n}(RY);BY.prototype.spt=Ur({},RY.prototype.spt,{children:[]}),$$.registerComponent("TopControlBar",BY);var OY=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).on(n,"timeupdate",e.updateContent),e.on(n,"emptied",e.updateContent),e}return E(n,t),n.prototype.updateContent=function(){var t=this.player(),n=K$(t),i=tY(t),e=this.localize("Current Time"),r=eY(g.max(0,n-i),nY(t));r!==this.Ept&&(this.Ept=r,this.contentEl().innerHTML='<span class="vjs-control-text">'+e+"</span> "+r)},n}($$.getComponent("CurrentTimeDisplay"));$$.registerComponent("CurrentTimeDisplay",OY);var LY=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).nTt=function(){return e.updateContent()},e.off(n,"durationchange",e.updateContent),e.on(n,"durationchange",e.updateContent),e.off(n,"timeupdate",e.updateContent),e.on(n,"timeupdate",e.updateContent),e.off(n,"emptied",e.updateContent),e.on(n,"emptied",e.updateContent),e.xkt&&e.xkt.clip.addEventListener("change",e.nTt),e}return E(n,t),n.prototype.updateContent=function(){var t=p(this.xkt.duration)?NaN:nY(this.player()),n=this.xkt.clip.endTime-this.xkt.clip.startTime,i=g.min(t,n)||0;if(this.Hg!==i){this.Hg=i;var e=this.localize("Duration Time"),r=eY(i);this.cpt.innerHTML='<span class="vjs-control-text">'+e+"</span> "+r}},n}(wY($$.getComponent("DurationDisplay")));$$.registerComponent("DurationDisplay",LY);var MY=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).controlText("Live"),r.iTt(),r.on(r.player(),"durationchange",r.iTt),i.Lr.Gt&&new gY(r.el()),r}E(n,t);var e=n.prototype;return e.buildCSSClass=function(){return"theo-live-control "+t.prototype.buildCSSClass.call(this)},e.createEl=function(){var n=t.prototype.createEl.call(this,"button",{},{"aria-live":"off"});return this.eTt=$$.createEl("span",{className:"theo-live-control-indicator"}),n.insertBefore(this.eTt,n.firstChild),n},e.createControlTextEl=function(n){var i=t.prototype.createControlTextEl.call(this,n);return $$.removeClass(i,"vjs-control-text"),$$.addClass(i,"theo-live-control-text"),i},e.handleClick=function(){var t,n=this.xkt;if(void 0!==(null==(t=n.hesp)?void 0:t.manifest))n.hesp.goLive();else{var i=this.player();i.currentTime(J$(i)),i.play()}},e.iTt=function(){Z$(this.player())?this.show():this.hide()},n}(wY($$.getComponent("Button")));$$.registerComponent("LiveDisplay",MY);var jY=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-secondary-color vjs-loading-spinner "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var n=t.prototype.createEl.call(this);n.className=this.buildCSSClass();var i=$$.createEl("div",{className:"theo-loading-spinner-rotator"}),e=$$.createEl("div",{className:"theo-loading-spinner-circle-left"}),r=$$.createEl("div",{className:"theo-loading-spinner-circle-right"});return i.appendChild(e),i.appendChild(r),n.appendChild(i),n},n}($$.getComponent("LoadingSpinner"));$$.registerComponent("LoadingSpinner",jY);var FY=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).rTt=[],e.on(n,"emptied",e.update),e}return E(n,t),n.prototype.update=function(){var t=this.player(),n=yS.aC(iY(t)),i=n.RN(0),e=yS.aC(t.buffered()).FN(n),r=n.NN(0)-i,u=e.b_&&e.NN(e.b_-1)||0;u=g.max(0,u-i);var o=this.el(),a=this.rTt;o.style.width=UY(u,r);for(var h=0;h<e.b_;h++){var c=e.RN(h),f=e.NN(h),l=a[h];l||(l=s.createElement("div"),a.push(l),o.appendChild(l)),l.style.left=UY(c-i,u),l.style.width=UY(f-c,u)}for(var v=a.length;v>e.b_;v--)o.removeChild(a[v-1]);a.length=e.b_},n}($$.getComponent("LoadProgressBar"));function UY(t,n){var i=t/n||0;return 100*(i>=1?1:i)+"%"}$$.registerComponent("LoadProgressBar",FY);var HY=function(t){function n(n,i){var e,r;((e=t.call(this,n,i)||this).sTt=function(){var t=e.player(),n=t.scrubbing()?t.getCache().currentTime:t.currentTime(),i=(n-tY(t))/nY(t)||0;i=Ft(i,0,1),e.update(n,100*i+"%")},e.keepTooltipsInside&&($$.addClass(e.tooltip,"theo-secondary-color"),e.tooltip.appendChild(e.uTt)),j.dn)&&(e.on(n,"firstplay",e.sTt),e.on(n,"play",e.sTt),e.on(n,"seeking",e.sTt),e.on(n,"seeked",e.sTt),e.on(n,"timeupdate",e.sTt),e.xkt.addEventListener("dimensionchange",e.sTt),null==(r=e.xkt.presentation)||r.addEventListener("presentationmodechange",e.sTt),n.on("ready",function(){e.on(n.controlBar.progressControl,"touchmove",tt(function(t){return e.handleTouchMove(t)},25)),e.sTt()}));return e}E(n,t);var i=n.prototype;return i.handleMouseMove=function(t){var n=this.player(),i=tY(n)+this.calculateDistance(t)*nY(n),e=t.pageX-Sx(this.el().parentNode).left;this.update(i,e+"px")},i.handleTouchMove=function(t){var n=this.player(),i=tY(n)+this.calculateDistance(t)*nY(n),e=t.touches[0].pageX-Sx(this.el().parentNode).left;this.update(i,e+"px")},i.createEl=function(){var n=t.prototype.createEl.call(this);return this.uTt=$$.createEl("span",{className:"theo-time-tooltip-text"}),n},i.update=function(t,n){var i=this.oTt(t);if(this.el().style.left=n,this.el().setAttribute("data-current-time",i),this.keepTooltipsInside&&(Ix(this.uTt,i),this.tooltip.offsetParent)){var e=this.player().contentEl(),r=e.getClientRects(),s=r.length>0?r[0]:void 0,u=y(getComputedStyle(e).fontSize);Ex(this.tooltip,this.el(),s,u)}},i.oTt=function(t){var n=this.player(),i=t-J$(n);return eY(Z$(n)?g.min(i,0):i,nY(n))},n}(wY($$.getComponent("MouseTimeDisplay")));$$.registerComponent("MouseTimeDisplay",HY);var XY=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.updateDataAttr=function(){var t=K$(this.player());this.el().setAttribute("data-current-time",this.oTt(t))},i.oTt=function(t){var n=this.player();return eY(t-J$(n),nY(n))},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-play-progress vjs-slider-bar "+t.prototype.buildCSSClass.call(this)},n}($$.getComponent("PlayProgressBar"));$$.registerComponent("PlayProgressBar",XY);var VY=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).on(n,"timeupdate",e.updateContent),e.on(n,"emptied",e.updateContent),e}return E(n,t),n.prototype.updateContent=function(){var t=this.player(),n=nY(t);if(n){var i=iY(t).end(0),e=this.localize("Remaining Time"),r=eY(g.max(0,i-t.currentTime()),n);r!==this.Ept&&(this.Ept=r,this.contentEl().innerHTML='<span class="vjs-control-text">'+e+"</span> -"+r)}},n}($$.getComponent("RemainingTimeDisplay"));$$.registerComponent("RemainingTimeDisplay",VY);var zY=function(){function t(t,n){var i=this;this.aTt=void 0,this.hTt=void 0,this.cTt=void 0,this.fTt=void 0,this.lTt=[],this.qkt=void 0,this.vTt=function(t){var n=t.track;n.kind===jb.nE&&(n.addEventListener("addcue",i.dTt),n.addEventListener("removecue",i.dTt),n.addEventListener("readystatechange",i.dTt)),i.dTt()},this.wTt=function(t){var n=t.track;n.kind===jb.nE&&(n.removeEventListener("addcue",i.dTt),n.removeEventListener("removecue",i.dTt),n.removeEventListener("readystatechange",i.dTt)),i.dTt()},this.gTt=function(t){var n=i.mTt,e=function(t,n){var i,e,r=Sx(t),s=t.offsetWidth,u=t.offsetHeight,o=r.top,a=r.left;!function(t){return void 0!==t.changedTouches}(n)?(e=n.pageX,i=n.pageY):(e=n.changedTouches[0].pageX,i=n.changedTouches[0].pageY);var h=Ft((o-i+u)/u,0,1);return{x:Ft((e-a)/s,0,1),y:h}}(i.aTt,t),r=tY(n)+e.x*nY(n);r===n.duration()&&(r-=.1),i.yTt(r)},this.pTt=function(){i.hTt.zm()},this._Tt=function(){i.hTt.Fm()},this.dTt=function(){var t=i.bTt();t!==i.fTt&&(i.k_(),t&&i.kTt(t))},this.mTt=n,this.cTt=t,this.hTt=new qY,this.mTt.contentEl().appendChild(this.hTt.$m),this.aTt=s.createElement("div"),sr(this.aTt,"theoplayer-chapterbar"),this.cTt.appendChild(this.aTt),this.cTt.addEventListener("mousemove",this.gTt),this.cTt.addEventListener("mouseenter",this._Tt),this.cTt.addEventListener("mouseleave",this.pTt),this.ATt()}var n=t.prototype;return n.kTt=function(t){if(t.kind===jb.nE&&0!==this.xkt.seekable.length){this.fTt=t;var n=t.cues.slice();this.hTt.jh(n);for(var i=0;i<n.length;i++){var e=n[i],r=n[i+1],s=!r||e.endTime!==r.startTime,u=new WY(e,this.xkt,s);this.lTt.push(u),this.aTt.appendChild(u.$m)}}},n.ATt=function(){this.xkt.addEventListener("loadedmetadata",this.dTt),this.xkt.addEventListener("loadeddata",this.dTt),this.xkt.addEventListener("sourcechange",this.dTt),this.xkt.textTracks.addEventListener("addtrack",this.vTt),this.xkt.textTracks.addEventListener("removetrack",this.wTt),this.xkt.textTracks.addEventListener("change",this.dTt)},n.TTt=function(){this.xkt.removeEventListener("loadedmetadata",this.dTt),this.xkt.removeEventListener("loadeddata",this.dTt),this.xkt.removeEventListener("sourcechange",this.dTt),this.xkt.textTracks.removeEventListener("addtrack",this.vTt),this.xkt.textTracks.removeEventListener("removetrack",this.wTt),this.xkt.textTracks.removeEventListener("change",this.dTt)},n.bTt=function(){if(!(this.xkt.readyState<ey.Dg))for(var t=0,n=this.xkt.textTracks;t<n.length;t++){var i=n[t];if(i.kind===jb.nE&&i.mode===Mm.F_&&i.cues.length>0&&i.readyState!==Ep.ERROR)return i}},n.yTt=function(t){this.hTt.Zh(t)},n.STt=function(){this.hTt.Fm()},n.ETt=function(){this.hTt.zm()},n.k_=function(){for(var t=0,n=this.lTt;t<n.length;t++){n[t].jAt()}this.hTt.k_(),this.lTt=[],this.fTt=void 0},n.jAt=function(){this.TTt(),this.cTt.removeEventListener("mousemove",this.gTt),this.cTt.removeEventListener("mouseenter",this._Tt),this.cTt.removeEventListener("mouseleave",this.pTt),this.k_(),this.hTt.jAt(),this.qkt=void 0},T(t,[{key:"xkt",get:function(){return this.qkt||(this.qkt=this.mTt.tech({IWillNotUseThisInPlugins:!0}).theoplayer()),this.qkt}}]),t}(),WY=function(){function t(t,n,i){var e=this;this.lN=void 0,this.ITt=function(){sr(e.$m,"theoplayer-chapter-indicator-active")},this.RTt=function(){ur(e.$m,"theoplayer-chapter-indicator-active")},this.CTt=t,this.fN=n,this.DTt=i,this.lN=this.NTt(),this.PTt()}var n=t.prototype;return n.PTt=function(){GY(this.CTt,this.fN.currentTime)&&this.ITt(),this.CTt.addEventListener("enter",this.ITt),this.CTt.addEventListener("exit",this.RTt)},n.NTt=function(){var t=this.fN.seekable.start(0),n=this.fN.seekable.end(this.fN.seekable.length-1)-t,i=this.CTt.startTime,e=this.CTt.endTime-i,r=s.createElement("div");sr(r,"theoplayer-chapter-indicator");var u=s.createElement("div");sr(u,"theoplayer-chapter-indicator-highlight"),r.appendChild(u),this.DTt&&sr(r,"theoplayer-chapter-indicator-discontinuous");var o=g.min(i/n*100,100),a=100-o,h=g.min(e/n*100,a);return r.style.width=h+"%",r.style.left=o+"%",r},n.jAt=function(){this.CTt.removeEventListener("enter",this.ITt),this.CTt.removeEventListener("exit",this.RTt),nr(this.lN)},T(t,[{key:"$m",get:function(){return this.lN}}]),t}(),qY=function(){function t(){this.xTt=[],this.$m=void 0,this.BTt=void 0,this.OTt=0,this.$m=s.createElement("div"),sr(this.$m,"theoplayer-chaptertitle"),this.$m.style.display="none",this.BTt=s.createElement("p"),this.$m.appendChild(this.BTt)}var n=t.prototype;return n.zm=function(){this.OTt--,0===this.OTt&&ur(this.$m,"theoplayer-chapter-hovering")},n.jh=function(t){this.xTt=t||[],this.xTt.length>0&&(this.$m.style.display="")},n.iZ=function(t){Ix(this.BTt,t.content)},n.k_=function(){this.xTt=[],Ix(this.BTt,""),this.$m.style.display="none"},n.Fm=function(){this.OTt++,this.OTt>0&&sr(this.$m,"theoplayer-chapter-hovering")},n.Zh=function(t){for(var n=0,i=this.xTt;n<i.length;n++){var e=i[n];if(GY(e,t)){this.iZ(e);break}}},n.jAt=function(){nr(this.$m)},t}();function GY(t,n){return new yS([t.startTime,t.endTime]).GD(n)}var $Y=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).aTt=void 0,e.playingStates=[],e.on(n,"emptied",e.update),e.on(n,"seeking",e.update),e.aTt=new zY(e.el(),n),e}E(n,t);var i=n.prototype;return i.updateAriaAttributes=function(t){var n=this.player(),i=K$(n);t.setAttribute("aria-valuenow",(100*this.LTt(i)).toFixed(2)),t.setAttribute("aria-valuetext",eY(i-J$(n),nY(n)))},i.getPercent=function(){return this.LTt(this.player().currentTime())},i.handleMouseMove=function(t){if(!(this.xkt&&this.xkt.ads&&this.xkt.ads.playing)){var n=this.player(),i=tY(n)+this.calculateDistance(t)*nY(n);i>=n.duration()&&(i=n.duration()-.1),this.aTt.yTt(i),n.currentTime(i)}},i.handleMouseDown=function(n){this.playingStates.push(!this.player().paused()),this.aTt.STt(),t.prototype.handleMouseDown.call(this,n)},i.handleMouseUp=function(n){this.videoWasPlaying=Boolean(this.playingStates.pop()),this.aTt.ETt(),t.prototype.handleMouseUp.call(this,n)},i.LTt=function(t){var n=this.player();return Ft((t-tY(n))/nY(n),0,1)},i.dispose=function(){this.aTt.jAt(),Ks(this.playingStates)},n}(wY($$.getComponent("SeekBar")));$$.registerComponent("SeekBar",$Y);var YY=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).on(Jt(e),"touchmove",e.handleMouseMove),e.on("touchstart",e.handleMouseDown),e.seekBar.off(["touchmove","touchstart"]),e}E(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(t){this.seekBar.handleMouseMove(t)},i.handleMouseDown=function(t){this.seekBar.handleMouseDown(t)},n}($$.getComponent("ProgressControl"));i.Lr.dn&&$$.registerComponent("ProgressControl",YY);var QY=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.updateDataAttr=function(){var t=K$(this.player()),n=this.oTt(t);this.el().setAttribute("data-current-time",n),this.tooltip.innerHTML=n},i.oTt=function(t){var n=this.player();return eY(t-J$(n),nY(n))},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-tooltip-progress-bar vjs-slider-bar "+t.prototype.buildCSSClass.call(this)},n}($$.getComponent("TooltipProgressBar"));function ZY(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.enabled)return i}}function KY(t){if(t)return t.label&&""!==t.label?{name:t.label,hd:!1}:{name:JY(t),description:tQ(t),hd:!!t.height&&t.height>=720}}function JY(t){return t.height?t.height+"p":t.bandwidth?tQ(t):""}function tQ(t){return t.bandwidth?t.bandwidth>1e7?(t.bandwidth/1e6).toFixed(0)+"Mbps":t.bandwidth>1e6?(t.bandwidth/1e6).toFixed(1)+"Mbps":(t.bandwidth/1e3).toFixed(0)+"kbps":""}$$.registerComponent("TooltipProgressBar",QY);var nQ=function(){function t(t){this.MTt=void 0,this.jTt=[],this.MTt=t}var n=t.prototype;return n.FTt=function(t){var n=this.UTt;if(n)for(var i=0;i<n.length;i++){var e=n[i];if(e.M$===t)return e}},n.HTt=function(t){var n=this,i=this.MTt.addMenuItem();return i.M$=t,i.on("click",function(){return n.XTt(i)}),i.el().setAttribute("role","menuitemradio"),i},n.VTt=function(t){t.dispose()},n.zTt=function(t){return!0},n.WTt=function(t){if(this.zTt(t)){Qs(this.jTt,t)||this.jTt.push(t);var n=this.FTt(t)||this.HTt(t);return this.qTt(n),n}this.GTt(t)},n.GTt=function(t){var n=this.FTt(t);n&&(this.MTt.removeMenuItem(n),this.VTt(n)),$s(this.jTt,t)},n.jAt=function(){for(var t=[],n=0,i=this.jTt;n<i.length;n++){var e=i[n];t.push(e)}for(var r=0;r<t.length;r++){var s=t[r];this.GTt(s)}Ks(t)},T(t,[{key:"$Tt",get:function(){return this.jTt},set:function(t){for(var n=this.jTt,i=n.length-1;i>=0;i--){var e=n[i];Qs(t,e)||this.GTt(e)}for(var r=0;r<t.length;r++){var s=t[r];this.WTt(s)}this.MTt.yAt()}},{key:"UTt",get:function(){return this.MTt.menuItems}}]),t}(),iQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n.subMenu)||this).YTt=void 0,r.qkt=void 0,r.QTt=void 0,r.ZTt=void 0,r.KTt=void 0,r.JTt=void 0,r.tSt=void 0,r.nSt=void 0,r.iSt=void 0,r.eSt=function(){var t=ZY(r.qkt.videoTracks);if(t!==r.ZTt){var n=[];if(r.ZTt&&(r.ZTt.removeEventListener("activequalitychanged",r.rSt),r.ZTt.removeEventListener("targetqualitychanged",r.sSt),r.ZTt.removeEventListener("update",r.KC)),r.ZTt=t,t){t.addEventListener("activequalitychanged",r.rSt),t.addEventListener("targetqualitychanged",r.sSt),t.addEventListener("update",r.KC);var i=rQ(oQ(t.qualities.filter(function(t){return t.available})));n=[void 0].concat(i)}r.$Tt=n,r.sSt(),r.rSt()}},r.KC=function(t){var n=t.track;if(n===r.ZTt){var i=rQ(oQ(n.qualities.filter(function(t){return t.available}))),e=n&&aQ(n.targetQuality);r.KTt=r.uSt(e,i),r.$Tt=[void 0].concat(i),r.oSt()}},r.rSt=function(){r.WTt(void 0),r.oSt()},r.sSt=function(){var t=ZY(r.qkt.videoTracks),n=t&&aQ(t.targetQuality),i=r.uSt(n),e=r.KTt;i!==e&&(r.KTt=i,i&&e||r.WTt(void 0),e&&Qs(r.$Tt,e)&&r.WTt(e),n&&r.WTt(i),r.oSt())},r.iAt=function(){Ix(r.MTt.menuHeader.el(),r.QTt.localize("Quality")),Ix(r.JTt,r.QTt.localize("Quality")),Ix(r.tSt,r.QTt.localize("Automatic")),Ix(r.nSt,r.QTt.localize("Automatic")),Ix(r.iSt,r.QTt.localize("HD")),r.YTt.el().setAttribute("aria-label",r.QTt.localize("Open the video quality settings menu"));for(var t=0,n=r.UTt;t<n.length;t++){var i=n[t];r.qTt(i)}r.oSt()},r.YTt=n,r.qkt=i,r.QTt=e,r.JTt=r.aSt(),r.tSt=r.hSt(),r.nSt=r.cSt(),r.iSt=r.fSt(),r.lSt(),Ix(r.MTt.menuHeader.el(),r.QTt.localize("Quality")),r.$Tt=[void 0],r.qkt.videoTracks.addEventListener(["addtrack","removetrack","change"],r.eSt),r.QTt.on("languagechange",r.iAt),r.eSt(),r}E(n,t);var i=n.prototype;return i.aSt=function(){return this.JTt=s.createElement("span"),this.JTt.className="theo-settings-control-menu-item-title",Ix(this.JTt,this.QTt.localize("Quality")),this.JTt},i.hSt=function(){return this.tSt=s.createElement("span"),this.tSt.className="theo-settings-control-menu-quality-automatic",Ix(this.tSt,this.QTt.localize("Automatic")),this.tSt},i.cSt=function(){return this.nSt=s.createElement("span"),Ix(this.nSt,this.QTt.localize("Automatic")),this.nSt},i.fSt=function(){return this.iSt=s.createElement("span"),this.iSt.className="theo-primary-color theo-settings-control-menu-item-hd-label",Ix(this.iSt,this.QTt.localize("HD")),this.iSt},i.lSt=function(){var t=s.createElement("span");t.className="theo-primary-color theo-settings-control-menu-item-value",t.appendChild(this.tSt),t.appendChild(s.createTextNode(" ")),t.appendChild(this.nSt),t.appendChild(s.createTextNode(" ")),t.appendChild(this.iSt),this.YTt.el().appendChild(this.JTt),this.YTt.el().appendChild(t),this.YTt.el().setAttribute("aria-label",this.QTt.localize("Open the video quality settings menu"))},i.oSt=function(){var t=this.ZTt,n=t&&aQ(t.targetQuality),i=t&&t.activeQuality,e=KY(this.uSt(n||i))||{name:this.QTt.localize("Automatic")};Ix(this.nSt,e.name),or(this.tSt,"vjs-hidden",!!n),or(this.iSt,"vjs-hidden",!e.hd)},i.qTt=function(t){var n=KY(t.M$)||{name:this.QTt.localize("Automatic")},i=n.name;n.hd&&(i+='<span class="theo-primary-color theo-settings-control-menu-item-hd-label">'+this.QTt.localize("HD")+"</span>"),n.description&&(i+='<span class="theo-settings-control-submenu-item-alternate-value">'+n.description+"</span>"),t.el().innerHTML=i,t.el().setAttribute("aria-label",this.QTt.localize("Set video quality to ")+n.name),t.M$?t.selected(t.M$===this.KTt):t.selected(!this.KTt)},i.XTt=function(t){this.ZTt&&(this.ZTt.targetQuality=t.M$&&t.M$.videoQualities)},i.uSt=function(t,n){for(var i=n||this.$Tt,e=0;e<i.length;e++){var r=i[e];if(t&&r&&-1!==r.videoQualities.indexOf(t))return r}},i.jAt=function(){this.qkt.videoTracks.removeEventListener(["addtrack","removetrack","change"],this.eSt),this.QTt.off("languagechange",this.iAt),this.ZTt&&(this.ZTt.removeEventListener("activequalitychanged",this.rSt),this.ZTt.removeEventListener("targetqualitychanged",this.sSt),this.ZTt.removeEventListener("update",this.KC)),t.prototype.jAt.call(this)},n}(nQ),eQ=function(){function t(t){this.vSt=t}return t.prototype.add=function(t){this.vSt.push(t)},T(t,[{key:"height",get:function(){return this.vSt[0].height}},{key:"bandwidth",get:function(){return this.vSt[0].bandwidth}},{key:"videoQualities",get:function(){return this.vSt}},{key:"label",get:function(){return this.vSt[0].label}}]),t}();function rQ(t){for(var n,i,e=[],r=0;r<t.length;r++){for(var s=t[r],u=!1,o=0;o<e.length;o++){var a=e[o];if(i=s,(n=a).label&&i.label&&n.label===i.label||km(KY(n),KY(i))){a.add(s),u=!0;break}}u||e.push(new eQ([s]))}return e}function sQ(t,n){return t&&n?Xs(t,n):Os.Is}function uQ(t,n){return t===n?Os.Is:sQ(t.height,n.height)||sQ(t.width,n.width)||sQ(t.bandwidth,n.bandwidth)}function oQ(t){return Ms(t,uQ).reverse()}function aQ(t){return V(t)?1===t.length?t[0]:void 0:t}function hQ(t){return 1===t?"Normal":""+g.round(100*t)/100}var cQ=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n.subMenu)||this).YTt=void 0,s.qkt=void 0,s.QTt=void 0,s.dSt=void 0,s.JTt=void 0,s.wSt=void 0,s.gSt=function(){s.dSt&&s.WTt(s.dSt);var t=s.qkt.playbackRate;s.dSt=t,Ix(s.wSt,s.QTt.localize(hQ(t))),t&&s.WTt(t)},s.iAt=function(){Ix(s.MTt.menuHeader.el(),s.QTt.localize("Speed")),Ix(s.JTt,s.QTt.localize("Speed")),s.YTt.el().setAttribute("aria-label",s.QTt.localize("Open the video speed settings menu"));for(var t=0,n=s.UTt;t<n.length;t++){var i=n[t];s.qTt(i)}s.gSt()},s.YTt=n,s.qkt=i,s.QTt=e,s.JTt=s.aSt(),s.wSt=s.lSt(),Ix(s.MTt.menuHeader.el(),s.QTt.localize("Speed")),s.$Tt=r,s.qkt.addEventListener("ratechange",s.gSt),s.QTt.on("languagechange",s.iAt),s.gSt(),s}E(n,t);var i=n.prototype;return i.aSt=function(){return this.JTt=s.createElement("span"),this.JTt.className="theo-settings-control-menu-item-title",Ix(this.JTt,this.QTt.localize("Speed")),this.JTt},i.lSt=function(){var t=s.createElement("span");return t.className="theo-primary-color theo-settings-control-menu-item-value",this.YTt.el().appendChild(this.JTt),this.YTt.el().appendChild(t),this.YTt.el().setAttribute("aria-label",this.QTt.localize("Open the video speed settings menu")),t},i.HTt=function(n){var i=t.prototype.HTt.call(this,n);return this.qTt(i),i},i.qTt=function(t){var n=t.M$,i=this.QTt.localize(hQ(n));Ix(t.el(),i),t.el().setAttribute("aria-label",this.QTt.localize("Set video speed to "+i)),t.selected(t.M$===this.qkt.playbackRate)},i.XTt=function(t){this.qkt.playbackRate=t.M$},i.jAt=function(){this.qkt.removeEventListener("ratechange",this.gSt),this.QTt.off("languagechange",this.iAt),t.prototype.jAt.call(this)},n}(nQ),fQ=function(t){function n(n,i){var e,r,s;(s=t.call(this,n,i)||this).mSt=void 0,s.ySt=void 0,s.pSt=void 0,s._St=void 0,s.ZTt=void 0,s.mD=function(){var t=ZY(s.xkt.videoTracks);t!==s.ZTt&&(s.ZTt&&s.ZTt.removeEventListener("activequalitychanged",s.rSt),s.ZTt=t,t&&t.addEventListener("activequalitychanged",s.rSt),s.rSt())},s.rSt=function(){var t,n=null==(t=s.ZTt)?void 0:t.activeQuality,i=!!(n&&n.height>=720);s.player().toggleClass("theo-hd",i)},sr(s.menu.el(),"theo-settings-control-menu"),Ix(s.menu.menuHeader.el(),n.localize("Settings")),s.controlText("Settings"),s.xAt.FAt=s.controlText(),s.mSt=s.menu.addSubMenuItem({name:"QualityMenuItem"}),s.ySt=new iQ(s.mSt,s.xkt,n);var u=null!=(e=null==i?void 0:null==(r=i.playerOptions)?void 0:r.playbackRates)?e:[];return s.pSt=s.menu.addSubMenuItem({name:"PlaybackRateMenuItem"}),s._St=new cQ(s.pSt,s.xkt,n,u),s.xkt.videoTracks.addEventListener(["addtrack","removetrack","change"],s.mD),s.mD(),s}E(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return this.bSt=$$.createEl("span",{className:"theo-settings-control-label-hd theo-primary-background"}),Ix(this.bSt,this.localize("HD")),n.appendChild(this.bSt),n},i.buildCSSClass=function(){return"vjs-icon-cog theo-settings-control-button "+t.prototype.buildCSSClass.call(this)},i.iAt=function(){t.prototype.iAt.call(this),Ix(this.bSt,this.localize("HD")),Ix(this.menu.menuHeader.el(),this.localize("Settings"))},i.dispose=function(){this.ZTt&&(this.ZTt.removeEventListener("activequalitychanged",this.rSt),this.ZTt=void 0),this.xkt.videoTracks.removeEventListener(["addtrack","removetrack","change"],this.mD),this.ySt.jAt(),this._St.jAt(),t.prototype.dispose.call(this)},n}(EY);$$.registerComponent("SettingsButton",fQ);var lQ=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).f$=void 0,e.kSt=function(t){var n=t.track;e.WTt(n),n.addEventListener("update",e.ASt)},e.TSt=function(t){var n=t.track;e.GTt(n),n.removeEventListener("update",e.ASt)},e.SSt=function(t){return e.ESt()},e.ASt=function(){for(var t=0,n=e.$Tt;t<n.length;t++){var i=n[t];e.WTt(i)}},e.f$=i,e.f$.addEventListener("addtrack",e.kSt),e.f$.addEventListener("removetrack",e.TSt),e.f$.addEventListener("change",e.SSt),e.ESt(),e}E(n,t);var i=n.prototype;return i.ISt=function(t){var n=t.label;if(n)return n;var i=t.language;if(i){var e=vj(i);if(e)return e.eb}return i||""},i.ESt=function(){this.$Tt=this.f$},i.jAt=function(){this.f$.removeEventListener("addtrack",this.kSt),this.f$.removeEventListener("removetrack",this.TSt),this.f$.removeEventListener("change",this.SSt),t.prototype.jAt.call(this)},n}(nQ),vQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i.audioTracks)||this).xkt=void 0,r.QTt=void 0,r.iAt=function(){Ix(r.MTt.menuHeader.el(),r.QTt.localize("Language"));for(var t=0,n=r.UTt;t<n.length;t++){var i=n[t];r.qTt(i)}},r.xkt=i,r.QTt=e,Ix(r.MTt.menuHeader.el(),r.QTt.localize("Language")),r.QTt.on("languagechange",r.iAt),r}E(n,t);var i=n.prototype;return i.qTt=function(t){var n=t.M$,i=this.ISt(n);Ix(t.el(),this.ISt(n)),t.el().setAttribute("aria-label",this.QTt.localize("Set the audio language to")+" "+i),t.selected(n.enabled)},i.XTt=function(t){for(var n=t.M$,i=0,e=this.xkt.audioTracks;i<e.length;i++){var r=e[i];r!==n&&(r.enabled=!1)}n.enabled=!0},i.jAt=function(){this.QTt.off("languagechange",this.iAt),t.prototype.jAt.call(this)},n}(lQ),dQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).RSt=void 0,e.minimumMenuItems=2,e.RSt=new vQ(e.menu,e.xkt,n),e.controlText("Language"),e.xAt.FAt=e.controlText(),e}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-audio theo-audio-track-control-button "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this.RSt.jAt(),t.prototype.dispose.call(this)},n}(EY);$$.registerComponent("audioTrackButton",dQ);var wQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i.textTracks)||this).xkt=void 0,r.QTt=void 0,r.iAt=function(){Ix(r.MTt.menuHeader.el(),r.QTt.localize("Subtitles"));for(var t=0,n=r.UTt;t<n.length;t++){var i=n[t];r.qTt(i)}},r.xkt=i,r.QTt=e,Ix(r.MTt.menuHeader.el(),e.localize("Subtitles")),r.QTt.on("languagechange",r.iAt),r}E(n,t);var i=n.prototype;return i.zTt=function(n){return!!t.prototype.zTt.call(this,n)&&(!n.forced&&qb(n.kind))},i.HTt=function(n){var i=this,e=t.prototype.HTt.call(this,n);sr(e.el(),"theo-text-track-menu-item");var r=s.createElement("span");e.x_=r;var u=s.createElement("div");u.className="theo-text-track-menu-item-toggle",e.Uit=u;var o=function(t){return i.CSt(t,e)};e.DSt=o,u.addEventListener("click",o);var a=s.createElement("div");return a.className="theo-text-track-menu-item-toggle-slider",u.appendChild(a),e.el().appendChild(r),e.el().appendChild(u),e},i.qTt=function(t){var n=t,i=n.M$,e=this.ISt(i);Ix(n.x_,e),n.el().setAttribute("aria-label",this.QTt.localize("Set the subtitle language to")+" "+e),n.el().setAttribute("role","menuitemcheckbox"),n.selected(i.mode===Mm.F_)},i.VTt=function(n){var i=n;i.Uit.removeEventListener("click",i.DSt),t.prototype.VTt.call(this,n)},i.XTt=function(t){for(var n,i,e=t.M$,r=0,s=this.xkt.textTracks;r<s.length;r++){var u=s[r];u!==e&&(n=u.kind,i=e.kind,Hb(n)&&Hb(i)&&(n===i||n===jb.Qb&&i===jb.$S||n===jb.$S&&i===jb.Qb))&&(u.mode=Mm.X_)}e.mode!==Mm.F_?e.mode=Mm.F_:e.mode=Mm.X_},i.CSt=function(t,n){t.stopImmediatePropagation(),this.XTt(n)},i.jAt=function(){this.QTt.off("languagechange",this.iAt),t.prototype.jAt.call(this)},n}(lQ),gQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).RSt=void 0,e.RSt=new wQ(e.menu,e.xkt,n),e.controlText("Subtitles"),e.xAt.FAt=e.controlText(),e}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-subtitles theo-text-track-control-button "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this.RSt.jAt(),t.prototype.dispose.call(this)},n}(EY);$$.registerComponent("subtitlesButton",gQ);var mQ,yQ=$$.getComponent("playToggle");!function(t){t.Ef="Pause",t.If="Play",t.NSt="Replay"}(mQ||(mQ={}));var pQ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).xAt=void 0,r.jrt=function(){r.controlText(mQ.NSt),r.xAt.FAt=r.controlText()},r.controlText(mQ.If),r.xAt=new SY(Jt(r),r.controlText()),r.xkt.addEventListener("ended",r.jrt),r.on(n,"languagechange",r.iAt),i.Lr.Gt&&new gY(r.el()),r}E(n,t);var e=n.prototype;return e.handlePlay=function(n){t.prototype.handlePlay.call(this,n),this.controlText(mQ.Ef),this.xAt.FAt=this.controlText()},e.handlePause=function(n){this.xkt.ended||(t.prototype.handlePause.call(this,n),this.controlText(mQ.If),this.xAt.FAt=this.controlText())},e.iAt=function(){this.xAt.FAt=this.controlText()},e.dispose=function(){this.xAt.jAt(),this.xkt.removeEventListener("ended",this.jrt),t.prototype.dispose.call(this)},n}(wY(yQ));$$.registerComponent("playToggle",pQ);var _Q,bQ=$$.getComponent("fullscreenToggle");!function(t){t.PSt="Exit fullscreen",t.xSt="Fullscreen"}(_Q||(_Q={}));var kQ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).xAt=void 0,r.controlText(_Q.xSt),r.xAt=new SY(Jt(r),r.controlText()),i.Lr.Gt&&new gY(r.el()),r.on(n,"languagechange",r.updateContent),r}E(n,t);var e=n.prototype;return e.handleClick=function(n){this.xkt.prepareWithUserAction(),t.prototype.handleClick.call(this,n)},e.handleFullscreenChange=function(n){t.prototype.handleFullscreenChange.call(this,n),this.updateContent()},e.updateContent=function(){var t=this.player().isFullscreen()?_Q.PSt:_Q.xSt;this.controlText(t),this.xAt.FAt=this.controlText()},e.dispose=function(){this.xAt.jAt(),t.prototype.dispose.call(this)},n}(wY(bQ));$$.registerComponent("fullscreenToggle",kQ);var AQ,TQ=$$.getComponent("muteToggle");!function(t){t.BSt="Unmute",t.OSt="Mute"}(AQ||(AQ={}));var SQ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).xAt=void 0,r.controlText(AQ.OSt),r.xAt=new SY(Jt(r),r.controlText()),i.Lr.Gt&&new gY(r.el()),r.on(n,"languagechange",r.iAt),_r&&(r.removeClass("vjs-hidden"),r.on(n,"loadstart",function(){r.removeClass("vjs-hidden")})),r}E(n,t);var e=n.prototype;return e.update=function(n){t.prototype.update.call(this,n),this.iAt()},e.iAt=function(){var t=this.player().muted()?AQ.BSt:AQ.OSt;this.controlText(t),this.xAt.FAt=this.controlText()},e.dispose=function(){this.xAt.jAt(),t.prototype.dispose.call(this)},n}(TQ);$$.registerComponent("muteToggle",SQ);var EQ=$$.getComponent("BigPlayButton"),IQ=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this),i=$$.createEl("div",{className:"theo-big-play-button-svg-container"});return i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150" fill="currentColor">\n  <circle cx="75" cy="75" r="73" fill="#000" fill-opacity="0.2"></circle>\n  <circle cx="75" cy="75" r="73" class="theo-play-svg-circle" stroke-width="4" stroke="currentColor" fill="none" transform="rotate(-90,75,75)"></circle>\n  <g transform="translate(85,75) scale(0.5625) translate(-75,-75)">\n    <path d="m 123.89639,85.432 c -12.865,9.167 -29.482997,19.402 -49.848997,30.7 -19.634,11.035 -36.851,19.7 -51.65,26 l -16.3990002,6.099 c -1.033,-4.433 -2,-11.002 -2.9,-19.7 -2.033,-17.333 -3.04999998,-36.466 -3.04999998,-57.399 0,-19.167 1.38199998,-37.081 4.14799998,-53.75 l 4.0019995,-19.1499994 17.3990007,5.849 c 15.068,5.9999994 31.401,14.5169994 49,25.5509994 18.631,11.666 34.616997,22.766 47.948997,33.3 6.663,5.3 11.463,9.383 14.396,12.25 l -13.046,10.25"></path>\n  </g>\n</svg>',n.appendChild(i),n},i.buildCSSClass=function(){return"theo-primary-color "+t.prototype.buildCSSClass.call(this)},n}(EQ);$$.registerComponent("BigPlayButton",IQ);var RQ=/^([^#]*)#xywh=(\d+),(\d+),(\d+),(\d+)\s*$/;var CQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).LSt=void 0,e.MSt=void 0,e.jSt=void 0,e.FSt=function(t){return e.USt(t)},e.HSt=void 0,e.showThumbnails=function(){e.LSt&&(e.LSt.hidden=!1)},e.hideThumbnails=function(){e.LSt&&!e.player().scrubbing()&&(e.LSt.hidden=!0)},e.player().textTracks().on("addtrack",e.FSt),e.player().textTracks().on("removetrack",e.FSt),j.dn&&(e.on(n,"seeking",e.showThumbnails),e.on(n,"seeked",e.hideThumbnails)),e}E(n,t);var e=n.prototype;return e.USt=function(t){var n=t.track;"removetrack"===t.type&&n===this.MSt?(this.MSt=void 0,this.jSt=void 0,this.XSt(),this.HSt=void 0):"addtrack"===t.type&&"metadata"===n.kind&&"thumbnails"===n.label&&(this.MSt=n,this.jSt=n.src?i.Br(n.src).href:void 0)},e.createEl=function(){var n=t.prototype.createEl.call(this);return this.VSt=$$.createEl("img",{className:"theo-time-tooltip-thumbnail"}),this.zSt=$$.createEl("canvas",{className:"theo-time-tooltip-thumbnail"}),n},e.update=function(n,i){if(t.prototype.update.call(this,n,i),this.keepTooltipsInside){var e;if(this.MSt&&this.MSt.cues){var r=function(t,n){for(var i=t[0],e=0;e<t.length;e++){var r=t[e];if(r.startTime<=n)i=r;else if(n>=r.endTime)return i}return i}(this.MSt.cues,n);e=r&&r.content}if(e!==this.HSt)if(this.HSt=e,$$.toggleClass(this.el(),"theo-time-tooltip-has-thumbnail",!!e),e){var s=e.match(RQ);if(s){var u=s[1],o=s[2],a=s[3],h=s[4],c=s[5];u=this.WSt(u);var f={x_:+o,y_:+a,Tk:+h,sT:+c};this.qSt(u,f)}else{var l=this.WSt(e);this.qSt(l)}}else this.XSt()}},e.WSt=function(t){return this.MSt&&this.jSt?i.Br(t,this.jSt).href:t},e.qSt=function(t,n){var i=this;this.VSt&&(this.VSt.src!==t?(this.VSt.onload=function(){i.GSt(n)},this.VSt.src="",this.VSt.src=t):this.GSt(n))},e.GSt=function(t){if(this.zSt&&this.VSt){var n=this.zSt.getContext("2d");n&&(t=t||{x_:0,y_:0,Tk:this.VSt.naturalWidth,sT:this.VSt.naturalHeight},this.zSt.width=t.Tk,this.zSt.height=t.sT,n.drawImage(this.VSt,t.x_,t.y_,t.Tk,t.sT,0,0,t.Tk,t.sT),this.$St(this.zSt))}},e.$St=function(t){this.LSt||(this.tooltip.firstChild?this.tooltip.insertBefore(t,this.tooltip.firstChild):this.tooltip.appendChild(t),this.LSt=t)},e.XSt=function(){this.LSt&&this.tooltip.removeChild(this.LSt),j.dn&&(this.off(this.player(),"seeking",this.showThumbnails),this.off(this.player(),"seeked",this.hideThumbnails)),this.LSt=void 0},n}(HY);$$.registerComponent("MouseTimeDisplay",CQ);var DQ=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-volume-level "+t.prototype.buildCSSClass.call(this)},n}($$.getComponent("VolumeLevel"));$$.registerComponent("VolumeLevel",DQ);var NQ=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-menu-container "+t.prototype.buildCSSClass.call(this)},n}($$.getComponent("Component"));NQ.prototype.spt=Ur({},NQ.prototype.spt,{children:[]}),$$.registerComponent("controlBarMenuContainer",NQ);var PQ=$$.getComponent("Player"),xQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).handleKeyPress=function(t){9===t.which&&r.addClass("theo-probably-keyboard-focus")},r.handleClick=function(t){0===t.x&&0===t.y||r.removeClass("theo-probably-keyboard-focus")},s.body.addEventListener("keydown",r.handleKeyPress),s.body.addEventListener("click",r.handleClick),r}return E(n,t),n.prototype.dispose=function(){var n=this.el(),i=this.contentEl(),e=n.parentNode,r=n.nextSibling;t.prototype.dispose.call(this),nr(i),this.Wpt&&e&&(r?e.insertBefore(n,r):e.appendChild(n)),s.body.removeEventListener("keydown",this.handleKeyPress),s.body.removeEventListener("click",this.handleClick)},n}(PQ);xQ.prototype.spt=Ur({},PQ.prototype.spt,{children:["bigPlayButton","AdControlPanel","TopControlBar","mediaLoader","upNextContainer","posterImage","chromecastOverlay","controlBarMenuContainer","controlBar","textTrackDisplay","loadingSpinner","errorDisplay","textTrackSettings"]}),$$.registerComponent("Player",xQ);var BQ=$$.getComponent("Player"),OQ=BQ.prototype.Abt;BQ.prototype.Abt=function(t){if(!(this.gpt&&this.gpt.Wkt&&this.gpt.Wkt()))return OQ.call(this,t)};var LQ,MQ=BQ.prototype.createEl;function jQ(t,n,e,s){var u=Ur({controls:!0,playbackRates:[.25,.5,1,1.25,1.5,2]},e);u.controlBar=Ur({progressControl:{keepTooltipsInside:!0}},u.controlBar);var o,a=u.techOrder||(u.techOrder=[]);(-1===a.indexOf("THEOplayer")&&a.unshift("THEOplayer"),(u.theoplayer||(u.theoplayer={})).player=t,e&&W(e.language))&&(u.languages=Ur({},u.languages,((o={})[lj]=e.language,o)),u.language=lj);n.setAttribute("data-vjs-player","");var h,c,f,l=n.getAttribute("style"),v=$$(t.element,u,s);return v.ready(function(){!function(t){t.on("timeupdate",rY),t.on("durationchange",rY)}(v),oY(v,t),function(t){t.on("mouseleave",aY)}(v)}),n.removeAttribute("data-vjs-player"),l?n.setAttribute("style",l):n.removeAttribute("style"),i.Lr.dn&&(sr(n,"theo-mobile"),h=n,c=r.outerHeight,f=r.outerWidth,c>f?(ur(h,"theo-mobile-landscape"),sr(h,"theo-mobile-portrait")):(ur(h,"theo-mobile-portrait"),sr(h,"theo-mobile-landscape"))),function(t){t.on("seeking",function(){rr(t.el(),"vjs-ended")&&t.currentTime()!==t.duration()&&t.play()})}(v),v}function FQ(t){return function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).YSt=void 0,r.QSt=void 0,r.ZSt=void 0,r.YSt=n,r.ZSt=t.prototype.qw.call(Jt(r)),w.defineProperty(r.ZSt,"constructor",{value:CC}),r.QSt=jQ(r.ZSt,r.YSt,e.ui),r}E(n,t);var i=n.prototype;return i.qw=function(){return t=this.ZSt,n=this,_m(w.create(t),{get controls(){return n.Fpt},set controls(t){n.Fpt=Sm(t)},get ui(){return n.QSt}});var t,n},i.Sd=function(){t.prototype.Sd.call(this),this.QSt.dispose()},i.Om=function(n){this.QSt.src(""),t.prototype.Om.call(this,n)},T(n,[{key:"Fpt",get:function(){return this.QSt.controls()},set:function(t){this.QSt.controls(t)}}]),n}(t)}function UQ(){return LQ||(LQ=function(t,n){var i=t;if(eC[n])for(var e=0,r=eC[n];e<r.length;e++)i=(0,r[e])(i);return i}(LQ=FQ(RC()),JR.xU)),LQ}function HQ(t){return{get ratio(){return t.KSt},get thresholds(){return t.JSt.slice()}}}function XQ(t){var n=[],i=g.floor(1/t);if(p(i))return[];for(var e=0;e<=i;e++){var r=Ft(e*t,0,1);n.push(r)}return n}BQ.prototype.createEl=function(){var t=MQ.call(this),n=$$.createEl("div");for(n.className="theo-player-wrapper";t.firstChild;)n.appendChild(t.firstChild);return t.appendChild(n),this.cpt=n,t};var VQ=function(){function t(t,n,i){this.tEt=1,this.nEt=void 0,this.iEt=void 0,this.Ww=void 0,this.nEt=XQ(n);var e=this.eEt(i);this.iEt=new r.IntersectionObserver(e,{root:null,threshold:this.nEt}),this.iEt.observe(t)}var n=t.prototype;return n.eEt=function(t){var n=this;return function(i){var e=i[i.length-1];n.tEt=e.intersectionRatio,t(e.intersectionRatio)}},n.Pm=function(){this.iEt.disconnect()},T(t,[{key:"KSt",get:function(){return this.tEt}},{key:"JSt",get:function(){return this.nEt}},{key:"Gw",get:function(){return this.Ww||(this.Ww=HQ(this)),this.Ww}}]),t}(),zQ=function(t){function n(n,i,e){var s;return(s=t.call(this,i,e)||this).rEt=void 0,s.sEt=tt(function(){return s.uEt(s.oEt())},50),s.rEt=n,r.addEventListener("scroll",s.sEt,!!BI&&{passive:!0}),yu(function(){return s.uEt(s.oEt())}),s}E(n,t);var i=n.prototype;return i.oEt=function(){var t=this.rEt.getBoundingClientRect();return Ft(g.max(0,g.min(r.innerWidth,t.right)-g.max(0,t.left))*g.max(0,g.min(r.innerHeight,t.bottom)-g.max(0,t.top))/(t.width*t.height),0,1)},i.Pm=function(){r.removeEventListener("scroll",this.sEt)},n}(function(){function t(t,n){this.nEt=void 0,this.aEt=void 0,this.tEt=1,this.hEt=-1,this.Ww=void 0,this.nEt=XQ(t),this.aEt=n}return t.prototype.uEt=function(t){this.tEt=t;var n=this.nEt,i=0;if(t>0)for(;i<n.length&&n[i]<=t;)++i;this.hEt!==i&&(this.hEt=i,this.aEt(t))},T(t,[{key:"KSt",get:function(){return this.tEt}},{key:"JSt",get:function(){return this.nEt}},{key:"Gw",get:function(){return this.Ww||(this.Ww=HQ(this)),this.Ww}}]),t}()),WQ=$$.getComponent("Button");var qQ=function(t){function n(n,i){var e;if((e=t.call(this,n,i)||this).cEt=void 0,e.controlText("Close Picture-in-Picture"),!function(t){return!!t&&Boolean(t.cEt)}(i))throw new l("Invalid Picture-in-picture options.");return e.cEt=i.cEt,e}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-close-button theo-pip-close"},i.handleClick=function(){this.cEt.fEt()},n}(WQ);$$.registerComponent("THEOPiPCloseButton",qQ);var GQ=.1,$Q=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).lEt=void 0,r.Qy=void 0,r.vEt=void 0,r.fN=void 0,r.rEt=void 0,r.tY=!1,r.hk=!1,r.dEt=!1,r.wEt=!1,r.gm=!1,r.fEt=void 0,r.gEt=!1,r.mEt=void 0,r.yEt=void 0,r.pEt=void 0,r._Et=!1,r.bEt=void 0,r.kEt=function(){r.tY=!0,r.bEt&&!r.dk&&r.mEt&&r.lEt&&r.mEt.KSt<=r.lEt&&r.Xy(!1)},r.AEt=function(){r.vEt||(r.tY=!1,r.Fy(!1))},r.iAt=function(){if(r.pEt){var t=r.fN.QSt;Ix(r.pEt,t.localize("Video playing in Picture-in-Picture mode"))}},r.TEt=function(t){!r.wEt&&r.bEt&&(p(t)||(r.lEt&&t<=r.lEt||r._Et?r.hk||r.dEt||r.Xy(!1):r.hk?r.Fy(!1):r.dEt=!1))},r.lEt=i.visibility,r.Qy=i.position,r.vEt=i.retainPresentationModeOnSourceChange,r.bEt=void 0!==r.lEt,r.fN=n,r.rEt=n.YSt,r.fEt=e,r.Gft(),r}E(n,t);var i=n.prototype;return i.Gft=function(){this.fN.Zs("play",this.kEt),this.vEt||this.fN.Zs("sourcechange",this.AEt),this.fN.QSt.on("languagechange",this.iAt)},i.SEt=function(){var t=this.Qy;if(t)return"theo-pip-"+t},i.Xy=function(t){var n=this.rEt;if(n&&!this.EEt){this.gm||this.IEt(),this.REt(),sr(n,"theo-pip");var i=this.SEt();i&&sr(n,i),this.hk=!0,this.wEt=t,this.dEt=!1,this.Qs(new FS(jS.PICTURE_IN_PICTURE))}},i.Fy=function(t){var n=this.rEt;if(n){this.CEt(),ur(n,"theo-pip");var i=this.SEt();i&&ur(n,i),this.hk=!1,this.dEt=t,this._Et=this.wEt,this.wEt=!1,this.Qs(new FS(jS.INLINE))}},i.IEt=function(){if(!this.gm){var t=this.fN.QSt;t.addChild("THEOPiPCloseButton",{cEt:this});var n=s.createElement("div");n.className="theo-pip-overlay",this.pEt=s.createElement("div"),this.pEt.className="theo-pip-overlay-text",Ix(this.pEt,t.localize("Video playing in Picture-in-Picture mode")),n.appendChild(this.pEt),t.el().appendChild(n),this.yEt=n,this.gm=!0}},i.DEt=function(){this.bEt&&!this.gEt&&this.fN.NEt&&(this.mEt=this.fN.NEt.PEt(GQ,this.TEt),this.gEt=!0)},i.xEt=function(){this.mEt&&this.fN.NEt&&(this.fN.NEt.BEt(this.mEt),this.gEt=!1)},i.REt=function(){var t=this.fN.QSt.contentEl(),n=t.getBoundingClientRect(),i=s.documentElement.clientWidth,e=s.documentElement.clientHeight;t.style.top=n.top+"px",t.style.bottom=e-n.bottom+"px",t.style.right=i-n.right+"px",t.style.left=n.left+"px",t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.position="fixed"},i.CEt=function(){var t=this.fN.QSt.contentEl();t.style.top="",t.style.bottom="",t.style.right="",t.style.left="",t.style.width="",t.style.height="",t.style.position=""},i.OEt=function(){ur(this.rEt,"theo-pip"),this.dk&&this.Qy&&ur(this.rEt,"theo-pip-"+this.Qy),this.yEt&&(nr(this.yEt),this.yEt=void 0)},i.Sd=function(){this.OEt(),this.xEt(),this.$s(),this.fN.tu("play",this.kEt),this.fN.tu("sourcechange",this.AEt),this.fN.QSt.off("languagechange",this.iAt)},T(n,[{key:"dk",get:function(){return this.hk}},{key:"EEt",get:function(){return this.fN.lC()}}]),n}($m),YQ=function(){function t(t){this.rEt=void 0,this.LEt=1,this.MEt=0,this.jEt=[],this.Ww=void 0,this.rEt=t,this.PEt(GQ,this.FEt())}var n=t.prototype;return n.FEt=function(t){var n=this;return function(i){n.LEt=i,null==t||t(n.LEt)}},n.PEt=function(t,n){if(p(t))throw new v("step is not of the right type");if(t>1||t<=0)throw new RangeError("The step must be a number greater than 0 and smaller than or equal to 1");var i;return i="function"==typeof r.IntersectionObserver?new VQ(this.rEt,t,this.FEt(n)):new zQ(this.rEt,t,this.FEt(n)),this.jEt.push(i),i},n.BEt=function(t){t.Pm(),$s(this.jEt,t)},n.UEt=function(t){for(var n=0,i=this.jEt;n<i.length;n++){var e=i[n];if(e.Gw===t)return e}},n.Sd=function(){for(var t=0,n=this.jEt;t<n.length;t++){n[t].Pm()}Ks(this.jEt)},T(t,[{key:"HEt",get:function(){return this.LEt}},{key:"lEt",get:function(){return this.MEt},set:function(t){if(p(t)||t<0||t>1)throw new RangeError("The threshold must be a value between 0 and 1");this.MEt=t}},{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=(t=this,{get ratio(){return t.HEt},get visible(){return t.HEt>t.lEt},get visibleThreshold(){return t.lEt},set visibleThreshold(n){n=Em(n),t.lEt=n},addObserver:function(n,i){return n=Em(n),t.PEt(n,i).Gw},removeObserver:function(n){var i=t.UEt(n);i&&t.BEt(i)}})),this.Ww}}]),t}();rC(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).NEt=void 0,e.NEt=new YQ(n),e}E(n,t);var i=n.prototype;return i.qw=function(){var n=this;return _m(t.prototype.qw.call(this),{get visibility(){return n.NEt.Gw}})},i.Sd=function(){this.NEt&&(this.NEt.Sd(),this.NEt=void 0),t.prototype.Sd.call(this)},n}(t)},KR.OU),sC(function(t){return function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).NEt=void 0,r.NEt=new YQ(n),r}E(n,t);var i=n.prototype;return i.qw=function(){var n=this;return _m(t.prototype.qw.call(this),{get visibility(){return n.NEt.Gw}})},i.Sd=function(){this.NEt&&(this.NEt.Sd(),this.NEt=void 0),t.prototype.Sd.call(this)},n}(t)},JR.xU);var QQ=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).mN=void 0,r.XEt=void 0,r.VEt=function(){return r.KC()},r.fEt=function(){return r.$C(jS.INLINE)},r.zEt=function(){r.JC()!==jS.FULLSCREEN&&r.XEt.DEt(),r.mN.tu("play",r.zEt)},r.mN=n,r.XEt=new $Q(n,e.pip,r.fEt),r.XEt.Zs("presentationmodechange",r.VEt),r.mN.Zs("play",r.zEt),r.KC(),r}E(n,t);var i=n.prototype;return i.JC=function(){var n=t.prototype.JC.call(this);return n===jS.INLINE&&this.XEt&&this.XEt.dk?jS.PICTURE_IN_PICTURE:n},i.tP=function(n){switch(n){case jS.PICTURE_IN_PICTURE:return!0;default:return t.prototype.tP.call(this,n)}},i.nP=function(n,i){n===jS.FULLSCREEN&&this.XEt.xEt(),t.prototype.nP.call(this,n,i),n!==jS.FULLSCREEN&&this.XEt.DEt()},i.iP=function(n,i){n!==i&&(n===jS.FULLSCREEN&&this.XEt.Fy(!1),n===jS.INLINE&&i===jS.PICTURE_IN_PICTURE&&this.XEt.Fy(!0),t.prototype.iP.call(this,n,i),n===jS.PICTURE_IN_PICTURE&&(i===jS.INLINE?this.XEt.Xy(!0):this.XEt.Xy(!1)))},i.Sd=function(){t.prototype.Sd.call(this),this.XEt.Sd()},n}(VS),ZQ=function(t){function n(n,i){var e;return(e=t.call(this)||this).QSt=void 0,e.WEt=void 0,e.Okt=!1,e.qEt=!1,e.ux=!1,e.GEt=function(){if(!e.ux){var t=e.Okt,n=e.lC;t!==n&&(e.Okt=n,e.Qs(new HI))}},e.$Et=function(){e.qEt=e.WEt.lC,e.GEt()},e.YEt=function(){e.ux||(e.QSt.isFullWindow&&e.QSt.supportsFullScreen()||e.qEt&&!e.QSt.supportsFullScreen())&&(e.ux=!0,e.QSt.exitFullscreen(),e.QSt.requestFullscreen(),e.ux=!1,e.GEt())},e.QSt=n,e.WEt=i,e.QSt.on("fullscreenchange",e.GEt),e.WEt.Zs(gS.r_,e.$Et),e.WEt.Zs(gS.vC,e.YEt),e.WEt.Zs(gS.z_,e.js),e.GEt(),e}E(n,t);var i=n.prototype;return i.Xy=function(){this.QSt.requestFullscreen()},i.Fy=function(){this.QSt.exitFullscreen(),this.WEt.Fy()},i.Sd=function(){this.$s(),this.QSt.off("fullscreenchange",this.GEt),this.WEt.tu(gS.r_,this.GEt),this.WEt.tu(gS.z_,this.js)},T(n,[{key:"dC",get:function(){return zI.ZO(this.QSt.el())||this.QSt.supportsFullScreen()}},{key:"lC",get:function(){return this.QSt.isFullscreen()||this.qEt}}]),n}(Su);sC(function(t){return function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).QEt=void 0,r.ZEt=void 0,r.ZEt=new ZQ(r.QSt,r.XD),r.QEt=new QQ(Jt(r),r.ZEt,e),r.QEt.Zs("presentationmodechange",r.js),r}E(n,t);var i=n.prototype;return i.lC=function(){return"fullscreen"===this.QEt.JC()},i.qw=function(){var n=this.QEt;return _m(t.prototype.qw.call(this),{get presentation(){return n.Gw},get presentationMode(){return n.Gw.currentMode},set presentationMode(t){n.Gw.requestMode(t)}})},i.Sd=function(){this.QEt.Sd(),this.ZEt.Sd(),t.prototype.Sd.call(this)},n}(t)},JR.xU);var KQ=function(t){function n(n,e){var r,s;return(s=t.call(this,n,e)||this).rEt=void 0,s.me=void 0,s.xAt=void 0,s.rEt=n.el(),s.me=JS.UNAVAILABLE,s.controlText("Unavailable"),s.xAt=new SY(Jt(s),s.controlText()),null==(r=s.KEt)||r.addEventListener("statechange",function(t){var n=t;s.tkt(n.state)}),i.Lr.Gt&&new gY(s.el()),s.tkt(s.KEt?s.KEt.state:JS.UNAVAILABLE),s.on(n,"languagechange",s.iAt),s}E(n,t);var e=n.prototype;return e.buildCSSClass=function(){return"theo-cast-button theo-"+this.JEt+"-button theo-controlbar-button "+t.prototype.buildCSSClass.call(this)},e.createEl=function(n,i,e){var r=t.prototype.createEl.call(this),u=s.createElement("div");u.className="theo-button-icon-blur";var o=s.createElement("div");return o.className="theo-cast-svg-container",o.innerHTML=this.tIt,r.appendChild(u),r.appendChild(o),r},e.handleClick=function(n){var i;if(t.prototype.handleClick.call(this,n),this.me===JS.AVAILABLE)null==(i=this.KEt)||i.start();else if(this.me===JS.CONNECTED||this.me===JS.CONNECTING){var e;null==(e=this.KEt)||e.stop()}},e.tkt=function(t){ur(this.rEt,"theo-"+this.JEt+"-"+this.me),this.me=t,sr(this.rEt,"theo-"+this.JEt+"-"+this.me),this.iAt()},e.iAt=function(){this.nIt(this.me),this.xAt.FAt=this.controlText()},e.nIt=function(t){t===JS.CONNECTED?this.controlText("Stop Casting"):t===JS.AVAILABLE?this.controlText("Start Casting"):t===JS.CONNECTING?this.controlText("Connecting"):this.controlText("Unavailable")},T(n,[{key:"KEt",get:function(){throw new l("iIt")}},{key:"tIt",get:function(){return this.spt.tIt}},{key:"JEt",get:function(){return this.spt.JEt}}]),n}(wY($$.getComponent("Button"))),JQ='\n<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">\n    <path class="theo-cast-inner" d="M5 7h14v8H5z"/>\n    <path d="M6 22h12l-6-6zM21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v-2H3V5h18v12h-4v2h4c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>\n</svg>',tZ=function(t){function n(n,i){var e,r,s;return(s=t.call(this,n,Ur({},i,{JEt:"airplay",tIt:JQ}))||this).eIt=function(){s.enable()},s.rIt=function(){s.disable()},null==(e=s.xkt.ads)||e.addEventListener("adbreakbegin",s.rIt),null==(r=s.xkt.ads)||r.addEventListener("adbreakend",s.eIt),s.xkt.addEventListener("currentsourcechange",s.eIt),s}return E(n,t),n.prototype.dispose=function(){var n,i;null==(n=this.xkt.ads)||n.removeEventListener("adbreakbegin",this.rIt),null==(i=this.xkt.ads)||i.removeEventListener("adbreakend",this.eIt),this.xkt.removeEventListener("currentsourcechange",this.eIt),t.prototype.dispose.call(this)},T(n,[{key:"KEt",get:function(){var t;return null==(t=this.xkt.cast)?void 0:t.airplay}}]),n}(KQ);$$.registerComponent("airplayButton",tZ),rC(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Lct=new bz,e.Zs("presentationmodechange",function(t){t.presentationMode===jS.FULLSCREEN?e.enterFullscreen():e.exitFullscreen()}),e}E(n,t);var i=n.prototype;return i.enterFullscreen=function(){this.Lct.rK("THEOplayerFullscreen","true")},i.exitFullscreen=function(){this.Lct.rK("THEOplayerFullscreen","false")},n}(t)},KR.OU),n.ChromelessPlayer=CC,n.Player=function t(n,i){var e=function(t){var n=t=Uy(t);return n.ui=n.ui||{},void 0!==t.width&&void 0===n.ui.width&&(n.ui.width=t.width),void 0!==t.height&&void 0===n.ui.height&&(n.ui.height=t.height),void 0!==t.fluid&&void 0===n.ui.fluid&&(n.ui.fluid=t.fluid),n.pip=MS(n.pip),n}(i),r=s.createElement("div");r.style.position="absolute",n.appendChild(r);var u=new(UQ())(n,r,e),o=u.Gw;return u.EU(),u.gX(gC),w.defineProperty(o,"constructor",{value:t}),o=pm(o),cC(u),function(t){for(var n=0;n<aC.length;n++)(0,aC[n])(t)}(u),o},n.cache=XG,n.createGlobals=QV,n.features=PC,n.getCueMirrorMap=$V,n.getGlobalId=YV,n.getSdkEventBridge=GV,n.playerSuiteVersion="2022.4.2",n.players=xC,n.registerContentProtectionIntegration=BC,n.utils=NC,n.version="4.4.0",n.videojs=$$,w.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
