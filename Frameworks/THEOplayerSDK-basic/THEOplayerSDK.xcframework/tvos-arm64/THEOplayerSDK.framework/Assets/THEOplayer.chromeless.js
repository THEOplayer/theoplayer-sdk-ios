/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2023.1.2 (4.8.0)
 Created: 2023-02-06T11:31:19.177Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i=t.window,e=t.document,r=t.location,u=t.navigator,s=t.setTimeout,o=t.clearTimeout,c=t.setInterval,a=t.clearInterval,h=t.Error,f=t.TypeError,v=(t.SyntaxError,t.Object),d=t.Math,l=t.parseInt,w=t.parseFloat,g=t.isNaN,y=t.Uint8Array,m=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest);var _=s;function p(t){return Boolean(t&&void 0!==t.length)}function b(){}function k(t){if(!(this instanceof k))throw new f("Promises must be constructed via new");if("function"!=typeof t)throw new f("not a function");this.o=0,this.l=!1,this.g=void 0,this.p=[],D(t,this)}function T(t,n){for(;3===t.o;)t=t.g;0!==t.o?(t.l=!0,k.R(function(){var i=1===t.o?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.g)}catch(t){return void E(n.promise,t)}S(n.promise,e)}else(1===t.o?S:E)(n.promise,t.g)})):t.p.push(n)}function S(t,n){try{if(n===t)throw new f("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof k)return t.o=3,t.g=n,void R(t);if("function"==typeof i)return void D((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.o=1,t.g=n,R(t)}catch(n){E(t,n)}var e,r}function E(t,n){t.o=2,t.g=n,R(t)}function R(t){2===t.o&&0===t.p.length&&k.R(function(){t.l||k.I(t.g)});for(var n=0,i=t.p.length;n<i;n++)T(t,t.p[n]);t.p=null}function I(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function D(t,n){var i=!1;try{t(function(t){i||(i=!0,S(n,t))},function(t){i||(i=!0,E(n,t))})}catch(t){if(i)return;i=!0,E(n,t)}}k.prototype.catch=function(t){return this.then(null,t)},k.prototype.then=function(t,n){var i=new this.constructor(b);return T(this,new I(t,n,i)),i},k.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},k.all=function(t){return new k(function(n,i){if(!p(t))return i(new f("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,function(n){u(t,n)},i)}e[t]=s,0==--r&&n(e)}catch(t){i(t)}}for(var s=0;s<e.length;s++)u(s,e[s])})},k.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new f(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,function(n){u(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var s=0;s<e.length;s++)u(s,e[s])})},k.resolve=function(t){return t&&"object"==typeof t&&t.constructor===k?t:new k(function(n){n(t)})},k.reject=function(t){return new k(function(n,i){i(t)})},k.race=function(t){return new k(function(n,i){if(!p(t))return i(new f("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)k.resolve(t[e]).then(n,i)})},k.R="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){_(t,0)},k.I=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var O=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),N=u?u.userAgent:"",C=N.match(/Firefox\/([0-9]+)/i),A=null!=C,P=C?Number(C[1]):0,x=N.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),L=null!=x,B=x?Number(x[3]):0,M=function(){function t(t){this.N=0,this.C=0,this.P=[],this.B=t}return t.prototype.M=function(t){var n=this.length();this.F(n+1);var i=this.C+n&this.B-1;this.P[i]=t,this.N=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.B<n)this.M(t);else{var i=this.C+n-1,e=this.B-1;this.P[i&e]=t,this.N=n}},t.prototype.shift=function(){var t=this.C,n=this.P[t];return this.P[t]=void 0,this.C=t+1&this.B-1,this.N--,n},t.prototype.length=function(){return this.N},t.prototype.F=function(t){this.B<t&&this.U(this.B<<1)},t.prototype.U=function(t){var n=this.B;this.B=t;var i=this.C+this.N&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.P,0,n,i)},t}();var F="unhandledrejection",U=t.PromiseRejectionEvent,V=t.CustomEvent;function H(t){return new U(F,{reason:t,promise:O.reject(t).catch(function(){}),cancelable:!0})}function q(t){var n=new V(F,{detail:{reason:t},cancelable:!0});return v.defineProperty(n,"reason",{value:t}),n}function W(t){var n=e.createEvent("CustomEvent");return n.initCustomEvent(F,!1,!0,{reason:t}),n}var z,j,$,X,G,Y,K,J,Z,Q,tt,nt,it=function(t){return(it=function(){try{var t=O.resolve(),n=new U(F,{reason:"error",promise:t});return F===n.type&&"error"===n.reason}catch(t){}return!1}()?H:function(){try{var t=new V(F,{detail:{reason:"error"}});return F===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?q:W)(t)};if(O&&!(A&&P<60||L&&B<15))j=O;else{j=k;var et=null!==(z=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=O;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==z?z:k.R,rt=($=et,X=new M(16),G=!1,{V:function(t){X.push(t),G||(G=!0,$(Y))},H:Y=function(){for(;X.length()>0;)X.shift()();G=!1}});k.R=rt.V,k.I=function(n){try{var i=it(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}s(function(){throw new h("Unhandled promise rejection: ".concat(n))},0)}}var ut,st,ot,ct={W:function(){function t(){this.j=[]}var n=t.prototype;return n.X=function(){},n.G=function(t){return{Y:function(){return j.resolve()},K:function(){}}},n.J=function(t){throw new h("Not implemented")},n.Z=function(t){return j.resolve()},n.nt=function(t){return j.resolve()},n.it=function(t){},n.et=function(){},t}(),rt:function(){function t(){}var n=t.prototype;return n.ut=function(){return j.resolve("all")},n.st=function(){},n.et=function(){},t}(),ot:{ct:function(t){getActiveDocument().addEventListener("unload",t)},ht:function(t){getActiveDocument().removeEventListener("unload",t)}},ft:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function at(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function ht(t,n,i){return n&&at(t.prototype,n),i&&at(t,i),v.defineProperty(t,"prototype",{writable:!1}),t}function ft(t,n){return(ft=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function vt(t,n){t.prototype=v.create(n.prototype),t.prototype.constructor=t,ft(t,n)}function dt(t){st=t}Element.prototype.style={},K=(ut=ct).W,J=ut.rt,Z=ut.ot,Q=ut.ft,tt=Q&&Q.location,nt=Q&&Q.navigator,function(t){t.vt="web",t.dt="android",t.wt="android-tv",t.yt="ios",t._t="tvos",t.pt="chromecast"}(ot||(ot={}));var lt=u?u.userAgent:"",wt=lt.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),gt=lt.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),yt=lt.match(/Android ([0-9\.]+)/i),mt=lt.match(/Windows NT ([0-9\.]+)/i),_t=lt.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),pt=lt.match(/Firefox\/([0-9\.]+)/i),bt=lt.match(/OPR\/(\d+\.\d+)/i),kt=lt.match(/Tizen ([0-9\.]+)/i),Tt=lt.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),St=function(){function n(){this.bt=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||u&&u.msMaxTouchPoints),this.kt=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(lt)||/(macintosh|mac(?=_powerpc)\s)/i.test(lt),this.Tt=/Windows NT/i.test(lt),this.St=mt?w(mt[1]):0,this.Et=/Android/i.test(lt),this.Rt=yt?w(yt[1]):0,this.It=/windows phone (8|8\.1)/i.test(lt),this.Dt=/iPhone/i.test(lt),this.Ot=/iPad/i.test(lt),this.Nt=this.kt&&this.bt&&!this.Ot,this.Ct=/iPod/i.test(lt),this.At=/Mobile Safari/i.test(lt),this.Pt=/EOSSTB/i.test(lt),this.xt=(this.Dt||this.Ot||this.Nt||this.Ct)&&!this.It,this.Lt=Tt?w(Tt[2]):0,this.Bt=this.It||this.xt||this.Et||this.At,this.Mt=/CriOS/i.test(lt),this.Ft=Boolean(t.chrome&&/google/i.test(u.vendor))||this.Mt,this.Ut=this.Ft&&/Edg\//i.test(u.userAgent),this.Vt=gt?l(gt[1],10):0,this.Ht=Boolean(t.chrome||/Chrome/i.test(lt)||/CriOS/i.test(lt)),this.qt=wt?l(wt[1],10):0,this.Wt=/SMART-TV.*Tizen/i.test(lt),this.zt=kt?w(kt[1]):0,this.jt=/webos|web0s/i.test(lt),this.$t=/Edge\/\d+/i.test(lt),this.Xt=/Trident/i.test(lt),this.Gt=this.Xt&&!t.ActiveXObject&&"ActiveXObject"in t,this.Yt=/Vivaldi/i.test(lt),this.Kt=/Firefox/i.test(lt)&&!/Seamonkey/i.test(lt),this.Jt=pt?w(pt[1]):0,this.Zt=/Safari/i.test(lt)&&!/Chrome/i.test(lt)&&!this.It&&!this.Wt,this.Qt=_t?w(_t[2]):0,this.tn=Boolean(bt),this.nn=bt?w(bt[1]):0,this.in=/CrKey/.test(lt),this.en=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(lt),this.rn="tvos"===ot.wt,this.un="tvos"===ot.dt,this.sn=this.un||this.rn,this.cn="tvos"===ot.yt,this.an="tvos"===ot._t,this.hn="tvos"===ot.pt}return ht(n,[{key:"fn",get:function(){return this.bt}},{key:"vn",get:function(){return this.kt}},{key:"dn",get:function(){return this.Tt}},{key:"ln",get:function(){return this.St}},{key:"wn",get:function(){return this.Et}},{key:"gn",get:function(){return this.Rt}},{key:"yn",get:function(){return this.It}},{key:"mn",get:function(){return this.Dt}},{key:"_n",get:function(){return this.Ot}},{key:"pn",get:function(){return this.Nt}},{key:"bn",get:function(){return this.Ct}},{key:"kn",get:function(){return this.xt}},{key:"Tn",get:function(){return this.Lt}},{key:"Sn",get:function(){return this.Pt}},{key:"En",get:function(){return this.At}},{key:"Rn",get:function(){return this.Bt}},{key:"In",get:function(){return this.Mt}},{key:"Dn",get:function(){return this.Ft}},{key:"On",get:function(){return this.qt}},{key:"Nn",get:function(){return this.Ut}},{key:"Cn",get:function(){return this.Vt}},{key:"An",get:function(){return this.Wt}},{key:"Pn",get:function(){return this.zt}},{key:"xn",get:function(){return this.jt}},{key:"Ln",get:function(){return this.$t}},{key:"Bn",get:function(){return this.Xt}},{key:"Mn",get:function(){return this.Gt}},{key:"Fn",get:function(){return this.Yt}},{key:"Un",get:function(){return this.Kt}},{key:"Vn",get:function(){return this.Jt}},{key:"Hn",get:function(){return this.Zt}},{key:"qn",get:function(){return this.Qt}},{key:"Wn",get:function(){return this.tn}},{key:"zn",get:function(){return this.nn}},{key:"jn",get:function(){return this.in}},{key:"$n",get:function(){return this.en}},{key:"Xn",get:function(){return!(!this.xn&&!this.An)&&this.On<=56}},{key:"Gn",get:function(){return this.rn}},{key:"Yn",get:function(){return this.un}},{key:"Kn",get:function(){return this.sn}},{key:"Jn",get:function(){return this.cn}},{key:"Zn",get:function(){return this.an}},{key:"Qn",get:function(){return this.hn}},{key:"ti",get:function(){return this.Ht}}]),n}();St.ni=new St;var Et=St.ni,Rt={}.hasOwnProperty,It={}.toString;function Dt(t){return null!=t}function Ot(t){return void 0===t}var Nt=Array.isArray||function(t){return"[object Array]"===It.call(t)};function Ct(t){return At(t)&&Rt.call(t,"length")&&Mt(t.length)}function At(t){return"object"==typeof t&&null!==t}function Pt(t){return At(t)&&t.constructor&&t.constructor===v}function xt(t){return"string"==typeof t}function Lt(t){return"boolean"==typeof t}function Bt(t){return Boolean(t)&&"function"==typeof t.then}function Mt(t){return"number"==typeof t}var Ft=function(){},Ut=function(t){return t},Vt=!(Et.Bn&&!Et.Mn),Ht=t.console;function qt(t){if(At(t))try{return JSON.stringify(t)}catch(t){}return t}function Wt(t){return t.map(qt).join(" ")}function zt(t){var n=Ht&&Ht[t];return n?n.bind&&Vt?n.bind(Ht):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];Ht[t](Wt(i))}:void 0}var jt,$t=zt("log")||Ft,Xt=zt("warn")||$t.bind(void 0,"WARNING:"),Gt=zt("error")||$t.bind(void 0,"ERROR:"),Yt=(jt=Ht&&Ht.assert)?jt.bind&&Vt?jt.bind(Ht):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Ht.assert(t,Wt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Gt.apply(void 0,["Assertion failed:"].concat(i))}},Kt=null;try{Kt=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Jt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Zt(t){return!0===(t&&t.ii)}function Qt(t){var n=d.clz32(t&-t);return t?31-n:n}Jt.prototype.ii,v.defineProperty(Jt.prototype,"ii",{value:!0}),Jt.isLong=Zt;var tn={},nn={};function en(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=nn[t])?e:(i=un(t,0,!0),r&&(nn[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=tn[t])?e:(i=un(t,t<0?-1:0,!1),r&&(tn[t]=i),i)}function rn(t,n){if(g(t))return n?ln:dn;if(n){if(t<0)return ln;if(t>=hn)return _n}else{if(t<=-fn)return pn;if(t+1>=fn)return mn}return t<0?rn(-t,n).neg():un(t%an|0,t/an|0,n)}function un(t,n,i){return new Jt(t,n,i)}Jt.fromInt=en,Jt.fromNumber=rn,Jt.fromBits=un;var sn=d.pow;function on(t,n,i){if(0===t.length)throw h("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?ln:dn;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw h("interior hyphen");if(0===e)return on(t.substring(1),n,i).neg();for(var r=rn(sn(i,8)),u=dn,s=0;s<t.length;s+=8){var o=d.min(8,t.length-s),c=l(t.substring(s,s+o),i);if(o<8){var a=rn(sn(i,o));u=u.mul(a).add(rn(c))}else u=(u=u.mul(r)).add(rn(c))}return u.unsigned=n,u}function cn(t,n){return"number"==typeof t?rn(t,n):"string"==typeof t?on(t,n):un(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Jt.fromString=on,Jt.fromValue=cn;var an=4294967296,hn=an*an,fn=hn/2,vn=en(1<<24),dn=en(0);Jt.ZERO=dn;var ln=en(0,!0);Jt.UZERO=ln;var wn=en(1);Jt.ONE=wn;var gn=en(1,!0);Jt.UONE=gn;var yn=en(-1);Jt.NEG_ONE=yn;var mn=un(-1,2147483647,!1);Jt.MAX_VALUE=mn;var _n=un(-1,-1,!0);Jt.MAX_UNSIGNED_VALUE=_n;var pn=un(0,-2147483648,!1);Jt.MIN_VALUE=pn;var bn=Jt.prototype;bn.toInt=function(){return this.unsigned?this.low>>>0:this.low},bn.toNumber=function(){return this.unsigned?(this.high>>>0)*an+(this.low>>>0):this.high*an+(this.low>>>0)},bn.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(pn)){var n=rn(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=rn(sn(t,6),this.unsigned),u=this,s="";;){var o=u.div(r),c=(u.sub(o.mul(r)).toInt()>>>0).toString(t);if((u=o).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},bn.getHighBits=function(){return this.high},bn.getHighBitsUnsigned=function(){return this.high>>>0},bn.getLowBits=function(){return this.low},bn.getLowBitsUnsigned=function(){return this.low>>>0},bn.getNumBitsAbs=function(){if(this.isNegative())return this.eq(pn)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},bn.isZero=function(){return 0===this.high&&0===this.low},bn.eqz=bn.isZero,bn.isNegative=function(){return!this.unsigned&&this.high<0},bn.isPositive=function(){return this.unsigned||this.high>=0},bn.isOdd=function(){return 1==(1&this.low)},bn.isEven=function(){return 0==(1&this.low)},bn.equals=function(t){return Zt(t)||(t=cn(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},bn.eq=bn.equals,bn.notEquals=function(t){return!this.eq(t)},bn.neq=bn.notEquals,bn.ne=bn.notEquals,bn.lessThan=function(t){return this.comp(t)<0},bn.lt=bn.lessThan,bn.lessThanOrEqual=function(t){return this.comp(t)<=0},bn.lte=bn.lessThanOrEqual,bn.le=bn.lessThanOrEqual,bn.greaterThan=function(t){return this.comp(t)>0},bn.gt=bn.greaterThan,bn.greaterThanOrEqual=function(t){return this.comp(t)>=0},bn.gte=bn.greaterThanOrEqual,bn.ge=bn.greaterThanOrEqual,bn.compare=function(t){if(Zt(t)||(t=cn(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},bn.comp=bn.compare,bn.negate=function(){return!this.unsigned&&this.eq(pn)?pn:this.not().add(wn)},bn.neg=bn.negate,bn.add=function(t){Zt(t)||(t=cn(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=0,a=0,h=0,f=0;return h+=(f+=r+(65535&t.low))>>>16,a+=(h+=e+o)>>>16,c+=(a+=i+s)>>>16,c+=n+u,un((h&=65535)<<16|(f&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},bn.subtract=function(t){return Zt(t)||(t=cn(t)),this.add(t.neg())},bn.sub=bn.subtract,bn.multiply=function(t){if(this.isZero())return this;if(Zt(t)||(t=cn(t)),Kt)return un(Kt.mul(this.low,this.high,t.low,t.high),Kt.get_high(),this.unsigned);if(t.isZero())return this.unsigned?ln:dn;if(this.eq(pn))return t.isOdd()?pn:dn;if(t.eq(pn))return this.isOdd()?pn:dn;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(vn)&&t.lt(vn))return rn(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=65535&t.low,a=0,h=0,f=0,v=0;return f+=(v+=r*c)>>>16,h+=(f+=e*c)>>>16,f&=65535,h+=(f+=r*o)>>>16,a+=(h+=i*c)>>>16,h&=65535,a+=(h+=e*o)>>>16,h&=65535,a+=(h+=r*s)>>>16,a+=n*c+i*o+e*s+r*u,un((f&=65535)<<16|(v&=65535),(a&=65535)<<16|(h&=65535),this.unsigned)},bn.mul=bn.multiply,bn.divide=function(t){if(Zt(t)||(t=cn(t)),t.isZero())throw h("division by zero");var n,i,e;if(Kt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?un((this.unsigned?Kt.div_u:Kt.div_s)(this.low,this.high,t.low,t.high),Kt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?ln:dn;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return ln;if(t.gt(this.shru(1)))return gn;e=ln}else{if(this.eq(pn))return t.eq(wn)||t.eq(yn)?pn:t.eq(pn)?wn:(n=this.shr(1).div(t).shl(1)).eq(dn)?t.isNegative()?wn:yn:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(pn))return this.unsigned?ln:dn;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=dn}for(i=this;i.gte(t);){n=d.max(1,d.floor(i.toNumber()/t.toNumber()));for(var r=d.ceil(d.log(n)/d.LN2),u=r<=48?1:sn(2,r-48),s=rn(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=rn(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=wn),e=e.add(s),i=i.sub(o)}return e},bn.div=bn.divide,bn.modulo=function(t){return Zt(t)||(t=cn(t)),Kt?un((this.unsigned?Kt.rem_u:Kt.rem_s)(this.low,this.high,t.low,t.high),Kt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},bn.mod=bn.modulo,bn.rem=bn.modulo,bn.not=function(){return un(~this.low,~this.high,this.unsigned)},bn.countLeadingZeros=function(){return this.high?d.clz32(this.high):d.clz32(this.low)+32},bn.clz=bn.countLeadingZeros,bn.countTrailingZeros=function(){return this.low?Qt(this.low):Qt(this.high)+32},bn.ctz=bn.countTrailingZeros,bn.and=function(t){return Zt(t)||(t=cn(t)),un(this.low&t.low,this.high&t.high,this.unsigned)},bn.or=function(t){return Zt(t)||(t=cn(t)),un(this.low|t.low,this.high|t.high,this.unsigned)},bn.xor=function(t){return Zt(t)||(t=cn(t)),un(this.low^t.low,this.high^t.high,this.unsigned)},bn.shiftLeft=function(t){return Zt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?un(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):un(0,this.low<<t-32,this.unsigned)},bn.shl=bn.shiftLeft,bn.shiftRight=function(t){return Zt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?un(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):un(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},bn.shr=bn.shiftRight,bn.shiftRightUnsigned=function(t){return Zt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?un(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):un(32===t?this.high:this.high>>>t-32,0,this.unsigned)},bn.shru=bn.shiftRightUnsigned,bn.shr_u=bn.shiftRightUnsigned,bn.rotateLeft=function(t){var n;return Zt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?un(this.high,this.low,this.unsigned):t<32?(n=32-t,un(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),un(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},bn.rotl=bn.rotateLeft,bn.rotateRight=function(t){var n;return Zt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?un(this.high,this.low,this.unsigned):t<32?(n=32-t,un(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),un(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},bn.rotr=bn.rotateRight,bn.toSigned=function(){return this.unsigned?un(this.low,this.high,!1):this},bn.toUnsigned=function(){return this.unsigned?this:un(this.low,this.high,!0)},bn.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},bn.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},bn.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Jt.fromBytes=function(t,n,i){return i?Jt.fromBytesLE(t,n):Jt.fromBytesBE(t,n)},Jt.fromBytesLE=function(t,n){return new Jt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Jt.fromBytesBE=function(t,n){return new Jt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var kn=d.pow(2,-52);function Tn(t,n,i){return d.min(d.max(t,n),i)}function Sn(t,n,i){return t===n||d.abs(t-n)<=i}function En(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function Rn(){return Date.now()||(new Date).getTime()}function In(t){return t/1e3}var Dn;function On(t){return t.ei===Dn.ri}function Nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Jt.fromNumber(9007199254740991),function(t){t[t.ri=1]="ri",t[t.ui=2]="ui",t[t.si=3]="si",t[t.oi=4]="oi",t[t.ci=9]="ci"}(Dn||(Dn={}));var Cn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];h.apply(this,n)};(Cn.prototype=v.create(h.prototype)).constructor=Cn;var An=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,h.captureStackTrace&&h.captureStackTrace(Nn(e),e.constructor),e}return vt(n,t),ht(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Cn),Pn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return vt(n,t),n}(An),xn=function(){function t(){}return t.prototype.ai=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Pn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Pn;return new Hn(n)},t}(),Ln=function(){function t(t){this.hi=void 0,this.hi=t}var n=t.prototype;return n.fi=function(t){return this.hi.isEqualNode(t.hi)},n.vi=function(n){return new t(this.hi.cloneNode(n))},ht(t,[{key:"ei",get:function(){return Dn.ui}},{key:"di",get:function(){var t;return null!=(t=this.hi.localName)?t:zn(this.hi.nodeName)}},{key:"li",get:function(){return this.hi.nodeName}},{key:"wi",get:function(){var t;return null!=(t=this.hi.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.hi.prefix)?t:void 0}},{key:"yi",get:function(){return this.hi.nodeValue}}]),t}(),Bn=function(){function t(t){this.mi=void 0,this._i=void 0,this.mi=t}var n=t.prototype;return n.pi=function(t){return this.bi.filter(function(n){return qn(n)&&n.ki===t})},n.Ti=function(t,n){return this.bi.filter(function(i){return qn(i)&&i.di===n&&i.wi===t})},n.Si=function(t){this.mi.appendChild(t.Ei),this._i&&this._i.push(t)},n.fi=function(t){return this.mi.isEqualNode(t.Ei)},ht(t,[{key:"bi",get:function(){return void 0===this._i&&(this._i=function(t){for(var n=[],i=0;i<t.length;i++){var e=Wn(t.item(i));e&&n.push(e)}return n}(this.mi.childNodes)),this._i}},{key:"Ri",get:function(){return this.bi.filter(qn)}},{key:"Ei",get:function(){return this.mi}}]),t}(),Mn=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.Ii=function(t){if(this.mi.hasAttribute(t))return this.mi.getAttribute(t)},i.Di=function(t,n){if(this.mi.hasAttributeNS(t,n))return this.mi.getAttributeNS(t,n)},i.Oi=function(t){this.mi.removeAttribute(t)},i.Ni=function(t,n){this.mi.removeAttributeNS(t,n)},i.Ci=function(t,n){this.mi.setAttribute(t,n)},i.Ai=function(t,n,i){this.mi.setAttributeNS(t,n,i)},i.vi=function(t){return new n(this.mi.cloneNode(t))},ht(n,[{key:"ei",get:function(){return Dn.ri}},{key:"di",get:function(){var t;return null!=(t=this.mi.localName)?t:zn(this.mi.nodeName)}},{key:"wi",get:function(){var t;return null!=(t=this.mi.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.mi.prefix)?t:void 0}},{key:"ki",get:function(){return this.mi.nodeName}},{key:"Pi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new Ln(t.item(i)));return n}(this.mi.attributes)}},{key:"xi",get:function(){return this.mi.textContent}}]),n}(Bn),Fn=function(){function t(t){this.mi=void 0,this.mi=t}return t.prototype.fi=function(t){return this.Li===t.Li},ht(t,[{key:"Li",get:function(){return this.mi.nodeValue}},{key:"Ei",get:function(){return this.mi}}]),t}(),Un=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.vi=function(t){return new n(this.mi.cloneNode(t))},ht(n,[{key:"ei",get:function(){return Dn.si}}]),n}(Fn),Vn=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.vi=function(t){return new n(this.mi.cloneNode(t))},ht(n,[{key:"ei",get:function(){return Dn.oi}}]),n}(Fn),Hn=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.vi=function(t){return new n(this.mi.cloneNode(t))},ht(n,[{key:"ei",get:function(){return Dn.ci}},{key:"Bi",get:function(){return new Mn(this.mi.documentElement)}}]),n}(Bn);function qn(t){return On(t)}function Wn(t){switch(t.nodeType){case Dn.ri:return new Mn(t);case Dn.si:return new Un(t);case Dn.oi:return new Vn(t)}}function zn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function jn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function $n(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){Xn(t,n,r,e);var u=t;t=e,e=u}return t}(t,n);return i!==t&&Xn(i,null,t.length,t),t}function Xn(t,n,i,e){var r,u,s,o,c,a=t.length,h=0,f=2*i;for(r=0;r<a;r+=f)for(s=(u=r+i)+i,u>a&&(u=a),s>a&&(s=a),o=r,c=u;;)if(o<u&&c<s)n(t[o],t[c])<=0?e[h++]=t[o++]:e[h++]=t[c++];else if(o<u)e[h++]=t[o++];else{if(!(c<s))break;e[h++]=t[c++]}}var Gn=/[a-zA-Z]/,Yn=/[0-9]/,Kn=/[0-9a-fA-F]/,Jn=/^0x/i,Zn=/^[0-9]+$/,Qn=/^[0-9a-fA-F]+$/,ti=/^[0-7]+$/,ni=v.prototype.toString,ii=Array.isArray||function(t){return"[object Array]"===ni.call(t)},ei="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function ri(t){return ii(t)?t:Array.from(t)}function ui(t){return t>=65&&t<=90}function si(t){return ui(t)||function(t){return t>=97&&t<=122}(t)}function oi(t){return t>=48&&t<=57}function ci(t){return oi(t)||si(t)}function ai(t){return oi(t)||t>=65&&t<=70||t>=97&&t<=102}function hi(t){return ui(t)?t+32:t}function fi(t){return oi(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function vi(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var di=d.min,li=String.fromCharCode,wi=16384;function gi(t){for(var n=t.length,i=[],e=0;e<n;e+=wi){var r=di(e+wi,n);i.push(li.apply(null,t.slice(e,r)))}return i.join("")}var yi=/[^\0-\x7E]/,mi=/[\x2E\u3002\uFF0E\uFF61]/g,_i={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},pi=d.floor,bi=String.fromCharCode;function ki(t){throw new RangeError(_i[t])}function Ti(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}var Si,Ei,Ri,Ii=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Di=function(t,n,i){var e=0;for(t=i?pi(t/700):t>>1,t+=pi(t/n);t>455;e+=36)t=pi(t/35);return pi(e+36*t/(t+38))},Oi=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(mi,".")).split("."),n).join(".");return e+r}(t,function(t){return yi.test(t)?"xn--"+function(t){for(var n=[],i=(t=Ti(t)).length,e=128,r=0,u=72,s=0,o=t;s<o.length;s++){var c=o[s];c<128&&n.push(bi(c))}var a=n.length,h=a;for(a&&n.push("-");h<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<f&&(f=l)}var w=h+1;f-e>pi((2147483647-r)/w)&&ki("overflow"),r+=(f-e)*w,e=f;for(var g=0,y=t;g<y.length;g++){var m=y[g];if(m<e&&++r>2147483647&&ki("overflow"),m==e){for(var _=r,p=36;;p+=36){var b=p<=u?1:p>=u+26?26:p-u;if(_<b)break;var k=_-b,T=36-b;n.push(bi(Ii(b+k%T,0))),_=pi(k/T)}n.push(bi(Ii(_,0))),u=Di(r,w,h==a),r=0,++h}}++r,++e}return n.join("")}(t):t})};function Ni(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return gi(n)}function Ci(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ai(t,n){return t>>n&63|128}function Pi(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Ci(t),n.push(t>>12&15|224),n.push(Ai(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ai(t,12)),n.push(Ai(t,6))),n.push(63&t|128)):n.push(t)}function xi(t){for(var n=[],i=0;i<t.length;i++){Pi(t[i],n)}return n}function Li(){if(Ri>=Ei)throw new h("Invalid byte index");var t=255&Si[Ri];if(Ri++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function Bi(){var t,n;if(Ri>Ei)throw new h("Invalid byte index");if(Ri===Ei)return!1;if(t=255&Si[Ri],Ri++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Li())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Li()<<6|Li())>=2048)return Ci(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Li()<<12|Li()<<6|Li())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}function Mi(t){return[37,vi(t>>4),vi(15&t)]}function Fi(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Ui(t){return Fi(t)||32===t||34===t||60===t||62===t||96===t}function Vi(t){return Ui(t)||35===t||63===t||123===t||125===t}function Hi(t){return Vi(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function qi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function Wi(t){return qi(t)||39===t}function zi(t,n){if(!n(t))return[t];for(var i=xi([t]),e=[],r=0;r<i.length;r++){var u=i[r];e.push.apply(e,Mi(u))}return e}function ji(t,n){for(var i=[],e=0,r=Ti(t);e<r.length;e++){var u=r[e];i.push.apply(i,zi(u,n))}return Ni(i)}function $i(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&ai(t[e+1])&&ai(t[e+2])){var u=fi(t[e+1])<<4|fi(t[e+2]);n.push(u),e+=2}else n.push(r)}return n}(xi(t))}function Xi(t){return Ni(function(t){Si=t.slice(),Ei=Si.length,Ri=0;for(var n,i=[];!1!==(n=Bi());)i.push(n);return i}($i(Ti(t))))}function Gi(t){var n,i,e,r,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,c=null,a=0;if(a<u&&":"===t[a]){if(!(a+1<u&&":"===t[a+1]))throw new f;a+=2,c=o+=1}for(;a<u;){if(8===o)throw new f("Too many groups");if(":"!==t[a]){for(var h=0,v=0;v<4&&a<u&&Kn.test(t[a]);)h=h<<4|l(t[a],16),a+=1,v+=1;if("."===t[a]){if(0===v)throw new f;if(a-=v,o>6)throw new f;for(var d=0;a<u;){var w=null;if(d>0){if(!("."===t[a]&&d<4))throw new f;a+=1}if(!Yn.test(t[a]))throw new f;for(;a<u&&Yn.test(t[a]);){var g=l(t[a],10);if(null===w)w=g;else{if(0===w)throw new f;if((w=10*w+g)>255)throw new f}a+=1}s[o]=s[o]<<8|w,2!==(d+=1)&&4!==d||(o+=1)}if(4!==d)throw new f;break}if(":"===t[a]){if((a+=1)===u)throw new f}else if(a<u)throw new f;s[o]=h,o+=1}else{if(null!==c)throw new f("Too many :: groups");a+=1,c=o+=1}}if(null!==c){var y=o-c;for(o=7;0!==o&&y>0;)e=c+y-1,r=void 0,r=(n=s)[i=o],n[i]=n[e],n[e]=r,o-=1,y-=1}else if(8!==o)throw new f;return s}function Yi(t){var n=10,i=Zn;return Jn.test(t)?(t=t.slice(2),n=16,i=Qn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=ti),""===t?0:i.test(t)?l(t,n):void 0}var Ki={Mi:4},Ji=/[\0\t\n\r #%/:?@\[\\\]]/,Zi=/[\0\t\n\r #/:?@\[\\\]]/;function Qi(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new f("Invalid IPv6 address");return{Mi:2,Fi:Gi(t.slice(1,-1))}}if(!n)return function(t){if(Zi.test(t))throw new f("Invalid code point in opaque host");var n=ji(t,Fi);return""===n?Ki:{Mi:3,P:n}}(t);var i=function(t){return function(t){return Oi(t.toLowerCase())}(t)}(Xi(t));if(Ji.test(i))throw new f("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var u=Yi(r);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new f;if(i[i.length-1]>=d.pow(256,5-i.length))throw new f;for(var o=i.pop(),c=0;c<i.length;c++)o+=i[c]*d.pow(256,3-c);return o}}(i);return void 0!==e?{Mi:1,Fi:e}:""===i?Ki:{Mi:0,Ui:i}}function te(t){switch(t.Mi){case 0:return t.Ui;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Fi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,u=0;u<8;u++)0===t[u]?(0===r&&(e=u),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Fi)+"]";case 3:return t.P;case 4:return""}}var ne=/\+/g;function ie(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var u=r.indexOf("="),s=void 0,o=void 0;-1!==u?(s=r.slice(0,u),o=r.slice(u+1)):(s=r,o=""),s=s.replace(ne," "),o=o.replace(ne," ");var c=Xi(s),a=Xi(o);i.push([c,a])}}return i}function ee(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=re(xi(Ti(e[0])))+"="+re(xi(Ti(e[1])))}return n}function re(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||ci(n)?i.push(r):i.push.apply(i,Mi(r))}return gi(i)}var ue=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function se(t){var n=""+t,i=ue.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var u=t.charCodeAt(r);if(ce(u))if(ae(u)||r===i-1)e.push(oe);else{var s=t.charCodeAt(r+1);ae(s)?(e.push(u,s),r++):e.push(oe)}else e.push(u)}return t.slice(0,n)+gi(e)}(n,i.index):n}var oe=65533,ce=function(t){return 55296==(63488&t)},ae=function(t){return 0!=(1024&t)};function he(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function fe(t){t.Vi.length=0}function ve(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Vi,ie(n))}function de(t){if(t.Hi){var n=ee(t.Vi);""===n&&(n=null),t.Hi.Hi.qi=n}}var le=function(){function t(t){if(void 0===t&&(t=void 0),this.Hi=null,null==t)this.Vi=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof le&&ii(u.Vi)&&(!ei||u[Symbol.iterator]===we))this.Vi=t.Vi.slice();else if(function(t){return null!=t&&(!!ii(t)||!!ei&&"function"==typeof t[Symbol.iterator])}(t)){this.Vi=[];for(var n=0,i=ri(t);n<i.length;n++){var e=ri(i[n]);if(2!==e.length)throw new f("Invalid name-value pair");this.Vi.push([se(e[0]),se(e[1])])}}else for(var r in this.Vi=[],t)v.prototype.hasOwnProperty.call(t,r)&&this.Vi.push([se(r),se(t[r])]);else(t=se(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Vi=ie(t);var u}var n=t.prototype;return n.append=function(t,n){t=se(t),n=se(n),this.Vi.push([t,n]),de(this)},n.delete=function(t){t=se(t);for(var n=this.Vi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}de(this)},n.get=function(t){t=se(t);for(var n=this.Vi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=se(t);for(var n=this.Vi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=se(t);for(var n=this.Vi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=se(t),n=se(n);for(var i=this.Vi,e=!1,r=0;r<i.length;){var u=i[r];u[0]===t?e?i.splice(r,1):(u[1]=n,e=!0,r++):r++}e||i.push([t,n]),de(this)},n.sort=function(){$n(this.Vi,he),de(this)},n.toString=function(){return ee(this.Vi)},n.entries=function(){return new _e(this.Vi,ge)},n.keys=function(){return new _e(this.Vi,ye)},n.values=function(){return new _e(this.Vi,me)},n.forEach=function(t){var n=this;this.Vi.forEach(function(i){return t(i[1],i[0],n)})},t}(),we=le.prototype.entries;ei&&(le.prototype[Symbol.iterator]=we);var ge=function(t){return[t[0],t[1]]},ye=function(t){return t[0]},me=function(t){return t[1]},_e=function(){function t(t,n){this.Wi=0,this.Vi=t,this.zi=n}return t.prototype.next=function(){return this.Wi<this.Vi.length?{done:!1,value:this.zi(this.Vi[this.Wi++])}:{done:!0,value:void 0}},t}(),pe="null";var be=v.create(null);be.ftp=21,be.file=0,be.gopher=70,be.http=80,be.https=443,be.ws=80,be.wss=443;var ke=/^(?:\.|%2e)$/i,Te=/^(?:\.|%2e){2}$/i;function Se(t){return ke.test(t)}function Ee(t){return Te.test(t)}function Re(t){return void 0!==be[t]}function Ie(t){return Re(t.ji)}function De(t){return""!==t.$i||""!==t.Xi}function Oe(t){var n=t.length;if(!(n>=2))return!1;if(!Ce(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Ne(t){return 2===t.length&&Gn.test(t[0])&&(":"===t[1]||"|"===t[1])}function Ce(t){return 2===t.length&&Ne(gi(t))}function Ae(t){return Ne(t)&&":"===t[1]}function Pe(t){var n=t.Gi;0!==n.length&&("file"===t.ji&&1===n.length&&Ae(n[0])||n.pop())}function xe(t){return null===t.Yi||Ki===t.Yi||t.Ki||"file"===t.ji}var Le=-1,Be=/\t|\n|\r/g,Me=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Fe(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new Ve,t=t.replace(Me,""));var r=null!==e?e:0;n=n||null;for(var u=[],s=!1,o=!1,c=!1,a=Ti(t=t.replace(Be,"")),h=a.length,v=0;v<=h;){var d=v<h?a[v]:Le;switch(r){case 0:if(!si(d)){if(null===e){u.length=0,r=2;continue}throw new f("Invalid scheme")}u.push(hi(d)),r=1;break;case 1:if(ci(d)||43===d||45===d||46===d)u.push(hi(d));else{if(58!==d){if(null===e){u.length=0,r=2,v=0;continue}throw new f("Invalid scheme")}var w=Ni(u);if(null!==e){if(Re(i.ji)&&!Re(w))return;if(!Re(i.ji)&&Re(w))return;if((De(i)||null!==i.Ji)&&"file"===w)return;if("file"===i.ji&&(i.Yi===Ki||null===i.Yi))return}if(i.ji=w,null!==e)return void(Ie(i)&&i.Ji===be[i.ji]&&(i.Ji=null));u.length=0,"file"===i.ji?r=13:Ie(i)&&n&&n.ji===i.ji?r=3:Ie(i)?r=7:47===a[v+1]?(r=4,v+=1):(i.Ki=!0,i.Gi.push(""),r=18)}break;case 2:if(!n||n.Ki&&35!==d)throw new f("Invalid scheme");n.Ki&&35===d?(i.ji=n.ji,i.Gi=n.Gi.slice(),i.qi=n.qi,i.Zi="",i.Ki=!0,r=20):"file"!==n.ji?(r=5,v-=1):(r=13,v-=1);break;case 3:47===d&&47===a[v+1]?r=8:(r=5,v-=1);break;case 4:47===d?r=9:(r=17,v-=1);break;case 5:i.ji=n.ji,Le===d?(i.$i=n.$i,i.Xi=n.Xi,i.Yi=n.Yi,i.Ji=n.Ji,i.Gi=n.Gi.slice(),i.qi=n.qi):47===d?r=6:63===d?(i.$i=n.$i,i.Xi=n.Xi,i.Yi=n.Yi,i.Ji=n.Ji,i.Gi=n.Gi.slice(),i.qi="",r=19):35===d?(i.$i=n.$i,i.Xi=n.Xi,i.Yi=n.Yi,i.Ji=n.Ji,i.Gi=n.Gi.slice(),i.qi=n.qi,i.Zi="",r=20):92===d&&Ie(i)?r=6:(i.$i=n.$i,i.Xi=n.Xi,i.Yi=n.Yi,i.Ji=n.Ji,i.Gi=n.Gi.slice(),i.Gi.pop(),r=17,v-=1);break;case 6:!Ie(i)||47!==d&&92!==d?47===d?r=9:(i.$i=n.$i,i.Xi=n.Xi,i.Yi=n.Yi,i.Ji=n.Ji,r=17,v-=1):r=8;break;case 7:if(47!==d||47!==a[v+1]){r=8;continue}r=8,v+=1;break;case 8:47!==d&&92!==d&&(r=9,v-=1);break;case 9:if(64===d){s&&u.unshift(37,52,48),s=!0;for(var g=0;g<u.length;g++){var y=u[g];if(58!==y||c){var m=Ni(zi(y,Hi));c?i.Xi+=m:i.$i+=m}else c=!0}u.length=0}else if(Le===d||47===d||63===d||35===d||Ie(i)&&92===d){if(s&&0===u.length)throw new f("Invalid host");v-=u.length+1,u.length=0,r=10}else u.push(d);break;case 10:case 11:if(null!==e&&"file"===i.ji)v-=1,r=15;else if(58!==d||o)if(Le===d||47===d||63===d||35===d||Ie(i)&&92===d){if(v-=1,Ie(i)&&0===u.length)throw new f("Invalid host");if(null!==e&&0===u.length&&(De(i)||null!==i.Ji))return;var _=Qi(Ni(u),Ie(i));if(i.Yi=_,u.length=0,r=16,null!==e)return}else 91===d?o=!0:93===d&&(o=!1),u.push(d);else{if(0===u.length)throw new f("Invalid host");var p=Qi(Ni(u),Ie(i));if(i.Yi=p,u.length=0,r=12,11===e)return}break;case 12:if(oi(d))u.push(d);else{if(!(Le===d||47===d||63===d||35===d||Ie(i)&&92===d||null!==e))throw new f("Invalid port");if(0!==u.length){var b=l(Ni(u),10);if(b>65535)throw new f("Invalid port");i.Ji=b===be[i.ji]?null:b,u.length=0}if(null!==e)return;r=16,v-=1}break;case 13:i.ji="file",47===d||92===d?r=14:n&&"file"===n.ji?Le===d?(i.Yi=n.Yi,i.Gi=n.Gi.slice(),i.qi=n.qi):63===d?(i.Yi=n.Yi,i.Gi=n.Gi.slice(),i.qi="",r=19):35===d?(i.Yi=n.Yi,i.Gi=n.Gi.slice(),i.qi=n.qi,i.Zi="",r=20):(Oe(a.slice(v))||(i.Yi=n.Yi,i.Gi=n.Gi.slice(),Pe(i)),r=17,v-=1):(r=17,v-=1);break;case 14:47===d||92===d?r=15:(n&&"file"===n.ji&&!Oe(a.slice(v))&&(Ae(n.Gi[0])?i.Gi.push(n.Gi[0]):i.Yi=n.Yi),r=17,v-=1);break;case 15:if(Le===d||47===d||92===d||63===d||35===d)if(v-=1,null===e&&Ce(u))r=17;else if(0===u.length){if(i.Yi=Ki,null!==e)return;r=16}else{var k=Qi(Ni(u),Ie(i));if(0===k.Mi&&"localhost"===k.Ui&&(k=Ki),i.Yi=k,null!==e)return;u.length=0,r=16}else u.push(d);break;case 16:Ie(i)?(r=17,47!==d&&92!==d&&(v-=1)):null===e&&63===d?(i.qi="",r=19):null===e&&35===d?(i.Zi="",r=20):Le!==d&&(r=17,47!==d&&(v-=1));break;case 17:if(Le===d||47===d||Ie(i)&&92===d||null===e&&(63===d||35===d)){var T=Ni(u);if(Ee(T)?(Pe(i),47===d||Ie(i)&&92===d||i.Gi.push("")):!Se(T)||47===d||Ie(i)&&92===d?Se(T)||("file"===i.ji&&0===i.Gi.length&&Ce(u)&&(Ki!==i.Yi&&null!==i.Yi&&(i.Yi=Ki),u[1]=58,T=Ni(u)),i.Gi.push(T)):i.Gi.push(""),u.length=0,"file"===i.ji&&(Le===d||63===d||35===d))for(;i.Gi.length>1&&""===i.Gi[0];)i.Gi.shift();63===d?(i.qi="",r=19):35===d&&(i.Zi="",r=20)}else u.push.apply(u,zi(d,Vi));break;case 18:63===d?(i.qi="",r=19):35===d?(i.Zi="",r=20):Le!==d&&(i.Gi[0]+=Ni(zi(d,Fi)));break;case 19:null===e&&35===d?(i.Zi="",r=20):Le!==d&&(i.qi+=Ni(zi(d,Ie(i)?Wi:qi)));break;case 20:Le===d||0===d||(i.Zi+=Ni(zi(d,Ui)))}v++}return i}function Ue(t,n,i,e){try{Fe(t,n,i,e)}catch(t){}}var Ve=function(){this.ji="",this.$i="",this.Xi="",this.Yi=null,this.Ji=null,this.Gi=[],this.qi=null,this.Zi=null,this.Ki=!1};function He(t){switch(t.ji){case"blob":var n;try{n=Fe(t.Gi[0],null)}catch(t){return pe}return He(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.ji,e=t.Yi,r=t.Ji,i+"://"+te(e)+(null===r?"":":"+r);case"file":default:return pe}var i,e,r}var qe,We=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof We&&"object"==typeof i.Hi)r=n.Hi;else try{r=Fe(String(n),null)}catch(t){throw new f("Invalid base URL: "+t.message)}try{e=Fe(String(t),r)}catch(t){throw new f("Invalid URL: "+t.message)}var u=e.qi;this.Hi=e,this.qi=function(t){var n=new le;return null!==t&&ve(n,t),n}(u),this.qi.Hi=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.ji+":";if(null!==t.Yi?(i+="//",De(t)&&(i+=t.$i,""!==t.Xi&&(i+=":"+t.Xi),i+="@"),i+=te(t.Yi),null!==t.Ji&&(i+=":"+t.Ji)):null===t.Yi&&"file"===t.ji&&(i+="//"),t.Ki)i+=t.Gi[0];else for(var e=0,r=t.Gi;e<r.length;e++)i+="/"+r[e];return null!==t.qi&&(i+="?"+t.qi),n||null===t.Zi||(i+="#"+t.Zi),i}(this.Hi)},set:function(t){var n;try{n=Fe(String(t),null)}catch(t){throw new f("Invalid URL: "+t.message)}this.Hi=n,fe(this.qi);var i=this.Hi.qi;null!==i&&ve(this.qi,i)}},{key:"origin",get:function(){return He(this.Hi)}},{key:"protocol",get:function(){return this.Hi.ji+":"},set:function(t){Ue(t+":",null,this.Hi,0)}},{key:"username",get:function(){return this.Hi.$i},set:function(t){xe(this.Hi)||(this.Hi.$i=ji(t,Hi))}},{key:"password",get:function(){return this.Hi.Xi},set:function(t){xe(this.Hi)||(this.Hi.Xi=ji(t,Hi))}},{key:"host",get:function(){var t=this.Hi,n=t.Yi;if(null===n)return"";var i=t.Ji,e=te(n);return null!==i&&(e+=":"+i),e},set:function(t){this.Hi.Ki||Ue(t,null,this.Hi,10)}},{key:"hostname",get:function(){var t=this.Hi.Yi;return null===t?"":te(t)},set:function(t){this.Hi.Ki||Ue(t,null,this.Hi,11)}},{key:"port",get:function(){var t=this.Hi.Ji;return null===t?"":""+t},set:function(t){xe(this.Hi)||(""===t?this.Hi.Ji=null:Ue(t,null,this.Hi,12))}},{key:"pathname",get:function(){var t=this.Hi.Gi;return this.Hi.Ki?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Hi.Ki||(this.Hi.Gi.length=0,Ue(t,null,this.Hi,16))}},{key:"search",get:function(){var t=this.Hi.qi;return null===t||""===t?"":"?"+t},set:function(t){t=se(t);var n=this.Hi;if(""===t)return n.qi=null,void fe(this.qi);"?"===t[0]&&(t=t.slice(1)),n.qi="",Ue(t,null,n,19),ve(this.qi,t)}},{key:"searchParams",get:function(){return this.qi}},{key:"hash",get:function(){var t=this.Hi.Zi;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Hi.Zi="",Ue(t,null,this.Hi,20)):this.Hi.Zi=null}}])&&jn(n.prototype,i),e&&jn(n,e),t}();function ze(t){return t.document&&t.document.baseURI||t.location.href||""}function je(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function $e(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function Xe(){return void 0!==e?e.createElement("video"):void 0}function Ge(){return qe||(qe=Xe()),qe}var Ye=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!u||!u.msMaxTouchPoints),Ke=Ge(),Je=!(!Ke||!Ke.webkitShowPlaybackTargetPicker),Ze=function(){function t(){this.Qi=void 0,this.te=!1,this.fn=Ye,this.Rn=!1,this.ie=!0}var n=t.prototype;return n.ee=function(){return 0},n.re=function(t,n){return!0},n.ue=function(t){return t>=1/6*2},ht(t,[{key:"se",get:function(){return void 0===this.Qi&&(this.Qi=this.ee()),this.Qi}},{key:"oe",get:function(){return!Et.$n}},{key:"ce",get:function(){}},{key:"ae",get:function(){return i.devicePixelRatio||1}},{key:"he",get:function(){return Je}},{key:"fe",get:function(){return!1}},{key:"ve",get:function(){return!0}},{key:"de",get:function(){return Et.Hn||Et.kn}},{key:"we",get:function(){return!0}},{key:"ye",get:function(){return!0}},{key:"me",get:function(){return!1}},{key:"_e",get:function(){}},{key:"pe",get:function(){return!0}},{key:"be",get:function(){return!1}}]),t}(),Qe=function(){var t=Xe();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(Et.pn)return!1;var t=Xe();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var tr=function(t){function n(n){var i;return(i=t.call(this)||this).ke=void 0,i.ke=n,i.ke&&(i.te=i.ke.te,i.fn=i.ke.fn,i.ie=Qe&&i.ke.ie),i}vt(n,t);var i=n.prototype;return i.ee=function(){return this.ke?this.ke.se:t.prototype.ee.call(this)},i.re=function(n,i){return this.ke?this.ke.re(n,i):t.prototype.re.call(this,n,i)},i.ue=function(n){return this.ke?this.ke.ue(n):t.prototype.ue.call(this,n)},ht(n,[{key:"_e",get:function(){var t;return null==(t=this.ke)?void 0:t._e}},{key:"pe",get:function(){var t,n;return null==(t=null==(n=this.ke)?void 0:n.pe)||t}}]),n}(Ze),nr=function(t){function n(n){var i;return(i=t.call(this,n)||this).te=!0,i.Rn=!0,i}return vt(n,t),ht(n,[{key:"me",get:function(){return Et.kn}}]),n}(tr),ir=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ee=function(){return Q.MediaSource?t.prototype.ee.call(this):1},ht(n,[{key:"me",get:function(){return!0}}]),n}(nr),er=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Te=void 0,n}return vt(n,t),n.prototype.re=function(n,i){return t.prototype.re.call(this,n,i)},ht(n,[{key:"fe",get:function(){return Et.Pn<3}},{key:"ve",get:function(){return Et.Pn>=3}},{key:"ce",get:function(){var t=this;return i.tizen&&!this.Te&&i.tizen.systeminfo.getPropertyValue("DISPLAY",function(n){var i=n.resolutionWidth,e=n.resolutionHeight;1===i&&1===e||(t.Te={width:i,height:e})}),this.Te}},{key:"be",get:function(){return Et.Pn<3}}]),n}(tr),rr=function(t){function n(){return t.call(this)||this}return vt(n,t),n}(Ze),ur=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.re=function(t,n){if(t&&t.Se&&n&&n.Se){var i=sr(t.Se,"mp4a.40.2")&&sr(n.Se,"mp4a.40.5"),e=sr(t.Se,"mp4a.40.5")&&sr(n.Se,"mp4a.40.2"),r=sr(t.Se,"mp4a.40.2")&&sr(n.Se,"mp4a.40.34"),u=sr(t.Se,"mp4a.40.34")&&sr(n.Se,"mp4a.40.2"),s=sr(t.Se,"mp4a.40.5")&&sr(n.Se,"mp4a.40.34"),o=sr(t.Se,"mp4a.40.34")&&sr(n.Se,"mp4a.40.5");return!(i||e||r||u||s||o)}return!0},ht(n,[{key:"_e",get:function(){if(Et.vn)return 4096}}]),n}(rr);function sr(t,n){return t.indexOf(n)>-1}var or=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ue=function(t){return t>=2},n}(rr),cr=function(t){function n(){var n;return(n=t.call(this)||this).te=Et.qn>=11,n.ie=Et.Hn&&!(Et.kn&&Et.qn<10),n}return vt(n,t),n}(rr),ar=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Te=void 0,n}return vt(n,t),ht(n,[{key:"ce",get:function(){var t=this;return i.webOS&&!this.Te&&i.webOS.deviceInfo(function(n){t.Te={width:n.screenWidth,height:n.screenHeight}}),this.Te}},{key:"we",get:function(){return!1}}]),n}(tr),hr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ht(n,[{key:"pe",get:function(){return!Et.dn||(Et.Nn?92!==Et.Cn:Et.On>=100)}}]),n}(rr),fr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ht(n,[{key:"me",get:function(){return!0}}]),n}(tr),vr=function(){function n(){var n;this.Ee=void 0,this.Re=new xn,this.Ie=new dr,this.De=(n=function(){if(Et.Un)return new ur;if(Et.Ln||Et.Bn)return new or;if(Et.Hn)return new cr;if(Et.Dn)return new hr;return new rr}(),Et.kn?new ir(n):Et.Rn?new nr(n):Et.An?new er(n):Et.xn?new ar(n):Et.vn?new fr(n):new tr(n)),this.Oe=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.Ee=function(){return t.performance.now()}:this.Ee=Rn}var i=n.prototype;return i.Ne=function(){$t.apply(void 0,arguments)},i.Ce=function(){Xt.apply(void 0,arguments)},i.Ae=function(){Gt.apply(void 0,arguments)},i.Pe=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Yt.apply(void 0,[t].concat(i))},i.xe=function(t,n){return s(t,n)},i.Le=function(t,n){return c(t,n)},i.Be=function(t){o(t)},i.Me=function(t){a(t)},i.ai=function(t){return this.Re.ai(t)},i.Fe=function(){return this.Ue.Fe()},i.Ve=function(){return this.Ue.Ve()},i.He=function(){return this.Ue.He()},i.qe=function(){return this.Ue.qe()},i.We=function(){return this.Ue.We()},i.ze=function(t,n){return this.Ue.ze(t,n)},i.je=function(t){return this.Ue.je(t)},i.$e=function(t,n){var i;return void 0===n&&(n=ze(Q)),i="object"!=typeof n||n instanceof We?n:n.href,new We(t,i)},i.Xe=function(n,i){if(void 0===i&&(i=ze(Q)),this.Oe){var e=xt(i)?i:i.toString();return new t.URL(n,e).href}return this.$e(n,i).href},ht(n,[{key:"Ge",get:function(){return this.Ie}},{key:"Ye",get:function(){return this.De}},{key:"Ke",get:function(){return{Je:u&&u.userAgent.match(/Android /i)?"Android":"other",Ze:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"Qe",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"tr",get:function(){return"languages"in u?u.languages.slice():[u.language]}}]),n}(),dr=function(){function t(){}return ht(t,[{key:"nr",get:function(){return u.oscpu}},{key:"Ye",get:function(){return u.platform}},{key:"ir",get:function(){return u.vendor}},{key:"er",get:function(){return u.vendorSub}}]),t}();var lr={exports:{}};!function(t){var n,i=v.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},u=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(t,n,i,e){var r=n&&n.prototype instanceof _?n:_,u=v.create(r.prototype),s=new C(e||[]);return u.rr=function(t,n,i){var e=d;return function(r,u){if(e===w)throw new h("Generator is already running");if(e===y){if("throw"===r)throw u;return P()}for(i.method=r,i.arg=u;;){var s=i.delegate;if(s){var o=D(s,i);if(o){if(o===m)continue;return o}}if("next"===i.method)i.sent=i.ur=i.arg;else if("throw"===i.method){if(e===d)throw e=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=w;var c=a(t,n,i);if("normal"===c.type){if(e=i.done?y:l,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(e=y,i.method="throw",i.arg=c.arg)}}}(t,i,s),u}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d="suspendedStart",l="suspendedYield",w="executing",y="completed",m={};function _(){}function p(){}function b(){}var k={};k[u]=function(){return this};var T=v.getPrototypeOf,S=T&&T(T(A([])));S&&S!==i&&e.call(S,u)&&(k=S);var E=b.prototype=_.prototype=v.create(k);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.rr(n,t)}})}function I(t){var n;this.rr=function(i,r){function u(){return new j(function(n,u){!function n(i,r,u,s){var o=a(t[i],t,r);if("throw"!==o.type){var c=o.arg,h=c.value;return h&&"object"==typeof h&&e.call(h,"sr")?j.resolve(h.sr).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):j.resolve(h).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,s)})}s(o.arg)}(i,r,n,u)})}return n=n?n.then(u,u):u()}}function D(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,D(t,i),"throw"===i.method))return m;i.method="throw",i.arg=new f("The iterator does not provide a 'throw' method")}return m}var r=a(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,m;var u=r.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,m):u:(i.method="throw",i.arg=new f("iterator result is not an object"),i.delegate=null,m)}function O(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function N(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function A(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!g(t.length)){var r=-1,s=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return s.next=s}}return{next:P}}function P(){return{value:n,done:!0}}p.prototype=E.constructor=b,b.constructor=p,b[o]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return v.setPrototypeOf?v.setPrototypeOf(t,b):(t.__proto__=b,o in t||(t[o]="GeneratorFunction")),t.prototype=v.create(E),t},t.awrap=function(t){return{sr:t}},R(I.prototype),I.prototype[s]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var u=new I(c(n,i,e,r));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(E),E[o]="Generator",E[u]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=A,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.ur=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!g(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=e.call(s,"catchLoc"),a=e.call(s,"finallyLoc");if(c&&a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!a)throw new h("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var u=r;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,m):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),m},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),N(i),m}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;N(i)}return r}}throw new h("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:A(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),m}}}(lr.exports);var wr=lr.exports;function gr(){return(gr=v.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)v.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function yr(){var t=v.create(null);return t.cr=void 0,delete t.cr,t}function mr(){return new br}var _r,pr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,br=pr||(_r=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=v.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=yr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=yr(),this.size=0},n.keys=function(){return new _r(this.data,function(t,n){return n})},n.values=function(){return new _r(this.data,function(t,n){return t[n]})},n.entries=function(){return new _r(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var kr,Tr,Sr=pr||(kr=function(){function t(t,n){this.ar=void 0,this.hr=void 0,this.ar=t,this.hr=n}var n=t.prototype;return n.next=function(){var t=this.ar.next();return t.done?t:{value:this.hr(t.value),done:!1}},t}(),function(){function t(){this.dr=mr()}var n=t.prototype;return n.get=function(t){return this.dr.get(""+t)},n.set=function(t,n){return this.dr.set(""+t,n),this},n.has=function(t){return this.dr.has(""+t)},n.delete=function(t){return this.dr.delete(""+t)},n.clear=function(){this.dr.clear()},n.keys=function(){return new kr(this.dr.keys(),function(t){return Number(t)})},n.values=function(){return this.dr.values()},n.entries=function(){return new kr(this.dr.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.dr.forEach(function(n,i){t(n,Number(i))})},ht(t,[{key:"size",get:function(){return this.dr.size}}]),t}());!function(t){t.wr="9a04f079-9840-4286-ab92-e65be0885f95",t.gr="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.yr="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.mr="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Tr||(Tr={}));var Er,Rr="cenc",Ir="sinf",Dr="skd",Or=Tr.wr,Nr="urn:uuid:"+Or,Cr="com.microsoft.playready",Ar=Tr.gr,Pr="urn:uuid:"+Ar,xr=Tr.yr,Lr="urn:uuid:"+xr,Br=Tr.mr,Mr="urn:uuid:"+Br,Fr="com.apple.fps.1_0";!function(t){t.wr="playready",t.gr="widevine",t.mr="fairplay",t.yr="clearkey",t._r="aes128"}(Er||(Er={}));var Ur={pr:Er.wr,br:Cr,kr:"cenc",Tr:Or,Sr:Nr,Er:"PlayReady"},Vr={pr:Er.gr,br:"com.widevine.alpha",kr:"cenc",Tr:Ar,Sr:Pr,Er:"Widevine"},Hr={pr:Er.mr,br:Fr,kr:"skd",Tr:Br,Sr:Mr,Er:"FairPlay"};Er.mr;var qr={pr:Er.yr,br:"org.w3.clearkey",kr:"cenc",Tr:xr,Sr:Lr,Er:"ClearKey"};function Wr(t,n,i){return t.split(n).join(i)}function zr(t,n){return null!=t&&-1!==t.indexOf(n)}function jr(t,n){return null!=t&&t.substr(0,n.length)===n}function $r(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function Xr(t,n){return t.toUpperCase()===n.toUpperCase()}function Gr(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Kr(n)}var Yr=16384;function Kr(t){var n=t.length;if(n<=Yr)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Yr)i.push(String.fromCharCode.apply(String,t.slice(e,e+Yr)));return i.join("")}var Jr=Et.Dn&&Et.On>=42||Et.Un&&Et.Vn>=38||Et.Ln||Et.Mn||Et.Wn&&Et.zn>=29;function Zr(t,n){return zr(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[gr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[gr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var Qr,tu=function(){function t(t){this.Rr=void 0,this.Ir=mr(),this.Dr=void 0,this.Rr=t}var n=t.prototype;return n.We=function(){return this.je(Vr)},n.Ve=function(){return this.je(qr)},n.qe=function(){return this.je(Ur)},n.He=function(){return this.je(Hr)},n.je=function(t){var n=t.Sr,i=this.Ir.get(n);if(i)return i;var e=this.ze(t,'video/mp4; codecs="avc1.42000a"');return this.Ir.set(n,e),e},n.ze=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,wr.awrap(this.Rr.Or(t.br,[Zr(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,wr.awrap(this.Rr.Or(t.br,[Zr(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],j)},n.Fe=function(){return this.Dr||(this.Dr=this.Nr()),this.Dr},n.Nr=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==tt.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Jr){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,wr.awrap(this.Ve());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,j)},t}();function nu(t,n){var i=function(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),u=1;u<e;u*=2){iu(i,n,u,r);var s=i;i=r,r=s}return i}(t,n);return i!==t&&iu(i,void 0,t.length,t),t}function iu(t,n,i,e){var r,u,s,o,c,a=t.length,h=0,f=2*i;for(u=0;u<a;u+=f)for(r=(s=u+i)+i,s>a&&(s=a),r>a&&(r=a),o=u,c=s;;)if(o<s&&c<r)n&&n(t[o],t[c])<=0?e[h++]=t[o++]:e[h++]=t[c++];else if(o<s)e[h++]=t[o++];else{if(!(c<r))break;e[h++]=t[c++]}}!function(t){t[t.Cr=0]="Cr",t[t.Ar=1]="Ar",t[t.Pr=-1]="Pr"}(Qr||(Qr={}));var eu=function(t,n){return(0|t)-(0|n)},ru=function(t,n){return t===n?Qr.Cr:t<n?Qr.Pr:t>n?Qr.Ar:g(t)?g(n)?Qr.Cr:Qr.Ar:Qr.Pr};function uu(t,n,i){return Sn(t,n,i)?Qr.Cr:ru(t,n)}var su=function(t,n){return function(t,n){if(t===n)return!0;var i=d.abs(t-n);return i<kn||i<d.max(d.abs(t),d.abs(n))*kn}(t,n)?Qr.Cr:ru(t,n)};function ou(t,n,i){var e=function(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function cu(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function au(t,n){var i=t.indexOf(n);return-1!==i&&(hu(t,i),!0)}function hu(t,n){t.splice(n,1)}function fu(t,n){return-1!==t.indexOf(n)}function vu(t,n){for(var i=0;i<n.length;i++){if(!fu(t,n[i]))return!1}return!0}function du(t){t.length=0}var lu=function(){function t(){this.xr=!1,this.Lr=!1,this.Br=[],this.Mr=[]}var n=t.prototype;return n.Fr=function(){if(!this.xr&&!this.Lr){this.xr=!0;for(var t=0,n=this.Br.slice();t<n.length;t++){(0,n[t])()}this.Ur()}},n.Ur=function(){if(!this.Lr){this.Lr=!0;for(var t=0,n=this.Mr.slice();t<n.length;t++){(0,n[t])()}du(this.Br),du(this.Mr)}},n.Vr=function(t){this.Lr||this.Br.push(t)},n.Hr=function(t){this.Lr||au(this.Br,t)},n.qr=function(t){this.Lr||this.Mr.push(t)},n.Wr=function(t){this.Lr||au(this.Mr,t)},t}(),wu=function(){function t(){this.zr=new lu}var n=t.prototype;return n.jr=function(){this.zr.Fr()},n.Ur=function(){this.zr.Ur()},n.$r=function(t){var n=this.zr;if(!n.xr)if(t.xr)n.Fr();else if(!n.Lr&&!t.Lr){var i=function(){e(),n.Fr()},e=function e(){t.Hr(i),t.Wr(e),n.Hr(i),n.Wr(e)};t.Vr(i),t.qr(e),n.Vr(i),n.qr(e)}},n.Xr=function(){var n=new t,i=new t,e=n.Gr,r=i.Gr,u=this.zr,s=function(){e.xr&&r.Lr||r.xr&&e.Lr?u.Fr():e.Lr&&r.Lr&&u.Ur()};e.Vr(s),r.Vr(s),e.qr(s),r.qr(s),n.$r(u),i.$r(u);return u.qr(function(){e.Hr(s),r.Hr(s),e.Wr(s),r.Wr(s)}),[n,i]},ht(t,[{key:"Gr",get:function(){return this.zr}}]),t}(),gu=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return vt(n,t),ht(n,[{key:"name",get:function(){return"AbortError"}}]),n}(An);function yu(t){return t instanceof h&&"AbortError"===t.name}function mu(t){if(t&&t.xr)throw new gu}function _u(t){if(yu(t))throw t}function pu(t){if(!yu(t))throw t}function bu(t,n){return n?new j(function(i,e){if(n.xr)return t.catch(Ft),e(new gu);var r=function t(){n.Hr(t),e(new gu)};n.Vr(r),t.then(function(t){n.Hr(r),i(t)},function(t){n.Hr(r),e(t)})}):t}function ku(t,n){return t.then(function(t){return n.Ur(),t},function(t){throw n.Ur(),t})}var Tu=j.resolve();function Su(t){Tu.then(t)}function Eu(t){t.then(Ft,Ft)}function Ru(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,wr.awrap(j.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,wr.awrap(j.all(t.map(function(t){return t.catch(Ft)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],j)}function Iu(t,n){return new j(function(i,e){if(void 0!==n&&n.xr)e(new gu);else{var r=st.xe(function(){void 0!==n&&n.Hr(u),i()},t),u=function(){st.Be(r),e(new gu)};void 0!==n&&n.Vr(u)}})}function Du(t){return t&&"function"!=typeof t?t.slice():t}function Ou(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var Nu,Cu=function(){function t(t){var n=this;this.Yr=yr(),this.Kr=void 0,this.Jr=void 0,this.Zr=function(t){n.Qr(t)},this.Jr=t||this}var n=t.prototype;return n.tu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.nu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.nu(e,n)}},n.nu=function(t,n){var i=this.Yr[t];i?"function"==typeof i?this.Yr[t]=[i,n]:i.push(n):this.Yr[t]=n},n.iu=function(t){if("function"==typeof t){var n=this.Kr;n?"function"==typeof n?this.Kr=[n,t]:n.push(t):this.Kr=t}},n.eu=function(){this.Yr=yr(),this.Kr=void 0},n.Qr=function(t){var n=Du(this.Yr[t.type]),i=Du(this.Kr);Ou(this.Jr,t,n),Ou(this.Jr,t,i)},n.ru=function(t,n){if("function"==typeof n)if("string"==typeof t)this.uu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.uu(e,n)}},n.uu=function(t,n){var i=this.Yr[t];i&&("function"==typeof i?i===n&&(this.Yr[t]=void 0):au(i,n))},n.su=function(t){if("string"==typeof t)this.Yr[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Yr[i]=void 0}},n.ou=function(t){var n=this.Kr;n&&("function"==typeof n?n===t&&(this.Kr=void 0):au(n,t))},n.cu=function(t,n){var i=this;return new j(function(e,r){if(n&&n.xr)return r(new gu);var u=function(t){o(),e(t)},s=function(){o(),r(new gu)},o=function(){i.ru(t,u),n&&n.Hr(s)};i.tu(t,u),n&&n.Vr(s)})},t}(),Au=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.Qr=function(n){var i=this;Su(function(){t.prototype.Qr.call(i,n)})},n}(Cu),Pu=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},xu=["cenc"],Lu=["cbcs","cbcs-1-9"],Bu=function(t){function n(n){var i;return(i=t.call(this,"hu")||this).au=n,i}return vt(n,t),n}(Pu),Mu=function(t){function n(n,i,e,r){var u;return(u=t.call(this,"fu")||this).au=n,u.vu=i,u.fu=e,u.du=r,u}return vt(n,t),n}(Pu),Fu=function(t){function n(){return t.call(this,"lu")||this}return vt(n,t),n}(Pu);!function(t){t.wu="gu",t.yu="mu"}(Nu||(Nu={}));var Uu=function(t){function n(n,i){var e;return(e=t.call(this,Nu.wu)||this).kr=n,e._u=i,e}return vt(n,t),n}(Pu),Vu=new y([0]).buffer,Hu=function(){function t(){this.pu=void 0,this.pu=[]}var n=t.prototype;return n.bu=function(t){for(var n=0,i=this.pu;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.ku=function(t){for(var n=0,i=this.pu;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.Tu=function(t,n){this.pu.forEach(function(n){return t(n[1],n[0])},n)},n.Su=function(t,n){this.pu.push([t,n])},n.Eu=function(){du(this.pu)},ht(t,[{key:"Ru",get:function(){return this.pu.length}}]),t}(),qu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Wu=16383,zu=/[\t\n\f\r ]/g;function ju(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:$u()}function $u(){throw new h("Invalid base64 input")}function Xu(t){var n=t;zu.test(n)&&(n=n.replace(zu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return $u();for(var r,u=0===e?0:4-e,s=new y(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,c=0,a=0;c<o;c+=4)r=ju(n.charCodeAt(c))<<18|ju(n.charCodeAt(c+1))<<12|ju(n.charCodeAt(c+2))<<6|ju(n.charCodeAt(c+3)),s[a++]=r>>16&255,s[a++]=r>>8&255,s[a++]=255&r;return 2===u?(r=ju(n.charCodeAt(c))<<2|ju(n.charCodeAt(c+1))>>4,s[a++]=255&r):1===u&&(r=ju(n.charCodeAt(c))<<10|ju(n.charCodeAt(c+1))<<4|ju(n.charCodeAt(c+2))>>2,s[a++]=r>>8&255,s[a++]=255&r),s}function Gu(t,n,i){for(var e,r,u,s=[],o=n;o<i;o+=3)s.push((e=t[o],r=t[o+1],u=t[o+2],qu[e>>2]+qu[(3&e)<<4|r>>4]+qu[(15&r)<<2|u>>6]+qu[63&u]));return s.join("")}function Yu(t){for(var n=t.length,i=n%3,e=[],r=n-i,u=0;u<r;u+=Wu)e.push(Gu(t,u,d.min(r,u+Wu)));if(1===i){var s=t[n-1];e.push(qu[s>>2]+qu[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],c=t[n-1];e.push(qu[o>>2]+qu[(3&o)<<4|c>>4]+qu[(15&c)<<2]+"=")}return e.join("")}var Ku=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Ju=ArrayBuffer.isView||function(t){return t&&fu(Ku,It.call(t))};function Zu(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function Qu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var u=t[r];i.set(u,e),e+=u.byteLength}return i}(t,n)}function ts(t){return Xu(t).buffer}function ns(t){return Yu(new y(t))}function is(t){return Yu(Is(t))}var es=function(){function t(t){void 0===t&&(t=0),this.Iu=t}var n=t.prototype;return n.Du=function(t){this.Iu+=t},n.Ou=function(t){this.Iu=t},n.Nu=function(){return new t(this.Cu)},ht(t,[{key:"Cu",get:function(){return this.Iu}}]),t}();function rs(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function us(t,n){return t>>n&63|128}function ss(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(rs(t),n.push(t>>12&15|224),n.push(us(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(us(t,12)),n.push(us(t,6))),n.push(63&t|128)):n.push(t)}function os(t,n){if(n.Cu>=t.length)throw new h("Invalid byte index");var i=255&t[n.Cu];if(n.Du(1),128==(192&i))return 63&i;throw new h("Invalid continuation byte")}function cs(t,n){var i=n.Cu;if(i>t.length)throw new h("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Du(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|os(t,n);if(r>=128)return r;throw new h("Invalid continuation byte")}if(224==(240&e)){var u=(15&e)<<12|os(t,n)<<6|os(t,n);if(u>=2048)return rs(u),u;throw new h("Invalid continuation byte")}if(240==(248&e)){var s=(7&e)<<18|os(t,n)<<12|os(t,n)<<6|os(t,n);if(s>=65536&&s<=1114111)return s}throw new h("Invalid UTF-8 detected")}var as=65279;var hs=function(){function t(t){this.Au=t}return t.prototype.Pu=function(t){return function(t,n){return(t&n)===n}(this.Au,t)},t}();function fs(t,n){var i=t.getUint8(n.Cu);return n.Du(1),i}function vs(t,n,i){t.setUint8(n.Cu,i),n.Du(1)}function ds(t,n,i){var e=Ps(Ls(t),n.Cu,n.Cu+i);return n.Du(e.byteLength),e}function ls(t,n,i){return n.Cu+i<=t.byteLength}function ws(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Cu,i);return n.Du(2),e}function gs(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Cu,i,e),n.Du(2)}function ys(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Cu,i);return n.Du(4),e}function ms(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Cu,i,e),n.Du(4)}function _s(t,n,i){void 0===i&&(i=!1);var e=ys(t,n,i),r=ys(t,n,i),u=i?r:e,s=i?e:r;return Jt.fromBits(s,u,!0)}function ps(t,n){return function(t,n){return Ts(t,n,!0)}(t,n)}function bs(t,n,i){return Kr(Vs(ds(t,n,i)))}function ks(t,n){var i,e=fs(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&fs(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&fs(t,n))+(63&fs(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&fs(t,n))+64*(63&fs(t,n))+(63&fs(t,n))),i}function Ts(t,n,i){for(var e=[];n.Cu<t.byteLength;){var r=fs(t,n);if(i&&!r)break;e.push(r)}return Kr(e)}function Ss(t,n,i,e){for(var r=[];n.Cu+2<=t.byteLength;){var u=ws(t,n,i);if(e&&!u)break;r.push(u)}return Kr(r)}function Es(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,u=0;u<r;u+=1){gs(t,n,i.charCodeAt(u),e)}}function Rs(t){return Ts(xs(t),new Hs,!1)}function Is(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)vs(t,n,i.charCodeAt(r))}(xs(n),new Hs,t),n}function Ds(t,n){return void 0===n&&(n=!1),Ss(xs(t),new Hs,n,!1)}function Os(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return Es(xs(i),new Hs,t,n),i}function Ns(t,n){return function(t,n,i){var e=[];(function(t,n){return n.Cu+3<=t.byteLength&&239===t.getUint8(n.Cu)&&187===t.getUint8(n.Cu+1)&&191===t.getUint8(n.Cu+2)})(t,n)&&n.Du(3);for(;n.Cu<t.byteLength;){var r=ks(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Gr(e)}(t,n,!0)}function Cs(t){return Gr(function(t,n){var i,e=[],r=new Hs;if(!n){if(!1===(i=cs(t,r)))return e;i===as||e.push(i)}for(;!1!==(i=cs(t,r));)e.push(i);return e}(Ls(t)))}function As(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)ss(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Ps(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function xs(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ls(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Bs(t){return t instanceof ArrayBuffer||Ju(t)}function Ms(t){return t instanceof ArrayBuffer?new y(t):Ls(t)}function Fs(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Us(Ps(t,n,i))}function Us(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}function Vs(t){return[].slice.call(t)}var Hs=function(){function t(t){void 0===t&&(t=0),this.Iu=t}var n=t.prototype;return n.Du=function(t){this.Iu+=t},n.Ou=function(t){this.Iu=t},n.Nu=function(){return new t(this.Cu)},n.xu=function(){return new es(this.Cu<<3)},ht(t,[{key:"Cu",get:function(){return this.Iu}}]),t}(),qs=function(){function t(){var t=this;this.Lu=void 0,this.Bu=void 0,this.Mu=void 0,this.Lu=new j(function(n,i){t.Bu=n,t.Mu=i})}var n=t.prototype;return n.Fu=function(t){this.Bu&&(this.Bu(t),this.Ur())},n.Uu=function(t){this.Mu&&(this.Mu(t),this.Ur())},n.jr=function(){this.Lu.catch(Ft),this.Uu(new gu)},n.Ur=function(){this.Bu=void 0,this.Mu=void 0},t}();function Ws(){return new y([8,4]).buffer}function zs(t){return Zu(t,Ws())}function js(t,n){return t===Cr?function(t){if(t.byteLength<2*$s.length)return t;if(Ds(new DataView(t,0,2*$s.length),!0)===$s)return t;return n=t,Os('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+ns(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var $s="<PlayReady";var Xs=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,r)||this).Vu=void 0,u.Hu=void 0,u.Vu=i,u.Hu=e,u}return vt(n,t),n}(An),Gs=function(t,n){return(Gs=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)v.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function Ys(t,n){if("function"!=typeof n&&null!==n)throw new f("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Gs(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}function Ks(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function Js(t,n,i){return d.min(d.max(t,n),i)}function Zs(t,n){return t>>8-n}function Qs(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.qu=t,this.Wu=n}t.prototype.get=function(t){var n=this.qu.get(t);if(0===this.Wu||void 0===n)return n;var i=this.qu.get(t+1)||0,e=n&(1<<8-this.Wu)-1,r=i>>8-this.Wu;return(e<<this.Wu)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.qu.get(d.floor((t+this.Wu)/8));if(void 0!==n)return(n&1<<7-this.Wu-t%8)>0?1:0}},v.defineProperty(t.prototype,"bitLength",{get:function(){return this.qu.bitLength-this.Wu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"length",{get:function(){return this.qu.length},enumerable:!1,configurable:!0})}(),function(){function t(t){this.zu=t,this.ju=0,this.$u=0}v.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.ju+this.$u},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"done",{get:function(){return this.ju===this.zu.length&&0===this.$u},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"location",{get:function(){return{byte:this.ju,bit:this.$u}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.zu);return n.seek(this.ju,this.$u),n},t.prototype.canReadBits=function(t){return 8*this.ju+t+this.$u<=8*this.zu.length},t.prototype.canReadBytes=function(t){return 0===this.$u?this.ju+t<=this.zu.length:this.ju+t<this.zu.length},t.prototype.incBit=function(){this.$u++,this.$u>7&&(this.ju++,this.$u=0)},t.prototype.seek=function(t,n){this.ju=t,this.$u=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new h("Cannot read past end of buffer.");return this.zu.get(this.ju)>>7-this.$u&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new h("Cannot read past end of buffer.");if(0===this.$u)return this.zu.get(this.ju++);var t=Qs(this.zu.get(this.ju),8-this.$u),n=Zs(this.zu.get(this.ju+1),this.$u);return this.ju++,t<<this.$u|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new h("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new h("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new h("Cannot read past end of buffer.");var n=0;if(0===this.$u&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new h("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new h("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-d.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new h("Skipping over the buffer edge is not allowed.");var n=this.$u+t;this.ju+=n>>3,this.$u=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new h("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)}}();var to=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1},no=function(){function t(){this.Xu=[],this.Gu=[],this.N=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,u=n;r<u.length;r++){var s=u[r];e.pushRange(s)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new h("The buffer length must be positive.");if(0!==i){if(0===this.Gu.length)this.Gu.push(0);else{var e=this.Gu[this.Gu.length-1]+this.Xu[this.Xu.length-1].length;this.Gu.push(e)}this.Xu.push(t.subarray(n,n+i)),this.N+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,u=this.Xu;r<u.length;r++){var s=u[r];t.set(s,e),i+=s.length,e+=s.length}return i},t.prototype.clear=function(){this.Xu=[],this.Gu=[],this.N=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.Gu[n];return this.Xu[n][i]}},v.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.Xu.length<1)return-1;if(this.Xu.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.Xu[0];return"number"==typeof t?Ks(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,u=0;u<=r&&!((u=Ks(t,i,u))<0||u>r);u++){for(var s=u+1,o=u+e,c=1;s<o&&t[s]===n[c];s++,c++);if(s===o)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var u=d.ceil((e+r)/2);i(t[u],n)<=0?e=u:r=u-1}return e}}}(this.Gu,t,to)},t.prototype.join=function(){if(1===this.Xu.length)return this.Xu[0];var t=new y(this.length);return this.copyInternal(t,0),t},v.defineProperty(t.prototype,"length",{get:function(){return this.N},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new h("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new h("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*d.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=Js(n,0,this.length),r=Js(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var u=new t,s=this.findContainingBufferIndex(e),o=this.Xu[s],c=e,a=c-this.Gu[s];c+o.length-a<r;)u.pushRange(o,a,o.length-a),s+=1,a=(c+=o.length-a)-this.Gu[s],o=this.Xu[s];var h=r-c;return u.pushRange(o,a,h),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.Xu.length-1,e=this.Xu[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.Xu[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),io=function(){function t(n){this.Yu=n||t.BUFFER_CHUNK_SIZE,this.Ku=!1,this.Ju=new no,this.zu=new y(this.Yu),this.Zu=0,this.Qu=0,this.$u=7}return t.prototype.closeByte=function(){this.zu[this.Zu++]=this.Qu,this.Zu>=this.Yu&&this.closeBuffer(),this.Qu=0,this.$u=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.Zu&&(this.Ju.pushRange(this.zu,0,this.Zu),t&&(this.zu=new y(this.Yu)),this.Zu=0)},v.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.$u},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Ku)throw new h("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Ku=!0,this.Ju},t.prototype.writeBit=function(t){if(this.Ku)throw new h("Cannot write to a closed BitWriter.");this.Qu|=t<<this.$u,0===this.$u?this.closeByte():this.$u--},t.prototype.writeByte=function(t){if(this.Ku)throw new h("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Qu=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.$u;this.Qu|=Zs(t,n+1),this.closeByte(),this.Qu=Qs(t,8-n)<<n+1,this.$u=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.Ku)throw new h("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.Zu+t.length<=this.Yu?(this.zu.set(t,this.Zu),this.Zu+=t.length,this.Zu===this.Yu&&this.closeBuffer()):(this.closeBuffer(),this.Ju.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.$u;this.Qu|=Zs(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=Qs(t[i-1],8-n),r=Zs(t[i],n+1);this.Qu=e<<n+1|r,this.closeByte()}this.Qu=Qs(t[t.length-1],8-n)<<n+1,this.$u=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new h("Received a negative number.");if(n>32)throw new h("The max bitlength that can be provided is 32.");if(t>=d.pow(2,n))throw new h("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new h("The max bitlength that can be provided is 32.");if(d.abs(t)>=d.pow(2,n-1))throw new h("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+d.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new h("Received a negative number.");for(var n=d.floor(d.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),eo=function(){function t(t){this.rb=new no,this.ts=t}return t.prototype.closeWriter=function(){void 0!==this.ts&&(this.rb=this.rb.concat(this.ts.close()),this.ts=void 0)},v.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.ts&&(this.ts=new io),this.ts},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),ro=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new h("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(d.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new eo;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=d.pow(2,32),t}();function uo(t,n){return t instanceof Jt?64===n:t<d.pow(2,n)}function so(t,n){return d.round(t*d.pow(2,n))}function oo(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}var co=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!uo(i,8))throw new h("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Ys(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.es},set:function(t){this.es=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new h("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(ro);!function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}Ys(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(no.from(this.data))}}(ro);var ao=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();var ho=16384;function fo(t){var n=t.length;if(n<=ho)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=ho)i.push(String.fromCharCode.apply(String,t.slice(e,e+ho)));return i.join("")}function vo(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function lo(t,n,i){var e,r=function(t,n,i){void 0===n&&(n=0);void 0===i&&(i=t.byteLength);return new y(t.buffer,t.byteOffset+n,i-n)}(new y((e=t).buffer,e.byteOffset,e.byteLength),n.offset,n.offset+i);return n.shift(r.byteLength),r}function wo(t,n,i){return n.offset+i<=t.byteLength}function go(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function yo(t,n,i){void 0===i&&(i=!1);var e=go(t,n,i),r=go(t,n,i),u=i?r:e,s=i?e:r;return Jt.fromBits(s,u,!0)}function mo(t,n,i){var e,r=lo(t,n,i);return fo((e=r,[].slice.call(e)))}function _o(t,n){var i,e=vo(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&vo(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&vo(t,n))+(63&vo(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&vo(t,n))+64*(63&vo(t,n))+(63&vo(t,n))),i}function po(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=_o(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return function(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return fo(n)}(e)}(t,n,!0)}var bo=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new ao(this.offset<<3)},t}(),ko=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return vo(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return go(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=go(t,n,i),r=go(t,n,i),u=i?r:e,s=i?e:r;return Jt.fromBits(s,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return yo(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return lo(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(go(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return mo(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return po(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function To(t,n){return t.type===n}var So=8;function Eo(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!wo(t,n,So)){var e=n.offset+So;return{complete:!1,neededOffset:e}}var r=go(t,n),u=mo(t,n,4);if(1===r){if(!wo(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=yo(t,n).toNumber()}if("uuid"===u){if(!wo(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}u=mo(t,n,16)}var s=n.offset;return{complete:!0,header:{type:u,size:r,headerSize:s-i}}}(t,n);if(!e.complete)return e;var r=e.header,u=r.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var c,a,h,f={type:r.type,offset:i,data:new ko((c=t,a=i,h=s,void 0===a&&(a=0),void 0===h&&(h=c.byteLength),new DataView(c.buffer,c.byteOffset+a,h-a)),new bo(r.headerSize))};return n.seek(s),{complete:!0,box:f}}!function(t){function n(){return t.call(this,"mdir")||this}Ys(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var u=t.call(this,"hdlr",e,r)||this;return u.name=i,u.handlerType=n,u}return Ys(n,t),v.defineProperty(n.prototype,"handlerType",{get:function(){return this.rs},set:function(t){this.rs=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(co));var Ro=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},v.defineProperty(t.prototype,"tag",{get:function(){return this.us},set:function(t){if(!uo(t,8))throw new h("Provided tag does not fit in 8 bits.");this.us=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o={});var c=t.call(this,4,o.fixed28BitMode)||this;return c.upStream=e,c.decoderSpecificInfo=s,c.objectTypeIndication=n,c.streamType=i,c.bufferSizeDb=r,c.maxBitrate=u.max,c.avgBitrate=u.avg,c}Ys(n,t),v.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.ss},set:function(t){if(!uo(t,8))throw new h("Provided objectTypeIndication does not fit in 8 bits.");this.ss=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamType",{get:function(){return this.os},set:function(t){if(!uo(t,6))throw new h("Provided streamType does not fit in 6 bits.");this.os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.cs},set:function(t){if(!uo(t,24))throw new h("Provided bufferSizeDb does not fit in 24 bits.");this.cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.as},set:function(t){if(!uo(t,32))throw new h("Provided maxBitrate does not fit in 32 bits.");this.as=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.hs},set:function(t){if(!uo(t,32))throw new h("Provided avgBitrate does not fit in 32 bits.");this.hs=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Ro),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}Ys(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(no.from(this.data))}}(Ro);var Io=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return Ys(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Ro);!function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,3,r.fixed28BitMode)||this;return u.decoderConfigDescriptor=e,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==r?void 0:r.dependsOnEsId,u.urlString=null==r?void 0:r.url,u.ocrEsId=null==r?void 0:r.ocrEsId,u.slConfigDescriptor=new Io(r.fixed28BitMode),u}Ys(n,t),v.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"esId",{get:function(){return this.fs},set:function(t){if(!uo(t,16))throw new h("Provided esId does not fit in 16 bits.");this.fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamPriority",{get:function(){return this.vs},set:function(t){if(!uo(t,5))throw new h("Provided streamPriority does not fit in 5 bits.");this.vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.ds},set:function(t){if(t&&!uo(t,16))throw new h("Provided dependsOnEsId does not fit in 16 bits.");this.ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.ls},set:function(t){if(t&&!uo(t,16))throw new h("Provided ocrEsId does not fit in 16 bits.");this.ls=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Ro);var Do=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return Ys(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(ro),Oo=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Ys(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Do),No=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return Ys(n,t),v.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.gs},set:function(t){if(!uo(t,16))throw new h("Provided dataReferenceIndex does not fit in 16 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Oo),Co=function(t){function n(n,i,e,r){var u,s,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(u=e.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=e.sampleSize)&&void 0!==s?s:16,o.sampleRate=e.sampleRate,o}return Ys(n,t),v.defineProperty(n.prototype,"channelCount",{get:function(){return this.ys},set:function(t){if(!uo(t,16))throw new h("Provided channelCount does not fit in 16 bits.");this.ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleSize",{get:function(){return this._s},set:function(t){if(!uo(t,16))throw new h("Provided sampleSize does not fit in 16 bits.");this._s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleRate",{get:function(){return this.ps},set:function(t){if(!uo(so(t,16),32))throw new h("Provided rate does not fit in 32 bits (fixed 16.16).");this.ps=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(so(this.sampleRate,16),32),this.extra&&oo(n.writer,this.extra)},n}(No);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}Ys(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.bs},set:function(t){if(!uo(t.length,32))throw new h("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!uo(t,32)}))throw new h("Not all entries can be represented in 32 bits.");this.bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(co),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}Ys(n,t),v.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.ks},set:function(t){if(!uo(t,32))throw new h("Provided cleanApertureWidthN does not fit in 32 bits.");this.ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.Ts},set:function(t){if(!uo(t,32))throw new h("Provided cleanApertureWidthD does not fit in 32 bits.");this.Ts=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Ss},set:function(t){if(!uo(t,32))throw new h("Provided cleanApertureHeightN does not fit in 32 bits.");this.Ss=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.Es},set:function(t){if(!uo(t,32))throw new h("Provided cleanApertureHeightD does not fit in 32 bits.");this.Es=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Rs},set:function(t){if(!uo(t,32))throw new h("Provided horizOffN does not fit in 32 bits.");this.Rs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Is},set:function(t){if(!uo(t,32))throw new h("Provided horizOffD does not fit in 32 bits.");this.Is=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Ds},set:function(t){if(!uo(t,32))throw new h("Provided vertOffN does not fit in 32 bits.");this.Ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffD",{get:function(){return this.Os},set:function(t){if(!uo(t,32))throw new h("Provided vertOffD does not fit in 32 bits.");this.Os=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(ro),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}Ys(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.bs},set:function(t){if(!uo(t.length,32))throw new h("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!uo(t.sampleCount,32)||!uo(t.sampleOffset,32)}))throw new h("Not all entries can be represented in 64 bits.");this.bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(co),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}Ys(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Ns},set:function(t){this.flags=void 0===t?1:0,this.Ns=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(co),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}Ys(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Ns},set:function(t){if(1&this.flags)throw new h("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Ns=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(co),function(t){function n(){return t.call(this,"dinf")||this}Ys(n,t)}(Oo);var Ao=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!uo(i,8))throw new h("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Ys(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.es},set:function(t){this.es=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new h("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Do);!function(t){function n(){return t.call(this,"dref",0,0)||this}Ys(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Ao);var Po=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return Ys(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.bs},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!uo(e.segmentDuration,this.bitSize))throw new h("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!uo(e.mediaTime,this.bitSize))throw new h("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!uo(e.mediaRateInteger,16))throw new h("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!uo(e.mediaRateFraction,16))throw new h("Provided mediaRateFraction does not fit in 16 bits.")}this.bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(co);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}Ys(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(Po),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}Ys(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(Po),function(t){function n(){return t.call(this,"edts")||this}Ys(n,t)}(Oo);var xo=function(t){function n(n,i,e,r){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=e,u.compatibleBrands=r,u}return Ys(n,t),v.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Cs},set:function(t){if(4!==t.length)throw new h("the provided major brand does not conform to the 4 character requirement");this.Cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"minorVersion",{get:function(){return this.As},set:function(t){if(!uo(t,32))throw new h("the provided minor version does not fit in 32 bits.");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Ps},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new h("Some of the compatible brands do not conform to the 4 character requirement");this.Ps=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(ro);!function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}Ys(n,t)}(xo),function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}Ys(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(no.from(this.data))}}(ro);var Lo,Bo=function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=t.call(this,"mdhd",e,r)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u}return Ys(n,t),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.xs},set:function(t){if(!uo(t,this.bitSize))throw new h("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Ls},set:function(t){if(!uo(t,this.bitSize))throw new h("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Bs},set:function(t){if(!uo(t,32))throw new h("Provided sequence number does not fit in 32 bits.");this.Bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Ms},set:function(t){if(!uo(t,this.bitSize))throw new h("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ms=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"language",{get:function(){return this.Fs},set:function(t){if(!function(t){return/^[a-z]{3}$/.test(t)}(t))throw new h("Expected an ISO-639-2/T language code");this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(co);!function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}Ys(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}}(Bo),function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}Ys(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(Bo),function(t){function n(){return t.call(this,"mdia")||this}Ys(n,t)}(Oo),function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new no,n}Ys(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}}(ro),function(t){function n(){return t.call(this,"minf")||this}Ys(n,t)}(Oo),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}Ys(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Ao),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(Lo||(Lo={}));var Mo,Fo,Uo={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Vo(t,n){n.writer.writeUInt(so(t.a,16),32),n.writer.writeUInt(so(t.b,16),32),n.writer.writeUInt(so(0,30),32),n.writer.writeUInt(so(t.c,16),32),n.writer.writeUInt(so(t.d,16),32),n.writer.writeUInt(so(0,30),32),n.writer.writeUInt(so(t.x,16),32),n.writer.writeUInt(so(t.y,16),32),n.writer.writeUInt(so(1,30),32)}function Ho(t,n){var i,e,r,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Mo.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Fo.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Fo.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:Fo.UNKNOWN,2)}function qo(t,n){var i,e,r;n.writer.writeUInt(0,4),Ho(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Mo||(Mo={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Fo||(Fo={}));var Wo=function(){return function(){}}(),zo=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return Ys(n,t),v.defineProperty(n.prototype,"systemId",{get:function(){return this.Us},set:function(t){if(16!==t.length)throw new h("Provided systemId length is not 16.");this.Us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"data",{get:function(){return this.P},set:function(t){if(!uo(t.length,32))throw new h("Provided data length does not fit in 32 bits.");this.P=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(no.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(no.from(this.data))},n}(co),jo=function(t){function n(n,i){return t.call(this,0,n,i)||this}return Ys(n,t),n}(zo),$o=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return Ys(n,t),v.defineProperty(n.prototype,"kIds",{get:function(){return this.Vs},set:function(t){if(!uo(t.length,32))throw new h("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new h("Not all provided key ids are 16 bytes long.");this.Vs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(no.from(e))}},n}(zo);var Xo=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return Ys(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Hs},set:function(t){if(!uo(t,this.bitSize))throw new h("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Hs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(co);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}Ys(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)}}(Xo),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}Ys(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)}}(Xo),function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var u,s,o,c=this;return(c=t.call(this,"trex",e,r)||this).trackId=n,c.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,c.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,c.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,c.defaultSampleFlags=i.sampleFlags,c}Ys(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.qs},set:function(t){if(!uo(t,32))throw new h("Provided track id does not fit in 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Ws},set:function(t){if(!uo(t,32))throw new h("Provided default sample description index does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.zs},set:function(t){if(!uo(t,32))throw new h("Provided default sample duration does not fit in 32 bits.");this.zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.js},set:function(t){if(!uo(t,32))throw new h("Provided default sample size does not fit in 32 bits.");this.js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.$s},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!uo(t.samplePaddingValue,3))throw new h("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!uo(t.sampleDegradationPriority,16))throw new h("Provided sample degradation priority does not fit in 16 bits.");this.$s=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),qo(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)}}(co),function(t){function n(){return t.call(this,"mvex")||this}Ys(n,t)}(Oo);var Go=function(t){function n(i,e,r,u,s){void 0===s&&(s=0);var o,c,a,h=this;return(h=t.call(this,"mvhd",u,s)||this).creationTime=i.creation,h.modificationTime=i.modification,h.timescale=i.scale,h.duration=i.duration,h.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,h.volume=null!==(c=r.volume)&&void 0!==c?c:n.DEFAULT_VOLUME,h.matrix=null!==(a=r.matrix)&&void 0!==a?a:Uo,h.Xs=e,h}return Ys(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.xs},set:function(t){if(!uo(t,this.bitSize))throw new h("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Ls},set:function(t){if(!uo(t,this.bitSize))throw new h("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Bs},set:function(t){if(!uo(t,32))throw new h("Provided sequence number does not fit in 32 bits.");this.Bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Ms},set:function(t){if(!uo(t,this.bitSize))throw new h("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ms=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"rate",{get:function(){return this.Gs},set:function(t){if(!uo(so(t,16),32))throw new h("Provided rate does not fit in 32 bits (fixed 16.16).");this.Gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.Ys},set:function(t){if(!uo(so(t,8),16))throw new h("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.Ks},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new h("(u, v, w) does not match the required (0, 0, 1)");this.Ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Xs},set:function(t){if(0===t)throw new h("NextTrackId cannot be 0.");if(!uo(t,32))throw new h("NextTrackId cannot exceed 32 bits.");this.Xs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(so(this.rate,16),32),n.writer.writeUInt(so(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Vo(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(co);!function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}Ys(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}}(Go),function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}Ys(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(Go);var Yo=function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o={});var c,a,h,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=u,f.height=s,f.layer=null!==(c=o.layer)&&void 0!==c?c:0,f.alternateGroup=null!==(a=o.alternateGroup)&&void 0!==a?a:0,f.matrix=null!==(h=o.matrix)&&void 0!==h?h:Uo,f}return Ys(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.xs},set:function(t){if(!uo(t,this.bitSize))throw new h("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Ls},set:function(t){if(!uo(t,this.bitSize))throw new h("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"trackId",{get:function(){return this.qs},set:function(t){if(0===t)throw new h("trackId cannot be 0.");if(!uo(t,32))throw new h("trackId cannot exceed 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Ms},set:function(t){if(!uo(t,this.bitSize))throw new h("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ms=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.Ys},set:function(t){if(!uo(so(t,8),16))throw new h("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"width",{get:function(){return this.Js},set:function(t){if(!uo(so(t,16),32))throw new h("Provided width does not fit in 32 bits (fixed 16.16).");this.Js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.Zs},set:function(t){if(!uo(so(t,16),32))throw new h("Provided height does not fit in 32 bits (fixed 16.16).");this.Zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"layer",{get:function(){return this.Qs},set:function(t){if(!uo(t,16))throw new h("Provided layer does not fit in 16 bits.");this.Qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.to},set:function(t){if(!uo(t,16))throw new h("Provided alternateGroup does not fit in 16 bits.");this.to=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.Ks},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new h("(u, v, w) does not match the required (0, 0, 1)");this.Ks=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(so(this.volume,8),16),n.writer.writeUInt(0,16),Vo(this.matrix,n),n.writer.writeUInt(so(this.width,16),32),n.writer.writeUInt(so(this.height,16),32)},n}(co);!function(t){function n(n,i,e,r,u,s){return t.call(this,0,n,i,e,r,u,s)||this}Ys(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)}}(Yo),function(t){function n(n,i,e,r,u,s){return t.call(this,1,n,i,e,r,u,s)||this}Ys(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(Yo),function(t){function n(){return t.call(this,"trak")||this}Ys(n,t)}(Oo),function(t){function n(){return t.call(this,"moov")||this}Ys(n,t)}(Oo);var Ko=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return Ys(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.io},set:function(t){if(!uo(t,this.bitSize))throw new h("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.io=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(co);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}Ys(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)}}(Ko),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}Ys(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)}}(Ko),function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}Ys(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.qs},set:function(t){if(!uo(t,32))throw new h("Provided track id does not fit in 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.eo},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new h("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new h("The base data offset present flag is not set.");if(t&&!uo(t,64))throw new h("Provided baseDataOffset does not fit in 32 bits.");this.eo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.ro},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new h("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new h("The sample description index flag is not set.");if(t&&!uo(t,32))throw new h("Provided sampleDescriptionIndex does not fit in 32 bits.");this.ro=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.zs},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new h("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new h("The default sample duration present flag is not set.");if(t&&!uo(t,32))throw new h("Provided defaultSampleDuration does not fit in 32 bits.");this.zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.js},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new h("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new h("The default sample size present flag is not set.");if(t&&!uo(t,32))throw new h("Provided defaultSampleSize does not fit in 32 bits.");this.js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.$s},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new h("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new h("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!uo(t.samplePaddingValue,3))throw new h("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!uo(t.sampleDegradationPriority,16))throw new h("Provided sample degradation priority does not fit in 16 bits.");this.$s=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&qo(this.defaultSampleFlags,n)}}(co),function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}Ys(n,t),v.defineProperty(n.prototype,"dataOffset",{get:function(){return this.uo},set:function(t){if(t&&!uo(t,32))throw new h("Provided data offset does not fit in 32 bits.");this.uo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.so},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!uo(t.samplePaddingValue,3))throw new h("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!uo(t.sampleDegradationPriority,16))throw new h("Provided sample degradation priority does not fit in 16 bits.");this.so=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.oo},set:function(t){var n,i;if(!uo(t.length,32))throw new h("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var u=r[e];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new h("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new h("The sample duration present flag is not set.");if(u.duration&&!uo(u.duration,32))throw new h("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new h("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new h("The sample size present flag is not set.");if(u.size&&!uo(u.size,32))throw new h("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new h("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new h("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!uo(u.flags.samplePaddingValue,3))throw new h("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!uo(u.flags.sampleDegradationPriority,16))throw new h("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new h("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new h("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!uo(u.compositionTimeOffset,32))throw new h("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.oo=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&qo(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&qo(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}}}(co),function(t){function n(){return t.call(this,"traf")||this}Ys(n,t)}(Oo),function(t){function n(){return t.call(this,"moof")||this}Ys(n,t)}(Oo),function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}Ys(n,t),v.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.co},set:function(t){if(!uo(t,32))throw new h("Provided sequence number does not fit in 32 bits.");this.co=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(co);var Jo=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return Ys(n,t),v.defineProperty(n.prototype,"codingName",{get:function(){return this.ao},set:function(t){if(4!==t.length)throw new h("Provided coding name was not 4 characters long.");this.ao=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(ro);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}Ys(n,t),v.defineProperty(n.prototype,"hSpacing",{get:function(){return this.ho},set:function(t){if(!uo(t,32))throw new h("Provided hSpacing does not fit in 32 bits.");this.ho=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vSpacing",{get:function(){return this.fo},set:function(t){if(!uo(t,32))throw new h("Provided vSpacing does not fit in 32 bits.");this.fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(ro),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}Ys(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Oo),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new Jo(n),r}Ys(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(ro);var Zo=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return Ys(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.bs},set:function(t){var n=this;if(!uo(t.length,32))throw new h("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!uo(t,n.bitSize)}))throw new h("Not all provided entries fit in ".concat(this.bitSize," bits."));this.bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.vo},set:function(t){if(void 0===t)this.flags=0;else{if(!uo(t.auxInfoType,32))throw new h("Provided auxInfoType does not fit in 32 bits.");if(!uo(t.auxInfoTypeParameter,32))throw new h("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(co);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Ys(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(Zo),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Ys(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(Zo),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}Ys(n,t),v.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.do},set:function(t){if(!uo(t,8))throw new h("Provided defaultSampleInfoSize does not fit in a single byte.");this.do=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.lo},set:function(t){if(!uo(t.length,32))throw new h("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!uo(t,8)}))throw new h("Not all provided sampleInfoSizes fit in a byte.");this.lo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.vo},set:function(t){if(void 0===t)this.flags=0;else{if(!uo(t.auxInfoType,32))throw new h("Provided auxInfoType does not fit in 32 bits.");if(!uo(t.auxInfoTypeParameter,32))throw new h("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new h("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(co),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}Ys(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Ho(e[i],n)}}}(co),function(t){function n(n){return t.call(this,"stsd",n,0)||this}Ys(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Ao);var Qo=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return Ys(n,t),v.defineProperty(n.prototype,"groupingType",{get:function(){return this.wo},set:function(t){if(4!==t.length)throw new h("The provided groupingType does not equal 4 characters.");this.wo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(co);!function(t){function n(n,i){return t.call(this,0,n,i)||this}Ys(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(Qo),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}Ys(n,t),v.defineProperty(n.prototype,"defaultLength",{get:function(){return this.yo},set:function(t){if(!uo(t,32))throw new h("The provided defaultLength does not fit in 32 bits.");this.yo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(Qo),function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=this;if(n<2)throw new h("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,u}Ys(n,t),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Ws},set:function(t){if(!uo(t,32))throw new h("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(Qo),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}Ys(n,t),v.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.mo},set:function(t){if(!uo(t.length,32))throw new h("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!uo(t,32)}))throw new h("Not all sampleSizes can be represented in 32 bits.");this.mo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(co),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}Ys(n,t),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.js},set:function(t){if(!uo(t,32))throw new h("Provided defaultSampleSize does not fit in 32 bits.");this.js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.oo},set:function(t){if(!uo(t,32))throw new h("Number of allowed samples cannot fit in 32 bits.");this.oo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(co),function(t){function n(){return t.call(this,"stbl")||this}Ys(n,t)}(Oo),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}Ys(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.bs},set:function(t){if(!uo(t.length,32))throw new h("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!uo(t.firstChunk,32)||!uo(t.sampleDescriptionIndex,32)||!uo(t.samplesPerChunk,32)}))throw new h("Not all entries can be represented in 96 bits.");this.bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(co),function(t){function n(){return t.call(this,"schi")||this}Ys(n,t)}(Oo),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}Ys(n,t),v.defineProperty(n.prototype,"schemeType",{get:function(){return this._o},set:function(t){if(4!==t.length)throw new h("The provided schemeType does not have a length of 4.");this._o=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.po},set:function(t){if(!uo(t,32))throw new h("The provided schemeVersion does not fit in 23 bits.");this.po=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeUri",{get:function(){return this.bo},set:function(t){if(t&&4!==t.length)throw new h("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.bo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(co);var tc=function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o=0);var c=t.call(this,"sidx",n,o)||this;return c.referenceId=i,c.timescale=e,c.earliestPresentationTime=r,c.firstOffset=u,c.references=s,c}return Ys(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"referenceId",{get:function(){return this.ko},set:function(t){if(!uo(t,32))throw new h("Provided referenceId does not fit in 32 bits.");this.ko=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Bs},set:function(t){if(!uo(t,32))throw new h("Provided timescale does not fit in 32 bits.");this.Bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.To},set:function(t){if(!uo(t,this.bitSize))throw new h("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.To=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstOffset",{get:function(){return this.So},set:function(t){if(!uo(t,this.bitSize))throw new h("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.So=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"references",{get:function(){return this.Eo},set:function(t){if(!uo(t.length,16))throw new h("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!uo(e.referencedSize,31))throw new h("Provided referenced size does not fit in 31 bits.");if(!uo(e.subsegmentDuration,32))throw new h("Provided subsegment duration does not fit in 31 bits.");if(!uo(e.sapType,3))throw new h("Provided SAP type does not fit in 3 bits.");if(!uo(e.sapDeltaTime,28))throw new h("Provided SAP delta time does not fit in 28 bits.")}this.Eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(co);!function(t){function n(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,e,r,u,s)||this}Ys(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)}}(tc),function(t){function n(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,e,r,u,s)||this}Ys(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)}}(tc),function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}Ys(n,t)}(xo),function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}Ys(n,t),v.defineProperty(n.prototype,"balance",{get:function(){return this.Ro},set:function(t){if(t<-1||t>1)throw new h("Provided balance does not fit in the allowed range [-1, 1].");if(!uo(so(t,8),16))throw new h("Provided balance does not fit in 16 bits (fixed 8.8).");this.Ro=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(so(this.balance,8),16),n.writer.writeUInt(0,16)}}(co),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}Ys(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.bs},set:function(t){if(!uo(t.length,32))throw new h("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!uo(t,32)}))throw new h("Not all entries can be represented in 32 bits.");this.bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(co),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}Ys(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.bs},set:function(t){if(!uo(t.length,32))throw new h("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!uo(t.sampleCount,32)||!uo(t.sampleDelta,32)}))throw new h("Not all entries can be represented in 64 bits.");this.bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(co),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}Ys(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.qs},set:function(t){if(!uo(t,32))throw new h("The provided trackId does not fit in 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Ao),function(t){function n(){return t.call(this,"udta")||this}Ys(n,t)}(Oo);var nc={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=nc);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}Ys(n,t),v.defineProperty(n.prototype,"opColor",{get:function(){return this.Io},set:function(t){if(!uo(t.red,16)||!uo(t.green,16)||!uo(t.blue,16))throw new h("Not all colors could be represented in 16 bits.");this.Io=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(co);var ic=function(t){function n(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var s,o,c,a,h,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(s=e.horizontal)&&void 0!==s?s:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(c=r.compressorName)&&void 0!==c?c:"",f.frameCount=null!==(a=r.frameCount)&&void 0!==a?a:1,f.depth=null!==(h=r.depth)&&void 0!==h?h:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=u,f}return Ys(n,t),v.defineProperty(n.prototype,"width",{get:function(){return this.Js},set:function(t){if(!uo(t,16))throw new h("Provided width does not fit in 16 bits.");this.Js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.Zs},set:function(t){if(!uo(t,16))throw new h("Provided height does not fit in 16 bits.");this.Zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.Do},set:function(t){if(!uo(so(t,16),32))throw new h("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.Do=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.Oo},set:function(t){if(!uo(so(t,16),32))throw new h("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.Oo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compressorName",{get:function(){return this.No},set:function(t){if(t.length>31)throw new h("The provided compressorName should at most be 31 characters long.");this.No=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"frameCount",{get:function(){return this.Co},set:function(t){if(!uo(t,16))throw new h("Provided frameCount does not fit in 16 bits.");this.Co=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"depth",{get:function(){return this.Ao},set:function(t){if(!uo(t,16))throw new h("Provided depth does not fit in 16 bits.");this.Ao=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(so(this.horizontalResolution,16),32),n.writer.writeUInt(so(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&oo(n.writer,this.extra)},n}(No);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}Ys(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(no.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(co),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}Ys(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Co),function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,"mp4v",n,i,r)||this;return u.esDescriptor=e,u}Ys(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(ic),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}Ys(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(No),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}Ys(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(ro),function(){function t(t,n,i,e,r,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}v.defineProperty(t.prototype,"version",{get:function(){return this.Po},set:function(t){if(!uo(t,8))throw new h("Provided version does not fit in 8 bits.");this.Po=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"profileIndication",{get:function(){return this.xo},set:function(t){if(!uo(t,8))throw new h("Provided profileIndication does not fit in 8 bits.");this.xo=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.Lo},set:function(t){if(!uo(t,8))throw new h("Provided profileCompatibility does not fit in 8 bits.");this.Lo=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"levelIndication",{get:function(){return this.Bo},set:function(t){if(!uo(t,8))throw new h("Provided levelIndication does not fit in 8 bits.");this.Bo=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"spsSets",{get:function(){return this.Mo},set:function(t){if(!uo(t.length,5))throw new h("Provided number of spsSets exceeds the max (32)");this.Mo=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"ppsSets",{get:function(){return this.Fo},set:function(t){if(!uo(t.length,8))throw new h("Provided number of ppsSets exceeds the max (256)");this.Fo=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(no.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,u=this.ppsSets;r<u.length;r++){var s=u[r];t.writer.writeUInt(s.length,16),t.concat(no.from(s))}}}(),function(t){function n(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var s=t.call(this,"avc1",n,i,r)||this;return s.configurationBox=e,s.bitrateBox=u,s}Ys(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(ic),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}Ys(n,t),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.cs},set:function(t){if(!uo(t,32))throw new h("Provided bufferSizeDb does not fit in 32 bits.");this.cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"max",{get:function(){return this.Uo},set:function(t){if(!uo(t,32))throw new h("Provided max does not fit in 32 bits.");this.Uo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avg",{get:function(){return this.Vo},set:function(t){if(!uo(t,32))throw new h("Provided avg does not fit in 32 bits.");this.Vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(ro);var ec=function(t){function n(n,i){var e,r,u,s,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new h("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new y(0),o}return Ys(n,t),v.defineProperty(n.prototype,"isProtected",{get:function(){return this.Ho},set:function(t){if(!uo(t,8))throw new h("Provided isProtected does not fit in 1 byte.");this.Ho=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.qo},set:function(t){if(![8,16].includes(t))throw new h("Provided perSampleIvSize does not match any allowed value [8, 16].");this.qo=t,this.Wo=new y(0)},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"kId",{get:function(){return this.zo},set:function(t){if(16!==t.length)throw new h("Provided kId length is not 16.");this.zo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"constantIv",{get:function(){return this.Wo},set:function(t){if(![8,16].includes(t.length))throw new h("Provided constant IV length does not match any allowed value [8, 16].");this.Wo=t,this.qo=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),oo(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),oo(t.writer,this.constantIv))},n}(co);!function(t){function n(n){return t.call(this,0,n)||this}Ys(n,t)}(ec);var rc=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return Ys(n,t),v.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.jo},set:function(t){if(!uo(t,4))throw new h("Provided cryptByteBlocks does not fit in 4 bits.");this.jo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.$o},set:function(t){if(!uo(t,4))throw new h("Provided skipByteBlocks does not fit in 4 bits.");this.$o=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(ec);function uc(t){return void 0!==t.iv}function sc(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new rc(n),i}Ys(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Wo),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}Ys(n,t),v.defineProperty(n.prototype,"samples",{get:function(){return this.oo},set:function(t){var n;if(!uo(t.length,32))throw new h("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(uc(r)&&![8,16].includes(r.iv.length))throw new h("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=sc(r)),!0===n&&!sc(r)||!1===n&&sc(r))throw new h("Mix of samples with and without subsamples detected.");if(sc(r)){if(!uo(r.subsamples.length,16))throw new h("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];if(!uo(o.clearData,16))throw new h("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!uo(o.protectedData,23))throw new h("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.oo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];uc(r)&&(n+=r.iv.length),sc(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(uc(r)&&oo(n.writer,r.iv),sc(r)){n.writer.writeUInt(r.subsamples.length,16);for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(co),function(t){function n(n,i,e,r,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=e,s.timescale=r.timescale,s.presentationTimeDelta=r.presentationTimeDelta,s.eventDuration=r.eventDuration,s}Ys(n,t),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Bs},set:function(t){if(!uo(t,32))throw new h("The provided timescale does not fit in 32 bits.");this.Bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Xo},set:function(t){if(!uo(t,32))throw new h("The provided presentationTimeDelta does not fit in 32 bits.");this.Xo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Go},set:function(t){if(!uo(t,32))throw new h("The provided eventDuration does not fit in 32 bits.");this.Go=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"id",{get:function(){return this.Yo},set:function(t){if(!uo(t,32))throw new h("The provided id does not fit in 32 bits.");this.Yo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(no.from(this.data))}}(co);var oc,cc,ac=(oc="pssh",cc=function(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),u=0;u<r;u++)e.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new $o(i,o,e):new jo(i,o)},function(t){var n,i=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=Eo(i,e);if(!r.complete)return;if(To(r.box,n))return r.box}}(new ko((n=t,new DataView(n.buffer,n.byteOffset,n.byteLength)),new bo),oc);if(!i)throw new h("".concat(oc," box not found"));return cc(i)}),hc=function(t){function n(n,i){var e;(e=t.call(this)||this).Ko=void 0,e.Jo=!1,e.Zo=void 0,e.Qo=void 0,e.tc=function(){e.nc()},e.ic=function(t){e.Qr(new Mu(Nn(e),t.messageType,js(e.ec,t.message)))},e.rc=function(){e.Jo=!0,e.Ko.Ru>0&&(e.Ko.Eu(),e.Qr(new Bu(Nn(e)))),e.uc.removeEventListener("keystatuseschange",e.tc),e.uc.removeEventListener("message",e.ic)},e.uc=n,e.ec=i,e.uc.addEventListener("keystatuseschange",e.tc),e.uc.addEventListener("message",e.ic),e.Ko=new Hu;var r=[];return e.uc.closed&&r.push(j.resolve(e.uc.closed)),e.Qo=new qs,r.push(e.Qo.Lu),e.Zo=j.race(r).then(e.rc,e.rc),e.nc(),e}vt(n,t);var i=n.prototype;return i.sc=function(){if(this.Jo)return this.Zo;var t=[];return t.push(j.resolve(this.uc.close())),t.push(Iu(1e3)),this.Qo.Fu(j.race(t).catch(fc)),this.Jo=!0,this.Zo},i.oc=function(t,n,i){if(Et.Sn){var e=ac(Ms(n));if(1===e.version)n=new jo(e.systemId,e.data).serialize().join()}return j.resolve(this.uc.generateRequest(t,n)).catch(fc)},i.cc=function(t){return j.resolve(this.uc.load(t)).catch(fc)},i.ac=function(){return j.resolve(this.uc.remove()).catch(fc)},i.hc=function(t){return j.resolve(this.uc.update(t)).catch(fc)},i.nc=function(){var t=this;this.Ko.Eu(),this.uc.keyStatuses.forEach(function(n,i){t.fc(i,n)}),this.Qr(new Bu(this))},i.fc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Ms(t);if(this.ec===Cr&&16===e.byteLength){var r=xs(e),u=r.getUint32(0,!0),s=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,u,!1),r.setUint16(4,s,!1),r.setUint16(6,o,!1)}this.ec===Cr&&"status-pending"===n&&(n="usable"),this.Ko.Su(e,n)},ht(n,[{key:"vc",get:function(){return this.Zo}},{key:"dc",get:function(){return this.uc.expiration}},{key:"lc",get:function(){return this.Ko}},{key:"wc",get:function(){return this.uc.sessionId}}]),n}(Cu);function fc(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|l(i[1],16))}throw new Xs(t.message,void 0,n,t)}var vc=function(){function t(t,n,i){this.gc=t,this.yc=n,this.mc=i}var n=t.prototype;return n._c=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new hc(this.gc.createSession(t),this.yc));case 1:case"end":return n.stop()}},null,this,null,j)},n.pc=function(t){return j.resolve(this.gc.setServerCertificate(t))},n.bc=function(t){return j.resolve(t.setMediaKeys(this.gc))},n.kc=function(t){return j.resolve(t.setMediaKeys(null))},t}(),dc=function(){function t(t,n,i){this.Tc=t,this.ec=n,this.Sc=i}var n=t.prototype;return n.Ec=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(this.Tc.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new vc(t,this.ec,this.Sc));case 4:case"end":return n.stop()}},null,this,null,j)},n.Rc=function(){return this.Sc},ht(t,[{key:"yc",get:function(){return this.Tc.keySystem}}]),t}();function lc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function wc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,Ic:e.Ic},s=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(u.audioCapabilities=o.filter(function(e){return gc(t,n,i,e)}),s=!0,u.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var c=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});c.length&&(u.videoCapabilities=c.filter(function(e){return gc(t,n,i,e)}),s=!0,u.videoCapabilities.length&&(r=!0))}return s||(r=t(i,"video/mp4")),r?u:void 0}}function gc(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!fu(n,e.encryptionScheme))&&(!e.robustness&&t(i,lc(e.contentType))))}function yc(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,u=t.audioCapabilities;r<u.length;r++){var s=u[r];if(s.contentType)return s.contentType}}function mc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function _c(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(pc))||!(!t.videoCapabilities||!t.videoCapabilities.some(pc))}function pc(t){return!t.robustness}function bc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(gr({},r,{robustness:n}))}return i}var kc=function(){function t(){}return t.prototype.Or=function(t,n){var i,e,r,s,o,c,a,h;return wr.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.Ic}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=mc(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=mc(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(_c)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",gr({},n=t,{videoCapabilities:n.videoCapabilities?bc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?bc(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,wr.awrap(u.requestMediaKeySystemAccess(t,s));case 7:return o=f.sent,c=o.getConfiguration(),f.abrupt("return",new dc(o,t,c));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,wr.awrap(u.requestMediaKeySystemAccess(t,n));case 16:return a=f.sent,h=a.getConfiguration(),f.abrupt("return",new dc(a,t,h));case 19:case"end":return f.stop()}},null,null,[[4,12]],j)},t.Dc=function(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess},t}(),Tc=function(t){function n(n,i){var e;return(e=t.call(this)||this).Jo=!1,e.Oc=void 0,e.Nc=void 0,e.Cc=void 0,e.Ac=void 0,e.Pc=void 0,e.rc=function(){e.Jo=!0,e.Oc.Fu(void 0),e.Pc&&(e.Pc.removeEventListener("mskeyclose",e.rc),e.Pc.removeEventListener("mskeymessage",e.xc),e.Pc.removeEventListener("mskeyerror",e.Lc),e.Pc.removeEventListener("mskeyadded",e.Bc))},e.xc=function(t){e.Cc&&(e.Cc.Fu(void 0),e.Cc=void 0),e.Qr(new Mu(Nn(e),"license-request",Us(t.message).buffer,t.destinationURL||void 0))},e.Lc=function(){var t=e.Pc&&e.Pc.error;if(t){var n=new Xs("Unknown CDM error",t.code,t.systemCode);if(e.Cc)e.Cc.Uu(n),e.Cc=void 0;else if(e.Nc)e.Nc.Uu(n),e.Nc=void 0;else switch(n.Vu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Mc("output-not-allowed");break;default:e.Mc("internal-error")}}},e.Bc=function(){e.Cc&&(e.Mc("usable"),e.Cc.Fu(void 0),e.Cc=void 0),e.Nc&&(e.Mc("usable"),e.Nc.Fu(void 0),e.Nc=void 0)},e.Fc=n,e.Uc=i,e.Oc=new qs,e.Ac=new Hu,e}vt(n,t);var i=n.prototype;return i.oc=function(t,n,i){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Vc(),this.Cc=new qs,this._c(Ms(n),i),t.next=5,wr.awrap(this.Cc.Lu);case 5:case"end":return t.stop()}},null,this,null,j)},i._c=function(t,n){if(!t)throw new f("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Hc;return(i=n?this.Fc.createSession(this.Uc,t,e):this.Fc.createSession(this.Uc,t)).addEventListener("mskeyclose",this.rc),i.addEventListener("mskeymessage",this.xc),i.addEventListener("mskeyerror",this.Lc),i.addEventListener("mskeyadded",this.Bc),this.Pc=i,this.Mc("status-pending"),i},i.cc=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Vc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,j)},i.hc=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Nc=new qs,this.Vc(),this.Pc){i.next=4;break}return i.abrupt("return",j.resolve());case 4:if(0!==(n=Ms(t)).byteLength){i.next=7;break}throw new f("Cannot call update with an empty response.");case 7:return this.Pc.update(n),i.next=10,wr.awrap(this.Nc.Lu);case 10:case"end":return i.stop()}},null,this,null,j)},i.sc=function(){return!this.Jo&&this.Pc&&(this.Jo=!0,this.Pc.close()),this.Oc.Lu},i.ac=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Vc(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,j)},i.Vc=function(){if(this.Jo)throw new f("Already closing or closed.")},i.Mc=function(t){this.Ac.Eu(),this.Ac.Su(Vu,t),this.Qr(new Bu(this))},ht(n,[{key:"wc",get:function(){return this.Pc&&this.Pc.sessionId||""}},{key:"dc",get:function(){return NaN}},{key:"vc",get:function(){return this.Oc.Lu}},{key:"lc",get:function(){return this.Ac}}]),n}(Cu),Sc=function(){function t(t,n,i){this.Uc=void 0,this.Fc=t,this.yc=n,this.mc=i;var e=yc(i)||"video/mp4";this.Uc=lc(e)}var n=t.prototype;return n._c=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Tc(this.Fc,this.Uc));case 1:case"end":return t.stop()}},null,this,null,j)},n.pc=function(t){return j.resolve(!1)},n.bc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Fc):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Fc),t.removeEventListener("loadedmetadata",i)}),j.resolve()},n.kc=function(t){return j.resolve()},t}(),Ec=function(){function t(t,n){this.ec=t,this.qc=n}var n=t.prototype;return n.Rc=function(){return this.qc},n.Ec=function(){var t=new Q.MSMediaKeys(this.ec);return j.resolve(new Sc(t,this.ec,this.qc))},ht(t,[{key:"yc",get:function(){return this.ec}}]),t}(),Rc=function(){function t(){}return t.prototype.Or=function(t,n){try{return j.resolve(function(t,n){if(!Ic())throw new f("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=wc(Dc,xu,t,e);if(r)return new Ec(t,r)}throw new f("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.Dc=function(){return Ic()},t}();function Ic(){return void 0!==Q.MSMediaKeys&&"function"==typeof Q.MSMediaKeys.isTypeSupported}function Dc(t,n){return Q.MSMediaKeys.isTypeSupported(t,n)}var Oc,Nc,Cc=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Oc=new qs,r.Wc=void 0,r.Ac=new Hu,r.zc=void 0,r.jc=new qs,r.Lc=function(){var t=r.zc&&r.zc.error;if(t){var n=new Xs("Unknown CDM error",t.code,t.systemCode);r.Wc?(r.Wc.Uu(n),r.Wc=void 0):n.Vu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Mc("output-not-allowed"):r.Mc("internal-error"),r.Qr(new Fu)}},r.xc=function(t){r.Qr(new Mu(Nn(r),"license-request",Us(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Bc=function(){r.Wc&&(r.Wc.Fu(void 0),r.Wc=void 0),r.Mc("usable")},r.$c=n,r.Uc=i,r.Xc=e,r}vt(n,t);var i=n.prototype;return i.oc=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Gc;if(!e)throw new f("Expected FairPlay contentId to be defined but was "+e+".");var r=Ac(Ms(n),e,this.Xc);return this.zc=this.$c.createSession(this.Uc,r),this.zc.addEventListener("webkitkeymessage",this.xc,!1),this.zc.addEventListener("webkitkeyadded",this.Bc,!1),this.zc.addEventListener("webkitkeyerror",this.Lc,!1),this.Mc("status-pending"),this.jc.Fu(this.zc),this.jc=new qs,j.resolve()},i.cc=function(t){return j.resolve(!0)},i.hc=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Ms(t)).byteLength){i.next=3;break}throw new f("Cannot call update with an empty response.");case 3:if(this.Wc=new qs,i.t0=this.zc,i.t0){i.next=9;break}return i.next=8,wr.awrap(this.jc.Lu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,wr.awrap(this.Wc.Lu);case 13:case"end":return i.stop()}},null,this,null,j)},i.sc=function(){var t,n=this.zc;return n&&(n.removeEventListener("webkitkeymessage",this.xc,!1),n.removeEventListener("webkitkeyadded",this.Bc,!1),n.removeEventListener("webkitkeyerror",this.Lc,!1),n.close()),this.jc.jr(),null==(t=this.Wc)||t.jr(),this.Oc.Fu(void 0),this.Oc.Lu},i.ac=function(){return j.resolve(void 0)},i.Mc=function(t){this.Ac.Eu(),this.Ac.Su(Vu,t),this.Qr(new Bu(this))},ht(n,[{key:"wc",get:function(){return this.zc?this.zc.sessionId:""}},{key:"dc",get:function(){return NaN}},{key:"vc",get:function(){return this.Oc.Lu}},{key:"lc",get:function(){return this.Ac}}]),n}(Cu);function Ac(t,n,i){var e=Cs(t),r=2*e.length,u=2*n.length,s=new ArrayBuffer(4+r+4+u+4+i.byteLength),o=new DataView(s),c=new Hs;return ms(o,c,r,!0),Es(o,c,e,!0),ms(o,c,u,!0),Es(o,c,n,!0),ms(o,c,i.byteLength,!0),function(t,n,i){Ls(t).set(Ls(i),n.Cu),n.Du(i.byteLength)}(o,c,i),new y(s)}n.ErrorCode=void 0,(Oc=n.ErrorCode||(n.ErrorCode={}))[Oc.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Oc[Oc.LICENSE_ERROR=2e3]="LICENSE_ERROR",Oc[Oc.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Oc[Oc.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Oc[Oc.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Oc[Oc.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",Oc[Oc.SOURCE_INVALID=3e3]="SOURCE_INVALID",Oc[Oc.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Oc[Oc.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Oc[Oc.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Oc[Oc.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Oc[Oc.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Oc[Oc.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Oc[Oc.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Oc[Oc.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Oc[Oc.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Oc[Oc.NETWORK_ERROR=6e3]="NETWORK_ERROR",Oc[Oc.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Oc[Oc.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Oc[Oc.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Oc[Oc.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Oc[Oc.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Oc[Oc.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Oc[Oc.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Oc[Oc.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Oc[Oc.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Oc[Oc.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Oc[Oc.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Oc[Oc.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Oc[Oc.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Oc[Oc.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Oc[Oc.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Oc[Oc.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Oc[Oc.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Oc[Oc.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Oc[Oc.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Oc[Oc.AD_ERROR=1e4]="AD_ERROR",Oc[Oc.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Oc[Oc.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(Nc=n.ErrorCategory||(n.ErrorCategory={}))[Nc.CONFIGURATION=1]="CONFIGURATION",Nc[Nc.LICENSE=2]="LICENSE",Nc[Nc.SOURCE=3]="SOURCE",Nc[Nc.MANIFEST=4]="MANIFEST",Nc[Nc.MEDIA=5]="MEDIA",Nc[Nc.NETWORK=6]="NETWORK",Nc[Nc.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Nc[Nc.SUBTITLE=8]="SUBTITLE",Nc[Nc.VR=9]="VR",Nc[Nc.AD=10]="AD",Nc[Nc.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=d.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new f("Invalid error code: "+t)}}();var Pc=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return vt(i,t),ht(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(An);var xc=function(){function t(t,n,i){this.Uc=void 0,this.Xc=void 0,this.$c=t,this.yc=n,this.mc=i;var e=yc(i)||"video/mp4";this.Uc=lc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.$c},i._c=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Xc){t.next=2;break}throw new Pc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Cc(this.$c,this.Uc,this.Xc));case 3:case"end":return t.stop()}},null,this,null,j)},i.pc=function(t){return this.Xc=Ms(t),j.resolve(!0)},i.bc=function(t){return t.webkitSetMediaKeys(this.$c),j.resolve()},i.kc=function(t){return t.webkitSetMediaKeys(null),j.resolve()},t}(),Lc=function(){function t(t,n){this.ec=t,this.qc=n}var n=t.prototype;return n.Rc=function(){return this.qc},n.Ec=function(){var t=new Q.WebKitMediaKeys(this.ec);return j.resolve(new xc(t,this.ec,this.qc))},ht(t,[{key:"yc",get:function(){return this.ec}}]),t}(),Bc=function(){function t(){}return t.prototype.Or=function(t,n){try{return j.resolve(function(t,n){if(t!==Fr)throw new f(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Mc())throw new f("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=wc(Fc,Lu,t,e);if(r)return new Lc(t,r)}throw new f("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.Dc=function(){return Mc()},t}();function Mc(){return void 0!==Q.WebKitMediaKeys&&"function"==typeof Q.WebKitMediaKeys.isTypeSupported}function Fc(t,n){return Q.WebKitMediaKeys.isTypeSupported(t,n)}var Uc,Vc=function(){function t(t){this.Yc=t}return t.prototype.Or=function(t,n){var i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.Yc;case 1:if(!(i<e.length)){u.next=14;break}return r=e[i],u.prev=3,u.next=6,wr.awrap(r.Or(t,n));case 6:return u.abrupt("return",u.sent);case 9:u.prev=9,u.t0=u.catch(3);case 11:i++,u.next=1;break;case 14:throw new f("Unsupported key system configuration for "+t);case 15:case"end":return u.stop()}},null,this,[[3,9]],j)},t}(),Hc=function(t){function n(n){var i;return(i=t.call(this)||this).Cc=void 0,i.Wc=void 0,i.Oc=void 0,i.Ku=!1,i.Kc=void 0,i.Jc=void 0,i.Zc=void 0,i.Qc=void 0,i.ta=void 0,i.ec=n,i.Oc=new qs,i.Jc="",i.ta=new qs,i.Zc=new Hu,i}vt(n,t);var i=n.prototype;return i.na=function(){this.Wc&&(this.Mc("usable"),this.Wc.Fu(void 0),this.Wc=void 0)},i.ia=function(t){var n=new Xs("Unknown CDM error",t.errorCode,t.systemCode);this.Wc?(this.Wc.Uu(n),this.Wc=void 0):this.Cc?(this.Cc.Uu(n),this.Cc=void 0):n.Vu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Mc("output-restricted"):1===n.Hu?this.Mc("expired"):this.Mc("internal-error")},i.ea=function(t){0!==t.message.byteLength&&(this.Cc&&(this.Cc.Fu(void 0),this.Cc=void 0),this.Qr(new Mu(this,"license-request",js(this.ec,Us(t.message).buffer),t.defaultURL||void 0)))},i.ra=function(t){this.Qc||(this.Qc=t,this.ta.Fu(t))},i.sc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Ku=!0,this.Oc.Fu(void 0);case 3:case"end":return t.stop()}},null,this,null,j)},i.oc=function(t,n){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Cc=new qs,this.Kc=Ms(n),t.t0=this.Qc,t.t0){t.next=8;break}return t.next=7,wr.awrap(this.ta.Lu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.ec,this.Kc),t.next=12,wr.awrap(this.Cc.Lu);case 12:case"end":return t.stop()}},null,this,null,j)},i.cc=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,j)},i.ac=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,j)},i.hc=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Wc=new qs,n.t0=this.Qc,n.t0){n.next=7;break}return n.next=6,wr.awrap(this.ta.Lu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.ec,Ms(t),this.Kc,this.wc),n.next=11,wr.awrap(this.Wc.Lu);case 11:case"end":return n.stop()}},null,this,null,j)},i.throwIfClosed=function(){if(this.Ku)throw new f("Already closing or closed.")},i.Mc=function(t){this.Zc.Eu(),this.Zc.Su(Vu,t),this.Qr(new Bu(this))},ht(n,[{key:"lc",get:function(){return this.Zc}},{key:"wc",get:function(){return this.Jc},set:function(t){this.Jc=t}},{key:"vc",get:function(){return this.Oc.Lu}},{key:"dc",get:function(){return NaN}}]),n}(Cu),qc=function(){function t(t,n){var i=this;this.Qc=void 0,this.ua=mr(),this.sa=[],this.Bc=function(t){var n=i.oa(t.sessionId);n&&n.na()},this.ca=function(t){var n=i.oa(t.sessionId);n&&n.ia(t)},this.aa=function(t){var n=i.oa(t.sessionId);n&&n.ea(t)},this.yc=t,this.mc=n}var n=t.prototype;return n.bc=function(t){return this.Qc=t,this.Qc.addEventListener("webkitkeyadded",this.Bc),this.Qc.addEventListener("webkitkeyerror",this.ca),this.Qc.addEventListener("webkitkeymessage",this.aa),this.ua.forEach(function(n,i){return n.ra(t)}),this.sa.forEach(function(n){return n.ra(t)}),j.resolve()},n.kc=function(t){return t.removeEventListener("webkitkeyadded",this.Bc),t.removeEventListener("webkitkeyerror",this.ca),t.removeEventListener("webkitkeymessage",this.aa),this.Qc=void 0,j.resolve()},n._c=function(t,n,i){var e;return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Hc(this.yc),this.Qc&&e.ra(this.Qc),this.sa.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,j)},n.pc=function(t){return j.resolve(!1)},n.oa=function(t){if(t){var n=this.ua.get(t);return n||((n=this.sa.shift())?(n.wc=t,this.ua.set(t,n),n):void 0)}},t}(),Wc=function(){function t(t,n){this.yc=t,this.ha=n}var n=t.prototype;return n.Ec=function(){return j.resolve(new qc(this.yc,this.ha))},n.Rc=function(){return this.ha},t}(),zc=function(){function t(){}return t.prototype.Or=function(t,n){try{return j.resolve(jc(t,n))}catch(t){return j.reject(t)}},t.Dc=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function jc(t,n){if(!zc.Dc())throw new f("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=wc($c,xu,t,e);if(r)return new Wc(t,r)}throw new f("Unsupported key system configuration for "+t)}function $c(t,n){var i=Ge();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Xc(){return Uc||(Uc=function(){var t=[];Bc.Dc()&&t.push(new Bc);kc.Dc()&&t.push(new kc);Rc.Dc()&&t.push(new Rc);zc.Dc()&&t.push(new zc);return new Vc(t)}()),Uc}var Gc=function(){function t(){this.fa=mr()}var n=t.prototype;return n.Eu=function(t){this.fa.delete(t)},n.va=function(){this.fa.clear()},n.ku=function(t){return this.fa.get(t)},n.da=function(t,n){this.fa.set(t,n)},t}(),Yc=function(){function t(){}return t.la=function(){return t.ni||(t.ni=Kc.Dc()?new Kc:new Gc),t.ni},t.Eu=function(n){t.la().Eu(n)},t.va=function(){t.la().va()},t.ku=function(n){return t.la().ku(n)},t.da=function(n,i){t.la().da(n,i)},t}();Yc.ni=void 0;var Kc=function(n){function i(){return n.apply(this,arguments)||this}vt(i,n),i.Dc=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.Eu=function(n){t.sessionStorage.removeItem(n)},e.va=function(){t.sessionStorage.clear()},e.ku=function(n){return t.sessionStorage[n]},e.da=function(n,i){t.sessionStorage[n]=i},i}(Yc);var Jc=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var u=t[r];i.append(u)}return i.getBlob(n&&n.type||"")}}();function Zc(t,n,i){var r=Jc([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),s=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=e.createElement("a");o.href=u,o.download=s,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(u)}var Qc,ta;!function(t){t.wa="ga",t.ya="ma",t._a="contentprotectionerror",t.pa="contentprotectionsuccess",t.ba="currentsourcechange",t.ka="destroy",t.Ta="durationchange",t.Sa="emptied",t.wu="encrypted",t.Ea="ended",t.Ra="Ia",t.Da="loadstart",t.Oa="manifestupdate",t.Na="nosupportedrepresentationfound",t.Ca="offline",t.Aa="online",t.Pa="pause",t.xa="play",t.La="progress",t.Ba="ratechange",t.Ma="representationchange",t.Fa="resize",t.Ua="seeked",t.Va="seeking",t.Ha="segmentnotfound",t.qa="Wa",t.za="ja",t.$a="sourcechange",t.Xa="timeupdate",t.Ga="volumechange",t.Ya="Ka",t.Ja="metricschange"}(Qc||(Qc={})),function(t){t.Za="arraybuffer",t.Qa="json",t.th="stream",t.si="text"}(ta||(ta={}));var na=function(){function t(n){var i=this;this.dr=void 0,this.dr={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&v.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=ia(i),e=ea(e);var r=i.toLowerCase();if(this.dr.hasOwnProperty(r)){var u=this.dr[r],s=u[1];u[1]=s?s+", "+e:e}else this.dr[r]=[i,e]},n.delete=function(t){var n=ia(t).toLowerCase();delete this.dr[n]},n.get=function(t){var n=ia(t).toLowerCase();return this.dr.hasOwnProperty(n)?this.dr[n][1]:null},n.has=function(t){var n=ia(t).toLowerCase();return this.dr.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=ia(i)).toLowerCase();this.dr[e]=[i,ea(n)]},n.forEach=function(t,n){for(var i in this.dr)this.dr.hasOwnProperty(i)&&t.call(n,this.dr[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.dr)if(this.dr.hasOwnProperty(n)){var i=this.dr[n],e=i[0],r=i[1];t.push([e,r])}return t},n.nh=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.ih=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.eh=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function ia(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new f("Invalid character in header field name");return n}function ea(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function ua(){}var sa=Number.isNaN||function(t){return t!=t},oa=ua;function ca(t){return"object"==typeof t&&null!==t||"function"==typeof t}function aa(t){return t.slice()}function ha(t){return!1!==function(t){if("number"!=typeof t)return!1;if(sa(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function fa(t,n,i){if("function"!=typeof t)throw new f("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function va(t,n,i,e){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new f(r+" is not a method");switch(i){case 0:return function(){return la(r,t,e)};case 1:return function(n){var i=[n].concat(e);return la(r,t,i)}}}return function(){return Ta(void 0)}}function da(t,n,i){var e=t[n];if(void 0!==e)return fa(e,t,i)}function la(t,n,i){try{return Ta(fa(t,n,i))}catch(t){return Sa(t)}}function wa(t){return t}function ga(t){if(t=Number(t),sa(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function ya(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new f("size property of a queuing strategy must be a function");return function(n){return t(n)}}var ma=j,_a=j.prototype.then,pa=j.resolve.bind(ma),ba=j.reject.bind(ma);function ka(t){return new ma(t)}function Ta(t){return pa(t)}function Sa(t){return ba(t)}function Ea(t,n,i){return _a.call(t,n,i)}function Ra(t,n,i){Ea(Ea(t,n,i),void 0,oa)}function Ia(t,n){Ra(t,n)}function Da(t,n){Ra(t,void 0,n)}function Oa(t,n,i){return Ea(t,n,i)}function Na(t){Ea(t,void 0,oa)}var Ca=function(){function t(){this.rh=0,this.uh=0,this.C={sh:[],oh:void 0},this.ah=this.C,this.rh=0,this.uh=0}return v.defineProperty(t.prototype,"length",{get:function(){return this.uh},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.ah,i=n;16383===n.sh.length&&(i={sh:[],oh:void 0}),n.sh.push(t),i!==n&&(this.ah=i,n.oh=i),++this.uh},t.prototype.shift=function(){var t=this.C,n=t,i=this.rh,e=i+1,r=t.sh,u=r[i];return 16384===e&&(n=t.oh,e=0),--this.uh,this.rh=e,t!==n&&(this.C=n),r[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.rh,i=this.C,e=i.sh;!(n===e.length&&void 0===i.oh||n===e.length&&(n=0,0===(e=(i=i.oh).sh).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.C,n=this.rh;return t.sh[n]},t}();function Aa(t,n,i){var e=null;!0===i&&(e=v.prototype);var r=v.create(e);return r.value=t,r.done=n,r}function Pa(t,n){t.hh=!0,t.fh=n,n.vh=t,"readable"===n.o?Ma(t):"closed"===n.o?function(t){Ma(t),Va(t)}(t):Fa(t,n.dh)}function xa(t,n){return jf(t.fh,n)}function La(t){"readable"===t.fh.o?Ua(t,new f("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Fa(t,n)}(t,new f("Reader was released and can no longer be used to monitor the stream's closedness")),t.fh.vh=void 0,t.fh=void 0}function Ba(t){return new f("Cannot "+t+" a stream using a released reader")}function Ma(t){t.Zo=ka(function(n,i){t.lh=n,t.wh=i})}function Fa(t,n){Ma(t),Ua(t,n)}function Ua(t,n){Na(t.Zo),t.wh(n),t.lh=void 0,t.wh=void 0}function Va(t){t.lh(void 0),t.lh=void 0,t.wh=void 0}var Ha=ra("[[CancelSteps]]"),qa=ra("[[PullSteps]]");function Wa(t,n){void 0===n&&(n=!1);var i=new Ka(t);return i.hh=n,i}function za(t){return ka(function(n,i){var e={Bu:n,Mu:i};t.vh.gh.push(e)})}function ja(t,n,i){var e=t.vh;e.gh.shift().Bu(Aa(n,i,e.hh))}function $a(t){return t.vh.gh.length}function Xa(t){var n=t.vh;return void 0!==n&&!!Ja(n)}var Ga,Ya,Ka=function(){function t(t){if(!1===Wf(t))throw new f("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===zf(t))throw new f("This stream has already been locked for exclusive reading by another reader");Pa(this,t),this.gh=new Ca}return v.defineProperty(t.prototype,"closed",{get:function(){return Ja(this)?this.Zo:Sa(Qa("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Ja(this)?void 0===this.fh?Sa(Ba("cancel")):xa(this,t):Sa(Qa("cancel"))},t.prototype.read=function(){return Ja(this)?void 0===this.fh?Sa(Ba("read from")):Za(this):Sa(Qa("read"))},t.prototype.releaseLock=function(){if(!Ja(this))throw Qa("releaseLock");if(void 0!==this.fh){if(this.gh.length>0)throw new f("Tried to release a reader lock when that reader has pending read() calls un-settled");La(this)}},t}();function Ja(t){return!!ca(t)&&!!v.prototype.hasOwnProperty.call(t,"gh")}function Za(t){var n=t.fh;return n.yh=!0,"closed"===n.o?Ta(Aa(void 0,!0,t.hh)):"errored"===n.o?Sa(n.dh):n.mh[qa]()}function Qa(t){return new f("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof ra.asyncIterator&&((Ga={})[ra.asyncIterator]=function(){return this},Ya=Ga,v.defineProperty(Ya,ra.asyncIterator,{enumerable:!1}));var th={next:function(){if(!1===nh(this))return Sa(ih("next"));var t=this._h;return void 0===t.fh?Sa(Ba("iterate")):Oa(Za(t),function(n){var i=n.done;return i&&La(t),Aa(n.value,i,!0)})},return:function(t){if(!1===nh(this))return Sa(ih("next"));var n=this._h;if(void 0===n.fh)return Sa(Ba("finish iterating"));if(n.gh.length>0)return Sa(new f("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.ph){var i=xa(n,t);return La(n),Oa(i,function(){return Aa(t,!0,!0)})}return La(n),Ta(Aa(t,!0,!0))}};function nh(t){return!!ca(t)&&!!v.prototype.hasOwnProperty.call(t,"_h")}function ih(t){return new f("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function eh(t){var n=t.bh.shift();return t.kh-=n.size,t.kh<0&&(t.kh=0),n.value}function rh(t,n,i){if(!ha(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.bh.push({value:n,size:i}),t.kh+=i}function uh(t){t.bh=new Ca,t.kh=0}void 0!==Ya&&v.setPrototypeOf(th,Ya),v.defineProperty(th,"next",{enumerable:!1}),v.defineProperty(th,"return",{enumerable:!1});var sh=ra("[[AbortSteps]]"),oh=ra("[[ErrorSteps]]"),ch=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),hh(this);var i=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=ya(i);void 0===e&&(e=1),function(t,n,i,e){var r=v.create(Dh.prototype);var u=va(n,"write",1,[r]),s=va(n,"close",0,[]),o=va(n,"abort",1,[]);Oh(t,r,function(){return da(n,"start",[r])},u,s,o,i,e)}(this,t,e=ga(e),r)}return v.defineProperty(t.prototype,"locked",{get:function(){if(!1===fh(this))throw Bh("locked");return vh(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===fh(this)?Sa(Bh("abort")):!0===vh(this)?Sa(new f("Cannot abort a stream that already has a writer")):dh(this,t)},t.prototype.close=function(){return!1===fh(this)?Sa(Bh("close")):!0===vh(this)?Sa(new f("Cannot close a stream that already has a writer")):!0===mh(this)?Sa(new f("Cannot close an already-closing stream")):lh(this)},t.prototype.getWriter=function(){if(!1===fh(this))throw Bh("getWriter");return ah(this)},t}();function ah(t){return new bh(t)}function hh(t){t.o="writable",t.dh=void 0,t.ts=void 0,t.Th=void 0,t.Sh=new Ca,t.Eh=void 0,t.Rh=void 0,t.Ih=void 0,t.Dh=void 0,t.Oh=!1}function fh(t){return!!ca(t)&&!!v.prototype.hasOwnProperty.call(t,"Th")}function vh(t){return void 0!==t.ts}function dh(t,n){var i=t.o;if("closed"===i||"errored"===i)return Ta(void 0);if(void 0!==t.Dh)return t.Dh.Nh;var e=!1;"erroring"===i&&(e=!0,n=void 0);var r=ka(function(i,r){t.Dh={Nh:void 0,Bu:i,Mu:r,Ch:n,Ah:e}});return t.Dh.Nh=r,!1===e&&gh(t,n),r}function lh(t){var n=t.o;if("closed"===n||"errored"===n)return Sa(new f("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=ka(function(n,i){var e={Bu:n,Mu:i};t.Rh=e}),r=t.ts;return void 0!==r&&!0===t.Oh&&"writable"===n&&Xh(r),rh(i=t.Th,"close",0),Ah(i),e}function wh(t,n){"writable"!==t.o?yh(t):gh(t,n)}function gh(t,n){var i=t.Th;t.o="erroring",t.dh=n;var e=t.ts;void 0!==e&&Eh(e,n),!1===function(t){if(void 0===t.Eh&&void 0===t.Ih)return!1;return!0}(t)&&!0===i.Ph&&yh(t)}function yh(t){t.o="errored",t.Th[oh]();var n=t.dh;if(t.Sh.forEach(function(t){t.Mu(n)}),t.Sh=new Ca,void 0!==t.Dh){var i=t.Dh;if(t.Dh=void 0,!0===i.Ah)return i.Mu(n),void _h(t);Ra(t.Th[sh](i.Ch),function(){i.Bu(),_h(t)},function(n){i.Mu(n),_h(t)})}else _h(t)}function mh(t){return void 0!==t.Rh||void 0!==t.Ih}function _h(t){void 0!==t.Rh&&(t.Rh.Mu(t.dh),t.Rh=void 0);var n=t.ts;void 0!==n&&Hh(n,t.dh)}function ph(t,n){var i=t.ts;void 0!==i&&n!==t.Oh&&(!0===n?function(t){Wh(t)}(i):Xh(i)),t.Oh=n}var bh=function(){function t(t){if(!1===fh(t))throw new f("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===vh(t))throw new f("This stream has already been locked for exclusive writing by another writer");this.xh=t,t.ts=this;var n,i=t.o;if("writable"===i)!1===mh(t)&&!0===t.Oh?Wh(this):jh(this),Uh(this);else if("erroring"===i)zh(this,t.dh),Uh(this);else if("closed"===i)jh(this),Uh(n=this),qh(n);else{var e=t.dh;zh(this,e),Vh(this,e)}}return v.defineProperty(t.prototype,"closed",{get:function(){return!1===kh(this)?Sa(Mh("closed")):this.Zo},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===kh(this))throw Mh("desiredSize");if(void 0===this.xh)throw Fh("desiredSize");return function(t){var n=t.xh,i=n.o;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Ch(n.Th)}(this)},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"ready",{get:function(){return!1===kh(this)?Sa(Mh("ready")):this.Lh},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===kh(this)?Sa(Mh("abort")):void 0===this.xh?Sa(Fh("abort")):function(t,n){return dh(t.xh,n)}(this,t)},t.prototype.close=function(){if(!1===kh(this))return Sa(Mh("close"));var t=this.xh;return void 0===t?Sa(Fh("close")):!0===mh(t)?Sa(new f("Cannot close an already-closing stream")):Th(this)},t.prototype.releaseLock=function(){if(!1===kh(this))throw Mh("releaseLock");void 0!==this.xh&&Rh(this)},t.prototype.write=function(t){return!1===kh(this)?Sa(Mh("write")):void 0===this.xh?Sa(Fh("write to")):Ih(this,t)},t}();function kh(t){return!!ca(t)&&!!v.prototype.hasOwnProperty.call(t,"xh")}function Th(t){return lh(t.xh)}function Sh(t,n){"pending"===t.Bh?Hh(t,n):function(t,n){Vh(t,n)}(t,n)}function Eh(t,n){"pending"===t.Mh?$h(t,n):function(t,n){zh(t,n)}(t,n)}function Rh(t){var n=t.xh,i=new f("Writer was released and can no longer be used to monitor the stream's closedness");Eh(t,i),Sh(t,i),n.ts=void 0,t.xh=void 0}function Ih(t,n){var i=t.xh,e=i.Th,r=function(t,n){try{return t.Fh(n)}catch(n){return Ph(t,n),1}}(e,n);if(i!==t.xh)return Sa(Fh("write to"));var u=i.o;if("errored"===u)return Sa(i.dh);if(!0===mh(i)||"closed"===u)return Sa(new f("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Sa(i.dh);var s=function(t){return ka(function(n,i){var e={Bu:n,Mu:i};t.Sh.push(e)})}(i);return function(t,n,i){var e={chunk:n};try{rh(t,e,i)}catch(n){return void Ph(t,n)}var r=t.Uh;if(!1===mh(r)&&"writable"===r.o){var u=xh(t);ph(r,u)}Ah(t)}(e,n,r),s}var Dh=function(){function t(){throw new f("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!ca(t))return!1;if(!v.prototype.hasOwnProperty.call(t,"Uh"))return!1;return!0}(this))throw new f("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Uh.o&&Lh(this,t)},t.prototype[sh]=function(t){var n=this.Vh(t);return Nh(this),n},t.prototype[oh]=function(){uh(this)},t}();function Oh(t,n,i,e,r,u,s,o){n.Uh=t,t.Th=n,n.bh=void 0,n.kh=void 0,uh(n),n.Ph=!1,n.Fh=o,n.Hh=s,n.qh=e,n.Wh=r,n.Vh=u;var c=xh(n);ph(t,c),Ra(Ta(i()),function(){n.Ph=!0,Ah(n)},function(i){n.Ph=!0,wh(t,i)})}function Nh(t){t.qh=void 0,t.Wh=void 0,t.Vh=void 0,t.Fh=void 0}function Ch(t){return t.Hh-t.kh}function Ah(t){var n=t.Uh;if(!1!==t.Ph&&void 0===n.Eh)if("erroring"!==n.o){if(0!==t.bh.length){var i=t.bh.peek().value;"close"===i?function(t){var n=t.Uh;(function(t){t.Ih=t.Rh,t.Rh=void 0})(n),eh(t);var i=t.Wh();Nh(t),Ra(i,function(){!function(t){t.Ih.Bu(void 0),t.Ih=void 0,"erroring"===t.o&&(t.dh=void 0,void 0!==t.Dh&&(t.Dh.Bu(),t.Dh=void 0)),t.o="closed";var n=t.ts;void 0!==n&&qh(n)}(n)},function(t){!function(t,n){t.Ih.Mu(n),t.Ih=void 0,void 0!==t.Dh&&(t.Dh.Mu(n),t.Dh=void 0),wh(t,n)}(n,t)})}(t):function(t,n){var i=t.Uh;(function(t){t.Eh=t.Sh.shift()})(i),Ra(t.qh(n),function(){!function(t){t.Eh.Bu(void 0),t.Eh=void 0}(i);var n=i.o;if(eh(t),!1===mh(i)&&"writable"===n){var e=xh(t);ph(i,e)}Ah(t)},function(n){"writable"===i.o&&Nh(t),function(t,n){t.Eh.Mu(n),t.Eh=void 0,wh(t,n)}(i,n)})}(t,i.chunk)}}else yh(n)}function Ph(t,n){"writable"===t.Uh.o&&Lh(t,n)}function xh(t){return Ch(t)<=0}function Lh(t,n){var i=t.Uh;Nh(t),gh(i,n)}function Bh(t){return new f("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Mh(t){return new f("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Fh(t){return new f("Cannot "+t+" a stream using a released writer")}function Uh(t){t.Zo=ka(function(n,i){t.lh=n,t.wh=i,t.Bh="pending"})}function Vh(t,n){Uh(t),Hh(t,n)}function Hh(t,n){Na(t.Zo),t.wh(n),t.lh=void 0,t.wh=void 0,t.Bh="rejected"}function qh(t){t.lh(void 0),t.lh=void 0,t.wh=void 0,t.Bh="resolved"}function Wh(t){t.Lh=ka(function(n,i){t.zh=n,t.jh=i}),t.Mh="pending"}function zh(t,n){Wh(t),$h(t,n)}function jh(t){Wh(t),Xh(t)}function $h(t,n){Na(t.Lh),t.jh(n),t.zh=void 0,t.jh=void 0,t.Mh="rejected"}function Xh(t){t.zh(void 0),t.zh=void 0,t.jh=void 0,t.Mh="fulfilled"}function Gh(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Yh="undefined"!=typeof DOMException?DOMException:void 0;var Kh,Jh=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Yh)?Yh:((Kh=function(t,n){this.message=t||"",this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=v.create(h.prototype),v.defineProperty(Kh.prototype,"constructor",{value:Kh,writable:!0,configurable:!0}),Kh);function Zh(t,n,i,e,r,u){var s=Wa(t),o=ah(n);t.yh=!0;var c=!1,a=Ta(void 0);return ka(function(h,v){var d,l,w,g;if(void 0!==u){if(d=function(){var i=new Jh("Aborted","AbortError"),u=[];!1===e&&u.push(function(){return"writable"===n.o?dh(n,i):Ta(void 0)}),!1===r&&u.push(function(){return"readable"===t.o?jf(t,i):Ta(void 0)}),p(function(){return j.all(u.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(_(t,s.Zo,function(t){!1===e?p(function(){return dh(n,t)},!0,t):b(!0,t)}),_(n,o.Zo,function(n){!1===r?p(function(){return jf(t,n)},!0,n):b(!0,n)}),l=t,w=s.Zo,g=function(){!1===i?p(function(){return function(t){var n=t.xh,i=n.o;return!0===mh(n)||"closed"===i?Ta(void 0):"errored"===i?Sa(n.dh):Th(t)}(o)}):b()},"closed"===l.o?g():Ia(w,g),!0===mh(n)||"closed"===n.o){var y=new f("the destination writable stream closed before all data could be piped to it");!1===r?p(function(){return jf(t,y)},!0,y):b(!0,y)}function m(){var t=a;return Ea(a,function(){return t!==a?m():void 0})}function _(t,n,i){"errored"===t.o?i(t.dh):Da(n,i)}function p(t,i,e){function r(){Ra(t(),function(){return k(i,e)},function(t){return k(!0,t)})}!0!==c&&(c=!0,"writable"===n.o&&!1===mh(n)?Ia(m(),r):r())}function b(t,i){!0!==c&&(c=!0,"writable"===n.o&&!1===mh(n)?Ia(m(),function(){return k(t,i)}):k(t,i))}function k(t,n){Rh(o),La(s),void 0!==u&&u.removeEventListener("abort",d),t?v(n):h(void 0)}Na(ka(function(t,n){!function i(e){e?t():Ea(!0===c?Ta(!0):Ea(o.Lh,function(){return Ea(Za(s),function(t){return!0===t.done||(a=Ea(Ih(o,t.value),void 0,ua),!1)})}),i,n)}(!1)}))})}var Qh=function(){function t(){throw new f}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===tf(this))throw ff("desiredSize");return cf(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===tf(this))throw ff("close");if(!1===af(this))throw new f("The stream is not in a state that permits close");uf(this)},t.prototype.enqueue=function(t){if(!1===tf(this))throw ff("enqueue");if(!1===af(this))throw new f("The stream is not in a state that permits enqueue");return sf(this,t)},t.prototype.error=function(t){if(!1===tf(this))throw ff("error");of(this,t)},t.prototype[Ha]=function(t){uh(this);var n=this.$h(t);return rf(this),n},t.prototype[qa]=function(){var t=this.Xh;if(this.bh.length>0){var n=eh(this);return!0===this.Gh&&0===this.bh.length?(rf(this),$f(t)):nf(this),Ta(Aa(n,!1,t.vh.hh))}var i=za(t);return nf(this),i},t}();function tf(t){return!!ca(t)&&!!v.prototype.hasOwnProperty.call(t,"Xh")}function nf(t){!1!==ef(t)&&(!0!==t.Yh?(t.Yh=!0,Ra(t.Kh(),function(){t.Yh=!1,!0===t.Jh&&(t.Jh=!1,nf(t))},function(n){of(t,n)})):t.Jh=!0)}function ef(t){var n=t.Xh;return!1!==af(t)&&(!1!==t.Ph&&(!0===zf(n)&&$a(n)>0||cf(t)>0))}function rf(t){t.Kh=void 0,t.$h=void 0,t.Fh=void 0}function uf(t){var n=t.Xh;t.Gh=!0,0===t.bh.length&&(rf(t),$f(n))}function sf(t,n){var i=t.Xh;if(!0===zf(i)&&$a(i)>0)ja(i,n,!1);else{var e=void 0;try{e=t.Fh(n)}catch(n){throw of(t,n),n}try{rh(t,n,e)}catch(n){throw of(t,n),n}}nf(t)}function of(t,n){var i=t.Xh;"readable"===i.o&&(uh(t),rf(t),Xf(i,n))}function cf(t){var n=t.Xh.o;return"errored"===n?null:"closed"===n?0:t.Hh-t.kh}function af(t){var n=t.Xh.o;return!1===t.Gh&&"readable"===n}function hf(t,n,i,e,r,u,s){n.Xh=t,n.bh=void 0,n.kh=void 0,uh(n),n.Ph=!1,n.Gh=!1,n.Jh=!1,n.Yh=!1,n.Fh=s,n.Hh=u,n.Kh=e,n.$h=r,t.mh=n,Ra(Ta(i()),function(){n.Ph=!0,nf(n)},function(t){of(n,t)})}function ff(t){return new f("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var vf=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&d.floor(t)===t},df=function(){function t(){throw new f("ReadableStreamBYOBRequest cannot be used directly")}return v.defineProperty(t.prototype,"view",{get:function(){if(!1===gf(this))throw Af("view");return this.Zh},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===gf(this))throw Af("respond");if(void 0===this.Qh)throw new f("This BYOB request has been invalidated");this.Zh.buffer,function(t,n){if(!1===ha(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Rf(t,n)}(this.Qh,t)},t.prototype.respondWithNewView=function(t){if(!1===gf(this))throw Af("respond");if(void 0===this.Qh)throw new f("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new f("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.tf.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Rf(t,n.byteLength)}(this.Qh,t)},t}(),lf=function(){function t(){throw new f("ReadableByteStreamController constructor cannot be used directly")}return v.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===wf(this))throw Pf("byobRequest");if(void 0===this.nf&&this.tf.length>0){var t=this.tf.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=v.create(df.prototype);!function(t,n,i){t.Qh=n,t.Zh=i}(i,this,n),this.nf=i}return this.nf},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===wf(this))throw Pf("desiredSize");return Nf(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===wf(this))throw Pf("close");if(!0===this.Gh)throw new f("The stream has already been closed; do not close it again!");var t=this.if.o;if("readable"!==t)throw new f("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.if;if(t.kh>0)return void(t.Gh=!0);if(t.tf.length>0){var i=t.tf.peek();if(i.bytesFilled>0){var e=new f("Insufficient bytes to fill elements in the given buffer");throw Of(t,e),e}}Df(t),$f(n)}(this)},t.prototype.enqueue=function(t){if(!1===wf(this))throw Pf("enqueue");if(!0===this.Gh)throw new f("stream is closed or draining");var n=this.if.o;if("readable"!==n)throw new f("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new f("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.if,e=n.buffer,r=n.byteOffset,u=n.byteLength,s=wa(e);if(!0===Xa(i))if(0===$a(i))pf(t,s,r,u);else{var o=new y(s,r,u);ja(i,o,!1)}else!0===Bf(i)?(pf(t,s,r,u),Ef(t)):pf(t,s,r,u);yf(t)}(this,t)},t.prototype.error=function(t){if(!1===wf(this))throw Pf("error");Of(this,t)},t.prototype[Ha]=function(t){this.tf.length>0&&(this.tf.peek().bytesFilled=0);uh(this);var n=this.$h(t);return Df(this),n},t.prototype[qa]=function(){var t=this.if;if(this.kh>0){var n=this.bh.shift();this.kh-=n.byteLength,Tf(this);var i=void 0;try{i=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Sa(t)}return Ta(Aa(i,!1,t.vh.hh))}var e=this.ef;if(void 0!==e){var r=void 0;try{r=new ArrayBuffer(e)}catch(t){return Sa(t)}var u={buffer:r,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.tf.push(u)}var s=za(t);return yf(this),s},t}();function wf(t){return!!ca(t)&&!!v.prototype.hasOwnProperty.call(t,"if")}function gf(t){return!!ca(t)&&!!v.prototype.hasOwnProperty.call(t,"Qh")}function yf(t){!1!==function(t){var n=t.if;if("readable"!==n.o)return!1;if(!0===t.Gh)return!1;if(!1===t.Ph)return!1;if(!0===Xa(n)&&$a(n)>0)return!0;if(!0===Bf(n)&&Lf(n)>0)return!0;if(Nf(t)>0)return!0;return!1}(t)&&(!0!==t.Yh?(t.Yh=!0,Ra(t.Kh(),function(){t.Yh=!1,!0===t.Jh&&(t.Jh=!1,yf(t))},function(n){Of(t,n)})):t.Jh=!0)}function mf(t,n){var i=!1;"closed"===t.o&&(i=!0);var e=_f(n);"default"===n.readerType?ja(t,e,i):function(t,n,i){var e=t.vh;e.rf.shift().Bu(Aa(n,i,e.hh))}(t,e,i)}function _f(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function pf(t,n,i,e){t.bh.push({buffer:n,byteOffset:i,byteLength:e}),t.kh+=e}function bf(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=d.min(t.kh,n.byteLength-n.bytesFilled),u=n.bytesFilled+r,s=u-u%i,o=r,c=!1;s>e&&(o=s-n.bytesFilled,c=!0);for(var a,h,f,v,l,w=t.bh;o>0;){var g=w.peek(),m=d.min(o,g.byteLength),_=n.byteOffset+n.bytesFilled;a=n.buffer,h=_,f=g.buffer,v=g.byteOffset,l=m,new y(a).set(new y(f,v,l),h),g.byteLength===m?w.shift():(g.byteOffset+=m,g.byteLength-=m),t.kh-=m,kf(t,m,n),o-=m}return c}function kf(t,n,i){Sf(t),i.bytesFilled+=n}function Tf(t){0===t.kh&&!0===t.Gh?(Df(t),$f(t.if)):yf(t)}function Sf(t){void 0!==t.nf&&(t.nf.Qh=void 0,t.nf.Zh=void 0,t.nf=void 0)}function Ef(t){for(;t.tf.length>0;){if(0===t.kh)return;var n=t.tf.peek();!0===bf(t,n)&&(If(t),mf(t.if,n))}}function Rf(t,n){var i=t.tf.peek();if("closed"===t.if.o){if(0!==n)throw new f("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=wa(n.buffer);var i=t.if;if(!0===Bf(i))for(;Lf(i)>0;)mf(i,If(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(kf(t,n,i),!(i.bytesFilled<i.elementSize)){If(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,u=i.buffer.slice(r-e,r);pf(t,u,0,u.byteLength)}i.buffer=wa(i.buffer),i.bytesFilled-=e,mf(t.if,i),Ef(t)}}(t,n,i);yf(t)}function If(t){var n=t.tf.shift();return Sf(t),n}function Df(t){t.Kh=void 0,t.$h=void 0}function Of(t,n){var i=t.if;"readable"===i.o&&(!function(t){Sf(t),t.tf=new Ca}(t),uh(t),Df(t),Xf(i,n))}function Nf(t){var n=t.if.o;return"errored"===n?null:"closed"===n?0:t.Hh-t.kh}function Cf(t,n,i){var e=v.create(lf.prototype);var r=va(n,"pull",0,[e]),u=va(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===vf(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,e,r,u,s){n.if=t,n.Jh=!1,n.Yh=!1,n.nf=void 0,n.bh=n.kh=void 0,uh(n),n.Gh=!1,n.Ph=!1,n.Hh=ga(u),n.Kh=e,n.$h=r,n.ef=s,n.tf=new Ca,t.mh=n,Ra(Ta(i()),function(){n.Ph=!0,yf(n)},function(t){Of(n,t)})}(t,e,function(){return da(n,"start",[e])},r,u,i,s)}function Af(t){return new f("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Pf(t){return new f("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function xf(t){return ka(function(n,i){var e={Bu:n,Mu:i};t.vh.rf.push(e)})}function Lf(t){return t.vh.rf.length}function Bf(t){var n=t.vh;return void 0!==n&&!!Ff(n)}var Mf=function(){function t(t){if(!Wf(t))throw new f("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===wf(t.mh))throw new f("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(zf(t))throw new f("This stream has already been locked for exclusive reading by another reader");Pa(this,t),this.rf=new Ca}return v.defineProperty(t.prototype,"closed",{get:function(){return Ff(this)?this.Zo:Sa(Uf("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Ff(this)?void 0===this.fh?Sa(Ba("cancel")):xa(this,t):Sa(Uf("cancel"))},t.prototype.read=function(t){return Ff(this)?void 0===this.fh?Sa(Ba("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Sa(new f("view must have non-zero byteLength")):function(t,n){var i=t.fh;if(i.yh=!0,"errored"===i.o)return Sa(i.dh);return function(t,n){var i=t.if,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,u={buffer:wa(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:r,readerType:"byob"};if(t.tf.length>0)return t.tf.push(u),xf(i);if("closed"===i.o)return Ta(Aa(new r(u.buffer,u.byteOffset,0),!0,i.vh.hh));if(t.kh>0){if(!0===bf(t,u)){var s=_f(u);return Tf(t),Ta(Aa(s,!1,i.vh.hh))}if(!0===t.Gh){var o=new f("Insufficient bytes to fill elements in the given buffer");return Of(t,o),Sa(o)}}t.tf.push(u);var c=xf(i);return yf(t),c}(i.mh,n)}(this,t)):Sa(new f("view must be an array buffer view")):Sa(Uf("read"))},t.prototype.releaseLock=function(){if(!Ff(this))throw Uf("releaseLock");if(void 0!==this.fh){if(this.rf.length>0)throw new f("Tried to release a reader lock when that reader has pending read() calls un-settled");La(this)}},t}();function Ff(t){return!!ca(t)&&!!v.prototype.hasOwnProperty.call(t,"rf")}function Uf(t){return new f("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Vf=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),qf(this);var i=n.size,e=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),Cf(this,t,e=ga(e))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var u=ya(i);void 0===e&&(e=1),function(t,n,i,e){var r=v.create(Qh.prototype),u=va(n,"pull",0,[r]),s=va(n,"cancel",1,[]);hf(t,r,function(){return da(n,"start",[r])},u,s,i,e)}(this,t,e=ga(e),u)}}return v.defineProperty(t.prototype,"locked",{get:function(){if(!1===Wf(this))throw Gf("locked");return zf(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Wf(this)?Sa(Gf("cancel")):!0===zf(this)?Sa(new f("Cannot cancel a stream that already has a reader")):jf(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Wf(this))throw Gf("getReader");if(void 0===n)return Wa(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Mf(t);return i.hh=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,e=t.readable,r=void 0===n?{}:n,u=r.preventClose,s=r.preventAbort,o=r.preventCancel,c=r.signal;if(!1===Wf(this))throw Gf("pipeThrough");if(!1===fh(i))throw new f("writable argument to pipeThrough must be a WritableStream");if(!1===Wf(e))throw new f("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==c&&!Gh(c))throw new f("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===zf(this))throw new f("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===vh(i))throw new f("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Na(Zh(this,i,u,s,o,c)),e},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,e=i.preventClose,r=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===Wf(this)?Sa(Gf("pipeTo")):!1===fh(t)?Sa(new f("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),r=Boolean(r),u=Boolean(u),void 0===s||Gh(s)?!0===zf(this)?Sa(new f("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===vh(t)?Sa(new f("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Zh(this,t,e,r,u,s):Sa(new f("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Wf(this))throw Gf("tee");var t=function(t,n){var i,e,r,u,s,o=Wa(t),c=!1,a=!1,h=!1,f=ka(function(t){s=t});function v(){return!0===c?Ta(void 0):(c=!0,Na(Oa(Za(o),function(t){if(c=!1,!0===t.done)return!1===a&&uf(r.mh),void(!1===h&&uf(u.mh));var n=t.value,i=n,e=n;!1===a&&sf(r.mh,i),!1===h&&sf(u.mh,e)})),Ta(void 0))}function d(){}return r=Hf(d,v,function(n){if(a=!0,i=n,!0===h){var r=aa([i,e]),u=jf(t,r);s(u)}return f}),u=Hf(d,v,function(n){if(h=!0,e=n,!0===a){var r=aa([i,e]),u=jf(t,r);s(u)}return f}),Da(o.Zo,function(t){of(r.mh,t),of(u.mh,t)}),[r,u]}(this);return aa(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Wf(this))throw Gf("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Wa(t),e=v.create(th);return e._h=i,e.ph=Boolean(n),e}(this,i)},t}();function Hf(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var u=v.create(Vf.prototype);return qf(u),hf(u,v.create(Qh.prototype),t,n,i,e,r),u}function qf(t){t.o="readable",t.vh=void 0,t.dh=void 0,t.yh=!1}function Wf(t){return!!ca(t)&&!!v.prototype.hasOwnProperty.call(t,"mh")}function zf(t){return void 0!==t.vh}function jf(t,n){return t.yh=!0,"closed"===t.o?Ta(void 0):"errored"===t.o?Sa(t.dh):($f(t),Oa(t.mh[Ha](n),ua))}function $f(t){t.o="closed";var n=t.vh;void 0!==n&&(Ja(n)&&(n.gh.forEach(function(t){t.Bu(Aa(void 0,!0,n.hh))}),n.gh=new Ca),Va(n))}function Xf(t,n){t.o="errored",t.dh=n;var i=t.vh;void 0!==i&&(Ja(i)?(i.gh.forEach(function(t){t.Mu(n)}),i.gh=new Ca):(i.rf.forEach(function(t){t.Mu(n)}),i.rf=new Ca),Ua(i,n))}function Gf(t){return new f("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof ra.asyncIterator&&v.defineProperty(Vf.prototype,ra.asyncIterator,{value:Vf.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Yf=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var e=n.size,r=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=ya(e);if(void 0===r&&(r=1),r=ga(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var c,a=ya(u);void 0===s&&(s=0),s=ga(s),function(t,n,i,e,r,u){function s(){return n}t.uf=function(t,n,i,e,r,u){void 0===r&&(r=1),void 0===u&&(u=function(){return 1});var s=v.create(ch.prototype);return hh(s),Oh(s,v.create(Dh.prototype),t,n,i,e,r,u),s}(s,function(n){return function(t,n){var i=t.sf;if(!0===t.Oh){var e=t.cf;return Oa(e,function(){var e=t.uf,r=e.o;if("erroring"===r)throw e.dh;return rv(i,n)})}return rv(i,n)}(t,n)},function(){return function(t){var n=t.af,i=t.sf,e=i.hf();return iv(i),Oa(e,function(){if("errored"===n.o)throw n.dh;var t=n.mh;!0===af(t)&&uf(t)},function(i){throw Jf(t,i),n.dh})}(t)},function(n){return function(t,n){return Jf(t,n),Ta(void 0)}(t,n)},i,e),t.af=Hf(s,function(){return function(t){return Qf(t,!1),t.cf}(t)},function(n){return Zf(t,n),Ta(void 0)},r,u),t.Oh=void 0,t.cf=void 0,t.ff=void 0,Qf(t,!0),t.sf=void 0}(this,ka(function(t){c=t}),r,o,s,a),function(t,n){var i=v.create(tv.prototype),e=function(t){try{return ev(i,t),Ta(void 0)}catch(t){return Sa(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new f("transform is not a method");e=function(t){return la(r,n,[t,i])}}var u=va(n,"flush",0,[i]);!function(t,n,i,e){n.vf=t,t.sf=n,n.df=i,n.hf=e}(t,i,e,u)}(this,t);var h=da(t,"start",[this.sf]);c(h)}return v.defineProperty(t.prototype,"readable",{get:function(){if(!1===Kf(this))throw sv("readable");return this.af},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"writable",{get:function(){if(!1===Kf(this))throw sv("writable");return this.uf},enumerable:!0,configurable:!0}),t}();function Kf(t){return!!ca(t)&&!!v.prototype.hasOwnProperty.call(t,"sf")}function Jf(t,n){of(t.af.mh,n),Zf(t,n)}function Zf(t,n){iv(t.sf),Ph(t.uf.Th,n),!0===t.Oh&&Qf(t,!1)}function Qf(t,n){void 0!==t.cf&&t.ff(),t.cf=ka(function(n){t.ff=n}),t.Oh=n}var tv=function(){function t(){throw new f("TransformStreamDefaultController instances cannot be created directly")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===nv(this))throw uv("desiredSize");return cf(this.vf.af.mh)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===nv(this))throw uv("enqueue");ev(this,t)},t.prototype.error=function(t){if(!1===nv(this))throw uv("error");var n;n=t,Jf(this.vf,n)},t.prototype.terminate=function(){if(!1===nv(this))throw uv("terminate");!function(t){var n=t.vf,i=n.af.mh;!0===af(i)&&uf(i);var e=new f("TransformStream terminated");Zf(n,e)}(this)},t}();function nv(t){return!!ca(t)&&!!v.prototype.hasOwnProperty.call(t,"vf")}function iv(t){t.df=void 0,t.hf=void 0}function ev(t,n){var i=t.vf,e=i.af.mh;if(!1===af(e))throw new f("Readable side is not in a state that permits enqueue");try{sf(e,n)}catch(t){throw Zf(i,t),i.af.dh}(function(t){return!0!==ef(t)})(e)!==i.Oh&&Qf(i,!0)}function rv(t,n){return Oa(t.df(n),void 0,function(n){throw Jf(t.vf,n),n})}function uv(t){return new f("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function sv(t){return new f("TransformStream.prototype."+t+" can only be used on a TransformStream")}var ov,cv=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return vt(n,t),ht(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(An);function av(t){return n=[t],new Vf({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function hv(t){return av(new y(t))}function fv(t,n){return function(t,n){var i=n,e=t.getReader(),r=new qs,u=function(){s();var t=new gu;e.cancel(t).catch(Ft),r.Uu(t)},s=function(){i&&(i.Hr(u),i=void 0)};i&&(i.xr?u():i.Vr(u));var o=[];return j.resolve(e.read()).then(function t(n){return n.done?(s(),j.resolve(o)):(o.push(n.value),j.resolve(e.read()).then(t))}).then(function(t){s(),r.Fu(t)},function(t){s(),r.Uu(t)}),r.Lu}(t,n).then(function(t){return Qu(t).buffer})}function vv(t,n){var i=n,e=new Yf,r=e.readable,u=e.writable,s=u.getWriter(),o=function(){i&&i.jr()};return s.closed.then(o,o),t.then(function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(Ft)},function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(Ft)}),r}function dv(t){return Cs(new y(t))}function lv(t){return As(t).buffer}!function(t){t[t.th=0]="th",t[t.lf=1]="lf"}(ov||(ov={}));var wv="content-type",gv="text/plain;charset=UTF-8",yv=function(){function t(){}var n=t.prototype;return n.wf=function(t){return this.gf(t).then(JSON.parse)},n.yf=function(t,n){switch(t){case ta.Za:return this.mf(n);case ta.Qa:return this.wf(n);case ta.th:return this._f();case ta.si:return this.gf(n);default:throw new f}},t}();function mv(t,n,i){if(t instanceof yv)return t;if(t instanceof Vf)return function(t,n){return new pv({pr:ov.th,_f:t,pf:_v(n)})}(t,i);var e=_v(i),r=j.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{pr:ta.si,bf:t,pf:n||gv};if(t instanceof ArrayBuffer||Ju(t))return{pr:ta.Za,bf:Iv(t),pf:n};if(Pt(t)||Nt(t))return{pr:ta.Qa,bf:t,pf:n};throw new f("Unsupported BodyInit type")}return{pr:ta.si,bf:null,pf:n}}(t,e)});return new pv({pr:ov.lf,Lu:r,kf:n})}function _v(t){return(t.get(wv)||"").toLowerCase()}var pv=function(t){function n(n){var i;return(i=t.call(this)||this).Tf=!1,i.Sf=void 0,i.Ef=new qs,i.Ef.Lu.catch(Ft),i.Rf(n),i}vt(n,t);var i=n.prototype;return i.If=function(){return this.Ef.Lu},i.gf=function(t){return this.Df(bv,t)},i.wf=function(t){return this.Df(Tv,t)},i.mf=function(t){return this.Df(Ev,t)},i._f=function(){return this.Of((t=this.Sf).pr===ov.th?t._f:vv(t.Lu.then(Rv).then(hv),t.kf));var t},i.Df=function(t,n){if(this.Tf)return j.reject(new f("Already used"));this.Tf=!0;var i=t(this.Sf,n);return this.Ef.Fu(i.then(Ft)),i},i.Of=function(t){if(this.Tf)throw new f("Already used");if(t.locked)throw new f("Body stream is locked");this.Tf=!0;var n=new Yf,i=j.resolve(t.pipeTo(n.writable));return this.Ef.Fu(i),n.readable},i.Rf=function(t){this.Sf=t,t.pr===ov.lf&&t.Lu.catch(Ft)},i.Nf=function(){if(this.Tf)throw new f("Already used");var t=function(t){if(t.pr===ov.th){var n=t._f.tee(),i=n[0],e=n[1];return[{pr:t.pr,_f:i,pf:t.pf},{pr:t.pr,_f:e,pf:t.pf}]}var r=t.kf.Xr(),u=r[0],s=r[1];return[{pr:t.pr,Lu:t.Lu,kf:u},{pr:t.pr,Lu:t.Lu,kf:s}]}(this.Sf),i=t[0],e=t[1];return this.Rf(i),new n(e)},ht(n,[{key:"Cf",get:function(){return this.Tf}}]),n}(yv);function bv(t,n){return t.pr===ov.th?fv(t._f,n).then(dv):(n&&t.kf.$r(n),ku(t.Lu.then(kv),t.kf))}function kv(t){switch(t.pr){case ta.si:return j.resolve(t.bf||"");case ta.Za:return j.resolve(t.bf).then(dv);case ta.Qa:return j.resolve(t.bf).then(JSON.stringify)}}function Tv(t,n){return t.pr===ov.th?bv(t,n).then(JSON.parse):(n&&t.kf.$r(n),ku(t.Lu.then(Sv),t.kf))}function Sv(t){return t.pr===ta.Qa?j.resolve(t.bf):kv(t).then(JSON.parse)}function Ev(t,n){return t.pr===ov.th?fv(t._f,n):(n&&t.kf.$r(n),ku(t.Lu.then(Rv),t.kf))}function Rv(t){switch(t.pr){case ta.Za:return j.resolve(t.bf);case ta.si:case ta.Qa:return kv(t).then(lv)}}function Iv(t){return t instanceof ArrayBuffer?t:Us(Ls(t)).buffer}function Dv(t){return t.Af>=200&&t.Af<=299||304===t.Af}var Ov,Nv,Cv,Av,Pv=function(t){function n(n,i){var e,r,u,s,o,c;i?(r=i.Pf,u=i.xf,s=i.Af,o=i.Lf,c=i.Bf):(r=[],u=ta.si,s=200,o="OK",c=!1);var a=n.Mf,h=new na(n.Pf||r),f=n.xf||u,v=n.Ff||(i&&i.Mf===a?i.Ff:a.Uf),d=i?i.Vf:null,l=mv(void 0!==n.Li?n.Li:d,n.kf||new wu,h);return(e=t.call(this,l)||this).Pf=void 0,e.Mf=void 0,e.Ff=void 0,e.xf=void 0,e.Af=void 0,e.Lf=void 0,e.Bf=void 0,e.Pf=h,e.Mf=a,e.Ff=v,e.xf=f,e.Af=void 0!==n.Af?n.Af:s,e.Lf=void 0!==n.Lf?String(n.Lf):o,e.Bf=n.Bf||c,e}vt(n,t);var i=n.prototype;return i.Li=function(t){return this.yf(this.xf,t)},i.Nu=function(){return new n({Li:this.Nf(),Mf:this.Mf},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Vf=void 0,i.Vf=n,i}vt(n,t);var i=n.prototype;return i.If=function(){return this.Vf.If()},i.gf=function(t){return this.Vf.gf(t)},i.wf=function(t){return this.Vf.wf(t)},i.mf=function(t){return this.Vf.mf(t)},i._f=function(){return this.Vf._f()},i.Nf=function(){return this.Vf.Nf()},ht(n,[{key:"Cf",get:function(){return this.Vf.Cf}}]),n}(yv));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Ov||(Ov={})),function(t){t.Hf="",t.qf="manifest",t.Wf="segment",t.zf="content-protection"}(Nv||(Nv={})),function(t){t.Hf="",t.jf="initialization-segment",t.$f="fairplay-license",t.Xf="fairplay-certificate",t.Gf="widevine-license",t.Yf="widevine-certificate",t.Kf="playready-license",t.Jf="clearkey-license",t.Zf="aes128-key"}(Cv||(Cv={})),function(t){t.Hf="",t.Qf="audio",t.tv="video",t.si="text",t.nv="image"}(Av||(Av={}));var xv=function(t,n){this.bf=void 0,this.Pf=void 0,this.ev=void 0,this.xf=void 0,this.rv=void 0,this.Gr=void 0,this.pr=void 0,this.uv=void 0,this.sv=void 0,this.Uf=void 0,this.ov=void 0,this.cv=void 0;var i,e,r,u,s,o,c,a,h,f,v,d=t.Uf;n?(i=n.bf,e=n.Pf,r=n.ev,u=n.xf,s=n.rv,o=n.Gr,c=n.pr,a=n.uv,h=n.sv,f=n.ov,v=n.cv):(i=null,e={},r=Ov.GET,u=ta.si,s=0,c=Nv.Hf,a=Cv.Hf,h=Av.Hf,f=!1),this.Uf=d,this.bf=t.bf||i,this.Pf=new na(t.Pf||e),this.ev=t.ev||r,this.xf=t.xf||u,this.rv=void 0!==t.rv?Number(t.rv)||0:s,this.Gr=t.Gr||o||(new wu).Gr,this.pr=t.pr||c,this.uv=t.uv||a,this.sv=t.sv||h,this.ov=void 0!==t.ov?Boolean(t.ov):f,this.cv=t.cv||v},Lv=function(){function t(){}var n=t.prototype;return n.Mf=function(t){var n=function(t){return new Pv({Li:null,Pf:{},Mf:t,Ff:t.Uf,xf:t.xf,Af:0,Lf:Qc.Ca})}(new xv(t));return j.resolve(n)},n.av=function(t){},n.et=function(){},t}();var Bv=function(){function t(t,n){void 0===n&&(n=!0),this.hv=void 0,this.fv=void 0,this.hv=t,this.fv=n}var n=t.prototype;return n.Mf=function(t){var n=this.vv(t);return this.hv.Mf(n)},n.av=function(t){return this.hv.av(this.dv(t))},n.vv=function(n){var i=new xv(n);if(!this.fv){var e=t.lv(i.Uf);i=new xv({Uf:e},i)}return i},n.dv=function(n){var i=n.Uf;return this.fv||(i=t.lv(i)),{Uf:i,bf:n.bf}},t.lv=function(t){return st.Qe&&jr(t,"http://")?t.replace(":","s:"):t},n.et=function(){this.hv.et()},ht(t,null,[{key:"wv",get:function(){return t.gv||(t.gv=new t(new Lv)),t.gv}}]),t}();function Mv(t,n){for(var i=0,e=v.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function Fv(t,n){var i=st.Xe(t);return n&&!$r(i,"/")&&(i+="/"),i}Bv.gv=void 0;var Uv,Vv=/cache:(.+)?(?=&|$)/,Hv="http://webcache.googleusercontent.com/search?q=cache:";function qv(t){if(!jr(t,Hv))return"";var n=st.$e(t).search.match(Vv);return n&&n.length>1?n[1]:""}!function(t){t.yv="HttpOpenError",t.mv="HttpResponseError",t._v="HttpTimeoutError"}(Uv||(Uv={}));var Wv=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).pv=void 0,r.pv=n,r}return vt(n,t),ht(n,[{key:"Mf",get:function(){return this.pv}}]),n}(An);var zv=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Uf+". Invalid URL.",i)||this}return vt(n,t),ht(n,[{key:"name",get:function(){return Uv.yv}}]),n}(Wv);var jv=function(t){function n(n,i,e){var r;return(r=t.call(this,n.Mf,null!=e?e:function(t){return"Error while loading "+t.Mf.Uf+", status code "+t.Af}(n),i)||this).bv=void 0,r.bv=n,r}return vt(n,t),ht(n,[{key:"name",get:function(){return Uv.mv}},{key:"kv",get:function(){return this.bv}}]),n}(Wv);var $v=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Uf+" timed out after "+t.rv+" seconds."}(n),i)||this}return vt(n,t),ht(n,[{key:"name",get:function(){return Uv._v}}]),n}(Wv),Xv=function(t,n){return(Xv=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Gv(t,n){function i(){this.constructor=t}Xv(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}var Yv="object"==typeof i?i:"object"==typeof t?t:"object"==typeof global?global:null;var Kv=function(){var t=Yv.Blob;if(t)try{return new t,function(t,n){return new Yv.Blob(t,n)}}catch(t){}var n,i=Yv.BlobBuilder||Yv.WebKitBlobBuilder||Yv.MozBlobBuilder||Yv.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,u=t;r<u.length;r++){var s=u[r];e.append(s)}return e.getBlob(i&&i.type||"")}):null}(),Jv="function"==typeof Vf?Vf:void 0;function Zv(t){return t&&"function"==typeof t.getReader}function Qv(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Zv(i)}catch(t){return!1}}var td=function(){function t(t,n){this.vh=t,this.Tv=n}return t.prototype.pull=function(t){var n=this;return this.vh.read().then(function(i){n.Tv&&n.Tv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.vh.cancel(t)},t}();function nd(t,n){return n.constructor===t?n:new t(new td(n.getReader()),{highWaterMark:0})}var id=function(){function t(t,n){this.Sv=t,this.Ev=n}return t.prototype.pull=function(t){return this.Sv().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.Ev&&this.Ev(t)},t}();function ed(t,n,i){return new t(new id(n,i),{highWaterMark:0})}var rd={searchParams:"URLSearchParams"in Yv,iterable:"Symbol"in Yv&&"iterator"in Symbol,blob:"FileReader"in Yv&&!!Kv,formData:"FormData"in Yv,arrayBuffer:"ArrayBuffer"in Yv,stream:Qv(Jv),streamRequest:"Request"in Yv&&"body"in Yv.Request.prototype,streamResponse:"Response"in Yv&&"body"in Yv.Response.prototype,abort:"AbortController"in Yv&&"Request"in Yv&&"signal"in Yv.Request.prototype,encoding:"TextEncoder"in Yv&&"TextDecoder"in Yv,url:"URL"in Yv&&function(t){try{return new Yv.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Yv&&/Firefox\//.test(Yv.navigator.userAgent)};function ud(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new f("Invalid character in header field name");return t}function sd(t){return"string"!=typeof t&&(t=String(t)),t}function od(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return rd.iterable&&(n[Symbol.iterator]=function(){return n}),n}var cd=function(){function t(t){var n=this;this.dr={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return rd.iterable&&t&&t[Symbol.iterator]}(t)?t&&v.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=ud(t),n=sd(n);var i=t.toLowerCase();if(this.dr.hasOwnProperty(i)){var e=this.dr[i],r=e[1];e[1]=r?r+", "+n:n}else this.dr[i]=[t,n]},t.prototype.delete=function(t){var n=ud(t).toLowerCase();delete this.dr[n]},t.prototype.get=function(t){var n=ud(t).toLowerCase();return this.dr.hasOwnProperty(n)?this.dr[n][1]:null},t.prototype.has=function(t){var n=ud(t).toLowerCase();return this.dr.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=ud(t)).toLowerCase();this.dr[i]=[t,sd(n)]},t.prototype.forEach=function(t,n){for(var i in this.dr)this.dr.hasOwnProperty(i)&&t.call(n,this.dr[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),od(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),od(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),od(t)},t.prototype.asList=function(){var t=[];for(var n in this.dr)if(this.dr.hasOwnProperty(n)){var i=this.dr[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function ad(){}rd.iterable&&(cd.prototype[Symbol.iterator]=cd.prototype.entries);var hd,fd,vd,dd=d.min,ld=String.fromCharCode,wd=16384;function gd(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=wd){var r=dd(e+wd,n);i.push(ld.apply(null,t.slice(e,r)))}return i.join("")}(n)}function yd(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function md(t,n){return t>>n&63|128}function _d(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(yd(t),n.push(t>>12&15|224),n.push(md(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(md(t,12)),n.push(md(t,6))),n.push(63&t|128)):n.push(t)}function pd(){if(vd>=fd)throw new h("Invalid byte index");var t=255&hd[vd];if(vd++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function bd(){var t,n;if(vd>fd)throw new h("Invalid byte index");if(vd===fd)return!1;if(t=255&hd[vd],vd++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|pd())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|pd()<<6|pd())>=2048)return yd(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|pd()<<12|pd()<<6|pd())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}var kd=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Td(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Sd(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Ed(t){return t&&DataView.prototype.isPrototypeOf(t)}var Rd,Id=ArrayBuffer.isView||function(t){return t&&(kd.indexOf(v.prototype.toString.call(t))>-1||Ed(t))};function Dd(t){if(t.bodyUsed)return j.reject(new f("Already used"));t.bodyUsed=!0}function Od(t){return new j(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Nd(t){return rd.encoding?new Yv.TextDecoder("utf-8").decode(new y(t)):gd(function(t){fd=(hd=t).length,vd=0;for(var n,i=[];!1!==(n=bd());)i.push(n);return i}(new y(t)))}function Cd(t){return rd.encoding?(new Yv.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)_d(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function Ad(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,u=t.value;return r?j.resolve(i):(i.push(u),n.read().then(e))};return n.read().then(e)}function Pd(t){return Ad(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(c=e[i]).byteLength;for(var r=new y(n),u=0,s=0,o=t;s<o.length;s++){var c=o[s];r.set(c,u),u+=c.byteLength}return r}(t).buffer})}function xd(t){return t.slice?t.slice(0):Ld(new y(t))}function Ld(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Bd(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function Md(t){var n=t;if(n.bodyUsed)throw new f("Already used");if(n.Rv===Rd.Iv){if(!n.Dv.tee)throw new h("could not clone ReadableStream body");var i=n.Dv.tee(),e=i[0],r=i[1];return n.body=e,n.Dv=e,n.Ov=e,r}return n.Rv===Rd.Za?xd(n.Dv):n.Rv===Rd.lf?n.Dv.then(Md):n.Ov}!function(t){t[t.si=0]="si",t[t.Nv=1]="Nv",t[t.Cv=2]="Cv",t[t.Za=3]="Za",t[t.Iv=4]="Iv",t[t.lf=5]="lf"}(Rd||(Rd={}));var Fd=function(){function t(n,i){this.bodyUsed=!1;var e,r,u,s=this;if(this.Ov=n||null,n)if("string"==typeof n)this.Rv=Rd.si,this.Dv=n;else if((u=n)&&"function"==typeof u.then)this.Rv=Rd.lf,this.Dv=j.resolve(n).then(function(n){return new t(n,i)}),this.Dv.catch(ad);else if(rd.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Rv=Rd.Nv,this.Dv=n;else if(rd.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Rv=Rd.Cv,this.Dv=n;else if(rd.searchParams&&Td(n))this.Rv=Rd.si,this.Dv=n.toString();else if(rd.arrayBuffer&&(Sd(n)||Id(n)))Ed(n)&&(this.Ov=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.Rv=Rd.Za,this.Dv=Sd(e=n)?xd(e):Ld(e);else{if(!rd.stream||!Zv(n))throw new h("unsupported BodyInit type");n=nd(Jv,n),this.Rv=Rd.Iv,this.Dv=n,this.Ov=n}else this.Rv=Rd.si,this.Dv="";this.Av="",i.has("content-type")?this.Av=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Av="text/plain;charset=UTF-8":s.Rv===Rd.Nv&&s.Dv.type?this.Av=s.Dv.type:rd.searchParams&&Td(n)&&(this.Av="application/x-www-form-urlencoded;charset=UTF-8"),this.Av&&i.set("content-type",this.Av)),rd.stream&&(null==n?this.body=null:s.Rv===Rd.Iv?this.body=s.Dv:this.body=ed(Jv,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=Dd(this);return e||(this.Rv===Rd.Nv?(t=this.Dv,n=new FileReader,i=Od(n),n.readAsText(t),i):this.Rv===Rd.Za?j.resolve(this.Dv).then(Nd):this.Rv===Rd.Iv?Pd(this.Dv).then(Nd):this.Rv===Rd.lf?this.Dv.then(function(t){return t.text()}):this.Rv===Rd.Cv?j.reject(new h("could not read FormData body as text")):j.resolve(this.Dv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();rd.blob&&(Fd.prototype.blob=function(){var t,n,i=Dd(this);return i||(this.Rv===Rd.Nv?j.resolve(this.Dv):this.Rv===Rd.Za?j.resolve(Kv([this.Dv],{type:this.Av})):this.Rv===Rd.Iv?(t=this.Dv,n=this.Av,Ad(t).then(function(t){return Kv(t,{type:n||""})})):this.Rv===Rd.lf?this.Dv.then(function(t){return t.blob()}):this.Rv===Rd.Cv?j.reject(new h("could not read FormData body as Blob")):j.resolve(Kv([this.Dv],{type:this.Av})))}),rd.arrayBuffer&&(Fd.prototype.arrayBuffer=function(){var t,n,i;return this.Rv===Rd.Za?Dd(this)||j.resolve(this.Dv):this.Rv===Rd.Nv?Dd(this)||(t=this.Dv,n=new FileReader,i=Od(n),n.readAsArrayBuffer(t),i):this.Rv===Rd.Iv?Pd(this.Dv):this.Rv===Rd.lf?Dd(this)||this.Dv.then(function(t){return t.arrayBuffer()}):this.Rv===Rd.Cv?j.reject(new h("could not read FormData body as ArrayBuffer")):j.resolve(this.Dv).then(Cd)}),rd.formData&&(Fd.prototype.formData=function(){return this.Rv===Rd.Cv?Dd(this)||j.resolve(this.Dv):this.text().then(Bd)});var Ud=[301,302,303,307,308],Vd=function(t){function n(n,i){var e=this,r=new cd((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return Gv(n,t),n.prototype.clone=function(){return new n(Md(this),{status:this.status,statusText:this.statusText,headers:new cd(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Ud.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Fd);var Hd,qd=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new f("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function u(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function o(t){return(o=v.setPrototypeOf?v.getPrototypeOf:function(t){return t.__proto__||v.getPrototypeOf(t)})(t)}function c(t,n){return(c=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,n,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!v.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(e){var r=v.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}v.defineProperty(n,"__esModule",{value:!0});var d=function(){function t(){i(this,t),v.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){s(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,u=e.length;r<u;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=o(n).call(this))||"object"!=typeof r&&"function"!=typeof r?a(e):r).listeners||d.call(a(t)),v.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),v.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new f("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,d),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),h(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),v.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w});(Hd=qd)&&Hd.__esModule&&v.prototype.hasOwnProperty.call(Hd,"default")&&Hd.default,qd.AbortSignal;var Wd=qd.AbortController,zd=Yv.DOMException;try{new zd}catch(t){(zd=function(t,n){h.call(this,t),this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=v.create(h.prototype),zd.prototype.constructor=zd}var jd=Wd;function $d(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Xd(t,n,i){return new j(function(e,r){if(n.signal.aborted)return t.catch(ad),r(Gd());var u=function(){n.signal.removeEventListener("abort",u),r(Gd())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()})})}function Gd(){return new zd("Aborted","AbortError")}var Yd,Kd="moz-chunked-arraybuffer";function Jd(t){try{var n=new m;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Yd||(Yd={}));var Zd=function(){function t(t,n){var i=this;this.Pv=!1,this.pv=t,this.xv=n,this.Lv=new m,this.Bv=new j(function(t,n){i.Mv=t,i.Fv=n})}return t.prototype.send=function(){var t=this;return this.Uv().then(function(n){return t.Vv(n,t.xv),t.Bv})},t.prototype.Uv=function(){var t=this.pv;return t.Rv===Rd.Iv?t.arrayBuffer():j.resolve(t.Ov)},t.prototype.Hv=function(t){this.pv.onprogress&&this.pv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.qv=function(t){this.Fv(t)},t.prototype.Wv=function(){this.qv(new f("Network request failed"))},t.prototype.zv=function(){this.qv(new f("Network request failed"))},t.prototype.jv=function(){this.qv(Gd())},t.prototype.Vv=function(t,n){var i=this,e=this.pv,r=this.Lv,u=function(){return i.$v()};if(e.signal.aborted)return this.jv();r.onreadystatechange=function(){if(r.readyState>=Yd.HEADERS_RECEIVED&&!i.Pv){var t=function(t){var n=new cd;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Pv=!0,i.Xv(n)}},r.onprogress=function(t){return i.Hv(t)},r.onload=function(){return i.Gv()},r.onerror=function(){return i.Wv()},r.ontimeout=function(){return i.zv()},r.onabort=function(){return i.jv()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",u),r.onloadend=function(){e.signal.removeEventListener("abort",u)},t?r.send(t):r.send()},t.prototype.$v=function(){this.jv(),this.Lv.abort()},t}(),Qd=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Yv=void 0,e.Kv=void 0,e}return Gv(n,t),n.prototype.Xv=function(t){var n=this;this.Yv=new j(function(t,i){n.Kv=t,n.Jv=i}),this.Mv(new Vd(this.Yv,t))},n.prototype.Gv=function(){var t=this.Lv.response;if(null==t){var n=this.xv;""===n||"text"===n?t=this.Lv.responseText:"document"===n?t=this.Lv.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=Kv([]))}this.Kv(t)},n.prototype.qv=function(n){t.prototype.qv.call(this,n),this.Jv&&this.Jv(n)},n}(Zd),tl=function(t){function n(n){var i=t.call(this,n,Kd)||this;return i.Zv=void 0,i.Qv=void 0,i.td=!1,i}return Gv(n,t),n.prototype.Xv=function(t){var n=this;this.Zv=new Jv({start:function(t){n.Qv=t},cancel:function(){n.td=!0,n.$v()}}),this.Mv(new Vd(this.Zv,t))},n.prototype.Hv=function(n){this.td||this.Qv.enqueue(new y(this.Lv.response)),t.prototype.Hv.call(this,n)},n.prototype.Gv=function(){this.Qv.close()},n.prototype.qv=function(n){t.prototype.qv.call(this,n),this.Qv&&!this.td&&(this.td=!0,this.Qv.error(n))},n}(Zd),nl=function(){var t=rd.firefox&&Jd(Kd);return nl=function(){return t},t},il=function(){var t;return t=rd.arrayBuffer&&Jd("arraybuffer")?"arraybuffer":rd.blob&&Jd("blob")?"blob":"",il=function(){return t},t};function el(t){return(rd.stream&&nl()?new tl(t):new Qd(t,il())).send()}var rl=Yv.fetch,ul=Yv.Request;Yv.Response;var sl=Yv.AbortController;var ol=["http:","https:"];var cl=function(){try{if(rd.streamRequest){var t=new ul("about:blank",{body:"",method:"POST"}).body;if(t&&Qv(t.constructor))return t.constructor}}catch(t){}}();function al(t,n,i){var e;if(rd.stream){var r=void 0;if(rd.streamResponse){var u=t.body;r=u&&nd(Jv,u)}else r=ed(Jv,function(){return Xd(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new td(n.getReader(),i),{highWaterMark:0})}(Jv,t,function(t){var r=t.done,u=t.value;r?i=void 0===i?e:i:e+=u.byteLength,n(e,i)})}(r,i,hl(t.headers))),e=r}else{var s=Xd(t.arrayBuffer(),n,!0);i&&(s=function(t,n,i){return j.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(s,i,hl(t.headers))),e=s}return new Vd(e,t)}function hl(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function fl(t){var n=new jd;return t.signal&&$d(n,t.signal),function(t,n){var i,e,r=t;if(i=r.Rv===Rd.Iv?rd.streamRequest&&cl?j.resolve(nd(cl,r.Dv)):Xd(t.arrayBuffer(),n,!1):Xd(j.resolve(t.Ov),n,!1),rd.abort){var u=new sl;$d(u,n.signal),e=u.signal}return i.then(function(n){return new ul(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof cd?i:new cd(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return rl(i).then(function(i){return al(i,n,t.onprogress)})})}var vl=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var dl=function(t){function n(i,e){var r,u,s,o,c,a,h,v,d,l=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new f("Already used");r=i.url,u=i.credentials,e.headers||(s=new cd(i.headers)),o=i.method,c=i.mode,a=i.referrer,h=i.referrerPolicy,v=i.signal,d=i.onprogress,w||null==i.Ov||(w=i.Ov,i.bodyUsed=!0)}else r=String(i),u="same-origin",o="GET",c="cors",a="about:client",h="",v=null,d=null;if(!e.headers&&s||(s=new cd(e.headers)),e&&(a="about:client",h=""),(l=t.call(this,w,s)||this).url=r,l.headers=s,l.credentials=e.credentials||u,l.method=function(t){var n=t.toUpperCase();return vl.indexOf(n)>-1?n:t}(e.method||o),l.mode=e.mode||c,l.signal=e.signal||v||(new jd).signal,l.referrer=void 0!==e.referrer?e.referrer:a,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:h,l.onprogress=e.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new f("Body not allowed for GET or HEAD requests");return l}return Gv(n,t),n.prototype.clone=function(){return new n(this,{body:Md(this)})},n}(Fd),ll="function"==typeof rl&&rd.stream&&rd.streamResponse&&rd.url;function wl(t,n){return new j(function(i){var e=new dl(t,n);i((ll&&function(t){try{return ol.indexOf(new Yv.URL(t,Yv.location.href).protocol)>=0}catch(t){return!1}}(e.url)?fl:el)(e))})}wl.polyfill=!0;var gl=function(){function t(t){this.kv=void 0,this.pv=void 0,this.nd=new wu,this.bv=void 0,this.ed=!1,this.pv=t,this.nd.$r(t.Gr),this.kv=this.rd()}var n=t.prototype;return n.rd=function(){var t,n,i,e,r,u,o,c,a=this;return wr.async(function(h){for(;;)switch(h.prev=h.next){case 0:(t=this.pv).rv&&s(function(){a.ed=!0,a.nd.jr()},t.rv),h.prev=2,n=wl(t.Uf,{method:t.ev,headers:t.Pf.nh(),body:t.bf,credentials:t.ov?"include":"same-origin",signal:_l(this.nd.Gr),onprogress:t.cv}),h.next=9;break;case 6:throw h.prev=6,h.t0=h.catch(2),new zv(t,h.t0);case 9:return h.prev=9,h.next=12,wr.awrap(n);case 12:i=h.sent,h.next=20;break;case 15:throw h.prev=15,h.t1=h.catch(9),yu(e=this.ud(h.t1))&&this.nd.jr(),e;case 20:if(r=i.url||t.Uf,u=0===i.status&&"file:"===(f=r,st.$e(f).protocol)?200:i.status,o=new yl(this,i,this.nd),c=new Pv({Li:o,Mf:t,xf:t.xf,Pf:new na(i.headers.asList()),Af:u,Lf:i.statusText,Ff:r}),this.bv=c,!Dv(c)){h.next=29;break}return h.abrupt("return",c);case 29:throw new jv(c);case 30:case"end":return h.stop()}var f},null,this,[[2,6],[9,15]],j)},n.ud=function(t){return yu(t)?this.ed?new $v(this.pv):new gu(t.message,t):this.bv?new jv(this.bv,t):new zv(this.pv,t)},t}(),yl=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).sd=void 0,r.od=void 0,r.nd=void 0,r.Ef=new qs,r.sd=n,r.od=i,r.nd=e,r.Ef.Lu.catch(Ft),r}vt(n,t);var i=n.prototype;return i.If=function(){return this.Ef.Lu},i.gf=function(t){return this.Df(this.od.text(),t)},i.mf=function(t){return this.Df(this.od.arrayBuffer(),t)},i._f=function(){var t=this.od.body;return t?this.Of(t):vv(this.mf().then(hv),this.nd)},i.Nf=function(){var t=this.od.clone(),i=this.nd.Xr(),e=i[0],r=i[1];return this.nd=e,new n(this.sd,t,r)},i.Df=function(t,n){var i=this;n&&this.nd.$r(n);var e=j.resolve(t).catch(function(t){throw i.sd.ud(t)});return e=ku(e,this.nd),this.Ef.Fu(e.then(Ft)),e},i.Of=function(t){var n=this,i=new Yf,e=j.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.sd.ud(t);throw i.writable.abort(e).catch(Ft),e});return e=ku(e,this.nd),this.Ef.Fu(e.then(Ft)),i.readable},ht(n,[{key:"Cf",get:function(){return this.od.bodyUsed}}]),n}(yv),ml="abort";function _l(t){var n=new jd;if(t.xr)n.abort();else if(!t.Lr){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(ml,i),t.Hr(i),t.Wr(e)};n.signal.addEventListener(ml,i),t.Vr(i),t.qr(e)}return n.signal}var pl,bl=function(){function t(){}var n=t.prototype;return n.Mf=function(t){return new gl(t).kv},n.av=function(t){if(nt&&nt.sendBeacon)nt.sendBeacon(t.Uf,Jc([t.bf],{type:t.pf}));else{var n=t.pf?{"Content-type":t.pf}:void 0;Eu(this.Mf(new xv({ev:Ov.POST,Uf:t.Uf,bf:t.bf,Pf:n})))}},n.et=function(){},t}(),kl=function(n){function i(){for(var i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(i=n.call.apply(n,[this].concat(r))||this).hd=void 0,i.fd=function(){if(Et.Sn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.vd=Et.Xn||Et.Sn,i.dd=void 0,i}return vt(i,n),ht(i,[{key:"Ue",get:function(){return this.hd||(this.hd=new tu(Xc())),this.hd}},{key:"ld",get:function(){return this.fd}},{key:"wd",get:function(){return this.vd}},{key:"gd",get:function(){return!1}},{key:"yd",get:function(){return Yc.la()}},{key:"md",get:function(){return{_d:Zc}}},{key:"pd",get:function(){return u.connection&&u.connection.effectiveType||"default"}},{key:"bd",get:function(){return u.connection&&u.connection.type||"unknown"}},{key:"kd",get:function(){return this.dd||(this.dd=new Bv(new bl)),this.dd}}]),i}(vr);dt(new kl),function(t){t.Td="Sd",t.Ed="Rd"}(pl||(pl={})),pl.Td,pl.Ed;var Tl=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Id=void 0,e}return vt(n,t),ht(n,[{key:"Dd",get:function(){return this.Id||(this.Id=this.Od()),this.Id}}]),n}(Pu);function Sl(t){return Boolean(t&&t.Dd)}var El,Rl=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n}(Tl),Il=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n}(Pu),Dl=function(t){function n(n){var i;return(i=t.call(this,pl.Td)||this).Nd=n,i}return vt(n,t),n.prototype.Od=function(){return new Ol(this.Nd.Dd)},n}(Rl),Ol=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return vt(n,t),n}(Il),Nl=function(t){function n(n){var i;return(i=t.call(this,pl.Ed)||this).Nd=n,i}return vt(n,t),n.prototype.Od=function(){return new Cl(this.Nd.Dd)},n}(Rl),Cl=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return vt(n,t),n}(Il);!function(t){t.Cd="Ad",t.Pd="xd",t.Ld="Bd",t.Md="Fd",t.Ud="Vd",t.Hd="qd",t.Wd="zd",t.jd="$d",t.Xd="hc",t.Gd="Yd",t.Kd="Jd",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(El||(El={}));var Al=function(t){function n(){var n;return(n=t.call(this)||this).Zd=[],n.Id=void 0,n}vt(n,t);var i=n.prototype;return i.Qd=function(t){return this.Zd[t]},i.tl=function(t){return!(!t||fu(this.Zd,t))&&(this.Zd.push(t),this.Id&&this.Id.push(t.Dd),t.tu(El.Hd,this.Zr),this.Qr(new Dl(t)),!0)},i.nl=function(t){if(!t)return!1;var n=this.Zd.indexOf(t);return!(n<0)&&(hu(this.Zd,n),this.Id&&hu(this.Id,n),t.ru(El.Hd,this.Zr),this.Qr(new Nl(t)),!0)},i.il=function(t){return fu(this.Zd,t)},i.ul=function(){for(var t=this.Zd,n=t.length-1;n>=0;n-=1)this.nl(t[n])},i.et=function(){this.ul(),this.eu()},ht(n,[{key:"sl",get:function(){return this.Zd}},{key:"Dd",get:function(){return this.Id||(this.Id=this.Od()),this.Id}},{key:"ol",get:function(){return this.Zd.length}}]),n}(Cu),Pl=function(t){function n(n){var i;return(i=t.call(this,El.Hd)||this).Nd=n,i}return vt(n,t),n.prototype.Od=function(){return new xl(this.Nd.Dd)},n}(Rl),xl=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return vt(n,t),n}(Il),Ll=function(t){function n(){var n;return(n=t.call(this)||this).cl=void 0,n.al=function(t){var i=t.Nd;n.tl(i)},n.hl=function(t){var i=t.Nd;n.nl(i)},n}vt(n,t);var i=n.prototype;return i.fl=function(t){t.tu(pl.Td,this.al),t.tu(pl.Ed,this.hl)},i.vl=function(t){t.ru(pl.Td,this.al),t.ru(pl.Ed,this.hl)},i.et=function(){this.cl&&this.cl.et(),t.prototype.et.call(this)},ht(n,[{key:"dl",get:function(){return this.cl},set:function(t){var n=this.cl;if(t!==n){if(n){this.vl(n);for(var i=0,e=n.sl;i<e.length;i++){var r=e[i];t&&t.il(r)||this.nl(r)}}if(this.cl=t,t){for(var u=[],s=0,o=t.sl;s<o.length;s++){var c=o[s];this.tl(c),this.ll(c)&&u.push(c)}this.fl(t);for(var a=0;a<u.length;a++){var h=u[a];h.Qr(new Pl(h))}}}}}]),n}(Al),Bl=v.freeze||Ut;function Ml(t,n,i){v.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Fl(t,n){for(var i=0,e=v.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];v.defineProperty(t,r,v.getOwnPropertyDescriptor(n,r))}return t}function Ul(t){if(Pt(t)){var n={};for(var i in t)Rt.call(t,i)&&(n[i]=Ul(t[i]));return n}if(Nt(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=Ul(t[r]));return e}return t}function Vl(t,n){return t===n||!(!t||!n)&&(!(!At(t)||!At(n))&&(Ct(t)?!!Ct(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!Vl(t[r],n[r]))return!1;return!0}(t,n):!Ct(n)&&function(t,n){var i=v.keys(t),e=v.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var u=i[r];if(!Rt.call(n,u)||!Vl(t[u],n[u]))return!1}return!0}(t,n)))}function Hl(t,n){return t.constructor===n.constructor}function ql(t){for(var n={},i=0,e=v.keys(t);i<e.length;i++){var r=e[i],u=t[r];null!=u&&(n[r]=u)}return n}function Wl(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function zl(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function jl(t){var n=zl(t);if(g(n))throw new h("Expected a valid number.");return n}function $l(t){return"string"==typeof t?t:""}function Xl(t,n){if(!Ct(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function Gl(t,n){return Ct(t)?Xl(t,n):n(t)}var Yl=[pl.Td,pl.Ed,El.Hd];function Kl(t){var n,i=t.sl.map(function(t){return t.Dd});return i.item=function(n){var i=0|n,e=t.Qd(i);return e&&e.Dd||void 0},i.addEventListener=function(t,i){n.tu(t,i)},i.removeEventListener=function(t,i){n.ru(t,i)},n=new Au(i),t.tu(Yl,function(t){return n.Qr(t.Dd)}),i}function Jl(){}function Zl(t){var n,i=[El.Xd,El.Hd,El.Gd,El.Kd,El.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.wl&&t.wl.Dd},get enabled(){return t.gl},set enabled(n){t.gl=Wl(n)},get id(){return t.yl},get uid(){return t.ml},get kind(){return t._l},get label(){return t.pl},set label(n){t.pl=$l(n)},get language(){return t.bl},get qualities(){return t.kl.Dd},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.kl.sl;e<r.length;e++)for(var u=r[e],s=0;s<n.length;s++){var o=n[s];u.Dd===o&&i.push(u)}return i}(t,Nt(n)?n:[n]):[]).length>0?t.Tl=i:t.Tl=void 0},get targetQuality(){if(t.Tl)return 1===t.Tl.length?t.Tl[0].Dd:t.Tl.map(function(t){return t.Dd})},addEventListener:function(t,i){var e=Gl(t,$l);n.tu(e,i)},removeEventListener:function(t,i){var e=Gl(t,$l);n.ru(e,i)}};return n=new Au(e),t.tu(i,function(t){return n.Qr(t.Dd)}),v.defineProperty(e,"constructor",{value:Jl}),e}function Ql(){}function tw(t){var n=Kl(t);return v.defineProperty(n,"constructor",{value:Ql}),n}var nw,iw,ew=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.Od=function(){return tw(this)},i.ll=function(t){return t.gl},n}(Ll);function rw(){}function uw(t){var n,i=[El.Hd,El.Xd,El.Cd,El.Pd,El.Ld,El.Md,El.Ud,El.Wd,El.jd],e=[iw.Sl],r={get kind(){return t._l},get label(){return t.pl},set label(n){t.pl=$l(n)},get language(){return t.bl},get id(){return t.yl},get uid(){return t.ml},get inBandMetadataTrackDispatchType(){return t.El},get mode(){return t.Rl},set mode(n){n!==nw.Il&&n!==nw.Dl&&n!==nw.Ol||t.Nl(n)},get forced(){return Boolean(t.Cl)},get type(){return t.pr},get readyState(){return cw(t.Al)},get cues(){return t.Rl===nw.Ol?null:t.Pl.Dd},get activeCues(){return t.Rl===nw.Ol?null:t.xl.Dd},get src(){return t.Ll||""},addEventListener:function(t,i){var e=Gl(t,$l);n.tu(e,i)},removeEventListener:function(t,i){var e=Gl(t,$l);n.ru(e,i)}};return n=new Au(t),t.tu(i,function(t){return n.Qr(t.Dd)}),t.tu(e,function(t){return n.Qr(t)}),v.defineProperty(r,"constructor",{value:rw}),r}function sw(){}function ow(t){var n=Kl(t);return v.defineProperty(n,"constructor",{value:sw}),n}function cw(t){return t}!function(t){t.Ol="disabled",t.Dl="hidden",t.Il="showing"}(nw||(nw={})),function(t){t.Sl="error"}(iw||(iw={}));var aw=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.Od=function(){return ow(this)},i.ll=function(t){return t.Rl===nw.Il},n}(Ll),hw=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.iu=function(n){t.prototype.iu.call(this,n)},i.ou=function(n){t.prototype.ou.call(this,n)},n}(Cu),fw=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(hw),vw=function(t){function n(){return t.call(this,Qc.Ra)||this}return vt(n,t),n}(Pu),dw=function(t){function n(n){var i;return(i=t.call(this,Qc.ba)||this).currentSource=n,i}return vt(n,t),n}(Pu),lw=function(){function t(){}return t.Bl=function(n,i){var e=t.Ml(n,i);return e?t.Fl(e):0},t.Ul=function(){return st.pd||"default"},t.Vl=function(){return st.bd||"unknown"},t.Ml=function(n,i){var e,r=null==(e=st.yd)?void 0:e.ku(i),u=r&&JSON.parse(r);if(u&&u[n])return t.Hl(u,n,i)},t.Fl=function(t){var n=t.availableBandwidth;return n||0},t.Hl=function(n,i,e){if(!t.ql(n,i))return n[i];t.Wl(n,i,e)},t.Wl=function(t,n,i){var e;delete t[n],null==(e=st.yd)||e.da(i,JSON.stringify(t))},t.ql=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.zl=function(t,n,i,e){var r;return gr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.jl=function(n){var i=t.Ul();t.$l(i,"theoplayer-stored-network-info",n,Rn())},t.$l=function(n,i,e,r){var u,s,o=null==(u=st.yd)?void 0:u.ku(i),c=o?JSON.parse(o):void 0,a=t.zl(c,n,e,r);null==(s=st.yd)||s.da(i,JSON.stringify(a))},t.Xl=function(){var n=t.Ul();return t.Bl(n,"theoplayer-stored-network-info")},t}();var ww,gw,yw,mw,_w,pw,bw="1ADD53F3";function kw(t){return{chromecast:function(t){return{appID:t&&t.appID?$l(t.appID):bw}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return ww.AUTO;case"manual":return ww.MANUAL;case"disabled":return ww.DISABLED;default:return ww.MANUAL}}(t?t.strategy:void 0)}}function Tw(t){var n,i=yw.Gl;return(n=t)&&zr(n,"mpd")&&(i=yw.Yl),function(t){return!!t&&zr(t,"m3u8")}(t)&&(i=yw.Kl),i}function Sw(t){return At(t)&&At(t.ssai)&&"google-dai"===t.ssai.integration}function Ew(t){return At(t)&&xt(t.integration)&&"verizon-media"===t.integration}function Rw(t){if(xt(t))return!t;if(Ew(t))return!t.id;if(Sw(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function Iw(t){return Boolean(At(t)&&xt(t.src))}function Dw(t){return xt(t)||Iw(t)||Sw(t)||Ew(t)}function Ow(t){if(t){if(Dw(t))return Rw(t);for(var n=0;n<t.length;n++){if(!Rw(t[n]))return!1}return!0}return!0}function Nw(){return{crossOrigin:gw.Jl,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function Cw(){return gr({},Nw(),{src:void 0,type:yw.Gl,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Aw(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:mw.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return _w.NONE;case"midroll-and-postroll":default:return _w.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Wl(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return mw.INSECURE;case"disabled":return mw.DISABLED;case"enabled":default:return mw.ENABLED}}(t.vpaidMode)),Nt(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(xt)),void 0!==t.googleIma&&(n.googleIma=function(t){var n;return void 0===t?{useNativeIma:!1,bitrate:-1}:{useNativeIma:Wl(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1}}(t.googleIma)),n)}function Pw(t){if(!Ct(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];Pt(r)&&n.push(r)}return n}function xw(t){return xt(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(ww||(ww={})),function(t){t.Jl="",t.Zl="anonymous",t.Ql="use-credentials"}(gw||(gw={})),function(t){t.Yl="application/dash+xml",t.Kl="application/vnd.apple.mpegurl",t.tw="application/x-mpegurl",t.Gl="video/mp4",t.nw="application/vnd.theoplayer.hesp+json",t.iw="application/vnd.theo.hesp+json"}(yw||(yw={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(mw||(mw={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(_w||(_w={})),function(t){t[t.ew=0]="ew",t[t.rw=1]="rw",t[t.uw=2]="uw",t[t.sw=3]="sw",t[t.ow=4]="ow"}(pw||(pw={}));var Lw,Bw=function(t){function n(n,i){var e;return void 0===i&&(i=pw.ew),(e=t.call(this,Qc.Sa)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Pu),Mw=function(t){function n(n){var i;return(i=t.call(this,Qc.Pa)||this).currentTime=n,i}return vt(n,t),n}(Pu),Fw=function(t){function n(n){var i;return(i=t.call(this,Qc.xa)||this).currentTime=n,i}return vt(n,t),n}(Pu);!function(t){t.cw="canplay",t.aw="canplaythrough",t.hw="loadeddata",t.fw="loadedmetadata",t.Wd="readystatechange",t.vw="waiting",t.dw="playing"}(Lw||(Lw={}));var Uw,Vw=[Lw.cw,Lw.aw,Lw.hw,Lw.fw,Lw.Wd,Lw.vw,Lw.dw],Hw=function(t){function n(n,i){var e;return void 0===i&&(i=pw.rw),(e=t.call(this,Lw.fw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Pu),qw=function(t){function n(n){var i;return(i=t.call(this,Qc.Ta)||this).duration=n,i}return vt(n,t),n}(Pu),Ww=function(t){function n(n,i){var e;return(e=t.call(this,Qc.Ba)||this).currentTime=n,e.playbackRate=i,e}return vt(n,t),n}(Pu),zw=function(t){function n(n,i){var e;return(e=t.call(this,Qc.Xa)||this).currentTime=n,e.currentProgramDateTime=i,e}return vt(n,t),n}(Pu),jw=function(t){function n(n){var i;return(i=t.call(this,Qc.Ea)||this).currentTime=n,i}return vt(n,t),n}(Pu),$w=function(t){function n(n,i){var e;return void 0===i&&(i=pw.uw),(e=t.call(this,Lw.hw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Pu),Xw=function(t){function n(n){var i;return(i=t.call(this,Qc.Va)||this).currentTime=n,i}return vt(n,t),n}(Pu),Gw=function(t){function n(n){var i;return(i=t.call(this,Qc.Ua)||this).currentTime=n,i}return vt(n,t),n}(Pu),Yw=function(t){function n(n,i){var e;return(e=t.call(this,Qc.Ga)||this).currentTime=n,e.volume=i,e}return vt(n,t),n}(Pu),Kw=function(t){function n(n,i){var e;return void 0===i&&(i=pw.sw),(e=t.call(this,Lw.cw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Pu),Jw=function(t){function n(n,i){var e;return void 0===i&&(i=pw.ow),(e=t.call(this,Lw.aw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Pu),Zw=function(t){function n(n,i){var e;return(e=t.call(this,Lw.Wd)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Pu),Qw=function(t){function n(n){var i;return(i=t.call(this,iw.Sl)||this).errorObject=n,i}return vt(n,t),n.prototype.Od=function(){return this},ht(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Tl);function tg(t){switch(t){case Uw.ALL:case Uw.CONTENT:return t;default:return Uw.NONE}}function ng(t){var n,i,e,r=Ul(t||{});return r.libraryLocation&&(r.libraryLocation=Fv(r.libraryLocation,!0)),r.isEmbeddable=Boolean(r.isEmbeddable),r.cast=kw(r.cast),r.ads=Aw(r.ads),r.analytics=Pw(r.analytics),r.mutedAutoplay=tg(r.mutedAutoplay),r.allowNativeFullscreen=Boolean(r.allowNativeFullscreen),r.allowMixedContent=Boolean(r.allowMixedContent),r.persistVolume=Boolean(r.persistVolume),r.liveOffset=(n=r.liveOffset,Number(n)||void 0),r.hlsDateRange=(i=r.hlsDateRange,Boolean(i)),r.retainPlaybackRateOnSourceChange=Boolean(r.retainPlaybackRateOnSourceChange),r.license=xt(e=r.license)?e:void 0,r.licenseUrl=function(t){if(!t)return;try{return Fv(t)}catch(t){return void st.Ce("Invalid 'licenseUrl', falling back to default URL")}}(r.licenseUrl),r}function ig(t){return{lw:t.lw,ww:t.ww,gw:t.gw,lu:t.lu,yw:t.yw,mw:t.mw,_w:t._w,pw:t.pw,Al:t.Al,bw:t.bw,kw:t.kw,Tw:t.Tw,Sw:t.Sw}}function eg(t,n,i){if(n!==i){var e=n.lw,r=n.ww,u=n.mw,s=n._w,o=n.pw,c=n.Al,a=n.bw;n.Tw,n.kw;var h=n.Sw,f=i.lw,v=i.ww,d=i.gw,l=i.yw,w=i.mw,y=i._w,m=i.pw,_=i.Al,p=i.bw;i.Tw,i.kw;var b=i.Sw;c!==pw.ew&&t.Qr(new Bw(f,_)),y&&!s?t.Qr(new Mw(f)):!y&&s&&t.Qr(new Fw(f)),_>=pw.rw&&t.Qr(new Hw(f,_)),v===r||g(v)&&g(r)||t.Qr(new qw(v)),m!==o&&t.Qr(new Ww(f,m)),f!==e&&t.Qr(new zw(f,void 0)),d&&t.Qr(new jw(f)),_>=pw.uw&&t.Qr(new $w(f,_)),p&&!a?t.Qr(new Xw(f)):!p&&a&&t.Qr(new Gw(f)),b===h&&w===u||t.Qr(new Yw(f,b)),_>=pw.sw&&t.Qr(new Kw(f,_)),_>=pw.ow&&t.Qr(new Jw(f,_)),_!==c&&t.Qr(new Zw(f,_)),l&&t.Qr(new Qw(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Uw||(Uw={}));var rg=.25,ug=400,sg={Ew:.2,Rw:.45,Iw:.7,Dw:3,Ow:dg,Nw:lg},og={Ew:.4,Rw:.65,Iw:1,Dw:3,Ow:dg,Nw:lg},cg={Ew:.4,Rw:.7,Iw:.9,Dw:3,Ow:dg,Nw:lg},ag={Ew:.4,Rw:.65,Iw:1,Dw:3,Ow:dg,Nw:lg},hg={Ew:.5,Rw:1.125,Iw:1.75,Dw:2.55,Ow:dg,Nw:lg};function fg(){var t;return t=st.Ye.de?ag:st.Ye.me?og:st.Ye.ye?"Android"===st.Ke.Je?cg:sg:hg,st.Ke.Ze?function(t){if(st.Ke.Ze){var n=(ug+250)/1e3,i=d.max(n,t.Ew),e=d.max(i+rg,t.Rw),r=d.max(e+rg,t.Iw);return{Ew:i,Rw:e,Iw:r,Dw:d.max(r+rg,t.Dw),Ow:dg,Nw:lg}}return t}(t):t}var vg,dg=.92,lg=1.08;function wg(t){return{goLive:function(){return t.Cw()},get isLive(){return t.Aw},get currentServerLiveTime(){return t.Pw},get currentLatency(){return t.xw},get latency(){return t.Lw},set latency(n){if(!function(t){if(!At(t))return!1;var n=t,i=Dt(n.target)&&"number"==typeof n.target&&Dt(n.windowEnd)&&"number"==typeof n.windowEnd&&Dt(n.windowStart)&&"number"==typeof n.windowStart&&Dt(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new h("Invalid latency configuration");t.Lw=n},get manifest(){return t.Bw},addEventListener:function(n,i){t.tu(yg(n),i)},removeEventListener:function(n,i){t.ru(yg(n),i)}}}!function(t){t[t.Ol=0]="Ol",t[t.Mw=1]="Mw",t[t.Fw=2]="Fw"}(vg||(vg={}));var gg=["golive"];function yg(t){var n=Gl(t,$l);return(xt(n)?[n]:n).filter(function(t){return fu(gg,t)})}var mg,_g=function(t){function n(){var n,i;return(n=t.call(this)||this).cl=void 0,n.Id=void 0,n.Uw={windowStart:(i=fg()).Ew,windowEnd:i.Iw,target:i.Rw,maxOffset:i.Dw},n.cl=void 0,n}vt(n,t);var i=n.prototype;return i.fl=function(t){t.tu(gg,this.Zr)},i.vl=function(t){t.ru(gg,this.Zr)},i.Cw=function(){var t;null==(t=this.cl)||t.Cw()},i.et=function(){this.eu(),this.cl&&this.vl(this.cl),this.cl=void 0},ht(n,[{key:"dl",get:function(){return this.cl},set:function(t){var n=this.cl;t!==n&&(n&&this.vl(n),t&&this.fl(t),this.cl=t,this.cl&&(this.cl.Lw=this.Uw))}},{key:"Dd",get:function(){return this.Id||(this.Id=wg(this)),this.Id}},{key:"Pw",get:function(){var t;return null==(t=this.cl)?void 0:t.Pw}},{key:"xw",get:function(){var t;return null==(t=this.cl)?void 0:t.xw}},{key:"Aw",get:function(){return!!this.cl&&this.cl.Aw}},{key:"Lw",get:function(){return this.cl?this.cl.Lw:this.Uw},set:function(t){this.cl&&(this.cl.Lw=t),this.Uw=t}},{key:"Bw",get:function(){var t;return null==(t=this.cl)?void 0:t.Bw}}]),n}(Cu),pg=function(t){function n(n){var i;return(i=t.call(this)||this).cl=void 0,i.Vw=[],i.Hw=!1,i.qw=new ew,i.Ww=new ew,i.zw=new aw,i.jw=new _g,i.$w=!1,i.Xw(n),n.iu(i.Zr),i.cl=n,i.qw.dl=n.Gw,i.Ww.dl=n.Yw,i.zw.dl=n.Kw,i.jw.dl=n.Jw,i}vt(n,t);var i=n.prototype;return i.Y=function(){this.cl.Y()},i.K=function(){this.cl.K()},i.Zw=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ru(this.Vw.map(function(t){return t.Zw()})).then(Ft));case 1:case"end":return t.stop()}},null,this,null,j)},i.Qw=function(){return this.cl.Qw()},i.tg=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return mu(n),i.next=3,wr.awrap(this.cl.tg(t,n));case 3:case"end":return i.stop()}},null,this,null,j)},i.ng=function(){return this.dl.ng()},i.ig=function(){this.dl.ig()},i.eg=function(){this.dl.eg()},i.st=function(){if(!this.Hw){for(var t=0,n=this.Vw;t<n.length;t++){n[t].st()}this.Hw=!0}},i.rg=function(t){this.cl.rg(t)},i.ug=function(){this.cl.ug()},i.sg=function(){this.cl.sg()},i.og=function(){this.cl.og()},i.cg=function(){return this.cl.cg()},i.ag=function(){return this.cl.ag()},i.hg=function(){for(var t=[],n=0,i=this.Vw;n<i.length;n++){var e=i[n];t.push.apply(t,e.hg())}return t},i.fg=function(t){for(var n=!1,i=0,e=this.Vw;i<e.length;i++){n=e[i].fg(t)||n}return n},i.Qr=function(n){this.fg(n)||t.prototype.Qr.call(this,n)},i.Xw=function(t){this.Vw.push(t)},i.vg=function(t){au(this.Vw,t)},i.dg=function(t){if(t!==this.cl){var n=this.cl;n.ug(),n.ou(this.Zr);var i=ig(this),e=this.lg,r=this.ag();this.cl=t,this.qw.dl=t.Gw,this.Ww.dl=t.Yw,this.zw.dl=t.Kw,this.jw.dl=t.Jw,eg(this,i,this);var u=this.lg;u!==e&&this.Qr(new dw(u)),this.ag()!==r&&this.Qr(new vw),t.iu(this.Zr),t.rg(n)}},i.wg=function(){},i.et=function(){var t,n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.eu(),this.cl.ug(),t=0,n=this.Vw;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,wr.awrap(i.et());case 7:t++,e.next=3;break;case 10:this.qw.et(),this.Ww.et(),this.zw.et(),this.jw.et();case 14:case"end":return e.stop()}},null,this,null,j)},i.ul=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ru(this.Vw.map(function(t){return t.ul()})).then(Ft));case 1:case"end":return t.stop()}},null,this,null,j)},ht(n,[{key:"Gw",get:function(){return this.qw}},{key:"Kw",get:function(){return this.zw}},{key:"Yw",get:function(){return this.Ww}},{key:"gg",get:function(){return this.cl.gg}},{key:"yg",get:function(){return this.cl.yg},set:function(t){this.cl.yg=t}},{key:"lg",get:function(){return this.cl.lg}},{key:"lw",get:function(){return this.cl.lw},set:function(t){this.cl.lw=t}},{key:"ww",get:function(){return this.cl.ww}},{key:"mg",get:function(){return this.cl.mg}},{key:"gw",get:function(){return this.cl.gw}},{key:"lu",get:function(){return this.cl.lu}},{key:"yw",get:function(){return this.cl.yw}},{key:"Jw",get:function(){return this.jw}},{key:"_g",get:function(){return this.cl._g}},{key:"pg",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var c=t[o];n+=c.bg,i+=c.kg,e+=c.Tg,r+=c.Sg,u+=c.Eg,s.amountOfBufferedAudioSegments+=c.Rg.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=c.Rg.amountOfBufferedVideoSegments}return{bg:n,kg:i,Tg:e,Sg:r,Eg:u,Rg:s}}(this.Vw.map(function(t){return t.pg}))}},{key:"mw",get:function(){return this.cl.mw},set:function(t){this.cl.mw=t}},{key:"Ig",get:function(){return this.cl.Ig}},{key:"_w",get:function(){return this.cl._w}},{key:"pw",get:function(){return this.cl.pw},set:function(t){this.cl.pw=t}},{key:"Dg",get:function(){return this.cl.Dg}},{key:"Og",get:function(){return this.cl.Og},set:function(t){this.cl.Og=t}},{key:"Al",get:function(){return this.cl.Al}},{key:"Ng",get:function(){return this.cl.Ng}},{key:"bw",get:function(){return this.cl.bw}},{key:"kw",get:function(){return this.cl.kw}},{key:"Tw",get:function(){return this.cl.Tw}},{key:"Sw",get:function(){return this.cl.Sw},set:function(t){this.cl.Sw=t}},{key:"Cg",get:function(){return this.cl.Cg}},{key:"Ag",get:function(){return!1},set:function(t){}},{key:"dl",get:function(){return this.cl},set:function(t){this.dg(t)}}]),n}(fw),bg=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this,n,i,e)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=r,a.status=u,a.statusText=s,a.response=o,a.systemCode=c,a}return vt(n,t),ht(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Pc);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(mg||(mg={}));var kg=function(t){function n(n,i,e,r){var u;return(u=t.call(this,i)||this).code=void 0,u.message=void 0,u.cause=void 0,u.systemCode=void 0,u.code=n,u.message=null!=i?i:"Unknown error",u.cause=e,u.systemCode=r,h.captureStackTrace&&h.captureStackTrace(Nn(u),u.constructor),u}return vt(n,t),ht(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Cn);function Tg(t){Ml(t,"MEDIA_ERR_ABORTED",mg.ABORTED),Ml(t,"MEDIA_ERR_NETWORK",mg.NETWORK),Ml(t,"MEDIA_ERR_DECODE",mg.DECODE),Ml(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",mg.SRC_NOT_SUPPORTED),Ml(t,"MEDIA_ERR_ENCRYPTED",mg.ENCRYPTED)}function Sg(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new kg(mg.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new kg(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return mg.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return mg.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return mg.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return mg.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return mg.NETWORK;if(i===n.ErrorCategory.SOURCE)return mg.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return mg.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return mg.ENCRYPTED;if(i===n.ErrorCategory.AD)return mg.ADVERTISEMENT_ERROR;return mg.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}Tg(kg),Tg(kg.prototype);var Eg,Rg=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.tl=function(n){return t.prototype.tl.call(this,n)},i.Od=function(){return tw(this)},n}(Al);!function(t){t.Qf="audio",t.tv="video",t.si="text",t.nv="image",t.Hf="unknown"}(Eg||(Eg={}));var Ig=function(){function t(){this.Pg=[],this.Id=void 0}var n=t.prototype;return n.xg=function(t){this.Pg.push(t),this.Id&&this.Id.push(t.Dd)},n.ac=function(t){au(this.Pg,t),this.Id&&au(this.Id,t.Dd)},n.Qd=function(t){return this.Pg[t]},n.Lg=function(t){return Nt(t)?vu(this.Pg,t):fu(this.Pg,t)},n.ul=function(){du(this.Pg),this.Id&&du(this.Id)},ht(t,[{key:"sl",get:function(){return this.Pg}},{key:"ol",get:function(){return this.Pg.length}},{key:"Dd",get:function(){var t,n;return this.Id||(this.Id=((n=(t=this).sl.map(function(t){return t.Dd})).item=function(n){var i=0|n,e=t.Qd(i);return e&&e.Dd||void 0},n)),this.Id}}]),t}(),Dg=function(t){function n(n){var i;return(i=t.call(this,El.Xd)||this).Nd=n,i}return vt(n,t),n.prototype.Od=function(){return new Og(this.Nd.Dd)},n}(Rl),Og=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return vt(n,t),n}(Il),Ng=0;function Cg(){return Ng++}var Ag=0;var Pg=0;var xg=0;var Lg=function(t){function n(n){var i;return(i=t.call(this)||this).pr=Eg.Qf,i.Bg=void 0,i.Yo=void 0,i.Mg=void 0,i.Fg=void 0,i.Ug=!1,i.Pg=void 0,i.Id=void 0,i.Bg=n,i.Fg=Cg(),i.Yo=xg+++"",i.Mg=n.label,i.Pg=new Ig,i.Vg(),i}vt(n,t);var i=n.prototype;return i.Hg=function(t){this.gl=t},i.Vg=function(){this.gl=this.qg},ht(n,[{key:"wl",get:function(){}},{key:"gl",get:function(){return this.Ug},set:function(t){this.Ug!==t&&(this.Ug=t,this.qg=t,this.Qr(new Pl(this)))}},{key:"qg",get:function(){return this.Bg.enabled},set:function(t){this.Bg.enabled=t}},{key:"Dd",get:function(){return this.Id||(this.Id=Zl(this)),this.Id}},{key:"yl",get:function(){return this.Yo}},{key:"ml",get:function(){return this.Fg}},{key:"_l",get:function(){return this.Bg.kind}},{key:"pl",get:function(){return this.Mg},set:function(t){t!==this.Mg&&(this.Mg=t,this.Qr(new Dg(this)))}},{key:"bl",get:function(){return this.Bg.language}},{key:"Rl",get:function(){return this.gl?"enabled":"disabled"}},{key:"Wg",get:function(){return this.Bg}},{key:"kl",get:function(){return this.Pg}},{key:"Tl",get:function(){},set:function(t){}}]),n}(Cu),Bg=0;var Mg,Fg,Ug,Vg,Hg=function(t){function n(n){var i;return(i=t.call(this)||this).pr=Eg.tv,i.Bg=void 0,i.Yo=void 0,i.Fg=void 0,i.Ug=!1,i.Pg=void 0,i.Mg=void 0,i.Id=void 0,i.Bg=n,i.Fg=Cg(),i.Yo=Bg+++"",i.Pg=new Ig,i.Mg=n.label,i.Vg(),i}vt(n,t);var i=n.prototype;return i.Vg=function(){this.gl=this.qg},i.Hg=function(t){this.gl=t},ht(n,[{key:"wl",get:function(){}},{key:"gl",get:function(){return this.Ug},set:function(t){this.Ug!==t&&(this.Ug=t,this.qg=t,this.Qr(new Pl(this)))}},{key:"qg",get:function(){return!!this.Bg.selected},set:function(t){this.Bg.selected=t}},{key:"Dd",get:function(){return this.Id||(this.Id=Zl(this)),this.Id}},{key:"yl",get:function(){return this.Yo}},{key:"ml",get:function(){return this.Fg}},{key:"_l",get:function(){return"main"}},{key:"pl",get:function(){return this.Mg},set:function(t){t!==this.Mg&&(this.Mg=t,this.Qr(new Dg(this)))}},{key:"bl",get:function(){return this.Bg.language}},{key:"Rl",get:function(){return this.gl?"enabled":"disabled"}},{key:"Wg",get:function(){return this.Bg}},{key:"kl",get:function(){return this.Pg}},{key:"Tl",get:function(){},set:function(t){}}]),n}(Cu),qg=function(t){function n(n){var i;return(i=t.call(this,Qc.wa)||this)._g=n,i}return vt(n,t),n}(Pu);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Mg||(Mg={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Fg||(Fg={})),function(t){t.zg="cue",t.jg="region",t.$g="stylesheet"}(Ug||(Ug={})),function(t){t.Xg="Gg",t.Yg="Kg",t.Xd="hc"}(Vg||(Vg={}));var Wg=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Jg=i,e}return vt(n,t),n}(Rl),zg=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return vt(n,t),n}(Il);function jg(t){var n,i=[Vg.Xg,Vg.Yg,Vg.Xd],e={get track(){return t.Nd.Dd},get id(){return t.yl},get uid(){return t.ml},get startTime(){return t.Zg},get endTime(){return t.Qg},get content(){return t.ty},addEventListener:function(t,i){var e=Gl(t,$l);n.tu(e,i)},removeEventListener:function(t,i){var e=Gl(t,$l);n.ru(e,i)}};return n=new Au(e),t.tu(i,function(t){return n.Qr(t.Dd)}),e}function $g(){}var Xg=function(t){function n(n){return t.call(this,Vg.Xd,n)||this}return vt(n,t),n.prototype.Od=function(){return new Gg(this.Jg.Dd)},n}(Wg),Gg=function(t){function n(n){return t.call(this,"update",n)||this}return vt(n,t),n}(zg),Yg=.02;var Kg=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).Fg=void 0,s.Yo=void 0,s.ny=void 0,s.iy=void 0,s.Id=void 0,s.ey=void 0,s.uy=!1,s.sy=void 0,s.oy=void 0,s.ay=-1,s.Fg=Pg++,s.ny=n,s.iy=i,s.sy=e,s.oy=Boolean(r),s.Yo=null!=u?u:"",s}vt(n,t);var i=n.prototype;return i.Od=function(){return jg(this)},i.hy=function(t){return this===t||Hl(this,t)&&(i=t,Sn((n=this).Zg,i.Zg,Yg)&&Sn(n.Qg,i.Qg,Yg)&&n.yl===i.yl);var n,i},i.et=function(){this.eu()},ht(n,[{key:"Zg",get:function(){return this.ny},set:function(t){this.ny!==t&&(this.ny=t,this.Qr(new Xg(this)))}},{key:"Qg",get:function(){return this.iy},set:function(t){this.iy!==t&&(this.iy=t,this.Qr(new Xg(this)))}},{key:"yl",get:function(){return this.Yo}},{key:"ml",get:function(){return this.Fg}},{key:"Dd",get:function(){return this.Id||(this.Id=this.Od()),this.Id}},{key:"vy",get:function(){return this.uy},set:function(t){this.uy=t}},{key:"Nd",get:function(){return this.ey},set:function(t){this.ey=t}},{key:"ty",get:function(){return this.sy},set:function(t){this.sy!==t&&(this.sy=t,this.Qr(new Xg(this)))}},{key:"ly",get:function(){return this.oy},set:function(t){this.oy=t}}]),n}(Cu);var Jg=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,u)||this).wy="auto",s.gy="start",s.yy="auto",s.my="auto",s._y=void 0,s.py=!0,s.Ru=100,s.by="center",s.ky="",s}return vt(n,t),n.prototype.hy=function(n){return this===n||Hl(this,n)&&t.prototype.hy.call(this,n)&&(e=n,(i=this).ty===e.ty&&i.wy===e.wy&&i.gy===e.gy&&i.yy===e.yy&&i.my===e.my&&i._y===e._y&&i.py===e.py&&i.Ru===e.Ru&&i.by===e.by&&i.ky===e.ky);var i,e},ht(n,[{key:"Dd",get:function(){var t;return this.Id||(this.Id=Fl(jg(t=this),{get align(){return t.by},get line(){return t.wy},get lineAlign(){return t.gy},get position(){return t.yy},get positionAlign(){return t.my},get region(){return t._y?t._y.Dd:null},get size(){return t.Ru},get snapToLines(){return t.py},get text(){return t.ty},get vertical(){return t.ky}})),this.Id}},{key:"pr",get:function(){return Ug.zg}}]),n}(Kg);var Zg=function(){function t(t,n,i,e,r,u,s,o){this.Id=void 0,this.yl=t,this.Ty=n,this.Sy=i,this.Ey=e,this.Ry=r,this.Iy=u,this.Dy=s,this.Oy=o}return ht(t,[{key:"Dd",get:function(){var t;return this.Id||(this.Id=(t=this,{get id(){return t.yl},get identifier(){return t.yl},get lines(){return t.Sy},get regionAnchorX(){return t.Ey},get regionAnchorY(){return t.Ry},get scrollValue(){return t.Oy},get viewportAnchorX(){return t.Iy},get viewportAnchorY(){return t.Dy},get width(){return t.Ty}})),this.Id}},{key:"pr",get:function(){return Ug.jg}}]),t}(),Qg=function(){function t(){}var n=t.prototype;return n.Ny=function(t){return this.Cy()*t},n.Ay=function(t){return this.Py(t)>0},n.xy=function(t){return this.Py(t)>=0},n.Ly=function(t,n){return this.My(t).By(n)},n.hy=function(t){return 0===this.Py(t)},n.Fy=function(t){return this.Py(t)<0},n.By=function(t){return this.Py(t)<=0},n.Uy=function(){return this.Vy()?this.Hy():this},n.qy=function(t){return this.xg(t.Hy())},n.My=function(t){return this.qy(t).Uy()},t}();function ty(t,n){return t.Wy()?n.Wy()?Qr.Cr:Qr.Ar:n.Wy()?Qr.Pr:t.zy()?n.zy()&&t.Vy()===n.Vy()?Qr.Cr:t.Vy()?Qr.Pr:Qr.Ar:n.Vy()?Qr.Ar:Qr.Pr}var ny=function(){function t(t,n){this.jy=void 0,this.$y=void 0,this.jy=t,this.$y=n}t.Xy=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Gy=function(n){return n.unsigned?new t(n,Jt.UZERO):new t(n,n.isNegative()?Jt.NEG_ONE:Jt.ZERO)},t.Yy=function(n,i){if(g(n))return i?t.Ky:t.Jy;if(i){if(n<0)return t.Ky;if(n>=3.402823669209385e38)return t.Zy}else{if(n<=-1.7014118346046923e38)return t.Qy;if(n+1>=1.7014118346046923e38)return t.tm}return n<0?t.Yy(-n,i).Hy():t.Xy(Jt.fromNumber(n%0x10000000000000000),Jt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.nm=function(){return this.$y.unsigned},n.im=function(){return this.jy.isZero()&&this.$y.isZero()},n.Vy=function(){return this.$y.isNegative()},n.rm=function(){return this.nm()?t.Xy(this.jy,this.$y,!1):this},n.um=function(){return this.nm()?this:t.Xy(this.jy,this.$y,!0)},n.sm=function(){return this.jy},n.Cy=function(){return this.Vy()?-this.Hy().Cy():0x10000000000000000*this.$y.toNumber()+this.jy.toUnsigned().toNumber()},n.om=function(){return this.jy.toInt()},n.hy=function(t){return(this.nm()===t.nm()||this.$y.getHighBits()>>>31!=1||t.$y.getHighBits()>>>31!=1)&&(this.$y.toUnsigned().eq(t.$y.toUnsigned())&&this.jy.toUnsigned().eq(t.jy.toUnsigned()))},n.Py=function(t){if(this.hy(t))return Qr.Cr;var n=this.Vy(),i=t.Vy();if(n&&!i)return Qr.Pr;if(!n&&i)return Qr.Ar;if(!this.nm())return this.qy(t).Vy()?Qr.Pr:Qr.Ar;var e=this.um(),r=t.um(),u=r.$y.comp(e.$y);return u>0||0===u&&r.jy.gt(e.jy)?Qr.Pr:Qr.Ar},n.Fy=function(t){return this.Py(t)<0},n.By=function(t){return this.Py(t)<=0},n.cm=function(t){return this.Py(t)>0},n.am=function(t){return this.Py(t)>=0},n.hm=function(){return new t(this.jy.not(),this.$y.not())},n.fm=function(n){return new t(this.jy.and(n.jy),this.$y.and(n.$y))},n.vm=function(n){return new t(this.jy.or(n.jy),this.$y.or(n.$y))},n.dm=function(n){var i=127&n;return 0===i?this:i<64?t.Xy(this.jy.shl(i),this.$y.shl(i).or(this.jy.shru(64-i)),this.nm()):t.Xy(Jt.ZERO,this.jy.shl(i-64),this.nm())},n.lm=function(n){var i=127&n;return 0===i?this:i<64?t.Xy(this.jy.shru(i).or(this.$y.shl(64-i)),this.$y.shr(i),this.nm()):t.Xy(this.$y.shr(i-64),this.$y.isNegative()?Jt.NEG_ONE:Jt.ZERO,this.nm())},n.wm=function(n){var i=127&n;return 0===i?this:i<64?t.Xy(this.jy.shru(i).or(this.$y.shl(64-i)),this.$y.shru(i),this.nm()):64===i?t.Xy(this.$y,Jt.ZERO,this.nm()):t.Xy(this.$y.shru(i-64),Jt.ZERO,this.nm())},n.xg=function(n){var i=this.$y.high>>>16,e=65535&this.$y.high,r=this.$y.low>>>16,u=65535&this.$y.low,s=this.jy.high>>>16,o=65535&this.jy.high,c=this.jy.low>>>16,a=65535&this.jy.low,h=n.$y.high>>>16,f=65535&n.$y.high,v=n.$y.low>>>16,d=65535&n.$y.low,l=n.jy.high>>>16,w=65535&n.jy.high,g=n.jy.low>>>16,y=0,m=0,_=0,p=0,b=0,k=0,T=0,S=0;T+=(S+=a+(65535&n.jy.low))>>>16,S&=65535,k+=(T+=c+g)>>>16,T&=65535,b+=(k+=o+w)>>>16,k&=65535,p+=(b+=s+l)>>>16,b&=65535,_+=(p+=u+d)>>>16,p&=65535,m+=(_+=r+v)>>>16,_&=65535,y+=(m+=e+f)>>>16,m&=65535,y+=i+h,y&=65535;var E=this.nm(),R=Jt.fromBits(_<<16|p,y<<16|m,E),I=Jt.fromBits(T<<16|S,b<<16|k,E);return t.Xy(I,R,E)},n.qy=function(t){return this.xg(t.Hy())},n.Hy=function(){return this.hm().xg(t.gm)},n.ym=function(n){if(this.im()||n.im())return this.nm()?t.Ky:t.Jy;if(this.Vy())return n.Vy()?this.Hy().ym(n.Hy()):this.Hy().ym(n).Hy();if(n.Vy())return this.ym(n.Hy()).Hy();if(this.$y.isZero()&&0===this.jy.high&&n.$y.isZero()&&0===n.jy.high)return t.Gy(this.jy.multiply(n.jy));var i=Jt.fromBits(4294967295,0,!0),e=this.jy.and(i),r=this.jy.shru(32),u=this.$y.and(i),s=this.$y.shru(32),o=n.jy.and(i),c=n.jy.shru(32),a=n.$y.and(i),h=n.$y.shru(32),f=Jt.UZERO,v=Jt.UZERO,d=Jt.UZERO,l=Jt.UZERO;f=f.add(e.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(r.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(c)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(c)).add(r.mul(a)).add(e.mul(h)).and(i);var w=Jt.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Jt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Xy(w,g,this.nm())},n.mm=function(n){var i,e,r=n;if(r.im())throw new RangeError("division by zero");if(this.im())return this.nm()?[t.Ky,t.Ky]:[t.Jy,t.Jy];if(this.nm()){if(r.nm()||(r=r.um()),r.cm(this))return[t.Ky,this];if(r.cm(this.wm(1)))return[e=t._m,i=this.qy(r)];e=t.Ky}else{if(this.hy(t.Qy)){if(r.hy(t.gm)||r.hy(t.pm))return[t.Qy,t.Jy];if(r.hy(t.Qy))return[t.gm,t.Jy];var u=this.lm(1).bm(r).dm(1);return u.hy(t.Jy)?e=r.Vy()?t.gm:t.pm:(i=this.qy(r.ym(u)),e=u.xg(i.bm(r))),[e,i=this.qy(r.ym(e))]}if(r.hy(t.Qy))return this.nm()?[t.Ky,this]:[t.Jy,this];if(this.Vy()){if(r.Vy())return this.Hy().mm(r.Hy());var s=this.Hy().mm(r);return e=s[0],i=s[1],[e.Hy(),i.Hy()]}if(r.Vy()){var o=this.mm(r.Hy());return e=o[0],i=o[1],[e.Hy(),i.Hy()]}e=t.Jy}for(i=this;i.am(r);){for(var c=d.max(1,d.floor(i.Cy()/r.Cy())),a=d.ceil(d.log(c)/d.LN2),h=a<=48?1:d.pow(2,a-48),f=t.Yy(c),v=f.ym(r);v.Vy()||v.cm(i);)c-=h,v=(f=t.Yy(c,this.nm())).ym(r);f.im()&&(f=t.gm),e=e.xg(f),i=i.qy(v)}return[e,i]},n.bm=function(t){return this.mm(t)[0]},n.km=function(t){return this.mm(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.im())return"0";if(this.Vy()){if(this.hy(t.Qy)){var e=t.Yy(i),r=this.bm(e),u=r.ym(e).qy(this);return r.toString(i)+u.om().toString(i)}return"-"+this.Hy().toString(i)}for(var s=t.Yy(d.pow(i,6),this.nm()),o=this,c="";;){var a=o.bm(s),h=(o.qy(a.ym(s)).om()>>>0).toString(i);if((o=a).im())return h+c;for(;h.length<6;)h="0"+h;c=String(h)+c}},t}();ny.Jy=ny.Gy(Jt.ZERO),ny.Ky=ny.Gy(Jt.UZERO),ny.gm=ny.Gy(Jt.ONE),ny._m=ny.Gy(Jt.UONE),ny.pm=ny.Gy(Jt.NEG_ONE),ny.tm=ny.Xy(Jt.NEG_ONE,Jt.MAX_VALUE,!1),ny.Zy=ny.Xy(Jt.MAX_UNSIGNED_VALUE,Jt.MAX_UNSIGNED_VALUE,!0),ny.Qy=ny.Xy(Jt.ZERO,Jt.MIN_VALUE,!1);var iy=function(){function t(t,n){void 0===n&&(n=1),this.Tm=void 0,this.Sm=void 0,this.Tm=t,this.Sm=n}t.Em=function(n){return new t(d.ceil(n.Tm),n.Sm)},t.Rm=function(n){return new t(d.floor(n.Tm),n.Sm)},t.Im=function(t,n){return t.xy(n)?t:n},t.Dm=function(t,n){return t.By(n)?t:n};var n=t.prototype;return n.xg=function(n){return this.Sm>=n.Sm?new t(this.Tm+n.Om(this.Sm).Tm,this.Sm):new t(this.Om(n.Sm).Tm+n.Tm,n.Sm)},n.Ay=function(t){return t.Fy(this)},n.xy=function(t){return t.By(this)},n.My=function(n){return this.Sm>=n.Sm?new t(d.abs(this.Tm-n.Om(this.Sm).Tm),this.Sm):n.My(this)},n.Ly=function(t,n){return this.My(t).By(n)},n.Py=function(t){return i=t,(n=this).Sm>=i.Sm?su(n.Tm,i.Om(n.Sm).Tm):su(n.Om(i.Sm).Tm,i.Tm);var n,i},n.hy=function(t){return 0===this.Py(t)},n.Fy=function(t){return this.Py(t)<0},n.By=function(t){return this.Py(t)<=0},n.Om=function(n){return new t(this.Tm*(n/this.Sm),n)},n.qy=function(n){return this.Sm>=n.Sm?new t(this.Tm-n.Om(this.Sm).Tm,this.Sm):new t(this.Om(n.Sm).Tm-n.Tm,n.Sm)},n.Nm=function(n){return new t(this.Tm*n,this.Sm)},ht(t,[{key:"zy",get:function(){return!isFinite(this.Tm)}},{key:"Cm",get:function(){return this.Tm/this.Sm}}]),t}();iy.Am=new iy(1/6,1),iy.Jy=new iy(0),iy.Pm=new iy(1/0),iy.xm=1e6;var ey=function(t){function n(n,i){var e;return(e=t.call(this)||this).yi=void 0,e.Sm=void 0,e.yi=n.toSigned(),e.Sm=i>>>0,e}vt(n,t),n.Lm=function(t,i){return void 0===i&&(i=1e6),n.Yy(t*i,i)},n.Yy=function(t,i){return g(t)?n.Bm:t===1/0?n.Mm:t===-1/0?n.Fm:new n(Jt.fromNumber(t),i)},n.Gy=function(t,i){return new n(t,i)},n.Um=function(t){return n.Lm(t.Cm,1e6)},n.Vm=function(t){return new n(Jt.fromNumber(t.getTime()),1e3)},n.Im=function(t,n){return t.xy(n)?t:n},n.Dm=function(t,n){return t.By(n)?t:n},n.Hm=function(t,i,e){return n.Im(i,n.Dm(e,t))};var i=n.prototype;return i.Vy=function(){return this.yi.isNegative()},i.im=function(){return 0!==this.Sm&&this.yi.isZero()},i.zy=function(){return 0===this.Sm&&!this.yi.isZero()},i.Wy=function(){return 0===this.Sm&&this.yi.isZero()},i.Cy=function(){if(0===this.Sm)return this.yi.isZero()?NaN:this.yi.isNegative()?-1/0:1/0;var t=this.yi.divide(this.Sm),n=this.yi.subtract(t.multiply(this.Sm));return t.toNumber()+n.toNumber()/this.Sm},i.sm=function(){if(0===this.Sm)throw new h("Failed to convert timestamp");return this.yi},i.qm=function(){return new Date(0===this.Sm?NaN:this.Om(1e3).yi.toNumber())},i.Wm=function(){return new iy(0===this.Sm?this.Cy():this.yi.toNumber(),this.Sm)},i.Om=function(t,i){void 0===i&&(i=sy.zm);var e=this.Sm;if(e===t)return this;if(0===e)return this;var r=En(e,t);return new n(function(t,n,i){var e=t.mm(n),r=e[0],u=e[1];if(u.im())return r;if(i===sy.zm)return u.Vy()?r.qy(ny.gm):r;if(i===sy.jm)return u.Vy()?r:r.xg(ny.gm);var s=u.ym(ny.Yy(2));return s.Vy()?s.Hy().Fy(n)?r:r.qy(ny.gm):s.Fy(n)?r:r.xg(ny.gm)}(ny.Gy(this.yi).ym(ny.Yy(t/r)),ny.Yy(e/r),i).sm(),t)},i.Py=function(t){if(this===t)return Qr.Cr;if(0===this.Sm||0===t.Sm)return ty(this,t);if(this.im())return t.im()?Qr.Cr:t.Vy()?Qr.Ar:Qr.Pr;if(t.im())return this.Vy()?Qr.Pr:Qr.Ar;var n=d.min(this.Sm,t.Sm),i=this.Om(n,sy.$m).yi,e=t.Om(n,sy.$m).yi;return i.compare(e)},i.Hy=function(){return 0===this.Sm?ry(this):new n(this.yi.negate(),this.Sm)},i.xg=function(t){if(0===this.Sm||0===t.Sm)return uy(this,t);if(this.im())return t;if(t.im())return this;var i=d.max(this.Sm,t.Sm),e=this.Om(i,sy.$m),r=t.Om(i,sy.$m);return new n(e.yi.add(r.yi),i)},i.ym=function(t){if(this.Wy()||g(t))return n.Bm;if(this.zy()||!isFinite(t)){if(this.im()||0===t)return n.Bm;var i=this.Vy()?n.Fm:n.Mm;return t<0?i.Hy():i}return this.im()?this:new n(0===t?Jt.ZERO:this.yi.multiply(t),this.Sm)},i.bm=function(t){if(this.Wy()||g(t))return n.Bm;if(this.zy())return isFinite(t)?0===t?1/t<0?this.Hy():this:t<0?this.Hy():this:n.Bm;if(!isFinite(t))return new n(Jt.ZERO,this.Sm);if(this.im())return 0===t?n.Bm:new n(Jt.ZERO,this.Sm);if(0===t){var i=this.Vy()?n.Fm:n.Mm;return 1/t<0?i.Hy():i}return new n(this.yi.divide(t),this.Sm)},i.Xm=function(){return[this.yi.low,this.yi.high,this.Sm]},n}(Qg);function ry(t){return t.Wy()?t:t.Vy()?ey.Mm:ey.Fm}function uy(t,n){return t.Wy()||n.Wy()?ey.Bm:t.zy()&&n.zy()?t.Vy()===n.Vy()?t:ey.Bm:t.zy()?t:n}ey.Jy=new ey(Jt.ZERO,1e6),ey.Bm=new ey(Jt.ZERO,0),ey.Mm=new ey(Jt.ONE,0),ey.Fm=new ey(Jt.NEG_ONE,0);var sy,oy=function(t){function n(n,i){var e;return(e=t.call(this)||this).yi=void 0,e.Sm=void 0,e.yi=BigInt.asIntN(64,n),e.Sm=i>>>0,e}vt(n,t),n.Lm=function(t,i){return void 0===i&&(i=1e6),n.Yy(t*i,i)},n.Yy=function(t,i){return g(t)?n.Bm:t===1/0?n.Mm:t===-1/0?n.Fm:new n(BigInt(d.floor(t)),i)},n.Gy=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Um=function(t){return n.Lm(t.Cm,1e6)},n.Vm=function(t){return n.Yy(t.getTime(),1e3)},n.Im=function(t,n){return t.xy(n)?t:n},n.Dm=function(t,n){return t.By(n)?t:n},n.Hm=function(t,i,e){return n.Im(i,n.Dm(e,t))};var i=n.prototype;return i.Vy=function(){return this.yi<BigInt(0)},i.im=function(){return 0!==this.Sm&&this.yi===BigInt(0)},i.zy=function(){return 0===this.Sm&&this.yi!==BigInt(0)},i.Wy=function(){return 0===this.Sm&&this.yi===BigInt(0)},i.Cy=function(){if(0===this.Sm)return this.yi===BigInt(0)?NaN:this.yi<BigInt(0)?-1/0:1/0;var t=this.yi/BigInt(this.Sm),n=this.yi-t*BigInt(this.Sm);return Number(t)+Number(n)/this.Sm},i.sm=function(){if(0===this.Sm)throw new h("Failed to convert timestamp");return this.Gm()},i.Gm=function(){var t=this.yi&BigInt(4294967295),n=this.yi>>BigInt(32)&BigInt(4294967295);return Jt.fromBits(Number(t),Number(n))},i.qm=function(){return new Date(0===this.Sm?NaN:Number(this.Om(1e3).yi))},i.Wm=function(){return new iy(0===this.Sm?this.Cy():Number(this.yi),this.Sm)},i.Om=function(t,i){void 0===i&&(i=sy.zm);var e=this.Sm;if(e===t)return this;if(0===e)return this;var r=En(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===sy.zm)return r<BigInt(0)?e-BigInt(1):e;if(i===sy.jm)return r<BigInt(0)?e:e+BigInt(1);var u=r*BigInt(2);return u<BigInt(0)?-u<n?e:e-BigInt(1):u<n?e:e+BigInt(1)}(this.yi*BigInt(t/r),BigInt(e/r),i),t)},i.Py=function(t){if(this===t)return Qr.Cr;if(0===this.Sm||0===t.Sm)return ty(this,t);if(this.im())return t.im()?Qr.Cr:t.Vy()?Qr.Ar:Qr.Pr;if(t.im())return this.Vy()?Qr.Pr:Qr.Ar;var n=d.min(this.Sm,t.Sm),i=this.Om(n,sy.$m).yi,e=t.Om(n,sy.$m).yi;return i>e?Qr.Ar:i<e?Qr.Pr:Qr.Cr},i.Hy=function(){return 0===this.Sm?cy(this):new n(-this.yi,this.Sm)},i.xg=function(t){if(0===this.Sm||0===t.Sm)return ay(this,t);if(this.im())return t;if(t.im())return this;var i=d.max(this.Sm,t.Sm),e=this.Om(i,sy.$m),r=t.Om(i,sy.$m);return new n(e.yi+r.yi,i)},i.ym=function(t){if(this.Wy()||g(t))return n.Bm;if(this.zy()||!isFinite(t)){if(this.im()||0===t)return n.Bm;var i=this.Vy()?n.Fm:n.Mm;return t<0?i.Hy():i}return this.im()?this:new n(0===t?BigInt(0):this.yi*BigInt(t),this.Sm)},i.bm=function(t){if(this.Wy()||g(t))return n.Bm;if(this.zy())return isFinite(t)?0===t?1/t<0?this.Hy():this:t<0?this.Hy():this:n.Bm;if(!isFinite(t))return new n(BigInt(0),this.Sm);if(this.im())return 0===t?n.Bm:new n(BigInt(0),this.Sm);if(0===t){var i=this.Vy()?n.Fm:n.Mm;return 1/t<0?i.Hy():i}return new n(this.yi/BigInt(t),this.Sm)},i.Xm=function(){var t=this.Gm();return[t.low,t.high,this.Sm]},ht(n,null,[{key:"Jy",get:function(){return n.Ym||(n.Ym=new n(BigInt(0),1e6)),n.Ym}},{key:"Bm",get:function(){return n.Km||(n.Km=new n(BigInt(0),0)),n.Km}},{key:"Mm",get:function(){return n.Jm||(n.Jm=new n(BigInt(1),0)),n.Jm}},{key:"Fm",get:function(){return n.Zm||(n.Zm=new n(BigInt(-1),0)),n.Zm}}]),n}(Qg);function cy(t){return t.Wy()?t:t.Vy()?oy.Mm:oy.Fm}function ay(t,n){return t.Wy()||n.Wy()?oy.Bm:t.zy()&&n.zy()?t.Vy()===n.Vy()?t:oy.Bm:t.zy()?t:n}oy.Ym=void 0,oy.Km=void 0,oy.Jm=void 0,oy.Zm=void 0,function(t){t[t.zm=0]="zm",t[t.jm=1]="jm",t[t.$m=2]="$m"}(sy||(sy={}));var hy=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?oy:ey,fy=9e4,vy=d.pow(2,33);hy.Yy(vy,fy).bm(2);var dy,ly,wy,gy,yy={Qm:0,t_:1/0,n_:0},my=6,_y=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],py=[" ","\t","\n","\f","\r"],by=/^\d*$/,ky=/.*[0-9]+.*/,Ty=/^[\d.-]+$/,Sy=/(^\.|\.$)/,Ey=/(\D\.|\.\D)/;function Ry(t,n){void 0===n&&(n=yy);var i={Pl:[],i_:[],e_:[]},e=Iy(t),r=new Hs;if(My(e),Dy(e,function(t){return"\n"!==t},r),r.Cu>=e.length)return i;(r.Du(1),"\n"!==e.charAt(r.Cu))?Ay(Oy(e,r,!1,!0,i,n),i):r.Du(1);for(Dy(e,function(t){return"\n"===t},r);r.Cu<e.length;){Ay(Oy(e,r,!1,!1,i,n),i),Dy(e,function(t){return"\n"===t},r)}return i}function Iy(t){var n=Wr(t,"\0"," "),i=Wr(n,"\r\n","\n");return Wr(i,"\r","\n")}function Dy(t,n,i){for(var e=i.Cu;i.Cu<t.length&&n(t.charAt(i.Cu));)i.Du(1);return t.substring(e,i.Cu)}function Oy(t,n,i,e,r,u){for(var s,o=0,c=n.Cu,a="",h=!1,f=!1,v=null,d=null,l=null;!h;)if(s=Dy(t,function(t){return"\n"!==t},n),o++,n.Cu>=t.length?h=!0:n.Du(1),zr(s,"--\x3e")){if(e||1!==o&&(2!==o||f)){n.Ou(c);break}f=!0,c=n.Cu,v=new Jg(0,0,"",!1,a);try{Py(s,r.i_,v,u),a=""}catch(t){st.Ce(t),v=null}}else{if(""===s)break;e&&jr(s,"X-TIMESTAMP-MAP")&&(r.r_=Ny(s)),e||2!==o||i||(Xr("STYLE",a.replace(/ /g,""))?(d={pr:Ug.$g},a=""):Xr("REGION",a.replace(/ /g,""))&&(l=new Zg("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=s,c=n.Cu}if(v)return v.ty=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&zr(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var u=r.indexOf(":"),s=r.substring(0,u),o=r.substring(u+1,r.length);switch(s.toUpperCase()){case"ID":Gy(o,n);break;case"WIDTH":Jy(o,n);break;case"LINES":Ky(o,n);break;case"REGIONANCHOR":var c=Xy(o);c&&(n.Ey=c[0],n.Ry=c[1]);break;case"VIEWPORTANCHOR":var a=Xy(o);a&&(n.Iy=a[0],n.Dy=a[1]);break;case"SCROLL":Yy(o,n)}}}}(a,l),l;return null}function Ny(t){var n,i,e=t.split("=")[1].trim().split(","),r=Cy(e[0].trim(),"MPEGTS")?e[0]:e[1],u=Cy(e[0].trim(),"LOCAL")?e[0]:e[1];return{u_:(i=Number(r.split(/:(.*)/)[1].trim())||0,hy.Yy(i,fy)),s_:hy.Lm(null!=(n=By(u.split(/:(.*)/)[1].trim(),new Hs))?n:0)}}function Cy(t,n){return jr(t,n)}function Ay(t,n){t&&function(t){return t.pr===Ug.zg}(t)?n.Pl.push(t):t&&function(t){return t.pr===Ug.jg}(t)?n.i_.push(t):t&&function(t){return t.pr===Ug.$g}(t)&&n.e_.push(t)}function Py(t,n,i,e){var r=new Hs;if(Fy(t,r),i.Zg=xy(By(t,r),e),Fy(t,r),"--\x3e"!==t.substring(r.Cu,r.Cu+3))throw h("Something went wrong with parsing a WebVTT Cue");r.Du(3),Fy(t,r),i.Qg=xy(By(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var u=e[r];if(0!==u.length&&zr(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),c=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":Wy(c,n,i);break;case"VERTICAL":jy(c,n);break;case"D":$y(c,n);break;case"LINE":case"L":Hy(c,n);break;case"POSITION":case"T":qy(c,n);break;case"SIZE":case"S":zy(c,n);break;case"ALIGN":case"A":Vy(c,n)}}}}(t.substring(r.Cu,t.length),i,n)}function xy(t,n){return t+n.Qm}function Ly(t){return/^[0-9]$/.test(t)}function By(t,n){var i,e,r,u=Wr(t,",","."),s=!1;if(n.Cu>=u.length||!Ly(u.charAt(n.Cu)))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var o=Dy(u,Ly,n),c=l(o,10);if((o.length>2||c>59)&&(s=!0),n.Cu>=u.length||":"!==u.charAt(n.Cu))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.Du(1);var a=Dy(u,Ly,n);if(2!==a.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var f=l(a,10);if(s||n.Cu<u.length&&":"===u.charAt(n.Cu)){if(n.Cu>=u.length||":"!==u.charAt(n.Cu))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.Du(1);var v=Dy(u,Ly,n);if(2!==a.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");i=c,e=f,r=l(v,10)}else i=0,e=c,r=f;if(n.Cu>=u.length||"."!==u.charAt(n.Cu))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.Du(1);var d=Dy(u,Ly,n),w=l(d,10);if(f>59||r>59)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+w/1e3}function My(t){if(t.length<my)return!1;for(var n=0;n<_y.length;n++){if(jr(t,_y[n]))return!0}return!1}function Fy(t,n){for(;n.Cu<t.length&&(i=t.charAt(n.Cu),fu(py,i));)n.Du(1);var i}function Uy(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!g(i)&&i>=0&&i<=100)return i}return null}function Vy(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.by=i;break;case"middle":n.by="center"}}function Hy(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),ky.test(i)){var u,s;if($r(i,"%")){var o=Uy(i);if(null===o)return;u=o,s=!1}else{if(!Ty.test(i)||i.lastIndexOf("-")>0)return;var c=i.indexOf(".");if(c>=0&&(c!==i.lastIndexOf(".")||!Ey.test(i)||Sy.test(i)))return;if(u=w(i),g(u))return;s=!0}switch(n.wy=u,n.py=s,e=e.toLowerCase()){case"start":case"center":case"end":n.gy=e;break;case"middle":n.gy="center"}}}function qy(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var u=Uy(i);if(null!==u)switch(n.yy=u,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.my=e;break;case"start":n.my="line-left";break;case"middle":n.my="center";break;case"end":n.my="line-right"}}function Wy(t,n,i){var e=cu(i,function(n){return n.yl===t});void 0!==e&&(n._y=e)}function zy(t,n){var i=Uy(t);null!==i&&(n.Ru=i)}function jy(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.ky="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.ky="lr";break;default:n.ky=""}}function $y(t,n){"VERTICAL"===t.toUpperCase()?n.ky="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.ky="lr")}function Xy(t){if(t.indexOf(",")>=0){var n=Uy(t.substring(0,t.indexOf(","))),i=Uy(t.substring(t.indexOf(",")+1,t.length));return[Tn(n||0,0,100),Tn(i||100,0,100)]}return null}function Gy(t,n){n.yl=t}function Yy(t,n){"up"===t.toLowerCase()&&(n.Oy="up")}function Ky(t,n){by.test(t)&&(n.Sy=l(t))}function Jy(t,n){var i=Uy(t);null!==i&&(n.Ty=i)}!function(t){t.o_="moov",t.c_="mvhd",t.a_="trak",t.h_="tkhd",t.f_="mdia",t.v_="mdhd",t.d_="hdlr",t.l_="minf",t.w_="stbl",t.g_="stsd",t.y_="stsc",t.m_="mvex",t.__="trex",t.p_="avc1",t.b_="avcC",t.k_="hev1",t.T_="hvc1",t.S_="hvcC",t.E_="pasp",t.R_="mp4a",t.I_="esds",t.D_="wvtt",t.O_="vttC",t.N_="vlab",t.C_="enca",t.A_="encv",t.P_="moof",t.x_="mfhd",t.L_="traf",t.B_="tfhd",t.M_="trun",t.F_="tfdt",t.U_="senc",t.V_="mdat",t.H_="pssh",t.q_="emsg",t.W_="sidx",t.z_="styp",t.j_="ftyp",t.X_="sinf",t.G_="frma"}(dy||(dy={})),function(t){t.tv="vide",t.Qf="soun",t.Y_="subt",t.K_="hint",t.J_="meta",t.Z_="auxv"}(ly||(ly={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(wy||(wy={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(gy||(gy={}));var Zy=function(){function t(t,n){this.Li=void 0,this.Q_=void 0,this.Li=t,this.Q_=n}var n=t.prototype;return n.tp=function(){return fs(this.Li,this.Q_)},n.np=function(){return ws(this.Li,this.Q_)},n.ip=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Cu,i);return n.Du(2),e}(this.Li,this.Q_)},n.ep=function(){return ys(this.Li,this.Q_)},n.rp=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Cu,i);return n.Du(4),e}(this.Li,this.Q_)},n.sp=function(){return _s(this.Li,this.Q_)},n.op=function(t){return ds(this.Li,this.Q_,t)},n.cp=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(ys(t,n));return e}(this.Li,this.Q_,t)},n.ap=function(t){return bs(this.Li,this.Q_,t)},n.hp=function(){return Ns(this.Li,this.Q_)},n.fp=function(t){this.Q_.Du(t)},n.Nu=function(){return new t(this.Li,this.Q_.Nu())},t}(),Qy=function(t){function n(n,i){var e;return(e=t.call(this)||this).vp=n,e.dp=i,e}return vt(n,t),ht(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(An),tm=function(){function t(){}return t.lp=function(n){var i=n.Li,e=n.Q_,r=t.wp(i,e,!1);if(!r.gp)throw new Qy(e.Cu,r.Ri);return r.Ri},t.wp=function(n,i,e){for(var r=[];i.Cu<n.byteLength;){var u=t.yp(n,i,e);if(!u.gp)return{gp:!1,Ri:r};r.push(u.mp)}return{gp:!0,Ri:r}},t._p=function(n,i){var e=t.yp(n,i,!1);if(!e.gp)throw new Qy(i.Cu);return e.mp},t.pp=function(n,i){for(var e=n.Li,r=n.Q_;r.Cu<e.byteLength;){var u=t.yp(e,r,!1);if(!u.gp)return;if(u.mp.pr===i)return u.mp}},t.yp=function(n,i,e){var r=i.Cu,u=t.bp(n,i);if(!u.gp)return u;var s=u.kp,o=s.Ru;if(0===o){if(e)return i.Ou(r),{gp:!1,Tp:1/0};o=n.byteLength-r}var c=r+o;if(c>n.byteLength){var a=c;return i.Ou(r),{gp:!1,Tp:a}}var h,f,v,d={pr:s.pr,Cu:r,Li:new Zy((h=n,f=r,v=c,void 0===f&&(f=0),void 0===v&&(v=h.byteLength),new DataView(h.buffer,h.byteOffset+f,v-f)),new Hs(s.Sp))};return i.Ou(c),{gp:!0,mp:d}},t.bp=function(t,n){var i=n.Cu;if(!ls(t,n,8))return{gp:!1,Tp:n.Cu+8};var e=ys(t,n),r=bs(t,n,4);if(1===e){if(!ls(t,n,8)){var u=n.Cu+8;return n.Ou(i),{gp:!1,Tp:u}}e=_s(t,n).toNumber()}if("uuid"===r){if(!ls(t,n,16)){var s=n.Cu+16;return n.Ou(i),{gp:!1,Tp:s}}r=bs(t,n,16)}return{gp:!0,kp:{pr:r,Ru:e,Sp:n.Cu-i}}},t.Ep=function(t,n,i){var e=t.Li,r=t.Q_,u=Ps(Ls(e),r.Cu,e.byteLength);return i&&(u=Us(u)),r.Du(u.byteLength),{pr:n,Li:u}},t.Rp=function(n,i,e){var r=rm(n.ep());return{pr:i,Ip:r.version,Dp:r.flags,Li:t.Ep(n,i,e).Li}},t}();function nm(t,n){var i=im(t,n);if(!i)throw new h("Missing "+n+" atom");return i}function im(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.pr===n)return e.Li}}function em(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.pr===n&&i.push(r.Li)}return i}function rm(t){return{version:t>>24,flags:new hs(16777215&t)}}var um=function(){function t(){}return t.Op=function(n){for(var i=[],e=tm.lp(new Zy(n,new Hs)),r=0;r<e.length;r++){var u=e[r],s=t.Np(u);s&&i.push(s)}return i},t.Cp=function(t){return tm.wp(t,new Hs,!1).Ri.some(this.Ap)},t.Pp=function(n){return em(tm.lp(new Zy(n,new Hs)),dy.H_).map(t.xp)},t.Lp=function(n){return em(tm.lp(n.Li),dy.H_).map(t.xp)},t.Ap=function(t){return t.pr===dy.j_||t.pr===dy.z_||t.pr===dy.o_||t.pr===dy.P_||t.pr===dy.V_||t.pr===dy.W_||t.pr===dy.q_},t.Np=function(n){switch(n.pr){case dy.o_:return t.Bp(n.Li);case dy.P_:return t.Mp(n.Li,n.Cu);case dy.V_:return t.Fp(n.Li);case dy.W_:return t.Up(n.Li);case dy.q_:return t.Vp(n.Li)}},t.Bp=function(n){var i=tm.lp(n),e=nm(i,dy.c_),r=em(i,dy.a_),u=im(i,dy.m_),s=t.Hp(e),o=r.map(t.qp),c=u?t.Wp(u):void 0;return{pr:dy.o_,kp:s,zp:o,jp:c}},t.Hp=function(t){var n=rm(t.ep()),i=n.version,e=n.flags,r=1===i?t.sp():t.ep(),u=1===i?t.sp():t.ep(),s=t.ep(),o=1===i?t.sp():t.ep(),c=t.ep(),a=t.np()>>8;t.fp(2),t.fp(8);var h=t.cp(9);t.fp(24);var f=t.ep();return{pr:dy.c_,Ip:i,Dp:e,$p:r,Xp:u,Sm:s,ww:o,Gp:c,Sw:a,Yp:h,Kp:f}},t.qp=function(n){var i=tm.lp(n),e=nm(i,dy.h_),r=nm(i,dy.f_),u=t.Jp(e),s=t.Zp(r);return{pr:dy.a_,kp:u,Qp:s}},t.Jp=function(t){var n=rm(t.ep()),i=n.version,e=n.flags,r=1===i?t.sp():t.ep(),u=1===i?t.sp():t.ep(),s=t.ep();t.fp(4);var o=1===i?t.sp():t.ep();t.fp(8);var c=t.ip(),a=t.ip(),h=t.ip()/d.pow(2,8);t.fp(2);var f=t.cp(9),v=t.ep()/d.pow(2,16),l=t.ep()/d.pow(2,16);return{pr:dy.h_,tb:e.Pu(1),nb:e.Pu(2),ib:e.Pu(4),$p:r,Xp:u,eb:s,ww:o,ub:c,sb:a,Sw:h,Yp:f,Ty:v,ob:l}},t.Zp=function(n){var i=tm.lp(n),e=nm(i,dy.v_),r=nm(i,dy.d_),u=nm(i,dy.l_),s=t.cb(e),o=t.ab(r),c=t.hb(u);return{pr:dy.f_,kp:s,fb:o,vb:c}},t.cb=function(t){var n=rm(t.ep()),i=n.version,e=n.flags,r=1===i?t.sp():t.ep(),u=1===i?t.sp():t.ep(),s=t.ep(),o=1===i?t.sp():t.ep();return t.np(),t.fp(2),{pr:dy.v_,Ip:i,Dp:e,$p:r,Xp:u,Sm:s,ww:o}},t.ab=function(t){var n=rm(t.ep()),i=n.version,e=n.flags;t.fp(4);var r=t.ap(4);t.fp(12);var u=t.hp();return{pr:dy.d_,Ip:i,Dp:e,lb:r,li:u}},t.hb=function(n){var i=nm(tm.lp(n),dy.w_),e=t.wb(i);return{pr:dy.l_,gb:e}},t.wb=function(n){var i=nm(tm.lp(n),dy.g_),e=t.yb(i);return{pr:dy.w_,mb:e}},t.yb=function(n){var i=rm(n.ep()),e=i.version,r=i.flags;n.ep();for(var u=[],s=tm.lp(n),o=0;o<s.length;o++){var c=s[o],a=t._b(c.Li,c.pr);a&&u.push(a)}return{pr:dy.g_,Ip:e,Dp:r,pb:u}},t._b=function(n,i){var e=t.bb(n,i);return e||((e=t.kb(n,i))||(i===dy.D_?t.Tb(n):void 0))},t.bb=function(n,i){return i===dy.R_?t.Sb(n):i===dy.C_?t.Eb(n):void 0},t.kb=function(n,i){return i===dy.p_?t.Rb(n):i===dy.k_||i===dy.T_?t.Ib(n,i):i===dy.A_?t.Db(n):void 0},t.Ob=function(t,n){return t.fp(6),{pr:n,Nb:t.np()}},t.Cb=function(n,i){var e=t.Ob(n,i);n.fp(8);var r=n.np(),u=n.np();return n.fp(2),n.fp(2),gr({},e,{Ab:r,Pb:u,xb:n.ep()>>>16})},t.Lb=function(n,i){var e=t.Ob(n,i);n.fp(2),n.fp(2),n.fp(12);var r=n.np(),u=n.np(),s=n.ep(),o=n.ep();n.fp(4);var c=n.np();n.fp(32);var a=n.np();return n.fp(2),gr({},e,{Ty:r,ob:u,Bb:s,Mb:o,Fb:c,Ub:a})},t.Sb=function(n){var i=t.Cb(n,dy.R_),e=nm(tm.lp(n),dy.I_);return gr({},i,{Vb:t.Hb(e)})},t.Tb=function(n){var i=t.Ob(n,dy.D_),e=tm.lp(n),r=nm(e,dy.O_),u=t.qb(r),s=im(e,dy.N_);return gr({},i,{Wb:u,zb:s?t.jb(s):s})},t.qb=function(t){return{pr:dy.O_,mc:t.hp()}},t.jb=function(t){return{pr:dy.N_,pl:t.hp()}},t.Hb=function(t){return tm.Rp(t,dy.I_,!0)},t.Rb=function(n){var i=t.Lb(n,dy.p_),e=tm.lp(n),r=nm(e,dy.b_),u=im(e,dy.E_);return gr({},i,{$b:t.Xb(r),Gb:u?t.Yb(u):void 0})},t.Ib=function(n,i){var e=t.Lb(n,i),r=nm(tm.lp(n),dy.S_);return gr({},e,{Kb:t.Jb(r)})},t.Db=function(n){var i=n.Nu(),e=t.Lb(n,dy.A_),r=nm(tm.lp(n),dy.X_),u=t.Zb(r);return gr({},e,{Qb:t.kb(i,u.nk.tk),ik:u})},t.Eb=function(n){var i=n.Nu(),e=t.Cb(n,dy.C_),r=nm(tm.lp(n),dy.X_),u=t.Zb(r);return gr({},e,{Qb:t.bb(i,u.nk.tk),ik:u})},t.Zb=function(n){var i=nm(tm.lp(n),dy.G_),e=t.ek(i);return{pr:dy.X_,nk:e}},t.ek=function(t){var n=t.ap(4);return{pr:dy.G_,tk:n}},t.Xb=function(t){return tm.Ep(t,dy.b_,!0)},t.Jb=function(t){return tm.Ep(t,dy.S_,!0)},t.Yb=function(t){var n=t.ep(),i=t.ep();return{pr:dy.E_,rk:n,uk:i}},t.Wp=function(n){var i=em(tm.lp(n),dy.__).map(t.sk);return{pr:dy.m_,zp:i}},t.sk=function(t){var n=rm(t.ep()),i=n.version,e=n.flags,r=t.ep(),u=t.ep(),s=t.ep(),o=t.ep(),c=t.ep();return{pr:dy.__,Ip:i,Dp:e,eb:r,ck:u,ak:s,hk:o,fk:c}},t.Mp=function(n,i){var e=tm.lp(n),r=nm(e,dy.x_),u=em(e,dy.L_),s=t.vk(r),o=u.map(t.dk);return{pr:dy.P_,lk:i,kp:s,zp:o}},t.vk=function(t){var n=rm(t.ep()),i=n.version,e=n.flags,r=t.ep();return{pr:dy.x_,Ip:i,Dp:e,wk:r}},t.dk=function(n){var i=tm.lp(n),e=nm(i,dy.B_),r=em(i,dy.M_),u=im(i,dy.F_),s=t.gk(e),o=r.map(function(n){return t.yk(n,s)}),c=u?t.mk(u):void 0;return{pr:dy.L_,kp:s,_k:o,pk:c}},t.gk=function(t){var n=rm(t.ep()),i=n.version,e=n.flags,r=t.ep(),u=e.Pu(wy.BASE_DATA_OFFSET_PRESENT)?t.sp():void 0,s=e.Pu(wy.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.ep():void 0,o=e.Pu(wy.DEFAULT_SAMPLE_DURATION_PRESENT)?t.ep():void 0,c=e.Pu(wy.DEFAULT_SAMPLE_SIZE_PRESENT)?t.ep():void 0,a=e.Pu(wy.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.ep():void 0;return{pr:dy.B_,Ip:i,Dp:e,eb:r,bk:u,kk:s,ak:o,hk:c,fk:a}},t.yk=function(n,i){for(var e=rm(n.ep()),r=e.version,u=e.flags,s=n.ep(),o=u.Pu(gy.DATA_OFFSET_PRESENT)?n.rp():void 0,c=u.Pu(gy.FIRST_SAMPLE_FLAGS_PRESENT)?n.ep():void 0,a=[],h=0;h<s;h++){var f=t.Tk(n,u,r,i);0===h&&void 0!==c&&(f.Dp=c),a.push(f)}return{pr:dy.M_,Ip:r,Dp:u,Sk:s,lk:o,Ek:c,Rk:a}},t.Tk=function(t,n,i,e){return{ww:n.Pu(gy.SAMPLE_DURATION_PRESENT)?t.ep():e.ak,Ru:n.Pu(gy.SAMPLE_SIZE_PRESENT)?t.ep():e.hk,Dp:n.Pu(gy.SAMPLE_FLAGS_PRESENT)?t.ep():e.fk,Ik:n.Pu(gy.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.ep():t.rp():void 0}},t.Vp=function(t){var n=t.Li,i=t.Q_,e=rm(ys(n,i)),r=e.version,u=e.flags;if(1===r){var s=ys(n,i),o=_s(n,i),c=ys(n,i),a=ys(n,i),h=ps(n,i),f=ps(n,i),v=Fs(Ls(n),i.Cu,n.byteLength);return i.Du(v.byteLength),{pr:dy.q_,Ip:r,Dp:u,Dk:h,yi:f,Sm:s,Ok:o,Nk:c,yl:a,Ck:v}}var d=ps(n,i),l=ps(n,i),w=ys(n,i),g=ys(n,i),y=ys(n,i),m=ys(n,i),_=Fs(Ls(n),i.Cu,n.byteLength);return i.Du(_.byteLength),{pr:dy.q_,Dp:u,Ip:r,Dk:d,yi:l,Sm:w,Ak:g,Nk:y,yl:m,Ck:_}},t.Fp=function(t){return tm.Ep(t,dy.V_,!1)},t.xp=function(n){var i=n.Li,e=n.Q_,r=Us(Ls(i)).buffer,u=rm(ys(i,e)),s=u.version,o=u.flags,c=t.Pk(i,e),a=[];if(s>0)for(var h=ys(i,e),f=0;f<h;f++){var v=ds(i,e,16);a.push(v)}var d=ys(i,e),l=new y(r,e.Cu,d);return e.Du(i.byteLength),{pr:dy.H_,Ip:s,Dp:o,xk:c,Lk:a,Bk:d,Li:l,Mk:r}},t.Pk=function(t,n){for(var i="",e=0;e<4;e++){var r=fs(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var u=0;u<2;u++){var s=fs(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var c=fs(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var a=0;a<2;a++){var h=fs(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=fs(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.Up=function(t){var n,i,e=t.Li,r=t.Q_,u=rm(ys(e,r)),s=u.version,o=u.flags,c=ys(e,r),a=ys(e,r);0===s?(n=Jt.fromBits(ys(e,r),0,!0),i=Jt.fromBits(ys(e,r),0,!0)):(n=_s(e,r),i=_s(e,r)),r.Du(2);for(var h=ws(e,r),f=[],v=0;v<h;v+=1){var d=ys(e,r),l=d>>31&1,w=2147483647&d,g=ys(e,r),y=ys(e,r),m=y>>31&1,_=y>>28&7,p=268435455&y;f.push({Fk:l,Uk:w,ww:g,Vk:m,Hk:_,qk:p})}return{pr:dy.W_,Ip:s,Dp:o,Wk:c,Sm:a,zk:n,jk:i,$k:h,Xk:f}},t.mk=function(t){var n,i=t.Li,e=t.Q_,r=rm(ys(i,e)),u=r.version,s=r.flags;return n=0===u?Jt.fromBits(ys(i,e),0,!0):_s(i,e),{pr:dy.F_,Ip:u,Dp:s,pk:n}},t}();function sm(t){return t&&"Ei"in t?t.Ei:t}var om=function(t){function n(n,i,e,r,u,s,o){var c;return(c=t.call(this,n,i,e,r)||this).Gk=void 0,c.Yk=void 0,c.Kk=void 0,c.Gk=u,c.Yk=s,c.Kk=o||void 0,c}return vt(n,t),n.prototype.hy=function(n){return this===n||!!Hl(this,n)&&(!!t.prototype.hy.call(this,n)&&(!!Vl(this.Jk,n.Jk)&&(!!Vl(this.i_,n.i_)&&(this.Zk&&n.Zk?!!this.Zk.fi(n.Zk)&&(this.ty&&n.ty?this.ty.fi(n.ty):this.ty===n.ty):this.Zk===n.Zk))))},ht(n,[{key:"Jk",get:function(){return this.Gk}},{key:"i_",get:function(){return this.Yk}},{key:"Zk",get:function(){return this.Kk}},{key:"Dd",get:function(){var t;return this.Id||(this.Id=Fl(jg(t=this),{get styles(){return t.Jk},get regions(){return t.i_},get metadata(){return sm(t.Zk)},get content(){return sm(t.ty)}})),this.Id}}]),n}(Kg),cm=function(){function t(t,n,i){this.Zh=void 0,this.Qk=void 0,this.tT=void 0,this.Qk=t,this.tT=n,On(i)?this.Zh=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var u=r[e];i.Oi(u)}return i}(0,0,i):this.Zh=i}return ht(t,[{key:"nT",get:function(){return this.Zh.vi(!0)}},{key:"Zg",get:function(){return this.Qk}},{key:"Qg",get:function(){return this.tT}}]),t}();var am="http://www.w3.org/XML/1998/namespace";function hm(t,n){return function(t,n){var i=t.Ri.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Ri)}return e}(t,function(t){return t.ki===n})}function fm(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function vm(t,n){for(var i=t.Pi,e={},r=0;r<i.length;r++)e[fm(i[r].li,n)]=i[r].yi;return e}var dm=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,lm=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,wm="http://www.w3.org/ns/ttml";function gm(t,n,i){return void 0===i&&(i=yy),function(t,n,i){var e,r=[];try{e=st.ai(t)}catch(t){return r}var u=e.Bi;if("tt"!==u.di)return r;var s=u&&u.Ti(wm,"head")[0],o=u&&u.Ti(wm,"body")[0],c=["ebutts","tts","xml"];if(!o||!s)return r;for(var a=function(t,n){for(var i={},e=t.Ti(wm,"styling")[0],r=e&&e.Ti(wm,"style")||[],u=0;u<r.length;u++){var s=r[u],o=s.Di(am,"id");i[o]=vm(s,n)}return i}(s,c),h=function(t,n){var i=Ul(t),e=pm(n.Ii("tts:extent"));if(!e)return i;for(var r=0,u=v.keys(i);r<u.length;r++){var s=u[r],o=pm(i[s].extent);if(o){var c=mm(o[0],e[0]),a=mm(o[1],e[1]);i[s].extent=c+" "+a}var h=pm(i[s].origin);if(h){var f=mm(h[0],e[0]),d=mm(h[1],e[1]);i[s].origin=f+" "+d}}return i}(function(t,n){for(var i={},e=t.Ti(wm,"layout")[0],r=e&&e.Ti(wm,"region")||[],u=0;u<r.length;u++){var s=r[u],o=s.Di(am,"id");if(o){i[o]=vm(s,n);var c=Tm(s,n);for(var a in c)Rt.call(c,a)&&(i[o][a]=c[a])}}return i}(s,c),u),f=s.Ti(wm,"metadata")[0],d=function t(n,i,e,r){var u=i;var s;var o=e;var c=[];var a=[];if(On(n)){var h,f;u=null!=(h=km(n.Ii("begin"),r))?h:u,s=km(n.Ii("dur"),0),o=null!=(f=km(n.Ii("end"),r))?f:void 0!==s?u+s:o;for(var v=n.bi,d=0;d<v.length;d++)("body"===n.di||"div"===n.di)&&v[d].ei>1||(c=c.concat(t(v[d],u,o,r)))}var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var u=i[r];e.push(u.Zg,u.Qg)}e.sort(ru);for(var s=e.length,o=0;o<s-1;o++)e[o+1]===e[o]&&(hu(e,o+1),o--,s=e.length);return e}(u,o,c);for(var w=0;w<l.length-1;w++){var g=bm(l[w],l[w+1],c);if(g.length<=0&&Sm(n)){var y=n.vi(!1);a.push(new cm(l[w],l[w+1],y))}else g.length>0&&function(){var t=n.vi(!1);g.forEach(function(n){return t.Si(n.nT)}),a.push(new cm(l[w],l[w+1],t))}()}return a}(o,i.Qm,i.t_,i.n_),l=0;l<d.length;l++){var w=d[l],g=ym(h,w);r.push(new om(w.Zg,w.Qg,w.nT,!1,a,g,f))}return r}(t,0,i)}function ym(t,n){for(var i=function t(n){var i=[];var e;if(On(n)){(e=n.Ii("region"))&&i.push(e);for(var r=n.bi,u=0;u<r.length;u++)i=i.concat(t(r[u]))}return i}(n.nT),e={},r=0;r<i.length;r++){var u=i[r];e[u]=t[u]}return e}function mm(t,n){var i=_m(t),e=_m(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-e.length));return g(r)||g(u)?t:r/u*100+"%"}return t}function _m(t){return $r(t,"px")?"px":$r(t,"em")?"em":$r(t,"c")?"c":$r(t,"%")?"%":void 0}function pm(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function bm(t,n,i){for(var e=[],r=0;r<i.length;r++){var u=i[r].Zg,s=i[r].Qg;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&e.push(i[r])}return e}function km(t,n){if(t){if(dm.test(t)){var i=dm.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*e+60*r+u+(s?Number(s)*d.pow(.1,s.length):0)+n}if(lm.test(t)){var o=lm.exec(t);if(!o)return;var c,a=Number(o[1]);switch(o[4]){case"h":c=3600*a;break;case"m":c=60*a;break;case"s":c=a;break;case"ms":c=.001*a;break;case"f":case"t":default:c=NaN}return c+n}}}function Tm(t,n){for(var i={},e=t.pi("style")||[],r=0;r<e.length;r++){var u=vm(e[r],n);for(var s in u)Rt.call(u,s)&&(i[s]=u[s])}return i}function Sm(t){if(On(t)){var n=t.di.toUpperCase(),i=Boolean(t.Ii("smpte:backgroundImage"));return"BR"===n||i}return t.ei===Dn.si}function Em(t){var n=function(t){try{return st.ai(t).Bi}catch(t){}}(t);return"tt"===(null==n?void 0:n.di)}var Rm,Im=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.tl=function(n){return t.prototype.tl.call(this,n)},i.nl=function(n){var i=t.prototype.nl.call(this,n);return i&&(n.Rl=nw.Ol),i},i.Od=function(){return ow(this)},n}(Al);!function(t){t.Y_="subtitles",t.iT="captions",t.eT="descriptions",t.rT="chapters",t.J_="metadata",t.uT="thumbnails"}(Rm||(Rm={}));var Dm=[Rm.Y_,Rm.iT,Rm.eT,Rm.rT,Rm.J_,Rm.uT];function Om(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&fu(Dm,t)}(n)?n:n?Rm.J_:Rm.Y_}var Nm,Cm=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,u)||this).url=void 0,s.status=void 0,s.url=e,s.status=r,s}return vt(n,t),n}(Pc);function Am(t,n){return t===Rm.uT||t===Rm.J_&&n===Rm.uT}function Pm(t,n,i,e){for(var r=0,u=t.Pl.sl;r<u.length;r++){var s=u[r];if(s.Zg>i)break;n<=s.Qg&&e.push(s)}}function xm(t,n){return eu(t.ml,n.ml)}function Lm(t,i){var e=i,r=0;if(t instanceof Wv&&t.name===Uv.yv)e=t.Mf.Uf;else if(function(t){return t instanceof jv}(t)){var u=t.kv;if(e=u.Ff,0===(r=u.Af))return new Cm(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Cm(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Bm(t,i,e,r){var u=function(t){switch(t){case Fg.WEBVTT:return"WebVTT";case Fg.SRT:return"SRT";case Fg.TTML:return"TTML";default:return""}}(t);return new Cm(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(u?u+" ":"")+"subtitle file.",i,e,r)}function Mm(t){return My(Iy(t))?Fg.WEBVTT:Em(t)?Fg.TTML:Fg.SRT}function Fm(t,n){for(var i=[],e=0,r=t.Pl.sl;e<r.length;e++){var u=r[e];if(u.Qg<=n)i.push(u);else if(u.Zg>=n)break}for(var s=0;s<i.length;s++){var o=i[s];t.sT(o)}}!function(t){t.oT="vtt",t.D_="wvtt",t.cT="stpp"}(Nm||(Nm={}));var Um=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).zp=new Im,n.aT=function(t){var i=t.Nd;n.hT(i)},n}vt(n,t);var i=n.prototype;return i.tl=function(t){t.tu(El.Hd,this.aT),this.zp.tl(t),this.hT(t)},i.nl=function(t){t.ru(El.Hd,this.aT),t.Rl=nw.Ol,this.zp.nl(t)},i.fT=function(t){},i.vT=function(t){},i.hT=function(t){t.Rl!==nw.Ol?this.fT(t):this.vT(t)},i.dT=function(){for(var t=0,n=this.zp.sl;t<n.length;t++){var i=n[t];i.ru(El.Hd,this.aT),i.et()}},i.lT=function(t){if(t>0)for(var n=0,i=this.zp.sl;n<i.length;n++){Fm(i[n],t)}},i.ul=function(){return this.dT(),this.zp.ul(),j.resolve()},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.eu(),t.next=3,wr.awrap(this.ul());case 3:this.zp.et();case 4:case"end":return t.stop()}},null,this,null,j)},n}(Cu),Vm=function(t){function n(n){var i;return(i=t.call(this,iw.Sl)||this).errorObject=n,i}return vt(n,t),n.prototype.Od=function(){return this},ht(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Tl),Hm=function(t){function n(n,i){var e;return(e=t.call(this)||this).wT=void 0,e.gT=void 0,e.yT=new wu,e.wT=n,e.gT=i,e}vt(n,t);var i=n.prototype;return i.mT=function(t){if(t.src){var n=t.kind||Rm.Y_,i=this.wT._T(n,t.id,t.label,t.srclang,t.default);return i.Ll=Fv(t.src),this.tl(i),i}},i.pT=function(t,n){var i,e,r,u,s,o,c,a,h,f;return wr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.Al=Mg.LOADING,i=new xv({Uf:t.Ll,xf:ta.si,ev:Ov.GET,Gr:n}),v.prev=2,v.next=5,wr.awrap(this.gT.Mf(i));case 5:return u=v.sent,r=u.Af,v.next=9,wr.awrap(u.gf());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),_u(v.t0),t.Al=Mg.ERROR,t.Qr(new Vm(Lm(v.t0,t.Ll))),v.abrupt("return");case 18:for(v.prev=18,s=Mm(e),t.pr=s,o=[],s===Fg.WEBVTT||s===Fg.SRT?(c=Ry(e),o=c.Pl):s===Fg.TTML&&(o=gm(e)),a=0,h=o;a<h.length;a++)f=h[a],t.bT(f);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),_u(v.t1),t.Al=Mg.ERROR,t.Qr(new Vm(Bm(t.pr,t.Ll,r,v.t1))),v.abrupt("return");case 32:t.Al=Mg.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],j)},i.fT=function(t){fu(this.zp.sl,t)&&t.Al===Mg.NONE&&this.pT(t,this.yT.Gr).catch(pu)},i.cc=function(){},i.ul=function(){var n,i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.yT.jr(),this.yT=new wu,n=0,i=this.zp.sl;n<i.length;n++)e=i[n],this.wT.kT(e);return r.next=5,wr.awrap(t.prototype.ul.call(this));case 5:case"end":return r.stop()}},null,this,null,j)},n}(Um);function qm(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e._l===n&&e.TT)return e}}function Wm(t,n){zm(qm(t.sl,n))}function zm(t){void 0!==t&&(t.Rl=nw.Il)}function jm(t,n){zm(qm(t.sl,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e._l===n)return e}}(t.sl,n))}function $m(t){for(var n=0;n<Dm.length;n++){var i=Dm[n];i===Rm.rT?jm(t,i):Wm(t,i)}}var Xm,Gm=function(t){function n(){return t.call(this,Qc.Fa)||this}return vt(n,t),n}(Pu);!function(t){t[t.ST=0]="ST",t[t.ET=1]="ET"}(Xm||(Xm={}));var Ym=t,Km=Ym.MediaSource,Jm=Ym.WebKitMediaSource,Zm=Ym.TextTrack,Qm=e&&e.createElement("video");e&&e.documentElement.style;var t_=Et.vn&&Et.Wn&&Et.zn<=26;Et.Rn;var n_=!(!Km&&!Jm),i_=!!Zm;e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||Et.kn,Et.Un&&Et.Vn,Qm&&Qm.canPlayType&&(""!==Qm.canPlayType("application/vnd.apple.mpegURL")||Et.wn&&!Et.Un&&Et.gn);Qm&&Qm.canPlayType&&Qm.canPlayType("video/mp4");var e_=n_&&!Et.Hn&&!Et.Bn&&!Et.Ln&&((Km||Jm).isTypeSupported?(Km||Jm).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Qm&&Qm.canPlayType&&""!==Qm.canPlayType('audio/mp4; codecs="mp4a.40.34"'));n_&&!Et.Hn&&(e_||((Km||Jm).isTypeSupported?(Km||Jm).isTypeSupported("audio/mpeg"):Qm&&Qm.canPlayType&&Qm.canPlayType("audio/mpeg"))),n_&&(!Et.Fn||!Et.vn)&&(Km||Jm).isTypeSupported&&(Km||Jm).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),Et.Hn||Et.Bn||Et.Ln,Et.Mn,Et.Hn,Et.Bn&&Et.dn&&Et.ln;try{i&&i.top!==i.self}catch(t){!0}var r_=function(t){function n(n){var i;return(i=t.call(this,Lw.vw)||this).currentTime=n,i}return vt(n,t),n}(Pu),u_=function(t){function n(n){var i;return(i=t.call(this,Lw.dw)||this).currentTime=n,i}return vt(n,t),n}(Pu);Lw.Wd,Lw.dw,Qc.xa,Qc.Pa;var s_=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).RT=pw.ew,e.IT=!0,e.DT=!1,e.OT=!1,e.NT=function(t){var n=e.CT.Al;n!==e.RT&&e.Qr(new Zw(t.currentTime,n)),n===pw.ew&&(e.DT=!1,e.OT=!1),e.AT(n),e.PT(n),e.xT(n),e.maybeDispatchCanPlayThroughEvent(n),e.LT(n),e.BT(n),e.RT=n},e.MT=function(){e.BT(e.RT),e.LT(e.RT),e.IT=e.CT._w},e.FT=function(){e.IT=e.CT._w},e.UT=function(t){e.Qr(new u_(t.currentTime))},e.CT=n,e.VT=i,e.CT.tu(Lw.Wd,e.NT),e.CT.tu(Qc.xa,e.MT),e.CT.tu(Qc.Pa,e.FT),e.VT&&e.CT.tu(Lw.dw,e.UT),e}vt(n,t);var i=n.prototype;return i.AT=function(t){!this.OT&&t>=pw.rw&&(this.OT=!0,this.Qr(new Hw(this.CT.lw,t)))},i.PT=function(t){!this.DT&&t>=pw.uw&&(this.DT=!0,this.Qr(new $w(this.CT.lw,t)))},i.LT=function(t){this.VT||(t>=pw.sw&&this.RT<pw.sw&&!this.CT._w||this.HT&&t>=pw.sw)&&this.Qr(new u_(this.CT.lw))},i.BT=function(t){!this.qT(t)||this.CT.gw||this.CT.lu||this.Qr(new r_(this.CT.lw))},i.xT=function(t){this.RT<=pw.uw&&t>=pw.sw&&this.Qr(new Kw(this.CT.lw,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===pw.ow&&this.Qr(new Jw(this.CT.lw,t))},i.qT=function(t){var n=!this.CT._w&&t<=pw.uw,i=!this.IT&&this.RT<=pw.uw;return n&&!i},i.ul=function(){this.RT=pw.ew,this.IT=!0,this.DT=!1,this.OT=!1},i.et=function(){this.eu(),this.VT&&this.CT.ru(Lw.dw,this.UT),this.CT.ru(Qc.xa,this.MT),this.CT.ru(Qc.Pa,this.FT),this.CT.ru(Lw.Wd,this.NT)},ht(n,[{key:"HT",get:function(){return!this.CT._w&&this.IT}}]),n}(Cu),o_="titanium",c_="conax",a_="ezdrm",h_="irdeto",f_="vudrm",v_="verimatrix",d_="keyos",l_="drmtoday",w_="expressplay",g_="azure",y_="xstream",m_="vimond",__="axinom",p_="uplynk",b_="comcast",k_="custom",T_=function(){function t(t,n,i,e,r){this.yc=void 0,this.WT=void 0,this.zT=void 0,this.jT=void 0,this.gT=void 0,this.$T=void 0,this.XT=void 0,this.yc=t,this.WT=n,this.zT=i,this.gT=e,this.XT=r,this.jT=this.GT(n)}var i=t.prototype;return i.YT=function(){return this.$T},i.KT=function(t){this.$T=t},i.JT=function(){return this.jT.licenseAcquisitionURL||this.YT()},i.ZT=function(t){return j.resolve()},i.QT=function(t,n){return j.resolve(void 0)},i.tS=function(t,i,e,r){var u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(u=this.nS(t,i,e,r)).Uf){o.next=3;break}throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,wr.awrap(this.kd.Mf(u));case 6:return s=o.sent,o.next=9,wr.awrap(s.yf(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),_u(o.t0),o.next=17,wr.awrap(this.iS(o.t0,u.Uf,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],j)},i.nS=function(t,n,i,e){var r=this.eS().nh(),u=this.ov,s={Uf:this.rS(),xf:n,Pf:r,bf:t,ov:u,ev:Ov.POST,rv:0,Gr:e,pr:Nv.zf,uv:i};return new xv(s)},i.uS=function(t,n){return j.resolve(t)},i.sS=function(t,n,i,e){return j.resolve(t)},i.eS=function(){return new na(this.jT.headers||{})},i.iS=function(t,i,e){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new bg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,j)},i.rS=function(t,n){var i=n,e=this.jT.queryParameters;if(!i){var r=this.JT();if(!r)return"";i=r}if(e||t){var u=st.$e(i);t&&Mv(u,t),e&&Mv(u,e),i=u.href}return i},i.oS=function(t,n){return S_(t)},i.cS=function(t){return new y(t)},i.aS=function(t,n,i){var e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,wr.awrap(this.oS(t,i));case 2:return e=s.sent,s.next=5,wr.awrap(this.tS(e,this.XT,n,i));case 5:return r=s.sent,u=this.cS(r),s.abrupt("return",u);case 8:case"end":return s.stop()}},null,this,null,j)},i.et=function(){},ht(t,[{key:"kd",get:function(){return this.gT}},{key:"hS",get:function(){return!1}},{key:"fS",get:function(){var t=this.jT.certificate;if(t)return xt(t)?Xu(t):Ms(t)}},{key:"vS",get:function(){return!1}},{key:"ov",get:function(){return Boolean(this.jT.useCredentials)}}]),t}();function S_(t){return j.resolve(Us(t).buffer)}var E_,R_,I_=function(t){function n(n,i,e,r){return t.call(this,Vr,n,i,e,r)||this}vt(n,t);var i=n.prototype;return i.GT=function(t){return t.widevine||{}},i.dS=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.fS){i.next=2;break}return i.abrupt("return",this.fS);case 2:return i.abrupt("return",this.lS(new y(t),n));case 3:case"end":return i.stop()}},null,this,null,j)},i.lS=function(n,i){return t.prototype.aS.call(this,n,Cv.Gf,i)},n}(T_);function D_(t,n){if(null==t)return{};var i,e,r={},u=v.keys(t);for(e=0;e<u.length;e++)i=u[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function O_(t){return Dt(t.token&&t.deviceId)}function N_(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&Dt(i.PreAuthorization)}function C_(t){var n=t;return O_(n)&&""!==n.token&&""!==n.deviceId&&!N_(n)}(R_=E_||(E_={})).wS=!1,R_.gS=!1,R_.yS=!1,R_.mS=!1,R_.LOG_ADS_DETAILS=!1,R_.LOG_CHROMECAST_DETAILS=!1,R_.LOG_CUSTOM_DRM=!1,R_.LOG_BUFFERING_VIDEO_MAIN=!1,R_.LOG_BUFFERING_VIDEO_SELECTION=!1,R_.LOG_BUFFERING_AUDIO_MAIN=!1,R_.LOG_BUFFERING_AUDIO_SELECTION=!1,R_._S=!1,R_.pS=!1,R_.LOG_LCEVC_DETAILS=!1;var A_,P_=function(){function t(t,n,i){this.bS=t,this.ec=n,this.kS=i}return t.prototype.TS=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new f("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new f("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new f("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new f("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new f("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.kS.build(t))},ht(t,[{key:"SS",get:function(){return this.bS}},{key:"yc",get:function(){return this.ec}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(A_||(A_={}));var x_=function(){function t(){this.ES=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,e){switch(this.RS(t,i,e)){case A_.FAILED:throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case A_.OVERRIDDEN:var r=Q_(i);st.Ce("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case A_.SUCCEEDED:Q_(i);0}},i.RS=function(t,n,i){var e=Q_(n);if(!e)return A_.FAILED;for(var r=A_.SUCCEEDED,u=0,s=this.ES.slice();u<s.length;u++){var o=s[u];o.SS===t&&o.yc===e&&(r=A_.OVERRIDDEN,au(this.ES,o))}return this.ES.push(new P_(t,e,i)),r},i.IS=function(t,n){return void 0!==this.DS(t,n)},i.OS=function(t,n,i){var e=this.DS(t,n);if(!e)throw h("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.TS(i)},i.DS=function(t,n){for(var i=0,e=this.ES;i<e.length;i++){var r=e[i];if(r.SS===t&&(!n||r.yc===n))return r}},t}();x_.NS=new x_;var L_=["customdata"],B_={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function M_(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,u=t.useCredentials,s=t.queryParameters;return!(n||i||e||r||u||s)}function F_(t){return t&&void 0!==t.licenseAcquisitionURL}var U_,V_=F_,H_=F_;function q_(t){if(!t)return!0;if($_(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,u=t.aes128;return M_(n)&&M_(i)&&M_(e)&&M_(r)&&M_(u)}function W_(t){var n=C_(t),i=function(t){var n,i=t;return N_(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!O_(i)}(t);return(!n||!i)&&(n||i)}function z_(t){return t.integration===h_}function j_(t){var n=t;if(!n)return!1;if(q_(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,u=n.clearkey;if($_(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!V_(e))return!1;if(r&&!H_(r))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(x_.NS.IS(n.integration))return!0;switch(n.integration){case o_:if(!function(t){return t.integration===o_&&(X_(t)||G_(t))}(t))return!1;break;case f_:if(!Y_(t))return!1;break;case v_:if(!function(t){return t.integration===v_}(t))return!1;break;case h_:if(!z_(t))return!1;break;case c_:if(!W_(t))return!1;break;case a_:if(!function(t){return t.integration===a_}(t))return!1;break;case d_:if(!$_(t))return!1;break;case l_:if(!function(t){var n=t;return n.integration===l_&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case w_:if(!function(t){return t.integration===w_}(t))return!1;break;case y_:if(!K_(t))return!1;break;case m_:if(!function(t){return t.integration===m_}(t))return!1;break;case __:if(!J_(t))return!1;break;case g_:if(!function(t){var n=t;return n.integration===g_&&void 0!==n.token}(t))return!1;break;case p_:if(!function(t){return t.integration===p_}(t))return!1;break;case b_:if(!function(t){var n=t;return n&&Dt(n.releasePid)&&Dt(n.accountId)&&Dt(n.token)}(t))return!1;break;case k_:return!0;default:return!1}}return!0}function $_(t){return t.integration===d_}function X_(t){return void 0!==t.authToken}function G_(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Y_(t){var n=t;return n.integration===f_&&void 0!==n.token}function K_(t){var n=t;return n&&n.integration===y_&&xt(n.ticketAcquisitionURL)&&xt(n.streamId)}function J_(t){var n=t;return n.integration===__&&void 0!==n.token}function Z_(t,n){var i,e,r,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:B_[t],o=null!=(e=null==u?void 0:u.customdata)?e:n.customdata,c=o?{customData:o}:{},a=gr({},null!=(r=null==u?void 0:u.headers)?r:{},c),h=null!=u?u:{};return h.customdata,gr({},D_(h,L_),{licenseAcquisitionURL:s,headers:a})}function Q_(t){switch(t.toLowerCase()){case"widevine":case Pr:return Pr;case"playready":case Nr:return Nr;case"fairplay":case Mr:return Mr}}function tp(t,i){switch(t){case Rr:return function(t){for(var n={},i=um.Pp(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.xk]=r.Mk}return n}(i);case Ir:case Dr:return function(t){var n;return(n={})[Br]=t,n}(i);default:throw new Pc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.gr="Widevine",t.wr="PlayreadyV2",t.CS="PlayreadyV2",t.AS="PlayreadyV3",t.mr="Fairplay"}(U_||(U_={}));var np={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function ip(t,n){var i,e,r,u,s=np[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=st.Ge)?void 0:i.Ye,OSVersion:null==(e=st.Ge)?void 0:e.nr,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(r=st.Ge)?void 0:r.ir,DeviceModel:null==(u=st.Ge)?void 0:u.er}}}function ep(t,i){if(!t.accountName)throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function rp(t,n,i){var e;if(X_(t))e={AuthToken:t.authToken,Payload:n};else{if(!G_(t))throw ep(t,i);e={LatensRegistration:ip(t,i),Payload:n}}return is(JSON.stringify(e))}function up(t,i,e){var r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=t.kv){c.next=3;break}throw new bg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return u=r,c.prev=4,c.next=7,wr.awrap(u.wf(e));case 7:s=c.sent,o=sp(s),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(4),o="";case 14:throw new bg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,u.Mf.Uf,u.Af,u.Lf,o);case 15:case"end":return c.stop()}},null,null,[[4,11]],j)}function sp(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var op=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,ta.Qa)||this).PS=void 0,r}vt(i,t),i.xS=function(){return st.Ye.we?"required":"optional"};var e=i.prototype;return e.iS=function(t,n,i){return up(t,n,i)},e.ZT=function(t){return this.PS?bu(this.PS.Lu,t):(this.PS=new qs,j.resolve())},e.oS=function(t,i){var e,r;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.WT){i.next=3;break}throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=Yu(t),i.abrupt("return",rp(e,r,U_.gr));case 5:case"end":return i.stop()}},null,this,null,j)},e.cS=function(t){if(!t.license)throw new bg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Xu(t.license)},e.LS=function(t){return j.resolve(new y(t))},e.dS=function(t,n){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.BS(),r.next=3,wr.awrap(this.oS(t,n));case 3:return i=r.sent,r.next=6,wr.awrap(this.tS(i,ta.Za,Cv.Yf,n));case 6:return e=r.sent,r.next=9,wr.awrap(this.LS(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,j)},e.lS=function(n,i){var e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,wr.awrap(t.prototype.lS.call(this,n,i));case 2:return e=r.sent,this.BS(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,j)},e.BS=function(){this.PS||(this.PS=new qs),this.PS.Fu()},e.et=function(){this.PS&&this.PS.jr(),t.prototype.et.call(this)},i}(I_),cp=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,ta.Za)||this).KT("https://widevine-proxy.drm.technology/proxy"),r}return vt(i,t),i.prototype.oS=function(t,i){var e,r,u,s;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(S_(t));case 2:if(e=i.sent,r=this.zT,u=Vs(new y(e)),s=this.MS){i.next=8;break}throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:s,drm_info:u,kid:r}));case 9:case"end":return i.stop()}},null,this,null,j)},ht(i,[{key:"MS",get:function(){if(Y_(this.WT))return this.WT.token}}]),i}(I_);function ap(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=gr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),gr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var hp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,ta.Za)||this).KT("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return vt(n,t),n.prototype.rS=function(n,i){var e=n;return z_(this.WT)&&(e=ap(this.WT,e)),t.prototype.rS.call(this,e,i)},n}(I_),fp="Conax-Custom-Data";function vp(t,n,i){var e=t&&W_(t)&&t;if(e&&!i.has(fp)){var r=C_(e)?e.token:void 0,u=C_(e)?e.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(fp,s)}return i}var dp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,ta.Za)||this).KT("https://connect.conax.com:8094/license"),r}return vt(n,t),n.prototype.eS=function(){var n=t.prototype.eS.call(this);return vp(this.WT,"Widevine",n)},n}(I_);function lp(t){var n=Rs(new y(t));return Xu(JSON.parse(n).license)}function wp(t){return"string"==typeof t.token?t.token:is(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function gp(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var yp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,ta.Za)||this).KT("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}vt(n,t);var i=n.prototype;return i.cS=function(t){return lp(t)},i.eS=function(){return gp(t.prototype.eS.call(this),this.MS,this.WT)},ht(n,[{key:"MS",get:function(){return wp(this.WT)}}]),n}(I_),mp=function(t){function n(n,i,e){return t.call(this,n,i,e,ta.Za)||this}return vt(n,t),n.prototype.eS=function(){var n=t.prototype.eS.call(this),i=this.WT.token;return n.set("Authorization","Bearer "+i),n},n}(I_);function _p(t,i,e,r){var u,s,o,c,a,h,f;return wr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(K_(t)){v.next=2;break}throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(u=new na).append("Cache-Control","no-cache"),u.append("Content-Type","application/json"),(s=t.sessionId)&&u.append("XSSESSION",s),o=t.streamId,c=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:i,licenseType:c,streamId:o},h={Uf:t.ticketAcquisitionURL,xf:ta.Qa,Pf:u,ev:Ov.POST,bf:JSON.stringify(a),Gr:r},v.next=13,wr.awrap(e.Mf(h));case 13:return f=v.sent,v.next=16,wr.awrap(f.wf());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,j)}var pp=function(t){function n(n,i,e){return t.call(this,n,i,e,ta.Qa)||this}vt(n,t);var i=n.prototype;return i.eS=function(){var n=t.prototype.eS.call(this);return n.set("Content-Type","application/json"),n},i.oS=function(n,i){var e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=ns(n.buffer),r=this.WT,o.next=4,wr.awrap(_p(r,"widevine_modular",this.kd,i));case 4:return u=o.sent,this.KT(u.licenseServerUrl),s=Is(JSON.stringify({payload:e,ticket:u.ticket})),o.abrupt("return",t.prototype.oS.call(this,s,i));case 8:case"end":return o.stop()}},null,this,null,j)},i.cS=function(t){return Xu(t.license)},n}(I_),bp=function(t){function i(n,i,e){return t.call(this,n,i,e,ta.Za)||this}return vt(i,t),i.prototype.eS=function(){if(!J_(this.WT))throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.eS.call(this);return i.set("X-AxDRM-Message",this.WT.token),i},i}(I_);function kp(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var Tp=function(t){function n(n,i,e){var r;return(r=t.call(this,Ur,n,i,e,ta.Za)||this).FS=void 0,r}vt(n,t);var i=n.prototype;return i.GT=function(t){return t.playready||{}},i.eS=function(){var n=new na(this.FS);return n.eh(t.prototype.eS.call(this)),n},i.US=function(t){return t.length>=1&&t[0].bi.length>0},i.QT=function(n){var i=this.WT.playready.customData;if(i){var e=kp(i),r=kp('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Yu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return j.resolve({playready:{Hc:r}})}return t.prototype.QT.call(this,n)},i.oS=function(t,n){var i;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(S_(t));case 2:return i=n.sent,n.abrupt("return",this.VS(i));case 4:case"end":return n.stop()}},null,this,null,j)},i.VS=function(t){var n,i,e,r,u,s,o,c,a,h,f,v,d,l,w,g;return wr.async(function(y){for(;;)switch(y.prev=y.next){case 0:u=null,s=new DataView(t),m=s,_=new Hs,void 0===(p=!0)&&(p=!1),o=Ss(m,_,p,!0),y.prev=3,c=st.ai(o),y.next=10;break;case 7:return y.prev=7,y.t0=y.catch(3),y.abrupt("return",u);case 10:for(a=null==(n=c.pi("PlayReadyKeyMessage")[0])?void 0:n.pi("LicenseAcquisition")[0],h=null!=(i=null==a?void 0:a.pi("Challenge"))?i:[],this.US(h)&&(u=ts(h[0].xi)),f=new na,v=null!=(e=null==a?void 0:null==(r=a.pi("HttpHeaders")[0])?void 0:r.pi("HttpHeader"))?e:[],d=0;d<v.length;d++)l=v[d],w=l.pi("name")[0].xi,g=l.pi("value")[0].xi,f.append(w,g);return this.FS=f,y.abrupt("return",u);case 18:case"end":return y.stop()}var m,_,p},null,this,[[3,7]],j)},i.dS=function(t,n){return j.resolve(t)},i.lS=function(n,i){return t.prototype.aS.call(this,n,Cv.Kf,i)},n}(T_),Sp=function(){function t(n){this.Po=void 0,this.HS=n,this.Po=t.qS(n)}return t.qS=function(t){return"3"===t.version?U_.AS:U_.CS},t.prototype.WS=function(){var t={};if(this.Po===U_.AS){var n={LatensRegistration:ip(this.HS,U_.AS)};t["X-TITANIUM-DRM-CDATA"]=is(JSON.stringify(n))}return t},ht(t,[{key:"zS",get:function(){return this.Po}},{key:"Ic",get:function(){return this.Po===U_.CS}}]),t}();var Ep=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).jS=void 0,r.jS=new Sp(r.WT),r}vt(i,t);var e=i.prototype;return e.QT=function(t){var i=this.WT;if(!this.WT)throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(G_(i)){var e={};return e.playready={Hc:Rp(i,this.jS.zS)},j.resolve(e)}return j.reject(ep(i,U_.wr))},e.eS=function(){var n=new na(this.jS.WS());return n.eh(t.prototype.eS.call(this)),n},e.iS=function(t,i,e){var r,u,s,o,c,a,h,f;return wr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(r=t.kv){v.next=3;break}throw new bg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i);case 3:return v.prev=3,v.next=6,wr.awrap(r.mf(e));case 6:o=v.sent,c=Rs(new y(o)),(a=st.ai(c))&&(h=hm(a,"CustomData")).length>0&&(u=JSON.parse(h[0].xi),s=null==(f=u.DrmErr)?void 0:f.desc),v.next=14;break;case 12:v.prev=12,v.t0=v.catch(3);case 14:throw new bg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i,r.Af,r.Lf,s);case 15:case"end":return v.stop()}},null,null,[[3,12]],j)},e.US=function(t){if(1!==t.length)throw new bg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(Tp);function Rp(t,n){var i=ip(t,n),e=i.DeviceInfo.FormatVersion,r=is('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=Os(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Os('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Yu(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var Ip,Dp=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).KT("https://playready-license.drm.technology/rightsmanager.asmx"),r}vt(i,t);var e=i.prototype;return e.US=function(t){if(1!==t.length)throw new bg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.rS=function(n,i){var e=gr({},n||{},{token:this.MS});return t.prototype.rS.call(this,e,i)},ht(i,[{key:"MS",get:function(){if(Y_(this.WT))return this.WT.token}}]),i}(Tp),Op=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).KT("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return vt(n,t),n.prototype.rS=function(n,i){var e=n;return z_(this.WT)&&(e=ap(this.WT,e)),t.prototype.rS.call(this,e,i)},n}(Tp),Np=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).KT("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return vt(n,t),n.prototype.eS=function(){var n=t.prototype.eS.call(this);return vp(this.WT,"PlayReady",n)},n}(Tp),Cp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).KT("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}vt(n,t);var i=n.prototype;return i.cS=function(n){return(jr(Rs(new y(n)),"<?xml")?Ip.$S:Ip.wf)===Ip.wf?lp(n):t.prototype.cS.call(this,new y(n))},i.eS=function(){return gp(t.prototype.eS.call(this),this.MS,this.WT)},ht(n,[{key:"MS",get:function(){return wp(this.WT)}}]),n}(Tp);!function(t){t[t.$S=0]="$S",t[t.wf=1]="wf"}(Ip||(Ip={}));var Ap,Pp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).XS=void 0,r}vt(n,t);var i=n.prototype;return i.eS=function(){var n=t.prototype.eS.call(this);return this.XS&&n.set("Ticket",this.XS),n.set("Content-Type","text/xml"),n},i.oS=function(n,i){var e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return e=this.WT,u.next=3,wr.awrap(_p(e,"playready",this.kd,i));case 3:return r=u.sent,this.KT(r.licenseServerUrl),this.XS=r.ticket,u.abrupt("return",t.prototype.oS.call(this,n,i));case 7:case"end":return u.stop()}},null,this,null,j)},n}(Tp),xp=function(t){function i(){return t.apply(this,arguments)||this}return vt(i,t),i.prototype.eS=function(){if(!J_(this.WT))throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.eS.call(this);return i.set("X-AxDRM-Message",this.WT.token),i},i}(Tp);!function(t){t.Qa="application/json",t.GS="application/x-www-form-urlencoded",t.YS="application/octet-stream",t.si="text/plain;charset=UTF-8"}(Ap||(Ap={}));var Lp=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n.yc,i,e,r,u)||this).KS="",s.JS=void 0,s.ZS=void 0,s.ZS=n.QS,s}vt(n,t);var i=n.prototype;return i.tE=function(){return this.jT.certificateURL||this.JS},i.nE=function(t){this.JS=t},i.oS=function(t){return j.resolve(this.iE(t,this.KS))},i.iE=function(t,n){return"spc="+encodeURIComponent(Yu(t))+"&assetId="+encodeURIComponent(n)},i.GT=function(t){return t.fairplay||{}},i.eE=function(t){var n=t.indexOf("?");if(n>=0)return j.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return j.resolve(i)}var e=t.split("/");return j.resolve(e[e.length-1])},i.QT=function(t){var n,i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return i=null!=(n=this.ZS)?n:Cs(new y(t)),u.next=3,wr.awrap(this.eE(i));case 3:return e=u.sent,this.KS=e,(r={}).fairplay={Gc:e},u.abrupt("return",r);case 8:case"end":return u.stop()}},null,this,null,j)},i.eS=function(){var n=t.prototype.eS.call(this);return n.set("Content-Type",this.rE),n},i.dS=function(t,n){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.fS){t.next=2;break}return t.abrupt("return",this.fS);case 2:return t.next=4,wr.awrap(this.uE(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,j)},i.lS=function(n,i){return t.prototype.aS.call(this,n,Cv.$f,i)},i.sE=function(t){var n=this.tE(),i=this.eS(),e={Uf:n,xf:ta.Za,Pf:i,ev:Ov.GET,ov:!1,bf:null,rv:0,Gr:t,pr:Nv.zf,uv:Cv.Xf};return new xv(e)},i.uE=function(t){var n,i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.sE(t),r.next=3,wr.awrap(this.kd.Mf(n));case 3:return i=r.sent,r.next=6,wr.awrap(i.mf());case 6:return e=r.sent,r.abrupt("return",new y(e));case 8:case"end":return r.stop()}},null,this,null,j)},i.cS=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Xu(i)}else n=new y(t);return n},i.rS=function(n,i){var e=t.prototype.rS.call(this,n,i);return jr(e,"skd:")&&(e=e.substr("skd:".length)),e},ht(n,[{key:"vS",get:function(){return!0}},{key:"rE",get:function(){return Ap.GS}}]),n}(T_),Bp=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,ta.Za)||this}vt(n,t);var i=n.prototype;return i.eE=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return j.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return j.resolve(i)},i.oS=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.cS=function(t){return new y(t)},i.rS=function(n,i){var e=n||{};return e.p1=Rn(),t.prototype.rS.call(this,e,i)},ht(n,[{key:"rE",get:function(){return Ap.YS}}]),n}(Lp),Mp=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,ta.Za)||this).KT("https://fairplay-license.drm.technology/license"),u.nE("https://fairplay-license.drm.technology/certificate"),u}vt(i,t);var e=i.prototype;return e.iE=function(t,n){var i={token:this.MS,contentId:n,payload:Yu(t)};return JSON.stringify(i)},e.cS=function(t){return new y(t)},e.eS=function(){var n=t.prototype.eS.call(this);return n.set("x-vudrm-token",this.MS),n},ht(i,[{key:"rE",get:function(){return Ap.Qa}},{key:"MS",get:function(){if(!Y_(this.WT))throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.WT.token}}]),i}(Lp),Fp="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",Up="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",Vp=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,ta.Za)||this}return vt(i,t),i.prototype.cS=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new bg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,Fp)}if(!i)throw new bg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,Up);return i}(Rs(new DataView(i)));return t.prototype.cS.call(this,e)},i}(Lp);var Hp=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,ta.Qa)||this}vt(i,t);var e=i.prototype;return e.oS=function(t){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.WT){r.next=3;break}throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Yu(t),r.abrupt("return",rp(i,e,U_.mr));case 5:case"end":return r.stop()}},null,this,null,j)},e.cS=function(t){try{var i;if(xt(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=ts(i.license);return new y(r)}throw new bg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new bg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.iS=function(t,n,i){return up(t,n,i)},ht(i,[{key:"rE",get:function(){return Ap.Qa}}]),i}(Lp),qp=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,ta.Za)||this).KT("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.nE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}vt(n,t);var i=n.prototype;return i.tE=function(){var n=t.prototype.tE.call(this);if(!n)return n;var i=st.$e(n),e=this.WT;return z_(e)&&Mv(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href},i.eE=function(n){return z_(this.WT)?j.resolve(this.WT.contentId):t.prototype.eE.call(this,n)},i.oS=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.cS=function(t){return new y(t)},i.rS=function(n,i){var e=n;return z_(this.WT)&&(e=function(t,n){return gr({},ap(t,n),{KeyId:t.keyId})}(this.WT,e)),t.prototype.rS.call(this,e,i)},ht(n,[{key:"rE",get:function(){return Ap.YS}}]),n}(Lp),Wp=function(t){function i(i,e,r,u){var s;if(s=t.call(this,i,e,r,u,ta.si)||this,!W_(e))throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.KT("https://connect.conax.com:8097/license"),s}vt(i,t);var e=i.prototype;return e.eS=function(){var n=t.prototype.eS.call(this);return vp(this.WT,"FairPlay",n)},e.uE=function(t){var n,i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.tE(),i={Uf:n,xf:ta.Za,Pf:{},ev:Ov.GET,ov:!1,bf:null,rv:0,Gr:t,pr:Nv.zf,uv:Cv.Xf},u.next=4,wr.awrap(this.kd.Mf(i));case 4:return e=u.sent,u.next=7,wr.awrap(e.mf());case 7:return r=u.sent,u.abrupt("return",new y(r));case 9:case"end":return u.stop()}},null,this,null,j)},e.oS=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},e.eE=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),j.resolve(Rs(Xu(n)))):j.resolve("unknown")},e.cS=function(t){try{var n=JSON.parse(t);return new y(ts(n.CkcMessage))}catch(t){throw new h("CFLRW-66")}},i}(Lp),zp=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,ta.si)||this).KT(B_[Er.mr]),u}vt(i,t);var e=i.prototype;return e.eE=function(t){return jr(t,"skd://")?j.resolve(t.substring("skd://".length,40)):j.reject(new bg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.iE=function(t,n){return"spc="+Yu(t)+"&assetId="+n},i}(Lp),jp=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,ta.si)||this).KT("https://lic.drmtoday.com/license-server-fairplay/"),u}vt(n,t);var i=n.prototype;return i.iE=function(t,n){var i="spc="+encodeURIComponent(Yu(t))+"&"+encodeURI(n);return"persistent"===this.jT.licenseType?i+"&offline=true":i},i.eS=function(){return gp(t.prototype.eS.call(this),this.MS,this.WT)},ht(n,[{key:"MS",get:function(){return wp(this.WT)}}]),n}(Lp),$p=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,ta.Za)||this}vt(n,t);var i=n.prototype;return i.eE=function(t){var n=t;return jr(n,"skd:")&&(n="http:"+n.substring(4)),jr(n,"http:")||jr(n,"https:")?j.resolve(st.$e(n).hostname):j.reject(new h("Could not parse ExpressPlay FairPlay content ID."))},i.oS=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.cS=function(t){return new y(t)},ht(n,[{key:"rE",get:function(){return Ap.YS}}]),n}(Lp),Xp=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,ta.si)||this}return vt(n,t),n.prototype.eS=function(){var n=t.prototype.eS.call(this),i=this.WT.token;return n.set("Authorization","Bearer "+i),n},n}(Lp),Gp=function(t){function n(n,i,e,r){var u;if(u=t.call(this,n,i,e,r,ta.Qa)||this,!K_(i))throw new h("Invalid Xstream DRM configuration");return u}vt(n,t);var i=n.prototype;return i.uE=function(t){var n,i,e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.tE(),i=this.eS(),e={Uf:n,xf:ta.Qa,Pf:i,ev:Ov.POST,Gr:t,pr:Nv.zf,uv:Cv.Xf},s.next=5,wr.awrap(this.kd.Mf(e));case 5:return r=s.sent,s.next=8,wr.awrap(r.wf());case 8:return u=s.sent,s.abrupt("return",new y(Xu(u.certificate)));case 10:case"end":return s.stop()}},null,this,null,j)},i.lS=function(t,n,i){var e,r,u,s,o,c,a;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=Yu(t),r=this.WT,i.next=5,wr.awrap(_p(r,"fairplay",this.kd,n));case 5:return u=i.sent,s=Is(JSON.stringify({spc:e,ticket:u.ticket})),o={Uf:this.JT(),xf:ta.Qa,Pf:this.eS(),ev:Ov.POST,bf:s,rv:0,Gr:n,pr:Nv.zf,uv:Cv.$f},i.next=10,wr.awrap(this.kd.Mf(o));case 10:return c=i.sent,i.next=13,wr.awrap(c.wf());case 13:return a=i.sent,i.abrupt("return",Xu(a.licence));case 15:case"end":return i.stop()}},null,this,null,j)},ht(n,[{key:"rE",get:function(){return Ap.Qa}}]),n}(Lp),Yp=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,ta.si)||this}vt(i,t);var e=i.prototype;return e.iE=function(t,n){return Yu(t)},e.cS=function(i){if(0===i.length)throw new bg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.cS.call(this,i)},e.eS=function(){var n=t.prototype.eS.call(this);return n.set("Content-Type","text/plain"),n},i}(Lp),Kp=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,ta.Za)||this}vt(i,t);var e=i.prototype;return e.iE=function(t,n){return t},e.cS=function(t){return new y(t)},e.eS=function(){if(!J_(this.WT))throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.eS.call(this);return i.set("X-AxDRM-Message",this.WT.token),i},ht(i,[{key:"rE",get:function(){return Ap.Qa}}]),i}(Lp),Jp=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,ta.Qa)||this).oE=void 0,u}vt(i,t);var e=i.prototype;return e.iE=function(t,n){var i={spc:Yu(t)};return JSON.stringify(i)},e.eE=function(t){var i=st.$e(t);return this.oE=t,i.searchParams.has("b")?j.resolve(i.searchParams.get("b")):j.reject(new bg(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.rS=function(n,i){var e=this.JT();return!e&&this.oE&&(e=this.oE),e&&(e=e.replace("skd://","https://")),t.prototype.rS.call(this,n,i||e)},e.cS=function(t){try{var i;if((i=xt(t)?JSON.parse(t.trim()):t).ckc)return Xu(i.ckc)}catch(t){throw new bg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new bg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},ht(i,[{key:"rE",get:function(){return Ap.si}}]),i}(Lp),Zp=function(){function t(t,n){this.cE=t,this.aE=n}var n=t.prototype;return n.hE=function(t){return this.cE(t)},n.fE=function(t,n){throw new f(n+" must be "+this.aE+". (Received: "+t+")")},t}();new Zp(function(t){return!0},"any");var Qp=new Zp(Mt,"a number"),tb=new Zp(xt,"a string"),nb=new Zp(Lt,"a boolean");new Zp(function(t){return"[object Date]"===It.call(t)},"a date"),new Zp(Ot,"undefined"),new Zp(At,"an object"),new Zp(function(t){return null===t},"null"),new Zp(function(t){return null==t},"null or undefined");var ib,eb=(ib={responseCode:Qp,isException:nb,description:tb,title:tb,correlationId:tb},{hE:function(t){if(!At(t))return!1;for(var n=0,i=v.keys(ib);n<i.length;n++){var e=i[n];if(!ib[e].hE(t[e]))return!1}return!0},fE:function(t,n){if(!At(t))throw new f(n+" must be an object.");for(var i=0,e=v.keys(ib);i<e.length;i++){var r=e[i],u=ib[r];if(!u.hE(t[r]))return u.fE(t[r],n+"."+String(r))}throw new f}});function rb(t,n,i,e,r){var u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return u=ub(t,n,i,r),s.next=3,wr.awrap(sb(u,e));case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},null,null,null,j)}function ub(t,n,i,e){var r={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=st.$e(t);return Mv(i,n),i.toString()}(i,r)),s=new na({});s.append("Content-Type","application/json");var o=Yu(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{Uf:u,xf:ta.si,Pf:s,ev:Ov.POST,bf:JSON.stringify(c),Gr:e,pr:Nv.zf,uv:Cv.$f}}function sb(t,i){var e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,wr.awrap(i.Mf(t));case 2:return e=u.sent,u.next=5,wr.awrap(e.wf());case 5:if(r=u.sent,!eb.hE(r)){u.next=8;break}throw new bg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.Uf,r.responseCode);case 8:return u.abrupt("return",Xu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return u.stop()}},null,null,null,j)}var ob=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,ta.Za)||this).vE=void 0,u.vE=i,u}vt(n,t);var i=n.prototype;return i.eE=function(n){var i=n.replace("FairPlay",this.vE.releasePid);return t.prototype.eE.call(this,i)},i.lS=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(rb(t,this.vE,this.JT(),this.kd,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,j)},n}(Lp),cb=function(t){function i(n,i,e){return t.call(this,qr,n,i,e,ta.Za)||this}vt(i,t);var e=i.prototype;return e.GT=function(t){return t.clearkey||{}},e.tS=function(i,e,r,u){var s,o;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this.jT,!this.JT()){e.next=5;break}return e.abrupt("return",t.prototype.tS.call(this,i,this.XT,r,u));case 5:if(!s.keys||!s.keys.length){e.next=10;break}return o={keys:s.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Is(JSON.stringify(o)).buffer);case 10:throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,j)},e.dS=function(t,n){return j.resolve(new y(0))},e.lS=function(n,i){return t.prototype.aS.call(this,n,Cv.Jf,i)},i}(T_),ab=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(I_),hb={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function fb(t,n,i){var e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=pb(n),(r=t.onCertificateRequest)&&"function"==typeof r){s.next=5;break}return s.abrupt("return",j.resolve(n));case 5:return s.next=8,wr.awrap(bu(j.resolve(r.call(t,e)),i));case 8:if(!Bs(u=s.sent)){s.next=11;break}return s.abrupt("return",Ms(u));case 11:return s.abrupt("return",_b(gr({},hb,u)));case 12:case"end":return s.stop()}},null,null,null,j)}function vb(t,n,i,e,r){var u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=t.onCertificateResponse,s=mb(n,i,e),u&&"function"==typeof u){c.next=5;break}return c.abrupt("return",j.resolve(n));case 5:return c.next=8,wr.awrap(bu(j.resolve(u.call(t,s)),r));case 8:return o=c.sent,c.abrupt("return",Ms(o));case 10:case"end":return c.stop()}},null,null,null,j)}function db(t,n,i,e){var r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,wr.awrap(wb(t,n,i,e));case 2:if(!((r=u.sent)instanceof ArrayBuffer)){u.next=5;break}return u.abrupt("return",r);case 5:return u.abrupt("return",_b(r));case 6:case"end":return u.stop()}},null,null,null,j)}function lb(t,n,i,e,r,u){var s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return s=yb(i,r),c.next=3,wr.awrap(gb(t,new y(n),s,e,u));case 3:return o=c.sent,c.abrupt("return",Ms(o).buffer);case 5:case"end":return c.stop()}},null,null,null,j)}function wb(t,n,i,e){var r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,u=yb(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",j.resolve(u));case 5:return o.next=8,wr.awrap(bu(j.resolve(r.call(t,u)),e));case 8:if(!Bs(s=o.sent)){o.next=11;break}return o.abrupt("return",Ms(s).buffer);case 11:return o.abrupt("return",gr({fairplaySkdUrl:void 0},hb,s));case 12:case"end":return o.stop()}},null,null,null,j)}function gb(t,n,i,e,r){var u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=null==t?void 0:t.onLicenseResponse,s=mb(n,i,e),u&&"function"==typeof u){c.next=5;break}return c.abrupt("return",j.resolve(n));case 5:return c.next=8,wr.awrap(bu(j.resolve(u.call(t,s)),r));case 8:return o=c.sent,c.abrupt("return",Ms(o));case 10:case"end":return c.stop()}},null,null,null,j)}function yb(t,n){return gr({},pb(t),{fairplaySkdUrl:n})}function mb(t,n,i){return{url:i.Ff,status:i.Af,statusText:i.Lf,headers:i.Pf.nh(),body:t,request:n}}function _b(t){return new xv({Uf:t.url,ev:t.method,Pf:t.headers,bf:t.body,ov:t.useCredentials})}function pb(t){var n;return{url:t.Uf,body:null!=(n=bb(t.bf))?n:null,headers:t.Pf.nh(),method:t.ev,useCredentials:t.ov}}function bb(t){if(t)return"string"==typeof t?As(t):t instanceof ArrayBuffer?new y(t):Ju(t)?Ls(t):void 0}var kb,Tb=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e)||this).dE=void 0,u.dE=r,u}vt(i,t);var e=i.prototype;return e.dS=function(t,n){return j.resolve(t)},e.lS=function(t,i){var e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,wr.awrap(this.VS(Us(t).buffer));case 2:return e=c.sent,r=this.nS(e,ta.Za,Cv.Kf,i),c.next=6,wr.awrap(db(this.dE,r,void 0,i));case 6:if(!((u=c.sent)instanceof ArrayBuffer)){c.next=10;break}return c.abrupt("return",new y(u));case 10:if(""!==u.Uf){c.next=12;break}throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return c.prev=12,c.next=15,wr.awrap(this.kd.Mf(u));case 15:return s=c.sent,c.next=18,wr.awrap(s.mf(i));case 18:return o=c.sent,c.t0=y,c.next=22,wr.awrap(lb(this.dE,o,r,s,void 0,i));case 22:return c.t1=c.sent,c.abrupt("return",new c.t0(c.t1));case 26:throw c.prev=26,c.t2=c.catch(12),_u(c.t2),new bg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",c.t2);case 30:case"end":return c.stop()}},null,this,[[12,26]],j)},i}(Tp),Sb=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,ta.Za)||this).dE=void 0,u.dE=r,u}vt(i,t);var e=i.prototype;return e.dS=function(t,i){var e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.fS){c.next=2;break}return c.abrupt("return",this.fS);case 2:return e=this.nS(t,ta.Za,Cv.Yf,i),c.next=5,wr.awrap(fb(this.dE,e,i));case 5:if(!((r=c.sent)instanceof y)){c.next=9;break}return c.abrupt("return",r);case 9:if(""!==r.Uf){c.next=11;break}throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return c.prev=11,c.next=14,wr.awrap(this.kd.Mf(r));case 14:return u=c.sent,c.next=17,wr.awrap(u.mf(i));case 17:s=c.sent,c.next=24;break;case 20:throw c.prev=20,c.t0=c.catch(11),_u(c.t0),new bg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",c.t0);case 24:return o=yb(e,void 0),c.next=27,wr.awrap(vb(this.dE,new y(s),o,u,i));case 27:return c.abrupt("return",c.sent);case 28:case"end":return c.stop()}},null,this,[[11,20]],j)},e.lS=function(t,i){var e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.nS(t,ta.Za,Cv.Gf,i),o.next=3,wr.awrap(db(this.dE,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Uf){o.next=9;break}throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,wr.awrap(this.kd.Mf(r));case 12:return u=o.sent,o.next=15,wr.awrap(u.mf(i));case 15:s=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),_u(o.t0),new bg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=y,o.next=25,wr.awrap(lb(this.dE,s,e,u,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],j)},i}(ab),Eb=function(t){function i(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,ta.Za)||this).dE=void 0,s.lE=void 0,s.dE=u,s}vt(i,t);var e=i.prototype;return e.dS=function(t,i){var e,r,u,s,o;return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.fS){t.next=2;break}return t.abrupt("return",this.fS);case 2:return e=this.sE(i),t.next=5,wr.awrap(fb(this.dE,e,i));case 5:if(r=t.sent,!Ju(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,wr.awrap(this.kd.Mf(r));case 11:return u=t.sent,t.next=14,wr.awrap(u.mf());case 14:return s=t.sent,o=yb(e,void 0),t.next=18,wr.awrap(vb(this.dE,new y(s),o,u,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),_u(t.t0),new bg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],j)},e.lS=function(t,i){var e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.nS(t,ta.Za,Cv.$f,i),o.next=3,wr.awrap(db(this.dE,e,this.lE,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Uf){o.next=9;break}throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,wr.awrap(this.kd.Mf(r));case 12:return u=o.sent,o.next=15,wr.awrap(u.mf(i));case 15:return s=o.sent,o.t0=y,o.next=19,wr.awrap(lb(this.dE,s,e,u,this.lE,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),_u(o.t2),new bg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],j)},e.eE=function(n){var i;return this.lE=n,null!=(i=this.dE)&&i.extractFairplayContentId?j.resolve(this.dE.extractFairplayContentId(n)):t.prototype.eE.call(this,n)},i}(Lp),Rb=function(){function t(){}var n=t.prototype;return n.wE=function(t,n,i,e){switch(t.yc.pr){case Er.gr:return this.gE(n,i,e);case Er.wr:return this.yE(n,i,e);case Er.mr:return this.mE(t,n,i,e);case Er.yr:default:return this._E(n,i,e)}},n.gE=function(t,n,i){var e,r=(e=t).integration===k_&&xt(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&x_.NS.IS(r,Pr)){var u=x_.NS.OS(r,Pr,t);return new Sb(t,n,i,u)}switch(r){case o_:return new op(t,n,i);case f_:return new cp(t,n,i);case h_:return new hp(t,n,i);case c_:return new dp(t,n,i);case l_:return new yp(t,n,i);case g_:return new mp(t,n,i);case y_:return new pp(t,n,i);case __:return new bp(t,n,i);case d_:default:return new ab(t,n,i,ta.Za)}},n.yE=function(t,n,i){var e=t.integration;if(e&&x_.NS.IS(e,Nr)){var r=x_.NS.OS(e,Nr,t);return new Tb(t,n,i,r)}switch(e){case o_:return new Ep(t,n,i);case f_:return new Dp(t,n,i);case h_:return new Op(t,n,i);case c_:return new Np(t,n,i);case l_:return new Cp(t,n,i);case y_:return new Pp(t,n,i);case __:return new xp(t,n,i);case d_:default:return new Tp(t,n,i)}},n.mE=function(t,n,i,e){var r=n.integration;if(r&&x_.NS.IS(r,Mr)){var u=x_.NS.OS(r,Mr,n);return new Eb(t,n,i,e,u)}switch(r){case a_:return new Bp(t,n,i,e);case f_:return new Mp(t,n,i,e);case v_:return new Vp(t,n,i,e);case o_:return new Hp(t,n,i,e);case h_:return new qp(t,n,i,e);case c_:return new Wp(t,n,i,e);case d_:return new zp(t,n,i,e);case l_:return new jp(t,n,i,e);case w_:return new $p(t,n,i,e);case g_:return new Xp(t,n,i,e);case y_:return new Gp(t,n,i,e);case m_:return new Yp(t,n,i,e);case __:return new Kp(t,n,i,e);case p_:return new Jp(t,n,i,e);case b_:return new ob(t,n,i,e);default:return new Lp(t,n,i,e,ta.si)}},n._E=function(t,n,i){return new cb(t,n,i)},n.pE=function(t){return t.pr===Er.wr||t.pr===Er.gr||t.pr===Er.mr||t.pr===Er.yr},n.Ic=function(t,n){var i;if(t.pr!==Er.wr)return!1;if(Dt(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!x_.NS.IS(e,Mr))&&(e===o_&&new Sp(n).Ic)},n.xS=function(t,n){if(t.pr===Er.gr){var i=n.integration;if(!i||!x_.NS.IS(i,Mr))return i===o_?op.xS():void 0}},t}();!function(t){t[t.bE=0]="bE",t[t.kE=1]="kE",t[t.TE=2]="TE",t[t.SE=3]="SE",t[t.EE=4]="EE",t[t.Kl=5]="Kl",t[t.RE=6]="RE",t[t.IE=7]="IE",t[t.iw=8]="iw",t[t.DE=9]="DE",t[t.OE=10]="OE"}(kb||(kb={}));var Ib=function(){function t(){}return t.prototype.NE=function(t){},ht(t,[{key:"CE",get:function(){return 0}},{key:"AE",get:function(){return 0}}]),t}(),Db=function(){function t(t,n){void 0===n&&(n=new Rb),this.gT=void 0,this.PE=void 0,this.HS=void 0,this.gT=t,this.PE=n}var n=t.prototype;return n.xE=function(t){this.HS=t},n.xS=function(t){var n=this.HS;if(void 0!==n)return this.PE.xS(t,n)},n.Ic=function(t){var n=this.HS;return void 0!==n&&this.PE.Ic(t,n)},n.LE=function(t){var n={yc:t.yc,BE:t.BE||[],QS:t.QS},i=this.PE.wE(n,this.HS||{},t.zT,this.gT);return new Ob(i)},t}(),Ob=function(){function t(t){this.ME=void 0,this.ME=t}var n=t.prototype;return n.ZT=function(t){return this.ME.ZT(t)},n.QT=function(t,n,i){return this.ME.QT(n,i)},n.vS=function(){return this.ME.vS||void 0!==this.ME.fS},n.dS=function(t,n){return this.ME.dS(t,n)},n.lS=function(t,n,i){return n&&this.ME.KT(n),this.ME.lS(t,i)},n.Ur=function(){this.ME.et()},t}(),Nb=function(t){function n(n){var i;(i=t.call(this)||this).FE=[],i.UE=function(t){i.tl(t.Nd)},i.VE=function(t){var n=t.Nd;i.HE(n)||i.nl(n)};for(var e=0;e<n.length;e++){var r=n[e];i.qE(r)}return i}vt(n,t);var i=n.prototype;return i.qE=function(t){this.FE.push(t);for(var n=0,i=t.sl;n<i.length;n++){var e=i[n];this.tl(e)}this.WE(t)},i.zE=function(t){au(this.FE,t),this.jE(t);for(var n=0,i=t.sl;n<i.length;n++){var e=i[n];this.HE(e)||this.nl(e)}},i.HE=function(t){for(var n=0,i=this.FE;n<i.length;n++){if(i[n].il(t))return!0}return!1},i.WE=function(t){t.tu(pl.Td,this.UE),t.tu(pl.Ed,this.VE)},i.jE=function(t){t.ru(pl.Td,this.UE),t.ru(pl.Ed,this.VE)},i.et=function(){for(;this.FE.length>0;)this.zE(this.FE[0]);t.prototype.et.call(this)},i.Od=function(){return ow(this)},n}(Al);function Cb(t){return{get enabled(){return t.gl},set enabled(n){t.gl=Wl(n)},get currentLatency(){return t.xw},get streamConfiguration(){if(void 0!==t.$E)return function(t){return{get minimumOffset(){return t.Ew},get maximumOffset(){return t.Iw},get targetOffset(){return t.Rw},get forceSeekOffset(){return t.Dw},get minimumPlaybackRate(){return t.Ow},get maximumPlaybackRate(){return t.Nw}}}(t.$E)},get configuration(){return function(t){return{get minimumOffset(){return t.Ew},set minimumOffset(n){t.Ew=zl(n)},get maximumOffset(){return t.Iw},set maximumOffset(n){t.Iw=zl(n)},get targetOffset(){return t.Rw},set targetOffset(n){t.Rw=zl(n)},get forceSeekOffset(){return t.Dw},set forceSeekOffset(n){t.Dw=zl(n)},get minimumPlaybackRate(){return t.Ow},set minimumPlaybackRate(n){t.Ow=zl(n)},get maximumPlaybackRate(){return t.Nw},set maximumPlaybackRate(n){t.Nw=zl(n)},update:function(n){t.hc(function(t){var n={};void 0!==t.minimumOffset&&(n.Ew=zl(t.minimumOffset));void 0!==t.maximumOffset&&(n.Iw=zl(t.maximumOffset));void 0!==t.targetOffset&&(n.Rw=zl(t.targetOffset));void 0!==t.forceSeekOffset&&(n.Dw=zl(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.Ow=zl(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.Nw=zl(t.maximumPlaybackRate));return n}(n))}}}(t.mc)}}}var Ab,Pb=function(){function t(){this.Id=void 0,this.XE=void 0,this.XE={Dw:0,Iw:0,Nw:0,Ew:0,Ow:0,Rw:0,hc:Ft}}return ht(t,[{key:"Dd",get:function(){return null!=this.Id||(this.Id=Cb(this)),this.Id}},{key:"gl",get:function(){return!1},set:function(t){}},{key:"xw",get:function(){}},{key:"$E",get:function(){}},{key:"mc",get:function(){return this.XE}}]),t}();function xb(){return Ab||(Ab=Q&&Q.document&&Q.document.createElement("video")),Ab}var Lb=function(t){function i(i,e,r,u,s,o,c){var a;return void 0===o&&(o=new Rb),void 0===c&&(c=Xc()),(a=t.call(this)||this).GE=void 0,a.YE=void 0,a.KE=void 0,a.qw=void 0,a.Ww=void 0,a.zw=void 0,a.JE=void 0,a.ZE=void 0,a.QE=void 0,a.tR=void 0,a.nR=void 0,a.gT=void 0,a.Rr=void 0,a.iR=void 0,a.eR=void 0,a.rR=new Ib,a.uR=new Pb,a.sR=function(t){var i=t.lu,e=i.code,r=new Pc(function(t){switch(t){case mg.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case mg.NETWORK:return n.ErrorCode.NETWORK_ERROR;case mg.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case mg.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case mg.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case mg.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case mg.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),u=new kg(e,r.message,i.message);a.oR(r,u)},a.cR=function(){a.Qr(new zw(a.lw,a.yg))},a.aR=function(t){a._w||(a.eR=void 0),a.Qr(t)},a.hR=function(t){a.eR=void 0,a.Qr(t)},a.fR=function(){a.Qr(new qg(a._g))},a.vR=function(){a.Tw>0&&a.kw>0&&a.Qr(new Gm)},a.dR=function(t){a.qw.tl(new Lg(t.track))},a.lR=function(t){var n=Mb(a.qw,t.track);n&&a.qw.nl(n)},a.wR=function(){a.gR(a.qw)},a.yR=function(t){a.Ww.tl(new Hg(t.track))},a.mR=function(t){var n=Mb(a.Ww,t.track);n&&a.Ww.nl(n)},a._R=function(){a.gR(a.Ww)},a.pR=function(t){a.Qr(t),a.oR(t.errorObject,Sg(t.errorObject))},a.GE=e,a.gT=r,a.Rr=c,a.YE=a.GE.G(Eg.tv),a.QE=a.YE.bR.preload,a.tR=new s_(a.YE,!0),a.tR.tu(Vw,a.Zr),a.iR=new Db(r,o),a.YE.kR=a.iR,a.TR(),a.qw=new Rg,a.Ww=new Rg,a.SR(),a.nR=new Hm(a.YE,a.gT),a.zw=new Nb([a.YE.Kw]),a.sg(),a}vt(i,t);var e=i.prototype;return e.og=function(){this.YE.og()},e.sg=function(){this.YE.sg()},e.tg=function(t,n,i){var e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return mu(i),e={pr:Xm.ST,Ll:t.src,pf:t.type,ER:this.RR(t),Og:this.QE,IR:t.crossOrigin,DR:n.metadata&&n.metadata.title},this.iR.xE(t.contentProtection),r.next=5,wr.awrap(this.YE.cc(e));case 5:this.KE=r.sent,mu(i),n.textTracks&&this.OR(n.textTracks),$m(this.Kw);case 9:case"end":return r.stop()}},null,this,null,j)},e.OR=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.YE.NR()&&Et.kn&&i_&&!Am(i.kind,i.label)&&this.CR(i)){var e,r=null!=(e=i.kind)?e:Rm.Y_;this.YE.AR(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.nR.mT(i)}}},e.CR=function(t){return!t.format||"webvtt"===t.format},e.Y=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,wr.awrap(this.YE.Y());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.PR){t.next=12;break}return t.next=10,wr.awrap(this.YE.cu(Qc.La));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],j)},e.K=function(){this.YE.K()},e.ng=function(){return void 0!==this.YE.bR.webkitShowPlaybackTargetPicker},e.ig=function(){this.YE.bR.webkitShowPlaybackTargetPicker&&this.YE.bR.webkitShowPlaybackTargetPicker()},e.eg=function(){this.YE.bR.webkitShowPlaybackTargetPicker&&this.YE.bR.webkitShowPlaybackTargetPicker()},e.cg=function(){return this.YE.bR},e.ag=function(){return this.YE.xR},e.ul=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.JE=void 0,this.ZE=void 0,this.KE=void 0,t.next=5,wr.awrap(this.nR.ul());case 5:return this.YE.LR(),t.next=8,wr.awrap(this.YE.ul());case 8:this.tR.ul(),this.Og=this.QE,this.Gw.ul(),this.Yw.ul(),this.eR=void 0;case 13:case"end":return t.stop()}},null,this,null,j)},e.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.ul());case 2:return this.eu(),this.MR(),this.FR(),this.tR.et(),this.YE.kR=void 0,t.next=9,wr.awrap(this.GE.nt(this.YE));case 9:return this.qw.et(),this.Ww.et(),this.zw.et(),t.next=14,wr.awrap(this.nR.et());case 14:case"end":return t.stop()}},null,this,null,j)},e.TR=function(){this.YE.tu(Qc.xa,this.Zr),this.YE.tu(Qc.Pa,this.Zr),this.YE.tu(Qc.Xa,this.cR),this.YE.tu(Qc.La,this.Zr),this.YE.tu(Qc.Da,this.Zr),this.YE.tu(Qc.Va,this.Zr),this.YE.tu(Qc.Ua,this.aR),this.YE.tu(Qc.Ea,this.Zr),this.YE.tu(Qc.Ba,this.Zr),this.YE.tu(Qc.Ga,this.Zr),this.YE.tu(Qc.Ta,this.Zr),this.YE.tu(Qc.Fa,this.vR),this.YE.tu(Lw.dw,this.hR),this.YE.tu(iw.Sl,this.sR),this.YE.tu(Qc.pa,this.Zr),this.YE.tu(Qc._a,this.pR),this.YE.bR.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.fR)},e.MR=function(){this.YE.ru(Qc.xa,this.Zr),this.YE.ru(Qc.Pa,this.Zr),this.YE.ru(Qc.Xa,this.cR),this.YE.ru(Qc.La,this.Zr),this.YE.ru(Qc.Da,this.Zr),this.YE.ru(Qc.Va,this.Zr),this.YE.ru(Qc.Ua,this.aR),this.YE.ru(Qc.Ea,this.Zr),this.YE.ru(Qc.Ba,this.Zr),this.YE.ru(Qc.Ga,this.Zr),this.YE.ru(Qc.Ta,this.Zr),this.YE.ru(Qc.Fa,this.vR),this.YE.ru(Lw.dw,this.hR),this.YE.ru(iw.Sl,this.sR),this.YE.ru(Qc.pa,this.Zr),this.YE.ru(Qc._a,this.pR),this.YE.bR.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.fR)},e.RR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{yc:Hr,UR:[{initDataTypes:[Hr.kr],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.SR=function(){var t=this.YE.bR.audioTracks,n=this.YE.bR.videoTracks;t&&(t.addEventListener("addtrack",this.dR),t.addEventListener("removetrack",this.lR),t.addEventListener("change",this.wR)),n&&(n.addEventListener("addtrack",this.yR),n.addEventListener("removetrack",this.mR),n.addEventListener("change",this._R))},e.FR=function(){var t=this.YE.bR.audioTracks,n=this.YE.bR.videoTracks;t&&(t.removeEventListener("addtrack",this.dR),t.removeEventListener("removetrack",this.lR),t.removeEventListener("change",this.wR)),n&&(n.removeEventListener("addtrack",this.yR),n.removeEventListener("removetrack",this.mR),n.removeEventListener("change",this._R))},e.gR=function(t){for(var n=0;n<t.ol;n++){t.Qd(n).Vg()}},e.wg=function(){this.YE.wg()},e.oR=function(t,n){this.JE||(this.JE=n,this.ZE=t,this.Qr(new Qw(t)))},ht(i,[{key:"PR",get:function(){var t=this.YE.gg,n=this.lw;return t.HR(n,.01)}},{key:"Gw",get:function(){return this.qw}},{key:"gg",get:function(){return this.YE.gg.qR()}},{key:"yg",get:function(){return this.YE.yg},set:function(t){t&&this.YE.WR(t)}},{key:"lw",get:function(){return void 0!==this.eR?this.eR:this.YE.lw},set:function(t){this._g&&(this.eR=t),this.YE.Ou(t)}},{key:"ww",get:function(){return this.YE.ww}},{key:"gw",get:function(){return this.YE.gw}},{key:"lu",get:function(){return this.JE}},{key:"yw",get:function(){return this.ZE}},{key:"Jw",get:function(){}},{key:"_g",get:function(){return this.YE._g}},{key:"pg",get:function(){return gr({},{bg:0,kg:0,Tg:0,Sg:0,Eg:0,Rg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.YE.zR())}},{key:"mw",get:function(){return this.YE.mw},set:function(t){this.YE.mw=t}},{key:"Ig",get:function(){return!0}},{key:"_w",get:function(){return this.YE._w}},{key:"pw",get:function(){return this.YE.pw},set:function(t){this.YE.pw=t}},{key:"Dg",get:function(){return this.YE.bR.played}},{key:"Og",get:function(){return this.QE},set:function(t){this.QE=t,this.KE&&(this.KE.Og=t)}},{key:"Al",get:function(){return this.YE.Al}},{key:"Ng",get:function(){return this.YE.Ng.qR()}},{key:"bw",get:function(){return this.YE.bw}},{key:"jR",get:function(){return this.YE.jR}},{key:"Kw",get:function(){return this.zw}},{key:"Yw",get:function(){return this.Ww}},{key:"kw",get:function(){return this.YE.kw}},{key:"Tw",get:function(){return this.YE.Tw}},{key:"Sw",get:function(){return this.YE.Sw},set:function(t){this.YE.Sw=t}},{key:"Cg",get:function(){return this.uR}},{key:"Ag",get:function(){return this.YE.Ag},set:function(t){this.YE.Ag=t}},{key:"$R",get:function(){return this.rR}}]),i}(hw);var Bb=function(){function t(){this.XR=kb.OE}var n=t.prototype;return n.TS=function(t,n,i,e,r,u){return new Lb(t,n,i,e,r)},n.GR=function(t,n){return function(t){return!t.type||!(!xb().canPlayType||!xb().canPlayType(t.type))}(t)},n.YR=function(){return!1},t}();function Mb(t,n){for(var i=0,e=t.sl;i<e.length;i++){var r=e[i];if(r.Wg===n)return r}}var Fb=function(){function t(){this.KR=new Bb,this.JR=[]}t.ZR=function(){return this.ni};var n=t.prototype;return n.QR=function(t){this.JR.push(t)},n.TS=function(t,n,i,e,r,u){for(var s=this.KR.TS(t,n,i,e,r,u),o=0,c=this.JR;o<c.length;o++){s=(0,c[o])(s,i,e)}return s},n.GR=function(t,n){return this.KR.GR(t,n)},n.YR=function(){return!1},ht(t,[{key:"XR",get:function(){return this.KR.XR}}]),t}();function Ub(t,n){return eu(t.XR,n.XR)}Fb.ni=new Fb;var Vb=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).tI=Fb.ZR(),n}vt(n,t);var i=n.prototype;return i.nI=function(t){this.tI=t},i.iI=function(){return this.tI},i.eI=function(t,n){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=0;case 1:if(!(i<t.length)){c.next=11;break}return e=t[i],c.next=5,wr.awrap(this.rI(e,n));case 5:if(!(r=c.sent)){c.next=8;break}return c.abrupt("return",{uI:e,sI:r});case 8:i++,c.next=1;break;case 11:u=this.tI,s=0;case 13:if(!(s<t.length)){c.next=20;break}if(o=t[s],!u.GR(o,n)){c.next=17;break}return c.abrupt("return",{uI:o,sI:u});case 17:s++,c.next=13;break;case 20:return c.abrupt("return",{uI:t[0],sI:u});case 21:case"end":return c.stop()}},null,this,null,j)},n}(function(){function t(){this.oI=[]}var n=t.prototype;return n.cI=function(t){this.oI.push(t),this.oI.sort(Ub)},n.rI=function(t,n){var i,e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.oI;case 1:if(!(i<e.length)){s.next=17;break}if(r=e[i],!Bt(u=r.GR(t,n))){s.next=10;break}return s.next=7,wr.awrap(u);case 7:s.t0=s.sent,s.next=11;break;case 10:s.t0=Boolean(u);case 11:if(!s.t0){s.next=14;break}return s.abrupt("return",r);case 14:i++,s.next=1;break;case 17:return s.abrupt("return",void 0);case 18:case"end":return s.stop()}},null,this,null,j)},t}());Vb.ni=new Vb;var Hb,qb=function(){function t(t){var n,i;this.aI=void 0,this.aI=Q&&Q.document&&Q.document.createElement("div"),n=this.aI,(i=n.style).position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%",t.appendChild(this.aI)}return t.prototype.et=function(){je(this.aI)},t}();function Wb(t){switch(t){case Hb.hI:case"":return Hb.hI;case Hb.J_:return Hb.J_;case Hb.fI:default:return Hb.fI}}!function(t){t.OE="",t.fI="none",t.J_="metadata",t.hI="auto"}(Hb||(Hb={}));var zb=[iw.Sl,Qc.Sa,Qc.wu,Qc.Ja,Qc.wa,Qc.Ra,Qc.Ca,Qc.Aa,Qc.qa,Qc.za,Lw.cw,Lw.aw,Lw.hw,Lw.fw,Lw.Wd,Lw.vw,Lw.dw,Qc._a,Qc.pa,Qc.Ta,Qc.Ea,Qc.Da,Qc.Oa,Qc.xa,Qc.La,Qc.Pa,Qc.Ba,Qc.Fa,Qc.Va,Qc.Ua,Qc.Xa,Qc.Ga,Qc.Ma,Qc.Na,Qc.Ha],jb=function(t){function n(n,i){var e;return(e=t.call(this)||this).vI=void 0,e.dI=void 0,e.lI=void 0,e.wI=void 0,e.QE=Hb.fI,e.gI=void 0,e.yI=!0,e.qw=new ew,e.Ww=new ew,e.zw=new aw,e.jw=new _g,e.vI=n,e.lI=i,e.lI.Og=e.Og,e.mI(),e}vt(n,t);var i=n.prototype;return i.K=function(){this.lI.K()},i.Y=function(){var t=this.lI.Y();Bt(t)&&Eu(t)},i.Zw=function(){return this.tg(void 0)},i.st=function(){},i.fg=function(t){return!1},i.mI=function(){this.qw.dl=this.lI.Gw,this.Ww.dl=this.lI.Yw,this.zw.dl=this.lI.Kw,this.jw.dl=this.lI.Jw,this.lI.tu(zb,this.Zr)},i._I=function(){this.lI.ru(zb,this.Zr),this.qw.dl=void 0,this.Ww.dl=void 0,this.zw.dl=void 0,this.jw.dl=void 0},i.Qw=function(){return this.gI},i.tg=function(t,n){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(mu(n),this.gI=t,t){c.next=4;break}return c.abrupt("return");case 4:if(!Ow(i=t.sources.filter(xw))){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,wr.awrap(this.vI.eI(i,t));case 9:if(e=c.sent,mu(n),r=e.uI,u=e.sI,s=this.ag(),o=ig(this),this.dI===u&&!this.lu){c.next=25;break}return this._I(),c.next=19,wr.awrap(this.lI.et());case 19:mu(n),this.dI=u,this.lI=this.pI(u),$b(this.lI,o),eg(this,o,this),this.mI();case 25:return this.lI.Og=this.Og,this.yI?this.lI.sg():this.lI.og(),c.next=29,wr.awrap(this.lI.tg(r,t,n));case 29:mu(n),this.bI(r),this.ag()!==s&&this.Qr(new vw);case 32:case"end":return c.stop()}},null,this,null,j)},i.bI=function(t){this.wI!==t&&(this.wI=t,this.Qr(new dw(t)))},i.ng=function(){return this.lI.ng()},i.ig=function(){this.lI.ig()},i.eg=function(){this.lI.eg()},i.ag=function(){return this.lI.ag()},i.wg=function(){this.lI.wg()},i.ul=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gI=void 0,this.bI(void 0),t.next=4,wr.awrap(this.lI.ul());case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.eu(),t.next=3,wr.awrap(this.ul());case 3:return t.next=5,wr.awrap(this.lI.et());case 5:this.qw.et(),this.Ww.et(),this.zw.et(),this.jw.et();case 9:case"end":return t.stop()}},null,this,null,j)},i.sg=function(){this.yI=!0,this.lI.sg()},i.og=function(){this.yI=!1,this.lI.og()},ht(n,[{key:"Gw",get:function(){return this.qw}},{key:"gg",get:function(){return this.lI.gg}},{key:"lu",get:function(){return this.lI.lu}},{key:"yw",get:function(){return this.lI.yw}},{key:"yg",get:function(){return this.lI.yg},set:function(t){this.lI.yg=t}},{key:"lg",get:function(){return this.wI}},{key:"lw",get:function(){return this.lI.lw},set:function(t){this.lI.lw=t}},{key:"ww",get:function(){return this.lI.ww}},{key:"gw",get:function(){return this.lI.gw}},{key:"Jw",get:function(){return this.jw}},{key:"_g",get:function(){return this.lI._g}},{key:"pg",get:function(){return this.lI.pg}},{key:"mw",get:function(){return this.lI.mw},set:function(t){this.lI.mw=t}},{key:"Ig",get:function(){return this.lI.Ig}},{key:"_w",get:function(){return this.lI._w}},{key:"pw",get:function(){return this.lI.pw},set:function(t){this.lI.pw=t}},{key:"Dg",get:function(){return this.lI.Dg}},{key:"Og",get:function(){return this.QE},set:function(t){this.QE=t,this.lI&&(this.lI.Og=this.QE)}},{key:"Al",get:function(){return this.lI.Al}},{key:"Ng",get:function(){return this.lI.Ng}},{key:"bw",get:function(){return this.lI.bw}},{key:"Kw",get:function(){return this.zw}},{key:"kw",get:function(){return this.lI.kw}},{key:"Yw",get:function(){return this.Ww}},{key:"Tw",get:function(){return this.lI.Tw}},{key:"Sw",get:function(){return this.lI.Sw},set:function(t){this.lI.Sw=t}},{key:"Cg",get:function(){return this.lI.Cg}},{key:"$R",get:function(){return this.lI.$R}}]),n}(Cu);function $b(t,n){t.mw!==n.mw&&(t.mw=n.mw),t.Sw!==n.Sw&&(t.Sw=n.Sw),t.pw!==n.pw&&(t.pw=n.pw)}var Xb,Gb=function(t){function n(n,i){var e;return(e=t.call(this)||this).ol=void 0,e.kI=void 0,e.TI=void 0,e.ol=n.length>>1,e.kI=n,e.TI=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.ol),e}vt(n,t);var i=n.prototype;return i.SI=function(t){return this.kI[2*t]},i.EI=function(t){return this.TI[2*t]},i.RI=function(t){return this.kI[2*t+1]},i.II=function(t){return this.TI[2*t+1]},ht(n,[{key:"DI",get:function(){return this.kI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.hy=function(t,n){return 0===this.Py(t,n)},n.cm=function(t,n){return this.Py(t,n)>0},n.am=function(t,n){return this.Py(t,n)>=0},n.Fy=function(t,n){return this.Py(t,n)<0},n.By=function(t,n){return this.Py(t,n)<=0},n.Dm=function(t,n){return this.Fy(t,n)?t:n},n.Im=function(t,n){return this.cm(t,n)?t:n},n.OI=function(t,n,i){return i?this.By(t,n):this.Fy(t,n)},n.qR=function(){var t=this;return{get length(){return t.ol},start:function(n){var i=0|n;return t.NI(i),t.CI(t.SI(i))},end:function(n){var i=0|n;return t.NI(i),t.CI(t.RI(i))}}},n.AI=function(){for(var t=new Array(2*this.ol),n=new Array(2*this.ol),i=0;i<this.ol;i++)t[2*i]=this.SI(i),t[2*i+1]=this.RI(i),n[2*i]=!0,n[2*i+1]=!0;return this.xI(t,n)},n.NI=function(t){if(t<0)throw new h("The index provided ("+t+") must be non-negative");if(t>=this.ol)throw new h("The index provided ("+t+") is greater than the maximum bound ("+this.ol+")")},n.LI=function(t){if(0===this.ol)return this.BI();if(this.HR(t))return t;if(this.By(t,this.SI(0)))return this.SI(0);if(this.am(t,this.RI(this.ol-1)))return this.RI(this.ol-1);for(var n,i=this.MI(),e=0;e<this.ol;e++){var r=this.SI(e),u=this.My(r,t);this.Fy(u,i)&&(n=r,i=u);var s=this.RI(e),o=this.My(this.RI(e),t);this.Fy(o,i)&&(n=s,i=o)}return n},n.FI=function(t){for(var n=0,i=0,e=[],r=[];n<this.ol&&i<t.ol;){var u=this.SI(n),s=this.RI(n),o=this.EI(n),c=this.II(n),a=t.SI(i),h=t.RI(i),f=t.EI(i),v=t.II(i),d=this.Im(u,a),l=this.Dm(s,h),w=void 0;w=this.hy(u,a)?o&&f:this.hy(d,u)?o:f;var g=void 0;g=this.hy(s,h)?c&&v:this.hy(l,s)?c:v,(this.Fy(d,l)||w&&g&&this.hy(d,l))&&(e.push(d,l),r.push(w,g));var y=this.Py(this.RI(n),t.RI(i));0===y?(n+=1,i+=1):y<0?n+=1:i+=1}return this.xI(e,r)},n.UI=function(){var t=this.VI(),n=t.ol;if(0===n)return this.xI([t.HI(),t.MI()],[!1,!1]);var i=[],e=[],r=t.SI(0);t.hy(r,t.HI())||(i.push(t.HI(),r),e.push(!1,!t.EI(0)));for(var u=0;u<n-1;u++)i.push(t.RI(u),t.SI(u+1)),e.push(!t.II(u),!t.EI(u+1));var s=t.RI(n-1);return t.hy(s,t.MI())||(i.push(s,t.MI()),e.push(!t.II(n-1),!1)),t.xI(i,e)},n.qI=function(t){for(var n=0,i=0,e=this.ol,r=t.ol,u=new Array(2*(e+r)),s=new Array(2*(e+r)),o=0;n<e&&i<r;){var c=this.SI(n),a=this.RI(n),h=t.SI(i),f=t.RI(i);this.Fy(c,h)||this.hy(c,h)&&this.Fy(a,f)?(u[o]=c,u[o+1]=a,s[o]=this.EI(n),s[o+1]=this.II(n),n++):(u[o]=h,u[o+1]=f,s[o]=t.EI(i),s[o+1]=t.II(i),i++),o+=2}for(;n<e;)u[o]=this.SI(n),u[o+1]=this.RI(n),s[o]=this.EI(n),s[o+1]=this.II(n),n++,o+=2;for(;i<r;)u[o]=t.SI(i),u[o+1]=t.RI(i),s[o]=t.EI(i),s[o+1]=t.II(i),i++,o+=2;return this.xI(u,s)},n.WI=function(t){void 0===t&&(t=this.BI());var n=this.ol;if(n<2)return this;for(var i=[],e=[],r=this.SI(0),u=this.RI(0),s=this.EI(0),o=this.II(0),c=1;c<n;c++){var a=this.SI(c),h=this.RI(c),f=this.EI(c),v=this.II(c);this.Fy(r,a)&&this.cm(u,h)||(this.hy(r,a)&&(s=f=s||f),this.hy(u,h)&&(o=v=o||v),this.OI(a,this.xg(u,t),o||f)?(u=h,o=v):(i.push(r,u),e.push(s,o),r=a,u=h,s=f,o=v))}return i.push(r,u),e.push(s,o),this.xI(i,e).VI()},n.VI=function(){for(var t=[],n=[],i=0;i<this.ol;i++){var e=this.SI(i),r=this.RI(i),u=this.EI(i),s=this.II(i);this.hy(e,r)?(u||s)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(u,s))}return this.xI(t,n)},n.zI=function(t){return this.ol?t.ol?this.qI(t).WI():this:t},n.jI=function(t){var n=this.VI(),i=t.VI(),e=n.UI(),r=i.UI(),u=e.FI(i),s=r.FI(n);return u.zI(s)},n.Du=function(t){if(this.hy(t,this.BI()))return this;for(var n=[],i=[],e=0;e<this.ol;e++){var r=this.xg(this.SI(e),t),u=this.xg(this.RI(e),t);n.push(r,u),i.push(this.EI(e),this.II(e))}return this.xI(n,i)},n.$I=function(t){return 0===this.ol||0===t.ol?this:this.VI().FI(t.VI().UI())},n.HR=function(t,n){return this.XI(t,n)>=0},n.GI=function(t,n,i,e,r){return this.YI(t,n,i,e,r)>=0},n.KI=function(t,n,i,e,r){return this.JI(t,n,i,e,r)>=0},n.ZI=function(t){if(t.ol!==this.ol)return!1;for(var n=0;n<this.ol;n++)if(!this.hy(this.SI(n),t.SI(n))||!this.hy(this.RI(n),t.RI(n))||this.EI(n)!==t.EI(n)||this.II(n)!==t.II(n))return!1;return!0},n.QI=function(t){for(var n=[],i=[],e=0;e<this.ol;e++){var r=this.SI(e),u=this.RI(e),s=this.EI(e),o=this.II(e);t(r,u,s,o)&&(n.push(r,u),i.push(s,o))}return this.xI(n,i)},n.JI=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.BI());for(var u=this.qy(t,r),s=this.xg(n,r),o=0;o<this.ol;o+=1)if(this.OI(this.SI(o),s,!e||this.EI(o))&&this.OI(u,this.RI(o),!i||this.II(o)))return o;return-1},n.YI=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.BI());for(var u=this.xg(t,r),s=this.qy(n,r),o=0;o<this.ol;o+=1)if(this.OI(this.SI(o),u,!i||this.EI(o))&&this.OI(s,this.RI(o),!e||this.II(o)))return o;return-1},n.XI=function(t,n){return this.YI(t,t,!0,!0,n)},n.tD=function(t,n){void 0===n&&(n=this.BI());for(var i=this.xg(t,n),e=this.ol-1;e>=0;e-=1)if(this.OI(this.SI(e),i,this.EI(e)))return e;return-1},n.nD=function(t,n){void 0===n&&(n=this.BI());for(var i=this.qy(t,n),e=0;e<this.ol;e+=1)if(this.OI(i,this.RI(e),this.II(e)))return e;return-1},n.iD=function(t){return this.NI(t),this.xI([this.SI(t),this.RI(t)],[this.EI(t),this.II(t)])},n.eD=function(t,n){var i=this.XI(t,n);return i<0?void 0:this.iD(i)},ht(t,[{key:"rD",get:function(){for(var t=this.BI(),n=0;n<this.ol;n++){var i=this.qy(this.RI(n),this.SI(n));t=this.xg(t,i)}return t}}]),t}()),Yb=function(t){function n(n,i){return t.call(this,n,i)||this}vt(n,t);var i=n.prototype;return i.Py=function(t,n){return t<n?Qr.Pr:t===n?Qr.Cr:Qr.Ar},i.xg=function(t,n){return t+n},i.qy=function(t,n){return t-n},i.My=function(t,n){return d.abs(t-n)},i.BI=function(){return 0},i.MI=function(){return 1/0},i.HI=function(){return-1/0},n.uD=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.sD=function(t){for(var i=[],e=[],r=0;r<t.ol;r++)i.push(t.SI(r).Cm),i.push(t.RI(r).Cm),e.push(t.EI(r)),e.push(t.II(r));return new n(i,e)},n.oD=function(t){return new n([t,t],[!0,!0])},i.xI=function(t,i){return new n(t,i)},i.CI=function(t){return t},n.cD=function(){return Kb},n}(Gb),Kb=new Yb([]);!function(t){t.Hd="fullscreenchange",t.aD="fullscreensupportchange",t.Sl="fullscreenerror"}(Xb||(Xb={}));var Jb=function(t){function n(){return t.call(this,Xb.Sl)||this}return vt(n,t),n}(Pu),Zb=new(function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.Gg=function(){this.Qr(new Jb)},i.Kg=function(){},i.et=function(){this.eu()},ht(n,[{key:"hD",get:function(){return!1}},{key:"fD",get:function(){return!1}}]),n}(Cu)),Qb=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).GE=void 0,n.YE=void 0,n}vt(n,t);var i=n.prototype;return i.cg=function(){var t;return null==(t=this.YE)?void 0:t.bR},i.et=function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(t.prototype.et.call(this));case 2:if(!this.YE){n.next=6;break}return n.next=5,wr.awrap(this.GE.nt(this.YE));case 5:this.YE=void 0;case 6:case"end":return n.stop()}},null,this,null,j)},ht(n,[{key:"vD",set:function(t){this.GE=t,this.YE=t.G(Eg.tv)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).dD=0,n.lD=!1,n.wD=!0,n.gD=1,n.yD=!1,n.Ys=1,n.Gw=new Rg,n.gg=Yb.cD().qR(),n.ww=NaN,n.gw=!1,n.lu=void 0,n.yw=void 0,n.Jw=void 0,n._g=!1,n.Ig=!0,n.Dg=Yb.cD().qR(),n.Og=Hb.fI,n.Al=pw.ew,n.Ng=Yb.cD().qR(),n.jR=void 0,n.Kw=new Im,n.kw=0,n.Yw=new Rg,n.Tw=0,n.Cg=new Pb,n.rR=new Ib,n}vt(n,t);var i=n.prototype;return i.sg=function(){},i.og=function(){},i.Y=function(){this.wD&&(this.wD=!1,this.Qr(new Fw(this.lw)),this.Qr(new r_(this.lw)))},i.K=function(){this.wD||(this.wD=!0,this.Qr(new zw(this.lw,this.yg)),this.Qr(new Mw(this.lw)))},i.tg=function(t,n){return j.resolve()},i.ng=function(){return!1},i.ig=function(){},i.eg=function(){},i.ag=function(){return Zb},i.wg=function(){},i.ul=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.dD=0,this.yD=!1,this.K(),this.Qr(new Bw(this.dD));case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.eu(),this.Gw.et(),this.Kw.et(),this.Yw.et();case 4:case"end":return t.stop()}},null,this,null,j)},ht(n,[{key:"yg",get:function(){},set:function(t){}},{key:"lw",get:function(){return this.dD},set:function(t){this.dD!==t&&(this.dD=t,this.yD=!0,this.Qr(new Xw(this.lw)))}},{key:"pg",get:function(){return{bg:0,kg:0,Tg:0,Sg:0,Eg:0,Rg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"mw",get:function(){return this.lD},set:function(t){this.lD!==t&&(this.lD=t,this.Qr(new Yw(this.lw,this.Sw)))}},{key:"_w",get:function(){return this.wD}},{key:"pw",get:function(){return this.gD},set:function(t){this.gD!==t&&(this.gD=t,this.Qr(new Ww(this.lw,this.pw)))}},{key:"bw",get:function(){return this.yD}},{key:"Sw",get:function(){return this.Ys},set:function(t){this.Ys!==t&&(this.Ys=t,this.Qr(new Yw(this.lw,this.Sw)))}},{key:"Ag",get:function(){return!1},set:function(t){}},{key:"$R",get:function(){return this.rR}}]),n}(Cu)),tk=function(t){function n(n,i,e,r,u,s){var o,c=new Qb;return(o=t.call(this,Vb.ni,c)||this).qc=void 0,o.mD=void 0,o._D=void 0,o.pD=void 0,o.gT=void 0,o.bD=void 0,o.kD=void 0,o._D=n,o.qc=i,o.gT=e,o.bD=r,o.pD=s,o.mD=new K(u,o.pD),o.mD.it(o._D),c.vD=o.mD,o.kD=new qb(o._D),o}vt(n,t);var i=n.prototype;return i.st=function(){t.prototype.st.call(this),this.mD.X()},i.rg=function(t){var n,i,e,r;n=this,e=(i=t).Sw,r=i.mw,n.Sw=e,n.mw=r},i.ug=function(){},i.pI=function(t){return t.TS(this._D,this.mD,this.gT,this.qc,this.bD,this.pD)},i.cg=function(){return this.lI.cg()},i.hg=function(){return this.mD.j.map(function(t){return t.bR})},i.iu=function(n){t.prototype.iu.call(this,n)},i.ou=function(n){t.prototype.ou.call(this,n)},i.et=function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(t.prototype.et.call(this));case 2:this.mD.et(),this.kD.et();case 4:case"end":return n.stop()}},null,this,null,j)},ht(n,[{key:"mg",get:function(){return this._D}},{key:"Ag",get:function(){return this.lI.Ag},set:function(t){this.lI.Ag=t}}]),n}(jb),nk=function(t){function n(n,i,e){var r;return(r=t.call(this)||this)._D=void 0,r.TD=void 0,r.SD=void 0,r.ED=void 0,r.RD=void 0,r.uR=new Pb,r._D=n,r.TD=i,r.ED=new Rg,r.RD=new Im,r.SD=e,r}vt(n,t);var i=n.prototype;return i.fg=function(t){return!0},i.og=function(){},i.Y=function(){throw this.Qr(new Qw(this.SD)),this.TD},i.K=function(){},i.Qw=function(){},i.tg=function(t,n){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw mu(n),this.Qr(new Qw(this.SD)),this.TD;case 3:case"end":return t.stop()}},null,this,null,j)},i.sg=function(){},i.Zw=function(){return j.resolve()},i.cg=function(){},i.ag=function(){return Zb},i.hg=function(){return[]},i.st=function(){},i.rg=function(t){},i.ug=function(){},i.ng=function(){return!1},i.ig=function(){},i.eg=function(){},i.wg=function(){},i.ul=function(){return j.resolve()},i.et=function(){return this.eu(),this.ED.et(),this.RD.et(),j.resolve()},ht(n,[{key:"Gw",get:function(){return this.ED}},{key:"gg",get:function(){return Yb.cD().qR()}},{key:"yg",get:function(){return new Date(NaN)},set:function(t){}},{key:"lg",get:function(){}},{key:"lw",get:function(){return 0},set:function(t){}},{key:"ww",get:function(){return 0}},{key:"mg",get:function(){return this._D}},{key:"gw",get:function(){return!0}},{key:"lu",get:function(){return this.TD}},{key:"yw",get:function(){return this.SD}},{key:"Jw",get:function(){}},{key:"pg",get:function(){return{bg:0,kg:0,Tg:0,Sg:0,Eg:0,Rg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"mw",get:function(){return!1},set:function(t){}},{key:"Ig",get:function(){return!0}},{key:"_w",get:function(){return!0}},{key:"pw",get:function(){return 0},set:function(t){}},{key:"Dg",get:function(){return Yb.cD().qR()}},{key:"Og",get:function(){return Hb.fI},set:function(t){}},{key:"Al",get:function(){return pw.ew}},{key:"Ng",get:function(){return Yb.cD().qR()}},{key:"bw",get:function(){return!1}},{key:"Kw",get:function(){return this.RD}},{key:"kw",get:function(){return 0}},{key:"Yw",get:function(){return this.ED}},{key:"Tw",get:function(){return 0}},{key:"Sw",get:function(){return 1},set:function(t){}},{key:"Cg",get:function(){return this.uR}},{key:"Ag",get:function(){return!1},set:function(t){}},{key:"_g",get:function(){return!1}}]),n}(fw);function ik(t){if(t&&At(t))return gr({},t,{integration:ek(t.integration),fairplay:ak(t.fairplay),widevine:rk(t.widevine),playready:uk(t.playready),clearkey:hk(t.clearkey),aes128:fk(t.aes128),integrationParameters:vk(t.integrationParameters),preferredKeySystems:dk(t.preferredKeySystems)})}function ek(t){if(xt(t))return t}function rk(t){if(t&&At(t))return{persistentState:sk(t.persistentState),distinctiveIdentifier:sk(t.distinctiveIdentifier),audioRobustness:ok(t.audioRobustness),videoRobustness:ok(t.videoRobustness),licenseAcquisitionURL:xt(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:ck(t.licenseType),headers:t.headers,useCredentials:!!Lt(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:xt(t.certificate)||Bs(t.certificate)?t.certificate:void 0}}function uk(t){if(t){var n=rk(t);if(n)return gr({},n,{customData:xt(t.customData)?t.customData:void 0})}}function sk(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function ok(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function ck(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function ak(t){if(t){var n=rk(t);if(n)return gr({},n,{certificateURL:xt(t.certificateURL)?t.certificateURL:void 0})}}function hk(t){if(t){var n=rk(t);if(n)return gr({},n,{keys:Nt(t.keys)?t.keys.map(function(t){return function(t){if(!t||!At(t))return;var n=t.id,i=t.value;if(!xt(n)||!xt(i))return;return{id:n,value:i}}(t)}).filter(Dt):void 0})}}function fk(t){if(At(t))return{useCredentials:Lt(t.useCredentials)?t.useCredentials:void 0}}function vk(t){if(At(t))return t}function dk(t){return t&&Nt(t)?t.map(function(t){return Q_(t)}).filter(Dt):[Pr,Nr,Mr]}var lk,wk=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return vt(n,t),n}(Pu),gk=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).DD=[],e.OD=void 0,e.ND=function(t){Su(function(){e.Zr(t)})},e.OD=i?e.ND:e.Zr,e}vt(n,t);var i=n.prototype;return i.CD=function(t){t.iu(this.OD),this.DD.push(t)},i.PD=function(t){t.ou(this.OD),au(this.DD,t)},i.et=function(){this.eu();for(var t=0,n=this.DD;t<n.length;t++){n[t].ou(this.OD)}du(this.DD)},n}(hw),yk=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(gk);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(lk||(lk={}));var mk,_k=function(t){function i(n){var i;return(i=t.call(this)||this).xD=void 0,i.LD=void 0,i.BD=!1,i.MD=!1,i.FD=void 0,i.UD=void 0,i.VD=void 0,i.Id=void 0,i.HD=function(){return i.qD()},i.WD=function(){return i.zD()},i.VD=n,i.xD=i.LD=i.FD=i.UD=lk.INLINE,i.VD.tu(Xb.Hd,i.HD),i.VD.tu(Xb.Sl,i.WD),i.jD(),i}vt(i,t);var e=i.prototype;return e.Od=function(){return t=this,i={get currentMode(){return t.$D()},requestMode:function(n){var i=bk(n);i&&t.XD(i)},supportsMode:function(n){var i=bk(n);return!!i&&t.GD(i)},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.ru(t,i)}},(n=new gk(i,!0)).CD(t),i;var t,n,i},e.XD=function(t){this.YD(t,t)},e.YD=function(t,n){this.LD!==n&&(this.BD=!0,this.xD=t,this.KD(n,this.LD),t!==lk.FULLSCREEN&&(this.FD=t),this.BD=!1,this.jD())},e.$D=function(){return this.MD?lk.FULLSCREEN:lk.INLINE},e.GD=function(t){switch(t){case lk.FULLSCREEN:return this.VD.fD;case lk.INLINE:return!0}return!1},e.jD=function(){if(!this.BD){var t=this.LD,n=this.$D();this.LD=n,n!==lk.FULLSCREEN&&(this.UD=n),t!==n&&this.Qr(new wk(n))}},e.KD=function(t,n){var i=t===lk.FULLSCREEN;this.MD=i,i!==this.VD.hD&&(i?this.VD.Gg():this.VD.Kg())},e.qD=function(){if(!this.BD){var t=this.VD.hD;this.MD=t,t?this.YD(lk.FULLSCREEN,lk.FULLSCREEN):t||this.xD!==lk.FULLSCREEN?this.jD():this.YD(this.FD,this.UD)}},e.zD=function(){this.qD(),this.Qr(new Qw(new Pc(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.et=function(){this.VD.et(),this.eu()},ht(i,[{key:"Dd",get:function(){return this.Id||(this.Id=this.Od()),this.Id}}]),i}(hw),pk={lw:0,ww:NaN,gw:!1,lu:void 0,yw:void 0,mw:!1,_w:!0,pw:1,Al:pw.ew,bw:!1,kw:0,Tw:0,Sw:1};function bk(t){switch(t){case lk.INLINE:case lk.FULLSCREEN:case lk.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor"}(mk||(mk={}));var kk,Tk,Sk,Ek,Rk,Ik,Dk,Ok,Nk=function(){function t(){this.JD=[]}var n=t.prototype;return n.ZD=function(t){var n=this.QD.filter(function(n){return n.tO(t)});if(n.length>1)0;else if(0===n.length)throw h("Unknown ad integration: "+t.integration);return n[0]||null},n.nO=function(t){this.JD.push(t)},ht(t,[{key:"QD",get:function(){return this.JD}}]),t}();Nk.ni=new Nk,function(t){t.dw="PLAYING",t.Fw="PAUSED",t.iO="SEEK",t.eO="STALLED",t.rO="FAILED",t.uO="INITIAL_BUFFERING",t.sO="NO_ACCESS"}(kk||(kk={})),function(t){t.oO="HTTP_REQUEST_STATUS_CODE_1XX",t.cO="HTTP_REQUEST_STATUS_CODE_2XX",t.aO="HTTP_REQUEST_STATUS_CODE_3XX",t.hO="HTTP_REQUEST_STATUS_CODE_4XX",t.fO="HTTP_REQUEST_STATUS_CODE_5XX",t.vO="BUFFER_LENGTH",t.dO="BYTES_RECEIVED",t.lO="SEGMENT_READ_BITRATE",t.wO="SEGMENT_PROFILE_BITRATE",t.gO="NUMBER_OF_FRAMES_DROPPED",t.yO="PLAYBACK_POSITION",t.mO="NUMBER_OF_FRAMES_DECODED",t._O="PLAYBACK_DELTA_TO_ORIGIN",t.pO="STREAM_DELTA_TO_ORIGIN",t.bO="ORIGIN_TIMESTAMP"}(Tk||(Tk={})),function(t){t.kO="MANIFEST_URI",t.TO="ASSET_DURATION",t.SO="NUMBER_OF_CONTENT_PROFILES",t.EO="CDN",t.RO="CONTENT_TITLE",t.IO="SERVICE_NAME",t.DO="CONTENT_TYPE",t.OO="CONTENT_DESCRIPTION"}(Sk||(Sk={})),function(t){t.CO="shutdown_normal_shutdown"}(Ek||(Ek={})),function(t){t.AO="session/",t.PO="internalError/",t.xO="drmError/",t.LO="caError/",t.BO="networkError/"}(Rk||(Rk={})),function(t){t.MO="userAction",t.FO="endOfStreamReached"}(Ik||(Ik={})),function(t){t.PAUSE="UO",t.RESUME="VO"}(Dk||(Dk={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(Ok||(Ok={}));var Ck,Ak,Pk,xk,Lk,Bk="agama";function Mk(t){return function(t){switch(t){case Ck.NONE:case Ck.HORIZONTAL:case Ck.VERTICAL:return!0;default:return!1}}(t)?t:Ck.NONE}function Fk(t){switch(t){case"":return Ck.NONE;case"horizontal":return Ck.HORIZONTAL;case"vertical":return Ck.VERTICAL;default:throw new f}}function Uk(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!xt(t))return Ak.hI;switch(t){case"always":return Ak.HO;case"never":return Ak.qO;case"clear-only":return Ak.CLEAR_ONLY;case"same-drm-only":return Ak.SAME_DRM_ONLY;default:return Ak.hI}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:null==t?void 0:t.needsTimescaleShifting}}function Vk(t){if(!t||!xt(t))return Pk.hI;switch(t){case"playlist":return Pk.WO;case"media":return Pk.zO;default:return Pk.hI}}function Hk(t,n){return t.length>0?t:n.length>0?n:void 0}function qk(t){if(null!==t)return t}function Wk(t){var n={};if(!At(t))return n;var i=t;for(var e in i)if(v.prototype.hasOwnProperty.call(i,e)){var r=i[e];xt(r)&&(n[e]=r)}return n}function zk(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:qk(t.streamActivityMonitorID),adTagParameters:At(t.adTagParameters)?t.adTagParameters:{},authToken:qk(t.authToken),omidAccessModeRules:t.omidAccessModeRules?Wk(t.omidAccessModeRules):void 0};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var e=t.videoID,r=t.contentSourceID;return e?r?gr({},i,{availabilityType:"vod",videoID:e,contentSourceID:r}):void st.Ce("A VOD DAI configuration was provided without valid contentSourceID which is required."):void st.Ce("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?gr({},i,{availabilityType:"live",assetKey:u}):void st.Ce("A Live DAI configuration was provided without valid assetKey which is required.")}st.Ce("A DAI configuration was provided without a valid availabilityType which is required.")}function jk(t){if(!j_(t)||!t.integration)return t;switch(t.integration){case d_:return n=t,i=Z_(Er.gr,n),e=Z_(Er.wr,n),r=n[Er.mr]&&Z_(Er.mr,n),gr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Ck||(Ck={})),function(t){t.hI="auto",t.HO="always",t.qO="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only"}(Ak||(Ak={})),function(t){t.hI="auto",t.WO="playlist",t.zO="media"}(Pk||(Pk={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(xk||(xk={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(Lk||(Lk={}));var $k="https://content.uplynk.com";function Xk(t){if(!t)return!0;var n,i,e=!(Dw(n=t.sources)||Ct(n)&&Dw(n[0]))||Ow(t.sources),r=!t.ads||(!(i=t.ads)||Nt(i)&&0===i.length),u=""!==t.poster&&!t.poster;return e&&r&&u}function Gk(t){if(t&&t.sources)return function t(n){if(xt(n))return n;if(Iw(n))return n.src;if(Ct(n)&&n.length>0)return t(n[0]);return}(t.sources)}function Yk(t,n,i){return Ew(t)?function(t,n,i){var e=gr({},Nw(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:xk.VERIZON_MEDIA,id:"",prefix:$k,preplayParameters:{},playbackUrlParameters:{},assetType:Lk.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,xt(r)?r:Ct(r)&&xt(r[0])?r:At(u=r)&&xt(u.userId)&&(Ct(u.externalId)||xt(u.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,u;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return Lk.CHANNEL;case"event":return Lk.EVENT;case"asset":default:return Lk.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=Wl(t.contentProtected));t.assetInfo?e.assetInfo=Wl(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=$l(t.prefix)||$k);return e.ping=(s=e.assetType,o=t.ping,c=!1,a=!1,h=!1,o?(c=!!Lt(o.adImpressions)&&o.adImpressions,a=!!Lt(o.freeWheelVideoViews)&&o.freeWheelVideoViews,h=Lt(o.linearAdData)?o.linearAdData:s!==Lk.ASSET):s!==Lk.ASSET&&(h=!0),{adImpressions:c,freeWheelVideoViews:a,linearAdData:h}),e=Jk(e=Zk(e=Kk(e,t),n,i),t,i);var s,o,c,a,h}(t,n,i):function(t,n,i){var e=Cw(),r=n&&(n.contentProtection||n.drm);if(xt(t)){if(e.src=t,e.type=Tw(t),r){var u=ik(r);e.contentProtection=jk(u)}}else if(Iw(t)||Sw(t)){e.src=t.src,e.type=t.type||Tw(t.src),e.isAdvertisement=t.isAdvertisement;var s=function(t){return t.type===yw.nw||t.type===yw.iw}(t)?t.hesp:void 0;void 0!==s&&(e.hesp=s);var o=At(h=t)&&xt(h.integration)&&"mediatailor"===h.integration;o&&(e.integration=t.integration);var c=t.contentProtection||t.drm||r,a=ik(c);e.contentProtection=jk(a),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return zk(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=Kk(e,t)}var h;return e=Jk(e=Zk(e,n,i),t,i)}(t,n,i)}function Kk(t,n){var i,e;n.useCredentials?t.crossOrigin=gw.Ql:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case gw.Zl:case gw.Ql:return t;default:return gw.Jl}}(n.crossOrigin)),xt(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Wl(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Wl(n.useNativePlayback)),n.dash&&(t.dash=Uk(n.dash)),n.hls&&(t.hls={discontinuityAlignment:Vk(null==(i=n.hls)?void 0:i.discontinuityAlignment),useLegacy:(e=null==i?void 0:i.useLegacy,Dt(e)?Boolean(e):void 0)}),n.lcevc&&(t.lcevc=Wl(n.lcevc));var r=void 0!==n.experimentalRendering?Wl(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var u=void 0!==n.nativeUiRendering?Wl(n.nativeUiRendering):void 0;return void 0!==u&&(t.nativeUiRendering=u),t}function Jk(t,n,i){return t.abr=function(t,n){var i=Xl(null==t?void 0:t.preferredAudioCodecs,$l),e=Xl(null==t?void 0:t.preferredVideoCodecs,$l),r=Xl(null==n?void 0:n.preferredAudioCodecs,$l),u=Xl(null==n?void 0:n.preferredVideoCodecs,$l),s=Hk(i,r),o=Hk(e,u);if(s||o)return{preferredAudioCodecs:s,preferredVideoCodecs:o}}(xt(n)?void 0:n.abr,null==i?void 0:i.abr),t}function Zk(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!Dt(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!Dt(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===gw.Jl&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=gw.Zl),t.useCredentials=t.crossOrigin===gw.Ql,xt(r)&&!t.timeServer&&(t.timeServer=r),t}function Qk(t){var n={src:""};if(t&&t.src){if(n.src=$l(t.src),"default"in t&&(n.default=Wl(t.default)),n.kind=Om(t.kind),function(t){switch(t){case Fg.DEFAULT:case Fg.SRT:case Fg.TTML:case Fg.WEBVTT:case Fg.EMSG:case Fg.EVENT_STREAM:case Fg.ID3:case Fg.CEA608:case Fg.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function tT(t,n){if(Pt(t))try{return n.ZD(t).jO(t)}catch(t){return}}function nT(t){return xt(t.sources)&&""!==t.sources||At(t.sources)&&xt(t.sources.src)}function iT(t){return t.integration===mk.SPOTX&&!g(t.id)}function eT(t){return"freewheel"===t.integration}function rT(t,n,i){if(void 0===i&&(i=Nk.ni),Xk(t))return{sources:[Cw()]};var e=Ul(t);if(e.sources=function(t,n,i){if(Dw(t))return[Yk(t,n,i)];if(Ct(t)&&Dw(t[0])){for(var e=[],r=0;r<t.length;r++){var u=t[r];e.push(Yk(u,n,i))}return e}return[Cw()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!Ct(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var u=r[e];(u=tT(u,n))&&(nT(u)||iT(u)||eT(u))&&i.push(u)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var u,s,o,c=!Ow(e.sources),a=e.ads&&e.ads.length>0;if(c&&!a?delete e.ads:a&&!c&&(e.sources=[]),"textTracks"in e){var h=function(t){if(!Ct(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=Qk(r)).src&&n.push(r)}return n}(e.textTracks);0===h.length?delete e.textTracks:e.textTracks=h}if("poster"in e&&(e.poster=$l(e.poster)),"vr"in e&&(e.vr=(u=e.vr,(s=u||{}).stereoMode=Mk(s.stereoMode),{360:Boolean(s[360]),stereoMode:s.stereoMode?Fk(s.stereoMode):Ck.NONE,nativeVR:Boolean(s.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=Pw(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=Ul(t),e=function(e){var r=n[e],u=!t.some(function(t){return t.integration===r.integration});u&&r.integration!==Bk&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=tg(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=zl(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var uT=function(){function t(t){this.$O=t}return t.prototype.XO=function(t){var n,i,e,r,u,s,o,c=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.$O.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.$O.indexOf(t.charAt(n))<<18|this.$O.indexOf(t.charAt(n+1))<<12|(u=this.$O.indexOf(t.charAt(n+2)))<<6|(s=this.$O.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,c[n/4]=String.fromCharCode(i,e,r),64===s&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},t.prototype.GO=function(t,n){var i,e,r,u,s,o,c,a=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.$O.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,u=i>>6&63,s=63&i,a[o/3]=this.$O.charAt(e)+this.$O.charAt(r)+this.$O.charAt(u)+this.$O.charAt(s);return c=(c=a.join("")).slice(0,c.length-h.length),n||(c+=h),c},t.s_=new t(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.YO=new t(t.s_.XO("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function sT(t){return"string"==typeof t}function oT(t){return"number"==typeof t}var cT={}.toString;var aT,hT=Array.isArray||function(t){return"[object Array]"===cT.call(t)};function fT(t,n){return hT(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(aT||(aT={}));var vT,dT=v.keys(aT).map(function(t){return aT[t]});function lT(t){return-1!==dT.indexOf(t)}!function(t){t.MULTIVIEW="multiview"}(vT||(vT={}));var wT,gT=v.keys(vT).map(function(t){return vT[t]});function yT(t){return-1!==gT.indexOf(t)}function mT(t){try{var n=uT.YO.XO(t),i=JSON.parse(n);if(!function(t,n){var i,e=(d=t,"object"==typeof d&&null!==d),r=sT(t.key),u=sT(t.customer_id),s=oT(t.generation_date),o=oT(t.expiration_date),c=fT(t.domains_page,sT),a=fT(t.domains_source,sT),h=fT(t.sdks,n?lT:sT),f=(v=t.send_impression,"boolean"==typeof v);var v;var d;t.features?i=fT(t.features,n?yT:sT):(i=!0,t.features=[]);if(!(e&&r&&u&&s&&o&&c&&a&&h&&f&&i))return!1;return!0}(i,!1))throw new h("The provided license could not be decoded correctly.");return i}catch(t){throw new h("The provided license could not be decoded correctly.")}}function _T(){return wT||(wT={Uf:tt.href,KO:Q.parent&&Q.parent!==i,JO:kT()}),wT}var pT,bT=["http:","https:","ftp:","ws:","wss:"];function kT(){try{return Q.top.location.href}catch(t){return Q&&Q.document&&Q.document.referrer}}!function(t){t[t.ZO=0]="ZO",t[t.QO=1]="QO",t[t.tN=2]="tN"}(pT||(pT={}));var TT,ST=function(t,n,i,e,r,u,s,o,c){void 0===r&&(r=[]),void 0===u&&(u=""),void 0===s&&(s=Date.now()),void 0===o&&(o=[]),void 0===c&&(c=!0),this.nN=t,this.iN=n,this.eN=i,this.rN=e,this.uN=r,this.sN=u,this.oN=s,this.cN=o,this.aN=c};!function(t){t.QO="expired",t.hN="invaliddomain",t.fN="invalidsource",t.vN="invalidfeature",t.Sl="error"}(TT||(TT={}));var ET=function(){function t(t,n,i){this.dN=void 0,this.lN=t,this.wN=n,this.Ns=i,this.dN=CT(this.Ns)}var n=t.prototype;return n.gN=function(t,n){var i=this;if(!Xk(t)&&0!==n.eN.length&&!DT(n.eN)){var e=[];if(Dw(t.sources)?e=[t.sources]:Ct(t.sources)&&(e=t.sources),!e.every(function(t){return i.yN(t,n)})){var r=TT.fN,u=PT.mN(r);throw new Pc(RT(r),u)}}},n._N=function(n){return this.pN(n.cN)&&this.bN(n)?t.kN(n.rN)?pT.ZO:pT.QO:pT.tN},n.TN=function(t,n){if(!vu(n.uN,t)){var i=TT.vN,e=PT.mN(i);throw new Pc(RT(i),e)}},n.pN=function(t){var n=this;return 0===t.length||t.some(function(t){return n.SN(t)})},n.SN=function(t){return"tvos"===function(t){switch(t){case aT.ANDROID:return ot.dt;case aT.ANDROIDTV:case aT.FIRETV:return ot.wt;case aT.IOS:return ot.yt;case aT.TVOS:return ot._t;case aT.CHROMECAST:case aT.CHROMECASTCAF:return ot.pt;default:return ot.vt}}(t)},t.kN=function(t){var n=Number(new Date);return!!t&&n<=t},n.bN=function(t){return!(this.dN&&0!==t.iN.length&&!DT(t.iN))||!!(this.dN&&this.EN(t.iN)&&this.RN(t.iN))},n.EN=function(t){return OT(this.Ns.Uf,t)},n.RN=function(t){if(!this.Ns.KO)return!0;if(this.lN)return!0;var n=this.IN();return!!n&&OT(n,t)},n.IN=function(){if(this.Ns.KO){var t=r.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Ns.JO?this.Ns.JO:void 0}},n.yN=function(n,i){return!!t.DN(n,i.eN)},t.DN=function(t,n){return OT(this.ON(t),n)},t.ON=function(t){return xt(t)?t:Iw(t)&&t.src||""},t}();function RT(t){switch(t){case TT.hN:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case TT.fN:return n.ErrorCode.LICENSE_INVALID_SOURCE;case TT.QO:return n.ErrorCode.LICENSE_EXPIRED;case TT.vN:return n.ErrorCode.LICENSE_INVALID_FEATURE;case TT.Sl:return n.ErrorCode.LICENSE_ERROR}}function IT(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+r+s+r+s+r+s+"\\)"),c=e.match(o),a=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var h=new RegExp("^"+c[1]+r+a(c[2])+r+a(c[3])+r+a(c[4])+"$");return null!==i.match(h)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function DT(t){return t.some(function(t){return"*"===t})}function OT(t,n){var i=st.$e(t);if(!NT(i))return!0;for(var e=0;e<n.length;e++){var r=n[e];if(IT(i.hostname,r))return!0;if(IT(qv(t),r))return!0}return!1}function NT(t){return-1!==bT.indexOf(t.protocol)}function CT(t){var n=st.$e(t.Uf);return NT(n)&&!IT(n.hostname,"localhost")&&!function(t){return IT(t.hostname,"theoplayer.doubleclick.net")}(n)}var AT,PT=function(){function t(){}return t.mN=function(t){return t===TT.hN?this.NN:t===TT.fN?this.CN:t===TT.QO?this.AN:t===TT.vN?this.PN:this.xN},t}();function xT(t){var n=[t.wk,t.LN,t.BN];switch(t.LN){case AT.MN:n.push(t.Ll);break;case AT.FN:n.push(t.lw),n.push(t.lu);break;case AT.UN:n.push(t.lu)}return n}PT.xN="The license for this player is invalid.",PT.AN="The usage license for this video player has expired.",PT.NN="The current domain is incompatible with the license for this player.",PT.CN="The provided video source is incompatible with the license for this player.",PT.PN="The requested feature is not available with the license for this player.",function(t){t[t.MN=1]="MN",t[t.FN=4]="FN",t[t.UN=5]="UN"}(AT||(AT={}));for(var LT=new Array(256),BT=0;BT<256;BT+=1)LT[BT]=(BT<16?"0":"")+BT.toString(16);function MT(){var t=Rn(),n=(4294967296*d.random()|0)+t&3029421624,i=(4294967296*d.random()|0)+t&3595553209,e=(4294967296*d.random()|0)+t&1130486254,r=(4294967296*d.random()|0)+t&1284287105;return LT[255&n]+LT[n>>>8&255]+LT[n>>>16&255]+LT[n>>>24&255]+"-"+LT[255&i]+LT[i>>>8&255]+"-"+LT[i>>>16&15|64]+LT[i>>>24&255]+"-"+LT[63&e|128]+LT[e>>>8&255]+"-"+LT[e>>>16&255]+LT[e>>>24&255]+LT[255&r]+LT[r>>>8&255]+LT[r>>>16&255]+LT[r>>>24&255]}var FT=function(){function t(t){this.$O=void 0,this.$O=t}var n=t.prototype;return n.XO=function(t){var n,i,e,r,u,s,o,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.$O.indexOf(t.charAt(n))<<18|this.$O.indexOf(t.charAt(n+1))<<12|(u=this.$O.indexOf(t.charAt(n+2)))<<6|(s=this.$O.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,c[n/4]=String.fromCharCode(i,e,r),64===s&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},n.GO=function(t){var n,i,e,r,u,s,o,c=[],a="";if((s=t.length%3)>0)for(;s++<3;)a+=this.$O.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,e=n>>12&63,r=n>>6&63,u=63&n,c[s/3]=this.$O.charAt(i)+this.$O.charAt(e)+this.$O.charAt(r)+this.$O.charAt(u);return(o=c.join("")).slice(0,o.length-a.length)+a},t}();function UT(){return st.Ee()}FT.s_=new FT(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),FT.YO=new FT(FT.s_.XO("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var VT,HT="theoplayer-session-id";function qT(){if(!VT){var t=Yc.ku(HT);t?VT=t:(VT=MT(),Yc.da(HT,VT))}return VT}var WT=/[^\x00-\x7E]/g;function zT(t){return"\\u"+function(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}(e,r/e.length)),e.slice(0,r)+t)}(t.charCodeAt(0).toString(16),4,"0")}var jT=0,$T=1,XT=6e4;function GT(t){var n,i,e,r,u,s=(n=function(t){return[t.VN,t.wc,t.nN,t.Ip,t.HN,t.qN,t.WN.map(xT)]}(t),i=[],e=n,r=function(t,n){if(At(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,u).replace(WT,zT));return FT.YO.GO(s)}var YT=function(){function t(t,n,i,e,r,u){var s=this;void 0===e&&(e=FT.s_),void 0===r&&(r=jT),void 0===u&&(u=$T),this.zN=[],this.jN=null,this.$N=0,this.XN="unknown",this.co=0,this.GN=void 0,this.YN=function(){UT()-s.$N>XT&&s.H()},this.KN=function(){s.H(!0)},this.Po=t,this.gT=n,this.JN=i,this.ZN=e,this.QN=r,this.tC=u,Z.ct(this.KN),this.GN=c(this.YN,XT)}var n=t.prototype;return n.nC=function(){return Boolean(this.HN)},n.iC=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(this.JN.eC());case 2:if(i.sent.aN){i.next=5;break}return i.abrupt("return");case 5:return n={LN:AT.MN,BN:Rn(),Ll:t},i.next=8,wr.awrap(this.rC(n));case 8:case"end":return i.stop()}},null,this,null,j)},n.uC=function(t,n){var i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={LN:AT.FN,BN:Rn(),lw:n,lu:t},e.next=3,wr.awrap(this.rC(i));case 3:case"end":return e.stop()}},null,this,null,j)},n.sC=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={LN:AT.UN,BN:Rn(),lu:t},i.next=3,wr.awrap(this.rC(n));case 3:case"end":return i.stop()}},null,this,null,j)},n.rC=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(this.JN.eC());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.ZN.GO(n.nN)){i.next=6;break}if(t.LN===AT.UN){i.next=6;break}return i.abrupt("return");case 6:if(t.LN===AT.MN?this.oC():this.nC()||this.oC(),t.wk=this.co++,this.zN.push(t),(e=t.LN)!==AT.MN&&e!==AT.UN){i.next=14;break}return i.next=12,wr.awrap(this.H());case 12:i.next=19;break;case 14:if(!(this.zN.length>this.QN)){i.next=19;break}return i.next=17,wr.awrap(this.cC());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,j)},n.H=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.zN.length>0)){n.next=6;break}return n.next=4,wr.awrap(this.cC(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,j)},n.aC=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(this.JN.eC());case 2:return n=i.sent,i.abrupt("return",{VN:Rn(),wc:qT(),nN:this.ZN.GO(n.nN)||"dev",Ip:this.Po,HN:this.jN,qN:this.XN,WN:t});case 4:case"end":return i.stop()}},null,this,null,j)},n.cC=function(t){var n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.zN.splice(0,this.tC),e.next=4,wr.awrap(this.aC(n));case 4:i=e.sent,t?this.av(i):this.hC(i),this.$N=UT();case 7:case"end":return e.stop()}},null,this,null,j)},n.hC=function(t){var n,i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=GT(t),i=new xv({Uf:"https://license.theoplayer.com",bf:n,ov:!1,xf:ta.si,Pf:{"Content-Type":Ap.GS},rv:4e3,ev:Ov.POST}),r.prev=2,r.next=5,wr.awrap(this.gT.Mf(i));case 5:return e=r.sent,r.next=8,wr.awrap(e.mf());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],j)},n.av=function(t){var n=GT(t);this.gT.av({Uf:"https://license.theoplayer.com",bf:n,pf:Ap.GS})},n.oC=function(){this.nC()&&this.H(),this.jN=MT(),this.co=0},n.et=function(){Z.ht(this.KN),a(this.GN),this.H()},ht(t,[{key:"WN",get:function(){return this.zN}},{key:"HN",get:function(){return this.jN}}]),t}();var KT=Et.Bn||Et.kn&&Et.qn<13;function JT(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var ZT=function(){function t(t){this.sI=void 0,this.Id=void 0,this.fC=void 0,this.sI=t}var n=t.prototype;return n.vC=function(t){if(!t||!t.drawImage)return!1;var n=this.sI.cg();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.dC=function(t,n,i,r,u,s){if(!t||!t.texImage2D)return!1;var o=this.sI,c=o.cg();if(!c)return!1;if(KT){this.fC||(this.fC=e.createElement("canvas"));var a=this.fC,f=a.getContext("2d"),v=o.Tw,d=o.kw,l=a.width,w=a.height;f.clearRect(0,0,a.width,a.height),l===v&&w===d||(a.width=v,a.height=d),f.drawImage(c,0,0,v,d);var g=!1;v>0&&JT(f,v-1,0)&&(a.width=l,g=!0),d>0&&JT(f,0,d-1)&&(a.height=w,g=!0),g&&f.drawImage(c,0,0,v,d),c=a}try{t.texImage2D(n,i,r,u,s,c)}catch(t){throw new h("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},ht(t,[{key:"Dd",get:function(){return this.Id||(this.Id=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.vC.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,u,s){return t.dC(n,i,e,r,u,s)}}));var t}}]),t}(),QT=function(t){function n(n,i){var e;return(e=t.call(this,"lC")||this).Ty=n,e.ob=i,e}return vt(n,t),n.prototype.Od=function(){return new tS(this.Ty,this.ob)},n}(Tl),tS=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return vt(n,t),n}(Pu),nS=function(t,n){this.mg=void 0,this.wC=void 0,this.mg=t,this.wC=n},iS=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).gC=void 0,e.yC=0,e.mC=0,e._C=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.mC=n.width,e.yC=n.height,e.wC(e.mC,e.yC)}},e.gC=new Q.ResizeObserver(e._C),e.gC.observe(e.mg),e}return vt(n,t),n.prototype.et=function(){this.gC.disconnect()},ht(n,[{key:"pC",get:function(){return this.yC}},{key:"bC",get:function(){return this.mC}}]),n}(nS),eS=0;var rS,uS=o,sS=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,oS=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function cS(){return rS||(rS=Q&&Q.document&&Q.document.createElement("span")),rS}sS&&oS||(sS=function(t){var n=UT(),i=d.max(0,16-(n-eS)),e=s(function(){return t(n+i)},i);return eS=n+i,e},oS=uS),sS=sS.bind(t),oS=oS.bind(t);var aS=["Webkit","Moz","O","ms"];!function(){var t=!1;try{if(void 0!==Q&&"function"==typeof Q.addEventListener){var n=v.defineProperty({},"passive",{get:function(){t=!0}});Q.addEventListener("testPassiveEventSupport",Ft,n),Q.removeEventListener("testPassiveEventSupport",Ft,n)}}catch(t){}}();var hS=mr();function fS(t){return hS.has(t)||hS.set(t,function(t){var n=cS();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<aS.length;e++){var r=aS[e],u=r+i;if(void 0!==n.style[u])return u}return t}(t)),hS.get(t)}function vS(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function dS(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[fS("transition")]="0s"}var lS=function(t){function n(n,r,u){var o;(o=t.call(this,n,r)||this).kC=void 0,o.TC=0,o.mC=NaN,o.yC=NaN,o.SC=void 0,o.EC=void 0,o.RC=void 0,o.IC=void 0,o.DC=void 0,o.ul=function(){o.EC.style.width=1e5+"px",o.EC.style.height=1e5+"px",o.SC.scrollLeft=1e5,o.SC.scrollTop=1e5,o.RC.scrollLeft=1e5,o.RC.scrollTop=1e5,0===o.RC.scrollTop&&sS(o.ul)},o.OC=function(){var t=o.bC,n=o.pC;o.wC(t,n),o.mC=t,o.yC=n,o.ul(),o.TC=0},o.NC=function(){if(!o.TC){var t=o.bC,n=o.pC;t===o.mC&&n===o.yC||(o.TC=sS(o.OC))}},o.CC=function(){o.DC||(o.DC=s(o.AC,66))},o.AC=function(){o.DC=void 0,o.xC()},o.xC=function(){o.NC()};var c=function(t,n){return i.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");u||"static"!==c||(n.style.position="relative");var a,h=e.createElement("div");return o.kC=h,o.SC=e.createElement("div"),o.EC=e.createElement("div"),o.RC=e.createElement("div"),o.IC=e.createElement("div"),vS(o.SC),vS(o.RC),dS(o.EC),dS(a=o.IC),a.style.width="200%",a.style.height="200%",h.appendChild(o.SC),h.appendChild(o.RC),o.SC.appendChild(o.EC),o.RC.appendChild(o.IC),n.appendChild(h),o.SC.addEventListener("scroll",o.NC),o.RC.addEventListener("scroll",o.NC),i&&i.addEventListener("resize",o.CC),o.NC(),o}return vt(n,t),n.prototype.et=function(){oS(this.TC),this.TC=0,this.SC.removeEventListener("scroll",this.NC),this.RC.removeEventListener("scroll",this.NC),je(this.kC),i&&i.removeEventListener("resize",this.CC)},ht(n,[{key:"pC",get:function(){return this.mg.getBoundingClientRect().height||this.yC||0}},{key:"bC",get:function(){return this.mg.getBoundingClientRect().width||this.mC||0}}]),n}(nS),wS=function(t){function n(n){var i;return(i=t.call(this)||this).mg=void 0,i.gC=void 0,i._C=function(t,n){i.Qr(new QT(t,n))},i.mg=n,i}vt(n,t);var i=n.prototype;return i.bc=function(t){this.gC||("function"==typeof Q.ResizeObserver?this.gC=new iS(this.mg,this._C):this.gC=new lS(this.mg,this._C,t))},i.et=function(){this.eu(),this.gC&&(this.gC.et(),this.gC=void 0)},ht(n,[{key:"pC",get:function(){return this.gC?this.gC.pC:0}},{key:"bC",get:function(){return this.gC?this.gC.bC:0}}]),n}(Cu),gS=function(t){function n(){return t.call(this,Xb.Hd)||this}return vt(n,t),n}(Pu);!function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{LC:i[0],BC:i[1],MC:i[2],FC:i[3],UC:i[4],VC:i[5]}}}();var yS=function(t){function n(){return t.call(this,Xb.aD)||this}return vt(n,t),n}(Pu),mS=function(t){function n(n,i){var e;return(e=t.call(this)||this).sI=void 0,e.HC=void 0,e.qC=void 0,e.WC=!1,e.zC=function(){return e.hc()},e.HD=function(t){e.WC||e.Qr(t)},e.sI=n,e.HC=i,e.qC=Zb,e.jC(),e.sI.tu(Qc.Ra,e.zC),e.hc(),e}vt(n,t);var i=n.prototype;return i.Gg=function(){this.HC&&this.qC.Gg()},i.Kg=function(){this.qC.Kg()},i.jC=function(){this.qC.tu(Xb.Hd,this.HD),this.qC.tu(Xb.Sl,this.Zr)},i.$C=function(){this.qC.ru(Xb.Hd,this.HD),this.qC.ru(Xb.Sl,this.Zr)},i.hc=function(){var t=this.qC,n=this.sI.ag();if(t!==n){this.WC=!0;var i=this.hD,e=this.fD;i&&this.Kg(),this.$C(),this.qC=n,this.jC(),i&&!this.hD&&this.fD?this.Gg():this.Kg(),this.WC=!1,e!==this.fD&&this.Qr(new yS),i!==this.hD&&this.Qr(new gS)}},i.et=function(){this.eu(),this.$C(),this.sI.ru(Qc.Ra,this.zC)},ht(n,[{key:"fD",get:function(){return!!this.HC&&this.qC.fD}},{key:"hD",get:function(){return this.qC.hD}}]),n}(Cu);function _S(t){var n;return{get url(){return t.Uf},get method(){return t.ev},get headers(){return n||(n=t.Pf.nh()),n},get body(){return t.bf},get useCredentials(){return t.ov},get type(){return SS(t.pr)},get subType(){return RS(t.uv)},get mediaType(){return DS(t.sv)},get responseType(){return bS(t.xf)}}}function pS(t){switch(t.toLowerCase()){case"arraybuffer":return ta.Za;case"json":return ta.Qa;case"stream":return ta.th;case"text":default:return ta.si}}function bS(t){return t}function kS(t){switch(t.toUpperCase()){case"POST":return Ov.POST;case"PUT":return Ov.PUT;case"DELETE":return Ov.DELETE;case"HEAD":return Ov.HEAD;case"OPTIONS":return Ov.OPTIONS;case"GET":default:return Ov.GET}}function TS(t){switch(t.toLowerCase()){case"manifest":return Nv.qf;case"segment":return Nv.Wf;case"content-protection":return Nv.zf;default:return Nv.Hf}}function SS(t){return t}function ES(t){switch(t.toLowerCase()){case"initialization-segment":return Cv.jf;case"fairplay-license":return Cv.$f;case"fairplay-certificate":return Cv.Xf;case"widevine-license":return Cv.Gf;case"widevine-certificate":return Cv.Yf;case"playready-license":return Cv.Kf;case"clearkey-license":return Cv.Jf;case"aes128-key":return Cv.Zf;default:return Cv.Hf}}function RS(t){return t}function IS(t){switch(t.toLowerCase()){case"audio":return Av.Qf;case"video":return Av.tv;case"text":return Av.si;case"image":return Av.nv;case"":default:return Av.Hf}}function DS(t){return t}var OS=function(){function t(t,n){this.XC=new qs,this.GC=[],this.Id=void 0,this.YC=!1,this.bv=void 0,this.KC=0,this.JC=t,this.ZC=n}var n=t.prototype;return n.gp=function(){this.YC=!0,this.XC.Fu(null)},n.QC=function(){this.XC.Uu(new cv(this.GC))},n.tA=function(t){if(!this.nA)throw new f("Cannot respond more than once");if(!At(t))throw new f("Expected valid response");this.bv=this.iA(t),this.gp()},n.eA=function(){try{var t=this.ZC(this.Dd);t?this.rA(t):this.uA||this.sA||this.gp()}catch(t){this.GC.push(t),this.QC()}},n.rA=function(t){if(this.sA)throw new h("Request has been redirected or a response already exists");if(Bt(t))this.oA(t);else{if("function"!=typeof t)throw new f("Expected promise or function");var n=new qs;try{var i=t(function(t){t?n.Uu(t):n.Fu(void 0)});Bt(i)&&n.Fu(i)}catch(t){n.Uu(t)}this.oA(n.Lu)}},n.oA=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.KC++,n.next=4,wr.awrap(t);case 4:this.KC--,this.uA||this.sA||(this.GC.length?this.QC():this.gp()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.KC--,this.GC.push(n.t0),this.uA||this.sA||this.QC();case 13:case"end":return n.stop()}},null,this,[[0,8]],j)},ht(t,[{key:"cA",get:function(){return this.XC.Lu}},{key:"Dd",get:function(){return this.Id||(this.Id=this.aA()),this.Id}},{key:"sA",get:function(){return this.YC}},{key:"nA",get:function(){return!this.YC}},{key:"uA",get:function(){return this.KC>0}},{key:"kv",get:function(){return this.bv}}]),t}(),NS=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).hA=void 0,r.hA=e,r.eA(),r}vt(n,t),n.fA=function(t,n,i){var e=void 0===t.body?i:t.body;return new Pv({Li:e,Mf:n.Mf,xf:n.Mf.xf,Pf:t.headers,Af:t.status,Lf:t.statusText,Ff:t.url,Bf:!0},n)};var i=n.prototype;return i.aA=function(){return i=_S((t=this).Mf),{get closed(){return!t.nA},get request(){return i},get url(){return t.Uf},get status(){return t.Af},get statusText(){return t.Lf},get headers(){return n||(n=t.Pf.nh()),n},get body(){return t.bf},respondWith:function(n){return t.tA(n)},waitUntil:function(n){return t.rA(n)}};var t,n,i},i.iA=function(t){return n.fA(t,this.JC,this.hA)},ht(n,[{key:"bf",get:function(){return this.hA}},{key:"Pf",get:function(){return this.JC.Pf}},{key:"Mf",get:function(){return this.JC.Mf}},{key:"kv",get:function(){return this.bv}},{key:"Af",get:function(){return this.JC.Af}},{key:"Lf",get:function(){return this.JC.Lf}},{key:"Uf",get:function(){return this.JC.Ff}}]),n}(OS),CS=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).vA=void 0,r.dA=void 0,r.dA=e,r.eA(),r}vt(n,t);var i=n.prototype;return i.aA=function(){return t=this,{get url(){return t.Uf},get method(){return t.ev},get headers(){return n||(n=t.Pf.nh()),n},get body(){return t.bf},get closed(){return!t.nA},get useCredentials(){return t.ov},get type(){return SS(t.pr)},get subType(){return RS(t.uv)},get mediaType(){return DS(t.sv)},get responseType(){return bS(t.xf)},redirect:function(n){return t.lA(n)},respondWith:function(n){return t.tA(n)},waitUntil:function(n){return t.rA(n)}};var t,n},i.iA=function(t){var n=this.JC.bf,i=new Pv({Li:n,Pf:{},Mf:this.JC,Ff:this.JC.Uf,xf:this.JC.xf,Af:200,Lf:"OK"});return NS.fA(t,i,n)},i.lA=function(t){if(!this.nA)throw new f("Cannot redirect, already redirected or has a response");var n;n=xt(t)?{url:t}:t,this.vA=function(t,n){return new xv({Uf:void 0===t.url?n.Uf:t.url,ev:void 0!==t.method?kS(t.method):void 0,Pf:t.headers,bf:t.body,ov:t.useCredentials,pr:void 0!==t.type?TS(t.type):void 0,uv:void 0!==t.subType?ES(t.subType):void 0,sv:void 0!==t.mediaType?IS(t.mediaType):void 0,xf:void 0!==t.responseType?pS(t.responseType):void 0},n)}(n,this.JC),this.gp()},ht(n,[{key:"bf",get:function(){return this.JC.bf}},{key:"nA",get:function(){return this.dA&&!this.YC}},{key:"Pf",get:function(){return this.JC.Pf}},{key:"ev",get:function(){return this.JC.ev}},{key:"wA",get:function(){return this.vA}},{key:"kv",get:function(){return this.bv}},{key:"xf",get:function(){return this.JC.xf}},{key:"rv",get:function(){return this.JC.rv}},{key:"Gr",get:function(){return this.JC.Gr}},{key:"pr",get:function(){return this.JC.pr}},{key:"uv",get:function(){return this.JC.uv}},{key:"sv",get:function(){return this.JC.sv}},{key:"Uf",get:function(){return this.JC.Uf}},{key:"ov",get:function(){return this.JC.ov}},{key:"cv",get:function(){return this.JC.cv}}]),n}(OS);var AS,PS=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new xS(n);return(e=t.call(this,r,i)||this).gA=void 0,e.gA=r,e}vt(n,t);var i=n.prototype;return i.yA=function(t){this.gA.yA(t)},i.mA=function(t){this.gA.mA(t)},i._A=function(t){this.gA._A(t)},i.pA=function(t){this.gA.pA(t)},i.bA=function(t){this.gA.bA(t)},n}(Bv),xS=function(){function t(t){this.hv=void 0,this.kA=[],this.TA=[],this.hv=t}var n=t.prototype;return n.Mf=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,wr.awrap(this.SA(t,t.Gr));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof Wv)){i.next=12;break}return i.next=11,wr.awrap(this.EA(i.t0,t.Gr));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,wr.awrap(this.RA(n,t.Gr));case 15:if(!Dv(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new jv(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],j)},n.av=function(t){return this.hv.av(t)},n.SA=function(t,n){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:mu(n),i=t,r=0,u=this.kA.slice();case 3:if(!(r<u.length)){c.next=21;break}if(s=u[r],mu(n),(o=new CS(i,s,!e)).sA){c.next=17;break}return c.prev=8,c.next=11,wr.awrap(o.cA);case 11:c.next=17;break;case 13:return c.prev=13,c.t0=c.catch(8),c.abrupt("continue",18);case 17:o.wA&&!e?i=o.wA:o.kv&&!e&&(e=o.kv);case 18:r++,c.next=3;break;case 21:if(!e){c.next=23;break}return c.abrupt("return",e);case 23:return c.abrupt("return",this.hv.Mf(i));case 24:case"end":return c.stop()}},null,this,[[8,13]],j)},n.EA=function(t,n){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof jv?t.kv:new Pv({Li:null,Mf:t.Mf,Af:0,Lf:""}),r.next=3,wr.awrap(this.RA(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!Dv(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new jv(e);case 13:case"end":return r.stop()}},null,this,null,j)},n.RA=function(t,n){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=t,e=0,r=this.TA.slice();case 2:if(!(e<r.length)){c.next=23;break}return u=r[e],mu(n),c.next=7,wr.awrap(j.resolve(i.Nu().Li(n)));case 7:if(s=c.sent,(o=new NS(i,u,s)).sA){c.next=19;break}return c.prev=10,c.next=13,wr.awrap(o.cA);case 13:c.next=19;break;case 15:return c.prev=15,c.t0=c.catch(10),c.abrupt("continue",20);case 19:i=o.kv||i;case 20:e++,c.next=2;break;case 23:return c.abrupt("return",i);case 24:case"end":return c.stop()}},null,this,[[10,15]],j)},n.yA=function(t){this.kA.unshift(t)},n.mA=function(t){this.kA.push(t)},n._A=function(t){au(this.kA,t)},n.pA=function(t){this.TA.unshift(t)},n.bA=function(t){au(this.TA,t)},n.et=function(){this.hv.et(),du(this.kA),du(this.TA)},t}(),LS=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).Id=void 0,r.IA=function(t){r.Qr(t)},r.DA=function(t){r.Qr(t)},r.OA=n,r.gT=i,r.bD=e,r.OA.tu(Qc.Aa,r.IA),r.OA.tu(Qc.Ca,r.DA),r}vt(n,t);var i=n.prototype;return i.NA=function(t){this.bD.NA(t)},i.yA=function(t){this.gT.yA(t)},i._A=function(t){this.gT._A(t)},i.pA=function(t){this.gT.pA(t)},i.bA=function(t){this.gT.bA(t)},i.et=function(){this.eu(),this.OA.ru(Qc.Aa,this.IA),this.OA.ru(Qc.Ca,this.DA)},ht(n,[{key:"Dd",get:function(){var t;return this.Id||(this.Id=(t=this,{get online(){return t.Ig},get estimator(){return n=t.CA,{get bandwidth(){return n.CE},get roundTripTime(){return n.AE}};var n},setEstimator:function(n){t.NA(function(t){if(t)return{get CE(){return jl(t.bandwidth)},get AE(){return jl(t.roundTripTime)},NE:function(n){return function(t){if(t)return{AA:function(n){t.markRequestStart(n)},PA:function(n){t.markResponseStart(n)},xA:function(n,i){t.markResponseData(n,i)},LA:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(_S(n)))}}}(n))},addRequestInterceptor:function(n){t.yA(n)},removeRequestInterceptor:function(n){t._A(n)},addResponseInterceptor:function(n){t.pA(n)},removeResponseInterceptor:function(n){t.bA(n)},addEventListener:function(n,i){t.tu(n,i)},removeEventListener:function(n,i){t.ru(n,i)}})),this.Id}},{key:"Ig",get:function(){return this.OA.Ig}},{key:"CA",get:function(){return this.bD.CA}}]),n}(Cu);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(AS||(AS={}));var BS=30,MS={type:AS.BANDWIDTH},FS=20;function US(t){var n,i,e,r=Ul(MS);return xt(t)?r.type=VS(t):At(t)&&function(t){switch(t){case AS.PERFORMANCE:case AS.QUALITY:case AS.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=VS(t.type)),At(t)&&At(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=zl(n.bitrate),g(e)||(i.bitrate=e),i)),r}function VS(t){switch(t){case"bandwidth":return AS.BANDWIDTH;case"performance":return AS.PERFORMANCE;case"quality":return AS.QUALITY}}var HS=function(t){function n(n){var i;return(i=t.call(this,"MA")||this).BA=n,i}return vt(n,t),n}(Pu),qS=function(t){function n(n){var i;return(i=t.call(this,"UA")||this).FA=n,i}return vt(n,t),n}(Pu),WS=function(t){function n(n){var i;return(i=t.call(this,"HA")||this).VA=n,i}return vt(n,t),n}(Pu),zS=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(n=t.call.apply(t,[this].concat(r))||this).Id=(i=Nn(n),{get strategy(){return{metadata:(t=i.FA).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.FA=US(t)},get targetBuffer(){return i.BA},set targetBuffer(t){var n=zl(t);g(n)||(i.BA=n)},get bufferLookbackWindow(){return i.VA},set bufferLookbackWindow(t){var n=zl(t);g(n)||(i.VA=n<=0?BS:n)},get maxBufferLength(){return i.qA}}),n.WA=MS,n.zA=FS,n.jA=BS,n.$A=1/0,n.XA=void 0,n.GA=void 0,n}vt(n,t);var i=n.prototype;return i.YA=function(t){this.GA=t},i.NA=function(t){this.XA=t},i.KA=function(t){var n=d.min(t,.8*this.$A);if(n=d.max(10,n),this.$A===n)return!1;var i=this.JA;this.$A=n;var e=this.JA;return e!==i&&this.Qr(new HS(e)),!0},ht(n,[{key:"ZA",get:function(){switch(this.WA.type){case AS.PERFORMANCE:return 0;case AS.QUALITY:return 1/0;case AS.BANDWIDTH:return this.WA.metadata&&void 0!==this.WA.metadata.bitrate?this.WA.metadata.bitrate:8*lw.Xl();default:return 8*lw.Xl()}}},{key:"Dd",get:function(){return this.Id}},{key:"FA",get:function(){return this.WA},set:function(t){this.WA=t,this.Qr(new qS(t))}},{key:"BA",get:function(){return this.zA},set:function(t){this.zA=t,this.Qr(new HS(t))}},{key:"JA",get:function(){return d.min(this.zA,this.$A)}},{key:"VA",get:function(){return this.jA},set:function(t){this.jA=t,this.Qr(new WS(t))}},{key:"qA",get:function(){return this.$A}},{key:"CA",get:function(){var t;return null!=(t=this.XA)?t:this.GA.$R}}]),n}(Cu),jS=function(t){function n(){return t.call(this,"qd")||this}return vt(n,t),n.prototype.Od=function(){return new $S},n}(Tl),$S=function(t){function n(){return t.call(this,"change")||this}return vt(n,t),n}(Pu),XS=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).QA=void 0,r.zN=void 0,r.tP=function(t){Sl(t)&&Su(function(){r.Qr(t.Dd)})},r.QA=n,r.zN=i;for(var u=0,s=r.zN;u<s.length;u++){var o=s[u];r.QA.tu(o,r.tP)}return r}return vt(n,t),n.prototype.et=function(){this.eu();for(var t=0,n=this.zN;t<n.length;t++){var i=n[t];this.QA.ru(i,this.tP)}},n}(Cu),GS=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).QA=void 0,e.tP=function(t){Sl(t)&&Su(function(){e.Qr(t.Dd)})},e.QA=n,e.QA.iu(e.tP),e}return vt(n,t),n.prototype.et=function(){this.eu(),this.QA.ou(this.tP)},n}(hw);var YS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ny=0,n.iy=1/0,n.Id=void 0,n}vt(n,t);var i=n.prototype;return i.ul=function(){0===this.ny&&this.iy===1/0||(this.ny=0,this.iy=1/0,this.Qr(new jS))},i.nP=function(){return new Yb([this.Zg,this.Qg],[!0,!0])},ht(n,[{key:"Zg",get:function(){return this.ny},set:function(t){if(this.Qg<=t)throw new h("Start time of a clip should be smaller than the end time.");this.ny!==t&&(this.ny=t,this.Qr(new jS))}},{key:"Qg",get:function(){return this.iy},set:function(t){if(t<=this.Zg)throw new h("End time of a clip should be larger than the start time.");this.iy!==t&&(this.iy=t,this.Qr(new jS))}},{key:"Dd",get:function(){var t,n,i;return this.Id||(this.Id=(i={get startTime(){return t.Zg},set startTime(n){t.Zg=n},get endTime(){return t.Qg},set endTime(n){t.Qg=n},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.ru(t,i)}},n=new GS(t=this,i),i)),this.Id}}]),n}(hw),KS=function(t){function n(n){var i;return(i=t.call(this)||this).iP=function(t){i.eP(t)||i.Qr(t)},i.rP=n,i.rP.iu(i.iP),i}vt(n,t);var i=n.prototype;return i.uP=function(){return this.rP.Gw},i.hg=function(){return this.rP.hg()},i.sP=function(){return this.rP.gg},i.oP=function(){return this.rP.lg},i.cP=function(){return this.rP.yg},i.aP=function(t){this.rP.yg=t},i.hP=function(){return this.rP.lw},i.fP=function(t){this.rP.lw=t},i.vP=function(){return this.rP.ww},i.dP=function(){return this.rP.mg},i.lP=function(){return this.rP.gw},i.wP=function(){return this.rP.lu},i.gP=function(){return this.rP.yw},i.yP=function(){return this.rP._g},i.mP=function(){return this.rP.mw},i._P=function(t){this.rP.mw=t},i.pP=function(){return this.rP.Ig},i.bP=function(){return this.rP._w},i.kP=function(){return this.rP.pw},i.TP=function(t){this.rP.pw=t},i.SP=function(){return this.rP.Dg},i.EP=function(){return this.rP.Og},i.RP=function(t){this.rP.Og=t},i.IP=function(){return this.rP.Al},i.DP=function(){return this.rP.Ng},i.OP=function(){return this.rP.bw},i.Qw=function(){return this.rP.Qw()},i.tg=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return mu(n),i.next=3,wr.awrap(this.rP.tg(t,n));case 3:case"end":return i.stop()}},null,this,null,j)},i.NP=function(){return this.rP.Kw},i.CP=function(){return this.rP.kw},i.AP=function(){return this.rP.Yw},i.PP=function(){return this.rP.Tw},i.xP=function(){return this.rP.Sw},i.LP=function(t){this.rP.Sw=t},i.ag=function(){return this.rP.ag()},i.cg=function(){return this.rP.cg()},i.rg=function(t){this.rP.rg(t)},i.ug=function(){this.rP.ug()},i.og=function(){this.rP.og()},i.st=function(){this.rP.st()},i.K=function(){this.rP.K()},i.Y=function(){this.rP.Y()},i.sg=function(){this.rP.sg()},i.Zw=function(){return this.rP.Zw()},i.ng=function(){return this.rP.ng()},i.ig=function(){this.rP.ig()},i.eg=function(){this.rP.eg()},i.ul=function(){return this.rP.ul()},i.et=function(){return this.rP.et()},i.wg=function(){this.rP.wg()},i.fg=function(t){return this.rP.fg(t)},i.eP=function(t){return!1},ht(n,[{key:"Gw",get:function(){return this.uP()}},{key:"gg",get:function(){return this.sP()}},{key:"yg",get:function(){return this.cP()},set:function(t){this.aP(t)}},{key:"lg",get:function(){return this.oP()}},{key:"lw",get:function(){return this.hP()},set:function(t){this.fP(t)}},{key:"ww",get:function(){return this.vP()}},{key:"mg",get:function(){return this.dP()}},{key:"gw",get:function(){return this.lP()}},{key:"lu",get:function(){return this.wP()}},{key:"yw",get:function(){return this.gP()}},{key:"Jw",get:function(){return this.rP.Jw}},{key:"_g",get:function(){return this.yP()}},{key:"pg",get:function(){return this.rP.pg}},{key:"mw",get:function(){return this.mP()},set:function(t){this._P(t)}},{key:"Ig",get:function(){return this.pP()}},{key:"_w",get:function(){return this.bP()}},{key:"pw",get:function(){return this.kP()},set:function(t){this.TP(t)}},{key:"Dg",get:function(){return this.SP()}},{key:"Og",get:function(){return this.EP()},set:function(t){this.RP(t)}},{key:"Al",get:function(){return this.IP()}},{key:"Ng",get:function(){return this.DP()}},{key:"bw",get:function(){return this.OP()}},{key:"Kw",get:function(){return this.NP()}},{key:"kw",get:function(){return this.CP()}},{key:"Yw",get:function(){return this.AP()}},{key:"Tw",get:function(){return this.PP()}},{key:"Sw",get:function(){return this.xP()},set:function(t){this.LP(t)}},{key:"Cg",get:function(){return this.rP.Cg}},{key:"Ag",get:function(){return this.rP.Ag},set:function(t){this.rP.Ag=t}}]),n}(fw),JS=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).BP=void 0,r.MP=!1,r.FP=void 0,r.UP=!1,r.VP=function(){r.HP(),r.qP()},r.cR=function(){r.WP(),r.qP(),r.zP&&r.lw>=r.BP.Qg-n.jP&&!r.gw&&(r.FP=sS(r.cR))},r.$P=function(){r.UP=!0},r.XP=function(){r.UP&&(r.UP=!1,r.qP())},r.BP=e,r.BP.tu("qd",r.VP),r.rP.tu("timeupdate",r.cR),r}vt(n,t);var i=n.prototype;return i.fP=function(n){var i=this.BP.nP().LI(n);t.prototype.fP.call(this,i),this.qP()},i.lP=function(){return t.prototype.lP.call(this)||this.MP},i.DP=function(){return Yb.uD(t.prototype.DP.call(this)).FI(this.BP.nP()).qR()},i.Y=function(){this.lP()?this.fP(this.GP.start(0)):this.HP(),t.prototype.Y.call(this),this.qP()},i.tg=function(n,i){return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return mu(i),this.MP=!1,this.BP.ul(),e.next=5,wr.awrap(t.prototype.tg.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,j)},i.et=function(){return this.BP.ru("qd",this.VP),this.rP.ru("timeupdate",this.cR),this.WP(),t.prototype.et.call(this)},i.eP=function(n){switch(n.type){case"seeking":return this.Qr(n),this.$P(),!0;case"seeked":case"emptied":return this.Qr(n),this.XP(),!0;case"ended":if(this.zP)return!0}return t.prototype.eP.call(this,n)},i.WP=function(){this.FP&&(oS(this.FP),this.FP=void 0)},i.qP=function(){var t=this.lw,i=this.zP&&t>=this.BP.Qg-n.Am;this.MP&&!i?(this.MP=!1,this._w&&this.Y()):this.MP||!i||this.bw||this.UP||(this.MP=!0,this.Qr(new jw(t)),this.K())},i.HP=function(){if(this.ww!==1/0){var t=this.GP,i=Yb.uD(t).LI(this.lw);Sn(this.lw,i,n.Am)||this.fP(i)}},ht(n,[{key:"GP",get:function(){return this.DP().length?this.DP():this.BP.nP().qR()}},{key:"zP",get:function(){return this.BP.Qg<this.ww}}]),n}(KS);JS.jP=1,JS.Am=.001;var ZS=function(){function t(){this.YP=void 0,this.YP=!1}return ht(t,[{key:"KP",get:function(){return this.YP},set:function(t){this.YP=t}}]),t}(),QS=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).YP=void 0,e.JP=!1,e.ZP=!1,e.YP=i,e}vt(n,t);var i=n.prototype;return i.lP=function(){return!this.YP.KP&&t.prototype.lP.call(this)},i.K=function(){this.ZP=!0,t.prototype.K.call(this)},i.Y=function(){this.ZP=!1,t.prototype.Y.call(this)},i.eP=function(n){if(this.YP.KP)switch(n.type){case"ended":return this.lw=0,this.ZP||(this.bw?this.JP=!0:this.Y()),!0;case"seeked":this.JP&&(this.JP=!1,this.Y());break;case"pause":if(this.JP||t.prototype.lP.call(this))return!0}return t.prototype.eP.call(this,n)},n}(KS);var tE=function(){function t(t){var n;this.Id=(n=this,{get currentBandwidthEstimate(){return n.Sg},get corruptedVideoFrames(){return n.kg},get droppedVideoFrames(){return n.bg},get totalBytesLoaded(){return n.Eg},get bufferedSegments(){return n.Rg}}),this.lI=t}return ht(t,[{key:"Dd",get:function(){return this.Id}},{key:"kg",get:function(){return this.lI.QP.pg.kg}},{key:"Sg",get:function(){return this.lI.QP.pg.Sg}},{key:"bg",get:function(){return this.lI.QP.pg.bg}},{key:"tx",get:function(){throw new h("Not implemented")}},{key:"nx",get:function(){throw new h("Not implemented")}},{key:"Eg",get:function(){return this.lI.QP.pg.Eg}},{key:"Tg",get:function(){return this.lI.QP.pg.Tg}},{key:"Rg",get:function(){return this.lI.QP.pg.Rg}}]),t}(),nE=function(t){function n(){return t.call(this,"ix")||this}return vt(n,t),n.prototype.Od=function(){return new iE},n}(Tl),iE=function(t){function n(){return t.call(this,"castingchange")||this}return vt(n,t),n}(Pu);var eE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ex=[],n.ux=!1,n.Id=void 0,n.sx=function(){var t=n.ux,i=n.ox;t!==i&&(n.ux=i,n.Qr(new nE))},n}vt(n,t);var i=n.prototype;return i.ax=function(t){this.ex.push(t),t.tu("statechange",this.sx)},i.et=function(){for(var t=0,n=this.ex;t<n.length;t++){n[t].ru("statechange",this.sx)}du(this.ex)},ht(n,[{key:"ox",get:function(){return this.ex.some(function(t){return t.ox})}},{key:"Dd",get:function(){var t,n,i;return this.Id||(this.Id=(i={get casting(){return t.ox},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.ru(t,i)}},n=new XS(t=this,["ix"],i),i)),this.Id}}]),n}(Cu),rE=function(){function t(){}return t.hx=function(t,n){var i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,i=new xv({Uf:t,xf:ta.si,ev:Ov.GET}),u.next=4,wr.awrap(n.Mf(i));case 4:return e=u.sent,u.next=7,wr.awrap(e.Li());case 7:return r=u.sent,u.abrupt("return",r.trim());case 11:return u.prev=11,u.t0=u.catch(0),yu(u.t0),u.abrupt("return",void 0);case 15:case"end":return u.stop()}},null,null,[[0,11]],j)},t.vx=function(t){try{var i=mT(t);return new ST(i.key,i.domains_page,i.domains_source,i.expiration_date,i.features,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Pc(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.lx=function(t){void 0===t&&(t=FT.s_),st.Ce("The baked-in license is used. Please update the configuration with your license.");var n=t.XO(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.XO(n)}),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.XO(n)}),r=Number(new Date(Number(t.XO("COD|aHpHa:p3Ceo3Co\"\"")))),u=[].map(function(n){return t.XO(n)});return new ST(n,i,e,r,u)},t.convertLicenseToDummyLicense=function(t){return new ST(t.nN,t.iN,t.eN,864e13,t.uN,t.sN,Date.now(),t.cN,t.aN)},t}(),uE=function(){function t(){}return t.la=function(){return t.ni||(t.ni=sE.Dc()?new sE:new Gc),t.ni},t.Eu=function(n){t.la().Eu(n)},t.va=function(){t.la().va()},t.ku=function(n){return t.la().ku(n)},t.da=function(n,i){t.la().da(n,i)},t.wx=function(n){var i=t.ku(n);if(void 0!==i)return w(i)},t.gx=function(n){return"true"===t.ku(n)},t}();uE.ni=void 0;var sE=function(n){function i(){return n.apply(this,arguments)||this}vt(i,n),i.Dc=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.Eu=function(n){t.localStorage.removeItem(n)},e.va=function(){t.localStorage.clear()},e.ku=function(n){return t.localStorage[n]},e.da=function(n,i){t.localStorage[n]=i},i}(uE),oE=d.floor(14399999*d.random()-72e5),cE=function(){function t(t,n,i,e,r,u){this.dN=void 0,this.gT=t,this.yx=n,this.mx=i,this.JN=e,this._x=r,this.Ns=u,this.dN=CT(u)}var i=t.prototype;return i.bx=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(this.kx(this._x.license,this._x.licenseUrl));case 2:t=n.sent,this.JN.Tx(t);case 4:case"end":return n.stop()}},null,this,null,j)},i.kx=function(t,i){var e,r,u,s,o,c,a,h,f;return wr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=rE.vx(t):e||(r=rE.lx()),e||(e="https://validate.theoplayer.com/1/"+r.nN),u=this.Sx(),!r){v.next=14;break}if((s=this.yx._N(r))!==pT.ZO){v.next=14;break}if(!this.Ex(r.rN)||!this.Ex(null==u?void 0:u.rN)){v.next=13;break}return v.next=10,wr.awrap(this.Rx(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!u){v.next=25;break}if(this.yx._N(u)!==pT.ZO){v.next=24;break}if(!this.Ex(null==u?void 0:u.rN)){v.next=23;break}return v.next=20,wr.awrap(this.Rx(e));case 20:if(!(c=v.sent)){v.next=23;break}return v.abrupt("return",c);case 23:return v.abrupt("return",u);case 24:uE.Eu("THEOplayer.license");case 25:return v.next=27,wr.awrap(rE.hx(e,this.gT));case 27:if(!(a=v.sent)){v.next=37;break}if(h=rE.vx(a),this.yx._N(h)!==pT.ZO){v.next=34;break}return uE.da("THEOplayer.license",a),v.abrupt("return",h);case 34:uE.Eu("THEOplayer.license"),v.next=39;break;case 37:if(this.dN||!r||s!==pT.QO||e!=="https://validate.theoplayer.com/1/"+r.nN){v.next=39;break}return v.abrupt("return",rE.convertLicenseToDummyLicense(r));case 39:if(!r&&!h){v.next=43;break}this.Ix(null!=(f=r)?f:h,new Pc(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new Pc(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,j)},i.gN=function(t){var n,i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,wr.awrap(this.JN.eC());case 2:if(n=c.sent,!this.Ex(n.rN)){c.next=9;break}return e=null!=(i=this._x.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.nN,c.next=7,wr.awrap(this.Rx(e));case 7:(r=c.sent)&&(this.JN.Tx(r),n=r);case 9:if(c.prev=9,(u=this.yx._N(n))!==pT.tN){c.next=16;break}throw s=TT.hN,new Pc(RT(s),PT.mN(s));case 16:if(u!==pT.QO){c.next=19;break}throw o=TT.QO,new Pc(RT(o),PT.mN(o));case 19:this.yx.gN(t,n),c.next=25;break;case 22:c.prev=22,c.t0=c.catch(9),this.Dx(c.t0);case 25:case"end":return c.stop()}},null,this,[[9,22]],j)},i.TN=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(this.JN.eC());case 2:n=i.sent;try{this.yx.TN(t,n)}catch(t){this.Dx(t)}case 4:case"end":return i.stop()}},null,this,null,j)},i.Rx=function(t){var n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wr.awrap(rE.hx(t,this.gT));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=rE.vx(n),this.yx._N(i)!==pT.ZO){e.next=11;break}return uE.da("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],j)},i.Ex=function(t){return!t||Number(new Date)+2592e5+oE>=t},i.Sx=function(){var t=uE.ku("THEOplayer.license");if(t)return rE.vx(t)},i.Ix=function(t,n){this.JN.Tx(t),this.Dx(n)},i.Dx=function(t){throw Gt(t.message),this.mx.sC(t.message),t},t}(),aE=function(){function t(){this.Ox=void 0,this.Nx=new qs}var n=t.prototype;return n.Tx=function(t){this.Ox=t,this.Nx.Fu()},n.eC=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Ox){t.next=2;break}return t.abrupt("return",j.resolve(this.Ox));case 2:return t.next=4,wr.awrap(this.Nx.Lu);case 4:return t.abrupt("return",this.Ox);case 5:case"end":return t.stop()}},null,this,null,j)},ht(t,[{key:"Cx",get:function(){return this.Ox}}]),t}(),hE=function(t){function n(){return t.call(this,"qd")||this}return vt(n,t),n.prototype.Od=function(){return new fE},n}(Tl),fE=function(t){function n(){return t.call(this,"change")||this}return vt(n,t),n}(Pu);function vE(t){var n,i={get fontFamily(){return t.Ax},set fontFamily(n){t.Ax=n},get fontColor(){return t.Px},set fontColor(n){t.Px=n},get fontSize(){return t.xx},set fontSize(n){t.xx=n},get backgroundColor(){return t.Lx},set backgroundColor(n){t.Lx=n},get windowColor(){return t.Bx},set windowColor(n){t.Bx=n},get edgeStyle(){return t.Mx},set edgeStyle(n){t.Mx=n},get marginTop(){return t.Fx},set marginTop(n){t.Fx=n},get marginBottom(){return t.Ux},set marginBottom(n){t.Ux=n},get marginLeft(){return t.Vx},set marginLeft(n){t.Vx=n},get marginRight(){return t.Hx},set marginRight(n){t.Hx=n},addEventListener:function(t,i){var e=Gl(t,$l);n.tu(e,i)},removeEventListener:function(t,i){var e=Gl(t,$l);n.ru(e,i)}};return n=new Au(i),t.tu(["qd"],function(t){return n.Qr(t.Dd)}),i}var dE,lE,wE={Ax:void 0,Px:void 0,xx:void 0,Lx:void 0,Bx:void 0,Mx:void 0,qx:void 0,Fx:void 0,Ux:void 0,Vx:void 0,Hx:void 0},gE="THEOplayer.textTrackStyle.",yE=function(t){function n(){var i;return(i=t.call(this)||this).Wx=void 0,i.Id=void 0,i.Wx=n.zx(),i}return vt(n,t),n.prototype.hc=function(t){this.Wx=gr({},this.Wx,t),n.jx(this.Wx),this.Qr(new hE)},n.zx=function(){var t=gr({},wE);return t.Ax=uE.ku(gE+"fontFamily")||t.Ax,t.Px=uE.ku(gE+"fontColor")||t.Px,t.xx=uE.ku(gE+"fontSize")||t.xx,t.Lx=uE.ku(gE+"backgroundColor")||t.Lx,t.Bx=uE.ku(gE+"windowColor")||t.Bx,t.Mx=uE.ku(gE+"edgeStyle")||t.Mx,t},n.jx=function(t){uE.da(gE+"fontFamily",t.Ax||""),uE.da(gE+"fontColor",t.Px||""),uE.da(gE+"fontSize",t.xx||""),uE.da(gE+"backgroundColor",t.Lx||""),uE.da(gE+"windowColor",t.Bx||""),uE.da(gE+"edgeStyle",t.Mx||"")},ht(n,[{key:"$x",get:function(){return this.Wx}},{key:"Ax",get:function(){return this.Wx.Ax},set:function(t){this.hc({Ax:t})}},{key:"Px",get:function(){return this.Wx.Px},set:function(t){this.hc({Px:t})}},{key:"xx",get:function(){return this.Wx.xx},set:function(t){this.hc({xx:t})}},{key:"Lx",get:function(){return this.Wx.Lx},set:function(t){this.hc({Lx:t})}},{key:"Bx",get:function(){return this.Wx.Bx},set:function(t){this.hc({Bx:t})}},{key:"Mx",get:function(){return this.Wx.Mx},set:function(t){this.hc({Mx:t})}},{key:"qx",get:function(){return this.Wx.qx}},{key:"Fx",get:function(){return this.Wx.Fx},set:function(t){this.hc({Fx:t})}},{key:"Ux",get:function(){return this.Wx.Ux},set:function(t){this.hc({Ux:t})}},{key:"Hx",get:function(){return this.Wx.Hx},set:function(t){this.hc({Hx:t})}},{key:"Vx",get:function(){return this.Wx.Vx},set:function(t){this.hc({Vx:t})}},{key:"Dd",get:function(){return this.Id||(this.Id=vE(this)),this.Id}}]),n}(Cu),mE=function(t){function n(n,i){var e;(e=t.call(this)||this).Xx=void 0,e.mc=void 0,e.QP=void 0,e.Gx=void 0,e.kd=void 0,e.BP=void 0,e.YP=void 0,e.Yx=void 0,e.Kx=void 0,e.bD=void 0,e.yx=void 0,e.Jx=void 0,e.Zx=void 0,e.pD=void 0,e.Qx=!1,e.Hw=!1,e.Fg=void 0,e.tL=!1,e.nL=void 0,e.iL=void 0,e.eL=void 0,e.rL=void 0,e.uL=void 0,e.sL=function(t){if(!e.tL){e.tL=!0;var n=e.Xx,i=Sg(t);e.QP.dl=new nk(e.mg,i,t),Eu(n.et())}},e.oL=function(t){e.Qr(t.Dd)},e.cL=function(t){t.type!==Qc.Aa&&t.type!==Qc.Ca&&e.Qr(t)};var r=zl(i.uid);g(r)?e.Fg=Ag++:e.Fg=r,e.mc=i;var u=st.kd,s=new aE;e.Gx=new YT("4.8.0",u,s),e.kd=new PS(u,i.allowMixedContent),e.bD=new zS,e.yx=new ET(i.isEmbeddable,"4.8.0",_T()),e.uL=new cE(u,e.yx,e.Gx,s,i,_T()),e.uL.bx().catch(e.sL),e.Jx=new wS(n),e.Jx.tu("lC",e.oL),e.pD=new yE,e.BP=new YS,e.YP=new ZS;var o=new tk(n,i,e.kd,e.bD,e.Jx,e.pD);e.bD.YA(o);var c=o;c=new JS(c,e.aL),c=new QS(c,e.KP),e.Xx=c,e.QP=new pg(e.Xx),e.QP.iu(e.cL),e.rL=new tE(Nn(e)),e.iL=new LS(e.QP,e.kd,e.bD),e.Yx=new ZT(Nn(e)),e.Zx=new mS(e.QP,i.allowNativeFullscreen),e.Kx=new _k(e.Zx),e.Jx.bc();var a=new K(e.Jx,e.pD,1,[Eg.tv]);return e.nL=new J(a),e.eL=new eE,e}vt(n,t);var i=n.prototype;return i._P=function(t){this.QP.mw=t,t||this._w||this.st()},i.LP=function(t){this.QP.Sw=t},i.hL=function(){eg(this,pk,this)},i.Y=function(){this.QP.Y()},i.K=function(){this.QP.K()},i.tg=function(t,n){var i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.uL.gN(t).catch(this.sL),i=_E(t),e.next=5,wr.awrap(this.QP.tg(i,n));case 5:case"end":return e.stop()}},null,this,null,j)},i.st=function(){this.Hw||(this.QP.st(),this.nL.st(),this.Hw=!0)},i.hD=function(){return this.Kx.$D()===lk.FULLSCREEN},i.sg=function(){this.QP.sg()},i.og=function(){this.QP.og()},i.cg=function(){return this.QP.cg()},i.ul=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.QP.Zw());case 2:return t.next=4,wr.awrap(this.QP.ul());case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.eu(),this.eL.et(),this.kd.et(),this.iL.et(),this.Zx.et(),this.Kx.et(),this.Jx.et(),this.Gx.et(),this.nL.et(),t.next=11,wr.awrap(this.QP.et());case 11:case"end":return t.stop()}},null,this,null,j)},ht(n,[{key:"fL",get:function(){return this.bD}},{key:"$w",get:function(){return this.Qx},set:function(t){this.Qx=t,this.QP.$w=t}},{key:"vL",get:function(){return this.nL}},{key:"Gw",get:function(){return this.QP.Gw}},{key:"dL",get:function(){return this.eL}},{key:"lL",get:function(){return this.Jx}},{key:"Jw",get:function(){return this.QP.Jw}},{key:"pg",get:function(){return this.rL}},{key:"wL",get:function(){return this.iL}},{key:"Kw",get:function(){return this.QP.Kw}},{key:"gL",get:function(){return this.pD}},{key:"Yw",get:function(){return this.QP.Yw}},{key:"gg",get:function(){return this.QP.gg}},{key:"aL",get:function(){return this.BP}},{key:"KP",get:function(){return this.YP}},{key:"lw",get:function(){return this.QP.lw},set:function(t){this.QP.lw=t}},{key:"yg",get:function(){return this.QP.yg},set:function(t){this.QP.yg=t}},{key:"lg",get:function(){return this.QP.lg}},{key:"ww",get:function(){return this.QP.ww}},{key:"mg",get:function(){return this.QP.mg}},{key:"gw",get:function(){return this.QP.gw}},{key:"lu",get:function(){return this.QP.lu}},{key:"yw",get:function(){return this.QP.yw}},{key:"mw",get:function(){return this.QP.mw},set:function(t){var n=Boolean(t);this._P(n)}},{key:"_w",get:function(){return this.QP._w}},{key:"pw",get:function(){return this.QP.pw},set:function(t){this.QP.pw=t}},{key:"Dg",get:function(){return this.QP.Dg}},{key:"Og",get:function(){return this.QP.Og},set:function(t){this.QP.Og=Wb(t)}},{key:"Al",get:function(){return this.QP.Al}},{key:"Ng",get:function(){return this.QP.Ng}},{key:"bw",get:function(){return this.QP.bw}},{key:"ml",get:function(){return this.Fg}},{key:"kw",get:function(){return this.QP.kw}},{key:"Tw",get:function(){return this.QP.Tw}},{key:"Sw",get:function(){return this.QP.Sw},set:function(t){var n=Tn(Number(t),0,1)||0;this.LP(n)}},{key:"Cg",get:function(){return this.QP.Cg}}]),n}(fw);function _E(t){t.sources;var n=t.sources.filter(function(t){return Ot(t.integration)});return t.sources=n,t}!function(t){t[t.yL=0]="yL",t[t.mL=1]="mL"}(dE||(dE={})),function(t){t[t._L=0]="_L"}(lE||(lE={}));var pE={};function bE(t,n){var i=t;if(pE[n])for(var e=0,r=pE[n];e<r.length;e++){i=(0,r[e])(i)}return i}var kE=[];function TE(t){kE.push(t)}var SE=t.CustomEvent;var EE=function(){try{var t=new SE("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},RE=function(){function t(t,n){var i=this;this.lI=void 0,this.pL=void 0,this.bL=!1,this.kL=function(t){i.pL.uC(t.error,i.lw)},this.TL=function(){i.pL.iC(i.SL),i.lI.removeEventListener("playing",i.TL),i.bL=!1},this.EL=function(){i.bL||(i.lI.addEventListener("playing",i.TL),i.bL=!0)},this.pL=n,this.lI=t,this.lI.addEventListener("error",this.kL),this.lI.addEventListener("sourcechange",this.EL),this.EL()}return t.prototype.ul=function(){},ht(t,[{key:"lw",get:function(){var t=this.lI.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"SL",get:function(){return this.lI.src||""}}]),t}();TE(function(t){new RE(t.Dd,t.Gx)});var IE,DE,OE="theoplayer-stored-volume",NE="theoplayer-stored-mutedstate";IE=function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=uE.wx(OE);(void 0===r||g(r))&&(r=1);var u=uE.gx(NE)||!1;e.Sw=r,e.mw=u}return e}vt(n,t);var i=n.prototype;return i._P=function(n){this.mc.persistVolume&&uE.da(NE,""+Boolean(n)),t.prototype._P.call(this,n)},i.LP=function(n){this.mc.persistVolume&&uE.da(OE,""+Number(n)),t.prototype.LP.call(this,n)},n}(t)},DE=dE.mL,(pE[DE]||(pE[DE]=[])).push(IE);var CE=new(function(){function t(){this.RL=[],this.Id=void 0}var n=t.prototype;return n.Qd=function(t){return this.RL[t]},n.IL=function(t){this.RL.push(t),this.Dd.push(t.Dd)},n.ac=function(t){var n=this.RL.indexOf(t);n<0||(hu(this.RL,n),this.Id&&hu(this.Id,n))},n.DL=function(t){for(var n=0,i=this.RL;n<i.length;n++){var e=i[n];if(e.ml===t)return e}},ht(t,[{key:"ol",get:function(){return this.RL.length}},{key:"Dd",get:function(){return this.Id||(this.Id=function(t){for(var n=[],i=0;i<t.ol;i++)n[i]=t.Qd(i).Dd;return n.getPlayerByUID=function(n){var i=t.DL(n);return i&&i.Dd},n}(this)),this.Id}}]),t}()),AE=function(){function t(t){var n=this;this.OL=[],this.NL=void 0,this.nd=new wu,this.CL=void 0,this.AL=function(){return 0===n.OL.length?n.CL?PE(n.CL,n.nd.Gr).then(n.PL,n.PL):n.PL():n.OL.shift()().then(n.AL)},this.PL=function(){if(0!==n.OL.length)return n.AL();n.NL=void 0},this.CL=t}var n=t.prototype;return n.xL=function(t,n){var i=this;return new j(function(e){var r=new wu;r.$r(i.nd.Gr),n&&r.$r(n);var u=function(){r.Ur()};i.OL.push(function(){var n=PE(t,r.Gr);return e(n),n.then(u,u)}),i.NL||(i.NL=i.AL())})},n.jr=function(){return this.LL(!0)},n.et=function(){return this.CL=void 0,this.LL(!1)},n.LL=function(t){var n=this.NL;return this.nd.jr(),t&&(this.nd=new wu),j.resolve(n)},t}();function PE(t,n){return new j(function(i){return i(t(n))})}var xE,LE=function(t){function n(n){var i;return(i=t.call(this,Qc.$a)||this).source=n,i}return vt(n,t),n}(Pu),BE=function(t){function n(){var n;return(n=t.call(this)||this).dD=void 0,n.wD=void 0,n.yD=void 0,n.gD=void 0,n.dD=0,n.wD=!0,n.yD=!1,n.gD=1,n}vt(n,t);var i=n.prototype;return i.Y=function(){this.wD&&(this.wD=!1,this.Qr(new Fw(this.lw)),this.Qr(new r_(this.lw)))},i.K=function(){this.wD||(this.wD=!0,this.Qr(new zw(this.lw,this.yg)),this.Qr(new Mw(this.lw)))},i.ul=function(){this.dD=0,this.yD=!1,this.gD=1,this.K(),this.Qr(new Bw(this.dD))},i.et=function(){this.eu()},i.og=function(){},i.sg=function(){},ht(n,[{key:"yg",get:function(){},set:function(t){}},{key:"lw",get:function(){return this.dD},set:function(t){this.yD&&this.dD===t||(this.dD=t,this.yD=!0,this.Qr(new Xw(this.lw)))}},{key:"_w",get:function(){return this.wD}},{key:"pw",get:function(){return this.gD},set:function(t){this.gD!==t&&(this.gD=t,this.Qr(new Ww(this.lw,this.pw)))}},{key:"Al",get:function(){return pw.ew}},{key:"bw",get:function(){return this.yD}}]),n}(hw),ME=function(t){function n(){return t.call(this,Qc.ka)||this}return vt(n,t),n}(Pu),FE={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},UE={visibility:"hidden"},VE={visibility:"visible"},HE=function(){function t(t){var n,i=this;this.aI=void 0,this.lI=void 0,this.BL=!1,this.ML=void 0,this.FL=void 0,this.UL=function(t){var n;i.BL=!1,i.ML=null==(n=t.source)?void 0:n.poster,i.hc()},this.MT=function(){i.BL=!0,i.og()},this.lI=t,this.mI(),this.aI=((n=Q&&Q.document&&Q.document.createElement("div")).className="theoplayer-poster",$e(FE,n),n),t.mg.appendChild(this.aI)}var n=t.prototype;return n.hc=function(){var t=this.lI._w,n=this.BL;this.Uf?this.aI.style.backgroundImage='url("'+this.Uf.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.aI.style.backgroundImage="",t&&this.Uf&&!n?this.sg():this.og()},n.sg=function(){$e(UE,this.lI.mg),$e(VE,this.aI)},n.og=function(){$e(UE,this.aI),$e(VE,this.lI.mg)},n.mI=function(){this.lI.tu("sourcechange",this.UL),this.lI.tu("play",this.MT)},n.et=function(){this.lI.ru("sourcechange",this.UL),this.lI.ru("play",this.MT),je(this.aI)},ht(t,[{key:"Uf",get:function(){return void 0!==this.ML?this.ML:void 0!==this.FL?this.FL:void 0}},{key:"VL",set:function(t){this.FL=t,this.hc()}}]),t}();function qE(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this).lI=void 0,r.HL=void 0,r.qL=void 0,r.WL=void 0,r.zL=void 0,r.jL=void 0,r.$L=void 0,r.XL=void 0,r.yI=void 0,r.gI=void 0,r.JE=void 0,r.TD=void 0,r.Id=void 0,r.GL=function(t){t.type!==Qc.Ba&&r.XL.push(t)},r.HL=new t(n,e),r.qL=new BE,r.lI=r.HL,r.WL=new HE(Nn(r)),r.jL=new AE,r.$L=!1,r.XL=[],r.yI=!0,r.mI(),r}vt(e,i);var r=e.prototype;return r.xL=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.jL.xL(t,n).catch(pu));case 1:case"end":return i.stop()}},null,this,null,j)},r.YL=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return mu(n),this.HL.iu(this.GL),i.next=4,wr.awrap(this.HL.tg(t,n));case 4:this.HL.ou(this.GL);case 5:case"end":return i.stop()}},null,this,null,j)},r.KL=function(){var t,n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.Qw())&&!Xk(t)&&this.$w&&this._w){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.mc.mutedAutoplay,e.next=6,wr.awrap(this.vL.ut());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.JL(),e.abrupt("break",14);case 12:return(this.mw||n===Uw.ALL)&&(this.mw=!0,this.Y()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,j)},r.tg=function(t){var i=this,e=this.gI;e&&!Xk(e)&&this.Qr(new Bw(0,0)),this.ul(),this.gI=t,Eu(this.xL(function(e){return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return mu(e),r.prev=1,r.next=4,wr.awrap(i.YL(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.gI=void 0,i.oR((u=r.t0,s=n.ErrorCode.SOURCE_NOT_SUPPORTED,u instanceof Pc?u:u instanceof h?new Pc(s,u.message,u):new Pc(s,String(u)))),r.abrupt("return");case 11:return r.next=13,wr.awrap(i.ZL());case 13:case"end":return r.stop()}var u,s},null,null,[[1,6]],j)}))},r.ZL=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.QL(this.HL),this.Qr(new LE(this.Qw())),t.next=4,wr.awrap(this.KL());case 4:case"end":return t.stop()}},null,this,null,j)},r.fP=function(t){this.lI.lw=t},r.wP=function(){var t;return null!=(t=this.TD)?t:this.HL.lu},r.gP=function(){var t;return null!=(t=this.JE)?t:this.HL.yw},r.oR=function(t){void 0===this.gP()&&(this.JE=t,this.TD=Sg(t),this.Qr(new Qw(t)))},r.Y=function(){this.lI.Y()},r.JL=function(){this.mw||this.st(),this.Y()},r.st=function(){this.HL.st()},r.K=function(){this.lI.K()},r.Zw=function(){this.tg(void 0)},r.sg=function(){this.yI=!0,this.lI.sg()},r.og=function(){this.yI=!1,this.lI.og()},r.hL=function(){this.HL.hL()},r.LP=function(t){this.HL.LP(t)},r._P=function(t){this.HL._P(t)},r.tB=function(t){this.zL=t,t.IL(this)},r.hD=function(){return this.HL.hD()},r.Qw=function(){return this.gI},r.cg=function(){return this.HL.cg()},r.hP=function(){return this.HL.lw},r.vP=function(){return this.HL.ww},r.sP=function(){return this.HL.gg},r.SP=function(){return this.HL.Dg},r.DP=function(){return this.HL.Ng},r.ul=function(){var t=this;this.gI=void 0,this.JE=void 0,this.TD=void 0,du(this.XL),this.qL.ul(),this.QL(this.qL),this.jL.jr(),Eu(this.jL.xL(function(n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return mu(n),i.next=3,wr.awrap(t.HL.ul());case 3:case"end":return i.stop()}},null,null,null,j)}))},r.et=function(){var t=this;this.Qr(new ME),this.WL.et(),this._I(),this.ul(),Eu(this.xL(function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(t.HL.et());case 2:t.zL&&(t.zL.ac(t),t.zL=void 0),t.jL.et();case 4:case"end":return n.stop()}},null,null,null,j)})),this.eu()},r.QL=function(t){if(this.lI!==t){var n=this.lI._w,i=this.lI.lw,e=this.lI.pw,r=this.lI.bw;this._I(),t===this.HL?((r||t.lw!==i)&&(t.lw=i),t.pw!==e&&(t.pw=e),n?t.K():t.Y()):this.mc.retainPlaybackRateOnSourceChange?t.pw=e:1!==e&&this.Qr(new Ww(this.hP(),1)),this.lI=t,this.mI();for(var u=0,s=this.XL;u<s.length;u++){var o=s[u];this.Qr(o)}du(this.XL),this.yI?t.sg():t.og()}},r.mI=function(){this.lI.iu(this.Zr)},r._I=function(){this.lI.ou(this.Zr)},r.Od=function(){return t=this,e=function(n){i=n;var e=rT(n,t.mc);t.tg(e)},r={get abr(){return t.fL.Dd},get audioTracks(){return t.Gw.Dd},get autoplay(){return t.$w},set autoplay(n){t.$w=Boolean(n)},get buffered(){return t.sP()},get canvas(){return t.Yx.Dd},get clip(){return t.aL.Dd},get currentProgramDateTime(){var n;return null!=(n=t.yg)?n:null},set currentProgramDateTime(n){t.yg=null!=n?n:void 0},get currentTime(){return t.hP()},set currentTime(n){t.fP(Number(n))},get duration(){return t.vP()},get element(){return t.mg},get ended(){return t.gw},get error(){return t.wP()},get errorObject(){return t.gP()},get loop(){return t.KP.KP},set loop(n){t.KP.KP=Boolean(n)},get metrics(){return t.pg.Dd},get muted(){return t.mw},set muted(n){t._P(n)},get network(){return t.wL.Dd},get paused(){return t._w},get playbackRate(){return t.pw},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.pw=i},get played(){return t.SP()},get poster(){return t.nB},set poster(n){t.nB=$l(n)},get preload(){return t.Og},set preload(n){t.Og=n},get presentation(){return t.Kx.Dd},get readyState(){return t.Al},get seekable(){return t.DP()},get seeking(){return t.bw},get source(){return i},set source(t){e(t)},get src(){return Gk(t.Qw())},set src(t){e({sources:t})},get textTracks(){return t.Kw.Dd},get textTrackStyle(){return t.gL.Dd},get uid(){return t.ml},get videoHeight(){return t.kw},get videoTracks(){return t.Yw.Dd},get videoWidth(){return t.Tw},get volume(){return t.Sw},set volume(n){t.LP(Number(n))},get latency(){return t.Cg.Dd},destroy:function(){t.et(),t=null,i=void 0},play:function(){t.JL()},pause:function(){t.K()},stop:function(){i=void 0,t.Zw()},prepareWithUserAction:function(){t.st()},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.ru(t,i)},setSource:function(t){e(t)}},(n=new yk(r,!0)).CD(t),r;var t,n,i,e,r},ht(e,[{key:"Gx",get:function(){return this.HL.Gx}},{key:"Yx",get:function(){return this.HL.Yx}},{key:"mc",get:function(){return this.HL.mc}},{key:"Xx",get:function(){return this.HL.Xx}},{key:"kd",get:function(){return this.HL.kd}},{key:"xR",get:function(){return this.HL.Zx}},{key:"Kx",get:function(){return this.HL.Kx}},{key:"Jx",get:function(){return this.HL.Jx}},{key:"QP",get:function(){return this.HL.QP}},{key:"fL",get:function(){return this.HL.fL}},{key:"$w",get:function(){return this.HL.$w},set:function(t){this.HL.$w=t,this.KL()}},{key:"vL",get:function(){return this.HL.vL}},{key:"Gw",get:function(){return this.HL.Gw}},{key:"dL",get:function(){return this.HL.dL}},{key:"lL",get:function(){return this.HL.Jx}},{key:"Dd",get:function(){return this.Id||(this.Id=this.Od()),this.Id}},{key:"Jw",get:function(){return this.HL.Jw}},{key:"pg",get:function(){return this.HL.pg}},{key:"wL",get:function(){return this.HL.wL}},{key:"Kw",get:function(){return this.HL.Kw}},{key:"gL",get:function(){return this.HL.gL}},{key:"Yw",get:function(){return this.HL.Yw}},{key:"aL",get:function(){return this.HL.aL}},{key:"KP",get:function(){return this.HL.KP}},{key:"yg",get:function(){return this.lI.yg},set:function(t){this.lI.yg=t}},{key:"lg",get:function(){return this.HL.lg}},{key:"mg",get:function(){return this.HL.mg}},{key:"gw",get:function(){return this.HL.gw}},{key:"mw",get:function(){return this.HL.mw},set:function(t){this.HL.mw=t}},{key:"_w",get:function(){return this.lI._w}},{key:"nB",get:function(){return this.WL.Uf||""},set:function(t){this.WL.VL=t}},{key:"pw",get:function(){return this.HL.pw},set:function(t){this.lI.pw=t}},{key:"Og",get:function(){return this.HL.Og},set:function(t){this.HL.Og=Wb(t)}},{key:"Al",get:function(){return this.lI.Al}},{key:"bw",get:function(){return this.lI.bw}},{key:"ml",get:function(){return this.HL.ml}},{key:"kw",get:function(){return this.HL.kw}},{key:"Tw",get:function(){return this.HL.Tw}},{key:"Sw",get:function(){return this.HL.Sw},set:function(t){this.HL.Sw=t}},{key:"Cg",get:function(){return this.HL.Cg}}]),e}(fw)}function WE(t,n){var i=ng(n),e=new(xE||(xE=bE(xE=qE(mE),dE.yL),xE=bE(xE,dE.mL)),xE)(t,i),r=e.Dd;return e.hL(),e.tB(CE),v.defineProperty(r,"constructor",{value:WE}),r=Bl(r),function(t){for(var n=0;n<kE.length;n++)(0,kE[n])(t)}(e),r}Su(function(){t.dispatchEvent&&t.dispatchEvent(EE("theoplayerready"))});var zE={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Yu(t)},n.decode=function(t){return Xu(t)},t}())},jE=CE.Dd,$E=x_.NS.registerContentProtectionIntegration.bind(x_.NS),XE=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},GE=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),YE={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?e.splice(s,1/0,r):e.push(r),~i.indexOf(u)&&(u=n.call(this,r,u))}else i.push(u);return null==t?u:t.call(this,r,u)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(YE,YE.exports);var KE=YE.exports;function JE(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function ZE(t){return JSON.stringify(t,YE.exports.getSerialize(JE))}var QE={},tR={};!function(t){v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=u,t.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(tR);var nR={};!function(t){v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=u,t.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(nR);var iR={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}v.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(iR),v.defineProperty(QE,"__esModule",{value:!0});var eR=tR.isS,rR=tR.isChar,uR=tR.isNameStartChar,sR=tR.isNameChar,oR=tR.S_LIST,cR=tR.NAME_RE,aR=nR.isChar,hR=iR.isNCNameStartChar,fR=iR.isNCNameChar,vR=iR.NC_NAME_RE;const dR="http://www.w3.org/XML/1998/namespace",lR="http://www.w3.org/2000/xmlns/",wR={__proto__:null,xml:dR,xmlns:lR},gR={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},yR=-1,mR=-2,_R=0,pR=1,bR=2,kR=3,TR=4,SR=5,ER=6,RR=7,IR=8,DR=9,OR=10,NR=11,CR=12,AR=13,PR=14,xR=15,LR=16,BR=17,MR=18,FR=19,UR=20,VR=21,HR=22,qR=23,WR=24,zR=25,jR=26,$R=27,XR=28,GR=29,YR=30,KR=31,JR=32,ZR=33,QR=34,tI=35,nI=36,iI=37,eI=38,rI=39,uI=40,sI=41,oI=42,cI=43,aI=44,hI=9,fI=10,vI=13,dI=32,lI=33,wI=38,gI=45,yI=47,mI=59,_I=60,pI=61,bI=62,kI=63,TI=91,SI=93,EI=133,RI=8232,II=t=>34===t||39===t,DI=[34,39],OI=[...DI,TI,bI],NI=[...DI,_I,SI],CI=[pI,kI,...oR],AI=[...oR,bI,wI,_I];function PI(t,n,i){switch(n){case"xml":i!==dR&&t.fail(`xml prefix must be bound to ${dR}.`);break;case"xmlns":i!==lR&&t.fail(`xmlns prefix must be bound to ${lR}.`)}switch(i){case lR:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${lR}.`);break;case dR:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const xI=t=>vR.test(t),LI=t=>cR.test(t),BI=0,MI=1,FI=2;QE.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const UI={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var VI=QE.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=hR,this.nameCheck=fR,this.isName=xI,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=v.assign({__proto__:null},wR);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of v.keys(n))PI(t,i,n[i])}(this,t),v.assign(this.ns,t))}else this.nameStartCheck=uR,this.nameCheck=sR,this.isName=LI,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Ku}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=BI,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?AR:_R,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new h("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Ku=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=v.create(gR),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[UI[t]]=n}off(t){this[UI[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new h(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===vI||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return yR;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=dI||i===hI)return i;switch(i){case fI:return this.line++,this.column=0,this.positionAtNewLine=this.position,fI;case vI:return t.charCodeAt(n+1)===fI&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,mR;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return yR;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==RI||i===hI)return i;switch(i){case fI:return this.line++,this.column=0,this.positionAtNewLine=this.position,fI;case vI:{const i=t.charCodeAt(n+1);i!==fI&&i!==EI||(this.i=n+2)}case EI:case RI:return this.line++,this.column=0,this.positionAtNewLine=this.position,mR;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===mR?fI:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===mR,u=r?fI:e;if(u===yR||t.includes(u))return this.text+=i.slice(n,this.prevI),u;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case mR:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=fI;break;case yR:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===yR)return this.name+=t.slice(n),yR;if(!sR(i))return this.name+=t.slice(n,this.prevI),i===mR?fI:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===yR||!eR(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=rR,this.getCode=this.getCode10):(this.isChar=aR,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=pR}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case _I:if(this.state=xR,0!==this.text.length)throw new h("no-empty text at start");break;case yR:break;default:this.unget(),this.state=AR,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(OI);switch(n){case bI:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=AR,this.doctype=!0;break;case yR:break;default:this.text+=String.fromCodePoint(n),n===TI?this.state=TR:II(n)&&(this.state=kR,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=bR)}sDTD(){const t=this.captureTo(NI);t!==yR&&(this.text+=String.fromCodePoint(t),t===SI?this.state=bR:t===_I?this.state=ER:II(t)&&(this.state=SR,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=TR,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case lI:this.state=RR,this.openWakaBang="";break;case kI:this.state=NR;break;default:this.state=TR}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?IR:TR,this.openWakaBang="")}sDTDComment(){this.captureToChar(gI)&&(this.text+="-",this.state=DR)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===gI?OR:IR}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bI?this.state=TR:(this.fail("malformed comment."),this.state=IR)}sDTDPI(){this.captureToChar(kI)&&(this.text+="?",this.state=CR)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bI&&(this.state=TR)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case mR:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case mI:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===AR&&void 0===this.textHandler||(this.text+=r);break t}case yR:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(uR(t))this.state=QR,this.unget(),this.xmlDeclPossible=!1;else switch(t){case yI:this.state=cI,this.xmlDeclPossible=!1;break;case lI:this.state=LR,this.openWakaBang="",this.xmlDeclPossible=!1;break;case kI:this.state=qR;break;default:this.fail("disallowed character in tag name"),this.state=AR,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=UR,this.openWakaBang="";break;case"--":this.state=BR,this.openWakaBang="";break;case"DOCTYPE":this.state=bR,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(gI)&&(this.state=MR)}sCommentEnding(){var t;const n=this.getCodeNorm();n===gI?(this.state=FR,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=BR)}sCommentEnded(){const t=this.getCodeNorm();t!==bI?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=BR):this.state=AR}sCData(){this.captureToChar(SI)&&(this.state=VR)}sCDataEnding(){const t=this.getCodeNorm();t===SI?this.state=HR:(this.text+=`]${String.fromCodePoint(t)}`,this.state=UR)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case bI:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=AR;break;case SI:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=UR}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=WR):t===kI||eR(t)?(this.fail("processing instruction without a target."),this.state=t===kI?jR:zR):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=WR)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===yR)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===kI;e||eR(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?ZR:$R):this.state=e?jR:zR:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===kI?this.state=jR:eR(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(kI)&&(this.state=jR)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===bI){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=AR}else n===kI?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=zR);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==kI?t!==yR&&(this.state=XR,this.name=String.fromCodePoint(t)):this.state=ZR}sXMLDeclName(){const t=this.captureTo(CI);if(t===kI)return this.state=ZR,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(eR(t)||t===pI){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===pI?YR:GR}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===kI)return this.state=ZR,void this.fail("XML declaration is incomplete.");eR(t)||(t!==pI&&this.fail("value required."),this.state=YR)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===kI)return this.state=ZR,void this.fail("XML declaration is incomplete.");eR(t)||(II(t)?this.q=t:(this.fail("value must be quoted."),this.q=dI),this.state=KR)}sXMLDeclValue(){const t=this.captureTo([this.q,kI]);if(t===kI)return this.state=ZR,this.text="",void this.fail("XML declaration is incomplete.");if(t===yR)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=JR}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==kI?(eR(t)||(this.fail("whitespace required."),this.unget()),this.state=$R):this.state=ZR}sXMLDeclEnding(){var t;this.getCodeNorm()===bI?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=AR):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===yR)return;const i=this.tag={name:this.name,attributes:v.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=v.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case bI:this.openTag();break;case yI:this.state=tI;break;default:eR(n)||this.fail("disallowed character in tag name."),this.state=nI}}sOpenTagSlash(){this.getCode()===bI?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=nI)}sAttrib(){const t=this.skipSpaces();t!==yR&&(uR(t)?(this.unget(),this.state=iI):t===bI?this.openTag():t===yI?this.state=tI:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===pI?this.state=rI:eR(t)?this.state=eI:t===bI?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==yR&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case yR:return;case pI:this.state=rI;break;default:this.fail("attribute without value."),this.text="",this.name="",t===bI?this.openTag():uR(t)?(this.unget(),this.state=iI):(this.fail("disallowed character in attribute name."),this.state=nI)}}sAttribValue(){const t=this.getCodeNorm();II(t)?(this.q=t,this.state=uI):eR(t)||(this.fail("unquoted attribute value."),this.state=oI,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=sI);case wI:return this.text+=n.slice(i,this.prevI),this.state=PR,void(this.entityReturnState=uI);case fI:case mR:case hI:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case _I:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case yR:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();eR(t)?this.state=nI:t===bI?this.openTag():t===yI?this.state=tI:uR(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=iI):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(AI);switch(t){case wI:this.state=PR,this.entityReturnState=oI;break;case _I:this.fail("disallowed character.");break;case yR:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===bI?this.openTag():this.state=nI}}sCloseTag(){const t=this.captureNameChars();t===bI?this.closeTag():eR(t)?this.state=aI:t!==yR&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case bI:this.closeTag();break;case yR:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case _I:if(this.state=xR,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=BI;break t;case wI:this.state=PR,this.entityReturnState=AR,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=BI;break t;case SI:switch(n){case BI:n=MI;break;case MI:n=FI;break;case FI:break;default:throw new h("impossible state")}break;case bI:n===FI&&this.fail('the string "]]>" is disallowed in char data.'),n=BI;break;case mR:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=BI;break;case yR:void 0!==e&&(this.text+=i.slice(t));break t;default:n=BI}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case _I:if(this.state=xR,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case wI:this.state=PR,this.entityReturnState=AR,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case mR:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case yR:void 0!==i&&(this.text+=n.slice(t));break t;default:eR(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),u={name:t,prefix:e,local:r,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,PI(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,PI(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==_R&&this.state!==AR&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.Ku=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let s,o;""===i?(s="xmlns"===n?lR:"",o=n):(void 0===(s=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),s=i),o=`{${s}}${u}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=s,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=AR,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=AR,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=AR,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=l(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=l(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},HI=function(){function t(){}return t.prototype.ai=function(t){var n=new VI({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new GI,e=[i];function r(t){e[e.length-1].Si(t)}return n.on("text",function(t){e.length>1&&r(new $I(t))}),n.on("cdata",function(t){r(new XI(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,s=new zI({di:n,wi:""===i?void 0:i,iB:""===u?void 0:u}),o=t.attributes,c=0,a=v.keys(o);c<a.length;c++){var h=o[a[c]],f=h.prefix,d=h.local,l=h.uri,w=h.value,g=new qI({di:d,yi:w,wi:""===l?void 0:l,iB:""===f?void 0:f});s.eB(g)}r(s),e.push(s)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new Pn(t)}),n.write(t).close(),i},t}(),qI=function(){function t(t){this.rB=void 0,this.uB=void 0,this.sB=void 0,this.g=void 0,this.rB=t.di,this.g=t.yi,this.uB=t.wi,this.sB=t.iB}var n=t.prototype;return n.fi=function(t){return this===t||!!KI(this,t)&&(this.rB===t.rB&&this.uB===t.uB&&this.sB===t.sB&&this.g===t.g)},n.vi=function(){return new t({di:this.di,yi:this.yi,wi:this.wi,iB:this.gi})},ht(t,[{key:"ei",get:function(){return Dn.ui}},{key:"di",get:function(){return this.rB}},{key:"li",get:function(){return void 0===this.sB?this.rB:this.sB+":"+this.rB}},{key:"wi",get:function(){return this.uB}},{key:"gi",get:function(){return this.sB}},{key:"yi",get:function(){return this.g}}]),t}(),WI=function(){function t(){this._i=[]}var n=t.prototype;return n.pi=function(t){return this._i.filter(function(n){return YI(n)&&n.ki===t})},n.Ti=function(t,n){return this._i.filter(function(i){return YI(i)&&i.di===n&&i.wi===t})},n.Si=function(t){this._i.push(t)},ht(t,[{key:"bi",get:function(){return this._i}},{key:"Ri",get:function(){return this._i.filter(YI)}}]),t}(),zI=function(t){function n(n){var i;return(i=t.call(this)||this).rB=void 0,i.uB=void 0,i.sB=void 0,i.oB=[],i.rB=n.di,i.uB=n.wi,i.sB=n.iB,i}vt(n,t);var i=n.prototype;return i.cB=function(t){for(var n=0,i=this.bi;n<i.length;n++){var e=i[n];YI(e)?e.cB(t):t.push(e.Li)}},i.Di=function(t,n){for(var i=0,e=this.oB;i<e.length;i++){var r=e[i];if(r.di===n&&r.wi===t)return r.yi}},i.Ii=function(t){for(var n=0,i=this.oB;n<i.length;n++){var e=i[n];if(e.li===t)return e.yi}},i.eB=function(t){this.oB.push(t)},i.Oi=function(t){for(var n=0;n<this.oB.length;n++)if(this.oB[n].li===t)return void this.oB.splice(n,1)},i.Ni=function(t,n){for(var i=0;i<this.oB.length;i++)if(this.oB[i].di===n&&this.oB[i].wi===t)return void this.oB.splice(i,1)},i.Ci=function(t,n){this.Oi(t),this.eB(new qI({di:t,yi:n}))},i.Ai=function(t,n,i){this.Oi(n);var e=n.split(":");this.eB(new qI({di:e[e.length-1],yi:i,wi:t,iB:e.length>1?e[0]:void 0}))},i.vi=function(t){var i=new n({di:this.di,wi:this.wi,iB:this.gi});return this.Pi.forEach(function(t){return i.eB(t.vi())}),t&&this.bi.forEach(function(n){return i.Si(n.vi(t))}),i},i.fi=function(t){return this===t||!!KI(this,t)&&(this.rB===t.rB&&this.sB===t.sB&&this.uB===t.uB&&(JI(this.Pi,t.Pi)&&JI(this.bi,t.bi)))},ht(n,[{key:"ei",get:function(){return Dn.ri}},{key:"Pi",get:function(){return this.oB}},{key:"di",get:function(){return this.rB}},{key:"wi",get:function(){return this.uB}},{key:"gi",get:function(){return this.sB}},{key:"ki",get:function(){return void 0===this.sB?this.rB:this.sB+":"+this.rB}},{key:"xi",get:function(){var t=[];return this.cB(t),t.join("")}}]),n}(WI),jI=function(){function t(t){this.P=void 0,this.P=t}return ht(t,[{key:"Li",get:function(){return this.P}}]),t}(),$I=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.vi=function(){return new n(this.Li)},i.fi=function(t){return this===t||!!KI(this,t)&&this.Li===t.Li},ht(n,[{key:"ei",get:function(){return Dn.si}}]),n}(jI),XI=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.vi=function(){return new n(this.Li)},i.fi=function(t){return this===t||!!KI(this,t)&&this.Li===t.Li},ht(n,[{key:"ei",get:function(){return Dn.oi}}]),n}(jI),GI=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.vi=function(t){var i=new n;return t&&this.bi.forEach(function(n){return i.Si(n.vi(t))}),i},i.fi=function(t){return this===t||!!KI(this,t)&&JI(this.bi,t.bi)},ht(n,[{key:"ei",get:function(){return Dn.ci}},{key:"Bi",get:function(){return this.Ri[0]}}]),n}(WI);function YI(t){return On(t)}function KI(t,n){return t.ei===n.ei}function JI(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].fi(n[i]))return!1;return!0}var ZI,QI=["adBreak"],tD=["adBreak"];function nD(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:gr({},t,{adBreak:gr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,D_(t,QI)})})})}function iD(t){return void 0===t.ads?t:gr({},t,{ads:t.ads.map(function(t){return t.adBreak,D_(t,tD)})})}function eD(t){return"string"==typeof t.date?new Date(t.date):t.date}function rD(t){var n;return t.cue.track?(n=sD(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=sD(t.cue,""),n}function uD(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&v.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=v.entries(i);return v.fromEntries(e.map(function(i){var e=i[0],r=i[1],u=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==u&&n.pop(r),[e,u]}))}return i}(t)}function sD(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new HI).ai(e.firstChild.outerHTML).Bi.Pi.forEach(function(t){r[t.di]=t.yi}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if("object"==typeof(a=o)&&null!==a){var c=oD(o);u[s]={type:ZI.aB,value:c}}else aD(o)?u[s]={type:ZI.hB,value:o}:u[s]={type:ZI.fB,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=oD(t.scte35Cmd),i.scte35Out=oD(t.scte35Out),i.scte35In=oD(t.scte35In),i.customAttributes=u}var a}(),i}function oD(t){if(void 0!==t)return Yu(t)}function cD(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(sD(r,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(sD(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function aD(t){return"number"==typeof t}!function(t){t.fB="daterange-ca-type_string",t.hB="daterange-ca-type_number",t.aB="daterange-ca-type_arraybuffer"}(ZI||(ZI={}));var hD={cue:function(t){var n={};switch(n.date=eD(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=rD(t)}return n},textTrack:function(t){var n={};switch(n.date=eD(t),n.type=t.type,t.type){case"addcue":var i=t.cue;lD().register(i);var e=dD()[wD()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=rD(t);break;case"cuechange":for(var r=[],u=0;u<t.track.activeCues.length;u++){var s=t.track.activeCues[u];r.push(sD(s,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:cD(t.track),date:eD(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=lD();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=eD(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Qc.Ga:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=gr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=cD(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=iD(t.ad);break;case"adloaded":case"adimpression":n.ad=nD(t.ad);break;case"adskip":n.ad=nD(t.ad),n.playedPercentage=t.playedPercentage;break;case"aderror":t.vB&&(n.vB=t.vB),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=nD(t.ad)}return uD(n)},minimizeCueHelper:function(t){var n={};return n.date=eD(t),n.type=t.type,n.cue=rD(t),n.track={uid:t.cue.track.uid},n},adReplacer:nD,adBreakReplacer:iD,removeCircularReferences:uD},fD=function(){this.stringify=ZE,this.minimize=hD};function vD(){return Q.self}function dD(){return vD().THEOplayerBridge}function lD(){return vD().THEOCueMirrorMap}function wD(){return vD().THEOplayerGlobalID}function gD(){var t=vD();if(t.THEOplayerBridge){var n=new XE;t.THEOplayerBridge=Fl(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new XE;t.THEOplayerUtils||(t.THEOplayerUtils=new fD),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new GE)}gD();var yD=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ai=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Pn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Pn;return new mD(n)},n}(xn),mD=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.vi=function(t){return new n(this.mi.cloneNode(t))},ht(n,[{key:"bi",get:function(){return void 0===this._i&&(this._i=bD(this.mi.childNodes)),this._i}},{key:"Bi",get:function(){return new _D(this.mi.documentElement)}}]),n}(Hn),_D=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.vi=function(t){var i=new n(this.mi.cloneNode(t));return i.Pi.length<1&&this.Pi.length>0&&this.Pi.forEach(function(t){i.Ci(t.li,t.yi)}),i},ht(n,[{key:"bi",get:function(){return void 0===this._i&&(this._i=bD(this.mi.childNodes)),this._i}}]),n}(Mn);function pD(t){switch(t.nodeType){case Dn.ri:return new _D(t)}return Wn(t)}function bD(t){for(var n=[],i=0;i<t.length;i++){var e=pD(t.item(i));e&&n.push(e)}return n}dt(new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).dB=new yD,n}return vt(n,t),n.prototype.ai=function(t){return this.dB.ai(t)},n}(kl)));var kD=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return vt(n,t),n}(Pu),TD=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Qr(new kD(t,n))},i.addEventListener=function(t,n){this.tu(t,n)},i.removeEventListener=function(t,n){this.ru(t,n)},n}(fw);function SD(t,n){return t.Zg<=n&&t.Qg>n}function ED(t,n){return function(t,n){return uu(t.Zg,n.Zg,Yg)}(t,n)||function(t,n){return uu(t.Qg,n.Qg,Yg)}(t,n)}function RD(t,n){var i=function(t,n,i,e,r,u,s){void 0===r&&(r=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,c=s-1;o<=c;){var a=o+(c-o>>1),h=e(i(t[a]),n);if(h<0)o=a+1;else if(h>0)c=a-1;else{if(!(r&&a>u&&0===e(i(t[a-1]),n)))return a;c=a-1}}return~o}(t,n,Ut,ED,!0);if(i<0)return i;for(;i<t.length&&ED(n,t[i])===Qr.Cr;i++)if(t[i].hy(n))return i;return-(i+1)}function ID(t){var n=t.Nd;if(!n)return-1;if(t instanceof Kg)return n.lB(t);var i=n.Pl;if(!i)return-1;var e=RD(i.sl,t);return e>=0?e:-1}var DD=function(t){function n(n,i){var e;return(e=t.call(this,Vg.Xg,n)||this).Tm=i,e}return vt(n,t),n.prototype.Od=function(){return new OD(this.Jg.Dd)},n}(Wg),OD=function(t){function n(n){return t.call(this,"enter",n)||this}return vt(n,t),n}(zg),ND=function(t){function n(n,i){var e;return(e=t.call(this,Vg.Yg,n)||this).Tm=i,e}return vt(n,t),n.prototype.Od=function(){return new CD(this.Jg.Dd)},n}(Wg),CD=function(t){function n(n){return t.call(this,"exit",n)||this}return vt(n,t),n}(zg),AD=function(t){function n(n){var i;return(i=t.call(this,El.Ld)||this).Jg=n,i}return vt(n,t),n.prototype.Od=function(){return new PD(this.Jg.Dd)},n}(Rl),PD=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return vt(n,t),n}(Il),xD=function(t){function n(n){var i;return(i=t.call(this,El.Md)||this).Jg=n,i}return vt(n,t),n.prototype.Od=function(){return new LD(this.Jg.Dd)},n}(Rl),LD=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return vt(n,t),n}(Il),BD=function(t){function n(n){var i;return(i=t.call(this,El.Ud)||this).Nd=n,i}return vt(n,t),n.prototype.Od=function(){return new MD(this.Nd.Dd)},n}(Rl),MD=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return vt(n,t),n}(Il);function FD(t,n){return ru(t.Tm,n.Tm)||function(t,n){return t.Nd===n.Nd?eu(ID(t),ID(n)):xm(t.Nd,n.Nd)}(t.Jg,n.Jg)||function(t,n){return t===n?Qr.Cr:t===Vg.Xg?Qr.Pr:Qr.Ar}(t.type,n.type)}var UD=function(){function t(t,n){var i=this;this.lI=void 0,this.wB=void 0,this.zw=[],this.gB=0,this.yB=0,this.mB=[],this._B=[],this.pB=!1,this.bB=!1,this.kB=void 0,this.TB=function(){i.gB=0,i.SB(),i.EB()},this.RB=function(){i.SB(),i.EB()},this.IB=function(){i.bB=!0,i.kB=i.lI.lw,i.DB()},this.OB=function(){i.SB(),i.EB()},this.NB=function(){i.CB(),i.SB(),i.EB()},this.AB=function(t){fu(i._B,t.Jg)||i._B.push(t.Jg),i.PB()},this.xB=function(t){au(i.mB,t.Jg),au(i._B,t.Jg),i.PB()},this.wB=n,this.lI=t,t.tu(Qc.Xa,this.RB),t.tu(Qc.xa,this.RB),t.tu(Lw.dw,this.RB),t.tu(Qc.Pa,this.RB),t.tu(Qc.Va,this.IB),t.tu(Qc.Ua,this.OB),this.PB()}var n=t.prototype;return n.ul=function(){du(this.mB);for(var t=0,n=this.zw.slice();t<n.length;t++){var i=n[t];this.nl(i)}this.DB(),this.gB=0,this.yB=0,this.pB=!1,this.bB=!1,this.kB=void 0},n.tl=function(t){if(!fu(this.zw,t)){if(this.zw.push(t),t.tu(El.Cd,this.AB),t.tu(El.Pd,this.xB),t.tu(El.Hd,this.NB),t.Pl.ol>0){for(var n=0,i=t.Pl.sl;n<i.length;n++){var e=i[n];this._B.push(e)}this.PB()}this.CB()}},n.nl=function(t){if(au(this.zw,t)){if(t.ru(El.Cd,this.AB),t.ru(El.Pd,this.xB),t.ru(El.Hd,this.NB),t.Pl.ol>0){for(var n=0,i=t.Pl.sl;n<i.length;n++){var e=i[n];au(this.mB,e),au(this._B,e)}this.PB()}this.CB()}},n.CB=function(){this.pB=this.zw.some(function(t){return t.Rl!==nw.Ol})},n.EB=function(){this.lI.bw||this.lI._w?this.DB():this.PB()},n.PB=function(){this.pB&&(this.gB||(this.gB=this.wB.V(this.TB)))},n.DB=function(){this.gB&&(this.wB.LB(this.gB),this.gB=0)},n.SB=function(){var t;if(this.pB&&!this.lI.bw){var n=this.zw,i=this.yB,e=null!=(t=this.kB)?t:this.lI.lw,r=e-i<-.1,u=this.bB||r;u&&e>i&&e-i<.1&&(u=!1),this.bB=!1,this.kB=void 0;for(var s,o=[],c=0;c<n.length;c++){var a=n[c];if(a.Rl!==nw.Ol){a.BB(e,u);for(var h=0,f=a.xl.sl;h<f.length;h++){var v=f[h];o.push(v)}}}if(u)s=this.mB;else{s=[];for(var l=0;l<n.length;l++){var w=n[l];w.Rl!==nw.Ol&&Pm(w,i-1/6,e,s)}}for(var g=s.length-1;g>=0;g--)fu(o,s[g])&&hu(s,g);var y=[];if(!u)for(var m=s.length-1;m>=0;m--){var _=s[m];_.Zg>i&&_.Qg<=e&&(y.push(_),hu(s,m))}for(var p=0,b=this._B;p<b.length;p++){au(y,b[p])}du(this._B);for(var k=[],T=[],S=0;S<y.length;S++){var E=y[S];E.vy||k.push(new DD(E,E.Zg)),k.push(new ND(E,d.max(E.Zg,E.Qg))),E.vy=!1}for(var R=0,I=s;R<I.length;R++){var D=I[R];D.vy&&(k.push(new ND(D,d.max(D.Zg,D.Qg))),D.vy=!1)}for(var O=0;O<o.length;O++){var N=o[O];N.vy||(k.push(new DD(N,N.Zg)),N.vy=!0)}k.sort(FD);for(var C=0;C<k.length;C++){var A=k[C],P=A.Jg;P.Qr(A);var x=P.Nd;x&&(A.type===Vg.Xg?x.Qr(new AD(P)):x.Qr(new xD(P)),fu(T,x)||T.push(x))}T.sort(xm);for(var L=0;L<T.length;L++){var B=T[L];B.Qr(new BD(B))}this.yB=e,this.mB=o}},n.et=function(){this.ul(),this.lI.ru(Qc.Xa,this.RB),this.lI.ru(Qc.xa,this.RB),this.lI.ru(Lw.dw,this.RB),this.lI.ru(Qc.Pa,this.RB),this.lI.ru(Qc.Va,this.IB),this.lI.ru(Qc.Ua,this.OB)},t}(),VD=function(){function t(){}var n=t.prototype;return n.V=function(t){return sS(t)},n.LB=function(t){oS(t)},t}(),HD=new VD,qD=function(t){function n(n,i){return void 0===i&&(i=HD),t.call(this,n,i)||this}return vt(n,t),n}(UD),WD=function(t){function n(){return t.call(this,Qc.Da)||this}return vt(n,t),n}(Pu),zD=function(t){function n(n){var i;return(i=t.call(this,Qc.La)||this).currentTime=n,i}return vt(n,t),n}(Pu),jD=function(t){function n(n,i){var e;return(e=t.call(this)||this).MB=void 0,e.FB=void 0,e.UB=function(t){e.MB.VB("THEOplayerABRSetTargetBuffer",t.BA),e.Qr(t)},e.HB=function(t){e.MB.VB("THEOplayerABRSetStrategy",t.FA),e.Qr(t)},e.MB=n,e.FB=i,e.FB.tu("MA",e.UB),e.FB.tu("UA",e.HB),e}return vt(n,t),n.prototype.KA=function(t){return this.FB.KA(t)},ht(n,[{key:"ZA",get:function(){var t;switch(this.FA.type){case AS.PERFORMANCE:return 1;case AS.QUALITY:return 0;case AS.BANDWIDTH:return null!=(t=this.FA.metadata)&&t.bitrate&&!g(this.FA.metadata.bitrate)?this.FA.metadata.bitrate:0;default:return 0}}},{key:"Dd",get:function(){return this.FB.Dd}},{key:"FA",get:function(){return this.FB.FA},set:function(t){this.FB.FA=t}},{key:"BA",get:function(){return this.FB.BA},set:function(t){this.FB.BA=t}},{key:"JA",get:function(){return this.FB.JA}},{key:"VA",get:function(){return this.FB.VA},set:function(t){this.FB.VA=t}},{key:"qA",get:function(){return this.FB.qA}},{key:"CA",get:function(){return this.FB.CA}}]),n}(Cu),$D=function(){function t(t){this.qB=void 0,this.Id=void 0,this.qB=t}var n=t.prototype;return n.Od=function(){return function(t){for(var n=[],i=0;i<t.ol;i++)n[i]=t.ku(i).Dd;return n.item=function(n){var i=0|n,e=t.ku(i);return e&&e.Dd||void 0},v.defineProperty(n,"constructor",{value:$g}),n}(this)},n.Lg=function(t){for(var n=this.qB,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.hy(e))return!0}return!1},n.ku=function(t){return this.qB[t]},ht(t,[{key:"sl",get:function(){return this.qB}},{key:"ol",get:function(){return this.qB.length}},{key:"Dd",get:function(){if(this.Id){var t=this.qB;this.Id.length=t.length;for(var n=0;n<t.length;n++)this.Id[n]=t[n].Dd}else this.Id=this.Od();return this.Id}}]),t}(),XD=function(t){function n(n,i){var e;return(e=t.call(this,El.Wd)||this).Nd=n,e.Al=i,e}return vt(n,t),n.prototype.Od=function(){return new GD(this.Nd.Dd,cw(this.Al))},n}(Rl),GD=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return vt(n,t),n}(Il),YD=function(t){function n(n){var i;return(i=t.call(this,El.jd)||this).Nd=n,i}return vt(n,t),n.prototype.Od=function(){return new KD(this.Nd.Dd)},n}(Rl),KD=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return vt(n,t),n}(Il),JD=function(t){function n(n){var i;return(i=t.call(this,El.Cd)||this).Jg=n,i}return vt(n,t),n.prototype.Od=function(){return new ZD(this.Jg.Dd)},n}(Rl),ZD=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return vt(n,t),n}(Il),QD=function(t){function n(n){var i;return(i=t.call(this,El.Pd)||this).Jg=n,i}return vt(n,t),n.prototype.Od=function(){return new tO(this.Jg.Dd)},n}(Rl),tO=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return vt(n,t),n}(Il),nO=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this)||this).Id=void 0,a.Yo=void 0,a.Fg=Cg(),a.WB=!1,a.zB=void 0,a.jB=void 0,a.Mg=void 0,a.Fs=void 0,a.xD=nw.Ol,a.$B=Mg.NONE,a.XB=void 0,a.Mi=void 0,a.GB=void 0,a.qB=[],a.YB=[],a.KB=void 0,a.JB=void 0,a.ZB=0,a.QB=0,a.Yo=i||"",a.zB=c||"",a.jB=n,a.Fs=r||"",a.WB=Boolean(u),a.GB=Boolean(o),a.Mi=s||Fg.DEFAULT,a.Mg=e||"",a.KB=new $D(a.qB),a.JB=new $D(a.YB),a}vt(n,t);var i=n.prototype;return i.tM=function(t){return ou(this.KB.sl,function(n){return n.yl===t})},i.Od=function(){return uw(this)},i.YD=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case nw.Ol:case nw.Dl:case nw.Il:return n}}else if("number"==typeof t)switch(t){case 0:return nw.Ol;case 1:return nw.Dl;case 2:return nw.Il}return nw.Ol}(t);n!==this.Rl&&(this.xD=n,n===nw.Ol&&(this.YB.forEach(function(t){t.vy=!1}),du(this.YB),this.QB=0),this.Qr(new Pl(this)))},i.bT=function(t){if(t&&!t.Nd){var n=RD(this.Pl.sl,t);if(!(n>=0)){t.Nd=this;var i=-(n+1);this.qB.splice(i,0,t),this.nM(i),t.ay=i,i<this.QB&&(this.QB=i),this.Qr(new JD(t))}}},i.sT=function(t){if(t&&t.Nd===this){var n=this.lB(t);if(!(n<0)){t.vy=!1;var i=this.YB,e=RD(i,t);e>=0&&hu(i,e),hu(this.qB,n),this.nM(n),t.ay=-1,this.QB>n&&--this.QB,this.Qr(new QD(t))}}},i.BB=function(t,n){var i=this.YB,e=this.qB,r=this.QB,u=!1;n&&(r=0);for(var s=i.length-1;s>=0;s--){SD(i[s],t)||(u=!0,hu(i,s))}for(;r<e.length&&e[r].Zg<=t;){var o=e[r];if(0===t)break;SD(o,t)&&!fu(i,o)&&(u=!0,i.push(o)),r++}u&&nu(i,ED),this.QB=r},i.lB=function(t){return(-1===t.ay||t.ay>=this.ZB)&&this.iM(),t.ay},i.iM=function(){for(var t=this.qB,n=this.ZB;n<t.length;n++)t[n].ay=n;this.ZB=t.length},i.nM=function(t){t<this.ZB&&(this.ZB=t)},i.Nl=function(t){this.Cl||(this.Rl=t)},i.et=function(){this.eu();for(var t=this.qB.slice(),n=0;n<t.length;n++){t[n].et()}du(this.qB),du(this.YB)},ht(n,[{key:"xl",get:function(){return this.JB}},{key:"Pl",get:function(){return this.KB}},{key:"TT",get:function(){return this.WB},set:function(t){this.WB=t}},{key:"Cl",get:function(){return this.GB}},{key:"Dd",get:function(){return this.Id||(this.Id=this.Od()),this.Id}},{key:"yl",get:function(){return this.Yo}},{key:"ml",get:function(){return this.Fg}},{key:"El",get:function(){return this.zB},set:function(t){this.zB=t}},{key:"_l",get:function(){return this.jB}},{key:"pl",get:function(){return this.Mg},set:function(t){t!==this.Mg&&(this.Mg=t,this.Qr(new Dg(this)))}},{key:"bl",get:function(){return this.Fs}},{key:"Rl",get:function(){return this.xD},set:function(t){this.YD(t)}},{key:"Al",get:function(){return this.$B},set:function(t){this.$B!==t&&(this.$B=t,this.Qr(new XD(this,this.$B)))}},{key:"Ll",get:function(){return this.XB},set:function(t){this.XB=t}},{key:"pr",get:function(){return this.Mi},set:function(t){this.Mi!==t&&(this.Mi=t,this.Qr(new YD(this)))}}]),n}(Cu);function iO(t,n,i){for(var e=t[n].Zg,r=n;r>=0&&t[r].Zg===e;r--)t[r].Qg=i}var eO=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return vt(n,t),n.prototype.hy=function(n){return this===n||Hl(this,n)&&t.prototype.hy.call(this,n)&&(i=n,this.ty===i.ty);var i},ht(n,[{key:"Dd",get:function(){return this.Id||(this.Id=jg(this)),this.Id}}]),n}(Kg),rO=function(t){function n(n,i,e){return void 0===e&&(e=Fg.DEFAULT),t.call(this,Rm.J_,"",i||"","",!1,e,!1,n)||this}return vt(n,t),n}(nO),uO=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).pr=Fg.ID3,e}vt(n,t);var i=n.prototype;return i.bT=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Zg<t.Zg)iO(n,i,t.Zg);else{var e=n[0];if(e.Zg>t.Zg)t.Qg=e.Zg;else{var r=RD(n,t);if(!(r>=0)){var u=-(r+1),s=u-1;if(s>=0&&n[s].Zg<t.Zg&&iO(n,s,t.Zg),u<n.length){var o=n[u];t.Qg=o.Zg}}}}}}(n,this.qB),t.prototype.bT.call(this,n)},i.Od=function(){return uw(this)},n}(rO);Qc.xa,Qc.Pa,Lw.dw,Qc.Xa,Qc.La,Qc.Da,Qc.Va,Qc.Ua,Qc.Ea,Qc.Ba,Qc.Ga,Qc.Ta,Lw.Wd,Qc.Fa,iw.Sl,Nu.wu,Nu.yu,Qc.pa,Qc._a,Qc.Ya;var sO,oO={eM:!1},cO=function(){function t(t,n,i){this.qc=void 0,this.Rr=void 0,this.Qc=void 0,this.gc=void 0,this.qc=t,this.Rr=i,this.Qc=n}var n=t.prototype;return n.kT=function(t){throw new h("Not implemented yet.")},n.rM=function(t,n){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,wr.awrap(this.Rr.Or(t.br,n));case 2:return i=r.sent,r.next=5,wr.awrap(i.Ec());case 5:return e=r.sent,r.next=8,wr.awrap(this.uM(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,j)},n.sM=function(t){return!1},n.oM=function(t){return j.resolve(void 0)},n.Ur=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.uM(void 0));case 2:case"end":return t.stop()}},null,this,null,j)},n.uM=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.cM(t),i.next=3,wr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,j)},n.cM=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.gc)){i.next=5;break}return i.next=4,wr.awrap(n.kc(this.Qc));case 4:this.gc=void 0;case 5:if(!t){i.next=9;break}return i.next=8,wr.awrap(t.bc(this.Qc));case 8:this.gc=t;case 9:case"end":return i.stop()}},null,this,null,j)},n._T=function(t,n,i){throw new h("Not implemented yet.")},ht(t,[{key:"mc",get:function(){return this.qc}},{key:"Og",get:function(){throw new h("Not implemented yet.")},set:function(t){throw new h("Not implemented yet.")}},{key:"Ng",get:function(){return new Yb([0,1/0])}},{key:"Kw",get:function(){throw new h("Not implemented yet.")}},{key:"aM",get:function(){throw new h("Not implemented yet")}},{key:"Yw",get:function(){throw new h("Not implemented yet.")}},{key:"hM",get:function(){throw new h("Not implemented yet")}},{key:"fM",get:function(){throw new h("Not implemented yet")}}]),t}();!function(t){t.vM="webkitneedkey",t.dM="webkitkeymessage",t.lM="webkitkeyerror",t.wM="webkitkeyflowdone"}(sO||(sO={}));var aO,hO,fO,vO,dO,lO,wO,gO,yO,mO,_O,pO=function(t){function n(n,i){var e;return(e=t.call(this,sO.vM)||this).initData=n,e.sessionId=i,e}return vt(n,t),n}(Pu),bO=function(t){function n(n,i){var e;return(e=t.call(this,sO.dM)||this).message=n,e.destinationURL=i,e}return vt(n,t),n}(Pu),kO=function(t){function n(){return t.call(this,sO.lM)||this}return vt(n,t),n}(Pu),TO=function(t){function n(){return t.call(this,sO.wM)||this}return vt(n,t),n}(Pu),SO=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).Oc=new qs,s.Wc=void 0,s.Ac=new Hu,s.jc=new qs,s.gM=function(t){s.Wc?(s.Wc.Uu(void 0),s.Wc=void 0):s.Mc("internal-error"),s.Qr(new Fu)},s.yM=function(t){s.Qr(new Mu(Nn(s),"license-request",Us(t.message).buffer,t.destinationURL||void 0))},s.mM=function(t){s.Wc&&(s.Wc.Fu(void 0),s.Wc=void 0)},s.Uc=n,s.ec=i,s._M=e,s.Jc=r,s.Xc=u,s}vt(n,t);var i=n.prototype;return i.oc=function(t,n,i){var e;return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Gc){t.next=3;break}throw new f("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,wr.awrap(this.pM(Ms(n),e));case 5:this.Mc("usable"),this.jc.Fu(),this.jc=new qs;case 8:case"end":return t.stop()}},null,this,null,j)},i.cc=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,j)},i.hc=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Ms(t)).byteLength){i.next=3;break}throw new f("Cannot call update with an empty response.");case 3:return this.Wc=new qs,this._M.hc(this.Jc,n),i.abrupt("return",this.Wc.Lu);case 6:case"end":return i.stop()}},null,this,null,j)},i.sc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.jc);case 2:return this._M.ru(sO.dM,this.yM),this._M.ru(sO.lM,this.gM),this._M.ru(sO.wM,this.mM),this.jc.jr(),this.Oc.Fu(void 0),t.abrupt("return",this.Oc.Lu);case 8:case"end":return t.stop()}},null,this,null,j)},i.ac=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,j)},i.pM=function(t,n){var i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=Ac(t,n,this.Xc),this._M.tu(sO.dM,this.yM),this._M.tu(sO.lM,this.gM),this._M.tu(sO.wM,this.mM),this._M.bM(this.Jc,i);case 5:case"end":return e.stop()}},null,this,null,j)},i.Mc=function(t){this.Ac.Eu(),this.Ac.Su(Vu,t),this.Qr(new Bu(this))},ht(n,[{key:"wc",get:function(){return this.Jc}},{key:"dc",get:function(){return NaN}},{key:"vc",get:function(){return this.Oc.Lu}},{key:"lc",get:function(){return this.Ac}}]),n}(Cu),EO=function(){function t(t,n,i){this.kM=void 0,this.Jc=void 0,this.Xc=void 0,this._M=void 0,this.ec=void 0,this.qc=void 0,this.Uc=void 0,this._M=t,this.ec=n,this.qc=i;var e=yc(i)||"video/mp4";this.Uc=lc(e)}var i=t.prototype;return i._c=function(t){var i;return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Xc){t.next=2;break}throw new Pc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new SO(this.Uc,this.ec,this._M,this.Jc,this.Xc),this.kM=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,j)},i.pc=function(t){return this.Xc=Ms(t),j.resolve(!0)},i.bc=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,j)},i.kc=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,j)},i.createSession=function(){throw new h("Whoops.")},ht(t,[{key:"yc",get:function(){return this.ec}},{key:"mc",get:function(){return this.qc}},{key:"sessionId",set:function(t){this.Jc=t}}]),t}(),RO=function(){function t(t,n,i){this.TM=t,this.ec=n,this.qc=i}var n=t.prototype;return n.Rc=function(){return this.qc},n.Ec=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new EO(this.TM,this.ec,this.qc));case 1:case"end":return t.stop()}},null,this,null,j)},ht(t,[{key:"yc",get:function(){return this.ec}}]),t}(),IO=function(){function t(t){this.TM=void 0,this.TM=t}return t.prototype.Or=function(t,n){var i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0;case 1:if(!(i<n.length)){u.next=9;break}if(e=n[i],!(r=wc(DO,Lu,t,e))){u.next=6;break}return u.abrupt("return",new RO(this.TM,t,r));case 6:i++,u.next=1;break;case 9:throw new f("Unsupported key system configuration for "+t);case 10:case"end":return u.stop()}},null,this,null,j)},t}();function DO(t,n){return t===Fr}!function(t){t.FO="SM"}(aO||(aO={})),function(t){t.EM="RM"}(hO||(hO={})),hO.EM,function(t){t[t.IM=0]="IM",t[t.th=1]="th",t[t.DM=2]="DM"}(fO||(fO={})),function(t){t.OM="NM"}(vO||(vO={})),function(t){t[t.CM=0]="CM",t[t.AM=1]="AM",t[t.PM=2]="PM"}(dO||(dO={})),function(t){t[t.xM=3]="xM",t[t.LM=4]="LM",t[t.BM=5]="BM"}(lO||(lO={})),function(t){t[t.MM=64]="MM",t[t.FM=103]="FM",t[t.UM=107]="UM"}(wO||(wO={})),function(t){t[t.VM=0]="VM",t[t.HM=1]="HM",t[t.FM=2]="FM",t[t.qM=5]="qM",t[t.WM=34]="WM"}(gO||(gO={})),Et.Hn,Qc.xa,Qc.Pa,Qc.Va,Qc.Ua,Qc.Ea,Qc.Ba,Lw.Wd,iw.Sl,Et.Ln||Et.Bn,function(t){t.zM="closed",t.yv="open",t.Ea="ended"}(yO||(yO={})),Qc.Ga,Qc.Ba,Qc.Va,Qc.xa,Qc.Pa,Lw.Wd,Qc.xa,Qc.Pa,Qc.Va,Qc.Ua,Qc.Ea,iw.Sl,function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(mO||(mO={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(_O||(_O={}));var OO=function(t){function n(n,i){var e;return(e=t.call(this)||this).jM=new Sr,e.UE=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.Nd).pr){i.next=4;break}return i.next=4,wr.awrap(n.cu(El.jd));case 4:if(n.pr===Fg.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.Pl.ol){i.next=11;break}return i.next=9,wr.awrap(n.cu(El.Cd));case 9:i.next=6;break;case 11:e.$M(n);case 12:case"end":return i.stop()}},null,null,null,j)},e.VE=function(t){var n=t.Nd;if(n.pr===Fg.ID3&&e.jM.has(n.ml)){var i=e.jM.get(n.ml);e.nl(i),e.wT.kT(i),n.ru(El.Cd,e.XM)}},e.XM=function(t){NO(t.Jg)&&e.GM(t.Jg)},e.wT=n,e.YM=i,e.KM(),e}vt(n,t);var i=n.prototype;return i.KM=function(){this.YM.tu(pl.Td,this.UE),this.YM.tu(pl.Ed,this.VE)},i.JM=function(){this.YM.ru(pl.Td,this.UE),this.YM.ru(pl.Ed,this.VE)},i.$M=function(t){var n=t.Pl.sl[0];if(NO(n)){var i=function(t){var n=t.match(FO);if(!n)return;return{Nd:n[1],bl:n[2]}}(n.ty.description),e=i.Nd,r=i.bl;if(!this.ZM(e,r)){var u=this.wT._T(Rm.Y_,t.yl,e,r,!1,Fg.TTML);this.tl(u),this.jM.set(t.ml,u);for(var s=0,o=t.Pl.sl;s<o.length;s++){var c=o[s];NO(c)&&this.GM(c)}t.tu(El.Cd,this.XM)}}},i.ZM=function(t,n){return this.zp.sl.some(function(i){return i.pl===t&&i.bl===n})},i.GM=function(t){if(t.Nd)for(var n=this.jM.get(t.Nd.ml),i=gm(t.ty.text,0,{Qm:0,t_:1/0,n_:t.Zg}),e=0;e<i.length;e++){var r=i[e];n.bT(r)}},i.ul=function(){var n,i,e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:for(n=0,i=this.YM.sl;n<i.length;n++)i[n].ru(El.Cd,this.XM);for(e=0,r=this.zp.sl;e<r.length;e++)u=r[e],this.wT.kT(u);return this.jM.clear(),s.next=5,wr.awrap(t.prototype.ul.call(this));case 5:case"end":return s.stop()}},null,this,null,j)},i.et=function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.JM(),n.next=3,wr.awrap(t.prototype.et.call(this));case 3:case"end":return n.stop()}},null,this,null,j)},n}(Um);function NO(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.ty)&&FO.test(n.description);var n}var CO,AO,PO,xO,LO,BO,MO,FO=/^Track:(.+),Lang:(.+)$/;new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Id=void 0,n}return vt(n,t),ht(n,[{key:"Dd",get:function(){return this.Id||(this.Id=vE(this)),this.Id}},{key:"Ax",get:function(){}},{key:"Px",get:function(){}},{key:"xx",get:function(){}},{key:"Lx",get:function(){}},{key:"Bx",get:function(){}},{key:"Mx",get:function(){}},{key:"qx",get:function(){}},{key:"Fx",get:function(){}},{key:"Ux",get:function(){}},{key:"Vx",get:function(){}},{key:"Hx",get:function(){}}]),n}(Cu)),function(t){t.QM='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.tF='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.nF='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.iF='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(CO||(CO={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(AO||(AO={})),function(t){var n=mr();for(var i in t)Rt.call(t,i)&&n.set(i,t[i])}({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),AO.WHITE,AO.TRANSPARENT,AO.TRANSPARENT,function(t){t.eF="Data",t.rF="Tag",t.uF="StartTag",t.sF="StartTagClass",t.oF="StartTagAnnotation",t.cF="CharRefInAnnotation",t.aF="EndTag",t.hF="TimestampTag"}(PO||(PO={})),function(t){t.fB="string",t.fF="starttag",t.vF="endtag",t.dF="timestamp"}(xO||(xO={})),AO.WHITE,AO.TRANSPARENT,function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(LO||(LO={})),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(BO||(BO={})),AO.WHITE,CO.nF,AO.BLACK,BO.FONT_REGULAR,AO.WHITE,BO.FONT_REGULAR,AO.WHITE,BO.FONT_UNDERLINE,AO.GREEN,BO.FONT_REGULAR,AO.GREEN,BO.FONT_UNDERLINE,AO.BLUE,BO.FONT_REGULAR,AO.BLUE,BO.FONT_UNDERLINE,AO.CYAN,BO.FONT_REGULAR,AO.CYAN,BO.FONT_UNDERLINE,AO.RED,BO.FONT_REGULAR,AO.RED,BO.FONT_UNDERLINE,AO.YELLOW,BO.FONT_REGULAR,AO.YELLOW,BO.FONT_UNDERLINE,AO.MAGENTA,BO.FONT_REGULAR,AO.MAGENTA,BO.FONT_UNDERLINE,AO.WHITE,BO.FONT_ITALICS,AO.WHITE,BO.FONT_UNDERLINE_ITALICS,AO.WHITE,BO.FONT_REGULAR,AO.WHITE,BO.FONT_UNDERLINE,AO.WHITE,BO.FONT_REGULAR,AO.WHITE,BO.FONT_UNDERLINE,AO.WHITE,BO.FONT_REGULAR,AO.WHITE,BO.FONT_UNDERLINE,AO.WHITE,BO.FONT_REGULAR,AO.WHITE,BO.FONT_UNDERLINE,AO.WHITE,BO.FONT_REGULAR,AO.WHITE,BO.FONT_UNDERLINE,AO.WHITE,BO.FONT_REGULAR,AO.WHITE,BO.FONT_UNDERLINE,AO.WHITE,BO.FONT_REGULAR,AO.WHITE,BO.FONT_UNDERLINE,AO.WHITE,BO.FONT_REGULAR,AO.WHITE,BO.FONT_UNDERLINE,function(t){t.lF="HELLO",t.wF="HI_THERE",t.gF="INITIALIZE",t.yF="APPEND_INIT",t.mF="APPEND_DATA",t._F="ACK",t.pF="REMOVE",t.bF="DESTROY_SESSION"}(MO||(MO={}));var UO=iy.Jy,VO=new iy(-1/0),HO=iy.Pm,qO=new(function(t){function n(n,i){return t.call(this,n,i)||this}vt(n,t);var i=n.prototype;return i.Py=function(t,n){return t.Fy(n)?Qr.Pr:t.hy(n)?Qr.Cr:Qr.Ar},i.xg=function(t,n){return t.xg(n)},i.qy=function(t,n){return t.qy(n)},i.My=function(t,n){return t.My(n)},i.BI=function(){return UO},i.MI=function(){return HO},i.HI=function(){return VO},n.uD=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new iy(t.start(e)),new iy(t.end(e)));return new n(i)},n.kF=function(t){for(var i=[],e=[],r=0;r<t.ol;r++)i.push(new iy(t.SI(r))),i.push(new iy(t.RI(r))),e.push(t.EI(r)),e.push(t.II(r));return new n(i,e)},n.oD=function(t){return new n([t,t],[!0,!0])},i.xI=function(t,i){return new n(t,i)},i.CI=function(t){return t.Cm},n.cD=function(){return qO},n}(Gb))([]);Eg.Qf,Eg.tv;var WO=function(t){function n(n){var i;return(i=t.call(this,Qc._a)||this).errorObject=void 0,i.errorObject=n,i}return vt(n,t),ht(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Pu),zO=function(t){function n(){return t.call(this,Qc.pa)||this}return vt(n,t),n}(Pu),jO=function(t){function n(n){var i;return(i=t.call(this,"Ka")||this).TF=n,i}return vt(n,t),n}(Pu),$O=new AE,XO=function(t){function n(n){var i;return(i=t.call(this,"sc")||this).session=n,i}return vt(n,t),n}(Pu),GO=function(t){function i(i,e,r){var u;return(u=t.call(this)||this).SF=!1,u.EF=!1,u.nd=new wu,u.RF=void 0,u.ic=function(t){if(!u.nd.Gr.xr)switch(t.vu){case"license-request":case"license-renewal":u.uS(t.fu,t.du).catch(function(t){return u.Lc(t)});break;default:u.Lc(new bg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.vu))}},u.IF=function(t){u.DF.lc.Tu(function(t,n){switch(t){case"usable":st.xe(function(){u.EF=!0,u.Qr(new zO)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Qr(new jO(n))}})},u.OF=function(t){u.Lc(new bg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.DF=i,u.NF=e,u.CF=r,i.tu("fu",u.ic),i.tu("hu",u.IF),i.tu("lu",u.OF),i.vc.then(function(){return u.AF()}),u}vt(i,t);var e=i.prototype;return e.oc=function(){var t=this;return this.SF=!0,$O.xL(function(n){return t.PF(n)},this.nd.Gr)},e.PF=function(t){var i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,mu(t),u.next=4,wr.awrap(this.NF.ZT(t));case 4:return u.next=6,wr.awrap(this.NF.QT(this.CF.kr,this.CF._u,t));case 6:return i=u.sent,u.next=9,wr.awrap(this.DF.oc(this.CF.kr,this.CF._u,i));case 9:u.next=18;break;case 11:throw u.prev=11,u.t0=u.catch(0),_u(u.t0),e=u.t0 instanceof Xs?u.t0.Hu:void 0,r=new bg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",u.t0,void 0,void 0,void 0,void 0,e),this.Lc(r),r;case 18:case"end":return u.stop()}},null,this,[[0,11]],j)},e.uS=function(t,i){var e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!zs(t)){o.next=7;break}return o.next=4,wr.awrap(this.NF.dS(new y(t),this.nd.Gr));case 4:e=o.sent,o.next=10;break;case 7:return o.next=9,wr.awrap(this.NF.lS(new y(t),i,this.nd.Gr));case 9:e=o.sent;case 10:o.next=17;break;case 12:if(o.prev=12,o.t0=o.catch(0),!yu(o.t0)){o.next=16;break}return o.abrupt("return");case 16:throw o.t0;case 17:if(!this.nd.Gr.xr){o.next=19;break}return o.abrupt("return");case 19:return r=this.RF,u=new qs,this.RF=u,o.prev=22,o.next=25,wr.awrap(this.DF.hc(e));case 25:return o.next=27,wr.awrap(Iu(100));case 27:o.next=33;break;case 29:throw o.prev=29,o.t1=o.catch(22),s=o.t1 instanceof Xs?o.t1.Hu:void 0,new bg(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o.t1,void 0,void 0,void 0,void 0,s);case 33:if(o.prev=33,void 0===r){o.next=37;break}return o.next=37,wr.awrap(r.Lu);case 37:return u.Fu(),this.RF===u&&(this.RF=void 0),o.finish(33);case 40:case"end":return o.stop()}},null,this,[[0,12],[22,29,33,40]],j)},e.Lc=function(t){var i=t instanceof bg?t:new bg(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Qr(new WO(i)),this.sc()},e.AF=function(){this.DF.ru("fu",this.ic),this.DF.ru("hu",this.IF),this.DF.ru("lu",this.OF),this.EF=!1,this.nd.jr(),this.Qr(new XO(this))},e.sc=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.eu();case 1:if(void 0===(t=this.RF)){n.next=5;break}return n.next=5,wr.awrap(t.Lu);case 5:if(this.RF!==t){n.next=1;break}case 6:return this.AF(),n.next=9,wr.awrap(this.DF.sc().catch(Ft));case 9:case"end":return n.stop()}},null,this,null,j)},i}(Cu),YO=[Qc.pa,Qc._a,Qc.Ya],KO=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).ec=void 0,r.gc=void 0,r.xF=void 0,r.LF=[],r.BF=void 0,r.MF=[],r.FF=function(t){t.session.ru(YO,r.Zr),t.session.ru("sc",r.FF),au(r.LF,t.session)},r.ec=n,r.gc=i,r.xF=e,r}vt(n,t);var i=n.prototype;return i.vS=function(){return this.xF.vS()},i.UF=function(t){return this.BF||(this.BF=this.VF(t)),this.BF},i.VF=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return mu(t),i.next=3,wr.awrap(this.xF.dS(new y(Ws()),t));case 3:if(n=i.sent,mu(t),this.gc){i.next=7;break}throw new h("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,wr.awrap(this.gc.pc(n.buffer));case 9:case"end":return i.stop()}},null,this,null,j)},i.bM=function(t){var n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.gc){e.next=2;break}throw new h("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.MF.push(t),e.next=6,wr.awrap(this.gc._c("temporary"));case 6:return n=e.sent,i=new GO(n,this.xF,t),this.LF.push(i),i.tu(YO,this.Zr),i.tu("sc",this.FF),e.abrupt("return",i);case 12:return e.prev=12,au(this.MF,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],j)},i.HF=function(t){if(t.qF)return!1;for(var n=0,i=this.LF;n<i.length;n++){if(JO(i[n].CF,t))return!0}for(var e=0,r=this.MF;e<r.length;e++){if(JO(r[e],t))return!0}return!1},i.et=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.gc=void 0,this.eu(),t=this.LF.slice(),du(this.LF),n.next=6,wr.awrap(j.all(t.map(function(t){return t.sc()})));case 6:this.xF.Ur();case 7:case"end":return n.stop()}},null,this,null,j)},ht(n,[{key:"yc",get:function(){return this.ec}}]),n}(Cu);function JO(t,n){return!t.qF&&t.kr===n.kr&&Zu(t._u,n._u)}var ZO=function(t){function i(n){var i;return(i=t.call(this)||this).YE=void 0,i.nd=new wu,i.jL=new AE,i.qc=void 0,i.xF=void 0,i.KE=void 0,i.ec=void 0,i.WF=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,wr.awrap(i.zF(t.kr,t._u,i.nd.Gr));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),yu(n.t0)||i.Lc(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],j)},i.YE=n,i.YE.tu(Nu.wu,i.WF),i}vt(i,t);var e=i.prototype;return e.cc=function(t,n){this.KE=t,this.oM(n)},e.oM=function(t){this.qc=t,this.jF(this.nd.Gr).catch(pu)},e.jF=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!st.Ye.ve){n.next=5;break}return n.next=3,wr.awrap(this.XF(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.qc||!this.qc.GF){n.next=9;break}return n.next=8,wr.awrap(this.YF(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,j)},e.XF=function(t){var n,i,e,r,u,s,o,c,a,h,f;return wr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.qc)?void 0:n.ER){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(u=null==(s=this.qc)?void 0:s.ER)?u:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],c=0,a=null!=(h=o.BE)?h:[];case 8:if(!(c<a.length)){v.next=22;break}return f=a[c],v.prev=10,v.next=13,wr.awrap(this.zF(o.yc.kr,f,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),_u(v.t0);case 19:c++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],j)},e.zF=function(t,i,e){var r,u,s,o,c,a,h,f,v,d;return wr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(mu(e),i.byteLength){l.next=3;break}return l.abrupt("return");case 3:if(this.qc&&this.qc.ER.length){l.next=5;break}throw new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Rr||t===Dr||t===Ir){l.next=8;break}return l.abrupt("return");case 8:r=tp(t,i),u=this.qc.ER,o=0;case 11:if(!(o<u.length)){l.next=42;break}if(c=u[o],mu(e),(a=r[c.yc.Tr])&&c.yc.kr===t){l.next=17;break}return l.abrupt("continue",39);case 17:return l.prev=17,l.next=20,wr.awrap(this.KF(c,e));case 20:if(!(h=l.sent).vS()){l.next=24;break}return l.next=24,wr.awrap(h.UF());case 24:if(f=this.YE._g,v={kr:c.yc.kr,_u:a,qF:f},!this.JF(h,v)){l.next=32;break}return l.next=29,wr.awrap(h.bM(v));case 29:return d=l.sent,l.next=32,wr.awrap(d.oc());case 32:return l.abrupt("return");case 35:l.prev=35,l.t0=l.catch(17),_u(l.t0),s=l.t0;case 39:o++,l.next=11;break;case 42:return l.next=44,wr.awrap(st.Fe());case 44:if(!l.sent){l.next=48;break}throw new bg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s);case 48:throw new bg(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s);case 49:case"end":return l.stop()}},null,this,[[17,35]],j)},e.YF=function(t){var n,i,e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=null==(n=this.qc)?void 0:n.ER){s.next=3;break}return s.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){s.next=23;break}return r=i[e],mu(t),s.prev=7,s.next=10,wr.awrap(this.KF(r,t));case 10:if(!(u=s.sent).vS()){s.next=14;break}return s.next=14,wr.awrap(u.UF());case 14:return s.abrupt("return");case 17:s.prev=17,s.t0=s.catch(7),_u(s.t0);case 20:e++,s.next=4;break;case 23:case"end":return s.stop()}},null,this,[[7,17]],j)},e.JF=function(t,n){return st.Ye.fe||!t.HF(n)},e.KF=function(t,n){var i=this;return this.jL.xL(function(n){return i.ZF(t,n)},n)},e.ZF=function(t,n){var i,e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(mu(n),this.qc&&this.xF&&this.KE){o.next=3;break}throw new h("Not initialized");case 3:if(!this.ec){o.next=7;break}if(this.ec.yc===t.yc){o.next=6;break}throw new h("Internal key system error");case 6:return o.abrupt("return",this.ec);case 7:return i=this.xF,e=gr({},t,{UR:t.UR.map(function(n){var e;return gr({},n,{persistentState:null!=(e=n.persistentState)?e:i.xS(t.yc),Ic:n.Ic||i.Ic(t.yc)})})}),o.next=11,wr.awrap(this.KE.rM(e.yc,e.UR));case 11:return r=o.sent,u=i.LE(e),(s=new KO(e.yc,r,u)).tu([Qc.pa,Qc._a,Qc.Ya],this.Zr),this.ec=s,o.abrupt("return",s);case 17:case"end":return o.stop()}},null,this,null,j)},e.Lc=function(t){var i=t instanceof bg?t:new bg(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Qr(new WO(i))},e.ul=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.KE=void 0,this.qc=void 0,this.nd.jr(),this.nd=new wu,t.next=6,wr.awrap(this.QF());case 6:case"end":return t.stop()}},null,this,null,j)},e.QF=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(this.jL.jr());case 2:if(!(t=this.ec)){n.next=8;break}return t.ru(Qc.Ya,this.Zr),this.ec=void 0,n.next=8,wr.awrap(t.et());case 8:case"end":return n.stop()}},null,this,null,j)},e.Ur=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.eu(),this.YE.ru(Nu.wu,this.WF),t.next=4,wr.awrap(this.ul());case 4:return t.next=6,wr.awrap(this.jL.et());case 6:case"end":return t.stop()}},null,this,null,j)},ht(i,[{key:"tU",get:function(){var t;return null==(t=this.ec)?void 0:t.yc}},{key:"kR",get:function(){return this.xF},set:function(t){this.xF=t}}]),i}(Cu);Et.Ln||Et.Bn,Et.ti,Et.Hn;var QO=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.JF=function(t,n){return!0},n}(ZO),tN=function(t){function n(n,i,e){var r;return void 0===e&&(e=new IO(i)),(r=t.call(this)||this).KE=void 0,r.Rr=void 0,r.nU=void 0,r.iU=new AE,r.eU=void 0,r.TM=void 0,r.rU=!1,r.Jc=void 0,r.$c=null,r.uU={bg:0,kg:0,Tg:0,Sg:0,Eg:0,Rg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.sU=function(t){"boolean"==typeof t.detail.casting&&(r.rU=t.detail.casting,r.Qr(new qg(r.rU)))},r.oU=function(t){r.Jc=t.sessionId,r.$c&&(r.$c.sessionId=r.Jc);var n=t.initData;if(n){var i=function(t){try{var n=xs(t),i=new Hs;return Is(Ds(ds(n,i,ys(n,i,!0)),!0))}catch(t){return}}(n);if(!i)return;r.Qr(new Uu(Dr,i))}else r.Qr(new Uu(Dr,new ArrayBuffer(0)))},r.eU=n,r.TM=i,r.TM.tu(sO.vM,r.oU),r.Rr=e,r.nU=new QO(Nn(r)),r.cU(),r}vt(n,t);var i=n.prototype;return i.aU=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.pr===Xm.ST)return i}},i.Ur=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.ul());case 2:return this.eu(),this.hU(),this.TM.ru(sO.vM,this.oU),t.next=7,wr.awrap(this.nU.Ur());case 7:case"end":return t.stop()}},null,this,null,j)},i.og=function(){throw new h("Not implemented yet")},i._T=function(t,n,i,e,r,u,s,o){throw new h("Not implemented yet")},i.NR=function(){return!1},i.AR=function(t,n,i,e){throw new h("Not implemented yet")},i.kT=function(t){throw new h("Not implemented yet")},i.LR=function(){throw new h("Not implemented yet")},i.cc=function(t){var n=this;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.iU.xL(function(i){var e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.pr!==Xm.ST){r.next=8;break}return mu(i),e=new cO(t,n,n.Rr),n.KE=e,n.nU.cc(e,t),r.abrupt("return",e);case 8:throw new h("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,j)}));case 1:case"end":return i.stop()}},null,this,null,j)},i.K=function(){throw new h("Not implemented yet")},i.Y=function(){throw new h("Not implemented yet")},i.ul=function(){var t=this;return this.iU.jr(),this.iU.xL(function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.KE){n.next=4;break}return n.next=3,wr.awrap(t.KE.Ur());case 3:t.KE=void 0;case 4:return n.next=6,wr.awrap(t.nU.ul());case 6:case"end":return n.stop()}},null,null,null,j)})},i.Ou=function(t,n){throw new h("Not implemented yet")},i.WR=function(t){throw new h("Not implemented yet")},i.sg=function(){throw new h("Not implemented yet")},i.zR=function(){return this.uU},i.cU=function(){this.eU.addEventListener("airPlayIsCasting",this.sU)},i.hU=function(){this.eU.removeEventListener("airPlayIsCasting",this.sU)},i.webkitSetMediaKeys=function(t){this.$c=t||null,this.$c&&(this.$c.sessionId=this.Jc)},i.fU=function(){},i.vU=function(){throw new h("Not implemented yet")},i.dU=function(){throw new h("Not implemented yet")},ht(n,[{key:"yg",get:function(){throw new h("Not implemented yet")}},{key:"gg",get:function(){throw new h("Not implemented yet")}},{key:"lw",get:function(){throw new h("Not implemented yet")}},{key:"lL",get:function(){throw new h("Not implemented yet")}},{key:"ww",get:function(){throw new h("Not implemented yet")}},{key:"gw",get:function(){throw new h("Not implemented yet")}},{key:"lu",get:function(){throw new h("Not implemented yet")}},{key:"ob",get:function(){throw new h("Not implemented yet")}},{key:"_g",get:function(){return this.rU}},{key:"mw",get:function(){throw new h("Not implemented yet")}},{key:"_w",get:function(){throw new h("Not implemented yet")}},{key:"pw",get:function(){throw new h("Not implemented yet")}},{key:"Dg",get:function(){throw new h("Not implemented yet")}},{key:"Al",get:function(){throw new h("Not implemented yet")}},{key:"Ng",get:function(){throw new h("Not implemented yet")}},{key:"bw",get:function(){throw new h("Not implemented yet")}},{key:"lU",get:function(){throw new h("Not implemented yet")}},{key:"Sw",get:function(){throw new h("Not implemented yet")},set:function(t){throw new h("Not implemented yet")}},{key:"Ty",get:function(){throw new h("Not implemented yet")}},{key:"xR",get:function(){throw new h("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.$c}},{key:"wU",get:function(){return oO}},{key:"Kw",get:function(){throw new h("Not implemented yet")}},{key:"gL",get:function(){throw new h("Not implemented yet")}},{key:"jR",get:function(){throw new h("Not implemented yet")}},{key:"gU",get:function(){return!0}},{key:"kR",get:function(){return this.nU.kR},set:function(t){this.nU.kR=t}},{key:"yU",get:function(){},set:function(t){}},{key:"tU",get:function(){return this.nU.tU}}]),n}(hw),nN=function(t){function n(n){var i;return(i=t.call(this,Qc.Ja)||this).uU=n,i}return vt(n,t),n}(Pu);var iN=function(t){function n(n,i){var e,r=eN(i,n.ww,n.jR,n.mU);return(e=t.call(this,i,r,void 0,!1,n.yl)||this)._U=void 0,e.pU=void 0,e.bU=void 0,e.Ms=void 0,e.kU=void 0,e.TU=void 0,e.SU=void 0,e.EU=void 0,e.RU=void 0,e.IU=void 0,e._U=n.DU,e.pU=n.jR,e.bU=n.mU,e.Ms=n.ww,e.kU=n.OU,e.TU=Boolean(n.NU),e.SU=n.CU||{},e.EU=n.AU,e.RU=n.PU,e.IU=n.xU,e.LU(),e.BU(),e}vt(n,t);var i=n.prototype;return i.hc=function(t){var n=!1;void 0===this._U&&void 0!==t.DU&&(n=!0,this._U=t.DU),void 0===this.bU&&void 0!==t.mU&&(n=!0,this.bU=t.mU),void 0===this.Ms&&void 0!==t.ww&&(n=!0,this.Ms=t.ww),void 0===this.kU&&void 0!==t.OU&&(n=!0,this.kU=t.OU),!this.TU&&t.NU&&(n=!0,this.TU=t.NU),n=this.updateCustomAttributes(t,n),void 0===this.EU&&void 0!==t.AU&&(n=!0,this.EU=t.AU),void 0===this.RU&&void 0!==t.PU&&(n=!0,this.RU=t.PU),void 0===this.IU&&void 0!==t.xU&&(n=!0,this.IU=t.xU),this.LU(),this.BU(),this.MU(),n&&this.Qr(new Xg(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.CU)for(var e=0,r=v.keys(t.CU);e<r.length;e++){var u=r[e];void 0===this.SU[u]&&(i=!0,this.SU[u]=t.CU[u])}return i},i.LU=function(){this.Ms&&!this.bU&&(this.bU=new Date(this.pU.getTime()+1e3*this.Ms))},i.BU=function(){this.bU&&!this.Ms&&(this.Ms=In(this.bU.getTime()-this.pU.getTime()))},i.MU=function(){this.iy===1/0&&(this.bU||this.Ms)&&(this.iy=eN(this.ny,this.Ms,this.pU,this.bU))},ht(n,[{key:"Dd",get:function(){var t;return this.Id||(this.Id=Fl(jg(t=this),{get content(){return t.ty},get class(){return t.DU},get startDate(){return t.jR},get endDate(){return t.mU},get duration(){return t.ww},get plannedDuration(){return t.OU},get endOnNext(){return t.NU},get scte35Cmd(){return t.AU},get scte35Out(){return t.PU},get scte35In(){return t.xU},get customAttributes(){return t.CU}})),this.Id}},{key:"DU",get:function(){return this._U}},{key:"jR",get:function(){return this.pU}},{key:"mU",get:function(){return this.bU}},{key:"ww",get:function(){return this.Ms}},{key:"OU",get:function(){return this.kU}},{key:"NU",get:function(){return this.TU}},{key:"AU",get:function(){return this.EU}},{key:"PU",get:function(){return this.RU}},{key:"xU",get:function(){return this.IU}},{key:"CU",get:function(){return this.SU}}]),n}(Kg);function eN(t,n,i,e){return Dt(n)?t+n:e?t+(In(e.getTime())-In(i.getTime())):1/0}var rN,uN=function(t){function n(){return t.call(this,void 0,void 0,Fg.DATE_RANGE)||this}vt(n,t);var i=n.prototype;return i.hc=function(t,n){!function(t,n,i){for(var e=t.Pl.sl,r=function(i){var r=e[i],u=ou(n,function(t){return t.yl===r.yl});u?r.hc(u):t.sT(r)},u=e.length-1;u>=0;u--)r(u);for(var s=0;s<n.length;s++){var o=n[s],c=o.jR;if(void 0!==c&&!t.tM(o.yl)){var a=i(c);t.bT(new iN(o,a))}}}(this,function(t){for(var n=mr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.yl)){var u=n.get(r.yl),s=gr({},u,ql(r),{CU:gr({},u.CU,r.CU)});n.set(r.yl,s)}else n.set(r.yl,r),i.push(r.yl)}return i.map(function(t){return n.get(t)})}(t),n)},i.bT=function(n){var i,e,r;i=this.Pl.sl,e=n,(r=cu(i,function(t){return t.DU===e.DU}))&&r.NU&&r.hc({yl:r.yl,mU:e.jR}),t.prototype.bT.call(this,n)},n}(rO);function sN(t){switch(t.type){case rN.fB:return t.value;case rN.hB:return zl(t.value);case rN.aB:return Xu(t.value);default:return}}function oN(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.fB="daterange-ca-type_string",t.hB="daterange-ca-type_number",t.aB="daterange-ca-type_arraybuffer"}(rN||(rN={}));var cN,aN,hN=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,r,i,e)||this).aE=void 0,s.FU=void 0,s.aE=n,s.FU=u,s}return vt(n,t),ht(n,[{key:"name",get:function(){return this.aE}},{key:"timestamp",get:function(){return this.FU}}]),n}(Pc),fN=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this,n,i,e,r,c)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=u,a.status=s,a.errorComment=o,a}return vt(n,t),n}(hN),vN=function(){function t(t,n){this.zw=void 0,this.UU=void 0,this.zw=new Im,this.UU=new UD(t,n)}var n=t.prototype;return n._T=function(t,n,i,e,r,u,s){var o=new nO(t,n,i,e,r,u,s);return this.zw.tl(o),this.UU.tl(o),o},n.kT=function(t){this.zw.nl(t),this.UU.nl(t),t.et()},n.ul=function(){for(var t=0,n=this.zw.sl.slice();t<n.length;t++){n[t].et()}this.zw.ul(),this.UU.ul()},n.et=function(){this.ul(),this.zw.et(),this.UU.et()},ht(t,[{key:"Kw",get:function(){return this.zw}}]),t}(),dN=function(t){function n(n,i,e,r,u){var s;(s=t.call(this)||this).dD=0,s.VU=!1,s.JE=void 0,s.ZE=void 0,s.HU=void 0,s.wD=!0,s.gD=1,s.qw=void 0,s.Ww=void 0,s.qU=void 0,s.WU=void 0,s.zw=void 0,s.wT=void 0,s.Ms=void 0,s.zU=Yb.cD(),s.jU=Yb.cD(),s.lD=!1,s.$U=Yb.cD(),s.yD=void 0,s.XU=void 0,s.GU=void 0,s.$B=pw.ew,s.RT=pw.ew,s.eU=void 0,s.UU=void 0,s.nR=void 0,s.MB=void 0,s.YU=void 0,s.bD=void 0,s.YE=void 0,s.iR=void 0,s.TM=void 0,s.uU={bg:0,kg:0,Tg:0,Sg:0,Eg:0,Rg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.KE=void 0,s.KU=void 0,s.rR=new Ib,s.uR=new Pb,s.setCurrentTime=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.Ng.length){n.next=4;break}return s.dD=t,n.next=4,wr.awrap(s.eU.cu("seekablechange"));case 4:s.dD=s.updateCurrentTime(t),s.MB.VB("THEOplayerSetCurrentTime",s.dD),s.yD=!0,s.Qr(new Xw(s.dD));case 8:case"end":return n.stop()}},null,null,null,j)},s.JU=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.zU=new Yb(i),s.Qr(new zD(s.lw))}},s.ZU=function(t){s.$B=t.detail.readyState,s.Qr(new Kw(+t.detail.currentTime,s.Al)),s.QU()},s.tV=function(t){s.$B=t.detail.readyState,s.Qr(new Jw(+t.detail.currentTime,s.Al)),s.QU()},s.nV=function(t){if(t.detail){var n=+t.detail.duration;s.Ms=n,s.Qr(new qw(s.ww))}},s.iV=function(t){t.detail&&(s.VU=!0,s.Qr(new jw(+t.detail.currentTime)))},s.sR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);oN(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.ZE=new fN(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),s.JE=Sg(s.ZE),s.Qr(new Qw(s.ZE))):oN(i)&&(s.ZE=new hN(i.name,i.message,void 0,i.code,i.timestamp),s.JE=Sg(s.ZE),s.Qr(new Qw(s.ZE)))}},s.eV=function(t){s.Qr(new WD)},s.rV=function(t){s.$B=t.detail.readyState,s.Qr(new $w(+t.detail.currentTime,s.Al)),s.QU()},s.uV=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.Ng.length){n.next=3;break}return n.next=3,wr.awrap(s.eU.cu("seekablechange"));case 3:s.$B=t.detail.readyState,s.Qr(new Hw(+t.detail.currentTime,s.Al)),s.QU();case 6:case"end":return n.stop()}},null,null,null,j)},s.sV=function(t){t.detail&&s.wD&&(s.wD=!1,s.Qr(new Fw(+t.detail.currentTime)))},s.oV=function(t){t.detail&&(s.wD||(s.wD=!0,s.Qr(new Mw(+t.detail.currentTime))))},s.cV=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.$U=new Yb(i)}},s.aV=function(t){t.detail&&s.Qr(new u_(+t.detail.currentTime))},s.hV=function(t){t.detail&&(s.gD=t.detail.playbackRate,s.Qr(new Ww(+t.detail.currentTime,s.gD)))},s.fV=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.jU=new Yb(i)}},s.vV=function(t){t.detail&&(s.dD=+t.detail.currentTime,s.yD=!1,s.Qr(new zw(s.dD,s.HU)),s.Qr(new Gw(s.dD)))},s.dV=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.Ms&&(s.VU=!1),s.yD=!0,s.Qr(new Xw(n))}},s.lV=function(t){t.detail&&(t.detail.currentDate&&(s.HU=new Date(1e3*t.detail.currentDate)),s.dD=+t.detail.currentTime,s.Qr(new zw(s.dD,s.HU)))},s.wV=function(t){s.XU=t.detail.height,s.GU=t.detail.width},s.gV=function(t){t.detail&&s.Qr(new r_(+t.detail.currentTime))},s.yV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.Gw.tl(new Lg(n))},s.mV=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,u=0;u<s.qw.ol;u++){var o=s.Gw.Qd(u);o.bl==e&&o.pl==r?i=s.qw.Qd(u):1==o.gl&&(n=s.qw.Qd(u))}i&&n&&(i.gl=!0,n.gl=!1)},s._V=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.Yw.tl(new Hg(n))},s.pV=function(t){var n,i=t.detail.kind,e=t.detail.type;i===Rm.J_&&e===Fg.ID3?(n=new uO("",t.detail.label)).Rl=nw.Dl:i===Rm.J_&&e===Fg.DATE_RANGE?(n=new uN,s.KU=n):n=new nO(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),s.qU.tl(n),s.UU.tl(n)},s.bV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,u={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(u.description=e.Id3FrameDescription);var o=new eO(zl(e.startTime),u,e.uid),c=s.kV();c&&c.bT(o)}},s.TV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],u=new Jg(zl(r.startTime),zl(r.endTime),r.content,!1),o=null!=(e=s.SV(Rm.Y_))?e:s.SV(Rm.iT);o&&(o.pr=Fg.WEBVTT,o.bT(u))}},s.EV=function(t){t.type===Qc._a&&(s.JE=Sg(t.errorObject)),s.Zr(t)},s.RV=function(t){t.detail&&(s.uU.kg=t.detail.corruptedVideoFrames,s.uU.bg=t.detail.droppedVideoFrames,s.Qr(new nN(s.pg)))},s.IV=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={yl:t.id};if(void 0!==t.startDate&&(n.jR=new Date(t.startDate)),void 0!==t.endDate&&(n.mU=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var u=sN(t.customAttributes[r]);void 0!==u&&(e[r]=u)}n.CU=e}void 0!==t.scte35Cmd&&(n.AU=Xu(t.scte35Cmd)),void 0!==t.scte35In&&(n.xU=Xu(t.scte35In)),void 0!==t.scte35Out&&(n.PU=Xu(t.scte35Out)),void 0!==t.startTime&&(n.Zg=t.startTime),n.DU=t.class,n.ww=zl(t.duration),n.OU=zl(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Zg?t.Zg:(new Date).getTime(),e=new iN(t,i);s.KU.bT(e),s.KU.hc(n,i)})};var o=r.uid;s.MB=s.getSdkBridge(o),s.eU=new TD,dD()[o].sdkEventBus=s.eU,s.qw=new Rg,s.Ww=new Rg;var c=s.DV(e);return s.wT=new vN(Nn(s),new VD),s.UU=new qD(Nn(s)),s.nR=new Hm(s.wT,c),s.qU=new Im,s.WU=new OO(s.wT,s.qU),s.zw=new Nb([s.qU,s.nR.zp,s.WU.zp]),s.TM=s.getFairPlayControllerBridge(s.MB),s.YE=new tN(s.eU,s.TM),s.iR=new Db(c),s.YE.kR=s.iR,s.observeMediaElement(),s.SR(),s.bD=new jD(s.MB,u),s.bD.tu("MA",function(){s.MB.VB("THEOplayerSetPreferredForwardBufferDuration",s.bD.BA)}),s}vt(n,t);var i=n.prototype;return i.ag=function(){return Zb},i.sg=function(){this.MB.VB("THEOplayerShow",{})},i.og=function(){this.MB.VB("THEOplayerHide",{})},i.OV=function(){var t=this;this.MB.VB("THEOplayerSetInitialPreferredPeakBitRate",this.bD.ZA);this.tu("playing",function n(){t.MB.VB("THEOplayerSetInitialPreferredPeakBitRate",0),t.ru("playing",n)})},i.tg=function(t,n){var i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return this.YU=t,i=gr({},n,{sources:{src:t.src,type:yw.Kl,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.MB.VB("THEOplayerSourceChange",i),e={pr:Xm.ST,Ll:t.src,pf:t.type,ER:this.RR(t),IR:t.crossOrigin,DR:n.metadata&&n.metadata.title},this.iR.xE(t.contentProtection),u.next=7,wr.awrap(this.YE.cc(e));case 7:this.KE=u.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==Fg.WEBVTT})).length>0&&this.OR(r),$m(this.Kw),this.OV();case 11:case"end":return u.stop()}},null,this,null,j)},i.RR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{yc:Hr,UR:[{initDataTypes:[Hr.kr],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Y=function(){this.wD=!1,this.Qr(new Fw(this.lw)),this.MB.VB("THEOplayerPlay",{})},i.K=function(){this.wD=!0,this.Qr(new Mw(this.lw)),this.MB.VB("THEOplayerPause",{})},i.cg=function(){},i.ul=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.dD=0,this.VU=!1,this.JE=void 0,this.ZE=void 0,this.wD=!0,this.gD=1,this.Ms=void 0,this.jU=Yb.cD(),this.zU=Yb.cD(),this.XU=void 0,this.GU=void 0,this.$B=pw.ew,this.RT=pw.ew,this.qw.ul(),this.Ww.ul(),this.qU.ul(),this.zw.ul(),t.next=19,wr.awrap(this.WU.ul());case 19:return t.next=21,wr.awrap(this.nR.ul());case 21:return this.wT.ul(),this.UU.ul(),this.YU=void 0,t.next=26,wr.awrap(this.YE.ul());case 26:case"end":return t.stop()}},null,this,null,j)},i.ig=function(){this.MB.VB("THEOplayerShowAirPlayPicker",{})},i.eg=function(){this.MB.VB("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.pg.kg=t.kg,this.pg.bg=t.bg},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.ul());case 2:return this.eu(),this.unobserveMediaElement(),this.FR(),this.YE.kR=void 0,t.next=8,wr.awrap(this.YE.Ur());case 8:return this.qw.et(),this.Ww.et(),this.qU.et(),this.zw.et(),t.next=14,wr.awrap(this.WU.et());case 14:return t.next=16,wr.awrap(this.nR.et());case 16:this.wT.et(),this.UU.et();case 18:case"end":return t.stop()}},null,this,null,j)},i.OR=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.nR.mT(i)}},i.QU=function(){var t=this.RT,n=this.$B;t!==n&&(this.RT=n,this.Qr(new Zw(this.lw,n)))},i.observeMediaElement=function(){this.YE.tu(Qc.wa,this.Zr),this.YE.tu([Qc.pa,Qc._a],this.EV),this.eU.addEventListener("play",this.sV),this.eU.addEventListener("pause",this.oV),this.eU.addEventListener("seeking",this.dV),this.eU.addEventListener("seeked",this.vV),this.eU.addEventListener("ratechange",this.hV),this.eU.addEventListener("durationchange",this.nV),this.eU.addEventListener("timeupdate",this.lV),this.eU.addEventListener("waiting",this.gV),this.eU.addEventListener("playing",this.aV),this.eU.addEventListener("ended",this.iV),this.eU.addEventListener("loadedmetadata",this.uV),this.eU.addEventListener("loadeddata",this.rV),this.eU.addEventListener("loadstart",this.eV),this.eU.addEventListener("canplay",this.ZU),this.eU.addEventListener("canplaythrough",this.tV),this.eU.addEventListener("error",this.sR),this.eU.addEventListener("seekablechange",this.fV),this.eU.addEventListener("videosizechange",this.wV),this.eU.addEventListener("bufferedchange",this.JU),this.eU.addEventListener("playedchange",this.cV),this.eU.addEventListener("metricschange",this.RV),this.eU.addEventListener("addDateRangeCues",this.IV)},i.unobserveMediaElement=function(){this.YE.ru(Qc.wa,this.Zr),this.YE.ru([Qc.pa,Qc._a],this.EV),this.eU.removeEventListener("play",this.sV),this.eU.removeEventListener("pause",this.oV),this.eU.removeEventListener("seeking",this.dV),this.eU.removeEventListener("seeked",this.vV),this.eU.removeEventListener("ratechange",this.hV),this.eU.removeEventListener("durationchange",this.nV),this.eU.removeEventListener("timeupdate",this.lV),this.eU.removeEventListener("waiting",this.gV),this.eU.removeEventListener("playing",this.aV),this.eU.removeEventListener("ended",this.iV),this.eU.removeEventListener("loadedmetadata",this.uV),this.eU.removeEventListener("loadeddata",this.rV),this.eU.removeEventListener("loadstart",this.eV),this.eU.removeEventListener("canplay",this.ZU),this.eU.removeEventListener("canplaythrough",this.tV),this.eU.removeEventListener("error",this.sR),this.eU.removeEventListener("seekablechange",this.fV),this.eU.removeEventListener("videosizechange",this.wV),this.eU.removeEventListener("bufferedchange",this.JU),this.eU.removeEventListener("playedchange",this.cV),this.eU.removeEventListener("metricschange",this.RV),this.eU.removeEventListener("addDateRangeCues",this.IV)},i.updateCurrentTime=function(t){var n=this.Ng.start(0),i=this.Ng.end(0);return d.min(d.max(t,n),i)},i.kV=function(){for(var t=0,n=this.zw.sl;t<n.length;t++){var i=n[t];if(i._l===Rm.J_&&i.pr===Fg.ID3)return i}},i.SV=function(t){for(var n=0,i=this.zw.sl;n<i.length;n++){var e=i[n],r=e.Rl===nw.Il,u=e._l===t;if(r&&u)return e}},i.SR=function(){this.eU.addEventListener("addaudiotrack",this.yV),this.eU.addEventListener("enableaudiotrack",this.mV),this.eU.addEventListener("addvideotrack",this._V),this.eU.addEventListener("addtexttrack",this.pV),this.eU.addEventListener("addtexttrackid3cues",this.bV),this.eU.addEventListener("addtexttrackcues",this.TV)},i.FR=function(){this.eU.removeEventListener("addaudiotrack",this.yV),this.eU.removeEventListener("enableaudiotrack",this.mV),this.eU.removeEventListener("addvideotrack",this._V),this.eU.removeEventListener("addtexttrack",this.pV),this.eU.removeEventListener("addtexttrackid3cues",this.bV),this.eU.removeEventListener("addtexttrackcues",this.TV)},i.wg=function(){},ht(n,[{key:"Gw",get:function(){return this.qw}},{key:"gg",get:function(){return this.zU.qR()}},{key:"yg",get:function(){return this.HU?this.HU:null},set:function(t){this.MB.VB("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.HU=t}},{key:"lw",get:function(){return this.dD},set:function(t){this.setCurrentTime(t)}},{key:"ww",get:function(){return this.Ms}},{key:"gw",get:function(){return this.VU}},{key:"lu",get:function(){return this.JE}},{key:"yw",get:function(){return this.ZE}},{key:"Jw",get:function(){}},{key:"_g",get:function(){return this.YE._g}},{key:"pg",get:function(){return this.uU}},{key:"mw",get:function(){return this.lD},set:function(t){this.lD!==t&&(this.MB.VB("THEOplayerSetMuted",t),this.lD=t,this.Qr(new Yw(this.lw,t?0:1)))}},{key:"_w",get:function(){return this.wD}},{key:"pw",get:function(){return this.gD},set:function(t){this.MB.VB("THEOplayerSetPlaybackRate",t),this.gD=t}},{key:"Dg",get:function(){return this.$U.qR()}},{key:"Og",get:function(){return Hb.fI},set:function(t){}},{key:"Al",get:function(){return this.$B}},{key:"Ng",get:function(){return this.jU.qR()}},{key:"bw",get:function(){return this.yD}},{key:"jR",get:function(){}},{key:"Kw",get:function(){return this.zw}},{key:"kw",get:function(){return this.XU}},{key:"Tw",get:function(){return this.GU}},{key:"Sw",get:function(){return 1},set:function(t){}},{key:"Cg",get:function(){return this.uR}},{key:"Yw",get:function(){return this.Ww}},{key:"$R",get:function(){return this.rR}},{key:"Ag",get:function(){return!1},set:function(t){}},{key:"Ig",get:function(){return!0}}]),n}(hw),lN=function(){function t(){this.XR=kb.IE}var n=t.prototype;return n.GR=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if((e=n.type)&&jr(e.toLowerCase(),yw.Yl))return!1;var e,r=n.contentProtection;if(r&&!q_(r)){if(!j_(r))return!1;if(!t.NV(r))return!1}return!0},t.NV=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.YR=function(){return!1},t}(),wN=function(){function n(t){this.playerID=t}return n.prototype.VB=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),gN=function(t){function n(n){var i;return(i=t.call(this)||this).MB=void 0,i.eU=void 0,i.CV=function(t){var n=Xu(t.detail.initData),e=t.detail.sessionId;i.Qr(new pO(n,e))},i.AV=function(t){var n=new y(ts(t.detail.message)),e=t.detail.destinationURL;i.Qr(new bO(n,e))},i.PV=function(t){i.Qr(new kO)},i.forwardKeyFlowDone=function(t){i.Qr(new TO)},i.MB=n,i.eU=new TD,dD().fairplayController={sdkEventBus:i.eU},i.xV(),i}vt(n,t);var i=n.prototype;return i.xV=function(){this.eU.addEventListener(sO.vM,this.CV),this.eU.addEventListener(sO.dM,this.AV),this.eU.addEventListener(sO.lM,this.PV),this.eU.addEventListener(sO.wM,this.forwardKeyFlowDone)},i.bM=function(t,n){var i={playerId:wD(),data:ns(n.buffer),sessionId:t};this.MB.VB("THEOplayerCreateKeySession",i)},i.hc=function(t,n){var i={playerId:wD(),data:ns(n.buffer),sessionId:t};this.MB.VB("THEOplayerUpdateKey",i)},n}(hw),yN=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.Mf=function(n){if(Bs(n.bf)){var i=Ms(n.bf);n.bf=Rs(i)}return t.prototype.Mf.call(this,n)},n}(function(){function t(t){this.gT=void 0,this.gT=t}var n=t.prototype;return n.Mf=function(t){return this.gT.Mf(t)},n.av=function(t){this.gT.av(t)},n.et=function(){this.gT.et()},t}()),mN=function(t){function n(n,i,e,r,u){return t.call(this,n,i,e,r,u)||this}vt(n,t);var i=n.prototype;return i.ng=function(){return!1},i.getSdkBridge=function(t){return new wN(t)},i.getFairPlayControllerBridge=function(t){return new gN(t)},i.DV=function(t){return new yN(t)},n}(dN);cN=new(function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.TS=function(t,n,i,e,r,u){return new mN(t,n,i,e,r)},n}(lN)),Vb.ni.nI(cN),function(t){t.Td="addtrack",t.Ed="removetrack",t.Hd="change",t.Xd="update"}(aN||(aN={}));var _N=function(t,n,i){this.type=aN.Hd,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},pN=function(t,n){this.type=aN.Td,this.mediaType=t,this.mediaTrack=n},bN=function(t,n){this.type=aN.Ed,this.mediaType=t,this.mediaTrack=n},kN=function(t,n){this.type=aN.Xd,this.mediaType=t,this.mediaTrack=n},TN=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.LV=function(t){var n=new _N(e.type,t.track,e.mediaTracks);e.messageDispatcher.BV(n)},this.MV=function(t){var n=new pN(e.type,t.track);e.messageDispatcher.BV(n),t.track.addEventListener("update",e.FV)},this.UV=function(t){var n=new bN(e.type,t.track);e.messageDispatcher.BV(n)},this.FV=function(t){var n=new kN(e.type,t.track);e.messageDispatcher.BV(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.xV()}return t.prototype.xV=function(){this.mediaTracks.addEventListener("change",this.LV),this.mediaTracks.addEventListener("addtrack",this.MV),this.mediaTracks.addEventListener("removetrack",this.UV)},t}(),SN=function(){function t(t){this.VV=void 0,this.VV=new wN(t)}return t.prototype.BV=function(t){this.VV.VB(t.type,ZE(t))},t}();TE(function(t){if(t.Dd.audioTracks){var n=new SN(t.ml);new TN("audio",t.Dd.audioTracks,n)}if(t.Dd.videoTracks){var i=new SN(t.ml);new TN("video",t.Dd.videoTracks,i)}});var EN,RN=function(){function t(){this.HV=i.webkit}return t.prototype.VB=function(t,n){this.HV.messageHandlers[t]&&this.HV.messageHandlers[t].postMessage(n)},t}(),IN="nativePromiseCallback",DN=function(t){function n(n){var i;return(i=t.call(this,IN)||this).detail=n,i}return vt(n,t),n}(Pu);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(EN||(EN={}));var ON=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Qr(new DN(n))},i.addEventListener=function(t,n){this.tu(t,n)},i.removeEventListener=function(t,n){this.ru(t,n)},n}(TD),NN=function(){function t(){var t=this;this.VV=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new h("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case EN.RESOLVE:i.Fu(n.detail.data);break;case EN.REJECT:i.Uu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new ON;dD().nativePromise={sdkEventBus:n},n.addEventListener(IN,this.handleNativePromiseEvent)}return t.prototype.qV=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=gr({},n,{promiseId:e}),u=new qs;return this.promisesMap[e]=u,null==(i=this.VV)||i.VB(n.type,KE(r)),u.Lu},t}();NN.messageIdTracker=-1;var CN,AN=function(t){function n(){var n;return(n=t.call(this)||this).VV=new RN,n}return vt(n,t),n}(NN),PN=function(t){function n(n){var i;return(i=t.call(this)||this).VV=new wN(n),i}return vt(n,t),n}(NN);!function(t){t.Td="TextTrackListAddTrack",t.Ed="TextTrackListRemoveTrack",t.Hd="TextTrackListChange"}(CN||(CN={}));var xN,LN=function(t){this.type=CN.Td,this.textTrack=t},BN=function(t){this.type=CN.Ed,this.textTrack=t},MN=function(t){this.type=CN.Hd,this.textTrack=t};!function(t){t.Cd="TextTrackAddCue",t.Pd="TextTrackRemoveCue",t.Ld="TextTrackEnterCue",t.Md="TextTrackExitCue",t.Ud="TextTrackCueChange"}(xN||(xN={}));var FN,UN=function(t,n){this.type=xN.Cd,this.textTrackCue=t,this.textTrackUid=n},VN=function(t,n){this.type=xN.Pd,this.textTrackCue=t,this.textTrackUid=n},HN=function(t,n){this.type=xN.Ld,this.textTrackCue=t,this.textTrackUid=n},qN=function(t,n){this.type=xN.Md,this.textTrackCue=t,this.textTrackUid=n},WN=function(t){this.type=xN.Ud,this.textTrackUid=t};!function(t){t.Xg="TextTrackCueEnter",t.Yg="TextTrackCueExit",t.Xd="TextTrackCueUpdate"}(FN||(FN={}));var zN=function(t){this.type=FN.Xg,this.textTrackCue=t},jN=function(t){this.type=FN.Yg,this.textTrackCue=t},$N=function(t){this.type=FN.Xd,this.textTrackCue=t},XN=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.WV=function(t){var i=GN(t.cue),e=new zN(i);n.messageDispatcher.qV(e).then()},this.zV=function(t){var i=GN(t.cue),e=new jN(i);n.messageDispatcher.qV(e).then()},this.jV=function(t){var i=GN(t.cue),e=new $N(i);n.messageDispatcher.qV(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.xV=function(t){t.addEventListener("enter",this.WV),t.addEventListener("exit",this.zV),t.addEventListener("update",this.jV)},n.su=function(t){t.removeEventListener("enter",this.WV),t.removeEventListener("exit",this.zV),t.removeEventListener("update",this.jV)},t}();function GN(t){var n=sD(t,t.track.type);return delete n.track,n}var YN=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.$V=function(t){var n,e=GN(t.cue),r=new UN(e,t.cue.track.uid);i.messageDispatcher.qV(r).then(),null==(n=i.textTrackCueBridge)||n.xV(t.cue)},this.XV=function(t){var n,e=GN(t.cue),r=new VN(e,t.cue.track.uid);i.messageDispatcher.qV(r).then(),null==(n=i.textTrackCueBridge)||n.su(t.cue)},this.WV=function(t){var n=GN(t.cue),e=new HN(n,t.cue.track.uid);i.messageDispatcher.qV(e).then()},this.zV=function(t){var n=GN(t.cue),e=new qN(n,t.cue.track.uid);i.messageDispatcher.qV(e).then()},this.GV=function(t){var n=new WN(t.track.uid);i.messageDispatcher.qV(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new XN(e))}var n=t.prototype;return n.xV=function(t){t.addEventListener("addcue",this.$V),t.addEventListener("removecue",this.XV),t.addEventListener("entercue",this.WV),t.addEventListener("exitcue",this.zV),t.addEventListener("cuechange",this.GV)},n.su=function(t){t.removeEventListener("addcue",this.$V),t.removeEventListener("removecue",this.XV),t.removeEventListener("entercue",this.WV),t.removeEventListener("exitcue",this.zV),t.removeEventListener("cuechange",this.GV)},n.initMessageDispatcher=function(t){return Et.Jn?new AN:Et.Zn&&void 0!==t?new PN(t):void 0},t}(),KN=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.MV=function(t){var n,i=new LN(t.track);e.messageDispatcher.qV(i).then(),null==(n=e.textTrackBridge)||n.xV(t.track)},this.UV=function(t){var n,i=new BN(t.track);e.messageDispatcher.qV(i).then(),null==(n=e.textTrackBridge)||n.su(t.track)},this.YV=function(t){var n=new MN(t.track);e.messageDispatcher.qV(n).then()},this.KV=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.JV(i);r&&(this.textTrackBridge=new YN(r,i)),this.xV(),this.sdkEventBus=new TD,dD().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.KV)}var n=t.prototype;return n.xV=function(){this.textTracks.addEventListener("addtrack",this.MV),this.textTracks.addEventListener("removetrack",this.UV),this.textTracks.addEventListener("change",this.YV)},n.JV=function(t){return Et.Jn?new AN:Et.Zn&&void 0!==t?new PN(t):void 0},t}();TE(function(t){if(t.Dd.textTracks){var n=new PN(t.ml);new KN(t.Dd.textTracks,n,t.ml)}});var JN,ZN,QN=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case JN.ZV:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Qr(new tC(i));break;default:0}},n}(TD),tC=function(t){function n(n){var i;return(i=t.call(this,JN.ZV)||this).detail=n,i}return vt(n,t),n}(Pu);!function(t){t.ZV="registerContentProtectionIntegration"}(JN||(JN={})),function(t){t.QV="certifiateRequest",t.tH="certifiateResponse",t.nH="licenseRequest",t.iH="licenseResponse",t.eH="extractFairplayContentId",t.rH="buildContentProtection",t.uH="registerContentProtectionCallback"}(ZN||(ZN={}));var nC,iC=function(t,n){this.type=ZN.uH,this.value=t,this.integrationId=n};!function(t){t.GALLERY="gallery",t.OVERLAY="overlay",t.SPOTLIGHT="spotlight"}(nC||(nC={}));var eC=function(t,n){this.type=ZN.rH,this.value=t,this.integrationId=n},rC=function(t,n){this.type=ZN.QV,this.value=t,this.integrationId=n},uC=function(t,n){this.type=ZN.tH,this.value=t,this.integrationId=n},sC=function(t,n){this.type=ZN.eH,this.value=t,this.integrationId=n},oC=function(t,n){this.type=ZN.nH,this.value=t,this.integrationId=n},cC=function(t,n){this.type=ZN.iH,this.value=t,this.integrationId=n},aC=function(){function t(t,n){this.sH=void 0,this.SS=void 0,this.sH=t,this.SS=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t),e=new rC(i,this.SS),c.prev=2,c.next=5,wr.awrap(this.sH.qV(e));case 5:if(!(r=c.sent)){c.next=16;break}if(u=JSON.parse(r),!this.oH(u)){c.next=13;break}return s=gr({},u),c.abrupt("return",s);case 13:if(!this.cH(u)){c.next=16;break}return o=new y(u),c.abrupt("return",o);case 16:throw new bg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw c.prev=19,c.t0=c.catch(2),new bg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,c.t0);case 22:case"end":return c.stop()}},null,this,[[2,19]],j)},i.onCertificateResponse=function(t){var i,e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new uC(e,this.SS),o.next=5,wr.awrap(this.sH.qV(r));case 5:if(!(u=o.sent)){o.next=11;break}return s=JSON.parse(u),o.abrupt("return",new y(s));case 11:throw new bg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,j)},i.onLicenseRequest=function(t){var i,e,r,u,s,o,c;return wr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new oC(e,this.SS),a.prev=3,a.next=6,wr.awrap(this.sH.qV(r));case 6:if(!(u=a.sent)){a.next=17;break}if(s=JSON.parse(u),!this.oH(s)){a.next=14;break}return o={url:s.url,method:s.method,headers:s.headers,body:s.body?new y(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl},a.abrupt("return",o);case 14:if(!this.cH(s)){a.next=17;break}return c=new y(s),a.abrupt("return",c);case 17:throw new bg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw a.prev=20,a.t0=a.catch(3),new bg(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 23:case"end":return a.stop()}},null,this,[[3,20]],j)},i.onLicenseResponse=function(t){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=gr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},u=new cC(r,this.SS),c.next=6,wr.awrap(this.sH.qV(u));case 6:if(!(s=c.sent)){c.next=12;break}return o=JSON.parse(s),c.abrupt("return",new y(o));case 12:throw new bg(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return c.stop()}},null,this,null,j)},i.extractFairplayContentId=function(t){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new sC(t,this.SS),r.next=3,wr.awrap(this.sH.qV(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",j.reject(new bg(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,j)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.oH=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.cH=function(t){return!!new y(t)},t}(),hC=function(){function t(t){this.sH=void 0,this.sH=t}return t.prototype.build=function(t){if(!t.integration)throw new h("integrationId is undefined");var n=new aC(this.sH,t.integration),i=new eC({drmConfiguration:t},t.integration);return this.sH.qV(i),n},t}(),fC=function(t){function n(n){var i;return(i=t.call(this)||this).sH=void 0,i.sH=new PN(n),i}return vt(n,t),ht(n,[{key:"messageDispatcher",get:function(){return this.sH}}]),n}(function(){var t=this;this.eU=void 0,this.aH=function(n){var i=new hC(t.messageDispatcher),e=n.detail,r=e.integrationId,u=e.keySystem,s={state:x_.NS.RS(r,u,i)};t.messageDispatcher.qV(new iC(s,r))},this.eU=new QN,dD().contentProtectionIntegration={sdkEventBus:this.eU},this.eU.addEventListener(JN.ZV,this.aH)});TE(function(t){new fC(t.Dd.uid)}),n.ChromelessPlayer=WE,n.Player=WE,n.createGlobals=gD,n.features=[],n.getCueMirrorMap=lD,n.getGlobalId=wD,n.getSdkEventBridge=dD,n.playerSuiteVersion="2023.1.2",n.players=jE,n.registerContentProtectionIntegration=$E,n.utils=zE,n.version="4.8.0",v.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
