/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), promise-polyfill
 (MIT - Copyright (c) 2014 Taylor Hakes & Forbes Lindesay),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.4.1 (4.3.0)
 Created: 2022-11-15T10:19:14.885Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i=t.window,e=t.document,r=t.location,u=t.navigator,s=t.setTimeout,o=t.clearTimeout,c=t.setInterval,a=t.clearInterval,f=t.Error,h=t.TypeError,v=(t.SyntaxError,t.Object),d=t.Math,l=t.parseInt,w=t.parseFloat,g=t.isNaN,y=t.Uint8Array,m=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest);var b=s;function p(t){return Boolean(t&&void 0!==t.length)}function _(){}function k(t){if(!(this instanceof k))throw new h("Promises must be constructed via new");if("function"!=typeof t)throw new h("not a function");this.o=0,this.l=!1,this.g=void 0,this.p=[],D(t,this)}function T(t,n){for(;3===t.o;)t=t.g;0!==t.o?(t.l=!0,k.R(function(){var i=1===t.o?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.g)}catch(t){return void E(n.promise,t)}S(n.promise,e)}else(1===t.o?S:E)(n.promise,t.g)})):t.p.push(n)}function S(t,n){try{if(n===t)throw new h("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof k)return t.o=3,t.g=n,void R(t);if("function"==typeof i)return void D((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.o=1,t.g=n,R(t)}catch(n){E(t,n)}var e,r}function E(t,n){t.o=2,t.g=n,R(t)}function R(t){2===t.o&&0===t.p.length&&k.R(function(){t.l||k.I(t.g)});for(var n=0,i=t.p.length;n<i;n++)T(t,t.p[n]);t.p=null}function I(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function D(t,n){var i=!1;try{t(function(t){i||(i=!0,S(n,t))},function(t){i||(i=!0,E(n,t))})}catch(t){if(i)return;i=!0,E(n,t)}}k.prototype.catch=function(t){return this.then(null,t)},k.prototype.then=function(t,n){var i=new this.constructor(_);return T(this,new I(t,n,i)),i},k.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},k.all=function(t){return new k(function(n,i){if(!p(t))return i(new h("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,function(n){u(t,n)},i)}e[t]=s,0==--r&&n(e)}catch(t){i(t)}}for(var s=0;s<e.length;s++)u(s,e[s])})},k.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new h(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,function(n){u(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var s=0;s<e.length;s++)u(s,e[s])})},k.resolve=function(t){return t&&"object"==typeof t&&t.constructor===k?t:new k(function(n){n(t)})},k.reject=function(t){return new k(function(n,i){i(t)})},k.race=function(t){return new k(function(n,i){if(!p(t))return i(new h("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)k.resolve(t[e]).then(n,i)})},k.R="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){b(t,0)},k.I=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var O=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),N=u?u.userAgent:"",C=N.match(/Firefox\/([0-9]+)/i),A=null!=C,P=C?Number(C[1]):0,x=N.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),L=null!=x,B=x?Number(x[3]):0,M=function(){function t(t){this.N=0,this.C=0,this.P=[],this.B=t}return t.prototype.M=function(t){var n=this.length();this.F(n+1);var i=this.C+n&this.B-1;this.P[i]=t,this.N=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.B<n)this.M(t);else{var i=this.C+n-1,e=this.B-1;this.P[i&e]=t,this.N=n}},t.prototype.shift=function(){var t=this.C,n=this.P[t];return this.P[t]=void 0,this.C=t+1&this.B-1,this.N--,n},t.prototype.length=function(){return this.N},t.prototype.F=function(t){this.B<t&&this.U(this.B<<1)},t.prototype.U=function(t){var n=this.B;this.B=t;var i=this.C+this.N&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.P,0,n,i)},t}();var F="unhandledrejection",U=t.PromiseRejectionEvent,V=t.CustomEvent;function H(t){return new U(F,{reason:t,promise:O.reject(t).catch(function(){}),cancelable:!0})}function W(t){var n=new V(F,{detail:{reason:t},cancelable:!0});return v.defineProperty(n,"reason",{value:t}),n}function q(t){var n=e.createEvent("CustomEvent");return n.initCustomEvent(F,!1,!0,{reason:t}),n}var z,j,$,X,G,Y,K,J,Q,Z,tt,nt,it=function(t){return(it=function(){try{var t=O.resolve(),n=new U(F,{reason:"error",promise:t});return F===n.type&&"error"===n.reason}catch(t){}return!1}()?H:function(){try{var t=new V(F,{detail:{reason:"error"}});return F===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?W:q)(t)};if(O&&!(A&&P<60||L&&B<15))j=O;else{j=k;var et=null!==(z=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=O;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==z?z:k.R,rt=($=et,X=new M(16),G=!1,{V:function(t){X.push(t),G||(G=!0,$(Y))},H:Y=function(){for(;X.length()>0;)X.shift()();G=!1}});k.R=rt.V,k.I=function(n){try{var i=it(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}s(function(){throw new f("Unhandled promise rejection: ".concat(n))},0)}}var ut,st,ot,ct={W:function(){function t(){this.j=[]}var n=t.prototype;return n.X=function(){},n.G=function(t){return{Y:function(){return j.resolve()},K:function(){}}},n.J=function(t){throw new f("Not implemented")},n.Z=function(t){return j.resolve()},n.nt=function(t){return j.resolve()},n.it=function(t){},n.et=function(){},t}(),rt:function(){function t(){}var n=t.prototype;return n.ut=function(){return j.resolve("all")},n.st=function(){},n.et=function(){},t}(),ot:{ct:function(t){getActiveDocument().addEventListener("unload",t)},ft:function(t){getActiveDocument().removeEventListener("unload",t)}},ht:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function at(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function ft(t,n,i){return n&&at(t.prototype,n),i&&at(t,i),v.defineProperty(t,"prototype",{writable:!1}),t}function ht(t,n){return(ht=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function vt(t,n){t.prototype=v.create(n.prototype),t.prototype.constructor=t,ht(t,n)}function dt(t){st=t}Element.prototype.style={},K=(ut=ct).W,J=ut.rt,Q=ut.ot,Z=ut.ht,tt=Z&&Z.location,nt=Z&&Z.navigator,function(t){t.vt="web",t.dt="android",t.wt="android-tv",t.yt="ios",t.bt="tvos",t.pt="chromecast"}(ot||(ot={}));var lt=u?u.userAgent:"",wt=lt.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),gt=lt.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),yt=lt.match(/Android ([0-9\.]+)/i),mt=lt.match(/Windows NT ([0-9\.]+)/i),bt=lt.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),pt=lt.match(/Firefox\/([0-9\.]+)/i),_t=lt.match(/OPR\/(\d+\.\d+)/i),kt=lt.match(/Tizen ([0-9\.]+)/i),Tt=lt.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),St=function(){function n(){this._t=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||u&&u.msMaxTouchPoints),this.kt=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(lt)||/(macintosh|mac(?=_powerpc)\s)/i.test(lt),this.Tt=/Windows NT/i.test(lt),this.St=mt?w(mt[1]):0,this.Et=/Android/i.test(lt),this.Rt=yt?w(yt[1]):0,this.It=/windows phone (8|8\.1)/i.test(lt),this.Dt=/iPhone/i.test(lt),this.Ot=/iPad/i.test(lt),this.Nt=this.kt&&this._t&&!this.Ot,this.Ct=/iPod/i.test(lt),this.At=/Mobile Safari/i.test(lt),this.Pt=/EOSSTB/i.test(lt),this.xt=(this.Dt||this.Ot||this.Nt||this.Ct)&&!this.It,this.Lt=Tt?w(Tt[2]):0,this.Bt=this.It||this.xt||this.Et||this.At,this.Mt=/CriOS/i.test(lt),this.Ft=Boolean(t.chrome&&/google/i.test(u.vendor))||this.Mt,this.Ut=this.Ft&&/Edg\//i.test(u.userAgent),this.Vt=gt?l(gt[1],10):0,this.Ht=Boolean(t.chrome||/Chrome/i.test(lt)||/CriOS/i.test(lt)),this.Wt=wt?l(wt[1],10):0,this.qt=/SMART-TV.*Tizen/i.test(lt),this.zt=kt?w(kt[1]):0,this.jt=/webos|web0s/i.test(lt),this.$t=/Edge\/\d+/i.test(lt),this.Xt=/Trident/i.test(lt),this.Gt=this.Xt&&!t.ActiveXObject&&"ActiveXObject"in t,this.Yt=/Vivaldi/i.test(lt),this.Kt=/Firefox/i.test(lt)&&!/Seamonkey/i.test(lt),this.Jt=pt?w(pt[1]):0,this.Qt=/Safari/i.test(lt)&&!/Chrome/i.test(lt)&&!this.It&&!this.qt,this.Zt=bt?w(bt[2]):0,this.tn=Boolean(_t),this.nn=_t?w(_t[1]):0,this.in=/CrKey/.test(lt),this.en=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(lt),this.rn="tvos"===ot.wt,this.un="tvos"===ot.dt,this.sn=this.un||this.rn,this.cn="tvos"===ot.yt,this.an="tvos"===ot.bt,this.fn="tvos"===ot.pt}return ft(n,[{key:"hn",get:function(){return this._t}},{key:"vn",get:function(){return this.kt}},{key:"dn",get:function(){return this.Tt}},{key:"ln",get:function(){return this.St}},{key:"wn",get:function(){return this.Et}},{key:"gn",get:function(){return this.Rt}},{key:"yn",get:function(){return this.It}},{key:"mn",get:function(){return this.Dt}},{key:"bn",get:function(){return this.Ot}},{key:"pn",get:function(){return this.Nt}},{key:"_n",get:function(){return this.Ct}},{key:"kn",get:function(){return this.xt}},{key:"Tn",get:function(){return this.Lt}},{key:"Sn",get:function(){return this.Pt}},{key:"En",get:function(){return this.At}},{key:"Rn",get:function(){return this.Bt}},{key:"In",get:function(){return this.Mt}},{key:"Dn",get:function(){return this.Ft}},{key:"On",get:function(){return this.Wt}},{key:"Nn",get:function(){return this.Ut}},{key:"Cn",get:function(){return this.Vt}},{key:"An",get:function(){return this.qt}},{key:"Pn",get:function(){return this.zt}},{key:"xn",get:function(){return this.jt}},{key:"Ln",get:function(){return this.$t}},{key:"Bn",get:function(){return this.Xt}},{key:"Mn",get:function(){return this.Gt}},{key:"Fn",get:function(){return this.Yt}},{key:"Un",get:function(){return this.Kt}},{key:"Vn",get:function(){return this.Jt}},{key:"Hn",get:function(){return this.Qt}},{key:"Wn",get:function(){return this.Zt}},{key:"qn",get:function(){return this.tn}},{key:"zn",get:function(){return this.nn}},{key:"jn",get:function(){return this.in}},{key:"$n",get:function(){return this.en}},{key:"Xn",get:function(){return!(!this.xn&&!this.An)&&this.On<=56}},{key:"Gn",get:function(){return this.rn}},{key:"Yn",get:function(){return this.un}},{key:"Kn",get:function(){return this.sn}},{key:"Jn",get:function(){return this.cn}},{key:"Qn",get:function(){return this.an}},{key:"Zn",get:function(){return this.fn}},{key:"ti",get:function(){return this.Ht}}]),n}();St.ni=new St;var Et=St.ni,Rt={}.hasOwnProperty,It={}.toString;function Dt(t){return null!=t}function Ot(t){return void 0===t}var Nt=Array.isArray||function(t){return"[object Array]"===It.call(t)};function Ct(t){return At(t)&&Rt.call(t,"length")&&Mt(t.length)}function At(t){return"object"==typeof t&&null!==t}function Pt(t){return At(t)&&t.constructor&&t.constructor===v}function xt(t){return"string"==typeof t}function Lt(t){return"boolean"==typeof t}function Bt(t){return Boolean(t)&&"function"==typeof t.then}function Mt(t){return"number"==typeof t}var Ft=function(){},Ut=function(t){return t},Vt=!(Et.Bn&&!Et.Mn),Ht=t.console;function Wt(t){if(At(t))try{return JSON.stringify(t)}catch(t){}return t}function qt(t){return t.map(Wt).join(" ")}function zt(t){var n=Ht&&Ht[t];return n?n.bind&&Vt?n.bind(Ht):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];Ht[t](qt(i))}:void 0}var jt,$t=zt("log")||Ft,Xt=zt("warn")||$t.bind(void 0,"WARNING:"),Gt=zt("error")||$t.bind(void 0,"ERROR:"),Yt=(jt=Ht&&Ht.assert)?jt.bind&&Vt?jt.bind(Ht):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Ht.assert(t,qt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Gt.apply(void 0,["Assertion failed:"].concat(i))}},Kt=null;try{Kt=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Jt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Qt(t){return!0===(t&&t.ii)}function Zt(t){var n=d.clz32(t&-t);return t?31-n:n}Jt.prototype.ii,v.defineProperty(Jt.prototype,"ii",{value:!0}),Jt.isLong=Qt;var tn={},nn={};function en(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=nn[t])?e:(i=un(t,0,!0),r&&(nn[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=tn[t])?e:(i=un(t,t<0?-1:0,!1),r&&(tn[t]=i),i)}function rn(t,n){if(g(t))return n?ln:dn;if(n){if(t<0)return ln;if(t>=fn)return bn}else{if(t<=-hn)return pn;if(t+1>=hn)return mn}return t<0?rn(-t,n).neg():un(t%an|0,t/an|0,n)}function un(t,n,i){return new Jt(t,n,i)}Jt.fromInt=en,Jt.fromNumber=rn,Jt.fromBits=un;var sn=d.pow;function on(t,n,i){if(0===t.length)throw f("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?ln:dn;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw f("interior hyphen");if(0===e)return on(t.substring(1),n,i).neg();for(var r=rn(sn(i,8)),u=dn,s=0;s<t.length;s+=8){var o=d.min(8,t.length-s),c=l(t.substring(s,s+o),i);if(o<8){var a=rn(sn(i,o));u=u.mul(a).add(rn(c))}else u=(u=u.mul(r)).add(rn(c))}return u.unsigned=n,u}function cn(t,n){return"number"==typeof t?rn(t,n):"string"==typeof t?on(t,n):un(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Jt.fromString=on,Jt.fromValue=cn;var an=4294967296,fn=an*an,hn=fn/2,vn=en(1<<24),dn=en(0);Jt.ZERO=dn;var ln=en(0,!0);Jt.UZERO=ln;var wn=en(1);Jt.ONE=wn;var gn=en(1,!0);Jt.UONE=gn;var yn=en(-1);Jt.NEG_ONE=yn;var mn=un(-1,2147483647,!1);Jt.MAX_VALUE=mn;var bn=un(-1,-1,!0);Jt.MAX_UNSIGNED_VALUE=bn;var pn=un(0,-2147483648,!1);Jt.MIN_VALUE=pn;var _n=Jt.prototype;_n.toInt=function(){return this.unsigned?this.low>>>0:this.low},_n.toNumber=function(){return this.unsigned?(this.high>>>0)*an+(this.low>>>0):this.high*an+(this.low>>>0)},_n.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(pn)){var n=rn(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=rn(sn(t,6),this.unsigned),u=this,s="";;){var o=u.div(r),c=(u.sub(o.mul(r)).toInt()>>>0).toString(t);if((u=o).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},_n.getHighBits=function(){return this.high},_n.getHighBitsUnsigned=function(){return this.high>>>0},_n.getLowBits=function(){return this.low},_n.getLowBitsUnsigned=function(){return this.low>>>0},_n.getNumBitsAbs=function(){if(this.isNegative())return this.eq(pn)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},_n.isZero=function(){return 0===this.high&&0===this.low},_n.eqz=_n.isZero,_n.isNegative=function(){return!this.unsigned&&this.high<0},_n.isPositive=function(){return this.unsigned||this.high>=0},_n.isOdd=function(){return 1==(1&this.low)},_n.isEven=function(){return 0==(1&this.low)},_n.equals=function(t){return Qt(t)||(t=cn(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},_n.eq=_n.equals,_n.notEquals=function(t){return!this.eq(t)},_n.neq=_n.notEquals,_n.ne=_n.notEquals,_n.lessThan=function(t){return this.comp(t)<0},_n.lt=_n.lessThan,_n.lessThanOrEqual=function(t){return this.comp(t)<=0},_n.lte=_n.lessThanOrEqual,_n.le=_n.lessThanOrEqual,_n.greaterThan=function(t){return this.comp(t)>0},_n.gt=_n.greaterThan,_n.greaterThanOrEqual=function(t){return this.comp(t)>=0},_n.gte=_n.greaterThanOrEqual,_n.ge=_n.greaterThanOrEqual,_n.compare=function(t){if(Qt(t)||(t=cn(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},_n.comp=_n.compare,_n.negate=function(){return!this.unsigned&&this.eq(pn)?pn:this.not().add(wn)},_n.neg=_n.negate,_n.add=function(t){Qt(t)||(t=cn(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=0,a=0,f=0,h=0;return f+=(h+=r+(65535&t.low))>>>16,a+=(f+=e+o)>>>16,c+=(a+=i+s)>>>16,c+=n+u,un((f&=65535)<<16|(h&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},_n.subtract=function(t){return Qt(t)||(t=cn(t)),this.add(t.neg())},_n.sub=_n.subtract,_n.multiply=function(t){if(this.isZero())return this;if(Qt(t)||(t=cn(t)),Kt)return un(Kt.mul(this.low,this.high,t.low,t.high),Kt.get_high(),this.unsigned);if(t.isZero())return this.unsigned?ln:dn;if(this.eq(pn))return t.isOdd()?pn:dn;if(t.eq(pn))return this.isOdd()?pn:dn;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(vn)&&t.lt(vn))return rn(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=65535&t.low,a=0,f=0,h=0,v=0;return h+=(v+=r*c)>>>16,f+=(h+=e*c)>>>16,h&=65535,f+=(h+=r*o)>>>16,a+=(f+=i*c)>>>16,f&=65535,a+=(f+=e*o)>>>16,f&=65535,a+=(f+=r*s)>>>16,a+=n*c+i*o+e*s+r*u,un((h&=65535)<<16|(v&=65535),(a&=65535)<<16|(f&=65535),this.unsigned)},_n.mul=_n.multiply,_n.divide=function(t){if(Qt(t)||(t=cn(t)),t.isZero())throw f("division by zero");var n,i,e;if(Kt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?un((this.unsigned?Kt.div_u:Kt.div_s)(this.low,this.high,t.low,t.high),Kt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?ln:dn;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return ln;if(t.gt(this.shru(1)))return gn;e=ln}else{if(this.eq(pn))return t.eq(wn)||t.eq(yn)?pn:t.eq(pn)?wn:(n=this.shr(1).div(t).shl(1)).eq(dn)?t.isNegative()?wn:yn:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(pn))return this.unsigned?ln:dn;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=dn}for(i=this;i.gte(t);){n=d.max(1,d.floor(i.toNumber()/t.toNumber()));for(var r=d.ceil(d.log(n)/d.LN2),u=r<=48?1:sn(2,r-48),s=rn(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=rn(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=wn),e=e.add(s),i=i.sub(o)}return e},_n.div=_n.divide,_n.modulo=function(t){return Qt(t)||(t=cn(t)),Kt?un((this.unsigned?Kt.rem_u:Kt.rem_s)(this.low,this.high,t.low,t.high),Kt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},_n.mod=_n.modulo,_n.rem=_n.modulo,_n.not=function(){return un(~this.low,~this.high,this.unsigned)},_n.countLeadingZeros=function(){return this.high?d.clz32(this.high):d.clz32(this.low)+32},_n.clz=_n.countLeadingZeros,_n.countTrailingZeros=function(){return this.low?Zt(this.low):Zt(this.high)+32},_n.ctz=_n.countTrailingZeros,_n.and=function(t){return Qt(t)||(t=cn(t)),un(this.low&t.low,this.high&t.high,this.unsigned)},_n.or=function(t){return Qt(t)||(t=cn(t)),un(this.low|t.low,this.high|t.high,this.unsigned)},_n.xor=function(t){return Qt(t)||(t=cn(t)),un(this.low^t.low,this.high^t.high,this.unsigned)},_n.shiftLeft=function(t){return Qt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?un(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):un(0,this.low<<t-32,this.unsigned)},_n.shl=_n.shiftLeft,_n.shiftRight=function(t){return Qt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?un(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):un(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},_n.shr=_n.shiftRight,_n.shiftRightUnsigned=function(t){return Qt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?un(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):un(32===t?this.high:this.high>>>t-32,0,this.unsigned)},_n.shru=_n.shiftRightUnsigned,_n.shr_u=_n.shiftRightUnsigned,_n.rotateLeft=function(t){var n;return Qt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?un(this.high,this.low,this.unsigned):t<32?(n=32-t,un(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),un(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},_n.rotl=_n.rotateLeft,_n.rotateRight=function(t){var n;return Qt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?un(this.high,this.low,this.unsigned):t<32?(n=32-t,un(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),un(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},_n.rotr=_n.rotateRight,_n.toSigned=function(){return this.unsigned?un(this.low,this.high,!1):this},_n.toUnsigned=function(){return this.unsigned?this:un(this.low,this.high,!0)},_n.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},_n.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},_n.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Jt.fromBytes=function(t,n,i){return i?Jt.fromBytesLE(t,n):Jt.fromBytesBE(t,n)},Jt.fromBytesLE=function(t,n){return new Jt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Jt.fromBytesBE=function(t,n){return new Jt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var kn=d.pow(2,-52);function Tn(t,n,i){return d.min(d.max(t,n),i)}function Sn(t,n,i){return t===n||d.abs(t-n)<=i}function En(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function Rn(){return Date.now()||(new Date).getTime()}function In(t){return t/1e3}var Dn;function On(t){return t.ei===Dn.ri}function Nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Jt.fromNumber(9007199254740991),function(t){t[t.ri=1]="ri",t[t.ui=2]="ui",t[t.si=3]="si",t[t.oi=4]="oi",t[t.ci=9]="ci"}(Dn||(Dn={}));var Cn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];f.apply(this,n)};(Cn.prototype=v.create(f.prototype)).constructor=Cn;var An=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,f.captureStackTrace&&f.captureStackTrace(Nn(e),e.constructor),e}return vt(n,t),ft(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Cn),Pn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return vt(n,t),n}(An),xn=function(){function t(){}return t.prototype.ai=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Pn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Pn;return new Hn(n)},t}(),Ln=function(){function t(t){this.fi=void 0,this.fi=t}var n=t.prototype;return n.hi=function(t){return this.fi.isEqualNode(t.fi)},n.vi=function(n){return new t(this.fi.cloneNode(n))},ft(t,[{key:"ei",get:function(){return Dn.ui}},{key:"di",get:function(){var t;return null!=(t=this.fi.localName)?t:zn(this.fi.nodeName)}},{key:"li",get:function(){return this.fi.nodeName}},{key:"wi",get:function(){var t;return null!=(t=this.fi.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.fi.prefix)?t:void 0}},{key:"yi",get:function(){return this.fi.nodeValue}}]),t}(),Bn=function(){function t(t){this.mi=void 0,this.bi=void 0,this.mi=t}var n=t.prototype;return n.pi=function(t){return this._i.filter(function(n){return Wn(n)&&n.ki===t})},n.Ti=function(t,n){return this._i.filter(function(i){return Wn(i)&&i.di===n&&i.wi===t})},n.Si=function(t){this.mi.appendChild(t.Ei),this.bi&&this.bi.push(t)},n.hi=function(t){return this.mi.isEqualNode(t.Ei)},ft(t,[{key:"_i",get:function(){return void 0===this.bi&&(this.bi=function(t){for(var n=[],i=0;i<t.length;i++){var e=qn(t.item(i));e&&n.push(e)}return n}(this.mi.childNodes)),this.bi}},{key:"Ri",get:function(){return this._i.filter(Wn)}},{key:"Ei",get:function(){return this.mi}}]),t}(),Mn=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.Ii=function(t){if(this.mi.hasAttribute(t))return this.mi.getAttribute(t)},i.Di=function(t,n){if(this.mi.hasAttributeNS(t,n))return this.mi.getAttributeNS(t,n)},i.Oi=function(t){this.mi.removeAttribute(t)},i.Ni=function(t,n){this.mi.removeAttributeNS(t,n)},i.Ci=function(t,n){this.mi.setAttribute(t,n)},i.Ai=function(t,n,i){this.mi.setAttributeNS(t,n,i)},i.vi=function(t){return new n(this.mi.cloneNode(t))},ft(n,[{key:"ei",get:function(){return Dn.ri}},{key:"di",get:function(){var t;return null!=(t=this.mi.localName)?t:zn(this.mi.nodeName)}},{key:"wi",get:function(){var t;return null!=(t=this.mi.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.mi.prefix)?t:void 0}},{key:"ki",get:function(){return this.mi.nodeName}},{key:"Pi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new Ln(t.item(i)));return n}(this.mi.attributes)}},{key:"xi",get:function(){return this.mi.textContent}}]),n}(Bn),Fn=function(){function t(t){this.mi=void 0,this.mi=t}return t.prototype.hi=function(t){return this.Li===t.Li},ft(t,[{key:"Li",get:function(){return this.mi.nodeValue}},{key:"Ei",get:function(){return this.mi}}]),t}(),Un=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.vi=function(t){return new n(this.mi.cloneNode(t))},ft(n,[{key:"ei",get:function(){return Dn.si}}]),n}(Fn),Vn=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.vi=function(t){return new n(this.mi.cloneNode(t))},ft(n,[{key:"ei",get:function(){return Dn.oi}}]),n}(Fn),Hn=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.vi=function(t){return new n(this.mi.cloneNode(t))},ft(n,[{key:"ei",get:function(){return Dn.ci}},{key:"Bi",get:function(){return new Mn(this.mi.documentElement)}}]),n}(Bn);function Wn(t){return On(t)}function qn(t){switch(t.nodeType){case Dn.ri:return new Mn(t);case Dn.si:return new Un(t);case Dn.oi:return new Vn(t)}}function zn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function jn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function $n(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){Xn(t,n,r,e);var u=t;t=e,e=u}return t}(t,n);return i!==t&&Xn(i,null,t.length,t),t}function Xn(t,n,i,e){var r,u,s,o,c,a=t.length,f=0,h=2*i;for(r=0;r<a;r+=h)for(s=(u=r+i)+i,u>a&&(u=a),s>a&&(s=a),o=r,c=u;;)if(o<u&&c<s)n(t[o],t[c])<=0?e[f++]=t[o++]:e[f++]=t[c++];else if(o<u)e[f++]=t[o++];else{if(!(c<s))break;e[f++]=t[c++]}}var Gn=/[a-zA-Z]/,Yn=/[0-9]/,Kn=/[0-9a-fA-F]/,Jn=/^0x/i,Qn=/^[0-9]+$/,Zn=/^[0-9a-fA-F]+$/,ti=/^[0-7]+$/,ni=v.prototype.toString,ii=Array.isArray||function(t){return"[object Array]"===ni.call(t)},ei="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function ri(t){return ii(t)?t:Array.from(t)}function ui(t){return t>=65&&t<=90}function si(t){return ui(t)||function(t){return t>=97&&t<=122}(t)}function oi(t){return t>=48&&t<=57}function ci(t){return oi(t)||si(t)}function ai(t){return oi(t)||t>=65&&t<=70||t>=97&&t<=102}function fi(t){return ui(t)?t+32:t}function hi(t){return oi(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function vi(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var di=d.min,li=String.fromCharCode,wi=16384;function gi(t){for(var n=t.length,i=[],e=0;e<n;e+=wi){var r=di(e+wi,n);i.push(li.apply(null,t.slice(e,r)))}return i.join("")}var yi=/[^\0-\x7E]/,mi=/[\x2E\u3002\uFF0E\uFF61]/g,bi={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},pi=d.floor,_i=String.fromCharCode;function ki(t){throw new RangeError(bi[t])}function Ti(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}var Si,Ei,Ri,Ii=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Di=function(t,n,i){var e=0;for(t=i?pi(t/700):t>>1,t+=pi(t/n);t>455;e+=36)t=pi(t/35);return pi(e+36*t/(t+38))},Oi=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(mi,".")).split("."),n).join(".");return e+r}(t,function(t){return yi.test(t)?"xn--"+function(t){for(var n=[],i=(t=Ti(t)).length,e=128,r=0,u=72,s=0,o=t;s<o.length;s++){var c=o[s];c<128&&n.push(_i(c))}var a=n.length,f=a;for(a&&n.push("-");f<i;){for(var h=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<h&&(h=l)}var w=f+1;h-e>pi((2147483647-r)/w)&&ki("overflow"),r+=(h-e)*w,e=h;for(var g=0,y=t;g<y.length;g++){var m=y[g];if(m<e&&++r>2147483647&&ki("overflow"),m==e){for(var b=r,p=36;;p+=36){var _=p<=u?1:p>=u+26?26:p-u;if(b<_)break;var k=b-_,T=36-_;n.push(_i(Ii(_+k%T,0))),b=pi(k/T)}n.push(_i(Ii(b,0))),u=Di(r,w,f==a),r=0,++f}}++r,++e}return n.join("")}(t):t})};function Ni(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return gi(n)}function Ci(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ai(t,n){return t>>n&63|128}function Pi(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Ci(t),n.push(t>>12&15|224),n.push(Ai(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ai(t,12)),n.push(Ai(t,6))),n.push(63&t|128)):n.push(t)}function xi(t){for(var n=[],i=0;i<t.length;i++){Pi(t[i],n)}return n}function Li(){if(Ri>=Ei)throw new f("Invalid byte index");var t=255&Si[Ri];if(Ri++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function Bi(){var t,n;if(Ri>Ei)throw new f("Invalid byte index");if(Ri===Ei)return!1;if(t=255&Si[Ri],Ri++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Li())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Li()<<6|Li())>=2048)return Ci(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Li()<<12|Li()<<6|Li())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function Mi(t){return[37,vi(t>>4),vi(15&t)]}function Fi(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Ui(t){return Fi(t)||32===t||34===t||60===t||62===t||96===t}function Vi(t){return Ui(t)||35===t||63===t||123===t||125===t}function Hi(t){return Vi(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function Wi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function qi(t){return Wi(t)||39===t}function zi(t,n){if(!n(t))return[t];for(var i=xi([t]),e=[],r=0;r<i.length;r++){var u=i[r];e.push.apply(e,Mi(u))}return e}function ji(t,n){for(var i=[],e=0,r=Ti(t);e<r.length;e++){var u=r[e];i.push.apply(i,zi(u,n))}return Ni(i)}function $i(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&ai(t[e+1])&&ai(t[e+2])){var u=hi(t[e+1])<<4|hi(t[e+2]);n.push(u),e+=2}else n.push(r)}return n}(xi(t))}function Xi(t){return Ni(function(t){Si=t.slice(),Ei=Si.length,Ri=0;for(var n,i=[];!1!==(n=Bi());)i.push(n);return i}($i(Ti(t))))}function Gi(t){var n,i,e,r,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,c=null,a=0;if(a<u&&":"===t[a]){if(!(a+1<u&&":"===t[a+1]))throw new h;a+=2,c=o+=1}for(;a<u;){if(8===o)throw new h("Too many groups");if(":"!==t[a]){for(var f=0,v=0;v<4&&a<u&&Kn.test(t[a]);)f=f<<4|l(t[a],16),a+=1,v+=1;if("."===t[a]){if(0===v)throw new h;if(a-=v,o>6)throw new h;for(var d=0;a<u;){var w=null;if(d>0){if(!("."===t[a]&&d<4))throw new h;a+=1}if(!Yn.test(t[a]))throw new h;for(;a<u&&Yn.test(t[a]);){var g=l(t[a],10);if(null===w)w=g;else{if(0===w)throw new h;if((w=10*w+g)>255)throw new h}a+=1}s[o]=s[o]<<8|w,2!==(d+=1)&&4!==d||(o+=1)}if(4!==d)throw new h;break}if(":"===t[a]){if((a+=1)===u)throw new h}else if(a<u)throw new h;s[o]=f,o+=1}else{if(null!==c)throw new h("Too many :: groups");a+=1,c=o+=1}}if(null!==c){var y=o-c;for(o=7;0!==o&&y>0;)e=c+y-1,r=void 0,r=(n=s)[i=o],n[i]=n[e],n[e]=r,o-=1,y-=1}else if(8!==o)throw new h;return s}function Yi(t){var n=10,i=Qn;return Jn.test(t)?(t=t.slice(2),n=16,i=Zn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=ti),""===t?0:i.test(t)?l(t,n):void 0}var Ki={Mi:4},Ji=/[\0\t\n\r #%/:?@\[\\\]]/,Qi=/[\0\t\n\r #/:?@\[\\\]]/;function Zi(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new h("Invalid IPv6 address");return{Mi:2,Fi:Gi(t.slice(1,-1))}}if(!n)return function(t){if(Qi.test(t))throw new h("Invalid code point in opaque host");var n=ji(t,Fi);return""===n?Ki:{Mi:3,P:n}}(t);var i=function(t){return function(t){return Oi(t.toLowerCase())}(t)}(Xi(t));if(Ji.test(i))throw new h("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var u=Yi(r);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new h;if(i[i.length-1]>=d.pow(256,5-i.length))throw new h;for(var o=i.pop(),c=0;c<i.length;c++)o+=i[c]*d.pow(256,3-c);return o}}(i);return void 0!==e?{Mi:1,Fi:e}:""===i?Ki:{Mi:0,Ui:i}}function te(t){switch(t.Mi){case 0:return t.Ui;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Fi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,u=0;u<8;u++)0===t[u]?(0===r&&(e=u),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Fi)+"]";case 3:return t.P;case 4:return""}}var ne=/\+/g;function ie(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var u=r.indexOf("="),s=void 0,o=void 0;-1!==u?(s=r.slice(0,u),o=r.slice(u+1)):(s=r,o=""),s=s.replace(ne," "),o=o.replace(ne," ");var c=Xi(s),a=Xi(o);i.push([c,a])}}return i}function ee(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=re(xi(Ti(e[0])))+"="+re(xi(Ti(e[1])))}return n}function re(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||ci(n)?i.push(r):i.push.apply(i,Mi(r))}return gi(i)}var ue=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function se(t){var n=""+t,i=ue.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var u=t.charCodeAt(r);if(ce(u))if(ae(u)||r===i-1)e.push(oe);else{var s=t.charCodeAt(r+1);ae(s)?(e.push(u,s),r++):e.push(oe)}else e.push(u)}return t.slice(0,n)+gi(e)}(n,i.index):n}var oe=65533,ce=function(t){return 55296==(63488&t)},ae=function(t){return 0!=(1024&t)};function fe(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function he(t){t.Vi.length=0}function ve(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Vi,ie(n))}function de(t){if(t.Hi){var n=ee(t.Vi);""===n&&(n=null),t.Hi.Hi.Wi=n}}var le=function(){function t(t){if(void 0===t&&(t=void 0),this.Hi=null,null==t)this.Vi=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof le&&ii(u.Vi)&&(!ei||u[Symbol.iterator]===we))this.Vi=t.Vi.slice();else if(function(t){return null!=t&&(!!ii(t)||!!ei&&"function"==typeof t[Symbol.iterator])}(t)){this.Vi=[];for(var n=0,i=ri(t);n<i.length;n++){var e=ri(i[n]);if(2!==e.length)throw new h("Invalid name-value pair");this.Vi.push([se(e[0]),se(e[1])])}}else for(var r in this.Vi=[],t)v.prototype.hasOwnProperty.call(t,r)&&this.Vi.push([se(r),se(t[r])]);else(t=se(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Vi=ie(t);var u}var n=t.prototype;return n.append=function(t,n){t=se(t),n=se(n),this.Vi.push([t,n]),de(this)},n.delete=function(t){t=se(t);for(var n=this.Vi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}de(this)},n.get=function(t){t=se(t);for(var n=this.Vi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=se(t);for(var n=this.Vi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=se(t);for(var n=this.Vi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=se(t),n=se(n);for(var i=this.Vi,e=!1,r=0;r<i.length;){var u=i[r];u[0]===t?e?i.splice(r,1):(u[1]=n,e=!0,r++):r++}e||i.push([t,n]),de(this)},n.sort=function(){$n(this.Vi,fe),de(this)},n.toString=function(){return ee(this.Vi)},n.entries=function(){return new be(this.Vi,ge)},n.keys=function(){return new be(this.Vi,ye)},n.values=function(){return new be(this.Vi,me)},n.forEach=function(t){var n=this;this.Vi.forEach(function(i){return t(i[1],i[0],n)})},t}(),we=le.prototype.entries;ei&&(le.prototype[Symbol.iterator]=we);var ge=function(t){return[t[0],t[1]]},ye=function(t){return t[0]},me=function(t){return t[1]},be=function(){function t(t,n){this.qi=0,this.Vi=t,this.zi=n}return t.prototype.next=function(){return this.qi<this.Vi.length?{done:!1,value:this.zi(this.Vi[this.qi++])}:{done:!0,value:void 0}},t}(),pe="null";var _e=v.create(null);_e.ftp=21,_e.file=0,_e.gopher=70,_e.http=80,_e.https=443,_e.ws=80,_e.wss=443;var ke=/^(?:\.|%2e)$/i,Te=/^(?:\.|%2e){2}$/i;function Se(t){return ke.test(t)}function Ee(t){return Te.test(t)}function Re(t){return void 0!==_e[t]}function Ie(t){return Re(t.ji)}function De(t){return""!==t.$i||""!==t.Xi}function Oe(t){var n=t.length;if(!(n>=2))return!1;if(!Ce(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Ne(t){return 2===t.length&&Gn.test(t[0])&&(":"===t[1]||"|"===t[1])}function Ce(t){return 2===t.length&&Ne(gi(t))}function Ae(t){return Ne(t)&&":"===t[1]}function Pe(t){var n=t.Gi;0!==n.length&&("file"===t.ji&&1===n.length&&Ae(n[0])||n.pop())}function xe(t){return null===t.Yi||Ki===t.Yi||t.Ki||"file"===t.ji}var Le=-1,Be=/\t|\n|\r/g,Me=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Fe(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new Ve,t=t.replace(Me,""));var r=null!==e?e:0;n=n||null;for(var u=[],s=!1,o=!1,c=!1,a=Ti(t=t.replace(Be,"")),f=a.length,v=0;v<=f;){var d=v<f?a[v]:Le;switch(r){case 0:if(!si(d)){if(null===e){u.length=0,r=2;continue}throw new h("Invalid scheme")}u.push(fi(d)),r=1;break;case 1:if(ci(d)||43===d||45===d||46===d)u.push(fi(d));else{if(58!==d){if(null===e){u.length=0,r=2,v=0;continue}throw new h("Invalid scheme")}var w=Ni(u);if(null!==e){if(Re(i.ji)&&!Re(w))return;if(!Re(i.ji)&&Re(w))return;if((De(i)||null!==i.Ji)&&"file"===w)return;if("file"===i.ji&&(i.Yi===Ki||null===i.Yi))return}if(i.ji=w,null!==e)return void(Ie(i)&&i.Ji===_e[i.ji]&&(i.Ji=null));u.length=0,"file"===i.ji?r=13:Ie(i)&&n&&n.ji===i.ji?r=3:Ie(i)?r=7:47===a[v+1]?(r=4,v+=1):(i.Ki=!0,i.Gi.push(""),r=18)}break;case 2:if(!n||n.Ki&&35!==d)throw new h("Invalid scheme");n.Ki&&35===d?(i.ji=n.ji,i.Gi=n.Gi.slice(),i.Wi=n.Wi,i.Qi="",i.Ki=!0,r=20):"file"!==n.ji?(r=5,v-=1):(r=13,v-=1);break;case 3:47===d&&47===a[v+1]?r=8:(r=5,v-=1);break;case 4:47===d?r=9:(r=17,v-=1);break;case 5:i.ji=n.ji,Le===d?(i.$i=n.$i,i.Xi=n.Xi,i.Yi=n.Yi,i.Ji=n.Ji,i.Gi=n.Gi.slice(),i.Wi=n.Wi):47===d?r=6:63===d?(i.$i=n.$i,i.Xi=n.Xi,i.Yi=n.Yi,i.Ji=n.Ji,i.Gi=n.Gi.slice(),i.Wi="",r=19):35===d?(i.$i=n.$i,i.Xi=n.Xi,i.Yi=n.Yi,i.Ji=n.Ji,i.Gi=n.Gi.slice(),i.Wi=n.Wi,i.Qi="",r=20):92===d&&Ie(i)?r=6:(i.$i=n.$i,i.Xi=n.Xi,i.Yi=n.Yi,i.Ji=n.Ji,i.Gi=n.Gi.slice(),i.Gi.pop(),r=17,v-=1);break;case 6:!Ie(i)||47!==d&&92!==d?47===d?r=9:(i.$i=n.$i,i.Xi=n.Xi,i.Yi=n.Yi,i.Ji=n.Ji,r=17,v-=1):r=8;break;case 7:if(47!==d||47!==a[v+1]){r=8;continue}r=8,v+=1;break;case 8:47!==d&&92!==d&&(r=9,v-=1);break;case 9:if(64===d){s&&u.unshift(37,52,48),s=!0;for(var g=0;g<u.length;g++){var y=u[g];if(58!==y||c){var m=Ni(zi(y,Hi));c?i.Xi+=m:i.$i+=m}else c=!0}u.length=0}else if(Le===d||47===d||63===d||35===d||Ie(i)&&92===d){if(s&&0===u.length)throw new h("Invalid host");v-=u.length+1,u.length=0,r=10}else u.push(d);break;case 10:case 11:if(null!==e&&"file"===i.ji)v-=1,r=15;else if(58!==d||o)if(Le===d||47===d||63===d||35===d||Ie(i)&&92===d){if(v-=1,Ie(i)&&0===u.length)throw new h("Invalid host");if(null!==e&&0===u.length&&(De(i)||null!==i.Ji))return;var b=Zi(Ni(u),Ie(i));if(i.Yi=b,u.length=0,r=16,null!==e)return}else 91===d?o=!0:93===d&&(o=!1),u.push(d);else{if(0===u.length)throw new h("Invalid host");var p=Zi(Ni(u),Ie(i));if(i.Yi=p,u.length=0,r=12,11===e)return}break;case 12:if(oi(d))u.push(d);else{if(!(Le===d||47===d||63===d||35===d||Ie(i)&&92===d||null!==e))throw new h("Invalid port");if(0!==u.length){var _=l(Ni(u),10);if(_>65535)throw new h("Invalid port");i.Ji=_===_e[i.ji]?null:_,u.length=0}if(null!==e)return;r=16,v-=1}break;case 13:i.ji="file",47===d||92===d?r=14:n&&"file"===n.ji?Le===d?(i.Yi=n.Yi,i.Gi=n.Gi.slice(),i.Wi=n.Wi):63===d?(i.Yi=n.Yi,i.Gi=n.Gi.slice(),i.Wi="",r=19):35===d?(i.Yi=n.Yi,i.Gi=n.Gi.slice(),i.Wi=n.Wi,i.Qi="",r=20):(Oe(a.slice(v))||(i.Yi=n.Yi,i.Gi=n.Gi.slice(),Pe(i)),r=17,v-=1):(r=17,v-=1);break;case 14:47===d||92===d?r=15:(n&&"file"===n.ji&&!Oe(a.slice(v))&&(Ae(n.Gi[0])?i.Gi.push(n.Gi[0]):i.Yi=n.Yi),r=17,v-=1);break;case 15:if(Le===d||47===d||92===d||63===d||35===d)if(v-=1,null===e&&Ce(u))r=17;else if(0===u.length){if(i.Yi=Ki,null!==e)return;r=16}else{var k=Zi(Ni(u),Ie(i));if(0===k.Mi&&"localhost"===k.Ui&&(k=Ki),i.Yi=k,null!==e)return;u.length=0,r=16}else u.push(d);break;case 16:Ie(i)?(r=17,47!==d&&92!==d&&(v-=1)):null===e&&63===d?(i.Wi="",r=19):null===e&&35===d?(i.Qi="",r=20):Le!==d&&(r=17,47!==d&&(v-=1));break;case 17:if(Le===d||47===d||Ie(i)&&92===d||null===e&&(63===d||35===d)){var T=Ni(u);if(Ee(T)?(Pe(i),47===d||Ie(i)&&92===d||i.Gi.push("")):!Se(T)||47===d||Ie(i)&&92===d?Se(T)||("file"===i.ji&&0===i.Gi.length&&Ce(u)&&(Ki!==i.Yi&&null!==i.Yi&&(i.Yi=Ki),u[1]=58,T=Ni(u)),i.Gi.push(T)):i.Gi.push(""),u.length=0,"file"===i.ji&&(Le===d||63===d||35===d))for(;i.Gi.length>1&&""===i.Gi[0];)i.Gi.shift();63===d?(i.Wi="",r=19):35===d&&(i.Qi="",r=20)}else u.push.apply(u,zi(d,Vi));break;case 18:63===d?(i.Wi="",r=19):35===d?(i.Qi="",r=20):Le!==d&&(i.Gi[0]+=Ni(zi(d,Fi)));break;case 19:null===e&&35===d?(i.Qi="",r=20):Le!==d&&(i.Wi+=Ni(zi(d,Ie(i)?qi:Wi)));break;case 20:Le===d||0===d||(i.Qi+=Ni(zi(d,Ui)))}v++}return i}function Ue(t,n,i,e){try{Fe(t,n,i,e)}catch(t){}}var Ve=function(){this.ji="",this.$i="",this.Xi="",this.Yi=null,this.Ji=null,this.Gi=[],this.Wi=null,this.Qi=null,this.Ki=!1};function He(t){switch(t.ji){case"blob":var n;try{n=Fe(t.Gi[0],null)}catch(t){return pe}return He(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.ji,e=t.Yi,r=t.Ji,i+"://"+te(e)+(null===r?"":":"+r);case"file":default:return pe}var i,e,r}var We,qe=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof qe&&"object"==typeof i.Hi)r=n.Hi;else try{r=Fe(String(n),null)}catch(t){throw new h("Invalid base URL: "+t.message)}try{e=Fe(String(t),r)}catch(t){throw new h("Invalid URL: "+t.message)}var u=e.Wi;this.Hi=e,this.Wi=function(t){var n=new le;return null!==t&&ve(n,t),n}(u),this.Wi.Hi=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.ji+":";if(null!==t.Yi?(i+="//",De(t)&&(i+=t.$i,""!==t.Xi&&(i+=":"+t.Xi),i+="@"),i+=te(t.Yi),null!==t.Ji&&(i+=":"+t.Ji)):null===t.Yi&&"file"===t.ji&&(i+="//"),t.Ki)i+=t.Gi[0];else for(var e=0,r=t.Gi;e<r.length;e++)i+="/"+r[e];return null!==t.Wi&&(i+="?"+t.Wi),n||null===t.Qi||(i+="#"+t.Qi),i}(this.Hi)},set:function(t){var n;try{n=Fe(String(t),null)}catch(t){throw new h("Invalid URL: "+t.message)}this.Hi=n,he(this.Wi);var i=this.Hi.Wi;null!==i&&ve(this.Wi,i)}},{key:"origin",get:function(){return He(this.Hi)}},{key:"protocol",get:function(){return this.Hi.ji+":"},set:function(t){Ue(t+":",null,this.Hi,0)}},{key:"username",get:function(){return this.Hi.$i},set:function(t){xe(this.Hi)||(this.Hi.$i=ji(t,Hi))}},{key:"password",get:function(){return this.Hi.Xi},set:function(t){xe(this.Hi)||(this.Hi.Xi=ji(t,Hi))}},{key:"host",get:function(){var t=this.Hi,n=t.Yi;if(null===n)return"";var i=t.Ji,e=te(n);return null!==i&&(e+=":"+i),e},set:function(t){this.Hi.Ki||Ue(t,null,this.Hi,10)}},{key:"hostname",get:function(){var t=this.Hi.Yi;return null===t?"":te(t)},set:function(t){this.Hi.Ki||Ue(t,null,this.Hi,11)}},{key:"port",get:function(){var t=this.Hi.Ji;return null===t?"":""+t},set:function(t){xe(this.Hi)||(""===t?this.Hi.Ji=null:Ue(t,null,this.Hi,12))}},{key:"pathname",get:function(){var t=this.Hi.Gi;return this.Hi.Ki?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Hi.Ki||(this.Hi.Gi.length=0,Ue(t,null,this.Hi,16))}},{key:"search",get:function(){var t=this.Hi.Wi;return null===t||""===t?"":"?"+t},set:function(t){t=se(t);var n=this.Hi;if(""===t)return n.Wi=null,void he(this.Wi);"?"===t[0]&&(t=t.slice(1)),n.Wi="",Ue(t,null,n,19),ve(this.Wi,t)}},{key:"searchParams",get:function(){return this.Wi}},{key:"hash",get:function(){var t=this.Hi.Qi;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Hi.Qi="",Ue(t,null,this.Hi,20)):this.Hi.Qi=null}}])&&jn(n.prototype,i),e&&jn(n,e),t}();function ze(t){return t.document&&t.document.baseURI||t.location.href||""}function je(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function $e(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function Xe(){return void 0!==e?e.createElement("video"):void 0}function Ge(){return We||(We=Xe()),We}var Ye=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!u||!u.msMaxTouchPoints),Ke=Ge(),Je=!(!Ke||!Ke.webkitShowPlaybackTargetPicker),Qe=function(){function t(){this.Zi=void 0,this.te=!1,this.hn=Ye,this.Rn=!1,this.ie=!0}var n=t.prototype;return n.ee=function(){return 0},n.re=function(t,n){return!0},n.ue=function(t){return t>=1/6*2},ft(t,[{key:"se",get:function(){return void 0===this.Zi&&(this.Zi=this.ee()),this.Zi}},{key:"oe",get:function(){return!Et.$n}},{key:"ce",get:function(){return i.devicePixelRatio||1}},{key:"ae",get:function(){return Je}},{key:"fe",get:function(){return!1}},{key:"he",get:function(){return!0}},{key:"ve",get:function(){return Et.Hn||Et.kn}},{key:"de",get:function(){return!0}},{key:"we",get:function(){return!0}},{key:"ye",get:function(){return!1}},{key:"me",get:function(){}},{key:"be",get:function(){return!0}},{key:"pe",get:function(){return!1}}]),t}(),Ze=function(){var t=Xe();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(Et.pn)return!1;var t=Xe();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var tr=function(t){function n(n){var i;return(i=t.call(this)||this)._e=void 0,i._e=n,i._e&&(i.te=i._e.te,i.hn=i._e.hn,i.ie=Ze&&i._e.ie),i}vt(n,t);var i=n.prototype;return i.ee=function(){return this._e?this._e.se:t.prototype.ee.call(this)},i.re=function(n,i){return this._e?this._e.re(n,i):t.prototype.re.call(this,n,i)},i.ue=function(n){return this._e?this._e.ue(n):t.prototype.ue.call(this,n)},ft(n,[{key:"me",get:function(){var t;return null==(t=this._e)?void 0:t.me}},{key:"be",get:function(){var t,n;return null==(t=null==(n=this._e)?void 0:n.be)||t}}]),n}(Qe),nr=function(t){function n(n){var i;return(i=t.call(this,n)||this).te=!0,i.Rn=!0,i}return vt(n,t),ft(n,[{key:"ye",get:function(){return Et.kn}}]),n}(tr),ir=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ee=function(){return Z.MediaSource?t.prototype.ee.call(this):1},ft(n,[{key:"ye",get:function(){return!0}}]),n}(nr),er=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.re=function(n,i){return t.prototype.re.call(this,n,i)},ft(n,[{key:"fe",get:function(){return Et.Pn<3}},{key:"he",get:function(){return Et.Pn>=3}},{key:"pe",get:function(){return Et.Pn<3}}]),n}(tr),rr=function(t){function n(){return t.call(this)||this}return vt(n,t),n}(Qe),ur=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.re=function(t,n){if(t&&t.ke&&n&&n.ke){var i=sr(t.ke,"mp4a.40.2")&&sr(n.ke,"mp4a.40.5"),e=sr(t.ke,"mp4a.40.5")&&sr(n.ke,"mp4a.40.2"),r=sr(t.ke,"mp4a.40.2")&&sr(n.ke,"mp4a.40.34"),u=sr(t.ke,"mp4a.40.34")&&sr(n.ke,"mp4a.40.2"),s=sr(t.ke,"mp4a.40.5")&&sr(n.ke,"mp4a.40.34"),o=sr(t.ke,"mp4a.40.34")&&sr(n.ke,"mp4a.40.5");return!(i||e||r||u||s||o)}return!0},ft(n,[{key:"me",get:function(){if(Et.vn)return 4096}}]),n}(rr);function sr(t,n){return t.indexOf(n)>-1}var or=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ue=function(t){return t>=2},n}(rr),cr=function(t){function n(){var n;return(n=t.call(this)||this).te=Et.Wn>=11,n.ie=Et.Hn&&!(Et.kn&&Et.Wn<10),n}return vt(n,t),n}(rr),ar=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ft(n,[{key:"de",get:function(){return!1}}]),n}(tr),fr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ft(n,[{key:"be",get:function(){return!Et.dn||(Et.Nn?92!==Et.Cn:Et.On>=100)}}]),n}(rr),hr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ft(n,[{key:"ye",get:function(){return!0}}]),n}(tr),vr=function(){function n(){var n;this.Te=void 0,this.Se=new xn,this.Ee=new dr,this.Re=(n=function(){if(Et.Un)return new ur;if(Et.Ln||Et.Bn)return new or;if(Et.Hn)return new cr;if(Et.Dn)return new fr;return new rr}(),Et.kn?new ir(n):Et.Rn?new nr(n):Et.An?new er(n):Et.xn?new ar(n):Et.vn?new hr(n):new tr(n)),this.Ie=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.Te=function(){return t.performance.now()}:this.Te=Rn}var i=n.prototype;return i.De=function(){$t.apply(void 0,arguments)},i.Oe=function(){Xt.apply(void 0,arguments)},i.Ne=function(){Gt.apply(void 0,arguments)},i.Ce=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Yt.apply(void 0,[t].concat(i))},i.Ae=function(t,n){return s(t,n)},i.Pe=function(t,n){return c(t,n)},i.xe=function(t){o(t)},i.Le=function(t){a(t)},i.ai=function(t){return this.Se.ai(t)},i.Be=function(){return this.Me.Be()},i.Fe=function(){return this.Me.Fe()},i.Ue=function(){return this.Me.Ue()},i.Ve=function(){return this.Me.Ve()},i.He=function(){return this.Me.He()},i.We=function(t,n){return this.Me.We(t,n)},i.qe=function(t){return this.Me.qe(t)},i.ze=function(t,n){var i;return void 0===n&&(n=ze(Z)),i="object"!=typeof n||n instanceof qe?n:n.href,new qe(t,i)},i.je=function(n,i){if(void 0===i&&(i=ze(Z)),this.Ie){var e=xt(i)?i:i.toString();return new t.URL(n,e).href}return this.ze(n,i).href},ft(n,[{key:"$e",get:function(){return this.Ee}},{key:"Xe",get:function(){return this.Re}},{key:"Ge",get:function(){return{Ye:u&&u.userAgent.match(/Android /i)?"Android":"other",Ke:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"Je",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Qe",get:function(){return"languages"in u?u.languages.slice():[u.language]}}]),n}(),dr=function(){function t(){}return ft(t,[{key:"Ze",get:function(){return u.oscpu}},{key:"Xe",get:function(){return u.platform}},{key:"tr",get:function(){return u.vendor}},{key:"nr",get:function(){return u.vendorSub}}]),t}();var lr={exports:{}};!function(t){var n,i=v.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},u=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(t,n,i,e){var r=n&&n.prototype instanceof b?n:b,u=v.create(r.prototype),s=new C(e||[]);return u.ir=function(t,n,i){var e=d;return function(r,u){if(e===w)throw new f("Generator is already running");if(e===y){if("throw"===r)throw u;return P()}for(i.method=r,i.arg=u;;){var s=i.delegate;if(s){var o=D(s,i);if(o){if(o===m)continue;return o}}if("next"===i.method)i.sent=i.er=i.arg;else if("throw"===i.method){if(e===d)throw e=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=w;var c=a(t,n,i);if("normal"===c.type){if(e=i.done?y:l,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(e=y,i.method="throw",i.arg=c.arg)}}}(t,i,s),u}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d="suspendedStart",l="suspendedYield",w="executing",y="completed",m={};function b(){}function p(){}function _(){}var k={};k[u]=function(){return this};var T=v.getPrototypeOf,S=T&&T(T(A([])));S&&S!==i&&e.call(S,u)&&(k=S);var E=_.prototype=b.prototype=v.create(k);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.ir(n,t)}})}function I(t){var n;this.ir=function(i,r){function u(){return new j(function(n,u){!function n(i,r,u,s){var o=a(t[i],t,r);if("throw"!==o.type){var c=o.arg,f=c.value;return f&&"object"==typeof f&&e.call(f,"rr")?j.resolve(f.rr).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):j.resolve(f).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,s)})}s(o.arg)}(i,r,n,u)})}return n=n?n.then(u,u):u()}}function D(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,D(t,i),"throw"===i.method))return m;i.method="throw",i.arg=new h("The iterator does not provide a 'throw' method")}return m}var r=a(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,m;var u=r.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,m):u:(i.method="throw",i.arg=new h("iterator result is not an object"),i.delegate=null,m)}function O(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function N(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function A(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!g(t.length)){var r=-1,s=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return s.next=s}}return{next:P}}function P(){return{value:n,done:!0}}p.prototype=E.constructor=_,_.constructor=p,_[o]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return v.setPrototypeOf?v.setPrototypeOf(t,_):(t.__proto__=_,o in t||(t[o]="GeneratorFunction")),t.prototype=v.create(E),t},t.awrap=function(t){return{rr:t}},R(I.prototype),I.prototype[s]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var u=new I(c(n,i,e,r));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(E),E[o]="Generator",E[u]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=A,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.er=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!g(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=e.call(s,"catchLoc"),a=e.call(s,"finallyLoc");if(c&&a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!a)throw new f("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var u=r;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,m):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),m},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),N(i),m}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;N(i)}return r}}throw new f("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:A(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),m}}}(lr.exports);var wr=lr.exports;function gr(){return(gr=v.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)v.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function yr(){var t=v.create(null);return t.__=void 0,delete t.__,t}function mr(){return new _r}var br,pr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,_r=pr||(br=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=v.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=yr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=yr(),this.size=0},n.keys=function(){return new br(this.data,function(t,n){return n})},n.values=function(){return new br(this.data,function(t,n){return t[n]})},n.entries=function(){return new br(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var kr,Tr,Sr=pr||(kr=function(){function t(t,n){this.sr=void 0,this.cr=void 0,this.sr=t,this.cr=n}var n=t.prototype;return n.next=function(){var t=this.sr.next();return t.done?t:{value:this.cr(t.value),done:!1}},t}(),function(){function t(){this.ar=mr()}var n=t.prototype;return n.get=function(t){return this.ar.get(""+t)},n.set=function(t,n){return this.ar.set(""+t,n),this},n.has=function(t){return this.ar.has(""+t)},n.delete=function(t){return this.ar.delete(""+t)},n.clear=function(){this.ar.clear()},n.keys=function(){return new kr(this.ar.keys(),function(t){return Number(t)})},n.values=function(){return this.ar.values()},n.entries=function(){return new kr(this.ar.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.ar.forEach(function(n,i){t(n,Number(i))})},ft(t,[{key:"size",get:function(){return this.ar.size}}]),t}());!function(t){t.hr="9a04f079-9840-4286-ab92-e65be0885f95",t.dr="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.wr="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.gr="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Tr||(Tr={}));var Er,Rr="cenc",Ir="sinf",Dr="skd",Or=Tr.hr,Nr="urn:uuid:"+Or,Cr="com.microsoft.playready",Ar=Tr.dr,Pr="urn:uuid:"+Ar,xr=Tr.wr,Lr="urn:uuid:"+xr,Br=Tr.gr,Mr="urn:uuid:"+Br,Fr="com.apple.fps.1_0";!function(t){t.hr="playready",t.dr="widevine",t.gr="fairplay",t.wr="clearkey",t.yr="aes128"}(Er||(Er={}));var Ur={mr:Er.hr,br:Cr,pr:"cenc",_r:Or,kr:Nr,Tr:"PlayReady"},Vr={mr:Er.dr,br:"com.widevine.alpha",pr:"cenc",_r:Ar,kr:Pr,Tr:"Widevine"},Hr={mr:Er.gr,br:Fr,pr:"skd",_r:Br,kr:Mr,Tr:"FairPlay"};Er.gr;var Wr={mr:Er.wr,br:"org.w3.clearkey",pr:"cenc",_r:xr,kr:Lr,Tr:"ClearKey"};function qr(t,n,i){return t.split(n).join(i)}function zr(t,n){return null!=t&&-1!==t.indexOf(n)}function jr(t,n){return null!=t&&t.substr(0,n.length)===n}function $r(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function Xr(t,n){return t.toUpperCase()===n.toUpperCase()}function Gr(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Kr(n)}var Yr=16384;function Kr(t){var n=t.length;if(n<=Yr)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Yr)i.push(String.fromCharCode.apply(String,t.slice(e,e+Yr)));return i.join("")}var Jr=Et.Dn&&Et.On>=42||Et.Un&&Et.Vn>=38||Et.Ln||Et.Mn||Et.qn&&Et.zn>=29;function Qr(t,n){return zr(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[gr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[gr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var Zr,tu=function(){function t(t){this.Sr=void 0,this.Er=mr(),this.Rr=void 0,this.Sr=t}var n=t.prototype;return n.He=function(){return this.qe(Vr)},n.Fe=function(){return this.qe(Wr)},n.Ve=function(){return this.qe(Ur)},n.Ue=function(){return this.qe(Hr)},n.qe=function(t){var n=t.kr,i=this.Er.get(n);if(i)return i;var e=this.We(t,'video/mp4; codecs="avc1.42000a"');return this.Er.set(n,e),e},n.We=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,wr.awrap(this.Sr.Ir(t.br,[Qr(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,wr.awrap(this.Sr.Ir(t.br,[Qr(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],j)},n.Be=function(){return this.Rr||(this.Rr=this.Dr()),this.Rr},n.Dr=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==tt.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Jr){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,wr.awrap(this.Fe());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,j)},t}();function nu(t,n){var i=function(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),u=1;u<e;u*=2){iu(i,n,u,r);var s=i;i=r,r=s}return i}(t,n);return i!==t&&iu(i,void 0,t.length,t),t}function iu(t,n,i,e){var r,u,s,o,c,a=t.length,f=0,h=2*i;for(u=0;u<a;u+=h)for(r=(s=u+i)+i,s>a&&(s=a),r>a&&(r=a),o=u,c=s;;)if(o<s&&c<r)n&&n(t[o],t[c])<=0?e[f++]=t[o++]:e[f++]=t[c++];else if(o<s)e[f++]=t[o++];else{if(!(c<r))break;e[f++]=t[c++]}}!function(t){t[t.Or=0]="Or",t[t.Nr=1]="Nr",t[t.Cr=-1]="Cr"}(Zr||(Zr={}));var eu=function(t,n){return(0|t)-(0|n)},ru=function(t,n){return t===n?Zr.Or:t<n?Zr.Cr:t>n?Zr.Nr:g(t)?g(n)?Zr.Or:Zr.Nr:Zr.Cr};function uu(t,n,i){return Sn(t,n,i)?Zr.Or:ru(t,n)}var su=function(t,n){return function(t,n){if(t===n)return!0;var i=d.abs(t-n);return i<kn||i<d.max(d.abs(t),d.abs(n))*kn}(t,n)?Zr.Or:ru(t,n)};function ou(t,n,i){var e=function(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function cu(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function au(t,n){var i=t.indexOf(n);return-1!==i&&(fu(t,i),!0)}function fu(t,n){t.splice(n,1)}function hu(t,n){return-1!==t.indexOf(n)}function vu(t,n){for(var i=0;i<n.length;i++){if(!hu(t,n[i]))return!1}return!0}function du(t){t.length=0}var lu=function(){function t(){this.Ar=!1,this.Pr=!1,this.xr=[],this.Lr=[]}var n=t.prototype;return n.Br=function(){if(!this.Ar&&!this.Pr){this.Ar=!0;for(var t=0,n=this.xr.slice();t<n.length;t++){(0,n[t])()}this.Mr()}},n.Mr=function(){if(!this.Pr){this.Pr=!0;for(var t=0,n=this.Lr.slice();t<n.length;t++){(0,n[t])()}du(this.xr),du(this.Lr)}},n.Fr=function(t){this.Pr||this.xr.push(t)},n.Ur=function(t){this.Pr||au(this.xr,t)},n.Vr=function(t){this.Pr||this.Lr.push(t)},n.Hr=function(t){this.Pr||au(this.Lr,t)},t}(),wu=function(){function t(){this.Wr=new lu}var n=t.prototype;return n.qr=function(){this.Wr.Br()},n.Mr=function(){this.Wr.Mr()},n.zr=function(t){var n=this.Wr;if(!n.Ar)if(t.Ar)n.Br();else if(!n.Pr&&!t.Pr){var i=function(){e(),n.Br()},e=function e(){t.Ur(i),t.Hr(e),n.Ur(i),n.Hr(e)};t.Fr(i),t.Vr(e),n.Fr(i),n.Vr(e)}},n.jr=function(){var n=new t,i=new t,e=n.$r,r=i.$r,u=this.Wr,s=function(){e.Ar&&r.Pr||r.Ar&&e.Pr?u.Br():e.Pr&&r.Pr&&u.Mr()};e.Fr(s),r.Fr(s),e.Vr(s),r.Vr(s),n.zr(u),i.zr(u);return u.Vr(function(){e.Ur(s),r.Ur(s),e.Hr(s),r.Hr(s)}),[n,i]},ft(t,[{key:"$r",get:function(){return this.Wr}}]),t}(),gu=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return"AbortError"}}]),n}(An);function yu(t){return t instanceof f&&"AbortError"===t.name}function mu(t){if(t&&t.Ar)throw new gu}function bu(t){if(yu(t))throw t}function pu(t){if(!yu(t))throw t}function _u(t,n){return n?new j(function(i,e){if(n.Ar)return t.catch(Ft),e(new gu);var r=function t(){n.Ur(t),e(new gu)};n.Fr(r),t.then(function(t){n.Ur(r),i(t)},function(t){n.Ur(r),e(t)})}):t}function ku(t,n){return t.then(function(t){return n.Mr(),t},function(t){throw n.Mr(),t})}var Tu=j.resolve();function Su(t){Tu.then(t)}function Eu(t){t.then(Ft,Ft)}function Ru(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,wr.awrap(j.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,wr.awrap(j.all(t.map(function(t){return t.catch(Ft)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],j)}function Iu(t,n){return new j(function(i,e){if(void 0!==n&&n.Ar)e(new gu);else{var r=st.Ae(function(){void 0!==n&&n.Ur(u),i()},t),u=function(){st.xe(r),e(new gu)};void 0!==n&&n.Fr(u)}})}function Du(t){return t&&"function"!=typeof t?t.slice():t}function Ou(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var Nu,Cu=function(){function t(t){var n=this;this.Xr=yr(),this.Gr=void 0,this.Yr=void 0,this.Kr=function(t){n.Jr(t)},this.Yr=t||this}var n=t.prototype;return n.Qr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Zr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Zr(e,n)}},n.Zr=function(t,n){var i=this.Xr[t];i?"function"==typeof i?this.Xr[t]=[i,n]:i.push(n):this.Xr[t]=n},n.tu=function(t){if("function"==typeof t){var n=this.Gr;n?"function"==typeof n?this.Gr=[n,t]:n.push(t):this.Gr=t}},n.nu=function(){this.Xr=yr(),this.Gr=void 0},n.Jr=function(t){var n=Du(this.Xr[t.type]),i=Du(this.Gr);Ou(this.Yr,t,n),Ou(this.Yr,t,i)},n.iu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.eu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.eu(e,n)}},n.eu=function(t,n){var i=this.Xr[t];i&&("function"==typeof i?i===n&&(this.Xr[t]=void 0):au(i,n))},n.ru=function(t){if("string"==typeof t)this.Xr[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Xr[i]=void 0}},n.uu=function(t){var n=this.Gr;n&&("function"==typeof n?n===t&&(this.Gr=void 0):au(n,t))},n.su=function(t,n){var i=this;return new j(function(e,r){if(n&&n.Ar)return r(new gu);var u=function(t){o(),e(t)},s=function(){o(),r(new gu)},o=function(){i.iu(t,u),n&&n.Ur(s)};i.Qr(t,u),n&&n.Fr(s)})},t}(),Au=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.Jr=function(n){var i=this;Su(function(){t.prototype.Jr.call(i,n)})},n}(Cu),Pu=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},xu=["cenc"],Lu=["cbcs","cbcs-1-9"],Bu=function(t){function n(n){var i;return(i=t.call(this,"cu")||this).ou=n,i}return vt(n,t),n}(Pu),Mu=function(t){function n(n,i,e,r){var u;return(u=t.call(this,"au")||this).ou=n,u.fu=i,u.au=e,u.hu=r,u}return vt(n,t),n}(Pu),Fu=function(t){function n(){return t.call(this,"vu")||this}return vt(n,t),n}(Pu);!function(t){t.du="lu",t.wu="gu"}(Nu||(Nu={}));var Uu=function(t){function n(n,i){var e;return(e=t.call(this,Nu.du)||this).pr=n,e.yu=i,e}return vt(n,t),n}(Pu),Vu=new y([0]).buffer,Hu=function(){function t(){this.mu=void 0,this.mu=[]}var n=t.prototype;return n.bu=function(t){for(var n=0,i=this.mu;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.pu=function(t){for(var n=0,i=this.mu;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n._u=function(t,n){this.mu.forEach(function(n){return t(n[1],n[0])},n)},n.ku=function(t,n){this.mu.push([t,n])},n.Tu=function(){du(this.mu)},ft(t,[{key:"Su",get:function(){return this.mu.length}}]),t}(),Wu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),qu=16383,zu=/[\t\n\f\r ]/g;function ju(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:$u()}function $u(){throw new f("Invalid base64 input")}function Xu(t){var n=t;zu.test(n)&&(n=n.replace(zu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return $u();for(var r,u=0===e?0:4-e,s=new y(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,c=0,a=0;c<o;c+=4)r=ju(n.charCodeAt(c))<<18|ju(n.charCodeAt(c+1))<<12|ju(n.charCodeAt(c+2))<<6|ju(n.charCodeAt(c+3)),s[a++]=r>>16&255,s[a++]=r>>8&255,s[a++]=255&r;return 2===u?(r=ju(n.charCodeAt(c))<<2|ju(n.charCodeAt(c+1))>>4,s[a++]=255&r):1===u&&(r=ju(n.charCodeAt(c))<<10|ju(n.charCodeAt(c+1))<<4|ju(n.charCodeAt(c+2))>>2,s[a++]=r>>8&255,s[a++]=255&r),s}function Gu(t,n,i){for(var e,r,u,s=[],o=n;o<i;o+=3)s.push((e=t[o],r=t[o+1],u=t[o+2],Wu[e>>2]+Wu[(3&e)<<4|r>>4]+Wu[(15&r)<<2|u>>6]+Wu[63&u]));return s.join("")}function Yu(t){for(var n=t.length,i=n%3,e=[],r=n-i,u=0;u<r;u+=qu)e.push(Gu(t,u,d.min(r,u+qu)));if(1===i){var s=t[n-1];e.push(Wu[s>>2]+Wu[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],c=t[n-1];e.push(Wu[o>>2]+Wu[(3&o)<<4|c>>4]+Wu[(15&c)<<2]+"=")}return e.join("")}var Ku=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Ju=ArrayBuffer.isView||function(t){return t&&hu(Ku,It.call(t))};function Qu(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function Zu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var u=t[r];i.set(u,e),e+=u.byteLength}return i}(t,n)}function ts(t){return Xu(t).buffer}function ns(t){return Yu(new y(t))}function is(t){return Yu(Is(t))}var es=function(){function t(t){void 0===t&&(t=0),this.Eu=t}var n=t.prototype;return n.Ru=function(t){this.Eu+=t},n.Iu=function(t){this.Eu=t},n.Du=function(){return new t(this.Ou)},ft(t,[{key:"Ou",get:function(){return this.Eu}}]),t}();function rs(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function us(t,n){return t>>n&63|128}function ss(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(rs(t),n.push(t>>12&15|224),n.push(us(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(us(t,12)),n.push(us(t,6))),n.push(63&t|128)):n.push(t)}function os(t,n){if(n.Ou>=t.length)throw new f("Invalid byte index");var i=255&t[n.Ou];if(n.Ru(1),128==(192&i))return 63&i;throw new f("Invalid continuation byte")}function cs(t,n){var i=n.Ou;if(i>t.length)throw new f("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Ru(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|os(t,n);if(r>=128)return r;throw new f("Invalid continuation byte")}if(224==(240&e)){var u=(15&e)<<12|os(t,n)<<6|os(t,n);if(u>=2048)return rs(u),u;throw new f("Invalid continuation byte")}if(240==(248&e)){var s=(7&e)<<18|os(t,n)<<12|os(t,n)<<6|os(t,n);if(s>=65536&&s<=1114111)return s}throw new f("Invalid UTF-8 detected")}var as=65279;var fs=function(){function t(t){this.Nu=t}return t.prototype.Cu=function(t){return function(t,n){return(t&n)===n}(this.Nu,t)},t}();function hs(t,n){var i=t.getUint8(n.Ou);return n.Ru(1),i}function vs(t,n,i){t.setUint8(n.Ou,i),n.Ru(1)}function ds(t,n,i){var e=Ps(Ls(t),n.Ou,n.Ou+i);return n.Ru(e.byteLength),e}function ls(t,n,i){return n.Ou+i<=t.byteLength}function ws(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Ou,i);return n.Ru(2),e}function gs(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Ou,i,e),n.Ru(2)}function ys(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Ou,i);return n.Ru(4),e}function ms(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Ou,i,e),n.Ru(4)}function bs(t,n,i){void 0===i&&(i=!1);var e=ys(t,n,i),r=ys(t,n,i),u=i?r:e,s=i?e:r;return Jt.fromBits(s,u,!0)}function ps(t,n){return function(t,n){return Ts(t,n,!0)}(t,n)}function _s(t,n,i){return Kr(Vs(ds(t,n,i)))}function ks(t,n){var i,e=hs(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&hs(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&hs(t,n))+(63&hs(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&hs(t,n))+64*(63&hs(t,n))+(63&hs(t,n))),i}function Ts(t,n,i){for(var e=[];n.Ou<t.byteLength;){var r=hs(t,n);if(i&&!r)break;e.push(r)}return Kr(e)}function Ss(t,n,i,e){for(var r=[];n.Ou+2<=t.byteLength;){var u=ws(t,n,i);if(e&&!u)break;r.push(u)}return Kr(r)}function Es(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,u=0;u<r;u+=1){gs(t,n,i.charCodeAt(u),e)}}function Rs(t){return Ts(xs(t),new Hs,!1)}function Is(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)vs(t,n,i.charCodeAt(r))}(xs(n),new Hs,t),n}function Ds(t,n){return void 0===n&&(n=!1),Ss(xs(t),new Hs,n,!1)}function Os(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return Es(xs(i),new Hs,t,n),i}function Ns(t,n){return function(t,n,i){var e=[];(function(t,n){return n.Ou+3<=t.byteLength&&239===t.getUint8(n.Ou)&&187===t.getUint8(n.Ou+1)&&191===t.getUint8(n.Ou+2)})(t,n)&&n.Ru(3);for(;n.Ou<t.byteLength;){var r=ks(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Gr(e)}(t,n,!0)}function Cs(t){return Gr(function(t,n){var i,e=[],r=new Hs;if(!n){if(!1===(i=cs(t,r)))return e;i===as||e.push(i)}for(;!1!==(i=cs(t,r));)e.push(i);return e}(Ls(t)))}function As(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)ss(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Ps(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function xs(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ls(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Bs(t){return t instanceof ArrayBuffer||Ju(t)}function Ms(t){return t instanceof ArrayBuffer?new y(t):Ls(t)}function Fs(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Us(Ps(t,n,i))}function Us(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}function Vs(t){return[].slice.call(t)}var Hs=function(){function t(t){void 0===t&&(t=0),this.Eu=t}var n=t.prototype;return n.Ru=function(t){this.Eu+=t},n.Iu=function(t){this.Eu=t},n.Du=function(){return new t(this.Ou)},n.Au=function(){return new es(this.Ou<<3)},ft(t,[{key:"Ou",get:function(){return this.Eu}}]),t}(),Ws=function(){function t(){var t=this;this.Pu=void 0,this.xu=void 0,this.Lu=void 0,this.Pu=new j(function(n,i){t.xu=n,t.Lu=i})}var n=t.prototype;return n.Bu=function(t){this.xu&&(this.xu(t),this.Mr())},n.Mu=function(t){this.Lu&&(this.Lu(t),this.Mr())},n.qr=function(){this.Pu.catch(Ft),this.Mu(new gu)},n.Mr=function(){this.xu=void 0,this.Lu=void 0},t}();function qs(){return new y([8,4]).buffer}function zs(t){return Qu(t,qs())}function js(t,n){return t===Cr?function(t){if(t.byteLength<2*$s.length)return t;if(Ds(new DataView(t,0,2*$s.length),!0)===$s)return t;return n=t,Os('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+ns(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var $s="<PlayReady";var Xs=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,r)||this).Fu=void 0,u.Uu=void 0,u.Fu=i,u.Uu=e,u}return vt(n,t),n}(An),Gs=function(t,n){return(Gs=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)v.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function Ys(t,n){if("function"!=typeof n&&null!==n)throw new h("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Gs(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}function Ks(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function Js(t,n,i){return d.min(d.max(t,n),i)}function Qs(t,n){return t>>8-n}function Zs(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.Vu=t,this.Hu=n}t.prototype.get=function(t){var n=this.Vu.get(t);if(0===this.Hu||void 0===n)return n;var i=this.Vu.get(t+1)||0,e=n&(1<<8-this.Hu)-1,r=i>>8-this.Hu;return(e<<this.Hu)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Vu.get(d.floor((t+this.Hu)/8));if(void 0!==n)return(n&1<<7-this.Hu-t%8)>0?1:0}},v.defineProperty(t.prototype,"bitLength",{get:function(){return this.Vu.bitLength-this.Hu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"length",{get:function(){return this.Vu.length},enumerable:!1,configurable:!0})}(),function(){function t(t){this.Wu=t,this.qu=0,this.zu=0}v.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.qu+this.zu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"done",{get:function(){return this.qu===this.Wu.length&&0===this.zu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"location",{get:function(){return{byte:this.qu,bit:this.zu}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Wu);return n.seek(this.qu,this.zu),n},t.prototype.canReadBits=function(t){return 8*this.qu+t+this.zu<=8*this.Wu.length},t.prototype.canReadBytes=function(t){return 0===this.zu?this.qu+t<=this.Wu.length:this.qu+t<this.Wu.length},t.prototype.incBit=function(){this.zu++,this.zu>7&&(this.qu++,this.zu=0)},t.prototype.seek=function(t,n){this.qu=t,this.zu=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new f("Cannot read past end of buffer.");return this.Wu.get(this.qu)>>7-this.zu&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new f("Cannot read past end of buffer.");if(0===this.zu)return this.Wu.get(this.qu++);var t=Zs(this.Wu.get(this.qu),8-this.zu),n=Qs(this.Wu.get(this.qu+1),this.zu);return this.qu++,t<<this.zu|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=0;if(0===this.zu&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-d.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new f("Skipping over the buffer edge is not allowed.");var n=this.zu+t;this.qu+=n>>3,this.zu=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)}}();var to=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1},no=function(){function t(){this.ju=[],this.$u=[],this.N=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,u=n;r<u.length;r++){var s=u[r];e.pushRange(s)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new f("The buffer length must be positive.");if(0!==i){if(0===this.$u.length)this.$u.push(0);else{var e=this.$u[this.$u.length-1]+this.ju[this.ju.length-1].length;this.$u.push(e)}this.ju.push(t.subarray(n,n+i)),this.N+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,u=this.ju;r<u.length;r++){var s=u[r];t.set(s,e),i+=s.length,e+=s.length}return i},t.prototype.clear=function(){this.ju=[],this.$u=[],this.N=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.$u[n];return this.ju[n][i]}},v.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.ju.length<1)return-1;if(this.ju.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.ju[0];return"number"==typeof t?Ks(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,u=0;u<=r&&!((u=Ks(t,i,u))<0||u>r);u++){for(var s=u+1,o=u+e,c=1;s<o&&t[s]===n[c];s++,c++);if(s===o)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var u=d.ceil((e+r)/2);i(t[u],n)<=0?e=u:r=u-1}return e}}}(this.$u,t,to)},t.prototype.join=function(){if(1===this.ju.length)return this.ju[0];var t=new y(this.length);return this.copyInternal(t,0),t},v.defineProperty(t.prototype,"length",{get:function(){return this.N},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new f("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new f("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*d.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=Js(n,0,this.length),r=Js(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var u=new t,s=this.findContainingBufferIndex(e),o=this.ju[s],c=e,a=c-this.$u[s];c+o.length-a<r;)u.pushRange(o,a,o.length-a),s+=1,a=(c+=o.length-a)-this.$u[s],o=this.ju[s];var f=r-c;return u.pushRange(o,a,f),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.ju.length-1,e=this.ju[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.ju[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),io=function(){function t(n){this.Xu=n||t.BUFFER_CHUNK_SIZE,this.Gu=!1,this.Yu=new no,this.Wu=new y(this.Xu),this.Ku=0,this.Ju=0,this.zu=7}return t.prototype.closeByte=function(){this.Wu[this.Ku++]=this.Ju,this.Ku>=this.Xu&&this.closeBuffer(),this.Ju=0,this.zu=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.Ku&&(this.Yu.pushRange(this.Wu,0,this.Ku),t&&(this.Wu=new y(this.Xu)),this.Ku=0)},v.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.zu},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Gu)throw new f("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Gu=!0,this.Yu},t.prototype.writeBit=function(t){if(this.Gu)throw new f("Cannot write to a closed BitWriter.");this.Ju|=t<<this.zu,0===this.zu?this.closeByte():this.zu--},t.prototype.writeByte=function(t){if(this.Gu)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Ju=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.zu;this.Ju|=Qs(t,n+1),this.closeByte(),this.Ju=Zs(t,8-n)<<n+1,this.zu=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.Gu)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.Ku+t.length<=this.Xu?(this.Wu.set(t,this.Ku),this.Ku+=t.length,this.Ku===this.Xu&&this.closeBuffer()):(this.closeBuffer(),this.Yu.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.zu;this.Ju|=Qs(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=Zs(t[i-1],8-n),r=Qs(t[i],n+1);this.Ju=e<<n+1|r,this.closeByte()}this.Ju=Zs(t[t.length-1],8-n)<<n+1,this.zu=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new f("Received a negative number.");if(n>32)throw new f("The max bitlength that can be provided is 32.");if(t>=d.pow(2,n))throw new f("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new f("The max bitlength that can be provided is 32.");if(d.abs(t)>=d.pow(2,n-1))throw new f("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+d.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new f("Received a negative number.");for(var n=d.floor(d.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),eo=function(){function t(t){this.rb=new no,this.Qu=t}return t.prototype.closeWriter=function(){void 0!==this.Qu&&(this.rb=this.rb.concat(this.Qu.close()),this.Qu=void 0)},v.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Qu&&(this.Qu=new io),this.Qu},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),ro=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new f("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(d.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new eo;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=d.pow(2,32),t}();function uo(t,n){return t instanceof Jt?64===n:t<d.pow(2,n)}function so(t,n){return d.round(t*d.pow(2,n))}function oo(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}var co=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!uo(i,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Ys(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.Zu},set:function(t){this.Zu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(ro);!function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}Ys(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(no.from(this.data))}}(ro);var ao=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();var fo=16384;function ho(t){var n=t.length;if(n<=fo)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=fo)i.push(String.fromCharCode.apply(String,t.slice(e,e+fo)));return i.join("")}function vo(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function lo(t,n,i){var e,r=function(t,n,i){void 0===n&&(n=0);void 0===i&&(i=t.byteLength);return new y(t.buffer,t.byteOffset+n,i-n)}(new y((e=t).buffer,e.byteOffset,e.byteLength),n.offset,n.offset+i);return n.shift(r.byteLength),r}function wo(t,n,i){return n.offset+i<=t.byteLength}function go(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function yo(t,n,i){void 0===i&&(i=!1);var e=go(t,n,i),r=go(t,n,i),u=i?r:e,s=i?e:r;return Jt.fromBits(s,u,!0)}function mo(t,n,i){var e,r=lo(t,n,i);return ho((e=r,[].slice.call(e)))}function bo(t,n){var i,e=vo(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&vo(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&vo(t,n))+(63&vo(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&vo(t,n))+64*(63&vo(t,n))+(63&vo(t,n))),i}function po(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=bo(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return function(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return ho(n)}(e)}(t,n,!0)}var _o=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new ao(this.offset<<3)},t}(),ko=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return vo(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return go(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=go(t,n,i),r=go(t,n,i),u=i?r:e,s=i?e:r;return Jt.fromBits(s,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return yo(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return lo(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(go(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return mo(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return po(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function To(t,n){return t.type===n}var So=8;function Eo(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!wo(t,n,So)){var e=n.offset+So;return{complete:!1,neededOffset:e}}var r=go(t,n),u=mo(t,n,4);if(1===r){if(!wo(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=yo(t,n).toNumber()}if("uuid"===u){if(!wo(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}u=mo(t,n,16)}var s=n.offset;return{complete:!0,header:{type:u,size:r,headerSize:s-i}}}(t,n);if(!e.complete)return e;var r=e.header,u=r.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var c,a,f,h={type:r.type,offset:i,data:new ko((c=t,a=i,f=s,void 0===a&&(a=0),void 0===f&&(f=c.byteLength),new DataView(c.buffer,c.byteOffset+a,f-a)),new _o(r.headerSize))};return n.seek(s),{complete:!0,box:h}}!function(t){function n(){return t.call(this,"mdir")||this}Ys(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var u=t.call(this,"hdlr",e,r)||this;return u.name=i,u.handlerType=n,u}return Ys(n,t),v.defineProperty(n.prototype,"handlerType",{get:function(){return this.ts},set:function(t){this.ts=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(co));var Ro=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},v.defineProperty(t.prototype,"tag",{get:function(){return this.es},set:function(t){if(!uo(t,8))throw new f("Provided tag does not fit in 8 bits.");this.es=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o={});var c=t.call(this,4,o.fixed28BitMode)||this;return c.upStream=e,c.decoderSpecificInfo=s,c.objectTypeIndication=n,c.streamType=i,c.bufferSizeDb=r,c.maxBitrate=u.max,c.avgBitrate=u.avg,c}Ys(n,t),v.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.rs},set:function(t){if(!uo(t,8))throw new f("Provided objectTypeIndication does not fit in 8 bits.");this.rs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamType",{get:function(){return this.us},set:function(t){if(!uo(t,6))throw new f("Provided streamType does not fit in 6 bits.");this.us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.ss},set:function(t){if(!uo(t,24))throw new f("Provided bufferSizeDb does not fit in 24 bits.");this.ss=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.os},set:function(t){if(!uo(t,32))throw new f("Provided maxBitrate does not fit in 32 bits.");this.os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.cs},set:function(t){if(!uo(t,32))throw new f("Provided avgBitrate does not fit in 32 bits.");this.cs=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Ro),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}Ys(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(no.from(this.data))}}(Ro);var Io=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return Ys(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Ro);!function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,3,r.fixed28BitMode)||this;return u.decoderConfigDescriptor=e,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==r?void 0:r.dependsOnEsId,u.urlString=null==r?void 0:r.url,u.ocrEsId=null==r?void 0:r.ocrEsId,u.slConfigDescriptor=new Io(r.fixed28BitMode),u}Ys(n,t),v.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"esId",{get:function(){return this.as},set:function(t){if(!uo(t,16))throw new f("Provided esId does not fit in 16 bits.");this.as=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamPriority",{get:function(){return this.fs},set:function(t){if(!uo(t,5))throw new f("Provided streamPriority does not fit in 5 bits.");this.fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.hs},set:function(t){if(t&&!uo(t,16))throw new f("Provided dependsOnEsId does not fit in 16 bits.");this.hs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.vs},set:function(t){if(t&&!uo(t,16))throw new f("Provided ocrEsId does not fit in 16 bits.");this.vs=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Ro);var Do=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return Ys(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(ro),Oo=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Ys(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Do),No=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return Ys(n,t),v.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.ds},set:function(t){if(!uo(t,16))throw new f("Provided dataReferenceIndex does not fit in 16 bits.");this.ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Oo),Co=function(t){function n(n,i,e,r){var u,s,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(u=e.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=e.sampleSize)&&void 0!==s?s:16,o.sampleRate=e.sampleRate,o}return Ys(n,t),v.defineProperty(n.prototype,"channelCount",{get:function(){return this.ls},set:function(t){if(!uo(t,16))throw new f("Provided channelCount does not fit in 16 bits.");this.ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleSize",{get:function(){return this.gs},set:function(t){if(!uo(t,16))throw new f("Provided sampleSize does not fit in 16 bits.");this.gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleRate",{get:function(){return this.ys},set:function(t){if(!uo(so(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.ys=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(so(this.sampleRate,16),32),this.extra&&oo(n.writer,this.extra)},n}(No);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}Ys(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.bs},set:function(t){if(!uo(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!uo(t,32)}))throw new f("Not all entries can be represented in 32 bits.");this.bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(co),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}Ys(n,t),v.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.ps},set:function(t){if(!uo(t,32))throw new f("Provided cleanApertureWidthN does not fit in 32 bits.");this.ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this._s},set:function(t){if(!uo(t,32))throw new f("Provided cleanApertureWidthD does not fit in 32 bits.");this._s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.ks},set:function(t){if(!uo(t,32))throw new f("Provided cleanApertureHeightN does not fit in 32 bits.");this.ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.Ts},set:function(t){if(!uo(t,32))throw new f("Provided cleanApertureHeightD does not fit in 32 bits.");this.Ts=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Ss},set:function(t){if(!uo(t,32))throw new f("Provided horizOffN does not fit in 32 bits.");this.Ss=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Es},set:function(t){if(!uo(t,32))throw new f("Provided horizOffD does not fit in 32 bits.");this.Es=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Rs},set:function(t){if(!uo(t,32))throw new f("Provided vertOffN does not fit in 32 bits.");this.Rs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffD",{get:function(){return this.Is},set:function(t){if(!uo(t,32))throw new f("Provided vertOffD does not fit in 32 bits.");this.Is=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(ro),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}Ys(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.bs},set:function(t){if(!uo(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!uo(t.sampleCount,32)||!uo(t.sampleOffset,32)}))throw new f("Not all entries can be represented in 64 bits.");this.bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(co),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}Ys(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Ds},set:function(t){this.flags=void 0===t?1:0,this.Ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(co),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}Ys(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Ds},set:function(t){if(1&this.flags)throw new f("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(co),function(t){function n(){return t.call(this,"dinf")||this}Ys(n,t)}(Oo);var Ao=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!uo(i,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Ys(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.Zu},set:function(t){this.Zu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Do);!function(t){function n(){return t.call(this,"dref",0,0)||this}Ys(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Ao);var Po=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return Ys(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.bs},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!uo(e.segmentDuration,this.bitSize))throw new f("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!uo(e.mediaTime,this.bitSize))throw new f("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!uo(e.mediaRateInteger,16))throw new f("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!uo(e.mediaRateFraction,16))throw new f("Provided mediaRateFraction does not fit in 16 bits.")}this.bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(co);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}Ys(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(Po),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}Ys(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(Po),function(t){function n(){return t.call(this,"edts")||this}Ys(n,t)}(Oo);var xo=function(t){function n(n,i,e,r){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=e,u.compatibleBrands=r,u}return Ys(n,t),v.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Os},set:function(t){if(4!==t.length)throw new f("the provided major brand does not conform to the 4 character requirement");this.Os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Ns},set:function(t){if(!uo(t,32))throw new f("the provided minor version does not fit in 32 bits.");this.Ns=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Cs},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new f("Some of the compatible brands do not conform to the 4 character requirement");this.Cs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(ro);!function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}Ys(n,t)}(xo),function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}Ys(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(no.from(this.data))}}(ro);var Lo,Bo=function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=t.call(this,"mdhd",e,r)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u}return Ys(n,t),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.As},set:function(t){if(!uo(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Ps},set:function(t){if(!uo(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.xs},set:function(t){if(!uo(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Ls},set:function(t){if(!uo(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"language",{get:function(){return this.Bs},set:function(t){if(!function(t){return/^[a-z]{3}$/.test(t)}(t))throw new f("Expected an ISO-639-2/T language code");this.Bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(co);!function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}Ys(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}}(Bo),function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}Ys(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(Bo),function(t){function n(){return t.call(this,"mdia")||this}Ys(n,t)}(Oo),function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new no,n}Ys(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}}(ro),function(t){function n(){return t.call(this,"minf")||this}Ys(n,t)}(Oo),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}Ys(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Ao),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(Lo||(Lo={}));var Mo,Fo,Uo={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Vo(t,n){n.writer.writeUInt(so(t.a,16),32),n.writer.writeUInt(so(t.b,16),32),n.writer.writeUInt(so(0,30),32),n.writer.writeUInt(so(t.c,16),32),n.writer.writeUInt(so(t.d,16),32),n.writer.writeUInt(so(0,30),32),n.writer.writeUInt(so(t.x,16),32),n.writer.writeUInt(so(t.y,16),32),n.writer.writeUInt(so(1,30),32)}function Ho(t,n){var i,e,r,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Mo.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Fo.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Fo.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:Fo.UNKNOWN,2)}function Wo(t,n){var i,e,r;n.writer.writeUInt(0,4),Ho(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Mo||(Mo={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Fo||(Fo={}));var qo=function(){return function(){}}(),zo=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return Ys(n,t),v.defineProperty(n.prototype,"systemId",{get:function(){return this.Ms},set:function(t){if(16!==t.length)throw new f("Provided systemId length is not 16.");this.Ms=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"data",{get:function(){return this.P},set:function(t){if(!uo(t.length,32))throw new f("Provided data length does not fit in 32 bits.");this.P=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(no.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(no.from(this.data))},n}(co),jo=function(t){function n(n,i){return t.call(this,0,n,i)||this}return Ys(n,t),n}(zo),$o=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return Ys(n,t),v.defineProperty(n.prototype,"kIds",{get:function(){return this.Fs},set:function(t){if(!uo(t.length,32))throw new f("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new f("Not all provided key ids are 16 bytes long.");this.Fs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(no.from(e))}},n}(zo);var Xo=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return Ys(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Us},set:function(t){if(!uo(t,this.bitSize))throw new f("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Us=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(co);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}Ys(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)}}(Xo),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}Ys(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)}}(Xo),function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var u,s,o,c=this;return(c=t.call(this,"trex",e,r)||this).trackId=n,c.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,c.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,c.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,c.defaultSampleFlags=i.sampleFlags,c}Ys(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Vs},set:function(t){if(!uo(t,32))throw new f("Provided track id does not fit in 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Hs},set:function(t){if(!uo(t,32))throw new f("Provided default sample description index does not fit in 32 bits.");this.Hs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ws},set:function(t){if(!uo(t,32))throw new f("Provided default sample duration does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.qs},set:function(t){if(!uo(t,32))throw new f("Provided default sample size does not fit in 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.zs},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!uo(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!uo(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.zs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Wo(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)}}(co),function(t){function n(){return t.call(this,"mvex")||this}Ys(n,t)}(Oo);var Go=function(t){function n(i,e,r,u,s){void 0===s&&(s=0);var o,c,a,f=this;return(f=t.call(this,"mvhd",u,s)||this).creationTime=i.creation,f.modificationTime=i.modification,f.timescale=i.scale,f.duration=i.duration,f.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,f.volume=null!==(c=r.volume)&&void 0!==c?c:n.DEFAULT_VOLUME,f.matrix=null!==(a=r.matrix)&&void 0!==a?a:Uo,f.js=e,f}return Ys(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.As},set:function(t){if(!uo(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Ps},set:function(t){if(!uo(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.xs},set:function(t){if(!uo(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Ls},set:function(t){if(!uo(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"rate",{get:function(){return this.$s},set:function(t){if(!uo(so(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.$s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.Xs},set:function(t){if(!uo(so(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.Xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.Gs},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.Gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.js},set:function(t){if(0===t)throw new f("NextTrackId cannot be 0.");if(!uo(t,32))throw new f("NextTrackId cannot exceed 32 bits.");this.js=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(so(this.rate,16),32),n.writer.writeUInt(so(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Vo(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(co);!function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}Ys(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}}(Go),function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}Ys(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(Go);var Yo=function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o={});var c,a,f,h=this;return(h=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,h.modificationTime=i.modification,h.trackId=e,h.duration=i.duration,h.volume=r,h.width=u,h.height=s,h.layer=null!==(c=o.layer)&&void 0!==c?c:0,h.alternateGroup=null!==(a=o.alternateGroup)&&void 0!==a?a:0,h.matrix=null!==(f=o.matrix)&&void 0!==f?f:Uo,h}return Ys(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.As},set:function(t){if(!uo(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Ps},set:function(t){if(!uo(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Vs},set:function(t){if(0===t)throw new f("trackId cannot be 0.");if(!uo(t,32))throw new f("trackId cannot exceed 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Ls},set:function(t){if(!uo(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.Xs},set:function(t){if(!uo(so(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.Xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"width",{get:function(){return this.Ys},set:function(t){if(!uo(so(t,16),32))throw new f("Provided width does not fit in 32 bits (fixed 16.16).");this.Ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.Ks},set:function(t){if(!uo(so(t,16),32))throw new f("Provided height does not fit in 32 bits (fixed 16.16).");this.Ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"layer",{get:function(){return this.Js},set:function(t){if(!uo(t,16))throw new f("Provided layer does not fit in 16 bits.");this.Js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Qs},set:function(t){if(!uo(t,16))throw new f("Provided alternateGroup does not fit in 16 bits.");this.Qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.Gs},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.Gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(so(this.volume,8),16),n.writer.writeUInt(0,16),Vo(this.matrix,n),n.writer.writeUInt(so(this.width,16),32),n.writer.writeUInt(so(this.height,16),32)},n}(co);!function(t){function n(n,i,e,r,u,s){return t.call(this,0,n,i,e,r,u,s)||this}Ys(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)}}(Yo),function(t){function n(n,i,e,r,u,s){return t.call(this,1,n,i,e,r,u,s)||this}Ys(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(Yo),function(t){function n(){return t.call(this,"trak")||this}Ys(n,t)}(Oo),function(t){function n(){return t.call(this,"moov")||this}Ys(n,t)}(Oo);var Ko=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return Ys(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.Zs},set:function(t){if(!uo(t,this.bitSize))throw new f("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.Zs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(co);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}Ys(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)}}(Ko),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}Ys(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)}}(Ko),function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}Ys(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Vs},set:function(t){if(!uo(t,32))throw new f("Provided track id does not fit in 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.to},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is not set.");if(t&&!uo(t,64))throw new f("Provided baseDataOffset does not fit in 32 bits.");this.to=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.io},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is not set.");if(t&&!uo(t,32))throw new f("Provided sampleDescriptionIndex does not fit in 32 bits.");this.io=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ws},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is not set.");if(t&&!uo(t,32))throw new f("Provided defaultSampleDuration does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.qs},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is not set.");if(t&&!uo(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.zs},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!uo(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!uo(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.zs=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Wo(this.defaultSampleFlags,n)}}(co),function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}Ys(n,t),v.defineProperty(n.prototype,"dataOffset",{get:function(){return this.eo},set:function(t){if(t&&!uo(t,32))throw new f("Provided data offset does not fit in 32 bits.");this.eo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.ro},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!uo(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!uo(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.ro=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.uo},set:function(t){var n,i;if(!uo(t.length,32))throw new f("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var u=r[e];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new f("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new f("The sample duration present flag is not set.");if(u.duration&&!uo(u.duration,32))throw new f("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new f("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new f("The sample size present flag is not set.");if(u.size&&!uo(u.size,32))throw new f("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!uo(u.flags.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!uo(u.flags.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!uo(u.compositionTimeOffset,32))throw new f("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.uo=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Wo(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&Wo(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}}}(co),function(t){function n(){return t.call(this,"traf")||this}Ys(n,t)}(Oo),function(t){function n(){return t.call(this,"moof")||this}Ys(n,t)}(Oo),function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}Ys(n,t),v.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.so},set:function(t){if(!uo(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.so=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(co);var Jo=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return Ys(n,t),v.defineProperty(n.prototype,"codingName",{get:function(){return this.oo},set:function(t){if(4!==t.length)throw new f("Provided coding name was not 4 characters long.");this.oo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(ro);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}Ys(n,t),v.defineProperty(n.prototype,"hSpacing",{get:function(){return this.co},set:function(t){if(!uo(t,32))throw new f("Provided hSpacing does not fit in 32 bits.");this.co=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vSpacing",{get:function(){return this.ao},set:function(t){if(!uo(t,32))throw new f("Provided vSpacing does not fit in 32 bits.");this.ao=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(ro),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}Ys(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Oo),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new Jo(n),r}Ys(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(ro);var Qo=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return Ys(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.bs},set:function(t){var n=this;if(!uo(t.length,32))throw new f("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!uo(t,n.bitSize)}))throw new f("Not all provided entries fit in ".concat(this.bitSize," bits."));this.bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.fo},set:function(t){if(void 0===t)this.flags=0;else{if(!uo(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!uo(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(co);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Ys(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(Qo),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Ys(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(Qo),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}Ys(n,t),v.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.ho},set:function(t){if(!uo(t,8))throw new f("Provided defaultSampleInfoSize does not fit in a single byte.");this.ho=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.vo},set:function(t){if(!uo(t.length,32))throw new f("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!uo(t,8)}))throw new f("Not all provided sampleInfoSizes fit in a byte.");this.vo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.fo},set:function(t){if(void 0===t)this.flags=0;else{if(!uo(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!uo(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new f("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(co),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}Ys(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Ho(e[i],n)}}}(co),function(t){function n(n){return t.call(this,"stsd",n,0)||this}Ys(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Ao);var Zo=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return Ys(n,t),v.defineProperty(n.prototype,"groupingType",{get:function(){return this.do},set:function(t){if(4!==t.length)throw new f("The provided groupingType does not equal 4 characters.");this.do=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(co);!function(t){function n(n,i){return t.call(this,0,n,i)||this}Ys(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(Zo),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}Ys(n,t),v.defineProperty(n.prototype,"defaultLength",{get:function(){return this.lo},set:function(t){if(!uo(t,32))throw new f("The provided defaultLength does not fit in 32 bits.");this.lo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(Zo),function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=this;if(n<2)throw new f("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,u}Ys(n,t),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Hs},set:function(t){if(!uo(t,32))throw new f("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Hs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(Zo),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}Ys(n,t),v.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.wo},set:function(t){if(!uo(t.length,32))throw new f("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!uo(t,32)}))throw new f("Not all sampleSizes can be represented in 32 bits.");this.wo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(co),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}Ys(n,t),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.qs},set:function(t){if(!uo(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.uo},set:function(t){if(!uo(t,32))throw new f("Number of allowed samples cannot fit in 32 bits.");this.uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(co),function(t){function n(){return t.call(this,"stbl")||this}Ys(n,t)}(Oo),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}Ys(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.bs},set:function(t){if(!uo(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!uo(t.firstChunk,32)||!uo(t.sampleDescriptionIndex,32)||!uo(t.samplesPerChunk,32)}))throw new f("Not all entries can be represented in 96 bits.");this.bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(co),function(t){function n(){return t.call(this,"schi")||this}Ys(n,t)}(Oo),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}Ys(n,t),v.defineProperty(n.prototype,"schemeType",{get:function(){return this.yo},set:function(t){if(4!==t.length)throw new f("The provided schemeType does not have a length of 4.");this.yo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.mo},set:function(t){if(!uo(t,32))throw new f("The provided schemeVersion does not fit in 23 bits.");this.mo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeUri",{get:function(){return this.bo},set:function(t){if(t&&4!==t.length)throw new f("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.bo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(co);var tc=function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o=0);var c=t.call(this,"sidx",n,o)||this;return c.referenceId=i,c.timescale=e,c.earliestPresentationTime=r,c.firstOffset=u,c.references=s,c}return Ys(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"referenceId",{get:function(){return this.po},set:function(t){if(!uo(t,32))throw new f("Provided referenceId does not fit in 32 bits.");this.po=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.xs},set:function(t){if(!uo(t,32))throw new f("Provided timescale does not fit in 32 bits.");this.xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this._o},set:function(t){if(!uo(t,this.bitSize))throw new f("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this._o=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstOffset",{get:function(){return this.ko},set:function(t){if(!uo(t,this.bitSize))throw new f("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.ko=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"references",{get:function(){return this.To},set:function(t){if(!uo(t.length,16))throw new f("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!uo(e.referencedSize,31))throw new f("Provided referenced size does not fit in 31 bits.");if(!uo(e.subsegmentDuration,32))throw new f("Provided subsegment duration does not fit in 31 bits.");if(!uo(e.sapType,3))throw new f("Provided SAP type does not fit in 3 bits.");if(!uo(e.sapDeltaTime,28))throw new f("Provided SAP delta time does not fit in 28 bits.")}this.To=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(co);!function(t){function n(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,e,r,u,s)||this}Ys(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)}}(tc),function(t){function n(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,e,r,u,s)||this}Ys(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)}}(tc),function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}Ys(n,t)}(xo),function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}Ys(n,t),v.defineProperty(n.prototype,"balance",{get:function(){return this.So},set:function(t){if(t<-1||t>1)throw new f("Provided balance does not fit in the allowed range [-1, 1].");if(!uo(so(t,8),16))throw new f("Provided balance does not fit in 16 bits (fixed 8.8).");this.So=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(so(this.balance,8),16),n.writer.writeUInt(0,16)}}(co),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}Ys(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.bs},set:function(t){if(!uo(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!uo(t,32)}))throw new f("Not all entries can be represented in 32 bits.");this.bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(co),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}Ys(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.bs},set:function(t){if(!uo(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!uo(t.sampleCount,32)||!uo(t.sampleDelta,32)}))throw new f("Not all entries can be represented in 64 bits.");this.bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(co),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}Ys(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Vs},set:function(t){if(!uo(t,32))throw new f("The provided trackId does not fit in 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Ao),function(t){function n(){return t.call(this,"udta")||this}Ys(n,t)}(Oo);var nc={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=nc);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}Ys(n,t),v.defineProperty(n.prototype,"opColor",{get:function(){return this.Eo},set:function(t){if(!uo(t.red,16)||!uo(t.green,16)||!uo(t.blue,16))throw new f("Not all colors could be represented in 16 bits.");this.Eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(co);var ic=function(t){function n(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var s,o,c,a,f,h=this;return(h=t.call(this,n,i)||this).width=e.width,h.height=e.height,h.horizontalResolution=null!==(s=e.horizontal)&&void 0!==s?s:72,h.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,h.compressorName=null!==(c=r.compressorName)&&void 0!==c?c:"",h.frameCount=null!==(a=r.frameCount)&&void 0!==a?a:1,h.depth=null!==(f=r.depth)&&void 0!==f?f:24,h.clap=r.clap,h.pasp=r.pasp,h.extra=u,h}return Ys(n,t),v.defineProperty(n.prototype,"width",{get:function(){return this.Ys},set:function(t){if(!uo(t,16))throw new f("Provided width does not fit in 16 bits.");this.Ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.Ks},set:function(t){if(!uo(t,16))throw new f("Provided height does not fit in 16 bits.");this.Ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.Ro},set:function(t){if(!uo(so(t,16),32))throw new f("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.Ro=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.Io},set:function(t){if(!uo(so(t,16),32))throw new f("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.Io=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compressorName",{get:function(){return this.Do},set:function(t){if(t.length>31)throw new f("The provided compressorName should at most be 31 characters long.");this.Do=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"frameCount",{get:function(){return this.Oo},set:function(t){if(!uo(t,16))throw new f("Provided frameCount does not fit in 16 bits.");this.Oo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"depth",{get:function(){return this.No},set:function(t){if(!uo(t,16))throw new f("Provided depth does not fit in 16 bits.");this.No=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(so(this.horizontalResolution,16),32),n.writer.writeUInt(so(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&oo(n.writer,this.extra)},n}(No);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}Ys(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(no.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(co),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}Ys(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Co),function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,"mp4v",n,i,r)||this;return u.esDescriptor=e,u}Ys(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(ic),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}Ys(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(No),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}Ys(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(ro),function(){function t(t,n,i,e,r,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}v.defineProperty(t.prototype,"version",{get:function(){return this.Co},set:function(t){if(!uo(t,8))throw new f("Provided version does not fit in 8 bits.");this.Co=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"profileIndication",{get:function(){return this.Ao},set:function(t){if(!uo(t,8))throw new f("Provided profileIndication does not fit in 8 bits.");this.Ao=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.Po},set:function(t){if(!uo(t,8))throw new f("Provided profileCompatibility does not fit in 8 bits.");this.Po=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"levelIndication",{get:function(){return this.xo},set:function(t){if(!uo(t,8))throw new f("Provided levelIndication does not fit in 8 bits.");this.xo=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"spsSets",{get:function(){return this.Lo},set:function(t){if(!uo(t.length,5))throw new f("Provided number of spsSets exceeds the max (32)");this.Lo=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"ppsSets",{get:function(){return this.Bo},set:function(t){if(!uo(t.length,8))throw new f("Provided number of ppsSets exceeds the max (256)");this.Bo=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(no.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,u=this.ppsSets;r<u.length;r++){var s=u[r];t.writer.writeUInt(s.length,16),t.concat(no.from(s))}}}(),function(t){function n(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var s=t.call(this,"avc1",n,i,r)||this;return s.configurationBox=e,s.bitrateBox=u,s}Ys(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(ic),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}Ys(n,t),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.ss},set:function(t){if(!uo(t,32))throw new f("Provided bufferSizeDb does not fit in 32 bits.");this.ss=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"max",{get:function(){return this.Mo},set:function(t){if(!uo(t,32))throw new f("Provided max does not fit in 32 bits.");this.Mo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avg",{get:function(){return this.Fo},set:function(t){if(!uo(t,32))throw new f("Provided avg does not fit in 32 bits.");this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(ro);var ec=function(t){function n(n,i){var e,r,u,s,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new f("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new y(0),o}return Ys(n,t),v.defineProperty(n.prototype,"isProtected",{get:function(){return this.Uo},set:function(t){if(!uo(t,8))throw new f("Provided isProtected does not fit in 1 byte.");this.Uo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Vo},set:function(t){if(![8,16].includes(t))throw new f("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Vo=t,this.Ho=new y(0)},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"kId",{get:function(){return this.Wo},set:function(t){if(16!==t.length)throw new f("Provided kId length is not 16.");this.Wo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"constantIv",{get:function(){return this.Ho},set:function(t){if(![8,16].includes(t.length))throw new f("Provided constant IV length does not match any allowed value [8, 16].");this.Ho=t,this.Vo=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),oo(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),oo(t.writer,this.constantIv))},n}(co);!function(t){function n(n){return t.call(this,0,n)||this}Ys(n,t)}(ec);var rc=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return Ys(n,t),v.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.qo},set:function(t){if(!uo(t,4))throw new f("Provided cryptByteBlocks does not fit in 4 bits.");this.qo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.zo},set:function(t){if(!uo(t,4))throw new f("Provided skipByteBlocks does not fit in 4 bits.");this.zo=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(ec);function uc(t){return void 0!==t.iv}function sc(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new rc(n),i}Ys(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(qo),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}Ys(n,t),v.defineProperty(n.prototype,"samples",{get:function(){return this.uo},set:function(t){var n;if(!uo(t.length,32))throw new f("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(uc(r)&&![8,16].includes(r.iv.length))throw new f("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=sc(r)),!0===n&&!sc(r)||!1===n&&sc(r))throw new f("Mix of samples with and without subsamples detected.");if(sc(r)){if(!uo(r.subsamples.length,16))throw new f("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];if(!uo(o.clearData,16))throw new f("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!uo(o.protectedData,23))throw new f("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];uc(r)&&(n+=r.iv.length),sc(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(uc(r)&&oo(n.writer,r.iv),sc(r)){n.writer.writeUInt(r.subsamples.length,16);for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(co),function(t){function n(n,i,e,r,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=e,s.timescale=r.timescale,s.presentationTimeDelta=r.presentationTimeDelta,s.eventDuration=r.eventDuration,s}Ys(n,t),v.defineProperty(n.prototype,"timescale",{get:function(){return this.xs},set:function(t){if(!uo(t,32))throw new f("The provided timescale does not fit in 32 bits.");this.xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.jo},set:function(t){if(!uo(t,32))throw new f("The provided presentationTimeDelta does not fit in 32 bits.");this.jo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"eventDuration",{get:function(){return this.$o},set:function(t){if(!uo(t,32))throw new f("The provided eventDuration does not fit in 32 bits.");this.$o=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"id",{get:function(){return this.Xo},set:function(t){if(!uo(t,32))throw new f("The provided id does not fit in 32 bits.");this.Xo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(no.from(this.data))}}(co);var oc,cc,ac=(oc="pssh",cc=function(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),u=0;u<r;u++)e.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new $o(i,o,e):new jo(i,o)},function(t){var n,i=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=Eo(i,e);if(!r.complete)return;if(To(r.box,n))return r.box}}(new ko((n=t,new DataView(n.buffer,n.byteOffset,n.byteLength)),new _o),oc);if(!i)throw new f("".concat(oc," box not found"));return cc(i)}),fc=function(t){function n(n,i){var e;(e=t.call(this)||this).Go=void 0,e.Yo=!1,e.Ko=void 0,e.Jo=void 0,e.Qo=function(){e.Zo()},e.tc=function(t){e.Jr(new Mu(Nn(e),t.messageType,js(e.nc,t.message)))},e.ic=function(){e.Yo=!0,e.Go.Su>0&&(e.Go.Tu(),e.Jr(new Bu(Nn(e)))),e.ec.removeEventListener("keystatuseschange",e.Qo),e.ec.removeEventListener("message",e.tc)},e.ec=n,e.nc=i,e.ec.addEventListener("keystatuseschange",e.Qo),e.ec.addEventListener("message",e.tc),e.Go=new Hu;var r=[];return e.ec.closed&&r.push(j.resolve(e.ec.closed)),e.Jo=new Ws,r.push(e.Jo.Pu),e.Ko=j.race(r).then(e.ic,e.ic),e.Zo(),e}vt(n,t);var i=n.prototype;return i.rc=function(){if(this.Yo)return this.Ko;var t=[];return t.push(j.resolve(this.ec.close())),t.push(Iu(1e3)),this.Jo.Bu(j.race(t).catch(hc)),this.Yo=!0,this.Ko},i.uc=function(t,n,i){if(Et.Sn){var e=ac(Ms(n));if(1===e.version)n=new jo(e.systemId,e.data).serialize().join()}return j.resolve(this.ec.generateRequest(t,n)).catch(hc)},i.sc=function(t){return j.resolve(this.ec.load(t)).catch(hc)},i.oc=function(){return j.resolve(this.ec.remove()).catch(hc)},i.cc=function(t){return j.resolve(this.ec.update(t)).catch(hc)},i.Zo=function(){var t=this;this.Go.Tu(),this.ec.keyStatuses.forEach(function(n,i){t.ac(i,n)}),this.Jr(new Bu(this))},i.ac=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Ms(t);if(this.nc===Cr&&16===e.byteLength){var r=xs(e),u=r.getUint32(0,!0),s=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,u,!1),r.setUint16(4,s,!1),r.setUint16(6,o,!1)}this.nc===Cr&&"status-pending"===n&&(n="usable"),this.Go.ku(e,n)},ft(n,[{key:"fc",get:function(){return this.Ko}},{key:"hc",get:function(){return this.ec.expiration}},{key:"vc",get:function(){return this.Go}},{key:"dc",get:function(){return this.ec.sessionId}}]),n}(Cu);function hc(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|l(i[1],16))}throw new Xs(t.message,void 0,n,t)}var vc=function(){function t(t,n,i){this.lc=t,this.wc=n,this.gc=i}var n=t.prototype;return n.yc=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new fc(this.lc.createSession(t),this.wc));case 1:case"end":return n.stop()}},null,this,null,j)},n.mc=function(t){return j.resolve(this.lc.setServerCertificate(t))},n.bc=function(t){return j.resolve(t.setMediaKeys(this.lc))},n.pc=function(t){return j.resolve(t.setMediaKeys(null))},t}(),dc=function(){function t(t,n,i){this._c=t,this.nc=n,this.kc=i}var n=t.prototype;return n.Tc=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(this._c.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new vc(t,this.nc,this.kc));case 4:case"end":return n.stop()}},null,this,null,j)},n.Sc=function(){return this.kc},ft(t,[{key:"wc",get:function(){return this._c.keySystem}}]),t}();function lc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function wc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,Ec:e.Ec},s=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(u.audioCapabilities=o.filter(function(e){return gc(t,n,i,e)}),s=!0,u.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var c=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});c.length&&(u.videoCapabilities=c.filter(function(e){return gc(t,n,i,e)}),s=!0,u.videoCapabilities.length&&(r=!0))}return s||(r=t(i,"video/mp4")),r?u:void 0}}function gc(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!hu(n,e.encryptionScheme))&&(!e.robustness&&t(i,lc(e.contentType))))}function yc(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,u=t.audioCapabilities;r<u.length;r++){var s=u[r];if(s.contentType)return s.contentType}}function mc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function bc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(pc))||!(!t.videoCapabilities||!t.videoCapabilities.some(pc))}function pc(t){return!t.robustness}function _c(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(gr({},r,{robustness:n}))}return i}var kc=function(){function t(){}return t.prototype.Ir=function(t,n){var i,e,r,s,o,c,a,f;return wr.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(n=n.filter(function(t){return!t.Ec}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=mc(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=mc(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(bc)){h.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",gr({},n=t,{videoCapabilities:n.videoCapabilities?_c(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?_c(n.audioCapabilities,i):void 0});var n,i}),h.prev=4,h.next=7,wr.awrap(u.requestMediaKeySystemAccess(t,s));case 7:return o=h.sent,c=o.getConfiguration(),h.abrupt("return",new dc(o,t,c));case 12:h.prev=12,h.t0=h.catch(4);case 14:return h.next=16,wr.awrap(u.requestMediaKeySystemAccess(t,n));case 16:return a=h.sent,f=a.getConfiguration(),h.abrupt("return",new dc(a,t,f));case 19:case"end":return h.stop()}},null,null,[[4,12]],j)},t.Rc=function(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess},t}(),Tc=function(t){function n(n,i){var e;return(e=t.call(this)||this).Yo=!1,e.Ic=void 0,e.Dc=void 0,e.Oc=void 0,e.Nc=void 0,e.Cc=void 0,e.ic=function(){e.Yo=!0,e.Ic.Bu(void 0),e.Cc&&(e.Cc.removeEventListener("mskeyclose",e.ic),e.Cc.removeEventListener("mskeymessage",e.Ac),e.Cc.removeEventListener("mskeyerror",e.Pc),e.Cc.removeEventListener("mskeyadded",e.xc))},e.Ac=function(t){e.Oc&&(e.Oc.Bu(void 0),e.Oc=void 0),e.Jr(new Mu(Nn(e),"license-request",Us(t.message).buffer,t.destinationURL||void 0))},e.Pc=function(){var t=e.Cc&&e.Cc.error;if(t){var n=new Xs("Unknown CDM error",t.code,t.systemCode);if(e.Oc)e.Oc.Mu(n),e.Oc=void 0;else if(e.Dc)e.Dc.Mu(n),e.Dc=void 0;else switch(n.Fu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Lc("output-not-allowed");break;default:e.Lc("internal-error")}}},e.xc=function(){e.Oc&&(e.Lc("usable"),e.Oc.Bu(void 0),e.Oc=void 0),e.Dc&&(e.Lc("usable"),e.Dc.Bu(void 0),e.Dc=void 0)},e.Bc=n,e.Mc=i,e.Ic=new Ws,e.Nc=new Hu,e}vt(n,t);var i=n.prototype;return i.uc=function(t,n,i){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Fc(),this.Oc=new Ws,this.yc(Ms(n),i),t.next=5,wr.awrap(this.Oc.Pu);case 5:case"end":return t.stop()}},null,this,null,j)},i.yc=function(t,n){if(!t)throw new h("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Uc;return(i=n?this.Bc.createSession(this.Mc,t,e):this.Bc.createSession(this.Mc,t)).addEventListener("mskeyclose",this.ic),i.addEventListener("mskeymessage",this.Ac),i.addEventListener("mskeyerror",this.Pc),i.addEventListener("mskeyadded",this.xc),this.Cc=i,this.Lc("status-pending"),i},i.sc=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Fc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,j)},i.cc=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Dc=new Ws,this.Fc(),this.Cc){i.next=4;break}return i.abrupt("return",j.resolve());case 4:if(0!==(n=Ms(t)).byteLength){i.next=7;break}throw new h("Cannot call update with an empty response.");case 7:return this.Cc.update(n),i.next=10,wr.awrap(this.Dc.Pu);case 10:case"end":return i.stop()}},null,this,null,j)},i.rc=function(){return!this.Yo&&this.Cc&&(this.Yo=!0,this.Cc.close()),this.Ic.Pu},i.oc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Fc(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,j)},i.Fc=function(){if(this.Yo)throw new h("Already closing or closed.")},i.Lc=function(t){this.Nc.Tu(),this.Nc.ku(Vu,t),this.Jr(new Bu(this))},ft(n,[{key:"dc",get:function(){return this.Cc&&this.Cc.sessionId||""}},{key:"hc",get:function(){return NaN}},{key:"fc",get:function(){return this.Ic.Pu}},{key:"vc",get:function(){return this.Nc}}]),n}(Cu),Sc=function(){function t(t,n,i){this.Mc=void 0,this.Bc=t,this.wc=n,this.gc=i;var e=yc(i)||"video/mp4";this.Mc=lc(e)}var n=t.prototype;return n.yc=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Tc(this.Bc,this.Mc));case 1:case"end":return t.stop()}},null,this,null,j)},n.mc=function(t){return j.resolve(!1)},n.bc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Bc):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Bc),t.removeEventListener("loadedmetadata",i)}),j.resolve()},n.pc=function(t){return j.resolve()},t}(),Ec=function(){function t(t,n){this.nc=t,this.Vc=n}var n=t.prototype;return n.Sc=function(){return this.Vc},n.Tc=function(){var t=new Z.MSMediaKeys(this.nc);return j.resolve(new Sc(t,this.nc,this.Vc))},ft(t,[{key:"wc",get:function(){return this.nc}}]),t}(),Rc=function(){function t(){}return t.prototype.Ir=function(t,n){try{return j.resolve(function(t,n){if(!Ic())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=wc(Dc,xu,t,e);if(r)return new Ec(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.Rc=function(){return Ic()},t}();function Ic(){return void 0!==Z.MSMediaKeys&&"function"==typeof Z.MSMediaKeys.isTypeSupported}function Dc(t,n){return Z.MSMediaKeys.isTypeSupported(t,n)}var Oc,Nc,Cc=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Ic=new Ws,r.Hc=void 0,r.Nc=new Hu,r.Wc=void 0,r.qc=new Ws,r.Pc=function(){var t=r.Wc&&r.Wc.error;if(t){var n=new Xs("Unknown CDM error",t.code,t.systemCode);r.Hc?(r.Hc.Mu(n),r.Hc=void 0):n.Fu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Lc("output-not-allowed"):r.Lc("internal-error"),r.Jr(new Fu)}},r.Ac=function(t){r.Jr(new Mu(Nn(r),"license-request",Us(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.xc=function(){r.Hc&&(r.Hc.Bu(void 0),r.Hc=void 0),r.Lc("usable")},r.zc=n,r.Mc=i,r.jc=e,r}vt(n,t);var i=n.prototype;return i.uc=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.$c;if(!e)throw new h("Expected FairPlay contentId to be defined but was "+e+".");var r=Ac(Ms(n),e,this.jc);return this.Wc=this.zc.createSession(this.Mc,r),this.Wc.addEventListener("webkitkeymessage",this.Ac,!1),this.Wc.addEventListener("webkitkeyadded",this.xc,!1),this.Wc.addEventListener("webkitkeyerror",this.Pc,!1),this.Lc("status-pending"),this.qc.Bu(this.Wc),this.qc=new Ws,j.resolve()},i.sc=function(t){return j.resolve(!0)},i.cc=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Ms(t)).byteLength){i.next=3;break}throw new h("Cannot call update with an empty response.");case 3:if(this.Hc=new Ws,i.t0=this.Wc,i.t0){i.next=9;break}return i.next=8,wr.awrap(this.qc.Pu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,wr.awrap(this.Hc.Pu);case 13:case"end":return i.stop()}},null,this,null,j)},i.rc=function(){var t,n=this.Wc;return n&&(n.removeEventListener("webkitkeymessage",this.Ac,!1),n.removeEventListener("webkitkeyadded",this.xc,!1),n.removeEventListener("webkitkeyerror",this.Pc,!1),n.close()),this.qc.qr(),null==(t=this.Hc)||t.qr(),this.Ic.Bu(void 0),this.Ic.Pu},i.oc=function(){return j.resolve(void 0)},i.Lc=function(t){this.Nc.Tu(),this.Nc.ku(Vu,t),this.Jr(new Bu(this))},ft(n,[{key:"dc",get:function(){return this.Wc?this.Wc.sessionId:""}},{key:"hc",get:function(){return NaN}},{key:"fc",get:function(){return this.Ic.Pu}},{key:"vc",get:function(){return this.Nc}}]),n}(Cu);function Ac(t,n,i){var e=Cs(t),r=2*e.length,u=2*n.length,s=new ArrayBuffer(4+r+4+u+4+i.byteLength),o=new DataView(s),c=new Hs;return ms(o,c,r,!0),Es(o,c,e,!0),ms(o,c,u,!0),Es(o,c,n,!0),ms(o,c,i.byteLength,!0),function(t,n,i){Ls(t).set(Ls(i),n.Ou),n.Ru(i.byteLength)}(o,c,i),new y(s)}n.ErrorCode=void 0,(Oc=n.ErrorCode||(n.ErrorCode={}))[Oc.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Oc[Oc.LICENSE_ERROR=2e3]="LICENSE_ERROR",Oc[Oc.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Oc[Oc.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Oc[Oc.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Oc[Oc.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",Oc[Oc.SOURCE_INVALID=3e3]="SOURCE_INVALID",Oc[Oc.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Oc[Oc.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Oc[Oc.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Oc[Oc.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Oc[Oc.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Oc[Oc.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Oc[Oc.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Oc[Oc.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Oc[Oc.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Oc[Oc.NETWORK_ERROR=6e3]="NETWORK_ERROR",Oc[Oc.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Oc[Oc.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Oc[Oc.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Oc[Oc.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Oc[Oc.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Oc[Oc.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Oc[Oc.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Oc[Oc.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Oc[Oc.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Oc[Oc.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Oc[Oc.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Oc[Oc.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Oc[Oc.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Oc[Oc.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Oc[Oc.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Oc[Oc.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Oc[Oc.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Oc[Oc.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Oc[Oc.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Oc[Oc.AD_ERROR=1e4]="AD_ERROR",Oc[Oc.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Oc[Oc.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(Nc=n.ErrorCategory||(n.ErrorCategory={}))[Nc.CONFIGURATION=1]="CONFIGURATION",Nc[Nc.LICENSE=2]="LICENSE",Nc[Nc.SOURCE=3]="SOURCE",Nc[Nc.MANIFEST=4]="MANIFEST",Nc[Nc.MEDIA=5]="MEDIA",Nc[Nc.NETWORK=6]="NETWORK",Nc[Nc.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Nc[Nc.SUBTITLE=8]="SUBTITLE",Nc[Nc.VR=9]="VR",Nc[Nc.AD=10]="AD",Nc[Nc.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=d.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new h("Invalid error code: "+t)}}();var Pc=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return vt(i,t),ft(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(An);var xc=function(){function t(t,n,i){this.Mc=void 0,this.jc=void 0,this.zc=t,this.wc=n,this.gc=i;var e=yc(i)||"video/mp4";this.Mc=lc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.zc},i.yc=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.jc){t.next=2;break}throw new Pc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Cc(this.zc,this.Mc,this.jc));case 3:case"end":return t.stop()}},null,this,null,j)},i.mc=function(t){return this.jc=Ms(t),j.resolve(!0)},i.bc=function(t){return t.webkitSetMediaKeys(this.zc),j.resolve()},i.pc=function(t){return t.webkitSetMediaKeys(null),j.resolve()},t}(),Lc=function(){function t(t,n){this.nc=t,this.Vc=n}var n=t.prototype;return n.Sc=function(){return this.Vc},n.Tc=function(){var t=new Z.WebKitMediaKeys(this.nc);return j.resolve(new xc(t,this.nc,this.Vc))},ft(t,[{key:"wc",get:function(){return this.nc}}]),t}(),Bc=function(){function t(){}return t.prototype.Ir=function(t,n){try{return j.resolve(function(t,n){if(t!==Fr)throw new h(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Mc())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=wc(Fc,Lu,t,e);if(r)return new Lc(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.Rc=function(){return Mc()},t}();function Mc(){return void 0!==Z.WebKitMediaKeys&&"function"==typeof Z.WebKitMediaKeys.isTypeSupported}function Fc(t,n){return Z.WebKitMediaKeys.isTypeSupported(t,n)}var Uc,Vc=function(){function t(t){this.Xc=t}return t.prototype.Ir=function(t,n){var i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.Xc;case 1:if(!(i<e.length)){u.next=14;break}return r=e[i],u.prev=3,u.next=6,wr.awrap(r.Ir(t,n));case 6:return u.abrupt("return",u.sent);case 9:u.prev=9,u.t0=u.catch(3);case 11:i++,u.next=1;break;case 14:throw new h("Unsupported key system configuration for "+t);case 15:case"end":return u.stop()}},null,this,[[3,9]],j)},t}(),Hc=function(t){function n(n){var i;return(i=t.call(this)||this).Oc=void 0,i.Hc=void 0,i.Ic=void 0,i.Gu=!1,i.Gc=void 0,i.Yc=void 0,i.Kc=void 0,i.Jc=void 0,i.Qc=void 0,i.nc=n,i.Ic=new Ws,i.Yc="",i.Qc=new Ws,i.Kc=new Hu,i}vt(n,t);var i=n.prototype;return i.Zc=function(){this.Hc&&(this.Lc("usable"),this.Hc.Bu(void 0),this.Hc=void 0)},i.ta=function(t){var n=new Xs("Unknown CDM error",t.errorCode,t.systemCode);this.Hc?(this.Hc.Mu(n),this.Hc=void 0):this.Oc?(this.Oc.Mu(n),this.Oc=void 0):n.Fu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Lc("output-restricted"):1===n.Uu?this.Lc("expired"):this.Lc("internal-error")},i.na=function(t){0!==t.message.byteLength&&(this.Oc&&(this.Oc.Bu(void 0),this.Oc=void 0),this.Jr(new Mu(this,"license-request",js(this.nc,Us(t.message).buffer),t.defaultURL||void 0)))},i.ia=function(t){this.Jc||(this.Jc=t,this.Qc.Bu(t))},i.rc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Gu=!0,this.Ic.Bu(void 0);case 3:case"end":return t.stop()}},null,this,null,j)},i.uc=function(t,n){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Oc=new Ws,this.Gc=Ms(n),t.t0=this.Jc,t.t0){t.next=8;break}return t.next=7,wr.awrap(this.Qc.Pu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.nc,this.Gc),t.next=12,wr.awrap(this.Oc.Pu);case 12:case"end":return t.stop()}},null,this,null,j)},i.sc=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,j)},i.oc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,j)},i.cc=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Hc=new Ws,n.t0=this.Jc,n.t0){n.next=7;break}return n.next=6,wr.awrap(this.Qc.Pu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.nc,Ms(t),this.Gc,this.dc),n.next=11,wr.awrap(this.Hc.Pu);case 11:case"end":return n.stop()}},null,this,null,j)},i.throwIfClosed=function(){if(this.Gu)throw new h("Already closing or closed.")},i.Lc=function(t){this.Kc.Tu(),this.Kc.ku(Vu,t),this.Jr(new Bu(this))},ft(n,[{key:"vc",get:function(){return this.Kc}},{key:"dc",get:function(){return this.Yc},set:function(t){this.Yc=t}},{key:"fc",get:function(){return this.Ic.Pu}},{key:"hc",get:function(){return NaN}}]),n}(Cu),Wc=function(){function t(t,n){var i=this;this.Jc=void 0,this.ea=mr(),this.ra=[],this.xc=function(t){var n=i.ua(t.sessionId);n&&n.Zc()},this.sa=function(t){var n=i.ua(t.sessionId);n&&n.ta(t)},this.oa=function(t){var n=i.ua(t.sessionId);n&&n.na(t)},this.wc=t,this.gc=n}var n=t.prototype;return n.bc=function(t){return this.Jc=t,this.Jc.addEventListener("webkitkeyadded",this.xc),this.Jc.addEventListener("webkitkeyerror",this.sa),this.Jc.addEventListener("webkitkeymessage",this.oa),this.ea.forEach(function(n,i){return n.ia(t)}),this.ra.forEach(function(n){return n.ia(t)}),j.resolve()},n.pc=function(t){return t.removeEventListener("webkitkeyadded",this.xc),t.removeEventListener("webkitkeyerror",this.sa),t.removeEventListener("webkitkeymessage",this.oa),this.Jc=void 0,j.resolve()},n.yc=function(t,n,i){var e;return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Hc(this.wc),this.Jc&&e.ia(this.Jc),this.ra.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,j)},n.mc=function(t){return j.resolve(!1)},n.ua=function(t){if(t){var n=this.ea.get(t);return n||((n=this.ra.shift())?(n.dc=t,this.ea.set(t,n),n):void 0)}},t}(),qc=function(){function t(t,n){this.wc=t,this.ca=n}var n=t.prototype;return n.Tc=function(){return j.resolve(new Wc(this.wc,this.ca))},n.Sc=function(){return this.ca},t}(),zc=function(){function t(){}return t.prototype.Ir=function(t,n){try{return j.resolve(jc(t,n))}catch(t){return j.reject(t)}},t.Rc=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function jc(t,n){if(!zc.Rc())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=wc($c,xu,t,e);if(r)return new qc(t,r)}throw new h("Unsupported key system configuration for "+t)}function $c(t,n){var i=Ge();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Xc(){return Uc||(Uc=function(){var t=[];Bc.Rc()&&t.push(new Bc);kc.Rc()&&t.push(new kc);Rc.Rc()&&t.push(new Rc);zc.Rc()&&t.push(new zc);return new Vc(t)}()),Uc}var Gc=function(){function t(){this.aa=mr()}var n=t.prototype;return n.Tu=function(t){this.aa.delete(t)},n.fa=function(){this.aa.clear()},n.pu=function(t){return this.aa.get(t)},n.ha=function(t,n){this.aa.set(t,n)},t}(),Yc=function(){function t(){}return t.va=function(){return t.ni||(t.ni=Kc.Rc()?new Kc:new Gc),t.ni},t.Tu=function(n){t.va().Tu(n)},t.fa=function(){t.va().fa()},t.pu=function(n){return t.va().pu(n)},t.ha=function(n,i){t.va().ha(n,i)},t}();Yc.ni=void 0;var Kc=function(n){function i(){return n.apply(this,arguments)||this}vt(i,n),i.Rc=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.Tu=function(n){t.sessionStorage.removeItem(n)},e.fa=function(){t.sessionStorage.clear()},e.pu=function(n){return t.sessionStorage[n]},e.ha=function(n,i){t.sessionStorage[n]=i},i}(Yc);var Jc=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var u=t[r];i.append(u)}return i.getBlob(n&&n.type||"")}}();function Qc(t,n,i){var r=Jc([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),s=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=e.createElement("a");o.href=u,o.download=s,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(u)}var Zc,ta;!function(t){t.da="la",t.wa="ga",t.ya="contentprotectionerror",t.ma="contentprotectionsuccess",t.ba="currentsourcechange",t.pa="destroy",t._a="durationchange",t.ka="emptied",t.du="encrypted",t.Ta="ended",t.Sa="Ea",t.Ra="loadstart",t.Ia="manifestupdate",t.Da="nosupportedrepresentationfound",t.Oa="offline",t.Na="online",t.Ca="pause",t.Aa="play",t.Pa="progress",t.xa="ratechange",t.La="representationchange",t.Ba="resize",t.Ma="seeked",t.Fa="seeking",t.Ua="segmentnotfound",t.Va="Ha",t.Wa="qa",t.za="sourcechange",t.ja="timeupdate",t.$a="volumechange",t.Xa="Ga",t.Ya="metricschange"}(Zc||(Zc={})),function(t){t.Ka="arraybuffer",t.Ja="json",t.Qa="stream",t.si="text"}(ta||(ta={}));var na=function(){function t(n){var i=this;this.ar=void 0,this.ar={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&v.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=ia(i),e=ea(e);var r=i.toLowerCase();if(this.ar.hasOwnProperty(r)){var u=this.ar[r],s=u[1];u[1]=s?s+", "+e:e}else this.ar[r]=[i,e]},n.delete=function(t){var n=ia(t).toLowerCase();delete this.ar[n]},n.get=function(t){var n=ia(t).toLowerCase();return this.ar.hasOwnProperty(n)?this.ar[n][1]:null},n.has=function(t){var n=ia(t).toLowerCase();return this.ar.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=ia(i)).toLowerCase();this.ar[e]=[i,ea(n)]},n.forEach=function(t,n){for(var i in this.ar)this.ar.hasOwnProperty(i)&&t.call(n,this.ar[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.ar)if(this.ar.hasOwnProperty(n)){var i=this.ar[n],e=i[0],r=i[1];t.push([e,r])}return t},n.Za=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.tf=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.nf=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function ia(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new h("Invalid character in header field name");return n}function ea(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function ua(){}var sa=void 0!==t?t:void 0!==i?i:"undefined"!=typeof global?global:void 0;function oa(t){return"object"==typeof t&&null!==t||"function"==typeof t}var ca=ua,aa=j,fa=j.prototype.then,ha=j.resolve.bind(aa),va=j.reject.bind(aa);function da(t){return new aa(t)}function la(t){return ha(t)}function wa(t){return va(t)}function ga(t,n,i){return fa.call(t,n,i)}function ya(t,n,i){ga(ga(t,n,i),void 0,ca)}function ma(t,n){ya(t,n)}function ba(t,n){ya(t,void 0,n)}function pa(t,n,i){return ga(t,n,i)}function _a(t){ga(t,void 0,ca)}var ka=function(){var t=sa&&sa.queueMicrotask;if("function"==typeof t)return t;var n=la(void 0);return function(t){return ga(n,t)}}();function Ta(t,n,i){if("function"!=typeof t)throw new h("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Sa(t,n,i){try{return la(Ta(t,n,i))}catch(t){return wa(t)}}var Ea=function(){function t(){this.if=0,this.ef=0,this.C={rf:[],uf:void 0},this.sf=this.C,this.if=0,this.ef=0}return v.defineProperty(t.prototype,"length",{get:function(){return this.ef},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var n=this.sf,i=n;16383===n.rf.length&&(i={rf:[],uf:void 0}),n.rf.push(t),i!==n&&(this.sf=i,n.uf=i),++this.ef},t.prototype.shift=function(){var t=this.C,n=t,i=this.if,e=i+1,r=t.rf,u=r[i];return 16384===e&&(n=t.uf,e=0),--this.ef,this.if=e,t!==n&&(this.C=n),r[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.if,i=this.C,e=i.rf;!(n===e.length&&void 0===i.uf||n===e.length&&(n=0,0===(e=(i=i.uf).rf).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.C,n=this.if;return t.rf[n]},t}();function Ra(t,n){t.cf=n,n.af=t,"readable"===n.o?Na(t):"closed"===n.o?function(t){Na(t),Pa(t)}(t):Ca(t,n.ff)}function Ia(t,n){return Ov(t.cf,n)}function Da(t){"readable"===t.cf.o?Aa(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Ca(t,n)}(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")),t.cf.af=void 0,t.cf=void 0}function Oa(t){return new h("Cannot "+t+" a stream using a released reader")}function Na(t){t.Ko=da(function(n,i){t.hf=n,t.vf=i})}function Ca(t,n){Na(t),Aa(t,n)}function Aa(t,n){void 0!==t.vf&&(_a(t.Ko),t.vf(n),t.hf=void 0,t.vf=void 0)}function Pa(t){void 0!==t.hf&&(t.hf(void 0),t.hf=void 0,t.vf=void 0)}var xa=ra("[[AbortSteps]]"),La=ra("[[ErrorSteps]]"),Ba=ra("[[CancelSteps]]"),Ma=ra("[[PullSteps]]"),Fa=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Ua=d.trunc||function(t){return t<0?d.ceil(t):d.floor(t)};function Va(t,n){if(void 0!==t&&("object"!=typeof(i=t)&&"function"!=typeof i))throw new h(n+" is not an object.");var i}function Ha(t,n){if("function"!=typeof t)throw new h(n+" is not a function.")}function Wa(t,n){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new h(n+" is not an object.")}function qa(t,n,i){if(void 0===t)throw new h("Parameter "+n+" is required in '"+i+"'.")}function za(t,n,i){if(void 0===t)throw new h(n+" is required in '"+i+"'.")}function ja(t){return Number(t)}function $a(t){return 0===t?0:t}function Xa(t,n){var i=Number.MAX_SAFE_INTEGER,e=Number(t);if(e=$a(e),!Fa(e))throw new h(n+" is not a finite number");if((e=function(t){return $a(Ua(t))}(e))<0||e>i)throw new h(n+" is outside the accepted range of 0 to "+i+", inclusive");return Fa(e)&&0!==e?e:0}function Ga(t,n){if(!Iv(t))throw new h(n+" is not a ReadableStream.")}function Ya(t){return new ef(t)}function Ka(t,n){t.af.df.push(n)}function Ja(t,n,i){var e=t.af.df.shift();i?e.lf():e.wf(n)}function Qa(t){return t.af.df.length}function Za(t){var n=t.af;return void 0!==n&&!!rf(n)}var tf,nf,ef=function(){function t(t){if(qa(t,1,"ReadableStreamDefaultReader"),Ga(t,"First parameter"),Dv(t))throw new h("This stream has already been locked for exclusive reading by another reader");Ra(this,t),this.df=new Ea}return v.defineProperty(t.prototype,"closed",{get:function(){return rf(this)?this.Ko:wa(sf("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),rf(this)?void 0===this.cf?wa(Oa("cancel")):Ia(this,t):wa(sf("cancel"))},t.prototype.read=function(){if(!rf(this))return wa(sf("read"));if(void 0===this.cf)return wa(Oa("read from"));var t,n,i=da(function(i,e){t=i,n=e});return uf(this,{wf:function(n){return t({value:n,done:!1})},lf:function(){return t({value:void 0,done:!0})},gf:function(t){return n(t)}}),i},t.prototype.releaseLock=function(){if(!rf(this))throw sf("releaseLock");if(void 0!==this.cf){if(this.df.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");Da(this)}},t}();function rf(t){return!!oa(t)&&(!!v.prototype.hasOwnProperty.call(t,"df")&&t instanceof ef)}function uf(t,n){var i=t.cf;i.yf=!0,"closed"===i.o?n.lf():"errored"===i.o?n.gf(i.ff):i.mf[Ma](n)}function sf(t){return new h("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}v.defineProperties(ef.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof ra.toStringTag&&v.defineProperty(ef.prototype,ra.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof ra.asyncIterator&&((tf={})[ra.asyncIterator]=function(){return this},nf=tf,v.defineProperty(nf,ra.asyncIterator,{enumerable:!1}));var of=function(){function t(t,n){this.bf=void 0,this.pf=!1,this.af=t,this._f=n}return t.prototype.next=function(){var t=this,n=function(){return t.kf()};return this.bf=this.bf?pa(this.bf,n,n):n(),this.bf},t.prototype.return=function(t){var n=this,i=function(){return n.Tf(t)};return this.bf?pa(this.bf,i,i):i()},t.prototype.kf=function(){var t=this;if(this.pf)return j.resolve({value:void 0,done:!0});var n,i,e=this.af;if(void 0===e.cf)return wa(Oa("iterate"));var r=da(function(t,e){n=t,i=e});return uf(e,{wf:function(i){t.bf=void 0,ka(function(){return n({value:i,done:!1})})},lf:function(){t.bf=void 0,t.pf=!0,Da(e),n({value:void 0,done:!0})},gf:function(n){t.bf=void 0,t.pf=!0,Da(e),i(n)}}),r},t.prototype.Tf=function(t){if(this.pf)return j.resolve({value:t,done:!0});this.pf=!0;var n=this.af;if(void 0===n.cf)return wa(Oa("finish iterating"));if(!this._f){var i=Ia(n,t);return Da(n),pa(i,function(){return{value:t,done:!0}})}return Da(n),la({value:t,done:!0})},t}(),cf={next:function(){return af(this)?this.Sf.next():wa(ff("next"))},return:function(t){return af(this)?this.Sf.return(t):wa(ff("return"))}};function af(t){if(!oa(t))return!1;if(!v.prototype.hasOwnProperty.call(t,"Sf"))return!1;try{return t.Sf instanceof of}catch(t){return!1}}function ff(t){return new h("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}void 0!==nf&&v.setPrototypeOf(cf,nf);var hf=Number.isNaN||function(t){return t!=t};function vf(t){return t.slice()}function df(t,n,i,e,r){new y(t).set(new y(i,e,r),n)}function lf(t){return t}function wf(t,n,i){if(t.slice)return t.slice(n,i);var e=i-n,r=new ArrayBuffer(e);return df(r,0,t,n,e),r}function gf(t){var n=wf(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new y(n)}function yf(t){var n=t.Ef.shift();return t.Rf-=n.size,t.Rf<0&&(t.Rf=0),n.value}function mf(t,n,i){if("number"!=typeof(e=i)||hf(e)||e<0||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var e;t.Ef.push({value:n,size:i}),t.Rf+=i}function bf(t){t.Ef=new Ea,t.Rf=0}var pf=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"view",{get:function(){if(!Tf(this))throw jf("view");return this.If},enumerable:!1,configurable:!0}),t.prototype.respond=function(t){if(!Tf(this))throw jf("respond");if(qa(t,1,"respond"),t=Xa(t,"First parameter"),void 0===this.Df)throw new h("This BYOB request has been invalidated");this.If.buffer,Wf(this.Df,t)},t.prototype.respondWithNewView=function(t){if(!Tf(this))throw jf("respondWithNewView");if(qa(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new h("You can only respond with array buffer views");if(void 0===this.Df)throw new h("This BYOB request has been invalidated");t.buffer,qf(this.Df,t)},t}();v.defineProperties(pf.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof ra.toStringTag&&v.defineProperty(pf.prototype,ra.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var _f=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"byobRequest",{get:function(){if(!kf(this))throw $f("byobRequest");return Vf(this)},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!kf(this))throw $f("desiredSize");return Hf(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!kf(this))throw $f("close");if(this.Of)throw new h("The stream has already been closed; do not close it again!");var t=this.Nf.o;if("readable"!==t)throw new h("The stream (in "+t+" state) is not in the readable state and cannot be closed");Mf(this)},t.prototype.enqueue=function(t){if(!kf(this))throw $f("enqueue");if(qa(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new h("chunk must be an array buffer view");if(0===t.byteLength)throw new h("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new h("chunk's buffer must have non-zero byteLength");if(this.Of)throw new h("stream is closed or draining");var n=this.Nf.o;if("readable"!==n)throw new h("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");Ff(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!kf(this))throw $f("error");Uf(this,t)},t.prototype[Ba]=function(t){Ef(this),bf(this);var n=this.Cf(t);return Bf(this),n},t.prototype[Ma]=function(t){var n=this.Nf;if(this.Rf>0){var i=this.Ef.shift();this.Rf-=i.byteLength,Cf(this);var e=new y(i.buffer,i.byteOffset,i.byteLength);t.wf(e)}else{var r=this.Af;if(void 0!==r){var u=void 0;try{u=new ArrayBuffer(r)}catch(n){return void t.gf(n)}var s={buffer:u,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:y,readerType:"default"};this.Pf.push(s)}Ka(n,t),Sf(this)}},t}();function kf(t){return!!oa(t)&&(!!v.prototype.hasOwnProperty.call(t,"Nf")&&t instanceof _f)}function Tf(t){return!!oa(t)&&(!!v.prototype.hasOwnProperty.call(t,"Df")&&t instanceof pf)}function Sf(t){(function(t){var n=t.Nf;if("readable"!==n.o)return!1;if(t.Of)return!1;if(!t.xf)return!1;if(Za(n)&&Qa(n)>0)return!0;if(Kf(n)&&Yf(n)>0)return!0;if(Hf(t)>0)return!0;return!1})(t)&&(t.Lf?t.Bf=!0:(t.Lf=!0,ya(t.Mf(),function(){t.Lf=!1,t.Bf&&(t.Bf=!1,Sf(t))},function(n){Uf(t,n)})))}function Ef(t){Af(t),t.Pf=new Ea}function Rf(t,n){var i=!1;"closed"===t.o&&(i=!0);var e=If(n);"default"===n.readerType?Ja(t,e,i):function(t,n,i){var e=t.af.Ff.shift();i?e.lf(n):e.wf(n)}(t,e,i)}function If(t){var n=t.bytesFilled,i=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,n/i)}function Df(t,n,i,e){t.Ef.push({buffer:n,byteOffset:i,byteLength:e}),t.Rf+=e}function Of(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=d.min(t.Rf,n.byteLength-n.bytesFilled),u=n.bytesFilled+r,s=u-u%i,o=r,c=!1;s>e&&(o=s-n.bytesFilled,c=!0);for(var a=t.Ef;o>0;){var f=a.peek(),h=d.min(o,f.byteLength),v=n.byteOffset+n.bytesFilled;df(n.buffer,v,f.buffer,f.byteOffset,h),f.byteLength===h?a.shift():(f.byteOffset+=h,f.byteLength-=h),t.Rf-=h,Nf(t,h,n),o-=h}return c}function Nf(t,n,i){i.bytesFilled+=n}function Cf(t){0===t.Rf&&t.Of?(Bf(t),Nv(t.Nf)):Sf(t)}function Af(t){null!==t.Uf&&(t.Uf.Df=void 0,t.Uf.If=null,t.Uf=null)}function Pf(t){for(;t.Pf.length>0;){if(0===t.Rf)return;var n=t.Pf.peek();Of(t,n)&&(Lf(t),Rf(t.Nf,n))}}function xf(t,n){var i=t.Pf.peek();Af(t),"closed"===t.Nf.o?function(t,n){var i=t.Nf;if(Kf(i))for(;Yf(i)>0;)Rf(i,Lf(t))}(t):function(t,n,i){if(Nf(0,n,i),!(i.bytesFilled<i.elementSize)){Lf(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,u=wf(i.buffer,r-e,r);Df(t,u,0,u.byteLength)}i.bytesFilled-=e,Rf(t.Nf,i),Pf(t)}}(t,n,i),Sf(t)}function Lf(t){return t.Pf.shift()}function Bf(t){t.Mf=void 0,t.Cf=void 0}function Mf(t){var n=t.Nf;if(!t.Of&&"readable"===n.o)if(t.Rf>0)t.Of=!0;else{if(t.Pf.length>0)if(t.Pf.peek().bytesFilled>0){var i=new h("Insufficient bytes to fill elements in the given buffer");throw Uf(t,i),i}Bf(t),Nv(n)}}function Ff(t,n){var i=t.Nf;if(!t.Of&&"readable"===i.o){var e=n.buffer,r=n.byteOffset,u=n.byteLength,s=lf(e);if(t.Pf.length>0){var o=t.Pf.peek();o.buffer,0,o.buffer=lf(o.buffer)}if(Af(t),Za(i))if(0===Qa(i))Df(t,s,r,u);else t.Pf.length>0&&Lf(t),Ja(i,new y(s,r,u),!1);else Kf(i)?(Df(t,s,r,u),Pf(t)):Df(t,s,r,u);Sf(t)}}function Uf(t,n){var i=t.Nf;"readable"===i.o&&(Ef(t),bf(t),Bf(t),Cv(i,n))}function Vf(t){if(null===t.Uf&&t.Pf.length>0){var n=t.Pf.peek(),i=new y(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),e=v.create(pf.prototype);!function(t,n,i){t.Df=n,t.If=i}(e,t,i),t.Uf=e}return t.Uf}function Hf(t){var n=t.Nf.o;return"errored"===n?null:"closed"===n?0:t.Vf-t.Rf}function Wf(t,n){var i=t.Pf.peek();if("closed"===t.Nf.o){if(0!==n)throw new h("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw new h("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=lf(i.buffer),xf(t,n)}function qf(t,n){var i=t.Pf.peek();if("closed"===t.Nf.o){if(0!==n.byteLength)throw new h("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw new h("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+n.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var e=n.byteLength;i.buffer=lf(n.buffer),xf(t,e)}function zf(t,n,i,e,r,u,s){n.Nf=t,n.Bf=!1,n.Lf=!1,n.Uf=null,n.Ef=n.Rf=void 0,bf(n),n.Of=!1,n.xf=!1,n.Vf=u,n.Mf=e,n.Cf=r,n.Af=s,n.Pf=new Ea,t.mf=n,ya(la(i()),function(){n.xf=!0,Sf(n)},function(t){Uf(n,t)})}function jf(t){return new h("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function $f(t){return new h("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Xf(t){return new Jf(t)}function Gf(t,n){t.af.Ff.push(n)}function Yf(t){return t.af.Ff.length}function Kf(t){var n=t.af;return void 0!==n&&!!Qf(n)}v.defineProperties(_f.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof ra.toStringTag&&v.defineProperty(_f.prototype,ra.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Jf=function(){function t(t){if(qa(t,1,"ReadableStreamBYOBReader"),Ga(t,"First parameter"),Dv(t))throw new h("This stream has already been locked for exclusive reading by another reader");if(!kf(t.mf))throw new h("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Ra(this,t),this.Ff=new Ea}return v.defineProperty(t.prototype,"closed",{get:function(){return Qf(this)?this.Ko:wa(th("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Qf(this)?void 0===this.cf?wa(Oa("cancel")):Ia(this,t):wa(th("cancel"))},t.prototype.read=function(t){if(!Qf(this))return wa(th("read"));if(!ArrayBuffer.isView(t))return wa(new h("view must be an array buffer view"));if(0===t.byteLength)return wa(new h("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return wa(new h("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this.cf)return wa(Oa("read from"));var n,i,e=da(function(t,e){n=t,i=e});return Zf(this,t,{wf:function(t){return n({value:t,done:!1})},lf:function(t){return n({value:t,done:!0})},gf:function(t){return i(t)}}),e},t.prototype.releaseLock=function(){if(!Qf(this))throw th("releaseLock");if(void 0!==this.cf){if(this.Ff.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");Da(this)}},t}();function Qf(t){return!!oa(t)&&(!!v.prototype.hasOwnProperty.call(t,"Ff")&&t instanceof Jf)}function Zf(t,n,i){var e=t.cf;e.yf=!0,"errored"===e.o?i.gf(e.ff):function(t,n,i){var e=t.Nf,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var u=n.constructor,s=lf(n.buffer),o={buffer:s,bufferByteLength:s.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,viewConstructor:u,readerType:"byob"};if(t.Pf.length>0)return t.Pf.push(o),void Gf(e,i);if("closed"!==e.o){if(t.Rf>0){if(Of(t,o)){var c=If(o);return Cf(t),void i.wf(c)}if(t.Of){var a=new h("Insufficient bytes to fill elements in the given buffer");return Uf(t,a),void i.gf(a)}}t.Pf.push(o),Gf(e,i),Sf(t)}else{var f=new u(o.buffer,o.byteOffset,0);i.lf(f)}}(e.mf,n,i)}function th(t){return new h("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function nh(t,n){var i=t.highWaterMark;if(void 0===i)return n;if(hf(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function ih(t){var n=t.size;return n||function(){return 1}}function eh(t,n){Va(t,n);var i=null==t?void 0:t.highWaterMark,e=null==t?void 0:t.size;return{highWaterMark:void 0===i?void 0:ja(i),size:void 0===e?void 0:rh(e,n+" has member 'size' that")}}function rh(t,n){return Ha(t,n),function(n){return ja(t(n))}}function uh(t,n,i){return Ha(t,i),function(i){return Sa(t,n,[i])}}function sh(t,n,i){return Ha(t,i),function(){return Sa(t,n,[])}}function oh(t,n,i){return Ha(t,i),function(i){return Ta(t,n,[i])}}function ch(t,n,i){return Ha(t,i),function(i,e){return Sa(t,n,[i,e])}}function ah(t,n){if(!lh(t))throw new h(n+" is not a WritableStream.")}v.defineProperties(Jf.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof ra.toStringTag&&v.defineProperty(Jf.prototype,ra.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var fh="function"==typeof AbortController;var hh=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:Wa(t,"First parameter");var i=eh(n,"Second parameter"),e=function(t,n){Va(t,n);var i=null==t?void 0:t.abort,e=null==t?void 0:t.close,r=null==t?void 0:t.start,u=null==t?void 0:t.type,s=null==t?void 0:t.write;return{abort:void 0===i?void 0:uh(i,t,n+" has member 'abort' that"),close:void 0===e?void 0:sh(e,t,n+" has member 'close' that"),start:void 0===r?void 0:oh(r,t,n+" has member 'start' that"),write:void 0===s?void 0:ch(s,t,n+" has member 'write' that"),type:u}}(t,"First parameter");if(dh(this),void 0!==e.type)throw new RangeError("Invalid type is specified");var r=ih(i);!function(t,n,i,e){var r=v.create(Ah.prototype),u=function(){},s=function(){return la(void 0)},o=function(){return la(void 0)},c=function(){return la(void 0)};void 0!==n.start&&(u=function(){return n.start(r)});void 0!==n.write&&(s=function(t){return n.write(t,r)});void 0!==n.close&&(o=function(){return n.close()});void 0!==n.abort&&(c=function(t){return n.abort(t)});xh(t,r,u,s,o,c,i,e)}(this,e,nh(i,1),r)}return v.defineProperty(t.prototype,"locked",{get:function(){if(!lh(this))throw Hh("locked");return wh(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),lh(this)?wh(this)?wa(new h("Cannot abort a stream that already has a writer")):gh(this,t):wa(Hh("abort"))},t.prototype.close=function(){return lh(this)?wh(this)?wa(new h("Cannot close a stream that already has a writer")):_h(this)?wa(new h("Cannot close an already-closing stream")):yh(this):wa(Hh("close"))},t.prototype.getWriter=function(){if(!lh(this))throw Hh("getWriter");return vh(this)},t}();function vh(t){return new Sh(t)}function dh(t){t.o="writable",t.ff=void 0,t.Qu=void 0,t.Hf=void 0,t.Wf=new Ea,t.qf=void 0,t.zf=void 0,t.jf=void 0,t.$f=void 0,t.Xf=!1}function lh(t){return!!oa(t)&&(!!v.prototype.hasOwnProperty.call(t,"Hf")&&t instanceof hh)}function wh(t){return void 0!==t.Qu}function gh(t,n){var i;if("closed"===t.o||"errored"===t.o)return la(void 0);t.Hf.Gf=n,null===(i=t.Hf.Yf)||void 0===i||i.abort();var e=t.o;if("closed"===e||"errored"===e)return la(void 0);if(void 0!==t.$f)return t.$f.Kf;var r=!1;"erroring"===e&&(r=!0,n=void 0);var u=da(function(i,e){t.$f={Kf:void 0,xu:i,Lu:e,Jf:n,Qf:r}});return t.$f.Kf=u,r||bh(t,n),u}function yh(t){var n=t.o;if("closed"===n||"errored"===n)return wa(new h("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=da(function(n,i){var e={xu:n,Lu:i};t.zf=e}),r=t.Qu;return void 0!==r&&t.Xf&&"writable"===n&&Zh(r),mf(i=t.Hf,Ch,0),Mh(i),e}function mh(t,n){"writable"!==t.o?ph(t):bh(t,n)}function bh(t,n){var i=t.Hf;t.o="erroring",t.ff=n;var e=t.Qu;void 0!==e&&Dh(e,n),!function(t){if(void 0===t.qf&&void 0===t.jf)return!1;return!0}(t)&&i.xf&&ph(t)}function ph(t){t.o="errored",t.Hf[La]();var n=t.ff;if(t.Wf.forEach(function(t){t.Lu(n)}),t.Wf=new Ea,void 0!==t.$f){var i=t.$f;if(t.$f=void 0,i.Qf)return i.Lu(n),void kh(t);ya(t.Hf[xa](i.Jf),function(){i.xu(),kh(t)},function(n){i.Lu(n),kh(t)})}else kh(t)}function _h(t){return void 0!==t.zf||void 0!==t.jf}function kh(t){void 0!==t.zf&&(t.zf.Lu(t.ff),t.zf=void 0);var n=t.Qu;void 0!==n&&Xh(n,t.ff)}function Th(t,n){var i=t.Qu;void 0!==i&&n!==t.Xf&&(n?function(t){Yh(t)}(i):Zh(i)),t.Xf=n}v.defineProperties(hh.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof ra.toStringTag&&v.defineProperty(hh.prototype,ra.toStringTag,{value:"WritableStream",configurable:!0});var Sh=function(){function t(t){if(qa(t,1,"WritableStreamDefaultWriter"),ah(t,"First parameter"),wh(t))throw new h("This stream has already been locked for exclusive writing by another writer");this.Zf=t,t.Qu=this;var n,i=t.o;if("writable"===i)!_h(t)&&t.Xf?Yh(this):Jh(this),jh(this);else if("erroring"===i)Kh(this,t.ff),jh(this);else if("closed"===i)Jh(this),jh(n=this),Gh(n);else{var e=t.ff;Kh(this,e),$h(this,e)}}return v.defineProperty(t.prototype,"closed",{get:function(){return Eh(this)?this.Ko:wa(qh("closed"))},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Eh(this))throw qh("desiredSize");if(void 0===this.Zf)throw zh("desiredSize");return function(t){var n=t.Zf,i=n.o;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Bh(n.Hf)}(this)},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"ready",{get:function(){return Eh(this)?this.th:wa(qh("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),Eh(this)?void 0===this.Zf?wa(zh("abort")):function(t,n){return gh(t.Zf,n)}(this,t):wa(qh("abort"))},t.prototype.close=function(){if(!Eh(this))return wa(qh("close"));var t=this.Zf;return void 0===t?wa(zh("close")):_h(t)?wa(new h("Cannot close an already-closing stream")):Rh(this)},t.prototype.releaseLock=function(){if(!Eh(this))throw qh("releaseLock");void 0!==this.Zf&&Oh(this)},t.prototype.write=function(t){return void 0===t&&(t=void 0),Eh(this)?void 0===this.Zf?wa(zh("write to")):Nh(this,t):wa(qh("write"))},t}();function Eh(t){return!!oa(t)&&(!!v.prototype.hasOwnProperty.call(t,"Zf")&&t instanceof Sh)}function Rh(t){return yh(t.Zf)}function Ih(t,n){"pending"===t.nh?Xh(t,n):function(t,n){$h(t,n)}(t,n)}function Dh(t,n){"pending"===t.ih?Qh(t,n):function(t,n){Kh(t,n)}(t,n)}function Oh(t){var n=t.Zf,i=new h("Writer was released and can no longer be used to monitor the stream's closedness");Dh(t,i),Ih(t,i),n.Qu=void 0,t.Zf=void 0}function Nh(t,n){var i=t.Zf,e=i.Hf,r=function(t,n){try{return t.eh(n)}catch(n){return Fh(t,n),1}}(e,n);if(i!==t.Zf)return wa(zh("write to"));var u=i.o;if("errored"===u)return wa(i.ff);if(_h(i)||"closed"===u)return wa(new h("The stream is closing or closed and cannot be written to"));if("erroring"===u)return wa(i.ff);var s=function(t){return da(function(n,i){var e={xu:n,Lu:i};t.Wf.push(e)})}(i);return function(t,n,i){try{mf(t,n,i)}catch(n){return void Fh(t,n)}var e=t.rh;if(!_h(e)&&"writable"===e.o){var r=Uh(t);Th(e,r)}Mh(t)}(e,n,r),s}v.defineProperties(Sh.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof ra.toStringTag&&v.defineProperty(Sh.prototype,ra.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var Ch={},Ah=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"abortReason",{get:function(){if(!Ph(this))throw Wh("abortReason");return this.Gf},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"signal",{get:function(){if(!Ph(this))throw Wh("signal");if(void 0===this.Yf)throw new h("WritableStreamDefaultController.prototype.signal is not supported");return this.Yf.signal},enumerable:!1,configurable:!0}),t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Ph(this))throw Wh("error");"writable"===this.rh.o&&Vh(this,t)},t.prototype[xa]=function(t){var n=this.uh(t);return Lh(this),n},t.prototype[La]=function(){bf(this)},t}();function Ph(t){return!!oa(t)&&(!!v.prototype.hasOwnProperty.call(t,"rh")&&t instanceof Ah)}function xh(t,n,i,e,r,u,s,o){n.rh=t,t.Hf=n,n.Ef=void 0,n.Rf=void 0,bf(n),n.Gf=void 0,n.Yf=function(){if(fh)return new AbortController}(),n.xf=!1,n.eh=o,n.Vf=s,n.sh=e,n.oh=r,n.uh=u;var c=Uh(n);Th(t,c),ya(la(i()),function(){n.xf=!0,Mh(n)},function(i){n.xf=!0,mh(t,i)})}function Lh(t){t.sh=void 0,t.oh=void 0,t.uh=void 0,t.eh=void 0}function Bh(t){return t.Vf-t.Rf}function Mh(t){var n=t.rh;if(t.xf&&void 0===n.qf)if("erroring"!==n.o){if(0!==t.Ef.length){var i=t.Ef.peek().value;i===Ch?function(t){var n=t.rh;(function(t){t.jf=t.zf,t.zf=void 0})(n),yf(t);var i=t.oh();Lh(t),ya(i,function(){!function(t){t.jf.xu(void 0),t.jf=void 0,"erroring"===t.o&&(t.ff=void 0,void 0!==t.$f&&(t.$f.xu(),t.$f=void 0)),t.o="closed";var n=t.Qu;void 0!==n&&Gh(n)}(n)},function(t){!function(t,n){t.jf.Lu(n),t.jf=void 0,void 0!==t.$f&&(t.$f.Lu(n),t.$f=void 0),mh(t,n)}(n,t)})}(t):function(t,n){var i=t.rh;(function(t){t.qf=t.Wf.shift()})(i),ya(t.sh(n),function(){!function(t){t.qf.xu(void 0),t.qf=void 0}(i);var n=i.o;if(yf(t),!_h(i)&&"writable"===n){var e=Uh(t);Th(i,e)}Mh(t)},function(n){"writable"===i.o&&Lh(t),function(t,n){t.qf.Lu(n),t.qf=void 0,mh(t,n)}(i,n)})}(t,i)}}else ph(n)}function Fh(t,n){"writable"===t.rh.o&&Vh(t,n)}function Uh(t){return Bh(t)<=0}function Vh(t,n){var i=t.rh;Lh(t),bh(i,n)}function Hh(t){return new h("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Wh(t){return new h("WritableStreamDefaultController.prototype."+t+" can only be used on a WritableStreamDefaultController")}function qh(t){return new h("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function zh(t){return new h("Cannot "+t+" a stream using a released writer")}function jh(t){t.Ko=da(function(n,i){t.hf=n,t.vf=i,t.nh="pending"})}function $h(t,n){jh(t),Xh(t,n)}function Xh(t,n){void 0!==t.vf&&(_a(t.Ko),t.vf(n),t.hf=void 0,t.vf=void 0,t.nh="rejected")}function Gh(t){void 0!==t.hf&&(t.hf(void 0),t.hf=void 0,t.vf=void 0,t.nh="resolved")}function Yh(t){t.th=da(function(n,i){t.ah=n,t.fh=i}),t.ih="pending"}function Kh(t,n){Yh(t),Qh(t,n)}function Jh(t){Yh(t),Zh(t)}function Qh(t,n){void 0!==t.fh&&(_a(t.th),t.fh(n),t.ah=void 0,t.fh=void 0,t.ih="rejected")}function Zh(t){void 0!==t.ah&&(t.ah(void 0),t.ah=void 0,t.fh=void 0,t.ih="fulfilled")}v.defineProperties(Ah.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof ra.toStringTag&&v.defineProperty(Ah.prototype,ra.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var tv="undefined"!=typeof DOMException?DOMException:void 0;var nv,iv=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(tv)?tv:((nv=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),v.defineProperty(nv.prototype,"constructor",{value:nv,writable:!0,configurable:!0}),nv);function ev(t,n,i,e,r,u){var s=Ya(t),o=vh(n);t.yf=!0;var c=!1,a=la(void 0);return da(function(f,v){var d,l,w,g;if(void 0!==u){if(d=function(){var i=new iv("Aborted","AbortError"),u=[];e||u.push(function(){return"writable"===n.o?gh(n,i):la(void 0)}),r||u.push(function(){return"readable"===t.o?Ov(t,i):la(void 0)}),p(function(){return j.all(u.map(function(t){return t()}))},!0,i)},u.aborted)return void d();u.addEventListener("abort",d)}if(b(t,s.Ko,function(t){e?_(!0,t):p(function(){return gh(n,t)},!0,t)}),b(n,o.Ko,function(n){r?_(!0,n):p(function(){return Ov(t,n)},!0,n)}),l=t,w=s.Ko,g=function(){i?_():p(function(){return function(t){var n=t.Zf,i=n.o;return _h(n)||"closed"===i?la(void 0):"errored"===i?wa(n.ff):Rh(t)}(o)})},"closed"===l.o?g():ma(w,g),_h(n)||"closed"===n.o){var y=new h("the destination writable stream closed before all data could be piped to it");r?_(!0,y):p(function(){return Ov(t,y)},!0,y)}function m(){var t=a;return ga(a,function(){return t!==a?m():void 0})}function b(t,n,i){"errored"===t.o?i(t.ff):ba(n,i)}function p(t,i,e){function r(){ya(t(),function(){return k(i,e)},function(t){return k(!0,t)})}c||(c=!0,"writable"!==n.o||_h(n)?r():ma(m(),r))}function _(t,i){c||(c=!0,"writable"!==n.o||_h(n)?k(t,i):ma(m(),function(){return k(t,i)}))}function k(t,n){Oh(o),Da(s),void 0!==u&&u.removeEventListener("abort",d),t?v(n):f(void 0)}_a(da(function(t,n){!function i(e){e?t():ga(c?la(!0):ga(o.th,function(){return da(function(t,n){uf(s,{wf:function(n){a=ga(Nh(o,n),void 0,ua),t(!1)},lf:function(){return t(!0)},gf:n})})}),i,n)}(!1)}))})}var rv=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!uv(this))throw wv("desiredSize");return vv(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!uv(this))throw wv("close");if(!dv(this))throw new h("The stream is not in a state that permits close");av(this)},t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!uv(this))throw wv("enqueue");if(!dv(this))throw new h("The stream is not in a state that permits enqueue");return fv(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!uv(this))throw wv("error");hv(this,t)},t.prototype[Ba]=function(t){bf(this);var n=this.Cf(t);return cv(this),n},t.prototype[Ma]=function(t){var n=this.hh;if(this.Ef.length>0){var i=yf(this);this.Of&&0===this.Ef.length?(cv(this),Nv(n)):sv(this),t.wf(i)}else Ka(n,t),sv(this)},t}();function uv(t){return!!oa(t)&&(!!v.prototype.hasOwnProperty.call(t,"hh")&&t instanceof rv)}function sv(t){ov(t)&&(t.Lf?t.Bf=!0:(t.Lf=!0,ya(t.Mf(),function(){t.Lf=!1,t.Bf&&(t.Bf=!1,sv(t))},function(n){hv(t,n)})))}function ov(t){var n=t.hh;return!!dv(t)&&(!!t.xf&&(!!(Dv(n)&&Qa(n)>0)||vv(t)>0))}function cv(t){t.Mf=void 0,t.Cf=void 0,t.eh=void 0}function av(t){if(dv(t)){var n=t.hh;t.Of=!0,0===t.Ef.length&&(cv(t),Nv(n))}}function fv(t,n){if(dv(t)){var i=t.hh;if(Dv(i)&&Qa(i)>0)Ja(i,n,!1);else{var e=void 0;try{e=t.eh(n)}catch(n){throw hv(t,n),n}try{mf(t,n,e)}catch(n){throw hv(t,n),n}}sv(t)}}function hv(t,n){var i=t.hh;"readable"===i.o&&(bf(t),cv(t),Cv(i,n))}function vv(t){var n=t.hh.o;return"errored"===n?null:"closed"===n?0:t.Vf-t.Rf}function dv(t){var n=t.hh.o;return!t.Of&&"readable"===n}function lv(t,n,i,e,r,u,s){n.hh=t,n.Ef=void 0,n.Rf=void 0,bf(n),n.xf=!1,n.Of=!1,n.Bf=!1,n.Lf=!1,n.eh=s,n.Vf=u,n.Mf=e,n.Cf=r,t.mf=n,ya(la(i()),function(){n.xf=!0,sv(n)},function(t){hv(n,t)})}function wv(t){return new h("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function gv(t,n){return kf(t.mf)?function(t){var n,i,e,r,u,s=Ya(t),o=!1,c=!1,a=!1,f=!1,h=!1,v=da(function(t){u=t});function d(t){ba(t.Ko,function(n){t===s&&(Uf(e.mf,n),Uf(r.mf,n),f&&h||u(void 0))})}function l(){Qf(s)&&(Da(s),d(s=Ya(t)));var n={wf:function(n){ka(function(){c=!1,a=!1;var i=n,s=n;if(!f&&!h)try{s=gf(n)}catch(n){return Uf(e.mf,n),Uf(r.mf,n),void u(Ov(t,n))}f||Ff(e.mf,i),h||Ff(r.mf,s),o=!1,c?g():a&&y()})},lf:function(){o=!1,f||Mf(e.mf),h||Mf(r.mf),e.mf.Pf.length>0&&Wf(e.mf,0),r.mf.Pf.length>0&&Wf(r.mf,0),f&&h||u(void 0)},gf:function(){o=!1}};uf(s,n)}function w(n,i){rf(s)&&(Da(s),d(s=Xf(t)));var v=i?r:e,l=i?e:r,w={wf:function(n){ka(function(){c=!1,a=!1;var e=i?h:f,r=i?f:h;if(r)e||qf(v.mf,n);else{var s=void 0;try{s=gf(n)}catch(n){return Uf(v.mf,n),Uf(l.mf,n),void u(Ov(t,n))}e||qf(v.mf,n),Ff(l.mf,s)}o=!1,c?g():a&&y()})},lf:function(t){o=!1;var n=i?h:f,e=i?f:h;n||Mf(v.mf),e||Mf(l.mf),void 0!==t&&(n||qf(v.mf,t),!e&&l.mf.Pf.length>0&&Wf(l.mf,0)),n&&e||u(void 0)},gf:function(){o=!1}};Zf(s,n,w)}function g(){if(o)return c=!0,la(void 0);o=!0;var t=Vf(e.mf);return null===t?l():w(t.If,!1),la(void 0)}function y(){if(o)return a=!0,la(void 0);o=!0;var t=Vf(r.mf);return null===t?l():w(t.If,!0),la(void 0)}function m(){}return e=Ev(m,g,function(e){if(f=!0,n=e,h){var r=vf([n,i]),s=Ov(t,r);u(s)}return v}),r=Ev(m,y,function(e){if(h=!0,i=e,f){var r=vf([n,i]),s=Ov(t,r);u(s)}return v}),d(s),[e,r]}(t):function(t,n){var i,e,r,u,s,o=Ya(t),c=!1,a=!1,f=!1,h=!1,v=da(function(t){s=t});function d(){if(c)return a=!0,la(void 0);c=!0;var t={wf:function(t){ka(function(){a=!1;var n=t,i=t;f||fv(r.mf,n),h||fv(u.mf,i),c=!1,a&&d()})},lf:function(){c=!1,f||av(r.mf),h||av(u.mf),f&&h||s(void 0)},gf:function(){c=!1}};return uf(o,t),la(void 0)}function l(){}return r=Sv(l,d,function(n){if(f=!0,i=n,h){var r=vf([i,e]),u=Ov(t,r);s(u)}return v}),u=Sv(l,d,function(n){if(h=!0,e=n,f){var r=vf([i,e]),u=Ov(t,r);s(u)}return v}),ba(o.Ko,function(t){hv(r.mf,t),hv(u.mf,t),f&&h||s(void 0)}),[r,u]}(t)}function yv(t,n,i){return Ha(t,i),function(i){return Sa(t,n,[i])}}function mv(t,n,i){return Ha(t,i),function(i){return Sa(t,n,[i])}}function bv(t,n,i){return Ha(t,i),function(i){return Ta(t,n,[i])}}function pv(t,n){if("bytes"!==(t=""+t))throw new h(n+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function _v(t,n){if("byob"!==(t=""+t))throw new h(n+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function kv(t,n){Va(t,n);var i=null==t?void 0:t.preventAbort,e=null==t?void 0:t.preventCancel,r=null==t?void 0:t.preventClose,u=null==t?void 0:t.signal;return void 0!==u&&function(t,n){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new h(n+" is not an AbortSignal.")}(u,n+" has member 'signal' that"),{preventAbort:Boolean(i),preventCancel:Boolean(e),preventClose:Boolean(r),signal:u}}v.defineProperties(rv.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof ra.toStringTag&&v.defineProperty(rv.prototype,ra.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var Tv=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:Wa(t,"First parameter");var i=eh(n,"Second parameter"),e=function(t,n){Va(t,n);var i=t,e=null==i?void 0:i.autoAllocateChunkSize,r=null==i?void 0:i.cancel,u=null==i?void 0:i.pull,s=null==i?void 0:i.start,o=null==i?void 0:i.type;return{autoAllocateChunkSize:void 0===e?void 0:Xa(e,n+" has member 'autoAllocateChunkSize' that"),cancel:void 0===r?void 0:yv(r,i,n+" has member 'cancel' that"),pull:void 0===u?void 0:mv(u,i,n+" has member 'pull' that"),start:void 0===s?void 0:bv(s,i,n+" has member 'start' that"),type:void 0===o?void 0:pv(o,n+" has member 'type' that")}}(t,"First parameter");if(Rv(this),"bytes"===e.type){if(void 0!==i.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,n,i){var e=v.create(_f.prototype),r=function(){},u=function(){return la(void 0)},s=function(){return la(void 0)};void 0!==n.start&&(r=function(){return n.start(e)}),void 0!==n.pull&&(u=function(){return n.pull(e)}),void 0!==n.cancel&&(s=function(t){return n.cancel(t)});var o=n.autoAllocateChunkSize;if(0===o)throw new h("autoAllocateChunkSize must be greater than 0");zf(t,e,r,u,s,i,o)}(this,e,nh(i,0))}else{var r=ih(i);!function(t,n,i,e){var r=v.create(rv.prototype),u=function(){},s=function(){return la(void 0)},o=function(){return la(void 0)};void 0!==n.start&&(u=function(){return n.start(r)}),void 0!==n.pull&&(s=function(){return n.pull(r)}),void 0!==n.cancel&&(o=function(t){return n.cancel(t)}),lv(t,r,u,s,o,i,e)}(this,e,nh(i,1),r)}}return v.defineProperty(t.prototype,"locked",{get:function(){if(!Iv(this))throw Av("locked");return Dv(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Iv(this)?Dv(this)?wa(new h("Cannot cancel a stream that already has a reader")):Ov(this,t):wa(Av("cancel"))},t.prototype.getReader=function(t){if(void 0===t&&(t=void 0),!Iv(this))throw Av("getReader");return void 0===function(t,n){Va(t,n);var i=null==t?void 0:t.mode;return{mode:void 0===i?void 0:_v(i,n+" has member 'mode' that")}}(t,"First parameter").mode?Ya(this):Xf(this)},t.prototype.pipeThrough=function(t,n){if(void 0===n&&(n={}),!Iv(this))throw Av("pipeThrough");qa(t,1,"pipeThrough");var i=function(t,n){Va(t,n);var i=null==t?void 0:t.readable;za(i,"readable","ReadableWritablePair"),Ga(i,n+" has member 'readable' that");var e=null==t?void 0:t.writable;return za(e,"writable","ReadableWritablePair"),ah(e,n+" has member 'writable' that"),{readable:i,writable:e}}(t,"First parameter"),e=kv(n,"Second parameter");if(Dv(this))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(wh(i.writable))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return _a(ev(this,i.writable,e.preventClose,e.preventAbort,e.preventCancel,e.signal)),i.readable},t.prototype.pipeTo=function(t,n){if(void 0===n&&(n={}),!Iv(this))return wa(Av("pipeTo"));if(void 0===t)return wa("Parameter 1 is required in 'pipeTo'.");if(!lh(t))return wa(new h("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var i;try{i=kv(n,"Second parameter")}catch(t){return wa(t)}return Dv(this)?wa(new h("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):wh(t)?wa(new h("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ev(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)},t.prototype.tee=function(){if(!Iv(this))throw Av("tee");return vf(gv(this))},t.prototype.values=function(t){if(void 0===t&&(t=void 0),!Iv(this))throw Av("values");var n,i,e,r,u,s=function(t,n){Va(t,n);var i=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(i)}}(t,"First parameter");return n=this,i=s.preventCancel,e=Ya(n),r=new of(e,i),(u=v.create(cf)).Sf=r,u},t}();function Sv(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var u=v.create(Tv.prototype);return Rv(u),lv(u,v.create(rv.prototype),t,n,i,e,r),u}function Ev(t,n,i){var e=v.create(Tv.prototype);return Rv(e),zf(e,v.create(_f.prototype),t,n,i,0,void 0),e}function Rv(t){t.o="readable",t.af=void 0,t.ff=void 0,t.yf=!1}function Iv(t){return!!oa(t)&&(!!v.prototype.hasOwnProperty.call(t,"mf")&&t instanceof Tv)}function Dv(t){return void 0!==t.af}function Ov(t,n){if(t.yf=!0,"closed"===t.o)return la(void 0);if("errored"===t.o)return wa(t.ff);Nv(t);var i=t.af;return void 0!==i&&Qf(i)&&(i.Ff.forEach(function(t){t.lf(void 0)}),i.Ff=new Ea),pa(t.mf[Ba](n),ua)}function Nv(t){t.o="closed";var n=t.af;void 0!==n&&(Pa(n),rf(n)&&(n.df.forEach(function(t){t.lf()}),n.df=new Ea))}function Cv(t,n){t.o="errored",t.ff=n;var i=t.af;void 0!==i&&(Aa(i,n),rf(i)?(i.df.forEach(function(t){t.gf(n)}),i.df=new Ea):(i.Ff.forEach(function(t){t.gf(n)}),i.Ff=new Ea))}function Av(t){return new h("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function Pv(t,n){Va(t,n);var i=null==t?void 0:t.highWaterMark;return za(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ja(i)}}v.defineProperties(Tv.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof ra.toStringTag&&v.defineProperty(Tv.prototype,ra.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof ra.asyncIterator&&v.defineProperty(Tv.prototype,ra.asyncIterator,{value:Tv.prototype.values,writable:!0,configurable:!0});var xv=function(t){return t.byteLength};try{v.defineProperty(xv,"name",{value:"size",configurable:!0})}catch(tf){}var Lv=function(){function t(t){qa(t,1,"ByteLengthQueuingStrategy"),t=Pv(t,"First parameter"),this.vh=t.highWaterMark}return v.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!Mv(this))throw Bv("highWaterMark");return this.vh},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"size",{get:function(){if(!Mv(this))throw Bv("size");return xv},enumerable:!1,configurable:!0}),t}();function Bv(t){return new h("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function Mv(t){return!!oa(t)&&(!!v.prototype.hasOwnProperty.call(t,"vh")&&t instanceof Lv)}v.defineProperties(Lv.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof ra.toStringTag&&v.defineProperty(Lv.prototype,ra.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var Fv=function(){return 1};try{v.defineProperty(Fv,"name",{value:"size",configurable:!0})}catch(tf){}var Uv=function(){function t(t){qa(t,1,"CountQueuingStrategy"),t=Pv(t,"First parameter"),this.dh=t.highWaterMark}return v.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!Hv(this))throw Vv("highWaterMark");return this.dh},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"size",{get:function(){if(!Hv(this))throw Vv("size");return Fv},enumerable:!1,configurable:!0}),t}();function Vv(t){return new h("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function Hv(t){return!!oa(t)&&(!!v.prototype.hasOwnProperty.call(t,"dh")&&t instanceof Uv)}function Wv(t,n,i){return Ha(t,i),function(i){return Sa(t,n,[i])}}function qv(t,n,i){return Ha(t,i),function(i){return Ta(t,n,[i])}}function zv(t,n,i){return Ha(t,i),function(i,e){return Sa(t,n,[i,e])}}v.defineProperties(Uv.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof ra.toStringTag&&v.defineProperty(Uv.prototype,ra.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var jv=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===t&&(t=null);var e=eh(n,"Second parameter"),r=eh(i,"Third parameter"),u=function(t,n){Va(t,n);var i=null==t?void 0:t.flush,e=null==t?void 0:t.readableType,r=null==t?void 0:t.start,u=null==t?void 0:t.transform,s=null==t?void 0:t.writableType;return{flush:void 0===i?void 0:Wv(i,t,n+" has member 'flush' that"),readableType:e,start:void 0===r?void 0:qv(r,t,n+" has member 'start' that"),transform:void 0===u?void 0:zv(u,t,n+" has member 'transform' that"),writableType:s}}(t,"First parameter");if(void 0!==u.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==u.writableType)throw new RangeError("Invalid writableType specified");var s,o=nh(r,0),c=ih(r),a=nh(e,1),f=ih(e);!function(t,n,i,e,r,u){function s(){return n}t.lh=function(t,n,i,e,r,u){void 0===r&&(r=1),void 0===u&&(u=function(){return 1});var s=v.create(hh.prototype);return dh(s),xh(s,v.create(Ah.prototype),t,n,i,e,r,u),s}(s,function(n){return function(t,n){var i=t.wh;if(t.Xf){var e=t.gh;return pa(e,function(){var e=t.lh,r=e.o;if("erroring"===r)throw e.ff;return td(i,n)})}return td(i,n)}(t,n)},function(){return function(t){var n=t.yh,i=t.wh,e=i.mh();return Qv(i),pa(e,function(){if("errored"===n.o)throw n.ff;av(n.mf)},function(i){throw Xv(t,i),n.ff})}(t)},function(n){return function(t,n){return Xv(t,n),la(void 0)}(t,n)},i,e),t.yh=Sv(s,function(){return function(t){return Yv(t,!1),t.gh}(t)},function(n){return Gv(t,n),la(void 0)},r,u),t.Xf=void 0,t.gh=void 0,t.bh=void 0,Yv(t,!0),t.wh=void 0}(this,da(function(t){s=t}),a,f,o,c),function(t,n){var i=v.create(Kv.prototype),e=function(t){try{return Zv(i,t),la(void 0)}catch(t){return wa(t)}},r=function(){return la(void 0)};void 0!==n.transform&&(e=function(t){return n.transform(t,i)});void 0!==n.flush&&(r=function(){return n.flush(i)});!function(t,n,i,e){n.ph=t,t.wh=n,n._h=i,n.mh=e}(t,i,e,r)}(this,u),void 0!==u.start?s(u.start(this.wh)):s(void 0)}return v.defineProperty(t.prototype,"readable",{get:function(){if(!$v(this))throw id("readable");return this.yh},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"writable",{get:function(){if(!$v(this))throw id("writable");return this.lh},enumerable:!1,configurable:!0}),t}();function $v(t){return!!oa(t)&&(!!v.prototype.hasOwnProperty.call(t,"wh")&&t instanceof jv)}function Xv(t,n){hv(t.yh.mf,n),Gv(t,n)}function Gv(t,n){Qv(t.wh),Fh(t.lh.Hf,n),t.Xf&&Yv(t,!1)}function Yv(t,n){void 0!==t.gh&&t.bh(),t.gh=da(function(n){t.bh=n}),t.Xf=n}v.defineProperties(jv.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof ra.toStringTag&&v.defineProperty(jv.prototype,ra.toStringTag,{value:"TransformStream",configurable:!0});var Kv=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Jv(this))throw nd("desiredSize");return vv(this.ph.yh.mf)},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Jv(this))throw nd("enqueue");Zv(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Jv(this))throw nd("error");var n;n=t,Xv(this.ph,n)},t.prototype.terminate=function(){if(!Jv(this))throw nd("terminate");!function(t){var n=t.ph;av(n.yh.mf);var i=new h("TransformStream terminated");Gv(n,i)}(this)},t}();function Jv(t){return!!oa(t)&&(!!v.prototype.hasOwnProperty.call(t,"ph")&&t instanceof Kv)}function Qv(t){t._h=void 0,t.mh=void 0}function Zv(t,n){var i=t.ph,e=i.yh.mf;if(!dv(e))throw new h("Readable side is not in a state that permits enqueue");try{fv(e,n)}catch(t){throw Gv(i,t),i.yh.ff}(function(t){return!ov(t)})(e)!==i.Xf&&Yv(i,!0)}function td(t,n){return pa(t._h(n),void 0,function(n){throw Xv(t.ph,n),n})}function nd(t){return new h("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function id(t){return new h("TransformStream.prototype."+t+" can only be used on a TransformStream")}v.defineProperties(Kv.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof ra.toStringTag&&v.defineProperty(Kv.prototype,ra.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var ed,rd=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return vt(n,t),ft(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(An);function ud(t){return n=[t],new Tv({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function sd(t){return ud(new y(t))}function od(t,n){return function(t,n){var i=n,e=t.getReader(),r=new Ws,u=function(){s();var t=new gu;e.cancel(t).catch(Ft),r.Mu(t)},s=function(){i&&(i.Ur(u),i=void 0)};i&&(i.Ar?u():i.Fr(u));var o=[];return j.resolve(e.read()).then(function t(n){return n.done?(s(),j.resolve(o)):(o.push(n.value),j.resolve(e.read()).then(t))}).then(function(t){s(),r.Bu(t)},function(t){s(),r.Mu(t)}),r.Pu}(t,n).then(function(t){return Zu(t).buffer})}function cd(t,n){var i=n,e=new jv,r=e.readable,u=e.writable,s=u.getWriter(),o=function(){i&&i.qr()};return s.closed.then(o,o),t.then(function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(Ft)},function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(Ft)}),r}function ad(t){return Cs(new y(t))}function fd(t){return As(t).buffer}!function(t){t[t.Qa=0]="Qa",t[t.kh=1]="kh"}(ed||(ed={}));var hd="content-type",vd="text/plain;charset=UTF-8",dd=function(){function t(){}var n=t.prototype;return n.Th=function(t){return this.Sh(t).then(JSON.parse)},n.Eh=function(t,n){switch(t){case ta.Ka:return this.Rh(n);case ta.Ja:return this.Th(n);case ta.Qa:return this.Ih();case ta.si:return this.Sh(n);default:throw new h}},t}();function ld(t,n,i){if(t instanceof dd)return t;if(t instanceof Tv)return function(t,n){return new gd({mr:ed.Qa,Ih:t,Dh:wd(n)})}(t,i);var e=wd(i),r=j.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{mr:ta.si,Oh:t,Dh:n||vd};if(t instanceof ArrayBuffer||Ju(t))return{mr:ta.Ka,Oh:Td(t),Dh:n};if(Pt(t)||Nt(t))return{mr:ta.Ja,Oh:t,Dh:n};throw new h("Unsupported BodyInit type")}return{mr:ta.si,Oh:null,Dh:n}}(t,e)});return new gd({mr:ed.kh,Pu:r,Nh:n})}function wd(t){return(t.get(hd)||"").toLowerCase()}var gd=function(t){function n(n){var i;return(i=t.call(this)||this).Ch=!1,i.Ah=void 0,i.Ph=new Ws,i.Ph.Pu.catch(Ft),i.xh(n),i}vt(n,t);var i=n.prototype;return i.Lh=function(){return this.Ph.Pu},i.Sh=function(t){return this.Bh(yd,t)},i.Th=function(t){return this.Bh(bd,t)},i.Rh=function(t){return this.Bh(_d,t)},i.Ih=function(){return this.Mh((t=this.Ah).mr===ed.Qa?t.Ih:cd(t.Pu.then(kd).then(sd),t.Nh));var t},i.Bh=function(t,n){if(this.Ch)return j.reject(new h("Already used"));this.Ch=!0;var i=t(this.Ah,n);return this.Ph.Bu(i.then(Ft)),i},i.Mh=function(t){if(this.Ch)throw new h("Already used");if(t.locked)throw new h("Body stream is locked");this.Ch=!0;var n=new jv,i=j.resolve(t.pipeTo(n.writable));return this.Ph.Bu(i),n.readable},i.xh=function(t){this.Ah=t,t.mr===ed.kh&&t.Pu.catch(Ft)},i.Fh=function(){if(this.Ch)throw new h("Already used");var t=function(t){if(t.mr===ed.Qa){var n=t.Ih.tee(),i=n[0],e=n[1];return[{mr:t.mr,Ih:i,Dh:t.Dh},{mr:t.mr,Ih:e,Dh:t.Dh}]}var r=t.Nh.jr(),u=r[0],s=r[1];return[{mr:t.mr,Pu:t.Pu,Nh:u},{mr:t.mr,Pu:t.Pu,Nh:s}]}(this.Ah),i=t[0],e=t[1];return this.xh(i),new n(e)},ft(n,[{key:"Uh",get:function(){return this.Ch}}]),n}(dd);function yd(t,n){return t.mr===ed.Qa?od(t.Ih,n).then(ad):(n&&t.Nh.zr(n),ku(t.Pu.then(md),t.Nh))}function md(t){switch(t.mr){case ta.si:return j.resolve(t.Oh||"");case ta.Ka:return j.resolve(t.Oh).then(ad);case ta.Ja:return j.resolve(t.Oh).then(JSON.stringify)}}function bd(t,n){return t.mr===ed.Qa?yd(t,n).then(JSON.parse):(n&&t.Nh.zr(n),ku(t.Pu.then(pd),t.Nh))}function pd(t){return t.mr===ta.Ja?j.resolve(t.Oh):md(t).then(JSON.parse)}function _d(t,n){return t.mr===ed.Qa?od(t.Ih,n):(n&&t.Nh.zr(n),ku(t.Pu.then(kd),t.Nh))}function kd(t){switch(t.mr){case ta.Ka:return j.resolve(t.Oh);case ta.si:case ta.Ja:return md(t).then(fd)}}function Td(t){return t instanceof ArrayBuffer?t:Us(Ls(t)).buffer}function Sd(t){return t.Vh>=200&&t.Vh<=299||304===t.Vh}var Ed,Rd,Id,Dd,Od=function(t){function n(n,i){var e,r,u,s,o,c;i?(r=i.Hh,u=i.Wh,s=i.Vh,o=i.qh,c=i.zh):(r=[],u=ta.si,s=200,o="OK",c=!1);var a=n.jh,f=new na(n.Hh||r),h=n.Wh||u,v=n.$h||(i&&i.jh===a?i.$h:a.Xh),d=i?i.Gh:null,l=ld(void 0!==n.Li?n.Li:d,n.Nh||new wu,f);return(e=t.call(this,l)||this).Hh=void 0,e.jh=void 0,e.$h=void 0,e.Wh=void 0,e.Vh=void 0,e.qh=void 0,e.zh=void 0,e.Hh=f,e.jh=a,e.$h=v,e.Wh=h,e.Vh=void 0!==n.Vh?n.Vh:s,e.qh=void 0!==n.qh?String(n.qh):o,e.zh=n.zh||c,e}vt(n,t);var i=n.prototype;return i.Li=function(t){return this.Eh(this.Wh,t)},i.Du=function(){return new n({Li:this.Fh(),jh:this.jh},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Gh=void 0,i.Gh=n,i}vt(n,t);var i=n.prototype;return i.Lh=function(){return this.Gh.Lh()},i.Sh=function(t){return this.Gh.Sh(t)},i.Th=function(t){return this.Gh.Th(t)},i.Rh=function(t){return this.Gh.Rh(t)},i.Ih=function(){return this.Gh.Ih()},i.Fh=function(){return this.Gh.Fh()},ft(n,[{key:"Uh",get:function(){return this.Gh.Uh}}]),n}(dd));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Ed||(Ed={})),function(t){t.Yh="",t.Kh="manifest",t.Jh="segment",t.Qh="content-protection"}(Rd||(Rd={})),function(t){t.Yh="",t.Zh="initialization-segment",t.tv="fairplay-license",t.nv="fairplay-certificate",t.ev="widevine-license",t.rv="widevine-certificate",t.uv="playready-license",t.sv="clearkey-license",t.ov="aes128-key"}(Id||(Id={})),function(t){t.Yh="",t.cv="audio",t.av="video",t.si="text",t.fv="image"}(Dd||(Dd={}));var Nd=function(t,n){this.Oh=void 0,this.Hh=void 0,this.hv=void 0,this.Wh=void 0,this.vv=void 0,this.$r=void 0,this.mr=void 0,this.dv=void 0,this.lv=void 0,this.Xh=void 0,this.wv=void 0,this.gv=void 0;var i,e,r,u,s,o,c,a,f,h,v,d=t.Xh;n?(i=n.Oh,e=n.Hh,r=n.hv,u=n.Wh,s=n.vv,o=n.$r,c=n.mr,a=n.dv,f=n.lv,h=n.wv,v=n.gv):(i=null,e={},r=Ed.GET,u=ta.si,s=0,c=Rd.Yh,a=Id.Yh,f=Dd.Yh,h=!1),this.Xh=d,this.Oh=t.Oh||i,this.Hh=new na(t.Hh||e),this.hv=t.hv||r,this.Wh=t.Wh||u,this.vv=void 0!==t.vv?Number(t.vv)||0:s,this.$r=t.$r||o||(new wu).$r,this.mr=t.mr||c,this.dv=t.dv||a,this.lv=t.lv||f,this.wv=void 0!==t.wv?Boolean(t.wv):h,this.gv=t.gv||v},Cd=function(){function t(){}var n=t.prototype;return n.jh=function(t){var n=function(t){return new Od({Li:null,Hh:{},jh:t,$h:t.Xh,Wh:t.Wh,Vh:0,qh:Zc.Oa})}(new Nd(t));return j.resolve(n)},n.yv=function(t){},n.et=function(){},t}();var Ad=function(){function t(t,n){void 0===n&&(n=!0),this.mv=void 0,this.bv=void 0,this.mv=t,this.bv=n}var n=t.prototype;return n.jh=function(t){var n=this.pv(t);return this.mv.jh(n)},n.yv=function(t){return this.mv.yv(this._v(t))},n.pv=function(n){var i=new Nd(n);if(!this.bv){var e=t.kv(i.Xh);i=new Nd({Xh:e},i)}return i},n._v=function(n){var i=n.Xh;return this.bv||(i=t.kv(i)),{Xh:i,Oh:n.Oh}},t.kv=function(t){return st.Je&&jr(t,"http://")?t.replace(":","s:"):t},n.et=function(){this.mv.et()},ft(t,null,[{key:"Tv",get:function(){return t.Sv||(t.Sv=new t(new Cd)),t.Sv}}]),t}();function Pd(t,n){for(var i=0,e=v.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function xd(t,n){var i=st.je(t);return n&&!$r(i,"/")&&(i+="/"),i}Ad.Sv=void 0;var Ld,Bd=/cache:(.+)?(?=&|$)/,Md="http://webcache.googleusercontent.com/search?q=cache:";function Fd(t){if(!jr(t,Md))return"";var n=st.ze(t).search.match(Bd);return n&&n.length>1?n[1]:""}!function(t){t.Ev="HttpOpenError",t.Rv="HttpResponseError",t.Iv="HttpTimeoutError"}(Ld||(Ld={}));var Ud=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Dv=void 0,r.Dv=n,r}return vt(n,t),ft(n,[{key:"jh",get:function(){return this.Dv}}]),n}(An);var Vd=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Xh+". Invalid URL.",i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return Ld.Ev}}]),n}(Ud);var Hd=function(t){function n(n,i,e){var r;return(r=t.call(this,n.jh,null!=e?e:function(t){return"Error while loading "+t.jh.Xh+", status code "+t.Vh}(n),i)||this).Ov=void 0,r.Ov=n,r}return vt(n,t),ft(n,[{key:"name",get:function(){return Ld.Rv}},{key:"Nv",get:function(){return this.Ov}}]),n}(Ud);var Wd=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Xh+" timed out after "+t.vv+" seconds."}(n),i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return Ld.Iv}}]),n}(Ud),qd=function(t,n){return(qd=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function zd(t,n){function i(){this.constructor=t}qd(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}var jd="object"==typeof i?i:"object"==typeof t?t:"object"==typeof global?global:null;var $d=function(){var t=jd.Blob;if(t)try{return new t,function(t,n){return new jd.Blob(t,n)}}catch(t){}var n,i=jd.BlobBuilder||jd.WebKitBlobBuilder||jd.MozBlobBuilder||jd.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,u=t;r<u.length;r++){var s=u[r];e.append(s)}return e.getBlob(i&&i.type||"")}):null}(),Xd="function"==typeof Tv?Tv:void 0;function Gd(t){return t&&"function"==typeof t.getReader}function Yd(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Gd(i)}catch(t){return!1}}var Kd=function(){function t(t,n){this.af=t,this.Cv=n}return t.prototype.pull=function(t){var n=this;return this.af.read().then(function(i){n.Cv&&n.Cv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.af.cancel(t)},t}();function Jd(t,n){return n.constructor===t?n:new t(new Kd(n.getReader()),{highWaterMark:0})}var Qd=function(){function t(t,n){this.Av=t,this.Pv=n}return t.prototype.pull=function(t){return this.Av().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.Pv&&this.Pv(t)},t}();function Zd(t,n,i){return new t(new Qd(n,i),{highWaterMark:0})}var tl={searchParams:"URLSearchParams"in jd,iterable:"Symbol"in jd&&"iterator"in Symbol,blob:"FileReader"in jd&&!!$d,formData:"FormData"in jd,arrayBuffer:"ArrayBuffer"in jd,stream:Yd(Xd),streamRequest:"Request"in jd&&"body"in jd.Request.prototype,streamResponse:"Response"in jd&&"body"in jd.Response.prototype,abort:"AbortController"in jd&&"Request"in jd&&"signal"in jd.Request.prototype,encoding:"TextEncoder"in jd&&"TextDecoder"in jd,url:"URL"in jd&&function(t){try{return new jd.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in jd&&/Firefox\//.test(jd.navigator.userAgent)};function nl(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new h("Invalid character in header field name");return t}function il(t){return"string"!=typeof t&&(t=String(t)),t}function el(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return tl.iterable&&(n[Symbol.iterator]=function(){return n}),n}var rl=function(){function t(t){var n=this;this.ar={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return tl.iterable&&t&&t[Symbol.iterator]}(t)?t&&v.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=nl(t),n=il(n);var i=t.toLowerCase();if(this.ar.hasOwnProperty(i)){var e=this.ar[i],r=e[1];e[1]=r?r+", "+n:n}else this.ar[i]=[t,n]},t.prototype.delete=function(t){var n=nl(t).toLowerCase();delete this.ar[n]},t.prototype.get=function(t){var n=nl(t).toLowerCase();return this.ar.hasOwnProperty(n)?this.ar[n][1]:null},t.prototype.has=function(t){var n=nl(t).toLowerCase();return this.ar.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=nl(t)).toLowerCase();this.ar[i]=[t,il(n)]},t.prototype.forEach=function(t,n){for(var i in this.ar)this.ar.hasOwnProperty(i)&&t.call(n,this.ar[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),el(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),el(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),el(t)},t.prototype.asList=function(){var t=[];for(var n in this.ar)if(this.ar.hasOwnProperty(n)){var i=this.ar[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function ul(){}tl.iterable&&(rl.prototype[Symbol.iterator]=rl.prototype.entries);var sl,ol,cl,al=d.min,fl=String.fromCharCode,hl=16384;function vl(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=hl){var r=al(e+hl,n);i.push(fl.apply(null,t.slice(e,r)))}return i.join("")}(n)}function dl(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ll(t,n){return t>>n&63|128}function wl(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(dl(t),n.push(t>>12&15|224),n.push(ll(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ll(t,12)),n.push(ll(t,6))),n.push(63&t|128)):n.push(t)}function gl(){if(cl>=ol)throw new f("Invalid byte index");var t=255&sl[cl];if(cl++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function yl(){var t,n;if(cl>ol)throw new f("Invalid byte index");if(cl===ol)return!1;if(t=255&sl[cl],cl++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|gl())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|gl()<<6|gl())>=2048)return dl(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|gl()<<12|gl()<<6|gl())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var ml=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function bl(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function pl(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function _l(t){return t&&DataView.prototype.isPrototypeOf(t)}var kl,Tl=ArrayBuffer.isView||function(t){return t&&(ml.indexOf(v.prototype.toString.call(t))>-1||_l(t))};function Sl(t){if(t.bodyUsed)return j.reject(new h("Already used"));t.bodyUsed=!0}function El(t){return new j(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Rl(t){return tl.encoding?new jd.TextDecoder("utf-8").decode(new y(t)):vl(function(t){ol=(sl=t).length,cl=0;for(var n,i=[];!1!==(n=yl());)i.push(n);return i}(new y(t)))}function Il(t){return tl.encoding?(new jd.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)wl(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function Dl(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,u=t.value;return r?j.resolve(i):(i.push(u),n.read().then(e))};return n.read().then(e)}function Ol(t){return Dl(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(c=e[i]).byteLength;for(var r=new y(n),u=0,s=0,o=t;s<o.length;s++){var c=o[s];r.set(c,u),u+=c.byteLength}return r}(t).buffer})}function Nl(t){return t.slice?t.slice(0):Cl(new y(t))}function Cl(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Al(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function Pl(t){var n=t;if(n.bodyUsed)throw new h("Already used");if(n.xv===kl.Lv){if(!n.Bv.tee)throw new f("could not clone ReadableStream body");var i=n.Bv.tee(),e=i[0],r=i[1];return n.body=e,n.Bv=e,n.Mv=e,r}return n.xv===kl.Ka?Nl(n.Bv):n.xv===kl.kh?n.Bv.then(Pl):n.Mv}!function(t){t[t.si=0]="si",t[t.Fv=1]="Fv",t[t.Uv=2]="Uv",t[t.Ka=3]="Ka",t[t.Lv=4]="Lv",t[t.kh=5]="kh"}(kl||(kl={}));var xl=function(){function t(n,i){this.bodyUsed=!1;var e,r,u,s=this;if(this.Mv=n||null,n)if("string"==typeof n)this.xv=kl.si,this.Bv=n;else if((u=n)&&"function"==typeof u.then)this.xv=kl.kh,this.Bv=j.resolve(n).then(function(n){return new t(n,i)}),this.Bv.catch(ul);else if(tl.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.xv=kl.Fv,this.Bv=n;else if(tl.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.xv=kl.Uv,this.Bv=n;else if(tl.searchParams&&bl(n))this.xv=kl.si,this.Bv=n.toString();else if(tl.arrayBuffer&&(pl(n)||Tl(n)))_l(n)&&(this.Mv=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.xv=kl.Ka,this.Bv=pl(e=n)?Nl(e):Cl(e);else{if(!tl.stream||!Gd(n))throw new f("unsupported BodyInit type");n=Jd(Xd,n),this.xv=kl.Lv,this.Bv=n,this.Mv=n}else this.xv=kl.si,this.Bv="";this.Vv="",i.has("content-type")?this.Vv=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Vv="text/plain;charset=UTF-8":s.xv===kl.Fv&&s.Bv.type?this.Vv=s.Bv.type:tl.searchParams&&bl(n)&&(this.Vv="application/x-www-form-urlencoded;charset=UTF-8"),this.Vv&&i.set("content-type",this.Vv)),tl.stream&&(null==n?this.body=null:s.xv===kl.Lv?this.body=s.Bv:this.body=Zd(Xd,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=Sl(this);return e||(this.xv===kl.Fv?(t=this.Bv,n=new FileReader,i=El(n),n.readAsText(t),i):this.xv===kl.Ka?j.resolve(this.Bv).then(Rl):this.xv===kl.Lv?Ol(this.Bv).then(Rl):this.xv===kl.kh?this.Bv.then(function(t){return t.text()}):this.xv===kl.Uv?j.reject(new f("could not read FormData body as text")):j.resolve(this.Bv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();tl.blob&&(xl.prototype.blob=function(){var t,n,i=Sl(this);return i||(this.xv===kl.Fv?j.resolve(this.Bv):this.xv===kl.Ka?j.resolve($d([this.Bv],{type:this.Vv})):this.xv===kl.Lv?(t=this.Bv,n=this.Vv,Dl(t).then(function(t){return $d(t,{type:n||""})})):this.xv===kl.kh?this.Bv.then(function(t){return t.blob()}):this.xv===kl.Uv?j.reject(new f("could not read FormData body as Blob")):j.resolve($d([this.Bv],{type:this.Vv})))}),tl.arrayBuffer&&(xl.prototype.arrayBuffer=function(){var t,n,i;return this.xv===kl.Ka?Sl(this)||j.resolve(this.Bv):this.xv===kl.Fv?Sl(this)||(t=this.Bv,n=new FileReader,i=El(n),n.readAsArrayBuffer(t),i):this.xv===kl.Lv?Ol(this.Bv):this.xv===kl.kh?Sl(this)||this.Bv.then(function(t){return t.arrayBuffer()}):this.xv===kl.Uv?j.reject(new f("could not read FormData body as ArrayBuffer")):j.resolve(this.Bv).then(Il)}),tl.formData&&(xl.prototype.formData=function(){return this.xv===kl.Uv?Sl(this)||j.resolve(this.Bv):this.text().then(Al)});var Ll=[301,302,303,307,308],Bl=function(t){function n(n,i){var e=this,r=new rl((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return zd(n,t),n.prototype.clone=function(){return new n(Pl(this),{status:this.status,statusText:this.statusText,headers:new rl(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Ll.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(xl);var Ml,Fl=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new h("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function u(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function o(t){return(o=v.setPrototypeOf?v.getPrototypeOf:function(t){return t.__proto__||v.getPrototypeOf(t)})(t)}function c(t,n){return(c=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!v.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(e){var r=v.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}v.defineProperty(n,"__esModule",{value:!0});var d=function(){function t(){i(this,t),v.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){s(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,u=e.length;r<u;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=o(n).call(this))||"object"!=typeof r&&"function"!=typeof r?a(e):r).listeners||d.call(a(t)),v.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),v.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new h("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,d),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),v.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w});(Ml=Fl)&&Ml.__esModule&&v.prototype.hasOwnProperty.call(Ml,"default")&&Ml.default,Fl.AbortSignal;var Ul=Fl.AbortController,Vl=jd.DOMException;try{new Vl}catch(t){(Vl=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),Vl.prototype.constructor=Vl}var Hl=Ul;function Wl(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function ql(t,n,i){return new j(function(e,r){if(n.signal.aborted)return t.catch(ul),r(zl());var u=function(){n.signal.removeEventListener("abort",u),r(zl())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()})})}function zl(){return new Vl("Aborted","AbortError")}var jl,$l="moz-chunked-arraybuffer";function Xl(t){try{var n=new m;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(jl||(jl={}));var Gl=function(){function t(t,n){var i=this;this.Hv=!1,this.Dv=t,this.Wv=n,this.qv=new m,this.zv=new j(function(t,n){i.jv=t,i.$v=n})}return t.prototype.send=function(){var t=this;return this.Xv().then(function(n){return t.Gv(n,t.Wv),t.zv})},t.prototype.Xv=function(){var t=this.Dv;return t.xv===kl.Lv?t.arrayBuffer():j.resolve(t.Mv)},t.prototype.Yv=function(t){this.Dv.onprogress&&this.Dv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Kv=function(t){this.$v(t)},t.prototype.Jv=function(){this.Kv(new h("Network request failed"))},t.prototype.Qv=function(){this.Kv(new h("Network request failed"))},t.prototype.Zv=function(){this.Kv(zl())},t.prototype.Gv=function(t,n){var i=this,e=this.Dv,r=this.qv,u=function(){return i.td()};if(e.signal.aborted)return this.Zv();r.onreadystatechange=function(){if(r.readyState>=jl.HEADERS_RECEIVED&&!i.Hv){var t=function(t){var n=new rl;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Hv=!0,i.nd(n)}},r.onprogress=function(t){return i.Yv(t)},r.onload=function(){return i.ed()},r.onerror=function(){return i.Jv()},r.ontimeout=function(){return i.Qv()},r.onabort=function(){return i.Zv()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",u),r.onloadend=function(){e.signal.removeEventListener("abort",u)},t?r.send(t):r.send()},t.prototype.td=function(){this.Zv(),this.qv.abort()},t}(),Yl=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.rd=void 0,e.ud=void 0,e}return zd(n,t),n.prototype.nd=function(t){var n=this;this.rd=new j(function(t,i){n.ud=t,n.sd=i}),this.jv(new Bl(this.rd,t))},n.prototype.ed=function(){var t=this.qv.response;if(null==t){var n=this.Wv;""===n||"text"===n?t=this.qv.responseText:"document"===n?t=this.qv.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=$d([]))}this.ud(t)},n.prototype.Kv=function(n){t.prototype.Kv.call(this,n),this.sd&&this.sd(n)},n}(Gl),Kl=function(t){function n(n){var i=t.call(this,n,$l)||this;return i.od=void 0,i.fd=void 0,i.hd=!1,i}return zd(n,t),n.prototype.nd=function(t){var n=this;this.od=new Xd({start:function(t){n.fd=t},cancel:function(){n.hd=!0,n.td()}}),this.jv(new Bl(this.od,t))},n.prototype.Yv=function(n){this.hd||this.fd.enqueue(new y(this.qv.response)),t.prototype.Yv.call(this,n)},n.prototype.ed=function(){this.fd.close()},n.prototype.Kv=function(n){t.prototype.Kv.call(this,n),this.fd&&!this.hd&&(this.hd=!0,this.fd.error(n))},n}(Gl),Jl=function(){var t=tl.firefox&&Xl($l);return Jl=function(){return t},t},Ql=function(){var t;return t=tl.arrayBuffer&&Xl("arraybuffer")?"arraybuffer":tl.blob&&Xl("blob")?"blob":"",Ql=function(){return t},t};function Zl(t){return(tl.stream&&Jl()?new Kl(t):new Yl(t,Ql())).send()}var tw=jd.fetch,nw=jd.Request;jd.Response;var iw=jd.AbortController;var ew=["http:","https:"];var rw=function(){try{if(tl.streamRequest){var t=new nw("about:blank",{body:"",method:"POST"}).body;if(t&&Yd(t.constructor))return t.constructor}}catch(t){}}();function uw(t,n,i){var e;if(tl.stream){var r=void 0;if(tl.streamResponse){var u=t.body;r=u&&Jd(Xd,u)}else r=Zd(Xd,function(){return ql(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new Kd(n.getReader(),i),{highWaterMark:0})}(Xd,t,function(t){var r=t.done,u=t.value;r?i=void 0===i?e:i:e+=u.byteLength,n(e,i)})}(r,i,sw(t.headers))),e=r}else{var s=ql(t.arrayBuffer(),n,!0);i&&(s=function(t,n,i){return j.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(s,i,sw(t.headers))),e=s}return new Bl(e,t)}function sw(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function ow(t){var n=new Hl;return t.signal&&Wl(n,t.signal),function(t,n){var i,e,r=t;if(i=r.xv===kl.Lv?tl.streamRequest&&rw?j.resolve(Jd(rw,r.Bv)):ql(t.arrayBuffer(),n,!1):ql(j.resolve(t.Mv),n,!1),tl.abort){var u=new iw;Wl(u,n.signal),e=u.signal}return i.then(function(n){return new nw(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof rl?i:new rl(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return tw(i).then(function(i){return uw(i,n,t.onprogress)})})}var cw=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var aw=function(t){function n(i,e){var r,u,s,o,c,a,f,v,d,l=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new h("Already used");r=i.url,u=i.credentials,e.headers||(s=new rl(i.headers)),o=i.method,c=i.mode,a=i.referrer,f=i.referrerPolicy,v=i.signal,d=i.onprogress,w||null==i.Mv||(w=i.Mv,i.bodyUsed=!0)}else r=String(i),u="same-origin",o="GET",c="cors",a="about:client",f="",v=null,d=null;if(!e.headers&&s||(s=new rl(e.headers)),e&&(a="about:client",f=""),(l=t.call(this,w,s)||this).url=r,l.headers=s,l.credentials=e.credentials||u,l.method=function(t){var n=t.toUpperCase();return cw.indexOf(n)>-1?n:t}(e.method||o),l.mode=e.mode||c,l.signal=e.signal||v||(new Hl).signal,l.referrer=void 0!==e.referrer?e.referrer:a,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:f,l.onprogress=e.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new h("Body not allowed for GET or HEAD requests");return l}return zd(n,t),n.prototype.clone=function(){return new n(this,{body:Pl(this)})},n}(xl),fw="function"==typeof tw&&tl.stream&&tl.streamResponse&&tl.url;function hw(t,n){return new j(function(i){var e=new aw(t,n);i((fw&&function(t){try{return ew.indexOf(new jd.URL(t,jd.location.href).protocol)>=0}catch(t){return!1}}(e.url)?ow:Zl)(e))})}hw.polyfill=!0;var vw=function(){function t(t){this.Nv=void 0,this.Dv=void 0,this.Yf=new wu,this.Ov=void 0,this.vd=!1,this.Dv=t,this.Yf.zr(t.$r),this.Nv=this.dd()}var n=t.prototype;return n.dd=function(){var t,n,i,e,r,u,o,c,a=this;return wr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.Dv).vv&&s(function(){a.vd=!0,a.Yf.qr()},t.vv),f.prev=2,n=hw(t.Xh,{method:t.hv,headers:t.Hh.Za(),body:t.Oh,credentials:t.wv?"include":"same-origin",signal:ww(this.Yf.$r),onprogress:t.gv}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new Vd(t,f.t0);case 9:return f.prev=9,f.next=12,wr.awrap(n);case 12:i=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),yu(e=this.ld(f.t1))&&this.Yf.qr(),e;case 20:if(r=i.url||t.Xh,u=0===i.status&&"file:"===(h=r,st.ze(h).protocol)?200:i.status,o=new dw(this,i,this.Yf),c=new Od({Li:o,jh:t,Wh:t.Wh,Hh:new na(i.headers.asList()),Vh:u,qh:i.statusText,$h:r}),this.Ov=c,!Sd(c)){f.next=29;break}return f.abrupt("return",c);case 29:throw new Hd(c);case 30:case"end":return f.stop()}var h},null,this,[[2,6],[9,15]],j)},n.ld=function(t){return yu(t)?this.vd?new Wd(this.Dv):new gu(t.message,t):this.Ov?new Hd(this.Ov,t):new Vd(this.Dv,t)},t}(),dw=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).wd=void 0,r.gd=void 0,r.Yf=void 0,r.Ph=new Ws,r.wd=n,r.gd=i,r.Yf=e,r.Ph.Pu.catch(Ft),r}vt(n,t);var i=n.prototype;return i.Lh=function(){return this.Ph.Pu},i.Sh=function(t){return this.Bh(this.gd.text(),t)},i.Rh=function(t){return this.Bh(this.gd.arrayBuffer(),t)},i.Ih=function(){var t=this.gd.body;return t?this.Mh(t):cd(this.Rh().then(sd),this.Yf)},i.Fh=function(){var t=this.gd.clone(),i=this.Yf.jr(),e=i[0],r=i[1];return this.Yf=e,new n(this.wd,t,r)},i.Bh=function(t,n){var i=this;n&&this.Yf.zr(n);var e=j.resolve(t).catch(function(t){throw i.wd.ld(t)});return e=ku(e,this.Yf),this.Ph.Bu(e.then(Ft)),e},i.Mh=function(t){var n=this,i=new jv,e=j.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.wd.ld(t);throw i.writable.abort(e).catch(Ft),e});return e=ku(e,this.Yf),this.Ph.Bu(e.then(Ft)),i.readable},ft(n,[{key:"Uh",get:function(){return this.gd.bodyUsed}}]),n}(dd),lw="abort";function ww(t){var n=new Hl;if(t.Ar)n.abort();else if(!t.Pr){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(lw,i),t.Ur(i),t.Hr(e)};n.signal.addEventListener(lw,i),t.Fr(i),t.Vr(e)}return n.signal}var gw,yw=function(){function t(){}var n=t.prototype;return n.jh=function(t){return new vw(t).Nv},n.yv=function(t){if(nt&&nt.sendBeacon)nt.sendBeacon(t.Xh,Jc([t.Oh],{type:t.Dh}));else{var n=t.Dh?{"Content-type":t.Dh}:void 0;Eu(this.jh(new Nd({hv:Ed.POST,Xh:t.Xh,Oh:t.Oh,Hh:n})))}},n.et=function(){},t}(),mw=function(n){function i(){for(var i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(i=n.call.apply(n,[this].concat(r))||this).yd=void 0,i.md=function(){if(Et.Sn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.bd=Et.Xn||Et.Sn,i.pd=void 0,i}return vt(i,n),ft(i,[{key:"Me",get:function(){return this.yd||(this.yd=new tu(Xc())),this.yd}},{key:"_d",get:function(){return this.md}},{key:"kd",get:function(){return this.bd}},{key:"Td",get:function(){return!1}},{key:"Sd",get:function(){return Yc.va()}},{key:"Ed",get:function(){return{Rd:Qc}}},{key:"Id",get:function(){return u.connection&&u.connection.effectiveType||"default"}},{key:"Dd",get:function(){return u.connection&&u.connection.type||"unknown"}},{key:"Od",get:function(){return this.pd||(this.pd=new Ad(new yw)),this.pd}}]),i}(vr);dt(new mw),function(t){t.Nd="Cd",t.Ad="Pd"}(gw||(gw={})),gw.Nd,gw.Ad;var bw=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).xd=void 0,e}return vt(n,t),ft(n,[{key:"Ld",get:function(){return this.xd||(this.xd=this.Bd()),this.xd}}]),n}(Pu);function pw(t){return Boolean(t&&t.Ld)}var _w,kw=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n}(bw),Tw=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n}(Pu),Sw=function(t){function n(n){var i;return(i=t.call(this,gw.Nd)||this).Md=n,i}return vt(n,t),n.prototype.Bd=function(){return new Ew(this.Md.Ld)},n}(kw),Ew=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return vt(n,t),n}(Tw),Rw=function(t){function n(n){var i;return(i=t.call(this,gw.Ad)||this).Md=n,i}return vt(n,t),n.prototype.Bd=function(){return new Iw(this.Md.Ld)},n}(kw),Iw=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return vt(n,t),n}(Tw);!function(t){t.Fd="Ud",t.Vd="Hd",t.Wd="qd",t.zd="jd",t.$d="Xd",t.Gd="Yd",t.Kd="Jd",t.Qd="Zd",t.tl="cc",t.nl="il",t.ul="sl",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(_w||(_w={}));var Dw=function(t){function n(){var n;return(n=t.call(this)||this).ol=[],n.xd=void 0,n}vt(n,t);var i=n.prototype;return i.cl=function(t){return this.ol[t]},i.al=function(t){return!(!t||hu(this.ol,t))&&(this.ol.push(t),this.xd&&this.xd.push(t.Ld),t.Qr(_w.Gd,this.Kr),this.Jr(new Sw(t)),!0)},i.fl=function(t){if(!t)return!1;var n=this.ol.indexOf(t);return!(n<0)&&(fu(this.ol,n),this.xd&&fu(this.xd,n),t.iu(_w.Gd,this.Kr),this.Jr(new Rw(t)),!0)},i.hl=function(t){return hu(this.ol,t)},i.vl=function(){for(var t=this.ol,n=t.length-1;n>=0;n-=1)this.fl(t[n])},i.et=function(){this.vl(),this.nu()},ft(n,[{key:"dl",get:function(){return this.ol}},{key:"Ld",get:function(){return this.xd||(this.xd=this.Bd()),this.xd}},{key:"ll",get:function(){return this.ol.length}}]),n}(Cu),Ow=function(t){function n(n){var i;return(i=t.call(this,_w.Gd)||this).Md=n,i}return vt(n,t),n.prototype.Bd=function(){return new Nw(this.Md.Ld)},n}(kw),Nw=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return vt(n,t),n}(Tw),Cw=function(t){function n(){var n;return(n=t.call(this)||this).wl=void 0,n.gl=function(t){var i=t.Md;n.al(i)},n.yl=function(t){var i=t.Md;n.fl(i)},n}vt(n,t);var i=n.prototype;return i.ml=function(t){t.Qr(gw.Nd,this.gl),t.Qr(gw.Ad,this.yl)},i.bl=function(t){t.iu(gw.Nd,this.gl),t.iu(gw.Ad,this.yl)},i.et=function(){this.wl&&this.wl.et(),t.prototype.et.call(this)},ft(n,[{key:"pl",get:function(){return this.wl},set:function(t){var n=this.wl;if(t!==n){if(n){this.bl(n);for(var i=0,e=n.dl;i<e.length;i++){var r=e[i];t&&t.hl(r)||this.fl(r)}}if(this.wl=t,t){for(var u=[],s=0,o=t.dl;s<o.length;s++){var c=o[s];this.al(c),this._l(c)&&u.push(c)}this.ml(t);for(var a=0;a<u.length;a++){var f=u[a];f.Jr(new Ow(f))}}}}}]),n}(Dw),Aw=v.freeze||Ut;function Pw(t,n,i){v.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function xw(t,n){for(var i=0,e=v.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];v.defineProperty(t,r,v.getOwnPropertyDescriptor(n,r))}return t}function Lw(t){if(Pt(t)){var n={};for(var i in t)Rt.call(t,i)&&(n[i]=Lw(t[i]));return n}if(Nt(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=Lw(t[r]));return e}return t}function Bw(t,n){return t===n||!(!t||!n)&&(!(!At(t)||!At(n))&&(Ct(t)?!!Ct(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!Bw(t[r],n[r]))return!1;return!0}(t,n):!Ct(n)&&function(t,n){var i=v.keys(t),e=v.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var u=i[r];if(!Rt.call(n,u)||!Bw(t[u],n[u]))return!1}return!0}(t,n)))}function Mw(t,n){return t.constructor===n.constructor}function Fw(t){for(var n={},i=0,e=v.keys(t);i<e.length;i++){var r=e[i],u=t[r];null!=u&&(n[r]=u)}return n}function Uw(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Vw(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Hw(t){var n=Vw(t);if(g(n))throw new f("Expected a valid number.");return n}function Ww(t){return"string"==typeof t?t:""}function qw(t,n){if(!Ct(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function zw(t,n){return Ct(t)?qw(t,n):n(t)}var jw=[gw.Nd,gw.Ad,_w.Gd];function $w(t){var n,i=t.dl.map(function(t){return t.Ld});return i.item=function(n){var i=0|n,e=t.cl(i);return e&&e.Ld||void 0},i.addEventListener=function(t,i){n.Qr(t,i)},i.removeEventListener=function(t,i){n.iu(t,i)},n=new Au(i),t.Qr(jw,function(t){return n.Jr(t.Ld)}),i}function Xw(){}function Gw(t){var n,i=[_w.tl,_w.Gd,_w.nl,_w.ul,_w.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.kl&&t.kl.Ld},get enabled(){return t.Tl},set enabled(n){t.Tl=Uw(n)},get id(){return t.Sl},get uid(){return t.El},get kind(){return t.Rl},get label(){return t.Il},set label(n){t.Il=Ww(n)},get language(){return t.Dl},get qualities(){return t.Ol.Ld},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.Ol.dl;e<r.length;e++)for(var u=r[e],s=0;s<n.length;s++){var o=n[s];u.Ld===o&&i.push(u)}return i}(t,Nt(n)?n:[n]):[]).length>0?t.Nl=i:t.Nl=void 0},get targetQuality(){if(t.Nl)return 1===t.Nl.length?t.Nl[0].Ld:t.Nl.map(function(t){return t.Ld})},addEventListener:function(t,i){var e=zw(t,Ww);n.Qr(e,i)},removeEventListener:function(t,i){var e=zw(t,Ww);n.iu(e,i)}};return n=new Au(e),t.Qr(i,function(t){return n.Jr(t.Ld)}),v.defineProperty(e,"constructor",{value:Xw}),e}function Yw(){}function Kw(t){var n=$w(t);return v.defineProperty(n,"constructor",{value:Yw}),n}var Jw,Qw,Zw=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.Bd=function(){return Kw(this)},i._l=function(t){return t.Tl},n}(Cw);function tg(){}function ng(t){var n,i=[_w.Gd,_w.tl,_w.Fd,_w.Vd,_w.Wd,_w.zd,_w.$d,_w.Kd,_w.Qd],e=[Qw.Cl],r={get kind(){return t.Rl},get label(){return t.Il},set label(n){t.Il=Ww(n)},get language(){return t.Dl},get id(){return t.Sl},get uid(){return t.El},get inBandMetadataTrackDispatchType(){return t.Al},get mode(){return t.Pl},set mode(n){n!==Jw.xl&&n!==Jw.Ll&&n!==Jw.Bl||t.Ml(n)},get forced(){return Boolean(t.Fl)},get type(){return t.mr},get readyState(){return rg(t.Ul)},get cues(){return t.Pl===Jw.Bl?null:t.Vl.Ld},get activeCues(){return t.Pl===Jw.Bl?null:t.Hl.Ld},get src(){return t.Wl||""},addEventListener:function(t,i){var e=zw(t,Ww);n.Qr(e,i)},removeEventListener:function(t,i){var e=zw(t,Ww);n.iu(e,i)}};return n=new Au(t),t.Qr(i,function(t){return n.Jr(t.Ld)}),t.Qr(e,function(t){return n.Jr(t)}),v.defineProperty(r,"constructor",{value:tg}),r}function ig(){}function eg(t){var n=$w(t);return v.defineProperty(n,"constructor",{value:ig}),n}function rg(t){return t}!function(t){t.Bl="disabled",t.Ll="hidden",t.xl="showing"}(Jw||(Jw={})),function(t){t.Cl="error"}(Qw||(Qw={}));var ug=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.Bd=function(){return eg(this)},i._l=function(t){return t.Pl===Jw.xl},n}(Cw),sg=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.tu=function(n){t.prototype.tu.call(this,n)},i.uu=function(n){t.prototype.uu.call(this,n)},n}(Cu),og=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(sg),cg=function(t){function n(){return t.call(this,Zc.Sa)||this}return vt(n,t),n}(Pu),ag=function(t){function n(n){var i;return(i=t.call(this,Zc.ba)||this).currentSource=n,i}return vt(n,t),n}(Pu),fg=function(){function t(){}return t.ql=function(n,i){var e=t.zl(n,i);return e?t.jl(e):0},t.$l=function(){return st.Id||"default"},t.Xl=function(){return st.Dd||"unknown"},t.zl=function(n,i){var e,r=null==(e=st.Sd)?void 0:e.pu(i),u=r&&JSON.parse(r);if(u&&u[n])return t.Gl(u,n,i)},t.jl=function(t){var n=t.availableBandwidth;return n||0},t.Gl=function(n,i,e){if(!t.Yl(n,i))return n[i];t.Kl(n,i,e)},t.Kl=function(t,n,i){var e;delete t[n],null==(e=st.Sd)||e.ha(i,JSON.stringify(t))},t.Yl=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.Jl=function(t,n,i,e){var r;return gr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Ql=function(n){var i=t.$l();t.Zl(i,"theoplayer-stored-network-info",n,Rn())},t.Zl=function(n,i,e,r){var u,s,o=null==(u=st.Sd)?void 0:u.pu(i),c=o?JSON.parse(o):void 0,a=t.Jl(c,n,e,r);null==(s=st.Sd)||s.ha(i,JSON.stringify(a))},t.tw=function(){var n=t.$l();return t.ql(n,"theoplayer-stored-network-info")},t}();var hg,vg,dg,lg,wg,gg,yg="1ADD53F3";function mg(t){return{chromecast:function(t){return{appID:t&&t.appID?Ww(t.appID):yg}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return hg.AUTO;case"manual":return hg.MANUAL;case"disabled":return hg.DISABLED;default:return hg.MANUAL}}(t?t.strategy:void 0)}}function bg(t){var n,i=dg.nw;return(n=t)&&zr(n,"mpd")&&(i=dg.iw),function(t){return!!t&&zr(t,"m3u8")}(t)&&(i=dg.ew),i}function pg(t){return At(t)&&At(t.ssai)&&"google-dai"===t.ssai.integration}function _g(t){return At(t)&&xt(t.integration)&&"verizon-media"===t.integration}function kg(t){if(xt(t))return!t;if(_g(t))return!t.id;if(pg(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function Tg(t){return Boolean(At(t)&&xt(t.src))}function Sg(t){return xt(t)||Tg(t)||pg(t)||_g(t)}function Eg(t){if(t){if(Sg(t))return kg(t);for(var n=0;n<t.length;n++){if(!kg(t[n]))return!1}return!0}return!0}function Rg(){return{crossOrigin:vg.rw,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function Ig(){return gr({},Rg(),{src:void 0,type:dg.nw,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Dg(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:lg.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return wg.NONE;case"midroll-and-postroll":default:return wg.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Uw(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return lg.INSECURE;case"disabled":return lg.DISABLED;case"enabled":default:return lg.ENABLED}}(t.vpaidMode)),Nt(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(xt)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Uw(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Og(t){if(!Ct(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];Pt(r)&&n.push(r)}return n}function Ng(t){return xt(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(hg||(hg={})),function(t){t.rw="",t.uw="anonymous",t.sw="use-credentials"}(vg||(vg={})),function(t){t.iw="application/dash+xml",t.ew="application/vnd.apple.mpegurl",t.ow="application/x-mpegurl",t.nw="video/mp4",t.cw="application/vnd.theoplayer.hesp+json",t.aw="application/vnd.theo.hesp+json"}(dg||(dg={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(lg||(lg={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(wg||(wg={})),function(t){t[t.fw=0]="fw",t[t.hw=1]="hw",t[t.vw=2]="vw",t[t.dw=3]="dw",t[t.lw=4]="lw"}(gg||(gg={}));var Cg,Ag=function(t){function n(n,i){var e;return void 0===i&&(i=gg.fw),(e=t.call(this,Zc.ka)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Pu),Pg=function(t){function n(n){var i;return(i=t.call(this,Zc.Ca)||this).currentTime=n,i}return vt(n,t),n}(Pu),xg=function(t){function n(n){var i;return(i=t.call(this,Zc.Aa)||this).currentTime=n,i}return vt(n,t),n}(Pu);!function(t){t.ww="canplay",t.gw="canplaythrough",t.yw="loadeddata",t.mw="loadedmetadata",t.Kd="readystatechange",t.bw="waiting",t.pw="playing"}(Cg||(Cg={}));var Lg,Bg,Mg=[Cg.ww,Cg.gw,Cg.yw,Cg.mw,Cg.Kd,Cg.bw,Cg.pw],Fg=function(t){function n(n,i){var e;return void 0===i&&(i=gg.hw),(e=t.call(this,Cg.mw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Pu),Ug=function(t){function n(n){var i;return(i=t.call(this,Zc._a)||this).duration=n,i}return vt(n,t),n}(Pu),Vg=function(t){function n(n,i){var e;return(e=t.call(this,Zc.xa)||this).currentTime=n,e.playbackRate=i,e}return vt(n,t),n}(Pu),Hg=function(t){function n(n,i){var e;return(e=t.call(this,Zc.ja)||this).currentTime=n,e.currentProgramDateTime=i,e}return vt(n,t),n}(Pu),Wg=function(t){function n(n){var i;return(i=t.call(this,Zc.Ta)||this).currentTime=n,i}return vt(n,t),n}(Pu),qg=function(t){function n(n,i){var e;return void 0===i&&(i=gg.vw),(e=t.call(this,Cg.yw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Pu),zg=function(t){function n(n){var i;return(i=t.call(this,Zc.Fa)||this).currentTime=n,i}return vt(n,t),n}(Pu),jg=function(t){function n(n){var i;return(i=t.call(this,Zc.Ma)||this).currentTime=n,i}return vt(n,t),n}(Pu),$g=function(t){function n(n,i){var e;return(e=t.call(this,Zc.$a)||this).currentTime=n,e.volume=i,e}return vt(n,t),n}(Pu),Xg=function(t){function n(n,i){var e;return void 0===i&&(i=gg.dw),(e=t.call(this,Cg.ww)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Pu),Gg=function(t){function n(n,i){var e;return void 0===i&&(i=gg.lw),(e=t.call(this,Cg.gw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Pu),Yg=function(t){function n(n,i){var e;return(e=t.call(this,Cg.Kd)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Pu),Kg=function(t){function n(n){var i;return(i=t.call(this,Qw.Cl)||this).errorObject=n,i}return vt(n,t),n.prototype.Bd=function(){return this},ft(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(bw);function Jg(t){switch(t){case Lg.ALL:case Lg.CONTENT:return t;default:return Lg.NONE}}function Qg(t){var n,i,e,r=Lw(t||{});return r.libraryLocation&&(r.libraryLocation=xd(r.libraryLocation,!0)),r.isEmbeddable=Boolean(r.isEmbeddable),r.cast=mg(r.cast),r.ads=Dg(r.ads),r.analytics=Og(r.analytics),r.mutedAutoplay=Jg(r.mutedAutoplay),r.allowNativeFullscreen=Boolean(r.allowNativeFullscreen),r.allowMixedContent=Boolean(r.allowMixedContent),r.persistVolume=Boolean(r.persistVolume),r.liveOffset=(n=r.liveOffset,Number(n)||void 0),r.hlsDateRange=(i=r.hlsDateRange,Boolean(i)),r.retainPlaybackRateOnSourceChange=Boolean(r.retainPlaybackRateOnSourceChange),r.license=xt(e=r.license)?e:void 0,r.licenseUrl=function(t){if(!t)return;try{return xd(t)}catch(t){return void st.Oe("Invalid 'licenseUrl', falling back to default URL")}}(r.licenseUrl),r}function Zg(t){return{_w:t._w,kw:t.kw,Tw:t.Tw,vu:t.vu,Sw:t.Sw,Ew:t.Ew,Rw:t.Rw,Iw:t.Iw,Ul:t.Ul,Dw:t.Dw,Ow:t.Ow,Nw:t.Nw,Cw:t.Cw}}function ty(t,n,i){if(n!==i){var e=n._w,r=n.kw,u=n.Ew,s=n.Rw,o=n.Iw,c=n.Ul,a=n.Dw;n.Nw,n.Ow;var f=n.Cw,h=i._w,v=i.kw,d=i.Tw,l=i.Sw,w=i.Ew,y=i.Rw,m=i.Iw,b=i.Ul,p=i.Dw;i.Nw,i.Ow;var _=i.Cw;c!==gg.fw&&t.Jr(new Ag(h,b)),y&&!s?t.Jr(new Pg(h)):!y&&s&&t.Jr(new xg(h)),b>=gg.hw&&t.Jr(new Fg(h,b)),v===r||g(v)&&g(r)||t.Jr(new Ug(v)),m!==o&&t.Jr(new Vg(h,m)),h!==e&&t.Jr(new Hg(h,void 0)),d&&t.Jr(new Wg(h)),b>=gg.vw&&t.Jr(new qg(h,b)),p&&!a?t.Jr(new zg(h)):!p&&a&&t.Jr(new jg(h)),_===f&&w===u||t.Jr(new $g(h,_)),b>=gg.dw&&t.Jr(new Xg(h,b)),b>=gg.lw&&t.Jr(new Gg(h,b)),b!==c&&t.Jr(new Yg(h,b)),l&&t.Jr(new Kg(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Lg||(Lg={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Bg||(Bg={}));var ny=400,iy=.25,ey={Aw:.2,Pw:.45,xw:.7,Lw:3,Bw:fy,Mw:hy},ry={Aw:.4,Pw:.65,xw:1,Lw:3,Bw:fy,Mw:hy},uy={Aw:.4,Pw:.7,xw:.9,Lw:3,Bw:fy,Mw:hy},sy={Aw:.4,Pw:.65,xw:1,Lw:3,Bw:fy,Mw:hy},oy={Aw:.5,Pw:1.125,xw:1.75,Lw:2.55,Bw:fy,Mw:hy};function cy(){var t;return t=st.Xe.ve?sy:st.Xe.ye?ry:st.Xe.we?"Android"===st.Ge.Ye?uy:ey:oy,st.Ge.Ke?function(t){if(st.Ge.Ke){var n=(ny+250)/1e3,i=d.max(n,t.Aw),e=d.max(i+iy,t.Pw),r=d.max(e+iy,t.xw);return{Aw:i,Pw:e,xw:r,Lw:d.max(r+iy,t.Lw),Bw:fy,Mw:hy}}return t}(t):t}var ay,fy=.92,hy=1.08;function vy(t){return{goLive:function(){return t.Fw()},get isLive(){return t.Uw},get currentServerLiveTime(){return t.Vw},get currentLatency(){return t.Hw},get latency(){return t.Ww},set latency(n){if(!function(t){if(!At(t))return!1;var n=t,i=Dt(n.target)&&"number"==typeof n.target&&Dt(n.windowEnd)&&"number"==typeof n.windowEnd&&Dt(n.windowStart)&&"number"==typeof n.windowStart&&Dt(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new f("Invalid latency configuration");t.Ww=n},get manifest(){return t.qw},get metrics(){return t.zw},addEventListener:function(n,i){t.Qr(ly(n),i)},removeEventListener:function(n,i){t.iu(ly(n),i)}}}!function(t){t[t.Bl=0]="Bl",t[t.jw=1]="jw",t[t.$w=2]="$w"}(ay||(ay={}));var dy=["analytic","golive","nogolive","bufferedchange"];function ly(t){var n=zw(t,Ww);return(xt(n)?[n]:n).filter(function(t){return hu(dy,t)})}var wy,gy=function(t){function n(){var n,i;return(n=t.call(this)||this).wl=void 0,n.xd=void 0,n.Xw={windowStart:(i=cy()).Aw,windowEnd:i.xw,target:i.Pw,maxOffset:i.Lw},n.wl=void 0,n}vt(n,t);var i=n.prototype;return i.ml=function(t){t.Qr(dy,this.Kr)},i.bl=function(t){t.iu(dy,this.Kr)},i.Fw=function(){var t;null==(t=this.wl)||t.Fw()},i.et=function(){this.nu(),this.wl&&this.bl(this.wl),this.wl=void 0},ft(n,[{key:"pl",get:function(){return this.wl},set:function(t){var n=this.wl;t!==n&&(n&&this.bl(n),t&&this.ml(t),this.wl=t,this.wl&&(this.wl.Ww=this.Xw))}},{key:"Ld",get:function(){return this.xd||(this.xd=vy(this)),this.xd}},{key:"Vw",get:function(){var t;return null==(t=this.wl)?void 0:t.Vw}},{key:"Hw",get:function(){var t;return null==(t=this.wl)?void 0:t.Hw}},{key:"Uw",get:function(){return!!this.wl&&this.wl.Uw}},{key:"Ww",get:function(){return this.wl?this.wl.Ww:this.Xw},set:function(t){this.wl&&(this.wl.Ww=t),this.Xw=t}},{key:"qw",get:function(){var t;return null==(t=this.wl)?void 0:t.qw}},{key:"zw",get:function(){var t;return null==(t=this.wl)?void 0:t.zw}}]),n}(Cu),yy=function(t){function n(n){var i;return(i=t.call(this)||this).wl=void 0,i.Gw=[],i.Yw=!1,i.Kw=new Zw,i.Jw=new Zw,i.Qw=new ug,i.Zw=new gy,i.tg=!1,i.ng(n),n.tu(i.Kr),i.wl=n,i.Kw.pl=n.ig,i.Jw.pl=n.eg,i.Qw.pl=n.rg,i.Zw.pl=n.ug,i}vt(n,t);var i=n.prototype;return i.Y=function(){this.wl.Y()},i.K=function(){this.wl.K()},i.sg=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ru(this.Gw.map(function(t){return t.sg()})).then(Ft));case 1:case"end":return t.stop()}},null,this,null,j)},i.og=function(){return this.wl.og()},i.cg=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return mu(n),i.next=3,wr.awrap(this.wl.cg(t,n));case 3:case"end":return i.stop()}},null,this,null,j)},i.ag=function(){return this.pl.ag()},i.fg=function(){this.pl.fg()},i.hg=function(){this.pl.hg()},i.st=function(){if(!this.Yw){for(var t=0,n=this.Gw;t<n.length;t++){n[t].st()}this.Yw=!0}},i.vg=function(t){this.wl.vg(t)},i.dg=function(){this.wl.dg()},i.lg=function(){this.wl.lg()},i.wg=function(){this.wl.wg()},i.gg=function(){return this.wl.gg()},i.yg=function(){return this.wl.yg()},i.mg=function(){for(var t=[],n=0,i=this.Gw;n<i.length;n++){var e=i[n];t.push.apply(t,e.mg())}return t},i.bg=function(t){for(var n=!1,i=0,e=this.Gw;i<e.length;i++){n=e[i].bg(t)||n}return n},i.Jr=function(n){this.bg(n)||t.prototype.Jr.call(this,n)},i.ng=function(t){this.Gw.push(t)},i.pg=function(t){au(this.Gw,t)},i._g=function(t){if(t!==this.wl){var n=this.wl;n.dg(),n.uu(this.Kr);var i=Zg(this),e=this.kg,r=this.yg();this.wl=t,this.Kw.pl=t.ig,this.Jw.pl=t.eg,this.Qw.pl=t.rg,this.Zw.pl=t.ug,ty(this,i,this);var u=this.kg;u!==e&&this.Jr(new ag(u)),this.yg()!==r&&this.Jr(new cg),t.tu(this.Kr),t.vg(n)}},i.Tg=function(){},i.et=function(){var t,n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.nu(),this.wl.dg(),t=0,n=this.Gw;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,wr.awrap(i.et());case 7:t++,e.next=3;break;case 10:this.Kw.et(),this.Jw.et(),this.Qw.et(),this.Zw.et();case 14:case"end":return e.stop()}},null,this,null,j)},i.vl=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ru(this.Gw.map(function(t){return t.vl()})).then(Ft));case 1:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"ig",get:function(){return this.Kw}},{key:"rg",get:function(){return this.Qw}},{key:"eg",get:function(){return this.Jw}},{key:"Sg",get:function(){return this.wl.Sg}},{key:"Eg",get:function(){return this.wl.Eg},set:function(t){this.wl.Eg=t}},{key:"kg",get:function(){return this.wl.kg}},{key:"_w",get:function(){return this.wl._w},set:function(t){this.wl._w=t}},{key:"kw",get:function(){return this.wl.kw}},{key:"Rg",get:function(){return this.wl.Rg}},{key:"Tw",get:function(){return this.wl.Tw}},{key:"vu",get:function(){return this.wl.vu}},{key:"Sw",get:function(){return this.wl.Sw}},{key:"ug",get:function(){return this.Zw}},{key:"Ig",get:function(){return this.wl.Ig}},{key:"zw",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var c=t[o];n+=c.Dg,i+=c.Og,e+=c.Ng,r+=c.Cg,u+=c.Ag,s.amountOfBufferedAudioSegments+=c.Pg.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=c.Pg.amountOfBufferedVideoSegments}return{Dg:n,Og:i,Ng:e,Cg:r,Ag:u,Pg:s}}(this.Gw.map(function(t){return t.zw}))}},{key:"Ew",get:function(){return this.wl.Ew},set:function(t){this.wl.Ew=t}},{key:"xg",get:function(){return this.wl.xg}},{key:"Rw",get:function(){return this.wl.Rw}},{key:"Iw",get:function(){return this.wl.Iw},set:function(t){this.wl.Iw=t}},{key:"Lg",get:function(){return this.wl.Lg}},{key:"Bg",get:function(){return this.wl.Bg},set:function(t){this.wl.Bg=t}},{key:"Ul",get:function(){return this.wl.Ul}},{key:"Mg",get:function(){return this.wl.Mg}},{key:"Dw",get:function(){return this.wl.Dw}},{key:"Ow",get:function(){return this.wl.Ow}},{key:"Nw",get:function(){return this.wl.Nw}},{key:"Cw",get:function(){return this.wl.Cw},set:function(t){this.wl.Cw=t}},{key:"Fg",get:function(){return this.wl.Fg}},{key:"Ug",get:function(){return!1},set:function(t){}},{key:"pl",get:function(){return this.wl},set:function(t){this._g(t)}}]),n}(og),my=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this,n,i,e)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=r,a.status=u,a.statusText=s,a.response=o,a.systemCode=c,a}return vt(n,t),ft(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Pc);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(wy||(wy={}));var by=function(t){function n(n,i,e,r){var u;return(u=t.call(this,i)||this).code=void 0,u.message=void 0,u.cause=void 0,u.systemCode=void 0,u.code=n,u.message=null!=i?i:"Unknown error",u.cause=e,u.systemCode=r,f.captureStackTrace&&f.captureStackTrace(Nn(u),u.constructor),u}return vt(n,t),ft(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Cn);function py(t){Pw(t,"MEDIA_ERR_ABORTED",wy.ABORTED),Pw(t,"MEDIA_ERR_NETWORK",wy.NETWORK),Pw(t,"MEDIA_ERR_DECODE",wy.DECODE),Pw(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",wy.SRC_NOT_SUPPORTED),Pw(t,"MEDIA_ERR_ENCRYPTED",wy.ENCRYPTED)}function _y(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new by(wy.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new by(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return wy.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return wy.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return wy.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return wy.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return wy.NETWORK;if(i===n.ErrorCategory.SOURCE)return wy.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return wy.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return wy.ENCRYPTED;if(i===n.ErrorCategory.AD)return wy.ADVERTISEMENT_ERROR;return wy.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}py(by),py(by.prototype);var ky,Ty=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.al=function(n){return t.prototype.al.call(this,n)},i.Bd=function(){return Kw(this)},n}(Dw);!function(t){t.cv="audio",t.av="video",t.si="text",t.fv="image",t.Yh="unknown"}(ky||(ky={}));var Sy=function(){function t(){this.Vg=[],this.xd=void 0}var n=t.prototype;return n.Hg=function(t){this.Vg.push(t),this.xd&&this.xd.push(t.Ld)},n.oc=function(t){au(this.Vg,t),this.xd&&au(this.xd,t.Ld)},n.cl=function(t){return this.Vg[t]},n.Wg=function(t){return Nt(t)?vu(this.Vg,t):hu(this.Vg,t)},n.vl=function(){du(this.Vg),this.xd&&du(this.xd)},ft(t,[{key:"dl",get:function(){return this.Vg}},{key:"ll",get:function(){return this.Vg.length}},{key:"Ld",get:function(){var t,n;return this.xd||(this.xd=((n=(t=this).dl.map(function(t){return t.Ld})).item=function(n){var i=0|n,e=t.cl(i);return e&&e.Ld||void 0},n)),this.xd}}]),t}(),Ey=function(t){function n(n){var i;return(i=t.call(this,_w.tl)||this).Md=n,i}return vt(n,t),n.prototype.Bd=function(){return new Ry(this.Md.Ld)},n}(kw),Ry=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return vt(n,t),n}(Tw),Iy=0;function Dy(){return Iy++}var Oy=0;var Ny=0;var Cy=0;var Ay=function(t){function n(n){var i;return(i=t.call(this)||this).mr=ky.cv,i.qg=void 0,i.Xo=void 0,i.zg=void 0,i.jg=void 0,i.$g=!1,i.Vg=void 0,i.xd=void 0,i.qg=n,i.jg=Dy(),i.Xo=Cy+++"",i.zg=n.label,i.Vg=new Sy,i.Xg(),i}vt(n,t);var i=n.prototype;return i.Gg=function(t){this.Tl=t},i.Xg=function(){this.Tl=this.Yg},ft(n,[{key:"kl",get:function(){}},{key:"Tl",get:function(){return this.$g},set:function(t){this.$g!==t&&(this.$g=t,this.Yg=t,this.Jr(new Ow(this)))}},{key:"Yg",get:function(){return this.qg.enabled},set:function(t){this.qg.enabled=t}},{key:"Ld",get:function(){return this.xd||(this.xd=Gw(this)),this.xd}},{key:"Sl",get:function(){return this.Xo}},{key:"El",get:function(){return this.jg}},{key:"Rl",get:function(){return this.qg.kind}},{key:"Il",get:function(){return this.zg},set:function(t){t!==this.zg&&(this.zg=t,this.Jr(new Ey(this)))}},{key:"Dl",get:function(){return this.qg.language}},{key:"Pl",get:function(){return this.Tl?"enabled":"disabled"}},{key:"Kg",get:function(){return this.qg}},{key:"Ol",get:function(){return this.Vg}},{key:"Nl",get:function(){},set:function(t){}}]),n}(Cu),Py=0;var xy,Ly,By,My,Fy=function(t){function n(n){var i;return(i=t.call(this)||this).mr=ky.av,i.qg=void 0,i.Xo=void 0,i.jg=void 0,i.$g=!1,i.Vg=void 0,i.zg=void 0,i.xd=void 0,i.qg=n,i.jg=Dy(),i.Xo=Py+++"",i.Vg=new Sy,i.zg=n.label,i.Xg(),i}vt(n,t);var i=n.prototype;return i.Xg=function(){this.Tl=this.Yg},i.Gg=function(t){this.Tl=t},ft(n,[{key:"kl",get:function(){}},{key:"Tl",get:function(){return this.$g},set:function(t){this.$g!==t&&(this.$g=t,this.Yg=t,this.Jr(new Ow(this)))}},{key:"Yg",get:function(){return!!this.qg.selected},set:function(t){this.qg.selected=t}},{key:"Ld",get:function(){return this.xd||(this.xd=Gw(this)),this.xd}},{key:"Sl",get:function(){return this.Xo}},{key:"El",get:function(){return this.jg}},{key:"Rl",get:function(){return"main"}},{key:"Il",get:function(){return this.zg},set:function(t){t!==this.zg&&(this.zg=t,this.Jr(new Ey(this)))}},{key:"Dl",get:function(){return this.qg.language}},{key:"Pl",get:function(){return this.Tl?"enabled":"disabled"}},{key:"Kg",get:function(){return this.qg}},{key:"Ol",get:function(){return this.Vg}},{key:"Nl",get:function(){},set:function(t){}}]),n}(Cu),Uy=function(t){function n(n){var i;return(i=t.call(this,Zc.da)||this).Ig=n,i}return vt(n,t),n}(Pu);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(xy||(xy={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Ly||(Ly={})),function(t){t.Jg="cue",t.Qg="region",t.Zg="stylesheet"}(By||(By={})),function(t){t.ty="ny",t.iy="ey",t.tl="cc"}(My||(My={}));var Vy=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).uy=i,e}return vt(n,t),n}(kw),Hy=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return vt(n,t),n}(Tw);function Wy(t){var n,i=[My.ty,My.iy,My.tl],e={get track(){return t.Md.Ld},get id(){return t.Sl},get uid(){return t.El},get startTime(){return t.sy},get endTime(){return t.oy},get content(){return t.ay},addEventListener:function(t,i){var e=zw(t,Ww);n.Qr(e,i)},removeEventListener:function(t,i){var e=zw(t,Ww);n.iu(e,i)}};return n=new Au(e),t.Qr(i,function(t){return n.Jr(t.Ld)}),e}function qy(){}var zy=function(t){function n(n){return t.call(this,My.tl,n)||this}return vt(n,t),n.prototype.Bd=function(){return new jy(this.uy.Ld)},n}(Vy),jy=function(t){function n(n){return t.call(this,"update",n)||this}return vt(n,t),n}(Hy),$y=.02;var Xy=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).jg=void 0,s.Xo=void 0,s.hy=void 0,s.vy=void 0,s.xd=void 0,s.ly=void 0,s.wy=!1,s.gy=void 0,s.yy=void 0,s.my=-1,s.jg=Ny++,s.hy=n,s.vy=i,s.gy=e,s.yy=Boolean(r),s.Xo=null!=u?u:"",s}vt(n,t);var i=n.prototype;return i.Bd=function(){return Wy(this)},i.by=function(t){return this===t||Mw(this,t)&&(i=t,Sn((n=this).sy,i.sy,$y)&&Sn(n.oy,i.oy,$y)&&n.Sl===i.Sl);var n,i},i.et=function(){this.nu()},ft(n,[{key:"sy",get:function(){return this.hy},set:function(t){this.hy!==t&&(this.hy=t,this.Jr(new zy(this)))}},{key:"oy",get:function(){return this.vy},set:function(t){this.vy!==t&&(this.vy=t,this.Jr(new zy(this)))}},{key:"Sl",get:function(){return this.Xo}},{key:"El",get:function(){return this.jg}},{key:"Ld",get:function(){return this.xd||(this.xd=this.Bd()),this.xd}},{key:"py",get:function(){return this.wy},set:function(t){this.wy=t}},{key:"Md",get:function(){return this.ly},set:function(t){this.ly=t}},{key:"ay",get:function(){return this.gy},set:function(t){this.gy!==t&&(this.gy=t,this.Jr(new zy(this)))}},{key:"_y",get:function(){return this.yy},set:function(t){this.yy=t}}]),n}(Cu);var Gy=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,u)||this).ky="auto",s.Ty="start",s.Sy="auto",s.Ey="auto",s.Ry=void 0,s.Iy=!0,s.Su=100,s.Dy="center",s.Oy="",s}return vt(n,t),n.prototype.by=function(n){return this===n||Mw(this,n)&&t.prototype.by.call(this,n)&&(e=n,(i=this).ay===e.ay&&i.ky===e.ky&&i.Ty===e.Ty&&i.Sy===e.Sy&&i.Ey===e.Ey&&i.Ry===e.Ry&&i.Iy===e.Iy&&i.Su===e.Su&&i.Dy===e.Dy&&i.Oy===e.Oy);var i,e},ft(n,[{key:"Ld",get:function(){var t;return this.xd||(this.xd=xw(Wy(t=this),{get align(){return t.Dy},get line(){return t.ky},get lineAlign(){return t.Ty},get position(){return t.Sy},get positionAlign(){return t.Ey},get region(){return t.Ry?t.Ry.Ld:null},get size(){return t.Su},get snapToLines(){return t.Iy},get text(){return t.ay},get vertical(){return t.Oy}})),this.xd}},{key:"mr",get:function(){return By.Jg}}]),n}(Xy);var Yy=function(){function t(t,n,i,e,r,u,s,o){this.xd=void 0,this.Sl=t,this.Ny=n,this.Cy=i,this.Ay=e,this.Py=r,this.xy=u,this.Ly=s,this.By=o}return ft(t,[{key:"Ld",get:function(){var t;return this.xd||(this.xd=(t=this,{get id(){return t.Sl},get identifier(){return t.Sl},get lines(){return t.Cy},get regionAnchorX(){return t.Ay},get regionAnchorY(){return t.Py},get scrollValue(){return t.By},get viewportAnchorX(){return t.xy},get viewportAnchorY(){return t.Ly},get width(){return t.Ny}})),this.xd}},{key:"mr",get:function(){return By.Qg}}]),t}(),Ky=function(){function t(){}var n=t.prototype;return n.My=function(t){return this.Fy()*t},n.Uy=function(t){return this.Vy(t)>0},n.Hy=function(t){return this.Vy(t)>=0},n.Wy=function(t,n){return this.zy(t).qy(n)},n.by=function(t){return 0===this.Vy(t)},n.jy=function(t){return this.Vy(t)<0},n.qy=function(t){return this.Vy(t)<=0},n.$y=function(){return this.Xy()?this.Gy():this},n.Yy=function(t){return this.Hg(t.Gy())},n.zy=function(t){return this.Yy(t).$y()},t}();function Jy(t,n){return t.Ky()?n.Ky()?Zr.Or:Zr.Nr:n.Ky()?Zr.Cr:t.Jy()?n.Jy()&&t.Xy()===n.Xy()?Zr.Or:t.Xy()?Zr.Cr:Zr.Nr:n.Xy()?Zr.Nr:Zr.Cr}var Qy=function(){function t(t,n){this.Qy=void 0,this.Zy=void 0,this.Qy=t,this.Zy=n}t.tm=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.nm=function(n){return n.unsigned?new t(n,Jt.UZERO):new t(n,n.isNegative()?Jt.NEG_ONE:Jt.ZERO)},t.im=function(n,i){if(g(n))return i?t.rm:t.um;if(i){if(n<0)return t.rm;if(n>=3.402823669209385e38)return t.sm}else{if(n<=-1.7014118346046923e38)return t.om;if(n+1>=1.7014118346046923e38)return t.cm}return n<0?t.im(-n,i).Gy():t.tm(Jt.fromNumber(n%0x10000000000000000),Jt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.am=function(){return this.Zy.unsigned},n.fm=function(){return this.Qy.isZero()&&this.Zy.isZero()},n.Xy=function(){return this.Zy.isNegative()},n.hm=function(){return this.am()?t.tm(this.Qy,this.Zy,!1):this},n.vm=function(){return this.am()?this:t.tm(this.Qy,this.Zy,!0)},n.dm=function(){return this.Qy},n.Fy=function(){return this.Xy()?-this.Gy().Fy():0x10000000000000000*this.Zy.toNumber()+this.Qy.toUnsigned().toNumber()},n.lm=function(){return this.Qy.toInt()},n.by=function(t){return(this.am()===t.am()||this.Zy.getHighBits()>>>31!=1||t.Zy.getHighBits()>>>31!=1)&&(this.Zy.toUnsigned().eq(t.Zy.toUnsigned())&&this.Qy.toUnsigned().eq(t.Qy.toUnsigned()))},n.Vy=function(t){if(this.by(t))return Zr.Or;var n=this.Xy(),i=t.Xy();if(n&&!i)return Zr.Cr;if(!n&&i)return Zr.Nr;if(!this.am())return this.Yy(t).Xy()?Zr.Cr:Zr.Nr;var e=this.vm(),r=t.vm(),u=r.Zy.comp(e.Zy);return u>0||0===u&&r.Qy.gt(e.Qy)?Zr.Cr:Zr.Nr},n.jy=function(t){return this.Vy(t)<0},n.qy=function(t){return this.Vy(t)<=0},n.wm=function(t){return this.Vy(t)>0},n.gm=function(t){return this.Vy(t)>=0},n.ym=function(){return new t(this.Qy.not(),this.Zy.not())},n.mm=function(n){return new t(this.Qy.and(n.Qy),this.Zy.and(n.Zy))},n.bm=function(n){return new t(this.Qy.or(n.Qy),this.Zy.or(n.Zy))},n.pm=function(n){var i=127&n;return 0===i?this:i<64?t.tm(this.Qy.shl(i),this.Zy.shl(i).or(this.Qy.shru(64-i)),this.am()):t.tm(Jt.ZERO,this.Qy.shl(i-64),this.am())},n._m=function(n){var i=127&n;return 0===i?this:i<64?t.tm(this.Qy.shru(i).or(this.Zy.shl(64-i)),this.Zy.shr(i),this.am()):t.tm(this.Zy.shr(i-64),this.Zy.isNegative()?Jt.NEG_ONE:Jt.ZERO,this.am())},n.km=function(n){var i=127&n;return 0===i?this:i<64?t.tm(this.Qy.shru(i).or(this.Zy.shl(64-i)),this.Zy.shru(i),this.am()):64===i?t.tm(this.Zy,Jt.ZERO,this.am()):t.tm(this.Zy.shru(i-64),Jt.ZERO,this.am())},n.Hg=function(n){var i=this.Zy.high>>>16,e=65535&this.Zy.high,r=this.Zy.low>>>16,u=65535&this.Zy.low,s=this.Qy.high>>>16,o=65535&this.Qy.high,c=this.Qy.low>>>16,a=65535&this.Qy.low,f=n.Zy.high>>>16,h=65535&n.Zy.high,v=n.Zy.low>>>16,d=65535&n.Zy.low,l=n.Qy.high>>>16,w=65535&n.Qy.high,g=n.Qy.low>>>16,y=0,m=0,b=0,p=0,_=0,k=0,T=0,S=0;T+=(S+=a+(65535&n.Qy.low))>>>16,S&=65535,k+=(T+=c+g)>>>16,T&=65535,_+=(k+=o+w)>>>16,k&=65535,p+=(_+=s+l)>>>16,_&=65535,b+=(p+=u+d)>>>16,p&=65535,m+=(b+=r+v)>>>16,b&=65535,y+=(m+=e+h)>>>16,m&=65535,y+=i+f,y&=65535;var E=this.am(),R=Jt.fromBits(b<<16|p,y<<16|m,E),I=Jt.fromBits(T<<16|S,_<<16|k,E);return t.tm(I,R,E)},n.Yy=function(t){return this.Hg(t.Gy())},n.Gy=function(){return this.ym().Hg(t.Tm)},n.Sm=function(n){if(this.fm()||n.fm())return this.am()?t.rm:t.um;if(this.Xy())return n.Xy()?this.Gy().Sm(n.Gy()):this.Gy().Sm(n).Gy();if(n.Xy())return this.Sm(n.Gy()).Gy();if(this.Zy.isZero()&&0===this.Qy.high&&n.Zy.isZero()&&0===n.Qy.high)return t.nm(this.Qy.multiply(n.Qy));var i=Jt.fromBits(4294967295,0,!0),e=this.Qy.and(i),r=this.Qy.shru(32),u=this.Zy.and(i),s=this.Zy.shru(32),o=n.Qy.and(i),c=n.Qy.shru(32),a=n.Zy.and(i),f=n.Zy.shru(32),h=Jt.UZERO,v=Jt.UZERO,d=Jt.UZERO,l=Jt.UZERO;h=h.add(e.mul(o)),v=v.add(h.shru(32)),h=h.and(i),v=v.add(r.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(c)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(c)).add(r.mul(a)).add(e.mul(f)).and(i);var w=Jt.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Jt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.tm(w,g,this.am())},n.Em=function(n){var i,e,r=n;if(r.fm())throw new RangeError("division by zero");if(this.fm())return this.am()?[t.rm,t.rm]:[t.um,t.um];if(this.am()){if(r.am()||(r=r.vm()),r.wm(this))return[t.rm,this];if(r.wm(this.km(1)))return[e=t.Rm,i=this.Yy(r)];e=t.rm}else{if(this.by(t.om)){if(r.by(t.Tm)||r.by(t.Im))return[t.om,t.um];if(r.by(t.om))return[t.Tm,t.um];var u=this._m(1).Dm(r).pm(1);return u.by(t.um)?e=r.Xy()?t.Tm:t.Im:(i=this.Yy(r.Sm(u)),e=u.Hg(i.Dm(r))),[e,i=this.Yy(r.Sm(e))]}if(r.by(t.om))return this.am()?[t.rm,this]:[t.um,this];if(this.Xy()){if(r.Xy())return this.Gy().Em(r.Gy());var s=this.Gy().Em(r);return e=s[0],i=s[1],[e.Gy(),i.Gy()]}if(r.Xy()){var o=this.Em(r.Gy());return e=o[0],i=o[1],[e.Gy(),i.Gy()]}e=t.um}for(i=this;i.gm(r);){for(var c=d.max(1,d.floor(i.Fy()/r.Fy())),a=d.ceil(d.log(c)/d.LN2),f=a<=48?1:d.pow(2,a-48),h=t.im(c),v=h.Sm(r);v.Xy()||v.wm(i);)c-=f,v=(h=t.im(c,this.am())).Sm(r);h.fm()&&(h=t.Tm),e=e.Hg(h),i=i.Yy(v)}return[e,i]},n.Dm=function(t){return this.Em(t)[0]},n.Om=function(t){return this.Em(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.fm())return"0";if(this.Xy()){if(this.by(t.om)){var e=t.im(i),r=this.Dm(e),u=r.Sm(e).Yy(this);return r.toString(i)+u.lm().toString(i)}return"-"+this.Gy().toString(i)}for(var s=t.im(d.pow(i,6),this.am()),o=this,c="";;){var a=o.Dm(s),f=(o.Yy(a.Sm(s)).lm()>>>0).toString(i);if((o=a).fm())return f+c;for(;f.length<6;)f="0"+f;c=String(f)+c}},t}();Qy.um=Qy.nm(Jt.ZERO),Qy.rm=Qy.nm(Jt.UZERO),Qy.Tm=Qy.nm(Jt.ONE),Qy.Rm=Qy.nm(Jt.UONE),Qy.Im=Qy.nm(Jt.NEG_ONE),Qy.cm=Qy.tm(Jt.NEG_ONE,Jt.MAX_VALUE,!1),Qy.sm=Qy.tm(Jt.MAX_UNSIGNED_VALUE,Jt.MAX_UNSIGNED_VALUE,!0),Qy.om=Qy.tm(Jt.ZERO,Jt.MIN_VALUE,!1);var Zy=function(){function t(t,n){void 0===n&&(n=1),this.Nm=void 0,this.Cm=void 0,this.Nm=t,this.Cm=n}t.Am=function(n){return new t(d.ceil(n.Nm),n.Cm)},t.Pm=function(n){return new t(d.floor(n.Nm),n.Cm)},t.xm=function(t,n){return t.Hy(n)?t:n},t.Lm=function(t,n){return t.qy(n)?t:n};var n=t.prototype;return n.Hg=function(n){return this.Cm>=n.Cm?new t(this.Nm+n.Bm(this.Cm).Nm,this.Cm):new t(this.Bm(n.Cm).Nm+n.Nm,n.Cm)},n.Uy=function(t){return t.jy(this)},n.Hy=function(t){return t.qy(this)},n.zy=function(n){return this.Cm>=n.Cm?new t(d.abs(this.Nm-n.Bm(this.Cm).Nm),this.Cm):n.zy(this)},n.Wy=function(t,n){return this.zy(t).qy(n)},n.Vy=function(t){return i=t,(n=this).Cm>=i.Cm?su(n.Nm,i.Bm(n.Cm).Nm):su(n.Bm(i.Cm).Nm,i.Nm);var n,i},n.by=function(t){return 0===this.Vy(t)},n.jy=function(t){return this.Vy(t)<0},n.qy=function(t){return this.Vy(t)<=0},n.Bm=function(n){return new t(this.Nm*(n/this.Cm),n)},n.Yy=function(n){return this.Cm>=n.Cm?new t(this.Nm-n.Bm(this.Cm).Nm,this.Cm):new t(this.Bm(n.Cm).Nm-n.Nm,n.Cm)},n.Mm=function(n){return new t(this.Nm*n,this.Cm)},ft(t,[{key:"Jy",get:function(){return!isFinite(this.Nm)}},{key:"Fm",get:function(){return this.Nm/this.Cm}}]),t}();Zy.Um=new Zy(1/6,1),Zy.um=new Zy(0),Zy.Vm=new Zy(1/0),Zy.Hm=1e6;var tm=function(t){function n(n,i){var e;return(e=t.call(this)||this).yi=void 0,e.Cm=void 0,e.yi=n.toSigned(),e.Cm=i>>>0,e}vt(n,t),n.Wm=function(t,i){return void 0===i&&(i=1e6),n.im(t*i,i)},n.im=function(t,i){return g(t)?n.qm:t===1/0?n.zm:t===-1/0?n.jm:new n(Jt.fromNumber(t),i)},n.nm=function(t,i){return new n(t,i)},n.$m=function(t){return n.Wm(t.Fm,1e6)},n.Xm=function(t){return new n(Jt.fromNumber(t.getTime()),1e3)},n.xm=function(t,n){return t.Hy(n)?t:n},n.Lm=function(t,n){return t.qy(n)?t:n},n.Gm=function(t,i,e){return n.xm(i,n.Lm(e,t))};var i=n.prototype;return i.Xy=function(){return this.yi.isNegative()},i.fm=function(){return 0!==this.Cm&&this.yi.isZero()},i.Jy=function(){return 0===this.Cm&&!this.yi.isZero()},i.Ky=function(){return 0===this.Cm&&this.yi.isZero()},i.Fy=function(){if(0===this.Cm)return this.yi.isZero()?NaN:this.yi.isNegative()?-1/0:1/0;var t=this.yi.divide(this.Cm),n=this.yi.subtract(t.multiply(this.Cm));return t.toNumber()+n.toNumber()/this.Cm},i.dm=function(){if(0===this.Cm)throw new f("Failed to convert timestamp");return this.yi},i.Ym=function(){return new Date(0===this.Cm?NaN:this.Bm(1e3).yi.toNumber())},i.Km=function(){return new Zy(0===this.Cm?this.Fy():this.yi.toNumber(),this.Cm)},i.Bm=function(t,i){void 0===i&&(i=em.Jm);var e=this.Cm;if(e===t)return this;if(0===e)return this;var r=En(e,t);return new n(function(t,n,i){var e=t.Em(n),r=e[0],u=e[1];if(u.fm())return r;if(i===em.Jm)return u.Xy()?r.Yy(Qy.Tm):r;if(i===em.Qm)return u.Xy()?r:r.Hg(Qy.Tm);var s=u.Sm(Qy.im(2));return s.Xy()?s.Gy().jy(n)?r:r.Yy(Qy.Tm):s.jy(n)?r:r.Hg(Qy.Tm)}(Qy.nm(this.yi).Sm(Qy.im(t/r)),Qy.im(e/r),i).dm(),t)},i.Vy=function(t){if(this===t)return Zr.Or;if(0===this.Cm||0===t.Cm)return Jy(this,t);if(this.fm())return t.fm()?Zr.Or:t.Xy()?Zr.Nr:Zr.Cr;if(t.fm())return this.Xy()?Zr.Cr:Zr.Nr;var n=d.min(this.Cm,t.Cm),i=this.Bm(n,em.Zm).yi,e=t.Bm(n,em.Zm).yi;return i.compare(e)},i.Gy=function(){return 0===this.Cm?nm(this):new n(this.yi.negate(),this.Cm)},i.Hg=function(t){if(0===this.Cm||0===t.Cm)return im(this,t);if(this.fm())return t;if(t.fm())return this;var i=d.max(this.Cm,t.Cm),e=this.Bm(i,em.Zm),r=t.Bm(i,em.Zm);return new n(e.yi.add(r.yi),i)},i.Sm=function(t){if(this.Ky()||g(t))return n.qm;if(this.Jy()||!isFinite(t)){if(this.fm()||0===t)return n.qm;var i=this.Xy()?n.jm:n.zm;return t<0?i.Gy():i}return this.fm()?this:new n(0===t?Jt.ZERO:this.yi.multiply(t),this.Cm)},i.Dm=function(t){if(this.Ky()||g(t))return n.qm;if(this.Jy())return isFinite(t)?0===t?1/t<0?this.Gy():this:t<0?this.Gy():this:n.qm;if(!isFinite(t))return new n(Jt.ZERO,this.Cm);if(this.fm())return 0===t?n.qm:new n(Jt.ZERO,this.Cm);if(0===t){var i=this.Xy()?n.jm:n.zm;return 1/t<0?i.Gy():i}return new n(this.yi.divide(t),this.Cm)},i.tb=function(){return[this.yi.low,this.yi.high,this.Cm]},n}(Ky);function nm(t){return t.Ky()?t:t.Xy()?tm.zm:tm.jm}function im(t,n){return t.Ky()||n.Ky()?tm.qm:t.Jy()&&n.Jy()?t.Xy()===n.Xy()?t:tm.qm:t.Jy()?t:n}tm.um=new tm(Jt.ZERO,1e6),tm.qm=new tm(Jt.ZERO,0),tm.zm=new tm(Jt.ONE,0),tm.jm=new tm(Jt.NEG_ONE,0);var em,rm=function(t){function n(n,i){var e;return(e=t.call(this)||this).yi=void 0,e.Cm=void 0,e.yi=BigInt.asIntN(64,n),e.Cm=i>>>0,e}vt(n,t),n.Wm=function(t,i){return void 0===i&&(i=1e6),n.im(t*i,i)},n.im=function(t,i){return g(t)?n.qm:t===1/0?n.zm:t===-1/0?n.jm:new n(BigInt(d.floor(t)),i)},n.nm=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.$m=function(t){return n.Wm(t.Fm,1e6)},n.Xm=function(t){return n.im(t.getTime(),1e3)},n.xm=function(t,n){return t.Hy(n)?t:n},n.Lm=function(t,n){return t.qy(n)?t:n},n.Gm=function(t,i,e){return n.xm(i,n.Lm(e,t))};var i=n.prototype;return i.Xy=function(){return this.yi<BigInt(0)},i.fm=function(){return 0!==this.Cm&&this.yi===BigInt(0)},i.Jy=function(){return 0===this.Cm&&this.yi!==BigInt(0)},i.Ky=function(){return 0===this.Cm&&this.yi===BigInt(0)},i.Fy=function(){if(0===this.Cm)return this.yi===BigInt(0)?NaN:this.yi<BigInt(0)?-1/0:1/0;var t=this.yi/BigInt(this.Cm),n=this.yi-t*BigInt(this.Cm);return Number(t)+Number(n)/this.Cm},i.dm=function(){if(0===this.Cm)throw new f("Failed to convert timestamp");return this.nb()},i.nb=function(){var t=this.yi&BigInt(4294967295),n=this.yi>>BigInt(32)&BigInt(4294967295);return Jt.fromBits(Number(t),Number(n))},i.Ym=function(){return new Date(0===this.Cm?NaN:Number(this.Bm(1e3).yi))},i.Km=function(){return new Zy(0===this.Cm?this.Fy():Number(this.yi),this.Cm)},i.Bm=function(t,i){void 0===i&&(i=em.Jm);var e=this.Cm;if(e===t)return this;if(0===e)return this;var r=En(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===em.Jm)return r<BigInt(0)?e-BigInt(1):e;if(i===em.Qm)return r<BigInt(0)?e:e+BigInt(1);var u=r*BigInt(2);return u<BigInt(0)?-u<n?e:e-BigInt(1):u<n?e:e+BigInt(1)}(this.yi*BigInt(t/r),BigInt(e/r),i),t)},i.Vy=function(t){if(this===t)return Zr.Or;if(0===this.Cm||0===t.Cm)return Jy(this,t);if(this.fm())return t.fm()?Zr.Or:t.Xy()?Zr.Nr:Zr.Cr;if(t.fm())return this.Xy()?Zr.Cr:Zr.Nr;var n=d.min(this.Cm,t.Cm),i=this.Bm(n,em.Zm).yi,e=t.Bm(n,em.Zm).yi;return i>e?Zr.Nr:i<e?Zr.Cr:Zr.Or},i.Gy=function(){return 0===this.Cm?um(this):new n(-this.yi,this.Cm)},i.Hg=function(t){if(0===this.Cm||0===t.Cm)return sm(this,t);if(this.fm())return t;if(t.fm())return this;var i=d.max(this.Cm,t.Cm),e=this.Bm(i,em.Zm),r=t.Bm(i,em.Zm);return new n(e.yi+r.yi,i)},i.Sm=function(t){if(this.Ky()||g(t))return n.qm;if(this.Jy()||!isFinite(t)){if(this.fm()||0===t)return n.qm;var i=this.Xy()?n.jm:n.zm;return t<0?i.Gy():i}return this.fm()?this:new n(0===t?BigInt(0):this.yi*BigInt(t),this.Cm)},i.Dm=function(t){if(this.Ky()||g(t))return n.qm;if(this.Jy())return isFinite(t)?0===t?1/t<0?this.Gy():this:t<0?this.Gy():this:n.qm;if(!isFinite(t))return new n(BigInt(0),this.Cm);if(this.fm())return 0===t?n.qm:new n(BigInt(0),this.Cm);if(0===t){var i=this.Xy()?n.jm:n.zm;return 1/t<0?i.Gy():i}return new n(this.yi/BigInt(t),this.Cm)},i.tb=function(){var t=this.nb();return[t.low,t.high,this.Cm]},ft(n,null,[{key:"um",get:function(){return n.ib||(n.ib=new n(BigInt(0),1e6)),n.ib}},{key:"qm",get:function(){return n.eb||(n.eb=new n(BigInt(0),0)),n.eb}},{key:"zm",get:function(){return n.ub||(n.ub=new n(BigInt(1),0)),n.ub}},{key:"jm",get:function(){return n.sb||(n.sb=new n(BigInt(-1),0)),n.sb}}]),n}(Ky);function um(t){return t.Ky()?t:t.Xy()?rm.zm:rm.jm}function sm(t,n){return t.Ky()||n.Ky()?rm.qm:t.Jy()&&n.Jy()?t.Xy()===n.Xy()?t:rm.qm:t.Jy()?t:n}rm.ib=void 0,rm.eb=void 0,rm.ub=void 0,rm.sb=void 0,function(t){t[t.Jm=0]="Jm",t[t.Qm=1]="Qm",t[t.Zm=2]="Zm"}(em||(em={}));var om=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?rm:tm,cm=9e4,am=d.pow(2,33);om.im(am,cm).Dm(2);var fm,hm,vm,dm,lm={ob:0,cb:1/0,ab:0},wm=6,gm=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],ym=[" ","\t","\n","\f","\r"],mm=/^\d*$/,bm=/.*[0-9]+.*/,pm=/^[\d.-]+$/,_m=/(^\.|\.$)/,km=/(\D\.|\.\D)/;function Tm(t,n){void 0===n&&(n=lm);var i={Vl:[],fb:[],hb:[]},e=Sm(t),r=new Hs;if(xm(e),Em(e,function(t){return"\n"!==t},r),r.Ou>=e.length)return i;(r.Ru(1),"\n"!==e.charAt(r.Ou))?Om(Rm(e,r,!1,!0,i,n),i):r.Ru(1);for(Em(e,function(t){return"\n"===t},r);r.Ou<e.length;){Om(Rm(e,r,!1,!1,i,n),i),Em(e,function(t){return"\n"===t},r)}return i}function Sm(t){var n=qr(t,"\0"," "),i=qr(n,"\r\n","\n");return qr(i,"\r","\n")}function Em(t,n,i){for(var e=i.Ou;i.Ou<t.length&&n(t.charAt(i.Ou));)i.Ru(1);return t.substring(e,i.Ou)}function Rm(t,n,i,e,r,u){for(var s,o=0,c=n.Ou,a="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(s=Em(t,function(t){return"\n"!==t},n),o++,n.Ou>=t.length?f=!0:n.Ru(1),zr(s,"--\x3e")){if(e||1!==o&&(2!==o||h)){n.Iu(c);break}h=!0,c=n.Ou,v=new Gy(0,0,"",!1,a);try{Nm(s,r.fb,v,u),a=""}catch(t){st.Oe(t),v=null}}else{if(""===s)break;e&&jr(s,"X-TIMESTAMP-MAP")&&(r.vb=Im(s)),e||2!==o||i||(Xr("STYLE",a.replace(/ /g,""))?(d={mr:By.Zg},a=""):Xr("REGION",a.replace(/ /g,""))&&(l=new Yy("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=s,c=n.Ou}if(v)return v.ay=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&zr(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var u=r.indexOf(":"),s=r.substring(0,u),o=r.substring(u+1,r.length);switch(s.toUpperCase()){case"ID":jm(o,n);break;case"WIDTH":Gm(o,n);break;case"LINES":Xm(o,n);break;case"REGIONANCHOR":var c=zm(o);c&&(n.Ay=c[0],n.Py=c[1]);break;case"VIEWPORTANCHOR":var a=zm(o);a&&(n.xy=a[0],n.Ly=a[1]);break;case"SCROLL":$m(o,n)}}}}(a,l),l;return null}function Im(t){var n,i,e=t.split("=")[1].trim().split(","),r=Dm(e[0].trim(),"MPEGTS")?e[0]:e[1],u=Dm(e[0].trim(),"LOCAL")?e[0]:e[1];return{lb:(i=Number(r.split(/:(.*)/)[1].trim())||0,om.im(i,cm)),wb:om.Wm(null!=(n=Pm(u.split(/:(.*)/)[1].trim(),new Hs))?n:0)}}function Dm(t,n){return jr(t,n)}function Om(t,n){t&&function(t){return t.mr===By.Jg}(t)?n.Vl.push(t):t&&function(t){return t.mr===By.Qg}(t)?n.fb.push(t):t&&function(t){return t.mr===By.Zg}(t)&&n.hb.push(t)}function Nm(t,n,i,e){var r=new Hs;if(Lm(t,r),i.sy=Cm(Pm(t,r),e),Lm(t,r),"--\x3e"!==t.substring(r.Ou,r.Ou+3))throw f("Something went wrong with parsing a WebVTT Cue");r.Ru(3),Lm(t,r),i.oy=Cm(Pm(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var u=e[r];if(0!==u.length&&zr(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),c=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":Vm(c,n,i);break;case"VERTICAL":Wm(c,n);break;case"D":qm(c,n);break;case"LINE":case"L":Fm(c,n);break;case"POSITION":case"T":Um(c,n);break;case"SIZE":case"S":Hm(c,n);break;case"ALIGN":case"A":Mm(c,n)}}}}(t.substring(r.Ou,t.length),i,n)}function Cm(t,n){return t+n.ob}function Am(t){return/^[0-9]$/.test(t)}function Pm(t,n){var i,e,r,u=qr(t,",","."),s=!1;if(n.Ou>=u.length||!Am(u.charAt(n.Ou)))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var o=Em(u,Am,n),c=l(o,10);if((o.length>2||c>59)&&(s=!0),n.Ou>=u.length||":"!==u.charAt(n.Ou))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Ru(1);var a=Em(u,Am,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var h=l(a,10);if(s||n.Ou<u.length&&":"===u.charAt(n.Ou)){if(n.Ou>=u.length||":"!==u.charAt(n.Ou))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Ru(1);var v=Em(u,Am,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");i=c,e=h,r=l(v,10)}else i=0,e=c,r=h;if(n.Ou>=u.length||"."!==u.charAt(n.Ou))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Ru(1);var d=Em(u,Am,n),w=l(d,10);if(h>59||r>59)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+w/1e3}function xm(t){if(t.length<wm)return!1;for(var n=0;n<gm.length;n++){if(jr(t,gm[n]))return!0}return!1}function Lm(t,n){for(;n.Ou<t.length&&(i=t.charAt(n.Ou),hu(ym,i));)n.Ru(1);var i}function Bm(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!g(i)&&i>=0&&i<=100)return i}return null}function Mm(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Dy=i;break;case"middle":n.Dy="center"}}function Fm(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),bm.test(i)){var u,s;if($r(i,"%")){var o=Bm(i);if(null===o)return;u=o,s=!1}else{if(!pm.test(i)||i.lastIndexOf("-")>0)return;var c=i.indexOf(".");if(c>=0&&(c!==i.lastIndexOf(".")||!km.test(i)||_m.test(i)))return;if(u=w(i),g(u))return;s=!0}switch(n.ky=u,n.Iy=s,e=e.toLowerCase()){case"start":case"center":case"end":n.Ty=e;break;case"middle":n.Ty="center"}}}function Um(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var u=Bm(i);if(null!==u)switch(n.Sy=u,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Ey=e;break;case"start":n.Ey="line-left";break;case"middle":n.Ey="center";break;case"end":n.Ey="line-right"}}function Vm(t,n,i){var e=cu(i,function(n){return n.Sl===t});void 0!==e&&(n.Ry=e)}function Hm(t,n){var i=Bm(t);null!==i&&(n.Su=i)}function Wm(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Oy="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Oy="lr";break;default:n.Oy=""}}function qm(t,n){"VERTICAL"===t.toUpperCase()?n.Oy="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Oy="lr")}function zm(t){if(t.indexOf(",")>=0){var n=Bm(t.substring(0,t.indexOf(","))),i=Bm(t.substring(t.indexOf(",")+1,t.length));return[Tn(n||0,0,100),Tn(i||100,0,100)]}return null}function jm(t,n){n.Sl=t}function $m(t,n){"up"===t.toLowerCase()&&(n.By="up")}function Xm(t,n){mm.test(t)&&(n.Cy=l(t))}function Gm(t,n){var i=Bm(t);null!==i&&(n.Ny=i)}!function(t){t.gb="moov",t.yb="mvhd",t.mb="trak",t.bb="tkhd",t.pb="mdia",t._b="mdhd",t.kb="hdlr",t.Tb="minf",t.Sb="stbl",t.Eb="stsd",t.Rb="stsc",t.Ib="mvex",t.Db="trex",t.Ob="avc1",t.Nb="avcC",t.Cb="hev1",t.Ab="hvc1",t.Pb="hvcC",t.xb="pasp",t.Lb="mp4a",t.Bb="esds",t.Mb="wvtt",t.Fb="vttC",t.Ub="vlab",t.Vb="enca",t.Hb="encv",t.Wb="moof",t.qb="mfhd",t.zb="traf",t.jb="tfhd",t.$b="trun",t.Xb="tfdt",t.Gb="senc",t.Yb="mdat",t.Kb="pssh",t.Jb="emsg",t.Qb="sidx",t.Zb="styp",t.tp="ftyp",t.np="sinf",t.ip="frma"}(fm||(fm={})),function(t){t.av="vide",t.cv="soun",t.ep="subt",t.rp="hint",t.sp="meta",t.op="auxv"}(hm||(hm={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(vm||(vm={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(dm||(dm={}));var Ym=function(){function t(t,n){this.Li=void 0,this.cp=void 0,this.Li=t,this.cp=n}var n=t.prototype;return n.ap=function(){return hs(this.Li,this.cp)},n.fp=function(){return ws(this.Li,this.cp)},n.hp=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Ou,i);return n.Ru(2),e}(this.Li,this.cp)},n.vp=function(){return ys(this.Li,this.cp)},n.dp=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Ou,i);return n.Ru(4),e}(this.Li,this.cp)},n.lp=function(){return bs(this.Li,this.cp)},n.wp=function(t){return ds(this.Li,this.cp,t)},n.gp=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(ys(t,n));return e}(this.Li,this.cp,t)},n.yp=function(t){return _s(this.Li,this.cp,t)},n.mp=function(){return Ns(this.Li,this.cp)},n.bp=function(t){this.cp.Ru(t)},n.Du=function(){return new t(this.Li,this.cp.Du())},t}(),Km=function(t){function n(n,i){var e;return(e=t.call(this)||this).pp=n,e._p=i,e}return vt(n,t),ft(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(An),Jm=function(){function t(){}return t.kp=function(n){var i=n.Li,e=n.cp,r=t.Tp(i,e,!1);if(!r.Sp)throw new Km(e.Ou,r.Ri);return r.Ri},t.Tp=function(n,i,e){for(var r=[];i.Ou<n.byteLength;){var u=t.Ep(n,i,e);if(!u.Sp)return{Sp:!1,Ri:r};r.push(u.Rp)}return{Sp:!0,Ri:r}},t.Ip=function(n,i){var e=t.Ep(n,i,!1);if(!e.Sp)throw new Km(i.Ou);return e.Rp},t.Dp=function(n,i){for(var e=n.Li,r=n.cp;r.Ou<e.byteLength;){var u=t.Ep(e,r,!1);if(!u.Sp)return;if(u.Rp.mr===i)return u.Rp}},t.Ep=function(n,i,e){var r=i.Ou,u=t.Op(n,i);if(!u.Sp)return u;var s=u.Np,o=s.Su;if(0===o){if(e)return i.Iu(r),{Sp:!1,Cp:1/0};o=n.byteLength-r}var c=r+o;if(c>n.byteLength){var a=c;return i.Iu(r),{Sp:!1,Cp:a}}var f,h,v,d={mr:s.mr,Ou:r,Li:new Ym((f=n,h=r,v=c,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new Hs(s.Ap))};return i.Iu(c),{Sp:!0,Rp:d}},t.Op=function(t,n){var i=n.Ou;if(!ls(t,n,8))return{Sp:!1,Cp:n.Ou+8};var e=ys(t,n),r=_s(t,n,4);if(1===e){if(!ls(t,n,8)){var u=n.Ou+8;return n.Iu(i),{Sp:!1,Cp:u}}e=bs(t,n).toNumber()}if("uuid"===r){if(!ls(t,n,16)){var s=n.Ou+16;return n.Iu(i),{Sp:!1,Cp:s}}r=_s(t,n,16)}return{Sp:!0,Np:{mr:r,Su:e,Ap:n.Ou-i}}},t.Pp=function(t,n,i){var e=t.Li,r=t.cp,u=Ps(Ls(e),r.Ou,e.byteLength);return i&&(u=Us(u)),r.Ru(u.byteLength),{mr:n,Li:u}},t.xp=function(n,i,e){var r=nb(n.vp());return{mr:i,Lp:r.version,Bp:r.flags,Li:t.Pp(n,i,e).Li}},t}();function Qm(t,n){var i=Zm(t,n);if(!i)throw new f("Missing "+n+" atom");return i}function Zm(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.mr===n)return e.Li}}function tb(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.mr===n&&i.push(r.Li)}return i}function nb(t){return{version:t>>24,flags:new fs(16777215&t)}}var ib=function(){function t(){}return t.Mp=function(n){for(var i=[],e=Jm.kp(new Ym(n,new Hs)),r=0;r<e.length;r++){var u=e[r],s=t.Fp(u);s&&i.push(s)}return i},t.Up=function(t){return Jm.Tp(t,new Hs,!1).Ri.some(this.Vp)},t.Hp=function(n){return tb(Jm.kp(new Ym(n,new Hs)),fm.Kb).map(t.Wp)},t.qp=function(n){return tb(Jm.kp(n.Li),fm.Kb).map(t.Wp)},t.Vp=function(t){return t.mr===fm.tp||t.mr===fm.Zb||t.mr===fm.gb||t.mr===fm.Wb||t.mr===fm.Yb||t.mr===fm.Qb||t.mr===fm.Jb},t.Fp=function(n){switch(n.mr){case fm.gb:return t.zp(n.Li);case fm.Wb:return t.jp(n.Li,n.Ou);case fm.Yb:return t.$p(n.Li);case fm.Qb:return t.Xp(n.Li);case fm.Jb:return t.Gp(n.Li)}},t.zp=function(n){var i=Jm.kp(n),e=Qm(i,fm.yb),r=tb(i,fm.mb),u=Zm(i,fm.Ib),s=t.Yp(e),o=r.map(t.Kp),c=u?t.Jp(u):void 0;return{mr:fm.gb,Np:s,Qp:o,Zp:c}},t.Yp=function(t){var n=nb(t.vp()),i=n.version,e=n.flags,r=1===i?t.lp():t.vp(),u=1===i?t.lp():t.vp(),s=t.vp(),o=1===i?t.lp():t.vp(),c=t.vp(),a=t.fp()>>8;t.bp(2),t.bp(8);var f=t.gp(9);t.bp(24);var h=t.vp();return{mr:fm.yb,Lp:i,Bp:e,t_:r,n_:u,Cm:s,kw:o,i_:c,Cw:a,e_:f,r_:h}},t.Kp=function(n){var i=Jm.kp(n),e=Qm(i,fm.bb),r=Qm(i,fm.pb),u=t.u_(e),s=t.s_(r);return{mr:fm.mb,Np:u,o_:s}},t.u_=function(t){var n=nb(t.vp()),i=n.version,e=n.flags,r=1===i?t.lp():t.vp(),u=1===i?t.lp():t.vp(),s=t.vp();t.bp(4);var o=1===i?t.lp():t.vp();t.bp(8);var c=t.hp(),a=t.hp(),f=t.hp()/d.pow(2,8);t.bp(2);var h=t.gp(9),v=t.vp()/d.pow(2,16),l=t.vp()/d.pow(2,16);return{mr:fm.bb,c_:e.Cu(1),a_:e.Cu(2),f_:e.Cu(4),t_:r,n_:u,h_:s,kw:o,v_:c,d_:a,Cw:f,e_:h,Ny:v,l_:l}},t.s_=function(n){var i=Jm.kp(n),e=Qm(i,fm._b),r=Qm(i,fm.kb),u=Qm(i,fm.Tb),s=t.w_(e),o=t.g_(r),c=t.y_(u);return{mr:fm.pb,Np:s,m_:o,b_:c}},t.w_=function(t){var n=nb(t.vp()),i=n.version,e=n.flags,r=1===i?t.lp():t.vp(),u=1===i?t.lp():t.vp(),s=t.vp(),o=1===i?t.lp():t.vp();return t.fp(),t.bp(2),{mr:fm._b,Lp:i,Bp:e,t_:r,n_:u,Cm:s,kw:o}},t.g_=function(t){var n=nb(t.vp()),i=n.version,e=n.flags;t.bp(4);var r=t.yp(4);t.bp(12);var u=t.mp();return{mr:fm.kb,Lp:i,Bp:e,p_:r,li:u}},t.y_=function(n){var i=Qm(Jm.kp(n),fm.Sb),e=t.__(i);return{mr:fm.Tb,k_:e}},t.__=function(n){var i=Qm(Jm.kp(n),fm.Eb),e=t.T_(i);return{mr:fm.Sb,S_:e}},t.T_=function(n){var i=nb(n.vp()),e=i.version,r=i.flags;n.vp();for(var u=[],s=Jm.kp(n),o=0;o<s.length;o++){var c=s[o],a=t.E_(c.Li,c.mr);a&&u.push(a)}return{mr:fm.Eb,Lp:e,Bp:r,R_:u}},t.E_=function(n,i){var e=t.I_(n,i);return e||((e=t.D_(n,i))||(i===fm.Mb?t.O_(n):void 0))},t.I_=function(n,i){return i===fm.Lb?t.N_(n):i===fm.Vb?t.C_(n):void 0},t.D_=function(n,i){return i===fm.Ob?t.A_(n):i===fm.Cb||i===fm.Ab?t.P_(n,i):i===fm.Hb?t.x_(n):void 0},t.L_=function(t,n){return t.bp(6),{mr:n,B_:t.fp()}},t.M_=function(n,i){var e=t.L_(n,i);n.bp(8);var r=n.fp(),u=n.fp();return n.bp(2),n.bp(2),gr({},e,{F_:r,U_:u,V_:n.vp()>>>16})},t.H_=function(n,i){var e=t.L_(n,i);n.bp(2),n.bp(2),n.bp(12);var r=n.fp(),u=n.fp(),s=n.vp(),o=n.vp();n.bp(4);var c=n.fp();n.bp(32);var a=n.fp();return n.bp(2),gr({},e,{Ny:r,l_:u,W_:s,q_:o,z_:c,j_:a})},t.N_=function(n){var i=t.M_(n,fm.Lb),e=Qm(Jm.kp(n),fm.Bb);return gr({},i,{X_:t.G_(e)})},t.O_=function(n){var i=t.L_(n,fm.Mb),e=Jm.kp(n),r=Qm(e,fm.Fb),u=t.Y_(r),s=Zm(e,fm.Ub);return gr({},i,{K_:u,J_:s?t.Q_(s):s})},t.Y_=function(t){return{mr:fm.Fb,gc:t.mp()}},t.Q_=function(t){return{mr:fm.Ub,Il:t.mp()}},t.G_=function(t){return Jm.xp(t,fm.Bb,!0)},t.A_=function(n){var i=t.H_(n,fm.Ob),e=Jm.kp(n),r=Qm(e,fm.Nb),u=Zm(e,fm.xb);return gr({},i,{Z_:t.tk(r),nk:u?t.ik(u):void 0})},t.P_=function(n,i){var e=t.H_(n,i),r=Qm(Jm.kp(n),fm.Pb);return gr({},e,{ek:t.rk(r)})},t.x_=function(n){var i=n.Du(),e=t.H_(n,fm.Hb),r=Qm(Jm.kp(n),fm.np),u=t.uk(r);return gr({},e,{sk:t.D_(i,u.ak.ck),fk:u})},t.C_=function(n){var i=n.Du(),e=t.M_(n,fm.Vb),r=Qm(Jm.kp(n),fm.np),u=t.uk(r);return gr({},e,{sk:t.I_(i,u.ak.ck),fk:u})},t.uk=function(n){var i=Qm(Jm.kp(n),fm.ip),e=t.hk(i);return{mr:fm.np,ak:e}},t.hk=function(t){var n=t.yp(4);return{mr:fm.ip,ck:n}},t.tk=function(t){return Jm.Pp(t,fm.Nb,!0)},t.rk=function(t){return Jm.Pp(t,fm.Pb,!0)},t.ik=function(t){var n=t.vp(),i=t.vp();return{mr:fm.xb,vk:n,dk:i}},t.Jp=function(n){var i=tb(Jm.kp(n),fm.Db).map(t.lk);return{mr:fm.Ib,Qp:i}},t.lk=function(t){var n=nb(t.vp()),i=n.version,e=n.flags,r=t.vp(),u=t.vp(),s=t.vp(),o=t.vp(),c=t.vp();return{mr:fm.Db,Lp:i,Bp:e,h_:r,wk:u,gk:s,yk:o,mk:c}},t.jp=function(n,i){var e=Jm.kp(n),r=Qm(e,fm.qb),u=tb(e,fm.zb),s=t.bk(r),o=u.map(t.pk);return{mr:fm.Wb,_k:i,Np:s,Qp:o}},t.bk=function(t){var n=nb(t.vp()),i=n.version,e=n.flags,r=t.vp();return{mr:fm.qb,Lp:i,Bp:e,kk:r}},t.pk=function(n){var i=Jm.kp(n),e=Qm(i,fm.jb),r=tb(i,fm.$b),u=Zm(i,fm.Xb),s=t.Tk(e),o=r.map(function(n){return t.Sk(n,s)}),c=u?t.Ek(u):void 0;return{mr:fm.zb,Np:s,Rk:o,Ik:c}},t.Tk=function(t){var n=nb(t.vp()),i=n.version,e=n.flags,r=t.vp(),u=e.Cu(vm.BASE_DATA_OFFSET_PRESENT)?t.lp():void 0,s=e.Cu(vm.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.vp():void 0,o=e.Cu(vm.DEFAULT_SAMPLE_DURATION_PRESENT)?t.vp():void 0,c=e.Cu(vm.DEFAULT_SAMPLE_SIZE_PRESENT)?t.vp():void 0,a=e.Cu(vm.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.vp():void 0;return{mr:fm.jb,Lp:i,Bp:e,h_:r,Dk:u,Ok:s,gk:o,yk:c,mk:a}},t.Sk=function(n,i){for(var e=nb(n.vp()),r=e.version,u=e.flags,s=n.vp(),o=u.Cu(dm.DATA_OFFSET_PRESENT)?n.dp():void 0,c=u.Cu(dm.FIRST_SAMPLE_FLAGS_PRESENT)?n.vp():void 0,a=[],f=0;f<s;f++){var h=t.Nk(n,u,r,i);0===f&&void 0!==c&&(h.Bp=c),a.push(h)}return{mr:fm.$b,Lp:r,Bp:u,Ck:s,_k:o,Ak:c,Pk:a}},t.Nk=function(t,n,i,e){return{kw:n.Cu(dm.SAMPLE_DURATION_PRESENT)?t.vp():e.gk,Su:n.Cu(dm.SAMPLE_SIZE_PRESENT)?t.vp():e.yk,Bp:n.Cu(dm.SAMPLE_FLAGS_PRESENT)?t.vp():e.mk,xk:n.Cu(dm.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.vp():t.dp():void 0}},t.Gp=function(t){var n=t.Li,i=t.cp,e=nb(ys(n,i)),r=e.version,u=e.flags;if(1===r){var s=ys(n,i),o=bs(n,i),c=ys(n,i),a=ys(n,i),f=ps(n,i),h=ps(n,i),v=Fs(Ls(n),i.Ou,n.byteLength);return i.Ru(v.byteLength),{mr:fm.Jb,Lp:r,Bp:u,Lk:f,yi:h,Cm:s,Bk:o,Mk:c,Sl:a,Fk:v}}var d=ps(n,i),l=ps(n,i),w=ys(n,i),g=ys(n,i),y=ys(n,i),m=ys(n,i),b=Fs(Ls(n),i.Ou,n.byteLength);return i.Ru(b.byteLength),{mr:fm.Jb,Bp:u,Lp:r,Lk:d,yi:l,Cm:w,Uk:g,Mk:y,Sl:m,Fk:b}},t.$p=function(t){return Jm.Pp(t,fm.Yb,!1)},t.Wp=function(n){var i=n.Li,e=n.cp,r=Us(Ls(i)).buffer,u=nb(ys(i,e)),s=u.version,o=u.flags,c=t.Vk(i,e),a=[];if(s>0)for(var f=ys(i,e),h=0;h<f;h++){var v=ds(i,e,16);a.push(v)}var d=ys(i,e),l=new y(r,e.Ou,d);return e.Ru(i.byteLength),{mr:fm.Kb,Lp:s,Bp:o,Hk:c,Wk:a,qk:d,Li:l,zk:r}},t.Vk=function(t,n){for(var i="",e=0;e<4;e++){var r=hs(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var u=0;u<2;u++){var s=hs(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var c=hs(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var a=0;a<2;a++){var f=hs(t,n).toString(16);i+=1===f.length?"0"+f:f}i+="-";for(var h=0;h<6;h++){var v=hs(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.Xp=function(t){var n,i,e=t.Li,r=t.cp,u=nb(ys(e,r)),s=u.version,o=u.flags,c=ys(e,r),a=ys(e,r);0===s?(n=Jt.fromBits(ys(e,r),0,!0),i=Jt.fromBits(ys(e,r),0,!0)):(n=bs(e,r),i=bs(e,r)),r.Ru(2);for(var f=ws(e,r),h=[],v=0;v<f;v+=1){var d=ys(e,r),l=d>>31&1,w=2147483647&d,g=ys(e,r),y=ys(e,r),m=y>>31&1,b=y>>28&7,p=268435455&y;h.push({jk:l,$k:w,kw:g,Xk:m,Gk:b,Yk:p})}return{mr:fm.Qb,Lp:s,Bp:o,Kk:c,Cm:a,Jk:n,Qk:i,Zk:f,tT:h}},t.Ek=function(t){var n,i=t.Li,e=t.cp,r=nb(ys(i,e)),u=r.version,s=r.flags;return n=0===u?Jt.fromBits(ys(i,e),0,!0):bs(i,e),{mr:fm.Xb,Lp:u,Bp:s,Ik:n}},t}();function eb(t){return t&&"Ei"in t?t.Ei:t}var rb=function(t){function n(n,i,e,r,u,s,o){var c;return(c=t.call(this,n,i,e,r)||this).nT=void 0,c.iT=void 0,c.eT=void 0,c.nT=u,c.iT=s,c.eT=o||void 0,c}return vt(n,t),n.prototype.by=function(n){return this===n||!!Mw(this,n)&&(!!t.prototype.by.call(this,n)&&(!!Bw(this.rT,n.rT)&&(!!Bw(this.fb,n.fb)&&(this.uT&&n.uT?!!this.uT.hi(n.uT)&&(this.ay&&n.ay?this.ay.hi(n.ay):this.ay===n.ay):this.uT===n.uT))))},ft(n,[{key:"rT",get:function(){return this.nT}},{key:"fb",get:function(){return this.iT}},{key:"uT",get:function(){return this.eT}},{key:"Ld",get:function(){var t;return this.xd||(this.xd=xw(Wy(t=this),{get styles(){return t.rT},get regions(){return t.fb},get metadata(){return eb(t.uT)},get content(){return eb(t.ay)}})),this.xd}}]),n}(Xy),ub=function(){function t(t,n,i){this.If=void 0,this.sT=void 0,this.oT=void 0,this.sT=t,this.oT=n,On(i)?this.If=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var u=r[e];i.Oi(u)}return i}(0,0,i):this.If=i}return ft(t,[{key:"cT",get:function(){return this.If.vi(!0)}},{key:"sy",get:function(){return this.sT}},{key:"oy",get:function(){return this.oT}}]),t}();var sb="http://www.w3.org/XML/1998/namespace";function ob(t,n){return function(t,n){var i=t.Ri.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Ri)}return e}(t,function(t){return t.ki===n})}function cb(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function ab(t,n){for(var i=t.Pi,e={},r=0;r<i.length;r++)e[cb(i[r].li,n)]=i[r].yi;return e}var fb=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,hb=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,vb="http://www.w3.org/ns/ttml";function db(t,n,i){return void 0===i&&(i=lm),function(t,n,i){var e,r=[];try{e=st.ai(t)}catch(t){return r}var u=e.Bi;if("tt"!==u.di)return r;var s=u&&u.Ti(vb,"head")[0],o=u&&u.Ti(vb,"body")[0],c=["ebutts","tts","xml"];if(!o||!s)return r;for(var a=function(t,n){for(var i={},e=t.Ti(vb,"styling")[0],r=e&&e.Ti(vb,"style")||[],u=0;u<r.length;u++){var s=r[u],o=s.Di(sb,"id");i[o]=ab(s,n)}return i}(s,c),f=function(t,n){var i=Lw(t),e=yb(n.Ii("tts:extent"));if(!e)return i;for(var r=0,u=v.keys(i);r<u.length;r++){var s=u[r],o=yb(i[s].extent);if(o){var c=wb(o[0],e[0]),a=wb(o[1],e[1]);i[s].extent=c+" "+a}var f=yb(i[s].origin);if(f){var h=wb(f[0],e[0]),d=wb(f[1],e[1]);i[s].origin=h+" "+d}}return i}(function(t,n){for(var i={},e=t.Ti(vb,"layout")[0],r=e&&e.Ti(vb,"region")||[],u=0;u<r.length;u++){var s=r[u],o=s.Di(sb,"id");if(o){i[o]=ab(s,n);var c=pb(s,n);for(var a in c)Rt.call(c,a)&&(i[o][a]=c[a])}}return i}(s,c),u),h=s.Ti(vb,"metadata")[0],d=function t(n,i,e,r){var u=i;var s;var o=e;var c=[];var a=[];if(On(n)){var f,h;u=null!=(f=bb(n.Ii("begin"),r))?f:u,s=bb(n.Ii("dur"),0),o=null!=(h=bb(n.Ii("end"),r))?h:void 0!==s?u+s:o;for(var v=n._i,d=0;d<v.length;d++)("body"===n.di||"div"===n.di)&&v[d].ei>1||(c=c.concat(t(v[d],u,o,r)))}var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var u=i[r];e.push(u.sy,u.oy)}e.sort(ru);for(var s=e.length,o=0;o<s-1;o++)e[o+1]===e[o]&&(fu(e,o+1),o--,s=e.length);return e}(u,o,c);for(var w=0;w<l.length-1;w++){var g=mb(l[w],l[w+1],c);if(g.length<=0&&_b(n)){var y=n.vi(!1);a.push(new ub(l[w],l[w+1],y))}else g.length>0&&function(){var t=n.vi(!1);g.forEach(function(n){return t.Si(n.cT)}),a.push(new ub(l[w],l[w+1],t))}()}return a}(o,i.ob,i.cb,i.ab),l=0;l<d.length;l++){var w=d[l],g=lb(f,w);r.push(new rb(w.sy,w.oy,w.cT,!1,a,g,h))}return r}(t,0,i)}function lb(t,n){for(var i=function t(n){var i=[];var e;if(On(n)){(e=n.Ii("region"))&&i.push(e);for(var r=n._i,u=0;u<r.length;u++)i=i.concat(t(r[u]))}return i}(n.cT),e={},r=0;r<i.length;r++){var u=i[r];e[u]=t[u]}return e}function wb(t,n){var i=gb(t),e=gb(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-e.length));return g(r)||g(u)?t:r/u*100+"%"}return t}function gb(t){return $r(t,"px")?"px":$r(t,"em")?"em":$r(t,"c")?"c":$r(t,"%")?"%":void 0}function yb(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function mb(t,n,i){for(var e=[],r=0;r<i.length;r++){var u=i[r].sy,s=i[r].oy;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&e.push(i[r])}return e}function bb(t,n){if(t){if(fb.test(t)){var i=fb.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*e+60*r+u+(s?Number(s)*d.pow(.1,s.length):0)+n}if(hb.test(t)){var o=hb.exec(t);if(!o)return;var c,a=Number(o[1]);switch(o[4]){case"h":c=3600*a;break;case"m":c=60*a;break;case"s":c=a;break;case"ms":c=.001*a;break;case"f":case"t":default:c=NaN}return c+n}}}function pb(t,n){for(var i={},e=t.pi("style")||[],r=0;r<e.length;r++){var u=ab(e[r],n);for(var s in u)Rt.call(u,s)&&(i[s]=u[s])}return i}function _b(t){if(On(t)){var n=t.di.toUpperCase(),i=Boolean(t.Ii("smpte:backgroundImage"));return"BR"===n||i}return t.ei===Dn.si}function kb(t){var n=function(t){try{return st.ai(t).Bi}catch(t){}}(t);return"tt"===(null==n?void 0:n.di)}var Tb,Sb=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.al=function(n){return t.prototype.al.call(this,n)},i.fl=function(n){var i=t.prototype.fl.call(this,n);return i&&(n.Pl=Jw.Bl),i},i.Bd=function(){return eg(this)},n}(Dw);!function(t){t.ep="subtitles",t.aT="captions",t.fT="descriptions",t.hT="chapters",t.sp="metadata",t.vT="thumbnails"}(Tb||(Tb={}));var Eb=[Tb.ep,Tb.aT,Tb.fT,Tb.hT,Tb.sp,Tb.vT];function Rb(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&hu(Eb,t)}(n)?n:n?Tb.sp:Tb.ep}var Ib,Db=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,u)||this).url=void 0,s.status=void 0,s.url=e,s.status=r,s}return vt(n,t),n}(Pc);function Ob(t,n){return t===Tb.vT||t===Tb.sp&&n===Tb.vT}function Nb(t,n,i,e){for(var r=0,u=t.Vl.dl;r<u.length;r++){var s=u[r];if(s.sy>i)break;n<=s.oy&&e.push(s)}}function Cb(t,n){return eu(t.El,n.El)}function Ab(t,i){var e=i,r=0;if(t instanceof Ud&&t.name===Ld.Ev)e=t.jh.Xh;else if(function(t){return t instanceof Hd}(t)){var u=t.Nv;if(e=u.$h,0===(r=u.Vh))return new Db(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Db(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Pb(t,i,e,r){var u=function(t){switch(t){case Ly.WEBVTT:return"WebVTT";case Ly.SRT:return"SRT";case Ly.TTML:return"TTML";default:return""}}(t);return new Db(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(u?u+" ":"")+"subtitle file.",i,e,r)}function xb(t){return xm(Sm(t))?Ly.WEBVTT:kb(t)?Ly.TTML:Ly.SRT}function Lb(t,n){for(var i=[],e=0,r=t.Vl.dl;e<r.length;e++){var u=r[e];if(u.oy<=n)i.push(u);else if(u.sy>=n)break}for(var s=0;s<i.length;s++){var o=i[s];t.dT(o)}}!function(t){t.lT="vtt",t.Mb="wvtt",t.wT="stpp"}(Ib||(Ib={}));var Bb=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Qp=new Sb,n.gT=function(t){var i=t.Md;n.yT(i)},n}vt(n,t);var i=n.prototype;return i.al=function(t){t.Qr(_w.Gd,this.gT),this.Qp.al(t),this.yT(t)},i.fl=function(t){t.iu(_w.Gd,this.gT),t.Pl=Jw.Bl,this.Qp.fl(t)},i.mT=function(t){},i.bT=function(t){},i.yT=function(t){t.Pl!==Jw.Bl?this.mT(t):this.bT(t)},i.pT=function(){for(var t=0,n=this.Qp.dl;t<n.length;t++){var i=n[t];i.iu(_w.Gd,this.gT),i.et()}},i._T=function(t){if(t>0)for(var n=0,i=this.Qp.dl;n<i.length;n++){Lb(i[n],t)}},i.vl=function(){return this.pT(),this.Qp.vl(),j.resolve()},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nu(),t.next=3,wr.awrap(this.vl());case 3:this.Qp.et();case 4:case"end":return t.stop()}},null,this,null,j)},n}(Cu),Mb=function(t){function n(n){var i;return(i=t.call(this,Qw.Cl)||this).errorObject=n,i}return vt(n,t),n.prototype.Bd=function(){return this},ft(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(bw),Fb=function(t){function n(n,i){var e;return(e=t.call(this)||this).kT=void 0,e.TT=void 0,e.ST=new wu,e.kT=n,e.TT=i,e}vt(n,t);var i=n.prototype;return i.ET=function(t){if(t.src){var n=t.kind||Tb.ep,i=this.kT.RT(n,t.id,t.label,t.srclang,t.default);return i.Wl=xd(t.src),this.al(i),i}},i.IT=function(t,n){var i,e,r,u,s,o,c,a,f,h;return wr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.Ul=xy.LOADING,i=new Nd({Xh:t.Wl,Wh:ta.si,hv:Ed.GET,$r:n}),v.prev=2,v.next=5,wr.awrap(this.TT.jh(i));case 5:return u=v.sent,r=u.Vh,v.next=9,wr.awrap(u.Sh());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),bu(v.t0),t.Ul=xy.ERROR,t.Jr(new Mb(Ab(v.t0,t.Wl))),v.abrupt("return");case 18:for(v.prev=18,s=xb(e),t.mr=s,o=[],s===Ly.WEBVTT||s===Ly.SRT?(c=Tm(e),o=c.Vl):s===Ly.TTML&&(o=db(e)),a=0,f=o;a<f.length;a++)h=f[a],t.DT(h);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),bu(v.t1),t.Ul=xy.ERROR,t.Jr(new Mb(Pb(t.mr,t.Wl,r,v.t1))),v.abrupt("return");case 32:t.Ul=xy.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],j)},i.mT=function(t){hu(this.Qp.dl,t)&&t.Ul===xy.NONE&&this.IT(t,this.ST.$r).catch(pu)},i.sc=function(){},i.vl=function(){var n,i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.ST.qr(),this.ST=new wu,n=0,i=this.Qp.dl;n<i.length;n++)e=i[n],this.kT.OT(e);return r.next=5,wr.awrap(t.prototype.vl.call(this));case 5:case"end":return r.stop()}},null,this,null,j)},n}(Bb);function Ub(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.Rl===n&&e.NT)return e}}function Vb(t,n){Hb(Ub(t.dl,n))}function Hb(t){void 0!==t&&(t.Pl=Jw.xl)}function Wb(t,n){Hb(Ub(t.dl,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.Rl===n)return e}}(t.dl,n))}function qb(t){for(var n=0;n<Eb.length;n++){var i=Eb[n];i===Tb.hT?Wb(t,i):Vb(t,i)}}var zb,jb=function(t){function n(){return t.call(this,Zc.Ba)||this}return vt(n,t),n}(Pu);!function(t){t[t.CT=0]="CT",t[t.AT=1]="AT"}(zb||(zb={}));var $b=t,Xb=$b.MediaSource,Gb=$b.WebKitMediaSource,Yb=$b.TextTrack,Kb=e&&e.createElement("video");e&&e.documentElement.style;var Jb=Et.vn&&Et.qn&&Et.zn<=26;Et.Rn;var Qb=!(!Xb&&!Gb),Zb=!!Yb;e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||Et.kn,Et.Un&&Et.Vn,Kb&&Kb.canPlayType&&(""!==Kb.canPlayType("application/vnd.apple.mpegURL")||Et.wn&&!Et.Un&&Et.gn);Kb&&Kb.canPlayType&&Kb.canPlayType("video/mp4");var tp=Qb&&!Et.Hn&&!Et.Bn&&!Et.Ln&&((Xb||Gb).isTypeSupported?(Xb||Gb).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Kb&&Kb.canPlayType&&""!==Kb.canPlayType('audio/mp4; codecs="mp4a.40.34"'));Qb&&!Et.Hn&&(tp||((Xb||Gb).isTypeSupported?(Xb||Gb).isTypeSupported("audio/mpeg"):Kb&&Kb.canPlayType&&Kb.canPlayType("audio/mpeg"))),Qb&&(!Et.Fn||!Et.vn)&&(Xb||Gb).isTypeSupported&&(Xb||Gb).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),Et.Hn||Et.Bn||Et.Ln,Et.Mn,Et.Hn,Et.Bn&&Et.dn&&Et.ln;try{i&&i.top!==i.self}catch(t){!0}var np=function(t){function n(n){var i;return(i=t.call(this,Cg.bw)||this).currentTime=n,i}return vt(n,t),n}(Pu),ip=function(t){function n(n){var i;return(i=t.call(this,Cg.pw)||this).currentTime=n,i}return vt(n,t),n}(Pu);Cg.Kd,Cg.pw,Zc.Aa,Zc.Ca;var ep=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).PT=gg.fw,e.xT=!0,e.LT=!1,e.BT=!1,e.MT=function(t){var n=e.FT.Ul;n!==e.PT&&e.Jr(new Yg(t.currentTime,n)),n===gg.fw&&(e.LT=!1,e.BT=!1),e.UT(n),e.VT(n),e.HT(n),e.maybeDispatchCanPlayThroughEvent(n),e.WT(n),e.qT(n),e.PT=n},e.zT=function(){e.qT(e.PT),e.WT(e.PT),e.xT=e.FT.Rw},e.jT=function(){e.xT=e.FT.Rw},e.$T=function(t){e.Jr(new ip(t.currentTime))},e.FT=n,e.XT=i,e.FT.Qr(Cg.Kd,e.MT),e.FT.Qr(Zc.Aa,e.zT),e.FT.Qr(Zc.Ca,e.jT),e.XT&&e.FT.Qr(Cg.pw,e.$T),e}vt(n,t);var i=n.prototype;return i.UT=function(t){!this.BT&&t>=gg.hw&&(this.BT=!0,this.Jr(new Fg(this.FT._w,t)))},i.VT=function(t){!this.LT&&t>=gg.vw&&(this.LT=!0,this.Jr(new qg(this.FT._w,t)))},i.WT=function(t){this.XT||(t>=gg.dw&&this.PT<gg.dw&&!this.FT.Rw||this.GT&&t>=gg.dw)&&this.Jr(new ip(this.FT._w))},i.qT=function(t){!this.YT(t)||this.FT.Tw||this.FT.vu||this.Jr(new np(this.FT._w))},i.HT=function(t){this.PT<=gg.vw&&t>=gg.dw&&this.Jr(new Xg(this.FT._w,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===gg.lw&&this.Jr(new Gg(this.FT._w,t))},i.YT=function(t){var n=!this.FT.Rw&&t<=gg.vw,i=!this.xT&&this.PT<=gg.vw;return n&&!i},i.vl=function(){this.PT=gg.fw,this.xT=!0,this.LT=!1,this.BT=!1},i.et=function(){this.nu(),this.XT&&this.FT.iu(Cg.pw,this.$T),this.FT.iu(Zc.Aa,this.zT),this.FT.iu(Zc.Ca,this.jT),this.FT.iu(Cg.Kd,this.MT)},ft(n,[{key:"GT",get:function(){return!this.FT.Rw&&this.xT}}]),n}(Cu),rp="titanium",up="conax",sp="ezdrm",op="irdeto",cp="vudrm",ap="verimatrix",fp="keyos",hp="drmtoday",vp="expressplay",dp="azure",lp="xstream",wp="vimond",gp="axinom",yp="uplynk",mp="comcast",bp="custom",pp=function(){function t(t,n,i,e,r){this.wc=void 0,this.KT=void 0,this.JT=void 0,this.QT=void 0,this.TT=void 0,this.ZT=void 0,this.tS=void 0,this.wc=t,this.KT=n,this.JT=i,this.TT=e,this.tS=r,this.QT=this.nS(n)}var i=t.prototype;return i.iS=function(){return this.ZT},i.eS=function(t){this.ZT=t},i.rS=function(){return this.QT.licenseAcquisitionURL||this.iS()},i.uS=function(t){return j.resolve()},i.sS=function(t,n){return j.resolve(void 0)},i.oS=function(t,i,e,r){var u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(u=this.cS(t,i,e,r)).Xh){o.next=3;break}throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,wr.awrap(this.Od.jh(u));case 6:return s=o.sent,o.next=9,wr.awrap(s.Eh(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),bu(o.t0),o.next=17,wr.awrap(this.aS(o.t0,u.Xh,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],j)},i.cS=function(t,n,i,e){var r=this.fS().Za(),u=this.wv,s={Xh:this.hS(),Wh:n,Hh:r,Oh:t,wv:u,hv:Ed.POST,vv:0,$r:e,mr:Rd.Qh,dv:i};return new Nd(s)},i.vS=function(t,n){return j.resolve(t)},i.dS=function(t,n,i,e){return j.resolve(t)},i.fS=function(){return new na(this.QT.headers||{})},i.aS=function(t,i,e){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new my(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,j)},i.hS=function(t,n){var i=n,e=this.QT.queryParameters;if(!i){var r=this.rS();if(!r)return"";i=r}if(e||t){var u=st.ze(i);t&&Pd(u,t),e&&Pd(u,e),i=u.href}return i},i.lS=function(t,n){return _p(t)},i.wS=function(t){return new y(t)},i.gS=function(t,n,i){var e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,wr.awrap(this.lS(t,i));case 2:return e=s.sent,s.next=5,wr.awrap(this.oS(e,this.tS,n,i));case 5:return r=s.sent,u=this.wS(r),s.abrupt("return",u);case 8:case"end":return s.stop()}},null,this,null,j)},i.et=function(){},ft(t,[{key:"Od",get:function(){return this.TT}},{key:"yS",get:function(){return!1}},{key:"mS",get:function(){var t=this.QT.certificate;if(t)return xt(t)?Xu(t):Ms(t)}},{key:"bS",get:function(){return!1}},{key:"wv",get:function(){return Boolean(this.QT.useCredentials)}}]),t}();function _p(t){return j.resolve(Us(t).buffer)}var kp,Tp,Sp=function(t){function n(n,i,e,r){return t.call(this,Vr,n,i,e,r)||this}vt(n,t);var i=n.prototype;return i.nS=function(t){return t.widevine||{}},i.pS=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.mS){i.next=2;break}return i.abrupt("return",this.mS);case 2:return i.abrupt("return",this._S(new y(t),n));case 3:case"end":return i.stop()}},null,this,null,j)},i._S=function(n,i){return t.prototype.gS.call(this,n,Id.ev,i)},n}(pp);function Ep(t,n){if(null==t)return{};var i,e,r={},u=v.keys(t);for(e=0;e<u.length;e++)i=u[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function Rp(t){return Dt(t.token&&t.deviceId)}function Ip(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&Dt(i.PreAuthorization)}function Dp(t){var n=t;return Rp(n)&&""!==n.token&&""!==n.deviceId&&!Ip(n)}(Tp=kp||(kp={})).kS=!1,Tp.TS=!1,Tp.SS=!1,Tp.ES=!1,Tp.LOG_ADS_DETAILS=!1,Tp.LOG_CHROMECAST_DETAILS=!1,Tp.LOG_CUSTOM_DRM=!1,Tp.LOG_BUFFERING_VIDEO_MAIN=!1,Tp.LOG_BUFFERING_VIDEO_SELECTION=!1,Tp.LOG_BUFFERING_AUDIO_MAIN=!1,Tp.LOG_BUFFERING_AUDIO_SELECTION=!1,Tp.RS=!1,Tp.IS=!1,Tp.LOG_LCEVC_DETAILS=!1;var Op,Np=function(){function t(t,n,i){this.DS=t,this.nc=n,this.OS=i}return t.prototype.NS=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new h("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new h("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new h("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new h("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new h("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.OS.build(t))},ft(t,[{key:"CS",get:function(){return this.DS}},{key:"wc",get:function(){return this.nc}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Op||(Op={}));var Cp=function(){function t(){this.AS=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,e){switch(this.PS(t,i,e)){case Op.FAILED:throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Op.OVERRIDDEN:var r=Kp(i);st.Oe("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case Op.SUCCEEDED:Kp(i);0}},i.PS=function(t,n,i){var e=Kp(n);if(!e)return Op.FAILED;for(var r=Op.SUCCEEDED,u=0,s=this.AS.slice();u<s.length;u++){var o=s[u];o.CS===t&&o.wc===e&&(r=Op.OVERRIDDEN,au(this.AS,o))}return this.AS.push(new Np(t,e,i)),r},i.xS=function(t,n){return void 0!==this.LS(t,n)},i.BS=function(t,n,i){var e=this.LS(t,n);if(!e)throw f("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.NS(i)},i.LS=function(t,n){for(var i=0,e=this.AS;i<e.length;i++){var r=e[i];if(r.CS===t&&(!n||r.wc===n))return r}},t}();Cp.MS=new Cp;var Ap=["customdata"],Pp={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function xp(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,u=t.useCredentials,s=t.queryParameters;return!(n||i||e||r||u||s)}function Lp(t){return t&&void 0!==t.licenseAcquisitionURL}var Bp,Mp=Lp,Fp=Lp;function Up(t){if(!t)return!0;if(qp(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,u=t.aes128;return xp(n)&&xp(i)&&xp(e)&&xp(r)&&xp(u)}function Vp(t){var n=Dp(t),i=function(t){var n,i=t;return Ip(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Rp(i)}(t);return(!n||!i)&&(n||i)}function Hp(t){return t.integration===op}function Wp(t){var n=t;if(!n)return!1;if(Up(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,u=n.clearkey;if(qp(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!Mp(e))return!1;if(r&&!Fp(r))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(Cp.MS.xS(n.integration))return!0;switch(n.integration){case rp:if(!function(t){return t.integration===rp&&(zp(t)||jp(t))}(t))return!1;break;case cp:if(!$p(t))return!1;break;case ap:if(!function(t){return t.integration===ap}(t))return!1;break;case op:if(!Hp(t))return!1;break;case up:if(!Vp(t))return!1;break;case sp:if(!function(t){return t.integration===sp}(t))return!1;break;case fp:if(!qp(t))return!1;break;case hp:if(!function(t){var n=t;return n.integration===hp&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case vp:if(!function(t){return t.integration===vp}(t))return!1;break;case lp:if(!Xp(t))return!1;break;case wp:if(!function(t){return t.integration===wp}(t))return!1;break;case gp:if(!Gp(t))return!1;break;case dp:if(!function(t){var n=t;return n.integration===dp&&void 0!==n.token}(t))return!1;break;case yp:if(!function(t){return t.integration===yp}(t))return!1;break;case mp:if(!function(t){var n=t;return n&&Dt(n.releasePid)&&Dt(n.accountId)&&Dt(n.token)}(t))return!1;break;case bp:return!0;default:return!1}}return!0}function qp(t){return t.integration===fp}function zp(t){return void 0!==t.authToken}function jp(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function $p(t){var n=t;return n.integration===cp&&void 0!==n.token}function Xp(t){var n=t;return n&&n.integration===lp&&xt(n.ticketAcquisitionURL)&&xt(n.streamId)}function Gp(t){var n=t;return n.integration===gp&&void 0!==n.token}function Yp(t,n){var i,e,r,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:Pp[t],o=null!=(e=null==u?void 0:u.customdata)?e:n.customdata,c=o?{customData:o}:{},a=gr({},null!=(r=null==u?void 0:u.headers)?r:{},c),f=null!=u?u:{};return f.customdata,gr({},Ep(f,Ap),{licenseAcquisitionURL:s,headers:a})}function Kp(t){switch(t.toLowerCase()){case"widevine":case Pr:return Pr;case"playready":case Nr:return Nr;case"fairplay":case Mr:return Mr}}function Jp(t,i){switch(t){case Rr:return function(t){for(var n={},i=ib.Hp(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.Hk]=r.zk}return n}(i);case Ir:case Dr:return function(t){var n;return(n={})[Br]=t,n}(i);default:throw new Pc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.dr="Widevine",t.hr="PlayreadyV2",t.FS="PlayreadyV2",t.US="PlayreadyV3",t.gr="Fairplay"}(Bp||(Bp={}));var Qp={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Zp(t,n){var i,e,r,u,s=Qp[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=st.$e)?void 0:i.Xe,OSVersion:null==(e=st.$e)?void 0:e.Ze,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(r=st.$e)?void 0:r.tr,DeviceModel:null==(u=st.$e)?void 0:u.nr}}}function t_(t,i){if(!t.accountName)throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function n_(t,n,i){var e;if(zp(t))e={AuthToken:t.authToken,Payload:n};else{if(!jp(t))throw t_(t,i);e={LatensRegistration:Zp(t,i),Payload:n}}return is(JSON.stringify(e))}function i_(t,i,e){var r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=t.Nv){c.next=3;break}throw new my(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return u=r,c.prev=4,c.next=7,wr.awrap(u.Th(e));case 7:s=c.sent,o=e_(s),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(4),o="";case 14:throw new my(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,u.jh.Xh,u.Vh,u.qh,o);case 15:case"end":return c.stop()}},null,null,[[4,11]],j)}function e_(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var r_=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,ta.Ja)||this).VS=void 0,r}vt(i,t),i.HS=function(){return st.Xe.de?"required":"optional"};var e=i.prototype;return e.aS=function(t,n,i){return i_(t,n,i)},e.uS=function(t){return this.VS?_u(this.VS.Pu,t):(this.VS=new Ws,j.resolve())},e.lS=function(t,i){var e,r;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.KT){i.next=3;break}throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=Yu(t),i.abrupt("return",n_(e,r,Bp.dr));case 5:case"end":return i.stop()}},null,this,null,j)},e.wS=function(t){if(!t.license)throw new my(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Xu(t.license)},e.WS=function(t){return j.resolve(new y(t))},e.pS=function(t,n){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.qS(),r.next=3,wr.awrap(this.lS(t,n));case 3:return i=r.sent,r.next=6,wr.awrap(this.oS(i,ta.Ka,Id.rv,n));case 6:return e=r.sent,r.next=9,wr.awrap(this.WS(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,j)},e._S=function(n,i){var e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,wr.awrap(t.prototype._S.call(this,n,i));case 2:return e=r.sent,this.qS(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,j)},e.qS=function(){this.VS||(this.VS=new Ws),this.VS.Bu()},e.et=function(){this.VS&&this.VS.qr(),t.prototype.et.call(this)},i}(Sp),u_=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,ta.Ka)||this).eS("https://widevine-proxy.drm.technology/proxy"),r}return vt(i,t),i.prototype.lS=function(t,i){var e,r,u,s;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(_p(t));case 2:if(e=i.sent,r=this.JT,u=Vs(new y(e)),s=this.zS){i.next=8;break}throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:s,drm_info:u,kid:r}));case 9:case"end":return i.stop()}},null,this,null,j)},ft(i,[{key:"zS",get:function(){if($p(this.KT))return this.KT.token}}]),i}(Sp);function s_(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=gr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),gr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var o_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,ta.Ka)||this).eS("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return vt(n,t),n.prototype.hS=function(n,i){var e=n;return Hp(this.KT)&&(e=s_(this.KT,e)),t.prototype.hS.call(this,e,i)},n}(Sp),c_="Conax-Custom-Data";function a_(t,n,i){var e=t&&Vp(t)&&t;if(e&&!i.has(c_)){var r=Dp(e)?e.token:void 0,u=Dp(e)?e.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(c_,s)}return i}var f_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,ta.Ka)||this).eS("https://connect.conax.com:8094/license"),r}return vt(n,t),n.prototype.fS=function(){var n=t.prototype.fS.call(this);return a_(this.KT,"Widevine",n)},n}(Sp);function h_(t){var n=Rs(new y(t));return Xu(JSON.parse(n).license)}function v_(t){return"string"==typeof t.token?t.token:is(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function d_(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var l_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,ta.Ka)||this).eS("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}vt(n,t);var i=n.prototype;return i.wS=function(t){return h_(t)},i.fS=function(){return d_(t.prototype.fS.call(this),this.zS,this.KT)},ft(n,[{key:"zS",get:function(){return v_(this.KT)}}]),n}(Sp),w_=function(t){function n(n,i,e){return t.call(this,n,i,e,ta.Ka)||this}return vt(n,t),n.prototype.fS=function(){var n=t.prototype.fS.call(this),i=this.KT.token;return n.set("Authorization","Bearer "+i),n},n}(Sp);function g_(t,i,e,r){var u,s,o,c,a,f,h;return wr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(Xp(t)){v.next=2;break}throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(u=new na).append("Cache-Control","no-cache"),u.append("Content-Type","application/json"),(s=t.sessionId)&&u.append("XSSESSION",s),o=t.streamId,c=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:i,licenseType:c,streamId:o},f={Xh:t.ticketAcquisitionURL,Wh:ta.Ja,Hh:u,hv:Ed.POST,Oh:JSON.stringify(a),$r:r},v.next=13,wr.awrap(e.jh(f));case 13:return h=v.sent,v.next=16,wr.awrap(h.Th());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,j)}var y_=function(t){function n(n,i,e){return t.call(this,n,i,e,ta.Ja)||this}vt(n,t);var i=n.prototype;return i.fS=function(){var n=t.prototype.fS.call(this);return n.set("Content-Type","application/json"),n},i.lS=function(n,i){var e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=ns(n.buffer),r=this.KT,o.next=4,wr.awrap(g_(r,"widevine_modular",this.Od,i));case 4:return u=o.sent,this.eS(u.licenseServerUrl),s=Is(JSON.stringify({payload:e,ticket:u.ticket})),o.abrupt("return",t.prototype.lS.call(this,s,i));case 8:case"end":return o.stop()}},null,this,null,j)},i.wS=function(t){return Xu(t.license)},n}(Sp),m_=function(t){function i(n,i,e){return t.call(this,n,i,e,ta.Ka)||this}return vt(i,t),i.prototype.fS=function(){if(!Gp(this.KT))throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.fS.call(this);return i.set("X-AxDRM-Message",this.KT.token),i},i}(Sp);function b_(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var p_=function(t){function n(n,i,e){var r;return(r=t.call(this,Ur,n,i,e,ta.Ka)||this).jS=void 0,r}vt(n,t);var i=n.prototype;return i.nS=function(t){return t.playready||{}},i.fS=function(){var n=new na(this.jS);return n.nf(t.prototype.fS.call(this)),n},i.$S=function(t){return t.length>=1&&t[0]._i.length>0},i.sS=function(n){var i=this.KT.playready.customData;if(i){var e=b_(i),r=b_('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Yu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return j.resolve({playready:{Uc:r}})}return t.prototype.sS.call(this,n)},i.lS=function(t,n){var i;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(_p(t));case 2:return i=n.sent,n.abrupt("return",this.XS(i));case 4:case"end":return n.stop()}},null,this,null,j)},i.XS=function(t){var n,i,e,r,u,s,o,c,a,f,h,v,d,l,w,g;return wr.async(function(y){for(;;)switch(y.prev=y.next){case 0:u=null,s=new DataView(t),m=s,b=new Hs,void 0===(p=!0)&&(p=!1),o=Ss(m,b,p,!0),y.prev=3,c=st.ai(o),y.next=10;break;case 7:return y.prev=7,y.t0=y.catch(3),y.abrupt("return",u);case 10:for(a=null==(n=c.pi("PlayReadyKeyMessage")[0])?void 0:n.pi("LicenseAcquisition")[0],f=null!=(i=null==a?void 0:a.pi("Challenge"))?i:[],this.$S(f)&&(u=ts(f[0].xi)),h=new na,v=null!=(e=null==a?void 0:null==(r=a.pi("HttpHeaders")[0])?void 0:r.pi("HttpHeader"))?e:[],d=0;d<v.length;d++)l=v[d],w=l.pi("name")[0].xi,g=l.pi("value")[0].xi,h.append(w,g);return this.jS=h,y.abrupt("return",u);case 18:case"end":return y.stop()}var m,b,p},null,this,[[3,7]],j)},i.pS=function(t,n){return j.resolve(t)},i._S=function(n,i){return t.prototype.gS.call(this,n,Id.uv,i)},n}(pp),__=function(){function t(n){this.Co=void 0,this.GS=n,this.Co=t.YS(n)}return t.YS=function(t){return"3"===t.version?Bp.US:Bp.FS},t.prototype.KS=function(){var t={};if(this.Co===Bp.US){var n={LatensRegistration:Zp(this.GS,Bp.US)};t["X-TITANIUM-DRM-CDATA"]=is(JSON.stringify(n))}return t},ft(t,[{key:"JS",get:function(){return this.Co}},{key:"Ec",get:function(){return this.Co===Bp.FS}}]),t}();var k_=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).QS=void 0,r.QS=new __(r.KT),r}vt(i,t);var e=i.prototype;return e.sS=function(t){var i=this.KT;if(!this.KT)throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(jp(i)){var e={};return e.playready={Uc:T_(i,this.QS.JS)},j.resolve(e)}return j.reject(t_(i,Bp.hr))},e.fS=function(){var n=new na(this.QS.KS());return n.nf(t.prototype.fS.call(this)),n},e.aS=function(t,i,e){var r,u,s,o,c,a,f,h;return wr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(r=t.Nv){v.next=3;break}throw new my(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i);case 3:return v.prev=3,v.next=6,wr.awrap(r.Rh(e));case 6:o=v.sent,c=Rs(new y(o)),(a=st.ai(c))&&(f=ob(a,"CustomData")).length>0&&(u=JSON.parse(f[0].xi),s=null==(h=u.DrmErr)?void 0:h.desc),v.next=14;break;case 12:v.prev=12,v.t0=v.catch(3);case 14:throw new my(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i,r.Vh,r.qh,s);case 15:case"end":return v.stop()}},null,null,[[3,12]],j)},e.$S=function(t){if(1!==t.length)throw new my(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(p_);function T_(t,n){var i=Zp(t,n),e=i.DeviceInfo.FormatVersion,r=is('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=Os(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Os('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Yu(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var S_,E_=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).eS("https://playready-license.drm.technology/rightsmanager.asmx"),r}vt(i,t);var e=i.prototype;return e.$S=function(t){if(1!==t.length)throw new my(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.hS=function(n,i){var e=gr({},n||{},{token:this.zS});return t.prototype.hS.call(this,e,i)},ft(i,[{key:"zS",get:function(){if($p(this.KT))return this.KT.token}}]),i}(p_),R_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).eS("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return vt(n,t),n.prototype.hS=function(n,i){var e=n;return Hp(this.KT)&&(e=s_(this.KT,e)),t.prototype.hS.call(this,e,i)},n}(p_),I_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).eS("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return vt(n,t),n.prototype.fS=function(){var n=t.prototype.fS.call(this);return a_(this.KT,"PlayReady",n)},n}(p_),D_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).eS("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}vt(n,t);var i=n.prototype;return i.wS=function(n){return(jr(Rs(new y(n)),"<?xml")?S_.ZS:S_.Th)===S_.Th?h_(n):t.prototype.wS.call(this,new y(n))},i.fS=function(){return d_(t.prototype.fS.call(this),this.zS,this.KT)},ft(n,[{key:"zS",get:function(){return v_(this.KT)}}]),n}(p_);!function(t){t[t.ZS=0]="ZS",t[t.Th=1]="Th"}(S_||(S_={}));var O_,N_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).tE=void 0,r}vt(n,t);var i=n.prototype;return i.fS=function(){var n=t.prototype.fS.call(this);return this.tE&&n.set("Ticket",this.tE),n.set("Content-Type","text/xml"),n},i.lS=function(n,i){var e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return e=this.KT,u.next=3,wr.awrap(g_(e,"playready",this.Od,i));case 3:return r=u.sent,this.eS(r.licenseServerUrl),this.tE=r.ticket,u.abrupt("return",t.prototype.lS.call(this,n,i));case 7:case"end":return u.stop()}},null,this,null,j)},n}(p_),C_=function(t){function i(){return t.apply(this,arguments)||this}return vt(i,t),i.prototype.fS=function(){if(!Gp(this.KT))throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.fS.call(this);return i.set("X-AxDRM-Message",this.KT.token),i},i}(p_);!function(t){t.Ja="application/json",t.nE="application/x-www-form-urlencoded",t.iE="application/octet-stream",t.si="text/plain;charset=UTF-8"}(O_||(O_={}));var A_=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n.wc,i,e,r,u)||this).eE="",s.rE=void 0,s.uE=void 0,s.uE=n.sE,s}vt(n,t);var i=n.prototype;return i.oE=function(){return this.QT.certificateURL||this.rE},i.cE=function(t){this.rE=t},i.lS=function(t){return j.resolve(this.aE(t,this.eE))},i.aE=function(t,n){return"spc="+encodeURIComponent(Yu(t))+"&assetId="+encodeURIComponent(n)},i.nS=function(t){return t.fairplay||{}},i.fE=function(t){var n=t.indexOf("?");if(n>=0)return j.resolve(t.substr(n+1));var i=t.split("/");return j.resolve(i[i.length-1])},i.sS=function(t){var n,i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return i=null!=(n=this.uE)?n:Cs(new y(t)),u.next=3,wr.awrap(this.fE(i));case 3:return e=u.sent,this.eE=e,(r={}).fairplay={$c:e},u.abrupt("return",r);case 8:case"end":return u.stop()}},null,this,null,j)},i.fS=function(){var n=t.prototype.fS.call(this);return n.set("Content-Type",this.hE),n},i.pS=function(t,n){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.mS){t.next=2;break}return t.abrupt("return",this.mS);case 2:return t.next=4,wr.awrap(this.vE(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,j)},i._S=function(n,i){return t.prototype.gS.call(this,n,Id.tv,i)},i.dE=function(t){var n=this.oE(),i=this.fS(),e={Xh:n,Wh:ta.Ka,Hh:i,hv:Ed.GET,wv:!1,Oh:null,vv:0,$r:t,mr:Rd.Qh,dv:Id.nv};return new Nd(e)},i.vE=function(t){var n,i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.dE(t),r.next=3,wr.awrap(this.Od.jh(n));case 3:return i=r.sent,r.next=6,wr.awrap(i.Rh());case 6:return e=r.sent,r.abrupt("return",new y(e));case 8:case"end":return r.stop()}},null,this,null,j)},i.wS=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Xu(i)}else n=new y(t);return n},i.hS=function(n,i){var e=t.prototype.hS.call(this,n,i);return jr(e,"skd:")&&(e=e.substr("skd:".length)),e},ft(n,[{key:"bS",get:function(){return!0}},{key:"hE",get:function(){return O_.nE}}]),n}(pp),P_=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,ta.Ka)||this}vt(n,t);var i=n.prototype;return i.fE=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return j.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return j.resolve(i)},i.lS=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.wS=function(t){return new y(t)},i.hS=function(n,i){var e=n||{};return e.p1=Rn(),t.prototype.hS.call(this,e,i)},ft(n,[{key:"hE",get:function(){return O_.iE}}]),n}(A_),x_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,ta.Ka)||this).eS("https://fairplay-license.drm.technology/license"),u.cE("https://fairplay-license.drm.technology/certificate"),u}vt(i,t);var e=i.prototype;return e.aE=function(t,n){var i={token:this.zS,contentId:n,payload:Yu(t)};return JSON.stringify(i)},e.wS=function(t){return new y(t)},e.fS=function(){var n=t.prototype.fS.call(this);return n.set("x-vudrm-token",this.zS),n},ft(i,[{key:"hE",get:function(){return O_.Ja}},{key:"zS",get:function(){if(!$p(this.KT))throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.KT.token}}]),i}(A_),L_="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",B_="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",M_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,ta.Ka)||this}return vt(i,t),i.prototype.wS=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new my(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,L_)}if(!i)throw new my(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,B_);return i}(Rs(new DataView(i)));return t.prototype.wS.call(this,e)},i}(A_);var F_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,ta.Ja)||this}vt(i,t);var e=i.prototype;return e.lS=function(t){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.KT){r.next=3;break}throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Yu(t),r.abrupt("return",n_(i,e,Bp.gr));case 5:case"end":return r.stop()}},null,this,null,j)},e.wS=function(t){try{var i;if(xt(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=ts(i.license);return new y(r)}throw new my(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new my(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.aS=function(t,n,i){return i_(t,n,i)},ft(i,[{key:"hE",get:function(){return O_.Ja}}]),i}(A_),U_=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,ta.Ka)||this).eS("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.cE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}vt(n,t);var i=n.prototype;return i.oE=function(){var n=t.prototype.oE.call(this);if(!n)return n;var i=st.ze(n),e=this.KT;return Hp(e)&&Pd(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href},i.fE=function(n){return Hp(this.KT)?j.resolve(this.KT.contentId):t.prototype.fE.call(this,n)},i.lS=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.wS=function(t){return new y(t)},i.hS=function(n,i){var e=n;return Hp(this.KT)&&(e=function(t,n){return gr({},s_(t,n),{KeyId:t.keyId})}(this.KT,e)),t.prototype.hS.call(this,e,i)},ft(n,[{key:"hE",get:function(){return O_.iE}}]),n}(A_),V_=function(t){function i(i,e,r,u){var s;if(s=t.call(this,i,e,r,u,ta.si)||this,!Vp(e))throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.eS("https://connect.conax.com:8097/license"),s}vt(i,t);var e=i.prototype;return e.fS=function(){var n=t.prototype.fS.call(this);return a_(this.KT,"FairPlay",n)},e.vE=function(t){var n,i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.oE(),i={Xh:n,Wh:ta.Ka,Hh:{},hv:Ed.GET,wv:!1,Oh:null,vv:0,$r:t,mr:Rd.Qh,dv:Id.nv},u.next=4,wr.awrap(this.Od.jh(i));case 4:return e=u.sent,u.next=7,wr.awrap(e.Rh());case 7:return r=u.sent,u.abrupt("return",new y(r));case 9:case"end":return u.stop()}},null,this,null,j)},e.lS=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},e.fE=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),j.resolve(Rs(Xu(n)))):j.resolve("unknown")},e.wS=function(t){try{var n=JSON.parse(t);return new y(ts(n.CkcMessage))}catch(t){throw new f("CFLRW-66")}},i}(A_),H_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,ta.si)||this).eS(Pp[Er.gr]),u}vt(i,t);var e=i.prototype;return e.fE=function(t){return jr(t,"skd://")?j.resolve(t.substring("skd://".length,40)):j.reject(new my(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.aE=function(t,n){return"spc="+Yu(t)+"&assetId="+n},i}(A_),W_=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,ta.si)||this).eS("https://lic.drmtoday.com/license-server-fairplay/"),u}vt(n,t);var i=n.prototype;return i.aE=function(t,n){var i="spc="+encodeURIComponent(Yu(t))+"&"+encodeURI(n);return"persistent"===this.QT.licenseType?i+"&offline=true":i},i.fS=function(){return d_(t.prototype.fS.call(this),this.zS,this.KT)},ft(n,[{key:"zS",get:function(){return v_(this.KT)}}]),n}(A_),q_=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,ta.Ka)||this}vt(n,t);var i=n.prototype;return i.fE=function(t){var n=t;return jr(n,"skd:")&&(n="http:"+n.substring(4)),jr(n,"http:")||jr(n,"https:")?j.resolve(st.ze(n).hostname):j.reject(new f("Could not parse ExpressPlay FairPlay content ID."))},i.lS=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.wS=function(t){return new y(t)},ft(n,[{key:"hE",get:function(){return O_.iE}}]),n}(A_),z_=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,ta.si)||this}return vt(n,t),n.prototype.fS=function(){var n=t.prototype.fS.call(this),i=this.KT.token;return n.set("Authorization","Bearer "+i),n},n}(A_),j_=function(t){function n(n,i,e,r){var u;if(u=t.call(this,n,i,e,r,ta.Ja)||this,!Xp(i))throw new f("Invalid Xstream DRM configuration");return u}vt(n,t);var i=n.prototype;return i.vE=function(t){var n,i,e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.oE(),i=this.fS(),e={Xh:n,Wh:ta.Ja,Hh:i,hv:Ed.POST,$r:t,mr:Rd.Qh,dv:Id.nv},s.next=5,wr.awrap(this.Od.jh(e));case 5:return r=s.sent,s.next=8,wr.awrap(r.Th());case 8:return u=s.sent,s.abrupt("return",new y(Xu(u.certificate)));case 10:case"end":return s.stop()}},null,this,null,j)},i._S=function(t,n,i){var e,r,u,s,o,c,a;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=Yu(t),r=this.KT,i.next=5,wr.awrap(g_(r,"fairplay",this.Od,n));case 5:return u=i.sent,s=Is(JSON.stringify({spc:e,ticket:u.ticket})),o={Xh:this.rS(),Wh:ta.Ja,Hh:this.fS(),hv:Ed.POST,Oh:s,vv:0,$r:n,mr:Rd.Qh,dv:Id.tv},i.next=10,wr.awrap(this.Od.jh(o));case 10:return c=i.sent,i.next=13,wr.awrap(c.Th());case 13:return a=i.sent,i.abrupt("return",Xu(a.licence));case 15:case"end":return i.stop()}},null,this,null,j)},ft(n,[{key:"hE",get:function(){return O_.Ja}}]),n}(A_),$_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,ta.si)||this}vt(i,t);var e=i.prototype;return e.aE=function(t,n){return Yu(t)},e.wS=function(i){if(0===i.length)throw new my(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.wS.call(this,i)},e.fS=function(){var n=t.prototype.fS.call(this);return n.set("Content-Type","text/plain"),n},i}(A_),X_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,ta.Ka)||this}vt(i,t);var e=i.prototype;return e.aE=function(t,n){return t},e.wS=function(t){return new y(t)},e.fS=function(){if(!Gp(this.KT))throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.fS.call(this);return i.set("X-AxDRM-Message",this.KT.token),i},ft(i,[{key:"hE",get:function(){return O_.Ja}}]),i}(A_),G_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,ta.Ja)||this).lE=void 0,u}vt(i,t);var e=i.prototype;return e.aE=function(t,n){var i={spc:Yu(t)};return JSON.stringify(i)},e.fE=function(t){var i=st.ze(t);return this.lE=t,i.searchParams.has("b")?j.resolve(i.searchParams.get("b")):j.reject(new my(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.hS=function(n,i){var e=this.rS();return!e&&this.lE&&(e=this.lE),e&&(e=e.replace("skd://","https://")),t.prototype.hS.call(this,n,i||e)},e.wS=function(t){try{var i;if((i=xt(t)?JSON.parse(t.trim()):t).ckc)return Xu(i.ckc)}catch(t){throw new my(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new my(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},ft(i,[{key:"hE",get:function(){return O_.si}}]),i}(A_),Y_=function(){function t(t,n){this.wE=t,this.gE=n}var n=t.prototype;return n.yE=function(t){return this.wE(t)},n.mE=function(t,n){throw new h(n+" must be "+this.gE+". (Received: "+t+")")},t}();new Y_(function(t){return!0},"any");var K_=new Y_(Mt,"a number"),J_=new Y_(xt,"a string"),Q_=new Y_(Lt,"a boolean");new Y_(function(t){return"[object Date]"===It.call(t)},"a date"),new Y_(Ot,"undefined"),new Y_(At,"an object"),new Y_(function(t){return null===t},"null"),new Y_(function(t){return null==t},"null or undefined");var Z_,tk=(Z_={responseCode:K_,isException:Q_,description:J_,title:J_,correlationId:J_},{yE:function(t){if(!At(t))return!1;for(var n=0,i=v.keys(Z_);n<i.length;n++){var e=i[n];if(!Z_[e].yE(t[e]))return!1}return!0},mE:function(t,n){if(!At(t))throw new h(n+" must be an object.");for(var i=0,e=v.keys(Z_);i<e.length;i++){var r=e[i],u=Z_[r];if(!u.yE(t[r]))return u.mE(t[r],n+"."+String(r))}throw new h}});function nk(t,n,i,e,r){var u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return u=ik(t,n,i,r),s.next=3,wr.awrap(ek(u,e));case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},null,null,null,j)}function ik(t,n,i,e){var r={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=st.ze(t);return Pd(i,n),i.toString()}(i,r)),s=new na({});s.append("Content-Type","application/json");var o=Yu(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{Xh:u,Wh:ta.si,Hh:s,hv:Ed.POST,Oh:JSON.stringify(c),$r:e,mr:Rd.Qh,dv:Id.tv}}function ek(t,i){var e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,wr.awrap(i.jh(t));case 2:return e=u.sent,u.next=5,wr.awrap(e.Th());case 5:if(r=u.sent,!tk.yE(r)){u.next=8;break}throw new my(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.Xh,r.responseCode);case 8:return u.abrupt("return",Xu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return u.stop()}},null,null,null,j)}var rk=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,ta.Ka)||this).bE=void 0,u.bE=i,u}vt(n,t);var i=n.prototype;return i.fE=function(n){var i=n.replace("FairPlay",this.bE.releasePid);return t.prototype.fE.call(this,i)},i._S=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(nk(t,this.bE,this.rS(),this.Od,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,j)},n}(A_),uk=function(t){function i(n,i,e){return t.call(this,Wr,n,i,e,ta.Ka)||this}vt(i,t);var e=i.prototype;return e.nS=function(t){return t.clearkey||{}},e.oS=function(i,e,r,u){var s,o;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this.QT,!this.rS()){e.next=5;break}return e.abrupt("return",t.prototype.oS.call(this,i,this.tS,r,u));case 5:if(!s.keys||!s.keys.length){e.next=10;break}return o={keys:s.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Is(JSON.stringify(o)).buffer);case 10:throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,j)},e.pS=function(t,n){return j.resolve(new y(0))},e._S=function(n,i){return t.prototype.gS.call(this,n,Id.sv,i)},i}(pp),sk=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(Sp),ok={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function ck(t,n,i){var e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=yk(n),(r=t.onCertificateRequest)&&"function"==typeof r){s.next=5;break}return s.abrupt("return",j.resolve(n));case 5:return s.next=8,wr.awrap(_u(j.resolve(r.call(t,e)),i));case 8:if(!Bs(u=s.sent)){s.next=11;break}return s.abrupt("return",Ms(u));case 11:return s.abrupt("return",gk(gr({},ok,u)));case 12:case"end":return s.stop()}},null,null,null,j)}function ak(t,n,i,e,r){var u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=t.onCertificateResponse,s=wk(n,i,e),u&&"function"==typeof u){c.next=5;break}return c.abrupt("return",j.resolve(n));case 5:return c.next=8,wr.awrap(_u(j.resolve(u.call(t,s)),r));case 8:return o=c.sent,c.abrupt("return",Ms(o));case 10:case"end":return c.stop()}},null,null,null,j)}function fk(t,n,i,e){var r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,wr.awrap(vk(t,n,i,e));case 2:if(!((r=u.sent)instanceof ArrayBuffer)){u.next=5;break}return u.abrupt("return",r);case 5:return u.abrupt("return",gk(r));case 6:case"end":return u.stop()}},null,null,null,j)}function hk(t,n,i,e,r,u){var s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return s=lk(i,r),c.next=3,wr.awrap(dk(t,new y(n),s,e,u));case 3:return o=c.sent,c.abrupt("return",Ms(o).buffer);case 5:case"end":return c.stop()}},null,null,null,j)}function vk(t,n,i,e){var r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,u=lk(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",j.resolve(u));case 5:return o.next=8,wr.awrap(_u(j.resolve(r.call(t,u)),e));case 8:if(!Bs(s=o.sent)){o.next=11;break}return o.abrupt("return",Ms(s).buffer);case 11:return o.abrupt("return",gr({fairplaySkdUrl:void 0},ok,s));case 12:case"end":return o.stop()}},null,null,null,j)}function dk(t,n,i,e,r){var u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=null==t?void 0:t.onLicenseResponse,s=wk(n,i,e),u&&"function"==typeof u){c.next=5;break}return c.abrupt("return",j.resolve(n));case 5:return c.next=8,wr.awrap(_u(j.resolve(u.call(t,s)),r));case 8:return o=c.sent,c.abrupt("return",Ms(o));case 10:case"end":return c.stop()}},null,null,null,j)}function lk(t,n){return gr({},yk(t),{fairplaySkdUrl:n})}function wk(t,n,i){return{url:i.$h,status:i.Vh,statusText:i.qh,headers:i.Hh.Za(),body:t,request:n}}function gk(t){return new Nd({Xh:t.url,hv:t.method,Hh:t.headers,Oh:t.body,wv:t.useCredentials})}function yk(t){var n;return{url:t.Xh,body:null!=(n=mk(t.Oh))?n:null,headers:t.Hh.Za(),method:t.hv,useCredentials:t.wv}}function mk(t){if(t)return"string"==typeof t?As(t):t instanceof ArrayBuffer?new y(t):Ju(t)?Ls(t):void 0}var bk,pk=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e)||this).pE=void 0,u.pE=r,u}vt(i,t);var e=i.prototype;return e.pS=function(t,n){return j.resolve(t)},e._S=function(t,i){var e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,wr.awrap(this.XS(Us(t).buffer));case 2:return e=c.sent,r=this.cS(e,ta.Ka,Id.uv,i),c.next=6,wr.awrap(fk(this.pE,r,void 0,i));case 6:if(!((u=c.sent)instanceof ArrayBuffer)){c.next=10;break}return c.abrupt("return",new y(u));case 10:if(""!==u.Xh){c.next=12;break}throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return c.prev=12,c.next=15,wr.awrap(this.Od.jh(u));case 15:return s=c.sent,c.next=18,wr.awrap(s.Rh(i));case 18:return o=c.sent,c.t0=y,c.next=22,wr.awrap(hk(this.pE,o,r,s,void 0,i));case 22:return c.t1=c.sent,c.abrupt("return",new c.t0(c.t1));case 26:throw c.prev=26,c.t2=c.catch(12),bu(c.t2),new my(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",c.t2);case 30:case"end":return c.stop()}},null,this,[[12,26]],j)},i}(p_),_k=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,ta.Ka)||this).pE=void 0,u.pE=r,u}vt(i,t);var e=i.prototype;return e.pS=function(t,i){var e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.mS){c.next=2;break}return c.abrupt("return",this.mS);case 2:return e=this.cS(t,ta.Ka,Id.rv,i),c.next=5,wr.awrap(ck(this.pE,e,i));case 5:if(!((r=c.sent)instanceof y)){c.next=9;break}return c.abrupt("return",r);case 9:if(""!==r.Xh){c.next=11;break}throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return c.prev=11,c.next=14,wr.awrap(this.Od.jh(r));case 14:return u=c.sent,c.next=17,wr.awrap(u.Rh(i));case 17:s=c.sent,c.next=24;break;case 20:throw c.prev=20,c.t0=c.catch(11),bu(c.t0),new my(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",c.t0);case 24:return o=lk(e,void 0),c.next=27,wr.awrap(ak(this.pE,new y(s),o,u,i));case 27:return c.abrupt("return",c.sent);case 28:case"end":return c.stop()}},null,this,[[11,20]],j)},e._S=function(t,i){var e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.cS(t,ta.Ka,Id.ev,i),o.next=3,wr.awrap(fk(this.pE,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Xh){o.next=9;break}throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,wr.awrap(this.Od.jh(r));case 12:return u=o.sent,o.next=15,wr.awrap(u.Rh(i));case 15:s=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),bu(o.t0),new my(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=y,o.next=25,wr.awrap(hk(this.pE,s,e,u,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],j)},i}(sk),kk=function(t){function i(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,ta.Ka)||this).pE=void 0,s._E=void 0,s.pE=u,s}vt(i,t);var e=i.prototype;return e.pS=function(t,i){var e,r,u,s,o;return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.mS){t.next=2;break}return t.abrupt("return",this.mS);case 2:return e=this.dE(i),t.next=5,wr.awrap(ck(this.pE,e,i));case 5:if(r=t.sent,!Ju(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,wr.awrap(this.Od.jh(r));case 11:return u=t.sent,t.next=14,wr.awrap(u.Rh());case 14:return s=t.sent,o=lk(e,void 0),t.next=18,wr.awrap(ak(this.pE,new y(s),o,u,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),bu(t.t0),new my(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],j)},e._S=function(t,i){var e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.cS(t,ta.Ka,Id.tv,i),o.next=3,wr.awrap(fk(this.pE,e,this._E,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Xh){o.next=9;break}throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,wr.awrap(this.Od.jh(r));case 12:return u=o.sent,o.next=15,wr.awrap(u.Rh(i));case 15:return s=o.sent,o.t0=y,o.next=19,wr.awrap(hk(this.pE,s,e,u,this._E,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),bu(o.t2),new my(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],j)},e.fE=function(n){var i;return this._E=n,null!=(i=this.pE)&&i.extractFairplayContentId?j.resolve(this.pE.extractFairplayContentId(n)):t.prototype.fE.call(this,n)},i}(A_),Tk=function(){function t(){}var n=t.prototype;return n.kE=function(t,n,i,e){switch(t.wc.mr){case Er.dr:return this.TE(n,i,e);case Er.hr:return this.SE(n,i,e);case Er.gr:return this.EE(t,n,i,e);case Er.wr:default:return this.RE(n,i,e)}},n.TE=function(t,n,i){var e,r=(e=t).integration===bp&&xt(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&Cp.MS.xS(r,Pr)){var u=Cp.MS.BS(r,Pr,t);return new _k(t,n,i,u)}switch(r){case rp:return new r_(t,n,i);case cp:return new u_(t,n,i);case op:return new o_(t,n,i);case up:return new f_(t,n,i);case hp:return new l_(t,n,i);case dp:return new w_(t,n,i);case lp:return new y_(t,n,i);case gp:return new m_(t,n,i);case fp:default:return new sk(t,n,i,ta.Ka)}},n.SE=function(t,n,i){var e=t.integration;if(e&&Cp.MS.xS(e,Nr)){var r=Cp.MS.BS(e,Nr,t);return new pk(t,n,i,r)}switch(e){case rp:return new k_(t,n,i);case cp:return new E_(t,n,i);case op:return new R_(t,n,i);case up:return new I_(t,n,i);case hp:return new D_(t,n,i);case lp:return new N_(t,n,i);case gp:return new C_(t,n,i);case fp:default:return new p_(t,n,i)}},n.EE=function(t,n,i,e){var r=n.integration;if(r&&Cp.MS.xS(r,Mr)){var u=Cp.MS.BS(r,Mr,n);return new kk(t,n,i,e,u)}switch(r){case sp:return new P_(t,n,i,e);case cp:return new x_(t,n,i,e);case ap:return new M_(t,n,i,e);case rp:return new F_(t,n,i,e);case op:return new U_(t,n,i,e);case up:return new V_(t,n,i,e);case fp:return new H_(t,n,i,e);case hp:return new W_(t,n,i,e);case vp:return new q_(t,n,i,e);case dp:return new z_(t,n,i,e);case lp:return new j_(t,n,i,e);case wp:return new $_(t,n,i,e);case gp:return new X_(t,n,i,e);case yp:return new G_(t,n,i,e);case mp:return new rk(t,n,i,e);default:return new A_(t,n,i,e,ta.si)}},n.RE=function(t,n,i){return new uk(t,n,i)},n.IE=function(t){return t.mr===Er.hr||t.mr===Er.dr||t.mr===Er.gr||t.mr===Er.wr},n.Ec=function(t,n){var i;if(t.mr!==Er.hr)return!1;if(Dt(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!Cp.MS.xS(e,Mr))&&(e===rp&&new __(n).Ec)},n.HS=function(t,n){if(t.mr===Er.dr){var i=n.integration;if(!i||!Cp.MS.xS(i,Mr))return i===rp?r_.HS():void 0}},t}();!function(t){t[t.DE=0]="DE",t[t.OE=1]="OE",t[t.NE=2]="NE",t[t.CE=3]="CE",t[t.AE=4]="AE",t[t.ew=5]="ew",t[t.PE=6]="PE",t[t.xE=7]="xE",t[t.aw=8]="aw",t[t.LE=9]="LE",t[t.BE=10]="BE"}(bk||(bk={}));var Sk=function(){function t(){}return t.prototype.ME=function(t){},ft(t,[{key:"FE",get:function(){return 0}},{key:"UE",get:function(){return 0}}]),t}(),Ek=function(){function t(t,n){void 0===n&&(n=new Tk),this.TT=void 0,this.VE=void 0,this.GS=void 0,this.TT=t,this.VE=n}var n=t.prototype;return n.HE=function(t){this.GS=t},n.HS=function(t){var n=this.GS;if(void 0!==n)return this.VE.HS(t,n)},n.Ec=function(t){var n=this.GS;return void 0!==n&&this.VE.Ec(t,n)},n.WE=function(t){var n={wc:t.wc,qE:t.qE||[],sE:t.sE},i=this.VE.kE(n,this.GS||{},t.JT,this.TT);return new Rk(i)},t}(),Rk=function(){function t(t){this.zE=void 0,this.zE=t}var n=t.prototype;return n.uS=function(t){return this.zE.uS(t)},n.sS=function(t,n,i){return this.zE.sS(n,i)},n.bS=function(){return this.zE.bS||void 0!==this.zE.mS},n.pS=function(t,n){return this.zE.pS(t,n)},n._S=function(t,n,i){return n&&this.zE.eS(n),this.zE._S(t,i)},n.Mr=function(){this.zE.et()},t}(),Ik=function(t){function n(n){var i;(i=t.call(this)||this).jE=[],i.$E=function(t){i.al(t.Md)},i.XE=function(t){var n=t.Md;i.GE(n)||i.fl(n)};for(var e=0;e<n.length;e++){var r=n[e];i.YE(r)}return i}vt(n,t);var i=n.prototype;return i.YE=function(t){this.jE.push(t);for(var n=0,i=t.dl;n<i.length;n++){var e=i[n];this.al(e)}this.KE(t)},i.JE=function(t){au(this.jE,t),this.QE(t);for(var n=0,i=t.dl;n<i.length;n++){var e=i[n];this.GE(e)||this.fl(e)}},i.GE=function(t){for(var n=0,i=this.jE;n<i.length;n++){if(i[n].hl(t))return!0}return!1},i.KE=function(t){t.Qr(gw.Nd,this.$E),t.Qr(gw.Ad,this.XE)},i.QE=function(t){t.iu(gw.Nd,this.$E),t.iu(gw.Ad,this.XE)},i.et=function(){for(;this.jE.length>0;)this.JE(this.jE[0]);t.prototype.et.call(this)},i.Bd=function(){return eg(this)},n}(Dw);function Dk(t){return{get enabled(){return t.Tl},set enabled(n){t.Tl=Uw(n)},get currentLatency(){return t.Hw},get streamConfiguration(){if(void 0!==t.ZE)return function(t){return{get minimumOffset(){return t.Aw},get maximumOffset(){return t.xw},get targetOffset(){return t.Pw},get forceSeekOffset(){return t.Lw},get minimumPlaybackRate(){return t.Bw},get maximumPlaybackRate(){return t.Mw}}}(t.ZE)},get configuration(){return function(t){return{get minimumOffset(){return t.Aw},set minimumOffset(n){t.Aw=Vw(n)},get maximumOffset(){return t.xw},set maximumOffset(n){t.xw=Vw(n)},get targetOffset(){return t.Pw},set targetOffset(n){t.Pw=Vw(n)},get forceSeekOffset(){return t.Lw},set forceSeekOffset(n){t.Lw=Vw(n)},get minimumPlaybackRate(){return t.Bw},set minimumPlaybackRate(n){t.Bw=Vw(n)},get maximumPlaybackRate(){return t.Mw},set maximumPlaybackRate(n){t.Mw=Vw(n)},update:function(n){t.cc(function(t){var n={};void 0!==t.minimumOffset&&(n.Aw=Vw(t.minimumOffset));void 0!==t.maximumOffset&&(n.xw=Vw(t.maximumOffset));void 0!==t.targetOffset&&(n.Pw=Vw(t.targetOffset));void 0!==t.forceSeekOffset&&(n.Lw=Vw(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.Bw=Vw(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.Mw=Vw(t.maximumPlaybackRate));return n}(n))}}}(t.gc)}}}var Ok,Nk=function(){function t(){this.xd=void 0,this.tR=void 0,this.tR={Lw:0,xw:0,Mw:0,Aw:0,Bw:0,Pw:0,cc:Ft}}return ft(t,[{key:"Ld",get:function(){return null!=this.xd||(this.xd=Dk(this)),this.xd}},{key:"Tl",get:function(){return!1},set:function(t){}},{key:"Hw",get:function(){}},{key:"ZE",get:function(){}},{key:"gc",get:function(){return this.tR}}]),t}();function Ck(){return Ok||(Ok=Z&&Z.document&&Z.document.createElement("video")),Ok}var Ak=function(t){function i(i,e,r,u,s,o,c){var a;return void 0===o&&(o=new Tk),void 0===c&&(c=Xc()),(a=t.call(this)||this).nR=void 0,a.iR=void 0,a.eR=void 0,a.Kw=void 0,a.Jw=void 0,a.Qw=void 0,a.rR=void 0,a.uR=void 0,a.sR=void 0,a.oR=void 0,a.cR=void 0,a.TT=void 0,a.Sr=void 0,a.aR=void 0,a.fR=void 0,a.hR=new Sk,a.vR=new Nk,a.dR=function(t){var i=t.vu,e=i.code,r=new Pc(function(t){switch(t){case wy.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case wy.NETWORK:return n.ErrorCode.NETWORK_ERROR;case wy.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case wy.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case wy.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case wy.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case wy.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),u=new by(e,r.message,i.message);a.lR(r,u)},a.wR=function(){a.Jr(new Hg(a._w,a.Eg))},a.gR=function(t){a.Rw||(a.fR=void 0),a.Jr(t)},a.yR=function(t){a.fR=void 0,a.Jr(t)},a.mR=function(){a.Jr(new Uy(a.Ig))},a.bR=function(){a.Nw>0&&a.Ow>0&&a.Jr(new jb)},a.pR=function(t){a.Kw.al(new Ay(t.track))},a._R=function(t){var n=xk(a.Kw,t.track);n&&a.Kw.fl(n)},a.kR=function(){a.TR(a.Kw)},a.SR=function(t){a.Jw.al(new Fy(t.track))},a.ER=function(t){var n=xk(a.Jw,t.track);n&&a.Jw.fl(n)},a.RR=function(){a.TR(a.Jw)},a.IR=function(t){a.Jr(t),a.lR(t.errorObject,_y(t.errorObject))},a.nR=e,a.TT=r,a.Sr=c,a.iR=a.nR.G(ky.av),a.sR=a.iR.DR.preload,a.oR=new ep(a.iR,!0),a.oR.Qr(Mg,a.Kr),a.aR=new Ek(r,o),a.iR.OR=a.aR,a.NR(),a.Kw=new Ty,a.Jw=new Ty,a.CR(),a.cR=new Fb(a.iR,a.TT),a.Qw=new Ik([a.iR.rg]),a.lg(),a}vt(i,t);var e=i.prototype;return e.wg=function(){this.iR.wg()},e.lg=function(){this.iR.lg()},e.cg=function(t,n,i){var e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return mu(i),e={mr:zb.CT,Wl:t.src,Dh:t.type,AR:this.PR(t),Bg:this.sR,xR:t.crossOrigin,LR:n.metadata&&n.metadata.title},this.aR.HE(t.contentProtection),r.next=5,wr.awrap(this.iR.sc(e));case 5:this.eR=r.sent,mu(i),n.textTracks&&this.MR(n.textTracks),qb(this.rg);case 9:case"end":return r.stop()}},null,this,null,j)},e.MR=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.iR.FR()&&Et.kn&&Zb&&!Ob(i.kind,i.label)&&this.UR(i)){var e,r=null!=(e=i.kind)?e:Tb.ep;this.iR.HR(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.cR.ET(i)}}},e.UR=function(t){return!t.format||"webvtt"===t.format},e.Y=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,wr.awrap(this.iR.Y());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.WR){t.next=12;break}return t.next=10,wr.awrap(this.iR.su(Zc.Pa));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],j)},e.K=function(){this.iR.K()},e.ag=function(){return void 0!==this.iR.DR.webkitShowPlaybackTargetPicker},e.fg=function(){this.iR.DR.webkitShowPlaybackTargetPicker&&this.iR.DR.webkitShowPlaybackTargetPicker()},e.hg=function(){this.iR.DR.webkitShowPlaybackTargetPicker&&this.iR.DR.webkitShowPlaybackTargetPicker()},e.gg=function(){return this.iR.DR},e.yg=function(){return this.iR.qR},e.vl=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.rR=void 0,this.uR=void 0,this.eR=void 0,t.next=5,wr.awrap(this.cR.vl());case 5:return this.iR.zR(),t.next=8,wr.awrap(this.iR.vl());case 8:this.oR.vl(),this.Bg=this.sR,this.ig.vl(),this.eg.vl(),this.fR=void 0;case 13:case"end":return t.stop()}},null,this,null,j)},e.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.vl());case 2:return this.nu(),this.jR(),this.$R(),this.oR.et(),this.iR.OR=void 0,t.next=9,wr.awrap(this.nR.nt(this.iR));case 9:return this.Kw.et(),this.Jw.et(),this.Qw.et(),t.next=14,wr.awrap(this.cR.et());case 14:case"end":return t.stop()}},null,this,null,j)},e.NR=function(){this.iR.Qr(Zc.Aa,this.Kr),this.iR.Qr(Zc.Ca,this.Kr),this.iR.Qr(Zc.ja,this.wR),this.iR.Qr(Zc.Pa,this.Kr),this.iR.Qr(Zc.Ra,this.Kr),this.iR.Qr(Zc.Fa,this.Kr),this.iR.Qr(Zc.Ma,this.gR),this.iR.Qr(Zc.Ta,this.Kr),this.iR.Qr(Zc.xa,this.Kr),this.iR.Qr(Zc.$a,this.Kr),this.iR.Qr(Zc._a,this.Kr),this.iR.Qr(Zc.Ba,this.bR),this.iR.Qr(Cg.pw,this.yR),this.iR.Qr(Qw.Cl,this.dR),this.iR.Qr(Zc.ma,this.Kr),this.iR.Qr(Zc.ya,this.IR),this.iR.DR.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.mR)},e.jR=function(){this.iR.iu(Zc.Aa,this.Kr),this.iR.iu(Zc.Ca,this.Kr),this.iR.iu(Zc.ja,this.wR),this.iR.iu(Zc.Pa,this.Kr),this.iR.iu(Zc.Ra,this.Kr),this.iR.iu(Zc.Fa,this.Kr),this.iR.iu(Zc.Ma,this.gR),this.iR.iu(Zc.Ta,this.Kr),this.iR.iu(Zc.xa,this.Kr),this.iR.iu(Zc.$a,this.Kr),this.iR.iu(Zc._a,this.Kr),this.iR.iu(Zc.Ba,this.bR),this.iR.iu(Cg.pw,this.yR),this.iR.iu(Qw.Cl,this.dR),this.iR.iu(Zc.ma,this.Kr),this.iR.iu(Zc.ya,this.IR),this.iR.DR.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.mR)},e.PR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{wc:Hr,XR:[{initDataTypes:[Hr.pr],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.CR=function(){var t=this.iR.DR.audioTracks,n=this.iR.DR.videoTracks;t&&(t.addEventListener("addtrack",this.pR),t.addEventListener("removetrack",this._R),t.addEventListener("change",this.kR)),n&&(n.addEventListener("addtrack",this.SR),n.addEventListener("removetrack",this.ER),n.addEventListener("change",this.RR))},e.$R=function(){var t=this.iR.DR.audioTracks,n=this.iR.DR.videoTracks;t&&(t.removeEventListener("addtrack",this.pR),t.removeEventListener("removetrack",this._R),t.removeEventListener("change",this.kR)),n&&(n.removeEventListener("addtrack",this.SR),n.removeEventListener("removetrack",this.ER),n.removeEventListener("change",this.RR))},e.TR=function(t){for(var n=0;n<t.ll;n++){t.cl(n).Xg()}},e.Tg=function(){this.iR.Tg()},e.lR=function(t,n){this.rR||(this.rR=n,this.uR=t,this.Jr(new Kg(t)))},ft(i,[{key:"WR",get:function(){var t=this.iR.Sg,n=this._w;return t.GR(n,.01)}},{key:"ig",get:function(){return this.Kw}},{key:"Sg",get:function(){return this.iR.Sg.YR()}},{key:"Eg",get:function(){return this.iR.Eg},set:function(t){t&&this.iR.KR(t)}},{key:"_w",get:function(){return void 0!==this.fR?this.fR:this.iR._w},set:function(t){this.Ig&&(this.fR=t),this.iR.Iu(t)}},{key:"kw",get:function(){return this.iR.kw}},{key:"Tw",get:function(){return this.iR.Tw}},{key:"vu",get:function(){return this.rR}},{key:"Sw",get:function(){return this.uR}},{key:"ug",get:function(){}},{key:"Ig",get:function(){return this.iR.Ig}},{key:"zw",get:function(){return gr({},{Dg:0,Og:0,Ng:0,Cg:0,Ag:0,Pg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.iR.JR())}},{key:"Ew",get:function(){return this.iR.Ew},set:function(t){this.iR.Ew=t}},{key:"xg",get:function(){return!0}},{key:"Rw",get:function(){return this.iR.Rw}},{key:"Iw",get:function(){return this.iR.Iw},set:function(t){this.iR.Iw=t}},{key:"Lg",get:function(){return this.iR.DR.played}},{key:"Bg",get:function(){return this.sR},set:function(t){this.sR=t,this.eR&&(this.eR.Bg=t)}},{key:"Ul",get:function(){return this.iR.Ul}},{key:"Mg",get:function(){return this.iR.Mg.YR()}},{key:"Dw",get:function(){return this.iR.Dw}},{key:"QR",get:function(){return this.iR.QR}},{key:"rg",get:function(){return this.Qw}},{key:"eg",get:function(){return this.Jw}},{key:"Ow",get:function(){return this.iR.Ow}},{key:"Nw",get:function(){return this.iR.Nw}},{key:"Cw",get:function(){return this.iR.Cw},set:function(t){this.iR.Cw=t}},{key:"Fg",get:function(){return this.vR}},{key:"Ug",get:function(){return this.iR.Ug},set:function(t){this.iR.Ug=t}},{key:"ZR",get:function(){return this.hR}}]),i}(sg);var Pk=function(){function t(){this.tI=bk.BE}var n=t.prototype;return n.NS=function(t,n,i,e,r,u){return new Ak(t,n,i,e,r)},n.nI=function(t,n){return function(t){return!t.type||!(!Ck().canPlayType||!Ck().canPlayType(t.type))}(t)},n.iI=function(){return!1},t}();function xk(t,n){for(var i=0,e=t.dl;i<e.length;i++){var r=e[i];if(r.Kg===n)return r}}var Lk=function(){function t(){this.eI=new Pk,this.rI=[]}t.uI=function(){return this.ni};var n=t.prototype;return n.sI=function(t){this.rI.push(t)},n.NS=function(t,n,i,e,r,u){for(var s=this.eI.NS(t,n,i,e,r,u),o=0,c=this.rI;o<c.length;o++){s=(0,c[o])(s,i,e)}return s},n.nI=function(t,n){return this.eI.nI(t,n)},n.iI=function(){return!1},ft(t,[{key:"tI",get:function(){return this.eI.tI}}]),t}();function Bk(t,n){return eu(t.tI,n.tI)}Lk.ni=new Lk;var Mk=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).oI=Lk.uI(),n}vt(n,t);var i=n.prototype;return i.cI=function(t){this.oI=t},i.aI=function(){return this.oI},i.fI=function(t,n){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=0;case 1:if(!(i<t.length)){c.next=11;break}return e=t[i],c.next=5,wr.awrap(this.hI(e,n));case 5:if(!(r=c.sent)){c.next=8;break}return c.abrupt("return",{vI:e,dI:r});case 8:i++,c.next=1;break;case 11:u=this.oI,s=0;case 13:if(!(s<t.length)){c.next=20;break}if(o=t[s],!u.nI(o,n)){c.next=17;break}return c.abrupt("return",{vI:o,dI:u});case 17:s++,c.next=13;break;case 20:return c.abrupt("return",{vI:t[0],dI:u});case 21:case"end":return c.stop()}},null,this,null,j)},n}(function(){function t(){this.lI=[]}var n=t.prototype;return n.wI=function(t){this.lI.push(t),this.lI.sort(Bk)},n.hI=function(t,n){var i,e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.lI;case 1:if(!(i<e.length)){s.next=17;break}if(r=e[i],!Bt(u=r.nI(t,n))){s.next=10;break}return s.next=7,wr.awrap(u);case 7:s.t0=s.sent,s.next=11;break;case 10:s.t0=Boolean(u);case 11:if(!s.t0){s.next=14;break}return s.abrupt("return",r);case 14:i++,s.next=1;break;case 17:return s.abrupt("return",void 0);case 18:case"end":return s.stop()}},null,this,null,j)},t}());Mk.ni=new Mk;var Fk,Uk=function(){function t(t){var n,i;this.gI=void 0,this.gI=Z&&Z.document&&Z.document.createElement("div"),n=this.gI,(i=n.style).position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%",t.appendChild(this.gI)}return t.prototype.et=function(){je(this.gI)},t}();function Vk(t){switch(t){case Fk.yI:case"":return Fk.yI;case Fk.sp:return Fk.sp;case Fk.mI:default:return Fk.mI}}!function(t){t.BE="",t.mI="none",t.sp="metadata",t.yI="auto"}(Fk||(Fk={}));var Hk=[Qw.Cl,Zc.ka,Zc.du,Zc.Ya,Zc.da,Zc.Sa,Zc.Oa,Zc.Na,Zc.Va,Zc.Wa,Cg.ww,Cg.gw,Cg.yw,Cg.mw,Cg.Kd,Cg.bw,Cg.pw,Zc.ya,Zc.ma,Zc._a,Zc.Ta,Zc.Ra,Zc.Ia,Zc.Aa,Zc.Pa,Zc.Ca,Zc.xa,Zc.Ba,Zc.Fa,Zc.Ma,Zc.ja,Zc.$a,Zc.La,Zc.Da,Zc.Ua],Wk=function(t){function n(n,i){var e;return(e=t.call(this)||this).bI=void 0,e.pI=void 0,e._I=void 0,e.kI=void 0,e.sR=Fk.mI,e.TI=void 0,e.SI=!0,e.Kw=new Zw,e.Jw=new Zw,e.Qw=new ug,e.Zw=new gy,e.bI=n,e._I=i,e._I.Bg=e.Bg,e.EI(),e}vt(n,t);var i=n.prototype;return i.K=function(){this._I.K()},i.Y=function(){var t=this._I.Y();Bt(t)&&Eu(t)},i.sg=function(){return this.cg(void 0)},i.st=function(){},i.bg=function(t){return!1},i.EI=function(){this.Kw.pl=this._I.ig,this.Jw.pl=this._I.eg,this.Qw.pl=this._I.rg,this.Zw.pl=this._I.ug,this._I.Qr(Hk,this.Kr)},i.RI=function(){this._I.iu(Hk,this.Kr),this.Kw.pl=void 0,this.Jw.pl=void 0,this.Qw.pl=void 0,this.Zw.pl=void 0},i.og=function(){return this.TI},i.cg=function(t,n){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(mu(n),this.TI=t,t){c.next=4;break}return c.abrupt("return");case 4:if(!Eg(i=t.sources.filter(Ng))){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,wr.awrap(this.bI.fI(i,t));case 9:if(e=c.sent,mu(n),r=e.vI,u=e.dI,s=this.yg(),o=Zg(this),this.pI===u&&!this.vu){c.next=25;break}return this.RI(),c.next=19,wr.awrap(this._I.et());case 19:mu(n),this.pI=u,this._I=this.II(u),qk(this._I,o),ty(this,o,this),this.EI();case 25:return this._I.Bg=this.Bg,this.SI?this._I.lg():this._I.wg(),c.next=29,wr.awrap(this._I.cg(r,t,n));case 29:mu(n),this.DI(r),this.yg()!==s&&this.Jr(new cg);case 32:case"end":return c.stop()}},null,this,null,j)},i.DI=function(t){this.kI!==t&&(this.kI=t,this.Jr(new ag(t)))},i.ag=function(){return this._I.ag()},i.fg=function(){this._I.fg()},i.hg=function(){this._I.hg()},i.yg=function(){return this._I.yg()},i.Tg=function(){this._I.Tg()},i.vl=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.TI=void 0,this.DI(void 0),t.next=4,wr.awrap(this._I.vl());case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nu(),t.next=3,wr.awrap(this.vl());case 3:return t.next=5,wr.awrap(this._I.et());case 5:this.Kw.et(),this.Jw.et(),this.Qw.et(),this.Zw.et();case 9:case"end":return t.stop()}},null,this,null,j)},i.lg=function(){this.SI=!0,this._I.lg()},i.wg=function(){this.SI=!1,this._I.wg()},ft(n,[{key:"ig",get:function(){return this.Kw}},{key:"Sg",get:function(){return this._I.Sg}},{key:"vu",get:function(){return this._I.vu}},{key:"Sw",get:function(){return this._I.Sw}},{key:"Eg",get:function(){return this._I.Eg},set:function(t){this._I.Eg=t}},{key:"kg",get:function(){return this.kI}},{key:"_w",get:function(){return this._I._w},set:function(t){this._I._w=t}},{key:"kw",get:function(){return this._I.kw}},{key:"Tw",get:function(){return this._I.Tw}},{key:"ug",get:function(){return this.Zw}},{key:"Ig",get:function(){return this._I.Ig}},{key:"zw",get:function(){return this._I.zw}},{key:"Ew",get:function(){return this._I.Ew},set:function(t){this._I.Ew=t}},{key:"xg",get:function(){return this._I.xg}},{key:"Rw",get:function(){return this._I.Rw}},{key:"Iw",get:function(){return this._I.Iw},set:function(t){this._I.Iw=t}},{key:"Lg",get:function(){return this._I.Lg}},{key:"Bg",get:function(){return this.sR},set:function(t){this.sR=t,this._I&&(this._I.Bg=this.sR)}},{key:"Ul",get:function(){return this._I.Ul}},{key:"Mg",get:function(){return this._I.Mg}},{key:"Dw",get:function(){return this._I.Dw}},{key:"rg",get:function(){return this.Qw}},{key:"Ow",get:function(){return this._I.Ow}},{key:"eg",get:function(){return this.Jw}},{key:"Nw",get:function(){return this._I.Nw}},{key:"Cw",get:function(){return this._I.Cw},set:function(t){this._I.Cw=t}},{key:"Fg",get:function(){return this._I.Fg}},{key:"ZR",get:function(){return this._I.ZR}}]),n}(Cu);function qk(t,n){t.Ew!==n.Ew&&(t.Ew=n.Ew),t.Cw!==n.Cw&&(t.Cw=n.Cw),t.Iw!==n.Iw&&(t.Iw=n.Iw)}var zk,jk=function(t){function n(n,i){var e;return(e=t.call(this)||this).ll=void 0,e.OI=void 0,e.NI=void 0,e.ll=n.length>>1,e.OI=n,e.NI=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.ll),e}vt(n,t);var i=n.prototype;return i.CI=function(t){return this.OI[2*t]},i.AI=function(t){return this.NI[2*t]},i.xI=function(t){return this.OI[2*t+1]},i.LI=function(t){return this.NI[2*t+1]},ft(n,[{key:"BI",get:function(){return this.OI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.by=function(t,n){return 0===this.Vy(t,n)},n.wm=function(t,n){return this.Vy(t,n)>0},n.gm=function(t,n){return this.Vy(t,n)>=0},n.jy=function(t,n){return this.Vy(t,n)<0},n.qy=function(t,n){return this.Vy(t,n)<=0},n.Lm=function(t,n){return this.jy(t,n)?t:n},n.xm=function(t,n){return this.wm(t,n)?t:n},n.MI=function(t,n,i){return i?this.qy(t,n):this.jy(t,n)},n.YR=function(){var t=this;return{get length(){return t.ll},start:function(n){var i=0|n;return t.FI(i),t.UI(t.CI(i))},end:function(n){var i=0|n;return t.FI(i),t.UI(t.xI(i))}}},n.VI=function(){for(var t=new Array(2*this.ll),n=new Array(2*this.ll),i=0;i<this.ll;i++)t[2*i]=this.CI(i),t[2*i+1]=this.xI(i),n[2*i]=!0,n[2*i+1]=!0;return this.HI(t,n)},n.FI=function(t){if(t<0)throw new f("The index provided ("+t+") must be non-negative");if(t>=this.ll)throw new f("The index provided ("+t+") is greater than the maximum bound ("+this.ll+")")},n.WI=function(t){if(0===this.ll)return this.qI();if(this.GR(t))return t;if(this.qy(t,this.CI(0)))return this.CI(0);if(this.gm(t,this.xI(this.ll-1)))return this.xI(this.ll-1);for(var n,i=this.zI(),e=0;e<this.ll;e++){var r=this.CI(e),u=this.zy(r,t);this.jy(u,i)&&(n=r,i=u);var s=this.xI(e),o=this.zy(this.xI(e),t);this.jy(o,i)&&(n=s,i=o)}return n},n.jI=function(t){for(var n=0,i=0,e=[],r=[];n<this.ll&&i<t.ll;){var u=this.CI(n),s=this.xI(n),o=this.AI(n),c=this.LI(n),a=t.CI(i),f=t.xI(i),h=t.AI(i),v=t.LI(i),d=this.xm(u,a),l=this.Lm(s,f),w=void 0;w=this.by(u,a)?o&&h:this.by(d,u)?o:h;var g=void 0;g=this.by(s,f)?c&&v:this.by(l,s)?c:v,(this.jy(d,l)||w&&g&&this.by(d,l))&&(e.push(d,l),r.push(w,g));var y=this.Vy(this.xI(n),t.xI(i));0===y?(n+=1,i+=1):y<0?n+=1:i+=1}return this.HI(e,r)},n.$I=function(){var t=this.XI(),n=t.ll;if(0===n)return this.HI([t.GI(),t.zI()],[!1,!1]);var i=[],e=[],r=t.CI(0);t.by(r,t.GI())||(i.push(t.GI(),r),e.push(!1,!t.AI(0)));for(var u=0;u<n-1;u++)i.push(t.xI(u),t.CI(u+1)),e.push(!t.LI(u),!t.AI(u+1));var s=t.xI(n-1);return t.by(s,t.zI())||(i.push(s,t.zI()),e.push(!t.LI(n-1),!1)),t.HI(i,e)},n.YI=function(t){for(var n=0,i=0,e=this.ll,r=t.ll,u=new Array(2*(e+r)),s=new Array(2*(e+r)),o=0;n<e&&i<r;){var c=this.CI(n),a=this.xI(n),f=t.CI(i),h=t.xI(i);this.jy(c,f)||this.by(c,f)&&this.jy(a,h)?(u[o]=c,u[o+1]=a,s[o]=this.AI(n),s[o+1]=this.LI(n),n++):(u[o]=f,u[o+1]=h,s[o]=t.AI(i),s[o+1]=t.LI(i),i++),o+=2}for(;n<e;)u[o]=this.CI(n),u[o+1]=this.xI(n),s[o]=this.AI(n),s[o+1]=this.LI(n),n++,o+=2;for(;i<r;)u[o]=t.CI(i),u[o+1]=t.xI(i),s[o]=t.AI(i),s[o+1]=t.LI(i),i++,o+=2;return this.HI(u,s)},n.KI=function(t){void 0===t&&(t=this.qI());var n=this.ll;if(n<2)return this;for(var i=[],e=[],r=this.CI(0),u=this.xI(0),s=this.AI(0),o=this.LI(0),c=1;c<n;c++){var a=this.CI(c),f=this.xI(c),h=this.AI(c),v=this.LI(c);this.jy(r,a)&&this.wm(u,f)||(this.by(r,a)&&(s=h=s||h),this.by(u,f)&&(o=v=o||v),this.MI(a,this.Hg(u,t),o||h)?(u=f,o=v):(i.push(r,u),e.push(s,o),r=a,u=f,s=h,o=v))}return i.push(r,u),e.push(s,o),this.HI(i,e).XI()},n.XI=function(){for(var t=[],n=[],i=0;i<this.ll;i++){var e=this.CI(i),r=this.xI(i),u=this.AI(i),s=this.LI(i);this.by(e,r)?(u||s)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(u,s))}return this.HI(t,n)},n.JI=function(t){return this.ll?t.ll?this.YI(t).KI():this:t},n.QI=function(t){var n=this.XI(),i=t.XI(),e=n.$I(),r=i.$I(),u=e.jI(i),s=r.jI(n);return u.JI(s)},n.Ru=function(t){if(this.by(t,this.qI()))return this;for(var n=[],i=[],e=0;e<this.ll;e++){var r=this.Hg(this.CI(e),t),u=this.Hg(this.xI(e),t);n.push(r,u),i.push(this.AI(e),this.LI(e))}return this.HI(n,i)},n.ZI=function(t){return 0===this.ll||0===t.ll?this:this.XI().jI(t.XI().$I())},n.GR=function(t,n){return this.tD(t,n)>=0},n.nD=function(t,n,i,e,r){return this.iD(t,n,i,e,r)>=0},n.eD=function(t,n,i,e,r){return this.rD(t,n,i,e,r)>=0},n.uD=function(t){if(t.ll!==this.ll)return!1;for(var n=0;n<this.ll;n++)if(!this.by(this.CI(n),t.CI(n))||!this.by(this.xI(n),t.xI(n))||this.AI(n)!==t.AI(n)||this.LI(n)!==t.LI(n))return!1;return!0},n.sD=function(t){for(var n=[],i=[],e=0;e<this.ll;e++){var r=this.CI(e),u=this.xI(e),s=this.AI(e),o=this.LI(e);t(r,u,s,o)&&(n.push(r,u),i.push(s,o))}return this.HI(n,i)},n.rD=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.qI());for(var u=this.Yy(t,r),s=this.Hg(n,r),o=0;o<this.ll;o+=1)if(this.MI(this.CI(o),s,!e||this.AI(o))&&this.MI(u,this.xI(o),!i||this.LI(o)))return o;return-1},n.iD=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.qI());for(var u=this.Hg(t,r),s=this.Yy(n,r),o=0;o<this.ll;o+=1)if(this.MI(this.CI(o),u,!i||this.AI(o))&&this.MI(s,this.xI(o),!e||this.LI(o)))return o;return-1},n.tD=function(t,n){return this.iD(t,t,!0,!0,n)},n.oD=function(t,n){void 0===n&&(n=this.qI());for(var i=this.Hg(t,n),e=this.ll-1;e>=0;e-=1)if(this.MI(this.CI(e),i,this.AI(e)))return e;return-1},n.cD=function(t,n){void 0===n&&(n=this.qI());for(var i=this.Yy(t,n),e=0;e<this.ll;e+=1)if(this.MI(i,this.xI(e),this.LI(e)))return e;return-1},n.aD=function(t){return this.FI(t),this.HI([this.CI(t),this.xI(t)],[this.AI(t),this.LI(t)])},n.fD=function(t,n){var i=this.tD(t,n);return i<0?void 0:this.aD(i)},ft(t,[{key:"hD",get:function(){for(var t=this.qI(),n=0;n<this.ll;n++){var i=this.Yy(this.xI(n),this.CI(n));t=this.Hg(t,i)}return t}}]),t}()),$k=function(t){function n(n,i){return t.call(this,n,i)||this}vt(n,t);var i=n.prototype;return i.Vy=function(t,n){return t<n?Zr.Cr:t===n?Zr.Or:Zr.Nr},i.Hg=function(t,n){return t+n},i.Yy=function(t,n){return t-n},i.zy=function(t,n){return d.abs(t-n)},i.qI=function(){return 0},i.zI=function(){return 1/0},i.GI=function(){return-1/0},n.vD=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.dD=function(t){for(var i=[],e=[],r=0;r<t.ll;r++)i.push(t.CI(r).Fm),i.push(t.xI(r).Fm),e.push(t.AI(r)),e.push(t.LI(r));return new n(i,e)},n.lD=function(t){return new n([t,t],[!0,!0])},i.HI=function(t,i){return new n(t,i)},i.UI=function(t){return t},n.wD=function(){return Xk},n}(jk),Xk=new $k([]);!function(t){t.Gd="fullscreenchange",t.gD="fullscreensupportchange",t.Cl="fullscreenerror"}(zk||(zk={}));var Gk=function(t){function n(){return t.call(this,zk.Cl)||this}return vt(n,t),n}(Pu),Yk=new(function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.ny=function(){this.Jr(new Gk)},i.ey=function(){},i.et=function(){this.nu()},ft(n,[{key:"yD",get:function(){return!1}},{key:"mD",get:function(){return!1}}]),n}(Cu)),Kk=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).nR=void 0,n.iR=void 0,n}vt(n,t);var i=n.prototype;return i.gg=function(){var t;return null==(t=this.iR)?void 0:t.DR},i.et=function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(t.prototype.et.call(this));case 2:if(!this.iR){n.next=6;break}return n.next=5,wr.awrap(this.nR.nt(this.iR));case 5:this.iR=void 0;case 6:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"bD",set:function(t){this.nR=t,this.iR=t.G(ky.av)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).pD=0,n._D=!1,n.kD=!0,n.TD=1,n.SD=!1,n.Xs=1,n.ig=new Ty,n.Sg=$k.wD().YR(),n.kw=NaN,n.Tw=!1,n.vu=void 0,n.Sw=void 0,n.ug=void 0,n.Ig=!1,n.xg=!0,n.Lg=$k.wD().YR(),n.Bg=Fk.mI,n.Ul=gg.fw,n.Mg=$k.wD().YR(),n.QR=void 0,n.rg=new Sb,n.Ow=0,n.eg=new Ty,n.Nw=0,n.Fg=new Nk,n.hR=new Sk,n}vt(n,t);var i=n.prototype;return i.lg=function(){},i.wg=function(){},i.Y=function(){this.kD&&(this.kD=!1,this.Jr(new xg(this._w)),this.Jr(new np(this._w)))},i.K=function(){this.kD||(this.kD=!0,this.Jr(new Hg(this._w,this.Eg)),this.Jr(new Pg(this._w)))},i.cg=function(t,n){return j.resolve()},i.ag=function(){return!1},i.fg=function(){},i.hg=function(){},i.yg=function(){return Yk},i.Tg=function(){},i.vl=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.pD=0,this.SD=!1,this.K(),this.Jr(new Ag(this.pD));case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.nu(),this.ig.et(),this.rg.et(),this.eg.et();case 4:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"Eg",get:function(){},set:function(t){}},{key:"_w",get:function(){return this.pD},set:function(t){this.pD!==t&&(this.pD=t,this.SD=!0,this.Jr(new zg(this._w)))}},{key:"zw",get:function(){return{Dg:0,Og:0,Ng:0,Cg:0,Ag:0,Pg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Ew",get:function(){return this._D},set:function(t){this._D!==t&&(this._D=t,this.Jr(new $g(this._w,this.Cw)))}},{key:"Rw",get:function(){return this.kD}},{key:"Iw",get:function(){return this.TD},set:function(t){this.TD!==t&&(this.TD=t,this.Jr(new Vg(this._w,this.Iw)))}},{key:"Dw",get:function(){return this.SD}},{key:"Cw",get:function(){return this.Xs},set:function(t){this.Xs!==t&&(this.Xs=t,this.Jr(new $g(this._w,this.Cw)))}},{key:"Ug",get:function(){return!1},set:function(t){}},{key:"ZR",get:function(){return this.hR}}]),n}(Cu)),Jk=function(t){function n(n,i,e,r,u,s){var o,c=new Kk;return(o=t.call(this,Mk.ni,c)||this).Vc=void 0,o.ED=void 0,o.RD=void 0,o.DD=void 0,o.TT=void 0,o.OD=void 0,o.ND=void 0,o.RD=n,o.Vc=i,o.TT=e,o.OD=r,o.DD=s,o.ED=new K(u,o.DD),o.ED.it(o.RD),c.bD=o.ED,o.ND=new Uk(o.RD),o}vt(n,t);var i=n.prototype;return i.st=function(){t.prototype.st.call(this),this.ED.X()},i.vg=function(t){var n,i,e,r;n=this,e=(i=t).Cw,r=i.Ew,n.Cw=e,n.Ew=r},i.dg=function(){},i.II=function(t){return t.NS(this.RD,this.ED,this.TT,this.Vc,this.OD,this.DD)},i.gg=function(){return this._I.gg()},i.mg=function(){return this.ED.j.map(function(t){return t.DR})},i.tu=function(n){t.prototype.tu.call(this,n)},i.uu=function(n){t.prototype.uu.call(this,n)},i.et=function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(t.prototype.et.call(this));case 2:this.ED.et(),this.ND.et();case 4:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"Rg",get:function(){return this.RD}},{key:"Ug",get:function(){return this._I.Ug},set:function(t){this._I.Ug=t}}]),n}(Wk),Qk=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).RD=void 0,r.CD=void 0,r.PD=void 0,r.xD=void 0,r.LD=void 0,r.vR=new Nk,r.RD=n,r.CD=i,r.xD=new Ty,r.LD=new Sb,r.PD=e,r}vt(n,t);var i=n.prototype;return i.bg=function(t){return!0},i.wg=function(){},i.Y=function(){throw this.Jr(new Kg(this.PD)),this.CD},i.K=function(){},i.og=function(){},i.cg=function(t,n){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw mu(n),this.Jr(new Kg(this.PD)),this.CD;case 3:case"end":return t.stop()}},null,this,null,j)},i.lg=function(){},i.sg=function(){return j.resolve()},i.gg=function(){},i.yg=function(){return Yk},i.mg=function(){return[]},i.st=function(){},i.vg=function(t){},i.dg=function(){},i.ag=function(){return!1},i.fg=function(){},i.hg=function(){},i.Tg=function(){},i.vl=function(){return j.resolve()},i.et=function(){return this.nu(),this.xD.et(),this.LD.et(),j.resolve()},ft(n,[{key:"ig",get:function(){return this.xD}},{key:"Sg",get:function(){return $k.wD().YR()}},{key:"Eg",get:function(){return new Date(NaN)},set:function(t){}},{key:"kg",get:function(){}},{key:"_w",get:function(){return 0},set:function(t){}},{key:"kw",get:function(){return 0}},{key:"Rg",get:function(){return this.RD}},{key:"Tw",get:function(){return!0}},{key:"vu",get:function(){return this.CD}},{key:"Sw",get:function(){return this.PD}},{key:"ug",get:function(){}},{key:"zw",get:function(){return{Dg:0,Og:0,Ng:0,Cg:0,Ag:0,Pg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Ew",get:function(){return!1},set:function(t){}},{key:"xg",get:function(){return!0}},{key:"Rw",get:function(){return!0}},{key:"Iw",get:function(){return 0},set:function(t){}},{key:"Lg",get:function(){return $k.wD().YR()}},{key:"Bg",get:function(){return Fk.mI},set:function(t){}},{key:"Ul",get:function(){return gg.fw}},{key:"Mg",get:function(){return $k.wD().YR()}},{key:"Dw",get:function(){return!1}},{key:"rg",get:function(){return this.LD}},{key:"Ow",get:function(){return 0}},{key:"eg",get:function(){return this.xD}},{key:"Nw",get:function(){return 0}},{key:"Cw",get:function(){return 1},set:function(t){}},{key:"Fg",get:function(){return this.vR}},{key:"Ug",get:function(){return!1},set:function(t){}},{key:"Ig",get:function(){return!1}}]),n}(og);function Zk(t){if(t&&At(t))return gr({},t,{integration:tT(t.integration),fairplay:sT(t.fairplay),widevine:nT(t.widevine),playready:iT(t.playready),clearkey:oT(t.clearkey),aes128:cT(t.aes128),integrationParameters:aT(t.integrationParameters),preferredKeySystems:fT(t.preferredKeySystems)})}function tT(t){if(xt(t))return t}function nT(t){if(t&&At(t))return{persistentState:eT(t.persistentState),distinctiveIdentifier:eT(t.distinctiveIdentifier),audioRobustness:rT(t.audioRobustness),videoRobustness:rT(t.videoRobustness),licenseAcquisitionURL:xt(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:uT(t.licenseType),headers:t.headers,useCredentials:!!Lt(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:xt(t.certificate)||Bs(t.certificate)?t.certificate:void 0}}function iT(t){if(t){var n=nT(t);if(n)return gr({},n,{customData:xt(t.customData)?t.customData:void 0})}}function eT(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function rT(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function uT(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function sT(t){if(t){var n=nT(t);if(n)return gr({},n,{certificateURL:xt(t.certificateURL)?t.certificateURL:void 0})}}function oT(t){if(t){var n=nT(t);if(n)return gr({},n,{keys:Nt(t.keys)?t.keys.map(function(t){return function(t){if(!t||!At(t))return;var n=t.id,i=t.value;if(!xt(n)||!xt(i))return;return{id:n,value:i}}(t)}).filter(Dt):void 0})}}function cT(t){if(At(t))return{useCredentials:Lt(t.useCredentials)?t.useCredentials:void 0}}function aT(t){if(At(t))return t}function fT(t){return t&&Nt(t)?t.map(function(t){return Kp(t)}).filter(Dt):[Pr,Nr,Mr]}var hT,vT=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return vt(n,t),n}(Pu),dT=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).BD=[],e.MD=void 0,e.FD=function(t){Su(function(){e.Kr(t)})},e.MD=i?e.FD:e.Kr,e}vt(n,t);var i=n.prototype;return i.UD=function(t){t.tu(this.MD),this.BD.push(t)},i.VD=function(t){t.uu(this.MD),au(this.BD,t)},i.et=function(){this.nu();for(var t=0,n=this.BD;t<n.length;t++){n[t].uu(this.MD)}du(this.BD)},n}(sg),lT=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(dT);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(hT||(hT={}));var wT,gT=function(t){function i(n){var i;return(i=t.call(this)||this).HD=void 0,i.WD=void 0,i.qD=!1,i.zD=!1,i.jD=void 0,i.$D=void 0,i.XD=void 0,i.xd=void 0,i.GD=function(){return i.YD()},i.KD=function(){return i.JD()},i.XD=n,i.HD=i.WD=i.jD=i.$D=hT.INLINE,i.XD.Qr(zk.Gd,i.GD),i.XD.Qr(zk.Cl,i.KD),i.QD(),i}vt(i,t);var e=i.prototype;return e.Bd=function(){return t=this,i={get currentMode(){return t.ZD()},requestMode:function(n){var i=mT(n);i&&t.tO(i)},supportsMode:function(n){var i=mT(n);return!!i&&t.nO(i)},addEventListener:function(t,i){n.Qr(t,i)},removeEventListener:function(t,i){n.iu(t,i)}},(n=new dT(i,!0)).UD(t),i;var t,n,i},e.tO=function(t){this.iO(t,t)},e.iO=function(t,n){this.WD!==n&&(this.qD=!0,this.HD=t,this.eO(n,this.WD),t!==hT.FULLSCREEN&&(this.jD=t),this.qD=!1,this.QD())},e.ZD=function(){return this.zD?hT.FULLSCREEN:hT.INLINE},e.nO=function(t){switch(t){case hT.FULLSCREEN:return this.XD.mD;case hT.INLINE:return!0}return!1},e.QD=function(){if(!this.qD){var t=this.WD,n=this.ZD();this.WD=n,n!==hT.FULLSCREEN&&(this.$D=n),t!==n&&this.Jr(new vT(n))}},e.eO=function(t,n){var i=t===hT.FULLSCREEN;this.zD=i,i!==this.XD.yD&&(i?this.XD.ny():this.XD.ey())},e.YD=function(){if(!this.qD){var t=this.XD.yD;this.zD=t,t?this.iO(hT.FULLSCREEN,hT.FULLSCREEN):t||this.HD!==hT.FULLSCREEN?this.QD():this.iO(this.jD,this.$D)}},e.JD=function(){this.YD(),this.Jr(new Kg(new Pc(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.et=function(){this.XD.et(),this.nu()},ft(i,[{key:"Ld",get:function(){return this.xd||(this.xd=this.Bd()),this.xd}}]),i}(sg),yT={_w:0,kw:NaN,Tw:!1,vu:void 0,Sw:void 0,Ew:!1,Rw:!0,Iw:1,Ul:gg.fw,Dw:!1,Ow:0,Nw:0,Cw:1};function mT(t){switch(t){case hT.INLINE:case hT.FULLSCREEN:case hT.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(wT||(wT={}));var bT,pT,_T,kT,TT,ST,ET,RT,IT=function(){function t(){this.rO=[]}var n=t.prototype;return n.uO=function(t){var n=this.sO.filter(function(n){return n.oO(t)});if(n.length>1)0;else if(0===n.length)throw f("Unknown ad integration: "+t.integration);return n[0]||null},n.cO=function(t){this.rO.push(t)},ft(t,[{key:"sO",get:function(){return this.rO}}]),t}();IT.ni=new IT,function(t){t.pw="PLAYING",t.$w="PAUSED",t.aO="SEEK",t.fO="STALLED",t.hO="FAILED",t.vO="INITIAL_BUFFERING",t.dO="NO_ACCESS"}(bT||(bT={})),function(t){t.lO="HTTP_REQUEST_STATUS_CODE_1XX",t.wO="HTTP_REQUEST_STATUS_CODE_2XX",t.gO="HTTP_REQUEST_STATUS_CODE_3XX",t.yO="HTTP_REQUEST_STATUS_CODE_4XX",t.mO="HTTP_REQUEST_STATUS_CODE_5XX",t.bO="BUFFER_LENGTH",t.pO="BYTES_RECEIVED",t._O="SEGMENT_READ_BITRATE",t.kO="SEGMENT_PROFILE_BITRATE",t.TO="NUMBER_OF_FRAMES_DROPPED",t.SO="PLAYBACK_POSITION",t.EO="NUMBER_OF_FRAMES_DECODED",t.RO="PLAYBACK_DELTA_TO_ORIGIN",t.IO="STREAM_DELTA_TO_ORIGIN",t.DO="ORIGIN_TIMESTAMP"}(pT||(pT={})),function(t){t.OO="MANIFEST_URI",t.CO="ASSET_DURATION",t.AO="NUMBER_OF_CONTENT_PROFILES",t.PO="CDN",t.xO="CONTENT_TITLE",t.LO="SERVICE_NAME",t.BO="CONTENT_TYPE",t.MO="CONTENT_DESCRIPTION"}(_T||(_T={})),function(t){t.FO="shutdown_normal_shutdown"}(kT||(kT={})),function(t){t.UO="session/",t.VO="internalError/",t.HO="drmError/",t.WO="caError/",t.qO="networkError/"}(TT||(TT={})),function(t){t.zO="userAction",t.jO="endOfStreamReached"}(ST||(ST={})),function(t){t.PAUSE="$O",t.RESUME="XO"}(ET||(ET={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(RT||(RT={}));var DT,OT,NT,CT,AT,PT="agama";function xT(t){return function(t){switch(t){case DT.NONE:case DT.HORIZONTAL:case DT.VERTICAL:return!0;default:return!1}}(t)?t:DT.NONE}function LT(t){switch(t){case"":return DT.NONE;case"horizontal":return DT.HORIZONTAL;case"vertical":return DT.VERTICAL;default:throw new h}}function BT(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!xt(t))return OT.yI;switch(t){case"always":return OT.GO;case"never":return OT.YO;default:return OT.yI}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:null==t?void 0:t.needsTimescaleShifting}}function MT(t){if(!t||!xt(t))return NT.yI;switch(t){case"playlist":return NT.KO;case"media":return NT.JO;default:return NT.yI}}function FT(t,n){return t.length>0?t:n.length>0?n:void 0}function UT(t){if(null!==t)return t}function VT(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:UT(t.streamActivityMonitorID),adTagParameters:At(t.adTagParameters)?t.adTagParameters:{},authToken:UT(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var e=t.videoID,r=t.contentSourceID;return e?r?gr({},i,{availabilityType:"vod",videoID:e,contentSourceID:r}):void st.Oe("A VOD DAI configuration was provided without valid contentSourceID which is required."):void st.Oe("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?gr({},i,{availabilityType:"live",assetKey:u}):void st.Oe("A Live DAI configuration was provided without valid assetKey which is required.")}st.Oe("A DAI configuration was provided without a valid availabilityType which is required.")}function HT(t){if(!Wp(t)||!t.integration)return t;switch(t.integration){case fp:return n=t,i=Yp(Er.dr,n),e=Yp(Er.hr,n),r=n[Er.gr]&&Yp(Er.gr,n),gr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(DT||(DT={})),function(t){t.yI="auto",t.GO="always",t.YO="never"}(OT||(OT={})),function(t){t.yI="auto",t.KO="playlist",t.JO="media"}(NT||(NT={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(CT||(CT={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(AT||(AT={}));var WT="https://content.uplynk.com";function qT(t){if(!t)return!0;var n,i,e=!(Sg(n=t.sources)||Ct(n)&&Sg(n[0]))||Eg(t.sources),r=!t.ads||(!(i=t.ads)||Nt(i)&&0===i.length),u=""!==t.poster&&!t.poster;return e&&r&&u}function zT(t){if(t&&t.sources)return function t(n){if(xt(n))return n;if(Tg(n))return n.src;if(Ct(n)&&n.length>0)return t(n[0]);return}(t.sources)}function jT(t,n,i){return _g(t)?function(t,n,i){var e=gr({},Rg(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:CT.VERIZON_MEDIA,id:"",prefix:WT,preplayParameters:{},playbackUrlParameters:{},assetType:AT.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,xt(r)?r:Ct(r)&&xt(r[0])?r:At(u=r)&&xt(u.userId)&&(Ct(u.externalId)||xt(u.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,u;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return AT.CHANNEL;case"event":return AT.EVENT;case"asset":default:return AT.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=Uw(t.contentProtected));t.assetInfo?e.assetInfo=Uw(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=Ww(t.prefix)||WT);return e.ping=(s=e.assetType,o=t.ping,c=!1,a=!1,f=!1,o?(c=!!Lt(o.adImpressions)&&o.adImpressions,a=!!Lt(o.freeWheelVideoViews)&&o.freeWheelVideoViews,f=Lt(o.linearAdData)?o.linearAdData:s!==AT.ASSET):s!==AT.ASSET&&(f=!0),{adImpressions:c,freeWheelVideoViews:a,linearAdData:f}),e=XT(e=GT(e=$T(e,t),n,i),t,i);var s,o,c,a,f}(t,n,i):function(t,n,i){var e=Ig(),r=n&&(n.contentProtection||n.drm);if(xt(t)){if(e.src=t,e.type=bg(t),r){var u=Zk(r);e.contentProtection=HT(u)}}else if(Tg(t)||pg(t)){e.src=t.src,e.type=t.type||bg(t.src),e.isAdvertisement=t.isAdvertisement;var s=function(t){return t.type===dg.cw||t.type===dg.aw}(t)?t.hesp:void 0;void 0!==s&&(e.hesp=s);var o=At(f=t)&&xt(f.integration)&&"mediatailor"===f.integration;o&&(e.integration=t.integration);var c=t.contentProtection||t.drm||r,a=Zk(c);e.contentProtection=HT(a),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return VT(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=$T(e,t)}var f;return e=XT(e=GT(e,n,i),t,i)}(t,n,i)}function $T(t,n){var i,e;n.useCredentials?t.crossOrigin=vg.sw:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case vg.uw:case vg.sw:return t;default:return vg.rw}}(n.crossOrigin)),xt(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Uw(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Uw(n.useNativePlayback)),n.dash&&(t.dash=BT(n.dash)),n.hls&&(t.hls={discontinuityAlignment:MT(null==(i=n.hls)?void 0:i.discontinuityAlignment),useLegacy:(e=null==i?void 0:i.useLegacy,Dt(e)?Boolean(e):void 0)}),n.lcevc&&(t.lcevc=Uw(n.lcevc));var r=void 0!==n.experimentalRendering?Uw(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var u=void 0!==n.nativeUiRendering?Uw(n.nativeUiRendering):void 0;return void 0!==u&&(t.nativeUiRendering=u),t}function XT(t,n,i){return t.abr=function(t,n){var i=qw(null==t?void 0:t.preferredAudioCodecs,Ww),e=qw(null==t?void 0:t.preferredVideoCodecs,Ww),r=qw(null==n?void 0:n.preferredAudioCodecs,Ww),u=qw(null==n?void 0:n.preferredVideoCodecs,Ww),s=FT(i,r),o=FT(e,u);if(s||o)return{preferredAudioCodecs:s,preferredVideoCodecs:o}}(xt(n)?void 0:n.abr,null==i?void 0:i.abr),t}function GT(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!Dt(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!Dt(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===vg.rw&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=vg.uw),t.useCredentials=t.crossOrigin===vg.sw,xt(r)&&!t.timeServer&&(t.timeServer=r),t}function YT(t){var n={src:""};if(t&&t.src){if(n.src=Ww(t.src),"default"in t&&(n.default=Uw(t.default)),n.kind=Rb(t.kind),function(t){switch(t){case Ly.DEFAULT:case Ly.SRT:case Ly.TTML:case Ly.WEBVTT:case Ly.EMSG:case Ly.EVENT_STREAM:case Ly.ID3:case Ly.CEA608:case Ly.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function KT(t,n){if(Pt(t))try{return n.uO(t).QO(t)}catch(t){return}}function JT(t){return xt(t.sources)&&""!==t.sources||At(t.sources)&&xt(t.sources.src)}function QT(t){return t.integration===wT.SPOTX&&!g(t.id)}function ZT(t){return"freewheel"===t.integration}function tS(t,n,i){if(void 0===i&&(i=IT.ni),qT(t))return{sources:[Ig()]};var e=Lw(t);if(e.sources=function(t,n,i){if(Sg(t))return[jT(t,n,i)];if(Ct(t)&&Sg(t[0])){for(var e=[],r=0;r<t.length;r++){var u=t[r];e.push(jT(u,n,i))}return e}return[Ig()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!Ct(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var u=r[e];(u=KT(u,n))&&(JT(u)||QT(u)||ZT(u))&&i.push(u)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var u,s,o,c=!Eg(e.sources),a=e.ads&&e.ads.length>0;if(c&&!a?delete e.ads:a&&!c&&(e.sources=[]),"textTracks"in e){var f=function(t){if(!Ct(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=YT(r)).src&&n.push(r)}return n}(e.textTracks);0===f.length?delete e.textTracks:e.textTracks=f}if("poster"in e&&(e.poster=Ww(e.poster)),"vr"in e&&(e.vr=(u=e.vr,(s=u||{}).stereoMode=xT(s.stereoMode),{360:Boolean(s[360]),stereoMode:s.stereoMode?LT(s.stereoMode):DT.NONE,nativeVR:Boolean(s.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var h=Og(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=Lw(t),e=function(e){var r=n[e],u=!t.some(function(t){return t.integration===r.integration});u&&r.integration!==PT&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(h,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Jg(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=Vw(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var nS=function(){function t(t){this.ZO=t}return t.prototype.tN=function(t){var n,i,e,r,u,s,o,c=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.ZO.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.ZO.indexOf(t.charAt(n))<<18|this.ZO.indexOf(t.charAt(n+1))<<12|(u=this.ZO.indexOf(t.charAt(n+2)))<<6|(s=this.ZO.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,c[n/4]=String.fromCharCode(i,e,r),64===s&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},t.prototype.nN=function(t,n){var i,e,r,u,s,o,c,a=[],f="";if((o=t.length%3)>0)for(;o++<3;)f+=this.ZO.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,u=i>>6&63,s=63&i,a[o/3]=this.ZO.charAt(e)+this.ZO.charAt(r)+this.ZO.charAt(u)+this.ZO.charAt(s);return c=(c=a.join("")).slice(0,c.length-f.length),n||(c+=f),c},t.wb=new t(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.iN=new t(t.wb.tN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function iS(t){return"string"==typeof t}function eS(t){return"number"==typeof t}var rS={}.toString;var uS,sS=Array.isArray||function(t){return"[object Array]"===rS.call(t)};function oS(t,n){return sS(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(uS||(uS={}));var cS,aS=v.keys(uS).map(function(t){return uS[t]});function fS(t){return-1!==aS.indexOf(t)}!function(t){t.MULTIVIEW="multiview"}(cS||(cS={}));var hS,vS=v.keys(cS).map(function(t){return cS[t]});function dS(t){return-1!==vS.indexOf(t)}function lS(t){try{var n=nS.iN.tN(t),i=JSON.parse(n);if(!function(t,n){var i,e=(d=t,"object"==typeof d&&null!==d),r=iS(t.key),u=iS(t.customer_id),s=eS(t.generation_date),o=eS(t.expiration_date),c=oS(t.domains_page,iS),a=oS(t.domains_source,iS),f=oS(t.sdks,n?fS:iS),h=(v=t.send_impression,"boolean"==typeof v);var v;var d;t.features?i=oS(t.features,n?dS:iS):(i=!0,t.features=[]);if(!(e&&r&&u&&s&&o&&c&&a&&f&&h&&i))return!1;return!0}(i,!1))throw new f("The provided license could not be decoded correctly.");return i}catch(t){throw new f("The provided license could not be decoded correctly.")}}function wS(){return hS||(hS={Xh:tt.href,eN:Z.parent&&Z.parent!==i,rN:mS()}),hS}var gS,yS=["http:","https:","ftp:","ws:","wss:"];function mS(){try{return Z.top.location.href}catch(t){return Z&&Z.document&&Z.document.referrer}}!function(t){t[t.uN=0]="uN",t[t.sN=1]="sN",t[t.oN=2]="oN"}(gS||(gS={}));var bS,pS=function(t,n,i,e,r,u,s,o,c){void 0===r&&(r=[]),void 0===u&&(u=""),void 0===s&&(s=Date.now()),void 0===o&&(o=[]),void 0===c&&(c=!0),this.cN=t,this.aN=n,this.fN=i,this.hN=e,this.vN=r,this.dN=u,this.lN=s,this.wN=o,this.gN=c};!function(t){t.sN="expired",t.yN="invaliddomain",t.mN="invalidsource",t.bN="invalidfeature",t.Cl="error"}(bS||(bS={}));var _S=function(){function t(t,n,i){this.pN=void 0,this._N=t,this.kN=n,this.Ds=i,this.pN=IS(this.Ds)}var n=t.prototype;return n.TN=function(t,n){var i=this;if(!qT(t)&&0!==n.fN.length&&!SS(n.fN)){var e=[];if(Sg(t.sources)?e=[t.sources]:Ct(t.sources)&&(e=t.sources),!e.every(function(t){return i.SN(t,n)})){var r=bS.mN,u=OS.EN(r);throw new Pc(kS(r),u)}}},n.RN=function(n){return this.IN(n.wN)&&this.DN(n)?t.ON(n.hN)?gS.uN:gS.sN:gS.oN},n.NN=function(t,n){if(!vu(n.vN,t)){var i=bS.bN,e=OS.EN(i);throw new Pc(kS(i),e)}},n.IN=function(t){var n=this;return 0===t.length||t.some(function(t){return n.CN(t)})},n.CN=function(t){return"tvos"===function(t){switch(t){case uS.ANDROID:return ot.dt;case uS.ANDROIDTV:case uS.FIRETV:return ot.wt;case uS.IOS:return ot.yt;case uS.TVOS:return ot.bt;case uS.CHROMECAST:case uS.CHROMECASTCAF:return ot.pt;default:return ot.vt}}(t)},t.ON=function(t){var n=Number(new Date);return!!t&&n<=t},n.DN=function(t){return!(this.pN&&0!==t.aN.length&&!SS(t.aN))||!!(this.pN&&this.AN(t.aN)&&this.PN(t.aN))},n.AN=function(t){return ES(this.Ds.Xh,t)},n.PN=function(t){if(!this.Ds.eN)return!0;if(this._N)return!0;var n=this.xN();return!!n&&ES(n,t)},n.xN=function(){if(this.Ds.eN){var t=r.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Ds.rN?this.Ds.rN:void 0}},n.SN=function(n,i){return!!t.LN(n,i.fN)},t.LN=function(t,n){return ES(this.BN(t),n)},t.BN=function(t){return xt(t)?t:Tg(t)&&t.src||""},t}();function kS(t){switch(t){case bS.yN:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case bS.mN:return n.ErrorCode.LICENSE_INVALID_SOURCE;case bS.sN:return n.ErrorCode.LICENSE_EXPIRED;case bS.bN:return n.ErrorCode.LICENSE_INVALID_FEATURE;case bS.Cl:return n.ErrorCode.LICENSE_ERROR}}function TS(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+r+s+r+s+r+s+"\\)"),c=e.match(o),a=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var f=new RegExp("^"+c[1]+r+a(c[2])+r+a(c[3])+r+a(c[4])+"$");return null!==i.match(f)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function SS(t){return t.some(function(t){return"*"===t})}function ES(t,n){var i=st.ze(t);if(!RS(i))return!0;for(var e=0;e<n.length;e++){var r=n[e];if(TS(i.hostname,r))return!0;if(TS(Fd(t),r))return!0}return!1}function RS(t){return-1!==yS.indexOf(t.protocol)}function IS(t){var n=st.ze(t.Xh);return RS(n)&&!TS(n.hostname,"localhost")&&!function(t){return TS(t.hostname,"theoplayer.doubleclick.net")}(n)}var DS,OS=function(){function t(){}return t.EN=function(t){return t===bS.yN?this.MN:t===bS.mN?this.FN:t===bS.sN?this.UN:t===bS.bN?this.VN:this.HN},t}();function NS(t){var n=[t.kk,t.WN,t.qN];switch(t.WN){case DS.zN:n.push(t.Wl);break;case DS.jN:n.push(t._w),n.push(t.vu);break;case DS.$N:n.push(t.vu)}return n}OS.HN="The license for this player is invalid.",OS.UN="The usage license for this video player has expired.",OS.MN="The current domain is incompatible with the license for this player.",OS.FN="The provided video source is incompatible with the license for this player.",OS.VN="The requested feature is not available with the license for this player.",function(t){t[t.zN=1]="zN",t[t.jN=4]="jN",t[t.$N=5]="$N"}(DS||(DS={}));for(var CS=new Array(256),AS=0;AS<256;AS+=1)CS[AS]=(AS<16?"0":"")+AS.toString(16);function PS(){var t=Rn(),n=(4294967296*d.random()|0)+t&3029421624,i=(4294967296*d.random()|0)+t&3595553209,e=(4294967296*d.random()|0)+t&1130486254,r=(4294967296*d.random()|0)+t&1284287105;return CS[255&n]+CS[n>>>8&255]+CS[n>>>16&255]+CS[n>>>24&255]+"-"+CS[255&i]+CS[i>>>8&255]+"-"+CS[i>>>16&15|64]+CS[i>>>24&255]+"-"+CS[63&e|128]+CS[e>>>8&255]+"-"+CS[e>>>16&255]+CS[e>>>24&255]+CS[255&r]+CS[r>>>8&255]+CS[r>>>16&255]+CS[r>>>24&255]}var xS=function(){function t(t){this.ZO=void 0,this.ZO=t}var n=t.prototype;return n.tN=function(t){var n,i,e,r,u,s,o,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.ZO.indexOf(t.charAt(n))<<18|this.ZO.indexOf(t.charAt(n+1))<<12|(u=this.ZO.indexOf(t.charAt(n+2)))<<6|(s=this.ZO.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,c[n/4]=String.fromCharCode(i,e,r),64===s&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},n.nN=function(t){var n,i,e,r,u,s,o,c=[],a="";if((s=t.length%3)>0)for(;s++<3;)a+=this.ZO.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,e=n>>12&63,r=n>>6&63,u=63&n,c[s/3]=this.ZO.charAt(i)+this.ZO.charAt(e)+this.ZO.charAt(r)+this.ZO.charAt(u);return(o=c.join("")).slice(0,o.length-a.length)+a},t}();function LS(){return st.Te()}xS.wb=new xS(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),xS.iN=new xS(xS.wb.tN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var BS,MS="theoplayer-session-id";function FS(){if(!BS){var t=Yc.pu(MS);t?BS=t:(BS=PS(),Yc.ha(MS,BS))}return BS}var US=/[^\x00-\x7E]/g;function VS(t){return"\\u"+function(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}(e,r/e.length)),e.slice(0,r)+t)}(t.charCodeAt(0).toString(16),4,"0")}var HS=0,WS=1,qS=6e4;function zS(t){var n,i,e,r,u,s=(n=function(t){return[t.XN,t.dc,t.cN,t.Lp,t.GN,t.YN,t.KN.map(NS)]}(t),i=[],e=n,r=function(t,n){if(At(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,u).replace(US,VS));return xS.iN.nN(s)}var jS=function(){function t(t,n,i,e,r,u){var s=this;void 0===e&&(e=xS.wb),void 0===r&&(r=HS),void 0===u&&(u=WS),this.JN=[],this.QN=null,this.ZN=0,this.tC="unknown",this.so=0,this.nC=void 0,this.iC=function(){LS()-s.ZN>qS&&s.H()},this.eC=function(){s.H(!0)},this.Co=t,this.TT=n,this.rC=i,this.uC=e,this.sC=r,this.oC=u,Q.ct(this.eC),this.nC=c(this.iC,qS)}var n=t.prototype;return n.cC=function(){return Boolean(this.GN)},n.aC=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(this.rC.fC());case 2:if(i.sent.gN){i.next=5;break}return i.abrupt("return");case 5:return n={WN:DS.zN,qN:Rn(),Wl:t},i.next=8,wr.awrap(this.hC(n));case 8:case"end":return i.stop()}},null,this,null,j)},n.vC=function(t,n){var i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={WN:DS.jN,qN:Rn(),_w:n,vu:t},e.next=3,wr.awrap(this.hC(i));case 3:case"end":return e.stop()}},null,this,null,j)},n.dC=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={WN:DS.$N,qN:Rn(),vu:t},i.next=3,wr.awrap(this.hC(n));case 3:case"end":return i.stop()}},null,this,null,j)},n.hC=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(this.rC.fC());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.uC.nN(n.cN)){i.next=6;break}if(t.WN===DS.$N){i.next=6;break}return i.abrupt("return");case 6:if(t.WN===DS.zN?this.lC():this.cC()||this.lC(),t.kk=this.so++,this.JN.push(t),(e=t.WN)!==DS.zN&&e!==DS.$N){i.next=14;break}return i.next=12,wr.awrap(this.H());case 12:i.next=19;break;case 14:if(!(this.JN.length>this.sC)){i.next=19;break}return i.next=17,wr.awrap(this.wC());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,j)},n.H=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.JN.length>0)){n.next=6;break}return n.next=4,wr.awrap(this.wC(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,j)},n.gC=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(this.rC.fC());case 2:return n=i.sent,i.abrupt("return",{XN:Rn(),dc:FS(),cN:this.uC.nN(n.cN)||"dev",Lp:this.Co,GN:this.QN,YN:this.tC,KN:t});case 4:case"end":return i.stop()}},null,this,null,j)},n.wC=function(t){var n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.JN.splice(0,this.oC),e.next=4,wr.awrap(this.gC(n));case 4:i=e.sent,t?this.yv(i):this.yC(i),this.ZN=LS();case 7:case"end":return e.stop()}},null,this,null,j)},n.yC=function(t){var n,i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=zS(t),i=new Nd({Xh:"https://license.theoplayer.com",Oh:n,wv:!1,Wh:ta.si,Hh:{"Content-Type":O_.nE},vv:4e3,hv:Ed.POST}),r.prev=2,r.next=5,wr.awrap(this.TT.jh(i));case 5:return e=r.sent,r.next=8,wr.awrap(e.Rh());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],j)},n.yv=function(t){var n=zS(t);this.TT.yv({Xh:"https://license.theoplayer.com",Oh:n,Dh:O_.nE})},n.lC=function(){this.cC()&&this.H(),this.QN=PS(),this.so=0},n.et=function(){Q.ft(this.eC),a(this.nC),this.H()},ft(t,[{key:"KN",get:function(){return this.JN}},{key:"GN",get:function(){return this.QN}}]),t}();var $S=Et.Bn||Et.kn&&Et.Wn<13;function XS(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var GS=function(){function t(t){this.dI=void 0,this.xd=void 0,this.mC=void 0,this.dI=t}var n=t.prototype;return n.bC=function(t){if(!t||!t.drawImage)return!1;var n=this.dI.gg();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.pC=function(t,n,i,r,u,s){if(!t||!t.texImage2D)return!1;var o=this.dI,c=o.gg();if(!c)return!1;if($S){this.mC||(this.mC=e.createElement("canvas"));var a=this.mC,h=a.getContext("2d"),v=o.Nw,d=o.Ow,l=a.width,w=a.height;h.clearRect(0,0,a.width,a.height),l===v&&w===d||(a.width=v,a.height=d),h.drawImage(c,0,0,v,d);var g=!1;v>0&&XS(h,v-1,0)&&(a.width=l,g=!0),d>0&&XS(h,0,d-1)&&(a.height=w,g=!0),g&&h.drawImage(c,0,0,v,d),c=a}try{t.texImage2D(n,i,r,u,s,c)}catch(t){throw new f("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},ft(t,[{key:"Ld",get:function(){return this.xd||(this.xd=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.bC.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,u,s){return t.pC(n,i,e,r,u,s)}}));var t}}]),t}(),YS=function(t){function n(n,i){var e;return(e=t.call(this,"_C")||this).Ny=n,e.l_=i,e}return vt(n,t),n.prototype.Bd=function(){return new KS(this.Ny,this.l_)},n}(bw),KS=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return vt(n,t),n}(Pu),JS=function(t,n){this.Rg=void 0,this.kC=void 0,this.Rg=t,this.kC=n},QS=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).TC=void 0,e.SC=0,e.EC=0,e.RC=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.EC=n.width,e.SC=n.height,e.kC(e.EC,e.SC)}},e.TC=new Z.ResizeObserver(e.RC),e.TC.observe(e.Rg),e}return vt(n,t),n.prototype.et=function(){this.TC.disconnect()},ft(n,[{key:"IC",get:function(){return this.SC}},{key:"DC",get:function(){return this.EC}}]),n}(JS),ZS=0;var tE,nE=o,iE=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,eE=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function rE(){return tE||(tE=Z&&Z.document&&Z.document.createElement("span")),tE}iE&&eE||(iE=function(t){var n=LS(),i=d.max(0,16-(n-ZS)),e=s(function(){return t(n+i)},i);return ZS=n+i,e},eE=nE),iE=iE.bind(t),eE=eE.bind(t);var uE=["Webkit","Moz","O","ms"];!function(){var t=!1;try{if(void 0!==Z&&"function"==typeof Z.addEventListener){var n=v.defineProperty({},"passive",{get:function(){t=!0}});Z.addEventListener("testPassiveEventSupport",Ft,n),Z.removeEventListener("testPassiveEventSupport",Ft,n)}}catch(t){}}();var sE=mr();function oE(t){return sE.has(t)||sE.set(t,function(t){var n=rE();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<uE.length;e++){var r=uE[e],u=r+i;if(void 0!==n.style[u])return u}return t}(t)),sE.get(t)}function cE(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function aE(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[oE("transition")]="0s"}var fE=function(t){function n(n,r,u){var o;(o=t.call(this,n,r)||this).OC=void 0,o.NC=0,o.EC=NaN,o.SC=NaN,o.CC=void 0,o.AC=void 0,o.xC=void 0,o.LC=void 0,o.BC=void 0,o.vl=function(){o.AC.style.width=1e5+"px",o.AC.style.height=1e5+"px",o.CC.scrollLeft=1e5,o.CC.scrollTop=1e5,o.xC.scrollLeft=1e5,o.xC.scrollTop=1e5,0===o.xC.scrollTop&&iE(o.vl)},o.MC=function(){var t=o.DC,n=o.IC;o.kC(t,n),o.EC=t,o.SC=n,o.vl(),o.NC=0},o.FC=function(){if(!o.NC){var t=o.DC,n=o.IC;t===o.EC&&n===o.SC||(o.NC=iE(o.MC))}},o.UC=function(){o.BC||(o.BC=s(o.VC,66))},o.VC=function(){o.BC=void 0,o.HC()},o.HC=function(){o.FC()};var c=function(t,n){return i.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");u||"static"!==c||(n.style.position="relative");var a,f=e.createElement("div");return o.OC=f,o.CC=e.createElement("div"),o.AC=e.createElement("div"),o.xC=e.createElement("div"),o.LC=e.createElement("div"),cE(o.CC),cE(o.xC),aE(o.AC),aE(a=o.LC),a.style.width="200%",a.style.height="200%",f.appendChild(o.CC),f.appendChild(o.xC),o.CC.appendChild(o.AC),o.xC.appendChild(o.LC),n.appendChild(f),o.CC.addEventListener("scroll",o.FC),o.xC.addEventListener("scroll",o.FC),i&&i.addEventListener("resize",o.UC),o.FC(),o}return vt(n,t),n.prototype.et=function(){eE(this.NC),this.NC=0,this.CC.removeEventListener("scroll",this.FC),this.xC.removeEventListener("scroll",this.FC),je(this.OC),i&&i.removeEventListener("resize",this.UC)},ft(n,[{key:"IC",get:function(){return this.Rg.getBoundingClientRect().height||this.SC||0}},{key:"DC",get:function(){return this.Rg.getBoundingClientRect().width||this.EC||0}}]),n}(JS),hE=function(t){function n(n){var i;return(i=t.call(this)||this).Rg=void 0,i.TC=void 0,i.RC=function(t,n){i.Jr(new YS(t,n))},i.Rg=n,i}vt(n,t);var i=n.prototype;return i.bc=function(t){this.TC||("function"==typeof Z.ResizeObserver?this.TC=new QS(this.Rg,this.RC):this.TC=new fE(this.Rg,this.RC,t))},i.et=function(){this.nu(),this.TC&&(this.TC.et(),this.TC=void 0)},ft(n,[{key:"IC",get:function(){return this.TC?this.TC.IC:0}},{key:"DC",get:function(){return this.TC?this.TC.DC:0}}]),n}(Cu),vE=function(t){function n(){return t.call(this,zk.Gd)||this}return vt(n,t),n}(Pu);!function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{WC:i[0],qC:i[1],zC:i[2],jC:i[3],$C:i[4],XC:i[5]}}}();var dE=function(t){function n(){return t.call(this,zk.gD)||this}return vt(n,t),n}(Pu),lE=function(t){function n(n,i){var e;return(e=t.call(this)||this).dI=void 0,e.GC=void 0,e.YC=void 0,e.KC=!1,e.JC=function(){return e.cc()},e.GD=function(t){e.KC||e.Jr(t)},e.dI=n,e.GC=i,e.YC=Yk,e.QC(),e.dI.Qr(Zc.Sa,e.JC),e.cc(),e}vt(n,t);var i=n.prototype;return i.ny=function(){this.GC&&this.YC.ny()},i.ey=function(){this.YC.ey()},i.QC=function(){this.YC.Qr(zk.Gd,this.GD),this.YC.Qr(zk.Cl,this.Kr)},i.ZC=function(){this.YC.iu(zk.Gd,this.GD),this.YC.iu(zk.Cl,this.Kr)},i.cc=function(){var t=this.YC,n=this.dI.yg();if(t!==n){this.KC=!0;var i=this.yD,e=this.mD;i&&this.ey(),this.ZC(),this.YC=n,this.QC(),i&&!this.yD&&this.mD?this.ny():this.ey(),this.KC=!1,e!==this.mD&&this.Jr(new dE),i!==this.yD&&this.Jr(new vE)}},i.et=function(){this.nu(),this.ZC(),this.dI.iu(Zc.Sa,this.JC)},ft(n,[{key:"mD",get:function(){return!!this.GC&&this.YC.mD}},{key:"yD",get:function(){return this.YC.yD}}]),n}(Cu);function wE(t){var n;return{get url(){return t.Xh},get method(){return t.hv},get headers(){return n||(n=t.Hh.Za()),n},get body(){return t.Oh},get useCredentials(){return t.wv},get type(){return pE(t.mr)},get subType(){return kE(t.dv)},get mediaType(){return SE(t.lv)},get responseType(){return yE(t.Wh)}}}function gE(t){switch(t.toLowerCase()){case"arraybuffer":return ta.Ka;case"json":return ta.Ja;case"stream":return ta.Qa;case"text":default:return ta.si}}function yE(t){return t}function mE(t){switch(t.toUpperCase()){case"POST":return Ed.POST;case"PUT":return Ed.PUT;case"DELETE":return Ed.DELETE;case"HEAD":return Ed.HEAD;case"OPTIONS":return Ed.OPTIONS;case"GET":default:return Ed.GET}}function bE(t){switch(t.toLowerCase()){case"manifest":return Rd.Kh;case"segment":return Rd.Jh;case"content-protection":return Rd.Qh;default:return Rd.Yh}}function pE(t){return t}function _E(t){switch(t.toLowerCase()){case"initialization-segment":return Id.Zh;case"fairplay-license":return Id.tv;case"fairplay-certificate":return Id.nv;case"widevine-license":return Id.ev;case"widevine-certificate":return Id.rv;case"playready-license":return Id.uv;case"clearkey-license":return Id.sv;case"aes128-key":return Id.ov;default:return Id.Yh}}function kE(t){return t}function TE(t){switch(t.toLowerCase()){case"audio":return Dd.cv;case"video":return Dd.av;case"text":return Dd.si;case"image":return Dd.fv;case"":default:return Dd.Yh}}function SE(t){return t}var EE=function(){function t(t,n){this.tA=new Ws,this.nA=[],this.xd=void 0,this.iA=!1,this.Ov=void 0,this.eA=0,this.rA=t,this.uA=n}var n=t.prototype;return n.Sp=function(){this.iA=!0,this.tA.Bu(null)},n.sA=function(){this.tA.Mu(new rd(this.nA))},n.oA=function(t){if(!this.cA)throw new h("Cannot respond more than once");if(!At(t))throw new h("Expected valid response");this.Ov=this.aA(t),this.Sp()},n.fA=function(){try{var t=this.uA(this.Ld);t?this.hA(t):this.vA||this.dA||this.Sp()}catch(t){this.nA.push(t),this.sA()}},n.hA=function(t){if(this.dA)throw new f("Request has been redirected or a response already exists");if(Bt(t))this.lA(t);else{if("function"!=typeof t)throw new h("Expected promise or function");var n=new Ws;try{var i=t(function(t){t?n.Mu(t):n.Bu(void 0)});Bt(i)&&n.Bu(i)}catch(t){n.Mu(t)}this.lA(n.Pu)}},n.lA=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.eA++,n.next=4,wr.awrap(t);case 4:this.eA--,this.vA||this.dA||(this.nA.length?this.sA():this.Sp()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.eA--,this.nA.push(n.t0),this.vA||this.dA||this.sA();case 13:case"end":return n.stop()}},null,this,[[0,8]],j)},ft(t,[{key:"wA",get:function(){return this.tA.Pu}},{key:"Ld",get:function(){return this.xd||(this.xd=this.gA()),this.xd}},{key:"dA",get:function(){return this.iA}},{key:"cA",get:function(){return!this.iA}},{key:"vA",get:function(){return this.eA>0}},{key:"Nv",get:function(){return this.Ov}}]),t}(),RE=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).yA=void 0,r.yA=e,r.fA(),r}vt(n,t),n.mA=function(t,n,i){var e=void 0===t.body?i:t.body;return new Od({Li:e,jh:n.jh,Wh:n.jh.Wh,Hh:t.headers,Vh:t.status,qh:t.statusText,$h:t.url,zh:!0},n)};var i=n.prototype;return i.gA=function(){return i=wE((t=this).jh),{get closed(){return!t.cA},get request(){return i},get url(){return t.Xh},get status(){return t.Vh},get statusText(){return t.qh},get headers(){return n||(n=t.Hh.Za()),n},get body(){return t.Oh},respondWith:function(n){return t.oA(n)},waitUntil:function(n){return t.hA(n)}};var t,n,i},i.aA=function(t){return n.mA(t,this.rA,this.yA)},ft(n,[{key:"Oh",get:function(){return this.yA}},{key:"Hh",get:function(){return this.rA.Hh}},{key:"jh",get:function(){return this.rA.jh}},{key:"Nv",get:function(){return this.Ov}},{key:"Vh",get:function(){return this.rA.Vh}},{key:"qh",get:function(){return this.rA.qh}},{key:"Xh",get:function(){return this.rA.$h}}]),n}(EE),IE=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).bA=void 0,r.pA=void 0,r.pA=e,r.fA(),r}vt(n,t);var i=n.prototype;return i.gA=function(){return t=this,{get url(){return t.Xh},get method(){return t.hv},get headers(){return n||(n=t.Hh.Za()),n},get body(){return t.Oh},get closed(){return!t.cA},get useCredentials(){return t.wv},get type(){return pE(t.mr)},get subType(){return kE(t.dv)},get mediaType(){return SE(t.lv)},get responseType(){return yE(t.Wh)},redirect:function(n){return t._A(n)},respondWith:function(n){return t.oA(n)},waitUntil:function(n){return t.hA(n)}};var t,n},i.aA=function(t){var n=this.rA.Oh,i=new Od({Li:n,Hh:{},jh:this.rA,$h:this.rA.Xh,Wh:this.rA.Wh,Vh:200,qh:"OK"});return RE.mA(t,i,n)},i._A=function(t){if(!this.cA)throw new h("Cannot redirect, already redirected or has a response");var n;n=xt(t)?{url:t}:t,this.bA=function(t,n){return new Nd({Xh:void 0===t.url?n.Xh:t.url,hv:void 0!==t.method?mE(t.method):void 0,Hh:t.headers,Oh:t.body,wv:t.useCredentials,mr:void 0!==t.type?bE(t.type):void 0,dv:void 0!==t.subType?_E(t.subType):void 0,lv:void 0!==t.mediaType?TE(t.mediaType):void 0,Wh:void 0!==t.responseType?gE(t.responseType):void 0},n)}(n,this.rA),this.Sp()},ft(n,[{key:"Oh",get:function(){return this.rA.Oh}},{key:"cA",get:function(){return this.pA&&!this.iA}},{key:"Hh",get:function(){return this.rA.Hh}},{key:"hv",get:function(){return this.rA.hv}},{key:"kA",get:function(){return this.bA}},{key:"Nv",get:function(){return this.Ov}},{key:"Wh",get:function(){return this.rA.Wh}},{key:"vv",get:function(){return this.rA.vv}},{key:"$r",get:function(){return this.rA.$r}},{key:"mr",get:function(){return this.rA.mr}},{key:"dv",get:function(){return this.rA.dv}},{key:"lv",get:function(){return this.rA.lv}},{key:"Xh",get:function(){return this.rA.Xh}},{key:"wv",get:function(){return this.rA.wv}},{key:"gv",get:function(){return this.rA.gv}}]),n}(EE);var DE,OE=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new NE(n);return(e=t.call(this,r,i)||this).TA=void 0,e.TA=r,e}vt(n,t);var i=n.prototype;return i.SA=function(t){this.TA.SA(t)},i.EA=function(t){this.TA.EA(t)},i.RA=function(t){this.TA.RA(t)},i.IA=function(t){this.TA.IA(t)},i.DA=function(t){this.TA.DA(t)},n}(Ad),NE=function(){function t(t){this.mv=void 0,this.OA=[],this.NA=[],this.mv=t}var n=t.prototype;return n.jh=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,wr.awrap(this.CA(t,t.$r));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof Ud)){i.next=12;break}return i.next=11,wr.awrap(this.AA(i.t0,t.$r));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,wr.awrap(this.PA(n,t.$r));case 15:if(!Sd(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new Hd(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],j)},n.yv=function(t){return this.mv.yv(t)},n.CA=function(t,n){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:mu(n),i=t,r=0,u=this.OA.slice();case 3:if(!(r<u.length)){c.next=21;break}if(s=u[r],mu(n),(o=new IE(i,s,!e)).dA){c.next=17;break}return c.prev=8,c.next=11,wr.awrap(o.wA);case 11:c.next=17;break;case 13:return c.prev=13,c.t0=c.catch(8),c.abrupt("continue",18);case 17:o.kA&&!e?i=o.kA:o.Nv&&!e&&(e=o.Nv);case 18:r++,c.next=3;break;case 21:if(!e){c.next=23;break}return c.abrupt("return",e);case 23:return c.abrupt("return",this.mv.jh(i));case 24:case"end":return c.stop()}},null,this,[[8,13]],j)},n.AA=function(t,n){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof Hd?t.Nv:new Od({Li:null,jh:t.jh,Vh:0,qh:""}),r.next=3,wr.awrap(this.PA(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!Sd(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new Hd(e);case 13:case"end":return r.stop()}},null,this,null,j)},n.PA=function(t,n){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=t,e=0,r=this.NA.slice();case 2:if(!(e<r.length)){c.next=23;break}return u=r[e],mu(n),c.next=7,wr.awrap(j.resolve(i.Du().Li(n)));case 7:if(s=c.sent,(o=new RE(i,u,s)).dA){c.next=19;break}return c.prev=10,c.next=13,wr.awrap(o.wA);case 13:c.next=19;break;case 15:return c.prev=15,c.t0=c.catch(10),c.abrupt("continue",20);case 19:i=o.Nv||i;case 20:e++,c.next=2;break;case 23:return c.abrupt("return",i);case 24:case"end":return c.stop()}},null,this,[[10,15]],j)},n.SA=function(t){this.OA.unshift(t)},n.EA=function(t){this.OA.push(t)},n.RA=function(t){au(this.OA,t)},n.IA=function(t){this.NA.unshift(t)},n.DA=function(t){au(this.NA,t)},n.et=function(){this.mv.et(),du(this.OA),du(this.NA)},t}(),CE=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).xd=void 0,r.xA=function(t){r.Jr(t)},r.LA=function(t){r.Jr(t)},r.BA=n,r.TT=i,r.OD=e,r.BA.Qr(Zc.Na,r.xA),r.BA.Qr(Zc.Oa,r.LA),r}vt(n,t);var i=n.prototype;return i.MA=function(t){this.OD.MA(t)},i.SA=function(t){this.TT.SA(t)},i.RA=function(t){this.TT.RA(t)},i.IA=function(t){this.TT.IA(t)},i.DA=function(t){this.TT.DA(t)},i.et=function(){this.nu(),this.BA.iu(Zc.Na,this.xA),this.BA.iu(Zc.Oa,this.LA)},ft(n,[{key:"Ld",get:function(){var t;return this.xd||(this.xd=(t=this,{get online(){return t.xg},get estimator(){return n=t.FA,{get bandwidth(){return n.FE},get roundTripTime(){return n.UE}};var n},setEstimator:function(n){t.MA(function(t){if(t)return{get FE(){return Hw(t.bandwidth)},get UE(){return Hw(t.roundTripTime)},ME:function(n){return function(t){if(t)return{UA:function(n){t.markRequestStart(n)},VA:function(n){t.markResponseStart(n)},HA:function(n,i){t.markResponseData(n,i)},WA:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(wE(n)))}}}(n))},addRequestInterceptor:function(n){t.SA(n)},removeRequestInterceptor:function(n){t.RA(n)},addResponseInterceptor:function(n){t.IA(n)},removeResponseInterceptor:function(n){t.DA(n)},addEventListener:function(n,i){t.Qr(n,i)},removeEventListener:function(n,i){t.iu(n,i)}})),this.xd}},{key:"xg",get:function(){return this.BA.xg}},{key:"FA",get:function(){return this.OD.FA}}]),n}(Cu);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(DE||(DE={}));var AE=30,PE={type:DE.BANDWIDTH},xE=20;function LE(t){var n,i,e,r=Lw(PE);return xt(t)?r.type=BE(t):At(t)&&function(t){switch(t){case DE.PERFORMANCE:case DE.QUALITY:case DE.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=BE(t.type)),At(t)&&At(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=Vw(n.bitrate),g(e)||(i.bitrate=e),i)),r}function BE(t){switch(t){case"bandwidth":return DE.BANDWIDTH;case"performance":return DE.PERFORMANCE;case"quality":return DE.QUALITY}}var ME=function(t){function n(n){var i;return(i=t.call(this,"zA")||this).qA=n,i}return vt(n,t),n}(Pu),FE=function(t){function n(n){var i;return(i=t.call(this,"$A")||this).jA=n,i}return vt(n,t),n}(Pu),UE=function(t){function n(n){var i;return(i=t.call(this,"GA")||this).XA=n,i}return vt(n,t),n}(Pu),VE=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(n=t.call.apply(t,[this].concat(r))||this).xd=(i=Nn(n),{get strategy(){return{metadata:(t=i.jA).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.jA=LE(t)},get targetBuffer(){return i.qA},set targetBuffer(t){var n=Vw(t);g(n)||(i.qA=n)},get bufferLookbackWindow(){return i.XA},set bufferLookbackWindow(t){var n=Vw(t);g(n)||(i.XA=n<=0?AE:n)},get maxBufferLength(){return i.YA}}),n.KA=PE,n.JA=xE,n.QA=AE,n.ZA=1/0,n.tP=void 0,n.nP=void 0,n}vt(n,t);var i=n.prototype;return i.iP=function(t){this.nP=t},i.MA=function(t){this.tP=t},i.eP=function(t){var n=d.min(t,.8*this.ZA);if(n=d.max(10,n),this.ZA===n)return!1;var i=this.rP;this.ZA=n;var e=this.rP;return e!==i&&this.Jr(new ME(e)),!0},ft(n,[{key:"uP",get:function(){switch(this.KA.type){case DE.PERFORMANCE:return 0;case DE.QUALITY:return 1/0;case DE.BANDWIDTH:return this.KA.metadata&&void 0!==this.KA.metadata.bitrate?this.KA.metadata.bitrate:8*fg.tw();default:return 8*fg.tw()}}},{key:"Ld",get:function(){return this.xd}},{key:"jA",get:function(){return this.KA},set:function(t){this.KA=t,this.Jr(new FE(t))}},{key:"qA",get:function(){return this.JA},set:function(t){this.JA=t,this.Jr(new ME(t))}},{key:"rP",get:function(){return d.min(this.JA,this.ZA)}},{key:"XA",get:function(){return this.QA},set:function(t){this.QA=t,this.Jr(new UE(t))}},{key:"YA",get:function(){return this.ZA}},{key:"FA",get:function(){var t;return null!=(t=this.tP)?t:this.nP.ZR}}]),n}(Cu),HE=function(t){function n(){return t.call(this,"Yd")||this}return vt(n,t),n.prototype.Bd=function(){return new WE},n}(bw),WE=function(t){function n(){return t.call(this,"change")||this}return vt(n,t),n}(Pu),qE=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).sP=void 0,r.JN=void 0,r.oP=function(t){pw(t)&&Su(function(){r.Jr(t.Ld)})},r.sP=n,r.JN=i;for(var u=0,s=r.JN;u<s.length;u++){var o=s[u];r.sP.Qr(o,r.oP)}return r}return vt(n,t),n.prototype.et=function(){this.nu();for(var t=0,n=this.JN;t<n.length;t++){var i=n[t];this.sP.iu(i,this.oP)}},n}(Cu),zE=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).sP=void 0,e.oP=function(t){pw(t)&&Su(function(){e.Jr(t.Ld)})},e.sP=n,e.sP.tu(e.oP),e}return vt(n,t),n.prototype.et=function(){this.nu(),this.sP.uu(this.oP)},n}(sg);var jE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).hy=0,n.vy=1/0,n.xd=void 0,n}vt(n,t);var i=n.prototype;return i.vl=function(){0===this.hy&&this.vy===1/0||(this.hy=0,this.vy=1/0,this.Jr(new HE))},i.cP=function(){return new $k([this.sy,this.oy],[!0,!0])},ft(n,[{key:"sy",get:function(){return this.hy},set:function(t){if(this.oy<=t)throw new f("Start time of a clip should be smaller than the end time.");this.hy!==t&&(this.hy=t,this.Jr(new HE))}},{key:"oy",get:function(){return this.vy},set:function(t){if(t<=this.sy)throw new f("End time of a clip should be larger than the start time.");this.vy!==t&&(this.vy=t,this.Jr(new HE))}},{key:"Ld",get:function(){var t,n,i;return this.xd||(this.xd=(i={get startTime(){return t.sy},set startTime(n){t.sy=n},get endTime(){return t.oy},set endTime(n){t.oy=n},addEventListener:function(t,i){n.Qr(t,i)},removeEventListener:function(t,i){n.iu(t,i)}},n=new zE(t=this,i),i)),this.xd}}]),n}(sg),$E=function(t){function n(n){var i;return(i=t.call(this)||this).aP=function(t){i.fP(t)||i.Jr(t)},i.hP=n,i.hP.tu(i.aP),i}vt(n,t);var i=n.prototype;return i.vP=function(){return this.hP.ig},i.mg=function(){return this.hP.mg()},i.dP=function(){return this.hP.Sg},i.lP=function(){return this.hP.kg},i.wP=function(){return this.hP.Eg},i.gP=function(t){this.hP.Eg=t},i.yP=function(){return this.hP._w},i.mP=function(t){this.hP._w=t},i.bP=function(){return this.hP.kw},i.pP=function(){return this.hP.Rg},i._P=function(){return this.hP.Tw},i.kP=function(){return this.hP.vu},i.TP=function(){return this.hP.Sw},i.SP=function(){return this.hP.Ig},i.EP=function(){return this.hP.Ew},i.RP=function(t){this.hP.Ew=t},i.IP=function(){return this.hP.xg},i.DP=function(){return this.hP.Rw},i.OP=function(){return this.hP.Iw},i.NP=function(t){this.hP.Iw=t},i.CP=function(){return this.hP.Lg},i.AP=function(){return this.hP.Bg},i.PP=function(t){this.hP.Bg=t},i.xP=function(){return this.hP.Ul},i.LP=function(){return this.hP.Mg},i.BP=function(){return this.hP.Dw},i.og=function(){return this.hP.og()},i.cg=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return mu(n),i.next=3,wr.awrap(this.hP.cg(t,n));case 3:case"end":return i.stop()}},null,this,null,j)},i.MP=function(){return this.hP.rg},i.FP=function(){return this.hP.Ow},i.UP=function(){return this.hP.eg},i.VP=function(){return this.hP.Nw},i.HP=function(){return this.hP.Cw},i.WP=function(t){this.hP.Cw=t},i.yg=function(){return this.hP.yg()},i.gg=function(){return this.hP.gg()},i.vg=function(t){this.hP.vg(t)},i.dg=function(){this.hP.dg()},i.wg=function(){this.hP.wg()},i.st=function(){this.hP.st()},i.K=function(){this.hP.K()},i.Y=function(){this.hP.Y()},i.lg=function(){this.hP.lg()},i.sg=function(){return this.hP.sg()},i.ag=function(){return this.hP.ag()},i.fg=function(){this.hP.fg()},i.hg=function(){this.hP.hg()},i.vl=function(){return this.hP.vl()},i.et=function(){return this.hP.et()},i.Tg=function(){this.hP.Tg()},i.bg=function(t){return this.hP.bg(t)},i.fP=function(t){return!1},ft(n,[{key:"ig",get:function(){return this.vP()}},{key:"Sg",get:function(){return this.dP()}},{key:"Eg",get:function(){return this.wP()},set:function(t){this.gP(t)}},{key:"kg",get:function(){return this.lP()}},{key:"_w",get:function(){return this.yP()},set:function(t){this.mP(t)}},{key:"kw",get:function(){return this.bP()}},{key:"Rg",get:function(){return this.pP()}},{key:"Tw",get:function(){return this._P()}},{key:"vu",get:function(){return this.kP()}},{key:"Sw",get:function(){return this.TP()}},{key:"ug",get:function(){return this.hP.ug}},{key:"Ig",get:function(){return this.SP()}},{key:"zw",get:function(){return this.hP.zw}},{key:"Ew",get:function(){return this.EP()},set:function(t){this.RP(t)}},{key:"xg",get:function(){return this.IP()}},{key:"Rw",get:function(){return this.DP()}},{key:"Iw",get:function(){return this.OP()},set:function(t){this.NP(t)}},{key:"Lg",get:function(){return this.CP()}},{key:"Bg",get:function(){return this.AP()},set:function(t){this.PP(t)}},{key:"Ul",get:function(){return this.xP()}},{key:"Mg",get:function(){return this.LP()}},{key:"Dw",get:function(){return this.BP()}},{key:"rg",get:function(){return this.MP()}},{key:"Ow",get:function(){return this.FP()}},{key:"eg",get:function(){return this.UP()}},{key:"Nw",get:function(){return this.VP()}},{key:"Cw",get:function(){return this.HP()},set:function(t){this.WP(t)}},{key:"Fg",get:function(){return this.hP.Fg}},{key:"Ug",get:function(){return this.hP.Ug},set:function(t){this.hP.Ug=t}}]),n}(og),XE=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).qP=void 0,r.zP=!1,r.jP=void 0,r.$P=!1,r.XP=function(){r.GP(),r.YP()},r.wR=function(){r.KP(),r.YP(),r.JP&&r._w>=r.qP.oy-n.QP&&!r.Tw&&(r.jP=iE(r.wR))},r.ZP=function(){r.$P=!0},r.tx=function(){r.$P&&(r.$P=!1,r.YP())},r.qP=e,r.qP.Qr("Yd",r.XP),r.hP.Qr("timeupdate",r.wR),r}vt(n,t);var i=n.prototype;return i.mP=function(n){var i=this.qP.cP().WI(n);t.prototype.mP.call(this,i),this.YP()},i._P=function(){return t.prototype._P.call(this)||this.zP},i.LP=function(){return $k.vD(t.prototype.LP.call(this)).jI(this.qP.cP()).YR()},i.Y=function(){this._P()?this.mP(this.nx.start(0)):this.GP(),t.prototype.Y.call(this),this.YP()},i.cg=function(n,i){return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return mu(i),this.zP=!1,this.qP.vl(),e.next=5,wr.awrap(t.prototype.cg.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,j)},i.et=function(){return this.qP.iu("Yd",this.XP),this.hP.iu("timeupdate",this.wR),this.KP(),t.prototype.et.call(this)},i.fP=function(n){switch(n.type){case"seeking":return this.Jr(n),this.ZP(),!0;case"seeked":case"emptied":return this.Jr(n),this.tx(),!0;case"ended":if(this.JP)return!0}return t.prototype.fP.call(this,n)},i.KP=function(){this.jP&&(eE(this.jP),this.jP=void 0)},i.YP=function(){var t=this._w,i=this.JP&&t>=this.qP.oy-n.Um;this.zP&&!i?(this.zP=!1,this.Rw&&this.Y()):this.zP||!i||this.Dw||this.$P||(this.zP=!0,this.Jr(new Wg(t)),this.K())},i.GP=function(){if(this.kw!==1/0){var t=this.nx,i=$k.vD(t).WI(this._w);Sn(this._w,i,n.Um)||this.mP(i)}},ft(n,[{key:"nx",get:function(){return this.LP().length?this.LP():this.qP.cP().YR()}},{key:"JP",get:function(){return this.qP.oy<this.kw}}]),n}($E);XE.QP=1,XE.Um=.001;var GE=function(){function t(){this.ix=void 0,this.ix=!1}return ft(t,[{key:"ex",get:function(){return this.ix},set:function(t){this.ix=t}}]),t}(),YE=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).ix=void 0,e.ux=!1,e.sx=!1,e.ix=i,e}vt(n,t);var i=n.prototype;return i._P=function(){return!this.ix.ex&&t.prototype._P.call(this)},i.K=function(){this.sx=!0,t.prototype.K.call(this)},i.Y=function(){this.sx=!1,t.prototype.Y.call(this)},i.fP=function(n){if(this.ix.ex)switch(n.type){case"ended":return this._w=0,this.sx||(this.Dw?this.ux=!0:this.Y()),!0;case"seeked":this.ux&&(this.ux=!1,this.Y());break;case"pause":if(this.ux||t.prototype._P.call(this))return!0}return t.prototype.fP.call(this,n)},n}($E);var KE=function(){function t(t){var n;this.xd=(n=this,{get currentBandwidthEstimate(){return n.Cg},get corruptedVideoFrames(){return n.Og},get droppedVideoFrames(){return n.Dg},get totalBytesLoaded(){return n.Ag},get bufferedSegments(){return n.Pg}}),this._I=t}return ft(t,[{key:"Ld",get:function(){return this.xd}},{key:"Og",get:function(){return this._I.ox.zw.Og}},{key:"Cg",get:function(){return this._I.ox.zw.Cg}},{key:"Dg",get:function(){return this._I.ox.zw.Dg}},{key:"ax",get:function(){throw new f("Not implemented")}},{key:"hx",get:function(){throw new f("Not implemented")}},{key:"Ag",get:function(){return this._I.ox.zw.Ag}},{key:"Ng",get:function(){return this._I.ox.zw.Ng}},{key:"Pg",get:function(){return this._I.ox.zw.Pg}}]),t}(),JE=function(t){function n(){return t.call(this,"vx")||this}return vt(n,t),n.prototype.Bd=function(){return new QE},n}(bw),QE=function(t){function n(){return t.call(this,"castingchange")||this}return vt(n,t),n}(Pu);var ZE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).lx=[],n.wx=!1,n.xd=void 0,n.gx=function(){var t=n.wx,i=n.yx;t!==i&&(n.wx=i,n.Jr(new JE))},n}vt(n,t);var i=n.prototype;return i.mx=function(t){this.lx.push(t),t.Qr("statechange",this.gx)},i.et=function(){for(var t=0,n=this.lx;t<n.length;t++){n[t].iu("statechange",this.gx)}du(this.lx)},ft(n,[{key:"yx",get:function(){return this.lx.some(function(t){return t.yx})}},{key:"Ld",get:function(){var t,n,i;return this.xd||(this.xd=(i={get casting(){return t.yx},addEventListener:function(t,i){n.Qr(t,i)},removeEventListener:function(t,i){n.iu(t,i)}},n=new qE(t=this,["vx"],i),i)),this.xd}}]),n}(Cu),tR=function(){function t(){}return t.bx=function(t,n){var i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,i=new Nd({Xh:t,Wh:ta.si,hv:Ed.GET}),u.next=4,wr.awrap(n.jh(i));case 4:return e=u.sent,u.next=7,wr.awrap(e.Li());case 7:return r=u.sent,u.abrupt("return",r.trim());case 11:return u.prev=11,u.t0=u.catch(0),yu(u.t0),u.abrupt("return",void 0);case 15:case"end":return u.stop()}},null,null,[[0,11]],j)},t._x=function(t){try{var i=lS(t);return new pS(i.key,i.domains_page,i.domains_source,i.expiration_date,i.features,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Pc(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.kx=function(t){void 0===t&&(t=xS.wb),st.Oe("The baked-in license is used. Please update the configuration with your license.");var n=t.tN(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.tN(n)}),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.tN(n)}),r=Number(new Date(Number(t.tN("COD|aHpHa:p3Ceo3Co\"\"")))),u=[].map(function(n){return t.tN(n)});return new pS(n,i,e,r,u)},t.convertLicenseToDummyLicense=function(t){return new pS(t.cN,t.aN,t.fN,864e13,t.vN,t.dN,Date.now(),t.wN,t.gN)},t}(),nR=function(){function t(){}return t.va=function(){return t.ni||(t.ni=iR.Rc()?new iR:new Gc),t.ni},t.Tu=function(n){t.va().Tu(n)},t.fa=function(){t.va().fa()},t.pu=function(n){return t.va().pu(n)},t.ha=function(n,i){t.va().ha(n,i)},t.Tx=function(n){var i=t.pu(n);if(void 0!==i)return w(i)},t.Sx=function(n){return"true"===t.pu(n)},t}();nR.ni=void 0;var iR=function(n){function i(){return n.apply(this,arguments)||this}vt(i,n),i.Rc=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.Tu=function(n){t.localStorage.removeItem(n)},e.fa=function(){t.localStorage.clear()},e.pu=function(n){return t.localStorage[n]},e.ha=function(n,i){t.localStorage[n]=i},i}(nR),eR=d.floor(14399999*d.random()-72e5),rR=function(){function t(t,n,i,e,r,u){this.pN=void 0,this.TT=t,this.Ex=n,this.Rx=i,this.rC=e,this.Ix=r,this.Ds=u,this.pN=IS(u)}var i=t.prototype;return i.Dx=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(this.Ox(this.Ix.license,this.Ix.licenseUrl));case 2:t=n.sent,this.rC.Nx(t);case 4:case"end":return n.stop()}},null,this,null,j)},i.Ox=function(t,i){var e,r,u,s,o,c,a,f,h;return wr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=tR._x(t):e||(r=tR.kx()),e||(e="https://validate.theoplayer.com/1/"+r.cN),u=this.Cx(),!r){v.next=14;break}if((s=this.Ex.RN(r))!==gS.uN){v.next=14;break}if(!this.Ax(r.hN)||!this.Ax(null==u?void 0:u.hN)){v.next=13;break}return v.next=10,wr.awrap(this.Px(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!u){v.next=25;break}if(this.Ex.RN(u)!==gS.uN){v.next=24;break}if(!this.Ax(null==u?void 0:u.hN)){v.next=23;break}return v.next=20,wr.awrap(this.Px(e));case 20:if(!(c=v.sent)){v.next=23;break}return v.abrupt("return",c);case 23:return v.abrupt("return",u);case 24:nR.Tu("THEOplayer.license");case 25:return v.next=27,wr.awrap(tR.bx(e,this.TT));case 27:if(!(a=v.sent)){v.next=37;break}if(f=tR._x(a),this.Ex.RN(f)!==gS.uN){v.next=34;break}return nR.ha("THEOplayer.license",a),v.abrupt("return",f);case 34:nR.Tu("THEOplayer.license"),v.next=39;break;case 37:if(this.pN||!r||s!==gS.sN||e!=="https://validate.theoplayer.com/1/"+r.cN){v.next=39;break}return v.abrupt("return",tR.convertLicenseToDummyLicense(r));case 39:if(!r&&!f){v.next=43;break}this.xx(null!=(h=r)?h:f,new Pc(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new Pc(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,j)},i.TN=function(t){var n,i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,wr.awrap(this.rC.fC());case 2:if(n=c.sent,!this.Ax(n.hN)){c.next=9;break}return e=null!=(i=this.Ix.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.cN,c.next=7,wr.awrap(this.Px(e));case 7:(r=c.sent)&&(this.rC.Nx(r),n=r);case 9:if(c.prev=9,(u=this.Ex.RN(n))!==gS.oN){c.next=16;break}throw s=bS.yN,new Pc(kS(s),OS.EN(s));case 16:if(u!==gS.sN){c.next=19;break}throw o=bS.sN,new Pc(kS(o),OS.EN(o));case 19:this.Ex.TN(t,n),c.next=25;break;case 22:c.prev=22,c.t0=c.catch(9),this.Lx(c.t0);case 25:case"end":return c.stop()}},null,this,[[9,22]],j)},i.NN=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,wr.awrap(this.rC.fC());case 2:n=i.sent;try{this.Ex.NN(t,n)}catch(t){this.Lx(t)}case 4:case"end":return i.stop()}},null,this,null,j)},i.Px=function(t){var n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wr.awrap(tR.bx(t,this.TT));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=tR._x(n),this.Ex.RN(i)!==gS.uN){e.next=11;break}return nR.ha("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],j)},i.Ax=function(t){return!t||Number(new Date)+2592e5+eR>=t},i.Cx=function(){var t=nR.pu("THEOplayer.license");if(t)return tR._x(t)},i.xx=function(t,n){this.rC.Nx(t),this.Lx(n)},i.Lx=function(t){throw Gt(t.message),this.Rx.dC(t.message),t},t}(),uR=function(){function t(){this.Bx=void 0,this.Mx=new Ws}var n=t.prototype;return n.Nx=function(t){this.Bx=t,this.Mx.Bu()},n.fC=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Bx){t.next=2;break}return t.abrupt("return",j.resolve(this.Bx));case 2:return t.next=4,wr.awrap(this.Mx.Pu);case 4:return t.abrupt("return",this.Bx);case 5:case"end":return t.stop()}},null,this,null,j)},ft(t,[{key:"Fx",get:function(){return this.Bx}}]),t}(),sR=function(t){function n(){return t.call(this,"Yd")||this}return vt(n,t),n.prototype.Bd=function(){return new oR},n}(bw),oR=function(t){function n(){return t.call(this,"change")||this}return vt(n,t),n}(Pu);function cR(t){var n,i={get fontFamily(){return t.Ux},set fontFamily(n){t.Ux=n},get fontColor(){return t.Vx},set fontColor(n){t.Vx=n},get fontSize(){return t.Hx},set fontSize(n){t.Hx=n},get backgroundColor(){return t.Wx},set backgroundColor(n){t.Wx=n},get windowColor(){return t.qx},set windowColor(n){t.qx=n},get edgeStyle(){return t.zx},set edgeStyle(n){t.zx=n},get marginTop(){return t.jx},set marginTop(n){t.jx=n},get marginBottom(){return t.$x},set marginBottom(n){t.$x=n},get marginLeft(){return t.Xx},set marginLeft(n){t.Xx=n},get marginRight(){return t.Gx},set marginRight(n){t.Gx=n},addEventListener:function(t,i){var e=zw(t,Ww);n.Qr(e,i)},removeEventListener:function(t,i){var e=zw(t,Ww);n.iu(e,i)}};return n=new Au(i),t.Qr(["Yd"],function(t){return n.Jr(t.Ld)}),i}var aR,fR,hR={Ux:void 0,Vx:void 0,Hx:void 0,Wx:void 0,qx:void 0,zx:void 0,Yx:void 0,jx:void 0,$x:void 0,Xx:void 0,Gx:void 0},vR="THEOplayer.textTrackStyle.",dR=function(t){function n(){var i;return(i=t.call(this)||this).Kx=void 0,i.xd=void 0,i.Kx=n.Jx(),i}return vt(n,t),n.prototype.cc=function(t){this.Kx=gr({},this.Kx,t),n.Qx(this.Kx),this.Jr(new sR)},n.Jx=function(){var t=gr({},hR);return t.Ux=nR.pu(vR+"fontFamily")||t.Ux,t.Vx=nR.pu(vR+"fontColor")||t.Vx,t.Hx=nR.pu(vR+"fontSize")||t.Hx,t.Wx=nR.pu(vR+"backgroundColor")||t.Wx,t.qx=nR.pu(vR+"windowColor")||t.qx,t.zx=nR.pu(vR+"edgeStyle")||t.zx,t},n.Qx=function(t){nR.ha(vR+"fontFamily",t.Ux||""),nR.ha(vR+"fontColor",t.Vx||""),nR.ha(vR+"fontSize",t.Hx||""),nR.ha(vR+"backgroundColor",t.Wx||""),nR.ha(vR+"windowColor",t.qx||""),nR.ha(vR+"edgeStyle",t.zx||"")},ft(n,[{key:"Zx",get:function(){return this.Kx}},{key:"Ux",get:function(){return this.Kx.Ux},set:function(t){this.cc({Ux:t})}},{key:"Vx",get:function(){return this.Kx.Vx},set:function(t){this.cc({Vx:t})}},{key:"Hx",get:function(){return this.Kx.Hx},set:function(t){this.cc({Hx:t})}},{key:"Wx",get:function(){return this.Kx.Wx},set:function(t){this.cc({Wx:t})}},{key:"qx",get:function(){return this.Kx.qx},set:function(t){this.cc({qx:t})}},{key:"zx",get:function(){return this.Kx.zx},set:function(t){this.cc({zx:t})}},{key:"Yx",get:function(){return this.Kx.Yx}},{key:"jx",get:function(){return this.Kx.jx},set:function(t){this.cc({jx:t})}},{key:"$x",get:function(){return this.Kx.$x},set:function(t){this.cc({$x:t})}},{key:"Gx",get:function(){return this.Kx.Gx},set:function(t){this.cc({Gx:t})}},{key:"Xx",get:function(){return this.Kx.Xx},set:function(t){this.cc({Xx:t})}},{key:"Ld",get:function(){return this.xd||(this.xd=cR(this)),this.xd}}]),n}(Cu),lR=function(t){function n(n,i){var e;(e=t.call(this)||this).tL=void 0,e.gc=void 0,e.ox=void 0,e.nL=void 0,e.Od=void 0,e.qP=void 0,e.ix=void 0,e.iL=void 0,e.eL=void 0,e.OD=void 0,e.Ex=void 0,e.rL=void 0,e.uL=void 0,e.DD=void 0,e.sL=!1,e.Yw=!1,e.jg=void 0,e.oL=!1,e.cL=void 0,e.aL=void 0,e.fL=void 0,e.hL=void 0,e.vL=void 0,e.dL=function(t){if(!e.oL){e.oL=!0;var n=e.tL,i=_y(t);e.ox.pl=new Qk(e.Rg,i,t),Eu(n.et())}},e.lL=function(t){e.Jr(t.Ld)},e.wL=function(t){t.type!==Zc.Na&&t.type!==Zc.Oa&&e.Jr(t)};var r=Vw(i.uid);g(r)?e.jg=Oy++:e.jg=r,e.gc=i;var u=st.Od,s=new uR;e.nL=new jS("4.3.0",u,s),e.Od=new OE(u,i.allowMixedContent),e.OD=new VE,e.Ex=new _S(i.isEmbeddable,"4.3.0",wS()),e.vL=new rR(u,e.Ex,e.nL,s,i,wS()),e.vL.Dx().catch(e.dL),e.rL=new hE(n),e.rL.Qr("_C",e.lL),e.DD=new dR,e.qP=new jE,e.ix=new GE;var o=new Jk(n,i,e.Od,e.OD,e.rL,e.DD);e.OD.iP(o);var c=o;c=new XE(c,e.gL),c=new YE(c,e.ex),e.tL=c,e.ox=new yy(e.tL),e.ox.tu(e.wL),e.hL=new KE(Nn(e)),e.aL=new CE(e.ox,e.Od,e.OD),e.iL=new GS(Nn(e)),e.uL=new lE(e.ox,i.allowNativeFullscreen),e.eL=new gT(e.uL),e.rL.bc();var a=new K(e.rL,e.DD,1,[ky.av]);return e.cL=new J(a),e.fL=new ZE,e}vt(n,t);var i=n.prototype;return i.RP=function(t){this.ox.Ew=t,t||this.Rw||this.st()},i.WP=function(t){this.ox.Cw=t},i.yL=function(){ty(this,yT,this)},i.Y=function(){this.ox.Y()},i.K=function(){this.ox.K()},i.cg=function(t,n){var i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.vL.TN(t).catch(this.dL),i=wR(t),e.next=5,wr.awrap(this.ox.cg(i,n));case 5:case"end":return e.stop()}},null,this,null,j)},i.st=function(){this.Yw||(this.ox.st(),this.cL.st(),this.Yw=!0)},i.yD=function(){return this.eL.ZD()===hT.FULLSCREEN},i.lg=function(){this.ox.lg()},i.wg=function(){this.ox.wg()},i.gg=function(){return this.ox.gg()},i.vl=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.ox.sg());case 2:return t.next=4,wr.awrap(this.ox.vl());case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nu(),this.fL.et(),this.Od.et(),this.aL.et(),this.uL.et(),this.eL.et(),this.rL.et(),this.nL.et(),this.cL.et(),t.next=11,wr.awrap(this.ox.et());case 11:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"mL",get:function(){return this.OD}},{key:"tg",get:function(){return this.sL},set:function(t){this.sL=t,this.ox.tg=t}},{key:"bL",get:function(){return this.cL}},{key:"ig",get:function(){return this.ox.ig}},{key:"pL",get:function(){return this.fL}},{key:"_L",get:function(){return this.rL}},{key:"ug",get:function(){return this.ox.ug}},{key:"zw",get:function(){return this.hL}},{key:"kL",get:function(){return this.aL}},{key:"rg",get:function(){return this.ox.rg}},{key:"TL",get:function(){return this.DD}},{key:"eg",get:function(){return this.ox.eg}},{key:"Sg",get:function(){return this.ox.Sg}},{key:"gL",get:function(){return this.qP}},{key:"ex",get:function(){return this.ix}},{key:"_w",get:function(){return this.ox._w},set:function(t){this.ox._w=t}},{key:"Eg",get:function(){return this.ox.Eg},set:function(t){this.ox.Eg=t}},{key:"kg",get:function(){return this.ox.kg}},{key:"kw",get:function(){return this.ox.kw}},{key:"Rg",get:function(){return this.ox.Rg}},{key:"Tw",get:function(){return this.ox.Tw}},{key:"vu",get:function(){return this.ox.vu}},{key:"Sw",get:function(){return this.ox.Sw}},{key:"Ew",get:function(){return this.ox.Ew},set:function(t){var n=Boolean(t);this.RP(n)}},{key:"Rw",get:function(){return this.ox.Rw}},{key:"Iw",get:function(){return this.ox.Iw},set:function(t){this.ox.Iw=t}},{key:"Lg",get:function(){return this.ox.Lg}},{key:"Bg",get:function(){return this.ox.Bg},set:function(t){this.ox.Bg=Vk(t)}},{key:"Ul",get:function(){return this.ox.Ul}},{key:"Mg",get:function(){return this.ox.Mg}},{key:"Dw",get:function(){return this.ox.Dw}},{key:"El",get:function(){return this.jg}},{key:"Ow",get:function(){return this.ox.Ow}},{key:"Nw",get:function(){return this.ox.Nw}},{key:"Cw",get:function(){return this.ox.Cw},set:function(t){var n=Tn(Number(t),0,1)||0;this.WP(n)}},{key:"Fg",get:function(){return this.ox.Fg}}]),n}(og);function wR(t){t.sources;var n=t.sources.filter(function(t){return Ot(t.integration)});return t.sources=n,t}!function(t){t[t.SL=0]="SL",t[t.EL=1]="EL"}(aR||(aR={})),function(t){t[t.RL=0]="RL"}(fR||(fR={}));var gR={};function yR(t,n){var i=t;if(gR[n])for(var e=0,r=gR[n];e<r.length;e++){i=(0,r[e])(i)}return i}var mR=[];function bR(t){mR.push(t)}var pR=t.CustomEvent;var _R=function(){try{var t=new pR("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},kR=function(){function t(t,n){var i=this;this._I=void 0,this.IL=void 0,this.DL=!1,this.OL=function(t){i.IL.vC(t.error,i._w)},this.NL=function(){i.IL.aC(i.CL),i._I.removeEventListener("playing",i.NL),i.DL=!1},this.AL=function(){i.DL||(i._I.addEventListener("playing",i.NL),i.DL=!0)},this.IL=n,this._I=t,this._I.addEventListener("error",this.OL),this._I.addEventListener("sourcechange",this.AL),this.AL()}return t.prototype.vl=function(){},ft(t,[{key:"_w",get:function(){var t=this._I.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"CL",get:function(){return this._I.src||""}}]),t}();bR(function(t){new kR(t.Ld,t.nL)});var TR,SR,ER="theoplayer-stored-volume",RR="theoplayer-stored-mutedstate";TR=function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=nR.Tx(ER);(void 0===r||g(r))&&(r=1);var u=nR.Sx(RR)||!1;e.Cw=r,e.Ew=u}return e}vt(n,t);var i=n.prototype;return i.RP=function(n){this.gc.persistVolume&&nR.ha(RR,""+Boolean(n)),t.prototype.RP.call(this,n)},i.WP=function(n){this.gc.persistVolume&&nR.ha(ER,""+Number(n)),t.prototype.WP.call(this,n)},n}(t)},SR=aR.EL,(gR[SR]||(gR[SR]=[])).push(TR);var IR=new(function(){function t(){this.PL=[],this.xd=void 0}var n=t.prototype;return n.cl=function(t){return this.PL[t]},n.xL=function(t){this.PL.push(t),this.Ld.push(t.Ld)},n.oc=function(t){var n=this.PL.indexOf(t);n<0||(fu(this.PL,n),this.xd&&fu(this.xd,n))},n.LL=function(t){for(var n=0,i=this.PL;n<i.length;n++){var e=i[n];if(e.El===t)return e}},ft(t,[{key:"ll",get:function(){return this.PL.length}},{key:"Ld",get:function(){return this.xd||(this.xd=function(t){for(var n=[],i=0;i<t.ll;i++)n[i]=t.cl(i).Ld;return n.getPlayerByUID=function(n){var i=t.LL(n);return i&&i.Ld},n}(this)),this.xd}}]),t}()),DR=function(){function t(t){var n=this;this.BL=[],this.ML=void 0,this.Yf=new wu,this.FL=void 0,this.UL=function(){return 0===n.BL.length?n.FL?OR(n.FL,n.Yf.$r).then(n.VL,n.VL):n.VL():n.BL.shift()().then(n.UL)},this.VL=function(){if(0!==n.BL.length)return n.UL();n.ML=void 0},this.FL=t}var n=t.prototype;return n.HL=function(t,n){var i=this;return new j(function(e){var r=new wu;r.zr(i.Yf.$r),n&&r.zr(n);var u=function(){r.Mr()};i.BL.push(function(){var n=OR(t,r.$r);return e(n),n.then(u,u)}),i.ML||(i.ML=i.UL())})},n.qr=function(){return this.WL(!0)},n.et=function(){return this.FL=void 0,this.WL(!1)},n.WL=function(t){var n=this.ML;return this.Yf.qr(),t&&(this.Yf=new wu),j.resolve(n)},t}();function OR(t,n){return new j(function(i){return i(t(n))})}var NR,CR=function(t){function n(n){var i;return(i=t.call(this,Zc.za)||this).source=n,i}return vt(n,t),n}(Pu),AR=function(t){function n(){var n;return(n=t.call(this)||this).pD=void 0,n.kD=void 0,n.SD=void 0,n.TD=void 0,n.pD=0,n.kD=!0,n.SD=!1,n.TD=1,n}vt(n,t);var i=n.prototype;return i.Y=function(){this.kD&&(this.kD=!1,this.Jr(new xg(this._w)),this.Jr(new np(this._w)))},i.K=function(){this.kD||(this.kD=!0,this.Jr(new Hg(this._w,this.Eg)),this.Jr(new Pg(this._w)))},i.vl=function(){this.pD=0,this.SD=!1,this.TD=1,this.K(),this.Jr(new Ag(this.pD))},i.et=function(){this.nu()},i.wg=function(){},i.lg=function(){},ft(n,[{key:"Eg",get:function(){},set:function(t){}},{key:"_w",get:function(){return this.pD},set:function(t){this.SD&&this.pD===t||(this.pD=t,this.SD=!0,this.Jr(new zg(this._w)))}},{key:"Rw",get:function(){return this.kD}},{key:"Iw",get:function(){return this.TD},set:function(t){this.TD!==t&&(this.TD=t,this.Jr(new Vg(this._w,this.Iw)))}},{key:"Ul",get:function(){return gg.fw}},{key:"Dw",get:function(){return this.SD}}]),n}(sg),PR=function(t){function n(){return t.call(this,Zc.pa)||this}return vt(n,t),n}(Pu),xR={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},LR={visibility:"hidden"},BR={visibility:"visible"},MR=function(){function t(t){var n,i=this;this.gI=void 0,this._I=void 0,this.qL=!1,this.zL=void 0,this.jL=void 0,this.$L=function(t){var n;i.qL=!1,i.zL=null==(n=t.source)?void 0:n.poster,i.cc()},this.zT=function(){i.qL=!0,i.wg()},this._I=t,this.EI(),this.gI=((n=Z&&Z.document&&Z.document.createElement("div")).className="theoplayer-poster",$e(xR,n),n),t.Rg.appendChild(this.gI)}var n=t.prototype;return n.cc=function(){var t=this._I.Rw,n=this.qL;this.Xh?this.gI.style.backgroundImage='url("'+this.Xh.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.gI.style.backgroundImage="",t&&this.Xh&&!n?this.lg():this.wg()},n.lg=function(){$e(LR,this._I.Rg),$e(BR,this.gI)},n.wg=function(){$e(LR,this.gI),$e(BR,this._I.Rg)},n.EI=function(){this._I.Qr("sourcechange",this.$L),this._I.Qr("play",this.zT)},n.et=function(){this._I.iu("sourcechange",this.$L),this._I.iu("play",this.zT),je(this.gI)},ft(t,[{key:"Xh",get:function(){return void 0!==this.zL?this.zL:void 0!==this.jL?this.jL:void 0}},{key:"XL",set:function(t){this.jL=t,this.cc()}}]),t}();function FR(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this)._I=void 0,r.GL=void 0,r.YL=void 0,r.KL=void 0,r.JL=void 0,r.QL=void 0,r.ZL=void 0,r.tB=void 0,r.SI=void 0,r.TI=void 0,r.rR=void 0,r.CD=void 0,r.xd=void 0,r.nB=function(t){t.type!==Zc.xa&&r.tB.push(t)},r.GL=new t(n,e),r.YL=new AR,r._I=r.GL,r.KL=new MR(Nn(r)),r.QL=new DR,r.ZL=!1,r.tB=[],r.SI=!0,r.EI(),r}vt(e,i);var r=e.prototype;return r.HL=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.QL.HL(t,n).catch(pu));case 1:case"end":return i.stop()}},null,this,null,j)},r.iB=function(t,n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return mu(n),this.GL.tu(this.nB),i.next=4,wr.awrap(this.GL.cg(t,n));case 4:this.GL.uu(this.nB);case 5:case"end":return i.stop()}},null,this,null,j)},r.eB=function(){var t,n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.og())&&!qT(t)&&this.tg&&this.Rw){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.gc.mutedAutoplay,e.next=6,wr.awrap(this.bL.ut());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.rB(),e.abrupt("break",14);case 12:return(this.Ew||n===Lg.ALL)&&(this.Ew=!0,this.Y()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,j)},r.cg=function(t){var i=this,e=this.TI;e&&!qT(e)&&this.Jr(new Ag(0,0)),this.vl(),this.TI=t,Eu(this.HL(function(e){return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return mu(e),r.prev=1,r.next=4,wr.awrap(i.iB(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.TI=void 0,i.lR((u=r.t0,s=n.ErrorCode.SOURCE_NOT_SUPPORTED,u instanceof Pc?u:u instanceof f?new Pc(s,u.message,u):new Pc(s,String(u)))),r.abrupt("return");case 11:return r.next=13,wr.awrap(i.uB());case 13:case"end":return r.stop()}var u,s},null,null,[[1,6]],j)}))},r.uB=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.sB(this.GL),this.Jr(new CR(this.og())),t.next=4,wr.awrap(this.eB());case 4:case"end":return t.stop()}},null,this,null,j)},r.mP=function(t){this._I._w=t},r.kP=function(){var t;return null!=(t=this.CD)?t:this.GL.vu},r.TP=function(){var t;return null!=(t=this.rR)?t:this.GL.Sw},r.lR=function(t){void 0===this.TP()&&(this.rR=t,this.CD=_y(t),this.Jr(new Kg(t)))},r.Y=function(){this._I.Y()},r.rB=function(){this.Ew||this.st(),this.Y()},r.st=function(){this.GL.st()},r.K=function(){this._I.K()},r.sg=function(){this.cg(void 0)},r.lg=function(){this.SI=!0,this._I.lg()},r.wg=function(){this.SI=!1,this._I.wg()},r.yL=function(){this.GL.yL()},r.WP=function(t){this.GL.WP(t)},r.RP=function(t){this.GL.RP(t)},r.oB=function(t){this.JL=t,t.xL(this)},r.yD=function(){return this.GL.yD()},r.og=function(){return this.TI},r.gg=function(){return this.GL.gg()},r.yP=function(){return this.GL._w},r.bP=function(){return this.GL.kw},r.dP=function(){return this.GL.Sg},r.CP=function(){return this.GL.Lg},r.LP=function(){return this.GL.Mg},r.vl=function(){var t=this;this.TI=void 0,this.rR=void 0,this.CD=void 0,du(this.tB),this.YL.vl(),this.sB(this.YL),this.QL.qr(),Eu(this.QL.HL(function(n){return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return mu(n),i.next=3,wr.awrap(t.GL.vl());case 3:case"end":return i.stop()}},null,null,null,j)}))},r.et=function(){var t=this;this.Jr(new PR),this.KL.et(),this.RI(),this.vl(),Eu(this.HL(function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(t.GL.et());case 2:t.JL&&(t.JL.oc(t),t.JL=void 0),t.QL.et();case 4:case"end":return n.stop()}},null,null,null,j)})),this.nu()},r.sB=function(t){if(this._I!==t){var n=this._I.Rw,i=this._I._w,e=this._I.Iw,r=this._I.Dw;this.RI(),t===this.GL?((r||t._w!==i)&&(t._w=i),t.Iw!==e&&(t.Iw=e),n?t.K():t.Y()):this.gc.retainPlaybackRateOnSourceChange?t.Iw=e:1!==e&&this.Jr(new Vg(this.yP(),1)),this._I=t,this.EI();for(var u=0,s=this.tB;u<s.length;u++){var o=s[u];this.Jr(o)}du(this.tB),this.SI?t.lg():t.wg()}},r.EI=function(){this._I.tu(this.Kr)},r.RI=function(){this._I.uu(this.Kr)},r.Bd=function(){return t=this,e=function(n){i=n;var e=tS(n,t.gc);t.cg(e)},r={get abr(){return t.mL.Ld},get audioTracks(){return t.ig.Ld},get autoplay(){return t.tg},set autoplay(n){t.tg=Boolean(n)},get buffered(){return t.dP()},get canvas(){return t.iL.Ld},get clip(){return t.gL.Ld},get currentProgramDateTime(){var n;return null!=(n=t.Eg)?n:null},set currentProgramDateTime(n){t.Eg=null!=n?n:void 0},get currentTime(){return t.yP()},set currentTime(n){t.mP(Number(n))},get duration(){return t.bP()},get element(){return t.Rg},get ended(){return t.Tw},get error(){return t.kP()},get errorObject(){return t.TP()},get loop(){return t.ex.ex},set loop(n){t.ex.ex=Boolean(n)},get metrics(){return t.zw.Ld},get muted(){return t.Ew},set muted(n){t.RP(n)},get network(){return t.kL.Ld},get paused(){return t.Rw},get playbackRate(){return t.Iw},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Iw=i},get played(){return t.CP()},get poster(){return t.cB},set poster(n){t.cB=Ww(n)},get preload(){return t.Bg},set preload(n){t.Bg=n},get presentation(){return t.eL.Ld},get readyState(){return t.Ul},get seekable(){return t.LP()},get seeking(){return t.Dw},get source(){return i},set source(t){e(t)},get src(){return zT(t.og())},set src(t){e({sources:t})},get textTracks(){return t.rg.Ld},get textTrackStyle(){return t.TL.Ld},get uid(){return t.El},get videoHeight(){return t.Ow},get videoTracks(){return t.eg.Ld},get videoWidth(){return t.Nw},get volume(){return t.Cw},set volume(n){t.WP(Number(n))},get latency(){return t.Fg.Ld},destroy:function(){t.et(),t=null,i=void 0},play:function(){t.rB()},pause:function(){t.K()},stop:function(){i=void 0,t.sg()},prepareWithUserAction:function(){t.st()},addEventListener:function(t,i){n.Qr(t,i)},removeEventListener:function(t,i){n.iu(t,i)},setSource:function(t){e(t)}},(n=new lT(r,!0)).UD(t),r;var t,n,i,e,r},ft(e,[{key:"nL",get:function(){return this.GL.nL}},{key:"iL",get:function(){return this.GL.iL}},{key:"gc",get:function(){return this.GL.gc}},{key:"tL",get:function(){return this.GL.tL}},{key:"Od",get:function(){return this.GL.Od}},{key:"qR",get:function(){return this.GL.uL}},{key:"eL",get:function(){return this.GL.eL}},{key:"rL",get:function(){return this.GL.rL}},{key:"ox",get:function(){return this.GL.ox}},{key:"mL",get:function(){return this.GL.mL}},{key:"tg",get:function(){return this.GL.tg},set:function(t){this.GL.tg=t,this.eB()}},{key:"bL",get:function(){return this.GL.bL}},{key:"ig",get:function(){return this.GL.ig}},{key:"pL",get:function(){return this.GL.pL}},{key:"_L",get:function(){return this.GL.rL}},{key:"Ld",get:function(){return this.xd||(this.xd=this.Bd()),this.xd}},{key:"ug",get:function(){return this.GL.ug}},{key:"zw",get:function(){return this.GL.zw}},{key:"kL",get:function(){return this.GL.kL}},{key:"rg",get:function(){return this.GL.rg}},{key:"TL",get:function(){return this.GL.TL}},{key:"eg",get:function(){return this.GL.eg}},{key:"gL",get:function(){return this.GL.gL}},{key:"ex",get:function(){return this.GL.ex}},{key:"Eg",get:function(){return this._I.Eg},set:function(t){this._I.Eg=t}},{key:"kg",get:function(){return this.GL.kg}},{key:"Rg",get:function(){return this.GL.Rg}},{key:"Tw",get:function(){return this.GL.Tw}},{key:"Ew",get:function(){return this.GL.Ew},set:function(t){this.GL.Ew=t}},{key:"Rw",get:function(){return this._I.Rw}},{key:"cB",get:function(){return this.KL.Xh||""},set:function(t){this.KL.XL=t}},{key:"Iw",get:function(){return this.GL.Iw},set:function(t){this._I.Iw=t}},{key:"Bg",get:function(){return this.GL.Bg},set:function(t){this.GL.Bg=Vk(t)}},{key:"Ul",get:function(){return this._I.Ul}},{key:"Dw",get:function(){return this._I.Dw}},{key:"El",get:function(){return this.GL.El}},{key:"Ow",get:function(){return this.GL.Ow}},{key:"Nw",get:function(){return this.GL.Nw}},{key:"Cw",get:function(){return this.GL.Cw},set:function(t){this.GL.Cw=t}},{key:"Fg",get:function(){return this.GL.Fg}}]),e}(og)}Su(function(){t.dispatchEvent&&t.dispatchEvent(_R("theoplayerready"))});var UR={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Yu(t)},n.decode=function(t){return Xu(t)},t}())},VR=IR.Ld,HR=Cp.MS.registerContentProtectionIntegration.bind(Cp.MS),WR=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},qR=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),zR={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?e.splice(s,1/0,r):e.push(r),~i.indexOf(u)&&(u=n.call(this,r,u))}else i.push(u);return null==t?u:t.call(this,r,u)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(zR,zR.exports);var jR=zR.exports;function $R(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function XR(t){return JSON.stringify(t,zR.exports.getSerialize($R))}var GR={},YR={};!function(t){v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=u,t.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(YR);var KR={};!function(t){v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=u,t.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(KR);var JR={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}v.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(JR),v.defineProperty(GR,"__esModule",{value:!0});var QR=YR.isS,ZR=YR.isChar,tI=YR.isNameStartChar,nI=YR.isNameChar,iI=YR.S_LIST,eI=YR.NAME_RE,rI=KR.isChar,uI=JR.isNCNameStartChar,sI=JR.isNCNameChar,oI=JR.NC_NAME_RE;const cI="http://www.w3.org/XML/1998/namespace",aI="http://www.w3.org/2000/xmlns/",fI={__proto__:null,xml:cI,xmlns:aI},hI={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},vI=-1,dI=-2,lI=0,wI=1,gI=2,yI=3,mI=4,bI=5,pI=6,_I=7,kI=8,TI=9,SI=10,EI=11,RI=12,II=13,DI=14,OI=15,NI=16,CI=17,AI=18,PI=19,xI=20,LI=21,BI=22,MI=23,FI=24,UI=25,VI=26,HI=27,WI=28,qI=29,zI=30,jI=31,$I=32,XI=33,GI=34,YI=35,KI=36,JI=37,QI=38,ZI=39,tD=40,nD=41,iD=42,eD=43,rD=44,uD=9,sD=10,oD=13,cD=32,aD=33,fD=38,hD=45,vD=47,dD=59,lD=60,wD=61,gD=62,yD=63,mD=91,bD=93,pD=133,_D=8232,kD=t=>34===t||39===t,TD=[34,39],SD=[...TD,mD,gD],ED=[...TD,lD,bD],RD=[wD,yD,...iI],ID=[...iI,gD,fD,lD];function DD(t,n,i){switch(n){case"xml":i!==cI&&t.fail(`xml prefix must be bound to ${cI}.`);break;case"xmlns":i!==aI&&t.fail(`xmlns prefix must be bound to ${aI}.`)}switch(i){case aI:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${aI}.`);break;case cI:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const OD=t=>oI.test(t),ND=t=>eI.test(t),CD=0,AD=1,PD=2;GR.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const xD={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var LD=GR.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=uI,this.nameCheck=sI,this.isName=OD,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=v.assign({__proto__:null},fI);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of v.keys(n))DD(t,i,n[i])}(this,t),v.assign(this.ns,t))}else this.nameStartCheck=tI,this.nameCheck=nI,this.isName=ND,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Gu}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=CD,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?II:lI,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new f("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Gu=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=v.create(hI),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[xD[t]]=n}off(t){this[xD[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new f(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===oD||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return vI;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=cD||i===uD)return i;switch(i){case sD:return this.line++,this.column=0,this.positionAtNewLine=this.position,sD;case oD:return t.charCodeAt(n+1)===sD&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,dI;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return vI;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==_D||i===uD)return i;switch(i){case sD:return this.line++,this.column=0,this.positionAtNewLine=this.position,sD;case oD:{const i=t.charCodeAt(n+1);i!==sD&&i!==pD||(this.i=n+2)}case pD:case _D:return this.line++,this.column=0,this.positionAtNewLine=this.position,dI;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===dI?sD:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===dI,u=r?sD:e;if(u===vI||t.includes(u))return this.text+=i.slice(n,this.prevI),u;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case dI:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=sD;break;case vI:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===vI)return this.name+=t.slice(n),vI;if(!nI(i))return this.name+=t.slice(n,this.prevI),i===dI?sD:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===vI||!QR(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=ZR,this.getCode=this.getCode10):(this.isChar=rI,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=wI}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case lD:if(this.state=OI,0!==this.text.length)throw new f("no-empty text at start");break;case vI:break;default:this.unget(),this.state=II,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(SD);switch(n){case gD:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=II,this.doctype=!0;break;case vI:break;default:this.text+=String.fromCodePoint(n),n===mD?this.state=mI:kD(n)&&(this.state=yI,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=gI)}sDTD(){const t=this.captureTo(ED);t!==vI&&(this.text+=String.fromCodePoint(t),t===bD?this.state=gI:t===lD?this.state=pI:kD(t)&&(this.state=bI,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=mI,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case aD:this.state=_I,this.openWakaBang="";break;case yD:this.state=EI;break;default:this.state=mI}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?kI:mI,this.openWakaBang="")}sDTDComment(){this.captureToChar(hD)&&(this.text+="-",this.state=TI)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===hD?SI:kI}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===gD?this.state=mI:(this.fail("malformed comment."),this.state=kI)}sDTDPI(){this.captureToChar(yD)&&(this.text+="?",this.state=RI)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===gD&&(this.state=mI)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case dI:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case dD:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===II&&void 0===this.textHandler||(this.text+=r);break t}case vI:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(tI(t))this.state=GI,this.unget(),this.xmlDeclPossible=!1;else switch(t){case vD:this.state=eD,this.xmlDeclPossible=!1;break;case aD:this.state=NI,this.openWakaBang="",this.xmlDeclPossible=!1;break;case yD:this.state=MI;break;default:this.fail("disallowed character in tag name"),this.state=II,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=xI,this.openWakaBang="";break;case"--":this.state=CI,this.openWakaBang="";break;case"DOCTYPE":this.state=gI,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(hD)&&(this.state=AI)}sCommentEnding(){var t;const n=this.getCodeNorm();n===hD?(this.state=PI,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=CI)}sCommentEnded(){const t=this.getCodeNorm();t!==gD?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=CI):this.state=II}sCData(){this.captureToChar(bD)&&(this.state=LI)}sCDataEnding(){const t=this.getCodeNorm();t===bD?this.state=BI:(this.text+=`]${String.fromCodePoint(t)}`,this.state=xI)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case gD:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=II;break;case bD:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=xI}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=FI):t===yD||QR(t)?(this.fail("processing instruction without a target."),this.state=t===yD?VI:UI):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=FI)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===vI)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===yD;e||QR(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?XI:HI):this.state=e?VI:UI:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===yD?this.state=VI:QR(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(yD)&&(this.state=VI)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===gD){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=II}else n===yD?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=UI);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==yD?t!==vI&&(this.state=WI,this.name=String.fromCodePoint(t)):this.state=XI}sXMLDeclName(){const t=this.captureTo(RD);if(t===yD)return this.state=XI,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(QR(t)||t===wD){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===wD?zI:qI}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===yD)return this.state=XI,void this.fail("XML declaration is incomplete.");QR(t)||(t!==wD&&this.fail("value required."),this.state=zI)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===yD)return this.state=XI,void this.fail("XML declaration is incomplete.");QR(t)||(kD(t)?this.q=t:(this.fail("value must be quoted."),this.q=cD),this.state=jI)}sXMLDeclValue(){const t=this.captureTo([this.q,yD]);if(t===yD)return this.state=XI,this.text="",void this.fail("XML declaration is incomplete.");if(t===vI)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=$I}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==yD?(QR(t)||(this.fail("whitespace required."),this.unget()),this.state=HI):this.state=XI}sXMLDeclEnding(){var t;this.getCodeNorm()===gD?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=II):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===vI)return;const i=this.tag={name:this.name,attributes:v.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=v.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case gD:this.openTag();break;case vD:this.state=YI;break;default:QR(n)||this.fail("disallowed character in tag name."),this.state=KI}}sOpenTagSlash(){this.getCode()===gD?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=KI)}sAttrib(){const t=this.skipSpaces();t!==vI&&(tI(t)?(this.unget(),this.state=JI):t===gD?this.openTag():t===vD?this.state=YI:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===wD?this.state=ZI:QR(t)?this.state=QI:t===gD?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==vI&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case vI:return;case wD:this.state=ZI;break;default:this.fail("attribute without value."),this.text="",this.name="",t===gD?this.openTag():tI(t)?(this.unget(),this.state=JI):(this.fail("disallowed character in attribute name."),this.state=KI)}}sAttribValue(){const t=this.getCodeNorm();kD(t)?(this.q=t,this.state=tD):QR(t)||(this.fail("unquoted attribute value."),this.state=iD,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=nD);case fD:return this.text+=n.slice(i,this.prevI),this.state=DI,void(this.entityReturnState=tD);case sD:case dI:case uD:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case lD:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case vI:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();QR(t)?this.state=KI:t===gD?this.openTag():t===vD?this.state=YI:tI(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=JI):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(ID);switch(t){case fD:this.state=DI,this.entityReturnState=iD;break;case lD:this.fail("disallowed character.");break;case vI:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===gD?this.openTag():this.state=KI}}sCloseTag(){const t=this.captureNameChars();t===gD?this.closeTag():QR(t)?this.state=rD:t!==vI&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case gD:this.closeTag();break;case vI:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case lD:if(this.state=OI,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=CD;break t;case fD:this.state=DI,this.entityReturnState=II,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=CD;break t;case bD:switch(n){case CD:n=AD;break;case AD:n=PD;break;case PD:break;default:throw new f("impossible state")}break;case gD:n===PD&&this.fail('the string "]]>" is disallowed in char data.'),n=CD;break;case dI:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=CD;break;case vI:void 0!==e&&(this.text+=i.slice(t));break t;default:n=CD}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case lD:if(this.state=OI,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case fD:this.state=DI,this.entityReturnState=II,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case dI:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case vI:void 0!==i&&(this.text+=n.slice(t));break t;default:QR(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),u={name:t,prefix:e,local:r,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,DD(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,DD(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==lI&&this.state!==II&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.Gu=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let s,o;""===i?(s="xmlns"===n?aI:"",o=n):(void 0===(s=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),s=i),o=`{${s}}${u}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=s,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=II,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=II,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=II,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=l(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=l(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},BD=function(){function t(){}return t.prototype.ai=function(t){var n=new LD({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new qD,e=[i];function r(t){e[e.length-1].Si(t)}return n.on("text",function(t){e.length>1&&r(new HD(t))}),n.on("cdata",function(t){r(new WD(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,s=new UD({di:n,wi:""===i?void 0:i,aB:""===u?void 0:u}),o=t.attributes,c=0,a=v.keys(o);c<a.length;c++){var f=o[a[c]],h=f.prefix,d=f.local,l=f.uri,w=f.value,g=new MD({di:d,yi:w,wi:""===l?void 0:l,aB:""===h?void 0:h});s.fB(g)}r(s),e.push(s)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new Pn(t)}),n.write(t).close(),i},t}(),MD=function(){function t(t){this.hB=void 0,this.vB=void 0,this.dB=void 0,this.g=void 0,this.hB=t.di,this.g=t.yi,this.vB=t.wi,this.dB=t.aB}var n=t.prototype;return n.hi=function(t){return this===t||!!jD(this,t)&&(this.hB===t.hB&&this.vB===t.vB&&this.dB===t.dB&&this.g===t.g)},n.vi=function(){return new t({di:this.di,yi:this.yi,wi:this.wi,aB:this.gi})},ft(t,[{key:"ei",get:function(){return Dn.ui}},{key:"di",get:function(){return this.hB}},{key:"li",get:function(){return void 0===this.dB?this.hB:this.dB+":"+this.hB}},{key:"wi",get:function(){return this.vB}},{key:"gi",get:function(){return this.dB}},{key:"yi",get:function(){return this.g}}]),t}(),FD=function(){function t(){this.bi=[]}var n=t.prototype;return n.pi=function(t){return this.bi.filter(function(n){return zD(n)&&n.ki===t})},n.Ti=function(t,n){return this.bi.filter(function(i){return zD(i)&&i.di===n&&i.wi===t})},n.Si=function(t){this.bi.push(t)},ft(t,[{key:"_i",get:function(){return this.bi}},{key:"Ri",get:function(){return this.bi.filter(zD)}}]),t}(),UD=function(t){function n(n){var i;return(i=t.call(this)||this).hB=void 0,i.vB=void 0,i.dB=void 0,i.lB=[],i.hB=n.di,i.vB=n.wi,i.dB=n.aB,i}vt(n,t);var i=n.prototype;return i.wB=function(t){for(var n=0,i=this._i;n<i.length;n++){var e=i[n];zD(e)?e.wB(t):t.push(e.Li)}},i.Di=function(t,n){for(var i=0,e=this.lB;i<e.length;i++){var r=e[i];if(r.di===n&&r.wi===t)return r.yi}},i.Ii=function(t){for(var n=0,i=this.lB;n<i.length;n++){var e=i[n];if(e.li===t)return e.yi}},i.fB=function(t){this.lB.push(t)},i.Oi=function(t){for(var n=0;n<this.lB.length;n++)if(this.lB[n].li===t)return void this.lB.splice(n,1)},i.Ni=function(t,n){for(var i=0;i<this.lB.length;i++)if(this.lB[i].di===n&&this.lB[i].wi===t)return void this.lB.splice(i,1)},i.Ci=function(t,n){this.Oi(t),this.fB(new MD({di:t,yi:n}))},i.Ai=function(t,n,i){this.Oi(n);var e=n.split(":");this.fB(new MD({di:e[e.length-1],yi:i,wi:t,aB:e.length>1?e[0]:void 0}))},i.vi=function(t){var i=new n({di:this.di,wi:this.wi,aB:this.gi});return this.Pi.forEach(function(t){return i.fB(t.vi())}),t&&this._i.forEach(function(n){return i.Si(n.vi(t))}),i},i.hi=function(t){return this===t||!!jD(this,t)&&(this.hB===t.hB&&this.dB===t.dB&&this.vB===t.vB&&($D(this.Pi,t.Pi)&&$D(this._i,t._i)))},ft(n,[{key:"ei",get:function(){return Dn.ri}},{key:"Pi",get:function(){return this.lB}},{key:"di",get:function(){return this.hB}},{key:"wi",get:function(){return this.vB}},{key:"gi",get:function(){return this.dB}},{key:"ki",get:function(){return void 0===this.dB?this.hB:this.dB+":"+this.hB}},{key:"xi",get:function(){var t=[];return this.wB(t),t.join("")}}]),n}(FD),VD=function(){function t(t){this.P=void 0,this.P=t}return ft(t,[{key:"Li",get:function(){return this.P}}]),t}(),HD=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.vi=function(){return new n(this.Li)},i.hi=function(t){return this===t||!!jD(this,t)&&this.Li===t.Li},ft(n,[{key:"ei",get:function(){return Dn.si}}]),n}(VD),WD=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.vi=function(){return new n(this.Li)},i.hi=function(t){return this===t||!!jD(this,t)&&this.Li===t.Li},ft(n,[{key:"ei",get:function(){return Dn.oi}}]),n}(VD),qD=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.vi=function(t){var i=new n;return t&&this._i.forEach(function(n){return i.Si(n.vi(t))}),i},i.hi=function(t){return this===t||!!jD(this,t)&&$D(this._i,t._i)},ft(n,[{key:"ei",get:function(){return Dn.ci}},{key:"Bi",get:function(){return this.Ri[0]}}]),n}(FD);function zD(t){return On(t)}function jD(t,n){return t.ei===n.ei}function $D(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].hi(n[i]))return!1;return!0}var XD,GD=["adBreak"],YD=["adBreak"];function KD(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:gr({},t,{adBreak:gr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,Ep(t,GD)})})})}function JD(t){return void 0===t.ads?t:gr({},t,{ads:t.ads.map(function(t){return t.adBreak,Ep(t,YD)})})}function QD(t){return"string"==typeof t.date?new Date(t.date):t.date}function ZD(t){var n;return t.cue.track?(n=nO(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=nO(t.cue,""),n}function tO(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&v.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=v.entries(i);return v.fromEntries(e.map(function(i){var e=i[0],r=i[1],u=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==u&&n.pop(r),[e,u]}))}return i}(t)}function nO(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new BD).ai(e.firstChild.outerHTML).Bi.Pi.forEach(function(t){r[t.di]=t.yi}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if("object"==typeof(a=o)&&null!==a){var c=iO(o);u[s]={type:XD.gB,value:c}}else rO(o)?u[s]={type:XD.yB,value:o}:u[s]={type:XD.mB,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=iO(t.scte35Cmd),i.scte35Out=iO(t.scte35Out),i.scte35In=iO(t.scte35In),i.customAttributes=u}var a}(),i}function iO(t){if(void 0!==t)return Yu(t)}function eO(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(nO(r,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(nO(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function rO(t){return"number"==typeof t}!function(t){t.mB="daterange-ca-type_string",t.yB="daterange-ca-type_number",t.gB="daterange-ca-type_arraybuffer"}(XD||(XD={}));var uO={cue:function(t){var n={};switch(n.date=QD(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=ZD(t)}return n},textTrack:function(t){var n={};switch(n.date=QD(t),n.type=t.type,t.type){case"addcue":var i=t.cue;aO().register(i);var e=cO()[fO()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=ZD(t);break;case"cuechange":for(var r=[],u=0;u<t.track.activeCues.length;u++){var s=t.track.activeCues[u];r.push(nO(s,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:eO(t.track),date:QD(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=aO();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=QD(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Zc.$a:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=gr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=eO(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=JD(t.ad);break;case"adloaded":case"adimpression":n.ad=KD(t.ad);break;case"aderror":t.bB&&(n.bB=t.bB),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=KD(t.ad)}return tO(n)},minimizeCueHelper:function(t){var n={};return n.date=QD(t),n.type=t.type,n.cue=ZD(t),n.track={uid:t.cue.track.uid},n},adReplacer:KD,adBreakReplacer:JD,removeCircularReferences:tO},sO=function(){this.stringify=XR,this.minimize=uO};function oO(){return Z.self}function cO(){return oO().THEOplayerBridge}function aO(){return oO().THEOCueMirrorMap}function fO(){return oO().THEOplayerGlobalID}function hO(){var t=oO();if(t.THEOplayerBridge){var n=new WR;t.THEOplayerBridge=xw(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new WR;t.THEOplayerUtils||(t.THEOplayerUtils=new sO),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new qR)}hO();var vO=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ai=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Pn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Pn;return new dO(n)},n}(xn),dO=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.vi=function(t){return new n(this.mi.cloneNode(t))},ft(n,[{key:"_i",get:function(){return void 0===this.bi&&(this.bi=gO(this.mi.childNodes)),this.bi}},{key:"Bi",get:function(){return new lO(this.mi.documentElement)}}]),n}(Hn),lO=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.vi=function(t){var i=new n(this.mi.cloneNode(t));return i.Pi.length<1&&this.Pi.length>0&&this.Pi.forEach(function(t){i.Ci(t.li,t.yi)}),i},ft(n,[{key:"_i",get:function(){return void 0===this.bi&&(this.bi=gO(this.mi.childNodes)),this.bi}}]),n}(Mn);function wO(t){switch(t.nodeType){case Dn.ri:return new lO(t)}return qn(t)}function gO(t){for(var n=[],i=0;i<t.length;i++){var e=wO(t.item(i));e&&n.push(e)}return n}dt(new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).pB=new vO,n}return vt(n,t),n.prototype.ai=function(t){return this.pB.ai(t)},n}(mw)));var yO=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return vt(n,t),n}(Pu),mO=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Jr(new yO(t,n))},i.addEventListener=function(t,n){this.Qr(t,n)},i.removeEventListener=function(t,n){this.iu(t,n)},n}(og);function bO(t,n){return t.sy<=n&&t.oy>n}function pO(t,n){return function(t,n){return uu(t.sy,n.sy,$y)}(t,n)||function(t,n){return uu(t.oy,n.oy,$y)}(t,n)}function _O(t,n){var i=function(t,n,i,e,r,u,s){void 0===r&&(r=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,c=s-1;o<=c;){var a=o+(c-o>>1),f=e(i(t[a]),n);if(f<0)o=a+1;else if(f>0)c=a-1;else{if(!(r&&a>u&&0===e(i(t[a-1]),n)))return a;c=a-1}}return~o}(t,n,Ut,pO,!0);if(i<0)return i;for(;i<t.length&&pO(n,t[i])===Zr.Or;i++)if(t[i].by(n))return i;return-(i+1)}function kO(t){var n=t.Md;if(!n)return-1;if(t instanceof Xy)return n._B(t);var i=n.Vl;if(!i)return-1;var e=_O(i.dl,t);return e>=0?e:-1}var TO=function(t){function n(n,i){var e;return(e=t.call(this,My.ty,n)||this).Nm=i,e}return vt(n,t),n.prototype.Bd=function(){return new SO(this.uy.Ld)},n}(Vy),SO=function(t){function n(n){return t.call(this,"enter",n)||this}return vt(n,t),n}(Hy),EO=function(t){function n(n,i){var e;return(e=t.call(this,My.iy,n)||this).Nm=i,e}return vt(n,t),n.prototype.Bd=function(){return new RO(this.uy.Ld)},n}(Vy),RO=function(t){function n(n){return t.call(this,"exit",n)||this}return vt(n,t),n}(Hy),IO=function(t){function n(n){var i;return(i=t.call(this,_w.Wd)||this).uy=n,i}return vt(n,t),n.prototype.Bd=function(){return new DO(this.uy.Ld)},n}(kw),DO=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return vt(n,t),n}(Tw),OO=function(t){function n(n){var i;return(i=t.call(this,_w.zd)||this).uy=n,i}return vt(n,t),n.prototype.Bd=function(){return new NO(this.uy.Ld)},n}(kw),NO=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return vt(n,t),n}(Tw),CO=function(t){function n(n){var i;return(i=t.call(this,_w.$d)||this).Md=n,i}return vt(n,t),n.prototype.Bd=function(){return new AO(this.Md.Ld)},n}(kw),AO=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return vt(n,t),n}(Tw);function PO(t,n){return ru(t.Nm,n.Nm)||function(t,n){return t.Md===n.Md?eu(kO(t),kO(n)):Cb(t.Md,n.Md)}(t.uy,n.uy)||function(t,n){return t===n?Zr.Or:t===My.ty?Zr.Cr:Zr.Nr}(t.type,n.type)}var xO=function(){function t(t,n){var i=this;this._I=void 0,this.kB=void 0,this.Qw=[],this.TB=0,this.SB=0,this.EB=[],this.RB=[],this.IB=!1,this.DB=!1,this.OB=void 0,this.NB=function(){i.TB=0,i.CB(),i.AB()},this.PB=function(){i.CB(),i.AB()},this.xB=function(){i.DB=!0,i.OB=i._I._w,i.LB()},this.BB=function(){i.CB(),i.AB()},this.MB=function(){i.FB(),i.CB(),i.AB()},this.UB=function(t){hu(i.RB,t.uy)||i.RB.push(t.uy),i.VB()},this.HB=function(t){au(i.EB,t.uy),au(i.RB,t.uy),i.VB()},this.kB=n,this._I=t,t.Qr(Zc.ja,this.PB),t.Qr(Zc.Aa,this.PB),t.Qr(Cg.pw,this.PB),t.Qr(Zc.Ca,this.PB),t.Qr(Zc.Fa,this.xB),t.Qr(Zc.Ma,this.BB),this.VB()}var n=t.prototype;return n.vl=function(){du(this.EB);for(var t=0,n=this.Qw.slice();t<n.length;t++){var i=n[t];this.fl(i)}this.LB(),this.TB=0,this.SB=0,this.IB=!1,this.DB=!1,this.OB=void 0},n.al=function(t){if(!hu(this.Qw,t)){if(this.Qw.push(t),t.Qr(_w.Fd,this.UB),t.Qr(_w.Vd,this.HB),t.Qr(_w.Gd,this.MB),t.Vl.ll>0){for(var n=0,i=t.Vl.dl;n<i.length;n++){var e=i[n];this.RB.push(e)}this.VB()}this.FB()}},n.fl=function(t){if(au(this.Qw,t)){if(t.iu(_w.Fd,this.UB),t.iu(_w.Vd,this.HB),t.iu(_w.Gd,this.MB),t.Vl.ll>0){for(var n=0,i=t.Vl.dl;n<i.length;n++){var e=i[n];au(this.EB,e),au(this.RB,e)}this.VB()}this.FB()}},n.FB=function(){this.IB=this.Qw.some(function(t){return t.Pl!==Jw.Bl})},n.AB=function(){this._I.Dw||this._I.Rw?this.LB():this.VB()},n.VB=function(){this.IB&&(this.TB||(this.TB=this.kB.V(this.NB)))},n.LB=function(){this.TB&&(this.kB.WB(this.TB),this.TB=0)},n.CB=function(){var t;if(this.IB&&!this._I.Dw){var n=this.Qw,i=this.SB,e=null!=(t=this.OB)?t:this._I._w,r=e-i<-.1,u=this.DB||r;u&&e>i&&e-i<.1&&(u=!1),this.DB=!1,this.OB=void 0;for(var s,o=[],c=0;c<n.length;c++){var a=n[c];if(a.Pl!==Jw.Bl){a.qB(e,u);for(var f=0,h=a.Hl.dl;f<h.length;f++){var v=h[f];o.push(v)}}}if(u)s=this.EB;else{s=[];for(var l=0;l<n.length;l++){var w=n[l];w.Pl!==Jw.Bl&&Nb(w,i-1/6,e,s)}}for(var g=s.length-1;g>=0;g--)hu(o,s[g])&&fu(s,g);var y=[];if(!u)for(var m=s.length-1;m>=0;m--){var b=s[m];b.sy>i&&b.oy<=e&&(y.push(b),fu(s,m))}for(var p=0,_=this.RB;p<_.length;p++){au(y,_[p])}du(this.RB);for(var k=[],T=[],S=0;S<y.length;S++){var E=y[S];E.py||k.push(new TO(E,E.sy)),k.push(new EO(E,d.max(E.sy,E.oy))),E.py=!1}for(var R=0,I=s;R<I.length;R++){var D=I[R];D.py&&(k.push(new EO(D,d.max(D.sy,D.oy))),D.py=!1)}for(var O=0;O<o.length;O++){var N=o[O];N.py||(k.push(new TO(N,N.sy)),N.py=!0)}k.sort(PO);for(var C=0;C<k.length;C++){var A=k[C],P=A.uy;P.Jr(A);var x=P.Md;x&&(A.type===My.ty?x.Jr(new IO(P)):x.Jr(new OO(P)),hu(T,x)||T.push(x))}T.sort(Cb);for(var L=0;L<T.length;L++){var B=T[L];B.Jr(new CO(B))}this.SB=e,this.EB=o}},n.et=function(){this.vl(),this._I.iu(Zc.ja,this.PB),this._I.iu(Zc.Aa,this.PB),this._I.iu(Cg.pw,this.PB),this._I.iu(Zc.Ca,this.PB),this._I.iu(Zc.Fa,this.xB),this._I.iu(Zc.Ma,this.BB)},t}(),LO=function(){function t(){}var n=t.prototype;return n.V=function(t){return iE(t)},n.WB=function(t){eE(t)},t}(),BO=new LO,MO=function(t){function n(n,i){return void 0===i&&(i=BO),t.call(this,n,i)||this}return vt(n,t),n}(xO),FO=function(t){function n(){return t.call(this,Zc.Ra)||this}return vt(n,t),n}(Pu),UO=function(t){function n(n){var i;return(i=t.call(this,Zc.Pa)||this).currentTime=n,i}return vt(n,t),n}(Pu),VO=function(t){function n(n,i){var e;return(e=t.call(this)||this).zB=void 0,e.jB=void 0,e.$B=function(t){e.zB.XB("THEOplayerABRSetTargetBuffer",t.qA),e.Jr(t)},e.GB=function(t){e.zB.XB("THEOplayerABRSetStrategy",t.jA),e.Jr(t)},e.zB=n,e.jB=i,e.jB.Qr("zA",e.$B),e.jB.Qr("$A",e.GB),e}return vt(n,t),n.prototype.eP=function(t){return this.jB.eP(t)},ft(n,[{key:"uP",get:function(){var t;switch(this.jA.type){case DE.PERFORMANCE:return 1;case DE.QUALITY:return 0;case DE.BANDWIDTH:return null!=(t=this.jA.metadata)&&t.bitrate&&!g(this.jA.metadata.bitrate)?this.jA.metadata.bitrate:0;default:return 0}}},{key:"Ld",get:function(){return this.jB.Ld}},{key:"jA",get:function(){return this.jB.jA},set:function(t){this.jB.jA=t}},{key:"qA",get:function(){return this.jB.qA},set:function(t){this.jB.qA=t}},{key:"rP",get:function(){return this.jB.rP}},{key:"XA",get:function(){return this.jB.XA},set:function(t){this.jB.XA=t}},{key:"YA",get:function(){return this.jB.YA}},{key:"FA",get:function(){return this.jB.FA}}]),n}(Cu),HO=function(){function t(t){this.YB=void 0,this.xd=void 0,this.YB=t}var n=t.prototype;return n.Bd=function(){return function(t){for(var n=[],i=0;i<t.ll;i++)n[i]=t.pu(i).Ld;return n.item=function(n){var i=0|n,e=t.pu(i);return e&&e.Ld||void 0},v.defineProperty(n,"constructor",{value:qy}),n}(this)},n.Wg=function(t){for(var n=this.YB,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.by(e))return!0}return!1},n.pu=function(t){return this.YB[t]},ft(t,[{key:"dl",get:function(){return this.YB}},{key:"ll",get:function(){return this.YB.length}},{key:"Ld",get:function(){if(this.xd){var t=this.YB;this.xd.length=t.length;for(var n=0;n<t.length;n++)this.xd[n]=t[n].Ld}else this.xd=this.Bd();return this.xd}}]),t}(),WO=function(t){function n(n,i){var e;return(e=t.call(this,_w.Kd)||this).Md=n,e.Ul=i,e}return vt(n,t),n.prototype.Bd=function(){return new qO(this.Md.Ld,rg(this.Ul))},n}(kw),qO=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return vt(n,t),n}(Tw),zO=function(t){function n(n){var i;return(i=t.call(this,_w.Qd)||this).Md=n,i}return vt(n,t),n.prototype.Bd=function(){return new jO(this.Md.Ld)},n}(kw),jO=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return vt(n,t),n}(Tw),$O=function(t){function n(n){var i;return(i=t.call(this,_w.Fd)||this).uy=n,i}return vt(n,t),n.prototype.Bd=function(){return new XO(this.uy.Ld)},n}(kw),XO=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return vt(n,t),n}(Tw),GO=function(t){function n(n){var i;return(i=t.call(this,_w.Vd)||this).uy=n,i}return vt(n,t),n.prototype.Bd=function(){return new YO(this.uy.Ld)},n}(kw),YO=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return vt(n,t),n}(Tw),KO=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this)||this).xd=void 0,a.Xo=void 0,a.jg=Dy(),a.KB=!1,a.JB=void 0,a.QB=void 0,a.zg=void 0,a.Bs=void 0,a.HD=Jw.Bl,a.ZB=xy.NONE,a.tM=void 0,a.Mi=void 0,a.nM=void 0,a.YB=[],a.iM=[],a.eM=void 0,a.rM=void 0,a.uM=0,a.sM=0,a.Xo=i||"",a.JB=c||"",a.QB=n,a.Bs=r||"",a.KB=Boolean(u),a.nM=Boolean(o),a.Mi=s||Ly.DEFAULT,a.zg=e||"",a.eM=new HO(a.YB),a.rM=new HO(a.iM),a}vt(n,t);var i=n.prototype;return i.oM=function(t){return ou(this.eM.dl,function(n){return n.Sl===t})},i.Bd=function(){return ng(this)},i.iO=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Jw.Bl:case Jw.Ll:case Jw.xl:return n}}else if("number"==typeof t)switch(t){case 0:return Jw.Bl;case 1:return Jw.Ll;case 2:return Jw.xl}return Jw.Bl}(t);n!==this.Pl&&(this.HD=n,n===Jw.Bl&&(this.iM.forEach(function(t){t.py=!1}),du(this.iM),this.sM=0),this.Jr(new Ow(this)))},i.DT=function(t){if(t&&!t.Md){var n=_O(this.Vl.dl,t);if(!(n>=0)){t.Md=this;var i=-(n+1);this.YB.splice(i,0,t),this.cM(i),t.my=i,i<this.sM&&(this.sM=i),this.Jr(new $O(t))}}},i.dT=function(t){if(t&&t.Md===this){var n=this._B(t);if(!(n<0)){t.py=!1;var i=this.iM,e=_O(i,t);e>=0&&fu(i,e),fu(this.YB,n),this.cM(n),t.my=-1,this.sM>n&&--this.sM,this.Jr(new GO(t))}}},i.qB=function(t,n){var i=this.iM,e=this.YB,r=this.sM,u=!1;n&&(r=0);for(var s=i.length-1;s>=0;s--){bO(i[s],t)||(u=!0,fu(i,s))}for(;r<e.length&&e[r].sy<=t;){var o=e[r];if(0===t)break;bO(o,t)&&!hu(i,o)&&(u=!0,i.push(o)),r++}u&&nu(i,pO),this.sM=r},i._B=function(t){return(-1===t.my||t.my>=this.uM)&&this.aM(),t.my},i.aM=function(){for(var t=this.YB,n=this.uM;n<t.length;n++)t[n].my=n;this.uM=t.length},i.cM=function(t){t<this.uM&&(this.uM=t)},i.Ml=function(t){this.Fl||(this.Pl=t)},i.et=function(){this.nu();for(var t=this.YB.slice(),n=0;n<t.length;n++){t[n].et()}du(this.YB),du(this.iM)},ft(n,[{key:"Hl",get:function(){return this.rM}},{key:"Vl",get:function(){return this.eM}},{key:"NT",get:function(){return this.KB},set:function(t){this.KB=t}},{key:"Fl",get:function(){return this.nM}},{key:"Ld",get:function(){return this.xd||(this.xd=this.Bd()),this.xd}},{key:"Sl",get:function(){return this.Xo}},{key:"El",get:function(){return this.jg}},{key:"Al",get:function(){return this.JB},set:function(t){this.JB=t}},{key:"Rl",get:function(){return this.QB}},{key:"Il",get:function(){return this.zg},set:function(t){t!==this.zg&&(this.zg=t,this.Jr(new Ey(this)))}},{key:"Dl",get:function(){return this.Bs}},{key:"Pl",get:function(){return this.HD},set:function(t){this.iO(t)}},{key:"Ul",get:function(){return this.ZB},set:function(t){this.ZB!==t&&(this.ZB=t,this.Jr(new WO(this,this.ZB)))}},{key:"Wl",get:function(){return this.tM},set:function(t){this.tM=t}},{key:"mr",get:function(){return this.Mi},set:function(t){this.Mi!==t&&(this.Mi=t,this.Jr(new zO(this)))}}]),n}(Cu);function JO(t,n,i){for(var e=t[n].sy,r=n;r>=0&&t[r].sy===e;r--)t[r].oy=i}var QO=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return vt(n,t),n.prototype.by=function(n){return this===n||Mw(this,n)&&t.prototype.by.call(this,n)&&(i=n,this.ay===i.ay);var i},ft(n,[{key:"Ld",get:function(){return this.xd||(this.xd=Wy(this)),this.xd}}]),n}(Xy),ZO=function(t){function n(n,i,e){return void 0===e&&(e=Ly.DEFAULT),t.call(this,Tb.sp,"",i||"","",!1,e,!1,n)||this}return vt(n,t),n}(KO),tN=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).mr=Ly.ID3,e}vt(n,t);var i=n.prototype;return i.DT=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].sy<t.sy)JO(n,i,t.sy);else{var e=n[0];if(e.sy>t.sy)t.oy=e.sy;else{var r=_O(n,t);if(!(r>=0)){var u=-(r+1),s=u-1;if(s>=0&&n[s].sy<t.sy&&JO(n,s,t.sy),u<n.length){var o=n[u];t.oy=o.sy}}}}}}(n,this.YB),t.prototype.DT.call(this,n)},i.Bd=function(){return ng(this)},n}(ZO);Zc.Aa,Zc.Ca,Cg.pw,Zc.ja,Zc.Pa,Zc.Ra,Zc.Fa,Zc.Ma,Zc.Ta,Zc.xa,Zc.$a,Zc._a,Cg.Kd,Zc.Ba,Qw.Cl,Nu.du,Nu.wu,Zc.ma,Zc.ya,Zc.Xa;var nN,iN={fM:!1,hM:50},eN=function(){function t(t,n,i){this.Vc=void 0,this.Sr=void 0,this.Jc=void 0,this.lc=void 0,this.Vc=t,this.Sr=i,this.Jc=n}var n=t.prototype;return n.OT=function(t){throw new f("Not implemented yet.")},n.vM=function(t,n){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,wr.awrap(this.Sr.Ir(t.br,n));case 2:return i=r.sent,r.next=5,wr.awrap(i.Tc());case 5:return e=r.sent,r.next=8,wr.awrap(this.dM(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,j)},n.lM=function(t){return!1},n.wM=function(t){return j.resolve(void 0)},n.Mr=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.dM(void 0));case 2:case"end":return t.stop()}},null,this,null,j)},n.dM=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.gM(t),i.next=3,wr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,j)},n.gM=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.lc)){i.next=5;break}return i.next=4,wr.awrap(n.pc(this.Jc));case 4:this.lc=void 0;case 5:if(!t){i.next=9;break}return i.next=8,wr.awrap(t.bc(this.Jc));case 8:this.lc=t;case 9:case"end":return i.stop()}},null,this,null,j)},n.RT=function(t,n,i){throw new f("Not implemented yet.")},ft(t,[{key:"gc",get:function(){return this.Vc}},{key:"Bg",get:function(){throw new f("Not implemented yet.")},set:function(t){throw new f("Not implemented yet.")}},{key:"Mg",get:function(){return new $k([0,1/0])}},{key:"rg",get:function(){throw new f("Not implemented yet.")}},{key:"yM",get:function(){throw new f("Not implemented yet")}},{key:"eg",get:function(){throw new f("Not implemented yet.")}},{key:"mM",get:function(){throw new f("Not implemented yet")}},{key:"bM",get:function(){throw new f("Not implemented yet")}}]),t}();!function(t){t.pM="webkitneedkey",t._M="webkitkeymessage",t.kM="webkitkeyerror"}(nN||(nN={}));var rN,uN,sN,oN,cN,aN,fN,hN,vN,dN,lN,wN=function(t){function n(n,i){var e;return(e=t.call(this,nN.pM)||this).initData=n,e.sessionId=i,e}return vt(n,t),n}(Pu),gN=function(t){function n(n,i){var e;return(e=t.call(this,nN._M)||this).message=n,e.destinationURL=i,e}return vt(n,t),n}(Pu),yN=function(t){function n(){return t.call(this,nN.kM)||this}return vt(n,t),n}(Pu),mN=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).Ic=new Ws,s.Hc=void 0,s.Nc=new Hu,s.qc=new Ws,s.TM=function(t){s.Hc?(s.Hc.Mu(void 0),s.Hc=void 0):s.Lc("internal-error"),s.Jr(new Fu)},s.SM=function(t){s.Hc&&(s.Hc.Bu(void 0),s.Hc=void 0),s.Jr(new Mu(Nn(s),"license-request",Us(t.message).buffer,t.destinationURL||void 0))},s.Mc=n,s.nc=i,s.EM=e,s.Yc=r,s.jc=u,s}vt(n,t);var i=n.prototype;return i.uc=function(t,n,i){var e;return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.$c){t.next=3;break}throw new h("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,wr.awrap(this.RM(Ms(n),e));case 5:this.Lc("usable"),this.qc.Bu(),this.qc=new Ws;case 8:case"end":return t.stop()}},null,this,null,j)},i.sc=function(t){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,j)},i.cc=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Ms(t)).byteLength){i.next=3;break}throw new h("Cannot call update with an empty response.");case 3:return this.Hc=new Ws,this.EM.cc(this.Yc,n),i.next=7,wr.awrap(this.Hc.Pu);case 7:case"end":return i.stop()}},null,this,null,j)},i.rc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.qc);case 2:return this.EM.iu(nN._M,this.SM),this.EM.iu(nN.kM,this.TM),this.qc.qr(),this.Ic.Bu(void 0),t.abrupt("return",this.Ic.Pu);case 7:case"end":return t.stop()}},null,this,null,j)},i.oc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,j)},i.RM=function(t,n){var i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=Ac(t,n,this.jc),this.EM.Qr(nN._M,this.SM),this.EM.Qr(nN.kM,this.TM),this.EM.IM(this.Yc,i);case 4:case"end":return e.stop()}},null,this,null,j)},i.Lc=function(t){this.Nc.Tu(),this.Nc.ku(Vu,t),this.Jr(new Bu(this))},ft(n,[{key:"dc",get:function(){return this.Yc}},{key:"hc",get:function(){return NaN}},{key:"fc",get:function(){return this.Ic.Pu}},{key:"vc",get:function(){return this.Nc}}]),n}(Cu),bN=function(){function t(t,n,i){this.DM=void 0,this.Yc=void 0,this.jc=void 0,this.EM=void 0,this.nc=void 0,this.Vc=void 0,this.Mc=void 0,this.EM=t,this.nc=n,this.Vc=i;var e=yc(i)||"video/mp4";this.Mc=lc(e)}var i=t.prototype;return i.yc=function(t){var i;return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.jc){t.next=2;break}throw new Pc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new mN(this.Mc,this.nc,this.EM,this.Yc,this.jc),this.DM=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,j)},i.mc=function(t){return this.jc=Ms(t),j.resolve(!0)},i.bc=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,j)},i.pc=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,j)},i.createSession=function(){throw new f("Whoops.")},ft(t,[{key:"wc",get:function(){return this.nc}},{key:"gc",get:function(){return this.Vc}},{key:"sessionId",set:function(t){this.Yc=t}}]),t}(),pN=function(){function t(t,n,i){this.OM=t,this.nc=n,this.Vc=i}var n=t.prototype;return n.Sc=function(){return this.Vc},n.Tc=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new bN(this.OM,this.nc,this.Vc));case 1:case"end":return t.stop()}},null,this,null,j)},ft(t,[{key:"wc",get:function(){return this.nc}}]),t}(),_N=function(){function t(t){this.OM=void 0,this.OM=t}return t.prototype.Ir=function(t,n){var i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0;case 1:if(!(i<n.length)){u.next=9;break}if(e=n[i],!(r=wc(kN,Lu,t,e))){u.next=6;break}return u.abrupt("return",new pN(this.OM,t,r));case 6:i++,u.next=1;break;case 9:throw new h("Unsupported key system configuration for "+t);case 10:case"end":return u.stop()}},null,this,null,j)},t}();function kN(t,n){return t===Fr}!function(t){t.jO="NM"}(rN||(rN={})),function(t){t.CM="AM"}(uN||(uN={})),uN.CM,function(t){t[t.PM=0]="PM",t[t.Qa=1]="Qa",t[t.xM=2]="xM"}(sN||(sN={})),function(t){t.LM="BM"}(oN||(oN={})),function(t){t[t.MM=0]="MM",t[t.FM=1]="FM",t[t.UM=2]="UM"}(cN||(cN={})),function(t){t[t.VM=3]="VM",t[t.HM=4]="HM",t[t.WM=5]="WM"}(aN||(aN={})),function(t){t[t.qM=64]="qM",t[t.zM=103]="zM",t[t.jM=107]="jM"}(fN||(fN={})),function(t){t[t.$M=0]="$M",t[t.XM=1]="XM",t[t.zM=2]="zM",t[t.GM=5]="GM",t[t.YM=34]="YM"}(hN||(hN={})),Et.Hn,Zc.Aa,Zc.Ca,Zc.Fa,Zc.Ma,Zc.Ta,Zc.xa,Cg.Kd,Qw.Cl,Et.Ln||Et.Bn,function(t){t.KM="closed",t.Ev="open",t.Ta="ended"}(vN||(vN={})),Zc.$a,Zc.xa,Zc.Fa,Zc.Aa,Zc.Ca,Cg.Kd,Zc.Aa,Zc.Ca,Zc.Fa,Zc.Ma,Zc.Ta,Qw.Cl,function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(dN||(dN={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(lN||(lN={}));var TN=function(t){function n(n,i){var e;return(e=t.call(this)||this).JM=new Sr,e.$E=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.Md).mr){i.next=4;break}return i.next=4,wr.awrap(n.su(_w.Qd));case 4:if(n.mr===Ly.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.Vl.ll){i.next=11;break}return i.next=9,wr.awrap(n.su(_w.Fd));case 9:i.next=6;break;case 11:e.QM(n);case 12:case"end":return i.stop()}},null,null,null,j)},e.XE=function(t){var n=t.Md;if(n.mr===Ly.ID3&&e.JM.has(n.El)){var i=e.JM.get(n.El);e.fl(i),e.kT.OT(i),n.iu(_w.Fd,e.ZM)}},e.ZM=function(t){SN(t.uy)&&e.tF(t.uy)},e.kT=n,e.nF=i,e.iF(),e}vt(n,t);var i=n.prototype;return i.iF=function(){this.nF.Qr(gw.Nd,this.$E),this.nF.Qr(gw.Ad,this.XE)},i.eF=function(){this.nF.iu(gw.Nd,this.$E),this.nF.iu(gw.Ad,this.XE)},i.QM=function(t){var n=t.Vl.dl[0];if(SN(n)){var i=function(t){var n=t.match(AN);if(!n)return;return{Md:n[1],Dl:n[2]}}(n.ay.description),e=i.Md,r=i.Dl;if(!this.rF(e,r)){var u=this.kT.RT(Tb.ep,t.Sl,e,r,!1,Ly.TTML);this.al(u),this.JM.set(t.El,u);for(var s=0,o=t.Vl.dl;s<o.length;s++){var c=o[s];SN(c)&&this.tF(c)}t.Qr(_w.Fd,this.ZM)}}},i.rF=function(t,n){return this.Qp.dl.some(function(i){return i.Il===t&&i.Dl===n})},i.tF=function(t){if(t.Md)for(var n=this.JM.get(t.Md.El),i=db(t.ay.text,0,{ob:0,cb:1/0,ab:t.sy}),e=0;e<i.length;e++){var r=i[e];n.DT(r)}},i.vl=function(){var n,i,e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:for(n=0,i=this.nF.dl;n<i.length;n++)i[n].iu(_w.Fd,this.ZM);for(e=0,r=this.Qp.dl;e<r.length;e++)u=r[e],this.kT.OT(u);return this.JM.clear(),s.next=5,wr.awrap(t.prototype.vl.call(this));case 5:case"end":return s.stop()}},null,this,null,j)},i.et=function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.eF(),n.next=3,wr.awrap(t.prototype.et.call(this));case 3:case"end":return n.stop()}},null,this,null,j)},n}(Bb);function SN(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.ay)&&AN.test(n.description);var n}var EN,RN,IN,DN,ON,NN,CN,AN=/^Track:(.+),Lang:(.+)$/;new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).xd=void 0,n}return vt(n,t),ft(n,[{key:"Ld",get:function(){return this.xd||(this.xd=cR(this)),this.xd}},{key:"Ux",get:function(){}},{key:"Vx",get:function(){}},{key:"Hx",get:function(){}},{key:"Wx",get:function(){}},{key:"qx",get:function(){}},{key:"zx",get:function(){}},{key:"Yx",get:function(){}},{key:"jx",get:function(){}},{key:"$x",get:function(){}},{key:"Xx",get:function(){}},{key:"Gx",get:function(){}}]),n}(Cu)),function(t){t.uF='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.sF='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.oF='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.cF='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(EN||(EN={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(RN||(RN={})),function(t){var n=mr();for(var i in t)Rt.call(t,i)&&n.set(i,t[i])}({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),RN.WHITE,RN.TRANSPARENT,RN.TRANSPARENT,function(t){t.aF="Data",t.fF="Tag",t.hF="StartTag",t.vF="StartTagClass",t.dF="StartTagAnnotation",t.lF="CharRefInAnnotation",t.wF="EndTag",t.gF="TimestampTag"}(IN||(IN={})),function(t){t.mB="string",t.yF="starttag",t.mF="endtag",t.bF="timestamp"}(DN||(DN={})),RN.WHITE,RN.TRANSPARENT,function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(ON||(ON={})),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(NN||(NN={})),RN.WHITE,EN.oF,RN.BLACK,NN.FONT_REGULAR,RN.WHITE,NN.FONT_REGULAR,RN.WHITE,NN.FONT_UNDERLINE,RN.GREEN,NN.FONT_REGULAR,RN.GREEN,NN.FONT_UNDERLINE,RN.BLUE,NN.FONT_REGULAR,RN.BLUE,NN.FONT_UNDERLINE,RN.CYAN,NN.FONT_REGULAR,RN.CYAN,NN.FONT_UNDERLINE,RN.RED,NN.FONT_REGULAR,RN.RED,NN.FONT_UNDERLINE,RN.YELLOW,NN.FONT_REGULAR,RN.YELLOW,NN.FONT_UNDERLINE,RN.MAGENTA,NN.FONT_REGULAR,RN.MAGENTA,NN.FONT_UNDERLINE,RN.WHITE,NN.FONT_ITALICS,RN.WHITE,NN.FONT_UNDERLINE_ITALICS,RN.WHITE,NN.FONT_REGULAR,RN.WHITE,NN.FONT_UNDERLINE,RN.WHITE,NN.FONT_REGULAR,RN.WHITE,NN.FONT_UNDERLINE,RN.WHITE,NN.FONT_REGULAR,RN.WHITE,NN.FONT_UNDERLINE,RN.WHITE,NN.FONT_REGULAR,RN.WHITE,NN.FONT_UNDERLINE,RN.WHITE,NN.FONT_REGULAR,RN.WHITE,NN.FONT_UNDERLINE,RN.WHITE,NN.FONT_REGULAR,RN.WHITE,NN.FONT_UNDERLINE,RN.WHITE,NN.FONT_REGULAR,RN.WHITE,NN.FONT_UNDERLINE,RN.WHITE,NN.FONT_REGULAR,RN.WHITE,NN.FONT_UNDERLINE,function(t){t.pF="HELLO",t._F="HI_THERE",t.kF="INITIALIZE",t.TF="APPEND_INIT",t.SF="APPEND_DATA",t.EF="ACK",t.RF="REMOVE",t.IF="DESTROY_SESSION"}(CN||(CN={}));var PN=Zy.um,xN=new Zy(-1/0),LN=Zy.Vm,BN=new(function(t){function n(n,i){return t.call(this,n,i)||this}vt(n,t);var i=n.prototype;return i.Vy=function(t,n){return t.jy(n)?Zr.Cr:t.by(n)?Zr.Or:Zr.Nr},i.Hg=function(t,n){return t.Hg(n)},i.Yy=function(t,n){return t.Yy(n)},i.zy=function(t,n){return t.zy(n)},i.qI=function(){return PN},i.zI=function(){return LN},i.GI=function(){return xN},n.vD=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new Zy(t.start(e)),new Zy(t.end(e)));return new n(i)},n.DF=function(t){for(var i=[],e=[],r=0;r<t.ll;r++)i.push(new Zy(t.CI(r))),i.push(new Zy(t.xI(r))),e.push(t.AI(r)),e.push(t.LI(r));return new n(i,e)},n.lD=function(t){return new n([t,t],[!0,!0])},i.HI=function(t,i){return new n(t,i)},i.UI=function(t){return t.Fm},n.wD=function(){return BN},n}(jk))([]);ky.cv,ky.av;var MN=function(t){function n(n){var i;return(i=t.call(this,Zc.ya)||this).errorObject=void 0,i.errorObject=n,i}return vt(n,t),ft(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Pu),FN=function(t){function n(){return t.call(this,Zc.ma)||this}return vt(n,t),n}(Pu),UN=function(t){function n(n){var i;return(i=t.call(this,"Ga")||this).OF=n,i}return vt(n,t),n}(Pu),VN=new DR,HN=function(t){function n(n){var i;return(i=t.call(this,"rc")||this).session=n,i}return vt(n,t),n}(Pu),WN=function(t){function i(i,e,r){var u;return(u=t.call(this)||this).NF=!1,u.CF=!1,u.Yf=new wu,u.AF=void 0,u.tc=function(t){if(!u.Yf.$r.Ar)switch(t.fu){case"license-request":case"license-renewal":u.vS(t.au,t.hu).catch(function(t){return u.Pc(t)});break;default:u.Pc(new my(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.fu))}},u.PF=function(t){u.xF.vc._u(function(t,n){switch(t){case"usable":st.Ae(function(){u.CF=!0,u.Jr(new FN)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Jr(new UN(n))}})},u.LF=function(t){u.Pc(new my(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.xF=i,u.BF=e,u.MF=r,i.Qr("au",u.tc),i.Qr("cu",u.PF),i.Qr("vu",u.LF),i.fc.then(function(){return u.FF()}),u}vt(i,t);var e=i.prototype;return e.uc=function(){var t=this;return this.NF=!0,VN.HL(function(n){return t.UF(n)},this.Yf.$r)},e.UF=function(t){var i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,mu(t),u.next=4,wr.awrap(this.BF.uS(t));case 4:return u.next=6,wr.awrap(this.BF.sS(this.MF.pr,this.MF.yu,t));case 6:return i=u.sent,u.next=9,wr.awrap(this.xF.uc(this.MF.pr,this.MF.yu,i));case 9:u.next=18;break;case 11:throw u.prev=11,u.t0=u.catch(0),bu(u.t0),e=u.t0 instanceof Xs?u.t0.Uu:void 0,r=new my(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",u.t0,void 0,void 0,void 0,void 0,e),this.Pc(r),r;case 18:case"end":return u.stop()}},null,this,[[0,11]],j)},e.vS=function(t,i){var e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!zs(t)){o.next=7;break}return o.next=4,wr.awrap(this.BF.pS(new y(t),this.Yf.$r));case 4:e=o.sent,o.next=10;break;case 7:return o.next=9,wr.awrap(this.BF._S(new y(t),i,this.Yf.$r));case 9:e=o.sent;case 10:o.next=17;break;case 12:if(o.prev=12,o.t0=o.catch(0),!yu(o.t0)){o.next=16;break}return o.abrupt("return");case 16:throw o.t0;case 17:if(!this.Yf.$r.Ar){o.next=19;break}return o.abrupt("return");case 19:return r=this.AF,u=new Ws,this.AF=u,o.prev=22,o.next=25,wr.awrap(this.xF.cc(e));case 25:return o.next=27,wr.awrap(Iu(100));case 27:o.next=33;break;case 29:throw o.prev=29,o.t1=o.catch(22),s=o.t1 instanceof Xs?o.t1.Uu:void 0,new my(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o.t1,void 0,void 0,void 0,void 0,s);case 33:if(o.prev=33,void 0===r){o.next=37;break}return o.next=37,wr.awrap(r.Pu);case 37:return u.Bu(),this.AF===u&&(this.AF=void 0),o.finish(33);case 40:case"end":return o.stop()}},null,this,[[0,12],[22,29,33,40]],j)},e.Pc=function(t){var i=t instanceof my?t:new my(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Jr(new MN(i)),this.rc()},e.FF=function(){this.xF.iu("au",this.tc),this.xF.iu("cu",this.PF),this.xF.iu("vu",this.LF),this.CF=!1,this.Yf.qr(),this.Jr(new HN(this))},e.rc=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.nu();case 1:if(void 0===(t=this.AF)){n.next=5;break}return n.next=5,wr.awrap(t.Pu);case 5:if(this.AF!==t){n.next=1;break}case 6:return this.FF(),n.next=9,wr.awrap(this.xF.rc().catch(Ft));case 9:case"end":return n.stop()}},null,this,null,j)},i}(Cu),qN=[Zc.ma,Zc.ya,Zc.Xa],zN=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).nc=void 0,r.lc=void 0,r.VF=void 0,r.HF=[],r.WF=void 0,r.qF=[],r.zF=function(t){t.session.iu(qN,r.Kr),t.session.iu("rc",r.zF),au(r.HF,t.session)},r.nc=n,r.lc=i,r.VF=e,r}vt(n,t);var i=n.prototype;return i.bS=function(){return this.VF.bS()},i.jF=function(t){return this.WF||(this.WF=this.XF(t)),this.WF},i.XF=function(t){var n;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return mu(t),i.next=3,wr.awrap(this.VF.pS(new y(qs()),t));case 3:if(n=i.sent,mu(t),this.lc){i.next=7;break}throw new f("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,wr.awrap(this.lc.mc(n.buffer));case 9:case"end":return i.stop()}},null,this,null,j)},i.IM=function(t){var n,i;return wr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.lc){e.next=2;break}throw new f("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.qF.push(t),e.next=6,wr.awrap(this.lc.yc("temporary"));case 6:return n=e.sent,i=new WN(n,this.VF,t),this.HF.push(i),i.Qr(qN,this.Kr),i.Qr("rc",this.zF),e.abrupt("return",i);case 12:return e.prev=12,au(this.qF,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],j)},i.GF=function(t){if(t.YF)return!1;for(var n=0,i=this.HF;n<i.length;n++){if(jN(i[n].MF,t))return!0}for(var e=0,r=this.qF;e<r.length;e++){if(jN(r[e],t))return!0}return!1},i.et=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.lc=void 0,this.nu(),t=this.HF.slice(),du(this.HF),n.next=6,wr.awrap(j.all(t.map(function(t){return t.rc()})));case 6:this.VF.Mr();case 7:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"wc",get:function(){return this.nc}}]),n}(Cu);function jN(t,n){return!t.YF&&t.pr===n.pr&&Qu(t.yu,n.yu)}var $N=function(t){function i(n){var i;return(i=t.call(this)||this).iR=void 0,i.Yf=new wu,i.QL=new DR,i.Vc=void 0,i.VF=void 0,i.eR=void 0,i.nc=void 0,i.KF=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,wr.awrap(i.JF(t.pr,t.yu,i.Yf.$r));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),yu(n.t0)||i.Pc(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],j)},i.iR=n,i.iR.Qr(Nu.du,i.KF),i}vt(i,t);var e=i.prototype;return e.sc=function(t,n){this.eR=t,this.wM(n)},e.wM=function(t){this.Vc=t,this.QF(this.Yf.$r).catch(pu)},e.QF=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!st.Xe.he){n.next=5;break}return n.next=3,wr.awrap(this.ZF(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Vc||!this.Vc.tU){n.next=9;break}return n.next=8,wr.awrap(this.nU(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,j)},e.ZF=function(t){var n,i,e,r,u,s,o,c,a,f,h;return wr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.Vc)?void 0:n.AR){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(u=null==(s=this.Vc)?void 0:s.AR)?u:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],c=0,a=null!=(f=o.qE)?f:[];case 8:if(!(c<a.length)){v.next=22;break}return h=a[c],v.prev=10,v.next=13,wr.awrap(this.JF(o.wc.pr,h,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),bu(v.t0);case 19:c++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],j)},e.JF=function(t,i,e){var r,u,s,o,c,a,f,h,v,d;return wr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(mu(e),i.byteLength){l.next=3;break}return l.abrupt("return");case 3:if(this.Vc&&this.Vc.AR.length){l.next=5;break}throw new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Rr||t===Dr||t===Ir){l.next=8;break}return l.abrupt("return");case 8:r=Jp(t,i),u=this.Vc.AR,o=0;case 11:if(!(o<u.length)){l.next=42;break}if(c=u[o],mu(e),(a=r[c.wc._r])&&c.wc.pr===t){l.next=17;break}return l.abrupt("continue",39);case 17:return l.prev=17,l.next=20,wr.awrap(this.iU(c,e));case 20:if(!(f=l.sent).bS()){l.next=24;break}return l.next=24,wr.awrap(f.jF());case 24:if(h=this.iR.Ig,v={pr:c.wc.pr,yu:a,YF:h},!this.eU(f,v)){l.next=32;break}return l.next=29,wr.awrap(f.IM(v));case 29:return d=l.sent,l.next=32,wr.awrap(d.uc());case 32:return l.abrupt("return");case 35:l.prev=35,l.t0=l.catch(17),bu(l.t0),s=l.t0;case 39:o++,l.next=11;break;case 42:return l.next=44,wr.awrap(st.Be());case 44:if(!l.sent){l.next=48;break}throw new my(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s);case 48:throw new my(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s);case 49:case"end":return l.stop()}},null,this,[[17,35]],j)},e.nU=function(t){var n,i,e,r,u;return wr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=null==(n=this.Vc)?void 0:n.AR){s.next=3;break}return s.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){s.next=23;break}return r=i[e],mu(t),s.prev=7,s.next=10,wr.awrap(this.iU(r,t));case 10:if(!(u=s.sent).bS()){s.next=14;break}return s.next=14,wr.awrap(u.jF());case 14:return s.abrupt("return");case 17:s.prev=17,s.t0=s.catch(7),bu(s.t0);case 20:e++,s.next=4;break;case 23:case"end":return s.stop()}},null,this,[[7,17]],j)},e.eU=function(t,n){return st.Xe.fe||!t.GF(n)},e.iU=function(t,n){var i=this;return this.QL.HL(function(n){return i.rU(t,n)},n)},e.rU=function(t,n){var i,e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(mu(n),this.Vc&&this.VF&&this.eR){o.next=3;break}throw new f("Not initialized");case 3:if(!this.nc){o.next=7;break}if(this.nc.wc===t.wc){o.next=6;break}throw new f("Internal key system error");case 6:return o.abrupt("return",this.nc);case 7:return i=this.VF,e=gr({},t,{XR:t.XR.map(function(n){var e;return gr({},n,{persistentState:null!=(e=n.persistentState)?e:i.HS(t.wc),Ec:n.Ec||i.Ec(t.wc)})})}),o.next=11,wr.awrap(this.eR.vM(e.wc,e.XR));case 11:return r=o.sent,u=i.WE(e),(s=new zN(e.wc,r,u)).Qr([Zc.ma,Zc.ya,Zc.Xa],this.Kr),this.nc=s,o.abrupt("return",s);case 17:case"end":return o.stop()}},null,this,null,j)},e.Pc=function(t){var i=t instanceof my?t:new my(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Jr(new MN(i))},e.vl=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.eR=void 0,this.Vc=void 0,this.Yf.qr(),this.Yf=new wu,t.next=6,wr.awrap(this.uU());case 6:case"end":return t.stop()}},null,this,null,j)},e.uU=function(){var t;return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wr.awrap(this.QL.qr());case 2:if(!(t=this.nc)){n.next=8;break}return t.iu(Zc.Xa,this.Kr),this.nc=void 0,n.next=8,wr.awrap(t.et());case 8:case"end":return n.stop()}},null,this,null,j)},e.Mr=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nu(),this.iR.iu(Nu.du,this.KF),t.next=4,wr.awrap(this.vl());case 4:return t.next=6,wr.awrap(this.QL.et());case 6:case"end":return t.stop()}},null,this,null,j)},ft(i,[{key:"sU",get:function(){var t;return null==(t=this.nc)?void 0:t.wc}},{key:"OR",get:function(){return this.VF},set:function(t){this.VF=t}}]),i}(Cu);Et.Ln||Et.Bn,Et.ti,Et.Hn;var XN=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.eU=function(t,n){return!0},n}($N),GN=function(t){function n(n,i,e){var r;return void 0===e&&(e=new _N(i)),(r=t.call(this)||this).eR=void 0,r.Sr=void 0,r.oU=void 0,r.cU=new DR,r.aU=void 0,r.OM=void 0,r.fU=!1,r.Yc=void 0,r.zc=null,r.hU={Dg:0,Og:0,Ng:0,Cg:0,Ag:0,Pg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.vU=function(t){"boolean"==typeof t.detail.casting&&(r.fU=t.detail.casting,r.Jr(new Uy(r.fU)))},r.dU=function(t){r.Yc=t.sessionId,r.zc&&(r.zc.sessionId=r.Yc);var n=t.initData;if(n){var i=function(t){try{var n=xs(t),i=new Hs;return Is(Ds(ds(n,i,ys(n,i,!0)),!0))}catch(t){return}}(n);if(!i)return;r.Jr(new Uu(Dr,i))}else r.Jr(new Uu(Dr,new ArrayBuffer(0)))},r.aU=n,r.OM=i,r.OM.Qr(nN.pM,r.dU),r.Sr=e,r.oU=new XN(Nn(r)),r.lU(),r}vt(n,t);var i=n.prototype;return i.wU=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.mr===zb.CT)return i}},i.Mr=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.vl());case 2:return this.nu(),this.gU(),this.OM.iu(nN.pM,this.dU),t.next=7,wr.awrap(this.oU.Mr());case 7:case"end":return t.stop()}},null,this,null,j)},i.wg=function(){throw new f("Not implemented yet")},i.RT=function(t,n,i,e,r,u,s,o){throw new f("Not implemented yet")},i.FR=function(){return!1},i.HR=function(t,n,i,e){throw new f("Not implemented yet")},i.OT=function(t){throw new f("Not implemented yet")},i.zR=function(){throw new f("Not implemented yet")},i.sc=function(t){var n=this;return wr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.cU.HL(function(i){var e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.mr!==zb.CT){r.next=8;break}return mu(i),e=new eN(t,n,n.Sr),n.eR=e,n.oU.sc(e,t),r.abrupt("return",e);case 8:throw new f("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,j)}));case 1:case"end":return i.stop()}},null,this,null,j)},i.K=function(){throw new f("Not implemented yet")},i.Y=function(){throw new f("Not implemented yet")},i.vl=function(){var t=this;return this.cU.qr(),this.cU.HL(function(){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.eR){n.next=4;break}return n.next=3,wr.awrap(t.eR.Mr());case 3:t.eR=void 0;case 4:return n.next=6,wr.awrap(t.oU.vl());case 6:case"end":return n.stop()}},null,null,null,j)})},i.Iu=function(t,n){throw new f("Not implemented yet")},i.KR=function(t){throw new f("Not implemented yet")},i.lg=function(){throw new f("Not implemented yet")},i.JR=function(){return this.hU},i.lU=function(){this.aU.addEventListener("airPlayIsCasting",this.vU)},i.gU=function(){this.aU.removeEventListener("airPlayIsCasting",this.vU)},i.webkitSetMediaKeys=function(t){this.zc=t||null,this.zc&&(this.zc.sessionId=this.Yc)},i.yU=function(){},i.mU=function(){throw new f("Not implemented yet")},i.bU=function(){throw new f("Not implemented yet")},ft(n,[{key:"Eg",get:function(){throw new f("Not implemented yet")}},{key:"Sg",get:function(){throw new f("Not implemented yet")}},{key:"_w",get:function(){throw new f("Not implemented yet")}},{key:"_L",get:function(){throw new f("Not implemented yet")}},{key:"kw",get:function(){throw new f("Not implemented yet")}},{key:"Tw",get:function(){throw new f("Not implemented yet")}},{key:"vu",get:function(){throw new f("Not implemented yet")}},{key:"l_",get:function(){throw new f("Not implemented yet")}},{key:"Ig",get:function(){return this.fU}},{key:"Ew",get:function(){throw new f("Not implemented yet")}},{key:"Rw",get:function(){throw new f("Not implemented yet")}},{key:"Iw",get:function(){throw new f("Not implemented yet")}},{key:"Lg",get:function(){throw new f("Not implemented yet")}},{key:"Ul",get:function(){throw new f("Not implemented yet")}},{key:"Mg",get:function(){throw new f("Not implemented yet")}},{key:"Dw",get:function(){throw new f("Not implemented yet")}},{key:"pU",get:function(){throw new f("Not implemented yet")}},{key:"Cw",get:function(){throw new f("Not implemented yet")},set:function(t){throw new f("Not implemented yet")}},{key:"Ny",get:function(){throw new f("Not implemented yet")}},{key:"qR",get:function(){throw new f("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.zc}},{key:"_U",get:function(){return iN}},{key:"rg",get:function(){throw new f("Not implemented yet")}},{key:"TL",get:function(){throw new f("Not implemented yet")}},{key:"QR",get:function(){throw new f("Not implemented yet")}},{key:"kU",get:function(){return!0}},{key:"OR",get:function(){return this.oU.OR},set:function(t){this.oU.OR=t}},{key:"sU",get:function(){return this.oU.sU}}]),n}(sg),YN=function(t){function n(n){var i;return(i=t.call(this,Zc.Ya)||this).hU=n,i}return vt(n,t),n}(Pu);var KN=function(t){function n(n,i){var e,r=JN(i,n.kw,n.QR,n.TU);return(e=t.call(this,i,r,void 0,!1,n.Sl)||this).SU=void 0,e.EU=void 0,e.RU=void 0,e.Ls=void 0,e.IU=void 0,e.DU=void 0,e.OU=void 0,e.NU=void 0,e.CU=void 0,e.AU=void 0,e.SU=n.PU,e.EU=n.QR,e.RU=n.TU,e.Ls=n.kw,e.IU=n.xU,e.DU=Boolean(n.LU),e.OU=n.BU||{},e.NU=n.MU,e.CU=n.FU,e.AU=n.UU,e.VU(),e.HU(),e}vt(n,t);var i=n.prototype;return i.cc=function(t){var n=!1;void 0===this.SU&&void 0!==t.PU&&(n=!0,this.SU=t.PU),void 0===this.RU&&void 0!==t.TU&&(n=!0,this.RU=t.TU),void 0===this.Ls&&void 0!==t.kw&&(n=!0,this.Ls=t.kw),void 0===this.IU&&void 0!==t.xU&&(n=!0,this.IU=t.xU),!this.DU&&t.LU&&(n=!0,this.DU=t.LU),n=this.updateCustomAttributes(t,n),void 0===this.NU&&void 0!==t.MU&&(n=!0,this.NU=t.MU),void 0===this.CU&&void 0!==t.FU&&(n=!0,this.CU=t.FU),void 0===this.AU&&void 0!==t.UU&&(n=!0,this.AU=t.UU),this.VU(),this.HU(),this.WU(),n&&this.Jr(new zy(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.BU)for(var e=0,r=v.keys(t.BU);e<r.length;e++){var u=r[e];void 0===this.OU[u]&&(i=!0,this.OU[u]=t.BU[u])}return i},i.VU=function(){this.Ls&&!this.RU&&(this.RU=new Date(this.EU.getTime()+1e3*this.Ls))},i.HU=function(){this.RU&&!this.Ls&&(this.Ls=In(this.RU.getTime()-this.EU.getTime()))},i.WU=function(){this.vy===1/0&&(this.RU||this.Ls)&&(this.vy=JN(this.hy,this.Ls,this.EU,this.RU))},ft(n,[{key:"Ld",get:function(){var t;return this.xd||(this.xd=xw(Wy(t=this),{get content(){return t.ay},get class(){return t.PU},get startDate(){return t.QR},get endDate(){return t.TU},get duration(){return t.kw},get plannedDuration(){return t.xU},get endOnNext(){return t.LU},get scte35Cmd(){return t.MU},get scte35Out(){return t.FU},get scte35In(){return t.UU},get customAttributes(){return t.BU}})),this.xd}},{key:"PU",get:function(){return this.SU}},{key:"QR",get:function(){return this.EU}},{key:"TU",get:function(){return this.RU}},{key:"kw",get:function(){return this.Ls}},{key:"xU",get:function(){return this.IU}},{key:"LU",get:function(){return this.DU}},{key:"MU",get:function(){return this.NU}},{key:"FU",get:function(){return this.CU}},{key:"UU",get:function(){return this.AU}},{key:"BU",get:function(){return this.OU}}]),n}(Xy);function JN(t,n,i,e){return Dt(n)?t+n:e?t+(In(e.getTime())-In(i.getTime())):1/0}var QN,ZN=function(t){function n(){return t.call(this,void 0,void 0,Ly.DATE_RANGE)||this}vt(n,t);var i=n.prototype;return i.cc=function(t,n){!function(t,n,i){for(var e=t.Vl.dl,r=function(i){var r=e[i],u=ou(n,function(t){return t.Sl===r.Sl});u?r.cc(u):t.dT(r)},u=e.length-1;u>=0;u--)r(u);for(var s=0;s<n.length;s++){var o=n[s],c=o.QR;if(void 0!==c&&!t.oM(o.Sl)){var a=i(c);t.DT(new KN(o,a))}}}(this,function(t){for(var n=mr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.Sl)){var u=n.get(r.Sl),s=gr({},u,Fw(r),{BU:gr({},u.BU,r.BU)});n.set(r.Sl,s)}else n.set(r.Sl,r),i.push(r.Sl)}return i.map(function(t){return n.get(t)})}(t),n)},i.DT=function(n){var i,e,r;i=this.Vl.dl,e=n,(r=cu(i,function(t){return t.PU===e.PU}))&&r.LU&&r.cc({Sl:r.Sl,TU:e.QR}),t.prototype.DT.call(this,n)},n}(ZO);function tC(t){switch(t.type){case QN.mB:return t.value;case QN.yB:return Vw(t.value);case QN.gB:return Xu(t.value);default:return}}function nC(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.mB="daterange-ca-type_string",t.yB="daterange-ca-type_number",t.gB="daterange-ca-type_arraybuffer"}(QN||(QN={}));var iC,eC,rC,uC=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,r,i,e)||this).gE=void 0,s.qU=void 0,s.gE=n,s.qU=u,s}return vt(n,t),ft(n,[{key:"name",get:function(){return this.gE}},{key:"timestamp",get:function(){return this.qU}}]),n}(Pc),sC=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this,n,i,e,r,c)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=u,a.status=s,a.errorComment=o,a}return vt(n,t),n}(uC),oC=function(){function t(t,n){this.Qw=void 0,this.zU=void 0,this.Qw=new Sb,this.zU=new xO(t,n)}var n=t.prototype;return n.RT=function(t,n,i,e,r,u,s){var o=new KO(t,n,i,e,r,u,s);return this.Qw.al(o),this.zU.al(o),o},n.OT=function(t){this.Qw.fl(t),this.zU.fl(t),t.et()},n.vl=function(){for(var t=0,n=this.Qw.dl.slice();t<n.length;t++){n[t].et()}this.Qw.vl(),this.zU.vl()},n.et=function(){this.vl(),this.Qw.et(),this.zU.et()},ft(t,[{key:"rg",get:function(){return this.Qw}}]),t}(),cC=function(t){function n(n,i,e,r,u){var s;(s=t.call(this)||this).pD=0,s.jU=!1,s.rR=void 0,s.uR=void 0,s.$U=void 0,s.kD=!0,s.TD=1,s.Kw=void 0,s.Jw=void 0,s.XU=void 0,s.GU=void 0,s.Qw=void 0,s.kT=void 0,s.Ls=void 0,s.YU=$k.wD(),s.KU=$k.wD(),s._D=!1,s.JU=$k.wD(),s.SD=void 0,s.QU=void 0,s.ZU=void 0,s.ZB=gg.fw,s.PT=gg.fw,s.aU=void 0,s.zU=void 0,s.cR=void 0,s.zB=void 0,s.tV=void 0,s.OD=void 0,s.iR=void 0,s.aR=void 0,s.OM=void 0,s.hU={Dg:0,Og:0,Ng:0,Cg:0,Ag:0,Pg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.eR=void 0,s.nV=void 0,s.hR=new Sk,s.vR=new Nk,s.setCurrentTime=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.Mg.length){n.next=4;break}return s.pD=t,n.next=4,wr.awrap(s.aU.su("seekablechange"));case 4:s.pD=s.updateCurrentTime(t),s.zB.XB("THEOplayerSetCurrentTime",s.pD),s.SD=!0,s.Jr(new zg(s.pD));case 8:case"end":return n.stop()}},null,null,null,j)},s.iV=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.YU=new $k(i),s.Jr(new UO(s._w))}},s.eV=function(t){s.ZB=t.detail.readyState,s.Jr(new Xg(+t.detail.currentTime,s.Ul)),s.rV()},s.uV=function(t){s.ZB=t.detail.readyState,s.Jr(new Gg(+t.detail.currentTime,s.Ul)),s.rV()},s.sV=function(t){if(t.detail){var n=+t.detail.duration;s.Ls=n,s.Jr(new Ug(s.kw))}},s.oV=function(t){t.detail&&(s.jU=!0,s.Jr(new Wg(+t.detail.currentTime)))},s.dR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);nC(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.uR=new sC(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),s.rR=_y(s.uR),s.Jr(new Kg(s.uR))):nC(i)&&(s.uR=new uC(i.name,i.message,void 0,i.code,i.timestamp),s.rR=_y(s.uR),s.Jr(new Kg(s.uR)))}},s.cV=function(t){s.Jr(new FO)},s.aV=function(t){s.ZB=t.detail.readyState,s.Jr(new qg(+t.detail.currentTime,s.Ul)),s.rV()},s.fV=function(t){return wr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.Mg.length){n.next=3;break}return n.next=3,wr.awrap(s.aU.su("seekablechange"));case 3:s.ZB=t.detail.readyState,s.Jr(new Fg(+t.detail.currentTime,s.Ul)),s.rV();case 6:case"end":return n.stop()}},null,null,null,j)},s.hV=function(t){t.detail&&s.kD&&(s.kD=!1,s.Jr(new xg(+t.detail.currentTime)))},s.vV=function(t){t.detail&&(s.kD||(s.kD=!0,s.Jr(new Pg(+t.detail.currentTime))))},s.dV=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.JU=new $k(i)}},s.lV=function(t){t.detail&&s.Jr(new ip(+t.detail.currentTime))},s.wV=function(t){t.detail&&(s.TD=t.detail.playbackRate,s.Jr(new Vg(+t.detail.currentTime,s.TD)))},s.gV=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.KU=new $k(i)}},s.yV=function(t){t.detail&&(s.pD=+t.detail.currentTime,s.SD=!1,s.Jr(new Hg(s.pD,s.$U)),s.Jr(new jg(s.pD)))},s.mV=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.Ls&&(s.jU=!1),s.SD=!0,s.Jr(new zg(n))}},s.bV=function(t){t.detail&&(t.detail.currentDate&&(s.$U=new Date(1e3*t.detail.currentDate)),s.pD=+t.detail.currentTime,s.Jr(new Hg(s.pD,s.$U)))},s.pV=function(t){s.QU=t.detail.height,s.ZU=t.detail.width},s._V=function(t){t.detail&&s.Jr(new np(+t.detail.currentTime))},s.kV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.ig.al(new Ay(n))},s.TV=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,u=0;u<s.Kw.ll;u++){var o=s.ig.cl(u);o.Dl==e&&o.Il==r?i=s.Kw.cl(u):1==o.Tl&&(n=s.Kw.cl(u))}i&&n&&(i.Tl=!0,n.Tl=!1)},s.SV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.eg.al(new Fy(n))},s.EV=function(t){var n,i=t.detail.kind,e=t.detail.type;i===Tb.sp&&e===Ly.ID3?(n=new tN("",t.detail.label)).Pl=Jw.Ll:i===Tb.sp&&e===Ly.DATE_RANGE?(n=new ZN,s.nV=n):n=new KO(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),s.XU.al(n),s.zU.al(n)},s.RV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,u={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(u.description=e.Id3FrameDescription);var o=new QO(Vw(e.startTime),u,e.uid),c=s.IV();c&&c.DT(o)}},s.DV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],u=new Gy(Vw(r.startTime),Vw(r.endTime),r.content,!1),o=null!=(e=s.OV(Tb.ep))?e:s.OV(Tb.aT);o&&(o.mr=Ly.WEBVTT,o.DT(u))}},s.NV=function(t){t.type===Zc.ya&&(s.rR=_y(t.errorObject)),s.Kr(t)},s.CV=function(t){t.detail&&(s.hU.Og=t.detail.corruptedVideoFrames,s.hU.Dg=t.detail.droppedVideoFrames,s.Jr(new YN(s.zw)))},s.AV=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={Sl:t.id};if(void 0!==t.startDate&&(n.QR=new Date(t.startDate)),void 0!==t.endDate&&(n.TU=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var u=tC(t.customAttributes[r]);void 0!==u&&(e[r]=u)}n.BU=e}void 0!==t.scte35Cmd&&(n.MU=Xu(t.scte35Cmd)),void 0!==t.scte35In&&(n.UU=Xu(t.scte35In)),void 0!==t.scte35Out&&(n.FU=Xu(t.scte35Out)),void 0!==t.startTime&&(n.sy=t.startTime),n.PU=t.class,n.kw=Vw(t.duration),n.xU=Vw(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.sy?t.sy:(new Date).getTime(),e=new KN(t,i);s.nV.DT(e),s.nV.cc(n,i)})};var o=r.uid;s.zB=s.getSdkBridge(o),s.aU=new mO,cO()[o].sdkEventBus=s.aU,s.Kw=new Ty,s.Jw=new Ty;var c=s.PV(e);return s.kT=new oC(Nn(s),new LO),s.zU=new MO(Nn(s)),s.cR=new Fb(s.kT,c),s.XU=new Sb,s.GU=new TN(s.kT,s.XU),s.Qw=new Ik([s.XU,s.cR.Qp,s.GU.Qp]),s.OM=s.getFairPlayControllerBridge(s.zB),s.iR=new GN(s.aU,s.OM),s.aR=new Ek(c),s.iR.OR=s.aR,s.observeMediaElement(),s.CR(),s.OD=new VO(s.zB,u),s.OD.Qr("zA",function(){s.zB.XB("THEOplayerSetPreferredForwardBufferDuration",s.OD.qA)}),s}vt(n,t);var i=n.prototype;return i.yg=function(){return Yk},i.lg=function(){this.zB.XB("THEOplayerShow",{})},i.wg=function(){this.zB.XB("THEOplayerHide",{})},i.xV=function(){var t=this;this.zB.XB("THEOplayerSetInitialPreferredPeakBitRate",this.OD.uP);this.Qr("playing",function n(){t.zB.XB("THEOplayerSetInitialPreferredPeakBitRate",0),t.iu("playing",n)})},i.cg=function(t,n){var i,e,r;return wr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return this.tV=t,i=gr({},n,{sources:{src:t.src,type:dg.ew,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.zB.XB("THEOplayerSourceChange",i),e={mr:zb.CT,Wl:t.src,Dh:t.type,AR:this.PR(t),xR:t.crossOrigin,LR:n.metadata&&n.metadata.title},this.aR.HE(t.contentProtection),u.next=7,wr.awrap(this.iR.sc(e));case 7:this.eR=u.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==Ly.WEBVTT})).length>0&&this.MR(r),qb(this.rg),this.xV();case 11:case"end":return u.stop()}},null,this,null,j)},i.PR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{wc:Hr,XR:[{initDataTypes:[Hr.pr],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Y=function(){this.kD=!1,this.Jr(new xg(this._w)),this.zB.XB("THEOplayerPlay",{})},i.K=function(){this.kD=!0,this.Jr(new Pg(this._w)),this.zB.XB("THEOplayerPause",{})},i.gg=function(){},i.vl=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pD=0,this.jU=!1,this.rR=void 0,this.uR=void 0,this.kD=!0,this.TD=1,this.Ls=void 0,this.KU=$k.wD(),this.YU=$k.wD(),this.QU=void 0,this.ZU=void 0,this.ZB=gg.fw,this.PT=gg.fw,this.Kw.vl(),this.Jw.vl(),this.XU.vl(),this.Qw.vl(),t.next=19,wr.awrap(this.GU.vl());case 19:return t.next=21,wr.awrap(this.cR.vl());case 21:return this.kT.vl(),this.zU.vl(),this.tV=void 0,t.next=26,wr.awrap(this.iR.vl());case 26:case"end":return t.stop()}},null,this,null,j)},i.fg=function(){this.zB.XB("THEOplayerShowAirPlayPicker",{})},i.hg=function(){this.zB.XB("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.zw.Og=t.Og,this.zw.Dg=t.Dg},i.et=function(){return wr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr.awrap(this.vl());case 2:return this.nu(),this.unobserveMediaElement(),this.$R(),this.iR.OR=void 0,t.next=8,wr.awrap(this.iR.Mr());case 8:return this.Kw.et(),this.Jw.et(),this.XU.et(),this.Qw.et(),t.next=14,wr.awrap(this.GU.et());case 14:return t.next=16,wr.awrap(this.cR.et());case 16:this.kT.et(),this.zU.et();case 18:case"end":return t.stop()}},null,this,null,j)},i.MR=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.cR.ET(i)}},i.rV=function(){var t=this.PT,n=this.ZB;t!==n&&(this.PT=n,this.Jr(new Yg(this._w,n)))},i.observeMediaElement=function(){this.iR.Qr(Zc.da,this.Kr),this.iR.Qr([Zc.ma,Zc.ya],this.NV),this.aU.addEventListener("play",this.hV),this.aU.addEventListener("pause",this.vV),this.aU.addEventListener("seeking",this.mV),this.aU.addEventListener("seeked",this.yV),this.aU.addEventListener("ratechange",this.wV),this.aU.addEventListener("durationchange",this.sV),this.aU.addEventListener("timeupdate",this.bV),this.aU.addEventListener("waiting",this._V),this.aU.addEventListener("playing",this.lV),this.aU.addEventListener("ended",this.oV),this.aU.addEventListener("loadedmetadata",this.fV),this.aU.addEventListener("loadeddata",this.aV),this.aU.addEventListener("loadstart",this.cV),this.aU.addEventListener("canplay",this.eV),this.aU.addEventListener("canplaythrough",this.uV),this.aU.addEventListener("error",this.dR),this.aU.addEventListener("seekablechange",this.gV),this.aU.addEventListener("videosizechange",this.pV),this.aU.addEventListener("bufferedchange",this.iV),this.aU.addEventListener("playedchange",this.dV),this.aU.addEventListener("metricschange",this.CV),this.aU.addEventListener("addDateRangeCues",this.AV)},i.unobserveMediaElement=function(){this.iR.iu(Zc.da,this.Kr),this.iR.iu([Zc.ma,Zc.ya],this.NV),this.aU.removeEventListener("play",this.hV),this.aU.removeEventListener("pause",this.vV),this.aU.removeEventListener("seeking",this.mV),this.aU.removeEventListener("seeked",this.yV),this.aU.removeEventListener("ratechange",this.wV),this.aU.removeEventListener("durationchange",this.sV),this.aU.removeEventListener("timeupdate",this.bV),this.aU.removeEventListener("waiting",this._V),this.aU.removeEventListener("playing",this.lV),this.aU.removeEventListener("ended",this.oV),this.aU.removeEventListener("loadedmetadata",this.fV),this.aU.removeEventListener("loadeddata",this.aV),this.aU.removeEventListener("loadstart",this.cV),this.aU.removeEventListener("canplay",this.eV),this.aU.removeEventListener("canplaythrough",this.uV),this.aU.removeEventListener("error",this.dR),this.aU.removeEventListener("seekablechange",this.gV),this.aU.removeEventListener("videosizechange",this.pV),this.aU.removeEventListener("bufferedchange",this.iV),this.aU.removeEventListener("playedchange",this.dV),this.aU.removeEventListener("metricschange",this.CV),this.aU.removeEventListener("addDateRangeCues",this.AV)},i.updateCurrentTime=function(t){var n=this.Mg.start(0),i=this.Mg.end(0);return d.min(d.max(t,n),i)},i.IV=function(){for(var t=0,n=this.Qw.dl;t<n.length;t++){var i=n[t];if(i.Rl===Tb.sp&&i.mr===Ly.ID3)return i}},i.OV=function(t){for(var n=0,i=this.Qw.dl;n<i.length;n++){var e=i[n],r=e.Pl===Jw.xl,u=e.Rl===t;if(r&&u)return e}},i.CR=function(){this.aU.addEventListener("addaudiotrack",this.kV),this.aU.addEventListener("enableaudiotrack",this.TV),this.aU.addEventListener("addvideotrack",this.SV),this.aU.addEventListener("addtexttrack",this.EV),this.aU.addEventListener("addtexttrackid3cues",this.RV),this.aU.addEventListener("addtexttrackcues",this.DV)},i.$R=function(){this.aU.removeEventListener("addaudiotrack",this.kV),this.aU.removeEventListener("enableaudiotrack",this.TV),this.aU.removeEventListener("addvideotrack",this.SV),this.aU.removeEventListener("addtexttrack",this.EV),this.aU.removeEventListener("addtexttrackid3cues",this.RV),this.aU.removeEventListener("addtexttrackcues",this.DV)},i.Tg=function(){},ft(n,[{key:"ig",get:function(){return this.Kw}},{key:"Sg",get:function(){return this.YU.YR()}},{key:"Eg",get:function(){return this.$U?this.$U:null},set:function(t){this.zB.XB("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.$U=t}},{key:"_w",get:function(){return this.pD},set:function(t){this.setCurrentTime(t)}},{key:"kw",get:function(){return this.Ls}},{key:"Tw",get:function(){return this.jU}},{key:"vu",get:function(){return this.rR}},{key:"Sw",get:function(){return this.uR}},{key:"ug",get:function(){}},{key:"Ig",get:function(){return this.iR.Ig}},{key:"zw",get:function(){return this.hU}},{key:"Ew",get:function(){return this._D},set:function(t){this._D!==t&&(this.zB.XB("THEOplayerSetMuted",t),this._D=t,this.Jr(new $g(this._w,t?0:1)))}},{key:"Rw",get:function(){return this.kD}},{key:"Iw",get:function(){return this.TD},set:function(t){this.zB.XB("THEOplayerSetPlaybackRate",t),this.TD=t}},{key:"Lg",get:function(){return this.JU.YR()}},{key:"Bg",get:function(){return Fk.mI},set:function(t){}},{key:"Ul",get:function(){return this.ZB}},{key:"Mg",get:function(){return this.KU.YR()}},{key:"Dw",get:function(){return this.SD}},{key:"QR",get:function(){}},{key:"rg",get:function(){return this.Qw}},{key:"Ow",get:function(){return this.QU}},{key:"Nw",get:function(){return this.ZU}},{key:"Cw",get:function(){return 1},set:function(t){}},{key:"Fg",get:function(){return this.vR}},{key:"eg",get:function(){return this.Jw}},{key:"ZR",get:function(){return this.hR}},{key:"Ug",get:function(){return!1},set:function(t){}},{key:"xg",get:function(){return!0}}]),n}(sg),aC=function(){function t(){this.tI=bk.xE}var n=t.prototype;return n.nI=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if((e=n.type)&&jr(e.toLowerCase(),dg.iw))return!1;var e,r=n.contentProtection;if(r&&!Up(r)){if(!Wp(r))return!1;if(!t.LV(r))return!1}return!0},t.LV=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.iI=function(){return!1},t}(),fC=function(){function n(t){this.playerID=t}return n.prototype.XB=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),hC=function(t){function n(n){var i;return(i=t.call(this)||this).zB=void 0,i.aU=void 0,i.BV=function(t){var n=Xu(t.detail.initData),e=t.detail.sessionId;i.Jr(new wN(n,e))},i.MV=function(t){var n=new y(ts(t.detail.message)),e=t.detail.destinationURL;i.Jr(new gN(n,e))},i.FV=function(t){i.Jr(new yN)},i.zB=n,i.aU=new mO,cO().fairplayController={sdkEventBus:i.aU},i.UV(),i}vt(n,t);var i=n.prototype;return i.UV=function(){this.aU.addEventListener(nN.pM,this.BV),this.aU.addEventListener(nN._M,this.MV),this.aU.addEventListener(nN.kM,this.FV)},i.IM=function(t,n){var i={playerId:fO(),data:ns(n.buffer),sessionId:t};this.zB.XB("THEOplayerCreateKeySession",i)},i.cc=function(t,n){var i={playerId:fO(),data:ns(n.buffer),sessionId:t};this.zB.XB("THEOplayerUpdateKey",i)},n}(sg),vC=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.jh=function(n){if(Bs(n.Oh)){var i=Ms(n.Oh);n.Oh=Rs(i)}return t.prototype.jh.call(this,n)},n}(function(){function t(t){this.TT=void 0,this.TT=t}var n=t.prototype;return n.jh=function(t){return this.TT.jh(t)},n.yv=function(t){this.TT.yv(t)},n.et=function(){this.TT.et()},t}()),dC=function(t){function n(n,i,e,r,u){return t.call(this,n,i,e,r,u)||this}vt(n,t);var i=n.prototype;return i.ag=function(){return!1},i.getSdkBridge=function(t){return new fC(t)},i.getFairPlayControllerBridge=function(t){return eC||(eC=new hC(t)),eC},i.PV=function(t){return new vC(t)},n}(cC);iC=new(function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.NS=function(t,n,i,e,r,u){return new dC(t,n,i,e,r)},n}(aC)),Mk.ni.cI(iC),function(t){t.Nd="addtrack",t.Ad="removetrack",t.Gd="change",t.tl="update"}(rC||(rC={}));var lC=function(t,n,i){this.type=rC.Gd,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},wC=function(t,n){this.type=rC.Nd,this.mediaType=t,this.mediaTrack=n},gC=function(t,n){this.type=rC.Ad,this.mediaType=t,this.mediaTrack=n},yC=function(t,n){this.type=rC.tl,this.mediaType=t,this.mediaTrack=n},mC=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.VV=function(t){var n=new lC(e.type,t.track,e.mediaTracks);e.messageDispatcher.HV(n)},this.WV=function(t){var n=new wC(e.type,t.track);e.messageDispatcher.HV(n),t.track.addEventListener("update",e.qV)},this.zV=function(t){var n=new gC(e.type,t.track);e.messageDispatcher.HV(n)},this.qV=function(t){var n=new yC(e.type,t.track);e.messageDispatcher.HV(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.UV()}return t.prototype.UV=function(){this.mediaTracks.addEventListener("change",this.VV),this.mediaTracks.addEventListener("addtrack",this.WV),this.mediaTracks.addEventListener("removetrack",this.zV)},t}(),bC=function(){function t(t){this.jV=void 0,this.jV=new fC(t)}return t.prototype.HV=function(t){this.jV.XB(t.type,XR(t))},t}();bR(function(t){if(t.Ld.audioTracks){var n=new bC(t.El);new mC("audio",t.Ld.audioTracks,n)}if(t.Ld.videoTracks){var i=new bC(t.El);new mC("video",t.Ld.videoTracks,i)}});var pC,_C=function(){function t(){this.$V=i.webkit}return t.prototype.XB=function(t,n){this.$V.messageHandlers[t]&&this.$V.messageHandlers[t].postMessage(n)},t}(),kC="nativePromiseCallback",TC=function(t){function n(n){var i;return(i=t.call(this,kC)||this).detail=n,i}return vt(n,t),n}(Pu);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(pC||(pC={}));var SC=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Jr(new TC(n))},i.addEventListener=function(t,n){this.Qr(t,n)},i.removeEventListener=function(t,n){this.iu(t,n)},n}(mO),EC=function(){function t(){var t=this;this.jV=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new f("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case pC.RESOLVE:i.Bu(n.detail.data);break;case pC.REJECT:i.Mu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new SC;cO().nativePromise={sdkEventBus:n},n.addEventListener(kC,this.handleNativePromiseEvent)}return t.prototype.XV=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=gr({},n,{promiseId:e}),u=new Ws;return this.promisesMap[e]=u,null==(i=this.jV)||i.XB(n.type,jR(r)),u.Pu},t}();EC.messageIdTracker=-1;var RC,IC=function(t){function n(){var n;return(n=t.call(this)||this).jV=new _C,n}return vt(n,t),n}(EC),DC=function(t){function n(n){var i;return(i=t.call(this)||this).jV=new fC(n),i}return vt(n,t),n}(EC);!function(t){t.Nd="TextTrackListAddTrack",t.Ad="TextTrackListRemoveTrack",t.Gd="TextTrackListChange"}(RC||(RC={}));var OC,NC=function(t){this.type=RC.Nd,this.textTrack=t},CC=function(t){this.type=RC.Ad,this.textTrack=t},AC=function(t){this.type=RC.Gd,this.textTrack=t};!function(t){t.Fd="TextTrackAddCue",t.Vd="TextTrackRemoveCue",t.Wd="TextTrackEnterCue",t.zd="TextTrackExitCue",t.$d="TextTrackCueChange"}(OC||(OC={}));var PC,xC=function(t,n){this.type=OC.Fd,this.textTrackCue=t,this.textTrackUid=n},LC=function(t,n){this.type=OC.Vd,this.textTrackCue=t,this.textTrackUid=n},BC=function(t,n){this.type=OC.Wd,this.textTrackCue=t,this.textTrackUid=n},MC=function(t,n){this.type=OC.zd,this.textTrackCue=t,this.textTrackUid=n},FC=function(t){this.type=OC.$d,this.textTrackUid=t};!function(t){t.ty="TextTrackCueEnter",t.iy="TextTrackCueExit",t.tl="TextTrackCueUpdate"}(PC||(PC={}));var UC=function(t){this.type=PC.ty,this.textTrackCue=t},VC=function(t){this.type=PC.iy,this.textTrackCue=t},HC=function(t){this.type=PC.tl,this.textTrackCue=t},WC=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.GV=function(t){var i=qC(t.cue),e=new UC(i);n.messageDispatcher.XV(e).then()},this.YV=function(t){var i=qC(t.cue),e=new VC(i);n.messageDispatcher.XV(e).then()},this.KV=function(t){var i=qC(t.cue),e=new HC(i);n.messageDispatcher.XV(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.UV=function(t){t.addEventListener("enter",this.GV),t.addEventListener("exit",this.YV),t.addEventListener("update",this.KV)},n.ru=function(t){t.removeEventListener("enter",this.GV),t.removeEventListener("exit",this.YV),t.removeEventListener("update",this.KV)},t}();function qC(t){var n=nO(t,t.track.type);return delete n.track,n}var zC=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.JV=function(t){var n,e=qC(t.cue),r=new xC(e,t.cue.track.uid);i.messageDispatcher.XV(r).then(),null==(n=i.textTrackCueBridge)||n.UV(t.cue)},this.QV=function(t){var n,e=qC(t.cue),r=new LC(e,t.cue.track.uid);i.messageDispatcher.XV(r).then(),null==(n=i.textTrackCueBridge)||n.ru(t.cue)},this.GV=function(t){var n=qC(t.cue),e=new BC(n,t.cue.track.uid);i.messageDispatcher.XV(e).then()},this.YV=function(t){var n=qC(t.cue),e=new MC(n,t.cue.track.uid);i.messageDispatcher.XV(e).then()},this.ZV=function(t){var n=new FC(t.track.uid);i.messageDispatcher.XV(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new WC(e))}var n=t.prototype;return n.UV=function(t){t.addEventListener("addcue",this.JV),t.addEventListener("removecue",this.QV),t.addEventListener("entercue",this.GV),t.addEventListener("exitcue",this.YV),t.addEventListener("cuechange",this.ZV)},n.ru=function(t){t.removeEventListener("addcue",this.JV),t.removeEventListener("removecue",this.QV),t.removeEventListener("entercue",this.GV),t.removeEventListener("exitcue",this.YV),t.removeEventListener("cuechange",this.ZV)},n.initMessageDispatcher=function(t){return Et.Jn?new IC:Et.Qn&&void 0!==t?new DC(t):void 0},t}(),jC=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.WV=function(t){var n,i=new NC(t.track);e.messageDispatcher.XV(i).then(),null==(n=e.textTrackBridge)||n.UV(t.track)},this.zV=function(t){var n,i=new CC(t.track);e.messageDispatcher.XV(i).then(),null==(n=e.textTrackBridge)||n.ru(t.track)},this.tH=function(t){var n=new AC(t.track);e.messageDispatcher.XV(n).then()},this.nH=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.iH(i);r&&(this.textTrackBridge=new zC(r,i)),this.UV(),this.sdkEventBus=new mO,cO().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.nH)}var n=t.prototype;return n.UV=function(){this.textTracks.addEventListener("addtrack",this.WV),this.textTracks.addEventListener("removetrack",this.zV),this.textTracks.addEventListener("change",this.tH)},n.iH=function(t){return Et.Jn?new IC:Et.Qn&&void 0!==t?new DC(t):void 0},t}();bR(function(t){if(t.Ld.textTracks){var n=new DC(t.El);new jC(t.Ld.textTracks,n,t.El)}});var $C,XC,GC=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case $C.eH:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Jr(new YC(i));break;default:0}},n}(mO),YC=function(t){function n(n){var i;return(i=t.call(this,$C.eH)||this).detail=n,i}return vt(n,t),n}(Pu);!function(t){t.eH="registerContentProtectionIntegration"}($C||($C={})),function(t){t.rH="certifiateRequest",t.uH="certifiateResponse",t.sH="licenseRequest",t.oH="licenseResponse",t.cH="extractFairplayContentId",t.aH="buildContentProtection",t.fH="registerContentProtectionCallback"}(XC||(XC={}));var KC,JC,QC=function(t,n){this.type=XC.fH,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(KC||(KC={})),function(t){t.GALLERY="gallery",t.OVERLAY="overlay",t.SPOTLIGHT="spotlight"}(JC||(JC={}));var ZC=function(t,n){this.type=XC.aH,this.value=t,this.integrationId=n},tA=function(t,n){this.type=XC.rH,this.value=t,this.integrationId=n},nA=function(t,n){this.type=XC.uH,this.value=t,this.integrationId=n},iA=function(t,n){this.type=XC.cH,this.value=t,this.integrationId=n},eA=function(t,n){this.type=XC.sH,this.value=t,this.integrationId=n},rA=function(t,n){this.type=XC.oH,this.value=t,this.integrationId=n},uA=function(){function t(t,n){this.hH=void 0,this.CS=void 0,this.hH=t,this.CS=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t),e=new tA(i,this.CS),c.prev=2,c.next=5,wr.awrap(this.hH.XV(e));case 5:if(!(r=c.sent)){c.next=16;break}if(u=JSON.parse(r),!this.vH(u)){c.next=13;break}return s=gr({},u),c.abrupt("return",s);case 13:if(!this.dH(u)){c.next=16;break}return o=new y(u),c.abrupt("return",o);case 16:throw new my(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw c.prev=19,c.t0=c.catch(2),new my(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,c.t0);case 22:case"end":return c.stop()}},null,this,[[2,19]],j)},i.onCertificateResponse=function(t){var i,e,r,u,s;return wr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new nA(e,this.CS),o.next=5,wr.awrap(this.hH.XV(r));case 5:if(!(u=o.sent)){o.next=11;break}return s=JSON.parse(u),o.abrupt("return",new y(s));case 11:throw new my(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,j)},i.onLicenseRequest=function(t){var i,e,r,u,s,o,c;return wr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new eA(e,this.CS),a.prev=3,a.next=6,wr.awrap(this.hH.XV(r));case 6:if(!(u=a.sent)){a.next=17;break}if(s=JSON.parse(u),!this.vH(s)){a.next=14;break}return o={url:s.url,method:s.method,headers:s.headers,body:s.body?new y(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl},a.abrupt("return",o);case 14:if(!this.dH(s)){a.next=17;break}return c=new y(s),a.abrupt("return",c);case 17:throw new my(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw a.prev=20,a.t0=a.catch(3),new my(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 23:case"end":return a.stop()}},null,this,[[3,20]],j)},i.onLicenseResponse=function(t){var i,e,r,u,s,o;return wr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=gr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},u=new rA(r,this.CS),c.next=6,wr.awrap(this.hH.XV(u));case 6:if(!(s=c.sent)){c.next=12;break}return o=JSON.parse(s),c.abrupt("return",new y(o));case 12:throw new my(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return c.stop()}},null,this,null,j)},i.extractFairplayContentId=function(t){var i,e;return wr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new iA(t,this.CS),r.next=3,wr.awrap(this.hH.XV(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",j.reject(new my(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,j)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.vH=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.dH=function(t){return!!new y(t)},t}(),sA=function(){function t(t){this.hH=void 0,this.hH=t}return t.prototype.build=function(t){if(!t.integration)throw new f("integrationId is undefined");var n=new uA(this.hH,t.integration),i=new ZC({drmConfiguration:t},t.integration);return this.hH.XV(i),n},t}(),oA=function(t){function n(n){var i;return(i=t.call(this)||this).hH=void 0,i.hH=new DC(n),i}return vt(n,t),ft(n,[{key:"messageDispatcher",get:function(){return this.hH}}]),n}(function(){var t=this;this.aU=void 0,this.lH=function(n){var i=new sA(t.messageDispatcher),e=n.detail,r=e.integrationId,u=e.keySystem,s={state:Cp.MS.PS(r,u,i)};t.messageDispatcher.XV(new QC(s,r))},this.aU=new GC,cO().contentProtectionIntegration={sdkEventBus:this.aU},this.aU.addEventListener($C.eH,this.lH)});bR(function(t){new oA(t.Ld.uid)}),n.ChromelessPlayer=function t(n,i){var e=Qg(i),r=new(NR||(NR=yR(NR=FR(lR),aR.SL),NR=yR(NR,aR.EL)),NR)(n,e),u=r.Ld;return r.yL(),r.oB(IR),v.defineProperty(u,"constructor",{value:t}),u=Aw(u),function(t){for(var n=0;n<mR.length;n++)(0,mR[n])(t)}(r),u},n.createGlobals=hO,n.features=[],n.getCueMirrorMap=aO,n.getGlobalId=fO,n.getSdkEventBridge=cO,n.playerSuiteVersion="2022.4.1",n.players=VR,n.registerContentProtectionIntegration=HR,n.utils=UR,n.version="4.3.0",v.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
