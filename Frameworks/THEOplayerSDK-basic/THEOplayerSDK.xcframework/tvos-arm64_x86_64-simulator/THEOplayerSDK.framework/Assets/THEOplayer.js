/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), promise-polyfill
 (MIT - Copyright (c) 2014 Taylor Hakes & Forbes Lindesay),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.3.3 (4.1.0)
 Created: 2022-09-27T14:15:21.549Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i=t.window,e=t.document,r=t.location,u=t.navigator,s=t.setTimeout,o=t.clearTimeout,c=t.setInterval,a=t.clearInterval,f=t.Error,h=t.TypeError,v=(t.SyntaxError,t.Object),d=t.Math,l=t.parseInt,w=t.parseFloat,g=t.isNaN,y=t.Uint8Array,m=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest);var b=s;function p(t){return Boolean(t&&void 0!==t.length)}function _(){}function k(t){if(!(this instanceof k))throw new h("Promises must be constructed via new");if("function"!=typeof t)throw new h("not a function");this.o=0,this.l=!1,this.g=void 0,this.p=[],D(t,this)}function T(t,n){for(;3===t.o;)t=t.g;0!==t.o?(t.l=!0,k.R(function(){var i=1===t.o?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.g)}catch(t){return void E(n.promise,t)}S(n.promise,e)}else(1===t.o?S:E)(n.promise,t.g)})):t.p.push(n)}function S(t,n){try{if(n===t)throw new h("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof k)return t.o=3,t.g=n,void R(t);if("function"==typeof i)return void D((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.o=1,t.g=n,R(t)}catch(n){E(t,n)}var e,r}function E(t,n){t.o=2,t.g=n,R(t)}function R(t){2===t.o&&0===t.p.length&&k.R(function(){t.l||k.I(t.g)});for(var n=0,i=t.p.length;n<i;n++)T(t,t.p[n]);t.p=null}function I(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function D(t,n){var i=!1;try{t(function(t){i||(i=!0,S(n,t))},function(t){i||(i=!0,E(n,t))})}catch(t){if(i)return;i=!0,E(n,t)}}k.prototype.catch=function(t){return this.then(null,t)},k.prototype.then=function(t,n){var i=new this.constructor(_);return T(this,new I(t,n,i)),i},k.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},k.all=function(t){return new k(function(n,i){if(!p(t))return i(new h("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,function(n){u(t,n)},i)}e[t]=s,0==--r&&n(e)}catch(t){i(t)}}for(var s=0;s<e.length;s++)u(s,e[s])})},k.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new h(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,function(n){u(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var s=0;s<e.length;s++)u(s,e[s])})},k.resolve=function(t){return t&&"object"==typeof t&&t.constructor===k?t:new k(function(n){n(t)})},k.reject=function(t){return new k(function(n,i){i(t)})},k.race=function(t){return new k(function(n,i){if(!p(t))return i(new h("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)k.resolve(t[e]).then(n,i)})},k.R="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){b(t,0)},k.I=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var C=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),N=u?u.userAgent:"",O=N.match(/Firefox\/([0-9]+)/i),A=null!=O,P=O?Number(O[1]):0,x=N.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),L=null!=x,B=x?Number(x[3]):0,M=function(){function t(t){this.C=0,this.N=0,this.P=[],this.B=t}return t.prototype.M=function(t){var n=this.length();this.F(n+1);var i=this.N+n&this.B-1;this.P[i]=t,this.C=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.B<n)this.M(t);else{var i=this.N+n-1,e=this.B-1;this.P[i&e]=t,this.C=n}},t.prototype.shift=function(){var t=this.N,n=this.P[t];return this.P[t]=void 0,this.N=t+1&this.B-1,this.C--,n},t.prototype.length=function(){return this.C},t.prototype.F=function(t){this.B<t&&this.U(this.B<<1)},t.prototype.U=function(t){var n=this.B;this.B=t;var i=this.N+this.C&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.P,0,n,i)},t}();var F="unhandledrejection",U=t.PromiseRejectionEvent,V=t.CustomEvent;function W(t){return new U(F,{reason:t,promise:C.reject(t).catch(function(){}),cancelable:!0})}function H(t){var n=new V(F,{detail:{reason:t},cancelable:!0});return v.defineProperty(n,"reason",{value:t}),n}function q(t){var n=e.createEvent("CustomEvent");return n.initCustomEvent(F,!1,!0,{reason:t}),n}var z,j,$,X,G,Y,K,J,Q,Z,tt,nt,it=function(t){return(it=function(){try{var t=C.resolve(),n=new U(F,{reason:"error",promise:t});return F===n.type&&"error"===n.reason}catch(t){}return!1}()?W:function(){try{var t=new V(F,{detail:{reason:"error"}});return F===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?H:q)(t)};if(C&&!(A&&P<60||L&&B<15))j=C;else{j=k;var et=null!==(z=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=C;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==z?z:k.R,rt=($=et,X=new M(16),G=!1,{V:function(t){X.push(t),G||(G=!0,$(Y))},W:Y=function(){for(;X.length()>0;)X.shift()();G=!1}});k.R=rt.V,k.I=function(n){try{var i=it(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}s(function(){throw new f("Unhandled promise rejection: ".concat(n))},0)}}var ut,st,ot,ct={H:function(){function t(){this.j=[]}var n=t.prototype;return n.X=function(){},n.G=function(t){return{Y:function(){return j.resolve()},K:function(){}}},n.J=function(t){throw new f("Not implemented")},n.Z=function(t){return j.resolve()},n.nt=function(t){return j.resolve()},n.it=function(t){},n.et=function(){},t}(),rt:function(){function t(){}var n=t.prototype;return n.ut=function(){return j.resolve("all")},n.st=function(){},n.et=function(){},t}(),ot:{ct:function(t){getActiveDocument().addEventListener("unload",t)},ft:function(t){getActiveDocument().removeEventListener("unload",t)}},ht:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function at(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function ft(t,n,i){return n&&at(t.prototype,n),i&&at(t,i),v.defineProperty(t,"prototype",{writable:!1}),t}function ht(t,n){return(ht=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function vt(t,n){t.prototype=v.create(n.prototype),t.prototype.constructor=t,ht(t,n)}function dt(t){st=t}Element.prototype.style={},K=(ut=ct).H,J=ut.rt,Q=ut.ot,Z=ut.ht,tt=Z&&Z.location,nt=Z&&Z.navigator,function(t){t.vt="web",t.dt="android",t.wt="android-tv",t.yt="ios",t.bt="tvos",t.pt="chromecast"}(ot||(ot={}));var lt=u?u.userAgent:"",wt=lt.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),gt=lt.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),yt=lt.match(/Android ([0-9\.]+)/i),mt=lt.match(/Windows NT ([0-9\.]+)/i),bt=lt.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),pt=lt.match(/Firefox\/([0-9\.]+)/i),_t=lt.match(/OPR\/(\d+\.\d+)/i),kt=lt.match(/Tizen ([0-9\.]+)/i),Tt=function(){function n(){this._t=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||u&&u.msMaxTouchPoints),this.kt=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(lt)||/(macintosh|mac(?=_powerpc)\s)/i.test(lt),this.Tt=/Windows NT/i.test(lt),this.St=mt?w(mt[1]):0,this.Et=/Android/i.test(lt),this.Rt=yt?w(yt[1]):0,this.It=/windows phone (8|8\.1)/i.test(lt),this.Dt=/iPhone/i.test(lt),this.Ct=/iPad/i.test(lt),this.Nt=this.kt&&this._t&&!this.Ct,this.Ot=/iPod/i.test(lt),this.At=/Mobile Safari/i.test(lt),this.Pt=/EOSSTB/i.test(lt),this.xt=(this.Dt||this.Ct||this.Nt||this.Ot)&&!this.It,this.Lt=this.It||this.xt||this.Et||this.At,this.Bt=/CriOS/i.test(lt),this.Mt=Boolean(t.chrome&&/google/i.test(u.vendor))||this.Bt,this.Ft=this.Mt&&/Edg\//i.test(u.userAgent),this.Ut=gt?l(gt[1],10):0,this.Vt=Boolean(t.chrome||/Chrome/i.test(lt)||/CriOS/i.test(lt)),this.Wt=wt?l(wt[1],10):0,this.Ht=/SMART-TV.*Tizen/i.test(lt),this.qt=kt?w(kt[1]):0,this.zt=/webos|web0s/i.test(lt),this.jt=/Edge\/\d+/i.test(lt),this.$t=/Trident/i.test(lt),this.Xt=this.$t&&!t.ActiveXObject&&"ActiveXObject"in t,this.Gt=/Vivaldi/i.test(lt),this.Yt=/Firefox/i.test(lt)&&!/Seamonkey/i.test(lt),this.Kt=pt?w(pt[1]):0,this.Jt=/Safari/i.test(lt)&&!/Chrome/i.test(lt)&&!this.It&&!this.Ht,this.Qt=bt?w(bt[2]):0,this.Zt=Boolean(_t),this.tn=_t?w(_t[1]):0,this.nn=/CrKey/.test(lt),this.in=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(lt),this.en="tvos"===ot.wt,this.rn="tvos"===ot.dt,this.un=this.rn||this.en,this.sn="tvos"===ot.yt,this.cn="tvos"===ot.bt,this.an="tvos"===ot.pt}return ft(n,[{key:"fn",get:function(){return this._t}},{key:"hn",get:function(){return this.kt}},{key:"vn",get:function(){return this.Tt}},{key:"dn",get:function(){return this.St}},{key:"ln",get:function(){return this.Et}},{key:"wn",get:function(){return this.Rt}},{key:"gn",get:function(){return this.It}},{key:"yn",get:function(){return this.Dt}},{key:"mn",get:function(){return this.Ct}},{key:"bn",get:function(){return this.Nt}},{key:"pn",get:function(){return this.Ot}},{key:"_n",get:function(){return this.xt}},{key:"kn",get:function(){return this.Pt}},{key:"Tn",get:function(){return this.At}},{key:"Sn",get:function(){return this.Lt}},{key:"En",get:function(){return this.Bt}},{key:"Rn",get:function(){return this.Mt}},{key:"In",get:function(){return this.Wt}},{key:"Dn",get:function(){return this.Ft}},{key:"Cn",get:function(){return this.Ut}},{key:"Nn",get:function(){return this.Ht}},{key:"On",get:function(){return this.qt}},{key:"An",get:function(){return this.zt}},{key:"Pn",get:function(){return this.jt}},{key:"xn",get:function(){return this.$t}},{key:"Ln",get:function(){return this.Xt}},{key:"Bn",get:function(){return this.Gt}},{key:"Mn",get:function(){return this.Yt}},{key:"Fn",get:function(){return this.Kt}},{key:"Un",get:function(){return this.Jt}},{key:"Vn",get:function(){return this.Qt}},{key:"Wn",get:function(){return this.Zt}},{key:"Hn",get:function(){return this.tn}},{key:"qn",get:function(){return this.nn}},{key:"zn",get:function(){return this.in}},{key:"jn",get:function(){return!(!this.An&&!this.Nn)&&this.In<=56}},{key:"$n",get:function(){return this.en}},{key:"Xn",get:function(){return this.rn}},{key:"Gn",get:function(){return this.un}},{key:"Yn",get:function(){return this.sn}},{key:"Kn",get:function(){return this.cn}},{key:"Jn",get:function(){return this.an}},{key:"Qn",get:function(){return this.Vt}}]),n}();Tt.Zn=new Tt;var St=Tt.Zn,Et={}.hasOwnProperty,Rt={}.toString;function It(t){return null!=t}function Dt(t){return void 0===t}var Ct=Array.isArray||function(t){return"[object Array]"===Rt.call(t)};function Nt(t){return Ot(t)&&Et.call(t,"length")&&Bt(t.length)}function Ot(t){return"object"==typeof t&&null!==t}function At(t){return Ot(t)&&t.constructor&&t.constructor===v}function Pt(t){return"string"==typeof t}function xt(t){return"boolean"==typeof t}function Lt(t){return Boolean(t)&&"function"==typeof t.then}function Bt(t){return"number"==typeof t}var Mt=function(){},Ft=function(t){return t},Ut=!(St.xn&&!St.Ln),Vt=t.console;function Wt(t){if(Ot(t))try{return JSON.stringify(t)}catch(t){}return t}function Ht(t){return t.map(Wt).join(" ")}function qt(t){var n=Vt&&Vt[t];return n?n.bind&&Ut?n.bind(Vt):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];Vt[t](Ht(i))}:void 0}var zt,jt=qt("log")||Mt,$t=qt("warn")||jt.bind(void 0,"WARNING:"),Xt=qt("error")||jt.bind(void 0,"ERROR:"),Gt=(zt=Vt&&Vt.assert)?zt.bind&&Ut?zt.bind(Vt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Vt.assert(t,Ht(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Xt.apply(void 0,["Assertion failed:"].concat(i))}},Yt=null;try{Yt=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Kt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Jt(t){return!0===(t&&t.ti)}function Qt(t){var n=d.clz32(t&-t);return t?31-n:n}Kt.prototype.ti,v.defineProperty(Kt.prototype,"ti",{value:!0}),Kt.isLong=Jt;var Zt={},tn={};function nn(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=tn[t])?e:(i=rn(t,0,!0),r&&(tn[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=Zt[t])?e:(i=rn(t,t<0?-1:0,!1),r&&(Zt[t]=i),i)}function en(t,n){if(g(t))return n?dn:vn;if(n){if(t<0)return dn;if(t>=an)return mn}else{if(t<=-fn)return bn;if(t+1>=fn)return yn}return t<0?en(-t,n).neg():rn(t%cn|0,t/cn|0,n)}function rn(t,n,i){return new Kt(t,n,i)}Kt.fromInt=nn,Kt.fromNumber=en,Kt.fromBits=rn;var un=d.pow;function sn(t,n,i){if(0===t.length)throw f("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?dn:vn;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw f("interior hyphen");if(0===e)return sn(t.substring(1),n,i).neg();for(var r=en(un(i,8)),u=vn,s=0;s<t.length;s+=8){var o=d.min(8,t.length-s),c=l(t.substring(s,s+o),i);if(o<8){var a=en(un(i,o));u=u.mul(a).add(en(c))}else u=(u=u.mul(r)).add(en(c))}return u.unsigned=n,u}function on(t,n){return"number"==typeof t?en(t,n):"string"==typeof t?sn(t,n):rn(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Kt.fromString=sn,Kt.fromValue=on;var cn=4294967296,an=cn*cn,fn=an/2,hn=nn(1<<24),vn=nn(0);Kt.ZERO=vn;var dn=nn(0,!0);Kt.UZERO=dn;var ln=nn(1);Kt.ONE=ln;var wn=nn(1,!0);Kt.UONE=wn;var gn=nn(-1);Kt.NEG_ONE=gn;var yn=rn(-1,2147483647,!1);Kt.MAX_VALUE=yn;var mn=rn(-1,-1,!0);Kt.MAX_UNSIGNED_VALUE=mn;var bn=rn(0,-2147483648,!1);Kt.MIN_VALUE=bn;var pn=Kt.prototype;pn.toInt=function(){return this.unsigned?this.low>>>0:this.low},pn.toNumber=function(){return this.unsigned?(this.high>>>0)*cn+(this.low>>>0):this.high*cn+(this.low>>>0)},pn.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(bn)){var n=en(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=en(un(t,6),this.unsigned),u=this,s="";;){var o=u.div(r),c=(u.sub(o.mul(r)).toInt()>>>0).toString(t);if((u=o).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},pn.getHighBits=function(){return this.high},pn.getHighBitsUnsigned=function(){return this.high>>>0},pn.getLowBits=function(){return this.low},pn.getLowBitsUnsigned=function(){return this.low>>>0},pn.getNumBitsAbs=function(){if(this.isNegative())return this.eq(bn)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},pn.isZero=function(){return 0===this.high&&0===this.low},pn.eqz=pn.isZero,pn.isNegative=function(){return!this.unsigned&&this.high<0},pn.isPositive=function(){return this.unsigned||this.high>=0},pn.isOdd=function(){return 1==(1&this.low)},pn.isEven=function(){return 0==(1&this.low)},pn.equals=function(t){return Jt(t)||(t=on(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},pn.eq=pn.equals,pn.notEquals=function(t){return!this.eq(t)},pn.neq=pn.notEquals,pn.ne=pn.notEquals,pn.lessThan=function(t){return this.comp(t)<0},pn.lt=pn.lessThan,pn.lessThanOrEqual=function(t){return this.comp(t)<=0},pn.lte=pn.lessThanOrEqual,pn.le=pn.lessThanOrEqual,pn.greaterThan=function(t){return this.comp(t)>0},pn.gt=pn.greaterThan,pn.greaterThanOrEqual=function(t){return this.comp(t)>=0},pn.gte=pn.greaterThanOrEqual,pn.ge=pn.greaterThanOrEqual,pn.compare=function(t){if(Jt(t)||(t=on(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},pn.comp=pn.compare,pn.negate=function(){return!this.unsigned&&this.eq(bn)?bn:this.not().add(ln)},pn.neg=pn.negate,pn.add=function(t){Jt(t)||(t=on(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=0,a=0,f=0,h=0;return f+=(h+=r+(65535&t.low))>>>16,a+=(f+=e+o)>>>16,c+=(a+=i+s)>>>16,c+=n+u,rn((f&=65535)<<16|(h&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},pn.subtract=function(t){return Jt(t)||(t=on(t)),this.add(t.neg())},pn.sub=pn.subtract,pn.multiply=function(t){if(this.isZero())return this;if(Jt(t)||(t=on(t)),Yt)return rn(Yt.mul(this.low,this.high,t.low,t.high),Yt.get_high(),this.unsigned);if(t.isZero())return this.unsigned?dn:vn;if(this.eq(bn))return t.isOdd()?bn:vn;if(t.eq(bn))return this.isOdd()?bn:vn;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(hn)&&t.lt(hn))return en(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=65535&t.low,a=0,f=0,h=0,v=0;return h+=(v+=r*c)>>>16,f+=(h+=e*c)>>>16,h&=65535,f+=(h+=r*o)>>>16,a+=(f+=i*c)>>>16,f&=65535,a+=(f+=e*o)>>>16,f&=65535,a+=(f+=r*s)>>>16,a+=n*c+i*o+e*s+r*u,rn((h&=65535)<<16|(v&=65535),(a&=65535)<<16|(f&=65535),this.unsigned)},pn.mul=pn.multiply,pn.divide=function(t){if(Jt(t)||(t=on(t)),t.isZero())throw f("division by zero");var n,i,e;if(Yt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?rn((this.unsigned?Yt.div_u:Yt.div_s)(this.low,this.high,t.low,t.high),Yt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?dn:vn;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return dn;if(t.gt(this.shru(1)))return wn;e=dn}else{if(this.eq(bn))return t.eq(ln)||t.eq(gn)?bn:t.eq(bn)?ln:(n=this.shr(1).div(t).shl(1)).eq(vn)?t.isNegative()?ln:gn:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(bn))return this.unsigned?dn:vn;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=vn}for(i=this;i.gte(t);){n=d.max(1,d.floor(i.toNumber()/t.toNumber()));for(var r=d.ceil(d.log(n)/d.LN2),u=r<=48?1:un(2,r-48),s=en(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=en(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=ln),e=e.add(s),i=i.sub(o)}return e},pn.div=pn.divide,pn.modulo=function(t){return Jt(t)||(t=on(t)),Yt?rn((this.unsigned?Yt.rem_u:Yt.rem_s)(this.low,this.high,t.low,t.high),Yt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},pn.mod=pn.modulo,pn.rem=pn.modulo,pn.not=function(){return rn(~this.low,~this.high,this.unsigned)},pn.countLeadingZeros=function(){return this.high?d.clz32(this.high):d.clz32(this.low)+32},pn.clz=pn.countLeadingZeros,pn.countTrailingZeros=function(){return this.low?Qt(this.low):Qt(this.high)+32},pn.ctz=pn.countTrailingZeros,pn.and=function(t){return Jt(t)||(t=on(t)),rn(this.low&t.low,this.high&t.high,this.unsigned)},pn.or=function(t){return Jt(t)||(t=on(t)),rn(this.low|t.low,this.high|t.high,this.unsigned)},pn.xor=function(t){return Jt(t)||(t=on(t)),rn(this.low^t.low,this.high^t.high,this.unsigned)},pn.shiftLeft=function(t){return Jt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?rn(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):rn(0,this.low<<t-32,this.unsigned)},pn.shl=pn.shiftLeft,pn.shiftRight=function(t){return Jt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?rn(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):rn(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},pn.shr=pn.shiftRight,pn.shiftRightUnsigned=function(t){return Jt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?rn(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):rn(32===t?this.high:this.high>>>t-32,0,this.unsigned)},pn.shru=pn.shiftRightUnsigned,pn.shr_u=pn.shiftRightUnsigned,pn.rotateLeft=function(t){var n;return Jt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?rn(this.high,this.low,this.unsigned):t<32?(n=32-t,rn(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),rn(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},pn.rotl=pn.rotateLeft,pn.rotateRight=function(t){var n;return Jt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?rn(this.high,this.low,this.unsigned):t<32?(n=32-t,rn(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),rn(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},pn.rotr=pn.rotateRight,pn.toSigned=function(){return this.unsigned?rn(this.low,this.high,!1):this},pn.toUnsigned=function(){return this.unsigned?this:rn(this.low,this.high,!0)},pn.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},pn.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},pn.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Kt.fromBytes=function(t,n,i){return i?Kt.fromBytesLE(t,n):Kt.fromBytesBE(t,n)},Kt.fromBytesLE=function(t,n){return new Kt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Kt.fromBytesBE=function(t,n){return new Kt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var _n=d.pow(2,-52);function kn(t,n,i){return d.min(d.max(t,n),i)}function Tn(t,n,i){return t===n||d.abs(t-n)<=i}function Sn(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function En(){return Date.now()||(new Date).getTime()}function Rn(t){return t/1e3}var In;function Dn(t){return t.ni===In.ii}function Cn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Kt.fromNumber(9007199254740991),function(t){t[t.ii=1]="ii",t[t.ei=2]="ei",t[t.ri=3]="ri",t[t.ui=4]="ui",t[t.si=9]="si"}(In||(In={}));var Nn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];f.apply(this,n)};(Nn.prototype=v.create(f.prototype)).constructor=Nn;var On=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,f.captureStackTrace&&f.captureStackTrace(Cn(e),e.constructor),e}return vt(n,t),ft(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Nn),An=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return vt(n,t),n}(On),Pn=function(){function t(){}return t.prototype.oi=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new An(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new An;return new Vn(n)},t}(),xn=function(){function t(t){this.ci=void 0,this.ci=t}var n=t.prototype;return n.ai=function(t){return this.ci.isEqualNode(t.ci)},n.fi=function(n){return new t(this.ci.cloneNode(n))},ft(t,[{key:"ni",get:function(){return In.ei}},{key:"hi",get:function(){var t;return null!=(t=this.ci.localName)?t:qn(this.ci.nodeName)}},{key:"vi",get:function(){return this.ci.nodeName}},{key:"di",get:function(){var t;return null!=(t=this.ci.namespaceURI)?t:void 0}},{key:"li",get:function(){var t;return null!=(t=this.ci.prefix)?t:void 0}},{key:"wi",get:function(){return this.ci.nodeValue}}]),t}(),Ln=function(){function t(t){this.gi=void 0,this.yi=void 0,this.gi=t}var n=t.prototype;return n.mi=function(t){return this.bi.filter(function(n){return Wn(n)&&n.pi===t})},n._i=function(t,n){return this.bi.filter(function(i){return Wn(i)&&i.hi===n&&i.di===t})},n.ki=function(t){this.gi.appendChild(t.Ti),this.yi&&this.yi.push(t)},n.ai=function(t){return this.gi.isEqualNode(t.Ti)},ft(t,[{key:"bi",get:function(){return void 0===this.yi&&(this.yi=function(t){for(var n=[],i=0;i<t.length;i++){var e=Hn(t.item(i));e&&n.push(e)}return n}(this.gi.childNodes)),this.yi}},{key:"Si",get:function(){return this.bi.filter(Wn)}},{key:"Ti",get:function(){return this.gi}}]),t}(),Bn=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.Ei=function(t){if(this.gi.hasAttribute(t))return this.gi.getAttribute(t)},i.Ri=function(t,n){if(this.gi.hasAttributeNS(t,n))return this.gi.getAttributeNS(t,n)},i.Ii=function(t){this.gi.removeAttribute(t)},i.Di=function(t,n){this.gi.removeAttributeNS(t,n)},i.Ci=function(t,n){this.gi.setAttribute(t,n)},i.Ni=function(t,n,i){this.gi.setAttributeNS(t,n,i)},i.fi=function(t){return new n(this.gi.cloneNode(t))},ft(n,[{key:"ni",get:function(){return In.ii}},{key:"hi",get:function(){var t;return null!=(t=this.gi.localName)?t:qn(this.gi.nodeName)}},{key:"di",get:function(){var t;return null!=(t=this.gi.namespaceURI)?t:void 0}},{key:"li",get:function(){var t;return null!=(t=this.gi.prefix)?t:void 0}},{key:"pi",get:function(){return this.gi.nodeName}},{key:"Oi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new xn(t.item(i)));return n}(this.gi.attributes)}},{key:"Ai",get:function(){return this.gi.textContent}}]),n}(Ln),Mn=function(){function t(t){this.gi=void 0,this.gi=t}return t.prototype.ai=function(t){return this.Pi===t.Pi},ft(t,[{key:"Pi",get:function(){return this.gi.nodeValue}},{key:"Ti",get:function(){return this.gi}}]),t}(),Fn=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.fi=function(t){return new n(this.gi.cloneNode(t))},ft(n,[{key:"ni",get:function(){return In.ri}}]),n}(Mn),Un=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.fi=function(t){return new n(this.gi.cloneNode(t))},ft(n,[{key:"ni",get:function(){return In.ui}}]),n}(Mn),Vn=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n.prototype.fi=function(t){return new n(this.gi.cloneNode(t))},ft(n,[{key:"ni",get:function(){return In.si}},{key:"xi",get:function(){return new Bn(this.gi.documentElement)}}]),n}(Ln);function Wn(t){return Dn(t)}function Hn(t){switch(t.nodeType){case In.ii:return new Bn(t);case In.ri:return new Fn(t);case In.ui:return new Un(t)}}function qn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function zn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function jn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){$n(t,n,r,e);var u=t;t=e,e=u}return t}(t,n);return i!==t&&$n(i,null,t.length,t),t}function $n(t,n,i,e){var r,u,s,o,c,a=t.length,f=0,h=2*i;for(r=0;r<a;r+=h)for(s=(u=r+i)+i,u>a&&(u=a),s>a&&(s=a),o=r,c=u;;)if(o<u&&c<s)n(t[o],t[c])<=0?e[f++]=t[o++]:e[f++]=t[c++];else if(o<u)e[f++]=t[o++];else{if(!(c<s))break;e[f++]=t[c++]}}var Xn=/[a-zA-Z]/,Gn=/[0-9]/,Yn=/[0-9a-fA-F]/,Kn=/^0x/i,Jn=/^[0-9]+$/,Qn=/^[0-9a-fA-F]+$/,Zn=/^[0-7]+$/,ti=v.prototype.toString,ni=Array.isArray||function(t){return"[object Array]"===ti.call(t)},ii="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function ei(t){return ni(t)?t:Array.from(t)}function ri(t){return t>=65&&t<=90}function ui(t){return ri(t)||function(t){return t>=97&&t<=122}(t)}function si(t){return t>=48&&t<=57}function oi(t){return si(t)||ui(t)}function ci(t){return si(t)||t>=65&&t<=70||t>=97&&t<=102}function ai(t){return ri(t)?t+32:t}function fi(t){return si(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function hi(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var vi=d.min,di=String.fromCharCode,li=16384;function wi(t){for(var n=t.length,i=[],e=0;e<n;e+=li){var r=vi(e+li,n);i.push(di.apply(null,t.slice(e,r)))}return i.join("")}var gi=/[^\0-\x7E]/,yi=/[\x2E\u3002\uFF0E\uFF61]/g,mi={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},bi=d.floor,pi=String.fromCharCode;function _i(t){throw new RangeError(mi[t])}function ki(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}var Ti,Si,Ei,Ri=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Ii=function(t,n,i){var e=0;for(t=i?bi(t/700):t>>1,t+=bi(t/n);t>455;e+=36)t=bi(t/35);return bi(e+36*t/(t+38))},Di=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(yi,".")).split("."),n).join(".");return e+r}(t,function(t){return gi.test(t)?"xn--"+function(t){for(var n=[],i=(t=ki(t)).length,e=128,r=0,u=72,s=0,o=t;s<o.length;s++){var c=o[s];c<128&&n.push(pi(c))}var a=n.length,f=a;for(a&&n.push("-");f<i;){for(var h=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<h&&(h=l)}var w=f+1;h-e>bi((2147483647-r)/w)&&_i("overflow"),r+=(h-e)*w,e=h;for(var g=0,y=t;g<y.length;g++){var m=y[g];if(m<e&&++r>2147483647&&_i("overflow"),m==e){for(var b=r,p=36;;p+=36){var _=p<=u?1:p>=u+26?26:p-u;if(b<_)break;var k=b-_,T=36-_;n.push(pi(Ri(_+k%T,0))),b=bi(k/T)}n.push(pi(Ri(b,0))),u=Ii(r,w,f==a),r=0,++f}}++r,++e}return n.join("")}(t):t})};function Ci(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return wi(n)}function Ni(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Oi(t,n){return t>>n&63|128}function Ai(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Ni(t),n.push(t>>12&15|224),n.push(Oi(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Oi(t,12)),n.push(Oi(t,6))),n.push(63&t|128)):n.push(t)}function Pi(t){for(var n=[],i=0;i<t.length;i++){Ai(t[i],n)}return n}function xi(){if(Ei>=Si)throw new f("Invalid byte index");var t=255&Ti[Ei];if(Ei++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function Li(){var t,n;if(Ei>Si)throw new f("Invalid byte index");if(Ei===Si)return!1;if(t=255&Ti[Ei],Ei++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|xi())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|xi()<<6|xi())>=2048)return Ni(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|xi()<<12|xi()<<6|xi())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function Bi(t){return[37,hi(t>>4),hi(15&t)]}function Mi(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Fi(t){return Mi(t)||32===t||34===t||60===t||62===t||96===t}function Ui(t){return Fi(t)||35===t||63===t||123===t||125===t}function Vi(t){return Ui(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function Wi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function Hi(t){return Wi(t)||39===t}function qi(t,n){if(!n(t))return[t];for(var i=Pi([t]),e=[],r=0;r<i.length;r++){var u=i[r];e.push.apply(e,Bi(u))}return e}function zi(t,n){for(var i=[],e=0,r=ki(t);e<r.length;e++){var u=r[e];i.push.apply(i,qi(u,n))}return Ci(i)}function ji(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&ci(t[e+1])&&ci(t[e+2])){var u=fi(t[e+1])<<4|fi(t[e+2]);n.push(u),e+=2}else n.push(r)}return n}(Pi(t))}function $i(t){return Ci(function(t){Ti=t.slice(),Si=Ti.length,Ei=0;for(var n,i=[];!1!==(n=Li());)i.push(n);return i}(ji(ki(t))))}function Xi(t){var n,i,e,r,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,c=null,a=0;if(a<u&&":"===t[a]){if(!(a+1<u&&":"===t[a+1]))throw new h;a+=2,c=o+=1}for(;a<u;){if(8===o)throw new h("Too many groups");if(":"!==t[a]){for(var f=0,v=0;v<4&&a<u&&Yn.test(t[a]);)f=f<<4|l(t[a],16),a+=1,v+=1;if("."===t[a]){if(0===v)throw new h;if(a-=v,o>6)throw new h;for(var d=0;a<u;){var w=null;if(d>0){if(!("."===t[a]&&d<4))throw new h;a+=1}if(!Gn.test(t[a]))throw new h;for(;a<u&&Gn.test(t[a]);){var g=l(t[a],10);if(null===w)w=g;else{if(0===w)throw new h;if((w=10*w+g)>255)throw new h}a+=1}s[o]=s[o]<<8|w,2!==(d+=1)&&4!==d||(o+=1)}if(4!==d)throw new h;break}if(":"===t[a]){if((a+=1)===u)throw new h}else if(a<u)throw new h;s[o]=f,o+=1}else{if(null!==c)throw new h("Too many :: groups");a+=1,c=o+=1}}if(null!==c){var y=o-c;for(o=7;0!==o&&y>0;)e=c+y-1,r=void 0,r=(n=s)[i=o],n[i]=n[e],n[e]=r,o-=1,y-=1}else if(8!==o)throw new h;return s}function Gi(t){var n=10,i=Jn;return Kn.test(t)?(t=t.slice(2),n=16,i=Qn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Zn),""===t?0:i.test(t)?l(t,n):void 0}var Yi={Li:4},Ki=/[\0\t\n\r #%/:?@\[\\\]]/,Ji=/[\0\t\n\r #/:?@\[\\\]]/;function Qi(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new h("Invalid IPv6 address");return{Li:2,Bi:Xi(t.slice(1,-1))}}if(!n)return function(t){if(Ji.test(t))throw new h("Invalid code point in opaque host");var n=zi(t,Mi);return""===n?Yi:{Li:3,P:n}}(t);var i=function(t){return function(t){return Di(t.toLowerCase())}(t)}($i(t));if(Ki.test(i))throw new h("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var u=Gi(r);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new h;if(i[i.length-1]>=d.pow(256,5-i.length))throw new h;for(var o=i.pop(),c=0;c<i.length;c++)o+=i[c]*d.pow(256,3-c);return o}}(i);return void 0!==e?{Li:1,Bi:e}:""===i?Yi:{Li:0,Mi:i}}function Zi(t){switch(t.Li){case 0:return t.Mi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Bi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,u=0;u<8;u++)0===t[u]?(0===r&&(e=u),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Bi)+"]";case 3:return t.P;case 4:return""}}var te=/\+/g;function ne(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var u=r.indexOf("="),s=void 0,o=void 0;-1!==u?(s=r.slice(0,u),o=r.slice(u+1)):(s=r,o=""),s=s.replace(te," "),o=o.replace(te," ");var c=$i(s),a=$i(o);i.push([c,a])}}return i}function ie(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=ee(Pi(ki(e[0])))+"="+ee(Pi(ki(e[1])))}return n}function ee(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||oi(n)?i.push(r):i.push.apply(i,Bi(r))}return wi(i)}var re=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function ue(t){var n=""+t,i=re.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var u=t.charCodeAt(r);if(oe(u))if(ce(u)||r===i-1)e.push(se);else{var s=t.charCodeAt(r+1);ce(s)?(e.push(u,s),r++):e.push(se)}else e.push(u)}return t.slice(0,n)+wi(e)}(n,i.index):n}var se=65533,oe=function(t){return 55296==(63488&t)},ce=function(t){return 0!=(1024&t)};function ae(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function fe(t){t.Fi.length=0}function he(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Fi,ne(n))}function ve(t){if(t.Ui){var n=ie(t.Fi);""===n&&(n=null),t.Ui.Ui.Vi=n}}var de=function(){function t(t){if(void 0===t&&(t=void 0),this.Ui=null,null==t)this.Fi=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof de&&ni(u.Fi)&&(!ii||u[Symbol.iterator]===le))this.Fi=t.Fi.slice();else if(function(t){return null!=t&&(!!ni(t)||!!ii&&"function"==typeof t[Symbol.iterator])}(t)){this.Fi=[];for(var n=0,i=ei(t);n<i.length;n++){var e=ei(i[n]);if(2!==e.length)throw new h("Invalid name-value pair");this.Fi.push([ue(e[0]),ue(e[1])])}}else for(var r in this.Fi=[],t)v.prototype.hasOwnProperty.call(t,r)&&this.Fi.push([ue(r),ue(t[r])]);else(t=ue(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Fi=ne(t);var u}var n=t.prototype;return n.append=function(t,n){t=ue(t),n=ue(n),this.Fi.push([t,n]),ve(this)},n.delete=function(t){t=ue(t);for(var n=this.Fi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}ve(this)},n.get=function(t){t=ue(t);for(var n=this.Fi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=ue(t);for(var n=this.Fi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=ue(t);for(var n=this.Fi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=ue(t),n=ue(n);for(var i=this.Fi,e=!1,r=0;r<i.length;){var u=i[r];u[0]===t?e?i.splice(r,1):(u[1]=n,e=!0,r++):r++}e||i.push([t,n]),ve(this)},n.sort=function(){jn(this.Fi,ae),ve(this)},n.toString=function(){return ie(this.Fi)},n.entries=function(){return new me(this.Fi,we)},n.keys=function(){return new me(this.Fi,ge)},n.values=function(){return new me(this.Fi,ye)},n.forEach=function(t){var n=this;this.Fi.forEach(function(i){return t(i[1],i[0],n)})},t}(),le=de.prototype.entries;ii&&(de.prototype[Symbol.iterator]=le);var we=function(t){return[t[0],t[1]]},ge=function(t){return t[0]},ye=function(t){return t[1]},me=function(){function t(t,n){this.Wi=0,this.Fi=t,this.Hi=n}return t.prototype.next=function(){return this.Wi<this.Fi.length?{done:!1,value:this.Hi(this.Fi[this.Wi++])}:{done:!0,value:void 0}},t}(),be="null";var pe=v.create(null);pe.ftp=21,pe.file=0,pe.gopher=70,pe.http=80,pe.https=443,pe.ws=80,pe.wss=443;var _e=/^(?:\.|%2e)$/i,ke=/^(?:\.|%2e){2}$/i;function Te(t){return _e.test(t)}function Se(t){return ke.test(t)}function Ee(t){return void 0!==pe[t]}function Re(t){return Ee(t.qi)}function Ie(t){return""!==t.zi||""!==t.ji}function De(t){var n=t.length;if(!(n>=2))return!1;if(!Ne(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Ce(t){return 2===t.length&&Xn.test(t[0])&&(":"===t[1]||"|"===t[1])}function Ne(t){return 2===t.length&&Ce(wi(t))}function Oe(t){return Ce(t)&&":"===t[1]}function Ae(t){var n=t.$i;0!==n.length&&("file"===t.qi&&1===n.length&&Oe(n[0])||n.pop())}function Pe(t){return null===t.Xi||Yi===t.Xi||t.Gi||"file"===t.qi}var xe=-1,Le=/\t|\n|\r/g,Be=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Me(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new Ue,t=t.replace(Be,""));var r=null!==e?e:0;n=n||null;for(var u=[],s=!1,o=!1,c=!1,a=ki(t=t.replace(Le,"")),f=a.length,v=0;v<=f;){var d=v<f?a[v]:xe;switch(r){case 0:if(!ui(d)){if(null===e){u.length=0,r=2;continue}throw new h("Invalid scheme")}u.push(ai(d)),r=1;break;case 1:if(oi(d)||43===d||45===d||46===d)u.push(ai(d));else{if(58!==d){if(null===e){u.length=0,r=2,v=0;continue}throw new h("Invalid scheme")}var w=Ci(u);if(null!==e){if(Ee(i.qi)&&!Ee(w))return;if(!Ee(i.qi)&&Ee(w))return;if((Ie(i)||null!==i.Yi)&&"file"===w)return;if("file"===i.qi&&(i.Xi===Yi||null===i.Xi))return}if(i.qi=w,null!==e)return void(Re(i)&&i.Yi===pe[i.qi]&&(i.Yi=null));u.length=0,"file"===i.qi?r=13:Re(i)&&n&&n.qi===i.qi?r=3:Re(i)?r=7:47===a[v+1]?(r=4,v+=1):(i.Gi=!0,i.$i.push(""),r=18)}break;case 2:if(!n||n.Gi&&35!==d)throw new h("Invalid scheme");n.Gi&&35===d?(i.qi=n.qi,i.$i=n.$i.slice(),i.Vi=n.Vi,i.Ki="",i.Gi=!0,r=20):"file"!==n.qi?(r=5,v-=1):(r=13,v-=1);break;case 3:47===d&&47===a[v+1]?r=8:(r=5,v-=1);break;case 4:47===d?r=9:(r=17,v-=1);break;case 5:i.qi=n.qi,xe===d?(i.zi=n.zi,i.ji=n.ji,i.Xi=n.Xi,i.Yi=n.Yi,i.$i=n.$i.slice(),i.Vi=n.Vi):47===d?r=6:63===d?(i.zi=n.zi,i.ji=n.ji,i.Xi=n.Xi,i.Yi=n.Yi,i.$i=n.$i.slice(),i.Vi="",r=19):35===d?(i.zi=n.zi,i.ji=n.ji,i.Xi=n.Xi,i.Yi=n.Yi,i.$i=n.$i.slice(),i.Vi=n.Vi,i.Ki="",r=20):92===d&&Re(i)?r=6:(i.zi=n.zi,i.ji=n.ji,i.Xi=n.Xi,i.Yi=n.Yi,i.$i=n.$i.slice(),i.$i.pop(),r=17,v-=1);break;case 6:!Re(i)||47!==d&&92!==d?47===d?r=9:(i.zi=n.zi,i.ji=n.ji,i.Xi=n.Xi,i.Yi=n.Yi,r=17,v-=1):r=8;break;case 7:if(47!==d||47!==a[v+1]){r=8;continue}r=8,v+=1;break;case 8:47!==d&&92!==d&&(r=9,v-=1);break;case 9:if(64===d){s&&u.unshift(37,52,48),s=!0;for(var g=0;g<u.length;g++){var y=u[g];if(58!==y||c){var m=Ci(qi(y,Vi));c?i.ji+=m:i.zi+=m}else c=!0}u.length=0}else if(xe===d||47===d||63===d||35===d||Re(i)&&92===d){if(s&&0===u.length)throw new h("Invalid host");v-=u.length+1,u.length=0,r=10}else u.push(d);break;case 10:case 11:if(null!==e&&"file"===i.qi)v-=1,r=15;else if(58!==d||o)if(xe===d||47===d||63===d||35===d||Re(i)&&92===d){if(v-=1,Re(i)&&0===u.length)throw new h("Invalid host");if(null!==e&&0===u.length&&(Ie(i)||null!==i.Yi))return;var b=Qi(Ci(u),Re(i));if(i.Xi=b,u.length=0,r=16,null!==e)return}else 91===d?o=!0:93===d&&(o=!1),u.push(d);else{if(0===u.length)throw new h("Invalid host");var p=Qi(Ci(u),Re(i));if(i.Xi=p,u.length=0,r=12,11===e)return}break;case 12:if(si(d))u.push(d);else{if(!(xe===d||47===d||63===d||35===d||Re(i)&&92===d||null!==e))throw new h("Invalid port");if(0!==u.length){var _=l(Ci(u),10);if(_>65535)throw new h("Invalid port");i.Yi=_===pe[i.qi]?null:_,u.length=0}if(null!==e)return;r=16,v-=1}break;case 13:i.qi="file",47===d||92===d?r=14:n&&"file"===n.qi?xe===d?(i.Xi=n.Xi,i.$i=n.$i.slice(),i.Vi=n.Vi):63===d?(i.Xi=n.Xi,i.$i=n.$i.slice(),i.Vi="",r=19):35===d?(i.Xi=n.Xi,i.$i=n.$i.slice(),i.Vi=n.Vi,i.Ki="",r=20):(De(a.slice(v))||(i.Xi=n.Xi,i.$i=n.$i.slice(),Ae(i)),r=17,v-=1):(r=17,v-=1);break;case 14:47===d||92===d?r=15:(n&&"file"===n.qi&&!De(a.slice(v))&&(Oe(n.$i[0])?i.$i.push(n.$i[0]):i.Xi=n.Xi),r=17,v-=1);break;case 15:if(xe===d||47===d||92===d||63===d||35===d)if(v-=1,null===e&&Ne(u))r=17;else if(0===u.length){if(i.Xi=Yi,null!==e)return;r=16}else{var k=Qi(Ci(u),Re(i));if(0===k.Li&&"localhost"===k.Mi&&(k=Yi),i.Xi=k,null!==e)return;u.length=0,r=16}else u.push(d);break;case 16:Re(i)?(r=17,47!==d&&92!==d&&(v-=1)):null===e&&63===d?(i.Vi="",r=19):null===e&&35===d?(i.Ki="",r=20):xe!==d&&(r=17,47!==d&&(v-=1));break;case 17:if(xe===d||47===d||Re(i)&&92===d||null===e&&(63===d||35===d)){var T=Ci(u);if(Se(T)?(Ae(i),47===d||Re(i)&&92===d||i.$i.push("")):!Te(T)||47===d||Re(i)&&92===d?Te(T)||("file"===i.qi&&0===i.$i.length&&Ne(u)&&(Yi!==i.Xi&&null!==i.Xi&&(i.Xi=Yi),u[1]=58,T=Ci(u)),i.$i.push(T)):i.$i.push(""),u.length=0,"file"===i.qi&&(xe===d||63===d||35===d))for(;i.$i.length>1&&""===i.$i[0];)i.$i.shift();63===d?(i.Vi="",r=19):35===d&&(i.Ki="",r=20)}else u.push.apply(u,qi(d,Ui));break;case 18:63===d?(i.Vi="",r=19):35===d?(i.Ki="",r=20):xe!==d&&(i.$i[0]+=Ci(qi(d,Mi)));break;case 19:null===e&&35===d?(i.Ki="",r=20):xe!==d&&(i.Vi+=Ci(qi(d,Re(i)?Hi:Wi)));break;case 20:xe===d||0===d||(i.Ki+=Ci(qi(d,Fi)))}v++}return i}function Fe(t,n,i,e){try{Me(t,n,i,e)}catch(t){}}var Ue=function(){this.qi="",this.zi="",this.ji="",this.Xi=null,this.Yi=null,this.$i=[],this.Vi=null,this.Ki=null,this.Gi=!1};function Ve(t){switch(t.qi){case"blob":var n;try{n=Me(t.$i[0],null)}catch(t){return be}return Ve(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.qi,e=t.Xi,r=t.Yi,i+"://"+Zi(e)+(null===r?"":":"+r);case"file":default:return be}var i,e,r}var We,He=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof He&&"object"==typeof i.Ui)r=n.Ui;else try{r=Me(String(n),null)}catch(t){throw new h("Invalid base URL: "+t.message)}try{e=Me(String(t),r)}catch(t){throw new h("Invalid URL: "+t.message)}var u=e.Vi;this.Ui=e,this.Vi=function(t){var n=new de;return null!==t&&he(n,t),n}(u),this.Vi.Ui=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.qi+":";if(null!==t.Xi?(i+="//",Ie(t)&&(i+=t.zi,""!==t.ji&&(i+=":"+t.ji),i+="@"),i+=Zi(t.Xi),null!==t.Yi&&(i+=":"+t.Yi)):null===t.Xi&&"file"===t.qi&&(i+="//"),t.Gi)i+=t.$i[0];else for(var e=0,r=t.$i;e<r.length;e++)i+="/"+r[e];return null!==t.Vi&&(i+="?"+t.Vi),n||null===t.Ki||(i+="#"+t.Ki),i}(this.Ui)},set:function(t){var n;try{n=Me(String(t),null)}catch(t){throw new h("Invalid URL: "+t.message)}this.Ui=n,fe(this.Vi);var i=this.Ui.Vi;null!==i&&he(this.Vi,i)}},{key:"origin",get:function(){return Ve(this.Ui)}},{key:"protocol",get:function(){return this.Ui.qi+":"},set:function(t){Fe(t+":",null,this.Ui,0)}},{key:"username",get:function(){return this.Ui.zi},set:function(t){Pe(this.Ui)||(this.Ui.zi=zi(t,Vi))}},{key:"password",get:function(){return this.Ui.ji},set:function(t){Pe(this.Ui)||(this.Ui.ji=zi(t,Vi))}},{key:"host",get:function(){var t=this.Ui,n=t.Xi;if(null===n)return"";var i=t.Yi,e=Zi(n);return null!==i&&(e+=":"+i),e},set:function(t){this.Ui.Gi||Fe(t,null,this.Ui,10)}},{key:"hostname",get:function(){var t=this.Ui.Xi;return null===t?"":Zi(t)},set:function(t){this.Ui.Gi||Fe(t,null,this.Ui,11)}},{key:"port",get:function(){var t=this.Ui.Yi;return null===t?"":""+t},set:function(t){Pe(this.Ui)||(""===t?this.Ui.Yi=null:Fe(t,null,this.Ui,12))}},{key:"pathname",get:function(){var t=this.Ui.$i;return this.Ui.Gi?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Ui.Gi||(this.Ui.$i.length=0,Fe(t,null,this.Ui,16))}},{key:"search",get:function(){var t=this.Ui.Vi;return null===t||""===t?"":"?"+t},set:function(t){t=ue(t);var n=this.Ui;if(""===t)return n.Vi=null,void fe(this.Vi);"?"===t[0]&&(t=t.slice(1)),n.Vi="",Fe(t,null,n,19),he(this.Vi,t)}},{key:"searchParams",get:function(){return this.Vi}},{key:"hash",get:function(){var t=this.Ui.Ki;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Ui.Ki="",Fe(t,null,this.Ui,20)):this.Ui.Ki=null}}])&&zn(n.prototype,i),e&&zn(n,e),t}();function qe(t){return t.document&&t.document.baseURI||t.location.href||""}function ze(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function je(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function $e(){return void 0!==e?e.createElement("video"):void 0}function Xe(){return We||(We=$e()),We}var Ge=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!u||!u.msMaxTouchPoints),Ye=Xe(),Ke=!(!Ye||!Ye.webkitShowPlaybackTargetPicker),Je=function(){function t(){this.Ji=void 0,this.Qi=!1,this.fn=Ge,this.Sn=!1,this.Zi=!0,this.te=!0}var n=t.prototype;return n.ie=function(){return 0},n.ee=function(t,n){return!0},n.re=function(t){return t>=1/6*2},ft(t,[{key:"ue",get:function(){return void 0===this.Ji&&(this.Ji=this.ie()),this.Ji}},{key:"se",get:function(){return i.devicePixelRatio||1}},{key:"oe",get:function(){return Ke}},{key:"ce",get:function(){return!1}},{key:"ae",get:function(){return!0}},{key:"fe",get:function(){return St.Un||St._n}},{key:"he",get:function(){return!0}},{key:"ve",get:function(){return!0}},{key:"de",get:function(){return!1}},{key:"we",get:function(){}},{key:"ye",get:function(){return!0}},{key:"me",get:function(){return!1}}]),t}(),Qe=function(){var t=$e();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(St.bn)return!1;var t=$e();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Ze=function(t){function n(n){var i;return(i=t.call(this)||this).be=void 0,i.be=n,i.be&&(i.Qi=i.be.Qi,i.fn=i.be.fn,i.Zi=Qe&&i.be.Zi),i}vt(n,t);var i=n.prototype;return i.ie=function(){return this.be?this.be.ue:t.prototype.ie.call(this)},i.ee=function(n,i){return this.be?this.be.ee(n,i):t.prototype.ee.call(this,n,i)},i.re=function(n){return this.be?this.be.re(n):t.prototype.re.call(this,n)},ft(n,[{key:"we",get:function(){var t;return null==(t=this.be)?void 0:t.we}},{key:"ye",get:function(){var t,n;return null==(t=null==(n=this.be)?void 0:n.ye)||t}}]),n}(Je),tr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Qi=!0,i.Sn=!0,i}return vt(n,t),ft(n,[{key:"de",get:function(){return St._n}}]),n}(Ze),nr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ie=function(){return Z.MediaSource?t.prototype.ie.call(this):1},ft(n,[{key:"de",get:function(){return!0}}]),n}(tr),ir=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ee=function(n,i){return t.prototype.ee.call(this,n,i)},ft(n,[{key:"ce",get:function(){return St.On<3}},{key:"ae",get:function(){return St.On>=3}},{key:"me",get:function(){return St.On<3}}]),n}(Ze),er=function(t){function n(){return t.call(this)||this}return vt(n,t),n}(Je),rr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.ee=function(t,n){if(t&&t.pe&&n&&n.pe){var i=ur(t.pe,"mp4a.40.2")&&ur(n.pe,"mp4a.40.5"),e=ur(t.pe,"mp4a.40.5")&&ur(n.pe,"mp4a.40.2"),r=ur(t.pe,"mp4a.40.2")&&ur(n.pe,"mp4a.40.34"),u=ur(t.pe,"mp4a.40.34")&&ur(n.pe,"mp4a.40.2"),s=ur(t.pe,"mp4a.40.5")&&ur(n.pe,"mp4a.40.34"),o=ur(t.pe,"mp4a.40.34")&&ur(n.pe,"mp4a.40.5");return!(i||e||r||u||s||o)}return!0},ft(n,[{key:"we",get:function(){if(St.hn)return 4096}}]),n}(er);function ur(t,n){return t.indexOf(n)>-1}var sr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.re=function(t){return t>=2},n}(er),or=function(t){function n(){var n;return(n=t.call(this)||this).Qi=St.Vn>=11,n.Zi=St.Un&&!(St._n&&St.Vn<10),n}return vt(n,t),n}(er),cr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ft(n,[{key:"he",get:function(){return!1}}]),n}(Ze),ar=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ft(n,[{key:"ye",get:function(){return!St.vn||(St.Dn?92!==St.Cn:St.In>=100)}}]),n}(er),fr=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),ft(n,[{key:"de",get:function(){return!0}}]),n}(Ze),hr=function(){function n(){var n;this._e=void 0,this.ke=new Pn,this.Te=new vr,this.Se=(n=function(){if(St.Mn)return new rr;if(St.Pn||St.xn)return new sr;if(St.Un)return new or;if(St.Rn)return new ar;return new er}(),St._n?new nr(n):St.Sn?new tr(n):St.Nn?new ir(n):St.An?new cr(n):St.hn?new fr(n):new Ze(n)),this.Ee=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this._e=function(){return t.performance.now()}:this._e=En}var i=n.prototype;return i.Re=function(){jt.apply(void 0,arguments)},i.Ie=function(){$t.apply(void 0,arguments)},i.De=function(){Xt.apply(void 0,arguments)},i.Ce=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Gt.apply(void 0,[t].concat(i))},i.Ne=function(t,n){return s(t,n)},i.Oe=function(t,n){return c(t,n)},i.Ae=function(t){o(t)},i.Pe=function(t){a(t)},i.oi=function(t){return this.ke.oi(t)},i.xe=function(){return this.Le.xe()},i.Be=function(){return this.Le.Be()},i.Me=function(){return this.Le.Me()},i.Fe=function(){return this.Le.Fe()},i.Ue=function(){return this.Le.Ue()},i.Ve=function(t,n){return this.Le.Ve(t,n)},i.We=function(t){return this.Le.We(t)},i.He=function(t,n){var i;return void 0===n&&(n=qe(Z)),i="object"!=typeof n||n instanceof He?n:n.href,new He(t,i)},i.qe=function(n,i){if(void 0===i&&(i=qe(Z)),this.Ee){var e=Pt(i)?i:i.toString();return new t.URL(n,e).href}return this.He(n,i).href},ft(n,[{key:"ze",get:function(){return this.Te}},{key:"je",get:function(){return this.Se}},{key:"$e",get:function(){return{Xe:u&&u.userAgent.match(/Android /i)?"Android":"other",Ge:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"Ye",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Ke",get:function(){return"languages"in u?u.languages.slice():[u.language]}}]),n}(),vr=function(){function t(){}return ft(t,[{key:"Je",get:function(){return u.oscpu}},{key:"je",get:function(){return u.platform}},{key:"Qe",get:function(){return u.vendor}},{key:"Ze",get:function(){return u.vendorSub}}]),t}();var dr={exports:{}};!function(t){var n,i=v.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},u=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(t,n,i,e){var r=n&&n.prototype instanceof b?n:b,u=v.create(r.prototype),s=new O(e||[]);return u.tr=function(t,n,i){var e=d;return function(r,u){if(e===w)throw new f("Generator is already running");if(e===y){if("throw"===r)throw u;return P()}for(i.method=r,i.arg=u;;){var s=i.delegate;if(s){var o=D(s,i);if(o){if(o===m)continue;return o}}if("next"===i.method)i.sent=i.nr=i.arg;else if("throw"===i.method){if(e===d)throw e=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=w;var c=a(t,n,i);if("normal"===c.type){if(e=i.done?y:l,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(e=y,i.method="throw",i.arg=c.arg)}}}(t,i,s),u}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d="suspendedStart",l="suspendedYield",w="executing",y="completed",m={};function b(){}function p(){}function _(){}var k={};k[u]=function(){return this};var T=v.getPrototypeOf,S=T&&T(T(A([])));S&&S!==i&&e.call(S,u)&&(k=S);var E=_.prototype=b.prototype=v.create(k);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.tr(n,t)}})}function I(t){var n;this.tr=function(i,r){function u(){return new j(function(n,u){!function n(i,r,u,s){var o=a(t[i],t,r);if("throw"!==o.type){var c=o.arg,f=c.value;return f&&"object"==typeof f&&e.call(f,"ir")?j.resolve(f.ir).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):j.resolve(f).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,s)})}s(o.arg)}(i,r,n,u)})}return n=n?n.then(u,u):u()}}function D(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,D(t,i),"throw"===i.method))return m;i.method="throw",i.arg=new h("The iterator does not provide a 'throw' method")}return m}var r=a(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,m;var u=r.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,m):u:(i.method="throw",i.arg=new h("iterator result is not an object"),i.delegate=null,m)}function C(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function N(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function A(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!g(t.length)){var r=-1,s=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return s.next=s}}return{next:P}}function P(){return{value:n,done:!0}}p.prototype=E.constructor=_,_.constructor=p,_[o]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return v.setPrototypeOf?v.setPrototypeOf(t,_):(t.__proto__=_,o in t||(t[o]="GeneratorFunction")),t.prototype=v.create(E),t},t.awrap=function(t){return{ir:t}},R(I.prototype),I.prototype[s]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var u=new I(c(n,i,e,r));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(E),E[o]="Generator",E[u]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=A,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.nr=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!g(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=e.call(s,"catchLoc"),a=e.call(s,"finallyLoc");if(c&&a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!a)throw new f("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var u=r;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,m):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),m},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),N(i),m}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;N(i)}return r}}throw new f("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:A(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),m}}}(dr.exports);var lr=dr.exports;function wr(){return(wr=v.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)v.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function gr(){var t=v.create(null);return t.__=void 0,delete t.__,t}function yr(){return new pr}var mr,br="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,pr=br||(mr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=v.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=gr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=gr(),this.size=0},n.keys=function(){return new mr(this.data,function(t,n){return n})},n.values=function(){return new mr(this.data,function(t,n){return t[n]})},n.entries=function(){return new mr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var _r,kr,Tr=br||(_r=function(){function t(t,n){this.rr=void 0,this.ur=void 0,this.rr=t,this.ur=n}var n=t.prototype;return n.next=function(){var t=this.rr.next();return t.done?t:{value:this.ur(t.value),done:!1}},t}(),function(){function t(){this.sr=yr()}var n=t.prototype;return n.get=function(t){return this.sr.get(""+t)},n.set=function(t,n){return this.sr.set(""+t,n),this},n.has=function(t){return this.sr.has(""+t)},n.delete=function(t){return this.sr.delete(""+t)},n.clear=function(){this.sr.clear()},n.keys=function(){return new _r(this.sr.keys(),function(t){return Number(t)})},n.values=function(){return this.sr.values()},n.entries=function(){return new _r(this.sr.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.sr.forEach(function(n,i){t(n,Number(i))})},ft(t,[{key:"size",get:function(){return this.sr.size}}]),t}());!function(t){t.cr="9a04f079-9840-4286-ab92-e65be0885f95",t.ar="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.hr="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.dr="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(kr||(kr={}));var Sr,Er="cenc",Rr="sinf",Ir="skd",Dr=kr.cr,Cr="urn:uuid:"+Dr,Nr="com.microsoft.playready",Or=kr.ar,Ar="urn:uuid:"+Or,Pr=kr.hr,xr="urn:uuid:"+Pr,Lr=kr.dr,Br="urn:uuid:"+Lr,Mr="com.apple.fps.1_0";!function(t){t.cr="playready",t.ar="widevine",t.dr="fairplay",t.hr="clearkey",t.wr="aes128"}(Sr||(Sr={}));var Fr={gr:Sr.cr,yr:Nr,mr:"cenc",br:Dr,pr:Cr,_r:"PlayReady"},Ur={gr:Sr.ar,yr:"com.widevine.alpha",mr:"cenc",br:Or,pr:Ar,_r:"Widevine"},Vr={gr:Sr.dr,yr:Mr,mr:"skd",br:Lr,pr:Br,_r:"FairPlay"};Sr.dr;var Wr={gr:Sr.hr,yr:"org.w3.clearkey",mr:"cenc",br:Pr,pr:xr,_r:"ClearKey"};function Hr(t,n,i){return t.split(n).join(i)}function qr(t,n){return null!=t&&-1!==t.indexOf(n)}function zr(t,n){return null!=t&&t.substr(0,n.length)===n}function jr(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function $r(t,n){return t.toUpperCase()===n.toUpperCase()}function Xr(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Yr(n)}var Gr=16384;function Yr(t){var n=t.length;if(n<=Gr)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Gr)i.push(String.fromCharCode.apply(String,t.slice(e,e+Gr)));return i.join("")}var Kr=St.Rn&&St.In>=42||St.Mn&&St.Fn>=38||St.Pn||St.Ln||St.Wn&&St.Hn>=29;function Jr(t,n){return qr(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[wr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[wr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var Qr,Zr=function(){function t(t){this.kr=void 0,this.Tr=yr(),this.Sr=void 0,this.kr=t}var n=t.prototype;return n.Ue=function(){return this.We(Ur)},n.Be=function(){return this.We(Wr)},n.Fe=function(){return this.We(Fr)},n.Me=function(){return this.We(Vr)},n.We=function(t){var n=t.pr,i=this.Tr.get(n);if(i)return i;var e=this.Ve(t,'video/mp4; codecs="avc1.42000a"');return this.Tr.set(n,e),e},n.Ve=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,lr.awrap(this.kr.Er(t.yr,[Jr(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,lr.awrap(this.kr.Er(t.yr,[Jr(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],j)},n.xe=function(){return this.Sr||(this.Sr=this.Rr()),this.Sr},n.Rr=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==tt.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Kr){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,lr.awrap(this.Be());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,j)},t}();function tu(t,n){var i=function(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),u=1;u<e;u*=2){nu(i,n,u,r);var s=i;i=r,r=s}return i}(t,n);return i!==t&&nu(i,void 0,t.length,t),t}function nu(t,n,i,e){var r,u,s,o,c,a=t.length,f=0,h=2*i;for(u=0;u<a;u+=h)for(r=(s=u+i)+i,s>a&&(s=a),r>a&&(r=a),o=u,c=s;;)if(o<s&&c<r)n&&n(t[o],t[c])<=0?e[f++]=t[o++]:e[f++]=t[c++];else if(o<s)e[f++]=t[o++];else{if(!(c<r))break;e[f++]=t[c++]}}!function(t){t[t.Ir=0]="Ir",t[t.Dr=1]="Dr",t[t.Cr=-1]="Cr"}(Qr||(Qr={}));var iu=function(t,n){return(0|t)-(0|n)},eu=function(t,n){return t===n?Qr.Ir:t<n?Qr.Cr:t>n?Qr.Dr:g(t)?g(n)?Qr.Ir:Qr.Dr:Qr.Cr};function ru(t,n,i){return Tn(t,n,i)?Qr.Ir:eu(t,n)}var uu=function(t,n){return function(t,n){if(t===n)return!0;var i=d.abs(t-n);return i<_n||i<d.max(d.abs(t),d.abs(n))*_n}(t,n)?Qr.Ir:eu(t,n)};function su(t,n,i){var e=function(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function ou(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function cu(t,n){var i=t.indexOf(n);return-1!==i&&(au(t,i),!0)}function au(t,n){t.splice(n,1)}function fu(t,n){return-1!==t.indexOf(n)}function hu(t){t.length=0}var vu=function(){function t(){this.Nr=!1,this.Or=!1,this.Ar=[],this.Pr=[]}var n=t.prototype;return n.xr=function(){if(!this.Nr&&!this.Or){this.Nr=!0;for(var t=0,n=this.Ar.slice();t<n.length;t++){(0,n[t])()}this.Lr()}},n.Lr=function(){if(!this.Or){this.Or=!0;for(var t=0,n=this.Pr.slice();t<n.length;t++){(0,n[t])()}hu(this.Ar),hu(this.Pr)}},n.Br=function(t){this.Or||this.Ar.push(t)},n.Mr=function(t){this.Or||cu(this.Ar,t)},n.Fr=function(t){this.Or||this.Pr.push(t)},n.Ur=function(t){this.Or||cu(this.Pr,t)},t}(),du=function(){function t(){this.Vr=new vu}var n=t.prototype;return n.Wr=function(){this.Vr.xr()},n.Lr=function(){this.Vr.Lr()},n.Hr=function(t){var n=this.Vr;if(!n.Nr)if(t.Nr)n.xr();else if(!n.Or&&!t.Or){var i=function(){e(),n.xr()},e=function e(){t.Mr(i),t.Ur(e),n.Mr(i),n.Ur(e)};t.Br(i),t.Fr(e),n.Br(i),n.Fr(e)}},n.qr=function(){var n=new t,i=new t,e=n.zr,r=i.zr,u=this.Vr,s=function(){e.Nr&&r.Or||r.Nr&&e.Or?u.xr():e.Or&&r.Or&&u.Lr()};e.Br(s),r.Br(s),e.Fr(s),r.Fr(s),n.Hr(u),i.Hr(u);return u.Fr(function(){e.Mr(s),r.Mr(s),e.Ur(s),r.Ur(s)}),[n,i]},ft(t,[{key:"zr",get:function(){return this.Vr}}]),t}(),lu=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return"AbortError"}}]),n}(On);function wu(t){return t instanceof f&&"AbortError"===t.name}function gu(t){if(t&&t.Nr)throw new lu}function yu(t){if(wu(t))throw t}function mu(t){if(!wu(t))throw t}function bu(t,n){return n?new j(function(i,e){if(n.Nr)return t.catch(Mt),e(new lu);var r=function t(){n.Mr(t),e(new lu)};n.Br(r),t.then(function(t){n.Mr(r),i(t)},function(t){n.Mr(r),e(t)})}):t}function pu(t,n){return t.then(function(t){return n.Lr(),t},function(t){throw n.Lr(),t})}var _u=j.resolve();function ku(t){_u.then(t)}function Tu(t){t.then(Mt,Mt)}function Su(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,lr.awrap(j.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,lr.awrap(j.all(t.map(function(t){return t.catch(Mt)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],j)}function Eu(t,n){return new j(function(i,e){if(void 0!==n&&n.Nr)e(new lu);else{var r=st.Ne(function(){void 0!==n&&n.Mr(u),i()},t),u=function(){st.Ae(r),e(new lu)};void 0!==n&&n.Br(u)}})}function Ru(t){return t&&"function"!=typeof t?t.slice():t}function Iu(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var Du,Cu=function(){function t(t){var n=this;this.jr=gr(),this.$r=void 0,this.Xr=void 0,this.Gr=function(t){n.Yr(t)},this.Xr=t||this}var n=t.prototype;return n.Kr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Jr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Jr(e,n)}},n.Jr=function(t,n){var i=this.jr[t];i?"function"==typeof i?this.jr[t]=[i,n]:i.push(n):this.jr[t]=n},n.Qr=function(t){if("function"==typeof t){var n=this.$r;n?"function"==typeof n?this.$r=[n,t]:n.push(t):this.$r=t}},n.Zr=function(){this.jr=gr(),this.$r=void 0},n.Yr=function(t){var n=Ru(this.jr[t.type]),i=Ru(this.$r);Iu(this.Xr,t,n),Iu(this.Xr,t,i)},n.tu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.nu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.nu(e,n)}},n.nu=function(t,n){var i=this.jr[t];i&&("function"==typeof i?i===n&&(this.jr[t]=void 0):cu(i,n))},n.iu=function(t){if("string"==typeof t)this.jr[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.jr[i]=void 0}},n.eu=function(t){var n=this.$r;n&&("function"==typeof n?n===t&&(this.$r=void 0):cu(n,t))},n.ru=function(t,n){var i=this;return new j(function(e,r){if(n&&n.Nr)return r(new lu);var u=function(t){o(),e(t)},s=function(){o(),r(new lu)},o=function(){i.tu(t,u),n&&n.Mr(s)};i.Kr(t,u),n&&n.Br(s)})},t}(),Nu=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.Yr=function(n){var i=this;ku(function(){t.prototype.Yr.call(i,n)})},n}(Cu),Ou=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Au=["cenc"],Pu=["cbcs","cbcs-1-9"],xu=function(t){function n(n){var i;return(i=t.call(this,"su")||this).uu=n,i}return vt(n,t),n}(Ou),Lu=function(t){function n(n,i,e,r){var u;return(u=t.call(this,"ou")||this).uu=n,u.cu=i,u.ou=e,u.au=r,u}return vt(n,t),n}(Ou),Bu=function(t){function n(){return t.call(this,"fu")||this}return vt(n,t),n}(Ou);!function(t){t.hu="vu",t.du="lu"}(Du||(Du={}));var Mu=function(t){function n(n,i){var e;return(e=t.call(this,Du.hu)||this).mr=n,e.wu=i,e}return vt(n,t),n}(Ou),Fu=new y([0]).buffer,Uu=function(){function t(){this.gu=void 0,this.gu=[]}var n=t.prototype;return n.yu=function(t){for(var n=0,i=this.gu;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.mu=function(t){for(var n=0,i=this.gu;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.bu=function(t,n){this.gu.forEach(function(n){return t(n[1],n[0])},n)},n.pu=function(t,n){this.gu.push([t,n])},n._u=function(){hu(this.gu)},ft(t,[{key:"ku",get:function(){return this.gu.length}}]),t}(),Vu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Wu=16383,Hu=/[\t\n\f\r ]/g;function qu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:zu()}function zu(){throw new f("Invalid base64 input")}function ju(t){var n=t;Hu.test(n)&&(n=n.replace(Hu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return zu();for(var r,u=0===e?0:4-e,s=new y(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,c=0,a=0;c<o;c+=4)r=qu(n.charCodeAt(c))<<18|qu(n.charCodeAt(c+1))<<12|qu(n.charCodeAt(c+2))<<6|qu(n.charCodeAt(c+3)),s[a++]=r>>16&255,s[a++]=r>>8&255,s[a++]=255&r;return 2===u?(r=qu(n.charCodeAt(c))<<2|qu(n.charCodeAt(c+1))>>4,s[a++]=255&r):1===u&&(r=qu(n.charCodeAt(c))<<10|qu(n.charCodeAt(c+1))<<4|qu(n.charCodeAt(c+2))>>2,s[a++]=r>>8&255,s[a++]=255&r),s}function $u(t,n,i){for(var e,r,u,s=[],o=n;o<i;o+=3)s.push((e=t[o],r=t[o+1],u=t[o+2],Vu[e>>2]+Vu[(3&e)<<4|r>>4]+Vu[(15&r)<<2|u>>6]+Vu[63&u]));return s.join("")}function Xu(t){for(var n=t.length,i=n%3,e=[],r=n-i,u=0;u<r;u+=Wu)e.push($u(t,u,d.min(r,u+Wu)));if(1===i){var s=t[n-1];e.push(Vu[s>>2]+Vu[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],c=t[n-1];e.push(Vu[o>>2]+Vu[(3&o)<<4|c>>4]+Vu[(15&c)<<2]+"=")}return e.join("")}var Gu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Yu=ArrayBuffer.isView||function(t){return t&&fu(Gu,Rt.call(t))};function Ku(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function Ju(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var u=t[r];i.set(u,e),e+=u.byteLength}return i}(t,n)}function Qu(t){return ju(t).buffer}function Zu(t){return Xu(new y(t))}function ts(t){return Xu(Rs(t))}var ns=function(){function t(t){void 0===t&&(t=0),this.Tu=t}var n=t.prototype;return n.Su=function(t){this.Tu+=t},n.Eu=function(t){this.Tu=t},n.Ru=function(){return new t(this.Iu)},ft(t,[{key:"Iu",get:function(){return this.Tu}}]),t}();function is(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function es(t,n){return t>>n&63|128}function rs(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(is(t),n.push(t>>12&15|224),n.push(es(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(es(t,12)),n.push(es(t,6))),n.push(63&t|128)):n.push(t)}function us(t,n){if(n.Iu>=t.length)throw new f("Invalid byte index");var i=255&t[n.Iu];if(n.Su(1),128==(192&i))return 63&i;throw new f("Invalid continuation byte")}function ss(t,n){var i=n.Iu;if(i>t.length)throw new f("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Su(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|us(t,n);if(r>=128)return r;throw new f("Invalid continuation byte")}if(224==(240&e)){var u=(15&e)<<12|us(t,n)<<6|us(t,n);if(u>=2048)return is(u),u;throw new f("Invalid continuation byte")}if(240==(248&e)){var s=(7&e)<<18|us(t,n)<<12|us(t,n)<<6|us(t,n);if(s>=65536&&s<=1114111)return s}throw new f("Invalid UTF-8 detected")}var os=65279;var cs=function(){function t(t){this.Du=t}return t.prototype.Cu=function(t){return function(t,n){return(t&n)===n}(this.Du,t)},t}();function as(t,n){var i=t.getUint8(n.Iu);return n.Su(1),i}function fs(t,n,i){t.setUint8(n.Iu,i),n.Su(1)}function hs(t,n,i){var e=As(xs(t),n.Iu,n.Iu+i);return n.Su(e.byteLength),e}function vs(t,n,i){return n.Iu+i<=t.byteLength}function ds(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Iu,i);return n.Su(2),e}function ls(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Iu,i,e),n.Su(2)}function ws(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Iu,i);return n.Su(4),e}function gs(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Iu,i,e),n.Su(4)}function ys(t,n,i){void 0===i&&(i=!1);var e=ws(t,n,i),r=ws(t,n,i),u=i?r:e,s=i?e:r;return Kt.fromBits(s,u,!0)}function ms(t,n){var i=as(t,n);if(i)return String.fromCharCode(i)}function bs(t,n){return function(t,n){return ks(t,n,!0)}(t,n)}function ps(t,n,i){for(var e="",r=0;r<i;r++)e+=ms(t,n);return e}function _s(t,n){var i,e=as(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&as(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&as(t,n))+(63&as(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&as(t,n))+64*(63&as(t,n))+(63&as(t,n))),i}function ks(t,n,i){for(var e=[];n.Iu<t.byteLength;){var r=as(t,n);if(i&&!r)break;e.push(r)}return Yr(e)}function Ts(t,n,i,e){for(var r=[];n.Iu+2<=t.byteLength;){var u=ds(t,n,i);if(e&&!u)break;r.push(u)}return Yr(r)}function Ss(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,u=0;u<r;u+=1){ls(t,n,i.charCodeAt(u),e)}}function Es(t){return ks(Ps(t),new Us,!1)}function Rs(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)fs(t,n,i.charCodeAt(r))}(Ps(n),new Us,t),n}function Is(t,n){return void 0===n&&(n=!1),Ts(Ps(t),new Us,n,!1)}function Ds(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return Ss(Ps(i),new Us,t,n),i}function Cs(t,n){return function(t,n,i){var e=[];(function(t,n){return n.Iu+3<=t.byteLength&&239===t.getUint8(n.Iu)&&187===t.getUint8(n.Iu+1)&&191===t.getUint8(n.Iu+2)})(t,n)&&n.Su(3);for(;n.Iu<t.byteLength;){var r=_s(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Xr(e)}(t,n,!0)}function Ns(t){return Xr(function(t,n){var i,e=[],r=new Us;if(!n){if(!1===(i=ss(t,r)))return e;i===os||e.push(i)}for(;!1!==(i=ss(t,r));)e.push(i);return e}(xs(t)))}function Os(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)rs(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function As(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Ps(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function xs(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Ls(t){return t instanceof ArrayBuffer||Yu(t)}function Bs(t){return t instanceof ArrayBuffer?new y(t):xs(t)}function Ms(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Fs(As(t,n,i))}function Fs(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}var Us=function(){function t(t){void 0===t&&(t=0),this.Tu=t}var n=t.prototype;return n.Su=function(t){this.Tu+=t},n.Eu=function(t){this.Tu=t},n.Ru=function(){return new t(this.Iu)},n.Nu=function(){return new ns(this.Iu<<3)},ft(t,[{key:"Iu",get:function(){return this.Tu}}]),t}(),Vs=function(){function t(){var t=this;this.Ou=void 0,this.Au=void 0,this.Pu=void 0,this.Ou=new j(function(n,i){t.Au=n,t.Pu=i})}var n=t.prototype;return n.xu=function(t){this.Au&&(this.Au(t),this.Lr())},n.Lu=function(t){this.Pu&&(this.Pu(t),this.Lr())},n.Wr=function(){this.Ou.catch(Mt),this.Lu(new lu)},n.Lr=function(){this.Au=void 0,this.Pu=void 0},t}();function Ws(){return new y([8,4]).buffer}function Hs(t){return Ku(t,Ws())}function qs(t,n){return t===Nr?function(t){if(t.byteLength<2*zs.length)return t;if(Is(new DataView(t,0,2*zs.length),!0)===zs)return t;return n=t,Ds('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Zu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var zs="<PlayReady";var js=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,r)||this).Bu=void 0,u.Mu=void 0,u.Bu=i,u.Mu=e,u}return vt(n,t),n}(On),$s=function(t,n){return($s=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)v.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function Xs(t,n){if("function"!=typeof n&&null!==n)throw new h("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}$s(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}function Gs(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function Ys(t,n,i){return d.min(d.max(t,n),i)}function Ks(t,n){return t>>8-n}function Js(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.Fu=t,this.Uu=n}t.prototype.get=function(t){var n=this.Fu.get(t);if(0===this.Uu||void 0===n)return n;var i=this.Fu.get(t+1)||0,e=n&(1<<8-this.Uu)-1,r=i>>8-this.Uu;return(e<<this.Uu)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Fu.get(d.floor((t+this.Uu)/8));if(void 0!==n)return(n&1<<7-this.Uu-t%8)>0?1:0}},v.defineProperty(t.prototype,"bitLength",{get:function(){return this.Fu.bitLength-this.Uu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"length",{get:function(){return this.Fu.length},enumerable:!1,configurable:!0})}(),function(){function t(t){this.Vu=t,this.Wu=0,this.Hu=0}v.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Wu+this.Hu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"done",{get:function(){return this.Wu===this.Vu.length&&0===this.Hu},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Wu,bit:this.Hu}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Vu);return n.seek(this.Wu,this.Hu),n},t.prototype.canReadBits=function(t){return 8*this.Wu+t+this.Hu<=8*this.Vu.length},t.prototype.canReadBytes=function(t){return 0===this.Hu?this.Wu+t<=this.Vu.length:this.Wu+t<this.Vu.length},t.prototype.incBit=function(){this.Hu++,this.Hu>7&&(this.Wu++,this.Hu=0)},t.prototype.seek=function(t,n){this.Wu=t,this.Hu=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new f("Cannot read past end of buffer.");return this.Vu.get(this.Wu)>>7-this.Hu&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new f("Cannot read past end of buffer.");if(0===this.Hu)return this.Vu.get(this.Wu++);var t=Js(this.Vu.get(this.Wu),8-this.Hu),n=Ks(this.Vu.get(this.Wu+1),this.Hu);return this.Wu++,t<<this.Hu|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=0;if(0===this.Hu&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-d.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new f("Skipping over the buffer edge is not allowed.");var n=this.Hu+t;this.Wu+=n>>3,this.Hu=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)}}();var Qs=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1},Zs=function(){function t(){this.qu=[],this.zu=[],this.C=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,u=n;r<u.length;r++){var s=u[r];e.pushRange(s)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new f("The buffer length must be positive.");if(0!==i){if(0===this.zu.length)this.zu.push(0);else{var e=this.zu[this.zu.length-1]+this.qu[this.qu.length-1].length;this.zu.push(e)}this.qu.push(t.subarray(n,n+i)),this.C+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,u=this.qu;r<u.length;r++){var s=u[r];t.set(s,e),i+=s.length,e+=s.length}return i},t.prototype.clear=function(){this.qu=[],this.zu=[],this.C=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.zu[n];return this.qu[n][i]}},v.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.qu.length<1)return-1;if(this.qu.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.qu[0];return"number"==typeof t?Gs(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,u=0;u<=r&&!((u=Gs(t,i,u))<0||u>r);u++){for(var s=u+1,o=u+e,c=1;s<o&&t[s]===n[c];s++,c++);if(s===o)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var u=d.ceil((e+r)/2);i(t[u],n)<=0?e=u:r=u-1}return e}}}(this.zu,t,Qs)},t.prototype.join=function(){if(1===this.qu.length)return this.qu[0];var t=new y(this.length);return this.copyInternal(t,0),t},v.defineProperty(t.prototype,"length",{get:function(){return this.C},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new f("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new f("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*d.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=Ys(n,0,this.length),r=Ys(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var u=new t,s=this.findContainingBufferIndex(e),o=this.qu[s],c=e,a=c-this.zu[s];c+o.length-a<r;)u.pushRange(o,a,o.length-a),s+=1,a=(c+=o.length-a)-this.zu[s],o=this.qu[s];var f=r-c;return u.pushRange(o,a,f),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.qu.length-1,e=this.qu[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.qu[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),to=function(){function t(n){this.ju=n||t.BUFFER_CHUNK_SIZE,this.$u=!1,this.Xu=new Zs,this.Vu=new y(this.ju),this.Gu=0,this.Yu=0,this.Hu=7}return t.prototype.closeByte=function(){this.Vu[this.Gu++]=this.Yu,this.Gu>=this.ju&&this.closeBuffer(),this.Yu=0,this.Hu=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.Gu&&(this.Xu.pushRange(this.Vu,0,this.Gu),t&&(this.Vu=new y(this.ju)),this.Gu=0)},v.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Hu},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.$u)throw new f("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.$u=!0,this.Xu},t.prototype.writeBit=function(t){if(this.$u)throw new f("Cannot write to a closed BitWriter.");this.Yu|=t<<this.Hu,0===this.Hu?this.closeByte():this.Hu--},t.prototype.writeByte=function(t){if(this.$u)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Yu=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Hu;this.Yu|=Ks(t,n+1),this.closeByte(),this.Yu=Js(t,8-n)<<n+1,this.Hu=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.$u)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.Gu+t.length<=this.ju?(this.Vu.set(t,this.Gu),this.Gu+=t.length,this.Gu===this.ju&&this.closeBuffer()):(this.closeBuffer(),this.Xu.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Hu;this.Yu|=Ks(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=Js(t[i-1],8-n),r=Ks(t[i],n+1);this.Yu=e<<n+1|r,this.closeByte()}this.Yu=Js(t[t.length-1],8-n)<<n+1,this.Hu=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new f("Received a negative number.");if(n>32)throw new f("The max bitlength that can be provided is 32.");if(t>=d.pow(2,n))throw new f("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new f("The max bitlength that can be provided is 32.");if(d.abs(t)>=d.pow(2,n-1))throw new f("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+d.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new f("Received a negative number.");for(var n=d.floor(d.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),no=function(){function t(t){this.rb=new Zs,this.Ku=t}return t.prototype.closeWriter=function(){void 0!==this.Ku&&(this.rb=this.rb.concat(this.Ku.close()),this.Ku=void 0)},v.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Ku&&(this.Ku=new to),this.Ku},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),io=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new f("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(d.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new no;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=d.pow(2,32),t}();function eo(t,n){return t instanceof Kt?64===n:t<d.pow(2,n)}function ro(t,n){return d.round(t*d.pow(2,n))}function uo(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}var so=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!eo(i,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Xs(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.Ju},set:function(t){this.Ju=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(io);!function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}Xs(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(Zs.from(this.data))}}(io);var oo=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();function co(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){var n=t.length;if(n<=ao)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=ao)i.push(String.fromCharCode.apply(String,t.slice(e,e+ao)));return i.join("")}(n)}var ao=16384;function fo(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function ho(t,n,i){var e,r=function(t,n,i){void 0===n&&(n=0);void 0===i&&(i=t.byteLength);return new y(t.buffer,t.byteOffset+n,i-n)}(new y((e=t).buffer,e.byteOffset,e.byteLength),n.offset,n.offset+i);return n.shift(r.byteLength),r}function vo(t,n,i){return n.offset+i<=t.byteLength}function lo(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function wo(t,n,i){void 0===i&&(i=!1);var e=lo(t,n,i),r=lo(t,n,i),u=i?r:e,s=i?e:r;return Kt.fromBits(s,u,!0)}function go(t,n){var i=fo(t,n);if(i)return String.fromCharCode(i)}function yo(t,n,i){for(var e="",r=0;r<i;r++)e+=go(t,n);return e}function mo(t,n){var i,e=fo(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&fo(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&fo(t,n))+(63&fo(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&fo(t,n))+64*(63&fo(t,n))+(63&fo(t,n))),i}function bo(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=mo(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return co(e)}(t,n,!0)}var po=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new oo(this.offset<<3)},t}(),_o=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return fo(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return lo(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=lo(t,n,i),r=lo(t,n,i),u=i?r:e,s=i?e:r;return Kt.fromBits(s,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return wo(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return ho(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(lo(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return yo(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return bo(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function ko(t,n){return t.type===n}var To=8;function So(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!vo(t,n,To)){var e=n.offset+To;return{complete:!1,neededOffset:e}}var r=lo(t,n),u=yo(t,n,4);if(1===r){if(!vo(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=wo(t,n).toNumber()}if("uuid"===u){if(!vo(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}u=yo(t,n,16)}var s=n.offset;return{complete:!0,header:{type:u,size:r,headerSize:s-i}}}(t,n);if(!e.complete)return e;var r=e.header,u=r.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var c,a,f,h={type:r.type,offset:i,data:new _o((c=t,a=i,f=s,void 0===a&&(a=0),void 0===f&&(f=c.byteLength),new DataView(c.buffer,c.byteOffset+a,f-a)),new po(r.headerSize))};return n.seek(s),{complete:!0,box:h}}!function(t){function n(){return t.call(this,"mdir")||this}Xs(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var u=t.call(this,"hdlr",e,r)||this;return u.name=i,u.handlerType=n,u}return Xs(n,t),v.defineProperty(n.prototype,"handlerType",{get:function(){return this.Qu},set:function(t){this.Qu=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(so));var Eo=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},v.defineProperty(t.prototype,"tag",{get:function(){return this.Zu},set:function(t){if(!eo(t,8))throw new f("Provided tag does not fit in 8 bits.");this.Zu=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o={});var c=t.call(this,4,o.fixed28BitMode)||this;return c.upStream=e,c.decoderSpecificInfo=s,c.objectTypeIndication=n,c.streamType=i,c.bufferSizeDb=r,c.maxBitrate=u.max,c.avgBitrate=u.avg,c}Xs(n,t),v.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.ts},set:function(t){if(!eo(t,8))throw new f("Provided objectTypeIndication does not fit in 8 bits.");this.ts=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamType",{get:function(){return this.es},set:function(t){if(!eo(t,6))throw new f("Provided streamType does not fit in 6 bits.");this.es=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.rs},set:function(t){if(!eo(t,24))throw new f("Provided bufferSizeDb does not fit in 24 bits.");this.rs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.us},set:function(t){if(!eo(t,32))throw new f("Provided maxBitrate does not fit in 32 bits.");this.us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.ss},set:function(t){if(!eo(t,32))throw new f("Provided avgBitrate does not fit in 32 bits.");this.ss=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Eo),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}Xs(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(Zs.from(this.data))}}(Eo);var Ro=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return Xs(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Eo);!function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,3,r.fixed28BitMode)||this;return u.decoderConfigDescriptor=e,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==r?void 0:r.dependsOnEsId,u.urlString=null==r?void 0:r.url,u.ocrEsId=null==r?void 0:r.ocrEsId,u.slConfigDescriptor=new Ro(r.fixed28BitMode),u}Xs(n,t),v.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"esId",{get:function(){return this.os},set:function(t){if(!eo(t,16))throw new f("Provided esId does not fit in 16 bits.");this.os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamPriority",{get:function(){return this.cs},set:function(t){if(!eo(t,5))throw new f("Provided streamPriority does not fit in 5 bits.");this.cs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.as},set:function(t){if(t&&!eo(t,16))throw new f("Provided dependsOnEsId does not fit in 16 bits.");this.as=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.fs},set:function(t){if(t&&!eo(t,16))throw new f("Provided ocrEsId does not fit in 16 bits.");this.fs=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Eo);var Io=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return Xs(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(io),Do=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Xs(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Io),Co=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return Xs(n,t),v.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.hs},set:function(t){if(!eo(t,16))throw new f("Provided dataReferenceIndex does not fit in 16 bits.");this.hs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Do),No=function(t){function n(n,i,e,r){var u,s,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(u=e.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=e.sampleSize)&&void 0!==s?s:16,o.sampleRate=e.sampleRate,o}return Xs(n,t),v.defineProperty(n.prototype,"channelCount",{get:function(){return this.vs},set:function(t){if(!eo(t,16))throw new f("Provided channelCount does not fit in 16 bits.");this.vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleSize",{get:function(){return this.ds},set:function(t){if(!eo(t,16))throw new f("Provided sampleSize does not fit in 16 bits.");this.ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleRate",{get:function(){return this.ls},set:function(t){if(!eo(ro(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.ls=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(ro(this.sampleRate,16),32),this.extra&&uo(n.writer,this.extra)},n}(Co);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}Xs(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){if(!eo(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!eo(t,32)}))throw new f("Not all entries can be represented in 32 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(so),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}Xs(n,t),v.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.ys},set:function(t){if(!eo(t,32))throw new f("Provided cleanApertureWidthN does not fit in 32 bits.");this.ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.bs},set:function(t){if(!eo(t,32))throw new f("Provided cleanApertureWidthD does not fit in 32 bits.");this.bs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.ps},set:function(t){if(!eo(t,32))throw new f("Provided cleanApertureHeightN does not fit in 32 bits.");this.ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this._s},set:function(t){if(!eo(t,32))throw new f("Provided cleanApertureHeightD does not fit in 32 bits.");this._s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffN",{get:function(){return this.ks},set:function(t){if(!eo(t,32))throw new f("Provided horizOffN does not fit in 32 bits.");this.ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Ts},set:function(t){if(!eo(t,32))throw new f("Provided horizOffD does not fit in 32 bits.");this.Ts=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Ss},set:function(t){if(!eo(t,32))throw new f("Provided vertOffN does not fit in 32 bits.");this.Ss=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffD",{get:function(){return this.Es},set:function(t){if(!eo(t,32))throw new f("Provided vertOffD does not fit in 32 bits.");this.Es=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(io),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}Xs(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){if(!eo(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!eo(t.sampleCount,32)||!eo(t.sampleOffset,32)}))throw new f("Not all entries can be represented in 64 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(so),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}Xs(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Rs},set:function(t){this.flags=void 0===t?1:0,this.Rs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(so),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}Xs(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Rs},set:function(t){if(1&this.flags)throw new f("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Rs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(so),function(t){function n(){return t.call(this,"dinf")||this}Xs(n,t)}(Do);var Oo=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!eo(i,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Xs(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.Ju},set:function(t){this.Ju=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Io);!function(t){function n(){return t.call(this,"dref",0,0)||this}Xs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Oo);var Ao=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return Xs(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!eo(e.segmentDuration,this.bitSize))throw new f("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!eo(e.mediaTime,this.bitSize))throw new f("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!eo(e.mediaRateInteger,16))throw new f("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!eo(e.mediaRateFraction,16))throw new f("Provided mediaRateFraction does not fit in 16 bits.")}this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(so);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}Xs(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(Ao),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}Xs(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(Ao),function(t){function n(){return t.call(this,"edts")||this}Xs(n,t)}(Do);var Po=function(t){function n(n,i,e,r){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=e,u.compatibleBrands=r,u}return Xs(n,t),v.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Is},set:function(t){if(4!==t.length)throw new f("the provided major brand does not conform to the 4 character requirement");this.Is=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Ds},set:function(t){if(!eo(t,32))throw new f("the provided minor version does not fit in 32 bits.");this.Ds=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Cs},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new f("Some of the compatible brands do not conform to the 4 character requirement");this.Cs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(io);!function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}Xs(n,t)}(Po),function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}Xs(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(Zs.from(this.data))}}(io);var xo,Lo=function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=t.call(this,"mdhd",e,r)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u}return Xs(n,t),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ns},set:function(t){if(!eo(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ns=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Os},set:function(t){if(!eo(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.As},set:function(t){if(!eo(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Ps},set:function(t){if(!eo(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"language",{get:function(){return this.xs},set:function(t){if(!function(t){return/^[a-z]{3}$/.test(t)}(t))throw new f("Expected an ISO-639-2/T language code");this.xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(so);!function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}Xs(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}}(Lo),function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}Xs(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(Lo),function(t){function n(){return t.call(this,"mdia")||this}Xs(n,t)}(Do),function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new Zs,n}Xs(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}}(io),function(t){function n(){return t.call(this,"minf")||this}Xs(n,t)}(Do),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}Xs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Oo),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(xo||(xo={}));var Bo,Mo,Fo={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Uo(t,n){n.writer.writeUInt(ro(t.a,16),32),n.writer.writeUInt(ro(t.b,16),32),n.writer.writeUInt(ro(0,30),32),n.writer.writeUInt(ro(t.c,16),32),n.writer.writeUInt(ro(t.d,16),32),n.writer.writeUInt(ro(0,30),32),n.writer.writeUInt(ro(t.x,16),32),n.writer.writeUInt(ro(t.y,16),32),n.writer.writeUInt(ro(1,30),32)}function Vo(t,n){var i,e,r,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Bo.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Mo.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Mo.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:Mo.UNKNOWN,2)}function Wo(t,n){var i,e,r;n.writer.writeUInt(0,4),Vo(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Bo||(Bo={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Mo||(Mo={}));var Ho=function(){return function(){}}(),qo=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return Xs(n,t),v.defineProperty(n.prototype,"systemId",{get:function(){return this.Ls},set:function(t){if(16!==t.length)throw new f("Provided systemId length is not 16.");this.Ls=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"data",{get:function(){return this.P},set:function(t){if(!eo(t.length,32))throw new f("Provided data length does not fit in 32 bits.");this.P=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(Zs.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(Zs.from(this.data))},n}(so),zo=function(t){function n(n,i){return t.call(this,0,n,i)||this}return Xs(n,t),n}(qo),jo=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return Xs(n,t),v.defineProperty(n.prototype,"kIds",{get:function(){return this.Bs},set:function(t){if(!eo(t.length,32))throw new f("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new f("Not all provided key ids are 16 bytes long.");this.Bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(Zs.from(e))}},n}(qo);var $o=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return Xs(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Ms},set:function(t){if(!eo(t,this.bitSize))throw new f("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Ms=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(so);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}Xs(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)}}($o),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}Xs(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)}}($o),function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var u,s,o,c=this;return(c=t.call(this,"trex",e,r)||this).trackId=n,c.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,c.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,c.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,c.defaultSampleFlags=i.sampleFlags,c}Xs(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Fs},set:function(t){if(!eo(t,32))throw new f("Provided track id does not fit in 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Us},set:function(t){if(!eo(t,32))throw new f("Provided default sample description index does not fit in 32 bits.");this.Us=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Vs},set:function(t){if(!eo(t,32))throw new f("Provided default sample duration does not fit in 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ws},set:function(t){if(!eo(t,32))throw new f("Provided default sample size does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Hs},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!eo(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!eo(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.Hs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Wo(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)}}(so),function(t){function n(){return t.call(this,"mvex")||this}Xs(n,t)}(Do);var Xo=function(t){function n(i,e,r,u,s){void 0===s&&(s=0);var o,c,a,f=this;return(f=t.call(this,"mvhd",u,s)||this).creationTime=i.creation,f.modificationTime=i.modification,f.timescale=i.scale,f.duration=i.duration,f.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,f.volume=null!==(c=r.volume)&&void 0!==c?c:n.DEFAULT_VOLUME,f.matrix=null!==(a=r.matrix)&&void 0!==a?a:Fo,f.qs=e,f}return Xs(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ns},set:function(t){if(!eo(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ns=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Os},set:function(t){if(!eo(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.As},set:function(t){if(!eo(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Ps},set:function(t){if(!eo(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"rate",{get:function(){return this.zs},set:function(t){if(!eo(ro(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.js},set:function(t){if(!eo(ro(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.$s},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.$s=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.qs},set:function(t){if(0===t)throw new f("NextTrackId cannot be 0.");if(!eo(t,32))throw new f("NextTrackId cannot exceed 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(ro(this.rate,16),32),n.writer.writeUInt(ro(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Uo(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(so);!function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}Xs(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}}(Xo),function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}Xs(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(Xo);var Go=function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o={});var c,a,f,h=this;return(h=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,h.modificationTime=i.modification,h.trackId=e,h.duration=i.duration,h.volume=r,h.width=u,h.height=s,h.layer=null!==(c=o.layer)&&void 0!==c?c:0,h.alternateGroup=null!==(a=o.alternateGroup)&&void 0!==a?a:0,h.matrix=null!==(f=o.matrix)&&void 0!==f?f:Fo,h}return Xs(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ns},set:function(t){if(!eo(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ns=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Os},set:function(t){if(!eo(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Os=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Fs},set:function(t){if(0===t)throw new f("trackId cannot be 0.");if(!eo(t,32))throw new f("trackId cannot exceed 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Ps},set:function(t){if(!eo(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ps=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.js},set:function(t){if(!eo(ro(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.js=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"width",{get:function(){return this.Xs},set:function(t){if(!eo(ro(t,16),32))throw new f("Provided width does not fit in 32 bits (fixed 16.16).");this.Xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.Gs},set:function(t){if(!eo(ro(t,16),32))throw new f("Provided height does not fit in 32 bits (fixed 16.16).");this.Gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"layer",{get:function(){return this.Ys},set:function(t){if(!eo(t,16))throw new f("Provided layer does not fit in 16 bits.");this.Ys=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Ks},set:function(t){if(!eo(t,16))throw new f("Provided alternateGroup does not fit in 16 bits.");this.Ks=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.$s},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.$s=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(ro(this.volume,8),16),n.writer.writeUInt(0,16),Uo(this.matrix,n),n.writer.writeUInt(ro(this.width,16),32),n.writer.writeUInt(ro(this.height,16),32)},n}(so);!function(t){function n(n,i,e,r,u,s){return t.call(this,0,n,i,e,r,u,s)||this}Xs(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)}}(Go),function(t){function n(n,i,e,r,u,s){return t.call(this,1,n,i,e,r,u,s)||this}Xs(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(Go),function(t){function n(){return t.call(this,"trak")||this}Xs(n,t)}(Do),function(t){function n(){return t.call(this,"moov")||this}Xs(n,t)}(Do);var Yo=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return Xs(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.Js},set:function(t){if(!eo(t,this.bitSize))throw new f("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.Js=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(so);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}Xs(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)}}(Yo),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}Xs(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)}}(Yo),function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}Xs(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Fs},set:function(t){if(!eo(t,32))throw new f("Provided track id does not fit in 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Qs},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is not set.");if(t&&!eo(t,64))throw new f("Provided baseDataOffset does not fit in 32 bits.");this.Qs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Zs},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is not set.");if(t&&!eo(t,32))throw new f("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Zs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Vs},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is not set.");if(t&&!eo(t,32))throw new f("Provided defaultSampleDuration does not fit in 32 bits.");this.Vs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ws},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is not set.");if(t&&!eo(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Hs},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!eo(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!eo(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.Hs=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Wo(this.defaultSampleFlags,n)}}(so),function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}Xs(n,t),v.defineProperty(n.prototype,"dataOffset",{get:function(){return this.to},set:function(t){if(t&&!eo(t,32))throw new f("Provided data offset does not fit in 32 bits.");this.to=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.io},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!eo(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!eo(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.io=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.eo},set:function(t){var n,i;if(!eo(t.length,32))throw new f("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var u=r[e];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new f("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new f("The sample duration present flag is not set.");if(u.duration&&!eo(u.duration,32))throw new f("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new f("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new f("The sample size present flag is not set.");if(u.size&&!eo(u.size,32))throw new f("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!eo(u.flags.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!eo(u.flags.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!eo(u.compositionTimeOffset,32))throw new f("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.eo=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Wo(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&Wo(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}}}(so),function(t){function n(){return t.call(this,"traf")||this}Xs(n,t)}(Do),function(t){function n(){return t.call(this,"moof")||this}Xs(n,t)}(Do),function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}Xs(n,t),v.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.ro},set:function(t){if(!eo(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.ro=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(so);var Ko=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return Xs(n,t),v.defineProperty(n.prototype,"codingName",{get:function(){return this.uo},set:function(t){if(4!==t.length)throw new f("Provided coding name was not 4 characters long.");this.uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(io);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}Xs(n,t),v.defineProperty(n.prototype,"hSpacing",{get:function(){return this.so},set:function(t){if(!eo(t,32))throw new f("Provided hSpacing does not fit in 32 bits.");this.so=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vSpacing",{get:function(){return this.oo},set:function(t){if(!eo(t,32))throw new f("Provided vSpacing does not fit in 32 bits.");this.oo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(io),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}Xs(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Do),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new Ko(n),r}Xs(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(io);var Jo=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return Xs(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){var n=this;if(!eo(t.length,32))throw new f("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!eo(t,n.bitSize)}))throw new f("Not all provided entries fit in ".concat(this.bitSize," bits."));this.gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.co},set:function(t){if(void 0===t)this.flags=0;else{if(!eo(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!eo(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.co=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(so);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Xs(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(Jo),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Xs(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(Jo),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}Xs(n,t),v.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.ao},set:function(t){if(!eo(t,8))throw new f("Provided defaultSampleInfoSize does not fit in a single byte.");this.ao=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.fo},set:function(t){if(!eo(t.length,32))throw new f("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!eo(t,8)}))throw new f("Not all provided sampleInfoSizes fit in a byte.");this.fo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.co},set:function(t){if(void 0===t)this.flags=0;else{if(!eo(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!eo(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.co=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0===this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0===this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new f("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(so),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}Xs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Vo(e[i],n)}}}(so),function(t){function n(n){return t.call(this,"stsd",n,0)||this}Xs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Oo);var Qo=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return Xs(n,t),v.defineProperty(n.prototype,"groupingType",{get:function(){return this.ho},set:function(t){if(4!==t.length)throw new f("The provided groupingType does not equal 4 characters.");this.ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(so);!function(t){function n(n,i){return t.call(this,0,n,i)||this}Xs(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(Qo),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}Xs(n,t),v.defineProperty(n.prototype,"defaultLength",{get:function(){return this.vo},set:function(t){if(!eo(t,32))throw new f("The provided defaultLength does not fit in 32 bits.");this.vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(Qo),function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=this;if(n<2)throw new f("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,u}Xs(n,t),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Us},set:function(t){if(!eo(t,32))throw new f("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Us=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(Qo),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}Xs(n,t),v.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.do},set:function(t){if(!eo(t.length,32))throw new f("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!eo(t,32)}))throw new f("Not all sampleSizes can be represented in 32 bits.");this.do=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(so),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}Xs(n,t),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ws},set:function(t){if(!eo(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.Ws=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.eo},set:function(t){if(!eo(t,32))throw new f("Number of allowed samples cannot fit in 32 bits.");this.eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(so),function(t){function n(){return t.call(this,"stbl")||this}Xs(n,t)}(Do),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}Xs(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){if(!eo(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!eo(t.firstChunk,32)||!eo(t.sampleDescriptionIndex,32)||!eo(t.samplesPerChunk,32)}))throw new f("Not all entries can be represented in 96 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(so),function(t){function n(){return t.call(this,"schi")||this}Xs(n,t)}(Do),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}Xs(n,t),v.defineProperty(n.prototype,"schemeType",{get:function(){return this.lo},set:function(t){if(4!==t.length)throw new f("The provided schemeType does not have a length of 4.");this.lo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.wo},set:function(t){if(!eo(t,32))throw new f("The provided schemeVersion does not fit in 23 bits.");this.wo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeUri",{get:function(){return this.yo},set:function(t){if(t&&4!==t.length)throw new f("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.yo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(so);var Zo=function(t){function n(n,i,e,r,u,s,o){void 0===o&&(o=0);var c=t.call(this,"sidx",n,o)||this;return c.referenceId=i,c.timescale=e,c.earliestPresentationTime=r,c.firstOffset=u,c.references=s,c}return Xs(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"referenceId",{get:function(){return this.mo},set:function(t){if(!eo(t,32))throw new f("Provided referenceId does not fit in 32 bits.");this.mo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.As},set:function(t){if(!eo(t,32))throw new f("Provided timescale does not fit in 32 bits.");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.bo},set:function(t){if(!eo(t,this.bitSize))throw new f("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.bo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstOffset",{get:function(){return this.po},set:function(t){if(!eo(t,this.bitSize))throw new f("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.po=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"references",{get:function(){return this._o},set:function(t){if(!eo(t.length,16))throw new f("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!eo(e.referencedSize,31))throw new f("Provided referenced size does not fit in 31 bits.");if(!eo(e.subsegmentDuration,32))throw new f("Provided subsegment duration does not fit in 31 bits.");if(!eo(e.sapType,3))throw new f("Provided SAP type does not fit in 3 bits.");if(!eo(e.sapDeltaTime,28))throw new f("Provided SAP delta time does not fit in 28 bits.")}this._o=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(so);!function(t){function n(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,e,r,u,s)||this}Xs(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)}}(Zo),function(t){function n(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,e,r,u,s)||this}Xs(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)}}(Zo),function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}Xs(n,t)}(Po),function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}Xs(n,t),v.defineProperty(n.prototype,"balance",{get:function(){return this.ko},set:function(t){if(t<-1||t>1)throw new f("Provided balance does not fit in the allowed range [-1, 1].");if(!eo(ro(t,8),16))throw new f("Provided balance does not fit in 16 bits (fixed 8.8).");this.ko=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(ro(this.balance,8),16),n.writer.writeUInt(0,16)}}(so),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}Xs(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){if(!eo(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!eo(t,32)}))throw new f("Not all entries can be represented in 32 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(so),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}Xs(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.gs},set:function(t){if(!eo(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!eo(t.sampleCount,32)||!eo(t.sampleDelta,32)}))throw new f("Not all entries can be represented in 64 bits.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(so),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}Xs(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.Fs},set:function(t){if(!eo(t,32))throw new f("The provided trackId does not fit in 32 bits.");this.Fs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Oo),function(t){function n(){return t.call(this,"udta")||this}Xs(n,t)}(Do);var tc={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=tc);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}Xs(n,t),v.defineProperty(n.prototype,"opColor",{get:function(){return this.To},set:function(t){if(!eo(t.red,16)||!eo(t.green,16)||!eo(t.blue,16))throw new f("Not all colors could be represented in 16 bits.");this.To=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(so);var nc=function(t){function n(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var s,o,c,a,f,h=this;return(h=t.call(this,n,i)||this).width=e.width,h.height=e.height,h.horizontalResolution=null!==(s=e.horizontal)&&void 0!==s?s:72,h.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,h.compressorName=null!==(c=r.compressorName)&&void 0!==c?c:"",h.frameCount=null!==(a=r.frameCount)&&void 0!==a?a:1,h.depth=null!==(f=r.depth)&&void 0!==f?f:24,h.clap=r.clap,h.pasp=r.pasp,h.extra=u,h}return Xs(n,t),v.defineProperty(n.prototype,"width",{get:function(){return this.Xs},set:function(t){if(!eo(t,16))throw new f("Provided width does not fit in 16 bits.");this.Xs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.Gs},set:function(t){if(!eo(t,16))throw new f("Provided height does not fit in 16 bits.");this.Gs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.So},set:function(t){if(!eo(ro(t,16),32))throw new f("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.So=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.Eo},set:function(t){if(!eo(ro(t,16),32))throw new f("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.Eo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compressorName",{get:function(){return this.Ro},set:function(t){if(t.length>31)throw new f("The provided compressorName should at most be 31 characters long.");this.Ro=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"frameCount",{get:function(){return this.Io},set:function(t){if(!eo(t,16))throw new f("Provided frameCount does not fit in 16 bits.");this.Io=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"depth",{get:function(){return this.Do},set:function(t){if(!eo(t,16))throw new f("Provided depth does not fit in 16 bits.");this.Do=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(ro(this.horizontalResolution,16),32),n.writer.writeUInt(ro(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&uo(n.writer,this.extra)},n}(Co);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}Xs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(Zs.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(so),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}Xs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(No),function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,"mp4v",n,i,r)||this;return u.esDescriptor=e,u}Xs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(nc),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}Xs(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Co),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}Xs(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(io),function(){function t(t,n,i,e,r,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}v.defineProperty(t.prototype,"version",{get:function(){return this.Co},set:function(t){if(!eo(t,8))throw new f("Provided version does not fit in 8 bits.");this.Co=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"profileIndication",{get:function(){return this.No},set:function(t){if(!eo(t,8))throw new f("Provided profileIndication does not fit in 8 bits.");this.No=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.Oo},set:function(t){if(!eo(t,8))throw new f("Provided profileCompatibility does not fit in 8 bits.");this.Oo=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"levelIndication",{get:function(){return this.Ao},set:function(t){if(!eo(t,8))throw new f("Provided levelIndication does not fit in 8 bits.");this.Ao=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"spsSets",{get:function(){return this.Po},set:function(t){if(!eo(t.length,5))throw new f("Provided number of spsSets exceeds the max (32)");this.Po=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"ppsSets",{get:function(){return this.xo},set:function(t){if(!eo(t.length,8))throw new f("Provided number of ppsSets exceeds the max (256)");this.xo=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(Zs.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,u=this.ppsSets;r<u.length;r++){var s=u[r];t.writer.writeUInt(s.length,16),t.concat(Zs.from(s))}}}(),function(t){function n(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var s=t.call(this,"avc1",n,i,r)||this;return s.configurationBox=e,s.bitrateBox=u,s}Xs(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(nc),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}Xs(n,t),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.rs},set:function(t){if(!eo(t,32))throw new f("Provided bufferSizeDb does not fit in 32 bits.");this.rs=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"max",{get:function(){return this.Lo},set:function(t){if(!eo(t,32))throw new f("Provided max does not fit in 32 bits.");this.Lo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avg",{get:function(){return this.Bo},set:function(t){if(!eo(t,32))throw new f("Provided avg does not fit in 32 bits.");this.Bo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(io);var ic=function(t){function n(n,i){var e,r,u,s,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new f("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new y(0),o}return Xs(n,t),v.defineProperty(n.prototype,"isProtected",{get:function(){return this.Mo},set:function(t){if(!eo(t,8))throw new f("Provided isProtected does not fit in 1 byte.");this.Mo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Fo},set:function(t){if(![8,16].includes(t))throw new f("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Fo=t,this.Uo=new y(0)},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"kId",{get:function(){return this.Vo},set:function(t){if(16!==t.length)throw new f("Provided kId length is not 16.");this.Vo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"constantIv",{get:function(){return this.Uo},set:function(t){if(![8,16].includes(t.length))throw new f("Provided constant IV length does not match any allowed value [8, 16].");this.Uo=t,this.Fo=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),uo(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),uo(t.writer,this.constantIv))},n}(so);!function(t){function n(n){return t.call(this,0,n)||this}Xs(n,t)}(ic);var ec=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return Xs(n,t),v.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Wo},set:function(t){if(!eo(t,4))throw new f("Provided cryptByteBlocks does not fit in 4 bits.");this.Wo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Ho},set:function(t){if(!eo(t,4))throw new f("Provided skipByteBlocks does not fit in 4 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(ic);function rc(t){return void 0!==t.iv}function uc(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new ec(n),i}Xs(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Ho),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}Xs(n,t),v.defineProperty(n.prototype,"samples",{get:function(){return this.eo},set:function(t){var n;if(!eo(t.length,32))throw new f("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(rc(r)&&![8,16].includes(r.iv.length))throw new f("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=uc(r)),!0===n&&!uc(r)||!1===n&&uc(r))throw new f("Mix of samples with and without subsamples detected.");if(uc(r)){if(!eo(r.subsamples.length,16))throw new f("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];if(!eo(o.clearData,16))throw new f("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!eo(o.protectedData,23))throw new f("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];rc(r)&&(n+=r.iv.length),uc(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(rc(r)&&uo(n.writer,r.iv),uc(r)){n.writer.writeUInt(r.subsamples.length,16);for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(so),function(t){function n(n,i,e,r,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=e,s.timescale=r.timescale,s.presentationTimeDelta=r.presentationTimeDelta,s.eventDuration=r.eventDuration,s}Xs(n,t),v.defineProperty(n.prototype,"timescale",{get:function(){return this.As},set:function(t){if(!eo(t,32))throw new f("The provided timescale does not fit in 32 bits.");this.As=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.qo},set:function(t){if(!eo(t,32))throw new f("The provided presentationTimeDelta does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"eventDuration",{get:function(){return this.zo},set:function(t){if(!eo(t,32))throw new f("The provided eventDuration does not fit in 32 bits.");this.zo=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"id",{get:function(){return this.jo},set:function(t){if(!eo(t,32))throw new f("The provided id does not fit in 32 bits.");this.jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(Zs.from(this.data))}}(so);var sc,oc,cc=(sc="pssh",oc=function(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),u=0;u<r;u++)e.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new jo(i,o,e):new zo(i,o)},function(t){var n,i=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=So(i,e);if(!r.complete)return;if(ko(r.box,n))return r.box}}(new _o((n=t,new DataView(n.buffer,n.byteOffset,n.byteLength)),new po),sc);if(!i)throw new f("".concat(sc," box not found"));return oc(i)}),ac=function(t){function n(n,i){var e;(e=t.call(this)||this).$o=void 0,e.Xo=!1,e.Go=void 0,e.Yo=void 0,e.Ko=function(){e.Jo()},e.Qo=function(t){e.Yr(new Lu(Cn(e),t.messageType,qs(e.Zo,t.message)))},e.tc=function(){e.Xo=!0,e.$o.ku>0&&(e.$o._u(),e.Yr(new xu(Cn(e)))),e.nc.removeEventListener("keystatuseschange",e.Ko),e.nc.removeEventListener("message",e.Qo)},e.nc=n,e.Zo=i,e.nc.addEventListener("keystatuseschange",e.Ko),e.nc.addEventListener("message",e.Qo),e.$o=new Uu;var r=[];return e.nc.closed&&r.push(j.resolve(e.nc.closed)),e.Yo=new Vs,r.push(e.Yo.Ou),e.Go=j.race(r).then(e.tc,e.tc),e.Jo(),e}vt(n,t);var i=n.prototype;return i.ic=function(){if(this.Xo)return this.Go;var t=[];return t.push(j.resolve(this.nc.close())),t.push(Eu(1e3)),this.Yo.xu(j.race(t).catch(fc)),this.Xo=!0,this.Go},i.ec=function(t,n,i){if(St.kn){var e=cc(Bs(n));if(1===e.version)n=new zo(e.systemId,e.data).serialize().join()}return j.resolve(this.nc.generateRequest(t,n)).catch(fc)},i.rc=function(t){return j.resolve(this.nc.load(t)).catch(fc)},i.uc=function(){return j.resolve(this.nc.remove()).catch(fc)},i.sc=function(t){return j.resolve(this.nc.update(t)).catch(fc)},i.Jo=function(){var t=this;this.$o._u(),this.nc.keyStatuses.forEach(function(n,i){t.oc(i,n)}),this.Yr(new xu(this))},i.oc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Bs(t);if(this.Zo===Nr&&16===e.byteLength){var r=Ps(e),u=r.getUint32(0,!0),s=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,u,!1),r.setUint16(4,s,!1),r.setUint16(6,o,!1)}this.Zo===Nr&&"status-pending"===n&&(n="usable"),this.$o.pu(e,n)},ft(n,[{key:"cc",get:function(){return this.Go}},{key:"ac",get:function(){return this.nc.expiration}},{key:"fc",get:function(){return this.$o}},{key:"hc",get:function(){return this.nc.sessionId}}]),n}(Cu);function fc(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|l(i[1],16))}throw new js(t.message,void 0,n,t)}var hc=function(){function t(t,n,i){this.vc=t,this.dc=n,this.lc=i}var n=t.prototype;return n.wc=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new ac(this.vc.createSession(t),this.dc));case 1:case"end":return n.stop()}},null,this,null,j)},n.gc=function(t){return j.resolve(this.vc.setServerCertificate(t))},n.yc=function(t){return j.resolve(t.setMediaKeys(this.vc))},n.mc=function(t){return j.resolve(t.setMediaKeys(null))},t}(),vc=function(){function t(t,n,i){this.bc=t,this.Zo=n,this.pc=i}var n=t.prototype;return n._c=function(){var t;return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(this.bc.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new hc(t,this.Zo,this.pc));case 4:case"end":return n.stop()}},null,this,null,j)},n.kc=function(){return this.pc},ft(t,[{key:"dc",get:function(){return this.bc.keySystem}}]),t}();function dc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function lc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,Tc:e.Tc},s=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(u.audioCapabilities=o.filter(function(e){return wc(t,n,i,e)}),s=!0,u.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var c=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});c.length&&(u.videoCapabilities=c.filter(function(e){return wc(t,n,i,e)}),s=!0,u.videoCapabilities.length&&(r=!0))}return s||(r=t(i,"video/mp4")),r?u:void 0}}function wc(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!fu(n,e.encryptionScheme))&&(!e.robustness&&t(i,dc(e.contentType))))}function gc(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,u=t.audioCapabilities;r<u.length;r++){var s=u[r];if(s.contentType)return s.contentType}}function yc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function mc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(bc))||!(!t.videoCapabilities||!t.videoCapabilities.some(bc))}function bc(t){return!t.robustness}function pc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(wr({},r,{robustness:n}))}return i}var _c=function(){function t(){}return t.prototype.Er=function(t,n){var i,e,r,s,o,c,a,f;return lr.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(n=n.filter(function(t){return!t.Tc}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=yc(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=yc(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(mc)){h.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",wr({},n=t,{videoCapabilities:n.videoCapabilities?pc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?pc(n.audioCapabilities,i):void 0});var n,i}),h.prev=4,h.next=7,lr.awrap(u.requestMediaKeySystemAccess(t,s));case 7:return o=h.sent,c=o.getConfiguration(),h.abrupt("return",new vc(o,t,c));case 12:h.prev=12,h.t0=h.catch(4);case 14:return h.next=16,lr.awrap(u.requestMediaKeySystemAccess(t,n));case 16:return a=h.sent,f=a.getConfiguration(),h.abrupt("return",new vc(a,t,f));case 19:case"end":return h.stop()}},null,null,[[4,12]],j)},t.Sc=function(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess},t}(),kc=function(t){function n(n,i){var e;return(e=t.call(this)||this).Xo=!1,e.Ec=void 0,e.Rc=void 0,e.Ic=void 0,e.Dc=void 0,e.Cc=void 0,e.tc=function(){e.Xo=!0,e.Ec.xu(void 0),e.Cc&&(e.Cc.removeEventListener("mskeyclose",e.tc),e.Cc.removeEventListener("mskeymessage",e.Nc),e.Cc.removeEventListener("mskeyerror",e.Oc),e.Cc.removeEventListener("mskeyadded",e.Ac))},e.Nc=function(t){e.Ic&&(e.Ic.xu(void 0),e.Ic=void 0),e.Yr(new Lu(Cn(e),"license-request",Fs(t.message).buffer,t.destinationURL||void 0))},e.Oc=function(){var t=e.Cc&&e.Cc.error;if(t){var n=new js("Unknown CDM error",t.code,t.systemCode);if(e.Ic)e.Ic.Lu(n),e.Ic=void 0;else if(e.Rc)e.Rc.Lu(n),e.Rc=void 0;else switch(n.Bu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Pc("output-not-allowed");break;default:e.Pc("internal-error")}}},e.Ac=function(){e.Ic&&(e.Pc("usable"),e.Ic.xu(void 0),e.Ic=void 0),e.Rc&&(e.Pc("usable"),e.Rc.xu(void 0),e.Rc=void 0)},e.xc=n,e.Lc=i,e.Ec=new Vs,e.Dc=new Uu,e}vt(n,t);var i=n.prototype;return i.ec=function(t,n,i){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bc(),this.Ic=new Vs,this.wc(Bs(n),i),t.next=5,lr.awrap(this.Ic.Ou);case 5:case"end":return t.stop()}},null,this,null,j)},i.wc=function(t,n){if(!t)throw new h("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Mc;return(i=n?this.xc.createSession(this.Lc,t,e):this.xc.createSession(this.Lc,t)).addEventListener("mskeyclose",this.tc),i.addEventListener("mskeymessage",this.Nc),i.addEventListener("mskeyerror",this.Oc),i.addEventListener("mskeyadded",this.Ac),this.Cc=i,this.Pc("status-pending"),i},i.rc=function(t){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,j)},i.sc=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Rc=new Vs,this.Bc(),this.Cc){i.next=4;break}return i.abrupt("return",j.resolve());case 4:if(0!==(n=Bs(t)).byteLength){i.next=7;break}throw new h("Cannot call update with an empty response.");case 7:return this.Cc.update(n),i.next=10,lr.awrap(this.Rc.Ou);case 10:case"end":return i.stop()}},null,this,null,j)},i.ic=function(){return!this.Xo&&this.Cc&&(this.Xo=!0,this.Cc.close()),this.Ec.Ou},i.uc=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bc(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,j)},i.Bc=function(){if(this.Xo)throw new h("Already closing or closed.")},i.Pc=function(t){this.Dc._u(),this.Dc.pu(Fu,t),this.Yr(new xu(this))},ft(n,[{key:"hc",get:function(){return this.Cc&&this.Cc.sessionId||""}},{key:"ac",get:function(){return NaN}},{key:"cc",get:function(){return this.Ec.Ou}},{key:"fc",get:function(){return this.Dc}}]),n}(Cu),Tc=function(){function t(t,n,i){this.Lc=void 0,this.xc=t,this.dc=n,this.lc=i;var e=gc(i)||"video/mp4";this.Lc=dc(e)}var n=t.prototype;return n.wc=function(t){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new kc(this.xc,this.Lc));case 1:case"end":return t.stop()}},null,this,null,j)},n.gc=function(t){return j.resolve(!1)},n.yc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.xc):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.xc),t.removeEventListener("loadedmetadata",i)}),j.resolve()},n.mc=function(t){return j.resolve()},t}(),Sc=function(){function t(t,n){this.Zo=t,this.Fc=n}var n=t.prototype;return n.kc=function(){return this.Fc},n._c=function(){var t=new Z.MSMediaKeys(this.Zo);return j.resolve(new Tc(t,this.Zo,this.Fc))},ft(t,[{key:"dc",get:function(){return this.Zo}}]),t}(),Ec=function(){function t(){}return t.prototype.Er=function(t,n){try{return j.resolve(function(t,n){if(!Rc())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=lc(Ic,Au,t,e);if(r)return new Sc(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.Sc=function(){return Rc()},t}();function Rc(){return void 0!==Z.MSMediaKeys&&"function"==typeof Z.MSMediaKeys.isTypeSupported}function Ic(t,n){return Z.MSMediaKeys.isTypeSupported(t,n)}var Dc,Cc,Nc=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Ec=new Vs,r.Uc=void 0,r.Dc=new Uu,r.Vc=void 0,r.Wc=new Vs,r.Oc=function(){var t=r.Vc&&r.Vc.error;if(t){var n=new js("Unknown CDM error",t.code,t.systemCode);r.Uc?(r.Uc.Lu(n),r.Uc=void 0):n.Bu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Pc("output-not-allowed"):r.Pc("internal-error"),r.Yr(new Bu)}},r.Nc=function(t){r.Uc&&(r.Uc.xu(void 0),r.Uc=void 0),r.Yr(new Lu(Cn(r),"license-request",Fs(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Hc=n,r.Lc=i,r.qc=e,r}vt(n,t);var i=n.prototype;return i.ec=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.zc;if(!e)throw new h("Expected FairPlay contentId to be defined but was "+e+".");var r=Oc(Bs(n),e,this.qc);return this.Vc=this.Hc.createSession(this.Lc,r),this.Vc.addEventListener("webkitkeymessage",this.Nc,!1),this.Vc.addEventListener("webkitkeyerror",this.Oc,!1),this.Pc("usable"),this.Wc.xu(this.Vc),this.Wc=new Vs,j.resolve()},i.rc=function(t){return j.resolve(!0)},i.sc=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Bs(t)).byteLength){i.next=3;break}throw new h("Cannot call update with an empty response.");case 3:if(this.Uc=new Vs,i.t0=this.Vc,i.t0){i.next=9;break}return i.next=8,lr.awrap(this.Wc.Ou);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,lr.awrap(this.Uc.Ou);case 13:case"end":return i.stop()}},null,this,null,j)},i.ic=function(){var t=this.Vc;return t&&(t.removeEventListener("webkitkeymessage",this.Nc,!1),t.removeEventListener("webkitkeyerror",this.Oc,!1),t.close()),this.Wc.Wr(),this.Ec.xu(void 0),this.Ec.Ou},i.uc=function(){return j.resolve(void 0)},i.Pc=function(t){this.Dc._u(),this.Dc.pu(Fu,t),this.Yr(new xu(this))},ft(n,[{key:"hc",get:function(){return this.Vc?this.Vc.sessionId:""}},{key:"ac",get:function(){return NaN}},{key:"cc",get:function(){return this.Ec.Ou}},{key:"fc",get:function(){return this.Dc}}]),n}(Cu);function Oc(t,n,i){var e=Ns(t),r=2*e.length,u=2*n.length,s=new ArrayBuffer(4+r+4+u+4+i.byteLength),o=new DataView(s),c=new Us;return gs(o,c,r,!0),Ss(o,c,e,!0),gs(o,c,u,!0),Ss(o,c,n,!0),gs(o,c,i.byteLength,!0),function(t,n,i){xs(t).set(xs(i),n.Iu),n.Su(i.byteLength)}(o,c,i),new y(s)}n.ErrorCode=void 0,(Dc=n.ErrorCode||(n.ErrorCode={}))[Dc.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Dc[Dc.LICENSE_ERROR=2e3]="LICENSE_ERROR",Dc[Dc.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Dc[Dc.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Dc[Dc.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Dc[Dc.SOURCE_INVALID=3e3]="SOURCE_INVALID",Dc[Dc.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Dc[Dc.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Dc[Dc.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Dc[Dc.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Dc[Dc.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Dc[Dc.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Dc[Dc.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Dc[Dc.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Dc[Dc.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Dc[Dc.NETWORK_ERROR=6e3]="NETWORK_ERROR",Dc[Dc.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Dc[Dc.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Dc[Dc.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Dc[Dc.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Dc[Dc.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Dc[Dc.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Dc[Dc.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Dc[Dc.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Dc[Dc.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Dc[Dc.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Dc[Dc.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Dc[Dc.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Dc[Dc.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Dc[Dc.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Dc[Dc.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Dc[Dc.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Dc[Dc.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Dc[Dc.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Dc[Dc.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Dc[Dc.AD_ERROR=1e4]="AD_ERROR",Dc[Dc.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Dc[Dc.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(Cc=n.ErrorCategory||(n.ErrorCategory={}))[Cc.CONFIGURATION=1]="CONFIGURATION",Cc[Cc.LICENSE=2]="LICENSE",Cc[Cc.SOURCE=3]="SOURCE",Cc[Cc.MANIFEST=4]="MANIFEST",Cc[Cc.MEDIA=5]="MEDIA",Cc[Cc.NETWORK=6]="NETWORK",Cc[Cc.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Cc[Cc.SUBTITLE=8]="SUBTITLE",Cc[Cc.VR=9]="VR",Cc[Cc.AD=10]="AD",Cc[Cc.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=d.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new h("Invalid error code: "+t)}}();var Ac=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return vt(i,t),ft(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(On);var Pc=function(){function t(t,n,i){this.Lc=void 0,this.qc=void 0,this.Hc=t,this.dc=n,this.lc=i;var e=gc(i)||"video/mp4";this.Lc=dc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Hc},i.wc=function(t){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.qc){t.next=2;break}throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Nc(this.Hc,this.Lc,this.qc));case 3:case"end":return t.stop()}},null,this,null,j)},i.gc=function(t){return this.qc=Bs(t),j.resolve(!0)},i.yc=function(t){return t.webkitSetMediaKeys(this.Hc),j.resolve()},i.mc=function(t){return t.webkitSetMediaKeys(null),j.resolve()},t}(),xc=function(){function t(t,n){this.Zo=t,this.Fc=n}var n=t.prototype;return n.kc=function(){return this.Fc},n._c=function(){var t=new Z.WebKitMediaKeys(this.Zo);return j.resolve(new Pc(t,this.Zo,this.Fc))},ft(t,[{key:"dc",get:function(){return this.Zo}}]),t}(),Lc=function(){function t(){}return t.prototype.Er=function(t,n){try{return j.resolve(function(t,n){if(t!==Mr)throw new h(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Bc())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=lc(Mc,Pu,t,e);if(r)return new xc(t,r)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.Sc=function(){return Bc()},t}();function Bc(){return void 0!==Z.WebKitMediaKeys&&"function"==typeof Z.WebKitMediaKeys.isTypeSupported}function Mc(t,n){return Z.WebKitMediaKeys.isTypeSupported(t,n)}var Fc,Uc=function(){function t(t){this.jc=t}return t.prototype.Er=function(t,n){var i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.jc;case 1:if(!(i<e.length)){u.next=14;break}return r=e[i],u.prev=3,u.next=6,lr.awrap(r.Er(t,n));case 6:return u.abrupt("return",u.sent);case 9:u.prev=9,u.t0=u.catch(3);case 11:i++,u.next=1;break;case 14:throw new h("Unsupported key system configuration for "+t);case 15:case"end":return u.stop()}},null,this,[[3,9]],j)},t}(),Vc=function(t){function n(n){var i;return(i=t.call(this)||this).Ic=void 0,i.Uc=void 0,i.Ec=void 0,i.$u=!1,i.$c=void 0,i.Xc=void 0,i.Gc=void 0,i.Yc=void 0,i.Kc=void 0,i.Zo=n,i.Ec=new Vs,i.Xc="",i.Kc=new Vs,i.Gc=new Uu,i}vt(n,t);var i=n.prototype;return i.Jc=function(){this.Uc&&(this.Pc("usable"),this.Uc.xu(void 0),this.Uc=void 0)},i.Qc=function(t){var n=new js("Unknown CDM error",t.errorCode,t.systemCode);this.Uc?(this.Uc.Lu(n),this.Uc=void 0):this.Ic?(this.Ic.Lu(n),this.Ic=void 0):n.Bu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Pc("output-restricted"):1===n.Mu?this.Pc("expired"):this.Pc("internal-error")},i.Zc=function(t){0!==t.message.byteLength&&(this.Ic&&(this.Ic.xu(void 0),this.Ic=void 0),this.Yr(new Lu(this,"license-request",qs(this.Zo,Fs(t.message).buffer),t.defaultURL||void 0)))},i.ta=function(t){this.Yc||(this.Yc=t,this.Kc.xu(t))},i.ic=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.$u=!0,this.Ec.xu(void 0);case 3:case"end":return t.stop()}},null,this,null,j)},i.ec=function(t,n){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Ic=new Vs,this.$c=Bs(n),t.t0=this.Yc,t.t0){t.next=8;break}return t.next=7,lr.awrap(this.Kc.Ou);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Zo,this.$c),t.next=12,lr.awrap(this.Ic.Ou);case 12:case"end":return t.stop()}},null,this,null,j)},i.rc=function(t){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,j)},i.uc=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,j)},i.sc=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Uc=new Vs,n.t0=this.Yc,n.t0){n.next=7;break}return n.next=6,lr.awrap(this.Kc.Ou);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Zo,Bs(t),this.$c,this.hc),n.next=11,lr.awrap(this.Uc.Ou);case 11:case"end":return n.stop()}},null,this,null,j)},i.throwIfClosed=function(){if(this.$u)throw new h("Already closing or closed.")},i.Pc=function(t){this.Gc._u(),this.Gc.pu(Fu,t),this.Yr(new xu(this))},ft(n,[{key:"fc",get:function(){return this.Gc}},{key:"hc",get:function(){return this.Xc},set:function(t){this.Xc=t}},{key:"cc",get:function(){return this.Ec.Ou}},{key:"ac",get:function(){return NaN}}]),n}(Cu),Wc=function(){function t(t,n){var i=this;this.Yc=void 0,this.na=yr(),this.ia=[],this.Ac=function(t){var n=i.ea(t.sessionId);n&&n.Jc()},this.ra=function(t){var n=i.ea(t.sessionId);n&&n.Qc(t)},this.ua=function(t){var n=i.ea(t.sessionId);n&&n.Zc(t)},this.dc=t,this.lc=n}var n=t.prototype;return n.yc=function(t){return this.Yc=t,this.Yc.addEventListener("webkitkeyadded",this.Ac),this.Yc.addEventListener("webkitkeyerror",this.ra),this.Yc.addEventListener("webkitkeymessage",this.ua),this.na.forEach(function(n,i){return n.ta(t)}),this.ia.forEach(function(n){return n.ta(t)}),j.resolve()},n.mc=function(t){return t.removeEventListener("webkitkeyadded",this.Ac),t.removeEventListener("webkitkeyerror",this.ra),t.removeEventListener("webkitkeymessage",this.ua),this.Yc=void 0,j.resolve()},n.wc=function(t,n,i){var e;return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Vc(this.dc),this.Yc&&e.ta(this.Yc),this.ia.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,j)},n.gc=function(t){return j.resolve(!1)},n.ea=function(t){if(t){var n=this.na.get(t);return n||((n=this.ia.shift())?(n.hc=t,this.na.set(t,n),n):void 0)}},t}(),Hc=function(){function t(t,n){this.dc=t,this.sa=n}var n=t.prototype;return n._c=function(){return j.resolve(new Wc(this.dc,this.sa))},n.kc=function(){return this.sa},t}(),qc=function(){function t(){}return t.prototype.Er=function(t,n){try{return j.resolve(zc(t,n))}catch(t){return j.reject(t)}},t.Sc=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function zc(t,n){if(!qc.Sc())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=lc(jc,Au,t,e);if(r)return new Hc(t,r)}throw new h("Unsupported key system configuration for "+t)}function jc(t,n){var i=Xe();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function $c(){return Fc||(Fc=function(){var t=[];Lc.Sc()&&t.push(new Lc);_c.Sc()&&t.push(new _c);Ec.Sc()&&t.push(new Ec);qc.Sc()&&t.push(new qc);return new Uc(t)}()),Fc}var Xc=function(){function t(){this.oa=yr()}var n=t.prototype;return n._u=function(t){this.oa.delete(t)},n.ca=function(){this.oa.clear()},n.mu=function(t){return this.oa.get(t)},n.aa=function(t,n){this.oa.set(t,n)},t}(),Gc=function(){function t(){}return t.fa=function(){return t.Zn||(t.Zn=Yc.Sc()?new Yc:new Xc),t.Zn},t._u=function(n){t.fa()._u(n)},t.ca=function(){t.fa().ca()},t.mu=function(n){return t.fa().mu(n)},t.aa=function(n,i){t.fa().aa(n,i)},t}();Gc.Zn=void 0;var Yc=function(n){function i(){return n.apply(this,arguments)||this}vt(i,n),i.Sc=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e._u=function(n){t.sessionStorage.removeItem(n)},e.ca=function(){t.sessionStorage.clear()},e.mu=function(n){return t.sessionStorage[n]},e.aa=function(n,i){t.sessionStorage[n]=i},i}(Gc);var Kc=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var u=t[r];i.append(u)}return i.getBlob(n&&n.type||"")}}();function Jc(t,n,i){var r=Kc([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),s=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=e.createElement("a");o.href=u,o.download=s,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(u)}var Qc,Zc;!function(t){t.ha="va",t.da="la",t.wa="contentprotectionerror",t.ga="contentprotectionsuccess",t.ya="currentsourcechange",t.ma="destroy",t.ba="durationchange",t.pa="emptied",t.hu="encrypted",t._a="ended",t.ka="Ta",t.Sa="loadstart",t.Ea="manifestupdate",t.Ra="nosupportedrepresentationfound",t.Ia="offline",t.Da="online",t.Ca="pause",t.Na="play",t.Oa="progress",t.Aa="ratechange",t.Pa="representationchange",t.xa="resize",t.La="seeked",t.Ba="seeking",t.Ma="segmentnotfound",t.Fa="Ua",t.Va="Wa",t.Ha="sourcechange",t.qa="timeupdate",t.za="volumechange",t.ja="$a",t.Xa="metricschange"}(Qc||(Qc={})),function(t){t.Ga="arraybuffer",t.Ya="json",t.Ka="stream",t.ri="text"}(Zc||(Zc={}));var ta=function(){function t(n){var i=this;this.sr=void 0,this.sr={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&v.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=na(i),e=ia(e);var r=i.toLowerCase();if(this.sr.hasOwnProperty(r)){var u=this.sr[r],s=u[1];u[1]=s?s+", "+e:e}else this.sr[r]=[i,e]},n.delete=function(t){var n=na(t).toLowerCase();delete this.sr[n]},n.get=function(t){var n=na(t).toLowerCase();return this.sr.hasOwnProperty(n)?this.sr[n][1]:null},n.has=function(t){var n=na(t).toLowerCase();return this.sr.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=na(i)).toLowerCase();this.sr[e]=[i,ia(n)]},n.forEach=function(t,n){for(var i in this.sr)this.sr.hasOwnProperty(i)&&t.call(n,this.sr[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.sr)if(this.sr.hasOwnProperty(n)){var i=this.sr[n],e=i[0],r=i[1];t.push([e,r])}return t},n.Ja=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Qa=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Za=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function na(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new h("Invalid character in header field name");return n}function ia(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function ra(){}var ua=void 0!==t?t:void 0!==i?i:"undefined"!=typeof global?global:void 0;function sa(t){return"object"==typeof t&&null!==t||"function"==typeof t}var oa=ra,ca=j,aa=j.prototype.then,fa=j.resolve.bind(ca),ha=j.reject.bind(ca);function va(t){return new ca(t)}function da(t){return fa(t)}function la(t){return ha(t)}function wa(t,n,i){return aa.call(t,n,i)}function ga(t,n,i){wa(wa(t,n,i),void 0,oa)}function ya(t,n){ga(t,n)}function ma(t,n){ga(t,void 0,n)}function ba(t,n,i){return wa(t,n,i)}function pa(t){wa(t,void 0,oa)}var _a=function(){var t=ua&&ua.queueMicrotask;if("function"==typeof t)return t;var n=da(void 0);return function(t){return wa(n,t)}}();function ka(t,n,i){if("function"!=typeof t)throw new h("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Ta(t,n,i){try{return da(ka(t,n,i))}catch(t){return la(t)}}var Sa=function(){function t(){this.tf=0,this.nf=0,this.N={if:[],ef:void 0},this.rf=this.N,this.tf=0,this.nf=0}return v.defineProperty(t.prototype,"length",{get:function(){return this.nf},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var n=this.rf,i=n;16383===n.if.length&&(i={if:[],ef:void 0}),n.if.push(t),i!==n&&(this.rf=i,n.ef=i),++this.nf},t.prototype.shift=function(){var t=this.N,n=t,i=this.tf,e=i+1,r=t.if,u=r[i];return 16384===e&&(n=t.ef,e=0),--this.nf,this.tf=e,t!==n&&(this.N=n),r[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.tf,i=this.N,e=i.if;!(n===e.length&&void 0===i.ef||n===e.length&&(n=0,0===(e=(i=i.ef).if).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.N,n=this.tf;return t.if[n]},t}();function Ea(t,n){t.uf=n,n.sf=t,"readable"===n.o?Ca(t):"closed"===n.o?function(t){Ca(t),Aa(t)}(t):Na(t,n.cf)}function Ra(t,n){return Dv(t.uf,n)}function Ia(t){"readable"===t.uf.o?Oa(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Na(t,n)}(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")),t.uf.sf=void 0,t.uf=void 0}function Da(t){return new h("Cannot "+t+" a stream using a released reader")}function Ca(t){t.Go=va(function(n,i){t.af=n,t.ff=i})}function Na(t,n){Ca(t),Oa(t,n)}function Oa(t,n){void 0!==t.ff&&(pa(t.Go),t.ff(n),t.af=void 0,t.ff=void 0)}function Aa(t){void 0!==t.af&&(t.af(void 0),t.af=void 0,t.ff=void 0)}var Pa=ea("[[AbortSteps]]"),xa=ea("[[ErrorSteps]]"),La=ea("[[CancelSteps]]"),Ba=ea("[[PullSteps]]"),Ma=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Fa=d.trunc||function(t){return t<0?d.ceil(t):d.floor(t)};function Ua(t,n){if(void 0!==t&&("object"!=typeof(i=t)&&"function"!=typeof i))throw new h(n+" is not an object.");var i}function Va(t,n){if("function"!=typeof t)throw new h(n+" is not a function.")}function Wa(t,n){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new h(n+" is not an object.")}function Ha(t,n,i){if(void 0===t)throw new h("Parameter "+n+" is required in '"+i+"'.")}function qa(t,n,i){if(void 0===t)throw new h(n+" is required in '"+i+"'.")}function za(t){return Number(t)}function ja(t){return 0===t?0:t}function $a(t,n){var i=Number.MAX_SAFE_INTEGER,e=Number(t);if(e=ja(e),!Ma(e))throw new h(n+" is not a finite number");if((e=function(t){return ja(Fa(t))}(e))<0||e>i)throw new h(n+" is outside the accepted range of 0 to "+i+", inclusive");return Ma(e)&&0!==e?e:0}function Xa(t,n){if(!Rv(t))throw new h(n+" is not a ReadableStream.")}function Ga(t){return new nf(t)}function Ya(t,n){t.sf.hf.push(n)}function Ka(t,n,i){var e=t.sf.hf.shift();i?e.vf():e.df(n)}function Ja(t){return t.sf.hf.length}function Qa(t){var n=t.sf;return void 0!==n&&!!ef(n)}var Za,tf,nf=function(){function t(t){if(Ha(t,1,"ReadableStreamDefaultReader"),Xa(t,"First parameter"),Iv(t))throw new h("This stream has already been locked for exclusive reading by another reader");Ea(this,t),this.hf=new Sa}return v.defineProperty(t.prototype,"closed",{get:function(){return ef(this)?this.Go:la(uf("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),ef(this)?void 0===this.uf?la(Da("cancel")):Ra(this,t):la(uf("cancel"))},t.prototype.read=function(){if(!ef(this))return la(uf("read"));if(void 0===this.uf)return la(Da("read from"));var t,n,i=va(function(i,e){t=i,n=e});return rf(this,{df:function(n){return t({value:n,done:!1})},vf:function(){return t({value:void 0,done:!0})},lf:function(t){return n(t)}}),i},t.prototype.releaseLock=function(){if(!ef(this))throw uf("releaseLock");if(void 0!==this.uf){if(this.hf.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");Ia(this)}},t}();function ef(t){return!!sa(t)&&(!!v.prototype.hasOwnProperty.call(t,"hf")&&t instanceof nf)}function rf(t,n){var i=t.uf;i.wf=!0,"closed"===i.o?n.vf():"errored"===i.o?n.lf(i.cf):i.gf[Ba](n)}function uf(t){return new h("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}v.defineProperties(nf.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof ea.toStringTag&&v.defineProperty(nf.prototype,ea.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof ea.asyncIterator&&((Za={})[ea.asyncIterator]=function(){return this},tf=Za,v.defineProperty(tf,ea.asyncIterator,{enumerable:!1}));var sf=function(){function t(t,n){this.yf=void 0,this.mf=!1,this.sf=t,this.bf=n}return t.prototype.next=function(){var t=this,n=function(){return t.pf()};return this.yf=this.yf?ba(this.yf,n,n):n(),this.yf},t.prototype.return=function(t){var n=this,i=function(){return n._f(t)};return this.yf?ba(this.yf,i,i):i()},t.prototype.pf=function(){var t=this;if(this.mf)return j.resolve({value:void 0,done:!0});var n,i,e=this.sf;if(void 0===e.uf)return la(Da("iterate"));var r=va(function(t,e){n=t,i=e});return rf(e,{df:function(i){t.yf=void 0,_a(function(){return n({value:i,done:!1})})},vf:function(){t.yf=void 0,t.mf=!0,Ia(e),n({value:void 0,done:!0})},lf:function(n){t.yf=void 0,t.mf=!0,Ia(e),i(n)}}),r},t.prototype._f=function(t){if(this.mf)return j.resolve({value:t,done:!0});this.mf=!0;var n=this.sf;if(void 0===n.uf)return la(Da("finish iterating"));if(!this.bf){var i=Ra(n,t);return Ia(n),ba(i,function(){return{value:t,done:!0}})}return Ia(n),da({value:t,done:!0})},t}(),of={next:function(){return cf(this)?this.kf.next():la(af("next"))},return:function(t){return cf(this)?this.kf.return(t):la(af("return"))}};function cf(t){if(!sa(t))return!1;if(!v.prototype.hasOwnProperty.call(t,"kf"))return!1;try{return t.kf instanceof sf}catch(t){return!1}}function af(t){return new h("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}void 0!==tf&&v.setPrototypeOf(of,tf);var ff=Number.isNaN||function(t){return t!=t};function hf(t){return t.slice()}function vf(t,n,i,e,r){new y(t).set(new y(i,e,r),n)}function df(t){return t}function lf(t,n,i){if(t.slice)return t.slice(n,i);var e=i-n,r=new ArrayBuffer(e);return vf(r,0,t,n,e),r}function wf(t){var n=lf(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new y(n)}function gf(t){var n=t.Tf.shift();return t.Sf-=n.size,t.Sf<0&&(t.Sf=0),n.value}function yf(t,n,i){if("number"!=typeof(e=i)||ff(e)||e<0||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var e;t.Tf.push({value:n,size:i}),t.Sf+=i}function mf(t){t.Tf=new Sa,t.Sf=0}var bf=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"view",{get:function(){if(!kf(this))throw zf("view");return this.Ef},enumerable:!1,configurable:!0}),t.prototype.respond=function(t){if(!kf(this))throw zf("respond");if(Ha(t,1,"respond"),t=$a(t,"First parameter"),void 0===this.Rf)throw new h("This BYOB request has been invalidated");this.Ef.buffer,Wf(this.Rf,t)},t.prototype.respondWithNewView=function(t){if(!kf(this))throw zf("respondWithNewView");if(Ha(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new h("You can only respond with array buffer views");if(void 0===this.Rf)throw new h("This BYOB request has been invalidated");t.buffer,Hf(this.Rf,t)},t}();v.defineProperties(bf.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof ea.toStringTag&&v.defineProperty(bf.prototype,ea.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var pf=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"byobRequest",{get:function(){if(!_f(this))throw jf("byobRequest");return Uf(this)},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!_f(this))throw jf("desiredSize");return Vf(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!_f(this))throw jf("close");if(this.If)throw new h("The stream has already been closed; do not close it again!");var t=this.Df.o;if("readable"!==t)throw new h("The stream (in "+t+" state) is not in the readable state and cannot be closed");Bf(this)},t.prototype.enqueue=function(t){if(!_f(this))throw jf("enqueue");if(Ha(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new h("chunk must be an array buffer view");if(0===t.byteLength)throw new h("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new h("chunk's buffer must have non-zero byteLength");if(this.If)throw new h("stream is closed or draining");var n=this.Df.o;if("readable"!==n)throw new h("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");Mf(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!_f(this))throw jf("error");Ff(this,t)},t.prototype[La]=function(t){Sf(this),mf(this);var n=this.Cf(t);return Lf(this),n},t.prototype[Ba]=function(t){var n=this.Df;if(this.Sf>0){var i=this.Tf.shift();this.Sf-=i.byteLength,Nf(this);var e=new y(i.buffer,i.byteOffset,i.byteLength);t.df(e)}else{var r=this.Nf;if(void 0!==r){var u=void 0;try{u=new ArrayBuffer(r)}catch(n){return void t.lf(n)}var s={buffer:u,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:y,readerType:"default"};this.Of.push(s)}Ya(n,t),Tf(this)}},t}();function _f(t){return!!sa(t)&&(!!v.prototype.hasOwnProperty.call(t,"Df")&&t instanceof pf)}function kf(t){return!!sa(t)&&(!!v.prototype.hasOwnProperty.call(t,"Rf")&&t instanceof bf)}function Tf(t){(function(t){var n=t.Df;if("readable"!==n.o)return!1;if(t.If)return!1;if(!t.Af)return!1;if(Qa(n)&&Ja(n)>0)return!0;if(Yf(n)&&Gf(n)>0)return!0;if(Vf(t)>0)return!0;return!1})(t)&&(t.Pf?t.xf=!0:(t.Pf=!0,ga(t.Lf(),function(){t.Pf=!1,t.xf&&(t.xf=!1,Tf(t))},function(n){Ff(t,n)})))}function Sf(t){Of(t),t.Of=new Sa}function Ef(t,n){var i=!1;"closed"===t.o&&(i=!0);var e=Rf(n);"default"===n.readerType?Ka(t,e,i):function(t,n,i){var e=t.sf.Bf.shift();i?e.vf(n):e.df(n)}(t,e,i)}function Rf(t){var n=t.bytesFilled,i=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,n/i)}function If(t,n,i,e){t.Tf.push({buffer:n,byteOffset:i,byteLength:e}),t.Sf+=e}function Df(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=d.min(t.Sf,n.byteLength-n.bytesFilled),u=n.bytesFilled+r,s=u-u%i,o=r,c=!1;s>e&&(o=s-n.bytesFilled,c=!0);for(var a=t.Tf;o>0;){var f=a.peek(),h=d.min(o,f.byteLength),v=n.byteOffset+n.bytesFilled;vf(n.buffer,v,f.buffer,f.byteOffset,h),f.byteLength===h?a.shift():(f.byteOffset+=h,f.byteLength-=h),t.Sf-=h,Cf(t,h,n),o-=h}return c}function Cf(t,n,i){i.bytesFilled+=n}function Nf(t){0===t.Sf&&t.If?(Lf(t),Cv(t.Df)):Tf(t)}function Of(t){null!==t.Mf&&(t.Mf.Rf=void 0,t.Mf.Ef=null,t.Mf=null)}function Af(t){for(;t.Of.length>0;){if(0===t.Sf)return;var n=t.Of.peek();Df(t,n)&&(xf(t),Ef(t.Df,n))}}function Pf(t,n){var i=t.Of.peek();Of(t),"closed"===t.Df.o?function(t,n){var i=t.Df;if(Yf(i))for(;Gf(i)>0;)Ef(i,xf(t))}(t):function(t,n,i){if(Cf(0,n,i),!(i.bytesFilled<i.elementSize)){xf(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,u=lf(i.buffer,r-e,r);If(t,u,0,u.byteLength)}i.bytesFilled-=e,Ef(t.Df,i),Af(t)}}(t,n,i),Tf(t)}function xf(t){return t.Of.shift()}function Lf(t){t.Lf=void 0,t.Cf=void 0}function Bf(t){var n=t.Df;if(!t.If&&"readable"===n.o)if(t.Sf>0)t.If=!0;else{if(t.Of.length>0)if(t.Of.peek().bytesFilled>0){var i=new h("Insufficient bytes to fill elements in the given buffer");throw Ff(t,i),i}Lf(t),Cv(n)}}function Mf(t,n){var i=t.Df;if(!t.If&&"readable"===i.o){var e=n.buffer,r=n.byteOffset,u=n.byteLength,s=df(e);if(t.Of.length>0){var o=t.Of.peek();o.buffer,0,o.buffer=df(o.buffer)}if(Of(t),Qa(i))if(0===Ja(i))If(t,s,r,u);else t.Of.length>0&&xf(t),Ka(i,new y(s,r,u),!1);else Yf(i)?(If(t,s,r,u),Af(t)):If(t,s,r,u);Tf(t)}}function Ff(t,n){var i=t.Df;"readable"===i.o&&(Sf(t),mf(t),Lf(t),Nv(i,n))}function Uf(t){if(null===t.Mf&&t.Of.length>0){var n=t.Of.peek(),i=new y(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),e=v.create(bf.prototype);!function(t,n,i){t.Rf=n,t.Ef=i}(e,t,i),t.Mf=e}return t.Mf}function Vf(t){var n=t.Df.o;return"errored"===n?null:"closed"===n?0:t.Ff-t.Sf}function Wf(t,n){var i=t.Of.peek();if("closed"===t.Df.o){if(0!==n)throw new h("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw new h("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=df(i.buffer),Pf(t,n)}function Hf(t,n){var i=t.Of.peek();if("closed"===t.Df.o){if(0!==n.byteLength)throw new h("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw new h("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+n.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var e=n.byteLength;i.buffer=df(n.buffer),Pf(t,e)}function qf(t,n,i,e,r,u,s){n.Df=t,n.xf=!1,n.Pf=!1,n.Mf=null,n.Tf=n.Sf=void 0,mf(n),n.If=!1,n.Af=!1,n.Ff=u,n.Lf=e,n.Cf=r,n.Nf=s,n.Of=new Sa,t.gf=n,ga(da(i()),function(){n.Af=!0,Tf(n)},function(t){Ff(n,t)})}function zf(t){return new h("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function jf(t){return new h("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function $f(t){return new Kf(t)}function Xf(t,n){t.sf.Bf.push(n)}function Gf(t){return t.sf.Bf.length}function Yf(t){var n=t.sf;return void 0!==n&&!!Jf(n)}v.defineProperties(pf.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof ea.toStringTag&&v.defineProperty(pf.prototype,ea.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Kf=function(){function t(t){if(Ha(t,1,"ReadableStreamBYOBReader"),Xa(t,"First parameter"),Iv(t))throw new h("This stream has already been locked for exclusive reading by another reader");if(!_f(t.gf))throw new h("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Ea(this,t),this.Bf=new Sa}return v.defineProperty(t.prototype,"closed",{get:function(){return Jf(this)?this.Go:la(Zf("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Jf(this)?void 0===this.uf?la(Da("cancel")):Ra(this,t):la(Zf("cancel"))},t.prototype.read=function(t){if(!Jf(this))return la(Zf("read"));if(!ArrayBuffer.isView(t))return la(new h("view must be an array buffer view"));if(0===t.byteLength)return la(new h("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return la(new h("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this.uf)return la(Da("read from"));var n,i,e=va(function(t,e){n=t,i=e});return Qf(this,t,{df:function(t){return n({value:t,done:!1})},vf:function(t){return n({value:t,done:!0})},lf:function(t){return i(t)}}),e},t.prototype.releaseLock=function(){if(!Jf(this))throw Zf("releaseLock");if(void 0!==this.uf){if(this.Bf.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");Ia(this)}},t}();function Jf(t){return!!sa(t)&&(!!v.prototype.hasOwnProperty.call(t,"Bf")&&t instanceof Kf)}function Qf(t,n,i){var e=t.uf;e.wf=!0,"errored"===e.o?i.lf(e.cf):function(t,n,i){var e=t.Df,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var u=n.constructor,s=df(n.buffer),o={buffer:s,bufferByteLength:s.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,viewConstructor:u,readerType:"byob"};if(t.Of.length>0)return t.Of.push(o),void Xf(e,i);if("closed"!==e.o){if(t.Sf>0){if(Df(t,o)){var c=Rf(o);return Nf(t),void i.df(c)}if(t.If){var a=new h("Insufficient bytes to fill elements in the given buffer");return Ff(t,a),void i.lf(a)}}t.Of.push(o),Xf(e,i),Tf(t)}else{var f=new u(o.buffer,o.byteOffset,0);i.vf(f)}}(e.gf,n,i)}function Zf(t){return new h("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function th(t,n){var i=t.highWaterMark;if(void 0===i)return n;if(ff(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function nh(t){var n=t.size;return n||function(){return 1}}function ih(t,n){Ua(t,n);var i=null==t?void 0:t.highWaterMark,e=null==t?void 0:t.size;return{highWaterMark:void 0===i?void 0:za(i),size:void 0===e?void 0:eh(e,n+" has member 'size' that")}}function eh(t,n){return Va(t,n),function(n){return za(t(n))}}function rh(t,n,i){return Va(t,i),function(i){return Ta(t,n,[i])}}function uh(t,n,i){return Va(t,i),function(){return Ta(t,n,[])}}function sh(t,n,i){return Va(t,i),function(i){return ka(t,n,[i])}}function oh(t,n,i){return Va(t,i),function(i,e){return Ta(t,n,[i,e])}}function ch(t,n){if(!dh(t))throw new h(n+" is not a WritableStream.")}v.defineProperties(Kf.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof ea.toStringTag&&v.defineProperty(Kf.prototype,ea.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var ah="function"==typeof AbortController;var fh=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:Wa(t,"First parameter");var i=ih(n,"Second parameter"),e=function(t,n){Ua(t,n);var i=null==t?void 0:t.abort,e=null==t?void 0:t.close,r=null==t?void 0:t.start,u=null==t?void 0:t.type,s=null==t?void 0:t.write;return{abort:void 0===i?void 0:rh(i,t,n+" has member 'abort' that"),close:void 0===e?void 0:uh(e,t,n+" has member 'close' that"),start:void 0===r?void 0:sh(r,t,n+" has member 'start' that"),write:void 0===s?void 0:oh(s,t,n+" has member 'write' that"),type:u}}(t,"First parameter");if(vh(this),void 0!==e.type)throw new RangeError("Invalid type is specified");var r=nh(i);!function(t,n,i,e){var r=v.create(Oh.prototype),u=function(){},s=function(){return da(void 0)},o=function(){return da(void 0)},c=function(){return da(void 0)};void 0!==n.start&&(u=function(){return n.start(r)});void 0!==n.write&&(s=function(t){return n.write(t,r)});void 0!==n.close&&(o=function(){return n.close()});void 0!==n.abort&&(c=function(t){return n.abort(t)});Ph(t,r,u,s,o,c,i,e)}(this,e,th(i,1),r)}return v.defineProperty(t.prototype,"locked",{get:function(){if(!dh(this))throw Vh("locked");return lh(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),dh(this)?lh(this)?la(new h("Cannot abort a stream that already has a writer")):wh(this,t):la(Vh("abort"))},t.prototype.close=function(){return dh(this)?lh(this)?la(new h("Cannot close a stream that already has a writer")):ph(this)?la(new h("Cannot close an already-closing stream")):gh(this):la(Vh("close"))},t.prototype.getWriter=function(){if(!dh(this))throw Vh("getWriter");return hh(this)},t}();function hh(t){return new Th(t)}function vh(t){t.o="writable",t.cf=void 0,t.Ku=void 0,t.Uf=void 0,t.Vf=new Sa,t.Wf=void 0,t.Hf=void 0,t.qf=void 0,t.zf=void 0,t.jf=!1}function dh(t){return!!sa(t)&&(!!v.prototype.hasOwnProperty.call(t,"Uf")&&t instanceof fh)}function lh(t){return void 0!==t.Ku}function wh(t,n){var i;if("closed"===t.o||"errored"===t.o)return da(void 0);t.Uf.$f=n,null===(i=t.Uf.Xf)||void 0===i||i.abort();var e=t.o;if("closed"===e||"errored"===e)return da(void 0);if(void 0!==t.zf)return t.zf.Gf;var r=!1;"erroring"===e&&(r=!0,n=void 0);var u=va(function(i,e){t.zf={Gf:void 0,Au:i,Pu:e,Yf:n,Kf:r}});return t.zf.Gf=u,r||mh(t,n),u}function gh(t){var n=t.o;if("closed"===n||"errored"===n)return la(new h("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=va(function(n,i){var e={Au:n,Pu:i};t.Hf=e}),r=t.Ku;return void 0!==r&&t.jf&&"writable"===n&&Qh(r),yf(i=t.Uf,Nh,0),Bh(i),e}function yh(t,n){"writable"!==t.o?bh(t):mh(t,n)}function mh(t,n){var i=t.Uf;t.o="erroring",t.cf=n;var e=t.Ku;void 0!==e&&Ih(e,n),!function(t){if(void 0===t.Wf&&void 0===t.qf)return!1;return!0}(t)&&i.Af&&bh(t)}function bh(t){t.o="errored",t.Uf[xa]();var n=t.cf;if(t.Vf.forEach(function(t){t.Pu(n)}),t.Vf=new Sa,void 0!==t.zf){var i=t.zf;if(t.zf=void 0,i.Kf)return i.Pu(n),void _h(t);ga(t.Uf[Pa](i.Yf),function(){i.Au(),_h(t)},function(n){i.Pu(n),_h(t)})}else _h(t)}function ph(t){return void 0!==t.Hf||void 0!==t.qf}function _h(t){void 0!==t.Hf&&(t.Hf.Pu(t.cf),t.Hf=void 0);var n=t.Ku;void 0!==n&&$h(n,t.cf)}function kh(t,n){var i=t.Ku;void 0!==i&&n!==t.jf&&(n?function(t){Gh(t)}(i):Qh(i)),t.jf=n}v.defineProperties(fh.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof ea.toStringTag&&v.defineProperty(fh.prototype,ea.toStringTag,{value:"WritableStream",configurable:!0});var Th=function(){function t(t){if(Ha(t,1,"WritableStreamDefaultWriter"),ch(t,"First parameter"),lh(t))throw new h("This stream has already been locked for exclusive writing by another writer");this.Jf=t,t.Ku=this;var n,i=t.o;if("writable"===i)!ph(t)&&t.jf?Gh(this):Kh(this),zh(this);else if("erroring"===i)Yh(this,t.cf),zh(this);else if("closed"===i)Kh(this),zh(n=this),Xh(n);else{var e=t.cf;Yh(this,e),jh(this,e)}}return v.defineProperty(t.prototype,"closed",{get:function(){return Sh(this)?this.Go:la(Hh("closed"))},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Sh(this))throw Hh("desiredSize");if(void 0===this.Jf)throw qh("desiredSize");return function(t){var n=t.Jf,i=n.o;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Lh(n.Uf)}(this)},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"ready",{get:function(){return Sh(this)?this.Qf:la(Hh("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),Sh(this)?void 0===this.Jf?la(qh("abort")):function(t,n){return wh(t.Jf,n)}(this,t):la(Hh("abort"))},t.prototype.close=function(){if(!Sh(this))return la(Hh("close"));var t=this.Jf;return void 0===t?la(qh("close")):ph(t)?la(new h("Cannot close an already-closing stream")):Eh(this)},t.prototype.releaseLock=function(){if(!Sh(this))throw Hh("releaseLock");void 0!==this.Jf&&Dh(this)},t.prototype.write=function(t){return void 0===t&&(t=void 0),Sh(this)?void 0===this.Jf?la(qh("write to")):Ch(this,t):la(Hh("write"))},t}();function Sh(t){return!!sa(t)&&(!!v.prototype.hasOwnProperty.call(t,"Jf")&&t instanceof Th)}function Eh(t){return gh(t.Jf)}function Rh(t,n){"pending"===t.Zf?$h(t,n):function(t,n){jh(t,n)}(t,n)}function Ih(t,n){"pending"===t.th?Jh(t,n):function(t,n){Yh(t,n)}(t,n)}function Dh(t){var n=t.Jf,i=new h("Writer was released and can no longer be used to monitor the stream's closedness");Ih(t,i),Rh(t,i),n.Ku=void 0,t.Jf=void 0}function Ch(t,n){var i=t.Jf,e=i.Uf,r=function(t,n){try{return t.nh(n)}catch(n){return Mh(t,n),1}}(e,n);if(i!==t.Jf)return la(qh("write to"));var u=i.o;if("errored"===u)return la(i.cf);if(ph(i)||"closed"===u)return la(new h("The stream is closing or closed and cannot be written to"));if("erroring"===u)return la(i.cf);var s=function(t){return va(function(n,i){var e={Au:n,Pu:i};t.Vf.push(e)})}(i);return function(t,n,i){try{yf(t,n,i)}catch(n){return void Mh(t,n)}var e=t.ih;if(!ph(e)&&"writable"===e.o){var r=Fh(t);kh(e,r)}Bh(t)}(e,n,r),s}v.defineProperties(Th.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof ea.toStringTag&&v.defineProperty(Th.prototype,ea.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var Nh={},Oh=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"abortReason",{get:function(){if(!Ah(this))throw Wh("abortReason");return this.$f},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"signal",{get:function(){if(!Ah(this))throw Wh("signal");if(void 0===this.Xf)throw new h("WritableStreamDefaultController.prototype.signal is not supported");return this.Xf.signal},enumerable:!1,configurable:!0}),t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Ah(this))throw Wh("error");"writable"===this.ih.o&&Uh(this,t)},t.prototype[Pa]=function(t){var n=this.eh(t);return xh(this),n},t.prototype[xa]=function(){mf(this)},t}();function Ah(t){return!!sa(t)&&(!!v.prototype.hasOwnProperty.call(t,"ih")&&t instanceof Oh)}function Ph(t,n,i,e,r,u,s,o){n.ih=t,t.Uf=n,n.Tf=void 0,n.Sf=void 0,mf(n),n.$f=void 0,n.Xf=function(){if(ah)return new AbortController}(),n.Af=!1,n.nh=o,n.Ff=s,n.rh=e,n.uh=r,n.eh=u;var c=Fh(n);kh(t,c),ga(da(i()),function(){n.Af=!0,Bh(n)},function(i){n.Af=!0,yh(t,i)})}function xh(t){t.rh=void 0,t.uh=void 0,t.eh=void 0,t.nh=void 0}function Lh(t){return t.Ff-t.Sf}function Bh(t){var n=t.ih;if(t.Af&&void 0===n.Wf)if("erroring"!==n.o){if(0!==t.Tf.length){var i=t.Tf.peek().value;i===Nh?function(t){var n=t.ih;(function(t){t.qf=t.Hf,t.Hf=void 0})(n),gf(t);var i=t.uh();xh(t),ga(i,function(){!function(t){t.qf.Au(void 0),t.qf=void 0,"erroring"===t.o&&(t.cf=void 0,void 0!==t.zf&&(t.zf.Au(),t.zf=void 0)),t.o="closed";var n=t.Ku;void 0!==n&&Xh(n)}(n)},function(t){!function(t,n){t.qf.Pu(n),t.qf=void 0,void 0!==t.zf&&(t.zf.Pu(n),t.zf=void 0),yh(t,n)}(n,t)})}(t):function(t,n){var i=t.ih;(function(t){t.Wf=t.Vf.shift()})(i),ga(t.rh(n),function(){!function(t){t.Wf.Au(void 0),t.Wf=void 0}(i);var n=i.o;if(gf(t),!ph(i)&&"writable"===n){var e=Fh(t);kh(i,e)}Bh(t)},function(n){"writable"===i.o&&xh(t),function(t,n){t.Wf.Pu(n),t.Wf=void 0,yh(t,n)}(i,n)})}(t,i)}}else bh(n)}function Mh(t,n){"writable"===t.ih.o&&Uh(t,n)}function Fh(t){return Lh(t)<=0}function Uh(t,n){var i=t.ih;xh(t),mh(i,n)}function Vh(t){return new h("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Wh(t){return new h("WritableStreamDefaultController.prototype."+t+" can only be used on a WritableStreamDefaultController")}function Hh(t){return new h("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function qh(t){return new h("Cannot "+t+" a stream using a released writer")}function zh(t){t.Go=va(function(n,i){t.af=n,t.ff=i,t.Zf="pending"})}function jh(t,n){zh(t),$h(t,n)}function $h(t,n){void 0!==t.ff&&(pa(t.Go),t.ff(n),t.af=void 0,t.ff=void 0,t.Zf="rejected")}function Xh(t){void 0!==t.af&&(t.af(void 0),t.af=void 0,t.ff=void 0,t.Zf="resolved")}function Gh(t){t.Qf=va(function(n,i){t.sh=n,t.oh=i}),t.th="pending"}function Yh(t,n){Gh(t),Jh(t,n)}function Kh(t){Gh(t),Qh(t)}function Jh(t,n){void 0!==t.oh&&(pa(t.Qf),t.oh(n),t.sh=void 0,t.oh=void 0,t.th="rejected")}function Qh(t){void 0!==t.sh&&(t.sh(void 0),t.sh=void 0,t.oh=void 0,t.th="fulfilled")}v.defineProperties(Oh.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof ea.toStringTag&&v.defineProperty(Oh.prototype,ea.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Zh="undefined"!=typeof DOMException?DOMException:void 0;var tv,nv=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Zh)?Zh:((tv=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),v.defineProperty(tv.prototype,"constructor",{value:tv,writable:!0,configurable:!0}),tv);function iv(t,n,i,e,r,u){var s=Ga(t),o=hh(n);t.wf=!0;var c=!1,a=da(void 0);return va(function(f,v){var d,l,w,g;if(void 0!==u){if(d=function(){var i=new nv("Aborted","AbortError"),u=[];e||u.push(function(){return"writable"===n.o?wh(n,i):da(void 0)}),r||u.push(function(){return"readable"===t.o?Dv(t,i):da(void 0)}),p(function(){return j.all(u.map(function(t){return t()}))},!0,i)},u.aborted)return void d();u.addEventListener("abort",d)}if(b(t,s.Go,function(t){e?_(!0,t):p(function(){return wh(n,t)},!0,t)}),b(n,o.Go,function(n){r?_(!0,n):p(function(){return Dv(t,n)},!0,n)}),l=t,w=s.Go,g=function(){i?_():p(function(){return function(t){var n=t.Jf,i=n.o;return ph(n)||"closed"===i?da(void 0):"errored"===i?la(n.cf):Eh(t)}(o)})},"closed"===l.o?g():ya(w,g),ph(n)||"closed"===n.o){var y=new h("the destination writable stream closed before all data could be piped to it");r?_(!0,y):p(function(){return Dv(t,y)},!0,y)}function m(){var t=a;return wa(a,function(){return t!==a?m():void 0})}function b(t,n,i){"errored"===t.o?i(t.cf):ma(n,i)}function p(t,i,e){function r(){ga(t(),function(){return k(i,e)},function(t){return k(!0,t)})}c||(c=!0,"writable"!==n.o||ph(n)?r():ya(m(),r))}function _(t,i){c||(c=!0,"writable"!==n.o||ph(n)?k(t,i):ya(m(),function(){return k(t,i)}))}function k(t,n){Dh(o),Ia(s),void 0!==u&&u.removeEventListener("abort",d),t?v(n):f(void 0)}pa(va(function(t,n){!function i(e){e?t():wa(c?da(!0):wa(o.Qf,function(){return va(function(t,n){rf(s,{df:function(n){a=wa(Ch(o,n),void 0,ra),t(!1)},vf:function(){return t(!0)},lf:n})})}),i,n)}(!1)}))})}var ev=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!rv(this))throw lv("desiredSize");return hv(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!rv(this))throw lv("close");if(!vv(this))throw new h("The stream is not in a state that permits close");cv(this)},t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!rv(this))throw lv("enqueue");if(!vv(this))throw new h("The stream is not in a state that permits enqueue");return av(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!rv(this))throw lv("error");fv(this,t)},t.prototype[La]=function(t){mf(this);var n=this.Cf(t);return ov(this),n},t.prototype[Ba]=function(t){var n=this.ah;if(this.Tf.length>0){var i=gf(this);this.If&&0===this.Tf.length?(ov(this),Cv(n)):uv(this),t.df(i)}else Ya(n,t),uv(this)},t}();function rv(t){return!!sa(t)&&(!!v.prototype.hasOwnProperty.call(t,"ah")&&t instanceof ev)}function uv(t){sv(t)&&(t.Pf?t.xf=!0:(t.Pf=!0,ga(t.Lf(),function(){t.Pf=!1,t.xf&&(t.xf=!1,uv(t))},function(n){fv(t,n)})))}function sv(t){var n=t.ah;return!!vv(t)&&(!!t.Af&&(!!(Iv(n)&&Ja(n)>0)||hv(t)>0))}function ov(t){t.Lf=void 0,t.Cf=void 0,t.nh=void 0}function cv(t){if(vv(t)){var n=t.ah;t.If=!0,0===t.Tf.length&&(ov(t),Cv(n))}}function av(t,n){if(vv(t)){var i=t.ah;if(Iv(i)&&Ja(i)>0)Ka(i,n,!1);else{var e=void 0;try{e=t.nh(n)}catch(n){throw fv(t,n),n}try{yf(t,n,e)}catch(n){throw fv(t,n),n}}uv(t)}}function fv(t,n){var i=t.ah;"readable"===i.o&&(mf(t),ov(t),Nv(i,n))}function hv(t){var n=t.ah.o;return"errored"===n?null:"closed"===n?0:t.Ff-t.Sf}function vv(t){var n=t.ah.o;return!t.If&&"readable"===n}function dv(t,n,i,e,r,u,s){n.ah=t,n.Tf=void 0,n.Sf=void 0,mf(n),n.Af=!1,n.If=!1,n.xf=!1,n.Pf=!1,n.nh=s,n.Ff=u,n.Lf=e,n.Cf=r,t.gf=n,ga(da(i()),function(){n.Af=!0,uv(n)},function(t){fv(n,t)})}function lv(t){return new h("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function wv(t,n){return _f(t.gf)?function(t){var n,i,e,r,u,s=Ga(t),o=!1,c=!1,a=!1,f=!1,h=!1,v=va(function(t){u=t});function d(t){ma(t.Go,function(n){t===s&&(Ff(e.gf,n),Ff(r.gf,n),f&&h||u(void 0))})}function l(){Jf(s)&&(Ia(s),d(s=Ga(t)));var n={df:function(n){_a(function(){c=!1,a=!1;var i=n,s=n;if(!f&&!h)try{s=wf(n)}catch(n){return Ff(e.gf,n),Ff(r.gf,n),void u(Dv(t,n))}f||Mf(e.gf,i),h||Mf(r.gf,s),o=!1,c?g():a&&y()})},vf:function(){o=!1,f||Bf(e.gf),h||Bf(r.gf),e.gf.Of.length>0&&Wf(e.gf,0),r.gf.Of.length>0&&Wf(r.gf,0),f&&h||u(void 0)},lf:function(){o=!1}};rf(s,n)}function w(n,i){ef(s)&&(Ia(s),d(s=$f(t)));var v=i?r:e,l=i?e:r,w={df:function(n){_a(function(){c=!1,a=!1;var e=i?h:f,r=i?f:h;if(r)e||Hf(v.gf,n);else{var s=void 0;try{s=wf(n)}catch(n){return Ff(v.gf,n),Ff(l.gf,n),void u(Dv(t,n))}e||Hf(v.gf,n),Mf(l.gf,s)}o=!1,c?g():a&&y()})},vf:function(t){o=!1;var n=i?h:f,e=i?f:h;n||Bf(v.gf),e||Bf(l.gf),void 0!==t&&(n||Hf(v.gf,t),!e&&l.gf.Of.length>0&&Wf(l.gf,0)),n&&e||u(void 0)},lf:function(){o=!1}};Qf(s,n,w)}function g(){if(o)return c=!0,da(void 0);o=!0;var t=Uf(e.gf);return null===t?l():w(t.Ef,!1),da(void 0)}function y(){if(o)return a=!0,da(void 0);o=!0;var t=Uf(r.gf);return null===t?l():w(t.Ef,!0),da(void 0)}function m(){}return e=Sv(m,g,function(e){if(f=!0,n=e,h){var r=hf([n,i]),s=Dv(t,r);u(s)}return v}),r=Sv(m,y,function(e){if(h=!0,i=e,f){var r=hf([n,i]),s=Dv(t,r);u(s)}return v}),d(s),[e,r]}(t):function(t,n){var i,e,r,u,s,o=Ga(t),c=!1,a=!1,f=!1,h=!1,v=va(function(t){s=t});function d(){if(c)return a=!0,da(void 0);c=!0;var t={df:function(t){_a(function(){a=!1;var n=t,i=t;f||av(r.gf,n),h||av(u.gf,i),c=!1,a&&d()})},vf:function(){c=!1,f||cv(r.gf),h||cv(u.gf),f&&h||s(void 0)},lf:function(){c=!1}};return rf(o,t),da(void 0)}function l(){}return r=Tv(l,d,function(n){if(f=!0,i=n,h){var r=hf([i,e]),u=Dv(t,r);s(u)}return v}),u=Tv(l,d,function(n){if(h=!0,e=n,f){var r=hf([i,e]),u=Dv(t,r);s(u)}return v}),ma(o.Go,function(t){fv(r.gf,t),fv(u.gf,t),f&&h||s(void 0)}),[r,u]}(t)}function gv(t,n,i){return Va(t,i),function(i){return Ta(t,n,[i])}}function yv(t,n,i){return Va(t,i),function(i){return Ta(t,n,[i])}}function mv(t,n,i){return Va(t,i),function(i){return ka(t,n,[i])}}function bv(t,n){if("bytes"!==(t=""+t))throw new h(n+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function pv(t,n){if("byob"!==(t=""+t))throw new h(n+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function _v(t,n){Ua(t,n);var i=null==t?void 0:t.preventAbort,e=null==t?void 0:t.preventCancel,r=null==t?void 0:t.preventClose,u=null==t?void 0:t.signal;return void 0!==u&&function(t,n){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new h(n+" is not an AbortSignal.")}(u,n+" has member 'signal' that"),{preventAbort:Boolean(i),preventCancel:Boolean(e),preventClose:Boolean(r),signal:u}}v.defineProperties(ev.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof ea.toStringTag&&v.defineProperty(ev.prototype,ea.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var kv=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:Wa(t,"First parameter");var i=ih(n,"Second parameter"),e=function(t,n){Ua(t,n);var i=t,e=null==i?void 0:i.autoAllocateChunkSize,r=null==i?void 0:i.cancel,u=null==i?void 0:i.pull,s=null==i?void 0:i.start,o=null==i?void 0:i.type;return{autoAllocateChunkSize:void 0===e?void 0:$a(e,n+" has member 'autoAllocateChunkSize' that"),cancel:void 0===r?void 0:gv(r,i,n+" has member 'cancel' that"),pull:void 0===u?void 0:yv(u,i,n+" has member 'pull' that"),start:void 0===s?void 0:mv(s,i,n+" has member 'start' that"),type:void 0===o?void 0:bv(o,n+" has member 'type' that")}}(t,"First parameter");if(Ev(this),"bytes"===e.type){if(void 0!==i.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,n,i){var e=v.create(pf.prototype),r=function(){},u=function(){return da(void 0)},s=function(){return da(void 0)};void 0!==n.start&&(r=function(){return n.start(e)}),void 0!==n.pull&&(u=function(){return n.pull(e)}),void 0!==n.cancel&&(s=function(t){return n.cancel(t)});var o=n.autoAllocateChunkSize;if(0===o)throw new h("autoAllocateChunkSize must be greater than 0");qf(t,e,r,u,s,i,o)}(this,e,th(i,0))}else{var r=nh(i);!function(t,n,i,e){var r=v.create(ev.prototype),u=function(){},s=function(){return da(void 0)},o=function(){return da(void 0)};void 0!==n.start&&(u=function(){return n.start(r)}),void 0!==n.pull&&(s=function(){return n.pull(r)}),void 0!==n.cancel&&(o=function(t){return n.cancel(t)}),dv(t,r,u,s,o,i,e)}(this,e,th(i,1),r)}}return v.defineProperty(t.prototype,"locked",{get:function(){if(!Rv(this))throw Ov("locked");return Iv(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Rv(this)?Iv(this)?la(new h("Cannot cancel a stream that already has a reader")):Dv(this,t):la(Ov("cancel"))},t.prototype.getReader=function(t){if(void 0===t&&(t=void 0),!Rv(this))throw Ov("getReader");return void 0===function(t,n){Ua(t,n);var i=null==t?void 0:t.mode;return{mode:void 0===i?void 0:pv(i,n+" has member 'mode' that")}}(t,"First parameter").mode?Ga(this):$f(this)},t.prototype.pipeThrough=function(t,n){if(void 0===n&&(n={}),!Rv(this))throw Ov("pipeThrough");Ha(t,1,"pipeThrough");var i=function(t,n){Ua(t,n);var i=null==t?void 0:t.readable;qa(i,"readable","ReadableWritablePair"),Xa(i,n+" has member 'readable' that");var e=null==t?void 0:t.writable;return qa(e,"writable","ReadableWritablePair"),ch(e,n+" has member 'writable' that"),{readable:i,writable:e}}(t,"First parameter"),e=_v(n,"Second parameter");if(Iv(this))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(lh(i.writable))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return pa(iv(this,i.writable,e.preventClose,e.preventAbort,e.preventCancel,e.signal)),i.readable},t.prototype.pipeTo=function(t,n){if(void 0===n&&(n={}),!Rv(this))return la(Ov("pipeTo"));if(void 0===t)return la("Parameter 1 is required in 'pipeTo'.");if(!dh(t))return la(new h("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var i;try{i=_v(n,"Second parameter")}catch(t){return la(t)}return Iv(this)?la(new h("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):lh(t)?la(new h("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):iv(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)},t.prototype.tee=function(){if(!Rv(this))throw Ov("tee");return hf(wv(this))},t.prototype.values=function(t){if(void 0===t&&(t=void 0),!Rv(this))throw Ov("values");var n,i,e,r,u,s=function(t,n){Ua(t,n);var i=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(i)}}(t,"First parameter");return n=this,i=s.preventCancel,e=Ga(n),r=new sf(e,i),(u=v.create(of)).kf=r,u},t}();function Tv(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var u=v.create(kv.prototype);return Ev(u),dv(u,v.create(ev.prototype),t,n,i,e,r),u}function Sv(t,n,i){var e=v.create(kv.prototype);return Ev(e),qf(e,v.create(pf.prototype),t,n,i,0,void 0),e}function Ev(t){t.o="readable",t.sf=void 0,t.cf=void 0,t.wf=!1}function Rv(t){return!!sa(t)&&(!!v.prototype.hasOwnProperty.call(t,"gf")&&t instanceof kv)}function Iv(t){return void 0!==t.sf}function Dv(t,n){if(t.wf=!0,"closed"===t.o)return da(void 0);if("errored"===t.o)return la(t.cf);Cv(t);var i=t.sf;return void 0!==i&&Jf(i)&&(i.Bf.forEach(function(t){t.vf(void 0)}),i.Bf=new Sa),ba(t.gf[La](n),ra)}function Cv(t){t.o="closed";var n=t.sf;void 0!==n&&(Aa(n),ef(n)&&(n.hf.forEach(function(t){t.vf()}),n.hf=new Sa))}function Nv(t,n){t.o="errored",t.cf=n;var i=t.sf;void 0!==i&&(Oa(i,n),ef(i)?(i.hf.forEach(function(t){t.lf(n)}),i.hf=new Sa):(i.Bf.forEach(function(t){t.lf(n)}),i.Bf=new Sa))}function Ov(t){return new h("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function Av(t,n){Ua(t,n);var i=null==t?void 0:t.highWaterMark;return qa(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:za(i)}}v.defineProperties(kv.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof ea.toStringTag&&v.defineProperty(kv.prototype,ea.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof ea.asyncIterator&&v.defineProperty(kv.prototype,ea.asyncIterator,{value:kv.prototype.values,writable:!0,configurable:!0});var Pv=function(t){return t.byteLength};try{v.defineProperty(Pv,"name",{value:"size",configurable:!0})}catch(Za){}var xv=function(){function t(t){Ha(t,1,"ByteLengthQueuingStrategy"),t=Av(t,"First parameter"),this.fh=t.highWaterMark}return v.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!Bv(this))throw Lv("highWaterMark");return this.fh},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"size",{get:function(){if(!Bv(this))throw Lv("size");return Pv},enumerable:!1,configurable:!0}),t}();function Lv(t){return new h("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function Bv(t){return!!sa(t)&&(!!v.prototype.hasOwnProperty.call(t,"fh")&&t instanceof xv)}v.defineProperties(xv.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof ea.toStringTag&&v.defineProperty(xv.prototype,ea.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var Mv=function(){return 1};try{v.defineProperty(Mv,"name",{value:"size",configurable:!0})}catch(Za){}var Fv=function(){function t(t){Ha(t,1,"CountQueuingStrategy"),t=Av(t,"First parameter"),this.hh=t.highWaterMark}return v.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!Vv(this))throw Uv("highWaterMark");return this.hh},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"size",{get:function(){if(!Vv(this))throw Uv("size");return Mv},enumerable:!1,configurable:!0}),t}();function Uv(t){return new h("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function Vv(t){return!!sa(t)&&(!!v.prototype.hasOwnProperty.call(t,"hh")&&t instanceof Fv)}function Wv(t,n,i){return Va(t,i),function(i){return Ta(t,n,[i])}}function Hv(t,n,i){return Va(t,i),function(i){return ka(t,n,[i])}}function qv(t,n,i){return Va(t,i),function(i,e){return Ta(t,n,[i,e])}}v.defineProperties(Fv.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof ea.toStringTag&&v.defineProperty(Fv.prototype,ea.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var zv=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===t&&(t=null);var e=ih(n,"Second parameter"),r=ih(i,"Third parameter"),u=function(t,n){Ua(t,n);var i=null==t?void 0:t.flush,e=null==t?void 0:t.readableType,r=null==t?void 0:t.start,u=null==t?void 0:t.transform,s=null==t?void 0:t.writableType;return{flush:void 0===i?void 0:Wv(i,t,n+" has member 'flush' that"),readableType:e,start:void 0===r?void 0:Hv(r,t,n+" has member 'start' that"),transform:void 0===u?void 0:qv(u,t,n+" has member 'transform' that"),writableType:s}}(t,"First parameter");if(void 0!==u.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==u.writableType)throw new RangeError("Invalid writableType specified");var s,o=th(r,0),c=nh(r),a=th(e,1),f=nh(e);!function(t,n,i,e,r,u){function s(){return n}t.vh=function(t,n,i,e,r,u){void 0===r&&(r=1),void 0===u&&(u=function(){return 1});var s=v.create(fh.prototype);return vh(s),Ph(s,v.create(Oh.prototype),t,n,i,e,r,u),s}(s,function(n){return function(t,n){var i=t.dh;if(t.jf){var e=t.lh;return ba(e,function(){var e=t.vh,r=e.o;if("erroring"===r)throw e.cf;return Zv(i,n)})}return Zv(i,n)}(t,n)},function(){return function(t){var n=t.wh,i=t.dh,e=i.gh();return Jv(i),ba(e,function(){if("errored"===n.o)throw n.cf;cv(n.gf)},function(i){throw $v(t,i),n.cf})}(t)},function(n){return function(t,n){return $v(t,n),da(void 0)}(t,n)},i,e),t.wh=Tv(s,function(){return function(t){return Gv(t,!1),t.lh}(t)},function(n){return Xv(t,n),da(void 0)},r,u),t.jf=void 0,t.lh=void 0,t.yh=void 0,Gv(t,!0),t.dh=void 0}(this,va(function(t){s=t}),a,f,o,c),function(t,n){var i=v.create(Yv.prototype),e=function(t){try{return Qv(i,t),da(void 0)}catch(t){return la(t)}},r=function(){return da(void 0)};void 0!==n.transform&&(e=function(t){return n.transform(t,i)});void 0!==n.flush&&(r=function(){return n.flush(i)});!function(t,n,i,e){n.mh=t,t.dh=n,n.bh=i,n.gh=e}(t,i,e,r)}(this,u),void 0!==u.start?s(u.start(this.dh)):s(void 0)}return v.defineProperty(t.prototype,"readable",{get:function(){if(!jv(this))throw nd("readable");return this.wh},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"writable",{get:function(){if(!jv(this))throw nd("writable");return this.vh},enumerable:!1,configurable:!0}),t}();function jv(t){return!!sa(t)&&(!!v.prototype.hasOwnProperty.call(t,"dh")&&t instanceof zv)}function $v(t,n){fv(t.wh.gf,n),Xv(t,n)}function Xv(t,n){Jv(t.dh),Mh(t.vh.Uf,n),t.jf&&Gv(t,!1)}function Gv(t,n){void 0!==t.lh&&t.yh(),t.lh=va(function(n){t.yh=n}),t.jf=n}v.defineProperties(zv.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof ea.toStringTag&&v.defineProperty(zv.prototype,ea.toStringTag,{value:"TransformStream",configurable:!0});var Yv=function(){function t(){throw new h("Illegal constructor")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Kv(this))throw td("desiredSize");return hv(this.mh.wh.gf)},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Kv(this))throw td("enqueue");Qv(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Kv(this))throw td("error");var n;n=t,$v(this.mh,n)},t.prototype.terminate=function(){if(!Kv(this))throw td("terminate");!function(t){var n=t.mh;cv(n.wh.gf);var i=new h("TransformStream terminated");Xv(n,i)}(this)},t}();function Kv(t){return!!sa(t)&&(!!v.prototype.hasOwnProperty.call(t,"mh")&&t instanceof Yv)}function Jv(t){t.bh=void 0,t.gh=void 0}function Qv(t,n){var i=t.mh,e=i.wh.gf;if(!vv(e))throw new h("Readable side is not in a state that permits enqueue");try{av(e,n)}catch(t){throw Xv(i,t),i.wh.cf}(function(t){return!sv(t)})(e)!==i.jf&&Gv(i,!0)}function Zv(t,n){return ba(t.bh(n),void 0,function(n){throw $v(t.mh,n),n})}function td(t){return new h("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function nd(t){return new h("TransformStream.prototype."+t+" can only be used on a TransformStream")}v.defineProperties(Yv.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof ea.toStringTag&&v.defineProperty(Yv.prototype,ea.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var id,ed=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return vt(n,t),ft(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(On);function rd(t){return n=[t],new kv({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function ud(t){return rd(new y(t))}function sd(t,n){return function(t,n){var i=n,e=t.getReader(),r=new Vs,u=function(){s();var t=new lu;e.cancel(t).catch(Mt),r.Lu(t)},s=function(){i&&(i.Mr(u),i=void 0)};i&&(i.Nr?u():i.Br(u));var o=[];return j.resolve(e.read()).then(function t(n){return n.done?(s(),j.resolve(o)):(o.push(n.value),j.resolve(e.read()).then(t))}).then(function(t){s(),r.xu(t)},function(t){s(),r.Lu(t)}),r.Ou}(t,n).then(function(t){return Ju(t).buffer})}function od(t,n){var i=n,e=new zv,r=e.readable,u=e.writable,s=u.getWriter(),o=function(){i&&i.Wr()};return s.closed.then(o,o),t.then(function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(Mt)},function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(Mt)}),r}function cd(t){return Ns(new y(t))}function ad(t){return Os(t).buffer}!function(t){t[t.Ka=0]="Ka",t[t.ph=1]="ph"}(id||(id={}));var fd="content-type",hd="text/plain;charset=UTF-8",vd=function(){function t(){}var n=t.prototype;return n._h=function(t){return this.kh(t).then(JSON.parse)},n.Th=function(t,n){switch(t){case Zc.Ga:return this.Sh(n);case Zc.Ya:return this._h(n);case Zc.Ka:return this.Eh();case Zc.ri:return this.kh(n);default:throw new h}},t}();function dd(t,n,i){if(t instanceof vd)return t;if(t instanceof kv)return function(t,n){return new wd({gr:id.Ka,Eh:t,Rh:ld(n)})}(t,i);var e=ld(i),r=j.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{gr:Zc.ri,Ih:t,Rh:n||hd};if(t instanceof ArrayBuffer||Yu(t))return{gr:Zc.Ga,Ih:kd(t),Rh:n};if(At(t)||Ct(t))return{gr:Zc.Ya,Ih:t,Rh:n};throw new h("Unsupported BodyInit type")}return{gr:Zc.ri,Ih:null,Rh:n}}(t,e)});return new wd({gr:id.ph,Ou:r,Dh:n})}function ld(t){return(t.get(fd)||"").toLowerCase()}var wd=function(t){function n(n){var i;return(i=t.call(this)||this).Ch=!1,i.Nh=void 0,i.Oh=new Vs,i.Oh.Ou.catch(Mt),i.Ah(n),i}vt(n,t);var i=n.prototype;return i.Ph=function(){return this.Oh.Ou},i.kh=function(t){return this.xh(gd,t)},i._h=function(t){return this.xh(md,t)},i.Sh=function(t){return this.xh(pd,t)},i.Eh=function(){return this.Lh((t=this.Nh).gr===id.Ka?t.Eh:od(t.Ou.then(_d).then(ud),t.Dh));var t},i.xh=function(t,n){if(this.Ch)return j.reject(new h("Already used"));this.Ch=!0;var i=t(this.Nh,n);return this.Oh.xu(i.then(Mt)),i},i.Lh=function(t){if(this.Ch)throw new h("Already used");if(t.locked)throw new h("Body stream is locked");this.Ch=!0;var n=new zv,i=j.resolve(t.pipeTo(n.writable));return this.Oh.xu(i),n.readable},i.Ah=function(t){this.Nh=t,t.gr===id.ph&&t.Ou.catch(Mt)},i.Bh=function(){if(this.Ch)throw new h("Already used");var t=function(t){if(t.gr===id.Ka){var n=t.Eh.tee(),i=n[0],e=n[1];return[{gr:t.gr,Eh:i,Rh:t.Rh},{gr:t.gr,Eh:e,Rh:t.Rh}]}var r=t.Dh.qr(),u=r[0],s=r[1];return[{gr:t.gr,Ou:t.Ou,Dh:u},{gr:t.gr,Ou:t.Ou,Dh:s}]}(this.Nh),i=t[0],e=t[1];return this.Ah(i),new n(e)},ft(n,[{key:"Mh",get:function(){return this.Ch}}]),n}(vd);function gd(t,n){return t.gr===id.Ka?sd(t.Eh,n).then(cd):(n&&t.Dh.Hr(n),pu(t.Ou.then(yd),t.Dh))}function yd(t){switch(t.gr){case Zc.ri:return j.resolve(t.Ih||"");case Zc.Ga:return j.resolve(t.Ih).then(cd);case Zc.Ya:return j.resolve(t.Ih).then(JSON.stringify)}}function md(t,n){return t.gr===id.Ka?gd(t,n).then(JSON.parse):(n&&t.Dh.Hr(n),pu(t.Ou.then(bd),t.Dh))}function bd(t){return t.gr===Zc.Ya?j.resolve(t.Ih):yd(t).then(JSON.parse)}function pd(t,n){return t.gr===id.Ka?sd(t.Eh,n):(n&&t.Dh.Hr(n),pu(t.Ou.then(_d),t.Dh))}function _d(t){switch(t.gr){case Zc.Ga:return j.resolve(t.Ih);case Zc.ri:case Zc.Ya:return yd(t).then(ad)}}function kd(t){return t instanceof ArrayBuffer?t:Fs(xs(t)).buffer}function Td(t){return t.Fh>=200&&t.Fh<=299||304===t.Fh}var Sd,Ed,Rd,Id,Dd=function(t){function n(n,i){var e,r,u,s,o,c;i?(r=i.Uh,u=i.Vh,s=i.Fh,o=i.Wh,c=i.Hh):(r=[],u=Zc.ri,s=200,o="OK",c=!1);var a=n.qh,f=new ta(n.Uh||r),h=n.Vh||u,v=n.zh||(i&&i.qh===a?i.zh:a.jh),d=i?i.$h:null,l=dd(void 0!==n.Pi?n.Pi:d,n.Dh||new du,f);return(e=t.call(this,l)||this).Uh=void 0,e.qh=void 0,e.zh=void 0,e.Vh=void 0,e.Fh=void 0,e.Wh=void 0,e.Hh=void 0,e.Uh=f,e.qh=a,e.zh=v,e.Vh=h,e.Fh=void 0!==n.Fh?n.Fh:s,e.Wh=void 0!==n.Wh?String(n.Wh):o,e.Hh=n.Hh||c,e}vt(n,t);var i=n.prototype;return i.Pi=function(t){return this.Th(this.Vh,t)},i.Ru=function(){return new n({Pi:this.Bh(),qh:this.qh},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).$h=void 0,i.$h=n,i}vt(n,t);var i=n.prototype;return i.Ph=function(){return this.$h.Ph()},i.kh=function(t){return this.$h.kh(t)},i._h=function(t){return this.$h._h(t)},i.Sh=function(t){return this.$h.Sh(t)},i.Eh=function(){return this.$h.Eh()},i.Bh=function(){return this.$h.Bh()},ft(n,[{key:"Mh",get:function(){return this.$h.Mh}}]),n}(vd));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Sd||(Sd={})),function(t){t.Xh="",t.Gh="manifest",t.Yh="segment",t.Kh="content-protection"}(Ed||(Ed={})),function(t){t.Xh="",t.Jh="initialization-segment",t.Qh="fairplay-license",t.Zh="fairplay-certificate",t.tv="widevine-license",t.nv="widevine-certificate",t.ev="playready-license",t.rv="clearkey-license",t.uv="aes128-key"}(Rd||(Rd={})),function(t){t.Xh="",t.sv="audio",t.ov="video",t.ri="text",t.cv="image"}(Id||(Id={}));var Cd=function(t,n){this.Ih=void 0,this.Uh=void 0,this.av=void 0,this.Vh=void 0,this.fv=void 0,this.zr=void 0,this.gr=void 0,this.hv=void 0,this.vv=void 0,this.jh=void 0,this.dv=void 0,this.lv=void 0;var i,e,r,u,s,o,c,a,f,h,v,d=t.jh;n?(i=n.Ih,e=n.Uh,r=n.av,u=n.Vh,s=n.fv,o=n.zr,c=n.gr,a=n.hv,f=n.vv,h=n.dv,v=n.lv):(i=null,e={},r=Sd.GET,u=Zc.ri,s=0,c=Ed.Xh,a=Rd.Xh,f=Id.Xh,h=!1),this.jh=d,this.Ih=t.Ih||i,this.Uh=new ta(t.Uh||e),this.av=t.av||r,this.Vh=t.Vh||u,this.fv=void 0!==t.fv?Number(t.fv)||0:s,this.zr=t.zr||o||(new du).zr,this.gr=t.gr||c,this.hv=t.hv||a,this.vv=t.vv||f,this.dv=void 0!==t.dv?Boolean(t.dv):h,this.lv=t.lv||v},Nd=function(){function t(){}var n=t.prototype;return n.qh=function(t){var n=function(t){return new Dd({Pi:null,Uh:{},qh:t,zh:t.jh,Vh:t.Vh,Fh:0,Wh:Qc.Ia})}(new Cd(t));return j.resolve(n)},n.wv=function(t){},n.et=function(){},t}();var Od=function(){function t(t,n){void 0===n&&(n=!0),this.gv=void 0,this.yv=void 0,this.gv=t,this.yv=n}var n=t.prototype;return n.qh=function(t){var n=this.mv(t);return this.gv.qh(n)},n.wv=function(t){return this.gv.wv(this.bv(t))},n.mv=function(n){var i=new Cd(n);if(!this.yv){var e=t.pv(i.jh);i=new Cd({jh:e},i)}return i},n.bv=function(n){var i=n.jh;return this.yv||(i=t.pv(i)),{jh:i,Ih:n.Ih}},t.pv=function(t){return st.Ye&&zr(t,"http://")?t.replace(":","s:"):t},n.et=function(){this.gv.et()},ft(t,null,[{key:"_v",get:function(){return t.kv||(t.kv=new t(new Nd)),t.kv}}]),t}();function Ad(t,n){for(var i=0,e=v.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function Pd(t,n){var i=st.qe(t);return n&&!jr(i,"/")&&(i+="/"),i}Od.kv=void 0;var xd,Ld=/cache:(.+)?(?=&|$)/,Bd="http://webcache.googleusercontent.com/search?q=cache:";function Md(t){if(!zr(t,Bd))return"";var n=st.He(t).search.match(Ld);return n&&n.length>1?n[1]:""}!function(t){t.Tv="HttpOpenError",t.Sv="HttpResponseError",t.Ev="HttpTimeoutError"}(xd||(xd={}));var Fd=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Rv=void 0,r.Rv=n,r}return vt(n,t),ft(n,[{key:"qh",get:function(){return this.Rv}}]),n}(On);var Ud=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.jh+". Invalid URL.",i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return xd.Tv}}]),n}(Fd);var Vd=function(t){function n(n,i,e){var r;return(r=t.call(this,n.qh,null!=e?e:function(t){return"Error while loading "+t.qh.jh+", status code "+t.Fh}(n),i)||this).Iv=void 0,r.Iv=n,r}return vt(n,t),ft(n,[{key:"name",get:function(){return xd.Sv}},{key:"Dv",get:function(){return this.Iv}}]),n}(Fd);var Wd=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.jh+" timed out after "+t.fv+" seconds."}(n),i)||this}return vt(n,t),ft(n,[{key:"name",get:function(){return xd.Ev}}]),n}(Fd),Hd=function(t,n){return(Hd=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function qd(t,n){function i(){this.constructor=t}Hd(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}var zd="object"==typeof i?i:"object"==typeof t?t:"object"==typeof global?global:null;var jd=function(){var t=zd.Blob;if(t)try{return new t,function(t,n){return new zd.Blob(t,n)}}catch(t){}var n,i=zd.BlobBuilder||zd.WebKitBlobBuilder||zd.MozBlobBuilder||zd.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,u=t;r<u.length;r++){var s=u[r];e.append(s)}return e.getBlob(i&&i.type||"")}):null}(),$d="function"==typeof kv?kv:void 0;function Xd(t){return t&&"function"==typeof t.getReader}function Gd(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Xd(i)}catch(t){return!1}}var Yd=function(){function t(t,n){this.sf=t,this.Cv=n}return t.prototype.pull=function(t){var n=this;return this.sf.read().then(function(i){n.Cv&&n.Cv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.sf.cancel(t)},t}();function Kd(t,n){return n.constructor===t?n:new t(new Yd(n.getReader()),{highWaterMark:0})}var Jd=function(){function t(t,n){this.Nv=t,this.Ov=n}return t.prototype.pull=function(t){return this.Nv().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.Ov&&this.Ov(t)},t}();function Qd(t,n,i){return new t(new Jd(n,i),{highWaterMark:0})}var Zd={searchParams:"URLSearchParams"in zd,iterable:"Symbol"in zd&&"iterator"in Symbol,blob:"FileReader"in zd&&!!jd,formData:"FormData"in zd,arrayBuffer:"ArrayBuffer"in zd,stream:Gd($d),streamRequest:"Request"in zd&&"body"in zd.Request.prototype,streamResponse:"Response"in zd&&"body"in zd.Response.prototype,abort:"AbortController"in zd&&"Request"in zd&&"signal"in zd.Request.prototype,encoding:"TextEncoder"in zd&&"TextDecoder"in zd,url:"URL"in zd&&function(t){try{return new zd.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in zd&&/Firefox\//.test(zd.navigator.userAgent)};function tl(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new h("Invalid character in header field name");return t}function nl(t){return"string"!=typeof t&&(t=String(t)),t}function il(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Zd.iterable&&(n[Symbol.iterator]=function(){return n}),n}var el=function(){function t(t){var n=this;this.sr={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return Zd.iterable&&t&&t[Symbol.iterator]}(t)?t&&v.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=tl(t),n=nl(n);var i=t.toLowerCase();if(this.sr.hasOwnProperty(i)){var e=this.sr[i],r=e[1];e[1]=r?r+", "+n:n}else this.sr[i]=[t,n]},t.prototype.delete=function(t){var n=tl(t).toLowerCase();delete this.sr[n]},t.prototype.get=function(t){var n=tl(t).toLowerCase();return this.sr.hasOwnProperty(n)?this.sr[n][1]:null},t.prototype.has=function(t){var n=tl(t).toLowerCase();return this.sr.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=tl(t)).toLowerCase();this.sr[i]=[t,nl(n)]},t.prototype.forEach=function(t,n){for(var i in this.sr)this.sr.hasOwnProperty(i)&&t.call(n,this.sr[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),il(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),il(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),il(t)},t.prototype.asList=function(){var t=[];for(var n in this.sr)if(this.sr.hasOwnProperty(n)){var i=this.sr[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function rl(){}Zd.iterable&&(el.prototype[Symbol.iterator]=el.prototype.entries);var ul,sl,ol,cl=d.min,al=String.fromCharCode,fl=16384;function hl(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=fl){var r=cl(e+fl,n);i.push(al.apply(null,t.slice(e,r)))}return i.join("")}(n)}function vl(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function dl(t,n){return t>>n&63|128}function ll(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(vl(t),n.push(t>>12&15|224),n.push(dl(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(dl(t,12)),n.push(dl(t,6))),n.push(63&t|128)):n.push(t)}function wl(){if(ol>=sl)throw new f("Invalid byte index");var t=255&ul[ol];if(ol++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function gl(){var t,n;if(ol>sl)throw new f("Invalid byte index");if(ol===sl)return!1;if(t=255&ul[ol],ol++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|wl())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|wl()<<6|wl())>=2048)return vl(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|wl()<<12|wl()<<6|wl())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var yl=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function ml(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function bl(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function pl(t){return t&&DataView.prototype.isPrototypeOf(t)}var _l,kl=ArrayBuffer.isView||function(t){return t&&(yl.indexOf(v.prototype.toString.call(t))>-1||pl(t))};function Tl(t){if(t.bodyUsed)return j.reject(new h("Already used"));t.bodyUsed=!0}function Sl(t){return new j(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function El(t){return Zd.encoding?new zd.TextDecoder("utf-8").decode(new y(t)):hl(function(t){sl=(ul=t).length,ol=0;for(var n,i=[];!1!==(n=gl());)i.push(n);return i}(new y(t)))}function Rl(t){return Zd.encoding?(new zd.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)ll(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function Il(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,u=t.value;return r?j.resolve(i):(i.push(u),n.read().then(e))};return n.read().then(e)}function Dl(t){return Il(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(c=e[i]).byteLength;for(var r=new y(n),u=0,s=0,o=t;s<o.length;s++){var c=o[s];r.set(c,u),u+=c.byteLength}return r}(t).buffer})}function Cl(t){return t.slice?t.slice(0):Nl(new y(t))}function Nl(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Ol(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function Al(t){var n=t;if(n.bodyUsed)throw new h("Already used");if(n.Av===_l.Pv){if(!n.xv.tee)throw new f("could not clone ReadableStream body");var i=n.xv.tee(),e=i[0],r=i[1];return n.body=e,n.xv=e,n.Lv=e,r}return n.Av===_l.Ga?Cl(n.xv):n.Av===_l.ph?n.xv.then(Al):n.Lv}!function(t){t[t.ri=0]="ri",t[t.Bv=1]="Bv",t[t.Mv=2]="Mv",t[t.Ga=3]="Ga",t[t.Pv=4]="Pv",t[t.ph=5]="ph"}(_l||(_l={}));var Pl=function(){function t(n,i){this.bodyUsed=!1;var e,r,u,s=this;if(this.Lv=n||null,n)if("string"==typeof n)this.Av=_l.ri,this.xv=n;else if((u=n)&&"function"==typeof u.then)this.Av=_l.ph,this.xv=j.resolve(n).then(function(n){return new t(n,i)}),this.xv.catch(rl);else if(Zd.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Av=_l.Bv,this.xv=n;else if(Zd.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Av=_l.Mv,this.xv=n;else if(Zd.searchParams&&ml(n))this.Av=_l.ri,this.xv=n.toString();else if(Zd.arrayBuffer&&(bl(n)||kl(n)))pl(n)&&(this.Lv=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.Av=_l.Ga,this.xv=bl(e=n)?Cl(e):Nl(e);else{if(!Zd.stream||!Xd(n))throw new f("unsupported BodyInit type");n=Kd($d,n),this.Av=_l.Pv,this.xv=n,this.Lv=n}else this.Av=_l.ri,this.xv="";this.Fv="",i.has("content-type")?this.Fv=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Fv="text/plain;charset=UTF-8":s.Av===_l.Bv&&s.xv.type?this.Fv=s.xv.type:Zd.searchParams&&ml(n)&&(this.Fv="application/x-www-form-urlencoded;charset=UTF-8"),this.Fv&&i.set("content-type",this.Fv)),Zd.stream&&(null==n?this.body=null:s.Av===_l.Pv?this.body=s.xv:this.body=Qd($d,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=Tl(this);return e||(this.Av===_l.Bv?(t=this.xv,n=new FileReader,i=Sl(n),n.readAsText(t),i):this.Av===_l.Ga?j.resolve(this.xv).then(El):this.Av===_l.Pv?Dl(this.xv).then(El):this.Av===_l.ph?this.xv.then(function(t){return t.text()}):this.Av===_l.Mv?j.reject(new f("could not read FormData body as text")):j.resolve(this.xv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Zd.blob&&(Pl.prototype.blob=function(){var t,n,i=Tl(this);return i||(this.Av===_l.Bv?j.resolve(this.xv):this.Av===_l.Ga?j.resolve(jd([this.xv],{type:this.Fv})):this.Av===_l.Pv?(t=this.xv,n=this.Fv,Il(t).then(function(t){return jd(t,{type:n||""})})):this.Av===_l.ph?this.xv.then(function(t){return t.blob()}):this.Av===_l.Mv?j.reject(new f("could not read FormData body as Blob")):j.resolve(jd([this.xv],{type:this.Fv})))}),Zd.arrayBuffer&&(Pl.prototype.arrayBuffer=function(){var t,n,i;return this.Av===_l.Ga?Tl(this)||j.resolve(this.xv):this.Av===_l.Bv?Tl(this)||(t=this.xv,n=new FileReader,i=Sl(n),n.readAsArrayBuffer(t),i):this.Av===_l.Pv?Dl(this.xv):this.Av===_l.ph?Tl(this)||this.xv.then(function(t){return t.arrayBuffer()}):this.Av===_l.Mv?j.reject(new f("could not read FormData body as ArrayBuffer")):j.resolve(this.xv).then(Rl)}),Zd.formData&&(Pl.prototype.formData=function(){return this.Av===_l.Mv?Tl(this)||j.resolve(this.xv):this.text().then(Ol)});var xl=[301,302,303,307,308],Ll=function(t){function n(n,i){var e=this,r=new el((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return qd(n,t),n.prototype.clone=function(){return new n(Al(this),{status:this.status,statusText:this.statusText,headers:new el(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===xl.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Pl);var Bl,Ml=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new h("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function u(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function o(t){return(o=v.setPrototypeOf?v.getPrototypeOf:function(t){return t.__proto__||v.getPrototypeOf(t)})(t)}function c(t,n){return(c=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!v.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(e){var r=v.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}v.defineProperty(n,"__esModule",{value:!0});var d=function(){function t(){i(this,t),v.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){s(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,u=e.length;r<u;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=o(n).call(this))||"object"!=typeof r&&"function"!=typeof r?a(e):r).listeners||d.call(a(t)),v.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),v.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new h("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,d),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),v.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w});(Bl=Ml)&&Bl.__esModule&&v.prototype.hasOwnProperty.call(Bl,"default")&&Bl.default,Ml.AbortSignal;var Fl=Ml.AbortController,Ul=zd.DOMException;try{new Ul}catch(t){(Ul=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),Ul.prototype.constructor=Ul}var Vl=Fl;function Wl(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Hl(t,n,i){return new j(function(e,r){if(n.signal.aborted)return t.catch(rl),r(ql());var u=function(){n.signal.removeEventListener("abort",u),r(ql())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()})})}function ql(){return new Ul("Aborted","AbortError")}var zl,jl="moz-chunked-arraybuffer";function $l(t){try{var n=new m;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(zl||(zl={}));var Xl=function(){function t(t,n){var i=this;this.Uv=!1,this.Rv=t,this.Vv=n,this.Wv=new m,this.Hv=new j(function(t,n){i.qv=t,i.zv=n})}return t.prototype.send=function(){var t=this;return this.jv().then(function(n){return t.$v(n,t.Vv),t.Hv})},t.prototype.jv=function(){var t=this.Rv;return t.Av===_l.Pv?t.arrayBuffer():j.resolve(t.Lv)},t.prototype.Xv=function(t){this.Rv.onprogress&&this.Rv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Gv=function(t){this.zv(t)},t.prototype.Yv=function(){this.Gv(new h("Network request failed"))},t.prototype.Kv=function(){this.Gv(new h("Network request failed"))},t.prototype.Jv=function(){this.Gv(ql())},t.prototype.$v=function(t,n){var i=this,e=this.Rv,r=this.Wv,u=function(){return i.Qv()};if(e.signal.aborted)return this.Jv();r.onreadystatechange=function(){if(r.readyState>=zl.HEADERS_RECEIVED&&!i.Uv){var t=function(t){var n=new el;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Uv=!0,i.Zv(n)}},r.onprogress=function(t){return i.Xv(t)},r.onload=function(){return i.td()},r.onerror=function(){return i.Yv()},r.ontimeout=function(){return i.Kv()},r.onabort=function(){return i.Jv()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",u),r.onloadend=function(){e.signal.removeEventListener("abort",u)},t?r.send(t):r.send()},t.prototype.Qv=function(){this.Jv(),this.Wv.abort()},t}(),Gl=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.nd=void 0,e.ed=void 0,e}return qd(n,t),n.prototype.Zv=function(t){var n=this;this.nd=new j(function(t,i){n.ed=t,n.rd=i}),this.qv(new Ll(this.nd,t))},n.prototype.td=function(){var t=this.Wv.response;if(null==t){var n=this.Vv;""===n||"text"===n?t=this.Wv.responseText:"document"===n?t=this.Wv.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=jd([]))}this.ed(t)},n.prototype.Gv=function(n){t.prototype.Gv.call(this,n),this.rd&&this.rd(n)},n}(Xl),Yl=function(t){function n(n){var i=t.call(this,n,jl)||this;return i.ud=void 0,i.sd=void 0,i.od=!1,i}return qd(n,t),n.prototype.Zv=function(t){var n=this;this.ud=new $d({start:function(t){n.sd=t},cancel:function(){n.od=!0,n.Qv()}}),this.qv(new Ll(this.ud,t))},n.prototype.Xv=function(n){this.od||this.sd.enqueue(new y(this.Wv.response)),t.prototype.Xv.call(this,n)},n.prototype.td=function(){this.sd.close()},n.prototype.Gv=function(n){t.prototype.Gv.call(this,n),this.sd&&!this.od&&(this.od=!0,this.sd.error(n))},n}(Xl),Kl=function(){var t=Zd.firefox&&$l(jl);return Kl=function(){return t},t},Jl=function(){var t;return t=Zd.arrayBuffer&&$l("arraybuffer")?"arraybuffer":Zd.blob&&$l("blob")?"blob":"",Jl=function(){return t},t};function Ql(t){return(Zd.stream&&Kl()?new Yl(t):new Gl(t,Jl())).send()}var Zl=zd.fetch,tw=zd.Request;zd.Response;var nw=zd.AbortController;var iw=["http:","https:"];var ew=function(){try{if(Zd.streamRequest){var t=new tw("about:blank",{body:"",method:"POST"}).body;if(t&&Gd(t.constructor))return t.constructor}}catch(t){}}();function rw(t,n,i){var e;if(Zd.stream){var r=void 0;if(Zd.streamResponse){var u=t.body;r=u&&Kd($d,u)}else r=Qd($d,function(){return Hl(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new Yd(n.getReader(),i),{highWaterMark:0})}($d,t,function(t){var r=t.done,u=t.value;r?i=void 0===i?e:i:e+=u.byteLength,n(e,i)})}(r,i,uw(t.headers))),e=r}else{var s=Hl(t.arrayBuffer(),n,!0);i&&(s=function(t,n,i){return j.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(s,i,uw(t.headers))),e=s}return new Ll(e,t)}function uw(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function sw(t){var n=new Vl;return t.signal&&Wl(n,t.signal),function(t,n){var i,e,r=t;if(i=r.Av===_l.Pv?Zd.streamRequest&&ew?j.resolve(Kd(ew,r.xv)):Hl(t.arrayBuffer(),n,!1):Hl(j.resolve(t.Lv),n,!1),Zd.abort){var u=new nw;Wl(u,n.signal),e=u.signal}return i.then(function(n){return new tw(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof el?i:new el(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return Zl(i).then(function(i){return rw(i,n,t.onprogress)})})}var ow=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var cw=function(t){function n(i,e){var r,u,s,o,c,a,f,v,d,l=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new h("Already used");r=i.url,u=i.credentials,e.headers||(s=new el(i.headers)),o=i.method,c=i.mode,a=i.referrer,f=i.referrerPolicy,v=i.signal,d=i.onprogress,w||null==i.Lv||(w=i.Lv,i.bodyUsed=!0)}else r=String(i),u="same-origin",o="GET",c="cors",a="about:client",f="",v=null,d=null;if(!e.headers&&s||(s=new el(e.headers)),e&&(a="about:client",f=""),(l=t.call(this,w,s)||this).url=r,l.headers=s,l.credentials=e.credentials||u,l.method=function(t){var n=t.toUpperCase();return ow.indexOf(n)>-1?n:t}(e.method||o),l.mode=e.mode||c,l.signal=e.signal||v||(new Vl).signal,l.referrer=void 0!==e.referrer?e.referrer:a,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:f,l.onprogress=e.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new h("Body not allowed for GET or HEAD requests");return l}return qd(n,t),n.prototype.clone=function(){return new n(this,{body:Al(this)})},n}(Pl),aw="function"==typeof Zl&&Zd.stream&&Zd.streamResponse&&Zd.url;function fw(t,n){return new j(function(i){var e=new cw(t,n);i((aw&&function(t){try{return iw.indexOf(new zd.URL(t,zd.location.href).protocol)>=0}catch(t){return!1}}(e.url)?sw:Ql)(e))})}fw.polyfill=!0;var hw=function(){function t(t){this.Dv=void 0,this.Rv=void 0,this.Xf=new du,this.Iv=void 0,this.fd=!1,this.Rv=t,this.Xf.Hr(t.zr),this.Dv=this.hd()}var n=t.prototype;return n.hd=function(){var t,n,i,e,r,u,o,c,a=this;return lr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.Rv).fv&&s(function(){a.fd=!0,a.Xf.Wr()},t.fv),f.prev=2,n=fw(t.jh,{method:t.av,headers:t.Uh.Ja(),body:t.Ih,credentials:t.dv?"include":"same-origin",signal:lw(this.Xf.zr),onprogress:t.lv}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new Ud(t,f.t0);case 9:return f.prev=9,f.next=12,lr.awrap(n);case 12:i=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),wu(e=this.vd(f.t1))&&this.Xf.Wr(),e;case 20:if(r=i.url||t.jh,u=0===i.status&&"file:"===(h=r,st.He(h).protocol)?200:i.status,o=new vw(this,i,this.Xf),c=new Dd({Pi:o,qh:t,Vh:t.Vh,Uh:new ta(i.headers.asList()),Fh:u,Wh:i.statusText,zh:r}),this.Iv=c,!Td(c)){f.next=29;break}return f.abrupt("return",c);case 29:throw new Vd(c);case 30:case"end":return f.stop()}var h},null,this,[[2,6],[9,15]],j)},n.vd=function(t){return wu(t)?this.fd?new Wd(this.Rv):new lu(t.message,t):this.Iv?new Vd(this.Iv,t):new Ud(this.Rv,t)},t}(),vw=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).dd=void 0,r.ld=void 0,r.Xf=void 0,r.Oh=new Vs,r.dd=n,r.ld=i,r.Xf=e,r.Oh.Ou.catch(Mt),r}vt(n,t);var i=n.prototype;return i.Ph=function(){return this.Oh.Ou},i.kh=function(t){return this.xh(this.ld.text(),t)},i.Sh=function(t){return this.xh(this.ld.arrayBuffer(),t)},i.Eh=function(){var t=this.ld.body;return t?this.Lh(t):od(this.Sh().then(ud),this.Xf)},i.Bh=function(){var t=this.ld.clone(),i=this.Xf.qr(),e=i[0],r=i[1];return this.Xf=e,new n(this.dd,t,r)},i.xh=function(t,n){var i=this;n&&this.Xf.Hr(n);var e=j.resolve(t).catch(function(t){throw i.dd.vd(t)});return e=pu(e,this.Xf),this.Oh.xu(e.then(Mt)),e},i.Lh=function(t){var n=this,i=new zv,e=j.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.dd.vd(t);throw i.writable.abort(e).catch(Mt),e});return e=pu(e,this.Xf),this.Oh.xu(e.then(Mt)),i.readable},ft(n,[{key:"Mh",get:function(){return this.ld.bodyUsed}}]),n}(vd),dw="abort";function lw(t){var n=new Vl;if(t.Nr)n.abort();else if(!t.Or){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(dw,i),t.Mr(i),t.Ur(e)};n.signal.addEventListener(dw,i),t.Br(i),t.Fr(e)}return n.signal}var ww,gw=function(){function t(){}var n=t.prototype;return n.qh=function(t){return new hw(t).Dv},n.wv=function(t){if(nt&&nt.sendBeacon)nt.sendBeacon(t.jh,Kc([t.Ih],{type:t.Rh}));else{var n=t.Rh?{"Content-type":t.Rh}:void 0;Tu(this.qh(new Cd({av:Sd.POST,jh:t.jh,Ih:t.Ih,Uh:n})))}},n.et=function(){},t}(),yw=function(n){function i(){for(var i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(i=n.call.apply(n,[this].concat(r))||this).wd=void 0,i.gd=function(){if(St.kn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.yd=St.jn,i.md=void 0,i}return vt(i,n),ft(i,[{key:"Le",get:function(){return this.wd||(this.wd=new Zr($c())),this.wd}},{key:"bd",get:function(){return this.gd}},{key:"pd",get:function(){return this.yd}},{key:"_d",get:function(){return!1}},{key:"kd",get:function(){return Gc.fa()}},{key:"Td",get:function(){return{Sd:Jc}}},{key:"Ed",get:function(){return u.connection&&u.connection.effectiveType||"default"}},{key:"Rd",get:function(){return u.connection&&u.connection.type||"unknown"}},{key:"Id",get:function(){return this.md||(this.md=new Od(new gw)),this.md}}]),i}(hr);dt(new yw),function(t){t.Dd="Cd",t.Nd="Od"}(ww||(ww={})),ww.Dd,ww.Nd;var mw=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Ad=void 0,e}return vt(n,t),ft(n,[{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}}]),n}(Ou);var bw,pw=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n}(mw),_w=function(t){function n(n){return t.call(this,n)||this}return vt(n,t),n}(Ou),kw=function(t){function n(n){var i;return(i=t.call(this,ww.Dd)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new Tw(this.Ld.Pd)},n}(pw),Tw=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return vt(n,t),n}(_w),Sw=function(t){function n(n){var i;return(i=t.call(this,ww.Nd)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new Ew(this.Ld.Pd)},n}(pw),Ew=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return vt(n,t),n}(_w);!function(t){t.Bd="Md",t.Fd="Ud",t.Vd="Wd",t.Hd="qd",t.zd="jd",t.$d="Xd",t.Gd="Yd",t.Kd="Jd",t.Qd="sc",t.Zd="tl",t.nl="il",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(bw||(bw={}));var Rw=function(t){function n(){var n;return(n=t.call(this)||this).ul=[],n.Ad=void 0,n}vt(n,t);var i=n.prototype;return i.sl=function(t){return this.ul[t]},i.ol=function(t){return!(!t||fu(this.ul,t))&&(this.ul.push(t),this.Ad&&this.Ad.push(t.Pd),t.Kr(bw.$d,this.Gr),this.Yr(new kw(t)),!0)},i.cl=function(t){if(!t)return!1;var n=this.ul.indexOf(t);return!(n<0)&&(au(this.ul,n),this.Ad&&au(this.Ad,n),t.tu(bw.$d,this.Gr),this.Yr(new Sw(t)),!0)},i.al=function(t){return fu(this.ul,t)},i.fl=function(){for(var t=this.ul,n=t.length-1;n>=0;n-=1)this.cl(t[n])},i.et=function(){this.fl(),this.Zr()},ft(n,[{key:"hl",get:function(){return this.ul}},{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}},{key:"vl",get:function(){return this.ul.length}}]),n}(Cu),Iw=function(t){function n(n){var i;return(i=t.call(this,bw.$d)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new Dw(this.Ld.Pd)},n}(pw),Dw=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return vt(n,t),n}(_w),Cw=function(t){function n(){var n;return(n=t.call(this)||this).dl=void 0,n.ll=function(t){var i=t.Ld;n.ol(i)},n.wl=function(t){var i=t.Ld;n.cl(i)},n}vt(n,t);var i=n.prototype;return i.gl=function(t){t.Kr(ww.Dd,this.ll),t.Kr(ww.Nd,this.wl)},i.yl=function(t){t.tu(ww.Dd,this.ll),t.tu(ww.Nd,this.wl)},i.et=function(){this.dl&&this.dl.et(),t.prototype.et.call(this)},ft(n,[{key:"ml",get:function(){return this.dl},set:function(t){var n=this.dl;if(t!==n){if(n){this.yl(n);for(var i=0,e=n.hl;i<e.length;i++){var r=e[i];t&&t.al(r)||this.cl(r)}}if(this.dl=t,t){for(var u=[],s=0,o=t.hl;s<o.length;s++){var c=o[s];this.ol(c),this.bl(c)&&u.push(c)}this.gl(t);for(var a=0;a<u.length;a++){var f=u[a];f.Yr(new Iw(f))}}}}}]),n}(Rw),Nw=v.freeze||Ft;function Ow(t,n,i){v.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Aw(t,n){for(var i=0,e=v.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];v.defineProperty(t,r,v.getOwnPropertyDescriptor(n,r))}return t}function Pw(t){if(At(t)){var n={};for(var i in t)Et.call(t,i)&&(n[i]=Pw(t[i]));return n}if(Ct(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=Pw(t[r]));return e}return t}function xw(t,n){return t===n||!(!t||!n)&&(!(!Ot(t)||!Ot(n))&&(Nt(t)?!!Nt(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!xw(t[r],n[r]))return!1;return!0}(t,n):!Nt(n)&&function(t,n){var i=v.keys(t),e=v.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var u=i[r];if(!Et.call(n,u)||!xw(t[u],n[u]))return!1}return!0}(t,n)))}function Lw(t,n){return t.constructor===n.constructor}function Bw(t){for(var n={},i=0,e=v.keys(t);i<e.length;i++){var r=e[i],u=t[r];null!=u&&(n[r]=u)}return n}function Mw(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Fw(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Uw(t){var n=Fw(t);if(g(n))throw new f("Expected a valid number.");return n}function Vw(t){return"string"==typeof t?t:""}function Ww(t,n){if(!Nt(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function Hw(t,n){return Nt(t)?Ww(t,n):n(t)}var qw=[ww.Dd,ww.Nd,bw.$d];function zw(t){var n,i=t.hl.map(function(t){return t.Pd});return i.item=function(n){var i=0|n,e=t.sl(i);return e&&e.Pd||void 0},i.addEventListener=function(t,i){n.Kr(t,i)},i.removeEventListener=function(t,i){n.tu(t,i)},n=new Nu(i),t.Kr(qw,function(t){return n.Yr(t.Pd)}),i}function jw(){}function $w(t){var n,i=[bw.Qd,bw.$d,bw.Zd,bw.nl,bw.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.pl&&t.pl.Pd},get enabled(){return t._l},set enabled(n){t._l=Mw(n)},get id(){return t.kl},get uid(){return t.Tl},get kind(){return t.Sl},get label(){return t.El},set label(n){t.El=Vw(n)},get language(){return t.Rl},get qualities(){return t.Il.Pd},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.Il.hl;e<r.length;e++)for(var u=r[e],s=0;s<n.length;s++){var o=n[s];u.Pd===o&&i.push(u)}return i}(t,Ct(n)?n:[n]):[]).length>0?t.Dl=i:t.Dl=void 0},get targetQuality(){if(t.Dl)return 1===t.Dl.length?t.Dl[0].Pd:t.Dl.map(function(t){return t.Pd})},addEventListener:function(t,i){var e=Hw(t,Vw);n.Kr(e,i)},removeEventListener:function(t,i){var e=Hw(t,Vw);n.tu(e,i)}};return n=new Nu(e),t.Kr(i,function(t){return n.Yr(t.Pd)}),v.defineProperty(e,"constructor",{value:jw}),e}function Xw(){}function Gw(t){var n=zw(t);return v.defineProperty(n,"constructor",{value:Xw}),n}var Yw,Kw,Jw=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.xd=function(){return Gw(this)},i.bl=function(t){return t._l},n}(Cw);function Qw(){}function Zw(t){var n,i=[bw.$d,bw.Qd,bw.Bd,bw.Fd,bw.Vd,bw.Hd,bw.zd,bw.Gd,bw.Kd],e=[Kw.Cl],r={get kind(){return t.Sl},get label(){return t.El},set label(n){t.El=Vw(n)},get language(){return t.Rl},get id(){return t.kl},get uid(){return t.Tl},get inBandMetadataTrackDispatchType(){return t.Nl},get mode(){return t.Ol},set mode(n){n!==Yw.Al&&n!==Yw.Pl&&n!==Yw.xl||t.Ll(n)},get forced(){return Boolean(t.Bl)},get type(){return t.gr},get readyState(){return ig(t.Ml)},get cues(){return t.Ol===Yw.xl?null:t.Fl.Pd},get activeCues(){return t.Ol===Yw.xl?null:t.Ul.Pd},get src(){return t.Vl||""},addEventListener:function(t,i){var e=Hw(t,Vw);n.Kr(e,i)},removeEventListener:function(t,i){var e=Hw(t,Vw);n.tu(e,i)}};return n=new Nu(t),t.Kr(i,function(t){return n.Yr(t.Pd)}),t.Kr(e,function(t){return n.Yr(t)}),v.defineProperty(r,"constructor",{value:Qw}),r}function tg(){}function ng(t){var n=zw(t);return v.defineProperty(n,"constructor",{value:tg}),n}function ig(t){return t}!function(t){t.xl="disabled",t.Pl="hidden",t.Al="showing"}(Yw||(Yw={})),function(t){t.Cl="error"}(Kw||(Kw={}));var eg=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.xd=function(){return ng(this)},i.bl=function(t){return t.Ol===Yw.Al},n}(Cw),rg=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.Qr=function(n){t.prototype.Qr.call(this,n)},i.eu=function(n){t.prototype.eu.call(this,n)},n}(Cu),ug=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(rg),sg=function(t){function n(){return t.call(this,Qc.ka)||this}return vt(n,t),n}(Ou),og=function(t){function n(n){var i;return(i=t.call(this,Qc.ya)||this).currentSource=n,i}return vt(n,t),n}(Ou),cg=function(){function t(){}return t.Wl=function(n,i){var e=t.Hl(n,i);return e?t.ql(e):0},t.zl=function(){return st.Ed||"default"},t.jl=function(){return st.Rd||"unknown"},t.Hl=function(n,i){var e,r=null==(e=st.kd)?void 0:e.mu(i),u=r&&JSON.parse(r);if(u&&u[n])return t.$l(u,n,i)},t.ql=function(t){var n=t.availableBandwidth;return n||0},t.$l=function(n,i,e){if(!t.Xl(n,i))return n[i];t.Gl(n,i,e)},t.Gl=function(t,n,i){var e;delete t[n],null==(e=st.kd)||e.aa(i,JSON.stringify(t))},t.Xl=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.Yl=function(t,n,i,e){var r;return wr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Kl=function(n){var i=t.zl();t.Jl(i,"theoplayer-stored-network-info",n,En())},t.Jl=function(n,i,e,r){var u,s,o=null==(u=st.kd)?void 0:u.mu(i),c=o?JSON.parse(o):void 0,a=t.Yl(c,n,e,r);null==(s=st.kd)||s.aa(i,JSON.stringify(a))},t.Ql=function(){var n=t.zl();return t.Wl(n,"theoplayer-stored-network-info")},t}();var ag,fg,hg,vg,dg,lg,wg="1ADD53F3";function gg(t){return{chromecast:function(t){return{appID:t&&t.appID?Vw(t.appID):wg}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return ag.AUTO;case"manual":return ag.MANUAL;case"disabled":return ag.DISABLED;default:return ag.MANUAL}}(t?t.strategy:void 0)}}function yg(t){var n,i=hg.Zl;return(n=t)&&qr(n,"mpd")&&(i=hg.tw),function(t){return!!t&&qr(t,"m3u8")}(t)&&(i=hg.nw),i}function mg(t){return Ot(t)&&Ot(t.ssai)&&"google-dai"===t.ssai.integration}function bg(t){return Ot(t)&&Pt(t.integration)&&"verizon-media"===t.integration}function pg(t){if(Pt(t))return!t;if(bg(t))return!t.id;if(mg(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function _g(t){return Boolean(Ot(t)&&Pt(t.src))}function kg(t){return Pt(t)||_g(t)||mg(t)||bg(t)}function Tg(t){if(t){if(kg(t))return pg(t);for(var n=0;n<t.length;n++){if(!pg(t[n]))return!1}return!0}return!0}function Sg(){return{crossOrigin:fg.iw,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function Eg(){return wr({},Sg(),{src:void 0,type:hg.Zl,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Rg(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:vg.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return dg.NONE;case"midroll-and-postroll":default:return dg.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Mw(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return vg.INSECURE;case"disabled":return vg.DISABLED;case"enabled":default:return vg.ENABLED}}(t.vpaidMode)),Ct(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(Pt)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Mw(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Ig(t){if(!Nt(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];At(r)&&n.push(r)}return n}function Dg(t){return Pt(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(ag||(ag={})),function(t){t.iw="",t.ew="anonymous",t.rw="use-credentials"}(fg||(fg={})),function(t){t.tw="application/dash+xml",t.nw="application/vnd.apple.mpegurl",t.uw="application/x-mpegurl",t.Zl="video/mp4",t.sw="application/vnd.theoplayer.hesp+json",t.ow="application/vnd.theo.hesp+json"}(hg||(hg={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(vg||(vg={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(dg||(dg={})),function(t){t[t.cw=0]="cw",t[t.aw=1]="aw",t[t.fw=2]="fw",t[t.hw=3]="hw",t[t.vw=4]="vw"}(lg||(lg={}));var Cg,Ng=function(t){function n(n,i){var e;return void 0===i&&(i=lg.cw),(e=t.call(this,Qc.pa)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Ou),Og=function(t){function n(n){var i;return(i=t.call(this,Qc.Ca)||this).currentTime=n,i}return vt(n,t),n}(Ou),Ag=function(t){function n(n){var i;return(i=t.call(this,Qc.Na)||this).currentTime=n,i}return vt(n,t),n}(Ou);!function(t){t.dw="canplay",t.lw="canplaythrough",t.ww="loadeddata",t.gw="loadedmetadata",t.Gd="readystatechange",t.yw="waiting",t.mw="playing"}(Cg||(Cg={}));var Pg,xg,Lg=[Cg.dw,Cg.lw,Cg.ww,Cg.gw,Cg.Gd,Cg.yw,Cg.mw],Bg=function(t){function n(n,i){var e;return void 0===i&&(i=lg.aw),(e=t.call(this,Cg.gw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Ou),Mg=function(t){function n(n){var i;return(i=t.call(this,Qc.ba)||this).duration=n,i}return vt(n,t),n}(Ou),Fg=function(t){function n(n,i){var e;return(e=t.call(this,Qc.Aa)||this).currentTime=n,e.playbackRate=i,e}return vt(n,t),n}(Ou),Ug=function(t){function n(n,i){var e;return(e=t.call(this,Qc.qa)||this).currentTime=n,e.currentProgramDateTime=i,e}return vt(n,t),n}(Ou),Vg=function(t){function n(n){var i;return(i=t.call(this,Qc._a)||this).currentTime=n,i}return vt(n,t),n}(Ou),Wg=function(t){function n(n,i){var e;return void 0===i&&(i=lg.fw),(e=t.call(this,Cg.ww)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Ou),Hg=function(t){function n(n){var i;return(i=t.call(this,Qc.Ba)||this).currentTime=n,i}return vt(n,t),n}(Ou),qg=function(t){function n(n){var i;return(i=t.call(this,Qc.La)||this).currentTime=n,i}return vt(n,t),n}(Ou),zg=function(t){function n(n,i){var e;return(e=t.call(this,Qc.za)||this).currentTime=n,e.volume=i,e}return vt(n,t),n}(Ou),jg=function(t){function n(n,i){var e;return void 0===i&&(i=lg.hw),(e=t.call(this,Cg.dw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Ou),$g=function(t){function n(n,i){var e;return void 0===i&&(i=lg.vw),(e=t.call(this,Cg.lw)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Ou),Xg=function(t){function n(n,i){var e;return(e=t.call(this,Cg.Gd)||this).currentTime=n,e.readyState=i,e}return vt(n,t),n}(Ou),Gg=function(t){function n(n){var i;return(i=t.call(this,Kw.Cl)||this).errorObject=n,i}return vt(n,t),n.prototype.xd=function(){return this},ft(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(mw);function Yg(t){switch(t){case Pg.ALL:case Pg.CONTENT:return t;default:return Pg.NONE}}function Kg(t){var n,i,e,r=Pw(t||{});return r.libraryLocation&&(r.libraryLocation=Pd(r.libraryLocation,!0)),r.isEmbeddable=Boolean(r.isEmbeddable),r.cast=gg(r.cast),r.ads=Rg(r.ads),r.analytics=Ig(r.analytics),r.mutedAutoplay=Yg(r.mutedAutoplay),r.allowNativeFullscreen=Boolean(r.allowNativeFullscreen),r.allowMixedContent=Boolean(r.allowMixedContent),r.persistVolume=Boolean(r.persistVolume),r.liveOffset=(n=r.liveOffset,Number(n)||void 0),r.hlsDateRange=(i=r.hlsDateRange,Boolean(i)),r.retainPlaybackRateOnSourceChange=Boolean(r.retainPlaybackRateOnSourceChange),r.license=Pt(e=r.license)?e:void 0,r.licenseUrl=function(t){if(!t)return;try{return Pd(t)}catch(t){return void st.Ie("Invalid 'licenseUrl', falling back to default URL")}}(r.licenseUrl),r}function Jg(t){return{bw:t.bw,pw:t.pw,_w:t._w,fu:t.fu,kw:t.kw,Tw:t.Tw,Sw:t.Sw,Ew:t.Ew,Ml:t.Ml,Rw:t.Rw,Iw:t.Iw,Dw:t.Dw,Cw:t.Cw}}function Qg(t,n,i){if(n!==i){var e=n.bw,r=n.pw,u=n.Tw,s=n.Sw,o=n.Ew,c=n.Ml,a=n.Rw;n.Dw,n.Iw;var f=n.Cw,h=i.bw,v=i.pw,d=i._w,l=i.kw,w=i.Tw,y=i.Sw,m=i.Ew,b=i.Ml,p=i.Rw;i.Dw,i.Iw;var _=i.Cw;c!==lg.cw&&t.Yr(new Ng(h,b)),y&&!s?t.Yr(new Og(h)):!y&&s&&t.Yr(new Ag(h)),b>=lg.aw&&t.Yr(new Bg(h,b)),v===r||g(v)&&g(r)||t.Yr(new Mg(v)),m!==o&&t.Yr(new Fg(h,m)),h!==e&&t.Yr(new Ug(h,void 0)),d&&t.Yr(new Vg(h)),b>=lg.fw&&t.Yr(new Wg(h,b)),p&&!a?t.Yr(new Hg(h)):!p&&a&&t.Yr(new qg(h)),_===f&&w===u||t.Yr(new zg(h,_)),b>=lg.hw&&t.Yr(new jg(h,b)),b>=lg.vw&&t.Yr(new $g(h,b)),b!==c&&t.Yr(new Xg(h,b)),l&&t.Yr(new Gg(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Pg||(Pg={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(xg||(xg={}));var Zg=400,ty=.25,ny={Nw:.2,Ow:.45,Aw:.7,Pw:3,xw:cy,Lw:ay},iy={Nw:.4,Ow:.65,Aw:1,Pw:3,xw:cy,Lw:ay},ey={Nw:.4,Ow:.7,Aw:.9,Pw:3,xw:cy,Lw:ay},ry={Nw:.4,Ow:.65,Aw:1,Pw:3,xw:cy,Lw:ay},uy={Nw:.5,Ow:1.125,Aw:1.75,Pw:2.55,xw:cy,Lw:ay};function sy(){var t;return t=st.je.fe?ry:st.je.de?iy:st.je.ve?"Android"===st.$e.Xe?ey:ny:uy,st.$e.Ge?function(t){if(st.$e.Ge){var n=(Zg+250)/1e3,i=d.max(n,t.Nw),e=d.max(i+ty,t.Ow),r=d.max(e+ty,t.Aw);return{Nw:i,Ow:e,Aw:r,Pw:d.max(r+ty,t.Pw),xw:cy,Lw:ay}}return t}(t):t}var oy,cy=.92,ay=1.08;function fy(t){return{goLive:function(){return t.Bw()},get isLive(){return t.Mw},get currentServerLiveTime(){return t.Fw},get currentLatency(){return t.Uw},get latency(){return t.Vw},set latency(n){if(!function(t){if(!Ot(t))return!1;var n=t,i=It(n.target)&&"number"==typeof n.target&&It(n.windowEnd)&&"number"==typeof n.windowEnd&&It(n.windowStart)&&"number"==typeof n.windowStart&&It(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new f("Invalid latency configuration");t.Vw=n},get manifest(){return t.Ww},get metrics(){return t.Hw},addEventListener:function(n,i){t.Kr(vy(n),i)},removeEventListener:function(n,i){t.tu(vy(n),i)}}}!function(t){t[t.xl=0]="xl",t[t.qw=1]="qw",t[t.zw=2]="zw"}(oy||(oy={}));var hy=["analytic","golive","nogolive","bufferedchange"];function vy(t){var n=Hw(t,Vw);return(Pt(n)?[n]:n).filter(function(t){return fu(hy,t)})}var dy,ly=function(t){function n(){var n,i;return(n=t.call(this)||this).dl=void 0,n.Ad=void 0,n.jw={windowStart:(i=sy()).Nw,windowEnd:i.Aw,target:i.Ow,maxOffset:i.Pw},n.dl=void 0,n}vt(n,t);var i=n.prototype;return i.gl=function(t){t.Kr(hy,this.Gr)},i.yl=function(t){t.tu(hy,this.Gr)},i.Bw=function(){var t;null==(t=this.dl)||t.Bw()},i.et=function(){this.Zr(),this.dl&&this.yl(this.dl),this.dl=void 0},ft(n,[{key:"ml",get:function(){return this.dl},set:function(t){var n=this.dl;t!==n&&(n&&this.yl(n),t&&this.gl(t),this.dl=t,this.dl&&(this.dl.Vw=this.jw))}},{key:"Pd",get:function(){return this.Ad||(this.Ad=fy(this)),this.Ad}},{key:"Fw",get:function(){var t;return null==(t=this.dl)?void 0:t.Fw}},{key:"Uw",get:function(){var t;return null==(t=this.dl)?void 0:t.Uw}},{key:"Mw",get:function(){return!!this.dl&&this.dl.Mw}},{key:"Vw",get:function(){return this.dl?this.dl.Vw:this.jw},set:function(t){this.dl&&(this.dl.Vw=t),this.jw=t}},{key:"Ww",get:function(){var t;return null==(t=this.dl)?void 0:t.Ww}},{key:"Hw",get:function(){var t;return null==(t=this.dl)?void 0:t.Hw}}]),n}(Cu),wy=function(t){function n(n){var i;return(i=t.call(this)||this).dl=void 0,i.$w=[],i.Xw=!1,i.Gw=new Jw,i.Yw=new Jw,i.Kw=new eg,i.Jw=new ly,i.Qw=!1,i.Zw(n),n.Qr(i.Gr),i.dl=n,i.Gw.ml=n.tg,i.Yw.ml=n.ng,i.Kw.ml=n.ig,i.Jw.ml=n.eg,i}vt(n,t);var i=n.prototype;return i.Y=function(){this.dl.Y()},i.K=function(){this.dl.K()},i.rg=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Su(this.$w.map(function(t){return t.rg()})).then(Mt));case 1:case"end":return t.stop()}},null,this,null,j)},i.ug=function(){return this.dl.ug()},i.sg=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return gu(n),i.next=3,lr.awrap(this.dl.sg(t,n));case 3:case"end":return i.stop()}},null,this,null,j)},i.og=function(){return this.ml.og()},i.cg=function(){this.ml.cg()},i.ag=function(){this.ml.ag()},i.st=function(){if(!this.Xw){for(var t=0,n=this.$w;t<n.length;t++){n[t].st()}this.Xw=!0}},i.fg=function(t){this.dl.fg(t)},i.hg=function(){this.dl.hg()},i.vg=function(){this.dl.vg()},i.dg=function(){this.dl.dg()},i.lg=function(){return this.dl.lg()},i.wg=function(){return this.dl.wg()},i.gg=function(){for(var t=[],n=0,i=this.$w;n<i.length;n++){var e=i[n];t.push.apply(t,e.gg())}return t},i.yg=function(t){for(var n=!1,i=0,e=this.$w;i<e.length;i++){n=e[i].yg(t)||n}return n},i.Yr=function(n){this.yg(n)||t.prototype.Yr.call(this,n)},i.Zw=function(t){this.$w.push(t)},i.mg=function(t){cu(this.$w,t)},i.bg=function(t){if(t!==this.dl){var n=this.dl;n.hg(),n.eu(this.Gr);var i=Jg(this),e=this.pg,r=this.wg();this.dl=t,this.Gw.ml=t.tg,this.Yw.ml=t.ng,this.Kw.ml=t.ig,this.Jw.ml=t.eg,Qg(this,i,this);var u=this.pg;u!==e&&this.Yr(new og(u)),this.wg()!==r&&this.Yr(new sg),t.Qr(this.Gr),t.fg(n)}},i._g=function(){},i.et=function(){var t,n,i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.Zr(),this.dl.hg(),t=0,n=this.$w;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,lr.awrap(i.et());case 7:t++,e.next=3;break;case 10:this.Gw.et(),this.Yw.et(),this.Kw.et(),this.Jw.et();case 14:case"end":return e.stop()}},null,this,null,j)},i.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Su(this.$w.map(function(t){return t.fl()})).then(Mt));case 1:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"tg",get:function(){return this.Gw}},{key:"ig",get:function(){return this.Kw}},{key:"ng",get:function(){return this.Yw}},{key:"kg",get:function(){return this.dl.kg}},{key:"Tg",get:function(){return this.dl.Tg},set:function(t){this.dl.Tg=t}},{key:"pg",get:function(){return this.dl.pg}},{key:"bw",get:function(){return this.dl.bw},set:function(t){this.dl.bw=t}},{key:"pw",get:function(){return this.dl.pw}},{key:"Sg",get:function(){return this.dl.Sg}},{key:"_w",get:function(){return this.dl._w}},{key:"fu",get:function(){return this.dl.fu}},{key:"kw",get:function(){return this.dl.kw}},{key:"eg",get:function(){return this.Jw}},{key:"Eg",get:function(){return this.dl.Eg}},{key:"Hw",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var c=t[o];n+=c.Rg,i+=c.Ig,e+=c.Dg,r+=c.Cg,u+=c.Ng,s.amountOfBufferedAudioSegments+=c.Og.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=c.Og.amountOfBufferedVideoSegments}return{Rg:n,Ig:i,Dg:e,Cg:r,Ng:u,Og:s}}(this.$w.map(function(t){return t.Hw}))}},{key:"Tw",get:function(){return this.dl.Tw},set:function(t){this.dl.Tw=t}},{key:"Ag",get:function(){return this.dl.Ag}},{key:"Sw",get:function(){return this.dl.Sw}},{key:"Ew",get:function(){return this.dl.Ew},set:function(t){this.dl.Ew=t}},{key:"Pg",get:function(){return this.dl.Pg}},{key:"xg",get:function(){return this.dl.xg},set:function(t){this.dl.xg=t}},{key:"Ml",get:function(){return this.dl.Ml}},{key:"Lg",get:function(){return this.dl.Lg}},{key:"Rw",get:function(){return this.dl.Rw}},{key:"Iw",get:function(){return this.dl.Iw}},{key:"Dw",get:function(){return this.dl.Dw}},{key:"Cw",get:function(){return this.dl.Cw},set:function(t){this.dl.Cw=t}},{key:"Bg",get:function(){return this.dl.Bg}},{key:"Mg",get:function(){return!1},set:function(t){}},{key:"ml",get:function(){return this.dl},set:function(t){this.bg(t)}}]),n}(ug),gy=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this,n,i,e)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=r,a.status=u,a.statusText=s,a.response=o,a.systemCode=c,a}return vt(n,t),ft(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Ac);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(dy||(dy={}));var yy=function(t){function n(n,i,e,r){var u;return(u=t.call(this,i)||this).code=void 0,u.message=void 0,u.cause=void 0,u.systemCode=void 0,u.code=n,u.message=null!=i?i:"Unknown error",u.cause=e,u.systemCode=r,f.captureStackTrace&&f.captureStackTrace(Cn(u),u.constructor),u}return vt(n,t),ft(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Nn);function my(t){Ow(t,"MEDIA_ERR_ABORTED",dy.ABORTED),Ow(t,"MEDIA_ERR_NETWORK",dy.NETWORK),Ow(t,"MEDIA_ERR_DECODE",dy.DECODE),Ow(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",dy.SRC_NOT_SUPPORTED),Ow(t,"MEDIA_ERR_ENCRYPTED",dy.ENCRYPTED)}function by(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new yy(dy.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new yy(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return dy.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return dy.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return dy.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return dy.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return dy.NETWORK;if(i===n.ErrorCategory.SOURCE)return dy.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return dy.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return dy.ENCRYPTED;if(i===n.ErrorCategory.AD)return dy.ADVERTISEMENT_ERROR;return dy.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}my(yy),my(yy.prototype);var py,_y=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.ol=function(n){return t.prototype.ol.call(this,n)},i.xd=function(){return Gw(this)},n}(Rw);!function(t){t.sv="audio",t.ov="video",t.ri="text",t.cv="image",t.Xh="unknown"}(py||(py={}));var ky=function(){function t(){this.Fg=[],this.Ad=void 0}var n=t.prototype;return n.Ug=function(t){this.Fg.push(t),this.Ad&&this.Ad.push(t.Pd)},n.uc=function(t){cu(this.Fg,t),this.Ad&&cu(this.Ad,t.Pd)},n.sl=function(t){return this.Fg[t]},n.Vg=function(t){return Ct(t)?function(t,n){for(var i=0;i<n.length;i++)if(!fu(t,n[i]))return!1;return!0}(this.Fg,t):fu(this.Fg,t)},n.fl=function(){hu(this.Fg),this.Ad&&hu(this.Ad)},ft(t,[{key:"hl",get:function(){return this.Fg}},{key:"vl",get:function(){return this.Fg.length}},{key:"Pd",get:function(){var t,n;return this.Ad||(this.Ad=((n=(t=this).hl.map(function(t){return t.Pd})).item=function(n){var i=0|n,e=t.sl(i);return e&&e.Pd||void 0},n)),this.Ad}}]),t}(),Ty=function(t){function n(n){var i;return(i=t.call(this,bw.Qd)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new Sy(this.Ld.Pd)},n}(pw),Sy=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return vt(n,t),n}(_w),Ey=0;function Ry(){return Ey++}var Iy=0;var Dy=0;var Cy=0;var Ny=function(t){function n(n){var i;return(i=t.call(this)||this).gr=py.sv,i.Wg=void 0,i.jo=void 0,i.Hg=void 0,i.qg=void 0,i.zg=!1,i.Fg=void 0,i.Ad=void 0,i.Wg=n,i.qg=Ry(),i.jo=Cy+++"",i.Hg=n.label,i.Fg=new ky,i.jg(),i}vt(n,t);var i=n.prototype;return i.$g=function(t){this._l=t},i.jg=function(){this._l=this.Xg},ft(n,[{key:"pl",get:function(){}},{key:"_l",get:function(){return this.zg},set:function(t){this.zg!==t&&(this.zg=t,this.Xg=t,this.Yr(new Iw(this)))}},{key:"Xg",get:function(){return this.Wg.enabled},set:function(t){this.Wg.enabled=t}},{key:"Pd",get:function(){return this.Ad||(this.Ad=$w(this)),this.Ad}},{key:"kl",get:function(){return this.jo}},{key:"Tl",get:function(){return this.qg}},{key:"Sl",get:function(){return this.Wg.kind}},{key:"El",get:function(){return this.Hg},set:function(t){t!==this.Hg&&(this.Hg=t,this.Yr(new Ty(this)))}},{key:"Rl",get:function(){return this.Wg.language}},{key:"Ol",get:function(){return this._l?"enabled":"disabled"}},{key:"Gg",get:function(){return this.Wg}},{key:"Il",get:function(){return this.Fg}},{key:"Dl",get:function(){},set:function(t){}}]),n}(Cu),Oy=0;var Ay,Py,xy,Ly,By=function(t){function n(n){var i;return(i=t.call(this)||this).gr=py.ov,i.Wg=void 0,i.jo=void 0,i.qg=void 0,i.zg=!1,i.Fg=void 0,i.Hg=void 0,i.Ad=void 0,i.Wg=n,i.qg=Ry(),i.jo=Oy+++"",i.Fg=new ky,i.Hg=n.label,i.jg(),i}vt(n,t);var i=n.prototype;return i.jg=function(){this._l=this.Xg},i.$g=function(t){this._l=t},ft(n,[{key:"pl",get:function(){}},{key:"_l",get:function(){return this.zg},set:function(t){this.zg!==t&&(this.zg=t,this.Xg=t,this.Yr(new Iw(this)))}},{key:"Xg",get:function(){return!!this.Wg.selected},set:function(t){this.Wg.selected=t}},{key:"Pd",get:function(){return this.Ad||(this.Ad=$w(this)),this.Ad}},{key:"kl",get:function(){return this.jo}},{key:"Tl",get:function(){return this.qg}},{key:"Sl",get:function(){return"main"}},{key:"El",get:function(){return this.Hg},set:function(t){t!==this.Hg&&(this.Hg=t,this.Yr(new Ty(this)))}},{key:"Rl",get:function(){return this.Wg.language}},{key:"Ol",get:function(){return this._l?"enabled":"disabled"}},{key:"Gg",get:function(){return this.Wg}},{key:"Il",get:function(){return this.Fg}},{key:"Dl",get:function(){},set:function(t){}}]),n}(Cu),My=function(t){function n(n){var i;return(i=t.call(this,Qc.ha)||this).Eg=n,i}return vt(n,t),n}(Ou);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Ay||(Ay={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Py||(Py={})),function(t){t.Yg="cue",t.Kg="region",t.Jg="stylesheet"}(xy||(xy={})),function(t){t.Qg="Zg",t.ty="ny",t.Qd="sc"}(Ly||(Ly={}));var Fy=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).iy=i,e}return vt(n,t),n}(pw),Uy=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return vt(n,t),n}(_w);function Vy(t){var n,i=[Ly.Qg,Ly.ty,Ly.Qd],e={get track(){return t.Ld.Pd},get id(){return t.kl},get uid(){return t.Tl},get startTime(){return t.ey},get endTime(){return t.uy},get content(){return t.sy},addEventListener:function(t,i){var e=Hw(t,Vw);n.Kr(e,i)},removeEventListener:function(t,i){var e=Hw(t,Vw);n.tu(e,i)}};return n=new Nu(e),t.Kr(i,function(t){return n.Yr(t.Pd)}),e}function Wy(){}var Hy=function(t){function n(n){return t.call(this,Ly.Qd,n)||this}return vt(n,t),n.prototype.xd=function(){return new qy(this.iy.Pd)},n}(Fy),qy=function(t){function n(n){return t.call(this,"update",n)||this}return vt(n,t),n}(Uy),zy=.02;var jy=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).qg=void 0,s.jo=void 0,s.oy=void 0,s.ay=void 0,s.Ad=void 0,s.hy=void 0,s.vy=!1,s.ly=void 0,s.wy=void 0,s.gy=-1,s.qg=Dy++,s.oy=n,s.ay=i,s.ly=e,s.wy=Boolean(r),s.jo=null!=u?u:"",s}vt(n,t);var i=n.prototype;return i.xd=function(){return Vy(this)},i.yy=function(t){return this===t||Lw(this,t)&&(i=t,Tn((n=this).ey,i.ey,zy)&&Tn(n.uy,i.uy,zy)&&n.kl===i.kl);var n,i},i.et=function(){this.Zr()},ft(n,[{key:"ey",get:function(){return this.oy},set:function(t){this.oy!==t&&(this.oy=t,this.Yr(new Hy(this)))}},{key:"uy",get:function(){return this.ay},set:function(t){this.ay!==t&&(this.ay=t,this.Yr(new Hy(this)))}},{key:"kl",get:function(){return this.jo}},{key:"Tl",get:function(){return this.qg}},{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}},{key:"my",get:function(){return this.vy},set:function(t){this.vy=t}},{key:"Ld",get:function(){return this.hy},set:function(t){this.hy=t}},{key:"sy",get:function(){return this.ly},set:function(t){this.ly!==t&&(this.ly=t,this.Yr(new Hy(this)))}},{key:"by",get:function(){return this.wy},set:function(t){this.wy=t}}]),n}(Cu);var $y=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,u)||this).py="auto",s._y="start",s.ky="auto",s.Ty="auto",s.Sy=void 0,s.Ey=!0,s.ku=100,s.Ry="center",s.Iy="",s}return vt(n,t),n.prototype.yy=function(n){return this===n||Lw(this,n)&&t.prototype.yy.call(this,n)&&(e=n,(i=this).sy===e.sy&&i.py===e.py&&i._y===e._y&&i.ky===e.ky&&i.Ty===e.Ty&&i.Sy===e.Sy&&i.Ey===e.Ey&&i.ku===e.ku&&i.Ry===e.Ry&&i.Iy===e.Iy);var i,e},ft(n,[{key:"Pd",get:function(){var t;return this.Ad||(this.Ad=Aw(Vy(t=this),{get align(){return t.Ry},get line(){return t.py},get lineAlign(){return t._y},get position(){return t.ky},get positionAlign(){return t.Ty},get region(){return t.Sy?t.Sy.Pd:null},get size(){return t.ku},get snapToLines(){return t.Ey},get text(){return t.sy},get vertical(){return t.Iy}})),this.Ad}},{key:"gr",get:function(){return xy.Yg}}]),n}(jy);var Xy=function(){function t(t,n,i,e,r,u,s,o){this.Ad=void 0,this.kl=t,this.Dy=n,this.Cy=i,this.Ny=e,this.Oy=r,this.Ay=u,this.Py=s,this.xy=o}return ft(t,[{key:"Pd",get:function(){var t;return this.Ad||(this.Ad=(t=this,{get id(){return t.kl},get identifier(){return t.kl},get lines(){return t.Cy},get regionAnchorX(){return t.Ny},get regionAnchorY(){return t.Oy},get scrollValue(){return t.xy},get viewportAnchorX(){return t.Ay},get viewportAnchorY(){return t.Py},get width(){return t.Dy}})),this.Ad}},{key:"gr",get:function(){return xy.Kg}}]),t}(),Gy=function(){function t(){}var n=t.prototype;return n.Ly=function(t){return this.By()*t},n.My=function(t){return this.Fy(t)>0},n.Uy=function(t){return this.Fy(t)>=0},n.Vy=function(t,n){return this.Hy(t).Wy(n)},n.yy=function(t){return 0===this.Fy(t)},n.qy=function(t){return this.Fy(t)<0},n.Wy=function(t){return this.Fy(t)<=0},n.zy=function(){return this.jy()?this.$y():this},n.Xy=function(t){return this.Ug(t.$y())},n.Hy=function(t){return this.Xy(t).zy()},t}();function Yy(t,n){return t.Gy()?n.Gy()?Qr.Ir:Qr.Dr:n.Gy()?Qr.Cr:t.Yy()?n.Yy()&&t.jy()===n.jy()?Qr.Ir:t.jy()?Qr.Cr:Qr.Dr:n.jy()?Qr.Dr:Qr.Cr}var Ky=function(){function t(t,n){this.Ky=void 0,this.Jy=void 0,this.Ky=t,this.Jy=n}t.Qy=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Zy=function(n){return n.unsigned?new t(n,Kt.UZERO):new t(n,n.isNegative()?Kt.NEG_ONE:Kt.ZERO)},t.tm=function(n,i){if(g(n))return i?t.nm:t.im;if(i){if(n<0)return t.nm;if(n>=3.402823669209385e38)return t.rm}else{if(n<=-1.7014118346046923e38)return t.um;if(n+1>=1.7014118346046923e38)return t.sm}return n<0?t.tm(-n,i).$y():t.Qy(Kt.fromNumber(n%0x10000000000000000),Kt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.om=function(){return this.Jy.unsigned},n.cm=function(){return this.Ky.isZero()&&this.Jy.isZero()},n.jy=function(){return this.Jy.isNegative()},n.am=function(){return this.om()?t.Qy(this.Ky,this.Jy,!1):this},n.fm=function(){return this.om()?this:t.Qy(this.Ky,this.Jy,!0)},n.hm=function(){return this.Ky},n.By=function(){return this.jy()?-this.$y().By():0x10000000000000000*this.Jy.toNumber()+this.Ky.toUnsigned().toNumber()},n.vm=function(){return this.Ky.toInt()},n.yy=function(t){return(this.om()===t.om()||this.Jy.getHighBits()>>>31!=1||t.Jy.getHighBits()>>>31!=1)&&(this.Jy.toUnsigned().eq(t.Jy.toUnsigned())&&this.Ky.toUnsigned().eq(t.Ky.toUnsigned()))},n.Fy=function(t){if(this.yy(t))return Qr.Ir;var n=this.jy(),i=t.jy();if(n&&!i)return Qr.Cr;if(!n&&i)return Qr.Dr;if(!this.om())return this.Xy(t).jy()?Qr.Cr:Qr.Dr;var e=this.fm(),r=t.fm(),u=r.Jy.comp(e.Jy);return u>0||0===u&&r.Ky.gt(e.Ky)?Qr.Cr:Qr.Dr},n.qy=function(t){return this.Fy(t)<0},n.Wy=function(t){return this.Fy(t)<=0},n.dm=function(t){return this.Fy(t)>0},n.lm=function(t){return this.Fy(t)>=0},n.wm=function(){return new t(this.Ky.not(),this.Jy.not())},n.gm=function(n){return new t(this.Ky.and(n.Ky),this.Jy.and(n.Jy))},n.ym=function(n){return new t(this.Ky.or(n.Ky),this.Jy.or(n.Jy))},n.mm=function(n){var i=127&n;return 0===i?this:i<64?t.Qy(this.Ky.shl(i),this.Jy.shl(i).or(this.Ky.shru(64-i)),this.om()):t.Qy(Kt.ZERO,this.Ky.shl(i-64),this.om())},n.bm=function(n){var i=127&n;return 0===i?this:i<64?t.Qy(this.Ky.shru(i).or(this.Jy.shl(64-i)),this.Jy.shr(i),this.om()):t.Qy(this.Jy.shr(i-64),this.Jy.isNegative()?Kt.NEG_ONE:Kt.ZERO,this.om())},n.pm=function(n){var i=127&n;return 0===i?this:i<64?t.Qy(this.Ky.shru(i).or(this.Jy.shl(64-i)),this.Jy.shru(i),this.om()):64===i?t.Qy(this.Jy,Kt.ZERO,this.om()):t.Qy(this.Jy.shru(i-64),Kt.ZERO,this.om())},n.Ug=function(n){var i=this.Jy.high>>>16,e=65535&this.Jy.high,r=this.Jy.low>>>16,u=65535&this.Jy.low,s=this.Ky.high>>>16,o=65535&this.Ky.high,c=this.Ky.low>>>16,a=65535&this.Ky.low,f=n.Jy.high>>>16,h=65535&n.Jy.high,v=n.Jy.low>>>16,d=65535&n.Jy.low,l=n.Ky.high>>>16,w=65535&n.Ky.high,g=n.Ky.low>>>16,y=0,m=0,b=0,p=0,_=0,k=0,T=0,S=0;T+=(S+=a+(65535&n.Ky.low))>>>16,S&=65535,k+=(T+=c+g)>>>16,T&=65535,_+=(k+=o+w)>>>16,k&=65535,p+=(_+=s+l)>>>16,_&=65535,b+=(p+=u+d)>>>16,p&=65535,m+=(b+=r+v)>>>16,b&=65535,y+=(m+=e+h)>>>16,m&=65535,y+=i+f,y&=65535;var E=this.om(),R=Kt.fromBits(b<<16|p,y<<16|m,E),I=Kt.fromBits(T<<16|S,_<<16|k,E);return t.Qy(I,R,E)},n.Xy=function(t){return this.Ug(t.$y())},n.$y=function(){return this.wm().Ug(t._m)},n.km=function(n){if(this.cm()||n.cm())return this.om()?t.nm:t.im;if(this.jy())return n.jy()?this.$y().km(n.$y()):this.$y().km(n).$y();if(n.jy())return this.km(n.$y()).$y();if(this.Jy.isZero()&&0===this.Ky.high&&n.Jy.isZero()&&0===n.Ky.high)return t.Zy(this.Ky.multiply(n.Ky));var i=Kt.fromBits(4294967295,0,!0),e=this.Ky.and(i),r=this.Ky.shru(32),u=this.Jy.and(i),s=this.Jy.shru(32),o=n.Ky.and(i),c=n.Ky.shru(32),a=n.Jy.and(i),f=n.Jy.shru(32),h=Kt.UZERO,v=Kt.UZERO,d=Kt.UZERO,l=Kt.UZERO;h=h.add(e.mul(o)),v=v.add(h.shru(32)),h=h.and(i),v=v.add(r.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(c)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(c)).add(r.mul(a)).add(e.mul(f)).and(i);var w=Kt.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Kt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Qy(w,g,this.om())},n.Tm=function(n){var i,e,r=n;if(r.cm())throw new RangeError("division by zero");if(this.cm())return this.om()?[t.nm,t.nm]:[t.im,t.im];if(this.om()){if(r.om()||(r=r.fm()),r.dm(this))return[t.nm,this];if(r.dm(this.pm(1)))return[e=t.Sm,i=this.Xy(r)];e=t.nm}else{if(this.yy(t.um)){if(r.yy(t._m)||r.yy(t.Em))return[t.um,t.im];if(r.yy(t.um))return[t._m,t.im];var u=this.bm(1).Rm(r).mm(1);return u.yy(t.im)?e=r.jy()?t._m:t.Em:(i=this.Xy(r.km(u)),e=u.Ug(i.Rm(r))),[e,i=this.Xy(r.km(e))]}if(r.yy(t.um))return this.om()?[t.nm,this]:[t.im,this];if(this.jy()){if(r.jy())return this.$y().Tm(r.$y());var s=this.$y().Tm(r);return e=s[0],i=s[1],[e.$y(),i.$y()]}if(r.jy()){var o=this.Tm(r.$y());return e=o[0],i=o[1],[e.$y(),i.$y()]}e=t.im}for(i=this;i.lm(r);){for(var c=d.max(1,d.floor(i.By()/r.By())),a=d.ceil(d.log(c)/d.LN2),f=a<=48?1:d.pow(2,a-48),h=t.tm(c),v=h.km(r);v.jy()||v.dm(i);)c-=f,v=(h=t.tm(c,this.om())).km(r);h.cm()&&(h=t._m),e=e.Ug(h),i=i.Xy(v)}return[e,i]},n.Rm=function(t){return this.Tm(t)[0]},n.Im=function(t){return this.Tm(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.cm())return"0";if(this.jy()){if(this.yy(t.um)){var e=t.tm(i),r=this.Rm(e),u=r.km(e).Xy(this);return r.toString(i)+u.vm().toString(i)}return"-"+this.$y().toString(i)}for(var s=t.tm(d.pow(i,6),this.om()),o=this,c="";;){var a=o.Rm(s),f=(o.Xy(a.km(s)).vm()>>>0).toString(i);if((o=a).cm())return f+c;for(;f.length<6;)f="0"+f;c=String(f)+c}},t}();Ky.im=Ky.Zy(Kt.ZERO),Ky.nm=Ky.Zy(Kt.UZERO),Ky._m=Ky.Zy(Kt.ONE),Ky.Sm=Ky.Zy(Kt.UONE),Ky.Em=Ky.Zy(Kt.NEG_ONE),Ky.sm=Ky.Qy(Kt.NEG_ONE,Kt.MAX_VALUE,!1),Ky.rm=Ky.Qy(Kt.MAX_UNSIGNED_VALUE,Kt.MAX_UNSIGNED_VALUE,!0),Ky.um=Ky.Qy(Kt.ZERO,Kt.MIN_VALUE,!1);var Jy=function(){function t(t,n){void 0===n&&(n=1),this.Dm=void 0,this.Cm=void 0,this.Dm=t,this.Cm=n}t.Nm=function(n){return new t(d.ceil(n.Dm),n.Cm)},t.Om=function(n){return new t(d.floor(n.Dm),n.Cm)},t.Am=function(t,n){return t.Uy(n)?t:n},t.Pm=function(t,n){return t.Wy(n)?t:n};var n=t.prototype;return n.Ug=function(n){return this.Cm>=n.Cm?new t(this.Dm+n.xm(this.Cm).Dm,this.Cm):new t(this.xm(n.Cm).Dm+n.Dm,n.Cm)},n.My=function(t){return t.qy(this)},n.Uy=function(t){return t.Wy(this)},n.Hy=function(n){return this.Cm>=n.Cm?new t(d.abs(this.Dm-n.xm(this.Cm).Dm),this.Cm):n.Hy(this)},n.Vy=function(t,n){return this.Hy(t).Wy(n)},n.Fy=function(t){return i=t,(n=this).Cm>=i.Cm?uu(n.Dm,i.xm(n.Cm).Dm):uu(n.xm(i.Cm).Dm,i.Dm);var n,i},n.yy=function(t){return 0===this.Fy(t)},n.qy=function(t){return this.Fy(t)<0},n.Wy=function(t){return this.Fy(t)<=0},n.xm=function(n){return new t(this.Dm*(n/this.Cm),n)},n.Xy=function(n){return this.Cm>=n.Cm?new t(this.Dm-n.xm(this.Cm).Dm,this.Cm):new t(this.xm(n.Cm).Dm-n.Dm,n.Cm)},n.Lm=function(n){return new t(this.Dm*n,this.Cm)},ft(t,[{key:"Yy",get:function(){return!isFinite(this.Dm)}},{key:"Bm",get:function(){return this.Dm/this.Cm}}]),t}();Jy.Mm=new Jy(1/6,1),Jy.im=new Jy(0),Jy.Fm=new Jy(1/0),Jy.Um=1e6;var Qy=function(t){function n(n,i){var e;return(e=t.call(this)||this).wi=void 0,e.Cm=void 0,e.wi=n.toSigned(),e.Cm=i>>>0,e}vt(n,t),n.Vm=function(t,i){return void 0===i&&(i=1e6),n.tm(t*i,i)},n.tm=function(t,i){return g(t)?n.Wm:t===1/0?n.Hm:t===-1/0?n.qm:new n(Kt.fromNumber(t),i)},n.Zy=function(t,i){return new n(t,i)},n.zm=function(t){return n.Vm(t.Bm,1e6)},n.jm=function(t){return new n(Kt.fromNumber(t.getTime()),1e3)},n.Am=function(t,n){return t.Uy(n)?t:n},n.Pm=function(t,n){return t.Wy(n)?t:n},n.$m=function(t,i,e){return n.Am(i,n.Pm(e,t))};var i=n.prototype;return i.jy=function(){return this.wi.isNegative()},i.cm=function(){return 0!==this.Cm&&this.wi.isZero()},i.Yy=function(){return 0===this.Cm&&!this.wi.isZero()},i.Gy=function(){return 0===this.Cm&&this.wi.isZero()},i.By=function(){if(0===this.Cm)return this.wi.isZero()?NaN:this.wi.isNegative()?-1/0:1/0;var t=this.wi.divide(this.Cm),n=this.wi.subtract(t.multiply(this.Cm));return t.toNumber()+n.toNumber()/this.Cm},i.hm=function(){if(0===this.Cm)throw new f("Failed to convert timestamp");return this.wi},i.Xm=function(){return new Date(0===this.Cm?NaN:this.xm(1e3).wi.toNumber())},i.Gm=function(){return new Jy(0===this.Cm?this.By():this.wi.toNumber(),this.Cm)},i.xm=function(t,i){void 0===i&&(i=nm.Ym);var e=this.Cm;if(e===t)return this;if(0===e)return this;var r=Sn(e,t);return new n(function(t,n,i){var e=t.Tm(n),r=e[0],u=e[1];if(u.cm())return r;if(i===nm.Ym)return u.jy()?r.Xy(Ky._m):r;if(i===nm.Km)return u.jy()?r:r.Ug(Ky._m);var s=u.km(Ky.tm(2));return s.jy()?s.$y().qy(n)?r:r.Xy(Ky._m):s.qy(n)?r:r.Ug(Ky._m)}(Ky.Zy(this.wi).km(Ky.tm(t/r)),Ky.tm(e/r),i).hm(),t)},i.Fy=function(t){if(this===t)return Qr.Ir;if(0===this.Cm||0===t.Cm)return Yy(this,t);if(this.cm())return t.cm()?Qr.Ir:t.jy()?Qr.Dr:Qr.Cr;if(t.cm())return this.jy()?Qr.Cr:Qr.Dr;var n=d.min(this.Cm,t.Cm),i=this.xm(n,nm.Jm).wi,e=t.xm(n,nm.Jm).wi;return i.compare(e)},i.$y=function(){return 0===this.Cm?Zy(this):new n(this.wi.negate(),this.Cm)},i.Ug=function(t){if(0===this.Cm||0===t.Cm)return tm(this,t);if(this.cm())return t;if(t.cm())return this;var i=d.max(this.Cm,t.Cm),e=this.xm(i,nm.Jm),r=t.xm(i,nm.Jm);return new n(e.wi.add(r.wi),i)},i.km=function(t){if(this.Gy()||g(t))return n.Wm;if(this.Yy()||!isFinite(t)){if(this.cm()||0===t)return n.Wm;var i=this.jy()?n.qm:n.Hm;return t<0?i.$y():i}return this.cm()?this:new n(0===t?Kt.ZERO:this.wi.multiply(t),this.Cm)},i.Rm=function(t){if(this.Gy()||g(t))return n.Wm;if(this.Yy())return isFinite(t)?0===t?1/t<0?this.$y():this:t<0?this.$y():this:n.Wm;if(!isFinite(t))return new n(Kt.ZERO,this.Cm);if(this.cm())return 0===t?n.Wm:new n(Kt.ZERO,this.Cm);if(0===t){var i=this.jy()?n.qm:n.Hm;return 1/t<0?i.$y():i}return new n(this.wi.divide(t),this.Cm)},i.Qm=function(){return[this.wi.low,this.wi.high,this.Cm]},n}(Gy);function Zy(t){return t.Gy()?t:t.jy()?Qy.Hm:Qy.qm}function tm(t,n){return t.Gy()||n.Gy()?Qy.Wm:t.Yy()&&n.Yy()?t.jy()===n.jy()?t:Qy.Wm:t.Yy()?t:n}Qy.im=new Qy(Kt.ZERO,1e6),Qy.Wm=new Qy(Kt.ZERO,0),Qy.Hm=new Qy(Kt.ONE,0),Qy.qm=new Qy(Kt.NEG_ONE,0);var nm,im=function(t){function n(n,i){var e;return(e=t.call(this)||this).wi=void 0,e.Cm=void 0,e.wi=BigInt.asIntN(64,n),e.Cm=i>>>0,e}vt(n,t),n.Vm=function(t,i){return void 0===i&&(i=1e6),n.tm(t*i,i)},n.tm=function(t,i){return g(t)?n.Wm:t===1/0?n.Hm:t===-1/0?n.qm:new n(BigInt(d.floor(t)),i)},n.Zy=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.zm=function(t){return n.Vm(t.Bm,1e6)},n.jm=function(t){return n.tm(t.getTime(),1e3)},n.Am=function(t,n){return t.Uy(n)?t:n},n.Pm=function(t,n){return t.Wy(n)?t:n},n.$m=function(t,i,e){return n.Am(i,n.Pm(e,t))};var i=n.prototype;return i.jy=function(){return this.wi<BigInt(0)},i.cm=function(){return 0!==this.Cm&&this.wi===BigInt(0)},i.Yy=function(){return 0===this.Cm&&this.wi!==BigInt(0)},i.Gy=function(){return 0===this.Cm&&this.wi===BigInt(0)},i.By=function(){if(0===this.Cm)return this.wi===BigInt(0)?NaN:this.wi<BigInt(0)?-1/0:1/0;var t=this.wi/BigInt(this.Cm),n=this.wi-t*BigInt(this.Cm);return Number(t)+Number(n)/this.Cm},i.hm=function(){if(0===this.Cm)throw new f("Failed to convert timestamp");return this.Zm()},i.Zm=function(){var t=this.wi&BigInt(4294967295),n=this.wi>>BigInt(32)&BigInt(4294967295);return Kt.fromBits(Number(t),Number(n))},i.Xm=function(){return new Date(0===this.Cm?NaN:Number(this.xm(1e3).wi))},i.Gm=function(){return new Jy(0===this.Cm?this.By():Number(this.wi),this.Cm)},i.xm=function(t,i){void 0===i&&(i=nm.Ym);var e=this.Cm;if(e===t)return this;if(0===e)return this;var r=Sn(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===nm.Ym)return r<BigInt(0)?e-BigInt(1):e;if(i===nm.Km)return r<BigInt(0)?e:e+BigInt(1);var u=r*BigInt(2);return u<BigInt(0)?-u<n?e:e-BigInt(1):u<n?e:e+BigInt(1)}(this.wi*BigInt(t/r),BigInt(e/r),i),t)},i.Fy=function(t){if(this===t)return Qr.Ir;if(0===this.Cm||0===t.Cm)return Yy(this,t);if(this.cm())return t.cm()?Qr.Ir:t.jy()?Qr.Dr:Qr.Cr;if(t.cm())return this.jy()?Qr.Cr:Qr.Dr;var n=d.min(this.Cm,t.Cm),i=this.xm(n,nm.Jm).wi,e=t.xm(n,nm.Jm).wi;return i>e?Qr.Dr:i<e?Qr.Cr:Qr.Ir},i.$y=function(){return 0===this.Cm?em(this):new n(-this.wi,this.Cm)},i.Ug=function(t){if(0===this.Cm||0===t.Cm)return rm(this,t);if(this.cm())return t;if(t.cm())return this;var i=d.max(this.Cm,t.Cm),e=this.xm(i,nm.Jm),r=t.xm(i,nm.Jm);return new n(e.wi+r.wi,i)},i.km=function(t){if(this.Gy()||g(t))return n.Wm;if(this.Yy()||!isFinite(t)){if(this.cm()||0===t)return n.Wm;var i=this.jy()?n.qm:n.Hm;return t<0?i.$y():i}return this.cm()?this:new n(0===t?BigInt(0):this.wi*BigInt(t),this.Cm)},i.Rm=function(t){if(this.Gy()||g(t))return n.Wm;if(this.Yy())return isFinite(t)?0===t?1/t<0?this.$y():this:t<0?this.$y():this:n.Wm;if(!isFinite(t))return new n(BigInt(0),this.Cm);if(this.cm())return 0===t?n.Wm:new n(BigInt(0),this.Cm);if(0===t){var i=this.jy()?n.qm:n.Hm;return 1/t<0?i.$y():i}return new n(this.wi/BigInt(t),this.Cm)},i.Qm=function(){var t=this.Zm();return[t.low,t.high,this.Cm]},ft(n,null,[{key:"im",get:function(){return n.tb||(n.tb=new n(BigInt(0),1e6)),n.tb}},{key:"Wm",get:function(){return n.nb||(n.nb=new n(BigInt(0),0)),n.nb}},{key:"Hm",get:function(){return n.ib||(n.ib=new n(BigInt(1),0)),n.ib}},{key:"qm",get:function(){return n.eb||(n.eb=new n(BigInt(-1),0)),n.eb}}]),n}(Gy);function em(t){return t.Gy()?t:t.jy()?im.Hm:im.qm}function rm(t,n){return t.Gy()||n.Gy()?im.Wm:t.Yy()&&n.Yy()?t.jy()===n.jy()?t:im.Wm:t.Yy()?t:n}im.tb=void 0,im.nb=void 0,im.ib=void 0,im.eb=void 0,function(t){t[t.Ym=0]="Ym",t[t.Km=1]="Km",t[t.Jm=2]="Jm"}(nm||(nm={}));var um=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?im:Qy,sm=9e4,om=d.pow(2,33);um.tm(om,sm).Rm(2);var cm,am,fm,hm,vm={ub:0,sb:1/0,ob:0},dm=6,lm=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],wm=[" ","\t","\n","\f","\r"],gm=/^\d*$/,ym=/.*[0-9]+.*/,mm=/^[\d.-]+$/,bm=/(^\.|\.$)/,pm=/(\D\.|\.\D)/;function _m(t,n){void 0===n&&(n=vm);var i={Fl:[],cb:[],ab:[]},e=km(t),r=new Us;if(Am(e),Tm(e,function(t){return"\n"!==t},r),r.Iu>=e.length)return i;(r.Su(1),"\n"!==e.charAt(r.Iu))?Im(Sm(e,r,!1,!0,i,n),i):r.Su(1);for(Tm(e,function(t){return"\n"===t},r);r.Iu<e.length;){Im(Sm(e,r,!1,!1,i,n),i),Tm(e,function(t){return"\n"===t},r)}return i}function km(t){var n=Hr(t,"\0"," "),i=Hr(n,"\r\n","\n");return Hr(i,"\r","\n")}function Tm(t,n,i){for(var e=i.Iu;i.Iu<t.length&&n(t.charAt(i.Iu));)i.Su(1);return t.substring(e,i.Iu)}function Sm(t,n,i,e,r,u){for(var s,o=0,c=n.Iu,a="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(s=Tm(t,function(t){return"\n"!==t},n),o++,n.Iu>=t.length?f=!0:n.Su(1),qr(s,"--\x3e")){if(e||1!==o&&(2!==o||h)){n.Eu(c);break}h=!0,c=n.Iu,v=new $y(0,0,"",!1,a);try{Dm(s,r.cb,v,u),a=""}catch(t){st.Ie(t),v=null}}else{if(""===s)break;e&&zr(s,"X-TIMESTAMP-MAP")&&(r.fb=Em(s)),e||2!==o||i||($r("STYLE",a.replace(/ /g,""))?(d={gr:xy.Jg},a=""):$r("REGION",a.replace(/ /g,""))&&(l=new Xy("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=s,c=n.Iu}if(v)return v.sy=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&qr(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var u=r.indexOf(":"),s=r.substring(0,u),o=r.substring(u+1,r.length);switch(s.toUpperCase()){case"ID":qm(o,n);break;case"WIDTH":$m(o,n);break;case"LINES":jm(o,n);break;case"REGIONANCHOR":var c=Hm(o);c&&(n.Ny=c[0],n.Oy=c[1]);break;case"VIEWPORTANCHOR":var a=Hm(o);a&&(n.Ay=a[0],n.Py=a[1]);break;case"SCROLL":zm(o,n)}}}}(a,l),l;return null}function Em(t){var n,i,e=t.split("=")[1].trim().split(","),r=Rm(e[0].trim(),"MPEGTS")?e[0]:e[1],u=Rm(e[0].trim(),"LOCAL")?e[0]:e[1];return{hb:(i=Number(r.split(/:(.*)/)[1].trim())||0,um.tm(i,sm)),vb:um.Vm(null!=(n=Om(u.split(/:(.*)/)[1].trim(),new Us))?n:0)}}function Rm(t,n){return zr(t,n)}function Im(t,n){t&&function(t){return t.gr===xy.Yg}(t)?n.Fl.push(t):t&&function(t){return t.gr===xy.Kg}(t)?n.cb.push(t):t&&function(t){return t.gr===xy.Jg}(t)&&n.ab.push(t)}function Dm(t,n,i,e){var r=new Us;if(Pm(t,r),i.ey=Cm(Om(t,r),e),Pm(t,r),"--\x3e"!==t.substring(r.Iu,r.Iu+3))throw f("Something went wrong with parsing a WebVTT Cue");r.Su(3),Pm(t,r),i.uy=Cm(Om(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var u=e[r];if(0!==u.length&&qr(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),c=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":Fm(c,n,i);break;case"VERTICAL":Vm(c,n);break;case"D":Wm(c,n);break;case"LINE":case"L":Bm(c,n);break;case"POSITION":case"T":Mm(c,n);break;case"SIZE":case"S":Um(c,n);break;case"ALIGN":case"A":Lm(c,n)}}}}(t.substring(r.Iu,t.length),i,n)}function Cm(t,n){return t+n.ub}function Nm(t){return/^[0-9]$/.test(t)}function Om(t,n){var i,e,r,u=Hr(t,",","."),s=!1;if(n.Iu>=u.length||!Nm(u.charAt(n.Iu)))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var o=Tm(u,Nm,n),c=l(o,10);if((o.length>2||c>59)&&(s=!0),n.Iu>=u.length||":"!==u.charAt(n.Iu))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Su(1);var a=Tm(u,Nm,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var h=l(a,10);if(s||n.Iu<u.length&&":"===u.charAt(n.Iu)){if(n.Iu>=u.length||":"!==u.charAt(n.Iu))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Su(1);var v=Tm(u,Nm,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");i=c,e=h,r=l(v,10)}else i=0,e=c,r=h;if(n.Iu>=u.length||"."!==u.charAt(n.Iu))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Su(1);var d=Tm(u,Nm,n),w=l(d,10);if(h>59||r>59)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+w/1e3}function Am(t){if(t.length<dm)return!1;for(var n=0;n<lm.length;n++){if(zr(t,lm[n]))return!0}return!1}function Pm(t,n){for(;n.Iu<t.length&&(i=t.charAt(n.Iu),fu(wm,i));)n.Su(1);var i}function xm(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!g(i)&&i>=0&&i<=100)return i}return null}function Lm(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Ry=i;break;case"middle":n.Ry="center"}}function Bm(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),ym.test(i)){var u,s;if(jr(i,"%")){var o=xm(i);if(null===o)return;u=o,s=!1}else{if(!mm.test(i)||i.lastIndexOf("-")>0)return;var c=i.indexOf(".");if(c>=0&&(c!==i.lastIndexOf(".")||!pm.test(i)||bm.test(i)))return;if(u=w(i),g(u))return;s=!0}switch(n.py=u,n.Ey=s,e=e.toLowerCase()){case"start":case"center":case"end":n._y=e;break;case"middle":n._y="center"}}}function Mm(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var u=xm(i);if(null!==u)switch(n.ky=u,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Ty=e;break;case"start":n.Ty="line-left";break;case"middle":n.Ty="center";break;case"end":n.Ty="line-right"}}function Fm(t,n,i){var e=ou(i,function(n){return n.kl===t});void 0!==e&&(n.Sy=e)}function Um(t,n){var i=xm(t);null!==i&&(n.ku=i)}function Vm(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Iy="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Iy="lr";break;default:n.Iy=""}}function Wm(t,n){"VERTICAL"===t.toUpperCase()?n.Iy="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Iy="lr")}function Hm(t){if(t.indexOf(",")>=0){var n=xm(t.substring(0,t.indexOf(","))),i=xm(t.substring(t.indexOf(",")+1,t.length));return[kn(n||0,0,100),kn(i||100,0,100)]}return null}function qm(t,n){n.kl=t}function zm(t,n){"up"===t.toLowerCase()&&(n.xy="up")}function jm(t,n){gm.test(t)&&(n.Cy=l(t))}function $m(t,n){var i=xm(t);null!==i&&(n.Dy=i)}!function(t){t.lb="moov",t.wb="mvhd",t.gb="trak",t.yb="tkhd",t.mb="mdia",t.bb="mdhd",t.pb="hdlr",t._b="minf",t.kb="stbl",t.Tb="stsd",t.Sb="stsc",t.Eb="mvex",t.Rb="trex",t.Ib="avc1",t.Db="avcC",t.Cb="hev1",t.Nb="hvc1",t.Ob="hvcC",t.Ab="pasp",t.Pb="mp4a",t.xb="esds",t.Lb="wvtt",t.Bb="vttC",t.Mb="vlab",t.Fb="enca",t.Ub="encv",t.Vb="moof",t.Wb="mfhd",t.Hb="traf",t.qb="tfhd",t.zb="trun",t.jb="tfdt",t.$b="senc",t.Xb="mdat",t.Gb="pssh",t.Yb="emsg",t.Kb="sidx",t.Jb="styp",t.Qb="ftyp",t.Zb="sinf",t.tp="frma"}(cm||(cm={})),function(t){t.ov="vide",t.sv="soun",t.np="subt",t.ip="hint",t.ep="meta",t.rp="auxv"}(am||(am={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(fm||(fm={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(hm||(hm={}));var Xm=function(){function t(t,n){this.Pi=void 0,this.sp=void 0,this.Pi=t,this.sp=n}var n=t.prototype;return n.op=function(){return as(this.Pi,this.sp)},n.cp=function(){return ds(this.Pi,this.sp)},n.ap=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Iu,i);return n.Su(2),e}(this.Pi,this.sp)},n.fp=function(){return ws(this.Pi,this.sp)},n.hp=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Iu,i);return n.Su(4),e}(this.Pi,this.sp)},n.vp=function(){return ys(this.Pi,this.sp)},n.dp=function(t){return hs(this.Pi,this.sp,t)},n.lp=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(ws(t,n));return e}(this.Pi,this.sp,t)},n.wp=function(t){return ps(this.Pi,this.sp,t)},n.gp=function(){return Cs(this.Pi,this.sp)},n.yp=function(t){this.sp.Su(t)},n.Ru=function(){return new t(this.Pi,this.sp.Ru())},t}(),Gm=function(t){function n(n,i){var e;return(e=t.call(this)||this).mp=n,e.bp=i,e}return vt(n,t),ft(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(On),Ym=function(){function t(){}return t.pp=function(n){var i=n.Pi,e=n.sp,r=t._p(i,e,!1);if(!r.kp)throw new Gm(e.Iu,r.Si);return r.Si},t._p=function(n,i,e){for(var r=[];i.Iu<n.byteLength;){var u=t.Tp(n,i,e);if(!u.kp)return{kp:!1,Si:r};r.push(u.Sp)}return{kp:!0,Si:r}},t.Ep=function(n,i){var e=t.Tp(n,i,!1);if(!e.kp)throw new Gm(i.Iu);return e.Sp},t.Rp=function(n,i){for(var e=n.Pi,r=n.sp;r.Iu<e.byteLength;){var u=t.Tp(e,r,!1);if(!u.kp)return;if(u.Sp.gr===i)return u.Sp}},t.Tp=function(n,i,e){var r=i.Iu,u=t.Ip(n,i);if(!u.kp)return u;var s=u.Dp,o=s.ku;if(0===o){if(e)return i.Eu(r),{kp:!1,Cp:1/0};o=n.byteLength-r}var c=r+o;if(c>n.byteLength){var a=c;return i.Eu(r),{kp:!1,Cp:a}}var f,h,v,d={gr:s.gr,Iu:r,Pi:new Xm((f=n,h=r,v=c,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new Us(s.Np))};return i.Eu(c),{kp:!0,Sp:d}},t.Ip=function(t,n){var i=n.Iu;if(!vs(t,n,8))return{kp:!1,Cp:n.Iu+8};var e=ws(t,n),r=ps(t,n,4);if(1===e){if(!vs(t,n,8)){var u=n.Iu+8;return n.Eu(i),{kp:!1,Cp:u}}e=ys(t,n).toNumber()}if("uuid"===r){if(!vs(t,n,16)){var s=n.Iu+16;return n.Eu(i),{kp:!1,Cp:s}}r=ps(t,n,16)}return{kp:!0,Dp:{gr:r,ku:e,Np:n.Iu-i}}},t.Op=function(t,n,i){var e=t.Pi,r=t.sp,u=As(xs(e),r.Iu,e.byteLength);return i&&(u=Fs(u)),r.Su(u.byteLength),{gr:n,Pi:u}},t.Ap=function(n,i,e){var r=Zm(n.fp());return{gr:i,Pp:r.version,xp:r.flags,Pi:t.Op(n,i,e).Pi}},t}();function Km(t,n){var i=Jm(t,n);if(!i)throw new f("Missing "+n+" atom");return i}function Jm(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.gr===n)return e.Pi}}function Qm(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.gr===n&&i.push(r.Pi)}return i}function Zm(t){return{version:t>>24,flags:new cs(16777215&t)}}var tb=function(){function t(){}return t.Lp=function(n){for(var i=[],e=Ym.pp(new Xm(n,new Us)),r=0;r<e.length;r++){var u=e[r],s=t.Bp(u);s&&i.push(s)}return i},t.Mp=function(t){return Ym._p(t,new Us,!1).Si.some(this.Fp)},t.Up=function(n){return Qm(Ym.pp(new Xm(n,new Us)),cm.Gb).map(t.Vp)},t.Wp=function(n){return Qm(Ym.pp(n.Pi),cm.Gb).map(t.Vp)},t.Fp=function(t){return t.gr===cm.Qb||t.gr===cm.Jb||t.gr===cm.lb||t.gr===cm.Vb||t.gr===cm.Xb||t.gr===cm.Kb||t.gr===cm.Yb},t.Bp=function(n){switch(n.gr){case cm.lb:return t.Hp(n.Pi);case cm.Vb:return t.qp(n.Pi,n.Iu);case cm.Xb:return t.zp(n.Pi);case cm.Kb:return t.jp(n.Pi);case cm.Yb:return t.$p(n.Pi)}},t.Hp=function(n){var i=Ym.pp(n),e=Km(i,cm.wb),r=Qm(i,cm.gb),u=Jm(i,cm.Eb),s=t.Xp(e),o=r.map(t.Gp),c=u?t.Yp(u):void 0;return{gr:cm.lb,Dp:s,Kp:o,Jp:c}},t.Xp=function(t){var n=Zm(t.fp()),i=n.version,e=n.flags,r=1===i?t.vp():t.fp(),u=1===i?t.vp():t.fp(),s=t.fp(),o=1===i?t.vp():t.fp(),c=t.fp(),a=t.cp()>>8;t.yp(2),t.yp(8);var f=t.lp(9);t.yp(24);var h=t.fp();return{gr:cm.wb,Pp:i,xp:e,Qp:r,Zp:u,Cm:s,pw:o,t_:c,Cw:a,n_:f,i_:h}},t.Gp=function(n){var i=Ym.pp(n),e=Km(i,cm.yb),r=Km(i,cm.mb),u=t.e_(e),s=t.r_(r);return{gr:cm.gb,Dp:u,u_:s}},t.e_=function(t){var n=Zm(t.fp()),i=n.version,e=n.flags,r=1===i?t.vp():t.fp(),u=1===i?t.vp():t.fp(),s=t.fp();t.yp(4);var o=1===i?t.vp():t.fp();t.yp(8);var c=t.ap(),a=t.ap(),f=t.ap()/d.pow(2,8);t.yp(2);var h=t.lp(9),v=t.fp()/d.pow(2,16),l=t.fp()/d.pow(2,16);return{gr:cm.yb,s_:e.Cu(1),o_:e.Cu(2),c_:e.Cu(4),Qp:r,Zp:u,a_:s,pw:o,f_:c,h_:a,Cw:f,n_:h,Dy:v,v_:l}},t.r_=function(n){var i=Ym.pp(n),e=Km(i,cm.bb),r=Km(i,cm.pb),u=Km(i,cm._b),s=t.d_(e),o=t.l_(r),c=t.w_(u);return{gr:cm.mb,Dp:s,g_:o,y_:c}},t.d_=function(t){var n=Zm(t.fp()),i=n.version,e=n.flags,r=1===i?t.vp():t.fp(),u=1===i?t.vp():t.fp(),s=t.fp(),o=1===i?t.vp():t.fp();return t.cp(),t.yp(2),{gr:cm.bb,Pp:i,xp:e,Qp:r,Zp:u,Cm:s,pw:o}},t.l_=function(t){var n=Zm(t.fp()),i=n.version,e=n.flags;t.yp(4);var r=t.wp(4);t.yp(12);var u=t.gp();return{gr:cm.pb,Pp:i,xp:e,m_:r,vi:u}},t.w_=function(n){var i=Km(Ym.pp(n),cm.kb),e=t.b_(i);return{gr:cm._b,p_:e}},t.b_=function(n){var i=Km(Ym.pp(n),cm.Tb),e=t.__(i);return{gr:cm.kb,k_:e}},t.__=function(n){var i=Zm(n.fp()),e=i.version,r=i.flags;n.fp();for(var u=[],s=Ym.pp(n),o=0;o<s.length;o++){var c=s[o],a=t.T_(c.Pi,c.gr);a&&u.push(a)}return{gr:cm.Tb,Pp:e,xp:r,S_:u}},t.T_=function(n,i){var e=t.E_(n,i);return e||((e=t.R_(n,i))||(i===cm.Lb?t.I_(n):void 0))},t.E_=function(n,i){return i===cm.Pb?t.D_(n):i===cm.Fb?t.C_(n):void 0},t.R_=function(n,i){return i===cm.Ib?t.N_(n):i===cm.Cb||i===cm.Nb?t.O_(n,i):i===cm.Ub?t.A_(n):void 0},t.P_=function(t,n){return t.yp(6),{gr:n,x_:t.cp()}},t.L_=function(n,i){var e=t.P_(n,i);n.yp(8);var r=n.cp(),u=n.cp();return n.yp(2),n.yp(2),wr({},e,{B_:r,M_:u,F_:n.fp()>>>16})},t.U_=function(n,i){var e=t.P_(n,i);n.yp(2),n.yp(2),n.yp(12);var r=n.cp(),u=n.cp(),s=n.fp(),o=n.fp();n.yp(4);var c=n.cp();n.yp(32);var a=n.cp();return n.yp(2),wr({},e,{Dy:r,v_:u,V_:s,W_:o,H_:c,q_:a})},t.D_=function(n){var i=t.L_(n,cm.Pb),e=Km(Ym.pp(n),cm.xb);return wr({},i,{z_:t.j_(e)})},t.I_=function(n){var i=t.P_(n,cm.Lb),e=Ym.pp(n),r=Km(e,cm.Bb),u=t.X_(r),s=Jm(e,cm.Mb);return wr({},i,{G_:u,Y_:s?t.K_(s):s})},t.X_=function(t){return{gr:cm.Bb,lc:t.gp()}},t.K_=function(t){return{gr:cm.Mb,El:t.gp()}},t.j_=function(t){return Ym.Ap(t,cm.xb,!0)},t.N_=function(n){var i=t.U_(n,cm.Ib),e=Ym.pp(n),r=Km(e,cm.Db),u=Jm(e,cm.Ab);return wr({},i,{J_:t.Q_(r),Z_:u?t.tk(u):void 0})},t.O_=function(n,i){var e=t.U_(n,i),r=Km(Ym.pp(n),cm.Ob);return wr({},e,{nk:t.ik(r)})},t.A_=function(n){var i=n.Ru(),e=t.U_(n,cm.Ub),r=Km(Ym.pp(n),cm.Zb),u=t.ek(r);return wr({},e,{rk:t.R_(i,u.sk.uk),ck:u})},t.C_=function(n){var i=n.Ru(),e=t.L_(n,cm.Fb),r=Km(Ym.pp(n),cm.Zb),u=t.ek(r);return wr({},e,{rk:t.E_(i,u.sk.uk),ck:u})},t.ek=function(n){var i=Km(Ym.pp(n),cm.tp),e=t.ak(i);return{gr:cm.Zb,sk:e}},t.ak=function(t){var n=t.wp(4);return{gr:cm.tp,uk:n}},t.Q_=function(t){return Ym.Op(t,cm.Db,!0)},t.ik=function(t){return Ym.Op(t,cm.Ob,!0)},t.tk=function(t){var n=t.fp(),i=t.fp();return{gr:cm.Ab,fk:n,hk:i}},t.Yp=function(n){var i=Qm(Ym.pp(n),cm.Rb).map(t.vk);return{gr:cm.Eb,Kp:i}},t.vk=function(t){var n=Zm(t.fp()),i=n.version,e=n.flags,r=t.fp(),u=t.fp(),s=t.fp(),o=t.fp(),c=t.fp();return{gr:cm.Rb,Pp:i,xp:e,a_:r,dk:u,lk:s,wk:o,gk:c}},t.qp=function(n,i){var e=Ym.pp(n),r=Km(e,cm.Wb),u=Qm(e,cm.Hb),s=t.yk(r),o=u.map(t.mk);return{gr:cm.Vb,bk:i,Dp:s,Kp:o}},t.yk=function(t){var n=Zm(t.fp()),i=n.version,e=n.flags,r=t.fp();return{gr:cm.Wb,Pp:i,xp:e,pk:r}},t.mk=function(n){var i=Ym.pp(n),e=Km(i,cm.qb),r=Qm(i,cm.zb),u=Jm(i,cm.jb),s=t._k(e),o=r.map(function(n){return t.kk(n,s)}),c=u?t.Tk(u):void 0;return{gr:cm.Hb,Dp:s,Sk:o,Ek:c}},t._k=function(t){var n=Zm(t.fp()),i=n.version,e=n.flags,r=t.fp(),u=e.Cu(fm.BASE_DATA_OFFSET_PRESENT)?t.vp():void 0,s=e.Cu(fm.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.fp():void 0,o=e.Cu(fm.DEFAULT_SAMPLE_DURATION_PRESENT)?t.fp():void 0,c=e.Cu(fm.DEFAULT_SAMPLE_SIZE_PRESENT)?t.fp():void 0,a=e.Cu(fm.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.fp():void 0;return{gr:cm.qb,Pp:i,xp:e,a_:r,Rk:u,Ik:s,lk:o,wk:c,gk:a}},t.kk=function(n,i){for(var e=Zm(n.fp()),r=e.version,u=e.flags,s=n.fp(),o=u.Cu(hm.DATA_OFFSET_PRESENT)?n.hp():void 0,c=u.Cu(hm.FIRST_SAMPLE_FLAGS_PRESENT)?n.fp():void 0,a=[],f=0;f<s;f++){var h=t.Dk(n,u,r,i);0===f&&void 0!==c&&(h.xp=c),a.push(h)}return{gr:cm.zb,Pp:r,xp:u,Ck:s,bk:o,Nk:c,Ok:a}},t.Dk=function(t,n,i,e){return{pw:n.Cu(hm.SAMPLE_DURATION_PRESENT)?t.fp():e.lk,ku:n.Cu(hm.SAMPLE_SIZE_PRESENT)?t.fp():e.wk,xp:n.Cu(hm.SAMPLE_FLAGS_PRESENT)?t.fp():e.gk,Ak:n.Cu(hm.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.fp():t.hp():void 0}},t.$p=function(t){var n=t.Pi,i=t.sp,e=Zm(ws(n,i)),r=e.version,u=e.flags;if(1===r){var s=ws(n,i),o=ys(n,i),c=ws(n,i),a=ws(n,i),f=bs(n,i),h=bs(n,i),v=Ms(xs(n),i.Iu,n.byteLength);return i.Su(v.byteLength),{gr:cm.Yb,Pp:r,xp:u,Pk:f,wi:h,Cm:s,xk:o,Lk:c,kl:a,Bk:v}}var d=bs(n,i),l=bs(n,i),w=ws(n,i),g=ws(n,i),y=ws(n,i),m=ws(n,i),b=Ms(xs(n),i.Iu,n.byteLength);return i.Su(b.byteLength),{gr:cm.Yb,xp:u,Pp:r,Pk:d,wi:l,Cm:w,Mk:g,Lk:y,kl:m,Bk:b}},t.zp=function(t){return Ym.Op(t,cm.Xb,!1)},t.Vp=function(n){var i=n.Pi,e=n.sp,r=Fs(xs(i)).buffer,u=Zm(ws(i,e)),s=u.version,o=u.flags,c=t.Fk(i,e),a=[];if(s>0)for(var f=ws(i,e),h=0;h<f;h++){var v=hs(i,e,16);a.push(v)}var d=ws(i,e),l=new y(r,e.Iu,d);return e.Su(i.byteLength),{gr:cm.Gb,Pp:s,xp:o,Uk:c,Vk:a,Wk:d,Pi:l,Hk:r}},t.Fk=function(t,n){for(var i="",e=0;e<4;e++){var r=as(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var u=0;u<2;u++){var s=as(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var c=as(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var a=0;a<2;a++){var f=as(t,n).toString(16);i+=1===f.length?"0"+f:f}i+="-";for(var h=0;h<6;h++){var v=as(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.jp=function(t){var n,i,e=t.Pi,r=t.sp,u=Zm(ws(e,r)),s=u.version,o=u.flags,c=ws(e,r),a=ws(e,r);0===s?(n=Kt.fromBits(ws(e,r),0,!0),i=Kt.fromBits(ws(e,r),0,!0)):(n=ys(e,r),i=ys(e,r)),r.Su(2);for(var f=ds(e,r),h=[],v=0;v<f;v+=1){var d=ws(e,r),l=d>>31&1,w=2147483647&d,g=ws(e,r),y=ws(e,r),m=y>>31&1,b=y>>28&7,p=268435455&y;h.push({qk:l,zk:w,pw:g,jk:m,$k:b,Xk:p})}return{gr:cm.Kb,Pp:s,xp:o,Gk:c,Cm:a,Yk:n,Kk:i,Jk:f,Qk:h}},t.Tk=function(t){var n,i=t.Pi,e=t.sp,r=Zm(ws(i,e)),u=r.version,s=r.flags;return n=0===u?Kt.fromBits(ws(i,e),0,!0):ys(i,e),{gr:cm.jb,Pp:u,xp:s,Ek:n}},t}();function nb(t){return t&&"Ti"in t?t.Ti:t}var ib=function(t){function n(n,i,e,r,u,s,o){var c;return(c=t.call(this,n,i,e,r)||this).Zk=void 0,c.tT=void 0,c.nT=void 0,c.Zk=u,c.tT=s,c.nT=o||void 0,c}return vt(n,t),n.prototype.yy=function(n){return this===n||!!Lw(this,n)&&(!!t.prototype.yy.call(this,n)&&(!!xw(this.iT,n.iT)&&(!!xw(this.cb,n.cb)&&(this.eT&&n.eT?!!this.eT.ai(n.eT)&&(this.sy&&n.sy?this.sy.ai(n.sy):this.sy===n.sy):this.eT===n.eT))))},ft(n,[{key:"iT",get:function(){return this.Zk}},{key:"cb",get:function(){return this.tT}},{key:"eT",get:function(){return this.nT}},{key:"Pd",get:function(){var t;return this.Ad||(this.Ad=Aw(Vy(t=this),{get styles(){return t.iT},get regions(){return t.cb},get metadata(){return nb(t.eT)},get content(){return nb(t.sy)}})),this.Ad}}]),n}(jy),eb=function(){function t(t,n,i){this.Ef=void 0,this.rT=void 0,this.uT=void 0,this.rT=t,this.uT=n,Dn(i)?this.Ef=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var u=r[e];i.Ii(u)}return i}(0,0,i):this.Ef=i}return ft(t,[{key:"sT",get:function(){return this.Ef.fi(!0)}},{key:"ey",get:function(){return this.rT}},{key:"uy",get:function(){return this.uT}}]),t}();var rb="http://www.w3.org/XML/1998/namespace";function ub(t,n){return function(t,n){var i=t.Si.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Si)}return e}(t,function(t){return t.pi===n})}function sb(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function ob(t,n){for(var i=t.Oi,e={},r=0;r<i.length;r++)e[sb(i[r].vi,n)]=i[r].wi;return e}var cb=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,ab=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,fb="http://www.w3.org/ns/ttml";function hb(t,n,i){return void 0===i&&(i=vm),function(t,n,i){var e,r=[];try{e=st.oi(t)}catch(t){return r}var u=e.xi;if("tt"!==u.hi)return r;var s=u&&u._i(fb,"head")[0],o=u&&u._i(fb,"body")[0],c=["ebutts","tts","xml"];if(!o||!s)return r;for(var a=function(t,n){for(var i={},e=t._i(fb,"styling")[0],r=e&&e._i(fb,"style")||[],u=0;u<r.length;u++){var s=r[u],o=s.Ri(rb,"id");i[o]=ob(s,n)}return i}(s,c),f=function(t,n){var i=Pw(t),e=wb(n.Ei("tts:extent"));if(!e)return i;for(var r=0,u=v.keys(i);r<u.length;r++){var s=u[r],o=wb(i[s].extent);if(o){var c=db(o[0],e[0]),a=db(o[1],e[1]);i[s].extent=c+" "+a}var f=wb(i[s].origin);if(f){var h=db(f[0],e[0]),d=db(f[1],e[1]);i[s].origin=h+" "+d}}return i}(function(t,n){for(var i={},e=t._i(fb,"layout")[0],r=e&&e._i(fb,"region")||[],u=0;u<r.length;u++){var s=r[u],o=s.Ri(rb,"id");if(o){i[o]=ob(s,n);var c=mb(s,n);for(var a in c)Et.call(c,a)&&(i[o][a]=c[a])}}return i}(s,c),u),h=s._i(fb,"metadata")[0],d=function t(n,i,e,r){var u=i;var s;var o=e;var c=[];var a=[];if(Dn(n)){var f,h;u=null!=(f=yb(n.Ei("begin"),r))?f:u,s=yb(n.Ei("dur"),0),o=null!=(h=yb(n.Ei("end"),r))?h:void 0!==s?u+s:o;for(var v=n.bi,d=0;d<v.length;d++)("body"===n.hi||"div"===n.hi)&&v[d].ni>1||(c=c.concat(t(v[d],u,o,r)))}var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var u=i[r];e.push(u.ey,u.uy)}e.sort(eu);for(var s=e.length,o=0;o<s-1;o++)e[o+1]===e[o]&&(au(e,o+1),o--,s=e.length);return e}(u,o,c);for(var w=0;w<l.length-1;w++){var g=gb(l[w],l[w+1],c);if(g.length<=0&&bb(n)){var y=n.fi(!1);a.push(new eb(l[w],l[w+1],y))}else g.length>0&&function(){var t=n.fi(!1);g.forEach(function(n){return t.ki(n.sT)}),a.push(new eb(l[w],l[w+1],t))}()}return a}(o,i.ub,i.sb,i.ob),l=0;l<d.length;l++){var w=d[l],g=vb(f,w);r.push(new ib(w.ey,w.uy,w.sT,!1,a,g,h))}return r}(t,0,i)}function vb(t,n){for(var i=function t(n){var i=[];var e;if(Dn(n)){(e=n.Ei("region"))&&i.push(e);for(var r=n.bi,u=0;u<r.length;u++)i=i.concat(t(r[u]))}return i}(n.sT),e={},r=0;r<i.length;r++){var u=i[r];e[u]=t[u]}return e}function db(t,n){var i=lb(t),e=lb(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-e.length));return g(r)||g(u)?t:r/u*100+"%"}return t}function lb(t){return jr(t,"px")?"px":jr(t,"em")?"em":jr(t,"c")?"c":jr(t,"%")?"%":void 0}function wb(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function gb(t,n,i){for(var e=[],r=0;r<i.length;r++){var u=i[r].ey,s=i[r].uy;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&e.push(i[r])}return e}function yb(t,n){if(t){if(cb.test(t)){var i=cb.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*e+60*r+u+(s?Number(s)*d.pow(.1,s.length):0)+n}if(ab.test(t)){var o=ab.exec(t);if(!o)return;var c,a=Number(o[1]);switch(o[4]){case"h":c=3600*a;break;case"m":c=60*a;break;case"s":c=a;break;case"ms":c=.001*a;break;case"f":case"t":default:c=NaN}return c+n}}}function mb(t,n){for(var i={},e=t.mi("style")||[],r=0;r<e.length;r++){var u=ob(e[r],n);for(var s in u)Et.call(u,s)&&(i[s]=u[s])}return i}function bb(t){if(Dn(t)){var n=t.hi.toUpperCase(),i=Boolean(t.Ei("smpte:backgroundImage"));return"BR"===n||i}return t.ni===In.ri}function pb(t){var n=function(t){try{return st.oi(t).xi}catch(t){}}(t);return"tt"===(null==n?void 0:n.hi)}var _b,kb=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.ol=function(n){return t.prototype.ol.call(this,n)},i.cl=function(n){var i=t.prototype.cl.call(this,n);return i&&(n.Ol=Yw.xl),i},i.xd=function(){return ng(this)},n}(Rw);!function(t){t.np="subtitles",t.oT="captions",t.cT="descriptions",t.aT="chapters",t.ep="metadata",t.fT="thumbnails"}(_b||(_b={}));var Tb=[_b.np,_b.oT,_b.cT,_b.aT,_b.ep,_b.fT];function Sb(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&fu(Tb,t)}(n)?n:n?_b.ep:_b.np}var Eb,Rb=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,u)||this).url=void 0,s.status=void 0,s.url=e,s.status=r,s}return vt(n,t),n}(Ac);function Ib(t,n){return t===_b.fT||t===_b.ep&&n===_b.fT}function Db(t,n,i,e){for(var r=0,u=t.Fl.hl;r<u.length;r++){var s=u[r];if(s.ey>i)break;n<=s.uy&&e.push(s)}}function Cb(t,n){return iu(t.Tl,n.Tl)}function Nb(t,i){var e=i,r=0;if(t instanceof Fd&&t.name===xd.Tv)e=t.qh.jh;else if(function(t){return t instanceof Vd}(t)){var u=t.Dv;if(e=u.zh,0===(r=u.Fh))return new Rb(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Rb(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Ob(t,i,e,r){var u=function(t){switch(t){case Py.WEBVTT:return"WebVTT";case Py.SRT:return"SRT";case Py.TTML:return"TTML";default:return""}}(t);return new Rb(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(u?u+" ":"")+"subtitle file.",i,e,r)}function Ab(t){return Am(km(t))?Py.WEBVTT:pb(t)?Py.TTML:Py.SRT}function Pb(t,n){for(var i=[],e=0,r=t.Fl.hl;e<r.length;e++){var u=r[e];if(u.uy<=n)i.push(u);else if(u.ey>=n)break}for(var s=0;s<i.length;s++){var o=i[s];t.hT(o)}}!function(t){t.vT="vtt",t.Lb="wvtt",t.dT="stpp"}(Eb||(Eb={}));var xb=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Kp=new kb,n.lT=function(t){var i=t.Ld;n.wT(i)},n}vt(n,t);var i=n.prototype;return i.ol=function(t){t.Kr(bw.$d,this.lT),this.Kp.ol(t),this.wT(t)},i.cl=function(t){t.tu(bw.$d,this.lT),t.Ol=Yw.xl,this.Kp.cl(t)},i.gT=function(t){},i.yT=function(t){},i.wT=function(t){t.Ol!==Yw.xl?this.gT(t):this.yT(t)},i.mT=function(){for(var t=0,n=this.Kp.hl;t<n.length;t++){var i=n[t];i.tu(bw.$d,this.lT),i.et()}},i.bT=function(t){if(t>0)for(var n=0,i=this.Kp.hl;n<i.length;n++){Pb(i[n],t)}},i.fl=function(){return this.mT(),this.Kp.fl(),j.resolve()},i.et=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zr(),t.next=3,lr.awrap(this.fl());case 3:this.Kp.et();case 4:case"end":return t.stop()}},null,this,null,j)},n}(Cu),Lb=function(t){function n(n){var i;return(i=t.call(this,Kw.Cl)||this).errorObject=n,i}return vt(n,t),n.prototype.xd=function(){return this},ft(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(mw),Bb=function(t){function n(n,i){var e;return(e=t.call(this)||this).pT=void 0,e._T=void 0,e.kT=new du,e.pT=n,e._T=i,e}vt(n,t);var i=n.prototype;return i.TT=function(t){if(t.src){var n=t.kind||_b.np,i=this.pT.ST(n,t.id,t.label,t.srclang,t.default);return i.Vl=Pd(t.src),this.ol(i),i}},i.ET=function(t,n){var i,e,r,u,s,o,c,a,f,h;return lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.Ml=Ay.LOADING,i=new Cd({jh:t.Vl,Vh:Zc.ri,av:Sd.GET,zr:n}),v.prev=2,v.next=5,lr.awrap(this._T.qh(i));case 5:return u=v.sent,r=u.Fh,v.next=9,lr.awrap(u.kh());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),yu(v.t0),t.Ml=Ay.ERROR,t.Yr(new Lb(Nb(v.t0,t.Vl))),v.abrupt("return");case 18:for(v.prev=18,s=Ab(e),t.gr=s,o=[],s===Py.WEBVTT||s===Py.SRT?(c=_m(e),o=c.Fl):s===Py.TTML&&(o=hb(e)),a=0,f=o;a<f.length;a++)h=f[a],t.RT(h);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),yu(v.t1),t.Ml=Ay.ERROR,t.Yr(new Lb(Ob(t.gr,t.Vl,r,v.t1))),v.abrupt("return");case 32:t.Ml=Ay.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],j)},i.gT=function(t){fu(this.Kp.hl,t)&&t.Ml===Ay.NONE&&this.ET(t,this.kT.zr).catch(mu)},i.rc=function(){},i.fl=function(){var n,i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.kT.Wr(),this.kT=new du,n=0,i=this.Kp.hl;n<i.length;n++)e=i[n],this.pT.IT(e);return r.next=5,lr.awrap(t.prototype.fl.call(this));case 5:case"end":return r.stop()}},null,this,null,j)},n}(xb);function Mb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.Sl===n&&e.DT)return e}}function Fb(t,n){Ub(Mb(t.hl,n))}function Ub(t){void 0!==t&&(t.Ol=Yw.Al)}function Vb(t,n){Ub(Mb(t.hl,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.Sl===n)return e}}(t.hl,n))}function Wb(t){for(var n=0;n<Tb.length;n++){var i=Tb[n];i===_b.aT?Vb(t,i):Fb(t,i)}}var Hb,qb=function(t){function n(){return t.call(this,Qc.xa)||this}return vt(n,t),n}(Ou);!function(t){t[t.CT=0]="CT",t[t.NT=1]="NT"}(Hb||(Hb={}));var zb=t,jb=zb.MediaSource,$b=zb.WebKitMediaSource,Xb=zb.TextTrack,Gb=e&&e.createElement("video");e&&e.documentElement.style;var Yb=St.hn&&St.Wn&&St.Hn<=26;St.Sn;var Kb=!(!jb&&!$b),Jb=!!Xb;e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||St._n,St.Mn&&St.Fn,Gb&&Gb.canPlayType&&(""!==Gb.canPlayType("application/vnd.apple.mpegURL")||St.ln&&!St.Mn&&St.wn);Gb&&Gb.canPlayType&&Gb.canPlayType("video/mp4");var Qb=Kb&&!St.Un&&!St.xn&&!St.Pn&&((jb||$b).isTypeSupported?(jb||$b).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Gb&&Gb.canPlayType&&""!==Gb.canPlayType('audio/mp4; codecs="mp4a.40.34"'));Kb&&!St.Un&&(Qb||((jb||$b).isTypeSupported?(jb||$b).isTypeSupported("audio/mpeg"):Gb&&Gb.canPlayType&&Gb.canPlayType("audio/mpeg"))),Kb&&(!St.Bn||!St.hn)&&(jb||$b).isTypeSupported&&(jb||$b).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),St.Un||St.xn||St.Pn,St.Ln,St.Un,St.xn&&St.vn&&St.dn;try{i&&i.top!==i.self}catch(t){!0}var Zb=function(t){function n(n){var i;return(i=t.call(this,Cg.yw)||this).currentTime=n,i}return vt(n,t),n}(Ou),tp=function(t){function n(n){var i;return(i=t.call(this,Cg.mw)||this).currentTime=n,i}return vt(n,t),n}(Ou);Cg.Gd,Cg.mw,Qc.Na,Qc.Ca;var np=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).OT=lg.cw,e.AT=!0,e.PT=!1,e.xT=!1,e.LT=function(t){var n=e.BT.Ml;n!==e.OT&&e.Yr(new Xg(t.currentTime,n)),n===lg.cw&&(e.PT=!1,e.xT=!1),e.MT(n),e.FT(n),e.UT(n),e.maybeDispatchCanPlayThroughEvent(n),e.VT(n),e.WT(n),e.OT=n},e.HT=function(){e.WT(e.OT),e.VT(e.OT),e.AT=e.BT.Sw},e.qT=function(){e.AT=e.BT.Sw},e.BT=n,e.zT=i,e.BT.Kr(Cg.Gd,e.LT),e.BT.Kr(Qc.Na,e.HT),e.BT.Kr(Qc.Ca,e.qT),e.zT&&e.BT.Kr(Cg.mw,e.Gr),e}vt(n,t);var i=n.prototype;return i.MT=function(t){!this.xT&&t>=lg.aw&&(this.xT=!0,this.Yr(new Bg(this.BT.bw,t)))},i.FT=function(t){!this.PT&&t>=lg.fw&&(this.PT=!0,this.Yr(new Wg(this.BT.bw,t)))},i.VT=function(t){this.zT||(t>=lg.hw&&this.OT<lg.hw&&!this.BT.Sw||this.jT&&t>=lg.hw)&&this.Yr(new tp(this.BT.bw))},i.WT=function(t){!this.$T(t)||this.BT._w||this.BT.fu||this.Yr(new Zb(this.BT.bw))},i.UT=function(t){this.OT<=lg.fw&&t>=lg.hw&&this.Yr(new jg(this.BT.bw,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===lg.vw&&this.Yr(new $g(this.BT.bw,t))},i.$T=function(t){var n=!this.BT.Sw&&t<=lg.fw,i=!this.AT&&this.OT<=lg.fw;return n&&!i},i.fl=function(){this.OT=lg.cw,this.AT=!0,this.PT=!1,this.xT=!1},i.et=function(){this.Zr(),this.zT&&this.BT.tu(Cg.mw,this.Gr),this.BT.tu(Qc.Na,this.HT),this.BT.tu(Qc.Ca,this.qT),this.BT.tu(Cg.Gd,this.LT)},ft(n,[{key:"jT",get:function(){return!this.BT.Sw&&this.AT}}]),n}(Cu),ip="titanium",ep="conax",rp="ezdrm",up="irdeto",sp="vudrm",op="verimatrix",cp="keyos",ap="drmtoday",fp="expressplay",hp="azure",vp="xstream",dp="vimond",lp="axinom",wp="uplynk",gp="comcast",yp="custom",mp=function(){function t(t,n,i,e,r){this.dc=void 0,this.XT=void 0,this.GT=void 0,this.YT=void 0,this._T=void 0,this.KT=void 0,this.JT=void 0,this.dc=t,this.XT=n,this.GT=i,this._T=e,this.JT=r,this.YT=this.QT(n)}var i=t.prototype;return i.ZT=function(){return this.KT},i.tS=function(t){this.KT=t},i.nS=function(){return this.YT.licenseAcquisitionURL||this.ZT()},i.iS=function(t){return j.resolve()},i.eS=function(t,n){return j.resolve(void 0)},i.rS=function(t,i,e,r){var u,s;return lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(u=this.uS(t,i,e,r)).jh){o.next=3;break}throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,lr.awrap(this.Id.qh(u));case 6:return s=o.sent,o.next=9,lr.awrap(s.Th(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),yu(o.t0),o.next=17,lr.awrap(this.sS(o.t0,u.jh,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],j)},i.uS=function(t,n,i,e){var r=this.oS().Ja(),u=this.dv,s={jh:this.cS(),Vh:n,Uh:r,Ih:t,dv:u,av:Sd.POST,fv:0,zr:e,gr:Ed.Kh,hv:i};return new Cd(s)},i.aS=function(t,n){return j.resolve(t)},i.fS=function(t,n,i,e){return j.resolve(t)},i.oS=function(){return new ta(this.YT.headers||{})},i.sS=function(t,i,e){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,j)},i.cS=function(t,n){var i=n,e=this.YT.queryParameters;if(!i){var r=this.nS();if(!r)return"";i=r}if(e||t){var u=st.He(i);t&&Ad(u,t),e&&Ad(u,e),i=u.href}return i},i.hS=function(t,n){return bp(t)},i.vS=function(t){return new y(t)},i.dS=function(t,n,i){var e,r,u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,lr.awrap(this.hS(t,i));case 2:return e=s.sent,s.next=5,lr.awrap(this.rS(e,this.JT,n,i));case 5:return r=s.sent,u=this.vS(r),s.abrupt("return",u);case 8:case"end":return s.stop()}},null,this,null,j)},i.et=function(){},ft(t,[{key:"Id",get:function(){return this._T}},{key:"lS",get:function(){return!1}},{key:"wS",get:function(){var t=this.YT.certificate;if(t)return Pt(t)?ju(t):Bs(t)}},{key:"gS",get:function(){return!1}},{key:"dv",get:function(){return Boolean(this.YT.useCredentials)}}]),t}();function bp(t){return j.resolve(Fs(t).buffer)}var pp,_p,kp=function(t){function n(n,i,e,r){return t.call(this,Ur,n,i,e,r)||this}vt(n,t);var i=n.prototype;return i.QT=function(t){return t.widevine||{}},i.yS=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.wS){i.next=2;break}return i.abrupt("return",this.wS);case 2:return i.abrupt("return",this.mS(new y(t),n));case 3:case"end":return i.stop()}},null,this,null,j)},i.mS=function(n,i){return t.prototype.dS.call(this,n,Rd.tv,i)},n}(mp);function Tp(t,n){if(null==t)return{};var i,e,r={},u=v.keys(t);for(e=0;e<u.length;e++)i=u[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function Sp(t){return It(t.token&&t.deviceId)}function Ep(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&It(i.PreAuthorization)}function Rp(t){var n=t;return Sp(n)&&""!==n.token&&""!==n.deviceId&&!Ep(n)}(_p=pp||(pp={})).bS=!1,_p.pS=!1,_p._S=!1,_p.kS=!1,_p.LOG_ADS_DETAILS=!1,_p.LOG_CHROMECAST_DETAILS=!1,_p.LOG_CUSTOM_DRM=!1,_p.LOG_BUFFERING_VIDEO_MAIN=!1,_p.LOG_BUFFERING_VIDEO_SELECTION=!1,_p.LOG_BUFFERING_AUDIO_MAIN=!1,_p.LOG_BUFFERING_AUDIO_SELECTION=!1,_p.TS=!1,_p.SS=!1,_p.LOG_LCEVC_DETAILS=!1;var Ip,Dp=function(){function t(t,n,i){this.ES=t,this.Zo=n,this.RS=i}return t.prototype.IS=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new h("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new h("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new h("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new h("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new h("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.RS.build(t))},ft(t,[{key:"DS",get:function(){return this.ES}},{key:"dc",get:function(){return this.Zo}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Ip||(Ip={}));var Cp=function(){function t(){this.CS=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,e){switch(this.NS(t,i,e)){case Ip.FAILED:throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Ip.OVERRIDDEN:var r=Gp(i);st.Ie("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case Ip.SUCCEEDED:Gp(i);0}},i.NS=function(t,n,i){var e=Gp(n);if(!e)return Ip.FAILED;for(var r=Ip.SUCCEEDED,u=0,s=this.CS.slice();u<s.length;u++){var o=s[u];o.DS===t&&o.dc===e&&(r=Ip.OVERRIDDEN,cu(this.CS,o))}return this.CS.push(new Dp(t,e,i)),r},i.OS=function(t,n){return void 0!==this.AS(t,n)},i.PS=function(t,n,i){var e=this.AS(t,n);if(!e)throw f("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.IS(i)},i.AS=function(t,n){for(var i=0,e=this.CS;i<e.length;i++){var r=e[i];if(r.DS===t&&(!n||r.dc===n))return r}},t}();Cp.xS=new Cp;var Np=["customdata"],Op={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Ap(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,u=t.useCredentials,s=t.queryParameters;return!(n||i||e||r||u||s)}function Pp(t){return t&&void 0!==t.licenseAcquisitionURL}var xp,Lp=Pp,Bp=Pp;function Mp(t){if(!t)return!0;if(Wp(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,u=t.aes128;return Ap(n)&&Ap(i)&&Ap(e)&&Ap(r)&&Ap(u)}function Fp(t){var n=Rp(t),i=function(t){var n,i=t;return Ep(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Sp(i)}(t);return(!n||!i)&&(n||i)}function Up(t){return t.integration===up}function Vp(t){var n=t;if(!n)return!1;if(Mp(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,u=n.clearkey;if(Wp(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!Lp(e))return!1;if(r&&!Bp(r))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(Cp.xS.OS(n.integration))return!0;switch(n.integration){case ip:if(!function(t){return t.integration===ip&&(Hp(t)||qp(t))}(t))return!1;break;case sp:if(!zp(t))return!1;break;case op:if(!function(t){return t.integration===op}(t))return!1;break;case up:if(!Up(t))return!1;break;case ep:if(!Fp(t))return!1;break;case rp:if(!function(t){return t.integration===rp}(t))return!1;break;case cp:if(!Wp(t))return!1;break;case ap:if(!function(t){var n=t;return n.integration===ap&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case fp:if(!function(t){return t.integration===fp}(t))return!1;break;case vp:if(!jp(t))return!1;break;case dp:if(!function(t){return t.integration===dp}(t))return!1;break;case lp:if(!$p(t))return!1;break;case hp:if(!function(t){var n=t;return n.integration===hp&&void 0!==n.token}(t))return!1;break;case wp:if(!function(t){return t.integration===wp}(t))return!1;break;case gp:if(!function(t){var n=t;return n&&It(n.releasePid)&&It(n.accountId)&&It(n.token)}(t))return!1;break;case yp:return!0;default:return!1}}return!0}function Wp(t){return t.integration===cp}function Hp(t){return void 0!==t.authToken}function qp(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function zp(t){var n=t;return n.integration===sp&&void 0!==n.token}function jp(t){var n=t;return n&&n.integration===vp&&Pt(n.ticketAcquisitionURL)&&Pt(n.streamId)}function $p(t){var n=t;return n.integration===lp&&void 0!==n.token}function Xp(t,n){var i,e,r,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:Op[t],o=null!=(e=null==u?void 0:u.customdata)?e:n.customdata,c=o?{customData:o}:{},a=wr({},null!=(r=null==u?void 0:u.headers)?r:{},c),f=null!=u?u:{};return f.customdata,wr({},Tp(f,Np),{licenseAcquisitionURL:s,headers:a})}function Gp(t){switch(t.toLowerCase()){case"widevine":case Ar:return Ar;case"playready":case Cr:return Cr;case"fairplay":case Br:return Br}}function Yp(t,i){switch(t){case Er:return function(t){for(var n={},i=tb.Up(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.Uk]=r.Hk}return n}(i);case Rr:case Ir:return function(t){var n;return(n={})[Lr]=t,n}(i);default:throw new Ac(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.ar="Widevine",t.cr="PlayreadyV2",t.LS="PlayreadyV2",t.BS="PlayreadyV3",t.dr="Fairplay"}(xp||(xp={}));var Kp={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Jp(t,n){var i,e,r,u,s=Kp[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=st.ze)?void 0:i.je,OSVersion:null==(e=st.ze)?void 0:e.Je,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(r=st.ze)?void 0:r.Qe,DeviceModel:null==(u=st.ze)?void 0:u.Ze}}}function Qp(t,i){if(!t.accountName)throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function Zp(t,n,i){var e;if(Hp(t))e={AuthToken:t.authToken,Payload:n};else{if(!qp(t))throw Qp(t,i);e={LatensRegistration:Jp(t,i),Payload:n}}return ts(JSON.stringify(e))}function t_(t,i,e){var r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=t.Dv){c.next=3;break}throw new gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return u=r,c.prev=4,c.next=7,lr.awrap(u._h(e));case 7:s=c.sent,o=n_(s),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(4),o="";case 14:throw new gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,u.qh.jh,u.Fh,u.Wh,o);case 15:case"end":return c.stop()}},null,null,[[4,11]],j)}function n_(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var i_=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,Zc.Ya)||this).MS=void 0,r}vt(i,t),i.FS=function(){return st.je.he?"required":"optional"};var e=i.prototype;return e.sS=function(t,n,i){return t_(t,n,i)},e.iS=function(t){return this.MS?bu(this.MS.Ou,t):(this.MS=new Vs,j.resolve())},e.hS=function(t,i){var e,r;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.XT){i.next=3;break}throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=Xu(t),i.abrupt("return",Zp(e,r,xp.ar));case 5:case"end":return i.stop()}},null,this,null,j)},e.vS=function(t){if(!t.license)throw new gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return ju(t.license)},e.US=function(t){return j.resolve(new y(t))},e.yS=function(t,n){var i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.VS(),r.next=3,lr.awrap(this.hS(t,n));case 3:return i=r.sent,r.next=6,lr.awrap(this.rS(i,Zc.Ga,Rd.nv,n));case 6:return e=r.sent,r.next=9,lr.awrap(this.US(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,j)},e.mS=function(n,i){var e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,lr.awrap(t.prototype.mS.call(this,n,i));case 2:return e=r.sent,this.VS(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,j)},e.VS=function(){this.MS||(this.MS=new Vs),this.MS.xu()},e.et=function(){this.MS&&this.MS.Wr(),t.prototype.et.call(this)},i}(kp),e_=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,Zc.Ga)||this).tS("https://widevine-proxy.drm.technology/proxy"),r}return vt(i,t),i.prototype.hS=function(t,i){var e,r,u,s;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,lr.awrap(bp(t));case 2:if(e=i.sent,r=this.GT,o=new y(e),u=[].slice.call(o),s=this.WS){i.next=8;break}throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:s,drm_info:u,kid:r}));case 9:case"end":return i.stop()}var o},null,this,null,j)},ft(i,[{key:"WS",get:function(){if(zp(this.XT))return this.XT.token}}]),i}(kp);function r_(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=wr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),wr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var u_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Zc.Ga)||this).tS("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return vt(n,t),n.prototype.cS=function(n,i){var e=n;return Up(this.XT)&&(e=r_(this.XT,e)),t.prototype.cS.call(this,e,i)},n}(kp),s_="Conax-Custom-Data";function o_(t,n,i){var e=t&&Fp(t)&&t;if(e&&!i.has(s_)){var r=Rp(e)?e.token:void 0,u=Rp(e)?e.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(s_,s)}return i}var c_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Zc.Ga)||this).tS("https://connect.conax.com:8094/license"),r}return vt(n,t),n.prototype.oS=function(){var n=t.prototype.oS.call(this);return o_(this.XT,"Widevine",n)},n}(kp);function a_(t){var n=Es(new y(t));return ju(JSON.parse(n).license)}function f_(t){return"string"==typeof t.token?t.token:ts(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function h_(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var v_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Zc.Ga)||this).tS("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}vt(n,t);var i=n.prototype;return i.vS=function(t){return a_(t)},i.oS=function(){return h_(t.prototype.oS.call(this),this.WS,this.XT)},ft(n,[{key:"WS",get:function(){return f_(this.XT)}}]),n}(kp),d_=function(t){function n(n,i,e){return t.call(this,n,i,e,Zc.Ga)||this}return vt(n,t),n.prototype.oS=function(){var n=t.prototype.oS.call(this),i=this.XT.token;return n.set("Authorization","Bearer "+i),n},n}(kp);function l_(t,i,e,r){var u,s,o,c,a,f,h;return lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(jp(t)){v.next=2;break}throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(u=new ta).append("Cache-Control","no-cache"),u.append("Content-Type","application/json"),(s=t.sessionId)&&u.append("XSSESSION",s),o=t.streamId,c=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:i,licenseType:c,streamId:o},f={jh:t.ticketAcquisitionURL,Vh:Zc.Ya,Uh:u,av:Sd.POST,Ih:JSON.stringify(a),zr:r},v.next=13,lr.awrap(e.qh(f));case 13:return h=v.sent,v.next=16,lr.awrap(h._h());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,j)}var w_=function(t){function n(n,i,e){return t.call(this,n,i,e,Zc.Ya)||this}vt(n,t);var i=n.prototype;return i.oS=function(){var n=t.prototype.oS.call(this);return n.set("Content-Type","application/json"),n},i.hS=function(n,i){var e,r,u,s;return lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=Zu(n.buffer),r=this.XT,o.next=4,lr.awrap(l_(r,"widevine_modular",this.Id,i));case 4:return u=o.sent,this.tS(u.licenseServerUrl),s=Rs(JSON.stringify({payload:e,ticket:u.ticket})),o.abrupt("return",t.prototype.hS.call(this,s,i));case 8:case"end":return o.stop()}},null,this,null,j)},i.vS=function(t){return ju(t.license)},n}(kp),g_=function(t){function i(n,i,e){return t.call(this,n,i,e,Zc.Ga)||this}return vt(i,t),i.prototype.oS=function(){if(!$p(this.XT))throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.oS.call(this);return i.set("X-AxDRM-Message",this.XT.token),i},i}(kp);function y_(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var m_=function(t){function n(n,i,e){var r;return(r=t.call(this,Fr,n,i,e,Zc.Ga)||this).HS=void 0,r}vt(n,t);var i=n.prototype;return i.QT=function(t){return t.playready||{}},i.oS=function(){var n=new ta(this.HS);return n.Za(t.prototype.oS.call(this)),n},i.qS=function(t){return t.length>=1&&t[0].bi.length>0},i.eS=function(n){var i=this.XT.playready.customData;if(i){var e=y_(i),r=y_('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Xu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return j.resolve({playready:{Mc:r}})}return t.prototype.eS.call(this,n)},i.hS=function(t,n){var i;return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(bp(t));case 2:return i=n.sent,n.abrupt("return",this.zS(i));case 4:case"end":return n.stop()}},null,this,null,j)},i.zS=function(t){var n,i,e,r,u,s,o,c,a,f,h,v,d,l,w,g;return lr.async(function(y){for(;;)switch(y.prev=y.next){case 0:u=null,s=new DataView(t),m=s,b=new Us,void 0===(p=!0)&&(p=!1),o=Ts(m,b,p,!0),y.prev=3,c=st.oi(o),y.next=10;break;case 7:return y.prev=7,y.t0=y.catch(3),y.abrupt("return",u);case 10:for(a=null==(n=c.mi("PlayReadyKeyMessage")[0])?void 0:n.mi("LicenseAcquisition")[0],f=null!=(i=null==a?void 0:a.mi("Challenge"))?i:[],this.qS(f)&&(u=Qu(f[0].Ai)),h=new ta,v=null!=(e=null==a?void 0:null==(r=a.mi("HttpHeaders")[0])?void 0:r.mi("HttpHeader"))?e:[],d=0;d<v.length;d++)l=v[d],w=l.mi("name")[0].Ai,g=l.mi("value")[0].Ai,h.append(w,g);return this.HS=h,y.abrupt("return",u);case 18:case"end":return y.stop()}var m,b,p},null,this,[[3,7]],j)},i.yS=function(t,n){return j.resolve(t)},i.mS=function(n,i){return t.prototype.dS.call(this,n,Rd.ev,i)},n}(mp),b_=function(){function t(n){this.Co=void 0,this.jS=n,this.Co=t.$S(n)}return t.$S=function(t){return"3"===t.version?xp.BS:xp.LS},t.prototype.XS=function(){var t={};if(this.Co===xp.BS){var n={LatensRegistration:Jp(this.jS,xp.BS)};t["X-TITANIUM-DRM-CDATA"]=ts(JSON.stringify(n))}return t},ft(t,[{key:"GS",get:function(){return this.Co}},{key:"Tc",get:function(){return this.Co===xp.LS}}]),t}();var p_=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YS=void 0,r.YS=new b_(r.XT),r}vt(i,t);var e=i.prototype;return e.eS=function(t){var i=this.XT;if(!this.XT)throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(qp(i)){var e={};return e.playready={Mc:__(i,this.YS.GS)},j.resolve(e)}return j.reject(Qp(i,xp.cr))},e.oS=function(){var n=new ta(this.YS.XS());return n.Za(t.prototype.oS.call(this)),n},e.sS=function(t,i,e){var r,u,s,o,c,a,f,h;return lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(r=t.Dv){v.next=3;break}throw new gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i);case 3:return v.prev=3,v.next=6,lr.awrap(r.Sh(e));case 6:o=v.sent,c=Es(new y(o)),(a=st.oi(c))&&(f=ub(a,"CustomData")).length>0&&(u=JSON.parse(f[0].Ai),s=null==(h=u.DrmErr)?void 0:h.desc),v.next=14;break;case 12:v.prev=12,v.t0=v.catch(3);case 14:throw new gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i,r.Fh,r.Wh,s);case 15:case"end":return v.stop()}},null,null,[[3,12]],j)},e.qS=function(t){if(1!==t.length)throw new gy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(m_);function __(t,n){var i=Jp(t,n),e=i.DeviceInfo.FormatVersion,r=ts('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=Ds(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Ds('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Xu(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var k_,T_=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).tS("https://playready-license.drm.technology/rightsmanager.asmx"),r}vt(i,t);var e=i.prototype;return e.qS=function(t){if(1!==t.length)throw new gy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.cS=function(n,i){var e=wr({},n||{},{token:this.WS});return t.prototype.cS.call(this,e,i)},ft(i,[{key:"WS",get:function(){if(zp(this.XT))return this.XT.token}}]),i}(m_),S_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).tS("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return vt(n,t),n.prototype.cS=function(n,i){var e=n;return Up(this.XT)&&(e=r_(this.XT,e)),t.prototype.cS.call(this,e,i)},n}(m_),E_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).tS("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return vt(n,t),n.prototype.oS=function(){var n=t.prototype.oS.call(this);return o_(this.XT,"PlayReady",n)},n}(m_),R_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).tS("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}vt(n,t);var i=n.prototype;return i.vS=function(n){return(zr(Es(new y(n)),"<?xml")?k_.KS:k_._h)===k_._h?a_(n):t.prototype.vS.call(this,new y(n))},i.oS=function(){return h_(t.prototype.oS.call(this),this.WS,this.XT)},ft(n,[{key:"WS",get:function(){return f_(this.XT)}}]),n}(m_);!function(t){t[t.KS=0]="KS",t[t._h=1]="_h"}(k_||(k_={}));var I_,D_=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).JS=void 0,r}vt(n,t);var i=n.prototype;return i.oS=function(){var n=t.prototype.oS.call(this);return this.JS&&n.set("Ticket",this.JS),n.set("Content-Type","text/xml"),n},i.hS=function(n,i){var e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return e=this.XT,u.next=3,lr.awrap(l_(e,"playready",this.Id,i));case 3:return r=u.sent,this.tS(r.licenseServerUrl),this.JS=r.ticket,u.abrupt("return",t.prototype.hS.call(this,n,i));case 7:case"end":return u.stop()}},null,this,null,j)},n}(m_),C_=function(t){function i(){return t.apply(this,arguments)||this}return vt(i,t),i.prototype.oS=function(){if(!$p(this.XT))throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.oS.call(this);return i.set("X-AxDRM-Message",this.XT.token),i},i}(m_);!function(t){t.Ya="application/json",t.QS="application/x-www-form-urlencoded",t.ZS="application/octet-stream",t.ri="text/plain;charset=UTF-8"}(I_||(I_={}));var N_=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n.dc,i,e,r,u)||this).tE="",s.nE=void 0,s.iE=void 0,s.iE=n.eE,s}vt(n,t);var i=n.prototype;return i.rE=function(){return this.YT.certificateURL||this.nE},i.uE=function(t){this.nE=t},i.hS=function(t){return j.resolve(this.sE(t,this.tE))},i.sE=function(t,n){return"spc="+encodeURIComponent(Xu(t))+"&assetId="+encodeURIComponent(n)},i.QT=function(t){return t.fairplay||{}},i.oE=function(t){var n=t.indexOf("?");if(n>=0)return j.resolve(t.substr(n+1));var i=t.split("/");return j.resolve(i[i.length-1])},i.eS=function(t){var n,i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return i=null!=(n=this.iE)?n:Ns(new y(t)),u.next=3,lr.awrap(this.oE(i));case 3:return e=u.sent,this.tE=e,(r={}).fairplay={zc:e},u.abrupt("return",r);case 8:case"end":return u.stop()}},null,this,null,j)},i.oS=function(){var n=t.prototype.oS.call(this);return n.set("Content-Type",this.cE),n},i.yS=function(t,n){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.wS){t.next=2;break}return t.abrupt("return",this.wS);case 2:return t.next=4,lr.awrap(this.aE(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,j)},i.mS=function(n,i){return t.prototype.dS.call(this,n,Rd.Qh,i)},i.fE=function(t){var n=this.rE(),i=this.oS(),e={jh:n,Vh:Zc.Ga,Uh:i,av:Sd.GET,dv:!1,Ih:null,fv:0,zr:t,gr:Ed.Kh,hv:Rd.Zh};return new Cd(e)},i.aE=function(t){var n,i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.fE(t),r.next=3,lr.awrap(this.Id.qh(n));case 3:return i=r.sent,r.next=6,lr.awrap(i.Sh());case 6:return e=r.sent,r.abrupt("return",new y(e));case 8:case"end":return r.stop()}},null,this,null,j)},i.vS=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=ju(i)}else n=new y(t);return n},i.cS=function(n,i){var e=t.prototype.cS.call(this,n,i);return zr(e,"skd:")&&(e=e.substr("skd:".length)),e},ft(n,[{key:"gS",get:function(){return!0}},{key:"cE",get:function(){return I_.QS}}]),n}(mp),O_=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Zc.Ga)||this}vt(n,t);var i=n.prototype;return i.oE=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return j.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return j.resolve(i)},i.hS=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.vS=function(t){return new y(t)},i.cS=function(n,i){var e=n||{};return e.p1=En(),t.prototype.cS.call(this,e,i)},ft(n,[{key:"cE",get:function(){return I_.ZS}}]),n}(N_),A_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Zc.Ga)||this).tS("https://fairplay-license.drm.technology/license"),u.uE("https://fairplay-license.drm.technology/certificate"),u}vt(i,t);var e=i.prototype;return e.sE=function(t,n){var i={token:this.WS,contentId:n,payload:Xu(t)};return JSON.stringify(i)},e.vS=function(t){return new y(t)},e.oS=function(){var n=t.prototype.oS.call(this);return n.set("x-vudrm-token",this.WS),n},ft(i,[{key:"cE",get:function(){return I_.Ya}},{key:"WS",get:function(){if(!zp(this.XT))throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.XT.token}}]),i}(N_),P_="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",x_="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",L_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Zc.Ga)||this}return vt(i,t),i.prototype.vS=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,P_)}if(!i)throw new gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,x_);return i}(Es(new DataView(i)));return t.prototype.vS.call(this,e)},i}(N_);var B_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Zc.Ya)||this}vt(i,t);var e=i.prototype;return e.hS=function(t){var i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.XT){r.next=3;break}throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Xu(t),r.abrupt("return",Zp(i,e,xp.dr));case 5:case"end":return r.stop()}},null,this,null,j)},e.vS=function(t){try{var i;if(Pt(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Qu(i.license);return new y(r)}throw new gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.sS=function(t,n,i){return t_(t,n,i)},ft(i,[{key:"cE",get:function(){return I_.Ya}}]),i}(N_),M_=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Zc.Ga)||this).tS("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.uE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}vt(n,t);var i=n.prototype;return i.rE=function(){var n=t.prototype.rE.call(this);if(!n)return n;var i=st.He(n),e=this.XT;return Up(e)&&Ad(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href},i.oE=function(n){return Up(this.XT)?j.resolve(this.XT.contentId):t.prototype.oE.call(this,n)},i.hS=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.vS=function(t){return new y(t)},i.cS=function(n,i){var e=n;return Up(this.XT)&&(e=function(t,n){return wr({},r_(t,n),{KeyId:t.keyId})}(this.XT,e)),t.prototype.cS.call(this,e,i)},ft(n,[{key:"cE",get:function(){return I_.ZS}}]),n}(N_),F_=function(t){function i(i,e,r,u){var s;if(s=t.call(this,i,e,r,u,Zc.ri)||this,!Fp(e))throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.tS("https://connect.conax.com:8097/license"),s}vt(i,t);var e=i.prototype;return e.oS=function(){var n=t.prototype.oS.call(this);return o_(this.XT,"FairPlay",n)},e.aE=function(t){var n,i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.rE(),i={jh:n,Vh:Zc.Ga,Uh:{},av:Sd.GET,dv:!1,Ih:null,fv:0,zr:t,gr:Ed.Kh,hv:Rd.Zh},u.next=4,lr.awrap(this.Id.qh(i));case 4:return e=u.sent,u.next=7,lr.awrap(e.Sh());case 7:return r=u.sent,u.abrupt("return",new y(r));case 9:case"end":return u.stop()}},null,this,null,j)},e.hS=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},e.oE=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),j.resolve(Es(ju(n)))):j.resolve("unknown")},e.vS=function(t){try{var n=JSON.parse(t);return new y(Qu(n.CkcMessage))}catch(t){throw new f("CFLRW-66")}},i}(N_),U_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Zc.ri)||this).tS(Op[Sr.dr]),u}vt(i,t);var e=i.prototype;return e.oE=function(t){return zr(t,"skd://")?j.resolve(t.substring("skd://".length,40)):j.reject(new gy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.sE=function(t,n){return"spc="+Xu(t)+"&assetId="+n},i}(N_),V_=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Zc.ri)||this).tS("https://lic.drmtoday.com/license-server-fairplay/"),u}vt(n,t);var i=n.prototype;return i.sE=function(t,n){var i="spc="+encodeURIComponent(Xu(t))+"&"+encodeURI(n);return"persistent"===this.YT.licenseType?i+"&offline=true":i},i.oS=function(){return h_(t.prototype.oS.call(this),this.WS,this.XT)},ft(n,[{key:"WS",get:function(){return f_(this.XT)}}]),n}(N_),W_=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Zc.Ga)||this}vt(n,t);var i=n.prototype;return i.oE=function(t){var n=t;return zr(n,"skd:")&&(n="http:"+n.substring(4)),zr(n,"http:")||zr(n,"https:")?j.resolve(st.He(n).hostname):j.reject(new f("Could not parse ExpressPlay FairPlay content ID."))},i.hS=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,j)},i.vS=function(t){return new y(t)},ft(n,[{key:"cE",get:function(){return I_.ZS}}]),n}(N_),H_=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Zc.ri)||this}return vt(n,t),n.prototype.oS=function(){var n=t.prototype.oS.call(this),i=this.XT.token;return n.set("Authorization","Bearer "+i),n},n}(N_),q_=function(t){function n(n,i,e,r){var u;if(u=t.call(this,n,i,e,r,Zc.Ya)||this,!jp(i))throw new f("Invalid Xstream DRM configuration");return u}vt(n,t);var i=n.prototype;return i.aE=function(t){var n,i,e,r,u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.rE(),i=this.oS(),e={jh:n,Vh:Zc.Ya,Uh:i,av:Sd.POST,zr:t,gr:Ed.Kh,hv:Rd.Zh},s.next=5,lr.awrap(this.Id.qh(e));case 5:return r=s.sent,s.next=8,lr.awrap(r._h());case 8:return u=s.sent,s.abrupt("return",new y(ju(u.certificate)));case 10:case"end":return s.stop()}},null,this,null,j)},i.mS=function(t,n,i){var e,r,u,s,o,c,a;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=Xu(t),r=this.XT,i.next=5,lr.awrap(l_(r,"fairplay",this.Id,n));case 5:return u=i.sent,s=Rs(JSON.stringify({spc:e,ticket:u.ticket})),o={jh:this.nS(),Vh:Zc.Ya,Uh:this.oS(),av:Sd.POST,Ih:s,fv:0,zr:n,gr:Ed.Kh,hv:Rd.Qh},i.next=10,lr.awrap(this.Id.qh(o));case 10:return c=i.sent,i.next=13,lr.awrap(c._h());case 13:return a=i.sent,i.abrupt("return",ju(a.licence));case 15:case"end":return i.stop()}},null,this,null,j)},ft(n,[{key:"cE",get:function(){return I_.Ya}}]),n}(N_),z_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Zc.ri)||this}vt(i,t);var e=i.prototype;return e.sE=function(t,n){return Xu(t)},e.vS=function(i){if(0===i.length)throw new gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.vS.call(this,i)},e.oS=function(){var n=t.prototype.oS.call(this);return n.set("Content-Type","text/plain"),n},i}(N_),j_=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Zc.Ga)||this}vt(i,t);var e=i.prototype;return e.sE=function(t,n){return t},e.vS=function(t){return new y(t)},e.oS=function(){if(!$p(this.XT))throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.oS.call(this);return i.set("X-AxDRM-Message",this.XT.token),i},ft(i,[{key:"cE",get:function(){return I_.Ya}}]),i}(N_),$_=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Zc.Ya)||this).hE=void 0,u}vt(i,t);var e=i.prototype;return e.sE=function(t,n){var i={spc:Xu(t)};return JSON.stringify(i)},e.oE=function(t){var i=st.He(t);return this.hE=t,i.searchParams.has("b")?j.resolve(i.searchParams.get("b")):j.reject(new gy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.cS=function(n,i){var e=this.nS();return!e&&this.hE&&(e=this.hE),e&&(e=e.replace("skd://","https://")),t.prototype.cS.call(this,n,i||e)},e.vS=function(t){try{var i;if((i=Pt(t)?JSON.parse(t.trim()):t).ckc)return ju(i.ckc)}catch(t){throw new gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},ft(i,[{key:"cE",get:function(){return I_.ri}}]),i}(N_),X_=function(){function t(t,n){this.vE=t,this.dE=n}var n=t.prototype;return n.lE=function(t){return this.vE(t)},n.wE=function(t,n){throw new h(n+" must be "+this.dE+". (Received: "+t+")")},t}();new X_(function(t){return!0},"any");var G_=new X_(Bt,"a number"),Y_=new X_(Pt,"a string"),K_=new X_(xt,"a boolean");new X_(function(t){return"[object Date]"===Rt.call(t)},"a date"),new X_(Dt,"undefined"),new X_(Ot,"an object"),new X_(function(t){return null===t},"null"),new X_(function(t){return null==t},"null or undefined");var J_,Q_=(J_={responseCode:G_,isException:K_,description:Y_,title:Y_,correlationId:Y_},{lE:function(t){if(!Ot(t))return!1;for(var n=0,i=v.keys(J_);n<i.length;n++){var e=i[n];if(!J_[e].lE(t[e]))return!1}return!0},wE:function(t,n){if(!Ot(t))throw new h(n+" must be an object.");for(var i=0,e=v.keys(J_);i<e.length;i++){var r=e[i],u=J_[r];if(!u.lE(t[r]))return u.wE(t[r],n+"."+String(r))}throw new h}});function Z_(t,n,i,e,r){var u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return u=tk(t,n,i,r),s.next=3,lr.awrap(nk(u,e));case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},null,null,null,j)}function tk(t,n,i,e){var r={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=st.He(t);return Ad(i,n),i.toString()}(i,r)),s=new ta({});s.append("Content-Type","application/json");var o=Xu(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{jh:u,Vh:Zc.ri,Uh:s,av:Sd.POST,Ih:JSON.stringify(c),zr:e,gr:Ed.Kh,hv:Rd.Qh}}function nk(t,i){var e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,lr.awrap(i.qh(t));case 2:return e=u.sent,u.next=5,lr.awrap(e._h());case 5:if(r=u.sent,!Q_.lE(r)){u.next=8;break}throw new gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.jh,r.responseCode);case 8:return u.abrupt("return",ju(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return u.stop()}},null,null,null,j)}var ik=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Zc.Ga)||this).gE=void 0,u.gE=i,u}vt(n,t);var i=n.prototype;return i.oE=function(n){var i=n.replace("FairPlay",this.gE.releasePid);return t.prototype.oE.call(this,i)},i.mS=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,lr.awrap(Z_(t,this.gE,this.nS(),this.Id,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,j)},n}(N_),ek=function(t){function i(n,i,e){return t.call(this,Wr,n,i,e,Zc.Ga)||this}vt(i,t);var e=i.prototype;return e.QT=function(t){return t.clearkey||{}},e.rS=function(i,e,r,u){var s,o;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this.YT,!this.nS()){e.next=5;break}return e.abrupt("return",t.prototype.rS.call(this,i,this.JT,r,u));case 5:if(!s.keys||!s.keys.length){e.next=10;break}return o={keys:s.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Rs(JSON.stringify(o)).buffer);case 10:throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,j)},e.yS=function(t,n){return j.resolve(new y(0))},e.mS=function(n,i){return t.prototype.dS.call(this,n,Rd.rv,i)},i}(mp),rk=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(kp),uk={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function sk(t,n,i){var e,r,u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=wk(n),(r=t.onCertificateRequest)&&"function"==typeof r){s.next=5;break}return s.abrupt("return",j.resolve(n));case 5:return s.next=8,lr.awrap(bu(j.resolve(r.call(t,e)),i));case 8:if(!Ls(u=s.sent)){s.next=11;break}return s.abrupt("return",Bs(u));case 11:return s.abrupt("return",lk(wr({},uk,u)));case 12:case"end":return s.stop()}},null,null,null,j)}function ok(t,n,i,e,r){var u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=t.onCertificateResponse,s=dk(n,i,e),u&&"function"==typeof u){c.next=5;break}return c.abrupt("return",j.resolve(n));case 5:return c.next=8,lr.awrap(bu(j.resolve(u.call(t,s)),r));case 8:return o=c.sent,c.abrupt("return",Bs(o));case 10:case"end":return c.stop()}},null,null,null,j)}function ck(t,n,i,e){var r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,lr.awrap(fk(t,n,i,e));case 2:if(!((r=u.sent)instanceof ArrayBuffer)){u.next=5;break}return u.abrupt("return",r);case 5:return u.abrupt("return",lk(r));case 6:case"end":return u.stop()}},null,null,null,j)}function ak(t,n,i,e,r,u){var s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return s=vk(i,r),c.next=3,lr.awrap(hk(t,new y(n),s,e,u));case 3:return o=c.sent,c.abrupt("return",Bs(o).buffer);case 5:case"end":return c.stop()}},null,null,null,j)}function fk(t,n,i,e){var r,u,s;return lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,u=vk(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",j.resolve(u));case 5:return o.next=8,lr.awrap(bu(j.resolve(r.call(t,u)),e));case 8:if(!Ls(s=o.sent)){o.next=11;break}return o.abrupt("return",Bs(s).buffer);case 11:return o.abrupt("return",wr({fairplaySkdUrl:void 0},uk,s));case 12:case"end":return o.stop()}},null,null,null,j)}function hk(t,n,i,e,r){var u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=null==t?void 0:t.onLicenseResponse,s=dk(n,i,e),u&&"function"==typeof u){c.next=5;break}return c.abrupt("return",j.resolve(n));case 5:return c.next=8,lr.awrap(bu(j.resolve(u.call(t,s)),r));case 8:return o=c.sent,c.abrupt("return",Bs(o));case 10:case"end":return c.stop()}},null,null,null,j)}function vk(t,n){return wr({},wk(t),{fairplaySkdUrl:n})}function dk(t,n,i){return{url:i.zh,status:i.Fh,statusText:i.Wh,headers:i.Uh.Ja(),body:t,request:n}}function lk(t){return new Cd({jh:t.url,av:t.method,Uh:t.headers,Ih:t.body,dv:t.useCredentials})}function wk(t){var n;return{url:t.jh,body:null!=(n=gk(t.Ih))?n:null,headers:t.Uh.Ja(),method:t.av,useCredentials:t.dv}}function gk(t){if(t)return"string"==typeof t?Os(t):t instanceof ArrayBuffer?new y(t):Yu(t)?xs(t):void 0}var yk,mk=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e)||this).yE=void 0,u.yE=r,u}vt(i,t);var e=i.prototype;return e.yS=function(t,n){return j.resolve(t)},e.mS=function(t,i){var e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,lr.awrap(this.zS(Fs(t).buffer));case 2:return e=c.sent,r=this.uS(e,Zc.Ga,Rd.ev,i),c.next=6,lr.awrap(ck(this.yE,r,void 0,i));case 6:if(!((u=c.sent)instanceof ArrayBuffer)){c.next=10;break}return c.abrupt("return",new y(u));case 10:if(""!==u.jh){c.next=12;break}throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return c.prev=12,c.next=15,lr.awrap(this.Id.qh(u));case 15:return s=c.sent,c.next=18,lr.awrap(s.Sh(i));case 18:return o=c.sent,c.t0=y,c.next=22,lr.awrap(ak(this.yE,o,r,s,void 0,i));case 22:return c.t1=c.sent,c.abrupt("return",new c.t0(c.t1));case 26:throw c.prev=26,c.t2=c.catch(12),yu(c.t2),new gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",c.t2);case 30:case"end":return c.stop()}},null,this,[[12,26]],j)},i}(m_),bk=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,Zc.Ga)||this).yE=void 0,u.yE=r,u}vt(i,t);var e=i.prototype;return e.yS=function(t,i){var e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.wS){c.next=2;break}return c.abrupt("return",this.wS);case 2:return e=this.uS(t,Zc.Ga,Rd.nv,i),c.next=5,lr.awrap(sk(this.yE,e,i));case 5:if(!((r=c.sent)instanceof y)){c.next=9;break}return c.abrupt("return",r);case 9:if(""!==r.jh){c.next=11;break}throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return c.prev=11,c.next=14,lr.awrap(this.Id.qh(r));case 14:return u=c.sent,c.next=17,lr.awrap(u.Sh(i));case 17:s=c.sent,c.next=24;break;case 20:throw c.prev=20,c.t0=c.catch(11),yu(c.t0),new gy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",c.t0);case 24:return o=vk(e,void 0),c.next=27,lr.awrap(ok(this.yE,new y(s),o,u,i));case 27:return c.abrupt("return",c.sent);case 28:case"end":return c.stop()}},null,this,[[11,20]],j)},e.mS=function(t,i){var e,r,u,s;return lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.uS(t,Zc.Ga,Rd.tv,i),o.next=3,lr.awrap(ck(this.yE,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.jh){o.next=9;break}throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,lr.awrap(this.Id.qh(r));case 12:return u=o.sent,o.next=15,lr.awrap(u.Sh(i));case 15:s=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),yu(o.t0),new gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=y,o.next=25,lr.awrap(ak(this.yE,s,e,u,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],j)},i}(rk),pk=function(t){function i(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,Zc.Ga)||this).yE=void 0,s.mE=void 0,s.yE=u,s}vt(i,t);var e=i.prototype;return e.yS=function(t,i){var e,r,u,s,o;return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.wS){t.next=2;break}return t.abrupt("return",this.wS);case 2:return e=this.fE(i),t.next=5,lr.awrap(sk(this.yE,e,i));case 5:if(r=t.sent,!Yu(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,lr.awrap(this.Id.qh(r));case 11:return u=t.sent,t.next=14,lr.awrap(u.Sh());case 14:return s=t.sent,o=vk(e,void 0),t.next=18,lr.awrap(ok(this.yE,new y(s),o,u,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),yu(t.t0),new gy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],j)},e.mS=function(t,i){var e,r,u,s;return lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.uS(t,Zc.Ga,Rd.Qh,i),o.next=3,lr.awrap(ck(this.yE,e,this.mE,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.jh){o.next=9;break}throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,lr.awrap(this.Id.qh(r));case 12:return u=o.sent,o.next=15,lr.awrap(u.Sh(i));case 15:return s=o.sent,o.t0=y,o.next=19,lr.awrap(ak(this.yE,s,e,u,this.mE,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),yu(o.t2),new gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],j)},e.oE=function(n){var i;return this.mE=n,null!=(i=this.yE)&&i.extractFairplayContentId?j.resolve(this.yE.extractFairplayContentId(n)):t.prototype.oE.call(this,n)},i}(N_),_k=function(){function t(){}var n=t.prototype;return n.bE=function(t,n,i,e){switch(t.dc.gr){case Sr.ar:return this.pE(n,i,e);case Sr.cr:return this._E(n,i,e);case Sr.dr:return this.kE(t,n,i,e);case Sr.hr:default:return this.TE(n,i,e)}},n.pE=function(t,n,i){var e,r=(e=t).integration===yp&&Pt(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&Cp.xS.OS(r,Ar)){var u=Cp.xS.PS(r,Ar,t);return new bk(t,n,i,u)}switch(r){case ip:return new i_(t,n,i);case sp:return new e_(t,n,i);case up:return new u_(t,n,i);case ep:return new c_(t,n,i);case ap:return new v_(t,n,i);case hp:return new d_(t,n,i);case vp:return new w_(t,n,i);case lp:return new g_(t,n,i);case cp:default:return new rk(t,n,i,Zc.Ga)}},n._E=function(t,n,i){var e=t.integration;if(e&&Cp.xS.OS(e,Cr)){var r=Cp.xS.PS(e,Cr,t);return new mk(t,n,i,r)}switch(e){case ip:return new p_(t,n,i);case sp:return new T_(t,n,i);case up:return new S_(t,n,i);case ep:return new E_(t,n,i);case ap:return new R_(t,n,i);case vp:return new D_(t,n,i);case lp:return new C_(t,n,i);case cp:default:return new m_(t,n,i)}},n.kE=function(t,n,i,e){var r=n.integration;if(r&&Cp.xS.OS(r,Br)){var u=Cp.xS.PS(r,Br,n);return new pk(t,n,i,e,u)}switch(r){case rp:return new O_(t,n,i,e);case sp:return new A_(t,n,i,e);case op:return new L_(t,n,i,e);case ip:return new B_(t,n,i,e);case up:return new M_(t,n,i,e);case ep:return new F_(t,n,i,e);case cp:return new U_(t,n,i,e);case ap:return new V_(t,n,i,e);case fp:return new W_(t,n,i,e);case hp:return new H_(t,n,i,e);case vp:return new q_(t,n,i,e);case dp:return new z_(t,n,i,e);case lp:return new j_(t,n,i,e);case wp:return new $_(t,n,i,e);case gp:return new ik(t,n,i,e);default:return new N_(t,n,i,e,Zc.ri)}},n.TE=function(t,n,i){return new ek(t,n,i)},n.SE=function(t){return t.gr===Sr.cr||t.gr===Sr.ar||t.gr===Sr.dr||t.gr===Sr.hr},n.Tc=function(t,n){var i;if(t.gr!==Sr.cr)return!1;if(It(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!Cp.xS.OS(e,Br))&&(e===ip&&new b_(n).Tc)},n.FS=function(t,n){if(t.gr===Sr.ar){var i=n.integration;if(!i||!Cp.xS.OS(i,Br))return i===ip?i_.FS():void 0}},t}();!function(t){t[t.EE=0]="EE",t[t.RE=1]="RE",t[t.IE=2]="IE",t[t.DE=3]="DE",t[t.CE=4]="CE",t[t.nw=5]="nw",t[t.NE=6]="NE",t[t.OE=7]="OE",t[t.ow=8]="ow",t[t.AE=9]="AE",t[t.PE=10]="PE"}(yk||(yk={}));var kk=function(){function t(){}return t.prototype.xE=function(t){},ft(t,[{key:"LE",get:function(){return 0}},{key:"BE",get:function(){return 0}}]),t}(),Tk=function(){function t(t,n){void 0===n&&(n=new _k),this._T=void 0,this.ME=void 0,this.jS=void 0,this._T=t,this.ME=n}var n=t.prototype;return n.FE=function(t){this.jS=t},n.FS=function(t){var n=this.jS;if(void 0!==n)return this.ME.FS(t,n)},n.Tc=function(t){var n=this.jS;return void 0!==n&&this.ME.Tc(t,n)},n.UE=function(t){var n={dc:t.dc,VE:t.VE||[],eE:t.eE},i=this.ME.bE(n,this.jS||{},t.GT,this._T);return new Sk(i)},t}(),Sk=function(){function t(t){this.WE=void 0,this.WE=t}var n=t.prototype;return n.iS=function(t){return this.WE.iS(t)},n.eS=function(t,n,i){return this.WE.eS(n,i)},n.gS=function(){return this.WE.gS||void 0!==this.WE.wS},n.yS=function(t,n){return this.WE.yS(t,n)},n.mS=function(t,n,i){return n&&this.WE.tS(n),this.WE.mS(t,i)},n.Lr=function(){this.WE.et()},t}(),Ek=function(t){function n(n){var i;(i=t.call(this)||this).HE=[],i.qE=function(t){i.ol(t.Ld)},i.zE=function(t){var n=t.Ld;i.jE(n)||i.cl(n)};for(var e=0;e<n.length;e++){var r=n[e];i.$E(r)}return i}vt(n,t);var i=n.prototype;return i.$E=function(t){this.HE.push(t);for(var n=0,i=t.hl;n<i.length;n++){var e=i[n];this.ol(e)}this.XE(t)},i.GE=function(t){cu(this.HE,t),this.YE(t);for(var n=0,i=t.hl;n<i.length;n++){var e=i[n];this.jE(e)||this.cl(e)}},i.jE=function(t){for(var n=0,i=this.HE;n<i.length;n++){if(i[n].al(t))return!0}return!1},i.XE=function(t){t.Kr(ww.Dd,this.qE),t.Kr(ww.Nd,this.zE)},i.YE=function(t){t.tu(ww.Dd,this.qE),t.tu(ww.Nd,this.zE)},i.et=function(){for(;this.HE.length>0;)this.GE(this.HE[0]);t.prototype.et.call(this)},i.xd=function(){return ng(this)},n}(Rw);function Rk(t){return{get enabled(){return t._l},set enabled(n){t._l=Mw(n)},get currentLatency(){return t.Uw},get streamConfiguration(){if(void 0!==t.KE)return function(t){return{get minimumOffset(){return t.Nw},get maximumOffset(){return t.Aw},get targetOffset(){return t.Ow},get forceSeekOffset(){return t.Pw},get minimumPlaybackRate(){return t.xw},get maximumPlaybackRate(){return t.Lw}}}(t.KE)},get configuration(){return function(t){return{get minimumOffset(){return t.Nw},set minimumOffset(n){t.Nw=Fw(n)},get maximumOffset(){return t.Aw},set maximumOffset(n){t.Aw=Fw(n)},get targetOffset(){return t.Ow},set targetOffset(n){t.Ow=Fw(n)},get forceSeekOffset(){return t.Pw},set forceSeekOffset(n){t.Pw=Fw(n)},get minimumPlaybackRate(){return t.xw},set minimumPlaybackRate(n){t.xw=Fw(n)},get maximumPlaybackRate(){return t.Lw},set maximumPlaybackRate(n){t.Lw=Fw(n)},update:function(n){t.sc(function(t){var n={};void 0!==t.minimumOffset&&(n.Nw=Fw(t.minimumOffset));void 0!==t.maximumOffset&&(n.Aw=Fw(t.maximumOffset));void 0!==t.targetOffset&&(n.Ow=Fw(t.targetOffset));void 0!==t.forceSeekOffset&&(n.Pw=Fw(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.xw=Fw(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.Lw=Fw(t.maximumPlaybackRate));return n}(n))}}}(t.lc)}}}var Ik,Dk=function(){function t(){this.Ad=void 0,this.JE=void 0,this.JE={Pw:0,Aw:0,Lw:0,Nw:0,xw:0,Ow:0,sc:Mt}}return ft(t,[{key:"Pd",get:function(){return null!=this.Ad||(this.Ad=Rk(this)),this.Ad}},{key:"_l",get:function(){return!1},set:function(t){}},{key:"Uw",get:function(){}},{key:"KE",get:function(){}},{key:"lc",get:function(){return this.JE}}]),t}();function Ck(){return Ik||(Ik=Z&&Z.document&&Z.document.createElement("video")),Ik}var Nk=function(t){function i(i,e,r,u,s,o,c){var a;return void 0===o&&(o=new _k),void 0===c&&(c=$c()),(a=t.call(this)||this).QE=void 0,a.ZE=void 0,a.tR=void 0,a.Gw=void 0,a.Yw=void 0,a.Kw=void 0,a.nR=void 0,a.iR=void 0,a.eR=void 0,a.rR=void 0,a.uR=void 0,a._T=void 0,a.kr=void 0,a.sR=void 0,a.oR=void 0,a.cR=new kk,a.aR=new Dk,a.fR=function(t){var i=t.fu,e=i.code,r=new Ac(function(t){switch(t){case dy.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case dy.NETWORK:return n.ErrorCode.NETWORK_ERROR;case dy.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case dy.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case dy.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case dy.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case dy.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),u=new yy(e,r.message,i.message);a.hR(r,u)},a.vR=function(){a.Yr(new Ug(a.bw,a.Tg))},a.dR=function(t){a.Sw||(a.oR=void 0),a.Yr(t)},a.lR=function(t){a.oR=void 0,a.Yr(t)},a.wR=function(){a.Yr(new My(a.Eg))},a.gR=function(){a.Dw>0&&a.Iw>0&&a.Yr(new qb)},a.yR=function(t){a.Gw.ol(new Ny(t.track))},a.mR=function(t){var n=Ak(a.Gw,t.track);n&&a.Gw.cl(n)},a.bR=function(){a.pR(a.Gw)},a._R=function(t){a.Yw.ol(new By(t.track))},a.kR=function(t){var n=Ak(a.Yw,t.track);n&&a.Yw.cl(n)},a.TR=function(){a.pR(a.Yw)},a.SR=function(t){a.Yr(t),a.hR(t.errorObject,by(t.errorObject))},a.QE=e,a._T=r,a.kr=c,a.ZE=a.QE.G(py.ov),a.eR=a.ZE.ER.preload,a.rR=new np(a.ZE,!0),a.rR.Kr(Lg,a.Gr),a.sR=new Tk(r,o),a.ZE.RR=a.sR,a.IR(),a.Gw=new _y,a.Yw=new _y,a.DR(),a.uR=new Bb(a.ZE,a._T),a.Kw=new Ek([a.ZE.ig]),a.vg(),a}vt(i,t);var e=i.prototype;return e.dg=function(){this.ZE.dg()},e.vg=function(){this.ZE.vg()},e.sg=function(t,n,i){var e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return gu(i),e={gr:Hb.CT,Vl:t.src,Rh:t.type,CR:this.NR(t),xg:this.eR,OR:t.crossOrigin,AR:n.metadata&&n.metadata.title},this.sR.FE(t.contentProtection),r.next=5,lr.awrap(this.ZE.rc(e));case 5:this.tR=r.sent,gu(i),n.textTracks&&this.PR(n.textTracks),Wb(this.ig);case 9:case"end":return r.stop()}},null,this,null,j)},e.PR=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.ZE.xR()&&St._n&&Jb&&!Ib(i.kind,i.label)&&this.LR(i)){var e,r=null!=(e=i.kind)?e:_b.np;this.ZE.MR(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.uR.TT(i)}}},e.LR=function(t){return!t.format||"webvtt"===t.format},e.Y=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,lr.awrap(this.ZE.Y());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.FR){t.next=12;break}return t.next=10,lr.awrap(this.ZE.ru(Qc.Oa));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],j)},e.K=function(){this.ZE.K()},e.og=function(){return void 0!==this.ZE.ER.webkitShowPlaybackTargetPicker},e.cg=function(){this.ZE.ER.webkitShowPlaybackTargetPicker&&this.ZE.ER.webkitShowPlaybackTargetPicker()},e.ag=function(){this.ZE.ER.webkitShowPlaybackTargetPicker&&this.ZE.ER.webkitShowPlaybackTargetPicker()},e.lg=function(){return this.ZE.ER},e.wg=function(){return this.ZE.UR},e.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nR=void 0,this.iR=void 0,this.tR=void 0,t.next=5,lr.awrap(this.uR.fl());case 5:return this.ZE.WR(),t.next=8,lr.awrap(this.ZE.fl());case 8:this.rR.fl(),this.xg=this.eR,this.tg.fl(),this.ng.fl(),this.oR=void 0;case 13:case"end":return t.stop()}},null,this,null,j)},e.et=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lr.awrap(this.fl());case 2:return this.Zr(),this.HR(),this.qR(),this.rR.et(),this.ZE.RR=void 0,t.next=9,lr.awrap(this.QE.nt(this.ZE));case 9:return this.Gw.et(),this.Yw.et(),this.Kw.et(),t.next=14,lr.awrap(this.uR.et());case 14:case"end":return t.stop()}},null,this,null,j)},e.IR=function(){this.ZE.Kr(Qc.Na,this.Gr),this.ZE.Kr(Qc.Ca,this.Gr),this.ZE.Kr(Qc.qa,this.vR),this.ZE.Kr(Qc.Oa,this.Gr),this.ZE.Kr(Qc.Sa,this.Gr),this.ZE.Kr(Qc.Ba,this.Gr),this.ZE.Kr(Qc.La,this.dR),this.ZE.Kr(Qc._a,this.Gr),this.ZE.Kr(Qc.Aa,this.Gr),this.ZE.Kr(Qc.za,this.Gr),this.ZE.Kr(Qc.ba,this.Gr),this.ZE.Kr(Qc.xa,this.gR),this.ZE.Kr(Cg.mw,this.lR),this.ZE.Kr(Kw.Cl,this.fR),this.ZE.Kr(Qc.ga,this.Gr),this.ZE.Kr(Qc.wa,this.SR),this.ZE.ER.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.wR)},e.HR=function(){this.ZE.tu(Qc.Na,this.Gr),this.ZE.tu(Qc.Ca,this.Gr),this.ZE.tu(Qc.qa,this.vR),this.ZE.tu(Qc.Oa,this.Gr),this.ZE.tu(Qc.Sa,this.Gr),this.ZE.tu(Qc.Ba,this.Gr),this.ZE.tu(Qc.La,this.dR),this.ZE.tu(Qc._a,this.Gr),this.ZE.tu(Qc.Aa,this.Gr),this.ZE.tu(Qc.za,this.Gr),this.ZE.tu(Qc.ba,this.Gr),this.ZE.tu(Qc.xa,this.gR),this.ZE.tu(Cg.mw,this.lR),this.ZE.tu(Kw.Cl,this.fR),this.ZE.tu(Qc.ga,this.Gr),this.ZE.tu(Qc.wa,this.SR),this.ZE.ER.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.wR)},e.NR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{dc:Vr,zR:[{initDataTypes:[Vr.mr],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.DR=function(){var t=this.ZE.ER.audioTracks,n=this.ZE.ER.videoTracks;t&&(t.addEventListener("addtrack",this.yR),t.addEventListener("removetrack",this.mR),t.addEventListener("change",this.bR)),n&&(n.addEventListener("addtrack",this._R),n.addEventListener("removetrack",this.kR),n.addEventListener("change",this.TR))},e.qR=function(){var t=this.ZE.ER.audioTracks,n=this.ZE.ER.videoTracks;t&&(t.removeEventListener("addtrack",this.yR),t.removeEventListener("removetrack",this.mR),t.removeEventListener("change",this.bR)),n&&(n.removeEventListener("addtrack",this._R),n.removeEventListener("removetrack",this.kR),n.removeEventListener("change",this.TR))},e.pR=function(t){for(var n=0;n<t.vl;n++){t.sl(n).jg()}},e._g=function(){this.ZE._g()},e.hR=function(t,n){this.nR||(this.nR=n,this.iR=t,this.Yr(new Gg(t)))},ft(i,[{key:"FR",get:function(){var t=this.ZE.kg,n=this.bw;return t.jR(n,.01)}},{key:"tg",get:function(){return this.Gw}},{key:"kg",get:function(){return this.ZE.kg.$R()}},{key:"Tg",get:function(){return this.ZE.Tg},set:function(t){t&&this.ZE.XR(t)}},{key:"bw",get:function(){return void 0!==this.oR?this.oR:this.ZE.bw},set:function(t){this.Eg&&(this.oR=t),this.ZE.Eu(t)}},{key:"pw",get:function(){return this.ZE.pw}},{key:"_w",get:function(){return this.ZE._w}},{key:"fu",get:function(){return this.nR}},{key:"kw",get:function(){return this.iR}},{key:"eg",get:function(){}},{key:"Eg",get:function(){return this.ZE.Eg}},{key:"Hw",get:function(){return wr({},{Rg:0,Ig:0,Dg:0,Cg:0,Ng:0,Og:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.ZE.GR())}},{key:"Tw",get:function(){return this.ZE.Tw},set:function(t){this.ZE.Tw=t}},{key:"Ag",get:function(){return!0}},{key:"Sw",get:function(){return this.ZE.Sw}},{key:"Ew",get:function(){return this.ZE.Ew},set:function(t){this.ZE.Ew=t}},{key:"Pg",get:function(){return this.ZE.ER.played}},{key:"xg",get:function(){return this.eR},set:function(t){this.eR=t,this.tR&&(this.tR.xg=t)}},{key:"Ml",get:function(){return this.ZE.Ml}},{key:"Lg",get:function(){return this.ZE.Lg.$R()}},{key:"Rw",get:function(){return this.ZE.Rw}},{key:"YR",get:function(){return this.ZE.YR}},{key:"ig",get:function(){return this.Kw}},{key:"ng",get:function(){return this.Yw}},{key:"Iw",get:function(){return this.ZE.Iw}},{key:"Dw",get:function(){return this.ZE.Dw}},{key:"Cw",get:function(){return this.ZE.Cw},set:function(t){this.ZE.Cw=t}},{key:"Bg",get:function(){return this.aR}},{key:"Mg",get:function(){return this.ZE.Mg},set:function(t){this.ZE.Mg=t}},{key:"KR",get:function(){return this.cR}}]),i}(rg);var Ok=function(){function t(){this.JR=yk.PE}var n=t.prototype;return n.IS=function(t,n,i,e,r,u){return new Nk(t,n,i,e,r)},n.QR=function(t,n){return function(t){return!t.type||!(!Ck().canPlayType||!Ck().canPlayType(t.type))}(t)},n.ZR=function(){return!1},t}();function Ak(t,n){for(var i=0,e=t.hl;i<e.length;i++){var r=e[i];if(r.Gg===n)return r}}var Pk=function(){function t(){this.tI=new Ok,this.nI=[]}t.iI=function(){return this.Zn};var n=t.prototype;return n.eI=function(t){this.nI.push(t)},n.IS=function(t,n,i,e,r,u){for(var s=this.tI.IS(t,n,i,e,r,u),o=0,c=this.nI;o<c.length;o++){s=(0,c[o])(s,i,e)}return s},n.QR=function(t,n){return this.tI.QR(t,n)},n.ZR=function(){return!1},ft(t,[{key:"JR",get:function(){return this.tI.JR}}]),t}();function xk(t,n){return iu(t.JR,n.JR)}Pk.Zn=new Pk;var Lk=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).rI=Pk.iI(),n}vt(n,t);var i=n.prototype;return i.uI=function(t){this.rI=t},i.sI=function(){return this.rI},i.oI=function(t,n){var i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=0;case 1:if(!(i<t.length)){c.next=11;break}return e=t[i],c.next=5,lr.awrap(this.cI(e,n));case 5:if(!(r=c.sent)){c.next=8;break}return c.abrupt("return",{aI:e,fI:r});case 8:i++,c.next=1;break;case 11:u=this.rI,s=0;case 13:if(!(s<t.length)){c.next=20;break}if(o=t[s],!u.QR(o,n)){c.next=17;break}return c.abrupt("return",{aI:o,fI:u});case 17:s++,c.next=13;break;case 20:return c.abrupt("return",{aI:t[0],fI:u});case 21:case"end":return c.stop()}},null,this,null,j)},n}(function(){function t(){this.hI=[]}var n=t.prototype;return n.vI=function(t){this.hI.push(t),this.hI.sort(xk)},n.cI=function(t,n){var i,e,r,u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.hI;case 1:if(!(i<e.length)){s.next=17;break}if(r=e[i],!Lt(u=r.QR(t,n))){s.next=10;break}return s.next=7,lr.awrap(u);case 7:s.t0=s.sent,s.next=11;break;case 10:s.t0=Boolean(u);case 11:if(!s.t0){s.next=14;break}return s.abrupt("return",r);case 14:i++,s.next=1;break;case 17:return s.abrupt("return",void 0);case 18:case"end":return s.stop()}},null,this,null,j)},t}());Lk.Zn=new Lk;var Bk,Mk=function(){function t(t){var n,i;this.dI=void 0,this.dI=Z&&Z.document&&Z.document.createElement("div"),n=this.dI,(i=n.style).position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%",t.appendChild(this.dI)}return t.prototype.et=function(){ze(this.dI)},t}();function Fk(t){switch(t){case Bk.lI:case"":return Bk.lI;case Bk.ep:return Bk.ep;case Bk.wI:default:return Bk.wI}}!function(t){t.PE="",t.wI="none",t.ep="metadata",t.lI="auto"}(Bk||(Bk={}));var Uk=[Kw.Cl,Qc.pa,Qc.hu,Qc.Xa,Qc.ha,Qc.ka,Qc.Ia,Qc.Da,Qc.Fa,Qc.Va,Cg.dw,Cg.lw,Cg.ww,Cg.gw,Cg.Gd,Cg.yw,Cg.mw,Qc.wa,Qc.ga,Qc.ba,Qc._a,Qc.Sa,Qc.Ea,Qc.Na,Qc.Oa,Qc.Ca,Qc.Aa,Qc.xa,Qc.Ba,Qc.La,Qc.qa,Qc.za,Qc.Pa,Qc.Ra,Qc.Ma],Vk=function(t){function n(n,i){var e;return(e=t.call(this)||this).gI=void 0,e.yI=void 0,e.mI=void 0,e.bI=void 0,e.eR=Bk.wI,e.pI=void 0,e._I=!0,e.Gw=new Jw,e.Yw=new Jw,e.Kw=new eg,e.Jw=new ly,e.gI=n,e.mI=i,e.mI.xg=e.xg,e.kI(),e}vt(n,t);var i=n.prototype;return i.K=function(){this.mI.K()},i.Y=function(){var t=this.mI.Y();Lt(t)&&Tu(t)},i.rg=function(){return this.sg(void 0)},i.st=function(){},i.yg=function(t){return!1},i.kI=function(){this.Gw.ml=this.mI.tg,this.Yw.ml=this.mI.ng,this.Kw.ml=this.mI.ig,this.Jw.ml=this.mI.eg,this.mI.Kr(Uk,this.Gr)},i.TI=function(){this.mI.tu(Uk,this.Gr),this.Gw.ml=void 0,this.Yw.ml=void 0,this.Kw.ml=void 0,this.Jw.ml=void 0},i.ug=function(){return this.pI},i.sg=function(t,n){var i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(gu(n),this.pI=t,t){c.next=4;break}return c.abrupt("return");case 4:if(!Tg(i=t.sources.filter(Dg))){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,lr.awrap(this.gI.oI(i,t));case 9:if(e=c.sent,gu(n),r=e.aI,u=e.fI,s=this.wg(),o=Jg(this),this.yI===u&&!this.fu){c.next=25;break}return this.TI(),c.next=19,lr.awrap(this.mI.et());case 19:gu(n),this.yI=u,this.mI=this.SI(u),Wk(this.mI,o),Qg(this,o,this),this.kI();case 25:return this.mI.xg=this.xg,this._I?this.mI.vg():this.mI.dg(),c.next=29,lr.awrap(this.mI.sg(r,t,n));case 29:gu(n),this.EI(r),this.wg()!==s&&this.Yr(new sg);case 32:case"end":return c.stop()}},null,this,null,j)},i.EI=function(t){this.bI!==t&&(this.bI=t,this.Yr(new og(t)))},i.og=function(){return this.mI.og()},i.cg=function(){this.mI.cg()},i.ag=function(){this.mI.ag()},i.wg=function(){return this.mI.wg()},i._g=function(){this.mI._g()},i.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pI=void 0,this.EI(void 0),t.next=4,lr.awrap(this.mI.fl());case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zr(),t.next=3,lr.awrap(this.fl());case 3:return t.next=5,lr.awrap(this.mI.et());case 5:this.Gw.et(),this.Yw.et(),this.Kw.et(),this.Jw.et();case 9:case"end":return t.stop()}},null,this,null,j)},i.vg=function(){this._I=!0,this.mI.vg()},i.dg=function(){this._I=!1,this.mI.dg()},ft(n,[{key:"tg",get:function(){return this.Gw}},{key:"kg",get:function(){return this.mI.kg}},{key:"fu",get:function(){return this.mI.fu}},{key:"kw",get:function(){return this.mI.kw}},{key:"Tg",get:function(){return this.mI.Tg},set:function(t){this.mI.Tg=t}},{key:"pg",get:function(){return this.bI}},{key:"bw",get:function(){return this.mI.bw},set:function(t){this.mI.bw=t}},{key:"pw",get:function(){return this.mI.pw}},{key:"_w",get:function(){return this.mI._w}},{key:"eg",get:function(){return this.Jw}},{key:"Eg",get:function(){return this.mI.Eg}},{key:"Hw",get:function(){return this.mI.Hw}},{key:"Tw",get:function(){return this.mI.Tw},set:function(t){this.mI.Tw=t}},{key:"Ag",get:function(){return this.mI.Ag}},{key:"Sw",get:function(){return this.mI.Sw}},{key:"Ew",get:function(){return this.mI.Ew},set:function(t){this.mI.Ew=t}},{key:"Pg",get:function(){return this.mI.Pg}},{key:"xg",get:function(){return this.eR},set:function(t){this.eR=t,this.mI&&(this.mI.xg=this.eR)}},{key:"Ml",get:function(){return this.mI.Ml}},{key:"Lg",get:function(){return this.mI.Lg}},{key:"Rw",get:function(){return this.mI.Rw}},{key:"ig",get:function(){return this.Kw}},{key:"Iw",get:function(){return this.mI.Iw}},{key:"ng",get:function(){return this.Yw}},{key:"Dw",get:function(){return this.mI.Dw}},{key:"Cw",get:function(){return this.mI.Cw},set:function(t){this.mI.Cw=t}},{key:"Bg",get:function(){return this.mI.Bg}},{key:"KR",get:function(){return this.mI.KR}}]),n}(Cu);function Wk(t,n){t.Tw!==n.Tw&&(t.Tw=n.Tw),t.Cw!==n.Cw&&(t.Cw=n.Cw),t.Ew!==n.Ew&&(t.Ew=n.Ew)}var Hk,qk=function(t){function n(n,i){var e;return(e=t.call(this)||this).vl=void 0,e.RI=void 0,e.II=void 0,e.vl=n.length>>1,e.RI=n,e.II=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.vl),e}vt(n,t);var i=n.prototype;return i.DI=function(t){return this.RI[2*t]},i.CI=function(t){return this.II[2*t]},i.NI=function(t){return this.RI[2*t+1]},i.OI=function(t){return this.II[2*t+1]},ft(n,[{key:"AI",get:function(){return this.RI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.yy=function(t,n){return 0===this.Fy(t,n)},n.dm=function(t,n){return this.Fy(t,n)>0},n.lm=function(t,n){return this.Fy(t,n)>=0},n.qy=function(t,n){return this.Fy(t,n)<0},n.Wy=function(t,n){return this.Fy(t,n)<=0},n.Pm=function(t,n){return this.qy(t,n)?t:n},n.Am=function(t,n){return this.dm(t,n)?t:n},n.xI=function(t,n,i){return i?this.Wy(t,n):this.qy(t,n)},n.$R=function(){var t=this;return{get length(){return t.vl},start:function(n){var i=0|n;return t.LI(i),t.BI(t.DI(i))},end:function(n){var i=0|n;return t.LI(i),t.BI(t.NI(i))}}},n.MI=function(){for(var t=new Array(2*this.vl),n=new Array(2*this.vl),i=0;i<this.vl;i++)t[2*i]=this.DI(i),t[2*i+1]=this.NI(i),n[2*i]=!0,n[2*i+1]=!0;return this.FI(t,n)},n.LI=function(t){if(t<0)throw new f("The index provided ("+t+") must be non-negative");if(t>=this.vl)throw new f("The index provided ("+t+") is greater than the maximum bound ("+this.vl+")")},n.UI=function(t){if(0===this.vl)return this.VI();if(this.jR(t))return t;if(this.Wy(t,this.DI(0)))return this.DI(0);if(this.lm(t,this.NI(this.vl-1)))return this.NI(this.vl-1);for(var n,i=this.WI(),e=0;e<this.vl;e++){var r=this.DI(e),u=this.Hy(r,t);this.qy(u,i)&&(n=r,i=u);var s=this.NI(e),o=this.Hy(this.NI(e),t);this.qy(o,i)&&(n=s,i=o)}return n},n.HI=function(t){for(var n=0,i=0,e=[],r=[];n<this.vl&&i<t.vl;){var u=this.DI(n),s=this.NI(n),o=this.CI(n),c=this.OI(n),a=t.DI(i),f=t.NI(i),h=t.CI(i),v=t.OI(i),d=this.Am(u,a),l=this.Pm(s,f),w=void 0;w=this.yy(u,a)?o&&h:this.yy(d,u)?o:h;var g=void 0;g=this.yy(s,f)?c&&v:this.yy(l,s)?c:v,(this.qy(d,l)||w&&g&&this.yy(d,l))&&(e.push(d,l),r.push(w,g));var y=this.Fy(this.NI(n),t.NI(i));0===y?(n+=1,i+=1):y<0?n+=1:i+=1}return this.FI(e,r)},n.qI=function(){var t=this.zI(),n=t.vl;if(0===n)return this.FI([t.jI(),t.WI()],[!1,!1]);var i=[],e=[],r=t.DI(0);t.yy(r,t.jI())||(i.push(t.jI(),r),e.push(!1,!t.CI(0)));for(var u=0;u<n-1;u++)i.push(t.NI(u),t.DI(u+1)),e.push(!t.OI(u),!t.CI(u+1));var s=t.NI(n-1);return t.yy(s,t.WI())||(i.push(s,t.WI()),e.push(!t.OI(n-1),!1)),t.FI(i,e)},n.$I=function(t){for(var n=0,i=0,e=this.vl,r=t.vl,u=new Array(2*(e+r)),s=new Array(2*(e+r)),o=0;n<e&&i<r;){var c=this.DI(n),a=this.NI(n),f=t.DI(i),h=t.NI(i);this.qy(c,f)||this.yy(c,f)&&this.qy(a,h)?(u[o]=c,u[o+1]=a,s[o]=this.CI(n),s[o+1]=this.OI(n),n++):(u[o]=f,u[o+1]=h,s[o]=t.CI(i),s[o+1]=t.OI(i),i++),o+=2}for(;n<e;)u[o]=this.DI(n),u[o+1]=this.NI(n),s[o]=this.CI(n),s[o+1]=this.OI(n),n++,o+=2;for(;i<r;)u[o]=t.DI(i),u[o+1]=t.NI(i),s[o]=t.CI(i),s[o+1]=t.OI(i),i++,o+=2;return this.FI(u,s)},n.XI=function(t){void 0===t&&(t=this.VI());var n=this.vl;if(n<2)return this;for(var i=[],e=[],r=this.DI(0),u=this.NI(0),s=this.CI(0),o=this.OI(0),c=1;c<n;c++){var a=this.DI(c),f=this.NI(c),h=this.CI(c),v=this.OI(c);this.qy(r,a)&&this.dm(u,f)||(this.yy(r,a)&&(s=h=s||h),this.yy(u,f)&&(o=v=o||v),this.xI(a,this.Ug(u,t),o||h)?(u=f,o=v):(i.push(r,u),e.push(s,o),r=a,u=f,s=h,o=v))}return i.push(r,u),e.push(s,o),this.FI(i,e).zI()},n.zI=function(){for(var t=[],n=[],i=0;i<this.vl;i++){var e=this.DI(i),r=this.NI(i),u=this.CI(i),s=this.OI(i);this.yy(e,r)?(u||s)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(u,s))}return this.FI(t,n)},n.GI=function(t){return this.vl?t.vl?this.$I(t).XI():this:t},n.YI=function(t){var n=this.zI(),i=t.zI(),e=n.qI(),r=i.qI(),u=e.HI(i),s=r.HI(n);return u.GI(s)},n.Su=function(t){if(this.yy(t,this.VI()))return this;for(var n=[],i=[],e=0;e<this.vl;e++){var r=this.Ug(this.DI(e),t),u=this.Ug(this.NI(e),t);n.push(r,u),i.push(this.CI(e),this.OI(e))}return this.FI(n,i)},n.KI=function(t){return 0===this.vl||0===t.vl?this:this.zI().HI(t.zI().qI())},n.jR=function(t,n){return this.JI(t,n)>=0},n.QI=function(t,n,i,e,r){return this.ZI(t,n,i,e,r)>=0},n.tD=function(t,n,i,e,r){return this.nD(t,n,i,e,r)>=0},n.iD=function(t){if(t.vl!==this.vl)return!1;for(var n=0;n<this.vl;n++)if(!this.yy(this.DI(n),t.DI(n))||!this.yy(this.NI(n),t.NI(n))||this.CI(n)!==t.CI(n)||this.OI(n)!==t.OI(n))return!1;return!0},n.eD=function(t){for(var n=[],i=[],e=0;e<this.vl;e++){var r=this.DI(e),u=this.NI(e),s=this.CI(e),o=this.OI(e);t(r,u,s,o)&&(n.push(r,u),i.push(s,o))}return this.FI(n,i)},n.nD=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.VI());for(var u=this.Xy(t,r),s=this.Ug(n,r),o=0;o<this.vl;o+=1)if(this.xI(this.DI(o),s,!e||this.CI(o))&&this.xI(u,this.NI(o),!i||this.OI(o)))return o;return-1},n.ZI=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.VI());for(var u=this.Ug(t,r),s=this.Xy(n,r),o=0;o<this.vl;o+=1)if(this.xI(this.DI(o),u,!i||this.CI(o))&&this.xI(s,this.NI(o),!e||this.OI(o)))return o;return-1},n.JI=function(t,n){return this.ZI(t,t,!0,!0,n)},n.rD=function(t,n){void 0===n&&(n=this.VI());for(var i=this.Ug(t,n),e=this.vl-1;e>=0;e-=1)if(this.xI(this.DI(e),i,this.CI(e)))return e;return-1},n.uD=function(t,n){void 0===n&&(n=this.VI());for(var i=this.Xy(t,n),e=0;e<this.vl;e+=1)if(this.xI(i,this.NI(e),this.OI(e)))return e;return-1},n.sD=function(t){return this.LI(t),this.FI([this.DI(t),this.NI(t)],[this.CI(t),this.OI(t)])},n.oD=function(t,n){var i=this.JI(t,n);return i<0?void 0:this.sD(i)},ft(t,[{key:"cD",get:function(){for(var t=this.VI(),n=0;n<this.vl;n++){var i=this.Xy(this.NI(n),this.DI(n));t=this.Ug(t,i)}return t}}]),t}()),zk=function(t){function n(n,i){return t.call(this,n,i)||this}vt(n,t);var i=n.prototype;return i.Fy=function(t,n){return t<n?Qr.Cr:t===n?Qr.Ir:Qr.Dr},i.Ug=function(t,n){return t+n},i.Xy=function(t,n){return t-n},i.Hy=function(t,n){return d.abs(t-n)},i.VI=function(){return 0},i.WI=function(){return 1/0},i.jI=function(){return-1/0},n.aD=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.fD=function(t){for(var i=[],e=[],r=0;r<t.vl;r++)i.push(t.DI(r).Bm),i.push(t.NI(r).Bm),e.push(t.CI(r)),e.push(t.OI(r));return new n(i,e)},n.hD=function(t){return new n([t,t],[!0,!0])},i.FI=function(t,i){return new n(t,i)},i.BI=function(t){return t},n.vD=function(){return jk},n}(qk),jk=new zk([]);!function(t){t.$d="fullscreenchange",t.dD="fullscreensupportchange",t.Cl="fullscreenerror"}(Hk||(Hk={}));var $k=function(t){function n(){return t.call(this,Hk.Cl)||this}return vt(n,t),n}(Ou),Xk=new(function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.Zg=function(){this.Yr(new $k)},i.ny=function(){},i.et=function(){this.Zr()},ft(n,[{key:"lD",get:function(){return!1}},{key:"wD",get:function(){return!1}}]),n}(Cu)),Gk=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).QE=void 0,n.ZE=void 0,n}vt(n,t);var i=n.prototype;return i.lg=function(){var t;return null==(t=this.ZE)?void 0:t.ER},i.et=function(){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(t.prototype.et.call(this));case 2:if(!this.ZE){n.next=6;break}return n.next=5,lr.awrap(this.QE.nt(this.ZE));case 5:this.ZE=void 0;case 6:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"gD",set:function(t){this.QE=t,this.ZE=t.G(py.ov)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).yD=0,n.mD=!1,n.bD=!0,n.pD=1,n._D=!1,n.js=1,n.tg=new _y,n.kg=zk.vD().$R(),n.pw=NaN,n._w=!1,n.fu=void 0,n.kw=void 0,n.eg=void 0,n.Eg=!1,n.Ag=!0,n.Pg=zk.vD().$R(),n.xg=Bk.wI,n.Ml=lg.cw,n.Lg=zk.vD().$R(),n.YR=void 0,n.ig=new kb,n.Iw=0,n.ng=new _y,n.Dw=0,n.Bg=new Dk,n.cR=new kk,n}vt(n,t);var i=n.prototype;return i.vg=function(){},i.dg=function(){},i.Y=function(){this.bD&&(this.bD=!1,this.Yr(new Ag(this.bw)),this.Yr(new Zb(this.bw)))},i.K=function(){this.bD||(this.bD=!0,this.Yr(new Ug(this.bw,this.Tg)),this.Yr(new Og(this.bw)))},i.sg=function(t,n){return j.resolve()},i.og=function(){return!1},i.cg=function(){},i.ag=function(){},i.wg=function(){return Xk},i._g=function(){},i.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.yD=0,this._D=!1,this.K(),this.Yr(new Ng(this.yD));case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Zr(),this.tg.et(),this.ig.et(),this.ng.et();case 4:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"Tg",get:function(){},set:function(t){}},{key:"bw",get:function(){return this.yD},set:function(t){this.yD!==t&&(this.yD=t,this._D=!0,this.Yr(new Hg(this.bw)))}},{key:"Hw",get:function(){return{Rg:0,Ig:0,Dg:0,Cg:0,Ng:0,Og:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Tw",get:function(){return this.mD},set:function(t){this.mD!==t&&(this.mD=t,this.Yr(new zg(this.bw,this.Cw)))}},{key:"Sw",get:function(){return this.bD}},{key:"Ew",get:function(){return this.pD},set:function(t){this.pD!==t&&(this.pD=t,this.Yr(new Fg(this.bw,this.Ew)))}},{key:"Rw",get:function(){return this._D}},{key:"Cw",get:function(){return this.js},set:function(t){this.js!==t&&(this.js=t,this.Yr(new zg(this.bw,this.Cw)))}},{key:"Mg",get:function(){return!1},set:function(t){}},{key:"KR",get:function(){return this.cR}}]),n}(Cu)),Yk=function(t){function n(n,i,e,r,u,s){var o,c=new Gk;return(o=t.call(this,Lk.Zn,c)||this).Fc=void 0,o.kD=void 0,o.TD=void 0,o.SD=void 0,o._T=void 0,o.ED=void 0,o.RD=void 0,o.TD=n,o.Fc=i,o._T=e,o.ED=r,o.SD=s,o.kD=new K(u,o.SD),o.kD.it(o.TD),c.gD=o.kD,o.RD=new Mk(o.TD),o}vt(n,t);var i=n.prototype;return i.st=function(){t.prototype.st.call(this),this.kD.X()},i.fg=function(t){var n,i,e,r;n=this,e=(i=t).Cw,r=i.Tw,n.Cw=e,n.Tw=r},i.hg=function(){},i.SI=function(t){return t.IS(this.TD,this.kD,this._T,this.Fc,this.ED,this.SD)},i.lg=function(){return this.mI.lg()},i.gg=function(){return this.kD.j.map(function(t){return t.ER})},i.Qr=function(n){t.prototype.Qr.call(this,n)},i.eu=function(n){t.prototype.eu.call(this,n)},i.et=function(){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(t.prototype.et.call(this));case 2:this.kD.et(),this.RD.et();case 4:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"Sg",get:function(){return this.TD}},{key:"Mg",get:function(){return this.mI.Mg},set:function(t){this.mI.Mg=t}}]),n}(Vk),Kk=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).TD=void 0,r.DD=void 0,r.CD=void 0,r.ND=void 0,r.OD=void 0,r.aR=new Dk,r.TD=n,r.DD=i,r.ND=new _y,r.OD=new kb,r.CD=e,r}vt(n,t);var i=n.prototype;return i.yg=function(t){return!0},i.dg=function(){},i.Y=function(){throw this.Yr(new Gg(this.CD)),this.DD},i.K=function(){},i.ug=function(){},i.sg=function(t,n){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw gu(n),this.Yr(new Gg(this.CD)),this.DD;case 3:case"end":return t.stop()}},null,this,null,j)},i.vg=function(){},i.rg=function(){return j.resolve()},i.lg=function(){},i.wg=function(){return Xk},i.gg=function(){return[]},i.st=function(){},i.fg=function(t){},i.hg=function(){},i.og=function(){return!1},i.cg=function(){},i.ag=function(){},i._g=function(){},i.fl=function(){return j.resolve()},i.et=function(){return this.Zr(),this.ND.et(),this.OD.et(),j.resolve()},ft(n,[{key:"tg",get:function(){return this.ND}},{key:"kg",get:function(){return zk.vD().$R()}},{key:"Tg",get:function(){return new Date(NaN)},set:function(t){}},{key:"pg",get:function(){}},{key:"bw",get:function(){return 0},set:function(t){}},{key:"pw",get:function(){return 0}},{key:"Sg",get:function(){return this.TD}},{key:"_w",get:function(){return!0}},{key:"fu",get:function(){return this.DD}},{key:"kw",get:function(){return this.CD}},{key:"eg",get:function(){}},{key:"Hw",get:function(){return{Rg:0,Ig:0,Dg:0,Cg:0,Ng:0,Og:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Tw",get:function(){return!1},set:function(t){}},{key:"Ag",get:function(){return!0}},{key:"Sw",get:function(){return!0}},{key:"Ew",get:function(){return 0},set:function(t){}},{key:"Pg",get:function(){return zk.vD().$R()}},{key:"xg",get:function(){return Bk.wI},set:function(t){}},{key:"Ml",get:function(){return lg.cw}},{key:"Lg",get:function(){return zk.vD().$R()}},{key:"Rw",get:function(){return!1}},{key:"ig",get:function(){return this.OD}},{key:"Iw",get:function(){return 0}},{key:"ng",get:function(){return this.ND}},{key:"Dw",get:function(){return 0}},{key:"Cw",get:function(){return 1},set:function(t){}},{key:"Bg",get:function(){return this.aR}},{key:"Mg",get:function(){return!1},set:function(t){}},{key:"Eg",get:function(){return!1}}]),n}(ug);function Jk(t){if(t&&Ot(t))return wr({},t,{integration:Qk(t.integration),fairplay:rT(t.fairplay),widevine:Zk(t.widevine),playready:tT(t.playready),clearkey:uT(t.clearkey),aes128:sT(t.aes128),integrationParameters:oT(t.integrationParameters),preferredKeySystems:cT(t.preferredKeySystems)})}function Qk(t){if(Pt(t))return t}function Zk(t){if(t&&Ot(t))return{persistentState:nT(t.persistentState),distinctiveIdentifier:nT(t.distinctiveIdentifier),audioRobustness:iT(t.audioRobustness),videoRobustness:iT(t.videoRobustness),licenseAcquisitionURL:Pt(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:eT(t.licenseType),headers:t.headers,useCredentials:!!xt(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:Pt(t.certificate)||Ls(t.certificate)?t.certificate:void 0}}function tT(t){if(t){var n=Zk(t);if(n)return wr({},n,{customData:Pt(t.customData)?t.customData:void 0})}}function nT(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function iT(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function eT(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function rT(t){if(t){var n=Zk(t);if(n)return wr({},n,{certificateURL:Pt(t.certificateURL)?t.certificateURL:void 0})}}function uT(t){if(t){var n=Zk(t);if(n)return wr({},n,{keys:Ct(t.keys)?t.keys.map(function(t){return function(t){if(!t||!Ot(t))return;var n=t.id,i=t.value;if(!Pt(n)||!Pt(i))return;return{id:n,value:i}}(t)}).filter(It):void 0})}}function sT(t){if(Ot(t))return{useCredentials:xt(t.useCredentials)?t.useCredentials:void 0}}function oT(t){if(Ot(t))return t}function cT(t){return t&&Ct(t)?t.map(function(t){return Gp(t)}).filter(It):[Ar,Cr,Br]}var aT,fT=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return vt(n,t),n}(Ou),hT=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).PD=[],e.xD=void 0,e.LD=function(t){ku(function(){e.Gr(t)})},e.xD=i?e.LD:e.Gr,e}vt(n,t);var i=n.prototype;return i.BD=function(t){t.Qr(this.xD),this.PD.push(t)},i.MD=function(t){t.eu(this.xD),cu(this.PD,t)},i.et=function(){this.Zr();for(var t=0,n=this.PD;t<n.length;t++){n[t].eu(this.xD)}hu(this.PD)},n}(rg),vT=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(hT);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(aT||(aT={}));var dT,lT=function(t){function i(n){var i;return(i=t.call(this)||this).FD=void 0,i.UD=void 0,i.VD=!1,i.WD=!1,i.HD=void 0,i.qD=void 0,i.zD=void 0,i.Ad=void 0,i.jD=function(){return i.$D()},i.XD=function(){return i.GD()},i.zD=n,i.FD=i.UD=i.HD=i.qD=aT.INLINE,i.zD.Kr(Hk.$d,i.jD),i.zD.Kr(Hk.Cl,i.XD),i.YD(),i}vt(i,t);var e=i.prototype;return e.xd=function(){return t=this,i={get currentMode(){return t.KD()},requestMode:function(n){var i=gT(n);i&&t.JD(i)},supportsMode:function(n){var i=gT(n);return!!i&&t.QD(i)},addEventListener:function(t,i){n.Kr(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},(n=new hT(i,!0)).BD(t),i;var t,n,i},e.JD=function(t){this.ZD(t,t)},e.ZD=function(t,n){this.UD!==n&&(this.VD=!0,this.FD=t,this.tC(n,this.UD),t!==aT.FULLSCREEN&&(this.HD=t),this.VD=!1,this.YD())},e.KD=function(){return this.WD?aT.FULLSCREEN:aT.INLINE},e.QD=function(t){switch(t){case aT.FULLSCREEN:return this.zD.wD;case aT.INLINE:return!0}return!1},e.YD=function(){if(!this.VD){var t=this.UD,n=this.KD();this.UD=n,n!==aT.FULLSCREEN&&(this.qD=n),t!==n&&this.Yr(new fT(n))}},e.tC=function(t,n){var i=t===aT.FULLSCREEN;this.WD=i,i!==this.zD.lD&&(i?this.zD.Zg():this.zD.ny())},e.$D=function(){if(!this.VD){var t=this.zD.lD;this.WD=t,t?this.ZD(aT.FULLSCREEN,aT.FULLSCREEN):t||this.FD!==aT.FULLSCREEN?this.YD():this.ZD(this.HD,this.qD)}},e.GD=function(){this.$D(),this.Yr(new Gg(new Ac(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.et=function(){this.zD.et(),this.Zr()},ft(i,[{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}}]),i}(rg),wT={bw:0,pw:NaN,_w:!1,fu:void 0,kw:void 0,Tw:!1,Sw:!0,Ew:1,Ml:lg.cw,Rw:!1,Iw:0,Dw:0,Cw:1};function gT(t){switch(t){case aT.INLINE:case aT.FULLSCREEN:case aT.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(dT||(dT={}));var yT,mT,bT,pT,_T,kT,TT,ST,ET=function(){function t(){this.nC=[]}var n=t.prototype;return n.iC=function(t){var n=this.eC.filter(function(n){return n.rC(t)});if(n.length>1)0;else if(0===n.length)throw f("Unknown ad integration: "+t.integration);return n[0]||null},n.uC=function(t){this.nC.push(t)},ft(t,[{key:"eC",get:function(){return this.nC}}]),t}();ET.Zn=new ET,function(t){t.mw="PLAYING",t.zw="PAUSED",t.sC="SEEK",t.oC="STALLED",t.cC="FAILED",t.aC="INITIAL_BUFFERING",t.fC="NO_ACCESS"}(yT||(yT={})),function(t){t.hC="HTTP_REQUEST_STATUS_CODE_1XX",t.vC="HTTP_REQUEST_STATUS_CODE_2XX",t.dC="HTTP_REQUEST_STATUS_CODE_3XX",t.lC="HTTP_REQUEST_STATUS_CODE_4XX",t.wC="HTTP_REQUEST_STATUS_CODE_5XX",t.gC="BUFFER_LENGTH",t.yC="BYTES_RECEIVED",t.mC="SEGMENT_READ_BITRATE",t.bC="SEGMENT_PROFILE_BITRATE",t.pC="NUMBER_OF_FRAMES_DROPPED",t._C="PLAYBACK_POSITION",t.kC="NUMBER_OF_FRAMES_DECODED",t.TC="PLAYBACK_DELTA_TO_ORIGIN",t.SC="STREAM_DELTA_TO_ORIGIN",t.EC="ORIGIN_TIMESTAMP"}(mT||(mT={})),function(t){t.RC="MANIFEST_URI",t.IC="ASSET_DURATION",t.DC="NUMBER_OF_CONTENT_PROFILES",t.CC="CDN",t.NC="CONTENT_TITLE",t.OC="SERVICE_NAME",t.AC="CONTENT_TYPE",t.xC="CONTENT_DESCRIPTION"}(bT||(bT={})),function(t){t.LC="shutdown_normal_shutdown"}(pT||(pT={})),function(t){t.BC="session/",t.MC="internalError/",t.FC="drmError/",t.UC="caError/",t.VC="networkError/"}(_T||(_T={})),function(t){t.WC="userAction",t.HC="endOfStreamReached"}(kT||(kT={})),function(t){t.PAUSE="qC",t.RESUME="zC"}(TT||(TT={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(ST||(ST={}));var RT,IT,DT,CT,NT,OT="agama";function AT(t){return function(t){switch(t){case RT.NONE:case RT.HORIZONTAL:case RT.VERTICAL:return!0;default:return!1}}(t)?t:RT.NONE}function PT(t){switch(t){case"":return RT.NONE;case"horizontal":return RT.HORIZONTAL;case"vertical":return RT.VERTICAL;default:throw new h}}function xT(t){if(!t||!Pt(t))return IT.lI;switch(t){case"always":return IT.jC;case"never":return IT.$C;default:return IT.lI}}function LT(t){if(!t||!Pt(t))return DT.lI;switch(t){case"playlist":return DT.XC;case"media":return DT.GC;default:return DT.lI}}function BT(t,n){return t.length>0?t:n.length>0?n:void 0}function MT(t){if(null!==t)return t}function FT(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:MT(t.streamActivityMonitorID),adTagParameters:Ot(t.adTagParameters)?t.adTagParameters:{},authToken:MT(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var e=t.videoID,r=t.contentSourceID;return e?r?wr({},i,{availabilityType:"vod",videoID:e,contentSourceID:r}):void st.Ie("A VOD DAI configuration was provided without valid contentSourceID which is required."):void st.Ie("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?wr({},i,{availabilityType:"live",assetKey:u}):void st.Ie("A Live DAI configuration was provided without valid assetKey which is required.")}st.Ie("A DAI configuration was provided without a valid availabilityType which is required.")}function UT(t){if(!Vp(t)||!t.integration)return t;switch(t.integration){case cp:return n=t,i=Xp(Sr.ar,n),e=Xp(Sr.cr,n),r=n[Sr.dr]&&Xp(Sr.dr,n),wr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(RT||(RT={})),function(t){t.lI="auto",t.jC="always",t.$C="never"}(IT||(IT={})),function(t){t.lI="auto",t.XC="playlist",t.GC="media"}(DT||(DT={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(CT||(CT={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(NT||(NT={}));var VT="https://content.uplynk.com";function WT(t){if(!t)return!0;var n,i,e=!(kg(n=t.sources)||Nt(n)&&kg(n[0]))||Tg(t.sources),r=!t.ads||(!(i=t.ads)||Ct(i)&&0===i.length),u=""!==t.poster&&!t.poster;return e&&r&&u}function HT(t){if(t&&t.sources)return function t(n){if(Pt(n))return n;if(_g(n))return n.src;if(Nt(n)&&n.length>0)return t(n[0]);return}(t.sources)}function qT(t,n,i){return bg(t)?function(t,n,i){var e=wr({},Sg(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:CT.VERIZON_MEDIA,id:"",prefix:VT,preplayParameters:{},playbackUrlParameters:{},assetType:NT.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,Pt(r)?r:Nt(r)&&Pt(r[0])?r:Ot(u=r)&&Pt(u.userId)&&(Nt(u.externalId)||Pt(u.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,u;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return NT.CHANNEL;case"event":return NT.EVENT;case"asset":default:return NT.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=Mw(t.contentProtected));t.assetInfo?e.assetInfo=Mw(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=Vw(t.prefix)||VT);return e.ping=(s=e.assetType,o=t.ping,c=!1,a=!1,f=!1,o?(c=!!xt(o.adImpressions)&&o.adImpressions,a=!!xt(o.freeWheelVideoViews)&&o.freeWheelVideoViews,f=xt(o.linearAdData)?o.linearAdData:s!==NT.ASSET):s!==NT.ASSET&&(f=!0),{adImpressions:c,freeWheelVideoViews:a,linearAdData:f}),e=jT(e=$T(e=zT(e,t),n,i),t,i);var s,o,c,a,f}(t,n,i):function(t,n,i){var e=Eg(),r=n&&(n.contentProtection||n.drm);if(Pt(t)){if(e.src=t,e.type=yg(t),r){var u=Jk(r);e.contentProtection=UT(u)}}else if(_g(t)||mg(t)){e.src=t.src,e.type=t.type||yg(t.src),e.isAdvertisement=t.isAdvertisement;var s=function(t){return t.type===hg.sw||t.type===hg.ow}(t)?t.hesp:void 0;void 0!==s&&(e.hesp=s);var o=Ot(f=t)&&Pt(f.integration)&&"mediatailor"===f.integration;o&&(e.integration=t.integration);var c=t.contentProtection||t.drm||r,a=Jk(c);e.contentProtection=UT(a),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return FT(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=zT(e,t)}var f;return e=jT(e=$T(e,n,i),t,i)}(t,n,i)}function zT(t,n){var i;n.useCredentials?t.crossOrigin=fg.rw:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case fg.ew:case fg.rw:return t;default:return fg.iw}}(n.crossOrigin)),Pt(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Mw(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Mw(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:xT(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:LT(null==t?void 0:t.discontinuityAlignment),useLegacy:(n=null==t?void 0:t.useLegacy,It(n)?Boolean(n):void 0)};var n}(n.hls)),n.lcevc&&(t.lcevc=Mw(n.lcevc));var e=void 0!==n.experimentalRendering?Mw(n.experimentalRendering):void 0;void 0!==e&&(t.experimentalRendering=e);var r=void 0!==n.nativeUiRendering?Mw(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function jT(t,n,i){return t.abr=function(t,n){var i=Ww(null==t?void 0:t.preferredAudioCodecs,Vw),e=Ww(null==t?void 0:t.preferredVideoCodecs,Vw),r=Ww(null==n?void 0:n.preferredAudioCodecs,Vw),u=Ww(null==n?void 0:n.preferredVideoCodecs,Vw),s=BT(i,r),o=BT(e,u);if(s||o)return{preferredAudioCodecs:s,preferredVideoCodecs:o}}(Pt(n)?void 0:n.abr,null==i?void 0:i.abr),t}function $T(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!It(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!It(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===fg.iw&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=fg.ew),t.useCredentials=t.crossOrigin===fg.rw,Pt(r)&&!t.timeServer&&(t.timeServer=r),t}function XT(t){var n={src:""};if(t&&t.src){if(n.src=Vw(t.src),"default"in t&&(n.default=Mw(t.default)),n.kind=Sb(t.kind),function(t){switch(t){case Py.DEFAULT:case Py.SRT:case Py.TTML:case Py.WEBVTT:case Py.EMSG:case Py.EVENT_STREAM:case Py.ID3:case Py.CEA608:case Py.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function GT(t,n){if(At(t))try{return n.iC(t).YC(t)}catch(t){return}}function YT(t){return Pt(t.sources)&&""!==t.sources||Ot(t.sources)&&Pt(t.sources.src)}function KT(t){return t.integration===dT.SPOTX&&!g(t.id)}function JT(t){return"freewheel"===t.integration}function QT(t,n,i){if(void 0===i&&(i=ET.Zn),WT(t))return{sources:[Eg()]};var e=Pw(t);if(e.sources=function(t,n,i){if(kg(t))return[qT(t,n,i)];if(Nt(t)&&kg(t[0])){for(var e=[],r=0;r<t.length;r++){var u=t[r];e.push(qT(u,n,i))}return e}return[Eg()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!Nt(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var u=r[e];(u=GT(u,n))&&(YT(u)||KT(u)||JT(u))&&i.push(u)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var u,s,o,c=!Tg(e.sources),a=e.ads&&e.ads.length>0;if(c&&!a?delete e.ads:a&&!c&&(e.sources=[]),"textTracks"in e){var f=function(t){if(!Nt(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=XT(r)).src&&n.push(r)}return n}(e.textTracks);0===f.length?delete e.textTracks:e.textTracks=f}if("poster"in e&&(e.poster=Vw(e.poster)),"vr"in e&&(e.vr=(u=e.vr,(s=u||{}).stereoMode=AT(s.stereoMode),{360:Boolean(s[360]),stereoMode:s.stereoMode?PT(s.stereoMode):RT.NONE,nativeVR:Boolean(s.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var h=Ig(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=Pw(t),e=function(e){var r=n[e],u=!t.some(function(t){return t.integration===r.integration});u&&r.integration!==OT&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(h,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Yg(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=Fw(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var ZT=function(){function t(t){this.KC=t}return t.prototype.JC=function(t){var n,i,e,r,u,s,o,c=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.KC.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.KC.indexOf(t.charAt(n))<<18|this.KC.indexOf(t.charAt(n+1))<<12|(u=this.KC.indexOf(t.charAt(n+2)))<<6|(s=this.KC.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,c[n/4]=String.fromCharCode(i,e,r),64===s&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},t.prototype.QC=function(t,n){var i,e,r,u,s,o,c,a=[],f="";if((o=t.length%3)>0)for(;o++<3;)f+=this.KC.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,u=i>>6&63,s=63&i,a[o/3]=this.KC.charAt(e)+this.KC.charAt(r)+this.KC.charAt(u)+this.KC.charAt(s);return c=(c=a.join("")).slice(0,c.length-f.length),n||(c+=f),c},t.vb=new t(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.ZC=new t(t.vb.JC("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function tS(t){return"string"==typeof t}function nS(t){return"number"==typeof t}var iS={}.toString;var eS,rS=Array.isArray||function(t){return"[object Array]"===iS.call(t)};function uS(t,n){return rS(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(eS||(eS={}));var sS,oS=v.keys(eS).map(function(t){return eS[t]});function cS(t){return-1!==oS.indexOf(t)}function aS(t){try{var n=ZT.ZC.JC(t),i=JSON.parse(n);if(!function(t){var n=(h=t,"object"==typeof h&&null!==h),i=tS(t.key),e=tS(t.customer_id),r=nS(t.generation_date),u=nS(t.expiration_date),s=uS(t.domains_page,tS),o=uS(t.domains_source,tS),c=uS(t.sdks,cS),a=(f=t.send_impression,"boolean"==typeof f);var f;var h;if(!(n&&i&&e&&r&&u&&s&&o&&c&&a))return!1;return!0}(i))throw new f("The provided license could not be decoded correctly.");return i}catch(t){throw new f("The provided license could not be decoded correctly.")}}function fS(){return sS||(sS={jh:tt.href,tN:Z.parent&&Z.parent!==i,nN:dS()}),sS}var hS,vS=["http:","https:","ftp:","ws:","wss:"];function dS(){try{return Z.top.location.href}catch(t){return Z&&Z.document&&Z.document.referrer}}!function(t){t[t.iN=0]="iN",t[t.eN=1]="eN",t[t.rN=2]="rN"}(hS||(hS={}));var lS,wS=function(t,n,i,e,r,u,s,o){void 0===r&&(r=""),void 0===u&&(u=Date.now()),void 0===s&&(s=[]),void 0===o&&(o=!0),this.uN=t,this.sN=n,this.oN=i,this.cN=e,this.aN=r,this.fN=u,this.hN=s,this.vN=o};!function(t){t.eN="expired",t.dN="invaliddomain",t.lN="invalidsource",t.Cl="error"}(lS||(lS={}));var gS=function(){function t(t,n,i){this.wN=void 0,this.gN=t,this.yN=n,this.Rs=i,this.wN=kS(this.Rs)}var n=t.prototype;return n.mN=function(t,n){var i=this;if(!WT(t)&&0!==n.oN.length&&!bS(n.oN)){var e=[];if(kg(t.sources)?e=[t.sources]:Nt(t.sources)&&(e=t.sources),!e.every(function(t){return i.bN(t,n)})){var r=lS.lN,u=SS.pN(r);throw new Ac(yS(r),u)}}},n._N=function(n){return this.kN(n.hN)&&this.TN(n)?t.SN(n.cN)?hS.iN:hS.eN:hS.rN},n.kN=function(t){var n=this;return 0===t.length||t.some(function(t){return n.EN(t)})},n.EN=function(t){return"tvos"===function(t){switch(t){case eS.ANDROID:return ot.dt;case eS.ANDROIDTV:case eS.FIRETV:return ot.wt;case eS.IOS:return ot.yt;case eS.TVOS:return ot.bt;case eS.CHROMECAST:case eS.CHROMECASTCAF:return ot.pt;default:return ot.vt}}(t)},t.SN=function(t){var n=Number(new Date);return!!t&&n<=t},n.TN=function(t){return!(this.wN&&0!==t.sN.length&&!bS(t.sN))||!!(this.wN&&this.RN(t.sN)&&this.IN(t.sN))},n.RN=function(t){return pS(this.Rs.jh,t)},n.IN=function(t){if(!this.Rs.tN)return!0;if(this.gN)return!0;var n=this.DN();return!!n&&pS(n,t)},n.DN=function(){if(this.Rs.tN){var t=r.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Rs.nN?this.Rs.nN:void 0}},n.bN=function(n,i){return!!t.CN(n,i.oN)},t.CN=function(t,n){return pS(this.NN(t),n)},t.NN=function(t){return Pt(t)?t:_g(t)&&t.src||""},t}();function yS(t){switch(t){case lS.dN:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case lS.lN:return n.ErrorCode.LICENSE_INVALID_SOURCE;case lS.eN:return n.ErrorCode.LICENSE_EXPIRED;case lS.Cl:return n.ErrorCode.LICENSE_ERROR}}function mS(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+r+s+r+s+r+s+"\\)"),c=e.match(o),a=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var f=new RegExp("^"+c[1]+r+a(c[2])+r+a(c[3])+r+a(c[4])+"$");return null!==i.match(f)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function bS(t){return t.some(function(t){return"*"===t})}function pS(t,n){var i=st.He(t);if(!_S(i))return!0;for(var e=0;e<n.length;e++){var r=n[e];if(mS(i.hostname,r))return!0;if(mS(Md(t),r))return!0}return!1}function _S(t){return-1!==vS.indexOf(t.protocol)}function kS(t){var n=st.He(t.jh);return _S(n)&&!mS(n.hostname,"localhost")&&!function(t){return mS(t.hostname,"theoplayer.doubleclick.net")}(n)}var TS,SS=function(){function t(){}return t.pN=function(t){return t===lS.dN?this.ON:t===lS.lN?this.AN:t===lS.eN?this.PN:this.xN},t}();function ES(t){var n=[t.pk,t.LN,t.BN];switch(t.LN){case TS.MN:n.push(t.Vl);break;case TS.FN:n.push(t.bw),n.push(t.fu);break;case TS.UN:n.push(t.fu)}return n}SS.xN="The license for this player is invalid.",SS.PN="The usage license for this video player has expired.",SS.ON="The current domain is incompatible with the license for this player.",SS.AN="The provided video source is incompatible with the license for this player.",function(t){t[t.MN=1]="MN",t[t.FN=4]="FN",t[t.UN=5]="UN"}(TS||(TS={}));for(var RS=new Array(256),IS=0;IS<256;IS+=1)RS[IS]=(IS<16?"0":"")+IS.toString(16);function DS(){var t=En(),n=(4294967296*d.random()|0)+t&3029421624,i=(4294967296*d.random()|0)+t&3595553209,e=(4294967296*d.random()|0)+t&1130486254,r=(4294967296*d.random()|0)+t&1284287105;return RS[255&n]+RS[n>>>8&255]+RS[n>>>16&255]+RS[n>>>24&255]+"-"+RS[255&i]+RS[i>>>8&255]+"-"+RS[i>>>16&15|64]+RS[i>>>24&255]+"-"+RS[63&e|128]+RS[e>>>8&255]+"-"+RS[e>>>16&255]+RS[e>>>24&255]+RS[255&r]+RS[r>>>8&255]+RS[r>>>16&255]+RS[r>>>24&255]}var CS=function(){function t(t){this.KC=void 0,this.KC=t}var n=t.prototype;return n.JC=function(t){var n,i,e,r,u,s,o,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.KC.indexOf(t.charAt(n))<<18|this.KC.indexOf(t.charAt(n+1))<<12|(u=this.KC.indexOf(t.charAt(n+2)))<<6|(s=this.KC.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,c[n/4]=String.fromCharCode(i,e,r),64===s&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},n.QC=function(t){var n,i,e,r,u,s,o,c=[],a="";if((s=t.length%3)>0)for(;s++<3;)a+=this.KC.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,e=n>>12&63,r=n>>6&63,u=63&n,c[s/3]=this.KC.charAt(i)+this.KC.charAt(e)+this.KC.charAt(r)+this.KC.charAt(u);return(o=c.join("")).slice(0,o.length-a.length)+a},t}();function NS(){return st._e()}CS.vb=new CS(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),CS.ZC=new CS(CS.vb.JC("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var OS,AS="theoplayer-session-id";function PS(){if(!OS){var t=Gc.mu(AS);t?OS=t:(OS=DS(),Gc.aa(AS,OS))}return OS}var xS=/[^\x00-\x7E]/g;function LS(t){return"\\u"+function(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}(e,r/e.length)),e.slice(0,r)+t)}(t.charCodeAt(0).toString(16),4,"0")}var BS=0,MS=1,FS=6e4;function US(t){var n,i,e,r,u,s=(n=function(t){return[t.VN,t.hc,t.uN,t.Pp,t.WN,t.HN,t.qN.map(ES)]}(t),i=[],e=n,r=function(t,n){if(Ot(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,u).replace(xS,LS));return CS.ZC.QC(s)}var VS=function(){function t(t,n,i,e,r,u){var s=this;void 0===e&&(e=CS.vb),void 0===r&&(r=BS),void 0===u&&(u=MS),this.zN=[],this.jN=null,this.$N=0,this.XN="unknown",this.ro=0,this.GN=void 0,this.YN=function(){NS()-s.$N>FS&&s.W()},this.KN=function(){s.W(!0)},this.Co=t,this._T=n,this.JN=i,this.QN=e,this.ZN=r,this.tO=u,Q.ct(this.KN),this.GN=c(this.YN,FS)}var n=t.prototype;return n.nO=function(){return Boolean(this.WN)},n.iO=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,lr.awrap(this.JN.eO());case 2:if(i.sent.vN){i.next=5;break}return i.abrupt("return");case 5:return n={LN:TS.MN,BN:En(),Vl:t},i.next=8,lr.awrap(this.rO(n));case 8:case"end":return i.stop()}},null,this,null,j)},n.uO=function(t,n){var i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={LN:TS.FN,BN:En(),bw:n,fu:t},e.next=3,lr.awrap(this.rO(i));case 3:case"end":return e.stop()}},null,this,null,j)},n.sO=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={LN:TS.UN,BN:En(),fu:t},i.next=3,lr.awrap(this.rO(n));case 3:case"end":return i.stop()}},null,this,null,j)},n.rO=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,lr.awrap(this.JN.eO());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.QN.QC(n.uN)){i.next=6;break}if(t.LN===TS.UN){i.next=6;break}return i.abrupt("return");case 6:if(t.LN===TS.MN?this.oO():this.nO()||this.oO(),t.pk=this.ro++,this.zN.push(t),(e=t.LN)!==TS.MN&&e!==TS.UN){i.next=14;break}return i.next=12,lr.awrap(this.W());case 12:i.next=19;break;case 14:if(!(this.zN.length>this.ZN)){i.next=19;break}return i.next=17,lr.awrap(this.cO());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,j)},n.W=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.zN.length>0)){n.next=6;break}return n.next=4,lr.awrap(this.cO(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,j)},n.aO=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,lr.awrap(this.JN.eO());case 2:return n=i.sent,i.abrupt("return",{VN:En(),hc:PS(),uN:this.QN.QC(n.uN)||"dev",Pp:this.Co,WN:this.jN,HN:this.XN,qN:t});case 4:case"end":return i.stop()}},null,this,null,j)},n.cO=function(t){var n,i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.zN.splice(0,this.tO),e.next=4,lr.awrap(this.aO(n));case 4:i=e.sent,t?this.wv(i):this.fO(i),this.$N=NS();case 7:case"end":return e.stop()}},null,this,null,j)},n.fO=function(t){var n,i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=US(t),i=new Cd({jh:"https://license.theoplayer.com",Ih:n,dv:!1,Vh:Zc.ri,Uh:{"Content-Type":I_.QS},fv:4e3,av:Sd.POST}),r.prev=2,r.next=5,lr.awrap(this._T.qh(i));case 5:return e=r.sent,r.next=8,lr.awrap(e.Sh());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],j)},n.wv=function(t){var n=US(t);this._T.wv({jh:"https://license.theoplayer.com",Ih:n,Rh:I_.QS})},n.oO=function(){this.nO()&&this.W(),this.jN=DS(),this.ro=0},n.et=function(){Q.ft(this.KN),a(this.GN),this.W()},ft(t,[{key:"qN",get:function(){return this.zN}},{key:"WN",get:function(){return this.jN}}]),t}();var WS=St.xn||St._n&&St.Vn<13;function HS(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var qS=function(){function t(t){this.fI=void 0,this.Ad=void 0,this.hO=void 0,this.fI=t}var n=t.prototype;return n.vO=function(t){if(!t||!t.drawImage)return!1;var n=this.fI.lg();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.dO=function(t,n,i,r,u,s){if(!t||!t.texImage2D)return!1;var o=this.fI,c=o.lg();if(!c)return!1;if(WS){this.hO||(this.hO=e.createElement("canvas"));var a=this.hO,h=a.getContext("2d"),v=o.Dw,d=o.Iw,l=a.width,w=a.height;h.clearRect(0,0,a.width,a.height),l===v&&w===d||(a.width=v,a.height=d),h.drawImage(c,0,0,v,d);var g=!1;v>0&&HS(h,v-1,0)&&(a.width=l,g=!0),d>0&&HS(h,0,d-1)&&(a.height=w,g=!0),g&&h.drawImage(c,0,0,v,d),c=a}try{t.texImage2D(n,i,r,u,s,c)}catch(t){throw new f("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},ft(t,[{key:"Pd",get:function(){return this.Ad||(this.Ad=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.vO.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,u,s){return t.dO(n,i,e,r,u,s)}}));var t}}]),t}(),zS=function(t){function n(n,i){var e;return(e=t.call(this,"lO")||this).Dy=n,e.v_=i,e}return vt(n,t),n.prototype.xd=function(){return new jS(this.Dy,this.v_)},n}(mw),jS=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return vt(n,t),n}(Ou),$S=function(t,n){this.Sg=void 0,this.wO=void 0,this.Sg=t,this.wO=n},XS=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).gO=void 0,e.yO=0,e.mO=0,e.bO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.mO=n.width,e.yO=n.height,e.wO(e.mO,e.yO)}},e.gO=new Z.ResizeObserver(e.bO),e.gO.observe(e.Sg),e}return vt(n,t),n.prototype.et=function(){this.gO.disconnect()},ft(n,[{key:"pO",get:function(){return this.yO}},{key:"_O",get:function(){return this.mO}}]),n}($S),GS=0;var YS,KS=o,JS=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,QS=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function ZS(){return YS||(YS=Z&&Z.document&&Z.document.createElement("span")),YS}JS&&QS||(JS=function(t){var n=NS(),i=d.max(0,16-(n-GS)),e=s(function(){return t(n+i)},i);return GS=n+i,e},QS=KS),JS=JS.bind(t),QS=QS.bind(t);var tE=["Webkit","Moz","O","ms"];!function(){var t=!1;try{if(void 0!==Z&&"function"==typeof Z.addEventListener){var n=v.defineProperty({},"passive",{get:function(){t=!0}});Z.addEventListener("testPassiveEventSupport",Mt,n),Z.removeEventListener("testPassiveEventSupport",Mt,n)}}catch(t){}}();var nE=yr();function iE(t){return nE.has(t)||nE.set(t,function(t){var n=ZS();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<tE.length;e++){var r=tE[e],u=r+i;if(void 0!==n.style[u])return u}return t}(t)),nE.get(t)}function eE(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function rE(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[iE("transition")]="0s"}var uE=function(t){function n(n,r,u){var o;(o=t.call(this,n,r)||this).kO=void 0,o.TO=0,o.mO=NaN,o.yO=NaN,o.SO=void 0,o.EO=void 0,o.RO=void 0,o.IO=void 0,o.DO=void 0,o.fl=function(){o.EO.style.width=1e5+"px",o.EO.style.height=1e5+"px",o.SO.scrollLeft=1e5,o.SO.scrollTop=1e5,o.RO.scrollLeft=1e5,o.RO.scrollTop=1e5,0===o.RO.scrollTop&&JS(o.fl)},o.CO=function(){var t=o._O,n=o.pO;o.wO(t,n),o.mO=t,o.yO=n,o.fl(),o.TO=0},o.OO=function(){if(!o.TO){var t=o._O,n=o.pO;t===o.mO&&n===o.yO||(o.TO=JS(o.CO))}},o.AO=function(){o.DO||(o.DO=s(o.PO,66))},o.PO=function(){o.DO=void 0,o.xO()},o.xO=function(){o.OO()};var c=function(t,n){return i.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");u||"static"!==c||(n.style.position="relative");var a,f=e.createElement("div");return o.kO=f,o.SO=e.createElement("div"),o.EO=e.createElement("div"),o.RO=e.createElement("div"),o.IO=e.createElement("div"),eE(o.SO),eE(o.RO),rE(o.EO),rE(a=o.IO),a.style.width="200%",a.style.height="200%",f.appendChild(o.SO),f.appendChild(o.RO),o.SO.appendChild(o.EO),o.RO.appendChild(o.IO),n.appendChild(f),o.SO.addEventListener("scroll",o.OO),o.RO.addEventListener("scroll",o.OO),i&&i.addEventListener("resize",o.AO),o.OO(),o}return vt(n,t),n.prototype.et=function(){QS(this.TO),this.TO=0,this.SO.removeEventListener("scroll",this.OO),this.RO.removeEventListener("scroll",this.OO),ze(this.kO),i&&i.removeEventListener("resize",this.AO)},ft(n,[{key:"pO",get:function(){return this.Sg.getBoundingClientRect().height||this.yO||0}},{key:"_O",get:function(){return this.Sg.getBoundingClientRect().width||this.mO||0}}]),n}($S),sE=function(t){function n(n){var i;return(i=t.call(this)||this).Sg=void 0,i.gO=void 0,i.bO=function(t,n){i.Yr(new zS(t,n))},i.Sg=n,i}vt(n,t);var i=n.prototype;return i.yc=function(t){this.gO||("function"==typeof Z.ResizeObserver?this.gO=new XS(this.Sg,this.bO):this.gO=new uE(this.Sg,this.bO,t))},i.et=function(){this.Zr(),this.gO&&(this.gO.et(),this.gO=void 0)},ft(n,[{key:"pO",get:function(){return this.gO?this.gO.pO:0}},{key:"_O",get:function(){return this.gO?this.gO._O:0}}]),n}(Cu),oE=function(t){function n(){return t.call(this,Hk.$d)||this}return vt(n,t),n}(Ou);!function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{LO:i[0],BO:i[1],MO:i[2],FO:i[3],UO:i[4],VO:i[5]}}}();var cE=function(t){function n(){return t.call(this,Hk.dD)||this}return vt(n,t),n}(Ou),aE=function(t){function n(n,i){var e;return(e=t.call(this)||this).fI=void 0,e.WO=void 0,e.HO=void 0,e.qO=!1,e.zO=function(){return e.sc()},e.jD=function(t){e.qO||e.Yr(t)},e.fI=n,e.WO=i,e.HO=Xk,e.jO(),e.fI.Kr(Qc.ka,e.zO),e.sc(),e}vt(n,t);var i=n.prototype;return i.Zg=function(){this.WO&&this.HO.Zg()},i.ny=function(){this.HO.ny()},i.jO=function(){this.HO.Kr(Hk.$d,this.jD),this.HO.Kr(Hk.Cl,this.Gr)},i.$O=function(){this.HO.tu(Hk.$d,this.jD),this.HO.tu(Hk.Cl,this.Gr)},i.sc=function(){var t=this.HO,n=this.fI.wg();if(t!==n){this.qO=!0;var i=this.lD,e=this.wD;i&&this.ny(),this.$O(),this.HO=n,this.jO(),i&&!this.lD&&this.wD?this.Zg():this.ny(),this.qO=!1,e!==this.wD&&this.Yr(new cE),i!==this.lD&&this.Yr(new oE)}},i.et=function(){this.Zr(),this.$O(),this.fI.tu(Qc.ka,this.zO)},ft(n,[{key:"wD",get:function(){return!!this.WO&&this.HO.wD}},{key:"lD",get:function(){return this.HO.lD}}]),n}(Cu);function fE(t){var n;return{get url(){return t.jh},get method(){return t.av},get headers(){return n||(n=t.Uh.Ja()),n},get body(){return t.Ih},get useCredentials(){return t.dv},get type(){return wE(t.gr)},get subType(){return yE(t.hv)},get mediaType(){return bE(t.vv)},get responseType(){return vE(t.Vh)}}}function hE(t){switch(t.toLowerCase()){case"arraybuffer":return Zc.Ga;case"json":return Zc.Ya;case"stream":return Zc.Ka;case"text":default:return Zc.ri}}function vE(t){return t}function dE(t){switch(t.toUpperCase()){case"POST":return Sd.POST;case"PUT":return Sd.PUT;case"DELETE":return Sd.DELETE;case"HEAD":return Sd.HEAD;case"OPTIONS":return Sd.OPTIONS;case"GET":default:return Sd.GET}}function lE(t){switch(t.toLowerCase()){case"manifest":return Ed.Gh;case"segment":return Ed.Yh;case"content-protection":return Ed.Kh;default:return Ed.Xh}}function wE(t){return t}function gE(t){switch(t.toLowerCase()){case"initialization-segment":return Rd.Jh;case"fairplay-license":return Rd.Qh;case"fairplay-certificate":return Rd.Zh;case"widevine-license":return Rd.tv;case"widevine-certificate":return Rd.nv;case"playready-license":return Rd.ev;case"clearkey-license":return Rd.rv;case"aes128-key":return Rd.uv;default:return Rd.Xh}}function yE(t){return t}function mE(t){switch(t.toLowerCase()){case"audio":return Id.sv;case"video":return Id.ov;case"text":return Id.ri;case"image":return Id.cv;case"":default:return Id.Xh}}function bE(t){return t}var pE=function(){function t(t,n){this.XO=new Vs,this.GO=[],this.Ad=void 0,this.YO=!1,this.Iv=void 0,this.KO=0,this.JO=t,this.QO=n}var n=t.prototype;return n.kp=function(){this.YO=!0,this.XO.xu(null)},n.ZO=function(){this.XO.Lu(new ed(this.GO))},n.tA=function(t){if(!this.nA)throw new h("Cannot respond more than once");if(!Ot(t))throw new h("Expected valid response");this.Iv=this.iA(t),this.kp()},n.eA=function(){try{var t=this.QO(this.Pd);t?this.rA(t):this.uA||this.sA||this.kp()}catch(t){this.GO.push(t),this.ZO()}},n.rA=function(t){if(this.sA)throw new f("Request has been redirected or a response already exists");if(Lt(t))this.oA(t);else{if("function"!=typeof t)throw new h("Expected promise or function");var n=new Vs;try{var i=t(function(t){t?n.Lu(t):n.xu(void 0)});Lt(i)&&n.xu(i)}catch(t){n.Lu(t)}this.oA(n.Ou)}},n.oA=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.KO++,n.next=4,lr.awrap(t);case 4:this.KO--,this.uA||this.sA||(this.GO.length?this.ZO():this.kp()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.KO--,this.GO.push(n.t0),this.uA||this.sA||this.ZO();case 13:case"end":return n.stop()}},null,this,[[0,8]],j)},ft(t,[{key:"cA",get:function(){return this.XO.Ou}},{key:"Pd",get:function(){return this.Ad||(this.Ad=this.aA()),this.Ad}},{key:"sA",get:function(){return this.YO}},{key:"nA",get:function(){return!this.YO}},{key:"uA",get:function(){return this.KO>0}},{key:"Dv",get:function(){return this.Iv}}]),t}(),_E=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).fA=void 0,r.fA=e,r.eA(),r}vt(n,t),n.hA=function(t,n,i){var e=void 0===t.body?i:t.body;return new Dd({Pi:e,qh:n.qh,Vh:n.qh.Vh,Uh:t.headers,Fh:t.status,Wh:t.statusText,zh:t.url,Hh:!0},n)};var i=n.prototype;return i.aA=function(){return i=fE((t=this).qh),{get closed(){return!t.nA},get request(){return i},get url(){return t.jh},get status(){return t.Fh},get statusText(){return t.Wh},get headers(){return n||(n=t.Uh.Ja()),n},get body(){return t.Ih},respondWith:function(n){return t.tA(n)},waitUntil:function(n){return t.rA(n)}};var t,n,i},i.iA=function(t){return n.hA(t,this.JO,this.fA)},ft(n,[{key:"Ih",get:function(){return this.fA}},{key:"Uh",get:function(){return this.JO.Uh}},{key:"qh",get:function(){return this.JO.qh}},{key:"Dv",get:function(){return this.Iv}},{key:"Fh",get:function(){return this.JO.Fh}},{key:"Wh",get:function(){return this.JO.Wh}},{key:"jh",get:function(){return this.JO.zh}}]),n}(pE),kE=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).vA=void 0,r.dA=void 0,r.dA=e,r.eA(),r}vt(n,t);var i=n.prototype;return i.aA=function(){return t=this,{get url(){return t.jh},get method(){return t.av},get headers(){return n||(n=t.Uh.Ja()),n},get body(){return t.Ih},get closed(){return!t.nA},get useCredentials(){return t.dv},get type(){return wE(t.gr)},get subType(){return yE(t.hv)},get mediaType(){return bE(t.vv)},get responseType(){return vE(t.Vh)},redirect:function(n){return t.lA(n)},respondWith:function(n){return t.tA(n)},waitUntil:function(n){return t.rA(n)}};var t,n},i.iA=function(t){var n=this.JO.Ih,i=new Dd({Pi:n,Uh:{},qh:this.JO,zh:this.JO.jh,Vh:this.JO.Vh,Fh:200,Wh:"OK"});return _E.hA(t,i,n)},i.lA=function(t){if(!this.nA)throw new h("Cannot redirect, already redirected or has a response");var n;n=Pt(t)?{url:t}:t,this.vA=function(t,n){return new Cd({jh:void 0===t.url?n.jh:t.url,av:void 0!==t.method?dE(t.method):void 0,Uh:t.headers,Ih:t.body,dv:t.useCredentials,gr:void 0!==t.type?lE(t.type):void 0,hv:void 0!==t.subType?gE(t.subType):void 0,vv:void 0!==t.mediaType?mE(t.mediaType):void 0,Vh:void 0!==t.responseType?hE(t.responseType):void 0},n)}(n,this.JO),this.kp()},ft(n,[{key:"Ih",get:function(){return this.JO.Ih}},{key:"nA",get:function(){return this.dA&&!this.YO}},{key:"Uh",get:function(){return this.JO.Uh}},{key:"av",get:function(){return this.JO.av}},{key:"wA",get:function(){return this.vA}},{key:"Dv",get:function(){return this.Iv}},{key:"Vh",get:function(){return this.JO.Vh}},{key:"fv",get:function(){return this.JO.fv}},{key:"zr",get:function(){return this.JO.zr}},{key:"gr",get:function(){return this.JO.gr}},{key:"hv",get:function(){return this.JO.hv}},{key:"vv",get:function(){return this.JO.vv}},{key:"jh",get:function(){return this.JO.jh}},{key:"dv",get:function(){return this.JO.dv}},{key:"lv",get:function(){return this.JO.lv}}]),n}(pE);var TE,SE=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new EE(n);return(e=t.call(this,r,i)||this).gA=void 0,e.gA=r,e}vt(n,t);var i=n.prototype;return i.yA=function(t){this.gA.yA(t)},i.mA=function(t){this.gA.mA(t)},i.bA=function(t){this.gA.bA(t)},i.pA=function(t){this.gA.pA(t)},i._A=function(t){this.gA._A(t)},n}(Od),EE=function(){function t(t){this.gv=void 0,this.kA=[],this.TA=[],this.gv=t}var n=t.prototype;return n.qh=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,lr.awrap(this.SA(t,t.zr));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof Fd)){i.next=12;break}return i.next=11,lr.awrap(this.EA(i.t0,t.zr));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,lr.awrap(this.RA(n,t.zr));case 15:if(!Td(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new Vd(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],j)},n.wv=function(t){return this.gv.wv(t)},n.SA=function(t,n){var i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:gu(n),i=t,r=0,u=this.kA.slice();case 3:if(!(r<u.length)){c.next=21;break}if(s=u[r],gu(n),(o=new kE(i,s,!e)).sA){c.next=17;break}return c.prev=8,c.next=11,lr.awrap(o.cA);case 11:c.next=17;break;case 13:return c.prev=13,c.t0=c.catch(8),c.abrupt("continue",18);case 17:o.wA&&!e?i=o.wA:o.Dv&&!e&&(e=o.Dv);case 18:r++,c.next=3;break;case 21:if(!e){c.next=23;break}return c.abrupt("return",e);case 23:return c.abrupt("return",this.gv.qh(i));case 24:case"end":return c.stop()}},null,this,[[8,13]],j)},n.EA=function(t,n){var i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof Vd?t.Dv:new Dd({Pi:null,qh:t.qh,Fh:0,Wh:""}),r.next=3,lr.awrap(this.RA(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!Td(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new Vd(e);case 13:case"end":return r.stop()}},null,this,null,j)},n.RA=function(t,n){var i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=t,e=0,r=this.TA.slice();case 2:if(!(e<r.length)){c.next=23;break}return u=r[e],gu(n),c.next=7,lr.awrap(j.resolve(i.Ru().Pi(n)));case 7:if(s=c.sent,(o=new _E(i,u,s)).sA){c.next=19;break}return c.prev=10,c.next=13,lr.awrap(o.cA);case 13:c.next=19;break;case 15:return c.prev=15,c.t0=c.catch(10),c.abrupt("continue",20);case 19:i=o.Dv||i;case 20:e++,c.next=2;break;case 23:return c.abrupt("return",i);case 24:case"end":return c.stop()}},null,this,[[10,15]],j)},n.yA=function(t){this.kA.unshift(t)},n.mA=function(t){this.kA.push(t)},n.bA=function(t){cu(this.kA,t)},n.pA=function(t){this.TA.unshift(t)},n._A=function(t){cu(this.TA,t)},n.et=function(){this.gv.et(),hu(this.kA),hu(this.TA)},t}(),RE=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).Ad=void 0,r.IA=function(t){r.Yr(t)},r.DA=function(t){r.Yr(t)},r.CA=n,r._T=i,r.ED=e,r.CA.Kr(Qc.Da,r.IA),r.CA.Kr(Qc.Ia,r.DA),r}vt(n,t);var i=n.prototype;return i.NA=function(t){this.ED.NA(t)},i.yA=function(t){this._T.yA(t)},i.bA=function(t){this._T.bA(t)},i.pA=function(t){this._T.pA(t)},i._A=function(t){this._T._A(t)},i.et=function(){this.Zr(),this.CA.tu(Qc.Da,this.IA),this.CA.tu(Qc.Ia,this.DA)},ft(n,[{key:"Pd",get:function(){var t;return this.Ad||(this.Ad=(t=this,{get online(){return t.Ag},get estimator(){return n=t.OA,{get bandwidth(){return n.LE},get roundTripTime(){return n.BE}};var n},setEstimator:function(n){t.NA(function(t){if(t)return{get LE(){return Uw(t.bandwidth)},get BE(){return Uw(t.roundTripTime)},xE:function(n){return function(t){if(t)return{AA:function(n){t.markRequestStart(n)},PA:function(n){t.markResponseStart(n)},xA:function(n,i){t.markResponseData(n,i)},LA:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(fE(n)))}}}(n))},addRequestInterceptor:function(n){t.yA(n)},removeRequestInterceptor:function(n){t.bA(n)},addResponseInterceptor:function(n){t.pA(n)},removeResponseInterceptor:function(n){t._A(n)},addEventListener:function(n,i){t.Kr(n,i)},removeEventListener:function(n,i){t.tu(n,i)}})),this.Ad}},{key:"Ag",get:function(){return this.CA.Ag}},{key:"OA",get:function(){return this.ED.OA}}]),n}(Cu);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(TE||(TE={}));var IE=30,DE={type:TE.BANDWIDTH},CE=20,NE=60;function OE(t){var n,i,e,r=Pw(DE);return Pt(t)?r.type=AE(t):Ot(t)&&function(t){switch(t){case TE.PERFORMANCE:case TE.QUALITY:case TE.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=AE(t.type)),Ot(t)&&Ot(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=Fw(n.bitrate),g(e)||(i.bitrate=e),i)),r}function AE(t){switch(t){case"bandwidth":return TE.BANDWIDTH;case"performance":return TE.PERFORMANCE;case"quality":return TE.QUALITY}}var PE=function(t){function n(n){var i;return(i=t.call(this,"MA")||this).BA=n,i}return vt(n,t),n}(Ou),xE=function(t){function n(n){var i;return(i=t.call(this,"UA")||this).FA=n,i}return vt(n,t),n}(Ou),LE=function(t){function n(n){var i;return(i=t.call(this,"WA")||this).VA=n,i}return vt(n,t),n}(Ou),BE=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(n=t.call.apply(t,[this].concat(r))||this).Ad=(i=Cn(n),{get strategy(){return{metadata:(t=i.FA).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.FA=OE(t)},get targetBuffer(){return i.BA},set targetBuffer(t){var n=Fw(t);g(n)||(i.BA=n>NE?NE:n)},get bufferLookbackWindow(){return i.VA},set bufferLookbackWindow(t){var n=Fw(t);g(n)||(i.VA=n<=0?IE:n)},get maxBufferLength(){return i.HA}}),n.qA=DE,n.zA=CE,n.jA=IE,n.$A=1/0,n.XA=void 0,n.GA=void 0,n}vt(n,t);var i=n.prototype;return i.YA=function(t){this.GA=t},i.NA=function(t){this.XA=t},i.KA=function(t){var n=d.min(t,.8*this.$A);if(n=d.max(10,n),this.$A===n)return!1;var i=this.JA;this.$A=n;var e=this.JA;return e!==i&&this.Yr(new PE(e)),!0},ft(n,[{key:"QA",get:function(){switch(this.qA.type){case TE.PERFORMANCE:return 0;case TE.QUALITY:return 1/0;case TE.BANDWIDTH:return this.qA.metadata&&void 0!==this.qA.metadata.bitrate?this.qA.metadata.bitrate:8*cg.Ql();default:return 8*cg.Ql()}}},{key:"Pd",get:function(){return this.Ad}},{key:"FA",get:function(){return this.qA},set:function(t){this.qA=t,this.Yr(new xE(t))}},{key:"BA",get:function(){return this.zA},set:function(t){this.zA=t,this.Yr(new PE(t))}},{key:"JA",get:function(){return d.min(this.zA,this.$A)}},{key:"VA",get:function(){return this.jA},set:function(t){this.jA=t,this.Yr(new LE(t))}},{key:"HA",get:function(){return this.$A}},{key:"OA",get:function(){var t;return null!=(t=this.XA)?t:this.GA.KR}}]),n}(Cu),ME=function(t){function n(){return t.call(this,"Xd")||this}return vt(n,t),n.prototype.xd=function(){return new FE},n}(mw),FE=function(t){function n(){return t.call(this,"change")||this}return vt(n,t),n}(Ou),UE=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).ZA=void 0,e.tP=function(t){var n;n=t,Boolean(n&&n.Pd)&&ku(function(){e.Yr(t.Pd)})},e.ZA=n,e.ZA.Qr(e.tP),e}return vt(n,t),n.prototype.et=function(){this.Zr(),this.ZA.eu(this.tP)},n}(rg),VE=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n}(UE);var WE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).oy=0,n.ay=1/0,n.Ad=void 0,n}vt(n,t);var i=n.prototype;return i.fl=function(){0===this.oy&&this.ay===1/0||(this.oy=0,this.ay=1/0,this.Yr(new ME))},i.nP=function(){return new zk([this.ey,this.uy],[!0,!0])},ft(n,[{key:"ey",get:function(){return this.oy},set:function(t){if(this.uy<=t)throw new f("Start time of a clip should be smaller than the end time.");this.oy!==t&&(this.oy=t,this.Yr(new ME))}},{key:"uy",get:function(){return this.ay},set:function(t){if(t<=this.ey)throw new f("End time of a clip should be larger than the start time.");this.ay!==t&&(this.ay=t,this.Yr(new ME))}},{key:"Pd",get:function(){var t,n,i;return this.Ad||(this.Ad=(i={get startTime(){return t.ey},set startTime(n){t.ey=n},get endTime(){return t.uy},set endTime(n){t.uy=n},addEventListener:function(t,i){n.Kr(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new UE(t=this,i),i)),this.Ad}}]),n}(rg),HE=function(t){function n(n){var i;return(i=t.call(this)||this).iP=function(t){i.eP(t)||i.Yr(t)},i.rP=n,i.rP.Qr(i.iP),i}vt(n,t);var i=n.prototype;return i.uP=function(){return this.rP.tg},i.gg=function(){return this.rP.gg()},i.sP=function(){return this.rP.kg},i.oP=function(){return this.rP.pg},i.cP=function(){return this.rP.Tg},i.aP=function(t){this.rP.Tg=t},i.fP=function(){return this.rP.bw},i.hP=function(t){this.rP.bw=t},i.vP=function(){return this.rP.pw},i.dP=function(){return this.rP.Sg},i.lP=function(){return this.rP._w},i.wP=function(){return this.rP.fu},i.gP=function(){return this.rP.kw},i.yP=function(){return this.rP.Eg},i.mP=function(){return this.rP.Tw},i.bP=function(t){this.rP.Tw=t},i.pP=function(){return this.rP.Ag},i._P=function(){return this.rP.Sw},i.kP=function(){return this.rP.Ew},i.TP=function(t){this.rP.Ew=t},i.SP=function(){return this.rP.Pg},i.EP=function(){return this.rP.xg},i.RP=function(t){this.rP.xg=t},i.IP=function(){return this.rP.Ml},i.DP=function(){return this.rP.Lg},i.CP=function(){return this.rP.Rw},i.ug=function(){return this.rP.ug()},i.sg=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return gu(n),i.next=3,lr.awrap(this.rP.sg(t,n));case 3:case"end":return i.stop()}},null,this,null,j)},i.NP=function(){return this.rP.ig},i.OP=function(){return this.rP.Iw},i.AP=function(){return this.rP.ng},i.PP=function(){return this.rP.Dw},i.xP=function(){return this.rP.Cw},i.LP=function(t){this.rP.Cw=t},i.wg=function(){return this.rP.wg()},i.lg=function(){return this.rP.lg()},i.fg=function(t){this.rP.fg(t)},i.hg=function(){this.rP.hg()},i.dg=function(){this.rP.dg()},i.st=function(){this.rP.st()},i.K=function(){this.rP.K()},i.Y=function(){this.rP.Y()},i.vg=function(){this.rP.vg()},i.rg=function(){return this.rP.rg()},i.og=function(){return this.rP.og()},i.cg=function(){this.rP.cg()},i.ag=function(){this.rP.ag()},i.fl=function(){return this.rP.fl()},i.et=function(){return this.rP.et()},i._g=function(){this.rP._g()},i.yg=function(t){return this.rP.yg(t)},i.eP=function(t){return!1},ft(n,[{key:"tg",get:function(){return this.uP()}},{key:"kg",get:function(){return this.sP()}},{key:"Tg",get:function(){return this.cP()},set:function(t){this.aP(t)}},{key:"pg",get:function(){return this.oP()}},{key:"bw",get:function(){return this.fP()},set:function(t){this.hP(t)}},{key:"pw",get:function(){return this.vP()}},{key:"Sg",get:function(){return this.dP()}},{key:"_w",get:function(){return this.lP()}},{key:"fu",get:function(){return this.wP()}},{key:"kw",get:function(){return this.gP()}},{key:"eg",get:function(){return this.rP.eg}},{key:"Eg",get:function(){return this.yP()}},{key:"Hw",get:function(){return this.rP.Hw}},{key:"Tw",get:function(){return this.mP()},set:function(t){this.bP(t)}},{key:"Ag",get:function(){return this.pP()}},{key:"Sw",get:function(){return this._P()}},{key:"Ew",get:function(){return this.kP()},set:function(t){this.TP(t)}},{key:"Pg",get:function(){return this.SP()}},{key:"xg",get:function(){return this.EP()},set:function(t){this.RP(t)}},{key:"Ml",get:function(){return this.IP()}},{key:"Lg",get:function(){return this.DP()}},{key:"Rw",get:function(){return this.CP()}},{key:"ig",get:function(){return this.NP()}},{key:"Iw",get:function(){return this.OP()}},{key:"ng",get:function(){return this.AP()}},{key:"Dw",get:function(){return this.PP()}},{key:"Cw",get:function(){return this.xP()},set:function(t){this.LP(t)}},{key:"Bg",get:function(){return this.rP.Bg}},{key:"Mg",get:function(){return this.rP.Mg},set:function(t){this.rP.Mg=t}}]),n}(ug),qE=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).BP=void 0,r.MP=!1,r.FP=void 0,r.UP=!1,r.VP=function(){r.WP(),r.HP()},r.vR=function(){r.qP(),r.HP(),r.zP&&r.bw>=r.BP.uy-n.jP&&!r._w&&(r.FP=JS(r.vR))},r.$P=function(){r.UP=!0},r.XP=function(){r.UP&&(r.UP=!1,r.HP())},r.BP=e,r.BP.Kr("Xd",r.VP),r.rP.Kr("timeupdate",r.vR),r}vt(n,t);var i=n.prototype;return i.hP=function(n){var i=this.BP.nP().UI(n);t.prototype.hP.call(this,i),this.HP()},i.lP=function(){return t.prototype.lP.call(this)||this.MP},i.DP=function(){return zk.aD(t.prototype.DP.call(this)).HI(this.BP.nP()).$R()},i.Y=function(){this.lP()?this.hP(this.GP.start(0)):this.WP(),t.prototype.Y.call(this),this.HP()},i.sg=function(n,i){return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return gu(i),this.MP=!1,this.BP.fl(),e.next=5,lr.awrap(t.prototype.sg.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,j)},i.et=function(){return this.BP.tu("Xd",this.VP),this.rP.tu("timeupdate",this.vR),this.qP(),t.prototype.et.call(this)},i.eP=function(n){switch(n.type){case"seeking":return this.Yr(n),this.$P(),!0;case"seeked":case"emptied":return this.Yr(n),this.XP(),!0;case"ended":if(this.zP)return!0}return t.prototype.eP.call(this,n)},i.qP=function(){this.FP&&(QS(this.FP),this.FP=void 0)},i.HP=function(){var t=this.bw,i=this.zP&&t>=this.BP.uy-n.Mm;this.MP&&!i?(this.MP=!1,this.Sw&&this.Y()):this.MP||!i||this.Rw||this.UP||(this.MP=!0,this.Yr(new Vg(t)),this.K())},i.WP=function(){if(this.pw!==1/0){var t=this.GP,i=zk.aD(t).UI(this.bw);Tn(this.bw,i,n.Mm)||this.hP(i)}},ft(n,[{key:"GP",get:function(){return this.DP().length?this.DP():this.BP.nP().$R()}},{key:"zP",get:function(){return this.BP.uy<this.pw}}]),n}(HE);qE.jP=1,qE.Mm=.001;var zE=function(){function t(){this.YP=void 0,this.YP=!1}return ft(t,[{key:"KP",get:function(){return this.YP},set:function(t){this.YP=t}}]),t}(),jE=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).YP=void 0,e.JP=!1,e.QP=!1,e.YP=i,e}vt(n,t);var i=n.prototype;return i.lP=function(){return!this.YP.KP&&t.prototype.lP.call(this)},i.K=function(){this.QP=!0,t.prototype.K.call(this)},i.Y=function(){this.QP=!1,t.prototype.Y.call(this)},i.eP=function(n){if(this.YP.KP)switch(n.type){case"ended":return this.bw=0,this.QP||(this.Rw?this.JP=!0:this.Y()),!0;case"seeked":this.JP&&(this.JP=!1,this.Y());break;case"pause":if(this.JP||t.prototype.lP.call(this))return!0}return t.prototype.eP.call(this,n)},n}(HE);var $E=function(){function t(t){var n;this.Ad=(n=this,{get currentBandwidthEstimate(){return n.Cg},get corruptedVideoFrames(){return n.Ig},get droppedVideoFrames(){return n.Rg},get totalBytesLoaded(){return n.Ng},get bufferedSegments(){return n.Og}}),this.mI=t}return ft(t,[{key:"Pd",get:function(){return this.Ad}},{key:"Ig",get:function(){return this.mI.ZP.Hw.Ig}},{key:"Cg",get:function(){return this.mI.ZP.Hw.Cg}},{key:"Rg",get:function(){return this.mI.ZP.Hw.Rg}},{key:"tx",get:function(){throw new f("Not implemented")}},{key:"nx",get:function(){throw new f("Not implemented")}},{key:"Ng",get:function(){return this.mI.ZP.Hw.Ng}},{key:"Dg",get:function(){return this.mI.ZP.Hw.Dg}},{key:"Og",get:function(){return this.mI.ZP.Hw.Og}}]),t}(),XE=function(t){function n(){return t.call(this,"ix")||this}return vt(n,t),n.prototype.xd=function(){return new GE},n}(mw),GE=function(t){function n(){return t.call(this,"castingchange")||this}return vt(n,t),n}(Ou);var YE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ex=[],n.Ad=void 0,n.ux=function(){return n.Yr(new XE)},n}vt(n,t);var i=n.prototype;return i.sx=function(t){this.ex.push(t),t.Kr("statechange",this.ux)},i.et=function(){var t=this;this.ex.forEach(function(n){n.tu("statechange",t.ux)}),hu(this.ex)},ft(n,[{key:"ox",get:function(){return this.ex.some(function(t){return t.ox})}},{key:"Pd",get:function(){var t,n,i;return this.Ad||(this.Ad=(i={get casting(){return t.ox},addEventListener:function(t,i){n.Kr(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new VE(t=this,i),i)),this.Ad}}]),n}(ug),KE=function(){function t(){}return t.ax=function(t,n){var i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,i=new Cd({jh:t,Vh:Zc.ri,av:Sd.GET}),u.next=4,lr.awrap(n.qh(i));case 4:return e=u.sent,u.next=7,lr.awrap(e.Pi());case 7:return r=u.sent,u.abrupt("return",r.trim());case 11:return u.prev=11,u.t0=u.catch(0),wu(u.t0),u.abrupt("return",void 0);case 15:case"end":return u.stop()}},null,null,[[0,11]],j)},t.hx=function(t){try{var i=aS(t);return new wS(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Ac(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.vx=function(t){void 0===t&&(t=CS.vb),st.Ie("The baked-in license is used. Please update the configuration with your license.");var n=t.JC(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.JC(n)}),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.JC(n)}),r=Number(new Date(Number(t.JC("COD|aHpHa:p3Ceo3Co\"\""))));return new wS(n,i,e,r)},t.convertLicenseToDummyLicense=function(t){return new wS(t.uN,t.sN,t.oN,864e13,t.aN,Date.now(),t.hN,t.vN)},t}(),JE=function(){function t(){}return t.fa=function(){return t.Zn||(t.Zn=QE.Sc()?new QE:new Xc),t.Zn},t._u=function(n){t.fa()._u(n)},t.ca=function(){t.fa().ca()},t.mu=function(n){return t.fa().mu(n)},t.aa=function(n,i){t.fa().aa(n,i)},t.lx=function(n){var i=t.mu(n);if(void 0!==i)return w(i)},t.wx=function(n){return"true"===t.mu(n)},t}();JE.Zn=void 0;var QE=function(n){function i(){return n.apply(this,arguments)||this}vt(i,n),i.Sc=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e._u=function(n){t.localStorage.removeItem(n)},e.ca=function(){t.localStorage.clear()},e.mu=function(n){return t.localStorage[n]},e.aa=function(n,i){t.localStorage[n]=i},i}(JE),ZE=d.floor(14399999*d.random()-72e5),tR=function(){function t(t,n,i,e,r,u){this.wN=void 0,this._T=t,this.gx=n,this.yx=i,this.JN=e,this.mx=r,this.Rs=u,this.wN=kS(u)}var i=t.prototype;return i.bx=function(){var t;return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(this._x(this.mx.license,this.mx.licenseUrl));case 2:t=n.sent,this.JN.kx(t);case 4:case"end":return n.stop()}},null,this,null,j)},i._x=function(t,i){var e,r,u,s,o,c,a,f,h;return lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=KE.hx(t):e||(r=KE.vx()),e||(e="https://validate.theoplayer.com/1/"+r.uN),u=this.Tx(),!r){v.next=14;break}if((s=this.gx._N(r))!==hS.iN){v.next=14;break}if(!this.Sx(r.cN)||!this.Sx(null==u?void 0:u.cN)){v.next=13;break}return v.next=10,lr.awrap(this.Ex(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!u){v.next=25;break}if(this.gx._N(u)!==hS.iN){v.next=24;break}if(!this.Sx(null==u?void 0:u.cN)){v.next=23;break}return v.next=20,lr.awrap(this.Ex(e));case 20:if(!(c=v.sent)){v.next=23;break}return v.abrupt("return",c);case 23:return v.abrupt("return",u);case 24:JE._u("THEOplayer.license");case 25:return v.next=27,lr.awrap(KE.ax(e,this._T));case 27:if(!(a=v.sent)){v.next=37;break}if(f=KE.hx(a),this.gx._N(f)!==hS.iN){v.next=34;break}return JE.aa("THEOplayer.license",a),v.abrupt("return",f);case 34:JE._u("THEOplayer.license"),v.next=39;break;case 37:if(this.wN||!r||s!==hS.eN||e!=="https://validate.theoplayer.com/1/"+r.uN){v.next=39;break}return v.abrupt("return",KE.convertLicenseToDummyLicense(r));case 39:if(!r&&!f){v.next=43;break}this.Rx(null!=(h=r)?h:f,new Ac(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new Ac(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,j)},i.mN=function(t){var n,i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,lr.awrap(this.JN.eO());case 2:if(n=c.sent,!this.Sx(n.cN)){c.next=9;break}return e=null!=(i=this.mx.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.uN,c.next=7,lr.awrap(this.Ex(e));case 7:(r=c.sent)&&(this.JN.kx(r),n=r);case 9:if(c.prev=9,(u=this.gx._N(n))!==hS.rN){c.next=16;break}throw s=lS.dN,new Ac(yS(s),SS.pN(s));case 16:if(u!==hS.eN){c.next=19;break}throw o=lS.eN,new Ac(yS(o),SS.pN(o));case 19:this.gx.mN(t,n),c.next=25;break;case 22:c.prev=22,c.t0=c.catch(9),this.Ix(c.t0);case 25:case"end":return c.stop()}},null,this,[[9,22]],j)},i.Ex=function(t){var n,i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lr.awrap(KE.ax(t,this._T));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=KE.hx(n),this.gx._N(i)!==hS.iN){e.next=11;break}return JE.aa("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],j)},i.Sx=function(t){return!t||Number(new Date)+2592e5+ZE>=t},i.Tx=function(){var t=JE.mu("THEOplayer.license");if(t)return KE.hx(t)},i.Rx=function(t,n){this.JN.kx(t),this.Ix(n)},i.Ix=function(t){throw Xt(t.message),this.yx.sO(t.message),t},t}(),nR=function(){function t(){this.Dx=void 0,this.Cx=new Vs}var n=t.prototype;return n.kx=function(t){this.Dx=t,this.Cx.xu()},n.eO=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Dx){t.next=2;break}return t.abrupt("return",j.resolve(this.Dx));case 2:return t.next=4,lr.awrap(this.Cx.Ou);case 4:return t.abrupt("return",this.Dx);case 5:case"end":return t.stop()}},null,this,null,j)},ft(t,[{key:"Nx",get:function(){return this.Dx}}]),t}(),iR=function(t){function n(){return t.call(this,"Xd")||this}return vt(n,t),n.prototype.xd=function(){return new eR},n}(mw),eR=function(t){function n(){return t.call(this,"change")||this}return vt(n,t),n}(Ou);function rR(t){var n,i={get fontFamily(){return t.Ox},set fontFamily(n){t.Ox=n},get fontColor(){return t.Ax},set fontColor(n){t.Ax=n},get fontSize(){return t.Px},set fontSize(n){t.Px=n},get backgroundColor(){return t.xx},set backgroundColor(n){t.xx=n},get windowColor(){return t.Lx},set windowColor(n){t.Lx=n},get edgeStyle(){return t.Bx},set edgeStyle(n){t.Bx=n},addEventListener:function(t,i){var e=Hw(t,Vw);n.Kr(e,i)},removeEventListener:function(t,i){var e=Hw(t,Vw);n.tu(e,i)}};return n=new Nu(i),t.Kr(["Xd"],function(t){return n.Yr(t.Pd)}),i}var uR,sR,oR={Ox:void 0,Ax:void 0,Px:void 0,xx:void 0,Lx:void 0,Bx:void 0,Mx:void 0},cR="THEOplayer.textTrackStyle.",aR=function(t){function n(){var i;return(i=t.call(this)||this).Fx=void 0,i.Ad=void 0,i.Fx=n.Ux(),i}return vt(n,t),n.prototype.sc=function(t){this.Fx=wr({},this.Fx,t),n.Vx(this.Fx),this.Yr(new iR)},n.Ux=function(){var t=wr({},oR);return t.Ox=JE.mu(cR+"fontFamily")||t.Ox,t.Ax=JE.mu(cR+"fontColor")||t.Ax,t.Px=JE.mu(cR+"fontSize")||t.Px,t.xx=JE.mu(cR+"backgroundColor")||t.xx,t.Lx=JE.mu(cR+"windowColor")||t.Lx,t.Bx=JE.mu(cR+"edgeStyle")||t.Bx,t},n.Vx=function(t){JE.aa(cR+"fontFamily",t.Ox||""),JE.aa(cR+"fontColor",t.Ax||""),JE.aa(cR+"fontSize",t.Px||""),JE.aa(cR+"backgroundColor",t.xx||""),JE.aa(cR+"windowColor",t.Lx||""),JE.aa(cR+"edgeStyle",t.Bx||"")},ft(n,[{key:"Wx",get:function(){return this.Fx}},{key:"Ox",get:function(){return this.Fx.Ox},set:function(t){this.sc({Ox:t})}},{key:"Ax",get:function(){return this.Fx.Ax},set:function(t){this.sc({Ax:t})}},{key:"Px",get:function(){return this.Fx.Px},set:function(t){this.sc({Px:t})}},{key:"xx",get:function(){return this.Fx.xx},set:function(t){this.sc({xx:t})}},{key:"Lx",get:function(){return this.Fx.Lx},set:function(t){this.sc({Lx:t})}},{key:"Bx",get:function(){return this.Fx.Bx},set:function(t){this.sc({Bx:t})}},{key:"Mx",get:function(){return this.Fx.Mx}},{key:"Pd",get:function(){return this.Ad||(this.Ad=rR(this)),this.Ad}}]),n}(Cu),fR=function(t){function n(n,i){var e;(e=t.call(this)||this).Hx=void 0,e.lc=void 0,e.ZP=void 0,e.qx=void 0,e.Id=void 0,e.BP=void 0,e.YP=void 0,e.zx=void 0,e.jx=void 0,e.ED=void 0,e.gx=void 0,e.$x=void 0,e.Xx=void 0,e.SD=void 0,e.Gx=!1,e.Xw=!1,e.qg=void 0,e.Yx=!1,e.Kx=void 0,e.Jx=void 0,e.Qx=void 0,e.Zx=void 0,e.tL=void 0,e.nL=function(t){if(!e.Yx){e.Yx=!0;var n=e.Hx,i=by(t);e.ZP.ml=new Kk(e.Sg,i,t),Tu(n.et())}},e.iL=function(t){e.Yr(t.Pd)},e.eL=function(t){t.type!==Qc.Da&&t.type!==Qc.Ia&&e.Yr(t)};var r=Fw(i.uid);g(r)?e.qg=Iy++:e.qg=r,e.lc=i;var u=st.Id,s=new nR;e.qx=new VS("4.1.0",u,s),e.Id=new SE(u,i.allowMixedContent),e.ED=new BE,e.gx=new gS(i.isEmbeddable,"4.1.0",fS()),e.tL=new tR(u,e.gx,e.qx,s,i,fS()),e.tL.bx().catch(e.nL),e.$x=new sE(n),e.$x.Kr("lO",e.iL),e.SD=new aR,e.BP=new WE,e.YP=new zE;var o=new Yk(n,i,e.Id,e.ED,e.$x,e.SD);e.ED.YA(o);var c=o;c=new qE(c,e.rL),c=new jE(c,e.KP),e.Hx=c,e.ZP=new wy(e.Hx),e.ZP.Qr(e.eL),e.Zx=new $E(Cn(e)),e.Jx=new RE(e.ZP,e.Id,e.ED),e.zx=new qS(Cn(e)),e.Xx=new aE(e.ZP,i.allowNativeFullscreen),e.jx=new lT(e.Xx),e.$x.yc();var a=new K(e.$x,e.SD,1,[py.ov]);return e.Kx=new J(a),e.Qx=new YE,e}vt(n,t);var i=n.prototype;return i.bP=function(t){this.ZP.Tw=t,t||this.Sw||this.st()},i.LP=function(t){this.ZP.Cw=t},i.uL=function(){Qg(this,wT,this)},i.Y=function(){this.ZP.Y()},i.K=function(){this.ZP.K()},i.sg=function(t,n){var i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.tL.mN(t).catch(this.nL),i=hR(t),e.next=5,lr.awrap(this.ZP.sg(i,n));case 5:case"end":return e.stop()}},null,this,null,j)},i.st=function(){this.Xw||(this.ZP.st(),this.Kx.st(),this.Xw=!0)},i.lD=function(){return this.jx.KD()===aT.FULLSCREEN},i.vg=function(){this.ZP.vg()},i.dg=function(){this.ZP.dg()},i.lg=function(){return this.ZP.lg()},i.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lr.awrap(this.ZP.rg());case 2:return t.next=4,lr.awrap(this.ZP.fl());case 4:case"end":return t.stop()}},null,this,null,j)},i.et=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zr(),this.Qx.et(),this.Id.et(),this.Jx.et(),this.Xx.et(),this.jx.et(),this.$x.et(),this.qx.et(),this.Kx.et(),t.next=11,lr.awrap(this.ZP.et());case 11:case"end":return t.stop()}},null,this,null,j)},ft(n,[{key:"sL",get:function(){return this.ED}},{key:"Qw",get:function(){return this.Gx},set:function(t){this.Gx=t,this.ZP.Qw=t}},{key:"oL",get:function(){return this.Kx}},{key:"tg",get:function(){return this.ZP.tg}},{key:"cL",get:function(){return this.Qx}},{key:"aL",get:function(){return this.$x}},{key:"eg",get:function(){return this.ZP.eg}},{key:"Hw",get:function(){return this.Zx}},{key:"fL",get:function(){return this.Jx}},{key:"ig",get:function(){return this.ZP.ig}},{key:"hL",get:function(){return this.SD}},{key:"ng",get:function(){return this.ZP.ng}},{key:"kg",get:function(){return this.ZP.kg}},{key:"rL",get:function(){return this.BP}},{key:"KP",get:function(){return this.YP}},{key:"bw",get:function(){return this.ZP.bw},set:function(t){this.ZP.bw=t}},{key:"Tg",get:function(){return this.ZP.Tg},set:function(t){this.ZP.Tg=t}},{key:"pg",get:function(){return this.ZP.pg}},{key:"pw",get:function(){return this.ZP.pw}},{key:"Sg",get:function(){return this.ZP.Sg}},{key:"_w",get:function(){return this.ZP._w}},{key:"fu",get:function(){return this.ZP.fu}},{key:"kw",get:function(){return this.ZP.kw}},{key:"Tw",get:function(){return this.ZP.Tw},set:function(t){var n=Boolean(t);this.bP(n)}},{key:"Sw",get:function(){return this.ZP.Sw}},{key:"Ew",get:function(){return this.ZP.Ew},set:function(t){this.ZP.Ew=t}},{key:"Pg",get:function(){return this.ZP.Pg}},{key:"xg",get:function(){return this.ZP.xg},set:function(t){this.ZP.xg=Fk(t)}},{key:"Ml",get:function(){return this.ZP.Ml}},{key:"Lg",get:function(){return this.ZP.Lg}},{key:"Rw",get:function(){return this.ZP.Rw}},{key:"Tl",get:function(){return this.qg}},{key:"Iw",get:function(){return this.ZP.Iw}},{key:"Dw",get:function(){return this.ZP.Dw}},{key:"Cw",get:function(){return this.ZP.Cw},set:function(t){var n=kn(Number(t),0,1)||0;this.LP(n)}},{key:"Bg",get:function(){return this.ZP.Bg}}]),n}(ug);function hR(t){t.sources;var n=t.sources.filter(function(t){return Dt(t.integration)});return t.sources=n,t}!function(t){t[t.vL=0]="vL",t[t.dL=1]="dL"}(uR||(uR={})),function(t){t[t.lL=0]="lL"}(sR||(sR={}));var vR={};function dR(t,n){var i=t;if(vR[n])for(var e=0,r=vR[n];e<r.length;e++){i=(0,r[e])(i)}return i}var lR=[];function wR(t){lR.push(t)}var gR=t.CustomEvent;var yR=function(){try{var t=new gR("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},mR=function(){function t(t,n){var i=this;this.mI=void 0,this.wL=void 0,this.gL=!1,this.yL=function(t){i.wL.uO(t.error,i.bw)},this.mL=function(){i.wL.iO(i.bL),i.mI.removeEventListener("playing",i.mL),i.gL=!1},this.pL=function(){i.gL||(i.mI.addEventListener("playing",i.mL),i.gL=!0)},this.wL=n,this.mI=t,this.mI.addEventListener("error",this.yL),this.mI.addEventListener("sourcechange",this.pL),this.pL()}return t.prototype.fl=function(){},ft(t,[{key:"bw",get:function(){var t=this.mI.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"bL",get:function(){return this.mI.src||""}}]),t}();wR(function(t){new mR(t.Pd,t.qx)});var bR,pR,_R="theoplayer-stored-volume",kR="theoplayer-stored-mutedstate";bR=function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=JE.lx(_R);(void 0===r||g(r))&&(r=1);var u=JE.wx(kR)||!1;e.Cw=r,e.Tw=u}return e}vt(n,t);var i=n.prototype;return i.bP=function(n){this.lc.persistVolume&&JE.aa(kR,""+Boolean(n)),t.prototype.bP.call(this,n)},i.LP=function(n){this.lc.persistVolume&&JE.aa(_R,""+Number(n)),t.prototype.LP.call(this,n)},n}(t)},pR=uR.dL,(vR[pR]||(vR[pR]=[])).push(bR);var TR=new(function(){function t(){this._L=[],this.Ad=void 0}var n=t.prototype;return n.sl=function(t){return this._L[t]},n.kL=function(t){this._L.push(t),this.Pd.push(t.Pd)},n.uc=function(t){var n=this._L.indexOf(t);n<0||(au(this._L,n),this.Ad&&au(this.Ad,n))},n.TL=function(t){for(var n=0,i=this._L;n<i.length;n++){var e=i[n];if(e.Tl===t)return e}},ft(t,[{key:"vl",get:function(){return this._L.length}},{key:"Pd",get:function(){return this.Ad||(this.Ad=function(t){for(var n=[],i=0;i<t.vl;i++)n[i]=t.sl(i).Pd;return n.getPlayerByUID=function(n){var i=t.TL(n);return i&&i.Pd},n}(this)),this.Ad}}]),t}()),SR=function(){function t(t){var n=this;this.SL=[],this.EL=void 0,this.Xf=new du,this.RL=void 0,this.IL=function(){return 0===n.SL.length?n.RL?ER(n.RL,n.Xf.zr).then(n.DL,n.DL):n.DL():n.SL.shift()().then(n.IL)},this.DL=function(){if(0!==n.SL.length)return n.IL();n.EL=void 0},this.RL=t}var n=t.prototype;return n.CL=function(t,n){var i=this;return new j(function(e){var r=new du;r.Hr(i.Xf.zr),n&&r.Hr(n);var u=function(){r.Lr()};i.SL.push(function(){var n=ER(t,r.zr);return e(n),n.then(u,u)}),i.EL||(i.EL=i.IL())})},n.Wr=function(){return this.NL(!0)},n.et=function(){return this.RL=void 0,this.NL(!1)},n.NL=function(t){var n=this.EL;return this.Xf.Wr(),t&&(this.Xf=new du),j.resolve(n)},t}();function ER(t,n){return new j(function(i){return i(t(n))})}var RR,IR=function(t){function n(n){var i;return(i=t.call(this,Qc.Ha)||this).source=n,i}return vt(n,t),n}(Ou),DR=function(t){function n(){var n;return(n=t.call(this)||this).yD=void 0,n.bD=void 0,n._D=void 0,n.pD=void 0,n.yD=0,n.bD=!0,n._D=!1,n.pD=1,n}vt(n,t);var i=n.prototype;return i.Y=function(){this.bD&&(this.bD=!1,this.Yr(new Ag(this.bw)),this.Yr(new Zb(this.bw)))},i.K=function(){this.bD||(this.bD=!0,this.Yr(new Ug(this.bw,this.Tg)),this.Yr(new Og(this.bw)))},i.fl=function(){this.yD=0,this._D=!1,this.pD=1,this.K(),this.Yr(new Ng(this.yD))},i.et=function(){this.Zr()},i.dg=function(){},i.vg=function(){},ft(n,[{key:"Tg",get:function(){},set:function(t){}},{key:"bw",get:function(){return this.yD},set:function(t){this._D&&this.yD===t||(this.yD=t,this._D=!0,this.Yr(new Hg(this.bw)))}},{key:"Sw",get:function(){return this.bD}},{key:"Ew",get:function(){return this.pD},set:function(t){this.pD!==t&&(this.pD=t,this.Yr(new Fg(this.bw,this.Ew)))}},{key:"Ml",get:function(){return lg.cw}},{key:"Rw",get:function(){return this._D}}]),n}(rg),CR=function(t){function n(){return t.call(this,Qc.ma)||this}return vt(n,t),n}(Ou),NR={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},OR={visibility:"hidden"},AR={visibility:"visible"},PR=function(){function t(t){var n,i=this;this.dI=void 0,this.mI=void 0,this.OL=!1,this.AL=void 0,this.PL=void 0,this.xL=function(t){var n;i.OL=!1,i.AL=null==(n=t.source)?void 0:n.poster,i.sc()},this.HT=function(){i.OL=!0,i.dg()},this.mI=t,this.kI(),this.dI=((n=Z&&Z.document&&Z.document.createElement("div")).className="theoplayer-poster",je(NR,n),n),t.Sg.appendChild(this.dI)}var n=t.prototype;return n.sc=function(){var t=this.mI.Sw,n=this.OL;this.jh?this.dI.style.backgroundImage='url("'+this.jh.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.dI.style.backgroundImage="",t&&this.jh&&!n?this.vg():this.dg()},n.vg=function(){je(OR,this.mI.Sg),je(AR,this.dI)},n.dg=function(){je(OR,this.dI),je(AR,this.mI.Sg)},n.kI=function(){this.mI.Kr("sourcechange",this.xL),this.mI.Kr("play",this.HT)},n.et=function(){this.mI.tu("sourcechange",this.xL),this.mI.tu("play",this.HT),ze(this.dI)},ft(t,[{key:"jh",get:function(){return void 0!==this.AL?this.AL:void 0!==this.PL?this.PL:void 0}},{key:"LL",set:function(t){this.PL=t,this.sc()}}]),t}();function xR(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this).mI=void 0,r.BL=void 0,r.ML=void 0,r.FL=void 0,r.UL=void 0,r.VL=void 0,r.WL=void 0,r.HL=void 0,r._I=void 0,r.pI=void 0,r.nR=void 0,r.DD=void 0,r.Ad=void 0,r.qL=function(t){t.type!==Qc.Aa&&r.HL.push(t)},r.BL=new t(n,e),r.ML=new DR,r.mI=r.BL,r.FL=new PR(Cn(r)),r.VL=new SR,r.WL=!1,r.HL=[],r._I=!0,r.kI(),r}vt(e,i);var r=e.prototype;return r.CL=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.VL.CL(t,n).catch(mu));case 1:case"end":return i.stop()}},null,this,null,j)},r.zL=function(t,n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return gu(n),this.BL.Qr(this.qL),i.next=4,lr.awrap(this.BL.sg(t,n));case 4:this.BL.eu(this.qL);case 5:case"end":return i.stop()}},null,this,null,j)},r.jL=function(){var t,n,i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.ug())&&!WT(t)&&this.Qw&&this.Sw){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.lc.mutedAutoplay,e.next=6,lr.awrap(this.oL.ut());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.$L(),e.abrupt("break",14);case 12:return(this.Tw||n===Pg.ALL)&&(this.Tw=!0,this.Y()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,j)},r.sg=function(t){var i=this,e=this.pI;e&&!WT(e)&&this.Yr(new Ng(0,0)),this.fl(),this.pI=t,Tu(this.CL(function(e){return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return gu(e),r.prev=1,r.next=4,lr.awrap(i.zL(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.pI=void 0,i.hR((u=r.t0,s=n.ErrorCode.SOURCE_NOT_SUPPORTED,u instanceof Ac?u:u instanceof f?new Ac(s,u.message,u):new Ac(s,String(u)))),r.abrupt("return");case 11:return r.next=13,lr.awrap(i.XL());case 13:case"end":return r.stop()}var u,s},null,null,[[1,6]],j)}))},r.XL=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.GL(this.BL),this.Yr(new IR(this.ug())),t.next=4,lr.awrap(this.jL());case 4:case"end":return t.stop()}},null,this,null,j)},r.hP=function(t){this.mI.bw=t},r.wP=function(){var t;return null!=(t=this.DD)?t:this.BL.fu},r.gP=function(){var t;return null!=(t=this.nR)?t:this.BL.kw},r.hR=function(t){void 0===this.gP()&&(this.nR=t,this.DD=by(t),this.Yr(new Gg(t)))},r.Y=function(){this.mI.Y()},r.$L=function(){this.Tw||this.st(),this.Y()},r.st=function(){this.BL.st()},r.K=function(){this.mI.K()},r.rg=function(){this.sg(void 0)},r.vg=function(){this._I=!0,this.mI.vg()},r.dg=function(){this._I=!1,this.mI.dg()},r.uL=function(){this.BL.uL()},r.LP=function(t){this.BL.LP(t)},r.bP=function(t){this.BL.bP(t)},r.YL=function(t){this.UL=t,t.kL(this)},r.lD=function(){return this.BL.lD()},r.ug=function(){return this.pI},r.lg=function(){return this.BL.lg()},r.fP=function(){return this.BL.bw},r.vP=function(){return this.BL.pw},r.sP=function(){return this.BL.kg},r.SP=function(){return this.BL.Pg},r.DP=function(){return this.BL.Lg},r.fl=function(){var t=this;this.pI=void 0,this.nR=void 0,this.DD=void 0,hu(this.HL),this.ML.fl(),this.GL(this.ML),this.VL.Wr(),Tu(this.VL.CL(function(n){return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return gu(n),i.next=3,lr.awrap(t.BL.fl());case 3:case"end":return i.stop()}},null,null,null,j)}))},r.et=function(){var t=this;this.Yr(new CR),this.FL.et(),this.TI(),this.fl(),Tu(this.CL(function(){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(t.BL.et());case 2:t.UL&&(t.UL.uc(t),t.UL=void 0),t.VL.et();case 4:case"end":return n.stop()}},null,null,null,j)})),this.Zr()},r.GL=function(t){if(this.mI!==t){var n=this.mI.Sw,i=this.mI.bw,e=this.mI.Ew,r=this.mI.Rw;this.TI(),t===this.BL?((r||t.bw!==i)&&(t.bw=i),t.Ew!==e&&(t.Ew=e),n?t.K():t.Y()):this.lc.retainPlaybackRateOnSourceChange?t.Ew=e:1!==e&&this.Yr(new Fg(this.fP(),1)),this.mI=t,this.kI();for(var u=0,s=this.HL;u<s.length;u++){var o=s[u];this.Yr(o)}hu(this.HL),this._I?t.vg():t.dg()}},r.kI=function(){this.mI.Qr(this.Gr)},r.TI=function(){this.mI.eu(this.Gr)},r.xd=function(){return t=this,e=function(n){i=n;var e=QT(n,t.lc);t.sg(e)},r={get abr(){return t.sL.Pd},get audioTracks(){return t.tg.Pd},get autoplay(){return t.Qw},set autoplay(n){t.Qw=Boolean(n)},get buffered(){return t.sP()},get canvas(){return t.zx.Pd},get clip(){return t.rL.Pd},get currentProgramDateTime(){var n;return null!=(n=t.Tg)?n:null},set currentProgramDateTime(n){t.Tg=null!=n?n:void 0},get currentTime(){return t.fP()},set currentTime(n){t.hP(Number(n))},get duration(){return t.vP()},get element(){return t.Sg},get ended(){return t._w},get error(){return t.wP()},get errorObject(){return t.gP()},get loop(){return t.KP.KP},set loop(n){t.KP.KP=Boolean(n)},get metrics(){return t.Hw.Pd},get muted(){return t.Tw},set muted(n){t.bP(n)},get network(){return t.fL.Pd},get paused(){return t.Sw},get playbackRate(){return t.Ew},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Ew=i},get played(){return t.SP()},get poster(){return t.KL},set poster(n){t.KL=Vw(n)},get preload(){return t.xg},set preload(n){t.xg=n},get presentation(){return t.jx.Pd},get readyState(){return t.Ml},get seekable(){return t.DP()},get seeking(){return t.Rw},get source(){return i},set source(t){e(t)},get src(){return HT(t.ug())},set src(t){e({sources:t})},get textTracks(){return t.ig.Pd},get textTrackStyle(){return t.hL.Pd},get uid(){return t.Tl},get videoHeight(){return t.Iw},get videoTracks(){return t.ng.Pd},get videoWidth(){return t.Dw},get volume(){return t.Cw},set volume(n){t.LP(Number(n))},get latency(){return t.Bg.Pd},destroy:function(){t.et(),t=null,i=void 0},play:function(){t.$L()},pause:function(){t.K()},stop:function(){i=void 0,t.rg()},prepareWithUserAction:function(){t.st()},addEventListener:function(t,i){n.Kr(t,i)},removeEventListener:function(t,i){n.tu(t,i)},setSource:function(t){e(t)}},(n=new vT(r,!0)).BD(t),r;var t,n,i,e,r},ft(e,[{key:"qx",get:function(){return this.BL.qx}},{key:"zx",get:function(){return this.BL.zx}},{key:"lc",get:function(){return this.BL.lc}},{key:"Hx",get:function(){return this.BL.Hx}},{key:"Id",get:function(){return this.BL.Id}},{key:"UR",get:function(){return this.BL.Xx}},{key:"jx",get:function(){return this.BL.jx}},{key:"$x",get:function(){return this.BL.$x}},{key:"ZP",get:function(){return this.BL.ZP}},{key:"sL",get:function(){return this.BL.sL}},{key:"Qw",get:function(){return this.BL.Qw},set:function(t){this.BL.Qw=t,this.jL()}},{key:"oL",get:function(){return this.BL.oL}},{key:"tg",get:function(){return this.BL.tg}},{key:"cL",get:function(){return this.BL.cL}},{key:"aL",get:function(){return this.BL.$x}},{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}},{key:"eg",get:function(){return this.BL.eg}},{key:"Hw",get:function(){return this.BL.Hw}},{key:"fL",get:function(){return this.BL.fL}},{key:"ig",get:function(){return this.BL.ig}},{key:"hL",get:function(){return this.BL.hL}},{key:"ng",get:function(){return this.BL.ng}},{key:"rL",get:function(){return this.BL.rL}},{key:"KP",get:function(){return this.BL.KP}},{key:"Tg",get:function(){return this.mI.Tg},set:function(t){this.mI.Tg=t}},{key:"pg",get:function(){return this.BL.pg}},{key:"Sg",get:function(){return this.BL.Sg}},{key:"_w",get:function(){return this.BL._w}},{key:"Tw",get:function(){return this.BL.Tw},set:function(t){this.BL.Tw=t}},{key:"Sw",get:function(){return this.mI.Sw}},{key:"KL",get:function(){return this.FL.jh||""},set:function(t){this.FL.LL=t}},{key:"Ew",get:function(){return this.BL.Ew},set:function(t){this.mI.Ew=t}},{key:"xg",get:function(){return this.BL.xg},set:function(t){this.BL.xg=Fk(t)}},{key:"Ml",get:function(){return this.mI.Ml}},{key:"Rw",get:function(){return this.mI.Rw}},{key:"Tl",get:function(){return this.BL.Tl}},{key:"Iw",get:function(){return this.BL.Iw}},{key:"Dw",get:function(){return this.BL.Dw}},{key:"Cw",get:function(){return this.BL.Cw},set:function(t){this.BL.Cw=t}},{key:"Bg",get:function(){return this.BL.Bg}}]),e}(ug)}ku(function(){t.dispatchEvent&&t.dispatchEvent(yR("theoplayerready"))});var LR={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Xu(t)},n.decode=function(t){return ju(t)},t}())},BR=TR.Pd,MR=Cp.xS.registerContentProtectionIntegration.bind(Cp.xS),FR=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},UR=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),VR={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?e.splice(s,1/0,r):e.push(r),~i.indexOf(u)&&(u=n.call(this,r,u))}else i.push(u);return null==t?u:t.call(this,r,u)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(VR,VR.exports);var WR=VR.exports;function HR(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function qR(t){return JSON.stringify(t,VR.exports.getSerialize(HR))}var zR={},jR={};!function(t){v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=u,t.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(jR);var $R={};!function(t){v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=u,t.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}($R);var XR={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}v.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(XR),v.defineProperty(zR,"__esModule",{value:!0});var GR=jR.isS,YR=jR.isChar,KR=jR.isNameStartChar,JR=jR.isNameChar,QR=jR.S_LIST,ZR=jR.NAME_RE,tI=$R.isChar,nI=XR.isNCNameStartChar,iI=XR.isNCNameChar,eI=XR.NC_NAME_RE;const rI="http://www.w3.org/XML/1998/namespace",uI="http://www.w3.org/2000/xmlns/",sI={__proto__:null,xml:rI,xmlns:uI},oI={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},cI=-1,aI=-2,fI=0,hI=1,vI=2,dI=3,lI=4,wI=5,gI=6,yI=7,mI=8,bI=9,pI=10,_I=11,kI=12,TI=13,SI=14,EI=15,RI=16,II=17,DI=18,CI=19,NI=20,OI=21,AI=22,PI=23,xI=24,LI=25,BI=26,MI=27,FI=28,UI=29,VI=30,WI=31,HI=32,qI=33,zI=34,jI=35,$I=36,XI=37,GI=38,YI=39,KI=40,JI=41,QI=42,ZI=43,tD=44,nD=9,iD=10,eD=13,rD=32,uD=33,sD=38,oD=45,cD=47,aD=59,fD=60,hD=61,vD=62,dD=63,lD=91,wD=93,gD=133,yD=8232,mD=t=>34===t||39===t,bD=[34,39],pD=[...bD,lD,vD],_D=[...bD,fD,wD],kD=[hD,dD,...QR],TD=[...QR,vD,sD,fD];function SD(t,n,i){switch(n){case"xml":i!==rI&&t.fail(`xml prefix must be bound to ${rI}.`);break;case"xmlns":i!==uI&&t.fail(`xmlns prefix must be bound to ${uI}.`)}switch(i){case uI:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${uI}.`);break;case rI:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const ED=t=>eI.test(t),RD=t=>ZR.test(t),ID=0,DD=1,CD=2;zR.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const ND={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var OD=zR.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=nI,this.nameCheck=iI,this.isName=ED,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=v.assign({__proto__:null},sI);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of v.keys(n))SD(t,i,n[i])}(this,t),v.assign(this.ns,t))}else this.nameStartCheck=KR,this.nameCheck=JR,this.isName=RD,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.$u}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=ID,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?TI:fI,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new f("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.$u=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=v.create(oI),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[ND[t]]=n}off(t){this[ND[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new f(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===eD||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return cI;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=rD||i===nD)return i;switch(i){case iD:return this.line++,this.column=0,this.positionAtNewLine=this.position,iD;case eD:return t.charCodeAt(n+1)===iD&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,aI;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return cI;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==yD||i===nD)return i;switch(i){case iD:return this.line++,this.column=0,this.positionAtNewLine=this.position,iD;case eD:{const i=t.charCodeAt(n+1);i!==iD&&i!==gD||(this.i=n+2)}case gD:case yD:return this.line++,this.column=0,this.positionAtNewLine=this.position,aI;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===aI?iD:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===aI,u=r?iD:e;if(u===cI||t.includes(u))return this.text+=i.slice(n,this.prevI),u;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case aI:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=iD;break;case cI:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===cI)return this.name+=t.slice(n),cI;if(!JR(i))return this.name+=t.slice(n,this.prevI),i===aI?iD:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===cI||!GR(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=YR,this.getCode=this.getCode10):(this.isChar=tI,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=hI}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case fD:if(this.state=EI,0!==this.text.length)throw new f("no-empty text at start");break;case cI:break;default:this.unget(),this.state=TI,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(pD);switch(n){case vD:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=TI,this.doctype=!0;break;case cI:break;default:this.text+=String.fromCodePoint(n),n===lD?this.state=lI:mD(n)&&(this.state=dI,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=vI)}sDTD(){const t=this.captureTo(_D);t!==cI&&(this.text+=String.fromCodePoint(t),t===wD?this.state=vI:t===fD?this.state=gI:mD(t)&&(this.state=wI,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=lI,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case uD:this.state=yI,this.openWakaBang="";break;case dD:this.state=_I;break;default:this.state=lI}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?mI:lI,this.openWakaBang="")}sDTDComment(){this.captureToChar(oD)&&(this.text+="-",this.state=bI)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===oD?pI:mI}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===vD?this.state=lI:(this.fail("malformed comment."),this.state=mI)}sDTDPI(){this.captureToChar(dD)&&(this.text+="?",this.state=kI)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===vD&&(this.state=lI)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case aI:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case aD:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===TI&&void 0===this.textHandler||(this.text+=r);break t}case cI:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(KR(t))this.state=zI,this.unget(),this.xmlDeclPossible=!1;else switch(t){case cD:this.state=ZI,this.xmlDeclPossible=!1;break;case uD:this.state=RI,this.openWakaBang="",this.xmlDeclPossible=!1;break;case dD:this.state=PI;break;default:this.fail("disallowed character in tag name"),this.state=TI,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=NI,this.openWakaBang="";break;case"--":this.state=II,this.openWakaBang="";break;case"DOCTYPE":this.state=vI,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(oD)&&(this.state=DI)}sCommentEnding(){var t;const n=this.getCodeNorm();n===oD?(this.state=CI,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=II)}sCommentEnded(){const t=this.getCodeNorm();t!==vD?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=II):this.state=TI}sCData(){this.captureToChar(wD)&&(this.state=OI)}sCDataEnding(){const t=this.getCodeNorm();t===wD?this.state=AI:(this.text+=`]${String.fromCodePoint(t)}`,this.state=NI)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case vD:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=TI;break;case wD:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=NI}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=xI):t===dD||GR(t)?(this.fail("processing instruction without a target."),this.state=t===dD?BI:LI):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=xI)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===cI)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===dD;e||GR(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?qI:MI):this.state=e?BI:LI:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===dD?this.state=BI:GR(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(dD)&&(this.state=BI)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===vD){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=TI}else n===dD?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=LI);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==dD?t!==cI&&(this.state=FI,this.name=String.fromCodePoint(t)):this.state=qI}sXMLDeclName(){const t=this.captureTo(kD);if(t===dD)return this.state=qI,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(GR(t)||t===hD){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===hD?VI:UI}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===dD)return this.state=qI,void this.fail("XML declaration is incomplete.");GR(t)||(t!==hD&&this.fail("value required."),this.state=VI)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===dD)return this.state=qI,void this.fail("XML declaration is incomplete.");GR(t)||(mD(t)?this.q=t:(this.fail("value must be quoted."),this.q=rD),this.state=WI)}sXMLDeclValue(){const t=this.captureTo([this.q,dD]);if(t===dD)return this.state=qI,this.text="",void this.fail("XML declaration is incomplete.");if(t===cI)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=HI}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==dD?(GR(t)||(this.fail("whitespace required."),this.unget()),this.state=MI):this.state=qI}sXMLDeclEnding(){var t;this.getCodeNorm()===vD?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=TI):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===cI)return;const i=this.tag={name:this.name,attributes:v.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=v.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case vD:this.openTag();break;case cD:this.state=jI;break;default:GR(n)||this.fail("disallowed character in tag name."),this.state=$I}}sOpenTagSlash(){this.getCode()===vD?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=$I)}sAttrib(){const t=this.skipSpaces();t!==cI&&(KR(t)?(this.unget(),this.state=XI):t===vD?this.openTag():t===cD?this.state=jI:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===hD?this.state=YI:GR(t)?this.state=GI:t===vD?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==cI&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case cI:return;case hD:this.state=YI;break;default:this.fail("attribute without value."),this.text="",this.name="",t===vD?this.openTag():KR(t)?(this.unget(),this.state=XI):(this.fail("disallowed character in attribute name."),this.state=$I)}}sAttribValue(){const t=this.getCodeNorm();mD(t)?(this.q=t,this.state=KI):GR(t)||(this.fail("unquoted attribute value."),this.state=QI,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=JI);case sD:return this.text+=n.slice(i,this.prevI),this.state=SI,void(this.entityReturnState=KI);case iD:case aI:case nD:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case fD:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case cI:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();GR(t)?this.state=$I:t===vD?this.openTag():t===cD?this.state=jI:KR(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=XI):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(TD);switch(t){case sD:this.state=SI,this.entityReturnState=QI;break;case fD:this.fail("disallowed character.");break;case cI:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===vD?this.openTag():this.state=$I}}sCloseTag(){const t=this.captureNameChars();t===vD?this.closeTag():GR(t)?this.state=tD:t!==cI&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case vD:this.closeTag();break;case cI:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case fD:if(this.state=EI,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=ID;break t;case sD:this.state=SI,this.entityReturnState=TI,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=ID;break t;case wD:switch(n){case ID:n=DD;break;case DD:n=CD;break;case CD:break;default:throw new f("impossible state")}break;case vD:n===CD&&this.fail('the string "]]>" is disallowed in char data.'),n=ID;break;case aI:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=ID;break;case cI:void 0!==e&&(this.text+=i.slice(t));break t;default:n=ID}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case fD:if(this.state=EI,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case sD:this.state=SI,this.entityReturnState=TI,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case aI:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case cI:void 0!==i&&(this.text+=n.slice(t));break t;default:GR(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),u={name:t,prefix:e,local:r,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,SD(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,SD(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==fI&&this.state!==TI&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.$u=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let s,o;""===i?(s="xmlns"===n?uI:"",o=n):(void 0===(s=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),s=i),o=`{${s}}${u}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=s,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=TI,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=TI,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=TI,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=l(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=l(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},AD=function(){function t(){}return t.prototype.oi=function(t){var n=new OD({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new UD,e=[i];function r(t){e[e.length-1].ki(t)}return n.on("text",function(t){e.length>1&&r(new MD(t))}),n.on("cdata",function(t){r(new FD(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,s=new LD({hi:n,di:""===i?void 0:i,JL:""===u?void 0:u}),o=t.attributes,c=0,a=v.keys(o);c<a.length;c++){var f=o[a[c]],h=f.prefix,d=f.local,l=f.uri,w=f.value,g=new PD({hi:d,wi:w,di:""===l?void 0:l,JL:""===h?void 0:h});s.QL(g)}r(s),e.push(s)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new An(t)}),n.write(t).close(),i},t}(),PD=function(){function t(t){this.ZL=void 0,this.tB=void 0,this.nB=void 0,this.g=void 0,this.ZL=t.hi,this.g=t.wi,this.tB=t.di,this.nB=t.JL}var n=t.prototype;return n.ai=function(t){return this===t||!!WD(this,t)&&(this.ZL===t.ZL&&this.tB===t.tB&&this.nB===t.nB&&this.g===t.g)},n.fi=function(){return new t({hi:this.hi,wi:this.wi,di:this.di,JL:this.li})},ft(t,[{key:"ni",get:function(){return In.ei}},{key:"hi",get:function(){return this.ZL}},{key:"vi",get:function(){return void 0===this.nB?this.ZL:this.nB+":"+this.ZL}},{key:"di",get:function(){return this.tB}},{key:"li",get:function(){return this.nB}},{key:"wi",get:function(){return this.g}}]),t}(),xD=function(){function t(){this.yi=[]}var n=t.prototype;return n.mi=function(t){return this.yi.filter(function(n){return VD(n)&&n.pi===t})},n._i=function(t,n){return this.yi.filter(function(i){return VD(i)&&i.hi===n&&i.di===t})},n.ki=function(t){this.yi.push(t)},ft(t,[{key:"bi",get:function(){return this.yi}},{key:"Si",get:function(){return this.yi.filter(VD)}}]),t}(),LD=function(t){function n(n){var i;return(i=t.call(this)||this).ZL=void 0,i.tB=void 0,i.nB=void 0,i.iB=[],i.ZL=n.hi,i.tB=n.di,i.nB=n.JL,i}vt(n,t);var i=n.prototype;return i.eB=function(t){for(var n=0,i=this.bi;n<i.length;n++){var e=i[n];VD(e)?e.eB(t):t.push(e.Pi)}},i.Ri=function(t,n){for(var i=0,e=this.iB;i<e.length;i++){var r=e[i];if(r.hi===n&&r.di===t)return r.wi}},i.Ei=function(t){for(var n=0,i=this.iB;n<i.length;n++){var e=i[n];if(e.vi===t)return e.wi}},i.QL=function(t){this.iB.push(t)},i.Ii=function(t){for(var n=0;n<this.iB.length;n++)if(this.iB[n].vi===t)return void this.iB.splice(n,1)},i.Di=function(t,n){for(var i=0;i<this.iB.length;i++)if(this.iB[i].hi===n&&this.iB[i].di===t)return void this.iB.splice(i,1)},i.Ci=function(t,n){this.Ii(t),this.QL(new PD({hi:t,wi:n}))},i.Ni=function(t,n,i){this.Ii(n);var e=n.split(":");this.QL(new PD({hi:e[e.length-1],wi:i,di:t,JL:e.length>1?e[0]:void 0}))},i.fi=function(t){var i=new n({hi:this.hi,di:this.di,JL:this.li});return this.Oi.forEach(function(t){return i.QL(t.fi())}),t&&this.bi.forEach(function(n){return i.ki(n.fi(t))}),i},i.ai=function(t){return this===t||!!WD(this,t)&&(this.ZL===t.ZL&&this.nB===t.nB&&this.tB===t.tB&&(HD(this.Oi,t.Oi)&&HD(this.bi,t.bi)))},ft(n,[{key:"ni",get:function(){return In.ii}},{key:"Oi",get:function(){return this.iB}},{key:"hi",get:function(){return this.ZL}},{key:"di",get:function(){return this.tB}},{key:"li",get:function(){return this.nB}},{key:"pi",get:function(){return void 0===this.nB?this.ZL:this.nB+":"+this.ZL}},{key:"Ai",get:function(){var t=[];return this.eB(t),t.join("")}}]),n}(xD),BD=function(){function t(t){this.P=void 0,this.P=t}return ft(t,[{key:"Pi",get:function(){return this.P}}]),t}(),MD=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.fi=function(){return new n(this.Pi)},i.ai=function(t){return this===t||!!WD(this,t)&&this.Pi===t.Pi},ft(n,[{key:"ni",get:function(){return In.ri}}]),n}(BD),FD=function(t){function n(n){return t.call(this,n)||this}vt(n,t);var i=n.prototype;return i.fi=function(){return new n(this.Pi)},i.ai=function(t){return this===t||!!WD(this,t)&&this.Pi===t.Pi},ft(n,[{key:"ni",get:function(){return In.ui}}]),n}(BD),UD=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.fi=function(t){var i=new n;return t&&this.bi.forEach(function(n){return i.ki(n.fi(t))}),i},i.ai=function(t){return this===t||!!WD(this,t)&&HD(this.bi,t.bi)},ft(n,[{key:"ni",get:function(){return In.si}},{key:"xi",get:function(){return this.Si[0]}}]),n}(xD);function VD(t){return Dn(t)}function WD(t,n){return t.ni===n.ni}function HD(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ai(n[i]))return!1;return!0}var qD,zD=["adBreak"],jD=["adBreak"];function $D(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:wr({},t,{adBreak:wr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,Tp(t,zD)})})})}function XD(t){return void 0===t.ads?t:wr({},t,{ads:t.ads.map(function(t){return t.adBreak,Tp(t,jD)})})}function GD(t){return"string"==typeof t.date?new Date(t.date):t.date}function YD(t){var n;return t.cue.track?(n=JD(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=JD(t.cue,""),n}function KD(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&v.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=v.entries(i);return v.fromEntries(e.map(function(i){var e=i[0],r=i[1],u=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==u&&n.pop(r),[e,u]}))}return i}(t)}function JD(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new AD).oi(e.firstChild.outerHTML).xi.Oi.forEach(function(t){r[t.hi]=t.wi}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if("object"==typeof(a=o)&&null!==a){var c=QD(o);u[s]={type:qD.rB,value:c}}else tC(o)?u[s]={type:qD.uB,value:o}:u[s]={type:qD.sB,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=QD(t.scte35Cmd),i.scte35Out=QD(t.scte35Out),i.scte35In=QD(t.scte35In),i.customAttributes=u}var a}(),i}function QD(t){if(void 0!==t)return Xu(t)}function ZD(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(JD(r,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(JD(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function tC(t){return"number"==typeof t}!function(t){t.sB="daterange-ca-type_string",t.uB="daterange-ca-type_number",t.rB="daterange-ca-type_arraybuffer"}(qD||(qD={}));var nC={cue:function(t){var n={};switch(n.date=GD(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=YD(t)}return n},textTrack:function(t){var n={};switch(n.date=GD(t),n.type=t.type,t.type){case"addcue":var i=t.cue;uC().register(i);var e=rC()[sC()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=YD(t);break;case"cuechange":for(var r=[],u=0;u<t.track.activeCues.length;u++){var s=t.track.activeCues[u];r.push(JD(s,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:ZD(t.track),date:GD(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=uC();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=GD(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Qc.za:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=wr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=ZD(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=XD(t.ad);break;case"adloaded":case"adimpression":n.ad=$D(t.ad);break;case"aderror":t.oB&&(n.oB=t.oB),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=$D(t.ad)}return KD(n)},minimizeCueHelper:function(t){var n={};return n.date=GD(t),n.type=t.type,n.cue=YD(t),n.track={uid:t.cue.track.uid},n},adReplacer:$D,adBreakReplacer:XD,removeCircularReferences:KD},iC=function(){this.stringify=qR,this.minimize=nC};function eC(){return Z.self}function rC(){return eC().THEOplayerBridge}function uC(){return eC().THEOCueMirrorMap}function sC(){return eC().THEOplayerGlobalID}function oC(){var t=eC();if(t.THEOplayerBridge){var n=new FR;t.THEOplayerBridge=Aw(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new FR;t.THEOplayerUtils||(t.THEOplayerUtils=new iC),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new UR)}oC();var cC=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.oi=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new An(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new An;return new aC(n)},n}(Pn),aC=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.fi=function(t){return new n(this.gi.cloneNode(t))},ft(n,[{key:"bi",get:function(){return void 0===this.yi&&(this.yi=vC(this.gi.childNodes)),this.yi}},{key:"xi",get:function(){return new fC(this.gi.documentElement)}}]),n}(Vn),fC=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.fi=function(t){var i=new n(this.gi.cloneNode(t));return i.Oi.length<1&&this.Oi.length>0&&this.Oi.forEach(function(t){i.Ci(t.vi,t.wi)}),i},ft(n,[{key:"bi",get:function(){return void 0===this.yi&&(this.yi=vC(this.gi.childNodes)),this.yi}}]),n}(Bn);function hC(t){switch(t.nodeType){case In.ii:return new fC(t)}return Hn(t)}function vC(t){for(var n=[],i=0;i<t.length;i++){var e=hC(t.item(i));e&&n.push(e)}return n}dt(new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).cB=new cC,n}return vt(n,t),n.prototype.oi=function(t){return this.cB.oi(t)},n}(yw)));var dC=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return vt(n,t),n}(Ou),lC=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Yr(new dC(t,n))},i.addEventListener=function(t,n){this.Kr(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n}(ug);function wC(t,n){return t.ey<=n&&t.uy>n}function gC(t,n){return function(t,n){return ru(t.ey,n.ey,zy)}(t,n)||function(t,n){return ru(t.uy,n.uy,zy)}(t,n)}function yC(t,n){var i=function(t,n,i,e,r,u,s){void 0===r&&(r=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,c=s-1;o<=c;){var a=o+(c-o>>1),f=e(i(t[a]),n);if(f<0)o=a+1;else if(f>0)c=a-1;else{if(!(r&&a>u&&0===e(i(t[a-1]),n)))return a;c=a-1}}return~o}(t,n,Ft,gC,!0);if(i<0)return i;for(;i<t.length&&gC(n,t[i])===Qr.Ir;i++)if(t[i].yy(n))return i;return-(i+1)}function mC(t){var n=t.Ld;if(!n)return-1;if(t instanceof jy)return n.aB(t);var i=n.Fl;if(!i)return-1;var e=yC(i.hl,t);return e>=0?e:-1}var bC=function(t){function n(n,i){var e;return(e=t.call(this,Ly.Qg,n)||this).Dm=i,e}return vt(n,t),n.prototype.xd=function(){return new pC(this.iy.Pd)},n}(Fy),pC=function(t){function n(n){return t.call(this,"enter",n)||this}return vt(n,t),n}(Uy),_C=function(t){function n(n,i){var e;return(e=t.call(this,Ly.ty,n)||this).Dm=i,e}return vt(n,t),n.prototype.xd=function(){return new kC(this.iy.Pd)},n}(Fy),kC=function(t){function n(n){return t.call(this,"exit",n)||this}return vt(n,t),n}(Uy),TC=function(t){function n(n){var i;return(i=t.call(this,bw.Vd)||this).iy=n,i}return vt(n,t),n.prototype.xd=function(){return new SC(this.iy.Pd)},n}(pw),SC=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return vt(n,t),n}(_w),EC=function(t){function n(n){var i;return(i=t.call(this,bw.Hd)||this).iy=n,i}return vt(n,t),n.prototype.xd=function(){return new RC(this.iy.Pd)},n}(pw),RC=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return vt(n,t),n}(_w),IC=function(t){function n(n){var i;return(i=t.call(this,bw.zd)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new DC(this.Ld.Pd)},n}(pw),DC=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return vt(n,t),n}(_w);function CC(t,n){return eu(t.Dm,n.Dm)||function(t,n){return t.Ld===n.Ld?iu(mC(t),mC(n)):Cb(t.Ld,n.Ld)}(t.iy,n.iy)||function(t,n){return t===n?Qr.Ir:t===Ly.Qg?Qr.Cr:Qr.Dr}(t.type,n.type)}var NC=function(){function t(t,n){var i=this;this.mI=void 0,this.fB=void 0,this.Kw=[],this.hB=0,this.vB=0,this.dB=[],this.lB=[],this.wB=!1,this.gB=!1,this.yB=void 0,this.mB=function(){i.hB=0,i.bB(),i.pB()},this._B=function(){i.bB(),i.pB()},this.kB=function(){i.gB=!0,i.yB=i.mI.bw,i.TB()},this.SB=function(){i.bB(),i.pB()},this.EB=function(){i.RB(),i.bB(),i.pB()},this.IB=function(t){fu(i.lB,t.iy)||i.lB.push(t.iy),i.DB()},this.CB=function(t){cu(i.dB,t.iy),cu(i.lB,t.iy),i.DB()},this.fB=n,this.mI=t,t.Kr(Qc.qa,this._B),t.Kr(Qc.Na,this._B),t.Kr(Cg.mw,this._B),t.Kr(Qc.Ca,this._B),t.Kr(Qc.Ba,this.kB),t.Kr(Qc.La,this.SB),this.DB()}var n=t.prototype;return n.fl=function(){hu(this.dB);for(var t=0,n=this.Kw.slice();t<n.length;t++){var i=n[t];this.cl(i)}this.TB(),this.hB=0,this.vB=0,this.wB=!1,this.gB=!1,this.yB=void 0},n.ol=function(t){if(!fu(this.Kw,t)){if(this.Kw.push(t),t.Kr(bw.Bd,this.IB),t.Kr(bw.Fd,this.CB),t.Kr(bw.$d,this.EB),t.Fl.vl>0){for(var n=0,i=t.Fl.hl;n<i.length;n++){var e=i[n];this.lB.push(e)}this.DB()}this.RB()}},n.cl=function(t){if(cu(this.Kw,t)){if(t.tu(bw.Bd,this.IB),t.tu(bw.Fd,this.CB),t.tu(bw.$d,this.EB),t.Fl.vl>0){for(var n=0,i=t.Fl.hl;n<i.length;n++){var e=i[n];cu(this.dB,e),cu(this.lB,e)}this.DB()}this.RB()}},n.RB=function(){this.wB=this.Kw.some(function(t){return t.Ol!==Yw.xl})},n.pB=function(){this.mI.Rw||this.mI.Sw?this.TB():this.DB()},n.DB=function(){this.wB&&(this.hB||(this.hB=this.fB.V(this.mB)))},n.TB=function(){this.hB&&(this.fB.NB(this.hB),this.hB=0)},n.bB=function(){var t;if(this.wB&&!this.mI.Rw){var n=this.Kw,i=this.vB,e=null!=(t=this.yB)?t:this.mI.bw,r=e-i<-.1,u=this.gB||r;u&&e>i&&e-i<.1&&(u=!1),this.gB=!1,this.yB=void 0;for(var s,o=[],c=0;c<n.length;c++){var a=n[c];if(a.Ol!==Yw.xl){a.OB(e,u);for(var f=0,h=a.Ul.hl;f<h.length;f++){var v=h[f];o.push(v)}}}if(u)s=this.dB;else{s=[];for(var l=0;l<n.length;l++){var w=n[l];w.Ol!==Yw.xl&&Db(w,i-1/6,e,s)}}for(var g=s.length-1;g>=0;g--)fu(o,s[g])&&au(s,g);var y=[];if(!u)for(var m=s.length-1;m>=0;m--){var b=s[m];b.ey>i&&b.uy<=e&&(y.push(b),au(s,m))}for(var p=0,_=this.lB;p<_.length;p++){cu(y,_[p])}hu(this.lB);for(var k=[],T=[],S=0;S<y.length;S++){var E=y[S];E.my||k.push(new bC(E,E.ey)),k.push(new _C(E,d.max(E.ey,E.uy))),E.my=!1}for(var R=0,I=s;R<I.length;R++){var D=I[R];D.my&&(k.push(new _C(D,d.max(D.ey,D.uy))),D.my=!1)}for(var C=0;C<o.length;C++){var N=o[C];N.my||(k.push(new bC(N,N.ey)),N.my=!0)}k.sort(CC);for(var O=0;O<k.length;O++){var A=k[O],P=A.iy;P.Yr(A);var x=P.Ld;x&&(A.type===Ly.Qg?x.Yr(new TC(P)):x.Yr(new EC(P)),fu(T,x)||T.push(x))}T.sort(Cb);for(var L=0;L<T.length;L++){var B=T[L];B.Yr(new IC(B))}this.vB=e,this.dB=o}},n.et=function(){this.fl(),this.mI.tu(Qc.qa,this._B),this.mI.tu(Qc.Na,this._B),this.mI.tu(Cg.mw,this._B),this.mI.tu(Qc.Ca,this._B),this.mI.tu(Qc.Ba,this.kB),this.mI.tu(Qc.La,this.SB)},t}(),OC=function(){function t(){}var n=t.prototype;return n.V=function(t){return JS(t)},n.NB=function(t){QS(t)},t}(),AC=new OC,PC=function(t){function n(n,i){return void 0===i&&(i=AC),t.call(this,n,i)||this}return vt(n,t),n}(NC),xC=function(t){function n(){return t.call(this,Qc.Sa)||this}return vt(n,t),n}(Ou),LC=function(t){function n(n){var i;return(i=t.call(this,Qc.Oa)||this).currentTime=n,i}return vt(n,t),n}(Ou),BC=function(t){function n(n,i){var e;return(e=t.call(this)||this).AB=void 0,e.PB=void 0,e.xB=function(t){e.AB.LB("THEOplayerABRSetTargetBuffer",t.BA),e.Yr(t)},e.BB=function(t){e.AB.LB("THEOplayerABRSetStrategy",t.FA),e.Yr(t)},e.AB=n,e.PB=i,e.PB.Kr("MA",e.xB),e.PB.Kr("UA",e.BB),e}return vt(n,t),n.prototype.KA=function(t){return this.PB.KA(t)},ft(n,[{key:"QA",get:function(){var t;switch(this.FA.type){case TE.PERFORMANCE:return 1;case TE.QUALITY:return 0;case TE.BANDWIDTH:return null!=(t=this.FA.metadata)&&t.bitrate&&!g(this.FA.metadata.bitrate)?this.FA.metadata.bitrate:0;default:return 0}}},{key:"Pd",get:function(){return this.PB.Pd}},{key:"FA",get:function(){return this.PB.FA},set:function(t){this.PB.FA=t}},{key:"BA",get:function(){return this.PB.BA},set:function(t){this.PB.BA=t}},{key:"JA",get:function(){return this.PB.JA}},{key:"VA",get:function(){return this.PB.VA},set:function(t){this.PB.VA=t}},{key:"HA",get:function(){return this.PB.HA}},{key:"OA",get:function(){return this.PB.OA}}]),n}(Cu),MC=function(){function t(t){this.MB=void 0,this.Ad=void 0,this.MB=t}var n=t.prototype;return n.xd=function(){return function(t){for(var n=[],i=0;i<t.vl;i++)n[i]=t.mu(i).Pd;return n.item=function(n){var i=0|n,e=t.mu(i);return e&&e.Pd||void 0},v.defineProperty(n,"constructor",{value:Wy}),n}(this)},n.Vg=function(t){for(var n=this.MB,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.yy(e))return!0}return!1},n.mu=function(t){return this.MB[t]},ft(t,[{key:"hl",get:function(){return this.MB}},{key:"vl",get:function(){return this.MB.length}},{key:"Pd",get:function(){if(this.Ad){var t=this.MB;this.Ad.length=t.length;for(var n=0;n<t.length;n++)this.Ad[n]=t[n].Pd}else this.Ad=this.xd();return this.Ad}}]),t}(),FC=function(t){function n(n,i){var e;return(e=t.call(this,bw.Gd)||this).Ld=n,e.Ml=i,e}return vt(n,t),n.prototype.xd=function(){return new UC(this.Ld.Pd,ig(this.Ml))},n}(pw),UC=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return vt(n,t),n}(_w),VC=function(t){function n(n){var i;return(i=t.call(this,bw.Kd)||this).Ld=n,i}return vt(n,t),n.prototype.xd=function(){return new WC(this.Ld.Pd)},n}(pw),WC=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return vt(n,t),n}(_w),HC=function(t){function n(n){var i;return(i=t.call(this,bw.Bd)||this).iy=n,i}return vt(n,t),n.prototype.xd=function(){return new qC(this.iy.Pd)},n}(pw),qC=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return vt(n,t),n}(_w),zC=function(t){function n(n){var i;return(i=t.call(this,bw.Fd)||this).iy=n,i}return vt(n,t),n.prototype.xd=function(){return new jC(this.iy.Pd)},n}(pw),jC=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return vt(n,t),n}(_w),$C=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this)||this).Ad=void 0,a.jo=void 0,a.qg=Ry(),a.FB=!1,a.UB=void 0,a.VB=void 0,a.Hg=void 0,a.xs=void 0,a.FD=Yw.xl,a.WB=Ay.NONE,a.HB=void 0,a.Li=void 0,a.qB=void 0,a.MB=[],a.zB=[],a.jB=void 0,a.$B=void 0,a.XB=0,a.GB=0,a.jo=i||"",a.UB=c||"",a.VB=n,a.xs=r||"",a.FB=Boolean(u),a.qB=Boolean(o),a.Li=s||Py.DEFAULT,a.Hg=e||"",a.jB=new MC(a.MB),a.$B=new MC(a.zB),a}vt(n,t);var i=n.prototype;return i.YB=function(t){return su(this.jB.hl,function(n){return n.kl===t})},i.xd=function(){return Zw(this)},i.ZD=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Yw.xl:case Yw.Pl:case Yw.Al:return n}}else if("number"==typeof t)switch(t){case 0:return Yw.xl;case 1:return Yw.Pl;case 2:return Yw.Al}return Yw.xl}(t);n!==this.Ol&&(this.FD=n,n===Yw.xl&&(this.zB.forEach(function(t){t.my=!1}),hu(this.zB),this.GB=0),this.Yr(new Iw(this)))},i.RT=function(t){if(t&&!t.Ld){var n=yC(this.Fl.hl,t);if(!(n>=0)){t.Ld=this;var i=-(n+1);this.MB.splice(i,0,t),this.KB(i),t.gy=i,i<this.GB&&(this.GB=i),this.Yr(new HC(t))}}},i.hT=function(t){if(t&&t.Ld===this){var n=this.aB(t);if(!(n<0)){t.my=!1;var i=this.zB,e=yC(i,t);e>=0&&au(i,e),au(this.MB,n),this.KB(n),t.gy=-1,this.GB>n&&--this.GB,this.Yr(new zC(t))}}},i.OB=function(t,n){var i=this.zB,e=this.MB,r=this.GB,u=!1;n&&(r=0);for(var s=i.length-1;s>=0;s--){wC(i[s],t)||(u=!0,au(i,s))}for(;r<e.length&&e[r].ey<=t;){var o=e[r];if(0===t)break;wC(o,t)&&!fu(i,o)&&(u=!0,i.push(o)),r++}u&&tu(i,gC),this.GB=r},i.aB=function(t){return(-1===t.gy||t.gy>=this.XB)&&this.JB(),t.gy},i.JB=function(){for(var t=this.MB,n=this.XB;n<t.length;n++)t[n].gy=n;this.XB=t.length},i.KB=function(t){t<this.XB&&(this.XB=t)},i.Ll=function(t){this.Bl||(this.Ol=t)},i.et=function(){this.Zr();for(var t=this.MB.slice(),n=0;n<t.length;n++){t[n].et()}hu(this.MB),hu(this.zB)},ft(n,[{key:"Ul",get:function(){return this.$B}},{key:"Fl",get:function(){return this.jB}},{key:"DT",get:function(){return this.FB},set:function(t){this.FB=t}},{key:"Bl",get:function(){return this.qB}},{key:"Pd",get:function(){return this.Ad||(this.Ad=this.xd()),this.Ad}},{key:"kl",get:function(){return this.jo}},{key:"Tl",get:function(){return this.qg}},{key:"Nl",get:function(){return this.UB},set:function(t){this.UB=t}},{key:"Sl",get:function(){return this.VB}},{key:"El",get:function(){return this.Hg},set:function(t){t!==this.Hg&&(this.Hg=t,this.Yr(new Ty(this)))}},{key:"Rl",get:function(){return this.xs}},{key:"Ol",get:function(){return this.FD},set:function(t){this.ZD(t)}},{key:"Ml",get:function(){return this.WB},set:function(t){this.WB!==t&&(this.WB=t,this.Yr(new FC(this,this.WB)))}},{key:"Vl",get:function(){return this.HB},set:function(t){this.HB=t}},{key:"gr",get:function(){return this.Li},set:function(t){this.Li!==t&&(this.Li=t,this.Yr(new VC(this)))}}]),n}(Cu);function XC(t,n,i){for(var e=t[n].ey,r=n;r>=0&&t[r].ey===e;r--)t[r].uy=i}var GC=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return vt(n,t),n.prototype.yy=function(n){return this===n||Lw(this,n)&&t.prototype.yy.call(this,n)&&(i=n,this.sy===i.sy);var i},ft(n,[{key:"Pd",get:function(){return this.Ad||(this.Ad=Vy(this)),this.Ad}}]),n}(jy),YC=function(t){function n(n,i,e){return void 0===e&&(e=Py.DEFAULT),t.call(this,_b.ep,"",i||"","",!1,e,!1,n)||this}return vt(n,t),n}($C),KC=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).gr=Py.ID3,e}vt(n,t);var i=n.prototype;return i.RT=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].ey<t.ey)XC(n,i,t.ey);else{var e=n[0];if(e.ey>t.ey)t.uy=e.ey;else{var r=yC(n,t);if(!(r>=0)){var u=-(r+1),s=u-1;if(s>=0&&n[s].ey<t.ey&&XC(n,s,t.ey),u<n.length){var o=n[u];t.uy=o.ey}}}}}}(n,this.MB),t.prototype.RT.call(this,n)},i.xd=function(){return Zw(this)},n}(YC);Qc.Na,Qc.Ca,Cg.mw,Qc.qa,Qc.Oa,Qc.Sa,Qc.Ba,Qc.La,Qc._a,Qc.Aa,Qc.za,Qc.ba,Cg.Gd,Qc.xa,Kw.Cl,Du.hu,Du.du,Qc.ga,Qc.wa,Qc.ja;var JC,QC={QB:!1,ZB:50},ZC=function(){function t(t,n,i){this.Fc=void 0,this.kr=void 0,this.Yc=void 0,this.vc=void 0,this.Fc=t,this.kr=i,this.Yc=n}var n=t.prototype;return n.IT=function(t){throw new f("Not implemented yet.")},n.tM=function(t,n){var i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,lr.awrap(this.kr.Er(t.yr,n));case 2:return i=r.sent,r.next=5,lr.awrap(i._c());case 5:return e=r.sent,r.next=8,lr.awrap(this.nM(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,j)},n.iM=function(t){return!1},n.eM=function(t){return j.resolve(void 0)},n.Lr=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lr.awrap(this.nM(void 0));case 2:case"end":return t.stop()}},null,this,null,j)},n.nM=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.rM(t),i.next=3,lr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,j)},n.rM=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.vc)){i.next=5;break}return i.next=4,lr.awrap(n.mc(this.Yc));case 4:this.vc=void 0;case 5:if(!t){i.next=9;break}return i.next=8,lr.awrap(t.yc(this.Yc));case 8:this.vc=t;case 9:case"end":return i.stop()}},null,this,null,j)},n.ST=function(t,n,i){throw new f("Not implemented yet.")},ft(t,[{key:"lc",get:function(){return this.Fc}},{key:"xg",get:function(){throw new f("Not implemented yet.")},set:function(t){throw new f("Not implemented yet.")}},{key:"Lg",get:function(){return new zk([0,1/0])}},{key:"ig",get:function(){throw new f("Not implemented yet.")}},{key:"uM",get:function(){throw new f("Not implemented yet")}},{key:"ng",get:function(){throw new f("Not implemented yet.")}},{key:"sM",get:function(){throw new f("Not implemented yet")}},{key:"oM",get:function(){throw new f("Not implemented yet")}}]),t}();!function(t){t.cM="webkitneedkey",t.aM="webkitkeymessage",t.fM="webkitkeyerror"}(JC||(JC={}));var tN,nN,iN,eN,rN,uN,sN,oN,cN,aN,fN,hN=function(t){function n(n,i){var e;return(e=t.call(this,JC.cM)||this).initData=n,e.sessionId=i,e}return vt(n,t),n}(Ou),vN=function(t){function n(n,i){var e;return(e=t.call(this,JC.aM)||this).message=n,e.destinationURL=i,e}return vt(n,t),n}(Ou),dN=function(t){function n(){return t.call(this,JC.fM)||this}return vt(n,t),n}(Ou),lN=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).Ec=new Vs,s.Uc=void 0,s.Dc=new Uu,s.Wc=new Vs,s.hM=function(t){s.Uc?(s.Uc.Lu(void 0),s.Uc=void 0):s.Pc("internal-error"),s.Yr(new Bu)},s.vM=function(t){s.Uc&&(s.Uc.xu(void 0),s.Uc=void 0),s.Yr(new Lu(Cn(s),"license-request",Fs(t.message).buffer,t.destinationURL||void 0))},s.Lc=n,s.Zo=i,s.dM=e,s.Xc=r,s.qc=u,s}vt(n,t);var i=n.prototype;return i.ec=function(t,n,i){var e;return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.zc){t.next=3;break}throw new h("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,lr.awrap(this.lM(Bs(n),e));case 5:this.Pc("usable"),this.Wc.xu(),this.Wc=new Vs;case 8:case"end":return t.stop()}},null,this,null,j)},i.rc=function(t){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,j)},i.sc=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Bs(t)).byteLength){i.next=3;break}throw new h("Cannot call update with an empty response.");case 3:return this.Uc=new Vs,this.dM.sc(this.Xc,n),i.next=7,lr.awrap(this.Uc.Ou);case 7:case"end":return i.stop()}},null,this,null,j)},i.ic=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lr.awrap(this.Wc);case 2:return this.dM.tu(JC.aM,this.vM),this.dM.tu(JC.fM,this.hM),this.Wc.Wr(),this.Ec.xu(void 0),t.abrupt("return",this.Ec.Ou);case 7:case"end":return t.stop()}},null,this,null,j)},i.uc=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,j)},i.lM=function(t,n){var i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=Oc(t,n,this.qc),this.dM.Kr(JC.aM,this.vM),this.dM.Kr(JC.fM,this.hM),this.dM.wM(this.Xc,i);case 4:case"end":return e.stop()}},null,this,null,j)},i.Pc=function(t){this.Dc._u(),this.Dc.pu(Fu,t),this.Yr(new xu(this))},ft(n,[{key:"hc",get:function(){return this.Xc}},{key:"ac",get:function(){return NaN}},{key:"cc",get:function(){return this.Ec.Ou}},{key:"fc",get:function(){return this.Dc}}]),n}(Cu),wN=function(){function t(t,n,i){this.gM=void 0,this.Xc=void 0,this.qc=void 0,this.dM=void 0,this.Zo=void 0,this.Fc=void 0,this.Lc=void 0,this.dM=t,this.Zo=n,this.Fc=i;var e=gc(i)||"video/mp4";this.Lc=dc(e)}var i=t.prototype;return i.wc=function(t){var i;return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.qc){t.next=2;break}throw new Ac(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new lN(this.Lc,this.Zo,this.dM,this.Xc,this.qc),this.gM=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,j)},i.gc=function(t){return this.qc=Bs(t),j.resolve(!0)},i.yc=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,j)},i.mc=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,j)},i.createSession=function(){throw new f("Whoops.")},ft(t,[{key:"dc",get:function(){return this.Zo}},{key:"lc",get:function(){return this.Fc}},{key:"sessionId",set:function(t){this.Xc=t}}]),t}(),gN=function(){function t(t,n,i){this.yM=t,this.Zo=n,this.Fc=i}var n=t.prototype;return n.kc=function(){return this.Fc},n._c=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new wN(this.yM,this.Zo,this.Fc));case 1:case"end":return t.stop()}},null,this,null,j)},ft(t,[{key:"dc",get:function(){return this.Zo}}]),t}(),yN=function(){function t(t){this.yM=void 0,this.yM=t}return t.prototype.Er=function(t,n){var i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0;case 1:if(!(i<n.length)){u.next=9;break}if(e=n[i],!(r=lc(mN,Pu,t,e))){u.next=6;break}return u.abrupt("return",new gN(this.yM,t,r));case 6:i++,u.next=1;break;case 9:throw new h("Unsupported key system configuration for "+t);case 10:case"end":return u.stop()}},null,this,null,j)},t}();function mN(t,n){return t===Mr}!function(t){t.HC="mM"}(tN||(tN={})),function(t){t.bM="pM"}(nN||(nN={})),nN.bM,function(t){t[t._M=0]="_M",t[t.Ka=1]="Ka",t[t.kM=2]="kM"}(iN||(iN={})),function(t){t.TM="SM"}(eN||(eN={})),function(t){t[t.EM=0]="EM",t[t.RM=1]="RM",t[t.IM=2]="IM"}(rN||(rN={})),function(t){t[t.DM=3]="DM",t[t.CM=4]="CM",t[t.NM=5]="NM"}(uN||(uN={})),function(t){t[t.OM=64]="OM",t[t.AM=103]="AM",t[t.PM=107]="PM"}(sN||(sN={})),function(t){t[t.xM=0]="xM",t[t.LM=1]="LM",t[t.AM=2]="AM",t[t.BM=5]="BM",t[t.MM=34]="MM"}(oN||(oN={})),St.Un,Qc.Na,Qc.Ca,Qc.Ba,Qc.La,Qc._a,Qc.Aa,Cg.Gd,Kw.Cl,St.Pn||St.xn,function(t){t.FM="closed",t.Tv="open",t._a="ended"}(cN||(cN={})),Qc.za,Qc.Aa,Qc.Ba,Qc.Na,Qc.Ca,Cg.Gd,Qc.Na,Qc.Ca,Qc.Ba,Qc.La,Qc._a,Kw.Cl,function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(aN||(aN={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(fN||(fN={}));var bN=function(t){function n(n,i){var e;return(e=t.call(this)||this).UM=new Tr,e.qE=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.Ld).gr){i.next=4;break}return i.next=4,lr.awrap(n.ru(bw.Kd));case 4:if(n.gr===Py.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.Fl.vl){i.next=11;break}return i.next=9,lr.awrap(n.ru(bw.Bd));case 9:i.next=6;break;case 11:e.VM(n);case 12:case"end":return i.stop()}},null,null,null,j)},e.zE=function(t){var n=t.Ld;if(n.gr===Py.ID3&&e.UM.has(n.Tl)){var i=e.UM.get(n.Tl);e.cl(i),e.pT.IT(i),n.tu(bw.Bd,e.WM)}},e.WM=function(t){pN(t.iy)&&e.HM(t.iy)},e.pT=n,e.qM=i,e.zM(),e}vt(n,t);var i=n.prototype;return i.zM=function(){this.qM.Kr(ww.Dd,this.qE),this.qM.Kr(ww.Nd,this.zE)},i.jM=function(){this.qM.tu(ww.Dd,this.qE),this.qM.tu(ww.Nd,this.zE)},i.VM=function(t){var n=t.Fl.hl[0];if(pN(n)){var i=function(t){var n=t.match(DN);if(!n)return;return{Ld:n[1],Rl:n[2]}}(n.sy.description),e=i.Ld,r=i.Rl;if(!this.$M(e,r)){var u=this.pT.ST(_b.np,t.kl,e,r,!1,Py.TTML);this.ol(u),this.UM.set(t.Tl,u);for(var s=0,o=t.Fl.hl;s<o.length;s++){var c=o[s];pN(c)&&this.HM(c)}t.Kr(bw.Bd,this.WM)}}},i.$M=function(t,n){return this.Kp.hl.some(function(i){return i.El===t&&i.Rl===n})},i.HM=function(t){if(t.Ld)for(var n=this.UM.get(t.Ld.Tl),i=hb(t.sy.text,0,{ub:0,sb:1/0,ob:t.ey}),e=0;e<i.length;e++){var r=i[e];n.RT(r)}},i.fl=function(){var n,i,e,r,u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:for(n=0,i=this.qM.hl;n<i.length;n++)i[n].tu(bw.Bd,this.WM);for(e=0,r=this.Kp.hl;e<r.length;e++)u=r[e],this.pT.IT(u);return this.UM.clear(),s.next=5,lr.awrap(t.prototype.fl.call(this));case 5:case"end":return s.stop()}},null,this,null,j)},i.et=function(){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.jM(),n.next=3,lr.awrap(t.prototype.et.call(this));case 3:case"end":return n.stop()}},null,this,null,j)},n}(xb);function pN(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.sy)&&DN.test(n.description);var n}var _N,kN,TN,SN,EN,RN,IN,DN=/^Track:(.+),Lang:(.+)$/;new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Ad=void 0,n}return vt(n,t),ft(n,[{key:"Pd",get:function(){return this.Ad||(this.Ad=rR(this)),this.Ad}},{key:"Ox",get:function(){}},{key:"Ax",get:function(){}},{key:"Px",get:function(){}},{key:"xx",get:function(){}},{key:"Lx",get:function(){}},{key:"Bx",get:function(){}},{key:"Mx",get:function(){}}]),n}(Cu)),function(t){t.XM='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.GM='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.YM='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.KM='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(_N||(_N={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(kN||(kN={})),function(t){var n=yr();for(var i in t)Et.call(t,i)&&n.set(i,t[i])}({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),kN.WHITE,kN.TRANSPARENT,kN.TRANSPARENT,function(t){t.JM="Data",t.QM="Tag",t.ZM="StartTag",t.tF="StartTagClass",t.nF="StartTagAnnotation",t.iF="CharRefInAnnotation",t.eF="EndTag",t.rF="TimestampTag"}(TN||(TN={})),function(t){t.sB="string",t.uF="starttag",t.sF="endtag",t.oF="timestamp"}(SN||(SN={})),kN.WHITE,kN.TRANSPARENT,function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(EN||(EN={})),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(RN||(RN={})),kN.WHITE,_N.YM,kN.BLACK,RN.FONT_REGULAR,kN.WHITE,RN.FONT_REGULAR,kN.WHITE,RN.FONT_UNDERLINE,kN.GREEN,RN.FONT_REGULAR,kN.GREEN,RN.FONT_UNDERLINE,kN.BLUE,RN.FONT_REGULAR,kN.BLUE,RN.FONT_UNDERLINE,kN.CYAN,RN.FONT_REGULAR,kN.CYAN,RN.FONT_UNDERLINE,kN.RED,RN.FONT_REGULAR,kN.RED,RN.FONT_UNDERLINE,kN.YELLOW,RN.FONT_REGULAR,kN.YELLOW,RN.FONT_UNDERLINE,kN.MAGENTA,RN.FONT_REGULAR,kN.MAGENTA,RN.FONT_UNDERLINE,kN.WHITE,RN.FONT_ITALICS,kN.WHITE,RN.FONT_UNDERLINE_ITALICS,kN.WHITE,RN.FONT_REGULAR,kN.WHITE,RN.FONT_UNDERLINE,kN.WHITE,RN.FONT_REGULAR,kN.WHITE,RN.FONT_UNDERLINE,kN.WHITE,RN.FONT_REGULAR,kN.WHITE,RN.FONT_UNDERLINE,kN.WHITE,RN.FONT_REGULAR,kN.WHITE,RN.FONT_UNDERLINE,kN.WHITE,RN.FONT_REGULAR,kN.WHITE,RN.FONT_UNDERLINE,kN.WHITE,RN.FONT_REGULAR,kN.WHITE,RN.FONT_UNDERLINE,kN.WHITE,RN.FONT_REGULAR,kN.WHITE,RN.FONT_UNDERLINE,kN.WHITE,RN.FONT_REGULAR,kN.WHITE,RN.FONT_UNDERLINE,function(t){t.cF="HELLO",t.aF="HI_THERE",t.fF="INITIALIZE",t.hF="APPEND_INIT",t.vF="APPEND_DATA",t.dF="ACK",t.lF="REMOVE",t.wF="DESTROY_SESSION"}(IN||(IN={}));var CN=Jy.im,NN=new Jy(-1/0),ON=Jy.Fm,AN=new(function(t){function n(n,i){return t.call(this,n,i)||this}vt(n,t);var i=n.prototype;return i.Fy=function(t,n){return t.qy(n)?Qr.Cr:t.yy(n)?Qr.Ir:Qr.Dr},i.Ug=function(t,n){return t.Ug(n)},i.Xy=function(t,n){return t.Xy(n)},i.Hy=function(t,n){return t.Hy(n)},i.VI=function(){return CN},i.WI=function(){return ON},i.jI=function(){return NN},n.aD=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new Jy(t.start(e)),new Jy(t.end(e)));return new n(i)},n.gF=function(t){for(var i=[],e=[],r=0;r<t.vl;r++)i.push(new Jy(t.DI(r))),i.push(new Jy(t.NI(r))),e.push(t.CI(r)),e.push(t.OI(r));return new n(i,e)},n.hD=function(t){return new n([t,t],[!0,!0])},i.FI=function(t,i){return new n(t,i)},i.BI=function(t){return t.Bm},n.vD=function(){return AN},n}(qk))([]);py.sv,py.ov;var PN=function(t){function n(n){var i;return(i=t.call(this,Qc.wa)||this).errorObject=void 0,i.errorObject=n,i}return vt(n,t),ft(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Ou),xN=function(t){function n(){return t.call(this,Qc.ga)||this}return vt(n,t),n}(Ou),LN=function(t){function n(n){var i;return(i=t.call(this,"$a")||this).yF=n,i}return vt(n,t),n}(Ou),BN=new SR,MN=function(t){function n(n){var i;return(i=t.call(this,"ic")||this).session=n,i}return vt(n,t),n}(Ou),FN=function(t){function i(i,e,r){var u;return(u=t.call(this)||this).mF=!1,u.bF=!1,u.Xf=new du,u.pF=void 0,u.Qo=function(t){if(!u.Xf.zr.Nr)switch(t.cu){case"license-request":u.aS(t.ou,t.au).catch(function(t){return u.Oc(t)});break;default:u.Oc(new gy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.cu))}},u._F=function(t){u.kF.fc.bu(function(t,n){switch(t){case"usable":st.Ne(function(){u.bF=!0,u.Yr(new xN)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Yr(new LN(n))}})},u.TF=function(t){u.Oc(new gy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.kF=i,u.SF=e,u.EF=r,i.Kr("ou",u.Qo),i.Kr("su",u._F),i.Kr("fu",u.TF),i.cc.then(function(){return u.RF()}),u}vt(i,t);var e=i.prototype;return e.ec=function(){var t=this;return this.mF=!0,BN.CL(function(n){return t.IF(n)},this.Xf.zr)},e.IF=function(t){var i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,gu(t),u.next=4,lr.awrap(this.SF.iS(t));case 4:return u.next=6,lr.awrap(this.SF.eS(this.EF.mr,this.EF.wu,t));case 6:return i=u.sent,u.next=9,lr.awrap(this.kF.ec(this.EF.mr,this.EF.wu,i));case 9:u.next=18;break;case 11:throw u.prev=11,u.t0=u.catch(0),yu(u.t0),e=u.t0 instanceof js?u.t0.Mu:void 0,r=new gy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",u.t0,void 0,void 0,void 0,void 0,e),this.Oc(r),r;case 18:case"end":return u.stop()}},null,this,[[0,11]],j)},e.aS=function(t,i){var e,r,u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,!Hs(t)){s.next=7;break}return s.next=4,lr.awrap(this.SF.yS(new y(t),this.Xf.zr));case 4:e=s.sent,s.next=10;break;case 7:return s.next=9,lr.awrap(this.SF.mS(new y(t),i,this.Xf.zr));case 9:e=s.sent;case 10:s.next=17;break;case 12:if(s.prev=12,s.t0=s.catch(0),!wu(s.t0)){s.next=16;break}return s.abrupt("return");case 16:throw s.t0;case 17:if(!this.Xf.zr.Nr){s.next=19;break}return s.abrupt("return");case 19:return s.prev=19,this.pF=new Vs,s.next=23,lr.awrap(this.kF.sc(e));case 23:this.pF.xu(Eu(100)),s.next=31;break;case 26:throw s.prev=26,s.t1=s.catch(19),null==(r=this.pF)||r.xu(),u=s.t1 instanceof js?s.t1.Mu:void 0,new gy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",s.t1,void 0,void 0,void 0,void 0,u);case 31:case"end":return s.stop()}},null,this,[[0,12],[19,26]],j)},e.Oc=function(t){var i=t instanceof gy?t:new gy(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Yr(new PN(i)),this.ic()},e.RF=function(){this.kF.tu("ou",this.Qo),this.kF.tu("su",this._F),this.kF.tu("fu",this.TF),this.bF=!1,this.Xf.Wr(),this.Yr(new MN(this))},e.ic=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Zr(),!this.pF){t.next=4;break}return t.next=4,lr.awrap(this.pF.Ou);case 4:return this.RF(),t.next=7,lr.awrap(this.kF.ic().catch(Mt));case 7:case"end":return t.stop()}},null,this,null,j)},i}(Cu),UN=[Qc.ga,Qc.wa,Qc.ja],VN=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Zo=void 0,r.vc=void 0,r.DF=void 0,r.CF=[],r.NF=void 0,r.OF=[],r.AF=function(t){t.session.tu(UN,r.Gr),t.session.tu("ic",r.AF),cu(r.CF,t.session)},r.Zo=n,r.vc=i,r.DF=e,r}vt(n,t);var i=n.prototype;return i.gS=function(){return this.DF.gS()},i.PF=function(t){return this.NF||(this.NF=this.xF(t)),this.NF},i.xF=function(t){var n;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return gu(t),i.next=3,lr.awrap(this.DF.yS(new y(Ws()),t));case 3:if(n=i.sent,gu(t),this.vc){i.next=7;break}throw new f("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,lr.awrap(this.vc.gc(n.buffer));case 9:case"end":return i.stop()}},null,this,null,j)},i.wM=function(t){var n,i;return lr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.vc){e.next=2;break}throw new f("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.OF.push(t),e.next=6,lr.awrap(this.vc.wc("temporary"));case 6:return n=e.sent,i=new FN(n,this.DF,t),this.CF.push(i),i.Kr(UN,this.Gr),i.Kr("ic",this.AF),e.abrupt("return",i);case 12:return e.prev=12,cu(this.OF,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],j)},i.LF=function(t){if(t.BF)return!1;for(var n=0,i=this.CF;n<i.length;n++){if(WN(i[n].EF,t))return!0}for(var e=0,r=this.OF;e<r.length;e++){if(WN(r[e],t))return!0}return!1},i.et=function(){var t;return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.vc=void 0,this.Zr(),t=this.CF.slice(),hu(this.CF),n.next=6,lr.awrap(j.all(t.map(function(t){return t.ic()})));case 6:this.DF.Lr();case 7:case"end":return n.stop()}},null,this,null,j)},ft(n,[{key:"dc",get:function(){return this.Zo}}]),n}(Cu);function WN(t,n){return!t.BF&&t.mr===n.mr&&Ku(t.wu,n.wu)}var HN=function(t){function i(n){var i;return(i=t.call(this)||this).ZE=void 0,i.Xf=new du,i.VL=new SR,i.Fc=void 0,i.DF=void 0,i.tR=void 0,i.Zo=void 0,i.MF=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,lr.awrap(i.FF(t.mr,t.wu,i.Xf.zr));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),wu(n.t0)||i.Oc(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],j)},i.ZE=n,i.ZE.Kr(Du.hu,i.MF),i}vt(i,t);var e=i.prototype;return e.rc=function(t,n){this.tR=t,this.eM(n)},e.eM=function(t){this.Fc=t,this.UF(this.Xf.zr).catch(mu)},e.UF=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!st.je.ae){n.next=5;break}return n.next=3,lr.awrap(this.VF(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Fc||!this.Fc.WF){n.next=9;break}return n.next=8,lr.awrap(this.HF(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,j)},e.VF=function(t){var n,i,e,r,u,s,o,c,a,f,h;return lr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.Fc)?void 0:n.CR){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(u=null==(s=this.Fc)?void 0:s.CR)?u:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],c=0,a=null!=(f=o.VE)?f:[];case 8:if(!(c<a.length)){v.next=22;break}return h=a[c],v.prev=10,v.next=13,lr.awrap(this.FF(o.dc.mr,h,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),yu(v.t0);case 19:c++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],j)},e.FF=function(t,i,e){var r,u,s,o,c,a,f,h,v,d;return lr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(gu(e),i.byteLength){l.next=3;break}return l.abrupt("return");case 3:if(this.Fc&&this.Fc.CR.length){l.next=5;break}throw new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Er||t===Ir||t===Rr){l.next=8;break}return l.abrupt("return");case 8:r=Yp(t,i),u=this.Fc.CR,o=0;case 11:if(!(o<u.length)){l.next=42;break}if(c=u[o],gu(e),(a=r[c.dc.br])&&c.dc.mr===t){l.next=17;break}return l.abrupt("continue",39);case 17:return l.prev=17,l.next=20,lr.awrap(this.qF(c,e));case 20:if(!(f=l.sent).gS()){l.next=24;break}return l.next=24,lr.awrap(f.PF());case 24:if(h=this.ZE.Eg,v={mr:c.dc.mr,wu:a,BF:h},!this.zF(f,v)){l.next=32;break}return l.next=29,lr.awrap(f.wM(v));case 29:return d=l.sent,l.next=32,lr.awrap(d.ec());case 32:return l.abrupt("return");case 35:l.prev=35,l.t0=l.catch(17),yu(l.t0),s=l.t0;case 39:o++,l.next=11;break;case 42:return l.next=44,lr.awrap(st.xe());case 44:if(!l.sent){l.next=48;break}throw new gy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s);case 48:throw new gy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s);case 49:case"end":return l.stop()}},null,this,[[17,35]],j)},e.HF=function(t){var n,i,e,r,u;return lr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=null==(n=this.Fc)?void 0:n.CR){s.next=3;break}return s.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){s.next=23;break}return r=i[e],gu(t),s.prev=7,s.next=10,lr.awrap(this.qF(r,t));case 10:if(!(u=s.sent).gS()){s.next=14;break}return s.next=14,lr.awrap(u.PF());case 14:return s.abrupt("return");case 17:s.prev=17,s.t0=s.catch(7),yu(s.t0);case 20:e++,s.next=4;break;case 23:case"end":return s.stop()}},null,this,[[7,17]],j)},e.zF=function(t,n){return st.je.ce||!t.LF(n)},e.qF=function(t,n){var i=this;return this.VL.CL(function(n){return i.jF(t,n)},n)},e.jF=function(t,n){var i,e,r,u,s;return lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(gu(n),this.Fc&&this.DF&&this.tR){o.next=3;break}throw new f("Not initialized");case 3:if(!this.Zo){o.next=7;break}if(this.Zo.dc===t.dc){o.next=6;break}throw new f("Internal key system error");case 6:return o.abrupt("return",this.Zo);case 7:return i=this.DF,e=wr({},t,{zR:t.zR.map(function(n){var e;return wr({},n,{persistentState:null!=(e=n.persistentState)?e:i.FS(t.dc),Tc:n.Tc||i.Tc(t.dc)})})}),o.next=11,lr.awrap(this.tR.tM(e.dc,e.zR));case 11:return r=o.sent,u=i.UE(e),(s=new VN(e.dc,r,u)).Kr([Qc.ga,Qc.wa,Qc.ja],this.Gr),this.Zo=s,o.abrupt("return",s);case 17:case"end":return o.stop()}},null,this,null,j)},e.Oc=function(t){var i=t instanceof gy?t:new gy(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Yr(new PN(i))},e.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tR=void 0,this.Fc=void 0,this.Xf.Wr(),this.Xf=new du,t.next=6,lr.awrap(this.XF());case 6:case"end":return t.stop()}},null,this,null,j)},e.XF=function(){var t;return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lr.awrap(this.VL.Wr());case 2:if(!(t=this.Zo)){n.next=8;break}return t.tu(Qc.ja,this.Gr),this.Zo=void 0,n.next=8,lr.awrap(t.et());case 8:case"end":return n.stop()}},null,this,null,j)},e.Lr=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zr(),this.ZE.tu(Du.hu,this.MF),t.next=4,lr.awrap(this.fl());case 4:return t.next=6,lr.awrap(this.VL.et());case 6:case"end":return t.stop()}},null,this,null,j)},ft(i,[{key:"GF",get:function(){var t;return null==(t=this.Zo)?void 0:t.dc}},{key:"RR",get:function(){return this.DF},set:function(t){this.DF=t}}]),i}(Cu);St.Pn||St.xn,St.Qn,St.Un;var qN=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.zF=function(t,n){return!0},n}(HN),zN=function(t){function n(n,i,e){var r;return void 0===e&&(e=new yN(i)),(r=t.call(this)||this).tR=void 0,r.kr=void 0,r.YF=void 0,r.KF=new SR,r.JF=void 0,r.yM=void 0,r.QF=!1,r.Xc=void 0,r.Hc=null,r.ZF={Rg:0,Ig:0,Dg:0,Cg:0,Ng:0,Og:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.tU=function(t){"boolean"==typeof t.detail.casting&&(r.QF=t.detail.casting,r.Yr(new My(r.QF)))},r.nU=function(t){r.Xc=t.sessionId,r.Hc&&(r.Hc.sessionId=r.Xc);var n=t.initData;if(n){var i=function(t){try{var n=Ps(t),i=new Us;return Rs(Is(hs(n,i,ws(n,i,!0)),!0))}catch(t){return}}(n);if(!i)return;r.Yr(new Mu(Ir,i))}else r.Yr(new Mu(Ir,new ArrayBuffer(0)))},r.JF=n,r.yM=i,r.yM.Kr(JC.cM,r.nU),r.kr=e,r.YF=new qN(Cn(r)),r.iU(),r}vt(n,t);var i=n.prototype;return i.eU=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.gr===Hb.CT)return i}},i.Lr=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lr.awrap(this.fl());case 2:return this.Zr(),this.rU(),this.yM.tu(JC.cM,this.nU),t.next=7,lr.awrap(this.YF.Lr());case 7:case"end":return t.stop()}},null,this,null,j)},i.dg=function(){throw new f("Not implemented yet")},i.ST=function(t,n,i,e,r,u,s,o){throw new f("Not implemented yet")},i.xR=function(){return!1},i.MR=function(t,n,i,e){throw new f("Not implemented yet")},i.IT=function(t){throw new f("Not implemented yet")},i.WR=function(){throw new f("Not implemented yet")},i.rc=function(t){var n=this;return lr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.KF.CL(function(i){var e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.gr!==Hb.CT){r.next=8;break}return gu(i),e=new ZC(t,n,n.kr),n.tR=e,n.YF.rc(e,t),r.abrupt("return",e);case 8:throw new f("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,j)}));case 1:case"end":return i.stop()}},null,this,null,j)},i.K=function(){throw new f("Not implemented yet")},i.Y=function(){throw new f("Not implemented yet")},i.fl=function(){var t=this;return this.KF.Wr(),this.KF.CL(function(){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.tR){n.next=4;break}return n.next=3,lr.awrap(t.tR.Lr());case 3:t.tR=void 0;case 4:return n.next=6,lr.awrap(t.YF.fl());case 6:case"end":return n.stop()}},null,null,null,j)})},i.Eu=function(t,n){throw new f("Not implemented yet")},i.XR=function(t){throw new f("Not implemented yet")},i.vg=function(){throw new f("Not implemented yet")},i.GR=function(){return this.ZF},i.iU=function(){this.JF.addEventListener("airPlayIsCasting",this.tU)},i.rU=function(){this.JF.removeEventListener("airPlayIsCasting",this.tU)},i.webkitSetMediaKeys=function(t){this.Hc=t||null,this.Hc&&(this.Hc.sessionId=this.Xc)},i.uU=function(){},i.sU=function(){throw new f("Not implemented yet")},i.oU=function(){throw new f("Not implemented yet")},ft(n,[{key:"Tg",get:function(){throw new f("Not implemented yet")}},{key:"kg",get:function(){throw new f("Not implemented yet")}},{key:"bw",get:function(){throw new f("Not implemented yet")}},{key:"aL",get:function(){throw new f("Not implemented yet")}},{key:"pw",get:function(){throw new f("Not implemented yet")}},{key:"_w",get:function(){throw new f("Not implemented yet")}},{key:"fu",get:function(){throw new f("Not implemented yet")}},{key:"v_",get:function(){throw new f("Not implemented yet")}},{key:"Eg",get:function(){return this.QF}},{key:"Tw",get:function(){throw new f("Not implemented yet")}},{key:"Sw",get:function(){throw new f("Not implemented yet")}},{key:"Ew",get:function(){throw new f("Not implemented yet")}},{key:"Pg",get:function(){throw new f("Not implemented yet")}},{key:"Ml",get:function(){throw new f("Not implemented yet")}},{key:"Lg",get:function(){throw new f("Not implemented yet")}},{key:"Rw",get:function(){throw new f("Not implemented yet")}},{key:"cU",get:function(){throw new f("Not implemented yet")}},{key:"Cw",get:function(){throw new f("Not implemented yet")},set:function(t){throw new f("Not implemented yet")}},{key:"Dy",get:function(){throw new f("Not implemented yet")}},{key:"UR",get:function(){throw new f("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Hc}},{key:"aU",get:function(){return QC}},{key:"ig",get:function(){throw new f("Not implemented yet")}},{key:"hL",get:function(){throw new f("Not implemented yet")}},{key:"YR",get:function(){throw new f("Not implemented yet")}},{key:"fU",get:function(){return!0}},{key:"RR",get:function(){return this.YF.RR},set:function(t){this.YF.RR=t}},{key:"GF",get:function(){return this.YF.GF}}]),n}(rg),jN=function(t){function n(n){var i;return(i=t.call(this,Qc.Xa)||this).ZF=n,i}return vt(n,t),n}(Ou);var $N=function(t){function n(n,i){var e,r=XN(i,n.pw,n.YR,n.hU);return(e=t.call(this,i,r,void 0,!1,n.kl)||this).vU=void 0,e.dU=void 0,e.lU=void 0,e.Ps=void 0,e.wU=void 0,e.gU=void 0,e.yU=void 0,e.mU=void 0,e.bU=void 0,e.pU=void 0,e.vU=n._U,e.dU=n.YR,e.lU=n.hU,e.Ps=n.pw,e.wU=n.kU,e.gU=Boolean(n.TU),e.yU=n.SU||{},e.mU=n.EU,e.bU=n.RU,e.pU=n.IU,e.DU(),e.CU(),e}vt(n,t);var i=n.prototype;return i.sc=function(t){var n=!1;void 0===this.vU&&void 0!==t._U&&(n=!0,this.vU=t._U),void 0===this.lU&&void 0!==t.hU&&(n=!0,this.lU=t.hU),void 0===this.Ps&&void 0!==t.pw&&(n=!0,this.Ps=t.pw),void 0===this.wU&&void 0!==t.kU&&(n=!0,this.wU=t.kU),!this.gU&&t.TU&&(n=!0,this.gU=t.TU),n=this.updateCustomAttributes(t,n),void 0===this.mU&&void 0!==t.EU&&(n=!0,this.mU=t.EU),void 0===this.bU&&void 0!==t.RU&&(n=!0,this.bU=t.RU),void 0===this.pU&&void 0!==t.IU&&(n=!0,this.pU=t.IU),this.DU(),this.CU(),this.NU(),n&&this.Yr(new Hy(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.SU)for(var e=0,r=v.keys(t.SU);e<r.length;e++){var u=r[e];void 0===this.yU[u]&&(i=!0,this.yU[u]=t.SU[u])}return i},i.DU=function(){this.Ps&&!this.lU&&(this.lU=new Date(this.dU.getTime()+1e3*this.Ps))},i.CU=function(){this.lU&&!this.Ps&&(this.Ps=Rn(this.lU.getTime()-this.dU.getTime()))},i.NU=function(){this.ay===1/0&&(this.lU||this.Ps)&&(this.ay=XN(this.oy,this.Ps,this.dU,this.lU))},ft(n,[{key:"Pd",get:function(){var t;return this.Ad||(this.Ad=Aw(Vy(t=this),{get content(){return t.sy},get class(){return t._U},get startDate(){return t.YR},get endDate(){return t.hU},get duration(){return t.pw},get plannedDuration(){return t.kU},get endOnNext(){return t.TU},get scte35Cmd(){return t.EU},get scte35Out(){return t.RU},get scte35In(){return t.IU},get customAttributes(){return t.SU}})),this.Ad}},{key:"_U",get:function(){return this.vU}},{key:"YR",get:function(){return this.dU}},{key:"hU",get:function(){return this.lU}},{key:"pw",get:function(){return this.Ps}},{key:"kU",get:function(){return this.wU}},{key:"TU",get:function(){return this.gU}},{key:"EU",get:function(){return this.mU}},{key:"RU",get:function(){return this.bU}},{key:"IU",get:function(){return this.pU}},{key:"SU",get:function(){return this.yU}}]),n}(jy);function XN(t,n,i,e){return It(n)?t+n:e?t+(Rn(e.getTime())-Rn(i.getTime())):1/0}var GN,YN=function(t){function n(){return t.call(this,void 0,void 0,Py.DATE_RANGE)||this}vt(n,t);var i=n.prototype;return i.sc=function(t,n){!function(t,n,i){for(var e=t.Fl.hl,r=function(i){var r=e[i],u=su(n,function(t){return t.kl===r.kl});u?r.sc(u):t.hT(r)},u=e.length-1;u>=0;u--)r(u);for(var s=0;s<n.length;s++){var o=n[s],c=o.YR;if(void 0!==c&&!t.YB(o.kl)){var a=i(c);t.RT(new $N(o,a))}}}(this,function(t){for(var n=yr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.kl)){var u=n.get(r.kl),s=wr({},u,Bw(r),{SU:wr({},u.SU,r.SU)});n.set(r.kl,s)}else n.set(r.kl,r),i.push(r.kl)}return i.map(function(t){return n.get(t)})}(t),n)},i.RT=function(n){var i,e,r;i=this.Fl.hl,e=n,(r=ou(i,function(t){return t._U===e._U}))&&r.TU&&r.sc({kl:r.kl,hU:e.YR}),t.prototype.RT.call(this,n)},n}(YC);function KN(t){switch(t.type){case GN.sB:return t.value;case GN.uB:return Fw(t.value);case GN.rB:return ju(t.value);default:return}}function JN(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.sB="daterange-ca-type_string",t.uB="daterange-ca-type_number",t.rB="daterange-ca-type_arraybuffer"}(GN||(GN={}));var QN,ZN,tO,nO=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,r,i,e)||this).dE=void 0,s.OU=void 0,s.dE=n,s.OU=u,s}return vt(n,t),ft(n,[{key:"name",get:function(){return this.dE}},{key:"timestamp",get:function(){return this.OU}}]),n}(Ac),iO=function(t){function n(n,i,e,r,u,s,o,c){var a;return(a=t.call(this,n,i,e,r,c)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=u,a.status=s,a.errorComment=o,a}return vt(n,t),n}(nO),eO=function(){function t(t,n){this.Kw=void 0,this.AU=void 0,this.Kw=new kb,this.AU=new NC(t,n)}var n=t.prototype;return n.ST=function(t,n,i,e,r,u,s){var o=new $C(t,n,i,e,r,u,s);return this.Kw.ol(o),this.AU.ol(o),o},n.IT=function(t){this.Kw.cl(t),this.AU.cl(t),t.et()},n.fl=function(){for(var t=0,n=this.Kw.hl.slice();t<n.length;t++){n[t].et()}this.Kw.fl(),this.AU.fl()},n.et=function(){this.fl(),this.Kw.et(),this.AU.et()},ft(t,[{key:"ig",get:function(){return this.Kw}}]),t}(),rO=function(t){function n(n,i,e,r,u){var s;(s=t.call(this)||this).yD=0,s.PU=!1,s.nR=void 0,s.iR=void 0,s.xU=void 0,s.bD=!0,s.pD=1,s.Gw=void 0,s.Yw=void 0,s.LU=void 0,s.BU=void 0,s.Kw=void 0,s.pT=void 0,s.Ps=void 0,s.MU=zk.vD(),s.FU=zk.vD(),s.mD=!1,s.UU=zk.vD(),s._D=void 0,s.VU=void 0,s.WU=void 0,s.WB=lg.cw,s.OT=lg.cw,s.JF=void 0,s.AU=void 0,s.uR=void 0,s.AB=void 0,s.HU=void 0,s.ED=void 0,s.ZE=void 0,s.sR=void 0,s.yM=void 0,s.ZF={Rg:0,Ig:0,Dg:0,Cg:0,Ng:0,Og:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.tR=void 0,s.qU=void 0,s.cR=new kk,s.aR=new Dk,s.setCurrentTime=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.Lg.length){n.next=4;break}return s.yD=t,n.next=4,lr.awrap(s.JF.ru("seekablechange"));case 4:s.yD=s.updateCurrentTime(t),s.AB.LB("THEOplayerSetCurrentTime",s.yD),s._D=!0,s.Yr(new Hg(s.yD));case 8:case"end":return n.stop()}},null,null,null,j)},s.zU=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.MU=new zk(i),s.Yr(new LC(s.bw))}},s.jU=function(t){s.WB=t.detail.readyState,s.Yr(new jg(+t.detail.currentTime,s.Ml)),s.$U()},s.XU=function(t){s.WB=t.detail.readyState,s.Yr(new $g(+t.detail.currentTime,s.Ml)),s.$U()},s.GU=function(t){if(t.detail){var n=+t.detail.duration;s.Ps=n,s.Yr(new Mg(s.pw))}},s.YU=function(t){t.detail&&(s.PU=!0,s.Yr(new Vg(+t.detail.currentTime)))},s.fR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);JN(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.iR=new iO(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),s.nR=by(s.iR),s.Yr(new Gg(s.iR))):JN(i)&&(s.iR=new nO(i.name,i.message,void 0,i.code,i.timestamp),s.nR=by(s.iR),s.Yr(new Gg(s.iR)))}},s.KU=function(t){s.Yr(new xC)},s.JU=function(t){s.WB=t.detail.readyState,s.Yr(new Wg(+t.detail.currentTime,s.Ml)),s.$U()},s.QU=function(t){return lr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.Lg.length){n.next=3;break}return n.next=3,lr.awrap(s.JF.ru("seekablechange"));case 3:s.WB=t.detail.readyState,s.Yr(new Bg(+t.detail.currentTime,s.Ml)),s.$U();case 6:case"end":return n.stop()}},null,null,null,j)},s.ZU=function(t){t.detail&&s.bD&&(s.bD=!1,s.Yr(new Ag(+t.detail.currentTime)))},s.tV=function(t){t.detail&&(s.bD||(s.bD=!0,s.Yr(new Og(+t.detail.currentTime))))},s.nV=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.UU=new zk(i)}},s.iV=function(t){t.detail&&s.Yr(new tp(+t.detail.currentTime))},s.eV=function(t){t.detail&&(s.pD=t.detail.playbackRate,s.Yr(new Fg(+t.detail.currentTime,s.pD)))},s.rV=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.FU=new zk(i)}},s.uV=function(t){t.detail&&(s.yD=+t.detail.currentTime,s._D=!1,s.Yr(new Ug(s.yD,s.xU)),s.Yr(new qg(s.yD)))},s.sV=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.Ps&&(s.PU=!1),s._D=!0,s.Yr(new Hg(n))}},s.oV=function(t){t.detail&&(t.detail.currentDate&&(s.xU=new Date(1e3*t.detail.currentDate)),s.yD=+t.detail.currentTime,s.Yr(new Ug(s.yD,s.xU)))},s.cV=function(t){s.VU=t.detail.height,s.WU=t.detail.width},s.aV=function(t){t.detail&&s.Yr(new Zb(+t.detail.currentTime))},s.fV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.tg.ol(new Ny(n))},s.hV=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,u=0;u<s.Gw.vl;u++){var o=s.tg.sl(u);o.Rl==e&&o.El==r?i=s.Gw.sl(u):1==o._l&&(n=s.Gw.sl(u))}i&&n&&(i._l=!0,n._l=!1)},s.vV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.ng.ol(new By(n))},s.dV=function(t){var n,i=t.detail.kind,e=t.detail.type;i===_b.ep&&e===Py.ID3?(n=new KC("",t.detail.label)).Ol=Yw.Pl:i===_b.ep&&e===Py.DATE_RANGE?(n=new YN,s.qU=n):n=new $C(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),s.LU.ol(n),s.AU.ol(n)},s.lV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,u={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(u.description=e.Id3FrameDescription);var o=new GC(Fw(e.startTime),u,e.uid),c=s.wV();c&&c.RT(o)}},s.gV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],u=new $y(Fw(r.startTime),Fw(r.endTime),r.content,!1),o=null!=(e=s.yV(_b.np))?e:s.yV(_b.oT);o&&(o.gr=Py.WEBVTT,o.RT(u))}},s.mV=function(t){t.type===Qc.wa&&(s.nR=by(t.errorObject)),s.Gr(t)},s.bV=function(t){t.detail&&(s.ZF.Ig=t.detail.corruptedVideoFrames,s.ZF.Rg=t.detail.droppedVideoFrames,s.Yr(new jN(s.Hw)))},s.pV=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={kl:t.id};if(void 0!==t.startDate&&(n.YR=new Date(t.startDate)),void 0!==t.endDate&&(n.hU=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var u=KN(t.customAttributes[r]);void 0!==u&&(e[r]=u)}n.SU=e}void 0!==t.scte35Cmd&&(n.EU=ju(t.scte35Cmd)),void 0!==t.scte35In&&(n.IU=ju(t.scte35In)),void 0!==t.scte35Out&&(n.RU=ju(t.scte35Out)),void 0!==t.startTime&&(n.ey=t.startTime),n._U=t.class,n.pw=Fw(t.duration),n.kU=Fw(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.ey?t.ey:(new Date).getTime(),e=new $N(t,i);s.qU.RT(e),s.qU.sc(n,i)})};var o=r.uid;s.AB=s.getSdkBridge(o),s.JF=new lC,rC()[o].sdkEventBus=s.JF,s.Gw=new _y,s.Yw=new _y;var c=s._V(e);return s.pT=new eO(Cn(s),new OC),s.AU=new PC(Cn(s)),s.uR=new Bb(s.pT,c),s.LU=new kb,s.BU=new bN(s.pT,s.LU),s.Kw=new Ek([s.LU,s.uR.Kp,s.BU.Kp]),s.yM=s.getFairPlayControllerBridge(s.AB),s.ZE=new zN(s.JF,s.yM),s.sR=new Tk(c),s.ZE.RR=s.sR,s.observeMediaElement(),s.DR(),s.ED=new BC(s.AB,u),s.ED.Kr("MA",function(){s.AB.LB("THEOplayerSetPreferredForwardBufferDuration",s.ED.BA)}),s}vt(n,t);var i=n.prototype;return i.wg=function(){return Xk},i.vg=function(){this.AB.LB("THEOplayerShow",{})},i.dg=function(){this.AB.LB("THEOplayerHide",{})},i.kV=function(){var t=this;this.AB.LB("THEOplayerSetInitialPreferredPeakBitRate",this.ED.QA);this.Kr("playing",function n(){t.AB.LB("THEOplayerSetInitialPreferredPeakBitRate",0),t.tu("playing",n)})},i.sg=function(t,n){var i,e,r;return lr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return this.HU=t,i=wr({},n,{sources:{src:t.src,type:hg.nw,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.AB.LB("THEOplayerSourceChange",i),e={gr:Hb.CT,Vl:t.src,Rh:t.type,CR:this.NR(t),OR:t.crossOrigin,AR:n.metadata&&n.metadata.title},this.sR.FE(t.contentProtection),u.next=7,lr.awrap(this.ZE.rc(e));case 7:this.tR=u.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==Py.WEBVTT})).length>0&&this.PR(r),Wb(this.ig),this.kV();case 11:case"end":return u.stop()}},null,this,null,j)},i.NR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{dc:Vr,zR:[{initDataTypes:[Vr.mr],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Y=function(){this.bD=!1,this.Yr(new Ag(this.bw)),this.AB.LB("THEOplayerPlay",{})},i.K=function(){this.bD=!0,this.Yr(new Og(this.bw)),this.AB.LB("THEOplayerPause",{})},i.lg=function(){},i.fl=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.yD=0,this.PU=!1,this.nR=void 0,this.iR=void 0,this.bD=!0,this.pD=1,this.Ps=void 0,this.FU=zk.vD(),this.MU=zk.vD(),this.VU=void 0,this.WU=void 0,this.WB=lg.cw,this.OT=lg.cw,this.Gw.fl(),this.Yw.fl(),this.LU.fl(),this.Kw.fl(),t.next=19,lr.awrap(this.BU.fl());case 19:return t.next=21,lr.awrap(this.uR.fl());case 21:return this.pT.fl(),this.AU.fl(),this.HU=void 0,t.next=26,lr.awrap(this.ZE.fl());case 26:case"end":return t.stop()}},null,this,null,j)},i.cg=function(){this.AB.LB("THEOplayerShowAirPlayPicker",{})},i.ag=function(){this.AB.LB("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Hw.Ig=t.Ig,this.Hw.Rg=t.Rg},i.et=function(){return lr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lr.awrap(this.fl());case 2:return this.Zr(),this.unobserveMediaElement(),this.qR(),this.ZE.RR=void 0,t.next=8,lr.awrap(this.ZE.Lr());case 8:return this.Gw.et(),this.Yw.et(),this.LU.et(),this.Kw.et(),t.next=14,lr.awrap(this.BU.et());case 14:return t.next=16,lr.awrap(this.uR.et());case 16:this.pT.et(),this.AU.et();case 18:case"end":return t.stop()}},null,this,null,j)},i.PR=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.uR.TT(i)}},i.$U=function(){var t=this.OT,n=this.WB;t!==n&&(this.OT=n,this.Yr(new Xg(this.bw,n)))},i.observeMediaElement=function(){this.ZE.Kr(Qc.ha,this.Gr),this.ZE.Kr([Qc.ga,Qc.wa],this.mV),this.JF.addEventListener("play",this.ZU),this.JF.addEventListener("pause",this.tV),this.JF.addEventListener("seeking",this.sV),this.JF.addEventListener("seeked",this.uV),this.JF.addEventListener("ratechange",this.eV),this.JF.addEventListener("durationchange",this.GU),this.JF.addEventListener("timeupdate",this.oV),this.JF.addEventListener("waiting",this.aV),this.JF.addEventListener("playing",this.iV),this.JF.addEventListener("ended",this.YU),this.JF.addEventListener("loadedmetadata",this.QU),this.JF.addEventListener("loadeddata",this.JU),this.JF.addEventListener("loadstart",this.KU),this.JF.addEventListener("canplay",this.jU),this.JF.addEventListener("canplaythrough",this.XU),this.JF.addEventListener("error",this.fR),this.JF.addEventListener("seekablechange",this.rV),this.JF.addEventListener("videosizechange",this.cV),this.JF.addEventListener("bufferedchange",this.zU),this.JF.addEventListener("playedchange",this.nV),this.JF.addEventListener("metricschange",this.bV),this.JF.addEventListener("addDateRangeCues",this.pV)},i.unobserveMediaElement=function(){this.ZE.tu(Qc.ha,this.Gr),this.ZE.tu([Qc.ga,Qc.wa],this.mV),this.JF.removeEventListener("play",this.ZU),this.JF.removeEventListener("pause",this.tV),this.JF.removeEventListener("seeking",this.sV),this.JF.removeEventListener("seeked",this.uV),this.JF.removeEventListener("ratechange",this.eV),this.JF.removeEventListener("durationchange",this.GU),this.JF.removeEventListener("timeupdate",this.oV),this.JF.removeEventListener("waiting",this.aV),this.JF.removeEventListener("playing",this.iV),this.JF.removeEventListener("ended",this.YU),this.JF.removeEventListener("loadedmetadata",this.QU),this.JF.removeEventListener("loadeddata",this.JU),this.JF.removeEventListener("loadstart",this.KU),this.JF.removeEventListener("canplay",this.jU),this.JF.removeEventListener("canplaythrough",this.XU),this.JF.removeEventListener("error",this.fR),this.JF.removeEventListener("seekablechange",this.rV),this.JF.removeEventListener("videosizechange",this.cV),this.JF.removeEventListener("bufferedchange",this.zU),this.JF.removeEventListener("playedchange",this.nV),this.JF.removeEventListener("metricschange",this.bV),this.JF.removeEventListener("addDateRangeCues",this.pV)},i.updateCurrentTime=function(t){var n=this.Lg.start(0),i=this.Lg.end(0);return d.min(d.max(t,n),i)},i.wV=function(){for(var t=0,n=this.Kw.hl;t<n.length;t++){var i=n[t];if(i.Sl===_b.ep&&i.gr===Py.ID3)return i}},i.yV=function(t){for(var n=0,i=this.Kw.hl;n<i.length;n++){var e=i[n],r=e.Ol===Yw.Al,u=e.Sl===t;if(r&&u)return e}},i.DR=function(){this.JF.addEventListener("addaudiotrack",this.fV),this.JF.addEventListener("enableaudiotrack",this.hV),this.JF.addEventListener("addvideotrack",this.vV),this.JF.addEventListener("addtexttrack",this.dV),this.JF.addEventListener("addtexttrackid3cues",this.lV),this.JF.addEventListener("addtexttrackcues",this.gV)},i.qR=function(){this.JF.removeEventListener("addaudiotrack",this.fV),this.JF.removeEventListener("enableaudiotrack",this.hV),this.JF.removeEventListener("addvideotrack",this.vV),this.JF.removeEventListener("addtexttrack",this.dV),this.JF.removeEventListener("addtexttrackid3cues",this.lV),this.JF.removeEventListener("addtexttrackcues",this.gV)},i._g=function(){},ft(n,[{key:"tg",get:function(){return this.Gw}},{key:"kg",get:function(){return this.MU.$R()}},{key:"Tg",get:function(){return this.xU?this.xU:null},set:function(t){this.AB.LB("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.xU=t}},{key:"bw",get:function(){return this.yD},set:function(t){this.setCurrentTime(t)}},{key:"pw",get:function(){return this.Ps}},{key:"_w",get:function(){return this.PU}},{key:"fu",get:function(){return this.nR}},{key:"kw",get:function(){return this.iR}},{key:"eg",get:function(){}},{key:"Eg",get:function(){return this.ZE.Eg}},{key:"Hw",get:function(){return this.ZF}},{key:"Tw",get:function(){return this.mD},set:function(t){this.mD!==t&&(this.AB.LB("THEOplayerSetMuted",t),this.mD=t,this.Yr(new zg(this.bw,t?0:1)))}},{key:"Sw",get:function(){return this.bD}},{key:"Ew",get:function(){return this.pD},set:function(t){this.AB.LB("THEOplayerSetPlaybackRate",t),this.pD=t}},{key:"Pg",get:function(){return this.UU.$R()}},{key:"xg",get:function(){return Bk.wI},set:function(t){}},{key:"Ml",get:function(){return this.WB}},{key:"Lg",get:function(){return this.FU.$R()}},{key:"Rw",get:function(){return this._D}},{key:"YR",get:function(){}},{key:"ig",get:function(){return this.Kw}},{key:"Iw",get:function(){return this.VU}},{key:"Dw",get:function(){return this.WU}},{key:"Cw",get:function(){return 1},set:function(t){}},{key:"Bg",get:function(){return this.aR}},{key:"ng",get:function(){return this.Yw}},{key:"KR",get:function(){return this.cR}},{key:"Mg",get:function(){return!1},set:function(t){}},{key:"Ag",get:function(){return!0}}]),n}(rg),uO=function(){function t(){this.JR=yk.OE}var n=t.prototype;return n.QR=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if((e=n.type)&&zr(e.toLowerCase(),hg.tw))return!1;var e,r=n.contentProtection;if(r&&!Mp(r)){if(!Vp(r))return!1;if(!t.TV(r))return!1}return!0},t.TV=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.ZR=function(){return!1},t}(),sO=function(){function n(t){this.playerID=t}return n.prototype.LB=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),oO=function(t){function n(n){var i;return(i=t.call(this)||this).AB=void 0,i.JF=void 0,i.SV=function(t){var n=ju(t.detail.initData),e=t.detail.sessionId;i.Yr(new hN(n,e))},i.EV=function(t){var n=new y(Qu(t.detail.message)),e=t.detail.destinationURL;i.Yr(new vN(n,e))},i.RV=function(t){i.Yr(new dN)},i.AB=n,i.JF=new lC,rC().fairplayController={sdkEventBus:i.JF},i.IV(),i}vt(n,t);var i=n.prototype;return i.IV=function(){this.JF.addEventListener(JC.cM,this.SV),this.JF.addEventListener(JC.aM,this.EV),this.JF.addEventListener(JC.fM,this.RV)},i.wM=function(t,n){var i={playerId:sC(),data:Zu(n.buffer),sessionId:t};this.AB.LB("THEOplayerCreateKeySession",i)},i.sc=function(t,n){var i={playerId:sC(),data:Zu(n.buffer),sessionId:t};this.AB.LB("THEOplayerUpdateKey",i)},n}(rg),cO=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.qh=function(n){if(Ls(n.Ih)){var i=Bs(n.Ih);n.Ih=Es(i)}return t.prototype.qh.call(this,n)},n}(function(){function t(t){this._T=void 0,this._T=t}var n=t.prototype;return n.qh=function(t){return this._T.qh(t)},n.wv=function(t){this._T.wv(t)},n.et=function(){this._T.et()},t}()),aO=function(t){function n(n,i,e,r,u){return t.call(this,n,i,e,r,u)||this}vt(n,t);var i=n.prototype;return i.og=function(){return!1},i.getSdkBridge=function(t){return new sO(t)},i.getFairPlayControllerBridge=function(t){return ZN||(ZN=new oO(t)),ZN},i._V=function(t){return new cO(t)},n}(rO);QN=new(function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.IS=function(t,n,i,e,r,u){return new aO(t,n,i,e,r)},n}(uO)),Lk.Zn.uI(QN),function(t){t.Dd="addtrack",t.Nd="removetrack",t.$d="change",t.Qd="update"}(tO||(tO={}));var fO=function(t,n,i){this.type=tO.$d,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},hO=function(t,n){this.type=tO.Dd,this.mediaType=t,this.mediaTrack=n},vO=function(t,n){this.type=tO.Nd,this.mediaType=t,this.mediaTrack=n},dO=function(t,n){this.type=tO.Qd,this.mediaType=t,this.mediaTrack=n},lO=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.DV=function(t){var n=new fO(e.type,t.track,e.mediaTracks);e.messageDispatcher.CV(n)},this.NV=function(t){var n=new hO(e.type,t.track);e.messageDispatcher.CV(n),t.track.addEventListener("update",e.OV)},this.AV=function(t){var n=new vO(e.type,t.track);e.messageDispatcher.CV(n)},this.OV=function(t){var n=new dO(e.type,t.track);e.messageDispatcher.CV(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.IV()}return t.prototype.IV=function(){this.mediaTracks.addEventListener("change",this.DV),this.mediaTracks.addEventListener("addtrack",this.NV),this.mediaTracks.addEventListener("removetrack",this.AV)},t}(),wO=function(){function t(t){this.PV=void 0,this.PV=new sO(t)}return t.prototype.CV=function(t){this.PV.LB(t.type,qR(t))},t}();wR(function(t){if(t.Pd.audioTracks){var n=new wO(t.Tl);new lO("audio",t.Pd.audioTracks,n)}if(t.Pd.videoTracks){var i=new wO(t.Tl);new lO("video",t.Pd.videoTracks,i)}});var gO,yO=function(){function t(){this.xV=i.webkit}return t.prototype.LB=function(t,n){this.xV.messageHandlers[t]&&this.xV.messageHandlers[t].postMessage(n)},t}(),mO="nativePromiseCallback",bO=function(t){function n(n){var i;return(i=t.call(this,mO)||this).detail=n,i}return vt(n,t),n}(Ou);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(gO||(gO={}));var pO=function(t){function n(){return t.apply(this,arguments)||this}vt(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Yr(new bO(n))},i.addEventListener=function(t,n){this.Kr(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n}(lC),_O=function(){function t(){var t=this;this.PV=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new f("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case gO.RESOLVE:i.xu(n.detail.data);break;case gO.REJECT:i.Lu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new pO;rC().nativePromise={sdkEventBus:n},n.addEventListener(mO,this.handleNativePromiseEvent)}return t.prototype.LV=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=wr({},n,{promiseId:e}),u=new Vs;return this.promisesMap[e]=u,null==(i=this.PV)||i.LB(n.type,WR(r)),u.Ou},t}();_O.messageIdTracker=-1;var kO,TO=function(t){function n(){var n;return(n=t.call(this)||this).PV=new yO,n}return vt(n,t),n}(_O),SO=function(t){function n(n){var i;return(i=t.call(this)||this).PV=new sO(n),i}return vt(n,t),n}(_O);!function(t){t.Dd="TextTrackListAddTrack",t.Nd="TextTrackListRemoveTrack",t.$d="TextTrackListChange"}(kO||(kO={}));var EO,RO=function(t){this.type=kO.Dd,this.textTrack=t},IO=function(t){this.type=kO.Nd,this.textTrack=t},DO=function(t){this.type=kO.$d,this.textTrack=t};!function(t){t.Bd="TextTrackAddCue",t.Fd="TextTrackRemoveCue",t.Vd="TextTrackEnterCue",t.Hd="TextTrackExitCue",t.zd="TextTrackCueChange"}(EO||(EO={}));var CO,NO=function(t,n){this.type=EO.Bd,this.textTrackCue=t,this.textTrackUid=n},OO=function(t,n){this.type=EO.Fd,this.textTrackCue=t,this.textTrackUid=n},AO=function(t,n){this.type=EO.Vd,this.textTrackCue=t,this.textTrackUid=n},PO=function(t,n){this.type=EO.Hd,this.textTrackCue=t,this.textTrackUid=n},xO=function(t){this.type=EO.zd,this.textTrackUid=t};!function(t){t.Qg="TextTrackCueEnter",t.ty="TextTrackCueExit",t.Qd="TextTrackCueUpdate"}(CO||(CO={}));var LO=function(t){this.type=CO.Qg,this.textTrackCue=t},BO=function(t){this.type=CO.ty,this.textTrackCue=t},MO=function(t){this.type=CO.Qd,this.textTrackCue=t},FO=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.BV=function(t){var i=UO(t.cue),e=new LO(i);n.messageDispatcher.LV(e).then()},this.MV=function(t){var i=UO(t.cue),e=new BO(i);n.messageDispatcher.LV(e).then()},this.FV=function(t){var i=UO(t.cue),e=new MO(i);n.messageDispatcher.LV(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.IV=function(t){t.addEventListener("enter",this.BV),t.addEventListener("exit",this.MV),t.addEventListener("update",this.FV)},n.iu=function(t){t.removeEventListener("enter",this.BV),t.removeEventListener("exit",this.MV),t.removeEventListener("update",this.FV)},t}();function UO(t){var n=JD(t,t.track.type);return delete n.track,n}var VO=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.UV=function(t){var n,e=UO(t.cue),r=new NO(e,t.cue.track.uid);i.messageDispatcher.LV(r).then(),null==(n=i.textTrackCueBridge)||n.IV(t.cue)},this.VV=function(t){var n,e=UO(t.cue),r=new OO(e,t.cue.track.uid);i.messageDispatcher.LV(r).then(),null==(n=i.textTrackCueBridge)||n.iu(t.cue)},this.BV=function(t){var n=UO(t.cue),e=new AO(n,t.cue.track.uid);i.messageDispatcher.LV(e).then()},this.MV=function(t){var n=UO(t.cue),e=new PO(n,t.cue.track.uid);i.messageDispatcher.LV(e).then()},this.WV=function(t){var n=new xO(t.track.uid);i.messageDispatcher.LV(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new FO(e))}var n=t.prototype;return n.IV=function(t){t.addEventListener("addcue",this.UV),t.addEventListener("removecue",this.VV),t.addEventListener("entercue",this.BV),t.addEventListener("exitcue",this.MV),t.addEventListener("cuechange",this.WV)},n.iu=function(t){t.removeEventListener("addcue",this.UV),t.removeEventListener("removecue",this.VV),t.removeEventListener("entercue",this.BV),t.removeEventListener("exitcue",this.MV),t.removeEventListener("cuechange",this.WV)},n.initMessageDispatcher=function(t){return St.Yn?new TO:St.Kn&&void 0!==t?new SO(t):void 0},t}(),WO=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.NV=function(t){var n,i=new RO(t.track);e.messageDispatcher.LV(i).then(),null==(n=e.textTrackBridge)||n.IV(t.track)},this.AV=function(t){var n,i=new IO(t.track);e.messageDispatcher.LV(i).then(),null==(n=e.textTrackBridge)||n.iu(t.track)},this.HV=function(t){var n=new DO(t.track);e.messageDispatcher.LV(n).then()},this.qV=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.zV(i);r&&(this.textTrackBridge=new VO(r,i)),this.IV(),this.sdkEventBus=new lC,rC().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.qV)}var n=t.prototype;return n.IV=function(){this.textTracks.addEventListener("addtrack",this.NV),this.textTracks.addEventListener("removetrack",this.AV),this.textTracks.addEventListener("change",this.HV)},n.zV=function(t){return St.Yn?new TO:St.Kn&&void 0!==t?new SO(t):void 0},t}();wR(function(t){if(t.Pd.textTracks){var n=new SO(t.Tl);new WO(t.Pd.textTracks,n,t.Tl)}});var HO,qO,zO=function(t){function n(){return t.apply(this,arguments)||this}return vt(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case HO.jV:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Yr(new jO(i));break;default:0}},n}(lC),jO=function(t){function n(n){var i;return(i=t.call(this,HO.jV)||this).detail=n,i}return vt(n,t),n}(Ou);!function(t){t.jV="registerContentProtectionIntegration"}(HO||(HO={})),function(t){t.$V="certifiateRequest",t.XV="certifiateResponse",t.GV="licenseRequest",t.YV="licenseResponse",t.KV="extractFairplayContentId",t.JV="buildContentProtection",t.QV="registerContentProtectionCallback"}(qO||(qO={}));var $O,XO=function(t,n){this.type=qO.QV,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}($O||($O={}));var GO=function(t,n){this.type=qO.JV,this.value=t,this.integrationId=n},YO=function(t,n){this.type=qO.$V,this.value=t,this.integrationId=n},KO=function(t,n){this.type=qO.XV,this.value=t,this.integrationId=n},JO=function(t,n){this.type=qO.KV,this.value=t,this.integrationId=n},QO=function(t,n){this.type=qO.GV,this.value=t,this.integrationId=n},ZO=function(t,n){this.type=qO.YV,this.value=t,this.integrationId=n},tA=function(){function t(t,n){this.ZV=void 0,this.DS=void 0,this.ZV=t,this.DS=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t),e=new YO(i,this.DS),c.prev=2,c.next=5,lr.awrap(this.ZV.LV(e));case 5:if(!(r=c.sent)){c.next=16;break}if(u=JSON.parse(r),!this.tW(u)){c.next=13;break}return s=wr({},u),c.abrupt("return",s);case 13:if(!this.nW(u)){c.next=16;break}return o=new y(u),c.abrupt("return",o);case 16:throw new gy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw c.prev=19,c.t0=c.catch(2),new gy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,c.t0);case 22:case"end":return c.stop()}},null,this,[[2,19]],j)},i.onCertificateResponse=function(t){var i,e,r,u,s;return lr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new KO(e,this.DS),o.next=5,lr.awrap(this.ZV.LV(r));case 5:if(!(u=o.sent)){o.next=11;break}return s=JSON.parse(u),o.abrupt("return",new y(s));case 11:throw new gy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,j)},i.onLicenseRequest=function(t){var i,e,r,u,s,o,c;return lr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new QO(e,this.DS),a.prev=3,a.next=6,lr.awrap(this.ZV.LV(r));case 6:if(!(u=a.sent)){a.next=17;break}if(s=JSON.parse(u),!this.tW(s)){a.next=14;break}return o={url:s.url,method:s.method,headers:s.headers,body:s.body?new y(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl},a.abrupt("return",o);case 14:if(!this.nW(s)){a.next=17;break}return c=new y(s),a.abrupt("return",c);case 17:throw new gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw a.prev=20,a.t0=a.catch(3),new gy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 23:case"end":return a.stop()}},null,this,[[3,20]],j)},i.onLicenseResponse=function(t){var i,e,r,u,s,o;return lr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=wr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},u=new ZO(r,this.DS),c.next=6,lr.awrap(this.ZV.LV(u));case 6:if(!(s=c.sent)){c.next=12;break}return o=JSON.parse(s),c.abrupt("return",new y(o));case 12:throw new gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return c.stop()}},null,this,null,j)},i.extractFairplayContentId=function(t){var i,e;return lr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new JO(t,this.DS),r.next=3,lr.awrap(this.ZV.LV(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",j.reject(new gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,j)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.tW=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.nW=function(t){return!!new y(t)},t}(),nA=function(){function t(t){this.ZV=void 0,this.ZV=t}return t.prototype.build=function(t){if(!t.integration)throw new f("integrationId is undefined");var n=new tA(this.ZV,t.integration),i=new GO({drmConfiguration:t},t.integration);return this.ZV.LV(i),n},t}(),iA=function(t){function n(n){var i;return(i=t.call(this)||this).ZV=void 0,i.ZV=new SO(n),i}return vt(n,t),ft(n,[{key:"messageDispatcher",get:function(){return this.ZV}}]),n}(function(){var t=this;this.JF=void 0,this.iW=function(n){var i=new nA(t.messageDispatcher),e=n.detail,r=e.integrationId,u=e.keySystem,s={state:Cp.xS.NS(r,u,i)};t.messageDispatcher.LV(new XO(s,r))},this.JF=new zO,rC().contentProtectionIntegration={sdkEventBus:this.JF},this.JF.addEventListener(HO.jV,this.iW)});wR(function(t){new iA(t.Pd.uid)}),n.ChromelessPlayer=function t(n,i){var e=Kg(i),r=new(RR||(RR=dR(RR=xR(fR),uR.vL),RR=dR(RR,uR.dL)),RR)(n,e),u=r.Pd;return r.uL(),r.YL(TR),v.defineProperty(u,"constructor",{value:t}),u=Nw(u),function(t){for(var n=0;n<lR.length;n++)(0,lR[n])(t)}(r),u},n.createGlobals=oC,n.features=[],n.getCueMirrorMap=uC,n.getGlobalId=sC,n.getSdkEventBridge=rC,n.playerSuiteVersion="2022.3.3",n.players=BR,n.registerContentProtectionIntegration=MR,n.utils=LR,n.version="4.1.0",v.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
