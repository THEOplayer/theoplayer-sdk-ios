/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), promise-polyfill
 (MIT - Copyright (c) 2014 Taylor Hakes & Forbes Lindesay),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2023.2.3 (5.2.0)
 Created: 2023-05-16T15:14:54.879Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e,r=t.window,s=t.document,u=t.location,o=t.navigator,a=t.setTimeout,h=t.clearTimeout,c=t.setInterval,f=t.clearInterval,l=t.Error,v=t.TypeError,d=t.SyntaxError,w=t.Object,g=t.Math,m=t.parseInt,y=t.parseFloat,p=t.isNaN,_=t.Uint8Array,b=t.Worker,k=(t.WorkerGlobalScope,t.XMLHttpRequest);function A(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),w.defineProperty(t,e.key,e)}}function T(t,n,i){return n&&A(t.prototype,n),i&&A(t,i),w.defineProperty(t,"prototype",{writable:!1}),t}function S(t,n){return(S=w.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function E(t,n){t.prototype=w.create(n.prototype),t.prototype.constructor=t,S(t,n)}!function(t){t.l="web",t.g="android",t.I="android-tv",t.R="ios",t.N="tvos",t.U="chromecast"}(e||(e={}));var I=o?o.userAgent:"",R=I.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),C=I.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),D=I.match(/Android ([0-9\.]+)/i),N=I.match(/Windows NT ([0-9\.]+)/i),P=I.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),x=I.match(/Firefox\/([0-9\.]+)/i),B=I.match(/OPR\/(\d+\.\d+)/i),O=I.match(/Tizen ([0-9\.]+)/i),L=I.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),M=function(){function n(){this.F=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.V=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(I)||/(macintosh|mac(?=_powerpc)\s)/i.test(I),this.G=/Windows NT/i.test(I),this.Y=N?y(N[1]):0,this.j=/Android/i.test(I),this.Z=D?y(D[1]):0,this.K=/windows phone (8|8\.1)/i.test(I),this.J=/iPhone/i.test(I),this.nt=/iPad/i.test(I),this.ut=this.V&&this.F&&!this.nt,this.ot=/iPod/i.test(I),this.ct=/Mobile Safari/i.test(I),this.ft=/EOSSTB/i.test(I),this.vt=(this.J||this.nt||this.ut||this.ot)&&!this.K,this.dt=L?y(L[2]):0,this.wt=this.K||this.vt||this.j||this.ct,this._t=/CriOS/i.test(I),this.yt=Boolean(t.chrome&&/google/i.test(o.vendor))||this._t,this.kt=this.yt&&/Edg\//i.test(o.userAgent),this.bt=C?m(C[1],10):0,this.At=Boolean(t.chrome||/Chrome/i.test(I)||/CriOS/i.test(I)),this.Tt=R?m(R[1],10):0,this.St=/SMART-TV.*Tizen/i.test(I),this.Et=O?y(O[1]):0,this.It=/webos|web0s/i.test(I),this.Rt=/Edge\/\d+/i.test(I),this.Dt=/Trident/i.test(I),this.Nt=this.Dt&&!t.ActiveXObject&&"ActiveXObject"in t,this.Ct=/Vivaldi/i.test(I),this.Pt=/Firefox/i.test(I)&&!/Seamonkey/i.test(I),this.Bt=x?y(x[1]):0,this.Ot=/Safari/i.test(I)&&!/Chrome/i.test(I)&&!this.K&&!this.St,this.xt=P?y(P[2]):0,this.Lt=Boolean(B),this.Mt=B?y(B[1]):0,this.Ut=/CrKey/.test(I),this.Xt=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(I),this.Ht="ios"===e.I,this.Ft="ios"===e.g,this.zt=this.Ft||this.Ht,this.Vt="ios"===e.R,this.Wt="ios"===e.N,this.Gt="ios"===e.U}return T(n,[{key:"qt",get:function(){return this.F}},{key:"Yt",get:function(){return this.V}},{key:"jt",get:function(){return this.G}},{key:"Qt",get:function(){return this.Y}},{key:"Zt",get:function(){return this.j}},{key:"Kt",get:function(){return this.Z}},{key:"Jt",get:function(){return this.K}},{key:"$t",get:function(){return this.J}},{key:"in",get:function(){return this.nt}},{key:"un",get:function(){return this.ut}},{key:"hn",get:function(){return this.ot}},{key:"cn",get:function(){return this.vt}},{key:"fn",get:function(){return this.dt}},{key:"vn",get:function(){return this.ft}},{key:"dn",get:function(){return this.ct}},{key:"wn",get:function(){return this.wt}},{key:"_n",get:function(){return this._t}},{key:"yn",get:function(){return this.yt}},{key:"pn",get:function(){return this.Tt}},{key:"An",get:function(){return this.kt}},{key:"Tn",get:function(){return this.bt}},{key:"Sn",get:function(){return this.St}},{key:"En",get:function(){return this.Et}},{key:"In",get:function(){return this.It}},{key:"Rn",get:function(){return this.Rt}},{key:"Dn",get:function(){return this.Dt}},{key:"Nn",get:function(){return this.Nt}},{key:"Cn",get:function(){return this.Ct}},{key:"Pn",get:function(){return this.Pt}},{key:"Bn",get:function(){return this.Bt}},{key:"On",get:function(){return this.Ot}},{key:"xn",get:function(){return this.xt}},{key:"Ln",get:function(){return this.Lt}},{key:"Mn",get:function(){return this.Mt}},{key:"Un",get:function(){return this.Ut}},{key:"Xn",get:function(){return this.Xt}},{key:"Hn",get:function(){return!(!this.In&&!this.Sn)&&this.pn<=56}},{key:"Fn",get:function(){return this.Ht}},{key:"zn",get:function(){return this.Ft}},{key:"Vn",get:function(){return this.zt}},{key:"Wn",get:function(){return this.Vt}},{key:"Gn",get:function(){return this.Wt}},{key:"qn",get:function(){return this.Gt}},{key:"Yn",get:function(){return this.At}}]),n}();M.jn=new M;var j=M.jn,F={}.hasOwnProperty,U={}.toString;function H(t){return null!=t}function X(t){return void 0===t}var z=Array.isArray||function(t){return"[object Array]"===U.call(t)};function V(t){return W(t)&&F.call(t,"length")&&Z(t.length)}function W(t){return"object"==typeof t&&null!==t}function q(t){return W(t)&&t.constructor&&t.constructor===w}function G(t){return"string"==typeof t}function $(t){return"boolean"==typeof t}function Y(t){return Boolean(t)&&"function"==typeof t.then}function Q(t){return"[object Date]"===U.call(t)}function Z(t){return"number"==typeof t}var K=function(){},J=function(t){return t};function tt(t,n){var e=-1/0;return function(){var r=i.wr();r-e>=n&&(t.apply(void 0,arguments),e=r)}}function nt(t,n,e){var r;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var a=this,h=e&&!r;void 0!==r&&i.Qn(r),r=i.Zn(function(){r=void 0,e||t.apply(a,u)},n),h&&t.apply(a,u)}}var it=!(j.Dn&&!j.Nn),et=t.console;function rt(t){if(W(t))try{return JSON.stringify(t)}catch(t){}return t}function st(t){return t.map(rt).join(" ")}function ut(t){var n=et&&et[t];return n?n.bind&&it?n.bind(et):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];et[t](st(i))}:void 0}var ot,at=ut("log")||K,ht=ut("warn")||at.bind(void 0,"WARNING:"),ct=ut("error")||at.bind(void 0,"ERROR:"),ft=(ot=et&&et.assert)?ot.bind&&it?ot.bind(et):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];et.assert(t,st(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ct.apply(void 0,["Assertion failed:"].concat(i))}},lt=null;try{lt=new WebAssembly.Instance(new WebAssembly.Module(new _([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function vt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function dt(t){return!0===(t&&t.Kn)}function wt(t){var n=g.clz32(t&-t);return t?31-n:n}vt.prototype.Kn,w.defineProperty(vt.prototype,"Kn",{value:!0}),vt.isLong=dt;var gt={},mt={};function yt(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=mt[t])?e:(i=_t(t,0,!0),r&&(mt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=gt[t])?e:(i=_t(t,t<0?-1:0,!1),r&&(gt[t]=i),i)}function pt(t,n){if(p(t))return n?Ct:Rt;if(n){if(t<0)return Ct;if(t>=St)return Bt}else{if(t<=-Et)return Ot;if(t+1>=Et)return xt}return t<0?pt(-t,n).neg():_t(t%Tt|0,t/Tt|0,n)}function _t(t,n,i){return new vt(t,n,i)}vt.fromInt=yt,vt.fromNumber=pt,vt.fromBits=_t;var bt=g.pow;function kt(t,n,i){if(0===t.length)throw l("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?Ct:Rt;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw l("interior hyphen");if(0===e)return kt(t.substring(1),n,i).neg();for(var r=pt(bt(i,8)),s=Rt,u=0;u<t.length;u+=8){var o=g.min(8,t.length-u),a=m(t.substring(u,u+o),i);if(o<8){var h=pt(bt(i,o));s=s.mul(h).add(pt(a))}else s=(s=s.mul(r)).add(pt(a))}return s.unsigned=n,s}function At(t,n){return"number"==typeof t?pt(t,n):"string"==typeof t?kt(t,n):_t(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}vt.fromString=kt,vt.fromValue=At;var Tt=4294967296,St=Tt*Tt,Et=St/2,It=yt(1<<24),Rt=yt(0);vt.ZERO=Rt;var Ct=yt(0,!0);vt.UZERO=Ct;var Dt=yt(1);vt.ONE=Dt;var Nt=yt(1,!0);vt.UONE=Nt;var Pt=yt(-1);vt.NEG_ONE=Pt;var xt=_t(-1,2147483647,!1);vt.MAX_VALUE=xt;var Bt=_t(-1,-1,!0);vt.MAX_UNSIGNED_VALUE=Bt;var Ot=_t(0,-2147483648,!1);vt.MIN_VALUE=Ot;var Lt=vt.prototype;Lt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Lt.toNumber=function(){return this.unsigned?(this.high>>>0)*Tt+(this.low>>>0):this.high*Tt+(this.low>>>0)},Lt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ot)){var n=pt(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=pt(bt(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),a=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return a+u;for(;a.length<6;)a="0"+a;u=""+a+u}},Lt.getHighBits=function(){return this.high},Lt.getHighBitsUnsigned=function(){return this.high>>>0},Lt.getLowBits=function(){return this.low},Lt.getLowBitsUnsigned=function(){return this.low>>>0},Lt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ot)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Lt.isZero=function(){return 0===this.high&&0===this.low},Lt.eqz=Lt.isZero,Lt.isNegative=function(){return!this.unsigned&&this.high<0},Lt.isPositive=function(){return this.unsigned||this.high>=0},Lt.isOdd=function(){return 1==(1&this.low)},Lt.isEven=function(){return 0==(1&this.low)},Lt.equals=function(t){return dt(t)||(t=At(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Lt.eq=Lt.equals,Lt.notEquals=function(t){return!this.eq(t)},Lt.neq=Lt.notEquals,Lt.ne=Lt.notEquals,Lt.lessThan=function(t){return this.comp(t)<0},Lt.lt=Lt.lessThan,Lt.lessThanOrEqual=function(t){return this.comp(t)<=0},Lt.lte=Lt.lessThanOrEqual,Lt.le=Lt.lessThanOrEqual,Lt.greaterThan=function(t){return this.comp(t)>0},Lt.gt=Lt.greaterThan,Lt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Lt.gte=Lt.greaterThanOrEqual,Lt.ge=Lt.greaterThanOrEqual,Lt.compare=function(t){if(dt(t)||(t=At(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Lt.comp=Lt.compare,Lt.negate=function(){return!this.unsigned&&this.eq(Ot)?Ot:this.not().add(Dt)},Lt.neg=Lt.negate,Lt.add=function(t){dt(t)||(t=At(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=0,h=0,c=0,f=0;return c+=(f+=r+(65535&t.low))>>>16,h+=(c+=e+o)>>>16,a+=(h+=i+u)>>>16,a+=n+s,_t((c&=65535)<<16|(f&=65535),(a&=65535)<<16|(h&=65535),this.unsigned)},Lt.subtract=function(t){return dt(t)||(t=At(t)),this.add(t.neg())},Lt.sub=Lt.subtract,Lt.multiply=function(t){if(this.isZero())return this;if(dt(t)||(t=At(t)),lt)return _t(lt.mul(this.low,this.high,t.low,t.high),lt.get_high(),this.unsigned);if(t.isZero())return this.unsigned?Ct:Rt;if(this.eq(Ot))return t.isOdd()?Ot:Rt;if(t.eq(Ot))return this.isOdd()?Ot:Rt;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(It)&&t.lt(It))return pt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=65535&t.low,h=0,c=0,f=0,l=0;return f+=(l+=r*a)>>>16,c+=(f+=e*a)>>>16,f&=65535,c+=(f+=r*o)>>>16,h+=(c+=i*a)>>>16,c&=65535,h+=(c+=e*o)>>>16,c&=65535,h+=(c+=r*u)>>>16,h+=n*a+i*o+e*u+r*s,_t((f&=65535)<<16|(l&=65535),(h&=65535)<<16|(c&=65535),this.unsigned)},Lt.mul=Lt.multiply,Lt.divide=function(t){if(dt(t)||(t=At(t)),t.isZero())throw l("division by zero");var n,i,e;if(lt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?_t((this.unsigned?lt.div_u:lt.div_s)(this.low,this.high,t.low,t.high),lt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Ct:Rt;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Ct;if(t.gt(this.shru(1)))return Nt;e=Ct}else{if(this.eq(Ot))return t.eq(Dt)||t.eq(Pt)?Ot:t.eq(Ot)?Dt:(n=this.shr(1).div(t).shl(1)).eq(Rt)?t.isNegative()?Dt:Pt:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(Ot))return this.unsigned?Ct:Rt;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=Rt}for(i=this;i.gte(t);){n=g.max(1,g.floor(i.toNumber()/t.toNumber()));for(var r=g.ceil(g.log(n)/g.LN2),s=r<=48?1:bt(2,r-48),u=pt(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=pt(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Dt),e=e.add(u),i=i.sub(o)}return e},Lt.div=Lt.divide,Lt.modulo=function(t){return dt(t)||(t=At(t)),lt?_t((this.unsigned?lt.rem_u:lt.rem_s)(this.low,this.high,t.low,t.high),lt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Lt.mod=Lt.modulo,Lt.rem=Lt.modulo,Lt.not=function(){return _t(~this.low,~this.high,this.unsigned)},Lt.countLeadingZeros=function(){return this.high?g.clz32(this.high):g.clz32(this.low)+32},Lt.clz=Lt.countLeadingZeros,Lt.countTrailingZeros=function(){return this.low?wt(this.low):wt(this.high)+32},Lt.ctz=Lt.countTrailingZeros,Lt.and=function(t){return dt(t)||(t=At(t)),_t(this.low&t.low,this.high&t.high,this.unsigned)},Lt.or=function(t){return dt(t)||(t=At(t)),_t(this.low|t.low,this.high|t.high,this.unsigned)},Lt.xor=function(t){return dt(t)||(t=At(t)),_t(this.low^t.low,this.high^t.high,this.unsigned)},Lt.shiftLeft=function(t){return dt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?_t(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):_t(0,this.low<<t-32,this.unsigned)},Lt.shl=Lt.shiftLeft,Lt.shiftRight=function(t){return dt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?_t(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):_t(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Lt.shr=Lt.shiftRight,Lt.shiftRightUnsigned=function(t){return dt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?_t(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):_t(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Lt.shru=Lt.shiftRightUnsigned,Lt.shr_u=Lt.shiftRightUnsigned,Lt.rotateLeft=function(t){var n;return dt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?_t(this.high,this.low,this.unsigned):t<32?(n=32-t,_t(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),_t(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Lt.rotl=Lt.rotateLeft,Lt.rotateRight=function(t){var n;return dt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?_t(this.high,this.low,this.unsigned):t<32?(n=32-t,_t(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),_t(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Lt.rotr=Lt.rotateRight,Lt.toSigned=function(){return this.unsigned?_t(this.low,this.high,!1):this},Lt.toUnsigned=function(){return this.unsigned?this:_t(this.low,this.high,!0)},Lt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Lt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Lt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},vt.fromBytes=function(t,n,i){return i?vt.fromBytesLE(t,n):vt.fromBytesBE(t,n)},vt.fromBytesLE=function(t,n){return new vt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},vt.fromBytesBE=function(t,n){return new vt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Mt=9007199254740991,jt=g.pow(2,-52);function Ft(t,n,i){return g.min(g.max(t,n),i)}function Ut(t,n,i){return t===n||g.abs(t-n)<=i}function Ht(t){return t!=t}function Xt(t,n){return t===n||Ht(t)&&Ht(n)}function zt(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function Vt(t){return!p(t.getTime())}function Wt(){return Date.now()||(new Date).getTime()}function qt(t){return t/1e3}function Gt(t){return 1e3*t}var $t,Yt=vt.fromNumber(Mt);function Qt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Yt))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function Zt(t){return t.Jn===$t.$n}function Kt(t){return t.Jn===$t.ni}function Jt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.$n=1]="$n",t[t.ei=2]="ei",t[t.ni=3]="ni",t[t.ri=4]="ri",t[t.ui=9]="ui"}($t||($t={}));var tn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];l.apply(this,n)};(tn.prototype=w.create(l.prototype)).constructor=tn;var nn=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,l.captureStackTrace&&l.captureStackTrace(Jt(e),e.constructor),e}return E(n,t),T(n,[{key:"name",get:function(){return"BaseError"}}]),n}(tn),en=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return E(n,t),n}(nn),rn=function(){function t(){}return t.prototype.oi=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new en(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new en;return new fn(n)},t}(),sn=function(){function t(t){this.ai=void 0,this.ai=t}var n=t.prototype;return n.ci=function(t){return this.ai.isEqualNode(t.ai)},n.di=function(n){return new t(this.ai.cloneNode(n))},T(t,[{key:"Jn",get:function(){return $t.ei}},{key:"wi",get:function(){var t;return null!=(t=this.ai.localName)?t:dn(this.ai.nodeName)}},{key:"_i",get:function(){return this.ai.nodeName}},{key:"gi",get:function(){var t;return null!=(t=this.ai.namespaceURI)?t:void 0}},{key:"Ai",get:function(){var t;return null!=(t=this.ai.prefix)?t:void 0}},{key:"Ti",get:function(){return this.ai.nodeValue}}]),t}(),un=function(){function t(t){this.Si=void 0,this.Ei=void 0,this.Si=t}var n=t.prototype;return n.Ii=function(t){return this.Ri.filter(function(n){return ln(n)&&n.Di===t})},n.Ni=function(t,n){return this.Ri.filter(function(i){return ln(i)&&i.wi===n&&i.gi===t})},n.Ci=function(t){this.Si.appendChild(t.Pi),this.Ei&&this.Ei.push(t)},n.ci=function(t){return this.Si.isEqualNode(t.Pi)},T(t,[{key:"Ri",get:function(){return void 0===this.Ei&&(this.Ei=function(t){for(var n=[],i=0;i<t.length;i++){var e=vn(t.item(i));e&&n.push(e)}return n}(this.Si.childNodes)),this.Ei}},{key:"Bi",get:function(){return this.Ri.filter(ln)}},{key:"Pi",get:function(){return this.Si}}]),t}(),on=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.Oi=function(t){if(this.Si.hasAttribute(t))return this.Si.getAttribute(t)},i.xi=function(t,n){if(this.Si.hasAttributeNS(t,n))return this.Si.getAttributeNS(t,n)},i.Li=function(t){this.Si.removeAttribute(t)},i.Mi=function(t,n){this.Si.removeAttributeNS(t,n)},i.Ui=function(t,n){this.Si.setAttribute(t,n)},i.Xi=function(t,n,i){this.Si.setAttributeNS(t,n,i)},i.di=function(t){return new n(this.Si.cloneNode(t))},T(n,[{key:"Jn",get:function(){return $t.$n}},{key:"wi",get:function(){var t;return null!=(t=this.Si.localName)?t:dn(this.Si.nodeName)}},{key:"gi",get:function(){var t;return null!=(t=this.Si.namespaceURI)?t:void 0}},{key:"Ai",get:function(){var t;return null!=(t=this.Si.prefix)?t:void 0}},{key:"Di",get:function(){return this.Si.nodeName}},{key:"Hi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new sn(t.item(i)));return n}(this.Si.attributes)}},{key:"Fi",get:function(){return this.Si.textContent}}]),n}(un),an=function(){function t(t){this.Si=void 0,this.Si=t}return t.prototype.ci=function(t){return this.zi===t.zi},T(t,[{key:"zi",get:function(){return this.Si.nodeValue}},{key:"Pi",get:function(){return this.Si}}]),t}(),hn=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.di=function(t){return new n(this.Si.cloneNode(t))},T(n,[{key:"Jn",get:function(){return $t.ni}}]),n}(an),cn=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.di=function(t){return new n(this.Si.cloneNode(t))},T(n,[{key:"Jn",get:function(){return $t.ri}}]),n}(an),fn=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.di=function(t){return new n(this.Si.cloneNode(t))},T(n,[{key:"Jn",get:function(){return $t.ui}},{key:"Vi",get:function(){return new on(this.Si.documentElement)}}]),n}(un);function ln(t){return Zt(t)}function vn(t){switch(t.nodeType){case $t.$n:return new on(t);case $t.ni:return new hn(t);case $t.ri:return new cn(t)}}function dn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function wn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),w.defineProperty(t,e.key,e)}}function gn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){mn(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&mn(i,null,t.length,t),t}function mn(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(r=0;r<h;r+=f)for(u=(s=r+i)+i,s>h&&(s=h),u>h&&(u=h),o=r,a=s;;)if(o<s&&a<u)n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<s)e[c++]=t[o++];else{if(!(a<u))break;e[c++]=t[a++]}}var yn=/[a-zA-Z]/,pn=/[0-9]/,_n=/[0-9a-fA-F]/,bn=/^0x/i,kn=/^[0-9]+$/,An=/^[0-9a-fA-F]+$/,Tn=/^[0-7]+$/,Sn=w.prototype.toString,En=Array.isArray||function(t){return"[object Array]"===Sn.call(t)},In="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Rn(t){return En(t)?t:Array.from(t)}function Cn(t){return t>=65&&t<=90}function Dn(t){return Cn(t)||function(t){return t>=97&&t<=122}(t)}function Nn(t){return t>=48&&t<=57}function Pn(t){return Nn(t)||Dn(t)}function xn(t){return Nn(t)||t>=65&&t<=70||t>=97&&t<=102}function Bn(t){return Cn(t)?t+32:t}function On(t){return Nn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Ln(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Mn=g.min,jn=String.fromCharCode,Fn=16384;function Un(t){for(var n=t.length,i=[],e=0;e<n;e+=Fn){var r=Mn(e+Fn,n);i.push(jn.apply(null,t.slice(e,r)))}return i.join("")}var Hn=/[^\0-\x7E]/,Xn=/[\x2E\u3002\uFF0E\uFF61]/g,zn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Vn=g.floor,Wn=String.fromCharCode;function qn(t){throw new RangeError(zn[t])}function Gn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var $n,Yn,Qn,Zn=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Kn=function(t,n,i){var e=0;for(t=i?Vn(t/700):t>>1,t+=Vn(t/n);t>455;e+=36)t=Vn(t/35);return Vn(e+36*t/(t+38))},Jn=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Xn,".")).split("."),n).join(".");return e+r}(t,function(t){return Hn.test(t)?"xn--"+function(t){for(var n=[],i=(t=Gn(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var a=o[u];a<128&&n.push(Wn(a))}var h=n.length,c=h;for(h&&n.push("-");c<i;){for(var f=2147483647,l=0,v=t;l<v.length;l++){var d=v[l];d>=e&&d<f&&(f=d)}var w=c+1;f-e>Vn((2147483647-r)/w)&&qn("overflow"),r+=(f-e)*w,e=f;for(var g=0,m=t;g<m.length;g++){var y=m[g];if(y<e&&++r>2147483647&&qn("overflow"),y==e){for(var p=r,_=36;;_+=36){var b=_<=s?1:_>=s+26?26:_-s;if(p<b)break;var k=p-b,A=36-b;n.push(Wn(Zn(b+k%A,0))),p=Vn(k/A)}n.push(Wn(Zn(p,0))),s=Kn(r,w,c==h),r=0,++c}}++r,++e}return n.join("")}(t):t})};function ti(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Un(n)}function ni(t){if(t>=55296&&t<=57343)throw new l("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ii(t,n){return t>>n&63|128}function ei(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ni(t),n.push(t>>12&15|224),n.push(ii(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ii(t,12)),n.push(ii(t,6))),n.push(63&t|128)):n.push(t)}function ri(t){for(var n=[],i=0;i<t.length;i++){ei(t[i],n)}return n}function si(){if(Qn>=Yn)throw new l("Invalid byte index");var t=255&$n[Qn];if(Qn++,128==(192&t))return 63&t;throw new l("Invalid continuation byte")}function ui(){var t,n;if(Qn>Yn)throw new l("Invalid byte index");if(Qn===Yn)return!1;if(t=255&$n[Qn],Qn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|si())>=128)return n;throw new l("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|si()<<6|si())>=2048)return ni(n),n;throw new l("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|si()<<12|si()<<6|si())>=65536&&n<=1114111)return n;throw new l("Invalid UTF-8 detected")}function oi(t){return[37,Ln(t>>4),Ln(15&t)]}function ai(t){return function(t){return t>=0&&t<=31}(t)||t>126}function hi(t){return ai(t)||32===t||34===t||60===t||62===t||96===t}function ci(t){return hi(t)||35===t||63===t||123===t||125===t}function fi(t){return ci(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function li(t){return t<33||t>126||34===t||35===t||60===t||62===t}function vi(t){return li(t)||39===t}function di(t,n){if(!n(t))return[t];for(var i=ri([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,oi(s))}return e}function wi(t,n){for(var i=[],e=0,r=Gn(t);e<r.length;e++){var s=r[e];i.push.apply(i,di(s,n))}return ti(i)}function gi(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&xn(t[e+1])&&xn(t[e+2])){var s=On(t[e+1])<<4|On(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(ri(t))}function mi(t){return ti(function(t){$n=t.slice(),Yn=$n.length,Qn=0;for(var n,i=[];!1!==(n=ui());)i.push(n);return i}(gi(Gn(t))))}function yi(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,a=null,h=0;if(h<s&&":"===t[h]){if(!(h+1<s&&":"===t[h+1]))throw new v;h+=2,a=o+=1}for(;h<s;){if(8===o)throw new v("Too many groups");if(":"!==t[h]){for(var c=0,f=0;f<4&&h<s&&_n.test(t[h]);)c=c<<4|m(t[h],16),h+=1,f+=1;if("."===t[h]){if(0===f)throw new v;if(h-=f,o>6)throw new v;for(var l=0;h<s;){var d=null;if(l>0){if(!("."===t[h]&&l<4))throw new v;h+=1}if(!pn.test(t[h]))throw new v;for(;h<s&&pn.test(t[h]);){var w=m(t[h],10);if(null===d)d=w;else{if(0===d)throw new v;if((d=10*d+w)>255)throw new v}h+=1}u[o]=u[o]<<8|d,2!==(l+=1)&&4!==l||(o+=1)}if(4!==l)throw new v;break}if(":"===t[h]){if((h+=1)===s)throw new v}else if(h<s)throw new v;u[o]=c,o+=1}else{if(null!==a)throw new v("Too many :: groups");h+=1,a=o+=1}}if(null!==a){var g=o-a;for(o=7;0!==o&&g>0;)e=a+g-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,g-=1}else if(8!==o)throw new v;return u}function pi(t){var n=10,i=kn;return bn.test(t)?(t=t.slice(2),n=16,i=An):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Tn),""===t?0:i.test(t)?m(t,n):void 0}var _i={Wi:4},bi=/[\0\t\n\r #%/:?@\[\\\]]/,ki=/[\0\t\n\r #/:?@\[\\\]]/;function Ai(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{Wi:2,Gi:yi(t.slice(1,-1))}}if(!n)return function(t){if(ki.test(t))throw new v("Invalid code point in opaque host");var n=wi(t,ai);return""===n?_i:{Wi:3,qi:n}}(t);var i=function(t){return function(t){return Jn(t.toLowerCase())}(t)}(mi(t));if(bi.test(i))throw new v("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=pi(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new v;if(i[i.length-1]>=g.pow(256,5-i.length))throw new v;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*g.pow(256,3-a);return o}}(i);return void 0!==e?{Wi:1,Gi:e}:""===i?_i:{Wi:0,Yi:i}}function Ti(t){switch(t.Wi){case 0:return t.Yi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Gi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Gi)+"]";case 3:return t.qi;case 4:return""}}var Si=/\+/g;function Ei(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(Si," "),o=o.replace(Si," ");var a=mi(u),h=mi(o);i.push([a,h])}}return i}function Ii(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Ri(ri(Gn(e[0])))+"="+Ri(ri(Gn(e[1])))}return n}function Ri(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Pn(n)?i.push(r):i.push.apply(i,oi(r))}return Un(i)}var Ci=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Di(t){var n=""+t,i=Ci.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(Pi(s))if(xi(s)||r===i-1)e.push(Ni);else{var u=t.charCodeAt(r+1);xi(u)?(e.push(s,u),r++):e.push(Ni)}else e.push(s)}return t.slice(0,n)+Un(e)}(n,i.index):n}var Ni=65533,Pi=function(t){return 55296==(63488&t)},xi=function(t){return 0!=(1024&t)};function Bi(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Oi(t){t.ji.length=0}function Li(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.ji,Ei(n))}function Mi(t){if(t.Qi){var n=Ii(t.ji);""===n&&(n=null),t.Qi.Qi.Zi=n}}var ji=function(){function t(t){if(void 0===t&&(t=void 0),this.Qi=null,null==t)this.ji=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof ji&&En(s.ji)&&(!In||s[Symbol.iterator]===Fi))this.ji=t.ji.slice();else if(function(t){return null!=t&&(!!En(t)||!!In&&"function"==typeof t[Symbol.iterator])}(t)){this.ji=[];for(var n=0,i=Rn(t);n<i.length;n++){var e=Rn(i[n]);if(2!==e.length)throw new v("Invalid name-value pair");this.ji.push([Di(e[0]),Di(e[1])])}}else for(var r in this.ji=[],t)w.prototype.hasOwnProperty.call(t,r)&&this.ji.push([Di(r),Di(t[r])]);else(t=Di(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.ji=Ei(t);var s}var n=t.prototype;return n.append=function(t,n){t=Di(t),n=Di(n),this.ji.push([t,n]),Mi(this)},n.delete=function(t){t=Di(t);for(var n=this.ji,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Mi(this)},n.get=function(t){t=Di(t);for(var n=this.ji,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Di(t);for(var n=this.ji,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Di(t);for(var n=this.ji,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Di(t),n=Di(n);for(var i=this.ji,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),Mi(this)},n.sort=function(){gn(this.ji,Bi),Mi(this)},n.toString=function(){return Ii(this.ji)},n.entries=function(){return new zi(this.ji,Ui)},n.keys=function(){return new zi(this.ji,Hi)},n.values=function(){return new zi(this.ji,Xi)},n.forEach=function(t){var n=this;this.ji.forEach(function(i){return t(i[1],i[0],n)})},t}(),Fi=ji.prototype.entries;In&&(ji.prototype[Symbol.iterator]=Fi);var Ui=function(t){return[t[0],t[1]]},Hi=function(t){return t[0]},Xi=function(t){return t[1]},zi=function(){function t(t,n){this.Ki=0,this.ji=t,this.Ji=n}return t.prototype.next=function(){return this.Ki<this.ji.length?{done:!1,value:this.Ji(this.ji[this.Ki++])}:{done:!0,value:void 0}},t}(),Vi="null";var Wi=w.create(null);Wi.ftp=21,Wi.file=0,Wi.gopher=70,Wi.http=80,Wi.https=443,Wi.ws=80,Wi.wss=443;var qi=/^(?:\.|%2e)$/i,Gi=/^(?:\.|%2e){2}$/i;function $i(t){return qi.test(t)}function Yi(t){return Gi.test(t)}function Qi(t){return void 0!==Wi[t]}function Zi(t){return Qi(t.$i)}function Ki(t){return""!==t.re||""!==t.ue}function Ji(t){var n=t.length;if(!(n>=2))return!1;if(!ne(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function te(t){return 2===t.length&&yn.test(t[0])&&(":"===t[1]||"|"===t[1])}function ne(t){return 2===t.length&&te(Un(t))}function ie(t){return te(t)&&":"===t[1]}function ee(t){var n=t.oe;0!==n.length&&("file"===t.$i&&1===n.length&&ie(n[0])||n.pop())}function re(t){return null===t.fe||_i===t.fe||t.we||"file"===t.$i}var se=-1,ue=/\t|\n|\r/g,oe=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function ae(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new ce,t=t.replace(oe,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,a=!1,h=Gn(t=t.replace(ue,"")),c=h.length,f=0;f<=c;){var l=f<c?h[f]:se;switch(r){case 0:if(!Dn(l)){if(null===e){s.length=0,r=2;continue}throw new v("Invalid scheme")}s.push(Bn(l)),r=1;break;case 1:if(Pn(l)||43===l||45===l||46===l)s.push(Bn(l));else{if(58!==l){if(null===e){s.length=0,r=2,f=0;continue}throw new v("Invalid scheme")}var d=ti(s);if(null!==e){if(Qi(i.$i)&&!Qi(d))return;if(!Qi(i.$i)&&Qi(d))return;if((Ki(i)||null!==i._e)&&"file"===d)return;if("file"===i.$i&&(i.fe===_i||null===i.fe))return}if(i.$i=d,null!==e)return void(Zi(i)&&i._e===Wi[i.$i]&&(i._e=null));s.length=0,"file"===i.$i?r=13:Zi(i)&&n&&n.$i===i.$i?r=3:Zi(i)?r=7:47===h[f+1]?(r=4,f+=1):(i.we=!0,i.oe.push(""),r=18)}break;case 2:if(!n||n.we&&35!==l)throw new v("Invalid scheme");n.we&&35===l?(i.$i=n.$i,i.oe=n.oe.slice(),i.Zi=n.Zi,i.me="",i.we=!0,r=20):"file"!==n.$i?(r=5,f-=1):(r=13,f-=1);break;case 3:47===l&&47===h[f+1]?r=8:(r=5,f-=1);break;case 4:47===l?r=9:(r=17,f-=1);break;case 5:i.$i=n.$i,se===l?(i.re=n.re,i.ue=n.ue,i.fe=n.fe,i._e=n._e,i.oe=n.oe.slice(),i.Zi=n.Zi):47===l?r=6:63===l?(i.re=n.re,i.ue=n.ue,i.fe=n.fe,i._e=n._e,i.oe=n.oe.slice(),i.Zi="",r=19):35===l?(i.re=n.re,i.ue=n.ue,i.fe=n.fe,i._e=n._e,i.oe=n.oe.slice(),i.Zi=n.Zi,i.me="",r=20):92===l&&Zi(i)?r=6:(i.re=n.re,i.ue=n.ue,i.fe=n.fe,i._e=n._e,i.oe=n.oe.slice(),i.oe.pop(),r=17,f-=1);break;case 6:!Zi(i)||47!==l&&92!==l?47===l?r=9:(i.re=n.re,i.ue=n.ue,i.fe=n.fe,i._e=n._e,r=17,f-=1):r=8;break;case 7:if(47!==l||47!==h[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==l&&92!==l&&(r=9,f-=1);break;case 9:if(64===l){u&&s.unshift(37,52,48),u=!0;for(var w=0;w<s.length;w++){var g=s[w];if(58!==g||a){var y=ti(di(g,fi));a?i.ue+=y:i.re+=y}else a=!0}s.length=0}else if(se===l||47===l||63===l||35===l||Zi(i)&&92===l){if(u&&0===s.length)throw new v("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(l);break;case 10:case 11:if(null!==e&&"file"===i.$i)f-=1,r=15;else if(58!==l||o)if(se===l||47===l||63===l||35===l||Zi(i)&&92===l){if(f-=1,Zi(i)&&0===s.length)throw new v("Invalid host");if(null!==e&&0===s.length&&(Ki(i)||null!==i._e))return;var p=Ai(ti(s),Zi(i));if(i.fe=p,s.length=0,r=16,null!==e)return}else 91===l?o=!0:93===l&&(o=!1),s.push(l);else{if(0===s.length)throw new v("Invalid host");var _=Ai(ti(s),Zi(i));if(i.fe=_,s.length=0,r=12,11===e)return}break;case 12:if(Nn(l))s.push(l);else{if(!(se===l||47===l||63===l||35===l||Zi(i)&&92===l||null!==e))throw new v("Invalid port");if(0!==s.length){var b=m(ti(s),10);if(b>65535)throw new v("Invalid port");i._e=b===Wi[i.$i]?null:b,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.$i="file",47===l||92===l?r=14:n&&"file"===n.$i?se===l?(i.fe=n.fe,i.oe=n.oe.slice(),i.Zi=n.Zi):63===l?(i.fe=n.fe,i.oe=n.oe.slice(),i.Zi="",r=19):35===l?(i.fe=n.fe,i.oe=n.oe.slice(),i.Zi=n.Zi,i.me="",r=20):(Ji(h.slice(f))||(i.fe=n.fe,i.oe=n.oe.slice(),ee(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===l||92===l?r=15:(n&&"file"===n.$i&&!Ji(h.slice(f))&&(ie(n.oe[0])?i.oe.push(n.oe[0]):i.fe=n.fe),r=17,f-=1);break;case 15:if(se===l||47===l||92===l||63===l||35===l)if(f-=1,null===e&&ne(s))r=17;else if(0===s.length){if(i.fe=_i,null!==e)return;r=16}else{var k=Ai(ti(s),Zi(i));if(0===k.Wi&&"localhost"===k.Yi&&(k=_i),i.fe=k,null!==e)return;s.length=0,r=16}else s.push(l);break;case 16:Zi(i)?(r=17,47!==l&&92!==l&&(f-=1)):null===e&&63===l?(i.Zi="",r=19):null===e&&35===l?(i.me="",r=20):se!==l&&(r=17,47!==l&&(f-=1));break;case 17:if(se===l||47===l||Zi(i)&&92===l||null===e&&(63===l||35===l)){var A=ti(s);if(Yi(A)?(ee(i),47===l||Zi(i)&&92===l||i.oe.push("")):!$i(A)||47===l||Zi(i)&&92===l?$i(A)||("file"===i.$i&&0===i.oe.length&&ne(s)&&(_i!==i.fe&&null!==i.fe&&(i.fe=_i),s[1]=58,A=ti(s)),i.oe.push(A)):i.oe.push(""),s.length=0,"file"===i.$i&&(se===l||63===l||35===l))for(;i.oe.length>1&&""===i.oe[0];)i.oe.shift();63===l?(i.Zi="",r=19):35===l&&(i.me="",r=20)}else s.push.apply(s,di(l,ci));break;case 18:63===l?(i.Zi="",r=19):35===l?(i.me="",r=20):se!==l&&(i.oe[0]+=ti(di(l,ai)));break;case 19:null===e&&35===l?(i.me="",r=20):se!==l&&(i.Zi+=ti(di(l,Zi(i)?vi:li)));break;case 20:se===l||0===l||(i.me+=ti(di(l,hi)))}f++}return i}function he(t,n,i,e){try{ae(t,n,i,e)}catch(t){}}var ce=function(){this.$i="",this.re="",this.ue="",this.fe=null,this._e=null,this.oe=[],this.Zi=null,this.me=null,this.we=!1};function fe(t){switch(t.$i){case"blob":var n;try{n=ae(t.oe[0],null)}catch(t){return Vi}return fe(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.$i,e=t.fe,r=t._e,i+"://"+Ti(e)+(null===r?"":":"+r);case"file":default:return Vi}var i,e,r}var le,ve,de,we,ge,me,ye=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof ye&&"object"==typeof i.Qi)r=n.Qi;else try{r=ae(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{e=ae(String(t),r)}catch(t){throw new v("Invalid URL: "+t.message)}var s=e.Zi;this.Qi=e,this.Zi=function(t){var n=new ji;return null!==t&&Li(n,t),n}(s),this.Zi.Qi=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.$i+":";if(null!==t.fe?(i+="//",Ki(t)&&(i+=t.re,""!==t.ue&&(i+=":"+t.ue),i+="@"),i+=Ti(t.fe),null!==t._e&&(i+=":"+t._e)):null===t.fe&&"file"===t.$i&&(i+="//"),t.we)i+=t.oe[0];else for(var e=0,r=t.oe;e<r.length;e++)i+="/"+r[e];return null!==t.Zi&&(i+="?"+t.Zi),n||null===t.me||(i+="#"+t.me),i}(this.Qi)},set:function(t){var n;try{n=ae(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.Qi=n,Oi(this.Zi);var i=this.Qi.Zi;null!==i&&Li(this.Zi,i)}},{key:"origin",get:function(){return fe(this.Qi)}},{key:"protocol",get:function(){return this.Qi.$i+":"},set:function(t){he(t+":",null,this.Qi,0)}},{key:"username",get:function(){return this.Qi.re},set:function(t){re(this.Qi)||(this.Qi.re=wi(t,fi))}},{key:"password",get:function(){return this.Qi.ue},set:function(t){re(this.Qi)||(this.Qi.ue=wi(t,fi))}},{key:"host",get:function(){var t=this.Qi,n=t.fe;if(null===n)return"";var i=t._e,e=Ti(n);return null!==i&&(e+=":"+i),e},set:function(t){this.Qi.we||he(t,null,this.Qi,10)}},{key:"hostname",get:function(){var t=this.Qi.fe;return null===t?"":Ti(t)},set:function(t){this.Qi.we||he(t,null,this.Qi,11)}},{key:"port",get:function(){var t=this.Qi._e;return null===t?"":""+t},set:function(t){re(this.Qi)||(""===t?this.Qi._e=null:he(t,null,this.Qi,12))}},{key:"pathname",get:function(){var t=this.Qi.oe;return this.Qi.we?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Qi.we||(this.Qi.oe.length=0,he(t,null,this.Qi,16))}},{key:"search",get:function(){var t=this.Qi.Zi;return null===t||""===t?"":"?"+t},set:function(t){t=Di(t);var n=this.Qi;if(""===t)return n.Zi=null,void Oi(this.Zi);"?"===t[0]&&(t=t.slice(1)),n.Zi="",he(t,null,n,19),Li(this.Zi,t)}},{key:"searchParams",get:function(){return this.Zi}},{key:"hash",get:function(){var t=this.Qi.me;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Qi.me="",he(t,null,this.Qi,20)):this.Qi.me=null}}])&&wn(n.prototype,i),e&&wn(n,e),t}();function pe(t){return t.document&&t.document.baseURI||t.location.href||""}var _e=a;function be(t){return Boolean(t&&void 0!==t.length)}function ke(){}function Ae(t){if(!(this instanceof Ae))throw new v("Promises must be constructed via new");if("function"!=typeof t)throw new v("not a function");this.ye=0,this.ke=!1,this.pe=void 0,this.Ae=[],Ce(t,this)}function Te(t,n){for(;3===t.ye;)t=t.pe;0!==t.ye?(t.ke=!0,Ae.Te(function(){var i=1===t.ye?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.pe)}catch(t){return void Ee(n.promise,t)}Se(n.promise,e)}else(1===t.ye?Se:Ee)(n.promise,t.pe)})):t.Ae.push(n)}function Se(t,n){try{if(n===t)throw new v("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof Ae)return t.ye=3,t.pe=n,void Ie(t);if("function"==typeof i)return void Ce((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.ye=1,t.pe=n,Ie(t)}catch(n){Ee(t,n)}var e,r}function Ee(t,n){t.ye=2,t.pe=n,Ie(t)}function Ie(t){2===t.ye&&0===t.Ae.length&&Ae.Te(function(){t.ke||Ae.Se(t.pe)});for(var n=0,i=t.Ae.length;n<i;n++)Te(t,t.Ae[n]);t.Ae=null}function Re(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function Ce(t,n){var i=!1;try{t(function(t){i||(i=!0,Se(n,t))},function(t){i||(i=!0,Ee(n,t))})}catch(t){if(i)return;i=!0,Ee(n,t)}}Ae.prototype.catch=function(t){return this.then(null,t)},Ae.prototype.then=function(t,n){var i=new this.constructor(ke);return Te(this,new Re(t,n,i)),i},Ae.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},Ae.all=function(t){return new Ae(function(n,i){if(!be(t))return i(new v("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)s(u,e[u])})},Ae.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new v(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)s(u,e[u])})},Ae.resolve=function(t){return t&&"object"==typeof t&&t.constructor===Ae?t:new Ae(function(n){n(t)})},Ae.reject=function(t){return new Ae(function(n,i){i(t)})},Ae.race=function(t){return new Ae(function(n,i){if(!be(t))return i(new v("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)Ae.resolve(t[e]).then(n,i)})},Ae.Te="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){_e(t,0)},Ae.Se=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var De=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),Ne=o?o.userAgent:"",Pe=Ne.match(/Firefox\/([0-9]+)/i),xe=null!=Pe,Be=Pe?Number(Pe[1]):0,Oe=Ne.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Le=null!=Oe,Me=Oe?Number(Oe[3]):0,je=function(){function t(t){this.Ee=0,this.Ie=0,this.qi=[],this.Re=t}return t.prototype.De=function(t){var n=this.length();this.Ne(n+1);var i=this.Ie+n&this.Re-1;this.qi[i]=t,this.Ee=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Re<n)this.De(t);else{var i=this.Ie+n-1,e=this.Re-1;this.qi[i&e]=t,this.Ee=n}},t.prototype.shift=function(){var t=this.Ie,n=this.qi[t];return this.qi[t]=void 0,this.Ie=t+1&this.Re-1,this.Ee--,n},t.prototype.length=function(){return this.Ee},t.prototype.Ne=function(t){this.Re<t&&this.Ce(this.Re<<1)},t.prototype.Ce=function(t){var n=this.Re;this.Re=t;var i=this.Ie+this.Ee&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.qi,0,n,i)},t}();var Fe="unhandledrejection",Ue=t.PromiseRejectionEvent,He=t.CustomEvent;function Xe(t){return new Ue(Fe,{reason:t,promise:De.reject(t).catch(function(){}),cancelable:!0})}function ze(t){var n=new He(Fe,{detail:{reason:t},cancelable:!0});return w.defineProperty(n,"reason",{value:t}),n}function Ve(t){var n=s.createEvent("CustomEvent");return n.initCustomEvent(Fe,!1,!0,{reason:t}),n}var We,qe,Ge,$e,Ye,Qe,Ze,Ke=function(t){return(Ke=function(){try{var t=De.resolve(),n=new Ue(Fe,{reason:"error",promise:t});return Fe===n.type&&"error"===n.reason}catch(t){}return!1}()?Xe:function(){try{var t=new He(Fe,{detail:{reason:"error"}});return Fe===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?ze:Ve)(t)};if(De&&!(xe&&Be<60||Le&&Me<15))qe=De;else{qe=Ae;var Je=null!==(We=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=De;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==We?We:Ae.Te,tr=(Ge=Je,$e=new je(16),Ye=!1,{Pe:function(t){$e.push(t),Ye||(Ye=!0,Ge(Qe))},Be:Qe=function(){for(;$e.length()>0;)$e.shift()();Ye=!1}});Ae.Te=tr.Pe,Ae.Se=function(n){try{var i=Ke(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}a(function(){throw new l("Unhandled promise rejection: ".concat(n))},0)}}function nr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ir(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}function er(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}function rr(t,n){return void 0!==t.classList?t.classList.contains(n):void 0!==t.className&&-1!==(" "+ir(t)+" ").indexOf(" "+n+" ")}function sr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=ir(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&er(t,(i+" "+n).trim())}}function ur(t,n){if(void 0!==t.classList)t.classList.remove(n);else if(void 0!==t.className){for(var i=" "+ir(t)+" ",e=" "+n+" ";-1!==i.indexOf(e);)i=i.replace(e," ");er(t,i.trim())}}function or(t,n,i){void 0===i&&(i=!rr(t,n)),i?sr(t,n):ur(t,n)}function ar(t,n){j.Sn&&j.En<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function hr(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function cr(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function fr(t){t.removeAttribute("title")}function lr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function vr(t){t.src&&(t.removeAttribute("src"),t.load())}function dr(){return void 0!==s?s.createElement("video"):void 0}function wr(){return Ze||(Ze=dr()),Ze}var gr=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),mr=wr(),yr=!(!mr||!mr.webkitShowPlaybackTargetPicker),pr=function(){function t(){this.Oe=void 0,this.xe=!1,this.qt=gr,this.wn=!1,this.Le=!0}var n=t.prototype;return n.Me=function(){return 0},n.Ue=function(t,n){return!0},n.Xe=function(t){return t>=1/6*2},T(t,[{key:"He",get:function(){return void 0===this.Oe&&(this.Oe=this.Me()),this.Oe}},{key:"Fe",get:function(){return!j.Xn}},{key:"ze",get:function(){}},{key:"Ve",get:function(){return r.devicePixelRatio||1}},{key:"We",get:function(){return yr}},{key:"Ge",get:function(){return!1}},{key:"qe",get:function(){return!0}},{key:"Ye",get:function(){return j.On||j.cn}},{key:"je",get:function(){return!0}},{key:"Qe",get:function(){return!0}},{key:"Ze",get:function(){return!1}},{key:"Ke",get:function(){}},{key:"Je",get:function(){return!0}},{key:"$e",get:function(){return!1}},{key:"ir",get:function(){return!1}}]),t}(),_r=function(){var t=dr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}(),br=function(){if(j.un)return!1;var t=dr();if(!t)return!1;var n=t.volume;return t.volume=n/2+.1,n!==t.volume}();var kr=function(t){function n(n){var i;return(i=t.call(this)||this).er=void 0,i.er=n,i.er&&(i.xe=i.er.xe,i.qt=i.er.qt,i.Le=_r&&i.er.Le),i}E(n,t);var i=n.prototype;return i.Me=function(){return this.er?this.er.He:t.prototype.Me.call(this)},i.Ue=function(n,i){return this.er?this.er.Ue(n,i):t.prototype.Ue.call(this,n,i)},i.Xe=function(n){return this.er?this.er.Xe(n):t.prototype.Xe.call(this,n)},T(n,[{key:"Ke",get:function(){var t;return null==(t=this.er)?void 0:t.Ke}},{key:"Je",get:function(){var t,n;return null==(t=null==(n=this.er)?void 0:n.Je)||t}}]),n}(pr),Ar=function(t){function n(n){var i;return(i=t.call(this,n)||this).xe=!0,i.wn=!0,i}return E(n,t),T(n,[{key:"Ze",get:function(){return j.cn}}]),n}(kr),Tr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Me=function(){return we.MediaSource?t.prototype.Me.call(this):1},T(n,[{key:"Ze",get:function(){return!0}}]),n}(Ar),Sr=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).rr=void 0,n}return E(n,t),n.prototype.Ue=function(n,i){return t.prototype.Ue.call(this,n,i)},T(n,[{key:"Ge",get:function(){return j.En<3}},{key:"qe",get:function(){return j.En>=3}},{key:"ze",get:function(){var t=this;return r.tizen&&!this.rr&&r.tizen.systeminfo.getPropertyValue("DISPLAY",function(n){var i=n.resolutionWidth,e=n.resolutionHeight;1===i&&1===e||(t.rr={width:i,height:e})}),this.rr}},{key:"$e",get:function(){return j.En<3}},{key:"ir",get:function(){return!0}}]),n}(kr),Er=function(t){function n(){return t.call(this)||this}return E(n,t),n}(pr),Ir=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Ue=function(t,n){if(t&&t.dr&&n&&n.dr){var i=Rr(t.dr,"mp4a.40.2")&&Rr(n.dr,"mp4a.40.5"),e=Rr(t.dr,"mp4a.40.5")&&Rr(n.dr,"mp4a.40.2"),r=Rr(t.dr,"mp4a.40.2")&&Rr(n.dr,"mp4a.40.34"),s=Rr(t.dr,"mp4a.40.34")&&Rr(n.dr,"mp4a.40.2"),u=Rr(t.dr,"mp4a.40.5")&&Rr(n.dr,"mp4a.40.34"),o=Rr(t.dr,"mp4a.40.34")&&Rr(n.dr,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},T(n,[{key:"Ke",get:function(){if(j.Yt)return 4096}}]),n}(Er);function Rr(t,n){return t.indexOf(n)>-1}var Cr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Xe=function(t){return t>=2},n}(Er),Dr=function(t){function n(){var n;return(n=t.call(this)||this).xe=j.xn>=11,n.Le=j.On&&!(j.cn&&j.xn<10),n}return E(n,t),n}(Er),Nr=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).rr=void 0,n}return E(n,t),T(n,[{key:"ze",get:function(){var t=this;return r.webOS&&!this.rr&&r.webOS.deviceInfo(function(n){t.rr={width:n.screenWidth,height:n.screenHeight}}),this.rr}},{key:"je",get:function(){return!1}},{key:"ir",get:function(){return!0}}]),n}(kr),Pr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"Je",get:function(){return!j.jt||(j.An?92!==j.Tn:j.pn>=100)}}]),n}(Er),xr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"Ze",get:function(){return!0}}]),n}(kr),Br=function(){function n(){var n;this.wr=void 0,this._r=new rn,this.gr=new Or,this.yr=(n=function(){if(j.Pn)return new Ir;if(j.Rn||j.Dn)return new Cr;if(j.On)return new Dr;if(j.yn)return new Pr;return new Er}(),j.cn?new Tr(n):j.wn?new Ar(n):j.Sn?new Sr(n):j.In?new Nr(n):j.Yt?new xr(n):new kr(n)),this.pr=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.wr=function(){return t.performance.now()}:this.wr=Wt}var i=n.prototype;return i.Ar=function(){at.apply(void 0,arguments)},i.Tr=function(){ht.apply(void 0,arguments)},i.Sr=function(){ct.apply(void 0,arguments)},i.Er=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ft.apply(void 0,[t].concat(i))},i.Zn=function(t,n){return a(t,n)},i.Ir=function(t,n){return c(t,n)},i.Qn=function(t){h(t)},i.Rr=function(t){f(t)},i.oi=function(t){return this._r.oi(t)},i.Dr=function(){return this.Nr.Dr()},i.Cr=function(){return this.Nr.Cr()},i.Pr=function(){return this.Nr.Pr()},i.Br=function(){return this.Nr.Br()},i.Or=function(){return this.Nr.Or()},i.xr=function(t,n){return this.Nr.xr(t,n)},i.Lr=function(t){return this.Nr.Lr(t)},i.Mr=function(t,n){var i;return void 0===n&&(n=pe(we)),i="object"!=typeof n||n instanceof ye?n:n.href,new ye(t,i)},i.Ur=function(n,i){if(void 0===i&&(i=pe(we)),this.pr){var e=G(i)?i:i.toString();return new t.URL(n,e).href}return this.Mr(n,i).href},T(n,[{key:"Xr",get:function(){return this.gr}},{key:"Hr",get:function(){return this.yr}},{key:"Fr",get:function(){return{zr:o&&o.userAgent.match(/Android /i)?"Android":"other",Vr:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Wr",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Gr",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Or=function(){function t(){}return T(t,[{key:"qr",get:function(){return o.oscpu}},{key:"Hr",get:function(){return o.platform}},{key:"Yr",get:function(){return o.vendor}},{key:"jr",get:function(){return o.vendorSub}}]),t}();var Lr="undefined"!=typeof globalThis?globalThis:void 0!==r?r:"undefined"!=typeof global?global:void 0!==t?t:{};function Mr(t){return t&&t.__esModule&&w.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jr={exports:{}};!function(t){var n,i=w.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,n,i,e){var r=n&&n.prototype instanceof y?n:y,s=w.create(r.prototype),u=new N(e||[]);return s.Qr=function(t,n,i){var e=c;return function(r,s){if(e===d)throw new l("Generator is already running");if(e===g){if("throw"===r)throw s;return x()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=R(u,i);if(o){if(o===m)continue;return o}}if("next"===i.method)i.sent=i.Zr=i.arg;else if("throw"===i.method){if(e===c)throw e=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=d;var a=h(t,n,i);if("normal"===a.type){if(e=i.done?g:f,a.arg===m)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(e=g,i.method="throw",i.arg=a.arg)}}}(t,i,u),s}function h(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var c="suspendedStart",f="suspendedYield",d="executing",g="completed",m={};function y(){}function _(){}function b(){}var k={};k[s]=function(){return this};var A=w.getPrototypeOf,T=A&&A(A(P([])));T&&T!==i&&e.call(T,s)&&(k=T);var S=b.prototype=y.prototype=w.create(k);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Qr(n,t)}})}function I(t){var n;this.Qr=function(i,r){function s(){return new qe(function(n,s){!function n(i,r,s,u){var o=h(t[i],t,r);if("throw"!==o.type){var a=o.arg,c=a.value;return c&&"object"==typeof c&&e.call(c,"Kr")?qe.resolve(c.Kr).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):qe.resolve(c).then(function(t){a.value=t,s(a)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function R(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,R(t,i),"throw"===i.method))return m;i.method="throw",i.arg=new v("The iterator does not provide a 'throw' method")}return m}var r=h(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,m;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,m):s:(i.method="throw",i.arg=new v("iterator result is not an object"),i.delegate=null,m)}function C(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!p(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:x}}function x(){return{value:n,done:!0}}_.prototype=S.constructor=b,b.constructor=_,b[o]=_.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===_||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return w.setPrototypeOf?w.setPrototypeOf(t,b):(t.__proto__=b,o in t||(t[o]="GeneratorFunction")),t.prototype=w.create(S),t},t.awrap=function(t){return{Kr:t}},E(I.prototype),I.prototype[u]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var s=new I(a(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=P,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Zr=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!p(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var a=e.call(u,"catchLoc"),h=e.call(u,"finallyLoc");if(a&&h){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!h)throw new l("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),m},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),m}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;D(i)}return r}}throw new l("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:P(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),m}}}(jr.exports);var Fr=jr.exports;function Ur(){return(Ur=w.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)w.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function Hr(){var t=w.create(null);return t.__=void 0,delete t.__,t}function Xr(){return new $r}function zr(){return new Zr}function Vr(t){var n=Xr();for(var i in t)F.call(t,i)&&n.set(i,t[i]);return n}function Wr(t){var n=[];return t.forEach(function(t){return n.push(t)}),n}var qr,Gr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,$r=Gr||(qr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=w.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Hr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Hr(),this.size=0},n.keys=function(){return new qr(this.data,function(t,n){return n})},n.values=function(){return new qr(this.data,function(t,n){return t[n]})},n.entries=function(){return new qr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Yr,Qr,Zr=Gr||(Yr=function(){function t(t,n){this.$r=void 0,this.rs=void 0,this.$r=t,this.rs=n}var n=t.prototype;return n.next=function(){var t=this.$r.next();return t.done?t:{value:this.rs(t.value),done:!1}},t}(),function(){function t(){this.us=Xr()}var n=t.prototype;return n.get=function(t){return this.us.get(""+t)},n.set=function(t,n){return this.us.set(""+t,n),this},n.has=function(t){return this.us.has(""+t)},n.delete=function(t){return this.us.delete(""+t)},n.clear=function(){this.us.clear()},n.keys=function(){return new Yr(this.us.keys(),function(t){return Number(t)})},n.values=function(){return this.us.values()},n.entries=function(){return new Yr(this.us.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.us.forEach(function(n,i){t(n,Number(i))})},T(t,[{key:"size",get:function(){return this.us.size}}]),t}());!function(t){t.hs="9a04f079-9840-4286-ab92-e65be0885f95",t.fs="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.vs="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.ls="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Qr||(Qr={}));var Kr,Jr="urn:mpeg:dash:mp4protection:2011",ts="cenc",ns="sinf",is="skd",es=Qr.hs,rs="urn:uuid:"+es,ss="com.microsoft.playready",us=Qr.fs,os="urn:uuid:"+us,as=Qr.vs,hs="urn:uuid:"+as,cs=Qr.ls,fs="urn:uuid:"+cs,ls="com.apple.fps.1_0",vs="com.apple.streamingkeydelivery";!function(t){t.hs="playready",t.fs="widevine",t.ls="fairplay",t.vs="clearkey",t.ds="aes128"}(Kr||(Kr={}));var ds={_s:Kr.hs,gs:ss,ys:"cenc",As:es,Ts:rs,Ss:"PlayReady"},ws={_s:Kr.fs,gs:"com.widevine.alpha",ys:"cenc",As:us,Ts:os,Ss:"Widevine"},gs={_s:Kr.ls,gs:ls,ys:"skd",As:cs,Ts:fs,Ss:"FairPlay"},ms={_s:Kr.ls,gs:"com.apple.fps",ys:"sinf",As:cs,Ts:fs,Ss:"FairPlay"},ys={_s:Kr.vs,gs:"org.w3.clearkey",ys:"cenc",As:as,Ts:hs,Ss:"ClearKey"},ps=[ds,ws,gs,ys];function _s(t){return ps.filter(function(n){return n.Ts===t.toLowerCase()})}function bs(t,n,i){return t.split(n).join(i)}function ks(t,n){return null!=t&&-1!==t.indexOf(n)}function As(t,n){return null!=t&&t.substr(0,n.length)===n}function Ts(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function Ss(t,n){return t.toUpperCase()===n.toUpperCase()}function Es(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function Is(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=Es(e,r/e.length)),e.slice(0,r)+t)}function Rs(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Ds(n)}var Cs=16384;function Ds(t){var n=t.length;if(n<=Cs)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Cs)i.push(String.fromCharCode.apply(String,t.slice(e,e+Cs)));return i.join("")}var Ns=j.yn&&j.pn>=42||j.Pn&&j.Bn>=38||j.Rn||j.Nn||j.Ln&&j.Mn>=29;function Ps(t,n){return ks(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Ur({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Ur({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function xs(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function Bs(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Os,Ls=function(){function t(t){this.Es=void 0,this.Is=Xr(),this.Rs=void 0,this.Es=t}var n=t.prototype;return n.Or=function(){return this.Lr(ws)},n.Cr=function(){return this.Lr(ys)},n.Br=function(){return this.Lr(ds)},n.Pr=function(){return this.Lr(gs)},n.Lr=function(t){var n=t.Ts,i=this.Is.get(n);if(i)return i;var e=this.xr(t,'video/mp4; codecs="avc1.42000a"');return this.Is.set(n,e),e},n.xr=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(this.Es.Ds(t.gs,[Ps(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,Fr.awrap(this.Es.Ds(t.gs,[Ps(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],qe)},n.Dr=function(){return this.Rs||(this.Rs=this.Ns()),this.Rs},n.Ns=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==ge.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Ns){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Fr.awrap(this.Cr());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,qe)},t}();function Ms(t,n){return Fs(t.slice(),n)}function js(t,n){var i=Fs(t,n);return i!==t&&Us(i,void 0,t.length,t),t}function Fs(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){Us(i,n,s,r);var u=i;i=r,r=u}return i}function Us(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(s=0;s<h;s+=f)for(r=(u=s+i)+i,u>h&&(u=h),r>h&&(r=h),o=s,a=u;;)if(o<u&&a<r)n&&n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<u)e[c++]=t[o++];else{if(!(a<r))break;e[c++]=t[a++]}}!function(t){t[t.Cs=0]="Cs",t[t.Ps=1]="Ps",t[t.Bs=-1]="Bs"}(Os||(Os={}));var Hs=function(t,n){return(0|t)-(0|n)},Xs=function(t,n){return t===n?Os.Cs:t<n?Os.Bs:t>n?Os.Ps:p(t)?p(n)?Os.Cs:Os.Ps:Os.Bs};function zs(t,n,i){return Ut(t,n,i)?Os.Cs:Xs(t,n)}var Vs=function(t,n){return function(t,n){if(t===n)return!0;var i=g.abs(t-n);return i<jt||i<g.max(g.abs(t),g.abs(n))*jt}(t,n)?Os.Cs:Xs(t,n)};function Ws(t,n,i){var e=Gs(t,n,i);return-1===e?void 0:t[e]}function qs(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function Gs(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function $s(t,n){var i=t.indexOf(n);return-1!==i&&(Ys(t,i),!0)}function Ys(t,n){t.splice(n,1)}function Qs(t,n){return-1!==t.indexOf(n)}function Zs(t){t.length=0}function Ks(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!Qs(n,t[i]))return!1}return!0}function Js(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function tu(t,n){return iu(t,function(t,i){return Xs(n(t),n(i))})}function nu(t,n){return function(t,n){return iu(t,function(t,i){return n(i,t)})}(t,function(t,i){return Xs(n(t),n(i))})}function iu(t,n){if(0!==t.length)return t.reduce(function(t,i){return n(t,i)<=0?t:i})}function eu(t,n){return qe.all(t.map(n)).then(function(n){return t.filter(function(t,i){return n[i]})})}function ru(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.length)){r.next=10;break}return e=t[i],r.next=5,Fr.awrap(n(e));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:i++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,null,qe)}function su(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var uu=function(){function t(){this.Os=!1,this.xs=!1,this.Ls=[],this.Ms=[]}var n=t.prototype;return n.Us=function(){if(!this.Os&&!this.xs){this.Os=!0;for(var t=0,n=this.Ls.slice();t<n.length;t++){(0,n[t])()}this.Xs()}},n.Xs=function(){if(!this.xs){this.xs=!0;for(var t=0,n=this.Ms.slice();t<n.length;t++){(0,n[t])()}Zs(this.Ls),Zs(this.Ms)}},n.Hs=function(t){this.xs||this.Ls.push(t)},n.Fs=function(t){this.xs||$s(this.Ls,t)},n.zs=function(t){this.xs||this.Ms.push(t)},n.Vs=function(t){this.xs||$s(this.Ms,t)},t}(),ou=function(){function t(){this.Ws=new uu}var n=t.prototype;return n.Gs=function(){this.Ws.Us()},n.Xs=function(){this.Ws.Xs()},n.qs=function(t){var n=this.Ws;if(!n.Os)if(t.Os)n.Us();else if(!n.xs&&!t.xs){var i=function(){e(),n.Us()},e=function e(){t.Fs(i),t.Vs(e),n.Fs(i),n.Vs(e)};t.Hs(i),t.zs(e),n.Hs(i),n.zs(e)}},n.Ys=function(){var n=new t,i=new t,e=n.js,r=i.js,s=this.Ws,u=function(){e.Os&&r.xs||r.Os&&e.xs?s.Us():e.xs&&r.xs&&s.Xs()};e.Hs(u),r.Hs(u),e.zs(u),r.zs(u),n.qs(s),i.qs(s);return s.zs(function(){e.Fs(u),r.Fs(u),e.Vs(u),r.Vs(u)}),[n,i]},T(t,[{key:"js",get:function(){return this.Ws}}]),t}(),au=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return E(n,t),T(n,[{key:"name",get:function(){return"AbortError"}}]),n}(nn);function hu(t){return t instanceof l&&"AbortError"===t.name}function cu(t){if(t&&t.Os)throw new au}function fu(t){if(hu(t))throw t}function lu(t){if(!hu(t))throw t}function vu(t,n){return n?new qe(function(i,e){if(n.Os)return t.catch(K),e(new au);var r=function t(){n.Fs(t),e(new au)};n.Hs(r),t.then(function(t){n.Fs(r),i(t)},function(t){n.Fs(r),e(t)})}):t}function du(t,n){return t.then(function(t){return n.Xs(),t},function(t){throw n.Xs(),t})}function wu(t,n){var i=new ou;return n&&i.qs(n),t(i.js).then(function(t){return i.Gs(),t},function(t){throw i.Gs(),t})}var gu=qe.resolve();function mu(t){gu.then(t)}function yu(t){t.then(K,K)}function pu(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Fr.awrap(qe.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,Fr.awrap(qe.all(t.map(function(t){return t.catch(K)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],qe)}function _u(t,n){return new qe(function(e,r){if(void 0!==n&&n.Os)r(new au);else{var s=i.Zn(function(){void 0!==n&&n.Fs(u),e()},t),u=function(){i.Qn(s),r(new au)};void 0!==n&&n.Hs(u)}})}function bu(t){return t&&"function"!=typeof t?t.slice():t}function ku(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var Au,Tu=function(){function t(t){var n=this;this.Qs=Hr(),this.Zs=void 0,this.Ks=void 0,this.Js=function(t){n.$s(t)},this.Ks=t||this}var n=t.prototype;return n.tu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.nu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.nu(e,n)}},n.nu=function(t,n){var i=this.Qs[t];i?"function"==typeof i?this.Qs[t]=[i,n]:i.push(n):this.Qs[t]=n},n.uu=function(t){if("function"==typeof t){var n=this.Zs;n?"function"==typeof n?this.Zs=[n,t]:n.push(t):this.Zs=t}},n.ou=function(){this.Qs=Hr(),this.Zs=void 0},n.$s=function(t){var n=bu(this.Qs[t.type]),i=bu(this.Zs);ku(this.Ks,t,n),ku(this.Ks,t,i)},n.au=function(t,n){if("function"==typeof n)if("string"==typeof t)this.fu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.fu(e,n)}},n.fu=function(t,n){var i=this.Qs[t];i&&("function"==typeof i?i===n&&(this.Qs[t]=void 0):$s(i,n))},n.vu=function(t){if("string"==typeof t)this.Qs[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Qs[i]=void 0}},n.du=function(t){var n=this.Zs;n&&("function"==typeof n?n===t&&(this.Zs=void 0):$s(n,t))},n.wu=function(t,n){var i=this;return new qe(function(e,r){if(n&&n.Os)return r(new au);var s=function(t){o(),e(t)},u=function(){o(),r(new au)},o=function(){i.au(t,s),n&&n.Fs(u)};i.tu(t,s),n&&n.Hs(u)})},t}(),Su=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.$s=function(n){var i=this;mu(function(){t.prototype.$s.call(i,n)})},n}(Tu),Eu=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Iu=["cenc"],Ru=["cbcs","cbcs-1-9"],Cu=function(t){function n(n){var i;return(i=t.call(this,"mu")||this)._u=n,i}return E(n,t),n}(Eu),Du=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"yu")||this)._u=n,s.pu=i,s.yu=e,s.bu=r,s}return E(n,t),n}(Eu),Nu=function(t){function n(){return t.call(this,"Au")||this}return E(n,t),n}(Eu);!function(t){t.Tu="Su",t.Eu="Iu"}(Au||(Au={}));var Pu=function(t){function n(n,i){var e;return(e=t.call(this,Au.Tu)||this).ys=n,e.Ru=i,e}return E(n,t),n}(Eu),xu=function(t){function n(){return t.call(this,Au.Eu)||this}return E(n,t),n}(Eu),Bu=new _([0]).buffer,Ou=function(){function t(){this.Du=void 0,this.Du=[]}var n=t.prototype;return n.Nu=function(t){for(var n=0,i=this.Du;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Cu=function(t){for(var n=0,i=this.Du;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.Pu=function(t,n){this.Du.forEach(function(n){return t(n[1],n[0])},n)},n.Bu=function(t,n){this.Du.push([t,n])},n.Ou=function(){Zs(this.Du)},T(t,[{key:"xu",get:function(){return this.Du.length}}]),t}(),Lu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Mu=16383,ju=/[\t\n\f\r ]/g;function Fu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Uu()}function Uu(){throw new l("Invalid base64 input")}function Hu(t){var n=t;ju.test(n)&&(n=n.replace(ju,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Uu();for(var r,s=0===e?0:4-e,u=new _(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,a=0,h=0;a<o;a+=4)r=Fu(n.charCodeAt(a))<<18|Fu(n.charCodeAt(a+1))<<12|Fu(n.charCodeAt(a+2))<<6|Fu(n.charCodeAt(a+3)),u[h++]=r>>16&255,u[h++]=r>>8&255,u[h++]=255&r;return 2===s?(r=Fu(n.charCodeAt(a))<<2|Fu(n.charCodeAt(a+1))>>4,u[h++]=255&r):1===s&&(r=Fu(n.charCodeAt(a))<<10|Fu(n.charCodeAt(a+1))<<4|Fu(n.charCodeAt(a+2))>>2,u[h++]=r>>8&255,u[h++]=255&r),u}function Xu(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],Lu[e>>2]+Lu[(3&e)<<4|r>>4]+Lu[(15&r)<<2|s>>6]+Lu[63&s]));return u.join("")}function zu(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=Mu)e.push(Xu(t,s,g.min(r,s+Mu)));if(1===i){var u=t[n-1];e.push(Lu[u>>2]+Lu[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];e.push(Lu[o>>2]+Lu[(3&o)<<4|a>>4]+Lu[(15&a)<<2]+"=")}return e.join("")}var Vu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Wu=ArrayBuffer.isView||function(t){return t&&Qs(Vu,U.call(t))};function qu(t,n){return t===n||t.byteLength===n.byteLength&&Gu(new _(t),new _(n))}function Gu(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function $u(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return Yu(t,n)}function Yu(t,n){for(var i=new _(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function Qu(t){return Hu(t).buffer}function Zu(t){return zu(new _(t))}function Ku(t){return zu(Oo(t))}function Ju(t,n){var i=n.Lu,e=t.getUint8(i>>3),r=1<<7-(7&i);return n.Mu(1),(e&r)===r?1:0}function to(t,n,i){for(var e=0,r=0;r<i;r++)e=2*e+Ju(t,n);return e}var no=function(){function t(t){void 0===t&&(t=0),this.Uu=t}var n=t.prototype;return n.Mu=function(t){this.Uu+=t},n.Xu=function(t){this.Uu=t},n.Hu=function(){return new t(this.Lu)},T(t,[{key:"Lu",get:function(){return this.Uu}}]),t}();function io(t){if(t>=55296&&t<=57343)throw new l("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function eo(t,n){return t>>n&63|128}function ro(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(io(t),n.push(t>>12&15|224),n.push(eo(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(eo(t,12)),n.push(eo(t,6))),n.push(63&t|128)):n.push(t)}function so(t,n){if(n.Lu>=t.length)throw new l("Invalid byte index");var i=255&t[n.Lu];if(n.Mu(1),128==(192&i))return 63&i;throw new l("Invalid continuation byte")}function uo(t,n){var i=n.Lu;if(i>t.length)throw new l("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Mu(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|so(t,n);if(r>=128)return r;throw new l("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|so(t,n)<<6|so(t,n);if(s>=2048)return io(s),s;throw new l("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|so(t,n)<<12|so(t,n)<<6|so(t,n);if(u>=65536&&u<=1114111)return u}throw new l("Invalid UTF-8 detected")}var oo=65279;var ao=[128,64,32,16,8,4,2,1],ho=function(){function t(t){this.Fu=t}return t.prototype.Vu=function(t){return co(this.Fu,t)},t}();function co(t,n){return(t&n)===n}function fo(t,n){return co(t,ao[n])}function lo(t,n){var i=t.getUint8(n.Lu);return n.Mu(1),i}function vo(t,n,i){t.setUint8(n.Lu,i),n.Mu(1)}function wo(t,n,i){var e=zo(qo(t),n.Lu,n.Lu+i);return n.Mu(e.byteLength),e}function go(t,n,i){qo(t).set(qo(i),n.Lu),n.Mu(i.byteLength)}function mo(t,n,i){return n.Lu+i<=t.byteLength}function yo(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=lo(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+lo(t,n);return e}(t,n,i)}function po(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Lu,i);return n.Mu(2),e}function _o(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Lu,i,e),n.Mu(2)}function bo(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Lu,i);return n.Mu(4),e}function ko(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Lu,i,e),n.Mu(4)}function Ao(t,n,i){void 0===i&&(i=!1);var e=bo(t,n,i),r=bo(t,n,i),s=i?r:e,u=i?e:r;return vt.fromBits(u,s,!0)}function To(t,n){return Io(t,n)}function So(t,n,i){return Ds(Zo(wo(t,n,i)))}function Eo(t,n){var i,e=lo(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&lo(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&lo(t,n))+(63&lo(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&lo(t,n))+64*(63&lo(t,n))+(63&lo(t,n))),i}function Io(t,n){return Ro(t,n,!0)}function Ro(t,n,i){for(var e=[];n.Lu<t.byteLength;){var r=lo(t,n);if(i&&!r)break;e.push(r)}return Ds(e)}function Co(t,n){if(n.Lu+2<=t.byteLength){var i=t.getUint8(n.Lu),e=t.getUint8(n.Lu+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function Do(t,n){var i=Co(t,n);return void 0!==i&&n.Mu(2),No(t,n,!0===i)}function No(t,n,i){return void 0===i&&(i=!1),Po(t,n,i,!0)}function Po(t,n,i,e){for(var r=[];n.Lu+2<=t.byteLength;){var s=po(t,n,i);if(e&&!s)break;r.push(s)}return Ds(r)}function xo(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){_o(t,n,i.charCodeAt(s),e)}}function Bo(t){return Ro(Wo(t),new Ko,!1)}function Oo(t){var n=new _(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)vo(t,n,i.charCodeAt(r))}(Wo(n),new Ko,t),n}function Lo(t,n){return void 0===n&&(n=!1),Po(Wo(t),new Ko,n,!1)}function Mo(t,n){void 0===n&&(n=!1);var i=new _(2*t.length);return xo(Wo(i),new Ko,t,n),i}function jo(t,n){return n.Lu+3<=t.byteLength&&(239===t.getUint8(n.Lu)&&187===t.getUint8(n.Lu+1)&&191===t.getUint8(n.Lu+2))}function Fo(t,n){return function(t,n,i){var e=[];jo(t,n)&&n.Mu(3);for(;n.Lu<t.byteLength;){var r=Eo(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Rs(e)}(t,n,!0)}function Uo(t){return Rs(function(t,n){var i,e=[],r=new Ko;if(!n){if(!1===(i=uo(t,r)))return e;i===oo||e.push(i)}for(;!1!==(i=uo(t,r));)e.push(i);return e}(qo(t)))}function Ho(t){return new _(function(t){for(var n=[],i=0;i<t.length;i++)ro(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Xo(t,n){if(jo(t,n))return Fo(t,n);if(void 0!==Co(t,n))return Do(t,n);if(n.Lu+4<=t.byteLength){if(0===t.getUint8(n.Lu)&&0===t.getUint8(n.Lu+2))return No(t,n,!1);if(0===t.getUint8(n.Lu+1)&&0===t.getUint8(n.Lu+3))return No(t,n,!0)}return Fo(t,n)}function zo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new _(t.buffer,t.byteOffset+n,i-n)}function Vo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Wo(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function qo(t){return new _(t.buffer,t.byteOffset,t.byteLength)}function Go(t){return t instanceof ArrayBuffer||Wu(t)}function $o(t){return t instanceof ArrayBuffer?new _(t):qo(t)}function Yo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Qo(zo(t,n,i))}function Qo(t){if(t.slice)return t.slice(0);var n=new _(t.byteLength);return n.set(t,0),n}function Zo(t){return[].slice.call(t)}var Ko=function(){function t(t){void 0===t&&(t=0),this.Uu=t}var n=t.prototype;return n.Mu=function(t){this.Uu+=t},n.Xu=function(t){this.Uu=t},n.Hu=function(){return new t(this.Lu)},n.Wu=function(){return new no(this.Lu<<3)},T(t,[{key:"Lu",get:function(){return this.Uu}}]),t}();function Jo(t){var n=t.toLowerCase(),i=0,e=0;As(n,"0x")&&(n=n.substring(2));var r=new _(g.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=m(n[0],16));i<n.length;i+=2)r[e++]=m(n.substr(i,2),16);return r}var ta=function(){function t(){var t=this;this.Gu=void 0,this.Yu=void 0,this.ju=void 0,this.Gu=new qe(function(n,i){t.Yu=n,t.ju=i})}var n=t.prototype;return n.Qu=function(t){this.Yu&&(this.Yu(t),this.Xs())},n.Zu=function(t){this.ju&&(this.ju(t),this.Xs())},n.Gs=function(){this.Gu.catch(K),this.Zu(new au)},n.qs=function(t){var n=this;t.then(function(t){return n.Qu(t)},function(t){return n.Zu(t)})},n.Xs=function(){this.Yu=void 0,this.ju=void 0},t}();function na(){return new _([8,4]).buffer}function ia(t){return qu(t,na())}function ea(t,n){return t===ss?function(t){if(t.byteLength<2*ra.length)return t;if(Lo(new DataView(t,0,2*ra.length),!0)===ra)return t;return n=t,Mo('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Zu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var ra="<PlayReady";var sa=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).Ku=void 0,s.Ju=void 0,s.Ku=i,s.Ju=e,s}return E(n,t),n}(nn),ua=function(t,n){return(ua=w.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)w.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function oa(t,n){if("function"!=typeof n&&null!==n)throw new v("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}ua(t,n),t.prototype=null===n?w.create(n):(i.prototype=n.prototype,new i)}function aa(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function ha(t,n,i){return g.min(g.max(t,n),i)}function ca(t,n){return t>>8-n}function fa(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.$u=t,this.uo=n}t.prototype.get=function(t){var n=this.$u.get(t);if(0===this.uo||void 0===n)return n;var i=this.$u.get(t+1)||0,e=n&(1<<8-this.uo)-1,r=i>>8-this.uo;return(e<<this.uo)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.$u.get(g.floor((t+this.uo)/8));if(void 0!==n)return(n&1<<7-this.uo-t%8)>0?1:0}},w.defineProperty(t.prototype,"bitLength",{get:function(){return this.$u.bitLength-this.uo},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"length",{get:function(){return this.$u.length},enumerable:!1,configurable:!0})}();var la=function(){function t(t){this.oo=t,this.ao=0,this.do=0}return w.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.ao+this.do},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"done",{get:function(){return this.ao===this.oo.length&&0===this.do},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"location",{get:function(){return{byte:this.ao,bit:this.do}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.oo);return n.seek(this.ao,this.do),n},t.prototype.canReadBits=function(t){return 8*this.ao+t+this.do<=8*this.oo.length},t.prototype.canReadBytes=function(t){return 0===this.do?this.ao+t<=this.oo.length:this.ao+t<this.oo.length},t.prototype.incBit=function(){this.do++,this.do>7&&(this.ao++,this.do=0)},t.prototype.seek=function(t,n){this.ao=t,this.do=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new l("Cannot read past end of buffer.");return this.oo.get(this.ao)>>7-this.do&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new l("Cannot read past end of buffer.");if(0===this.do)return this.oo.get(this.ao++);var t=fa(this.oo.get(this.ao),8-this.do),n=ca(this.oo.get(this.ao+1),this.do);return this.ao++,t<<this.do|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new l("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new l("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new l("Cannot read past end of buffer.");var n=0;if(0===this.do&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new l("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new l("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-g.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new l("Skipping over the buffer edge is not allowed.");var n=this.do+t;this.ao+=n>>3,this.do=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new l("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),va=function(t,n){return t===n?0:t<n?-1:t>n?1:p(t)?p(n)?0:1:-1},da=function(){function t(){this._o=[],this.mo=[],this.Ee=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new l("The buffer length must be positive.");if(0!==i){if(0===this.mo.length)this.mo.push(0);else{var e=this.mo[this.mo.length-1]+this._o[this._o.length-1].length;this.mo.push(e)}this._o.push(t.subarray(n,n+i)),this.Ee+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this._o;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this._o=[],this.mo=[],this.Ee=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.mo[n];return this._o[n][i]}},w.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this._o.length<1)return-1;if(this._o.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this._o[0];return"number"==typeof t?aa(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=aa(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,a=1;u<o&&t[u]===n[a];u++,a++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=g.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.mo,t,va)},t.prototype.join=function(){if(1===this._o.length)return this._o[0];var t=new _(this.length);return this.copyInternal(t,0),t},w.defineProperty(t.prototype,"length",{get:function(){return this.Ee},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new l("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new l("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*g.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=ha(n,0,this.length),r=ha(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this._o[u],a=e,h=a-this.mo[u];a+o.length-h<r;)s.pushRange(o,h,o.length-h),u+=1,h=(a+=o.length-h)-this.mo[u],o=this._o[u];var c=r-a;return s.pushRange(o,h,c),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this._o.length-1,e=this._o[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this._o[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),wa=function(){function t(n){this.po=n||t.BUFFER_CHUNK_SIZE,this.Ao=!1,this.To=new da,this.oo=new _(this.po),this.So=0,this.Eo=0,this.do=7}return t.prototype.closeByte=function(){this.oo[this.So++]=this.Eo,this.So>=this.po&&this.closeBuffer(),this.Eo=0,this.do=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.So&&(this.To.pushRange(this.oo,0,this.So),t&&(this.oo=new _(this.po)),this.So=0)},w.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.do},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Ao)throw new l("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Ao=!0,this.To},t.prototype.writeBit=function(t){if(this.Ao)throw new l("Cannot write to a closed BitWriter.");this.Eo|=t<<this.do,0===this.do?this.closeByte():this.do--},t.prototype.writeByte=function(t){if(this.Ao)throw new l("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Eo=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.do;this.Eo|=ca(t,n+1),this.closeByte(),this.Eo=fa(t,8-n)<<n+1,this.do=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.Ao)throw new l("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.So+t.length<=this.po?(this.oo.set(t,this.So),this.So+=t.length,this.So===this.po&&this.closeBuffer()):(this.closeBuffer(),this.To.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.do;this.Eo|=ca(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=fa(t[i-1],8-n),r=ca(t[i],n+1);this.Eo=e<<n+1|r,this.closeByte()}this.Eo=fa(t[t.length-1],8-n)<<n+1,this.do=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new l("Received a negative number.");if(n>32)throw new l("The max bitlength that can be provided is 32.");if(t>=g.pow(2,n))throw new l("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new l("The max bitlength that can be provided is 32.");if(g.abs(t)>=g.pow(2,n-1))throw new l("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+g.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new l("Received a negative number.");for(var n=g.floor(g.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new _(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),ga=function(){function t(t){this.rb=new da,this.Io=t}return t.prototype.closeWriter=function(){void 0!==this.Io&&(this.rb=this.rb.concat(this.Io.close()),this.Io=void 0)},w.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Io&&(this.Io=new wa),this.Io},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),ma=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new l("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(g.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new ga;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=g.pow(2,32),t}();function ya(t,n){return t instanceof vt?64===n:t<g.pow(2,n)}function pa(t,n){return g.round(t*g.pow(2,n))}function _a(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function ba(t,n){return t/g.pow(2,n)}var ka=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!ya(i,8))throw new l("the provided version cannot fit in 8 bits.");return r.flags=e,r}return oa(n,t),w.defineProperty(n.prototype,"flags",{get:function(){return this.Ro},set:function(t){this.Ro=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new l("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(ma),Aa=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return oa(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(da.from(this.data))},n}(ma),Ta=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();var Sa=16384;function Ea(t){var n=t.length;if(n<=Sa)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Sa)i.push(String.fromCharCode.apply(String,t.slice(e,e+Sa)));return i.join("")}var Ia=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function Ra(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function Ca(t,n,i){var e=La(ja(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}function Da(t,n,i){return n.offset+i<=t.byteLength}function Na(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function Pa(t,n,i){void 0===i&&(i=!1);var e=Na(t,n,i),r=Na(t,n,i),s=i?r:e,u=i?e:r;return vt.fromBits(u,s,!0)}function xa(t,n,i){var e,r=Ca(t,n,i);return Ea((e=r,[].slice.call(e)))}function Ba(t,n){var i,e=Ra(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&Ra(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&Ra(t,n))+(63&Ra(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&Ra(t,n))+64*(63&Ra(t,n))+(63&Ra(t,n))),i}function Oa(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Ba(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return function(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Ea(n)}(e)}(t,n,!0)}function La(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new _(t.buffer,t.byteOffset+n,i-n)}function Ma(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ja(t){return new _(t.buffer,t.byteOffset,t.byteLength)}var Fa=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new Ta(this.offset<<3)},t}(),Ua=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return Ra(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return Na(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=Na(t,n,i),r=Na(t,n,i),s=i?r:e,u=i?e:r;return vt.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return Pa(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return Ca(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(Na(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return xa(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Oa(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Ha(t,n){return t.type===n}var Xa=8;function za(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=Va(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new l("Data incomplete");return n.boxes}function Va(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!Da(t,n,Xa)){var e=n.offset+Xa;return{complete:!1,neededOffset:e}}var r=Na(t,n),s=xa(t,n,4);if(1===r){if(!Da(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=Pa(t,n).toNumber()}if("uuid"===s){if(!Da(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=xa(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var a,h,c,f={type:r.type,offset:i,data:new Ua((a=t,h=i,c=u,void 0===h&&(h=0),void 0===c&&(c=a.byteLength),new DataView(a.buffer,a.byteOffset+h,c-h)),new Fa(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function Wa(t){return{version:t>>24,flags:new Ia(16777215&t)}}function qa(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function Ga(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function $a(t){var n=t.nextUint32Array(9);return{a:ba(n[0],16),b:ba(n[1],16),u:ba(n[2],30),c:ba(n[3],16),d:ba(n[4],16),v:ba(n[5],30),x:ba(n[6],16),y:ba(n[7],16),w:ba(n[8],30)}}function Ya(t){return new Aa(t.type,La(ja(t.data.data),t.data.cursor.offset))}var Qa=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return oa(n,t),w.defineProperty(n.prototype,"handlerType",{get:function(){return this.Do},set:function(t){this.Do=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(ka);function Za(t){var n=t.data,i=Wa(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new Qa(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}oa(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Qa);var Ka=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},w.defineProperty(t.prototype,"tag",{get:function(){return this.No},set:function(t){if(!ya(t,8))throw new l("Provided tag does not fit in 8 bits.");this.No=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=e,a.decoderSpecificInfo=u,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=r,a.maxBitrate=s.max,a.avgBitrate=s.avg,a}oa(n,t),w.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Co},set:function(t){if(!ya(t,8))throw new l("Provided objectTypeIndication does not fit in 8 bits.");this.Co=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"streamType",{get:function(){return this.Po},set:function(t){if(!ya(t,6))throw new l("Provided streamType does not fit in 6 bits.");this.Po=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Bo},set:function(t){if(!ya(t,24))throw new l("Provided bufferSizeDb does not fit in 24 bits.");this.Bo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.Oo},set:function(t){if(!ya(t,32))throw new l("Provided maxBitrate does not fit in 32 bits.");this.Oo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.xo},set:function(t){if(!ya(t,32))throw new l("Provided avgBitrate does not fit in 32 bits.");this.xo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Ka),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}oa(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(da.from(this.data))}}(Ka);var Ja=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return oa(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Ka);!function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new Ja(r.fixed28BitMode),s}oa(n,t),w.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"esId",{get:function(){return this.Lo},set:function(t){if(!ya(t,16))throw new l("Provided esId does not fit in 16 bits.");this.Lo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Mo},set:function(t){if(!ya(t,5))throw new l("Provided streamPriority does not fit in 5 bits.");this.Mo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Uo},set:function(t){if(t&&!ya(t,16))throw new l("Provided dependsOnEsId does not fit in 16 bits.");this.Uo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.Xo},set:function(t){if(t&&!ya(t,16))throw new l("Provided ocrEsId does not fit in 16 bits.");this.Xo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Ka);var th=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return oa(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(ma),nh=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return oa(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(th),ih=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return oa(n,t),w.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.Ho},set:function(t){if(!ya(t,16))throw new l("Provided dataReferenceIndex does not fit in 16 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(nh),eh=function(t){function n(n,i,e,r){var s,u,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return oa(n,t),w.defineProperty(n.prototype,"channelCount",{get:function(){return this.Fo},set:function(t){if(!ya(t,16))throw new l("Provided channelCount does not fit in 16 bits.");this.Fo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleSize",{get:function(){return this.zo},set:function(t){if(!ya(t,16))throw new l("Provided sampleSize does not fit in 16 bits.");this.zo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleRate",{get:function(){return this.Vo},set:function(t){if(!ya(pa(t,16),32))throw new l("Provided rate does not fit in 32 bits (fixed 16.16).");this.Vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(pa(this.sampleRate,16),32),this.extra&&_a(n.writer,this.extra)},n}(ih);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}oa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Wo},set:function(t){if(!ya(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ya(t,32)}))throw new l("Not all entries can be represented in 32 bits.");this.Wo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(ka),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}oa(n,t),w.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Go},set:function(t){if(!ya(t,32))throw new l("Provided cleanApertureWidthN does not fit in 32 bits.");this.Go=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.qo},set:function(t){if(!ya(t,32))throw new l("Provided cleanApertureWidthD does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Yo},set:function(t){if(!ya(t,32))throw new l("Provided cleanApertureHeightN does not fit in 32 bits.");this.Yo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.jo},set:function(t){if(!ya(t,32))throw new l("Provided cleanApertureHeightD does not fit in 32 bits.");this.jo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Qo},set:function(t){if(!ya(t,32))throw new l("Provided horizOffN does not fit in 32 bits.");this.Qo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Zo},set:function(t){if(!ya(t,32))throw new l("Provided horizOffD does not fit in 32 bits.");this.Zo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Ko},set:function(t){if(!ya(t,32))throw new l("Provided vertOffN does not fit in 32 bits.");this.Ko=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"vertOffD",{get:function(){return this.Jo},set:function(t){if(!ya(t,32))throw new l("Provided vertOffD does not fit in 32 bits.");this.Jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(ma),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}oa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Wo},set:function(t){if(!ya(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ya(t.sampleCount,32)||!ya(t.sampleOffset,32)}))throw new l("Not all entries can be represented in 64 bits.");this.Wo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(ka),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}oa(n,t),w.defineProperty(n.prototype,"location",{get:function(){return this.$o},set:function(t){this.flags=void 0===t?1:0,this.$o=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(ka),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}oa(n,t),w.defineProperty(n.prototype,"location",{get:function(){return this.$o},set:function(t){if(1&this.flags)throw new l("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.$o=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(ka),function(t){function n(){return t.call(this,"dinf")||this}oa(n,t)}(nh);var rh=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!ya(i,8))throw new l("the provided version cannot fit in 8 bits.");return r.flags=e,r}return oa(n,t),w.defineProperty(n.prototype,"flags",{get:function(){return this.Ro},set:function(t){this.Ro=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new l("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(th);!function(t){function n(){return t.call(this,"dref",0,0)||this}oa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(rh);var sh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return oa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"entries",{get:function(){return this.Wo},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!ya(e.segmentDuration,this.bitSize))throw new l("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!ya(e.mediaTime,this.bitSize))throw new l("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!ya(e.mediaRateInteger,16))throw new l("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!ya(e.mediaRateFraction,16))throw new l("Provided mediaRateFraction does not fit in 16 bits.")}this.Wo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(ka),uh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return oa(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(sh),oh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return oa(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(sh);function ah(t){for(var n=t.data,i=Wa(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var a=void 0,h=void 0;0===e?(a=n.nextUint32(),h=n.nextInt32()):(a=n.nextUint64(),h=n.nextInt64());var c=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:a,mediaTime:h,mediaRateFraction:f,mediaRateInteger:c})}return 0===e?new uh(u,r.raw):new oh(u,r.raw)}var hh=function(t){function n(){return t.call(this,"edts")||this}return oa(n,t),n}(nh);function ch(t){for(var n=new hh,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Ha(r,"elst")?n.boxes.push(ah(r)):n.boxes.push(Ya(r))}return n}var fh=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return oa(n,t),w.defineProperty(n.prototype,"majorBrand",{get:function(){return this.ea},set:function(t){if(4!==t.length)throw new l("the provided major brand does not conform to the 4 character requirement");this.ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"minorVersion",{get:function(){return this.ra},set:function(t){if(!ya(t,32))throw new l("the provided minor version does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.ua},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new l("Some of the compatible brands do not conform to the 4 character requirement");this.ua=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(ma),lh=function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}return oa(n,t),n}(fh);function vh(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new lh(i,e,r)}var dh=function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}return oa(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(da.from(this.data))},n}(ma),wh=function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return oa(n,t),w.defineProperty(n.prototype,"creationTime",{get:function(){return this.oa},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.oa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"modificationTime",{get:function(){return this.va},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.va=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"timescale",{get:function(){return this._a},set:function(t){if(!ya(t,32))throw new l("Provided sequence number does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"duration",{get:function(){return this.ma},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ma=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"language",{get:function(){return this.ya},set:function(t){if(!ph(t))throw new l("Expected an ISO-639-2/T language code");this.ya=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(ka),gh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return oa(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(wh),mh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return oa(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(wh);function yh(t){var n=t.data,i=Wa(n.nextUint32()),e=i.version,r=i.flags,s=qa(n,e),u=new la(da.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(u.readUInt(5));var h=o.map(function(t){return String.fromCharCode(t+96)}).join("");return ph(h)||(h="und"),n.skip(2),0===e?new gh(s,h,r.raw):new mh(s,h,r.raw)}function ph(t){return/^[a-z]{3}$/.test(t)}var _h=function(t){function n(){return t.call(this,"mdia")||this}return oa(n,t),n}(nh);function bh(t){for(var n=new _h,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Ha(r,"mdhd")?n.boxes.push(yh(r)):Ha(r,"hdlr")?n.boxes.push(Za(r)):n.boxes.push(Ya(r))}return n}var kh,Ah=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new da,n}return oa(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(ma);function Th(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),e=new Ah;return e.data.pushRange(i),e}!function(t){function n(){return t.call(this,"minf")||this}oa(n,t)}(nh),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}oa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(rh),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(kh||(kh={}));var Sh,Eh,Ih={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Rh(t,n){n.writer.writeUInt(pa(t.a,16),32),n.writer.writeUInt(pa(t.b,16),32),n.writer.writeUInt(pa(0,30),32),n.writer.writeUInt(pa(t.c,16),32),n.writer.writeUInt(pa(t.d,16),32),n.writer.writeUInt(pa(0,30),32),n.writer.writeUInt(pa(t.x,16),32),n.writer.writeUInt(pa(t.y,16),32),n.writer.writeUInt(pa(1,30),32)}function Ch(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Sh.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Eh.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Eh.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:Eh.UNKNOWN,2)}function Dh(t,n){var i,e,r;n.writer.writeUInt(0,4),Ch(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Sh||(Sh={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Eh||(Eh={}));var Nh=function(){return function(){}}(),Ph=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return oa(n,t),w.defineProperty(n.prototype,"systemId",{get:function(){return this.Aa},set:function(t){if(16!==t.length)throw new l("Provided systemId length is not 16.");this.Aa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"data",{get:function(){return this.qi},set:function(t){if(!ya(t.length,32))throw new l("Provided data length does not fit in 32 bits.");this.qi=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(da.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(da.from(this.data))},n}(ka),xh=function(t){function n(n,i){return t.call(this,0,n,i)||this}return oa(n,t),n}(Ph),Bh=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return oa(n,t),w.defineProperty(n.prototype,"kIds",{get:function(){return this.Ta},set:function(t){if(!ya(t.length,32))throw new l("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new l("Not all provided key ids are 16 bytes long.");this.Ta=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(da.from(e))}},n}(Ph);function Oh(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),s=0;s<r;s++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new Bh(i,o,e):new xh(i,o)}var Lh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return oa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Sa},set:function(t){if(!ya(t,this.bitSize))throw new l("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Sa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(ka),Mh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return oa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Lh),jh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return oa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Lh);function Fh(t){var n=t.data,i=Wa(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Mh(n.nextUint32(),r.raw):new jh(n.nextUint64(),r.raw)}var Uh=function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var s,u,o,a=this;return(a=t.call(this,"trex",e,r)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,a.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return oa(n,t),w.defineProperty(n.prototype,"trackId",{get:function(){return this.Ea},set:function(t){if(!ya(t,32))throw new l("Provided track id does not fit in 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Ia},set:function(t){if(!ya(t,32))throw new l("Provided default sample description index does not fit in 32 bits.");this.Ia=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ra},set:function(t){if(!ya(t,32))throw new l("Provided default sample duration does not fit in 32 bits.");this.Ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Da},set:function(t){if(!ya(t,32))throw new l("Provided default sample size does not fit in 32 bits.");this.Da=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Na},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!ya(t.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ya(t.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");this.Na=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Dh(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(ka);function Hh(t){var n=t.data,i=Wa(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),h=Ga(new la(da.from(n.nextUint8Array(4))));return new Uh(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:a,sampleFlags:h},e,r.raw)}var Xh=function(t){function n(){return t.call(this,"mvex")||this}return oa(n,t),n}(nh);function zh(t){for(var n=new Xh,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Ha(r,"mehd")?n.boxes.push(Fh(r)):Ha(r,"trex")?n.boxes.push(Hh(r)):n.boxes.push(Ya(r))}return n}var Vh=function(t){function n(i,e,r,s,u){void 0===u&&(u=0);var o,a,h,c=this;return(c=t.call(this,"mvhd",s,u)||this).creationTime=i.creation,c.modificationTime=i.modification,c.timescale=i.scale,c.duration=i.duration,c.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,c.volume=null!==(a=r.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,c.matrix=null!==(h=r.matrix)&&void 0!==h?h:Ih,c.Ca=e,c}return oa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"creationTime",{get:function(){return this.oa},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.oa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"modificationTime",{get:function(){return this.va},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.va=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"timescale",{get:function(){return this._a},set:function(t){if(!ya(t,32))throw new l("Provided sequence number does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"duration",{get:function(){return this.ma},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ma=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"rate",{get:function(){return this.Pa},set:function(t){if(!ya(pa(t,16),32))throw new l("Provided rate does not fit in 32 bits (fixed 16.16).");this.Pa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"volume",{get:function(){return this.Ba},set:function(t){if(!ya(pa(t,8),16))throw new l("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ba=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"matrix",{get:function(){return this.Oa},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new l("(u, v, w) does not match the required (0, 0, 1)");this.Oa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Ca},set:function(t){if(0===t)throw new l("NextTrackId cannot be 0.");if(!ya(t,32))throw new l("NextTrackId cannot exceed 32 bits.");this.Ca=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(pa(this.rate,16),32),n.writer.writeUInt(pa(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Rh(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(ka),Wh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return oa(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Vh),qh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return oa(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Vh);function Gh(t){var n=t.data,i=Wa(n.nextUint32()),e=i.version,r=i.flags,s=qa(n,e),u=ba(n.nextUint32(),16),o=ba(n.nextUint16(),8);n.skip(2),n.skip(8);var a=$a(n);n.skip(24);var h=n.nextUint32();return 0===e?new Wh(s,h,{rate:u,volume:o,matrix:a},r.raw):new qh(s,h,{rate:u,volume:o,matrix:a},r.raw)}var $h=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a,h,c,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(h=o.alternateGroup)&&void 0!==h?h:0,f.matrix=null!==(c=o.matrix)&&void 0!==c?c:Ih,f}return oa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"creationTime",{get:function(){return this.oa},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.oa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"modificationTime",{get:function(){return this.va},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.va=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"trackId",{get:function(){return this.Ea},set:function(t){if(0===t)throw new l("trackId cannot be 0.");if(!ya(t,32))throw new l("trackId cannot exceed 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"duration",{get:function(){return this.ma},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ma=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"volume",{get:function(){return this.Ba},set:function(t){if(!ya(pa(t,8),16))throw new l("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ba=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"width",{get:function(){return this.xa},set:function(t){if(!ya(pa(t,16),32))throw new l("Provided width does not fit in 32 bits (fixed 16.16).");this.xa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"height",{get:function(){return this.La},set:function(t){if(!ya(pa(t,16),32))throw new l("Provided height does not fit in 32 bits (fixed 16.16).");this.La=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"layer",{get:function(){return this.Ma},set:function(t){if(!ya(t,16))throw new l("Provided layer does not fit in 16 bits.");this.Ma=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Ua},set:function(t){if(!ya(t,16))throw new l("Provided alternateGroup does not fit in 16 bits.");this.Ua=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"matrix",{get:function(){return this.Oa},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new l("(u, v, w) does not match the required (0, 0, 1)");this.Oa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(pa(this.volume,8),16),n.writer.writeUInt(0,16),Rh(this.matrix,n),n.writer.writeUInt(pa(this.width,16),32),n.writer.writeUInt(pa(this.height,16),32)},n}(ka),Yh=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return oa(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}($h),Qh=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return oa(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}($h);function Zh(t){var n,i,e,r,s=t.data,u=Wa(s.nextUint32()),o=u.version,a=u.flags,h=a.isSet(8),c=a.isSet(4),f=a.isSet(2),l=a.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var v=s.nextInt16(),d=s.nextInt16(),w=ba(s.nextInt16(),8);s.skip(2);var g=$a(s),m=ba(s.nextUint32(),16),y=ba(s.nextUint32(),16);return 0===o?new Yh({creation:n,modification:i,duration:r},e,w,m,y,{layer:v,matrix:g,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:l,trackInPreview:c,trackInMovie:f}):new Qh({creation:n,modification:i,duration:r},e,w,m,y,{layer:v,matrix:g,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:l,trackInPreview:c,trackInMovie:f})}var Kh=function(t){function n(){return t.call(this,"trak")||this}return oa(n,t),n}(nh);function Jh(t){for(var n=new Kh,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Ha(r,"tkhd")?n.boxes.push(Zh(r)):Ha(r,"mdia")?n.boxes.push(bh(r)):Ha(r,"edts")?n.boxes.push(ch(r)):n.boxes.push(Ya(r))}return n}var tc=function(t){function n(){return t.call(this,"moov")||this}return oa(n,t),n}(nh);function nc(t){for(var n=new tc,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Ha(r,"mvhd")?n.boxes.push(Gh(r)):Ha(r,"trak")?n.boxes.push(Jh(r)):Ha(r,"mvex")?n.boxes.push(zh(r)):Ha(r,"pssh")?n.boxes.push(Oh(r)):n.boxes.push(Ya(r))}return n}var ic=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return oa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.Xa},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.Xa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(ka),ec=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return oa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(ic),rc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return oa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(ic);function sc(t){var n=t.data,i=Wa(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new ec(n.nextUint32(),r.raw):new rc(n.nextUint64(),r.raw)}var uc=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return oa(n,t),w.defineProperty(n.prototype,"trackId",{get:function(){return this.Ea},set:function(t){if(!ya(t,32))throw new l("Provided track id does not fit in 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Ha},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new l("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new l("The base data offset present flag is not set.");if(t&&!ya(t,64))throw new l("Provided baseDataOffset does not fit in 32 bits.");this.Ha=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Fa},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new l("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new l("The sample description index flag is not set.");if(t&&!ya(t,32))throw new l("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Fa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ra},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new l("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new l("The default sample duration present flag is not set.");if(t&&!ya(t,32))throw new l("Provided defaultSampleDuration does not fit in 32 bits.");this.Ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Da},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new l("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new l("The default sample size present flag is not set.");if(t&&!ya(t,32))throw new l("Provided defaultSampleSize does not fit in 32 bits.");this.Da=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Na},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new l("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new l("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!ya(t.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ya(t.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");this.Na=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Dh(this.defaultSampleFlags,n)},n}(ka);function oc(t){var n=t.data,i=n.nextUint8(),e=new la(da.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=Boolean(e.readBit()),f=n.nextUint32(),l=c?n.nextUint64():void 0,v=h?n.nextUint32():void 0,d=a?n.nextUint32():void 0,w=o?n.nextUint32():void 0,g=u?Ga(new la(da.from(n.nextUint8Array(4)))):void 0;return new uc({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:l,sampleDescriptionIndex:v,defaultSampleDuration:d,defaultSampleSize:w,defaultSampleFlags:g},i)}var ac=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return oa(n,t),w.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Va},set:function(t){if(t&&!ya(t,32))throw new l("Provided data offset does not fit in 32 bits.");this.Va=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.Wa},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!ya(t.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ya(t.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");this.Wa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"samples",{get:function(){return this.Ga},set:function(t){var n,i;if(!ya(t.length,32))throw new l("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new l("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new l("The sample duration present flag is not set.");if(s.duration&&!ya(s.duration,32))throw new l("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new l("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new l("The sample size present flag is not set.");if(s.size&&!ya(s.size,32))throw new l("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new l("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new l("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!ya(s.flags.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!ya(s.flags.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new l("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new l("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!ya(s.compositionTimeOffset,32))throw new l("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Ga=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Dh(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&Dh(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(ka);function hc(t){var n=t.data,i=n.nextUint8(),e=new la(da.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};h&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=Ga(new la(da.from(n.nextUint8Array(4)))));for(var l=[],v=0;v<c;v++){var d={};o&&(d.duration=n.nextUint32()),u&&(d.size=n.nextUint32()),s&&(d.flags=Ga(new la(da.from(n.nextUint8Array(4))))),r&&(d.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),l.push(d)}return new ac(i,f,l)}var cc=function(t){function n(){return t.call(this,"traf")||this}return oa(n,t),n}(nh);function fc(t){for(var n=new cc,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Ha(r,"tfhd")?n.boxes.push(oc(r)):Ha(r,"tfdt")?n.boxes.push(sc(r)):Ha(r,"trun")?n.boxes.push(hc(r)):n.boxes.push(Ya(r))}return n}var lc=function(t){function n(){return t.call(this,"moof")||this}return oa(n,t),n}(nh);function vc(t){for(var n=new lc,i=0,e=za(t.data);i<e.length;i++){var r=e[i];Ha(r,"traf")?n.boxes.push(fc(r)):Ha(r,"pssh")?n.boxes.push(Oh(r)):n.boxes.push(Ya(r))}return n}!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}oa(n,t),w.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.qa},set:function(t){if(!ya(t,32))throw new l("Provided sequence number does not fit in 32 bits.");this.qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(ka);var dc=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return oa(n,t),w.defineProperty(n.prototype,"codingName",{get:function(){return this.Ya},set:function(t){if(4!==t.length)throw new l("Provided coding name was not 4 characters long.");this.Ya=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(ma);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}oa(n,t),w.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Qa},set:function(t){if(!ya(t,32))throw new l("Provided hSpacing does not fit in 32 bits.");this.Qa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Za},set:function(t){if(!ya(t,32))throw new l("Provided vSpacing does not fit in 32 bits.");this.Za=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(ma),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}oa(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(nh),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new dc(n),r}oa(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(ma);var wc=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return oa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"entries",{get:function(){return this.Wo},set:function(t){var n=this;if(!ya(t.length,32))throw new l("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!ya(t,n.bitSize)}))throw new l("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Wo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ka},set:function(t){if(void 0===t)this.flags=0;else{if(!ya(t.auxInfoType,32))throw new l("Provided auxInfoType does not fit in 32 bits.");if(!ya(t.auxInfoTypeParameter,32))throw new l("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ka=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(ka);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}oa(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(wc),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}oa(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(wc),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}oa(n,t),w.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.Ja},set:function(t){if(!ya(t,8))throw new l("Provided defaultSampleInfoSize does not fit in a single byte.");this.Ja=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.$a},set:function(t){if(!ya(t.length,32))throw new l("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!ya(t,8)}))throw new l("Not all provided sampleInfoSizes fit in a byte.");this.$a=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ka},set:function(t){if(void 0===t)this.flags=0;else{if(!ya(t.auxInfoType,32))throw new l("Provided auxInfoType does not fit in 32 bits.");if(!ya(t.auxInfoTypeParameter,32))throw new l("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ka=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new l("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(ka),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}oa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Ch(e[i],n)}}}(ka),function(t){function n(n){return t.call(this,"stsd",n,0)||this}oa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(rh);var gc=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return oa(n,t),w.defineProperty(n.prototype,"groupingType",{get:function(){return this.nh},set:function(t){if(4!==t.length)throw new l("The provided groupingType does not equal 4 characters.");this.nh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(ka);!function(t){function n(n,i){return t.call(this,0,n,i)||this}oa(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(gc),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}oa(n,t),w.defineProperty(n.prototype,"defaultLength",{get:function(){return this.ih},set:function(t){if(!ya(t,32))throw new l("The provided defaultLength does not fit in 32 bits.");this.ih=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(gc),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new l("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}oa(n,t),w.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Ia},set:function(t){if(!ya(t,32))throw new l("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Ia=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(gc),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}oa(n,t),w.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.eh},set:function(t){if(!ya(t.length,32))throw new l("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!ya(t,32)}))throw new l("Not all sampleSizes can be represented in 32 bits.");this.eh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(ka),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}oa(n,t),w.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Da},set:function(t){if(!ya(t,32))throw new l("Provided defaultSampleSize does not fit in 32 bits.");this.Da=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"samples",{get:function(){return this.Ga},set:function(t){if(!ya(t,32))throw new l("Number of allowed samples cannot fit in 32 bits.");this.Ga=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(ka),function(t){function n(){return t.call(this,"stbl")||this}oa(n,t)}(nh),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}oa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Wo},set:function(t){if(!ya(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ya(t.firstChunk,32)||!ya(t.sampleDescriptionIndex,32)||!ya(t.samplesPerChunk,32)}))throw new l("Not all entries can be represented in 96 bits.");this.Wo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(ka),function(t){function n(){return t.call(this,"schi")||this}oa(n,t)}(nh),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}oa(n,t),w.defineProperty(n.prototype,"schemeType",{get:function(){return this.rh},set:function(t){if(4!==t.length)throw new l("The provided schemeType does not have a length of 4.");this.rh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.sh},set:function(t){if(!ya(t,32))throw new l("The provided schemeVersion does not fit in 23 bits.");this.sh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"schemeUri",{get:function(){return this.uh},set:function(t){if(t&&4!==t.length)throw new l("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.uh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(ka);var mc=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=e,a.earliestPresentationTime=r,a.firstOffset=s,a.references=u,a}return oa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"referenceId",{get:function(){return this.oh},set:function(t){if(!ya(t,32))throw new l("Provided referenceId does not fit in 32 bits.");this.oh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"timescale",{get:function(){return this._a},set:function(t){if(!ya(t,32))throw new l("Provided timescale does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.ah},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.ah=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"firstOffset",{get:function(){return this.hh},set:function(t){if(!ya(t,this.bitSize))throw new l("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.hh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"references",{get:function(){return this.fh},set:function(t){if(!ya(t.length,16))throw new l("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!ya(e.referencedSize,31))throw new l("Provided referenced size does not fit in 31 bits.");if(!ya(e.subsegmentDuration,32))throw new l("Provided subsegment duration does not fit in 31 bits.");if(!ya(e.sapType,3))throw new l("Provided SAP type does not fit in 3 bits.");if(!ya(e.sapDeltaTime,28))throw new l("Provided SAP delta time does not fit in 28 bits.")}this.fh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(ka),yc=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return oa(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(mc),pc=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return oa(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(mc);var _c=function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}return oa(n,t),n}(fh);function bc(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new _c(i,e,r)}!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}oa(n,t),w.defineProperty(n.prototype,"balance",{get:function(){return this.vh},set:function(t){if(t<-1||t>1)throw new l("Provided balance does not fit in the allowed range [-1, 1].");if(!ya(pa(t,8),16))throw new l("Provided balance does not fit in 16 bits (fixed 8.8).");this.vh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(pa(this.balance,8),16),n.writer.writeUInt(0,16)}}(ka),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}oa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Wo},set:function(t){if(!ya(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ya(t,32)}))throw new l("Not all entries can be represented in 32 bits.");this.Wo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(ka),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}oa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Wo},set:function(t){if(!ya(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ya(t.sampleCount,32)||!ya(t.sampleDelta,32)}))throw new l("Not all entries can be represented in 64 bits.");this.Wo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(ka),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}oa(n,t),w.defineProperty(n.prototype,"trackId",{get:function(){return this.Ea},set:function(t){if(!ya(t,32))throw new l("The provided trackId does not fit in 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(rh),function(t){function n(){return t.call(this,"udta")||this}oa(n,t)}(nh);var kc={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=kc);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}oa(n,t),w.defineProperty(n.prototype,"opColor",{get:function(){return this.lh},set:function(t){if(!ya(t.red,16)||!ya(t.green,16)||!ya(t.blue,16))throw new l("Not all colors could be represented in 16 bits.");this.lh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(ka);var Ac=function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u,o,a,h,c,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=r.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(h=r.frameCount)&&void 0!==h?h:1,f.depth=null!==(c=r.depth)&&void 0!==c?c:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=s,f}return oa(n,t),w.defineProperty(n.prototype,"width",{get:function(){return this.xa},set:function(t){if(!ya(t,16))throw new l("Provided width does not fit in 16 bits.");this.xa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"height",{get:function(){return this.La},set:function(t){if(!ya(t,16))throw new l("Provided height does not fit in 16 bits.");this.La=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.dh},set:function(t){if(!ya(pa(t,16),32))throw new l("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.dh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.wh},set:function(t){if(!ya(pa(t,16),32))throw new l("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.wh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"compressorName",{get:function(){return this._h},set:function(t){if(t.length>31)throw new l("The provided compressorName should at most be 31 characters long.");this._h=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"frameCount",{get:function(){return this.gh},set:function(t){if(!ya(t,16))throw new l("Provided frameCount does not fit in 16 bits.");this.gh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"depth",{get:function(){return this.yh},set:function(t){if(!ya(t,16))throw new l("Provided depth does not fit in 16 bits.");this.yh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(pa(this.horizontalResolution,16),32),n.writer.writeUInt(pa(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&_a(n.writer,this.extra)},n}(ih);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}oa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof _?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof _?n.concat(da.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(ka),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}oa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(eh),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}oa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Ac),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}oa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(ih),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}oa(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(ma),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}w.defineProperty(t.prototype,"version",{get:function(){return this.kh},set:function(t){if(!ya(t,8))throw new l("Provided version does not fit in 8 bits.");this.kh=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"profileIndication",{get:function(){return this.ph},set:function(t){if(!ya(t,8))throw new l("Provided profileIndication does not fit in 8 bits.");this.ph=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.Ah},set:function(t){if(!ya(t,8))throw new l("Provided profileCompatibility does not fit in 8 bits.");this.Ah=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"levelIndication",{get:function(){return this.Th},set:function(t){if(!ya(t,8))throw new l("Provided levelIndication does not fit in 8 bits.");this.Th=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"spsSets",{get:function(){return this.Sh},set:function(t){if(!ya(t.length,5))throw new l("Provided number of spsSets exceeds the max (32)");this.Sh=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"ppsSets",{get:function(){return this.Eh},set:function(t){if(!ya(t.length,8))throw new l("Provided number of ppsSets exceeds the max (256)");this.Eh=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(da.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(da.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}oa(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(Ac),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}oa(n,t),w.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Bo},set:function(t){if(!ya(t,32))throw new l("Provided bufferSizeDb does not fit in 32 bits.");this.Bo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"max",{get:function(){return this.Ih},set:function(t){if(!ya(t,32))throw new l("Provided max does not fit in 32 bits.");this.Ih=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"avg",{get:function(){return this.Rh},set:function(t){if(!ya(t,32))throw new l("Provided avg does not fit in 32 bits.");this.Rh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(ma);var Tc=function(t){function n(n,i){var e,r,s,u,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new l("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new _(0),o}return oa(n,t),w.defineProperty(n.prototype,"isProtected",{get:function(){return this.Dh},set:function(t){if(!ya(t,8))throw new l("Provided isProtected does not fit in 1 byte.");this.Dh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Nh},set:function(t){if(![8,16].includes(t))throw new l("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Nh=t,this.Ch=new _(0)},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"kId",{get:function(){return this.Ph},set:function(t){if(16!==t.length)throw new l("Provided kId length is not 16.");this.Ph=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"constantIv",{get:function(){return this.Ch},set:function(t){if(![8,16].includes(t.length))throw new l("Provided constant IV length does not match any allowed value [8, 16].");this.Ch=t,this.Nh=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),_a(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),_a(t.writer,this.constantIv))},n}(ka);!function(t){function n(n){return t.call(this,0,n)||this}oa(n,t)}(Tc);var Sc=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return oa(n,t),w.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Bh},set:function(t){if(!ya(t,4))throw new l("Provided cryptByteBlocks does not fit in 4 bits.");this.Bh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Oh},set:function(t){if(!ya(t,4))throw new l("Provided skipByteBlocks does not fit in 4 bits.");this.Oh=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(Tc);function Ec(t){return void 0!==t.iv}function Ic(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new Sc(n),i}oa(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Nh),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}oa(n,t),w.defineProperty(n.prototype,"samples",{get:function(){return this.Ga},set:function(t){var n;if(!ya(t.length,32))throw new l("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(Ec(r)&&![8,16].includes(r.iv.length))throw new l("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Ic(r)),!0===n&&!Ic(r)||!1===n&&Ic(r))throw new l("Mix of samples with and without subsamples detected.");if(Ic(r)){if(!ya(r.subsamples.length,16))throw new l("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!ya(o.clearData,16))throw new l("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!ya(o.protectedData,23))throw new l("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Ga=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];Ec(r)&&(n+=r.iv.length),Ic(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(Ec(r)&&_a(n.writer,r.iv),Ic(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(ka),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}oa(n,t),w.defineProperty(n.prototype,"timescale",{get:function(){return this._a},set:function(t){if(!ya(t,32))throw new l("The provided timescale does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Lh},set:function(t){if(!ya(t,32))throw new l("The provided presentationTimeDelta does not fit in 32 bits.");this.Lh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Mh},set:function(t){if(!ya(t,32))throw new l("The provided eventDuration does not fit in 32 bits.");this.Mh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"id",{get:function(){return this.Uh},set:function(t){if(!ya(t,32))throw new l("The provided id does not fit in 32 bits.");this.Uh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(da.from(this.data))}}(ka);var Rc=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new ga,n=0,i=this.boxes;n<i.length;n++){var e=i[n];t.concat(e.serialize())}return t.toRangedBuffer()},t}();function Cc(t,n){return function(i){var e=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=Va(i,e);if(!r.complete)return;if(Ha(r.box,n))return r.box}}(new Ua(Ma(i),new Fa),t);if(!e)throw new l("".concat(t," box not found"));return n(e)}}var Dc=Cc("moov",nc),Nc=Cc("sidx",function(t){var n,i,e=t.data,r=Wa(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),a=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var h=e.nextUint16(),c=[],f=0;f<h;f++){var l=new la(da.from(e.nextUint8Array(12))),v=l.readBit(),d=l.readUInt(31),w=l.readUInt(32),g=Boolean(l.readBit()),m=l.readUInt(3),y=l.readUInt(28);c.push({referenceType:v,referencedSize:d,subsegmentDuration:w,startsWithSap:g,sapType:m,sapDeltaTime:y})}return 0===s?new yc(o,a,n,i,c,u.raw):new pc(o,a,n,i,c,u.raw)}),Pc=Cc("moof",vc),xc=Cc("pssh",Oh);function Bc(t){return function(t){for(var n=new Rc,i=0,e=za(t);i<e.length;i++){var r=e[i];Ha(r,"ftyp")?n.boxes.push(vh(r)):Ha(r,"styp")?n.boxes.push(bc(r)):Ha(r,"moov")?n.boxes.push(nc(r)):Ha(r,"moof")?n.boxes.push(vc(r)):Ha(r,"mdat")?n.boxes.push(Th(r)):n.boxes.push(Ya(r))}return n}(new Ua(Ma(t),new Fa))}var Oc=function(t){function n(n,i){var e;(e=t.call(this)||this).Xh=void 0,e.Hh=!1,e.Fh=void 0,e.Vh=void 0,e.Wh=function(){e.Gh()},e.qh=function(t){e.$s(new Du(Jt(e),t.messageType,ea(e.Yh,t.message)))},e.jh=function(){e.Hh=!0,e.Xh.xu>0&&(e.Xh.Ou(),e.$s(new Cu(Jt(e)))),e.Qh.removeEventListener("keystatuseschange",e.Wh),e.Qh.removeEventListener("message",e.qh)},e.Qh=n,e.Yh=i,e.Qh.addEventListener("keystatuseschange",e.Wh),e.Qh.addEventListener("message",e.qh),e.Xh=new Ou;var r=[];return e.Qh.closed&&r.push(qe.resolve(e.Qh.closed)),e.Vh=new ta,r.push(e.Vh.Gu),e.Fh=qe.race(r).then(e.jh,e.jh),e.Gh(),e}E(n,t);var i=n.prototype;return i.Zh=function(){if(this.Hh)return this.Fh;var t=[];return t.push(qe.resolve(this.Qh.close())),t.push(_u(1e3)),this.Vh.qs(qe.race(t).catch(Lc)),this.Hh=!0,this.Fh},i.Kh=function(t,n,i){if(j.vn){var e=xc($o(n));if(1===e.version)n=new xh(e.systemId,e.data).serialize().join()}return qe.resolve(this.Qh.generateRequest(t,n)).catch(Lc)},i.Jh=function(t){return qe.resolve(this.Qh.load(t)).catch(Lc)},i.$h=function(){return qe.resolve(this.Qh.remove()).catch(Lc)},i.tc=function(t){return qe.resolve(this.Qh.update(t)).catch(Lc)},i.Gh=function(){var t=this;this.Xh.Ou(),this.Qh.keyStatuses.forEach(function(n,i){t.nc(i,n)}),this.$s(new Cu(this))},i.nc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=$o(t);if(this.Yh===ss&&16===e.byteLength){var r=Wo(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.Yh===ss&&"status-pending"===n&&(n="usable"),this.Xh.Bu(e,n)},T(n,[{key:"ic",get:function(){return this.Fh}},{key:"ec",get:function(){return this.Qh.expiration}},{key:"rc",get:function(){return this.Xh}},{key:"uc",get:function(){return this.Qh.sessionId}}]),n}(Tu);function Lc(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|m(i[1],16))}throw new sa(t.message,void 0,n,t)}var Mc=function(){function t(t,n,i){this.ac=t,this.hc=n,this.cc=i}var n=t.prototype;return n.fc=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Oc(this.ac.createSession(t),this.hc));case 1:case"end":return n.stop()}},null,this,null,qe)},n.vc=function(t){return qe.resolve(this.ac.setServerCertificate(t))},n.lc=function(t){return qe.resolve(t.setMediaKeys(this.ac))},n.dc=function(t){return qe.resolve(t.setMediaKeys(null))},n.wc=function(){return qe.resolve()},t}(),jc=function(){function t(t,n,i){this._c=t,this.Yh=n,this.gc=i}var n=t.prototype;return n.mc=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this._c.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new Mc(t,this.Yh,this.gc));case 4:case"end":return n.stop()}},null,this,null,qe)},n.yc=function(){return this.gc},T(t,[{key:"hc",get:function(){return this._c.keySystem}}]),t}(),Fc={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Uc(t){return ks(t,Fc.APPLICATION_MP4)||ks(t,Fc.VIDEO_MP4)||ks(t,Fc.AUDIO_MP4)}var Hc=function(){function t(t,n){this._s=void 0,this.kc=void 0,this._s=t,this.kc=n}return t.prototype.pc=function(t){for(var n=0,i=this.kc;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function Xc(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Hc(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,a=0;a<r.length;a++){var h=r[a];if(o||";"!==h)'"'===h&&(o=!o);else{var c=zc(r.substr(u,a));c&&s.push(c),u=a+1}}if(u!==r.length){var f=zc(r.substr(u));f&&s.push(f)}return new Hc(e,s)}function zc(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function Vc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function Wc(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);i&&(n="avc1."+Is((Number(i[1])<<16|Number(i[2])).toString(16),6,"0"));return n}function qc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,bc:e.bc},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return Gc(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var a=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});a.length&&(s.videoCapabilities=a.filter(function(e){return Gc(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function Gc(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Qs(n,e.encryptionScheme))&&(!e.robustness&&t(i,Vc(e.contentType))))}function $c(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function Yc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function Qc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Zc))||!(!t.videoCapabilities||!t.videoCapabilities.some(Zc))}function Zc(t){return!t.robustness}function Kc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(Ur({},r,{robustness:n}))}return i}var Jc=function(){function t(){}return t.prototype.Ds=function(t,n){var i,e,r,s,u,a,h,c;return Fr.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.bc}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=Yc(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Yc(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(Qc)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",Ur({},n=t,{videoCapabilities:n.videoCapabilities?Kc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?Kc(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,Fr.awrap(o.requestMediaKeySystemAccess(t,s));case 7:return u=f.sent,a=u.getConfiguration(),f.abrupt("return",new jc(u,t,a));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,Fr.awrap(o.requestMediaKeySystemAccess(t,n));case 16:return h=f.sent,c=h.getConfiguration(),f.abrupt("return",new jc(h,t,c));case 19:case"end":return f.stop()}},null,null,[[4,12]],qe)},t.Ac=function(){return xs()},t}(),tf=function(t){function n(n,i){var e;return(e=t.call(this)||this).Hh=!1,e.Tc=void 0,e.Sc=void 0,e.Ec=void 0,e.Ic=void 0,e.Rc=void 0,e.jh=function(){e.Hh=!0,e.Tc.Qu(void 0),e.Rc&&(e.Rc.removeEventListener("mskeyclose",e.jh),e.Rc.removeEventListener("mskeymessage",e.Dc),e.Rc.removeEventListener("mskeyerror",e.Nc),e.Rc.removeEventListener("mskeyadded",e.Cc))},e.Dc=function(t){e.Ec&&(e.Ec.Qu(void 0),e.Ec=void 0),e.$s(new Du(Jt(e),"license-request",Qo(t.message).buffer,t.destinationURL||void 0))},e.Nc=function(){var t=e.Rc&&e.Rc.error;if(t){var n=new sa("Unknown CDM error",t.code,t.systemCode);if(e.Ec)e.Ec.Zu(n),e.Ec=void 0;else if(e.Sc)e.Sc.Zu(n),e.Sc=void 0;else switch(n.Ku){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Pc("output-not-allowed");break;default:e.Pc("internal-error")}}},e.Cc=function(){e.Ec&&(e.Pc("usable"),e.Ec.Qu(void 0),e.Ec=void 0),e.Sc&&(e.Pc("usable"),e.Sc.Qu(void 0),e.Sc=void 0)},e.Bc=n,e.Oc=i,e.Tc=new ta,e.Ic=new Ou,e}E(n,t);var i=n.prototype;return i.Kh=function(t,n,i){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.xc(),this.Ec=new ta,this.fc($o(n),i),t.next=5,Fr.awrap(this.Ec.Gu);case 5:case"end":return t.stop()}},null,this,null,qe)},i.fc=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Lc;return(i=n?this.Bc.createSession(this.Oc,t,e):this.Bc.createSession(this.Oc,t)).addEventListener("mskeyclose",this.jh),i.addEventListener("mskeymessage",this.Dc),i.addEventListener("mskeyerror",this.Nc),i.addEventListener("mskeyadded",this.Cc),this.Rc=i,this.Pc("status-pending"),i},i.Jh=function(t){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.xc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,qe)},i.tc=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Sc=new ta,this.xc(),this.Rc){i.next=4;break}return i.abrupt("return",qe.resolve());case 4:if(0!==(n=$o(t)).byteLength){i.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.Rc.update(n),i.next=10,Fr.awrap(this.Sc.Gu);case 10:case"end":return i.stop()}},null,this,null,qe)},i.Zh=function(){return!this.Hh&&this.Rc&&(this.Hh=!0,this.Rc.close()),this.Tc.Gu},i.$h=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.xc(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,qe)},i.xc=function(){if(this.Hh)throw new v("Already closing or closed.")},i.Pc=function(t){this.Ic.Ou(),this.Ic.Bu(Bu,t),this.$s(new Cu(this))},T(n,[{key:"uc",get:function(){return this.Rc&&this.Rc.sessionId||""}},{key:"ec",get:function(){return NaN}},{key:"ic",get:function(){return this.Tc.Gu}},{key:"rc",get:function(){return this.Ic}}]),n}(Tu),nf=function(){function t(t,n,i){this.Oc=void 0,this.Bc=t,this.hc=n,this.cc=i;var e=$c(i)||"video/mp4";this.Oc=Vc(e)}var n=t.prototype;return n.fc=function(t){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new tf(this.Bc,this.Oc));case 1:case"end":return t.stop()}},null,this,null,qe)},n.vc=function(t){return qe.resolve(!1)},n.lc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Bc):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Bc),t.removeEventListener("loadedmetadata",i)}),qe.resolve()},n.dc=function(t){return qe.resolve()},n.wc=function(){return qe.resolve()},t}(),ef=function(){function t(t,n){this.Yh=t,this.Mc=n}var n=t.prototype;return n.yc=function(){return this.Mc},n.mc=function(){var t=new we.MSMediaKeys(this.Yh);return qe.resolve(new nf(t,this.Yh,this.Mc))},T(t,[{key:"hc",get:function(){return this.Yh}}]),t}(),rf=function(){function t(){}return t.prototype.Ds=function(t,n){try{return qe.resolve(function(t,n){if(!sf())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=qc(uf,Iu,t,e);if(r)return new ef(t,r)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return qe.reject(t)}},t.Ac=function(){return sf()},t}();function sf(){return void 0!==we.MSMediaKeys&&"function"==typeof we.MSMediaKeys.isTypeSupported}function uf(t,n){return we.MSMediaKeys.isTypeSupported(t,n)}var of,af,hf=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Tc=new ta,r.Uc=void 0,r.Ic=new Ou,r.Xc=void 0,r.Hc=new ta,r.Nc=function(){var t=r.Xc&&r.Xc.error;if(t){var n=new sa("Unknown CDM error",t.code,t.systemCode);r.Uc?(r.Uc.Zu(n),r.Uc=void 0):n.Ku===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Pc("output-not-allowed"):r.Pc("internal-error"),r.$s(new Nu)}},r.Dc=function(t){r.$s(new Du(Jt(r),"license-request",Qo(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Cc=function(){r.Uc&&(r.Uc.Qu(void 0),r.Uc=void 0),r.Pc("usable")},r.Fc=n,r.Oc=i,r.zc=e,r}E(n,t);var i=n.prototype;return i.Kh=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Vc;if(!e)throw new v("Expected FairPlay contentId to be defined but was "+e+".");var r=cf($o(n),e,this.zc);return this.Xc=this.Fc.createSession(this.Oc,r),this.Xc.addEventListener("webkitkeymessage",this.Dc,!1),this.Xc.addEventListener("webkitkeyadded",this.Cc,!1),this.Xc.addEventListener("webkitkeyerror",this.Nc,!1),this.Pc("status-pending"),this.Hc.Qu(this.Xc),this.Hc=new ta,qe.resolve()},i.Jh=function(t){return qe.resolve(!0)},i.tc=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=$o(t)).byteLength){i.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.Uc=new ta,i.t0=this.Xc,i.t0){i.next=9;break}return i.next=8,Fr.awrap(this.Hc.Gu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,Fr.awrap(this.Uc.Gu);case 13:case"end":return i.stop()}},null,this,null,qe)},i.Zh=function(){var t,n=this.Xc;return n&&(n.removeEventListener("webkitkeymessage",this.Dc,!1),n.removeEventListener("webkitkeyadded",this.Cc,!1),n.removeEventListener("webkitkeyerror",this.Nc,!1),n.close()),this.Hc.Gs(),null==(t=this.Uc)||t.Gs(),this.Tc.Qu(void 0),this.Tc.Gu},i.$h=function(){return qe.resolve(void 0)},i.Pc=function(t){this.Ic.Ou(),this.Ic.Bu(Bu,t),this.$s(new Cu(this))},T(n,[{key:"uc",get:function(){return this.Xc?this.Xc.sessionId:""}},{key:"ec",get:function(){return NaN}},{key:"ic",get:function(){return this.Tc.Gu}},{key:"rc",get:function(){return this.Ic}}]),n}(Tu);function cf(t,n,i){var e=Uo(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),a=new Ko;return ko(o,a,r,!0),xo(o,a,e,!0),ko(o,a,s,!0),xo(o,a,n,!0),ko(o,a,i.byteLength,!0),go(o,a,i),new _(u)}n.ErrorCode=void 0,(of=n.ErrorCode||(n.ErrorCode={}))[of.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",of[of.LICENSE_ERROR=2e3]="LICENSE_ERROR",of[of.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",of[of.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",of[of.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",of[of.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",of[of.SOURCE_INVALID=3e3]="SOURCE_INVALID",of[of.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",of[of.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",of[of.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",of[of.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",of[of.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",of[of.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",of[of.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",of[of.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",of[of.MEDIA_ABORTED=5004]="MEDIA_ABORTED",of[of.NETWORK_ERROR=6e3]="NETWORK_ERROR",of[of.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",of[of.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",of[of.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",of[of.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",of[of.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",of[of.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",of[of.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",of[of.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",of[of.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",of[of.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",of[of.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",of[of.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",of[of.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",of[of.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",of[of.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",of[of.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",of[of.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",of[of.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",of[of.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",of[of.AD_ERROR=1e4]="AD_ERROR",of[of.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",of[of.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",of[of.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",of[of.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",n.ErrorCategory=void 0,(af=n.ErrorCategory||(n.ErrorCategory={}))[af.CONFIGURATION=1]="CONFIGURATION",af[af.LICENSE=2]="LICENSE",af[af.SOURCE=3]="SOURCE",af[af.MANIFEST=4]="MANIFEST",af[af.MEDIA=5]="MEDIA",af[af.NETWORK=6]="NETWORK",af[af.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",af[af.SUBTITLE=8]="SUBTITLE",af[af.VR=9]="VR",af[af.AD=10]="AD",af[af.FULLSCREEN=11]="FULLSCREEN",af[af.CACHE=12]="CACHE",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=g.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new v("Invalid error code: "+t)}}();var ff=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return E(i,t),T(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(nn);var lf=function(){function t(t,n,i){this.Oc=void 0,this.zc=void 0,this.Fc=t,this.hc=n,this.cc=i;var e=$c(i)||"video/mp4";this.Oc=Vc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Fc},i.fc=function(t){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.zc){t.next=2;break}throw new ff(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new hf(this.Fc,this.Oc,this.zc));case 3:case"end":return t.stop()}},null,this,null,qe)},i.vc=function(t){return this.zc=$o(t),qe.resolve(!0)},i.lc=function(t){return t.webkitSetMediaKeys(this.Fc),qe.resolve()},i.dc=function(t){return t.webkitSetMediaKeys(null),qe.resolve()},i.wc=function(){return qe.resolve()},t}(),vf=function(){function t(t,n){this.Yh=t,this.Mc=n}var n=t.prototype;return n.yc=function(){return this.Mc},n.mc=function(){var t=new we.WebKitMediaKeys(this.Yh);return qe.resolve(new lf(t,this.Yh,this.Mc))},T(t,[{key:"hc",get:function(){return this.Yh}}]),t}(),df=function(){function t(){}return t.prototype.Ds=function(t,n){try{return qe.resolve(function(t,n){if(t!==ls)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!wf())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=qc(gf,Ru,t,e);if(r)return new vf(t,r)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return qe.reject(t)}},t.Ac=function(){return wf()},t}();function wf(){return void 0!==we.WebKitMediaKeys&&"function"==typeof we.WebKitMediaKeys.isTypeSupported}function gf(t,n){return we.WebKitMediaKeys.isTypeSupported(t,n)}var mf=function(){function t(t){this.Wc=t}return t.prototype.Ds=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Wc;case 1:if(!(i<e.length)){s.next=14;break}return r=e[i],s.prev=3,s.next=6,Fr.awrap(r.Ds(t,n));case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(3);case 11:i++,s.next=1;break;case 14:throw new v("Unsupported key system configuration for "+t);case 15:case"end":return s.stop()}},null,this,[[3,9]],qe)},t}(),yf=function(){function t(t){var n=this;this.Gc=[],this.qc=void 0,this.Yc=new ou,this.jc=void 0,this.Qc=function(){return 0===n.Gc.length?n.jc?pf(n.jc,n.Yc.js).then(n.Zc,n.Zc):n.Zc():n.Gc.shift()().then(n.Qc)},this.Zc=function(){if(0!==n.Gc.length)return n.Qc();n.qc=void 0},this.jc=t}var n=t.prototype;return n.Kc=function(t,n){var i=this;return new qe(function(e){var r=new ou;r.qs(i.Yc.js),n&&r.qs(n);var s=function(){r.Xs()};i.Gc.push(function(){var n=pf(t,r.js);return e(n),n.then(s,s)}),i.qc||(i.qc=i.Qc())})},n.Gs=function(){return this.Jc(!0)},n.$c=function(){return this.jc=void 0,this.Jc(!1)},n.Jc=function(t){var n=this.qc;return this.Yc.Gs(),t&&(this.Yc=new ou),qe.resolve(n)},t}();function pf(t,n){return new qe(function(i){return i(t(n))})}var _f,bf=new yf,kf=function(t){function n(n){var i;return(i=t.call(this)||this).Ec=void 0,i.Uc=void 0,i.Tc=void 0,i.Ao=!1,i.tf=void 0,i.nf=void 0,i.if=void 0,i.ef=void 0,i.rf=void 0,i.Yh=n,i.Tc=new ta,i.nf="",i.rf=new ta,i.if=new Ou,i}E(n,t);var i=n.prototype;return i.sf=function(){this.Uc&&(this.Pc("usable"),this.Uc.Qu(void 0),this.Uc=void 0)},i.uf=function(t){var n=new sa("Unknown CDM error",t.errorCode,t.systemCode);this.Uc?(this.Uc.Zu(n),this.Uc=void 0):this.Ec?(this.Ec.Zu(n),this.Ec=void 0):n.Ku===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Pc("output-restricted"):1===n.Ju?this.Pc("expired"):this.Pc("internal-error")},i.hf=function(t){0!==t.message.byteLength&&(this.Ec&&(this.Ec.Qu(void 0),this.Ec=void 0),this.$s(new Du(this,"license-request",ea(this.Yh,Qo(t.message).buffer),t.defaultURL||void 0)))},i.cf=function(t){this.ef||(this.ef=t,this.rf.Qu(t))},i.Zh=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Uc&&(this.Uc.Zu(void 0),this.Uc=void 0),this.Ao=!0,this.Tc.Qu(void 0);case 4:case"end":return t.stop()}},null,this,null,qe)},i.Kh=function(t,n){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Ec=new ta,this.tf=$o(n),t.t0=this.ef,t.t0){t.next=8;break}return t.next=7,Fr.awrap(this.rf.Gu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Yh,this.tf),t.next=12,Fr.awrap(this.Ec.Gu);case 12:case"end":return t.stop()}},null,this,null,qe)},i.Jh=function(t){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,qe)},i.$h=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,qe)},i.tc=function(t){var n=this;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.throwIfClosed(),this.Uc=new ta,!j.In&&!j.Sn){i.next=4;break}return i.abrupt("return",bf.Kc(function(){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(n.doUpdate(t));case 2:case"end":return i.stop()}},null,null,null,qe)}));case 4:return i.next=6,Fr.awrap(this.doUpdate(t));case 6:case"end":return i.stop()}},null,this,null,qe)},i.doUpdate=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==this.Uc){n.next=2;break}return n.abrupt("return");case 2:if(n.t0=this.ef,n.t0){n.next=7;break}return n.next=6,Fr.awrap(this.rf.Gu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Yh,$o(t),this.tf,this.uc),n.next=11,Fr.awrap(this.Uc.Gu);case 11:case"end":return n.stop()}},null,this,null,qe)},i.throwIfClosed=function(){if(this.Ao)throw new v("Already closing or closed.")},i.Pc=function(t){this.if.Ou(),this.if.Bu(Bu,t),this.$s(new Cu(this))},i.vf=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.ef,n.t0){n.next=5;break}return n.next=4,Fr.awrap(this.rf.Gu);case 4:n.t0=n.sent;case 5:if(!(t=n.t0).webkitCancelKeyRequest){n.next=17;break}n.prev=7,t.webkitCancelKeyRequest(this.Yh,this.nf),n.next=13;break;case 11:n.prev=11,n.t1=n.catch(7);case 13:return n.prev=13,n.next=16,Fr.awrap(_u(500));case 16:return n.finish(13);case 17:case"end":return n.stop()}},null,this,[[7,11,13,17]],qe)},T(n,[{key:"rc",get:function(){return this.if}},{key:"uc",get:function(){return this.nf},set:function(t){this.nf=t}},{key:"ic",get:function(){return this.Tc.Gu}},{key:"ec",get:function(){return NaN}}]),n}(Tu),Af=function(){function t(t,n){var i=this;this.ef=void 0,this.lf=Xr(),this.df=[],this.Cc=function(t){var n=i.wf(t.sessionId);n&&n.sf()},this._f=function(t){var n=i.wf(t.sessionId);n&&n.uf(t)},this.gf=function(t){var n=i.wf(t.sessionId);n&&n.hf(t)},this.hc=t,this.cc=n}var n=t.prototype;return n.lc=function(t){return this.ef=t,this.ef.addEventListener("webkitkeyadded",this.Cc),this.ef.addEventListener("webkitkeyerror",this._f),this.ef.addEventListener("webkitkeymessage",this.gf),this.lf.forEach(function(n,i){return n.cf(t)}),this.df.forEach(function(n){return n.cf(t)}),qe.resolve()},n.dc=function(t){return t.removeEventListener("webkitkeyadded",this.Cc),t.removeEventListener("webkitkeyerror",this._f),t.removeEventListener("webkitkeymessage",this.gf),this.ef=void 0,qe.resolve()},n.wc=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:t=this.lf.entries(),n=t.next();case 2:if(n.done){i.next=8;break}return i.next=5,Fr.awrap(n.value[1].vf());case 5:n=t.next(),i.next=2;break;case 8:this.lf.clear();case 9:case"end":return i.stop()}},null,this,null,qe)},n.fc=function(t,n,i){var e;return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new kf(this.hc),this.ef&&e.cf(this.ef),this.df.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,qe)},n.vc=function(t){return qe.resolve(!1)},n.wf=function(t){if(t){var n=this.lf.get(t);return n||((n=this.df.shift())?(n.uc=t,this.lf.set(t,n),n):void 0)}},t}(),Tf=function(){function t(t,n){this.hc=t,this.mf=n}var n=t.prototype;return n.mc=function(){return qe.resolve(new Af(this.hc,this.mf))},n.yc=function(){return this.mf},t}(),Sf=function(){function t(){}return t.prototype.Ds=function(t,n){try{return qe.resolve(Ef(t,n))}catch(t){return qe.reject(t)}},t.Ac=function(){return Bs()},t}();function Ef(t,n){if(!Sf.Ac())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=qc(If,Iu,t,e);if(r)return new Tf(t,r)}throw new v("Unsupported key system configuration for "+t)}function If(t,n){var i=wr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Rf(){return _f||(_f=function(){var t=[];df.Ac()&&t.push(new df);Jc.Ac()&&t.push(new Jc);rf.Ac()&&t.push(new rf);Sf.Ac()&&t.push(new Sf);return new mf(t)}()),_f}var Cf=function(){function t(){this.yf=Xr()}var n=t.prototype;return n.Ou=function(t){this.yf.delete(t)},n.kf=function(){this.yf.clear()},n.Cu=function(t){return this.yf.get(t)},n.pf=function(t,n){this.yf.set(t,n)},t}(),Df=function(){function t(){}return t.bf=function(){return t.jn||(t.jn=Nf.Ac()?new Nf:new Cf),t.jn},t.Ou=function(n){t.bf().Ou(n)},t.kf=function(){t.bf().kf()},t.Cu=function(n){return t.bf().Cu(n)},t.pf=function(n,i){t.bf().pf(n,i)},t}();Df.jn=void 0;var Nf=function(n){function i(){return n.apply(this,arguments)||this}E(i,n),i.Ac=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.Ou=function(n){t.sessionStorage.removeItem(n)},e.kf=function(){t.sessionStorage.clear()},e.Cu=function(n){return t.sessionStorage[n]},e.pf=function(n,i){t.sessionStorage[n]=i},i}(Df);var Pf=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}}();function xf(t,n,i){var e=Pf([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=s.createElement("a");o.href=r,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(r)}var Bf,Of;!function(t){t.Af="Tf",t.Sf="Ef",t.If="contentprotectionerror",t.Rf="contentprotectionsuccess",t.Df="currentsourcechange",t.Nf="destroy",t.Cf="durationchange",t.Pf="emptied",t.Tu="encrypted",t.Bf="ended",t.Of="xf",t.Lf="loadstart",t.Mf="manifestupdate",t.Uf="nosupportedrepresentationfound",t.Xf="offline",t.Hf="online",t.Ff="pause",t.zf="play",t.Vf="progress",t.Wf="ratechange",t.Gf="representationchange",t.qf="resize",t.Yf="seeked",t.jf="seeking",t.Qf="segmentnotfound",t.Zf="Kf",t.Jf="$f",t.tv="sourcechange",t.ev="timeupdate",t.rv="volumechange",t.uv="ov",t.hv="metricschange"}(Bf||(Bf={})),function(t){t.fv="arraybuffer",t.vv="json",t.wv="stream",t.ni="text"}(Of||(Of={}));var Lf=function(){function t(n){var i=this;this.us=void 0,this.us={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&w.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Mf(i),e=jf(e);var r=i.toLowerCase();if(this.us.hasOwnProperty(r)){var s=this.us[r],u=s[1];s[1]=u?u+", "+e:e}else this.us[r]=[i,e]},n.delete=function(t){var n=Mf(t).toLowerCase();delete this.us[n]},n.get=function(t){var n=Mf(t).toLowerCase();return this.us.hasOwnProperty(n)?this.us[n][1]:null},n.has=function(t){var n=Mf(t).toLowerCase();return this.us.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Mf(i)).toLowerCase();this.us[e]=[i,jf(n)]},n.forEach=function(t,n){for(var i in this.us)this.us.hasOwnProperty(i)&&t.call(n,this.us[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.us)if(this.us.hasOwnProperty(n)){var i=this.us[n],e=i[0],r=i[1];t.push([e,r])}return t},n._v=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.mv=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.yv=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Mf(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function jf(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Uf(){}var Hf=Number.isNaN||function(t){return t!=t},Xf=Uf;function zf(t){return"object"==typeof t&&null!==t||"function"==typeof t}function Vf(t){return t.slice()}function Wf(t){return!1!==function(t){if("number"!=typeof t)return!1;if(Hf(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function qf(t,n,i){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Gf(t,n,i,e){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new v(r+" is not a method");switch(i){case 0:return function(){return Yf(r,t,e)};case 1:return function(n){var i=[n].concat(e);return Yf(r,t,i)}}}return function(){return rl(void 0)}}function $f(t,n,i){var e=t[n];if(void 0!==e)return qf(e,t,i)}function Yf(t,n,i){try{return rl(qf(t,n,i))}catch(t){return sl(t)}}function Qf(t){return t}function Zf(t){if(t=Number(t),Hf(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Kf(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new v("size property of a queuing strategy must be a function");return function(n){return t(n)}}var Jf=qe,tl=qe.prototype.then,nl=qe.resolve.bind(Jf),il=qe.reject.bind(Jf);function el(t){return new Jf(t)}function rl(t){return nl(t)}function sl(t){return il(t)}function ul(t,n,i){return tl.call(t,n,i)}function ol(t,n,i){ul(ul(t,n,i),void 0,Xf)}function al(t,n){ol(t,n)}function hl(t,n){ol(t,void 0,n)}function cl(t,n,i){return ul(t,n,i)}function fl(t){ul(t,void 0,Xf)}var ll=function(){function t(){this.pv=0,this.bv=0,this.Ie={Av:[],Tv:void 0},this.Sv=this.Ie,this.pv=0,this.bv=0}return w.defineProperty(t.prototype,"length",{get:function(){return this.bv},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Sv,i=n;16383===n.Av.length&&(i={Av:[],Tv:void 0}),n.Av.push(t),i!==n&&(this.Sv=i,n.Tv=i),++this.bv},t.prototype.shift=function(){var t=this.Ie,n=t,i=this.pv,e=i+1,r=t.Av,s=r[i];return 16384===e&&(n=t.Tv,e=0),--this.bv,this.pv=e,t!==n&&(this.Ie=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.pv,i=this.Ie,e=i.Av;!(n===e.length&&void 0===i.Tv||n===e.length&&(n=0,0===(e=(i=i.Tv).Av).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Ie,n=this.pv;return t.Av[n]},t}();function vl(t,n,i){var e=null;!0===i&&(e=w.prototype);var r=w.create(e);return r.value=t,r.done=n,r}function dl(t,n){t.Ev=!0,t.Iv=n,n.Rv=t,"readable"===n.ye?yl(t):"closed"===n.ye?function(t){yl(t),bl(t)}(t):pl(t,n.Dv)}function wl(t,n){return Sd(t.Iv,n)}function gl(t){"readable"===t.Iv.ye?_l(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){pl(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.Iv.Rv=void 0,t.Iv=void 0}function ml(t){return new v("Cannot "+t+" a stream using a released reader")}function yl(t){t.Fh=el(function(n,i){t.Nv=n,t.Cv=i})}function pl(t,n){yl(t),_l(t,n)}function _l(t,n){fl(t.Fh),t.Cv(n),t.Nv=void 0,t.Cv=void 0}function bl(t){t.Nv(void 0),t.Nv=void 0,t.Cv=void 0}var kl=Ff("[[CancelSteps]]"),Al=Ff("[[PullSteps]]");function Tl(t,n){void 0===n&&(n=!1);var i=new Nl(t);return i.Ev=n,i}function Sl(t){return el(function(n,i){var e={Yu:n,ju:i};t.Rv.Pv.push(e)})}function El(t,n,i){var e=t.Rv;e.Pv.shift().Yu(vl(n,i,e.Ev))}function Il(t){return t.Rv.Pv.length}function Rl(t){var n=t.Rv;return void 0!==n&&!!Pl(n)}var Cl,Dl,Nl=function(){function t(t){if(!1===Ad(t))throw new v("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Td(t))throw new v("This stream has already been locked for exclusive reading by another reader");dl(this,t),this.Pv=new ll}return w.defineProperty(t.prototype,"closed",{get:function(){return Pl(this)?this.Fh:sl(Bl("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Pl(this)?void 0===this.Iv?sl(ml("cancel")):wl(this,t):sl(Bl("cancel"))},t.prototype.read=function(){return Pl(this)?void 0===this.Iv?sl(ml("read from")):xl(this):sl(Bl("read"))},t.prototype.releaseLock=function(){if(!Pl(this))throw Bl("releaseLock");if(void 0!==this.Iv){if(this.Pv.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");gl(this)}},t}();function Pl(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"Pv")}function xl(t){var n=t.Iv;return n.Bv=!0,"closed"===n.ye?rl(vl(void 0,!0,t.Ev)):"errored"===n.ye?sl(n.Dv):n.Ov[Al]()}function Bl(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof Ff.asyncIterator&&((Cl={})[Ff.asyncIterator]=function(){return this},Dl=Cl,w.defineProperty(Dl,Ff.asyncIterator,{enumerable:!1}));var Ol={next:function(){if(!1===Ll(this))return sl(Ml("next"));var t=this.xv;return void 0===t.Iv?sl(ml("iterate")):cl(xl(t),function(n){var i=n.done;return i&&gl(t),vl(n.value,i,!0)})},return:function(t){if(!1===Ll(this))return sl(Ml("next"));var n=this.xv;if(void 0===n.Iv)return sl(ml("finish iterating"));if(n.Pv.length>0)return sl(new v("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Lv){var i=wl(n,t);return gl(n),cl(i,function(){return vl(t,!0,!0)})}return gl(n),rl(vl(t,!0,!0))}};function Ll(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"xv")}function Ml(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function jl(t){var n=t.Mv.shift();return t.Uv-=n.size,t.Uv<0&&(t.Uv=0),n.value}function Fl(t,n,i){if(!Wf(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Mv.push({value:n,size:i}),t.Uv+=i}function Ul(t){t.Mv=new ll,t.Uv=0}void 0!==Dl&&w.setPrototypeOf(Ol,Dl),w.defineProperty(Ol,"next",{enumerable:!1}),w.defineProperty(Ol,"return",{enumerable:!1});var Hl=Ff("[[AbortSteps]]"),Xl=Ff("[[ErrorSteps]]"),zl=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Wl(this);var i=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=Kf(i);void 0===e&&(e=1),function(t,n,i,e){var r=w.create(hv.prototype);var s=Gf(n,"write",1,[r]),u=Gf(n,"close",0,[]),o=Gf(n,"abort",1,[]);cv(t,r,function(){return $f(n,"start",[r])},s,u,o,i,e)}(this,t,e=Zf(e),r)}return w.defineProperty(t.prototype,"locked",{get:function(){if(!1===ql(this))throw mv("locked");return Gl(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===ql(this)?sl(mv("abort")):!0===Gl(this)?sl(new v("Cannot abort a stream that already has a writer")):$l(this,t)},t.prototype.close=function(){return!1===ql(this)?sl(mv("close")):!0===Gl(this)?sl(new v("Cannot close a stream that already has a writer")):!0===Jl(this)?sl(new v("Cannot close an already-closing stream")):Yl(this)},t.prototype.getWriter=function(){if(!1===ql(this))throw mv("getWriter");return Vl(this)},t}();function Vl(t){return new iv(t)}function Wl(t){t.ye="writable",t.Dv=void 0,t.Io=void 0,t.Xv=void 0,t.Hv=new ll,t.Fv=void 0,t.zv=void 0,t.Vv=void 0,t.Wv=void 0,t.Gv=!1}function ql(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"Xv")}function Gl(t){return void 0!==t.Io}function $l(t,n){var i=t.ye;if("closed"===i||"errored"===i)return rl(void 0);if(void 0!==t.Wv)return t.Wv.qv;var e=!1;"erroring"===i&&(e=!0,n=void 0);var r=el(function(i,r){t.Wv={qv:void 0,Yu:i,ju:r,Yv:n,Qv:e}});return t.Wv.qv=r,!1===e&&Zl(t,n),r}function Yl(t){var n=t.ye;if("closed"===n||"errored"===n)return sl(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=el(function(n,i){var e={Yu:n,ju:i};t.zv=e}),r=t.Io;return void 0!==r&&!0===t.Gv&&"writable"===n&&Rv(r),Fl(i=t.Xv,"close",0),vv(i),e}function Ql(t,n){"writable"!==t.ye?Kl(t):Zl(t,n)}function Zl(t,n){var i=t.Xv;t.ye="erroring",t.Dv=n;var e=t.Io;void 0!==e&&uv(e,n),!1===function(t){if(void 0===t.Fv&&void 0===t.Vv)return!1;return!0}(t)&&!0===i.Zv&&Kl(t)}function Kl(t){t.ye="errored",t.Xv[Xl]();var n=t.Dv;if(t.Hv.forEach(function(t){t.ju(n)}),t.Hv=new ll,void 0!==t.Wv){var i=t.Wv;if(t.Wv=void 0,!0===i.Qv)return i.ju(n),void tv(t);ol(t.Xv[Hl](i.Yv),function(){i.Yu(),tv(t)},function(n){i.ju(n),tv(t)})}else tv(t)}function Jl(t){return void 0!==t.zv||void 0!==t.Vv}function tv(t){void 0!==t.zv&&(t.zv.ju(t.Dv),t.zv=void 0);var n=t.Io;void 0!==n&&kv(n,t.Dv)}function nv(t,n){var i=t.Io;void 0!==i&&n!==t.Gv&&(!0===n?function(t){Tv(t)}(i):Rv(i)),t.Gv=n}var iv=function(){function t(t){if(!1===ql(t))throw new v("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Gl(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.Kv=t,t.Io=this;var n,i=t.ye;if("writable"===i)!1===Jl(t)&&!0===t.Gv?Tv(this):Ev(this),_v(this);else if("erroring"===i)Sv(this,t.Dv),_v(this);else if("closed"===i)Ev(this),_v(n=this),Av(n);else{var e=t.Dv;Sv(this,e),bv(this,e)}}return w.defineProperty(t.prototype,"closed",{get:function(){return!1===ev(this)?sl(yv("closed")):this.Fh},enumerable:!0,configurable:!0}),w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ev(this))throw yv("desiredSize");if(void 0===this.Kv)throw pv("desiredSize");return function(t){var n=t.Kv,i=n.ye;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return lv(n.Xv)}(this)},enumerable:!0,configurable:!0}),w.defineProperty(t.prototype,"ready",{get:function(){return!1===ev(this)?sl(yv("ready")):this.Jv},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===ev(this)?sl(yv("abort")):void 0===this.Kv?sl(pv("abort")):function(t,n){return $l(t.Kv,n)}(this,t)},t.prototype.close=function(){if(!1===ev(this))return sl(yv("close"));var t=this.Kv;return void 0===t?sl(pv("close")):!0===Jl(t)?sl(new v("Cannot close an already-closing stream")):rv(this)},t.prototype.releaseLock=function(){if(!1===ev(this))throw yv("releaseLock");void 0!==this.Kv&&ov(this)},t.prototype.write=function(t){return!1===ev(this)?sl(yv("write")):void 0===this.Kv?sl(pv("write to")):av(this,t)},t}();function ev(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"Kv")}function rv(t){return Yl(t.Kv)}function sv(t,n){"pending"===t.$v?kv(t,n):function(t,n){bv(t,n)}(t,n)}function uv(t,n){"pending"===t.il?Iv(t,n):function(t,n){Sv(t,n)}(t,n)}function ov(t){var n=t.Kv,i=new v("Writer was released and can no longer be used to monitor the stream's closedness");uv(t,i),sv(t,i),n.Io=void 0,t.Kv=void 0}function av(t,n){var i=t.Kv,e=i.Xv,r=function(t,n){try{return t.ul(n)}catch(n){return dv(t,n),1}}(e,n);if(i!==t.Kv)return sl(pv("write to"));var s=i.ye;if("errored"===s)return sl(i.Dv);if(!0===Jl(i)||"closed"===s)return sl(new v("The stream is closing or closed and cannot be written to"));if("erroring"===s)return sl(i.Dv);var u=function(t){return el(function(n,i){var e={Yu:n,ju:i};t.Hv.push(e)})}(i);return function(t,n,i){var e={chunk:n};try{Fl(t,e,i)}catch(n){return void dv(t,n)}var r=t.ol;if(!1===Jl(r)&&"writable"===r.ye){var s=wv(t);nv(r,s)}vv(t)}(e,n,r),u}var hv=function(){function t(){throw new v("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!zf(t))return!1;if(!w.prototype.hasOwnProperty.call(t,"ol"))return!1;return!0}(this))throw new v("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.ol.ye&&gv(this,t)},t.prototype[Hl]=function(t){var n=this.al(t);return fv(this),n},t.prototype[Xl]=function(){Ul(this)},t}();function cv(t,n,i,e,r,s,u,o){n.ol=t,t.Xv=n,n.Mv=void 0,n.Uv=void 0,Ul(n),n.Zv=!1,n.ul=o,n.hl=u,n.cl=e,n.fl=r,n.al=s;var a=wv(n);nv(t,a),ol(rl(i()),function(){n.Zv=!0,vv(n)},function(i){n.Zv=!0,Ql(t,i)})}function fv(t){t.cl=void 0,t.fl=void 0,t.al=void 0,t.ul=void 0}function lv(t){return t.hl-t.Uv}function vv(t){var n=t.ol;if(!1!==t.Zv&&void 0===n.Fv)if("erroring"!==n.ye){if(0!==t.Mv.length){var i=t.Mv.peek().value;"close"===i?function(t){var n=t.ol;(function(t){t.Vv=t.zv,t.zv=void 0})(n),jl(t);var i=t.fl();fv(t),ol(i,function(){!function(t){t.Vv.Yu(void 0),t.Vv=void 0,"erroring"===t.ye&&(t.Dv=void 0,void 0!==t.Wv&&(t.Wv.Yu(),t.Wv=void 0)),t.ye="closed";var n=t.Io;void 0!==n&&Av(n)}(n)},function(t){!function(t,n){t.Vv.ju(n),t.Vv=void 0,void 0!==t.Wv&&(t.Wv.ju(n),t.Wv=void 0),Ql(t,n)}(n,t)})}(t):function(t,n){var i=t.ol;(function(t){t.Fv=t.Hv.shift()})(i),ol(t.cl(n),function(){!function(t){t.Fv.Yu(void 0),t.Fv=void 0}(i);var n=i.ye;if(jl(t),!1===Jl(i)&&"writable"===n){var e=wv(t);nv(i,e)}vv(t)},function(n){"writable"===i.ye&&fv(t),function(t,n){t.Fv.ju(n),t.Fv=void 0,Ql(t,n)}(i,n)})}(t,i.chunk)}}else Kl(n)}function dv(t,n){"writable"===t.ol.ye&&gv(t,n)}function wv(t){return lv(t)<=0}function gv(t,n){var i=t.ol;fv(t),Zl(i,n)}function mv(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function yv(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function pv(t){return new v("Cannot "+t+" a stream using a released writer")}function _v(t){t.Fh=el(function(n,i){t.Nv=n,t.Cv=i,t.$v="pending"})}function bv(t,n){_v(t),kv(t,n)}function kv(t,n){fl(t.Fh),t.Cv(n),t.Nv=void 0,t.Cv=void 0,t.$v="rejected"}function Av(t){t.Nv(void 0),t.Nv=void 0,t.Cv=void 0,t.$v="resolved"}function Tv(t){t.Jv=el(function(n,i){t.vl=n,t.ll=i}),t.il="pending"}function Sv(t,n){Tv(t),Iv(t,n)}function Ev(t){Tv(t),Rv(t)}function Iv(t,n){fl(t.Jv),t.ll(n),t.vl=void 0,t.ll=void 0,t.il="rejected"}function Rv(t){t.vl(void 0),t.vl=void 0,t.ll=void 0,t.il="fulfilled"}function Cv(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Dv="undefined"!=typeof DOMException?DOMException:void 0;var Nv,Pv=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Dv)?Dv:((Nv=function(t,n){this.message=t||"",this.name=n||"Error",l.captureStackTrace&&l.captureStackTrace(this,this.constructor)}).prototype=w.create(l.prototype),w.defineProperty(Nv.prototype,"constructor",{value:Nv,writable:!0,configurable:!0}),Nv);function xv(t,n,i,e,r,s){var u=Tl(t),o=Vl(n);t.Bv=!0;var a=!1,h=rl(void 0);return el(function(c,f){var l,d,w,g;if(void 0!==s){if(l=function(){var i=new Pv("Aborted","AbortError"),s=[];!1===e&&s.push(function(){return"writable"===n.ye?$l(n,i):rl(void 0)}),!1===r&&s.push(function(){return"readable"===t.ye?Sd(t,i):rl(void 0)}),_(function(){return qe.all(s.map(function(t){return t()}))},!0,i)},!0===s.aborted)return void l();s.addEventListener("abort",l)}if(p(t,u.Fh,function(t){!1===e?_(function(){return $l(n,t)},!0,t):b(!0,t)}),p(n,o.Fh,function(n){!1===r?_(function(){return Sd(t,n)},!0,n):b(!0,n)}),d=t,w=u.Fh,g=function(){!1===i?_(function(){return function(t){var n=t.Kv,i=n.ye;return!0===Jl(n)||"closed"===i?rl(void 0):"errored"===i?sl(n.Dv):rv(t)}(o)}):b()},"closed"===d.ye?g():al(w,g),!0===Jl(n)||"closed"===n.ye){var m=new v("the destination writable stream closed before all data could be piped to it");!1===r?_(function(){return Sd(t,m)},!0,m):b(!0,m)}function y(){var t=h;return ul(h,function(){return t!==h?y():void 0})}function p(t,n,i){"errored"===t.ye?i(t.Dv):hl(n,i)}function _(t,i,e){function r(){ol(t(),function(){return k(i,e)},function(t){return k(!0,t)})}!0!==a&&(a=!0,"writable"===n.ye&&!1===Jl(n)?al(y(),r):r())}function b(t,i){!0!==a&&(a=!0,"writable"===n.ye&&!1===Jl(n)?al(y(),function(){return k(t,i)}):k(t,i))}function k(t,n){ov(o),gl(u),void 0!==s&&s.removeEventListener("abort",l),t?f(n):c(void 0)}fl(el(function(t,n){!function i(e){e?t():ul(!0===a?rl(!0):ul(o.Jv,function(){return ul(xl(u),function(t){return!0===t.done||(h=ul(av(o,t.value),void 0,Uf),!1)})}),i,n)}(!1)}))})}var Bv=function(){function t(){throw new v}return w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ov(this))throw Wv("desiredSize");return Xv(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Ov(this))throw Wv("close");if(!1===zv(this))throw new v("The stream is not in a state that permits close");Fv(this)},t.prototype.enqueue=function(t){if(!1===Ov(this))throw Wv("enqueue");if(!1===zv(this))throw new v("The stream is not in a state that permits enqueue");return Uv(this,t)},t.prototype.error=function(t){if(!1===Ov(this))throw Wv("error");Hv(this,t)},t.prototype[kl]=function(t){Ul(this);var n=this.dl(t);return jv(this),n},t.prototype[Al]=function(){var t=this.wl;if(this.Mv.length>0){var n=jl(this);return!0===this._l&&0===this.Mv.length?(jv(this),Ed(t)):Lv(this),rl(vl(n,!1,t.Rv.Ev))}var i=Sl(t);return Lv(this),i},t}();function Ov(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"wl")}function Lv(t){!1!==Mv(t)&&(!0!==t.yl?(t.yl=!0,ol(t.bl(),function(){t.yl=!1,!0===t.Al&&(t.Al=!1,Lv(t))},function(n){Hv(t,n)})):t.Al=!0)}function Mv(t){var n=t.wl;return!1!==zv(t)&&(!1!==t.Zv&&(!0===Td(n)&&Il(n)>0||Xv(t)>0))}function jv(t){t.bl=void 0,t.dl=void 0,t.ul=void 0}function Fv(t){var n=t.wl;t._l=!0,0===t.Mv.length&&(jv(t),Ed(n))}function Uv(t,n){var i=t.wl;if(!0===Td(i)&&Il(i)>0)El(i,n,!1);else{var e=void 0;try{e=t.ul(n)}catch(n){throw Hv(t,n),n}try{Fl(t,n,e)}catch(n){throw Hv(t,n),n}}Lv(t)}function Hv(t,n){var i=t.wl;"readable"===i.ye&&(Ul(t),jv(t),Id(i,n))}function Xv(t){var n=t.wl.ye;return"errored"===n?null:"closed"===n?0:t.hl-t.Uv}function zv(t){var n=t.wl.ye;return!1===t._l&&"readable"===n}function Vv(t,n,i,e,r,s,u){n.wl=t,n.Mv=void 0,n.Uv=void 0,Ul(n),n.Zv=!1,n._l=!1,n.Al=!1,n.yl=!1,n.ul=u,n.hl=s,n.bl=e,n.dl=r,t.Ov=n,ol(rl(i()),function(){n.Zv=!0,Lv(n)},function(t){Hv(n,t)})}function Wv(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var qv=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&g.floor(t)===t},Gv=function(){function t(){throw new v("ReadableStreamBYOBRequest cannot be used directly")}return w.defineProperty(t.prototype,"view",{get:function(){if(!1===Qv(this))throw ld("view");return this.Tl},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Qv(this))throw ld("respond");if(void 0===this.Sl)throw new v("This BYOB request has been invalidated");this.Tl.buffer,function(t,n){if(!1===Wf(n=Number(n)))throw new RangeError("bytesWritten must be a finite");ud(t,n)}(this.Sl,t)},t.prototype.respondWithNewView=function(t){if(!1===Qv(this))throw ld("respond");if(void 0===this.Sl)throw new v("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.El.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,ud(t,n.byteLength)}(this.Sl,t)},t}(),$v=function(){function t(){throw new v("ReadableByteStreamController constructor cannot be used directly")}return w.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Yv(this))throw vd("byobRequest");if(void 0===this.Il&&this.El.length>0){var t=this.El.peek(),n=new _(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=w.create(Gv.prototype);!function(t,n,i){t.Sl=n,t.Tl=i}(i,this,n),this.Il=i}return this.Il},enumerable:!0,configurable:!0}),w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Yv(this))throw vd("desiredSize");return cd(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Yv(this))throw vd("close");if(!0===this._l)throw new v("The stream has already been closed; do not close it again!");var t=this.Rl.ye;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Rl;if(t.Uv>0)return void(t._l=!0);if(t.El.length>0){var i=t.El.peek();if(i.bytesFilled>0){var e=new v("Insufficient bytes to fill elements in the given buffer");throw hd(t,e),e}}ad(t),Ed(n)}(this)},t.prototype.enqueue=function(t){if(!1===Yv(this))throw vd("enqueue");if(!0===this._l)throw new v("stream is closed or draining");var n=this.Rl.ye;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new v("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Rl,e=n.buffer,r=n.byteOffset,s=n.byteLength,u=Qf(e);if(!0===Rl(i))if(0===Il(i))td(t,u,r,s);else{var o=new _(u,r,s);El(i,o,!1)}else!0===gd(i)?(td(t,u,r,s),sd(t)):td(t,u,r,s);Zv(t)}(this,t)},t.prototype.error=function(t){if(!1===Yv(this))throw vd("error");hd(this,t)},t.prototype[kl]=function(t){this.El.length>0&&(this.El.peek().bytesFilled=0);Ul(this);var n=this.dl(t);return ad(this),n},t.prototype[Al]=function(){var t=this.Rl;if(this.Uv>0){var n=this.Mv.shift();this.Uv-=n.byteLength,ed(this);var i=void 0;try{i=new _(n.buffer,n.byteOffset,n.byteLength)}catch(t){return sl(t)}return rl(vl(i,!1,t.Rv.Ev))}var e=this.Dl;if(void 0!==e){var r=void 0;try{r=new ArrayBuffer(e)}catch(t){return sl(t)}var s={buffer:r,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:_,readerType:"default"};this.El.push(s)}var u=Sl(t);return Zv(this),u},t}();function Yv(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"Rl")}function Qv(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"Sl")}function Zv(t){!1!==function(t){var n=t.Rl;if("readable"!==n.ye)return!1;if(!0===t._l)return!1;if(!1===t.Zv)return!1;if(!0===Rl(n)&&Il(n)>0)return!0;if(!0===gd(n)&&wd(n)>0)return!0;if(cd(t)>0)return!0;return!1}(t)&&(!0!==t.yl?(t.yl=!0,ol(t.bl(),function(){t.yl=!1,!0===t.Al&&(t.Al=!1,Zv(t))},function(n){hd(t,n)})):t.Al=!0)}function Kv(t,n){var i=!1;"closed"===t.ye&&(i=!0);var e=Jv(n);"default"===n.readerType?El(t,e,i):function(t,n,i){var e=t.Rv;e.Nl.shift().Yu(vl(n,i,e.Ev))}(t,e,i)}function Jv(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function td(t,n,i,e){t.Mv.push({buffer:n,byteOffset:i,byteLength:e}),t.Uv+=e}function nd(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=g.min(t.Uv,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,a=!1;u>e&&(o=u-n.bytesFilled,a=!0);for(var h,c,f,l,v,d=t.Mv;o>0;){var w=d.peek(),m=g.min(o,w.byteLength),y=n.byteOffset+n.bytesFilled;h=n.buffer,c=y,f=w.buffer,l=w.byteOffset,v=m,new _(h).set(new _(f,l,v),c),w.byteLength===m?d.shift():(w.byteOffset+=m,w.byteLength-=m),t.Uv-=m,id(t,m,n),o-=m}return a}function id(t,n,i){rd(t),i.bytesFilled+=n}function ed(t){0===t.Uv&&!0===t._l?(ad(t),Ed(t.Rl)):Zv(t)}function rd(t){void 0!==t.Il&&(t.Il.Sl=void 0,t.Il.Tl=void 0,t.Il=void 0)}function sd(t){for(;t.El.length>0;){if(0===t.Uv)return;var n=t.El.peek();!0===nd(t,n)&&(od(t),Kv(t.Rl,n))}}function ud(t,n){var i=t.El.peek();if("closed"===t.Rl.ye){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=Qf(n.buffer);var i=t.Rl;if(!0===gd(i))for(;wd(i)>0;)Kv(i,od(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(id(t,n,i),!(i.bytesFilled<i.elementSize)){od(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=i.buffer.slice(r-e,r);td(t,s,0,s.byteLength)}i.buffer=Qf(i.buffer),i.bytesFilled-=e,Kv(t.Rl,i),sd(t)}}(t,n,i);Zv(t)}function od(t){var n=t.El.shift();return rd(t),n}function ad(t){t.bl=void 0,t.dl=void 0}function hd(t,n){var i=t.Rl;"readable"===i.ye&&(!function(t){rd(t),t.El=new ll}(t),Ul(t),ad(t),Id(i,n))}function cd(t){var n=t.Rl.ye;return"errored"===n?null:"closed"===n?0:t.hl-t.Uv}function fd(t,n,i){var e=w.create($v.prototype);var r=Gf(n,"pull",0,[e]),s=Gf(n,"cancel",1,[]),u=n.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===qv(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,e,r,s,u){n.Rl=t,n.Al=!1,n.yl=!1,n.Il=void 0,n.Mv=n.Uv=void 0,Ul(n),n._l=!1,n.Zv=!1,n.hl=Zf(s),n.bl=e,n.dl=r,n.Dl=u,n.El=new ll,t.Ov=n,ol(rl(i()),function(){n.Zv=!0,Zv(n)},function(t){hd(n,t)})}(t,e,function(){return $f(n,"start",[e])},r,s,i,u)}function ld(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function vd(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function dd(t){return el(function(n,i){var e={Yu:n,ju:i};t.Rv.Nl.push(e)})}function wd(t){return t.Rv.Nl.length}function gd(t){var n=t.Rv;return void 0!==n&&!!yd(n)}var md=function(){function t(t){if(!Ad(t))throw new v("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Yv(t.Ov))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Td(t))throw new v("This stream has already been locked for exclusive reading by another reader");dl(this,t),this.Nl=new ll}return w.defineProperty(t.prototype,"closed",{get:function(){return yd(this)?this.Fh:sl(pd("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return yd(this)?void 0===this.Iv?sl(ml("cancel")):wl(this,t):sl(pd("cancel"))},t.prototype.read=function(t){return yd(this)?void 0===this.Iv?sl(ml("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?sl(new v("view must have non-zero byteLength")):function(t,n){var i=t.Iv;if(i.Bv=!0,"errored"===i.ye)return sl(i.Dv);return function(t,n){var i=t.Rl,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,s={buffer:Qf(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:r,readerType:"byob"};if(t.El.length>0)return t.El.push(s),dd(i);if("closed"===i.ye)return rl(vl(new r(s.buffer,s.byteOffset,0),!0,i.Rv.Ev));if(t.Uv>0){if(!0===nd(t,s)){var u=Jv(s);return ed(t),rl(vl(u,!1,i.Rv.Ev))}if(!0===t._l){var o=new v("Insufficient bytes to fill elements in the given buffer");return hd(t,o),sl(o)}}t.El.push(s);var a=dd(i);return Zv(t),a}(i.Ov,n)}(this,t)):sl(new v("view must be an array buffer view")):sl(pd("read"))},t.prototype.releaseLock=function(){if(!yd(this))throw pd("releaseLock");if(void 0!==this.Iv){if(this.Nl.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");gl(this)}},t}();function yd(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"Nl")}function pd(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var _d=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),kd(this);var i=n.size,e=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),fd(this,t,e=Zf(e))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var s=Kf(i);void 0===e&&(e=1),function(t,n,i,e){var r=w.create(Bv.prototype),s=Gf(n,"pull",0,[r]),u=Gf(n,"cancel",1,[]);Vv(t,r,function(){return $f(n,"start",[r])},s,u,i,e)}(this,t,e=Zf(e),s)}}return w.defineProperty(t.prototype,"locked",{get:function(){if(!1===Ad(this))throw Rd("locked");return Td(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Ad(this)?sl(Rd("cancel")):!0===Td(this)?sl(new v("Cannot cancel a stream that already has a reader")):Sd(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Ad(this))throw Rd("getReader");if(void 0===n)return Tl(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new md(t);return i.Ev=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,e=t.readable,r=void 0===n?{}:n,s=r.preventClose,u=r.preventAbort,o=r.preventCancel,a=r.signal;if(!1===Ad(this))throw Rd("pipeThrough");if(!1===ql(i))throw new v("writable argument to pipeThrough must be a WritableStream");if(!1===Ad(e))throw new v("readable argument to pipeThrough must be a ReadableStream");if(s=Boolean(s),u=Boolean(u),o=Boolean(o),void 0!==a&&!Cv(a))throw new v("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Td(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Gl(i))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return fl(xv(this,i,s,u,o,a)),e},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,e=i.preventClose,r=i.preventAbort,s=i.preventCancel,u=i.signal;return!1===Ad(this)?sl(Rd("pipeTo")):!1===ql(t)?sl(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),r=Boolean(r),s=Boolean(s),void 0===u||Cv(u)?!0===Td(this)?sl(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Gl(t)?sl(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):xv(this,t,e,r,s,u):sl(new v("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Ad(this))throw Rd("tee");var t=function(t,n){var i,e,r,s,u,o=Tl(t),a=!1,h=!1,c=!1,f=el(function(t){u=t});function l(){return!0===a?rl(void 0):(a=!0,fl(cl(xl(o),function(t){if(a=!1,!0===t.done)return!1===h&&Fv(r.Ov),void(!1===c&&Fv(s.Ov));var n=t.value,i=n,e=n;!1===h&&Uv(r.Ov,i),!1===c&&Uv(s.Ov,e)})),rl(void 0))}function v(){}return r=bd(v,l,function(n){if(h=!0,i=n,!0===c){var r=Vf([i,e]),s=Sd(t,r);u(s)}return f}),s=bd(v,l,function(n){if(c=!0,e=n,!0===h){var r=Vf([i,e]),s=Sd(t,r);u(s)}return f}),hl(o.Fh,function(t){Hv(r.Ov,t),Hv(s.Ov,t)}),[r,s]}(this);return Vf(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Ad(this))throw Rd("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Tl(t),e=w.create(Ol);return e.xv=i,e.Lv=Boolean(n),e}(this,i)},t}();function bd(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=w.create(_d.prototype);return kd(s),Vv(s,w.create(Bv.prototype),t,n,i,e,r),s}function kd(t){t.ye="readable",t.Rv=void 0,t.Dv=void 0,t.Bv=!1}function Ad(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"Ov")}function Td(t){return void 0!==t.Rv}function Sd(t,n){return t.Bv=!0,"closed"===t.ye?rl(void 0):"errored"===t.ye?sl(t.Dv):(Ed(t),cl(t.Ov[kl](n),Uf))}function Ed(t){t.ye="closed";var n=t.Rv;void 0!==n&&(Pl(n)&&(n.Pv.forEach(function(t){t.Yu(vl(void 0,!0,n.Ev))}),n.Pv=new ll),bl(n))}function Id(t,n){t.ye="errored",t.Dv=n;var i=t.Rv;void 0!==i&&(Pl(i)?(i.Pv.forEach(function(t){t.ju(n)}),i.Pv=new ll):(i.Nl.forEach(function(t){t.ju(n)}),i.Nl=new ll),_l(i,n))}function Rd(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof Ff.asyncIterator&&w.defineProperty(_d.prototype,Ff.asyncIterator,{value:_d.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Cd=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Dd=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var e=n.size,r=n.highWaterMark,s=i.size,u=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=Kf(e);if(void 0===r&&(r=1),r=Zf(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,h=Kf(s);void 0===u&&(u=0),u=Zf(u),function(t,n,i,e,r,s){function u(){return n}t.Cl=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=w.create(zl.prototype);return Wl(u),cv(u,w.create(hv.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.Pl;if(!0===t.Gv){var e=t.Bl;return cl(e,function(){var e=t.Cl,r=e.ye;if("erroring"===r)throw e.Dv;return Fd(i,n)})}return Fd(i,n)}(t,n)},function(){return function(t){var n=t.Ol,i=t.Pl,e=i.xl();return Md(i),cl(e,function(){if("errored"===n.ye)throw n.Dv;var t=n.Ov;!0===zv(t)&&Fv(t)},function(i){throw Pd(t,i),n.Dv})}(t)},function(n){return function(t,n){return Pd(t,n),rl(void 0)}(t,n)},i,e),t.Ol=bd(u,function(){return function(t){return Bd(t,!1),t.Bl}(t)},function(n){return xd(t,n),rl(void 0)},r,s),t.Gv=void 0,t.Bl=void 0,t.Ll=void 0,Bd(t,!0),t.Pl=void 0}(this,el(function(t){a=t}),r,o,u,h),function(t,n){var i=w.create(Od.prototype),e=function(t){try{return jd(i,t),rl(void 0)}catch(t){return sl(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new v("transform is not a method");e=function(t){return Yf(r,n,[t,i])}}var s=Gf(n,"flush",0,[i]);!function(t,n,i,e){n.Ml=t,t.Pl=n,n.Ul=i,n.xl=e}(t,i,e,s)}(this,t);var c=$f(t,"start",[this.Pl]);a(c)}return w.defineProperty(t.prototype,"readable",{get:function(){if(!1===Nd(this))throw Hd("readable");return this.Ol},enumerable:!0,configurable:!0}),w.defineProperty(t.prototype,"writable",{get:function(){if(!1===Nd(this))throw Hd("writable");return this.Cl},enumerable:!0,configurable:!0}),t}();function Nd(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"Pl")}function Pd(t,n){Hv(t.Ol.Ov,n),xd(t,n)}function xd(t,n){Md(t.Pl),dv(t.Cl.Xv,n),!0===t.Gv&&Bd(t,!1)}function Bd(t,n){void 0!==t.Bl&&t.Ll(),t.Bl=el(function(n){t.Ll=n}),t.Gv=n}var Od=function(){function t(){throw new v("TransformStreamDefaultController instances cannot be created directly")}return w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ld(this))throw Ud("desiredSize");return Xv(this.Ml.Ol.Ov)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Ld(this))throw Ud("enqueue");jd(this,t)},t.prototype.error=function(t){if(!1===Ld(this))throw Ud("error");var n;n=t,Pd(this.Ml,n)},t.prototype.terminate=function(){if(!1===Ld(this))throw Ud("terminate");!function(t){var n=t.Ml,i=n.Ol.Ov;!0===zv(i)&&Fv(i);var e=new v("TransformStream terminated");xd(n,e)}(this)},t}();function Ld(t){return!!zf(t)&&!!w.prototype.hasOwnProperty.call(t,"Ml")}function Md(t){t.Ul=void 0,t.xl=void 0}function jd(t,n){var i=t.Ml,e=i.Ol.Ov;if(!1===zv(e))throw new v("Readable side is not in a state that permits enqueue");try{Uv(e,n)}catch(t){throw xd(i,t),i.Ol.Dv}(function(t){return!0!==Mv(t)})(e)!==i.Gv&&Bd(i,!0)}function Fd(t,n){return cl(t.Ul(n),void 0,function(n){throw Pd(t.Ml,n),n})}function Ud(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Hd(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}var Xd,zd=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return E(n,t),T(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(nn);function Vd(t){return n=[t],new _d({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function Wd(t){return Vd(new _(t))}function qd(t,n){return function(t,n){var i=n,e=t.getReader(),r=new ta,s=function(){u();var t=new au;e.cancel(t).catch(K),r.Zu(t)},u=function(){i&&(i.Fs(s),i=void 0)};i&&(i.Os?s():i.Hs(s));var o=[];return qe.resolve(e.read()).then(function t(n){return n.done?(u(),qe.resolve(o)):(o.push(n.value),qe.resolve(e.read()).then(t))}).then(function(t){u(),r.Qu(t)},function(t){u(),r.Zu(t)}),r.Gu}(t,n).then(function(t){return $u(t).buffer})}function Gd(t,n){var i=n,e=new Dd,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Gs()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(K)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(K)}),r}function $d(t){var n=new Dd,i=n.readable,e=n.writable;return t.pipeTo(e,{preventCancel:!0}).catch(function(n){var i;i=z(n)?n[0]===n[1]||hu(n[0])&&hu(n[1])?n[0]:new zd(n):n,t.cancel(i).catch(K)}),i.tee()}function Yd(t){return Uo(new _(t))}function Qd(t){return Ho(t).buffer}!function(t){t[t.wv=0]="wv",t[t.Xl=1]="Xl"}(Xd||(Xd={}));var Zd="content-type",Kd="text/plain;charset=UTF-8",Jd=function(){function t(){}var n=t.prototype;return n.Hl=function(t){return this.Fl(t).then(JSON.parse)},n.zl=function(t,n){switch(t){case Of.fv:return this.Vl(n);case Of.vv:return this.Hl(n);case Of.wv:return this.Wl();case Of.ni:return this.Fl(n);default:throw new v}},t}();function tw(t,n,i){if(t instanceof Jd)return t;if(t instanceof _d)return function(t,n){return new iw({_s:Xd.wv,Wl:t,Gl:nw(n)})}(t,i);var e=nw(i),r=qe.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{_s:Of.ni,ql:t,Gl:n||Kd};if(t instanceof ArrayBuffer||Wu(t))return{_s:Of.fv,ql:hw(t),Gl:n};if(q(t)||z(t))return{_s:Of.vv,ql:t,Gl:n};throw new v("Unsupported BodyInit type")}return{_s:Of.ni,ql:null,Gl:n}}(t,e)});return new iw({_s:Xd.Xl,Gu:r,Yl:n})}function nw(t){return(t.get(Zd)||"").toLowerCase()}var iw=function(t){function n(n){var i;return(i=t.call(this)||this).jl=!1,i.Ql=void 0,i.Zl=new ta,i.Zl.Gu.catch(K),i.Kl(n),i}E(n,t);var i=n.prototype;return i.Jl=function(){return this.Zl.Gu},i.Fl=function(t){return this.$l(ew,t)},i.Hl=function(t){return this.$l(sw,t)},i.Vl=function(t){return this.$l(ow,t)},i.Wl=function(){return this.td((t=this.Ql)._s===Xd.wv?t.Wl:Gd(t.Gu.then(aw).then(Wd),t.Yl));var t},i.$l=function(t,n){if(this.jl)return qe.reject(new v("Already used"));this.jl=!0;var i=t(this.Ql,n);return this.Zl.qs(i.then(K)),i},i.td=function(t){if(this.jl)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.jl=!0;var n=new Dd,i=qe.resolve(t.pipeTo(n.writable));return this.Zl.qs(i),n.readable},i.Kl=function(t){this.Ql=t,t._s===Xd.Xl&&t.Gu.catch(K)},i.ed=function(){if(this.jl)throw new v("Already used");var t=function(t){if(t._s===Xd.wv){var n=t.Wl.tee(),i=n[0],e=n[1];return[{_s:t._s,Wl:i,Gl:t.Gl},{_s:t._s,Wl:e,Gl:t.Gl}]}var r=t.Yl.Ys(),s=r[0],u=r[1];return[{_s:t._s,Gu:t.Gu,Yl:s},{_s:t._s,Gu:t.Gu,Yl:u}]}(this.Ql),i=t[0],e=t[1];return this.Kl(i),new n(e)},T(n,[{key:"rd",get:function(){return this.jl}}]),n}(Jd);function ew(t,n){return t._s===Xd.wv?qd(t.Wl,n).then(Yd):(n&&t.Yl.qs(n),du(t.Gu.then(rw),t.Yl))}function rw(t){switch(t._s){case Of.ni:return qe.resolve(t.ql||"");case Of.fv:return qe.resolve(t.ql).then(Yd);case Of.vv:return qe.resolve(t.ql).then(JSON.stringify)}}function sw(t,n){return t._s===Xd.wv?ew(t,n).then(JSON.parse):(n&&t.Yl.qs(n),du(t.Gu.then(uw),t.Yl))}function uw(t){return t._s===Of.vv?qe.resolve(t.ql):rw(t).then(JSON.parse)}function ow(t,n){return t._s===Xd.wv?qd(t.Wl,n):(n&&t.Yl.qs(n),du(t.Gu.then(aw),t.Yl))}function aw(t){switch(t._s){case Of.fv:return qe.resolve(t.ql);case Of.ni:case Of.vv:return rw(t).then(Qd)}}function hw(t){return t instanceof ArrayBuffer?t:Qo(qo(t)).buffer}function cw(t){return t.ud>=200&&t.ud<=299||304===t.ud}var fw,lw,vw,dw,ww=function(t){function n(n,i){var e,r,s,u,o,a;i?(r=i.od,s=i.hd,u=i.ud,o=i.fd,a=i.vd):(r=[],s=Of.ni,u=200,o="OK",a=!1);var h=n.ld,c=new Lf(n.od||r),f=n.hd||s,l=n.dd||(i&&i.ld===h?i.dd:h.wd),v=i?i._d:null,d=tw(void 0!==n.zi?n.zi:v,n.Yl||new ou,c);return(e=t.call(this,d)||this).od=void 0,e.ld=void 0,e.dd=void 0,e.hd=void 0,e.ud=void 0,e.fd=void 0,e.vd=void 0,e.od=c,e.ld=h,e.dd=l,e.hd=f,e.ud=void 0!==n.ud?n.ud:u,e.fd=void 0!==n.fd?String(n.fd):o,e.vd=n.vd||a,e}E(n,t);var i=n.prototype;return i.zi=function(t){return this.zl(this.hd,t)},i.Hu=function(){return new n({zi:this.ed(),ld:this.ld},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this)._d=void 0,i._d=n,i}E(n,t);var i=n.prototype;return i.Jl=function(){return this._d.Jl()},i.Fl=function(t){return this._d.Fl(t)},i.Hl=function(t){return this._d.Hl(t)},i.Vl=function(t){return this._d.Vl(t)},i.Wl=function(){return this._d.Wl()},i.ed=function(){return this._d.ed()},T(n,[{key:"rd",get:function(){return this._d.rd}}]),n}(Jd));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(fw||(fw={})),function(t){t.md="",t.yd="manifest",t.kd="segment",t.pd="preload-hint",t.bd="content-protection"}(lw||(lw={})),function(t){t.md="",t.Ad="initialization-segment",t.Td="fairplay-license",t.Sd="fairplay-certificate",t.Ed="widevine-license",t.Id="widevine-certificate",t.Rd="playready-license",t.Dd="clearkey-license",t.Nd="aes128-key"}(vw||(vw={})),function(t){t.md="",t.Cd="audio",t.Pd="video",t.ni="text",t.Bd="image"}(dw||(dw={}));var gw=function(t,n){this.ql=void 0,this.od=void 0,this.Od=void 0,this.hd=void 0,this.xd=void 0,this.js=void 0,this._s=void 0,this.Ld=void 0,this.Md=void 0,this.wd=void 0,this.Ud=void 0,this.Xd=void 0;var i,e,r,s,u,o,a,h,c,f,l,v=t.wd;n?(i=n.ql,e=n.od,r=n.Od,s=n.hd,u=n.xd,o=n.js,a=n._s,h=n.Ld,c=n.Md,f=n.Ud,l=n.Xd):(i=null,e={},r=fw.GET,s=Of.ni,u=0,a=lw.md,h=vw.md,c=dw.md,f=!1),this.wd=v,this.ql=t.ql||i,this.od=new Lf(t.od||e),this.Od=t.Od||r,this.hd=t.hd||s,this.xd=void 0!==t.xd?Number(t.xd)||0:u,this.js=t.js||o||(new ou).js,this._s=t._s||a,this.Ld=t.Ld||h,this.Md=t.Md||c,this.Ud=void 0!==t.Ud?Boolean(t.Ud):f,this.Xd=t.Xd||l},mw=function(){function t(){}var n=t.prototype;return n.ld=function(t){var n=function(t){return new ww({zi:null,od:{},ld:t,dd:t.wd,hd:t.hd,ud:0,fd:Bf.Xf})}(new gw(t));return qe.resolve(n)},n.Hd=function(t){},n.$c=function(){},t}();var yw=function(){function t(t,n){void 0===n&&(n=!0),this.Fd=void 0,this.zd=void 0,this.Fd=t,this.zd=n}var n=t.prototype;return n.ld=function(t){var n=this.Vd(t);return this.Fd.ld(n)},n.Hd=function(t){return this.Fd.Hd(this.Wd(t))},n.Vd=function(n){var i=new gw(n);if(!this.zd){var e=t.Gd(i.wd);i=new gw({wd:e},i)}return i},n.Wd=function(n){var i=n.wd;return this.zd||(i=t.Gd(i)),{wd:i,ql:n.ql}},t.Gd=function(t){return i.Wr&&As(t,"http://")?t.replace(":","s:"):t},n.$c=function(){this.Fd.$c()},T(t,null,[{key:"qd",get:function(){return t.Yd||(t.Yd=new t(new mw)),t.Yd}}]),t}();function pw(t,n){for(var i=0,e=w.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function _w(t,n){var e=i.Ur(t);return n&&!Ts(e,"/")&&(e+="/"),e}yw.Yd=void 0;var bw,kw=/cache:(.+)?(?=&|$)/,Aw="http://webcache.googleusercontent.com/search?q=cache:";function Tw(t){if(!As(t,Aw))return"";var n=i.Mr(t).search.match(kw);return n&&n.length>1?n[1]:""}!function(t){t.jd="HttpOpenError",t.Qd="HttpResponseError",t.Zd="HttpTimeoutError"}(bw||(bw={}));var Sw=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Kd=void 0,r.Kd=n,r}return E(n,t),T(n,[{key:"ld",get:function(){return this.Kd}}]),n}(nn);var Ew=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.wd+". Invalid URL.",i)||this}return E(n,t),T(n,[{key:"name",get:function(){return bw.jd}}]),n}(Sw);var Iw=function(t){function n(n,i,e){var r;return(r=t.call(this,n.ld,null!=e?e:function(t){return"Error while loading "+t.ld.wd+", status code "+t.ud}(n),i)||this).Jd=void 0,r.Jd=n,r}return E(n,t),T(n,[{key:"name",get:function(){return bw.Qd}},{key:"$d",get:function(){return this.Jd}}]),n}(Sw);var Rw=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.wd+" timed out after "+t.xd+" seconds."}(n),i)||this}return E(n,t),T(n,[{key:"name",get:function(){return bw.Zd}}]),n}(Sw),Cw=function(t,n){return(Cw=w.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Dw(t,n){function i(){this.constructor=t}Cw(t,n),t.prototype=null===n?w.create(n):(i.prototype=n.prototype,new i)}var Nw="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var Pw=function(){var t=Nw.Blob;if(t)try{return new t,function(t,n){return new Nw.Blob(t,n)}}catch(t){}var n,i=Nw.BlobBuilder||Nw.WebKitBlobBuilder||Nw.MozBlobBuilder||Nw.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),xw="function"==typeof _d?_d:void 0;function Bw(t){return t&&"function"==typeof t.getReader}function Ow(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Bw(i)}catch(t){return!1}}var Lw=function(){function t(t,n){this.Rv=t,this.nw=n}return t.prototype.pull=function(t){var n=this;return this.Rv.read().then(function(i){n.nw&&n.nw(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Rv.cancel(t)},t}();function Mw(t,n){return n.constructor===t?n:new t(new Lw(n.getReader()),{highWaterMark:0})}var jw=function(){function t(t,n){this.iw=t,this.ew=n}return t.prototype.pull=function(t){return this.iw().then(function(n){t.enqueue(new _(n)),t.close()})},t.prototype.cancel=function(t){this.ew&&this.ew(t)},t}();function Fw(t,n,i){return new t(new jw(n,i),{highWaterMark:0})}var Uw={searchParams:"URLSearchParams"in Nw,iterable:"Symbol"in Nw&&"iterator"in Symbol,blob:"FileReader"in Nw&&!!Pw,formData:"FormData"in Nw,arrayBuffer:"ArrayBuffer"in Nw,stream:Ow(xw),streamRequest:"Request"in Nw&&"body"in Nw.Request.prototype,streamResponse:"Response"in Nw&&"body"in Nw.Response.prototype,abort:"AbortController"in Nw&&"Request"in Nw&&"signal"in Nw.Request.prototype,encoding:"TextEncoder"in Nw&&"TextDecoder"in Nw,url:"URL"in Nw&&function(t){try{return new Nw.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Nw&&/Firefox\//.test(Nw.navigator.userAgent)};function Hw(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function Xw(t){return"string"!=typeof t&&(t=String(t)),t}function zw(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Uw.iterable&&(n[Symbol.iterator]=function(){return n}),n}var Vw=function(){function t(t){var n=this;this.us={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return Uw.iterable&&t&&t[Symbol.iterator]}(t)?t&&w.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=Hw(t),n=Xw(n);var i=t.toLowerCase();if(this.us.hasOwnProperty(i)){var e=this.us[i],r=e[1];e[1]=r?r+", "+n:n}else this.us[i]=[t,n]},t.prototype.delete=function(t){var n=Hw(t).toLowerCase();delete this.us[n]},t.prototype.get=function(t){var n=Hw(t).toLowerCase();return this.us.hasOwnProperty(n)?this.us[n][1]:null},t.prototype.has=function(t){var n=Hw(t).toLowerCase();return this.us.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=Hw(t)).toLowerCase();this.us[i]=[t,Xw(n)]},t.prototype.forEach=function(t,n){for(var i in this.us)this.us.hasOwnProperty(i)&&t.call(n,this.us[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),zw(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),zw(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),zw(t)},t.prototype.asList=function(){var t=[];for(var n in this.us)if(this.us.hasOwnProperty(n)){var i=this.us[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function Ww(){}Uw.iterable&&(Vw.prototype[Symbol.iterator]=Vw.prototype.entries);var qw,Gw,$w,Yw=g.min,Qw=String.fromCharCode,Zw=16384;function Kw(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=Zw){var r=Yw(e+Zw,n);i.push(Qw.apply(null,t.slice(e,r)))}return i.join("")}(n)}function Jw(t){if(t>=55296&&t<=57343)throw new l("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function tg(t,n){return t>>n&63|128}function ng(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Jw(t),n.push(t>>12&15|224),n.push(tg(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(tg(t,12)),n.push(tg(t,6))),n.push(63&t|128)):n.push(t)}function ig(){if($w>=Gw)throw new l("Invalid byte index");var t=255&qw[$w];if($w++,128==(192&t))return 63&t;throw new l("Invalid continuation byte")}function eg(){var t,n;if($w>Gw)throw new l("Invalid byte index");if($w===Gw)return!1;if(t=255&qw[$w],$w++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ig())>=128)return n;throw new l("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ig()<<6|ig())>=2048)return Jw(n),n;throw new l("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ig()<<12|ig()<<6|ig())>=65536&&n<=1114111)return n;throw new l("Invalid UTF-8 detected")}var rg=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function sg(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function ug(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function og(t){return t&&DataView.prototype.isPrototypeOf(t)}var ag,hg=ArrayBuffer.isView||function(t){return t&&(rg.indexOf(w.prototype.toString.call(t))>-1||og(t))};function cg(t){if(t.bodyUsed)return qe.reject(new v("Already used"));t.bodyUsed=!0}function fg(t){return new qe(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function lg(t){return Uw.encoding?new Nw.TextDecoder("utf-8").decode(new _(t)):Kw(function(t){Gw=(qw=t).length,$w=0;for(var n,i=[];!1!==(n=eg());)i.push(n);return i}(new _(t)))}function vg(t){return Uw.encoding?(new Nw.TextEncoder).encode(t).buffer:new _(function(t){for(var n=[],i=0,e=t;i<e.length;i++)ng(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function dg(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?qe.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function wg(t){return dg(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(a=e[i]).byteLength;for(var r=new _(n),s=0,u=0,o=t;u<o.length;u++){var a=o[u];r.set(a,s),s+=a.byteLength}return r}(t).buffer})}function gg(t){return t.slice?t.slice(0):mg(new _(t))}function mg(t){if(t.slice)return t.slice(0).buffer;var n=new _(t.byteLength);return n.set(new _(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function yg(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function pg(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.uw===ag.ow){if(!n.aw.tee)throw new l("could not clone ReadableStream body");var i=n.aw.tee(),e=i[0],r=i[1];return n.body=e,n.aw=e,n.hw=e,r}return n.uw===ag.fv?gg(n.aw):n.uw===ag.Xl?n.aw.then(pg):n.hw}!function(t){t[t.ni=0]="ni",t[t.cw=1]="cw",t[t.fw=2]="fw",t[t.fv=3]="fv",t[t.ow=4]="ow",t[t.Xl=5]="Xl"}(ag||(ag={}));var _g=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.hw=n||null,n)if("string"==typeof n)this.uw=ag.ni,this.aw=n;else if((s=n)&&"function"==typeof s.then)this.uw=ag.Xl,this.aw=qe.resolve(n).then(function(n){return new t(n,i)}),this.aw.catch(Ww);else if(Uw.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.uw=ag.cw,this.aw=n;else if(Uw.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.uw=ag.fw,this.aw=n;else if(Uw.searchParams&&sg(n))this.uw=ag.ni,this.aw=n.toString();else if(Uw.arrayBuffer&&(ug(n)||hg(n)))og(n)&&(this.hw=new _((r=n).buffer,r.byteOffset,r.byteLength)),this.uw=ag.fv,this.aw=ug(e=n)?gg(e):mg(e);else{if(!Uw.stream||!Bw(n))throw new l("unsupported BodyInit type");n=Mw(xw,n),this.uw=ag.ow,this.aw=n,this.hw=n}else this.uw=ag.ni,this.aw="";this.vw="",i.has("content-type")?this.vw=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.vw="text/plain;charset=UTF-8":u.uw===ag.cw&&u.aw.type?this.vw=u.aw.type:Uw.searchParams&&sg(n)&&(this.vw="application/x-www-form-urlencoded;charset=UTF-8"),this.vw&&i.set("content-type",this.vw)),Uw.stream&&(null==n?this.body=null:u.uw===ag.ow?this.body=u.aw:this.body=Fw(xw,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=cg(this);return e||(this.uw===ag.cw?(t=this.aw,n=new FileReader,i=fg(n),n.readAsText(t),i):this.uw===ag.fv?qe.resolve(this.aw).then(lg):this.uw===ag.ow?wg(this.aw).then(lg):this.uw===ag.Xl?this.aw.then(function(t){return t.text()}):this.uw===ag.fw?qe.reject(new l("could not read FormData body as text")):qe.resolve(this.aw))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Uw.blob&&(_g.prototype.blob=function(){var t,n,i=cg(this);return i||(this.uw===ag.cw?qe.resolve(this.aw):this.uw===ag.fv?qe.resolve(Pw([this.aw],{type:this.vw})):this.uw===ag.ow?(t=this.aw,n=this.vw,dg(t).then(function(t){return Pw(t,{type:n||""})})):this.uw===ag.Xl?this.aw.then(function(t){return t.blob()}):this.uw===ag.fw?qe.reject(new l("could not read FormData body as Blob")):qe.resolve(Pw([this.aw],{type:this.vw})))}),Uw.arrayBuffer&&(_g.prototype.arrayBuffer=function(){var t,n,i;return this.uw===ag.fv?cg(this)||qe.resolve(this.aw):this.uw===ag.cw?cg(this)||(t=this.aw,n=new FileReader,i=fg(n),n.readAsArrayBuffer(t),i):this.uw===ag.ow?wg(this.aw):this.uw===ag.Xl?cg(this)||this.aw.then(function(t){return t.arrayBuffer()}):this.uw===ag.fw?qe.reject(new l("could not read FormData body as ArrayBuffer")):qe.resolve(this.aw).then(vg)}),Uw.formData&&(_g.prototype.formData=function(){return this.uw===ag.fw?cg(this)||qe.resolve(this.aw):this.text().then(yg)});var bg=[301,302,303,307,308],kg=function(t){function n(n,i){var e=this,r=new Vw((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return Dw(n,t),n.prototype.clone=function(){return new n(pg(this),{status:this.status,statusText:this.statusText,headers:new Vw(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===bg.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(_g);var Ag,Tg=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),w.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=w.setPrototypeOf?w.getPrototypeOf:function(t){return t.__proto__||w.getPrototypeOf(t)})(t)}function o(t,n){return(o=w.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!w.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=w.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}w.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),w.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){a(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?h(e):r).listeners||f.call(h(t)),w.defineProperty(h(t),"aborted",{value:!1,writable:!0,configurable:!0}),w.defineProperty(h(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=w.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),d=function(){function t(){i(this,t),w.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=d,n.default=d});(Ag=Tg)&&Ag.__esModule&&w.prototype.hasOwnProperty.call(Ag,"default")&&Ag.default,Tg.AbortSignal;var Sg=Tg.AbortController,Eg=Nw.DOMException;try{new Eg}catch(t){(Eg=function(t,n){l.call(this,t),this.name=n||"Error",l.captureStackTrace&&l.captureStackTrace(this,this.constructor)}).prototype=w.create(l.prototype),Eg.prototype.constructor=Eg}var Ig=Sg;function Rg(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Cg(t,n,i){return new qe(function(e,r){if(n.signal.aborted)return t.catch(Ww),r(Dg());var s=function(){n.signal.removeEventListener("abort",s),r(Dg())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function Dg(){return new Eg("Aborted","AbortError")}var Ng,Pg="moz-chunked-arraybuffer";function xg(t){try{var n=new k;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Ng||(Ng={}));var Bg=function(){function t(t,n){var i=this;this.lw=!1,this.Kd=t,this.dw=n,this.ww=new k,this._w=new qe(function(t,n){i.gw=t,i.mw=n})}return t.prototype.send=function(){var t=this;return this.yw().then(function(n){return t.pw(n,t.dw),t._w})},t.prototype.yw=function(){var t=this.Kd;return t.uw===ag.ow?t.arrayBuffer():qe.resolve(t.hw)},t.prototype.bw=function(t){this.Kd.onprogress&&this.Kd.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Aw=function(t){this.mw(t)},t.prototype.Tw=function(){this.Aw(new v("Network request failed"))},t.prototype.Sw=function(){this.Aw(new v("Network request failed"))},t.prototype.Ew=function(){this.Aw(Dg())},t.prototype.pw=function(t,n){var i=this,e=this.Kd,r=this.ww,s=function(){return i.Iw()};if(e.signal.aborted)return this.Ew();r.onreadystatechange=function(){if(r.readyState>=Ng.HEADERS_RECEIVED&&!i.lw){var t=function(t){var n=new Vw;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.lw=!0,i.Rw(n)}},r.onprogress=function(t){return i.bw(t)},r.onload=function(){return i.Dw()},r.onerror=function(){return i.Tw()},r.ontimeout=function(){return i.Sw()},r.onabort=function(){return i.Ew()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.Iw=function(){this.Ew(),this.ww.abort()},t}(),Og=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Nw=void 0,e.Cw=void 0,e}return Dw(n,t),n.prototype.Rw=function(t){var n=this;this.Nw=new qe(function(t,i){n.Cw=t,n.Pw=i}),this.gw(new kg(this.Nw,t))},n.prototype.Dw=function(){var t=this.ww.response;if(null==t){var n=this.dw;""===n||"text"===n?t=this.ww.responseText:"document"===n?t=this.ww.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=Pw([]))}this.Cw(t)},n.prototype.Aw=function(n){t.prototype.Aw.call(this,n),this.Pw&&this.Pw(n)},n}(Bg),Lg=function(t){function n(n){var i=t.call(this,n,Pg)||this;return i.Bw=void 0,i.Ow=void 0,i.xw=!1,i}return Dw(n,t),n.prototype.Rw=function(t){var n=this;this.Bw=new xw({start:function(t){n.Ow=t},cancel:function(){n.xw=!0,n.Iw()}}),this.gw(new kg(this.Bw,t))},n.prototype.bw=function(n){this.xw||this.Ow.enqueue(new _(this.ww.response)),t.prototype.bw.call(this,n)},n.prototype.Dw=function(){this.Ow.close()},n.prototype.Aw=function(n){t.prototype.Aw.call(this,n),this.Ow&&!this.xw&&(this.xw=!0,this.Ow.error(n))},n}(Bg),Mg=function(){var t=Uw.firefox&&xg(Pg);return Mg=function(){return t},t},jg=function(){var t;return t=Uw.arrayBuffer&&xg("arraybuffer")?"arraybuffer":Uw.blob&&xg("blob")?"blob":"",jg=function(){return t},t};function Fg(t){return(Uw.stream&&Mg()?new Lg(t):new Og(t,jg())).send()}var Ug=Nw.fetch,Hg=Nw.Request;Nw.Response;var Xg=Nw.AbortController;var zg=["http:","https:"];var Vg=function(){try{if(Uw.streamRequest){var t=new Hg("about:blank",{body:"",method:"POST"}).body;if(t&&Ow(t.constructor))return t.constructor}}catch(t){}}();function Wg(t,n,i){var e;if(Uw.stream){var r=void 0;if(Uw.streamResponse){var s=t.body;r=s&&Mw(xw,s)}else r=Fw(xw,function(){return Cg(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new Lw(n.getReader(),i),{highWaterMark:0})}(xw,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,qg(t.headers))),e=r}else{var u=Cg(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return qe.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,qg(t.headers))),e=u}return new kg(e,t)}function qg(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function Gg(t){var n=new Ig;return t.signal&&Rg(n,t.signal),function(t,n){var i,e,r=t;if(i=r.uw===ag.ow?Uw.streamRequest&&Vg?qe.resolve(Mw(Vg,r.aw)):Cg(t.arrayBuffer(),n,!1):Cg(qe.resolve(t.hw),n,!1),Uw.abort){var s=new Xg;Rg(s,n.signal),e=s.signal}return i.then(function(n){return new Hg(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof Vw?i:new Vw(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return Ug(i).then(function(i){return Wg(i,n,t.onprogress)})})}var $g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Yg=function(t){function n(i,e){var r,s,u,o,a,h,c,f,l,d=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new v("Already used");r=i.url,s=i.credentials,e.headers||(u=new Vw(i.headers)),o=i.method,a=i.mode,h=i.referrer,c=i.referrerPolicy,f=i.signal,l=i.onprogress,w||null==i.hw||(w=i.hw,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",a="cors",h="about:client",c="",f=null,l=null;if(!e.headers&&u||(u=new Vw(e.headers)),e&&(h="about:client",c=""),(d=t.call(this,w,u)||this).url=r,d.headers=u,d.credentials=e.credentials||s,d.method=function(t){var n=t.toUpperCase();return $g.indexOf(n)>-1?n:t}(e.method||o),d.mode=e.mode||a,d.signal=e.signal||f||(new Ig).signal,d.referrer=void 0!==e.referrer?e.referrer:h,d.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:c,d.onprogress=e.onprogress||l,("GET"===d.method||"HEAD"===d.method)&&w)throw new v("Body not allowed for GET or HEAD requests");return d}return Dw(n,t),n.prototype.clone=function(){return new n(this,{body:pg(this)})},n}(_g),Qg="function"==typeof Ug&&Uw.stream&&Uw.streamResponse&&Uw.url;function Zg(t,n){return new qe(function(i){var e=new Yg(t,n);i((Qg&&function(t){try{return zg.indexOf(new Nw.URL(t,Nw.location.href).protocol)>=0}catch(t){return!1}}(e.url)?Gg:Fg)(e))})}Zg.polyfill=!0;var Kg=function(){function t(t){this.$d=void 0,this.Kd=void 0,this.Yc=new ou,this.Jd=void 0,this.Lw=!1,this.Kd=t,this.Yc.qs(t.js),this.$d=this.Mw()}var n=t.prototype;return n.Mw=function(){var t,n,e,r,s,u,o,h,c=this;return Fr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.Kd).xd&&a(function(){c.Lw=!0,c.Yc.Gs()},t.xd),f.prev=2,n=Zg(t.wd,{method:t.Od,headers:t.od._v(),body:t.ql,credentials:t.Ud?"include":"same-origin",signal:nm(this.Yc.js),onprogress:t.Xd}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new Ew(t,f.t0);case 9:return f.prev=9,f.next=12,Fr.awrap(n);case 12:e=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),hu(r=this.Uw(f.t1))&&this.Yc.Gs(),r;case 20:if(s=e.url||t.wd,u=0===e.status&&"file:"===(l=s,i.Mr(l).protocol)?200:e.status,o=new Jg(this,e,this.Yc),h=new ww({zi:o,ld:t,hd:t.hd,od:new Lf(e.headers.asList()),ud:u,fd:e.statusText,dd:s}),this.Jd=h,!cw(h)){f.next=29;break}return f.abrupt("return",h);case 29:throw new Iw(h);case 30:case"end":return f.stop()}var l},null,this,[[2,6],[9,15]],qe)},n.Uw=function(t){return hu(t)?this.Lw?new Rw(this.Kd):new au(t.message,t):this.Jd?new Iw(this.Jd,t):new Ew(this.Kd,t)},t}(),Jg=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Xw=void 0,r.Hw=void 0,r.Yc=void 0,r.Zl=new ta,r.Xw=n,r.Hw=i,r.Yc=e,r.Zl.Gu.catch(K),r}E(n,t);var i=n.prototype;return i.Jl=function(){return this.Zl.Gu},i.Fl=function(t){return this.$l(this.Hw.text(),t)},i.Vl=function(t){return this.$l(this.Hw.arrayBuffer(),t)},i.Wl=function(){var t=this.Hw.body;return t?this.td(t):Gd(this.Vl().then(Wd),this.Yc)},i.ed=function(){var t=this.Hw.clone(),i=this.Yc.Ys(),e=i[0],r=i[1];return this.Yc=e,new n(this.Xw,t,r)},i.$l=function(t,n){var i=this;n&&this.Yc.qs(n);var e=qe.resolve(t).catch(function(t){throw i.Xw.Uw(t)});return e=du(e,this.Yc),this.Zl.qs(e.then(K)),e},i.td=function(t){var n=this,i=new Dd,e=qe.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.Xw.Uw(t);throw i.writable.abort(e).catch(K),e});return e=du(e,this.Yc),this.Zl.qs(e.then(K)),i.readable},T(n,[{key:"rd",get:function(){return this.Hw.bodyUsed}}]),n}(Jd),tm="abort";function nm(t){var n=new Ig;if(t.Os)n.abort();else if(!t.xs){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(tm,i),t.Fs(i),t.Vs(e)};n.signal.addEventListener(tm,i),t.Hs(i),t.zs(e)}return n.signal}function im(t,n,i){return new qe(function(e,r){if(i&&i.Os)return r(new au);var s=function(t){o(),e(t)},u=function(){o(),r(new au)},o=function(){t.removeEventListener(n,s),i&&i.Fs(u)};t.addEventListener(n,s),i&&i.Hs(u)})}var em,rm,sm=function(){function t(){}var n=t.prototype;return n.ld=function(t){return new Kg(t).$d},n.Hd=function(t){if(me&&me.sendBeacon)me.sendBeacon(t.wd,Pf([t.ql],{type:t.Gl}));else{var n=t.Gl?{"Content-type":t.Gl}:void 0;yu(this.ld(new gw({Od:fw.POST,wd:t.wd,ql:t.ql,od:n})))}},n.$c=function(){},t}();em=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).Fw=void 0,i.zw=function(){if(j.vn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.Vw=j.Hn||j.vn,i.Ww=(j.Hn||j.vn)&&!(j.Sn&&j.En<3),i.Gw=void 0,i}return E(i,n),T(i,[{key:"Nr",get:function(){return this.Fw||(this.Fw=new Ls(Rf())),this.Fw}},{key:"qw",get:function(){return this.zw}},{key:"Yw",get:function(){return this.Vw}},{key:"jw",get:function(){return this.Ww}},{key:"Qw",get:function(){return!1}},{key:"Zw",get:function(){return Df.bf()}},{key:"Kw",get:function(){return{Jw:xf}}},{key:"$w",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"t_",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"n_",get:function(){return this.Gw||(this.Gw=new yw(new sm)),this.Gw}}]),i}(Br)),i=em,function(t){t.i_="e_",t.r_="s_"}(rm||(rm={})),rm.i_,rm.r_;var um=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).u_=void 0,e}return E(n,t),T(n,[{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}}]),n}(Eu);function om(t){return Boolean(t&&t.o_)}var am,hm=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n}(um),cm=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n}(Eu),fm=function(t){function n(n){var i;return(i=t.call(this,rm.i_)||this).h_=n,i}return E(n,t),n.prototype.a_=function(){return new lm(this.h_.o_)},n}(hm),lm=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return E(n,t),n}(cm),vm=function(t){function n(n){var i;return(i=t.call(this,rm.r_)||this).h_=n,i}return E(n,t),n.prototype.a_=function(){return new dm(this.h_.o_)},n}(hm),dm=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return E(n,t),n}(cm);!function(t){t.c_="f_",t.v_="l_",t.d_="w_",t.__="g_",t.m_="y_",t.k_="p_",t.b_="A_",t.T_="S_",t.E_="tc",t.I_="R_",t.D_="N_",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(am||(am={}));var wm=function(t){function n(){var n;return(n=t.call(this)||this).C_=[],n.u_=void 0,n}E(n,t);var i=n.prototype;return i.P_=function(t){return this.C_[t]},i.B_=function(t){return!(!t||Qs(this.C_,t))&&(this.C_.push(t),this.u_&&this.u_.push(t.o_),t.tu(am.k_,this.Js),this.$s(new fm(t)),!0)},i.O_=function(t){if(!t)return!1;var n=this.C_.indexOf(t);return!(n<0)&&(Ys(this.C_,n),this.u_&&Ys(this.u_,n),t.au(am.k_,this.Js),this.$s(new vm(t)),!0)},i.x_=function(t){return Qs(this.C_,t)},i.wc=function(){for(var t=this.C_,n=t.length-1;n>=0;n-=1)this.O_(t[n])},i.$c=function(){this.wc(),this.ou()},T(n,[{key:"L_",get:function(){return this.C_}},{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}},{key:"M_",get:function(){return this.C_.length}}]),n}(Tu),gm=function(t){function n(n){var i;return(i=t.call(this,am.k_)||this).h_=n,i}return E(n,t),n.prototype.a_=function(){return new mm(this.h_.o_)},n}(hm),mm=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return E(n,t),n}(cm),ym=function(t){function n(){var n;return(n=t.call(this)||this).U_=void 0,n.X_=function(t){var i=t.h_;n.B_(i)},n.H_=function(t){var i=t.h_;n.O_(i)},n}E(n,t);var i=n.prototype;return i.F_=function(t){t.tu(rm.i_,this.X_),t.tu(rm.r_,this.H_)},i.z_=function(t){t.au(rm.i_,this.X_),t.au(rm.r_,this.H_)},i.$c=function(){this.U_&&this.U_.$c(),t.prototype.$c.call(this)},T(n,[{key:"V_",get:function(){return this.U_},set:function(t){var n=this.U_;if(t!==n){if(n){this.z_(n);for(var i=0,e=n.L_;i<e.length;i++){var r=e[i];t&&t.x_(r)||this.O_(r)}}if(this.U_=t,t){for(var s=[],u=0,o=t.L_;u<o.length;u++){var a=o[u];this.B_(a),this.W_(a)&&s.push(a)}this.F_(t);for(var h=0;h<s.length;h++){var c=s[h];c.$s(new gm(c))}}}}}]),n}(wm),pm=w.freeze||J;function _m(t,n,i){w.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function bm(t){return pm(t)}function km(t,n){for(var i=0,e=w.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];w.defineProperty(t,r,w.getOwnPropertyDescriptor(n,r))}return t}function Am(t){if(q(t)){var n={};for(var i in t)F.call(t,i)&&(n[i]=Am(t[i]));return n}if(z(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=Am(t[r]));return e}return t}function Tm(t,n){return t===n||!(!t||!n)&&(!(!W(t)||!W(n))&&(V(t)?!!V(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!Tm(t[r],n[r]))return!1;return!0}(t,n):!V(n)&&function(t,n){var i=w.keys(t),e=w.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!F.call(n,s)||!Tm(t[s],n[s]))return!1}return!0}(t,n)))}function Sm(t,n){return t.constructor===n.constructor}function Em(t){for(var n={},i=0,e=w.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function Im(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Rm(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Cm(t){var n=Rm(t);if(p(n))throw new l("Expected a valid number.");return n}function Dm(t){return"string"==typeof t?t:""}function Nm(t,n){if(!V(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function Pm(t,n){return V(t)?Nm(t,n):n(t)}var xm=[rm.i_,rm.r_,am.k_];function Bm(t){var n,i=t.L_.map(function(t){return t.o_});return i.item=function(n){var i=0|n,e=t.P_(i);return e&&e.o_||void 0},i.addEventListener=function(t,i){n.tu(t,i)},i.removeEventListener=function(t,i){n.au(t,i)},n=new Su(i),t.tu(xm,function(t){return n.$s(t.o_)}),i}function Om(){}function Lm(t){var n,i=[am.E_,am.k_,am.I_,am.D_,am.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.G_&&t.G_.o_},get enabled(){return t.q_},set enabled(n){t.q_=Im(n)},get id(){return t.Y_},get uid(){return t.j_},get kind(){return t.Q_},get label(){return t.Z_},set label(n){t.Z_=Dm(n)},get language(){return t.K_},get qualities(){return t.J_.o_},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.J_.L_;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.o_===o&&i.push(s)}return i}(t,z(n)?n:[n]):[]).length>0?t.eg=i:t.eg=void 0},get targetQuality(){if(t.eg)return 1===t.eg.length?t.eg[0].o_:t.eg.map(function(t){return t.o_})},addEventListener:function(t,i){var e=Pm(t,Dm);n.tu(e,i)},removeEventListener:function(t,i){var e=Pm(t,Dm);n.au(e,i)}};return n=new Su(e),t.tu(i,function(t){return n.$s(t.o_)}),w.defineProperty(e,"constructor",{value:Om}),e}function Mm(){}function jm(t){var n=Bm(t);return w.defineProperty(n,"constructor",{value:Mm}),n}var Fm,Um,Hm=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.a_=function(){return jm(this)},i.W_=function(t){return t.q_},n}(ym);function Xm(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Fm.rg:case Fm.og:case Fm.ag:return n}}else if("number"==typeof t)switch(t){case 0:return Fm.rg;case 1:return Fm.og;case 2:return Fm.ag}return Fm.rg}function zm(){}function Vm(t){var n,i=[am.k_,am.E_,am.c_,am.v_,am.d_,am.__,am.m_,am.b_,am.T_],e=[Um.hg],r={get kind(){return t.Q_},get label(){return t.Z_},set label(n){t.Z_=Dm(n)},get language(){return t.K_},get id(){return t.Y_},get uid(){return t.j_},get inBandMetadataTrackDispatchType(){return t.cg},get mode(){return t.fg},set mode(n){n!==Fm.ag&&n!==Fm.og&&n!==Fm.rg||t.vg(n)},get forced(){return Boolean(t.dg)},get type(){return t._s},get readyState(){return Gm(t.wg)},get cues(){return t.fg===Fm.rg?null:t._g.o_},get activeCues(){return t.fg===Fm.rg?null:t.gg.o_},get src(){return t.yg||""},addEventListener:function(t,i){var e=Pm(t,Dm);n.tu(e,i)},removeEventListener:function(t,i){var e=Pm(t,Dm);n.au(e,i)}};return n=new Su(t),t.tu(i,function(t){return n.$s(t.o_)}),t.tu(e,function(t){return n.$s(t)}),w.defineProperty(r,"constructor",{value:zm}),r}function Wm(){}function qm(t){var n=Bm(t);return w.defineProperty(n,"constructor",{value:Wm}),n}function Gm(t){return t}!function(t){t.rg="disabled",t.og="hidden",t.ag="showing"}(Fm||(Fm={})),function(t){t.hg="error"}(Um||(Um={}));var $m=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.a_=function(){return qm(this)},i.W_=function(t){return t.fg===Fm.ag},n}(ym),Ym=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.uu=function(n){t.prototype.uu.call(this,n)},i.du=function(n){t.prototype.du.call(this,n)},n}(Tu),Qm=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(Ym),Zm=function(t){function n(){return t.call(this,Bf.Of)||this}return E(n,t),n}(Eu),Km=function(t){function n(n){var i;return(i=t.call(this,Bf.Df)||this).currentSource=n,i}return E(n,t),n}(Eu),Jm=function(){function t(){}return t.pg=function(n,i){var e=t.Ag(n,i);return e?t.Tg(e):0},t.Sg=function(){return i.$w||"default"},t.Eg=function(){return i.t_||"unknown"},t.Ag=function(n,e){var r,s=null==(r=i.Zw)?void 0:r.Cu(e),u=s&&JSON.parse(s);if(u&&u[n])return t.Ig(u,n,e)},t.Tg=function(t){var n=t.availableBandwidth;return n||0},t.Ig=function(n,i,e){if(!t.Rg(n,i))return n[i];t.Dg(n,i,e)},t.Dg=function(t,n,e){var r;delete t[n],null==(r=i.Zw)||r.pf(e,JSON.stringify(t))},t.Rg=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.Ng=function(t,n,i,e){var r;return Ur({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Cg=function(n){var i=t.Sg();t.Pg(i,"theoplayer-stored-network-info",n,Wt())},t.Pg=function(n,e,r,s){var u,o,a=null==(u=i.Zw)?void 0:u.Cu(e),h=a?JSON.parse(a):void 0,c=t.Ng(h,n,r,s);null==(o=i.Zw)||o.pf(e,JSON.stringify(c))},t.Bg=function(){var n=t.Sg();return t.pg(n,"theoplayer-stored-network-info")},t}();var ty,ny,iy,ey,ry,sy,uy="1ADD53F3";function oy(t){return{chromecast:function(t){return{appID:t&&t.appID?Dm(t.appID):uy}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return ty.AUTO;case"manual":return ty.MANUAL;case"disabled":return ty.DISABLED;default:return ty.MANUAL}}(t?t.strategy:void 0)}}function ay(t){var n,i=iy.Og;return(n=t)&&ks(n,"mpd")&&(i=iy.xg),function(t){return!!t&&ks(t,"m3u8")}(t)&&(i=iy.Lg),i}function hy(t){return!!t&&As(t.toLowerCase(),iy.xg)}function cy(t){if(!t)return!1;var n=t.toLowerCase();return As(n,iy.Lg)||As(n,iy.Mg)}function fy(t){return W(t)&&W(t.ssai)&&"google-dai"===t.ssai.integration}function ly(t){return W(t)&&G(t.integration)&&"verizon-media"===t.integration}function vy(t){if(G(t))return!t;if(ly(t))return!t.id;if(fy(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function dy(t){return Boolean(W(t)&&G(t.src))}function wy(t){return t.type===iy.Ug||t.type===iy.Xg}function gy(t){return G(t)||dy(t)||fy(t)||ly(t)}function my(t){if(t){if(gy(t))return vy(t);for(var n=0;n<t.length;n++){if(!vy(t[n]))return!1}return!0}return!0}function yy(){return{crossOrigin:ny.Hg,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function py(){return Ur({},yy(),{src:void 0,type:iy.Og,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function _y(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:ey.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return ry.NONE;case"midroll-and-postroll":default:return ry.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Im(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return ey.INSECURE;case"disabled":return ey.DISABLED;case"enabled":default:return ey.ENABLED}}(t.vpaidMode)),z(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(G)),void 0!==t.googleIma&&(n.googleIma=function(t){var n;return void 0===t?{useNativeIma:!1,bitrate:-1}:{useNativeIma:Im(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1}}(t.googleIma)),n)}function by(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];q(r)&&n.push(r)}return n}function ky(t){return G(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(ty||(ty={})),function(t){t.Hg="",t.Fg="anonymous",t.zg="use-credentials"}(ny||(ny={})),function(t){t.xg="application/dash+xml",t.Lg="application/vnd.apple.mpegurl",t.Mg="application/x-mpegurl",t.Og="video/mp4",t.Ug="application/vnd.theoplayer.hesp+json",t.Xg="application/vnd.theo.hesp+json"}(iy||(iy={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(ey||(ey={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(ry||(ry={})),function(t){t[t.Vg=0]="Vg",t[t.Wg=1]="Wg",t[t.Gg=2]="Gg",t[t.qg=3]="qg",t[t.Yg=4]="Yg"}(sy||(sy={}));var Ay,Ty=function(t){function n(n,i){var e;return void 0===i&&(i=sy.Vg),(e=t.call(this,Bf.Pf)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Eu),Sy=function(t){function n(n){var i;return(i=t.call(this,Bf.Ff)||this).currentTime=n,i}return E(n,t),n}(Eu),Ey=function(t){function n(n){var i;return(i=t.call(this,Bf.zf)||this).currentTime=n,i}return E(n,t),n}(Eu);!function(t){t.jg="canplay",t.Qg="canplaythrough",t.Zg="loadeddata",t.Kg="loadedmetadata",t.b_="readystatechange",t.Jg="waiting",t.$g="playing"}(Ay||(Ay={}));var Iy=[Ay.jg,Ay.Qg,Ay.Zg,Ay.Kg,Ay.b_,Ay.Jg,Ay.$g],Ry=function(t){function n(n,i){var e;return void 0===i&&(i=sy.Wg),(e=t.call(this,Ay.Kg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Eu),Cy=function(t){function n(n){var i;return(i=t.call(this,Bf.Cf)||this).duration=n,i}return E(n,t),n}(Eu),Dy=function(t){function n(n,i){var e;return(e=t.call(this,Bf.Wf)||this).currentTime=n,e.playbackRate=i,e}return E(n,t),n}(Eu),Ny=function(t){function n(n,i){var e;return(e=t.call(this,Bf.ev)||this).currentTime=n,e.currentProgramDateTime=i,e}return E(n,t),n}(Eu),Py=function(t){function n(n){var i;return(i=t.call(this,Bf.Bf)||this).currentTime=n,i}return E(n,t),n}(Eu),xy=function(t){function n(n,i){var e;return void 0===i&&(i=sy.Gg),(e=t.call(this,Ay.Zg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Eu),By=function(t){function n(n){var i;return(i=t.call(this,Bf.jf)||this).currentTime=n,i}return E(n,t),n}(Eu),Oy=function(t){function n(n){var i;return(i=t.call(this,Bf.Yf)||this).currentTime=n,i}return E(n,t),n}(Eu),Ly=function(t){function n(n,i){var e;return(e=t.call(this,Bf.rv)||this).currentTime=n,e.volume=i,e}return E(n,t),n}(Eu),My=function(t){function n(n,i){var e;return void 0===i&&(i=sy.qg),(e=t.call(this,Ay.jg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Eu),jy=function(t){function n(n,i){var e;return void 0===i&&(i=sy.Yg),(e=t.call(this,Ay.Qg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Eu),Fy=function(t){function n(n,i){var e;return(e=t.call(this,Ay.b_)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Eu),Uy=function(t){function n(n){var i;return(i=t.call(this,Um.hg)||this).errorObject=n,i}return E(n,t),n.prototype.a_=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(um);function Hy(t,n,i,e,r){var s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),s=0;case 4:return o.prev=5,o.next=8,Fr.awrap(t(n));case 8:return o.abrupt("return",o.sent);case 11:if(o.prev=11,o.t0=o.catch(5),fu(o.t0),!(s<i)){o.next=20;break}return u=g.min(e*g.pow(2,s),r),s++,o.next=19,Fr.awrap(_u(u,n));case 19:return o.abrupt("continue",4);case 20:throw o.t0;case 21:o.next=4;break;case 23:case"end":return o.stop()}},null,null,[[5,11]],qe)}var Xy,zy={maxRetries:1/0,minimumBackoff:200,maximumBackoff:3e4};function Vy(t){switch(t){case Xy.ALL:case Xy.CONTENT:return t;default:return Xy.NONE}}function Wy(t){var n,e,r,s,u,o=Am(t||{});return o.libraryLocation&&(o.libraryLocation=_w(o.libraryLocation,!0)),o.isEmbeddable=Boolean(o.isEmbeddable),o.cast=oy(o.cast),o.ads=_y(o.ads),o.analytics=by(o.analytics),o.mutedAutoplay=Vy(o.mutedAutoplay),o.allowNativeFullscreen=Boolean(o.allowNativeFullscreen),o.allowMixedContent=Boolean(o.allowMixedContent),o.persistVolume=Boolean(o.persistVolume),o.liveOffset=(n=o.liveOffset,Number(n)||void 0),o.hlsDateRange=(e=o.hlsDateRange,Boolean(e)),o.retainPlaybackRateOnSourceChange=Boolean(o.retainPlaybackRateOnSourceChange),o.license=G(r=o.license)?r:void 0,o.licenseUrl=function(t){if(!t)return;try{return _w(t)}catch(t){return void i.Tr("Invalid 'licenseUrl', falling back to default URL")}}(o.licenseUrl),o.vr=function(t){return{useWebXR:Boolean(t&&t.useWebXR)}}(o.vr),o.retryConfiguration=(s=o.retryConfiguration,u=Ur({},zy),void 0!==s&&(void 0!==s.maxRetries&&(u.maxRetries=Number(s.maxRetries)),void 0!==s.minimumBackoff&&(u.minimumBackoff=Number(s.minimumBackoff)),void 0!==s.maximumBackoff&&(u.maximumBackoff=Number(s.maximumBackoff))),u),o}function qy(t){return{tm:t.tm,nm:t.nm,im:t.im,Au:t.Au,um:t.um,hm:t.hm,cm:t.cm,fm:t.fm,wg:t.wg,vm:t.vm,lm:t.lm,dm:t.dm,wm:t.wm}}function Gy(t,n,i){if(n!==i){var e=n.tm,r=n.nm,s=n.hm,u=n.cm,o=n.fm,a=n.wg,h=n.vm;n.dm,n.lm;var c=n.wm,f=i.tm,l=i.nm,v=i.im,d=i.um,w=i.hm,g=i.cm,m=i.fm,y=i.wg,_=i.vm;i.dm,i.lm;var b=i.wm;a!==sy.Vg&&t.$s(new Ty(f,y)),g&&!u?t.$s(new Sy(f)):!g&&u&&t.$s(new Ey(f)),y>=sy.Wg&&t.$s(new Ry(f,y)),l===r||p(l)&&p(r)||t.$s(new Cy(l)),m!==o&&t.$s(new Dy(f,m)),f!==e&&t.$s(new Ny(f,void 0)),v&&t.$s(new Py(f)),y>=sy.Gg&&t.$s(new xy(f,y)),_&&!h?t.$s(new By(f)):!_&&h&&t.$s(new Oy(f)),b===c&&w===s||t.$s(new Ly(f,b)),y>=sy.qg&&t.$s(new My(f,y)),y>=sy.Yg&&t.$s(new jy(f,y)),y!==a&&t.$s(new Fy(f,y)),d&&t.$s(new Uy(d))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Xy||(Xy={}));var $y=.25,Yy=400,Qy={_m:.2,gm:.45,mm:.7,ym:3,pm:ep,Am:rp},Zy={_m:.4,gm:.65,mm:1,ym:3,pm:ep,Am:rp},Ky={_m:.4,gm:.7,mm:.9,ym:3,pm:ep,Am:rp},Jy={_m:.4,gm:.65,mm:1,ym:3,pm:ep,Am:rp},tp={_m:.5,gm:1.125,mm:1.75,ym:2.55,pm:ep,Am:rp};function np(){var t;return t=i.Hr.Ye?Jy:i.Hr.Ze?Zy:i.Hr.Qe?"Android"===i.Fr.zr?Ky:Qy:tp,i.Fr.Vr?function(t){if(i.Fr.Vr){var n=(Yy+250)/1e3,e=g.max(n,t._m),r=g.max(e+$y,t.gm),s=g.max(r+$y,t.mm);return{_m:e,gm:r,mm:s,ym:g.max(s+$y,t.ym),pm:ep,Am:rp}}return t}(t):t}var ip,ep=.92,rp=1.08;function sp(t){return{goLive:function(){return t.Tm()},get isLive(){return t.Sm},get currentServerLiveTime(){return t.Em},get currentLatency(){return t.Im},get latency(){return t.Rm},set latency(n){if(!function(t){if(!W(t))return!1;var n=t,i=H(n.target)&&"number"==typeof n.target&&H(n.windowEnd)&&"number"==typeof n.windowEnd&&H(n.windowStart)&&"number"==typeof n.windowStart&&H(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new l("Invalid latency configuration");t.Rm=n},get manifest(){return t.Dm},addEventListener:function(n,i){t.tu(op(n),i)},removeEventListener:function(n,i){t.au(op(n),i)}}}!function(t){t[t.rg=0]="rg",t[t.Nm=1]="Nm",t[t.Cm=2]="Cm"}(ip||(ip={}));var up=["golive","latencyrecoveryseek"];function op(t){var n=Pm(t,Dm);return(G(n)?[n]:n).filter(function(t){return Qs(up,t)})}var ap,hp=function(t){function n(){var n,i;return(n=t.call(this)||this).U_=void 0,n.u_=void 0,n.Pm={windowStart:(i=np())._m,windowEnd:i.mm,target:i.gm,maxOffset:i.ym},n.U_=void 0,n}E(n,t);var i=n.prototype;return i.F_=function(t){t.tu(up,this.Js)},i.z_=function(t){t.au(up,this.Js)},i.Tm=function(){var t;null==(t=this.U_)||t.Tm()},i.$c=function(){this.ou(),this.U_&&this.z_(this.U_),this.U_=void 0},T(n,[{key:"V_",get:function(){return this.U_},set:function(t){var n=this.U_;t!==n&&(n&&this.z_(n),t&&this.F_(t),this.U_=t,this.U_&&(this.U_.Rm=this.Pm))}},{key:"o_",get:function(){return this.u_||(this.u_=sp(this)),this.u_}},{key:"Em",get:function(){var t;return null==(t=this.U_)?void 0:t.Em}},{key:"Im",get:function(){var t;return null==(t=this.U_)?void 0:t.Im}},{key:"Sm",get:function(){return!!this.U_&&this.U_.Sm}},{key:"Rm",get:function(){return this.U_?this.U_.Rm:this.Pm},set:function(t){this.U_&&(this.U_.Rm=t),this.Pm=t}},{key:"Dm",get:function(){var t;return null==(t=this.U_)?void 0:t.Dm}}]),n}(Tu),cp=function(t){function n(n){var i;return(i=t.call(this)||this).U_=void 0,i.Bm=[],i.Om=!1,i.xm=new Hm,i.Lm=new Hm,i.Mm=new $m,i.Um=new hp,i.Xm=!1,i.Hm(n),n.uu(i.Js),i.U_=n,i.xm.V_=n.Fm,i.Lm.V_=n.zm,i.Mm.V_=n.Vm,i.Um.V_=n.Wm,i}E(n,t);var i=n.prototype;return i.Gm=function(){this.U_.Gm()},i.qm=function(){this.U_.qm()},i.Ym=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",pu(this.Bm.map(function(t){return t.Ym()})).then(K));case 1:case"end":return t.stop()}},null,this,null,qe)},i.jm=function(){return this.U_.jm()},i.Qm=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return cu(n),i.next=3,Fr.awrap(this.U_.Qm(t,n));case 3:case"end":return i.stop()}},null,this,null,qe)},i.Zm=function(){return this.V_.Zm()},i.Km=function(){this.V_.Km()},i.Jm=function(){this.V_.Jm()},i.$m=function(){if(!this.Om){for(var t=0,n=this.Bm;t<n.length;t++){n[t].$m()}this.Om=!0}},i.iy=function(t){this.U_.iy(t)},i.ey=function(){this.U_.ey()},i.sy=function(){this.U_.sy()},i.uy=function(){this.U_.uy()},i.oy=function(){return this.U_.oy()},i.vy=function(){return this.U_.vy()},i.ly=function(){for(var t=[],n=0,i=this.Bm;n<i.length;n++){var e=i[n];t.push.apply(t,e.ly())}return t},i.wy=function(t){for(var n=!1,i=0,e=this.Bm;i<e.length;i++){n=e[i].wy(t)||n}return n},i.$s=function(n){this.wy(n)||t.prototype.$s.call(this,n)},i.Hm=function(t){this.Bm.push(t)},i._y=function(t){$s(this.Bm,t)},i.gy=function(t){if(t!==this.U_){var n=this.U_;n.ey(),n.du(this.Js);var i=qy(this),e=this.yy,r=this.vy();this.U_=t,this.xm.V_=t.Fm,this.Lm.V_=t.zm,this.Mm.V_=t.Vm,this.Um.V_=t.Wm,Gy(this,i,this);var s=this.yy;s!==e&&this.$s(new Km(s)),this.vy()!==r&&this.$s(new Zm),t.uu(this.Js),t.iy(n)}},i.py=function(){},i.$c=function(){var t,n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.ou(),this.U_.ey(),t=0,n=this.Bm;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,Fr.awrap(i.$c());case 7:t++,e.next=3;break;case 10:this.xm.$c(),this.Lm.$c(),this.Mm.$c(),this.Um.$c();case 14:case"end":return e.stop()}},null,this,null,qe)},i.wc=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",pu(this.Bm.map(function(t){return t.wc()})).then(K));case 1:case"end":return t.stop()}},null,this,null,qe)},T(n,[{key:"Fm",get:function(){return this.xm}},{key:"Vm",get:function(){return this.Mm}},{key:"zm",get:function(){return this.Lm}},{key:"by",get:function(){return this.U_.by}},{key:"Ay",get:function(){return this.U_.Ay},set:function(t){this.U_.Ay=t}},{key:"yy",get:function(){return this.U_.yy}},{key:"tm",get:function(){return this.U_.tm},set:function(t){this.U_.tm=t}},{key:"nm",get:function(){return this.U_.nm}},{key:"Ty",get:function(){return this.U_.Ty}},{key:"im",get:function(){return this.U_.im}},{key:"Au",get:function(){return this.U_.Au}},{key:"um",get:function(){return this.U_.um}},{key:"Wm",get:function(){return this.Um}},{key:"Sy",get:function(){return this.U_.Sy}},{key:"Ey",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.Iy,i+=a.Ry,e+=a.Dy,r+=a.Ny,s+=a.Cy,u.amountOfBufferedAudioSegments+=a.Py.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=a.Py.amountOfBufferedVideoSegments}return{Iy:n,Ry:i,Dy:e,Ny:r,Cy:s,Py:u}}(this.Bm.map(function(t){return t.Ey}))}},{key:"hm",get:function(){return this.U_.hm},set:function(t){this.U_.hm=t}},{key:"By",get:function(){return this.U_.By}},{key:"cm",get:function(){return this.U_.cm}},{key:"fm",get:function(){return this.U_.fm},set:function(t){this.U_.fm=t}},{key:"Oy",get:function(){return this.U_.Oy}},{key:"xy",get:function(){return this.U_.xy},set:function(t){this.U_.xy=t}},{key:"wg",get:function(){return this.U_.wg}},{key:"Ly",get:function(){return this.U_.Ly}},{key:"vm",get:function(){return this.U_.vm}},{key:"lm",get:function(){return this.U_.lm}},{key:"dm",get:function(){return this.U_.dm}},{key:"wm",get:function(){return this.U_.wm},set:function(t){this.U_.wm=t}},{key:"My",get:function(){return this.U_.My}},{key:"Uy",get:function(){return!1},set:function(t){}},{key:"V_",get:function(){return this.U_},set:function(t){this.gy(t)}}]),n}(Qm),fp=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e)||this).url=void 0,h.status=void 0,h.statusText=void 0,h.response=void 0,h.systemCode=void 0,h.url=r,h.status=s,h.statusText=u,h.response=o,h.systemCode=a,h}return E(n,t),T(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(ff);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(ap||(ap={}));var lp=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,l.captureStackTrace&&l.captureStackTrace(Jt(s),s.constructor),s}return E(n,t),T(n,[{key:"name",get:function(){return"MediaError"}}]),n}(tn);function vp(t){_m(t,"MEDIA_ERR_ABORTED",ap.ABORTED),_m(t,"MEDIA_ERR_NETWORK",ap.NETWORK),_m(t,"MEDIA_ERR_DECODE",ap.DECODE),_m(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",ap.SRC_NOT_SUPPORTED),_m(t,"MEDIA_ERR_ENCRYPTED",ap.ENCRYPTED)}function dp(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new lp(ap.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new lp(wp(t.code),t.message,null==(e=t.cause)?void 0:e.message)}function wp(t){if(t===n.ErrorCode.MEDIA_ABORTED)return ap.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return ap.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return ap.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return ap.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);return i===n.ErrorCategory.NETWORK?ap.NETWORK:i===n.ErrorCategory.SOURCE?ap.SRC_NOT_SUPPORTED:i===n.ErrorCategory.LICENSE?ap.LICENSE_INVALID:i===n.ErrorCategory.CONTENT_PROTECTION?ap.ENCRYPTED:i===n.ErrorCategory.AD?ap.ADVERTISEMENT_ERROR:ap.DECODE}vp(lp),vp(lp.prototype);var gp,mp=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.B_=function(n){return t.prototype.B_.call(this,n)},i.a_=function(){return jm(this)},n}(wm);!function(t){t.Cd="audio",t.Pd="video",t.ni="text",t.Bd="image",t.md="unknown"}(gp||(gp={}));var yp=function(){function t(){this.Xy=[],this.u_=void 0}var n=t.prototype;return n.Hy=function(t){this.Xy.push(t),this.u_&&this.u_.push(t.o_)},n.$h=function(t){$s(this.Xy,t),this.u_&&$s(this.u_,t.o_)},n.P_=function(t){return this.Xy[t]},n.Fy=function(t){return z(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Qs(t,n[i]))return!1;return!0}(this.Xy,t):Qs(this.Xy,t)},n.wc=function(){Zs(this.Xy),this.u_&&Zs(this.u_)},T(t,[{key:"L_",get:function(){return this.Xy}},{key:"M_",get:function(){return this.Xy.length}},{key:"o_",get:function(){var t,n;return this.u_||(this.u_=((n=(t=this).L_.map(function(t){return t.o_})).item=function(n){var i=0|n,e=t.P_(i);return e&&e.o_||void 0},n)),this.u_}}]),t}(),pp=function(t){function n(n){var i;return(i=t.call(this,am.E_)||this).h_=n,i}return E(n,t),n.prototype.a_=function(){return new _p(this.h_.o_)},n}(hm),_p=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return E(n,t),n}(cm),bp=0;function kp(){return bp++}var Ap=0;var Tp=0;function Sp(){return Tp++}var Ep=0;function Ip(){return Ep++}var Rp=0;var Cp=function(t){function n(n){var i;return(i=t.call(this)||this)._s=gp.Cd,i.zy=void 0,i.Uh=void 0,i.Vy=void 0,i.Wy=void 0,i.Gy=!1,i.Xy=void 0,i.u_=void 0,i.zy=n,i.Wy=kp(),i.Uh=Rp+++"",i.Vy=n.label,i.Xy=new yp,i.qy(),i}E(n,t);var i=n.prototype;return i.Yy=function(t){this.q_=t},i.qy=function(){this.q_=this.jy},T(n,[{key:"G_",get:function(){}},{key:"q_",get:function(){return this.Gy},set:function(t){this.Gy!==t&&(this.Gy=t,this.jy=t,this.$s(new gm(this)))}},{key:"jy",get:function(){return this.zy.enabled},set:function(t){this.zy.enabled=t}},{key:"o_",get:function(){return this.u_||(this.u_=Lm(this)),this.u_}},{key:"Y_",get:function(){return this.Uh}},{key:"j_",get:function(){return this.Wy}},{key:"Q_",get:function(){return this.zy.kind}},{key:"Z_",get:function(){return this.Vy},set:function(t){t!==this.Vy&&(this.Vy=t,this.$s(new pp(this)))}},{key:"K_",get:function(){return this.zy.language}},{key:"fg",get:function(){return this.q_?"enabled":"disabled"}},{key:"Qy",get:function(){return this.zy}},{key:"J_",get:function(){return this.Xy}},{key:"eg",get:function(){},set:function(t){}}]),n}(Tu),Dp=0;var Np,Pp,xp,Bp=function(t){function n(n){var i;return(i=t.call(this)||this)._s=gp.Pd,i.zy=void 0,i.Uh=void 0,i.Wy=void 0,i.Gy=!1,i.Xy=void 0,i.Vy=void 0,i.u_=void 0,i.zy=n,i.Wy=kp(),i.Uh=Dp+++"",i.Xy=new yp,i.Vy=n.label,i.qy(),i}E(n,t);var i=n.prototype;return i.qy=function(){this.q_=this.jy},i.Yy=function(t){this.q_=t},T(n,[{key:"G_",get:function(){}},{key:"q_",get:function(){return this.Gy},set:function(t){this.Gy!==t&&(this.Gy=t,this.jy=t,this.$s(new gm(this)))}},{key:"jy",get:function(){return!!this.zy.selected},set:function(t){this.zy.selected=t}},{key:"o_",get:function(){return this.u_||(this.u_=Lm(this)),this.u_}},{key:"Y_",get:function(){return this.Uh}},{key:"j_",get:function(){return this.Wy}},{key:"Q_",get:function(){return"main"}},{key:"Z_",get:function(){return this.Vy},set:function(t){t!==this.Vy&&(this.Vy=t,this.$s(new pp(this)))}},{key:"K_",get:function(){return this.zy.language}},{key:"fg",get:function(){return this.q_?"enabled":"disabled"}},{key:"Qy",get:function(){return this.zy}},{key:"J_",get:function(){return this.Xy}},{key:"eg",get:function(){},set:function(t){}}]),n}(Tu),Op=function(t){function n(n){var i;return(i=t.call(this,Bf.Af)||this).Sy=n,i}return E(n,t),n}(Eu);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Np||(Np={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Pp||(Pp={})),function(t){t.Zy="cue",t.Ky="region",t.Jy="stylesheet"}(xp||(xp={}));var Lp,Mp={"line-left":"start",center:"middle","line-right":"end"},jp={start:"line-left",middle:"center",end:"line-right"};function Fp(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Up(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:y(i),p(r)?e:r;var i,e,r}!function(t){t.$y="nk",t.ek="rk",t.E_="tc"}(Lp||(Lp={}));var Hp=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).hk=i,e}return E(n,t),n}(hm),Xp=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return E(n,t),n}(cm);function zp(t){var n,i=[Lp.$y,Lp.ek,Lp.E_],e={get track(){return t.h_.o_},get id(){return t.Y_},get uid(){return t.j_},get startTime(){return t.ck},get endTime(){return t.fk},get content(){return t.vk},addEventListener:function(t,i){var e=Pm(t,Dm);n.tu(e,i)},removeEventListener:function(t,i){var e=Pm(t,Dm);n.au(e,i)}};return n=new Su(e),t.tu(i,function(t){return n.$s(t.o_)}),e}function Vp(){}function Wp(t){return km(zp(t),{get align(){return t.lk},get line(){return t.dk},get lineAlign(){return t.wk},get position(){return t._k},get positionAlign(){return t.gk},get region(){return t.yk?t.yk.o_:null},get size(){return t.xu},get snapToLines(){return t.pk},get text(){return t.vk},get vertical(){return t.bk}})}var qp=function(t){function n(n){return t.call(this,Lp.E_,n)||this}return E(n,t),n.prototype.a_=function(){return new Gp(this.hk.o_)},n}(Hp),Gp=function(t){function n(n){return t.call(this,"update",n)||this}return E(n,t),n}(Xp),$p=.02;function Yp(t,n){return Ut(t.ck,n.ck,$p)&&Ut(t.fk,n.fk,$p)&&t.Y_===n.Y_}var Qp=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Wy=void 0,u.Uh=void 0,u.Ak=void 0,u.Tk=void 0,u.u_=void 0,u.Sk=void 0,u.Ek=!1,u.Ik=void 0,u.Rk=void 0,u.Dk=-1,u.Wy=Ip(),u.Ak=n,u.Tk=i,u.Ik=e,u.Rk=Boolean(r),u.Uh=null!=s?s:"",u}E(n,t);var i=n.prototype;return i.a_=function(){return zp(this)},i.Nk=function(t){return this===t||Sm(this,t)&&Yp(this,t)},i.$c=function(){this.ou()},T(n,[{key:"ck",get:function(){return this.Ak},set:function(t){this.Ak!==t&&(this.Ak=t,this.$s(new qp(this)))}},{key:"fk",get:function(){return this.Tk},set:function(t){this.Tk!==t&&(this.Tk=t,this.$s(new qp(this)))}},{key:"Y_",get:function(){return this.Uh}},{key:"j_",get:function(){return this.Wy}},{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}},{key:"Ck",get:function(){return this.Ek},set:function(t){this.Ek=t}},{key:"h_",get:function(){return this.Sk},set:function(t){this.Sk=t}},{key:"vk",get:function(){return this.Ik},set:function(t){this.Ik!==t&&(this.Ik=t,this.$s(new qp(this)))}},{key:"Pk",get:function(){return this.Rk},set:function(t){this.Rk=t}}]),n}(Tu);function Zp(t,n){return t.vk===n.vk&&t.dk===n.dk&&t.wk===n.wk&&t._k===n._k&&t.gk===n.gk&&t.yk===n.yk&&t.pk===n.pk&&t.xu===n.xu&&t.lk===n.lk&&t.bk===n.bk}var Kp=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).dk="auto",u.wk="start",u._k="auto",u.gk="auto",u.yk=void 0,u.pk=!0,u.xu=100,u.lk="center",u.bk="",u}return E(n,t),n.prototype.Nk=function(n){return this===n||Sm(this,n)&&t.prototype.Nk.call(this,n)&&Zp(this,n)},T(n,[{key:"o_",get:function(){return this.u_||(this.u_=Wp(this)),this.u_}},{key:"_s",get:function(){return xp.Zy}}]),n}(Qp);function Jp(t){var n=Z(t.dk)?t.dk:y(t.dk);return p(n)||t.pk||!(n<0||n>100)?p(n)?t.pk?-1:100:n:100}function t_(t){return Up(t._k,t.lk)}function n_(t){return Fp(t.gk,t.lk)}function i_(t){var n,i=n_(t),e=t_(t);switch(i){case"line-left":n=100-e;break;case"line-right":n=e;break;case"center":n=e<=50?2*e:2*(100-e)}return g.min(t.xu,n)}function e_(t){return{get id(){return t.Y_},get identifier(){return t.Y_},get lines(){return t.Bk},get regionAnchorX(){return t.Ok},get regionAnchorY(){return t.xk},get scrollValue(){return t.Lk},get viewportAnchorX(){return t.Mk},get viewportAnchorY(){return t.Uk},get width(){return t.Xk}}}var r_=function(){function t(t,n,i,e,r,s,u,o){this.u_=void 0,this.Y_=t,this.Xk=n,this.Bk=i,this.Ok=e,this.xk=r,this.Mk=s,this.Uk=u,this.Lk=o}return T(t,[{key:"o_",get:function(){return this.u_||(this.u_=e_(this)),this.u_}},{key:"_s",get:function(){return xp.Ky}}]),t}(),s_=function(){function t(){}var n=t.prototype;return n.Hk=function(t){return this.Fk()*t},n.zk=function(t){return this.Vk(t)>0},n.Wk=function(t){return this.Vk(t)>=0},n.Gk=function(t,n){return this.Yk(t).qk(n)},n.Nk=function(t){return 0===this.Vk(t)},n.jk=function(t){return this.Vk(t)<0},n.qk=function(t){return this.Vk(t)<=0},n.Qk=function(){return this.Zk()?this.Kk():this},n.Jk=function(t){return this.Hy(t.Kk())},n.Yk=function(t){return this.Jk(t).Qk()},t}();function u_(t,n){return t.$k()?n.$k()?Os.Cs:Os.Ps:n.$k()?Os.Bs:t.tp()?n.tp()&&t.Zk()===n.Zk()?Os.Cs:t.Zk()?Os.Bs:Os.Ps:n.Zk()?Os.Ps:Os.Bs}var o_=function(){function t(t,n){this.np=void 0,this.ip=void 0,this.np=t,this.ip=n}t.ep=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.rp=function(n){return n.unsigned?new t(n,vt.UZERO):new t(n,n.isNegative()?vt.NEG_ONE:vt.ZERO)},t.sp=function(n,i){if(p(n))return i?t.op:t.ap;if(i){if(n<0)return t.op;if(n>=3.402823669209385e38)return t.hp}else{if(n<=-1.7014118346046923e38)return t.cp;if(n+1>=1.7014118346046923e38)return t.fp}return n<0?t.sp(-n,i).Kk():t.ep(vt.fromNumber(n%0x10000000000000000),vt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.vp=function(){return this.ip.unsigned},n.lp=function(){return this.np.isZero()&&this.ip.isZero()},n.Zk=function(){return this.ip.isNegative()},n.dp=function(){return this.vp()?t.ep(this.np,this.ip,!1):this},n.wp=function(){return this.vp()?this:t.ep(this.np,this.ip,!0)},n._p=function(){return this.np},n.Fk=function(){return this.Zk()?-this.Kk().Fk():0x10000000000000000*this.ip.toNumber()+this.np.toUnsigned().toNumber()},n.gp=function(){return this.np.toInt()},n.Nk=function(t){return(this.vp()===t.vp()||this.ip.getHighBits()>>>31!=1||t.ip.getHighBits()>>>31!=1)&&(this.ip.toUnsigned().eq(t.ip.toUnsigned())&&this.np.toUnsigned().eq(t.np.toUnsigned()))},n.Vk=function(t){if(this.Nk(t))return Os.Cs;var n=this.Zk(),i=t.Zk();if(n&&!i)return Os.Bs;if(!n&&i)return Os.Ps;if(!this.vp())return this.Jk(t).Zk()?Os.Bs:Os.Ps;var e=this.wp(),r=t.wp(),s=r.ip.comp(e.ip);return s>0||0===s&&r.np.gt(e.np)?Os.Bs:Os.Ps},n.jk=function(t){return this.Vk(t)<0},n.qk=function(t){return this.Vk(t)<=0},n.mp=function(t){return this.Vk(t)>0},n.yp=function(t){return this.Vk(t)>=0},n.kp=function(){return new t(this.np.not(),this.ip.not())},n.pp=function(n){return new t(this.np.and(n.np),this.ip.and(n.ip))},n.bp=function(n){return new t(this.np.or(n.np),this.ip.or(n.ip))},n.Ap=function(n){var i=127&n;return 0===i?this:i<64?t.ep(this.np.shl(i),this.ip.shl(i).or(this.np.shru(64-i)),this.vp()):t.ep(vt.ZERO,this.np.shl(i-64),this.vp())},n.Tp=function(n){var i=127&n;return 0===i?this:i<64?t.ep(this.np.shru(i).or(this.ip.shl(64-i)),this.ip.shr(i),this.vp()):t.ep(this.ip.shr(i-64),this.ip.isNegative()?vt.NEG_ONE:vt.ZERO,this.vp())},n.Sp=function(n){var i=127&n;return 0===i?this:i<64?t.ep(this.np.shru(i).or(this.ip.shl(64-i)),this.ip.shru(i),this.vp()):64===i?t.ep(this.ip,vt.ZERO,this.vp()):t.ep(this.ip.shru(i-64),vt.ZERO,this.vp())},n.Hy=function(n){var i=this.ip.high>>>16,e=65535&this.ip.high,r=this.ip.low>>>16,s=65535&this.ip.low,u=this.np.high>>>16,o=65535&this.np.high,a=this.np.low>>>16,h=65535&this.np.low,c=n.ip.high>>>16,f=65535&n.ip.high,l=n.ip.low>>>16,v=65535&n.ip.low,d=n.np.high>>>16,w=65535&n.np.high,g=n.np.low>>>16,m=0,y=0,p=0,_=0,b=0,k=0,A=0,T=0;A+=(T+=h+(65535&n.np.low))>>>16,T&=65535,k+=(A+=a+g)>>>16,A&=65535,b+=(k+=o+w)>>>16,k&=65535,_+=(b+=u+d)>>>16,b&=65535,p+=(_+=s+v)>>>16,_&=65535,y+=(p+=r+l)>>>16,p&=65535,m+=(y+=e+f)>>>16,y&=65535,m+=i+c,m&=65535;var S=this.vp(),E=vt.fromBits(p<<16|_,m<<16|y,S),I=vt.fromBits(A<<16|T,b<<16|k,S);return t.ep(I,E,S)},n.Jk=function(t){return this.Hy(t.Kk())},n.Kk=function(){return this.kp().Hy(t.Ep)},n.Ip=function(n){if(this.lp()||n.lp())return this.vp()?t.op:t.ap;if(this.Zk())return n.Zk()?this.Kk().Ip(n.Kk()):this.Kk().Ip(n).Kk();if(n.Zk())return this.Ip(n.Kk()).Kk();if(this.ip.isZero()&&0===this.np.high&&n.ip.isZero()&&0===n.np.high)return t.rp(this.np.multiply(n.np));var i=vt.fromBits(4294967295,0,!0),e=this.np.and(i),r=this.np.shru(32),s=this.ip.and(i),u=this.ip.shru(32),o=n.np.and(i),a=n.np.shru(32),h=n.ip.and(i),c=n.ip.shru(32),f=vt.UZERO,l=vt.UZERO,v=vt.UZERO,d=vt.UZERO;f=f.add(e.mul(o)),l=l.add(f.shru(32)),f=f.and(i),l=l.add(r.mul(o)),v=v.add(l.shru(32)),l=(l=l.and(i)).add(e.mul(a)),v=v.add(l.shru(32)),l=l.and(i),v=v.add(s.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)).add(s.mul(a)).add(r.mul(h)).add(e.mul(c)).and(i);var w=vt.fromBits(f.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0),g=vt.fromBits(v.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0);return t.ep(w,g,this.vp())},n.Rp=function(n){var i,e,r=n;if(r.lp())throw new RangeError("division by zero");if(this.lp())return this.vp()?[t.op,t.op]:[t.ap,t.ap];if(this.vp()){if(r.vp()||(r=r.wp()),r.mp(this))return[t.op,this];if(r.mp(this.Sp(1)))return[e=t.Dp,i=this.Jk(r)];e=t.op}else{if(this.Nk(t.cp)){if(r.Nk(t.Ep)||r.Nk(t.Np))return[t.cp,t.ap];if(r.Nk(t.cp))return[t.Ep,t.ap];var s=this.Tp(1).Cp(r).Ap(1);return s.Nk(t.ap)?e=r.Zk()?t.Ep:t.Np:(i=this.Jk(r.Ip(s)),e=s.Hy(i.Cp(r))),[e,i=this.Jk(r.Ip(e))]}if(r.Nk(t.cp))return this.vp()?[t.op,this]:[t.ap,this];if(this.Zk()){if(r.Zk())return this.Kk().Rp(r.Kk());var u=this.Kk().Rp(r);return e=u[0],i=u[1],[e.Kk(),i.Kk()]}if(r.Zk()){var o=this.Rp(r.Kk());return e=o[0],i=o[1],[e.Kk(),i.Kk()]}e=t.ap}for(i=this;i.yp(r);){for(var a=g.max(1,g.floor(i.Fk()/r.Fk())),h=g.ceil(g.log(a)/g.LN2),c=h<=48?1:g.pow(2,h-48),f=t.sp(a),l=f.Ip(r);l.Zk()||l.mp(i);)a-=c,l=(f=t.sp(a,this.vp())).Ip(r);f.lp()&&(f=t.Ep),e=e.Hy(f),i=i.Jk(l)}return[e,i]},n.Cp=function(t){return this.Rp(t)[0]},n.Pp=function(t){return this.Rp(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.lp())return"0";if(this.Zk()){if(this.Nk(t.cp)){var e=t.sp(i),r=this.Cp(e),s=r.Ip(e).Jk(this);return r.toString(i)+s.gp().toString(i)}return"-"+this.Kk().toString(i)}for(var u=t.sp(g.pow(i,6),this.vp()),o=this,a="";;){var h=o.Cp(u),c=(o.Jk(h.Ip(u)).gp()>>>0).toString(i);if((o=h).lp())return c+a;for(;c.length<6;)c="0"+c;a=String(c)+a}},t}();o_.ap=o_.rp(vt.ZERO),o_.op=o_.rp(vt.UZERO),o_.Ep=o_.rp(vt.ONE),o_.Dp=o_.rp(vt.UONE),o_.Np=o_.rp(vt.NEG_ONE),o_.fp=o_.ep(vt.NEG_ONE,vt.MAX_VALUE,!1),o_.hp=o_.ep(vt.MAX_UNSIGNED_VALUE,vt.MAX_UNSIGNED_VALUE,!0),o_.cp=o_.ep(vt.ZERO,vt.MIN_VALUE,!1);var a_=function(){function t(t,n){void 0===n&&(n=1),this.Bp=void 0,this.Op=void 0,this.Bp=t,this.Op=n}t.xp=function(n){return new t(g.ceil(n.Bp),n.Op)},t.Lp=function(n){return new t(g.floor(n.Bp),n.Op)},t.Mp=function(t,n){return t.Wk(n)?t:n},t.Up=function(t,n){return t.qk(n)?t:n};var n=t.prototype;return n.Hy=function(n){return this.Op>=n.Op?new t(this.Bp+n.Xp(this.Op).Bp,this.Op):new t(this.Xp(n.Op).Bp+n.Bp,n.Op)},n.zk=function(t){return t.jk(this)},n.Wk=function(t){return t.qk(this)},n.Yk=function(n){return this.Op>=n.Op?new t(g.abs(this.Bp-n.Xp(this.Op).Bp),this.Op):n.Yk(this)},n.Gk=function(t,n){return this.Yk(t).qk(n)},n.Vk=function(t){return i=t,(n=this).Op>=i.Op?Vs(n.Bp,i.Xp(n.Op).Bp):Vs(n.Xp(i.Op).Bp,i.Bp);var n,i},n.Nk=function(t){return 0===this.Vk(t)},n.jk=function(t){return this.Vk(t)<0},n.qk=function(t){return this.Vk(t)<=0},n.Xp=function(n){return new t(this.Bp*(n/this.Op),n)},n.Jk=function(n){return this.Op>=n.Op?new t(this.Bp-n.Xp(this.Op).Bp,this.Op):new t(this.Xp(n.Op).Bp-n.Bp,n.Op)},n.Hp=function(n){return new t(this.Bp*n,this.Op)},T(t,[{key:"tp",get:function(){return!isFinite(this.Bp)}},{key:"Fp",get:function(){return this.Bp/this.Op}}]),t}();a_.zp=new a_(1/6,1),a_.ap=new a_(0),a_.Vp=new a_(1/0),a_.Wp=1e6;var h_=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ti=void 0,e.Op=void 0,e.Ti=n.toSigned(),e.Op=i>>>0,e}E(n,t),n.Gp=function(t,i){return void 0===i&&(i=1e6),n.sp(t*i,i)},n.sp=function(t,i){return p(t)?n.qp:t===1/0?n.Yp:t===-1/0?n.jp:new n(vt.fromNumber(t),i)},n.rp=function(t,i){return new n(t,i)},n.Qp=function(t){return n.Gp(t.Fp,1e6)},n.Zp=function(t){return new n(vt.fromNumber(t.getTime()),1e3)},n.Mp=function(t,n){return t.Wk(n)?t:n},n.Up=function(t,n){return t.qk(n)?t:n},n.Kp=function(t,i,e){return n.Mp(i,n.Up(e,t))};var i=n.prototype;return i.Zk=function(){return this.Ti.isNegative()},i.lp=function(){return 0!==this.Op&&this.Ti.isZero()},i.tp=function(){return 0===this.Op&&!this.Ti.isZero()},i.$k=function(){return 0===this.Op&&this.Ti.isZero()},i.Fk=function(){if(0===this.Op)return this.Ti.isZero()?NaN:this.Ti.isNegative()?-1/0:1/0;var t=this.Ti.divide(this.Op),n=this.Ti.subtract(t.multiply(this.Op));return t.toNumber()+n.toNumber()/this.Op},i._p=function(){if(0===this.Op)throw new l("Failed to convert timestamp");return this.Ti},i.Jp=function(){return new Date(0===this.Op?NaN:this.Xp(1e3).Ti.toNumber())},i.$p=function(){return new a_(0===this.Op?this.Fk():this.Ti.toNumber(),this.Op)},i.Xp=function(t,i){void 0===i&&(i=l_.ib);var e=this.Op;if(e===t)return this;if(0===e)return this;var r=zt(e,t);return new n(function(t,n,i){var e=t.Rp(n),r=e[0],s=e[1];if(s.lp())return r;if(i===l_.ib)return s.Zk()?r.Jk(o_.Ep):r;if(i===l_.eb)return s.Zk()?r:r.Hy(o_.Ep);var u=s.Ip(o_.sp(2));return u.Zk()?u.Kk().jk(n)?r:r.Jk(o_.Ep):u.jk(n)?r:r.Hy(o_.Ep)}(o_.rp(this.Ti).Ip(o_.sp(t/r)),o_.sp(e/r),i)._p(),t)},i.Vk=function(t){if(this===t)return Os.Cs;if(0===this.Op||0===t.Op)return u_(this,t);if(this.lp())return t.lp()?Os.Cs:t.Zk()?Os.Ps:Os.Bs;if(t.lp())return this.Zk()?Os.Bs:Os.Ps;var n=g.min(this.Op,t.Op),i=this.Xp(n,l_.sb).Ti,e=t.Xp(n,l_.sb).Ti;return i.compare(e)},i.Kk=function(){return 0===this.Op?c_(this):new n(this.Ti.negate(),this.Op)},i.Hy=function(t){if(0===this.Op||0===t.Op)return f_(this,t);if(this.lp())return t;if(t.lp())return this;var i=g.max(this.Op,t.Op),e=this.Xp(i,l_.sb),r=t.Xp(i,l_.sb);return new n(e.Ti.add(r.Ti),i)},i.Ip=function(t){if(this.$k()||p(t))return n.qp;if(this.tp()||!isFinite(t)){if(this.lp()||0===t)return n.qp;var i=this.Zk()?n.jp:n.Yp;return t<0?i.Kk():i}return this.lp()?this:new n(0===t?vt.ZERO:this.Ti.multiply(t),this.Op)},i.Cp=function(t){if(this.$k()||p(t))return n.qp;if(this.tp())return isFinite(t)?0===t?1/t<0?this.Kk():this:t<0?this.Kk():this:n.qp;if(!isFinite(t))return new n(vt.ZERO,this.Op);if(this.lp())return 0===t?n.qp:new n(vt.ZERO,this.Op);if(0===t){var i=this.Zk()?n.jp:n.Yp;return 1/t<0?i.Kk():i}return new n(this.Ti.divide(t),this.Op)},i.ub=function(){return[this.Ti.low,this.Ti.high,this.Op]},n}(s_);function c_(t){return t.$k()?t:t.Zk()?h_.Yp:h_.jp}function f_(t,n){return t.$k()||n.$k()?h_.qp:t.tp()&&n.tp()?t.Zk()===n.Zk()?t:h_.qp:t.tp()?t:n}h_.ap=new h_(vt.ZERO,1e6),h_.qp=new h_(vt.ZERO,0),h_.Yp=new h_(vt.ONE,0),h_.jp=new h_(vt.NEG_ONE,0);var l_,v_=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ti=void 0,e.Op=void 0,e.Ti=BigInt.asIntN(64,n),e.Op=i>>>0,e}E(n,t),n.Gp=function(t,i){return void 0===i&&(i=1e6),n.sp(t*i,i)},n.sp=function(t,i){return p(t)?n.qp:t===1/0?n.Yp:t===-1/0?n.jp:new n(BigInt(g.floor(t)),i)},n.rp=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Qp=function(t){return n.Gp(t.Fp,1e6)},n.Zp=function(t){return n.sp(t.getTime(),1e3)},n.Mp=function(t,n){return t.Wk(n)?t:n},n.Up=function(t,n){return t.qk(n)?t:n},n.Kp=function(t,i,e){return n.Mp(i,n.Up(e,t))};var i=n.prototype;return i.Zk=function(){return this.Ti<BigInt(0)},i.lp=function(){return 0!==this.Op&&this.Ti===BigInt(0)},i.tp=function(){return 0===this.Op&&this.Ti!==BigInt(0)},i.$k=function(){return 0===this.Op&&this.Ti===BigInt(0)},i.Fk=function(){if(0===this.Op)return this.Ti===BigInt(0)?NaN:this.Ti<BigInt(0)?-1/0:1/0;var t=this.Ti/BigInt(this.Op),n=this.Ti-t*BigInt(this.Op);return Number(t)+Number(n)/this.Op},i._p=function(){if(0===this.Op)throw new l("Failed to convert timestamp");return this.ob()},i.ob=function(){var t=this.Ti&BigInt(4294967295),n=this.Ti>>BigInt(32)&BigInt(4294967295);return vt.fromBits(Number(t),Number(n))},i.Jp=function(){return new Date(0===this.Op?NaN:Number(this.Xp(1e3).Ti))},i.$p=function(){return new a_(0===this.Op?this.Fk():Number(this.Ti),this.Op)},i.Xp=function(t,i){void 0===i&&(i=l_.ib);var e=this.Op;if(e===t)return this;if(0===e)return this;var r=zt(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===l_.ib)return r<BigInt(0)?e-BigInt(1):e;if(i===l_.eb)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this.Ti*BigInt(t/r),BigInt(e/r),i),t)},i.Vk=function(t){if(this===t)return Os.Cs;if(0===this.Op||0===t.Op)return u_(this,t);if(this.lp())return t.lp()?Os.Cs:t.Zk()?Os.Ps:Os.Bs;if(t.lp())return this.Zk()?Os.Bs:Os.Ps;var n=g.min(this.Op,t.Op),i=this.Xp(n,l_.sb).Ti,e=t.Xp(n,l_.sb).Ti;return i>e?Os.Ps:i<e?Os.Bs:Os.Cs},i.Kk=function(){return 0===this.Op?d_(this):new n(-this.Ti,this.Op)},i.Hy=function(t){if(0===this.Op||0===t.Op)return w_(this,t);if(this.lp())return t;if(t.lp())return this;var i=g.max(this.Op,t.Op),e=this.Xp(i,l_.sb),r=t.Xp(i,l_.sb);return new n(e.Ti+r.Ti,i)},i.Ip=function(t){if(this.$k()||p(t))return n.qp;if(this.tp()||!isFinite(t)){if(this.lp()||0===t)return n.qp;var i=this.Zk()?n.jp:n.Yp;return t<0?i.Kk():i}return this.lp()?this:new n(0===t?BigInt(0):this.Ti*BigInt(t),this.Op)},i.Cp=function(t){if(this.$k()||p(t))return n.qp;if(this.tp())return isFinite(t)?0===t?1/t<0?this.Kk():this:t<0?this.Kk():this:n.qp;if(!isFinite(t))return new n(BigInt(0),this.Op);if(this.lp())return 0===t?n.qp:new n(BigInt(0),this.Op);if(0===t){var i=this.Zk()?n.jp:n.Yp;return 1/t<0?i.Kk():i}return new n(this.Ti/BigInt(t),this.Op)},i.ub=function(){var t=this.ob();return[t.low,t.high,this.Op]},T(n,null,[{key:"ap",get:function(){return n.hb||(n.hb=new n(BigInt(0),1e6)),n.hb}},{key:"qp",get:function(){return n.cb||(n.cb=new n(BigInt(0),0)),n.cb}},{key:"Yp",get:function(){return n.fb||(n.fb=new n(BigInt(1),0)),n.fb}},{key:"jp",get:function(){return n.vb||(n.vb=new n(BigInt(-1),0)),n.vb}}]),n}(s_);function d_(t){return t.$k()?t:t.Zk()?v_.Yp:v_.jp}function w_(t,n){return t.$k()||n.$k()?v_.qp:t.tp()&&n.tp()?t.Zk()===n.Zk()?t:v_.qp:t.tp()?t:n}v_.hb=void 0,v_.cb=void 0,v_.fb=void 0,v_.vb=void 0,function(t){t[t.ib=0]="ib",t[t.eb=1]="eb",t[t.sb=2]="sb"}(l_||(l_={}));var g_=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?v_:h_;function m_(t,n){return t.Vk(n)}function y_(t,n){return void 0!==t?void 0!==n?g_.Up(t,n):t:n}var p_=9e4,__=g.pow(2,33),b_=g_.sp(__,p_),k_=b_.Cp(2);var A_,T_,S_,E_,I_,R_={wb:0,_b:1/0,gb:0},C_=6,D_=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],N_=[" ","\t","\n","\f","\r"],P_=/^\d*$/,x_=/.*[0-9]+.*/,B_=/^[\d.-]+$/,O_=/(^\.|\.$)/,L_=/(\D\.|\.\D)/;function M_(t,n){void 0===n&&(n=R_);var i={_g:[],mb:[],yb:[]},e=j_(t),r=new Ko;if(Y_(e),F_(e,function(t){return"\n"!==t},r),r.Lu>=e.length)return i;(r.Mu(1),"\n"!==e.charAt(r.Lu))?z_(U_(e,r,!1,!0,i,n),i):r.Mu(1);for(F_(e,function(t){return"\n"===t},r);r.Lu<e.length;){z_(U_(e,r,!1,!1,i,n),i),F_(e,function(t){return"\n"===t},r)}return i}function j_(t){var n=bs(t,"\0"," "),i=bs(n,"\r\n","\n");return bs(i,"\r","\n")}function F_(t,n,i){for(var e=i.Lu;i.Lu<t.length&&n(t.charAt(i.Lu));)i.Mu(1);return t.substring(e,i.Lu)}function U_(t,n,e,r,s,u){for(var o,a=0,h=n.Lu,c="",f=!1,l=!1,v=null,d=null,w=null;!f;)if(o=F_(t,function(t){return"\n"!==t},n),a++,n.Lu>=t.length?f=!0:n.Mu(1),ks(o,"--\x3e")){if(r||1!==a&&(2!==a||l)){n.Xu(h);break}l=!0,h=n.Lu,v=new Kp(0,0,"",!1,c);try{V_(o,s.mb,v,u),c=""}catch(t){i.Tr(t),v=null}}else{if(""===o)break;r&&As(o,"X-TIMESTAMP-MAP")&&(s.kb=H_(o)),r||2!==a||e||(Ss("STYLE",c.replace(/ /g,""))?(d={_s:xp.Jy},c=""):Ss("REGION",c.replace(/ /g,""))&&(w=new r_("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,h=n.Lu}if(v)return v.vk=c,v;if(d);else if(w)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&ks(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":ub(o,n);break;case"WIDTH":hb(o,n);break;case"LINES":ab(o,n);break;case"REGIONANCHOR":var a=sb(o);a&&(n.Ok=a[0],n.xk=a[1]);break;case"VIEWPORTANCHOR":var h=sb(o);h&&(n.Mk=h[0],n.Uk=h[1]);break;case"SCROLL":ob(o,n)}}}}(c,w),w;return null}function H_(t){var n,i,e=t.split("=")[1].trim().split(","),r=X_(e[0].trim(),"MPEGTS")?e[0]:e[1],s=X_(e[0].trim(),"LOCAL")?e[0]:e[1];return{pb:(i=Number(r.split(/:(.*)/)[1].trim())||0,g_.sp(i,p_)),bb:g_.Gp(null!=(n=G_(s.split(/:(.*)/)[1].trim(),new Ko))?n:0)}}function X_(t,n){return As(t,n)}function z_(t,n){t&&function(t){return t._s===xp.Zy}(t)?n._g.push(t):t&&function(t){return t._s===xp.Ky}(t)?n.mb.push(t):t&&function(t){return t._s===xp.Jy}(t)&&n.yb.push(t)}function V_(t,n,i,e){var r=new Ko;if(Q_(t,r),i.ck=W_(G_(t,r),e),Q_(t,r),"--\x3e"!==t.substring(r.Lu,r.Lu+3))throw l("Something went wrong with parsing a WebVTT Cue");r.Mu(3),Q_(t,r),i.fk=W_(G_(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&ks(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),a=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":nb(a,n,i);break;case"VERTICAL":eb(a,n);break;case"D":rb(a,n);break;case"LINE":case"L":J_(a,n);break;case"POSITION":case"T":tb(a,n);break;case"SIZE":case"S":ib(a,n);break;case"ALIGN":case"A":K_(a,n)}}}}(t.substring(r.Lu,t.length),i,n)}function W_(t,n){return t+n.wb}function q_(t){return/^[0-9]$/.test(t)}function G_(t,n){var i,e,r,s=bs(t,",","."),u=!1;if(n.Lu>=s.length||!q_(s.charAt(n.Lu)))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");var o=F_(s,q_,n),a=m(o,10);if((o.length>2||a>59)&&(u=!0),n.Lu>=s.length||":"!==s.charAt(n.Lu))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");n.Mu(1);var h=F_(s,q_,n);if(2!==h.length)throw new l("Something went wrong with parsing a WebVTT Cue timestamp");var c=m(h,10);if(u||n.Lu<s.length&&":"===s.charAt(n.Lu)){if(n.Lu>=s.length||":"!==s.charAt(n.Lu))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");n.Mu(1);var f=F_(s,q_,n);if(2!==h.length)throw new l("Something went wrong with parsing a WebVTT Cue timestamp");i=a,e=c,r=m(f,10)}else i=0,e=a,r=c;if(n.Lu>=s.length||"."!==s.charAt(n.Lu))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");n.Mu(1);var v=F_(s,q_,n),d=m(v,10);if(c>59||r>59)throw new l("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+d/1e3}function $_(t){return Y_(j_(t))}function Y_(t){if(t.length<C_)return!1;for(var n=0;n<D_.length;n++){if(As(t,D_[n]))return!0}return!1}function Q_(t,n){for(;n.Lu<t.length&&(i=t.charAt(n.Lu),Qs(N_,i));)n.Mu(1);var i}function Z_(t){var n=t.lastIndexOf("%");if(n>-1){var i=y(t.substring(0,n));if(!p(i)&&i>=0&&i<=100)return i}return null}function K_(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.lk=i;break;case"middle":n.lk="center"}}function J_(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),x_.test(i)){var s,u;if(Ts(i,"%")){var o=Z_(i);if(null===o)return;s=o,u=!1}else{if(!B_.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!L_.test(i)||O_.test(i)))return;if(s=y(i),p(s))return;u=!0}switch(n.dk=s,n.pk=u,e=e.toLowerCase()){case"start":case"center":case"end":n.wk=e;break;case"middle":n.wk="center"}}}function tb(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var s=Z_(i);if(null!==s)switch(n._k=s,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.gk=e;break;case"start":n.gk="line-left";break;case"middle":n.gk="center";break;case"end":n.gk="line-right"}}function nb(t,n,i){var e=qs(i,function(n){return n.Y_===t});void 0!==e&&(n.yk=e)}function ib(t,n){var i=Z_(t);null!==i&&(n.xu=i)}function eb(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.bk="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.bk="lr";break;default:n.bk=""}}function rb(t,n){"VERTICAL"===t.toUpperCase()?n.bk="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.bk="lr")}function sb(t){if(t.indexOf(",")>=0){var n=Z_(t.substring(0,t.indexOf(","))),i=Z_(t.substring(t.indexOf(",")+1,t.length));return[Ft(n||0,0,100),Ft(i||100,0,100)]}return null}function ub(t,n){n.Y_=t}function ob(t,n){"up"===t.toLowerCase()&&(n.Lk="up")}function ab(t,n){P_.test(t)&&(n.Bk=m(t))}function hb(t,n){var i=Z_(t);null!==i&&(n.Xk=i)}!function(t){t.Ab="moov",t.Tb="mvhd",t.Sb="trak",t.Eb="tkhd",t.Ib="mdia",t.Rb="mdhd",t.Db="hdlr",t.Nb="minf",t.Cb="stbl",t.Pb="stsd",t.Bb="stsc",t.Ob="mvex",t.xb="trex",t.Lb="avc1",t.Mb="avcC",t.Ub="hev1",t.Xb="hvc1",t.Hb="hvcC",t.Fb="vp09",t.zb="vpcC",t.Vb="av01",t.Wb="av1C",t.Gb="colr",t.qb="pasp",t.Yb="mp4a",t.jb="esds",t.Qb="wvtt",t.Zb="vttC",t.Kb="vlab",t.Jb="enca",t.$b="encv",t.tA="moof",t.nA="mfhd",t.iA="traf",t.eA="tfhd",t.rA="trun",t.sA="tfdt",t.uA="senc",t.oA="mdat",t.aA="pssh",t.hA="emsg",t.cA="sidx",t.fA="styp",t.vA="ftyp",t.lA="sinf",t.dA="frma"}(A_||(A_={})),function(t){t.Pd="vide",t.Cd="soun",t.wA="subt",t._A="hint",t.gA="meta",t.mA="auxv"}(T_||(T_={})),function(t){t.ON_SCREEN_COLOURS="nclx",t.RESTRICTED_ICC_PROFILE="rICC",t.UNRESTRICED_ICC_PROFILE="prof"}(S_||(S_={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(E_||(E_={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(I_||(I_={}));var cb=function(){function t(t,n){this.zi=void 0,this.yA=void 0,this.zi=t,this.yA=n}var n=t.prototype;return n.kA=function(){return lo(this.zi,this.yA)},n.pA=function(){return po(this.zi,this.yA)},n.bA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Lu,i);return n.Mu(2),e}(this.zi,this.yA)},n.AA=function(){return bo(this.zi,this.yA)},n.TA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Lu,i);return n.Mu(4),e}(this.zi,this.yA)},n.SA=function(){return Ao(this.zi,this.yA)},n.EA=function(t){return wo(this.zi,this.yA,t)},n.IA=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(bo(t,n));return e}(this.zi,this.yA,t)},n.RA=function(t){return So(this.zi,this.yA,t)},n.DA=function(){return Fo(this.zi,this.yA)},n.NA=function(t){this.yA.Mu(t)},n.Hu=function(){return new t(this.zi,this.yA.Hu())},t}();function fb(t,n){return t._s===n}function lb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(fb(e,n))return e}}var vb=function(t){function n(n,i){var e;return(e=t.call(this)||this).CA=n,e.PA=i,e}return E(n,t),T(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(nn),db=function(){function t(){}return t.BA=function(n){var i=n.zi,e=n.yA,r=t.OA(i,e,!1);if(!r.xA)throw new vb(e.Lu,r.Bi);return r.Bi},t.OA=function(n,i,e){for(var r=[];i.Lu<n.byteLength;){var s=t.LA(n,i,e);if(!s.xA)return{xA:!1,Bi:r};r.push(s.MA)}return{xA:!0,Bi:r}},t.UA=function(n,i){var e=t.LA(n,i,!1);if(!e.xA)throw new vb(i.Lu);return e.MA},t.XA=function(n,i){for(var e=n.zi,r=n.yA;r.Lu<e.byteLength;){var s=t.LA(e,r,!1);if(!s.xA)return;if(s.MA._s===i)return s.MA}},t.LA=function(n,i,e){var r=i.Lu,s=t.HA(n,i);if(!s.xA)return s;var u=s.FA,o=u.xu;if(0===o){if(e)return i.Xu(r),{xA:!1,zA:1/0};o=n.byteLength-r}var a=r+o;if(a>n.byteLength){var h=a;return i.Xu(r),{xA:!1,zA:h}}var c={_s:u._s,Lu:r,zi:new cb(Vo(n,r,a),new Ko(u.VA))};return i.Xu(a),{xA:!0,MA:c}},t.HA=function(t,n){var i=n.Lu;if(!mo(t,n,8))return{xA:!1,zA:n.Lu+8};var e=bo(t,n),r=So(t,n,4);if(1===e){if(!mo(t,n,8)){var s=n.Lu+8;return n.Xu(i),{xA:!1,zA:s}}e=Ao(t,n).toNumber()}if("uuid"===r){if(!mo(t,n,16)){var u=n.Lu+16;return n.Xu(i),{xA:!1,zA:u}}r=So(t,n,16)}return{xA:!0,FA:{_s:r,xu:e,VA:n.Lu-i}}},t.WA=function(t,n,i){var e=t.zi,r=t.yA,s=zo(qo(e),r.Lu,e.byteLength);return i&&(s=Qo(s)),r.Mu(s.byteLength),{_s:n,zi:s}},t.GA=function(n,i,e){var r=yb(n.AA());return{_s:i,qA:r.version,YA:r.flags,zi:t.WA(n,i,e).zi}},t}();function wb(t,n){var i=gb(t,n);if(!i)throw new l("Missing "+n+" atom");return i}function gb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e._s===n)return e.zi}}function mb(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r._s===n&&i.push(r.zi)}return i}function yb(t){return{version:t>>24,flags:new ho(16777215&t)}}var pb=function(){function t(){}return t.jA=function(n){for(var i=[],e=db.BA(new cb(n,new Ko)),r=0;r<e.length;r++){var s=e[r],u=t.QA(s);u&&i.push(u)}return i},t.ZA=function(t){return db.OA(t,new Ko,!1).Bi.some(this.KA)},t.JA=function(n){return mb(db.BA(new cb(n,new Ko)),A_.aA).map(t.$A)},t.tT=function(n){return mb(db.BA(n.zi),A_.aA).map(t.$A)},t.KA=function(t){return t._s===A_.vA||t._s===A_.fA||t._s===A_.Ab||t._s===A_.tA||t._s===A_.oA||t._s===A_.cA||t._s===A_.hA},t.QA=function(n){switch(n._s){case A_.Ab:return t.nT(n.zi);case A_.tA:return t.iT(n.zi,n.Lu);case A_.oA:return t.eT(n.zi);case A_.cA:return t.rT(n.zi);case A_.hA:return t.sT(n.zi)}},t.nT=function(n){var i=db.BA(n),e=wb(i,A_.Tb),r=mb(i,A_.Sb),s=gb(i,A_.Ob),u=t.uT(e),o=r.map(t.oT),a=s?t.aT(s):void 0;return{_s:A_.Ab,FA:u,hT:o,cT:a}},t.uT=function(t){var n=yb(t.AA()),i=n.version,e=n.flags,r=1===i?t.SA():t.AA(),s=1===i?t.SA():t.AA(),u=t.AA(),o=1===i?t.SA():t.AA(),a=t.AA(),h=t.pA()>>8;t.NA(2),t.NA(8);var c=t.IA(9);t.NA(24);var f=t.AA();return{_s:A_.Tb,qA:i,YA:e,fT:r,vT:s,Op:u,nm:o,lT:a,wm:h,dT:c,wT:f}},t.oT=function(n){var i=db.BA(n),e=wb(i,A_.Eb),r=wb(i,A_.Ib),s=t._T(e),u=t.gT(r);return{_s:A_.Sb,FA:s,mT:u}},t._T=function(t){var n=yb(t.AA()),i=n.version,e=n.flags,r=1===i?t.SA():t.AA(),s=1===i?t.SA():t.AA(),u=t.AA();t.NA(4);var o=1===i?t.SA():t.AA();t.NA(8);var a=t.bA(),h=t.bA(),c=t.bA()/g.pow(2,8);t.NA(2);var f=t.IA(9),l=t.AA()/g.pow(2,16),v=t.AA()/g.pow(2,16);return{_s:A_.Eb,yT:e.Vu(1),kT:e.Vu(2),pT:e.Vu(4),fT:r,vT:s,bT:u,nm:o,AT:a,TT:h,wm:c,dT:f,Xk:l,ST:v}},t.gT=function(n){var i=db.BA(n),e=wb(i,A_.Rb),r=wb(i,A_.Db),s=wb(i,A_.Nb),u=t.ET(e),o=t.IT(r),a=t.RT(s);return{_s:A_.Ib,FA:u,DT:o,NT:a}},t.ET=function(t){var n=yb(t.AA()),i=n.version,e=n.flags,r=1===i?t.SA():t.AA(),s=1===i?t.SA():t.AA(),u=t.AA(),o=1===i?t.SA():t.AA();return t.pA(),t.NA(2),{_s:A_.Rb,qA:i,YA:e,fT:r,vT:s,Op:u,nm:o}},t.IT=function(t){var n=yb(t.AA()),i=n.version,e=n.flags;t.NA(4);var r=t.RA(4);t.NA(12);var s=t.DA();return{_s:A_.Db,qA:i,YA:e,CT:r,_i:s}},t.RT=function(n){var i=wb(db.BA(n),A_.Cb),e=t.PT(i);return{_s:A_.Nb,BT:e}},t.PT=function(n){var i=wb(db.BA(n),A_.Pb),e=t.OT(i);return{_s:A_.Cb,xT:e}},t.OT=function(n){var i=yb(n.AA()),e=i.version,r=i.flags;n.AA();for(var s=[],u=db.BA(n),o=0;o<u.length;o++){var a=u[o],h=t.LT(a.zi,a._s);h&&s.push(h)}return{_s:A_.Pb,qA:e,YA:r,MT:s}},t.LT=function(n,i){var e=t.UT(n,i);return e||((e=t.XT(n,i))||(i===A_.Qb?t.HT(n):void 0))},t.UT=function(n,i){return i===A_.Yb?t.FT(n):i===A_.Jb?t.zT(n):void 0},t.XT=function(n,i){return i===A_.Lb?t.VT(n):i===A_.Ub||i===A_.Xb?t.WT(n,i):i===A_.Fb?t.GT(n,i):i===A_.Vb?t.qT(n,i):i===A_.$b?t.YT(n):void 0},t.jT=function(t,n){return t.NA(6),{_s:n,QT:t.pA()}},t.ZT=function(n,i){var e=t.jT(n,i);n.NA(8);var r=n.pA(),s=n.pA();return n.NA(2),n.NA(2),Ur({},e,{KT:r,JT:s,$T:n.AA()>>>16})},t.tS=function(n,i){var e=t.jT(n,i);n.NA(2),n.NA(2),n.NA(12);var r=n.pA(),s=n.pA(),u=n.AA(),o=n.AA();n.NA(4);var a=n.pA();n.NA(32);var h=n.pA();return n.NA(2),Ur({},e,{Xk:r,ST:s,nS:u,iS:o,eS:a,rS:h})},t.FT=function(n){var i=t.ZT(n,A_.Yb),e=wb(db.BA(n),A_.jb);return Ur({},i,{sS:t.uS(e)})},t.HT=function(n){var i=t.jT(n,A_.Qb),e=db.BA(n),r=wb(e,A_.Zb),s=t.oS(r),u=gb(e,A_.Kb);return Ur({},i,{aS:s,hS:u?t.cS(u):u})},t.oS=function(t){return{_s:A_.Zb,cc:t.DA()}},t.cS=function(t){return{_s:A_.Kb,Z_:t.DA()}},t.uS=function(t){return db.GA(t,A_.jb,!0)},t.VT=function(n){var i=t.tS(n,A_.Lb),e=db.BA(n),r=wb(e,A_.Mb),s=gb(e,A_.qb);return Ur({},i,{fS:t.vS(r),lS:s?t.dS(s):void 0})},t.WT=function(n,i){var e=t.tS(n,i),r=wb(db.BA(n),A_.Hb);return Ur({},e,{wS:t._S(r)})},t.GT=function(n,i){var e=t.tS(n,i),r=wb(db.BA(n),A_.zb);return Ur({},e,{gS:t.mS(r)})},t.qT=function(n,i){var e=t.tS(n,i),r=db.BA(n),s=wb(r,A_.Wb),u=t.yS(s),o=gb(r,A_.Gb);return Ur({},e,{kS:u,pS:o?t.bS(o):void 0})},t.YT=function(n){var i=n.Hu(),e=t.tS(n,A_.$b),r=wb(db.BA(n),A_.lA),s=t.AS(r);return Ur({},e,{TS:t.XT(i,s.ES.SS),IS:s})},t.zT=function(n){var i=n.Hu(),e=t.ZT(n,A_.Jb),r=wb(db.BA(n),A_.lA),s=t.AS(r);return Ur({},e,{TS:t.UT(i,s.ES.SS),IS:s})},t.AS=function(n){var i=wb(db.BA(n),A_.dA),e=t.RS(i);return{_s:A_.lA,ES:e}},t.RS=function(t){var n=t.RA(4);return{_s:A_.dA,SS:n}},t.vS=function(t){return db.WA(t,A_.Mb,!0)},t._S=function(t){return db.WA(t,A_.Hb,!0)},t.mS=function(t){return db.WA(t,A_.zb,!0)},t.yS=function(t){return db.WA(t,A_.Wb,!0)},t.bS=function(t){var n=t.RA(4);switch(n){case"nclx":return{DS:S_.ON_SCREEN_COLOURS,NS:t.pA(),CS:t.pA(),PS:t.pA(),OS:0!=(128&t.kA())};case"rICC":return{DS:S_.RESTRICTED_ICC_PROFILE};case"prof":return{DS:S_.UNRESTRICED_ICC_PROFILE};default:throw l("Could not parse ColourInformationBox: unknown type '"+n+"'.")}},t.dS=function(t){var n=t.AA(),i=t.AA();return{_s:A_.qb,xS:n,LS:i}},t.aT=function(n){var i=mb(db.BA(n),A_.xb).map(t.MS);return{_s:A_.Ob,hT:i}},t.MS=function(t){var n=yb(t.AA()),i=n.version,e=n.flags,r=t.AA(),s=t.AA(),u=t.AA(),o=t.AA(),a=t.AA();return{_s:A_.xb,qA:i,YA:e,bT:r,US:s,XS:u,HS:o,FS:a}},t.iT=function(n,i){var e=db.BA(n),r=wb(e,A_.nA),s=mb(e,A_.iA),u=t.zS(r),o=s.map(t.VS);return{_s:A_.tA,WS:i,FA:u,hT:o}},t.zS=function(t){var n=yb(t.AA()),i=n.version,e=n.flags,r=t.AA();return{_s:A_.nA,qA:i,YA:e,GS:r}},t.VS=function(n){var i=db.BA(n),e=wb(i,A_.eA),r=mb(i,A_.rA),s=gb(i,A_.sA),u=t.qS(e),o=r.map(function(n){return t.YS(n,u)}),a=s?t.jS(s):void 0;return{_s:A_.iA,FA:u,QS:o,ZS:a}},t.qS=function(t){var n=yb(t.AA()),i=n.version,e=n.flags,r=t.AA(),s=e.Vu(E_.BASE_DATA_OFFSET_PRESENT)?t.SA():void 0,u=e.Vu(E_.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.AA():void 0,o=e.Vu(E_.DEFAULT_SAMPLE_DURATION_PRESENT)?t.AA():void 0,a=e.Vu(E_.DEFAULT_SAMPLE_SIZE_PRESENT)?t.AA():void 0,h=e.Vu(E_.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.AA():void 0;return{_s:A_.eA,qA:i,YA:e,bT:r,KS:s,JS:u,XS:o,HS:a,FS:h}},t.YS=function(n,i){for(var e=yb(n.AA()),r=e.version,s=e.flags,u=n.AA(),o=s.Vu(I_.DATA_OFFSET_PRESENT)?n.TA():void 0,a=s.Vu(I_.FIRST_SAMPLE_FLAGS_PRESENT)?n.AA():void 0,h=[],c=0;c<u;c++){var f=t.$S(n,s,r,i);0===c&&void 0!==a&&(f.YA=a),h.push(f)}return{_s:A_.rA,qA:r,YA:s,tE:u,WS:o,nE:a,iE:h}},t.$S=function(t,n,i,e){return{nm:n.Vu(I_.SAMPLE_DURATION_PRESENT)?t.AA():e.XS,xu:n.Vu(I_.SAMPLE_SIZE_PRESENT)?t.AA():e.HS,YA:n.Vu(I_.SAMPLE_FLAGS_PRESENT)?t.AA():e.FS,eE:n.Vu(I_.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.AA():t.TA():void 0}},t.sT=function(t){var n=t.zi,i=t.yA,e=yb(bo(n,i)),r=e.version,s=e.flags;if(1===r){var u=bo(n,i),o=Ao(n,i),a=bo(n,i),h=bo(n,i),c=To(n,i),f=To(n,i),l=Yo(qo(n),i.Lu,n.byteLength);return i.Mu(l.byteLength),{_s:A_.hA,qA:r,YA:s,rE:c,Ti:f,Op:u,sE:o,uE:a,Y_:h,oE:l}}var v=To(n,i),d=To(n,i),w=bo(n,i),g=bo(n,i),m=bo(n,i),y=bo(n,i),p=Yo(qo(n),i.Lu,n.byteLength);return i.Mu(p.byteLength),{_s:A_.hA,YA:s,qA:r,rE:v,Ti:d,Op:w,aE:g,uE:m,Y_:y,oE:p}},t.eT=function(t){return db.WA(t,A_.oA,!1)},t.$A=function(n){var i=n.zi,e=n.yA,r=Qo(qo(i)).buffer,s=yb(bo(i,e)),u=s.version,o=s.flags,a=t.hE(i,e),h=[];if(u>0)for(var c=bo(i,e),f=0;f<c;f++){var l=wo(i,e,16);h.push(l)}var v=bo(i,e),d=new _(r,e.Lu,v);return e.Mu(i.byteLength),{_s:A_.aA,qA:u,YA:o,cE:a,fE:h,vE:v,zi:d,lE:r}},t.hE=function(t,n){for(var i="",e=0;e<4;e++){var r=lo(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=lo(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var a=lo(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var h=0;h<2;h++){var c=lo(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var l=lo(t,n).toString(16);i+=1===l.length?"0"+l:l}return i.toLowerCase()},t.rT=function(t){var n,i,e=t.zi,r=t.yA,s=yb(bo(e,r)),u=s.version,o=s.flags,a=bo(e,r),h=bo(e,r);0===u?(n=vt.fromBits(bo(e,r),0,!0),i=vt.fromBits(bo(e,r),0,!0)):(n=Ao(e,r),i=Ao(e,r)),r.Mu(2);for(var c=po(e,r),f=[],l=0;l<c;l+=1){var v=bo(e,r),d=v>>31&1,w=2147483647&v,g=bo(e,r),m=bo(e,r),y=m>>31&1,p=m>>28&7,_=268435455&m;f.push({dE:d,wE:w,nm:g,_E:y,gE:p,mE:_})}return{_s:A_.cA,qA:u,YA:o,yE:a,Op:h,kE:n,pE:i,bE:c,AE:f}},t.jS=function(t){var n,i=t.zi,e=t.yA,r=yb(bo(i,e)),s=r.version,u=r.flags;return n=0===s?vt.fromBits(bo(i,e),0,!0):Ao(i,e),{_s:A_.sA,qA:s,YA:u,ZS:n}},t}();function _b(t){return t&&"Pi"in t?t.Pi:t}var bb=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this,n,i,e,r)||this).TE=void 0,a.SE=void 0,a.EE=void 0,a.TE=s,a.SE=u,a.EE=o||void 0,a}return E(n,t),n.prototype.Nk=function(n){return this===n||!!Sm(this,n)&&(!!t.prototype.Nk.call(this,n)&&(!!Tm(this.IE,n.IE)&&(!!Tm(this.mb,n.mb)&&(this.RE&&n.RE?!!this.RE.ci(n.RE)&&(this.vk&&n.vk?this.vk.ci(n.vk):this.vk===n.vk):this.RE===n.RE))))},T(n,[{key:"IE",get:function(){return this.TE}},{key:"mb",get:function(){return this.SE}},{key:"RE",get:function(){return this.EE}},{key:"o_",get:function(){var t;return this.u_||(this.u_=km(zp(t=this),{get styles(){return t.IE},get regions(){return t.mb},get metadata(){return _b(t.RE)},get content(){return _b(t.vk)}})),this.u_}}]),n}(Qp),kb=function(){function t(t,n,i){this.Tl=void 0,this.DE=void 0,this.NE=void 0,this.DE=t,this.NE=n,Zt(i)?this.Tl=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.Li(s)}return i}(0,0,i):this.Tl=i}return T(t,[{key:"CE",get:function(){return this.Tl.di(!0)}},{key:"ck",get:function(){return this.DE}},{key:"fk",get:function(){return this.NE}}]),t}();var Ab="http://www.w3.org/XML/1998/namespace";function Tb(t,n,i,e){var r=t.Ni(i,n);return 0===r.length&&(r=t.Ii(e+":"+n)),r}function Sb(t,n){return function(t,n){var i=t.Bi.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Bi)}return e}(t,function(t){return t.Di===n})}function Eb(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function Ib(t,n){for(var i=t.Hi,e={},r=0;r<i.length;r++)e[Eb(i[r]._i,n)]=i[r].Ti;return e}var Rb=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Cb=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Db="http://www.w3.org/ns/ttml";function Nb(t,n,i,e){void 0===i&&(i=R_),void 0===e&&(e=Fc.APPLICATION_TTML_XML);var r=[],s=Wo(t);return e===Fc.APPLICATION_MP4?r=function(t,n,i){var e=lb(pb.jA(t),A_.oA);if(!e)return[];return Bb(Wo(e.zi),n,i)}(s,n,i):e===Fc.APPLICATION_TTML_XML&&(r=Bb(s,n,i)),r}function Pb(t,n,i){return void 0===i&&(i=R_),Ob(t,n,i)}function xb(t,n){for(var i=function t(n){var i=[];var e;if(Zt(n)){(e=n.Oi("region"))&&i.push(e);for(var r=n.Ri,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.CE),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function Bb(t,n,i){return Ob(Xo(t,new Ko),n,i)}function Ob(t,n,e){var r,s=[];try{r=i.oi(t)}catch(t){return s}var u=r.Vi;if("tt"!==u.wi)return s;var o=u&&u.Ni(Db,"head")[0],a=u&&u.Ni(Db,"body")[0],h=["ebutts","tts","xml"];if(!a||!o)return s;for(var c=function(t,n){for(var i={},e=t.Ni(Db,"styling")[0],r=e&&e.Ni(Db,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.xi(Ab,"id");i[o]=Ib(u,n)}return i}(o,h),f=function(t,n){var i=Am(t),e=jb(n.Oi("tts:extent"));if(!e)return i;for(var r=0,s=w.keys(i);r<s.length;r++){var u=s[r],o=jb(i[u].extent);if(o){var a=Lb(o[0],e[0]),h=Lb(o[1],e[1]);i[u].extent=a+" "+h}var c=jb(i[u].origin);if(c){var f=Lb(c[0],e[0]),l=Lb(c[1],e[1]);i[u].origin=f+" "+l}}return i}(function(t,n){for(var i={},e=t.Ni(Db,"layout")[0],r=e&&e.Ni(Db,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.xi(Ab,"id");if(o){i[o]=Ib(u,n);var a=Hb(u,n);for(var h in a)F.call(a,h)&&(i[o][h]=a[h])}}return i}(o,h),u),l=o.Ni(Db,"metadata")[0],v=function t(n,i,e,r){var s=i;var u;var o=e;var a=[];var h=[];if(Zt(n)){var c,f;s=null!=(c=Ub(n.Oi("begin"),r))?c:s,u=Ub(n.Oi("dur"),0),o=null!=(f=Ub(n.Oi("end"),r))?f:void 0!==u?s+u:o;for(var l=n.Ri,v=0;v<l.length;v++)("body"===n.wi||"div"===n.wi)&&l[v].Jn>1||(a=a.concat(t(l[v],s,o,r)))}var d=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.ck,s.fk)}e.sort(Xs);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(Ys(e,o+1),o--,u=e.length);return e}(s,o,a);for(var w=0;w<d.length-1;w++){var g=Fb(d[w],d[w+1],a);if(g.length<=0&&Xb(n)){var m=n.di(!1);h.push(new kb(d[w],d[w+1],m))}else g.length>0&&function(){var t=n.di(!1);g.forEach(function(n){return t.Ci(n.CE)}),h.push(new kb(d[w],d[w+1],t))}()}return h}(a,e.wb,e._b,e.gb),d=0;d<v.length;d++){var g=v[d],m=xb(f,g);s.push(new bb(g.ck,g.fk,g.CE,!1,c,m,l))}return s}function Lb(t,n){var i=Mb(t),e=Mb(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return p(r)||p(s)?t:r/s*100+"%"}return t}function Mb(t){return Ts(t,"px")?"px":Ts(t,"em")?"em":Ts(t,"c")?"c":Ts(t,"%")?"%":void 0}function jb(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Fb(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].ck,u=i[r].fk;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function Ub(t,n){if(t){if(Rb.test(t)){var i=Rb.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*g.pow(.1,u.length):0)+n}if(Cb.test(t)){var o=Cb.exec(t);if(!o)return;var a,h=Number(o[1]);switch(o[4]){case"h":a=3600*h;break;case"m":a=60*h;break;case"s":a=h;break;case"ms":a=.001*h;break;case"f":case"t":default:a=NaN}return a+n}}}function Hb(t,n){for(var i={},e=t.Ii("style")||[],r=0;r<e.length;r++){var s=Ib(e[r],n);for(var u in s)F.call(s,u)&&(i[u]=s[u])}return i}function Xb(t){if(Zt(t)){var n=t.wi.toUpperCase(),i=Boolean(t.Oi("smpte:backgroundImage"));return"BR"===n||i}return t.Jn===$t.ni}function zb(t){var n=function(t){try{return i.oi(t).Vi}catch(t){}}(t);return"tt"===(null==n?void 0:n.wi)}var Vb,Wb=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.B_=function(n){return t.prototype.B_.call(this,n)},i.O_=function(n){var i=t.prototype.O_.call(this,n);return i&&(n.fg=Fm.rg),i},i.a_=function(){return qm(this)},n}(wm);!function(t){t.wA="subtitles",t.PE="captions",t.BE="descriptions",t.OE="chapters",t.gA="metadata",t.xE="thumbnails"}(Vb||(Vb={}));var qb=[Vb.wA,Vb.PE,Vb.BE,Vb.OE,Vb.gA,Vb.xE];function Gb(t){return"string"==typeof t&&Qs(qb,t)}var $b,Yb=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return E(n,t),n}(ff);function Qb(t){return t instanceof Sw}function Zb(t){return t instanceof Iw}function Kb(t){return t===Vb.wA||t===Vb.PE}function Jb(t){return ks(t,$b.LE)}function tk(t){return t.some(nk)}function nk(t){return ks(t,$b.ME)||ks(t,$b.Qb)}function ik(t,n){return Uc(t)&&tk(n)}function ek(t,n){return!!t&&(Uc(t)?function(t){return t.some(Jb)}(n)||tk(n):ks(t,Fc.APPLICATION_TTML_XML)||ks(t,Fc.TEXT_VTT)||ks(t,Fc.IMAGE_JPEG))}function rk(t,n){return t===Vb.xE||t===Vb.gA&&n===Vb.xE}function sk(t,n,i,e){for(var r=0,s=t._g.L_;r<s.length;r++){var u=s[r];if(u.ck>i)break;n<=u.fk&&e.push(u)}}function uk(t,n){return Hs(t.j_,n.j_)}function ok(t,i){var e=i,r=0;if(Qb(t)&&t.name===bw.jd)e=t.ld.wd;else if(Zb(t)){var s=t.$d;if(e=s.dd,0===(r=s.ud))return new Yb(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Yb(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function ak(t,i,e,r){var s=function(t){switch(t){case Pp.WEBVTT:return"WebVTT";case Pp.SRT:return"SRT";case Pp.TTML:return"TTML";default:return""}}(t);return new Yb(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function hk(t){return $_(t)?Pp.WEBVTT:zb(t)?Pp.TTML:Pp.SRT}function ck(t,n){for(var i=[],e=0,r=t._g.L_;e<r.length;e++){var s=r[e];if(s.fk<=n)i.push(s);else if(s.ck>=n)break}for(var u=0;u<i.length;u++){var o=i[u];t.UE(o)}}!function(t){t.ME="vtt",t.Qb="wvtt",t.LE="stpp"}($b||($b={}));var fk=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).hT=new Wb,n.XE=function(t){var i=t.h_;n.HE(i)},n}E(n,t);var i=n.prototype;return i.B_=function(t){t.tu(am.k_,this.XE),this.hT.B_(t),this.HE(t)},i.O_=function(t){t.au(am.k_,this.XE),t.fg=Fm.rg,this.hT.O_(t)},i.FE=function(t){},i.zE=function(t){},i.HE=function(t){t.fg!==Fm.rg?this.FE(t):this.zE(t)},i.VE=function(){for(var t=0,n=this.hT.L_;t<n.length;t++){var i=n[t];i.au(am.k_,this.XE),i.$c()}},i.WE=function(t){if(t>0)for(var n=0,i=this.hT.L_;n<i.length;n++){ck(i[n],t)}},i.wc=function(){return this.VE(),this.hT.wc(),qe.resolve()},i.$c=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ou(),t.next=3,Fr.awrap(this.wc());case 3:this.hT.$c();case 4:case"end":return t.stop()}},null,this,null,qe)},n}(Tu),lk=function(t){function n(n){var i;return(i=t.call(this,Um.hg)||this).errorObject=n,i}return E(n,t),n.prototype.a_=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(um),vk=function(t){function n(n,i){var e;return(e=t.call(this)||this).GE=void 0,e.qE=void 0,e.YE=new ou,e.GE=n,e.qE=i,e}E(n,t);var i=n.prototype;return i.jE=function(t){if(t.src){var n=t.kind||Vb.wA,i=this.GE.QE(n,t.id,t.label,t.srclang,t.default);return i.yg=_w(t.src),this.B_(i),i}},i.ZE=function(t,n){var i,e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return t.wg=Np.LOADING,i=new gw({wd:t.yg,hd:Of.ni,Od:fw.GET,js:n}),l.prev=2,l.next=5,Fr.awrap(this.qE.ld(i));case 5:return s=l.sent,r=s.ud,l.next=9,Fr.awrap(s.Fl());case 9:e=l.sent,l.next=18;break;case 12:return l.prev=12,l.t0=l.catch(2),fu(l.t0),t.wg=Np.ERROR,t.$s(new lk(ok(l.t0,t.yg))),l.abrupt("return");case 18:for(l.prev=18,u=hk(e),t._s=u,o=[],u===Pp.WEBVTT||u===Pp.SRT?(a=M_(e),o=a._g):u===Pp.TTML&&(o=Pb(e,t)),h=0,c=o;h<c.length;h++)f=c[h],t.KE(f);l.next=32;break;case 26:return l.prev=26,l.t1=l.catch(18),fu(l.t1),t.wg=Np.ERROR,t.$s(new lk(ak(t._s,t.yg,r,l.t1))),l.abrupt("return");case 32:t.wg=Np.LOADED;case 33:case"end":return l.stop()}},null,this,[[2,12],[18,26]],qe)},i.FE=function(t){Qs(this.hT.L_,t)&&t.wg===Np.NONE&&this.ZE(t,this.YE.js).catch(lu)},i.Jh=function(){},i.wc=function(){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.YE.Gs(),this.YE=new ou,n=0,i=this.hT.L_;n<i.length;n++)e=i[n],this.GE.JE(e);return r.next=5,Fr.awrap(t.prototype.wc.call(this));case 5:case"end":return r.stop()}},null,this,null,qe)},n}(fk);function dk(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.Q_===n&&e.$E)return e}}function wk(t,n){gk(dk(t.L_,n))}function gk(t){void 0!==t&&(t.fg=Fm.ag)}function mk(t,n){gk(dk(t.L_,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.Q_===n)return e}}(t.L_,n))}function yk(t){for(var n=0;n<qb.length;n++){var i=qb[n];i===Vb.OE?mk(t,i):wk(t,i)}}var pk,_k=function(t){function n(){return t.call(this,Bf.qf)||this}return E(n,t),n}(Eu);!function(t){t[t.tI=0]="tI",t[t.nI=1]="nI"}(pk||(pk={}));var bk=t,kk=bk.MediaSource,Ak=bk.WebKitMediaSource,Tk=bk.TextTrack,Sk=s&&s.createElement("video");s&&s.documentElement.style;var Ek=j.Yt&&j.Ln&&j.Mn<=26;j.wn;var Ik=!(!kk&&!Ak),Rk=!!Tk;s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||j.cn,j.Pn&&j.Bn,Sk&&Sk.canPlayType&&(""!==Sk.canPlayType("application/vnd.apple.mpegURL")||j.Zt&&!j.Pn&&j.Kt);Sk&&Sk.canPlayType&&Sk.canPlayType("video/mp4");var Ck=Ik&&!j.On&&!j.Dn&&!j.Rn&&((kk||Ak).isTypeSupported?(kk||Ak).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Sk&&Sk.canPlayType&&""!==Sk.canPlayType('audio/mp4; codecs="mp4a.40.34"'));Ik&&!j.On&&(Ck||((kk||Ak).isTypeSupported?(kk||Ak).isTypeSupported("audio/mpeg"):Sk&&Sk.canPlayType&&Sk.canPlayType("audio/mpeg"))),Ik&&(!j.Cn||!j.Yt)&&(kk||Ak).isTypeSupported&&(kk||Ak).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),j.On||j.Dn||j.Rn,j.Nn,j.On,j.Dn&&j.jt&&j.Qt;try{r&&r.top!==r.self}catch(t){!0}var Dk=function(t){function n(n){var i;return(i=t.call(this,Ay.Jg)||this).currentTime=n,i}return E(n,t),n}(Eu),Nk=function(t){function n(n){var i;return(i=t.call(this,Ay.$g)||this).currentTime=n,i}return E(n,t),n}(Eu),Pk=[Ay.b_,Ay.$g,Bf.zf,Bf.Ff],xk=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).iI=sy.Vg,e.eI=!0,e.rI=!1,e.sI=!1,e.uI=function(t){var n=e.oI.wg;n!==e.iI&&e.$s(new Fy(t.currentTime,n)),n===sy.Vg&&(e.rI=!1,e.sI=!1),e.aI(n),e.hI(n),e.cI(n),e.maybeDispatchCanPlayThroughEvent(n),e.fI(n),e.vI(n),e.iI=n},e.lI=function(){e.vI(e.iI),e.fI(e.iI),e.eI=e.oI.cm},e.dI=function(){e.eI=e.oI.cm},e.wI=function(t){e.$s(new Nk(t.currentTime))},e.oI=n,e._I=i,e.oI.tu(Ay.b_,e.uI),e.oI.tu(Bf.zf,e.lI),e.oI.tu(Bf.Ff,e.dI),e._I&&e.oI.tu(Ay.$g,e.wI),e}E(n,t);var i=n.prototype;return i.aI=function(t){!this.sI&&t>=sy.Wg&&(this.sI=!0,this.$s(new Ry(this.oI.tm,t)))},i.hI=function(t){!this.rI&&t>=sy.Gg&&(this.rI=!0,this.$s(new xy(this.oI.tm,t)))},i.fI=function(t){this._I||(t>=sy.qg&&this.iI<sy.qg&&!this.oI.cm||this.gI&&t>=sy.qg)&&this.$s(new Nk(this.oI.tm))},i.vI=function(t){!this.mI(t)||this.oI.im||this.oI.Au||this.$s(new Dk(this.oI.tm))},i.cI=function(t){this.iI<=sy.Gg&&t>=sy.qg&&this.$s(new My(this.oI.tm,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===sy.Yg&&this.$s(new jy(this.oI.tm,t))},i.mI=function(t){var n=!this.oI.cm&&t<=sy.Gg,i=!this.eI&&this.iI<=sy.Gg;return n&&!i},i.wc=function(){this.iI=sy.Vg,this.eI=!0,this.rI=!1,this.sI=!1},i.$c=function(){this.ou(),this._I&&this.oI.au(Ay.$g,this.wI),this.oI.au(Bf.zf,this.lI),this.oI.au(Bf.Ff,this.dI),this.oI.au(Ay.b_,this.uI)},T(n,[{key:"gI",get:function(){return!this.oI.cm&&this.eI}}]),n}(Tu),Bk=function(t){function n(n){var i;return(i=t.call(this)||this).oI=n,i.oI.tu(Pk,i.Js),i}return E(n,t),n.prototype.Xs=function(){this.ou(),this.oI.au(Pk,this.Js)},T(n,[{key:"tm",get:function(){return this.oI.tm}},{key:"im",get:function(){return this.oI.im}},{key:"Au",get:function(){return this.oI.Au}},{key:"cm",get:function(){return this.oI.cm}},{key:"wg",get:function(){return this.oI.wg}}]),n}(Tu),Ok="titanium",Lk="conax",Mk="ezdrm",jk="irdeto",Fk="vudrm",Uk="verimatrix",Hk="keyos",Xk="drmtoday",zk="expressplay",Vk="azure",Wk="xstream",qk="vimond",Gk="axinom",$k="uplynk",Yk="comcast",Qk="custom",Zk=function(){function t(t,n,i,e,r){this.hc=void 0,this.yI=void 0,this.kI=void 0,this.pI=void 0,this.qE=void 0,this.bI=void 0,this.AI=void 0,this.hc=t,this.yI=n,this.kI=i,this.qE=e,this.AI=r,this.pI=this.TI(n)}var e=t.prototype;return e.SI=function(){return this.bI},e.EI=function(t){this.bI=t},e.II=function(){return this.pI.licenseAcquisitionURL||this.SI()},e.RI=function(t){return qe.resolve()},e.DI=function(t,n){return qe.resolve(void 0)},e.NI=function(t,i,e,r){var s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(s=this.CI(t,i,e,r)).wd){o.next=3;break}throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,Fr.awrap(this.n_.ld(s));case 6:return u=o.sent,o.next=9,Fr.awrap(u.zl(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),fu(o.t0),o.next=17,Fr.awrap(this.BI(o.t0,s.wd,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],qe)},e.CI=function(t,n,i,e){var r=this.OI()._v(),s=this.Ud,u={wd:this.xI(),hd:n,od:r,ql:t,Ud:s,Od:fw.POST,xd:0,js:e,_s:lw.bd,Ld:i};return new gw(u)},e.LI=function(t,n){return qe.resolve(t)},e.MI=function(t,n,i,e){return qe.resolve(t)},e.OI=function(){return new Lf(this.pI.headers||{})},e.BI=function(t,i,e){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new fp(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,qe)},e.xI=function(t,n){var e=n,r=this.pI.queryParameters;if(!e){var s=this.II();if(!s)return"";e=s}if(r||t){var u=i.Mr(e);t&&pw(u,t),r&&pw(u,r),e=u.href}return e},e.UI=function(t,n){return Kk(t)},e.XI=function(t){return new _(t)},e.HI=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Fr.awrap(this.UI(t,i));case 2:return e=u.sent,u.next=5,Fr.awrap(this.NI(e,this.AI,n,i));case 5:return r=u.sent,s=this.XI(r),u.abrupt("return",s);case 8:case"end":return u.stop()}},null,this,null,qe)},e.$c=function(){},T(t,[{key:"n_",get:function(){return this.qE}},{key:"FI",get:function(){return!1}},{key:"zI",get:function(){var t=this.pI.certificate;if(t)return G(t)?Hu(t):$o(t)}},{key:"VI",get:function(){return!1}},{key:"Ud",get:function(){return Boolean(this.pI.useCredentials)}}]),t}();function Kk(t){return qe.resolve(Qo(t).buffer)}var Jk,tA,nA=function(t){function n(n,i,e,r){return t.call(this,ws,n,i,e,r)||this}E(n,t);var i=n.prototype;return i.TI=function(t){return t.widevine||{}},i.WI=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.zI){i.next=2;break}return i.abrupt("return",this.zI);case 2:return i.abrupt("return",this.GI(new _(t),n));case 3:case"end":return i.stop()}},null,this,null,qe)},i.GI=function(n,i){return t.prototype.HI.call(this,n,vw.Ed,i)},n}(Zk);function iA(t,n){if(null==t)return{};var i,e,r={},s=w.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function eA(t){return H(t.token&&t.deviceId)}function rA(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&H(i.PreAuthorization)}function sA(t){var n=t;return eA(n)&&""!==n.token&&""!==n.deviceId&&!rA(n)}(tA=Jk||(Jk={})).qI=!1,tA.YI=!1,tA.jI=!1,tA.QI=!1,tA.LOG_ADS_DETAILS=!1,tA.LOG_CHROMECAST_DETAILS=!1,tA.LOG_CUSTOM_DRM=!1,tA.LOG_BUFFERING_VIDEO_MAIN=!1,tA.LOG_BUFFERING_VIDEO_SELECTION=!1,tA.LOG_BUFFERING_AUDIO_MAIN=!1,tA.LOG_BUFFERING_AUDIO_SELECTION=!1,tA.ZI=!1,tA.KI=!1,tA.LOG_LCEVC_DETAILS=!1;var uA,oA=function(){function t(t,n,i){this.JI=t,this.Yh=n,this.$I=i}return t.prototype.tR=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.$I.build(t))},T(t,[{key:"nR",get:function(){return this.JI}},{key:"hc",get:function(){return this.Yh}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(uA||(uA={}));var aA=function(){function t(){this.iR=[]}var e=t.prototype;return e.registerContentProtectionIntegration=function(t,e,r){switch(this.eR(t,e,r)){case uA.FAILED:throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+e+".");case uA.OVERRIDDEN:var s=IA(e);i.Tr("Warning: Overwriting an earlier registered integration for "+t+" and "+s+".");break;case uA.SUCCEEDED:IA(e);0}},e.eR=function(t,n,i){var e=IA(n);if(!e)return uA.FAILED;for(var r=uA.SUCCEEDED,s=0,u=this.iR.slice();s<u.length;s++){var o=u[s];o.nR===t&&o.hc===e&&(r=uA.OVERRIDDEN,$s(this.iR,o))}return this.iR.push(new oA(t,e,i)),r},e.rR=function(t,n){return void 0!==this.sR(t,n)},e.uR=function(t,n,i){var e=this.sR(t,n);if(!e)throw l("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.tR(i)},e.sR=function(t,n){for(var i=0,e=this.iR;i<e.length;i++){var r=e[i];if(r.nR===t&&(!n||r.hc===n))return r}},t}();aA.oR=new aA;var hA=["customdata"],cA={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function fA(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters;return!(n||i||e||r||s||u)}function lA(t){return t&&void 0!==t.licenseAcquisitionURL}var vA,dA=lA,wA=lA;function gA(t){if(!t)return!0;if(_A(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return fA(n)&&fA(i)&&fA(e)&&fA(r)&&fA(s)}function mA(t){var n=sA(t),i=function(t){var n,i=t;return rA(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!eA(i)}(t);return(!n||!i)&&(n||i)}function yA(t){return t.integration===jk}function pA(t){var n=t;if(!n)return!1;if(gA(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(_A(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!dA(e))return!1;if(r&&!wA(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(aA.oR.rR(n.integration))return!0;switch(n.integration){case Ok:if(!function(t){return t.integration===Ok&&(bA(t)||kA(t))}(t))return!1;break;case Fk:if(!AA(t))return!1;break;case Uk:if(!function(t){return t.integration===Uk}(t))return!1;break;case jk:if(!yA(t))return!1;break;case Lk:if(!mA(t))return!1;break;case Mk:if(!function(t){return t.integration===Mk}(t))return!1;break;case Hk:if(!_A(t))return!1;break;case Xk:if(!function(t){var n=t;return n.integration===Xk&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case zk:if(!function(t){return t.integration===zk}(t))return!1;break;case Wk:if(!TA(t))return!1;break;case qk:if(!function(t){return t.integration===qk}(t))return!1;break;case Gk:if(!SA(t))return!1;break;case Vk:if(!function(t){var n=t;return n.integration===Vk&&void 0!==n.token}(t))return!1;break;case $k:if(!function(t){return t.integration===$k}(t))return!1;break;case Yk:if(!function(t){var n=t;return n&&H(n.releasePid)&&H(n.accountId)&&H(n.token)}(t))return!1;break;case Qk:return!0;default:return!1}}return!0}function _A(t){return t.integration===Hk}function bA(t){return void 0!==t.authToken}function kA(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function AA(t){var n=t;return n.integration===Fk&&void 0!==n.token}function TA(t){var n=t;return n&&n.integration===Wk&&G(n.ticketAcquisitionURL)&&G(n.streamId)}function SA(t){var n=t;return n.integration===Gk&&void 0!==n.token}function EA(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:cA[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,a=o?{customData:o}:{},h=Ur({},null!=(r=null==s?void 0:s.headers)?r:{},a),c=null!=s?s:{};return c.customdata,Ur({},iA(c,hA),{licenseAcquisitionURL:u,headers:h})}function IA(t){switch(t.toLowerCase()){case"widevine":case os:return os;case"playready":case rs:return rs;case"fairplay":case fs:return fs}}function RA(t,i){switch(t){case ts:return function(t){for(var n={},i=pb.JA(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.cE]=r.lE}return n}(i);case ns:case is:return function(t){var n;return(n={})[cs]=t,n}(i);default:throw new ff(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.fs="Widevine",t.hs="PlayreadyV2",t.aR="PlayreadyV2",t.hR="PlayreadyV3",t.ls="Fairplay"}(vA||(vA={}));var CA={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function DA(t,n){var e,r,s,u,o=CA[n],a=t.accountName;return{CustomerName:t.customerName,AccountName:a,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=i.Xr)?void 0:e.Hr,OSVersion:null==(r=i.Xr)?void 0:r.qr,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(s=i.Xr)?void 0:s.Yr,DeviceModel:null==(u=i.Xr)?void 0:u.jr}}}function NA(t,i){if(!t.accountName)throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function PA(t,n,i){var e;if(bA(t))e={AuthToken:t.authToken,Payload:n};else{if(!kA(t))throw NA(t,i);e={LatensRegistration:DA(t,i),Payload:n}}return Ku(JSON.stringify(e))}function xA(t,i,e){var r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=t.$d){a.next=3;break}throw new fp(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return s=r,a.prev=4,a.next=7,Fr.awrap(s.Hl(e));case 7:u=a.sent,o=BA(u),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),o="";case 14:throw new fp(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,s.ld.wd,s.ud,s.fd,o);case 15:case"end":return a.stop()}},null,null,[[4,11]],qe)}function BA(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var OA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e,Of.vv)||this).cR=void 0,r}E(e,t),e.fR=function(){return i.Hr.je?"required":"optional"};var r=e.prototype;return r.BI=function(t,n,i){return xA(t,n,i)},r.RI=function(t){return this.cR?vu(this.cR.Gu,t):(this.cR=new ta,qe.resolve())},r.UI=function(t,i){var e,r;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.yI){i.next=3;break}throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=zu(t),i.abrupt("return",PA(e,r,vA.fs));case 5:case"end":return i.stop()}},null,this,null,qe)},r.XI=function(t){if(!t.license)throw new fp(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Hu(t.license)},r.vR=function(t){return qe.resolve(new _(t))},r.WI=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.lR(),r.next=3,Fr.awrap(this.UI(t,n));case 3:return i=r.sent,r.next=6,Fr.awrap(this.NI(i,Of.fv,vw.Id,n));case 6:return e=r.sent,r.next=9,Fr.awrap(this.vR(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,qe)},r.GI=function(n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(t.prototype.GI.call(this,n,i));case 2:return e=r.sent,this.lR(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,qe)},r.lR=function(){this.cR||(this.cR=new ta),this.cR.Qu()},r.$c=function(){this.cR&&this.cR.Gs(),t.prototype.$c.call(this)},e}(nA),LA=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,Of.fv)||this).EI("https://widevine-proxy.drm.technology/proxy"),r}return E(i,t),i.prototype.UI=function(t,i){var e,r,s,u;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(Kk(t));case 2:if(e=i.sent,r=this.kI,s=Zo(new _(e)),u=this.dR){i.next=8;break}throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:u,drm_info:s,kid:r}));case 9:case"end":return i.stop()}},null,this,null,qe)},T(i,[{key:"dR",get:function(){if(AA(this.yI))return this.yI.token}}]),i}(nA);function MA(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Ur({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Ur({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var jA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Of.fv)||this).EI("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return E(n,t),n.prototype.xI=function(n,i){var e=n;return yA(this.yI)&&(e=MA(this.yI,e)),t.prototype.xI.call(this,e,i)},n}(nA),FA="Conax-Custom-Data";function UA(t,n,i){var e=t&&mA(t)&&t;if(e&&!i.has(FA)){var r=sA(e)?e.token:void 0,s=sA(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(FA,u)}return i}var HA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Of.fv)||this).EI("https://connect.conax.com:8094/license"),r}return E(n,t),n.prototype.OI=function(){var n=t.prototype.OI.call(this);return UA(this.yI,"Widevine",n)},n}(nA);function XA(t){var n=Bo(new _(t));return Hu(JSON.parse(n).license)}function zA(t){return"string"==typeof t.token?t.token:Ku(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function VA(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var WA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Of.fv)||this).EI("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}E(n,t);var i=n.prototype;return i.XI=function(t){return XA(t)},i.OI=function(){return VA(t.prototype.OI.call(this),this.dR,this.yI)},T(n,[{key:"dR",get:function(){return zA(this.yI)}}]),n}(nA),qA=function(t){function n(n,i,e){return t.call(this,n,i,e,Of.fv)||this}return E(n,t),n.prototype.OI=function(){var n=t.prototype.OI.call(this),i=this.yI.token;return n.set("Authorization","Bearer "+i),n},n}(nA);function GA(t,i,e,r){var s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(TA(t)){l.next=2;break}throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Lf).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(u=t.sessionId)&&s.append("XSSESSION",u),o=t.streamId,a=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",h={drmType:i,licenseType:a,streamId:o},c={wd:t.ticketAcquisitionURL,hd:Of.vv,od:s,Od:fw.POST,ql:JSON.stringify(h),js:r},l.next=13,Fr.awrap(e.ld(c));case 13:return f=l.sent,l.next=16,Fr.awrap(f.Hl());case 16:return l.abrupt("return",l.sent);case 17:case"end":return l.stop()}},null,null,null,qe)}var $A=function(t){function n(n,i,e){return t.call(this,n,i,e,Of.vv)||this}E(n,t);var i=n.prototype;return i.OI=function(){var n=t.prototype.OI.call(this);return n.set("Content-Type","application/json"),n},i.UI=function(n,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=Zu(n.buffer),r=this.yI,o.next=4,Fr.awrap(GA(r,"widevine_modular",this.n_,i));case 4:return s=o.sent,this.EI(s.licenseServerUrl),u=Oo(JSON.stringify({payload:e,ticket:s.ticket})),o.abrupt("return",t.prototype.UI.call(this,u,i));case 8:case"end":return o.stop()}},null,this,null,qe)},i.XI=function(t){return Hu(t.license)},n}(nA),YA=function(t){function i(n,i,e){return t.call(this,n,i,e,Of.fv)||this}return E(i,t),i.prototype.OI=function(){if(!SA(this.yI))throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.OI.call(this);return i.set("X-AxDRM-Message",this.yI.token),i},i}(nA);function QA(t){for(var n=new _(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var ZA=function(t){function n(n,i,e){var r;return(r=t.call(this,ds,n,i,e,Of.fv)||this).wR=void 0,r}E(n,t);var e=n.prototype;return e.TI=function(t){return t.playready||{}},e.OI=function(){var n=new Lf(this.wR);return n.yv(t.prototype.OI.call(this)),n},e._R=function(t){return t.length>=1&&t[0].Ri.length>0},e.DI=function(n){var i=this.yI.playready.customData;if(i){var e=QA(i),r=QA('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+zu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return qe.resolve({playready:{Lc:r}})}return t.prototype.DI.call(this,n)},e.UI=function(t,n){var i;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(Kk(t));case 2:return i=n.sent,n.abrupt("return",this.gR(i));case 4:case"end":return n.stop()}},null,this,null,qe)},e.gR=function(t){var n,e,r,s,u,o,a,h,c,f,l,v,d,w,g,m;return Fr.async(function(y){for(;;)switch(y.prev=y.next){case 0:u=null,o=new DataView(t),a=No(o,new Ko,!0),y.prev=3,h=i.oi(a),y.next=10;break;case 7:return y.prev=7,y.t0=y.catch(3),y.abrupt("return",u);case 10:for(c=null==(n=h.Ii("PlayReadyKeyMessage")[0])?void 0:n.Ii("LicenseAcquisition")[0],f=null!=(e=null==c?void 0:c.Ii("Challenge"))?e:[],this._R(f)&&(u=Qu(f[0].Fi)),l=new Lf,v=null!=(r=null==c?void 0:null==(s=c.Ii("HttpHeaders")[0])?void 0:s.Ii("HttpHeader"))?r:[],d=0;d<v.length;d++)w=v[d],g=w.Ii("name")[0].Fi,m=w.Ii("value")[0].Fi,l.append(g,m);return this.wR=l,y.abrupt("return",u);case 18:case"end":return y.stop()}},null,this,[[3,7]],qe)},e.WI=function(t,n){return qe.resolve(t)},e.GI=function(n,i){return t.prototype.HI.call(this,n,vw.Rd,i)},n}(Zk),KA=function(){function t(n){this.kh=void 0,this.mR=n,this.kh=t.yR(n)}return t.yR=function(t){return"3"===t.version?vA.hR:vA.aR},t.prototype.kR=function(){var t={};if(this.kh===vA.hR){var n={LatensRegistration:DA(this.mR,vA.hR)};t["X-TITANIUM-DRM-CDATA"]=Ku(JSON.stringify(n))}return t},T(t,[{key:"pR",get:function(){return this.kh}},{key:"bc",get:function(){return this.kh===vA.aR}}]),t}();var JA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e)||this).bR=void 0,r.bR=new KA(r.yI),r}E(e,t);var r=e.prototype;return r.DI=function(t){var i=this.yI;if(!this.yI)throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(kA(i)){var e={};return e.playready={Lc:tT(i,this.bR.pR)},qe.resolve(e)}return qe.reject(NA(i,vA.hs))},r.OI=function(){var n=new Lf(this.bR.kR());return n.yv(t.prototype.OI.call(this)),n},r.BI=function(t,e,r){var s,u,o,a,h,c,f,l;return Fr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(s=t.$d){v.next=3;break}throw new fp(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e);case 3:return v.prev=3,v.next=6,Fr.awrap(s.Vl(r));case 6:a=v.sent,h=Bo(new _(a)),(c=i.oi(h))&&(f=Sb(c,"CustomData")).length>0&&(u=JSON.parse(f[0].Fi),o=null==(l=u.DrmErr)?void 0:l.desc),v.next=14;break;case 12:v.prev=12,v.t0=v.catch(3);case 14:throw new fp(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e,s.ud,s.fd,o);case 15:case"end":return v.stop()}},null,null,[[3,12]],qe)},r._R=function(t){if(1!==t.length)throw new fp(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},e}(ZA);function tT(t,n){var i=DA(t,n),e=i.DeviceInfo.FormatVersion,r=Ku('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=Mo(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Mo('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+zu(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var nT,iT=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).EI("https://playready-license.drm.technology/rightsmanager.asmx"),r}E(i,t);var e=i.prototype;return e._R=function(t){if(1!==t.length)throw new fp(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.xI=function(n,i){var e=Ur({},n||{},{token:this.dR});return t.prototype.xI.call(this,e,i)},T(i,[{key:"dR",get:function(){if(AA(this.yI))return this.yI.token}}]),i}(ZA),eT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).EI("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return E(n,t),n.prototype.xI=function(n,i){var e=n;return yA(this.yI)&&(e=MA(this.yI,e)),t.prototype.xI.call(this,e,i)},n}(ZA),rT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).EI("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return E(n,t),n.prototype.OI=function(){var n=t.prototype.OI.call(this);return UA(this.yI,"PlayReady",n)},n}(ZA),sT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).EI("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}E(n,t);var i=n.prototype;return i.XI=function(n){return(As(Bo(new _(n)),"<?xml")?nT.AR:nT.Hl)===nT.Hl?XA(n):t.prototype.XI.call(this,new _(n))},i.OI=function(){return VA(t.prototype.OI.call(this),this.dR,this.yI)},T(n,[{key:"dR",get:function(){return zA(this.yI)}}]),n}(ZA);!function(t){t[t.AR=0]="AR",t[t.Hl=1]="Hl"}(nT||(nT={}));var uT,oT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).SR=void 0,r}E(n,t);var i=n.prototype;return i.OI=function(){var n=t.prototype.OI.call(this);return this.SR&&n.set("Ticket",this.SR),n.set("Content-Type","text/xml"),n},i.UI=function(n,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.yI,s.next=3,Fr.awrap(GA(e,"playready",this.n_,i));case 3:return r=s.sent,this.EI(r.licenseServerUrl),this.SR=r.ticket,s.abrupt("return",t.prototype.UI.call(this,n,i));case 7:case"end":return s.stop()}},null,this,null,qe)},n}(ZA),aT=function(t){function i(){return t.apply(this,arguments)||this}return E(i,t),i.prototype.OI=function(){if(!SA(this.yI))throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.OI.call(this);return i.set("X-AxDRM-Message",this.yI.token),i},i}(ZA);!function(t){t.vv="application/json",t.ER="application/x-www-form-urlencoded",t.IR="application/octet-stream",t.ni="text/plain;charset=UTF-8"}(uT||(uT={}));var hT=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.hc,i,e,r,s)||this).RR="",u.DR=void 0,u.NR=void 0,u.NR=n.PR,u}E(n,t);var i=n.prototype;return i.OR=function(){return this.pI.certificateURL||this.DR},i.xR=function(t){this.DR=t},i.UI=function(t){return qe.resolve(this.LR(t,this.RR))},i.LR=function(t,n){return"spc="+encodeURIComponent(zu(t))+"&assetId="+encodeURIComponent(n)},i.TI=function(t){return t.fairplay||{}},i.MR=function(t){var n=t.indexOf("?");if(n>=0)return qe.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return qe.resolve(i)}var e=t.split("/");return qe.resolve(e[e.length-1])},i.DI=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=null!=(n=this.NR)?n:Uo(new _(t)),s.next=3,Fr.awrap(this.MR(i));case 3:return e=s.sent,this.RR=e,(r={}).fairplay={Vc:e},s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,qe)},i.OI=function(){var n=t.prototype.OI.call(this);return n.set("Content-Type",this.UR),n},i.WI=function(t,n){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.zI){t.next=2;break}return t.abrupt("return",this.zI);case 2:return t.next=4,Fr.awrap(this.XR(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,qe)},i.GI=function(n,i){return t.prototype.HI.call(this,n,vw.Td,i)},i.HR=function(t){var n=this.OR(),i=this.OI(),e={wd:n,hd:Of.fv,od:i,Od:fw.GET,Ud:!1,ql:null,xd:0,js:t,_s:lw.bd,Ld:vw.Sd};return new gw(e)},i.XR=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.HR(t),r.next=3,Fr.awrap(this.n_.ld(n));case 3:return i=r.sent,r.next=6,Fr.awrap(i.Vl());case 6:return e=r.sent,r.abrupt("return",new _(e));case 8:case"end":return r.stop()}},null,this,null,qe)},i.XI=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Hu(i)}else n=new _(t);return n},i.xI=function(n,i){var e=t.prototype.xI.call(this,n,i);return As(e,"skd:")&&(e=e.substr("skd:".length)),e},T(n,[{key:"VI",get:function(){return!0}},{key:"UR",get:function(){return uT.ER}}]),n}(Zk),cT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Of.fv)||this}E(n,t);var i=n.prototype;return i.MR=function(n){var i=n.split("://",1);return"skd"!==i[0].slice(-3).toLowerCase()?qe.resolve(""):(i=n.split(";",2)).length>1?qe.resolve(i[1]):qe.resolve(t.prototype.MR.call(this,n))},i.UI=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,qe)},i.XI=function(t){return new _(t)},i.xI=function(n,i){var e=n||{};return e.p1=Wt(),t.prototype.xI.call(this,e,i)},T(n,[{key:"UR",get:function(){return uT.IR}}]),n}(hT),fT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Of.fv)||this).EI("https://fairplay-license.drm.technology/license"),s.xR("https://fairplay-license.drm.technology/certificate"),s}E(i,t);var e=i.prototype;return e.LR=function(t,n){var i={token:this.dR,contentId:n,payload:zu(t)};return JSON.stringify(i)},e.XI=function(t){return new _(t)},e.OI=function(){var n=t.prototype.OI.call(this);return n.set("x-vudrm-token",this.dR),n},T(i,[{key:"UR",get:function(){return uT.vv}},{key:"dR",get:function(){if(!AA(this.yI))throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.yI.token}}]),i}(hT),lT="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",vT="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",dT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Of.fv)||this}return E(i,t),i.prototype.XI=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new fp(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,lT)}if(!i)throw new fp(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,vT);return i}(Bo(new DataView(i)));return t.prototype.XI.call(this,e)},i}(hT);var wT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Of.vv)||this}E(i,t);var e=i.prototype;return e.UI=function(t){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.yI){r.next=3;break}throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=zu(t),r.abrupt("return",PA(i,e,vA.ls));case 5:case"end":return r.stop()}},null,this,null,qe)},e.XI=function(t){try{var i;if(G(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Qu(i.license);return new _(r)}throw new fp(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new fp(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.BI=function(t,n,i){return xA(t,n,i)},T(i,[{key:"UR",get:function(){return uT.vv}}]),i}(hT),gT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Of.fv)||this).EI("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.xR("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}E(n,t);var e=n.prototype;return e.OR=function(){var n=t.prototype.OR.call(this);if(!n)return n;var e=i.Mr(n),r=this.yI;return yA(r)&&pw(e,{accountId:r.accountId,applicationId:r.applicationId||""}),e.href},e.MR=function(n){return yA(this.yI)?qe.resolve(this.yI.contentId):t.prototype.MR.call(this,n)},e.UI=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,qe)},e.XI=function(t){return new _(t)},e.xI=function(n,i){var e=n;return yA(this.yI)&&(e=function(t,n){return Ur({},MA(t,n),{KeyId:t.keyId})}(this.yI,e)),t.prototype.xI.call(this,e,i)},T(n,[{key:"UR",get:function(){return uT.IR}}]),n}(hT),mT=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,Of.ni)||this,!mA(e))throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.EI("https://connect.conax.com:8097/license"),u}E(i,t);var e=i.prototype;return e.OI=function(){var n=t.prototype.OI.call(this);return UA(this.yI,"FairPlay",n)},e.XR=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.OR(),i={wd:n,hd:Of.fv,od:{},Od:fw.GET,Ud:!1,ql:null,xd:0,js:t,_s:lw.bd,Ld:vw.Sd},s.next=4,Fr.awrap(this.n_.ld(i));case 4:return e=s.sent,s.next=7,Fr.awrap(e.Vl());case 7:return r=s.sent,s.abrupt("return",new _(r));case 9:case"end":return s.stop()}},null,this,null,qe)},e.UI=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,qe)},e.MR=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),qe.resolve(Bo(Hu(n)))):qe.resolve("unknown")},e.XI=function(t){try{var n=JSON.parse(t);return new _(Qu(n.CkcMessage))}catch(t){throw new l("CFLRW-66")}},i}(hT),yT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Of.ni)||this).EI(cA[Kr.ls]),s}E(i,t);var e=i.prototype;return e.MR=function(t){return As(t,"skd://")?qe.resolve(t.substring("skd://".length,40)):qe.reject(new fp(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.LR=function(t,n){return"spc="+zu(t)+"&assetId="+n},i}(hT),pT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Of.ni)||this).EI("https://lic.drmtoday.com/license-server-fairplay/"),s}E(n,t);var i=n.prototype;return i.LR=function(t,n){var i="spc="+encodeURIComponent(zu(t))+"&"+encodeURI(n);return"persistent"===this.pI.licenseType?i+"&offline=true":i},i.OI=function(){return VA(t.prototype.OI.call(this),this.dR,this.yI)},T(n,[{key:"dR",get:function(){return zA(this.yI)}}]),n}(hT),_T=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Of.fv)||this}E(n,t);var e=n.prototype;return e.MR=function(t){var n=t;return As(n,"skd:")&&(n="http:"+n.substring(4)),As(n,"http:")||As(n,"https:")?qe.resolve(i.Mr(n).hostname):qe.reject(new l("Could not parse ExpressPlay FairPlay content ID."))},e.UI=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,qe)},e.XI=function(t){return new _(t)},T(n,[{key:"UR",get:function(){return uT.IR}}]),n}(hT),bT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Of.ni)||this}return E(n,t),n.prototype.OI=function(){var n=t.prototype.OI.call(this),i=this.yI.token;return n.set("Authorization","Bearer "+i),n},n}(hT),kT=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,Of.vv)||this,!TA(i))throw new l("Invalid Xstream DRM configuration");return s}E(n,t);var i=n.prototype;return i.XR=function(t){var n,i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.OR(),i=this.OI(),e={wd:n,hd:Of.vv,od:i,Od:fw.POST,js:t,_s:lw.bd,Ld:vw.Sd},u.next=5,Fr.awrap(this.n_.ld(e));case 5:return r=u.sent,u.next=8,Fr.awrap(r.Hl());case 8:return s=u.sent,u.abrupt("return",new _(Hu(s.certificate)));case 10:case"end":return u.stop()}},null,this,null,qe)},i.GI=function(t,n,i){var e,r,s,u,o,a,h;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=zu(t),r=this.yI,i.next=5,Fr.awrap(GA(r,"fairplay",this.n_,n));case 5:return s=i.sent,u=Oo(JSON.stringify({spc:e,ticket:s.ticket})),o={wd:this.II(),hd:Of.vv,od:this.OI(),Od:fw.POST,ql:u,xd:0,js:n,_s:lw.bd,Ld:vw.Td},i.next=10,Fr.awrap(this.n_.ld(o));case 10:return a=i.sent,i.next=13,Fr.awrap(a.Hl());case 13:return h=i.sent,i.abrupt("return",Hu(h.licence));case 15:case"end":return i.stop()}},null,this,null,qe)},T(n,[{key:"UR",get:function(){return uT.vv}}]),n}(hT),AT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Of.ni)||this}E(i,t);var e=i.prototype;return e.LR=function(t,n){return zu(t)},e.XI=function(i){if(0===i.length)throw new fp(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.XI.call(this,i)},e.OI=function(){var n=t.prototype.OI.call(this);return n.set("Content-Type","text/plain"),n},i}(hT),TT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Of.fv)||this}E(i,t);var e=i.prototype;return e.LR=function(t,n){return t},e.XI=function(t){return new _(t)},e.OI=function(){if(!SA(this.yI))throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.OI.call(this);return i.set("X-AxDRM-Message",this.yI.token),i},T(i,[{key:"UR",get:function(){return uT.vv}}]),i}(hT),ST=function(t){function e(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Of.vv)||this).FR=void 0,s}E(e,t);var r=e.prototype;return r.LR=function(t,n){var i={spc:zu(t)};return JSON.stringify(i)},r.MR=function(t){var e=i.Mr(t);return this.FR=t,e.searchParams.has("b")?qe.resolve(e.searchParams.get("b")):qe.reject(new fp(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.xI=function(n,i){var e=this.II();return!e&&this.FR&&(e=this.FR),e&&(e=e.replace("skd://","https://")),t.prototype.xI.call(this,n,i||e)},r.XI=function(t){try{var i;if((i=G(t)?JSON.parse(t.trim()):t).ckc)return Hu(i.ckc)}catch(t){throw new fp(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new fp(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},T(e,[{key:"UR",get:function(){return uT.ni}}]),e}(hT),ET=function(){function t(t,n){this.zR=t,this.WR=n}var n=t.prototype;return n.GR=function(t){return this.zR(t)},n.qR=function(t,n){throw new v(n+" must be "+this.WR+". (Received: "+t+")")},t}();new ET(function(t){return!0},"any");var IT=new ET(Z,"a number"),RT=new ET(G,"a string"),CT=new ET($,"a boolean");new ET(Q,"a date"),new ET(X,"undefined"),new ET(W,"an object"),new ET(function(t){return null===t},"null"),new ET(function(t){return null==t},"null or undefined");var DT,NT=(DT={responseCode:IT,isException:CT,description:RT,title:RT,correlationId:RT},{GR:function(t){if(!W(t))return!1;for(var n=0,i=w.keys(DT);n<i.length;n++){var e=i[n];if(!DT[e].GR(t[e]))return!1}return!0},qR:function(t,n){if(!W(t))throw new v(n+" must be an object.");for(var i=0,e=w.keys(DT);i<e.length;i++){var r=e[i],s=DT[r];if(!s.GR(t[r]))return s.qR(t[r],n+"."+String(r))}throw new v}});function PT(t,n,i,e,r){var s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=xT(t,n,i,r),u.next=3,Fr.awrap(BT(s,e));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,null,null,qe)}function xT(t,n,e,r){var s={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=i.Mr(t);return pw(e,n),e.toString()}(e,s)),o=new Lf({});o.append("Content-Type","application/json");var a=zu(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:a}};return{wd:u,hd:Of.ni,od:o,Od:fw.POST,ql:JSON.stringify(h),js:r,_s:lw.bd,Ld:vw.Td}}function BT(t,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(i.ld(t));case 2:return e=s.sent,s.next=5,Fr.awrap(e.Hl());case 5:if(r=s.sent,!NT.GR(r)){s.next=8;break}throw new fp(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.wd,r.responseCode);case 8:return s.abrupt("return",Hu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return s.stop()}},null,null,null,qe)}var OT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Of.fv)||this).YR=void 0,s.YR=i,s}E(n,t);var i=n.prototype;return i.MR=function(n){var i=n.replace("FairPlay",this.YR.releasePid);return t.prototype.MR.call(this,i)},i.GI=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(PT(t,this.YR,this.II(),this.n_,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,qe)},n}(hT),LT=function(t){function i(n,i,e){return t.call(this,ys,n,i,e,Of.fv)||this}E(i,t);var e=i.prototype;return e.TI=function(t){return t.clearkey||{}},e.NI=function(i,e,r,s){var u,o;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.pI,!this.II()){e.next=5;break}return e.abrupt("return",t.prototype.NI.call(this,i,this.AI,r,s));case 5:if(!u.keys||!u.keys.length){e.next=10;break}return o={keys:u.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Oo(JSON.stringify(o)).buffer);case 10:throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,qe)},e.WI=function(t,n){return qe.resolve(new _(0))},e.GI=function(n,i){return t.prototype.HI.call(this,n,vw.Dd,i)},i}(Zk),MT=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(nA),jT={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function FT(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=$T(n),(r=t.onCertificateRequest)&&"function"==typeof r){u.next=5;break}return u.abrupt("return",qe.resolve(n));case 5:return u.next=8,Fr.awrap(vu(qe.resolve(r.call(t,e)),i));case 8:if(!Go(s=u.sent)){u.next=11;break}return u.abrupt("return",$o(s));case 11:return u.abrupt("return",GT(Ur({},jT,s)));case 12:case"end":return u.stop()}},null,null,null,qe)}function UT(t,n,i,e,r){var s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.onCertificateResponse,u=qT(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",qe.resolve(n));case 5:return a.next=8,Fr.awrap(vu(qe.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",$o(o));case 10:case"end":return a.stop()}},null,null,null,qe)}function HT(t,n,i,e){var r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(zT(t,n,i,e));case 2:if(!((r=s.sent)instanceof ArrayBuffer)){s.next=5;break}return s.abrupt("return",r);case 5:return s.abrupt("return",GT(r));case 6:case"end":return s.stop()}},null,null,null,qe)}function XT(t,n,i,e,r,s){var u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return u=WT(i,r),a.next=3,Fr.awrap(VT(t,new _(n),u,e,s));case 3:return o=a.sent,a.abrupt("return",$o(o).buffer);case 5:case"end":return a.stop()}},null,null,null,qe)}function zT(t,n,i,e){var r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,s=WT(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",qe.resolve(s));case 5:return o.next=8,Fr.awrap(vu(qe.resolve(r.call(t,s)),e));case 8:if(!Go(u=o.sent)){o.next=11;break}return o.abrupt("return",$o(u).buffer);case 11:return o.abrupt("return",Ur({fairplaySkdUrl:void 0},jT,u));case 12:case"end":return o.stop()}},null,null,null,qe)}function VT(t,n,i,e,r){var s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=null==t?void 0:t.onLicenseResponse,u=qT(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",qe.resolve(n));case 5:return a.next=8,Fr.awrap(vu(qe.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",$o(o));case 10:case"end":return a.stop()}},null,null,null,qe)}function WT(t,n){return Ur({},$T(t),{fairplaySkdUrl:n})}function qT(t,n,i){return{url:i.dd,status:i.ud,statusText:i.fd,headers:i.od._v(),body:t,request:n}}function GT(t){return new gw({wd:t.url,Od:t.method,od:t.headers,ql:t.body,Ud:t.useCredentials})}function $T(t){var n;return{url:t.wd,body:null!=(n=YT(t.ql))?n:null,headers:t.od._v(),method:t.Od,useCredentials:t.Ud}}function YT(t){if(t)return"string"==typeof t?Ho(t):t instanceof ArrayBuffer?new _(t):Wu(t)?qo(t):void 0}var QT,ZT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).jR=void 0,s.jR=r,s}E(i,t);var e=i.prototype;return e.WI=function(t,n){return qe.resolve(t)},e.GI=function(t,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Fr.awrap(this.gR(Qo(t).buffer));case 2:return e=a.sent,r=this.CI(e,Of.fv,vw.Rd,i),a.next=6,Fr.awrap(HT(this.jR,r,void 0,i));case 6:if(!((s=a.sent)instanceof ArrayBuffer)){a.next=10;break}return a.abrupt("return",new _(s));case 10:if(""!==s.wd){a.next=12;break}throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return a.prev=12,a.next=15,Fr.awrap(this.n_.ld(s));case 15:return u=a.sent,a.next=18,Fr.awrap(u.Vl(i));case 18:return o=a.sent,a.t0=_,a.next=22,Fr.awrap(XT(this.jR,o,r,u,void 0,i));case 22:return a.t1=a.sent,a.abrupt("return",new a.t0(a.t1));case 26:throw a.prev=26,a.t2=a.catch(12),fu(a.t2),new fp(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a.t2);case 30:case"end":return a.stop()}},null,this,[[12,26]],qe)},i}(ZA),KT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,Of.fv)||this).jR=void 0,s.jR=r,s}E(i,t);var e=i.prototype;return e.WI=function(t,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.zI){a.next=2;break}return a.abrupt("return",this.zI);case 2:return e=this.CI(t,Of.fv,vw.Id,i),a.next=5,Fr.awrap(FT(this.jR,e,i));case 5:if(!((r=a.sent)instanceof _)){a.next=9;break}return a.abrupt("return",r);case 9:if(""!==r.wd){a.next=11;break}throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return a.prev=11,a.next=14,Fr.awrap(this.n_.ld(r));case 14:return s=a.sent,a.next=17,Fr.awrap(s.Vl(i));case 17:u=a.sent,a.next=24;break;case 20:throw a.prev=20,a.t0=a.catch(11),fu(a.t0),new fp(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",a.t0);case 24:return o=WT(e,void 0),a.next=27,Fr.awrap(UT(this.jR,new _(u),o,s,i));case 27:return a.abrupt("return",a.sent);case 28:case"end":return a.stop()}},null,this,[[11,20]],qe)},e.GI=function(t,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.CI(t,Of.fv,vw.Ed,i),o.next=3,Fr.awrap(HT(this.jR,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new _(r));case 7:if(""!==r.wd){o.next=9;break}throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Fr.awrap(this.n_.ld(r));case 12:return s=o.sent,o.next=15,Fr.awrap(s.Vl(i));case 15:u=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),fu(o.t0),new fp(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=_,o.next=25,Fr.awrap(XT(this.jR,u,e,s,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],qe)},i}(MT),JT=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,Of.fv)||this).jR=void 0,u.QR=void 0,u.jR=s,u}E(i,t);var e=i.prototype;return e.WI=function(t,i){var e,r,s,u,o;return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.zI){t.next=2;break}return t.abrupt("return",this.zI);case 2:return e=this.HR(i),t.next=5,Fr.awrap(FT(this.jR,e,i));case 5:if(r=t.sent,!Wu(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,Fr.awrap(this.n_.ld(r));case 11:return s=t.sent,t.next=14,Fr.awrap(s.Vl());case 14:return u=t.sent,o=WT(e,void 0),t.next=18,Fr.awrap(UT(this.jR,new _(u),o,s,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),fu(t.t0),new fp(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],qe)},e.GI=function(t,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.CI(t,Of.fv,vw.Td,i),o.next=3,Fr.awrap(HT(this.jR,e,this.QR,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new _(r));case 7:if(""!==r.wd){o.next=9;break}throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Fr.awrap(this.n_.ld(r));case 12:return s=o.sent,o.next=15,Fr.awrap(s.Vl(i));case 15:return u=o.sent,o.t0=_,o.next=19,Fr.awrap(XT(this.jR,u,e,s,this.QR,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),fu(o.t2),new fp(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],qe)},e.MR=function(n){var i;return this.QR=n,null!=(i=this.jR)&&i.extractFairplayContentId?qe.resolve(this.jR.extractFairplayContentId(n)):t.prototype.MR.call(this,n)},i}(hT),tS=function(){function t(){}var n=t.prototype;return n.ZR=function(t,n,i,e){switch(t.hc._s){case Kr.fs:return this.KR(n,i,e);case Kr.hs:return this.JR(n,i,e);case Kr.ls:return this.$R(t,n,i,e);case Kr.vs:default:return this.tD(n,i,e)}},n.KR=function(t,n,i){var e,r=(e=t).integration===Qk&&G(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&aA.oR.rR(r,os)){var s=aA.oR.uR(r,os,t);return new KT(t,n,i,s)}switch(r){case Ok:return new OA(t,n,i);case Fk:return new LA(t,n,i);case jk:return new jA(t,n,i);case Lk:return new HA(t,n,i);case Xk:return new WA(t,n,i);case Vk:return new qA(t,n,i);case Wk:return new $A(t,n,i);case Gk:return new YA(t,n,i);case Hk:default:return new MT(t,n,i,Of.fv)}},n.JR=function(t,n,i){var e=t.integration;if(e&&aA.oR.rR(e,rs)){var r=aA.oR.uR(e,rs,t);return new ZT(t,n,i,r)}switch(e){case Ok:return new JA(t,n,i);case Fk:return new iT(t,n,i);case jk:return new eT(t,n,i);case Lk:return new rT(t,n,i);case Xk:return new sT(t,n,i);case Wk:return new oT(t,n,i);case Gk:return new aT(t,n,i);case Hk:default:return new ZA(t,n,i)}},n.$R=function(t,n,i,e){var r=n.integration;if(r&&aA.oR.rR(r,fs)){var s=aA.oR.uR(r,fs,n);return new JT(t,n,i,e,s)}switch(r){case Mk:return new cT(t,n,i,e);case Fk:return new fT(t,n,i,e);case Uk:return new dT(t,n,i,e);case Ok:return new wT(t,n,i,e);case jk:return new gT(t,n,i,e);case Lk:return new mT(t,n,i,e);case Hk:return new yT(t,n,i,e);case Xk:return new pT(t,n,i,e);case zk:return new _T(t,n,i,e);case Vk:return new bT(t,n,i,e);case Wk:return new kT(t,n,i,e);case qk:return new AT(t,n,i,e);case Gk:return new TT(t,n,i,e);case $k:return new ST(t,n,i,e);case Yk:return new OT(t,n,i,e);default:return new hT(t,n,i,e,Of.ni)}},n.tD=function(t,n,i){return new LT(t,n,i)},n.nD=function(t){return t._s===Kr.hs||t._s===Kr.fs||t._s===Kr.ls||t._s===Kr.vs},n.bc=function(t,n){var i;if(t._s!==Kr.hs)return!1;if(H(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!aA.oR.rR(e,fs))&&(e===Ok&&new KA(n).bc)},n.fR=function(t,n){if(t._s===Kr.fs){var i=n.integration;if(!i||!aA.oR.rR(i,fs))return i===Ok?OA.fR():void 0}},t}();!function(t){t[t.iD=0]="iD",t[t.eD=1]="eD",t[t.rD=2]="rD",t[t.sD=3]="sD",t[t.uD=4]="uD",t[t.Lg=5]="Lg",t[t.oD=6]="oD",t[t.aD=7]="aD",t[t.Xg=8]="Xg",t[t.hD=9]="hD",t[t.cD=10]="cD"}(QT||(QT={}));var nS=function(){function t(){}return t.prototype.fD=function(t){},T(t,[{key:"vD",get:function(){return 0}},{key:"lD",get:function(){return 0}}]),t}(),iS=function(){function t(t,n){void 0===n&&(n=new tS),this.qE=void 0,this.dD=void 0,this.mR=void 0,this.qE=t,this.dD=n}var n=t.prototype;return n.wD=function(t){this.mR=t},n.fR=function(t){var n=this.mR;if(void 0!==n)return this.dD.fR(t,n)},n.bc=function(t){var n=this.mR;return void 0!==n&&this.dD.bc(t,n)},n._D=function(t){var n={hc:t.hc,gD:t.gD||[],PR:t.PR},i=this.dD.ZR(n,this.mR||{},t.kI,this.qE);return new eS(i)},t}(),eS=function(){function t(t){this.mD=void 0,this.mD=t}var n=t.prototype;return n.RI=function(t){return this.mD.RI(t)},n.DI=function(t,n,i){return this.mD.DI(n,i)},n.VI=function(){return this.mD.VI||void 0!==this.mD.zI},n.WI=function(t,n){return this.mD.WI(t,n)},n.GI=function(t,n,i){return n&&this.mD.EI(n),this.mD.GI(t,i)},n.Xs=function(){this.mD.$c()},t}(),rS=function(t){function n(n){var i;(i=t.call(this)||this).yD=[],i.kD=function(t){i.B_(t.h_)},i.pD=function(t){var n=t.h_;i.bD(n)||i.O_(n)};for(var e=0;e<n.length;e++){var r=n[e];i.TD(r)}return i}E(n,t);var i=n.prototype;return i.TD=function(t){this.yD.push(t);for(var n=0,i=t.L_;n<i.length;n++){var e=i[n];this.B_(e)}this.SD(t)},i.ED=function(t){$s(this.yD,t),this.RD(t);for(var n=0,i=t.L_;n<i.length;n++){var e=i[n];this.bD(e)||this.O_(e)}},i.bD=function(t){for(var n=0,i=this.yD;n<i.length;n++){if(i[n].x_(t))return!0}return!1},i.SD=function(t){t.tu(rm.i_,this.kD),t.tu(rm.r_,this.pD)},i.RD=function(t){t.au(rm.i_,this.kD),t.au(rm.r_,this.pD)},i.$c=function(){for(;this.yD.length>0;)this.ED(this.yD[0]);t.prototype.$c.call(this)},i.a_=function(){return qm(this)},n}(wm);function sS(t){return{get enabled(){return t.q_},set enabled(n){t.q_=Im(n)},get currentLatency(){return t.Im},get streamConfiguration(){if(void 0!==t.DD)return function(t){return{get minimumOffset(){return t._m},get maximumOffset(){return t.mm},get targetOffset(){return t.gm},get forceSeekOffset(){return t.ym},get minimumPlaybackRate(){return t.pm},get maximumPlaybackRate(){return t.Am}}}(t.DD)},get configuration(){return function(t){return{get minimumOffset(){return t._m},set minimumOffset(n){t._m=Rm(n)},get maximumOffset(){return t.mm},set maximumOffset(n){t.mm=Rm(n)},get targetOffset(){return t.gm},set targetOffset(n){t.gm=Rm(n)},get forceSeekOffset(){return t.ym},set forceSeekOffset(n){t.ym=Rm(n)},get minimumPlaybackRate(){return t.pm},set minimumPlaybackRate(n){t.pm=Rm(n)},get maximumPlaybackRate(){return t.Am},set maximumPlaybackRate(n){t.Am=Rm(n)},update:function(n){t.tc(function(t){var n={};void 0!==t.minimumOffset&&(n._m=Rm(t.minimumOffset));void 0!==t.maximumOffset&&(n.mm=Rm(t.maximumOffset));void 0!==t.targetOffset&&(n.gm=Rm(t.targetOffset));void 0!==t.forceSeekOffset&&(n.ym=Rm(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.pm=Rm(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.Am=Rm(t.maximumPlaybackRate));return n}(n))}}}(t.cc)}}}var uS,oS=function(){function t(){this.u_=void 0,this.ND=void 0,this.ND={ym:0,mm:0,Am:0,_m:0,pm:0,gm:0,tc:K}}return T(t,[{key:"o_",get:function(){return null!=this.u_||(this.u_=sS(this)),this.u_}},{key:"q_",get:function(){return!1},set:function(t){}},{key:"Im",get:function(){}},{key:"DD",get:function(){}},{key:"cc",get:function(){return this.ND}}]),t}();function aS(){return uS||(uS=we&&we.document&&we.document.createElement("video")),uS}var hS=function(t){function i(i,e,r,s,u,o,a){var h;return void 0===o&&(o=new tS),void 0===a&&(a=Rf()),(h=t.call(this)||this).CD=void 0,h.PD=void 0,h.BD=void 0,h.xm=void 0,h.Lm=void 0,h.Mm=void 0,h.OD=void 0,h.xD=void 0,h.LD=void 0,h.MD=void 0,h.UD=void 0,h.qE=void 0,h.Es=void 0,h.XD=void 0,h.HD=void 0,h.FD=new nS,h.zD=new oS,h.VD=function(t){var i=t.Au,e=i.code,r=new ff(function(t){switch(t){case ap.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case ap.NETWORK:return n.ErrorCode.NETWORK_ERROR;case ap.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case ap.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case ap.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case ap.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case ap.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),s=new lp(e,r.message,i.message);h.WD(r,s)},h.GD=function(){h.$s(new Ny(h.tm,h.Ay))},h.qD=function(t){h.cm||(h.HD=void 0),h.$s(t)},h.YD=function(t){h.HD=void 0},h.jD=function(){h.$s(new Op(h.Sy))},h.QD=function(){h.dm>0&&h.lm>0&&h.$s(new _k)},h.ZD=function(t){h.xm.B_(new Cp(t.track))},h.KD=function(t){var n=fS(h.xm,t.track);n&&h.xm.O_(n)},h.JD=function(){h.$D(h.xm)},h.tN=function(t){h.Lm.B_(new Bp(t.track))},h.nN=function(t){var n=fS(h.Lm,t.track);n&&h.Lm.O_(n)},h.iN=function(){h.$D(h.Lm)},h.eN=function(t){h.$s(t),h.WD(t.errorObject,dp(t.errorObject))},h.CD=e,h.qE=r,h.Es=a,h.PD=h.CD.rN(gp.Pd),h.LD=h.PD.sN.preload,h.MD=new xk(h.PD,!0),h.MD.tu(Iy,h.Js),h.XD=new iS(r,o),h.PD.uN=h.XD,h.oN(),h.xm=new mp,h.Lm=new mp,h.aN(),h.UD=new vk(h.PD,h.qE),h.Mm=new rS([h.PD.Vm]),h.sy(),h}E(i,t);var e=i.prototype;return e.uy=function(){this.PD.uy()},e.sy=function(){this.PD.sy()},e.Qm=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return cu(i),e={_s:pk.tI,yg:t.src,Gl:t.type,hN:this.cN(t),xy:this.LD,fN:t.crossOrigin,vN:n.metadata&&n.metadata.title},this.XD.wD(t.contentProtection),r.next=5,Fr.awrap(this.PD.Jh(e));case 5:this.BD=r.sent,cu(i),n.textTracks&&this.lN(n.textTracks),yk(this.Vm);case 9:case"end":return r.stop()}},null,this,null,qe)},e.lN=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.PD.dN()&&j.cn&&Rk&&!rk(i.kind,i.label)&&this.wN(i)){var e,r=null!=(e=i.kind)?e:Vb.wA;this.PD._N(i.src,r,i.label,i.srclang,i.default)}else{if(void 0===i.src)continue;this.UD.jE(i)}}},e.wN=function(t){return!t.format||"webvtt"===t.format},e.Gm=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fr.awrap(this.PD.Gm());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.gN){t.next=12;break}return t.next=10,Fr.awrap(this.PD.wu(Bf.Vf));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],qe)},e.qm=function(){this.PD.qm()},e.Zm=function(){return void 0!==this.PD.sN.webkitShowPlaybackTargetPicker},e.Km=function(){this.PD.sN.webkitShowPlaybackTargetPicker&&this.PD.sN.webkitShowPlaybackTargetPicker()},e.Jm=function(){this.PD.sN.webkitShowPlaybackTargetPicker&&this.PD.sN.webkitShowPlaybackTargetPicker()},e.oy=function(){return this.PD.sN},e.vy=function(){return this.PD.mN},e.wc=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.OD=void 0,this.xD=void 0,this.BD=void 0,t.next=5,Fr.awrap(this.UD.wc());case 5:return this.PD.yN(),t.next=8,Fr.awrap(this.PD.wc());case 8:this.MD.wc(),this.xy=this.LD,this.Fm.wc(),this.zm.wc(),this.HD=void 0;case 13:case"end":return t.stop()}},null,this,null,qe)},e.$c=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.wc());case 2:return this.ou(),this.kN(),this.pN(),this.MD.$c(),this.PD.uN=void 0,t.next=9,Fr.awrap(this.CD.bN(this.PD));case 9:return this.xm.$c(),this.Lm.$c(),this.Mm.$c(),t.next=14,Fr.awrap(this.UD.$c());case 14:case"end":return t.stop()}},null,this,null,qe)},e.oN=function(){this.PD.tu(Bf.zf,this.Js),this.PD.tu(Bf.Ff,this.Js),this.PD.tu(Bf.ev,this.GD),this.PD.tu(Bf.Vf,this.Js),this.PD.tu(Bf.Lf,this.Js),this.PD.tu(Bf.jf,this.Js),this.PD.tu(Bf.Yf,this.qD),this.PD.tu(Bf.Bf,this.Js),this.PD.tu(Bf.Wf,this.Js),this.PD.tu(Bf.rv,this.Js),this.PD.tu(Bf.Cf,this.Js),this.PD.tu(Bf.qf,this.QD),this.PD.tu(Ay.$g,this.YD),this.PD.tu(Um.hg,this.VD),this.PD.tu(Bf.Rf,this.Js),this.PD.tu(Bf.If,this.eN),this.PD.sN.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.jD)},e.kN=function(){this.PD.au(Bf.zf,this.Js),this.PD.au(Bf.Ff,this.Js),this.PD.au(Bf.ev,this.GD),this.PD.au(Bf.Vf,this.Js),this.PD.au(Bf.Lf,this.Js),this.PD.au(Bf.jf,this.Js),this.PD.au(Bf.Yf,this.qD),this.PD.au(Bf.Bf,this.Js),this.PD.au(Bf.Wf,this.Js),this.PD.au(Bf.rv,this.Js),this.PD.au(Bf.Cf,this.Js),this.PD.au(Bf.qf,this.QD),this.PD.au(Ay.$g,this.YD),this.PD.au(Um.hg,this.VD),this.PD.au(Bf.Rf,this.Js),this.PD.au(Bf.If,this.eN),this.PD.sN.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.jD)},e.cN=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{hc:gs,AN:[{initDataTypes:[gs.ys],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.aN=function(){var t=this.PD.sN.audioTracks,n=this.PD.sN.videoTracks;t&&(t.addEventListener("addtrack",this.ZD),t.addEventListener("removetrack",this.KD),t.addEventListener("change",this.JD)),n&&(n.addEventListener("addtrack",this.tN),n.addEventListener("removetrack",this.nN),n.addEventListener("change",this.iN))},e.pN=function(){var t=this.PD.sN.audioTracks,n=this.PD.sN.videoTracks;t&&(t.removeEventListener("addtrack",this.ZD),t.removeEventListener("removetrack",this.KD),t.removeEventListener("change",this.JD)),n&&(n.removeEventListener("addtrack",this.tN),n.removeEventListener("removetrack",this.nN),n.removeEventListener("change",this.iN))},e.$D=function(t){for(var n=0;n<t.M_;n++){t.P_(n).qy()}},e.py=function(){this.PD.py()},e.WD=function(t,n){this.OD||(this.OD=n,this.xD=t,this.$s(new Uy(t)))},T(i,[{key:"gN",get:function(){var t=this.PD.by,n=this.tm;return t.TN(n,.01)}},{key:"Fm",get:function(){return this.xm}},{key:"by",get:function(){return this.PD.by.SN()}},{key:"Ay",get:function(){return this.PD.Ay},set:function(t){t&&this.PD.EN(t)}},{key:"tm",get:function(){return void 0!==this.HD?this.HD:this.PD.tm},set:function(t){this.Sy&&(this.HD=t),this.PD.Xu(t)}},{key:"nm",get:function(){return this.PD.nm}},{key:"im",get:function(){return this.PD.im}},{key:"Au",get:function(){return this.OD}},{key:"um",get:function(){return this.xD}},{key:"Wm",get:function(){}},{key:"Sy",get:function(){return this.PD.Sy}},{key:"Ey",get:function(){return Ur({},{Iy:0,Ry:0,Dy:0,Ny:0,Cy:0,Py:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.PD.IN())}},{key:"hm",get:function(){return this.PD.hm},set:function(t){this.PD.hm=t}},{key:"By",get:function(){return!0}},{key:"cm",get:function(){return this.PD.cm}},{key:"fm",get:function(){return this.PD.fm},set:function(t){this.PD.fm=t}},{key:"Oy",get:function(){return this.PD.sN.played}},{key:"xy",get:function(){return this.LD},set:function(t){this.LD=t,this.BD&&(this.BD.xy=t)}},{key:"wg",get:function(){return this.PD.wg}},{key:"Ly",get:function(){return this.PD.Ly.SN()}},{key:"vm",get:function(){return this.PD.vm}},{key:"RN",get:function(){return this.PD.RN}},{key:"Vm",get:function(){return this.Mm}},{key:"zm",get:function(){return this.Lm}},{key:"lm",get:function(){return this.PD.lm}},{key:"dm",get:function(){return this.PD.dm}},{key:"wm",get:function(){return this.PD.wm},set:function(t){this.PD.wm=t}},{key:"My",get:function(){return this.zD}},{key:"Uy",get:function(){return this.PD.Uy},set:function(t){this.PD.Uy=t}},{key:"DN",get:function(){return this.FD}}]),i}(Ym);var cS=function(){function t(){this.NN=QT.cD}var n=t.prototype;return n.tR=function(t,n,i,e,r,s){return new hS(t,n,i,e,r)},n.CN=function(t,n){return function(t){return!t.type||!(!aS().canPlayType||!aS().canPlayType(t.type))}(t)},n.PN=function(){return!1},t}();function fS(t,n){for(var i=0,e=t.L_;i<e.length;i++){var r=e[i];if(r.Qy===n)return r}}var lS=function(){function t(){this.BN=new cS,this.ON=[]}t.xN=function(){return this.jn};var n=t.prototype;return n.LN=function(t){this.ON.push(t)},n.tR=function(t,n,i,e,r,s){for(var u=this.BN.tR(t,n,i,e,r,s),o=0,a=this.ON;o<a.length;o++){u=(0,a[o])(u,i,e)}return u},n.CN=function(t,n){return this.BN.CN(t,n)},n.PN=function(){return!1},T(t,[{key:"NN",get:function(){return this.BN.NN}}]),t}();function vS(t,n){return Hs(t.NN,n.NN)}function dS(t){wS.jn.MN(t)}lS.jn=new lS;var wS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).UN=lS.xN(),n}E(n,t);var i=n.prototype;return i.XN=function(t){this.UN=t},i.HN=function(){return this.UN},i.FN=function(t,n){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=0;case 1:if(!(i<t.length)){a.next=11;break}return e=t[i],a.next=5,Fr.awrap(this.zN(e,n));case 5:if(!(r=a.sent)){a.next=8;break}return a.abrupt("return",{VN:e,WN:r});case 8:i++,a.next=1;break;case 11:s=this.UN,u=0;case 13:if(!(u<t.length)){a.next=20;break}if(o=t[u],!s.CN(o,n)){a.next=17;break}return a.abrupt("return",{VN:o,WN:s});case 17:u++,a.next=13;break;case 20:return a.abrupt("return",{VN:t[0],WN:s});case 21:case"end":return a.stop()}},null,this,null,qe)},n}(function(){function t(){this.GN=[]}var n=t.prototype;return n.MN=function(t){this.GN.push(t),this.GN.sort(vS)},n.zN=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.GN;case 1:if(!(i<e.length)){u.next=17;break}if(r=e[i],!Y(s=r.CN(t,n))){u.next=10;break}return u.next=7,Fr.awrap(s);case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=Boolean(s);case 11:if(!u.t0){u.next=14;break}return u.abrupt("return",r);case 14:i++,u.next=1;break;case 17:return u.abrupt("return",void 0);case 18:case"end":return u.stop()}},null,this,null,qe)},t}());wS.jn=new wS;var gS,mS=function(){function t(t){this.qN=void 0,this.qN=we&&we.document&&we.document.createElement("div"),cr(this.qN),t.appendChild(this.qN)}return t.prototype.$c=function(){nr(this.qN)},t}();function yS(t){switch(t){case gS.YN:case"":return gS.YN;case gS.gA:return gS.gA;case gS.jN:default:return gS.jN}}!function(t){t.cD="",t.jN="none",t.gA="metadata",t.YN="auto"}(gS||(gS={}));var pS=[Um.hg,Bf.Pf,Bf.Tu,Bf.hv,Bf.Af,Bf.Of,Bf.Xf,Bf.Hf,Bf.Zf,Bf.Jf,Ay.jg,Ay.Qg,Ay.Zg,Ay.Kg,Ay.b_,Ay.Jg,Ay.$g,Bf.If,Bf.Rf,Bf.Cf,Bf.Bf,Bf.Lf,Bf.Mf,Bf.zf,Bf.Vf,Bf.Ff,Bf.Wf,Bf.qf,Bf.jf,Bf.Yf,Bf.ev,Bf.rv,Bf.Gf,Bf.Uf,Bf.Qf],_S=function(t){function n(n,i){var e;return(e=t.call(this)||this).QN=void 0,e.ZN=void 0,e.KN=void 0,e.JN=void 0,e.LD=gS.jN,e.$N=void 0,e.tC=!0,e.xm=new Hm,e.Lm=new Hm,e.Mm=new $m,e.Um=new hp,e.QN=n,e.KN=i,e.KN.xy=e.xy,e.nC(),e}E(n,t);var i=n.prototype;return i.qm=function(){this.KN.qm()},i.Gm=function(){var t=this.KN.Gm();Y(t)&&yu(t)},i.Ym=function(){return this.Qm(void 0)},i.$m=function(){},i.wy=function(t){return!1},i.nC=function(){this.xm.V_=this.KN.Fm,this.Lm.V_=this.KN.zm,this.Mm.V_=this.KN.Vm,this.Um.V_=this.KN.Wm,this.KN.tu(pS,this.Js)},i.iC=function(){this.KN.au(pS,this.Js),this.xm.V_=void 0,this.Lm.V_=void 0,this.Mm.V_=void 0,this.Um.V_=void 0},i.jm=function(){return this.$N},i.Qm=function(t,n){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(cu(n),this.$N=t,t){a.next=4;break}return a.abrupt("return");case 4:if(!my(i=t.sources.filter(ky))){a.next=7;break}return a.abrupt("return");case 7:return a.next=9,Fr.awrap(this.QN.FN(i,t));case 9:if(e=a.sent,cu(n),r=e.VN,s=e.WN,u=this.vy(),o=qy(this),this.ZN===s&&!this.Au){a.next=25;break}return this.iC(),a.next=19,Fr.awrap(this.KN.$c());case 19:cu(n),this.ZN=s,this.KN=this.eC(s),bS(this.KN,o),Gy(this,o,this),this.nC();case 25:return this.KN.xy=this.xy,this.tC?this.KN.sy():this.KN.uy(),a.next=29,Fr.awrap(this.KN.Qm(r,t,n));case 29:cu(n),this.rC(r),this.vy()!==u&&this.$s(new Zm);case 32:case"end":return a.stop()}},null,this,null,qe)},i.rC=function(t){this.JN!==t&&(this.JN=t,this.$s(new Km(t)))},i.Zm=function(){return this.KN.Zm()},i.Km=function(){this.KN.Km()},i.Jm=function(){this.KN.Jm()},i.vy=function(){return this.KN.vy()},i.py=function(){this.KN.py()},i.wc=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$N=void 0,this.rC(void 0),t.next=4,Fr.awrap(this.KN.wc());case 4:case"end":return t.stop()}},null,this,null,qe)},i.$c=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ou(),t.next=3,Fr.awrap(this.wc());case 3:return t.next=5,Fr.awrap(this.KN.$c());case 5:this.xm.$c(),this.Lm.$c(),this.Mm.$c(),this.Um.$c();case 9:case"end":return t.stop()}},null,this,null,qe)},i.sy=function(){this.tC=!0,this.KN.sy()},i.uy=function(){this.tC=!1,this.KN.uy()},T(n,[{key:"Fm",get:function(){return this.xm}},{key:"by",get:function(){return this.KN.by}},{key:"Au",get:function(){return this.KN.Au}},{key:"um",get:function(){return this.KN.um}},{key:"Ay",get:function(){return this.KN.Ay},set:function(t){this.KN.Ay=t}},{key:"yy",get:function(){return this.JN}},{key:"tm",get:function(){return this.KN.tm},set:function(t){this.KN.tm=t}},{key:"nm",get:function(){return this.KN.nm}},{key:"im",get:function(){return this.KN.im}},{key:"Wm",get:function(){return this.Um}},{key:"Sy",get:function(){return this.KN.Sy}},{key:"Ey",get:function(){return this.KN.Ey}},{key:"hm",get:function(){return this.KN.hm},set:function(t){this.KN.hm=t}},{key:"By",get:function(){return this.KN.By}},{key:"cm",get:function(){return this.KN.cm}},{key:"fm",get:function(){return this.KN.fm},set:function(t){this.KN.fm=t}},{key:"Oy",get:function(){return this.KN.Oy}},{key:"xy",get:function(){return this.LD},set:function(t){this.LD=t,this.KN&&(this.KN.xy=this.LD)}},{key:"wg",get:function(){return this.KN.wg}},{key:"Ly",get:function(){return this.KN.Ly}},{key:"vm",get:function(){return this.KN.vm}},{key:"Vm",get:function(){return this.Mm}},{key:"lm",get:function(){return this.KN.lm}},{key:"zm",get:function(){return this.Lm}},{key:"dm",get:function(){return this.KN.dm}},{key:"wm",get:function(){return this.KN.wm},set:function(t){this.KN.wm=t}},{key:"My",get:function(){return this.KN.My}},{key:"DN",get:function(){return this.KN.DN}}]),n}(Tu);function bS(t,n){t.hm!==n.hm&&(t.hm=n.hm),t.wm!==n.wm&&(t.wm=n.wm),t.fm!==n.fm&&(t.fm=n.fm)}var kS,AS=function(t){function n(n,i){var e;return(e=t.call(this)||this).M_=void 0,e.sC=void 0,e.uC=void 0,e.M_=n.length>>1,e.sC=n,e.uC=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.M_),e}E(n,t);var i=n.prototype;return i.oC=function(t){return this.sC[2*t]},i.aC=function(t){return this.uC[2*t]},i.hC=function(t){return this.sC[2*t+1]},i.cC=function(t){return this.uC[2*t+1]},T(n,[{key:"fC",get:function(){return this.sC.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Nk=function(t,n){return 0===this.Vk(t,n)},n.mp=function(t,n){return this.Vk(t,n)>0},n.yp=function(t,n){return this.Vk(t,n)>=0},n.jk=function(t,n){return this.Vk(t,n)<0},n.qk=function(t,n){return this.Vk(t,n)<=0},n.Up=function(t,n){return this.jk(t,n)?t:n},n.Mp=function(t,n){return this.mp(t,n)?t:n},n.vC=function(t,n,i){return i?this.qk(t,n):this.jk(t,n)},n.SN=function(){var t=this;return{get length(){return t.M_},start:function(n){var i=0|n;return t.lC(i),t.dC(t.oC(i))},end:function(n){var i=0|n;return t.lC(i),t.dC(t.hC(i))}}},n.wC=function(){for(var t=new Array(2*this.M_),n=new Array(2*this.M_),i=0;i<this.M_;i++)t[2*i]=this.oC(i),t[2*i+1]=this.hC(i),n[2*i]=!0,n[2*i+1]=!0;return this._C(t,n)},n.lC=function(t){if(t<0)throw new l("The index provided ("+t+") must be non-negative");if(t>=this.M_)throw new l("The index provided ("+t+") is greater than the maximum bound ("+this.M_+")")},n.gC=function(t){if(0===this.M_)return this.mC();if(this.TN(t))return t;if(this.qk(t,this.oC(0)))return this.oC(0);if(this.yp(t,this.hC(this.M_-1)))return this.hC(this.M_-1);for(var n,i=this.yC(),e=0;e<this.M_;e++){var r=this.oC(e),s=this.Yk(r,t);this.jk(s,i)&&(n=r,i=s);var u=this.hC(e),o=this.Yk(this.hC(e),t);this.jk(o,i)&&(n=u,i=o)}return n},n.kC=function(t){for(var n=0,i=0,e=[],r=[];n<this.M_&&i<t.M_;){var s=this.oC(n),u=this.hC(n),o=this.aC(n),a=this.cC(n),h=t.oC(i),c=t.hC(i),f=t.aC(i),l=t.cC(i),v=this.Mp(s,h),d=this.Up(u,c),w=void 0;w=this.Nk(s,h)?o&&f:this.Nk(v,s)?o:f;var g=void 0;g=this.Nk(u,c)?a&&l:this.Nk(d,u)?a:l,(this.jk(v,d)||w&&g&&this.Nk(v,d))&&(e.push(v,d),r.push(w,g));var m=this.Vk(this.hC(n),t.hC(i));0===m?(n+=1,i+=1):m<0?n+=1:i+=1}return this._C(e,r)},n.pC=function(){var t=this.bC(),n=t.M_;if(0===n)return this._C([t.AC(),t.yC()],[!1,!1]);var i=[],e=[],r=t.oC(0);t.Nk(r,t.AC())||(i.push(t.AC(),r),e.push(!1,!t.aC(0)));for(var s=0;s<n-1;s++)i.push(t.hC(s),t.oC(s+1)),e.push(!t.cC(s),!t.aC(s+1));var u=t.hC(n-1);return t.Nk(u,t.yC())||(i.push(u,t.yC()),e.push(!t.cC(n-1),!1)),t._C(i,e)},n.TC=function(t){for(var n=0,i=0,e=this.M_,r=t.M_,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var a=this.oC(n),h=this.hC(n),c=t.oC(i),f=t.hC(i);this.jk(a,c)||this.Nk(a,c)&&this.jk(h,f)?(s[o]=a,s[o+1]=h,u[o]=this.aC(n),u[o+1]=this.cC(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.aC(i),u[o+1]=t.cC(i),i++),o+=2}for(;n<e;)s[o]=this.oC(n),s[o+1]=this.hC(n),u[o]=this.aC(n),u[o+1]=this.cC(n),n++,o+=2;for(;i<r;)s[o]=t.oC(i),s[o+1]=t.hC(i),u[o]=t.aC(i),u[o+1]=t.cC(i),i++,o+=2;return this._C(s,u)},n.SC=function(t){void 0===t&&(t=this.mC());var n=this.M_;if(n<2)return this;for(var i=[],e=[],r=this.oC(0),s=this.hC(0),u=this.aC(0),o=this.cC(0),a=1;a<n;a++){var h=this.oC(a),c=this.hC(a),f=this.aC(a),l=this.cC(a);this.jk(r,h)&&this.mp(s,c)||(this.Nk(r,h)&&(u=f=u||f),this.Nk(s,c)&&(o=l=o||l),this.vC(h,this.Hy(s,t),o||f)?(s=c,o=l):(i.push(r,s),e.push(u,o),r=h,s=c,u=f,o=l))}return i.push(r,s),e.push(u,o),this._C(i,e).bC()},n.bC=function(){for(var t=[],n=[],i=0;i<this.M_;i++){var e=this.oC(i),r=this.hC(i),s=this.aC(i),u=this.cC(i);this.Nk(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this._C(t,n)},n.EC=function(t){return this.M_?t.M_?this.TC(t).SC():this:t},n.IC=function(t){var n=this.bC(),i=t.bC(),e=n.pC(),r=i.pC(),s=e.kC(i),u=r.kC(n);return s.EC(u)},n.Mu=function(t){if(this.Nk(t,this.mC()))return this;for(var n=[],i=[],e=0;e<this.M_;e++){var r=this.Hy(this.oC(e),t),s=this.Hy(this.hC(e),t);n.push(r,s),i.push(this.aC(e),this.cC(e))}return this._C(n,i)},n.RC=function(t){return 0===this.M_||0===t.M_?this:this.bC().kC(t.bC().pC())},n.TN=function(t,n){return this.DC(t,n)>=0},n.NC=function(t,n,i,e,r){return this.BC(t,n,i,e,r)>=0},n.OC=function(t,n,i,e,r){return this.xC(t,n,i,e,r)>=0},n.LC=function(t){if(t.M_!==this.M_)return!1;for(var n=0;n<this.M_;n++)if(!this.Nk(this.oC(n),t.oC(n))||!this.Nk(this.hC(n),t.hC(n))||this.aC(n)!==t.aC(n)||this.cC(n)!==t.cC(n))return!1;return!0},n.MC=function(t){for(var n=[],i=[],e=0;e<this.M_;e++){var r=this.oC(e),s=this.hC(e),u=this.aC(e),o=this.cC(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this._C(n,i)},n.xC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.mC());for(var s=this.Jk(t,r),u=this.Hy(n,r),o=0;o<this.M_;o+=1)if(this.vC(this.oC(o),u,!e||this.aC(o))&&this.vC(s,this.hC(o),!i||this.cC(o)))return o;return-1},n.BC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.mC());for(var s=this.Hy(t,r),u=this.Jk(n,r),o=0;o<this.M_;o+=1)if(this.vC(this.oC(o),s,!i||this.aC(o))&&this.vC(u,this.hC(o),!e||this.cC(o)))return o;return-1},n.DC=function(t,n){return this.BC(t,t,!0,!0,n)},n.UC=function(t,n){void 0===n&&(n=this.mC());for(var i=this.Hy(t,n),e=this.M_-1;e>=0;e-=1)if(this.vC(this.oC(e),i,this.aC(e)))return e;return-1},n.XC=function(t,n){void 0===n&&(n=this.mC());for(var i=this.Jk(t,n),e=0;e<this.M_;e+=1)if(this.vC(i,this.hC(e),this.cC(e)))return e;return-1},n.HC=function(t){return this.lC(t),this._C([this.oC(t),this.hC(t)],[this.aC(t),this.cC(t)])},n.FC=function(t,n){var i=this.DC(t,n);return i<0?void 0:this.HC(i)},T(t,[{key:"zC",get:function(){for(var t=this.mC(),n=0;n<this.M_;n++){var i=this.Jk(this.hC(n),this.oC(n));t=this.Hy(t,i)}return t}}]),t}()),TS=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.Vk=function(t,n){return t<n?Os.Bs:t===n?Os.Cs:Os.Ps},i.Hy=function(t,n){return t+n},i.Jk=function(t,n){return t-n},i.Yk=function(t,n){return g.abs(t-n)},i.mC=function(){return 0},i.yC=function(){return 1/0},i.AC=function(){return-1/0},n.VC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.WC=function(t){for(var i=[],e=[],r=0;r<t.M_;r++)i.push(t.oC(r).Fp),i.push(t.hC(r).Fp),e.push(t.aC(r)),e.push(t.cC(r));return new n(i,e)},n.GC=function(t){return new n([t,t],[!0,!0])},i._C=function(t,i){return new n(t,i)},i.dC=function(t){return t},n.qC=function(){return SS},n}(AS),SS=new TS([]);!function(t){t.k_="fullscreenchange",t.YC="fullscreensupportchange",t.hg="fullscreenerror"}(kS||(kS={}));var ES=function(t){function n(){return t.call(this,kS.hg)||this}return E(n,t),n}(Eu),IS=new(function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.nk=function(){this.$s(new ES)},i.rk=function(){},i.$c=function(){this.ou()},T(n,[{key:"jC",get:function(){return!1}},{key:"QC",get:function(){return!1}}]),n}(Tu)),RS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).CD=void 0,n.PD=void 0,n}E(n,t);var i=n.prototype;return i.oy=function(){var t;return null==(t=this.PD)?void 0:t.sN},i.$c=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.prototype.$c.call(this));case 2:if(!this.PD){n.next=6;break}return n.next=5,Fr.awrap(this.CD.bN(this.PD));case 5:this.PD=void 0;case 6:case"end":return n.stop()}},null,this,null,qe)},T(n,[{key:"ZC",set:function(t){this.CD=t,this.PD=t.rN(gp.Pd)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).KC=0,n.JC=!1,n.$C=!0,n.tP=1,n.nP=!1,n.Ba=1,n.Fm=new mp,n.by=TS.qC().SN(),n.nm=NaN,n.im=!1,n.Au=void 0,n.um=void 0,n.Wm=void 0,n.Sy=!1,n.By=!0,n.Oy=TS.qC().SN(),n.xy=gS.jN,n.wg=sy.Vg,n.Ly=TS.qC().SN(),n.RN=void 0,n.Vm=new Wb,n.lm=0,n.zm=new mp,n.dm=0,n.My=new oS,n.FD=new nS,n}E(n,t);var i=n.prototype;return i.sy=function(){},i.uy=function(){},i.Gm=function(){this.$C&&(this.$C=!1,this.$s(new Ey(this.tm)),this.$s(new Dk(this.tm)))},i.qm=function(){this.$C||(this.$C=!0,this.$s(new Ny(this.tm,this.Ay)),this.$s(new Sy(this.tm)))},i.Qm=function(t,n){return qe.resolve()},i.Zm=function(){return!1},i.Km=function(){},i.Jm=function(){},i.vy=function(){return IS},i.py=function(){},i.wc=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.KC=0,this.nP=!1,this.qm(),this.$s(new Ty(this.KC));case 4:case"end":return t.stop()}},null,this,null,qe)},i.$c=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.ou(),this.Fm.$c(),this.Vm.$c(),this.zm.$c();case 4:case"end":return t.stop()}},null,this,null,qe)},T(n,[{key:"Ay",get:function(){},set:function(t){}},{key:"tm",get:function(){return this.KC},set:function(t){this.KC!==t&&(this.KC=t,this.nP=!0,this.$s(new By(this.tm)))}},{key:"Ey",get:function(){return{Iy:0,Ry:0,Dy:0,Ny:0,Cy:0,Py:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"hm",get:function(){return this.JC},set:function(t){this.JC!==t&&(this.JC=t,this.$s(new Ly(this.tm,this.wm)))}},{key:"cm",get:function(){return this.$C}},{key:"fm",get:function(){return this.tP},set:function(t){this.tP!==t&&(this.tP=t,this.$s(new Dy(this.tm,this.fm)))}},{key:"vm",get:function(){return this.nP}},{key:"wm",get:function(){return this.Ba},set:function(t){this.Ba!==t&&(this.Ba=t,this.$s(new Ly(this.tm,this.wm)))}},{key:"Uy",get:function(){return!1},set:function(t){}},{key:"DN",get:function(){return this.FD}}]),n}(Tu)),CS=function(t){function n(n,i,e,r,s,u){var o,a=new RS;return(o=t.call(this,wS.jn,a)||this).Mc=void 0,o.iP=void 0,o.eP=void 0,o.rP=void 0,o.qE=void 0,o.sP=void 0,o.uP=void 0,o.eP=n,o.Mc=i,o.qE=e,o.sP=r,o.rP=u,o.iP=new le(s,o.rP),o.iP.oP(o.eP),a.ZC=o.iP,o.uP=new mS(o.eP),o}E(n,t);var i=n.prototype;return i.$m=function(){t.prototype.$m.call(this),this.iP.aP()},i.iy=function(t){var n,i,e,r;n=this,e=(i=t).wm,r=i.hm,n.wm=e,n.hm=r},i.ey=function(){},i.eC=function(t){return t.tR(this.eP,this.iP,this.qE,this.Mc,this.sP,this.rP)},i.oy=function(){return this.KN.oy()},i.ly=function(){return this.iP.hP.map(function(t){return t.sN})},i.uu=function(n){t.prototype.uu.call(this,n)},i.du=function(n){t.prototype.du.call(this,n)},i.$c=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.prototype.$c.call(this));case 2:this.iP.$c(),this.uP.$c();case 4:case"end":return n.stop()}},null,this,null,qe)},T(n,[{key:"Ty",get:function(){return this.eP}},{key:"Uy",get:function(){return this.KN.Uy},set:function(t){this.KN.Uy=t}}]),n}(_S),DS=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).eP=void 0,r.cP=void 0,r.fP=void 0,r.vP=void 0,r.lP=void 0,r.zD=new oS,r.eP=n,r.cP=i,r.vP=new mp,r.lP=new Wb,r.fP=e,r}E(n,t);var i=n.prototype;return i.wy=function(t){return!0},i.uy=function(){},i.Gm=function(){throw this.$s(new Uy(this.fP)),this.cP},i.qm=function(){},i.jm=function(){},i.Qm=function(t,n){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw cu(n),this.$s(new Uy(this.fP)),this.cP;case 3:case"end":return t.stop()}},null,this,null,qe)},i.sy=function(){},i.Ym=function(){return qe.resolve()},i.oy=function(){},i.vy=function(){return IS},i.ly=function(){return[]},i.$m=function(){},i.iy=function(t){},i.ey=function(){},i.Zm=function(){return!1},i.Km=function(){},i.Jm=function(){},i.py=function(){},i.wc=function(){return qe.resolve()},i.$c=function(){return this.ou(),this.vP.$c(),this.lP.$c(),qe.resolve()},T(n,[{key:"Fm",get:function(){return this.vP}},{key:"by",get:function(){return TS.qC().SN()}},{key:"Ay",get:function(){return new Date(NaN)},set:function(t){}},{key:"yy",get:function(){}},{key:"tm",get:function(){return 0},set:function(t){}},{key:"nm",get:function(){return 0}},{key:"Ty",get:function(){return this.eP}},{key:"im",get:function(){return!0}},{key:"Au",get:function(){return this.cP}},{key:"um",get:function(){return this.fP}},{key:"Wm",get:function(){}},{key:"Ey",get:function(){return{Iy:0,Ry:0,Dy:0,Ny:0,Cy:0,Py:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"hm",get:function(){return!1},set:function(t){}},{key:"By",get:function(){return!0}},{key:"cm",get:function(){return!0}},{key:"fm",get:function(){return 0},set:function(t){}},{key:"Oy",get:function(){return TS.qC().SN()}},{key:"xy",get:function(){return gS.jN},set:function(t){}},{key:"wg",get:function(){return sy.Vg}},{key:"Ly",get:function(){return TS.qC().SN()}},{key:"vm",get:function(){return!1}},{key:"Vm",get:function(){return this.lP}},{key:"lm",get:function(){return 0}},{key:"zm",get:function(){return this.vP}},{key:"dm",get:function(){return 0}},{key:"wm",get:function(){return 1},set:function(t){}},{key:"My",get:function(){return this.zD}},{key:"Uy",get:function(){return!1},set:function(t){}},{key:"Sy",get:function(){return!1}}]),n}(Qm);function NS(t){if(t&&W(t))return Ur({},t,{integration:PS(t.integration),fairplay:jS(t.fairplay),widevine:xS(t.widevine),playready:BS(t.playready),clearkey:FS(t.clearkey),aes128:US(t.aes128),integrationParameters:HS(t.integrationParameters),preferredKeySystems:XS(t.preferredKeySystems)})}function PS(t){if(G(t))return t}function xS(t){if(t&&W(t))return{persistentState:OS(t.persistentState),distinctiveIdentifier:OS(t.distinctiveIdentifier),audioRobustness:LS(t.audioRobustness),videoRobustness:LS(t.videoRobustness),licenseAcquisitionURL:G(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:MS(t.licenseType),headers:t.headers,useCredentials:!!$(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:G(t.certificate)||Go(t.certificate)?t.certificate:void 0}}function BS(t){if(t){var n=xS(t);if(n)return Ur({},n,{customData:G(t.customData)?t.customData:void 0})}}function OS(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function LS(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function MS(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function jS(t){if(t){var n=xS(t);if(n)return Ur({},n,{certificateURL:G(t.certificateURL)?t.certificateURL:void 0})}}function FS(t){if(t){var n=xS(t);if(n)return Ur({},n,{keys:z(t.keys)?t.keys.map(function(t){return function(t){if(!t||!W(t))return;var n=t.id,i=t.value;if(!G(n)||!G(i))return;return{id:n,value:i}}(t)}).filter(H):void 0})}}function US(t){if(W(t))return{useCredentials:$(t.useCredentials)?t.useCredentials:void 0}}function HS(t){if(W(t))return t}function XS(t){return t&&z(t)?t.map(function(t){return IA(t)}).filter(H):[os,rs,fs]}function zS(t){return(t=t||{}).position=function(t){switch(t){case"top-left":case"top-right":case"bottom-left":case"bottom-right":return t;default:return}}(t.position),t.visibility=function(t){if(H(t)&&!p(t))return Ft(t,0,1)}(t.visibility),t.retainPresentationModeOnSourceChange=Im(t.retainPresentationModeOnSourceChange),t}var VS,WS=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return E(n,t),n}(Eu),qS=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).dP=[],e.wP=void 0,e._P=function(t){mu(function(){e.Js(t)})},e.wP=i?e._P:e.Js,e}E(n,t);var i=n.prototype;return i.gP=function(t){t.uu(this.wP),this.dP.push(t)},i.mP=function(t){t.du(this.wP),$s(this.dP,t)},i.$c=function(){this.ou();for(var t=0,n=this.dP;t<n.length;t++){n[t].du(this.wP)}Zs(this.dP)},n}(Ym),GS=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(qS);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(VS||(VS={}));var $S,YS=function(t){function i(n){var i;return(i=t.call(this)||this).yP=void 0,i.kP=void 0,i.pP=!1,i.bP=!1,i.AP=void 0,i.TP=void 0,i.SP=void 0,i.u_=void 0,i.EP=function(){return i.IP()},i.RP=function(){return i.DP()},i.SP=n,i.yP=i.kP=i.AP=i.TP=VS.INLINE,i.SP.tu(kS.k_,i.EP),i.SP.tu(kS.hg,i.RP),i.NP(),i}E(i,t);var e=i.prototype;return e.a_=function(){return t=this,i={get currentMode(){return t.CP()},requestMode:function(n){var i=ZS(n);i&&t.PP(i)},supportsMode:function(n){var i=ZS(n);return!!i&&t.BP(i)},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.au(t,i)}},(n=new qS(i,!0)).gP(t),i;var t,n,i},e.PP=function(t){this.OP(t,t)},e.OP=function(t,n){this.kP!==n&&(this.pP=!0,this.yP=t,this.xP(n,this.kP),t!==VS.FULLSCREEN&&(this.AP=t),this.pP=!1,this.NP())},e.CP=function(){return this.bP?VS.FULLSCREEN:VS.INLINE},e.BP=function(t){switch(t){case VS.FULLSCREEN:return this.SP.QC;case VS.INLINE:return!0}return!1},e.NP=function(){if(!this.pP){var t=this.kP,n=this.CP();this.kP=n,n!==VS.FULLSCREEN&&(this.TP=n),t!==n&&this.$s(new WS(n))}},e.xP=function(t,n){var i=t===VS.FULLSCREEN;this.bP=i,i!==this.SP.jC&&(i?this.SP.nk():this.SP.rk())},e.IP=function(){if(!this.pP){var t=this.SP.jC;this.bP=t,t?this.OP(VS.FULLSCREEN,VS.FULLSCREEN):t||this.yP!==VS.FULLSCREEN?this.NP():this.OP(this.AP,this.TP)}},e.DP=function(){this.IP(),this.$s(new Uy(new ff(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.$c=function(){this.SP.$c(),this.ou()},T(i,[{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}}]),i}(Ym),QS={tm:0,nm:NaN,im:!1,Au:void 0,um:void 0,hm:!1,cm:!0,fm:1,wg:sy.Vg,vm:!1,lm:0,dm:0,wm:1};function ZS(t){switch(t){case VS.INLINE:case VS.FULLSCREEN:case VS.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor"}($S||($S={}));var KS,JS,tE,nE,iE,eE,rE,sE,uE=function(){function t(){this.LP=[]}var n=t.prototype;return n.MP=function(t){var n=this.UP.filter(function(n){return n.XP(t)});if(n.length>1)0;else if(0===n.length)throw l("Unknown ad integration: "+t.integration);return n[0]||null},n.HP=function(t){this.LP.push(t)},T(t,[{key:"UP",get:function(){return this.LP}}]),t}();uE.jn=new uE,function(t){t.$g="PLAYING",t.Cm="PAUSED",t.FP="SEEK",t.zP="STALLED",t.VP="FAILED",t.WP="INITIAL_BUFFERING",t.GP="NO_ACCESS"}(KS||(KS={})),function(t){t.qP="HTTP_REQUEST_STATUS_CODE_1XX",t.YP="HTTP_REQUEST_STATUS_CODE_2XX",t.jP="HTTP_REQUEST_STATUS_CODE_3XX",t.QP="HTTP_REQUEST_STATUS_CODE_4XX",t.ZP="HTTP_REQUEST_STATUS_CODE_5XX",t.KP="BUFFER_LENGTH",t.JP="BYTES_RECEIVED",t.$P="SEGMENT_READ_BITRATE",t.tB="SEGMENT_PROFILE_BITRATE",t.nB="NUMBER_OF_FRAMES_DROPPED",t.iB="PLAYBACK_POSITION",t.eB="NUMBER_OF_FRAMES_DECODED",t.rB="PLAYBACK_DELTA_TO_ORIGIN",t.sB="STREAM_DELTA_TO_ORIGIN",t.uB="ORIGIN_TIMESTAMP"}(JS||(JS={})),function(t){t.oB="MANIFEST_URI",t.aB="ASSET_DURATION",t.hB="NUMBER_OF_CONTENT_PROFILES",t.cB="CDN",t.fB="CONTENT_TITLE",t.vB="SERVICE_NAME",t.lB="CONTENT_TYPE",t.dB="CONTENT_DESCRIPTION"}(tE||(tE={})),function(t){t.wB="shutdown_normal_shutdown"}(nE||(nE={})),function(t){t._B="session/",t.gB="internalError/",t.mB="drmError/",t.yB="caError/",t.kB="networkError/"}(iE||(iE={})),function(t){t.pB="userAction",t.bB="endOfStreamReached"}(eE||(eE={})),function(t){t.PAUSE="AB",t.RESUME="TB"}(rE||(rE={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(sE||(sE={}));var oE,aE,hE,cE,fE,lE,vE="agama";function dE(t){return function(t){switch(t){case oE.NONE:case oE.HORIZONTAL:case oE.VERTICAL:return!0;default:return!1}}(t)?t:oE.NONE}function wE(t){switch(t){case"":return oE.NONE;case"horizontal":return oE.HORIZONTAL;case"vertical":return oE.VERTICAL;default:throw new v}}function gE(t,n){if(n)return aE.PM360;if(null==t)return aE.NONE;switch(t){case"":return aE.NONE;case"360":return aE.PM360;case"180":return aE.PM180;default:throw new v("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}function mE(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!G(t))return hE.YN;switch(t){case"always":return hE.SB;case"never":return hE.EB;case"clear-only":return hE.CLEAR_ONLY;case"same-drm-only":return hE.SAME_DRM_ONLY;default:return hE.YN}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:Im(null==t?void 0:t.needsTimescaleShifting),desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?Rm(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:Im(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:Im(null==t?void 0:t.ignoreAvailabilityWindow)}}function yE(t){if(!t||!G(t))return cE.YN;switch(t){case"playlist":return cE.IB;case"media":return cE.RB;default:return cE.YN}}function pE(t,n){return t.length>0?t:n.length>0?n:void 0}function _E(t){if(null!==t)return t}function bE(t){var n={};if(!W(t))return n;var i=t;for(var e in i)if(w.prototype.hasOwnProperty.call(i,e)){var r=i[e];G(r)&&(n[e]=r)}return n}function kE(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:_E(t.streamActivityMonitorID),adTagParameters:W(t.adTagParameters)?t.adTagParameters:{},authToken:_E(t.authToken),omidAccessModeRules:t.omidAccessModeRules?bE(t.omidAccessModeRules):void 0};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,s=t.contentSourceID;return r?s?Ur({},e,{availabilityType:"vod",videoID:r,contentSourceID:s}):void i.Tr("A VOD DAI configuration was provided without valid contentSourceID which is required."):void i.Tr("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Ur({},e,{availabilityType:"live",assetKey:u}):void i.Tr("A Live DAI configuration was provided without valid assetKey which is required.")}i.Tr("A DAI configuration was provided without a valid availabilityType which is required.")}function AE(t){if(!pA(t)||!t.integration)return t;switch(t.integration){case Hk:return n=t,i=EA(Kr.fs,n),e=EA(Kr.hs,n),r=n[Kr.ls]&&EA(Kr.ls,n),Ur({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(oE||(oE={})),function(t){t.NONE="",t.PM360="360",t.PM180="180"}(aE||(aE={})),function(t){t.YN="auto",t.SB="always",t.EB="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only"}(hE||(hE={})),function(t){t.YN="auto",t.IB="playlist",t.RB="media"}(cE||(cE={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(fE||(fE={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(lE||(lE={}));var TE="https://content.uplynk.com";function SE(t){if(!t)return!0;var n,i=!(gy(n=t.sources)||V(n)&&gy(n[0]))||my(t.sources),e=!t.ads||EE(t.ads),r=""!==t.poster&&!t.poster;return i&&e&&r}function EE(t){return!t||z(t)&&0===t.length}function IE(t){if(t&&t.sources)return function t(n){if(G(n))return n;if(dy(n))return n.src;if(V(n)&&n.length>0)return t(n[0]);return}(t.sources)}function RE(t,n,i){return ly(t)?function(t,n,i){var e=Ur({},yy(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:fE.VERIZON_MEDIA,id:"",prefix:TE,preplayParameters:{},playbackUrlParameters:{},assetType:lE.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,G(r)?r:V(r)&&G(r[0])?r:W(s=r)&&G(s.userId)&&(V(s.externalId)||G(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return lE.CHANNEL;case"event":return lE.EVENT;case"asset":default:return lE.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=Im(t.contentProtected));t.assetInfo?e.assetInfo=Im(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=Dm(t.prefix)||TE);return e.ping=(u=e.assetType,o=t.ping,a=!1,h=!1,c=!1,o?(a=!!$(o.adImpressions)&&o.adImpressions,h=!!$(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=$(o.linearAdData)?o.linearAdData:u!==lE.ASSET):u!==lE.ASSET&&(c=!0),{adImpressions:a,freeWheelVideoViews:h,linearAdData:c}),e=DE(e=NE(e=CE(e,t),n,i),t,i);var u,o,a,h,c}(t,n,i):function(t,n,i){var e=py(),r=n&&(n.contentProtection||n.drm);if(G(t)){if(e.src=t,e.type=ay(t),r){var s=NS(r);e.contentProtection=AE(s)}}else if(dy(t)||fy(t)){e.src=t.src,e.type=t.type||ay(t.src),e.isAdvertisement=t.isAdvertisement;var u=wy(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=W(c=t)&&G(c.integration)&&"mediatailor"===c.integration;o&&(e.integration=t.integration);var a=t.contentProtection||t.drm||r,h=NS(a);e.contentProtection=AE(h),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return kE(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=CE(e,t)}var c;return e=DE(e=NE(e,n,i),t,i)}(t,n,i)}function CE(t,n){var i,e;n.useCredentials?t.crossOrigin=ny.zg:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case ny.Fg:case ny.zg:return t;default:return ny.Hg}}(n.crossOrigin)),G(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Im(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Im(n.useNativePlayback)),n.dash&&(t.dash=mE(n.dash)),n.hls&&(t.hls={discontinuityAlignment:yE(null==(i=n.hls)?void 0:i.discontinuityAlignment),useLegacy:(e=null==i?void 0:i.useLegacy,H(e)?Boolean(e):void 0)}),n.lcevc&&(t.lcevc=Im(n.lcevc));var r=void 0!==n.experimentalRendering?Im(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var s=void 0!==n.nativeUiRendering?Im(n.nativeUiRendering):void 0;return void 0!==s&&(t.nativeUiRendering=s),t}function DE(t,n,i){return t.abr=function(t,n){var i=Nm(null==t?void 0:t.preferredAudioCodecs,Dm),e=Nm(null==t?void 0:t.preferredVideoCodecs,Dm),r=Nm(null==n?void 0:n.preferredAudioCodecs,Dm),s=Nm(null==n?void 0:n.preferredVideoCodecs,Dm),u=pE(i,r),o=pE(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}(G(n)?void 0:n.abr,null==i?void 0:i.abr),t}function NE(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!H(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!H(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===ny.Hg&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=ny.Fg),t.useCredentials=t.crossOrigin===ny.zg,G(r)&&!t.timeServer&&(t.timeServer=r),t}function PE(t){var n,i,e={src:""};if(t&&t.src){if(e.src=Dm(t.src),"default"in t&&(e.default=Im(t.default)),e.kind=(n=t.kind,Gb(i=String(n||"").toLowerCase())?i:i?Vb.gA:Vb.wA),function(t){switch(t){case Pp.DEFAULT:case Pp.SRT:case Pp.TTML:case Pp.WEBVTT:case Pp.EMSG:case Pp.EVENT_STREAM:case Pp.ID3:case Pp.CEA608:case Pp.DATE_RANGE:return!0;default:return!1}}(t.format)&&(e.format=t.format),"srclang"in t){var r=t.srclang;"string"==typeof r&&""!==r&&(e.srclang=r)}if("label"in t){var s=t.label;"string"==typeof s&&""!==s&&(e.label=s)}}return e}function xE(t,n){if(q(t))try{return n.MP(t).DB(t)}catch(t){return}}function BE(t){return G(t.sources)&&""!==t.sources||W(t.sources)&&G(t.sources.src)}function OE(t){return t.integration===$S.SPOTX&&!p(t.id)}function LE(t){return"freewheel"===t.integration}function ME(t,n,i){if(void 0===i&&(i=uE.jn),SE(t))return{sources:[py()]};var e=Am(t);if(e.sources=function(t,n,i){if(gy(t))return[RE(t,n,i)];if(V(t)&&gy(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(RE(s,n,i))}return e}return[py()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!V(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=xE(s,n))&&(BE(s)||OE(s)||LE(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,a=!my(e.sources),h=e.ads&&e.ads.length>0;if(a&&!h?delete e.ads:h&&!a&&(e.sources=[]),"textTracks"in e){var c=function(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=PE(r)).src&&n.push(r)}return n}(e.textTracks);0===c.length?delete e.textTracks:e.textTracks=c}if("poster"in e&&(e.poster=Dm(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=dE(u.stereoMode),{panoramaMode:gE(u.panoramaMode,Boolean(u[360])),stereoMode:u.stereoMode?wE(u.stereoMode):oE.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=by(e.analytics),l=n&&n.analytics||[];e.analytics=function(t,n){for(var i=Am(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==vE&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,l)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Vy(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=Rm(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var jE=function(){function t(t){this.NB=t}return t.prototype.CB=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";var h=t.length%4;if(h>0)for(;h++<4;)t+=this.NB.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.NB.indexOf(t.charAt(n))<<18|this.NB.indexOf(t.charAt(n+1))<<12|(s=this.NB.indexOf(t.charAt(n+2)))<<6|(u=this.NB.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.PB=function(t,n){var i,e,r,s,u,o,a,h=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.NB.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,h[o/3]=this.NB.charAt(e)+this.NB.charAt(r)+this.NB.charAt(s)+this.NB.charAt(u);return a=(a=h.join("")).slice(0,a.length-c.length),n||(a+=c),a},t.bb=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.BB=new t(t.bb.CB("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function FE(t){return"string"==typeof t}function UE(t){return"number"==typeof t}var HE={}.toString;var XE,zE=Array.isArray||function(t){return"[object Array]"===HE.call(t)};function VE(t,n){return zE(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(XE||(XE={}));var WE,qE=w.keys(XE).map(function(t){return XE[t]});function GE(t){return-1!==qE.indexOf(t)}!function(t){t.HESP="hesp",t.MULTIVIEW="multiview"}(WE||(WE={}));var $E,YE=w.keys(WE).map(function(t){return WE[t]});function QE(t){return-1!==YE.indexOf(t)}function ZE(t){try{var n=jE.BB.CB(t),i=JSON.parse(n);if(!function(t,n){var i,e=(v=t,"object"==typeof v&&null!==v),r=FE(t.key),s=FE(t.customer_id),u=UE(t.generation_date),o=UE(t.expiration_date),a=VE(t.domains_page,FE),h=VE(t.domains_source,FE),c=VE(t.sdks,n?GE:FE),f=(l=t.send_impression,"boolean"==typeof l);var l;var v;t.features?i=VE(t.features,n?QE:FE):(i=!0,t.features=[]);if(!(e&&r&&s&&u&&o&&a&&h&&c&&f&&i))return!1;return!0}(i,!1))throw new l("The provided license could not be decoded correctly.");return i}catch(t){throw new l("The provided license could not be decoded correctly.")}}function KE(){return $E||($E={wd:ge.href,OB:we.parent&&we.parent!==r,xB:nI()}),$E}var JE,tI=["http:","https:","ftp:","ws:","wss:"];function nI(){try{return we.top.location.href}catch(t){return we&&we.document&&we.document.referrer}}!function(t){t[t.LB=0]="LB",t[t.MB=1]="MB",t[t.UB=2]="UB"}(JE||(JE={}));var iI,eI=function(t,n,i,e,r,s,u,o,a){void 0===r&&(r=[]),void 0===s&&(s=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.XB=t,this.HB=n,this.FB=i,this.zB=e,this.VB=r,this.WB=s,this.GB=u,this.qB=o,this.YB=a};!function(t){t.MB="expired",t.jB="invaliddomain",t.QB="invalidsource",t.ZB="invalidfeature",t.hg="error"}(iI||(iI={}));var rI=function(){function t(t,n,i){this.KB=void 0,this.JB=t,this.$B=n,this.$o=i,this.KB=cI(this.$o)}var n=t.prototype;return n.tO=function(t,n){var i=[];gy(t.sources)?i=[t.sources]:V(t.sources)&&(i=t.sources),this.nO(t,i,n),this.iO(i,n)},n.nO=function(t,n,i){var e=this;if(!SE(t)&&0!==i.FB.length&&!oI(i.FB)&&!n.every(function(t){return e.eO(t,i)})){var r=iI.QB,s=lI.rO(r);throw new ff(sI(r),s)}},n.iO=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];dy(e)&&wy(e)&&this.sO([WE.HESP],n)}},n.uO=function(n){return this.oO(n.qB)&&this.aO(n)?t.hO(n.zB)?JE.LB:JE.MB:JE.UB},n.sO=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(!Qs(n.VB,e)){var r=iI.ZB,s=lI.cO(r,e);throw new ff(sI(r),s)}}},n.oO=function(t){var n=this;return 0===t.length||t.some(function(t){return n.fO(t)})},n.fO=function(t){return"ios"===function(t){switch(t){case XE.ANDROID:return e.g;case XE.ANDROIDTV:case XE.FIRETV:return e.I;case XE.IOS:return e.R;case XE.TVOS:return e.N;case XE.CHROMECAST:case XE.CHROMECASTCAF:return e.U;default:return e.l}}(t)},t.hO=function(t){var n=Number(new Date);return!!t&&n<=t},n.aO=function(t){return!(this.KB&&0!==t.HB.length&&!oI(t.HB))||!!(this.KB&&this.vO(t.HB)&&this.lO(t.HB))},n.vO=function(t){return aI(this.$o.wd,t)},n.lO=function(t){if(!this.$o.OB)return!0;if(this.JB)return!0;var n=this.dO();return!!n&&aI(n,t)},n.dO=function(){if(this.$o.OB){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.$o.xB?this.$o.xB:void 0}},n.eO=function(n,i){return!!t.wO(n,i.FB)},t.wO=function(t,n){return aI(this._O(t),n)},t._O=function(t){return G(t)?t:dy(t)&&t.src||""},t}();function sI(t){switch(t){case iI.jB:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case iI.QB:return n.ErrorCode.LICENSE_INVALID_SOURCE;case iI.MB:return n.ErrorCode.LICENSE_EXPIRED;case iI.ZB:return n.ErrorCode.LICENSE_INVALID_FEATURE;case iI.hg:return n.ErrorCode.LICENSE_ERROR}}function uI(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),a=e.match(o),h=function(t){return"*"===t?"("+s+")":t};if(null!==a&&5===a.length){var c=new RegExp("^"+a[1]+r+h(a[2])+r+h(a[3])+r+h(a[4])+"$");return null!==i.match(c)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function oI(t){return t.some(function(t){return"*"===t})}function aI(t,n){var e=i.Mr(t);if(!hI(e))return!0;for(var r=0;r<n.length;r++){var s=n[r];if(uI(e.hostname,s))return!0;if(uI(Tw(t),s))return!0}return!1}function hI(t){return-1!==tI.indexOf(t.protocol)}function cI(t){var n=i.Mr(t.wd);return hI(n)&&!uI(n.hostname,"localhost")&&!function(t){return uI(t.hostname,"theoplayer.doubleclick.net")}(n)}var fI,lI=function(){function t(){}return t.cO=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.rO=function(t){return t===iI.jB?this.gO:t===iI.QB?this.mO:t===iI.MB?this.yO:t===iI.ZB?this.kO:this.pO},t}();function vI(t){var n=[t.GS,t.bO,t.AO];switch(t.bO){case fI.TO:n.push(t.yg);break;case fI.SO:n.push(t.tm),n.push(t.Au);break;case fI.EO:n.push(t.Au)}return n}lI.pO="The license for this player is invalid.",lI.yO="The usage license for this video player has expired.",lI.gO="The current domain is incompatible with the license for this player.",lI.mO="The provided video source is incompatible with the license for this player.",lI.kO="The requested feature is not available with the license for this player.",function(t){t[t.TO=1]="TO",t[t.SO=4]="SO",t[t.EO=5]="EO"}(fI||(fI={}));for(var dI=new Array(256),wI=0;wI<256;wI+=1)dI[wI]=(wI<16?"0":"")+wI.toString(16);function gI(){var t=Wt(),n=(4294967296*g.random()|0)+t&3029421624,i=(4294967296*g.random()|0)+t&3595553209,e=(4294967296*g.random()|0)+t&1130486254,r=(4294967296*g.random()|0)+t&1284287105;return dI[255&n]+dI[n>>>8&255]+dI[n>>>16&255]+dI[n>>>24&255]+"-"+dI[255&i]+dI[i>>>8&255]+"-"+dI[i>>>16&15|64]+dI[i>>>24&255]+"-"+dI[63&e|128]+dI[e>>>8&255]+"-"+dI[e>>>16&255]+dI[e>>>24&255]+dI[255&r]+dI[r>>>8&255]+dI[r>>>16&255]+dI[r>>>24&255]}var mI=function(){function t(t){this.NB=void 0,this.NB=t}var n=t.prototype;return n.CB=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.NB.indexOf(t.charAt(n))<<18|this.NB.indexOf(t.charAt(n+1))<<12|(s=this.NB.indexOf(t.charAt(n+2)))<<6|(u=this.NB.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.PB=function(t){var n,i,e,r,s,u,o,a=[],h="";if((u=t.length%3)>0)for(;u++<3;)h+=this.NB.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,a[u/3]=this.NB.charAt(i)+this.NB.charAt(e)+this.NB.charAt(r)+this.NB.charAt(s);return(o=a.join("")).slice(0,o.length-h.length)+h},t}();function yI(){return i.wr()}mI.bb=new mI(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),mI.BB=new mI(mI.bb.CB("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var pI,_I="theoplayer-session-id";function bI(){if(!pI){var t=Df.Cu(_I);t?pI=t:(pI=gI(),Df.pf(_I,pI))}return pI}var kI=/[^\x00-\x7E]/g;function AI(t){return"\\u"+Is(t.charCodeAt(0).toString(16),4,"0")}var TI=0,SI=1,EI=6e4;function II(t){var n,i,e,r,s,u=(n=function(t){return[t.IO,t.uc,t.XB,t.qA,t.RO,t.DO,t.CO.map(vI)]}(t),i=[],e=n,r=function(t,n){if(W(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(kI,AI));return mI.BB.PB(u)}var RI=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=mI.bb),void 0===r&&(r=TI),void 0===s&&(s=SI),this.PO=[],this.BO=null,this.OO=0,this.xO="unknown",this.qa=0,this.LO=void 0,this.MO=function(){yI()-u.OO>EI&&u.Be()},this.UO=function(){u.Be(!0)},this.kh=t,this.qE=n,this.XO=i,this.HO=e,this.FO=r,this.zO=s,de.VO(this.UO),this.LO=c(this.MO,EI)}var n=t.prototype;return n.WO=function(){return Boolean(this.RO)},n.GO=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.XO.qO());case 2:if(i.sent.YB){i.next=5;break}return i.abrupt("return");case 5:return n={bO:fI.TO,AO:Wt(),yg:t},i.next=8,Fr.awrap(this.YO(n));case 8:case"end":return i.stop()}},null,this,null,qe)},n.jO=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={bO:fI.SO,AO:Wt(),tm:n,Au:t},e.next=3,Fr.awrap(this.YO(i));case 3:case"end":return e.stop()}},null,this,null,qe)},n.QO=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={bO:fI.EO,AO:Wt(),Au:t},i.next=3,Fr.awrap(this.YO(n));case 3:case"end":return i.stop()}},null,this,null,qe)},n.YO=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.XO.qO());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.HO.PB(n.XB)){i.next=6;break}if(t.bO===fI.EO){i.next=6;break}return i.abrupt("return");case 6:if(t.bO===fI.TO?this.ZO():this.WO()||this.ZO(),t.GS=this.qa++,this.PO.push(t),(e=t.bO)!==fI.TO&&e!==fI.EO){i.next=14;break}return i.next=12,Fr.awrap(this.Be());case 12:i.next=19;break;case 14:if(!(this.PO.length>this.FO)){i.next=19;break}return i.next=17,Fr.awrap(this.KO());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,qe)},n.Be=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.PO.length>0)){n.next=6;break}return n.next=4,Fr.awrap(this.KO(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,qe)},n.JO=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.XO.qO());case 2:return n=i.sent,i.abrupt("return",{IO:Wt(),uc:bI(),XB:this.HO.PB(n.XB)||"dev",qA:this.kh,RO:this.BO,DO:this.xO,CO:t});case 4:case"end":return i.stop()}},null,this,null,qe)},n.KO=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.PO.splice(0,this.zO),e.next=4,Fr.awrap(this.JO(n));case 4:i=e.sent,t?this.Hd(i):this.$O(i),this.OO=yI();case 7:case"end":return e.stop()}},null,this,null,qe)},n.$O=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=II(t),i=new gw({wd:"https://license.theoplayer.com",ql:n,Ud:!1,hd:Of.ni,od:{"Content-Type":uT.ER},xd:4e3,Od:fw.POST}),r.prev=2,r.next=5,Fr.awrap(this.qE.ld(i));case 5:return e=r.sent,r.next=8,Fr.awrap(e.Vl());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],qe)},n.Hd=function(t){var n=II(t);this.qE.Hd({wd:"https://license.theoplayer.com",ql:n,Gl:uT.ER})},n.ZO=function(){this.WO()&&this.Be(),this.BO=gI(),this.qa=0},n.$c=function(){de.tx(this.UO),f(this.LO),this.Be()},T(t,[{key:"CO",get:function(){return this.PO}},{key:"RO",get:function(){return this.BO}}]),t}();var CI=j.Dn||j.cn&&j.xn<13;function DI(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var NI=function(){function t(t){this.WN=void 0,this.u_=void 0,this.nx=void 0,this.WN=t}var n=t.prototype;return n.ix=function(t){if(!t||!t.drawImage)return!1;var n=this.WN.oy();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.ex=function(t,n,i,e,r,u){if(!t||!t.texImage2D)return!1;var o=this.WN,a=o.oy();if(!a)return!1;if(CI){this.nx||(this.nx=s.createElement("canvas"));var h=this.nx,c=h.getContext("2d"),f=o.dm,v=o.lm,d=h.width,w=h.height;c.clearRect(0,0,h.width,h.height),d===f&&w===v||(h.width=f,h.height=v),c.drawImage(a,0,0,f,v);var g=!1;f>0&&DI(c,f-1,0)&&(h.width=d,g=!0),v>0&&DI(c,0,v-1)&&(h.height=w,g=!0),g&&c.drawImage(a,0,0,f,v),a=h}try{t.texImage2D(n,i,e,r,u,a)}catch(t){throw new l("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},T(t,[{key:"o_",get:function(){return this.u_||(this.u_=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.ix.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.ex(n,i,e,r,s,u)}}));var t}}]),t}(),PI=function(t){function n(n,i){var e;return(e=t.call(this,"sx")||this).Xk=n,e.ST=i,e}return E(n,t),n.prototype.a_=function(){return new xI(this.Xk,this.ST)},n}(um),xI=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return E(n,t),n}(Eu),BI=function(t,n){this.Ty=void 0,this.ux=void 0,this.Ty=t,this.ux=n},OI=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).ox=void 0,e.ax=0,e.hx=0,e.vx=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.hx=n.width,e.ax=n.height,e.ux(e.hx,e.ax)}},e.ox=new we.ResizeObserver(e.vx),e.ox.observe(e.Ty),e}return E(n,t),n.prototype.$c=function(){this.ox.disconnect()},T(n,[{key:"lx",get:function(){return this.ax}},{key:"wx",get:function(){return this.hx}}]),n}(BI),LI=0;var MI,jI=h,FI=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,UI=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function HI(){return MI||(MI=we&&we.document&&we.document.createElement("span")),MI}FI&&UI||(FI=function(t){var n=yI(),i=g.max(0,16-(n-LI)),e=a(function(){return t(n+i)},i);return LI=n+i,e},UI=jI),FI=FI.bind(t),UI=UI.bind(t);var XI=["Webkit","Moz","O","ms"],zI=function(){var t=!1;try{if(void 0!==we&&"function"==typeof we.addEventListener){var n=w.defineProperty({},"passive",{get:function(){t=!0}});we.addEventListener("testPassiveEventSupport",K,n),we.removeEventListener("testPassiveEventSupport",K,n)}}catch(t){}return t}(),VI=Xr();function WI(t){return VI.has(t)||VI.set(t,function(t){var n=HI();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<XI.length;e++){var r=XI[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),VI.get(t)}function qI(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function GI(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[WI("transition")]="0s"}var $I=function(t){function n(n,i,e){var u;(u=t.call(this,n,i)||this)._x=void 0,u.gx=0,u.hx=NaN,u.ax=NaN,u.mx=void 0,u.yx=void 0,u.kx=void 0,u.bx=void 0,u.Ax=void 0,u.wc=function(){u.yx.style.width=1e5+"px",u.yx.style.height=1e5+"px",u.mx.scrollLeft=1e5,u.mx.scrollTop=1e5,u.kx.scrollLeft=1e5,u.kx.scrollTop=1e5,0===u.kx.scrollTop&&FI(u.wc)},u.Tx=function(){var t=u.wx,n=u.lx;u.ux(t,n),u.hx=t,u.ax=n,u.wc(),u.gx=0},u.Sx=function(){if(!u.gx){var t=u.wx,n=u.lx;t===u.hx&&n===u.ax||(u.gx=FI(u.Tx))}},u.Ex=function(){u.Ax||(u.Ax=a(u.Ix,66))},u.Ix=function(){u.Ax=void 0,u.Rx()},u.Rx=function(){u.Sx()};var o=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");e||"static"!==o||(n.style.position="relative");var h,c=s.createElement("div");return u._x=c,u.mx=s.createElement("div"),u.yx=s.createElement("div"),u.kx=s.createElement("div"),u.bx=s.createElement("div"),qI(u.mx),qI(u.kx),GI(u.yx),GI(h=u.bx),h.style.width="200%",h.style.height="200%",c.appendChild(u.mx),c.appendChild(u.kx),u.mx.appendChild(u.yx),u.kx.appendChild(u.bx),n.appendChild(c),u.mx.addEventListener("scroll",u.Sx),u.kx.addEventListener("scroll",u.Sx),r&&r.addEventListener("resize",u.Ex),u.Sx(),u}return E(n,t),n.prototype.$c=function(){UI(this.gx),this.gx=0,this.mx.removeEventListener("scroll",this.Sx),this.kx.removeEventListener("scroll",this.Sx),nr(this._x),r&&r.removeEventListener("resize",this.Ex)},T(n,[{key:"lx",get:function(){return this.Ty.getBoundingClientRect().height||this.ax||0}},{key:"wx",get:function(){return this.Ty.getBoundingClientRect().width||this.hx||0}}]),n}(BI),YI=function(t){function n(n){var i;return(i=t.call(this)||this).Ty=void 0,i.ox=void 0,i.vx=function(t,n){i.$s(new PI(t,n))},i.Ty=n,i}E(n,t);var i=n.prototype;return i.lc=function(t){this.ox||("function"==typeof we.ResizeObserver?this.ox=new OI(this.Ty,this.vx):this.ox=new $I(this.Ty,this.vx,t))},i.$c=function(){this.ou(),this.ox&&(this.ox.$c(),this.ox=void 0)},T(n,[{key:"lx",get:function(){return this.ox?this.ox.lx:0}},{key:"wx",get:function(){return this.ox?this.ox.wx:0}}]),n}(Tu),QI=function(t){function n(){return t.call(this,kS.k_)||this}return E(n,t),n}(Eu);var ZI=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{Dx:i[0],Nx:i[1],Cx:i[2],Px:i[3],Bx:i[4],Ox:i[5]}}}(),KI=function(t){function n(){return t.call(this,kS.YC)||this}return E(n,t),n}(Eu),JI=function(t){function n(i){var e;return(e=t.call(this)||this).Ty=void 0,e.QC=void 0,e.jC=!1,e.xx=function(){return e.EP()},e.Lx=function(){return e.RP()},e.Ty=i,e.QC=n.Mx(i),s.addEventListener(ZI.Bx,e.xx),e.EP(),e}E(n,t),n.Mx=function(t){return Boolean(ZI&&s[ZI.Px]&&ZI.Dx in t)};var i=n.prototype;return i.nk=function(){var t=this.Ty[ZI.Dx]();t&&t.then?t.then(this.xx,this.Lx):(s.removeEventListener(ZI.Ox,this.Lx),s.addEventListener(ZI.Ox,this.Lx))},i.rk=function(){var t=s[ZI.Nx]();t&&t.then?t.then(this.xx,this.Lx):(s.removeEventListener(ZI.Ox,this.Lx),s.addEventListener(ZI.Ox,this.Lx))},i.EP=function(){var t=this.jC,n=this.Ty===s[ZI.Cx];this.jC=n,t!==n&&this.$s(new QI)},i.RP=function(){this.$s(new ES)},i.$c=function(){this.ou(),s.removeEventListener(ZI.Bx,this.xx),s.removeEventListener(ZI.Ox,this.Lx)},n}(Tu),tR=function(t){function n(i){var e;return(e=t.call(this)||this).Ty=void 0,e.QC=void 0,e.jC=!1,e.xx=function(){return e.EP()},e.Ty=i,e.QC=n.Mx(i),e.Ty.addEventListener("webkitbeginfullscreen",e.xx),e.Ty.addEventListener("webkitendfullscreen",e.xx),e.Ty.addEventListener("webkitpresentationmodechanged",e.xx),e.EP(),e}E(n,t),n.Mx=function(t){return j.cn&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.nk=function(){var t=this;this.Ty.webkitSupportsPresentationMode&&this.Ty.webkitSupportsPresentationMode("fullscreen")?j.cn?requestAnimationFrame(function(){return t.Ty.webkitSetPresentationMode("fullscreen")}):this.Ty.webkitSetPresentationMode("fullscreen"):this.Ty.webkitEnterFullscreen()},i.rk=function(){this.Ty.webkitSupportsPresentationMode&&this.Ty.webkitSupportsPresentationMode("inline")?this.Ty.webkitSetPresentationMode("inline"):this.Ty.webkitExitFullscreen()},i.EP=function(){var t,n=this.jC;t=this.Ty.webkitPresentationMode?"fullscreen"===this.Ty.webkitPresentationMode:!!this.Ty.webkitDisplayingFullscreen,this.jC=t,n!==t&&this.$s(new QI)},i.$c=function(){this.ou(),this.Ty.removeEventListener("webkitbeginfullscreen",this.xx),this.Ty.removeEventListener("webkitendfullscreen",this.xx),this.Ty.removeEventListener("webkitpresentationmodechanged",this.xx)},n}(Tu),nR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Ux=[],n.Xx=void 0,n.bP=!1,n.EP=function(){var t=n.bP,i=n.Hx();t!==i&&(n.bP=i,n.$s(new QI))},n}E(n,t);var i=n.prototype;return i.nk=function(){this.Xx?this.Xx.nk():this.$s(new ES)},i.rk=function(){for(var t=0,n=this.Ux;t<n.length;t++){var i=n[t];i.jC&&i.rk()}},i.Fx=function(t){this.Xx=t},i.zx=function(t){this.Ux.push(t),t.tu(kS.k_,this.EP),t.tu(kS.hg,this.Js),this.EP()},i.Vx=function(t){$s(this.Ux,t),t.au(kS.k_,this.EP),t.au(kS.hg,this.Js)},i.Hx=function(){for(var t=0,n=this.Ux;t<n.length;t++){if(n[t].jC)return!0}return!1},i.wc=function(){this.Xx=void 0,this.bP=!1;for(var t=this.Ux.slice(),n=0;n<t.length;n++){var i=t[n];this.Vx(i),i.$c()}this.EP()},i.$c=function(){this.ou(),this.wc()},T(n,[{key:"QC",get:function(){return!!this.Xx&&this.Xx.QC}},{key:"jC",get:function(){return this.bP}}]),n}(Tu),iR=function(t){function n(n,i){var e;return(e=t.call(this)||this).WN=void 0,e.Wx=void 0,e.Gx=void 0,e.qx=!1,e.Yx=function(){return e.tc()},e.EP=function(t){e.qx||e.$s(t)},e.WN=n,e.Wx=i,e.Gx=IS,e.jx(),e.WN.tu(Bf.Of,e.Yx),e.tc(),e}E(n,t);var i=n.prototype;return i.nk=function(){this.Wx&&this.Gx.nk()},i.rk=function(){this.Gx.rk()},i.jx=function(){this.Gx.tu(kS.k_,this.EP),this.Gx.tu(kS.hg,this.Js)},i.Qx=function(){this.Gx.au(kS.k_,this.EP),this.Gx.au(kS.hg,this.Js)},i.tc=function(){var t=this.Gx,n=this.WN.vy();if(t!==n){this.qx=!0;var i=this.jC,e=this.QC;i&&this.rk(),this.Qx(),this.Gx=n,this.jx(),i&&!this.jC&&this.QC?this.nk():this.rk(),this.qx=!1,e!==this.QC&&this.$s(new KI),i!==this.jC&&this.$s(new QI)}},i.$c=function(){this.ou(),this.Qx(),this.WN.au(Bf.Of,this.Yx)},T(n,[{key:"QC",get:function(){return!!this.Wx&&this.Gx.QC}},{key:"jC",get:function(){return this.Gx.jC}}]),n}(Tu);function eR(t){var n;return{get url(){return t.wd},get method(){return t.Od},get headers(){return n||(n=t.od._v()),n},get body(){return t.ql},get useCredentials(){return t.Ud},get type(){return aR(t._s)},get subType(){return cR(t.Ld)},get mediaType(){return lR(t.Md)},get responseType(){return sR(t.hd)}}}function rR(t){switch(t.toLowerCase()){case"arraybuffer":return Of.fv;case"json":return Of.vv;case"stream":return Of.wv;case"text":default:return Of.ni}}function sR(t){return t}function uR(t){switch(t.toUpperCase()){case"POST":return fw.POST;case"PUT":return fw.PUT;case"DELETE":return fw.DELETE;case"HEAD":return fw.HEAD;case"OPTIONS":return fw.OPTIONS;case"GET":default:return fw.GET}}function oR(t){switch(t.toLowerCase()){case"manifest":return lw.yd;case"segment":return lw.kd;case"preload-hint":return lw.pd;case"content-protection":return lw.bd;default:return lw.md}}function aR(t){return t}function hR(t){switch(t.toLowerCase()){case"initialization-segment":return vw.Ad;case"fairplay-license":return vw.Td;case"fairplay-certificate":return vw.Sd;case"widevine-license":return vw.Ed;case"widevine-certificate":return vw.Id;case"playready-license":return vw.Rd;case"clearkey-license":return vw.Dd;case"aes128-key":return vw.Nd;default:return vw.md}}function cR(t){return t}function fR(t){switch(t.toLowerCase()){case"audio":return dw.Cd;case"video":return dw.Pd;case"text":return dw.ni;case"image":return dw.Bd;case"":default:return dw.md}}function lR(t){return t}var vR=function(){function t(t,n){this.Zx=new ta,this.Kx=[],this.u_=void 0,this.Jx=!1,this.Jd=void 0,this.$x=0,this.tL=t,this.nL=n}var n=t.prototype;return n.xA=function(){this.Jx=!0,this.Zx.Qu(null)},n.iL=function(){this.Zx.Zu(new zd(this.Kx))},n.eL=function(t){if(!this.rL)throw new v("Cannot respond more than once");if(!W(t))throw new v("Expected valid response");this.Jd=this.sL(t),this.xA()},n.uL=function(){try{var t=this.nL(this.o_);t?this.oL(t):this.aL||this.hL||this.xA()}catch(t){this.Kx.push(t),this.iL()}},n.oL=function(t){if(this.hL)throw new l("Request has been redirected or a response already exists");if(Y(t))this.cL(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new ta;try{var i=t(function(t){t?n.Zu(t):n.Qu(void 0)});Y(i)&&n.qs(i)}catch(t){n.Zu(t)}this.cL(n.Gu)}},n.cL=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.$x++,n.next=4,Fr.awrap(t);case 4:this.$x--,this.aL||this.hL||(this.Kx.length?this.iL():this.xA()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.$x--,this.Kx.push(n.t0),this.aL||this.hL||this.iL();case 13:case"end":return n.stop()}},null,this,[[0,8]],qe)},T(t,[{key:"fL",get:function(){return this.Zx.Gu}},{key:"o_",get:function(){return this.u_||(this.u_=this.vL()),this.u_}},{key:"hL",get:function(){return this.Jx}},{key:"rL",get:function(){return!this.Jx}},{key:"aL",get:function(){return this.$x>0}},{key:"$d",get:function(){return this.Jd}}]),t}(),dR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).lL=void 0,r.lL=e,r.uL(),r}E(n,t),n.dL=function(t,n,i){var e=void 0===t.body?i:t.body;return new ww({zi:e,ld:n.ld,hd:n.ld.hd,od:t.headers,ud:t.status,fd:t.statusText,dd:t.url,vd:!0},n)};var i=n.prototype;return i.vL=function(){return i=eR((t=this).ld),{get closed(){return!t.rL},get request(){return i},get url(){return t.wd},get status(){return t.ud},get statusText(){return t.fd},get headers(){return n||(n=t.od._v()),n},get body(){return t.ql},respondWith:function(n){return t.eL(n)},waitUntil:function(n){return t.oL(n)}};var t,n,i},i.sL=function(t){return n.dL(t,this.tL,this.lL)},T(n,[{key:"ql",get:function(){return this.lL}},{key:"od",get:function(){return this.tL.od}},{key:"ld",get:function(){return this.tL.ld}},{key:"$d",get:function(){return this.Jd}},{key:"ud",get:function(){return this.tL.ud}},{key:"fd",get:function(){return this.tL.fd}},{key:"wd",get:function(){return this.tL.dd}}]),n}(vR),wR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).wL=void 0,r._L=void 0,r._L=e,r.uL(),r}E(n,t);var i=n.prototype;return i.vL=function(){return t=this,{get url(){return t.wd},get method(){return t.Od},get headers(){return n||(n=t.od._v()),n},get body(){return t.ql},get closed(){return!t.rL},get useCredentials(){return t.Ud},get type(){return aR(t._s)},get subType(){return cR(t.Ld)},get mediaType(){return lR(t.Md)},get responseType(){return sR(t.hd)},redirect:function(n){return t.gL(n)},respondWith:function(n){return t.eL(n)},waitUntil:function(n){return t.oL(n)}};var t,n},i.sL=function(t){var n=this.tL.ql,i=new ww({zi:n,od:{},ld:this.tL,dd:this.tL.wd,hd:this.tL.hd,ud:200,fd:"OK"});return dR.dL(t,i,n)},i.gL=function(t){if(!this.rL)throw new v("Cannot redirect, already redirected or has a response");var n;n=G(t)?{url:t}:t,this.wL=function(t,n){return new gw({wd:void 0===t.url?n.wd:t.url,Od:void 0!==t.method?uR(t.method):void 0,od:t.headers,ql:t.body,Ud:t.useCredentials,_s:void 0!==t.type?oR(t.type):void 0,Ld:void 0!==t.subType?hR(t.subType):void 0,Md:void 0!==t.mediaType?fR(t.mediaType):void 0,hd:void 0!==t.responseType?rR(t.responseType):void 0},n)}(n,this.tL),this.xA()},T(n,[{key:"ql",get:function(){return this.tL.ql}},{key:"rL",get:function(){return this._L&&!this.Jx}},{key:"od",get:function(){return this.tL.od}},{key:"Od",get:function(){return this.tL.Od}},{key:"mL",get:function(){return this.wL}},{key:"$d",get:function(){return this.Jd}},{key:"hd",get:function(){return this.tL.hd}},{key:"xd",get:function(){return this.tL.xd}},{key:"js",get:function(){return this.tL.js}},{key:"_s",get:function(){return this.tL._s}},{key:"Ld",get:function(){return this.tL.Ld}},{key:"Md",get:function(){return this.tL.Md}},{key:"wd",get:function(){return this.tL.wd}},{key:"Ud",get:function(){return this.tL.Ud}},{key:"Xd",get:function(){return this.tL.Xd}}]),n}(vR);var gR,mR=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new yR(n);return(e=t.call(this,r,i)||this).yL=void 0,e.yL=r,e}E(n,t);var i=n.prototype;return i.kL=function(t){this.yL.kL(t)},i.pL=function(t){this.yL.pL(t)},i.bL=function(t){this.yL.bL(t)},i.AL=function(t){this.yL.AL(t)},i.TL=function(t){this.yL.TL(t)},n}(yw),yR=function(){function t(t){this.Fd=void 0,this.SL=[],this.EL=[],this.Fd=t}var n=t.prototype;return n.ld=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(this.IL(t,t.js));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof Sw)){i.next=12;break}return i.next=11,Fr.awrap(this.RL(i.t0,t.js));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,Fr.awrap(this.DL(n,t.js));case 15:if(!cw(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new Iw(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],qe)},n.Hd=function(t){return this.Fd.Hd(t)},n.IL=function(t,n){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:cu(n),i=t,r=0,s=this.SL.slice();case 3:if(!(r<s.length)){a.next=21;break}if(u=s[r],cu(n),(o=new wR(i,u,!e)).hL){a.next=17;break}return a.prev=8,a.next=11,Fr.awrap(o.fL);case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(8),a.abrupt("continue",18);case 17:o.mL&&!e?i=o.mL:o.$d&&!e&&(e=o.$d);case 18:r++,a.next=3;break;case 21:if(!e){a.next=23;break}return a.abrupt("return",e);case 23:return a.abrupt("return",this.Fd.ld(i));case 24:case"end":return a.stop()}},null,this,[[8,13]],qe)},n.RL=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof Iw?t.$d:new ww({zi:null,ld:t.ld,ud:0,fd:""}),r.next=3,Fr.awrap(this.DL(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!cw(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new Iw(e);case 13:case"end":return r.stop()}},null,this,null,qe)},n.DL=function(t,n){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=t,e=0,r=this.EL.slice();case 2:if(!(e<r.length)){a.next=23;break}return s=r[e],cu(n),a.next=7,Fr.awrap(qe.resolve(i.Hu().zi(n)));case 7:if(u=a.sent,(o=new dR(i,s,u)).hL){a.next=19;break}return a.prev=10,a.next=13,Fr.awrap(o.fL);case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(10),a.abrupt("continue",20);case 19:i=o.$d||i;case 20:e++,a.next=2;break;case 23:return a.abrupt("return",i);case 24:case"end":return a.stop()}},null,this,[[10,15]],qe)},n.kL=function(t){this.SL.unshift(t)},n.pL=function(t){this.SL.push(t)},n.bL=function(t){$s(this.SL,t)},n.AL=function(t){this.EL.unshift(t)},n.TL=function(t){$s(this.EL,t)},n.$c=function(){this.Fd.$c(),Zs(this.SL),Zs(this.EL)},t}(),pR=function(){function t(t){this.u_=void 0,this.qE=t}var n=t.prototype;return n.kL=function(t){this.qE.kL(t)},n.bL=function(t){this.qE.bL(t)},n.AL=function(t){this.qE.AL(t)},n.TL=function(t){this.qE.TL(t)},T(t,[{key:"o_",get:function(){var t;return this.u_||(this.u_=(t=this,{addRequestInterceptor:function(n){t.kL(n)},removeRequestInterceptor:function(n){t.bL(n)},addResponseInterceptor:function(n){t.AL(n)},removeResponseInterceptor:function(n){t.TL(n)}})),this.u_}}]),t}(),_R=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).u_=void 0,r.NL=function(t){r.$s(t)},r.CL=function(t){r.$s(t)},r.PL=n,r.qE=i,r.sP=e,r.PL.tu(Bf.Hf,r.NL),r.PL.tu(Bf.Xf,r.CL),r}E(n,t);var i=n.prototype;return i.BL=function(t){this.sP.BL(t)},i.kL=function(t){this.qE.kL(t)},i.bL=function(t){this.qE.bL(t)},i.AL=function(t){this.qE.AL(t)},i.TL=function(t){this.qE.TL(t)},i.$c=function(){this.ou(),this.PL.au(Bf.Hf,this.NL),this.PL.au(Bf.Xf,this.CL)},T(n,[{key:"o_",get:function(){var t;return this.u_||(this.u_=(t=this,{get online(){return t.By},get estimator(){return n=t.OL,{get bandwidth(){return n.vD},get roundTripTime(){return n.lD}};var n},setEstimator:function(n){t.BL(function(t){if(t)return{get vD(){return Cm(t.bandwidth)},get lD(){return Cm(t.roundTripTime)},fD:function(n){return function(t){if(t)return{xL:function(n){t.markRequestStart(n)},LL:function(n){t.markResponseStart(n)},ML:function(n,i){t.markResponseData(n,i)},UL:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(eR(n)))}}}(n))},addRequestInterceptor:function(n){t.kL(n)},removeRequestInterceptor:function(n){t.bL(n)},addResponseInterceptor:function(n){t.AL(n)},removeResponseInterceptor:function(n){t.TL(n)},addEventListener:function(n,i){t.tu(n,i)},removeEventListener:function(n,i){t.au(n,i)}})),this.u_}},{key:"By",get:function(){return this.PL.By}},{key:"OL",get:function(){return this.sP.OL}}]),n}(Tu);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(gR||(gR={}));var bR=30,kR=1,AR=5;function TR(t,n,i,e,r,s){var u=[],o=t-g.max(s,kR),a=t+r;if(n&&i){var h=Ft(i,kR,AR),c=n-h;o=g.min(o,c);var f=n+i+h;a=g.max(a,f)}return 0!==o&&e.OC(0,o)&&u.push([0,o]),e.OC(a,1/0)&&u.push([a,1/0]),u}function SR(t){return t instanceof l&&"QuotaExceededError"===t.name}var ER={type:gR.BANDWIDTH},IR=20;function RR(t){var n,i,e,r=Am(ER);return G(t)?r.type=CR(t):W(t)&&function(t){switch(t){case gR.PERFORMANCE:case gR.QUALITY:case gR.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=CR(t.type)),W(t)&&W(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=Rm(n.bitrate),p(e)||(i.bitrate=e),i)),r}function CR(t){switch(t){case"bandwidth":return gR.BANDWIDTH;case"performance":return gR.PERFORMANCE;case"quality":return gR.QUALITY}}var DR=function(t){function n(n){var i;return(i=t.call(this,"HL")||this).XL=n,i}return E(n,t),n}(Eu),NR=function(t){function n(n){var i;return(i=t.call(this,"zL")||this).FL=n,i}return E(n,t),n}(Eu),PR=function(t){function n(n){var i;return(i=t.call(this,"WL")||this).VL=n,i}return E(n,t),n}(Eu),xR=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).u_=(i=Jt(n),{get strategy(){return{metadata:(t=i.FL).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.FL=RR(t)},get targetBuffer(){return i.XL},set targetBuffer(t){var n=Rm(t);p(n)||(i.XL=n)},get bufferLookbackWindow(){return i.VL},set bufferLookbackWindow(t){var n=Rm(t);p(n)||(i.VL=n<=0?bR:n)},get maxBufferLength(){return i.GL}}),n.qL=ER,n.YL=IR,n.jL=bR,n.QL=1/0,n.ZL=void 0,n.KL=void 0,n}E(n,t);var i=n.prototype;return i.JL=function(t){this.KL=t},i.BL=function(t){this.ZL=t},i.$L=function(t){var n=g.min(t,.8*this.QL);if(n=g.max(10,n),this.QL===n)return!1;var i=this.tM;this.QL=n;var e=this.tM;return e!==i&&this.$s(new DR(e)),!0},T(n,[{key:"nM",get:function(){switch(this.qL.type){case gR.PERFORMANCE:return 0;case gR.QUALITY:return 1/0;case gR.BANDWIDTH:return this.qL.metadata&&void 0!==this.qL.metadata.bitrate?this.qL.metadata.bitrate:8*Jm.Bg();default:return 8*Jm.Bg()}}},{key:"o_",get:function(){return this.u_}},{key:"FL",get:function(){return this.qL},set:function(t){this.qL=t,this.$s(new NR(t))}},{key:"XL",get:function(){return this.YL},set:function(t){this.YL=t,this.$s(new DR(t))}},{key:"tM",get:function(){return g.min(this.YL,this.QL)}},{key:"VL",get:function(){return this.jL},set:function(t){this.jL=t,this.$s(new PR(t))}},{key:"GL",get:function(){return this.QL}},{key:"OL",get:function(){var t;return null!=(t=this.ZL)?t:this.KL.DN}}]),n}(Tu),BR=function(t){function n(){return t.call(this,"p_")||this}return E(n,t),n.prototype.a_=function(){return new OR},n}(um),OR=function(t){function n(){return t.call(this,"change")||this}return E(n,t),n}(Eu),LR=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).iM=void 0,r.PO=void 0,r.eM=function(t){om(t)&&mu(function(){r.$s(t.o_)})},r.iM=n,r.PO=i;for(var s=0,u=r.PO;s<u.length;s++){var o=u[s];r.iM.tu(o,r.eM)}return r}return E(n,t),n.prototype.$c=function(){this.ou();for(var t=0,n=this.PO;t<n.length;t++){var i=n[t];this.iM.au(i,this.eM)}},n}(Tu),MR=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).iM=void 0,e.eM=function(t){om(t)&&mu(function(){e.$s(t.o_)})},e.iM=n,e.iM.uu(e.eM),e}return E(n,t),n.prototype.$c=function(){this.ou(),this.iM.du(this.eM)},n}(Ym);var jR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Ak=0,n.Tk=1/0,n.u_=void 0,n}E(n,t);var i=n.prototype;return i.wc=function(){0===this.Ak&&this.Tk===1/0||(this.Ak=0,this.Tk=1/0,this.$s(new BR))},i.rM=function(){return new TS([this.ck,this.fk],[!0,!0])},T(n,[{key:"ck",get:function(){return this.Ak},set:function(t){if(this.fk<=t)throw new l("Start time of a clip should be smaller than the end time.");this.Ak!==t&&(this.Ak=t,this.$s(new BR))}},{key:"fk",get:function(){return this.Tk},set:function(t){if(t<=this.ck)throw new l("End time of a clip should be larger than the start time.");this.Tk!==t&&(this.Tk=t,this.$s(new BR))}},{key:"o_",get:function(){var t,n,i;return this.u_||(this.u_=(i={get startTime(){return t.ck},set startTime(n){t.ck=n},get endTime(){return t.fk},set endTime(n){t.fk=n},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.au(t,i)}},n=new MR(t=this,i),i)),this.u_}}]),n}(Ym),FR=function(t){function n(n){var i;return(i=t.call(this)||this).sM=function(t){i.uM(t)||i.$s(t)},i.oM=n,i.oM.uu(i.sM),i}E(n,t);var i=n.prototype;return i.aM=function(){return this.oM.Fm},i.ly=function(){return this.oM.ly()},i.hM=function(){return this.oM.by},i.cM=function(){return this.oM.yy},i.fM=function(){return this.oM.Ay},i.vM=function(t){this.oM.Ay=t},i.lM=function(){return this.oM.tm},i.dM=function(t){this.oM.tm=t},i.wM=function(){return this.oM.nm},i._M=function(){return this.oM.Ty},i.gM=function(){return this.oM.im},i.mM=function(){return this.oM.Au},i.yM=function(){return this.oM.um},i.kM=function(){return this.oM.Sy},i.pM=function(){return this.oM.hm},i.bM=function(t){this.oM.hm=t},i.AM=function(){return this.oM.By},i.TM=function(){return this.oM.cm},i.SM=function(){return this.oM.fm},i.EM=function(t){this.oM.fm=t},i.IM=function(){return this.oM.Oy},i.RM=function(){return this.oM.xy},i.DM=function(t){this.oM.xy=t},i.NM=function(){return this.oM.wg},i.CM=function(){return this.oM.Ly},i.PM=function(){return this.oM.vm},i.jm=function(){return this.oM.jm()},i.Qm=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return cu(n),i.next=3,Fr.awrap(this.oM.Qm(t,n));case 3:case"end":return i.stop()}},null,this,null,qe)},i.BM=function(){return this.oM.Vm},i.OM=function(){return this.oM.lm},i.xM=function(){return this.oM.zm},i.LM=function(){return this.oM.dm},i.MM=function(){return this.oM.wm},i.UM=function(t){this.oM.wm=t},i.vy=function(){return this.oM.vy()},i.oy=function(){return this.oM.oy()},i.iy=function(t){this.oM.iy(t)},i.ey=function(){this.oM.ey()},i.uy=function(){this.oM.uy()},i.$m=function(){this.oM.$m()},i.qm=function(){this.oM.qm()},i.Gm=function(){this.oM.Gm()},i.sy=function(){this.oM.sy()},i.Ym=function(){return this.oM.Ym()},i.Zm=function(){return this.oM.Zm()},i.Km=function(){this.oM.Km()},i.Jm=function(){this.oM.Jm()},i.wc=function(){return this.oM.wc()},i.$c=function(){return this.oM.$c()},i.py=function(){this.oM.py()},i.wy=function(t){return this.oM.wy(t)},i.uM=function(t){return!1},T(n,[{key:"Fm",get:function(){return this.aM()}},{key:"by",get:function(){return this.hM()}},{key:"Ay",get:function(){return this.fM()},set:function(t){this.vM(t)}},{key:"yy",get:function(){return this.cM()}},{key:"tm",get:function(){return this.lM()},set:function(t){this.dM(t)}},{key:"nm",get:function(){return this.wM()}},{key:"Ty",get:function(){return this._M()}},{key:"im",get:function(){return this.gM()}},{key:"Au",get:function(){return this.mM()}},{key:"um",get:function(){return this.yM()}},{key:"Wm",get:function(){return this.oM.Wm}},{key:"Sy",get:function(){return this.kM()}},{key:"Ey",get:function(){return this.oM.Ey}},{key:"hm",get:function(){return this.pM()},set:function(t){this.bM(t)}},{key:"By",get:function(){return this.AM()}},{key:"cm",get:function(){return this.TM()}},{key:"fm",get:function(){return this.SM()},set:function(t){this.EM(t)}},{key:"Oy",get:function(){return this.IM()}},{key:"xy",get:function(){return this.RM()},set:function(t){this.DM(t)}},{key:"wg",get:function(){return this.NM()}},{key:"Ly",get:function(){return this.CM()}},{key:"vm",get:function(){return this.PM()}},{key:"Vm",get:function(){return this.BM()}},{key:"lm",get:function(){return this.OM()}},{key:"zm",get:function(){return this.xM()}},{key:"dm",get:function(){return this.LM()}},{key:"wm",get:function(){return this.MM()},set:function(t){this.UM(t)}},{key:"My",get:function(){return this.oM.My}},{key:"Uy",get:function(){return this.oM.Uy},set:function(t){this.oM.Uy=t}}]),n}(Qm),UR=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).XM=void 0,r.HM=!1,r.FM=void 0,r.zM=!1,r.VM=function(){r.WM(),r.GM()},r.GD=function(){r.qM(),r.GM(),r.YM&&r.tm>=r.XM.fk-n.jM&&!r.im&&(r.FM=FI(r.GD))},r.QM=function(){r.zM=!0},r.ZM=function(){r.zM&&(r.zM=!1,r.GM())},r.XM=e,r.XM.tu("p_",r.VM),r.oM.tu("timeupdate",r.GD),r}E(n,t);var i=n.prototype;return i.dM=function(n){var i=this.XM.rM().gC(n);t.prototype.dM.call(this,i),this.GM()},i.gM=function(){return t.prototype.gM.call(this)||this.HM},i.CM=function(){return TS.VC(t.prototype.CM.call(this)).kC(this.XM.rM()).SN()},i.Gm=function(){this.gM()?this.dM(this.KM.start(0)):this.WM(),t.prototype.Gm.call(this),this.GM()},i.Qm=function(n,i){return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return cu(i),this.HM=!1,this.XM.wc(),e.next=5,Fr.awrap(t.prototype.Qm.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,qe)},i.$c=function(){return this.XM.au("p_",this.VM),this.oM.au("timeupdate",this.GD),this.qM(),t.prototype.$c.call(this)},i.uM=function(n){switch(n.type){case"seeking":return this.$s(n),this.QM(),!0;case"seeked":case"emptied":return this.$s(n),this.ZM(),!0;case"ended":if(this.YM)return!0}return t.prototype.uM.call(this,n)},i.qM=function(){this.FM&&(UI(this.FM),this.FM=void 0)},i.GM=function(){var t=this.tm,i=this.YM&&t>=this.XM.fk-n.zp;this.HM&&!i?(this.HM=!1,this.cm&&this.Gm()):this.HM||!i||this.vm||this.zM||(this.HM=!0,this.$s(new Py(t)),this.qm())},i.WM=function(){if(this.nm!==1/0){var t=this.KM,i=TS.VC(t).gC(this.tm);Ut(this.tm,i,n.zp)||this.dM(i)}},T(n,[{key:"KM",get:function(){return this.CM().length?this.CM():this.XM.rM().SN()}},{key:"YM",get:function(){return this.XM.fk<this.nm}}]),n}(FR);UR.jM=1,UR.zp=.001;var HR=function(){function t(){this.JM=void 0,this.JM=!1}return T(t,[{key:"$M",get:function(){return this.JM},set:function(t){this.JM=t}}]),t}(),XR=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).JM=void 0,e.tU=!1,e.nU=!1,e.JM=i,e}E(n,t);var i=n.prototype;return i.gM=function(){return!this.JM.$M&&t.prototype.gM.call(this)},i.qm=function(){this.nU=!0,t.prototype.qm.call(this)},i.Gm=function(){this.nU=!1,t.prototype.Gm.call(this)},i.uM=function(n){if(this.JM.$M)switch(n.type){case"ended":return this.tm=0,this.nU||(this.vm?this.tU=!0:this.Gm()),!0;case"seeked":this.tU&&(this.tU=!1,this.Gm());break;case"pause":if(this.tU||t.prototype.gM.call(this))return!0}return t.prototype.uM.call(this,n)},n}(FR);var zR=function(){function t(t){var n;this.u_=(n=this,{get currentBandwidthEstimate(){return n.Ny},get corruptedVideoFrames(){return n.Ry},get droppedVideoFrames(){return n.Iy},get totalBytesLoaded(){return n.Cy},get bufferedSegments(){return n.Py}}),this.KN=t}return T(t,[{key:"o_",get:function(){return this.u_}},{key:"Ry",get:function(){return this.KN.iU.Ey.Ry}},{key:"Ny",get:function(){return this.KN.iU.Ey.Ny}},{key:"Iy",get:function(){return this.KN.iU.Ey.Iy}},{key:"eU",get:function(){throw new l("Not implemented")}},{key:"rU",get:function(){throw new l("Not implemented")}},{key:"Cy",get:function(){return this.KN.iU.Ey.Cy}},{key:"Dy",get:function(){return this.KN.iU.Ey.Dy}},{key:"Py",get:function(){return this.KN.iU.Ey.Py}}]),t}();function VR(t){if(!t||!lr(t))return{Iy:0,Ry:0,Dy:0,Ny:0,Cy:0,Py:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{Iy:n.droppedVideoFrames,Ry:n.corruptedVideoFrames||0,Dy:n.totalVideoFrames}}return{Iy:t.webkitDroppedFrameCount||0,Ry:0,Dy:t.webkitDecodedFrameCount||0}}var WR=function(t){function n(){return t.call(this,"sU")||this}return E(n,t),n.prototype.a_=function(){return new qR},n}(um),qR=function(t){function n(){return t.call(this,"castingchange")||this}return E(n,t),n}(Eu);var GR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).uU=[],n.oU=!1,n.u_=void 0,n.aU=function(){var t=n.oU,i=n.hU;t!==i&&(n.oU=i,n.$s(new WR))},n}E(n,t);var i=n.prototype;return i.cU=function(t){this.uU.push(t),t.tu("statechange",this.aU)},i.$c=function(){for(var t=0,n=this.uU;t<n.length;t++){n[t].au("statechange",this.aU)}Zs(this.uU)},T(n,[{key:"hU",get:function(){return this.uU.some(function(t){return t.hU})}},{key:"o_",get:function(){var t,n,i;return this.u_||(this.u_=(i={get casting(){return t.hU},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.au(t,i)}},n=new LR(t=this,["sU"],i),i)),this.u_}}]),n}(Tu),$R=function(){function t(){}return t.fU=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=new gw({wd:t,hd:Of.ni,Od:fw.GET}),s.next=4,Fr.awrap(n.ld(i));case 4:return e=s.sent,s.next=7,Fr.awrap(e.zi());case 7:return r=s.sent,s.abrupt("return",r.trim());case 11:return s.prev=11,s.t0=s.catch(0),hu(s.t0),s.abrupt("return",void 0);case 15:case"end":return s.stop()}},null,null,[[0,11]],qe)},t.vU=function(t){try{var i=ZE(t);return new eI(i.key,i.domains_page,i.domains_source,i.expiration_date,i.features,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new ff(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.lU=function(t){void 0===t&&(t=mI.bb),i.Tr("The baked-in license is used. Please update the configuration with your license.");var n=t.CB(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.CB(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.CB(n)}),s=Number(new Date(Number(t.CB("COD|aHpHa:p3Ceo3Co\"\"")))),u=[].map(function(n){return t.CB(n)});return new eI(n,e,r,s,u)},t.convertLicenseToDummyLicense=function(t){return new eI(t.XB,t.HB,t.FB,864e13,t.VB,t.WB,Date.now(),t.qB,t.YB)},t}(),YR=function(){function t(){}return t.bf=function(){return t.jn||(t.jn=QR.Ac()?new QR:new Cf),t.jn},t.Ou=function(n){t.bf().Ou(n)},t.kf=function(){t.bf().kf()},t.Cu=function(n){return t.bf().Cu(n)},t.pf=function(n,i){t.bf().pf(n,i)},t.dU=function(n){var i=t.Cu(n);if(void 0!==i)return y(i)},t.wU=function(n){return"true"===t.Cu(n)},t}();YR.jn=void 0;var QR=function(n){function i(){return n.apply(this,arguments)||this}E(i,n),i.Ac=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.Ou=function(n){t.localStorage.removeItem(n)},e.kf=function(){t.localStorage.clear()},e.Cu=function(n){return t.localStorage[n]},e.pf=function(n,i){t.localStorage[n]=i},i}(YR),ZR=g.floor(14399999*g.random()-72e5),KR=function(){function t(t,n,i,e,r,s){this.KB=void 0,this.qE=t,this._U=n,this.gU=i,this.XO=e,this.mU=r,this.$o=s,this.KB=cI(s)}var i=t.prototype;return i.yU=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.kU(this.mU.license,this.mU.licenseUrl));case 2:t=n.sent,this.XO.pU(t);case 4:case"end":return n.stop()}},null,this,null,qe)},i.kU=function(t,i){var e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(e=i,t?r=$R.vU(t):e||(r=$R.lU()),e||(e="https://validate.theoplayer.com/1/"+r.XB),s=this.bU(),!r){l.next=14;break}if((u=this._U.uO(r))!==JE.LB){l.next=14;break}if(!this.AU(r.zB)||!this.AU(null==s?void 0:s.zB)){l.next=13;break}return l.next=10,Fr.awrap(this.TU(e));case 10:if(!(o=l.sent)){l.next=13;break}return l.abrupt("return",o);case 13:return l.abrupt("return",r);case 14:if(!s){l.next=25;break}if(this._U.uO(s)!==JE.LB){l.next=24;break}if(!this.AU(null==s?void 0:s.zB)){l.next=23;break}return l.next=20,Fr.awrap(this.TU(e));case 20:if(!(a=l.sent)){l.next=23;break}return l.abrupt("return",a);case 23:return l.abrupt("return",s);case 24:YR.Ou("THEOplayer.license");case 25:return l.next=27,Fr.awrap($R.fU(e,this.qE));case 27:if(!(h=l.sent)){l.next=37;break}if(c=$R.vU(h),this._U.uO(c)!==JE.LB){l.next=34;break}return YR.pf("THEOplayer.license",h),l.abrupt("return",c);case 34:YR.Ou("THEOplayer.license"),l.next=39;break;case 37:if(this.KB||!r||u!==JE.MB||e!=="https://validate.theoplayer.com/1/"+r.XB){l.next=39;break}return l.abrupt("return",$R.convertLicenseToDummyLicense(r));case 39:if(!r&&!c){l.next=43;break}this.SU(null!=(f=r)?f:c,new ff(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),l.next=44;break;case 43:throw new ff(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return l.stop()}},null,this,null,qe)},i.tO=function(t){var n,i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Fr.awrap(this.XO.qO());case 2:if(n=a.sent,!this.AU(n.zB)){a.next=9;break}return e=null!=(i=this.mU.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.XB,a.next=7,Fr.awrap(this.TU(e));case 7:(r=a.sent)&&(this.XO.pU(r),n=r);case 9:if(a.prev=9,(s=this._U.uO(n))!==JE.UB){a.next=16;break}throw u=iI.jB,new ff(sI(u),lI.rO(u));case 16:if(s!==JE.MB){a.next=19;break}throw o=iI.MB,new ff(sI(o),lI.rO(o));case 19:this._U.tO(t,n),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(9),this.EU(a.t0);case 25:case"end":return a.stop()}},null,this,[[9,22]],qe)},i.sO=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.XO.qO());case 2:n=i.sent;try{this._U.sO(t,n)}catch(t){this.EU(t)}case 4:case"end":return i.stop()}},null,this,null,qe)},i.TU=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fr.awrap($R.fU(t,this.qE));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=$R.vU(n),this._U.uO(i)!==JE.LB){e.next=11;break}return YR.pf("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],qe)},i.AU=function(t){return!t||Number(new Date)+2592e5+ZR>=t},i.bU=function(){var t=YR.Cu("THEOplayer.license");if(t)return $R.vU(t)},i.SU=function(t,n){this.XO.pU(t),this.EU(n)},i.EU=function(t){throw ct(t.message),this.gU.QO(t.message),t},t}(),JR=function(){function t(){this.IU=void 0,this.RU=new ta}var n=t.prototype;return n.pU=function(t){this.IU=t,this.RU.Qu()},n.qO=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.IU){t.next=2;break}return t.abrupt("return",qe.resolve(this.IU));case 2:return t.next=4,Fr.awrap(this.RU.Gu);case 4:return t.abrupt("return",this.IU);case 5:case"end":return t.stop()}},null,this,null,qe)},T(t,[{key:"DU",get:function(){return this.IU}}]),t}(),tC=function(t){function n(){return t.call(this,"p_")||this}return E(n,t),n.prototype.a_=function(){return new nC},n}(um),nC=function(t){function n(){return t.call(this,"change")||this}return E(n,t),n}(Eu);function iC(t){var n,i={get fontFamily(){return t.NU},set fontFamily(n){t.NU=n},get fontColor(){return t.CU},set fontColor(n){t.CU=n},get fontSize(){return t.PU},set fontSize(n){t.PU=n},get backgroundColor(){return t.BU},set backgroundColor(n){t.BU=n},get windowColor(){return t.OU},set windowColor(n){t.OU=n},get edgeStyle(){return t.xU},set edgeStyle(n){t.xU=n},get marginTop(){return t.LU},set marginTop(n){t.LU=n},get marginBottom(){return t.MU},set marginBottom(n){t.MU=n},get marginLeft(){return t.UU},set marginLeft(n){t.UU=n},get marginRight(){return t.XU},set marginRight(n){t.XU=n},addEventListener:function(t,i){var e=Pm(t,Dm);n.tu(e,i)},removeEventListener:function(t,i){var e=Pm(t,Dm);n.au(e,i)}};return n=new Su(i),t.tu(["p_"],function(t){return n.$s(t.o_)}),i}var eC={NU:void 0,CU:void 0,PU:void 0,BU:void 0,OU:void 0,xU:void 0,HU:void 0,LU:void 0,MU:void 0,UU:void 0,XU:void 0},rC="THEOplayer.textTrackStyle.",sC=function(t){function n(){var i;return(i=t.call(this)||this).FU=void 0,i.u_=void 0,i.FU=n.zU(),i}return E(n,t),n.prototype.tc=function(t){this.FU=Ur({},this.FU,t),n.VU(this.FU),this.$s(new tC)},n.zU=function(){var t=Ur({},eC);return t.NU=YR.Cu(rC+"fontFamily")||t.NU,t.CU=YR.Cu(rC+"fontColor")||t.CU,t.PU=YR.Cu(rC+"fontSize")||t.PU,t.BU=YR.Cu(rC+"backgroundColor")||t.BU,t.OU=YR.Cu(rC+"windowColor")||t.OU,t.xU=YR.Cu(rC+"edgeStyle")||t.xU,t},n.VU=function(t){YR.pf(rC+"fontFamily",t.NU||""),YR.pf(rC+"fontColor",t.CU||""),YR.pf(rC+"fontSize",t.PU||""),YR.pf(rC+"backgroundColor",t.BU||""),YR.pf(rC+"windowColor",t.OU||""),YR.pf(rC+"edgeStyle",t.xU||"")},T(n,[{key:"WU",get:function(){return this.FU}},{key:"NU",get:function(){return this.FU.NU},set:function(t){this.tc({NU:t})}},{key:"CU",get:function(){return this.FU.CU},set:function(t){this.tc({CU:t})}},{key:"PU",get:function(){return this.FU.PU},set:function(t){this.tc({PU:t})}},{key:"BU",get:function(){return this.FU.BU},set:function(t){this.tc({BU:t})}},{key:"OU",get:function(){return this.FU.OU},set:function(t){this.tc({OU:t})}},{key:"xU",get:function(){return this.FU.xU},set:function(t){this.tc({xU:t})}},{key:"HU",get:function(){return this.FU.HU}},{key:"LU",get:function(){return this.FU.LU},set:function(t){this.tc({LU:t})}},{key:"MU",get:function(){return this.FU.MU},set:function(t){this.tc({MU:t})}},{key:"XU",get:function(){return this.FU.XU},set:function(t){this.tc({XU:t})}},{key:"UU",get:function(){return this.FU.UU},set:function(t){this.tc({UU:t})}},{key:"o_",get:function(){return this.u_||(this.u_=iC(this)),this.u_}}]),n}(Tu);function uC(t,n){var i,e;t.style.marginLeft=(null!=(i=n.UU)?i:0)+"px",t.style.marginRight=(null!=(e=n.XU)?e:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}var oC,aC,hC=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).sP=void 0,e.sP=i,e}return E(n,t),n.prototype.ld=function(t){var n,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=new gw(t),e=this.sP.OL.fD(n)){o.next=4;break}return o.abrupt("return",this.qE.ld(n));case 4:return e.xL(i.wr()/1e3),o.next=7,Fr.awrap(this.qE.ld(t));case 7:return r=o.sent,e.LL(i.wr()/1e3),s=r.Wl().pipeThrough(new Dd(new cC(e))),u={zi:s,ld:r.ld},o.abrupt("return",new ww(u,r));case 12:case"end":return o.stop()}},null,this,null,qe)},n}(function(){function t(t){this.qE=void 0,this.qE=t}var n=t.prototype;return n.ld=function(t){return this.qE.ld(t)},n.Hd=function(t){this.qE.Hd(t)},n.$c=function(){this.qE.$c()},t}()),cC=function(){function t(t){this.RU=void 0,this.GU=t}var n=t.prototype;return n.start=function(t){this.RU=t},n.transform=function(t){this.GU.ML(i.wr()/1e3,t),this.RU.enqueue(t)},n.flush=function(){this.GU.UL(i.wr()/1e3)},t}(),fC=function(t){function n(n,e){var r;(r=t.call(this)||this).qU=void 0,r.cc=void 0,r.iU=void 0,r.YU=void 0,r.n_=void 0,r.XM=void 0,r.JM=void 0,r.jU=void 0,r.QU=void 0,r.sP=void 0,r._U=void 0,r.ZU=void 0,r.KU=void 0,r.rP=void 0,r.JU=!1,r.Om=!1,r.Wy=void 0,r.$U=!1,r.iP=void 0,r.tX=void 0,r.nX=void 0,r.iX=void 0,r.eX=void 0,r.rX=void 0,r.sX=function(t){if(!r.$U){r.$U=!0;var n=r.qU,i=dp(t);r.iU.V_=new DS(r.Ty,i,t),yu(n.$c())}},r.uX=function(t){r.$s(t.o_)},r.oX=function(t){t.type!==Bf.Hf&&t.type!==Bf.Xf&&r.$s(t)};var s=Rm(e.uid);p(s)?r.Wy=Ap++:r.Wy=s,r.cc=e;var u=i.n_,o=new JR;r.YU=new RI("5.2.0",u,o),r.sP=new xR;var a=new hC(u,r.sP);r.n_=new mR(a,e.allowMixedContent),r._U=new rI(e.isEmbeddable,"5.2.0",KE()),r.rX=new KR(u,r._U,r.YU,o,e,KE()),r.rX.yU().catch(r.sX),r.ZU=new YI(n),r.ZU.tu("sx",r.uX),r.rP=new sC,r.XM=new jR,r.JM=new HR;var h=new CS(n,e,r.n_,r.sP,r.ZU,r.rP);r.sP.JL(h);var c=h;return c=new UR(c,r.aX),c=new XR(c,r.$M),r.qU=c,r.iU=new cp(r.qU),r.iU.uu(r.oX),r.eX=new zR(Jt(r)),r.nX=new _R(r.iU,r.n_,r.sP),r.jU=new NI(Jt(r)),r.KU=new iR(r.iU,e.allowNativeFullscreen),r.QU=new YS(r.KU),r.ZU.lc(),r.iP=new le(r.ZU,r.rP,1,[gp.Pd]),r.tX=new ve(r.iP),r.iX=new GR,r}E(n,t);var e=n.prototype;return e.bM=function(t){this.iU.hm=t,t||this.cm||this.$m()},e.UM=function(t){this.iU.wm=t},e.hX=function(){Gy(this,QS,this)},e.Gm=function(){this.iU.Gm()},e.qm=function(){this.iU.qm()},e.Qm=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.rX.tO(t).catch(this.sX),i=lC(t),e.next=5,Fr.awrap(this.iU.Qm(i,n));case 5:case"end":return e.stop()}},null,this,null,qe)},e.$m=function(){this.Om||(this.iU.$m(),this.tX.$m(),this.Om=!0)},e.jC=function(){return this.QU.CP()===VS.FULLSCREEN},e.sy=function(){this.iU.sy()},e.uy=function(){this.iU.uy()},e.oy=function(){return this.iU.oy()},e.wc=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.iU.Ym());case 2:return t.next=4,Fr.awrap(this.iU.wc());case 4:case"end":return t.stop()}},null,this,null,qe)},e.$c=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ou(),this.iX.$c(),this.n_.$c(),this.nX.$c(),this.KU.$c(),this.QU.$c(),this.ZU.$c(),this.YU.$c(),this.tX.$c(),this.iP.$c(),t.next=12,Fr.awrap(this.iU.$c());case 12:case"end":return t.stop()}},null,this,null,qe)},T(n,[{key:"cX",get:function(){return this.sP}},{key:"Xm",get:function(){return this.JU},set:function(t){this.JU=t,this.iU.Xm=t}},{key:"fX",get:function(){return this.tX}},{key:"Fm",get:function(){return this.iU.Fm}},{key:"vX",get:function(){return this.iX}},{key:"lX",get:function(){return this.ZU}},{key:"Wm",get:function(){return this.iU.Wm}},{key:"Ey",get:function(){return this.eX}},{key:"dX",get:function(){return this.nX}},{key:"Vm",get:function(){return this.iU.Vm}},{key:"wX",get:function(){return this.rP}},{key:"zm",get:function(){return this.iU.zm}},{key:"by",get:function(){return this.iU.by}},{key:"aX",get:function(){return this.XM}},{key:"$M",get:function(){return this.JM}},{key:"tm",get:function(){return this.iU.tm},set:function(t){this.iU.tm=t}},{key:"Ay",get:function(){return this.iU.Ay},set:function(t){this.iU.Ay=t}},{key:"yy",get:function(){return this.iU.yy}},{key:"nm",get:function(){return this.iU.nm}},{key:"Ty",get:function(){return this.iU.Ty}},{key:"im",get:function(){return this.iU.im}},{key:"Au",get:function(){return this.iU.Au}},{key:"um",get:function(){return this.iU.um}},{key:"hm",get:function(){return this.iU.hm},set:function(t){var n=Boolean(t);this.bM(n)}},{key:"cm",get:function(){return this.iU.cm}},{key:"fm",get:function(){return this.iU.fm},set:function(t){this.iU.fm=t}},{key:"Oy",get:function(){return this.iU.Oy}},{key:"xy",get:function(){return this.iU.xy},set:function(t){this.iU.xy=yS(t)}},{key:"wg",get:function(){return this.iU.wg}},{key:"Ly",get:function(){return this.iU.Ly}},{key:"vm",get:function(){return this.iU.vm}},{key:"j_",get:function(){return this.Wy}},{key:"lm",get:function(){return this.iU.lm}},{key:"dm",get:function(){return this.iU.dm}},{key:"wm",get:function(){return this.iU.wm},set:function(t){var n=Ft(Number(t),0,1)||0;this.UM(n)}},{key:"My",get:function(){return this.iU.My}}]),n}(Qm);function lC(t){t.sources;var n=t.sources.filter(function(t){return X(t.integration)});return t.sources=n,t}!function(t){t[t._X=0]="_X",t[t.gX=1]="gX"}(oC||(oC={})),function(t){t[t.mX=0]="mX"}(aC||(aC={}));var vC={},dC={};function wC(t,n){(vC[n]||(vC[n]=[])).push(t)}function gC(t,n){(dC[n]||(dC[n]=[])).push(t)}function mC(t,n){var i=t;if(vC[n])for(var e=0,r=vC[n];e<r.length;e++){i=(0,r[e])(i)}return i}var yC=[],pC=[];function _C(t){yC.push(t)}function bC(t){for(var n=0;n<yC.length;n++){(0,yC[n])(t)}}var kC=t.CustomEvent;var AC=function(){try{var t=new kC("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},TC=function(){function t(t,n){var i=this;this.KN=void 0,this.yX=void 0,this.kX=!1,this.pX=function(t){i.yX.jO(t.error,i.tm)},this.bX=function(){i.yX.GO(i.AX),i.KN.removeEventListener("playing",i.bX),i.kX=!1},this.TX=function(){i.kX||(i.KN.addEventListener("playing",i.bX),i.kX=!0)},this.yX=n,this.KN=t,this.KN.addEventListener("error",this.pX),this.KN.addEventListener("sourcechange",this.TX),this.TX()}return t.prototype.wc=function(){},T(t,[{key:"tm",get:function(){var t=this.KN.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"AX",get:function(){return this.KN.src||""}}]),t}();_C(function(t){new TC(t.o_,t.YU)});var SC="theoplayer-stored-volume",EC="theoplayer-stored-mutedstate";wC(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=YR.dU(SC);(void 0===r||p(r))&&(r=1);var s=YR.wU(EC)||!1;e.wm=r,e.hm=s}return e}E(n,t);var i=n.prototype;return i.bM=function(n){this.cc.persistVolume&&YR.pf(EC,""+Boolean(n)),t.prototype.bM.call(this,n)},i.UM=function(n){this.cc.persistVolume&&YR.pf(SC,""+Number(n)),t.prototype.UM.call(this,n)},n}(t)},oC.gX);var IC=new(function(){function t(){this.SX=[],this.u_=void 0}var n=t.prototype;return n.P_=function(t){return this.SX[t]},n.EX=function(t){this.SX.push(t),this.o_.push(t.o_)},n.$h=function(t){var n=this.SX.indexOf(t);n<0||(Ys(this.SX,n),this.u_&&Ys(this.u_,n))},n.IX=function(t){for(var n=0,i=this.SX;n<i.length;n++){var e=i[n];if(e.j_===t)return e}},T(t,[{key:"M_",get:function(){return this.SX.length}},{key:"o_",get:function(){return this.u_||(this.u_=function(t){for(var n=[],i=0;i<t.M_;i++)n[i]=t.P_(i).o_;return n.getPlayerByUID=function(n){var i=t.IX(n);return i&&i.o_},n}(this)),this.u_}}]),t}());var RC,CC=function(t){function n(n){var i;return(i=t.call(this,Bf.tv)||this).source=n,i}return E(n,t),n}(Eu),DC=function(t){function n(){var n;return(n=t.call(this)||this).KC=void 0,n.$C=void 0,n.nP=void 0,n.tP=void 0,n.KC=0,n.$C=!0,n.nP=!1,n.tP=1,n}E(n,t);var i=n.prototype;return i.Gm=function(){this.$C&&(this.$C=!1,this.$s(new Ey(this.tm)),this.$s(new Dk(this.tm)))},i.qm=function(){this.$C||(this.$C=!0,this.$s(new Ny(this.tm,this.Ay)),this.$s(new Sy(this.tm)))},i.wc=function(){this.KC=0,this.nP=!1,this.tP=1,this.qm(),this.$s(new Ty(this.KC))},i.$c=function(){this.ou()},i.uy=function(){},i.sy=function(){},T(n,[{key:"Ay",get:function(){},set:function(t){}},{key:"tm",get:function(){return this.KC},set:function(t){this.nP&&this.KC===t||(this.KC=t,this.nP=!0,this.$s(new By(this.tm)))}},{key:"cm",get:function(){return this.$C}},{key:"fm",get:function(){return this.tP},set:function(t){this.tP!==t&&(this.tP=t,this.$s(new Dy(this.tm,this.fm)))}},{key:"wg",get:function(){return sy.Vg}},{key:"vm",get:function(){return this.nP}}]),n}(Ym),NC=function(t){function n(){return t.call(this,Bf.Nf)||this}return E(n,t),n}(Eu),PC={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},xC={visibility:"hidden"},BC={visibility:"visible"},OC=function(){function t(t){var n,i=this;this.qN=void 0,this.KN=void 0,this.RX=!1,this.DX=void 0,this.NX=void 0,this.CX=function(t){var n;i.RX=!1,i.DX=null==(n=t.source)?void 0:n.poster,i.tc()},this.lI=function(){i.RX=!0,i.uy()},this.KN=t,this.nC(),this.qN=((n=we&&we.document&&we.document.createElement("div")).className="theoplayer-poster",hr(PC,n),n),t.Ty.appendChild(this.qN)}var n=t.prototype;return n.tc=function(){var t=this.KN.cm,n=this.RX;this.wd?this.qN.style.backgroundImage='url("'+this.wd.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.qN.style.backgroundImage="",t&&this.wd&&!n?this.sy():this.uy()},n.sy=function(){hr(xC,this.KN.Ty),hr(BC,this.qN)},n.uy=function(){hr(xC,this.qN),hr(BC,this.KN.Ty)},n.nC=function(){this.KN.tu("sourcechange",this.CX),this.KN.tu("play",this.lI)},n.$c=function(){this.KN.au("sourcechange",this.CX),this.KN.au("play",this.lI),nr(this.qN)},T(t,[{key:"wd",get:function(){return void 0!==this.DX?this.DX:void 0!==this.NX?this.NX:void 0}},{key:"PX",set:function(t){this.NX=t,this.tc()}}]),t}();function LC(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this).KN=void 0,r.BX=void 0,r.OX=void 0,r.xX=void 0,r.LX=void 0,r.MX=void 0,r.UX=void 0,r.XX=void 0,r.tC=void 0,r.$N=void 0,r.OD=void 0,r.cP=void 0,r.u_=void 0,r.HX=function(t){t.type!==Bf.Wf&&r.XX.push(t)},r.BX=new t(n,e),r.OX=new DC,r.KN=r.BX,r.xX=new OC(Jt(r)),r.MX=new yf,r.UX=!1,r.XX=[],r.tC=!0,r.nC(),r}E(e,i);var r=e.prototype;return r.Kc=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.MX.Kc(t,n).catch(lu));case 1:case"end":return i.stop()}},null,this,null,qe)},r.FX=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return cu(n),this.BX.uu(this.HX),i.prev=2,i.next=5,Fr.awrap(this.BX.Qm(t,n));case 5:return i.prev=5,this.BX.du(this.HX),i.finish(5);case 8:case"end":return i.stop()}},null,this,[[2,,5,8]],qe)},r.zX=function(){var t,n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.jm())&&!SE(t)&&this.Xm&&this.cm){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.cc.mutedAutoplay,e.next=6,Fr.awrap(this.fX.VX(this.hm));case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.WX(),e.abrupt("break",14);case 12:return(this.hm||n===Xy.ALL)&&(this.hm=!0,this.Gm()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,qe)},r.Qm=function(t){var i=this,e=this.$N;e&&!SE(e)&&this.$s(new Ty(0,0)),this.wc(),this.$N=t,yu(this.Kc(function(e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return cu(e),r.prev=1,r.next=4,Fr.awrap(i.FX(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.$N=void 0,i.WD((s=r.t0,u=n.ErrorCode.SOURCE_NOT_SUPPORTED,s instanceof ff?s:s instanceof l?new ff(u,s.message,s):new ff(u,String(s)))),r.abrupt("return");case 11:return r.prev=11,i.GX(i.BX),r.finish(11);case 14:return i.$s(new CC(i.jm())),r.next=17,Fr.awrap(i.zX());case 17:case"end":return r.stop()}var s,u},null,null,[[1,6,11,14]],qe)}))},r.dM=function(t){this.KN.tm=t},r.mM=function(){var t;return null!=(t=this.cP)?t:this.BX.Au},r.yM=function(){var t;return null!=(t=this.OD)?t:this.BX.um},r.WD=function(t){void 0===this.yM()&&(this.OD=t,this.cP=dp(t),this.$s(new Uy(t)))},r.Gm=function(){this.KN.Gm()},r.WX=function(){this.hm||this.$m(),this.Gm()},r.$m=function(){this.BX.$m()},r.qm=function(){this.KN.qm()},r.Ym=function(){this.Qm(void 0)},r.sy=function(){this.tC=!0,this.KN.sy()},r.uy=function(){this.tC=!1,this.KN.uy()},r.hX=function(){this.BX.hX()},r.UM=function(t){this.BX.UM(t)},r.bM=function(t){this.BX.bM(t)},r.qX=function(t){this.LX=t,t.EX(this)},r.jC=function(){return this.BX.jC()},r.jm=function(){return this.$N},r.oy=function(){return this.BX.oy()},r.lM=function(){return this.BX.tm},r.wM=function(){return this.BX.nm},r.hM=function(){return this.BX.by},r.IM=function(){return this.BX.Oy},r.CM=function(){return this.BX.Ly},r.wc=function(){var t=this;this.$N=void 0,this.OD=void 0,this.cP=void 0,Zs(this.XX),this.OX.wc(),this.GX(this.OX),this.MX.Gs(),yu(this.MX.Kc(function(n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return cu(n),i.next=3,Fr.awrap(t.BX.wc());case 3:case"end":return i.stop()}},null,null,null,qe)}))},r.$c=function(){var t=this;this.$s(new NC),this.xX.$c(),this.iC(),this.wc(),yu(this.Kc(function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.BX.$c());case 2:t.LX&&(t.LX.$h(t),t.LX=void 0),t.MX.$c();case 4:case"end":return n.stop()}},null,null,null,qe)})),this.ou()},r.GX=function(t){if(this.KN!==t){var n=this.KN.cm,i=this.KN.tm,e=this.KN.fm,r=this.KN.vm;this.iC(),t===this.BX?((r||t.tm!==i)&&(t.tm=i),t.fm!==e&&(t.fm=e),n?t.qm():t.Gm()):this.cc.retainPlaybackRateOnSourceChange?t.fm=e:1!==e&&this.$s(new Dy(this.lM(),1)),this.KN=t,this.nC();for(var s=0,u=this.XX;s<u.length;s++){var o=u[s];this.$s(o)}Zs(this.XX),this.tC?t.sy():t.uy()}},r.nC=function(){this.KN.uu(this.Js)},r.iC=function(){this.KN.du(this.Js)},r.a_=function(){return t=this,e=function(n){i=n;var e=ME(n,t.cc);t.Qm(e)},r={get abr(){return t.cX.o_},get audioTracks(){return t.Fm.o_},get autoplay(){return t.Xm},set autoplay(n){t.Xm=Boolean(n)},get buffered(){return t.hM()},get canvas(){return t.jU.o_},get clip(){return t.aX.o_},get currentProgramDateTime(){var n;return null!=(n=t.Ay)?n:null},set currentProgramDateTime(n){t.Ay=null!=n?n:void 0},get currentTime(){return t.lM()},set currentTime(n){t.dM(Number(n))},get duration(){return t.wM()},get element(){return t.Ty},get ended(){return t.im},get error(){return t.mM()},get errorObject(){return t.yM()},get loop(){return t.$M.$M},set loop(n){t.$M.$M=Boolean(n)},get metrics(){return t.Ey.o_},get muted(){return t.hm},set muted(n){t.bM(n)},get network(){return t.dX.o_},get paused(){return t.cm},get playbackRate(){return t.fm},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.fm=i},get played(){return t.IM()},get poster(){return t.YX},set poster(n){t.YX=Dm(n)},get preload(){return t.xy},set preload(n){t.xy=n},get presentation(){return t.QU.o_},get readyState(){return t.wg},get seekable(){return t.CM()},get seeking(){return t.vm},get source(){return i},set source(t){e(t)},get src(){return IE(t.jm())},set src(t){e({sources:t})},get textTracks(){return t.Vm.o_},get textTrackStyle(){return t.wX.o_},get uid(){return t.j_},get videoHeight(){return t.lm},get videoTracks(){return t.zm.o_},get videoWidth(){return t.dm},get volume(){return t.wm},set volume(n){t.UM(Number(n))},get latency(){return t.My.o_},destroy:function(){t.$c(),t=null,i=void 0},play:function(){t.WX()},pause:function(){t.qm()},stop:function(){i=void 0,t.Ym()},prepareWithUserAction:function(){t.$m()},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.au(t,i)},setSource:function(t){e(t)}},(n=new GS(r,!0)).gP(t),n.tu("destroy",function(){n.$c()}),r;var t,n,i,e,r},T(e,[{key:"YU",get:function(){return this.BX.YU}},{key:"jU",get:function(){return this.BX.jU}},{key:"cc",get:function(){return this.BX.cc}},{key:"qU",get:function(){return this.BX.qU}},{key:"n_",get:function(){return this.BX.n_}},{key:"mN",get:function(){return this.BX.KU}},{key:"QU",get:function(){return this.BX.QU}},{key:"ZU",get:function(){return this.BX.ZU}},{key:"iU",get:function(){return this.BX.iU}},{key:"cX",get:function(){return this.BX.cX}},{key:"Xm",get:function(){return this.BX.Xm},set:function(t){this.BX.Xm=t,this.zX()}},{key:"fX",get:function(){return this.BX.fX}},{key:"Fm",get:function(){return this.BX.Fm}},{key:"vX",get:function(){return this.BX.vX}},{key:"lX",get:function(){return this.BX.ZU}},{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}},{key:"Wm",get:function(){return this.BX.Wm}},{key:"Ey",get:function(){return this.BX.Ey}},{key:"dX",get:function(){return this.BX.dX}},{key:"Vm",get:function(){return this.BX.Vm}},{key:"wX",get:function(){return this.BX.wX}},{key:"zm",get:function(){return this.BX.zm}},{key:"aX",get:function(){return this.BX.aX}},{key:"$M",get:function(){return this.BX.$M}},{key:"Ay",get:function(){return this.KN.Ay},set:function(t){this.KN.Ay=t}},{key:"yy",get:function(){return this.BX.yy}},{key:"Ty",get:function(){return this.BX.Ty}},{key:"im",get:function(){return this.BX.im}},{key:"hm",get:function(){return this.BX.hm},set:function(t){this.BX.hm=t}},{key:"cm",get:function(){return this.KN.cm}},{key:"YX",get:function(){return this.xX.wd||""},set:function(t){this.xX.PX=t}},{key:"fm",get:function(){return this.BX.fm},set:function(t){this.KN.fm=t}},{key:"xy",get:function(){return this.BX.xy},set:function(t){this.BX.xy=yS(t)}},{key:"wg",get:function(){return this.KN.wg}},{key:"vm",get:function(){return this.KN.vm}},{key:"j_",get:function(){return this.BX.j_}},{key:"lm",get:function(){return this.BX.lm}},{key:"dm",get:function(){return this.BX.dm}},{key:"wm",get:function(){return this.BX.wm},set:function(t){this.BX.wm=t}},{key:"My",get:function(){return this.BX.My}}]),e}(Qm)}function MC(){return RC||(RC=mC(RC=LC(fC),oC._X),RC=mC(RC,oC.gX)),RC}function jC(t,n){var i=Wy(n),e=new(MC())(t,i),r=e.o_;return e.hX(),e.qX(IC),w.defineProperty(r,"constructor",{value:jC}),r=bm(r),bC(e),r}mu(function(){t.dispatchEvent&&t.dispatchEvent(AC("theoplayerready"))});var FC,UC={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return zu(t)},n.decode=function(t){return Hu(t)},t}())},HC=["hls","airplay","ui"],XC=IC.o_,zC=aA.oR.registerContentProtectionIntegration.bind(aA.oR),VC=[Bf.zf,Bf.Ff,Ay.$g,Bf.ev,Bf.Vf,Bf.Lf,Bf.jf,Bf.Yf,Bf.Bf,Bf.Wf,Bf.rv,Bf.Cf,Ay.b_,Bf.qf,Um.hg,Au.Tu,Au.Eu,Bf.Rf,Bf.If,Bf.uv],WC={jX:!1},qC=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.bB="QX"}(FC||(FC={}));var GC,$C=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Mc=void 0,s.PD=void 0,s.ef=void 0,s.ZX=!1,s.KX=new ta,s.JX=!1,s.MX=new yf,s.$X=void 0,s.Es=void 0,s.ac=void 0,s.tH=function(){s.JX=!0},s.nH=function(){s.iH(!0)},s.Mc=n,s.PD=i,s.ef=i.sN,s.$X=e,s.Es=r,s.ef.addEventListener("loadedmetadata",s.tH);for(var u=0;u<qC.length;u++){var o=qC[u];s.ef.addEventListener(o,s.nH)}return s}E(i,t);var e=i.prototype;return e.eH=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.Es.Ds(t.gs,n));case 2:return i=r.sent,r.next=5,Fr.awrap(i.mc());case 5:return e=r.sent,r.next=8,Fr.awrap(this.rH(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,qe)},e.sH=function(t){var n=this,i=this.ac;return i?0!==t.hN.length&&t.hN.some(function(t){return t.hc.gs===i.hc}):0!==this.Mc.hN.length?t.hN.some(function(t){return n.Mc.hN.some(function(n){return t.hc===n.hc})}):0===t.hN.length||!this.JX},e.uH=function(t){return this.$X.uH(t),this.Mc=t,qe.resolve()},e.Xs=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:for(this.ou(),this.ef.removeEventListener("loadedmetadata",this.tH),t=0;t<qC.length;t++)n=qC[t],this.ef.removeEventListener(n,this.nH);return i.next=5,Fr.awrap(this.MX.$c());case 5:return i.next=7,Fr.awrap(this.oH());case 7:return i.next=9,Fr.awrap(this.$X.wc());case 9:return i.next=11,Fr.awrap(this.rH(void 0));case 11:case"end":return i.stop()}},null,this,null,qe)},e.iH=function(t){t!==this.ZX&&(this.ZX=t,t?this.KX.Qu(void 0):this.KX=new ta)},e.rH=function(t){var n=this;return this.MX.Kc(function(){return n.aH(t)})},e.aH=function(t){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.ef.src){e.next=4;break}throw new fp(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.ef.src){e.next=6;break}throw new fp(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!t||this.ZX){e.next=9;break}return e.next=9,Fr.awrap(this.KX.Gu);case 9:if(!(i=this.ac)){e.next=14;break}return e.next=13,Fr.awrap(i.dc(this.ef));case 13:this.ac=void 0;case 14:if(!t){e.next=18;break}return e.next=17,Fr.awrap(t.lc(this.ef));case 17:this.ac=t;case 18:case"end":return e.stop()}},null,this,null,qe)},e.Qm=function(t){var n=this;return this.MX.Kc(function(){return n.hH(t)})},e.hH=function(t){this.iH(!1);var n=this.PD.fm;this.ef.src=t,this.PD.fm=n},e.cH=function(t){var n=this;return this.MX.Kc(function(){return n.fH(t)})},e.fH=function(t){this.hH(t),this.ef.load()},e.oH=function(){var t=this;return this.MX.Kc(function(){return t.vH()})},e.vH=function(){this.iH(!1),vr(this.ef)},e.lH=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.ac){t.next=3;break}return t.next=3,Fr.awrap(this.ac.wc());case 3:case"end":return t.stop()}},null,this,null,qe)},T(i,[{key:"Fm",get:function(){throw new l("Not implemented")}},{key:"cc",get:function(){return this.Mc}},{key:"sN",get:function(){return this.ef}},{key:"zm",get:function(){throw new l("Not implemented")}}]),i}(Tu),YC=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.JL=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.cc,n.t0=t.fN,n.next=n.t0===ny.Fg?4:n.t0===ny.zg?4:(n.t0,ny.Hg,6);break;case 4:return this.ef.setAttribute("crossorigin",t.fN),n.abrupt("break",8);case 6:return this.ef.removeAttribute("crossorigin"),n.abrupt("break",8);case 8:return void 0!==t.xy?this.ef.preload=t.xy:this.ef.preload=gS.cD,void 0!==t.vN?this.ef.title=t.vN:fr(this.ef),n.next=12,Fr.awrap(this.Qm(t.yg));case 12:this.$X.Jh(this,t);case 13:case"end":return n.stop()}},null,this,null,qe)},i.sH=function(t){return!1},i.uH=function(t){return qe.resolve(void 0)},i.Xs=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return fr(this.ef),n.next=3,Fr.awrap(t.prototype.Xs.call(this));case 3:case"end":return n.stop()}},null,this,null,qe)},n.dH=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Gl))},T(n,[{key:"by",get:function(){return TS.VC(this.ef.buffered)}},{key:"nm",get:function(){return this.ef.duration}},{key:"wH",get:function(){var t=this.nm;if(!isFinite(t))return!1;var n=this.by;return 0!==n.M_&&t-n.hC(n.M_-1)<1/6}},{key:"xy",get:function(){return this.ef.preload},set:function(t){this.ef.preload=t}},{key:"Ly",get:function(){return TS.VC(this.ef.seekable)}},{key:"_H",get:function(){return this.by}},{key:"gH",get:function(){if(lr(this.ef)&&(this.ef.videoWidth>0||this.ef.videoHeight>0))return this.by}}]),n}($C),QC=function(t){function n(n){var i;return(i=t.call(this,Bf.Vf)||this).currentTime=n,i}return E(n,t),n}(Eu),ZC=function(t){function n(){return t.call(this,Bf.Lf)||this}return E(n,t),n}(Eu);!function(t){t.mH="yH"}(GC||(GC={}));var KC,JC,tD=[GC.mH];!function(t){t[t.kH=0]="kH",t[t.wv=1]="wv",t[t.pH=2]="pH"}(KC||(KC={})),function(t){t.bH="AH"}(JC||(JC={}));var nD=function(t){function n(n){var i;return(i=t.call(this,JC.bH)||this).TH=n,i}return E(n,t),n}(Eu),iD=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).SH=TS.qC(),n}E(n,t);var i=n.prototype;return i.EH=function(t,n){var i=new TS([t,n]);this.SH=this.SH.EC(i),this.$s(new nD(i))},i.IH=function(t,n){this.SH=this.SH.RC(new TS([t,n]))},i.wc=function(){this.SH=TS.qC()},i.$c=function(){this.ou()},T(n,[{key:"RH",get:function(){return this.SH}}]),n}(Tu);function eD(t,n){return void 0===n&&(n=new Cd({highWaterMark:1/0})),new _d(new sD(t,n),{highWaterMark:0})}var rD,sD=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.Rv=void 0,this.DH=void 0,this.NH=void 0,this.Mv=[],this.Uv=0,this.RU=void 0,this.CH=!1,this.PH=void 0,this.BH=function(t){return t.done?(i.OH(),void i.RU.close()):(i.Mv.push(t.value),i.Uv+=i.DH(t.value),i.CH&&i.OH(),i.xH()?i.Rv.read().then(i.BH):void 0)},this.Tw=function(t){i.OH(),i.RU.error(t)},this.Rv=t.getReader(),this.DH=r,this.NH=u}var n=t.prototype;return n.start=function(t){this.RU=t,this.xH()&&this.LH()},n.pull=function(){this.Mv.length>0?this.OH():this.CH=!0,this.xH()&&this.LH()},n.cancel=function(t){return Zs(this.Mv),this.Uv=0,this.CH=!1,this.Rv.cancel(t)},n.OH=function(){if(0!==this.Mv.length){var t=this.Mv;this.Mv=[],this.Uv=0,this.CH=!1,this.RU.enqueue(t)}},n.xH=function(){return!!this.CH||this.NH-this.Uv>0},n.LH=function(){var t=this;if(!this.PH){var n=this.Rv.read().then(this.BH).catch(this.Tw);this.PH=n;var i=function(){t.PH===n&&(t.PH=void 0)};n.then(i,i)}},t}(),uD=function(){function t(){this.MH=[],this.xu=0}var n=t.prototype;return n.EX=function(t){this.MH.push(t),this.xu+=t.byteLength},n.UH=function(t){if(this.xu<=t)return this.XH();for(var n=this.MH,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(zo(n[e],0,s)),i+=s}return{MH:r,xu:i}},n.HH=function(t){var n=this.UH(t);return 1===n.MH.length?n.MH[0]:Yu(n.MH,n.xu)},n.XH=function(){return{MH:this.MH,xu:this.xu}},n.FH=function(t){if(this.xu<=t)return this.zH();for(var n=this.MH,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(zo(n[0],0,s)),n[0]=zo(n[0],s),i+=s}return this.xu-=i,{MH:r,xu:i}},n.VH=function(t){var n=this.FH(t);return 1===n.MH.length?n.MH[0]:Yu(n.MH,n.xu)},n.zH=function(){var t=this.XH();return this.MH=[],this.xu=0,t},n.WH=function(){var t=1===this.MH.length?this.MH[0]:Yu(this.MH,this.xu);return this.MH=[],this.xu=0,t},t}();!function(t){t[t.GH=0]="GH",t[t.qH=1]="qH",t[t.YH=2]="YH"}(rD||(rD={}));var oD=function(){var t=n.prototype;function n(){this.Mv=new uD,this.ye=rD.GH,this.jH=0,this.QH=0,this.ZH()}return t.KH=function(t,n){},t.JH=function(){},t.$H=function(t){this.Mv.EX(t),this.tF(!1)},t.nF=function(){this.tF(!0)},t.iF=function(){return this.ye!==rD.GH||0!==this.Mv.xu},t.tF=function(t){for(;0!==this.Mv.xu;){if(!t&&this.jH>this.Mv.xu)return;switch(this.ye){case rD.GH:this.eF(t);break;case rD.qH:this.rF(t);break;case rD.YH:this.sF(t)}}},t.ZH=function(){this.ye=rD.GH,this.jH=8},t.eF=function(t){var n=Wo(this.Mv.HH(this.jH)),i=new Ko,e=db.HA(n,i);if(!e.xA)return this.jH=e.zA,void(t&&this.jH>this.Mv.xu&&this.uF(this.Mv.xu));var r=e.FA._s,s=e.FA.xu;0===s&&(s=1/0),this.KH(r,s),this.oF(r)?this.aF(s):this.uF(s)},t.aF=function(t){this.ye=rD.qH,this.jH=t},t.rF=function(t){var n=Wo(this.Mv.VH(this.jH)),i=new Ko,e=db.LA(n,i,!t);if(!e.xA)throw new vb(i.Lu);this.JH(),this.hF(e.MA),this.ZH()},t.uF=function(t){this.ye=rD.YH,this.jH=0,this.QH=t},t.sF=function(t){var n=this.Mv.FH(this.QH);this.QH-=n.xu;for(var i=0,e=n.MH;i<e.length;i++){var r=e[i];this.cF(r)}(0===this.QH||t&&this.QH===1/0)&&(this.JH(),this.ZH())},n}();function aD(t){return t instanceof tc}function hD(t){return t instanceof Kh}function cD(t){return t instanceof Yh||t instanceof Qh}function fD(t){return t instanceof _h}function lD(t){return t instanceof Qa}function vD(t){return t instanceof Xh}function dD(t){return t instanceof Uh}function wD(t){return t instanceof lc}function gD(t){return t instanceof uc}function mD(t,n){var i=Ws(t.boxes,gD);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var s=r[e];s instanceof ac&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}}var yD=function(t){function n(n){var i;return(i=t.call(this)||this).RU=void 0,i.fF=void 0,i.vF=void 0,i.lF=zr(),i.fF=n,i}E(n,t);var i=n.prototype;return i.start=function(t){this.RU=t},i.transform=function(t){this.$H(t)},i.flush=function(){this.nF()},i.oF=function(t){return t===A_.Ab||t===A_.tA||t===A_.cA},i.hF=function(t){var n=this.dF(t);this.RU.enqueue(n)},i.cF=function(t){this.RU.enqueue(t)},i.dF=function(t){var n=qo(t.zi.zi);switch(t._s){case"moov":return this.wF(n);case"sidx":return this._F(n);case"moof":return this.gF(n)}return n},i.mF=function(t){var n=this.lF.get(t);if(void 0===n)throw new l("Expected to have found a media header timescale for track ID "+t+".");return n},i.wF=function(t){for(var n=Dc(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof Wh?n.boxes[i]=this.yF(e):e instanceof qh?n.boxes[i]=this.kF(e):e instanceof Kh&&this.pF(e)}for(var r=0,s=n.boxes;r<s.length;r++){var u=s[r];u instanceof Xh&&this.bF(u)}return n.serialize().join()},i.yF=function(t){this.vF=t.timescale;var n=_D(vt.fromNumber(t.duration,!0),this.AF,this.fF);return 0!==n.getHighBits()?this.kF(function(t){return new qh({creation:vt.fromNumber(t.creationTime,!0),modification:vt.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:vt.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.fF,t.duration=n.toInt(),t)},i.kF=function(t){return this.vF=t.timescale,t.timescale=this.fF,t.duration=_D(t.duration,this.AF,this.fF),t},i.pF=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof Yh?(n=e.trackId,t.boxes[i]=this.TF(e)):e instanceof Qh?(n=e.trackId,t.boxes[i]=this.SF(e)):e instanceof _h?this.EF(e,n):e instanceof hh&&this.IF(e)}},i.TF=function(t){var n=_D(vt.fromNumber(t.duration,!0),this.AF,this.fF);return 0!==n.getHighBits()?this.SF(function(t){return new Qh({creation:vt.fromNumber(t.creationTime,!0),modification:vt.fromNumber(t.modificationTime,!0),duration:vt.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.SF=function(t){return t.duration=_D(t.duration,this.AF,this.fF),t},i.EF=function(t,n){for(var i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof gh?t.boxes[i]=this.RF(e,n):e instanceof mh&&(t.boxes[i]=this.DF(e,n))}},i.RF=function(t,n){this.lF.set(n,t.timescale);var i=_D(vt.fromNumber(t.duration,!0),t.timescale,this.fF);return 0!==i.getHighBits()?this.DF(function(t){return new mh({creation:vt.fromNumber(t.creationTime,!0),modification:vt.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:vt.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.fF,t.duration=i.toInt(),t)},i.DF=function(t,n){return this.lF.set(n,t.timescale),t.timescale=this.fF,t.duration=_D(t.duration,t.timescale,this.fF),t},i.IF=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof uh?this.NF(e):e instanceof oh&&this.CF(e)}},i.NF=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=pD(e.mediaTime,this.AF,this.fF),e.segmentDuration=pD(e.segmentDuration,this.AF,this.fF)}},i.CF=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=_D(e.mediaTime,this.AF,this.fF),e.segmentDuration=_D(e.segmentDuration,this.AF,this.fF)}},i.bF=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Uh?this.PF(i):i instanceof Mh?t.boxes[n]=this.BF(i):i instanceof jh&&(t.boxes[n]=this.OF(i))}},i.PF=function(t){var n=this.mF(t.trackId);t.defaultSampleDuration=pD(t.defaultSampleDuration,n,this.fF)},i.BF=function(t){var n=_D(vt.fromNumber(t.fragmentDuration,!0),this.AF,this.fF);return 0!==n.getHighBits()?this.OF(function(t){return new jh(vt.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.OF=function(t){return t.fragmentDuration=_D(t.fragmentDuration,this.AF,this.fF),t},i._F=function(t){var n=Nc(t);return(n=n instanceof yc?this.xF(n):this.LF(n)).serialize().join()},i.xF=function(t){var n=t.timescale,i=_D(vt.fromNumber(t.earliestPresentationTime,!0),n,this.fF);if(0!==i.getHighBits())return this.LF(function(t){return new pc(t.referenceId,t.timescale,vt.fromNumber(t.earliestPresentationTime,!0),vt.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.fF,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var s=r[e];s.subsegmentDuration=pD(s.subsegmentDuration,n,this.fF)}return t},i.LF=function(t){var n=t.timescale;t.timescale=this.fF,t.earliestPresentationTime=_D(t.earliestPresentationTime,n,this.fF);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=pD(r.subsegmentDuration,n,this.fF)}return t},i.gF=function(t){for(var n=Pc(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var s=r[e];s instanceof cc&&this.MF(s)}var u=n.getSize();if(u!==i)for(var o=u-i,a=0,h=n.boxes;a<h.length;a++){var c=h[a];c instanceof cc&&mD(c,o)}return n.serialize().join()},i.MF=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof uc?(n=this.mF(e.trackId),this.UF(e,n)):e instanceof ec?t.boxes[i]=this.XF(e,n):e instanceof rc?t.boxes[i]=this.HF(e,n):e instanceof ac&&this.FF(e,n)}},i.UF=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=pD(t.defaultSampleDuration,n,this.fF))},i.XF=function(t,n){var i=_D(vt.fromNumber(t.baseMediaDecodeTime,!0),n,this.fF);return 0!==i.getHighBits()?this.HF(function(t){return new rc(vt.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.HF=function(t,n){return t.baseMediaDecodeTime=_D(t.baseMediaDecodeTime,n,this.fF),t},i.FF=function(t,n){for(var i,e,r,s=0,u=0,o=0,a=t.samples;o<a.length;o++){var h=a[o];if(void 0!==h.duration){var c=pD(u+=h.duration,n,this.fF);h.duration=c-s,s=c}void 0!==h.compositionTimeOffset&&(h.compositionTimeOffset=(i=h.compositionTimeOffset,e=n,r=this.fF,vt.fromInt(i,!1).multiply(r).divide(e).toNumber()))}},T(n,[{key:"AF",get:function(){if(void 0===this.vF)throw new l("Expected to have found a movie header timescale.");return this.vF}}]),n}(oD);function pD(t,n,i){return vt.fromInt(t,!0).multiply(i).divide(n).toNumber()}function _D(t,n,i){return o_.rp(t).Ip(o_.sp(i,!0)).Cp(o_.sp(n,!0))._p()}var bD,kD,AD,TD=1e5,SD=function(){function t(t){this.zF=void 0,this.zF=new yD(t)}return t.prototype.VF=function(t){return t.pipeThrough(new Dd(this.zF))},t}();function ED(t,n,i){var e=lo(t,n);if(e!==i)throw new v("Expected descriptor with tag "+i+", but found "+e)}function ID(t,n){ED(t,n,bD.WF);var i,e,r,s=RD(t,n),u=n.Lu+s,o=po(t,n),a=lo(t,n),h=0!=(64&a),c=0!=(32&a),f=31&a;(0!=(128&a)&&(i=po(t,n)),h)&&(e=So(t,n,lo(t,n)));c&&(r=So(t,n,2));var l=function(t,n){ED(t,n,bD.GF);var i,e=RD(t,n),r=n.Lu+e,s=lo(t,n),u=lo(t,n),o=u>>2,a=0!=(2&u),h=yo(t,n,3),c=bo(t,n),f=bo(t,n);if(n.Lu<r){var l=function(t,n){return t.getUint8(n.Lu)}(t,n);l===bD.qF&&(i=function(t,n){ED(t,n,bD.qF);var i=RD(t,n),e=wo(t,n,i);return{YF:bD.qF,jF:e}}(t,n))}return n.Xu(r),{YF:bD.GF,QF:s,ZF:o,KF:a,JF:h,tz:c,nz:f,iz:i}}(t,n);return n.Xu(u),{YF:bD.WF,Y_:o,ez:i,wd:e,rz:f,sz:r,oz:l}}function RD(t,n){for(var i=0,e=0;e<4;e++){var r=lo(t,n);if(i=i<<7|127&r,!(128&r))break}return i}function CD(t,n){for(var i=lo(t,n),e=lo(t,n),r=lo(t,n),s=lo(t,n),u=3&lo(t,n),o=31&lo(t,n),a=[],h=0;h<o;h++){var c=po(t,n);a.push(wo(t,n,c))}for(var f=lo(t,n),l=[],v=0;v<f;v++){var d=po(t,n);l.push(wo(t,n,d))}return{cz:i,fz:e,vz:r,lz:s,wz:u,_z:a,gz:l}}function DD(t){var n=lb(pb.jA(t),A_.Ab);if(n){for(var i=n.FA.Op,e=[],r=0,s=n.hT;r<s.length;r++){for(var u=s[r],o=u.FA.bT,a=u.mT.FA.Op,h=void 0,c=void 0,f=0,l=u.mT.NT.BT.xT.MT;f<l.length;f++){var v,d,w=ND(l[f]);if(w)h=null!=(v=w.mz)?v:h,c=null!=(d=w.yz)?d:c}e.push({bT:o,Op:a,kz:{mz:h,yz:c,pz:void 0}})}return{Op:i,hT:e}}}function ND(t){var n,i;if(t._s===A_.Lb)n=function(t){return"avc1."+PD(t.fz,2)+PD(t.vz,2)+PD(t.lz,2)}(CD(Wo(t.fS.zi),new Ko));else if(t._s===A_.Ub||t._s===A_.Xb){var e=function(t,n){for(var i=n.Wu(),e=to(t,i,8),r=to(t,i,2),s=to(t,i,1),u=to(t,i,5),o=to(t,i,32),a=[],h=0;h<6;h++)a.push(to(t,i,8));var c=to(t,i,8);i.Mu(4);var f=to(t,i,12);i.Mu(6);var l=to(t,i,2);i.Mu(6);var v=to(t,i,2);i.Mu(5);var d=to(t,i,3);i.Mu(5);for(var w=to(t,i,3),g=to(t,i,16),m=to(t,i,2),y=to(t,i,3),p=to(t,i,1),_=to(t,i,2),b=to(t,i,8),k=[],A=0;A<b;A++){var T=to(t,i,1);i.Mu(1);for(var S=to(t,i,6),E=to(t,i,16),I=[],R=0;R<E;R++){var C=to(t,i,16),D=wo(t,new Ko(i.Lu>>3),C);i.Mu(8*C),I.push({bz:C,Az:D})}k.push({Tz:T,Sz:S,Ez:E,Iz:I})}return{cz:e,Rz:r,Dz:s,Nz:u,Cz:a,Pz:c,Bz:f,Oz:l,xz:o,Lz:v,Mz:d,Uz:w,Xz:g,Hz:y,Fz:p,zz:m,wz:_,Vz:b,Wz:k}}(Wo(t.wS.zi),new Ko);n=function(t,n){var i=t.toString()+".";switch(n.Rz){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.Nz.toString()+".",i+=(e=n.xz,r=e,r=(r=(r=(r=(r=r>>>1&1431655765|(1431655765&r)<<1)>>>2&858993459|(858993459&r)<<2)>>>4&252645135|(252645135&r)<<4)>>>8&16711935|(16711935&r)<<8)>>>16|r<<16).toString(16)+".",n.Dz){case 0:i+="L";break;case 1:i+="H";break;default:return}var e,r;i+=n.Pz.toString();for(var s=n.Cz.reduce(function(t,n){return 0===t?n:n+1},0),u=0;u<s;u++)i+="."+n.Cz[u].toString(16).toUpperCase();return i}(t._s,e)}else if(t._s===A_.Fb){var r=function(t,n){var i=n.Wu(),e=to(t,i,8);i.Mu(24);for(var r=to(t,i,8),s=to(t,i,8),u=to(t,i,4),o=to(t,i,3),a=Ju(t,i),h=to(t,i,8),c=to(t,i,8),f=to(t,i,8),l=to(t,i,16),v=new Array(8),d=0;d<l;d++)v[d]=to(t,i,8);return{cz:e,Gz:r,qz:s,Yz:u,jz:o,Qz:a,NS:h,CS:c,PS:f,Zz:l,Kz:v}}(Wo(t.gS.zi),new Ko);n=function(t,n){var i=t.toString()+".";return i+="0"+n.Gz+".",i+=Is(""+n.qz,2,"0")+".",i+=Is(""+n.Yz,2,"0")+".",i+=Is(""+n.jz,2,"0")+".",i+=Is(""+n.NS,2,"0")+".",i+=Is(""+n.CS,2,"0")+".",i+=Is(""+n.PS,2,"0")+".",i+="0"+n.Qz}(t._s,r)}else if(t._s===A_.Vb){var s=function(t,n){var i=n.Wu();i.Mu(1);var e=to(t,i,7),r=to(t,i,3),s=to(t,i,5),u=Ju(t,i),o=Ju(t,i),a=Ju(t,i),h=Ju(t,i),c=Ju(t,i),f=Ju(t,i),l=to(t,i,2);i.Mu(3);var v,d=Ju(t,i);return d?v=to(t,i,4):i.Mu(4),{qA:e,Jz:r,$z:s,tV:u,nV:o,iV:a,eV:h,rV:c,sV:f,uV:l,oV:d,aV:v}}(Wo(t.kS.zi),new Ko);n=function(t,n,i){var e=t.toString()+".";if(e+=n.Jz+".",e+=""+Is(""+n.$z,2,"0"),e+=(0===n.tV?"M":"H")+".",e+=(1===n.iV?12:10)+".",e+=(1===n.Jz?0:n.eV)+".",e+=""+n.rV+n.sV+(1===n.rV&&1===n.sV?n.uV:"0"),i&&i.DS===S_.ON_SCREEN_COLOURS){var r=i;e+="."+Is(""+r.NS,2,"0")+"."+Is(""+r.CS,2,"0")+"."+Is(""+r.PS,2,"0")+"."+(r.OS?1:0)}return e}(t._s,s,t.pS)}else{if(t._s!==A_.Yb)return(t._s===A_.$b||t._s===A_.Jb)&&t.TS?ND(t.TS):void 0;i=function(t){var n=t.oz;switch(n.QF){case kD.hV:return function(t){var n;if(null==(n=t.iz)||!n.jF)return"mp4a.40";return"mp4a.40."+function(t,n){var i=to(t,n,5);31===i&&(i=32+to(t,n,6));var e,r=to(t,n,4);return 15===r&&(e=to(t,n,24)),{cV:i,fV:r,vV:e,lV:to(t,n,4)}}(Wo(t.iz.jF),new no).cV}(n);case kD.dV:return"mp4a.40.2";case kD.wV:return"mp4a.40.34"}}(ID(Wo(t.sS.zi),new Ko))}return{mz:n,yz:i,pz:void 0}}function PD(t,n){return Is(t.toString(16),n,"0")}function xD(t,n){var i=pb.jA(Wo(t)),e=function(t,n){for(var i,e=0,r=t.hT;e<r.length;e++){var s,u=r[e],o=null==(s=u.ZS)?void 0:s.ZS;o&&function(){var t=u.FA.bT,e=Ws(n.hT,function(n){return n.bT===t}),r=g_.rp(o,e.Op);i&&!r.jk(i)||(i=r)}()}return i}(lb(i,A_.tA),n),r=lb(i,A_.oA);return{ck:e.Fk(),_V:r.zi}}function BD(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t._s,e.next=e.t0===KC.kH?3:e.t0===KC.wv?4:e.t0===KC.pH?9:10;break;case 3:return e.abrupt("return",t);case 4:return e.next=6,Fr.awrap(qd(t.zi,n));case 6:return i=e.sent,cu(n),e.abrupt("return",{_s:KC.kH,zi:new _(i)});case 9:throw new l("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 10:case"end":return e.stop()}},null,null,null,qe)}!function(t){t[t.WF=3]="WF",t[t.GF=4]="GF",t[t.qF=5]="qF"}(bD||(bD={})),function(t){t[t.hV=64]="hV",t[t.dV=103]="dV",t[t.wV=107]="wV"}(kD||(kD={})),function(t){t[t.gV=0]="gV",t[t.mV=1]="mV",t[t.dV=2]="dV",t[t.yV=5]="yV",t[t.kV=34]="kV"}(AD||(AD={}));var OD=20,LD=j.On,MD=function(t){function n(n,i,e,r,s){var u,o;if((o=t.call(this)||this).pV=void 0,o.bV=void 0,o.AV=void 0,o.TV=void 0,o.SV=void 0,o.YL=OD,o.jL=bR,o.EV=!1,o.RV=!1,o.DV=void 0,o.NV=new ou,o.CV=void 0,o.PV=!1,o.BV=void 0,o.OV=!1,o.xV=void 0,o.LV=function(){o.EV=!1},o.pV=i,o.bV=n,o.AV=e,o.AV.addEventListener("updateend",o.LV),o.TV=r,o.SV=s,o.OV=jD(r.Gl,s),null!=(u=i.cc)&&u.$e){var a,h=null!=(a=i.cc.MV)?a:TD;o.CV=new SD(h)}return o}E(n,t);var i=n.prototype;return i.UV=function(t,n,i){var e=this;switch(t._s){case KC.kH:case KC.wv:return this.XV(function(i){return e.HV(t,n,i)},i);case KC.pH:throw new l("Opaque segments are not supported on web.")}},i.FV=function(t,n){var i=this;switch(t._s){case KC.kH:return this.XV(function(n){return i.zV(t,n)},n);case KC.wv:throw new l("Streaming initialization segments are not supported on web.");case KC.pH:throw new l("Opaque initialization segments are not supported on web.")}},i.zV=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.OV){i.next=3;break}return this.xV=DD(Wo(t.zi)),i.abrupt("return");case 3:return i.next=5,Fr.awrap(this.VV(t,void 0,n));case 5:LD&&(this.PV=!1,this.BV=t);case 6:case"end":return i.stop()}},null,this,null,qe)},i.HV=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(LD&&this.PV&&this.BV)){u.next=3;break}return u.next=3,Fr.awrap(this.zV(this.BV,i));case 3:if(u.prev=3,cu(i),!this.OV||!this.xV){u.next=12;break}return u.next=8,Fr.awrap(BD(t,i));case 8:r=u.sent,s=xD(r.zi,this.xV),t={_s:KC.kH,zi:s._V},n=Ur({},n,{gb:s.ck+(null!=(e=n.gb)?e:0)});case 12:return u.next=14,Fr.awrap(this.VV(t,n,i));case 14:this.$s(new Eu(GC.mH));case 15:return u.prev=15,t._s===KC.wv&&t.zi.cancel(new au).catch(K),u.finish(15);case 18:case"end":return u.stop()}},null,this,[[3,,15,18]],qe)},i.VV=function(t,n,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(cu(i),!n){s.next=4;break}return s.next=4,Fr.awrap(this.WV(n));case 4:s.t0=t._s,s.next=s.t0===KC.kH?7:s.t0===KC.wv?15:23;break;case 7:if(!this.CV){s.next=12;break}return e=this.CV.VF(Vd(t.zi)),s.next=11,Fr.awrap(this.GV(e,i));case 11:return s.abrupt("return",s.sent);case 12:return s.next=14,Fr.awrap(this.qV(t.zi));case 14:return s.abrupt("return",s.sent);case 15:if(!this.CV){s.next=20;break}return r=this.CV.VF(t.zi),s.next=19,Fr.awrap(this.GV(r,i));case 19:return s.abrupt("return",s.sent);case 20:return s.next=22,Fr.awrap(this.GV(t.zi,i));case 22:return s.abrupt("return",s.sent);case 23:case"end":return s.stop()}},null,this,null,qe)},i.GV=function(t,n){var i,e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=this.bV.by,e=eD(t),r=e.getReader(),s=!1,c.prev=4;case 5:return c.next=8,Fr.awrap(vu(r.read(),n));case 8:if(!(u=c.sent).done){c.next=12;break}return s=!1,c.abrupt("break",19);case 12:return cu(n),o=$u(u.value),s=!0,c.next=17,Fr.awrap(this.qV(o));case 17:c.next=5;break;case 19:c.next=36;break;case 21:if(c.prev=21,c.t0=c.catch(4),r.cancel(c.t0).catch(K),!s){c.next=35;break}return c.next=27,Fr.awrap(this.YV());case 27:a=this.bV.by.kC(i.pC()),h=0;case 29:if(!(h<a.M_)){c.next=35;break}return c.next=32,Fr.awrap(this.jV(a.oC(h),a.hC(h)));case 32:h++,c.next=29;break;case 35:throw c.t0;case 36:case"end":return c.stop()}},null,this,[[4,21]],qe)},i.QV=function(t,n){var i=this;return this.XV(function(){return i.ZV(t,n)})},i.ZV=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.AV.appendWindowStart===t&&this.AV.appendWindowEnd===n){i.next=6;break}return i.next=3,Fr.awrap(this.YV());case 3:this.AV.appendWindowStart=0,this.AV.appendWindowEnd=n,this.AV.appendWindowStart=t;case 6:case"end":return i.stop()}},null,this,null,qe)},i.WV=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.AV.timestampOffset!==t.gb){n.next=2;break}return n.abrupt("return");case 2:n.prev=2,this.AV.timestampOffset=t.gb,n.next=11;break;case 6:return n.prev=6,n.t0=n.catch(2),n.next=10,Fr.awrap(this.YV());case 10:this.AV.timestampOffset=t.gb;case 11:case"end":return n.stop()}},null,this,[[2,6]],qe)},i.qV=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.AV.appendBuffer(t),this.RV=!0,n.next=4,Fr.awrap(this.KV());case 4:case"end":return n.stop()}},null,this,null,qe)},i.JV=function(t,n,i){var e=this;return this.XV(function(i){return e.jV(t,n,i)},i)},i.jV=function(t,n,i){return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return cu(i),this.AV.remove(t,n),e.next=4,Fr.awrap(this.KV());case 4:case"end":return e.stop()}},null,this,null,qe)},i.KV=function(){var t=this,n=this.bV.by;return new qe(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},a=function(){s=!1,r="aborted"},h=function(){c(),s&&!r?(n.LC(t.bV.by)||t.$s(new Eu(GC.mH)),i()):e(new l(r))},c=function(){t.AV.removeEventListener("update",u),t.AV.removeEventListener("error",o),t.AV.removeEventListener("abort",a),t.AV.removeEventListener("updateend",h)};t.AV.addEventListener("update",u),t.AV.addEventListener("error",o),t.AV.addEventListener("abort",a),t.AV.addEventListener("updateend",h)})},i.$V=function(){var t=this;return this.XV(function(){return t.YV()})},i.YV=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.pV.wg===rN.jd){t.next=2;break}return t.abrupt("return");case 2:LD&&(this.PV=!0),this.AV.updating&&(this.EV=!0);try{this.AV.abort()}catch(t){0,this.EV=!1}if(!this.qx){t.next=8;break}return t.next=8,Fr.awrap(this.KV().catch(K));case 8:case"end":return t.stop()}},null,this,null,qe)},i.tW=function(){return"function"==typeof this.AV.changeType},i.uH=function(t){var n;this.nW(),this.pV.wg!==rN.iW&&(this.TV=t,this.SV=null!=(n=aN(t.Gl))?n:t.Gl,this.OV=jD(t.Gl,this.SV),this.tW()&&this.AV.changeType(this.SV))},i.eW=function(){this.pV.wg!==rN.Bf||this.DV||this.qx||(this.AV.timestampOffset=this.AV.timestampOffset,this.pV.rW())},i.XV=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.nW(),(i=new ou).qs(this.NV.js),n&&i.qs(n),e.prev=4,this.DV=t(i.js),e.next=8,Fr.awrap(this.DV);case 8:if(this.pV.rW(),!this.qx){e.next=12;break}return e.next=12,Fr.awrap(this.KV());case 12:return e.prev=12,this.DV=void 0,i.Xs(),e.finish(12);case 16:case"end":return e.stop()}},null,this,[[4,,12,16]],qe)},i.nW=function(){if(this.DV)throw new l("Internal error")},i.Xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ou(),this.NV.Gs(),!this.DV){t.next=6;break}return t.next=5,Fr.awrap(this.DV.catch(K));case 5:this.DV=void 0;case 6:this.AV.removeEventListener("updateend",this.LV);case 7:case"end":return t.stop()}},null,this,null,qe)},T(n,[{key:"XL",get:function(){return this.YL},set:function(t){this.YL=t}},{key:"VL",get:function(){return this.jL},set:function(t){this.jL=t}},{key:"qx",get:function(){return this.EV||this.AV.updating}}]),n}(Tu);function jD(t,n){return As(t,"audio/mp4")&&As(n,"audio/mpeg")}var FD=function(){function t(t,n){this.sW=void 0,this.AV=void 0,this.uW=void 0,this.sW=n,this.AV=t}var n=t.prototype;return n.wH=function(){return!!this.uW&&this.by.wC().TN(this.uW)},n.oW=function(){var t=this.by;this.uW=t.M_>0?t.hC(t.M_-1):0,this.sW.aW()},n.eW=function(){this.uW=void 0},T(t,[{key:"by",get:function(){if(this.sW.wg===rN.iW)return TS.qC();var t=TS.VC(this.AV.buffered).kC(new TS([0,1/0])),n=this.uW;return void 0!==n&&t.M_>0&&t.hC(t.M_-1)===n&&(t=t.EC(TS.GC(n))),t}}]),t}();function UD(t){var n=t.pc("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function HD(t,n){var i=XD(t)||zD(t),e=XD(n)||zD(n);return!i&&!e||t===n}function XD(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function zD(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function VD(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],a=e[2];if(s!==o)return!1;if(Number(u)!==Number(a))return!1}return!0}function WD(t,n,i,e,r,s,u){var o=new FD(r,t),a=new MD(o,t,r,i,s);return new qD(t,n,i,e,o,a,u)}var qD=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).pV=void 0,a.Mc=void 0,a.hW=void 0,a.PD=void 0,a.Oc=void 0,a.cW=void 0,a.bV=void 0,a.fW=void 0,a.vW=Xr(),a.pV=n,a.Mc=e,a.Oc=e.Gl,a.hW=r,a.PD=i,a.bV=s,a.fW=u,a.cW=o,a.fW.tu(GC.mH,a.Js),a}E(n,t);var i=n.prototype;return i.wH=function(){return this.bV.wH()},i.oW=function(){this.bV.oW()},i.eW=function(){this.bV.eW(),this.fW.eW()},i.lW=function(t,n){this.cW.EH(t,n)},i.dW=function(t,n){this.cW.IH(t,n)},i.wW=function(){return this.fW.$V()},i.UV=function(t,n,i){return this.fW.UV(t,n,i)},i.FV=function(t,n,i){return this.fW.FV(t,i)},i.QV=function(t,n){return j.Sn&&j.En<3?this.fW.QV(t,1/0):this.fW.QV(t,n)},i.$h=function(t,n,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.dW(t,n),e=this.by,s.next=4,Fr.awrap(this.fW.JV(t,n,i));case 4:r=0!==e.M_&&0===this.by.M_,(j.Un||j.In)&&r&&this.PD.Xu(this.PD.tm);case 6:case"end":return s.stop()}},null,this,null,qe)},i.sH=function(t){var n=t.Gl;if(this.Oc===n)return!0;var i=this.vW.get(n);if(void 0!==i)return i;var e=this._W(t);return this.vW.set(n,e),e},i._W=function(t){var n=aN(t.Gl);if(void 0===n)return!1;var i=Xc(this.Oc),e=Xc(n),r=UD(i),s=UD(e);if(this.fW.tW()){if(!function(t,n){return su(t,n,HD)}(r,s))return!1}else{if(i._s!==e._s)return!1;if(!function(t,n){return su(t,n,VD)}(r,s))return!1}return!0},i.uH=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.Gl,this.Oc!==n&&(this.vW.clear(),this.fW.uH(t),this.Oc=n),this.Mc=t,this.pV.gW();case 4:case"end":return i.stop()}},null,this,null,qe)},i.Xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.vW.clear(),this.ou(),this.cW.$c(),t.prev=3,this.fW.au(GC.mH,this.Js),t.next=7,Fr.awrap(this.fW.Xs());case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},null,this,[[3,9]],qe)},T(n,[{key:"by",get:function(){return this.bV.by}},{key:"cc",get:function(){return this.Mc}},{key:"Gl",get:function(){return this.Oc}},{key:"mW",get:function(){return this.hW}},{key:"yW",get:function(){return this.cW.RH}},{key:"XL",get:function(){return this.fW.XL},set:function(t){this.fW.XL=t}},{key:"VL",get:function(){return this.fW.VL},set:function(t){this.fW.VL=t}},{key:"qx",get:function(){return this.fW.qx}}]),n}(Tu),GD=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.kW=void 0,this.oC=t,this.hC=n,this.pW=i,this.bW=e,this.kW=yI()}return t.prototype.AW=function(){var t=this.oC,n=this.hC;if(this.pW||this.bW){var i=.001*(yI()-this.kW);this.pW&&(t+=i),this.bW&&(n+=i)}return t>=n?TS.qC():new TS([t,n])},t}(),$D=100,YD=3500,QD=1e3,ZD=2e3,KD=1e4,JD=.01,tN=1,nN=[Bf.zf,Bf.Ff,Bf.jf,Bf.Yf,Bf.Bf,Bf.Wf,Ay.b_,Um.hg],iN=function(){function t(t,n,e){var r=this;this.iI=sy.Vg,this.TW=!1,this.SW=[],this.EW=void 0,this.IW=void 0,this.RW=0,this.DW=0,this.NW=0,this.PW=0,this.BW=1,this.OW=void 0,this.xW=void 0,this.LW=function(t){var n=r.PD.tm;t.TH.TN(n)&&r.MW(n)},this.UW=nt(function(){r.XW(Ay.b_)},$D),this.HW=nt(function(){r.XW(Bf.Vf)},$D),this.FW=nt(function(){r.XW(Bf.ev)},$D),this.zW=function(){r.VW()?0===r.PW&&(r.PD.tu(Bf.ev,r.FW),r.IW=i.Zn(function(){r.WW()},YD)):r.GW()},this.qW=function(){var t=r.RW,n=r.NW,e=r.PD.tm,s=i.wr(),u=r.bV.by;if(t!==e)return r.RW=e,r.NW=s,r.BW=1,void(r.OW=i.jw?ZD:QD);if(r.VW()&&0!==u.M_&&n>0&&s>n+r.OW){var o,a,h=r.RH.wC().RC(u),c=h.XC(e);if(-1!==c){var f=h.oC(c);if(f-e<tN){var l=h.hC(c);0,o=l}}if(!o)(o=null==(a=r.xW)?void 0:a.determineStallJumpTarget())||(o=e+r.BW*JD,u.TN(o)||(o=r.YW(e,u)));0,r.RW=o,r.BW++,r.OW=g.min(2*r.OW,KD),r.PD.Xu(o)}},this.bV=t,this.PD=n,this.PD.tu(Ay.b_,this.UW),this.PD.tu(Bf.Vf,this.HW),this.PD.tu(nN,this.zW),this.xW=e,this.OW=i.jw?ZD:QD}var n=t.prototype;return n.jW=function(t){this.SW.push(t),t.tu(JC.bH,this.LW)},n.$c=function(){var t=this;this.GW(),this.iI=sy.Vg,this.PD.au(Ay.b_,this.UW),this.PD.au(Bf.Vf,this.HW),this.PD.au(nN,this.zW),this.SW.forEach(function(n){return n.au(JC.bH,t.LW)}),void 0!==this.EW&&(i.Qn(this.EW),this.EW=void 0),this.TW=!0},n.XW=function(t){if(!this.TW)if(t!==Bf.ev||0!==this.PW){var n=this.PD.wg;if(n<=sy.Gg){var i=this.PD.tm;this.MW(i)||this.qW()}t===Ay.b_&&(this.iI=n)}else this.WW()},n.MW=function(t){var n=this;if(this.PD.im)return!1;var e=this.bV.by,r=-1,s=e.DC(t);if(-1!==s){if(e.hC(s)<=t+.5&&e.M_>s+1){var u=e.oC(s+1);u<=t+1&&(r=u)}}else{var o=this.RH.wC().RC(this.bV.by),a=o.DC(t);-1!==a&&(r=o.hC(a))}if(-1!==r&&(!(g.abs(r-t)<=.001)||i.Yw)){if(i.Yw){if(void 0!==this.EW)return!1;this.DW=this.PD.tm,this.EW=i.Zn(function(){n.DW===n.PD.tm&&n.PD.Xu(r),n.EW=void 0},250)}else this.PD.Xu(r);return!0}return!1},n.QW=function(){this.IW&&(i.Qn(this.IW),this.IW=void 0),this.PD.au(Bf.ev,this.FW)},n.WW=function(){0===this.PW&&(this.QW(),this.PW=i.Ir(this.qW,250))},n.GW=function(){0!==this.PW&&(i.Rr(this.PW),this.PW=0),this.QW(),this.PD.vm||(this.NW=0)},n.VW=function(){return!this.PD.cm&&!this.PD.vm&&0!==this.PD.fm&&!this.PD.im&&!this.PD.Au&&(this.ZW()||this.PD.wg>=sy.qg)},n.ZW=function(){var t=this.PD.tm,n=this.bV.by,i=n.DC(t);return-1!==i&&n.hC(i)>t+.5},n.YW=function(t,n){var i=n.DC(t);return i>-1?n.hC(i):t},T(t,[{key:"RH",get:function(){return this.SW.reduce(function(t,n){return t.EC(n.RH)},TS.qC())}}]),t}();function eN(t){var n=[];if(t.KW&&n.push(t.KW.by),t.JW&&n.push(t.JW.by),0===n.length)return TS.qC();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.M_>0&&(i=g.max(i,r.hC(r.M_-1)))}for(var s=t.wH,u=new TS([0,i],[!0,s]),o=0;o<n.length;o++){var a=n[o];s&&a.M_>0&&(a=a.EC(new TS([a.hC(a.M_-1),i],[!0,!0]))),u=u.kC(a)}return u}var rN,sN=j.Rn||j.Dn;!function(t){t.iW="closed",t.jd="open",t.Bf="ended"}(rN||(rN={}));var uN=function(){function t(){}return t.prototype.$W=function(){return new MediaSource},t}(),oN=function(t){function n(n,i,e,r,s,u){var o;return void 0===s&&(s=new uN),(o=t.call(this,n,i,e,r)||this).tG=void 0,o.nG=void 0,o.iG=void 0,o.eG=void 0,o.rG=void 0,o.sG=new GD(0,1/0),o.BD=void 0,o.uG=void 0,o.oG=void 0,o.aG=!1,o.hG=function(){o.cG()},o.fG=function(){o.PD.fG()},o.tG=s,o.BD=o.tG.$W(),o.PD.tu(Bf.jf,o.hG),o.oG=new iN(Jt(o),o.PD,u),o}E(n,t);var i=n.prototype;return i.vG=function(t){if(p(t)||t<0)throw new l("Invalid duration");this.lG()?this.dG(t):this.uG=t},i.dG=function(t){var n=t===1/0,i=n?Mt:t;if(n&&this.BD.setLiveSeekableRange){var e=g.pow(2,39);this.BD.setLiveSeekableRange(0,e)}this.BD.duration=i,this.uG=void 0},i.wG=function(t,n,i,e){this.sG=new GD(t,n,!!i,!!e)},i.JL=function(){var t,n,i,e,r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return t=this.Mc,n=Ws(t._G,function(t){return As(t.Gl,"audio")}),i=Ws(t._G,function(t){return As(t.Gl,"video")}),h.next=5,Fr.awrap(this.gG());case 5:n&&(r=new iD,this.oG.jW(r),s=null!=(e=aN(n.Gl))?e:n.Gl,this.iG=this.BD.addSourceBuffer(s),this.nG=WD(this,this.PD,n,gp.Cd,this.iG,s,r),this.nG.tu(GC.mH,this.fG)),i&&(o=new iD,this.oG.jW(o),a=null!=(u=aN(i.Gl))?u:i.Gl,this.rG=this.BD.addSourceBuffer(a),this.eG=WD(this,this.PD,i,gp.Pd,this.rG,a,o),this.eG.tu(GC.mH,this.fG)),this.$X.Jh(this,t);case 8:case"end":return h.stop()}},null,this,null,qe)},i.gG=function(){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=URL.createObjectURL(this.BD),i.next=3,Fr.awrap(t.prototype.cH.call(this,n));case 3:if(this.wg===rN.jd){i.next=6;break}return i.next=6,Fr.awrap(im(this.BD,"sourceopen"));case 6:case"end":return i.stop()}},null,this,null,qe)},i.lG=function(){if(this.wg!==rN.jd)return!1;var t=this.nG&&this.nG.qx,n=this.eG&&this.eG.qx;return!(t||n)},i.oW=function(){this.aG=!0,this.nG&&this.nG.oW(),this.eG&&this.eG.oW(),this.aG=!1,this.cG()},i.eW=function(){this.nG&&this.nG.eW(),this.eG&&this.eG.eW()},i.sH=function(n){var i=Ws(n._G,function(t){return As(t.Gl,"audio")}),e=Ws(n._G,function(t){return As(t.Gl,"video")});if(this.nG){if(!i)return!1;if(!this.nG.sH(i))return!1}else if(i)return!1;if(this.eG){if(!e)return!1;if(!this.eG.sH(e))return!1}else if(e)return!1;return!!t.prototype.sH.call(this,n)},i.uH=function(n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=Ws(n._G,function(t){return As(t.Gl,"audio")}),e=Ws(n._G,function(t){return As(t.Gl,"video")}),r=[],this.nG&&r.push(this.nG.uH(i)),this.eG&&r.push(this.eG.uH(e)),s.next=7,Fr.awrap(qe.all(r));case 7:return s.next=9,Fr.awrap(t.prototype.uH.call(this,n));case 9:case"end":return s.stop()}},null,this,null,qe)},i.Xs=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!j.In){n.next=3;break}return n.next=3,Fr.awrap(this.lH());case 3:if(!this.nG){n.next=9;break}return n.next=6,Fr.awrap(this.nG.Xs());case 6:if(this.nG=void 0,Bs()&&(j.In||j.Sn))try{this.BD.removeSourceBuffer(this.iG)}catch(t){}this.iG=void 0;case 9:if(!this.eG){n.next=15;break}return n.next=12,Fr.awrap(this.eG.Xs());case 12:if(this.eG=void 0,Bs()&&(j.In||j.Sn))try{this.BD.removeSourceBuffer(this.rG)}catch(t){}this.rG=void 0;case 15:if(this.ef.src&&URL.revokeObjectURL(this.ef.src),this.PD.au(Bf.jf,this.hG),this.oG.$c(),!j.Sn){n.next=21;break}return n.next=21,Fr.awrap(this.lH());case 21:return n.next=23,Fr.awrap(t.prototype.Xs.call(this));case 23:case"end":return n.stop()}},null,this,null,qe)},i.gW=function(){var t=this,n=this.Mc,i=n._G.map(function(n){return As(n.Gl,"audio")&&t.nG?t.nG.cc:As(n.Gl,"video")&&t.eG?t.eG.cc:n});this.Mc=Ur({},n,{_G:i})},i.aW=function(){this.aG||this.cG()},i.cG=function(){this.mG&&this.lG()&&(this.BD.endOfStream(),this.uG=void 0,this.$s(new Eu(FC.bB)),this.PD.fG())},i.rW=function(){this.lG()&&(this.wH?this.cG():void 0!==this.uG&&this.dG(this.uG))},i.MW=function(t){return this.oG.MW(t)},n.dH=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t._G;n<i.length;n++){if(void 0===aN(i[n].Gl))return!1}return!0},T(n,[{key:"KW",get:function(){return this.nG}},{key:"JW",get:function(){return this.eG}},{key:"nm",get:function(){if(this.uG)return this.uG;var t=this.BD.duration;return t===Mt?1/0:t}},{key:"by",get:function(){return sN?eN(this):(t=this,n=TS.VC(this.ef.buffered),(i=n).M_>0&&t.wH&&(i=i.EC(TS.GC(i.hC(i.M_-1)))),i);var t,n,i}},{key:"_H",get:function(){var t;return null==(t=this.nG)?void 0:t.by}},{key:"gH",get:function(){var t;return null==(t=this.eG)?void 0:t.by}},{key:"Ly",get:function(){return this.sG.AW().kC(new TS([0,this.nm],[!0,!0]))}},{key:"wH",get:function(){return(!this.nG||this.nG.wH())&&(!this.eG||this.eG.wH())}},{key:"wg",get:function(){return this.BD.readyState}},{key:"mG",get:function(){if(!this.wH)return!1;var t=this.by;return 0!==t.M_&&t.oC(t.M_-1)<=this.PD.tm}}]),n}($C);function aN(t){var n=Xc(t),i="audio/mp4"===n._s&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(UD(n),["mp4a.40.34"]);if(MediaSource.isTypeSupported(t)&&(!i||!j.On))return t;if(i){var e=Ws(['audio/mp4; codecs="mp3"',"audio/mpeg"],function(t){return MediaSource.isTypeSupported(t)});return void 0!==e?e:void 0}}var hN=[Bf.rv,Bf.Wf,Bf.jf,Bf.zf,Bf.Ff],cN=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return(c=t.call(this)||this).KC=n,c.ma=i,c.yG=e,c.$C=r,c.nP=s,c.JC=u,c.tP=o,c.Ba=a,c.kG=h,c}E(n,t);var i=n.prototype;return i.qm=function(){this.$C||(this.$C=!0,this.$s(new Sy(this.tm)))},i.Gm=function(){this.$C&&(this.$C=!1,this.$s(new Ey(this.tm)))},i.Xs=function(){this.ou()},T(n,[{key:"tm",get:function(){return this.KC},set:function(t){this.tm!==t&&(this.KC=t,this.nP=!0,this.$s(new By(this.tm)))}},{key:"nm",get:function(){return this.ma}},{key:"im",get:function(){return this.yG}},{key:"cm",get:function(){return this.$C}},{key:"wg",get:function(){return this.kG}},{key:"vm",get:function(){return this.nP}},{key:"hm",get:function(){return this.JC},set:function(t){this.hm!==t&&(this.JC=t,this.$s(new Ly(this.tm,this.wm)))}},{key:"fm",get:function(){return this.tP},set:function(t){this.fm!==t&&(this.tP=t,this.$s(new Dy(this.tm,this.fm)))}},{key:"wm",get:function(){return this.Ba},set:function(t){this.wm!==t&&(this.Ba=t,this.$s(new Ly(this.tm,this.wm)))}}]),n}(Tu);var fN=function(t){function n(n){var i;return(i=t.call(this)||this).PD=void 0,i.iI=sy.Vg,i.pG=function(){i.bG()},i.PD=n,i}E(n,t);var i=n.prototype;return i.AG=function(t){this.iI!==t&&(this.iI=t,this.$s(new Fy(this.PD.tm,t)))},i.bG=function(){this.AG(this.NM())},i.wc=function(){this.AG(sy.Vg)},i.Xs=function(){this.ou()},T(n,[{key:"wg",get:function(){return this.NM()}}]),n}(Tu),lN=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],vN=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<lN.length;e++){var r=lN[e];i.PD.sN.addEventListener(r,i.pG)}return i}E(n,t);var i=n.prototype;return i.NM=function(){var t=this.PD.sN.readyState;return t>sy.Gg&&this.PD.TG?sy.Gg:(this.PD.sN.seeking&&t>sy.Wg&&(t=sy.Wg),t)},i.Xs=function(){for(var n=0;n<lN.length;n++){var i=lN[n];this.PD.sN.removeEventListener(i,this.pG)}t.prototype.Xs.call(this)},n}(fN),dN=function(t){function n(n){var i;(i=t.call(this,n)||this).PD.tu(Bf.jf,i.pG);for(var e=0;e<lN.length;e++){var r=lN[e];i.PD.sN.addEventListener(r,i.pG)}return i}E(n,t);var i=n.prototype;return i.NM=function(){if(this.PD.sN.readyState===sy.Vg)return sy.Vg;var t=this.SG(),n=t?t.hC-t.oC:0;if(!t)return sy.Wg;var i=this.PD.fm;return this.EG()||n>=3*i?sy.Yg:n>=3?sy.qg:sy.Gg},i.SG=function(){var t=this.PD.tm,n=this.PD.by.SC(.04),i=n.DC(t);if(!(i<0))return{oC:t,hC:n.hC(i)}},i.EG=function(){if(this.PD.im)return!0;var t=this.PD.nm,n=this.SG();return!!n&&t-n.hC<=1/6},i.Xs=function(){this.PD.au(Bf.jf,this.pG);for(var n=0;n<lN.length;n++){var i=lN[n];this.PD.sN.removeEventListener(i,this.pG)}t.prototype.Xs.call(this)},n}(fN),wN=[Ay.b_,Bf.zf,Bf.Ff,Bf.jf,Bf.Yf,Bf.Bf,Um.hg],gN=function(t){function n(n){var i;return(i=t.call(this,n)||this).ef=void 0,i.IG=!1,i.wI=function(){i.IG=!0,i.tc()},i.ef=n.sN,i.ef.addEventListener(Ay.$g,i.wI),i}E(n,t);var i=n.prototype;return i.RG=function(){return this.IG&&t.prototype.RG.call(this)},i.tc=function(){this.IG&&(this.ef.paused||this.ef.ended||this.ef.error)&&(this.IG=!1),t.prototype.tc.call(this)},i.wc=function(){t.prototype.wc.call(this),this.IG=!1},i.Xs=function(){this.ef.removeEventListener(Ay.$g,this.wI),t.prototype.Xs.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).oI=void 0,i.DG=!1,i.Yx=function(){i.tc()},i.oI=n,i.oI.tu(wN,i.Yx),i}E(n,t);var i=n.prototype;return i.NG=function(){return this.oI.wg<sy.qg},i.RG=function(){return!this.oI.vm&&!(this.oI.cm||this.oI.im||this.oI.Au||this.NG())},i.tc=function(){var t=this.DG;this.DG=this.RG(),!t&&this.DG&&this.$s(new Nk(this.oI.tm))},i.wc=function(){this.DG=!1},i.Xs=function(){this.ou(),this.oI.au(wN,this.Yx)},n}(Tu)),mN=function(t){function n(n){var i;return(i=t.call(this,Um.hg)||this).Au=void 0,i.Au=n,i}return E(n,t),n}(Eu);function yN(t,n){return t.ck<=n&&t.fk>n}function pN(t,n){return function(t,n){return zs(t.ck,n.ck,$p)}(t,n)||function(t,n){return zs(t.fk,n.fk,$p)}(t,n)}function _N(t,n){var i=function(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,a=u-1;o<=a;){var h=o+(a-o>>1),c=e(i(t[h]),n);if(c<0)o=h+1;else if(c>0)a=h-1;else{if(!(r&&h>s&&0===e(i(t[h-1]),n)))return h;a=h-1}}return~o}(t,n,J,pN,!0);if(i<0)return i;for(;i<t.length&&pN(n,t[i])===Os.Cs;i++)if(t[i].Nk(n))return i;return-(i+1)}function bN(t){var n=t.h_;if(!n)return-1;if(t instanceof Qp)return n.CG(t);var i=n._g;if(!i)return-1;var e=_N(i.L_,t);return e>=0?e:-1}function kN(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],a=[];s<e&&u<r;){var h=t[s],c=n[u];h===c?(s++,u++):i(c,h)<=0?(o.push(c),u++):(a.push(h),s++)}for(;s<e;)a.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{PG:o,BG:a}}(t,n,pN);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var AN=function(){function t(t){this.OG=void 0,this.u_=void 0,this.OG=t}var n=t.prototype;return n.a_=function(){return function(t){for(var n=[],i=0;i<t.M_;i++)n[i]=t.Cu(i).o_;return n.item=function(n){var i=0|n,e=t.Cu(i);return e&&e.o_||void 0},w.defineProperty(n,"constructor",{value:Vp}),n}(this)},n.Fy=function(t){for(var n=this.OG,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.Nk(e))return!0}return!1},n.Cu=function(t){return this.OG[t]},T(t,[{key:"L_",get:function(){return this.OG}},{key:"M_",get:function(){return this.OG.length}},{key:"o_",get:function(){if(this.u_){var t=this.OG;this.u_.length=t.length;for(var n=0;n<t.length;n++)this.u_[n]=t[n].o_}else this.u_=this.a_();return this.u_}}]),t}(),TN=function(t){function n(n,i){var e;return(e=t.call(this,am.b_)||this).h_=n,e.wg=i,e}return E(n,t),n.prototype.a_=function(){return new SN(this.h_.o_,Gm(this.wg))},n}(hm),SN=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return E(n,t),n}(cm),EN=function(t){function n(n){var i;return(i=t.call(this,am.T_)||this).h_=n,i}return E(n,t),n.prototype.a_=function(){return new IN(this.h_.o_)},n}(hm),IN=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return E(n,t),n}(cm),RN=function(t){function n(n){var i;return(i=t.call(this,am.c_)||this).hk=n,i}return E(n,t),n.prototype.a_=function(){return new CN(this.hk.o_)},n}(hm),CN=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return E(n,t),n}(cm),DN=function(t){function n(n){var i;return(i=t.call(this,am.v_)||this).hk=n,i}return E(n,t),n.prototype.a_=function(){return new NN(this.hk.o_)},n}(hm),NN=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return E(n,t),n}(cm),PN=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this)||this).u_=void 0,h.Uh=void 0,h.Wy=kp(),h.xG=!1,h.LG=void 0,h.MG=void 0,h.Vy=void 0,h.ya=void 0,h.yP=Fm.rg,h.kG=Np.NONE,h.UG=void 0,h.Wi=void 0,h.XG=void 0,h.OG=[],h.HG=[],h.FG=void 0,h.zG=void 0,h.VG=0,h.WG=0,h.Uh=i||"",h.LG=a||"",h.MG=n,h.ya=r||"",h.xG=Boolean(s),h.XG=Boolean(o),h.Wi=u||Pp.DEFAULT,h.Vy=e||"",h.FG=new AN(h.OG),h.zG=new AN(h.HG),h}E(n,t);var i=n.prototype;return i.GG=function(t){return Ws(this.FG.L_,function(n){return n.Y_===t})},i.a_=function(){return Vm(this)},i.OP=function(t){var n=Xm(t);n!==this.fg&&(this.yP=n,n===Fm.rg&&(this.HG.forEach(function(t){t.Ck=!1}),Zs(this.HG),this.WG=0),this.$s(new gm(this)))},i.KE=function(t){if(t&&!t.h_){var n=_N(this._g.L_,t);if(!(n>=0)){t.h_=this;var i=-(n+1);this.OG.splice(i,0,t),this.qG(i),t.Dk=i,i<this.WG&&(this.WG=i),this.$s(new RN(t))}}},i.UE=function(t){if(t&&t.h_===this){var n=this.CG(t);if(!(n<0)){t.Ck=!1;var i=this.HG,e=_N(i,t);e>=0&&Ys(i,e),Ys(this.OG,n),this.qG(n),t.Dk=-1,this.WG>n&&--this.WG,this.$s(new DN(t))}}},i.YG=function(t,n){var i=this.HG,e=this.OG,r=this.WG,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){yN(i[u],t)||(s=!0,Ys(i,u))}for(;r<e.length&&e[r].ck<=t;){var o=e[r];if(0===t)break;yN(o,t)&&!Qs(i,o)&&(s=!0,i.push(o)),r++}s&&js(i,pN),this.WG=r},i.CG=function(t){return(-1===t.Dk||t.Dk>=this.VG)&&this.jG(),t.Dk},i.jG=function(){for(var t=this.OG,n=this.VG;n<t.length;n++)t[n].Dk=n;this.VG=t.length},i.qG=function(t){t<this.VG&&(this.VG=t)},i.vg=function(t){this.dg||(this.fg=t)},i.$c=function(){this.ou();for(var t=this.OG.slice(),n=0;n<t.length;n++){t[n].$c()}Zs(this.OG),Zs(this.HG)},T(n,[{key:"gg",get:function(){return this.zG}},{key:"_g",get:function(){return this.FG}},{key:"$E",get:function(){return this.xG},set:function(t){this.xG=t}},{key:"dg",get:function(){return this.XG}},{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}},{key:"Y_",get:function(){return this.Uh}},{key:"j_",get:function(){return this.Wy}},{key:"cg",get:function(){return this.LG},set:function(t){this.LG=t}},{key:"Q_",get:function(){return this.MG}},{key:"Z_",get:function(){return this.Vy},set:function(t){t!==this.Vy&&(this.Vy=t,this.$s(new pp(this)))}},{key:"K_",get:function(){return this.ya}},{key:"fg",get:function(){return this.yP},set:function(t){this.OP(t)}},{key:"wg",get:function(){return this.kG},set:function(t){this.kG!==t&&(this.kG=t,this.$s(new TN(this,this.kG)))}},{key:"yg",get:function(){return this.UG},set:function(t){this.UG=t}},{key:"_s",get:function(){return this.Wi},set:function(t){this.Wi!==t&&(this.Wi=t,this.$s(new EN(this)))}}]),n}(Tu),xN=function(t){function n(n,i){var e;return(e=t.call(this,Lp.$y,n)||this).Bp=i,e}return E(n,t),n.prototype.a_=function(){return new BN(this.hk.o_)},n}(Hp),BN=function(t){function n(n){return t.call(this,"enter",n)||this}return E(n,t),n}(Xp),ON=function(t){function n(n,i){var e;return(e=t.call(this,Lp.ek,n)||this).Bp=i,e}return E(n,t),n.prototype.a_=function(){return new LN(this.hk.o_)},n}(Hp),LN=function(t){function n(n){return t.call(this,"exit",n)||this}return E(n,t),n}(Xp),MN=function(t){function n(n){var i;return(i=t.call(this,am.d_)||this).hk=n,i}return E(n,t),n.prototype.a_=function(){return new jN(this.hk.o_)},n}(hm),jN=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return E(n,t),n}(cm),FN=function(t){function n(n){var i;return(i=t.call(this,am.__)||this).hk=n,i}return E(n,t),n.prototype.a_=function(){return new UN(this.hk.o_)},n}(hm),UN=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return E(n,t),n}(cm),HN=function(t){function n(n){var i;return(i=t.call(this)||this).QG=void 0,i.Ik=void 0,i.Wy=void 0,i.Sk=void 0,i.u_=void 0,i.Ek=!1,i.ZG=function(){i.Ck=!0},i.KG=function(){i.Ck=!1},i.Wy=Ip(),i.QG=n,i.QG.addEventListener("enter",i.ZG),i.QG.addEventListener("exit",i.KG),i}E(n,t);var i=n.prototype;return i.a_=function(){return zp(this)},i.Nk=function(t){return this===t||Sm(this,t)&&Yp(this,t)},i.$c=function(){this.ou(),this.QG.removeEventListener("enter",this.ZG),this.QG.removeEventListener("exit",this.KG)},T(n,[{key:"j_",get:function(){return this.Wy}},{key:"ck",get:function(){return this.QG.startTime},set:function(t){this.QG.startTime=t}},{key:"fk",get:function(){return this.QG.endTime},set:function(t){this.QG.endTime=t}},{key:"vk",get:function(){return this.Ik},set:function(t){this.Ik=t}},{key:"Pk",get:function(){return!!this.QG.pauseOnExit},set:function(t){this.QG.pauseOnExit=!!t}},{key:"h_",get:function(){return this.Sk},set:function(t){this.Sk=t}},{key:"Y_",get:function(){return this.QG.id||""}},{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}},{key:"Ck",get:function(){return this.Ek},set:function(t){this.Ck!==t&&(this.Ek=t,t?(this.$s(new xN(this,this.ck)),this.Sk&&this.Sk.$s(new MN(this))):(this.$s(new ON(this,this.fk)),this.Sk&&this.Sk.$s(new FN(this))))}}]),n}(Ym),XN=function(t){function n(n){var i;return(i=t.call(this,am.m_)||this).h_=n,i}return E(n,t),n.prototype.a_=function(){return new zN(this.h_.o_)},n}(hm),zN=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return E(n,t),n}(cm);function VN(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new WN(t),t.THEOplayerVTTRegion=n),n}}var WN=function(){function t(t){this.JG=void 0,this.u_=void 0,this.JG=t}return T(t,[{key:"$G",get:function(){return this.JG}},{key:"Y_",get:function(){return this.JG.id||""}},{key:"Xk",get:function(){return+this.JG.width||0},set:function(t){this.JG.width=t||0}},{key:"Bk",get:function(){return+this.JG.lines||0},set:function(t){this.JG.lines=t||0}},{key:"Ok",get:function(){return+this.JG.regionAnchorX||0},set:function(t){this.JG.regionAnchorX=t||0}},{key:"xk",get:function(){return+this.JG.regionAnchorY||0},set:function(t){this.JG.regionAnchorY=t||0}},{key:"Mk",get:function(){return+this.JG.viewportAnchorX||0},set:function(t){this.JG.viewportAnchorX=t||0}},{key:"Uk",get:function(){return+this.JG.viewportAnchorY||0},set:function(t){this.JG.viewportAnchorY=t||0}},{key:"Lk",get:function(){return this.JG.scroll||""}},{key:"o_",get:function(){return this.u_||(this.u_=e_(this)),this.u_}}]),t}();var qN=function(t){function n(n){return t.call(this,n)||this}return E(n,t),T(n,[{key:"vk",get:function(){return this.QG.text},set:function(t){this.QG.text=t}},{key:"bk",get:function(){return this.QG.vertical||""},set:function(t){this.QG.vertical=t||""}},{key:"pk",get:function(){return this.QG.snapToLines},set:function(t){this.QG.snapToLines=t}},{key:"dk",get:function(){return this.QG.line},set:function(t){this.QG.line=t}},{key:"xu",get:function(){return+this.QG.size},set:function(t){this.QG.size=Ft(t,0,100)}}]),n}(HN),GN=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.Nk=function(n){return this===n||Sm(this,n)&&t.prototype.Nk.call(this,n)&&Zp(this,n)},T(n,[{key:"yk",get:function(){return VN(this.QG.region)}},{key:"wk",get:function(){return this.QG.lineAlign||"start"},set:function(t){this.QG.lineAlign=t||"start"}},{key:"_k",get:function(){return this.QG.position},set:function(t){this.QG.position=t}},{key:"gk",get:function(){return this.QG.positionAlign||"auto"},set:function(t){this.QG.positionAlign=t||"auto"}},{key:"lk",get:function(){return this.QG.align||"center"},set:function(t){this.QG.align=t||"center"}},{key:"o_",get:function(){return this.u_||(this.u_=Wp(this)),this.u_}}]),n}(qN),$N=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.Nk=function(n){return this===n||Sm(this,n)&&t.prototype.Nk.call(this,n)&&Zp(this,n)},T(n,[{key:"yk",get:function(){return VN(this.$G)}},{key:"$G",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.QG.track,this.QG.regionId)}},{key:"wk",get:function(){return"middle"===(t=this.QG.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.QG.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"_k",get:function(){return this.QG.position},set:function(t){var n,i;this.QG.position=(n=t,i=this.lk,Up(n,i))}},{key:"gk",get:function(){return t=this.QG.positionAlign||"middle",jp[t];var t},set:function(t){var n,i;this.QG.positionAlign=(n=t||"center",i=this.lk,Mp[Fp(n,i)])}},{key:"lk",get:function(){return"middle"===(t=this.QG.align||"middle")?"center":t;var t},set:function(t){var n;this.QG.align="center"===(n=t||"center")?"middle":n}},{key:"o_",get:function(){return this.u_||(this.u_=Wp(this)),this.u_}}]),n}(qN);function YN(t,n){return t.vk===n.vk}function QN(t,n){if(0!==n.length){var i=n.length-1;if(n[i].ck<t.ck)ZN(n,i,t.ck);else{var e=n[0];if(e.ck>t.ck)t.fk=e.ck;else{var r=_N(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0)n[u].ck<t.ck&&ZN(n,u,t.ck);if(s<n.length){var o=n[s];t.fk=o.ck}}}}}}function ZN(t,n,i){for(var e=t[n].ck,r=n;r>=0&&t[r].ck===e;r--)t[r].fk=i}function KN(t){return zp(t)}var JN,tP,nP=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).tq=void 0,e.tq=i,e}return E(n,t),n.prototype.Nk=function(n){return this===n||Sm(this,n)&&t.prototype.Nk.call(this,n)&&YN(this,n)},T(n,[{key:"vk",get:function(){return this.tq}},{key:"o_",get:function(){return this.u_||(this.u_=KN(this)),this.u_}}]),n}(HN);function iP(t){switch(t){case JN.ISO_8859_1:case JN.UTF16_BOM:case JN.UTF16:case JN.UTF8:return!0}return!1}function eP(t){switch(t){case JN.ISO_8859_1:return Io;case JN.UTF16_BOM:return Do;case JN.UTF16:return No;case JN.UTF8:return Fo}}function rP(t,n){var i=n.Lu,e=t.byteLength,r=qo(t);return n.Mu(e-i),Yo(r,i,e).buffer}function sP(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function uP(t,n,i){var e=lo(t,n);if(iP(e)){var r=eP(e);return{id:i,language:So(t,n,3),description:r(t,n),text:r(t,n)}}}function oP(t,n,i){var e=lo(t,n);if(iP(e)){var r=eP(e);return{id:i,mimeType:Io(t,n),fileName:r(t,n),description:r(t,n),data:rP(t,n)}}}function aP(t,n,i){var e=lo(t,n);if(iP(e)){for(var r=eP(e),s=[];n.Lu<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function hP(t,n,i){var e=lo(t,n);if(iP(e)){for(var r=eP(e),s=So(t,n,3),u=lo(t,n),o=lo(t,n),a=r(t,n),h=!1,c=[];n.Lu<t.byteLength;){var f=void 0;if(e===JN.UTF16_BOM){var l=Co(t,n);void 0===l?l=h:h=l,f=No(t,n,l)}else f=r(t,n);if(!f||n.Lu+4>t.byteLength)break;c.push({text:f,timestamp:bo(t,n)})}return{id:i,language:s,format:u,contentType:o,description:a,entries:c}}}function cP(t,n,i){return{id:i,ownerIdentifier:Io(t,n),identifier:rP(t,n)}}function fP(t,n,i){var e=lo(t,n);if(iP(e)){var r=eP(e);return{id:i,language:So(t,n,3),description:r(t,n),text:r(t,n)}}}function lP(t,n,i){var e=lo(t,n);if(iP(e))return{id:i,text:eP(e)(t,n)}}function vP(t,n,i){return{id:i,url:Io(t,n)}}function dP(t,n,i){var e=lo(t,n);if(iP(e)){var r=eP(e);return{id:i,description:r(t,n),text:r(t,n)}}}function wP(t,n,i){var e=lo(t,n);if(iP(e))return{id:i,description:eP(e)(t,n),url:Io(t,n)}}function gP(t,n,i){switch(i){case"COM":return uP(t,n,i);case"GEO":return oP(t,n,i);case"IPL":return aP(t,n,i);case"PIC":return function(t,n,i){var e=lo(t,n);if(iP(e)){var r,s,u=eP(e),o=So(t,n,3),a=lo(t,n),h=u(t,n);return"--\x3e"===o?(r=o,s=Io(t,n)):(r="image/"+o.toLowerCase(),s=rP(t,n)),{id:i,mimeType:r,pictureType:a,description:h,data:s}}}(t,n,i);case"SLT":return hP(t,n,i);case"TXX":return dP(t,n,i);case"UFI":return cP(t,n,i);case"ULT":return fP(t,n,i);case"WXX":return wP(t,n,i);default:if("T"===i.charAt(0))return lP(t,n,i);if("W"===i.charAt(0))return vP(t,n,i)}}function mP(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=lo(t,n);if(iP(e)){var r=eP(e),s=Io(t,n);return{id:i,mimeType:s,pictureType:lo(t,n),description:r(t,n),data:"--\x3e"===s?Io(t,n):rP(t,n)}}}(t,n,i);case"COMM":return uP(t,n,i);case"COMR":return function(t,n,i){var e=lo(t,n);if(iP(e)){var r,s,u=eP(e),o=Io(t,n),a=So(t,n,8),h=Io(t,n),c=lo(t,n),f=u(t,n),l=u(t,n);return n.Lu<t.byteLength&&(r=Io(t,n)||"image/",s=rP(t,n)),{id:i,price:o,validUntil:a,contactURL:h,receivedAs:c,nameOfSeller:f,description:l,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return oP(t,n,i);case"IPLS":return aP(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:Io(t,n),data:rP(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:lo(t,n),position:bo(t,n)}}(t,n,i);case"SYLT":return hP(t,n,i);case"TXXX":return dP(t,n,i);case"UFID":return cP(t,n,i);case"USER":return function(t,n,i){var e=lo(t,n);if(iP(e)){var r=eP(e);return{id:i,language:So(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return fP(t,n,i);case"WXXX":return wP(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return lP(t,n,i);default:var e=i.charAt(0);if("T"===e)return lP(t,n,i);if("W"===e)return vP(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(JN||(JN={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(tP||(tP={}));var yP=10;function pP(t,n){return(127&lo(t,n))<<21|(127&lo(t,n))<<14|(127&lo(t,n))<<7|127&lo(t,n)}function _P(t,n){switch(t){case tP.V24:return{nq:fo(n,0),iq:fo(n,1),rq:fo(n,2),uq:fo(n,3)};case tP.V23:return{nq:fo(n,0),iq:fo(n,1),rq:fo(n,2)};case tP.V22:return{nq:fo(n,0),oq:fo(n,1)}}}function bP(t,n,i){switch(i.qA){case tP.V23:i.YA.iq&&function(t,n){var i=n.Lu,e=bo(t,n)+4,r=32768&po(t,n);n.Xu(i+e),r&&bo(t,n)}(t,n);break;case tP.V24:i.YA.iq&&function(t,n){var i=n.Lu,e=pP(t,n);n.Xu(i+e)}(t,n)}}function kP(t,n){if(t.byteLength-n.Lu<yP)return null;if(73!==lo(t,n)||68!==lo(t,n)||51!==lo(t,n))return null;var i=lo(t,n),e=lo(t,n);if(!function(t){switch(t){case tP.V22:case tP.V23:case tP.V24:return!0}return!1}(i))return null;var r=lo(t,n),s=pP(t,n);return{qA:i,aq:e,YA:_P(i,r),hq:s}}function AP(t,n,i){switch(i.qA){case tP.V22:return function(t,n,i){return{Y_:So(t,n,3),xu:yo(t,n,3)}}(t,n);case tP.V23:return function(t,n,i){var e=So(t,n,4),r=bo(t,n);lo(t,n);var s=lo(t,n);return{Y_:e,xu:r,YA:{oq:fo(s,0),cq:fo(s,1),groupingIdentity:fo(s,2)}}}(t,n);case tP.V24:return function(t,n,i){var e=So(t,n,4),r=pP(t,n);lo(t,n);var s=lo(t,n);return{Y_:e,xu:r,YA:{groupingIdentity:fo(s,1),oq:fo(s,4),cq:fo(s,5),nq:fo(s,6),fq:fo(s,7)}}}(t,n)}}function TP(t){for(var n=new _(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function SP(t,n){var i=n||new Ko,e=kP(t,i);return e?{FA:e,vq:function(t,n,i){var e=[],r=n.Lu,s=Vo(t,r,r+i.hq),u=new Ko;switch(n.Mu(i.hq),i.qA){case tP.V22:case tP.V23:i.YA.nq&&(s=TP(s))}bP(t,n,i);for(;u.Lu<s.byteLength;)e.push(EP(s,u,i));return e}(t,i,e)}:null}function EP(t,n,i){var e,r,s=AP(t,n,i),u=n.Lu,o=Vo(t,u,u+s.xu);switch(n.Mu(s.xu),i.qA){case tP.V22:var a=s;e=gP(r=o,new Ko,a.Y_);break;case tP.V23:var h=s,c=new Ko;!function(t,n,i){var e,r,s,u=i.YA;u.oq&&(e=bo(t,n)),u.cq&&(r=lo(t,n)),u.groupingIdentity&&(s=lo(t,n))}(o,c,h),e=mP(r=Vo(o,c.Lu,o.byteLength),new Ko,h.Y_);break;case tP.V24:var f=s,l=new Ko;f.YA.nq&&(o=TP(o)),function(t,n,i){var e,r,s,u,o=i.YA;o.groupingIdentity&&(e=lo(t,n)),o.oq&&(r=bo(t,n)),o.cq&&(s=lo(t,n)),o.fq&&(u=pP(t,n))}(o,l,f),e=mP(r=Vo(o,l.Lu,o.byteLength),new Ko,f.Y_)}if(!e){var v=Qo(qo(r));e=sP(s.Y_,v.buffer)}return e}function IP(t){return function(t,n,i){return lP(t,n,i)}(new DataView(t.data),new Ko,t.key)}function RP(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return IP(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return sP(t.key,t.data)}(t)}var CP="org.id3";var DP=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).zy=void 0,r.lq=void 0,r.OG=[],r.HG=[],r.FG=void 0,r.zG=void 0,r.Wy=void 0,r.Vy=void 0,r.yP=Fm.rg,r.kG=Np.NONE,r.u_=void 0,r.UG=void 0,r.Wi=Pp.DEFAULT,r.dq=void 0,r.wq=function(){r._q(),r.zy.removeEventListener("cuechange",r.wq)},r.gq=function(){r.fg!==Fm.rg&&(r.mq(),r.YG(),r.OG.length&&r.yq(Np.LOADING))},r.kq=function(){r.yq(Np.LOADED)},r.pq=function(){r.yq(Np.ERROR)},r.zy=n,r.dq=e,r.zy.addEventListener("cuechange",r.wq),r.zy.addEventListener("cuechange",r.gq),r.lq=i,r.lq&&(r.UG=_w(r.lq.src),r.lq.addEventListener("load",r.kq),r.lq.addEventListener("error",r.pq)),r.Wy=kp(),r.Vy=n.label||"",r.FG=new AN(r.OG),r.zG=new AN(r.HG),r.fg=r.bq,mu(function(){r.gq(),r.yq(Np.NONE)}),r}E(n,t);var i=n.prototype;return i.a_=function(){return Vm(this)},i._q=function(){var t=this.fg;this.Aq||t!==Fm.ag?this.bq=t:this.bq=Fm.og},i.Tq=function(){var t=this.fg,n=this.bq;t!==n&&(this.Aq||t!==Fm.ag||n!==Fm.og)&&("metadata"===this.Q_&&n===Fm.rg?this.fg=t:this.fg=n)},i.bG=function(t){this.kG!==t&&(this.kG=t,this.$s(new TN(this,t)))},i.yq=function(t){var n=g.max(this.kG,this.Sq,t);this.bG(n)},n.Eq=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.Iq=function(t){var i=n.Eq(t);if(i)return i;if(V(i=this.Rq(t)))for(var e=0,r=i;e<r.length;e++){r[e].h_=this}else i.h_=this;return t.THEOplayerTextTrackCue=i,i},i.Rq=function(t){return(n=t)&&n.type===CP&&n.value?(this._s=Pp.ID3,function(t){var n;try{n=RP(t.value)}catch(t){n=sP("")}return new nP(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this._s=Pp.ID3,function(t){var n=[];try{var i=SP(new DataView(t.data));if(i)for(var e=0,r=i.vq;e<r.length;e++){var s=r[e];n.push(new nP(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this._s=Pp.WEBVTT,function(t){return"regionId"in t}(t)?new $N(t):new GN(t)):new HN(t);var n},i.Dq=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.Iq(t[e]||t.item(e));if(V(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.mq=function(){for(var t=this.Dq(this.zy.cues),n=kN(this.OG,t),i=0,e=n.BG;i<e.length;i++){var r=e[i];r.au(Lp.ek,this.gq),r.au(Lp.$y,this.gq),this.$s(new DN(r))}for(var s=0,u=n.PG;s<u.length;s++){var o=u[s];o.tu(Lp.$y,this.gq),o.tu(Lp.ek,this.gq),this.$s(new RN(o))}},i.YG=function(){for(var t=this.Dq(this.zy.activeCues),n=kN(this.HG,t),i=0,e=n.BG;i<e.length;i++){e[i].Ck=!1}for(var r=0,s=n.PG;r<s.length;r++){s[r].Ck=!0}(n.PG.length||n.BG.length)&&this.$s(new XN(this))},i.vg=function(t){this.fg=t},i.$c=function(){this.ou();for(var t=this.OG.slice(),n=0;n<t.length;n++){t[n].$c()}Zs(this.OG),Zs(this.HG),this.zy.removeEventListener("cuechange",this.wq),this.zy.removeEventListener("cuechange",this.gq),this.lq&&(this.lq.removeEventListener("load",this.kq),this.lq.removeEventListener("error",this.pq),nr(this.lq))},T(n,[{key:"gg",get:function(){return this.zG}},{key:"$E",get:function(){return this.lq?this.lq.default:void 0}},{key:"_g",get:function(){return this.FG}},{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}},{key:"Y_",get:function(){return this.zy.id||this.lq&&this.lq.id||""}},{key:"j_",get:function(){return this.Wy}},{key:"cg",get:function(){return this.zy.inBandMetadataTrackDispatchType||""}},{key:"Q_",get:function(){return this.zy.kind||Vb.wA}},{key:"Z_",get:function(){return this.Vy},set:function(t){t!==this.Vy&&(this.Vy=t,void 0!==this.lq&&(this.lq.label=t),this.$s(new pp(this)))}},{key:"K_",get:function(){return this.zy.language||""}},{key:"fg",get:function(){return this.yP},set:function(t){var n=this.fg;this.yP=Xm(t),this._q();var i=this.fg;n!==i&&this.$s(new gm(this)),i!==Fm.rg&&this.yq(Np.LOADING)}},{key:"bq",get:function(){return Xm(this.zy.mode)},set:function(t){this.zy.mode=t}},{key:"Qy",get:function(){return this.zy}},{key:"wg",get:function(){return this.kG}},{key:"Sq",get:function(){return this.lq?+this.lq.readyState||Np.NONE:Np.LOADED}},{key:"yg",get:function(){return this.UG}},{key:"_s",get:function(){return this.Wi},set:function(t){this.Wi!==t&&(this.Wi=t,this.$s(new EN(this)))}},{key:"Aq",get:function(){return this.dq},set:function(t){this.dq=t,this._q()}}]),n}(Tu);function NP(t,n){return Xs(t.Bp,n.Bp)||function(t,n){return t.h_===n.h_?Hs(bN(t),bN(n)):uk(t.h_,n.h_)}(t.hk,n.hk)||function(t,n){return t===n?Os.Cs:t===Lp.$y?Os.Bs:Os.Ps}(t.type,n.type)}var PP=function(){function t(t,n){var i=this;this.KN=void 0,this.Nq=void 0,this.Mm=[],this.Cq=0,this.Pq=0,this.Bq=[],this.Oq=[],this.xq=!1,this.Lq=!1,this.Mq=void 0,this.Uq=function(){i.Cq=0,i.Xq(),i.Hq()},this.Fq=function(){i.Xq(),i.Hq()},this.zq=function(){i.Lq=!0,i.Mq=i.KN.tm,i.Vq()},this.Wq=function(){i.Xq(),i.Hq()},this.Gq=function(){i.qq(),i.Xq(),i.Hq()},this.Yq=function(t){Qs(i.Oq,t.hk)||i.Oq.push(t.hk),i.jq()},this.Qq=function(t){$s(i.Bq,t.hk),$s(i.Oq,t.hk),i.jq()},this.Nq=n,this.KN=t,t.tu(Bf.ev,this.Fq),t.tu(Bf.zf,this.Fq),t.tu(Ay.$g,this.Fq),t.tu(Bf.Ff,this.Fq),t.tu(Bf.jf,this.zq),t.tu(Bf.Yf,this.Wq),this.jq()}var n=t.prototype;return n.wc=function(){Zs(this.Bq);for(var t=0,n=this.Mm.slice();t<n.length;t++){var i=n[t];this.O_(i)}this.Vq(),this.Cq=0,this.Pq=0,this.xq=!1,this.Lq=!1,this.Mq=void 0},n.B_=function(t){if(!Qs(this.Mm,t)){if(this.Mm.push(t),t.tu(am.c_,this.Yq),t.tu(am.v_,this.Qq),t.tu(am.k_,this.Gq),t._g.M_>0){for(var n=0,i=t._g.L_;n<i.length;n++){var e=i[n];this.Oq.push(e)}this.jq()}this.qq()}},n.O_=function(t){if($s(this.Mm,t)){if(t.au(am.c_,this.Yq),t.au(am.v_,this.Qq),t.au(am.k_,this.Gq),t._g.M_>0){for(var n=0,i=t._g.L_;n<i.length;n++){var e=i[n];$s(this.Bq,e),$s(this.Oq,e)}this.jq()}this.qq()}},n.qq=function(){this.xq=this.Mm.some(function(t){return t.fg!==Fm.rg})},n.Hq=function(){this.KN.vm||this.KN.cm?this.Vq():this.jq()},n.jq=function(){this.xq&&(this.Cq||(this.Cq=this.Nq.Pe(this.Uq)))},n.Vq=function(){this.Cq&&(this.Nq.Zq(this.Cq),this.Cq=0)},n.Xq=function(){var t;if(this.xq&&!this.KN.vm){var n=this.Mm,i=this.Pq,e=null!=(t=this.Mq)?t:this.KN.tm,r=e-i<-.1,s=this.Lq||r;s&&e>i&&e-i<.1&&(s=!1),this.Lq=!1,this.Mq=void 0;for(var u,o=[],a=0;a<n.length;a++){var h=n[a];if(h.fg!==Fm.rg){h.YG(e,s);for(var c=0,f=h.gg.L_;c<f.length;c++){var l=f[c];o.push(l)}}}if(s)u=this.Bq;else{u=[];for(var v=0;v<n.length;v++){var d=n[v];d.fg!==Fm.rg&&sk(d,i-1/6,e,u)}}for(var w=u.length-1;w>=0;w--)Qs(o,u[w])&&Ys(u,w);var m=[];if(!s)for(var y=u.length-1;y>=0;y--){var p=u[y];p.ck>i&&p.fk<=e&&(m.push(p),Ys(u,y))}for(var _=0,b=this.Oq;_<b.length;_++){$s(m,b[_])}Zs(this.Oq);for(var k=[],A=[],T=0;T<m.length;T++){var S=m[T];S.Ck||k.push(new xN(S,S.ck)),k.push(new ON(S,g.max(S.ck,S.fk))),S.Ck=!1}for(var E=0,I=u;E<I.length;E++){var R=I[E];R.Ck&&(k.push(new ON(R,g.max(R.ck,R.fk))),R.Ck=!1)}for(var C=0;C<o.length;C++){var D=o[C];D.Ck||(k.push(new xN(D,D.ck)),D.Ck=!0)}k.sort(NP);for(var N=0;N<k.length;N++){var P=k[N],x=P.hk;x.$s(P);var B=x.h_;B&&(P.type===Lp.$y?B.$s(new MN(x)):B.$s(new FN(x)),Qs(A,B)||A.push(B))}A.sort(uk);for(var O=0;O<A.length;O++){var L=A[O];L.$s(new XN(L))}this.Pq=e,this.Bq=o}},n.$c=function(){this.wc(),this.KN.au(Bf.ev,this.Fq),this.KN.au(Bf.zf,this.Fq),this.KN.au(Ay.$g,this.Fq),this.KN.au(Bf.Ff,this.Fq),this.KN.au(Bf.jf,this.zq),this.KN.au(Bf.Yf,this.Wq)},t}(),xP=function(){function t(){}var n=t.prototype;return n.Pe=function(t){return FI(t)},n.Zq=function(t){UI(t)},t}(),BP=new xP,OP=function(t){function n(n,i){return void 0===i&&(i=BP),t.call(this,n,i)||this}return E(n,t),n}(PP),LP=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return E(n,t),n.prototype.Nk=function(n){return this===n||Sm(this,n)&&t.prototype.Nk.call(this,n)&&YN(this,n)},T(n,[{key:"o_",get:function(){return this.u_||(this.u_=KN(this)),this.u_}}]),n}(Qp),MP=function(t){function n(n,i,e){return void 0===e&&(e=Pp.DEFAULT),t.call(this,Vb.gA,"",i||"","",!1,e,!1,n)||this}return E(n,t),n}(PN),jP=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this)._s=Pp.ID3,e}E(n,t);var i=n.prototype;return i.KE=function(n){QN(n,this.OG),t.prototype.KE.call(this,n)},i.a_=function(){return Vm(this)},n}(MP);function FP(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=RP(t.value);return t.THEOplayerTextTrackCue=new LP(i,e),t.THEOplayerTextTrackCue}var UP=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).zy=void 0,i.gq=function(){i.fg!==Fm.rg&&(i.mq(),i.yq(Np.LOADED))},i.zy=n,i.zy.addEventListener("cuechange",i.gq),i.fg=i.bq,mu(function(){i.gq()}),i}E(n,t);var i=n.prototype;return i.OP=function(n){t.prototype.OP.call(this,n),this.bq=this.fg},i.yq=function(t){this.wg=g.max(this.wg,t)},i.mq=function(){var t=this.zy.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(FP(t[e]||t.item(e)));return js(i,pN),i}(t),i=kN(this._g.L_.slice(),n),e=0,r=i.BG;e<r.length;e++){var s=r[e];this.UE(s)}for(var u=0,o=i.PG;u<o.length;u++){var a=o[u];this.KE(a)}}},i.$c=function(){this.zy.removeEventListener("cuechange",this.gq),t.prototype.$c.call(this)},T(n,[{key:"Y_",get:function(){return this.zy.id||""}},{key:"cg",get:function(){return this.zy.inBandMetadataTrackDispatchType||""}},{key:"K_",get:function(){return this.zy.language||""}},{key:"bq",get:function(){return Xm(this.zy.mode)},set:function(t){this.zy.mode=t}},{key:"Qy",get:function(){return this.zy}}]),n}(jP),HP=function(t){function n(n,i){var e;return(e=t.call(this)||this).Kq=zr(),e.kD=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.h_)._s){i.next=4;break}return i.next=4,Fr.awrap(n.wu(am.T_));case 4:if(n._s===Pp.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n._g.M_){i.next=11;break}return i.next=9,Fr.awrap(n.wu(am.c_));case 9:i.next=6;break;case 11:e.Jq(n);case 12:case"end":return i.stop()}},null,null,null,qe)},e.pD=function(t){var n=t.h_;if(n._s===Pp.ID3&&e.Kq.has(n.j_)){var i=e.Kq.get(n.j_);e.O_(i),e.GE.JE(i),n.au(am.c_,e.$q)}},e.$q=function(t){XP(t.hk)&&e.tY(t.hk)},e.GE=n,e.nY=i,e.iY(),e}E(n,t);var i=n.prototype;return i.iY=function(){this.nY.tu(rm.i_,this.kD),this.nY.tu(rm.r_,this.pD)},i.eY=function(){this.nY.au(rm.i_,this.kD),this.nY.au(rm.r_,this.pD)},i.Jq=function(t){var n=t._g.L_[0];if(XP(n)){var i=function(t){var n=t.match(zP);if(!n)return;return{h_:n[1],K_:n[2]}}(n.vk.description),e=i.h_,r=i.K_;if(!this.rY(e,r)){var s=this.GE.QE(Vb.wA,t.Y_,e,r,!1,Pp.TTML);this.B_(s),this.Kq.set(t.j_,s);for(var u=0,o=t._g.L_;u<o.length;u++){var a=o[u];XP(a)&&this.tY(a)}t.tu(am.c_,this.$q)}}},i.rY=function(t,n){return this.hT.L_.some(function(i){return i.Z_===t&&i.K_===n})},i.tY=function(t){if(t.h_)for(var n=this.Kq.get(t.h_.j_),i=Pb(t.vk.text,n,{wb:0,_b:1/0,gb:t.ck}),e=0;e<i.length;e++){var r=i[e];n.KE(r)}},i.wc=function(){var n,i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,i=this.nY.L_;n<i.length;n++)i[n].au(am.c_,this.$q);for(e=0,r=this.hT.L_;e<r.length;e++)s=r[e],this.GE.JE(s);return this.Kq.clear(),u.next=5,Fr.awrap(t.prototype.wc.call(this));case 5:case"end":return u.stop()}},null,this,null,qe)},i.$c=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.eY(),n.next=3,Fr.awrap(t.prototype.$c.call(this));case 3:case"end":return n.stop()}},null,this,null,qe)},n}(fk);function XP(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.vk)&&zP.test(n.description);var n}var zP=/^Track:(.+),Lang:(.+)$/;var VP=function(t){function n(n){var i;return(i=t.call(this,Bf.If)||this).errorObject=void 0,i.errorObject=n,i}return E(n,t),T(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Eu),WP=function(t){function n(){return t.call(this,Bf.Rf)||this}return E(n,t),n}(Eu),qP=function(t){function n(n){var i;return(i=t.call(this,"ov")||this).sY=n,i}return E(n,t),n}(Eu),GP=new yf,$P=function(t){function n(n){var i;return(i=t.call(this,"Zh")||this).session=n,i}return E(n,t),n}(Eu),YP=function(t){function e(e,r,s){var u;return(u=t.call(this)||this).uY=!1,u.oY=!1,u.Yc=new ou,u.aY=void 0,u.qh=function(t){if(!u.Yc.js.Os)switch(t.pu){case"license-request":case"license-renewal":u.LI(t.yu,t.bu).catch(function(t){return u.Nc(t)});break;default:u.Nc(new fp(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.pu))}},u.hY=function(t){u.cY.rc.Pu(function(t,n){switch(t){case"usable":i.Zn(function(){u.oY=!0,u.$s(new WP)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.$s(new qP(n))}})},u.fY=function(t){u.Nc(new fp(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.cY=e,u.vY=r,u.lY=s,e.tu("yu",u.qh),e.tu("mu",u.hY),e.tu("Au",u.fY),e.ic.then(function(){return u.dY()}),u}E(e,t);var r=e.prototype;return r.Kh=function(){var t=this;return this.uY=!0,GP.Kc(function(n){return t.wY(n)},this.Yc.js)},r.wY=function(t){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,cu(t),s.next=4,Fr.awrap(this.vY.RI(t));case 4:return s.next=6,Fr.awrap(this.vY.DI(this.lY.ys,this.lY.Ru,t));case 6:return i=s.sent,s.next=9,Fr.awrap(this.cY.Kh(this.lY.ys,this.lY.Ru,i));case 9:s.next=18;break;case 11:throw s.prev=11,s.t0=s.catch(0),fu(s.t0),e=s.t0 instanceof sa?s.t0.Ju:void 0,r=new fp(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",s.t0,void 0,void 0,void 0,void 0,e),this.Nc(r),r;case 18:case"end":return s.stop()}},null,this,[[0,11]],qe)},r.LI=function(t,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!ia(t)){o.next=7;break}return o.next=4,Fr.awrap(this.vY.WI(new _(t),this.Yc.js));case 4:e=o.sent,o.next=10;break;case 7:return o.next=9,Fr.awrap(this.vY.GI(new _(t),i,this.Yc.js));case 9:e=o.sent;case 10:o.next=17;break;case 12:if(o.prev=12,o.t0=o.catch(0),!hu(o.t0)){o.next=16;break}return o.abrupt("return");case 16:throw o.t0;case 17:if(!this.Yc.js.Os){o.next=19;break}return o.abrupt("return");case 19:return r=this.aY,s=new ta,this.aY=s,o.prev=22,o.next=25,Fr.awrap(this.cY.tc(e));case 25:return o.next=27,Fr.awrap(_u(100));case 27:o.next=33;break;case 29:throw o.prev=29,o.t1=o.catch(22),u=o.t1 instanceof sa?o.t1.Ju:void 0,new fp(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o.t1,void 0,void 0,void 0,void 0,u);case 33:if(o.prev=33,void 0===r){o.next=37;break}return o.next=37,Fr.awrap(r.Gu);case 37:return s.Qu(),this.aY===s&&(this.aY=void 0),o.finish(33);case 40:case"end":return o.stop()}},null,this,[[0,12],[22,29,33,40]],qe)},r.Nc=function(t){var i=t instanceof fp?t:new fp(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.$s(new VP(i)),this.Zh()},r.dY=function(){this.cY.au("yu",this.qh),this.cY.au("mu",this.hY),this.cY.au("Au",this.fY),this.oY=!1,this.Yc.Gs(),this.$s(new $P(this))},r.Zh=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.ou();case 1:if(void 0===(t=this.aY)){n.next=5;break}return n.next=5,Fr.awrap(t.Gu);case 5:if(this.aY!==t){n.next=1;break}case 6:return this.dY(),n.next=9,Fr.awrap(this.cY.Zh().catch(K));case 9:case"end":return n.stop()}},null,this,null,qe)},e}(Tu),QP=[Bf.Rf,Bf.If,Bf.uv],ZP=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Yh=void 0,r.ac=void 0,r._Y=void 0,r.gY=[],r.mY=void 0,r.yY=[],r.kY=function(t){t.session.au(QP,r.Js),t.session.au("Zh",r.kY),$s(r.gY,t.session)},r.Yh=n,r.ac=i,r._Y=e,r}E(n,t);var i=n.prototype;return i.VI=function(){return this._Y.VI()},i.pY=function(t){return this.mY||(this.mY=this.bY(t)),this.mY},i.bY=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return cu(t),i.next=3,Fr.awrap(this._Y.WI(new _(na()),t));case 3:if(n=i.sent,cu(t),this.ac){i.next=7;break}throw new l("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,Fr.awrap(this.ac.vc(n.buffer));case 9:case"end":return i.stop()}},null,this,null,qe)},i.AY=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ac){e.next=2;break}throw new l("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.yY.push(t),e.next=6,Fr.awrap(this.ac.fc("temporary"));case 6:return n=e.sent,i=new YP(n,this._Y,t),this.gY.push(i),i.tu(QP,this.Js),i.tu("Zh",this.kY),e.abrupt("return",i);case 12:return e.prev=12,$s(this.yY,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],qe)},i.TY=function(t){if(t.SY)return!1;for(var n=0,i=this.gY;n<i.length;n++){if(KP(i[n].lY,t))return!0}for(var e=0,r=this.yY;e<r.length;e++){if(KP(r[e],t))return!0}return!1},i.$c=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.ac=void 0,this.ou(),t=this.gY.slice(),Zs(this.gY),n.next=6,Fr.awrap(qe.all(t.map(function(t){return t.Zh()})));case 6:this._Y.Xs();case 7:case"end":return n.stop()}},null,this,null,qe)},T(n,[{key:"hc",get:function(){return this.Yh}}]),n}(Tu);function KP(t,n){return!t.SY&&t.ys===n.ys&&qu(t.Ru,n.Ru)}var JP=function(t){function e(n){var i;return(i=t.call(this)||this).PD=void 0,i.Yc=new ou,i.MX=new yf,i.Mc=void 0,i._Y=void 0,i.BD=void 0,i.Yh=void 0,i.EY=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Fr.awrap(i.IY(t.ys,t.Ru,i.Yc.js));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),hu(n.t0)||i.Nc(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],qe)},i.PD=n,i.PD.tu(Au.Tu,i.EY),i}E(e,t);var r=e.prototype;return r.Jh=function(t,n){this.BD=t,this.uH(n)},r.uH=function(t){this.Mc=t,this.RY(this.Yc.js).catch(lu)},r.RY=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.Hr.qe){n.next=5;break}return n.next=3,Fr.awrap(this.DY(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Mc||!this.Mc.NY){n.next=9;break}return n.next=8,Fr.awrap(this.CY(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,qe)},r.DY=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(null==(n=this.Mc)?void 0:n.hN){l.next=3;break}return l.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(s=null==(u=this.Mc)?void 0:u.hN)?s:[];case 5:if(!(e<r.length)){l.next=27;break}o=r[e],a=0,h=null!=(c=o.gD)?c:[];case 8:if(!(a<h.length)){l.next=22;break}return f=h[a],l.prev=10,l.next=13,Fr.awrap(this.IY(o.hc.ys,f,t));case 13:i=!0,l.next=19;break;case 16:l.prev=16,l.t0=l.catch(10),fu(l.t0);case 19:a++,l.next=8;break;case 22:if(!i){l.next=24;break}return l.abrupt("return",!0);case 24:e++,l.next=5;break;case 27:return l.abrupt("return",!1);case 28:case"end":return l.stop()}},null,this,[[10,16]],qe)},r.IY=function(t,e,r){var s,u,o,a,h,c,f,l,v,d;return Fr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(cu(r),e.byteLength){w.next=3;break}return w.abrupt("return");case 3:if(this.Mc&&this.Mc.hN.length){w.next=5;break}throw new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===ts||t===is||t===ns){w.next=8;break}return w.abrupt("return");case 8:s=RA(t,e),u=this.Mc.hN,a=0;case 11:if(!(a<u.length)){w.next=42;break}if(h=u[a],cu(r),(c=s[h.hc.As])&&h.hc.ys===t){w.next=17;break}return w.abrupt("continue",39);case 17:return w.prev=17,w.next=20,Fr.awrap(this.PY(h,r));case 20:if(!(f=w.sent).VI()){w.next=24;break}return w.next=24,Fr.awrap(f.pY());case 24:if(l=this.PD.Sy,v={ys:h.hc.ys,Ru:c,SY:l},!this.BY(f,v)){w.next=32;break}return w.next=29,Fr.awrap(f.AY(v));case 29:return d=w.sent,w.next=32,Fr.awrap(d.Kh());case 32:return w.abrupt("return");case 35:w.prev=35,w.t0=w.catch(17),fu(w.t0),o=w.t0;case 39:a++,w.next=11;break;case 42:return w.next=44,Fr.awrap(i.Dr());case 44:if(!w.sent){w.next=48;break}throw new fp(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new fp(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return w.stop()}},null,this,[[17,35]],qe)},r.CY=function(t){var n,i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=null==(n=this.Mc)?void 0:n.hN){u.next=3;break}return u.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){u.next=23;break}return r=i[e],cu(t),u.prev=7,u.next=10,Fr.awrap(this.PY(r,t));case 10:if(!(s=u.sent).VI()){u.next=14;break}return u.next=14,Fr.awrap(s.pY());case 14:return u.abrupt("return");case 17:u.prev=17,u.t0=u.catch(7),fu(u.t0);case 20:e++,u.next=4;break;case 23:case"end":return u.stop()}},null,this,[[7,17]],qe)},r.BY=function(t,n){return i.Hr.Ge||this.PD.OY.jX||!t.TY(n)},r.PY=function(t,n){var i=this;return this.MX.Kc(function(n){return i.xY(t,n)},n)},r.xY=function(t,n){var i,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(cu(n),this.Mc&&this._Y&&this.BD){o.next=3;break}throw new l("Not initialized");case 3:if(!this.Yh){o.next=7;break}if(this.Yh.hc===t.hc){o.next=6;break}throw new l("Internal key system error");case 6:return o.abrupt("return",this.Yh);case 7:return i=this._Y,e=Ur({},t,{AN:t.AN.map(function(n){var e;return Ur({},n,{persistentState:null!=(e=n.persistentState)?e:i.fR(t.hc),bc:n.bc||i.bc(t.hc)})})}),o.next=11,Fr.awrap(this.BD.eH(e.hc,e.AN));case 11:return r=o.sent,s=i._D(e),(u=new ZP(e.hc,r,s)).tu([Bf.Rf,Bf.If,Bf.uv],this.Js),this.Yh=u,o.abrupt("return",u);case 17:case"end":return o.stop()}},null,this,null,qe)},r.Nc=function(t){var i=t instanceof fp?t:new fp(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.$s(new VP(i))},r.wc=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.BD=void 0,this.Mc=void 0,this.Yc.Gs(),this.Yc=new ou,t.next=6,Fr.awrap(this.LY());case 6:case"end":return t.stop()}},null,this,null,qe)},r.LY=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.MX.Gs());case 2:if(!(t=this.Yh)){n.next=8;break}return t.au(Bf.uv,this.Js),this.Yh=void 0,n.next=8,Fr.awrap(t.$c());case 8:case"end":return n.stop()}},null,this,null,qe)},r.Xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ou(),this.PD.au(Au.Tu,this.EY),t.next=4,Fr.awrap(this.wc());case 4:return t.next=6,Fr.awrap(this.MX.$c());case 6:case"end":return t.stop()}},null,this,null,qe)},T(e,[{key:"MY",get:function(){var t;return null==(t=this.Yh)?void 0:t.hc}},{key:"uN",get:function(){return this._Y},set:function(t){this._Y=t}}]),e}(Tu),tx=j.Rn||j.Dn,nx=j.Yn,ix=.5,ex=5,rx=j.On,sx=j.On&&j.cn,ux=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).ef=void 0,s.UY=void 0,s.OD=void 0,s.tC=!0,s.BD=void 0,s.XY=new yf,s.HY=void 0,s.FY=void 0,s.zY=void 0,s.$X=void 0,s.Mm=void 0,s.rP=void 0,s.VY=[],s.WY=void 0,s.GY=void 0,s.qY=void 0,s.YY=void 0,s.jY=void 0,s.QY=void 0,s.ZY=NaN,s.KY=void 0,s.JY=void 0,s.nP=!1,s.$Y=qe.resolve(),s.tj=new ou,s.nj=[],s.ij=TS.qC(),s.ej=void 0,s.rj=1,s.sj=!1,s.uj=!1,s.aj=!1,s.hj=!1,s.Es=void 0,s.cj=!1,s.vj=!1,s.lj=!1,s.dj=!1,s.wj=0,s.xW=void 0,s._j=!1,s.gj=function(t){var n=t.track,i=s.mj(n);s.yj(n,i)},s.pj=function(t){var n=cx(s.WY,t.track);n&&s.WY.O_(n)},s.bj=function(){for(var t=0;t<s.WY.M_;t++){var n=s.WY.P_(t);n instanceof DP&&n.Tq()}},s.Aj=function(){var t=s.BD,n=t.KW,i=t.JW;if(n&&i)if(t.wH)s.Tj();else if(t.wg!==rN.iW){var e=n.by,r=i.by;if(0!==e.M_&&0!==r.M_){var u=s.tm;if(u<e.oC(0)||u<r.oC(0))s.Tj();else if(e.TN(u)!==r.TN(u)){if(t.MW(u))return;s.Sj()}else{if(s.Tj(),!s.wj&&s.zY.RG())e.IC(r).OC(u,u+ix)&&(s.wj=FI(s.Ej))}}else s.Tj()}},s.Ej=function(){s.wj=0,s.Aj()},s.Ij=function(){if(!(s.vm||s.wg>=sy.qg)){0;var t=s.BD,n=t.KW,i=t.JW;if(n&&i){var e=s.tm,r=n.by,u=i.by;if(r.TN(e)&&u.TN(e))r.IC(u).OC(e-ex,e)&&(s.lj?s.Tj():s.Rj())}}},s.Dj=function(){s.$s(new Ey(s.tm))},s.Nj=function(){s.Cj(new au),s.$s(new Sy(s.tm))},s.Pj=function(){s.Bj(),s.$s(new Nk(s.tm))},s.Oj=function(){s.xj(s.fm)},s.Lj=function(){s.$s(new Cy(s.nm))},s.Mj=function(){s.$s(new QC(s.tm))},s.Uj=function(){s.$s(new ZC)},s.Xj=function(){var t=s.tm,n=s.vm,i=s.wg<sy.qg&&!s.im,e=void 0!==s.JY,r=e&&s.JY!==t;(n||!e||r&&!i)&&(s.$s(new Ny(s.tm,void 0)),s.JY=t)},s.Hj=function(){!s.sj&&s.im&&(s.sj=!0,s.$s(new Py(s.tm)))},s.Fj=function(){if(null!==s.ef.error){var t,n=s.ef.error;s.WD(new lp(null!=(t=n.code)?t:ap.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.zj=function(){s.uj&&(s.Vj(),s.aj=!0)},s.Wj=function(){s.$s(new Ly(s.tm,s.wm))},s.Gj=function(){s.dm>0&&s.lm>0&&s.$s(new _k)},s.qj=function(t){s.$s(new Pu(t.initDataType,t.initData||new ArrayBuffer(0)))},s.Yj=function(){s.$s(new xu)},s.jj=function(t){var n=t.initData,i=n?Qo(n).buffer:new ArrayBuffer(0);s.$s(new Pu(ts,i))},s.Qj=function(t){if(t.initData){var n=ox(t.initData);if(!n)return;s.$s(new Pu(is,n))}else s.$s(new Pu(is,new ArrayBuffer(0)))},s.Zj=function(t){var n=t.initData,i=n?Qo(n).buffer:new ArrayBuffer(0);s.$s(new Pu(ts,i))},s.Kj=function(){s.Bj()},s.Jj=function(t){s.Cj(t)},s.$j=function(t){s.$s(t),t.type===Bf.If&&s.WD(dp(t.errorObject))},s.ef=n,s.Es=i,s.UY=e,s.rP=r,s.FY=new vN(Jt(s)),s.FY.tu(Ay.b_,s.Js),s.zY=new gN(Jt(s)),s.zY.tu(Ay.$g,s.Pj),s.$X=new JP(Jt(s)),s.$X.tu([Bf.Rf,Bf.If,Bf.uv],s.$j),s.Mm=new Wb,s.WY=new Wb,s.GY=new rS([s.Mm,s.WY]),s.qY=new HP(Jt(s),s.GY),s.YY=new rS([s.GY,s.qY.hT]),s.jY=new OP(Jt(s)),s.tQ(),s.aN(),s}E(n,t);var e=n.prototype;return e.nQ=function(){this.sN.ended||this.tm===this.nm||(this.sj=!1)},e.iQ=function(){return void 0!==this.QY&&this.nm===this.QY},e.xj=function(t){this.rj!==t&&(this.rj=t,this.$s(new Dy(this.tm,t)))},e.IN=function(){return VR(this.ef)},e.Gm=function(){this._j||(this._j=!0);var t=this.eQ();return this.rQ(),t},e.rQ=function(){this.cj?this.vj&&(this.vj=!1,this.$s(new Ey(this.tm))):this.sQ()},e.sQ=function(){if(this.HY)this.HY.Gm();else{j.On&&!j.cn&&this.ef.preload===gS.jN&&(this.ef.preload=gS.gA);var t=this.fm,n=this.ef.play();t!==this.sN.playbackRate&&(this.fm=t),Y(n)?n.then(this.Kj,this.Jj):this.zY.RG()&&this.Bj()}},e.qm=function(){this.cj?this.vj||(this.vj=!0,this.$s(new Sy(this.tm))):this.uQ()},e.uQ=function(){this.HY?this.HY.qm():(this.ef.pause(),this.zY.tc()),this.oQ(new au)},e.eQ=function(){var t=new ta;return this.nj.push(t),t.Gu},e.aQ=function(){for(var t=0,n=this.nj;t<n.length;t++){n[t].Qu(void 0)}Zs(this.nj)},e.oQ=function(t){for(var n=0,i=this.nj;n<i.length;n++){i[n].Zu(t)}Zs(this.nj)},e.Bj=function(){this.cj||this.HY||this.aQ()},e.Cj=function(t){this.cj||this.HY||this.oQ(t)},e.Xu=function(t,n){this.HY?this.HY.tm=t:(this.tj.Gs(),this.tj=new ou,this.$Y=this.hQ(t,this.$Y,this.tj.js).catch(K))},e.EN=function(t){var n=this.RN;if(n&&!p(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Xu(i)}},e.hQ=function(t,n,i){var e,r,s,u,o,a,h,c,f=this;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,this.QY=t,this.ZY=t,this.nP=!0,this.sj&&!this.iQ()&&(this.sj=!1),this.$s(new By(t)),l.next=8,Fr.awrap(n.catch(K));case 8:if(cu(i),this.hj&&this.cQ(),this.wg!==sy.Vg){l.next=13;break}return l.next=13,Fr.awrap(this.wu(Ay.b_,i));case 13:if(0!==this.ef.seekable.length&&(!sx||this._j)){l.next=19;break}return l.next=16,Fr.awrap(qe.race([im(this.ef,"timeupdate",i),_u(100,i)]));case 16:cu(i),l.next=13;break;case 19:e=this.fQ(t),r=this.Ly,s=!0,u=!1;case 23:if((r=this.Ly).M_>0&&!r.TN(e)&&(e=r.gC(e),s=!0),rx&&void 0!==(o=this.vQ())&&e>o&&(e=o,s=!0),u){l.next=37;break}if(!(void 0!==(a=this.lQ())&&e>a)){l.next=37;break}return u=!0,l.next=33,Fr.awrap(this.dQ(a,i));case 33:return l.next=35,Fr.awrap(im(this.ef,"seeked",i));case 35:cu(i),s=!0;case 37:if(!s){l.next=56;break}return s=!1,l.next=41,Fr.awrap(this.dQ(e,i));case 41:cu(i),h=this.tm,r=this.Ly,e=r.gC(e),c=1;case 46:if(!(g.abs(e-h)>=1/6)){l.next=56;break}return r=this.Ly,e=hx(e,r,c),l.next=51,Fr.awrap(this.dQ(e,i));case 51:cu(i),h=this.tm,c++,l.next=46;break;case 56:if(this.ef.seeking||this.wg<sy.Gg){l.next=58;break}return l.abrupt("break",63);case 58:return l.next=60,Fr.awrap(wu(function(t){var n;return qe.race([im(f.ef,"seeked",t),f.wu([Bf.Vf,Bf.Cf,Ay.b_],t),null==(n=f.BD)?void 0:n.wu(FC.bB,t)].filter(H))},i));case 60:cu(i),l.next=23;break;case 63:this.wQ(),l.next=71;break;case 66:if(l.prev=66,l.t0=l.catch(0),!hu(l.t0)){l.next=70;break}return l.abrupt("return");case 70:0;case 71:case"end":return l.stop()}},null,this,[[0,66]],qe)},e.dQ=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(cu(n),i=this.Ly,t=i.gC(t),!this.hj){s.next=18;break}e=!0;case 5:if(!(e||this.wg<sy.qg)){s.next=17;break}if((i=this.Ly).TN(t)||(t=i.gC(t),e=!0),!e){s.next=13;break}return e=!1,this.QY=t,this._Q(this.tm),s.abrupt("continue",5);case 13:return s.next=15,Fr.awrap(this.wu([Ay.b_,Bf.Cf],n));case 15:s.next=5;break;case 17:cu(n);case 18:if(r=im(this.ef,"seeking",n),this.ef.currentTime=t,this.QY=void 0,this._Q(this.tm),!this.ef.seeking){s.next=25;break}return s.next=25,Fr.awrap(r);case 25:case"end":return s.stop()}},null,this,null,qe)},e.fQ=function(t){var n=this.by;if(n&&!n.TN(t)){var i=n.DC(t,.05);if(i>-1){var e=n.oC(i);if(t<e)return e}}return t},e.vQ=function(){if(this.BD&&this.BD.wH){var t=this.BD._H,n=this.BD.gH,i=t&&n?t.kC(n):t||n;if(i&&0!==i.M_){var e=i.oC(i.M_-1),r=i.hC(i.M_-1);return g.max(e,r-.001)}}},e.lQ=function(){if(this.BD&&this.BD.wH){var t=this.BD.gH;if(t&&0!==t.M_){var n=t.oC(t.M_-1),i=t.hC(t.M_-1)-.02;return i-=.001,g.max(n,i)}}},e._Q=function(t){this.ZY!==t&&(this.ZY=t,this.$s(new By(t)))},e.wQ=function(){this.nP=!1,this.ZY=NaN,this.hj&&this.gQ(),this.$s(new Oy(this.tm))},e.cQ=function(){this.cj||(this.vj=this.cm,this.cj=!0,this.uQ())},e.gQ=function(){this.cj&&(this.cj=!1,this.vj||this.rQ())},e.dH=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i._s===pk.tI&&YC.dH(i,this.ef))return i;if(i._s===pk.nI&&oN.dH(i))return i}},e.uy=function(){this.tC=!1,lr(this.ef)&&(this.ef.style.display="none")},e.sy=function(){this.tC=!0,lr(this.ef)&&(this.ef.style.display="block")},e.QE=function(t,n,i,e,r,s,u,o){var a=new PN(t,n,i,e,r,s,u,o);return this.Mm.B_(a),this.jY.B_(a),a},e.dN=function(){return!0},e._N=function(t,n,i,e,r){var u=s.createElement("track");u.src=_w(t),u.kind=n,u.label=null!=i?i:"",e&&(u.srclang=e),u.default=!!r,u.id=gI(),this.ef.appendChild(u);var o=this.ef.textTracks.getTrackById(u.id),a=new DP(o,u);return this.WY.B_(a),this.VY.push(a),a},e.JE=function(t){this.Mm.O_(t),this.jY.O_(t)},e.yN=function(){for(var t=0,n=this.Mm.L_.slice();t<n.length;t++){n[t].$c()}this.Mm.wc();for(var i=0,e=this.VY.slice();i<e.length;i++){var r=e[i];this.WY.O_(r),r.$c()}Zs(this.VY)},e.aN=function(){var t=this.ef.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.gj),t.addEventListener("removetrack",this.pj),t.addEventListener("change",this.bj))},e.pN=function(){var t=this.ef.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.gj),t.removeEventListener("removetrack",this.pj),t.removeEventListener("change",this.bj))},e.yj=function(t,n){if(j.On){if(t.kind===Vb.gA)return void this.mQ(t);if(t.kind===Vb.PE&&""===t.label&&""===t.language&&!fx(t))return void this.yQ(t,n)}cx(this.WY,t)||this.WY.B_(new DP(t,n))},e.mQ=function(t){t.mode=Fm.og;var n=new UP(t);this.WY.B_(n),this.jY.B_(n)},e.yQ=function(t,n){var i=this;t.addEventListener("cuechange",function e(){fx(t)&&(t.removeEventListener("cuechange",e),i.WY.B_(new DP(t,n)))}),t.mode=Fm.og},e.mj=function(t){for(var n=this.ef.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},e.Jh=function(t){var n=this;return this.XY.Kc(function(i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(cu(i),!n.BD){r.next=3;break}throw new l("Already loaded a media source");case 3:if(t._s!==pk.tI){r.next=9;break}e=new YC(t,n,n.$X,n.Es),n.hj=!1,n.kQ(new vN(n)),r.next=17;break;case 9:if(t._s!==pk.nI){r.next=16;break}e=new oN(t,n,n.$X,n.Es,void 0,n.xW),n.hj=tx,n.kQ(n.hj?new dN(n):new vN(n)),nx&&(n.tu(Bf.ev,n.Aj),n.tu(Ay.b_,n.Ij)),r.next=17;break;case 16:throw new l("Unsupported configuration");case 17:return n.BD=e,r.next=20,Fr.awrap(e.JL());case 20:return r.abrupt("return",e);case 21:case"end":return r.stop()}},null,null,null,qe)})},e.Sj=function(){if(!this.lj){var t=this.fm;this.lj=!0,this.fm=t,this.ef.playbackRate=0,this.FY&&this.FY.bG()}},e.Tj=function(){if(this.lj){var t=this.fm;this.lj=!1,this.fm=t,this.Rj()}},e.Rj=function(){this.ef.currentTime=this.ef.currentTime,this.FY&&this.FY.bG()},e.kQ=function(t){var n=this.wg;this.FY.Xs(),this.FY=t,this.FY.tu(Ay.b_,this.Js);var i=this.wg;n!==i&&this.$s(new Fy(this.tm,i))},e.wc=function(){var t=this;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.nP=!1,this.ij=TS.qC(),this.tj.Gs(),this.QY=void 0,this.ZY=NaN,this.KY=void 0,this.hj=!1,this.cj=!1,this.OD=void 0,this.sj=!1,this.JY=void 0,this.uj=!1,this._j=!1,this.aj&&(this.tQ(),this.aj=!1),this.oQ(new au),this.kQ(new vN(this)),this.zY.wc(),this.WY.wc(),this.Tj(),nx&&(UI(this.wj),this.wj=0,this.au(Bf.ev,this.Aj),this.au(Ay.b_,this.Ij)),n.next=22,Fr.awrap(this.XY.Gs());case 22:return n.next=24,Fr.awrap(this.XY.Kc(function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.BD){n.next=4;break}return n.next=3,Fr.awrap(t.BD.Xs());case 3:t.BD=void 0;case 4:case"end":return n.stop()}},null,null,null,qe)}));case 24:case"end":return n.stop()}},null,this,null,qe)},e.Xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.aj=!1,this.Vj(),this.pN(),t.next=5,Fr.awrap(this.wc());case 5:return t.next=7,Fr.awrap(this.XY.$c());case 7:return this.zY.Xs(),this.FY.Xs(),t.next=11,Fr.awrap(this.$X.Xs());case 11:return this.yN(),this.Mm.$c(),this.WY.$c(),t.next=16,Fr.awrap(this.qY.$c());case 16:this.GY.$c(),this.YY.$c(),this.ou();case 19:case"end":return t.stop()}},null,this,null,qe)},e.tQ=function(){this.sN.addEventListener("play",this.Dj),this.sN.addEventListener("pause",this.Nj),this.sN.addEventListener("timeupdate",this.Xj),this.sN.addEventListener("progress",this.Mj),this.sN.addEventListener("loadstart",this.Uj),this.sN.addEventListener("ended",this.Hj),this.sN.addEventListener("ratechange",this.Oj),this.sN.addEventListener("volumechange",this.Wj),this.sN.addEventListener("durationchange",this.Lj),this.sN.addEventListener("resize",this.Gj),this.sN.addEventListener("loadedmetadata",this.Gj),this.sN.addEventListener("error",this.Fj),this.sN.addEventListener("emptied",this.zj),xs()?(this.ef.addEventListener("encrypted",this.qj),this.ef.addEventListener("waitingforkey",this.Yj)):void 0!==we.WebKitMediaKeys&&"function"==typeof we.WebKitMediaKeys.isTypeSupported?this.ef.addEventListener("webkitneedkey",this.Qj):Bs()?this.ef.addEventListener("webkitneedkey",this.Zj):void 0!==we.MSMediaKeys&&"function"==typeof we.MSMediaKeys.isTypeSupported&&this.ef.addEventListener("msneedkey",this.jj)},e.Vj=function(){this.sN.removeEventListener("play",this.Dj),this.sN.removeEventListener("pause",this.Nj),this.sN.removeEventListener("timeupdate",this.Xj),this.sN.removeEventListener("progress",this.Mj),this.sN.removeEventListener("loadstart",this.Uj),this.sN.removeEventListener("ended",this.Hj),this.sN.removeEventListener("ratechange",this.Oj),this.sN.removeEventListener("volumechange",this.Wj),this.sN.removeEventListener("durationchange",this.Lj),this.sN.removeEventListener("resize",this.Gj),this.sN.removeEventListener("loadedmetadata",this.Gj),this.sN.removeEventListener("error",this.Fj),this.sN.removeEventListener("encrypted",this.qj),this.sN.removeEventListener("waitingforkey",this.Yj),this.sN.removeEventListener("webkitneedkey",this.Qj),this.sN.removeEventListener("webkitneedkey",this.Zj),this.sN.removeEventListener("msneedkey",this.jj),this.sN.removeEventListener("emptied",this.zj)},e.pQ=function(){var t;this.HY||(this.ij=this.Oy,this.HY=new cN((t=this).tm,t.nm,t.im,t.cm,t.vm,t.hm,t.fm,t.wm,t.wg),this.Vj(),this.HY.tu(hN,this.Js))},e.bQ=function(){if(this.HY){var t,n,i=this.HY;this.HY=void 0,this.FY.bG(),t=this,(n=i).nm===t.nm||p(n.nm)&&p(t.nm)||t.$s(new Cy(t.nm)),t.hm=n.hm,t.wm=n.wm,t.fm=n.fm,n.cm?t.qm():t.Gm().catch(K),n.tm!==t.tm||n.wg>sy.Vg&&t.wg===sy.Vg?t.Xu(n.tm):!n.vm&&t.vm?t.$s(new By(t.tm)):n.vm&&!t.vm&&t.wg>=sy.Gg&&t.$s(new Oy(t.tm)),!n.im&&t.im&&t.$s(new Py(t.tm)),i.Xs(),this.tQ()}},e.WD=function(t){this.OD=t,this.oQ(this.OD),this.$s(new mN(this.OD))},e.AQ=function(){this.TQ||(FB(this.ef,i.Hr),this.dj=!0)},e.SQ=function(t){t.appendChild(this.ef)},e.fG=function(){nx&&this.Aj(),this.FY.bG()},e.py=function(){this.$X.LY().catch(K),this.WY.wc()},T(n,[{key:"TG",get:function(){return this.lj}},{key:"by",get:function(){return this.BD?this.BD.by:TS.qC()}},{key:"Ay",get:function(){var t=this.RN;if(t&&!p(t.getTime())){var n=1e3*this.tm;return new Date(t.getTime()+n)}}},{key:"RN",get:function(){if(this.sN.getStartDate)return this.nP&&this.KY||(this.KY=this.sN.getStartDate()),this.KY}},{key:"tm",get:function(){return this.HY?this.HY.tm:void 0!==this.QY?this.QY:this.ef.currentTime}},{key:"lX",get:function(){return this.UY}},{key:"nm",get:function(){return this.HY?this.HY.nm:this.BD?this.BD.nm:this.ef.duration}},{key:"im",get:function(){return this.vm?this.iQ():this.HY?this.HY.im:this.ef.ended||this.sj}},{key:"Au",get:function(){return this.OD}},{key:"sN",get:function(){return this.ef}},{key:"cm",get:function(){return this.cj?this.vj:this.HY?this.HY.cm:this.ef.paused}},{key:"Oy",get:function(){return this.ij.EC(TS.VC(this.ef.played))}},{key:"ST",get:function(){return this.ef.offsetHeight*i.Hr.Ve}},{key:"Xk",get:function(){return this.ef.offsetWidth*i.Hr.Ve}},{key:"mN",get:function(){return IS}},{key:"wg",get:function(){return this.FY.wg}},{key:"Ly",get:function(){return this.BD?this.BD.Ly:TS.qC()}},{key:"vm",get:function(){return this.HY?this.HY.vm:this.nP}},{key:"hm",get:function(){return this.HY?this.HY.hm:this.ef.muted},set:function(t){this.HY?this.HY.hm=t:this.ef.muted=t}},{key:"fm",get:function(){return this.HY?this.HY.fm:void 0!==this.ej?this.ej:this.ef.playbackRate},set:function(t){this.HY?this.HY.fm=t:this.cm||this.lj?(this.ej=t,this.xj(t)):(this.ej=void 0,this.ef.playbackRate=t)}},{key:"EQ",get:function(){return this.tC}},{key:"wm",get:function(){return this.HY?this.HY.wm:this.ef.volume},set:function(t){this.HY?this.HY.wm=t:this.ef.volume=t}},{key:"Vm",get:function(){return this.YY}},{key:"wX",get:function(){return this.rP}},{key:"Sy",get:function(){return!!this.ef.webkitCurrentPlaybackTargetIsWireless}},{key:"TQ",get:function(){return this.dj}},{key:"OY",get:function(){return Ur({},WC)}},{key:"uN",get:function(){return this.$X.uN},set:function(t){this.$X.uN=t}},{key:"IQ",get:function(){return this.xW},set:function(t){this.xW=t}},{key:"MY",get:function(){return this.$X.MY}},{key:"Uy",get:function(){return this.uj},set:function(t){this.uj=t,this.aj&&!this.uj&&(this.aj=!1,this.tQ())}}]),n}(Tu);function ox(t){try{var n=Wo(t),i=new Ko;return Oo(Lo(wo(n,i,bo(n,i,!0)),!0))}catch(t){return}}var ax=.01;function hx(t,n,i){if(void 0===i&&(i=0),!n.M_)return 0;var e=n.gC(t),r=ax*i;return e===n.oC(0)?e+=r:e===n.hC(n.M_-1)&&(e-=r),e}function cx(t,n){for(var i=0,e=t.L_;i<e.length;i++){var r=e[i];if(r.Qy===n)return r}}function fx(t){return!!t.cues&&t.cues.length>0}var lx={NU:void 0,CU:void 0,PU:void 0,BU:void 0,OU:void 0,xU:void 0,HU:void 0,LU:void 0,MU:void 0,UU:void 0,XU:void 0},vx=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).u_=void 0,n}return E(n,t),T(n,[{key:"o_",get:function(){return this.u_||(this.u_=iC(this)),this.u_}},{key:"NU",get:function(){}},{key:"CU",get:function(){}},{key:"PU",get:function(){}},{key:"BU",get:function(){}},{key:"OU",get:function(){}},{key:"xU",get:function(){}},{key:"HU",get:function(){}},{key:"LU",get:function(){}},{key:"MU",get:function(){}},{key:"UU",get:function(){}},{key:"XU",get:function(){}}]),n}(Tu);new vx;var dx=function(t){function n(n,i,e){return t.call(this,n,i,e,new vx)||this}return E(n,t),n.prototype.oy=function(){},T(n,[{key:"lm",get:function(){return 0}},{key:"dm",get:function(){return 0}}]),n}(ux),wx="theoplayer-texttracks",gx=function(){function t(t){void 0===t&&(t=5),this.RQ=void 0;var n=we.document.createElement("div");n.className=wx,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.RQ=n,this.sy()}var n=t.prototype;return n.uy=function(){this.RQ.style.display="none"},n.sy=function(){this.RQ.style.display="block"},n.SQ=function(t){t.appendChild(this.RQ)},n.$c=function(){nr(this.RQ)},T(t,[{key:"Ty",get:function(){return this.RQ}}]),t}();function mx(t,n){return Ur({},n,Em({NU:(i=t).NU,CU:i.CU,PU:i.PU,BU:i.BU,OU:i.OU,xU:i.xU,HU:i.HU,LU:i.LU,MU:i.MU,UU:i.UU,XU:i.XU}));var i}function yx(t){return t.PU&&Ts(t.PU,"%")?Number(t.PU.replace("%",""))/100:t.PU&&Ts(t.PU,"em")?Number(t.PU.replace("em","")):1}var px,_x,bx=function(){function t(t,n,i,e,r){var s=this;this.DQ=zr(),this.NQ=!0,this.CQ=void 0,this.BQ=Ur({},lx),this.OQ=[],this.Sk=void 0,this.ef=void 0,this.UY=void 0,this.xQ=void 0,this.LQ=function(t){return s.KE(t.hk)},this.MQ=function(t){return s.removeCue(t.hk)},this.UQ=function(){return s.XQ()},this.HQ=function(t){return s.FQ(t.hk)},this.zQ=function(t){return s.VQ(t.hk)},this.WQ=function(t){return s.GQ(t.hk)},this.qQ=function(t){s.YQ(t.Xk,t.ST)},this.Sk=t,this.xQ=this.CQ=r,this.ef=this.jQ(i),this.UY=e,n.appendChild(this.ef)}var n=t.prototype;return n.QQ=function(t){var n=this.ZQ(t);if(!n)return!1;for(var i=0;i<n.length;i++){nr(n[i])}return this.KQ(t),!0},n.JL=function(){var t=this;this.JQ(),this.Sk._g.L_.forEach(function(n){return t.KE(n)}),this.lX.tu("sx",this.qQ),this.YQ(this.lX.wx,this.lX.lx)},n.$Q=function(t){this.BQ=t,this.CQ=mx(this.BQ,this.xQ),this.CQ.NU&&(this.sN.style.fontFamily=this.CQ.NU),this.CQ.HU&&(this.sN.style.visibility=this.CQ.HU),this.YQ(this.lX.wx,this.lX.lx),this.tZ(!0)},n.nZ=function(){return this.CQ},n.iZ=function(t){return this.DQ.has(t.j_)},n.JQ=function(){this.Sk.tu(am.c_,this.LQ),this.Sk.tu(am.v_,this.MQ),this.Sk.tu(am.k_,this.UQ)},n.eZ=function(){this.Sk.au(am.c_,this.LQ),this.Sk.au(am.v_,this.MQ),this.Sk.au(am.k_,this.UQ)},n.rZ=function(t){t.tu(Lp.$y,this.HQ),t.tu(Lp.ek,this.zQ),t.tu(Lp.E_,this.WQ)},n.sZ=function(t){t.au(Lp.$y,this.HQ),t.au(Lp.ek,this.zQ),t.au(Lp.E_,this.WQ)},n.KE=function(t){this.rZ(t),t.Ck&&this.FQ(t)},n.removeCue=function(t){this.sZ(t),this.VQ(t)},n.XQ=function(){this.Sk.fg===Fm.ag?this.uZ():this.oZ()},n.uZ=function(){if(this.NQ){this.NQ=!1;var t=this.lX.wx,n=this.lX.lx;this.YQ(t,n),this.tZ(!1)}},n.oZ=function(){this.NQ||(this.NQ=!0,this.tZ(!0))},n.FQ=function(t){this.NQ||t.Ck&&!this.iZ(t)&&this.tZ(!1)},n.VQ=function(t){this.iZ(t)&&this.tZ(!1)},n.GQ=function(t){(t.Ck||this.iZ(t))&&this.tZ(!0)},n.tZ=function(t){var n=this.OQ,i=this.NQ?[]:this.Sk.gg.L_.slice();this.aZ(i,n,t),this.OQ=i},n.ZQ=function(t){var n;return null==(n=this.DQ.get(t.j_))?void 0:n.hZ},n.cZ=function(t,n){this.DQ.set(t.j_,{hk:t,hZ:n})},n.KQ=function(t){this.DQ.delete(t.j_)},n.fZ=function(){return this.OQ.slice()},n.$c=function(){var t=this;nr(this.sN),this.DQ.clear(),this.eZ(),this.Sk._g.L_.forEach(function(n){return t.sZ(n)}),this.lX.au("sx",this.qQ)},T(t,[{key:"h_",get:function(){return this.Sk}},{key:"sN",get:function(){return this.ef}},{key:"lX",get:function(){return this.UY}},{key:"vZ",get:function(){return this.CQ}},{key:"lZ",get:function(){return this.BQ}}]),t}();function kx(t){return Ax[t||"none"]}!function(t){t.dZ='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.wZ='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t._Z='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.gZ='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(px||(px={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(_x||(_x={}));var Ax={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},Tx=Vr({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),Sx={CU:_x.WHITE,NU:"Arial, Helvetica, Sans-Serif",PU:"100%",BU:_x.TRANSPARENT,OU:_x.TRANSPARENT,xU:"none",HU:"visible",LU:void 0,MU:void 0,UU:void 0,XU:void 0},Ex=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Sx)||this}E(n,t);var i=n.prototype;return i.jQ=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",ar(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.YQ=function(t,n){var i=g.min(t,n)/15;this.sN.style.fontSize=i+"px"},i.aZ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Ck||this.QQ(r)}for(var s=0;s<t.length;s++){var u=t[s];this.mZ(u)}},i.mZ=function(t){var n=this.ZQ(t);n||(n=this.yZ(t),this.cZ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.sN.appendChild(r)}},i.yZ=function(t){var n,i=[],e=t.IE,r=t.mb,u=t.vk;if(0===w.keys(r).length){Bx(n=s.createElement("div"));for(var o=Ix(u,e,t.RE,void 0),a=0;a<o.length;a++){var h=o[a];n.appendChild(h)}i.push(n)}else for(var c=0,f=w.keys(r);c<f.length;c++){var l=f[c],v=s.createElement("div");v.id=l;var d=Ix(u,e,t.RE,v);if(d){Bx(v),Cx(v,"region",r[l],e);for(var g=0;g<d.length;g++){var m=d[g];v.appendChild(m)}i.push(v)}i.push(v)}return i},i.$Q=function(t){var n,i,e,r;n=this.sN,i=t,n.style.marginTop=(null!=(e=i.LU)?e:0)+"px",n.style.marginBottom=(null!=(r=i.MU)?r:0)+"px",n.style.height="calc(100% - "+n.style.marginTop+" - "+n.style.marginBottom+")",uC(this.sN,t)},n}(bx);function Ix(t,n,i,e){var r,u;if(Zt(t)&&("SPAN"===(u=t).wi.toUpperCase()||"P"===u.wi.toUpperCase()||"BR"===u.wi.toUpperCase()||"DIV"===u.wi.toUpperCase()||"BODY"===u.wi.toUpperCase())){var o=function t(n){var i=n.Oi("region");if("p"===n.wi.toLowerCase())return i;var e=[];for(var r=0,s=n.Bi;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||(null==e?void 0:e.id)===o){(r="BODY"===t.wi.toUpperCase()?e:function(t){var n;switch(t.wi.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":Rx(n=s.createElement("span"),t);break;case"P":n=s.createElement("p"),(i=n).style.fontFamily="inherit",i.style.color="inherit",i.style.textAlign="inherit",i.style.padding="0",i.style.margin="0",i.style.lineHeight="inherit",Rx(n,t);break;case"DIV":Rx(n=s.createElement("div"),t)}var i;return n}(t))&&(function(t,n,i,e){var r=n.Oi("style");Nx(t,n.wi,r,i,e),function(t,n,i){for(var e=0,r=n.Hi;e<r.length;e++){var s=r[e],u=Eb(s._i,["ebutts","tts","xml"]);Px(t,n.wi,u,s.Ti,i)}}(t,n,e)}(r,t,n,e),function(t,n,i){var e=null==n?void 0:n.Oi("smpte:backgroundImage");if(e){e=e.replace("#","");var r=i&&function t(n,i){if(i(n))return n;for(var e=0,r=n.Bi;e<r.length;e++){var s=r[e],u=t(s,i);if(u)return u}return null}(i,function(t){return t.Hi.some(function(t){return"id"===t.wi&&t.Ti===e})});r&&Dx(t,r,n,!0)}!function(t,n){var i=n.Bi[0];if(!i||"metadata"!==i.wi.toLowerCase())return;var e=i.Bi[0];Dx(t,e,n)}(t,n)}(r,t,i));for(var a=[],h=t.Ri,c=0;c<h.length;c++){var f=Ix(h[c],n,i,e);f&&(a=a.concat(f))}if("BODY"!==t.wi.toUpperCase()){for(var l=0,v=a;l<v.length;l++){var d,w=v[l];null==(d=r)||d.appendChild(w)}return r?[r]:[]}return a}}else Kt(t)&&(r=s.createTextNode(t.zi));return r?[r]:[]}function Rx(t,n){var i=n.xi(Ab,"id");i&&(t.id=i)}function Cx(t,n,i,e){Nx(t,n,i.style,e,t);for(var r=0,s=w.keys(i);r<s.length;r++){var u=s[r];Px(t,n,u,i[u],t)}}function Dx(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var r=s.createElement("img");r.src=function(t){var n=t&&t.Ri.length>0?t.Ri[0]:null;return n&&Kt(n)?"data:image/png;base64,"+n.zi:""}(n),r.id=t.id,r.style.height="100%",r.style.maxWidth="100%",function(t,n){ar(t.style,"flex");var i=n.Oi("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.Oi("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(r)}function Nx(t,n,i,e,r){if(i)for(var s=0,u=i.split(" ");s<u.length;s++){var o=u[s];if(e[o])for(var a=0,h=w.keys(e[o]);a<h.length;a++){var c=h[a],f=Eb(c,["ebutts","tts","xml"]);"style"===f.toLowerCase()?Nx(t,n,e[o][c],e,r):Px(t,n,f,e[o][c],r)}}}function Px(t,n,i,e,r){switch(i){case"backgroundColor":t.style.backgroundColor=e;break;case"color":t.style.color=e;break;case"direction":t.style.direction=e;break;case"display":"none"===e&&(t.style.display="none");break;case"fontFamily":var s=Tx.get(e);t.style.fontFamily=s||e;break;case"fontSize":Ts(e,"px")?e=m(e)/24+"em":Ts(e,"c")&&(e=e.replace("c","em")),t.style.fontSize=e;break;case"fontStyle":t.style.fontStyle=e;break;case"fontWeight":t.style.fontWeight=e;break;case"lineHeight":t.style.lineHeight=e;break;case"opacity":t.style.opacity=e;break;case"overflow":t.style.overflow=e;break;case"padding":t.style.padding=e;break;case"textAlign":"right"===e?(t.style.textAlign="right",t.style.justifyContent="flex-end"):"start"===e?(t.style.textAlign="start",t.style.justifyContent="flex-start"):"center"===e?(t.style.textAlign="center",t.style.justifyContent="center"):"end"===e?(t.style.textAlign="end",t.style.justifyContent="flex-end"):"left"===e&&(t.style.textAlign="left",t.style.justifyContent="flex-start");break;case"textDecoration":var u=e;u=(u=(u=(u=u.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough","none")).replace("noOverline","none"),t.style.textDecoration=u;break;case"unicodeBidi":t.style.unicodeBidi=e.replace("bidiOverride","bidi-override");break;case"visibility":t.style.visibility=e;break;case"zIndex":t.style.zIndex=e;break;case"displayAlign":var o;if("before"===e.toLowerCase())o="flex-start";else if("center"===e.toLowerCase())o="center";else{if("after"!==e.toLowerCase())return;o="flex-end"}t.style.alignItems=o;break;case"extent":var a,h,c=xx(n.toLowerCase())?r:t,f=e.split(" ");f.length>=2?(a=f[0],h=f[1]):a=h="100%",c&&(c.style.height=h,c.style.width=a);break;case"origin":var l=xx(n.toLowerCase())?r:t,v=e.split(" "),d=v[0],w=v[1];l&&(d||w)&&(d&&(l.style.left=d),w&&(l.style.top=w));break;case"showBackground":break;case"wrapOption":t.style.whiteSpace=e.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap");break;case"writingMode":var g,y,p,_;switch(e){case"lrtb":g="horizontal-tb";break;case"rltb":g="horizontal-tb",y="rtl",_="bidi-override";break;case"tbrl":g="vertical-rl",p="upright";break;case"tblr":g="vertical-lr",p="upright";break;case"lr":g="horizontal-tb";break;case"rl":g="horizontal-tb",y="rtl";break;case"tb":g="vertical-rl",p="upright";break;default:return}t.style.writingMode=g,t.style.setProperty("-webkit-writing-mode",g),y&&(t.style.direction=y),p&&(t.style.textOrientation=p,t.style.setProperty("-webkit-text-orientation",p)),_&&(t.style.unicodeBidi=_);break;case"textOutline":break;case"linePadding":if(Ts(e,"c")){var b=e.replace("c","em");t.style.paddingLeft=t.style.paddingRight=b}break;case"multiRowAlign":"auto"===e.toLowerCase()?t.style.textAlign="":t.style.textAlign="value"}}function xx(t){return"div"===t||"p"===t||"span"===t}function Bx(t){ar(t.style,"flex"),t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px",t.style.textAlign="start",t.style.writingMode="horizontal-tb",t.style.setProperty("-webkit-writing-mode","horizontal-tb"),t.style.padding="0",t.style.margin="0",t.style.lineHeight="1.3em"}var Ox,Lx,Mx=void 0;function jx(t,n){for(var i,e=Ox.kZ,r="",s=[],u=t.charAt(n.Lu),o="",a={_s:Lx.pZ,Di:"",bZ:[]};n.Lu<t.length+1;){switch(u=n.Lu<t.length?t.charAt(n.Lu):"EOF",e){case Ox.kZ:switch(u){case"&":var h=t.substring(n.Lu).match(/&#?[0-9a-zA-Z]+;/);h?(r+=(i=h[0],Mx||(Mx=we.document.createElement("textarea")),Mx.innerHTML=i,Mx.value),n.Mu(h[0].length-1)):r+="&";break;case"<":if(r)return{_s:Lx.AZ,vk:r};e=Ox.TZ;break;case"EOF":return{_s:Lx.AZ,vk:r};default:r+=u}break;case Ox.TZ:switch(u){case"\t":case"\n":case"\f":case" ":e=Ox.SZ;break;case".":e=Ox.EZ;break;case"/":e=Ox.IZ;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=Ox.RZ;break;case">":return n.Mu(1),a;case"EOF":return a;default:r=u,e=Ox.DZ}break;case Ox.DZ:switch(u){case"\t":case"\f":case" ":e=Ox.SZ;break;case"\n":o=u,e=Ox.SZ;break;case".":e=Ox.EZ;break;case">":return n.Mu(1),{_s:Lx.pZ,Di:r,bZ:[]};case"EOF":return{_s:Lx.pZ,Di:r,bZ:[]};default:r+=u}break;case Ox.EZ:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=Ox.SZ;break;case"\n":s.push(o),o=u,e=Ox.SZ;break;case".":s.push(o),o="";break;case">":return n.Mu(1),s.push(o),{_s:Lx.pZ,Di:r,bZ:s};case"EOF":return s.push(o),{_s:Lx.pZ,Di:r,bZ:s};default:o+=u}break;case Ox.SZ:switch(u){case"&":e=Ox.NZ;break;case">":n.Mu(1);var c=o.trim();return c=c.replace(/\s/," "),{_s:Lx.pZ,Di:r,bZ:s,CZ:c};default:o+=u}break;case Ox.NZ:for(var f="",l=n.Lu;">"===t.charAt(l);l++)f+=t.charAt(l);o+=f||"&",e=Ox.SZ;break;case Ox.IZ:switch(u){case">":return n.Mu(1),{_s:Lx.PZ,Di:r};case"EOF":return{_s:Lx.PZ,Di:r};default:r+=u}break;case Ox.RZ:switch(u){case">":return n.Mu(1),{_s:Lx.BZ,OZ:r};case"EOF":return{_s:Lx.BZ,OZ:r};default:r+=u}}n.Mu(1)}return a}function Fx(t){var n;if(t.getBoundingClientRect&&t.parentNode&&(n=t.getBoundingClientRect()),!n)return{left:0,top:0};var i=s.documentElement,e=s.body,u=i.clientLeft||e.clientLeft||0,o=r.pageXOffset||e.scrollLeft,a=n.left+o-u,h=i.clientTop||e.clientTop||0,c=r.pageYOffset||e.scrollTop,f=n.top+c-h;return{left:g.round(a),top:g.round(f)}}function Ux(t,n,i,e){if(void 0===e&&(e=0),t&&n){t.style.left="0px";var r=t.getClientRects(),s=n.getClientRects();if(0!==r.length&&0!==s.length){var u=r[0],o=s[0],a=u.width/2+u.left;!function(t,n,i,e){void 0===e&&(e=0);!function(t,n,i,e,r,s){void 0===s&&(s=0);var u=t.getClientRects();if(r&&u.length>0){var o=u[0],a=r[i]+s-o[i],h=r[e]-s-o[e];n=Ft(n,a,h)}t.style[i]=n+"px"}(t,n,"left","right",i,e)}(t,o.width/2+o.left-a,i,e)}}}function Hx(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}!function(t){t.kZ="Data",t.TZ="Tag",t.DZ="StartTag",t.EZ="StartTagClass",t.SZ="StartTagAnnotation",t.NZ="CharRefInAnnotation",t.IZ="EndTag",t.RZ="TimestampTag"}(Ox||(Ox={})),function(t){t.AZ="string",t.pZ="starttag",t.PZ="endtag",t.BZ="timestamp"}(Lx||(Lx={}));var Xx,zx=function(){function t(t,n,i,e){this.xZ=void 0,this.LZ=void 0,this.Xk=void 0,this.ST=void 0,this.xZ=t,this.LZ=n,this.Xk=i,this.ST=e}var n=t.prototype;return n.MZ=function(t){return this.xZ<t.UZ&&this.UZ>t.xZ&&this.LZ<t.XZ&&this.XZ>t.LZ},n.Fy=function(t){return this.xZ<=t.xZ&&t.UZ<=this.UZ&&this.LZ<=t.LZ&&t.XZ<=this.XZ},n.Hu=function(){return new t(this.xZ,this.LZ,this.Xk,this.ST)},T(t,[{key:"UZ",get:function(){return this.xZ+this.Xk},set:function(t){this.xZ=t-this.Xk}},{key:"XZ",get:function(){return this.LZ+this.ST},set:function(t){this.LZ=t-this.ST}}]),t}(),Vx={CU:_x.WHITE,NU:"sans-serif",PU:"100%",BU:"rgba(0,0,0,0.8)",OU:_x.TRANSPARENT,xU:"none",HU:"visible",LU:void 0,MU:void 0,UU:void 0,XU:void 0},Wx="theoplayer-webvtt-region-",qx="theoplayer-webvtt-styling-",Gx="theoplayer-webvtt-voice-",$x="theoplayer-webvtt-default-style",Yx=5.23,Qx=1.14,Zx=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Vx)||this).HZ=Xr(),s.FZ=iB(3),s}E(n,t);var i=n.prototype;return i.jQ=function(t){var n=s.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,cr(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.vZ.NU;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(s.getElementById($x))return;for(var t=[],n=0;n<cB.length;n++){var i=cB[n],e=i[0],r=i[1];t.push("."+qx+e+" { color: "+r+" !important; }"),t.push("."+qx+"zZ"+e+" { background-color: "+r+" !important; }"),t.push("video::cue(."+e+") { color: "+r+"; }"),t.push("VZ"+e+") { background-color: "+r+"; }")}var u=s.createElement("style");u.id=$x,u.innerHTML=t.join("\n"),s.body.appendChild(u)}(),n},i.JL=function(){this.sN.appendChild(this.FZ),t.prototype.JL.call(this)},i.YQ=function(t,n){var i=this,e=g.min(t/100,n/100),r=yx(this.vZ);this.HZ.forEach(function(t){var n=t.yk,s=t.WZ;i.GZ(s,e,r,n)}),this.GZ(this.FZ,e,r)},i.$Q=function(n){uC(this.sN,n),t.prototype.$Q.call(this,n)},i.aZ=function(t,n,i){for(var e=this,r=this.sN,s=this.lX.lx/100,u=[],o=0;o<t.length;o++){var a=t[o];void 0!==a.yk&&(Qs(u,a.yk)||u.push(a.yk))}this.HZ.forEach(function(t,n){var r=t.yk,s=t.WZ;!i&&Qs(u,r)||(nr(s),e.HZ.delete(n))});for(var h=0;h<n.length;h++){var c=n[h];!i&&c.Ck||this.QQ(c)}var f=[],l=uB(this.FZ.getBoundingClientRect());f.push.apply(f,this.qZ(l));for(var v=0;v<u.length;v++){var d=u[v],w=void 0;this.HZ.has(d.Y_)?w=this.HZ.get(d.Y_).WZ:(w=eB(d,s),r.appendChild(w),this.HZ.set(d.Y_,{yk:d,WZ:w})),f.push(uB(w.getBoundingClientRect()))}for(var g=0;g<t.length;g++){var m=t[g],y=this.mZ(m,f,l);void 0!==y&&f.push(y)}},i.qZ=function(t){var n=[],i=this.vZ;if(void 0!==i.LU){var e=t.Hu();e.ST=i.LU,n.push(e)}if(void 0!==i.MU){var r=t.Hu();r.ST=i.MU,r.XZ=t.XZ,n.push(r)}return n},i.mZ=function(t,n,i){var e,r;t.yk?(r=this.HZ.get(t.yk.Y_).WZ,"up"===t.yk.Lk&&r.children.length>=1&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s")):r=this.FZ;var s=null==(e=this.ZQ(t))?void 0:e[0];if(s?r.appendChild(s):(s=this.YZ(t),r.appendChild(s),t.yk||(t.pk?function(t,n,i,e){var r=rB(t),s=r?i.ST:i.Xk,u=y(getComputedStyle(n).lineHeight);if(0===u)return;var o=uB(n.getBoundingClientRect()),a=g.round(Jp(t));"rl"===t.bk&&(a=-(a+1));var h=u*a;"rl"===t.bk&&(h=h-o.Xk+u);a<0&&(h+=s,u=-u);r?o.LZ+=h:o.xZ+=h;var c=o.Hu(),f=!1;for(;!i.Fy(o)||sB(o,e);)if(r)if(u<0&&o.LZ<i.LZ||u>0&&o.XZ>i.XZ){if(o.LZ=c.LZ,f)break;u=-u,f=!0}else o.LZ+=u;else if(u<0&&o.xZ<i.xZ||u>0&&o.UZ>i.UZ){if(o.xZ=c.xZ,f)break;u=-u,f=!0}else o.xZ+=u;r?n.style.top=(o.LZ-i.LZ)/i.ST*100+"%":n.style.left=(o.xZ-i.xZ)/i.Xk*100+"%"}(t,s,i,n):function(t,n,i,e){var r=uB(n.getBoundingClientRect());if(0===r.Xk||0===r.ST)return;rB(t)?"center"===t.wk?r.LZ-=r.ST/2:"end"===t.wk&&(r.LZ-=r.ST):"center"===t.wk?r.xZ-=r.Xk/2:"end"===t.wk&&(r.xZ-=r.Xk);var s,u=r.Hu(),o=u,a=1,h=!1;s=""===t.bk?[Xx.POS_Y,Xx.NEG_Y,Xx.POS_X,Xx.NEG_X]:"lr"===t.bk?[Xx.POS_X,Xx.NEG_X,Xx.POS_Y,Xx.NEG_Y]:[Xx.NEG_X,Xx.POS_X,Xx.POS_Y,Xx.NEG_Y];var c=y(getComputedStyle(n).lineHeight)/4;if(c>0){for(var f=0;f<s.length&&!h;f++){for(;!aB(r,i,s[f],.01)&&(!i.Fy(r)||sB(r,e));)oB(r,s[f],c);if(i.Fy(r)){o=r.Hu(),h=!0;break}var l=(v=r,d=i,w=void 0,m=void 0,void 0,w=g.max(0,g.min(v.UZ,d.UZ)-g.max(v.xZ,d.xZ)),m=g.max(0,g.min(v.XZ,d.XZ)-g.max(v.LZ,d.LZ)),w*m/(v.Xk*v.ST));a>l&&(o=r.Hu(),a=l),r=u.Hu()}i.Fy(r)||(o=u.Hu())}var v,d,w,m;n.style.left=(o.xZ-i.xZ)/i.Xk*100+"%",n.style.top=(o.LZ-i.LZ)/i.ST*100+"%"}(t,s,i,n)),this.cZ(t,[s])),!t.yk)return uB(s.getBoundingClientRect())},i.YZ=function(t){for(var n=new Ko,i=t.vk,e=this.jZ(t),r={QZ:void 0,Ty:e},u=r,o="",a="",h=[r],c=[],f=[];n.Lu<i.length;){var l=jx(i,n);if(l._s===Lx.AZ){var v=s.createElement("span");Hx(v,l.vk),Kx(v,h),""!==o&&(v.lang=o),this.ZZ(v,a),u.Ty.appendChild(v)}else if(l._s===Lx.pZ){var d=l.Di.toLowerCase();switch(d){case"i":case"b":case"u":case"ruby":var w=s.createElement(d);u.Ty.appendChild(w),u={QZ:l,Ty:w},h.push(u);break;case"rt":var g;if("ruby"===(null==(g=u.QZ)?void 0:g.Di.toLowerCase())){var m=s.createElement("rt");u.Ty.appendChild(m),u={QZ:l,Ty:m},h.push(u)}break;case"c":case"v":u={QZ:l,Ty:u.Ty},h.push(u);break;case"font":var y,p=null==(y=l.CZ)?void 0:y.match(/(?:^| )color=["']([^"']+)/i);p&&(a=p[1],f.push(a),u={QZ:l,Ty:u.Ty},h.push(u));break;case"lang":var _;o=null!=(_=l.CZ)?_:"",c.push(o)}}else if(l._s===Lx.PZ){var b,k=l.Di.toLowerCase(),A=null==(b=u.QZ)?void 0:b.Di.toLowerCase();A===k?(h.pop(),u=h[h.length-1],"font"===k&&(f.pop(),a=f.length>0?f[f.length-1]:"")):"rt"===A&&"ruby"===k?(h.pop(),h.pop(),u=h[h.length-1]):"lang"===k&&(c.pop(),o=c.length>0?c[c.length-1]:"")}else if(l._s===Lx.BZ){var T=l.OZ,S=new Ko;try{G_(T,S)}catch(t){ct("ERROR collecting timestamp",t)}}}return e},i.ZZ=function(t,n){var i=this.vZ,e=this.lZ;i.BU&&(t.style.background=i.BU);var r=e.CU||n||i.CU;r&&(t.style.color=r)},i.GZ=function(t,n,i,e){if(e){var r=Jx(e,n);t.style.height=r*i+"px",t.style.left=tB(e)+"%",t.style.top=nB(e,n)+"px"}t.style.fontSize=Yx*n*i+"px"},i.jZ=function(t){var n=s.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.lk,function(t,n){"rl"===n.bk?t.style.writingMode="vertical-rl":"lr"===n.bk?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=i_(n);rB(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=n_(n),s=t_(n),u=i_(n);if(rB(n)){switch(r){case"line-left":i=s;break;case"center":i=s-u/2;break;case"line-right":i=s-u}e=n.pk?0:Jp(n)}else{switch(r){case"line-left":e=s;break;case"center":e=s-u/2;break;case"line-right":e=s-u}i=n.pk?0:Jp(n)}t.style.left=i+"%",t.style.top=e+"%"}(n,t);var i=this.vZ.OU;i&&(n.style.background=i);var e=this.vZ.CU;return e&&(n.style.color=e),n.style.textShadow=kx(this.vZ.xU),n},n}(bx);function Kx(t,n){for(var i=0;i<n.length;i++){var e=n[i];if(e.QZ){for(var r=0,s=e.QZ.bZ;r<s.length;r++){var u=s[r];sr(t,qx+u)}"v"===e.QZ.Di.toLowerCase()&&e.QZ.CZ&&sr(t,Gx+e.QZ.CZ)}}}function Jx(t,n){return t.Bk*(Yx*n)*Qx}function tB(t){return t.Mk-t.Ok*t.Xk/100}function nB(t,n){var i=t.Uk,e=t.xk*Jx(t,n)/100;return g.max(0,i-e)}function iB(t){var n=s.createElement("div");return n.className=Wx+"default",cr(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=Yx*t+"px",n.style.lineHeight=Qx+"em",n}function eB(t,n){var i=iB(n);i.className=Wx+t.Y_;var e=t.Xk,r=Jx(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=tB(t)+"%",i.style.right="",i.style.top=nB(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function rB(t){return""===t.bk}function sB(t,n){return n.some(function(n){return t.MZ(n)})}function uB(t){return new zx(t.left,t.top,t.width,t.height)}function oB(t,n,i){switch(n){case Xx.POS_X:t.xZ+=i;break;case Xx.NEG_X:t.xZ-=i;break;case Xx.POS_Y:t.LZ+=i;break;case Xx.NEG_Y:t.LZ-=i}}function aB(t,n,i,e){switch(i){case Xx.POS_X:return t.UZ>n.UZ+e;case Xx.NEG_X:return t.xZ<n.xZ-e;case Xx.POS_Y:return t.XZ>n.XZ+e;case Xx.NEG_Y:return t.LZ<n.LZ-e}}!function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(Xx||(Xx={}));var hB,cB=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(hB||(hB={}));var fB={CU:_x.WHITE,NU:px._Z,PU:"100%",BU:_x.BLACK,OU:"transparent",xU:"none",KZ:hB.FONT_REGULAR,HU:"visible",LU:void 0,MU:void 0,UU:void 0,XU:void 0},lB=[{JZ:_x.WHITE,KZ:hB.FONT_REGULAR,$Z:0},{JZ:_x.WHITE,KZ:hB.FONT_UNDERLINE,$Z:0},{JZ:_x.GREEN,KZ:hB.FONT_REGULAR,$Z:0},{JZ:_x.GREEN,KZ:hB.FONT_UNDERLINE,$Z:0},{JZ:_x.BLUE,KZ:hB.FONT_REGULAR,$Z:0},{JZ:_x.BLUE,KZ:hB.FONT_UNDERLINE,$Z:0},{JZ:_x.CYAN,KZ:hB.FONT_REGULAR,$Z:0},{JZ:_x.CYAN,KZ:hB.FONT_UNDERLINE,$Z:0},{JZ:_x.RED,KZ:hB.FONT_REGULAR,$Z:0},{JZ:_x.RED,KZ:hB.FONT_UNDERLINE,$Z:0},{JZ:_x.YELLOW,KZ:hB.FONT_REGULAR,$Z:0},{JZ:_x.YELLOW,KZ:hB.FONT_UNDERLINE,$Z:0},{JZ:_x.MAGENTA,KZ:hB.FONT_REGULAR,$Z:0},{JZ:_x.MAGENTA,KZ:hB.FONT_UNDERLINE,$Z:0},{JZ:_x.WHITE,KZ:hB.FONT_ITALICS,$Z:0},{JZ:_x.WHITE,KZ:hB.FONT_UNDERLINE_ITALICS,$Z:0},{JZ:_x.WHITE,KZ:hB.FONT_REGULAR,$Z:0},{JZ:_x.WHITE,KZ:hB.FONT_UNDERLINE,$Z:0},{JZ:_x.WHITE,KZ:hB.FONT_REGULAR,$Z:4},{JZ:_x.WHITE,KZ:hB.FONT_UNDERLINE,$Z:4},{JZ:_x.WHITE,KZ:hB.FONT_REGULAR,$Z:8},{JZ:_x.WHITE,KZ:hB.FONT_UNDERLINE,$Z:8},{JZ:_x.WHITE,KZ:hB.FONT_REGULAR,$Z:12},{JZ:_x.WHITE,KZ:hB.FONT_UNDERLINE,$Z:12},{JZ:_x.WHITE,KZ:hB.FONT_REGULAR,$Z:16},{JZ:_x.WHITE,KZ:hB.FONT_UNDERLINE,$Z:16},{JZ:_x.WHITE,KZ:hB.FONT_REGULAR,$Z:20},{JZ:_x.WHITE,KZ:hB.FONT_UNDERLINE,$Z:20},{JZ:_x.WHITE,KZ:hB.FONT_REGULAR,$Z:24},{JZ:_x.WHITE,KZ:hB.FONT_UNDERLINE,$Z:24},{JZ:_x.WHITE,KZ:hB.FONT_REGULAR,$Z:28},{JZ:_x.WHITE,KZ:hB.FONT_UNDERLINE,$Z:28}],vB=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function dB(t,n){return m_(t.tK,n.tK)||Hs(t.GS,n.GS)}var wB=32,gB=function(){function t(t,n,i){this.nK=void 0,this.iK=t,this.eK=n,this.CQ=i}var n=t.prototype;return n.rK=function(){return this.nK=this.sK(),this.uK(),this.oK(),this.nK},n.sK=function(){var t=s.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.aK/wB*this.eK.hK*100+"%",t.style.height=1.2*this.cK+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.eK.fK?"calc(1em - 1ch)":"";var n=this.CQ.NU;n&&(t.style.fontFamily=n);var i=this.CQ.OU;return i&&(t.style.backgroundColor=i),t},n.uK=function(){if(this.nK){var t=this.lK.vK/15*100,n=this.lK.$Z/wB*100,i=(wB-this.dK.$Z-1)/wB*100,e=(15-this.dK.vK-1)/15*100;this.eK.wK||(n=i=1,this.nK.style.width="98%"),e<t?this.nK.style.bottom=e*this.eK.hK+"%":this.nK.style.top=t*this.eK.hK+"%",i<n?this.nK.style.right=i+"%":this.nK.style.left=n+"%"}},n.oK=function(){for(var t=this.iK._K.sort(mB),n=0;n<t.length;n++)this.gK(t[n-1],t[n]),this.mK(t[n]);this.gK(t[t.length-1],void 0)},n.mK=function(n){var i,e=mx(this.CQ,n.yK),r=t.kK(e);Hx(r,n.pK),null==(i=this.nK)||i.appendChild(r)},t.kK=function(t){var n=s.createElement("span");n.style.display="inline-block",t.KZ!==hB.FONT_ITALICS&&t.KZ!==hB.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.KZ!==hB.FONT_UNDERLINE&&t.KZ!==hB.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.CU;i&&(n.style.color=i);var e=t.BU;return e&&(n.style.backgroundColor=e),n.style.textShadow=kx(t.xU),n.style.height="1.2em",n},n.gK=function(t,n){var i=t?t.bK.vK:this.iK.AK.vK,e=n?n.AK.vK:this.iK.bK.vK,r=t?t.bK.$Z:this.iK.AK.$Z,s=n?n.AK.$Z:this.iK.bK.$Z;i<e&&(!n||t&&t.AK.vK!==n.AK.vK?this.TK():this.SK(this.iK.bK.$Z-r),r=this.iK.AK.$Z),r<s&&(n?this.SK(s-r):this.TK())},n.TK=function(){var t,n=s.createElement("br");null==(t=this.nK)||t.appendChild(n)},n.SK=function(t){var n;if(!(t<=0)){var i=s.createElement("span");i.style.display="inline-block",Hx(i,Es(" ",t)),null==(n=this.nK)||n.appendChild(i)}},T(t,[{key:"lK",get:function(){return this.iK.AK}},{key:"dK",get:function(){return this.iK.bK}},{key:"aK",get:function(){return this.iK.bK.$Z-this.iK.AK.$Z+1}},{key:"cK",get:function(){return this.iK.bK.vK-this.iK.AK.vK+1}}]),t}();function mB(t,n){return function(t,n){if(t.vK!==n.vK)return t.vK-n.vK;return t.$Z-n.$Z}(t.AK,n.AK)}var yB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,fB)||this).EK=void 0,s.IK=void 0,s}E(n,t);var i=n.prototype;return i.jQ=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.vZ.NU&&(n.style.fontFamily=this.vZ.NU),n},i.YQ=function(t,n){this.RK()},i.RK=function(){var t,n=yx(this.vZ);this.IK={hK:(t=100*n)/100,fK:t<=100,wK:t<=150};var i=this.DK/wB;this.EK=i*n,this.sN.style.fontSize=this.EK+"px"},i.aZ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Ck||this.QQ(r)}for(var s=0;s<t.length;s++){var u=t[s];this.mZ(u)}},i.mZ=function(t){this.IK&&this.IK.wK?this.NK(80):this.NK(100),this.RK();var n=this.ZQ(t);n||(n=this.yZ(t),this.cZ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.sN.appendChild(r)}},i.yZ=function(t){var n=this;return t.vk.map(function(t){return new gB(t,n.IK,n.vZ).rK()})},i.NK=function(t){var n=(100-t)/2;this.sN.style.left=n+"%",this.sN.style.width=t+"%"},T(n,[{key:"DK",get:function(){var t=this.sN.offsetWidth;return this.IK&&this.IK.wK||(t*=.8),t}}]),n}(bx),pB=function(){function t(t,n,i,e,r){var s=this;this.CK=void 0,this.UY=void 0,this.Mm=void 0,this.PK=void 0,this.BK=[],this.rP=void 0,this.xK=function(t){var n=t.h_;n.tu(am.b_,s.LK),n.tu(am.T_,s.LK),n instanceof DP&&(n.Aq=s.Aq),s.MK(n)},this.LK=function(t){var n=t.h_;s.MK(n)},this.UK=function(t){var n=t.h_;n.au(am.b_,s.LK),n.au(am.T_,s.LK),s.XK(n)},this.HK=function(){for(var t=s.Aq,n=0,i=s.Mm.L_;n<i.length;n++){var e=i[n];e instanceof DP&&(e.Aq=t)}},this.FK=function(){for(var t=0,n=s.BK;t<n.length;t++){n[t].$Q(s.rP)}},this.zK=function(){for(var t=0,n=s.BK;t<n.length;t++){var i=n[t];i.$Q(Ur({},i.nZ(),{HU:"hidden"}))}},this.VK=function(){for(var t=0,n=s.BK;t<n.length;t++){var i=n[t];i.$Q(Ur({},i.nZ(),{HU:"visible"}))}},this.CK=t,this.UY=n,this.Mm=i,this.PK=r,this.rP=e,this.Mm.tu(rm.i_,this.xK),this.Mm.tu(rm.r_,this.UK),this.Mm.tu(am.k_,this.LK),this.PK.tu(kS.k_,this.HK),this.rP.tu("p_",this.FK),this.HK()}var n=t.prototype;return n.WK=function(t){for(var n=0,i=this.BK;n<i.length;n++){var e=i[n];if(e.h_===t)return e}},t.GK=function(t){switch(t._s){case Pp.TTML:case Pp.SRT:case Pp.WEBVTT:case Pp.CEA608:return!0}return!1},n.qK=function(t){switch(t._s){case Pp.TTML:return new Ex(t,this.CK,t.Z_,this.UY);case Pp.SRT:case Pp.WEBVTT:return new Zx(t,this.CK,t.Z_,this.UY);case Pp.CEA608:return new yB(t,this.CK,t.Z_,this.UY)}},n.YK=function(t){var n=this.WK(t);n||(n=this.qK(t))&&(n.JL(),n.$Q(this.rP),this.BK.push(n),t.fg===Fm.ag&&n.uZ())},n.XK=function(t){for(var n=this.BK,i=n.length-1;i>=0;i-=1){var e=n[i];e.h_===t&&(e.$c(),Ys(n,i))}},n.MK=function(n){Kb(n.Q_)&&t.GK(n)&&(n.wg===Np.ERROR?this.XK(n):this.YK(n))},n.wc=function(){for(var t=0,n=this.BK;t<n.length;t++){var i=n[t];i.h_.au(am.b_,this.LK),i.h_.au(am.T_,this.LK),i.$c()}Zs(this.BK)},n.$c=function(){this.wc();for(var t=0,n=this.BK;t<n.length;t++){n[t].$c()}this.Mm.au(rm.i_,this.xK),this.Mm.au(rm.r_,this.UK),this.Mm.au(am.k_,this.LK),this.PK.au(kS.k_,this.HK),this.rP.au("p_",this.FK)},T(t,[{key:"Aq",get:function(){return this.PK.jC}}]),t}();function _B(t){var n=new nR,i=function(t){var n=[];return JI.Mx(t)&&n.push(new JI(t)),tR.Mx(t)&&n.push(new tR(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.zx(r)}n.Fx(i[0])}return n}var bB,kB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).jK=void 0,s.QK=void 0,s.ZK=void 0,s.ZK=_B(n),s.jK=new gx,s.QK=new pB(s.jK.Ty,s.lX,s.Vm,s.wX,s.mN),s}E(n,t);var i=n.prototype;return i.oy=function(){return this.ef},i.Xs=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.ZK.$c(),this.jK.$c(),this.QK.$c(),n.next=5,Fr.awrap(t.prototype.Xs.call(this));case 5:case"end":return n.stop()}},null,this,null,qe)},i.uy=function(){t.prototype.uy.call(this),this.jK.uy()},i.sy=function(){t.prototype.sy.call(this),this.jK.sy()},i.SQ=function(n){t.prototype.SQ.call(this,n),this.jK.SQ(n)},T(n,[{key:"sN",get:function(){return this.ef}},{key:"lm",get:function(){return this.ef.videoHeight}},{key:"dm",get:function(){return this.ef.videoWidth}},{key:"mN",get:function(){return this.ZK}}]),n}(ux);!function(t){t.KK="HELLO",t.JK="HI_THERE",t.$K="INITIALIZE",t.tJ="APPEND_INIT",t.nJ="APPEND_DATA",t.iJ="ACK",t.eJ="REMOVE",t.rJ="DESTROY_SESSION"}(bB||(bB={}));var AB,TB=function(){function t(){this._e=void 0,this.nf=void 0,this.MX=new yf}var n=t.prototype;return n.sJ=function(t){var n=this;return this.MX.Kc(function(t){var i,e,r,s,u,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(cu(t),i=new MessageChannel,e=i.port1,r=i.port2,o.serviceWorker.controller){h.next=7;break}return h.next=7,Fr.awrap(im(o.serviceWorker,"install",t));case 7:if("activated"===o.serviceWorker.controller.state){h.next=10;break}return h.next=10,Fr.awrap(im(o.serviceWorker.controller,"activate",t));case 10:return s={kind:bB.KK,port:r},o.serviceWorker.controller.postMessage(s,[r]),e.start(),n._e=e,h.prev=15,h.next=18,Fr.awrap(im(e,"message",t));case 18:if(u=h.sent,(a=u.data).kind===bB.JK){h.next=23;break}throw new l("Could not set up message channel");case 23:n.nf=a.sessionId,h.next=30;break;case 26:throw h.prev=26,h.t0=h.catch(15),hu(h.t0)&&n.uJ(),h.t0;case 30:case"end":return h.stop()}},null,null,[[15,26]],qe)},t)},n.oJ=function(t,n){var i=this;return this._e,this.MX.Kc(function(){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i._e){r.next=2;break}throw new l("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i._e.postMessage(t,n),r.next=7,Fr.awrap(im(i._e,"message"));case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},null,null,null,qe)})},n.aJ=function(){var t=this;return this.MX.Kc(function(){return t.uJ()})},n.uJ=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this._e){var t={kind:bB.rJ};this._e.postMessage(t),this._e.close(),this._e=void 0}},t}(),SB=function(){function t(){this.hJ=a_.Vp}var n=t.prototype;return n.cJ=function(t,n){var i=t.Jk(n);this.hJ=i.zk(this.fJ)?this.hJ:i},n.vJ=function(t){this.hJ=t},T(t,[{key:"fJ",get:function(){return this.hJ}}]),t}();!function(t){t.Cd="audio",t.Pd="video",t.gA="metadata"}(AB||(AB={}));var EB=function(t){function n(n,i){var e;return(e=t.call(this)||this).lJ=void 0,e.dJ=void 0,e.MX=new yf,e.wJ=!1,e._J=!1,e.xO=n,e.gJ=i,e}E(n,t);var i=n.prototype;return i.lW=function(t,n){},i.dW=function(t,n){},i.wH=function(){return this._J},i.wW=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,qe)},i.QV=function(t,n){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,qe)},i.UV=function(t,n,i){var e,r,s=this;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t._s===KC.kH){u.next=2;break}throw new l("Streaming or opaque segments are not supported yet.");case 2:return e=t.zi,r=function(){var t,i,r;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.buffer,i={kind:bB.nJ,mediaType:IB(s.xO),segment:e,startPts:n.mJ,totalDuration:n.nm},u.next=4,Fr.awrap(s.gJ.oJ(i,[t]));case 4:void 0===s.lJ&&(r=n.mJ+n.gb,s.lJ=r,s.dJ=r),s.dJ=s.dJ+n.nm,s.$s(new Eu(GC.mH));case 7:case"end":return u.stop()}},null,null,null,qe)},u.abrupt("return",this.MX.Kc(function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return cu(t),n.prev=1,s.wJ=!0,n.next=5,Fr.awrap(r());case 5:return n.prev=5,s.wJ=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],qe)},i));case 5:case"end":return u.stop()}},null,this,null,qe)},i.FV=function(t,n,i){var e,r,s=this;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t._s===KC.kH){n.next=2;break}throw new l("Streaming or opaque initialization segments are not supported yet.");case 2:return e=t.zi,r=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t={kind:bB.tJ,mediaType:IB(s.xO),segment:e},n.next=3,Fr.awrap(s.gJ.oJ(t,[]));case 3:case"end":return n.stop()}},null,null,null,qe)},n.abrupt("return",this.MX.Kc(function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return cu(t),n.prev=1,s.wJ=!0,n.next=5,Fr.awrap(r());case 5:return n.prev=5,s.wJ=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],qe)},i));case 5:case"end":return n.stop()}},null,this,null,qe)},i.oW=function(){this._J=!0},i.eW=function(){this._J=!1},i.$h=function(t,n,i){var e,r=this;return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={kind:bB.eJ,mediaType:IB(r.xO),endTime:n},i.next=3,Fr.awrap(r.gJ.oJ(t));case 3:r.lJ=void 0,r.dJ=void 0,r.$s(new Eu(GC.mH));case 6:case"end":return i.stop()}},null,null,null,qe)},t.abrupt("return",this.MX.Kc(function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return cu(t),n.prev=1,r.wJ=!0,n.next=5,Fr.awrap(e());case 5:return n.prev=5,r.wJ=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],qe)},i));case 2:case"end":return t.stop()}},null,this,null,qe)},i.sH=function(t){return this.xO===t.Gl},i.uH=function(t){return this.xO=t.Gl,qe.resolve()},i.Xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ou(),t.next=3,Fr.awrap(this.MX.$c());case 3:case"end":return t.stop()}},null,this,null,qe)},T(n,[{key:"by",get:function(){return void 0===this.lJ||void 0===this.dJ?TS.qC():new TS([this.lJ,this.dJ])}},{key:"cc",get:function(){return{Gl:this.xO}}},{key:"mW",get:function(){return gp.md}},{key:"DO",get:function(){return this.xO}},{key:"yW",get:function(){return TS.qC()}},{key:"XL",get:function(){return 30},set:function(t){}},{key:"VL",get:function(){return 30},set:function(t){}},{key:"qx",get:function(){return this.wJ}},{key:"yJ",get:function(){return this.lJ}},{key:"fk",get:function(){return this.dJ}}]),n}(Tu);function IB(t){return t.match(/video/)?AB.Pd:AB.Cd}var RB=function(){function t(t,n,i,e){this.Mc=void 0,this.Es=void 0,this.ef=void 0,this.nG=void 0,this.eG=void 0,this.ac=void 0,this.Mc=t,this.eG=Ws(n,function(t){return Boolean(t.DO.match(/video/))}),this.nG=Ws(n,function(t){return Boolean(t.DO.match(/audio/))}),this.Es=i,this.ef=e,this.kJ()}t.pJ=function(n,i,e,r){for(var s=[],u=0;u<n._G.length;u++){var o=n._G[u].Gl;s.push(new EB(o,i))}return new t(n,s,e,r)};var i=t.prototype;return i.kJ=function(){},i.Xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(qe.all([this.nG,this.eG].filter(H).map(function(t){return t.Xs()})));case 2:case"end":return t.stop()}},null,this,null,qe)},i.vG=function(t){},i.wG=function(t,n,i,e){},i.oW=function(){var t,n;null==(t=this.nG)||t.oW(),null==(n=this.eG)||n.oW()},i.eW=function(){var t,n;null==(t=this.nG)||t.eW(),null==(n=this.eG)||n.eW()},i.sH=function(t){return!0},i.uH=function(t){return this.Mc=t,qe.resolve()},i.eH=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.Es.Ds(t.gs,n));case 2:return i=r.sent,r.next=5,Fr.awrap(i.mc());case 5:return e=r.sent,r.next=8,Fr.awrap(this.rH(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,qe)},i.rH=function(t){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.ef.src){e.next=4;break}throw new fp(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.ef.src){e.next=6;break}throw new fp(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!(i=this.ac)){e.next=11;break}return e.next=10,Fr.awrap(i.dc(this.ef));case 10:this.ac=void 0;case 11:if(!t){e.next=15;break}return e.next=14,Fr.awrap(t.lc(this.ef));case 14:this.ac=t;case 15:case"end":return e.stop()}},null,this,null,qe)},T(t,[{key:"bJ",get:function(){return[this.nG,this.eG].filter(H)}},{key:"KW",get:function(){return this.nG}},{key:"by",get:function(){return eN(this)}},{key:"cc",get:function(){return this.Mc}},{key:"nm",get:function(){return 0}},{key:"wH",get:function(){var t,n,i,e,r=null==(t=null==(n=this.nG)?void 0:n.wH())||t,s=null==(i=null==(e=this.eG)?void 0:e.wH())||i;return r&&s}},{key:"Ly",get:function(){return new TS([0,1/0])}},{key:"JW",get:function(){return this.eG}},{key:"zm",get:function(){throw new l("Not implemented")}}]),t}(),CB=a_.ap,DB=new a_(-1/0),NB=a_.Vp,PB=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.Vk=function(t,n){return t.jk(n)?Os.Bs:t.Nk(n)?Os.Cs:Os.Ps},i.Hy=function(t,n){return t.Hy(n)},i.Jk=function(t,n){return t.Jk(n)},i.Yk=function(t,n){return t.Yk(n)},i.mC=function(){return CB},i.yC=function(){return NB},i.AC=function(){return DB},n.VC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new a_(t.start(e)),new a_(t.end(e)));return new n(i)},n.AJ=function(t){for(var i=[],e=[],r=0;r<t.M_;r++)i.push(new a_(t.oC(r))),i.push(new a_(t.hC(r))),e.push(t.aC(r)),e.push(t.cC(r));return new n(i,e)},n.GC=function(t){return new n([t,t],[!0,!0])},i._C=function(t,i){return new n(t,i)},i.dC=function(t){return t.Fp},n.qC=function(){return xB},n}(AS),xB=new PB([]),BB=function(t){function n(n,i){var e;return(e=t.call(this)||this).TJ=!0,e.gJ=new TB,e.SJ=new SB,e.BD=void 0,e.FY=void 0,e.EJ=!0,e.IJ=new ta,e.nP=!1,e.$Y=qe.resolve(),e.tj=new ou,e.RJ=!0,e.ij=TS.qC(),e.ZK=void 0,e.DJ=void 0,e.dj=!1,e.$X=void 0,e.Es=void 0,e.NJ=function(){e.cm||e.CJ.M_<=0||e.by.M_<=0||e.SJ.cJ(new a_(e.by.hC(e.by.M_-1)),e.CJ.hC(e.CJ.M_-1))},e.PJ=function(){e.$s(new Py(e.tm))},e.BJ=function(){e.$s(new Ny(e.tm,e.Ay))},e.OJ=function(){e.$s(new Dy(e.tm,e.fm))},e.xJ=function(){e.$s(new Ly(e.tm,e.wm))},e.LJ=function(){e.$s(new Cy(e.nm))},e.MJ=function(){e.$s(new Nk(e.tm))},e.UJ=function(){e.Xu(e.tm)},e.XJ=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:e.RJ&&e.$s(new Ey(e.tm)),e.EJ=!1,e.RJ=!0;case 3:case"end":return t.stop()}},null,null,null,qe)},e.HJ=function(){e.EJ=!0,e.$s(new Sy(e.tm))},e.qj=function(t){var n,i=t.initDataType,r=null!=(n=t.initData)?n:new ArrayBuffer(0);e.$s(new Pu(i,r))},e.DJ=n,e.FY=new vN(Jt(e)),e.DJ.setAttribute("id","player_video"),e.DJ.setAttribute("x-webkit-airplay","deny"),e.DJ.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),e.DJ.playsInline=!0,e.DJ.style.width="100%",e.DJ.style.height="100%",e.FJ(),e.zJ(),e.ZK=_B(e.DJ),e.$X=new JP(Jt(e)),e.Es=i,e}E(n,t);var e=n.prototype;return e.FJ=function(){this.DJ.addEventListener("timeupdate",this.NJ),this.DJ.addEventListener("ended",this.PJ),this.DJ.addEventListener("timeupdate",this.BJ),this.DJ.addEventListener("ratechange",this.OJ),this.DJ.addEventListener("volumechange",this.xJ),this.DJ.addEventListener("durationchange",this.LJ),this.DJ.addEventListener("playing",this.MJ),this.DJ.addEventListener("seeking",this.UJ),this.DJ.addEventListener("play",this.XJ),this.DJ.addEventListener("pause",this.HJ),this.DJ.addEventListener("encrypted",this.qj)},e.VJ=function(){this.DJ.removeEventListener("timeupdate",this.NJ),this.DJ.removeEventListener("ended",this.PJ),this.DJ.removeEventListener("timeupdate",this.BJ),this.DJ.removeEventListener("ratechange",this.OJ),this.DJ.removeEventListener("volumechange",this.xJ),this.DJ.removeEventListener("durationchange",this.LJ),this.DJ.removeEventListener("playing",this.MJ),this.DJ.removeEventListener("seeking",this.UJ),this.DJ.removeEventListener("play",this.XJ),this.DJ.removeEventListener("pause",this.HJ)},e.zJ=function(){this.FY.tu(Ay.b_,this.Js)},e.WJ=function(){this.FY.au(Ay.b_,this.Js)},e.Xu=function(t,n){this.tj.Gs(),this.tj=new ou,this.$Y=this.hQ(t,this.$Y,this.tj.js).catch(K)},e.hQ=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.ij=this.Oy,r=null==(e=this.BD)?void 0:e.bJ){u.next=4;break}return u.abrupt("return");case 4:return s=g.max.apply(g,r.map(function(t){return t.yJ?t.yJ:1/0})),this.nP=!0,this.$s(new By(t)),u.next=9,Fr.awrap(n.catch(K));case 9:if(cu(i),u.prev=10,this.TJ||this.GJ(),this.DJ.load(),this.EJ){u.next=17;break}return this.RJ=!1,u.next=17,Fr.awrap(vu(this.DJ.play(),i));case 17:if(!(this.wg<sy.Gg)){u.next=22;break}return u.next=20,Fr.awrap(this.FY.wu(Ay.b_,i));case 20:u.next=17;break;case 22:this.IJ.Qu(),this.TJ=!1,this.nP=!1,this.$s(new Oy(this.tm)),u.next=32;break;case 28:throw u.prev=28,u.t0=u.catch(10),this.IJ.Zu(u.t0),u.t0;case 32:return u.prev=32,this.qJ(),this.SJ.vJ(new a_(s)),u.finish(32);case 36:case"end":return u.stop()}},null,this,[[10,28,32,36]],qe)},e.qm=function(){this.EJ=!0,this.DJ.pause()},e.Gm=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.EJ){t.next=2;break}return t.abrupt("return");case 2:return this.DJ.src||this.AQ(),t.next=5,Fr.awrap(this.IJ.Gu);case 5:return t.next=7,Fr.awrap(this.DJ.play());case 7:case"end":return t.stop()}},null,this,null,qe)},e.Xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.gJ&&this.gJ.aJ().catch(K),this.tj.Gs(),this.VJ(),this.WJ(),this.FY.Xs(),this.ou();case 6:case"end":return t.stop()}},null,this,null,qe)},e.wc=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.gJ&&this.gJ.aJ().catch(K),this.tj.Gs(),this.DJ.removeAttribute("src"),this.DJ.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.DJ.removeAttribute("x-airplay-deny"),this.DJ.load(),this.FY.wc(),this.ij=TS.qC();case 8:case"end":return t.stop()}},null,this,null,qe)},e.AQ=function(){this.TQ||(FB(this.DJ,i.Hr),this.dj=!0)},e.GJ=function(){var t,n=this.DJ.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.DJ.videoWidth/this.DJ.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.DJ.style.width=i+"px",this.DJ.style.height=e+"px",this.DJ.style.marginLeft=(r-i)/2+"px",this.DJ.style.marginTop=(u-e)/2+"px",this.DJ.style.backgroundColor="black"}},e.qJ=function(){this.DJ.style.width="100%",this.DJ.style.height="100%",this.DJ.style.marginLeft="",this.DJ.style.marginTop="",this.DJ.style.backgroundColor=""},e._N=function(t,n,i,e,r){},e.QE=function(t,n,i,e,r,s){},e.dH=function(t){},e.IN=function(){return VR(this.DJ)},e.sy=function(){this.DJ.style.display="block"},e.uy=function(){this.DJ.style.display="none"},e.pQ=function(){},e.Jh=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(t._s!==pk.tI){e.next=2;break}throw new l("Not yet implemented");case 2:return e.next=4,Fr.awrap(this.gJ.sJ());case 4:return n=Ws(t.hN,function(t){return t.hc._s===Kr.ls}),i={kind:bB.$K,mediaBufferConfigs:t._G.map(function(t){return t.Gl}),fairPlaySdkUri:null==n?void 0:n.PR},e.next=8,Fr.awrap(this.gJ.oJ(i));case 8:return this.BD=RB.pJ(t,this.gJ,this.Es,this.DJ),this.$X.Jh(this.BD,t),this.DJ.preload="none",this.DJ.src="https://theo.proxy/"+this.gJ.nf+"/master.m3u8",e.abrupt("return",this.BD);case 13:case"end":return e.stop()}},null,this,null,qe)},e.bQ=function(){},e.JE=function(t){},e.yN=function(){},e.EN=function(t){},e.dN=function(){return!1},e.SQ=function(t){t.appendChild(this.DJ)},e.oy=function(){return this.DJ},e.nQ=function(){},e.py=function(){},T(n,[{key:"sN",get:function(){return this.DJ}},{key:"TG",get:function(){return!1}},{key:"tm",get:function(){return this.DJ.currentTime+this.SJ.fJ.Fp}},{key:"cm",get:function(){return this.DJ.paused}},{key:"wm",get:function(){return this.DJ.volume},set:function(t){this.DJ.volume=t}},{key:"fm",get:function(){return this.DJ.playbackRate},set:function(t){this.DJ.playbackRate=t}},{key:"YJ",get:function(){return this.DJ.defaultPlaybackRate}},{key:"by",get:function(){var t,n;return null!=(t=null==(n=this.BD)?void 0:n.by)?t:TS.qC()}},{key:"CJ",get:function(){return PB.VC(this.DJ.buffered)}},{key:"Oy",get:function(){var t=TS.WC(this.jJ);return this.ij.EC(t.Mu(this.SJ.fJ.Fp))}},{key:"jJ",get:function(){return PB.VC(this.DJ.played)}},{key:"vm",get:function(){return this.nP}},{key:"nm",get:function(){return this.DJ.duration}},{key:"hm",get:function(){return this.DJ.muted},set:function(t){this.DJ.muted=t}},{key:"yK",get:function(){return this.DJ.style}},{key:"OY",get:function(){return Ur({},WC,{jX:!0})}},{key:"wg",get:function(){return this.FY.wg}},{key:"lm",get:function(){return this.DJ.videoHeight}},{key:"dm",get:function(){return this.DJ.videoWidth}},{key:"im",get:function(){return this.DJ.ended}},{key:"ST",get:function(){return this.DJ.height||this.DJ.clientHeight}},{key:"Xk",get:function(){return this.DJ.width||this.DJ.clientWidth}},{key:"Sy",get:function(){return!1}},{key:"TQ",get:function(){return this.dj}},{key:"Ay",get:function(){}},{key:"lX",get:function(){}},{key:"Au",get:function(){}},{key:"mN",get:function(){return this.ZK}},{key:"Ly",get:function(){return this.BD?this.BD.Ly:TS.qC()}},{key:"RN",get:function(){}},{key:"Vm",get:function(){}},{key:"wX",get:function(){}},{key:"Uy",get:function(){return!1},set:function(t){}},{key:"EQ",get:function(){return"block"===this.DJ.style.display}},{key:"uN",get:function(){return this.$X.uN},set:function(t){this.$X.uN=t}},{key:"IQ",get:function(){},set:function(t){}},{key:"MY",get:function(){}}]),n}(Tu),OB=2,LB=[gp.Cd,gp.Pd];function MB(t){var n=s.createElement(t);return lr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),jB(n),n}function jB(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),vr(t),t.pause(),t.playbackRate=1,t.preload=gS.YN,t.controls=!1,t.style.display="none",lr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function FB(t,n){if(n.Le){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();Y(e)&&yu(e),t.pause()}}var UB,HB;function XB(t){return{get bandwidth(){return t.vD},get codecs(){return t.kz},get id(){return t.Y_},get uid(){return t.j_},get name(){return t.Z_},get averageBandwidth(){return t.QJ},get label(){return t.Z_},set label(n){t.Z_=Dm(n)},get height(){return t.ST},get width(){return t.Xk},get frameRate(){return t.ZJ},get firstFrame(){return t.KJ},get available(){return t.JJ},addEventListener:function(n,i){t.tu(n,i)},removeEventListener:function(n,i){t.au(n,i)}}}function zB(t){return{get bandwidth(){return t.vD},get codecs(){return t.kz},get id(){return t.Y_},get uid(){return t.j_},get name(){return t.Z_},get averageBandwidth(){return t.QJ},get label(){return t.Z_},set label(n){if(!G(n))throw new l("Unexpected - The provided label is not a string");t.Z_=n},get audioSamplingRate(){return t.$J},get available(){return t.JJ},addEventListener:function(n,i){t.tu(n,i)},removeEventListener:function(n,i){t.au(n,i)}}}le=(UB={t$:function(){function t(t,n,i,e,r){void 0===i&&(i=OB),void 0===e&&(e=LB),void 0===r&&(r=Rf()),this.n$=void 0,this.i$=void 0,this.Es=void 0,this.e$=void 0,this.UY=void 0,this.rP=void 0,this.r$=void 0,this.n$=i,this.i$=[].concat(e),this.Es=r,this.UY=t,this.rP=n,this.e$=Xr(),this.s$()}var n=t.prototype;return n.oP=function(t){for(var n=0,i=this.hP;n<i.length;n++){i[n].SQ(t)}},n.rN=function(t){var n=Ws(this.e$.get(t),function(t){return t.JJ});if(n)return n.JJ=!1,n.u$},n.o$=function(t){if(!this.r$)throw new l("Error creating iOS Safari MediaController");return this.r$},n.bN=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.sN,i=n.tagName.toLowerCase(),r.next=4,Fr.awrap(t.wc());case 4:jB(n),(e=Ws(this.e$.get(i)||[],function(n){return t===n.u$}))&&(e.JJ=!0);case 7:case"end":return r.stop()}},null,this,null,qe)},n.aP=function(){for(var t=0,n=this.hP;t<n.length;t++){n[t].AQ()}},n.$c=function(){for(var t=0,n=this.hP;t<n.length;t++){var i=n[t],e=i.sN;i.Xs(),jB(e),nr(e)}this.e$.clear(),this.r$=void 0},n.s$=function(){for(var t=0,n=this.i$;t<n.length;t++){var i=n[t],e=[];this.e$.set(i,e);for(var r=0;r<this.n$;r++){var s=MB(i),u=i===gp.Cd?new dx(s,this.Es,this.UY):new kB(s,this.Es,this.UY,this.rP);e.push({u$:u,JJ:!0})}}if(j.On&&j.cn){var o=MB(gp.Pd);this.r$=new BB(o,this.Es)}},T(t,[{key:"hP",get:function(){for(var t=[],n=0,i=this.i$;n<i.length;n++){var e=i[n],r=this.e$.get(e);if(r){var s=r.map(function(t){return t.u$});t.push.apply(t,s)}}return this.r$&&t.push(this.r$),t}}]),t}(),a$:function(){function t(t){this.h$=new yf,this.iP=t}var n=t.prototype;return n.VX=function(t){var n=this;return this.h$.Kc(function(){return n.c$(t)})},n.$m=function(){this.iP.aP()},n.c$=function(n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=this.iP.rN(gp.Pd),e=i.sN,s.next=4,Fr.awrap(t.f$(e,n));case 4:return r=s.sent,s.next=7,Fr.awrap(this.iP.bN(i));case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,qe)},t.f$=function(n,i){return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!j.In&&!j.Sn){e.next=2;break}return e.abrupt("return","all");case 2:return n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),e.next=5,Fr.awrap(t.v$());case 5:if(e.t0=!i,!e.t0){e.next=10;break}return e.next=9,Fr.awrap(t.l$(n,!1));case 9:e.t0=e.sent;case 10:if(!e.t0){e.next=12;break}return e.abrupt("return","all");case 12:return e.next=14,Fr.awrap(t.l$(n,!0));case 14:if(!e.sent){e.next=16;break}return e.abrupt("return","muted");case 16:return e.abrupt("return","none");case 17:case"end":return e.stop()}},null,null,null,qe)},t.l$=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.muted=n,i=t.play(),r.prev=2,Y(i)){r.next=5;break}return r.abrupt("return",!j.wn);case 5:return e=_u(100),r.next=8,Fr.awrap(qe.race([i,e]));case 8:return r.abrupt("return",!0);case 11:return r.prev=11,r.t0=r.catch(2),r.abrupt("return",!1);case 14:return r.prev=14,t.pause(),t.muted=!0,r.finish(14);case 18:case"end":return r.stop()}},null,null,[[2,11,14,18]],qe)},t.v$=function(){return new qe(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else a(t,0)})},n.$c=function(){this.h$.$c()},t}(),d$:{VO:function(t){we.addEventListener("beforeunload",t)},tx:function(t){we.removeEventListener("beforeunload",t)}},w$:r}).t$,ve=UB.a$,de=UB.d$,we=UB.w$,ge=we&&we.location,me=we&&we.navigator,function(t){t._$="currentbufferingrenditionchange",t.g$="m$",t.y$="k$",t.p$="b$"}(HB||(HB={}));var VB=function(t,n){this.j_=void 0,this.A$=void 0,this._s=void 0,this.T$=void 0,this.S$=void 0,this.E$=void 0,this._i=void 0,this.K_=void 0,this.I$=void 0,this.R$=void 0,this.D$=void 0,this.j_=Sp(),this.A$=n,this._s=t._s,this.T$=t.T$,this.S$=t.S$,this.E$=t.E$,this._i=t._i,this.K_=t.K_,this.I$=t.I$,this.R$=t.R$,this.D$=void 0===t.N$};function WB(t,n){return t._s===n._s&&(t._i===n._i||!(!t.T$||!n.T$))}function qB(t,n){return t.A$===n.A$}function GB(t,n){for(var i=0;i<t.length;i++){if(qB(t[i],n))return!0}return!1}var $B,YB,QB=function(t){function n(n,i){var e;return(e=t.call(this,am.D_)||this).J_=void 0,e.h_=void 0,e.J_=n||[],e.h_=i,e}return E(n,t),n.prototype.a_=function(){return new ZB(this.J_.map(function(t){return t.o_}))},n}(um),ZB=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return E(n,t),n}(Eu);!function(t){t.C$="alternative",t.P$="main",t.B$="commentary",t.O$="",t.BE="descriptions",t.x$="main-desc",t.L$="translation"}($B||($B={})),function(t){t.C$="alternative",t.P$="main",t.B$="commentary",t.O$="",t.PE="captions",t.M$="sign",t.wA="subtitles"}(YB||(YB={}));var KB=function(t){function n(n,i,e){var r;return(r=t.call(this,am.I_)||this).U$=n,r.X$=i,r.H$=e,r}return E(n,t),n.prototype.a_=function(){return new JB(this.U$&&this.U$.o_)},n}(um),JB=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return E(n,t),n}(Eu);function tO(t){return{vD:t.vD,dr:t.kz,ST:nO(t)?t.ST:0,_s:nO(t)?gp.Pd:gp.Cd,Xk:nO(t)?t.Xk:0}}function nO(t){var n=t;return void 0!==n.ST&&void 0!==n.Xk}var iO,eO=function(t){function n(){return t.call(this,am.NO_QUALITY)||this}return E(n,t),n}(Eu),rO=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return E(n,t),n}(Eu),sO=function(t){function n(n,i,e){var r,s,u;(u=t.call(this)||this).Vy=void 0,u.ya=void 0,u.F$=void 0,u.z$=void 0,u.V$=void 0,u.u_=void 0,u.Wy=void 0,u.W$=function(){return u.$s(new pp(Jt(u)))},u.G$=function(){var t=u.G_;t&&u.z$!==t&&(u.z$=t,u.$s(new KB(t)))},u.q$=function(){var t=u.q_;u.V$!==t&&(u.V$=t,u.Y$.$s(new gm(Jt(u))),u.$s(new gm(Jt(u))))},u.KN=n,u.Y$=i,u.J_=e,u.z$=u.G_,u.V$=u.q_;var o=e.P_(0);u.Vy=null!=(r=null==o?void 0:o.j$._i)?r:"",u.ya=null!=(s=null==o?void 0:o.j$.K_)?s:"",u.Wy=kp(),u.KN.tu(HB._$,u.G$),u.KN.tu(HB.g$,u.q$);for(var a=0;a<u.J_.M_;a++){u.J_.P_(a).tu("update",u.W$)}return u}E(n,t);var e=n.prototype;return e.Yy=function(t){this.q_=t},e.$c=function(){this.ou(),this.KN.au(HB._$,this.G$),this.KN.au(HB.g$,this.q$);for(var t=0,n=this.J_.L_;t<n.length;t++){n[t].$c()}this.J_.wc()},T(n,[{key:"q_",get:function(){var t=this.Q$();if(!t)return!1;for(var n=0,i=this.J_.L_;n<i.length;n++){if(i[n].j$===t)return!0}return!1},set:function(t){if(t!==this.q_&&t){for(var n=this.J_.P_(0).j$,i=this.KN.Z$,e=0,r=this.J_.L_;e<r.length;e++){var s=r[e];if(s.K$===i){n=s.j$;break}}this.J$(n)}}},{key:"G_",get:function(){if(this.q_)for(var t=this.KN.n0,n=0,i=this.J_.L_;n<i.length;n++){var e=i[n];if(GB(t,e.j$))return e}}},{key:"o_",get:function(){return this.u_||(this.u_=Lm(this)),this.u_}},{key:"Y_",get:function(){return this.Wy.toString()}},{key:"j_",get:function(){return this.Wy}},{key:"Z_",get:function(){return this.Vy},set:function(t){t!==this.Vy&&(this.Vy=t,this.$s(new pp(this)))}},{key:"K_",get:function(){return this.ya}},{key:"fg",get:function(){return this.q_?"enabled":"disabled"}},{key:"eg",get:function(){return this.F$},set:function(t){var n=this,e=[];t?e=t.filter(function(t){var e=n.G_?tO(n.G_):void 0;return i.Hr.Ue(e,tO(t))}).filter(function(i){return n.J_.Fy(t)&&i.JJ}):e=this.J_.L_.filter(function(t){return t.JJ});0!==e.length?t!==this.F$&&(this.F$&&Ks(this.F$,e)||(this.F$=t?e:void 0,this.KN.i0(e.map(function(t){return t.K$})),1===e.length&&yu(this.KN.e0(e[0].K$,!1)),this.$s(new QB(e,this)))):this.$s(new eO)}}]),n}(Tu),uO=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.Q$=function(){return this.KN.r0},i.J$=function(t){yu(this.KN.s0(t))},T(n,[{key:"Q_",get:function(){return $B.P$}}]),n}(sO),oO=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.Q$=function(){return this.KN.u0},i.J$=function(t){yu(this.KN.o0(t))},T(n,[{key:"Q_",get:function(){return YB.P$}}]),n}(sO),aO=function(t){function n(n,i){var e;return(e=t.call(this)||this).Vy="",e.JJ=!0,e.K$=n,e.j$=i,e}E(n,t);var i=n.prototype;return i.zE=function(){},i.$c=function(){this.ou()},T(n,[{key:"Y_",get:function(){return String(this.K$.Y_)}},{key:"j_",get:function(){return this.K$.Y_}},{key:"vD",get:function(){return this.K$.vD}},{key:"QJ",get:function(){return this.K$.QJ}},{key:"Z_",get:function(){var t;return null!=(t=this.Vy)?t:this.j$._i},set:function(t){this.Z_!==t&&(this.Vy=t,this.$s(new rO(this.o_)))}},{key:"N$",get:function(){return this.j$.A$.a0()}}]),n}(Tu),hO=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).u_=void 0,e}return E(n,t),n.prototype.a_=function(){return zB(this)},T(n,[{key:"$J",get:function(){return 0}},{key:"kz",get:function(){var t;return(null==(t=this.K$.kz)?void 0:t.yz)||""}},{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}}]),n}(aO),cO=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).u_=void 0,e}return E(n,t),n.prototype.a_=function(){return XB(this)},T(n,[{key:"kz",get:function(){var t;return(null==(t=this.K$.kz)?void 0:t.mz)||""}},{key:"KJ",get:function(){return 0}},{key:"ZJ",get:function(){var t;return null!=(t=this.K$.ZJ)?t:0}},{key:"ST",get:function(){var t,n;return null!=(t=null==(n=this.K$.h0)?void 0:n.ST)?t:0}},{key:"Xk",get:function(){var t,n;return null!=(t=null==(n=this.K$.h0)?void 0:n.Xk)?t:0}},{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}}]),n}(aO);!function(t){t.c0="FATAL",t.hg="ERROR",t.f0="WARNING",t.v0="INFO",t.l0="DEBUG"}(iO||(iO={}));var fO=new(function(){function t(){this.q_=function(){return!1}}var n=t.prototype;return n.d0=function(t){if(!this.q_())return!1;var n=[];return!(n.length>0)||n.some(function(n){return n.toLowerCase()===t.toLowerCase()})},n.w0=function(t){if(this.d0(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.Ar.apply(i,[iO.l0+" "+t+" -"].concat(e))}},n.NT=function(t){if(this.d0(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.Ar.apply(i,[iO.v0+" "+t+" -"].concat(e))}},n._0=function(t){if(this.d0(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.Tr.apply(i,[iO.f0+" "+t+" -"].concat(e))}},n.Au=function(t){if(this.d0(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.Sr.apply(i,[iO.hg+" "+t+" -"].concat(e))}},n.g0=function(t){if(this.d0(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.Sr.apply(i,[iO.c0+" "+t+" -"].concat(e))}},t}()),lO="HLSPlaylistParser",vO=function(){function t(t,n,i){this.KN=t,this.m0=n,this.y0=i}var n=t.prototype;return n.k0=function(){var t,n,i=null==(t=this.KN.p0)?void 0:t.b0;if(i&&0!==i.length){for(var e=null!=(n=Ws(i,function(t){return 0!==t.A0.length&&0!==t.T0.length}))?n:i[0],r=i.filter(function(t){return t!==e}),s=0,u=e.A0;s<u.length;s++){var o=u[s],a=new yp,h=[];a.Hy(new hO(e,o)),h.push(o);for(var c=0;c<r.length;c++)for(var f=r[c],l=0,v=f.A0;l<v.length;l++){var d=v[l];if(WB(d,o)&&!GB(h,d)){a.Hy(new hO(f,d)),h.push(d);break}}this.m0.B_(new uO(this.KN,this.m0,a))}for(var w=0,g=e.T0;w<g.length;w++){var m=g[w],y=new yp,p=[];y.Hy(new cO(e,m)),p.push(m);for(var _=0;_<r.length;_++)for(var b=r[_],k=0,A=b.T0;k<A.length;k++){var T=A[k];if(WB(T,m)&&!GB(p,T)){y.Hy(new cO(b,T)),p.push(T);break}}this.y0.B_(new oO(this.KN,this.y0,y))}}else fO._0("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.S0=function(){this.E0(this.m0),this.E0(this.y0)},n.E0=function(t){for(var n=[],i=0,e=t.L_;i<e.length;i++){for(var r=e[i],s=[],u=0,o=r.J_.L_;u<o.length;u++){var a=o[u];Qs(a.K$.I0,a.j$)||s.push(a)}for(var h=0;h<s.length;h++){var c=s[h];r.J_.$h(c),c.$c()}0===r.J_.M_&&n.push(r)}for(var f=0;f<n.length;f++){var l=n[f];t.O_(l),l.$c()}},t}(),dO=function(){function t(t){this.R0=void 0,this.D0=0,this.N0=0,this.R0=g.exp(g.log(.5)/t)}var n=t.prototype;return n.C0=function(t,n){var i=g.pow(this.R0,t),e=n*(1-i)+i*this.D0;p(e)||(this.D0=e,this.N0+=t)},n.uH=function(t){var n=g.exp(g.log(.5)/t);if(n!==this.R0)if(0!==this.N0){var i=this.cJ,e=1-g.pow(n,this.N0);this.D0=i*e,this.R0=n}else this.R0=n},T(t,[{key:"cJ",get:function(){var t=1-g.pow(this.R0,this.N0);return this.D0/t}}]),t}(),wO=function(){function t(n,i,e,r){void 0===n&&(n=t.P0),void 0===i&&(i=t.B0),void 0===e&&(e=t.O0),void 0===r&&(r=!1),this.x0=void 0,this.L0=void 0,this.M0=0,this.U0=[],this.X0=void 0,this.H0=6e4,this.F0=10,this.z0=void 0,this.V0=void 0,this.W0=void 0,this.G0=void 0,this.z0=n,this.V0=i,this.W0=e,this.G0=r,this.x0=new dO(n),this.L0=new dO(i)}var n=t.prototype;return n.C0=function(t){var n=i.wr(),e=t;this.G0&&void 0!==this.X0&&n-this.X0>=this.H0&&this.wc(),this.M0+=1,this.x0.C0(1,e),this.L0.C0(1,e),this.U0.push(e),this.U0.length>this.F0&&this.U0.shift(),this.X0=n},n.q0=function(){return void 0!==this.X0&&i.wr()-this.X0<=this.H0},n.wc=function(){this.x0=new dO(this.z0),this.L0=new dO(this.V0),this.M0=0,this.U0=[],this.X0=void 0},T(t,[{key:"cJ",get:function(){return this.q0()?g.max(this.x0.cJ,this.L0.cJ):this.W0}}]),t}();wO.P0=2,wO.B0=5,wO.O0=.1;var gO,mO=function(){function t(t){this.Y0=t}var n=t.prototype;return n.xL=function(t){for(var n=0,i=this.Y0;n<i.length;n++){i[n].xL(t)}},n.LL=function(t){for(var n=0,i=this.Y0;n<i.length;n++){i[n].LL(t)}},n.ML=function(t,n){for(var i=0,e=this.Y0;i<e.length;i++){e[i].ML(t,n)}},n.UL=function(t){for(var n=0,i=this.Y0;n<i.length;n++){i[n].UL(t)}},t}(),yO=function(){function t(t){this.j0=void 0,this.Q0=0,this.j0=t}var n=t.prototype;return n.xL=function(t){this.Q0=t},n.LL=function(t){this.j0.C0(t-this.Q0)},n.ML=function(t){},n.UL=function(t){},t}(),pO=function(){function t(t){this.Z0=void 0,this.K0=0,this.Z0=t}var n=t.prototype;return n.LL=function(t){this.K0=t},n.ML=function(t,n){this.Z0.C0(t-this.K0,n.byteLength),this.K0=t},n.UL=function(t){},n.xL=function(t){},t}(),_O=function(){function t(t,n){void 0===n&&(n=0),this.Z0=void 0,this.J0=void 0,this.$0=new bO,this.Pq=0,this.n1=0,this.Z0=t,this.J0=n}var n=t.prototype;return n.xL=function(t){},n.ML=function(t,n){var e=n.byteLength,r=this.n1;this.n1=e;var s=t-this.Pq;this.Pq=t,this.$0.$H(n);var u=!this.$0.i1(),o=e>=this.J0;r!==i.Hr.Ke&&u&&o&&this.Z0.C0(s,e)},n.LL=function(t){this.Pq=t},n.UL=function(t){},t}(),bO=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).e1=void 0,n.s1=!1,n}E(n,t);var i=n.prototype;return i.i1=function(){return this.s1},i.$H=function(n){this.s1=!1,t.prototype.$H.call(this,n)},i.KH=function(n,i){this.e1&&this.e1!==A_.oA||(this.s1=!0),t.prototype.KH.call(this,n,i),this.e1=n},i.oF=function(t){return!1},i.hF=function(t){},i.cF=function(t){},n}(oD);!function(t){t.u1="sample"}(gO||(gO={}));var kO=function(t){function n(i,e,r,s){var u;return void 0===i&&(i=n.P0),void 0===e&&(e=n.B0),void 0===r&&(r=n.o1),void 0===s&&(s=n.O0),(u=t.call(this)||this).x0=void 0,u.L0=void 0,u.a1=0,u.W0=void 0,u.h1=void 0,u.h1=r,u.x0=new dO(i),u.L0=new dO(e),u.W0=s,u}E(n,t);var i=n.prototype;return i.C0=function(t,n){var i=8*n/t;this.x0.C0(t,i),this.L0.C0(t,i),this.a1+=n,this.Cg(),this.$s(new Eu(gO.u1))},i.q0=function(){return this.a1>=this.h1},T(n,[{key:"cJ",get:function(){return this.q0()?g.min(this.x0.cJ,this.L0.cJ):this.W0}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).c1=0,n}return E(n,t),n.prototype.Cg=function(){var t=i.wr();t-this.c1>1e3&&(this.c1=t,Jm.Cg(this.cJ/8))},n}(Tu));kO.o1=128e3,kO.O0=5e5,kO.P0=.5,kO.B0=5;var AO=function(){function t(t){this.Z0=void 0,this.f1=void 0;var n=t.vD>0?t.vD:kO.O0,i=t.lD>0?t.lD:wO.O0;this.Z0=new kO(kO.P0,kO.B0,1,n),this.f1=new wO(wO.P0,wO.B0,i)}var n=t.prototype;return n.fD=function(t){if("segment"===t._s||"preload-hint"===t._s){var n=[new yO(this.f1)];return"stream"!==t.hd||!function(t){return"segment"===t._s&&"initialization-segment"!==t.Ld}(t)&&"preload-hint"!==t._s?n.push(new pO(this.Z0)):n.push(new _O(this.Z0,1e3)),new mO(n)}},n.v1=function(t){this.Z0=new kO(kO.P0,kO.B0,1,t)},T(t,[{key:"vD",get:function(){return this.Z0.cJ}},{key:"lD",get:function(){return this.f1.cJ}}]),t}();var TO=function(t){function n(n){var i;return(i=t.call(this,HB.p$)||this).Au=n,i}return E(n,t),n}(Eu),SO=function(){function t(t){this.u$=t}return t.prototype.dH=function(t){var n={_s:pk.nI,hN:[],_G:[{Gl:t}]};return qe.resolve(void 0!==this.u$.dH([n]))},t}(),EO=function(t,n,i,e,r){return t.filter(function(t){return!!Qs(e,t)||1.1*t.vD<=i.vD})},IO=function(t,n,i,e,r){return t.filter(function(t){if(Qs(e,t))return!0;for(var s=1/0,u=0,o=t.I0;u<o.length;u++){var a,h,c=o[u];s=g.min(s,null!=(a=null!=(h=c.A$.l1)?h:c.A$.d1)?a:1/0)}s===1/0&&(s=1);var f=2*i.lD+t.vD*s/i.vD;return t.vD<=n.vD||r.w1>f})},RO=function(t,n,i,e,r){return Ms(t,function(t,n){return n.vD-t.vD})},CO=function(t,n,i,e,r){return t.every(function(t){return t._1&&!p(t._1)})?Ms(t,function(t,n){return n._1-t._1}):t},DO=function(t,n,i,e,r){return 0===e.length?t:Ms(t,function(t,n){var i=Qs(e,t)?1:0;return(Qs(e,n)?1:0)-i})},NO=function(t,n,i,e,r){return t.filter(function(t){return!t.kz||!n.kz||(t.kz.mz?!!n.kz.mz&&(t.kz.mz.split(".")[0]===n.kz.mz.split(".")[0]&&(t.kz.yz?!!n.kz.yz&&(t.kz.yz.split(".")[0]===n.kz.yz.split(".")[0]&&t.kz.pz===n.kz.pz):!n.kz.yz)):!n.kz.mz)})},PO=function(t,n,e,r,s){return function(t,n){if(!i.Hr.wn)return t;for(var e=0;e<t.length;e++){var r,s,u,o,a=t[e],h=null!=(r=null==(s=a.h0)?void 0:s.ST)?r:0,c=null!=(u=null==(o=a.h0)?void 0:o.Xk)?u:0;if(h===n.ST&&c===n.Xk)return t.slice(e,t.length);if(h<n.ST||c<n.Xk)return t.slice(0===e?e:e-1,t.length)}return[]}(t,s)};var xO,BO,OO,LO,MO=function(){function t(t){this.g1=[NO,EO,IO,RO,PO,CO,DO],this.sP=t}var n=t.prototype;return n.m1=function(t){this.g1=t},n.b1=function(t,n,i,e){var r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(this.A1(t,n,i,e));case 2:return r=s.sent,s.abrupt("return",r[0]);case 4:case"end":return s.stop()}},null,this,null,qe)},n.A1=function(t,n,i,e){var r,s,u,o,a,h,c;return Fr.async(function(f){for(;;)switch(f.prev=f.next){case 0:if(0!==t.length){f.next=2;break}throw new l("AbrEvaluator - Unable to select optimal variant stream from an empty list.");case 2:fO.w0("AbrEvaluator","Performing optimal variant stream selection."),r=this.T1,s=t,u=0,o=this.g1;case 6:if(!(u<o.length)){f.next=19;break}if(a=o[u],h=a(s,n,r,i,e),!Array.isArray(h)){f.next=13;break}s=h,f.next=16;break;case 13:return f.next=15,Fr.awrap(h);case 15:s=f.sent;case 16:u++,f.next=6;break;case 19:if(0!==s.length){f.next=23;break}return fO._0("AbrEvaluator","No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),c=tu(t,function(t){return t.vD}),f.abrupt("return",[c]);case 23:return f.abrupt("return",s);case 24:case"end":return f.stop()}},null,this,null,qe)},T(t,[{key:"T1",get:function(){return this.sP.OL}}]),t}();function jO(t,n){return[t,void 0!==n?t+n-1:Mt]}function FO(t){return Boolean(t.mT)}function UO(t){return Boolean(t.S1)}function HO(t){return t?t.E1?t.Ti+"@"+t.E1.oC+"-"+(null!=(n=t.E1.M_)?n:""):""+t.Ti:"";var n}function XO(t,n){if(n===t)return!0;if(n.Ti!==t.Ti)return!1;if(!t.E1)return!0;if(n.E1){var i=jO(t.E1.oC,t.E1.M_),e=jO(n.E1.oC,n.E1.M_);return i[0]<=e[0]&&i[1]>=e[1]}return!1}function zO(t,n){return t===n||t.Ti===n.Ti&&(t.E1&&n.E1?t.E1.oC===n.E1.oC&&t.E1.M_===n.E1.M_:t.E1===n.E1)}function VO(t){var n=!!t.I1||void 0;return{Y_:t.Y_,R1:t.R1,RN:t.RN,D1:t.D1,nm:t.nm,N1:t.N1,I1:n,C1:t.P1,B1:t.O1,L1:t.L1,M1:t.M1}}function WO(t,n,i,e){var r=[],s=Ws(i,function(t){return t.U1===Jr});if(void 0!==s){var u=s.Ti?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.Ti.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var a=i[o];if(a.U1!==Jr)for(var h=0,c=_s(a.U1);h<c.length;h++){var f=c[h];r.push({hc:f,gD:a.X1?[a.X1]:[],PR:void 0})}}if(r.length)return{yI:t,H1:{F1:u,kI:s.kI},z1:r,V1:n===gp.Cd?e.slice():[],W1:n===gp.Pd?e.slice():[],NY:!1}}}}function qO(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=Xr();return GO(e,r,t.z1),GO(e,r,n.z1),{yI:t.yI,H1:{F1:t.H1.F1,kI:null!=(i=t.H1.kI)?i:n.H1.kI},z1:e,V1:$O(t.V1,n.V1,Qs),W1:$O(t.W1,n.W1,Qs),NY:t.NY||n.NY||!1}}function GO(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.hc.Ts,u=void 0;n.has(s)?(u=n.get(s)).gD=$O(u.gD,r.gD,YO):(u=Ur({},r),t.push(u),n.set(s,u))}}function $O(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function YO(t,n){for(var i=0;i<t.length;i++){if(qu(t[i],n))return!0}return!1}function QO(t,n){var i,e=t.G1;if(e){for(var r=t.DO,s=[],u=0,o=t.kz;u<o.length;u++){var a=o[u];s.push(r+'; codecs="'+a+'"')}i=WO(n||{},t._s,e,s)}for(var h=0,c=t.q1;h<c.length;h++){i=qO(i,ZO(c[h],n))}return i}function ZO(t,n){return WO(n||{},t._s,t.G1||[],[t.Gl])}function KO(t,n){switch(n._s){case Kr.fs:return t.widevine;case Kr.hs:return t.playready;case Kr.ls:return t.fairplay;case Kr.vs:return t.clearkey}}function JO(t,n,i){if(0!==t.length)return t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:i}})}function tL(t,n,i,e,r){var s,u,o,a,h,c,f,l,v;return Fr.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(t){d.next=2;break}return d.abrupt("return",[]);case 2:return s=n.filter(function(t){return ks(t,"audio")}),u=n.filter(function(t){return ks(t,"video")}),o=[],a=i.map(function(t){return nL(t,e,r)}),d.next=8,Fr.awrap(qe.all(a));case 8:for(h=d.sent.filter(H),c=eL(h,t.preferredKeySystems),f=0;f<c.length;f++)l=c[f],v=KO(t,l.hc),"cbcs",o.push({hc:l.hc,gD:l.gD,PR:l.PR,AN:[{initDataTypes:[l.hc.ys],audioCapabilities:JO(s,"cbcs",null==v?void 0:v.audioRobustness),videoCapabilities:JO(u,"cbcs",null==v?void 0:v.videoRobustness),persistentState:null==v?void 0:v.persistentState,distinctiveIdentifier:null==v?void 0:v.distinctiveIdentifier}]});return d.abrupt("return",o);case 12:case"end":return d.stop()}},null,null,null,qe)}function nL(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.N$){u.next=2;break}return u.abrupt("return");case 2:if(t.Y1){u.next=4;break}return u.abrupt("return");case 4:if(t.Od===OO.j1){u.next=6;break}return u.abrupt("return");case 6:if(e=iL(t.Y1)){u.next=9;break}return u.abrupt("return");case 9:if(e.Ts!==fs){u.next=13;break}return u.abrupt("return",{hc:e,gD:[],PR:t.N$});case 13:return fO.NT("HLSDrmUtils","Fetching key uri "+t.N$+"."),u.next=16,Fr.awrap(n.ld({wd:t.N$,Ud:i}));case 16:return r=u.sent,u.next=19,Fr.awrap(r.Vl());case 19:return s=u.sent,u.abrupt("return",{hc:e,gD:[s],PR:void 0});case 21:case"end":return u.stop()}},null,null,null,qe)}function iL(t){return t===os?ws:t===ss?ds:t===vs?ms:void 0}function eL(t,n){var i=function(t){var i=n.indexOf(t.hc.Ts);return i>=0?i:n.length};return Ms(t,function(t,n){return i(t)-i(n)})}function rL(t){if("#"!==t[0])throw new l("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function sL(t){return"#"!==t[0]?t:t.split(":",1)[0]}function uL(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new l("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function oL(t){var n=lL(uL(t));if(void 0===n)throw new l("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function aL(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,e=i.exec(t);null!==e;){var r=e[1],s=void 0;s=void 0!==e[3]?e[3]:e[2],null!==r?n[r]=s:fO._0(lO,"Ignoring unparsable M3U8 attribute name: "+t+"."),e=i.exec(t)}return n}function hL(t,n){var e,r,s=aL(t);try{e=s.URI?i.Ur(s.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return xO.Cd;case"VIDEO":return xO.Pd;case"SUBTITLES":return xO.wA;case"CLOSED-CAPTIONS":return xO.Q1}throw new l("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(s.TYPE)}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=s["GROUP-ID"],o=s.LANGUAGE,a=s["ASSOC-LANGUAGE"],h=s.NAME,c="YES"===s.DEFAULT,f="YES"===s.AUTOSELECT,v="YES"===s.FORCED,d=s["INSTREAM-ID"],w=s.CHARACTERISTICS,g=s.CHANNELS;if(u||fO._0(lO,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),o||fO._0(lO,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),h||fO._0(lO,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===xO.Q1?(e&&fO._0(lO,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),d?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(d)||fO._0(lO,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):fO._0(lO,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):d&&fO._0(lO,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!f&&(f=!0,s.AUTOSELECT&&fO._0(lO,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),r===xO.wA&&s.FORCED&&fO._0(lO,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===h)throw new l("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{Z1:a,K1:g,J1:w,I$:u,S$:f,T$:c,E$:v,R$:d,K_:o,_i:h,_s:r,N$:e}}function cL(t,n,e){var r,s,u,o=aL(t);try{r=i.Ur(e,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),e=Number(n[1]);if(p(i)||p(e))throw new l("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{Xk:i,ST:e}}(o.RESOLUTION),s=function(t){if(!t)return;for(var n,i,e,r=t.split(","),s=0;s<r.length;s++){var u=r[s],o=u.trim();As(o,"mp4a")?n="mp4a.40.05"===o?"mp4a.40.5":"mp4a.40.02"===o?"mp4a.40.2":o:"ac-3"===o||"ec-3"===o?n=o:As(o,"avc")||As(o,"hvc1")||As(o,"hev1")||As(o,"dvh")||As(o,"vp09")||As(o,"av01")?i=u:e=e?e+","+o:o}return{yz:n,mz:i,pz:e}}(o.CODECS)}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var a=lL(o.BANDWIDTH),h=lL(o["AVERAGE-BANDWIDTH"]),c=lL(o.SCORE),f=lL(o["FRAME-RATE"]),v=o["HDCP-LEVEL"],d=[];if(void 0!==o["ALLOWED-CPC"]){var w=o["ALLOWED-CPC"].split(",");d.push.apply(d,w.map(function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))}var g=o["VIDEO-RANGE"],m=o.AUDIO,y=o.VIDEO,_=o.SUBTITLES,b=o["CLOSED-CAPTIONS"];if(void 0===a?fO._0(lO,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==h&&h>a&&fO._0(lO,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),s||fO.NT(lO,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),s&&s.mz&&void 0===u&&fO.NT(lO,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===v||Qs(["TYPE-0","TYPE-1","NONE"],v)||fO._0(lO,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===g||Qs(["SDR","PQ","HLG"],g)||fO._0(lO,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===a)throw new l("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{n2:d,i2:m,QJ:h,vD:a,e2:b,kz:s,ZJ:f,s2:v,h0:u,_1:c,u2:_,N$:r,o2:y,a2:g}}function fL(t,n){var i=aL(t);if(!i.URI)throw new l("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return cL(t,n,i.URI)}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function lL(t){var n=Number(t);return p(n)?void 0:n}function vL(t,n){var i,e,r=aL(t);try{i=function(t){switch(t){case"NONE":return OO.jN;case"AES-128":return OO.h2;case"SAMPLE-AES":return OO.j1;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new l("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(r.METHOD),e=r.URI?bL(r.URI,n):void 0}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var s,u,o,a,h,c=r.KEYFORMAT,f=r.IV,v=r.KEYFORMATVERSIONS;if(i!==OO.jN){if(o=c||"identity","SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(iL(o)!==ws)throw new l("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");s=OO.j1}else s=i;u=e,a=f?Jo(f):void 0,h=v?v.split("/").map(function(t){return Number(t)}):[1]}else s=OO.jN,(e||c||v||f)&&fO._0(lO,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{Od:s,N$:u,c2:a,Y1:o,f2:h}}function dL(t){var n=uL(t);if(!n)return[void 0,""];var i=n.split(","),e=i[0],r=i[1];return[lL(e),r]}function wL(t,n){var i=t.split("@"),e=lL(i[0]),r=i.length>1?lL(i[1]):n;if(void 0===e||void 0===r)throw new l("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{oC:r,M_:e}}function gL(t){if(void 0!==t)return wL(t,void 0)}function mL(t,n){return wL(uL(t),n)}function yL(t,n){var i=aL(t);try{return{Ti:bL(i.URI,n),E1:gL(i.BYTERANGE)}}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function pL(t){var n=uL(t);if(!n)throw new l("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!Vt(i))throw new l("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function _L(t){var n,i,e,r=aL(t),s=r["START-DATE"],u=r["END-DATE"],o=lL(r["PLANNED-DURATION"]),a=lL(r.DURATION);void 0!==r["SCTE35-CMD"]&&(n=Jo(r["SCTE35-CMD"]).buffer),r["SCTE35-IN"]&&(i=Jo(r["SCTE35-IN"]).buffer),r["SCTE35-OUT"]&&(e=Jo(r["SCTE35-OUT"]).buffer);var h,c,f="YES"===r["END-ON-NEXT"],v=function(t){for(var n={},i=0,e=w.keys(t);i<e.length;i++){var r=e[i],s=t[r];void 0!==s&&As(r,"X-")&&(n[r]=s)}return n}(r),d=r.ID,g=r.CLASS;if(void 0===s)fO._0(lO,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+s+".");else if(h=new Date(s),c=void 0!==u?new Date(u):void 0,Vt(h)||fO._0(lO,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+h+"."),void 0!==a){var m=new Date(h.getTime()+1e3*a);c?c.getTime()!==m.getTime()&&(fO._0(lO,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),c=m):c=m}else c&&(a=(h.getTime()-c.getTime())/1e3);if(f&&(r.CLASS||fO._0(lO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),r.DURATION&&fO._0(lO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),c&&fO._0(lO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===d&&fO._0(lO,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===d||void 0===h)throw new l("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{Y_:d,R1:g,RN:h,D1:c,nm:a,N1:o,O1:n,M1:i,L1:e,I1:f,P1:v}}function bL(t,n){if(void 0===t)throw new l("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return i.Ur(t,n)}function kL(t,n){var i=aL(t),e=lL(i.DURATION),r=bL(i.URI,n),s=gL(i.BYTERANGE),u="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===e)throw new l("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{nm:e,N$:{Ti:r,E1:s},l2:u,d2:o}}function AL(t){var n=aL(t);return{w2:"YES"===n["CAN-BLOCK-RELOAD"],_2:lL(n["CAN-SKIP-UNTIL"]),g2:"YES"===n["CAN-SKIP-DATERANGES"],m2:lL(n["HOLD-BACK"]),b2:lL(n["PART-HOLD-BACK"])}}function TL(t,n){var i=aL(t);if(void 0===i.URI)throw new l("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var e=bL(i.URI,n),r=lL(i["LAST-MSN"]),s=lL(i["LAST-PART"]);if(void 0===r)throw new l("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{N$:e,A2:r,T2:s}}function SL(t,n){var i,e=aL(t),r=lL(e["SKIPPED-SEGMENTS"]),s=null==(i=e["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(!r)throw new l("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{S2:r,E2:s,I2:n}}function EL(t){var n=lL(aL(t)["PART-TARGET"]);if(void 0===n)throw new l("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function IL(t){switch(uL(t)){case"VOD":return LO.R2;case"EVENT":return LO.D2;default:return fO._0(lO,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),LO.md}}function RL(t,n){var i,e,r=aL(t);try{i=function(t){if(void 0===t)throw new l("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return BO.N2;if("PART"===t)return BO.C2;throw new l("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(r.TYPE),e=bL(r.URI,n)}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var s,u=lL(r["BYTERANGE-START"]),o=lL(r["BYTERANGE-LENGTH"]);return void 0===u&&void 0===o||(s={oC:u||0,M_:o}),{_s:i,N$:{Ti:e,E1:s}}}!function(t){t[t.Cd=0]="Cd",t[t.Pd=1]="Pd",t[t.wA=2]="wA",t[t.Q1=3]="Q1"}(xO||(xO={})),xO.Cd,xO.Pd,xO.wA,xO.Q1,function(t){t[t.N2=0]="N2",t[t.C2=1]="C2"}(BO||(BO={})),function(t){t[t.jN=0]="jN",t[t.h2=1]="h2",t[t.j1=2]="j1"}(OO||(OO={})),function(t){t[t.md=0]="md",t[t.R2=1]="R2",t[t.D2=2]="D2"}(LO||(LO={}));var CL=function(){function t(n){this.P2=0,this.B2=void 0,this.B2=t.O2(n)}var n=t.prototype;return n.L2=function(){var t=this.B2[this.P2];return this.P2+=1,t},n.M2=function(){return this.B2[this.P2]},n.Hu=function(){var n=new t("");return n.P2=0,n.B2=this.B2.slice(this.P2),n},t.O2=function(t){return t?t.split(/[\r\n]+/).map(function(t){return t.trim()}).filter(function(t){return t}):[]},t}();function DL(t,n,i){var e=t.N$,r=t.qA,s=t.U2,u=t.oC;switch(i){case"#EXT-X-VERSION":r=function(t){var n=oL(t);return p(n)?(fO._0(lO,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":s=!0;break;case"#EXT-X-START":u=function(t){var n=aL(t),i=lL(n["TIME-OFFSET"]);if(void 0===i)throw new l("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{X2:i,H2:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":fO._0(lO,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:fO.NT(lO,"Ignoring unrecognized line or comment: "+n+".")}return{N$:e,qA:r,U2:s,oC:u}}function NL(t,n){return t.map(function(t){return t.Od===OO.jN||t.c2?t:Ur({},t,{c2:PL(n)})})}function PL(t){var n=new DataView(new ArrayBuffer(16)),i=new Ko;return i.Mu(8),function(t,n,i,e){void 0===e&&(e=!1);var r=i.getHighBitsUnsigned(),s=i.getLowBitsUnsigned(),u=e?r:s;ko(t,n,e?s:r,e),ko(t,n,u,e)}(n,i,vt.fromNumber(t)),new _(n.buffer)}function xL(t,n,e){fO.NT(lO,"Parsing M3U8 playlist at "+t+".");var r=new CL(e);if("#EXTM3U"!==r.L2())throw new l("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(e)?function(t,n){var e,r;try{r=i.Ur(t)}catch(n){throw fO._0(lO,"The master playlist has no valid base URI: "+t+"."),new l("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var s={N$:r,U2:void 0,oC:void 0,qA:void 0},u=[],o=[],a=[],h=[];;){var c=n.L2();if(!c)break;try{var f=rL(c);switch(f){case"#EXT-X-MEDIA":var v=hL(c,r);u.push(v);break;case"#EXT-X-STREAM-INF":var d=cL(c,r,n.L2());o.push(d);break;case"#EXT-X-I-FRAME-STREAM-INF":var w=fL(c,r);a.push(w);break;case"#EXT-X-SESSION-DATA":fO._0(lO,"Ignoring unsupported #EXT-X-SESSION-DATA: "+c+".");break;case"#EXT-X-SESSION-KEY":var g=vL(c,r);h.push(g);break;default:s=DL(s,c,f)}}catch(t){fO._0(lO,"Ignoring unparsable line: "+c,t)}}var m=s.qA,y=null!=(e=s.U2)&&e,p=s.oC;return void 0===m&&(fO._0(lO,"The playlist has no #EXT-X-VERSION, assuming version is 2."),m=2),m>=8&&(o.some(function(t){return void 0!==t._1})||a.some(function(t){return void 0!==t._1}))&&(o.some(function(t){return void 0===t._1})||a.some(function(t){return void 0===t._1}))&&fO._0(lO,"If one master playlist variant stream has a SCORE, all variants should have it."),{N$:r,qA:m,U2:y,oC:p,F2:a,z2:h,mT:u,V2:o}}(t,r):function(t,n,e){var r,s,u,o,a,h,c,f,v,d,w,g,m,y,p,_,b,k,A,T={N$:t,U2:void 0,oC:void 0,qA:void 0},S=[],E=!1,I=!1,R=[],C=Xr(),D=[],N=[],P=!1,x=!1,B=[],O=[],L=0,M=!1,j=LO.md,F=!1,U=0;try{A=i.Ur(t)}catch(n){throw fO._0(lO,"The media playlist has no valid base URI: "+t+".",n),new l("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var H=e.Hu();void 0===_||void 0===b;){var X=H.L2();if(!X)break;try{switch(sL(X)){case"#EXT-X-MEDIA-SEQUENCE":_=oL(X);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":b=oL(X)}}catch(t){fO._0(lO,"Ignoring unparsable line: "+X,t)}}void 0===_&&(fO.NT(lO,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),_=0),void 0===b&&(fO.NT(lO,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),b=0);for(var z=_,V=b;;){var W=e.L2();if(!W)break;var q=!1;try{var G=sL(W);switch(G){case"#EXTINF":q=!0;var $=dL(W);h=$[0],c=$[1];break;case"#EXT-X-BYTERANGE":q=!0,(f=mL(W,L))&&(L=f.oC+f.M_);break;case"#EXT-X-DISCONTINUITY":q=!0,P=!0,V++;break;case"#EXT-X-KEY":var Y,Q;q=!0;var Z=vL(W,A);if(Z.Od===OO.jN){C.clear(),y=void 0;break}var K=null!=(Y=null==(Q=Z.Y1)?void 0:Q.toString())?Y:"identity";C.set(K,Z),Z.Od===OO.h2&&(y=Z);break;case"#EXT-X-MAP":q=!0,d=yL(W,A),w=y;break;case"#EXT-X-PROGRAM-DATE-TIME":q=!0,g=pL(W);break;case"#EXT-X-GAP":q=!0,x=!0;break;case"#EXT-X-BITRATE":q=!0,m=oL(W);break;case"#EXT-X-TARGETDURATION":s=oL(W);break;case"#EXT-X-DATERANGE":var J=_L(W);S.push(J);break;case"#EXT-X-PART":q=!0;var tt=kL(W,A);N.push(tt);break;case"#EXT-X-PRELOAD-HINT":var nt=RL(W,A);B.push(nt);break;case"#EXT-X-SKIP":R.length>0&&fO._0(lO,"#EXT-X-SKIP must appear before any #EXTINF tags."),q=!0;var it=SL(W,z);U=it.S2,k=it.E2,z+=it.S2;break;case"#EXT-X-SERVER-CONTROL":var et=AL(W);E=et.w2,u=et._2,I=et.g2,o=et.m2,a=et.b2;break;case"#EXT-X-RENDITION-REPORT":var rt=TL(W,A);O.push(rt);break;case"#EXT-X-PART-INF":p=EL(W);break;case"#EXT-X-MEDIA-SEQUENCE":q&&fO._0(lO,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":q&&fO._0(lO,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":M=!0;break;case"#EXT-X-PLAYLIST-TYPE":j=IL(W);break;case"#EXT-X-I-FRAMES-ONLY":F=!0;break;default:if(As(G,"#"))T=DL(T,W,G);else{v=i.Ur(W,A);var st=d?{N$:d,W2:w}:void 0,ut={z2:NL(Wr(C),z),RE:D,G2:N,nm:h,vN:c,q2:P,N$:{E1:f,Ti:v},Y2:st,j2:g,d2:x,Q2:m,I2:z,Z2:V};R.push(ut),z++,D=[],N=[],h=void 0,c=void 0,P=!1,f=void 0,v=void 0,g=void 0,x=!1,m=void 0}}}catch(t){fO._0(lO,"Ignoring unparsable line: "+W,t)}}if(N.length){var ot=d?{N$:d,W2:y}:void 0,at={z2:NL(Wr(C),z),RE:D,G2:N,nm:h,vN:c,q2:P,N$:void 0,Y2:ot,j2:g,d2:x,Q2:m,I2:z,Z2:V};R.push(at)}var ht=T.qA,ct=null!=(r=T.U2)&&r,ft=T.oC;void 0===ht&&(fO._0(lO,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),ht=2),void 0===s&&fO._0(lO,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var lt=R.length,vt=lt>0;vt||fO._0(lO,"The HLS media playlist contains no segments.");var dt=vt&&R[lt-1].G2.length>0;return dt&&void 0===p&&fO._0(lO,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===a&&fO._0(lO,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{w2:E,_2:u,g2:I,K2:S,Z2:b,J2:M,U2:ct,m2:o,n3:F,I2:_,S2:U,b2:a,l1:p,i3:j,e3:B,E2:k,r3:O,s3:s,S1:R,oC:ft,N$:A,u3:n,qA:ht}}(t,n,r)}var BL=function(){function t(t,n,i){var e,r,s,u;this.Y_=OL++,this.A$=void 0,this.vD=void 0,this._1=void 0,this.h0=void 0,this.ZJ=void 0,this.i2=void 0,this.o2=void 0,this.u2=void 0,this.e2=void 0,this.o3=void 0,this.a3=void 0,this.h3=[],this.A$=n,this.vD=t.vD,this.o3=t.QJ,this._1=t._1,this.a3=t.kz?LL(t.kz):void 0,this.h0=t.h0,this.ZJ=t.ZJ,this.i2=null!=(e=t.i2)?e:"c3"+this.Y_,this.o2=null!=(r=t.o2)?r:"f3"+this.Y_,this.u2=null!=(s=t.u2)?s:"v3"+this.Y_,this.e2=null!=(u=t.e2)?u:"l3"+this.Y_,this.h3=i}var n=t.prototype;return n.d3=function(t){for(var n=0,i=this.h3;n<i.length;n++){var e=i[n].A$.d3(t);if(void 0!==e)return e}},n.w3=function(t){for(var n=0,i=this.h3;n<i.length;n++){var e=i[n].A$.w3(t);if(void 0!==e)return e}},n._3=function(t){$s(this.h3,t)},T(t,[{key:"N$",get:function(){return this.A$.N$}},{key:"kz",get:function(){return this.a3},set:function(t){this.a3=t?LL(t):void 0}},{key:"QJ",get:function(){return this.o3||this.vD}},{key:"g3",get:function(){var t,n;if(!this.h3.length)return TS.qC();var i=null!=(t=nu(this.h3,function(t){var n;return null!=(n=t.A$.m3)?n:0}))?t:this.I0[0],e=i.A$.S1;if(!e.length||e.length<2)return TS.qC();var r=i.A$.J2?e[0].ck:e[1].ck,s=e[e.length-1],u=s.ck+(null!=(n=s.nm)?n:s.y3)-this.I0.reduce(function(t,n){var i,e;return g.max(null!=(i=null!=(e=n.A$.b2)?e:n.A$.m2)?i:0,t)},0);return u<r?TS.qC():new TS([r,u])}},{key:"I0",get:function(){return this.h3}},{key:"A0",get:function(){return this.h3.filter(function(t){return t._s===xO.Cd})}},{key:"T0",get:function(){return this.h3.filter(function(t){return t._s===xO.Pd})}},{key:"b3",get:function(){return this.h3.filter(function(t){return t._s===xO.wA})}},{key:"A3",get:function(){return this.h3.filter(function(t){return t._s===xO.Q1})}}]),t}(),OL=0;function LL(t){return Ur({},t,{mz:t.mz?Wc(t.mz):void 0})}var ML=function(){function t(t,n,i,e,r){this.T3=void 0,this.S3=void 0,this.nm=void 0,this.N$=void 0,this.l2=void 0,this.d2=void 0,this.E3=void 0,this.Ak=void 0,this.mJ=void 0,this.I3=void 0,this.T3=t,this.S3=n,this.Ak=i,this.E3=e,this.nm=r.nm,this.N$=r.N$,this.l2=r.l2,this.d2=r.d2}return t.prototype.R3=function(t,n){this.Ak=t,this.E3=n},T(t,[{key:"ck",get:function(){var t;return this.Ak+(null!=(t=this.I3)?t:0)}},{key:"D3",get:function(){return this.E3}},{key:"z2",get:function(){return this.T3.z2}}]),t}();function jL(t){return void 0!==t.G2}var FL,UL=function(){function t(t,n,i,e,r){this.ma=void 0,this.j2=void 0,this.N3=void 0,this.Y2=void 0,this.d2=void 0,this.C3=void 0,this.E3=void 0,this.I2=void 0,this.q2=void 0,this.Z2=void 0,this.z2=void 0,this.Ak=void 0,this.mJ=void 0,this.P3=[],this.B3=0,this.O3=void 0,this.Ak=t,this.Y2=r.Y2,this.C3=i,this.E3=e,this.ma=r.nm,this.j2=r.j2,this.N3=r.N$,this.d2=r.d2,this.I2=r.I2,this.q2=r.q2,this.Z2=n,this.z2=r.z2,this.x3(r.G2)}var n=t.prototype;return n.L3=function(t){return this.P3[t]},n.M3=function(t){for(var n=0;n<this.P3.length;n++){var i=this.P3[n],e=i.ck,r=e+i.nm;if(e<=t&&t<=r)return t===r&&n+1<this.P3.length?this.P3[n+1]:i}},n.U3=function(t){for(var n=this.P3.length-1;n>=0;n--){var i=this.P3[n];if(i.ck<=t)return i}},n.X3=function(t){for(var n=this.U3(t);n&&!n.l2&&n.S3>0;)n=this.L3(n.S3-1);return n},n.R3=function(t,n,i){var e=t.G2.length!==this.P3.length||i!==this.E3;this.C3=n,this.E3=i,this.ma=t.nm,null!=this.j2||(this.j2=t.j2),void 0===this.N3&&(this.N3=t.N$),e&&this.x3(t.G2)},n.x3=function(t){this.P3.length>t.length&&(this.P3.length=t.length);for(var n=0,i=0;i<t.length;i++){var e=t[i],r=!!this.E3&&i===t.length-1,s=this.Ak+n;if(i<this.P3.length)this.P3[i].R3(s,r);else{var u=new ML(this,i,s,r,e);this.P3.push(u)}n+=e.nm}this.B3=n},n.H3=function(){Zs(this.P3),this.B3=0},T(t,[{key:"ck",get:function(){var t;return this.Ak+(null!=(t=this.O3)?t:0)}},{key:"F3",get:function(){return this.Ak}},{key:"nm",get:function(){return this.ma}},{key:"N$",get:function(){return this.N3}},{key:"z3",get:function(){return this.C3}},{key:"D3",get:function(){return this.E3}},{key:"G2",get:function(){return this.P3}},{key:"y3",get:function(){return this.B3}},{key:"I3",get:function(){return this.O3},set:function(t){this.O3=t;for(var n=0,i=this.P3;n<i.length;n++){i[n].I3=t}}}]),t}();!function(t){t.V3="YES",t.W3="v2"}(FL||(FL={}));var HL=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(nn);var XL=function(t){function n(n,i){var e,r=zL(i,n.nm,n.RN,n.D1);return(e=t.call(this,i,r,void 0,!1,n.Y_)||this).G3=void 0,e.q3=void 0,e.Y3=void 0,e.ma=void 0,e.j3=void 0,e.Q3=void 0,e.Z3=void 0,e.K3=void 0,e.J3=void 0,e.t4=void 0,e.G3=n.R1,e.q3=n.RN,e.Y3=n.D1,e.ma=n.nm,e.j3=n.N1,e.Q3=Boolean(n.I1),e.Z3=n.C1||{},e.K3=n.B1,e.J3=n.L1,e.t4=n.M1,e.n4(),e.i4(),e}E(n,t);var i=n.prototype;return i.tc=function(t){var n=!1;void 0===this.G3&&void 0!==t.R1&&(n=!0,this.G3=t.R1),void 0===this.Y3&&void 0!==t.D1&&(n=!0,this.Y3=t.D1),void 0===this.ma&&void 0!==t.nm&&(n=!0,this.ma=t.nm),void 0===this.j3&&void 0!==t.N1&&(n=!0,this.j3=t.N1),!this.Q3&&t.I1&&(n=!0,this.Q3=t.I1),n=this.updateCustomAttributes(t,n),void 0===this.K3&&void 0!==t.B1&&(n=!0,this.K3=t.B1),void 0===this.J3&&void 0!==t.L1&&(n=!0,this.J3=t.L1),void 0===this.t4&&void 0!==t.M1&&(n=!0,this.t4=t.M1),this.n4(),this.i4(),this.e4(),n&&this.$s(new qp(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.C1)for(var e=0,r=w.keys(t.C1);e<r.length;e++){var s=r[e];void 0===this.Z3[s]&&(i=!0,this.Z3[s]=t.C1[s])}return i},i.n4=function(){this.ma&&!this.Y3&&(this.Y3=new Date(this.q3.getTime()+Gt(this.ma)))},i.i4=function(){this.Y3&&!this.ma&&(this.ma=qt(this.Y3.getTime()-this.q3.getTime()))},i.e4=function(){this.Tk===1/0&&(this.Y3||this.ma)&&(this.Tk=zL(this.Ak,this.ma,this.q3,this.Y3))},T(n,[{key:"o_",get:function(){var t;return this.u_||(this.u_=km(zp(t=this),{get content(){return t.vk},get class(){return t.R1},get startDate(){return t.RN},get endDate(){return t.D1},get duration(){return t.nm},get plannedDuration(){return t.N1},get endOnNext(){return t.I1},get scte35Cmd(){return t.B1},get scte35Out(){return t.L1},get scte35In(){return t.M1},get customAttributes(){return t.C1}})),this.u_}},{key:"R1",get:function(){return this.G3}},{key:"RN",get:function(){return this.q3}},{key:"D1",get:function(){return this.Y3}},{key:"nm",get:function(){return this.ma}},{key:"N1",get:function(){return this.j3}},{key:"I1",get:function(){return this.Q3}},{key:"B1",get:function(){return this.K3}},{key:"L1",get:function(){return this.J3}},{key:"M1",get:function(){return this.t4}},{key:"C1",get:function(){return this.Z3}}]),n}(Qp);function zL(t,n,i,e){return H(n)?t+n:e?t+(qt(e.getTime())-qt(i.getTime())):1/0}var VL=function(t){function n(){return t.call(this,void 0,void 0,Pp.DATE_RANGE)||this}E(n,t);var i=n.prototype;return i.tc=function(t,n){WL(this,qL(t),n)},i.KE=function(n){var i,e,r;i=this._g.L_,e=n,(r=qs(i,function(t){return t.R1===e.R1}))&&r.I1&&r.tc({Y_:r.Y_,D1:e.RN}),t.prototype.KE.call(this,n)},n}(MP);function WL(t,n,i){for(var e=t._g.L_,r=function(i){var r=e[i],s=Ws(n,function(t){return t.Y_===r.Y_});s?r.tc(s):t.UE(r)},s=e.length-1;s>=0;s--)r(s);for(var u=0;u<n.length;u++){var o=n[u],a=o.RN;if(void 0!==a&&!t.GG(o.Y_)){var h=i(a);t.KE(new XL(o,h))}}}function qL(t){for(var n=Xr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.Y_)){var s=n.get(r.Y_),u=Ur({},s,Em(r),{C1:Ur({},s.C1,r.C1)});n.set(r.Y_,u)}else n.set(r.Y_,r),i.push(r.Y_)}return i.map(function(t){return n.get(t)})}var GL=String.fromCharCode(95),$L=GL+"HLS_msn",YL=GL+"HLS_part",QL=GL+"HLS_skip",ZL=function(){function t(t,n){this.N$=void 0,this.r4=void 0,this.s4=void 0,this.u4=void 0,this.o4=void 0,this.a4=void 0,this.h4=void 0,this.c4=void 0,this.f4=[],this.v4=[],this.O3=void 0,this.l4=!1,this.d4=void 0,this.w4=!1,this._4=LO.md,this.sG=TS.qC(),this.g4=TS.qC(),this.ma=void 0,this.m4=-1/0,this.DE=void 0,this.y4=void 0,this.N$=t,this.DE=n}var n=t.prototype;return n.a0=function(t){if(!t)return this.N$;var n=i.Mr(this.N$);return void 0!==t.I2&&n.searchParams.append($L,String(t.I2)),void 0!==t.b4&&n.searchParams.append(YL,String(t.b4)),void 0!==t.NA&&n.searchParams.append(QL,t.NA),n.href},n.A4=function(t){return Ws(this.f4,function(n){return n.I2===t})},n.T4=function(t){for(var n=0;n<this.f4.length;n++){var i,e=this.f4[n],r=e.ck,s=r+(null!=(i=e.nm)?i:e.y3);if(r<=t&&t<=s)return t===s&&n+1<this.f4.length?this.f4[n+1]:e}},n.d3=function(t){var n=this.S4();if(void 0!==n)return new Date(1e3*t+n)},n.w3=function(t){var n=this.S4();if(void 0!==n)return(t.getTime()-n)/1e3},n.S4=function(){for(var t=this.S1,n=t.length-1;n>=0;n--){var i=t[n];if(void 0!==i.j2)return i.j2.getTime()-1e3*i.ck}},n.E4=function(t){switch(t){case BO.N2:return this.s4;case BO.C2:return this.u4;default:return}},n.R3=function(t){var n;void 0===this.o4&&(this.o4=null!=(n=t.s3)?n:this.I4(t));void 0===this.h4&&void 0!==t.m2&&(this.h4=t.m2),void 0===this.a4&&void 0!==t.l1&&(this.a4=t.l1),void 0===this.c4&&void 0!==t.b2&&(this.c4=t.b2),this.l4=t.w2,this.d4=t._2,this.w4=t.g2,this._4=t.i3,this.R4(t),this.D4(t);var e=Ws(t.e3,function(t){return t._s===BO.N2}),r=Ws(t.e3,function(t){return t._s===BO.C2});this.s4=e?{N$:e.N$,_s:e._s,Z2:t.Z2}:void 0,this.u4=r?{N$:r.N$,_s:r._s,Z2:t.Z2}:void 0,this.r4=i.wr()/1e3,this.g4=this.N4(),this.sG=this.C4(this.g4),this.ma=this.P4(),null!=this.DE||(this.DE=t.oC)},n.N4=function(){var t,n=this.S1;if(0===n.length)return TS.qC();var i=n[0].ck,e=n[n.length-1],r=e.ck,s=null!=(t=e.nm)?t:e.y3;return new TS([i,r+s])},n.C4=function(t){var n,i;if(0===t.M_||this.J2)return t;var e=t.oC(0),r=t.hC(0)-(null!=(n=null!=(i=this.b2)?i:this.m2)?n:0);return r<e?TS.GC(e):new TS([e,r])},n.P4=function(){return 0===this.f4.length?0:this.J2?(t=this.f4,n=function(t){var n;return null!=(n=t.nm)?n:t.y3},t.reduce(function(t,i){return t+n(i)},0)):1/0;var t,n},n.I4=function(t){for(var n,i=0,e=t.S1;i<e.length;i++){var r=e[i];if(void 0!==r.nm){var s=g.max(1,g.round(r.nm));(void 0===n||n<s)&&(n=s)}}if(void 0===n)throw new l("HLSModel - Could not determine required segment target duration.");return n},n.R4=function(t){if(0===t.S1.length)return Zs(this.f4),void this.B4();var n=this.O4(t);if(n){var i,e,r;n.x4>0&&this.f4.splice(0,n.x4);var s=t.S2;if(s>0){if(s>this.f4.length)throw new HL("New playlist skips over missing segments.");var u=this.f4[s-1];if(void 0===u.nm)throw new HL("New playlist skips over an incomplete segment.");i=u.F3+u.nm,r=u.Z2-t.Z2,e=s;for(var o=0;o<s;o++)this.f4[o].H3()}else i=n.L4,r=0,e=0;for(var a=0;a<t.S1.length;a++,e++){var h=t.S1[a],c=0===a,f=t.J2&&a===t.S1.length-1,l=h.nm,v=h.Z2+r;if(e<this.f4.length){var d=this.f4[e];0,d.R3(h,c,f)}else{var w=h;if(this.f4.length>0&&void 0===w.Y2)w=Ur({},w,{Y2:this.f4[this.f4.length-1].Y2});var g=new UL(i,v,c,f,w);g.I3=this.O3,this.f4.push(g)}void 0!==l&&(i+=l)}}},n.O4=function(t){if(0===this.f4.length)return{x4:0,L4:0};var n=this.f4[0].I2,i=this.f4[this.f4.length-1].I2,e=t.S1[0].I2-t.S2,r=t.S1[t.S1.length-1].I2,s=0,u=0;if(e<n)fO._0("HLSMediaPlaylist","Ignoring older playlist (first media sequence number is "+e+", but previous playlist already started at "+n+")");else{if(!(r<i)){if(i<e){var o;u=null!=(o=function(t,n){var i=qs(t,function(t){return void 0!==t.j2});if(void 0===i)return;var e=function(t){for(var n=0,i=0;i<t.length;i++){var e,r=t[i];if(r.q2)return;if(r.j2)return[r,n];n+=null!=(e=r.nm)?e:0}return}(n.S1);if(void 0===e)return;var r=e[0],s=e[1];if(i.Z2!==r.Z2)return;var u=(r.j2.getTime()-i.j2.getTime())/1e3;return i.F3+u-s}(this.f4,t))?o:(h=this.f4,c=this.o4,l=h[h.length-1],v=null!=(f=l.nm)?f:g.max(c,l.y3),l.F3+v),fO.w0("HLSMediaPlaylist","New playlist (starting at "+e+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+u+"s"),s=this.f4.length,this.B4()}else{0;var a=Gs(this.f4,function(t){return t.I2===e});0,u=this.f4[a].F3,a>0&&(s=a)}var h,c,f,l,v;return{x4:s,L4:u}}fO._0("HLSMediaPlaylist","Ignoring older playlist (last media sequence number is "+r+", but previous playlist already ended at "+i+")")}},n.D4=function(t){var n=this,i=t.K2.map(VO);if(t.g2&&t.u3.NA===FL.W3&&(i=this.v4.concat(i)),this.v4=qL(i),t.E2)for(var e=function(t,i){var e=i[t],r=Gs(n.v4,function(t){return t.Y_===e});r>=0&&Ys(n.v4,r)},r=0,s=t.E2;r<s.length;r++)e(r,s)},n.M4=function(t,n){if(this.O3!==t){this.O3=t;for(var i=0,e=this.f4;i<e.length;i++){e[i].I3=this.O3}}this.y4=n},n.B4=function(){this.O3=void 0,this.y4=void 0},T(t,[{key:"J2",get:function(){return Boolean(Ws(this.f4,function(t){return t.D3}))}},{key:"nm",get:function(){return this.ma}},{key:"Ly",get:function(){return this.sG}},{key:"U4",get:function(){return this.g4}},{key:"d1",get:function(){return this.o4}},{key:"l1",get:function(){return this.a4}},{key:"m2",get:function(){return this.J2?0:this.h4?this.h4:this.o4?3*this.o4:void 0}},{key:"b2",get:function(){var t;return null!=(t=this.c4)?t:this.a4?3*this.a4:void 0}},{key:"X4",get:function(){var t,n,i;if(!this.J2&&0!==this.f4.length){var e=this.f4[this.f4.length-1],r=null!=(t=e.nm)?t:e.y3,s=null!=(n=null!=(i=this.b2)?i:this.m2)?n:0;return e.ck+r-s}}},{key:"w2",get:function(){return this.l4}},{key:"_2",get:function(){return this.d4}},{key:"g2",get:function(){return this.w4}},{key:"i3",get:function(){return this._4}},{key:"H4",get:function(){return void 0!==this.l1}},{key:"F4",get:function(){if(this.J2)return!0;var t=i.wr()/1e3,n=this.m3,e=this.z4;return void 0!==n&&t-n<e}},{key:"m3",get:function(){return this.r4}},{key:"I3",get:function(){return this.O3}},{key:"z4",get:function(){var t;return null!=(t=this.o4)?t:1}},{key:"S1",get:function(){return this.f4}},{key:"K2",get:function(){return this.v4}},{key:"V4",get:function(){return this.m4},set:function(t){this.m4=t}},{key:"oC",get:function(){return this.DE}},{key:"W4",get:function(){return this.y4}}]),t}();var KL=function(){function t(){this.G4=[],this.q4=zr()}var n=t.prototype;return n.Y4=function(t){var n=this.q4.get(t);return void 0!==n&&JL(n)},n.j4=function(t){return this.Z4(t).Q4.Gu},n.K4=function(t){var n=this.q4.get(t);if(!n||!JL(n))throw new l("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.J4=function(t){return this.K4(t).gb},n.t6=function(t,n){var i=jL(n)?n:n.T3,e=this.K4(i.Z2),r=t.Hy(e.gb);if(e.n6){var s=g_.Gp(n.ck).Jk(r);if(s.Qk().zk(k_)){var u=g.round(s.Fk()/b_.Fk());r=r.Hy(b_.Ip(u))}}return r},n.i6=function(t,n){return this.t6(t,n).Jk(t)},n.e6=function(t,n,i,e,r){var s=this.Z4(t);void 0===s.gb&&(s.r6.some(function(t){return t.s6===n})||(s.r6.push({s6:n,u6:i,o6:e.Xp(i.Op),n6:r}),this.a6(s)))},n.a6=function(t){if(!t.gb&&this.h6(t)){var n=iu(t.r6,tM);Zs(t.r6),t.gb=n.o6.Jk(n.u6),t.n6=n.n6,t.Q4.Qu()}},n.h6=function(t){return this.G4.length>0&&this.G4.every(function(n){return t.r6.some(function(t){return t.s6===n})})},n.Z4=function(t){if(this.q4.has(t))return this.q4.get(t);var n={gb:void 0,n6:!1,Q4:new ta,r6:[]};return this.q4.set(t,n),n},n.c6=function(t){var n=this;this.G4=t,this.q4.forEach(function(t){return n.a6(t)})},n.Xs=function(){this.q4.forEach(function(t){return t.Q4.Gs()}),this.q4.clear()},t}();function JL(t){return void 0!==t.gb}function tM(t,n){return t.n6||n.n6?(i=t.u6,e=n.u6,r=i.Jk(e),i.tp()||e.tp()?r:(r.Wk(k_)?r=r.Jk(b_):r.jk(k_.Kk())&&(r=r.Hy(b_)),r)).Vk(g_.ap):t.u6.Vk(n.u6);var i,e,r}var nM=function(){function t(t){this.f6=[],this.v6=[],this.l6=Xr(),this.d6=new KL,this.w6=t}var n=t.prototype;return n.R3=function(t,n){if(UO(t))if(0===this.f6.length)this._6(t);else{if(!n)return void fO._0("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.A$.R3(t)}else{if(0!==this.f6.length)return void fO._0("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.g6(t)}},n._6=function(t){var n=this.m6(t.N$);n.R3(t);var i=this.y6(xO.Cd,n),e=this.y6(xO.Pd,n),r=new BL({N$:n.N$,vD:0,QJ:0,_1:NaN,kz:void 0,h0:void 0,ZJ:0,n2:[],s2:void 0,a2:void 0,i2:void 0,o2:void 0,u2:void 0,e2:void 0},n,[i,e]);this.f6.push(r)},n.g6=function(t){var n,i=this;(n=this.v6).push.apply(n,t.z2);for(var e=this.k6(t),r=function(n,r){var s=r[n],u=e.filter(function(t){return function(t,n){return iM(t._s,t.I$,n)&&(!t.D$||t.A$.N$===n.N$)}(t,s)});i.p6(s,u);var o=new BL(s,i.m6(s.N$,t.oC),u);i.f6.push(o)},s=0,u=t.V2;s<u.length;s++)r(s,u)},n.m6=function(t,n){var i=this.l6.get(t);return void 0===i&&(i=new ZL(t,n),this.l6.set(t,i)),i},n.k6=function(t){for(var n=[],i=0,e=t.mT;i<e.length;i++){var r=e[i];if(void 0===r.N$)for(var s=0,u=t.V2;s<u.length;s++){var o=u[s];if(iM(r._s,r.I$,o)){var a=new VB(r,this.m6(o.N$));n.push(a)}}else{var h=new VB(r,this.m6(r.N$));n.push(h)}}return n},n.y6=function(t,n){return new VB({_s:t,N$:void 0,I$:"",K_:void 0,Z1:void 0,_i:"",T$:!0,S$:!1,E$:!1,J1:void 0,R$:void 0,K1:void 0},n)},n.p6=function(t,n){var i=n.filter(function(t){return t._s===xO.Cd}),e=n.filter(function(t){return t._s===xO.Pd}),r=t.kz&&(t.kz.mz||t.kz.yz);if((!r||t.kz.mz)&&0===e.length){var s=this.y6(xO.Pd,this.m6(t.N$));n.push(s)}if((!r||t.kz.yz)&&0===i.length){var u=this.y6(xO.Cd,this.m6(t.N$));n.push(u)}t.kz&&t.kz.pz},n.b6=function(t){for(var n=0,i=this.f6;n<i.length;n++)for(var e=0,r=i[n].I0;e<r.length;e++){var s=r[e];if(s===t)return s}},n.A6=function(t){for(var n=0,i=this.f6;n<i.length;n++){var e=i[n];if(e===t)return e}},n.T6=function(t){for(var n=0,i=this.f6;n<i.length;n++){var e=i[n];if(Qs(e.I0,t))return e}},n.Xs=function(){Zs(this.f6),Zs(this.v6),this.l6.clear(),this.d6.Xs()},T(t,[{key:"S6",get:function(){return this.v6}},{key:"b0",get:function(){return this.f6}},{key:"AE",get:function(){return this.d6}}]),t}();function iM(t,n,i){switch(t){case xO.Cd:return i.i2===n;case xO.Pd:return i.o2===n;case xO.wA:return i.u2===n;case xO.Q1:return i.e2===n}return!1}var eM,rM=function(t){function n(n){var i;return(i=t.call(this,eM.E6)||this).j$=n,i}return E(n,t),n}(Eu),sM=function(t){function n(n){var i;return(i=t.call(this,eM.I6)||this).j$=n,i}return E(n,t),n}(Eu),uM=function(t){function n(){return t.call(this,Bf.Mf)||this}return E(n,t),n}(Eu),oM="HlsModelUpdater";!function(t){t.E6="R6",t.I6="D6"}(eM||(eM={}));var aM=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).N6=void 0,s.C6=!1,s.P6=void 0,s.B6=void 0,s.O6=zr(),s.qE=n,s.x6=i,s.L6=e,s.rootURI=r,s.N6=new nM(r),s}E(n,t);var e=n.prototype;return e.M6=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.N6.w6){e.next=3;break}throw new l("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");case 3:return this.$s(new ZC),e.next=6,Fr.awrap(this.U6(n,{},2,t));case 6:if(FO(i=e.sent)||UO(i)){e.next=9;break}throw new l("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");case 9:return FO(i)||fO.NT(oM,"Detected media playlist only HLS stream."),this.X6(i),e.next=13,Fr.awrap(this.H6(t));case 13:this.C6=!0;case 14:case"end":return e.stop()}},null,this,null,qe)},e.F6=function(t,n,i,e){var r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=this.N6.b6(t)){o.next=3;break}throw new l("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");case 3:return s={I2:n,b4:i,NA:lM(r)},u=Gt(g.max(1,3*t.A$.z4)),o.prev=5,o.next=8,Fr.awrap(this.z6(r,s,e,u));case 8:o.next=15;break;case 10:throw o.prev=10,o.t0=o.catch(5),fu(o.t0),this.V6(r),o.t0;case 15:case"end":return o.stop()}},null,this,[[5,10]],qe)},e.W6=function(t,n){var i=this.N6.b6(t);if(!i)throw new l("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var e={I2:void 0,b4:void 0,NA:lM(i)},r=Gt(g.max(1,3*t.A$.z4));return this.z6(i,e,n,r)},e.G6=function(t,n){return this.O6.has(t.j_)||this.O6.set(t.j_,new ta),vu(this.O6.get(t.j_).Gu,n)},e.V6=function(t){this.$s(new sM(t))},e.z6=function(t,n,e,r){var s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.A$.a0(n),a.prev=1,a.next=4,Fr.awrap(this.U6(s,n,0,e,r));case 4:u=a.sent,a.next=12;break;case 7:throw a.prev=7,a.t0=a.catch(1),fu(a.t0),t.A$.V4=i.wr(),a.t0;case 12:if(UO(u)){a.next=14;break}throw new l("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");case 14:a.prev=14,this.X6(u,t),a.next=24;break;case 18:if(a.prev=18,a.t1=a.catch(14),!(a.t1 instanceof HL&&void 0!==n.NA)){a.next=23;break}return o=Ur({},n,{NA:void 0}),a.abrupt("return",this.z6(t,o,e,r));case 23:throw a.t1;case 24:if(!this.P6||t===this.P6||this.P6.A$.F4){a.next=35;break}return a.prev=25,a.next=28,Fr.awrap(this.W6(this.P6,e));case 28:a.next=35;break;case 30:a.prev=30,a.t2=a.catch(25),fu(a.t2),this.P6=t,this.q6();case 35:this.Y6(t);case 36:case"end":return a.stop()}},null,this,[[1,7],[14,18],[25,30]],qe)},e.U6=function(t,n,i,e,r){var s,u,o,a=this;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return fO.NT(oM,"Loading HLS playlist at "+t+"."),h.prev=1,h.next=4,Fr.awrap(this.x6.j6([t]));case 4:if(s=h.sent,cu(e),void 0===s){h.next=8;break}return h.abrupt("return",xL(s.responseURL,{},s.data));case 8:h.next=14;break;case 10:h.prev=10,h.t0=h.catch(1),fu(h.t0);case 14:return u={wd:t,hd:Of.ni,Ud:this.L6,Od:fw.GET,_s:lw.yd,js:e,xd:r},h.next=17,Fr.awrap(Hy(function(){return a.Q6(u)},e,i));case 17:return o=h.sent,h.abrupt("return",xL(o.dd,n,o.zi));case 19:case"end":return h.stop()}},null,this,[[1,10]],qe)},e.Q6=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(this.qE.ld(t));case 2:return n=e.sent,e.next=5,Fr.awrap(n.Fl());case 5:return i=e.sent,e.abrupt("return",{zi:i,dd:n.dd});case 7:case"end":return e.stop()}},null,this,null,qe)},e.H6=function(t){var n,i,e,r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:cu(t),n=[],i=0,e=this.N6.b0;case 3:if(!(i<e.length)){h.next=26;break}r=e[i],s=0,u=r.I0;case 6:if(!(s<u.length)){h.next=23;break}return o=u[s],h.prev=8,h.next=11,Fr.awrap(this.x6.j6([o.A$.N$]));case 11:a=h.sent,cu(t),void 0===a||o.A$.F4||n.push(this.W6(o,t)),h.next=20;break;case 16:h.prev=16,h.t0=h.catch(8),fu(h.t0);case 20:s++,h.next=6;break;case 23:i++,h.next=3;break;case 26:return h.next=28,Fr.awrap(qe.all(n));case 28:case"end":return h.stop()}},null,this,[[8,16]],qe)},e.q6=function(){for(var t=0,n=this.N6.b0;t<n.length;t++)for(var i=0,e=n[t].I0;i<e.length;i++){var r=e[i];r!==this.P6&&(void 0!==r.A$.I3&&(r.A$.F4?this.Y6(r):r.A$.B4()))}},e.Y6=function(t){if(0!==t.A$.S1.length){if(!this.P6)return this.P6=t,void this.P6.A$.M4(0,void 0);if(this.Z6(this.P6),!this.Z6(t)&&void 0===t.A$.I3){var n=this.K6(t,this.P6);fO.w0(oM,"Assuming global timeline offset of "+n+"s for rendition "+t.A$.N$+"."),t.A$.M4(n,void 0)}}},e.K6=function(t,n){var i;if(hM(t)){var e=t.A$.S1[0],r=n.A$.S1[0];return fO.w0(oM,"Synchronizing by start of VOD: "+r.ck+" vs "+e.ck),r.ck-e.F3}var s=function(t,n){var i=t.length-1,e=n.length-1;for(;i>=0&&e>=0;){var r=t[i],s=n[e];if(r.Z2>s.Z2)i--;else if(r.Z2<s.Z2)e--;else if(r.q2){if(s.q2)return{segment:r,referenceSegment:s};e--}else i--}return}(t.A$.S1,n.A$.S1);if(void 0!==s){var u=s.segment,o=s.referenceSegment;return fO.w0(oM,"Synchronizing by start of discontinuity #"+o.Z2+": "+o.ck+" vs "+u.ck),o.ck-u.F3}var a=fM(t.A$.S1);if(void 0!==a){var h=fM(n.A$.S1);if(void 0!==h)return fO.w0(oM,"Synchronizing by PDT:",h.j2.toISOString()+" vs "+a.j2.getTime()),h.ck-a.F3-(h.j2.getTime()-a.j2.getTime())/1e3}var c=cM(n),f=cM(t),l=null!=(i=t.A$.I3)?i:0;return fO.w0(oM,"Synchronizing by last segment:",c+" vs "+f),c-f+l},e.Z6=function(t){var n=this.N6.b6(t);if(!n)return!1;if(hM(n))return!1;var i,e,r=(i=n.A$.S1,e=this.N6.AE,qs(i,function(t){return void 0!==t.mJ&&e.Y4(t.Z2)}));if(void 0===r)return!1;if(n.A$.W4===r.Z2)return!0;var s=this.N6.AE.t6(r.mJ,r).Fk()-r.F3;return fO.w0(oM,"Synchronize by media timestamp: "+s+"s for rendition "+t.A$.N$+"."),n.A$.M4(s,r.Z2),(void 0===this.P6||void 0===this.P6.A$.W4||this.P6.A$.W4<r.Z2)&&(this.P6=n),!0},e.X6=function(t,n){var i;(this.N6.R3(t,n),UO(t)&&n)&&(this.B6=n,this.$s(new rM(n)),null==(i=this.O6.get(n.j_))||i.Qu(),this.O6.delete(n.j_));this.$s(new uM)},e.J6=function(t,n){for(var i=0,e=this.N6.b0;i<e.length;i++){var r=e[i],s=Ws(r.T0,function(t){return t.A$===n});void 0!==s&&void 0===t.mz&&r._3(s);var u=Ws(r.A0,function(t){return t.A$===n});void 0!==u&&void 0===t.yz&&r._3(u),void 0===s&&void 0===u||(r.kz=(o=r.kz,h=void 0,c=void 0,f=void 0,{yz:null!=(h=(a=t).yz)?h:null==o?void 0:o.yz,mz:null!=(c=a.mz)?c:null==o?void 0:o.mz,pz:null!=(f=a.pz)?f:null==o?void 0:o.pz}))}var o,a,h,c,f},e.Xs=function(){this.ou(),this.N6.Xs(),this.O6.forEach(function(t){return t.Gs()}),this.O6.clear()},T(n,[{key:"t5",get:function(){return this.C6}},{key:"p0",get:function(){return this.N6}},{key:"n5",get:function(){return this.B6}}]),n}(Tu);function hM(t){return t.A$.J2||t.A$.i3===LO.D2}function cM(t){var n,i=t.A$.S1[t.A$.S1.length-1];return i.ck+(null!=(n=i.nm)?n:i.y3)}function fM(t){return qs(t,function(t){return void 0!==t.j2})}function lM(t){if(void 0!==t.A$._2&&!t.A$.J2&&!(void 0===t.A$.m3||i.wr()/1e3-t.A$.m3>=t.A$._2/2))return t.A$.g2?FL.W3:FL.V3}var vM=function(){function t(t,n,i){var e=this;this.i5=void 0,this.e5=void 0,this.PD=void 0,this.r5=void 0,this.s5=void 0,this.u5=function(t){e.e5.hlsDateRange&&e.D4(t.j$)},this.e5=t,this.i5=n,this.PD=i,this.r5=new Wb,this.i5.tu(eM.E6,this.u5)}return t.prototype.D4=function(t){if(0!==t.A$.K2.length){this.s5||(this.s5=this.PD.QE(Vb.gA,void 0,void 0,void 0,void 0,Pp.DATE_RANGE),this.r5.B_(this.s5));WL(this.s5,t.A$.K2,function(n){var i;return null!=(i=t.A$.w3(n))?i:NaN})}},T(t,[{key:"Vm",get:function(){return this.r5}}]),t}(),dM=function(t){function n(){return t.call(this,HB._$)||this}return E(n,t),n}(Eu);var wM,gM=function(){function t(t){this.f4=[],this.BV=void 0,this.o5=void 0,this.a5=t}var n=t.prototype;return n.h5=function(t){var n;return null==(n=this.c5(t))?void 0:n.j$},n.f5=function(t){this.BV=t,this.v5()},n.l5=function(t,n,i,e,r,s){this.f4.push({I2:n,j$:t,d5:new TS([r,s]),w5:new TS([i,e])}),this.v5()},n.c5=function(t){for(var n=0,i=this.f4;n<i.length;n++){var e=i[n];if(e.w5.TN(t))return e}},n._5=function(t){for(var n=0,i=this.f4;n<i.length;n++){var e=i[n];if(e.I2===t)return e}},n.oW=function(){var t=this.by;t.M_>0&&(this.o5=t.hC(t.M_-1))},n.v5=function(){var t=this.a5.by;this.f4=this.f4.filter(function(n){return 0!==t.kC(n.w5).M_})},T(t,[{key:"g5",get:function(){return this.BV}},{key:"by",get:function(){return t=this.a5.by,n=this.a5.yW,i=n.MC(function(n,i){return t.OC(n,i,!1,!1)}),t.EC(i);var t,n,i}},{key:"S1",get:function(){return this.f4}},{key:"m5",get:function(){return this.o5}}]),t}(),mM=function(){function t(t,n,i,e,r){var s=this;this.a5=void 0,this.y5=void 0,this.k5=void 0,this.Wi=void 0,this.p5=void 0,this.b5=void 0,this.Yc=new ou,this.A5=TS.qC(),this.T5=function(t){s.b5&&(t?SR(t)&&s.S5?s.p5.$L(s.a5.by.zC)?s.b5.Qu():s.b5.Zu(t):hu(t)?s.b5.Qu():s.b5.Zu(t):s.b5.Qu(),s.b5=void 0)},this.Wi=t,this.k5=i,this.a5=n,this.y5=e,this.p5=r}var n=t.prototype;return n.E5=function(){if(this.I5)throw new l("Cannot perform new operation while BufferAppender is still busy")},n.R5=function(t){this.a5!==t&&(this.E5(),this.a5=t,this.y5=new gM(t))},n.D5=function(){return this.b5?this.b5.Gu:qe.resolve()},n.N5=function(t){var n,i,e=this.y5.m5,r=this.y5.by;if(void 0===e)return!1;var s=g.min(t,e);return null!=(n=null==(i=r.wC().RC(this.C5).FC(s))?void 0:i.TN(e))&&n},n.P5=function(t){return this.y5.h5(t)},n.Gs=function(){this.Yc.Gs(),this.Yc=new ou},n.FV=function(t){var n=this;this.E5(),this.b5=new ta;var i=function(i){n.k5.B5(t),n.T5(i)};this.zV(t,this.Yc.js).then(i,i)},n.zV=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return fO.w0("Buffering","Appending initializer",HO(t.O5.N$)),i.next=3,Fr.awrap(this.a5.FV(t,n));case 3:fO.w0("Buffering","Appended initializer",HO(t.O5.N$)),this.y5.f5(t);case 5:case"end":return i.stop()}},null,this,null,qe)},n.x5=function(t){var n=this;this.E5(),this.b5=new ta;var i=function(i){n.k5.B5(t),n.T5(i)};this.L5(t,this.Yc.js).then(i,i)},n.L5=function(t,n){var i,e,r,s,u,o,a,h,c,f,v,d,w,g;return Fr.async(function(m){for(;;)switch(m.prev=m.next){case 0:if(e=t.j$,r=t.I2,void 0!==e.A$.d1){m.next=4;break}throw new l("MediaBufferWrapper - Cannot append HLSAsset to "+this.Wi+" MediaBuffer for a HLSRendition with an undefined targetDuration.");case 4:return s=this.y5.by.fC,u=this.a5.by,fO.w0("Buffering","Appending",HO(t.O5.N$)),m.next=9,Fr.awrap(this.a5.UV(t,n));case 9:fO.w0("Buffering","Appended",HO(t.O5.N$),s,this.y5.by.fC),o=t.ck,a=o+t.nm,h=t.O5,c=h.ck,f=h.ck+(null!=(i=h.nm)?i:0),this.y5.l5(e,r,o,a,c,f),v=this.a5.by.RC(u),(d=this.y5._5(r-1))?this.M5(d)?0===v.M_?Boolean(this.U5._5(r))||(w=this.a5.yW.kC(new TS([o,a])),this.A5=this.A5.EC(w)):(this.A5=this.A5.RC(new TS([v.oC(0),a])),v.oC(0)>o&&(this.A5=this.A5.EC(new TS([o,v.oC(0)])))):this.A5=this.A5.RC(new TS([o,a])):0===v.M_?(g=this.a5.yW.kC(new TS([o,a])),this.A5=this.A5.EC(g)):v.oC(0)>o&&(this.A5=this.A5.EC(new TS([o,v.oC(0)]))),t.O5.D3&&this.y5.oW();case 20:case"end":return m.stop()}},null,this,null,qe)},n.M5=function(t){var n=t.w5,i=n.oC(0),e=n.hC(n.M_-1),r=n.aC(0),s=n.cC(n.M_-1);return this.A5.NC(i,e,r,s)},T(t,[{key:"_s",get:function(){return this.Wi}},{key:"S5",get:function(){return this.Wi===gp.Cd||this.Wi===gp.Pd}},{key:"U5",get:function(){return this.y5}},{key:"C5",get:function(){return this.A5}},{key:"I5",get:function(){return void 0!==this.b5}}]),t}(),yM=function(){function t(t,n,i){this.X5=void 0,this.H5=t,this.qE=n,this.L6=i}var n=t.prototype;return n.F5=function(t,n,i,e){var r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(this.z5(n,e));case 2:return r=s.sent,s.next=5,Fr.awrap(this.H5.F5(t,r,i));case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,qe)},n.z5=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if((null==(i=this.X5)?void 0:i.wd)===t){u.next=10;break}return fO.w0("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),u.next=4,Fr.awrap(this.qE.ld({wd:t,hd:Of.fv,Od:fw.GET,js:n,_s:lw.bd,Ld:vw.Nd,Ud:this.L6}));case 4:return e=u.sent,u.next=7,Fr.awrap(e.Vl());case 7:r=u.sent,s=new _(r),this.X5={wd:t,zi:s};case 10:return u.abrupt("return",this.X5.zi);case 11:case"end":return u.stop()}},null,this,null,qe)},t}(),pM=function(){function t(t,n,i,e,r){void 0===r&&(r=2),this.qE=t,this.x6=n,this.V5=i,this.L6=e,this.W5=r}var n=t.prototype;return n.ld=function(t,n,i,e,r){var s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Fr.awrap(this.G5(t,n,i,Of.fv,e,r));case 2:return s=u.sent,u.t0=_,u.next=6,Fr.awrap(s.Vl(r));case 6:return u.t1=u.sent,u.abrupt("return",new u.t0(u.t1));case 8:case"end":return u.stop()}},null,this,null,qe)},n.q5=function(t,n,i,e,r){var s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Fr.awrap(this.G5(t,n,i,Of.wv,e,r));case 2:return s=u.sent,u.abrupt("return",s.Wl(r));case 4:case"end":return u.stop()}},null,this,null,qe)},n.G5=function(t,n,i,e,r,s){var u,o,a,h,c=this;return Fr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return t.E1&&0===(u=jO(t.E1.oC,t.E1.M_))[0]&&u[1]===Mt&&(u=void 0),o=u?{Range:"bytes="+u[0]+"-"+u[1]}:void 0,a=new gw({wd:t.Ti,hd:e,od:o,Ud:this.L6,Od:fw.GET,_s:n,Ld:i,Md:this.V5,Xd:r,js:s}),f.prev=3,f.next=6,Fr.awrap(this.x6.Y5(t.Ti,u));case 6:if(h=f.sent,cu(s),void 0===h){f.next=11;break}return null==r||r(h.buffer.byteLength,h.buffer.byteLength),f.abrupt("return",new ww({ld:a,zi:h.buffer}));case 11:f.next=17;break;case 13:f.prev=13,f.t0=f.catch(3),fu(f.t0);case 17:return f.next=19,Fr.awrap(Hy(function(){return vu(c.qE.ld(a),a.js)},s,this.W5));case 19:return f.abrupt("return",f.sent);case 20:case"end":return f.stop()}},null,this,[[3,13]],qe)},t}(),_M=function(){function t(t,n){this.i5=void 0,this.j5=void 0,this.Q5=void 0,this.Z5=new ou,this.Pq=-1/0,this.K5=!1,this.i5=t,this.j5=n,this.J5()}var n=t.prototype;return n.t8=function(){return this.j5.A$.w2},n.n8=function(t,n,e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.t8()){r.next=2;break}throw new l("Could not perform blocking playlist update.");case 2:return r.prev=2,r.next=5,Fr.awrap(this.i8());case 5:return cu(e),r.next=8,Fr.awrap(this.i5.F6(this.j5,t,n,e));case 8:this.Pq=i.wr(),r.next=15;break;case 11:throw r.prev=11,r.t0=r.catch(2),hu(r.t0)&&this.J5(),r.t0;case 15:this.J5();case 16:case"end":return r.stop()}},null,this,[[2,11]],qe)},n.e8=function(t){return this.i5.G6(this.j5,t)},n.J5=function(){var t=this;if(!this.Q5&&!this.K5){var n=function(){t.Q5=void 0};this.Q5=this.r8(this.Z5.js).then(n,n)}},n.i8=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Q5){t.next=6;break}return this.Z5.Gs(),this.Z5=new ou,t.next=5,Fr.awrap(this.Q5.catch(K));case 5:this.Q5=void 0;case 6:case"end":return t.stop()}},null,this,null,qe)},n.r8=function(t){var n,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.j5.A$.J2||!this.j5.A$.F4){r.next=3;break}return r.abrupt("return");case 3:if(n=i.wr()-this.Pq,e=1e3*this.j5.A$.z4,!(n<e)){r.next=8;break}return r.next=8,Fr.awrap(_u(e-n,t));case 8:return r.prev=8,r.next=11,Fr.awrap(this.i5.W6(this.j5,t));case 11:r.next=18;break;case 13:throw r.prev=13,r.t0=r.catch(8),fu(r.t0),this.i5.V6(this.j5),r.t0;case 18:this.Pq=i.wr(),r.next=0;break;case 21:case"end":return r.stop()}},null,this,[[8,13]],qe)},n.Xs=function(){this.K5=!0,yu(this.i8())},t}();!function(t){t[t.N2=0]="N2",t[t.C2=1]="C2",t[t.kd=2]="kd",t[t.pd=3]="pd"}(wM||(wM={}));var bM="AssetExtractor",kM=function(){function t(){this.s8=[]}var n=t.prototype;return n.u8=function(t,n,i){for(var e=n,r=0,s=this.s8;r<s.length;r++){var u=s[r];if(e>=t)return!0;if(e<u.oC)return!1;if(e<u.hC){if(i<=u.hC)return!0;e=u.hC}}return e>=t},n.o8=function(t,n){for(var i=[],e=0;e<this.s8.length;e+=1){var r=this.s8[e],s=t-r.oC,u=r.zi.length,o=g.min(u,g.max(s,0)),a=g.max(0,n+s),h=Yo(r.zi,o,a);h.length&&(e=this.a8(e,r,t,o,a),i.push(h))}return i},n.h8=function(t,n){this.s8.push({oC:t,hC:t+n.length,zi:n})},n.a8=function(t,n,i,e,r){var s=t;this.s8.splice(s,1),s-=1,n.oC<i&&(s+=1,this.s8.splice(s,0,{oC:n.oC,hC:i,zi:Yo(n.zi,0,e)}));var u=i+r-e;return u<n.hC&&(s+=1,this.s8.splice(s,0,{oC:u,hC:n.hC,zi:Yo(n.zi,r)})),s},t}(),AM=function(){function t(t,n){this.Rv=void 0,this.c8=n,this.Rv=t.getReader()}var n=t.prototype;return n.f8=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.Rv.read());case 2:if(!(t=n.sent).done){n.next=6;break}throw this.c8=1/0,new l("No more data can be read from the given stream.");case 6:return this.c8+=t.value.length,n.abrupt("return",t.value);case 8:case"end":return n.stop()}},null,this,null,qe)},n.v8=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.Rv.cancel(t));case 2:case"end":return n.stop()}},null,this,null,qe)},T(t,[{key:"l8",get:function(){return this.c8}}]),t}(),TM=function(){function t(t,n,i,e){this.N3=void 0,this.Rv=void 0,this.d8=void 0,this.w8=void 0,this._8=void 0,this.g8=void 0,this.m8=new ta,this.N3=t,this.Rv=n,this.d8=i,this.w8=e,this._8=new ta,this.g8=new ta}var n=t.prototype;return n.y8=function(){this.g8.Qu(),this.g8=new ta},n.k8=function(t){var n=EM(this.N3.E1),i=n.p8,e=n.b8,r=this.d8.o8(i,e-i);fO.w0(bM,"Collected "+r.length+" chunks.");for(var s=0;s<r.length;s++){var u=r[s];t.enqueue(u)}},n.readAndSliceOutAssetBytes=function(t){var n,i,e,r,s,u,o,a,h,c,f,l,v;return Fr.async(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Fr.awrap(this._8.Gu);case 2:n=EM(this.N3.E1),i=n.p8,e=n.b8,d.prev=3;case 4:return r=this.Rv.l8,d.next=8,Fr.awrap(this.Rv.f8());case 8:if(s=d.sent,u=s.length,fO.w0(bM,"Read "+u+" at "+r+" for extraction of "+HO(this.N3)),o=g.min(r+u,i),!((a=o-r)>0)){d.next=25;break}if(h=Yo(s,0,a),c=Yo(s,a),fO.w0(bM,"Of the read "+u+" bytes, the first "+a+" will be stored locally for extraction of "+HO(this.N3)),this.d8.h8(r,h),!(c.length>0)){d.next=23;break}return fO.w0(bM,"Extracting "+c.length+" bytes for extraction of "+HO(this.N3)),t.enqueue(c),this.y8(),d.abrupt("return",yu(this.readAndSliceOutAssetBytes(t)));case 23:d.next=46;break;case 25:if(!(r+u<=e)){d.next=33;break}return fO.w0(bM,"Extracting the read data range for extraction of "+HO(this.N3)),t.enqueue(s),this.y8(),d.abrupt("return",yu(this.readAndSliceOutAssetBytes(t)));case 33:if(l=Yo(s,0,f=e-r),v=Yo(s,f),l.length>0&&(fO.w0(bM,"Extracting "+l.length+" bytes for extraction of "+HO(this.N3)),t.enqueue(l)),fO.w0(bM,"Of the read "+u+" bytes, the last "+v.length+" will be stored locally for extraction of "+HO(this.N3)),this.d8.h8(r+f,v),fO.w0(bM,"Extraction of "+HO(this.N3)+" completed as the entire request has been fulfilled."),this.A8(t),!this.w8){d.next=45;break}return fO.w0(bM,"Aborting stream upstream as no more bytes are needed from "+HO(this.N3)+"."),d.next=45,Fr.awrap(this.Rv.v8("AssetExtraction - AbortOnEnd"));case 45:return d.abrupt("return");case 46:d.next=4;break;case 48:d.next=54;break;case 50:d.prev=50,d.t0=d.catch(3),fO.w0(bM,"Extraction of "+HO(this.N3)+" completed as the entire source stream has been read."),this.A8(t);case 54:case"end":return d.stop()}},null,this,[[3,50]],qe)},n.A8=function(t){t.close(),this.y8(),this.m8.Qu()},n.start=function(t){fO.w0(bM,"Preparing to push all collected data to controller for extraction of "+HO(this.N3)),this.k8(t),fO.w0(bM,"Collected data pushed to controller for extraction of "+HO(this.N3));var n=EM(this.N3.E1).b8;this.Rv.l8>=n?(fO.w0(bM,"Extraction of "+HO(this.N3)+" completed as the entire request has been fulfilled."),this.A8(t)):(fO.w0(bM,"Continuing read from original stream for extraction of "+HO(this.N3)),yu(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this._8.Qu(),this._8=new ta,this.g8.Gu},T(t,[{key:"T8",get:function(){return this.m8.Gu}}]),t}(),SM=function(){function t(t,n){this.d8=void 0,this.S8=void 0,this.E8=void 0,this.N3=n;var i=EM(this.N3.E1).p8;this.S8=new AM(t,i),this.d8=new kM}var n=t.prototype;return n.Fy=function(t){if(!XO(this.N3,t))return!1;var n=EM(t.E1),i=n.p8,e=n.b8;return this.d8.u8(this.S8.l8,i,e)},n.I8=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0===n&&(n=!1),i=this.S8,e=this.d8,fO.NT(bM,"Extracting data from "+HO(t)+" out of "+HO(this.N3)),!this.E8){s.next=8;break}return fO.w0(bM,"Awaiting previous extraction before extracting "+HO(t)+" out of "+HO(this.N3)),s.next=8,Fr.awrap(this.E8);case 8:if(this.Fy(t)){s.next=10;break}throw new l("The extractor does not contain the data requested");case 10:return r=new TM(t,i,e,n),this.E8=r.T8,s.abrupt("return",new _d(r));case 13:case"end":return s.stop()}},null,this,null,qe)},t}();function EM(t){if(t){var n=t.oC;return{p8:n,b8:void 0!==t.M_?n+t.M_:Mt}}return{p8:0,b8:Mt}}var IM,RM=function(){function t(t,n){this.Yc=new ou,this.R8=void 0,this.N3=t,this.D8=n,this.R8=this.Jh()}var n=t.prototype;return n.Jh=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.D8.q5(this.N3,lw.pd,vw.md,void 0,this.Yc.js));case 2:return t=n.sent,n.abrupt("return",new SM(t,this.N3));case 4:case"end":return n.stop()}},null,this,null,qe)},n.Fy=function(t){return XO(this.N3,t)},n.I8=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!1),e.next=3,Fr.awrap(this.R8);case 3:return i=e.sent,e.next=6,Fr.awrap(vu(i.I8(t,n),this.Yc.js));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},null,this,null,qe)},n.Gs=function(){this.R8.catch(K),this.Yc.Gs()},t}(),CM=function(t){function n(n){var i;return(i=t.call(this,IM.N8)||this).Md=n,i}return E(n,t),n}(Eu),DM=function(t){function n(n,i,e){var r;return(r=t.call(this,IM.P8)||this).C8=n,r.Md=i,r.B8=e,r}return E(n,t),n}(Eu),NM="HlsPlaylistDownloader";!function(t){t.N8="segmentdownloadprogress",t.P8="segmentdownloaded"}(IM||(IM={}));var PM=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this)||this).Wi=void 0,h.i5=void 0,h.k5=void 0,h.D8=void 0,h.O8=void 0,h.j5=void 0,h.x8=void 0,h.L8=void 0,h.M8=void 0,h.U8=void 0,h.X8=0,h.H8=0,h.F8=0,h.z8=new ou,h.V8=void 0,h.W8=void 0,h.G8=void 0,h.q8=void 0,h.Y8=void 0,h.j8=function(t){h.L8&&(h.j5=h.L8,h.L8=void 0,h.W8=void 0,h.G8=void 0),h.M8&&(t&&!hu(t)?h.M8.Zu(t):h.M8.Qu(),h.M8=void 0)},h.Q8=function(t,n){h.H8=t,t>0&&0===h.X8&&(h.X8=yI()),void 0!==n&&(h.F8=n),h.$s(new CM(h.Wi))},h.Wi=n,h.i5=e,h.k5=r,h.j5=i,h.x8=new _M(e,i),h.O8=new yM(o,s,a),h.D8=new pM(s,u,function(t){switch(t){case xO.Pd:return dw.Pd;case xO.Cd:return dw.Cd;case xO.wA:case xO.Q1:return dw.ni;default:return dw.md}}(i._s),a),h}E(n,t);var e=n.prototype;return e.Z8=function(t){this.x8.Xs(),this.x8=new _M(this.i5,t),this.I5?this.L8=t:(this.j5=t,this.W8=void 0,this.G8=void 0)},e.D5=function(){return this.M8?this.M8.Gu:qe.resolve()},e.K8=function(){return this.k5.K8()},e.J8=function(t){this.k5.J8(t)},e.Gs=function(){var t,n,i;this.z8.Gs(),this.z8=new ou,null==(t=this.V8)||t.Gs(),this.V8=void 0,null==(n=this.Y8)||n.Gs(),null==(i=this.q8)||i.Gs(),this.Y8=void 0,this.q8=void 0,this.W8=void 0,this.G8=void 0},e.Xs=function(){this.x8.Xs()},e.t9=function(t){var n=this.j5.A$.T4(t);if(!n)return!1;if(void 0!==this.W8){var i=n.I2===this.W8;return void 0!==this.G8?n.M3(t)===n.L3(this.G8)&&i:i}return!1},e.n9=function(t){var n;if(void 0===this.W8)n=this.i9(t);else if(n=this.e9(this.W8,this.G8)){var i=n,e=i[0],r=i[1],s=(null!=r?r:e).ck,u=3*this.j$.A$.d1;g.abs(s-t)>=u&&(n=this.i9(t))}if(n){var o=n,a=o[0],h=o[1];return 0===(null==h?void 0:h.S3)&&void 0!==a.nm?[a,void 0]:[a,h]}},e.i9=function(t){var n,i,e,r=this.j5.A$.S1;if(0!==r.length){var s=r[r.length-1];if(s.ck+(null!=(n=s.nm)?n:s.y3)<=t)i=s,e=s.X3(t);else if(r[0].ck>t)e=(i=r[0]).L3(0);else{var u;e=null==(u=i=this.j5.A$.T4(t))?void 0:u.X3(t)}return i?[i,e]:void 0}},e.e9=function(t,n){var i,e,r;if((i=this.j5.A$.A4(t))&&void 0!==n){if(0===i.G2.length)return[i,void 0];e=i.L3(n+1)}void 0!==i&&void 0!==e||(e=null==(r=i=this.j5.A$.A4(t+1))?void 0:r.L3(0));return i?[i,e]:void 0},e.E5=function(){if(this.I5)throw new l("Cannot perform new operation while PlaylistDownloader is still busy")},e.r9=function(t){this.E5(),this.M8=new ta,this.s9(t,this.z8.js).then(this.j8,this.j8)},e.u9=function(){this.x8.J5()},e.s9=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=this.n9(t))||!this.x8.t8()||void 0===this.W8){e.next=5;break}return e.next=4,Fr.awrap(this.x8.n8(void 0===this.G8?this.W8+1:this.W8,void 0!==this.G8?this.G8+1:void 0,n));case 4:i=this.n9(t);case 5:if(i||!this.x8.t8()||void 0===this.W8){e.next=9;break}return e.next=8,Fr.awrap(this.x8.n8(this.W8+1,0,n));case 8:i=this.n9(t);case 9:if(i){e.next=16;break}return fO.NT(NM,"No next segment / part available, need to update playlist before continuing."),e.next=13,Fr.awrap(this.x8.e8(n));case 13:i=this.n9(t),e.next=9;break;case 16:case"end":return e.stop()}},null,this,null,qe)},e.o9=function(){return this.k5.a9()},e.h9=function(){this.E5();try{var t=this.j5.A$.E4(BO.N2);t&&this.c9(t);var n=this.j5.A$.E4(BO.C2);n&&this.f9(n)}catch(t){throw fu(t),this.j$.A$.V4=i.wr(),this.i5.V6(this.j$),t}},e.c9=function(t){this.q8&&!this.q8.Fy(t.N$)&&(this.q8.Gs(),this.q8=void 0),this.q8||(this.q8=new RM(t.N$,this.D8))},e.f9=function(t){this.Y8&&!this.Y8.Fy(t.N$)&&(this.Y8.Gs(),this.Y8=void 0),this.Y8||(this.Y8=new RM(t.N$,this.D8))},e.v9=function(t,n,e){var r=this;this.E5(),fO.NT(NM,"Starting download of segment "+HO(t.N$)+" and part "+(null==n?void 0:n.S3)),this.M8=new ta,this.l9(t,n,e,this.z8.js).catch(function(t){throw fu(t),r.j$.A$.V4=i.wr(),r.i5.V6(r.j$),t}).then(this.j8,this.j8)},e.l9=function(t,n,i,e){var r,s,u,o,a,h=this;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return t.Y2&&(i&&zO(i.O5.N$,null==(s=t.Y2)?void 0:s.N$)&&t.Z2===i.Z2||(null==(o=this.V8)||o.Gs(),this.V8=new ta,a=this.d9(t.Y2,t,e).then(function(){h.V8=void 0}),this.V8.qs(a)),r=null==(u=this.V8)?void 0:u.Gu),c.next=3,Fr.awrap(this.w9(t,n,r,e));case 3:case"end":return c.stop()}},null,this,null,qe)},e.d9=function(t,n,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(this._9(t,n,i));case 2:e=s.sent,r=e.Y2.zi.zi.byteLength,this.k5.g9(e),this.$s(new DM(e._s,this.Wi,r)),fO.w0("Buffering","Download initializer complete",HO(t.N$));case 7:case"end":return s.stop()}},null,this,null,qe)},e.w9=function(t,n,i,e){var r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Fr.awrap(this.m9(t,n,e));case 2:if(s=o.sent,u=s.y9.zi.zi.byteLength,!i){o.next=7;break}return o.next=7,Fr.awrap(vu(i,e));case 7:this.k5.g9(s),this.$s(new DM(s._s,this.Wi,u)),fO.w0("Buffering","Download complete",HO(null!=(r=null==n?void 0:n.N$)?r:t.N$));case 10:case"end":return o.stop()}},null,this,null,qe)},e.m9=function(t,n,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!n){o.next=26;break}if(!this.Y8){o.next=19;break}if(!this.Y8.Fy(n.N$)){o.next=17;break}return o.next=5,Fr.awrap(this.Y8.I8(n.N$));case 5:return r=o.sent,o.t0=_,o.next=9,Fr.awrap(qd(r,i));case 9:return o.t1=o.sent,s=new o.t0(o.t1),o.next=13,Fr.awrap(this.F5(s,n.z2,i));case 13:u=o.sent,e=OM(n,u),o.next=19;break;case 17:this.Y8.Gs(),this.Y8=void 0;case 19:if(e){o.next=24;break}return fO.w0("Buffering","Start download",HO(n.N$)),o.next=23,Fr.awrap(this.k9(n,i));case 23:e=o.sent;case 24:o.next=30;break;case 26:return fO.w0("Buffering","Start download",HO(t.N$)),o.next=29,Fr.awrap(this.p9(t,i));case 29:e=o.sent;case 30:return this.W8=t.I2,this.G8=null==n?void 0:n.S3,o.abrupt("return",{_s:"y9",I2:t.I2,y9:e,j$:this.j5,Z2:t.Z2});case 33:case"end":return o.stop()}},null,this,null,qe)},e._9=function(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.q8){a.next=17;break}if(!this.q8.Fy(t.N$)){a.next=14;break}return a.next=4,Fr.awrap(vu(this.q8.I8(t.N$),i));case 4:return s=a.sent,a.t0=_,a.next=8,Fr.awrap(qd(s,i));case 8:return a.t1=a.sent,u=new a.t0(a.t1),a.next=12,Fr.awrap(this.F5(u,t.W2?[t.W2]:[],i));case 12:o=a.sent,e=xM(t,n,o);case 14:fO.NT(NM,"MAP is required for segment, downloading MAP data."),null==(r=this.q8)||r.Gs(),this.q8=void 0;case 17:if(e){a.next=22;break}return fO.w0("Buffering","Start download",HO(t.N$)),a.next=21,Fr.awrap(this.b9(t,n,i));case 21:e=a.sent;case 22:return a.abrupt("return",{_s:"Y2",Y2:e,ck:n.ck,Z2:n.Z2,z2:n.z2});case 23:case"end":return a.stop()}},null,this,null,qe)},e.b9=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Fr.awrap(this.D8.ld(t.N$,lw.kd,vw.Ad,void 0,i));case 2:return e=u.sent,r=t.W2?[t.W2]:[],u.next=6,Fr.awrap(this.F5(e,r,i));case 6:return s=u.sent,u.abrupt("return",xM(t,n,s));case 8:case"end":return u.stop()}},null,this,null,qe)},e.p9=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.N$){r.next=2;break}throw new l("Internal error: attempted to download an incomplete segment");case 2:return r.prev=2,this.A9(t),r.next=6,Fr.awrap(this.D8.ld(t.N$,lw.kd,vw.md,this.Q8,n));case 6:i=r.sent;case 7:return r.prev=7,this.T9(),r.finish(7);case 10:return r.next=12,Fr.awrap(this.F5(i,t.z2,n));case 12:return e=r.sent,r.abrupt("return",BM(t,e));case 14:case"end":return r.stop()}},null,this,[[2,,7,10]],qe)},e.k9=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,this.A9(t),r.next=4,Fr.awrap(this.D8.ld(t.N$,lw.kd,vw.md,this.Q8,n));case 4:i=r.sent;case 5:return r.prev=5,this.T9(),r.finish(5);case 8:return r.next=10,Fr.awrap(this.F5(i,t.z2,n));case 10:return e=r.sent,r.abrupt("return",OM(t,e));case 12:case"end":return r.stop()}},null,this,[[0,,5,8]],qe)},e.F5=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(e=Ws(n,function(t){return t.Od===OO.h2})){r.next=3;break}return r.abrupt("return",t);case 3:if(e.N$&&e.c2){r.next=6;break}return fO.Au(NM,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),r.abrupt("return",t);case 6:return r.next=8,Fr.awrap(this.O8.F5(t,e.N$,e.c2,i));case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}},null,this,null,qe)},e.A9=function(t){var n,i,e;this.U8=t,this.X8=0,this.H8=0,this.F8=null!=(n=null==(i=t.N$)?void 0:null==(e=i.E1)?void 0:e.M_)?n:0},e.T9=function(){this.U8=void 0,this.X8=0,this.H8=0,this.F8=0},e.S9=function(){if(void 0!==this.U8)return{y9:this.U8,E9:this.H8,I9:this.F8}},e.R9=function(t){return void 0!==this.U8&&(0!==this.X8&&(0!==this.F8&&(!(this.H8>=this.F8)&&!(t-this.X8<500))))},T(n,[{key:"I5",get:function(){return void 0!==this.M8}},{key:"j$",get:function(){var t;return null!=(t=this.L8)?t:this.j5}},{key:"D9",get:function(){if(!this.j5.A$.J2)return!1;if(void 0===this.W8)return!1;var t=this.j5.A$.S1[this.j5.A$.S1.length-1];return t.I2===this.W8&&!(this.G8&&this.G8!==t.G2.length-1)}}]),n}(Tu);function xM(t,n,i){return{zi:{zi:i,_s:KC.kH},_s:wM.N2,O5:t,Z2:n.Z2}}function BM(t,n){return{zi:{zi:n,_s:KC.kH},_s:wM.kd,O5:t,Z2:t.Z2}}function OM(t,n){return{zi:{zi:n,_s:KC.kH},_s:wM.C2,O5:t,Z2:t.T3.Z2}}var LM,MM=function(){function t(){this.N9=[],this.C9=Xr(),this.P9=void 0,this.B9=void 0}var n=t.prototype;return n.g9=function(t){"Y2"===t._s&&(this.B9=t.Y2),this.N9.push(t),this.P9&&(this.P9.Qu(),this.P9=void 0)},n.K8=function(){return this.N9[0]},n.J8=function(t){$s(this.N9,t)},n.a9=function(){return null!=this.P9||(this.P9=new ta),this.P9.Gu},n.O9=function(t){this.x9(t.s6).O9(t)},n.L9=function(t){return this.x9(t).L9()},n.B5=function(t){this.x9(t.s6).B5(t)},n.M9=function(t){var n;null==(n=this.C9.get(t))||n.Xs()},n.U9=function(t){return this.x9(t).U9()},n.x9=function(t){if(this.C9.has(t))return this.C9.get(t);var n=new jM;return this.C9.set(t,n),n},n.Ou=function(){this.X9(),this.H9()},n.X9=function(){this.B9=void 0,Zs(this.N9)},n.H9=function(){this.C9.forEach(function(t){return t.Ou()})},n.Xs=function(){this.C9.forEach(function(t){return t.Xs()}),this.C9.clear(),this.Ou(),this.P9&&(this.P9.Zu(new au),this.P9=void 0)},T(t,[{key:"g5",get:function(){return this.B9}},{key:"F9",get:function(){for(var t=TS.qC(),n=0,i=this.N9;n<i.length;n++){var e=i[n];if("y9"===e._s){var r,s=e.y9.O5;t=t.EC(new TS([s.ck,s.ck+(null!=(r=s.nm)?r:0)]))}}return t}},{key:"z9",get:function(){var t=TS.qC();return this.C9.forEach(function(n){t=t.EC(n.z9)}),t}}]),t}(),jM=function(){function t(){this.V9=[],this.W9=void 0}var n=t.prototype;return n.O9=function(t){this.V9.push(t),this.W9&&(this.W9.Qu(),this.W9=void 0)},n.L9=function(){return this.V9[0]},n.B5=function(t){$s(this.V9,t)},n.U9=function(){return null!=this.W9||(this.W9=new ta),this.W9.Gu},n.Ou=function(){Zs(this.V9)},n.Xs=function(){this.Ou(),this.W9&&(this.W9.Zu(new au),this.W9=void 0)},T(t,[{key:"z9",get:function(){for(var t=TS.qC(),n=0,i=this.V9;n<i.length;n++){var e=i[n];"y9"===e._s&&(t=t.EC(new TS([e.ck,e.ck+e.nm])))}return t}}]),t}(),FM=function(){function t(t,n){this.G9=void 0,this.d6=void 0,this.q9=TS.qC(),this.G9=t,this.d6=n}var n=t.prototype;return n.FV=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=t.zi.zi,this.Y9(i),this.G9._s!==Pp.TTML){u.next=8;break}if(this.d6.Y4(t.Z2)){u.next=6;break}return u.next=6,Fr.awrap(vu(this.d6.j4(t.Z2),n));case 6:for(e=this.j9(i,t.Z2),r=0;r<e.length;r++)s=e[r],this.G9.KE(s);case 8:case"end":return u.stop()}},null,this,null,qe)},n.UV=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t.zi){r.next=2;break}return r.abrupt("return");case 2:if(i=t.ck,e=i+t.nm,this.q9=this.q9.EC(new TS([i,e])).SC(1e-6),this.d6.Y4(t.Z2)){r.next=8;break}return r.next=8,Fr.awrap(vu(this.d6.j4(t.Z2),n));case 8:this.HV(t.zi.zi,t.Z2,t.O5);case 9:case"end":return r.stop()}},null,this,null,qe)},n.HV=function(t,n,i){this.Y9(t);for(var e=0,r=this.G9._s===Pp.WEBVTT?this.Q9(t,i):this.j9(t,n);e<r.length;e++){var s=r[e];this.G9.KE(s)}},n.Q9=function(t,n){for(var i,e,r=(void 0===e&&(e=R_),M_(Xo(Wo(t),new Ko),e)),s=r._g,u=null!=(i=r.kb)?i:{pb:g_.ap,bb:g_.ap},o=0;o<s.length;o++){var a=s[o],h=g_.Gp(a.ck).Jk(u.bb).Hy(u.pb),c=this.d6.t6(h,n).Fk(),f=c+(a.fk-a.ck);a.ck=c,a.fk=f}return s},n.j9=function(t,n){var i=this.d6.J4(n).Fk();return Nb(t,this.G9,{wb:0,_b:1/0,gb:i},Fc.APPLICATION_MP4)},n.Y9=function(t){this.G9._s===Pp.DEFAULT&&(this.G9._s=this.Z9(t)?Pp.WEBVTT:Pp.TTML)},n.Z9=function(t){return $_(Xo(Vo(Wo(t),0,g.min(t.byteLength,7)),new Ko))},n.lW=function(t,n){},n.dW=function(t,n){},T(t,[{key:"by",get:function(){return this.q9}},{key:"yW",get:function(){return TS.qC()}}]),t}(),UM=function(t){function n(n,i){var e;return(e=t.call(this,LM.K9)||this).j$=n,e.kz=i,e}return E(n,t),n}(Eu),HM=function(t){function n(n){var i;return(i=t.call(this,LM.J9)||this).j$=n,i}return E(n,t),n}(Eu);!function(t){t.K9="t7",t.J9="n7"}(LM||(LM={}));var XM=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).j5=void 0,s.k5=void 0,s.d6=void 0,s.i7=void 0,s.e7=void 0,s.Yc=new ou,s.r7=function(t){s.e7&&(t&&!hu(t)?s.e7.Zu(t):(s.e7.Qu(),s.e7=void 0))},s.j5=n,s.k5=i,s.d6=e,s.i7=r,s}E(n,t);var i=n.prototype;return i.Z8=function(t){this.j5!==t&&(this.Gs(),this.j5=t)},i.s7=function(t){for(var n=0,i=this.i7;n<i.length;n++){var e=i[n];Qs(t,e)||this.k5.M9(e)}this.i7=t},i.D5=function(){var t,n;return null!=(t=null==(n=this.e7)?void 0:n.Gu)?t:qe.resolve()},i.E5=function(){if(this.I5)throw new l("Cannot perform new operation while transmuxer is still busy")},i.u7=function(t){var n=this;this.E5(),this.e7=new ta;var i=function(i){n.k5.J8(t),n.r7(i)};this.o7(t,this.Yc.js).then(i,i)},i.a7=function(t){var n=this;this.E5(),this.e7=new ta;var i=function(i){n.k5.J8(t),n.r7(i)};this.h7(t,this.Yc.js).then(i,i)},i.c7=function(t){this.$s(new UM(this.j5,t))},i.f7=function(){this.$s(new HM(this.j5))},i.O9=function(t){Qs(this.i7,t.s6)&&this.k5.O9(t)},i.v7=function(t){return this.k5.L9(t)},i.B5=function(t){this.k5.B5(t)},i.l7=function(t){return this.k5.U9(t)},i.Gs=function(){this.Yc.Gs(),this.Yc=new ou},T(n,[{key:"j$",get:function(){return this.j5}},{key:"d7",get:function(){return this.i7}},{key:"I5",get:function(){return void 0!==this.e7}}]),n}(Tu);function zM(t){return function(t){return jL(t)?t.z3:0===t.S3&&t.T3.z3}(t)?0:t.ck}var VM=function(t){function n(n,i,e,r){return t.call(this,n,i,e,[r])||this}E(n,t);var i=n.prototype;return i.o7=function(t,n){cu(n);var i={_s:"w7",zi:t.Y2.zi,s6:this.d7[0],Z2:t.Z2,_7:{kz:"",z2:t.z2},ck:t.ck,j$:this.j$,O5:t.Y2.O5};return this.O9(i),qe.resolve()},i.h7=function(t,n){var i;cu(n);var e=t.y9.O5,r={_s:"y9",zi:t.y9.zi,s6:this.d7[0],I2:t.I2,g7:zM(e),ck:e.ck,nm:null!=(i=e.nm)?i:0,gb:0,Z2:t.Z2,j$:t.j$,O5:t.y9.O5};return this.O9(r),qe.resolve()},n}(XM),WM=function(){function t(t,n,i,e){this.m7=[],this.y7=t,this.k5=n,this.k7=i,this.sP=e}var n=t.prototype;return n.Z8=function(t){this.y7.Z8(t)},n.p7=function(t){for(var n=this,i=t.slice(),e=function(t){var e=n.m7[t];if(!e.S5)throw new l("Invalid state");var r=Gs(i,function(t){return t._s===e._s});r>=0?(e.R5(i[r]),Ys(i,r)):Ys(n.m7,t)},r=this.m7.length-1;r>=0;r--)e(r);for(var s=0;s<i.length;s++){var u=i[s],o=new gM(u);this.m7.push(new mM(u._s,u,this.k5,o,this))}i.length>0&&this.k5.Ou();var a=t.map(function(t){return t._s});this.k7.s7(a)},n.$L=function(t){var n,i=(null==(n=this.sP)?void 0:n.$L(t))||!1;return i&&(this.Gs(),this.b7.Ou()),i},n.A7=function(t){for(var n=0,i=this.m7;n<i.length;n++){var e=i[n];if(e._s!==gp.ni||e.I5)throw new l("Invalid state")}var r=new gM(t),s=new mM(gp.ni,t,this.k5,r,this);this.m7=[s]},n.T7=function(){for(var t=0,n=this.m7;t<n.length;t++){n[t].U5.v5()}},n.S7=function(t){var n=this.E7.FC(t,.001);return n?n.hC(n.M_-1):t},n.t9=function(t){return!!this.E7.FC(t,.001)||this.y7.t9(t)},n.I7=function(t){return this.R7.TN(t,.001)},n.D7=function(t,n,i){for(var e=0,r=this.m7;e<r.length;e++){var s=r[e].U5,u=s.m5;if(void 0!==u&&n>=u)return!s.by.wC().TN(u)}return n-t<i},n.Gs=function(){this.N7(),this.C7()},n.N7=function(){this.P7.Gs()},n.C7=function(){this.B7.Gs(),this.O7.forEach(function(t){return t.Gs()})},n.Xs=function(){this.Gs(),this.P7.Xs()},T(t,[{key:"O7",get:function(){return this.m7}},{key:"P7",get:function(){return this.y7}},{key:"B7",get:function(){return this.k7}},{key:"b7",get:function(){return this.k5}},{key:"j$",get:function(){return this.y7.j$}},{key:"g5",get:function(){var t=this.k5.g5;if(t)return t;if(this.m7.length>0){var n=this.m7[0].U5.g5;if(n&&this.m7.every(function(t){return t.U5.g5===n}))return n}}},{key:"E7",get:function(){if(0===this.m7.length)return TS.qC();for(var t=this.k5.F9.EC(this.k5.z9).wC(),n=new TS([0,1/0]),i=0,e=this.m7;i<e.length;i++){for(var r=e[i],s=r.U5.by,u=r.U5.S1,o=r.C5,a=0;a<u.length;a++)for(var h=u[a],c=h.d5.RC(h.w5),f=0;f<c.M_;f++)t.OC(c.oC(f),c.hC(f),!0,!0)&&(s=s.EC(c.HC(f)));n=n.kC(s).RC(o)}return n=n.EC(t)}},{key:"R7",get:function(){if(0===this.m7.length)return TS.qC();for(var t=this.k5.z9.wC(),n=new TS([0,1/0]),i=0,e=this.m7;i<e.length;i++){for(var r=e[i],s=r.U5.by,u=r.U5.S1,o=0;o<u.length;o++)for(var a=u[o],h=a.d5.RC(a.w5),c=0;c<h.M_;c++)t.OC(h.oC(c),h.hC(c),!0,!0)&&(s=s.EC(h.HC(c)));n=n.kC(s)}return n=n.EC(t)}}]),t}();var qM=function(t){function n(){return t.call(this,HB.y$)||this}return E(n,t),n}(Eu),GM=function(t){function n(){return t.call(this,HB.g$)||this}return E(n,t),n}(Eu),$M=function(t){function i(n,i){var e;return(e=t.call(this)||this).Oc=void 0,e.a5=void 0,e.x7=new ta,e.YL=IR,e.L7=!1,e.jL=bR,e.cW=new iD,e.Wi=n,e.M7=i,e}E(i,t);var e=i.prototype;return e.wH=function(){return this.a5?this.a5.wH():this.L7},e.lW=function(t,n){fO.w0("LazyMediaBuffer","Marking gap from "+t+" to "+n+"."),this.cW.EH(t,n),this.a5&&this.a5.lW(t,n)},e.dW=function(t,n){fO.w0("LazyMediaBuffer","Removing gap from "+t+" to "+n+"."),this.cW.IH(t,n),this.a5&&this.a5.dW(t,n)},e.U7=function(t){this.a5=t,this.a5.VL=this.jL,this.a5.XL=this.YL;for(var n,i=this.cW.RH,e=0;e<i.M_;e++)this.a5.lW(i.oC(e),i.hC(e));this.L7&&(fO.w0("LazyMediaBuffer","End of stream"),null==(n=this.a5)||n.oW());this.a5.tu(GC.mH,this.Js),this.x7.Qu(t)},e.X7=function(t){return vu(this.x7.Gu,t)},e.UV=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.X7(i));case 2:return e=r.sent,r.next=5,Fr.awrap(e.UV(t,n,i));case 5:case"end":return r.stop()}},null,this,null,qe)},e.wW=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.X7());case 2:return t=n.sent,n.next=5,Fr.awrap(t.wW());case 5:case"end":return n.stop()}},null,this,null,qe)},e.FV=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.X7(i));case 2:return e=r.sent,r.next=5,Fr.awrap(e.FV(t,n,i));case 5:case"end":return r.stop()}},null,this,null,qe)},e.$h=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.X7(i));case 2:return e=r.sent,r.next=5,Fr.awrap(e.$h(t,n,i));case 5:case"end":return r.stop()}},null,this,null,qe)},e.QV=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(this.X7());case 2:return i=e.sent,e.next=5,Fr.awrap(i.QV(t,n));case 5:case"end":return e.stop()}},null,this,null,qe)},e.oW=function(){this.L7=!0,this.a5&&this.a5.oW()},e.sH=function(t){return!!this.a5&&this.a5.sH(t)},e.uH=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.X7());case 2:return n=i.sent,i.next=5,Fr.awrap(n.uH(t));case 5:case"end":return i.stop()}},null,this,null,qe)},e.$c=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.ou(),null==(t=this.a5)||t.au(GC.mH,this.Js);case 2:case"end":return n.stop()}},null,this,null,qe)},T(i,[{key:"Gl",get:function(){return this.Oc}},{key:"mW",get:function(){return this.Wi}},{key:"cc",get:function(){if(!this.a5)throw new ff(n.ErrorCode.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.a5.cc}},{key:"XL",get:function(){return this.YL},set:function(t){this.YL=t,this.a5&&(this.a5.XL=t)}},{key:"by",get:function(){return this.a5?this.a5.by:TS.qC()}},{key:"yW",get:function(){return this.a5?this.a5.yW:this.cW.RH}},{key:"VL",get:function(){return this.jL},set:function(t){this.jL=t,this.a5&&(this.a5.VL=t)}}]),i}(Tu),YM="LazyMediaSource",QM=function(){function t(t,n,i){this.H7=void 0,this.F7=void 0,this.z7=new ta,this.BD=void 0,this.V7=!1,this.ma=NaN,this._J=!1,this.W7=0,this.G7=1/0,this.q7=!1,this.Y7=!1,this.PD=t,n&&(fO.w0(YM,"Created lazy media buffer for audio."),this.H7=new $M(gp.Cd,this)),i&&(fO.w0(YM,"Created lazy media buffer for video."),this.F7=new $M(gp.Pd,this))}var n=t.prototype;return n.vG=function(t){this.ma=t,this.BD&&this.BD.vG(t)},n.oW=function(){this._J=!0,this.BD&&this.BD.oW()},n.eW=function(){this._J=!1,this.BD&&this.BD.eW()},n.wG=function(t,n,i,e){this.W7=t,this.G7=n,this.q7=Boolean(i),this.Y7=Boolean(e),this.BD&&this.BD.wG(t,n,i,e)},n.sH=function(t){return!this.BD||this.BD.sH(t)},n.uH=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.sH(t)){r.next=2;break}throw new l("LazyMediaSource - Unable to reconfigure MediaSource.");case 2:if(this.BD){r.next=19;break}return this.PD.pQ(),r.next=6,Fr.awrap(this.PD.Jh(t));case 6:e=r.sent,p(this.ma)||e.vG(this.ma),this._J&&e.oW(),e.wG(this.W7,this.G7,this.q7,this.Y7),fO.w0(YM,"The MediaSource has been loaded."),this.V7=!0,this.BD=e,null==(n=this.H7)||n.U7(this.BD.KW),null==(i=this.F7)||i.U7(this.BD.JW),this.z7.Qu(e),this.PD.bQ(),r.next=21;break;case 19:return r.next=21,Fr.awrap(this.BD.uH(t));case 21:case"end":return r.stop()}},null,this,null,qe)},n.Xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.BD){t.next=3;break}return t.next=3,Fr.awrap(this.BD.Xs());case 3:case"end":return t.stop()}},null,this,null,qe)},T(t,[{key:"cc",get:function(){return{_s:pk.nI,_G:[],hN:[]}}},{key:"zm",get:function(){throw new l("Not implemented")}},{key:"KW",get:function(){return this.H7}},{key:"JW",get:function(){return this.F7}},{key:"by",get:function(){return this.BD?this.BD.by:TS.qC()}},{key:"nm",get:function(){return this.BD?this.BD.nm:this.ma}},{key:"wH",get:function(){return!!this.BD&&this.BD.wH}},{key:"Ly",get:function(){return this.BD?this.BD.Ly:new TS([0,1/0])}}]),t}();function ZM(t,n){return void 0===n&&(n=!1),function(i,e){void 0===e&&(e="*");var r,s,u,o=JM(i,"tag"),a=JM(null==e?"*":e,"range"),h=[],c=-1;for(;++c<a.length;)if(r=a[c].toLowerCase(),n||"*"!==r){for(s=-1,u=[];++s<o.length;)if(t(o[s].toLowerCase(),r)){if(!n)return o[s];h.push(o[s])}else u.push(o[s]);o=u}return n?h:void 0}}ZM(function(t,n){return"*"===n||t===n||ks(t,n+"-")},!0),ZM(function(t,n){var i=t.split("-"),e=n.split("-"),r=0,s=0;if("*"!==e[s]&&i[r]!==e[s])return!1;for(r++,s++;s<e.length;)if("*"!==e[s]){if(!i[r])return!1;if(i[r]!==e[s]){if(1===i[r].length)return!1;r++}else r++,s++}else s++;return!0},!0);var KM=ZM(function(t,n){for(var i,e=n;;){if("*"===e||t===e)return!0;if((i=e.lastIndexOf("-"))<0)return!1;"-"===e.charAt(i-2)&&(i-=2),e=e.slice(0,i)}});function JM(t,n){var i=t&&"string"==typeof t?[t]:t;if(!(i&&"object"==typeof i&&"length"in i))throw new l("Invalid "+n+" `"+i+"`, expected non-empty string");return i}var tj,nj=function(t){function n(){return t.call(this,Bf.Hf)||this}return E(n,t),n}(Eu),ij=function(t){function n(){return t.call(this,Bf.Xf)||this}return E(n,t),n}(Eu),ej=16384,rj=71,sj=188,uj=2,oj=3;function aj(t){return hj(t)?tj.Og:null!==kP(Wo(t),new Ko)?tj.j7:function(t){return function(t){if(t.length<uj*sj)return-1;for(var n=t.length<oj*sj?uj:oj,i=g.min(1e3,t.length-n*sj),e=0;e<=i;e++){for(var r=!0,s=0;s<n;s++)if(t[e+s*sj]!==rj){r=!1;break}if(r)return e}return-1}(t)>=0}(t)?tj.Q7:tj.md}function hj(t){var n=zo(t,0,g.min(t.length,ej));return pb.ZA(Wo(n))}!function(t){t[t.md=0]="md",t[t.Og=1]="Og",t[t.Q7=2]="Q7",t[t.j7=3]="j7"}(tj||(tj={}));var cj=function(){function t(t,n,i,e){this.Wi=void 0,this.a5=void 0,this.Z7=void 0,this.K7=void 0,this.J7=void 0,this.Wi=t,this.a5=n,this.K7=i,this.J7=e}var n=t.prototype;return n.ttt=function(t){return this.a5===t},n.FV=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Fr.awrap(this.a5.FV(t.zi,{qz:t.j$.j_},n));case 3:this.Wi===gp.Pd&&hj(t.zi.zi)&&this.J7.ntt(t.zi.zi);case 4:case"end":return i.stop()}},null,this,null,qe)},n.UV=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(cu(n),fO.NT("HlsMediaBuffer","Got media data, appending to "+this.Wi+" MediaBuffer: "+HO(t.O5.N$)),i=t.g7,e=t.ck+t.nm,r={mJ:t.ck,nm:t.nm,gb:t.gb,qz:t.j$.j_},void 0===t.zi){s.next=10;break}return s.next=9,Fr.awrap(this.a5.UV(t.zi,r,n));case 9:this.itt(t.zi,t);case 10:this.ett(i,e);case 11:case"end":return s.stop()}},null,this,null,qe)},n.itt=function(t,n){if(hj(t.zi)){var i=n.ck,e=i+n.nm,r=n.gb;this.K7.l5(t.zi,i,r),this.Wi===gp.Pd&&this.J7.l5(t.zi,i,e,r),function(t,n){if(t.M_>0)for(var i=t.oC(0),e=g.max(0,i-10),r=0;r<n.length;r++)n[r].WE(e)}(this.by,[this.K7,this.J7])}},n.ett=function(t,n){for(var i=this.a5.by,e=new TS([t,n]).RC(i),r=0;r<e.M_;r++)this.a5.lW(e.oC(r),e.hC(r));for(var s=0;s<i.M_;s++)this.a5.dW(i.oC(s),i.hC(s))},n.lW=function(t,n){this.a5.lW(t,n)},n.dW=function(t,n){this.a5.dW(t,n)},T(t,[{key:"_s",get:function(){return this.Wi}},{key:"by",get:function(){return this.a5.by}},{key:"yW",get:function(){return this.a5.yW}}]),t}(),fj=2500;var lj=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,u,!1)||this).rtt=void 0,o.pe=void 0,o.stt=void 0,o.rtt=e,o.pe=r,o.stt=s,o}return E(n,t),n.prototype.Nk=function(n){return this===n||Sm(this,n)&&t.prototype.Nk.call(this,n)&&Tm(this.vk,n.vk)},T(n,[{key:"rE",get:function(){return this.rtt}},{key:"Ti",get:function(){return this.pe}},{key:"utt",get:function(){return this.stt}},{key:"o_",get:function(){var t;return this.u_||(this.u_=km(zp(t=this),{get schemeIDURI(){return t.rE},get value(){return t.Ti},get emsgID(){return t.utt}})),this.u_}}]),n}(Qp);function vj(t,n){return""===n?t:t+" "+n}var dj,wj,gj=function(t){function n(n){var i;return(i=t.call(this)||this).GE=void 0,i.GE=n,i}E(n,t);var i=n.prototype;return i.l5=function(t,i,e){var r=pb.jA(Wo(t));if(r){var s=function(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];fb(r,n)&&i.push(r)}return i}(r,A_.hA);if(s.length){var u=n.ott(r,i,e);this.att(s,u,e)}}},i.att=function(t,n,i){for(var e=0;e<t.length;e++){var r=t[e],s=void 0,u=(s=1===r.qA?r.sE.toNumber()/r.Op+i:n+r.aE/r.Op)+r.uE/r.Op;"https://aomedia.org/emsg/ID3"===r.rE?this.htt(r,s):this.ctt(r,s,u)}},i.ctt=function(t,n,i){var e=vj(t.rE,t.Ti),r=this.ftt(e);r||(r=this.ltt(e),this.dtt(r)),r.KE(new lj(n,i,t.rE,t.Ti,t.Y_,t.oE))},i.htt=function(t,n){var i=SP(Wo(t.oE));if(i){var e=vj(t.rE,t.Ti),r=this.ftt(e);r||(r=this.wtt(e),this.dtt(r));for(var s=0,u=i.vq;s<u.length;s++){var o=u[s],a=new LP(n,o);QN(a,r._g.L_),r.KE(a)}}},n.ott=function(t,n,i){var e=lb(t,A_.cA);return e?Qt(e.kE,e.Op)+i:n},i.ltt=function(t){var n=this.GE.QE(Vb.gA,"","","",void 0,Pp.EMSG);return n.cg=t,n.fg=Fm.og,n},i.wtt=function(t){var n=this.GE.QE(Vb.gA,"","","",void 0,Pp.ID3);return n.cg=t,n.fg=Fm.og,n},i.wc=function(){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(n=0,i=this.hT.L_;n<i.length;n++)e=i[n],this.GE.JE(e);return r.next=3,Fr.awrap(t.prototype.wc.call(this));case 3:case"end":return r.stop()}},null,this,null,qe)},n}(function(t){function n(){return t.call(this)||this}E(n,t);var i=n.prototype;return i.dtt=function(t){return t.wg=Np.LOADED,this.B_(t),t},i.ftt=function(t){for(var n=0,i=this.hT.L_;n<i.length;n++){var e=i[n];if(e.cg===t)return e}},n}(fk));function mj(t){return"function"==typeof t.Cu}function yj(t,n,i){if(!(i&&n.byte>=i)){var e=mj(t)?t.Cu(n.byte):t[n.byte];return n.byte+=1,e}}function pj(t,n){return function(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=256*e+yj(t,n);return e}(t,n,2)}!function(t){t[t._tt=0]="_tt",t[t.gtt=1]="gtt",t[t.mtt=2]="mtt",t[t.ytt=3]="ytt",t[t.ktt=4]="ktt",t[t.ptt=5]="ptt"}(dj||(dj={})),function(t){t[t.btt=0]="btt",t[t.Att=1]="Att",t[t.Ttt=2]="Ttt",t[t.Stt=3]="Stt"}(wj||(wj={}));var _j,bj=function(){function t(){this.Ett=0,this.Itt=[],this.RE={}}var n=t.prototype;return n.Rtt=function(t){this.Itt=this.Itt.concat(t.Itt),this.Ett+=t.M_},n.Dtt=function(t,n,i){var e=this.Ett,r=i-n;r>0&&(this.Itt.push({Ntt:n,Ctt:i,Ptt:r,Btt:e,Ott:t}),this.Ett+=r)},n.Cu=function(t){for(var n=0,i=this.Itt;n<i.length;n++){var e=i[n];if(e.Btt<=t&&t<e.Btt+e.Ptt)return e.Ott[t+e.Ntt-e.Btt]}},n.xtt=function(t,n){for(var i=n,e=0,r=this.Itt;e<r.length;e++)for(var s=r[e],u=s.Ctt,o=s.Ntt;o<u;o+=1,i+=1)t[i]=s.Ott[o];return i},n.Ltt=function(){for(var t=new _(this.Ett),n=0,i=0,e=this.Itt;i<e.length;i++)for(var r=e[i],s=r.Ctt,u=r.Ntt;u<s;u+=1,n+=1)t[n]=r.Ott[u];return t},n.Hu=function(n){for(var i=new t,e=0,r=this.Itt;e<r.length;e++){var s=r[e];i.Dtt(s.Ott,s.Ntt,s.Ctt)}return i.RE=n||Ur({},this.RE),i},T(t,[{key:"M_",get:function(){return this.Ett},set:function(t){var n=this.Itt,i=this.Ett-t;if(!(t>=this.Ett))if(this.Ett=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.Ptt)return r.Ctt-=i,r.Ptt-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.Ptt}else n.length=0}},{key:"zi",get:function(){for(var t=new Array(this.Ett),n=0,i=0,e=this.Itt;i<e.length;i++)for(var r=e[i],s=r.Ctt,u=r.Ntt;u<s;u+=1,n+=1)t[n]=r.Ott[u];return t}}]),t}();function kj(t,n,i){return i===dj._tt?i:n!==wj.btt&&n!==wj.Att||i!==dj.gtt&&i!==dj.mtt?t?n===wj.Ttt?dj.ktt:n===wj.Stt?dj.ytt:dj._tt:dj.ptt:dj.mtt}function Aj(t,n,i,e){var r={byte:i},s=dj.gtt,u=[],o=31&yj(n,r,e);r.byte+=1;for(var a=0;a<o;a+=1){var h=yj(n,r,e),c=4&h,f=3&h;s=kj(Boolean(c),f,s);var l=yj(n,r,e),v=yj(n,r,e);u.push({tK:t,GS:-1,Mtt:!a,Utt:Boolean(c),_s:f,hZ:s,Xtt:l,Htt:v})}return u}function Tj(t,n,i){var e=yj(t,n,i);if(!p(e))return String.fromCharCode(e)}function Sj(t){var n=t.Ftt,i={byte:t.ztt},e=t.Vtt,r=yj(n,i,e);if(255===r&&(i.byte+=1),181===r){var s=pj(n,i);if(s===_j.Wtt||s===_j.Gtt){if(s===_j.Gtt)if("GA94"!==function(t,n,i){for(var e="",r=i;r>0;)r-=1,e+=Tj(t,n);return e}(n,i,4))return;if(3===yj(n,i,e)){s===_j.Wtt&&(i.byte+=1);var u=t;return u.qtt=i.byte,u}}}}function Ej(t){return 4===t.Ytt}function Ij(t){for(var n=t.filter(Ej).map(Sj).filter(H),i=[],e=0;e<n.length;e++){var r=n[e];i.push.apply(i,Aj(r.jtt,r.Ftt,r.qtt,r.Vtt))}return i}!function(t){t[t.Wtt=47]="Wtt",t[t.Gtt=49]="Gtt"}(_j||(_j={}));var Rj="und";function Cj(t){if(t!==Rj)for(var n=t.toLowerCase(),i=0;i<Nj.length;i++){var e=Nj[i];if(e[1]===n||e[2]===n||e["2T"]===n||e["2B"]===n||e[3]===n)return e}}var Dj,Nj=[{_i:"Abkhaz",bb:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{_i:"Afar",bb:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{_i:"Afrikaans",bb:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{_i:"Akan",bb:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{_i:"Albanian",bb:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{_i:"Amharic",bb:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{_i:"Arabic",bb:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{_i:"Aragonese",bb:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{_i:"Armenian",bb:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{_i:"Assamese",bb:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{_i:"Avaric",bb:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{_i:"Avestan",bb:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{_i:"Aymara",bb:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{_i:"Azerbaijani",bb:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{_i:"Bambara",bb:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{_i:"Bashkir",bb:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{_i:"Basque",bb:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{_i:"Belarusian",bb:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{_i:"Bengali",bb:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{_i:"Bihari",bb:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{_i:"Bislama",bb:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{_i:"Bosnian",bb:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{_i:"Breton",bb:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{_i:"Bulgarian",bb:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{_i:"Burmese",bb:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{_i:"Catalan",bb:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{_i:"Chamorro",bb:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{_i:"Chechen",bb:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{_i:"Chichewa",bb:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{_i:"Chinese",bb:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{_i:"Chuvash",bb:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{_i:"Cornish",bb:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{_i:"Corsican",bb:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{_i:"Cree",bb:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{_i:"Croatian",bb:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{_i:"Czech",bb:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{_i:"Danish",bb:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{_i:"Divehi",bb:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{_i:"Dutch",bb:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{_i:"Dzongkha",bb:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{_i:"English",bb:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{_i:"Esperanto",bb:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{_i:"Estonian",bb:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{_i:"Ewe",bb:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{_i:"Faroese",bb:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{_i:"Fijian",bb:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{_i:"Finnish",bb:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{_i:"French",bb:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{_i:"Fula",bb:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{_i:"Galician",bb:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{_i:"Georgian",bb:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{_i:"German",bb:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{_i:"Greek",bb:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{_i:"Guaran\xed",bb:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{_i:"Gujarati",bb:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{_i:"Haitian",bb:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{_i:"Hausa",bb:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{_i:"Hebrew",bb:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{_i:"Herero",bb:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{_i:"Hindi",bb:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{_i:"Hiri Motu",bb:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{_i:"Hungarian",bb:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{_i:"Interlingua",bb:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{_i:"Indonesian",bb:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{_i:"Interlingue",bb:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{_i:"Irish",bb:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{_i:"Igbo",bb:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{_i:"Inupiaq",bb:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{_i:"Ido",bb:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{_i:"Icelandic",bb:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{_i:"Italian",bb:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{_i:"Inuktitut",bb:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{_i:"Japanese",bb:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{_i:"Javanese",bb:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{_i:"Kalaallisut",bb:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{_i:"Kannada",bb:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{_i:"Kanuri",bb:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{_i:"Kashmiri",bb:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{_i:"Kazakh",bb:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{_i:"Khmer",bb:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{_i:"Kikuyu",bb:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{_i:"Kinyarwanda",bb:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{_i:"Kyrgyz",bb:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{_i:"Komi",bb:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{_i:"Kongo",bb:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{_i:"Korean",bb:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{_i:"Kurdish",bb:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{_i:"Kwanyama",bb:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{_i:"Latin",bb:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{_i:"Luxembourgish",bb:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{_i:"Ganda",bb:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{_i:"Limburgish",bb:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{_i:"Lingala",bb:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{_i:"Lao",bb:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{_i:"Lithuanian",bb:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{_i:"Luba-Katanga",bb:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{_i:"Latvian",bb:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{_i:"Manx",bb:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{_i:"Macedonian",bb:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{_i:"Malagasy",bb:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{_i:"Malay",bb:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{_i:"Malayalam",bb:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{_i:"Maltese",bb:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{_i:"M\u0101ori",bb:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{_i:"Marathi",bb:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{_i:"Marshallese",bb:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{_i:"Mongolian",bb:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{_i:"Nauru",bb:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{_i:"Navajo",bb:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{_i:"Northern Ndebele",bb:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{_i:"Nepali",bb:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{_i:"Ndonga",bb:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{_i:"Norwegian Bokm\xe5l",bb:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{_i:"Norwegian Nynorsk",bb:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{_i:"Norwegian",bb:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{_i:"Nuosu",bb:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{_i:"Southern Ndebele",bb:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{_i:"Occitan",bb:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{_i:"Ojibwe",bb:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{_i:"Old Church Slavonic",bb:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{_i:"Oromo",bb:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{_i:"Oriya",bb:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{_i:"Ossetian",bb:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{_i:"Panjabi",bb:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{_i:"P\u0101li",bb:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{_i:"Persian",bb:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{_i:"Polish",bb:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{_i:"Pashto",bb:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{_i:"Portuguese",bb:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{_i:"Quechua",bb:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{_i:"Romansh",bb:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{_i:"Kirundi",bb:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{_i:"Romanian",bb:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{_i:"Russian",bb:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{_i:"Sanskrit",bb:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{_i:"Sardinian",bb:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{_i:"Sindhi",bb:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{_i:"Northern Sami",bb:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{_i:"Samoan",bb:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{_i:"Sango",bb:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{_i:"Serbian",bb:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{_i:"Gaelic",bb:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{_i:"Shona",bb:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{_i:"Sinhala",bb:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{_i:"Slovak",bb:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{_i:"Slovene",bb:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{_i:"Somali",bb:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{_i:"Southern Sotho",bb:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{_i:"Spanish",bb:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{_i:"Sundanese",bb:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{_i:"Swahili",bb:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{_i:"Swati",bb:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{_i:"Swedish",bb:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{_i:"Tamil",bb:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{_i:"Telugu",bb:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{_i:"Tajik",bb:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{_i:"Thai",bb:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{_i:"Tigrinya",bb:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{_i:"Tibetan Standard",bb:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{_i:"Turkmen",bb:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{_i:"Tagalog",bb:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{_i:"Tswana",bb:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{_i:"Tonga",bb:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{_i:"Turkish",bb:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{_i:"Tsonga",bb:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{_i:"Tatar",bb:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{_i:"Twi",bb:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{_i:"Tahitian",bb:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{_i:"Uyghur",bb:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{_i:"Ukrainian",bb:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{_i:"Urdu",bb:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{_i:"Uzbek",bb:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{_i:"Venda",bb:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{_i:"Vietnamese",bb:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{_i:"Volap\xfck",bb:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{_i:"Walloon",bb:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{_i:"Welsh",bb:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{_i:"Wolof",bb:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{_i:"Western Frisian",bb:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{_i:"Xhosa",bb:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{_i:"Yiddish",bb:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{_i:"Yoruba",bb:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{_i:"Zhuang",bb:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{_i:"Zulu",bb:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}],Pj=[128,64,32,16,8,4,2,1];function xj(t,n){var i=g.floor(n.bit/8),e=0==((mj(t)?t.Cu(i):t[i])&Pj[n.bit%8])?0:1;return n.bit+=1,e}function Bj(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=2*e+xj(t,n);return e}function Oj(t,n){for(var i=0;0===xj(t,n)&&i<32;)i+=1;return Bj(t,n,i)+g.pow(2,i)-1}function Lj(t,n){var i=Oj(t,n);return 1&i?g.floor((i+1)/2):-g.floor(i/2)}function Mj(t,n){var i,e=[],r={byte:1};do{e.push(Fj(t,n,r)),i=n.Cu(r.byte)}while(void 0!==i&&128!==i);return e}function jj(t,n){var i,e=0;do{e+=i=yj(t,n)}while(255===i);return e}function Fj(t,n,i){var e=jj(n,i),r=jj(n,i),s=i.byte,u=s+r;return i.byte=u,{jtt:t,Ytt:e,Qtt:r,ztt:s,Vtt:u,Ftt:n}}!function(t){t[t.Ztt=1]="Ztt",t[t.Ktt=2]="Ktt",t[t.Jtt=3]="Jtt",t[t.$tt=4]="$tt",t[t.tnt=5]="tnt",t[t.nnt=6]="nnt",t[t.int=7]="int",t[t.ent=8]="ent",t[t.rnt=9]="rnt"}(Dj||(Dj={}));var Uj=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function Hj(t,n,i){for(var e=8,r=8,s=0;s<i;s+=1){if(0!==r)r=(e+Lj(t,n)+256)%256;e=0===r?e:r}}var Xj=function(){function t(t){this.snt=void 0,this.unt=[],this.ont=0,this.snt=t}var n=t.prototype;return n.ant=function(){for(var t=this.unt,n=g.max(0,this.ont+t.length-2),i=this.snt,e=i.M_,r=0;n<e;n+=1){var s=i.Cu(n);0===s?r+=1:(3===s&&r>=2&&t.push(n),r=0)}this.ont=n-t.length},n.hnt=function(t){for(var n=this.unt,i=t,e=0;e<n.length;e++){if(!(n[e]<=i))return i;i+=1}return i},n.Cu=function(t){if(!(t>this.snt.M_))return t>this.ont&&this.ant(),this.snt.Cu(this.hnt(t))},t}();var zj=24;function Vj(t){var n=t._z,i=new bj;return i.Dtt(qo(n),0,n.length),function(t){var n,i,e,r,s,u,o=new Xj(t),a=0,h=0,c=0,f=0,l=o.Cu(1),v={bit:32};if(Oj(o,v),100===l||110===l||122===l||144===l){var d=Oj(o,v);if(3===d&&(n=xj(o,v)),Oj(o,v),Oj(o,v),xj(o,v),1===xj(o,v))for(var w=0;w<(3!==d?8:12);w+=1)1===xj(o,v)&&Hj(o,v,w<6?16:64)}var m=Oj(o,v),y=Oj(o,v);if(0===y)Oj(o,v);else if(1===y){xj(o,v),Lj(o,v),Lj(o,v);for(var p=Oj(o,v),_=0;_<p;_+=1)Lj(o,v)}Oj(o,v),xj(o,v);var b=Oj(o,v),k=Oj(o,v),A=xj(o,v);if(0===A&&xj(o,v),xj(o,v),1===xj(o,v)&&(a=Oj(o,v),h=Oj(o,v),c=Oj(o,v),f=Oj(o,v)),1===xj(o,v)){if(1===xj(o,v)){var T=Bj(o,v,8);if(255===T)i=Bj(o,v,16),e=Bj(o,v,16);else{var S=Uj[T];S&&(i=S[0],e=S[1])}}1===xj(o,v)&&xj(o,v),1===xj(o,v)&&(Bj(o,v,3),xj(o,v),1===xj(o,v)&&(Bj(o,v,8),Bj(o,v,8),Bj(o,v,8))),1===xj(o,v)&&(Oj(o,v),Oj(o,v)),1===(r=xj(o,v))&&(s=Bj(o,v,32),u=Bj(o,v,32),xj(o,v))}return{width:g.floor(16*(b+1)-2*a-2*h),height:g.floor((2-A)*(k+1)*16-2*c-2*f),xS:i,LS:e,cnt:!!r&&u/(2*s),fnt:n,vnt:m}}(i).cnt}function Wj(t){var n=Vj(t)||zj;return t.lnt/n}function qj(t){return t._s===A_.tA}var Gj,$j=65536;function Yj(t,n,i,e,r){for(var s,u=function(t,n,i,e){var r=i.lnt,s=vt.fromNumber(t.eE||0),u=e.Hy(g_.rp(s,r));return{dnt:e.Fk(),wnt:e,_nt:u,gnt:e}}(t,0,i,e),o=g_.sp(t.nm||0,i.lnt),a=t.YA||0,h=!(a&$j)&&(a>>24&3)!==Gj.SAMPLE_DEPENDS_ON_OTHERS,c=Wo(r),f=new Ko;f.Lu<c.byteLength;){var l=bo(c,f);if((31&yo(c,f,1))===Dj.nnt){var v,d=new bj;d.Dtt(r,f.Lu-1,f.Lu+l-1);var w=Mj(u._nt,d);(v=s=s||[]).push.apply(v,Ij(w))}f.Mu(l-1)}return Ur({},u,{nm:o.Fk(),mnt:o,ynt:u._nt.Fk(),knt:u.dnt,pnt:h,bnt:s,Ant:!1,Tnt:!1})}function Qj(t){return t._s===A_.Ab}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(Gj||(Gj={}));var Zj=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return E(n,t),n}(Qp),Kj=function(){function t(t,n){this.vK=t,this.$Z=n}return t.prototype.Nk=function(t){return this.vK===t.vK&&this.$Z===t.$Z},t}(),Jj=function(){function t(t,n){this.Snt="",this.FU=t,this.Ent=n}var n=t.prototype;return n.Int=function(t){this.Snt+=t},n.Rnt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Int(i)}},T(t,[{key:"pK",get:function(){return this.Snt}},{key:"_K",get:function(){return[this]}},{key:"yK",get:function(){return this.FU}},{key:"AK",get:function(){return this.Ent}},{key:"bK",get:function(){return new Kj(this.AK.vK,this.AK.$Z+this.pK.length-1)}}]),t}(),tF=function(){function t(){}var n=t.prototype;return n.Dnt=function(t){return t.ub(this)},n.Nnt=function(t){var n,i,e=this,r=t.map(function(t,n){return t.ub(e,n)});return n=r,(i=[]).concat.apply(i,n)},n.Cnt=function(t,n){return new nF(t,n).Pnt()},t}(),nF=function(){function t(t,n){this.Bnt=[],this.Ont=null,this.vK=t,this.xnt=n}var n=t.prototype;return n.Pnt=function(){if(this.Lnt)return[];for(var t=0;t<this.vK.length;t++)this.Mnt(t);return this.Unt(),this.Bnt},n.Xnt=function(t){this.Ont=new Jj(fB,new Kj(this.xnt,t))},n.Unt=function(){this.Ont&&(this.Bnt.push(this.Ont),this.Ont=null)},n.Mnt=function(t){var n=this.vK[t];iF(n)?this.Ont&&this.Unt():(this.Ont||this.Xnt(t),this.Ont.Int(n))},T(t,[{key:"Lnt",get:function(){return this.vK.every(iF)}}]),t}();function iF(t){return null==t}var eF=function(){function t(){}return t.Hnt=function(t,n,i){if(!(n>=i)){var e=Js(t,function(t,n){return new nF(t.map(function(t){return t?t.Fnt():null}),n).Pnt()});if(0!==e.length)return new Zj(n,i,e)}},t}(),rF="black",sF="white",uF=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),oF=function(){function t(){this.znt=[],this.Vnt=0,this.Wnt=void 0;for(var t=0;t<wB;t++)this.znt.push(null);this.Wnt=!1}var n=t.prototype;return n.Gnt=function(t){for(var n=0;n<wB;n++)t&&(this.znt[n]=t.znt[n])},n.Nk=function(t){for(var n=0;n<wB;n++)if(this.znt[n]!==t.znt[n])return!1;return!0},n.qnt=function(){for(var t=0;t<wB;t++)if(null!==this.znt[t])return!1;return!0},n.Ynt=function(t){this.Vnt!==t&&(this.Vnt=t),this.Vnt<0?this.Vnt=0:this.Vnt>wB&&(this.Vnt=wB-1)},n.jnt=function(t){var n=this.Vnt+t;this.Ynt(n)},n.Qnt=function(){this.jnt(-1),this.znt[this.Vnt]=null},n.Int=function(t){t>=144&&this.Qnt();var n,i=uF[n=t]?String.fromCharCode(uF[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Vnt>=wB||(32===Number(t)?(this.znt[this.Vnt]=this.Wnt?"</i>":"<i>",this.Wnt=!this.Wnt):this.znt[this.Vnt]=t,this.jnt(1))},n.Znt=function(t){for(var n=t;n<wB;n++)this.znt[n]=null},n.Ou=function(){this.Znt(0),this.Vnt=0},n.Knt=function(){this.Znt(this.Vnt)},n.Jnt=function(t,n){for(var i=this.znt,e=null,r=0;r<wB;r++){var s=i[r];null===s?e=null:(e||(e={x_:r,y_:t,Xk:0,ST:1,znt:[[]]},n.push(e)),e.znt[0].push(s),e.Xk++)}},n.ub=function(t,n){return t.Cnt(this.znt,n)},t}();var aF,hF=function(){function t(t,n){this.nit=void 0,this.iit=void 0,this.eit=void 0,this.rit=void 0,this.sit=void 0,this.uit=void 0,this.oit=void 0,this.ait=void 0,this.hit=void 0,this.nit=new Array(cF+1);for(var i=0;i<=cF;i++)this.nit[i]=new oF;this.iit=1,this.eit=0,this.rit=t,this.sit=n,this.uit=!1,this.oit=!1,this.ait=sF,this.hit=rF,this.wc()}var n=t.prototype;return n.cit=function(t,n){var i="CC"+(this.rit<<1|this.sit+1);if(t>=n)return null;var e=(new tF).Nnt(this.nit.slice(1));return 0===e.length?null:{hk:new Zj(t,n,e),Wl:i,fit:this.rit<<1|this.sit+1}},n.wc=function(){this.vit(),this.iit=1},n.dit=function(){return this.iit},n.wit=function(t){this.iit=t},n.Ynt=function(t){this.nit[this.iit].Ynt(t)},n.jnt=function(t){this.nit[this.iit].jnt(t)},n._it=function(){return this.eit},n.git=function(t){this.eit=t},n.Int=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case aF.mit:i=void 0!==lF[n]?lF[n]:String.fromCharCode(n);break;case aF.yit:i=vF[n];break;case aF.kit:this.pit(),i=dF[n];break;case aF.Ait:this.pit(),i=wF[n]}i&&this.nit[this.iit].addParsedChar(i)}},n.pit=function(){this.nit[this.iit].Qnt()},n.Tit=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.nit[t+e]=this.nit[n+e];else for(var r=0;r<i;r++)this.nit[t+r]=this.nit[n+r]},n.Sit=function(t,n){for(var i=0;i<=n;i++)this.nit[t+i]=new oF},n.vit=function(){this.Sit(0,cF)},n.Eit=function(){this.iit=this.eit>0?this.eit:0,this.vit()},n.Iit=function(t){this.uit=t},n.Rit=function(t){this.oit=t},n.Dit=function(t){this.ait=t},n.Nit=function(t){this.hit=t},t}(),cF=15;!function(t){t[t.mit=0]="mit",t[t.yit=1]="yit",t[t.kit=2]="kit",t[t.Ait=3]="Ait"}(aF||(aF={}));var fF,lF={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},vF={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},dF={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},wF={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},gF=function(){function t(t,n){this.Wi=void 0,this.Cit=void 0,this.Pit=void 0,this.Bit=void 0,this.Oit=void 0,this.xit=void 0,this.Lit=void 0,this.Mit=void 0,this.Wi=fF.jN,this.Cit=new hF(t,n),this.Pit=new hF(t,n),this.Bit=new hF(t,n),this.Oit=this.Pit,this.xit=0,this.Lit=void 0,this.Mit=!1}var n=t.prototype;return n.wc=function(){this.Mit=!0,this.xit=0,this.Wi=fF.jN,this.Oit=this.Pit,this.Lit=void 0,this.Pit.wc(),this.Bit.wc(),this.Cit.wc()},n.Uit=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Xit=function(t,n){var i=this.Uit(t,n),e=(30&n)>>1,r=sF,s=!1;e<7?r=_F[e]:7===e&&(s=!0);var u=1==(1&n);if(this.Wi!==fF.ni){var o=this.Oit;if(this.Wi===fF.Hit&&i!==o.dit()){var a=1+o.dit()-o._it(),h=1+i-o._it();o.Tit(h,a,o._it()),o.Sit(0,h-1),o.Sit(i+1,cF-i)}o.wit(i);var c=vB[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{JZ:lB[i].JZ,KZ:lB[i].KZ,$Z:lB[i].$Z,vK:t}}(c,n);o.Ynt(f.$Z),this.Oit.Iit(u),this.Oit.Rit(s),this.Oit.Dit(r),this.Oit.Nit(rF)}}},n.Fit=function(t,n){this.Oit.Iit(!1),this.Oit.Rit(!1),this.Oit.Dit(sF);var i=this.zit(t,aF.mit," ".charCodeAt(0)),e=sF,r=!1,s=1==(1&n);return"white_italics"===(e=_F[(14&n)>>1])&&(e="white",r=!0),this.Oit.Iit(s),this.Oit.Rit(r),this.Oit.Dit(e),i},n.zit=function(t,n,i){if(this.Oit.Int(n,i),this.Wi===fF.Vit||this.Wi===fF.Hit){var e=this.Wit(this.Oit,this.xit,t);return this.xit=t,e}return null},n.Wit=function(t,n,i){return this.Mit?null:t.cit(n,i)},n.Git=function(t,n){var i=rF;0==(7&t)&&(i=pF[(14&n)>>1]),this.Oit.Nit(i)},n.qit=function(t){var n=mF,i=t.Yit,e=t.jit,r=null;switch(i){case n.RCL:this.Qit();break;case n.BS:this.Zit();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.Kit(2,e);break;case n.RU3:r=this.Kit(3,e);break;case n.RU4:r=this.Kit(4,e);break;case n.FON:r=this.Jit(e);break;case n.RDC:this.$it(e);break;case n.TR:this.tet();break;case n.RTD:this.net();break;case n.EDM:r=this.iet(e);break;case n.CR:r=this.eet(e);break;case n.ENM:this.ret();break;case n.EOC:r=this.uet(e)}return r},n.eet=function(t){var n=this.Oit;if(this.Wi!==fF.Hit)return null;var i=this.Wit(n,this.xit,t),e=n.dit()-n._it()+1;return n.Tit(e-1,e,n._it()),n.Sit(0,e-1),n.Sit(n.dit(),cF-n.dit()),this.xit=t,i},n.Kit=function(t,n){this.Oit=this.Pit;var i=this.Oit,e=null;return this.Wi!==fF.Hit&&this.Wi!==fF.ni&&(e=this.Wit(i,this.xit,n),this.Pit.Eit(),this.Bit.Eit(),this.Mit=!1,i.wit(cF)),this.Wi=fF.Hit,i.git(t),e},n.Jit=function(t){return this.zit(t,aF.mit," ".charCodeAt(0))},n.iet=function(t){var n=this.Pit,i=null;return this.Wi!==fF.ni&&(i=this.Wit(n,this.xit,t)),n.vit(),this.Mit=!1,i},n.$it=function(t){this.Wi=fF.Vit,this.Oit=this.Pit,this.Oit.git(0),this.xit=t},n.ret=function(){this.Bit.vit()},n.uet=function(t){var n=null;this.Wi!==fF.ni&&(n=this.Wit(this.Pit,this.xit,t));var i=this.Bit;return this.Bit=this.Pit,this.Pit=i,this.Qit(),this.xit=t,n},n.Qit=function(){this.Wi=fF.oet,this.Oit=this.Bit,this.Oit.git(0)},n.Zit=function(){this.Oit.pit()},n.tet=function(){this.Cit.wc(),this.Mit=!1,this.net()},n.net=function(){this.Oit=this.Cit,this.Wi=fF.ni},n.aet=function(t,n,i){return this.Oit.Int(aF.mit,n),this.zit(t,aF.mit,i)},n.het=function(t,n,i){var e=1&n?aF.Ait:aF.kit;return this.zit(t,e,i)},n.cet=function(t){var n=t.fet,i=t.Yit,e=t.jit;if(this.Lit===(n<<8|i))return this.Lit=void 0,null;if(this.Lit=n<<8|i,this.vet(n,i))this.Xit(n,i);else{if(this.let(n,i))return this.Fit(e,i);if(this.det(n,i))this.Git(n,i);else{if(this.wet(n,i))return this.zit(e,aF.yit,i);if(this._et(n,i))return this.het(e,n,i);if(this.met(n,i))return this.qit(t);this.isTabOffset(n)&&this.Oit.jnt(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.met=function(t,n){return 20==(246&t)&&32==(240&n)},n.vet=function(t,n){return 16==(240&t)&&64==(192&n)},n.let=function(t,n){return 17==(247&t)&&32==(240&n)},n.det=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.wet=function(t,n){return 17==(247&t)&&48==(240&n)},n._et=function(t,n){return 18==(246&t)&&32==(224&n)},t.yet=function(t){return 16==(112&t)},t}(),mF={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.jN=0]="jN",t[t.oet=1]="oet",t[t.Vit=2]="Vit",t[t.Hit=3]="Hit",t[t.ni=4]="ni"}(fF||(fF={}));var yF,pF=["black","green","blue","cyan","red","yellow","magenta","black"],_F=["white","green","blue","cyan","red","yellow","magenta","white_italics"],bF=function(){function t(t,n,i,e,r){this.ket=void 0,this.uit=void 0,this.oit=void 0,this.hit=void 0,this.ait=void 0,this.ket=t,this.uit=n,this.oit=i,this.hit=e,this.ait=r}var n=t.prototype;return n.Fnt=function(){return this.ket},n.pet=function(){return this.uit},n.bet=function(){return this.oit},n.Aet=function(){return this.hit},n.Tet=function(){return this.ait},t}(),kF=function(){function t(t){this.Eet=void 0,this.tC=void 0,this.Iet=void 0,this.Ret=void 0,this.Det=void 0,this.Net=void 0,this.Cet=void 0,this.Pet=void 0,this.Bet=void 0,this.Oet=void 0,this.Ak=void 0,this.iit=void 0,this.xet=void 0,this.oit=void 0,this.uit=void 0,this.ait=void 0,this.hit=void 0,this.Eet=t,this.tC=!1,this.Iet=!1,this.Ret=0,this.Det=0,this.Net=0,this.Cet=0,this.Pet=0,this.Bet=yF.Let,this.Oet=[],this.Ak=0,this.iit=0,this.xet=0,this.oit=!1,this.uit=!1,this.ait=sF,this.hit=rF,this.Met()}var n=t.prototype;return n.Uet=function(t,n,i,e,r,s,u){this.tC=t,this.Det=n,this.Ret=i,this.Net=e,this.Iet=r,this.Cet=s,this.Pet=u},n.Met=function(){this.Oet=[];for(var t=0;t<TF;t++)this.Oet.push(this.Xet())},n.Xet=function(){for(var t=[],n=0;n<AF;n++)t.push(null);return t},n.Het=function(t){this.Fet()&&(this.Oet[this.iit][this.xet]=new bF(t,this.uit,this.oit,this.hit,this.ait),this.xet++)},n.zet=function(){this.Fet()&&(this.xet<=0&&this.iit<=0||(this.xet<=0?(this.xet=this.Pet-1,this.iit--):this.xet--,this.Oet[this.iit][this.xet]=null))},n.Fet=function(){var t=this.iit<this.Cet&&this.iit>=0,n=this.xet<this.Pet&&this.xet>=0;return t&&n},n.Vet=function(){return this.tC},n.Wet=function(t){for(var n=0,i=t;i<TF;i++,n++)this.Oet[n]=this.Oet[i];for(var e=0;e<t;e++,n++)this.Oet[n]=this.Xet()},n.Get=function(){if(this.iit+1>=this.Cet)return this.Wet(1),void(this.xet=0);this.iit++,this.xet=0},n.qet=function(){this.Oet[this.iit]=this.Xet(),this.xet=0},n.cit=function(t,n){if(this.Ak>=t)return null;var i=eF.Hnt(this.Oet,this.Ak,t);return i?(this.Yet(t),{hk:i,Wl:"svc"+n,fit:n}):null},n.jet=function(t,n){this.iit=t,this.xet=n},n.Qet=function(t){this.hit=t},n.Zet=function(t){this.ait=t},n.Ket=function(t){this.uit=t},n.Jet=function(t){this.oit=t},n.$et=function(){this.iit=0,this.xet=0,this.uit=!1,this.oit=!1,this.ait=sF,this.hit=rF},n.trt=function(t){this.Bet=t},n.nrt=function(){this.tC=!0},n.uy=function(){this.tC=!1},n.irt=function(){this.tC=!this.tC},n.Yet=function(t){this.Ak=t},t}();!function(t){t[t.ert=0]="ert",t[t.rrt=1]="rrt",t[t.Let=2]="Let",t[t.urt=3]="urt"}(yF||(yF={}));var AF=42,TF=15,SF=function(){function t(t){this.ort=void 0,this.art=void 0,this.hrt=void 0,this.ort=t,this.art=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.hrt=void 0}var n=t.prototype;return n.crt=function(t){var n=t.frt(),i=n.Ti,e=n.jit;i===DF&&(i=i<<16|t.frt().Ti);return i>=0&&i<=31?this.vrt(i,e):i>=128&&i<=159?this.lrt(t,i,e):(i>=4096&&i<=4127?this.drt(t,255&i):i>=4224&&i<=4255?this.wrt(t,255&i):i>=32&&i<=127?this._rt(i):i>=160&&i<=255?this.grt(i):i>=4128&&i<=4223?this.mrt(255&i):i>=4256&&i<=4351&&this.yrt(255&i),null)},n._rt=function(t){this.hrt&&(127!==t?this.hrt.Het(String.fromCharCode(t)):this.hrt.Het("\u266a"))},n.grt=function(t){this.hrt&&this.hrt.Het(String.fromCharCode(t))},n.mrt=function(t){if(this.hrt)if(void 0!==NF[t]){var n=NF[t];this.hrt.Het(n)}else this.hrt.Het("_")},n.yrt=function(t){this.hrt&&(160===t?this.hrt.Het("[CC]"):this.hrt.Het("_"))},n.vrt=function(t,n){if(!this.hrt)return null;var i=this.hrt,e=null;switch(t){case EF:i.zet();break;case RF:i.Vet()&&(e=i.cit(n,this.ort)),i.Get();break;case CF:i.Vet()&&(e=i.cit(n,this.ort)),i.qet();break;case IF:i.Vet()&&(e=i.cit(n,this.ort)),i.Met(),i.jet(0,0)}return e},n.lrt=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.krt(e)}else{if(136===n){var r=t.frt().Ti;return this.prt(r,i)}if(137===n){var s=t.frt().Ti;this.brt(s,i)}else{if(138===n){var u=t.frt().Ti;return this.Art(u,i)}if(139===n){var o=t.frt().Ti;return this.Trt(o,i)}if(140===n){var a=t.frt().Ti;return this.Srt(a,i)}if(143===n)return this.wc(i);if(144===n)this.Ert(t);else if(145===n)this.Irt(t);else if(146===n)this.jet(t);else if(151===n)this.Rrt(t);else if(n>=152&&n<=159){var h=(15&n)-8;this.Uet(t,h,i)}}}return null},n.drt=function(t,n){n>=8&&n<=15?t.NA(1):n>=16&&n<=23?t.NA(2):n>=24&&n<=31&&t.NA(3)},n.wrt=function(t,n){n>=128&&n<=135?t.NA(4):n>=136&&n<=143&&t.NA(5)},n.krt=function(t){this.art[t]&&(this.hrt=this.art[t])},n.Drt=Fr.mark(function t(n){var i;return Fr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.art[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.prt=function(t,n){for(var i=null,e=0,r=this.Drt(t);e<r.length;e++){var s=r[e],u=this.art[s];u.Vet()&&(i=u.cit(n,this.ort)),u.Met()}return i},n.brt=function(t,n){for(var i=0,e=this.Drt(t);i<e.length;i++){var r=e[i],s=this.art[r];s.Vet()||s.Yet(n),s.nrt()}},n.Art=function(t,n){for(var i=null,e=0,r=this.Drt(t);e<r.length;e++){var s=r[e],u=this.art[s];u.Vet()&&(i=u.cit(n,this.ort)),u.uy()}return i},n.Trt=function(t,n){for(var i=null,e=0,r=this.Drt(t);e<r.length;e++){var s=r[e],u=this.art[s];u.Vet()?i=u.cit(n,this.ort):u.Yet(n),u.irt()}return i},n.Srt=function(t,n){for(var i=null,e=0,r=this.Drt(t);e<r.length;e++){var s=r[e],u=this.art[s];u.Vet()&&(i=u.cit(n,this.ort)),this.art[s]=void 0}return i},n.wc=function(t){var n=this.Srt(255,t);return this.Ou(),n},n.Ou=function(){this.hrt=void 0,this.art=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.Ert=function(t){t.NA(1);var n=t.frt().Ti;if(this.hrt){var i=(128&n)>0,e=(64&n)>0;this.hrt.Jet(i),this.hrt.Ket(e)}},n.Irt=function(t){var n=t.frt().Ti,i=t.frt().Ti;if(t.NA(1),this.hrt){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,a=(48&i)>>4,h=this.Nrt(s,r,e),c=this.Nrt(a,o,u);this.hrt.Zet(h),this.hrt.Qet(c)}},n.jet=function(t){var n=t.frt().Ti,i=t.frt().Ti;if(this.hrt){var e=15&n,r=63&i;this.hrt.jet(e,r)}},n.Rrt=function(t){t.NA(1),t.NA(1);var n=t.frt().Ti;if(t.NA(1),this.hrt){var i=3&n;this.hrt.trt(i)}},n.Uet=function(t,n,i){var e=void 0!==this.art[n];if(!e){var r=new kF(n);r.Yet(i),this.art[n]=r}var s=t.frt().Ti,u=t.frt().Ti,o=t.frt().Ti,a=t.frt().Ti,h=t.frt().Ti,c=t.frt().Ti,f=(32&s)>0,l=127&u,v=(128&u)>0,d=o,w=1+(15&a),g=(240&a)>>4,m=1+(63&h);e&&0===(7&c)||this.art[n].$et(),this.art[n].Uet(f,l,d,g,v,w,m),this.hrt=this.art[n]},n.Nrt=function(t,n,i){var e={0:0,1:0,2:1,3:1};return PF[e[t]<<2|e[n]<<1|e[i]]},t}(),EF=8,IF=12,RF=13,CF=14,DF=16,NF={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},PF=["black","blue","green","cyan","red","magenta","yellow","white"],xF=function(){function t(){this.Crt=void 0,this.Prt=void 0,this.Brt=void 0,this.Crt=[],this.Prt=null,this.Brt=0}var n=t.prototype;return n.Ort=function(t){if(t._s===wj.Stt){var n=63&t.Ti;return this.Brt=2*n-1,void(this.Prt=[])}if(this.Prt&&(this.Brt>0&&(this.Prt.push(t),this.Brt--),0===this.Brt)){var i=new BF(this.Prt);this.Crt.push(i),this.Prt=null,this.Brt=0}},n.xrt=function(){return this.Crt},n.Lrt=function(){this.Crt=[]},n.Ou=function(){this.Crt=[],this.Prt=[],this.Brt=0},t}(),BF=function(){function t(t){this.Mrt=void 0,this.Urt=void 0,this.Mrt=0,this.Urt=t}var i=t.prototype;return i.Xrt=function(){return this.Mrt<this.Urt.length},i.Hrt=function(){return this.Mrt},i.frt=function(){if(!this.Xrt())throw new ff(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Urt[this.Mrt++]},i.NA=function(t){if(this.Mrt+t>this.Urt.length)throw new ff(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Mrt+=t},t}(),OF=function(){function t(){this.Frt=void 0,this.zrt=void 0,this.Vrt=void 0,this.Wrt=void 0,this.Grt=void 0,this.qrt=void 0,this.Yrt=void 0,this.jrt=void 0,this.Qrt=!1,this.Frt=[],this.zrt=[],this.Vrt=new xF,this.Wrt=0,this.Grt=Vr({CC1:new gF(0,0),CC2:new gF(0,1),CC3:new gF(1,0),CC4:new gF(1,1)}),this.qrt=0,this.Yrt=0,this.jrt=zr(),this.wc()}var i=t.prototype;return i.Ou=function(){this.Wrt=0,this.Frt=[],this.zrt=[],this.Vrt.Ou(),this.wc(),this.jrt.forEach(function(t){t.Ou()})},i.wc=function(){this.qrt=0,this.Yrt=0,this.Grt.forEach(function(t){t.wc()})},i.I8=function(t,n){if(t.Utt){var i=t.Xtt,e=t.Htt,r=t._s;r===wj.btt||r===wj.Att?this.Frt.push({jit:n,_s:r,fet:i,Yit:e,Zrt:this.Frt.length}):this.Qrt&&(this.zrt.push({jit:n,_s:r,Ti:i,Zrt:this.zrt.length}),this.zrt.push({jit:n,_s:wj.Ttt,Ti:e,Zrt:this.zrt.length}))}},i.CB=function(){var t=[];Ms(this.Frt,function(t,n){return t.jit-n.jit||t.Zrt-n.Zrt}),Ms(this.zrt,function(t,n){return t.jit-n.jit||t.Zrt-n.Zrt});for(var n=0,i=this.Frt;n<i.length;n++){var e=i[n],r=this.Krt(e);r&&t.push(r)}for(var s=0,u=this.zrt;s<u.length;s++){var o=u[s];this.Vrt.Ort(o)}for(var a=this.Vrt.xrt(),h=0;h<a.length;h++){var c=a[h],f=this.Jrt(c);t.push.apply(t,f)}return this.Vrt.Lrt(),this.Frt=[],this.zrt=[],t},i.Krt=function(t){var n=t._s;if(gF.yet(t.fet)){var i=t.fet>>3&1;0===n?this.qrt=i:this.Yrt=i}var e="CC"+(n<<1|(n?this.Yrt:this.qrt)+1),r=this.Grt.get(e);return 255===t.fet&&255===t.Yit||!t.fet&&!t.Yit||!this.$rt(t.fet)||!this.$rt(t.Yit)?(++this.Wrt>=45&&this.wc(),null):(this.Wrt=0,t.fet&=127,t.Yit&=127,t.fet||t.Yit?gF.yet(t.fet)?r.cet(t):r.aet(t.jit,t.fet,t.Yit):null)},i.Jrt=function(t){var i=[];try{for(;t.Xrt();){var e=t.frt().Ti,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.frt().Ti;if(0!==r){if(!this.jrt.has(r)){var u=new SF(r);this.jrt.set(r,u)}for(var o=this.jrt.get(r),a=t.Hrt();t.Hrt()-a<s;){var h=o.crt(t);h&&i.push(h)}}}}catch(t){if(!(t instanceof ff&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.$rt=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),LF=function(t){function n(n,i){var e;return(e=t.call(this,"tst")||this).fit=n,e.hk=i,e}return E(n,t),n}(Eu),MF=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.nst=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];this.ist(e,e.tK.Fk()+n)}this.CB()},n}(function(t){function n(){var n;return(n=t.call(this)||this).rst=void 0,n.rst=new OF,n}E(n,t);var i=n.prototype;return i.ist=function(t,n){this.rst.I8(t,n)},i.CB=function(){for(var t=this.rst.CB(),n=0;n<t.length;n++){var i=t[n];this.$s(new LF(i.fit,i.hk))}},i.wc=function(){this.rst.Ou()},i.$c=function(){this.ou(),this.rst.Ou()},n}(Tu)),jF=function(t){function n(n){var i;return(i=t.call(this)||this).sst=void 0,i.ust=void 0,i.ost=NaN,i.ast=NaN,i.hst=void 0,i.GE=void 0,i.cst=function(t){i.fst({vst:t.fit,lst:""}).KE(t.hk)},i.GE=n,i.hst=zr(),i.sst=new MF,i.sst.tu("tst",i.cst),i}E(n,t);var i=n.prototype;return i.dst=function(t){return this.hst.get(t)},i.fst=function(t){var n=this.hst.get(t.vst);return n||(n=this.wst(t),this.hst.set(t.vst,n)),n},i.wst=function(t){var n,i=Cj(t.lst),e=i?i._i:"";t._st&&(e="easy "+e),n=t.Z_?"CC "+t.Z_:e?"CC "+e:"CC"+t.vst;var r=this.GE.QE(Vb.PE,n,n,e,!1,Pp.CEA608);return this.B_(r),r},i.ntt=function(t){var n=pb.jA(Wo(t));this.ust=function(t){for(var n=0;n<t.hT.length;n++){var i=t.hT[n],e={bT:(h=t.hT[n]).FA.bT,lnt:h.mT.FA.Op},r=i.mT.NT.BT.xT.MT,s=Ws(r,function(t){return t._s===A_.Lb});if(!s){var u=Ws(r.filter(function(t){return t._s===A_.$b}),function(t){var n;return(null==(n=t.TS)?void 0:n._s)===A_.Lb});u&&(s=u.TS)}if(s){var o=CD(Wo(s.fS.zi),new Ko),a=s.lS;return Ur({},e,{bT:i.FA.bT,fS:Zo(s.fS.zi),Xk:s.Xk,ST:s.ST,LS:a&&a.LS,xS:a&&a.xS,Gz:o.fz,gst:o.vz,qz:o.lz,_z:o._z[0],gz:o.gz[0]})}}var h}(n.filter(Qj)[0])},i.l5=function(t,n,i,e){if(this.ust&&(p(this.ost)||!Ut(this.ost,n,1e-5))){p(this.ast)||Ut(n,this.ast,1e-5)||this.sst.wc();var r=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.RE.bnt&&n.push.apply(n,e.RE.bnt),delete e.RE.bnt}for(var r=0;r<n.length;r+=1)n[r].GS=r;return n.sort(dB)}(function(t,n,i,e,r){for(var s=[],u=n.filter(qj),o=e(i),a=0;a<u.length;a++){var h,c=u[a],f=Ws(c.hT,function(t){return t.FA.bT===i.bT});if(f)for(var l=f.FA.XS||0,v=f.FA.HS||0,d=f.ZS?f.ZS.ZS:vt.ZERO,w=c.WS+(null!=(h=f.FA.KS)?h:vt.ZERO).toNumber(),g=0,m=f.QS;g<m.length;g++)for(var y=m[g],p=w+(y.WS||0),_=0,b=y.iE;_<b.length;_++){var k=b[_],A=k.xu||v,T=new bj;T.Dtt(t,p,p+A);var S=g_.rp(d,i.lnt);T.RE=r(k,c,i,S,Yo(t,p,p+A)),s.push(T),p+=A,d=d.add(k.nm||l||o)}}return s}(t,pb.jA(Wo(t)),this.ust,Wj,Yj));this.sst.nst(r,e),this.ost=n,this.ast=i}},i.wc=function(){var n=this;return this.sst.wc(),this.hst.forEach(function(t){t.$c(),n.O_(t),n.GE.JE(t)}),this.hst.clear(),this.ust=void 0,this.ost=NaN,this.ast=NaN,t.prototype.wc.call(this)},i.$c=function(){return this.sst.au("tst",this.cst),this.sst.$c(),t.prototype.$c.call(this)},n}(fk);function FF(t){if(t._s===xO.Q1&&void 0!==t.R$){var n=t.R$.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.R$.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}var UF=function(){function t(t){this.x6=void 0,this.mst=!1,this.x6=t}var n=t.prototype;return n.yst=function(t,n){return this.mst?this.x6.yst(t,n):qe.resolve(!1)},n.Y5=function(t,n){return this.mst?this.x6.Y5(t,n):qe.resolve(void 0)},n.j6=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.x6.j6(t));case 2:return n=i.sent,this.mst=void 0!==n,i.abrupt("return",n);case 5:case"end":return i.stop()}},null,this,null,qe)},n.bU=function(t){return this.x6.bU(t)},t}(),HF="LLHLSPlayer",XF=[Ay.Qg,Ay.Zg,Ay.Kg,Ay.b_],zF=[Bf.Wf,Bf.qf,Bf.Rf],VF=50,WF=200,qF=2e3,GF=function(t){function e(e,r,s,u,o,a,h){var c;return(c=t.call(this)||this).PD=void 0,c.qE=void 0,c.FD=void 0,c.XD=void 0,c.kst=void 0,c.pst=void 0,c.bst=void 0,c.Ast=void 0,c.x6=void 0,c.xm=void 0,c.Lm=void 0,c.Mm=void 0,c.Tst=zr(),c.Sst=void 0,c.Est=void 0,c.UD=void 0,c.K7=void 0,c.J7=void 0,c.Ist=!1,c.YE=new ou,c.Rst=void 0,c.e5=void 0,c.BD=void 0,c.R8=void 0,c.Dst=void 0,c.Nst=new ou,c.Cst=void 0,c.i5=void 0,c.Pst=void 0,c.Bst=void 0,c.Ost=void 0,c.xst=void 0,c.Lst=void 0,c.Mst=void 0,c.Ust=void 0,c.Xst=void 0,c.Hst=[],c.nG=void 0,c.eG=void 0,c.Fst=void 0,c.zst=void 0,c.Vst=void 0,c.k7=void 0,c.Wst=new ou,c.Gst=void 0,c.tj=new ou,c.$Y=void 0,c.qst=-1,c.Yst=void 0,c.jst=void 0,c.Qst=void 0,c.Zst=void 0,c.Kst=void 0,c.Jst=void 0,c.$st=void 0,c.tut=!0,c.nut=0,c.iut=!1,c.LD=gS.jN,c.OD=void 0,c.xD=void 0,c.sG=TS.qC(),c.eut=[],c.rut=void 0,c.sut=!1,c.uut=void 0,c.out=void 0,c.aut=!1,c.hut=!1,c.cut=void 0,c.fut=void 0,c.zD=new oS,c.vut=0,c.handleContentProtectionErrorEvent=function(t){c.OD=dp(t.errorObject),c.xD=t.errorObject,c.Js(t)},c.handleBufferingErrorEvent=function(t){c.WD(new ff(n.ErrorCode.MEDIA_LOAD_ERROR,t.Au.message,t.Au))},c.lut=function(){c.wut();var t=c.nm;t!==c.uut&&(c.uut=t,c.$s(new Cy(c.uut)))},c._ut=function(){c.im&&c.$s(new Py(c.tm))},c.gut=function(){c.$s(new Sy(c.tm))},c.mut=function(){c.$s(new Ey(c.tm))},c.YD=function(){void 0!==c.fut&&i.Qn(c.fut),c.$s(new Nk(c.tm))},c.yut=function(){c.$s(new QC(c.tm))},c.uI=function(){c.$s(new Fy(c.tm,c.wg))},c.Fq=function(){var t=c.n0;Ks(c.eut,t)||(c.$s(new dM),c.eut=t),c.$s(new Ny(c.tm,c.Ay))},c.kut=tt(function(t){t.Md===gp.Pd&&c.but()&&yu(c.Aut())},WF),c.Tut=function(t){c.vut+=t.B8,"y9"===t.C8&&t.Md===gp.Pd&&yu(c.Sut())},c.hG=function(){c.$s(new By(c.tm))},c.qD=function(){c.$s(new Oy(c.tm))},c.Eut=function(){c.$s(new Ly(c.tm,c.wm))},c.Iut=function(){var t;c.PD.vm?c.$s(new Dk(c.tm)):(null!=(t=c).fut||(t.fut=i.Zn(function(){c.hut&&(c.cut=void 0,yu(c.Rut()))},fj)),c.$s(new Dk(c.tm)))},c.Dut=function(){c.hut=!0,c.$s(new My(c.tm,c.wg))},c.Nut=function(t){hu(t)||Qb(t)||Zb(t)||(c.Cut(),yu(c.Put()),c.$s(new TO(t)))},c.u5=function(){c.wut()},c.But=function(t){yu(c.Out(t.j$))},c.xut=nt(function(t){var n=[c.R8,c.Gst,c.$Y].filter(H);c.tj=new ou,c.$Y=c.hQ(n,t,c.tj.js).catch(c.Nut)},VF),c.Lut=function(t){if(!hu(t)){var i=t instanceof ff?t:new ff(n.ErrorCode.MEDIA_DECODE_ERROR,t.message,t);c.WD(i)}},c.onTextTrackChange=function(t){if(c.xst){var n=t.h_,i=Ws(c.xst.b3,function(t){return n===c.Tst.get(t.j_)});i&&(n.fg===Fm.og||n.fg===Fm.ag?(yu(c.Mut(i)),c.Tst.forEach(function(t){t!==n&&(t.fg=Fm.rg)})):c.Ust&&c.Ust===i&&yu(c.Uut(c.Lst,c.Mst,void 0)))}},c.retryOfflineRenditionsCallback=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(c.Xut===t||c.r0===t||c.u0===t){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,Fr.awrap(c.i5.W6(t,n));case 4:t.A$.V4=-1/0;case 5:case"end":return i.stop()}},null,null,null,qe)},c.Hut=function(){c.Fut()},c.zut=function(){c.Vut()},c.Wut=function(t){c.i5.J6(t.kz,t.j$.A$),c.Sst.S0();var n=c.xst;if(n){var i=void 0!==c.Lst&&!Qs(n.A0,c.Lst),e=void 0!==c.Mst&&!Qs(n.T0,c.Mst);(i||e)&&c.Uut(i?void 0:c.Lst,e?void 0:c.Mst,c.Ust).catch(K)}},c.Gut=function(t){c.i5.Z6(t.j$)},c.sP=s,c.H5=u,c.qut=o,c.x6=new UF(a),c.PD=e,c.qE=r,c.FD=new AO(c.sP.OL),c.bst=new SO(c.PD),c.Ast=new MO(c.sP),c.$st=h.retryConfiguration,c.xm=new mp,c.Lm=new mp,c.Sst=new vO(Jt(c),c.xm,c.Lm),c.Est=new Wb,c.UD=new vk(c.PD,c.qE),c.K7=new gj(c.PD),c.J7=new jF(c.PD),c.Mm=new rS([c.Est,c.UD.hT,c.K7.hT,c.J7.hT]),c.XD=new iS(c.qE),c.PD.uN=c.XD,c.kst=new YF(Jt(c),c.PD),c.pst=new xk(c.kst,!0),c.Yut(),c}E(e,t);var r=e.prototype;return r.but=function(){if(void 0===this.zst)return!1;var t=yI();if(!this.zst.P7.R9(t))return!1;var n=this.zst.P7.S9();if(void 0===n||void 0===n.y9.nm)return!1;var i=this.tm,e=this.fm,r=this.zst.E7.FC(i);return!((void 0!==r?r.hC(0)-i:0)>=2*n.y9.nm*e)&&8*n.I9/this.sP.OL.vD>=1.8*n.y9.nm},r.Aut=function(){var t,n,i,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Fr.awrap(this.b1());case 2:if(void 0!==(n=o.sent)){o.next=5;break}return o.abrupt("return");case 5:if(void 0!==(i=null==(t=this.zst)?void 0:t.P7.S9())){o.next=8;break}return o.abrupt("return");case 8:if(e=this.xst,r=g.max(0,i.I9-i.E9),s=i.I9*(n.vD/e.vD),!(r<=s)){o.next=13;break}return o.abrupt("return");case 13:return u=n.vD<e.vD,o.next=16,Fr.awrap(this.e0(n,u));case 16:case"end":return o.stop()}},null,this,null,qe)},r.jut=function(t){return tu(t,function(t){return t.vD})},r.Rut=function(){var t,n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(this.Qut());case 2:if(0!==(t=e.sent).length){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Fr.awrap(this.Zut(t));case 7:if((n=e.sent).length>0&&(t=n),void 0===(i=this.jut(t))){e.next=14;break}return e.next=13,Fr.awrap(this.e0(i,!0));case 13:this.FD.v1(i.vD);case 14:case"end":return e.stop()}},null,this,null,qe)},r.wut=function(){var t=function(t){for(var n=new TS([0,1/0]),i=0,e=0;e<t.length;e++){var r=t[e],s=r.A$.Ly;s.M_>0&&(n=n.kC(s),i=g.max(i,s.oC(0)))}if(n.M_>0)return n;return TS.GC(i)}([this.Lst,this.Mst].filter(H));0!==t.M_&&(this.BD&&this.BD.wH&&this.Kut&&(t=new TS([t.oC(0),this.BD.nm])),this.sG=t,this.K7.WE(t.oC(0)),this.J7.WE(t.oC(0)))},r.Zm=function(){return!1},r.vy=function(){return IS},r.uy=function(){fO.NT(HF,"Hiding the player."),this.PD.uy()},r.qm=function(){fO.NT(HF,"Pausing the player."),this.PD.qm()},r.Gm=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.PD.Gm(),this.Ist){n.next=4;break}return n.next=4,Fr.awrap(this.Jh());case 4:return n.next=6,Fr.awrap(t);case 6:case"end":return n.stop()}},null,this,null,qe)},r.Jut=function(){this.OD=void 0,this.xD=void 0},r.WD=function(t){this.OD||(yu(this.wc()),this.OD=dp(t),this.xD=t,this.$s(new Uy(t)))},r.sy=function(){fO.NT(HF,"Showing the player."),this.PD.sy()},r.Km=function(){throw new l("Not implemented")},r.Jm=function(){throw new l("Not implemented")},r.py=function(){},r.Qm=function(t,n,e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(fO.NT(HF,"Setting the player source to "+t.src+"."),this.Jut(),!this.Rst||my(this.Rst)){r.next=6;break}return r.next=5,Fr.awrap(this.wc());case 5:cu(e);case 6:if(t.src&&!my(t)){r.next=8;break}return r.abrupt("return");case 8:this.XD.wD(t.contentProtection),this.e5=t,this.tu(HB.p$,this.handleBufferingErrorEvent),this.i5=new aM(this.qE,this.x6,t.useCredentials,i.Ur(t.src)),this.i5.tu(eM.E6,this.u5),this.i5.tu(eM.I6,this.But),this.i5.tu(Bf.Lf,this.Js),this.i5.tu(Bf.Mf,this.Js),this.Cst=new vM(t,this.i5,this.PD),this.Mm.TD(this.Cst.Vm),this.k7=this.qut.pJ(),n.textTracks&&this.lN(n.textTracks),yk(this.Mm),this.$ut();case 22:case"end":return r.stop()}},null,this,null,qe)},r.$ut=function(){this.Nst.Gs(),this.Nst=new ou,this.Dst=this.tot(this.Dst,this.Nst.js).catch(this.Lut)},r.tot=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.LD,!t){e.next=5;break}return e.next=4,Fr.awrap(t);case 4:cu(n);case 5:if(i!==gS.jN&&this.i5){e.next=7;break}return e.abrupt("return");case 7:if(i!==gS.gA){e.next=10;break}return this.iot(n).catch(this.Lut),e.abrupt("return");case 10:this.Jh().catch(this.Lut);case 11:case"end":return e.stop()}},null,this,null,qe)},r.iot=function(t){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.i5){e.next=2;break}return e.abrupt("return");case 2:if(this.i5.t5){e.next=13;break}return e.prev=3,e.next=6,Fr.awrap(this.i5.M6(t));case 6:e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(3),fu(e.t0),this.By=!1,new ff(n.ErrorCode.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+e.t0.message,e.t0);case 13:return e.next=15,Fr.awrap(this.eot());case 15:return i=e.sent,this.rot(i),this.Sst.k0(),e.next=20,Fr.awrap(this.uot(i,t));case 20:this.oot();case 21:case"end":return e.stop()}},null,this,[[3,8]],qe)},r.eot=function(){var t,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.Xst=this.i5.p0.b0,this.Xst.length){e.next=3;break}throw new ff(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");case 3:return e.next=5,Fr.awrap(this.aot(this.Xst));case 5:if(0!==(t=e.sent).length){e.next=8;break}throw new ff(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");case 8:return e.next=10,Fr.awrap(this.Zut(t));case 10:return(i=e.sent).length>0&&(t=i),fO.NT(HF,"Selecting initial active variant stream."),e.abrupt("return",ZF(t,this.e5.abr,this.sP,this.$st.maximumBackoff));case 14:case"end":return e.stop()}},null,this,null,qe)},r.uot=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(i=JF(t.A0))||this.Pst===i){u.next=6;break}return fO.NT(HF,"Detected initial audio rendition."),this.Pst=i,u.next=6,Fr.awrap(this.hot(i,n));case 6:if(!(e=QF(t.b3))||this.Ost===e){u.next=12;break}return fO.NT(HF,"Detected initial subtitle rendition."),this.Ost=e,u.next=12,Fr.awrap(this.hot(e,n));case 12:if(e||(r=QF(t.A3))&&(fO.NT(HF,"Detected initial closed caption rendition."),this.cot(t,r)),!(s=JF(t.T0))||this.Bst===s){u.next=21;break}if(fO.NT(HF,"Detected initial video rendition."),this.Bst=s,i&&qB(s,i)){u.next=21;break}return u.next=21,Fr.awrap(this.hot(s,n));case 21:case"end":return u.stop()}},null,this,null,qe)},r.oot=function(){this.aut||(this.aut=!0,this.kst.fot())},r.hot=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(this.i5.W6(t,n));case 3:i.next=11;break;case 5:if(i.prev=5,i.t0=i.catch(0),fu(i.t0),!Qb(i.t0)&&!Zb(i.t0)){i.next=11;break}return i.next=11,Fr.awrap(this.vot(t,n));case 11:case"end":return i.stop()}},null,this,[[0,5]],qe)},r.vot=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.iut){e.next=2;break}return e.abrupt("return");case 2:if(t._s===xO.Pd){e.next=7;break}return e.next=5,Fr.awrap(this.lot(t,n));case 5:e.next=18;break;case 7:if(!(this.Xst&&this.Xst.length<=1)){e.next=12;break}return e.next=10,Fr.awrap(this.lot(t,n));case 10:e.next=18;break;case 12:return e.next=14,Fr.awrap(this.eot());case 14:return i=e.sent,this.rot(i),e.next=18,Fr.awrap(this.uot(i,n));case 18:case"end":return e.stop()}},null,this,null,qe)},r.Jh=function(){return this.R8?this.R8:(this.R8=this.Mw(this.YE.js).catch(this.Lut),this.R8)},r.Mw=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.aut){n.next=3;break}return n.next=3,Fr.awrap(this.iot(t));case 3:this.Uut(this.Pst,this.Bst,this.Ost).catch(K),this.Ist=!0;case 5:case"end":return n.stop()}},null,this,null,qe)},r.lN=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.UD.jE(i)}},r.cot=function(t,n){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i],r=FF(e);void 0!==r&&n.push({vst:r,lst:e.K_||"",Z_:e._i})}return n}(t.A3),e=0;e<i.length;e++){var r=i[e];this.J7.fst(r)}if(void 0!==n){var s=FF(n);this.J7.dst(s).fg=Fm.ag}},r.i0=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.dot(i))throw new l("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.Xst=t},r.dot=function(t){var n=this.p0;return!!n&&Qs(n.b0,t)},r.wot=function(t){if(this.xst)return Ws(this.xst.I0,function(n){return n===t})},r.rot=function(t){if(fO.NT(HF,"Setting active variant stream."),this.xst!==t){var n;if((null==(n=this.xst)?void 0:n.u2)!==(null==t?void 0:t.u2)){if(this.xst)for(var i=0,e=this.xst.b3;i<e.length;i++){var r=e[i];this.JE(r)}if(t)for(var s=0,u=t.b3;s<u.length;s++){var o=u[s];this._ot(o)}}this.xst=t,this.$s(new qM)}},r._ot=function(t){var n=this.PD.QE(Vb.wA,void 0,t._i,t.K_,t.T$);this.Est.B_(n),this.Tst.set(t.j_,n),n.tu(am.k_,this.onTextTrackChange)},r.JE=function(t){var n=this.Tst.get(t.j_);n&&(n.au(am.k_,this.onTextTrackChange),this.Est.O_(n),this.Tst.delete(t.j_),this.PD.JE(n))},r.Qut=function(){var t,n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(n=null!=(t=this.Xst)?t:this.p0.b0).length||this.Xst){r.next=4;break}return fO.NT(HF,"The HLS stream does not contain any variant streams, skipping ABR selection."),r.abrupt("return",[]);case 4:if(1!==n.length||this.Xst){r.next=7;break}return fO.NT(HF,"The HLS stream contains only a single variant stream, skipping ABR selection."),r.abrupt("return",[]);case 7:return r.next=9,Fr.awrap(this.aot(n));case 9:if(0!==(i=r.sent).length){r.next=13;break}return fO._0(HF,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),r.abrupt("return",[]);case 13:if(0!==(e=tU(i,this.$st.maximumBackoff)).length){r.next=22;break}if(!this.iut){r.next=17;break}return r.abrupt("return",[]);case 17:return fO._0(HF,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),this.nut++,r.next=21,Fr.awrap(this.got(i));case 21:return r.abrupt("return",[]);case 22:return r.abrupt("return",e);case 23:case"end":return r.stop()}},null,this,null,qe)},r.Sut=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.b1());case 2:if(void 0!==(t=i.sent)){i.next=5;break}return i.abrupt("return");case 5:return n=!!this.xst&&t.vD<this.xst.vD,i.next=8,Fr.awrap(this.e0(t,n));case 8:case"end":return i.stop()}},null,this,null,qe)},r.b1=function(){var t,n,i,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Fr.awrap(this.Qut());case 2:if(0!==(t=o.sent).length){o.next=5;break}return o.abrupt("return",void 0);case 5:return a=this.PD,h=void 0,c=void 0,h=a.tm,c=a.by.FC(h),n=c?c.hC(0)-h:0,o.next=8,Fr.awrap(this.Zut(t));case 8:return i=o.sent,e={Xk:this.PD.Xk,ST:this.PD.ST,w1:n},o.next=12,Fr.awrap(this.Ast.b1(t,this.xst,i,e));case 12:return r=o.sent,s=!!this.xst&&r.vD<this.xst.vD,u=s||this.mot(r,t,n),o.abrupt("return",u?r:void 0);case 16:case"end":return o.stop()}var a,h,c},null,this,null,qe)},r.mot=function(t,n,e){var r,s;if(t===this.Z$)return!1;if(t===this.jut(n))return!0;(!this.cut||this.cut.K$.vD>t.vD)&&(this.cut={K$:t,dnt:i.wr()});var u=i.wr()-this.cut.dnt,o=null!=(r=null==(s=this.u0)?void 0:s.A$.d1)?r:1/0;return e>=g.max(o-1,5)||u>1e3},r.got=function(t){var i,e,r,s,u,o=this;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:this.iut=!0,i=!1,e=0;case 3:if(!(e<t.length)){a.next=20;break}if(r=t[e],a.prev=5,void 0!==(s=this.Mst?Ws(r.T0,function(t){return WB(t,o.Mst)}):void 0)){a.next=9;break}return a.abrupt("continue",17);case 9:return a.next=11,Fr.awrap(this.W6(s));case 11:s.A$.V4=-1/0,i=!0,a.next=17;break;case 15:a.prev=15,a.t0=a.catch(5);case 17:e++,a.next=3;break;case 20:if(!i){a.next=26;break}return this.nut=0,a.next=24,Fr.awrap(this.yot());case 24:a.next=32;break;case 26:if(!(this.nut>this.$st.maxRetries)){a.next=29;break}return this.WD(new ff(n.ErrorCode.MEDIA_LOAD_ERROR,"The provided video renditions could not be loaded.")),a.abrupt("return");case 29:return u=g.min(this.$st.minimumBackoff*g.pow(2,this.nut-1),this.$st.maximumBackoff),a.next=32,Fr.awrap(_u(u));case 32:return this.iut=!1,a.next=35,Fr.awrap(this.Sut());case 35:case"end":return a.stop()}},null,this,[[5,15]],qe)},r.aot=function(t){var n,i=this;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(eu(t,function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.kz){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t1=!t.kz.yz,n.t1){n.next=7;break}return n.next=6,Fr.awrap(i.bst.dH('audio/mp4; codecs="'+t.kz.yz+'"'));case 6:n.t1=n.sent;case 7:if(n.t0=n.t1,!n.t0){n.next=15;break}if(n.t2=!t.kz.mz,n.t2){n.next=14;break}return n.next=13,Fr.awrap(i.bst.dH('video/mp4; codecs="'+t.kz.mz+'"'));case 13:n.t2=n.sent;case 14:n.t0=n.t2;case 15:return n.abrupt("return",n.t0);case 16:case"end":return n.stop()}},null,null,null,qe)}));case 2:return(n=e.sent).some(function(t){var n;return null==(n=t.kz)?void 0:n.mz})&&(n=n.filter(function(t){return!t.kz||t.kz.mz})),n.some(function(t){var n;return null==(n=t.kz)?void 0:n.yz})&&(n=n.filter(function(t){return!t.kz||t.kz.yz})),e.abrupt("return",n);case 6:case"end":return e.stop()}},null,null,null,qe)},r.Zut=function(t){var n=this;return eu(t,function(t){var i,e,r,s,u=[JF(t.A0),JF(t.T0),QF(t.b3),QF(t.A3)].filter(H);return i=u,e=function(t){return n.kot(t)},Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=10;break}return s=i[r],t.next=5,Fr.awrap(e(s));case 5:if(t.sent){t.next=7;break}return t.abrupt("return",!1);case 7:r++,t.next=1;break;case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}},null,null,null,qe)})},r.kot=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==t.A$.S1.length){r.next=2;break}return r.abrupt("return",!1);case 2:if((n=t.A$.S1[0]).N$){r.next=5;break}return r.abrupt("return",!1);case 5:return i=n.N$,e=i.E1?jO(i.E1.oC,i.E1.M_):void 0,r.prev=7,r.next=10,Fr.awrap(this.x6.yst(i.Ti,e));case 10:return r.abrupt("return",r.sent);case 13:return r.prev=13,r.t0=r.catch(7),r.abrupt("return",!1);case 16:case"end":return r.stop()}},null,this,[[7,13]],qe)},r.e0=function(t,n){var i,e,r,s=this;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.Ist){u.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded.");case 2:if(t){u.next=4;break}throw new l("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");case 4:if(this.dot(t)){u.next=6;break}throw new l("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");case 6:if(t!==this.xst){u.next=9;break}return fO.NT(HF,"Trying to set the already active variant stream, ignoring."),u.abrupt("return");case 9:return i=this.Lst?Ws(t.A0,function(t){return WB(t,s.Lst)}):void 0,e=this.Mst?Ws(t.T0,function(t){return WB(t,s.Mst)}):void 0,r=this.Ust?Ws(t.b3,function(t){return WB(t,s.Ust)}):void 0,this.rot(t),this.cut=void 0,u.next=16,Fr.awrap(this.Uut(i,e,r,n));case 16:case"end":return u.stop()}},null,this,null,qe)},r.s0=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Ist){i.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.xst){i.next=4;break}throw new l("LLHLSPlayer - Cannot set the active audio rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new l("LLHLSPlayer - Cannot explicitly set the active audio rendition to undefined.");case 6:if(n=this.wot(t)){i.next=9;break}throw new l("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");case 9:return fO.NT(HF,"Switching audio rendition"),i.next=12,Fr.awrap(this.Uut(n,this.Mst,this.Ust,!1,!0,!1));case 12:case"end":return i.stop()}},null,this,null,qe)},r.o0=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Ist){i.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.xst){i.next=4;break}throw new l("LLHLSPlayer - Cannot set the active video rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new l("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.wot(t)){i.next=9;break}throw new l("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");case 9:return fO.NT(HF,"Switching video rendition"),i.next=12,Fr.awrap(this.Uut(this.Lst,n,this.Ust,!1,!1,!0));case 12:case"end":return i.stop()}},null,this,null,qe)},r.Mut=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Ist){i.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.xst){i.next=4;break}throw new l("LLHLSPlayer - Cannot set the active subtitle rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new l("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.wot(t)){i.next=9;break}throw new l("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");case 9:return fO.NT(HF,"Switching subtitle rendition"),i.next=12,Fr.awrap(this.Uut(this.Lst,this.Mst,n));case 12:case"end":return i.stop()}},null,this,null,qe)},r.Out=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.iut){i.next=2;break}return i.abrupt("return");case 2:if(t._s===xO.Pd){i.next=7;break}return i.next=5,Fr.awrap(this.lot(t,n));case 5:i.next=17;break;case 7:if(!(this.Xst&&this.Xst.length<=1)){i.next=15;break}if(this.Mst===t){i.next=11;break}return i.next=11,Fr.awrap(this.Uut(this.Lst,t,this.Ust));case 11:return i.next=13,Fr.awrap(this.lot(t,n));case 13:i.next=17;break;case 15:return i.next=17,Fr.awrap(this.Sut());case 17:case"end":return i.stop()}},null,this,null,qe)},r.W6=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(this.i5.W6(t,n));case 3:i.next=12;break;case 5:if(i.prev=5,i.t0=i.catch(0),fu(i.t0),!Qb(i.t0)&&!Zb(i.t0)){i.next=11;break}return i.next=11,Fr.awrap(this.Out(t,n));case 11:throw i.t0;case 12:case"end":return i.stop()}},null,this,[[0,5]],qe)},r.lot=function(t,i){var e,r=this;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(!Qs(this.Hst,t)){s.next=2;break}return s.abrupt("return");case 2:return this.Hst.push(t),s.prev=3,e=t._s===xO.wA||t._s===xO.Q1?this.$st.maxRetries:1/0,s.next=7,Fr.awrap(Hy(function(){return r.retryOfflineRenditionsCallback(t,i)},i,e,this.$st.minimumBackoff,this.$st.maximumBackoff));case 7:s.next=12;break;case 9:s.prev=9,s.t0=s.catch(3),this.WD(new ff(n.ErrorCode.MEDIA_LOAD_ERROR,s.t0.message,s.t0));case 12:if(s.prev=12,$s(this.Hst,t),t.A$.V4!==-1/0){s.next=17;break}return s.next=17,Fr.awrap(this.yot());case 17:return s.finish(12);case 18:case"end":return s.stop()}},null,this,[[3,9,12,18]],qe)},r.Uut=function(t,n,i,e,r,s){return void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===s&&(s=!1),this.Lst===t&&this.Mst===n&&this.Ust===i?qe.resolve():void 0===t&&void 0===n?qe.reject(new l("Trying to buffer no media renditions.")):(this.Lst=t,this.Mst=n,this.Ust=i,this.wut(),this.$s(new GM),this.tj.Gs(),this.tj=new ou,this.Wst.Gs(),this.Wst=new ou,this.Gst=this.pot([this.Gst,this.$Y].filter(H),t,n,i,e,r,s,this.Wst.js).catch(this.Nut),this.Gst)},r.pot=function(t,n,i,e,r,s,u,o){var a,h,c,f,l,v,d,w,g=this;return Fr.async(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,Fr.awrap(qe.all(t.map(function(t){return t.catch(K)})));case 2:return this.Cut(),m.next=5,Fr.awrap(this.Put());case 5:return h=[],s&&this.BD&&this.BD.KW&&h.push(this.BD.KW.$h(0,1/0)),u&&this.BD&&this.BD.JW&&h.push(this.BD.JW.$h(0,1/0)),m.next=10,Fr.awrap(qe.all(h));case 10:return cu(o),m.next=13,Fr.awrap(this.bot(n,i,o));case 13:return c=m.sent,this.Aot(n,i,r||c),this.Tot(e,r),cu(o),f=n&&i&&qB(n,i),l=[i,f?void 0:n,e].filter(H),m.prev=19,m.next=22,Fr.awrap(qe.all(l.filter(function(t){return!t.A$.F4}).map(function(t){var n;return null==(n=g.i5)?void 0:n.G6(t,o)})));case 22:m.next=27;break;case 24:m.prev=24,m.t0=m.catch(19),fu(m.t0);case 27:cu(o),this.dG(),this.wut(),void 0!==this.rut?this.xut(this.rut):!this.sut&&null!=(a=this.Z$)&&a.A$.oC?(d=null==(v=this.Z$)?void 0:v.A$.oC.X2,w=d,d<0&&(w+=this.Z$.A$.U4.hC(this.Z$.A$.U4.M_-1)),this.xut(w)):!this.sut&&l.every(function(t){return!t.A$.J2})?this.xut(1/0):this.Sot.length>0&&this.Eot();case 31:case"end":return m.stop()}},null,this,[[19,24]],qe)},r.bot=function(t,n,i){var e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return s=void 0!==t&&t!==n,u=void 0!==n,l.next=4,Fr.awrap(this.Iot(t,n,this.xst));case 4:if(o=l.sent,cu(i),!this.BD||o){l.next=8;break}return l.abrupt("return",!1);case 8:if(a=void 0!==(null==(e=this.BD)?void 0:e.KW),h=void 0!==(null==(r=this.BD)?void 0:r.JW),s!==a||u!==h||!o||!this.BD||!this.BD.sH(o)){l.next=17;break}return l.next=14,Fr.awrap(this.Rot(i));case 14:return l.next=16,Fr.awrap(this.BD.uH(o));case 16:return l.abrupt("return",!0);case 17:for(c=0,f=this.Sot;c<f.length;c++)f[c].O7.forEach(function(t){return t.Gs()});if(this.PD.pQ(),l.prev=19,!this.BD){l.next=23;break}return l.next=23,Fr.awrap(this.PD.wc());case 23:return l.next=25,Fr.awrap(this.Dot(o,s,u));case 25:this.BD=l.sent;case 26:return l.prev=26,this.PD.bQ(),l.finish(26);case 29:return l.abrupt("return",!0);case 30:case"end":return l.stop()}},null,this,[[19,,26,29]],qe)},r.Iot=function(t,n,i){var e,r,s,u,o,a,h,c,f,l,v,d;return Fr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(o=i.kz,a=[],!o||!o.yz){w.next=8;break}h='audio/mp4; codecs="'+o.yz+'"',fO.NT(HF,"Configuring MediaSource for initial audio rendition with codec: "+h+"."),a.push(h),w.next=10;break;case 8:if(void 0===t){w.next=10;break}return w.abrupt("return",void 0);case 10:if(!o||!o.mz){w.next=16;break}c='video/mp4; codecs="'+o.mz+'"',fO.NT(HF,"Configuring MediaSource for initial video rendition with codec: "+c+"."),a.push(c),w.next=18;break;case 16:if(void 0===n){w.next=18;break}return w.abrupt("return",void 0);case 18:if(0!==a.length){w.next=21;break}return fO._0(HF,"No codecs found on the active variant stream."),w.abrupt("return",void 0);case 21:return f=null!=(e=null==n?void 0:null==(r=n.A$.S1[0])?void 0:r.z2)?e:[],l=null!=(s=null==t?void 0:null==(u=t.A$.S1[0])?void 0:u.z2)?s:[],v=this.i5.p0,w.next=26,Fr.awrap(tL(this.e5.contentProtection,a,v.S6.concat(l).concat(f),this.qE,this.e5.useCredentials));case 26:return d=w.sent,w.abrupt("return",{_s:pk.nI,_G:a.map(function(t){return{Gl:t}}),hN:d});case 28:case"end":return w.stop()}},null,this,null,qe)},r.Dot=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,Fr.awrap(this.PD.Jh(t));case 3:e=r.sent,r.next=7;break;case 6:e=new QM(this.PD,n,i);case 7:return this.BD=e,this.dG(),this.Fut(),this.Vut(),r.abrupt("return",e);case 12:case"end":return r.stop()}},null,this,null,qe)},r.dG=function(){var t=this.BD;if(t&&p(t.nm)){var n,i,e,r=null!=(n=null==(i=this.Lst)?void 0:i.A$.nm)?n:null==(e=this.Mst)?void 0:e.A$.nm;void 0!==r&&r>0&&t.vG(r)}this.wut()},r.Fut=function(){var t=this.BD;t&&(t.JW&&(t.JW.XL=this.sP.tM),t.KW&&(t.KW.XL=this.sP.tM))},r.Vut=function(){var t=this.BD;t&&(t.JW&&(t.JW.VL=this.sP.VL),t.KW&&(t.KW.VL=this.sP.VL))},r.Aot=function(t,n,i){if(!this.BD)throw new l("Invalid state");this.BD.KW?this.nG&&this.nG.ttt(this.BD.KW)||(this.nG=new cj(gp.Cd,this.BD.KW,this.K7,this.J7)):this.nG=void 0,this.BD.JW?this.eG&&this.eG.ttt(this.BD.JW)||(this.eG=new cj(gp.Pd,this.BD.JW,this.K7,this.J7)):this.eG=void 0;var e,r,s,u,o,a,h,c,f,v,d,w,g,m,y,p=t&&n&&qB(t,n);if(this.eG&&n){var _=p&&this.nG?[this.eG,this.nG]:[this.eG];this.zst?this.zst.j$!==n&&(i&&(this.zst.Gs(),this.zst.b7.Ou()),this.zst.Z8(n)):(this.zst=(e=n,r=_,this.PD,s=this.i5,u=this.qE,o=this.x6,a=this.H5,h=this.k7,c=this.sP,f=this.e5.useCredentials,v=new MM,d=new PM(gp.Pd,e,s,v,u,o,a,f),w=r.map(function(t){return t._s}),g=h.Not(e,v,s.p0.AE,w),(m=new WM(d,v,g,c)).p7(r),m),this.zst.P7.tu(IM.N8,this.kut),this.zst.P7.tu(IM.P8,this.Tut),this.zst.B7.tu(LM.K9,this.Wut),this.zst.B7.tu(LM.J9,this.Gut)),this.zst.p7(_)}else{var b;null==(b=this.zst)||b.Xs(),this.zst=void 0}this.nG&&t&&!p?(this.Fst?this.Fst.j$!==t&&(i&&(this.Fst.Gs(),this.Fst.b7.Ou()),this.Fst.Z8(t)):(this.Fst=function(t,n,i,e,r,s,u,o,a,h){var c=new MM,f=new PM(gp.Cd,t,e,c,r,s,u,h),l=o.Not(t,c,e.p0.AE,[n._s]),v=new WM(f,c,l,a);return v.p7([n]),v}(t,this.nG,this.PD,this.i5,this.qE,this.x6,this.H5,this.k7,this.sP,this.e5.useCredentials),this.Fst.P7.tu(IM.P8,this.Tut),this.Fst.B7.tu(LM.K9,this.Wut),this.Fst.B7.tu(LM.J9,this.Gut)),this.Fst.p7([this.nG])):(null==(y=this.Fst)||y.Xs(),this.Fst=void 0);this.Cot()},r.Tot=function(t,n){this.Vst&&(this.Vst.P7.j$===t?n&&(this.Vst.Gs(),this.Vst.b7.Ou()):(this.Vst.Xs(),this.Vst=void 0));if(!this.Vst&&t){var i=this.Tst.get(t.j_);i.fg=Fm.ag,this.Vst=function(t,n,i,e,r,s,u){var o=i.p0.AE,a=new FM(n,o),h=new MM,c=new PM(gp.ni,t,i,h,e,r,s,u),f=new VM(t,h,o,gp.ni),l=new WM(c,h,f);return l.A7(a),l}(t,i,this.i5,this.qE,this.x6,this.H5,this.e5.useCredentials)}},r.Cot=function(){var t=[this.nG,this.eG].filter(H).map(function(t){return t._s});this.i5.p0.AE.c6(t)},r.hQ=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(qe.all(t.map(function(t){return t.catch(K)})));case 2:return cu(i),r.next=5,Fr.awrap(this.Put());case 5:cu(i),this.rut=void 0,this.out=void 0,this.sut=!0,e=this.Pot.gC(n),this.PD.Xu(e),this.Ist&&this.Sot.length>0&&(this.Bot(this.PD.tm),this.Eot());case 12:case"end":return r.stop()}},null,this,null,qe)},r.Bot=function(t){for(var n=0,i=this.Sot;n<i.length;n++){var e=i[n];e.t9(t)||(e.N7(),e.b7.X9()),e.I7(t)||(e.C7(),e.b7.H9())}},r.Cut=function(){for(var t=0,n=this.Sot;t<n.length;t++){n[t].Gs()}},r.Put=function(){return qe.all([this.Oot(),this.xot(),this.Lot()])},r.Eot=function(){this.Mot(),this.Uot(),this.Xot()},r.yot=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.Ist&&this.Sot.length>0)){t.next=6;break}return this.Sot.forEach(function(t){return t.N7()}),t.next=4,Fr.awrap(this.Oot());case 4:this.Mot(),this.Sot.forEach(function(t){return t.P7.u9()});case 6:case"end":return t.stop()}},null,this,null,qe)},r.Mot=function(){var t=this;if(!this.Zst){var n=function(){t.Zst=void 0};this.Yst=new ou,this.Zst=this.Hot(this.Yst.js).catch(this.Nut).then(n,n)}},r.Oot=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Yst)||t.Gs(),n=this.Zst,this.Zst=void 0,!n){i.next=6;break}return i.next=6,Fr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,qe)},r.Hot=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:cu(t),n=this.Sot;case 2:for(i=[],e=this.PD.tm,r=0;r<n.length;r++)s=n[r],u=s.P7,o=s.S7(e),u.I5?i.push(u.D5()):s.D7(e,o,this.sP.tM)&&((a=u.n9(o))?(c=a[0],f=a[1],u.v9(c,f,s.g5)):((h=u.j$.A$.S1).length&&h[0].ck>o&&(this.tm=1/0),u.h9(),u.r9(o)),i.push(u.D5()));if(0!==i.length){l.next=13;break}if(!n.every(function(t){return t.P7.D9})){l.next=9;break}return l.abrupt("break",17);case 9:return l.next=11,Fr.awrap(this.PD.wu(Bf.ev,t));case 11:l.next=15;break;case 13:return l.next=15,Fr.awrap(vu(qe.race(i),t));case 15:l.next=2;break;case 17:case"end":return l.stop()}},null,this,null,qe)},r.Uot=function(){var t=this;if(!this.Kst){var n=function(){t.Kst=void 0};this.jst=new ou,this.Kst=this.Fot(this.jst.js).catch(this.Nut).then(n,n)}},r.xot=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.jst)||t.Gs(),n=this.Kst,this.Kst=void 0,!n){i.next=6;break}return i.next=6,Fr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,qe)},r.Fot=function(t){var n,i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:cu(t),n=this.Sot;case 2:for(i=[],e=0;e<n.length;e++)r=n[e],s=r.P7,(u=r.B7).I5?i.push(u.D5()):(o=s.K8())?"y9"===o._s?(u.a7(o),i.push(u.D5())):"Y2"===o._s&&(u.u7(o),i.push(u.D5())):i.push(s.o9());if(0!==i.length){a.next=12;break}if(!n.every(function(t){return t.P7.D9})){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Fr.awrap(this.PD.wu(Bf.ev,t));case 10:a.next=14;break;case 12:return a.next=14,Fr.awrap(vu(qe.race(i),t));case 14:a.next=2;break;case 16:case"end":return a.stop()}},null,this,null,qe)},r.Xot=function(){var t=this;if(!this.Jst){this.Qst=new ou;var n=function(){t.Jst=void 0};this.Jst=this.zot(this.Qst.js).catch(this.Nut).then(n,n)}},r.Lot=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Qst)||t.Gs(),n=this.Jst,this.Jst=void 0,!n){i.next=6;break}return i.next=6,Fr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,qe)},r.zot=function(t){var n,i,e,r,s,u,o,a,h,c,f,l,v,d=this;return Fr.async(function(w){for(;;)switch(w.prev=w.next){case 0:for((n=this.Sot).forEach(function(t){return t.T7()}),i=[],e=[],r=[],s=0;s<n.length;s++)for(u=n[s],o=u.B7,a=0,h=u.O7;a<h.length;a++)c=h[a],f=c.S5?i:e,c.I5?f.push(c.D5()):c.N5(this.PD.tm)||((l=o.v7(c._s))?"y9"===l._s&&l.Z2===this.qst?(c.x5(l),f.push(c.D5())):"w7"===l._s&&l.Z2===this.qst&&(c.FV(l),f.push(c.D5())):r.push(o.l7(c._s)));if(0!==i.length){w.next=15;break}if(!((v=Js(n,function(t){return t.O7.filter(function(t){return t.S5}).map(function(n){return t.B7.v7(n._s)})})).length>0&&v.every(function(t){return void 0!==t&&"w7"===t._s&&t.Z2!==d.qst}))){w.next=15;break}return w.next=12,Fr.awrap(function(){var i,e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(e=nu(i=v,function(t){return t.Z2}).Z2,!i.every(function(t){return t.Z2===e})){l.next=20;break}return r=tu(i,function(t){return t.ck}).ck,l.next=7,Fr.awrap(d.Vot(i));case 7:if(s=l.sent,!d.BD.sH(s)){l.next=15;break}return fO.w0("Discontinuity","Seamless switch from",d.BD.cc,"to",s),l.next=12,Fr.awrap(d.BD.uH(s));case 12:fO.w0("Discontinuity","Seamless switch complete."),l.next=17;break;case 15:return l.next=17,Fr.awrap(d.Wot(r,s,t));case 17:d.qst=i[0].Z2,l.next=21;break;case 20:for(u=0;u<n.length;u++)for(o=n[u],a=0,h=o.O7;a<h.length;a++)for(c=h[a],f=o.B7.v7(c._s);f&&f.Z2!==e;)o.B7.B5(f),f=o.B7.v7(c._s);case 21:return l.abrupt("return","continue");case 22:case"end":return l.stop()}},null,null,null,qe)}());case 12:if("continue"!==w.sent){w.next=15;break}return w.abrupt("continue",0);case 15:if(0!==i.length||0!==e.length||0!==r.length){w.next=19;break}return n.every(function(t){return t.O7.length>0&&t.O7.every(function(t){return t.N5(d.PD.tm)})})&&this.BD.oW(),w.abrupt("break",23);case 19:return w.next=21,Fr.awrap(vu(qe.race([].concat(i,e,r)),t));case 21:w.next=0;break;case 23:case"end":return w.stop()}},null,this,null,qe)},r.Vot=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.map(function(t){return t._7.kz}),i=n.map(function(t){return{Gl:t}}),(e=Js(t,function(t){return t._7.z2})).push.apply(e,this.i5.p0.S6),s.next=6,Fr.awrap(tL(this.e5.contentProtection,n,e,this.qE,this.e5.useCredentials));case 6:return 0===(r=s.sent).length&&this.BD&&this.BD.cc.hN.length>0&&(r=this.BD.cc.hN),s.abrupt("return",{_s:pk.nI,_G:i,hN:r});case 9:case"end":return s.stop()}},null,this,null,qe)},r.Wot=function(t,n,i){var e,r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(r=this.BD,s=r.nm,!(u=this.tm<t)){h.next=19;break}h.prev=4,fO.w0("Discontinuity","Marking end of stream and waiting for ended to switch discontinuity."),r.oW();case 7:if(this.PD.im||!(this.PD.tm<t)){h.next=12;break}return h.next=10,Fr.awrap(this.PD.wu([Bf.ev,Bf.Bf],i));case 10:h.next=7;break;case 12:h.next=19;break;case 14:throw h.prev=14,h.t0=h.catch(4),r.eW(),r.vG(s),h.t0;case 19:return fO.w0("Discontinuity","Perform hard switch from",null==(e=this.BD)?void 0:e.cc,"to",n),h.prev=20,this.tm<t&&(this.tm=t),this.PD.pQ(),this.eG=void 0,this.nG=void 0,this.Cot(),h.next=28,Fr.awrap(this.PD.wc());case 28:return h.next=30,Fr.awrap(this.PD.Jh(n));case 30:this.BD=h.sent,this.dG(),this.Fut(),this.Vut(),this.BD.JW&&(this.eG=new cj(gp.Pd,this.BD.JW,this.K7,this.J7)),this.BD.KW&&(this.nG=new cj(gp.Cd,this.BD.KW,this.K7,this.J7)),this.Cot();case 37:return h.prev=37,u&&yu(this.PD.Gm()),this.PD.bQ(),h.finish(37);case 41:this.zst&&(o=void 0!==this.nG&&void 0===this.Fst,a=o?[this.eG,this.nG]:[this.eG],this.zst.p7(a)),this.Fst&&this.Fst.p7([this.nG]),fO.w0("Discontinuity","Hard switch complete.");case 44:case"end":return h.stop()}},null,this,[[4,14],[20,,37,41]],qe)},r.Rot=function(t){return vu(pu(Js(this.Sot,function(t){return t.O7.map(function(t){return t.D5()})})),t)},r.$c=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return fO.NT(HF,"Unloading the player."),this.Got(),this.Jut(),t.next=5,Fr.awrap(this.wc());case 5:return this.PD.uN=void 0,this.Est.$c(),t.next=9,Fr.awrap(this.UD.$c());case 9:return t.next=11,Fr.awrap(this.K7.$c());case 11:return t.next=13,Fr.awrap(this.J7.$c());case 13:this.xm.$c(),this.Lm.$c(),this.Mm.$c(),this.pst.$c(),this.kst.Xs(),this.H5.Xs();case 19:case"end":return t.stop()}},null,this,null,qe)},r.wc=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return fO.NT(HF,"Resetting the player."),this.au(HB.p$,this.handleBufferingErrorEvent),this.qst=-1,this.Nst.Gs(),this.Nst=new ou,this.YE.Gs(),this.YE=new ou,this.tj.Gs(),this.tj=new ou,this.Wst.Gs(),this.Wst=new ou,t=[this.Dst,this.R8,this.$Y,this.Gst].filter(H),n.next=14,Fr.awrap(qe.all(t.map(function(t){return t.catch(K)})));case 14:return this.Dst=void 0,this.R8=void 0,this.$Y=void 0,this.Gst=void 0,this.Lst=void 0,this.Mst=void 0,this.Ust=void 0,this.Xst=void 0,this.Pst=void 0,this.Bst=void 0,this.Ost=void 0,this.Hst=[],this.rot(void 0),this.Cut(),n.next=30,Fr.awrap(this.Put());case 30:return this.Fst&&(this.Fst.Xs(),this.Fst=void 0),this.zst&&(this.zst.Xs(),this.zst=void 0),this.Vst&&(this.Vst.Xs(),this.Vst=void 0),this.nG=void 0,this.eG=void 0,this.BD=void 0,this.k7&&(this.k7.Xs(),this.k7=void 0),this.i5&&(this.i5.Xs(),this.i5=void 0),this.Cst&&(this.Mm.ED(this.Cst.Vm),this.Cst=void 0),n.next=41,Fr.awrap(this.UD.wc());case 41:return n.next=43,Fr.awrap(this.K7.wc());case 43:return n.next=45,Fr.awrap(this.J7.wc());case 45:return this.PD.yN(),n.next=48,Fr.awrap(this.PD.wc());case 48:this.e5=void 0,this.Rst=void 0,this.Ist=!1,this.sG=TS.qC(),this.rut=void 0,this.uut=void 0,this.out=void 0,this.sut=!1,this.aut=!1,this.hut=!1,this.vut=0,this.pst.wc(),this.qot(),this.$s(new Ty(this.tm,this.wg));case 62:case"end":return n.stop()}},null,this,null,qe)},r.qot=function(){for(var t=0,n=this.xm.L_;t<n.length;t++){n[t].$c()}for(var i=0,e=this.Lm.L_;i<e.length;i++){e[i].$c()}for(var r=0,s=this.Mm.L_;r<s.length;r++){s[r].$c()}this.xm.wc(),this.Lm.wc(),this.Mm.wc(),this.Tst.clear()},r.Yut=function(){this.pst.tu(XF,this.Js),this.pst.tu(Ay.$g,this.YD),this.pst.tu(Ay.Jg,this.Iut),this.pst.tu(Ay.jg,this.Dut),this.sP.tu("HL",this.Hut),this.sP.tu("WL",this.zut),this.PD.tu(zF,this.Js),this.PD.tu(Bf.If,this.handleContentProtectionErrorEvent),this.PD.tu(Bf.Cf,this.lut),this.PD.tu(Bf.Bf,this._ut),this.PD.tu(Bf.Ff,this.gut),this.PD.tu(Bf.zf,this.mut),this.PD.tu(Bf.Vf,this.yut),this.PD.tu(Ay.b_,this.uI),this.PD.tu(Bf.ev,this.Fq),this.PD.tu(Bf.jf,this.hG),this.PD.tu(Bf.Yf,this.qD),this.PD.tu(Bf.rv,this.Eut)},r.Got=function(){this.pst.au(XF,this.Js),this.pst.au(Ay.$g,this.YD),this.pst.au(Ay.Jg,this.Iut),this.pst.au(Ay.jg,this.Dut),this.sP.au("HL",this.Hut),this.sP.au("WL",this.zut),this.PD.au(zF,this.Js),this.PD.au(Bf.If,this.handleContentProtectionErrorEvent),this.PD.au(Bf.Cf,this.lut),this.PD.au(Bf.Bf,this._ut),this.PD.au(Bf.Ff,this.gut),this.PD.au(Bf.zf,this.mut),this.PD.au(Bf.Vf,this.yut),this.PD.au(Ay.b_,this.uI),this.PD.au(Bf.ev,this.Fq),this.PD.au(Bf.jf,this.hG),this.PD.au(Bf.Yf,this.qD),this.PD.au(Bf.rv,this.Eut)},T(e,[{key:"Kut",get:function(){for(var t=[this.Lst,this.Mst].filter(H),n=0;n<t.length;n++){var i=t[n];if(!i.A$.J2)return!1;var e=i.A$.S1,r=e[e.length-1];if(r&&r.Z2!==this.qst)return!1}return!0}},{key:"Z$",get:function(){return this.xst}},{key:"r0",get:function(){return this.Lst}},{key:"u0",get:function(){return this.Mst}},{key:"Xut",get:function(){return this.Ust}},{key:"Fm",get:function(){return this.xm}},{key:"by",get:function(){return this.PD.by.SN()}},{key:"n0",get:function(){var t=[];if(this.xst)for(var n=this.PD.tm,i=0,e=this.Sot;i<e.length;i++)for(var r=0,s=e[i].O7;r<s.length;r++){var u=s[r].P5(n);u&&!Qs(t,u)&&t.push(u)}return t}},{key:"Ay",get:function(){if(this.xst){var t=this.PD.tm;return this.xst.d3(t)}},set:function(t){if(t&&this.xst){var n=this.xst.w3(t);void 0!==n&&(this.tm=n)}}},{key:"tm",get:function(){var t;return null!=(t=this.rut)?t:this.PD.tm},set:function(t){fO.NT(HF,"Seeking to "+t+" s."),this.rut=t,this.out=!0,this.sut=!0,this.$s(new By(t)),this.tj.Gs(),this.Ist&&this.xut(t)}},{key:"nm",get:function(){var t,n,i,e,r,s,u;if(!this.Kut)return null!=(t=null!=(n=null!=(i=null==(e=this.Lst)?void 0:e.A$.nm)?i:null==(r=this.Mst)?void 0:r.A$.nm)?n:null==(s=this.i5)?void 0:null==(u=s.n5)?void 0:u.A$.nm)?t:1/0;var o=this.PD.nm;if(p(o)){var a,h,c,f=null!=(a=null==(h=this.Bst)?void 0:h.A$.nm)?a:null==(c=this.Pst)?void 0:c.A$.nm;if(void 0!==f)return f}return o}},{key:"im",get:function(){if(!this.Kut)return!1;if(this.vm&&this.Ist){var t,n,i=this.tm,e=null==(t=this.Lst)?void 0:t.A$.nm,r=null==(n=this.Mst)?void 0:n.A$.nm;return!(void 0!==e&&i<e)&&!(void 0!==r&&i<r)}return this.PD.im}},{key:"Au",get:function(){return this.OD}},{key:"um",get:function(){return this.xD}},{key:"Wm",get:function(){}},{key:"Sy",get:function(){return!1}},{key:"Ey",get:function(){return Ur({},{Iy:0,Ry:0,Dy:0,Ny:0,Cy:0,Py:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.PD.IN(),{Cy:this.vut,Ny:this.sP.OL.vD})}},{key:"p0",get:function(){var t;return null==(t=this.i5)?void 0:t.p0}},{key:"hm",get:function(){return this.PD.hm},set:function(t){this.PD.hm=t}},{key:"By",get:function(){return this.tut},set:function(t){this.tut!==t&&(this.tut=t,this.$s(t?new nj:new ij))}},{key:"cm",get:function(){return this.PD.cm}},{key:"fm",get:function(){return this.PD.fm},set:function(t){fO.NT(HF,"Setting playback rate to "+t+"."),this.PD.fm=t}},{key:"Oy",get:function(){return this.Yot.SN()}},{key:"Yot",get:function(){return this.PD.Oy}},{key:"xy",get:function(){return this.LD},set:function(t){this.LD!==t&&(this.LD=t,this.$ut())}},{key:"wg",get:function(){var t=this.PD.wg;return this.aut&&(t=g.max(sy.Wg,t)),t}},{key:"Ly",get:function(){return this.Pot.SN()}},{key:"Pot",get:function(){var t=this.sG,n=[this.Lst,this.Mst].filter(H);if(t.M_>0&&n.some(function(t){return!t.A$.J2})){var i=this.Yot,e=t.hC(t.M_-1);if(i.M_>0&&i.hC(i.M_-1)>e){var r=i.hC(i.M_-1),s=n.reduce(function(t,n){return t.kC(n.A$.U4)},new TS([0,1/0]));s.M_>0&&(r=g.min(r,s.hC(s.M_-1))),t=t.EC(new TS([e,r]))}}return t}},{key:"vm",get:function(){var t;return null!=(t=this.out)?t:this.PD.vm}},{key:"RN",get:function(){}},{key:"Vm",get:function(){return this.Mm}},{key:"zm",get:function(){return this.Lm}},{key:"lm",get:function(){return this.PD.lm}},{key:"dm",get:function(){return this.PD.dm}},{key:"wm",get:function(){return this.PD.wm},set:function(t){fO.NT(HF,"Setting volume to "+t+"."),this.PD.wm=t}},{key:"My",get:function(){return this.zD}},{key:"Uy",get:function(){return!1},set:function(t){}},{key:"DN",get:function(){return this.FD}},{key:"Sot",get:function(){return[this.Fst,this.zst,this.Vst].filter(H)}}]),e}(Tu),$F=function(){function t(){}return t.prototype.CN=function(n,i){var e;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(cy(n.type)){i.next=2;break}return i.abrupt("return",!1);case 2:if(!n.useNativePlayback){i.next=4;break}return i.abrupt("return",!1);case 4:if(!(e=n.contentProtection)||gA(e)){i.next=12;break}if(pA(e)){i.next=8;break}return i.abrupt("return",!1);case 8:return i.next=10,Fr.awrap(t.jot(e));case 10:if(i.sent){i.next=12;break}return i.abrupt("return",!1);case 12:return i.abrupt("return",!0);case 13:case"end":return i.stop()}},null,null,null,qe)},t.jot=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.aes128){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t0=t.playready,!n.t0){n.next=7;break}return n.next=6,Fr.awrap(i.Br());case 6:n.t0=n.sent;case 7:if(!n.t0){n.next=9;break}return n.abrupt("return",!0);case 9:if(n.t1=t.widevine,!n.t1){n.next=14;break}return n.next=13,Fr.awrap(i.Or());case 13:n.t1=n.sent;case 14:if(!n.t1){n.next=16;break}return n.abrupt("return",!0);case 16:if(n.t2=t.clearkey,!n.t2){n.next=21;break}return n.next=20,Fr.awrap(i.Cr());case 20:n.t2=n.sent;case 21:if(!n.t2){n.next=23;break}return n.abrupt("return",!0);case 23:if(!t.fairplay){n.next=25;break}return n.abrupt("return",!1);case 25:return n.next=27,Fr.awrap(i.Dr());case 27:return n.abrupt("return",n.sent);case 28:case"end":return n.stop()}},null,null,null,qe)},t}(),YF=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).KN=n,e}return E(n,t),n.prototype.fot=function(){this.$s(new Fy(this.tm,this.wg))},T(n,[{key:"wg",get:function(){return this.KN.wg}}]),n}(Bk);function QF(t){var n=Ws(t,function(t){return t.T$}),e=t.filter(function(t){return t.S$}),r=i.Gr,s=e.map(function(t){return t.K_}).filter(H),u=KM(s,r);return u?Ws(e,function(t){return t.K_===u}):n}function ZF(t,n,i,e){void 0===e&&(e=zy.maximumBackoff);var r=tU(function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,e=n.preferredAudioCodecs;if(void 0!==i){for(var r,s=function(n){var s=i[n],u=t.filter(function(t){return t.kz&&t.kz.mz&&VD(t.kz.mz,s)});if(0===u.length)return"continue";if(void 0===e)return{v:u};void 0===r&&(r=u);var o=KF(u,e);return void 0!==o?{v:o}:void 0},u=0;u<i.length;u++){var o=s(u);if("continue"!==o&&"object"==typeof o)return o.v}if(void 0!==r)return r}if(void 0!==e){var a=KF(t,e);if(void 0!==a)return a}return t}(t,n),e);switch(i.FL.type){case gR.BANDWIDTH:var s=i.nM,u=r.filter(function(t){return t.vD<=s});if(u.length>0)return nu(u,function(t){return t.vD});case gR.PERFORMANCE:return tu(r,function(t){return t.vD});case gR.QUALITY:return nu(r,function(t){return t.vD})}}function KF(t,n){for(var i=function(i){var e=n[i],r=t.filter(function(t){return t.kz&&t.kz.yz&&VD(t.kz.yz,e)});return 0===r.length?"continue":{v:r}},e=0;e<n.length;e++){var r=i(e);if("continue"!==r&&"object"==typeof r)return r.v}}function JF(t){var n;return null!=(n=QF(t))?n:t[0]}function tU(t,n){var e=n+qF;return t.filter(function(t){return t.T0.some(function(t){return t.A$.V4<i.wr()-e})||0===t.T0.length})}var nU=function(){function t(){}var i=t.prototype;return i.F5=function(t,i,e){var r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Fr.awrap(crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]));case 3:return r=u.sent,u.next=6,Fr.awrap(crypto.subtle.decrypt({name:"AES-CBC",iv:e},r,t));case 6:return s=u.sent,u.abrupt("return",new _(s));case 10:throw u.prev=10,u.t0=u.catch(0),new ff(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 13:case"end":return u.stop()}},null,null,[[0,10]],qe)},i.Xs=function(){},t.Ac=function(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}(),iU=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return E(n,t),n}(Eu),eU=["message","messageerror","error"],rU=function(t){function n(n){var i;return(i=t.call(this,Um.hg)||this).error=n,i}return E(n,t),n}(Eu),sU=function(t){function n(n){var i;return(i=t.call(this)||this).Qot=void 0,i.Zot=void 0,i.Kot=[],i.Jot=function(t){if(i.$ot)t.nat();else{i.Qot=t,i.Qot.tu(eU,i.Js);for(var n=0,e=i.Kot;n<e.length;n++){var r=e[n];t.iat(r.yu,r.eat)}Zs(i.Kot)}},i.rat=function(t){if(!i.$ot){var n=t instanceof l?t:new l("Could not create Worker.");i.$s(new rU(n)),i.nat()}},i.Zot=new ou,n(i.Zot.js).then(i.Jot,i.rat),i}E(n,t);var i=n.prototype;return i.iat=function(t,n){this.$ot||(void 0!==this.Qot?this.Qot.iat(t,n):this.Kot.push({yu:t,eat:n}))},i.nat=function(){this.$ot||(this.Zot.Gs(),Zs(this.Kot),void 0!==this.Qot&&this.Qot.nat())},T(n,[{key:"$ot",get:function(){return this.Zot.js.Os}}]),n}(Tu);var uU=function(t){function n(n){var i;return(i=t.call(this)||this).Qot=void 0,i.sat=function(t){i.$s(new iU("message",t.data))},i.uat=function(t){i.$s(new iU("messageerror",t.data))},i.Fj=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof l?t.error:new l(t.message);i.$s(new rU(n)),i.nat()},i.Qot=new b(n),i.Qot.addEventListener("message",i.sat),i.Qot.addEventListener("messageerror",i.uat),i.Qot.addEventListener("error",i.Fj),i}E(n,t);var i=n.prototype;return i.iat=function(t,n){n?this.Qot.postMessage(t,n):this.Qot.postMessage(t)},i.nat=function(){this.ou(),this.Qot.removeEventListener("message",this.sat),this.Qot.removeEventListener("messageerror",this.uat),this.Qot.removeEventListener("error",this.Fj),this.Qot.terminate()},n}(Tu),oU=0,aU="iframe.html",hU=function(n){function e(e,r){var u;(u=n.call(this)||this).Uh=void 0,u.oat=void 0,u.aat=void 0,u.fat=void 0,u.vat=function(){u.aat.removeEventListener("load",u.vat),u.aat.contentWindow.postMessage({type:"initialize",id:u.Uh,script:u.oat},"*")},u.dat=function(t){t.origin===u.fat&&t.data.id===u.Uh&&("initialized"===t.data.type||("error"===t.data.type?(u.$s(new rU(new l(t.data.data.message))),u.nat()):u.$s(new iU("message",t.data.data))))},u.Uh=oU++,u.oat=e;var o,a,h=i.Mr(aU,r);return u.aat=(o=h.href,(a=s.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,s.body.appendChild(a),a),u.fat=h.origin,u.aat.addEventListener("load",u.vat),t.addEventListener("message",u.dat),u}E(e,n);var r=e.prototype;return r.iat=function(t,n){n?this.aat.contentWindow.postMessage({type:"message",data:t},"*",n):this.aat.contentWindow.postMessage({type:"message",data:t},"*")},r.nat=function(){var n;this.aat.removeEventListener("load",this.vat),t.removeEventListener("message",this.dat),null==(n=this.aat.contentWindow)||n.postMessage({type:"terminate"},"*"),nr(this.aat)},e}(Tu);function cU(t,n){return t=i.Ur(t,n),new sU(function(e){return function(t,n,e){var r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,r=new uU(t),l.next=4,Fr.awrap(dU(r,e));case 4:return l.abrupt("return",r);case 7:l.prev=7,l.t0=l.catch(0),null==(s=r)||s.nat(),fu(l.t0);case 11:if(!vU||!Pf){l.next=42;break}return l.prev=12,l.next=15,Fr.awrap(i.n_.ld({wd:t,Od:fw.GET,hd:Of.ni,js:e}));case 15:return o=l.sent,l.next=18,Fr.awrap(o.Fl(e));case 18:u=l.sent,l.next=24;break;case 21:l.prev=21,l.t1=l.catch(12),fu(l.t1);case 24:if(!u){l.next=42;break}return l.prev=25,h=Pf([u],{type:"application/javascript"}),a=URL.createObjectURL(h),r=new uU(a),l.next=31,Fr.awrap(dU(r,e));case 31:return l.abrupt("return",r);case 34:l.prev=34,l.t2=l.catch(25),null==(c=r)||c.nat(),fu(l.t2),vU=!1;case 39:return l.prev=39,a&&URL.revokeObjectURL(a),l.finish(39);case 42:return l.prev=42,r=new hU(t,n),l.next=46,Fr.awrap(dU(r,e));case 46:return l.abrupt("return",r);case 49:throw l.prev=49,l.t3=l.catch(42),null==(f=r)||f.nat(),l.t3;case 53:case"end":return l.stop()}},null,null,[[0,7],[12,21],[25,34,39,42],[42,49]],qe)}(t,n,e)})}var fU,lU,vU=!0;function dU(t,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(t.wu(["message","error"],i));case 2:if("error"!==(e=r.sent).type){r.next=5;break}throw u=e.error,new ff(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",u);case 5:if(q(s=e.data)&&"5.2.0"===s.wat){r.next=7;break}throw new ff(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (5.2.0).");case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}var s,u},null,null,null,qe)}!function(t){t._at="F5",t.gat="v8"}(fU||(fU={})),function(t){t.mat="yat",t.pat="bat"}(lU||(lU={}));var wU=function(){function t(t){var e=this;this.Aat=void 0,this.Tat=void 0,this.Qot=void 0,this.Sat=0,this.Eat=Xr(),this.Iat=function(t){var i=t.data,r=i.Rat,s=e.Eat.get(r);s&&(e.Eat.delete(r),i.Dat===lU.mat?s.Qu(i.Nat):i.Dat===lU.pat&&s.Zu(new ff(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.")))},this.Aw=function(t){var i=new ff(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);e.Xs(i)},this.Aat=t;try{this.Tat=i.Ur("theoplayer.d.js",t)}catch(t){throw new ff(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var e=t.prototype;return e.Cat=function(){var t=cU(this.Tat,this.Aat);return t.tu("message",this.Iat),t.tu("error",this.Aw),t},e.F5=function(t,n,i){var e=""+ ++this.Sat,r={Pat:fU._at,Bat:e,Oat:t,xat:n,Lat:i},s=new ta;return this.Eat.set(e,s),null!=this.Qot||(this.Qot=this.Cat()),this.Qot.iat(r),s.Gu},e.Xs=function(t){void 0===t&&(t=new au),this.Eat.forEach(function(n){return n.Zu(t)}),this.Eat.clear(),this.Qot&&(this.Qot.nat(),this.Qot=void 0)},t}();function gU(t,n){if(void 0===n.yz.bT)return{yz:void 0,mz:t};if(void 0===n.mz.bT)return{yz:t,mz:void 0};for(var i=Bc(t),e=yU(i),r=yU(i),s=0;s<i.boxes.length;s++){var u=i.boxes[s];wD(u)&&(e.boxes[s]=kU(u,n.mz.bT),r.boxes[s]=kU(u,n.yz.bT))}var o=e.serialize().join(),a=r.serialize().join();return{yz:o,mz:a}}function mU(t){var n=Ws(t.boxes,fD);if(n){var i=Ws(n.boxes,lD);if(i)return i.handlerType}}function yU(t){var n,i=new Rc;return(n=i.boxes).push.apply(n,t.boxes),i}function pU(t){var n,i=new Xh;return(n=i.boxes).push.apply(n,t.boxes),i}var _U=8;function bU(t,n){for(var i=function(t){var n,i=new tc;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=AU(n),r=0;r<i.boxes.length;r++){var s=i.boxes[r];if(s===n)i.boxes[r]=new dh(new _(n.getSize()-_U));else if(vD(s)){var u=s,o=Gs(u.boxes,function(t){return t instanceof Uh&&t.trackId===e});if(o>=0){var a=u.boxes[o],h=pU(u);h.boxes[o]=new dh(new _(a.getSize()-_U)),i.boxes[r]=h}}}return i}function kU(t,n){for(var i=function(t){var n,i=new lc;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=0;e<i.boxes.length;e++){var r=i.boxes[e];if(r instanceof cc){var s=Ws(r.boxes,gD);s&&s.trackId===n&&(i.boxes[e]=new dh(new _(r.getSize()-_U)))}}return i}function AU(t){return Ws(t.boxes,cD).trackId}function TU(t,n,i,e){for(var r=Ws(t.boxes,gD),s=!0,u=0,o=t.boxes;u<o.length;u++){var a=o[u];if(a instanceof rc)a.baseMediaDecodeTime=a.baseMediaDecodeTime.subtract(i.Xp(n)._p());else if(a instanceof ec)a.baseMediaDecodeTime-=i.Hk(n);else if(a instanceof ac&&a.samples.length>0&&s){s=!1;var h=a.samples;if(!a.flags.sampleDurationPresent){a.flags.sampleDurationPresent=!0;for(var c=null!=e?e:r.defaultSampleDuration,f=0;f<h.length;f++){h[f].duration=c}}h[0].duration+=i.Hk(n),a.samples=h}}}function SU(t,n){var i=lb(pb.jA(Wo(t)),A_.tA);if(!i)throw new l("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=[],e=function(t,e){var r=e[t];if(!r.ZS||0===r.QS.length||0===r.QS[0].iE.length)return"continue";for(var s=r.FA.bT,u=Ws(n.hT,function(t){return t.bT===s}),o=0,a=1/0,h=0,c=r.FA.XS||0,f=0,l=r.QS;f<l.length;f++)for(var v=0,d=l[f].iE;v<d.length;v++){var w,g=d[v],m=g.eE||0,y=o+m,p=(o+=null!=(w=g.nm)?w:c)+m;y<a&&(a=y),p>h&&(h=p)}var _=g_.rp(r.ZS.ZS,u.Op);i.push({bT:s,Mat:_,yJ:_.Hy(g_.sp(a,u.Op)),Uat:_.Hy(g_.sp(o,u.Op)),Xat:_.Hy(g_.sp(h,u.Op))})},r=0,s=t.hT;r<s.length;r++)e(r,s);return i}(i,n)}var EU,IU=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,i,e,r,s)||this).Xw=void 0,u.Hat=void 0,u.Fat=void 0,u.zat=void 0,u.Vat=void 0,u.Wat=0,u.Gat=0,u.qat=zr(),u.Xw=n,u}E(i,t);var e=i.prototype;return e.o7=function(n,i){return t.prototype.o7.call(this,n,i)},e.Yat=function(t){var n;return this.qat.has(t.Z2)?n=this.qat.get(t.Z2):(n=aj(t.y9.zi.zi),this.qat.set(t.Z2,n)),n},e.h7=function(i,e){var r,s,u,o,a,h,c,f,l,v,d,w,g,m,y,p,_,b,k,A,T,S,E,I,R;return Fr.async(function(C){for(;;)switch(C.prev=C.next){case 0:if(cu(e),s=this.Yat(i),u=i.y9,s===tj.Q7||s===tj.j7){C.next=5;break}return C.abrupt("return",t.prototype.h7.call(this,i,e));case 5:if(!u.O5.z2.some(CU)){C.next=7;break}throw new ff(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");case 7:if(o=this.Xw.jat(),s!==tj.Q7){C.next=14;break}return C.next=11,Fr.awrap(o.Qat({data:u.zi.zi,metadata:this.Hat}));case 11:a=C.sent,C.next=17;break;case 14:return C.next=16,Fr.awrap(o.Zat({data:u.zi.zi,metadata:this.Hat}));case 16:a=C.sent;case 17:if(cu(e),this.c7({yz:a.metadata.audio_codec,mz:a.metadata.video_codec,pz:void 0}),h=g_.rp(vt.fromBits(a.metadata.first_decode_timestamp.low,a.metadata.first_decode_timestamp.high),a.metadata.first_decode_timestamp.base),c=g_.rp(vt.fromBits(a.metadata.first_presentation_timestamp.low,a.metadata.first_presentation_timestamp.high),a.metadata.first_presentation_timestamp.base),u.O5.mJ=c,this.f7(),this.d6.Y4(i.Z2)){C.next=30;break}for(f=g_.Gp(u.O5.ck),l=0,v=this.d7;l<v.length;l++)d=v[l],this.d6.e6(i.Z2,d,h,f,!0);if(this.f7(),this.d6.Y4(i.Z2)){C.next=30;break}return C.next=30,Fr.awrap(vu(this.d6.j4(i.Z2),e));case 30:if(w=this.d6.i6(h,u.O5),this.Hat=a.metadata,g={I2:i.I2,g7:zM(u.O5),ck:u.O5.ck,nm:null!=(r=u.O5.nm)?r:0,gb:w.Fk(),Z2:i.Z2,j$:i.j$,O5:u.O5},void 0!==a.data.audio_media||void 0!==a.data.video_media){C.next=36;break}for(m=0,y=this.d7;m<y.length;m++)p=y[m],_=Ur({_s:"y9",zi:void 0,s6:p},g),this.O9(_);return C.abrupt("return");case 36:b=[],void 0!==a.data.audio_media&&(!a.data.audio_init||this.Fat&&this.Wat===i.Z2&&Gu(this.Fat,a.data.audio_init)||(k={_s:"w7",zi:{_s:KC.kH,zi:a.data.audio_init},s6:gp.Cd,Z2:i.Z2,_7:{kz:'audio/mp4; codecs="'+a.metadata.audio_codec+'"',z2:u.O5.z2},ck:u.O5.ck,j$:i.j$,O5:u.O5},this.Fat=a.data.audio_init,this.Wat=i.Z2,this.O9(k)),A=Ur({_s:"y9",zi:{_s:KC.kH,zi:a.data.audio_media},s6:gp.Cd},g),this.O9(A)),void 0!==a.data.video_media&&(!a.data.video_init||this.zat&&this.Gat===i.Z2&&Gu(this.zat,a.data.video_init)||(T={_s:"w7",zi:{_s:KC.kH,zi:a.data.video_init},s6:gp.Pd,Z2:i.Z2,_7:{kz:'video/mp4; codecs="'+a.metadata.video_codec+'"',z2:u.O5.z2},ck:u.O5.ck,j$:i.j$,O5:u.O5},this.zat=a.data.video_init,this.Gat=i.Z2,this.Vat=DD(Wo(a.data.video_init)),this.O9(T)),S=this.Vat.hT[0],E=SU(a.data.video_media,this.Vat)[0],I=this.Kat(a.data.video_media,S,E,void 0,u.O5),this.Jat=S,R=Ur({_s:"y9",zi:{_s:KC.kH,zi:I},s6:gp.Pd},g),this.O9(R),b.push(E)),this.$at=u.O5,this.tht=b;case 41:case"end":return C.stop()}},null,this,null,qe)},e.Gs=function(){this.Fat=void 0,this.zat=void 0,t.prototype.Gs.call(this)},i}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).xV=void 0,n.nht=void 0,n.$at=void 0,n.tht=void 0,n.Jat=void 0,n}E(n,t);var i=n.prototype;return i.o7=function(t,n){cu(n);var i=this.j$._s,e=DD(Wo(t.Y2.zi.zi));if(!e)throw new l("Mp4Transmuxer - Unable to parse "+i+" MP4 initializer.");this.xV=e;var r=function(t){for(var n,i,e,r=0,s=t.hT;r<s.length;r++){var u=s[r];n||(n=u.kz.yz),i||(i=u.kz.mz),e||(e=u.kz.pz)}if(n||i)return{yz:n,mz:i,pz:e};return}(e);r&&this.c7(r);var s=function(t){var n,i,e,r,s,u=Bc(t),o=Ws(u.boxes,aD),a=o.boxes.filter(hD),h=Ws(a,function(t){return mU(t)===kh.AUDIO}),c=Ws(a,function(t){return mU(t)===kh.VIDEO}),f={yz:{bT:h?AU(h):void 0},mz:{bT:c?AU(c):void 0}},l=null==(n=Ws(o.boxes,vD))?void 0:n.boxes.filter(dD),v=l?{yz:null!=(i=Ws(l,function(t){return t.trackId===f.yz.bT}))?i:void 0,mz:null!=(e=Ws(l,function(t){return t.trackId===f.mz.bT}))?e:void 0}:void 0;if(v&&(f.yz.XS=null==(r=v.yz)?void 0:r.defaultSampleDuration,f.mz.XS=null==(s=v.mz)?void 0:s.defaultSampleDuration),!h||!c)return{yz:h?t:void 0,mz:c?t:void 0,RE:f};var d=yU(u),w=yU(u),g=u.boxes.indexOf(o);d.boxes[g]=bU(o,c),w.boxes[g]=bU(o,h);var m=d.serialize().join(),y=w.serialize().join();return{yz:m,mz:y,RE:f}}(t.Y2.zi.zi);if(this.nht=s.RE,s.mz){var u=Ws(e.hT,function(t){return t.bT===s.RE.mz.bT}),o={_s:"w7",zi:{_s:KC.kH,zi:s.mz},s6:gp.Pd,Z2:t.Z2,_7:{kz:'video/mp4; codecs="'+u.kz.mz+'"',z2:t.z2},ck:t.ck,j$:this.j$,O5:t.Y2.O5};this.O9(o)}if(s.yz){var a=Ws(e.hT,function(t){return t.bT===s.RE.yz.bT}),h={_s:"w7",zi:{_s:KC.kH,zi:s.yz},s6:gp.Cd,Z2:t.Z2,_7:{kz:'audio/mp4; codecs="'+a.kz.yz+'"',z2:t.z2},ck:t.ck,j$:this.j$,O5:t.Y2.O5};this.O9(h)}return qe.resolve()},i.h7=function(t,n){var i,e,r,s,u,o,a,h,c,f,l,v,d,w,g,m,y,p,_,b,k;return Fr.async(function(A){for(;;)switch(A.prev=A.next){case 0:if(cu(n),e=t.y9.O5,r=this.j$._s,fO.NT("Mp4Transmuxer","Got media data, transmuxing for "+r+" track: "+HO(e.N$)),s=t.y9.zi,(u=SU(s.zi,this.xV)).length>0&&(o=iu(u.map(function(t){return t.yJ}),m_),e.mJ=o,this.f7()),this.d6.Y4(t.Z2)){A.next=13;break}if(a=g_.Gp(e.ck),u.length>0){for(h=iu(u.map(function(t){return t.Mat}),m_),c=0,f=this.d7;c<f.length;c++)l=f[c],this.d6.e6(t.Z2,l,h,a,!1);this.f7()}if(this.d6.Y4(t.Z2)){A.next=13;break}return A.next=13,Fr.awrap(vu(this.d6.j4(t.Z2),n));case 13:v=this.d6.J4(t.Z2),d={I2:t.I2,g7:zM(e),ck:e.ck,nm:null!=(i=e.nm)?i:0,gb:v.Fk(),Z2:t.Z2,j$:t.j$,O5:t.y9.O5},(w=gU(s.zi,this.nht)).mz&&(m=this.nht.mz.bT,y=Ws(this.xV.hT,function(t){return t.bT===m}),p=Ws(u,function(t){return t.bT===m}),_=this.Kat(w.mz,y,p,null==(g=this.nht)?void 0:g.mz.XS,e),this.Jat=y,b=Ur({_s:"y9",zi:{_s:KC.kH,zi:_},s6:gp.Pd},d),this.O9(b)),w.yz&&(k=Ur({_s:"y9",zi:{_s:KC.kH,zi:w.yz},s6:gp.Cd},d),this.O9(k)),this.$at=e,this.tht=u;case 20:case"end":return A.stop()}},null,this,null,qe)},i.Kat=function(t,n,i,e,r){if(!function(t){return jL(t)?t.q2:0===t.S3&&t.T3.q2}(r))return t;if(!this.$at||!this.Jat||!this.tht)return t;var s=this.Jat.bT,u=Ws(this.tht,function(t){return t.bT===s}),o=this.d6.t6(u.Xat,this.$at),a=this.d6.t6(i.yJ,r).Jk(o).Xp(n.Op);if(a.qk(g_.ap))return t;if(a.zk(g_.Gp(.5)))return t;var h=jL(r)?r:r.T3;return fO.w0("Mp4Transmuxer","Stretching first video frame of segment #"+h.I2+" to fill gap of "+a.Fk()+"s"),function(t,n,i,e){var r=Bc(t),s=Ws(r.boxes,wD);if(s){for(var u=s.getSize(),o=0,a=s.boxes;o<a.length;o++){var h=a[o];h instanceof cc&&TU(h,n,i,e)}var c=s.getSize();if(c!==u)for(var f=c-u,l=0,v=s.boxes;l<v.length;l++){var d=v[l];d instanceof cc&&mD(d,f)}}return r.serialize().join()}(t,n.Op,a,e)},n}(XM)),RU=function(){function t(){}return t.prototype.Not=function(t,n,i,e){return new IU(this,t,n,i,e)},t}();function CU(t){return t.Od===OO.j1}!function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(EU||(EU={}));var DU=function(){function t(t){var e=this;this.Aat=void 0,this.Tat=void 0,this.iht=void 0,this.Qot=void 0,this.Sat=0,this.Eat=zr(),this.eht=0,this.Iat=function(t){var n=t.data;if(void 0!==n.requestId){var i=e.Eat.get(n.requestId);if(!i)return;e.Eat.delete(n.requestId),n.success?i.Qu(n.output):i.Zu(new ff(n.errorCode,n.error))}else n.success||e.Xs(new ff(n.errorCode,n.error))},this.Aw=function(t){var i=new ff(n.ErrorCode.MEDIA_DECODE_ERROR,t.error.message,t.error);e.Xs(i)},this.Aat=t,this.iht=function(){if("undefined"==typeof WebAssembly)return!1;var t=j.pn;return!(t>0&&t<=56)}();var r=this.iht?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.Tat=i.Ur(r,t)}catch(t){throw new ff(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.Qot=this.Cat()}var e=t.prototype;return e.Qat=function(t){return this.rht(EU.MPEGTS_TO_FMP4,t)},e.Zat=function(t){return this.rht(EU.RAW_AUDIO_TO_FMP4,t)},e.Cat=function(){var t=cU(this.Tat,this.Aat);return t.tu("message",this.Iat),t.tu("error",this.Aw),t},e.rht=function(t,n){var i=++this.Sat;this.eht+=1;var e={type:t,id:i,input:n},r=new ta;return this.Eat.set(i,r),this.Qot.iat(e,[n.data.buffer]),r.Gu},e.Xs=function(t){void 0===t&&(t=new au),this.Eat.forEach(function(n){return n.Zu(t)}),this.Eat.clear(),this.Qot.nat()},t}(),NU=function(t){function n(n){var i;return(i=t.call(this)||this).Qot=void 0,i.sht=n,i}E(n,t);var i=n.prototype;return i.jat=function(){var t;return null!=(t=this.Qot)?t:this.Qot=new DU(this.sht)},i.Xs=function(){this.Qot&&(this.Qot.Xs(),this.Qot=void 0)},n}(RU),PU=function(){function t(t){this.sht=t}return t.prototype.pJ=function(){return new NU(this.sht)},t}(),xU=function(){function t(t){this.dD=void 0,this.dD=t}var n=t.prototype;return n.rN=function(t){return this.dD.rN(t)},n.o$=function(t){return this.dD.o$(t)},n.bN=function(t){return this.dD.bN(t)},t}(),BU=function(t){function n(n){var i;return(i=t.call(this)||this).PD=void 0,i.BD=void 0,i.uht=new $m,i.oht=function(t){return i.wy(t)},i.PD=n,i.uht.V_=n.Vm,i.PD.tu(VC,i.oht),i}E(n,t);var i=n.prototype;return i.hM=function(){return this.PD.by},i.fM=function(){return this.PD.Ay},i.lM=function(){return this.PD.tm},i.wM=function(){return this.PD.nm},i.aht=function(){return this.PD.RN},i.hht=function(){return this.PD.im},i.cht=function(){return this.PD.cm},i.IM=function(){return this.PD.Oy},i.NM=function(){return this.PD.wg},i.CM=function(){return this.PD.Ly},i.PM=function(){return this.PD.vm},i.BM=function(){return this.uht},i.nZ=function(){return this.PD.wX},i.fht=function(){return this.PD.uN},i.vht=function(t){this.PD.uN=t},i.dht=function(t){this.PD.IQ=t},i.wht=function(){return this.PD.MY},i.IN=function(){return this.PD.IN()},i.Gm=function(){return this.PD.Gm()},i.qm=function(){this.PD.qm()},i.Xu=function(t,n){this.PD.Xu(t,n)},i.EN=function(t){this.PD.EN(t)},i.sy=function(){this.PD.sy()},i.uy=function(){this.PD.uy()},i.QE=function(t,n,i,e,r,s,u){return this.PD.QE(t,n,i,e,r,s,u)},i.dN=function(){return this.PD.dN()},i._N=function(t,n,i,e,r){return this.PD._N(t,n,i,e,r)},i.JE=function(t){this.PD.JE(t)},i.yN=function(){this.PD.yN()},i.dH=function(t){return this.PD.dH(t)},i.Jh=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(this.PD.Jh(t));case 2:return n=e.sent,i=t._s===pk.tI?this._ht(n):this.ght(n),this.BD=i,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,this,null,qe)},i.wc=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.BD){t.next=4;break}return t.next=3,Fr.awrap(this.BD.Xs());case 3:this.BD=void 0;case 4:return t.next=6,Fr.awrap(this.PD.wc());case 6:case"end":return t.stop()}},null,this,null,qe)},i.pQ=function(){this.PD.pQ()},i.bQ=function(){this.PD.bQ()},i.Xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ou(),this.PD.au(VC,this.oht),this.uht.V_=void 0,this.uht.$c(),!this.BD){t.next=8;break}return t.next=7,Fr.awrap(this.BD.Xs());case 7:this.BD=void 0;case 8:case"end":return t.stop()}},null,this,null,qe)},i.AQ=function(){this.PD.AQ()},i.mht=function(t){this.PD.au(VC,this.oht),this.PD=t,this.uht.V_=t.Vm,this.PD.tu(VC,this.oht)},i.wy=function(t){this.$s(t)},T(n,[{key:"yht",get:function(){return this.PD}},{key:"by",get:function(){return this.hM()}},{key:"Ay",get:function(){return this.fM()}},{key:"tm",get:function(){return this.lM()}},{key:"lX",get:function(){return this.PD.lX}},{key:"nm",get:function(){return this.wM()}},{key:"RN",get:function(){return this.aht()}},{key:"im",get:function(){return this.hht()}},{key:"Au",get:function(){return this.PD.Au}},{key:"ST",get:function(){return this.PD.ST}},{key:"Xk",get:function(){return this.PD.Xk}},{key:"mN",get:function(){return this.PD.mN}},{key:"hm",get:function(){return this.PD.hm},set:function(t){this.PD.hm=t}},{key:"cm",get:function(){return this.cht()}},{key:"fm",get:function(){return this.PD.fm},set:function(t){this.PD.fm=t}},{key:"Oy",get:function(){return this.IM()}},{key:"wg",get:function(){return this.NM()}},{key:"Ly",get:function(){return this.CM()}},{key:"vm",get:function(){return this.PM()}},{key:"Vm",get:function(){return this.BM()}},{key:"wX",get:function(){return this.nZ()}},{key:"EQ",get:function(){return this.PD.EQ}},{key:"wm",get:function(){return this.PD.wm},set:function(t){this.PD.wm=t}},{key:"TQ",get:function(){return this.PD.TQ}},{key:"Sy",get:function(){return this.PD.Sy}},{key:"OY",get:function(){return this.PD.OY}},{key:"uN",get:function(){return this.fht()},set:function(t){this.vht(t)}},{key:"IQ",get:function(){return this.PD.IQ},set:function(t){this.dht(t)}},{key:"MY",get:function(){return this.wht()}}]),n}(Tu),OU=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.SQ=function(t){this.PD.SQ(t)},i.nQ=function(){this.PD.nQ()},i.py=function(){this.PD.py()},T(n,[{key:"sN",get:function(){return this.PD.sN}},{key:"TG",get:function(){return this.PD.TG}},{key:"Uy",get:function(){return this.PD.Uy},set:function(t){this.PD.Uy=t}}]),n}(BU),LU=function(){function t(t){this.BD=void 0,this.BD=t}var n=t.prototype;return n.yc=function(){return this.BD.cc},n.CM=function(){return this.BD.Ly},n.sH=function(t){return this.BD.sH(t)},n.uH=function(t){return this.BD.uH(t)},n.Xs=function(){return qe.resolve()},T(t,[{key:"cc",get:function(){return this.yc()}},{key:"Ly",get:function(){return this.CM()}},{key:"zm",get:function(){return this.BD.zm}}]),t}(),MU=function(t){function n(n){var i;return(i=t.call(this,n)||this).nG=void 0,i.eG=void 0,i.kht=function(t){return i.pht(t)},i}E(n,t);var i=n.prototype;return i.hM=function(){return this.BD.by},i.wM=function(){return this.BD.nm},i.bht=function(){return this.BD.wH},i.vG=function(t){this.BD.vG(t)},i.wG=function(t,n,i,e){this.BD.wG(t,n,i,e)},i.oW=function(){this.BD.oW()},i.eW=function(){this.BD.eW()},i.Xs=function(){return this.nG&&(this.nG.Xs(),this.nG=void 0),this.eG&&(this.eG.Xs(),this.eG=void 0),t.prototype.Xs.call(this)},i.Aht=function(t){this.BD=t,this.nG?t.KW?this.nG.R5(t.KW):(this.nG.Xs(),this.nG=void 0):t.KW&&(this.nG=this.Tht(t.KW),this.nG.tu(tD,this.kht)),this.eG?t.JW?this.eG.R5(t.JW):(this.eG.Xs(),this.eG=void 0):t.JW&&(this.eG=this.Tht(t.JW),this.eG.tu(tD,this.kht))},i.pht=function(t){},T(n,[{key:"KW",get:function(){return this.nG}},{key:"JW",get:function(){return this.eG}},{key:"by",get:function(){return this.hM()}},{key:"nm",get:function(){return this.wM()}},{key:"wH",get:function(){return this.bht()}}]),n}(LU),jU=function(t){function n(n){var i;return(i=t.call(this)||this).Mc=void 0,i.YL=0,i.jL=0,i.Mc=n,i}E(n,t);var i=n.prototype;return i.UV=function(t,n,i){return qe.reject(new l("Invalid media buffer"))},i.wW=function(){return qe.reject(new l("Invalid media buffer"))},i.FV=function(t,n,i){return qe.reject(new l("Invalid media buffer"))},i.wH=function(){return!1},i.oW=function(){},i.lW=function(t,n){},i.dW=function(t,n){},i.$h=function(t,n,i){return qe.resolve()},i.QV=function(t,n){return qe.reject(new l("Invalid media buffer"))},i.Yy=function(t,n){return qe.reject(new l("Invalid media buffer"))},i.sH=function(t){return!1},i.uH=function(t){return qe.reject(new l("Invalid media buffer"))},i.Xs=function(){this.ou()},T(n,[{key:"VL",get:function(){return this.jL},set:function(t){this.jL=t}},{key:"by",get:function(){return TS.qC()}},{key:"cc",get:function(){return this.Mc}},{key:"mW",get:function(){return gp.md}},{key:"yW",get:function(){return TS.qC()}},{key:"Sht",get:function(){return!1}},{key:"XL",get:function(){return this.YL},set:function(t){this.YL=t}}]),n}(Tu),FU=function(t){function n(n){var i;return(i=t.call(this,n)||this).PD=void 0,i}E(n,t);var i=n.prototype;return i.UV=function(t,n,i){return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return cu(i),e.next=3,Fr.awrap(this.Eht(this.PD.tm,null==n?void 0:n.mJ,null==n?void 0:n.nm));case 3:if(cu(i),t._s!==KC.wv){e.next=10;break}return e.next=7,Fr.awrap(this.Iht(t,n,i));case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,Fr.awrap(this.Rht(t,n,i));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},null,this,null,qe)},i.Iht=function(t,n,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=t;case 1:return r=$d(e.zi),s=r[0],u=r[1],e={_s:KC.wv,zi:s},o.prev=4,o.next=7,Fr.awrap(this.Dht(e,n,i));case 7:return u.cancel(new au).catch(K),o.abrupt("return");case 11:if(o.prev=11,o.t0=o.catch(4),!SR(o.t0)){o.next=20;break}return o.next=16,Fr.awrap(this.Eht(this.PD.tm,n.mJ,n.nm,i));case 16:if(!o.sent){o.next=20;break}return e={_s:KC.wv,zi:u},o.abrupt("continue",1);case 20:throw u.cancel(o.t0).catch(K),o.t0;case 22:o.next=1;break;case 24:case"end":return o.stop()}},null,this,[[4,11]],qe)},i.Rht=function(t,n,i){return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,cu(i),e.next=5,Fr.awrap(this.Dht(t,n,i));case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(1),!SR(e.t0)){e.next=16;break}return e.next=13,Fr.awrap(this.Eht(this.PD.tm,n.mJ,n.nm,i));case 13:if(!e.sent){e.next=16;break}return e.abrupt("continue",0);case 16:throw e.t0;case 17:e.next=0;break;case 19:case"end":return e.stop()}},null,this,[[1,8]],qe)},i.Eht=function(t,n,i,e){var r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:r=TR(t,n,i,this.by,this.XL,this.VL),s=0;case 2:if(!(s<r.length)){h.next=9;break}return u=r[s],o=u[0],a=u[1],h.next=6,Fr.awrap(this.Nht(o,a,e));case 6:s++,h.next=2;break;case 9:return h.abrupt("return",r.length>0);case 10:case"end":return h.stop()}},null,this,null,qe)},i.Dht=function(n,i,e){return t.prototype.UV.call(this,n,i,e)},i.Nht=function(n,i,e){return t.prototype.$h.call(this,n,i,e)},T(n,[{key:"u$",get:function(){return this.PD},set:function(t){this.PD=t}}]),n}(function(t){function n(n){var i;return(i=t.call(this)||this).a5=void 0,i.Cht=function(t){return i.wy(t)},i.a5=n,i.a5.tu(tD,i.Cht),i}E(n,t);var i=n.prototype;return i.Pht=function(){return this.a5.VL},i.Bht=function(t){this.a5.VL=t},i.hM=function(){return this.a5.by},i.yc=function(){return this.a5.cc},i.Oht=function(){return this.a5.yW},i.xht=function(){return this.a5.XL},i.Lht=function(t){this.a5.XL=t},i.UV=function(t,n,i){return this.a5.UV(t,n,i)},i.wW=function(){return this.a5.wW()},i.FV=function(t,n,i){return this.a5.FV(t,n,i)},i.wH=function(){return this.a5.wH()},i.oW=function(){this.a5.oW()},i.lW=function(t,n){this.a5.lW(t,n)},i.dW=function(t,n){this.a5.dW(t,n)},i.$h=function(t,n,i){return this.a5.$h(t,n,i)},i.QV=function(t,n){return this.a5.QV(t,n)},i.sH=function(t){return this.a5.sH(t)},i.uH=function(t){return this.a5.uH(t)},i.wy=function(t){this.$s(t)},i.Xs=function(){this.ou(),this.R5(new jU(this.cc))},i.R5=function(t){this.a5.au(tD,this.Cht),this.a5=t,this.a5.tu(tD,this.Cht)},T(n,[{key:"VL",get:function(){return this.Pht()},set:function(t){this.Bht(t)}},{key:"by",get:function(){return this.hM()}},{key:"cc",get:function(){return this.yc()}},{key:"mW",get:function(){return this.a5.mW}},{key:"yW",get:function(){return this.Oht()}},{key:"XL",get:function(){return this.xht()},set:function(t){this.Lht(t)}}]),n}(Tu)),UU=function(t){function n(n){var i;return(i=t.call(this,n)||this).PD=void 0,i.Aht(n),i}return E(n,t),n.prototype.Tht=function(t){var n=new FU(t);return n.u$=this.PD,n},T(n,[{key:"u$",get:function(){return this.PD},set:function(t){this.PD=t,this.nG&&(this.nG.u$=t),this.eG&&(this.eG.u$=t)}}]),n}(MU),HU=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"xy",get:function(){return this.BD.xy},set:function(t){this.BD.xy=t}}]),n}(LU),XU=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.SQ=function(t){this.PD.SQ(t)},i.nQ=function(){this.PD.nQ()},i.py=function(){this.PD.py()},i.oy=function(){return this.PD.oy()},T(n,[{key:"sN",get:function(){return this.PD.sN}},{key:"TG",get:function(){return this.PD.TG}},{key:"dm",get:function(){return this.PD.dm}},{key:"lm",get:function(){return this.PD.lm}},{key:"Uy",get:function(){return this.PD.Uy},set:function(t){this.PD.Uy=t}}]),n}(BU),zU=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.ght=function(t){var n=new UU(t);return n.u$=this,n},i._ht=function(t){return new HU(t)},T(n,[{key:"yht",get:function(){return this.PD}}]),n}(OU),VU=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.ght=function(t){var n=new UU(t);return n.u$=this,n},i._ht=function(t){return new HU(t)},T(n,[{key:"yht",get:function(){return this.PD}}]),n}(XU),WU=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.rN=function(n){return n===gp.Pd?new VU(t.prototype.rN.call(this,n)):n===gp.Cd?new zU(t.prototype.rN.call(this,n)):void 0},i.bN=function(n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n,e.next=3,Fr.awrap(i.Xs());case 3:return e.next=5,Fr.awrap(t.prototype.bN.call(this,i.yht));case 5:case"end":return e.stop()}},null,this,null,qe)},n}(xU);function qU(t){return _w(t)}function GU(t,n){var i=_w(t);return n?""+i+n:""+i}var $U,YU=function(){function t(t,n,i,e){this.Mht=t,this.Uht=n,this.Xht=i,this.Hht=e}var n=t.prototype;return n.j6=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.Mht.Fht(t.map(qU)));case 2:return n=i.sent,i.abrupt("return",n.shift());case 4:case"end":return i.stop()}},null,this,null,qe)},n.yst=function(t,n){var i=GU(t,n);return this.Uht.Nu(i)},n.Y5=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=GU(t,n),r.next=3,Fr.awrap(this.Xht.Cu(e));case 3:if(r.t0=i=r.sent,null!=r.t0){r.next=8;break}r.t1=void 0,r.next=9;break;case 8:r.t1=i.data;case 9:return r.abrupt("return",r.t1);case 10:case"end":return r.stop()}},null,this,null,qe)},n.bU=function(t){return this.Hht.Cu(t)},t}(),QU=function(){function t(){}var n=t.prototype;return n.zht=function(t){return qe.resolve(!1)},n.Vht=function(t){return qe.reject(ZU)},n.Wht=function(t){return qe.reject(ZU)},n.Nu=function(t){return qe.resolve(!1)},n.Cu=function(t){return qe.resolve(void 0)},n.Ght=function(t,n){return qe.resolve(void 0)},n.Fht=function(t){return qe.resolve([])},n.qht=function(){return qe.resolve([])},n.Yht=function(t){return qe.resolve([])},n.jht=function(t,n){return qe.resolve([])},n.$h=function(t){return qe.reject(ZU)},n.Qht=function(t){return qe.reject(ZU)},n.Zht=function(){return qe.reject(ZU)},t}(),ZU="Storage disabled",KU=function(){function t(){this.Kht=void 0,this.S1=void 0,this.Jht=void 0,this.$ht=void 0,this.tct=void 0,this.Kht=new QU,this.S1=new QU,this.Jht=new QU,this.$ht=new QU,this.tct=new QU}return t.pJ=function(){return qe.resolve(new t)},t.prototype.nct=function(t){return qe.reject(JU)},t}(),JU="Storage disabled",tH=function(){function t(t){var n=this;this.Ws=new ta,this.ict=void 0,this.Ws.qs(t),this.Ws.Gu.then(function(t){n.ict=t})}var n=t.prototype;return n.zht=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.ict,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.ect);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.zht(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.Vht=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ict,e.t0){e.next=5;break}return e.next=4,Fr.awrap(this.ect);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Vht(t,n));case 7:case"end":return e.stop()}},null,this,null,qe)},n.Wht=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ict,e.t0){e.next=5;break}return e.next=4,Fr.awrap(this.ect);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Wht(t,n));case 7:case"end":return e.stop()}},null,this,null,qe)},n.Nu=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.ict,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.ect);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Nu(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.Cu=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.ict,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.ect);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Cu(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.Ght=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ict,e.t0){e.next=5;break}return e.next=4,Fr.awrap(this.ect);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Ght(t,n));case 7:case"end":return e.stop()}},null,this,null,qe)},n.Fht=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.ict,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.ect);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Fht(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.qht=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.ict,n.t0){n.next=5;break}return n.next=4,Fr.awrap(this.ect);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.qht());case 7:case"end":return n.stop()}},null,this,null,qe)},n.Yht=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.ict,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.ect);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Yht(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.jht=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ict,e.t0){e.next=5;break}return e.next=4,Fr.awrap(this.ect);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.jht(t,n));case 7:case"end":return e.stop()}},null,this,null,qe)},n.$h=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.ict,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.ect);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.$h(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.Qht=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.ict,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.ect);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Qht(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.Zht=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.ict,n.t0){n.next=5;break}return n.next=4,Fr.awrap(this.ect);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.Zht());case 7:case"end":return n.stop()}},null,this,null,qe)},T(t,[{key:"ect",get:function(){return this.Ws.Gu}}]),t}(),nH=function(){function t(t){var n=this;this.Ws=new ta,this.rct=void 0,this.S1=void 0,this.Kht=void 0,this.Jht=void 0,this.$ht=void 0,this.tct=void 0,this.Ws.qs(t);var i=this.Ws.Gu;i.then(function(t){n.rct=t}),this.S1=new tH(i.then(function(t){return t.S1})),this.Kht=new tH(i.then(function(t){return t.Kht})),this.Jht=new tH(i.then(function(t){return t.Jht})),this.$ht=new tH(i.then(function(t){return t.$ht})),this.tct=new tH(i.then(function(t){return t.tct}))}return t.prototype.nct=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.rct,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.sct);case 4:i.t0=i.sent;case 5:return n=i.t0,i.next=8,Fr.awrap(n.nct(t));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},null,this,null,qe)},T(t,[{key:"sct",get:function(){return this.Ws.Gu}}]),t}();function iH(t){return new l("This storage cannot handle persistency type "+t)}!function(t){t.uct="readonly",t.act="readwrite"}($U||($U={}));var eH=function(){function t(){this.Wo=[]}var n=t.prototype;return n.zht=function(t){return qe.resolve("temporary"===t)},n.Vht=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?qe.reject(iH(n)):(this.hct(t.key),this.Wo.push(t),qe.resolve())},n.Wht=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return qe.reject(iH(n));for(var i=0;i<t.length;i++){var e=t[i];this.hct(e.key)}for(var r=0;r<t.length;r++){var s=t[r];this.Wo.push(s)}return qe.resolve()},n.Nu=function(t){return qe.resolve(Boolean(this.cct(t)))},n.Cu=function(t){return qe.resolve(this.cct(t))},n.Ght=function(t,n){return qe.resolve(this.fct(t,n))},n.Fht=function(t){var n=this,i=t?t.map(function(t){return n.cct(t)}):this.Wo;return qe.resolve(i.filter(H))},n.qht=function(){return qe.resolve([].concat(this.Wo))},n.Yht=function(t){return this.jht(t,"key")},n.jht=function(t,n){var i=this.Wo.filter(function(i){return i[n]===t});return qe.resolve(i)},n.$h=function(t){return this.hct(t),qe.resolve()},n.Qht=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.hct(i)}return qe.resolve()},n.Zht=function(){return Zs(this.Wo),qe.resolve()},n.cct=function(t){return this.fct(t,"key")},n.fct=function(t,n){for(var i=0,e=this.Wo;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.hct=function(t){var n=this.cct(t);n&&$s(this.Wo,n)},t}(),rH=function(){function t(){this.Kht=void 0,this.S1=void 0,this.Jht=void 0,this.$ht=void 0,this.tct=void 0,this.Kht=new eH,this.S1=new eH,this.Jht=new eH,this.$ht=new eH,this.tct=new eH}return t.pJ=function(){return qe.resolve(new t)},t.prototype.nct=function(t){return t(this)},t}(),sH=function(){function t(t){this.vct=t}var n=t.prototype;return n.zht=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.vct;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Fr.awrap(e.zht(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,qe)},n.Vht=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.vct;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Fr.awrap(r.zht(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.Vht(t));case 8:i++,s.next=2;break;case 11:throw iH(n);case 12:case"end":return s.stop()}},null,this,null,qe)},n.Wht=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.vct;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Fr.awrap(r.zht(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.Wht(t));case 8:i++,s.next=2;break;case 11:throw iH(n);case 12:case"end":return s.stop()}},null,this,null,qe)},n.Nu=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.vct;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Fr.awrap(e.Nu(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,qe)},n.Cu=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=0,i=this.vct;case 1:if(!(n<i.length)){s.next=11;break}return e=i[n],s.next=5,Fr.awrap(e.Cu(t));case 5:if(!(r=s.sent)){s.next=8;break}return s.abrupt("return",r);case 8:n++,s.next=1;break;case 11:return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},null,this,null,qe)},n.Ght=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.vct;case 1:if(!(i<e.length)){u.next=11;break}return r=e[i],u.next=5,Fr.awrap(r.Ght(t,n));case 5:if(!(s=u.sent)){u.next=8;break}return u.abrupt("return",s);case 8:i++,u.next=1;break;case 11:return u.abrupt("return",void 0);case 12:case"end":return u.stop()}},null,this,null,qe)},n.Fht=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.vct;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Fr.awrap(r.Fht(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,qe)},n.qht=function(){var t,n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0,i=this.vct;case 2:if(!(n<i.length)){r.next=13;break}return e=i[n],r.t0=t.push,r.t1=t,r.next=8,Fr.awrap(e.qht());case 8:r.t2=r.sent,r.t0.apply.call(r.t0,r.t1,r.t2);case 10:n++,r.next=2;break;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},null,this,null,qe)},n.Yht=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.vct;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Fr.awrap(r.Yht(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,qe)},n.jht=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],e=0,r=this.vct;case 2:if(!(e<r.length)){u.next=13;break}return s=r[e],u.t0=i.push,u.t1=i,u.next=8,Fr.awrap(s.jht(t,n));case 8:u.t2=u.sent,u.t0.apply.call(u.t0,u.t1,u.t2);case 10:e++,u.next=2;break;case 13:return u.abrupt("return",i);case 14:case"end":return u.stop()}},null,this,null,qe)},n.$h=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.vct;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Fr.awrap(e.$h(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,qe)},n.Qht=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.vct;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Fr.awrap(e.Qht(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,qe)},n.Zht=function(){var t,n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.vct;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,Fr.awrap(i.Zht());case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,qe)},t}();function uH(t){return function(){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(qe.all(t.map(function(t){return t()})));case 2:return n=i.sent,i.abrupt("return",oH.pJ(n));case 4:case"end":return i.stop()}},null,null,null,qe)}}var oH=function(){function t(t){this.lct=void 0,this.dct=void 0,this.wct=void 0,this._ct=void 0,this.gct=void 0,this.mct=void 0,this.lct=t,this.dct=new sH(t.map(function(t){return t.$ht})),this.wct=new sH(t.map(function(t){return t.tct})),this._ct=new sH(t.map(function(t){return t.Jht})),this.gct=new sH(t.map(function(t){return t.Kht})),this.mct=new sH(t.map(function(t){return t.S1}))}return t.pJ=function(n){return qe.resolve(new t(n))},t.prototype.nct=function(n){var i=this;if(0===this.lct.length)return n(this);var e=[],r=0;return this.lct[r].nct(function s(u){return e.push(u),++r<i.lct.length?i.lct[r].nct(s):n(new t(e))})},T(t,[{key:"$ht",get:function(){return this.dct}},{key:"tct",get:function(){return this.wct}},{key:"Jht",get:function(){return this._ct}},{key:"Kht",get:function(){return this.gct}},{key:"S1",get:function(){return this.mct}}]),t}(),aH=function(){function t(t){this.yct=void 0,this.kct=[],this.pct=!0,this.yct=t}var n=t.prototype;return n.pJ=function(){return new nH(this.bct())},n.bct=function(){var t,n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pct){e.next=4;break}return e.next=3,Fr.awrap(qe.resolve());case 3:this.pct=!1;case 4:t=0,n=this.kct;case 5:if(!(t<n.length)){e.next=18;break}return i=n[t],e.prev=7,e.next=10,Fr.awrap(uH([rH.pJ,i])());case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:t++,e.next=5;break;case 18:return e.next=20,Fr.awrap(uH([rH.pJ,this.yct])());case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},null,this,[[7,13]],qe)},n.qX=function(t){if(!this.pct)throw new l("Registration overdue");this.kct.push(t)},t}(),hH=function(){function t(){}return t.qX=function(n){t.dD.qX(n)},T(t,null,[{key:"jn",get:function(){return t.Act||(t.Act=t.dD.pJ()),t.Act}}]),t}();hH.dD=new aH(KU.pJ),hH.Act=void 0;var cH=function(t){function n(n,i,e,r,s,u,o){var a,h=new WU(n),c=h.rN(gp.Pd);return(a=t.call(this,c,i,e,r,s,u,o)||this).CD=void 0,a.CD=h,a}return E(n,t),n.prototype.$c=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.prototype.$c.call(this));case 2:return n.next=4,Fr.awrap(this.CD.bN(this.PD));case 4:case"end":return n.stop()}},null,this,null,qe)},n}(function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.oy=function(){if(void 0!==this.PD.lm)return this.PD.oy()},T(n,[{key:"Uy",get:function(){return!1},set:function(t){}}]),n}(GF));dS(new(function(t){function i(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).NN=QT.Lg,n}E(i,t);var e=i.prototype;return e.tR=function(t,n,i,e,r,s){return new cH(n,i,r,(u=e.libraryLocation,nU.Ac()?new nU:new wU(u)),new PU(e.libraryLocation),new YU(hH.jn.Jht,hH.jn.Kht,hH.jn.S1,hH.jn.tct),e);var u},e.CN=function(i,e){var r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(t.prototype.CN.call(this,i,e));case 2:if(s.sent){s.next=4;break}return s.abrupt("return",!1);case 4:if(null==(r=i.hls)||!r.useLegacy){s.next=8;break}if(Qs(HC,"hls-legacy")){s.next=7;break}throw new ff(n.ErrorCode.SOURCE_NOT_SUPPORTED,'The given source requires the "hls-legacy" feature to be enabled.');case 7:return s.abrupt("return",!1);case 8:return s.abrupt("return",!0);case 9:case"end":return s.stop()}},null,this,null,qe)},e.PN=function(){return!0},i}(function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.CN=function(n,i){return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.MediaSource){e.next=2;break}return e.abrupt("return",!1);case 2:if(!j.cn&&!j.Wn){e.next=4;break}return e.abrupt("return",!1);case 4:if(!i.manifestMetadataTrack){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",t.prototype.CN.call(this,n,i));case 7:case"end":return e.stop()}},null,this,null,qe)},n}($F)))),fO.q_=function(){return!(!r||!r.THEOplayerDebugLogsEnabled)};var fH=[];function lH(){fH.shift()()}var vH,dH=function(){function t(t){this.Tct=void 0,this.Sct=void 0,this.Ect=void 0,this.Ect=t}var n=t.prototype;return n.Ict=function(t){return this.Tct=this.Tct||{},void 0===this.Tct[t]&&(this.Tct[t]=[]),this.Tct[t]},n.addEventListener=function(t,n){var i=this.Ict(t);-1===i.indexOf(n)&&i.push(n)},n.uu=function(t){(this.Sct||(this.Sct=[])).push(t)},n.removeEventListener=function(t,n){var i=this.Ict(t);n?$s(i,n):i.length=0},n.du=function(t){var n=this.Sct;n&&$s(n,t)},n.ou=function(){this.Tct=void 0},n.dispatchEvent=function(t,n){if(n)return i=this.dispatchEvent.bind(this,t),fH.push(i),void a(lH,0);var i;"string"==typeof t&&(t={type:t});for(var e=this.Ict(t.type).slice(),r=this.Sct&&this.Sct.slice(),s=0;s<e.length;s++){e[s].call(this.Ect||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.Ect||this,t)}},n.Rct=function(t){return Boolean(this.Tct&&this.Tct[t]&&this.Tct[t].length)},n.Dct=function(){return this.Tct?w.keys(this.Tct):[]},t}(),wH=function(t){function n(n,i){var e,r=yH[n];return(e=t.call(this,r?r.yu:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.Nct,e.helpLinkText=r&&r.Cct,e}return E(n,t),T(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(nn);!function(t){t.Pct="LICENSE_INVALID",t.Bct="MANIFEST_NOT_FOUND",t.Oct="MANIFEST_CORS_ERROR",t.xct="INVALID_HLS_MANIFEST",t.Lct="PLAYBACK_ISSUE",t.Mct="AUDIO_ISSUE",t.Uct="BROWSER_SUPPORT_ISSUE",t.Xct="INVALID_KEY",t.pat="DECRYPTION_ERROR",t.Hct="AD_BLOCK_DETECTED",t.Fct="THEOPLAYER_NOT_INITIALIZED",t.hg="ERROR",t.zct="MANIFEST_SEQUENCE_RESET_ERROR",t.Vct="PLAYER_INCORRECTLY_CONFIGURED",t.Wct="UNSUPPORTED"}(vH||(vH={}));for(var gH,mH=[{Ku:vH.Pct,yu:"The license for this player is invalid. Please contact your service provider for additional information."},{Ku:vH.Bct,yu:"Could not load the manifest file."},{Ku:vH.Oct,yu:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",Nct:"https://www.theoplayer.com/documentation/cors.html",Gct:!1},{Ku:vH.xct,yu:"The source of the player is an invalid HLS manifest.",Nct:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Ku:vH.Lct,yu:"There appears to be a playback issue."},{Ku:vH.Mct,yu:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Ku:vH.Uct,yu:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Ku:vH.Xct,yu:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Ku:vH.pat,yu:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Ku:vH.Hct,yu:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Ku:vH.Fct,yu:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Ku:vH.hg,yu:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Ku:vH.zct,yu:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Ku:vH.Vct,yu:"The player is incorrectly configured.",Nct:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Ku:vH.Wct,yu:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],yH={},pH=0;pH<mH.length;pH++){var _H=mH[pH];yH[_H.Ku]=_H}function bH(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function kH(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function AH(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function TH(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?Jo(e[6]):void 0!==e[7]?{width:y(e[8]),height:y(e[10])}:void 0!==e[12]?y(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var SH,EH="x-";function IH(t,n,i,e){var r=t.split("@"),s=bH(n,i),u=m(r[0],10),o=r[1]?m(r[1],10):e;return{N$:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},qct:{oC:o,hC:o+u-1}}}function RH(t,n,i){var e,r,s,u,o,a=0,h=0,c=0,f=null,l=0,v=!1,d=[],w=null,p=0,b=t.match(/[^\r\n]+/g);if(!b||"#EXTM3U"!==b[0].trim())throw new wH(vH.xct,{code:"HMP2670",uri:n});for(var k={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},A=1;A<b.length;A+=1){var T=b[A].trim();if(d.push(T+""),kH(T,"#EXT")){if(kH(T,"#EXTINF"))c=(c=y(AH(T)))||.5;else if(kH(T,"#EXT-X-BYTERANGE"))f=AH(T);else if(kH(T,"#EXT-X-KEY"))(s=TH(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=bH(s.uri,i);else if(kH(T,"#EXT-X-DISCONTINUITY")&&!kH(T,"#EXT-X-DISCONTINUITY-"))v=!0,l+=1;else if(kH(T,"#EXT-X-STREAM-INF"))(r=TH(T)).S3=h++,(A+=1)<b.length&&(r.uri=bH(b[A].trim(),i),k.streams.push(r));else if(kH(T,"#EXT-X-MEDIA")&&!kH(T,"#EXT-X-MEDIA-"))(u=TH(T)).uri&&(u.uri=bH(u.uri,i)),k.media.push(u);else if(kH(T,"#EXT-X-PROGRAM-DATE-TIME"))w=new Date(AH(T));else if(kH(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))k.Yct=!0,k.jct=m(AH(T),10);else if(kH(T,"#EXT-X-MEDIA-SEQUENCE"))a=m(AH(T),10),k.Qct=!0,k.Zct=a;else if(kH(T,"#EXT-X-TARGETDURATION"))k.targetDuration=m(AH(T),10),k.hasTargetDuration=!0;else if(kH(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))k.isEvent=!0;else if(kH(T,"#EXT-X-ENDLIST"))k.live=!1,k.hasEnd=!0;else if(kH(T,"#EXT-X-MAP")){var S=TH(T),E=S.uri,I=S.byterange;o=I?IH(I,E,i,0):bH(E,i)}else if(kH(T,"#EXT-X-VERSION"))k.version=m(AH(T),10);else if(kH(T,"#EXT-X-DATERANGE")){var R=CH(T);k.dateRanges.push(R)}}else if(kH(T,"#"));else if(0!==T.length){f?p=(e=IH(f,T,i,p)).qct.hC+1:e=bH(T,i);var C,D=s&&Ur({},s);s&&void 0===s.iv&&(C=a%4294967295,D.iv=new _([0,0,0,0,0,0,0,0,0,0,0,0,C>>24,C>>16,C>>8,255&C])),k.fragments.push({start:0,duration:c,uri:e,S3:a,Kct:v,Z2:l,key:D,j2:w,Jct:d,$ct:!1,tft:o}),a+=1,c=0,f=null,v=!1,w=null,d=[]}}return k.hasEnd&&k.fragments.length&&(k.fragments[k.fragments.length-1].$ct=!0),k.isMasterPlaylist=0!==k.streams.length,k.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=g.min(i,o.duration),e=g.max(e,o.duration)}return{nft:i,ift:e,eft:n?t.fragments[n-1].duration:0,rft:r/n,sft:r}}(k),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(k),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(k),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.S3-n.S3})}(k),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||Ys(t.media,s)}}(k,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(k),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(k),k}function CH(t){var n=TH(t),i=function(t){for(var n={},i=0,e=w.keys(t);i<e.length;i++){var r=e[i];As(r,EH)&&(n[r.substr(EH.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{Y_:n.id,R1:n.class,RN:e,D1:r,nm:n.duration,N1:n["planned-duration"],I1:s,C1:i,B1:u,L1:o,M1:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(SH||(SH={}));(gH={})[SH.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",gH[SH.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",gH[SH.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",gH[SH.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",gH[SH.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",gH[SH.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",gH[SH.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var DH=function(){function t(){}return t.prototype.jA=function(t,n,i){return RH(t,n,i)},t}(),NH=3,PH=function(){function t(t,n,i){void 0===i&&(i=NH),this.qE=t,this.L6=n,this.uft=i}var n=t.prototype;return n.oft=function(t,n,i){return this.aft(t,n,!0,i)},n.hft=function(t,n,i){return this.aft(t,n,!1,i)},n.aft=function(t,n,i,e){var r,s,u,o,a,h,c,f;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=100,u=0;case 2:if(!(u<this.uft)){i.next=31;break}if(!(u>0)){i.next=7;break}return i.next=6,Fr.awrap(_u(s,e));case 6:s<1e4&&(s=g.min(2*s,1e4));case 7:o=0;case 8:if(!(o<t.length)){i.next=28;break}return a=t[o],i.prev=10,h=new gw({wd:a,hd:Of.ni,od:n,Ud:this.L6,Od:fw.GET,_s:lw.yd,Ld:vw.md,js:e}),i.next=14,Fr.awrap(this.qE.ld(h));case 14:return c=i.sent,i.next=17,Fr.awrap(c.Fl(e));case 17:return f=i.sent,i.abrupt("return",{cft:f,fft:a,dd:c.dd});case 22:i.prev=22,i.t0=i.catch(10),r=i.t0;case 25:o++,i.next=8;break;case 28:u++,i.next=2;break;case 31:throw r;case 32:case"end":return i.stop()}},null,this,[[10,22]],qe)},t}(),xH=function(){function t(t){this.vft=void 0,this.vft=t}return t.prototype.lft=function(t,n,i,e){var r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:void 0===e&&(e=!1),s=0,u=this.vft;case 2:if(!(s<u.length)){a.next=17;break}return o=u[s],a.prev=4,a.next=7,Fr.awrap(o.lft(t,n,i,e));case 7:return a.abrupt("return",a.sent);case 10:a.prev=10,a.t0=a.catch(4),fu(a.t0),r=a.t0;case 14:s++,a.next=2;break;case 17:throw r;case 18:case"end":return a.stop()}},null,this,[[4,10]],qe)},t}(),BH=function(){function t(t){this.x6=t}return t.prototype.lft=function(t,n,i,e){var r;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.x6.j6(t));case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",{cft:r.data,fft:r.locationURL,dd:r.responseURL});case 7:throw new l("Manifest fetch from cache unsuccesful");case 8:case"end":return n.stop()}},null,this,null,qe)},t}(),OH=function(){function t(t){this.dft=t}return t.prototype.lft=function(t,n,i,e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e&&(e=!1),!e){r.next=7;break}return r.next=4,Fr.awrap(this.dft.oft(t,n,i));case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,Fr.awrap(this.dft.hft(t,n,i));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,qe)},t}();function LH(t,n){return new xH([new BH(n),new OH(t)])}var MH=function(){function t(t,n,i){this.wft=t,this._ft=n,this.gft=i}var n=t.prototype;return n.lft=function(t,n,i,e){var r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e&&(e=!1),s.next=3,Fr.awrap(this.wft.lft(t,n,i,e));case 3:return r=s.sent,s.next=6,Fr.awrap(this.mft(r));case 6:return s.abrupt("return",r);case 7:case"end":return s.stop()}},null,this,null,qe)},n.mft=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this._ft.Vht({key:qU(t.fft),locationURL:_w(t.fft),responseURL:_w(t.dd),data:t.cft,references:[this.gft.Y_]}));case 2:case"end":return n.stop()}},null,this,null,qe)},t}();function jH(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var FH,UH=function(){function t(t,n,i){this.Mc=void 0,this.qE=void 0,this.wft=void 0,this.yft=void 0,this.yft=new DH,this.Mc=t,this.qE=i;var e=this.Mc&&this.Mc.crossOrigin===ny.zg,r=new PH(i,e,1);this.wft=LH(r,new YU(hH.jn.Jht,hH.jn.Kht,hH.jn.S1,hH.jn.tct))}var n=t.prototype;return n.Jh=function(t,n,i){var e=this.Mw(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.Mw=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Fr.awrap(this.wft.lft([t],n));case 3:return i=r.sent,t=i.dd,e=this.yft.jA(i.cft,t,jH(t)),r.abrupt("return",{Dm:e,kft:i.cft});case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof Ew)){r.next=16;break}throw new wH(vH.Bct,{code:"MFL8600",uri:t});case 16:if(!(r.t0 instanceof Iw)){r.next=24;break}if(0!==r.t0.$d.ud){r.next=21;break}throw new wH(vH.Oct,{code:"MFL3900",uri:t,status:r.t0.$d.ud});case 21:throw new wH(vH.Bct,{code:"MFL4100",uri:t,status:r.t0.$d.ud});case 22:r.next=25;break;case 24:throw new wH(vH.hg,{error:r.t0,uri:t});case 25:case"end":return r.stop()}},null,this,[[0,10]],qe)},t}(),HH=function(t){function n(n,i){var e;return(e=t.call(this)||this).pft=void 0,e.bft=void 0,e.Aft=void 0,e.Tft=void 0,e.Sft=void 0,e.Eft=void 0,e.Ift=void 0,e.OD=void 0,e.pft=new UH(i||{},hH.jn.Jht,n),e}E(n,t);var i=n.prototype;return i.Ym=function(){void 0!==this.Tft&&(h(this.Tft),this.Tft=void 0),this.Aft&&this.Aft.ld&&(this.Aft=void 0)},i.Rft=function(t){if(this.Ift)for(var n=0,i=this.Ift.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.Dft=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.sft<3*s)?1e3*u.nft:s?1e3*s:1e4,i===n&&(r/=2),r=g.max(r-e,1e3)},i.Nft=function(t){if(t.fragments.length>0)for(var n=this.Rft(t.fragments[0].uri),i=n&&n.S3||0,e=0,r=t.fragments;e<r.length;e++){r[e].S3+=i}},i.Cft=function(t,i,e,r,s,u){var o=this;if(this.Aft&&e===this.Aft.ld){var h=yI()-i;if(r){this.Aft=void 0,this.OD=r;var c={type:"Au",Au:r};return this.dispatchEvent(c),s&&s(r)}this.Aft=void 0;var f=u.Dm,l=u.kft;f.Qct||this.Nft(f),t===this.bft&&(this.Eft=f),this.Ift=f;var v=n.Dft(f,l,this.Sft,h);f.live?f.isMasterPlaylist||(this.Tft=a(function(){return o.Mw(t)},v)):this.Ym(),s&&s(r,u);var d={type:"Pft",manifest:f,manifestText:l};this.dispatchEvent(d),this.Sft=l}},i.Mw=function(t,n){var i=this,e=yI(),r=t;h(this.Tft),this.Tft=void 0;var s=this.pft.Jh(r,{},function(r,u){return i.Cft(t,e,s,r,n,u)});this.Aft={ld:s,wd:t}},i.oC=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.Ift?this.Ift.uri:this.bft))&&(this.Aft&&this.Aft.wd===t?n&&(i=function(t){s.removeEventListener("Au",e),s.removeEventListener("Pft",i);var r=t;n(null,{Dm:r.manifest,kft:r.manifestText})},e=function(t){s.removeEventListener("Au",e),s.removeEventListener("Pft",i),n(t.Au)},this.addEventListener("Au",e),this.addEventListener("Pft",i)):(this.Ym(),this.Mw(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.Bft=function(t){t&&(this.Sft=void 0,this.Eft&&this.Eft.isMasterPlaylist?this.oC(t.uri):this.Ift&&!this.Oft()&&this.oC(this.Ift.uri))},i.$c=function(){this.Ym(),this.ou()},i.Oft=function(){return!!this.Aft||!!this.Tft||!(!this.Ift||this.Ift.live)},T(n,[{key:"Dm",get:function(){return this.Ift}},{key:"xft",get:function(){return this.Eft}},{key:"Lft",get:function(){return this.bft},set:function(t){this.Ym(),this.Sft=void 0,this.Eft=void 0,this.Ift=void 0,this.bft=t}}]),n}(dH),XH=function(t){function n(){return t.call(this,"Mft")||this}return E(n,t),n}(Eu),zH=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Uft=void 0,r.Xft=void 0,r.Hft=void 0,r.Rst=void 0,r.Fft=void 0,r.qE=void 0,r.uY=void 0,r.zft=void 0,r.Vft=function(){r.$s(new XH)},r.Rst=n,r.Fft=Ur({},i,{crossOrigin:r.Rst.crossOrigin,withCredentials:r.Rst.useCredentials,liveOffset:r.Rst.liveOffset,hlsDateRange:r.Rst.hlsDateRange}),r.qE=e,r.Xft=[],r.uY=!1,r}E(n,t);var i=n.prototype;return i.Wft=function(){if(this.Hft)return this.Hft.Dm},i.oC=function(t){var n=this;yu(Hy(function(){return n.Gft()},t))},i.Gft=function(){var t,n,i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Fr.awrap(this.qft());case 2:if((t=u.sent).isMasterPlaylist)for(this.Uft=t,n=0,i=t.streams;n<i.length;n++)e=i[n],r=new HH(this.qE,this.Fft),this.Xft.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:r});else s=new HH(this.qE,this.Fft),this.Xft.push({stream:{uri:t.uri},updater:s});this.zft&&(this.Yft(this.zft.width,this.zft.height),this.zft=void 0),this.uY=!0;case 6:case"end":return u.stop()}},null,this,null,qe)},i.jft=function(t,n){this.uY?this.Yft(t,n):this.zft={width:t,height:n}},i.Yft=function(t,n){this.Qft();var i=this.Zft(t,n);i&&(this.Hft=i.updater,this.Hft.addEventListener("Pft",this.Vft),i.updater.oC(i.stream.uri))},i.Qft=function(){this.Hft&&(this.Hft.Ym(),this.Hft.removeEventListener("Pft",this.Vft),this.Hft=void 0)},i.Zft=function(t,n){return 1===this.Xft.length?this.Xft[0]:Ws(this.Xft,function(i){return i.stream.width===t&&i.stream.height===n})},i.qft=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new UH(this.Fft,hH.jn.Jht,this.qE),i.next=3,Fr.awrap(t.Jh(this.Rst.src,{}));case 3:return n=i.sent,i.abrupt("return",n.Dm);case 5:case"end":return i.stop()}},null,this,null,qe)},i.$c=function(){this.Qft();for(var t=0,n=this.Xft;t<n.length;t++){n[t].updater.$c()}Zs(this.Xft)},n}(Tu),VH=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).Kft=void 0,r.Jft=void 0,r.mU=void 0,r.$ft=!1,r.s5=void 0,r.jY=void 0,r.handleManifestUpdate=function(){var t=r.Kft.Wft();if(t){var n=r.RN;if(n){var i=n.getTime(),e=r.s5;e||(e=new VL,r.s5=e),e.tc(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.$ft&&e._g.M_>0&&(r.Vm.B_(e),r.jY.B_(e),r.$ft=!0)}}},r.tvt=function(){r.Kft&&r.Kft.jft(r.dm,r.lm)},r.Jft=i,r.mU=e,r.jY=new OP(Jt(r)),r.tu(Bf.qf,r.tvt),r}E(n,t);var i=n.prototype;return i.Qm=function(n,i,e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(t.prototype.Qm.call(this,n,i,e));case 2:n.hlsDateRange&&this.nvt(n,i,e);case 3:case"end":return r.stop()}},null,this,null,qe)},i.nvt=function(t,n,i){this.Kft&&(this.Kft.au("Mft",this.handleManifestUpdate),this.Kft.$c()),this.Kft=new zH(t,n,this.Jft),this.Kft.tu("Mft",this.handleManifestUpdate),this.Kft.oC(i)},i.wc=function(){return this.s5&&(this.Vm.O_(this.s5),this.jY.O_(this.s5),this.s5.$c(),this.s5=void 0,this.$ft=!1),this.jY.wc(),t.prototype.wc.call(this)},i.$c=function(){return this.au(Bf.qf,this.tvt),this.Kft&&(this.Kft.au("Mft",this.handleManifestUpdate),this.Kft.$c()),this.jY.$c(),t.prototype.$c.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).ivt=void 0,i.ivt=n;for(var e=0;e<pS.length;e++){var r=pS[e];i.ivt.tu(r,i.Js)}return i}E(n,t);var i=n.prototype;return i.Zm=function(){return this.ivt.Zm()},i.vy=function(){return this.ivt.vy()},i.oy=function(){return this.ivt.oy()},i.uy=function(){return this.ivt.uy()},i.py=function(){return this.ivt.py()},i.qm=function(){return this.ivt.qm()},i.Gm=function(){return this.ivt.Gm()},i.wc=function(){return this.ivt.wc()},i.Qm=function(t,n,i){return this.ivt.Qm(t,n,i)},i.sy=function(){return this.ivt.sy()},i.Km=function(){return this.ivt.Km()},i.Jm=function(){return this.ivt.Jm()},i.$c=function(){this.ou();for(var t=0;t<pS.length;t++){var n=pS[t];this.ivt.au(n,this.Js)}return this.ivt.$c()},T(n,[{key:"Fm",get:function(){return this.ivt.Fm}},{key:"by",get:function(){return this.ivt.by}},{key:"Ay",get:function(){return this.ivt.Ay},set:function(t){this.ivt.Ay=t}},{key:"tm",get:function(){return this.ivt.tm},set:function(t){this.ivt.tm=t}},{key:"nm",get:function(){return this.ivt.nm}},{key:"im",get:function(){return this.ivt.im}},{key:"um",get:function(){return this.ivt.um}},{key:"Wm",get:function(){return this.ivt.Wm}},{key:"Au",get:function(){return this.ivt.Au}},{key:"Sy",get:function(){return this.ivt.Sy}},{key:"Ey",get:function(){return this.ivt.Ey}},{key:"hm",get:function(){return this.ivt.hm},set:function(t){this.ivt.hm=t}},{key:"By",get:function(){return this.ivt.By}},{key:"cm",get:function(){return this.ivt.cm}},{key:"fm",get:function(){return this.ivt.fm},set:function(t){this.ivt.fm=t}},{key:"Oy",get:function(){return this.ivt.Oy}},{key:"xy",get:function(){return this.ivt.xy},set:function(t){this.ivt.xy=t}},{key:"wg",get:function(){return this.ivt.wg}},{key:"Ly",get:function(){return this.ivt.Ly}},{key:"vm",get:function(){return this.ivt.vm}},{key:"RN",get:function(){return this.ivt.RN}},{key:"Vm",get:function(){return this.ivt.Vm}},{key:"lm",get:function(){return this.ivt.lm}},{key:"zm",get:function(){return this.ivt.zm}},{key:"dm",get:function(){return this.ivt.dm}},{key:"wm",get:function(){return this.ivt.wm},set:function(t){this.ivt.wm=t}},{key:"My",get:function(){return this.ivt.My}},{key:"Uy",get:function(){return this.ivt.Uy},set:function(t){this.ivt.Uy=t}},{key:"DN",get:function(){return this.ivt.DN}}]),n}(Ym));FH=function(t,n,i){return new VH(t,n,i)},lS.xN().LN(FH);var WH=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},qH=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),GH={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(GH,GH.exports);var $H=GH.exports;function YH(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function QH(t){return JSON.stringify(t,GH.exports.getSerialize(YH))}var ZH={},KH={};!function(t){w.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(KH);var JH={};!function(t){w.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(JH);var tX={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}w.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(tX),w.defineProperty(ZH,"__esModule",{value:!0});var nX=KH.isS,iX=KH.isChar,eX=KH.isNameStartChar,rX=KH.isNameChar,sX=KH.S_LIST,uX=KH.NAME_RE,oX=JH.isChar,aX=tX.isNCNameStartChar,hX=tX.isNCNameChar,cX=tX.NC_NAME_RE;const fX="http://www.w3.org/XML/1998/namespace",lX="http://www.w3.org/2000/xmlns/",vX={__proto__:null,xml:fX,xmlns:lX},dX={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},wX=-1,gX=-2,mX=0,yX=1,pX=2,_X=3,bX=4,kX=5,AX=6,TX=7,SX=8,EX=9,IX=10,RX=11,CX=12,DX=13,NX=14,PX=15,xX=16,BX=17,OX=18,LX=19,MX=20,jX=21,FX=22,UX=23,HX=24,XX=25,zX=26,VX=27,WX=28,qX=29,GX=30,$X=31,YX=32,QX=33,ZX=34,KX=35,JX=36,tz=37,nz=38,iz=39,ez=40,rz=41,sz=42,uz=43,oz=44,az=9,hz=10,cz=13,fz=32,lz=33,vz=38,dz=45,wz=47,gz=59,mz=60,yz=61,pz=62,_z=63,bz=91,kz=93,Az=133,Tz=8232,Sz=t=>34===t||39===t,Ez=[34,39],Iz=[...Ez,bz,pz],Rz=[...Ez,mz,kz],Cz=[yz,_z,...sX],Dz=[...sX,pz,vz,mz];function Nz(t,n,i){switch(n){case"xml":i!==fX&&t.fail(`xml prefix must be bound to ${fX}.`);break;case"xmlns":i!==lX&&t.fail(`xmlns prefix must be bound to ${lX}.`)}switch(i){case lX:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${lX}.`);break;case fX:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Pz=t=>cX.test(t),xz=t=>uX.test(t),Bz=0,Oz=1,Lz=2;ZH.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Mz={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var jz=ZH.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=aX,this.nameCheck=hX,this.isName=Pz,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=w.assign({__proto__:null},vX);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of w.keys(n))Nz(t,i,n[i])}(this,t),w.assign(this.ns,t))}else this.nameStartCheck=eX,this.nameCheck=rX,this.isName=xz,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Ao}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Bz,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?DX:mX,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new l("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Ao=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=w.create(dX),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[Mz[t]]=n}off(t){this[Mz[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new l(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===cz||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return wX;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=fz||i===az)return i;switch(i){case hz:return this.line++,this.column=0,this.positionAtNewLine=this.position,hz;case cz:return t.charCodeAt(n+1)===hz&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,gX;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return wX;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==Tz||i===az)return i;switch(i){case hz:return this.line++,this.column=0,this.positionAtNewLine=this.position,hz;case cz:{const i=t.charCodeAt(n+1);i!==hz&&i!==Az||(this.i=n+2)}case Az:case Tz:return this.line++,this.column=0,this.positionAtNewLine=this.position,gX;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===gX?hz:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===gX,s=r?hz:e;if(s===wX||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case gX:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=hz;break;case wX:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===wX)return this.name+=t.slice(n),wX;if(!rX(i))return this.name+=t.slice(n,this.prevI),i===gX?hz:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===wX||!nX(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=iX,this.getCode=this.getCode10):(this.isChar=oX,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=yX}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case mz:if(this.state=PX,0!==this.text.length)throw new l("no-empty text at start");break;case wX:break;default:this.unget(),this.state=DX,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Iz);switch(n){case pz:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=DX,this.doctype=!0;break;case wX:break;default:this.text+=String.fromCodePoint(n),n===bz?this.state=bX:Sz(n)&&(this.state=_X,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=pX)}sDTD(){const t=this.captureTo(Rz);t!==wX&&(this.text+=String.fromCodePoint(t),t===kz?this.state=pX:t===mz?this.state=AX:Sz(t)&&(this.state=kX,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=bX,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case lz:this.state=TX,this.openWakaBang="";break;case _z:this.state=RX;break;default:this.state=bX}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?SX:bX,this.openWakaBang="")}sDTDComment(){this.captureToChar(dz)&&(this.text+="-",this.state=EX)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===dz?IX:SX}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===pz?this.state=bX:(this.fail("malformed comment."),this.state=SX)}sDTDPI(){this.captureToChar(_z)&&(this.text+="?",this.state=CX)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===pz&&(this.state=bX)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case gX:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case gz:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===DX&&void 0===this.textHandler||(this.text+=r);break t}case wX:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(eX(t))this.state=ZX,this.unget(),this.xmlDeclPossible=!1;else switch(t){case wz:this.state=uz,this.xmlDeclPossible=!1;break;case lz:this.state=xX,this.openWakaBang="",this.xmlDeclPossible=!1;break;case _z:this.state=UX;break;default:this.fail("disallowed character in tag name"),this.state=DX,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=MX,this.openWakaBang="";break;case"--":this.state=BX,this.openWakaBang="";break;case"DOCTYPE":this.state=pX,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(dz)&&(this.state=OX)}sCommentEnding(){var t;const n=this.getCodeNorm();n===dz?(this.state=LX,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=BX)}sCommentEnded(){const t=this.getCodeNorm();t!==pz?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=BX):this.state=DX}sCData(){this.captureToChar(kz)&&(this.state=jX)}sCDataEnding(){const t=this.getCodeNorm();t===kz?this.state=FX:(this.text+=`]${String.fromCodePoint(t)}`,this.state=MX)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case pz:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=DX;break;case kz:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=MX}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=HX):t===_z||nX(t)?(this.fail("processing instruction without a target."),this.state=t===_z?zX:XX):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=HX)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===wX)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===_z;e||nX(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?QX:VX):this.state=e?zX:XX:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===_z?this.state=zX:nX(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(_z)&&(this.state=zX)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===pz){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=DX}else n===_z?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=XX);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==_z?t!==wX&&(this.state=WX,this.name=String.fromCodePoint(t)):this.state=QX}sXMLDeclName(){const t=this.captureTo(Cz);if(t===_z)return this.state=QX,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(nX(t)||t===yz){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===yz?GX:qX}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===_z)return this.state=QX,void this.fail("XML declaration is incomplete.");nX(t)||(t!==yz&&this.fail("value required."),this.state=GX)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===_z)return this.state=QX,void this.fail("XML declaration is incomplete.");nX(t)||(Sz(t)?this.q=t:(this.fail("value must be quoted."),this.q=fz),this.state=$X)}sXMLDeclValue(){const t=this.captureTo([this.q,_z]);if(t===_z)return this.state=QX,this.text="",void this.fail("XML declaration is incomplete.");if(t===wX)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=YX}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==_z?(nX(t)||(this.fail("whitespace required."),this.unget()),this.state=VX):this.state=QX}sXMLDeclEnding(){var t;this.getCodeNorm()===pz?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=DX):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===wX)return;const i=this.tag={name:this.name,attributes:w.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=w.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case pz:this.openTag();break;case wz:this.state=KX;break;default:nX(n)||this.fail("disallowed character in tag name."),this.state=JX}}sOpenTagSlash(){this.getCode()===pz?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=JX)}sAttrib(){const t=this.skipSpaces();t!==wX&&(eX(t)?(this.unget(),this.state=tz):t===pz?this.openTag():t===wz?this.state=KX:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===yz?this.state=iz:nX(t)?this.state=nz:t===pz?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==wX&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case wX:return;case yz:this.state=iz;break;default:this.fail("attribute without value."),this.text="",this.name="",t===pz?this.openTag():eX(t)?(this.unget(),this.state=tz):(this.fail("disallowed character in attribute name."),this.state=JX)}}sAttribValue(){const t=this.getCodeNorm();Sz(t)?(this.q=t,this.state=ez):nX(t)||(this.fail("unquoted attribute value."),this.state=sz,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=rz);case vz:return this.text+=n.slice(i,this.prevI),this.state=NX,void(this.entityReturnState=ez);case hz:case gX:case az:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case mz:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case wX:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();nX(t)?this.state=JX:t===pz?this.openTag():t===wz?this.state=KX:eX(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=tz):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Dz);switch(t){case vz:this.state=NX,this.entityReturnState=sz;break;case mz:this.fail("disallowed character.");break;case wX:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===pz?this.openTag():this.state=JX}}sCloseTag(){const t=this.captureNameChars();t===pz?this.closeTag():nX(t)?this.state=oz:t!==wX&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case pz:this.closeTag();break;case wX:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case mz:if(this.state=PX,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=Bz;break t;case vz:this.state=NX,this.entityReturnState=DX,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=Bz;break t;case kz:switch(n){case Bz:n=Oz;break;case Oz:n=Lz;break;case Lz:break;default:throw new l("impossible state")}break;case pz:n===Lz&&this.fail('the string "]]>" is disallowed in char data.'),n=Bz;break;case gX:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Bz;break;case wX:void 0!==e&&(this.text+=i.slice(t));break t;default:n=Bz}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case mz:if(this.state=PX,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case vz:this.state=NX,this.entityReturnState=DX,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case gX:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case wX:void 0!==i&&(this.text+=n.slice(t));break t;default:nX(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,Nz(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Nz(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==mX&&this.state!==DX&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.Ao=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?lX:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=DX,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=DX,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=DX,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=m(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=m(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},Fz=function(){function t(){}return t.prototype.oi=function(t){var n=new jz({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new qz,e=[i];function r(t){e[e.length-1].Ci(t)}return n.on("text",function(t){e.length>1&&r(new Vz(t))}),n.on("cdata",function(t){r(new Wz(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new Xz({wi:n,gi:""===i?void 0:i,evt:""===s?void 0:s}),o=t.attributes,a=0,h=w.keys(o);a<h.length;a++){var c=o[h[a]],f=c.prefix,l=c.local,v=c.uri,d=c.value,g=new Uz({wi:l,Ti:d,gi:""===v?void 0:v,evt:""===f?void 0:f});u.rvt(g)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new en(t)}),n.write(t).close(),i},t}(),Uz=function(){function t(t){this.svt=void 0,this.uvt=void 0,this.ovt=void 0,this.pe=void 0,this.svt=t.wi,this.pe=t.Ti,this.uvt=t.gi,this.ovt=t.evt}var n=t.prototype;return n.ci=function(t){return this===t||!!$z(this,t)&&(this.svt===t.svt&&this.uvt===t.uvt&&this.ovt===t.ovt&&this.pe===t.pe)},n.di=function(){return new t({wi:this.wi,Ti:this.Ti,gi:this.gi,evt:this.Ai})},T(t,[{key:"Jn",get:function(){return $t.ei}},{key:"wi",get:function(){return this.svt}},{key:"_i",get:function(){return void 0===this.ovt?this.svt:this.ovt+":"+this.svt}},{key:"gi",get:function(){return this.uvt}},{key:"Ai",get:function(){return this.ovt}},{key:"Ti",get:function(){return this.pe}}]),t}(),Hz=function(){function t(){this.Ei=[]}var n=t.prototype;return n.Ii=function(t){return this.Ei.filter(function(n){return Gz(n)&&n.Di===t})},n.Ni=function(t,n){return this.Ei.filter(function(i){return Gz(i)&&i.wi===n&&i.gi===t})},n.Ci=function(t){this.Ei.push(t)},T(t,[{key:"Ri",get:function(){return this.Ei}},{key:"Bi",get:function(){return this.Ei.filter(Gz)}}]),t}(),Xz=function(t){function n(n){var i;return(i=t.call(this)||this).svt=void 0,i.uvt=void 0,i.ovt=void 0,i.avt=[],i.svt=n.wi,i.uvt=n.gi,i.ovt=n.evt,i}E(n,t);var i=n.prototype;return i.cvt=function(t){for(var n=0,i=this.Ri;n<i.length;n++){var e=i[n];Gz(e)?e.cvt(t):t.push(e.zi)}},i.xi=function(t,n){for(var i=0,e=this.avt;i<e.length;i++){var r=e[i];if(r.wi===n&&r.gi===t)return r.Ti}},i.Oi=function(t){for(var n=0,i=this.avt;n<i.length;n++){var e=i[n];if(e._i===t)return e.Ti}},i.rvt=function(t){this.avt.push(t)},i.Li=function(t){for(var n=0;n<this.avt.length;n++)if(this.avt[n]._i===t)return void this.avt.splice(n,1)},i.Mi=function(t,n){for(var i=0;i<this.avt.length;i++)if(this.avt[i].wi===n&&this.avt[i].gi===t)return void this.avt.splice(i,1)},i.Ui=function(t,n){this.Li(t),this.rvt(new Uz({wi:t,Ti:n}))},i.Xi=function(t,n,i){this.Li(n);var e=n.split(":");this.rvt(new Uz({wi:e[e.length-1],Ti:i,gi:t,evt:e.length>1?e[0]:void 0}))},i.di=function(t){var i=new n({wi:this.wi,gi:this.gi,evt:this.Ai});return this.Hi.forEach(function(t){return i.rvt(t.di())}),t&&this.Ri.forEach(function(n){return i.Ci(n.di(t))}),i},i.ci=function(t){return this===t||!!$z(this,t)&&(this.svt===t.svt&&this.ovt===t.ovt&&this.uvt===t.uvt&&(Yz(this.Hi,t.Hi)&&Yz(this.Ri,t.Ri)))},T(n,[{key:"Jn",get:function(){return $t.$n}},{key:"Hi",get:function(){return this.avt}},{key:"wi",get:function(){return this.svt}},{key:"gi",get:function(){return this.uvt}},{key:"Ai",get:function(){return this.ovt}},{key:"Di",get:function(){return void 0===this.ovt?this.svt:this.ovt+":"+this.svt}},{key:"Fi",get:function(){var t=[];return this.cvt(t),t.join("")}}]),n}(Hz),zz=function(){function t(t){this.qi=void 0,this.qi=t}return T(t,[{key:"zi",get:function(){return this.qi}}]),t}(),Vz=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.di=function(){return new n(this.zi)},i.ci=function(t){return this===t||!!$z(this,t)&&this.zi===t.zi},T(n,[{key:"Jn",get:function(){return $t.ni}}]),n}(zz),Wz=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.di=function(){return new n(this.zi)},i.ci=function(t){return this===t||!!$z(this,t)&&this.zi===t.zi},T(n,[{key:"Jn",get:function(){return $t.ri}}]),n}(zz),qz=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.di=function(t){var i=new n;return t&&this.Ri.forEach(function(n){return i.Ci(n.di(t))}),i},i.ci=function(t){return this===t||!!$z(this,t)&&Yz(this.Ri,t.Ri)},T(n,[{key:"Jn",get:function(){return $t.ui}},{key:"Vi",get:function(){return this.Bi[0]}}]),n}(Hz);function Gz(t){return Zt(t)}function $z(t,n){return t.Jn===n.Jn}function Yz(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ci(n[i]))return!1;return!0}var Qz,Zz=["adBreak"],Kz=["adBreak"];function Jz(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Ur({},t,{adBreak:Ur({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,iA(t,Zz)})})})}function tV(t){return void 0===t.ads?t:Ur({},t,{ads:t.ads.map(function(t){return t.adBreak,iA(t,Kz)})})}function nV(t){return"string"==typeof t.date?new Date(t.date):t.date}function iV(t){var n;return t.cue.track?(n=rV(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=rV(t.cue,""),n}function eV(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&w.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=w.entries(i);return w.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function rV(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new Fz).oi(e.firstChild.outerHTML).Vi.Hi.forEach(function(t){r[t.wi]=t.Ti}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(h=o)&&null!==h){var a=sV(o);s[u]={type:Qz.fvt,value:a}}else oV(o)?s[u]={type:Qz.vvt,value:o}:s[u]={type:Qz.AZ,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=sV(t.scte35Cmd),i.scte35Out=sV(t.scte35Out),i.scte35In=sV(t.scte35In),i.customAttributes=s}var h}(),i}function sV(t){if(void 0!==t)return zu(t)}function uV(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(rV(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(rV(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function oV(t){return"number"==typeof t}!function(t){t.AZ="daterange-ca-type_string",t.vvt="daterange-ca-type_number",t.fvt="daterange-ca-type_arraybuffer"}(Qz||(Qz={}));var aV={cue:function(t){var n={};switch(n.date=nV(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=iV(t)}return n},textTrack:function(t){var n={};switch(n.date=nV(t),n.type=t.type,t.type){case"addcue":var i=t.cue;lV().register(i);var e=fV()[vV()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=iV(t);break;case"cuechange":for(var r=[],s=0;s<t.track.activeCues.length;s++){var u=t.track.activeCues[s];r.push(rV(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:uV(t.track),date:nV(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=lV();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=nV(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Bf.rv:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Ur({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=uV(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=tV(t.ad);break;case"adloaded":case"adimpression":n.ad=Jz(t.ad);break;case"adskip":n.ad=Jz(t.ad),n.playedPercentage=t.playedPercentage;break;case"aderror":t.lvt&&(n.lvt=t.lvt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=Jz(t.ad)}return eV(n)},minimizeCueHelper:function(t){var n={};return n.date=nV(t),n.type=t.type,n.cue=iV(t),n.track={uid:t.cue.track.uid},n},adReplacer:Jz,adBreakReplacer:tV,removeCircularReferences:eV},hV=function(){this.stringify=QH,this.minimize=aV};function cV(){return we.self}function fV(){return cV().THEOplayerBridge}function lV(){return cV().THEOCueMirrorMap}function vV(){return cV().THEOplayerGlobalID}function dV(){var t=cV();if(t.THEOplayerBridge){var n=new WH;t.THEOplayerBridge=km(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new WH;t.THEOplayerUtils||(t.THEOplayerUtils=new hV),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new qH)}dV();var wV,gV=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return E(n,t),n}(Eu),mV=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.$s(new gV(t,n))},i.addEventListener=function(t,n){this.tu(t,n)},i.removeEventListener=function(t,n){this.au(t,n)},n}(Qm),yV=function(t){function n(n,i){var e;return(e=t.call(this)||this).dvt=void 0,e.wvt=void 0,e._vt=function(t){e.dvt.oJ("THEOplayerABRSetTargetBuffer",t.XL),e.$s(t)},e.gvt=function(t){e.dvt.oJ("THEOplayerABRSetStrategy",t.FL),e.$s(t)},e.dvt=n,e.wvt=i,e.wvt.tu("HL",e._vt),e.wvt.tu("zL",e.gvt),e}return E(n,t),n.prototype.$L=function(t){return this.wvt.$L(t)},T(n,[{key:"nM",get:function(){var t;switch(this.FL.type){case gR.PERFORMANCE:return 1;case gR.QUALITY:return 0;case gR.BANDWIDTH:return null!=(t=this.FL.metadata)&&t.bitrate&&!p(this.FL.metadata.bitrate)?this.FL.metadata.bitrate:0;default:return 0}}},{key:"o_",get:function(){return this.wvt.o_}},{key:"FL",get:function(){return this.wvt.FL},set:function(t){this.wvt.FL=t}},{key:"XL",get:function(){return this.wvt.XL},set:function(t){this.wvt.XL=t}},{key:"tM",get:function(){return this.wvt.tM}},{key:"VL",get:function(){return this.wvt.VL},set:function(t){this.wvt.VL=t}},{key:"GL",get:function(){return this.wvt.GL}},{key:"OL",get:function(){return this.wvt.OL}}]),n}(Tu),pV=function(){function t(t,n,i){this.Mc=void 0,this.Es=void 0,this.ef=void 0,this.ac=void 0,this.Mc=t,this.Es=i,this.ef=n}var n=t.prototype;return n.JE=function(t){throw new l("Not implemented yet.")},n.eH=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.Es.Ds(t.gs,n));case 2:return i=r.sent,r.next=5,Fr.awrap(i.mc());case 5:return e=r.sent,r.next=8,Fr.awrap(this.rH(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,qe)},n.sH=function(t){return!1},n.uH=function(t){return qe.resolve(void 0)},n.Xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.rH(void 0));case 2:case"end":return t.stop()}},null,this,null,qe)},n.rH=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.aH(t),i.next=3,Fr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,qe)},n.aH=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.ac)){i.next=5;break}return i.next=4,Fr.awrap(n.dc(this.ef));case 4:this.ac=void 0;case 5:if(!t){i.next=9;break}return i.next=8,Fr.awrap(t.lc(this.ef));case 8:this.ac=t;case 9:case"end":return i.stop()}},null,this,null,qe)},n.QE=function(t,n,i){throw new l("Not implemented yet.")},T(t,[{key:"cc",get:function(){return this.Mc}},{key:"xy",get:function(){throw new l("Not implemented yet.")},set:function(t){throw new l("Not implemented yet.")}},{key:"Ly",get:function(){return new TS([0,1/0])}},{key:"Vm",get:function(){throw new l("Not implemented yet.")}},{key:"mvt",get:function(){throw new l("Not implemented yet")}},{key:"zm",get:function(){throw new l("Not implemented yet.")}},{key:"yvt",get:function(){throw new l("Not implemented yet")}},{key:"kvt",get:function(){throw new l("Not implemented yet")}}]),t}();!function(t){t.pvt="webkitneedkey",t.bvt="webkitkeymessage",t.Avt="webkitkeyerror",t.Tvt="webkitkeyflowdone"}(wV||(wV={}));var _V=function(t){function n(n,i){var e;return(e=t.call(this,wV.pvt)||this).initData=n,e.sessionId=i,e}return E(n,t),n}(Eu),bV=function(t){function n(n,i){var e;return(e=t.call(this,wV.bvt)||this).message=n,e.destinationURL=i,e}return E(n,t),n}(Eu),kV=function(t){function n(){return t.call(this,wV.Avt)||this}return E(n,t),n}(Eu),AV=function(t){function n(){return t.call(this,wV.Tvt)||this}return E(n,t),n}(Eu),TV=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Tc=new ta,u.Uc=void 0,u.Ic=new Ou,u.Hc=new ta,u.Svt=function(t){u.Uc?(u.Uc.Zu(void 0),u.Uc=void 0):u.Pc("internal-error"),u.$s(new Nu)},u.Evt=function(t){u.$s(new Du(Jt(u),"license-request",Qo(t.message).buffer,t.destinationURL||void 0))},u.Ivt=function(t){u.Uc&&(u.Uc.Qu(void 0),u.Uc=void 0)},u.Oc=n,u.Yh=i,u.Rvt=e,u.nf=r,u.zc=s,u}E(n,t);var i=n.prototype;return i.Kh=function(t,n,i){var e;return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Vc){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,Fr.awrap(this.Dvt($o(n),e));case 5:this.Pc("usable"),this.Hc.Qu(),this.Hc=new ta;case 8:case"end":return t.stop()}},null,this,null,qe)},i.Jh=function(t){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,qe)},i.tc=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=$o(t)).byteLength){i.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.Uc=new ta,this.Rvt.tc(this.nf,n),i.abrupt("return",this.Uc.Gu);case 6:case"end":return i.stop()}},null,this,null,qe)},i.Zh=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.Hc);case 2:return this.Rvt.au(wV.bvt,this.Evt),this.Rvt.au(wV.Avt,this.Svt),this.Rvt.au(wV.Tvt,this.Ivt),this.Hc.Gs(),this.Tc.Qu(void 0),t.abrupt("return",this.Tc.Gu);case 8:case"end":return t.stop()}},null,this,null,qe)},i.$h=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,qe)},i.Dvt=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=cf(t,n,this.zc),this.Rvt.tu(wV.bvt,this.Evt),this.Rvt.tu(wV.Avt,this.Svt),this.Rvt.tu(wV.Tvt,this.Ivt),this.Rvt.AY(this.nf,i);case 5:case"end":return e.stop()}},null,this,null,qe)},i.Pc=function(t){this.Ic.Ou(),this.Ic.Bu(Bu,t),this.$s(new Cu(this))},T(n,[{key:"uc",get:function(){return this.nf}},{key:"ec",get:function(){return NaN}},{key:"ic",get:function(){return this.Tc.Gu}},{key:"rc",get:function(){return this.Ic}}]),n}(Tu),SV=function(){function t(t,n,i){this.Nvt=void 0,this.nf=void 0,this.zc=void 0,this.Rvt=void 0,this.Yh=void 0,this.Mc=void 0,this.Oc=void 0,this.Rvt=t,this.Yh=n,this.Mc=i;var e=$c(i)||"video/mp4";this.Oc=Vc(e)}var i=t.prototype;return i.fc=function(t){var i;return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.zc){t.next=2;break}throw new ff(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new TV(this.Oc,this.Yh,this.Rvt,this.nf,this.zc),this.Nvt=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,qe)},i.vc=function(t){return this.zc=$o(t),qe.resolve(!0)},i.lc=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,qe)},i.dc=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,qe)},i.createSession=function(){throw new l("Whoops.")},T(t,[{key:"hc",get:function(){return this.Yh}},{key:"cc",get:function(){return this.Mc}},{key:"sessionId",set:function(t){this.nf=t}}]),t}(),EV=function(){function t(t,n,i){this.Cvt=t,this.Yh=n,this.Mc=i}var n=t.prototype;return n.yc=function(){return this.Mc},n.mc=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new SV(this.Cvt,this.Yh,this.Mc));case 1:case"end":return t.stop()}},null,this,null,qe)},T(t,[{key:"hc",get:function(){return this.Yh}}]),t}(),IV=function(){function t(t){this.Cvt=void 0,this.Cvt=t}return t.prototype.Ds=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0;case 1:if(!(i<n.length)){s.next=9;break}if(e=n[i],!(r=qc(RV,Ru,t,e))){s.next=6;break}return s.abrupt("return",new EV(this.Cvt,t,r));case 6:i++,s.next=1;break;case 9:throw new v("Unsupported key system configuration for "+t);case 10:case"end":return s.stop()}},null,this,null,qe)},t}();function RV(t,n){return t===ls}var CV,DV=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.BY=function(t,n){return!0},n}(JP),NV=function(t){function n(n,i,e){var r;return void 0===e&&(e=new IV(i)),(r=t.call(this)||this).BD=void 0,r.Es=void 0,r.$X=void 0,r.XY=new yf,r.Pvt=void 0,r.Cvt=void 0,r.Bvt=!1,r.nf=void 0,r.Fc=null,r.Ovt={Iy:0,Ry:0,Dy:0,Ny:0,Cy:0,Py:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.xvt=function(t){"boolean"==typeof t.detail.casting&&(r.Bvt=t.detail.casting,r.$s(new Op(r.Bvt)))},r.Lvt=function(t){r.nf=t.sessionId,r.Fc&&(r.Fc.sessionId=r.nf);var n=t.initData;if(n){var i=ox(n);if(!i)return;r.$s(new Pu(is,i))}else r.$s(new Pu(is,new ArrayBuffer(0)))},r.Pvt=n,r.Cvt=i,r.Cvt.tu(wV.pvt,r.Lvt),r.Es=e,r.$X=new DV(Jt(r)),r.Mvt(),r}E(n,t);var i=n.prototype;return i.dH=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i._s===pk.tI)return i}},i.Xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.wc());case 2:return this.ou(),this.Uvt(),this.Cvt.au(wV.pvt,this.Lvt),t.next=7,Fr.awrap(this.$X.Xs());case 7:case"end":return t.stop()}},null,this,null,qe)},i.uy=function(){throw new l("Not implemented yet")},i.QE=function(t,n,i,e,r,s,u,o){throw new l("Not implemented yet")},i.dN=function(){return!1},i._N=function(t,n,i,e,r){throw new l("Not implemented yet")},i.JE=function(t){throw new l("Not implemented yet")},i.yN=function(){throw new l("Not implemented yet")},i.Jh=function(t){var n=this;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.XY.Kc(function(i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t._s!==pk.tI){r.next=8;break}return cu(i),e=new pV(t,n,n.Es),n.BD=e,n.$X.Jh(e,t),r.abrupt("return",e);case 8:throw new l("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,qe)}));case 1:case"end":return i.stop()}},null,this,null,qe)},i.qm=function(){throw new l("Not implemented yet")},i.Gm=function(){throw new l("Not implemented yet")},i.wc=function(){var t=this;return this.XY.Gs(),this.XY.Kc(function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.BD){n.next=4;break}return n.next=3,Fr.awrap(t.BD.Xs());case 3:t.BD=void 0;case 4:return n.next=6,Fr.awrap(t.$X.wc());case 6:case"end":return n.stop()}},null,null,null,qe)})},i.Xu=function(t,n){throw new l("Not implemented yet")},i.EN=function(t){throw new l("Not implemented yet")},i.sy=function(){throw new l("Not implemented yet")},i.IN=function(){return this.Ovt},i.Mvt=function(){this.Pvt.addEventListener("airPlayIsCasting",this.xvt)},i.Uvt=function(){this.Pvt.removeEventListener("airPlayIsCasting",this.xvt)},i.webkitSetMediaKeys=function(t){this.Fc=t||null,this.Fc&&(this.Fc.sessionId=this.nf)},i.AQ=function(){},i.pQ=function(){throw new l("Not implemented yet")},i.bQ=function(){throw new l("Not implemented yet")},T(n,[{key:"Ay",get:function(){throw new l("Not implemented yet")}},{key:"by",get:function(){throw new l("Not implemented yet")}},{key:"tm",get:function(){throw new l("Not implemented yet")}},{key:"lX",get:function(){throw new l("Not implemented yet")}},{key:"nm",get:function(){throw new l("Not implemented yet")}},{key:"im",get:function(){throw new l("Not implemented yet")}},{key:"Au",get:function(){throw new l("Not implemented yet")}},{key:"ST",get:function(){throw new l("Not implemented yet")}},{key:"Sy",get:function(){return this.Bvt}},{key:"hm",get:function(){throw new l("Not implemented yet")}},{key:"cm",get:function(){throw new l("Not implemented yet")}},{key:"fm",get:function(){throw new l("Not implemented yet")}},{key:"Oy",get:function(){throw new l("Not implemented yet")}},{key:"wg",get:function(){throw new l("Not implemented yet")}},{key:"Ly",get:function(){throw new l("Not implemented yet")}},{key:"vm",get:function(){throw new l("Not implemented yet")}},{key:"EQ",get:function(){throw new l("Not implemented yet")}},{key:"wm",get:function(){throw new l("Not implemented yet")},set:function(t){throw new l("Not implemented yet")}},{key:"Xk",get:function(){throw new l("Not implemented yet")}},{key:"mN",get:function(){throw new l("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Fc}},{key:"OY",get:function(){return WC}},{key:"Vm",get:function(){throw new l("Not implemented yet")}},{key:"wX",get:function(){throw new l("Not implemented yet")}},{key:"RN",get:function(){throw new l("Not implemented yet")}},{key:"TQ",get:function(){return!0}},{key:"uN",get:function(){return this.$X.uN},set:function(t){this.$X.uN=t}},{key:"IQ",get:function(){},set:function(t){}},{key:"MY",get:function(){return this.$X.MY}}]),n}(Ym),PV=function(t){function n(n){var i;return(i=t.call(this,Bf.hv)||this).Ovt=n,i}return E(n,t),n}(Eu);function xV(t){switch(t.type){case CV.AZ:return t.value;case CV.vvt:return Rm(t.value);case CV.fvt:return Hu(t.value);default:return}}function BV(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.AZ="daterange-ca-type_string",t.vvt="daterange-ca-type_number",t.fvt="daterange-ca-type_arraybuffer"}(CV||(CV={}));var OV=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this).WR=void 0,u.Xvt=void 0,u.WR=n,u.Xvt=s,u}return E(n,t),T(n,[{key:"name",get:function(){return this.WR}},{key:"timestamp",get:function(){return this.Xvt}}]),n}(ff),LV=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e,r,a)||this).url=void 0,h.status=void 0,h.errorComment=void 0,h.url=s,h.status=u,h.errorComment=o,h}return E(n,t),n}(OV),MV=function(){function t(t,n){this.Mm=void 0,this.jY=void 0,this.Mm=new Wb,this.jY=new PP(t,n)}var n=t.prototype;return n.QE=function(t,n,i,e,r,s,u){var o=new PN(t,n,i,e,r,s,u);return this.Mm.B_(o),this.jY.B_(o),o},n.JE=function(t){this.Mm.O_(t),this.jY.O_(t),t.$c()},n.wc=function(){for(var t=0,n=this.Mm.L_.slice();t<n.length;t++){n[t].$c()}this.Mm.wc(),this.jY.wc()},n.$c=function(){this.wc(),this.Mm.$c(),this.jY.$c()},T(t,[{key:"Vm",get:function(){return this.Mm}}]),t}(),jV=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this).KC=0,u.yG=!1,u.OD=void 0,u.xD=void 0,u.Hvt=void 0,u.$C=!0,u.tP=1,u.xm=void 0,u.Lm=void 0,u.WY=void 0,u.qY=void 0,u.Mm=void 0,u.GE=void 0,u.ma=void 0,u.q9=TS.qC(),u.sG=TS.qC(),u.JC=!1,u.ij=TS.qC(),u.nP=void 0,u.Fvt=void 0,u.zvt=void 0,u.kG=sy.Vg,u.iI=sy.Vg,u.Pvt=void 0,u.jY=void 0,u.UD=void 0,u.dvt=void 0,u.Rst=void 0,u.sP=void 0,u.PD=void 0,u.XD=void 0,u.Cvt=void 0,u.Ovt={Iy:0,Ry:0,Dy:0,Ny:0,Cy:0,Py:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.BD=void 0,u.Vvt=void 0,u.FD=new nS,u.zD=new oS,u.setCurrentTime=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Ly.length){n.next=4;break}return u.KC=t,n.next=4,Fr.awrap(u.Pvt.wu("seekablechange"));case 4:u.KC=u.updateCurrentTime(t),u.dvt.oJ("THEOplayerSetCurrentTime",u.KC),u.nP=!0,u.$s(new By(u.KC));case 8:case"end":return n.stop()}},null,null,null,qe)},u.Wvt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.q9=new TS(i),u.$s(new QC(u.tm))}},u.Gvt=function(t){u.kG=t.detail.readyState,u.$s(new My(+t.detail.currentTime,u.wg)),u.qvt()},u.Yvt=function(t){u.kG=t.detail.readyState,u.$s(new jy(+t.detail.currentTime,u.wg)),u.qvt()},u.jvt=function(t){if(t.detail){var n=+t.detail.duration;u.ma=n,u.$s(new Cy(u.nm))}},u.Qvt=function(t){t.detail&&(u.yG=!0,u.$s(new Py(+t.detail.currentTime)))},u.VD=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);BV(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.xD=new LV(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.OD=dp(u.xD),u.$s(new Uy(u.xD))):BV(i)&&(u.xD=new OV(i.name,i.message,void 0,i.code,i.timestamp),u.OD=dp(u.xD),u.$s(new Uy(u.xD)))}},u.Zvt=function(t){u.$s(new ZC)},u.Kvt=function(t){u.kG=t.detail.readyState,u.$s(new xy(+t.detail.currentTime,u.wg)),u.qvt()},u.Jvt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Ly.length){n.next=3;break}return n.next=3,Fr.awrap(u.Pvt.wu("seekablechange"));case 3:u.kG=t.detail.readyState,u.$s(new Ry(+t.detail.currentTime,u.wg)),u.qvt();case 6:case"end":return n.stop()}},null,null,null,qe)},u.$vt=function(t){t.detail&&u.$C&&(u.$C=!1,u.$s(new Ey(+t.detail.currentTime)))},u.tlt=function(t){t.detail&&(u.$C||(u.$C=!0,u.$s(new Sy(+t.detail.currentTime))))},u.nlt=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.ij=new TS(i)}},u.ilt=function(t){t.detail&&u.$s(new Nk(+t.detail.currentTime))},u.elt=function(t){t.detail&&(u.tP=t.detail.playbackRate,u.$s(new Dy(+t.detail.currentTime,u.tP)))},u.rlt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.sG=new TS(i)}},u.slt=function(t){t.detail&&(u.KC=+t.detail.currentTime,u.nP=!1,u.$s(new Ny(u.KC,u.Hvt)),u.$s(new Oy(u.KC)))},u.ult=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.ma&&(u.yG=!1),u.nP=!0,u.$s(new By(n))}},u.olt=function(t){t.detail&&(t.detail.currentDate&&(u.Hvt=new Date(1e3*t.detail.currentDate)),u.KC=+t.detail.currentTime,u.$s(new Ny(u.KC,u.Hvt)))},u.hlt=function(t){u.Fvt=t.detail.height,u.zvt=t.detail.width},u.clt=function(t){t.detail&&u.$s(new Dk(+t.detail.currentTime))},u.flt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Fm.B_(new Cp(n))},u.vlt=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.xm.M_;s++){var o=u.Fm.P_(s);o.K_==e&&o.Z_==r?i=u.xm.P_(s):1==o.q_&&(n=u.xm.P_(s))}i&&n&&(i.q_=!0,n.q_=!1)},u.llt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.zm.B_(new Bp(n))},u.xK=function(t){var n,i=t.detail.kind,e=t.detail.type;i===Vb.gA&&e===Pp.ID3?(n=new jP("",t.detail.label)).fg=Fm.og:i===Vb.gA&&e===Pp.DATE_RANGE?(n=new VL,u.Vvt=n):n=new PN(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.WY.B_(n),u.jY.B_(n)},u.dlt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s=void 0;if("PRIV"===r)s={id:r,ownerIdentifier:e.Id3_PRIV_ownerIdentifier,data:e.Id3_PRIV_data};else if("TXXX"===r||"TXX"===r){s={id:r,text:e.Id3FrameText,description:e.Id3FrameDescription}}else{s={id:r,text:e.Id3FrameText}}var o=new LP(Rm(e.startTime),s,e.uid),a=u.wlt();a&&a.KE(o)}},u._lt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new Kp(Rm(r.startTime),Rm(r.endTime),r.content,!1),o=null!=(e=u.glt(Vb.wA))?e:u.glt(Vb.PE);o&&(o._s=Pp.WEBVTT,o.KE(s))}},u.$j=function(t){t.type===Bf.If&&(u.OD=dp(t.errorObject)),u.Js(t)},u.ylt=function(t){t.detail&&(u.Ovt.Ry=t.detail.corruptedVideoFrames,u.Ovt.Iy=t.detail.droppedVideoFrames,u.$s(new PV(u.Ey)))},u.klt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={Y_:t.id};if(void 0!==t.startDate&&(n.RN=new Date(t.startDate)),void 0!==t.endDate&&(n.D1=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=xV(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.C1=e}void 0!==t.scte35Cmd&&(n.B1=Hu(t.scte35Cmd)),void 0!==t.scte35In&&(n.M1=Hu(t.scte35In)),void 0!==t.scte35Out&&(n.L1=Hu(t.scte35Out)),void 0!==t.startTime&&(n.ck=t.startTime),n.R1=t.class,n.nm=Rm(t.duration),n.N1=Rm(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.ck?t.ck:(new Date).getTime(),e=new XL(t,i);u.Vvt.KE(e),u.Vvt.tc(n,i)})};var o=r.uid;u.dvt=u.getSdkBridge(o),u.Pvt=new mV,fV()[o].sdkEventBus=u.Pvt,u.xm=new mp,u.Lm=new mp;var a=u.plt(e);return u.GE=new MV(Jt(u),new xP),u.jY=new OP(Jt(u)),u.UD=new vk(u.GE,a),u.WY=new Wb,u.qY=new HP(u.GE,u.WY),u.Mm=new rS([u.WY,u.UD.hT,u.qY.hT]),u.Cvt=u.getFairPlayControllerBridge(u.dvt),u.PD=new NV(u.Pvt,u.Cvt),u.XD=new iS(a),u.PD.uN=u.XD,u.observeMediaElement(),u.aN(),u.sP=new yV(u.dvt,s),u.sP.tu("HL",function(){u.dvt.oJ("THEOplayerSetPreferredForwardBufferDuration",u.sP.XL)}),u}E(n,t);var i=n.prototype;return i.vy=function(){return IS},i.sy=function(){this.dvt.oJ("THEOplayerShow",{})},i.uy=function(){this.dvt.oJ("THEOplayerHide",{})},i.blt=function(){var t=this;this.dvt.oJ("THEOplayerSetInitialPreferredPeakBitRate",this.sP.nM);this.tu("playing",function n(){t.dvt.oJ("THEOplayerSetInitialPreferredPeakBitRate",0),t.au("playing",n)})},i.Qm=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.Rst=t,i=Ur({},n,{sources:{src:t.src,type:iy.Lg,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.dvt.oJ("THEOplayerSourceChange",i),e={_s:pk.tI,yg:t.src,Gl:t.type,hN:this.cN(t),fN:t.crossOrigin,vN:n.metadata&&n.metadata.title},this.XD.wD(t.contentProtection),s.next=7,Fr.awrap(this.PD.Jh(e));case 7:this.BD=s.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==Pp.WEBVTT})).length>0&&this.lN(r),yk(this.Vm),this.blt();case 11:case"end":return s.stop()}},null,this,null,qe)},i.cN=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{hc:gs,AN:[{initDataTypes:[gs.ys],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Gm=function(){this.$C=!1,this.$s(new Ey(this.tm)),this.dvt.oJ("THEOplayerPlay",{})},i.qm=function(){this.$C=!0,this.$s(new Sy(this.tm)),this.dvt.oJ("THEOplayerPause",{})},i.oy=function(){},i.wc=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.KC=0,this.yG=!1,this.OD=void 0,this.xD=void 0,this.$C=!0,this.tP=1,this.ma=void 0,this.sG=TS.qC(),this.q9=TS.qC(),this.Fvt=void 0,this.zvt=void 0,this.kG=sy.Vg,this.iI=sy.Vg,this.xm.wc(),this.Lm.wc(),this.WY.wc(),this.Mm.wc(),t.next=19,Fr.awrap(this.qY.wc());case 19:return t.next=21,Fr.awrap(this.UD.wc());case 21:return this.GE.wc(),this.jY.wc(),this.Rst=void 0,t.next=26,Fr.awrap(this.PD.wc());case 26:case"end":return t.stop()}},null,this,null,qe)},i.Km=function(){this.dvt.oJ("THEOplayerShowAirPlayPicker",{})},i.Jm=function(){this.dvt.oJ("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Ey.Ry=t.Ry,this.Ey.Iy=t.Iy},i.$c=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.wc());case 2:return this.ou(),this.unobserveMediaElement(),this.pN(),this.PD.uN=void 0,t.next=8,Fr.awrap(this.PD.Xs());case 8:return this.xm.$c(),this.Lm.$c(),this.WY.$c(),this.Mm.$c(),t.next=14,Fr.awrap(this.qY.$c());case 14:return t.next=16,Fr.awrap(this.UD.$c());case 16:this.GE.$c(),this.jY.$c();case 18:case"end":return t.stop()}},null,this,null,qe)},i.lN=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.UD.jE(i)}},i.qvt=function(){var t=this.iI,n=this.kG;t!==n&&(this.iI=n,this.$s(new Fy(this.tm,n)))},i.observeMediaElement=function(){this.PD.tu(Bf.Af,this.Js),this.PD.tu([Bf.Rf,Bf.If],this.$j),this.Pvt.addEventListener("play",this.$vt),this.Pvt.addEventListener("pause",this.tlt),this.Pvt.addEventListener("seeking",this.ult),this.Pvt.addEventListener("seeked",this.slt),this.Pvt.addEventListener("ratechange",this.elt),this.Pvt.addEventListener("durationchange",this.jvt),this.Pvt.addEventListener("timeupdate",this.olt),this.Pvt.addEventListener("waiting",this.clt),this.Pvt.addEventListener("playing",this.ilt),this.Pvt.addEventListener("ended",this.Qvt),this.Pvt.addEventListener("loadedmetadata",this.Jvt),this.Pvt.addEventListener("loadeddata",this.Kvt),this.Pvt.addEventListener("loadstart",this.Zvt),this.Pvt.addEventListener("canplay",this.Gvt),this.Pvt.addEventListener("canplaythrough",this.Yvt),this.Pvt.addEventListener("error",this.VD),this.Pvt.addEventListener("seekablechange",this.rlt),this.Pvt.addEventListener("videosizechange",this.hlt),this.Pvt.addEventListener("bufferedchange",this.Wvt),this.Pvt.addEventListener("playedchange",this.nlt),this.Pvt.addEventListener("metricschange",this.ylt),this.Pvt.addEventListener("addDateRangeCues",this.klt)},i.unobserveMediaElement=function(){this.PD.au(Bf.Af,this.Js),this.PD.au([Bf.Rf,Bf.If],this.$j),this.Pvt.removeEventListener("play",this.$vt),this.Pvt.removeEventListener("pause",this.tlt),this.Pvt.removeEventListener("seeking",this.ult),this.Pvt.removeEventListener("seeked",this.slt),this.Pvt.removeEventListener("ratechange",this.elt),this.Pvt.removeEventListener("durationchange",this.jvt),this.Pvt.removeEventListener("timeupdate",this.olt),this.Pvt.removeEventListener("waiting",this.clt),this.Pvt.removeEventListener("playing",this.ilt),this.Pvt.removeEventListener("ended",this.Qvt),this.Pvt.removeEventListener("loadedmetadata",this.Jvt),this.Pvt.removeEventListener("loadeddata",this.Kvt),this.Pvt.removeEventListener("loadstart",this.Zvt),this.Pvt.removeEventListener("canplay",this.Gvt),this.Pvt.removeEventListener("canplaythrough",this.Yvt),this.Pvt.removeEventListener("error",this.VD),this.Pvt.removeEventListener("seekablechange",this.rlt),this.Pvt.removeEventListener("videosizechange",this.hlt),this.Pvt.removeEventListener("bufferedchange",this.Wvt),this.Pvt.removeEventListener("playedchange",this.nlt),this.Pvt.removeEventListener("metricschange",this.ylt),this.Pvt.removeEventListener("addDateRangeCues",this.klt)},i.updateCurrentTime=function(t){var n=this.Ly.start(0),i=this.Ly.end(0);return g.min(g.max(t,n),i)},i.wlt=function(){for(var t=0,n=this.Mm.L_;t<n.length;t++){var i=n[t];if(i.Q_===Vb.gA&&i._s===Pp.ID3)return i}},i.glt=function(t){for(var n=0,i=this.Mm.L_;n<i.length;n++){var e=i[n],r=e.fg===Fm.ag,s=e.Q_===t;if(r&&s)return e}},i.aN=function(){this.Pvt.addEventListener("addaudiotrack",this.flt),this.Pvt.addEventListener("enableaudiotrack",this.vlt),this.Pvt.addEventListener("addvideotrack",this.llt),this.Pvt.addEventListener("addtexttrack",this.xK),this.Pvt.addEventListener("addtexttrackid3cues",this.dlt),this.Pvt.addEventListener("addtexttrackcues",this._lt)},i.pN=function(){this.Pvt.removeEventListener("addaudiotrack",this.flt),this.Pvt.removeEventListener("enableaudiotrack",this.vlt),this.Pvt.removeEventListener("addvideotrack",this.llt),this.Pvt.removeEventListener("addtexttrack",this.xK),this.Pvt.removeEventListener("addtexttrackid3cues",this.dlt),this.Pvt.removeEventListener("addtexttrackcues",this._lt)},i.py=function(){},T(n,[{key:"Fm",get:function(){return this.xm}},{key:"by",get:function(){return this.q9.SN()}},{key:"Ay",get:function(){return this.Hvt?this.Hvt:null},set:function(t){this.dvt.oJ("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.Hvt=t}},{key:"tm",get:function(){return this.KC},set:function(t){this.setCurrentTime(t)}},{key:"nm",get:function(){return this.ma}},{key:"im",get:function(){return this.yG}},{key:"Au",get:function(){return this.OD}},{key:"um",get:function(){return this.xD}},{key:"Wm",get:function(){}},{key:"Sy",get:function(){return this.PD.Sy}},{key:"Ey",get:function(){return this.Ovt}},{key:"hm",get:function(){return this.JC},set:function(t){this.JC!==t&&(this.dvt.oJ("THEOplayerSetMuted",t),this.JC=t,this.$s(new Ly(this.tm,t?0:1)))}},{key:"cm",get:function(){return this.$C}},{key:"fm",get:function(){return this.tP},set:function(t){this.dvt.oJ("THEOplayerSetPlaybackRate",t),this.tP=t}},{key:"Oy",get:function(){return this.ij.SN()}},{key:"xy",get:function(){return gS.jN},set:function(t){}},{key:"wg",get:function(){return this.kG}},{key:"Ly",get:function(){return this.sG.SN()}},{key:"vm",get:function(){return this.nP}},{key:"RN",get:function(){}},{key:"Vm",get:function(){return this.Mm}},{key:"lm",get:function(){return this.Fvt}},{key:"dm",get:function(){return this.zvt}},{key:"wm",get:function(){return 1},set:function(t){}},{key:"My",get:function(){return this.zD}},{key:"zm",get:function(){return this.Lm}},{key:"DN",get:function(){return this.FD}},{key:"Uy",get:function(){return!1},set:function(t){}},{key:"By",get:function(){return!0}}]),n}(Ym),FV=function(){function t(){this.NN=QT.aD}var n=t.prototype;return n.CN=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&!i.vr.nativeVR&&(i.vr.panoramaMode===aE.PM360||i.vr.panoramaMode===aE.PM180))return!1;if(hy(n.type))return!1;var e=n.contentProtection;if(e&&!gA(e)){if(!pA(e))return!1;if(!t.jot(e))return!1}return!0},t.jot=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.PN=function(){return!1},t}(),UV=function(){function t(){this.Alt=r.webkit}return t.prototype.oJ=function(t,n){this.Alt.messageHandlers[t]&&this.Alt.messageHandlers[t].postMessage(n)},t}(),HV=function(t){function n(n){var i;return(i=t.call(this)||this).dvt=void 0,i.Pvt=void 0,i.Tlt=function(t){var n=Hu(t.detail.initData),e=t.detail.sessionId;i.$s(new _V(n,e))},i.Slt=function(t){var n=new _(Qu(t.detail.message)),e=t.detail.destinationURL;i.$s(new bV(n,e))},i.Elt=function(t){i.$s(new kV)},i.forwardKeyFlowDone=function(t){i.$s(new AV)},i.dvt=n,i.Pvt=new mV,fV().fairplayController={sdkEventBus:i.Pvt},i.Ilt(),i}E(n,t);var i=n.prototype;return i.Ilt=function(){this.Pvt.addEventListener(wV.pvt,this.Tlt),this.Pvt.addEventListener(wV.bvt,this.Slt),this.Pvt.addEventListener(wV.Avt,this.Elt),this.Pvt.addEventListener(wV.Tvt,this.forwardKeyFlowDone)},i.AY=function(t,n){var i={playerId:vV(),data:Zu(n.buffer),sessionId:t};this.dvt.oJ("THEOplayerCreateKeySession",i)},i.tc=function(t,n){var i={playerId:vV(),data:Zu(n.buffer),sessionId:t};this.dvt.oJ("THEOplayerUpdateKey",i)},n}(Ym),XV=function(t){var n=this;this.Pvt=void 0,this.Rlt=void 0,this.Dlt=function(){n.Rlt.VK()},this.Nlt=function(){n.Rlt.zK()},this.Pvt=new mV,this.Rlt=t,this.Pvt.addEventListener("showTracks",this.Dlt),this.Pvt.addEventListener("hideTracks",this.Nlt),fV().texttracks={sdkEventBus:this.Pvt}},zV=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this).jK=void 0,o.QK=void 0,o.Clt=void 0;var a=i.rN(gp.Pd);return o.jK=new gx,o.jK.SQ(n),o.QK=new pB(o.jK.Ty,a.lX,o.Vm,u,a.mN),o.Clt=new XV(o.QK),i.bN(a),we.document.querySelector(".vjs-tech")?we.document.querySelector(".player-div").classList.add("theo-ios-sdk"):we.document.querySelector(".player-div").style.background="transparent",o}E(n,t);var i=n.prototype;return i.sy=function(){t.prototype.sy.call(this),this.jK.sy()},i.uy=function(){t.prototype.uy.call(this),this.jK.uy()},i.Zm=function(){return!0},i.getSdkBridge=function(){return new UV},i.getFairPlayControllerBridge=function(){return WV},i.plt=function(t){return t},i.$c=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return we.document.querySelector(".vjs-tech")?we.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):we.document.querySelector(".player-div").style.background="#000000",n.next=3,Fr.awrap(t.prototype.$c.call(this));case 3:this.QK.$c(),this.jK.$c();case 5:case"end":return n.stop()}},null,this,null,qe)},n}(jV);dS(new(function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.tR=function(t,n,i,e,r,s){return new zV(t,n,i,e,r,s)},i.CN=function(n,i){if(n.type){var e=wr();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.CN.call(this,n,i)},n}(FV)));var VV,WV=new HV(new UV),qV=function(t){function n(){return t.call(this,"Plt")||this}return E(n,t),n.prototype.a_=function(){return new GV},n}(um),GV=function(t){function n(){return t.call(this,"statechange")||this}return E(n,t),n}(Eu);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(VV||(VV={}));var $V=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Blt=new Ym,n.Js=function(t){n.$s(t)},n}E(n,t);var i=n.prototype;return i.a_=function(){return n=function(t){var n=t.Olt.map(function(t){return t.o_});return n.item=function(n){n|=0;var i=t.P_(n);return i&&i.o_||void 0},n}(t=this),i=new MR(t,n),n.addEventListener=function(t,n){i.tu(t,n)},n.removeEventListener=function(t,n){i.au(t,n)},n;var t,n,i},i.tu=function(t,n){this.Blt.tu(t,n)},i.uu=function(t){this.Blt.uu(t)},i.ou=function(){this.Blt.ou()},i.$s=function(t){this.Blt.$s(t)},i.au=function(t,n){this.Blt.au(t,n)},i.vu=function(t){this.Blt.vu(t)},i.du=function(t){this.Blt.du(t)},i.wu=function(t,n){return this.Blt.wu(t,n)},n}(function(){function t(){this.Du=[],this.u_=void 0}var n=t.prototype;return n.P_=function(t){return this.Du[t]},n.Hy=function(t){this.Du.push(t),this.u_&&this.u_.push(t.o_),this.xlt(t)},n.Llt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Hy(i)}},n.Mlt=function(t,n){n>=0&&n<=this.Du.length&&(this.Du.splice(n,0,t),this.u_&&this.u_.splice(n,0,t.o_),this.xlt(t))},n.Fy=function(t){return Qs(this.Du,t)},n.$h=function(t){this.Ult(this.Du.indexOf(t))},n.Ult=function(t){if(t>=0&&t<this.Du.length){var n=this.Du[t];Ys(this.Du,t),this.u_&&Ys(this.u_,t),this.Xlt(n)}},n.Ou=function(){var t=this.Du.slice();Zs(this.Du),this.u_&&Zs(this.u_);for(var n=0;n<t.length;n++){var i=t[n];this.Xlt(i)}},T(t,[{key:"Olt",get:function(){return this.Du}},{key:"M_",get:function(){return this.Du.length}},{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}}]),t}());var YV,QV=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return E(n,t),n}(Eu),ZV=function(t){function n(n){var i;return(i=t.call(this,"Flt")||this).Hlt=n,i}return E(n,t),n.prototype.a_=function(){return new QV(this.Hlt.o_)},n}(um),KV=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return E(n,t),n}(Eu),JV=function(t){function n(n){var i;return(i=t.call(this,"zlt")||this).task=n,i}return E(n,t),n.prototype.a_=function(){return new KV(this.task.o_)},n}(um),tW=function(t){function n(){return t.call(this)||this}E(n,t);var i=n.prototype;return i.xlt=function(t){this.$s(new ZV(t))},i.Xlt=function(t){this.$s(new JV(t))},n}($V);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(YV||(YV={}));var nW=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Vlt=YV.UNINITIALISED,r.Gc=new tW,r._ft=void 0,r.Wlt=void 0,r.Glt=void 0,r.Glt=i,r.Wlt=e,r._ft=n,r.$m(),r}E(n,t);var i=n.prototype;return i.$m=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.qlt());case 2:this.Ylt(YV.INITIALISED);case 3:case"end":return t.stop()}},null,this,null,qe)},i.qlt=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fr.awrap(this.jlt());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},null,this,[[0,5]],qe)},i.jlt=function(){var t,n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this._ft.qht());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=14;break}return i=t[n],e=this.Glt.Qlt(i.id,i.sourceDescription,i.parameters,this.Wlt),this.Zlt(e),this.Gc.Hy(e),r.next=11,Fr.awrap(e.Klt);case 11:n++,r.next=4;break;case 14:case"end":return r.stop()}},null,this,null,qe)},i.Ylt=function(t){this.Vlt=t,this.$s(new qV)},i.Qlt=function(t,n,i){void 0===i&&(i="persistent");var e=this.Glt.Jlt(t,n,i);return this.$lt(e,i),this.Gc.Hy(e),this.Zlt(e),e},i.$lt=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(this.tdt(t,n));case 3:i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(0),l("Unable to persist task - "+i.t0);case 8:case"end":return i.stop()}},null,this,[[0,5]],qe)},i.tdt=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this._ft.Vht({key:t.Y_,id:t.Y_,sourceDescription:t.VN,parameters:t.kc},n));case 2:case"end":return i.stop()}},null,this,null,qe)},i.Zlt=function(t){var n=this;t.tu("Plt",function(){t.ud===VV.EVICTED&&n.Gc.$h(t)})},T(n,[{key:"ud",get:function(){return this.Vlt}},{key:"ndt",get:function(){return this.Gc}}]),n}(Tu);function iW(t,n){return function(t,n){var i=t.Xk&&n.Xk,e=t.ST&&n.ST;return i||e?i&&e?t.Xk*t.ST-n.Xk*n.ST:i?t.Xk-n.Xk:e?t.ST-n.ST:(t.Xk||1)*(t.ST||1)-(n.Xk||1)*(n.ST||1):0}(t,n)||function(t,n){return t.vD-n.vD}(t,n)}var eW=function(t){function n(){return t.call(this,"progress")||this}return E(n,t),n}(Eu),rW=function(t){function n(){return t.call(this,"idt")||this}return E(n,t),n.prototype.a_=function(){return new eW},n}(um),sW=function(){function t(t,n,i){if(this.edt=void 0,this.rdt=t,this.Xy=n,this.sdt=i,0===this.Xy.size)this.edt=TS.qC();else{var e=new TS([-1/0,1/0]);this.Xy.forEach(function(t){e=e.kC(t.timeRanges)}),this.edt=e}}return t.prototype.Nk=function(t){return!!Tm(this.Xy,t.Xy)&&(!!Xt(this.rdt,t.rdt)&&(!!Xt(this.zC,t.zC)&&(!!Xt(this.udt,t.udt)&&this.odt.LC(t.odt))))},T(t,[{key:"zC",get:function(){return this.sdt}},{key:"adt",get:function(){return this.rdt}},{key:"udt",get:function(){return this.odt.zC}},{key:"hdt",get:function(){var t=0,n=0;return this.Xy.forEach(function(i){t+=i.timeRanges.zC,n+=i.totalQualityDurationToCache}),0===n?0:g.min(1,t/n)}},{key:"odt",get:function(){return this.edt}}]),t}();function uW(t,n){if(G(t)){if(ks(t,"%"))return y(t)/100*n;throw new l("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}sW.QUALITY_TIME_RANGES_NULL_OBJECT=Xr(),sW.CACHE_PROGRESSION_NULL_OBJECT=new sW(0,sW.QUALITY_TIME_RANGES_NULL_OBJECT,NaN),sW.cdt=sW.CACHE_PROGRESSION_NULL_OBJECT;var oW,aW=function(t){function n(n,i){return t.call(this,n,i)||this}return E(n,t),T(n,[{key:"name",get:function(){return"fdt"}}]),n}(nn);function hW(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.vdt;r<s.length;r++)u=s[r],e.push(cW(u,n,i));return a.next=4,Fr.awrap(qe.all(e));case 4:return o=a.sent,a.abrupt("return",{nm:t.ddt.ldt(),wdt:[t._dt],vdt:o});case 6:case"end":return a.stop()}},null,null,null,qe)}function cW(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.gdt;r<s.length;r++)u=s[r],e.push(fW(u,n,i));return a.next=4,Fr.awrap(qe.all(e));case 4:return o=a.sent,a.abrupt("return",{mdt:o});case 6:case"end":return a.stop()}},null,null,null,qe)}function fW(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.ydt;r<s.length;r++)lW(u=s[r])||e.push(gW(u,n,i));return a.next=4,Fr.awrap(qe.all(e));case 4:return o=a.sent,a.abrupt("return",{hT:o,_s:t._s});case 6:case"end":return a.stop()}},null,null,null,qe)}function lW(t){return t.q1.every(wW)}!function(t){t[t.xg=0]="xg",t[t.Lg=1]="Lg"}(oW||(oW={}));var vW,dW=1;function wW(t){return t.kdt!==dW&&Boolean(t.kdt)}function gW(t,n,i){var e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:for(e=[],r=0,s=t.q1;r<s.length;r++)wW(u=s[r])||e.push(yW(u,i));return l.next=4,Fr.awrap(qe.all(e));case 4:return o=l.sent,a=t.kz[0],h=t.G1,c=h?mW(a,h):void 0,f=QO(t,n),l.abrupt("return",{J_:o,K_:t.lst,_s:t._s,hN:c,pdt:f});case 10:case"end":return l.stop()}},null,null,null,qe)}function mW(t,n){for(var i=[],e=function(t){return t?ks(t,"avc")?Fc.VIDEO_H264:ks(t,"hev")||ks(t,"hvc")||ks(t,"hvt")||ks(t,"lhv")||ks(t,"lhe")||ks(t,"lht")?Fc.VIDEO_H265:ks(t,"mp4")?Fc.VIDEO_MP4:ks(t,"mpeg2")?Fc.VIDEO_MPEG2:ks(t,"mpeg")?Fc.VIDEO_MPEG:Fc.VIDEO_UNKNOWN:Fc.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.U1.split(":").pop(),o=s.X1;i.push({mimeType:e,uuid:u,data:o})}return{type:oW.xg,schemeType:ts,schemeDatas:i}}function yW(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Fr.awrap(pW(t,n));case 2:r=u.sent,s={Y_:bW(t),AE:r,vD:t.vD,dr:t.dr,ST:t.ST,_s:t._s,Xk:t.Xk},u.t0=t._s,u.next=u.t0===gp.ni?7:u.t0===gp.Pd?8:u.t0===gp.Cd?10:12;break;case 7:return u.abrupt("break",13);case 8:return s.ZJ=null!=(i=null==(e=t.ZJ)?void 0:e.Fk())?i:NaN,u.abrupt("break",13);case 10:return s.audioSamplingRate=t.$J,u.abrupt("break",13);case 12:0;case 13:return u.abrupt("return",s);case 14:case"end":return u.stop()}},null,null,null,qe)}function pW(t,n){var i,e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=t.bdt,t.tft&&i.push({ck:0,nm:0,Adt:t.tft}),r=e.Tdt(),s=r;case 5:if(!s){c.next=17;break}if(!t.Sdt(s)){c.next=13;break}return c.next=9,Fr.awrap(t.Edt(s,n,(new ou).js));case 9:for(u=c.sent,o=0;o<u.M_;o++)i.push(_W(u.Idt(o),t));c.next=14;break;case 13:i.push(_W(s,t));case 14:s=e.Rdt(s),c.next=5;break;case 17:return a=e.Ddt(),h=a.fk-r.ck,c.abrupt("return",{nm:h,S1:i});case 20:case"end":return c.stop()}},null,null,null,qe)}function _W(t,n){return{ck:t.ck,nm:t.nm,Adt:n.Ndt(t)}}function bW(t){return t.Cdt.oC+"-"+(""+t.Y_)}function kW(t,n){return function(t,n){var i=zr();return t.forEach(function(t,e){var r=Xr();t.forEach(function(t,i){for(var s=[],u=0;u<t.length;u++){var o=AW(t[u],e,n);s.push(o)}r.set(i,s)}),i.set(e,r)}),i}(function(t){var n=function(t){for(var n=Xr(),i=0;i<t.length;i++){var e=t[i],r=n.get(e.I$);r||(r={_s:e._s,mT:[]},n.set(e.I$,r)),r.mT.push(e)}return n}(t),i=zr();return n.forEach(function(t){for(var n=0,e=t.mT;n<e.length;n++){var r=e[n],s=i.get(t._s);s||(s=Xr(),i.set(t._s,s));var u=s.get(r._i);u||(u=[],s.set(r._i,u)),u.push(r)}}),i}(t),n)}function AW(t,n,i){for(var e=t.I$,r={j$:t,b0:[]},s=0;s<i.length;s++){var u=i[s];iM(n,e,u)&&r.b0.push(u)}return r}function TW(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(n.lft([t],{}));case 2:return i=e.sent,e.abrupt("return",xL(i.dd,{},i.cft));case 4:case"end":return e.stop()}},null,null,null,qe)}function SW(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!FO(t)){i.next=4;break}return i.abrupt("return",EW(t,n));case 4:return i.abrupt("return",(r=void 0,{nm:(r=OW(e=t)).nm,wdt:[e.N$],vdt:[{mdt:[{_s:gp.md,hT:[{_s:gp.md,K_:Rj,J_:[{Y_:e.N$,AE:r,vD:0,dr:"",ST:0,_s:gp.md,Xk:0}]}]}]}]}));case 5:case"end":return i.stop()}var e,r},null,null,null,qe)}function EW(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=kW(t.mT,t.V2),s.next=3,Fr.awrap(CW(i,n));case 3:return e=s.sent,s.next=6,Fr.awrap(RW(t.V2,n));case 6:return r=s.sent,e.push(r),s.abrupt("return",{nm:IW(e),wdt:[t.N$],vdt:[{mdt:e}]});case 9:case"end":return s.stop()}},null,null,null,qe)}function IW(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].hT;e<r.length;e++){var s=r[e];n=g.max.apply(g,[n].concat(s.J_.map(function(t){return t.AE.nm})))}return n}function RW(t,n){var i,e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=0;case 2:if(!(e<t.length)){c.next=15;break}return a=t[e],c.next=6,Fr.awrap(BW(a.N$,n));case 6:(h=c.sent).vD=a.vD,h.dr=a.kz?[(f=a.kz).yz,f.mz,f.pz].filter(H).join(","):"",h.ST=null!=(r=null==(s=a.h0)?void 0:s.ST)?r:0,h.Xk=null!=(u=null==(o=a.h0)?void 0:o.Xk)?u:0,i.push(h);case 12:e++,c.next=2;break;case 15:return c.abrupt("return",{_s:gp.md,hT:[{K_:Rj,_s:gp.md,J_:i}]});case 16:case"end":return c.stop()}var f},null,null,null,qe)}function CW(t,n){var i,e,r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=[],e=t.entries(),r=e.next();case 3:if(r.done){h.next=12;break}return s=r.value,u=s[0],o=s[1],h.next=7,Fr.awrap(DW(o,u,n));case 7:a=h.sent,i.push(a);case 9:r=e.next(),h.next=3;break;case 12:return h.abrupt("return",i);case 13:case"end":return h.stop()}},null,null,null,qe)}function DW(t,n,i){var e,r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:e=[],r=t.entries(),s=r.next();case 3:if(s.done){h.next=12;break}return u=s.value,o=u[1],h.next=7,Fr.awrap(NW(o,i));case 7:a=h.sent,e.push(a);case 9:s=r.next(),h.next=3;break;case 12:return h.abrupt("return",{_s:PW(n),hT:e});case 13:case"end":return h.stop()}},null,null,null,qe)}function NW(t,n){var i,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=t[0].j$,r=0;case 3:if(!(r<t.length)){o.next=12;break}return s=t[r],o.next=7,Fr.awrap(xW(s,n));case 7:u=o.sent,i.push(u);case 9:r++,o.next=3;break;case 12:return o.abrupt("return",{K_:e.K_||Rj,_s:PW(e._s),J_:i});case 13:case"end":return o.stop()}},null,null,null,qe)}function PW(t){switch(t){case xO.Cd:return gp.Cd;case xO.Pd:return gp.Pd;case xO.wA:case xO.Q1:return gp.ni;default:return gp.md}}function xW(t,n){var i,e,r;return BW((e=(i=t).j$.N$,r=i.b0.map(function(t){return t.N$}),e||(r.length?r[0]:void 0)),n)}function BW(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i={nm:0,S1:[]},!t){r.next=6;break}return r.next=4,Fr.awrap(TW(t,n));case 4:UO(e=r.sent)&&(i=OW(e));case 6:return r.abrupt("return",{Y_:t||"default",Pdt:t,AE:i,vD:0,dr:"",ST:0,_s:gp.md,Xk:0});case 7:case"end":return r.stop()}},null,null,null,qe)}function OW(t){for(var n,i=[],e=0,r=0,s=t.S1;r<s.length;r++){var u=s[r],o=e;!u.Y2||void 0!==n&&zO(u.Y2.N$,n)||(i.push(LW(u.Y2,o)),n=u.Y2.N$),i.push(MW(u,o)),e+=u.nm}return{nm:e,S1:i}}function LW(t,n){return{ck:n,nm:0,Adt:jW(t.N$)}}function MW(t,n){return{ck:n,nm:t.nm,Adt:jW(t.N$)}}function jW(t){return{wd:t.Ti,qct:t.E1?[t.E1.oC,t.E1.oC+t.E1.M_]:void 0,Ud:!1}}!function(t){t.tI="static",t.nI="dynamic"}(vW||(vW={}));var FW,UW=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,HW=function(){function t(t){this.Bdt=void 0,this.Bdt=t}t.jA=function(n){var i=n.match(UW);if(!i)throw new l("The given value could not be parsed as a valid DateTimeInterval");return new t(31536e3*(Number(i[1])||0)+2592e3*(Number(i[2])||0)+86400*(Number(i[3])||0)+3600*(Number(i[4])||0)+60*(Number(i[5])||0)+(Number(i[6])||0))};var n=t.prototype;return n.ldt=function(){return this.Bdt},n.Odt=function(){return 1e3*this.Bdt},T(t,[{key:"dnt",get:function(){return g_.Gp(this.Bdt,1e3)}}]),t}();!function(t){t.xdt="progressive",t.Ldt="interlaced",t.md="unknown"}(FW||(FW={}));var XW=function(){function t(t,n){this.Mdt=t,this.Udt=n}return t.prototype.Fk=function(){return this.Mdt/this.Udt},t}(),zW=/^(?:true|false)$/i,VW=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function WW(t){if(void 0!==t)return HW.jA(t)}function qW(t){if(void 0!==t){var n=t.match(VW);if(!n)throw new l("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],a=n[7],h=n[8],c=n[9],f=n[10],v=n[11],d=("-"===i?-1:1)*Number(e),w=Number(r)-1,m=Number(s),y=Number(u),_=Number(o),b=Number(a),k=Number("0."+(h||"")),A=g.round(1e3*k);if(c)_-=("-"===c?-1:1)*(60*Number(f)+Number(v));var T=new Date(Date.UTC(d,w,m,y,_,b,A));if(p(T.getTime()))throw new l("The given value could not be parsed as a valid Date");return T}}function GW(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[YW(n[1]),YW(n[2])]}}function $W(t){if(void 0!==t){if(!p(Number(t)))try{return vt.fromString(t,!0)}catch(t){}throw new l("The given value could not be parsed as a valid unsigned long")}}function YW(t){if(void 0!==t){var n=Number(t);if(!p(n))return n;throw new l("The given value could not be parsed as a valid Number")}}function QW(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!p(i)&&!p(e))return new XW(i,e);throw new l("The given value could not be parsed as a valid frame rate")}}function ZW(t){if(void 0!==t){if(zW.test(t))return"true"===t.toLowerCase();if(!p(m(t)))return Boolean(m(t));throw new l("The given value could not be parsed as a valid Boolean.")}}function KW(t){return{wd:t.Fi,Xdt:ZW(t.Oi("availabilityTimeComplete")),Hdt:YW(t.Oi("availabilityTimeOffset"))}}function JW(t){return t.map(KW)}function tq(t){var n,i,e,r,s,u,o=fq(t),a=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).xi(e,i))&&(s=n.Oi(r+":"+i)),s),h=Tb(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==h&&(u=Qu(h.Fi)),!u){var c=Tb(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=Hu(t.Fi),i=new _([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new _(s),o=new DataView(s),a=new Ko;ko(o,a,r),ko(o,a,1886614376),ko(o,a,0),go(o,a,i),ko(o,a,e),go(o,a,n),0;return u.buffer}(c))}return{kI:a,X1:u,U1:o.U1,Ti:o.Ti}}function nq(t){return{Fdt:t.Oi("sourceURL"),qct:GW(t.Oi("range"))}}function iq(t,n){var i=t.Oi("d"),e=t.Oi("t"),r=YW(t.Oi("r"));n.push({nm:i,ck:e,zdt:r})}function eq(t){return{Vdt:t.Oi("index"),Wdt:GW(t.Oi("indexRange")),mT:t.Oi("media"),Gdt:GW(t.Oi("mediaRange"))}}function rq(t){var n,i;return Ur({},oq(t),{qdt:(n=t.Ii("SegmentURL"),(i=n.map(eq)).length>0?i:void 0),Ydt:t.Oi("xlink:href"),jdt:t.Oi("xlink:actuate")})}function sq(t){var n=t.map(rq);return n.length>0?n:void 0}function uq(t){var n=ZW(t.Oi("availabilityTimeComplete")),i=YW(t.Oi("availabilityTimeOffset")),e=GW(t.Oi("indexRange")),r=ZW(t.Oi("indexRangeExact")),s=t.Ii("Initialization");if(s.length>1)throw new l("The provided MPEG-DASH document's "+t.Di+" element can not have more than one Initialization element.");var u=1===s.length?nq(s[0]):void 0,o=$W(t.Oi("presentationTimeOffset")),a=t.Ii("RepresentationIndex");if(a.length>1)throw new l("The provided MPEG-DASH document's "+t.Di+" element can not have more than one RepresentationIndex element.");return{Xdt:n,Hdt:i,Wdt:e,Qdt:r,Zdt:u,Kdt:o,Jdt:1===a.length?nq(a[0]):void 0,$dt:WW(t.Oi("timeShiftBufferDepth")),Op:YW(t.Oi("timescale"))}}function oq(t){var n=uq(t),i=t.Ii("BitstreamSwitching"),e=i.length>0?nq(i[0]):void 0,r=YW(t.Oi("duration")),s=t.Ii("SegmentTimeline");if(s.length>1)throw new l("The provided MPEG-DASH document's "+t.Di+" element can not have more than one SegmentTimeline element.");return Ur({},n,{twt:e,nm:r,bdt:1===s.length?function(t){for(var n=[],i=t.Ii("S"),e=0;e<i.length;e++)iq(i[e],n);return n}(s[0]):void 0,nwt:YW(t.Oi("startNumber")),iwt:YW(t.Oi("endNumber"))})}function aq(t){return Ur({},oq(t),{ewt:t.Oi("bitstreamSwitching"),rwt:t.Oi("index"),swt:t.Oi("initialization"),uwt:t.Oi("media")})}function hq(t){return{$J:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(YW)):1===n.length?n.map(YW)[0]:void 0}}(t.Oi("audioSamplingRate")),kz:t.Oi("codecs"),owt:ZW(t.Oi("codingDependency")),G1:function(t){if(0!==t.length)return t.map(tq)}(t.Ii("ContentProtection")),awt:t.Ii("EssentialProperty").map(lq),ZJ:QW(t.Oi("frameRate")),ST:YW(t.Oi("height")),kdt:YW(t.Oi("maxPlayoutRate")),hwt:YW(t.Oi("maximumSAPPeriod")),DO:t.Oi("mimeType"),cwt:t.Oi("profiles"),fwt:t.Oi("sar"),vwt:function(t){switch(t){case FW.xdt:case FW.Ldt:case FW.md:return t;default:return}}(t.Oi("scanType")),lwt:t.Oi("segmentProfiles"),dwt:YW(t.Oi("startWithSAP")),Xk:YW(t.Oi("width"))}}function cq(t){var n=hq(t),i=YW(t.Oi("bandwidth")),e=JW(t.Ii("BaseURL")),r=t.Oi("dependencyId"),s=t.Oi("id"),u=t.Oi("mediaStreamStructureId"),o=YW(t.Oi("qualityRanking")),a=t.Ii("SegmentBase");if(a.length>1)throw new l("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var h=1===a.length?uq(a[0]):void 0,c=sq(t.Ii("SegmentList")),f=t.Ii("SegmentTemplate");if(f.length>1)throw new l("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return Ur({},n,{vD:i,wwt:e,_wt:r,Y_:s,gwt:u,mwt:o,ywt:h,kwt:c,pwt:1===f.length?aq(f[0]):void 0})}function fq(t){return{U1:t.Oi("schemeIdUri"),Ti:t.Oi("value")}}function lq(t){return fq(t)}function vq(t){return fq(t)}function dq(t){return fq(t)}function wq(t){var n,i=hq(t),e=function(t){return t.map(dq)}(t.Ii("Accessibility")),r=JW(t.Ii("BaseURL")),s=ZW(t.Oi("bitstreamSwitching")),u=t.Oi("contentType"),o=YW(t.Oi("group")),a=YW(t.Oi("id")),h=(null==(n=t.Ii("Label")[0])?void 0:n.Fi)||"",c=t.Oi("lang"),f=YW(t.Oi("maxBandwidth")),v=QW(t.Oi("maxFrameRate")),d=YW(t.Oi("maxHeight")),w=YW(t.Oi("maxWidth")),g=YW(t.Oi("minBandwidth")),m=QW(t.Oi("minFrameRate")),y=YW(t.Oi("minHeight")),p=YW(t.Oi("minWidth")),_=t.Oi("par"),b=t.Ii("Representation").map(cq);if(0===b.length)throw new l("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k=function(t){return t.map(vq)}(t.Ii("Role")),A=ZW(t.Oi("segmentAlignment"))||!1,T=t.Ii("SegmentBase");if(T.length>1)throw new l("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?uq(T[0]):void 0,E=sq(t.Ii("SegmentList")),I=t.Ii("SegmentTemplate");if(I.length>1)throw new l("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var R,C=1===I.length?aq(I[0]):void 0,D=YW(t.Oi("selectionPriority")),N=D||1,P=ZW(t.Oi("subsegmentAlignment"))||!1;try{R=YW(t.Oi("subsegmentStartsWithSAP"))}catch(t){}return Ur({},i,{bwt:e,wwt:r,twt:s,Gl:u,Awt:o,Y_:a,Z_:h,K_:c,Twt:f,Swt:v,Ewt:d,Iwt:w,Rwt:g,Dwt:m,Nwt:y,Cwt:p,Pwt:_,q1:b,Bwt:k,Owt:A,ywt:S,kwt:E,pwt:C,NN:N,xwt:P,Lwt:R,Mwt:t.Oi("xlink:actuate")||"onRequest",Uwt:t.Oi("xlink:href")})}function gq(t){var n=$W(t.Oi("presentationTime"))||vt.ZERO,i=$W(t.Oi("duration")),e=YW(t.Oi("id")),r=function(t){for(var n=t.Hi,i={},e=0;e<n.length;e++)i[n[e]._i]=n[e].Ti;return i}(t),s=t.Fi;return{sE:n,nm:i,Y_:e,Hi:r,zi:""!==s.trim()?s:t.Oi("messageData")||""}}function mq(t){return{Uwt:t.Oi("xlink:href"),Mwt:t.Oi("xlink:actuate"),U1:t.Oi("schemeIdUri"),Ti:t.Oi("value"),Op:YW(t.Oi("timescale")),Kdt:$W(t.Oi("presentationTimeOffset")),CO:t.Ii("Event").map(gq)}}function yq(t){var n=t.Ii("AssetIdentifier");if(n.length>1)throw new l("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var i=1===n.length?fq(n[0]):void 0,e=t.Ii("AdaptationSet").map(wq),r=JW(t.Ii("BaseURL")),s=ZW(t.Oi("bitstreamSwitching")),u=WW(t.Oi("duration")),o=t.Ii("EventStream").map(mq),a=t.Oi("id"),h=t.Ii("SegmentBase");if(h.length>1)throw new l("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var c=1===h.length?uq(h[0]):void 0,f=sq(t.Ii("SegmentBase")),v=t.Ii("SegmentTemplate");if(v.length>1)throw new l("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var d=1===v.length?aq(v[0]):void 0,w=WW(t.Oi("start"));t.Ii("Subset");var g=t.Oi("xlink:href");return{ydt:e,Xwt:i,wwt:r,twt:s,nm:u,Hwt:o,Y_:a,ywt:c,kwt:f,pwt:d,oC:w,Mwt:t.Oi("xlink:actuate"),Uwt:g}}function pq(t){var n=t.Oi("schemeIdUri");if(n)return{U1:n,Ti:t.Oi("value")}}function _q(t,n){var i=qW(t.Oi("availabilityEndTime")),e=qW(t.Oi("availabilityStartTime")),r=JW(t.Ii("BaseURL")),s=t.Oi("id"),u=t.Ii("Location").map(function(t){return""+t.Fi}),o=WW(t.Oi("maxSegmentDuration")),a=WW(t.Oi("maxSubsegmentDuration")),h=WW(t.Oi("mediaPresentationDuration"));t.Ii("Metrics");var c=WW(t.Oi("minBufferTime"));if(!c)throw new l("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=WW(t.Oi("minimumUpdatePeriod")),v=t.Ii("Period").map(function(t){return yq(t)});if(!v.length)throw new l("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.Oi("profiles");if(!d)throw new l("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{Fwt:i,zwt:e,wwt:r,Y_:s,Vwt:u,Wwt:n,Gwt:o,qwt:a,ddt:h,Ywt:c,jwt:f,vdt:v,cwt:d,Qwt:qW(t.Oi("publishTime")),Zwt:WW(t.Oi("suggestedPresentationDelay")),$dt:WW(t.Oi("timeShiftBufferDepth")),_s:function(t){switch(t){case vW.tI:case vW.nI:return t;default:return}}(t.Oi("type")),Kwt:function(t){for(var n=[],i=0;i<t.length;i++){var e=pq(t[i]);e&&n.push(e)}return n}(t.Ii("UTCTiming"))}}var bq,kq=function(){function t(){}return t.prototype.nvt=function(t,n){return function(t,n){if(!t)throw new l("The provided MPEG-DASH document does not contain a valid MPD root element.");return _q(t,n)}(i.oi(t).Vi,n)},t}(),Aq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).j_=void 0,u.Vy=void 0,u.Jwt=void 0,u.Y_=n,u.vD=i,u.kz=e,u.N$=s,u.j_=Sp(),u.Vy=r||"",u.Jwt=!0,u}return E(n,t),n.prototype.zE=function(){this.Jwt=!1,this.$s(new rO(this.o_))},T(n,[{key:"Z_",get:function(){return this.Vy},set:function(t){this.Vy!==t&&(this.Vy=t,this.$s(new rO(this.o_)))}},{key:"QJ",get:function(){}},{key:"JJ",get:function(){return this.Jwt}}]),n}(Tu),Tq=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return void 0===h&&(h=0),(c=t.call(this,n,i,e,r,s)||this).u_=void 0,c.ZJ=u,c.Xk=o,c.ST=a,c.KJ=h,c}return E(n,t),T(n,[{key:"o_",get:function(){return this.u_||(this.u_=XB(this)),this.u_}}]),n}(Aq),Sq=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).u_=void 0,o.$J=u,o}return E(n,t),T(n,[{key:"o_",get:function(){return this.u_||(this.u_=zB(this)),this.u_}}]),n}(Aq);!function(t){t.$wt="t_t",t.n_t="i_t"}(bq||(bq={}));var Eq=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).e_t=function(t){n.$s(t)},n}return E(n,t),T(n,[{key:"r_t",get:function(){var t=this.s_t();return null==t?void 0:t.oC}},{key:"u_t",get:function(){var t=this.s_t();return null==t?void 0:t.hC}}]),n}(Tu);function Iq(t){return Z(t.o_t)}var Rq=function(t){function n(n,i){var e;if((e=t.call(this)||this).a_t=void 0,e.u_=void 0,e.N6=void 0,e.h_t=void 0,e.c_t=void 0,e.a_t=n,e.N6=i,e.N6.tu(bq.$wt,e.e_t),e._s===gp.Pd){var r,s,u=null!=(r=null==(s=e.ZJ)?void 0:s.Fk())?r:NaN;e.h_t=new Tq(e.Y_,e.vD,e.dr,"","",u,e.Xk,e.ST)}else e._s===gp.Cd?e.h_t=new Sq(e.Y_,e.vD,e.dr,"","",e.$J):e.h_t=void 0;return e}E(n,t);var i=n.prototype;return i.Ndt=function(t){var n=Iq(t)?this.N6.f_t(t):this.N6.Ndt(t);return{wd:n.wd,qct:n.qct,Ud:this.v_t.Ud}},i.l_t=function(){return this.N6.l_t()},i.s_t=function(){return this.N6.s_t()},i.d_t=function(){return this.N6.d_t()},i.Sdt=function(t){return this.N6.Sdt(t)},i.Edt=function(t,n,i){return this.N6.Edt(t,this.v_t.Ud,n,i)},i.w_t=function(t){return Iq(t)?this.bdt.__t(t):this.bdt.w_t(t)},i.g_t=function(t){return Iq(t)?this.bdt.m_t(t):this.bdt.g_t(t)},i.$c=function(){this.N6.au(bq.$wt,this.e_t)},T(n,[{key:"y_t",get:function(){return this.a_t}},{key:"$J",get:function(){var t;return null!=(t=this.N6.zi.$J)?t:this.y_t.$J}},{key:"vD",get:function(){return this.N6.zi.vD||0}},{key:"kz",get:function(){var t=this.N6.zi;return t.kz?[t.kz]:this.y_t.kz}},{key:"k_t",get:function(){var t=this.N6.zi;return t.kz?[t.kz]:[]}},{key:"dr",get:function(){return this.N6.zi.kz||this.y_t.dr}},{key:"owt",get:function(){return this.N6.zi.owt||this.y_t.owt}},{key:"G1",get:function(){return this.N6.zi.G1||this.y_t.G1}},{key:"Gl",get:function(){return this.DO+'; codecs="'+this.dr+'"'}},{key:"awt",get:function(){var t=this.N6.zi;return t.awt.length?t.awt:this.y_t.awt}},{key:"o_",get:function(){return this.u_||(this.u_=(t=this,{get id(){return t.Y_},get type(){return t._s},get bandwidth(){return t.vD},get width(){return t.Xk},get height(){return t.ST},get frameRate(){var n,i;return null!=(n=null==(i=t.ZJ)?void 0:i.Fk())?n:NaN},get audioSamplingRate(){return t.$J}}));var t}},{key:"ZJ",get:function(){var t;return null!=(t=this.N6.zi.ZJ)?t:this.y_t.ZJ}},{key:"ST",get:function(){return this.N6.zi.ST||this.y_t.ST}},{key:"Y_",get:function(){return this.N6.zi.Y_||""}},{key:"p_t",get:function(){return this.c_t},set:function(t){this.c_t=t}},{key:"tft",get:function(){var t=this.N6.b_t();if(t)return{wd:t.wd,qct:t.qct,Ud:this.v_t.Ud}}},{key:"kdt",get:function(){return this.N6.zi.kdt||this.y_t.kdt||1}},{key:"hwt",get:function(){return this.N6.zi.hwt||this.y_t.hwt}},{key:"v_t",get:function(){return this.Cdt.v_t}},{key:"DO",get:function(){return this.N6.zi.DO||this.y_t.DO}},{key:"Cdt",get:function(){return this.y_t.Cdt}},{key:"cwt",get:function(){return this.N6.zi.cwt||this.y_t.cwt}},{key:"U$",get:function(){return this.h_t}},{key:"fwt",get:function(){return this.N6.zi.fwt||this.y_t.fwt}},{key:"vwt",get:function(){return this.N6.zi.vwt||this.y_t.vwt}},{key:"A_t",get:function(){return this.N6.A_t}},{key:"lwt",get:function(){return this.N6.zi.lwt||this.y_t.lwt}},{key:"bdt",get:function(){return this.N6.bdt}},{key:"dwt",get:function(){return this.N6.zi.dwt||this.y_t.dwt}},{key:"_s",get:function(){var t=this.DO.split("/")[0];return"application"===t||"text"===t||ik(this.DO,this.kz)?gp.ni:"video"===t?gp.Pd:"audio"===t?gp.Cd:"image"===t?gp.Bd:gp.md}},{key:"Xk",get:function(){return this.N6.zi.Xk||this.y_t.Xk}}]),n}(Eq),Cq=function(t){function n(n,i){var e;return(e=t.call(this)||this).T_t=[],e.N6=void 0,e.S_t=void 0,e.E_t=[],e.S_t=n,e.N6=i,e.N6.tu(bq.$wt,e.e_t),e}E(n,t);var i=n.prototype;return i.tc=function(t,n){var i,e=this;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==this.E_t.length){r.next=6;break}return this.E_t=[],i=this.N6.q1.map(function(i){return e.I_t(i,t,n)}),r.next=5,Fr.awrap(qe.all(i));case 5:this.E_t=r.sent.filter(H);case 6:this.R_t();case 7:case"end":return r.stop()}},null,this,null,qe)},i.I_t=function(t,n,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=new Rq(this,t),s.next=3,Fr.awrap(n(e));case 3:if(r=s.sent,cu(i),r){s.next=7;break}return s.abrupt("return",void 0);case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}},null,this,null,qe)},i.R_t=function(){if(!this.E_t.length)throw new l("Detected an AdaptationSet without any supported Representations.")},i.s_t=function(){return this.N6.s_t()},i.d_t=function(){return this.N6.d_t()},i.$c=function(){this.N6.au(bq.$wt,this.e_t);for(var t=0,n=this.E_t;t<n.length;t++){n[t].$c()}Zs(this.E_t)},T(n,[{key:"bwt",get:function(){return this.N6.zi.bwt}},{key:"$J",get:function(){var t;return null!=(t=this.N6.zi.$J)?t:-1}},{key:"kz",get:function(){if(this.N6.zi.kz)return[this.N6.zi.kz];for(var t=[],n=0,i=this.q1;n<i.length;n++){var e=i[n];e.k_t.length&&-1===t.indexOf(e.dr)&&t.push(e.dr)}return t}},{key:"dr",get:function(){return this.kz.join()}},{key:"owt",get:function(){return this.N6.zi.owt}},{key:"G1",get:function(){return this.N6.zi.G1}},{key:"Gl",get:function(){return this.DO+'; codecs="'+this.dr+'"'}},{key:"awt",get:function(){return this.T_t}},{key:"ZJ",get:function(){return this.N6.zi.ZJ}},{key:"Awt",get:function(){return this.N6.zi.Awt}},{key:"ST",get:function(){return this.N6.zi.ST||0}},{key:"Y_",get:function(){return this.N6.zi.Y_}},{key:"Z_",get:function(){return this.N6.zi.Z_||""}},{key:"kdt",get:function(){return this.N6.zi.kdt}},{key:"hwt",get:function(){return this.N6.zi.hwt}},{key:"v_t",get:function(){return this.Cdt.v_t}},{key:"DO",get:function(){return this.N6.zi.DO||this.E_t[0].DO}},{key:"Cdt",get:function(){return this.S_t}},{key:"cwt",get:function(){return this.N6.zi.cwt}},{key:"q1",get:function(){return this.E_t}},{key:"Bwt",get:function(){return this.N6.zi.Bwt||[]}},{key:"fwt",get:function(){return this.N6.zi.fwt}},{key:"vwt",get:function(){return this.N6.zi.vwt}},{key:"lwt",get:function(){return this.N6.zi.lwt}},{key:"NN",get:function(){return this.N6.zi.NN}},{key:"dwt",get:function(){return this.N6.zi.dwt}},{key:"_s",get:function(){var t=(this.N6.zi.Gl||this.DO).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||ik(this.DO,this.kz)?gp.ni:"video"===t?gp.Pd:"audio"===t?gp.Cd:"image"===t?gp.Bd:gp.md}},{key:"Xk",get:function(){return this.N6.zi.Xk||0}},{key:"lst",get:function(){return this.N6.zi.K_||""}},{key:"D_t",get:function(){return this.r_t}},{key:"N_t",get:function(){var t=this.D_t,n=this.u_t;if(void 0!==t&&void 0!==n){var i=g.min(n,this.v_t.C_t);return g.max(t,i)}}}]),n}(Eq);function Dq(t,n){for(var e=[],r=0;r<n.length;r++)for(var s=n[r],u=0;u<t.length;u++){var o=t[u];e.push(i.Mr(o,s))}return e}var Nq=function(){function t(t,n){this.S_t=void 0,this.P_t=void 0,this._a=void 0,this.B_t=void 0,this.O_t=void 0,this.S_t=t,this.P_t=n,this._a=n.Op,this.B_t=n.Hdt,this.O_t=n.Kdt}var n=t.prototype;return n.x_t=function(t){var n=t-this.S_t.oC;if(!(n<0||n>=this.S_t.nm)){var i=this.L_t();return void 0!==i&&Ut(i,n,1e-5)?this.Tdt():this.M_t(n)}},n.U_t=function(t){var n=t-this.S_t.oC;if(!(n<0))return this.X_t(g.min(n,this.S_t.nm))},n.Tdt=function(){return this.H_t(0)},n.Ddt=function(){var t=this.S_t.nm;if(isFinite(t))return this.X_t(t)},n.l_t=function(t){if(this.S_t.F_t._s===vW.nI){if(this.z_t){var n=this.Tdt(),i=this.V_t();if(void 0===n||void 0===i)return;return{W_t:t,G_t:n,q_t:i}}var e=this.Y_t(t);if(!e)return;return{W_t:t,G_t:this.j_t(t),q_t:e}}var r=this.Tdt();if(r)return{W_t:t,G_t:r,q_t:this.Ddt()}},n.d_t=function(t,n){if(n){var i=this.Q_t(n.G_t),e=this.Rdt(n.q_t);if(e){var r=this.Z_t(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.Tdt();if(s){var u=this.Z_t(s);if(t.getTime()<u.getTime())return u}var o=this.S_t.F_t.zwt;return t.getTime()<o.getTime()?o:void 0},n.Y_t=function(t){var n=(t.getTime()-this.S_t.F_t.zwt.getTime())/1e3-this.S_t.oC+this.B_t,i=this.X_t(Ft(n,0,this.S_t.nm));if(i&&(i=this.K_t(i,t))){for(var e=this.Rdt(i);e&&this.J_t(e,t);)i=e,e=this.Rdt(i);return i}},n.j_t=function(t){var n,i=this.P_t.$dt;if(i){var e=(t.getTime()-this.S_t.F_t.zwt.getTime())/1e3-this.S_t.oC-i.ldt();(n=this.X_t(Ft(e,0,this.S_t.nm)))||(n=this.Tdt())}else n=this.Tdt();if(n&&(n=this.K_t(n,t))){for(var r=this.$_t(n);r&&this.J_t(r,t);)n=r,r=this.$_t(n);return n}},n.K_t=function(t,n){for(var i=t;i&&this.Z_t(i).getTime()>n.getTime();)i=this.$_t(i);if(i){var e=this.Q_t(i);if(e&&e.getTime()<=n.getTime()){var r=this.$_t(i);for(r&&this.J_t(r,n)&&(i=r);i;){if(this.Z_t(i).getTime()>n.getTime())return;if(this.J_t(i,n))break;i=this.Rdt(i)}if(!i)return}return i}},n.J_t=function(t,n){if(this.z_t)return!0;if(this.Z_t(t).getTime()>n.getTime())return!1;var i=this.Q_t(t);return!(i&&n.getTime()>=i.getTime())},n.tgt=function(t,n){if(this.z_t)return!0;if(this.ngt(t).getTime()>n.getTime())return!1;var i=this.Q_t(t);return!(i&&n.getTime()>=i.getTime())},n.igt=function(t,n,i){var e=Qt(n,this._a)+this.S_t.oC;return{Vdt:t,egt:n,ck:e,nm:i,fk:e+i}},n.ngt=function(t){return this.S_t.F_t._s===vW.nI?new Date(this.S_t.F_t.zwt.getTime()+1e3*(t.ck+t.nm)):this.S_t.F_t.zwt},n.Z_t=function(t){var n=this.ngt(t);return this.S_t.F_t._s===vW.nI?new Date(n.getTime()-1e3*this.B_t):n},n.Q_t=function(t){var n=1/0;if(this.S_t.F_t._s===vW.nI){var i=this.P_t.$dt;i&&(n=this.ngt(t).getTime()+1e3*t.nm+i.Odt())}var e=this.S_t.F_t.Fwt;return e&&(n=g.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.rgt=function(t,n){return t.Vdt+n},n.Sdt=function(t){return!1},n.Edt=function(t,n,i,e,r){var s=this.sgt(t);if(!s)return qe.reject(new l("Invalid segment"));var u=this.ugt(s.Vdt);return u?qe.resolve(u):this.ogt(s.Vdt,n,i,e,r)},n.ugt=function(t){},n.ogt=function(t,n,i,e,r){return qe.reject(new l("Not supported"))},n.$_t=function(t){var n=this.sgt(t);if(n)return this.H_t(n.Vdt-1)},n.Rdt=function(t){var n=this.sgt(t);if(n)return this.H_t(n.Vdt+1)},n.sgt=function(t){var n=this.H_t(t.Vdt);if(n&&n.ck===t.ck)return n;var i=this.x_t(t.ck);return i&&i.ck===t.ck?i:void 0},n.agt=function(t){var n=this.hgt(t);if(n&&this.Sdt(n.Vdt)){var i=this.ugt(n.Vdt);if(i)return i.agt(t)}},n.hgt=function(t){return this.H_t(t.cgt)},n.w_t=function(t){var n=this.sgt(t);return!!n&&0===n.Vdt},n.__t=function(t){var n=this.agt(t);return!!n&&0===n.o_t},n.g_t=function(t){var n=this.sgt(t);if(!n)return!1;var i=this.Ddt();return!!i&&n.Vdt===i.Vdt},n.m_t=function(t){var n=this.agt(t);if(!n)return!1;var i=this.Ddt();if(!i||n.cgt!==i.Vdt)return!1;var e=this.ugt(n.cgt);return n.o_t+1===e.M_},T(t,[{key:"z_t",get:function(){return this.S_t.F_t.fgt&&void 0!==this.V_t()}},{key:"gb",get:function(){return this.S_t.oC-Qt(this.O_t,this._a)}},{key:"Kdt",get:function(){return Qt(this.O_t,this._a)}}]),t}(),Pq=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).vgt=void 0,e.lgt=void 0;var r=n.dgt,s=n.nm;if(void 0===r||void 0===s)throw new l("MultipleSegmentBase does not have a segment duration specified.");return e.lgt=r,e.vgt=s,e}E(n,t);var i=n.prototype;return i.H_t=function(t){if(!(t<0)){var n=this.lgt.multiply(t),i=Qt(n,this._a),e=this.S_t.nm;if(!(i>=e)){var r=this.wgt();if(void 0!==r){if(t>r)return;if(t===r)return this.igt(t,n,e-i)}return isFinite(e)&&i+this.vgt>e?this.igt(t,n,e-i):this.igt(t,n,this.vgt)}}},i.L_t=function(){return 0},i.M_t=function(t){var n=g.floor(t/this.vgt),i=this.wgt();return void 0!==i&&n>=i?this.H_t(i):this.H_t(n)},i.X_t=function(t){if(t>=this.S_t.nm){var n=g.ceil(this.S_t.nm/this.vgt)-1,i=this.wgt();return void 0!==i&&n>=i?this.H_t(i):this.H_t(n)}return this.M_t(t)},i.wgt=function(){var t,n=this.P_t.iwt;if(void 0!==n)return n-(null!=(t=this.P_t.nwt)?t:1);if(isFinite(this.S_t.nm)){var i=this.P_t._gt;if(void 0!==i&&i>0)return i-1}},i.V_t=function(){if(isFinite(this.S_t.nm))return this.Ddt()},i.ggt=function(t,n){return this.lgt.multiply(t.Vdt+(n-1))},i.tc=function(){},n}(Nq);function xq(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].ck,u=t[r].fk;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+g.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),a=t[o],h=a.ck,c=o+1<i?t[o+1].ck:a.fk;if(c.lessThanOrEqual(n))e=o+1,s=c;else{if(!n.lessThan(h))return o;r=o-1,u=h}}return-1}var Bq=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).f4=[],e.mgt=void 0,e.ost=vt.ZERO,e.tc(),e}E(n,t);var i=n.prototype;return i.H_t=function(t){if(!(t<0))return t<this.f4.length?this.f4[t].y9:this.ygt(t-this.f4.length)},i.L_t=function(){if(this.f4.length>0)return Qt(this.f4[0].ck,this._a)},i.M_t=function(t){if(this.mgt&&Qt(this.mgt.ck,this._a)<=t){var n=Qt(this.mgt.ck,this._a),i=Qt(this.mgt.nm,this._a),e=g.floor((t-n)/i);return this.ygt(e)}if(this.f4.length>0&&Ut(t,Qt(this.f4[0].ck,this._a),1e-5))return this.f4[0].y9;var r=xq(this.f4,vt.fromNumber(t*this._a));return r<0?void 0:this.f4[r].y9},i.X_t=function(t){if(!this.mgt&&this.f4.length>0){var n=this.f4[this.f4.length-1];if(i=t,e=Qt(n.fk,this._a),zs(i,e,1e-5)>=0)return n.y9}var i,e,r=this.L_t();return r&&t<r?this.f4[0].y9:this.M_t(t)},i.V_t=function(){return isFinite(this.S_t.nm)?this.Ddt():this.H_t(this.f4.length-1)},i.ggt=function(t){return this.kgt(t)},i.ygt=function(t){if(this.mgt){var n=this.mgt.ck,i=this.mgt.nm,e=n.add(i.multiply(t)),r=Qt(e,this._a),s=this.S_t.nm;if(!(r>=s)){var u=this.f4.length+t,o=g.min(Qt(i,this._a),r+s);return this.igt(u,e,o)}}},i.kgt=function(t){return t.egt.add(this.O_t)},i.tc=function(){var t=this.P_t.zi.bdt;if(!t)throw new l("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.R4(t)},i.R4=function(t){var n=this.O_t;this.pgt(t,n);var i=this.bgt(t);this.Agt(t,n,i.Tgt,i.cgt)},i.pgt=function(t,n){var i=this.f4;if(0===t.length)Zs(i);else{for(var e=t[0],r=e.ck?vt.fromString(e.ck,!1).subtract(n):vt.ZERO,s=0;s<i.length&&i[s].ck.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.bgt=function(t){for(var n=this.f4,i=this.ost,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].zdt||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].ck.greaterThanOrEqual(i))break;if(n[r].y9.Vdt===r)r=u+1;else for(;r<=u;)n[r].y9.Vdt=r,r++;0,e++}return{Tgt:e,cgt:r}},i.Agt=function(t,n,i,e){for(var r,s=this.f4,u=i,o=e;u<t.length;){var a=t[u],h=vt.fromString(a.nm,!1),c=a.zdt||0,f=void 0;if(a.ck){if(f=vt.fromString(a.ck,!1).subtract(n),o>0){var l=s[o-1];l.fk.greaterThan(f)&&(l.nm=f.subtract(l.ck),l.fk=l.ck.add(l.nm))}}else f=o>0?s[o-1].fk:vt.ZERO;if(c<0){if(u+1===t.length){r={ck:f,nm:h};break}for(var v=vt.fromString(t[u+1].ck,!1).subtract(n);f.lessThan(v);){var d=f.add(h);this.Sgt(s,o,f,h,d),f=d,o++}}else for(var w=o+c;o<=w;){var g=f.add(h);this.Sgt(s,o,f,h,g),f=g,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.ost=s[s.length-1].ck),this.mgt=r},i.Sgt=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.nm.equals(e)?s.y9.Vdt=n:t[n]={ck:i,nm:e,fk:r,y9:this.igt(n,i,Qt(e,this._a))}}else t.push({ck:i,nm:e,fk:r,y9:this.igt(n,i,Qt(e,this._a))})},n}(Nq),Oq=function(){function t(t,n,i){this.Cdt=void 0,this.Egt=void 0,this.qi=void 0,this.Igt=void 0,this.Rgt=void 0,this.Cdt=t,this.Egt=n,this.qi=i}var n=t.prototype;return n.Dgt=function(){if(this.Rgt=this.Ngt(),this.Rgt)return this.Rgt;if(this.Egt)return this.Egt.bdt;throw new l("Missing media segment information.")},n.b_t=function(t){var n=this.Zdt;if(n)return{wd:(void 0!==n.Fdt?i.Mr(n.Fdt,t.wwt[0]):t.wwt[0]).href,qct:n.qct};var e=this.Wdt;return e?{wd:t.wwt[0].href,qct:[0,e[0]-1]}:void 0},n.tc=function(t){this.qi=t,this.Rgt&&this.Rgt.tc()},T(t,[{key:"zi",get:function(){return this.qi}},{key:"Hdt",get:function(){return this.qi&&void 0!==this.qi.Hdt?this.qi.Hdt:this.Egt?this.Egt.Hdt:0}},{key:"Kdt",get:function(){return this.qi&&void 0!==this.qi.Kdt?this.qi.Kdt:this.Egt?this.Egt.Kdt:vt.ZERO}},{key:"$dt",get:function(){return this.qi&&void 0!==this.qi.$dt?this.qi.$dt:this.Egt?this.Egt.$dt:this.Cdt.F_t.$dt}},{key:"Op",get:function(){return this.qi&&void 0!==this.qi.Op?this.qi.Op:this.Egt&&this.Egt.Op?this.Egt.Op:1}},{key:"Wdt",get:function(){return this.qi&&void 0!==this.qi.Wdt?this.qi.Wdt:this.Egt?this.Egt.Wdt:void 0}},{key:"Zdt",get:function(){return this.qi&&void 0!==this.qi.Zdt?this.qi.Zdt:this.Egt?this.Egt.Zdt:void 0}},{key:"bdt",get:function(){return this.Igt||(this.Igt=this.Dgt()),this.Igt}}]),t}(),Lq=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Ngt=function(){return this.qi.bdt?new Bq(this,this.Cdt):void 0!==this.qi.nm?new Pq(this,this.Cdt):void 0},T(n,[{key:"nm",get:function(){return void 0!==this.qi.nm?this.qi.nm/this.Op:this.Egt&&this.Egt instanceof n?this.Egt.nm:void 0}},{key:"dgt",get:function(){return void 0!==this.qi.nm?vt.fromNumber(this.qi.nm):this.Egt&&this.Egt instanceof n?this.Egt.dgt:void 0}},{key:"nwt",get:function(){return void 0!==this.qi.nwt?this.qi.nwt:this.Egt&&this.Egt instanceof n?this.Egt.nwt:void 0}},{key:"iwt",get:function(){return void 0!==this.qi.iwt?this.qi.iwt:this.Egt&&this.Egt instanceof n?this.Egt.iwt:void 0}}]),n}(Oq),Mq=function(){function t(t){this.Cgt=void 0,this.Cgt=t}return t.prototype.Qu=function(t){return this.Cgt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=Is(u,Number(e),"0")})},t}();var jq=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).Pgt=void 0,r.Bgt=void 0,r.Pgt=e.swt?new Mq(e.swt):void 0,r.Bgt=e.uwt?new Mq(e.uwt):void 0,r}E(n,t);var e=n.prototype;return e.b_t=function(n){var e=this.swt;if(!e)return t.prototype.b_t.call(this,n);var r=e.Qu({Bandwidth:n.zi.vD,RepresentationID:n.zi.Y_});return{wd:i.Ur(r,n.wwt[0])}},e.Ndt=function(t,n){var e,r=null!=(e=n.A_t.nwt)?e:1,s=this.uwt.Qu({Bandwidth:n.zi.vD,Number:n.bdt.rgt(t,r),RepresentationID:n.zi.Y_,Time:n.bdt.ggt(t,r)});return{wd:i.Ur(s,n.wwt[0])}},e.f_t=function(t,n){},T(n,[{key:"swt",get:function(){return this.Pgt?this.Pgt:this.Egt&&this.Egt instanceof n?this.Egt.swt:void 0}},{key:"uwt",get:function(){return this.Bgt?this.Bgt:this.Egt&&this.Egt instanceof n?this.Egt.uwt:void 0}},{key:"_gt",get:function(){}}]),n}(Lq),Fq=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var e=n.prototype;return e.Ndt=function(t,n){var e=this.qi.qdt[t.Vdt],r=n.wwt[0];return{wd:(e.mT?i.Mr(e.mT,r):r).href,qct:e.Gdt}},e.f_t=function(t,n){},T(n,[{key:"_gt",get:function(){return void 0!==this.qi.qdt?this.qi.qdt.length:this.Egt&&this.Egt instanceof Lq?this.Egt._gt:void 0}}]),n}(Lq),Uq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).cgt=void 0,u.p8=void 0,u.Op=void 0,u.Ogt=void 0,u.Kdt=void 0,u.xgt=void 0,u.cgt=n,u.p8=i,u.Op=e.Op,u.Ogt=r,u.Kdt=s,u.xgt=u.Lgt(e),u}E(n,t);var i=n.prototype;return i.Idt=function(t){if(t>=0&&t<this.M_)return this.Mgt(this.xgt[t])},i.Ugt=function(t){var n=this.Xgt(t);if(this.xgt.length>0){var i=this.xgt[0];if(n<=Qt(i.ck,this.Op))return this.Mgt(i)}var e=xq(this.xgt,vt.fromNumber(n*this.Op));if(!(e<0))return this.Mgt(this.xgt[e])},i.Hgt=function(t){var n=this.Xgt(t);if(this.xgt.length>0){var i=this.xgt[this.xgt.length-1];if(n>=Qt(i.fk,this.Op))return this.Mgt(i)}return this.Ugt(t)},i.Mgt=function(t){var n=Qt(t.ck,this.Op)-this.Kdt,i=n+this.Ogt,e=Qt(t.nm,this.Op);return{cgt:this.cgt,o_t:t.Vdt,ck:i,egt:vt.fromNumber(n*this.Op),nm:e,fk:i+e,E1:[this.p8+t.p8,this.p8+t.b8]}},i.Lgt=function(t){for(var n=[],i=t.kE,e=t.pE.toNumber(),r=0,s=0,u=t.AE;s<u.length;s++){var o=u[s],a=o.wE,h=vt.fromNumber(o.nm),c=i.add(h);0===o.dE&&n.push({Vdt:r++,ck:i,nm:h,fk:c,p8:e,b8:e+a-1}),e+=a,i=c}return n},i.Xgt=function(t){return t-this.Ogt+this.Kdt},T(n,[{key:"M_",get:function(){return this.xgt.length}}]),n}(function(){function t(){}return t.prototype.agt=function(t){var n=this.Idt(t.o_t);if(n&&n.ck===t.ck)return n;var i=this.Ugt(t.ck);return i&&i.ck===t.ck?i:void 0},t}()),Hq=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).Fgt=void 0,e.zgt=void 0,e.Vgt=void 0,e.Fgt=n.Wdt,e.zgt=e.igt(0,vt.ZERO,e.S_t.nm),e}E(n,t);var i=n.prototype;return i.H_t=function(t){if(0===t)return this.zgt},i.L_t=function(){return 0},i.M_t=function(t){return this.zgt},i.X_t=function(t){return this.M_t(t)},i.V_t=function(){return this.zgt},i.ggt=function(t,n){return vt.ZERO},i.l_t=function(t){var n=this.Wgt(t);return n&&{W_t:t,G_t:n,q_t:n}},i.Wgt=function(t){var n=this.zgt;return this.J_t(n,t)?n:void 0},i.Y_t=function(t){return this.Wgt(t)},i.j_t=function(t){return this.Wgt(t)},i.tc=function(){},i.Sdt=function(t){return 0===t&&void 0!==this.Fgt},i.ugt=function(t){return this.Vgt},i.ogt=function(t,n,i,e,r){var s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=n.wwt[0].href,u=this.Fgt,a.next=4,Fr.awrap(e.Ggt(s,u,i,r));case 4:return o=a.sent,this.Vgt=this.qgt(t,o),a.abrupt("return",this.Vgt);case 7:case"end":return a.stop()}},null,this,null,qe)},i.qgt=function(t,n){var i=this.Fgt,e=db.UA(new DataView(n),new Ko);if(e._s!==A_.cA)throw new l("Invalid segment index");var r=pb.rT(e.zi),s=i[1]+1;return new Uq(t,s,r,this.S_t.oC,Qt(this.O_t,this._a))},n}(Nq),Xq=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.Ndt=function(t,n){return{wd:n.wwt[0].href}},i.f_t=function(t,n){return{wd:n.wwt[0].href,qct:t.E1}},i.Ngt=function(){return new Hq(this,this.Cdt)},T(n,[{key:"nwt",get:function(){}}]),n}(Oq),zq=function(t){function n(){return t.call(this,bq.$wt)||this}return E(n,t),n}(Eu);var Vq=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Xw=void 0,r.qi=void 0,r.Ygt=void 0,r.P_t=void 0,r.jgt=1/0,r.Qgt=void 0,r.Xw=i,r.Zgt(n,e),r}E(n,t);var i=n.prototype;return i.Kgt=function(){return this.P_t||this.Xw&&this.Xw.Kgt()},i.Jgt=function(t){var n=this.Cdt,i=this.Xw&&this.Xw.Kgt();this.qi.pwt?this.P_t=new jq(n,i,this.qi.pwt):this.qi.kwt?this.P_t=new Fq(n,i,this.qi.kwt[0]):this.qi.ywt?this.P_t=new Xq(n,i,this.qi.ywt):t&&!i&&(this.P_t=new Xq(n,i,void 0))},i.Zgt=function(t,n){this.qi=t,this.Ygt=t.wwt&&t.wwt.length>0?Dq(t.wwt.map(function(t){return t.wd}),n):n.slice(),this.P_t&&(t.pwt?this.P_t.tc(t.pwt):t.kwt?this.P_t.tc(t.kwt[0]):t.ywt&&this.P_t.tc(t.ywt))},i.s_t=function(){var t;return null==(t=this.Qgt)?void 0:t.$gt},i.d_t=function(){var t;return null==(t=this.Qgt)?void 0:t.tmt},i.nmt=function(t){var n=this.jgt,i=this.Cdt.nm,e=this.Qgt,r=this.imt(t);e&&Ut(i,n,1e-5)&&$q(e,r)||(this.jgt=i,this.Qgt=r,this.$s(new zq))},i.Xs=function(){this.ou()},T(n,[{key:"zi",get:function(){return this.qi}},{key:"wwt",get:function(){return this.Ygt}}]),n}(Tu);function Wq(t){for(var n,i=0;i<t.length;i++){var e=t[i].s_t();if(e){n=e.oC;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].s_t();if(u){r=u.hC;break}}if(void 0!==r)return{oC:n,hC:r}}}function qq(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].s_t();if(!r)return;if((n=g.max(n,r.oC))>=(i=g.min(i,r.hC)))return}return{oC:n,hC:i}}}function Gq(t){for(var n,i=0;i<t.length;i++){var e=t[i].d_t();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function $q(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.tmt,n.tmt)&&function(t,n){return t&&n?Ut(t.oC,n.oC,1e-5)&&Ut(t.hC,n.hC,1e-5):t===n}(t.$gt,n.$gt)}var Yq=function(t){function n(n,i,e){var r;(r=t.call(this)||this).S_t=void 0,r.Uh=void 0,r.emt=void 0,r.S_t=n,r.Uh=i,r.emt=e.slice();for(var s=0;s<e.length;s++){e[s].tu(bq.$wt,r.e_t)}return r}E(n,t);var i=n.prototype;return i.s_t=function(){return qq(this.emt)},i.d_t=function(){for(var t,n=0,i=this.emt;n<i.length;n++){var e=i[n].d_t();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.$c=function(){this.ou();for(var t=0,n=this.emt;t<n.length;t++){n[t].au(bq.$wt,this.e_t)}},T(n,[{key:"ydt",get:function(){return this.emt}},{key:"kz",get:function(){return this.ydt.reduce(function(t,n){for(var i=0,e=n.kz;i<e.length;i++){var r=e[i];Qs(t,r)||t.push(r)}return t},[])}},{key:"dr",get:function(){return this.kz.length>0?this.kz[0]:""}},{key:"_s",get:function(){return this.emt[0]._s}},{key:"Y_",get:function(){return this.Uh}},{key:"v_t",get:function(){return this.S_t.v_t}},{key:"DO",get:function(){return this.emt[0].DO}},{key:"Cdt",get:function(){return this.S_t}},{key:"q1",get:function(){return Js(this.ydt,function(t){return t.q1})}}]),n}(Eq),Qq=function(t){function n(){return t.call(this,bq.n_t)||this}return E(n,t),n}(Eu);function Zq(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.Awt;void 0===s||(r=Ws(n,function(t){return t.Y_===s})),r||(r={Y_:s,ydt:[]},n.push(r)),r.ydt.push(e)},e=0;e<t.length;e++)i(e);return n}var Kq,Jq=function(t){function n(n,i){var e;return(e=t.call(this)||this).N6=void 0,e.emt=[],e.rmt=[],e.smt=void 0,e.umt=!1,e.smt=n,e.N6=i,e.N6.tu(bq.$wt,e.e_t),e}E(n,t);var i=n.prototype;return i.omt=function(t,n){if(0!==this.rmt.length){for(var i=t,e=0,r=this.rmt;e<r.length;e++){var s=r[e],u=s._s;if(u===gp.Cd||u===gp.Pd){var o=s.u_t;if(void 0===o)return;i=n(i,o)}}return i}},i.amt=function(){this.umt||(this.umt=!0,this.$s(new Qq),this.$c())},i.tc=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==this.emt.length){i.next=7;break}return i.next=3,Fr.awrap(this.hmt(this.N6.ydt,t,n));case 3:this.cmt(this.emt),cu(n),i.next=9;break;case 7:return i.next=9,Fr.awrap(this.fmt(t,n));case 9:case"end":return i.stop()}},null,this,null,qe)},i.hmt=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0;case 1:if(!(e<t.length)){u.next=17;break}return r=t[e],s=new Cq(this,r),u.prev=4,u.next=7,Fr.awrap(s.tc(n,i));case 7:this.emt.push(s),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(4),fu(u.t0);case 14:e++,u.next=1;break;case 17:case"end":return u.stop()}},null,this,[[4,10]],qe)},i.cmt=function(t){for(var n=Zq(t),i=0;i<n.length;i++){var e=n[i],r=new Yq(this,e.Y_,e.ydt);this.rmt.push(r)}},i.fmt=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.emt;case 1:if(!(i<e.length)){s.next=8;break}return r=e[i],s.next=5,Fr.awrap(r.tc(t,n));case 5:i++,s.next=1;break;case 8:case"end":return s.stop()}},null,this,null,qe)},i.s_t=function(){return this.N6.s_t()},i.d_t=function(){return this.N6.d_t()},i.$c=function(){this.ou(),this.N6.au(bq.$wt,this.e_t);for(var t=0,n=this.rmt;t<n.length;t++){n[t].$c()}for(var i=0,e=this.emt;i<e.length;i++){e[i].$c()}Zs(this.emt),Zs(this.rmt)},T(n,[{key:"ydt",get:function(){return this.emt}},{key:"gdt",get:function(){return this.rmt}},{key:"Xwt",get:function(){return this.N6.zi.Xwt}},{key:"nm",get:function(){return this.N6.nm}},{key:"hC",get:function(){return this.oC+this.nm}},{key:"Hwt",get:function(){return this.N6.zi.Hwt||[]}},{key:"Y_",get:function(){return this.N6.Y_}},{key:"i_t",get:function(){return this.umt}},{key:"v_t",get:function(){return this.smt}},{key:"vmt",get:function(){return this.smt.lmt(this)}},{key:"Cdt",get:function(){return this}},{key:"dmt",get:function(){return this.smt.wmt(this)}},{key:"_mt",get:function(){return this.omt(1/0,g.min)}},{key:"gmt",get:function(){return this.omt(0,g.max)}},{key:"oC",get:function(){return this.N6.oC}},{key:"Ud",get:function(){return this.v_t.Ud}}]),n}(Eq);!function(t){t.mmt="ymt"}(Kq||(Kq={}));var tG=function(t){function n(){return t.call(this,Kq.mmt)||this}return E(n,t),n}(Eu),nG=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.wwt)||this).a_t=void 0,e.kmt=void 0,e.a_t=i,e.Jgt(!0),e}E(n,t);var i=n.prototype;return i.Sdt=function(t){return!!Uc(this.DO)&&this.bdt.Sdt(t.Vdt)},i.Edt=function(t,n,i,e){return this.bdt.Edt(t,this,n,i,e)},i.b_t=function(){return this.A_t.b_t(this)},i.Ndt=function(t){return this.A_t.Ndt(t,this)},i.f_t=function(t){return this.A_t.f_t(t,this)},i.l_t=function(){return this.kmt},i.imt=function(t){var n=this.bdt,i=n.l_t(t),e=i&&function(t,n){var i,e=t.G_t,r=t.q_t,s=t.W_t,u=e.ck,o=n.ngt(r);if(o.getTime()<=s.getTime())i=r.fk;else{var a=(o.getTime()-s.getTime())/1e3,h=g.max(r.nm-a,0);i=r.ck+h}return{oC:u,hC:i}}(i,n),r=this.bdt.d_t(t,i);return this.kmt=i,{W_t:t,$gt:e,tmt:r}},i.tc=function(t){this.Zgt(t,this.a_t.wwt)},T(n,[{key:"y_t",get:function(){return this.a_t}},{key:"Cdt",get:function(){return this.a_t.Cdt}},{key:"F_t",get:function(){return this.a_t.F_t}},{key:"DO",get:function(){return this.qi.DO||this.a_t.DO}},{key:"A_t",get:function(){return this.Kgt()}},{key:"bdt",get:function(){return this.A_t.bdt}}]),n}(Vq),iG=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.wwt)||this).S_t=void 0,e.E_t=void 0,e.S_t=i,e.Jgt(!1),e.E_t=n.q1.map(function(t){return new nG(t,Jt(e))}),e}E(n,t);var i=n.prototype;return i.tc=function(t){this.Zgt(t,this.S_t.wwt);var n=t.q1||[];if(this.E_t.length!==n.length)throw new l("Expected "+this.E_t.length+' representations in adaptation set "'+t.Y_+'", found '+n.length);for(var i=0;i<n.length;i++)this.E_t[i].tc(n[i])},i.nmt=function(n){for(var i=0,e=this.E_t;i<e.length;i++){e[i].nmt(n)}t.prototype.nmt.call(this,n)},i.imt=function(t){return{W_t:t,$gt:qq(this.E_t),tmt:Gq(this.E_t)}},i.Xs=function(){for(var n=0,i=this.E_t;n<i.length;n++){i[n].Xs()}t.prototype.Xs.call(this)},T(n,[{key:"q1",get:function(){return this.E_t}},{key:"Cdt",get:function(){return this.S_t}},{key:"F_t",get:function(){return this.S_t.F_t}},{key:"Awt",get:function(){return this.qi.Awt}},{key:"DO",get:function(){var t;return this.qi.DO||(null==(t=this.E_t[0])?void 0:t.zi.DO)||""}}]),n}(Vq),eG=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.wwt)||this).pmt=void 0,s.DE=void 0,s.ma=void 0,s.emt=void 0,s.rmt=[],s.pmt=n,s.DE=e,s.ma=r,s.Jgt(!1),s.emt=(i.ydt||[]).map(function(t){return new iG(t,Jt(s))}),s.rmt=Zq(s.emt),s}E(n,t);var i=n.prototype;return i.tc=function(t,n){this.Zgt(t,this.pmt.wwt),this.ma=n;var i=t.ydt||[];if(this.emt.length!==i.length)throw new l("Expected "+this.emt.length+' adaptation sets in period "'+t.Y_+'", found '+i.length);for(var e=0;e<i.length;e++)this.emt[e].tc(i[e])},i.nmt=function(n){for(var i=0,e=this.emt;i<e.length;i++){e[i].nmt(n)}t.prototype.nmt.call(this,n)},i.imt=function(t){return{W_t:t,$gt:qq(this.emt),tmt:Gq(this.emt)}},i.Xs=function(){for(var n=0,i=this.emt;n<i.length;n++){i[n].Xs()}t.prototype.Xs.call(this)},T(n,[{key:"ydt",get:function(){return this.emt}},{key:"gdt",get:function(){return this.rmt}},{key:"Cdt",get:function(){return this}},{key:"F_t",get:function(){return this.pmt}},{key:"Y_",get:function(){return this.qi.Y_}},{key:"oC",get:function(){return this.DE}},{key:"nm",get:function(){return this.ma}}]),n}(Vq),rG=new Date("2000-01-01"),sG=function(t){function n(n,i,e,r,s){var u;if((u=t.call(this)||this).qi=void 0,u.bmt=void 0,u.Amt=void 0,u.Pq=void 0,u.Tmt=void 0,u.Qgt=void 0,u.Ygt=void 0,u.Smt=void 0,u.Emt=void 0,u.Imt=void 0,u.Rmt=[],u.Dmt=void 0,u.bmt=i,u.Dmt=s,u.tc(n,e,r),n._s===vW.nI){var o=u.V_t();o&&o.Fwt&&o.Fwt.getTime()<rG.getTime()&&(u.Imt=new Date(u.Qwt.getTime()-1e3*(o.y9.ck+o.y9.nm)),u.nmt(r))}return u}E(n,t);var e=n.prototype;return e.s_t=function(){var t;return null==(t=this.Qgt)?void 0:t.$gt},e.d_t=function(){var t;return null==(t=this.Qgt)?void 0:t.tmt},e.tc=function(t,n,e,r){var s,u=void 0!==this.qi&&this.qi._s===vW.nI;this.qi=t,this.Amt=n,this.Tmt=null!=r?r:e,this.Pq=e;var o,a=[(o=n,i.Mr(".",o))];this.Ygt=t.wwt&&t.wwt.length>0?Dq(t.wwt.map(function(t){return t.wd}),a):a,this.Smt=t.Vwt&&t.Vwt.length>0?Dq(t.Vwt,this.Ygt):[];var h=this.Smt.map(function(t){return t.href}),c=n.href;Qs(h,c)||(this.Smt.push(n),h.push(c));var f=this.bmt.href;Qs(h,f)||(this.Smt.push(this.bmt),h.push(f)),this.Emt=null==(s=t.ddt)?void 0:s.ldt();var l=t._s===vW.nI,v=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.oC)u=s.oC.ldt();else if(r>0&&t[r-1].nm){var o=e[r-1],a=t[r-1].nm.ldt();u=o+a}else{if(0!==r||n)break;u=0}e.push(u)}for(var h=[],c=0;c<e.length-1;c++)h.push({zi:t[c],oC:e[c],nm:e[c+1]-e[c]});if(e.length>0){var f=e.length-1,l=t[f],v=e[f],d=1/0;n||(d=l.nm?l.nm.ldt():i-v),h.push({zi:l,oC:v,nm:d})}return h}(t.vdt,l,this.Emt);this.Nmt(v,u,l),this.nmt(e)},e.Nmt=function(t,n,i){var e=this.Rmt;if(0!==t.length){for(var r=t[0].zi.Y_,s=0;s<e.length&&e[s].Y_!==r;)s++;for(var u=e.splice(0,s),o=0;o<u.length;o++){u[o].Xs()}if(n&&!i&&e.length>0&&t.length>0){var a,h,c=null!=(a=uG(e[0].zi))?a:g_.ap,f=null!=(h=uG(t[0].zi))?h:g_.ap;if(f.zk(c)){var l=f.Jk(c);void 0!==this.Emt&&(this.Emt+=l.Fk());for(var v=0;v<t.length;v++){var d=t[v];if(v<e.length){var w=e[v];d.oC=w.oC,fG(d.zi,w.zi)}v===t.length-1&&(d.nm+=l.Fk())}}}for(var g=0;g<t.length;g++){var m=t[g];if(g<e.length){var y=e[g];0,y.tc(m.zi,m.nm)}else e.push(new eG(this,m.zi,m.oC,m.nm))}}else Zs(e)},e.nmt=function(t){for(var n=0,i=this.Rmt;n<i.length;n++){i[n].nmt(t)}var e=this.Qgt,r=this.imt(t);e&&$q(e,r)||(this.Qgt=r,this.$s(new zq))},e.imt=function(t){return{W_t:t,$gt:Wq(this.Rmt),tmt:Gq(this.Rmt)}},e.V_t=function(){if(0!==this.Rmt.length){var t=this.Rmt[this.Rmt.length-1];if(!isFinite(t.nm)&&0!==t.ydt.length){var n=t.ydt[0];if(0!==n.q1.length){var i=n.q1[0].bdt,e=i.V_t();if(e)return{y9:e,Fwt:i.Q_t(e)}}}}},e.Xs=function(){this.ou();for(var t=0,n=this.Rmt;t<n.length;t++){n[t].Xs()}},T(n,[{key:"zi",get:function(){return this.qi}},{key:"_s",get:function(){return this.qi._s||vW.tI}},{key:"zwt",get:function(){return this.Imt||this.qi.zwt||this.Qwt}},{key:"Fwt",get:function(){return this.qi.Fwt}},{key:"fgt",get:function(){var t,n;return null!=(t=null==(n=this.Dmt)?void 0:n.ignoreAvailabilityWindow)&&t}},{key:"ddt",get:function(){return this.Emt}},{key:"wwt",get:function(){return this.Ygt}},{key:"Vwt",get:function(){return this.Smt}},{key:"vdt",get:function(){return this.Rmt}},{key:"Qwt",get:function(){return this.qi.Qwt||this.Pq}},{key:"$dt",get:function(){return this.qi.$dt}},{key:"Cmt",get:function(){return this.Tmt}},{key:"Pmt",get:function(){return this.Pq}}]),n}(Tu);function uG(t){for(var n=hG(t),i=0,e=null!=(r=t.ydt)?r:[];i<e.length;i++){var r;n=y_(n,oG(e[i]))}for(var s=0,u=null!=(o=t.Hwt)?o:[];s<u.length;s++){var o;n=y_(n,cG(u[s]))}return n}function oG(t){for(var n=hG(t),i=0,e=t.q1;i<e.length;i++){n=y_(n,aG(e[i]))}return n}function aG(t){return hG(t)}function hG(t){var n;if(void 0!==t.pwt&&(n=y_(n,cG(t.pwt))),void 0!==t.ywt&&(n=y_(n,cG(t.ywt))),void 0!==t.kwt)for(var i=0,e=t.kwt;i<e.length;i++){n=y_(n,cG(e[i]))}return n}function cG(t){var n,i;return g_.rp(null!=(n=t.Kdt)?n:vt.ZERO,null!=(i=t.Op)?i:1)}function fG(t,n){if(vG(t,n),t.oC=n.oC,void 0!==t.ydt&&void 0!==n.ydt&&t.ydt.length===n.ydt.length)for(var i=0;i<t.ydt.length;i++)lG(t.ydt[i],n.ydt[i]);if(void 0!==t.Hwt&&void 0!==n.Hwt&&t.Hwt.length===n.Hwt.length)for(var e=0;e<t.Hwt.length;e++)dG(t.Hwt[e],n.Hwt[e])}function lG(t,n){if(vG(t,n),void 0!==t.q1&&void 0!==n.q1&&t.q1.length===n.q1.length)for(var i=0;i<t.q1.length;i++)e=t.q1[i],r=n.q1[i],vG(e,r);var e,r}function vG(t,n){if(void 0!==t.pwt&&void 0!==n.pwt&&dG(t.pwt,n.pwt),void 0!==t.ywt&&void 0!==n.ywt&&dG(t.ywt,n.ywt),void 0!==t.kwt&&void 0!==n.kwt&&t.kwt.length===n.kwt.length)for(var i=0;i<t.kwt.length;i++)dG(t.kwt[i],n.kwt[i])}function dG(t,n){t.Op=n.Op,t.Kdt=n.Kdt}var wG=function(){function t(t,n,i){this.Bmt=0,this.qE=t,this.Omt=n,this.xmt=i}var n=t.prototype;return n.JL=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.Lmt(t,this.qE,this.Omt,this.xmt).catch(lu));case 2:case"end":return n.stop()}},null,this,null,qe)},n.Mmt=function(){return new Date(Wt()+this.Bmt)},n.Lmt=function(t,n,i,e){var r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=4;break}return o.next=3,Fr.awrap(this.Umt(n,e,i));case 3:r=o.sent;case 4:if(void 0!==r){o.next=17;break}cu(i),s=0;case 7:if(!(s<t.length)){o.next=17;break}return u=t[s],o.next=11,Fr.awrap(this.Xmt(n,u,i));case 11:if(void 0===(r=o.sent)){o.next=14;break}return o.abrupt("break",17);case 14:s++,o.next=7;break;case 17:this.Bmt=void 0===r?0:r-Wt();case 18:case"end":return o.stop()}},null,this,null,qe)},n.Xmt=function(t,n,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=n.U1,o.t0=e,o.next="urn:mpeg:dash:utc:http-xsdate:2012"===o.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===o.t0?4:"urn:mpeg:dash:utc:direct:2012"===o.t0?10:"urn:mpeg:dash:utc:direct:2014"===o.t0?10:16;break;case 4:if(!(r=n.Ti)){o.next=9;break}return o.next=8,Fr.awrap(this.Umt(t,r,i));case 8:return o.abrupt("return",o.sent);case 9:return o.abrupt("break",17);case 10:if(!(s=n.Ti)){o.next=15;break}if(u=new Date(s).getTime(),p(u)){o.next=15;break}return o.abrupt("return",u);case 15:return o.abrupt("break",17);case 16:return o.abrupt("return");case 17:case"end":return o.stop()}},null,this,null,qe)},n.Umt=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Fr.awrap(t.ld({wd:n,Od:fw.GET,hd:Of.ni,js:i}));case 3:return e=u.sent,u.next=6,Fr.awrap(e.Fl());case 6:if(r=u.sent,s=new Date(r).getTime(),p(s)){u.next=10;break}return u.abrupt("return",s);case 10:u.next=16;break;case 12:u.prev=12,u.t0=u.catch(0),fu(u.t0);case 16:case"end":return u.stop()}},null,null,[[0,12]],qe)},t}(),gG=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Hmt=void 0,u.N6=void 0,u.Fmt=void 0,u.tut=!0,u.Rmt=[],u.zmt=void 0,u.Vmt=void 0,u.Wmt=void 0,u.qE=void 0,u.Gmt=void 0,u.Dmt=void 0,u.zmt=n,u.Fmt=n.yg,u.Vmt=i,u.qE=e,u.Hmt=r,u.Gmt=new wG(u.qE,u.Hmt,u.zmt.qmt),u.Dmt=s,u}E(n,t);var e=n.prototype;return e.Ymt=function(t){var n=this.By;this.tut=t,n!==this.By&&this.$s(new tG)},e.tc=function(t,n,e){var r,s,u,o,a,h,c,f,l,v,d,w,g;return Fr.async(function(m){for(;;)switch(m.prev=m.next){case 0:if(s=[],u=[],o=t.Wwt?i.Mr(t.Wwt,this.Fmt):this.Fmt,void 0!==this.N6){m.next=10;break}return m.next=6,Fr.awrap(this.Gmt.JL(t.Kwt));case 6:this.N6=new sG(t,this.Fmt,o,this.Mmt(),this.Dmt),this.N6.tu(bq.$wt,this.Js),m.next=11;break;case 10:this.N6.tc(t,o,this.Mmt(),n);case 11:if(0===(a=this.N6.vdt).length)h=this.Rmt.slice(),Zs(this.Rmt);else{for(c=a[0].Y_,f=0;f<this.Rmt.length&&this.Rmt[f].Y_!==c;)f++;for(h=this.Rmt.splice(0,f),l=0;l<a.length;l++)v=a[l],d=void 0,l<this.Rmt.length?d=this.Rmt[l]:(d=new Jq(this,v),s.push(d)),u.push(d.tc(this.Vmt,e))}return m.next=15,Fr.awrap(qe.all(u));case 15:for((r=this.Rmt).push.apply(r,s),w=0,g=h;w<g.length;w++)g[w].amt();this.$s(new uM);case 18:case"end":return m.stop()}},null,this,null,qe)},e.Mmt=function(){return this.Gmt.Mmt()},e.wmt=function(t){var n=this.Rmt.indexOf(t);if(n>0)return this.Rmt[n-1]},e.lmt=function(t){var n=this.Rmt.indexOf(t);if(n>=0&&n+1<this.Rmt.length)return this.Rmt[n+1]},e.s_t=function(){return this.N6?this.N6.s_t():void 0},e.d_t=function(){return this.N6&&this.N6.d_t()},e.nmt=function(t){this.N6&&this.N6.nmt(t)},e.$c=function(){this.ou(),this.Wmt=void 0,this.Ymt(!1);for(var t=0,n=this.Rmt;t<n.length;t++){n[t].$c()}Zs(this.Rmt),this.N6&&this.N6.Xs()},T(n,[{key:"Fwt",get:function(){return this.N6&&this.N6.Fwt}},{key:"zwt",get:function(){return this.N6&&this.N6.zwt}},{key:"fgt",get:function(){return this.N6&&this.N6.fgt}},{key:"Y_",get:function(){return this.N6&&this.N6.zi.Y_}},{key:"Cmt",get:function(){var t;return null==(t=this.N6)?void 0:t.Cmt}},{key:"jmt",get:function(){var t;return null==(t=this.N6)?void 0:t.Pmt}},{key:"Vwt",get:function(){return this.N6?this.N6.Vwt.map(function(t){return t.href}):[this._dt]}},{key:"_dt",get:function(){return this.Fmt.href}},{key:"Gwt",get:function(){return this.N6&&this.N6.zi.Gwt}},{key:"qwt",get:function(){return this.N6&&this.N6.zi.qwt}},{key:"ddt",get:function(){return this.N6&&this.N6.zi.ddt}},{key:"Ywt",get:function(){return this.N6&&this.N6.zi.Ywt}},{key:"jwt",get:function(){var t,n,i=(null==(t=this.N6)?void 0:null==(n=t.zi.jwt)?void 0:n.Odt())||0;return g.max(i,yG)}},{key:"By",get:function(){return this.tut}},{key:"vdt",get:function(){return this.Rmt}},{key:"Qmt",get:function(){return this._s===vW.nI?this.C_t:this.Zmt}},{key:"Kmt",get:function(){var t=this.Qmt;if(void 0!==t)for(var n=0,i=this.vdt;n<i.length;n++){var e=i[n];if(e.oC<=t&&e.hC>t)return e}}},{key:"cwt",get:function(){return this.N6&&this.N6.zi.cwt}},{key:"Qwt",get:function(){return this.N6&&this.N6.Qwt}},{key:"_mt",get:function(){for(var t=this.Rmt.length-1;t>=0;t-=1){var n=this.Rmt[t]._mt;if(n)return n}}},{key:"C_t",get:function(){var t=this._mt;if(void 0!==t){var n=t-this.Jmt;return g.max(n,this.Zmt)}}},{key:"Zmt",get:function(){for(var t=0,n=this.Rmt;t<n.length;t++){var i=n[t].r_t;if(void 0!==i)return i}}},{key:"Ud",get:function(){return Boolean(this.zmt.Ud)}},{key:"Jmt",get:function(){var t=this.N6&&this.N6.zi.Zwt;return t?t.ldt():this._s===vW.nI?this.$mt:0}},{key:"$mt",get:function(){return this.zmt.$mt?this.zmt.$mt:1.5*this.Ywt.ldt()}},{key:"$dt",get:function(){return this.N6&&this.N6.$dt}},{key:"_s",get:function(){return this.N6?this.N6._s:void 0}}]),n}(Tu),mG=function(){function t(t,n,i,e,r){this.smt=void 0,this.smt=new gG(t,n,i,e,r)}return T(t,[{key:"v_t",get:function(){return this.smt}}]),t}(),yG=1e3,pG=g.pow(2,31)-1,_G=function(){function t(t,n,i,e,r,s){var u=this;this.wft=void 0,this.N6=void 0,this.tyt=void 0,this.nyt=void 0,this.iyt=void 0,this.eyt=new ou,this.$st=void 0,this.ryt=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=u.N6.v_t.Mmt(),e.next=4,Fr.awrap(u.syt(u.N6.v_t.Vwt,t));case 4:return i=e.sent,e.next=7,Fr.awrap(u.N6.v_t.tc(i,n,t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),Qb(e.t0)&&u.N6.v_t.Ymt(!1),e.t0;case 13:case"end":return e.stop()}},null,null,[[0,9]],qe)},this.wft=e,this.N6=new mG(t,n,i,this.eyt.js,s),this.$st=r}var n=t.prototype;return n.Mw=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.N6.v_t.$s(new ZC),n.prev=1,n.next=4,Fr.awrap(Hy(this.ryt,t));case 4:this.N6.v_t.Ymt(!0),n.next=13;break;case 7:throw n.prev=7,n.t0=n.catch(1),fu(n.t0),this.nyt=void 0,this.N6.v_t.Ymt(!1),new l("The provided MPEG-DASH document could not be loaded - "+n.t0.message);case 13:this.tyt=this.uyt(this.eyt.js);case 14:case"end":return n.stop()}},null,this,[[1,7]],qe)},n.uyt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(this.N6.v_t._s!==vW.nI){n.next=6;break}return n.next=4,Fr.awrap(vu(this.oyt,t));case 4:n.next=1;break;case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},null,this,[[0,8]],qe)},n.ayt=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(cu(t),!((n=this.hyt())>0)){e.next=6;break}return i=g.min(n,pG),e.next=6,Fr.awrap(_u(i,t));case 6:return e.prev=6,e.next=9,Fr.awrap(Hy(this.ryt,t,this.$st.maxRetries,this.$st.minimumBackoff,this.$st.maximumBackoff));case 9:this.N6.v_t.Ymt(!0),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(6),new l("The provided MPEG-DASH manifest could not be loaded - "+e.t0.message);case 15:return e.prev=15,this.iyt=void 0,e.finish(15);case 18:case"end":return e.stop()}},null,this,[[6,12,15,18]],qe)},n.hyt=function(){var t=this.N6.v_t.Mmt().getTime()-this.N6.v_t.Cmt.getTime();return this.N6.v_t.jwt-t},n.cyt=function(t){var n=this.N6.v_t.d_t();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.N6.v_t.nmt(t);var e=this.N6.v_t.d_t();return e?e.getTime()-t.getTime():NaN},n.fyt=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.iyt||(this.iyt=this.ayt(t)),(n=new ou).qs(t),i.prev=3,i.next=6,Fr.awrap(qe.race([this.iyt,this.vyt(n.js)].filter(H)));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),lu(i.t0);case 11:return i.prev=11,n.Gs(),i.finish(11);case 14:case"end":return i.stop()}},null,this,[[3,8,11,14]],qe)},n.vyt=function(t){var n=this.N6.v_t.Mmt(),i=this.cyt(n);if(!p(i)&&!this.p0.v_t.fgt)return this.lyt(i,t)},n.lyt=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(_u(t,n));case 2:i=this.N6.v_t.Mmt(),this.N6.v_t.nmt(i);case 4:case"end":return e.stop()}},null,this,null,qe)},n.syt=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.wft.lft(t,{},n,!1));case 2:return i=r.sent,e=new kq,r.abrupt("return",e.nvt(i.cft,i.dd));case 5:case"end":return r.stop()}},null,this,null,qe)},n.$c=function(){return this.eyt.Gs(),this.tyt=void 0,this.nyt=void 0,this.iyt=void 0,this.N6.v_t.$c(),qe.resolve()},T(t,[{key:"p0",get:function(){return this.N6}},{key:"dyt",get:function(){return this.nyt||(this.nyt=this.Mw(this.eyt.js),yu(this.nyt)),this.nyt}},{key:"oyt",get:function(){return this.N6.v_t.jmt&&this.N6.v_t._s===vW.nI?this.fyt(this.eyt.js):this.dyt}}]),t}(),bG=function(){function t(t,n,i){this.wft=t,this.wyt=n,this._yt=i}var n=t.prototype;return n.gyt=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.src){i.next=2;break}throw new l("Invalid typed source");case 2:if(!cy(n=t.type)){i.next=9;break}return i.next=6,Fr.awrap(this.myt(t));case 6:return i.abrupt("return",i.sent);case 9:if(!hy(n)){i.next=15;break}return i.next=12,Fr.awrap(this.yyt(t));case 12:return i.abrupt("return",i.sent);case 15:throw new l("Unexpected source type");case 16:case"end":return i.stop()}},null,this,null,qe)},n.myt=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(TW(t.src,this.wft));case 3:return n=i.sent,i.next=6,Fr.awrap(SW(n,this.wft));case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),new l("Unable to fetch HLS manifest");case 12:case"end":return i.stop()}},null,this,[[0,9]],qe)},n.yyt=function(t){var n;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new _G({yg:i.Mr(t.src),$mt:t.liveOffset,qmt:t.timeServer,Ud:t.useCredentials},this._yt,yw.qd,this.wft,zy,t.dash),e.next=4,Fr.awrap(n.dyt);case 4:return e.next=6,Fr.awrap(hW(n.p0.v_t,t.contentProtection,this.wyt));case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new l("Unable to fetch DASH manifest");case 12:case"end":return e.stop()}},null,this,[[0,9]],qe)},t}(),kG=function(){function t(t){this.kyt=void 0,this.pyt=[],this.byt=0,this.kyt=t}var n=t.prototype;return n.Ayt=function(){var t=new ta;return this.pyt.push(t),this.Tyt(),t.Gu},n.Syt=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(t);case 2:this.byt-=1,this.Tyt(),0===this.pyt.length&&0===this.byt&&n.Qu(!0);case 5:case"end":return i.stop()}},null,this,null,qe)},n.Tyt=function(){this.pyt.length>0&&this.byt<this.kyt&&(this.pyt.shift().Qu(),this.byt+=1)},t}();function AG(t,n){for(var i=0,e=0,r=t.AE.S1.map(function(t){return t.nm});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var TG=function(t){function n(n,i,e,r,s,u,o,a){var h;(h=t.call(this)||this).gft=void 0,h.rct=void 0,h.Wlt=void 0,h.Ift=void 0,h.Eyt=void 0,h.Iyt=new ta,h.Ryt=void 0,h.Dyt=void 0,h.wft=void 0,h.Nyt=void 0,h.wyt=void 0,h._yt=void 0,h.Om=void 0,h.sdt=void 0,h.Cyt=void 0,h.Pyt=sW.cdt,h.gft=n,h.rct=i,h.wft=e,h.Dyt=r,h.Nyt=s,h.wyt=u,h._yt=a,h.Wlt=o,h.Cyt=-1;var c=h.gft.VN.sources[0];return h.Ryt=c,h.Om=h.$m(),h.Eyt=new kG(h.gft.kc.parallelTasksThreshold),h}E(n,t);var e=n.prototype;return e.$m=function(){var t,n,i,e,r,s,u,o,a,h,c,f,l,v,d,w,m,y,p,_,b,k,A,T,S,E,I,R=this;return Fr.async(function(C){for(;;)switch(C.prev=C.next){case 0:return t=new bG(this.wft,this.wyt,this._yt),C.next=3,Fr.awrap(t.gyt(this.Ryt));case 3:return this.Ift=C.sent,n=this.gft.kc.amount,i=this.Ift.nm,e=uW(n,i),this.sdt=e,s=qU(this.Ift.wdt[0]),C.next=11,Fr.awrap(this.rct.Kht.jht(s,"manifestURL"));case 11:for(u=C.sent.filter(function(t){return Qs(t.references,R.gft.Y_)}),o=[],a=this.gft.kc.bandwidth,h=0,c=this.Ift.vdt;h<c.length;h++)for(f=c[h],l=0,v=f.mdt;l<v.length;l++)for(d=v[l],w=0,m=EG(d,this.gft.kc.preferredTrackSelection);w<m.length;w++)for(y=m[w],p=0,_=RG(y.J_,a);p<_.length;p++)b=_[p],o.push(b);if(this.Cyt=g.ceil(o.map(function(t){return t.vD*AG(t,e)/8}).reduce(function(t,n){return t+n},0)),k=Xr(),u&&0!==u.length){for(A=u.reduce(function(t,n){return t+n.byteSize},0),T=function(t){var n=u[t],i=n.qualityId,e=new TS(n.startsAndEnds);if(k.has(i))k.get(i).timeRanges=k.get(i).timeRanges.EC(e).SC(5e-4);else{var r,s=Ws(o,function(t){return t.Y_===i}),a=g.min(R.sdt,null!=(r=null==s?void 0:s.AE.nm)?r:1/0);k.set(i,{timeRanges:e,totalQualityDurationToCache:a})}},S=0;S<u.length;S++)T(S);r=new sW(A,k,this.sdt)}else{for(E=0;E<o.length;E++)I=o[E],k.set(I.Y_,{timeRanges:TS.qC(),totalQualityDurationToCache:g.min(I.AE.nm,this.sdt)});r=new sW(0,k,this.sdt)}this.Byt=r;case 19:case"end":return C.stop()}},null,this,null,qe)},e.Oyt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.Om);case 2:return n.next=4,Fr.awrap(this.xyt(this.Ift,t));case 4:return n.next=6,Fr.awrap(this.Iyt.Gu);case 6:case"end":return n.stop()}},null,this,null,qe)},e.xyt=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.wdt){u.next=2;break}throw new l("Unexpected - manifest is missing locations");case 2:return u.next=4,Fr.awrap(this.Lyt());case 4:for(i=[],e=0,r=t.vdt;e<r.length;e++)s=r[e],i.push(this.Myt(s,t.wdt[0],n));return u.abrupt("return",qe.all(i));case 7:case"end":return u.stop()}},null,this,null,qe)},e.Lyt=function(){var t,n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.Dyt.qht());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=25;break}return i=t[n],r.next=8,Fr.awrap(this.rct.Jht.Cu(i.key));case 8:if(!(e=r.sent)){r.next=14;break}return r.next=12,Fr.awrap(SG(e,this.gft.Y_,this.rct.Jht,this.Wlt));case 12:r.next=22;break;case 14:return r.prev=14,r.next=17,Fr.awrap(this.rct.Jht.Vht(i,this.Wlt));case 17:r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(14),new aW("Unable to store manifest with url: "+i.locationURL,r.t0);case 22:n++,r.next=4;break;case 25:return r.next=27,Fr.awrap(this.Dyt.Zht());case 27:case"end":return r.stop()}},null,this,[[14,19]],qe)},e.Myt=function(t,n,i){for(var e=[],r=0,s=t.mdt;r<s.length;r++)for(var u=EG(s[r],this.gft.kc.preferredTrackSelection),o=0;o<u.length;o++){var a=u[o];e.push(this.Uyt(a,n,i))}return qe.all(e)},e.Uyt=function(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.gft.kc.bandwidth,r=RG(t.J_,e),t._s!==gp.Pd||!t.pdt||!t.pdt.yI.widevine||"persistent"!==t.pdt.yI.widevine.licenseType){a.next=6;break}return a.next=5,Fr.awrap(this.Xyt(t.pdt));case 5:cu(i);case 6:for(s=[],u=0;u<r.length;u++)o=r[u],s.push(this.Hyt(o,n,i));return a.abrupt("return",qe.all(s));case 9:case"end":return a.stop()}},null,this,null,qe)},e.Hyt=function(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:cu(i),e=t.AE.S1[0].ck,r=e+this.sdt,s=0,u=t.AE.S1;case 4:if(!(s<u.length)){a.next=16;break}if(!((o=u[s]).ck>=r)){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Fr.awrap(this.Fyt(i));case 10:return a.next=12,Fr.awrap(this.Eyt.Ayt());case 12:yu(this.Eyt.Syt(this.zyt(o,t,n),this.Iyt));case 13:s++,a.next=4;break;case 16:case"end":return a.stop()}},null,this,null,qe)},e.Fyt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||!t.Os){n.next=4;break}return n.next=3,Fr.awrap(this.Iyt.Gu);case 3:throw new au;case 4:case"end":return n.stop()}},null,this,null,qe)},e.Vyt=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.Om);case 2:return t.abrupt("return",this.Ift);case 3:case"end":return t.stop()}},null,this,null,qe)},e.Xyt=function(t){return qe.resolve()},e.Wyt=function(){return i.Tr("License renewal unsupported in this SDK."),qe.resolve()},e.zyt=function(t,n,i){var e,r,s,u,o,a,h,c=this;return Fr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e=this.rct.Kht,r=GU(t.Adt.wd,t.Adt.qct),f.next=4,Fr.awrap(e.Cu(r));case 4:if(!(s=f.sent)){f.next=11;break}return f.next=8,Fr.awrap(SG(s,this.gft.Y_,e,this.Wlt));case 8:this.Gyt(s,!1),f.next=24;break;case 11:return f.prev=11,f.next=14,Fr.awrap(this.qyt(t.Adt));case 14:return u=f.sent,o=this.Yyt(t,n,i,u),a=o.segmentMetadataEntry,h=o.segmentEntry,f.next=18,Fr.awrap(this.rct.nct(function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.Kht.Vht(a,c.Wlt));case 2:return n.next=4,Fr.awrap(t.S1.Vht(h,c.Wlt));case 4:case"end":return n.stop()}},null,null,null,qe)}));case 18:this.Gyt(a,!0),f.next=24;break;case 21:throw f.prev=21,f.t0=f.catch(11),new aW("Unable to store segment with url: "+t.Adt.wd,f.t0);case 24:case"end":return f.stop()}},null,this,[[11,21]],qe)},e.qyt=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.Nyt.jyt(t,!1));case 2:return n=i.sent,i.next=5,Fr.awrap(this.Qyt(n));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},null,this,null,qe)},e.Qyt=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(t.Vl());case 2:return n=i.sent,i.abrupt("return",{buffer:n});case 4:case"end":return i.stop()}},null,null,null,qe)},e.Yyt=function(t,n,i,e){var r=GU(t.Adt.wd,t.Adt.qct),s=t.ck,u=t.nm,o=this.Zyt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:qU(i),qualityId:n.Y_,byteSize:o,startsAndEnds:new TS([s,s+u]).fC,references:[this.gft.Y_]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:qU(i),data:e,references:[this.gft.Y_]}}},e.Zyt=function(t){return t.buffer.byteLength},e.Gyt=function(t,n){var i=t.qualityId,e=this.Pyt,r=e.Xy;r.get(i).timeRanges=r.get(i).timeRanges.EC(new TS(t.startsAndEnds)).SC(5e-4),this.Byt=new sW(n?e.adt+t.byteSize:e.adt,r,this.sdt)},T(n,[{key:"Klt",get:function(){return this.$m()}},{key:"Kyt",get:function(){return this.Cyt}},{key:"Byt",get:function(){return this.Pyt},set:function(t){this.Pyt.Nk(t)||(this.Pyt=t,t.Nk(sW.cdt)||this.$s(new rW))}}]),n}(Tu);function SG(t,n,i,e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Qs(t.references,n)){r.next=4;break}return t.references.push(n),r.next=4,Fr.awrap(i.Vht(t,e));case 4:case"end":return r.stop()}},null,null,null,qe)}function EG(t,n){switch(t._s){case gp.Cd:return IG(t.hT,n.audioTrackSelection);case gp.ni:return IG(t.hT,n.textTrackSelection);default:return IG(t.hT,[])}}function IG(t,n){if(0===n.length)return t.length?[t[0]]:[];for(var i=[],e=0;e<t.length;e++){var r=t[e];n.indexOf(r.K_)>-1&&i.push(r)}return i}function RG(t,n){if(!t.length)return[];var i=[].concat(t).sort(iW),e=i.filter(function(t){return t.vD<=n});return e.length>0?[e.pop()]:[i.shift()]}var CG=function(){function t(t){this.qE=void 0,this.MX=new yf,this.qE=t}var n=t.prototype;return n.ld=function(t){var n=this,i=new ta;return this.MX.Kc(function(e){return n.Jyt(i,t,e)},t.js).catch(K),i.Gu},n.Hd=function(t){return this.qE.Hd(t)},n.Jyt=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return cu(i),e=new gw({wd:n.wd,js:i},n),r=this.qE.ld(e),t.qs(r),u.next=6,Fr.awrap(r);case 6:return s=u.sent,u.next=9,Fr.awrap(s.Jl());case 9:case"end":return u.stop()}},null,this,null,qe)},n.$c=function(){this.MX.$c()},t}(),DG=function(){function t(t,n){this.qE=void 0,this.$yt=void 0,this.V5=void 0,this.qE=t,this.$yt=new CG(t),this.V5=n}var n=t.prototype;return n.jyt=function(t,n,i){return this.A4(t,n,!0,!1,void 0,i)},n.v9=function(t,n,i,e){return this.A4(t,n,!1,!1,i,e)},n.tkt=function(t,n,i,e){return this.A4(t,n,!1,!0,i,e)},n.A4=function(n,i,e,r,s,u){var o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return cu(u),a.next=3,Fr.awrap(this.p9(n,e,r,s,u));case 3:if(o=a.sent,!i){a.next=8;break}return a.abrupt("return",t.nkt(o));case 8:return a.abrupt("return",this.ikt(o));case 9:case"end":return a.stop()}},null,this,null,qe)},n.ikt=function(t){return t},t.nkt=function(t){return t},n.p9=function(t,n,i,e,r){var s=new gw({wd:t.wd,hd:Of.fv,od:t.qct?{Range:"bytes="+t.qct[0]+"-"+t.qct[1]}:void 0,Ud:t.Ud,Od:fw.GET,_s:lw.kd,Ld:i?vw.Ad:vw.md,Md:this.V5,xd:e,js:r});return n?this.$yt.ld(s):this.qE.ld(s)},t}(),NG=function(){function t(t){this.qE=void 0,this.qE=t}return t.prototype.Ggt=function(t,n,i,e){var r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(this.qE.ld({wd:t,hd:Of.fv,od:{Range:"bytes="+n[0]+"-"+n[1]},Ud:i,Od:fw.GET,_s:lw.md,js:e}));case 2:return r=s.sent,s.next=5,Fr.awrap(r.Vl());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,qe)},t}(),PG=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).y9=void 0,r.y9=n,r}return E(n,t),n}(nn),xG=function(){function t(t){this.x6=void 0,this.x6=t}return t.prototype.Ggt=function(t,n,i,e){var r,s;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.x6.Y5(t,n));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.buffer);case 5:return i.next=7,Fr.awrap(this.x6.Y5(t));case 7:if(!(s=i.sent)){i.next=10;break}return i.abrupt("return",Yo(new _(s.buffer),n[0],n[1]));case 10:throw new PG({wd:t,qct:n,Ud:!1});case 11:case"end":return i.stop()}},null,this,null,qe)},t}(),BG={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new TS([0,0]).fC,references:[]},OG={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},LG=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).ekt=void 0,u.rkt=void 0,u.rct=void 0,u.Wlt=void 0,u.ekt=new NG(i),u.rct=e,u.rkt=r,u.Wlt=s,u}E(n,t);var i=n.prototype;return i.Ggt=function(n,i,e,r){var s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Fr.awrap(t.prototype.Ggt.call(this,n,i,e,r));case 3:return u.abrupt("return",u.sent);case 6:u.prev=6,u.t0=u.catch(0),fu(u.t0);case 9:return u.next=11,Fr.awrap(this.ekt.Ggt(n,i,e,r));case 11:return s=u.sent,u.next=14,Fr.awrap(this.skt(n,i,s));case 14:return u.abrupt("return",s);case 15:case"end":return u.stop()}},null,this,[[0,6]],qe)},i.skt=function(t,i,e){var r,s,u,o,a,h,c,f=this;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(void 0!==this.rkt){l.next=2;break}return l.abrupt("return");case 2:return r=this.rct.Kht,s=GU(t,i),l.next=6,Fr.awrap(r.Cu(s));case 6:if(!(u=l.sent)){l.next=12;break}return l.next=10,Fr.awrap(SG(u,this.rkt,r,this.Wlt));case 10:l.next=22;break;case 12:return l.prev=12,o={buffer:e},a=n.Yyt(s,o,this.rkt),h=a.segmentMetadataEntry,c=a.segmentEntry,l.next=17,Fr.awrap(this.rct.nct(function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.Kht.Vht(h,f.Wlt));case 2:return n.next=4,Fr.awrap(t.S1.Vht(c,f.Wlt));case 4:case"end":return n.stop()}},null,null,null,qe)}));case 17:l.next=22;break;case 19:throw l.prev=19,l.t0=l.catch(12),new aW("Unable to store segment with url: "+t,l.t0);case 22:case"end":return l.stop()}},null,this,[[12,19]],qe)},n.Yyt=function(t,n,i){return{segmentMetadataEntry:Ur({},BG,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:Ur({},OG,{key:t,segmentURLsegmentByteRange:t,data:n,references:[i]})}},n}(xG);var MG=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.ukt=function(t,n,e,r,s,u,o){return new TG(t,n,e,r,s,u,o,(h=j.In||j.Sn,c=void 0!==a&&void 0!==a.preferredAudioCodecs&&a.preferredAudioCodecs.some(function(t){return"ec-3"===t}),f=h&&!c,function(t){var n,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=t.Gl,MediaSource.isTypeSupported(e)||ek(t.DO,t.kz)){u.next=3;break}return u.abrupt("return",!1);case 3:if(!f||-1===(null==(n=t.dr)?void 0:n.indexOf("ec-3"))){u.next=5;break}return u.abrupt("return",!1);case 5:if(!t.G1){u.next=13;break}return r=t.G1,s=Js(r,function(t){return _s(t.U1)}).filter(H),u.next=10,Fr.awrap(ru(s,function(t){return i.xr(t,e)}));case 10:if(u.sent){u.next=13;break}return u.abrupt("return",!1);case 13:return u.abrupt("return",!0);case 14:case"end":return u.stop()}},null,null,null,qe)}));var a,h,c,f},n}(function(){function t(t){this.qE=t}return t.prototype.pJ=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.VN.sources[0].useCredentials),r=new DG(this.qE,dw.md),s=new PH(this.qE,e),u=new YU(n.Jht,n.Kht,n.S1,n.tct),o=function(t,n,i,e,r){return new LG(n,t,i,e,r)}(this.qE,u,n,t.Y_,i),a=new eH,h=new MH(LH(s,u),a,t);return this.ukt(t,n,h,a,r,o,i)},t}());function jG(t){var n,i={get id(){return t.Y_},get status(){return t.ud},get source(){return t.VN},get parameters(){return t.kc},get duration(){return t.nm},get cached(){return t.okt.SN()},get secondsCached(){return t.akt},get percentageCached(){return t.hkt},get bytes(){return t.ckt},get bytesCached(){return t.fkt},get license(){return t.qO.o_},start:function(){t.oC()},pause:function(){t.qm()},remove:function(){t.$h()},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.au(t,i)}};return n=new LR(t,["idt","Plt"],i),i}var FG=function(){function t(t,n,i){this.gft=t,this.rct=n,this.Ift=i}var n=t.prototype;return n.vkt=function(){var t=this;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.rct.nct(function(n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(t.lkt(n));case 2:return i.next=4,Fr.awrap(t.dkt(n));case 4:return i.next=6,Fr.awrap(t.wkt(n));case 6:return i.next=8,Fr.awrap(t._kt(n));case 8:case"end":return i.stop()}},null,null,null,qe)}));case 2:case"end":return n.stop()}},null,this,null,qe)},n.lkt=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$ht,i=this.gft.Y_,e.next=4,Fr.awrap(n.$h(i));case 4:case"end":return e.stop()}},null,this,null,qe)},n.dkt=function(t){var n,i,e,r,s,u,o,a=this;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(n=t.Kht,i=t.S1,dy(e=this.gft.VN.sources[0])){h.next=5;break}return h.abrupt("return");case 5:return r=qU(e.src),h.next=8,Fr.awrap(n.jht(r,"manifestURL"));case 8:s=h.sent.filter(function(t){return Qs(t.references,a.gft.Y_)}),u=0;case 10:if(!(u<s.length)){h.next=25;break}if($s((o=s[u]).references,this.gft.Y_),0!==o.references.length){h.next=20;break}return h.next=16,Fr.awrap(n.$h(o.key));case 16:return h.next=18,Fr.awrap(i.$h(o.key));case 18:h.next=22;break;case 20:return h.next=22,Fr.awrap(n.Vht(o));case 22:u++,h.next=10;break;case 25:case"end":return h.stop()}},null,this,null,qe)},n.wkt=function(t){var n,i,e,r,s,u=this;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.Jht,i=this.gkt(),o.next=4,Fr.awrap(n.Fht(i));case 4:e=o.sent.filter(function(t){return Qs(t.references,u.gft.Y_)}),r=0;case 6:if(!(r<e.length)){o.next=19;break}if($s((s=e[r]).references,this.gft.Y_),0!==s.references.length){o.next=14;break}return o.next=12,Fr.awrap(n.$h(s.key));case 12:o.next=16;break;case 14:return o.next=16,Fr.awrap(n.Vht(s));case 16:r++,o.next=6;break;case 19:case"end":return o.stop()}},null,this,null,qe)},n.gkt=function(){if(!this.Ift)return[];var t=this.gft.VN.sources[0];if(!dy(t))return[];var n=qU(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.vdt;i<e.length;i++)for(var r=0,s=e[i].mdt;r<s.length;r++)for(var u=0,o=s[r].hT;u<o.length;u++)for(var a=0,h=o[u].J_;a<h.length;a++){var c=h[a];c.Pdt&&n.push(c.Pdt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.Ift).map(function(t){return{src:t}}).map(function(t){return qU(t.src)});return[n].concat(i)},n._kt=function(t){var n,i,e,r,s=this;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.tct,u.next=3,Fr.awrap(n.qht());case 3:i=u.sent.filter(function(t){return Qs(t.references,s.gft.Y_)}),e=0;case 5:if(!(e<i.length)){u.next=19;break}if($s((r=i[e]).references,this.gft.Y_),0!==r.references.length){u.next=14;break}return u.next=11,Fr.awrap(n.$h(r.key));case 11:this.mkt(r),u.next=16;break;case 14:return u.next=16,Fr.awrap(n.Vht(r));case 16:e++,u.next=5;break;case 19:case"end":return u.stop()}},null,this,null,qe)},n.mkt=function(t){},t}(),UG=new(function(){function t(){}return t.prototype.pJ=function(t,n,i){return new FG(t,n,i)},t}());var HG=function(){function t(t,n){this.u_=void 0,this.Xw=t,this.ykt=n}var n=t.prototype;return n.kkt=function(t){this.pkt(t)},n.pkt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Fr.awrap(this.ykt.Wyt(t));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),this.Xw.Ylt(VV.ERROR);case 9:case"end":return n.stop()}},null,this,[[0,5]],qe)},T(t,[{key:"o_",get:function(){var t;return this.u_||(this.u_=(t=this,{renew:function(n){t.kkt(n)}})),this.u_}}]),t}(),XG=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this)||this).Uh=void 0,o.Vlt=void 0,o.u_=void 0,o.Rst=void 0,o.bkt=void 0,o.rct=void 0,o.ykt=void 0,o.Akt=new ou,o.Tkt=void 0,o.evictOnLoading=function(){o.au("Plt",o.evictOnLoading),o.Skt()},o.Uh=n,o.Rst=i,o.bkt=e,o.rct=r,o.ykt=s.pJ(Jt(o),o.rct,u),o.Tkt=new HG(Jt(o),o.ykt),o.Vlt=1===o.ykt.Byt.hdt?VV.DONE:VV.IDLE,o.ykt.tu("idt",function(t){o.Js(t),1===o.hkt&&o.Ylt(VV.DONE)});var h=new Date,c=o.bkt.expirationDate.getTime()-h.getTime();return c<2147483647&&a(function(){return o.Skt()},c),o}E(n,t);var i=n.prototype;return i.Ylt=function(t){this.Vlt!==t&&(this.Vlt=t,this.$s(new qV))},i.oC=function(){this.Vlt===VV.EVICTED||this.Vlt===VV.DONE||this.Ekt()},i.Ekt=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.Ylt(VV.LOADING),t=new ou,this.Akt=t,n.next=6,Fr.awrap(this.ykt.Oyt(t.js));case 6:this.Ylt(VV.DONE),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),hu(n.t0)?this.Ylt(VV.IDLE):this.Ylt(VV.ERROR);case 12:return n.prev=12,this.Akt.Xs(),n.finish(12);case 15:case"end":return n.stop()}},null,this,[[0,9,12,15]],qe)},i.qm=function(){this.Akt.Gs()},i.$h=function(){this.ud===VV.LOADING?(this.tu("Plt",this.evictOnLoading),this.qm()):this.Skt()},i.Skt=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Fr.awrap(this.ykt.Vyt());case 3:return t=n.sent,n.next=6,Fr.awrap(UG.pJ(this,this.rct,t).vkt());case 6:this.ykt.Byt=sW.cdt,this.Ylt(VV.EVICTED),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),this.Ylt(VV.ERROR);case 14:case"end":return n.stop()}},null,this,[[0,10]],qe)},T(n,[{key:"Klt",get:function(){return this.ykt.Klt}},{key:"o_",get:function(){return this.u_||(this.u_=jG(this)),this.u_}},{key:"Y_",get:function(){return this.Uh}},{key:"qO",get:function(){return this.Tkt}},{key:"ud",get:function(){return this.Vlt}},{key:"VN",get:function(){return this.Rst}},{key:"kc",get:function(){return this.bkt}},{key:"nm",get:function(){return this.ykt.Byt.zC}},{key:"okt",get:function(){return this.ykt.Byt.odt}},{key:"akt",get:function(){return this.ykt.Byt.udt}},{key:"hkt",get:function(){return this.ykt.Byt.hdt}},{key:"ckt",get:function(){return this.ykt.Kyt}},{key:"fkt",get:function(){return this.ykt.Byt.adt}}]),n}(Ym);var zG=function(){function t(t,n){this.rct=t,this.Ikt=n}var n=t.prototype;return n.Jlt=function(t,n,i){var e=gI();return this.Qlt(e,t,n,i)},n.Qlt=function(t,n,i,e){return new XG(t,n,i,this.rct,this.Ikt,e)},t}(),VG=30,WG=5;function qG(t){if(!t)throw new l("Unexpected - The cache parameters are undefined");var n=function(t){if(G(t)&&!ks(t,"%"))return m(t);return t}(t.amount);!function(t){if(i=t,G(i)&&ks(i,"%")){var n=y(t);if(p(n)||n<0||n>100)throw new l("The amount as percentage must be between 0 and 100 percent.")}var i;if(!G(t)&&p(t))throw new l("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+VG),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(Q(n)&&n>new Date)))throw new l("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);!function(t){if(p(t)||t<0)throw new l("The bandwidth must be between zero and infinity.")}(e);return{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return WG;if(p(t))throw new l("The amount must be a number");return t}(t.numberOfParallelTasks),preferredTrackSelection:{audioTrackSelection:[],textTrackSelection:[]}}}var GG,$G,YG,QG,ZG,KG,JG=function(t){function n(n,i){var e;return(e=t.call(this)||this).u_=void 0,e.Rkt=n,e.nX=i,e.Rkt.tu("Plt",e.Js),e}return E(n,t),n.prototype.Dkt=function(t,n,i){var e,r;if(!t)throw new l("Unexpected - The source description is undefined");if(e=ME(t),r=qG(n),SE(e))throw new l("Invalid source description");return this.Rkt.Qlt(e,r).o_},T(n,[{key:"o_",get:function(){var t,n,i;return this.u_||(this.u_=(i={get status(){return t.ud},get tasks(){return t.ndt},get network(){return t.dX.o_},createTask:function(n,i){return t.Dkt(n,i)},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.au(t,i)}},n=new MR(t=this,i),i)),this.u_}},{key:"ud",get:function(){return this.Rkt.ud}},{key:"ndt",get:function(){return this.Rkt.ndt.o_}},{key:"dX",get:function(){return this.nX}}]),n}(Ym);(GG=new mR(i.n_,!1),$G=hH.jn,YG=new MG(GG),QG=new zG($G,YG),ZG=new pR(GG),KG=new nW($G.$ht,QG,"persistent"),new JG(KG,ZG)).o_;var t$=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Uh=void 0,s.Vlt=void 0,s.u_=void 0,s.Rst=void 0,s.bkt=void 0,s.ma=0,s.Nkt=TS.qC(),s.Ckt=0,s.Pkt=0,s.Rkt=void 0,s.Uh=n,s.Vlt=VV.IDLE,s.Rst=i,s.bkt=e,s.Rkt=r,s}E(n,t);var i=n.prototype;return i.oC=function(){this.Rkt.startCachingTask(this)},i.$h=function(){this.Rkt.removeCachingTask(this)},T(n,[{key:"o_",get:function(){return this.u_||(this.u_=jG(this)),this.u_}},{key:"Y_",get:function(){return this.Uh}},{key:"ud",get:function(){return this.Vlt},set:function(t){this.Vlt!==t&&(this.Vlt=t,this.$s(new qV))}},{key:"VN",get:function(){return this.Rst}},{key:"kc",get:function(){return this.bkt}},{key:"nm",get:function(){return this.ma},set:function(t){this.ma=t}},{key:"okt",get:function(){return this.Nkt},set:function(t){this.Nkt=t}},{key:"akt",get:function(){return this.Ckt},set:function(t){this.Ckt=t}},{key:"hkt",get:function(){return this.Pkt},set:function(t){this.Pkt=t,this.$s(new rW)}}]),n}(Qm),n$=30;function i$(t){var n,i,e;if(!t)throw new l("Unexpected - The cache parameters are undefined");if(t.expirationDate?i=t.expirationDate:(i=new Date).setMinutes(i.getMinutes()+n$),i&&((e=i)&&!(Q(e)&&e>new Date)))throw new l("Invalid expiration date for the cache parameters");return{expirationDate:i,allowsCellularAccess:null==(n=t.allowsCellularAccess)||n}}var e$=function(t){function n(){var n;return(n=t.call(this)||this).Vlt=YV.UNINITIALISED,n.Gc=new tW,n.dvt=void 0,n.Pvt=void 0,n.Bkt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.ud=VV.EVICTED,i.hkt=0,i.akt=0,i.nm=0,i.okt=TS.qC(),n.Gc.$h(i))}},n.Okt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.ud=e);var r=t.detail.percentage;r&&(i.hkt=r);var s=t.detail.duration;s&&(i.nm=s);var u=t.detail.seconds;u&&(i.akt=u);var o=t.detail.cached;if(o){for(var a=[],h=0;h<o.length;h++){var c=o[h];a.push(c.start,c.end)}i.okt=new TS(a)}}}},n.xkt=function(t){var i;if(t.detail){var e=ME(JSON.parse(t.detail.source));if(!n.Lkt(e)){var r={},s=t.detail.expirationDate;s&&(r={expirationDate:new Date(s)}),r=Ur({},r,{allowsCellularAccess:null==(i=t.detail.allowsCellularAccess)||i});var u=t.detail.uuid;n.Qlt(e,i$(r),u)}}},n.Mkt=function(t){var i;if(t.detail){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)}),e=Ur({},e,{allowsCellularAccess:null==(i=t.detail.allowsCellularAccess)||i});var s=JSON.parse(t.detail.source),u=t.detail.uuid,o=n.Qlt(ME(s),i$(e),u);o.ud=t.detail.status,o.hkt=t.detail.percentage,o.nm=t.detail.duration,o.akt=t.detail.seconds;for(var a=t.detail.cached,h=[],c=0;c<a.length;c++){var f=a[c];h.push(f.start,f.end)}o.okt=new TS(h)}},n.Ukt=function(t){t.detail&&n.Ylt(t.detail.status)},n.dvt=new UV,n.Pvt=new mV,fV().cache={sdkEventBus:n.Pvt},n.Ilt(),n}E(n,t);var i=n.prototype;return i.Ylt=function(t){this.Vlt!==t&&(this.Vlt=t,this.$s(new qV))},i.Qlt=function(t,n,i){void 0===i&&(i=void 0);var e=new t$(i||gI(),t,n,this);return this.Gc.Hy(e),i||this.dvt.oJ("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e.Y_}),e},i.findTaskWithId=function(t){for(var n=0,i=this.Gc.Olt;n<i.length;n++){var e=i[n];if(e.Y_===t)return e}},i.Lkt=function(t){for(var n=s$(t.sources),i=0,e=this.Gc.Olt;i<e.length;i++){if(s$(e[i].VN.sources).src===n.src)return!0}return!1},i.Ilt=function(){this.Pvt.addEventListener("deleteTask",this.Bkt),this.Pvt.addEventListener("updateValues",this.Okt),this.Pvt.addEventListener("newTask",this.xkt),this.Pvt.addEventListener("restoreTask",this.Mkt),this.Pvt.addEventListener("setCacheStatus",this.Ukt)},i.startCachingTask=function(t){this.dvt.oJ("THEOplayerCacheStartCachingTask",{id:t.Y_})},i.removeCachingTask=function(t){this.dvt.oJ("THEOplayerCacheRemoveCachingTask",{id:t.Y_})},T(n,[{key:"ud",get:function(){return this.Vlt}},{key:"ndt",get:function(){return this.Gc}}]),n}(Tu),r$=function(t){function n(n){var i;return(i=t.call(this,n)||this).Xkt=n,i.Xkt.tu("Plt",i.Js),i}return E(n,t),n.prototype.Dkt=function(t,n){var i,e;if(!t)throw new l("Unexpected - The source description is undefined");if(i=ME(t),e=i$(n),SE(i))throw new l("Invalid source description");if(!s$(i.sources))throw new l("The provided sources can't be cached");return this.Xkt.Qlt(i,e).o_},n}(JG);function s$(t){for(var n=0;n<t.length;n++){var i=t[n];if(cy(i.type))return i}}var u$,o$,a$,h$=function(){var t=new e$;return new r$(t)}().o_;!function(t){t.Hkt="any",t.Fkt="natural",t.zkt="landscape",t.Vkt="portrait",t.Wkt="portrait-primary",t.Gkt="portrait-secondary",t.qkt="landscape-primary",t.Ykt="landscape-secondary"}(u$||(u$={})),function(t){t.Wkt="portrait-primary",t.Gkt="portrait-secondary",t.qkt="landscape-primary",t.Ykt="landscape-secondary"}(o$||(o$={}));var c$,f$,l$=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).dvt=new UV,n.jkt=u$.Fkt,n.Qkt=o$.Wkt,n.Zkt=o$.Wkt,n.Kkt=o$.Wkt,n}E(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,e){n.jkt=t,n.dvt.oJ("THEOplayerOrientationLock",t),n.Jkt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.jkt=u$.Fkt,t.dvt.oJ("THEOplayerOrientationUnlock"),t.type=t.Zkt,t.Jkt(),n()})},i.Jkt=function(){var t=this.Kkt,n=this.type;t!==n&&(this.Kkt=n,this.$s(new Eu("change")))},i.addEventListener=function(t,n){this.tu(t,n)},i.removeEventListener=function(t,n){this.au(t,n)},n.$kt=function(t){switch(t){case u$.Wkt:return[o$.Wkt];case u$.Gkt:return[o$.Gkt];case u$.Vkt:return[o$.Wkt,o$.Gkt];case u$.qkt:return[o$.qkt];case u$.Ykt:return[o$.Ykt];case u$.zkt:return[o$.qkt,o$.Ykt];case u$.Fkt:return[o$.Wkt,o$.qkt,o$.Ykt];case u$.Hkt:return[o$.Wkt,o$.Gkt,o$.qkt,o$.Ykt]}},n.tpt=function(t,i){return n.$kt(i).indexOf(t)>=0},T(n,[{key:"type",get:function(){return this.Qkt},set:function(t){this.Zkt=t,n.tpt(t,this.jkt)?(this.Qkt=t,this.Jkt()):(t===o$.qkt&&this.jkt===u$.Ykt&&(this.Qkt=o$.Ykt,this.Jkt()),t===o$.Ykt&&this.jkt===u$.qkt&&(this.Qkt=o$.qkt,this.Jkt()))}},{key:"angle",get:function(){switch(this.type){case o$.qkt:return-90;case o$.Ykt:return 90;case o$.Wkt:return 0;case o$.Gkt:return 180;default:return 0}}}]),n}(Qm);l$.jn=new l$,null!=(a$=r.screen).orientation||(a$.orientation=l$.jn),o&&-1===o.userAgent.indexOf("OS 9")&&w.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.npt="unavailable",t.ipt="available",t.ept="presenting"}(c$||(c$={})),wC(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return E(n,t),n.prototype.Qm=function(n){t.prototype.Qm.call(this,n);var i=this.o_;this.o_.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===c$.ept?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(u$.Ykt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},oC.gX),function(t){t.i_="addtrack",t.r_="removetrack",t.k_="change",t.E_="update"}(f$||(f$={}));var v$=function(t,n,i){this.type=f$.k_,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},d$=function(t,n){this.type=f$.i_,this.mediaType=t,this.mediaTrack=n},w$=function(t,n){this.type=f$.r_,this.mediaType=t,this.mediaTrack=n},g$=function(t,n){this.type=f$.E_,this.mediaType=t,this.mediaTrack=n},m$=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.rpt=function(t){var n=new v$(e.type,t.track,e.mediaTracks);e.messageDispatcher.spt(n)},this.upt=function(t){var n=new d$(e.type,t.track);e.messageDispatcher.spt(n),t.track.addEventListener("update",e.apt)},this.hpt=function(t){var n=new w$(e.type,t.track);e.messageDispatcher.spt(n)},this.apt=function(t){var n=new g$(e.type,t.track);e.messageDispatcher.spt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.Ilt()}return t.prototype.Ilt=function(){this.mediaTracks.addEventListener("change",this.rpt),this.mediaTracks.addEventListener("addtrack",this.upt),this.mediaTracks.addEventListener("removetrack",this.hpt)},t}(),y$=function(){function t(){this.cpt=void 0,this.cpt=new UV}return t.prototype.spt=function(t){this.cpt.oJ(t.type,QH(t))},t}();_C(function(t){if(t.o_.audioTracks){var n=new y$;new m$("audio",t.o_.audioTracks,n)}if(t.o_.videoTracks){var i=new y$;new m$("video",t.o_.videoTracks,i)}});var p$,_$="nativePromiseCallback",b$=function(t){function n(n){var i;return(i=t.call(this,_$)||this).detail=n,i}return E(n,t),n}(Eu);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(p$||(p$={}));var k$=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.$s(new b$(n))},i.addEventListener=function(t,n){this.tu(t,n)},i.removeEventListener=function(t,n){this.au(t,n)},n}(mV),A$=function(){function t(){var t=this;this.cpt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new l("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case p$.RESOLVE:i.Qu(n.detail.data);break;case p$.REJECT:i.Zu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new k$;fV().nativePromise={sdkEventBus:n},n.addEventListener(_$,this.handleNativePromiseEvent)}return t.prototype.fpt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=Ur({},n,{promiseId:e}),s=new ta;return this.promisesMap[e]=s,null==(i=this.cpt)||i.oJ(n.type,$H(r)),s.Gu},t}();A$.messageIdTracker=-1;var T$,S$=function(t){function n(){var n;return(n=t.call(this)||this).cpt=new UV,n}return E(n,t),n}(A$),E$=function(){function n(t){this.playerID=t}return n.prototype.oJ=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),I$=function(t){function n(n){var i;return(i=t.call(this)||this).cpt=new E$(n),i}return E(n,t),n}(A$);!function(t){t.i_="TextTrackListAddTrack",t.r_="TextTrackListRemoveTrack",t.k_="TextTrackListChange"}(T$||(T$={}));var R$,C$=function(t){this.type=T$.i_,this.textTrack=t},D$=function(t){this.type=T$.r_,this.textTrack=t},N$=function(t){this.type=T$.k_,this.textTrack=t};!function(t){t.c_="TextTrackAddCue",t.v_="TextTrackRemoveCue",t.d_="TextTrackEnterCue",t.__="TextTrackExitCue",t.m_="TextTrackCueChange"}(R$||(R$={}));var P$,x$=function(t,n){this.type=R$.c_,this.textTrackCue=t,this.textTrackUid=n},B$=function(t,n){this.type=R$.v_,this.textTrackCue=t,this.textTrackUid=n},O$=function(t,n){this.type=R$.d_,this.textTrackCue=t,this.textTrackUid=n},L$=function(t,n){this.type=R$.__,this.textTrackCue=t,this.textTrackUid=n},M$=function(t){this.type=R$.m_,this.textTrackUid=t};!function(t){t.$y="TextTrackCueEnter",t.ek="TextTrackCueExit",t.E_="TextTrackCueUpdate"}(P$||(P$={}));var j$=function(t){this.type=P$.$y,this.textTrackCue=t},F$=function(t){this.type=P$.ek,this.textTrackCue=t},U$=function(t){this.type=P$.E_,this.textTrackCue=t},H$=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.vpt=function(t){var i=X$(t.cue),e=new j$(i);n.messageDispatcher.fpt(e).then()},this.lpt=function(t){var i=X$(t.cue),e=new F$(i);n.messageDispatcher.fpt(e).then()},this.dpt=function(t){var i=X$(t.cue),e=new U$(i);n.messageDispatcher.fpt(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.Ilt=function(t){t.addEventListener("enter",this.vpt),t.addEventListener("exit",this.lpt),t.addEventListener("update",this.dpt)},n.vu=function(t){t.removeEventListener("enter",this.vpt),t.removeEventListener("exit",this.lpt),t.removeEventListener("update",this.dpt)},t}();function X$(t){var n=rV(t,t.track.type);return delete n.track,n}var z$=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.wpt=function(t){var n,e=X$(t.cue),r=new x$(e,t.cue.track.uid);i.messageDispatcher.fpt(r).then(),null==(n=i.textTrackCueBridge)||n.Ilt(t.cue)},this._pt=function(t){var n,e=X$(t.cue),r=new B$(e,t.cue.track.uid);i.messageDispatcher.fpt(r).then(),null==(n=i.textTrackCueBridge)||n.vu(t.cue)},this.vpt=function(t){var n=X$(t.cue),e=new O$(n,t.cue.track.uid);i.messageDispatcher.fpt(e).then()},this.lpt=function(t){var n=X$(t.cue),e=new L$(n,t.cue.track.uid);i.messageDispatcher.fpt(e).then()},this.gpt=function(t){var n=new M$(t.track.uid);i.messageDispatcher.fpt(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new H$(e))}var n=t.prototype;return n.Ilt=function(t){t.addEventListener("addcue",this.wpt),t.addEventListener("removecue",this._pt),t.addEventListener("entercue",this.vpt),t.addEventListener("exitcue",this.lpt),t.addEventListener("cuechange",this.gpt)},n.vu=function(t){t.removeEventListener("addcue",this.wpt),t.removeEventListener("removecue",this._pt),t.removeEventListener("entercue",this.vpt),t.removeEventListener("exitcue",this.lpt),t.removeEventListener("cuechange",this.gpt)},n.initMessageDispatcher=function(t){return j.Wn?new S$:j.Gn&&void 0!==t?new I$(t):void 0},t}(),V$=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.upt=function(t){var n,i=new C$(t.track);e.messageDispatcher.fpt(i).then(),null==(n=e.textTrackBridge)||n.Ilt(t.track)},this.hpt=function(t){var n,i=new D$(t.track);e.messageDispatcher.fpt(i).then(),null==(n=e.textTrackBridge)||n.vu(t.track)},this.mpt=function(t){var n=new N$(t.track);e.messageDispatcher.fpt(n).then()},this.ypt=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.kpt(i);r&&(this.textTrackBridge=new z$(r,i)),this.Ilt(),this.sdkEventBus=new mV,fV().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.ypt)}var n=t.prototype;return n.Ilt=function(){this.textTracks.addEventListener("addtrack",this.upt),this.textTracks.addEventListener("removetrack",this.hpt),this.textTracks.addEventListener("change",this.mpt)},n.kpt=function(t){return j.Wn?new S$:j.Gn&&void 0!==t?new I$(t):void 0},t}();_C(function(t){if(t.o_.textTracks){var n=new S$;new V$(t.o_.textTracks,n)}});var W$,q$,G$=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case W$.ppt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.$s(new $$(i));break;default:0}},n}(mV),$$=function(t){function n(n){var i;return(i=t.call(this,W$.ppt)||this).detail=n,i}return E(n,t),n}(Eu);!function(t){t.ppt="registerContentProtectionIntegration"}(W$||(W$={})),function(t){t.bpt="certifiateRequest",t.Apt="certifiateResponse",t.Tpt="licenseRequest",t.Spt="licenseResponse",t.Ept="extractFairplayContentId",t.Ipt="buildContentProtection",t.Rpt="registerContentProtectionCallback"}(q$||(q$={}));var Y$,Q$=function(t,n){this.type=q$.Rpt,this.value=t,this.integrationId=n};!function(t){t.GALLERY="gallery",t.OVERLAY="overlay",t.SPOTLIGHT="spotlight"}(Y$||(Y$={}));var Z$=function(t,n){this.type=q$.Ipt,this.value=t,this.integrationId=n},K$=function(t,n){this.type=q$.bpt,this.value=t,this.integrationId=n},J$=function(t,n){this.type=q$.Apt,this.value=t,this.integrationId=n},tY=function(t,n){this.type=q$.Ept,this.value=t,this.integrationId=n},nY=function(t,n){this.type=q$.Tpt,this.value=t,this.integrationId=n},iY=function(t,n){this.type=q$.Spt,this.value=t,this.integrationId=n},eY=function(){function t(t,n){this.Dpt=void 0,this.nR=void 0,this.Dpt=t,this.nR=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e=new K$(i,this.nR),a.prev=2,a.next=5,Fr.awrap(this.Dpt.fpt(e));case 5:if(!(r=a.sent)){a.next=16;break}if(s=JSON.parse(r),!this.Npt(s)){a.next=13;break}return u=Ur({},s),a.abrupt("return",u);case 13:if(!this.Cpt(s)){a.next=16;break}return o=new _(s),a.abrupt("return",o);case 16:throw new fp(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw a.prev=19,a.t0=a.catch(2),new fp(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 22:case"end":return a.stop()}},null,this,[[2,19]],qe)},i.onCertificateResponse=function(t){var i,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new J$(e,this.nR),o.next=5,Fr.awrap(this.Dpt.fpt(r));case 5:if(!(s=o.sent)){o.next=11;break}return u=JSON.parse(s),o.abrupt("return",new _(u));case 11:throw new fp(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,qe)},i.onLicenseRequest=function(t){var i,e,r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new nY(e,this.nR),h.prev=3,h.next=6,Fr.awrap(this.Dpt.fpt(r));case 6:if(!(s=h.sent)){h.next=17;break}if(u=JSON.parse(s),!this.Npt(u)){h.next=14;break}return o={url:u.url,method:u.method,headers:u.headers,body:u.body?new _(u.body):null,useCredentials:u.useCredentials,fairplaySkdUrl:u.fairplaySkdUrl},h.abrupt("return",o);case 14:if(!this.Cpt(u)){h.next=17;break}return a=new _(u),h.abrupt("return",a);case 17:throw new fp(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw h.prev=20,h.t0=h.catch(3),new fp(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,h.t0);case 23:case"end":return h.stop()}},null,this,[[3,20]],qe)},i.onLicenseResponse=function(t){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=Ur({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},s=new iY(r,this.nR),a.next=6,Fr.awrap(this.Dpt.fpt(s));case 6:if(!(u=a.sent)){a.next=12;break}return o=JSON.parse(u),a.abrupt("return",new _(o));case 12:throw new fp(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return a.stop()}},null,this,null,qe)},i.extractFairplayContentId=function(t){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new tY(t,this.nR),r.next=3,Fr.awrap(this.Dpt.fpt(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",qe.reject(new fp(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,qe)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.Npt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.Cpt=function(t){return!!new _(t)},t}(),rY=function(){function t(t){this.Dpt=void 0,this.Dpt=t}return t.prototype.build=function(t){if(!t.integration)throw new l("integrationId is undefined");var n=new eY(this.Dpt,t.integration),i=new Z$({drmConfiguration:t},t.integration);return this.Dpt.fpt(i),n},t}(),sY=function(t){function n(){var n;return(n=t.call(this)||this).Dpt=new S$,n}return E(n,t),T(n,[{key:"messageDispatcher",get:function(){return this.Dpt}}]),n}(function(){var t=this;this.Pvt=void 0,this.Ppt=function(n){var i=new rY(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:aA.oR.eR(r,s,i)};t.messageDispatcher.fpt(new Q$(u,r))},this.Pvt=new G$,fV().contentProtectionIntegration={sdkEventBus:this.Pvt},this.Pvt.addEventListener(W$.ppt,this.Ppt)});_C(function(t){new sY});var uY=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return E(n,t),n}(Eu);var oY,aY=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Bpt=function(){},e.Opt(),e}E(n,t);var e=n.prototype;return e.xpt=function(){this.KN&&this.KN.au(Bf.Af,this.handleAirplayChangedEvent),this.KN=this.PL,this.KN.tu(Bf.Af,this.handleAirplayChangedEvent)},e.Lpt=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.KN){t.next=2;break}return t.abrupt("return");case 2:this.Mpt(sE.CONNECTED);case 3:case"end":return t.stop()}},null,this,null,qe)},e.Upt=function(){this.Mpt(sE.AVAILABLE)},e.Km=function(){i.Hr.We&&(this.Xpt.$m(),this.Hpt.Gs(),this.Hpt=new ou,yu(this.Fpt(this.Hpt.js)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).u_=void 0,e.Xpt=void 0,e.KN=void 0,e.PL=void 0,e.ye=sE.UNAVAILABLE,e.Hpt=new ou,e.Bpt=void 0,e.handleAirplayChangedEvent=function(){e.KN&&e.KN.Sy?e.Lpt():e.hZ===sE.CONNECTED&&e.Upt()},e.Xpt=n,e.PL=i,e}E(n,t);var e=n.prototype;return e.Opt=function(){this.xpt(),this.Xpt.tu("sourcechange",this.Bpt),i.Hr.We&&this.Mpt(sE.AVAILABLE)},e.preloadPlayer=function(t){if(cu(t),this.KN.wg<sy.Wg){var n=this.KN.wu("loadedmetadata",t);return this.KN.xy=gS.gA,n}return qe.resolve()},e.Mpt=function(t){t!==this.ye&&(this.ye=t,this.$s(new uY(this.ye)))},e.Fpt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.preloadPlayer(t));case 2:this.PL.Km();case 3:case"end":return n.stop()}},null,this,null,qe)},e.Jm=function(){i.Hr.We&&this.KN.Jm()},e.$c=function(){this.ou(),this.Xpt.au("sourcechange",this.Bpt),this.Hpt.Gs()},T(n,[{key:"hU",get:function(){return this.hZ===sE.CONNECTED}},{key:"hZ",get:function(){return this.ye}},{key:"o_",get:function(){var t;return this.u_||(this.u_=(t=this,{get casting(){return t.hU},get state(){return t.hZ},start:function(){t.Km()},stop:function(){t.Jm()},addEventListener:function(n,i){var e=Pm(n,Dm);t.tu(e,i)},removeEventListener:function(n,i){var e=Pm(n,Dm);t.au(e,i)}})),this.u_}}]),n}(Tu));wC(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.a_=function(){var n=this.vX.o_;return km(t.prototype.a_.call(this),{get cast(){return n}})},n}(t)},oC._X),wC(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).zpt=void 0,e.zpt=new aY(Jt(e),e.iU),e.vX.cU(e.zpt),e.tu("currentsourcechange",function(){e.zpt.xpt()}),e}E(n,t);var i=n.prototype;return i.a_=function(){var n=this,i=t.prototype.a_.call(this);return km(i.cast,{get airplay(){return n.zpt.o_}}),i},i.$c=function(){this.zpt.$c(),t.prototype.$c.call(this)},n}(t)},oC._X),function(t){t.Vpt="airplaystatechange"}(oY||(oY={}));var hY=function(t){this.type=oY.Vpt,this.state=t},cY=function(t){function n(n){var i;return(i=t.call(this)||this).Wpt=void 0,i.Gpt=function(t){var n=new hY(t.state);i.spt(n)},i.Wpt=n,i.Ilt(n),i}return E(n,t),n.prototype.Ilt=function(t){t.addEventListener("statechange",this.Gpt)},n}(y$);function fY(t){throw new l('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}_C(function(t){var n;null!=(n=t.o_.cast)&&n.airplay&&new cY(t.o_.cast.airplay)});var lY,vY={exports:{}},dY=Mr(vY.exports=function t(n,i,e){function r(u,o){if(!i[u]){if(!n[u]){var a=fY;if(!o&&a)return a(u,!0);if(s)return s(u,!0);var h=new l("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[u]={exports:{}};n[u][0].call(c.exports,function(t){var i=n[u][1][t];return r(i||t)},c,c.exports,t,n,i,e)}return i[u].exports}for(var s=fY,u=0;u<e.length;u++)r(e[u]);return r}({1:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.jpt=!1,r.on("mousedown",r.handleMouseDown),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-big-play-button"},n.prototype.handleClick=function(t){var n=this.WN.play();if(!(this.jpt&&t.clientX&&t.clientY)){var i=this.WN.getChild("controlBar"),e=i&&i.getChild("playToggle");if(e){var r=function(){return e.focus()};n&&n.then?n.then(r,function(){}):this.setTimeout(r,1)}else this.WN.focus()}},n.prototype.handleKeyPress=function(n){this.jpt=!1,t.prototype.handleKeyPress.call(this,n)},n.prototype.handleMouseDown=function(t){this.jpt=!0},n}(r.default);a.prototype.qpt="Play Video",u.default.registerComponent("BigPlayButton",a),i.default=a},{2:2,5:5}],2:[function(t,n,i){i.__esModule=!0;var e=t(3),r=c(e),s=t(5),u=c(s),o=t(87),a=c(o),h=t(89);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=(0,h.assign)({className:this.buildCSSClass()},n),"button"!==t&&(a.default.warn("Creating a Button with an HTML element of "+t+" is deprecated; use ClickableComponent instead."),n=(0,h.assign)({tabIndex:0},n),i=(0,h.assign)({role:"button"},i)),i=(0,h.assign)({type:"button","aria-live":"polite"},i);var e=u.default.prototype.createEl.call(this,t,n,i);return this.createControlTextEl(e),e},n.prototype.addChild=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.constructor.name;return a.default.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),u.default.prototype.addChild.call(this,t,n)},n.prototype.enable=function(){t.prototype.enable.call(this),this.$pt.removeAttribute("disabled")},n.prototype.disable=function(){t.prototype.disable.call(this),this.$pt.setAttribute("disabled","disabled")},n.prototype.handleKeyPress=function(n){32!==n.which&&13!==n.which&&t.prototype.handleKeyPress.call(this,n)},n}(r.default);u.default.registerComponent("Button",f),i.default=f},{3:3,5:5,87:87,89:89}],3:[function(t,n,i){i.__esModule=!0;var e=t(5),r=y(e),s=t(81),u=m(s),o=t(82),a=m(o),h=t(83),c=m(h),f=t(87),l=y(f),d=t(85),g=t(89);function m(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function y(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.emitTapEvents(),r.on(i,"languagechange",r.handleLanguagechange),r.enable(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=(0,g.assign)({className:this.buildCSSClass(),tabIndex:0},i),"button"===n&&l.default.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead."),e=(0,g.assign)({role:"button","aria-live":"polite"},e),this.Ypt=i.tabIndex;var r=t.prototype.createEl.call(this,n,i,e);return this.createControlTextEl(r),r},n.prototype.createControlTextEl=function(t){return this.Qpt=u.createEl("span",{className:"vjs-control-text"}),t&&t.appendChild(this.Qpt),this.controlText(this.qpt,t),this.Qpt},n.prototype.controlText=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===t)return this.qpt||"Need Text";var i=this.localize(t);return this.qpt=t,this.Qpt.innerHTML=i,this.nonIconControl||n.setAttribute("title",i),this},n.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.$pt.setAttribute("aria-disabled","false"),void 0!==this.Ypt&&this.$pt.setAttribute("tabIndex",this.Ypt),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},n.prototype.disable=function(){return this.addClass("vjs-disabled"),this.$pt.setAttribute("aria-disabled","true"),void 0!==this.Ypt&&this.$pt.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},n.prototype.handleLanguagechange=function(){this.controlText(this.qpt)},n.prototype.handleClick=function(t){},n.prototype.handleFocus=function(t){a.on(d.document,"keydown",c.bind(this,this.handleKeyPress))},n.prototype.handleKeyPress=function(n){32===n.which||13===n.which?(n.preventDefault(),this.handleClick(n)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,n)},n.prototype.handleBlur=function(t){a.off(d.document,"keydown",c.bind(this,this.handleKeyPress))},n}(r.default);r.default.registerComponent("ClickableComponent",p),i.default=p},{5:5,81:81,82:82,83:83,85:85,87:87,89:89}],4:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.controlText(e&&e.controlText||"Close"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n}(r.default);u.default.registerComponent("CloseButton",a),i.default=a},{2:2,5:5}],5:[function(t,n,i){i.__esModule=!0;var e=t(85),r=t(81),s=S(r),u=t(83),o=S(u),a=t(86),h=S(a),c=t(82),f=S(c),d=t(87),p=T(d),_=t(92),b=T(_),k=t(88),A=T(k);function T(t){return t&&t.__esModule?t:{default:t}}function S(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var E=function(){function t(n,i,e){if(function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,t),!n&&this.play?this.WN=n=this:this.WN=n,this.Zpt=(0,A.default)({},this.Zpt),i=this.Zpt=(0,A.default)(this.Zpt,i),this.Y_=i.id||i.el&&i.el.id,!this.Y_){var r=n&&n.id&&n.id()||"no_player";this.Y_=r+"Kpt"+h.newGUID()}this._i=i.name||null,i.el?this.$pt=i.el:!1!==i.createEl&&(this.$pt=this.createEl()),this.Bi=[],this.Jpt={},this.tbt={},!1!==i.initChildren&&this.initChildren(),this.ready(e),!1!==i.reportTouchActivity&&this.enableTouchActivity()}return t.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.Bi)for(var t=this.Bi.length-1;t>=0;t--)this.Bi[t].dispose&&this.Bi[t].dispose();this.Bi=null,this.Jpt=null,this.tbt=null,this.off(),this.$pt.parentNode&&this.$pt.parentNode.removeChild(this.$pt),s.removeElData(this.$pt),this.$pt=null},t.prototype.player=function(){return this.WN},t.prototype.options=function(t){return p.default.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.Zpt=(0,A.default)(this.Zpt,t),this.Zpt):this.Zpt},t.prototype.el=function(){return this.$pt},t.prototype.createEl=function(t,n,i){return s.createEl(t,n,i)},t.prototype.localize=function(t){var n=this.WN.language&&this.WN.language(),i=this.WN.languages&&this.WN.languages();if(!n||!i)return t;var e=i[n];if(e&&e[t])return e[t];var r=n.split("-")[0],s=i[r];return s&&s[t]?s[t]:t},t.prototype.contentEl=function(){return this.nbt||this.$pt},t.prototype.id=function(){return this.Y_},t.prototype.name=function(){return this._i},t.prototype.children=function(){return this.Bi},t.prototype.getChildById=function(t){return this.Jpt[t]},t.prototype.getChild=function(t){if(t)return t=(0,b.default)(t),this.tbt[t]},t.prototype.addChild=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.Bi.length,r=void 0,s=void 0;if("string"==typeof n){s=(0,b.default)(n),i||(i={}),!0===i&&(p.default.warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),i={});var u=i.componentClass||s;i.name=s;var o=t.getComponent(u);if(!o)throw new l("Component "+u+" does not exist");if("function"!=typeof o)return null;r=new o(this.WN||this,i)}else r=n;if(this.Bi.splice(e,0,r),"function"==typeof r.id&&(this.Jpt[r.id()]=r),(s=s||r.name&&(0,b.default)(r.name()))&&(this.tbt[s]=r),"function"==typeof r.el&&r.el()){var a=this.contentEl().children,h=a[e]||null;this.contentEl().insertBefore(r.el(),h)}return r},t.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.Bi){for(var n=!1,i=this.Bi.length-1;i>=0;i--)if(this.Bi[i]===t){n=!0,this.Bi.splice(i,1);break}if(n){this.Jpt[t.id()]=null,this.tbt[t.name()]=null;var e=t.el();e&&e.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},t.prototype.initChildren=function(){var n=this,i=this.Zpt.children;if(i){var e=this.Zpt,r=void 0,s=t.getComponent("Tech");(r=Array.isArray(i)?i:w.keys(i)).concat(w.keys(this.Zpt).filter(function(t){return!r.some(function(n){return"string"==typeof n?t===n:t===n.name})})).map(function(t){var e=void 0,r=void 0;return"string"==typeof t?r=i[e=t]||n.Zpt[e]||{}:(e=t.name,r=t),{name:e,opts:r}}).filter(function(n){var i=t.getComponent(n.opts.componentClass||(0,b.default)(n.name));return i&&!s.isTech(i)}).forEach(function(t){var i=t.name,r=t.opts;if(void 0!==e[i]&&(r=e[i]),!1!==r){!0===r&&(r={}),r.playerOptions=n.Zpt.playerOptions;var s=n.addChild(i,r);s&&(n[i]=s)}})}},t.prototype.buildCSSClass=function(){return""},t.prototype.on=function(t,n,i){var e=this;if("string"==typeof t||Array.isArray(t))f.on(this.$pt,t,o.bind(this,n));else{var r=t,s=n,u=o.bind(this,i),a=function(){return e.off(r,s,u)};a.guid=u.guid,this.on("dispose",a);var h=function(){return e.off("dispose",a)};h.guid=u.guid,t.nodeName?(f.on(r,s,u),f.on(r,"dispose",h)):"function"==typeof t.on&&(r.on(s,u),r.on("dispose",h))}return this},t.prototype.off=function(t,n,i){if(!t||"string"==typeof t||Array.isArray(t))f.off(this.$pt,t,n);else{var e=t,r=n,s=o.bind(this,i);this.off("dispose",s),t.nodeName?(f.off(e,r,s),f.off(e,"dispose",s)):(e.off(r,s),e.off("dispose",s))}return this},t.prototype.one=function(t,n,i){var e=this,r=arguments;if("string"==typeof t||Array.isArray(t))f.one(this.$pt,t,o.bind(this,n));else{var s=t,u=n,a=o.bind(this,i),h=function t(){e.off(s,u,t),a.apply(null,r)};h.guid=a.guid,this.on(s,u,h)}return this},t.prototype.trigger=function(t,n){return f.trigger(this.$pt,t,n),this},t.prototype.ready=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(this.ibt?n?t.call(this):this.setTimeout(t,1):(this.ebt=this.ebt||[],this.ebt.push(t))),this},t.prototype.triggerReady=function(){this.ibt=!0,this.setTimeout(function(){var t=this.ebt;this.ebt=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},t.prototype.$=function(t,n){return s.$(t,n||this.contentEl())},t.prototype.$$=function(t,n){return s.$$(t,n||this.contentEl())},t.prototype.hasClass=function(t){return s.hasElClass(this.$pt,t)},t.prototype.addClass=function(t){return s.addElClass(this.$pt,t),this},t.prototype.removeClass=function(t){return s.removeElClass(this.$pt,t),this},t.prototype.toggleClass=function(t,n){return s.toggleElClass(this.$pt,t,n),this},t.prototype.show=function(){return this.removeClass("vjs-hidden"),this},t.prototype.hide=function(){return this.addClass("vjs-hidden"),this},t.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},t.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},t.prototype.getAttribute=function(t){return s.getAttribute(this.$pt,t)},t.prototype.setAttribute=function(t,n){return s.setAttribute(this.$pt,t,n),this},t.prototype.removeAttribute=function(t){return s.removeAttribute(this.$pt,t),this},t.prototype.width=function(t,n){return this.dimension("width",t,n)},t.prototype.height=function(t,n){return this.dimension("height",t,n)},t.prototype.dimensions=function(t,n){return this.width(t,!0).height(n)},t.prototype.dimension=function(t,n,i){if(void 0!==n)return null!==n&&n==n||(n=0),-1!==(""+n).indexOf("%")||-1!==(""+n).indexOf("px")?this.$pt.style[t]=n:this.$pt.style[t]="auto"===n?"":n+"px",i||this.trigger("resize"),this;if(!this.$pt)return 0;var e=this.$pt.style[t],r=e.indexOf("px");return m(-1!==r?e.slice(0,r):this.$pt["offset"+(0,b.default)(t)],10)},t.prototype.currentDimension=function(t){var n=0;if("width"!==t&&"height"!==t)throw new l("currentDimension only accepts width or height value");if("function"==typeof e.window.getComputedStyle){var i=e.window.getComputedStyle(this.$pt);n=i.getPropertyValue(t)||i[t]}if(0===(n=y(n))){var r="offset"+(0,b.default)(t);n=this.$pt[r]}return n},t.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.prototype.currentWidth=function(){return this.currentDimension("width")},t.prototype.currentHeight=function(){return this.currentDimension("height")},t.prototype.focus=function(){this.$pt.focus()},t.prototype.blur=function(){this.$pt.blur()},t.prototype.emitTapEvents=function(){var t=0,n=null,i=void 0;this.on("touchstart",function(e){1===e.touches.length&&(n={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=(new Date).getTime(),i=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)i=!1;else if(n){var e=t.touches[0].pageX-n.pageX,r=t.touches[0].pageY-n.pageY,s=g.sqrt(e*e+r*r);s>10&&(i=!1)}});var e=function(){i=!1};this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){if(n=null,!0===i){var r=(new Date).getTime()-t;r<200&&(e.preventDefault(),this.trigger("tap"))}})},t.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=o.bind(this.player(),this.player().reportUserActivity),n=void 0;this.on("touchstart",function(){t(),this.clearInterval(n),n=this.setInterval(t,250)});var i=function(i){t(),this.clearInterval(n)};this.on("touchmove",t),this.on("touchend",i),this.on("touchcancel",i)}},t.prototype.setTimeout=function(t,n){t=o.bind(this,t);var i=e.window.setTimeout(t,n),r=function(){this.clearTimeout(i)};return r.guid="vjs-timeout-"+i,this.on("dispose",r),i},t.prototype.clearTimeout=function(t){e.window.clearTimeout(t);var n=function(){};return n.guid="vjs-timeout-"+t,this.off("dispose",n),t},t.prototype.setInterval=function(t,n){t=o.bind(this,t);var i=e.window.setInterval(t,n),r=function(){this.clearInterval(i)};return r.guid="vjs-interval-"+i,this.on("dispose",r),i},t.prototype.clearInterval=function(t){e.window.clearInterval(t);var n=function(){};return n.guid="vjs-interval-"+t,this.off("dispose",n),t},t.registerComponent=function(n,i){if(n){if(n=(0,b.default)(n),t.rbt||(t.rbt={}),"Player"===n&&t.rbt[n]){var e=t.rbt[n];if(e.players&&w.keys(e.players).length>0&&w.keys(e.players).map(function(t){return e.players[t]}).every(Boolean))throw new l("Can not register Player component after player has been created")}return t.rbt[n]=i,i}},t.getComponent=function(n){if(n)return n=(0,b.default)(n),t.rbt&&t.rbt[n]?t.rbt[n]:e.window&&e.window.videojs&&e.window.videojs[n]?(p.default.warn("The "+n+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),e.window.videojs[n]):void 0},t.extend=function(n){n=n||{},p.default.warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var i=n.init||n.init||this.prototype.init||this.prototype.init||function(){},e=function(){i.apply(this,arguments)};for(var r in(e.prototype=w.create(this.prototype)).constructor=e,e.extend=t.extend,n)n.hasOwnProperty(r)&&(e.prototype[r]=n[r]);return e},t}();E.registerComponent("Component",E),i.default=E},{81:81,82:82,83:83,85:85,86:86,87:87,88:88,92:92}],6:[function(t,n,i){i.__esModule=!0;var e=t(36),r=h(e),s=t(5),u=h(s),o=t(7),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.tracks=i.audioTracks&&i.audioTracks();var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.$pt.setAttribute("aria-label","Audio Menu"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.sbt=1;var n=this.WN.audioTracks&&this.WN.audioTracks();if(!n)return t;for(var i=0;i<n.length;i++){var e=n[i];t.push(new a.default(this.WN,{track:e,selectable:!0}))}return t},n}(r.default);c.prototype.qpt="Audio Track",u.default.registerComponent("AudioTrackButton",c),i.default=c},{36:36,5:5,7:7}],7:[function(t,n,i){i.__esModule=!0;var e=t(48),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.track,s=i.audioTracks();e.label=r.label||r.language||"Unknown",e.selected=r.enabled;var u=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));if(u.track=r,s){var o=a.bind(u,u.handleTracksChange);s.addEventListener("change",o),u.on("dispose",function(){s.removeEventListener("change",o)})}return u}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){var i=this.WN.audioTracks();if(t.prototype.handleClick.call(this,n),i)for(var e=0;e<i.length;e++){var r=i[e];r.enabled=r===this.track}},n.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)},n}(r.default);u.default.registerComponent("AudioTrackMenuItem",c),i.default=c},{48:48,5:5,83:83}],8:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(12),t(32),t(33),t(35),t(34),t(10),t(18),t(9),t(38),t(40),t(11),t(25),t(27),t(29),t(24),t(6),t(13),t(21);var u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},n}(s.default);u.prototype.Zpt={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},s.default.registerComponent("ControlBar",u),i.default=u},{10:10,11:11,12:12,13:13,18:18,21:21,24:24,25:25,27:27,29:29,32:32,33:33,34:34,35:35,38:38,40:40,5:5,6:6,9:9}],9:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"fullscreenchange",r.handleFullscreenChange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleFullscreenChange=function(t){this.WN.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.prototype.handleClick=function(t){this.WN.isFullscreen()?this.WN.exitFullscreen():this.WN.requestFullscreen()},n}(r.default);a.prototype.qpt="Fullscreen",u.default.registerComponent("FullscreenToggle",a),i.default=a},{2:2,5:5}],10:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r.on(r.player(),"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.nbt=o.createEl("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.Qpt=o.createEl("span",{className:"vjs-control-text",innerHTML:this.localize("Stream Type")}),this.ubt=a.document.createTextNode(this.localize("LIVE")),this.nbt.appendChild(this.Qpt),this.nbt.appendChild(this.ubt),n.appendChild(this.nbt),n},n.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},n.prototype.handleLanguagechange=function(){this.Qpt.innerHTML=this.localize("Stream Type"),this.ubt.innerHTML=this.localize("LIVE")},n}(s.default);s.default.registerComponent("LiveDisplay",h),i.default=h},{5:5,81:81,85:85}],11:[function(t,n,i){i.__esModule=!0;var e=t(2),r=h(e),s=t(5),u=h(s),o=t(81),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"volumechange",r.update),i.obt&&!1===i.obt.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(i,"loadstart",function(){this.update(),!1===i.obt.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.WN.muted(!this.WN.muted())},n.prototype.update=function(t){var n=this.WN.volume(),i=3;this.WN.muted()?i=0:n<.33?i=1:n<.67&&(i=2);var e=this.WN.muted()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e);for(var r=0;r<4;r++)a.removeElClass(this.$pt,"vjs-vol-"+r);a.addElClass(this.$pt,"vjs-vol-"+i)},n}(r.default);c.prototype.qpt="Mute",u.default.registerComponent("MuteToggle",c),i.default=c},{2:2,5:5,81:81}],12:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"play",r.handlePlay),r.on(i,"pause",r.handlePause),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.WN.paused()?this.WN.play():this.WN.pause()},n.prototype.handlePlay=function(t){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n}(r.default);a.prototype.qpt="Play",u.default.registerComponent("PlayToggle",a),i.default=a},{2:2,5:5}],13:[function(t,n,i){i.__esModule=!0;var e=t(47),r=d(e),s=t(49),u=d(s),o=t(14),a=d(o),h=t(5),c=d(h),f=t(81),l=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(f);function d(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateVisibility(),r.updateLabel(),r.on(i,"loadstart",r.updateVisibility),r.on(i,"ratechange",r.updateLabel),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this);return this.abt=l.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),n.appendChild(this.abt),n},n.prototype.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.prototype.createMenu=function(){var t=new u.default(this.player()),n=this.playbackRates();if(n)for(var i=n.length-1;i>=0;i--)t.addChild(new a.default(this.player(),{rate:n[i]+"x"}));return t},n.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.prototype.handleClick=function(t){for(var n=this.player().playbackRate(),i=this.playbackRates(),e=i[0],r=0;r<i.length;r++)if(i[r]>n){e=i[r];break}this.player().playbackRate(e)},n.prototype.playbackRates=function(){return this.Zpt.playbackRates||this.Zpt.playerOptions&&this.Zpt.playerOptions.playbackRates},n.prototype.playbackRateSupported=function(){return this.player().obt&&this.player().obt.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.abt.innerHTML=this.player().playbackRate()+"x")},n}(r.default);g.prototype.qpt="Playback Rate",c.default.registerComponent("PlaybackRateMenuButton",g),i.default=g},{14:14,47:47,49:49,5:5,81:81}],14:[function(t,n,i){i.__esModule=!0;var e=t(48),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.rate,s=y(r,10);e.label=r,e.selected=1===s,e.selectable=!0;var u=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return u.label=r,u.rate=s,u.on(i,"ratechange",u.update),u}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)},n}(r.default);a.prototype.contentElType="button",u.default.registerComponent("PlaybackRateMenuItem",a),i.default=a},{48:48,5:5}],15:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.hbt=[],r.on(i,"progress",r.update),r.on(i,"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"});return this.cbt=o.createEl("span",{innerHTML:this.localize("Loaded")}),this.fbt=a.document.createTextNode(": 0%"),this.Qpt=o.createEl("span",{className:"vjs-control-text"}),this.Qpt.appendChild(this.cbt),this.Qpt.appendChild(this.fbt),n.appendChild(this.Qpt),n},n.prototype.update=function(t){var n=this.WN.buffered(),i=this.WN.duration(),e=this.WN.bufferedEnd(),r=this.hbt,s=function(t,n){var i=t/n||0;return 100*(i>=1?1:i)+"%"};this.$pt.style.width=s(e,i);for(var u=0;u<n.length;u++){var a=n.start(u),h=n.end(u),c=r[u];c||(c=this.$pt.appendChild(o.createEl()),r[u]=c),c.style.left=s(a,e),c.style.width=s(h-a,e)}for(var f=r.length;f>n.length;f--)this.$pt.removeChild(r[f-1]);r.length=n.length},n.prototype.handleLanguagechange=function(){this.cbt.innerHTML=this.localize("Loaded")},n}(s.default);s.default.registerComponent("LoadProgressBar",h),i.default=h},{5:5,81:81,85:85}],16:[function(t,n,i){i.__esModule=!0;var e=t(5),r=m(e),s=t(81),u=d(s),o=t(83),a=d(o),h=t(84),c=m(h),f=t(80),l=m(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function m(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltip=u.createEl("div",{className:"vjs-time-tooltip"}),r.el().appendChild(r.tooltip),r.addClass("vjs-keep-tooltips-inside")),r.update(0,0),i.on("ready",function(){r.on(i.controlBar.progressControl.el(),"mousemove",a.throttle(a.bind(r,r.handleMouseMove),25))}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.prototype.handleMouseMove=function(t){var n=this.WN.duration(),i=this.calculateDistance(t)*n,e=t.pageX-u.findElPosition(this.el().parentNode).left;this.update(i,e)},n.prototype.update=function(t,n){var i=(0,c.default)(t,this.WN.duration());if(this.el().style.left=n+"px",this.el().setAttribute("data-current-time",i),this.keepTooltipsInside){var e=this.lbt(n),r=n-e+1,s=y((0,l.default)(this.tooltip,"width")),u=s/2;this.tooltip.innerHTML=i,this.tooltip.style.right="-"+(u-r)+"px"}},n.prototype.calculateDistance=function(t){return u.getPointerPosition(this.el().parentNode,t).x},n.prototype.lbt=function(t){if(!this.keepTooltipsInside)return t;var n=y((0,l.default)(this.player().el(),"width")),i=y((0,l.default)(this.tooltip,"width")),e=i/2,r=t;return t<e?r=g.ceil(e):t>n-e&&(r=g.floor(n-e)),r},n}(r.default);r.default.registerComponent("MouseTimeDisplay",p),i.default=p},{5:5,80:80,81:81,83:83,84:84}],17:[function(t,n,i){i.__esModule=!0;var e=t(5),r=d(e),s=t(83),u=l(s),o=t(84),a=d(o),h=t(81),c=l(h),f=t(85);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function d(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateDataAttr(),r.on(i,"timeupdate",r.updateDataAttr),r.on(i,"languagechange",r.handleLanguagechange),i.ready(u.bind(r,r.updateDataAttr)),e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&r.addClass("vjs-keep-tooltips-inside"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"});return this.vbt=c.createEl("span",{innerHTML:this.localize("Progress")}),this.dbt=f.document.createTextNode(": 0%"),this.Qpt=c.createEl("span",{className:"vjs-control-text"}),this.Qpt.appendChild(this.vbt),this.Qpt.appendChild(this.dbt),n.appendChild(this.Qpt),n},n.prototype.updateDataAttr=function(t){var n=this.WN.scrubbing()?this.WN.getCache().currentTime:this.WN.currentTime();this.$pt.setAttribute("data-current-time",(0,a.default)(n,this.WN.duration()))},n.prototype.handleLanguagechange=function(){this.vbt.innerHTML=this.localize("Progress")},n}(r.default);r.default.registerComponent("PlayProgressBar",g),i.default=g},{5:5,81:81,83:83,84:84,85:85}],18:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(19),t(16);var u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n}(s.default);u.prototype.Zpt={children:["seekBar"]},s.default.registerComponent("ProgressControl",u),i.default=u},{16:16,19:19,5:5}],19:[function(t,n,i){i.__esModule=!0;var e=t(57),r=d(e),s=t(5),u=d(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o),h=t(84),c=d(h),f=t(80),l=d(f);function d(t){return t&&t.__esModule?t:{default:t}}t(15),t(17),t(20);var m=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateProgress),r.on(i,"ended",r.updateProgress),i.ready(a.bind(r,r.updateProgress)),e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltipProgressBar=r.addChild("TooltipProgressBar")),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},n.prototype.updateProgress=function(t){if(this.updateAriaAttributes(this.$pt),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.$pt),this.tooltipProgressBar.$pt.style.width=this.bar.$pt.style.width;var n=y((0,l.default)(this.player().el(),"width")),i=y((0,l.default)(this.tooltipProgressBar.tooltip,"width")),e=this.tooltipProgressBar.el().style;e.maxWidth=g.floor(n-i/2)+"px",e.minWidth=g.ceil(i/2)+"px",e.right="-"+i/2+"px"}},n.prototype.updateAriaAttributes=function(t){var n=this.WN.scrubbing()?this.WN.getCache().currentTime:this.WN.currentTime();t.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),t.setAttribute("aria-valuetext",(0,c.default)(n,this.WN.duration()))},n.prototype.getPercent=function(){var t=this.WN.currentTime()/this.WN.duration();return t>=1?1:t},n.prototype.handleMouseDown=function(n){this.WN.scrubbing(!0),this.videoWasPlaying=!this.WN.paused(),this.WN.pause(),t.prototype.handleMouseDown.call(this,n)},n.prototype.handleMouseMove=function(t){var n=this.calculateDistance(t)*this.WN.duration();n===this.WN.duration()&&(n-=.1),this.WN.currentTime(n)},n.prototype.handleMouseUp=function(n){t.prototype.handleMouseUp.call(this,n),this.WN.scrubbing(!1),this.videoWasPlaying&&this.WN.play()},n.prototype.stepForward=function(){this.WN.currentTime(this.WN.currentTime()+5)},n.prototype.stepBack=function(){this.WN.currentTime(this.WN.currentTime()-5)},n}(r.default);m.prototype.Zpt={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},m.prototype.playerEvent="timeupdate",u.default.registerComponent("SeekBar",m),i.default=m},{15:15,17:17,20:20,5:5,57:57,80:80,83:83,84:84}],20:[function(t,n,i){i.__esModule=!0;var e=t(5),r=d(e),s=t(83),u=l(s),o=t(84),a=d(o),h=t(81),c=l(h),f=t(85);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function d(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateDataAttr(),r.on(i,"timeupdate",r.updateDataAttr),r.on(i,"languagechange",r.handleLanguagechange),i.ready(u.bind(r,r.updateDataAttr)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar"});return this.tooltip=c.createEl("div",{className:"vjs-time-tooltip"}),this.vbt=c.createEl("span",{innerHTML:this.localize("Progress")}),this.dbt=f.document.createTextNode(": 0%"),this.Qpt=c.createEl("span",{className:"vjs-control-text"}),this.Qpt.appendChild(this.vbt),this.Qpt.appendChild(this.dbt),n.appendChild(this.tooltip),n.appendChild(this.Qpt),n},n.prototype.updateDataAttr=function(t){var n=this.WN.scrubbing()?this.WN.getCache().currentTime:this.WN.currentTime(),i=(0,a.default)(n,this.WN.duration());this.$pt.setAttribute("data-current-time",i),this.tooltip.innerHTML=i},n.prototype.handleLanguagechange=function(){this.vbt.innerHTML=this.localize("Progress")},n}(r.default);r.default.registerComponent("TooltipProgressBar",g),i.default=g},{5:5,81:81,83:83,84:84,85:85}],21:[function(t,n,i){i.__esModule=!0;var e=t(22),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return n.innerHTML="&nbsp;",n},n}(r.default);u.default.registerComponent("CustomControlSpacer",a),i.default=a},{22:22,5:5}],22:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n}(s.default);s.default.registerComponent("Spacer",u),i.default=u},{5:5}],23:[function(t,n,i){i.__esModule=!0;var e=t(31),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.track={player:i,kind:e.kind,label:e.kind+" settings",selectable:!1,default:!1,mode:"disabled"},e.selectable=!1;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.addClass("vjs-texttrack-settings"),r.controlText(", opens "+e.kind+" settings dialog"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").$pt.focus()},n}(r.default);u.default.registerComponent("CaptionSettingsMenuItem",a),i.default=a},{31:31,5:5}],24:[function(t,n,i){i.__esModule=!0;var e=t(30),r=h(e),s=t(5),u=h(s),o=t(23),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.$pt.setAttribute("aria-label","Captions Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.prototype.createItems=function(){var n=[];return this.player().obt&&this.player().obt.featuresNativeTextTracks||(n.push(new a.default(this.WN,{kind:this.Q_})),this.sbt+=1),t.prototype.createItems.call(this,n)},n}(r.default);c.prototype.Q_="captions",c.prototype.qpt="Captions",u.default.registerComponent("CaptionsButton",c),i.default=c},{23:23,30:30,5:5}],25:[function(t,n,i){i.__esModule=!0;var e=t(30),r=f(e),s=t(5),u=f(s),o=t(26),a=f(o),h=t(92),c=f(h);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.$pt.setAttribute("aria-label","Chapters Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.prototype.update=function(n){this.h_&&(!n||"addtrack"!==n.type&&"removetrack"!==n.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},n.prototype.setTrack=function(t){if(this.h_!==t){if(this.wbt||(this.wbt=this.update.bind(this)),this.h_){var n=this.WN.remoteTextTrackEls().gbt(this.h_);n&&n.removeEventListener("load",this.wbt),this.h_=null}if(this.h_=t,this.h_){this.h_.mode="hidden";var i=this.WN.remoteTextTrackEls().gbt(this.h_);i&&i.addEventListener("load",this.wbt)}}},n.prototype.findChaptersTrack=function(){for(var t=this.WN.textTracks()||[],n=t.length-1;n>=0;n--){var i=t[n];if(i.kind===this.Q_)return i}},n.prototype.getMenuCaption=function(){return this.h_&&this.h_.label?this.h_.label:this.localize((0,c.default)(this.Q_))},n.prototype.createMenu=function(){return this.Zpt.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.prototype.createItems=function(){var t=[];if(!this.h_)return t;var n=this.h_.cues;if(!n)return t;for(var i=0,e=n.length;i<e;i++){var r=n[i],s=new a.default(this.WN,{track:this.h_,cue:r});t.push(s)}return t},n}(r.default);l.prototype.Q_="chapters",l.prototype.qpt="Chapters",u.default.registerComponent("ChaptersButton",l),i.default=l},{26:26,30:30,5:5,92:92}],26:[function(t,n,i){i.__esModule=!0;var e=t(48),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.track,s=e.cue,u=i.currentTime();e.selectable=!0,e.label=s.text,e.selected=s.startTime<=u&&u<s.endTime;var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return o.track=r,o.cue=s,r.addEventListener("cuechange",a.bind(o,o.update)),o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){t.prototype.handleClick.call(this),this.WN.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.prototype.update=function(t){var n=this.cue,i=this.WN.currentTime();this.selected(n.startTime<=i&&i<n.endTime)},n}(r.default);u.default.registerComponent("ChaptersTrackMenuItem",c),i.default=c},{48:48,5:5,83:83}],27:[function(t,n,i){i.__esModule=!0;var e=t(30),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));s.$pt.setAttribute("aria-label","Descriptions Menu");var u=i.textTracks();if(u){var o=a.bind(s,s.handleTracksChange);u.addEventListener("change",o),s.on("dispose",function(){u.removeEventListener("change",o)})}return s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleTracksChange=function(t){for(var n=this.player().textTracks(),i=!1,e=0,r=n.length;e<r;e++){var s=n[e];if(s.kind!==this.Q_&&"showing"===s.mode){i=!0;break}}i?this.disable():this.enable()},n.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n}(r.default);c.prototype.Q_="descriptions",c.prototype.qpt="Descriptions",u.default.registerComponent("DescriptionsButton",c),i.default=c},{30:30,5:5,83:83}],28:[function(t,n,i){i.__esModule=!0;var e=t(31),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.track={player:i,kind:e.kind,label:e.kind+" off",default:!1,mode:"disabled"},e.selectable=!0;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.selected(!0),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleTracksChange=function(t){for(var n=this.player().textTracks(),i=!0,e=0,r=n.length;e<r;e++){var s=n[e];if(s.kind===this.track.kind&&"showing"===s.mode){i=!1;break}}this.selected(i)},n}(r.default);u.default.registerComponent("OffTextTrackMenuItem",a),i.default=a},{31:31,5:5}],29:[function(t,n,i){i.__esModule=!0;var e=t(30),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.$pt.setAttribute("aria-label","Subtitles Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n}(r.default);a.prototype.Q_="subtitles",a.prototype.qpt="Subtitles",u.default.registerComponent("SubtitlesButton",a),i.default=a},{30:30,5:5}],30:[function(t,n,i){i.__esModule=!0;var e=t(36),r=f(e),s=t(5),u=f(s),o=t(31),a=f(o),h=t(28),c=f(h);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.tracks=i.textTracks(),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.push(new c.default(this.WN,{kind:this.Q_})),this.sbt+=1;var n=this.WN.textTracks();if(!n)return t;for(var i=0;i<n.length;i++){var e=n[i];e.kind===this.Q_&&t.push(new a.default(this.WN,{track:e,selectable:!0}))}return t},n}(r.default);u.default.registerComponent("TextTrackButton",l),i.default=l},{28:28,31:31,36:36,5:5}],31:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=t(48),s=f(r),u=t(5),o=f(u),a=t(83),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a),c=t(85);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function n(i,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=r.track,u=i.textTracks();r.label=s.label||s.language||"Unknown",r.selected=s.default||"showing"===s.mode;var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,r));if(o.track=s,u){var a=h.bind(o,o.handleTracksChange);i.on(["loadstart","texttrackchange"],a),u.addEventListener("change",a),o.on("dispose",function(){u.removeEventListener("change",a)})}if(u&&void 0===u.onchange){var f=void 0;o.on(["tap","click"],function(){if("object"!==e(c.window.Event))try{f=new c.window.Event("change")}catch(t){}f||(f=c.document.createEvent("Event")).initEvent("change",!0,!0),u.dispatchEvent(f)})}return o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){var i=this.track.kind,e=this.WN.textTracks();if(t.prototype.handleClick.call(this,n),e)for(var r=0;r<e.length;r++){var s=e[r];s.kind===i&&(s===this.track?"showing"!==s.mode&&(s.mode="showing"):"disabled"!==s.mode&&(s.mode="disabled"))}},n.prototype.handleTracksChange=function(t){this.selected("showing"===this.track.mode)},n}(s.default);o.default.registerComponent("TextTrackMenuItem",l),i.default=l},{48:48,5:5,83:83,85:85}],32:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.nbt=u.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),n.appendChild(this.nbt),n},n.prototype.updateContent=function(t){var n=this.WN.scrubbing()?this.WN.getCache().currentTime:this.WN.currentTime(),i=this.localize("Current Time"),e=(0,a.default)(n,this.WN.duration());e!==this.mbt&&(this.mbt=e,this.nbt.innerHTML='<span class="vjs-control-text">'+i+"</span> "+e)},n}(r.default);r.default.registerComponent("CurrentTimeDisplay",c),i.default=c},{5:5,81:81,84:84}],33:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"durationchange",r.updateContent),r.on(i,"timeupdate",r.updateContent),r.on(i,"loadedmetadata",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.nbt=u.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),n.appendChild(this.nbt),n},n.prototype.updateContent=function(t){var n=this.WN.duration();if(n&&this.nm!==n){this.nm=n;var i=this.localize("Duration Time"),e=(0,a.default)(n);this.nbt.innerHTML='<span class="vjs-control-text">'+i+"</span> "+e}},n}(r.default);r.default.registerComponent("DurationDisplay",c),i.default=c},{5:5,81:81,84:84}],34:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateContent),r.on(i,"durationchange",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.nbt=u.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),n.appendChild(this.nbt),n},n.prototype.updateContent=function(t){if(this.WN.duration()){var n=this.localize("Remaining Time"),i=(0,a.default)(this.WN.remainingTime());i!==this.mbt&&(this.mbt=i,this.nbt.innerHTML='<span class="vjs-control-text">'+n+"</span> -"+i)}},n}(r.default);r.default.registerComponent("RemainingTimeDisplay",c),i.default=c},{5:5,81:81,84:84}],35:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},n}(s.default);s.default.registerComponent("TimeDivider",u),i.default=u},{5:5}],36:[function(t,n,i){i.__esModule=!0;var e=t(47),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}function c(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var f=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.tracks,s=c(this,t.call(this,i,e));if(s.items.length<=1&&s.hide(),!r)return c(s);var u=a.bind(s,s.update);return r.addEventListener("removetrack",u),r.addEventListener("addtrack",u),s.WN.on("dispose",function(){r.removeEventListener("removetrack",u),r.removeEventListener("addtrack",u)}),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(r.default);u.default.registerComponent("TrackButton",f),i.default=f},{47:47,5:5,83:83}],37:[function(t,n,i){i.__esModule=!0;var e=t(57),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}t(39);var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"volumechange",r.updateARIAAttributes),i.ready(a.bind(r,r.updateARIAAttributes)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},n.prototype.handleMouseMove=function(t){this.checkMuted(),this.WN.volume(this.calculateDistance(t))},n.prototype.checkMuted=function(){this.WN.muted()&&this.WN.muted(!1)},n.prototype.getPercent=function(){return this.WN.muted()?0:this.WN.volume()},n.prototype.stepForward=function(){this.checkMuted(),this.WN.volume(this.WN.volume()+.1)},n.prototype.stepBack=function(){this.checkMuted(),this.WN.volume(this.WN.volume()-.1)},n.prototype.updateARIAAttributes=function(t){var n=(100*this.WN.volume()).toFixed(2);this.$pt.setAttribute("aria-valuenow",n),this.$pt.setAttribute("aria-valuetext",n+"%")},n}(r.default);c.prototype.Zpt={children:["volumeLevel"],barName:"volumeLevel"},c.prototype.playerEvent="volumechange",u.default.registerComponent("VolumeBar",c),i.default=c},{39:39,5:5,57:57,83:83}],38:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(37);var u=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return i.obt&&!1===i.obt.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(i,"loadstart",function(){!1===i.obt.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},n}(s.default);u.prototype.Zpt={children:["volumeBar"]},s.default.registerComponent("VolumeControl",u),i.default=u},{37:37,5:5}],39:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},n}(s.default);s.default.registerComponent("VolumeLevel",u),i.default=u},{5:5}],40:[function(t,n,i){i.__esModule=!0;var e=t(83),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(5),u=m(s),o=t(54),a=m(o),h=t(53),c=m(h),f=t(11),l=m(f),d=t(37),g=m(d);function m(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),void 0===e.inline&&(e.inline=!0),void 0===e.vertical&&(e.inline?e.vertical=!1:e.vertical=!0),e.volumeBar=e.volumeBar||{},e.volumeBar.vertical=!!e.vertical;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));function s(){i.obt&&!1===i.obt.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}return r.on(i,"volumechange",r.volumeUpdate),r.on(i,"loadstart",r.volumeUpdate),s.call(r),r.on(i,"loadstart",s),r.on(r.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),r.on(r.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),r.on(r.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),r.on(r.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){var n="";return n=this.Zpt.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+t.prototype.buildCSSClass.call(this)+" "+n},n.prototype.createPopup=function(){var t=new a.default(this.WN,{contentElType:"div"}),n=new g.default(this.WN,this.Zpt.volumeBar);return t.addChild(n),this.menuContent=t,this.volumeBar=n,this.attachVolumeBarEvents(),t},n.prototype.handleClick=function(n){l.default.prototype.handleClick.call(this),t.prototype.handleClick.call(this)},n.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],r.bind(this,this.handleMouseDown))},n.prototype.handleMouseDown=function(t){this.on(["mousemove","touchmove"],r.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.$pt.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},n.prototype.handleMouseUp=function(t){this.off(["mousemove","touchmove"],r.bind(this.volumeBar,this.volumeBar.handleMouseMove))},n}(c.default);y.prototype.volumeUpdate=l.default.prototype.update,y.prototype.qpt="Mute",u.default.registerComponent("VolumeMenuButton",y),i.default=y},{11:11,37:37,5:5,53:53,54:54,83:83}],41:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(50),u=h(s),o=t(88),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"error",r.open),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},n}(u.default);c.prototype.Zpt=(0,a.default)(u.default.prototype.Zpt,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),r.default.registerComponent("ErrorDisplay",c),i.default=c},{5:5,50:50,88:88}],42:[function(t,n,i){i.__esModule=!0;var e=t(82),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=function(){};s.prototype.ybt={},s.prototype.on=function(t,n){var i=this.addEventListener;this.addEventListener=function(){},r.on(this,t,n),this.addEventListener=i},s.prototype.addEventListener=s.prototype.on,s.prototype.off=function(t,n){r.off(this,t,n)},s.prototype.removeEventListener=s.prototype.off,s.prototype.one=function(t,n){var i=this.addEventListener;this.addEventListener=function(){},r.one(this,t,n),this.addEventListener=i},s.prototype.trigger=function(t){var n=t.type||t;"string"==typeof t&&(t={type:n}),t=r.fixEvent(t),this.ybt[n]&&this["on"+n]&&this["on"+n](t),r.trigger(this,t)},s.prototype.dispatchEvent=s.prototype.trigger,i.default=s},{82:82}],43:[function(t,n,i){i.__esModule=!0;var e,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=t(87),u=(e=s)&&e.__esModule?e:{default:e},o=t(89);i.default=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(){t.apply(this,arguments)},e={};for(var s in(0,o.isObject)(n)?("function"==typeof n.init&&(u.default.warn("Constructor logic via init() is deprecated; please use constructor() instead."),n.constructor=n.init),n.constructor!==w.prototype.constructor&&(i=n.constructor),e=n):"function"==typeof n&&(i=n),function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+(void 0===n?"undefined":r(n)));t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t.pbt=n)}(i,t),e)e.hasOwnProperty(s)&&(i.prototype[s]=e[s]);return i}},{87:87,89:89}],44:[function(t,n,i){i.__esModule=!0;for(var e=t(85),r={prefixed:!0},s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],u=s[0],o=void 0,a=0;a<s.length;a++)if(s[a][1]in e.document){o=s[a];break}if(o){for(var h=0;h<o.length;h++)r[u[h]]=o[h];r.prefixed=o[0]!==u[0]}i.default=r},{85:85}],45:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},n}(s.default);s.default.registerComponent("LoadingSpinner",u),i.default=u},{5:5}],46:[function(t,n,i){i.__esModule=!0;var e=t(89);function r(t){if(t instanceof r)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:(0,e.isObject)(t)&&("number"==typeof t.code&&(this.code=t.code),(0,e.assign)(this,t)),this.message||(this.message=r.defaultMessages[this.code]||"")}r.prototype.code=0,r.prototype.message="",r.prototype.status=null,r.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],r.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var s=0;s<r.errorTypes.length;s++)r[r.errorTypes[s]]=s,r.prototype[r.errorTypes[s]]=s;i.default=r},{89:89}],47:[function(t,n,i){i.__esModule=!0;var e=t(3),r=y(e),s=t(5),u=y(s),o=t(49),a=y(o),h=t(81),c=m(h),f=t(83),l=m(f),d=t(92),g=y(d);function m(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function y(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),r.q_=!0,r.$pt.setAttribute("aria-haspopup","true"),r.$pt.setAttribute("role","menuitem"),r.on("keydown",r.handleSubmenuKeyPress),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.update=function(){var t=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=t,this.addChild(t),this._bt=!1,this.$pt.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.sbt?this.hide():this.show()},n.prototype.createMenu=function(){var t=new a.default(this.WN);if(this.sbt=0,this.Zpt.title){var n=c.createEl("li",{className:"vjs-menu-title",innerHTML:(0,g.default)(this.Zpt.title),tabIndex:-1});this.sbt+=1,t.Bi.unshift(n),c.insertElFirst(n,t.contentEl())}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},n.prototype.createItems=function(){},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n.prototype.buildCSSClass=function(){var n="vjs-menu-button";return!0===this.Zpt.inline?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",l.bind(this,function(t){this.unpressButton(),this.$pt.blur()})),this._bt?this.unpressButton():this.pressButton()},n.prototype.handleKeyPress=function(n){27===n.which||9===n.which?(this._bt&&this.unpressButton(),9!==n.which&&n.preventDefault()):38===n.which||40===n.which?this._bt||(this.pressButton(),n.preventDefault()):t.prototype.handleKeyPress.call(this,n)},n.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this._bt&&this.unpressButton(),9!==t.which&&t.preventDefault())},n.prototype.pressButton=function(){this.q_&&(this._bt=!0,this.menu.lockShowing(),this.$pt.setAttribute("aria-expanded","true"),this.menu.focus())},n.prototype.unpressButton=function(){this.q_&&(this._bt=!1,this.menu.unlockShowing(),this.$pt.setAttribute("aria-expanded","false"),this.$pt.focus())},n.prototype.disable=function(){return this._bt=!1,this.menu.unlockShowing(),this.$pt.setAttribute("aria-expanded","false"),this.q_=!1,t.prototype.disable.call(this)},n.prototype.enable=function(){return this.q_=!0,t.prototype.enable.call(this)},n}(r.default);u.default.registerComponent("MenuButton",p),i.default=p},{3:3,49:49,5:5,81:81,83:83,92:92}],48:[function(t,n,i){i.__esModule=!0;var e=t(3),r=h(e),s=t(5),u=h(s),o=t(89),a=t(85);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.selectable=e.selectable,r.selected(e.selected),r.selectable?r.$pt.setAttribute("role","menuitemcheckbox"):r.$pt.setAttribute("role","menuitem"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(n,i,e){this.nonIconControl=!0;var r=t.prototype.createEl.call(this,"li",(0,o.assign)({className:"vjs-menu-item",tabIndex:-1},i),e);return this.abt=a.document.createTextNode(this.localize(this.Zpt.label)),r.appendChild(this.abt),r},n.prototype.handleClick=function(t){this.selected(!0)},n.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.$pt.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.$pt.setAttribute("aria-checked","false"),this.controlText("")))},n.prototype.handleLanguagechange=function(){t.prototype.handleLanguagechange.call(this),this.abt.innerHTML=this.localize(this.Zpt.label)},n}(r.default);u.default.registerComponent("MenuItem",c),i.default=c},{3:3,5:5,85:85,89:89}],49:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=l(u),a=t(83),h=l(a),c=t(82),f=l(c);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var d=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.bbt=-1,r.on("keydown",r.handleKeyPress),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addItem=function(t){this.addChild(t),t.on("click",h.bind(this,function(t){this.unlockShowing()}))},n.prototype.createEl=function(){var n=this.Zpt.contentElType||"ul";this.nbt=o.createEl(n,{className:"vjs-menu-content"}),this.nbt.setAttribute("role","menu");var i=t.prototype.createEl.call(this,"div",{append:this.nbt,className:"vjs-menu"});return i.setAttribute("role","presentation"),i.appendChild(this.nbt),f.on(i,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),i},n.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},n.prototype.stepForward=function(){var t=0;void 0!==this.bbt&&(t=this.bbt+1),this.focus(t)},n.prototype.stepBack=function(){var t=0;void 0!==this.bbt&&(t=this.bbt-1),this.focus(t)},n.prototype.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.children().slice(),i=n.length&&n[0].className&&/vjs-menu-title/.test(n[0].className);i&&n.shift(),n.length>0&&(t<0?t=0:t>=n.length&&(t=n.length-1),this.bbt=t,n[t].$pt.focus())},n}(s.default);s.default.registerComponent("Menu",d),i.default=d},{5:5,81:81,82:82,83:83}],50:[function(t,n,i){i.__esModule=!0;var e,r=t(81),s=c(r),u=t(83),o=c(u),a=t(5),h=(e=a)&&e.__esModule?e:{default:e};function c(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var f="vjs-modal-dialog",l=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.kbt=r.Abt=r.Tbt=!1,r.closeable(!r.Zpt.uncloseable),r.content(r.Zpt.content),r.nbt=s.createEl("div",{className:f+"-content"},{role:"document"}),r.Sbt=s.createEl("p",{className:f+"-description vjs-offscreen",id:r.el().getAttribute("aria-describedby")}),s.textContent(r.Sbt,r.description()),r.$pt.appendChild(r.Sbt),r.$pt.appendChild(r.nbt),r.on(i,"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"Ebt","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.prototype.buildCSSClass=function(){return f+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},n.prototype.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},n.prototype.label=function(){return this.Zpt.label||this.localize("Modal Window")},n.prototype.description=function(){var t=this.Zpt.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},n.prototype.open=function(){if(!this.kbt){var t=this.player();this.trigger("beforemodalopen"),this.kbt=!0,(this.Zpt.fillAlways||!this.Abt&&!this.Tbt)&&this.fill(),this.Ibt=!t.paused(),this.Zpt.pauseOnOpen&&this.Ibt&&t.pause(),this.closeable()&&this.on(this.$pt.ownerDocument,"keydown",o.bind(this,this.handleKeyPress)),t.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.Abt=!0}return this},n.prototype.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.kbt},n.prototype.close=function(){if(this.kbt){var t=this.player();this.trigger("beforemodalclose"),this.kbt=!1,this.Ibt&&this.Zpt.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.$pt.ownerDocument,"keydown",o.bind(this,this.handleKeyPress)),t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.Zpt.temporary&&this.dispose()}return this},n.prototype.closeable=function(t){if("boolean"==typeof t){var n=this.Rbt=!!t,i=this.getChild("closeButton");if(n&&!i){var e=this.nbt;this.nbt=this.$pt,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.nbt=e,this.on(i,"close",this.close)}!n&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.Rbt},n.prototype.fill=function(){return this.fillWith(this.content())},n.prototype.fillWith=function(t){var n=this.contentEl(),i=n.parentNode,e=n.nextSibling;return this.trigger("beforemodalfill"),this.Tbt=!0,i.removeChild(n),this.empty(),s.insertContent(n,t),this.trigger("modalfill"),e?i.insertBefore(n,e):i.appendChild(n),this},n.prototype.empty=function(){return this.trigger("beforemodalempty"),s.emptyEl(this.contentEl()),this.trigger("modalempty"),this},n.prototype.content=function(t){return void 0!==t&&(this.vk=t),this.vk},n.prototype.handleLanguagechange=function(){this.$pt.setAttribute("aria-label",this.label()),s.textContent(this.Sbt,this.description()),this.opened()?this.fill():(this.Abt||this.Tbt)&&(this.Abt=!1,this.Tbt=!1,this.empty())},n}(h.default);l.prototype.Zpt={pauseOnOpen:!0,temporary:!0},h.default.registerComponent("ModalDialog",l),i.default=l},{5:5,81:81,83:83}],51:[function(t,n,i){i.__esModule=!0;var e=t(5),r=Q(e),s=t(85),u=t(82),o=Y(u),a=t(81),h=Y(a),c=t(83),f=Y(c),d=t(86),m=Y(d),_=t(78),b=Y(_),k=t(87),A=Q(k),T=t(92),S=Q(T),E=t(91),I=t(79),R=t(90),C=Y(R),D=t(44),N=Q(D),P=t(46),x=Q(P),B=t(116),O=Q(B),L=t(89),M=t(88),j=Q(M),F=t(69),U=Q(F),H=t(50),X=Q(H),z=t(62),V=Q(z),W=t(63),q=Q(W),G=t(76),$=Q(G);function Y(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function Q(t){return t&&t.__esModule?t:{default:t}}t(61),t(59),t(55),t(68),t(45),t(1),t(4),t(8),t(41),t(71),t(60);var Z=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],K=function(t){function n(i,e,r){if(function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),i.id=i.id||["vjs_video",m.newGUID()].join("_"),(e=(0,L.assign)(n.getTagSettings(i),e)).initChildren=!1,e.createEl=!1,e.reportTouchActivity=!1,!e.language)if("function"==typeof i.closest){var s=i.closest("[lang]");s&&(e.language=s.getAttribute("lang"))}else for(var u=i;u&&1===u.nodeType;){if(h.getElAttributes(u).hasOwnProperty("lang")){e.language=u.getAttribute("lang");break}u=u.parentNode}var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,null,e,r));if(!o.Zpt||!o.Zpt.techOrder||!o.Zpt.techOrder.length)throw new l("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=i,o.tagAttributes=i&&h.getElAttributes(i),o.language(o.Zpt.language),e.languages){var a={};w.getOwnPropertyNames(e.languages).forEach(function(t){a[t.toLowerCase()]=e.languages[t]}),o.Cbt=a}else o.Cbt=n.prototype.Zpt.languages;o.Oyt={},o.YX=e.poster||"",o.Dbt=!!e.controls,i.controls=!1,o.Nbt=!1,o.$pt=o.createEl();var c=(0,j.default)(o.Zpt);if(e.plugins){var f=e.plugins;w.getOwnPropertyNames(f).forEach(function(t){"function"==typeof this[t]?this[t](f[t]):A.default.error("Unable to find plugin:",t)},o)}o.Zpt.playerOptions=c,o.initChildren(),o.isAudio("audio"===i.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.$pt.setAttribute("role","region"),o.isAudio()?o.$pt.setAttribute("aria-label","audio player"):o.$pt.setAttribute("aria-label","video player"),o.isAudio()&&o.addClass("vjs-audio"),o.Pbt()&&o.addClass("vjs-no-flex"),b.IS_IOS||o.addClass("vjs-workinghover"),n.players[o.Y_]=o;var d="5.20.6-opentelly.9".split(".")[0];return o.addClass("vjs-v"+d),o.userActive(!0),o.reportUserActivity(),o.xbt(),o.on("fullscreenchange",o.IP),o.on("stageclick",o.Bbt),o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.Obt&&this.Obt.parentNode&&this.Obt.parentNode.removeChild(this.Obt),n.players[this.Y_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.$pt&&this.$pt.player&&(this.$pt.player=null),this.obt&&this.obt.dispose(),t.prototype.dispose.call(this)},n.prototype.createEl=function(){var n=this.tag,i=void 0,e=this.Lbt=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player");i=this.$pt=e?n.parentNode:t.prototype.createEl.call(this,"div"),n.setAttribute("tabindex","-1"),n.removeAttribute("width"),n.removeAttribute("height");var r=h.getElAttributes(n);if(w.getOwnPropertyNames(r).forEach(function(t){"class"===t?i.className+=" "+r[t]:i.setAttribute(t,r[t])}),n.playerId=n.id,n.id+="Mbt",n.className="vjs-tech",n.player=i.player=this,this.addClass("vjs-paused"),!0!==s.window.VIDEOJS_NO_DYNAMIC_STYLE){this.Obt=C.createStyleElement("vjs-styles-dimensions");var u=h.$(".vjs-styles-defaults"),o=h.$("head");o.insertBefore(this.Obt,u?u.nextSibling:o.firstChild)}this.width(this.Zpt.width),this.height(this.Zpt.height),this.fluid(this.Zpt.fluid),this.aspectRatio(this.Zpt.aspectRatio);for(var a=n.getElementsByTagName("a"),c=0;c<a.length;c++){var f=a.item(c);h.addElClass(f,"vjs-hidden"),f.setAttribute("hidden","hidden")}return n.jbt=n.networkState,n.parentNode&&!e&&n.parentNode.insertBefore(i,n),h.insertElFirst(n,i),this.Bi.unshift(n),this.$pt=i,i},n.prototype.width=function(t){return this.dimension("width",t)},n.prototype.height=function(t){return this.dimension("height",t)},n.prototype.dimension=function(t,n){var i="width"===t?"Xk":"ST";if(void 0===n)return this[i]||0;if(""===n)this[i]=void 0;else{var e=y(n);if(p(e))return A.default.error('Improper value "'+n+'" supplied for for '+t),this;this[i]=e}return this.Fbt(),this},n.prototype.fluid=function(t){if(void 0===t)return!!this.Ubt;this.Ubt=!!t,t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.Fbt()},n.prototype.aspectRatio=function(t){if(void 0===t)return this.Hbt;if(!/^\d+\:\d+$/.test(t))throw new l("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.Hbt=t,this.fluid(!0),this.Fbt()},n.prototype.Fbt=function(){if(!0!==s.window.VIDEOJS_NO_DYNAMIC_STYLE){var t=void 0,n=void 0,i=void 0,e=(void 0!==this.Hbt&&"auto"!==this.Hbt?this.Hbt:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=e[1]/e[0];t=void 0!==this.Xk?this.Xk:void 0!==this.ST?this.ST/r:this.videoWidth()||300,n=void 0!==this.ST?this.ST:t*r,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),C.setTextContent(this.Obt,"\n      ."+i+" {\n        width: "+t+"px;\n        height: "+n+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var u="number"==typeof this.Xk?this.Xk:this.Zpt.width,o="number"==typeof this.ST?this.ST:this.Zpt.height,a=this.obt&&this.obt.el();a&&(u>=0&&(a.width=u),o>=0&&(a.height=o))}},n.prototype.Xbt=function(t,n){var i=this;this.obt&&this.zbt(),"Html5"!==t&&this.tag&&(V.default.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.Vbt=t,this.ibt=!1;var e=(0,L.assign)({source:n,nativeControlsForTouch:this.Zpt.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+t+"Wbt",videoTracks:this.zm,textTracks:this.Vm,audioTracks:this.Fm,autoplay:this.Zpt.autoplay,playsinline:this.Zpt.playsinline,preload:this.Zpt.preload,loop:this.Zpt.loop,muted:this.Zpt.muted,poster:this.poster(),language:this.language(),playerElIngest:this.Lbt||!1,"vtt.js":this.Zpt["vtt.js"]},this.Zpt[t.toLowerCase()]);this.tag&&(e.tag=this.tag),n&&(this.qbt=n.type,n.src===this.Oyt.src&&this.Oyt.currentTime>0&&(e.startTime=this.Oyt.currentTime),this.Oyt.sources=null,this.Oyt.source=n,this.Oyt.src=n.src);var s=V.default.getTech(t);s||(s=r.default.getComponent(t)),this.obt=new s(e),this.obt.ready(f.bind(this,this.Gbt),!0),U.default.jsonToTextTracks(this.$bt||[],this.obt),Z.forEach(function(t){i.on(i.obt,t,i["handleTech"+(0,S.default)(t)+"_"])}),this.on(this.obt,"loadstart",this.Ybt),this.on(this.obt,"waiting",this.Qbt),this.on(this.obt,"canplay",this.Zbt),this.on(this.obt,"canplaythrough",this.Kbt),this.on(this.obt,"playing",this.Jbt),this.on(this.obt,"ended",this.tAt),this.on(this.obt,"seeking",this.nAt),this.on(this.obt,"seeked",this.iAt),this.on(this.obt,"play",this.eAt),this.on(this.obt,"firstplay",this.rAt),this.on(this.obt,"pause",this.sAt),this.on(this.obt,"durationchange",this.uAt),this.on(this.obt,"fullscreenchange",this.oAt),this.on(this.obt,"error",this.aAt),this.on(this.obt,"loadedmetadata",this.Fbt),this.on(this.obt,"resize",this.Fbt),this.on(this.obt,"posterchange",this.hAt),this.on(this.obt,"textdata",this.cAt),this.usingNativeControls(this.fAt("controls")),this.controls()&&!this.usingNativeControls()&&this.lAt(),this.obt.el().parentNode===this.contentEl()||"Html5"===t&&this.tag||h.insertElFirst(this.obt.el(),this.contentEl()),this.tag&&(this.tag.player=null,this.tag=null)},n.prototype.zbt=function(){this.zm=this.videoTracks(),this.Vm=this.textTracks(),this.Fm=this.audioTracks(),this.$bt=U.default.textTracksToJson(this.obt),this.ibt=!1,this.obt.dispose(),this.obt=!1},n.prototype.tech=function(t){if(t&&t.IWillNotUseThisInPlugins)return this.obt;var n="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw s.window.alert(n),new l(n)},n.prototype.lAt=function(){this.vAt(),this.on(this.obt,"mousedown",this.dAt),this.on(this.obt,"touchstart",this.wAt),this.on(this.obt,"touchmove",this.gAt),this.on(this.obt,"touchend",this.mAt),this.on(this.obt,"tap",this.yAt)},n.prototype.vAt=function(){this.off(this.obt,"tap",this.yAt),this.off(this.obt,"touchstart",this.wAt),this.off(this.obt,"touchmove",this.gAt),this.off(this.obt,"touchend",this.mAt),this.off(this.obt,"mousedown",this.dAt)},n.prototype.Gbt=function(){if(this.triggerReady(),this.Oyt.volume&&this.pAt("setVolume",this.Oyt.volume),this.hAt(),this.uAt(),(this.src()||this.currentSrc())&&this.tag&&this.Zpt.autoplay&&this.paused()){try{delete this.tag.poster}catch(t){(0,A.default)("deleting tag.poster throws in some browsers",t)}this.play()}},n.prototype.Ybt=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},n.prototype.hasStarted=function(t){return void 0!==t?(this._At!==t&&(this._At=t,t?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this._At},n.prototype.eAt=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.prototype.Qbt=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})},n.prototype.Zbt=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.prototype.Kbt=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.prototype.Jbt=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.prototype.nAt=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.prototype.iAt=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},n.prototype.rAt=function(){this.Zpt.starttime&&(A.default.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.Zpt.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.prototype.sAt=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.prototype.tAt=function(){this.addClass("vjs-ended"),this.Zpt.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.prototype.uAt=function(){this.duration(this.fAt("duration"))},n.prototype.dAt=function(t){0===t.button&&this.controls()&&(void 0!==this.Zpt&&void 0!==this.Zpt.userActions&&void 0!==this.Zpt.userActions.click&&!1===this.Zpt.userActions.click||(void 0!==this.Zpt&&void 0!==this.Zpt.userActions&&"function"==typeof this.Zpt.userActions.click?this.Zpt.userActions.click.call(this,t):this.paused()?this.play():this.pause()))},n.prototype.yAt=function(){this.userActive(!this.userActive())},n.prototype.wAt=function(){this.userWasActive=this.userActive()},n.prototype.gAt=function(){this.userWasActive&&this.reportUserActivity()},n.prototype.mAt=function(t){t.cancelable&&t.preventDefault()},n.prototype.IP=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.prototype.Bbt=function(){this.reportUserActivity()},n.prototype.oAt=function(t,n){n&&this.isFullscreen(n.isFullscreen),this.trigger("fullscreenchange")},n.prototype.aAt=function(){var t=this.obt.error();this.error(t)},n.prototype.cAt=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},n.prototype.getCache=function(){return this.Oyt},n.prototype.pAt=function(t,n){if(this.obt&&!this.obt.ibt)this.obt.ready(function(){this[t](n)},!0);else try{this.obt&&this.obt[t](n)}catch(t){throw(0,A.default)(t),t}},n.prototype.fAt=function(t){if(this.obt&&this.obt.ibt)try{return this.obt[t]()}catch(n){throw void 0===this.obt[t]?(0,A.default)("Video.js: "+t+" method not defined for "+this.Vbt+" playback technology.",n):"TypeError"===n.name?((0,A.default)("Video.js: "+t+" unavailable on "+this.Vbt+" playback technology element.",n),this.obt.ibt=!1):(0,A.default)(n),n}},n.prototype.play=function(){return this.src()||this.currentSrc()?this.pAt("play"):this.obt.one("loadstart",function(){this.play()}),this},n.prototype.pause=function(){return this.pAt("pause"),this},n.prototype.paused=function(){return!1!==this.fAt("paused")},n.prototype.scrubbing=function(t){return void 0!==t?(this.Nbt=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.Nbt},n.prototype.currentTime=function(t){return void 0!==t?(this.pAt("setCurrentTime",t),this):(this.Oyt.currentTime=this.fAt("currentTime")||0,this.Oyt.currentTime)},n.prototype.duration=function(t){return void 0===t?void 0!==this.Oyt.duration?this.Oyt.duration:NaN:((t=y(t))<0&&(t=1/0),t!==this.Oyt.duration&&(this.Oyt.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},n.prototype.remainingTime=function(){return this.duration()-this.currentTime()},n.prototype.buffered=function(){var t=this.fAt("buffered");return t&&t.length||(t=(0,E.createTimeRange)(0,0)),t},n.prototype.bufferedPercent=function(){return(0,I.bufferedPercent)(this.buffered(),this.duration())},n.prototype.bufferedEnd=function(){var t=this.buffered(),n=this.duration(),i=t.end(t.length-1);return i>n&&(i=n),i},n.prototype.volume=function(t){var n=void 0;return void 0!==t?(n=g.max(0,g.min(1,y(t))),this.Oyt.volume=n,this.pAt("setVolume",n),this):(n=y(this.fAt("volume")),p(n)?1:n)},n.prototype.muted=function(t){return void 0!==t?(this.pAt("setMuted",t),this):this.fAt("muted")||!1},n.prototype.supportsFullScreen=function(){return this.fAt("supportsFullScreen")||!1},n.prototype.isFullscreen=function(t){return void 0!==t?(this.jC=!!t,this):!!this.jC},n.prototype.requestFullscreen=function(t){var n=N.default,i=void 0;return this.isFullscreen(!0),n.requestFullscreen?(o.on(s.document,n.fullscreenchange,f.bind(this,function t(i){this.isFullscreen(s.document[n.fullscreenElement]),!1===this.isFullscreen()&&o.off(s.document,n.fullscreenchange,t),this.trigger("fullscreenchange")})),n.prefixed||(i=this.Zpt.fullscreenOptions,void 0!==t&&(i=t)),this.$pt[n.requestFullscreen](i)):this.obt.supportsFullScreen()?this.pAt("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},n.prototype.exitFullscreen=function(){var t=N.default;return this.isFullscreen(!1),t.requestFullscreen?s.document[t.exitFullscreen]():this.obt.supportsFullScreen()?this.pAt("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},n.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=s.document.documentElement.style.overflow,o.on(s.document,"keydown",f.bind(this,this.fullWindowOnEscKey)),s.document.documentElement.style.overflow="hidden",h.addElClass(s.document.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},n.prototype.exitFullWindow=function(){this.isFullWindow=!1,o.off(s.document,"keydown",this.fullWindowOnEscKey),s.document.documentElement.style.overflow=this.docOrigOverflow,h.removeElClass(s.document.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.prototype.canPlayType=function(t){for(var n=void 0,i=0,e=this.Zpt.techOrder;i<e.length;i++){var s=(0,S.default)(e[i]),u=V.default.getTech(s);if(u||(u=r.default.getComponent(s)),u){if(u.isSupported()&&(n=u.canPlayType(t)))return n}else A.default.error('The "'+s+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.prototype.selectSource=function(t){var n,i=this,e=this.Zpt.techOrder.map(S.default).map(function(t){return[t,V.default.getTech(t)||r.default.getComponent(t)]}).filter(function(t){var n=t[0],i=t[1];return i?i.isSupported():(A.default.error('The "'+n+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),s=function(t,n,i){var e=void 0;return t.some(function(t){return n.some(function(n){if(e=i(t,n))return!0})}),e},u=function(t,n){var e=t[0],r=t[1];if(r.canPlaySource(n,i.Zpt[e.toLowerCase()]))return{source:n,tech:e}};return(this.Zpt.sourceOrder?s(t,e,(n=u,function(t,i){return n(i,t)})):s(e,t,u))||!1},n.prototype.src=function(t){if(void 0===t)return this.fAt("src");var n=V.default.getTech(this.Vbt);return n||(n=r.default.getComponent(this.Vbt)),Array.isArray(t)?this.bAt(t):"string"==typeof t?this.src({src:t}):t instanceof w&&(t.type&&!n.canPlaySource(t,this.Zpt[this.Vbt.toLowerCase()])?this.bAt([t]):(this.Oyt.sources=null,this.Oyt.source=t,this.Oyt.src=t.src,this.qbt=t.type||"",this.ready(function(){n.prototype.hasOwnProperty("setSource")?this.pAt("setSource",t):this.pAt("src",t.src),"auto"===this.Zpt.preload&&this.load(),this.Zpt.autoplay&&this.play()},!0))),this},n.prototype.bAt=function(t){var n=this.selectSource(t);n?(n.tech===this.Vbt?this.src(n.source):this.Xbt(n.tech,n.source),this.Oyt.sources=t):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.Zpt.notSupportedMessage)})},0),this.triggerReady())},n.prototype.load=function(){return this.pAt("load"),this},n.prototype.reset=function(){return this.Xbt((0,S.default)(this.Zpt.techOrder[0]),null),this.pAt("reset"),this},n.prototype.currentSources=function(){var t=this.currentSource(),n=[];return 0!==w.keys(t).length&&n.push(t),this.Oyt.sources||n},n.prototype.currentSource=function(){var t={},n=this.currentSrc();return n&&(t.src=n),this.Oyt.source||t},n.prototype.currentSrc=function(){return this.fAt("currentSrc")||this.Oyt.src||""},n.prototype.currentType=function(){return this.qbt||""},n.prototype.preload=function(t){return void 0!==t?(this.pAt("setPreload",t),this.Zpt.preload=t,this):this.fAt("preload")},n.prototype.autoplay=function(t){return void 0!==t?(this.pAt("setAutoplay",t),this.Zpt.autoplay=t,this):this.fAt("autoplay",t)},n.prototype.playsinline=function(t){return void 0!==t?(this.pAt("setPlaysinline",t),this.Zpt.playsinline=t,this):this.fAt("playsinline")},n.prototype.loop=function(t){return void 0!==t?(this.pAt("setLoop",t),this.Zpt.loop=t,this):this.fAt("loop")},n.prototype.poster=function(t){return void 0===t?this.YX:(t||(t=""),this.YX=t,this.pAt("setPoster",t),this.trigger("posterchange"),this)},n.prototype.hAt=function(){!this.YX&&this.obt&&this.obt.poster&&(this.YX=this.obt.poster()||"",this.trigger("posterchange"))},n.prototype.controls=function(t){return void 0!==t?(t=!!t,this.Dbt!==t&&(this.Dbt=t,this.usingNativeControls()&&this.pAt("setControls",t),t?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.lAt()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.vAt())),this):!!this.Dbt},n.prototype.usingNativeControls=function(t){return void 0!==t?(t=!!t,this.kAt!==t&&(this.kAt=t,t?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.kAt},n.prototype.error=function(t){return void 0===t?this.Au||null:null===t?(this.Au=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.Au=new x.default(t),this.addClass("vjs-error"),A.default.error("(CODE:"+this.Au.code+" "+x.default.errorTypes[this.Au.code]+")",this.Au.message,this.Au),this.trigger("error"),this)},n.prototype.reportUserActivity=function(t){this.AAt=!0},n.prototype.userActive=function(t){return void 0!==t?((t=!!t)!==this.TAt&&(this.TAt=t,t?(this.AAt=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.AAt=!1,this.obt&&this.obt.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.TAt},n.prototype.xbt=function(){var t=void 0,n=void 0,i=void 0,e=f.bind(this,this.reportUserActivity);this.on("mousedown",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}),this.on("mousemove",function(t){t.screenX===n&&t.screenY===i||(n=t.screenX,i=t.screenY,e())}),this.on("mouseup",function(n){e(),this.clearInterval(t)}),this.on("keydown",e),this.on("keyup",e);var r=void 0;this.setInterval(function(){if(this.AAt){this.AAt=!1,this.userActive(!0),this.clearTimeout(r);var t=this.Zpt.inactivityTimeout;t>0&&(r=this.setTimeout(function(){this.AAt||this.userActive(!1)},t))}},250)},n.prototype.playbackRate=function(t){return void 0!==t?(this.pAt("setPlaybackRate",t),this):this.obt&&this.obt.featuresPlaybackRate?this.fAt("playbackRate"):1},n.prototype.isAudio=function(t){return void 0!==t?(this.SAt=!!t,this):!!this.SAt},n.prototype.videoTracks=function(){return this.obt?this.obt.videoTracks():(this.zm=this.zm||new $.default,this.zm)},n.prototype.audioTracks=function(){return this.obt?this.obt.audioTracks():(this.Fm=this.Fm||new q.default,this.Fm)},n.prototype.textTracks=function(){if(this.obt)return this.obt.textTracks()},n.prototype.remoteTextTracks=function(){if(this.obt)return this.obt.remoteTextTracks()},n.prototype.remoteTextTrackEls=function(){if(this.obt)return this.obt.remoteTextTrackEls()},n.prototype.addTextTrack=function(t,n,i){if(this.obt)return this.obt.addTextTrack(t,n,i)},n.prototype.addRemoteTextTrack=function(t,n){if(this.obt)return this.obt.addRemoteTextTrack(t,n)},n.prototype.removeRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.track,i=void 0===n?arguments[0]:n;if(this.obt)return this.obt.removeRemoteTextTrack(i)},n.prototype.getVideoPlaybackQuality=function(){return this.fAt("getVideoPlaybackQuality")},n.prototype.videoWidth=function(){return this.obt&&this.obt.videoWidth&&this.obt.videoWidth()||0},n.prototype.videoHeight=function(){return this.obt&&this.obt.videoHeight&&this.obt.videoHeight()||0},n.prototype.language=function(t){return void 0===t?this.K_:(this.K_!==String(t).toLowerCase()&&(this.K_=String(t).toLowerCase(),void 0!==this.$pt&&this.trigger("languagechange")),this)},n.prototype.languages=function(){return(0,j.default)(n.prototype.Zpt.languages,this.Cbt)},n.prototype.toJSON=function(){var t=(0,j.default)(this.Zpt),n=t.tracks;t.tracks=[];for(var i=0;i<n.length;i++){var e=n[i];(e=(0,j.default)(e)).player=void 0,t.tracks[i]=e}return t},n.prototype.createModal=function(t,n){var i=this;(n=n||{}).content=t||"";var e=new X.default(this,n);return this.addChild(e),e.on("dispose",function(){i.removeChild(e)}),e.open()},n.getTagSettings=function(t){var n={sources:[],tracks:[]},i=h.getElAttributes(t),e=i["data-setup"];if(h.hasElClass(t,"vjs-fluid")&&(i.fluid=!0),null!==e){var r=(0,O.default)(e||"{}"),s=r[0],u=r[1];s&&A.default.error(s),(0,L.assign)(i,u)}if((0,L.assign)(n,i),t.hasChildNodes())for(var o=t.childNodes,a=0,c=o.length;a<c;a++){var f=o[a],l=f.nodeName.toLowerCase();"source"===l?n.sources.push(h.getElAttributes(f)):"track"===l&&n.tracks.push(h.getElAttributes(f))}return n},n.prototype.Pbt=function(){var t=s.document.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},n}(r.default);K.players={};var J=s.window.navigator;K.prototype.Zpt={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:J&&(J.languages&&J.languages[0]||J.userLanguage||J.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreenOptions:{navigationUI:"hide"}},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){K.prototype[t]=function(){return this.fAt(t)}}),Z.forEach(function(t){K.prototype["handleTech"+(0,S.default)(t)+"_"]=function(){return this.trigger(t)}}),r.default.registerComponent("Player",K),i.default=K},{1:1,116:116,4:4,41:41,44:44,45:45,46:46,5:5,50:50,55:55,59:59,60:60,61:61,62:62,63:63,68:68,69:69,71:71,76:76,78:78,79:79,8:8,81:81,82:82,83:83,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92}],52:[function(t,n,i){i.__esModule=!0;var e,r=t(51),s=(e=r)&&e.__esModule?e:{default:e};i.default=function(t,n){s.default.prototype[t]=n}},{51:51}],53:[function(t,n,i){i.__esModule=!0;var e=t(3),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.update=function(){var t=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=t,this.addChild(t),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},n.prototype.createPopup=function(){},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n.prototype.buildCSSClass=function(){var n="vjs-menu-button";return!0===this.Zpt.inline?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},n}(r.default);u.default.registerComponent("PopupButton",a),i.default=a},{3:3,5:5}],54:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=l(u),a=t(83),h=l(a),c=t(82),f=l(c);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var d=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addItem=function(t){this.addChild(t),t.on("click",h.bind(this,function(){this.unlockShowing()}))},n.prototype.createEl=function(){var n=this.Zpt.contentElType||"ul";this.nbt=o.createEl(n,{className:"vjs-menu-content"});var i=t.prototype.createEl.call(this,"div",{append:this.nbt,className:"vjs-menu"});return i.appendChild(this.nbt),f.on(i,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),i},n}(s.default);s.default.registerComponent("Popup",d),i.default=d},{5:5,81:81,82:82,83:83}],55:[function(t,n,i){i.__esModule=!0;var e=t(3),r=g(e),s=t(5),u=g(s),o=t(83),a=d(o),h=t(81),c=d(h),f=t(78),l=d(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function g(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),i.on("posterchange",a.bind(r,r.update)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},n.prototype.createEl=function(){var t=c.createEl("div",{className:"vjs-poster",tabIndex:-1});return l.BACKGROUND_SIZE_SUPPORTED||(this.EAt=c.createEl("img"),t.appendChild(this.EAt)),t},n.prototype.update=function(t){var n=this.player().poster();this.setSrc(n),n?this.show():this.hide()},n.prototype.setSrc=function(t){if(this.EAt)this.EAt.src=t;else{var n="";t&&(n='url("'+t+'")'),this.$pt.style.backgroundImage=n}},n.prototype.handleClick=function(t){this.WN.controls()&&(this.WN.paused()?this.WN.play():this.WN.pause())},n}(r.default);u.default.registerComponent("PosterImage",m),i.default=m},{3:3,5:5,78:78,81:81,83:83}],56:[function(t,n,i){i.__esModule=!0,i.hasLoaded=i.autoSetupTimeout=i.autoSetup=void 0;var e=t(81),r=a(e),s=t(82),u=a(s),o=t(85);function a(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var h=!1,c=void 0,f=function(){if(r.isReal()){var t=o.document.getElementsByTagName("video"),n=o.document.getElementsByTagName("audio"),i=[];if(t&&t.length>0)for(var e=0,s=t.length;e<s;e++)i.push(t[e]);if(n&&n.length>0)for(var u=0,a=n.length;u<a;u++)i.push(n[u]);if(i&&i.length>0)for(var f=0,v=i.length;f<v;f++){var d=i[f];if(!d||!d.getAttribute){l(1);break}if(void 0===d.player){var w=d.getAttribute("data-setup");null!==w&&c(d)}}else h||l(1)}};function l(t,n){n&&(c=n),o.window.setTimeout(f,t)}r.isReal()&&"complete"===o.document.readyState?h=!0:u.one(o.window,"load",function(){h=!0}),i.autoSetup=f,i.autoSetupTimeout=l,i.hasLoaded=function(){return h}},{81:81,82:82,85:85}],57:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(89),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.bar=r.getChild(r.Zpt.barName),r.vertical(!!r.Zpt.vertical),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on("focus",r.handleFocus),r.on("blur",r.handleBlur),r.on("click",r.handleClick),r.on(i,"controlsvisible",r.update),r.on(i,r.playerEvent,r.update),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.className=i.className+" vjs-slider",i=(0,a.assign)({tabIndex:0},i),e=(0,a.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},e),t.prototype.createEl.call(this,n,i,e)},n.prototype.handleMouseDown=function(t){var n=this.bar.$pt.ownerDocument;t.preventDefault(),o.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove),this.on(n,"mouseup",this.handleMouseUp),this.on(n,"touchmove",this.handleMouseMove),this.on(n,"touchend",this.handleMouseUp),this.handleMouseMove(t)},n.prototype.handleMouseMove=function(t){},n.prototype.handleMouseUp=function(){var t=this.bar.$pt.ownerDocument;o.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},n.prototype.update=function(){if(this.$pt){var t=this.getPercent(),n=this.bar;if(n){("number"!=typeof t||t!=t||t<0||t===1/0)&&(t=0);var i=(100*t).toFixed(2)+"%";this.vertical()?n.el().style.height=i:n.el().style.width=i}}},n.prototype.calculateDistance=function(t){var n=o.getPointerPosition(this.$pt,t);return this.vertical()?n.y:n.x},n.prototype.handleFocus=function(){this.on(this.bar.$pt.ownerDocument,"keydown",this.handleKeyPress)},n.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},n.prototype.handleBlur=function(){this.off(this.bar.$pt.ownerDocument,"keydown",this.handleKeyPress)},n.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},n.prototype.vertical=function(t){return void 0===t?this.bk||!1:(this.bk=!!t,this.bk?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},n}(s.default);s.default.registerComponent("Slider",h),i.default=h},{5:5,81:81,89:89}],58:[function(t,n,i){i.__esModule=!0,i.default=function(t){return t.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},t.streamFromParts=function(t,n){return t+"&"+n},t.streamToParts=function(t){var n={connection:"",stream:""};if(!t)return n;var i=t.search(/&(?!\w+=)/),e=void 0;return-1!==i?e=i+1:0===(i=e=t.lastIndexOf("/")+1)&&(i=e=t.length),n.connection=t.substring(0,i),n.stream=t.substring(e,t.length),n},t.isStreamingType=function(n){return n in t.streamingFormats},t.RTMP_RE=/^rtmp[set]?:\/\//i,t.isStreamingSrc=function(n){return t.RTMP_RE.test(n)},t.rtmpSourceHandler={},t.rtmpSourceHandler.canPlayType=function(n){return t.isStreamingType(n)?"maybe":""},t.rtmpSourceHandler.canHandleSource=function(n,i){var e=t.rtmpSourceHandler.canPlayType(n.type);return e||(t.isStreamingSrc(n.src)?"maybe":"")},t.rtmpSourceHandler.handleSource=function(n,i,e){var r=t.streamToParts(n.src);i.setRtmpConnection(r.connection),i.setRtmpStream(r.stream)},t.registerSourceHandler(t.rtmpSourceHandler),t}},{}],59:[function(t,n,i){i.__esModule=!0;var e=t(62),r=p(e),s=t(81),u=y(s),o=t(93),a=y(o),h=t(91),c=t(58),f=p(c),l=t(5),d=p(l),g=t(85),m=t(89);function y(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function p(t){return t&&t.__esModule?t:{default:t}}var _=g.window.navigator,b=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return i.source&&r.ready(function(){this.setSource(i.source)},!0),i.startTime&&r.ready(function(){this.load(),this.play(),this.currentTime(i.startTime)},!0),g.window.videojs=g.window.videojs||{},g.window.videojs.Flash=g.window.videojs.Flash||{},g.window.videojs.Flash.onReady=n.onReady,g.window.videojs.Flash.onEvent=n.onEvent,g.window.videojs.Flash.onError=n.onError,r.on("seeked",function(){this.IAt=void 0}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var t=this.Zpt;t.swf||(t.swf="//vjs.zencdn.net/swf/5.4.1/video-js.swf");var i=t.techId,e=(0,m.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:t.autoplay,preload:t.preload,loop:t.loop,muted:t.muted},t.flashVars),r=(0,m.assign)({wmode:"opaque",bgcolor:"#000000"},t.params),s=(0,m.assign)({id:i,name:i,class:"vjs-tech"},t.attributes);return this.$pt=n.embed(t.swf,e,r,s),this.$pt.tech=this,this.$pt},n.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.$pt.vjs_play()},n.prototype.pause=function(){this.$pt.vjs_pause()},n.prototype.src=function(t){return void 0===t?this.currentSrc():this.setSrc(t)},n.prototype.setSrc=function(t){var n=this;t=a.getAbsoluteURL(t),this.$pt.vjs_src(t),this.autoplay()&&this.setTimeout(function(){return n.play()},0)},n.prototype.seeking=function(){return void 0!==this.IAt},n.prototype.setCurrentTime=function(n){var i=this.seekable();i.length&&(n=(n=n>i.start(0)?n:i.start(0))<i.end(i.length-1)?n:i.end(i.length-1),this.IAt=n,this.trigger("seeking"),this.$pt.vjs_setProperty("currentTime",n),t.prototype.setCurrentTime.call(this))},n.prototype.currentTime=function(){return this.seeking()?this.IAt||0:this.$pt.vjs_getProperty("currentTime")},n.prototype.currentSrc=function(){return this.yy?this.yy.src:this.$pt.vjs_getProperty("currentSrc")},n.prototype.duration=function(){if(0===this.readyState())return NaN;var t=this.$pt.vjs_getProperty("duration");return t>=0?t:1/0},n.prototype.load=function(){this.$pt.vjs_load()},n.prototype.poster=function(){this.$pt.vjs_getProperty("poster")},n.prototype.setPoster=function(){},n.prototype.seekable=function(){var t=this.duration();return 0===t?(0,h.createTimeRange)():(0,h.createTimeRange)(0,t)},n.prototype.buffered=function(){var t=this.$pt.vjs_getProperty("buffered");return 0===t.length?(0,h.createTimeRange)():(0,h.createTimeRange)(t[0][0],t[0][1])},n.prototype.supportsFullScreen=function(){return!1},n.prototype.enterFullScreen=function(){return!1},n.prototype.getVideoPlaybackQuality=function(){var t=this.$pt.vjs_getProperty("getVideoPlaybackQuality");return g.window.performance&&"function"==typeof g.window.performance.now?t.creationTime=g.window.performance.now():g.window.performance&&g.window.performance.timing&&"number"==typeof g.window.performance.timing.navigationStart&&(t.creationTime=g.window.Date.now()-g.window.performance.timing.navigationStart),t},n}(r.default),k=b.prototype,A="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),T="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(",");function S(t){var n=t.charAt(0).toUpperCase()+t.slice(1);k["set"+n]=function(n){return this.$pt.vjs_setProperty(t,n)}}function E(t){k[t]=function(){return this.$pt.vjs_getProperty(t)}}for(var I=0;I<A.length;I++)E(A[I]),S(A[I]);for(var R=0;R<T.length;R++)E(T[R]);b.isSupported=function(){return b.version()[0]>=10},r.default.withSourceHandlers(b),b.nativeSourceHandler={},b.nativeSourceHandler.canPlayType=function(t){return t in b.formats?"maybe":""},b.nativeSourceHandler.canHandleSource=function(t,n){var i,e,r=void 0;return r=t.type?t.type.replace(/;.*/,"").toLowerCase():(i=t.src,(e=a.getFileExtension(i))?"video/"+e:""),b.nativeSourceHandler.canPlayType(r)},b.nativeSourceHandler.handleSource=function(t,n,i){n.setSrc(t.src)},b.nativeSourceHandler.dispose=function(){},b.registerSourceHandler(b.nativeSourceHandler),b.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},b.onReady=function(t){var n=u.getEl(t),i=n&&n.tech;i&&i.el()&&b.checkReady(i)},b.checkReady=function(t){t.el()&&(t.el().vjs_getProperty?t.triggerReady():this.setTimeout(function(){b.checkReady(t)},50))},b.onEvent=function(t,n){var i=u.getEl(t).tech,e=Array.prototype.slice.call(arguments,2);i.setTimeout(function(){i.trigger(n,e)},1)},b.onError=function(t,n){var i=u.getEl(t).tech;if("srcnotfound"===n)return i.error(4);i.error("FLASH: "+n)},b.version=function(){var t="0,0,0";try{t=new g.window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(n){try{_.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(_.plugins["Shockwave Flash 2.0"]||_.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(t){}}return t.split(",")},b.embed=function(t,n,i,e){var r=b.getEmbedCode(t,n,i,e),s=u.createEl("div",{innerHTML:r}).childNodes[0];return s},b.getEmbedCode=function(t,n,i,e){var r="",s="",u="";return n&&w.getOwnPropertyNames(n).forEach(function(t){r+=t+"="+n[t]+"&amp;"}),i=(0,m.assign)({movie:t,flashvars:r,allowScriptAccess:"always",allowNetworking:"all"},i),w.getOwnPropertyNames(i).forEach(function(t){s+='<param name="'+t+'" value="'+i[t]+'" />'}),e=(0,m.assign)({data:t,width:"100%",height:"100%"},e),w.getOwnPropertyNames(e).forEach(function(t){u+=t+'="'+e[t]+'" '}),'<object type="application/x-shockwave-flash" '+u+">"+s+"</object>"},(0,f.default)(b),d.default.registerComponent("Flash",b),r.default.registerTech("Flash",b),i.default=b},{5:5,58:58,62:62,81:81,85:85,89:89,91:91,93:93}],60:[function(t,n,i){i.__esModule=!0;var e,r=((e=["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]).raw=["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],e),s=t(62),u=D(s),o=t(5),a=D(o),h=t(81),c=C(h),f=t(93),l=C(f),d=t(83),g=C(d),m=t(87),y=D(m),p=t(121),_=D(p),b=t(78),k=C(b),A=t(85),T=t(89),S=t(88),E=D(S),I=t(92),R=D(I);function C(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function D(t){return t&&t.__esModule?t:{default:t}}var N=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e)),u=i.source,o=!1;if(u&&(s.$pt.currentSrc!==u.src||i.tag&&3===i.tag.jbt)?s.setSource(u):s.RAt(s.$pt),s.$pt.hasChildNodes()){for(var a=s.$pt.childNodes,h=a.length,c=[];h--;){var f=a[h],d=f.nodeName.toLowerCase();"track"===d&&(s.featuresNativeTextTracks?(s.remoteTextTrackEls().CAt(f),s.remoteTextTracks().B_(f.track),o||s.$pt.hasAttribute("crossorigin")||!l.isCrossOrigin(f.src)||(o=!0)):c.push(f))}for(var w=0;w<c.length;w++)s.$pt.removeChild(c[w])}return["audio","video"].forEach(function(t){var n=s.el()[t+"Tracks"],i=s[t+"Tracks"](),e=(0,R.default)(t);s["featuresNative"+e+"Tracks"]&&n&&n.addEventListener&&(s["handle"+e+"DAt"]=function(t){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},s["handle"+e+"NAt"]=function(t){return i.addTrack(t.track)},s["handle"+e+"PAt"]=function(t){return i.removeTrack(t.track)},n.addEventListener("change",s["handle"+e+"DAt"]),n.addEventListener("addtrack",s["handle"+e+"NAt"]),n.addEventListener("removetrack",s["handle"+e+"PAt"]),s["removeOld"+e+"xAt"]=function(t){return s.BAt(i,n)},s.on("loadstart",s["removeOld"+e+"xAt"]))}),s.featuresNativeTextTracks&&(o&&y.default.warn((0,_.default)(r)),s.OAt=g.bind(s,s.handleTextTrackChange),s.LAt=g.bind(s,s.handleTextTrackAdd),s.MAt=g.bind(s,s.handleTextTrackRemove),s.jAt()),s.FAt(),(k.TOUCH_ENABLED||k.IS_IPHONE||k.IS_NATIVE_ANDROID)&&!0===i.nativeControlsForTouch&&s.setControls(!0),s.UAt(),s.triggerReady(),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){var i=this;["audio","video","text"].forEach(function(t){var n=(0,R.default)(t),e=i.$pt[t+"Tracks"];e&&e.removeEventListener&&(e.removeEventListener("change",i["handle"+n+"DAt"]),e.removeEventListener("addtrack",i["handle"+n+"NAt"]),e.removeEventListener("removetrack",i["handle"+n+"PAt"])),e&&i.off("loadstart",i["removeOld"+n+"xAt"])}),n.disposeMediaElement(this.$pt),t.prototype.dispose.call(this)},n.prototype.FAt=function(){var t=this.textTracks(),n=void 0,i=function(){n=[];for(var i=0;i<t.length;i++){var e=t[i];"metadata"===e.kind&&n.push({track:e,storedMode:e.mode})}};i(),t.addEventListener("change",i);var e=function i(){for(var e=0;e<n.length;e++){var r=n[e];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}t.removeEventListener("change",i)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",i),t.removeEventListener("change",e),t.addEventListener("change",e)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",i),t.addEventListener("change",i),t.removeEventListener("change",e)})},n.prototype.createEl=function(){var t=this.Zpt.tag;if(!t||!this.Zpt.playerElIngest&&!this.movingMediaElementInDOM){if(t){var i=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(i,t),n.disposeMediaElement(t),t=i}else{t=A.document.createElement("video");var e=this.Zpt.tag&&c.getElAttributes(this.Zpt.tag),r=(0,E.default)({},e);k.TOUCH_ENABLED&&!0===this.Zpt.nativeControlsForTouch||delete r.controls,c.setElAttributes(t,(0,T.assign)(r,{id:this.Zpt.techId,class:"vjs-tech"}))}t.playerId=this.Zpt.playerId}void 0!==this.Zpt.preload&&c.setAttribute(t,"preload",this.Zpt.preload);for(var s=["loop","muted","playsinline","autoplay"],u=s.length-1;u>=0;u--){var o=s[u],a=this.Zpt[o];void 0!==a&&(a?c.setAttribute(t,o,o):c.removeAttribute(t,o),t[o]=a)}return t},n.prototype.RAt=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var n=!1,i=function(){n=!0};this.on("loadstart",i);var e=function(){n||this.trigger("loadstart")};return this.on("loadedmetadata",e),void this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",e),n||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(t){this.trigger(t)},this)})}},n.prototype.jAt=function(){var t=this.el().textTracks;if(t){for(var n=0;n<t.length;n++)this.textTracks().B_(t[n]);t.addEventListener&&(t.addEventListener("change",this.OAt),t.addEventListener("addtrack",this.LAt),t.addEventListener("removetrack",this.MAt)),this.on("loadstart",this.HAt)}},n.prototype.handleTextTrackChange=function(t){var n=this.textTracks();this.textTracks().trigger({type:"change",target:n,currentTarget:n,srcElement:n})},n.prototype.handleTextTrackAdd=function(t){this.textTracks().B_(t.track)},n.prototype.handleTextTrackRemove=function(t){this.textTracks().O_(t.track)},n.prototype.BAt=function(t,n){var i=[];if(n){for(var e=0;e<t.length;e++){for(var r=t[e],s=!1,u=0;u<n.length;u++)if(n[u]===r){s=!0;break}s||i.push(r)}for(var o=0;o<i.length;o++){var a=i[o];t.O_(a)}}},n.prototype.HAt=function(t){var n=this.textTracks(),i=this.el().textTracks;this.BAt(n,i)},n.prototype.play=function(){var t=this.$pt.play();void 0!==t&&"function"==typeof t.then&&t.then(null,function(t){})},n.prototype.setCurrentTime=function(t){try{this.$pt.currentTime=t}catch(t){(0,y.default)(t,"Video is not ready. (Video.js)")}},n.prototype.duration=function(){var t=this;return this.$pt.duration===1/0&&k.IS_ANDROID&&k.IS_CHROME&&0===this.$pt.currentTime?(this.on("timeupdate",function n(){t.$pt.currentTime>0&&(t.$pt.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",n))}),NaN):this.$pt.duration||NaN},n.prototype.width=function(){return this.$pt.offsetWidth},n.prototype.height=function(){return this.$pt.offsetHeight},n.prototype.UAt=function(){var t=this;if("webkitDisplayingFullscreen"in this.$pt){var n=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.$pt&&"picture-in-picture"!==this.$pt.webkitPresentationMode&&(this.one("webkitendfullscreen",n),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",function(){t.off("webkitbeginfullscreen",i),t.off("webkitendfullscreen",n)})}},n.prototype.supportsFullScreen=function(){if("function"==typeof this.$pt.webkitEnterFullScreen){var t=A.window.navigator&&A.window.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},n.prototype.enterFullScreen=function(){var t=this.$pt;t.paused&&t.networkState<=t.HAVE_METADATA?(this.$pt.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},n.prototype.exitFullScreen=function(){this.$pt.webkitExitFullScreen()},n.prototype.src=function(t){if(void 0===t)return this.$pt.src;this.setSrc(t)},n.prototype.reset=function(){n.resetMediaElement(this.$pt)},n.prototype.currentSrc=function(){return this.yy?this.yy.src:this.$pt.currentSrc},n.prototype.setControls=function(t){this.$pt.controls=!!t},n.prototype.addTextTrack=function(n,i,e){return this.featuresNativeTextTracks?this.$pt.addTextTrack(n,i,e):t.prototype.addTextTrack.call(this,n,i,e)},n.prototype.createRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,n);var i=A.document.createElement("track");return n.kind&&(i.kind=n.kind),n.label&&(i.label=n.label),(n.language||n.srclang)&&(i.srclang=n.language||n.srclang),n.default&&(i.default=n.default),n.id&&(i.id=n.id),n.src&&(i.src=n.src),i},n.prototype.addRemoteTextTrack=function(n,i){var e=t.prototype.addRemoteTextTrack.call(this,n,i);return this.featuresNativeTextTracks&&this.el().appendChild(e),e},n.prototype.removeRemoteTextTrack=function(n){if(t.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var i=this.$$("track"),e=i.length;e--;)n!==i[e]&&n!==i[e].track||this.el().removeChild(i[e])},n.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),A.window.performance&&"function"==typeof A.window.performance.now?t.creationTime=A.window.performance.now():A.window.performance&&A.window.performance.timing&&"number"==typeof A.window.performance.timing.navigationStart&&(t.creationTime=A.window.Date.now()-A.window.performance.timing.navigationStart),t},n}(u.default);if(c.isReal()){N.TEST_VID=A.document.createElement("video");var P=A.document.createElement("track");P.kind="captions",P.srclang="en",P.label="English",N.TEST_VID.appendChild(P)}N.isSupported=function(){try{N.TEST_VID.volume=.5}catch(t){return!1}return!(!N.TEST_VID||!N.TEST_VID.canPlayType)},N.canControlVolume=function(){try{var t=N.TEST_VID.volume;return N.TEST_VID.volume=t/2+.1,t!==N.TEST_VID.volume}catch(t){return!1}},N.canControlPlaybackRate=function(){if(k.IS_ANDROID&&k.IS_CHROME&&k.CHROME_VERSION<58)return!1;try{var t=N.TEST_VID.playbackRate;return N.TEST_VID.playbackRate=t/2+.1,t!==N.TEST_VID.playbackRate}catch(t){return!1}},N.supportsNativeTextTracks=function(){return k.IS_ANY_SAFARI},N.supportsNativeVideoTracks=function(){return!(!N.TEST_VID||!N.TEST_VID.videoTracks)},N.supportsNativeAudioTracks=function(){return!(!N.TEST_VID||!N.TEST_VID.audioTracks)},N.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],N.prototype.featuresVolumeControl=N.canControlVolume(),N.prototype.featuresPlaybackRate=N.canControlPlaybackRate(),N.prototype.movingMediaElementInDOM=!k.IS_IOS,N.prototype.featuresFullscreenResize=!0,N.prototype.featuresProgressEvents=!0,N.prototype.featuresTimeupdateEvents=!0,N.prototype.featuresNativeTextTracks=N.supportsNativeTextTracks(),N.prototype.featuresNativeVideoTracks=N.supportsNativeVideoTracks(),N.prototype.featuresNativeAudioTracks=N.supportsNativeAudioTracks();var x=N.TEST_VID&&N.TEST_VID.constructor.prototype.canPlayType,B=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,O=/^video\/mp4/i;N.patchCanPlayType=function(){k.ANDROID_VERSION>=4&&!k.IS_FIREFOX?N.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&B.test(t)?"maybe":x.call(this,t)}:k.IS_OLD_ANDROID&&(N.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&O.test(t)?"maybe":x.call(this,t)})},N.unpatchCanPlayType=function(){var t=N.TEST_VID.constructor.prototype.canPlayType;return N.TEST_VID.constructor.prototype.canPlayType=x,t},N.patchCanPlayType(),N.disposeMediaElement=function(t){if(t){var n=t.nodeName.toLowerCase();if("video"===n||"audio"===n){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}}},N.resetMediaElement=function(t){if(t){for(var n=t.querySelectorAll("source"),i=n.length;i--;)t.removeChild(n[i]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){N.prototype[t]=function(){return this.$pt[t]||this.$pt.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){N.prototype["set"+(0,R.default)(t)]=function(n){this.$pt[t]=n,n?this.$pt.setAttribute(t,t):this.$pt.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){N.prototype[t]=function(){return this.$pt[t]}}),["volume","src","poster","preload","playbackRate"].forEach(function(t){N.prototype["set"+(0,R.default)(t)]=function(n){this.$pt[t]=n}}),["pause","load"].forEach(function(t){N.prototype[t]=function(){return this.$pt[t]()}}),u.default.withSourceHandlers(N),N.nativeSourceHandler={},N.nativeSourceHandler.canPlayType=function(t){try{return N.TEST_VID.canPlayType(t)}catch(t){return""}},N.nativeSourceHandler.canHandleSource=function(t,n){if(t.type)return N.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=l.getFileExtension(t.src);return N.nativeSourceHandler.canPlayType("video/"+i)}return""},N.nativeSourceHandler.handleSource=function(t,n,i){n.setSrc(t.src)},N.nativeSourceHandler.dispose=function(){},N.registerSourceHandler(N.nativeSourceHandler),a.default.registerComponent("Html5",N),u.default.registerTech("Html5",N),i.default=N},{121:121,5:5,62:62,78:78,81:81,83:83,85:85,87:87,88:88,89:89,92:92,93:93}],61:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(62),u=h(s),o=t(92),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,s){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,s));if(e.playerOptions.sources&&0!==e.playerOptions.sources.length)i.src(e.playerOptions.sources);else for(var h=0,c=e.playerOptions.techOrder;h<c.length;h++){var f=(0,a.default)(c[h]),l=u.default.getTech(f);if(f||(l=r.default.getComponent(f)),l&&l.isSupported()){i.Xbt(f);break}}return o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(r.default);r.default.registerComponent("MediaLoader",c),i.default=c},{5:5,62:62,92:92}],62:[function(t,n,i){i.__esModule=!0;var e=t(5),r=P(e),s=t(66),u=P(s),o=t(65),a=P(o),h=t(88),c=P(h),f=t(72),d=P(f),g=t(70),m=P(g),y=t(76),p=P(y),_=t(63),b=P(_),k=t(83),A=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(k),T=t(87),S=P(T),E=t(91),I=t(79),R=t(46),C=P(R),D=t(85),N=t(89);function P(t){return t&&t.__esModule?t:{default:t}}var x=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),i.reportTouchActivity=!1;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,null,i,e));return r._At=!1,r.on("playing",function(){this._At=!0}),r.on("loadstart",function(){this._At=!1}),r.Vm=i.textTracks,r.zm=i.videoTracks,r.Fm=i.audioTracks,r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===i["native"+t+"Tracks"]&&(r["featuresNative"+t+"Tracks"]=!1)}),!1===i.nativeCaptions&&(r.featuresNativeTextTracks=!1),r.featuresNativeTextTracks||r.emulateTextTracks(),r.XAt=new m.default,r.initTextTrackListeners(),r.initTrackListeners(),i.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r._i=r.constructor.name||"Unknown Tech"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(A.bind(this,function(){var t=this.bufferedPercent();this.zAt!==t&&this.trigger("progress"),this.zAt=t,1===t&&this.stopTrackingProgress()}),500)},n.prototype.onDurationChange=function(t){this.nm=this.duration()},n.prototype.buffered=function(){return(0,E.createTimeRange)(0,0)},n.prototype.bufferedPercent=function(){return(0,I.bufferedPercent)(this.buffered(),this.nm)},n.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},n.prototype.clearTracks=function(t){var n=this;(t=[].concat(t)).forEach(function(t){for(var i=n[t+"Tracks"]()||[],e=i.length;e--;){var r=i[e];"text"===t&&n.removeRemoteTextTrack(r),i.O_(r)}})},n.prototype.cleanupAutoTextTracks=function(){for(var t=this.XAt||[],n=t.length;n--;){var i=t[n];this.removeRemoteTextTrack(i)}},n.prototype.reset=function(){},n.prototype.error=function(t){return void 0!==t&&(this.Au=new C.default(t),this.trigger("error")),this.Au},n.prototype.played=function(){return this._At?(0,E.createTimeRange)(0,0):(0,E.createTimeRange)()},n.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.initTextTrackListeners=function(){var t=A.bind(this,function(){this.trigger("texttrackchange")}),n=this.textTracks();n&&(n.addEventListener("removetrack",t),n.addEventListener("addtrack",t),this.on("dispose",A.bind(this,function(){n.removeEventListener("removetrack",t),n.removeEventListener("addtrack",t)})))},n.prototype.initTrackListeners=function(){var t=this;["video","audio"].forEach(function(n){var i=function(){t.trigger(n+"trackchange")},e=t[n+"Tracks"]();e.addEventListener("removetrack",i),e.addEventListener("addtrack",i),t.on("dispose",function(){e.removeEventListener("removetrack",i),e.removeEventListener("addtrack",i)})})},n.prototype.VAt=function(){var t=this;if(!D.window.WebVTT)if(D.document.body.contains(this.el())){var n={};if(!this.Zpt["vtt.js"]&&(0,N.isPlain)(n)&&w.keys(n).length>0)return void this.trigger("vttjsloaded");var i=D.document.createElement("script");i.src=this.Zpt["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",i.onload=function(){t.trigger("vttjsloaded")},i.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){i.onload=null,i.onerror=null}),D.window.WebVTT=!0,this.el().parentNode.appendChild(i)}else this.ready(this.VAt)},n.prototype.emulateTextTracks=function(){var t=this,n=this.textTracks();if(n){var i=this.remoteTextTracks(),e=function(t){return n.B_(t.track)},r=function(t){return n.O_(t.track)};i.on("addtrack",e),i.on("removetrack",r),this.VAt();var s=function(){return t.trigger("texttrackchange")},u=function(){s();for(var t=0;t<n.length;t++){var i=n[t];i.removeEventListener("cuechange",s),"showing"===i.mode&&i.addEventListener("cuechange",s)}};u(),n.addEventListener("change",u),n.addEventListener("addtrack",u),n.addEventListener("removetrack",u),this.on("dispose",function(){i.off("addtrack",e),i.off("removetrack",r),n.removeEventListener("change",u),n.removeEventListener("addtrack",u),n.removeEventListener("removetrack",u);for(var t=0;t<n.length;t++){var o=n[t];o.removeEventListener("cuechange",s)}})}},n.prototype.videoTracks=function(){return this.zm=this.zm||new p.default,this.zm},n.prototype.audioTracks=function(){return this.Fm=this.Fm||new b.default,this.Fm},n.prototype.textTracks=function(){return this.Vm=this.Vm||new m.default,this.Vm},n.prototype.remoteTextTracks=function(){return this.WAt=this.WAt||new m.default,this.WAt},n.prototype.remoteTextTrackEls=function(){return this.qAt=this.qAt||new a.default,this.qAt},n.prototype.addTextTrack=function(t,n,i){if(!t)throw new l("TextTrack kind is required but was not provided");return function(t,n,i,e){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=t.textTracks();r.kind=n,i&&(r.label=i),e&&(r.language=e),r.tech=t;var u=new d.default(r);return s.B_(u),u}(this,t,n,i)},n.prototype.createRemoteTextTrack=function(t){var n=(0,c.default)(t,{tech:this});return new u.default(n)},n.prototype.addRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=this.createRemoteTextTrack(t);return!0!==n&&!1!==n&&(S.default.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().CAt(i),this.remoteTextTracks().B_(i.track),!0!==n&&this.XAt.B_(i.track),i},n.prototype.removeRemoteTextTrack=function(t){var n=this.remoteTextTrackEls().gbt(t);this.remoteTextTrackEls().GAt(n),this.remoteTextTracks().O_(t),this.XAt.O_(t)},n.prototype.getVideoPlaybackQuality=function(){return{}},n.prototype.setPoster=function(){},n.prototype.playsinline=function(){},n.prototype.setPlaysinline=function(){},n.prototype.canPlayType=function(){return""},n.isTech=function(t){return t.prototype instanceof n||t instanceof n||t===n},n.registerTech=function(t,i){if(n.$At||(n.$At={}),!n.isTech(i))throw new l("Tech "+t+" must be a Tech");return n.$At[t]=i,i},n.getTech=function(t){return n.$At&&n.$At[t]?n.$At[t]:D.window&&D.window.videojs&&D.window.videojs[t]?(S.default.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),D.window.videojs[t]):void 0},n}(r.default);x.prototype.Vm,x.prototype.Fm,x.prototype.zm,x.prototype.featuresVolumeControl=!0,x.prototype.featuresFullscreenResize=!1,x.prototype.featuresPlaybackRate=!1,x.prototype.featuresProgressEvents=!1,x.prototype.featuresTimeupdateEvents=!1,x.prototype.featuresNativeTextTracks=!1,x.withSourceHandlers=function(t){t.registerSourceHandler=function(n,i){var e=t.sourceHandlers;e||(e=t.sourceHandlers=[]),void 0===i&&(i=e.length),e.splice(i,0,n)},t.canPlayType=function(n){for(var i=t.sourceHandlers||[],e=void 0,r=0;r<i.length;r++)if(e=i[r].canPlayType(n))return e;return""},t.selectSourceHandler=function(n,i){for(var e=t.sourceHandlers||[],r=0;r<e.length;r++)if(e[r].canHandleSource(n,i))return e[r];return null},t.canPlaySource=function(n,i){var e=t.selectSourceHandler(n,i);return e?e.canHandleSource(n,i):""},["seekable","duration"].forEach(function(t){var n=this[t];"function"==typeof n&&(this[t]=function(){return this.YAt&&this.YAt[t]?this.YAt[t].apply(this.YAt,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(n){var i=t.selectSourceHandler(n,this.Zpt);return i||(t.nativeSourceHandler?i=t.nativeSourceHandler:S.default.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==t.nativeSourceHandler&&(this.yy=n,this.off(this.$pt,"loadstart",t.prototype.QAt),this.off(this.$pt,"loadstart",t.prototype.ZAt),this.one(this.$pt,"loadstart",t.prototype.QAt)),this.YAt=i.handleSource(n,this,this.Zpt),this.on("dispose",this.disposeSourceHandler),this},t.prototype.QAt=function(){this.one(this.$pt,"loadstart",t.prototype.ZAt)},t.prototype.ZAt=function(){this.disposeSourceHandler(),this.one(this.$pt,"loadstart",t.prototype.ZAt)},t.prototype.disposeSourceHandler=function(){this.yy&&(this.clearTracks(["audio","video"]),this.yy=null),this.cleanupAutoTextTracks(),this.YAt&&(this.off(this.$pt,"loadstart",t.prototype.QAt),this.off(this.$pt,"loadstart",t.prototype.ZAt),this.YAt.dispose&&this.YAt.dispose(),this.YAt=null)}},r.default.registerComponent("Tech",x),r.default.registerComponent("MediaTechController",x),x.registerTech("Tech",x),i.default=x},{46:46,5:5,63:63,65:65,66:66,70:70,72:72,76:76,79:79,83:83,85:85,87:87,88:88,89:89,91:91}],63:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t,n){for(var i=0;i<t.length;i++)n.id!==t[i].id&&(t[i].enabled=!1)},f=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);for(var r=void 0,u=e.length-1;u>=0;u--)if(e[u].enabled){c(e,e[u]);break}if(o.IS_IE8){for(var f in r=a.document.createElement("custom"),s.default.prototype)"constructor"!==f&&(r[f]=s.default.prototype[f]);for(var l in n.prototype)"constructor"!==l&&(r[l]=n.prototype[l])}return i=h(this,t.call(this,e,r)),(r=i).KAt=!1,h(i,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.B_=function(n){var i=this;n.enabled&&c(this,n),t.prototype.B_.call(this,n),n.addEventListener&&n.addEventListener("enabledchange",function(){i.KAt||(i.KAt=!0,c(i,n),i.KAt=!1,i.trigger("change"))})},n.prototype.addTrack=function(t){this.B_(t)},n.prototype.removeTrack=function(n){t.prototype.O_.call(this,n)},n}(s.default);i.default=f},{74:74,78:78,85:85}],64:[function(t,n,i){i.__esModule=!0;var e=t(73),r=t(75),s=c(r),u=t(88),o=c(u),a=t(78),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var l=function(t){function n(){var i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=(0,o.default)(r,{kind:e.AudioTrackKind[r.kind]||""}),u=i=f(this,t.call(this,s)),a=!1;if(h.IS_IE8)for(var c in n.prototype)"constructor"!==c&&(u[c]=n.prototype[c]);return w.defineProperty(u,"enabled",{get:function(){return a},set:function(t){"boolean"==typeof t&&t!==a&&(a=t,this.trigger("enabledchange"))}}),s.enabled&&(u.enabled=s.enabled),u.dyt=!0,f(i,u)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(s.default);i.default=l},{73:73,75:75,78:78,88:88}],65:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,t);var i=this;if(r.IS_IE8)for(var e in i=s.document.createElement("custom"),t.prototype)"constructor"!==e&&(i[e]=t.prototype[e]);i.JAt=[],w.defineProperty(i,"length",{get:function(){return this.JAt.length}});for(var u=0,o=n.length;u<o;u++)i.CAt(n[u]);if(r.IS_IE8)return i}return t.prototype.CAt=function(t){var n=this.JAt.length;""+n in this||w.defineProperty(this,n,{get:function(){return this.JAt[n]}}),-1===this.JAt.indexOf(t)&&this.JAt.push(t)},t.prototype.gbt=function(t){for(var n=void 0,i=0,e=this.JAt.length;i<e;i++)if(t===this.JAt[i].track){n=this.JAt[i];break}return n},t.prototype.GAt=function(t){for(var n=0,i=this.JAt.length;n<i;n++)if(t===this.JAt[n]){this.JAt.splice(n,1);break}},t}();i.default=u},{78:78,85:85}],66:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=t(42),o=c(u),a=t(72),h=c(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var l=0,d=2,g=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var e=f(this,t.call(this)),u=void 0,o=e;if(r.IS_IE8)for(var a in o=s.document.createElement("custom"),n.prototype)"constructor"!==a&&(o[a]=n.prototype[a]);var c=new h.default(i);return o.kind=c.kind,o.src=c.src,o.srclang=c.language,o.label=c.label,o.default=c.default,w.defineProperty(o,"readyState",{get:function(){return u}}),w.defineProperty(o,"track",{get:function(){return c}}),u=l,c.addEventListener("loadeddata",function(){u=d,o.trigger({type:"load",target:o})}),r.IS_IE8?f(e,o):e}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(o.default);g.prototype.ybt={load:"load"},g.NONE=l,g.LOADING=1,g.LOADED=d,g.ERROR=3,i.default=g},{42:42,72:72,78:78,85:85}],67:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,t);var i=this;if(r.IS_IE8)for(var e in i=s.document.createElement("custom"),t.prototype)"constructor"!==e&&(i[e]=t.prototype[e]);if(t.prototype.tTt.call(i,n),w.defineProperty(i,"length",{get:function(){return this.M_}}),r.IS_IE8)return i}return t.prototype.tTt=function(t){var n=this.length||0,i=0,e=t.length;this._g=t,this.M_=t.length;var r=function(t){""+t in this||w.defineProperty(this,""+t,{get:function(){return this._g[t]}})};if(n<e)for(i=n;i<e;i++)r.call(this,i)},t.prototype.getCueById=function(t){for(var n=null,i=0,e=this.length;i<e;i++){var r=this[i];if(r.id===t){n=r;break}}return n},t}();i.default=u},{78:78,85:85}],68:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(83),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function c(t,n){return"rgba("+m(t[1]+t[1],16)+","+m(t[2]+t[2],16)+","+m(t[3]+t[3],16)+","+n+")"}function f(t,n,i){try{t.style[n]=i}catch(t){return}}var l=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return i.on("loadstart",o.bind(s,s.toggleDisplay)),i.on("texttrackchange",o.bind(s,s.updateDisplay)),i.ready(o.bind(s,function(){if(i.obt&&i.obt.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",o.bind(this,this.updateDisplay));for(var t=this.Zpt.playerOptions.tracks||[],n=0;n<t.length;n++)this.WN.addRemoteTextTrack(t[n],!0);var e={captions:1,subtitles:1},r=this.WN.textTracks(),s=void 0,u=void 0;if(r){for(var a=0;a<r.length;a++){var h=r[a];h.default&&("descriptions"!==h.kind||s?h.kind in e&&!u&&(u=h):s=h)}u?u.mode="showing":s&&(s.mode="showing")}}})),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.toggleDisplay=function(){this.WN.obt&&this.WN.obt.featuresNativeTextTracks?this.hide():this.show()},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.prototype.clearDisplay=function(){"function"==typeof a.window.WebVTT&&a.window.WebVTT.processCues(a.window,[],this.$pt)},n.prototype.updateDisplay=function(){var t=this.WN.textTracks();if(this.clearDisplay(),t){for(var n=null,i=null,e=t.length;e--;){var r=t[e];"showing"===r.mode&&("descriptions"===r.kind?n=r:i=r)}i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n))}},n.prototype.updateForTrack=function(t){if("function"==typeof a.window.WebVTT&&t.activeCues){for(var n=this.WN.textTrackSettings.getValues(),i=[],e=0;e<t.activeCues.length;e++)i.push(t.activeCues[e]);a.window.WebVTT.processCues(a.window,i,this.$pt);for(var r=i.length;r--;){var s=i[r];if(s){var u=s.displayState;if(n.color&&(u.firstChild.style.color=n.color),n.textOpacity&&f(u.firstChild,"color",c(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(u.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&f(u.firstChild,"backgroundColor",c(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?f(u,"backgroundColor",c(n.windowColor,n.windowOpacity)):u.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?u.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===n.edgeStyle?u.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===n.edgeStyle?u.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===n.edgeStyle&&(u.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),n.fontPercent&&1!==n.fontPercent){var o=a.window.parseFloat(u.style.fontSize);u.style.fontSize=o*n.fontPercent+"px",u.style.height="auto",u.style.top="auto",u.style.bottom="2px"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=h[n.fontFamily])}}}},n}(s.default);s.default.registerComponent("TextTrackDisplay",l),i.default=l},{5:5,83:83,85:85}],69:[function(t,n,i){i.__esModule=!0;var e=function(t){var n=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(n,i,e){return t[i]&&(n[i]=t[i]),n},{cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})});return n};i.default={textTracksToJson:function(t){var n=t.$$("track"),i=Array.prototype.map.call(n,function(t){return t.track});return Array.prototype.map.call(n,function(t){var n=e(t.track);return t.src&&(n.src=t.src),n}).concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===i.indexOf(t)}).map(e))},jsonToTextTracks:function(t,n){return t.forEach(function(t){var i=n.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return i.addCue(t)})}),n.textTracks()},nTt:e}},{}],70:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(83),o=f(u),a=t(78),h=f(a),c=t(85);function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function l(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var d=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=void 0;if(h.IS_IE8){for(var u in r=c.document.createElement("custom"),s.default.prototype)"constructor"!==u&&(r[u]=s.default.prototype[u]);for(var o in n.prototype)"constructor"!==o&&(r[o]=n.prototype[o])}return i=l(this,t.call(this,e,r)),l(i,r=i)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.B_=function(n){t.prototype.B_.call(this,n),n.addEventListener("modechange",o.bind(this,function(){this.trigger("change")}))},n}(s.default);i.default=d},{74:74,78:78,83:83,85:85}],71:[function(t,n,i){i.__esModule=!0;var e=t(85),r=t(5),s=g(r),u=t(81),o=t(83),a=d(o),h=t(89),c=d(h),f=t(87),l=g(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function g(t){return t&&t.__esModule?t:{default:t}}var m=["#000","Black"],y=["#00F","Blue"],p=["#0FF","Cyan"],_=["#0F0","Green"],b=["#F0F","Magenta"],k=["#F00","Red"],A=["#FFF","White"],T=["#FF0","Yellow"],S=["1","Opaque"],E=["0.5","Semi-Transparent"],I=["0","Transparent"],R={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[m,A,k,_,y,T,b,p]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[S,E,I]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[A,m,k,_,y,T,b,p]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[S,E]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[I,E,S]}};function C(t,n){if(n&&(t=n(t)),t&&"none"!==t)return t}R.windowColor.options=R.backgroundColor.options;var D=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.setDefaults(),r.hide(),r.updateDisplay=a.bind(r,r.updateDisplay),void 0===e.persistTextTrackSettings&&(r.Zpt.persistTextTrackSettings=r.Zpt.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",function(){r.saveSettings(),r.hide()}),r.on(r.$(".vjs-default-button"),"click",function(){r.setDefaults(),r.updateDisplay()}),c.each(R,function(t){r.on(r.$(t.selector),"change",r.updateDisplay)}),r.Zpt.persistTextTrackSettings&&r.restoreSettings(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.iTt=function(t){var n=this,i=R[t],e=i.id.replace("%s",this.Y_);return[(0,u.createEl)("label",{className:"vjs-label",textContent:i.label},{for:e}),(0,u.createEl)("select",{id:e},void 0,i.options.map(function(t){return(0,u.createEl)("option",{textContent:n.localize(t[1]),value:t[0]})}))]},n.prototype.eTt=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Text")}),n=this.iTt("color"),i=(0,u.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.iTt("textOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.rTt=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Background")}),n=this.iTt("backgroundColor"),i=(0,u.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.iTt("backgroundOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.sTt=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Window")}),n=this.iTt("windowColor"),i=(0,u.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.iTt("windowOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.uTt=function(){return(0,u.createEl)("div",{className:"vjs-tracksettings-colors"},void 0,[this.eTt(),this.rTt(),this.sTt()])},n.prototype.oTt=function(){var t=(0,u.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.iTt("fontPercent")),n=(0,u.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.iTt("edgeStyle")),i=(0,u.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.iTt("fontFamily"));return(0,u.createEl)("div",{className:"vjs-tracksettings-font"},void 0,[t,n,i])},n.prototype.aTt=function(){var t=(0,u.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),n=(0,u.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,u.createEl)("div",{className:"vjs-tracksettings-controls"},void 0,[t,n])},n.prototype.createEl=function(){var t=(0,u.createEl)("div",{className:"vjs-tracksettings"},void 0,[this.uTt(),this.oTt(),this.aTt()]),n=(0,u.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.Y_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),i=(0,u.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.Y_,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),e=(0,u.createEl)("div",void 0,{role:"document"},[n,i,t]);return(0,u.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":n.id,"aria-describedby":i.id},e)},n.prototype.getValues=function(){var t=this;return c.reduce(R,function(n,i,e){var r,s,u=(r=t.$(i.selector),s=i.parser,C(r.options[r.options.selectedIndex].value,s));return void 0!==u&&(n[e]=u),n},{})},n.prototype.setValues=function(t){var n=this;c.each(R,function(i,e){!function(t,n,i){if(n)for(var e=0;e<t.options.length;e++)if(C(t.options[e].value,i)===n){t.selectedIndex=e;break}}(n.$(i.selector),t[e],i.parser)})},n.prototype.setDefaults=function(){var t=this;c.each(R,function(n){var i=n.hasOwnProperty("default")?n.default:0;t.$(n.selector).selectedIndex=i})},n.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(e.window.localStorage.getItem("vjs-text-track-settings"))}catch(t){l.default.warn(t)}t&&this.setValues(t)},n.prototype.saveSettings=function(){if(this.Zpt.persistTextTrackSettings){var t=this.getValues();try{w.keys(t).length?e.window.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):e.window.localStorage.removeItem("vjs-text-track-settings")}catch(t){l.default.warn(t)}}},n.prototype.updateDisplay=function(){var t=this.WN.getChild("textTrackDisplay");t&&t.updateDisplay()},n}(s.default);s.default.registerComponent("TextTrackSettings",D),i.default=D},{5:5,81:81,83:83,85:85,87:87,89:89}],72:[function(t,n,i){i.__esModule=!0;var e=t(67),r=T(e),s=t(83),u=A(s),o=t(73),a=t(87),h=T(a),c=t(85),f=t(75),d=T(f),g=t(93),m=t(122),y=T(m),p=t(88),_=T(p),b=t(78),k=A(b);function A(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function T(t){return t&&t.__esModule?t:{default:t}}function S(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var E=function(t,n){var i=new c.window.WebVTT.Parser(c.window,c.window.vttjs,c.window.WebVTT.StringDecoder()),e=[];i.oncue=function(t){n.addCue(t)},i.onparsingerror=function(t){e.push(t)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(t),e.length>0&&(c.window.console&&c.window.console.groupCollapsed&&c.window.console.groupCollapsed("Text Track parsing errors for "+n.src),e.forEach(function(t){return h.default.error(t)}),c.window.console&&c.window.console.groupEnd&&c.window.console.groupEnd()),i.flush()},I=function(t,n){var i={uri:t},e=(0,g.isCrossOrigin)(t);e&&(i.cors=e),(0,y.default)(i,u.bind(this,function(t,i,e){if(t)return h.default.error(t,i);if(n.dyt=!0,"function"!=typeof c.window.WebVTT){if(n.obt){var r=function(){return E(e,n)};n.obt.on("vttjsloaded",r),n.obt.on("vttjserror",function(){h.default.error("vttjs failed to load, stopping trying to process "+n.src),n.obt.off("vttjsloaded",r)})}}else E(e,n)}))},R=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),!e.tech)throw new l("A tech was not provided.");var s=(0,_.default)(e,{kind:o.TextTrackKind[e.kind]||"subtitles",language:e.language||e.srclang||""}),a=o.TextTrackMode[s.mode]||"disabled",h=s.default;"metadata"!==s.kind&&"chapters"!==s.kind||(a="hidden");var c=i=S(this,t.call(this,s));if(c.obt=s.tech,k.IS_IE8)for(var f in n.prototype)"constructor"!==f&&(c[f]=n.prototype[f]);c._g=[],c.gg=[];var d=new r.default(c._g),g=new r.default(c.gg),m=!1,y=u.bind(c,function(){this.activeCues,m&&(this.trigger("cuechange"),m=!1)});return"disabled"!==a&&c.obt.ready(function(){c.obt.on("timeupdate",y)},!0),w.defineProperty(c,"default",{get:function(){return h},set:function(){}}),w.defineProperty(c,"mode",{get:function(){return a},set:function(t){var n=this;o.TextTrackMode[t]&&("showing"===(a=t)&&this.obt.ready(function(){n.obt.on("timeupdate",y)},!0),this.trigger("modechange"))}}),w.defineProperty(c,"cues",{get:function(){return this.dyt?d:null},set:function(){}}),w.defineProperty(c,"activeCues",{get:function(){if(!this.dyt)return null;if(0===this.cues.length)return g;for(var t=this.obt.currentTime(),n=[],i=0,e=this.cues.length;i<e;i++){var r=this.cues[i];r.startTime<=t&&r.endTime>=t?n.push(r):r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t&&n.push(r)}if(m=!1,n.length!==this.gg.length)m=!0;else for(var s=0;s<n.length;s++)-1===this.gg.indexOf(n[s])&&(m=!0);return this.gg=n,g.tTt(this.gg),g},set:function(){}}),s.src?(c.src=s.src,I(s.src,c)):c.dyt=!0,S(i,c)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addCue=function(t){var n=t;if(c.window.vttjs&&!(t instanceof c.window.vttjs.VTTCue)){for(var i in n=new c.window.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)i in n||(n[i]=t[i]);n.id=t.id,n.hTt=t}var e=this.obt.textTracks();if(e)for(var r=0;r<e.length;r++)e[r]!==this&&e[r].removeCue(n);this._g.push(n),this.cues.tTt(this._g)},n.prototype.removeCue=function(t){for(var n=this._g.length;n--;){var i=this._g[n];if(i===t||i.hTt&&i.hTt===t){this._g.splice(n,1),this.cues.tTt(this._g);break}}},n}(d.default);R.prototype.ybt={cuechange:"cuechange"},i.default=R},{122:122,67:67,73:73,75:75,78:78,83:83,85:85,87:87,88:88,93:93}],73:[function(t,n,i){i.__esModule=!0,i.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},i.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},i.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},i.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},{}],74:[function(t,n,i){i.__esModule=!0;var e,r=t(42),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=h(this,t.call(this));if(!e&&(e=r,o.IS_IE8))for(var s in e=a.document.createElement("custom"),n.prototype)"constructor"!==s&&(e[s]=n.prototype[s]);e.hT=[],w.defineProperty(e,"length",{get:function(){return this.hT.length}});for(var u=0;u<i.length;u++)e.B_(i[u]);return h(r,e)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.B_=function(t){var n=this.hT.length;""+n in this||w.defineProperty(this,n,{get:function(){return this.hT[n]}}),-1===this.hT.indexOf(t)&&(this.hT.push(t),this.trigger({track:t,type:"addtrack"}))},n.prototype.O_=function(t){for(var n=void 0,i=0,e=this.length;i<e;i++)if(this[i]===t){(n=this[i]).off&&n.off(),this.hT.splice(i,1);break}n&&this.trigger({track:n,type:"removetrack"})},n.prototype.getTrackById=function(t){for(var n=null,i=0,e=this.length;i<e;i++){var r=this[i];if(r.id===t){n=r;break}}return n},n}(s.default);for(var f in c.prototype.ybt={change:"change",addtrack:"addtrack",removetrack:"removetrack"},c.prototype.ybt)c.prototype["on"+f]=null;i.default=c},{42:42,78:78,85:85}],75:[function(t,n,i){i.__esModule=!0;var e,r=t(78),s=f(r),u=t(85),o=t(86),a=f(o),h=t(42),c=(e=h)&&e.__esModule?e:{default:e};function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function l(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var d=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var e=l(this,t.call(this)),r=e;if(s.IS_IE8)for(var o in r=u.document.createElement("custom"),n.prototype)"constructor"!==o&&(r[o]=n.prototype[o]);var h={id:i.id||["vjs_track",a.newGUID()].join("_"),kind:i.kind||"",label:i.label||"",language:i.language||""},c=function(t){w.defineProperty(r,t,{get:function(){return h[t]},set:function(){}})};for(var f in h)c(f);return l(e,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(c.default);i.default=d},{42:42,78:78,85:85,86:86}],76:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t,n){for(var i=0;i<t.length;i++)n.id!==t[i].id&&(t[i].selected=!1)},f=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);for(var r=void 0,u=e.length-1;u>=0;u--)if(e[u].selected){c(e,e[u]);break}if(o.IS_IE8){for(var f in r=a.document.createElement("custom"),s.default.prototype)"constructor"!==f&&(r[f]=s.default.prototype[f]);for(var l in n.prototype)"constructor"!==l&&(r[l]=n.prototype[l])}return i=h(this,t.call(this,e,r)),(r=i).KAt=!1,w.defineProperty(r,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),h(i,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.B_=function(n){var i=this;n.selected&&c(this,n),t.prototype.B_.call(this,n),n.addEventListener&&n.addEventListener("selectedchange",function(){i.KAt||(i.KAt=!0,c(i,n),i.KAt=!1,i.trigger("change"))})},n.prototype.addTrack=function(t){this.B_(t)},n.prototype.removeTrack=function(n){t.prototype.O_.call(this,n)},n}(s.default);i.default=f},{74:74,78:78,85:85}],77:[function(t,n,i){i.__esModule=!0;var e=t(73),r=t(75),s=c(r),u=t(88),o=c(u),a=t(78),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var l=function(t){function n(){var i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=(0,o.default)(r,{kind:e.VideoTrackKind[r.kind]||""}),u=i=f(this,t.call(this,s)),a=!1;if(h.IS_IE8)for(var c in n.prototype)"constructor"!==c&&(u[c]=n.prototype[c]);return w.defineProperty(u,"selected",{get:function(){return a},set:function(t){"boolean"==typeof t&&t!==a&&(a=t,this.trigger("selectedchange"))}}),s.selected&&(u.selected=s.selected),f(i,u)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(s.default);i.default=l},{73:73,75:75,78:78,88:88}],78:[function(t,n,i){i.__esModule=!0,i.BACKGROUND_SIZE_SUPPORTED=i.TOUCH_ENABLED=i.IS_ANY_SAFARI=i.IS_SAFARI=i.IE_VERSION=i.IS_IE8=i.CHROME_VERSION=i.IS_CHROME=i.IS_EDGE=i.IS_FIREFOX=i.IS_NATIVE_ANDROID=i.IS_OLD_ANDROID=i.ANDROID_VERSION=i.IS_ANDROID=i.IOS_VERSION=i.IS_IOS=i.IS_IPOD=i.IS_IPHONE=i.IS_IPAD=void 0;var e,r=t(81),s=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(r),u=t(85),o=u.window.navigator&&u.window.navigator.userAgent||"",a=/AppleWebKit\/([\d.]+)/i.exec(o),h=a?y(a.pop()):null,c=i.IS_IPAD=/iPad/i.test(o),f=i.IS_IPHONE=/iPhone/i.test(o)&&!c,l=i.IS_IPOD=/iPod/i.test(o),v=i.IS_IOS=f||c||l;i.IOS_VERSION=(e=o.match(/OS (\d+)_/i))&&e[1]?e[1]:null;var d=i.IS_ANDROID=/Android/i.test(o),g=i.ANDROID_VERSION=function(){var t=o.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var n=t[1]&&y(t[1]),i=t[2]&&y(t[2]);return n&&i?y(t[1]+"."+t[2]):n||null}();i.IS_OLD_ANDROID=d&&/webkit/i.test(o)&&g<2.3,i.IS_NATIVE_ANDROID=d&&g<5&&h<537,i.IS_FIREFOX=/Firefox/i.test(o);var m,p,_=i.IS_EDGE=/Edge/i.test(o),b=i.IS_CHROME=!_&&/Chrome/i.test(o);i.CHROME_VERSION=function(){var t=o.match(/Chrome\/(\d+)/);return t&&t[1]?y(t[1]):null}(),i.IS_IE8=/MSIE\s8\.0/.test(o),i.IE_VERSION=(m=/MSIE\s(\d+)\.\d/.exec(o),!(p=m&&y(m[1]))&&/Trident\/7.0/i.test(o)&&/rv:11.0/.test(o)&&(p=11),p);var k=i.IS_SAFARI=/Safari/i.test(o)&&!b&&!d&&!_;i.IS_ANY_SAFARI=k||v,i.TOUCH_ENABLED=s.isReal()&&("ontouchstart"in u.window||u.window.DocumentTouch&&u.window.document instanceof u.window.DocumentTouch),i.BACKGROUND_SIZE_SUPPORTED=s.isReal()&&"backgroundSize"in u.window.document.createElement("video").style},{81:81,85:85}],79:[function(t,n,i){i.__esModule=!0,i.bufferedPercent=function(t,n){var i=0,r=void 0,s=void 0;if(!n)return 0;t&&t.length||(t=(0,e.createTimeRange)(0,0));for(var u=0;u<t.length;u++)r=t.start(u),(s=t.end(u))>n&&(s=n),i+=s-r;return i/n};var e=t(91)},{91:91}],80:[function(t,n,i){i.__esModule=!0,i.default=function(t,n){if(!t||!n)return"";if("function"==typeof e.window.getComputedStyle){var i=e.window.getComputedStyle(t);return i?i[n]:""}return t.currentStyle[n]||""};var e=t(85)},{85:85}],81:[function(t,n,i){i.__esModule=!0,i.$$=i.$=void 0;var e,r=((e=["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]).raw=["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],e);i.isReal=function(){return s.document===s.window.document&&void 0!==s.document.createElement},i.isEl=p,i.getEl=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),s.document.getElementById(t)},i.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=arguments[3],u=s.document.createElement(t);return w.getOwnPropertyNames(n).forEach(function(t){var i=n[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(h.default.warn((0,f.default)(r,t,i)),u.setAttribute(t,i)):"textContent"===t?b(u,i):u[t]=i}),w.getOwnPropertyNames(i).forEach(function(t){u.setAttribute(t,i[t])}),e&&N(u,e),u},i.textContent=b,i.insertElFirst=function(t,n){n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t)},i.getElData=function(t){var n=t[A];return n||(n=t[A]=o.newGUID()),k[n]||(k[n]={}),k[n]},i.hasElData=function(t){var n=t[A];return!!n&&!!w.getOwnPropertyNames(k[n]).length},i.removeElData=function(t){var n=t[A];if(n){delete k[n];try{delete t[A]}catch(n){t.removeAttribute?t.removeAttribute(A):t[A]=null}}},i.hasElClass=T,i.addElClass=S,i.removeElClass=E,i.toggleElClass=function(t,n,i){var e=T(t,n);if("function"==typeof i&&(i=i(t,n)),"boolean"!=typeof i&&(i=!e),i!==e)return i?S(t,n):E(t,n),t},i.setElAttributes=function(t,n){w.getOwnPropertyNames(n).forEach(function(i){var e=n[i];null==e||!1===e?t.removeAttribute(i):t.setAttribute(i,!0===e?"":e)})},i.getElAttributes=function(t){var n={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var e=t.attributes,r=e.length-1;r>=0;r--){var s=e[r].name,u=e[r].value;"boolean"!=typeof t[s]&&-1===i.indexOf(","+s+",")||(u=null!==u),n[s]=u}return n},i.getAttribute=function(t,n){return t.getAttribute(n)},i.setAttribute=function(t,n,i){t.setAttribute(n,i)},i.removeAttribute=function(t,n){t.removeAttribute(n)},i.blockTextSelection=function(){s.document.body.focus(),s.document.onselectstart=function(){return!1}},i.unblockTextSelection=function(){s.document.onselectstart=function(){return!0}},i.findElPosition=I,i.getPointerPosition=function(t,n){var i={},e=I(t),r=t.offsetWidth,s=t.offsetHeight,u=e.top,o=e.left,a=n.pageY,h=n.pageX;return n.changedTouches&&(h=n.changedTouches[0].pageX,a=n.changedTouches[0].pageY),i.y=g.max(0,g.min(1,(u-a+s)/s)),i.x=g.max(0,g.min(1,(h-o)/r)),i},i.isTextNode=R,i.emptyEl=C,i.normalizeContent=D,i.appendContent=N,i.insertContent=function(t,n){return N(C(t),n)};var s=t(85),u=t(86),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(87),h=d(a),c=t(121),f=d(c),v=t(89);function d(t){return t&&t.__esModule?t:{default:t}}function m(t){return"string"==typeof t&&/\S/.test(t)}function y(t){if(/\s/.test(t))throw new l("class has illegal whitespace characters")}function p(t){return(0,v.isObject)(t)&&1===t.nodeType}function _(t){return function(n,i){if(!m(n))return s.document[t](null);m(i)&&(i=s.document.querySelector(i));var e=p(i)?i:s.document;return e[t]&&e[t](n)}}function b(t,n){return void 0===t.textContent?t.innerText=n:t.textContent=n,t}var k={},A="vdata"+(new Date).getTime();function T(t,n){return y(n),t.classList?t.classList.contains(n):(i=n,new RegExp("(^|\\s)"+i+"($|\\s)")).test(t.className);var i}function S(t,n){return t.classList?t.classList.add(n):T(t,n)||(t.className=(t.className+" "+n).trim()),t}function E(t,n){return t.classList?t.classList.remove(n):(y(n),t.className=t.className.split(/\s+/).filter(function(t){return t!==n}).join(" ")),t}function I(t){var n=void 0;if(t.getBoundingClientRect&&t.parentNode&&(n=t.getBoundingClientRect()),!n)return{left:0,top:0};var i=s.document.documentElement,e=s.document.body,r=i.clientLeft||e.clientLeft||0,u=s.window.pageXOffset||e.scrollLeft,o=n.left+u-r,a=i.clientTop||e.clientTop||0,h=s.window.pageYOffset||e.scrollTop,c=n.top+h-a;return{left:g.round(o),top:g.round(c)}}function R(t){return(0,v.isObject)(t)&&3===t.nodeType}function C(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function D(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"==typeof t&&(t=t()),p(t)||R(t)?t:"string"==typeof t&&/\S/.test(t)?s.document.createTextNode(t):void 0}).filter(function(t){return t})}function N(t,n){return D(n).forEach(function(n){return t.appendChild(n)}),t}i.$=_("querySelector"),i.$$=_("querySelectorAll")},{121:121,85:85,86:86,87:87,89:89}],82:[function(t,n,i){i.__esModule=!0,i.fixEvent=d,i.on=y,i.off=p,i.trigger=function t(n,i,e){var r=s.hasElData(n)?s.getElData(n):{},u=n.parentNode||n.ownerDocument;if("string"==typeof i&&(i={type:i,target:n}),i=d(i),r.dispatcher&&r.dispatcher.call(n,i,e),u&&!i.isPropagationStopped()&&!0===i.bubbles)t.call(null,u,i,e);else if(!u&&!i.defaultPrevented){var o=s.getElData(i.target);i.target[i.type]&&(o.disabled=!0,"function"==typeof i.target[i.type]&&i.target[i.type](),o.disabled=!1)}return!i.defaultPrevented},i.one=function t(n,i,e){if(Array.isArray(i))return v(t,n,i,e);var r=function t(){p(n,i,t),e.apply(this,arguments)};r.guid=e.guid=e.guid||o.newGUID(),y(n,i,r)};var e,r=t(81),s=f(r),u=t(86),o=f(u),a=t(87),h=(e=a)&&e.__esModule?e:{default:e},c=t(85);function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function l(t,n){var i=s.getElData(t);0===i.handlers[n].length&&(delete i.handlers[n],t.removeEventListener?t.removeEventListener(n,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+n,i.dispatcher)),w.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===w.getOwnPropertyNames(i).length&&s.removeElData(t)}function v(t,n,i,e){i.forEach(function(i){t(n,i,e)})}function d(t){function n(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var e=t||c.window.event;for(var r in t={},e)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&"path"!==r&&("returnValue"===r&&e.preventDefault||(t[r]=e[r]));if(t.target||(t.target=t.srcElement||c.document),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){e.preventDefault&&e.preventDefault(),t.returnValue=!1,e.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){e.stopPropagation&&e.stopPropagation(),t.cancelBubble=!0,e.cancelBubble=!0,t.isPropagationStopped=n},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){e.stopImmediatePropagation&&e.stopImmediatePropagation(),t.isImmediatePropagationStopped=n,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!==t.clientX&&void 0!==t.clientX){var s=c.document.documentElement,u=c.document.body;t.pageX=t.clientX+(s&&s.scrollLeft||u&&u.scrollLeft||0)-(s&&s.clientLeft||u&&u.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||u&&u.scrollTop||0)-(s&&s.clientTop||u&&u.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var g=!1;!function(){try{var t=w.defineProperty({},"passive",{get:function(){g=!0}});c.window.addEventListener("test",null,t)}catch(t){}}();var m=["touchstart","touchmove"];function y(t,n,i){if(Array.isArray(n))return v(y,t,n,i);var e=s.getElData(t);if(e.handlers||(e.handlers={}),e.handlers[n]||(e.handlers[n]=[]),i.guid||(i.guid=o.newGUID()),e.handlers[n].push(i),e.dispatcher||(e.disabled=!1,e.dispatcher=function(n,i){if(!e.disabled){n=d(n);var r=e.handlers[n.type];if(r)for(var s=r.slice(0),u=0,o=s.length;u<o&&!n.isImmediatePropagationStopped();u++)try{s[u].call(t,n,i)}catch(t){h.default.error(t)}}}),1===e.handlers[n].length)if(t.addEventListener){var r=!1;g&&m.indexOf(n)>-1&&(r={passive:!0}),t.addEventListener(n,e.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+n,e.dispatcher)}function p(t,n,i){if(s.hasElData(t)){var e=s.getElData(t);if(e.handlers){if(Array.isArray(n))return v(p,t,n,i);var r=function(n){e.handlers[n]=[],l(t,n)};if(n){var u=e.handlers[n];if(u)if(i){if(i.guid)for(var o=0;o<u.length;o++)u[o].guid===i.guid&&u.splice(o--,1);l(t,n)}else r(n)}else for(var a in e.handlers)r(a)}}}},{81:81,85:85,86:86,87:87}],83:[function(t,n,i){i.__esModule=!0,i.throttle=i.bind=void 0;var e=t(86);i.bind=function(t,n,i){n.guid||(n.guid=(0,e.newGUID)());var r=function(){return n.apply(t,arguments)};return r.guid=i?i+"_"+n.guid:n.guid,r},i.throttle=function(t,n){var i=Date.now();return function(){var e=Date.now();e-i>=n&&(t.apply(void 0,arguments),i=e)}}},{86:86}],84:[function(t,n,i){i.__esModule=!0,i.default=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;t=t<0?0:t;var i=g.floor(t%60),e=g.floor(t/60%60),r=g.floor(t/3600),s=g.floor(n/60%60),u=g.floor(n/3600);return(p(t)||t===1/0)&&(r=e=i="-"),(r=r>0||u>0?r+":":"")+(e=((r||s>=10)&&e<10?"0"+e:e)+":")+(i=i<10?"0"+i:i)}},{}],85:[function(n,i,e){(function(n){e.__esModule=!0;var i=void 0!==r?r:void 0!==n?n:void 0!==t?t:{},u=void 0!==s?s:{createElement:function(){}};e.window=i,e.document=u}).call(this,void 0!==Lr?Lr:void 0!==t?t:void 0!==r?r:{})},{}],86:[function(t,n,i){i.__esModule=!0,i.newGUID=function(){return e++};var e=1},{}],87:[function(t,n,i){i.__esModule=!0,i.logByType=void 0;var e=t(85),r=t(78),s=t(89),u=void 0,o=i.logByType=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!r.IE_VERSION&&r.IE_VERSION<11;"log"!==t&&n.unshift(t.toUpperCase()+":"),u.history.push(n),n.unshift("VIDEOJS:");var o=e.window.console&&e.window.console[t];o&&(i&&(n=n.map(function(t){if((0,s.isObject)(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(n){return String(t)}return String(t)}).join(" ")),o.apply?o[Array.isArray(n)?"apply":"call"](e.window.console,n):o(n))};(u=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];o("log",n)}).history=[],u.error=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return o("error",n)},u.warn=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return o("warn",n)},i.default=u},{78:78,85:85,89:89}],88:[function(t,n,i){i.__esModule=!0,i.default=function t(){for(var n={},i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.forEach(function(i){i&&(0,e.each)(i,function(i,r){(0,e.isPlain)(i)?((0,e.isPlain)(n[r])||(n[r]={}),n[r]=t(n[r],i)):n[r]=i})}),n};var e=t(89)},{89:89}],89:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.each=u,i.reduce=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return s(t).reduce(function(i,e){return n(i,t[e],e)},i)},i.assign=function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];return w.assign?w.assign.apply(w,[t].concat(i)):(i.forEach(function(n){n&&u(n,function(n,i){t[i]=n})}),t)},i.isObject=o,i.isPlain=function(t){return o(t)&&"[object Object]"===r.call(t)&&t.constructor===w};var r=w.prototype.toString,s=function(t){return o(t)?w.keys(t):[]};function u(t,n){s(t).forEach(function(i){return n(t[i],i)})}function o(t){return!!t&&"object"===(void 0===t?"undefined":e(t))}},{}],90:[function(t,n,i){i.__esModule=!0,i.setTextContent=i.createStyleElement=void 0;var e=t(85);i.createStyleElement=function(t){var n=e.document.createElement("style");return n.className=t,n},i.setTextContent=function(t,n){t.styleSheet?t.styleSheet.cssText=n:t.textContent=n}},{85:85}],91:[function(t,n,i){i.__esModule=!0,i.createTimeRange=void 0,i.createTimeRanges=a;var e,r=t(87),s=(e=r)&&e.__esModule?e:{default:e};function u(t,n,i,e){return void 0===e&&(s.default.warn("DEPRECATED: Function '"+t+"' on 'TimeRanges' called without an index argument."),e=0),function(t,n,i){if(n<0||n>i)throw new l("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+n+") is greater than or equal to the maximum bound ("+i+").")}(t,e,i.length-1),i[e][n]}function o(t){return void 0===t||0===t.length?{length:0,start:function(){throw new l("This TimeRanges object is empty")},end:function(){throw new l("This TimeRanges object is empty")}}:{length:t.length,start:u.bind(null,"start",0,t),end:u.bind(null,"end",1,t)}}function a(t,n){return Array.isArray(t)?o(t):void 0===t||void 0===n?o():o([[t,n]])}i.createTimeRange=a},{87:87}],92:[function(t,n,i){i.__esModule=!0,i.default=function(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}},{}],93:[function(t,n,i){i.__esModule=!0,i.isCrossOrigin=i.getFileExtension=i.getAbsoluteURL=i.parseUrl=void 0;var e=t(85),r=i.parseUrl=function(t){var n=["protocol","hostname","port","pathname","search","hash","host"],i=e.document.createElement("a");i.href=t;var r=""===i.host&&"file:"!==i.protocol,s=void 0;r&&((s=e.document.createElement("div")).innerHTML='<a href="'+t+'"></a>',i=s.firstChild,s.setAttribute("style","display:none; position:absolute;"),e.document.body.appendChild(s));for(var u={},o=0;o<n.length;o++)u[n[o]]=i[n[o]];return"http:"===u.protocol&&(u.host=u.host.replace(/:80$/,"")),"https:"===u.protocol&&(u.host=u.host.replace(/:443$/,"")),r&&e.document.body.removeChild(s),u};i.getAbsoluteURL=function(t){if(!t.match(/^https?:\/\//)){var n=e.document.createElement("div");n.innerHTML='<a href="'+t+'">x</a>',t=n.firstChild.href}return t},i.getFileExtension=function(t){if("string"==typeof t){var n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t);if(n)return n.pop().toLowerCase()}return""},i.isCrossOrigin=function(t){var n=e.window.location,i=r(t),s=":"===i.protocol?n.protocol:i.protocol,u=s+i.host!==n.protocol+n.host;return u}},{85:85}],94:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=t(85),s=t(78),u=K(s),o=t(81),a=K(o),h=t(56),c=K(h),f=t(90),l=K(f),d=t(5),g=Z(d),m=t(42),y=Z(m),p=t(82),_=K(p),b=t(51),k=Z(b),A=t(52),T=Z(A),S=t(88),E=Z(S),I=t(83),R=K(I),C=t(72),D=Z(C),N=t(64),P=Z(N),x=t(77),B=Z(x),O=t(91),L=t(84),M=Z(L),j=t(87),F=Z(j),U=t(93),H=K(U),X=t(89),z=t(80),V=Z(z),W=t(43),q=Z(W),G=t(122),$=Z(G),Y=t(62),Q=Z(Y);function Z(t){return t&&t.__esModule?t:{default:t}}function K(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function J(t,n,i){var e=void 0;if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),J.getPlayers()[t])return n&&F.default.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&J.getPlayers()[t].ready(i),J.getPlayers()[t];e=a.getEl(t)}else e=t;if(!e||!e.nodeName)throw new v("The element or ID supplied is not valid. (videojs)");if(e.player||k.default.players[e.playerId])return e.player||k.default.players[e.playerId];n=n||{},J.hooks("beforesetup").forEach(function(t){var i=t(e,(0,E.default)(n));(0,X.isObject)(i)&&!Array.isArray(i)?n=(0,E.default)(n,i):F.default.error("please return an object in beforesetup hooks")});var r=g.default.getComponent("Player"),s=new r(e,n,i);return J.hooks("setup").forEach(function(t){return t(s)}),s}if("undefined"==typeof HTMLVideoElement&&a.isReal()&&(r.document.createElement("video"),r.document.createElement("audio"),r.document.createElement("track")),J.cTt={},J.hooks=function(t,n){return J.cTt[t]=J.cTt[t]||[],n&&(J.cTt[t]=J.cTt[t].concat(n)),J.cTt[t]},J.hook=function(t,n){J.hooks(t,n)},J.removeHook=function(t,n){var i=J.hooks(t).indexOf(n);return!(i<=-1||(J.cTt[t]=J.cTt[t].slice(),J.cTt[t].splice(i,1),0))},!0!==r.window.VIDEOJS_NO_DYNAMIC_STYLE&&a.isReal()){var tt=a.$(".vjs-styles-defaults");if(!tt){tt=l.createStyleElement("vjs-styles-defaults");var nt=a.$("head");nt&&nt.insertBefore(tt,nt.firstChild),l.setTextContent(tt,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}c.autoSetupTimeout(1,J),J.VERSION="5.20.6-opentelly.9",J.options=k.default.prototype.Zpt,J.getPlayers=function(){return k.default.players},J.players=k.default.players,J.getComponent=g.default.getComponent,J.registerComponent=function(t,n){Q.default.isTech(n)&&F.default.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),g.default.registerComponent.call(g.default,t,n)},J.getTech=Q.default.getTech,J.registerTech=Q.default.registerTech,J.browser=u,J.TOUCH_ENABLED=u.TOUCH_ENABLED,J.extend=q.default,J.mergeOptions=E.default,J.bind=R.bind,J.plugin=T.default,J.addLanguage=function(t,n){var i;return t=(""+t).toLowerCase(),J.options.languages=(0,E.default)(J.options.languages,((i={})[t]=n,i)),J.options.languages[t]},J.log=F.default,J.createTimeRange=J.createTimeRanges=O.createTimeRanges,J.formatTime=M.default,J.parseUrl=H.parseUrl,J.isCrossOrigin=H.isCrossOrigin,J.EventTarget=y.default,J.on=_.on,J.one=_.one,J.off=_.off,J.trigger=_.trigger,J.xhr=$.default,J.TextTrack=D.default,J.AudioTrack=P.default,J.VideoTrack=B.default,J.isEl=a.isEl,J.isTextNode=a.isTextNode,J.createEl=a.createEl,J.hasClass=a.hasElClass,J.addClass=a.addElClass,J.removeClass=a.removeElClass,J.toggleClass=a.toggleElClass,J.setAttributes=a.setElAttributes,J.getAttributes=a.getElAttributes,J.emptyEl=a.emptyEl,J.appendContent=a.appendContent,J.insertContent=a.insertContent,J.computedStyle=V.default,"object"===(void 0===i?"undefined":e(i))&&"object"===(void 0===n?"undefined":e(n))&&(n.exports=J),i.default=J},{122:122,42:42,43:43,5:5,51:51,52:52,56:56,62:62,64:64,72:72,77:77,78:78,80:80,81:81,82:82,83:83,84:84,85:85,87:87,88:88,89:89,90:90,91:91,93:93}],95:[function(t,n,i){var e=t(113),r="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),s=w.prototype.toString,u=Array.prototype.concat,o=w.defineProperty,a=o&&function(){var t={};try{for(var n in o(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),h=function(t,n,i,e){var r;n in t&&("function"!=typeof(r=e)||"[object Function]"!==s.call(r)||!e())||(a?o(t,n,{configurable:!0,enumerable:!1,value:i,writable:!0}):t[n]=i)},c=function(t,n){var i=arguments.length>2?arguments[2]:{},s=e(n);r&&(s=u.call(s,w.getOwnPropertySymbols(n)));for(var o=0;o<s.length;o+=1)h(t,s[o],n[s[o]],i[s[o]])};c.supportsDescriptors=!!a,n.exports=c},{113:113}],96:[function(t,n,i){var e=w.getOwnPropertyDescriptor?function(){return w.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new v},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,s=w.getPrototypeOf||function(t){return t.__proto__},u=void 0===_?void 0:s(_),o={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":r?s([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":l,"$ %ErrorPrototype%":l.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":p,"$ %IteratorPrototype%":r?s(s([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&r?s((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":g,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":w,"$ %ObjectPrototype%":w.prototype,"$ %ObjProto_toString%":w.prototype.toString,"$ %ObjProto_valueOf%":w.prototype.valueOf,"$ %parseFloat%":y,"$ %parseInt%":m,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&r?s((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":r?s(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":r?Symbol:void 0,"$ %SymbolPrototype%":r?Symbol.prototype:void 0,"$ %SyntaxError%":d,"$ %SyntaxErrorPrototype%":d.prototype,"$ %ThrowTypeError%":e,"$ %TypedArray%":u,"$ %TypedArrayPrototype%":u?u.prototype:void 0,"$ %TypeError%":v,"$ %TypeErrorPrototype%":v.prototype,"$ %Uint8Array%":void 0===_?void 0:_,"$ %Uint8ArrayPrototype%":void 0===_?void 0:_.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype};n.exports=function(t,n){if(arguments.length>1&&"boolean"!=typeof n)throw new v('"allowMissing" argument must be a boolean');var i="$ "+t;if(!(i in o))throw new d("intrinsic "+t+" does not exist!");if(void 0===o[i]&&!n)throw new v("intrinsic "+t+" exists, but is not available. Please file an issue!");return o[i]}},{}],97:[function(t,n,i){var e=t(96),r=e("%Object%"),s=e("%TypeError%"),u=e("%String%"),o=t(98),a=t(100),h=t(99),c=t(102),f=t(101),l=t(110),d=t(103),w=t(109),m={ToPrimitive:d,ToBoolean:function(t){return!!t},ToNumber:function(t){return+t},ToInteger:function(t){var n=this.ToNumber(t);return a(n)?0:0!==n&&h(n)?c(n)*g.floor(g.abs(n)):n},ToInt32:function(t){return this.ToNumber(t)>>0},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var n=this.ToNumber(t);if(a(n)||0===n||!h(n))return 0;var i=c(n)*g.floor(g.abs(n));return f(i,65536)},ToString:function(t){return u(t)},ToObject:function(t){return this.CheckObjectCoercible(t),r(t)},CheckObjectCoercible:function(t,n){if(null==t)throw new s(n||"Cannot call method on "+t);return t},IsCallable:l,SameValue:function(t,n){return t===n?0!==t||1/t==1/n:a(t)&&a(n)},Type:function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0},IsPropertyDescriptor:function(t){if("Object"!==this.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var i in t)if(w(t,i)&&!n[i])return!1;var e=w(t,"[[Value]]"),r=w(t,"[[Get]]")||w(t,"[[Set]]");if(e&&r)throw new s("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!(!w(t,"[[Get]]")&&!w(t,"[[Set]]")))},IsDataDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!(!w(t,"[[Value]]")&&!w(t,"[[Writable]]")))},IsGenericDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!this.IsAccessorDescriptor(t)&&!this.IsDataDescriptor(t))},FromPropertyDescriptor:function(t){if(void 0===t)return t;if(o(this,"Property Descriptor","Desc",t),this.IsDataDescriptor(t))return{value:t["[[Value]]"],writable:!!t["[[Writable]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};if(this.IsAccessorDescriptor(t))return{get:t["[[Get]]"],set:t["[[Set]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};throw new s("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(t){if("Object"!==this.Type(t))throw new s("ToPropertyDescriptor requires an object");var n={};if(w(t,"enumerable")&&(n["[[Enumerable]]"]=this.ToBoolean(t.enumerable)),w(t,"configurable")&&(n["[[Configurable]]"]=this.ToBoolean(t.configurable)),w(t,"value")&&(n["[[Value]]"]=t.value),w(t,"writable")&&(n["[[Writable]]"]=this.ToBoolean(t.writable)),w(t,"get")){var i=t.get;if(void 0!==i&&!this.IsCallable(i))throw new v("getter must be a function");n["[[Get]]"]=i}if(w(t,"set")){var e=t.set;if(void 0!==e&&!this.IsCallable(e))throw new s("setter must be a function");n["[[Set]]"]=e}if((w(n,"[[Get]]")||w(n,"[[Set]]"))&&(w(n,"[[Value]]")||w(n,"[[Writable]]")))throw new s("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return n}};n.exports=m},{100:100,101:101,102:102,103:103,109:109,110:110,96:96,98:98,99:99}],98:[function(t,n,i){var e=t(96),r=e("%TypeError%"),s=e("%SyntaxError%"),u=t(109),o={"Property Descriptor":function(t,n){if("Object"!==t.Type(n))return!1;var i={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var e in n)if(u(n,e)&&!i[e])return!1;var s=u(n,"[[Value]]"),o=u(n,"[[Get]]")||u(n,"[[Set]]");if(s&&o)throw new r("Property Descriptors may not be both accessor and data descriptors");return!0}};n.exports=function(t,n,i,e){var u=o[n];if("function"!=typeof u)throw new s("unknown record type: "+n);if(!u(t,e))throw new r(i+" must be a "+n);console.log(u(t,e),e)}},{109:109,96:96}],99:[function(t,n,i){var e=Number.isNaN||function(t){return t!=t};n.exports=Number.isFinite||function(t){return"number"==typeof t&&!e(t)&&t!==1/0&&t!==-1/0}},{}],100:[function(t,n,i){n.exports=Number.isNaN||function(t){return t!=t}},{}],101:[function(t,n,i){n.exports=function(t,n){var i=t%n;return g.floor(i>=0?i:i+n)}},{}],102:[function(t,n,i){n.exports=function(t){return t>=0?1:-1}},{}],103:[function(t,n,i){var e=w.prototype.toString,r=t(104),s=t(110),u={"[[DefaultValue]]":function(t){var n;if((n=arguments.length>1?arguments[1]:"[object Date]"===e.call(t)?String:Number)===String||n===Number){var i,u,o=n===String?["toString","valueOf"]:["valueOf","toString"];for(u=0;u<o.length;++u)if(s(t[o[u]])&&(i=t[o[u]](),r(i)))return i;throw new v("No default value")}throw new v("invalid [[DefaultValue]] hint supplied")}};n.exports=function(t){return r(t)?t:arguments.length>1?u["[[DefaultValue]]"](t,arguments[1]):u["[[DefaultValue]]"](t)}},{104:104,110:110}],104:[function(t,n,i){n.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}},{}],105:[function(t,n,i){var e=t(110),r=w.prototype.toString,s=w.prototype.hasOwnProperty;n.exports=function(t,n,i){if(!e(n))throw new v("iterator must be a function");var u;arguments.length>=3&&(u=i),"[object Array]"===r.call(t)?function(t,n,i){for(var e=0,r=t.length;e<r;e++)s.call(t,e)&&(null==i?n(t[e],e,t):n.call(i,t[e],e,t))}(t,n,u):"string"==typeof t?function(t,n,i){for(var e=0,r=t.length;e<r;e++)null==i?n(t.charAt(e),e,t):n.call(i,t.charAt(e),e,t)}(t,n,u):function(t,n,i){for(var e in t)s.call(t,e)&&(null==i?n(t[e],e,t):n.call(i,t[e],e,t))}(t,n,u)}},{110:110}],106:[function(t,n,i){var e=Array.prototype.slice,r=w.prototype.toString;n.exports=function(t){var n=this;if("function"!=typeof n||"[object Function]"!==r.call(n))throw new v("Function.prototype.bind called on incompatible "+n);for(var i,s=e.call(arguments,1),u=g.max(0,n.length-s.length),o=[],a=0;a<u;a++)o.push("$"+a);if(i=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof i){var r=n.apply(this,s.concat(e.call(arguments)));return w(r)===r?r:this}return n.apply(t,s.concat(e.call(arguments)))}),n.prototype){var h=function(){};h.prototype=n.prototype,i.prototype=new h,h.prototype=null}return i}},{}],107:[function(t,n,i){var e=t(106);n.exports=Function.prototype.bind||e},{106:106}],108:[function(n,i,e){(function(n){i.exports=void 0!==r?r:void 0!==n?n:void 0!==t?t:{}}).call(this,void 0!==Lr?Lr:void 0!==t?t:void 0!==r?r:{})},{}],109:[function(t,n,i){var e=t(107);n.exports=e.call(Function.call,w.prototype.hasOwnProperty)},{107:107}],110:[function(t,n,i){var e=Function.prototype.toString,r=/^\s*class\b/,s=function(t){try{var n=e.call(t);return r.test(n)}catch(t){return!1}},u=w.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;n.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(o)return function(t){try{return!s(t)&&(e.call(t),!0)}catch(t){return!1}}(t);if(s(t))return!1;var n=u.call(t);return"[object Function]"===n||"[object GeneratorFunction]"===n}},{}],111:[function(t,n,i){n.exports=function(t){var n=e.call(t);return"[object Function]"===n||"function"==typeof t&&"[object RegExp]"!==n||void 0!==r&&(t===r.setTimeout||t===r.alert||t===r.confirm||t===r.prompt)};var e=w.prototype.toString},{}],112:[function(t,n,i){var e;if(!w.keys){var s=w.prototype.hasOwnProperty,u=w.prototype.toString,o=t(114),a=w.prototype.propertyIsEnumerable,h=!a.call({toString:null},"toString"),c=a.call(function(){},"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(t){var n=t.constructor;return n&&n.prototype===t},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},g=function(){if(void 0===r)return!1;for(var t in r)try{if(!d["$"+t]&&s.call(r,t)&&null!==r[t]&&"object"==typeof r[t])try{l(r[t])}catch(t){return!0}}catch(t){return!0}return!1}();e=function(t){var n=null!==t&&"object"==typeof t,i="[object Function]"===u.call(t),e=o(t),a=n&&"[object String]"===u.call(t),d=[];if(!n&&!i&&!e)throw new v("Object.keys called on a non-object");var w=c&&i;if(a&&t.length>0&&!s.call(t,0))for(var m=0;m<t.length;++m)d.push(String(m));if(e&&t.length>0)for(var y=0;y<t.length;++y)d.push(String(y));else for(var p in t)w&&"prototype"===p||!s.call(t,p)||d.push(String(p));if(h)for(var _=function(t){if(void 0===r||!g)return l(t);try{return l(t)}catch(t){return!1}}(t),b=0;b<f.length;++b)_&&"constructor"===f[b]||!s.call(t,f[b])||d.push(f[b]);return d}}n.exports=e},{114:114}],113:[function(t,n,i){var e=Array.prototype.slice,r=t(114),s=w.keys,u=s?function(t){return s(t)}:t(112),o=w.keys;u.shim=function(){if(w.keys){var t=function(){var t=w.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(w.keys=function(t){return r(t)?o(e.call(t)):o(t)})}else w.keys=u;return w.keys||u},n.exports=u},{112:112,114:114}],114:[function(t,n,i){var e=w.prototype.toString;n.exports=function(t){var n=e.call(t),i="[object Arguments]"===n;return i||(i="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),i}},{}],115:[function(t,n,i){var e=t(118),r=t(105);n.exports=function(t){if(!t)return{};var n={};return r(e(t).split("\n"),function(t){var i,r=t.indexOf(":"),s=e(t.slice(0,r)).toLowerCase(),u=e(t.slice(r+1));void 0===n[s]?n[s]=u:(i=n[s],"[object Array]"===w.prototype.toString.call(i)?n[s].push(u):n[s]=[n[s],u])}),n}},{105:105,118:118}],116:[function(t,n,i){n.exports=function(t,n){var i,e=null;try{i=JSON.parse(t,n)}catch(t){e=t}return[e,i]}},{}],117:[function(t,n,i){var e=t(107),r=t(97),s=e.call(Function.call,String.prototype.replace),u=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,o=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;n.exports=function(){var t=r.ToString(r.CheckObjectCoercible(this));return s(s(t,u,""),o,"")}},{107:107,97:97}],118:[function(t,n,i){var e=t(107),r=t(95),s=t(117),u=t(119),o=t(120),a=e.call(Function.call,u());r(a,{getPolyfill:u,implementation:s,shim:o}),n.exports=a},{107:107,117:117,119:119,120:120,95:95}],119:[function(t,n,i){var e=t(117);n.exports=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()?String.prototype.trim:e}},{117:117}],120:[function(t,n,i){var e=t(95),r=t(119);n.exports=function(){var t=r();return e(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}},{119:119,95:95}],121:[function(t,n,i){function e(t){return t.replace(/\n\r?\s*/g,"")}n.exports=function(t){for(var n="",i=0;i<arguments.length;i++)n+=e(t[i])+(arguments[i+1]||"");return n}},{}],122:[function(t,n,i){var e=t(108),r=t(111),s=t(115),u=t(123);function o(t,n,i){var e=t;return r(n)?(i=n,"string"==typeof t&&(e={uri:t})):e=u(n,{uri:t}),e.callback=i,e}function c(t,n,i){return f(n=o(t,n,i))}function f(t){if(void 0===t.callback)throw new l("callback argument missing");var n=!1,i=function(i,e,r){n||(n=!0,t.callback(i,e,r))};function e(){var t=void 0;if(t=d.response?d.response:d.responseText||function(t){if("document"===t.responseType)return t.responseXML;var n=204===t.status&&t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||n?null:t.responseXML}(d),b)try{t=JSON.parse(t)}catch(t){}return t}var r={body:void 0,headers:{},statusCode:0,method:m,url:g,rawRequest:d};function u(t){return h(w),t instanceof l||(t=new l(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,i(t,r)}function o(){if(!v){var n;h(w),n=t.useXDR&&void 0===d.status?200:1223===d.status?204:d.status;var u=r,o=null;return 0!==n?(u={body:e(),statusCode:n,method:m,headers:{},url:g,rawRequest:d},d.getAllResponseHeaders&&(u.headers=s(d.getAllResponseHeaders()))):o=new l("Internal XMLHttpRequest Error"),i(o,u,u.body)}}var f,v,d=t.xhr||null;d||(d=t.cors||t.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var w,g=d.url=t.uri||t.url,m=d.method=t.method||"GET",y=t.body||t.data||null,p=d.headers=t.headers||{},_=!!t.sync,b=!1;if("json"in t&&(b=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==m&&"HEAD"!==m&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),y=JSON.stringify(t.json))),d.onreadystatechange=function(){4===d.readyState&&o()},d.onload=o,d.onerror=u,d.onprogress=function(){},d.ontimeout=u,d.open(m,g,!_,t.username,t.password),_||(d.withCredentials=!!t.withCredentials),!_&&t.timeout>0&&(w=a(function(){v=!0,d.abort("timeout");var t=new l("XMLHttpRequest timeout");t.code="ETIMEDOUT",u(t)},t.timeout)),d.setRequestHeader)for(f in p)p.hasOwnProperty(f)&&d.setRequestHeader(f,p[f]);else if(t.headers&&!function(t){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0}(t.headers))throw new l("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(d.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(d),d.send(y),d}n.exports=c,c.XMLHttpRequest=e.XMLHttpRequest||function(){},c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:e.XDomainRequest,function(t,n){for(var i=0;i<t.length;i++)n(t[i])}(["get","put","post","patch","head","delete"],function(t){c["delete"===t?"del":t]=function(n,i,e){return(i=o(n,i,e)).method=t.toUpperCase(),f(i)}})},{108:108,111:111,115:115,123:123}],123:[function(t,n,i){n.exports=function(){for(var t={},n=0;n<arguments.length;n++){var i=arguments[n];for(var r in i)e.call(i,r)&&(t[r]=i[r])}return t};var e=w.prototype.hasOwnProperty},{}]},{},[94])(94)),wY=10,gY=60;function mY(t){return t.duration()===1/0}function yY(t){return t.scrubbing()?t.getCache().currentTime:t.currentTime()}function pY(t){var n=kY(t);return mY(t)?n.end(n.length-1):n.start(0)}function _Y(t){return kY(t).start(0)}function bY(t){var n=kY(t);return n.end(n.length-1)-n.start(0)}function kY(t){var n=t.seekable();if(n&&n.length)return n;var i=t.duration();return i=isFinite(i)?i:0,new TS([0,i]).SN()}function AY(t,n){void 0===n&&(n=t);var i=t<0?"-":"";t=g.abs(t);var e=g.floor(t%60),r=g.floor(t/60%60),s=g.floor(t/3600),u=g.floor(n/60%60),o=g.floor(n/3600);return(p(t)||t===1/0)&&(s=r=e="-"),i+(s=s>0||o>0?s+":":"")+(r=((s||u>=10)&&r<10?"0"+r:r)+":")+(e=e<10?"0"+e:e)}function TY(){var t=yY(this);this.toggleClass("theo-at-live",function(t,n){if(mY(t)){var i=kY(t);return i.end(i.length-1)-n<wY}return!1}(this,t)),this.toggleClass("theo-dvr",function(t){return mY(t)&&bY(t)>=gY}(this))}!function(t){t.fTt="theo",t.lTt="google-ima",t.vTt="google-dai",t.dTt="freewheel",t.MEDIATAILOR="mediatailor"}(lY||(lY={}));var SY="theo-ad-playing",EY="theo-dai-ad-playing";function IY(t,n){var i=function(n){var i,e=(null==(i=n.ad)?void 0:i.integration)===lY.vTt;!function(t,n,i){var e="adbreakbegin"===n;t.toggleClass(SY,e),i?t.toggleClass(EY,e):t.toggleClass(EY,!1)}(t,n.type,e)};n&&(n.ads&&(n.ads.addEventListener("adbreakbegin",i),n.ads.addEventListener("adbreakend",i),n.addEventListener("sourcechange",i)),n.verizonMedia&&n.verizonMedia.ads.adBreaks.addEventListener("addadbreak",function(t){t.adBreak.addEventListener("adbreakbegin",i),t.adBreak.addEventListener("adbreakend",i)}))}function RY(){this.userActive(!1)}var CY,DY=function(t,n){this.type=void 0,this.target=void 0,this.playerEvent=void 0,this.type=t.type,this.target=n,this.playerEvent=t};!function(t){t.LOADED="DAILoaded",t.AD_BREAK_STARTED="DAIAdBreakStarted",t.AD_BREAK_ENDED="DAIAdBreakEnded",t.AD_PERIOD_STARTED="DAIAdPeriodStarted",t.AD_PERIOD_ENDED="DAIAdPeriodEnded",t.AD_PROGRESS="DAIAdProgress",t.CUEPOINTS_CHANGED="DAICuePointsChanged",t.CLICK="DAIClick",t.ERROR="DAIError",t.STARTED="DAIStarted",t.FIRST_QUARTILE="DAIFirstQuartile",t.MIDPOINT="DAIMidpoint",t.STREAM_INITIALIZED="DAIStreamInitialized",t.THIRD_QUARTILE="DAIThirdQuartile",t.COMPLETE="DAIComplete"}(CY||(CY={}));var NY=["loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange","resize"],PY=dY.getTech("Tech"),xY=dY.getTech("Html5"),BY=function(t){function n(n,i){var e;void 0===n&&(n={}),(e=t.call(this,n,i)||this).wTt=void 0,e.gTt=function(t){return e.Js(t)},e.mTt=!1,e.TX=function(){e.Js(new Ty(e.wTt.currentTime,e.wTt.readyState)),e.Js(new ZC)},e.yTt=function(t){e.textTracks().B_(t.track)},e.pTt=function(t){e.audioTracks().B_(t.track)},e._Tt=function(t){e.textTracks().O_(t.track)},e.bTt=function(t){e.audioTracks().O_(t.track)},e.kTt=function(){var t=e.textTracks();t.trigger({type:"change",target:t,currentTarget:t,srcElement:t})},e.ATt=function(){var t=e.audioTracks();t.trigger({type:"change",target:t,currentTarget:t,srcElement:t})},e.TTt=function(){if(e.supportsFullScreen()){var t=e.mTt,n=e.wTt.presentation.currentMode===VS.FULLSCREEN;t!==n&&(e.mTt=n,e.trigger("fullscreenchange",{isFullscreen:n,nativeIOSFullscreen:!0}))}},e.Nc=function(){var t=e.wTt.errorObject,n=t&&wp(t.code)||-1,i=t&&t.message||"An unknown error occurred.";e.error({code:n,message:e.localize(i)})},e.wTt=e.Zpt.player,e.STt();var r=!e.paused();return r&&e.pause(),n.preload&&e.setPreload(n.preload),n.autoplay&&e.setAutoplay(n.autoplay),n.muted&&e.setMuted(n.muted),n.source?e.setSrc(n.source):e.RAt(),r&&e.ready(function(){return e.play()}),e.triggerReady(),e}E(n,t);var i=n.prototype;return i.STt=function(){for(var t,n=0;n<NY.length;n++){var i=NY[n];this.wTt.addEventListener(i,this.gTt)}this.wTt.addEventListener("error",this.Nc),this.wTt.addEventListener("contentprotectionerror",this.Nc),this.wTt.addEventListener("sourcechange",this.TX),null==(t=this.wTt.presentation)||t.addEventListener("presentationmodechange",this.TTt),this.wTt.textTracks.addEventListener("addtrack",this.yTt),this.wTt.textTracks.addEventListener("removetrack",this._Tt),this.wTt.textTracks.addEventListener("change",this.kTt),this.wTt.audioTracks.addEventListener("addtrack",this.pTt),this.wTt.audioTracks.addEventListener("removetrack",this.bTt),this.wTt.audioTracks.addEventListener("change",this.ATt)},i.ETt=function(){for(var t,n=0;n<NY.length;n++){var i=NY[n];this.wTt.removeEventListener(i,this.gTt)}this.wTt.removeEventListener("error",this.Nc),this.wTt.removeEventListener("contentprotectionerror",this.Nc),this.wTt.removeEventListener("sourcechange",this.TX),null==(t=this.wTt.presentation)||t.removeEventListener("presentationmodechange",this.TTt),this.wTt.textTracks.removeEventListener("addtrack",this.yTt),this.wTt.textTracks.removeEventListener("removetrack",this._Tt),this.wTt.textTracks.removeEventListener("change",this.kTt),this.wTt.audioTracks.removeEventListener("addtrack",this.pTt),this.wTt.audioTracks.removeEventListener("removetrack",this.bTt),this.wTt.audioTracks.removeEventListener("change",this.ATt)},i.Js=function(t){this.trigger(new DY(t,this))},i.createEl=function(){var t=this.Zpt,n=t.player;if(!n)throw new l(this.localize('Missing required tech option "player"'));var i=n.element;return dY.setAttributes(i,{id:t.techId}),i},i.theoplayer=function(){return this.wTt},i.addTextTrack=function(n,i,e){return t.prototype.addTextTrack.call(this,n,i,e)},i.buffered=function(){return this.wTt.buffered},i.played=function(){return this.wTt.played},i.reset=function(){this.wTt.stop()},i.play=function(){this.wTt.play()},i.pause=function(){this.wTt.pause()},i.paused=function(){return this.wTt.paused},i.currentTime=function(){return this.wTt.currentTime},i.setCurrentTime=function(t){this.wTt.currentTime=t},i.duration=function(){return this.wTt.duration},i.volume=function(){return this.wTt.volume},i.setVolume=function(t){this.wTt.volume=t},i.muted=function(){return this.wTt.muted},i.setMuted=function(t){this.wTt.muted=t},i.src=function(t){if(void 0!==t)this.setSrc(t);else{if(this.wTt.src)return this.wTt.src;if(this.wTt.source){if(!EE(this.wTt.source.ads))return this.wTt.source.ads[0].sources;if(function(t){if(t.sources)if(z(t.sources))for(var n=0,i=t.sources;n<i.length;n++){var e=i[n];if(!G(e)&&"verizon-media"===e.integration)return!0}else if(!G(t.sources))return"verizon-media"===t.sources.integration;return!1}(this.wTt.source))return"This source is managed by the Verizon Media integration extension.";if(function(t){if(t.sources)if(z(t.sources)){for(var n=0,i=t.sources;n<i.length;n++)if(fy(i[n]))return!0}else if(W(t.sources))return fy(t.sources);return!1}(this.wTt.source))return"This source is managed by the DAI integration extension."}}},i.setSrc=function(t){return this.setSource({src:t})},i.setSource=function(t){this.Au=null,this.trigger("error")},i.currentSrc=function(){return this.wTt.src},i.load=function(){this.setPreload("auto")},i.preload=function(){return this.wTt.preload},i.setPreload=function(t){this.wTt.preload=t},i.autoplay=function(){return this.wTt.autoplay},i.setAutoplay=function(t){this.wTt.autoplay=!!t},i.seeking=function(){return this.wTt.seeking},i.seekable=function(){return this.wTt.seekable},i.ended=function(){return this.wTt.ended},i.playbackRate=function(){return this.wTt.playbackRate},i.setPlaybackRate=function(t){this.wTt.playbackRate=t},i.readyState=function(){return this.wTt.readyState},i.networkState=function(){return 0},i.controls=function(){return!1},i.videoHeight=function(){return this.wTt.videoHeight},i.videoWidth=function(){return this.wTt.videoWidth},i.supportsFullScreen=function(){return this.wTt.presentation.supportsMode(VS.FULLSCREEN)},i.enterFullScreen=function(){this.wTt.presentation.requestMode(VS.FULLSCREEN)},i.exitFullScreen=function(){this.wTt.presentation.requestMode(VS.INLINE)},i.ITt=function(){var t=this.wTt.ads;if(t&&t.playing)return!0;var n=this.wTt.vr;return!(!n||n.state===c$.npt)},i.initTextTrackListeners=function(){var n=this;return this.on("touchend",function(t){n.ITt()&&(t.preventDefault=function(){})}),t.prototype.initTextTrackListeners.call(this)},i.RAt=function(){var t=this;if(this.src()){var n=this.readyState();if(0===n){var i=!1,e=function(){i=!0};this.on("loadstart",e);var r=function(){i||t.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready(function(){t.off("loadstart",e),t.off("loadedmetadata",r),i||t.trigger("loadstart")})}var s=["loadstart"];s.push("loadedmetadata"),n>=2&&s.push("loadeddata"),n>=3&&s.push("canplay"),n>=4&&s.push("canplaythrough"),this.ready(function(){for(var n=0;n<s.length;n++){var i=s[n];t.trigger(i)}})}},i.dispose=function(){this.ETt(),this.wTt=null,t.prototype.dispose.call(this)},n.isSupported=function(){return!0},n.canPlayType=function(){return"maybe"},n.canPlaySource=function(t){return"maybe"},T(n,[{key:"featuresVolumeControl",get:function(){return br}}]),n}(PY);function OY(t){return function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).RTt=void 0,n}return E(n,t),n.prototype.dispose=function(){this.RTt=void 0,t.prototype.dispose.call(this)},T(n,[{key:"wTt",get:function(){return this.RTt||(this.RTt=this.player().tech({IWillNotUseThisInPlugins:!0}).theoplayer()),this.RTt}}]),n}(t)}BY.prototype.featuresFullscreenResize=xY.prototype.featuresFullscreenResize,BY.prototype.featuresPlaybackRate=xY.prototype.featuresPlaybackRate,BY.prototype.featuresProgressEvents=!0,BY.prototype.featuresTimeupdateEvents=!0,BY.prototype.featuresNativeTextTracks=!0,dY.registerTech("THEOplayer",BY);var LY=function(t){var n=this;this.qN=void 0,this.CTt=function(t){sr(n.qN,"theo-mobile-button-hover"),t.stopImmediatePropagation()},this.DTt=function(t){ur(n.qN,"theo-mobile-button-hover")},this.NTt=function(t){n.qN.blur()},this.qN=t,t.addEventListener("touchstart",this.CTt),t.addEventListener("touchend",this.DTt),t.addEventListener("focusin",this.NTt)},MY=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.PTt=function(){sr(this.xTt,"theo-menu-opened")},i.Zh=function(){ur(this.xTt,"theo-menu-opened")},T(n,[{key:"xTt",get:function(){return this.player().el()}}]),n}(OY(dY.getComponent("Menu"))),jY=function(t){function n(n,e,r){var s;return(s=t.call(this,n,Ur({selectable:!0},e))||this).BTt=void 0,s.OTt=!1,s.CTt=function(t){sr(s.el(),"theo-mobile-menu-item-hover"),t.stopImmediatePropagation()},s.DTt=function(t){ur(s.el(),"theo-mobile-menu-item-hover")},s.BTt=r,i.Hr.wn&&(s.el().addEventListener("touchstart",s.CTt),s.el().addEventListener("touchend",s.DTt)),s}E(n,t);var e=n.prototype;return e.buildCSSClass=function(){return"theo-menu-item vjs-menu-item"},e.createEl=function(){var n=t.prototype.createEl.call(this,"li",{className:this.buildCSSClass(),tabIndex:0},{"aria-live":"off","aria-label":""});return n.innerHTML="",n},e.handleClick=function(t){this.OTt||(this.parentMenu.LTt(this),"tap"!==t.type&&"keydown"!==t.type||(this.OTt=!0,this.trigger("click"),this.OTt=!1))},e.dispose=function(){i.Hr.wn&&(this.el().removeEventListener("touchstart",this.CTt),this.el().removeEventListener("touchend",this.DTt)),t.prototype.dispose.call(this)},T(n,[{key:"parentMenu",get:function(){return this.BTt}}]),n}(OY(dY.getComponent("MenuItem"))),FY=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).BTt=void 0,r.OTt=!1,r.MTt=!1,r.BTt=e,r.on(n,"languagechange",r.jTt),r}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-primary-background theo-menu-header"},i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-live":"off","aria-label":""});return n.innerHTML="",n},i.handleClick=function(t){!this.OTt&&this.FTt&&(this.BTt.UTt(),"tap"===t.type&&(this.OTt=!0,this.trigger("click"),this.OTt=!1))},i.jTt=function(){this.FTt?this.el().setAttribute("aria-label",this.localize("Go back to the previous menu")):this.el().setAttribute("aria-label","")},T(n,[{key:"parentMenu",get:function(){return this.BTt}},{key:"FTt",get:function(){return this.MTt},set:function(t){this.MTt=t,this.el().setAttribute("tabindex",this.FTt?"0":"-1"),this.jTt()}}]),n}(dY.getComponent("ClickableComponent")),UY=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.HTt=function(t){this.zTt.XTt(t,"replace")},i.VTt=function(t){t.zTt.XTt(this,"restore")},i.sy=function(){ur(this.WTt,"vjs-hidden"),this.WTt.style.opacity="1",t.prototype.show.call(this)},i.uy=function(){sr(this.WTt,"vjs-hidden")},i.PTt=function(){this.zTt&&this.zTt.PTt(),t.prototype.PTt.call(this)},i.Zh=function(){this.zTt&&this.zTt.Zh(),t.prototype.Zh.call(this),sr(this.WTt,"vjs-hidden")},i.qTt=function(){if(this.zTt&&this.zTt.GTt)return this.zTt.GTt.WTt},i.$Tt=function(n,i){if(i.length>0){var e=i[0].height,r=i[0].width;this.YTt.Ty.style.height=e+"px",this.YTt.Ty.style.width=r+"px"}t.prototype.$Tt.call(this,n,i)},T(n,[{key:"zTt",get:function(){return this.YTt},set:function(t){this.YTt&&this.YTt.QTt(this),this.YTt=t,t&&t.ZTt(this)}}]),n}(function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).KTt=void 0,e.JTt=function(){return e.tSt()},e.KTt=e.player().el(),e.hide(),e.on("menuchange",e.tSt),e}E(n,t);var e=n.prototype;return e.addMenuItem=function(t){t=Ur({playerOptions:this.Zpt.playerOptions},t);var n=new jY(this.player(),t,this);return this.addChild(n,void 0,t.index),this.trigger("menuchange"),n},e.addSubMenuItem=function(t){t=Ur({playerOptions:this.Zpt.playerOptions},t);var n=this.nSt(this.player(),t);return this.addChild(n,void 0,t.index),this.trigger("menuchange"),n},e.removeMenuItem=function(t){this.removeChild(t),this.trigger("menuchange")},e.buildCSSClass=function(){return"theo-menu vjs-menu"},e.PTt=function(){t.prototype.PTt.call(this),r.removeEventListener("resize",this.JTt),r.addEventListener("resize",this.JTt),this.show()},e.tSt=function(){var t=this.qTt();if(t){var n=t.getClientRects();i.Hr.wn?this.iSt(t,n):this.$Tt(t,n)}},e.qTt=function(){var t;return null!=(t=this.contentEl().parentElement)?t:void 0},e.$Tt=function(t,n){},e.iSt=function(t,n){},e.Zh=function(){r.removeEventListener("resize",this.JTt),t.prototype.Zh.call(this),this.hide(),i.Hr.wn&&(this.el().removeAttribute("style"),this.contentEl().removeAttribute("style"))},e.createEl=function(){var n=t.prototype.createEl.call(this);n.className=this.buildCSSClass();var i=this.contentEl();sr(i,"theo-menu-content");var e=new FY(this.player(),this.Zpt,this);return i.parentNode.insertBefore(e.el(),i),this.eSt=e,n},e.LTt=function(t){},e.show=function(){return this.tSt(),t.prototype.show.call(this)},e.dispose=function(){this.eSt&&this.eSt.dispose(),t.prototype.dispose.call(this)},T(n,[{key:"menuHeader",get:function(){return this.eSt}},{key:"menuItems",get:function(){return this.children()}}]),n}(MY)),HY=function(){function t(t){this.rSt=void 0,this.sSt=void 0,this.qN=void 0,this.KTt=void 0,this.sSt=this.rSt=t,this.qN=s.createElement("div"),this.qN.className="theo-tertiary-background theo-menu-animation-container",this.qN.appendChild(this.sSt.WTt),this.KTt=this.rSt.player().el()}var n=t.prototype;return n.ZTt=function(t){t.uy(),this.qN.appendChild(t.WTt)},n.QTt=function(t){this.qN.removeChild(t.WTt)},n.XTt=function(t,n){if(t!=this.rSt){var e=this.rSt;if(this.rSt=t,this.rSt.sy(),this.GTt.focus(),i.Hr.wn)e.uy();else{var r=WI("transform");e.WTt.style.opacity="0",e.WTt.style[r]="replace"===n?"translateX(-100%)":"translateX(100%)",this.rSt.WTt.style.opacity="1",this.rSt.WTt.style[r]="",a(function(){e.uy(),e.WTt.style[r]=""},300)}}},n.PTt=function(){this.uSt(),this.rSt.sy(),this.oSt()},n.Zh=function(){this.uSt(),this.rSt.uy(),this.sSt.uy(),this.rSt=this.sSt,this.oSt()},n.oSt=function(){var t=this;FI(function(){ur(t.qN,"theo-no-transition"),ur(t.rSt.WTt,"theo-no-transition")})},n.uSt=function(){sr(this.qN,"theo-no-transition"),sr(this.rSt.WTt,"theo-no-transition")},T(t,[{key:"Ty",get:function(){return this.qN}},{key:"GTt",get:function(){return this.rSt}}]),t}(),XY=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).aSt=void 0,r.hSt=!1,r.aSt=e,r.menuHeader.FTt=!0,r}E(n,t);var i=n.prototype;return i.nSt=function(t,n){var i=new zY(t,n,this);return i.subMenu.zTt=this.zTt,i},i.UTt=function(){this.cSt()},i.LTt=function(n){t.prototype.LTt.call(this,n),this.cSt()},i.cSt=function(){this.parentMenu.VTt(this)},i.buildCSSClass=function(){return"theo-submenu "+(this.hSt?"":"theo-leaf-submenu ")+"theo-menu-content theo-menu-content-animatable "+t.prototype.buildCSSClass.call(this)},i.addSubMenuItem=function(n){this.hSt=!0;var i=t.prototype.addSubMenuItem.call(this,n);return this.removeClass("theo-leaf-submenu"),i},T(n,[{key:"WTt",get:function(){return this.el()}},{key:"parentMenu",get:function(){return this.aSt}}]),n}(UY),zY=function(t){function n(n,i,e){var r;return(r=t.call(this,n,Ur({selectable:!1},i),e)||this).fSt=void 0,r.fSt=new XY(n,i,e),r}return E(n,t),n.prototype.handleClick=function(t){this.parentMenu.HTt(this.subMenu)},T(n,[{key:"subMenu",get:function(){return this.fSt}}]),n}(jY),VY=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).lSt=void 0,r.vSt=!1,r.lSt=e,r}E(n,t);var i=n.prototype;return i.createEl=function(){var n=dY.createEl("div",{className:this.buildCSSClass()});return this.dSt=t.prototype.createEl.call(this),this.dSt.className=t.prototype.buildCSSClass.call(this),sr(this.dSt,"theo-menu-content-animatable"),n.appendChild(this.dSt),this.zTt=new HY(this),n.appendChild(this.zTt.Ty),n},i.buildCSSClass=function(){return"theo-menu-animatable "+t.prototype.buildCSSClass.call(this)},i.nSt=function(t,n){var i=new zY(t,n,this);return i.subMenu.zTt=this.zTt,i},i.$Tt=function(n,i){t.prototype.$Tt.call(this,n,i);var e=this.KTt.getClientRects(),r=e.length>0?e[0]:void 0,s=y(getComputedStyle(this.el()).fontSize);Ux(this.el(),this.lSt.el(),r,s)},i.UTt=function(){this.lSt.closeMenu()},i.dispose=function(){this.vSt||(this.vSt=!0,t.prototype.dispose.call(this))},T(n,[{key:"menuButton",get:function(){return this.lSt}},{key:"WTt",get:function(){return this.dSt}}]),n}(UY),WY=function(){function t(t,n){var i=this;this.wSt=void 0,this.gSt=void 0,this.mSt=function(){ur(i.wSt,"vjs-hidden");var t=i.gSt.player().contentEl().getClientRects(),n=t.length>0?t[0]:void 0,e=y(getComputedStyle(i.wSt).fontSize);Ux(i.wSt,i.gSt.el(),n,e)},this.ySt=function(){sr(i.wSt,"vjs-hidden")},this.pSt=function(){return i._St()},this.gSt=t,fr(t.el()),t.el().addEventListener("mouseover",function(t){fr(t.target)}),this.wSt=s.createElement("span"),this.wSt.innerHTML=this.gSt.localize(n),this.wSt.className="theo-button-tooltip vjs-hidden",this.wSt.setAttribute("aria-hidden","true"),this.gSt.el().appendChild(this.wSt),this.gSt.on("mouseover",this.mSt),this.gSt.on("mouseout",this.ySt),this.gSt.on("dispose",this.pSt)}return t.prototype._St=function(){this.gSt.off("mouseover",this.mSt),this.gSt.off("mouseout",this.ySt),this.gSt.off("dispose",this.pSt),nr(this.wSt)},T(t,[{key:"bSt",get:function(){return this.wSt.textContent||""},set:function(t){this.wSt.innerHTML=this.gSt.localize(t),this.ySt(),this.mSt(),fr(this.gSt.el())}}]),t}(),qY=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).kSt=void 0,r.wSt=void 0,r.ASt=!1,r.TSt=1,r.Gy=!0,r.SSt=function(t){var n,e=r.el().contains(t.target),s=r.kSt.el().contains(t.target),u=!1;i.Hr.wn&&r.ESt&&(u=(null==(n=r.el().parentElement)?void 0:n.querySelector(".theo-mobile-menu-background"))===t.target);e||s||!r.ASt||(u&&t.preventDefault(),r.closeMenu())},r.ISt=function(t){27===t.which&&(r.closeMenu(),r.focus())},r.hG=function(){r.ASt&&r.closeMenu()},r.RSt=function(){r.kSt.menuItems.length>=r.TSt?r.show():(r.closeMenu(),r.hide())},r.kSt=new VY(n,e,Jt(r)),r.player().getChild("controlBarMenuContainer").addChild(r.kSt),r.wSt=new WY(Jt(r),r.controlText()),r.el().setAttribute("aria-haspopup","true"),i.Hr.qt?(r.on(s,"touchend",r.SSt),new LY(r.el())):(r.on(s,"click",r.SSt),r.on(s,"keydown",r.ISt),ZI&&r.on(s,ZI.Bx,r.closeMenu)),r.wTt.addEventListener("seeking",r.hG),r.on(r.kSt,"menuchange",r.RSt),r.on(n,"languagechange",r.jTt),r.RSt(),r}E(n,t);var e=n.prototype;return e.isMenuOpen=function(){return this.ASt},e.openMenu=function(){this.Gy&&!this.ASt&&(this.kSt.PTt(),this.el().setAttribute("aria-expanded","true"),this.ASt=!0,this.kSt.focus())},e.closeMenu=function(){this.Gy&&this.ASt&&(this.kSt.Zh(),this.el().setAttribute("aria-expanded","false"),this.ASt=!1)},e.buildCSSClass=function(){return"theo-controlbar-button vjs-menu-button vjs-menu-button-popup "+t.prototype.buildCSSClass.call(this)},e.createEl=function(n,i,e){return t.prototype.createEl.call(this,"button",{},{"aria-live":"off"})},e.handleClick=function(){this.ASt?this.closeMenu():this.openMenu()},e.enable=function(){return this.Gy=!0,t.prototype.enable.call(this)},e.disable=function(){return this.closeMenu(),this.Gy=!1,t.prototype.disable.call(this)},e.jTt=function(){this.wSt.bSt=this.controlText()},e.dispose=function(){this.player().removeChild(this.kSt),this.kSt.dispose(),this.wSt._St(),this.wTt.removeEventListener("seeking",this.hG),t.prototype.dispose.call(this)},T(n,[{key:"ESt",get:function(){var t=this.el().parentElement;return!!t&&null!==t.querySelector(".theo-mobile-menu-background")}},{key:"menu",get:function(){return this.kSt}},{key:"minimumMenuItems",set:function(t){this.TSt=t,this.RSt()}}]),n}(OY(dY.getComponent("Button"))),GY=dY.getComponent("Component"),$Y=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).addChild("THEOControlBarShadow",void 0,0),e}E(n,t);var i=n.prototype;return i.addMenuButton=function(t){t=Ur({playerOptions:this.Zpt.playerOptions},t);var n=new qY(this.player(),t);return this.addChild(n),n},i.removeMenuButton=function(t){this.removeChild(t)},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-secondary-color vjs-control-bar "+t.prototype.buildCSSClass.call(this)},n}(dY.getComponent("ControlBar")),YY=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i.buildCSSClass=function(){return"theo-tertiary-color theo-control-bar-shadow"},n}(GY);dY.registerComponent("THEOControlBarShadow",YY);var QY=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).CSt=void 0,e.CSt=i.DSt,e}E(n,t);var i=n.prototype;return i.handleFocus=function(n){t.prototype.handleFocus.call(this,n),this.CSt.addClass("focus-within")},i.handleBlur=function(n){t.prototype.handleBlur.call(this,n),this.CSt.removeClass("focus-within")},n}(dY.getComponent("VolumeBar")),ZY=dY.getComponent("VolumeControl"),KY=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).NSt=void 0,e.NSt=new QY(n,{DSt:Jt(e)}),e.addChild(e.NSt),e}return E(n,t),n}(ZY);KY.prototype.Zpt=Ur({},ZY.prototype.Zpt,{children:[]}),dY.registerComponent("VolumeControl",KY);var JY=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).PSt=void 0,e.xSt=function(t){if("opacity"===t.propertyName){var n=e.BSt();e.wTt.textTrackStyle.marginBottom!==n&&(e.wTt.textTrackStyle.marginBottom=n)}},e.OSt=function(t){"opacity"===t.propertyName&&"0"===r.getComputedStyle(e.el()).opacity&&(e.wTt.textTrackStyle.marginBottom=void 0)},e.LSt=function(){void 0!==e.wTt.textTrackStyle.marginBottom&&(e.wTt.textTrackStyle.marginBottom=e.BSt())},e.el().addEventListener("transitionstart",e.xSt),e.el().addEventListener("transitionend",e.OSt),e.PSt=new YI(e.el()),e.PSt.tu("sx",e.LSt),e.PSt.lc(!0),e}E(n,t);var i=n.prototype;return i.BSt=function(){return this.el().getBoundingClientRect().height},i.dispose=function(){this.el().removeEventListener("transitionstart",this.xSt),this.el().removeEventListener("transitionend",this.OSt),this.PSt.au("sx",this.LSt),this.PSt.$c(),t.prototype.dispose.call(this)},n}(OY($Y));JY.prototype.Zpt=Ur({},$Y.prototype.Zpt,{children:["progressControl","playToggle","muteToggle","volumeControl","currentTimeDisplay","timeDivider","durationDisplay","liveDisplay","remainingTimeDisplay","customControlSpacer","activeQualityLabel","vrButton","descriptionsButton","subtitlesButton","chromecastButton","airplayButton","multiViewButton","audioTrackButton","SettingsButton","fullscreenToggle"]}),dY.registerComponent("ControlBar",JY);var tQ=function(t){function n(n,i){var e;return e=t.call(this,n,i)||this,n.topControlBar=Jt(e),e}return E(n,t),n.prototype.buildCSSClass=function(){return"theo-top-controlbar "+t.prototype.buildCSSClass.call(this)},n}($Y);tQ.prototype.Zpt=Ur({},$Y.prototype.Zpt,{children:[]}),dY.registerComponent("TopControlBar",tQ);var nQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).on(n,"timeupdate",e.updateContent),e.on(n,"emptied",e.updateContent),e}return E(n,t),n.prototype.updateContent=function(){var t=this.player(),n=yY(t),i=_Y(t),e=this.localize("Current Time"),r=AY(g.max(0,n-i),bY(t));r!==this.mbt&&(this.mbt=r,this.contentEl().innerHTML='<span class="vjs-control-text">'+e+"</span> "+r)},n}(dY.getComponent("CurrentTimeDisplay"));dY.registerComponent("CurrentTimeDisplay",nQ);var iQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).MSt=function(){return e.updateContent()},e.off(n,"durationchange",e.updateContent),e.on(n,"durationchange",e.updateContent),e.off(n,"timeupdate",e.updateContent),e.on(n,"timeupdate",e.updateContent),e.off(n,"emptied",e.updateContent),e.on(n,"emptied",e.updateContent),e.wTt&&e.wTt.clip.addEventListener("change",e.MSt),e}return E(n,t),n.prototype.updateContent=function(){var t=p(this.wTt.duration)?NaN:bY(this.player()),n=this.wTt.clip.endTime-this.wTt.clip.startTime,i=g.min(t,n)||0;if(this.nm!==i){this.nm=i;var e=this.localize("Duration Time"),r=AY(i);this.nbt.innerHTML='<span class="vjs-control-text">'+e+"</span> "+r}},n}(OY(dY.getComponent("DurationDisplay")));dY.registerComponent("DurationDisplay",iQ);var eQ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).controlText("Live"),r.jSt(),r.on(r.player(),"durationchange",r.jSt),i.Hr.qt&&new LY(r.el()),r}E(n,t);var e=n.prototype;return e.buildCSSClass=function(){return"theo-live-control "+t.prototype.buildCSSClass.call(this)},e.createEl=function(){var n=t.prototype.createEl.call(this,"button",{},{"aria-live":"off"});return this.FSt=dY.createEl("span",{className:"theo-live-control-indicator"}),n.insertBefore(this.FSt,n.firstChild),n},e.createControlTextEl=function(n){var i=t.prototype.createControlTextEl.call(this,n);return dY.removeClass(i,"vjs-control-text"),dY.addClass(i,"theo-live-control-text"),i},e.handleClick=function(){var t,n=this.wTt;if(void 0!==(null==(t=n.hesp)?void 0:t.manifest))n.hesp.goLive();else{var i=this.player();i.currentTime(pY(i)),i.play()}},e.jSt=function(){mY(this.player())?this.show():this.hide()},n}(OY(dY.getComponent("Button")));dY.registerComponent("LiveDisplay",eQ);var rQ=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-secondary-color vjs-loading-spinner "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var n=t.prototype.createEl.call(this);n.className=this.buildCSSClass();var i=dY.createEl("div",{className:"theo-loading-spinner-rotator"}),e=dY.createEl("div",{className:"theo-loading-spinner-circle-left"}),r=dY.createEl("div",{className:"theo-loading-spinner-circle-right"});return i.appendChild(e),i.appendChild(r),n.appendChild(i),n},n}(dY.getComponent("LoadingSpinner"));dY.registerComponent("LoadingSpinner",rQ);var sQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).USt=[],e.on(n,"emptied",e.update),e}return E(n,t),n.prototype.update=function(){var t=this.player(),n=TS.VC(kY(t)),i=n.oC(0),e=TS.VC(t.buffered()).kC(n),r=n.hC(0)-i,u=e.M_&&e.hC(e.M_-1)||0;u=g.max(0,u-i);var o=this.el(),a=this.USt;o.style.width=uQ(u,r);for(var h=0;h<e.M_;h++){var c=e.oC(h),f=e.hC(h),l=a[h];l||(l=s.createElement("div"),a.push(l),o.appendChild(l)),l.style.left=uQ(c-i,u),l.style.width=uQ(f-c,u)}for(var v=a.length;v>e.M_;v--)o.removeChild(a[v-1]);a.length=e.M_},n}(dY.getComponent("LoadProgressBar"));function uQ(t,n){var i=t/n||0;return 100*(i>=1?1:i)+"%"}dY.registerComponent("LoadProgressBar",sQ);var oQ=function(t){function n(n,i){var e,r;((e=t.call(this,n,i)||this).HSt=function(){var t=e.player(),n=t.scrubbing()?t.getCache().currentTime:t.currentTime(),i=(n-_Y(t))/bY(t)||0;i=Ft(i,0,1),e.update(n,100*i+"%")},e.keepTooltipsInside&&(dY.addClass(e.tooltip,"theo-secondary-color"),e.tooltip.appendChild(e.XSt)),j.wn)&&(e.on(n,"firstplay",e.HSt),e.on(n,"play",e.HSt),e.on(n,"seeking",e.HSt),e.on(n,"seeked",e.HSt),e.on(n,"timeupdate",e.HSt),e.wTt.addEventListener("dimensionchange",e.HSt),null==(r=e.wTt.presentation)||r.addEventListener("presentationmodechange",e.HSt),n.on("ready",function(){e.on(n.controlBar.progressControl,"touchmove",tt(function(t){return e.handleTouchMove(t)},25)),e.HSt()}));return e}E(n,t);var i=n.prototype;return i.handleMouseMove=function(t){var n=this.player(),i=_Y(n)+this.calculateDistance(t)*bY(n),e=t.pageX-Fx(this.el().parentNode).left;this.update(i,e+"px")},i.handleTouchMove=function(t){var n=this.player(),i=_Y(n)+this.calculateDistance(t)*bY(n),e=t.touches[0].pageX-Fx(this.el().parentNode).left;this.update(i,e+"px")},i.createEl=function(){var n=t.prototype.createEl.call(this);return this.XSt=dY.createEl("span",{className:"theo-time-tooltip-text"}),n},i.update=function(t,n){var i=this.zSt(t);if(this.el().style.left=n,this.el().setAttribute("data-current-time",i),this.keepTooltipsInside&&(Hx(this.XSt,i),this.tooltip.offsetParent)){var e=this.player().contentEl(),r=e.getClientRects(),s=r.length>0?r[0]:void 0,u=y(getComputedStyle(e).fontSize);Ux(this.tooltip,this.el(),s,u)}},i.zSt=function(t){var n=this.player(),i=t-pY(n);return AY(mY(n)?g.min(i,0):i,bY(n))},n}(OY(dY.getComponent("MouseTimeDisplay")));dY.registerComponent("MouseTimeDisplay",oQ);var aQ=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.updateDataAttr=function(){var t=yY(this.player());this.el().setAttribute("data-current-time",this.zSt(t))},i.zSt=function(t){var n=this.player();return AY(t-pY(n),bY(n))},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-play-progress vjs-slider-bar "+t.prototype.buildCSSClass.call(this)},n}(dY.getComponent("PlayProgressBar"));dY.registerComponent("PlayProgressBar",aQ);var hQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).on(n,"timeupdate",e.updateContent),e.on(n,"emptied",e.updateContent),e}return E(n,t),n.prototype.updateContent=function(){var t=this.player(),n=bY(t);if(n){var i=kY(t).end(0),e=this.localize("Remaining Time"),r=AY(g.max(0,i-t.currentTime()),n);r!==this.mbt&&(this.mbt=r,this.contentEl().innerHTML='<span class="vjs-control-text">'+e+"</span> -"+r)}},n}(dY.getComponent("RemainingTimeDisplay"));dY.registerComponent("RemainingTimeDisplay",hQ);var cQ=function(){function t(t,n){var i=this;this.VSt=void 0,this.WSt=void 0,this.qSt=void 0,this.GSt=void 0,this.$St=[],this.RTt=void 0,this.YSt=function(t){var n=t.track;n.kind===Vb.OE&&(n.addEventListener("addcue",i.QSt),n.addEventListener("removecue",i.QSt),n.addEventListener("readystatechange",i.QSt)),i.QSt()},this.ZSt=function(t){var n=t.track;n.kind===Vb.OE&&(n.removeEventListener("addcue",i.QSt),n.removeEventListener("removecue",i.QSt),n.removeEventListener("readystatechange",i.QSt)),i.QSt()},this.KSt=function(t){var n=i.JSt,e=function(t,n){var i,e,r=Fx(t),s=t.offsetWidth,u=t.offsetHeight,o=r.top,a=r.left;!function(t){return void 0!==t.changedTouches}(n)?(e=n.pageX,i=n.pageY):(e=n.changedTouches[0].pageX,i=n.changedTouches[0].pageY);var h=Ft((o-i+u)/u,0,1);return{x:Ft((e-a)/s,0,1),y:h}}(i.VSt,t),r=_Y(n)+e.x*bY(n);r===n.duration()&&(r-=.1),i.tEt(r)},this.nEt=function(){i.WSt.uy()},this.iEt=function(){i.WSt.sy()},this.QSt=function(){var t=i.eEt();t!==i.GSt&&(i.wc(),t&&i.rEt(t))},this.JSt=n,this.qSt=t,this.WSt=new lQ,this.JSt.contentEl().appendChild(this.WSt.Ty),this.VSt=s.createElement("div"),sr(this.VSt,"theoplayer-chapterbar"),this.qSt.appendChild(this.VSt),this.qSt.addEventListener("mousemove",this.KSt),this.qSt.addEventListener("mouseenter",this.iEt),this.qSt.addEventListener("mouseleave",this.nEt),this.sEt()}var n=t.prototype;return n.rEt=function(t){if(t.kind===Vb.OE&&0!==this.wTt.seekable.length){this.GSt=t;var n=t.cues.slice();this.WSt.Jh(n);for(var i=0;i<n.length;i++){var e=n[i],r=n[i+1],s=!r||e.endTime!==r.startTime,u=new fQ(e,this.wTt,s);this.$St.push(u),this.VSt.appendChild(u.Ty)}}},n.sEt=function(){this.wTt.addEventListener("loadedmetadata",this.QSt),this.wTt.addEventListener("loadeddata",this.QSt),this.wTt.addEventListener("sourcechange",this.QSt),this.wTt.textTracks.addEventListener("addtrack",this.YSt),this.wTt.textTracks.addEventListener("removetrack",this.ZSt),this.wTt.textTracks.addEventListener("change",this.QSt)},n.uEt=function(){this.wTt.removeEventListener("loadedmetadata",this.QSt),this.wTt.removeEventListener("loadeddata",this.QSt),this.wTt.removeEventListener("sourcechange",this.QSt),this.wTt.textTracks.removeEventListener("addtrack",this.YSt),this.wTt.textTracks.removeEventListener("removetrack",this.ZSt),this.wTt.textTracks.removeEventListener("change",this.QSt)},n.eEt=function(){if(!(this.wTt.readyState<sy.Wg))for(var t=0,n=this.wTt.textTracks;t<n.length;t++){var i=n[t];if(i.kind===Vb.OE&&i.mode===Fm.ag&&i.cues.length>0&&i.readyState!==Np.ERROR)return i}},n.tEt=function(t){this.WSt.tc(t)},n.oEt=function(){this.WSt.sy()},n.aEt=function(){this.WSt.uy()},n.wc=function(){for(var t=0,n=this.$St;t<n.length;t++){n[t]._St()}this.WSt.wc(),this.$St=[],this.GSt=void 0},n._St=function(){this.uEt(),this.qSt.removeEventListener("mousemove",this.KSt),this.qSt.removeEventListener("mouseenter",this.iEt),this.qSt.removeEventListener("mouseleave",this.nEt),this.wc(),this.WSt._St(),this.RTt=void 0},T(t,[{key:"wTt",get:function(){return this.RTt||(this.RTt=this.JSt.tech({IWillNotUseThisInPlugins:!0}).theoplayer()),this.RTt}}]),t}(),fQ=function(){function t(t,n,i){var e=this;this.qN=void 0,this.hEt=function(){sr(e.Ty,"theoplayer-chapter-indicator-active")},this.cEt=function(){ur(e.Ty,"theoplayer-chapter-indicator-active")},this.fEt=t,this.WN=n,this.lEt=i,this.qN=this.vEt(),this.dEt()}var n=t.prototype;return n.dEt=function(){vQ(this.fEt,this.WN.currentTime)&&this.hEt(),this.fEt.addEventListener("enter",this.hEt),this.fEt.addEventListener("exit",this.cEt)},n.vEt=function(){var t=this.WN.seekable.start(0),n=this.WN.seekable.end(this.WN.seekable.length-1)-t,i=this.fEt.startTime,e=this.fEt.endTime-i,r=s.createElement("div");sr(r,"theoplayer-chapter-indicator");var u=s.createElement("div");sr(u,"theoplayer-chapter-indicator-highlight"),r.appendChild(u),this.lEt&&sr(r,"theoplayer-chapter-indicator-discontinuous");var o=g.min(i/n*100,100),a=100-o,h=g.min(e/n*100,a);return r.style.width=h+"%",r.style.left=o+"%",r},n._St=function(){this.fEt.removeEventListener("enter",this.hEt),this.fEt.removeEventListener("exit",this.cEt),nr(this.qN)},T(t,[{key:"Ty",get:function(){return this.qN}}]),t}(),lQ=function(){function t(){this.wEt=[],this.Ty=void 0,this.gEt=void 0,this.mEt=0,this.Ty=s.createElement("div"),sr(this.Ty,"theoplayer-chaptertitle"),this.Ty.style.display="none",this.gEt=s.createElement("p"),this.Ty.appendChild(this.gEt)}var n=t.prototype;return n.uy=function(){this.mEt--,0===this.mEt&&ur(this.Ty,"theoplayer-chapter-hovering")},n.Jh=function(t){this.wEt=t||[],this.wEt.length>0&&(this.Ty.style.display="")},n.rK=function(t){Hx(this.gEt,t.content)},n.wc=function(){this.wEt=[],Hx(this.gEt,""),this.Ty.style.display="none"},n.sy=function(){this.mEt++,this.mEt>0&&sr(this.Ty,"theoplayer-chapter-hovering")},n.tc=function(t){for(var n=0,i=this.wEt;n<i.length;n++){var e=i[n];if(vQ(e,t)){this.rK(e);break}}},n._St=function(){nr(this.Ty)},t}();function vQ(t,n){return new TS([t.startTime,t.endTime]).TN(n)}var dQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).VSt=void 0,e.playingStates=[],e.on(n,"emptied",e.update),e.on(n,"seeking",e.update),e.VSt=new cQ(e.el(),n),e}E(n,t);var i=n.prototype;return i.updateAriaAttributes=function(t){var n=this.player(),i=yY(n);t.setAttribute("aria-valuenow",(100*this.yEt(i)).toFixed(2)),t.setAttribute("aria-valuetext",AY(i-pY(n),bY(n)))},i.getPercent=function(){return this.yEt(this.player().currentTime())},i.handleMouseMove=function(t){if(!(this.wTt&&this.wTt.ads&&this.wTt.ads.playing)){var n=this.player(),i=_Y(n)+this.calculateDistance(t)*bY(n);i>=n.duration()&&(i=n.duration()-.1),this.VSt.tEt(i),n.currentTime(i)}},i.handleMouseDown=function(n){this.playingStates.push(!this.player().paused()),this.VSt.oEt(),t.prototype.handleMouseDown.call(this,n)},i.handleMouseUp=function(n){this.videoWasPlaying=Boolean(this.playingStates.pop()),this.VSt.aEt(),t.prototype.handleMouseUp.call(this,n)},i.yEt=function(t){var n=this.player();return Ft((t-_Y(n))/bY(n),0,1)},i.dispose=function(){this.VSt._St(),Zs(this.playingStates)},n}(OY(dY.getComponent("SeekBar")));dY.registerComponent("SeekBar",dQ);var wQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).on(Jt(e),"touchmove",e.handleMouseMove),e.on("touchstart",e.handleMouseDown),e.seekBar.off(["touchmove","touchstart"]),e}E(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(t){this.seekBar.handleMouseMove(t)},i.handleMouseDown=function(t){this.seekBar.handleMouseDown(t)},n}(dY.getComponent("ProgressControl"));i.Hr.wn&&dY.registerComponent("ProgressControl",wQ);var gQ=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.updateDataAttr=function(){var t=yY(this.player()),n=this.zSt(t);this.el().setAttribute("data-current-time",n),this.tooltip.innerHTML=n},i.zSt=function(t){var n=this.player();return AY(t-pY(n),bY(n))},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-tooltip-progress-bar vjs-slider-bar "+t.prototype.buildCSSClass.call(this)},n}(dY.getComponent("TooltipProgressBar"));function mQ(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.enabled)return i}}function yQ(t){if(t)return t.label&&""!==t.label?{name:t.label,hd:!1}:{name:pQ(t),description:_Q(t),hd:!!t.height&&t.height>=720}}function pQ(t){return t.height?t.height+"p":t.bandwidth?_Q(t):""}function _Q(t){return t.bandwidth?t.bandwidth>1e7?(t.bandwidth/1e6).toFixed(0)+"Mbps":t.bandwidth>1e6?(t.bandwidth/1e6).toFixed(1)+"Mbps":(t.bandwidth/1e3).toFixed(0)+"kbps":""}dY.registerComponent("TooltipProgressBar",gQ);var bQ=function(){function t(t){this.pEt=void 0,this._Et=[],this.pEt=t}var n=t.prototype;return n.bEt=function(t){var n=this.kEt;if(n)for(var i=0;i<n.length;i++){var e=n[i];if(e.p0===t)return e}},n.AEt=function(t){var n=this,i=this.pEt.addMenuItem();return i.p0=t,i.on("click",function(){return n.TEt(i)}),i.el().setAttribute("role","menuitemradio"),i},n.SEt=function(t){t.dispose()},n.EEt=function(t){return!0},n.IEt=function(t){if(this.EEt(t)){Qs(this._Et,t)||this._Et.push(t);var n=this.bEt(t)||this.AEt(t);return this.REt(n),n}this.CEt(t)},n.CEt=function(t){var n=this.bEt(t);n&&(this.pEt.removeMenuItem(n),this.SEt(n)),$s(this._Et,t)},n._St=function(){for(var t=[],n=0,i=this._Et;n<i.length;n++){var e=i[n];t.push(e)}for(var r=0;r<t.length;r++){var s=t[r];this.CEt(s)}Zs(t)},T(t,[{key:"DEt",get:function(){return this._Et},set:function(t){for(var n=this._Et,i=n.length-1;i>=0;i--){var e=n[i];Qs(t,e)||this.CEt(e)}for(var r=0;r<t.length;r++){var s=t[r];this.IEt(s)}this.pEt.tSt()}},{key:"kEt",get:function(){return this.pEt.menuItems}}]),t}(),kQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n.subMenu)||this).NEt=void 0,r.RTt=void 0,r.PEt=void 0,r.xEt=void 0,r.BEt=void 0,r.OEt=void 0,r.LEt=void 0,r.MEt=void 0,r.jEt=void 0,r.FEt=function(){var t=mQ(r.RTt.videoTracks);if(t!==r.xEt){var n=[];if(r.xEt&&(r.xEt.removeEventListener("activequalitychanged",r.UEt),r.xEt.removeEventListener("targetqualitychanged",r.HEt),r.xEt.removeEventListener("update",r.NP)),r.xEt=t,t){t.addEventListener("activequalitychanged",r.UEt),t.addEventListener("targetqualitychanged",r.HEt),t.addEventListener("update",r.NP);var i=TQ(IQ(t.qualities.filter(function(t){return t.available})));n=i.length>1?[void 0].concat(i):[void 0]}r.DEt=n,r.HEt(),r.UEt()}},r.NP=function(t){var n=t.track;if(n===r.xEt){var i,e=TQ(IQ(n.qualities.filter(function(t){return t.available}))),s=n&&RQ(n.targetQuality);r.BEt=r.XEt(s,e),i=e.length>1?[void 0].concat(e):[void 0],r.DEt=i,r.zEt()}},r.UEt=function(){r.IEt(void 0),r.zEt()},r.HEt=function(){var t=mQ(r.RTt.videoTracks),n=t&&RQ(t.targetQuality),i=r.XEt(n),e=r.BEt;i!==e&&(r.BEt=i,i&&e||r.IEt(void 0),e&&Qs(r.DEt,e)&&r.IEt(e),n&&r.IEt(i),r.zEt())},r.jTt=function(){Hx(r.pEt.menuHeader.el(),r.PEt.localize("Quality")),Hx(r.OEt,r.PEt.localize("Quality")),Hx(r.LEt,r.PEt.localize("Automatic")),Hx(r.MEt,r.PEt.localize("Automatic")),Hx(r.jEt,r.PEt.localize("HD")),r.NEt.el().setAttribute("aria-label",r.PEt.localize("Open the video quality settings menu"));for(var t=0,n=r.kEt;t<n.length;t++){var i=n[t];r.REt(i)}r.zEt()},r.NEt=n,r.RTt=i,r.PEt=e,r.OEt=r.VEt(),r.LEt=r.WEt(),r.MEt=r.qEt(),r.jEt=r.GEt(),r.$Et(),Hx(r.pEt.menuHeader.el(),r.PEt.localize("Quality")),r.DEt=[void 0],r.RTt.videoTracks.addEventListener(["addtrack","removetrack","change"],r.FEt),r.PEt.on("languagechange",r.jTt),r.FEt(),r}E(n,t);var i=n.prototype;return i.VEt=function(){return this.OEt=s.createElement("span"),this.OEt.className="theo-settings-control-menu-item-title",Hx(this.OEt,this.PEt.localize("Quality")),this.OEt},i.WEt=function(){return this.LEt=s.createElement("span"),this.LEt.className="theo-settings-control-menu-quality-automatic",Hx(this.LEt,this.PEt.localize("Automatic")),this.LEt},i.qEt=function(){return this.MEt=s.createElement("span"),Hx(this.MEt,this.PEt.localize("Automatic")),this.MEt},i.GEt=function(){return this.jEt=s.createElement("span"),this.jEt.className="theo-primary-color theo-settings-control-menu-item-hd-label",Hx(this.jEt,this.PEt.localize("HD")),this.jEt},i.$Et=function(){var t=s.createElement("span");t.className="theo-primary-color theo-settings-control-menu-item-value",t.appendChild(this.LEt),t.appendChild(s.createTextNode(" ")),t.appendChild(this.MEt),t.appendChild(s.createTextNode(" ")),t.appendChild(this.jEt),this.NEt.el().appendChild(this.OEt),this.NEt.el().appendChild(t),this.NEt.el().setAttribute("aria-label",this.PEt.localize("Open the video quality settings menu"))},i.zEt=function(){var t=this.xEt,n=t&&RQ(t.targetQuality),i=t&&t.activeQuality,e=yQ(this.XEt(n||i))||{name:this.PEt.localize("Automatic")};Hx(this.MEt,e.name),or(this.LEt,"vjs-hidden",!!n),or(this.jEt,"vjs-hidden",!e.hd)},i.REt=function(t){var n=yQ(t.p0)||{name:this.PEt.localize("Automatic")},i=n.name;n.hd&&(i+='<span class="theo-primary-color theo-settings-control-menu-item-hd-label">'+this.PEt.localize("HD")+"</span>"),n.description&&(i+='<span class="theo-settings-control-submenu-item-alternate-value">'+n.description+"</span>"),t.el().innerHTML=i,t.el().setAttribute("aria-label",this.PEt.localize("Set video quality to ")+n.name),t.p0?t.selected(t.p0===this.BEt):t.selected(!this.BEt)},i.TEt=function(t){this.xEt&&(this.xEt.targetQuality=t.p0&&t.p0.videoQualities)},i.XEt=function(t,n){for(var i=n||this.DEt,e=0;e<i.length;e++){var r=i[e];if(t&&r&&-1!==r.videoQualities.indexOf(t))return r}},i._St=function(){this.RTt.videoTracks.removeEventListener(["addtrack","removetrack","change"],this.FEt),this.PEt.off("languagechange",this.jTt),this.xEt&&(this.xEt.removeEventListener("activequalitychanged",this.UEt),this.xEt.removeEventListener("targetqualitychanged",this.HEt),this.xEt.removeEventListener("update",this.NP)),t.prototype._St.call(this)},n}(bQ),AQ=function(){function t(t){this.YEt=t}return t.prototype.add=function(t){this.YEt.push(t)},T(t,[{key:"height",get:function(){return this.YEt[0].height}},{key:"bandwidth",get:function(){return this.YEt[0].bandwidth}},{key:"videoQualities",get:function(){return this.YEt}},{key:"label",get:function(){return this.YEt[0].label}}]),t}();function TQ(t){for(var n,i,e=[],r=0;r<t.length;r++){for(var s=t[r],u=!1,o=0;o<e.length;o++){var a=e[o];if(i=s,(n=a).label&&i.label&&n.label===i.label||Tm(yQ(n),yQ(i))){a.add(s),u=!0;break}}u||e.push(new AQ([s]))}return e}function SQ(t,n){return t&&n?Xs(t,n):Os.Cs}function EQ(t,n){return t===n?Os.Cs:SQ(t.height,n.height)||SQ(t.width,n.width)||SQ(t.bandwidth,n.bandwidth)}function IQ(t){return Ms(t,EQ).reverse()}function RQ(t){return z(t)?1===t.length?t[0]:void 0:t}function CQ(t){return 1===t?"Normal":""+g.round(100*t)/100}var DQ=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n.subMenu)||this).NEt=void 0,s.RTt=void 0,s.PEt=void 0,s.QEt=void 0,s.OEt=void 0,s.ZEt=void 0,s.KEt=function(){s.QEt&&s.IEt(s.QEt);var t=s.RTt.playbackRate;s.QEt=t,Hx(s.ZEt,s.PEt.localize(CQ(t))),t&&s.IEt(t)},s.jTt=function(){Hx(s.pEt.menuHeader.el(),s.PEt.localize("Speed")),Hx(s.OEt,s.PEt.localize("Speed")),s.NEt.el().setAttribute("aria-label",s.PEt.localize("Open the video speed settings menu"));for(var t=0,n=s.kEt;t<n.length;t++){var i=n[t];s.REt(i)}s.KEt()},s.NEt=n,s.RTt=i,s.PEt=e,s.OEt=s.VEt(),s.ZEt=s.$Et(),Hx(s.pEt.menuHeader.el(),s.PEt.localize("Speed")),s.DEt=r,s.RTt.addEventListener("ratechange",s.KEt),s.PEt.on("languagechange",s.jTt),s.KEt(),s}E(n,t);var i=n.prototype;return i.VEt=function(){return this.OEt=s.createElement("span"),this.OEt.className="theo-settings-control-menu-item-title",Hx(this.OEt,this.PEt.localize("Speed")),this.OEt},i.$Et=function(){var t=s.createElement("span");return t.className="theo-primary-color theo-settings-control-menu-item-value",this.NEt.el().appendChild(this.OEt),this.NEt.el().appendChild(t),this.NEt.el().setAttribute("aria-label",this.PEt.localize("Open the video speed settings menu")),t},i.AEt=function(n){var i=t.prototype.AEt.call(this,n);return this.REt(i),i},i.REt=function(t){var n=t.p0,i=this.PEt.localize(CQ(n));Hx(t.el(),i),t.el().setAttribute("aria-label",this.PEt.localize("Set video speed to "+i)),t.selected(t.p0===this.RTt.playbackRate)},i.TEt=function(t){this.RTt.playbackRate=t.p0},i._St=function(){this.RTt.removeEventListener("ratechange",this.KEt),this.PEt.off("languagechange",this.jTt),t.prototype._St.call(this)},n}(bQ),NQ=function(t){function n(n,i){var e,r,s;(s=t.call(this,n,i)||this).JEt=void 0,s.tIt=void 0,s.nIt=void 0,s.iIt=void 0,s.xEt=void 0,s.$D=function(){var t=mQ(s.wTt.videoTracks);t!==s.xEt&&(s.xEt&&s.xEt.removeEventListener("activequalitychanged",s.UEt),s.xEt=t,t&&t.addEventListener("activequalitychanged",s.UEt),s.UEt())},s.UEt=function(){var t,n=null==(t=s.xEt)?void 0:t.activeQuality,i=!!(n&&n.height>=720);s.player().toggleClass("theo-hd",i)},sr(s.menu.el(),"theo-settings-control-menu"),Hx(s.menu.menuHeader.el(),n.localize("Settings")),s.controlText("Settings"),s.wSt.bSt=s.controlText(),s.JEt=s.menu.addSubMenuItem({name:"QualityMenuItem"}),s.tIt=new kQ(s.JEt,s.wTt,n);var u=null!=(e=null==i?void 0:null==(r=i.playerOptions)?void 0:r.playbackRates)?e:[];return s.nIt=s.menu.addSubMenuItem({name:"PlaybackRateMenuItem"}),s.iIt=new DQ(s.nIt,s.wTt,n,u),s.wTt.videoTracks.addEventListener(["addtrack","removetrack","change"],s.$D),s.$D(),s}E(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return this.eIt=dY.createEl("span",{className:"theo-settings-control-label-hd theo-primary-background"}),Hx(this.eIt,this.localize("HD")),n.appendChild(this.eIt),n},i.buildCSSClass=function(){return"vjs-icon-cog theo-settings-control-button "+t.prototype.buildCSSClass.call(this)},i.jTt=function(){t.prototype.jTt.call(this),Hx(this.eIt,this.localize("HD")),Hx(this.menu.menuHeader.el(),this.localize("Settings"))},i.dispose=function(){this.xEt&&(this.xEt.removeEventListener("activequalitychanged",this.UEt),this.xEt=void 0),this.wTt.videoTracks.removeEventListener(["addtrack","removetrack","change"],this.$D),this.tIt._St(),this.iIt._St(),t.prototype.dispose.call(this)},n}(qY);dY.registerComponent("SettingsButton",NQ);var PQ=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Y$=void 0,e.rIt=function(t){var n=t.track;e.IEt(n),n.addEventListener("update",e.sIt)},e.uIt=function(t){var n=t.track;e.CEt(n),n.removeEventListener("update",e.sIt)},e.oIt=function(t){return e.aIt()},e.sIt=function(){for(var t=0,n=e.DEt;t<n.length;t++){var i=n[t];e.IEt(i)}},e.Y$=i,e.Y$.addEventListener("addtrack",e.rIt),e.Y$.addEventListener("removetrack",e.uIt),e.Y$.addEventListener("change",e.oIt),e.aIt(),e}E(n,t);var i=n.prototype;return i.hIt=function(t){var n=t.label;if(n)return n;var i=t.language;if(i){var e=Cj(i);if(e)return e.bb}return i||""},i.aIt=function(){this.DEt=this.Y$},i._St=function(){this.Y$.removeEventListener("addtrack",this.rIt),this.Y$.removeEventListener("removetrack",this.uIt),this.Y$.removeEventListener("change",this.oIt),t.prototype._St.call(this)},n}(bQ),xQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i.audioTracks)||this).wTt=void 0,r.PEt=void 0,r.jTt=function(){Hx(r.pEt.menuHeader.el(),r.PEt.localize("Language"));for(var t=0,n=r.kEt;t<n.length;t++){var i=n[t];r.REt(i)}},r.wTt=i,r.PEt=e,Hx(r.pEt.menuHeader.el(),r.PEt.localize("Language")),r.PEt.on("languagechange",r.jTt),r}E(n,t);var i=n.prototype;return i.REt=function(t){var n=t.p0,i=this.hIt(n);Hx(t.el(),this.hIt(n)),t.el().setAttribute("aria-label",this.PEt.localize("Set the audio language to")+" "+i),t.selected(n.enabled)},i.TEt=function(t){for(var n=t.p0,i=0,e=this.wTt.audioTracks;i<e.length;i++){var r=e[i];r!==n&&(r.enabled=!1)}n.enabled=!0},i._St=function(){this.PEt.off("languagechange",this.jTt),t.prototype._St.call(this)},n}(PQ),BQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).cIt=void 0,e.minimumMenuItems=2,e.cIt=new xQ(e.menu,e.wTt,n),e.controlText("Language"),e.wSt.bSt=e.controlText(),e}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-audio theo-audio-track-control-button "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this.cIt._St(),t.prototype.dispose.call(this)},n}(qY);dY.registerComponent("audioTrackButton",BQ);var OQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i.textTracks)||this).wTt=void 0,r.PEt=void 0,r.jTt=function(){Hx(r.pEt.menuHeader.el(),r.PEt.localize("Subtitles"));for(var t=0,n=r.kEt;t<n.length;t++){var i=n[t];r.REt(i)}},r.wTt=i,r.PEt=e,Hx(r.pEt.menuHeader.el(),e.localize("Subtitles")),r.PEt.on("languagechange",r.jTt),r}E(n,t);var i=n.prototype;return i.EEt=function(n){return!!t.prototype.EEt.call(this,n)&&(!n.forced&&Kb(n.kind))},i.AEt=function(n){var i=this,e=t.prototype.AEt.call(this,n);sr(e.el(),"theo-text-track-menu-item");var r=s.createElement("span");e.Z_=r;var u=s.createElement("div");u.className="theo-text-track-menu-item-toggle",e.irt=u;var o=function(t){return i.fIt(t,e)};e.lIt=o,u.addEventListener("click",o);var a=s.createElement("div");return a.className="theo-text-track-menu-item-toggle-slider",u.appendChild(a),e.el().appendChild(r),e.el().appendChild(u),e},i.REt=function(t){var n=t,i=n.p0,e=this.hIt(i);Hx(n.Z_,e),n.el().setAttribute("aria-label",this.PEt.localize("Set the subtitle language to")+" "+e),n.el().setAttribute("role","menuitemcheckbox"),n.selected(i.mode===Fm.ag)},i.SEt=function(n){var i=n;i.irt.removeEventListener("click",i.lIt),t.prototype.SEt.call(this,n)},i.TEt=function(t){for(var n,i,e=t.p0,r=0,s=this.wTt.textTracks;r<s.length;r++){var u=s[r];u!==e&&(n=u.kind,i=e.kind,Gb(n)&&Gb(i)&&(n===i||n===Vb.wA&&i===Vb.PE||n===Vb.PE&&i===Vb.wA))&&(u.mode=Fm.rg)}e.mode!==Fm.ag?e.mode=Fm.ag:e.mode=Fm.rg},i.fIt=function(t,n){t.stopImmediatePropagation(),this.TEt(n)},i._St=function(){this.PEt.off("languagechange",this.jTt),t.prototype._St.call(this)},n}(PQ),LQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).cIt=void 0,e.cIt=new OQ(e.menu,e.wTt,n),e.controlText("Subtitles"),e.wSt.bSt=e.controlText(),e}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-subtitles theo-text-track-control-button "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this.cIt._St(),t.prototype.dispose.call(this)},n}(qY);dY.registerComponent("subtitlesButton",LQ);var MQ,jQ=dY.getComponent("playToggle");!function(t){t.Ff="Pause",t.zf="Play",t.vIt="Replay"}(MQ||(MQ={}));var FQ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).wSt=void 0,r._ut=function(){r.controlText(MQ.vIt),r.wSt.bSt=r.controlText()},r.controlText(MQ.zf),r.wSt=new WY(Jt(r),r.controlText()),r.wTt.addEventListener("ended",r._ut),r.on(n,"languagechange",r.jTt),i.Hr.qt&&new LY(r.el()),r}E(n,t);var e=n.prototype;return e.handleClick=function(n){this.wTt.muted||this.wTt.prepareWithUserAction(),t.prototype.handleClick.call(this,n)},e.handlePlay=function(n){t.prototype.handlePlay.call(this,n),this.controlText(MQ.Ff),this.wSt.bSt=this.controlText()},e.handlePause=function(n){this.wTt.ended||(t.prototype.handlePause.call(this,n),this.controlText(MQ.zf),this.wSt.bSt=this.controlText())},e.jTt=function(){this.wSt.bSt=this.controlText()},e.dispose=function(){this.wSt._St(),this.wTt.removeEventListener("ended",this._ut),t.prototype.dispose.call(this)},n}(OY(jQ));dY.registerComponent("playToggle",FQ);var UQ,HQ=dY.getComponent("fullscreenToggle");!function(t){t.dIt="Exit fullscreen",t.wIt="Fullscreen"}(UQ||(UQ={}));var XQ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).wSt=void 0,r.controlText(UQ.wIt),r.wSt=new WY(Jt(r),r.controlText()),i.Hr.qt&&new LY(r.el()),r.on(n,"languagechange",r.updateContent),r}E(n,t);var e=n.prototype;return e.handleClick=function(n){this.wTt.prepareWithUserAction(),t.prototype.handleClick.call(this,n)},e.handleFullscreenChange=function(n){t.prototype.handleFullscreenChange.call(this,n),this.updateContent()},e.updateContent=function(){var t=this.player().isFullscreen()?UQ.dIt:UQ.wIt;this.controlText(t),this.wSt.bSt=this.controlText()},e.dispose=function(){this.wSt._St(),t.prototype.dispose.call(this)},n}(OY(HQ));dY.registerComponent("fullscreenToggle",XQ);var zQ,VQ=dY.getComponent("muteToggle");!function(t){t.gIt="Unmute",t.mIt="Mute"}(zQ||(zQ={}));var WQ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).wSt=void 0,r.controlText(zQ.mIt),r.wSt=new WY(Jt(r),r.controlText()),i.Hr.qt&&new LY(r.el()),r.on(n,"languagechange",r.jTt),_r&&(r.removeClass("vjs-hidden"),r.on(n,"loadstart",function(){r.removeClass("vjs-hidden")})),r}E(n,t);var e=n.prototype;return e.handleClick=function(n){this.wTt.muted&&!this.wTt.paused&&this.wTt.prepareWithUserAction(),t.prototype.handleClick.call(this,n)},e.update=function(n){t.prototype.update.call(this,n),this.jTt()},e.jTt=function(){var t=this.player().muted()?zQ.gIt:zQ.mIt;this.controlText(t),this.wSt.bSt=this.controlText()},e.dispose=function(){this.wSt._St(),t.prototype.dispose.call(this)},n}(OY(VQ));dY.registerComponent("muteToggle",WQ);var qQ=dY.getComponent("BigPlayButton"),GQ=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this),i=dY.createEl("div",{className:"theo-big-play-button-svg-container"});return i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150" fill="currentColor">\n  <circle cx="75" cy="75" r="73" fill="#000" fill-opacity="0.2"></circle>\n  <circle cx="75" cy="75" r="73" class="theo-play-svg-circle" stroke-width="4" stroke="currentColor" fill="none" transform="rotate(-90,75,75)"></circle>\n  <g transform="translate(85,75) scale(0.5625) translate(-75,-75)">\n    <path d="m 123.89639,85.432 c -12.865,9.167 -29.482997,19.402 -49.848997,30.7 -19.634,11.035 -36.851,19.7 -51.65,26 l -16.3990002,6.099 c -1.033,-4.433 -2,-11.002 -2.9,-19.7 -2.033,-17.333 -3.04999998,-36.466 -3.04999998,-57.399 0,-19.167 1.38199998,-37.081 4.14799998,-53.75 l 4.0019995,-19.1499994 17.3990007,5.849 c 15.068,5.9999994 31.401,14.5169994 49,25.5509994 18.631,11.666 34.616997,22.766 47.948997,33.3 6.663,5.3 11.463,9.383 14.396,12.25 l -13.046,10.25"></path>\n  </g>\n</svg>',n.appendChild(i),n},i.buildCSSClass=function(){return"theo-primary-color "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(n){this.wTt.muted||this.wTt.prepareWithUserAction(),t.prototype.handleClick.call(this,n),void 0!==this.wTt.vr&&"unavailable"!==this.wTt.vr.state&&(this.wTt.vr.useDeviceMotionControls=!0)},n}(OY(qQ));dY.registerComponent("BigPlayButton",GQ);var $Q=/^([^#]*)#xywh=(\d+),(\d+),(\d+),(\d+)\s*$/;var YQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).yIt=void 0,e.pIt=void 0,e._It=void 0,e.bIt=function(t){return e.kIt(t)},e.AIt=void 0,e.showThumbnails=function(){e.yIt&&(e.yIt.hidden=!1)},e.hideThumbnails=function(){e.yIt&&!e.player().scrubbing()&&(e.yIt.hidden=!0)},e.player().textTracks().on("addtrack",e.bIt),e.player().textTracks().on("removetrack",e.bIt),j.wn&&(e.on(n,"seeking",e.showThumbnails),e.on(n,"seeked",e.hideThumbnails)),e}E(n,t);var e=n.prototype;return e.kIt=function(t){var n=t.track;"removetrack"===t.type&&n===this.pIt?(this.pIt=void 0,this._It=void 0,this.TIt(),this.AIt=void 0):"addtrack"===t.type&&"metadata"===n.kind&&"thumbnails"===n.label&&(this.pIt=n,this._It=n.src?i.Mr(n.src).href:void 0)},e.createEl=function(){var n=t.prototype.createEl.call(this);return this.SIt=dY.createEl("img",{className:"theo-time-tooltip-thumbnail"}),this.EIt=dY.createEl("canvas",{className:"theo-time-tooltip-thumbnail"}),n},e.update=function(n,i){if(t.prototype.update.call(this,n,i),this.keepTooltipsInside){var e;if(this.pIt&&this.pIt.cues){var r=function(t,n){for(var i=t[0],e=0;e<t.length;e++){var r=t[e];if(r.startTime<=n)i=r;else if(n>=r.endTime)return i}return i}(this.pIt.cues,n);e=r&&r.content}if(e!==this.AIt)if(this.AIt=e,dY.toggleClass(this.el(),"theo-time-tooltip-has-thumbnail",!!e),e){var s=e.match($Q);if(s){var u=s[1],o=s[2],a=s[3],h=s[4],c=s[5];u=this.IIt(u);var f={x_:+o,y_:+a,Xk:+h,ST:+c};this.RIt(u,f)}else{var l=this.IIt(e);this.RIt(l)}}else this.TIt()}},e.IIt=function(t){return this.pIt&&this._It?i.Mr(t,this._It).href:t},e.RIt=function(t,n){var i=this;this.SIt&&(this.SIt.src!==t?(this.SIt.onload=function(){i.CIt(n)},this.SIt.src="",this.SIt.src=t):this.CIt(n))},e.CIt=function(t){if(this.EIt&&this.SIt){var n=this.EIt.getContext("2d");n&&(t=t||{x_:0,y_:0,Xk:this.SIt.naturalWidth,ST:this.SIt.naturalHeight},this.EIt.width=t.Xk,this.EIt.height=t.ST,n.drawImage(this.SIt,t.x_,t.y_,t.Xk,t.ST,0,0,t.Xk,t.ST),this.DIt(this.EIt))}},e.DIt=function(t){this.yIt||(this.tooltip.firstChild?this.tooltip.insertBefore(t,this.tooltip.firstChild):this.tooltip.appendChild(t),this.yIt=t)},e.TIt=function(){this.yIt&&this.tooltip.removeChild(this.yIt),j.wn&&(this.off(this.player(),"seeking",this.showThumbnails),this.off(this.player(),"seeked",this.hideThumbnails)),this.yIt=void 0},n}(oQ);dY.registerComponent("MouseTimeDisplay",YQ);var QQ=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-volume-level "+t.prototype.buildCSSClass.call(this)},n}(dY.getComponent("VolumeLevel"));dY.registerComponent("VolumeLevel",QQ);var ZQ=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-menu-container "+t.prototype.buildCSSClass.call(this)},n}(dY.getComponent("Component"));ZQ.prototype.Zpt=Ur({},ZQ.prototype.Zpt,{children:[]}),dY.registerComponent("controlBarMenuContainer",ZQ);var KQ=dY.getComponent("Player"),JQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).handleKeyPress=function(t){9===t.which&&r.addClass("theo-probably-keyboard-focus")},r.handleClick=function(t){0===t.x&&0===t.y||r.removeClass("theo-probably-keyboard-focus")},s.body.addEventListener("keydown",r.handleKeyPress),s.body.addEventListener("click",r.handleClick),r}return E(n,t),n.prototype.dispose=function(){var n=this.el(),i=this.contentEl(),e=n.parentNode,r=n.nextSibling;t.prototype.dispose.call(this),nr(i),this.Lbt&&e&&(r?e.insertBefore(n,r):e.appendChild(n)),s.body.removeEventListener("keydown",this.handleKeyPress),s.body.removeEventListener("click",this.handleClick)},n}(KQ);JQ.prototype.Zpt=Ur({},KQ.prototype.Zpt,{children:["bigPlayButton","AdControlPanel","TopControlBar","mediaLoader","upNextContainer","posterImage","chromecastOverlay","controlBarMenuContainer","controlBar","textTrackDisplay","loadingSpinner","errorDisplay","textTrackSettings","xrCompass"]}),dY.registerComponent("Player",JQ);var tZ=dY.getComponent("Player"),nZ=tZ.prototype.dAt;tZ.prototype.dAt=function(t){if(!(this.obt&&this.obt.ITt&&this.obt.ITt()))return nZ.call(this,t)};var iZ,eZ=tZ.prototype.createEl;function rZ(t,n,e,s){var u=Ur({controls:!0,playbackRates:[.25,.5,1,1.25,1.5,2]},e);u.controlBar=Ur({progressControl:{keepTooltipsInside:!0}},u.controlBar);var o,a=u.techOrder||(u.techOrder=[]);(-1===a.indexOf("THEOplayer")&&a.unshift("THEOplayer"),(u.theoplayer||(u.theoplayer={})).player=t,e&&W(e.language))&&(u.languages=Ur({},u.languages,((o={})[Rj]=e.language,o)),u.language=Rj);n.setAttribute("data-vjs-player","");var h,c,f,l=n.getAttribute("style"),v=dY(t.element,u,s);return v.ready(function(){!function(t){t.on("timeupdate",TY),t.on("durationchange",TY)}(v),IY(v,t),function(t){t.on("mouseleave",RY)}(v)}),n.removeAttribute("data-vjs-player"),l?n.setAttribute("style",l):n.removeAttribute("style"),i.Hr.wn&&(sr(n,"theo-mobile"),h=n,c=r.outerHeight,f=r.outerWidth,c>f?(ur(h,"theo-mobile-landscape"),sr(h,"theo-mobile-portrait")):(ur(h,"theo-mobile-portrait"),sr(h,"theo-mobile-landscape"))),function(t){t.on("seeking",function(){rr(t.el(),"vjs-ended")&&t.currentTime()!==t.duration()&&t.play()})}(v),v}function sZ(t){return function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).NIt=void 0,r.PIt=void 0,r.xIt=void 0,r.NIt=n,r.xIt=t.prototype.a_.call(Jt(r)),w.defineProperty(r.xIt,"constructor",{value:jC}),r.PIt=rZ(r.xIt,r.NIt,e.ui),r}E(n,t);var i=n.prototype;return i.a_=function(){return t=this.xIt,n=this,i=w.create(t),e=n.PIt,km(i,{get controls(){return e.controls()},set controls(t){e.controls(Im(t))},get ui(){return e}});var t,n,i,e},i.$c=function(){t.prototype.$c.call(this),this.PIt.dispose()},i.Qm=function(n){this.PIt.src(""),t.prototype.Qm.call(this,n)},n}(t)}function uZ(){return iZ||(iZ=function(t,n){var i=t;if(dC[n])for(var e=0,r=dC[n];e<r.length;e++)i=(0,r[e])(i);return i}(iZ=sZ(MC()),aC.mX)),iZ}function oZ(t){return{get ratio(){return t.BIt},get thresholds(){return t.OIt.slice()}}}function aZ(t){var n=[],i=g.floor(1/t);if(p(i))return[];for(var e=0;e<=i;e++){var r=Ft(e*t,0,1);n.push(r)}return n}tZ.prototype.createEl=function(){var t=eZ.call(this),n=dY.createEl("div");for(n.className="theo-player-wrapper";t.firstChild;)n.appendChild(t.firstChild);return t.appendChild(n),this.nbt=n,t};var hZ=function(){function t(t,n,i){this.LIt=1,this.MIt=void 0,this.jIt=void 0,this.u_=void 0,this.MIt=aZ(n);var e=this.FIt(i);this.jIt=new r.IntersectionObserver(e,{root:null,threshold:this.MIt}),this.jIt.observe(t)}var n=t.prototype;return n.FIt=function(t){var n=this;return function(i){var e=i[i.length-1];n.LIt=e.intersectionRatio,t(e.intersectionRatio)}},n.Ym=function(){this.jIt.disconnect()},T(t,[{key:"BIt",get:function(){return this.LIt}},{key:"OIt",get:function(){return this.MIt}},{key:"o_",get:function(){return this.u_||(this.u_=oZ(this)),this.u_}}]),t}(),cZ=function(t){function n(n,i,e){var s;return(s=t.call(this,i,e)||this).UIt=void 0,s.HIt=tt(function(){return s.XIt(s.zIt())},50),s.UIt=n,r.addEventListener("scroll",s.HIt,!!zI&&{passive:!0}),mu(function(){return s.XIt(s.zIt())}),s}E(n,t);var i=n.prototype;return i.zIt=function(){var t=this.UIt.getBoundingClientRect();return Ft(g.max(0,g.min(r.innerWidth,t.right)-g.max(0,t.left))*g.max(0,g.min(r.innerHeight,t.bottom)-g.max(0,t.top))/(t.width*t.height),0,1)},i.Ym=function(){r.removeEventListener("scroll",this.HIt)},n}(function(){function t(t,n){this.MIt=void 0,this.VIt=void 0,this.LIt=1,this.WIt=-1,this.u_=void 0,this.MIt=aZ(t),this.VIt=n}return t.prototype.XIt=function(t){this.LIt=t;var n=this.MIt,i=0;if(t>0)for(;i<n.length&&n[i]<=t;)++i;this.WIt!==i&&(this.WIt=i,this.VIt(t))},T(t,[{key:"BIt",get:function(){return this.LIt}},{key:"OIt",get:function(){return this.MIt}},{key:"o_",get:function(){return this.u_||(this.u_=oZ(this)),this.u_}}]),t}()),fZ=dY.getComponent("Button");var lZ=function(t){function n(n,i){var e;if((e=t.call(this,n,i)||this).qIt=void 0,e.controlText("Close Picture-in-Picture"),!function(t){return!!t&&Boolean(t.qIt)}(i))throw new l("Invalid Picture-in-picture options.");return e.qIt=i.qIt,e}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-close-button theo-pip-close"},i.handleClick=function(){this.qIt.GIt()},n}(fZ);dY.registerComponent("THEOPiPCloseButton",lZ);var vZ=.1,dZ=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).$It=void 0,r._k=void 0,r.YIt=void 0,r.WN=void 0,r.UIt=void 0,r.ij=!1,r.Ek=!1,r.QIt=!1,r.ZIt=!1,r.Om=!1,r.GIt=void 0,r.KIt=!1,r.JIt=void 0,r.tRt=void 0,r.nRt=void 0,r.iRt=!1,r.eRt=void 0,r.rRt=function(){r.ij=!0,r.eRt&&!r.Ck&&r.JIt&&r.$It&&r.JIt.BIt<=r.$It&&r.nk(!1)},r.sRt=function(){r.YIt||(r.ij=!1,r.rk(!1))},r.jTt=function(){if(r.nRt){var t=r.WN.PIt;Hx(r.nRt,t.localize("Video playing in Picture-in-Picture mode"))}},r.uRt=function(t){!r.ZIt&&r.eRt&&(p(t)||(r.$It&&t<=r.$It||r.iRt?r.Ek||r.QIt||r.nk(!1):r.Ek?r.rk(!1):r.QIt=!1))},r.$It=i.visibility,r._k=i.position,r.YIt=i.retainPresentationModeOnSourceChange,r.eRt=void 0!==r.$It,r.WN=n,r.UIt=n.NIt,r.GIt=e,r.Ilt(),r}E(n,t);var i=n.prototype;return i.Ilt=function(){this.WN.tu("play",this.rRt),this.YIt||this.WN.tu("sourcechange",this.sRt),this.WN.PIt.on("languagechange",this.jTt)},i.oRt=function(){var t=this._k;if(t)return"theo-pip-"+t},i.nk=function(t){var n=this.UIt;if(n&&!this.aRt){this.Om||this.hRt(),this.cRt(),sr(n,"theo-pip");var i=this.oRt();i&&sr(n,i),this.Ek=!0,this.ZIt=t,this.QIt=!1,this.$s(new WS(VS.PICTURE_IN_PICTURE))}},i.rk=function(t){var n=this.UIt;if(n){this.fRt(),ur(n,"theo-pip");var i=this.oRt();i&&ur(n,i),this.Ek=!1,this.QIt=t,this.iRt=this.ZIt,this.ZIt=!1,this.$s(new WS(VS.INLINE))}},i.hRt=function(){if(!this.Om){var t=this.WN.PIt;t.addChild("THEOPiPCloseButton",{qIt:this});var n=s.createElement("div");n.className="theo-pip-overlay",this.nRt=s.createElement("div"),this.nRt.className="theo-pip-overlay-text",Hx(this.nRt,t.localize("Video playing in Picture-in-Picture mode")),n.appendChild(this.nRt),t.el().appendChild(n),this.tRt=n,this.Om=!0}},i.lRt=function(){this.eRt&&!this.KIt&&this.WN.vRt&&(this.JIt=this.WN.vRt.dRt(vZ,this.uRt),this.KIt=!0)},i.wRt=function(){this.JIt&&this.WN.vRt&&(this.WN.vRt.gRt(this.JIt),this.KIt=!1)},i.cRt=function(){var t=this.WN.PIt.contentEl(),n=t.getBoundingClientRect(),i=s.documentElement.clientWidth,e=s.documentElement.clientHeight;t.style.top=n.top+"px",t.style.bottom=e-n.bottom+"px",t.style.right=i-n.right+"px",t.style.left=n.left+"px",t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.position="fixed"},i.fRt=function(){var t=this.WN.PIt.contentEl();t.style.top="",t.style.bottom="",t.style.right="",t.style.left="",t.style.width="",t.style.height="",t.style.position=""},i.mRt=function(){ur(this.UIt,"theo-pip"),this.Ck&&this._k&&ur(this.UIt,"theo-pip-"+this._k),this.tRt&&(nr(this.tRt),this.tRt=void 0)},i.$c=function(){this.mRt(),this.wRt(),this.ou(),this.WN.au("play",this.rRt),this.WN.au("sourcechange",this.sRt),this.WN.PIt.off("languagechange",this.jTt),this.WN=void 0},T(n,[{key:"Ck",get:function(){return this.Ek}},{key:"aRt",get:function(){return this.WN.jC()}}]),n}(Qm),wZ=function(){function t(t){this.UIt=void 0,this.yRt=1,this.pRt=0,this._Rt=[],this.u_=void 0,this.UIt=t,this.dRt(vZ,this.bRt())}var n=t.prototype;return n.bRt=function(t){var n=this;return function(i){n.yRt=i,null==t||t(n.yRt)}},n.dRt=function(t,n){if(p(t))throw new v("step is not of the right type");if(t>1||t<=0)throw new RangeError("The step must be a number greater than 0 and smaller than or equal to 1");var i;return i="function"==typeof r.IntersectionObserver?new hZ(this.UIt,t,this.bRt(n)):new cZ(this.UIt,t,this.bRt(n)),this._Rt.push(i),i},n.gRt=function(t){t.Ym(),$s(this._Rt,t)},n.kRt=function(t){for(var n=0,i=this._Rt;n<i.length;n++){var e=i[n];if(e.o_===t)return e}},n.$c=function(){for(var t=0,n=this._Rt;t<n.length;t++){n[t].Ym()}Zs(this._Rt)},T(t,[{key:"ARt",get:function(){return this.yRt}},{key:"$It",get:function(){return this.pRt},set:function(t){if(p(t)||t<0||t>1)throw new RangeError("The threshold must be a value between 0 and 1");this.pRt=t}},{key:"o_",get:function(){var t;return this.u_||(this.u_=(t=this,{get ratio(){return t.ARt},get visible(){return t.ARt>t.$It},get visibleThreshold(){return t.$It},set visibleThreshold(n){n=Rm(n),t.$It=n},addObserver:function(n,i){return n=Rm(n),t.dRt(n,i).o_},removeObserver:function(n){var i=t.kRt(n);i&&t.gRt(i)}})),this.u_}}]),t}();wC(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).vRt=void 0,e.vRt=new wZ(n),e}E(n,t);var i=n.prototype;return i.a_=function(){var n=this.vRt;return km(t.prototype.a_.call(this),{get visibility(){return n.o_}})},i.$c=function(){this.vRt&&(this.vRt.$c(),this.vRt=void 0),t.prototype.$c.call(this)},n}(t)},oC.gX),gC(function(t){return function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).vRt=void 0,r.vRt=new wZ(n),r}E(n,t);var i=n.prototype;return i.a_=function(){var n=this.vRt;return km(t.prototype.a_.call(this),{get visibility(){return n.o_}})},i.$c=function(){this.vRt&&(this.vRt.$c(),this.vRt=void 0),t.prototype.$c.call(this)},n}(t)},aC.mX);var gZ=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).KN=void 0,r.TRt=void 0,r.SRt=function(){return r.NP()},r.GIt=function(){return r.PP(VS.INLINE)},r.ERt=function(){r.CP()!==VS.FULLSCREEN&&r.TRt.lRt(),r.KN.au("play",r.ERt)},r.KN=n,r.TRt=new dZ(n,e.pip,r.GIt),r.TRt.tu("presentationmodechange",r.SRt),r.KN.tu("play",r.ERt),r.NP(),r}E(n,t);var i=n.prototype;return i.CP=function(){var n=t.prototype.CP.call(this);return n===VS.INLINE&&this.TRt&&this.TRt.Ck?VS.PICTURE_IN_PICTURE:n},i.BP=function(n){switch(n){case VS.PICTURE_IN_PICTURE:return!0;default:return t.prototype.BP.call(this,n)}},i.OP=function(n,i){n===VS.FULLSCREEN&&this.TRt.wRt(),t.prototype.OP.call(this,n,i),n!==VS.FULLSCREEN&&this.TRt.lRt()},i.xP=function(n,i){n!==i&&(n===VS.FULLSCREEN&&this.TRt.rk(!1),n===VS.INLINE&&i===VS.PICTURE_IN_PICTURE&&this.TRt.rk(!0),t.prototype.xP.call(this,n,i),n===VS.PICTURE_IN_PICTURE&&(i===VS.INLINE?this.TRt.nk(!0):this.TRt.nk(!1)))},i.$c=function(){t.prototype.$c.call(this),this.TRt.$c(),this.KN.au("play",this.ERt),this.KN=void 0},n}(YS),mZ=function(t){function n(n,i){var e;return(e=t.call(this)||this).PIt=void 0,e.IRt=void 0,e.mTt=!1,e.RRt=!1,e.qx=!1,e.CRt=function(){if(!e.qx){var t=e.mTt,n=e.jC;t!==n&&(e.mTt=n,e.$s(new QI))}},e.DRt=function(){e.RRt=e.IRt.jC,e.CRt()},e.NRt=function(){e.qx||(e.PIt.isFullWindow&&e.PIt.supportsFullScreen()||e.RRt&&!e.PIt.supportsFullScreen())&&(e.qx=!0,e.PIt.exitFullscreen(),e.PIt.requestFullscreen(),e.qx=!1,e.CRt())},e.PIt=n,e.IRt=i,e.PIt.on("fullscreenchange",e.CRt),e.IRt.tu(kS.k_,e.DRt),e.IRt.tu(kS.YC,e.NRt),e.IRt.tu(kS.hg,e.Js),e.CRt(),e}E(n,t);var i=n.prototype;return i.nk=function(){this.PIt.requestFullscreen()},i.rk=function(){this.PIt.exitFullscreen(),this.IRt.rk()},i.$c=function(){this.ou(),this.PIt.off("fullscreenchange",this.CRt),this.IRt.au(kS.k_,this.CRt),this.IRt.au(kS.hg,this.Js),this.PIt.isFullWindow&&this.PIt.exitFullscreen()},T(n,[{key:"QC",get:function(){return JI.Mx(this.PIt.el())||this.PIt.supportsFullScreen()}},{key:"jC",get:function(){return this.PIt.isFullscreen()||this.RRt}}]),n}(Tu);gC(function(t){return function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).PRt=void 0,r.xRt=void 0,r.xRt=new mZ(r.PIt,r.mN),r.PRt=new gZ(Jt(r),r.xRt,e),r.PRt.tu("presentationmodechange",r.Js),r}E(n,t);var i=n.prototype;return i.jC=function(){return"fullscreen"===this.PRt.CP()},i.a_=function(){var n=this.PRt;return km(t.prototype.a_.call(this),{get presentation(){return n.o_},get presentationMode(){return n.o_.currentMode},set presentationMode(t){n.o_.requestMode(t)}})},i.$c=function(){this.PRt.$c(),this.xRt.$c(),t.prototype.$c.call(this)},n}(t)},aC.mX);var yZ=function(t){function n(n,e){var r,s;return(s=t.call(this,n,e)||this).UIt=void 0,s.ye=void 0,s.wSt=void 0,s.UIt=n.el(),s.ye=sE.UNAVAILABLE,s.controlText("Unavailable"),s.wSt=new WY(Jt(s),s.controlText()),null==(r=s.BRt)||r.addEventListener("statechange",function(t){var n=t;s.Mpt(n.state)}),i.Hr.qt&&new LY(s.el()),s.Mpt(s.BRt?s.BRt.state:sE.UNAVAILABLE),s.on(n,"languagechange",s.jTt),s}E(n,t);var e=n.prototype;return e.buildCSSClass=function(){return"theo-cast-button theo-"+this.ORt+"-button theo-controlbar-button "+t.prototype.buildCSSClass.call(this)},e.createEl=function(n,i,e){var r=t.prototype.createEl.call(this),u=s.createElement("div");u.className="theo-button-icon-blur";var o=s.createElement("div");return o.className="theo-cast-svg-container",o.innerHTML=this.LRt,r.appendChild(u),r.appendChild(o),r},e.handleClick=function(n){var i;if(t.prototype.handleClick.call(this,n),this.ye===sE.AVAILABLE)null==(i=this.BRt)||i.start();else if(this.ye===sE.CONNECTED||this.ye===sE.CONNECTING){var e;null==(e=this.BRt)||e.stop()}},e.Mpt=function(t){ur(this.UIt,"theo-"+this.ORt+"-"+this.ye),this.ye=t,sr(this.UIt,"theo-"+this.ORt+"-"+this.ye),this.jTt()},e.jTt=function(){this.MRt(this.ye),this.wSt.bSt=this.controlText()},e.MRt=function(t){t===sE.CONNECTED?this.controlText("Stop Casting"):t===sE.AVAILABLE?this.controlText("Start Casting"):t===sE.CONNECTING?this.controlText("Connecting"):this.controlText("Unavailable")},T(n,[{key:"BRt",get:function(){throw new l("jRt")}},{key:"LRt",get:function(){return this.Zpt.LRt}},{key:"ORt",get:function(){return this.Zpt.ORt}}]),n}(OY(dY.getComponent("Button"))),pZ='\n<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">\n    <path class="theo-cast-inner" d="M5 7h14v8H5z"/>\n    <path d="M6 22h12l-6-6zM21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v-2H3V5h18v12h-4v2h4c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>\n</svg>',_Z=function(t){function n(n,i){var e,r,s;return(s=t.call(this,n,Ur({},i,{ORt:"airplay",LRt:pZ}))||this).FRt=function(){s.enable()},s.URt=function(){s.disable()},null==(e=s.wTt.ads)||e.addEventListener("adbreakbegin",s.URt),null==(r=s.wTt.ads)||r.addEventListener("adbreakend",s.FRt),s.wTt.addEventListener("currentsourcechange",s.FRt),s}return E(n,t),n.prototype.dispose=function(){var n,i;null==(n=this.wTt.ads)||n.removeEventListener("adbreakbegin",this.URt),null==(i=this.wTt.ads)||i.removeEventListener("adbreakend",this.FRt),this.wTt.removeEventListener("currentsourcechange",this.FRt),t.prototype.dispose.call(this)},T(n,[{key:"BRt",get:function(){var t;return null==(t=this.wTt.cast)?void 0:t.airplay}}]),n}(yZ);dY.registerComponent("airplayButton",_Z),wC(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).dvt=new UV,e.tu("presentationmodechange",function(t){t.presentationMode===VS.FULLSCREEN?e.enterFullscreen():e.exitFullscreen()}),e}E(n,t);var i=n.prototype;return i.enterFullscreen=function(){this.dvt.oJ("THEOplayerFullscreen","true")},i.exitFullscreen=function(){this.dvt.oJ("THEOplayerFullscreen","false")},n}(t)},oC.gX),n.ChromelessPlayer=jC,n.Player=function t(n,i){var e=function(t){var n=t=Wy(t);return n.ui=n.ui||{},void 0!==t.width&&void 0===n.ui.width&&(n.ui.width=t.width),void 0!==t.height&&void 0===n.ui.height&&(n.ui.height=t.height),void 0!==t.fluid&&void 0===n.ui.fluid&&(n.ui.fluid=t.fluid),n.pip=zS(n.pip),n}(i),r=s.createElement("div");r.style.position="absolute",n.appendChild(r);var u=new(uZ())(n,r,e),o=u.o_;return u.hX(),u.qX(IC),w.defineProperty(o,"constructor",{value:t}),o=bm(o),bC(u),function(t){for(var n=0;n<pC.length;n++)(0,pC[n])(t)}(u),o},n.cache=h$,n.createGlobals=dV,n.features=HC,n.getCueMirrorMap=lV,n.getGlobalId=vV,n.getSdkEventBridge=fV,n.playerSuiteVersion="2023.2.3",n.players=XC,n.registerContentProtectionIntegration=zC,n.utils=UC,n.version="5.2.0",n.videojs=dY,w.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
