/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 6.0.0
 Created: 2023-09-13T13:55:32.067Z
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(t):"function"==typeof define&&define.amd?define([],(function(){return n(t)})):t.THEOplayer=n(t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this,(function(t){"use strict";var n={exports:{}},i=(n.exports,t.window),r=t.document,e=t.location,u=t.navigator,s=t.setTimeout,o=t.clearTimeout,a=t.setInterval,c=t.clearInterval,f=t.Error,h=t.TypeError,v=(t.SyntaxError,t.Object),d=t.Math,l=t.parseInt,w=t.parseFloat,_=t.isNaN,g=t.Uint8Array,m=t.Worker,y=(t.WorkerGlobalScope,t.XMLHttpRequest),p=v.create,A=v.defineProperty,k=v.getOwnPropertyDescriptor,b=v.getOwnPropertyNames,T=v.getPrototypeOf,S=v.prototype.hasOwnProperty,E=function(t,n){return function(){return t&&(n=t(t=0)),n}},I=function(t,n){return function(){return n||t((n={exports:{}}).exports,n),n.exports}},R=function(t,n,i,r){if(n&&"object"==typeof n||"function"==typeof n)for(var e,u=b(n),s=0,o=u.length;s<o;s++)e=u[s],S.call(t,e)||e===i||A(t,e,{get:function(t){return n[t]}.bind(null,e),enumerable:!(r=k(n,e))||r.enumerable});return t},C=function(t,n,i){return i=null!=t?p(T(t)):{},R(!n&&t&&t.__esModule?i:A(i,"default",{value:t,enumerable:!0}),t)};function N(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}var D,P,B,O,x,L,M,F,U,H,X,z,V,W,q,G,j,Y,Q,Z=E((function(){yr(),zt()}));function K(t){var n=this.constructor;return this.then((function(i){return n.resolve(t()).then((function(){return i}))}),(function(i){return n.resolve(t()).then((function(){return n.reject(i)}))}))}function J(t){return new this((function(n,i){if(!t||void 0===t.length)return i(new h((void 0===t?"undefined":N(t))+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function u(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(n){u(t,n)}),(function(i){r[t]={status:"rejected",reason:i},0==--e&&n(r)}))}r[t]={status:"fulfilled",value:i},0==--e&&n(r)}for(var s=0;s<r.length;s++)u(s,r[s])}))}function $(t){return Boolean(t&&void 0!==t.length)}function tt(){}function nt(t){if(!(this instanceof nt))throw new h("Promises must be constructed via new");if("function"!=typeof t)throw new h("not a function");this.l=0,this.g=!1,this.I=void 0,this.R=[],ot(t,this)}function it(t,n){for(;3===t.l;)t=t.I;0!==t.l?(t.g=!0,nt.N((function(){var i=1===t.l?n.onFulfilled:n.onRejected;if(null!==i){var r;try{r=i(t.I)}catch(t){return void et(n.promise,t)}rt(n.promise,r)}else(1===t.l?rt:et)(n.promise,t.I)}))):t.R.push(n)}function rt(t,n){try{if(n===t)throw new h("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof nt)return t.l=3,t.I=n,void ut(t);if("function"==typeof i)return void ot(function(t,n){return function(){t.apply(n,arguments)}}(i,n),t)}t.l=1,t.I=n,ut(t)}catch(n){et(t,n)}}function et(t,n){t.l=2,t.I=n,ut(t)}function ut(t){2===t.l&&0===t.R.length&&nt.N((function(){t.g||nt.F(t.I)}));for(var n=0,i=t.R.length;n<i;n++)it(t,t.R[n]);t.R=null}function st(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function ot(t,n){var i=!1;try{t((function(t){i||(i=!0,rt(n,t))}),(function(t){i||(i=!0,et(n,t))}))}catch(t){if(i)return;i=!0,et(n,t)}}function at(t){return new z(X,{reason:t,promise:P.reject(t).catch((function(){})),cancelable:!0})}function ct(t){var n=new V(X,{detail:{reason:t},cancelable:!0});return v.defineProperty(n,"reason",{value:t}),n}function ft(t){var n=r.createEvent("CustomEvent");return n.initCustomEvent(X,!1,!0,{reason:t}),n}var ht,vt,dt,lt,wt,_t,gt,mt,yt,pt,At,kt,bt,Tt,St,Et,It,Rt,Ct,Nt,Dt,Pt,Bt,Ot,xt,Lt,Mt,Ft,Ut,Ht,Xt=E((function(){var t;yr(),zt(),Z(),D=s,nt.prototype.catch=function(t){return this.then(null,t)},nt.prototype.then=function(t,n){var i=new this.constructor(tt);return it(this,new st(t,n,i)),i},nt.prototype.finally=K,nt.all=function(t){return new nt((function(n,i){if(!$(t))return i(new h("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function u(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,(function(n){u(t,n)}),i)}r[t]=s,0==--e&&n(r)}catch(t){i(t)}}for(var s=0;s<r.length;s++)u(s,r[s])}))},nt.allSettled=J,nt.resolve=function(t){return t&&"object"==typeof t&&t.constructor===nt?t:new nt((function(n){n(t)}))},nt.reject=function(t){return new nt((function(n,i){i(t)}))},nt.race=function(t){return new nt((function(n,i){if(!$(t))return i(new h("Promise.race accepts an array"));for(var r=0,e=t.length;r<e;r++)nt.resolve(t[r]).then(n,i)}))},nt.N="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){D(t,0)},nt.F=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},P=function(){var t=self.Promise;if(void 0!==t)try{if(-1!==t.toString().indexOf("[native code]"))return t}catch(t){}}(),B=u?u.userAgent:"",O=B.match(/Firefox\/([0-9]+)/i),x=null!=O,L=O?Number(O[1]):0,M=B.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),F=null!=M,U=M?Number(M[3]):0,(t=function(t){this.V=0,this.G=0,this.j=[],this.Y=t}).prototype.U=function(t){var n=this.length();this.Z(n+1);var i=this.G+n&this.Y-1;this.j[i]=t,this.V=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Y<n)this.U(t);else{var i=this.G+n-1,r=this.Y-1;this.j[i&r]=t,this.V=n}},t.prototype.shift=function(){var t=this.G,n=this.j[t];return this.j[t]=void 0,this.G=t+1&this.Y-1,this.V--,n},t.prototype.length=function(){return this.V},t.prototype.Z=function(t){this.Y<t&&this.K(this.Y<<1)},t.prototype.K=function(t){var n=this.Y;this.Y=t;var i=this.G+this.V&n-1;!function(t,n,i,r){for(var e=0;e<r;++e)t[e+i]=t[e+n],t[e+n]=void 0}(this.j,0,n,i)},H=t,X="unhandledrejection",z=self.PromiseRejectionEvent,V=self.CustomEvent,W=function(t){return(W=function(){try{var t=P.resolve(),n="error",i=new z(X,{reason:n,promise:t});return X===i.type&&n===i.reason}catch(t){}return!1}()?at:function(){try{var t="error",n=new V(X,{detail:{reason:t}});return X===n.type&&t===n.detail.reason}catch(t){}return!1}()?ct:ft)(t)},G=x&&L<60||F&&U<15,P&&!G?(j=P,function(){}):(j=nt,Y=null!==(q=function(){var t=self.queueMicrotask;if("function"==typeof t)return function(n){return t(n)};var n=P;if(n&&"function"==typeof n.resolve){var i=n.resolve();return function(t){return i.then(t)}}}())&&void 0!==q?q:nt.N,Q=function(t){var n=new H(16),i=!1,r=function(){for(;n.length()>0;)n.shift()();i=!1};return{J:function(e){n.push(e),i||(i=!0,t(r))},nt:r}}(Y),Q.nt,nt.N=Q.J,nt.F=function(t){try{var n=W(t);if(!self.dispatchEvent(n)||n.defaultPrevented)return}catch(t){}s((function(){throw new f("Unhandled promise rejection: ".concat(t))}),0)})})),zt=E((function(){Xt()}));function Vt(){}function Wt(t){return"object"==typeof t&&null!==t||"function"==typeof t}function qt(t){return t.slice()}function Gt(t,n,i,r,e){new g(t).set(new g(i,r,e),n)}function jt(t){return!1!==function(t){if("number"!=typeof t)return!1;if(vt(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Yt(t,n,i){if("function"!=typeof t)throw new h("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Qt(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new h(e+" is not a method");switch(i){case 0:return function(){return Kt(e,t,r)};case 1:return function(n){var i=[n].concat(r);return Kt(e,t,i)}}}return function(){return nn(void 0)}}function Zt(t,n,i){var r=t[n];if(void 0!==r)return Yt(r,t,i)}function Kt(t,n,i){try{return nn(Yt(t,n,i))}catch(t){return rn(t)}}function Jt(t){if(t=Number(t),vt(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function $t(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new h("size property of a queuing strategy must be a function");return function(n){return t(n)}}function tn(t){return new lt(t)}function nn(t){return _t(t)}function rn(t){return gt(t)}function en(t,n,i){return wt.call(t,n,i)}function un(t,n,i){en(en(t,n,i),void 0,dt)}function sn(t,n){un(t,n)}function on(t,n){un(t,void 0,n)}function an(t,n,i){return en(t,n,i)}function cn(t){en(t,void 0,dt)}function fn(t,n,i){var r=null;!0===i&&(r=v.prototype);var e=v.create(r);return e.value=t,e.done=n,e}function hn(t,n){t.ut=!0,t.ot=n,n.ct=t,"readable"===n.l?wn(t):"closed"===n.l?function(t){wn(t),mn(t)}(t):_n(t,n.ft)}function vn(t,n){return rr(t.ot,n)}function dn(t){"readable"===t.ot.l?gn(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){_n(t,n)}(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")),t.ot.ct=void 0,t.ot=void 0}function ln(t){return new h("Cannot "+t+" a stream using a released reader")}function wn(t){t.vt=tn((function(n,i){t.dt=n,t.wt=i}))}function _n(t,n){wn(t),gn(t,n)}function gn(t,n){cn(t.vt),t.wt(n),t.dt=void 0,t.wt=void 0}function mn(t){t.dt(void 0),t.dt=void 0,t.wt=void 0}function yn(t,n){void 0===n&&(n=!1);var i=new At(t);return i.ut=n,i}function pn(t){return tn((function(n,i){var r={_t:n,yt:i};t.ct.At.push(r)}))}function An(t,n,i){var r=t.ct;r.At.shift()._t(fn(n,i,r.ut))}function kn(t){return t.ct.At.length}function bn(t){var n=t.ct;return void 0!==n&&!!Tn(n)}function Tn(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"At")}function Sn(t){var n=t.ot;return n.kt=!0,"closed"===n.l?nn(fn(void 0,!0,t.ut)):"errored"===n.l?rn(n.ft):n.bt[pt]()}function En(t){return new h("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}function In(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"Tt")}function Rn(t){return new h("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Cn(t){var n=t.St.shift();return t.Et-=n.size,t.Et<0&&(t.Et=0),n.value}function Nn(t,n,i){if(!jt(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.St.push({value:n,size:i}),t.Et+=i}function Dn(t){t.St=new mt,t.Et=0}function Pn(t){return new Rt(t)}function Bn(t){t.l="writable",t.ft=void 0,t.It=void 0,t.Rt=void 0,t.Ct=new mt,t.Nt=void 0,t.Dt=void 0,t.Pt=void 0,t.Bt=void 0,t.Ot=!1}function On(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"Rt")}function xn(t){return void 0!==t.It}function Ln(t,n){var i=t.l;if("closed"===i||"errored"===i)return nn(void 0);if(void 0!==t.Bt)return t.Bt.xt;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=tn((function(i,e){t.Bt={xt:void 0,_t:i,yt:e,Lt:n,Mt:r}}));return t.Bt.xt=e,!1===r&&Un(t,n),e}function Mn(t){var n=t.l;if("closed"===n||"errored"===n)return rn(new h("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i=tn((function(n,i){var r={_t:n,yt:i};t.Dt=r})),r=t.It;return void 0!==r&&!0===t.Ot&&"writable"===n&&li(r),function(t){Nn(t,"close",0),$n(t)}(t.Rt),i}function Fn(t,n){"writable"!==t.l?Hn(t):Un(t,n)}function Un(t,n){var i=t.Rt;t.l="erroring",t.ft=n;var r=t.It;void 0!==r&&jn(r,n),!1===function(t){if(void 0===t.Nt&&void 0===t.Pt)return!1;return!0}(t)&&!0===i.Ft&&Hn(t)}function Hn(t){t.l="errored",t.Rt[Et]();var n=t.ft;if(t.Ct.forEach((function(t){t.yt(n)})),t.Ct=new mt,void 0!==t.Bt){var i=t.Bt;if(t.Bt=void 0,!0===i.Mt)return i.yt(n),void zn(t);un(t.Rt[St](i.Lt),(function(){i._t(),zn(t)}),(function(n){i.yt(n),zn(t)}))}else zn(t)}function Xn(t){return void 0!==t.Dt||void 0!==t.Pt}function zn(t){void 0!==t.Dt&&(t.Dt.yt(t.ft),t.Dt=void 0);var n=t.It;void 0!==n&&ai(n,t.ft)}function Vn(t,n){var i=t.It;void 0!==i&&n!==t.Ot&&(!0===n?function(t){fi(t)}(i):li(i)),t.Ot=n}function Wn(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"Ut")}function qn(t){return Mn(t.Ut)}function Gn(t,n){"pending"===t.Ht?ai(t,n):function(t,n){oi(t,n)}(t,n)}function jn(t,n){"pending"===t.Xt?di(t,n):function(t,n){hi(t,n)}(t,n)}function Yn(t){var n=t.Ut,i=new h("Writer was released and can no longer be used to monitor the stream's closedness");jn(t,i),Gn(t,i),n.It=void 0,t.Ut=void 0}function Qn(t,n){var i=t.Ut,r=i.Rt,e=function(t,n){try{return t.zt(n)}catch(n){return ti(t,n),1}}(r,n);if(i!==t.Ut)return rn(ui("write to"));var u=i.l;if("errored"===u)return rn(i.ft);if(!0===Xn(i)||"closed"===u)return rn(new h("The stream is closing or closed and cannot be written to"));if("erroring"===u)return rn(i.ft);var s=function(t){return tn((function(n,i){var r={_t:n,yt:i};t.Ct.push(r)}))}(i);return function(t,n,i){var r={chunk:n};try{Nn(t,r,i)}catch(n){return void ti(t,n)}var e=t.Vt;if(!1===Xn(e)&&"writable"===e.l){Vn(e,ni(t))}$n(t)}(r,n,e),s}function Zn(t,n,i,r,e,u,s,o){n.Vt=t,t.Rt=n,n.St=void 0,n.Et=void 0,Dn(n),n.Ft=!1,n.zt=o,n.Wt=s,n.qt=r,n.Gt=e,n.jt=u;var a=ni(n);Vn(t,a),un(nn(i()),(function(){n.Ft=!0,$n(n)}),(function(i){n.Ft=!0,Fn(t,i)}))}function Kn(t){t.qt=void 0,t.Gt=void 0,t.jt=void 0,t.zt=void 0}function Jn(t){return t.Wt-t.Et}function $n(t){var n=t.Vt;if(!1!==t.Ft&&void 0===n.Nt)if("erroring"!==n.l){if(0!==t.St.length){var i=function(t){return t.St.peek().value}(t);"close"===i?function(t){var n=t.Vt;(function(t){t.Pt=t.Dt,t.Dt=void 0})(n),Cn(t);var i=t.Gt();Kn(t),un(i,(function(){!function(t){t.Pt._t(void 0),t.Pt=void 0,"erroring"===t.l&&(t.ft=void 0,void 0!==t.Bt&&(t.Bt._t(),t.Bt=void 0)),t.l="closed";var n=t.It;void 0!==n&&ci(n)}(n)}),(function(t){!function(t,n){t.Pt.yt(n),t.Pt=void 0,void 0!==t.Bt&&(t.Bt.yt(n),t.Bt=void 0),Fn(t,n)}(n,t)}))}(t):function(t,n){var i=t.Vt;(function(t){t.Nt=t.Ct.shift()})(i),un(t.qt(n),(function(){!function(t){t.Nt._t(void 0),t.Nt=void 0}(i);var n=i.l;if(Cn(t),!1===Xn(i)&&"writable"===n){var r=ni(t);Vn(i,r)}$n(t)}),(function(n){"writable"===i.l&&Kn(t),function(t,n){t.Nt.yt(n),t.Nt=void 0,Fn(t,n)}(i,n)}))}(t,i.chunk)}}else Hn(n)}function ti(t,n){"writable"===t.Vt.l&&ii(t,n)}function ni(t){return Jn(t)<=0}function ii(t,n){var i=t.Vt;Kn(t),Un(i,n)}function ri(t){return new h("WritableStream.prototype."+t+" can only be used on a WritableStream")}function ei(t){return new h("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function ui(t){return new h("Cannot "+t+" a stream using a released writer")}function si(t){t.vt=tn((function(n,i){t.dt=n,t.wt=i,t.Ht="pending"}))}function oi(t,n){si(t),ai(t,n)}function ai(t,n){cn(t.vt),t.wt(n),t.dt=void 0,t.wt=void 0,t.Ht="rejected"}function ci(t){t.dt(void 0),t.dt=void 0,t.wt=void 0,t.Ht="resolved"}function fi(t){t.Yt=tn((function(n,i){t.Qt=n,t.Zt=i})),t.Xt="pending"}function hi(t,n){fi(t),di(t,n)}function vi(t){fi(t),li(t)}function di(t,n){cn(t.Yt),t.Zt(n),t.Qt=void 0,t.Zt=void 0,t.Xt="rejected"}function li(t){t.Qt(void 0),t.Qt=void 0,t.Zt=void 0,t.Xt="fulfilled"}function wi(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}function _i(t,n,i,r,e,u){var s=yn(t),o=Pn(n);t.kt=!0;var a=!1,c=nn(void 0);return tn((function(f,v){var d,l,w,_;if(void 0!==u){if(d=function(){var i=new Dt("Aborted","AbortError"),u=[];!1===r&&u.push((function(){return"writable"===n.l?Ln(n,i):nn(void 0)})),!1===e&&u.push((function(){return"readable"===t.l?rr(t,i):nn(void 0)})),p((function(){return j.all(u.map((function(t){return t()})))}),!0,i)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(y(t,s.vt,(function(t){!1===r?p((function(){return Ln(n,t)}),!0,t):A(!0,t)})),y(n,o.vt,(function(n){!1===e?p((function(){return rr(t,n)}),!0,n):A(!0,n)})),l=t,w=s.vt,_=function(){!1===i?p((function(){return function(t){var n=t.Ut,i=n.l;return!0===Xn(n)||"closed"===i?nn(void 0):"errored"===i?rn(n.ft):qn(t)}(o)})):A()},"closed"===l.l?_():sn(w,_),!0===Xn(n)||"closed"===n.l){var g=new h("the destination writable stream closed before all data could be piped to it");!1===e?p((function(){return rr(t,g)}),!0,g):A(!0,g)}function m(){var t=c;return en(c,(function(){return t!==c?m():void 0}))}function y(t,n,i){"errored"===t.l?i(t.ft):on(n,i)}function p(t,i,r){function e(){un(t(),(function(){return k(i,r)}),(function(t){return k(!0,t)}))}!0!==a&&(a=!0,"writable"===n.l&&!1===Xn(n)?sn(m(),e):e())}function A(t,i){!0!==a&&(a=!0,"writable"===n.l&&!1===Xn(n)?sn(m(),(function(){return k(t,i)})):k(t,i))}function k(t,n){Yn(o),dn(s),void 0!==u&&u.removeEventListener("abort",d),t?v(n):f(void 0)}cn(tn((function(t,n){!function i(r){r?t():en(!0===a?nn(!0):en(o.Yt,(function(){return en(Sn(s),(function(t){return!0===t.done||(c=en(Qn(o,t.value),void 0,Vt),!1)}))})),i,n)}(!1)})))}))}function gi(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"Kt")}function mi(t){!1!==yi(t)&&(!0!==t.Jt?(t.Jt=!0,un(t.$t(),(function(){t.Jt=!1,!0===t.un&&(t.un=!1,mi(t))}),(function(n){bi(t,n)}))):t.un=!0)}function yi(t){var n=t.Kt;return!1!==Si(t)&&(!1!==t.Ft&&(!0===ir(n)&&kn(n)>0||Ti(t)>0))}function pi(t){t.$t=void 0,t.cn=void 0,t.zt=void 0}function Ai(t){var n=t.Kt;t.fn=!0,0===t.St.length&&(pi(t),er(n))}function ki(t,n){var i=t.Kt;if(!0===ir(i)&&kn(i)>0)An(i,n,!1);else{var r=void 0;try{r=t.zt(n)}catch(n){throw bi(t,n),n}try{Nn(t,n,r)}catch(n){throw bi(t,n),n}}mi(t)}function bi(t,n){var i=t.Kt;"readable"===i.l&&(Dn(t),pi(t),ur(i,n))}function Ti(t){var n=t.Kt.l;return"errored"===n?null:"closed"===n?0:t.Wt-t.Et}function Si(t){var n=t.Kt.l;return!1===t.fn&&"readable"===n}function Ei(t,n,i,r,e,u,s){n.Kt=t,n.St=void 0,n.Et=void 0,Dn(n),n.Ft=!1,n.fn=!1,n.un=!1,n.Jt=!1,n.zt=s,n.Wt=u,n.$t=r,n.cn=e,t.bt=n,un(nn(i()),(function(){n.Ft=!0,mi(n)}),(function(t){bi(n,t)}))}function Ii(t){return new h("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function Ri(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"hn")}function Ci(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"vn")}function Ni(t){!1!==function(t){var n=t.hn;if("readable"!==n.l)return!1;if(!0===t.fn)return!1;if(!1===t.Ft)return!1;if(!0===bn(n)&&kn(n)>0)return!0;if(!0===Qi(n)&&Yi(n)>0)return!0;if(Vi(t)>0)return!0;return!1}(t)&&(!0!==t.Jt?(t.Jt=!0,un(t.$t(),(function(){t.Jt=!1,!0===t.un&&(t.un=!1,Ni(t))}),(function(n){zi(t,n)}))):t.un=!0)}function Di(t,n){var i=!1;"closed"===t.l&&(i=!0);var r=Pi(n);"default"===n.readerType?An(t,r,i):function(t,n,i){var r=t.ct;r.dn.shift()._t(fn(n,i,r.ut))}(t,r,i)}function Pi(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function Bi(t,n,i,r){t.St.push({buffer:n,byteOffset:i,byteLength:r}),t.Et+=r}function Oi(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=d.min(t.Et,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%i,o=e,a=!1;s>r&&(o=s-n.bytesFilled,a=!0);for(var c=t.St;o>0;){var f=c.peek(),h=d.min(o,f.byteLength),v=n.byteOffset+n.bytesFilled;Gt(n.buffer,v,f.buffer,f.byteOffset,h),f.byteLength===h?c.shift():(f.byteOffset+=h,f.byteLength-=h),t.Et-=h,xi(t,h,n),o-=h}return a}function xi(t,n,i){Mi(t),i.bytesFilled+=n}function Li(t){0===t.Et&&!0===t.fn?(Xi(t),er(t.hn)):Ni(t)}function Mi(t){void 0!==t.wn&&(t.wn.vn=void 0,t.wn._n=void 0,t.wn=void 0)}function Fi(t){for(;t.yn.length>0;){if(0===t.Et)return;var n=t.yn.peek();!0===Oi(t,n)&&(Hi(t),Di(t.hn,n))}}function Ui(t,n){var i=t.yn.peek();if("closed"===t.hn.l){if(0!==n)throw new h("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=n.buffer;var i=t.hn;if(!0===Qi(i))for(;Yi(i)>0;)Di(i,Hi(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(xi(t,n,i),!(i.bytesFilled<i.elementSize)){Hi(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);Bi(t,u,0,u.byteLength)}i.buffer=i.buffer,i.bytesFilled-=r,Di(t.hn,i),Fi(t)}}(t,n,i);Ni(t)}function Hi(t){var n=t.yn.shift();return Mi(t),n}function Xi(t){t.$t=void 0,t.cn=void 0}function zi(t,n){var i=t.hn;"readable"===i.l&&(!function(t){Mi(t),t.yn=new mt}(t),Dn(t),Xi(t),ur(i,n))}function Vi(t){var n=t.hn.l;return"errored"===n?null:"closed"===n?0:t.Wt-t.Et}function Wi(t,n,i){var r=v.create(xt.prototype);var e=Qt(n,"pull",0,[r]),u=Qt(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===Bt(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,s){n.hn=t,n.un=!1,n.Jt=!1,n.wn=void 0,n.St=n.Et=void 0,Dn(n),n.fn=!1,n.Ft=!1,n.Wt=Jt(u),n.$t=r,n.cn=e,n.pn=s,n.yn=new mt,t.bt=n,un(nn(i()),(function(){n.Ft=!0,Ni(n)}),(function(t){zi(n,t)}))}(t,r,(function(){return Zt(n,"start",[r])}),e,u,i,s)}function qi(t){return new h("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Gi(t){return new h("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function ji(t){return tn((function(n,i){var r={_t:n,yt:i};t.ct.dn.push(r)}))}function Yi(t){return t.ct.dn.length}function Qi(t){var n=t.ct;return void 0!==n&&!!Zi(n)}function Zi(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"dn")}function Ki(t,n){var i=t.ot;return i.kt=!0,"errored"===i.l?rn(i.ft):function(t,n){var i=t.hn,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.yn.length>0)return t.yn.push(u),ji(i);if("closed"===i.l)return nn(fn(new e(u.buffer,u.byteOffset,0),!0,i.ct.ut));if(t.Et>0){if(!0===Oi(t,u)){var s=Pi(u);return Li(t),nn(fn(s,!1,i.ct.ut))}if(!0===t.fn){var o=new h("Insufficient bytes to fill elements in the given buffer");return zi(t,o),rn(o)}}t.yn.push(u);var a=ji(i);return Ni(t),a}(i.bt,n)}function Ji(t){return new h("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function $i(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=v.create(Mt.prototype);return tr(u),Ei(u,v.create(Pt.prototype),t,n,i,r,e),u}function tr(t){t.l="readable",t.ct=void 0,t.ft=void 0,t.kt=!1}function nr(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"bt")}function ir(t){return void 0!==t.ct}function rr(t,n){return t.kt=!0,"closed"===t.l?nn(void 0):"errored"===t.l?rn(t.ft):(er(t),an(t.bt[yt](n),Vt))}function er(t){t.l="closed";var n=t.ct;void 0!==n&&(Tn(n)&&(n.At.forEach((function(t){t._t(fn(void 0,!0,n.ut))})),n.At=new mt),mn(n))}function ur(t,n){t.l="errored",t.ft=n;var i=t.ct;void 0!==i&&(Tn(i)?(i.At.forEach((function(t){t.yt(n)})),i.At=new mt):(i.dn.forEach((function(t){t.yt(n)})),i.dn=new mt),gn(i,n))}function sr(t){return new h("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function or(t,n,i,r,e,u){function s(){return n}t.An=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=v.create(It.prototype);return Bn(s),Zn(s,v.create(Ct.prototype),t,n,i,r,e,u),s}(s,(function(n){return function(t,n){var i=t.Tn;if(!0===t.Ot){return an(t.Sn,(function(){var r=t.An;if("erroring"===r.l)throw r.ft;return wr(i,n)}))}return wr(i,n)}(t,n)}),(function(){return function(t){var n=t.En,i=t.Tn,r=i.In();return dr(i),an(r,(function(){if("errored"===n.l)throw n.ft;var t=n.bt;!0===Si(t)&&Ai(t)}),(function(i){throw cr(t,i),n.ft}))}(t)}),(function(n){return function(t,n){return cr(t,n),nn(void 0)}(t,n)}),i,r),t.En=$i(s,(function(){return function(t){return hr(t,!1),t.Sn}(t)}),(function(n){return fr(t,n),nn(void 0)}),e,u),t.Ot=void 0,t.Sn=void 0,t.Rn=void 0,hr(t,!0),t.Tn=void 0}function ar(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"Tn")}function cr(t,n){bi(t.En.bt,n),fr(t,n)}function fr(t,n){dr(t.Tn),ti(t.An.Rt,n),!0===t.Ot&&hr(t,!1)}function hr(t,n){void 0!==t.Sn&&t.Rn(),t.Sn=tn((function(n){t.Rn=n})),t.Ot=n}function vr(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"Cn")}function dr(t){t.Nn=void 0,t.In=void 0}function lr(t,n){var i=t.Cn,r=i.En.bt;if(!1===Si(r))throw new h("Readable side is not in a state that permits enqueue");try{ki(r,n)}catch(t){throw fr(i,t),i.En.ft}(function(t){return!0!==yi(t)})(r)!==i.Ot&&hr(i,!0)}function wr(t,n){return an(t.Nn(n),void 0,(function(n){throw cr(t.Cn,n),n}))}function _r(t){return new h("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function gr(t){return new h("TransformStream.prototype."+t+" can only be used on a TransformStream")}var mr=E((function(){var t;yr(),zt(),ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"},vt=Number.isNaN||function(t){return t!=t},dt=Vt,lt=j,wt=j.prototype.then,_t=j.resolve.bind(lt),gt=j.reject.bind(lt),16384,mt=function(){function t(){this.Dn=0,this.Pn=0,this.G={Bn:[],On:void 0},this.xn=this.G,this.Dn=0,this.Pn=0}return v.defineProperty(t.prototype,"length",{get:function(){return this.Pn},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.xn,i=n;16383===n.Bn.length&&(i={Bn:[],On:void 0}),n.Bn.push(t),i!==n&&(this.xn=i,n.On=i),++this.Pn},t.prototype.shift=function(){var t=this.G,n=t,i=this.Dn,r=i+1,e=t.Bn,u=e[i];return 16384===r&&(n=t.On,r=0),--this.Pn,this.Dn=r,t!==n&&(this.G=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.Dn,i=this.G,r=i.Bn;!(n===r.length&&void 0===i.On||n===r.length&&(n=0,0===(r=(i=i.On).Bn).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.G,n=this.Dn;return t.Bn[n]},t}(),yt=ht("[[CancelSteps]]"),pt=ht("[[PullSteps]]"),At=function(){function t(t){if(!1===nr(t))throw new h("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===ir(t))throw new h("This stream has already been locked for exclusive reading by another reader");hn(this,t),this.At=new mt}return v.defineProperty(t.prototype,"closed",{get:function(){return Tn(this)?this.vt:rn(En("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Tn(this)?void 0===this.ot?rn(ln("cancel")):vn(this,t):rn(En("cancel"))},t.prototype.read=function(){return Tn(this)?void 0===this.ot?rn(ln("read from")):Sn(this):rn(En("read"))},t.prototype.releaseLock=function(){if(!Tn(this))throw En("releaseLock");if(void 0!==this.ot){if(this.At.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");dn(this)}},t}(),"symbol"==typeof ht.asyncIterator&&((kt={})[ht.asyncIterator]=function(){return this},bt=kt,v.defineProperty(bt,ht.asyncIterator,{enumerable:!1})),Tt={next:function(){if(!1===In(this))return rn(Rn("next"));var t=this.Tt;return void 0===t.ot?rn(ln("iterate")):an(Sn(t),(function(n){var i=n.done;return i&&dn(t),fn(n.value,i,!0)}))},return:function(t){if(!1===In(this))return rn(Rn("next"));var n=this.Tt;if(void 0===n.ot)return rn(ln("finish iterating"));if(n.At.length>0)return rn(new h("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Ln){var i=vn(n,t);return dn(n),an(i,(function(){return fn(t,!0,!0)}))}return dn(n),nn(fn(t,!0,!0))}},void 0!==bt&&v.setPrototypeOf(Tt,bt),v.defineProperty(Tt,"next",{enumerable:!1}),v.defineProperty(Tt,"return",{enumerable:!1}),St=ht("[[AbortSteps]]"),Et=ht("[[ErrorSteps]]"),It=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Bn(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=$t(i);void 0===r&&(r=1),function(t,n,i,r){var e=v.create(Ct.prototype),u=Qt(n,"write",1,[e]),s=Qt(n,"close",0,[]),o=Qt(n,"abort",1,[]);Zn(t,e,(function(){return Zt(n,"start",[e])}),u,s,o,i,r)}(this,t,r=Jt(r),e)}return v.defineProperty(t.prototype,"locked",{get:function(){if(!1===On(this))throw ri("locked");return xn(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===On(this)?rn(ri("abort")):!0===xn(this)?rn(new h("Cannot abort a stream that already has a writer")):Ln(this,t)},t.prototype.close=function(){return!1===On(this)?rn(ri("close")):!0===xn(this)?rn(new h("Cannot close a stream that already has a writer")):!0===Xn(this)?rn(new h("Cannot close an already-closing stream")):Mn(this)},t.prototype.getWriter=function(){if(!1===On(this))throw ri("getWriter");return Pn(this)},t}(),Rt=function(){function t(t){if(!1===On(t))throw new h("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===xn(t))throw new h("This stream has already been locked for exclusive writing by another writer");this.Ut=t,t.It=this;var n=t.l;if("writable"===n)!1===Xn(t)&&!0===t.Ot?fi(this):vi(this),si(this);else if("erroring"===n)hi(this,t.ft),si(this);else if("closed"===n)vi(this),function(t){si(t),ci(t)}(this);else{var i=t.ft;hi(this,i),oi(this,i)}}return v.defineProperty(t.prototype,"closed",{get:function(){return!1===Wn(this)?rn(ei("closed")):this.vt},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Wn(this))throw ei("desiredSize");if(void 0===this.Ut)throw ui("desiredSize");return function(t){var n=t.Ut,i=n.l;return"errored"===i||"erroring"===i?null:"closed"===i?0:Jn(n.Rt)}(this)},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"ready",{get:function(){return!1===Wn(this)?rn(ei("ready")):this.Yt},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Wn(this)?rn(ei("abort")):void 0===this.Ut?rn(ui("abort")):function(t,n){return Ln(t.Ut,n)}(this,t)},t.prototype.close=function(){if(!1===Wn(this))return rn(ei("close"));var t=this.Ut;return void 0===t?rn(ui("close")):!0===Xn(t)?rn(new h("Cannot close an already-closing stream")):qn(this)},t.prototype.releaseLock=function(){if(!1===Wn(this))throw ei("releaseLock");void 0!==this.Ut&&Yn(this)},t.prototype.write=function(t){return!1===Wn(this)?rn(ei("write")):void 0===this.Ut?rn(ui("write to")):Qn(this,t)},t}(),Ct=function(){function t(){throw new h("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"Vt")}(this))throw new h("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Vt.l&&ii(this,t)},t.prototype[St]=function(t){var n=this.jt(t);return Kn(this),n},t.prototype[Et]=function(){Dn(this)},t}(),Nt="undefined"!=typeof DOMException?DOMException:void 0,Dt=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Nt)?Nt:((t=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),v.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t),Pt=function(){function t(){throw new h}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===gi(this))throw Ii("desiredSize");return Ti(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===gi(this))throw Ii("close");if(!1===Si(this))throw new h("The stream is not in a state that permits close");Ai(this)},t.prototype.enqueue=function(t){if(!1===gi(this))throw Ii("enqueue");if(!1===Si(this))throw new h("The stream is not in a state that permits enqueue");return ki(this,t)},t.prototype.error=function(t){if(!1===gi(this))throw Ii("error");bi(this,t)},t.prototype[yt]=function(t){Dn(this);var n=this.cn(t);return pi(this),n},t.prototype[pt]=function(){var t=this.Kt;if(this.St.length>0){var n=Cn(this);return!0===this.fn&&0===this.St.length?(pi(this),er(t)):mi(this),nn(fn(n,!1,t.ct.ut))}var i=pn(t);return mi(this),i},t}(),Bt=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&d.floor(t)===t},Ot=function(){function t(){throw new h("ReadableStreamBYOBRequest cannot be used directly")}return v.defineProperty(t.prototype,"view",{get:function(){if(!1===Ci(this))throw qi("view");return this._n},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Ci(this))throw qi("respond");if(void 0===this.vn)throw new h("This BYOB request has been invalidated");this._n.buffer,function(t,n){if(!1===jt(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Ui(t,n)}(this.vn,t)},t.prototype.respondWithNewView=function(t){if(!1===Ci(this))throw qi("respond");if(void 0===this.vn)throw new h("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new h("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.yn.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Ui(t,n.byteLength)}(this.vn,t)},t}(),xt=function(){function t(){throw new h("ReadableByteStreamController constructor cannot be used directly")}return v.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Ri(this))throw Gi("byobRequest");if(void 0===this.wn&&this.yn.length>0){var t=this.yn.peek(),n=new g(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=v.create(Ot.prototype);!function(t,n,i){t.vn=n,t._n=i}(i,this,n),this.wn=i}return this.wn},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ri(this))throw Gi("desiredSize");return Vi(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Ri(this))throw Gi("close");if(!0===this.fn)throw new h("The stream has already been closed; do not close it again!");var t=this.hn.l;if("readable"!==t)throw new h("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.hn;if(t.Et>0)t.fn=!0;else{if(t.yn.length>0&&t.yn.peek().bytesFilled>0){var i=new h("Insufficient bytes to fill elements in the given buffer");throw zi(t,i),i}Xi(t),er(n)}}(this)},t.prototype.enqueue=function(t){if(!1===Ri(this))throw Gi("enqueue");if(!0===this.fn)throw new h("stream is closed or draining");var n=this.hn.l;if("readable"!==n)throw new h("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new h("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.hn,r=n.buffer,e=n.byteOffset,u=n.byteLength,s=r;!0===bn(i)?0===kn(i)?Bi(t,s,e,u):An(i,new g(s,e,u),!1):!0===Qi(i)?(Bi(t,s,e,u),Fi(t)):Bi(t,s,e,u),Ni(t)}(this,t)},t.prototype.error=function(t){if(!1===Ri(this))throw Gi("error");zi(this,t)},t.prototype[yt]=function(t){this.yn.length>0&&(this.yn.peek().bytesFilled=0);Dn(this);var n=this.cn(t);return Xi(this),n},t.prototype[pt]=function(){var t=this.hn;if(this.Et>0){var n=this.St.shift();this.Et-=n.byteLength,Li(this);var i=void 0;try{i=new g(n.buffer,n.byteOffset,n.byteLength)}catch(t){return rn(t)}return nn(fn(i,!1,t.ct.ut))}var r=this.pn;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return rn(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:g,readerType:"default"};this.yn.push(u)}var s=pn(t);return Ni(this),s},t}(),Lt=function(){function t(t){if(!nr(t))throw new h("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Ri(t.bt))throw new h("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(ir(t))throw new h("This stream has already been locked for exclusive reading by another reader");hn(this,t),this.dn=new mt}return v.defineProperty(t.prototype,"closed",{get:function(){return Zi(this)?this.vt:rn(Ji("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Zi(this)?void 0===this.ot?rn(ln("cancel")):vn(this,t):rn(Ji("cancel"))},t.prototype.read=function(t){return Zi(this)?void 0===this.ot?rn(ln("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?rn(new h("view must have non-zero byteLength")):Ki(this,t)):rn(new h("view must be an array buffer view")):rn(Ji("read"))},t.prototype.releaseLock=function(){if(!Zi(this))throw Ji("releaseLock");if(void 0!==this.ot){if(this.dn.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");dn(this)}},t}(),Mt=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),tr(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Wi(this,t,r=Jt(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=$t(i);void 0===r&&(r=1),function(t,n,i,r){var e=v.create(Pt.prototype),u=Qt(n,"pull",0,[e]),s=Qt(n,"cancel",1,[]);Ei(t,e,(function(){return Zt(n,"start",[e])}),u,s,i,r)}(this,t,r=Jt(r),u)}}return v.defineProperty(t.prototype,"locked",{get:function(){if(!1===nr(this))throw sr("locked");return ir(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===nr(this)?rn(sr("cancel")):!0===ir(this)?rn(new h("Cannot cancel a stream that already has a reader")):rr(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===nr(this))throw sr("getReader");if(void 0===n)return yn(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Lt(t);return i.ut=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,a=e.signal;if(!1===nr(this))throw sr("pipeThrough");if(!1===On(i))throw new h("writable argument to pipeThrough must be a WritableStream");if(!1===nr(r))throw new h("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==a&&!wi(a))throw new h("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===ir(this))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===xn(i))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return cn(_i(this,i,u,s,o,a)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===nr(this)?rn(sr("pipeTo")):!1===On(t)?rn(new h("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===s||wi(s)?!0===ir(this)?rn(new h("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===xn(t)?rn(new h("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):_i(this,t,r,e,u,s):rn(new h("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===nr(this))throw sr("tee");var t=function(t,n){var i,r,e,u,s,o=yn(t),a=!1,c=!1,f=!1,h=tn((function(t){s=t}));function v(){return!0===a||(a=!0,cn(an(Sn(o),(function(t){if(a=!1,!0===t.done)return!1===c&&Ai(e.bt),void(!1===f&&Ai(u.bt));var n=t.value,i=n,r=n;!1===c&&ki(e.bt,i),!1===f&&ki(u.bt,r)})))),nn(void 0)}function d(){}return e=$i(d,v,(function(n){if(c=!0,i=n,!0===f){var e=qt([i,r]),u=rr(t,e);s(u)}return h})),u=$i(d,v,(function(n){if(f=!0,r=n,!0===c){var e=qt([i,r]),u=rr(t,e);s(u)}return h})),on(o.vt,(function(t){bi(e.bt,t),bi(u.bt,t)})),[e,u]}(this);return qt(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===nr(this))throw sr("getIterator");return function(t,n){void 0===n&&(n=!1);var i=yn(t),r=v.create(Tt);return r.Tt=i,r.Ln=Boolean(n),r}(this,i)},t}(),"symbol"==typeof ht.asyncIterator&&v.defineProperty(Mt.prototype,ht.asyncIterator,{value:Mt.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0}),function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(t){return t.byteLength},t}(),Ft=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Ut=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=$t(r);if(void 0===e&&(e=1),e=Jt(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=$t(u);void 0===s&&(s=0),s=Jt(s),or(this,tn((function(t){a=t})),e,o,s,c),function(t,n){var i=v.create(Ht.prototype),r=function(t){try{return lr(i,t),nn(void 0)}catch(t){return rn(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new h("transform is not a method");r=function(t){return Kt(e,n,[t,i])}}var u=Qt(n,"flush",0,[i]);!function(t,n,i,r){n.Cn=t,t.Tn=n,n.Nn=i,n.In=r}(t,i,r,u)}(this,t);var f=Zt(t,"start",[this.Tn]);a(f)}return v.defineProperty(t.prototype,"readable",{get:function(){if(!1===ar(this))throw gr("readable");return this.En},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"writable",{get:function(){if(!1===ar(this))throw gr("writable");return this.An},enumerable:!0,configurable:!0}),t}(),Ht=function(){function t(){throw new h("TransformStreamDefaultController instances cannot be created directly")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===vr(this))throw _r("desiredSize");return Ti(this.Cn.En.bt)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===vr(this))throw _r("enqueue");lr(this,t)},t.prototype.error=function(t){if(!1===vr(this))throw _r("error");!function(t,n){cr(t.Cn,n)}(this,t)},t.prototype.terminate=function(){if(!1===vr(this))throw _r("terminate");!function(t){var n=t.Cn,i=n.En.bt;!0===Si(i)&&Ai(i),fr(n,new h("TransformStream terminated"))}(this)},t}()})),yr=E((function(){mr()}));function pr(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),v.defineProperty(t,r.key,r)}}function Ar(t,n,i){return n&&pr(t.prototype,n),i&&pr(t,i),t}var kr=E((function(){yr(),zt()}));function br(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}var Tr=E((function(){yr(),zt()}));var Sr=E((function(){yr(),zt(),Tr()}));var Er=E((function(){yr(),zt()}));var Ir=E((function(){yr(),zt()}));function Rr(t,n){if(t){if("string"==typeof t)return br(t,n);var i=v.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?br(t,n):void 0}}var Cr=E((function(){yr(),zt(),Tr()}));function Nr(t){return function(t){if(Array.isArray(t))return br(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Rr(t)||function(){throw new h("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Dr,Pr,Br,Or=E((function(){yr(),zt(),Sr(),Er(),Ir(),Cr()})),xr=I((function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?r.splice(s,1/0,e):r.push(e),~i.indexOf(u)&&(u=n.call(this,e,u))}else i.push(u);return null==t?u:t.call(this,e,u)}}yr(),zt(),(n.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i})),Lr=I((function(t){yr(),zt(),v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");function n(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[32,10,13,9],t.isChar=function(t){return t>=32&&t<=55295||10===t||13===t||9===t||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return 32===t||10===t||13===t||9===t},t.isNameStartChar=n,t.isNameChar=function(t){return n(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}})),Mr=I((function(t){yr(),zt(),v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");function n(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[32,10,13,9],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return 32===t||10===t||13===t||9===t},t.isNameStartChar=n,t.isNameChar=function(t){return n(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}})),Fr=I((function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}yr(),zt(),v.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}})),Ur=I((function(t){yr(),zt(),kr(),Or(),v.defineProperty(t,"__esModule",{value:!0}),t.SaxesParser=t.EVENTS=void 0;var n=Lr(),i=Mr(),r=Fr(),e=n.isS,u=n.isChar,s=n.isNameStartChar,o=n.isNameChar,a=n.S_LIST,c=n.NAME_RE,h=i.isChar,d=r.isNCNameStartChar,w=r.isNCNameChar,_=r.NC_NAME_RE,g="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/2000/xmlns/",y={__proto__:null,xml:g,xmlns:m},p={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},A=-1,k=-2,b=13,T=33,S=10,E=60,I=61,R=62,C=63,N=93,D=function(t){return 34===t||39===t},P=[34,39],B=Nr(P).concat([91,R]),O=Nr(P).concat([E,N]),x=[I,C].concat(Nr(a)),L=Nr(a).concat([R,38,E]);function M(t,n,i){switch(n){case"xml":i!==g&&t.fail("xml prefix must be bound to "+g+".");break;case"xmlns":i!==m&&t.fail("xmlns prefix must be bound to "+m+".")}switch(i){case m:t.fail(""===n?"the default namespace may not be set to "+i+".":'may not assign a prefix (even "xmlns") to the URI '+m+".");break;case g:switch(n){case"xml":break;case"":t.fail("the default namespace may not be set to "+i+".");break;default:t.fail("may not assign the xml namespace to another prefix.")}}}var F=function(t){return _.test(t)},U=function(t){return c.test(t)};t.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];var H={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"},X=function(){function t(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;var n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=d,this.nameCheck=w,this.isName=F,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=v.assign({__proto__:null},y);var i=this.opt.additionalNamespaces;null!=i&&(!function(t,n){for(var i=0,r=v.keys(n);i<r.length;i++){var e=r[i];M(t,e,n[e])}}(this,i),v.assign(this.ns,i))}else this.nameStartCheck=s,this.nameCheck=o,this.isName=U,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}var n=t.prototype;return n._init=function(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];var n=this.fragmentOpt;this.state=n?b:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;var i=this.opt.defaultXMLVersion;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new f("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Mn=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=v.create(p),null===(t=this.readyHandler)||void 0===t||t.call(this)},n.on=function(t,n){this[H[t]]=n},n.off=function(t){this[H[t]]=void 0},n.makeError=function(t){var n,i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=this.line+":"+this.column),i.length>0&&(i+=": "),new f(i+t)},n.fail=function(t){var n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this},n.write=function(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");var n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=""+this.carriedFromPrevious+t,this.carriedFromPrevious=void 0);var i=t.length,r=t.charCodeAt(i-1);!n&&(13===r||r>=55296&&r<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));var e=this.stateTable;for(this.chunk=t,this.i=0;this.i<i;)e[this.state].call(this);return this.chunkPosition+=i,n?this.end():this},n.close=function(){return this.write(null)},n.getCode10=function(){var t=this.chunk,n=this.i;if(this.prevI=n,this.i=n+1,n>=t.length)return A;var i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=32||9===i)return i;switch(i){case S:return this.line++,this.column=0,this.positionAtNewLine=this.position,S;case 13:return t.charCodeAt(n+1)===S&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;var r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r},n.getCode11=function(){var t=this.chunk,n=this.i;if(this.prevI=n,this.i=n+1,n>=t.length)return A;var i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&8232!==i||9===i)return i;switch(i){case S:return this.line++,this.column=0,this.positionAtNewLine=this.position,S;case 13:var r=t.charCodeAt(n+1);r!==S&&133!==r||(this.i=n+2);case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;var e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e},n.getCodeNorm=function(){var t=this.getCode();return t===k?S:t},n.unget=function(){this.i=this.prevI,this.column--},n.captureTo=function(t){for(var n=this.i,i=this.chunk;;){var r=this.getCode(),e=r===k,u=e?S:r;if(u===A||t.includes(u))return this.text+=i.slice(n,this.prevI),u;e&&(this.text+=i.slice(n,this.prevI)+"\n",n=this.i)}},n.captureToChar=function(t){for(var n=this.i,i=this.chunk;;){var r=this.getCode();switch(r){case k:this.text+=i.slice(n,this.prevI)+"\n",n=this.i,r=S;break;case A:return this.text+=i.slice(n),!1}if(r===t)return this.text+=i.slice(n,this.prevI),!0}},n.captureNameChars=function(){for(var t=this.chunk,n=this.i;;){var i=this.getCode();if(i===A)return this.name+=t.slice(n),A;if(!o(i))return this.name+=t.slice(n,this.prevI),i===k?S:i}},n.skipSpaces=function(){for(;;){var t=this.getCodeNorm();if(t===A||!e(t))return t}},n.setXMLVersion=function(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=u,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)},n.sBegin=function(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=1},n.sBeginWhitespace=function(){var t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case E:if(this.state=15,0!==this.text.length)throw new f("no-empty text at start");break;case A:break;default:this.unget(),this.state=b,this.xmlDeclPossible=!1}},n.sDoctype=function(){var t,n=this.captureTo(B);switch(n){case R:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=b,this.doctype=!0;break;case A:break;default:this.text+=String.fromCodePoint(n),91===n?this.state=4:D(n)&&(this.state=3,this.q=n)}},n.sDoctypeQuote=function(){var t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=2)},n.sDTD=function(){var t=this.captureTo(O);t!==A&&(this.text+=String.fromCodePoint(t),t===N?this.state=2:t===E?this.state=6:D(t)&&(this.state=5,this.q=t))},n.sDTDQuoted=function(){var t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=4,this.q=null)},n.sDTDOpenWaka=function(){var t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case 33:this.state=7,this.openWakaBang="";break;case C:this.state=11;break;default:this.state=4}},n.sDTDOpenWakaBang=function(){var t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?8:4,this.openWakaBang="")},n.sDTDComment=function(){this.captureToChar(45)&&(this.text+="-",this.state=9)},n.sDTDCommentEnding=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=45===t?10:8},n.sDTDCommentEnded=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===R?this.state=4:(this.fail("malformed comment."),this.state=8)},n.sDTDPI=function(){this.captureToChar(C)&&(this.text+="?",this.state=12)},n.sDTDPIEnding=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===R&&(this.state=4)},n.sText=function(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()},n.sEntity=function(){var t=this.i,n=this.chunk;t:for(;;)switch(this.getCode()){case k:this.entity+=n.slice(t,this.prevI)+"\n",t=this.i;break;case 59:var i=this.entityReturnState,r=this.entity+n.slice(t,this.prevI);this.state=i;var e=void 0;""===r?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(r),this.entity=""),i===b&&void 0===this.textHandler||(this.text+=e);break t;case A:this.entity+=n.slice(t);break t}},n.sOpenWaka=function(){var t=this.getCode();if(s(t))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(t){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case C:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=b,this.xmlDeclPossible=!1}},n.sOpenWakaBang=function(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}},n.sComment=function(){this.captureToChar(45)&&(this.state=18)},n.sCommentEnding=function(){var t,n=this.getCodeNorm();45===n?(this.state=19,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(n),this.state=17)},n.sCommentEnded=function(){var t=this.getCodeNorm();t!==R?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(t),this.state=17):this.state=b},n.sCData=function(){this.captureToChar(N)&&(this.state=21)},n.sCDataEnding=function(){var t=this.getCodeNorm();t===N?this.state=22:(this.text+="]"+String.fromCodePoint(t),this.state=20)},n.sCDataEnding2=function(){var t,n=this.getCodeNorm();switch(n){case R:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=b;break;case N:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(n),this.state=20}},n.sPIFirstChar=function(){var t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=24):t===C||e(t)?(this.fail("processing instruction without a target."),this.state=t===C?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=24)},n.sPIRest=function(){for(var t=this.chunk,n=this.i;;){var i=this.getCodeNorm();if(i===A)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);var r=i===C;r||e(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=r?T:27):this.state=r?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}},n.sPIBody=function(){if(0===this.text.length){var t=this.getCodeNorm();t===C?this.state=26:e(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(C)&&(this.state=26)},n.sPIEnding=function(){var t,n=this.getCodeNorm();if(n===R){var i=this.piTarget;"xml"===i.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:i,body:this.text}),this.piTarget=this.text="",this.state=b}else n===C?this.text+="?":(this.text+="?"+String.fromCodePoint(n),this.state=25);this.xmlDeclPossible=!1},n.sXMLDeclNameStart=function(){var t=this.skipSpaces();t!==C?t!==A&&(this.state=28,this.name=String.fromCodePoint(t)):this.state=T},n.sXMLDeclName=function(){var t=this.captureTo(x);if(t===C)return this.state=T,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(e(t)||t===I){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail("expected the name "+this.xmlDeclExpects[0]+".");break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=t===I?30:29}},n.sXMLDeclEq=function(){var t=this.getCodeNorm();if(t===C)return this.state=T,void this.fail("XML declaration is incomplete.");e(t)||(t!==I&&this.fail("value required."),this.state=30)},n.sXMLDeclValueStart=function(){var t=this.getCodeNorm();if(t===C)return this.state=T,void this.fail("XML declaration is incomplete.");e(t)||(D(t)?this.q=t:(this.fail("value must be quoted."),this.q=32),this.state=31)},n.sXMLDeclValue=function(){var t=this.captureTo([this.q,C]);if(t===C)return this.state=T,this.text="",void this.fail("XML declaration is incomplete.");if(t!==A){var n=this.text;switch(this.text="",this.name){case"version":this.xmlDeclExpects=["encoding","standalone"];var i=n;this.xmlDecl.version=i,/^1\.[0-9]+$/.test(i)?this.opt.forceXMLVersion||this.setXMLVersion(i):this.fail("version number must match /^1\\.[0-9]+$/.");break;case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=32}},n.sXMLDeclSeparator=function(){var t=this.getCodeNorm();t!==C?(e(t)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=T},n.sXMLDeclEnding=function(){var t;this.getCodeNorm()===R?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=b):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1},n.sOpenTag=function(){var t,n=this.captureNameChars();if(n!==A){var i=this.tag={name:this.name,attributes:v.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=v.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case R:this.openTag();break;case 47:this.state=35;break;default:e(n)||this.fail("disallowed character in tag name."),this.state=36}}},n.sOpenTagSlash=function(){this.getCode()===R?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)},n.sAttrib=function(){var t=this.skipSpaces();t!==A&&(s(t)?(this.unget(),this.state=37):t===R?this.openTag():47===t?this.state=35:this.fail("disallowed character in attribute name."))},n.sAttribName=function(){var t=this.captureNameChars();t===I?this.state=39:e(t)?this.state=38:t===R?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==A&&this.fail("disallowed character in attribute name.")},n.sAttribNameSawWhite=function(){var t=this.skipSpaces();switch(t){case A:return;case I:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",t===R?this.openTag():s(t)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}},n.sAttribValue=function(){var t=this.getCodeNorm();D(t)?(this.q=t,this.state=40):e(t)||(this.fail("unquoted attribute value."),this.state=42,this.unget())},n.sAttribValueQuoted=function(){for(var t=this.q,n=this.chunk,i=this.i;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=n.slice(i,this.prevI),this.state=14,void(this.entityReturnState=40);case S:case k:case 9:this.text+=n.slice(i,this.prevI)+" ",i=this.i;break;case E:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case A:return void(this.text+=n.slice(i))}},n.sAttribValueClosed=function(){var t=this.getCodeNorm();e(t)?this.state=36:t===R?this.openTag():47===t?this.state=35:s(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")},n.sAttribValueUnquoted=function(){var t=this.captureTo(L);switch(t){case 38:this.state=14,this.entityReturnState=42;break;case E:this.fail("disallowed character.");break;case A:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===R?this.openTag():this.state=36}},n.sCloseTag=function(){var t=this.captureNameChars();t===R?this.closeTag():e(t)?this.state=44:t!==A&&this.fail("disallowed character in closing tag.")},n.sCloseTagSawWhite=function(){switch(this.skipSpaces()){case R:this.closeTag();break;case A:break;default:this.fail("disallowed character in closing tag.")}},n.handleTextInRoot=function(){var t=this.i,n=this.forbiddenState,i=this.chunk,r=this.textHandler;t:for(;;)switch(this.getCode()){case E:if(this.state=15,void 0!==r){var e=this.text,u=i.slice(t,this.prevI);0!==e.length?(r(e+u),this.text=""):0!==u.length&&r(u)}n=0;break t;case 38:this.state=14,this.entityReturnState=b,void 0!==r&&(this.text+=i.slice(t,this.prevI)),n=0;break t;case N:switch(n){case 0:n=1;break;case 1:n=2;break;case 2:break;default:throw new f("impossible state")}break;case R:2===n&&this.fail('the string "]]>" is disallowed in char data.'),n=0;break;case k:void 0!==r&&(this.text+=i.slice(t,this.prevI)+"\n"),t=this.i,n=0;break;case A:void 0!==r&&(this.text+=i.slice(t));break t;default:n=0}this.forbiddenState=n},n.handleTextOutsideRoot=function(){var t=this.i,n=this.chunk,i=this.textHandler,r=!1;t:for(;;){var u=this.getCode();switch(u){case E:if(this.state=15,void 0!==i){var s=this.text,o=n.slice(t,this.prevI);0!==s.length?(i(s+o),this.text=""):0!==o.length&&i(o)}break t;case 38:this.state=14,this.entityReturnState=b,void 0!==i&&(this.text+=n.slice(t,this.prevI)),r=!0;break t;case k:void 0!==i&&(this.text+=n.slice(t,this.prevI)+"\n"),t=this.i;break;case A:void 0!==i&&(this.text+=n.slice(t));break t;default:e(u)||(r=!0)}}r&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))},n.pushAttribNS=function(t,n){var i,r=this.qname(t),e=r.prefix,u=r.local,s={name:t,prefix:e,local:u,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){var o=n.trim();"1.0"===this.currentXMLVersion&&""===o&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[u]=o,M(this,u,o)}else if("xmlns"===t){var a=n.trim();this.topNS[""]=a,M(this,"",a)}},n.pushAttribPlain=function(t,n){var i,r={name:t,value:n};this.attribList.push(r),null===(i=this.attributeHandler)||void 0===i||i.call(this,r)},n.end=function(){var t,n;this.sawRoot||this.fail("document must contain a root element.");for(var i=this.tags;i.length>0;){var r=i.pop();this.fail("unclosed tag: "+r.name)}0!==this.state&&this.state!==b&&this.fail("unexpected end.");var e=this.text;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.Mn=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this},n.resolve=function(t){var n,i,r=this.topNS[t];if(void 0!==r)return r;for(var e=this.tags,u=e.length-1;u>=0;u--)if(void 0!==(r=e[u].ns[t]))return r;return void 0!==(r=this.ns[t])?r:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)},n.qname=function(t){var n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};var i=t.slice(n+1),r=t.slice(0,n);return(""===r||""===i||i.includes(":"))&&this.fail("malformed name: "+t+"."),{prefix:r,local:i}},n.processAttribsNS=function(){var t,n=this.attribList,i=this.tag,r=this.qname(i.name),e=r.prefix,u=r.local;i.prefix=e,i.local=u;var s=i.uri=null!==(t=this.resolve(e))&&void 0!==t?t:"";if(""!==e&&("xmlns"===e&&this.fail('tags may not have "xmlns" as prefix.'),""===s&&(this.fail("unbound namespace prefix: "+JSON.stringify(e)+"."),i.uri=e)),0!==n.length){for(var o=i.attributes,a=new Set,c=0;c<n.length;c++){var f=n[c],h=f.name,v=f.prefix,d=f.local,l=void 0,w=void 0;""===v?(l="xmlns"===h?m:"",w=h):(void 0===(l=this.resolve(v))&&(this.fail("unbound namespace prefix: "+JSON.stringify(v)+"."),l=v),w="{"+l+"}"+d),a.has(w)&&this.fail("duplicate attribute: "+w+"."),a.add(w),f.uri=l,o[h]=f}this.attribList=[]}},n.processAttribsPlain=function(){for(var t=this.attribList,n=this.tag.attributes,i=0;i<t.length;i++){var r=t[i],e=r.name,u=r.value;void 0!==n[e]&&this.fail("duplicate attribute: "+e+"."),n[e]=u}this.attribList=[]},n.openTag=function(){var t;this.processAttribs();var n=this.tags,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=b,this.name=""},n.openSelfClosingTag=function(){var t,n,i;this.processAttribs();var r=this.tags,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(i=r[r.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=b,this.name=""},n.closeTag=function(){var t=this.tags,n=this.name;if(this.state=b,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");for(var i=this.closeTagHandler,r=t.length;r-- >0;){var e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===r?this.closedRoot=!0:r<0&&(this.fail("unmatched closing tag: "+n+"."),this.text+="</"+n+">")},n.parseEntity=function(t){if("#"!==t[0]){var n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),"&"+t+";")}var i=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?i=l(t.slice(2),16):/^#[0-9]+$/.test(t)&&(i=l(t.slice(1),10)),this.isChar(i)?String.fromCodePoint(i):(this.fail("malformed character entity."),"&"+t+";")},Ar(t,[{key:"closed",get:function(){return this.Mn}},{key:"position",get:function(){return this.chunkPosition+this.i}},{key:"columnIndex",get:function(){return this.position-this.positionAtNewLine}}]),t}();t.SaxesParser=X})),Hr={};function Xr(t,n){return(Xr=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function zr(t,n){if("function"!=typeof n&&null!==n)throw new h("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&Xr(t,n)}!function(t,n){for(var i in n)A(t,i,{get:n[i],enumerable:!0})}(Hr,{ChromelessPlayer:function(){return dx},ErrorCategory:function(){return Xl},ErrorCode:function(){return Hl},Player:function(){return dx},cache:function(){return JG},createGlobals:function(){return Nz},features:function(){return wx},getCueMirrorMap:function(){return Rz},getGlobalId:function(){return Cz},getSdkEventBridge:function(){return Iz},playerSuiteVersion:function(){return gx},players:function(){return mx},registerContentProtectionIntegration:function(){return yx},utils:function(){return lx},version:function(){return _x}}),n.exports=(Dr=Hr,R(A({},"__esModule",{value:!0}),Dr)),yr(),zt(),yr(),zt(),yr(),zt(),kr(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),kr(),Or(),yr(),zt(),Or(),yr(),zt(),kr(),yr(),zt(),function(t){t.Fn="web",t.Un="android",t.Hn="android-tv",t.Xn="ios",t.zn="tvos",t.Vn="chromecast"}(Br||(Br={}));var Vr=u?u.userAgent:"",Wr=Vr.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),qr=Vr.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Gr=Vr.match(/Android ([0-9\.]+)/i),jr=Vr.match(/Windows NT ([0-9\.]+)/i),Yr=Vr.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Qr=Vr.match(/Firefox\/([0-9\.]+)/i),Zr=Vr.match(/OPR\/(\d+\.\d+)/i),Kr=Vr.match(/Tizen ([0-9\.]+)/i),Jr=Vr.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),$r=function(){function t(){this.Wn=Boolean("ontouchstart"in self||self.DocumentTouch&&r instanceof self.DocumentTouch||u&&u.msMaxTouchPoints),this.qn=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(Vr)||/(macintosh|mac(?=_powerpc)\s)/i.test(Vr),this.Gn=/Windows NT/i.test(Vr),this.jn=jr?w(jr[1]):0,this.Yn=/Android/i.test(Vr),this.Qn=Gr?w(Gr[1]):0,this.Zn=/windows phone (8|8\.1)/i.test(Vr),this.Kn=/iPhone/i.test(Vr),this.Jn=/iPad/i.test(Vr),this.$n=this.qn&&this.Wn&&!this.Jn,this.ni=/iPod/i.test(Vr),this.ri=/Mobile Safari/i.test(Vr),this.ei=/EOS\d*STB/i.test(Vr),this.ui=/APP\d*STB/i.test(Vr),this.oi=(this.Kn||this.Jn||this.$n||this.ni)&&!this.Zn,this.ai=Jr?w(Jr[2]):0,this.ci=this.Zn||this.oi||this.Yn||this.ri,this.di=/CriOS/i.test(Vr),this.wi=Boolean(self.chrome&&/google/i.test(u.vendor))||this.di,this._i=this.wi&&/Edg\//i.test(u.userAgent),this.gi=qr?l(qr[1],10):0,this.Ai=Boolean(self.chrome||/Chrome/i.test(Vr)||/CriOS/i.test(Vr)),this.Ti=Wr?l(Wr[1],10):0,this.Si=/SMART-TV.*Tizen/i.test(Vr),this.Ei=Kr?w(Kr[1]):0,this.Ii=/webos|web0s/i.test(Vr),this.Ri=/VIZIO/i.test(Vr),this.Ci=/Edge\/\d+/i.test(Vr),this.Ni=/Trident/i.test(Vr),this.Di=this.Ni&&!self.ActiveXObject&&"ActiveXObject"in self,this.Pi=/Vivaldi/i.test(Vr),this.Bi=/Firefox/i.test(Vr)&&!/Seamonkey/i.test(Vr),this.Oi=Qr?w(Qr[1]):0,this.xi=/Safari/i.test(Vr)&&!/Chrome/i.test(Vr)&&!this.Zn&&!this.Si,this.Li=Yr?w(Yr[2]):0,this.Mi=Boolean(Zr),this.Fi=Zr?w(Zr[1]):0,this.Ui=/CrKey/.test(Vr),this.Hi=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv|vizio)\b/i.test(Vr),this.Xi="ios"===Br.Hn,this.zi="ios"===Br.Un,this.Vi=this.zi||this.Xi,this.Wi="ios"===Br.Xn,this.qi="ios"===Br.zn,this.Gi="ios"===Br.Vn}return Ar(t,[{key:"ji",get:function(){return this.Wn}},{key:"Yi",get:function(){return this.qn}},{key:"Qi",get:function(){return this.Gn}},{key:"Zi",get:function(){return this.jn}},{key:"Ki",get:function(){return this.Yn}},{key:"Ji",get:function(){return this.Qn}},{key:"$i",get:function(){return this.Zn}},{key:"ir",get:function(){return this.Kn}},{key:"rr",get:function(){return this.Jn}},{key:"er",get:function(){return this.$n}},{key:"dr",get:function(){return this.ni}},{key:"wr",get:function(){return this.oi}},{key:"_r",get:function(){return this.ai}},{key:"gr",get:function(){return this.ei||this.ui}},{key:"yr",get:function(){return this.ri}},{key:"pr",get:function(){return this.ci}},{key:"Ar",get:function(){return this.di}},{key:"Tr",get:function(){return this.wi}},{key:"Sr",get:function(){return this.Ti}},{key:"Er",get:function(){return this._i}},{key:"Ir",get:function(){return this.gi}},{key:"Rr",get:function(){return this.Si}},{key:"Cr",get:function(){return this.Ei}},{key:"Nr",get:function(){return this.Ii}},{key:"Dr",get:function(){return this.Ri}},{key:"Pr",get:function(){return this.Ci}},{key:"Br",get:function(){return this.Ni}},{key:"Or",get:function(){return this.Di}},{key:"Lr",get:function(){return this.Pi}},{key:"Mr",get:function(){return this.Bi}},{key:"Fr",get:function(){return this.Oi}},{key:"Ur",get:function(){return this.xi}},{key:"Hr",get:function(){return this.Li}},{key:"Xr",get:function(){return this.Mi}},{key:"zr",get:function(){return this.Fi}},{key:"Vr",get:function(){return this.Ui}},{key:"Wr",get:function(){return this.Hi}},{key:"qr",get:function(){return!(!this.Nr&&!this.Rr)&&this.Sr<=56}},{key:"Gr",get:function(){return this.Xi}},{key:"jr",get:function(){return this.zi}},{key:"Yr",get:function(){return this.Vi}},{key:"Qr",get:function(){return this.Wi}},{key:"Zr",get:function(){return this.qi}},{key:"Kr",get:function(){return this.Gi}},{key:"Jr",get:function(){return this.Ai}}]),t}();$r.$r=new $r;var te=$r.$r;yr(),zt();var ne={}.hasOwnProperty,ie={}.toString;function re(t){return null!=t}function ee(t){return void 0===t}var ue=Array.isArray||function(t){return"[object Array]"===ie.call(t)};function se(t){return oe(t)&&ne.call(t,"length")&&de(t.length)}function oe(t){return"object"==typeof t&&null!==t}function ae(t){return oe(t)&&t.constructor&&t.constructor===v}function ce(t){return"string"==typeof t}function fe(t){return"boolean"==typeof t}function he(t){return Boolean(t)&&"function"==typeof t.then}function ve(t){return"[object Date]"===ie.call(t)}function de(t){return"number"==typeof t}yr(),zt();var le=function(){},we=function(t){return t};function _e(t,n){var i=-1/0;return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var s=Pr.re();s-i>=n&&(t.apply(this,e),i=s)}}function ge(t,n){var i=0;return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var s=this;0!==i&&Pr.ue(i),i=Pr.oe((function(){i=0,t.apply(s,e)}),n)}}function me(t){var n;return function(){return void 0!==t&&(n=t(),t=void 0),n}}var ye=!(te.Br&&!te.Or),pe=self.console;function Ae(t){if(oe(t))try{return JSON.stringify(t)}catch(t){}return t}function ke(t){return t.map(Ae).join(" ")}function be(t){var n=pe&&pe[t];return n?n.bind&&ye?n.bind(pe):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];pe[t](ke(i))}:void 0}var Te=be("log")||le,Se=be("warn")||Te.bind(void 0,"WARNING:"),Ee=be("error")||Te.bind(void 0,"ERROR:"),Ie=function(){var t=pe&&pe.assert;return t?t.bind&&ye?t.bind(pe):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];pe.assert(t,ke(i))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t||Ee.apply(void 0,["Assertion failed:"].concat(Nr(i)))}}();yr(),zt(),yr(),zt(),yr(),zt();var Re=null;try{Re=new WebAssembly.Instance(new WebAssembly.Module(new g([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(Dr){}function Ce(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Ne(t){return!0===(t&&t.fe)}function De(t){var n=d.clz32(t&-t);return t?31-n:n}Ce.prototype.fe,v.defineProperty(Ce.prototype,"fe",{value:!0}),Ce.isLong=Ne;var Pe={},Be={};function Oe(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=Be[t])?r:(i=Le(t,0,!0),e&&(Be[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=Pe[t])?r:(i=Le(t,t<0?-1:0,!1),e&&(Pe[t]=i),i)}function xe(t,n){if(_(t))return n?qe:We;if(n){if(t<0)return qe;if(t>=Xe)return Ze}else{if(t<=-ze)return Ke;if(t+1>=ze)return Qe}return t<0?xe(-t,n).neg():Le(t%He|0,t/He|0,n)}function Le(t,n,i){return new Ce(t,n,i)}Ce.fromInt=Oe,Ce.fromNumber=xe,Ce.fromBits=Le;var Me=d.pow;function Fe(t,n,i){if(0===t.length)throw f("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?qe:We;if((i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw f("interior hyphen");if(0===r)return Fe(t.substring(1),n,i).neg();for(var e=xe(Me(i,8)),u=We,s=0;s<t.length;s+=8){var o=d.min(8,t.length-s),a=l(t.substring(s,s+o),i);if(o<8){var c=xe(Me(i,o));u=u.mul(c).add(xe(a))}else u=(u=u.mul(e)).add(xe(a))}return u.unsigned=n,u}function Ue(t,n){return"number"==typeof t?xe(t,n):"string"==typeof t?Fe(t,n):Le(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Ce.fromString=Fe,Ce.fromValue=Ue;var He=4294967296,Xe=He*He,ze=Xe/2,Ve=Oe(1<<24),We=Oe(0);Ce.ZERO=We;var qe=Oe(0,!0);Ce.UZERO=qe;var Ge=Oe(1);Ce.ONE=Ge;var je=Oe(1,!0);Ce.UONE=je;var Ye=Oe(-1);Ce.NEG_ONE=Ye;var Qe=Le(-1,2147483647,!1);Ce.MAX_VALUE=Qe;var Ze=Le(-1,-1,!0);Ce.MAX_UNSIGNED_VALUE=Ze;var Ke=Le(0,-2147483648,!1);Ce.MIN_VALUE=Ke;var Je=Ce.prototype;Je.toInt=function(){return this.unsigned?this.low>>>0:this.low},Je.toNumber=function(){return this.unsigned?(this.high>>>0)*He+(this.low>>>0):this.high*He+(this.low>>>0)},Je.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ke)){var n=xe(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=xe(Me(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),a=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}},Je.getHighBits=function(){return this.high},Je.getHighBitsUnsigned=function(){return this.high>>>0},Je.getLowBits=function(){return this.low},Je.getLowBitsUnsigned=function(){return this.low>>>0},Je.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ke)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Je.isZero=function(){return 0===this.high&&0===this.low},Je.eqz=Je.isZero,Je.isNegative=function(){return!this.unsigned&&this.high<0},Je.isPositive=function(){return this.unsigned||this.high>=0},Je.isOdd=function(){return 1==(1&this.low)},Je.isEven=function(){return 0==(1&this.low)},Je.equals=function(t){return Ne(t)||(t=Ue(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Je.eq=Je.equals,Je.notEquals=function(t){return!this.eq(t)},Je.neq=Je.notEquals,Je.ne=Je.notEquals,Je.lessThan=function(t){return this.comp(t)<0},Je.lt=Je.lessThan,Je.lessThanOrEqual=function(t){return this.comp(t)<=0},Je.lte=Je.lessThanOrEqual,Je.le=Je.lessThanOrEqual,Je.greaterThan=function(t){return this.comp(t)>0},Je.gt=Je.greaterThan,Je.greaterThanOrEqual=function(t){return this.comp(t)>=0},Je.gte=Je.greaterThanOrEqual,Je.ge=Je.greaterThanOrEqual,Je.compare=function(t){if(Ne(t)||(t=Ue(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Je.comp=Je.compare,Je.negate=function(){return!this.unsigned&&this.eq(Ke)?Ke:this.not().add(Ge)},Je.neg=Je.negate,Je.add=function(t){Ne(t)||(t=Ue(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=0,c=0,f=0,h=0;return f+=(h+=e+(65535&t.low))>>>16,c+=(f+=r+o)>>>16,a+=(c+=i+s)>>>16,a+=n+u,Le((f&=65535)<<16|(h&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Je.subtract=function(t){return Ne(t)||(t=Ue(t)),this.add(t.neg())},Je.sub=Je.subtract,Je.multiply=function(t){if(this.isZero())return this;if(Ne(t)||(t=Ue(t)),Re)return Le(Re.mul(this.low,this.high,t.low,t.high),Re.get_high(),this.unsigned);if(t.isZero())return this.unsigned?qe:We;if(this.eq(Ke))return t.isOdd()?Ke:We;if(t.eq(Ke))return this.isOdd()?Ke:We;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Ve)&&t.lt(Ve))return xe(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=65535&t.low,c=0,f=0,h=0,v=0;return h+=(v+=e*a)>>>16,f+=(h+=r*a)>>>16,h&=65535,f+=(h+=e*o)>>>16,c+=(f+=i*a)>>>16,f&=65535,c+=(f+=r*o)>>>16,f&=65535,c+=(f+=e*s)>>>16,c+=n*a+i*o+r*s+e*u,Le((h&=65535)<<16|(v&=65535),(c&=65535)<<16|(f&=65535),this.unsigned)},Je.mul=Je.multiply,Je.divide=function(t){if(Ne(t)||(t=Ue(t)),t.isZero())throw f("division by zero");var n,i,r;if(Re)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Le((this.unsigned?Re.div_u:Re.div_s)(this.low,this.high,t.low,t.high),Re.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?qe:We;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return qe;if(t.gt(this.shru(1)))return je;r=qe}else{if(this.eq(Ke))return t.eq(Ge)||t.eq(Ye)?Ke:t.eq(Ke)?Ge:(n=this.shr(1).div(t).shl(1)).eq(We)?t.isNegative()?Ge:Ye:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Ke))return this.unsigned?qe:We;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=We}for(i=this;i.gte(t);){n=d.max(1,d.floor(i.toNumber()/t.toNumber()));for(var e=d.ceil(d.log(n)/d.LN2),u=e<=48?1:Me(2,e-48),s=xe(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=xe(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=Ge),r=r.add(s),i=i.sub(o)}return r},Je.div=Je.divide,Je.modulo=function(t){return Ne(t)||(t=Ue(t)),Re?Le((this.unsigned?Re.rem_u:Re.rem_s)(this.low,this.high,t.low,t.high),Re.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Je.mod=Je.modulo,Je.rem=Je.modulo,Je.not=function(){return Le(~this.low,~this.high,this.unsigned)},Je.countLeadingZeros=function(){return this.high?d.clz32(this.high):d.clz32(this.low)+32},Je.clz=Je.countLeadingZeros,Je.countTrailingZeros=function(){return this.low?De(this.low):De(this.high)+32},Je.ctz=Je.countTrailingZeros,Je.and=function(t){return Ne(t)||(t=Ue(t)),Le(this.low&t.low,this.high&t.high,this.unsigned)},Je.or=function(t){return Ne(t)||(t=Ue(t)),Le(this.low|t.low,this.high|t.high,this.unsigned)},Je.xor=function(t){return Ne(t)||(t=Ue(t)),Le(this.low^t.low,this.high^t.high,this.unsigned)},Je.shiftLeft=function(t){return Ne(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Le(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Le(0,this.low<<t-32,this.unsigned)},Je.shl=Je.shiftLeft,Je.shiftRight=function(t){return Ne(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Le(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Le(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Je.shr=Je.shiftRight,Je.shiftRightUnsigned=function(t){return Ne(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Le(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):Le(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Je.shru=Je.shiftRightUnsigned,Je.shr_u=Je.shiftRightUnsigned,Je.rotateLeft=function(t){var n;return Ne(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Le(this.high,this.low,this.unsigned):t<32?(n=32-t,Le(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),Le(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Je.rotl=Je.rotateLeft,Je.rotateRight=function(t){var n;return Ne(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Le(this.high,this.low,this.unsigned):t<32?(n=32-t,Le(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),Le(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Je.rotr=Je.rotateRight,Je.toSigned=function(){return this.unsigned?Le(this.low,this.high,!1):this},Je.toUnsigned=function(){return this.unsigned?this:Le(this.low,this.high,!0)},Je.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Je.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Je.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Ce.fromBytes=function(t,n,i){return i?Ce.fromBytesLE(t,n):Ce.fromBytesBE(t,n)},Ce.fromBytesLE=function(t,n){return new Ce(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Ce.fromBytesBE=function(t,n){return new Ce(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var $e=Ce;function tu(t,n){return t.lessThan(n)?t:n}yr(),zt();var nu=9007199254740991,iu=d.pow(2,-52);function ru(t,n,i){return d.min(d.max(t,n),i)}function eu(t,n,i){return t===n||d.abs(t-n)<=i}function uu(t){return t!=t}function su(t,n){return t===n||uu(t)&&uu(n)}function ou(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function au(t){return!_(t.getTime())}function cu(){return Date.now()||(new Date).getTime()}function fu(t){return t/1e3}function hu(t){return 1e3*t}var vu=1/6,du=$e.fromNumber(nu);function lu(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(du))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}function wu(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),v.defineProperty(t,r.key,r)}}function _u(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){gu(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&gu(i,null,t.length,t),t}function gu(t,n,i,r){var e,u,s,o,a,c=t.length,f=0,h=2*i;for(e=0;e<c;e+=h)for(s=(u=e+i)+i,u>c&&(u=c),s>c&&(s=c),o=e,a=u;;)if(o<u&&a<s)n(t[o],t[a])<=0?r[f++]=t[o++]:r[f++]=t[a++];else if(o<u)r[f++]=t[o++];else{if(!(a<s))break;r[f++]=t[a++]}}yr(),zt();var mu=/[a-zA-Z]/,yu=/[0-9]/,pu=/[0-9a-fA-F]/,Au=/^0x/i,ku=/^[0-9]+$/,bu=/^[0-9a-fA-F]+$/,Tu=/^[0-7]+$/,Su=v.prototype.toString,Eu=Array.isArray||function(t){return"[object Array]"===Su.call(t)},Iu="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Ru(t){return Eu(t)?t:Array.from(t)}function Cu(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function Nu(t){return t>=65&&t<=90}function Du(t){return Nu(t)||function(t){return t>=97&&t<=122}(t)}function Pu(t){return t>=48&&t<=57}function Bu(t){return Pu(t)||Du(t)}function Ou(t){return Pu(t)||t>=65&&t<=70||t>=97&&t<=102}function xu(t){return Nu(t)?t+32:t}function Lu(t){return Pu(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Mu(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Fu=d.min,Uu=String.fromCharCode;function Hu(t){for(var n=t.length,i=[],r=0;r<n;r+=16384){var e=Fu(r+16384,n);i.push(Uu.apply(null,t.slice(r,e)))}return i.join("")}var Xu=2147483647,zu=/[^\0-\x7E]/,Vu=/[\x2E\u3002\uFF0E\uFF61]/g,Wu={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},qu=d.floor,Gu=String.fromCharCode;function ju(t){throw new RangeError(Wu[t])}function Yu(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var Qu,Zu,Ku,Ju=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},$u=function(t,n,i){var r=0;for(t=i?qu(t/700):t>>1,t+=qu(t/n);t>455;r+=36)t=qu(t/35);return qu(r+36*t/(t+38))},ts=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(Vu,".")).split("."),n).join(".");return r+e}(t,(function(t){return zu.test(t)?"xn--"+function(t){for(var n=[],i=(t=Yu(t)).length,r=128,e=0,u=72,s=0,o=t;s<o.length;s++){var a=o[s];a<128&&n.push(Gu(a))}var c=n.length,f=c;for(c&&n.push("-");f<i;){for(var h=Xu,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<h&&(h=l)}var w=f+1;h-r>qu((Xu-e)/w)&&ju("overflow"),e+=(h-r)*w,r=h;for(var _=0,g=t;_<g.length;_++){var m=g[_];if(m<r&&++e>Xu&&ju("overflow"),m==r){for(var y=e,p=36;;p+=36){var A=p<=u?1:p>=u+26?26:p-u;if(y<A)break;var k=y-A,b=36-A;n.push(Gu(Ju(A+k%b,0))),y=qu(k/b)}n.push(Gu(Ju(y,0))),u=$u(e,w,f==c),e=0,++f}}++e,++r}return n.join("")}(t):t}))};function ns(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Hu(n)}function is(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function rs(t,n){return t>>n&63|128}function es(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(is(t),n.push(t>>12&15|224),n.push(rs(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(rs(t,12)),n.push(rs(t,6))),n.push(63&t|128)):n.push(t)}function us(t){for(var n=[],i=0;i<t.length;i++){es(t[i],n)}return n}function ss(){if(Ku>=Zu)throw new f("Invalid byte index");var t=255&Qu[Ku];if(Ku++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function os(){var t,n;if(Ku>Zu)throw new f("Invalid byte index");if(Ku===Zu)return!1;if(t=255&Qu[Ku],Ku++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ss())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ss()<<6|ss())>=2048)return is(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ss()<<12|ss()<<6|ss())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function as(t){return[37,Mu(t>>4),Mu(15&t)]}function cs(t){return function(t){return t>=0&&t<=31}(t)||t>126}function fs(t){return cs(t)||32===t||34===t||60===t||62===t||96===t}function hs(t){return fs(t)||35===t||63===t||123===t||125===t}function vs(t){return hs(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function ds(t){return t<33||t>126||34===t||35===t||60===t||62===t}function ls(t){return ds(t)||39===t}function ws(t,n){if(!n(t))return[t];for(var i=us([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,as(u))}return r}function _s(t,n){for(var i=[],r=0,e=Yu(t);r<e.length;r++){var u=e[r];i.push.apply(i,ws(u,n))}return ns(i)}function gs(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&Ou(t[r+1])&&Ou(t[r+2])){var u=Lu(t[r+1])<<4|Lu(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(us(t))}function ms(t){return ns(function(t){Qu=t.slice(),Zu=Qu.length,Ku=0;for(var n,i=[];!1!==(n=os());)i.push(n);return i}(gs(Yu(t))))}function ys(t){var n=t.length,i=[0,0,0,0,0,0,0,0],r=0,e=null,u=0;if(u<n&&":"===t[u]){if(!(u+1<n&&":"===t[u+1]))throw new h;u+=2,e=r+=1}for(;u<n;){if(8===r)throw new h("Too many groups");if(":"!==t[u]){for(var s=0,o=0;o<4&&u<n&&pu.test(t[u]);)s=s<<4|l(t[u],16),u+=1,o+=1;if("."===t[u]){if(0===o)throw new h;if(u-=o,r>6)throw new h;for(var a=0;u<n;){var c=null;if(a>0){if(!("."===t[u]&&a<4))throw new h;u+=1}if(!yu.test(t[u]))throw new h;for(;u<n&&yu.test(t[u]);){var f=l(t[u],10);if(null===c)c=f;else{if(0===c)throw new h;if((c=10*c+f)>255)throw new h}u+=1}i[r]=i[r]<<8|c,2!==(a+=1)&&4!==a||(r+=1)}if(4!==a)throw new h;break}if(":"===t[u]){if((u+=1)===n)throw new h}else if(u<n)throw new h;i[r]=s,r+=1}else{if(null!==e)throw new h("Too many :: groups");u+=1,e=r+=1}}if(null!==e){var v=r-e;for(r=7;0!==r&&v>0;)Cu(i,r,e+v-1),r-=1,v-=1}else if(8!==r)throw new h;return i}function ps(t){var n=10,i=ku;return Au.test(t)?(t=t.slice(2),n=16,i=bu):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Tu),""===t?0:i.test(t)?l(t,n):void 0}var As={we:4},ks=/[\0\t\n\r #%/:?@\[\\\]]/,bs=/[\0\t\n\r #/:?@\[\\\]]/;function Ts(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new h("Invalid IPv6 address");return{we:2,_e:ys(t.slice(1,-1))}}if(!n)return function(t){if(bs.test(t))throw new h("Invalid code point in opaque host");var n=_s(t,cs);return""===n?As:{we:3,j:n}}(t);var i=function(t){return function(t){return ts(t.toLowerCase())}(t)}(ms(t));if(ks.test(i))throw new h("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=ps(e);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new h;if(i[i.length-1]>=d.pow(256,5-i.length))throw new h;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*d.pow(256,3-a);return o}}(i);return void 0!==r?{we:1,_e:r}:""===i?As:{we:0,me:i}}function Ss(t){switch(t.we){case 0:return t.me;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t._e);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t._e)+"]";case 3:return t.j;case 4:return""}}var Es=/\+/g;function Is(t){return 42===t||45===t||46===t||95===t||Bu(t)}function Rs(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(Es," "),o=o.replace(Es," ");var a=ms(s),c=ms(o);i.push([a,c])}}return i}function Cs(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=Ns(us(Yu(r[0])))+"="+Ns(us(Yu(r[1])))}return n}function Ns(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];32===r?n.push(43):Is(r)?n.push(r):n.push.apply(n,as(r))}return Hu(n)}var Ds=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Ps(t){var n=""+t,i=Ds.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(Os(u))if(xs(u)||e===i-1)r.push(Bs);else{var s=t.charCodeAt(e+1);xs(s)?(r.push(u,s),e++):r.push(Bs)}else r.push(u)}return t.slice(0,n)+Hu(r)}(n,i.index):n}var Bs=65533,Os=function(t){return 55296==(63488&t)},xs=function(t){return 0!=(1024&t)};function Ls(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Ms(t){t.ye.length=0}function Fs(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.ye,Rs(n))}function Us(t){if(t.pe){var n=Cs(t.ye);""===n&&(n=null),t.pe.pe.Ae=n}}var Hs=function(){function t(t){if(void 0===t&&(t=void 0),this.pe=null,null==t)this.ye=[];else if("object"==typeof t||"function"==typeof t)if(function(t){return t instanceof Hs&&!!Eu(t.ye)&&(!Iu||t[Symbol.iterator]===Xs)}(t))this.ye=t.ye.slice();else if(function(t){return null!=t&&(!!Eu(t)||!!Iu&&"function"==typeof t[Symbol.iterator])}(t)){this.ye=[];for(var n=0,i=Ru(t);n<i.length;n++){var r=Ru(i[n]);if(2!==r.length)throw new h("Invalid name-value pair");this.ye.push([Ps(r[0]),Ps(r[1])])}}else for(var e in this.ye=[],t)v.prototype.hasOwnProperty.call(t,e)&&this.ye.push([Ps(e),Ps(t[e])]);else(t=Ps(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.ye=Rs(t)}var n=t.prototype;return n.append=function(t,n){t=Ps(t),n=Ps(n),this.ye.push([t,n]),Us(this)},n.delete=function(t){t=Ps(t);for(var n=this.ye,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Us(this)},n.get=function(t){t=Ps(t);for(var n=this.ye,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=Ps(t);for(var n=this.ye,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=Ps(t);for(var n=this.ye,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Ps(t),n=Ps(n);for(var i=this.ye,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),Us(this)},n.sort=function(){_u(this.ye,Ls),Us(this)},n.toString=function(){return Cs(this.ye)},n.entries=function(){return new qs(this.ye,zs)},n.keys=function(){return new qs(this.ye,Vs)},n.values=function(){return new qs(this.ye,Ws)},n.forEach=function(t){var n=this;this.ye.forEach((function(i){return t(i[1],i[0],n)}))},t}(),Xs=Hs.prototype.entries;Iu&&(Hs.prototype[Symbol.iterator]=Xs);var zs=function(t){return[t[0],t[1]]},Vs=function(t){return t[0]},Ws=function(t){return t[1]},qs=function(){function t(t,n){this.ke=0,this.ye=t,this.Te=n}return t.prototype.next=function(){return this.ke<this.ye.length?{done:!1,value:this.Te(this.ye[this.ke++])}:{done:!0,value:void 0}},t}(),Gs="null";var js=v.create(null);js.ftp=21,js.file=0,js.gopher=70,js.http=80,js.https=443,js.ws=80,js.wss=443;var Ys=/^(?:\.|%2e)$/i,Qs=/^(?:\.|%2e){2}$/i;function Zs(t){return Ys.test(t)}function Ks(t){return Qs.test(t)}function Js(t){return void 0!==js[t]}function $s(t){return Js(t.Se)}function to(t){return""!==t.Ee||""!==t.Ie}function no(t){var n=t.length;if(!(n>=2))return!1;if(!ro(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function io(t){return 2===t.length&&mu.test(t[0])&&(":"===t[1]||"|"===t[1])}function ro(t){return 2===t.length&&io(Hu(t))}function eo(t){return io(t)&&":"===t[1]}function uo(t){var n=t.Re;0!==n.length&&("file"===t.Se&&1===n.length&&eo(n[0])||n.pop())}function so(t){return null===t.Ce||As===t.Ce||t.Ne||"file"===t.Se}var oo=-1,ao=/\t|\n|\r/g,co=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function fo(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new vo,t=t.replace(co,""));var e=null!==r?r:0;n=n||null;for(var u=[],s=!1,o=!1,a=!1,c=Yu(t=t.replace(ao,"")),f=c.length,v=0;v<=f;){var d=v<f?c[v]:oo;switch(e){case 0:if(!Du(d)){if(null===r){u.length=0,e=2;continue}throw new h("Invalid scheme")}u.push(xu(d)),e=1;break;case 1:if(Bu(d)||43===d||45===d||46===d)u.push(xu(d));else{if(58!==d){if(null===r){u.length=0,e=2,v=0;continue}throw new h("Invalid scheme")}var w=ns(u);if(null!==r){if(Js(i.Se)&&!Js(w))return;if(!Js(i.Se)&&Js(w))return;if((to(i)||null!==i.De)&&"file"===w)return;if("file"===i.Se&&(i.Ce===As||null===i.Ce))return}if(i.Se=w,null!==r)return void($s(i)&&i.De===js[i.Se]&&(i.De=null));u.length=0,"file"===i.Se?e=13:$s(i)&&n&&n.Se===i.Se?e=3:$s(i)?e=7:47===c[v+1]?(e=4,v+=1):(i.Ne=!0,i.Re.push(""),e=18)}break;case 2:if(!n||n.Ne&&35!==d)throw new h("Invalid scheme");n.Ne&&35===d?(i.Se=n.Se,i.Re=n.Re.slice(),i.Ae=n.Ae,i.Pe="",i.Ne=!0,e=20):"file"!==n.Se?(e=5,v-=1):(e=13,v-=1);break;case 3:47===d&&47===c[v+1]?e=8:(e=5,v-=1);break;case 4:47===d?e=9:(e=17,v-=1);break;case 5:i.Se=n.Se,oo===d?(i.Ee=n.Ee,i.Ie=n.Ie,i.Ce=n.Ce,i.De=n.De,i.Re=n.Re.slice(),i.Ae=n.Ae):47===d?e=6:63===d?(i.Ee=n.Ee,i.Ie=n.Ie,i.Ce=n.Ce,i.De=n.De,i.Re=n.Re.slice(),i.Ae="",e=19):35===d?(i.Ee=n.Ee,i.Ie=n.Ie,i.Ce=n.Ce,i.De=n.De,i.Re=n.Re.slice(),i.Ae=n.Ae,i.Pe="",e=20):92===d&&$s(i)?e=6:(i.Ee=n.Ee,i.Ie=n.Ie,i.Ce=n.Ce,i.De=n.De,i.Re=n.Re.slice(),i.Re.pop(),e=17,v-=1);break;case 6:!$s(i)||47!==d&&92!==d?47===d?e=9:(i.Ee=n.Ee,i.Ie=n.Ie,i.Ce=n.Ce,i.De=n.De,e=17,v-=1):e=8;break;case 7:if(47!==d||47!==c[v+1]){e=8;continue}e=8,v+=1;break;case 8:47!==d&&92!==d&&(e=9,v-=1);break;case 9:if(64===d){s&&u.unshift(37,52,48),s=!0;for(var _=0;_<u.length;_++){var g=u[_];if(58!==g||a){var m=ns(ws(g,vs));a?i.Ie+=m:i.Ee+=m}else a=!0}u.length=0}else if(oo===d||47===d||63===d||35===d||$s(i)&&92===d){if(s&&0===u.length)throw new h("Invalid host");v-=u.length+1,u.length=0,e=10}else u.push(d);break;case 10:case 11:if(null!==r&&"file"===i.Se)v-=1,e=15;else if(58!==d||o)if(oo===d||47===d||63===d||35===d||$s(i)&&92===d){if(v-=1,$s(i)&&0===u.length)throw new h("Invalid host");if(null!==r&&0===u.length&&(to(i)||null!==i.De))return;var y=Ts(ns(u),$s(i));if(i.Ce=y,u.length=0,e=16,null!==r)return}else 91===d?o=!0:93===d&&(o=!1),u.push(d);else{if(0===u.length)throw new h("Invalid host");var p=Ts(ns(u),$s(i));if(i.Ce=p,u.length=0,e=12,11===r)return}break;case 12:if(Pu(d))u.push(d);else{if(!(oo===d||47===d||63===d||35===d||$s(i)&&92===d||null!==r))throw new h("Invalid port");if(0!==u.length){var A=l(ns(u),10);if(A>65535)throw new h("Invalid port");i.De=A===js[i.Se]?null:A,u.length=0}if(null!==r)return;e=16,v-=1}break;case 13:i.Se="file",47===d||92===d?e=14:n&&"file"===n.Se?oo===d?(i.Ce=n.Ce,i.Re=n.Re.slice(),i.Ae=n.Ae):63===d?(i.Ce=n.Ce,i.Re=n.Re.slice(),i.Ae="",e=19):35===d?(i.Ce=n.Ce,i.Re=n.Re.slice(),i.Ae=n.Ae,i.Pe="",e=20):(no(c.slice(v))||(i.Ce=n.Ce,i.Re=n.Re.slice(),uo(i)),e=17,v-=1):(e=17,v-=1);break;case 14:47===d||92===d?e=15:(n&&"file"===n.Se&&!no(c.slice(v))&&(eo(n.Re[0])?i.Re.push(n.Re[0]):i.Ce=n.Ce),e=17,v-=1);break;case 15:if(oo===d||47===d||92===d||63===d||35===d)if(v-=1,null===r&&ro(u))e=17;else if(0===u.length){if(i.Ce=As,null!==r)return;e=16}else{var k=Ts(ns(u),$s(i));if(0===k.we&&"localhost"===k.me&&(k=As),i.Ce=k,null!==r)return;u.length=0,e=16}else u.push(d);break;case 16:$s(i)?(e=17,47!==d&&92!==d&&(v-=1)):null===r&&63===d?(i.Ae="",e=19):null===r&&35===d?(i.Pe="",e=20):oo!==d&&(e=17,47!==d&&(v-=1));break;case 17:if(oo===d||47===d||$s(i)&&92===d||null===r&&(63===d||35===d)){var b=ns(u);if(Ks(b)?(uo(i),47===d||$s(i)&&92===d||i.Re.push("")):!Zs(b)||47===d||$s(i)&&92===d?Zs(b)||("file"===i.Se&&0===i.Re.length&&ro(u)&&(As!==i.Ce&&null!==i.Ce&&(i.Ce=As),u[1]=58,b=ns(u)),i.Re.push(b)):i.Re.push(""),u.length=0,"file"===i.Se&&(oo===d||63===d||35===d))for(;i.Re.length>1&&""===i.Re[0];)i.Re.shift();63===d?(i.Ae="",e=19):35===d&&(i.Pe="",e=20)}else u.push.apply(u,ws(d,hs));break;case 18:63===d?(i.Ae="",e=19):35===d?(i.Pe="",e=20):oo!==d&&(i.Re[0]+=ns(ws(d,cs)));break;case 19:null===r&&35===d?(i.Pe="",e=20):oo!==d&&(i.Ae+=ns(ws(d,$s(i)?ls:ds)));break;case 20:oo===d||0===d||(i.Pe+=ns(ws(d,fs)))}v++}return i}function ho(t,n,i,r){try{fo(t,n,i,r)}catch(t){}}var vo=function(){this.Se="",this.Ee="",this.Ie="",this.Ce=null,this.De=null,this.Re=[],this.Ae=null,this.Pe=null,this.Ne=!1};function lo(t){switch(t.Se){case"blob":var n;try{n=fo(t.Re[0],null)}catch(t){return Gs}return lo(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return function(t,n,i){return t+"://"+Ss(n)+(null===i?"":":"+i)}(t.Se,t.Ce,t.De);case"file":default:return Gs}}var wo,_o,go,mo,yo,po,Ao,ko=function(){function t(t,n){var i,r=null;if(null!=n)if(function(t){return null!=t&&t instanceof ko&&"object"==typeof t.pe}(n))r=n.pe;else try{r=fo(String(n),null)}catch(t){throw new h("Invalid base URL: "+t.message)}try{i=fo(String(t),r)}catch(t){throw new h("Invalid URL: "+t.message)}var e=i.Ae;this.pe=i,this.Ae=function(t){var n=new Hs;return null!==t&&Fs(n,t),n}(e),this.Ae.pe=this}var n=t.prototype;return n.toString=function(){return this.href},n.toJSON=function(){return this.href},function(t,n,i){n&&wu(t.prototype,n),i&&wu(t,i)}(t,[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Se+":";if(null!==t.Ce?(i+="//",to(t)&&(i+=t.Ee,""!==t.Ie&&(i+=":"+t.Ie),i+="@"),i+=Ss(t.Ce),null!==t.De&&(i+=":"+t.De)):null===t.Ce&&"file"===t.Se&&(i+="//"),t.Ne)i+=t.Re[0];else for(var r=0,e=t.Re;r<e.length;r++)i+="/"+e[r];return null!==t.Ae&&(i+="?"+t.Ae),n||null===t.Pe||(i+="#"+t.Pe),i}(this.pe)},set:function(t){var n;try{n=fo(String(t),null)}catch(t){throw new h("Invalid URL: "+t.message)}this.pe=n,Ms(this.Ae);var i=this.pe.Ae;null!==i&&Fs(this.Ae,i)}},{key:"origin",get:function(){return lo(this.pe)}},{key:"protocol",get:function(){return this.pe.Se+":"},set:function(t){ho(t+":",null,this.pe,0)}},{key:"username",get:function(){return this.pe.Ee},set:function(t){so(this.pe)||(this.pe.Ee=_s(t,vs))}},{key:"password",get:function(){return this.pe.Ie},set:function(t){so(this.pe)||(this.pe.Ie=_s(t,vs))}},{key:"host",get:function(){var t=this.pe,n=t.Ce;if(null===n)return"";var i=t.De,r=Ss(n);return null!==i&&(r+=":"+i),r},set:function(t){this.pe.Ne||ho(t,null,this.pe,10)}},{key:"hostname",get:function(){var t=this.pe.Ce;return null===t?"":Ss(t)},set:function(t){this.pe.Ne||ho(t,null,this.pe,11)}},{key:"port",get:function(){var t=this.pe.De;return null===t?"":""+t},set:function(t){so(this.pe)||(""===t?this.pe.De=null:ho(t,null,this.pe,12))}},{key:"pathname",get:function(){var t=this.pe.Re;return this.pe.Ne?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.pe.Ne||(this.pe.Re.length=0,ho(t,null,this.pe,16))}},{key:"search",get:function(){var t=this.pe.Ae;return null===t||""===t?"":"?"+t},set:function(t){t=Ps(t);var n=this.pe;if(""===t)return n.Ae=null,void Ms(this.Ae);"?"===t[0]&&(t=t.slice(1)),n.Ae="",ho(t,null,n,19),Fs(this.Ae,t)}},{key:"searchParams",get:function(){return this.Ae}},{key:"hash",get:function(){var t=this.pe.Pe;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.pe.Pe="",ho(t,null,this.pe,20)):this.pe.Pe=null}}]),t}();function bo(t){return t.document&&t.document.baseURI||t.location.href||""}function To(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function So(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function Eo(t,n){te.Rr&&te.Cr<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function Io(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function Ro(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function Co(t){t.removeAttribute("title")}function No(t){return"video"===function(t){return t&&t.nodeName&&t.nodeName.toLowerCase()||""}(t)}function Do(t){t.src&&(t.removeAttribute("src"),t.load())}function Po(){return void 0!==r?r.createElement("video"):void 0}function Bo(){return Ao||(Ao=Po()),Ao}yr(),zt(),yr(),zt(),yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),yr(),zt();var Oo=!!("ontouchstart"in self||self.DocumentTouch&&r instanceof self.DocumentTouch)||!(!u||!u.msMaxTouchPoints),xo=Bo(),Lo=!(!xo||!xo.webkitShowPlaybackTargetPicker),Mo=function(){function t(){this.Be=void 0,this.Oe=!1,this.ji=Oo,this.pr=!1,this.xe=!0}var n=t.prototype;return n.Le=function(){return 0},n.Me=function(t,n){return!0},n.Fe=function(t){return t>=2*vu},Ar(t,[{key:"Ue",get:function(){return void 0===this.Be&&(this.Be=this.Le()),this.Be}},{key:"He",get:function(){return!te.Wr}},{key:"Xe",get:function(){if(i.screen)return{width:i.screen.width,height:i.screen.height}}},{key:"ze",get:function(){return i.devicePixelRatio||1}},{key:"Ve",get:function(){return Lo}},{key:"We",get:function(){return!1}},{key:"qe",get:function(){return!0}},{key:"Ge",get:function(){return te.Ur||te.wr}},{key:"je",get:function(){return!0}},{key:"Ye",get:function(){return!0}},{key:"Qe",get:function(){return!1}},{key:"Ze",get:function(){}},{key:"Ke",get:function(){return!0}},{key:"Je",get:function(){return!1}},{key:"$e",get:function(){return!1}},{key:"tu",get:function(){return te.Dr}}]),t}();yr(),zt();var Fo=function(){var t=Po();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(te.er)return!1;var t=Po();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Uo=function(t){function n(n){var i;return(i=t.call(this)||this).nu=n,i.nu&&(i.Oe=i.nu.Oe,i.ji=i.nu.ji,i.xe=Fo&&i.nu.xe),i}zr(n,t);var i=n.prototype;return i.Le=function(){return this.nu?this.nu.Ue:t.prototype.Le.call(this)},i.Me=function(n,i){return this.nu?this.nu.Me(n,i):t.prototype.Me.call(this,n,i)},i.Fe=function(n){return this.nu?this.nu.Fe(n):t.prototype.Fe.call(this,n)},Ar(n,[{key:"Ze",get:function(){var t;return null==(t=this.nu)?void 0:t.Ze}},{key:"Ke",get:function(){var t,n;return null==(n=null==(t=this.nu)?void 0:t.Ke)||n}}]),n}(Mo),Ho=function(t){function n(n){var i;return(i=t.call(this,n)||this).Oe=!0,i.pr=!0,i}return zr(n,t),Ar(n,[{key:"Qe",get:function(){return te.wr}}]),n}(Uo),Xo=function(t){function n(){return t.apply(this,arguments)}return zr(n,t),n.prototype.Le=function(){return mo.MediaSource?t.prototype.Le.call(this):1},Ar(n,[{key:"Qe",get:function(){return!0}}]),n}(Ho);yr(),zt(),kr();var zo=function(t){function n(){return t.apply(this,arguments)}return zr(n,t),n.prototype.Me=function(n,i){return t.prototype.Me.call(this,n,i)},Ar(n,[{key:"We",get:function(){return te.Cr<3}},{key:"qe",get:function(){return te.Cr>=3}},{key:"Xe",get:function(){var t=this;return i.tizen&&!this.uu&&i.tizen.systeminfo.getPropertyValue("DISPLAY",(function(n){var i=n.resolutionWidth,r=n.resolutionHeight;1===i&&1===r||(t.uu={width:i,height:r})})),this.uu}},{key:"Je",get:function(){return te.Cr<3}},{key:"$e",get:function(){return!0}}]),n}(Uo);yr(),zt();var Vo=function(t){function n(){return t.call(this)}return zr(n,t),n}(Mo);yr(),zt(),kr();var Wo=function(t){function n(){return t.apply(this,arguments)}return zr(n,t),n.prototype.Me=function(t,n){if(t&&t.ou&&n&&n.ou){var i=qo(t.ou,"mp4a.40.2")&&qo(n.ou,"mp4a.40.5"),r=qo(t.ou,"mp4a.40.5")&&qo(n.ou,"mp4a.40.2"),e=qo(t.ou,"mp4a.40.2")&&qo(n.ou,"mp4a.40.34"),u=qo(t.ou,"mp4a.40.34")&&qo(n.ou,"mp4a.40.2"),s=qo(t.ou,"mp4a.40.5")&&qo(n.ou,"mp4a.40.34"),o=qo(t.ou,"mp4a.40.34")&&qo(n.ou,"mp4a.40.5");return!(i||r||e||u||s||o)}return!0},Ar(n,[{key:"Ze",get:function(){if(te.Yi)return 4096}}]),n}(Vo);function qo(t,n){return t.indexOf(n)>-1}yr(),zt();var Go=function(t){function n(){return t.apply(this,arguments)}return zr(n,t),n.prototype.Fe=function(t){return t>=2},n}(Vo);yr(),zt();var jo=function(t){function n(){var n;return(n=t.call(this)||this).Oe=te.Hr>=11,n.xe=te.Ur&&!(te.wr&&te.Hr<10),n}return zr(n,t),n}(Vo);yr(),zt(),kr();var Yo=function(t){function n(){return t.apply(this,arguments)}return zr(n,t),Ar(n,[{key:"Xe",get:function(){var t=this;return i.webOS&&!this.uu&&i.webOS.deviceInfo((function(n){t.uu={width:n.screenWidth,height:n.screenHeight}})),this.uu}},{key:"je",get:function(){return!1}},{key:"$e",get:function(){return!0}}]),n}(Uo);yr(),zt(),kr();var Qo=function(t){function n(){return t.apply(this,arguments)}return zr(n,t),Ar(n,[{key:"Ke",get:function(){return!te.Qi||(te.Er?92!==te.Ir:te.Sr>=100)}}]),n}(Vo);yr(),zt(),kr();var Zo=function(t){function n(){return t.apply(this,arguments)}return zr(n,t),Ar(n,[{key:"Qe",get:function(){return!0}}]),n}(Uo),Ko=function(){function t(){this.au=new Jo,this.fu=function(){var t=function(){if(te.Mr)return new Wo;if(te.Pr||te.Br)return new Go;if(te.Ur)return new jo;if(te.Tr)return new Qo;return new Vo}();return te.wr?new Xo(t):te.pr?new Ho(t):te.Rr?new zo(t):te.Nr?new Yo(t):te.Yi?new Zo(t):new Uo(t)}(),this.vu=function(){if(self.URL)try{var t=new self.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href}catch(t){}return!1}(),self.performance&&self.performance.now?this.re=function(){return self.performance.now()}:this.re=cu}var n=t.prototype;return n.du=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Te.apply(void 0,Nr(n))},n.wu=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Se.apply(void 0,Nr(n))},n._u=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Ee.apply(void 0,Nr(n))},n.mu=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];Ie.apply(void 0,[t].concat(Nr(i)))},n.oe=function(t,n){return s(t,n)},n.yu=function(t,n){return a(t,n)},n.ue=function(t){o(t)},n.pu=function(t){c(t)},n.Au=function(){return this.bu.Au()},n.Tu=function(){return this.bu.Tu()},n.Su=function(){return this.bu.Su()},n.Eu=function(){return this.bu.Eu()},n.Iu=function(){return this.bu.Iu()},n.Ru=function(t,n){return this.bu.Ru(t,n)},n.Cu=function(t){return this.bu.Cu(t)},n.Nu=function(t,n){var i;return void 0===n&&(n=bo(mo)),i="object"!=typeof n||n instanceof ko?n:n.href,new ko(t,i)},n.Du=function(t,n){if(void 0===n&&(n=bo(mo)),this.vu){var i=ce(n)?n:n.toString();return new self.URL(t,i).href}return this.Nu(t,n).href},Ar(t,[{key:"Pu",get:function(){return this.au}},{key:"Bu",get:function(){return this.fu}},{key:"Ou",get:function(){return{xu:u&&u.userAgent.match(/Android /i)?"Android":"other",Lu:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"Mu",get:function(){return self&&self.location&&"https:"===self.location.protocol}},{key:"Fu",get:function(){return"languages"in u?u.languages.slice():[u.language]}}]),t}(),Jo=function(){function t(){}return Ar(t,[{key:"Uu",get:function(){return u.oscpu}},{key:"Bu",get:function(){return u.platform}},{key:"Hu",get:function(){return u.vendor}},{key:"Xu",get:function(){return u.vendorSub}}]),t}();function $o(t,n,i,r,e,u,s){try{var o=t[u](s),a=o.value}catch(t){return void i(t)}o.done?n(a):j.resolve(a).then(r,e)}function ta(t){return function(){var n=this,i=arguments;return new j((function(r,e){var u=t.apply(n,i);function s(t){$o(u,r,e,s,o,"next",t)}function o(t){$o(u,r,e,s,o,"throw",t)}s(void 0)}))}}function na(){return(na=v.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)v.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function ia(t,n){var i,r,e,u,s=function(t){return function(n){return o([t,n])}},o=function(u){if(i)throw new h("Generator is already executing.");for(;a;)try{if(i=1,r&&(e=2&u[0]?r.return:u[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,u[1])).done)return e;switch(r=0,e&&(u=[2&u[0],e.value]),u[0]){case 0:case 1:e=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(e=a.trys,(e=e.length>0&&e[e.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!e||u[1]>e[0]&&u[1]<e[3])){a.label=u[1];break}if(6===u[0]&&a.label<e[1]){a.label=e[1],e=u;break}if(e&&a.label<e[2]){a.label=e[2],a.ops.push(u);break}e[2]&&a.ops.pop(),a.trys.pop();continue}u=n.call(t,a)}catch(t){u=[6,t],r=0}finally{i=e=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}},a={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return u={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u}function ra(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var r,e,u=[],s=!0,o=!1;try{for(i=i.call(t);!(s=(r=i.next()).done)&&(u.push(r.value),!n||u.length!==n);s=!0);}catch(t){o=!0,e=t}finally{try{s||null==i.return||i.return()}finally{if(o)throw e}}return u}}(t,n)||Rr(t,n)||function(){throw new h("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ea(){var t=v.create(null);return t.Vu=void 0,delete t.Vu,t}function ua(){return new fa}function sa(){return new va}function oa(t){var n=ua();for(var i in t)ne.call(t,i)&&n.set(i,t[i]);return n}function aa(t){var n=[];return t.forEach((function(t){return n.push(t)})),n}yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),kr(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),Cr();var ca="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,fa=ca||function(){var t=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=v.keys(t)}return t.prototype.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}();return function(){function n(){this.data=ea(),this.size=0}var i=n.prototype;return i.get=function(t){return this.data[t]},i.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},i.has=function(t){return t in this.data},i.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},i.clear=function(){this.data=ea(),this.size=0},i.keys=function(){return new t(this.data,(function(t,n){return n}))},i.values=function(){return new t(this.data,(function(t,n){return t[n]}))},i.entries=function(){return new t(this.data,(function(t,n){return[n,t[n]]}))},i.forEach=function(t){for(var n in this.data)t(this.data[n],n)},n}()}();var ha,va=ca||function(){var t=function(){function t(t,n){this.Wu=t,this.Gu=n}return t.prototype.next=function(){var t=this.Wu.next();return t.done?t:{value:this.Gu(t.value),done:!1}},t}();return function(){function n(){this.ju=ua()}var i=n.prototype;return i.get=function(t){return this.ju.get(""+t)},i.set=function(t,n){return this.ju.set(""+t,n),this},i.has=function(t){return this.ju.has(""+t)},i.delete=function(t){return this.ju.delete(""+t)},i.clear=function(){this.ju.clear()},i.keys=function(){return new t(this.ju.keys(),(function(t){return Number(t)}))},i.values=function(){return this.ju.values()},i.entries=function(){return new t(this.ju.entries(),(function(t){var n=ra(t,2),i=n[0],r=n[1];return[Number(i),r]}))},i.forEach=function(t){this.ju.forEach((function(n,i){t(n,Number(i))}))},Ar(n,[{key:"size",get:function(){return this.ju.size}}]),n}()}();yr(),zt(),yr(),zt(),function(t){t.Yu="9a04f079-9840-4286-ab92-e65be0885f95",t.Qu="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.Zu="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.Ku="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(ha||(ha={}));var da,la="urn:mpeg:dash:mp4protection:2011",wa="cenc",_a="sinf",ga="skd",ma="9a04f079-9840-4286-ab92-e65be0885f95",ya="urn:uuid:"+ma,pa="com.microsoft.playready",Aa="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ka="urn:uuid:"+Aa,ba="com.widevine.alpha",Ta="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Sa="urn:uuid:"+Ta,Ea="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Ia="urn:uuid:"+Ea,Ra="com.apple.fps.1_0",Ca="identity";yr(),zt(),function(t){t.Yu="playready",t.Qu="widevine",t.Ku="fairplay",t.Zu="clearkey",t.Ju="aes128"}(da||(da={}));var Na={$u:da.Yu,rs:pa,us:"cenc",fs:ma,hs:ya,vs:"PlayReady"},Da={$u:da.Qu,rs:ba,us:"cenc",fs:Aa,hs:ka,vs:"Widevine"},Pa={$u:da.Ku,rs:Ra,us:"skd",fs:Ea,hs:Ia,vs:"FairPlay"},Ba={$u:da.Ku,rs:"com.apple.fps",us:"sinf",fs:Ea,hs:Ia,vs:"FairPlay"},Oa={$u:da.Zu,rs:"org.w3.clearkey",us:"cenc",fs:Ta,hs:Sa,vs:"ClearKey"},xa=[Na,Da,Pa,Oa];function La(t){return xa.filter((function(n){return n.hs===t.toLowerCase()}))}function Ma(t,n,i){return t.split(n).join(i)}function Fa(t,n){return null!=t&&-1!==t.indexOf(n)}function Ua(t,n){return null!=t&&t.substr(0,n.length)===n}function Ha(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function Xa(t,n){return t.toUpperCase()===n.toUpperCase()}function za(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}function Va(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=za(r,e/r.length)),r.slice(0,e)+t)}function Wa(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Ga(n)}yr(),zt(),Or();var qa=16384;function Ga(t){var n,i=t.length;if(i<=qa)return(n=String).fromCharCode.apply(n,Nr(t));for(var r=[],e=0;e<i;e+=qa){var u;r.push((u=String).fromCharCode.apply(u,Nr(t.slice(e,e+qa))))}return r.join("")}var ja=te.Tr&&te.Sr>=42||te.Mr&&te.Fr>=38||te.Pr||te.Or||te.Xr&&te.zr>=29;function Ya(t,n){return Fa(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[na({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[na({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function Qa(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess}function Za(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Ka,Ja=function(){function t(t){this.ds=ua(),this.ls=void 0,this._s=t}var n=t.prototype;return n.Iu=function(){return this.Cu(Da)},n.Tu=function(){return this.Cu(Oa)},n.Eu=function(){return this.Cu(Na)},n.Su=function(){return this.Cu(Pa)},n.Cu=function(t){var n=t.hs,i=this.ds.get(n);if(i)return i;var r=this.Ru(t,'video/mp4; codecs="avc1.42000a"');return this.ds.set(n,r),r},n.Ru=function(t,n){var i=this;return ta((function(){return ia(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,i._s.gs(t.rs,[Ya(n,!0)])];case 1:return r.sent(),[2,!0];case 2:r.sent(),r.label=3;case 3:return r.trys.push([3,5,,6]),[4,i._s.gs(t.rs,[Ya(n,!1)])];case 4:return r.sent(),[2,!0];case 5:return r.sent(),[2,!1];case 6:return[3,7];case 7:return[2]}}))}))()},n.Au=function(){return this.ls||(this.ls=this.ys()),this.ls},n.ys=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return"https:"===yo.protocol?[2,!1]:ja?[4,t.Tu()]:[2,!1];case 1:return n.sent()?[2,!1]:[2,!0]}}))}))()},t}();function $a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tc(t,n){return ic(t.slice(),n)}function nc(t,n){var i=ic(t,n);return i!==t&&rc(i,void 0,t.length,t),t}function ic(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){rc(i,n,u,e);var s=i;i=e,e=s}return i}function rc(t,n,i,r){var e,u,s,o,a,c=t.length,f=0,h=2*i;for(u=0;u<c;u+=h)for(e=(s=u+i)+i,s>c&&(s=c),e>c&&(e=c),o=u,a=s;;)if(o<s&&a<e)n&&n(t[o],t[a])<=0?r[f++]=t[o++]:r[f++]=t[a++];else if(o<s)r[f++]=t[o++];else{if(!(a<e))break;r[f++]=t[a++]}}yr(),zt(),yr(),zt(),yr(),zt(),kr(),yr(),zt(),yr(),zt(),yr(),zt(),kr(),yr(),zt(),yr(),zt(),Or(),yr(),zt(),yr(),zt(),function(t){t[t.As=0]="As",t[t.Ts=1]="Ts",t[t.Ss=-1]="Ss"}(Ka||(Ka={}));var ec=function(t,n){return(0|t)-(0|n)},uc=function(t,n){return t===n?0:t<n?-1:t>n?1:_(t)?_(n)?0:1:-1};function sc(t,n,i){return eu(t,n,i)?0:uc(t,n)}var oc=function(t,n){return function(t,n){if(t===n)return!0;var i=d.abs(t-n);return i<iu||i<d.max(d.abs(t),d.abs(n))*iu}(t,n)?0:uc(t,n)};function ac(t,n,i){var r=fc(t,n,i);return-1===r?void 0:t[r]}function cc(t,n,i){var r=function(t,n,i){for(var r=t.length-1;r>=0;r-=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}(t,n,i);return-1===r?void 0:t[r]}function fc(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}function hc(t,n){var i=t.indexOf(n);return-1!==i&&(vc(t,i),!0)}function vc(t,n){0===n?t.shift():t.splice(n,1)}function dc(t,n){for(var i=new Array(t.length),r=0,e=0;e<t.length;){if(t[e]===n){e++,i.length-=1;break}i[r++]=t[e++]}for(;e<t.length;)i[r++]=t[e++];return i}function lc(t,n){return-1!==t.indexOf(n)}function wc(t){t.length=0}function _c(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!lc(n,t[i]))return!1}return!0}function gc(t,n){for(var i=[],r=0;r<t.length;r++){var e;(e=i).push.apply(e,Nr(n(t[r],r)))}return i}function mc(t,n){return pc(t,(function(t,i){return uc(n(t),n(i))}))}function yc(t,n){return Ac(t,(function(t,i){return uc(n(t),n(i))}))}function pc(t,n){if(0!==t.length)return t.reduce((function(t,i){return n(t,i)<=0?t:i}))}function Ac(t,n){return pc(t,(function(t,i){return n(i,t)}))}function kc(t,n){return j.all(t.map(n)).then((function(n){return t.filter((function(t,i){return n[i]}))}))}function bc(t,n){return Tc.apply(this,arguments)}function Tc(){return(Tc=ta((function(t,n){var i,r;return ia(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n(r)]):[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))).apply(this,arguments)}function Sc(){return(Sc=ta((function(t,n){var i,r;return ia(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n(r)]):[3,4];case 2:if(!e.sent())return[2,!1];e.label=3;case 3:return i++,[3,1];case 4:return[2,!0]}}))}))).apply(this,arguments)}function Ec(t,n,i){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!i(t[r],n[r]))return!1;return!0}yr(),zt(),kr(),yr(),zt(),kr();var Ic=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];f.apply(this,n)};(Ic.prototype=v.create(f.prototype)).constructor=Ic;var Rc=function(t){function n(n,i){var r;return(r=t.call(this)||this).message=n||"Unknown error",r.cause=i,f.captureStackTrace&&f.captureStackTrace($a(r),r.constructor),r}return zr(n,t),Ar(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Ic);yr(),zt(),kr();var Cc=function(){function t(){this.Es=!1,this.Is=!1,this.Rs=[],this.Cs=[]}var n=t.prototype;return n.Ns=function(){if(!this.Es&&!this.Is){this.Es=!0;for(var t=0,n=this.Rs.slice();t<n.length;t++){(0,n[t])()}this.Ds()}},n.Ds=function(){if(!this.Is){this.Is=!0;for(var t=0,n=this.Cs.slice();t<n.length;t++){(0,n[t])()}wc(this.Rs),wc(this.Cs)}},n.Ps=function(t){this.Is||this.Rs.push(t)},n.Bs=function(t){this.Is||hc(this.Rs,t)},n.Os=function(t){this.Is||this.Cs.push(t)},n.xs=function(t){this.Is||hc(this.Cs,t)},t}(),Nc=function(){function t(){this.Ls=new Cc}var n=t.prototype;return n.Ms=function(){this.Ls.Ns()},n.Ds=function(){this.Ls.Ds()},n.Fs=function(t){var n=this.Ls;if(!n.Es)if(t.Es)n.Ns();else if(!n.Is&&!t.Is){var i=function(){r(),n.Ns()},r=function(){t.Bs(i),t.xs(r),n.Bs(i),n.xs(r)};t.Ps(i),t.Os(r),n.Ps(i),n.Os(r)}},n.Us=function(){var n=new t,i=new t,r=n.Hs,e=i.Hs,u=this.Ls,s=function(){r.Es&&e.Is||e.Es&&r.Is?u.Ns():r.Is&&e.Is&&u.Ds()};r.Ps(s),e.Ps(s),r.Os(s),e.Os(s),n.Fs(u),i.Fs(u);return u.Os((function(){r.Bs(s),e.Bs(s),r.xs(s),e.xs(s)})),[n,i]},Ar(t,[{key:"Hs",get:function(){return this.Ls}}]),t}(),Dc=function(t){function n(n,i){return t.call(this,n||"Aborted",i)}return zr(n,t),Ar(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Rc);function Pc(t){return t instanceof f&&"AbortError"===t.name}function Bc(t){if(t&&t.Es)throw new Dc}function Oc(t){if(Pc(t))throw t}function xc(t){if(!Pc(t))throw t}function Lc(t,n){return n?new j((function(i,r){if(n.Es)return t.catch(le),r(new Dc);var e=function(){n.Bs(e),r(new Dc)};n.Ps(e),t.then((function(t){n.Bs(e),i(t)}),(function(t){n.Bs(e),r(t)}))})):t}function Mc(t,n){return t.then((function(t){return n.Ds(),t}),(function(t){throw n.Ds(),t}))}function Fc(t,n){var i=new Nc;return n&&i.Fs(n),Mc(t(i.Hs),i)}yr(),zt();var Uc=j.resolve();function Hc(t){Uc.then(t)}function Xc(t){t.then(le,le)}function zc(t){return Vc.apply(this,arguments)}function Vc(){return(Vc=ta((function(t){var n;return ia(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),[4,j.all(t)];case 1:return[2,i.sent()];case 2:return n=i.sent(),[4,j.all(t.map((function(t){return t.catch(le)})))];case 3:throw i.sent(),n;case 4:return[2]}}))}))).apply(this,arguments)}function Wc(t,n){return new j((function(i,r){if(void 0!==n&&n.Es)r(new Dc);else{var e=Pr.oe((function(){void 0!==n&&n.Bs(u),i()}),t),u=function(){Pr.ue(e),r(new Dc)};void 0!==n&&n.Ps(u)}}))}function qc(t,n,i){if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var Gc=function(){function t(t){var n=this;this.Xs=ea(),this.zs=void 0,this.Vs=0,this.Ws=function(t){n.qs(t)},this.Gs=t||this}var n=t.prototype;return n.js=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Ys(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Ys(r,n)}},n.Ys=function(t,n){var i=this.Xs[t];void 0===i?this.Xs[t]=n:"function"==typeof i?this.Xs[t]=[i,n]:0===this.Vs?i.push(n):this.Xs[t]=i.concat(n)},n.Qs=function(t){if("function"==typeof t){var n=this.zs;void 0===n?this.zs=t:"function"==typeof n?this.zs=[n,t]:0===this.Vs?n.push(t):this.zs=n.concat(t)}},n.Zs=function(){this.Xs=ea(),this.zs=void 0},n.qs=function(t){this.Vs++;var n=this.Xs[t.type],i=this.zs;void 0!==n&&qc(this.Gs,t,n),void 0!==i&&qc(this.Gs,t,i),this.Vs--},n.Ks=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Js(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Js(r,n)}},n.Js=function(t,n){var i=this.Xs[t];void 0!==i&&("function"==typeof i?i===n&&(this.Xs[t]=void 0):0===this.Vs?hc(i,n):this.Xs[t]=dc(i,n))},n.$s=function(t){if("string"==typeof t)this.Xs[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Xs[i]=void 0}},n.uo=function(t){var n=this.zs;void 0!==n&&("function"==typeof n?n===t&&(this.zs=void 0):0===this.Vs?hc(n,t):this.zs=dc(n,t))},n.oo=function(t,n){var i=this;return new j((function(r,e){if(n&&n.Es)return e(new Dc);var u=function(t){o(),r(t)},s=function(){o(),e(new Dc)},o=function(){i.Ks(t,u),n&&n.Bs(s)};i.js(t,u),n&&n.Ps(s)}))},t}(),jc=function(t){function n(){return t.apply(this,arguments)}return zr(n,t),n.prototype.qs=function(n){var i=this;Hc((function(){t.prototype.qs.call(i,n)}))},n}(Gc);yr(),zt(),yr(),zt();var Yc,Qc=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Zc=["cenc"],Kc=["cbcs","cbcs-1-9"],Jc=function(t){function n(n){var i;return(i=t.call(this,"do")||this).ao=n,i}return zr(n,t),n}(Qc),$c=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"_o")||this).ao=n,u.mo=i,u._o=r,u.po=e,u}return zr(n,t),n}(Qc),tf=function(t){function n(){return t.call(this,"Ao")}return zr(n,t),n}(Qc);!function(t){t.To="So",t.Eo="Io"}(Yc||(Yc={}));var nf=function(t){function n(n,i){var r;return(r=t.call(this,"So")||this).us=n,r.Ro=i,r}return zr(n,t),n}(Qc),rf=function(t){function n(){return t.call(this,"Io")}return zr(n,t),n}(Qc);yr(),zt(),kr();var ef=new g([0]).buffer,uf=function(){function t(){this.Co=[]}var n=t.prototype;return n.No=function(t){for(var n=0,i=this.Co;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Do=function(t){for(var n=0,i=this.Co;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.Po=function(t,n){this.Co.forEach((function(n){return t(n[1],n[0])}),n)},n.Bo=function(t,n){this.Co.push([t,n])},n.Oo=function(){wc(this.Co)},Ar(t,[{key:"xo",get:function(){return this.Co.length}}]),t}();yr(),zt(),kr(),yr(),zt(),yr(),zt();var sf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),of=/[\t\n\f\r ]/g;function af(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:cf()}function cf(){throw new f("Invalid base64 input")}function ff(t){var n=t;of.test(n)&&(n=n.replace(of,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return cf();for(var e,u=0===r?0:4-r,s=new g(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,a=0,c=0;a<o;a+=4)e=af(n.charCodeAt(a))<<18|af(n.charCodeAt(a+1))<<12|af(n.charCodeAt(a+2))<<6|af(n.charCodeAt(a+3)),s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===u?(e=af(n.charCodeAt(a))<<2|af(n.charCodeAt(a+1))>>4,s[c++]=255&e):1===u&&(e=af(n.charCodeAt(a))<<10|af(n.charCodeAt(a+1))<<4|af(n.charCodeAt(a+2))>>2,s[c++]=e>>8&255,s[c++]=255&e),s}function hf(t,n,i){return sf[t>>2]+sf[(3&t)<<4|n>>4]+sf[(15&n)<<2|i>>6]+sf[63&i]}function vf(t,n,i){for(var r=[],e=n;e<i;e+=3)r.push(hf(t[e],t[e+1],t[e+2]));return r.join("")}function df(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=16383)r.push(vf(t,u,d.min(e,u+16383)));if(1===i){var s=t[n-1];r.push(sf[s>>2]+sf[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];r.push(sf[o>>2]+sf[(3&o)<<4|a>>4]+sf[(15&a)<<2]+"=")}return r.join("")}var lf=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],wf=ArrayBuffer.isView||function(t){return t&&lc(lf,ie.call(t))};function _f(t,n){return t===n||t.byteLength===n.byteLength&&gf(new g(t),new g(n))}function gf(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function mf(t){var n=t.reduce((function(t,n){return t+n.byteLength}),0);return yf(t,n)}function yf(t,n){for(var i=new g(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}function pf(t){return ff(t).buffer}function Af(t){return df(new g(t))}function kf(t){return df(rh(t))}function bf(t,n){var i=n.Lo,r=t.getUint8(i>>3),e=1<<7-(7&i);return n.Mo(1),(r&e)===e?1:0}function Tf(t,n,i){for(var r=0,e=0;e<i;e++)r=2*r+bf(t,n);return r}yr(),zt(),kr();var Sf=function(){function t(t){void 0===t&&(t=0),this.Fo=t}var n=t.prototype;return n.Mo=function(t){this.Fo+=t},n.Uo=function(t){this.Fo=t},n.Ho=function(){return new t(this.Lo)},Ar(t,[{key:"Lo",get:function(){return this.Fo}}]),t}();function Ef(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function If(t,n){return t>>n&63|128}function Rf(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Ef(t),n.push(t>>12&15|224),n.push(If(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(If(t,12)),n.push(If(t,6))),n.push(63&t|128)):n.push(t)}function Cf(t,n){if(n.Lo>=t.length)throw new f("Invalid byte index");var i=255&t[n.Lo];if(n.Mo(1),128==(192&i))return 63&i;throw new f("Invalid continuation byte")}function Nf(t,n){var i=n.Lo;if(i>t.length)throw new f("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.Mo(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|Cf(t,n);if(e>=128)return e;throw new f("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|Cf(t,n)<<6|Cf(t,n);if(u>=2048)return Ef(u),u;throw new f("Invalid continuation byte")}if(240==(248&r)){var s=(7&r)<<18|Cf(t,n)<<12|Cf(t,n)<<6|Cf(t,n);if(s>=65536&&s<=1114111)return s}throw new f("Invalid UTF-8 detected")}yr(),zt(),yr(),zt();var Df=[128,64,32,16,8,4,2,1],Pf=function(){function t(t){this.Xo=t}return t.prototype.zo=function(t){return Bf(this.Xo,t)},t}();function Bf(t,n){return(t&n)===n}function Of(t,n){return Bf(t,Df[n])}function xf(t,n){var i=t.getUint8(n.Lo);return n.Mo(1),i}function Lf(t,n,i){t.setUint8(n.Lo,i),n.Mo(1)}function Mf(t,n,i){var r=hh(lh(t),n.Lo,n.Lo+i);return n.Mo(r.byteLength),r}function Ff(t,n,i){lh(t).set(lh(i),n.Lo),n.Mo(i.byteLength)}function Uf(t,n,i){return n.Lo+i<=t.byteLength}function Hf(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,u=0;u<i;u++)r+=xf(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+xf(t,n);return r}(t,n,i)}function Xf(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.Lo,i);return n.Mo(2),r}function zf(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.Lo,i,r),n.Mo(2)}function Vf(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.Lo,i);return n.Mo(4),r}function Wf(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.Lo,i,r),n.Mo(4)}function qf(t,n,i){void 0===i&&(i=!1);var r=Vf(t,n,i),e=Vf(t,n,i),u=i?e:r,s=i?r:e;return $e.fromBits(s,u,!0)}function Gf(t,n){return Qf(t,n)}function jf(t,n,i){return Ga(yh(Mf(t,n,i)))}function Yf(t,n){var i,r=xf(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&xf(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&xf(t,n))+(63&xf(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&xf(t,n))+64*(63&xf(t,n))+(63&xf(t,n))),i}function Qf(t,n){return Zf(t,n,!0)}function Zf(t,n,i){for(var r=[];n.Lo<t.byteLength;){var e=xf(t,n);if(i&&!e)break;r.push(e)}return Ga(r)}function Kf(t,n){if(n.Lo+2<=t.byteLength){var i=t.getUint8(n.Lo),r=t.getUint8(n.Lo+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function Jf(t,n){var i=Kf(t,n);return void 0!==i&&n.Mo(2),$f(t,n,!0===i)}function $f(t,n,i){return void 0===i&&(i=!1),th(t,n,i,!0)}function th(t,n,i,r){for(var e=[];n.Lo+2<=t.byteLength;){var u=Xf(t,n,i);if(r&&!u)break;e.push(u)}return Ga(e)}function nh(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){zf(t,n,i.charCodeAt(u),r)}}function ih(t){return Zf(dh(t),new ph,!1)}function rh(t){var n=new g(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)Lf(t,n,i.charCodeAt(e))}(dh(n),new ph,t),n}function eh(t,n){return void 0===n&&(n=!1),th(dh(t),new ph,n,!1)}function uh(t,n){void 0===n&&(n=!1);var i=new g(2*t.length);return nh(dh(i),new ph,t,n),i}function sh(t,n){return n.Lo+3<=t.byteLength&&(239===t.getUint8(n.Lo)&&187===t.getUint8(n.Lo+1)&&191===t.getUint8(n.Lo+2))}function oh(t,n){return function(t,n,i){var r=[];sh(t,n)&&n.Mo(3);for(;n.Lo<t.byteLength;){var e=Yf(t,n);if(void 0===e)break;if(i&&0===e)break;r.push(e)}return Wa(r)}(t,n,!0)}function ah(t){return function(t){return Wa(t)}(function(t,n){var i,r=[],e=new ph;if(!n){if(!1===(i=Nf(t,e)))return r;65279===i||r.push(i)}for(;!1!==(i=Nf(t,e));)r.push(i);return r}(lh(t)))}function ch(t){return new g(function(t){for(var n=[],i=0;i<t.length;i++)Rf(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function fh(t,n){if(sh(t,n))return oh(t,n);if(void 0!==Kf(t,n))return Jf(t,n);if(n.Lo+4<=t.byteLength){if(0===t.getUint8(n.Lo)&&0===t.getUint8(n.Lo+2))return $f(t,n,!1);if(0===t.getUint8(n.Lo+1)&&0===t.getUint8(n.Lo+3))return $f(t,n,!0)}return oh(t,n)}function hh(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new g(t.buffer,t.byteOffset+n,i-n)}function vh(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function dh(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function lh(t){return new g(t.buffer,t.byteOffset,t.byteLength)}function wh(t){return t instanceof ArrayBuffer||wf(t)}function _h(t){return t instanceof ArrayBuffer?new g(t):lh(t)}function gh(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):mh(hh(t,n,i))}function mh(t){if(t.slice)return t.slice(0);var n=new g(t.byteLength);return n.set(t,0),n}function yh(t){return[].slice.call(t)}var ph=function(){function t(t){void 0===t&&(t=0),this.Fo=t}var n=t.prototype;return n.Mo=function(t){this.Fo+=t},n.Uo=function(t){this.Fo=t},n.Ho=function(){return new t(this.Lo)},n.Vo=function(){return new Sf(this.Lo<<3)},Ar(t,[{key:"Lo",get:function(){return this.Fo}}]),t}();function Ah(t){var n=t.toLowerCase(),i=0,r=0;Ua(n,"0x")&&(n=n.substring(2));var e=new g(d.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=l(n[0],16));i<n.length;i+=2)e[r++]=l(n.substr(i,2),16);return e}yr(),zt();var kh=function(){function t(){var t=this;this.Wo=new j((function(n,i){t._t=n,t.yt=i}))}var n=t.prototype;return n.qo=function(t){this._t&&(this._t(t),this.Ds())},n.Go=function(t){this.yt&&(this.yt(t),this.Ds())},n.Ms=function(){this.Wo.catch(le),this.Go(new Dc)},n.Fs=function(t){var n=this;t.then((function(t){return n.qo(t)}),(function(t){return n.Go(t)}))},n.Ds=function(){this._t=void 0,this.yt=void 0},t}();function bh(){return new g([8,4]).buffer}function Th(t,n){return t===pa?function(t){if(t.byteLength<2*Sh.length)return t;if(eh(new DataView(t,0,2*Sh.length),!0)===Sh)return t;return function(t){var n='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>';return uh('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Af(t)+n,!0).buffer}(t)}(n):n}yr(),zt();var Sh="<PlayReady";yr(),zt(),yr(),zt();var Eh=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).jo=i,u.Yo=r,u}return zr(n,t),n}(Rc);yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt();var Ih=function(t,n){return(Ih=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)v.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function Rh(t,n){var i=function(){this.constructor=t};if("function"!=typeof n&&null!==n)throw new h("Class extends value "+String(n)+" is not a constructor or null");Ih(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}function Ch(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt();!function(){var t=function(t,n){this.Qo=t,this.Zo=n};t.prototype.get=function(t){var n=this.Qo.get(t);if(0===this.Zo||void 0===n)return n;var i=this.Qo.get(t+1)||0,r=n&(1<<8-this.Zo)-1,e=i>>8-this.Zo;return(r<<this.Zo)+e},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Qo.get(d.floor((t+this.Zo)/8));if(void 0!==n)return(n&1<<7-this.Zo-t%8)>0?1:0}},v.defineProperty(t.prototype,"bitLength",{get:function(){return this.Qo.bitLength-this.Zo},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"length",{get:function(){return this.Qo.length},enumerable:!1,configurable:!0})}();yr(),zt(),yr(),zt();d.pow(2,-52);function Nh(t,n,i){return d.min(d.max(t,n),i)}function Dh(t,n){return t>>8-n}function Ph(t,n){return t&(1<<n)-1}var Bh=function(){var t=function(t){this.Ko=t,this.Jo=0,this.$o=0};return v.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Jo+this.$o},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"done",{get:function(){return this.Jo===this.Ko.length&&0===this.$o},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Jo,bit:this.$o}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Ko);return n.seek(this.Jo,this.$o),n},t.prototype.canReadBits=function(t){return 8*this.Jo+t+this.$o<=8*this.Ko.length},t.prototype.canReadBytes=function(t){return 0===this.$o?this.Jo+t<=this.Ko.length:this.Jo+t<this.Ko.length},t.prototype.incBit=function(){this.$o++,this.$o>7&&(this.Jo++,this.$o=0)},t.prototype.seek=function(t,n){this.Jo=t,this.$o=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new f("Cannot read past end of buffer.");return this.Ko.get(this.Jo)>>7-this.$o&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new f("Cannot read past end of buffer.");if(0===this.$o)return this.Ko.get(this.Jo++);var t=Ph(this.Ko.get(this.Jo),8-this.$o),n=Dh(this.Ko.get(this.Jo+1),this.$o);return this.Jo++,t<<this.$o|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=0;if(0===this.$o&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-d.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new f("Skipping over the buffer edge is not allowed.");var n=this.$o+t;this.Jo+=n>>3,this.$o=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}();yr(),zt(),yr(),zt(),yr(),zt();var Oh=function(t,n){return t===n?0:t<n?-1:t>n?1:_(t)?_(n)?0:1:-1},xh=function(){var t=function(){this.ra=[],this.ea=[],this.V=0};return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var r=new t,e=0,u=n;e<u.length;e++){var s=u[e];r.pushRange(s)}return r},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new f("The buffer length must be positive.");if(0!==i){if(0===this.ea.length)this.ea.push(0);else{var r=this.ea[this.ea.length-1]+this.ra[this.ra.length-1].length;this.ea.push(r)}this.ra.push(t.subarray(n,n+i)),this.V+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,r){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=this.length),n<0||i<0||r<0)throw new RangeError;return this.slice(i,r).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,r=n,e=0,u=this.ra;e<u.length;e++){var s=u[e];t.set(s,r),i+=s.length,r+=s.length}return i},t.prototype.clear=function(){this.ra=[],this.ea=[],this.V=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.ea[n];return this.ra[n][i]}},v.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.ra.length<1)return-1;if(this.ra.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.ra[0];return"number"==typeof t?Ch(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],r=n.length,e=t.length-r,u=0;u<=e&&!((u=Ch(t,i,u))<0||u>e);u++){for(var s=u+1,o=u+r,a=1;s<o&&t[s]===n[a];s++,a++);if(s===o)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var r=0,e=t.length-1;if(1!==i(t[r],n)){if(1===i(n,t[e]))return e;for(;r!==e;){var u=d.ceil((r+e)/2);i(t[u],n)<=0?r=u:e=u-1}return r}}}(this.ea,t,Oh)},t.prototype.join=function(){if(1===this.ra.length)return this.ra[0];var t=new g(this.length);return this.copyInternal(t,0),t},v.defineProperty(t.prototype,"length",{get:function(){return this.V},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new f("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new f("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,r=0;r<n;r++)i+=this.get(t+r)*d.pow(2,8*(n-r-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var r=Nh(n,0,this.length),e=Nh(i,0,this.length);if(r>e)return new t;if(r===e)return new t;for(var u=new t,s=this.findContainingBufferIndex(r),o=this.ra[s],a=r,c=a-this.ea[s];a+o.length-c<e;)u.pushRange(o,c,o.length-c),s+=1,c=(a+=o.length-c)-this.ea[s],o=this.ra[s];var f=e-a;return u.pushRange(o,c,f),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.ra.length-1,r=this.ra[i],e=r.length-1;n>=0&&i>=0;){if(0!==r[e])break;if(0===e){if(0===i)return new t;i-=1,e=(r=this.ra[i]).length-1}else e-=1;n-=1}return this.slice(0,n+1)},t}(),Lh=function(){function t(n){this.ua=n||t.BUFFER_CHUNK_SIZE,this.Mn=!1,this.oa=new xh,this.Ko=new g(this.ua),this.va=0,this._a=0,this.$o=7}return t.prototype.closeByte=function(){this.Ko[this.va++]=this._a,this.va>=this.ua&&this.closeBuffer(),this._a=0,this.$o=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.va&&(this.oa.pushRange(this.Ko,0,this.va),t&&(this.Ko=new g(this.ua)),this.va=0)},v.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.$o},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Mn)throw new f("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Mn=!0,this.oa},t.prototype.writeBit=function(t){if(this.Mn)throw new f("Cannot write to a closed BitWriter.");this._a|=t<<this.$o,0===this.$o?this.closeByte():this.$o--},t.prototype.writeByte=function(t){if(this.Mn)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this._a=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.$o;this._a|=Dh(t,n+1),this.closeByte(),this._a=Ph(t,8-n)<<n+1,this.$o=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];this.writeBit(r)}},t.prototype.writeBytes=function(t){if(this.Mn)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.va+t.length<=this.ua?(this.Ko.set(t,this.va),this.va+=t.length,this.va===this.ua&&this.closeBuffer()):(this.closeBuffer(),this.oa.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.$o;this._a|=Dh(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var r=Ph(t[i-1],8-n),e=Dh(t[i],n+1);this._a=r<<n+1|e,this.closeByte()}this._a=Ph(t[t.length-1],8-n)<<n+1,this.$o=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new f("Received a negative number.");if(n>32)throw new f("The max bitlength that can be provided is 32.");if(t>=d.pow(2,n))throw new f("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new f("The max bitlength that can be provided is 32.");if(d.abs(t)>=d.pow(2,n-1))throw new f("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+d.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new f("Received a negative number.");for(var n=d.floor(d.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new g(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}();yr(),zt();var Mh=function(){var t=function(t){this.rb=new xh,this.It=t};return t.prototype.closeWriter=function(){void 0!==this.It&&(this.rb=this.rb.concat(this.It.close()),this.It=void 0)},v.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.It&&(this.It=new Lh),this.It},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),Fh=function(){var t=function(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new f("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")};return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),r=i>=t.LARGE_SIZE/8,e=16===this.boxType.length;n.writeUInt(r?1:i,32),n.writeString(e?"uuid":this.boxType),r&&(n.writeUInt(d.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),e&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new Mh;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=d.pow(2,32),t}();function Uh(t,n){return t instanceof $e?64===n:t<d.pow(2,n)}function Hh(t,n){return d.round(t*d.pow(2,n))}function Xh(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function zh(t,n){return t/d.pow(2,n)}yr(),zt();var Vh=function(t){var n=function(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!Uh(i,8))throw new f("the provided version cannot fit in 8 bits.");return e.flags=r,e};return Rh(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.ma},set:function(t){this.ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Fh);yr(),zt(),yr(),zt();var Wh=function(t){var n=function(n,i){var r=t.call(this,n)||this;return r.data=i,r};return Rh(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(xh.from(this.data))},n}(Fh);yr(),zt(),yr(),zt();var qh=function(){var t=function(t){void 0===t&&(t=0),this.offset=t};return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();yr(),zt();var Gh=16384;function jh(t){var n=t.length;if(n<=Gh)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=Gh)i.push(String.fromCharCode.apply(String,t.slice(r,r+Gh)));return i.join("")}var Yh=function(){var t=function(t){this.raw=t};return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function Qh(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function Zh(t,n,i){var r=rv(sv(t),n.offset,n.offset+i);return n.shift(r.byteLength),r}function Kh(t,n,i){return n.offset+i<=t.byteLength}function Jh(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.offset,i);return n.shift(4),r}function $h(t,n,i){void 0===i&&(i=!1);var r=Jh(t,n,i),e=Jh(t,n,i),u=i?e:r,s=i?r:e;return $e.fromBits(s,u,!0)}function tv(t,n,i){return jh(function(t){return[].slice.call(t)}(Zh(t,n,i)))}function nv(t,n){var i,r=Qh(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&Qh(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&Qh(t,n))+(63&Qh(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&Qh(t,n))+64*(63&Qh(t,n))+(63&Qh(t,n))),i}function iv(t,n){return function(t,n,i){var r=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var e=nv(t,n);if(void 0===e)break;if(i&&0===e)break;r.push(e)}return function(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return jh(n)}(r)}(t,n,!0)}function rv(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new g(t.buffer,t.byteOffset+n,i-n)}function ev(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function uv(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function sv(t){return new g(t.buffer,t.byteOffset,t.byteLength)}var ov=function(){var t=function(t){void 0===t&&(t=0),this.offset=t};return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new qh(this.offset<<3)},t}();yr(),zt();var av=function(){var t=function(t,n){this.data=t,this.cursor=n};return t.prototype.nextUint8=function(){return Qh(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextUint32=function(){return Jh(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.offset,i);return n.shift(4),r}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var r=Jh(t,n,i),e=Jh(t,n,i),u=i?e:r,s=i?r:e;return $e.fromBits(s,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return $h(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return Zh(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(Jh(t,n));return r}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return tv(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return iv(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function cv(t,n){return t.type===n}function fv(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var r=hv(t,n);if(!r.complete)return{complete:!1,boxes:i};i.push(r.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new f("Data incomplete");return n.boxes}function hv(t,n){var i=n.offset,r=function(t,n){var i=n.offset;if(!Kh(t,n,8)){return{complete:!1,neededOffset:u=n.offset+8}}var r=Jh(t,n),e=tv(t,n,4);if(1===r){if(!Kh(t,n,8)){var u=n.offset+8;return n.seek(i),{complete:!1,neededOffset:u}}r=$h(t,n).toNumber()}if("uuid"===e){if(!Kh(t,n,16)){u=n.offset+16;return n.seek(i),{complete:!1,neededOffset:u}}e=tv(t,n,16)}var s=n.offset;return{complete:!0,header:{type:e,size:r,headerSize:s-i}}}(t,n);if(!r.complete)return r;var e=r.header,u=e.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var a={type:e.type,offset:i,data:new av(ev(t,i,s),new ov(e.headerSize))};return n.seek(s),{complete:!0,box:a}}function vv(t){return{version:t>>24,flags:new Yh(16777215&t)}}function dv(t,n){var i,r,e,u;return 1===n?(i=t.nextUint64(),r=t.nextUint64(),e=t.nextUint32(),u=t.nextUint64()):(i=t.nextUint32(),r=t.nextUint32(),e=t.nextUint32(),u=t.nextUint32()),{creation:i,modification:r,scale:e,duration:u}}function lv(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function wv(t){var n=t.nextUint32Array(9);return{a:zh(n[0],16),b:zh(n[1],16),u:zh(n[2],30),c:zh(n[3],16),d:zh(n[4],16),v:zh(n[5],30),x:zh(n[6],16),y:zh(n[7],16),w:zh(n[8],30)}}function _v(t){return new Wh(t.type,rv(sv(t.data.data),t.data.cursor.offset))}var gv=function(t){var n=function(n,i,r,e){void 0===r&&(r=0),void 0===e&&(e=0);var u=t.call(this,"hdlr",r,e)||this;return u.name=i,u.handlerType=n,u};return Rh(n,t),v.defineProperty(n.prototype,"handlerType",{get:function(){return this.ya},set:function(t){this.ya=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(Vh);function mv(t){var n=t.data,i=vv(n.nextUint32()),r=i.version,e=i.flags;n.skip(4);var u=n.nextChars(4);n.skip(12);var s=n.nextUTF8String();return new gv(u,s,r,e.raw)}!function(t){var n=function(){return t.call(this,"mdir")||this};Rh(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(gv);yr(),zt(),yr(),zt(),yr(),zt();var yv=function(){var t=function(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t};return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},v.defineProperty(t.prototype,"tag",{get:function(){return this.Aa},set:function(t){if(!Uh(t,8))throw new f("Provided tag does not fit in 8 bits.");this.Aa=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var r=i[n];t.writer.writeByte(r)}this.serializeDescriptorContent(t)},t}();yr(),zt();!function(t){var n=function(n,i,r,e,u,s,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=r,a.decoderSpecificInfo=s,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=e,a.maxBitrate=u.max,a.avgBitrate=u.avg,a};Rh(n,t),v.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Ta},set:function(t){if(!Uh(t,8))throw new f("Provided objectTypeIndication does not fit in 8 bits.");this.Ta=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamType",{get:function(){return this.Sa},set:function(t){if(!Uh(t,6))throw new f("Provided streamType does not fit in 6 bits.");this.Sa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Ea},set:function(t){if(!Uh(t,24))throw new f("Provided bufferSizeDb does not fit in 24 bits.");this.Ea=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.Ia},set:function(t){if(!Uh(t,32))throw new f("Provided maxBitrate does not fit in 32 bits.");this.Ia=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.Ra},set:function(t){if(!Uh(t,32))throw new f("Provided avgBitrate does not fit in 32 bits.");this.Ra=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(yv);yr(),zt();!function(t){var n=function(n,i){void 0===i&&(i={});var r=t.call(this,5,i.fixed28BitMode)||this;return r.data=n,r};Rh(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(xh.from(this.data))}}(yv);yr(),zt(),yr(),zt();var pv=function(t){var n=function(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i};return Rh(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(yv);!function(t){var n=function(n,i,r,e){void 0===e&&(e={});var u=t.call(this,3,e.fixed28BitMode)||this;return u.decoderConfigDescriptor=r,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==e?void 0:e.dependsOnEsId,u.urlString=null==e?void 0:e.url,u.ocrEsId=null==e?void 0:e.ocrEsId,u.slConfigDescriptor=new pv(e.fixed28BitMode),u};Rh(n,t),v.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"esId",{get:function(){return this.Ca},set:function(t){if(!Uh(t,16))throw new f("Provided esId does not fit in 16 bits.");this.Ca=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Na},set:function(t){if(!Uh(t,5))throw new f("Provided streamPriority does not fit in 5 bits.");this.Na=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Da},set:function(t){if(t&&!Uh(t,16))throw new f("Provided dependsOnEsId does not fit in 16 bits.");this.Da=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.Pa},set:function(t){if(t&&!Uh(t,16))throw new f("Provided ocrEsId does not fit in 16 bits.");this.Pa=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(yv);yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt();var Av=function(t){var n=function(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n};return Rh(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,r=this.boxes;i<r.length;i++){var e=r[i];n=n.concat(e.serialize())}return n},n}(Fh),kv=function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};return Rh(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Av),bv=function(t){var n=function(n,i){var r=t.call(this,n)||this;return r.dataReferenceIndex=i,r};return Rh(n,t),v.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.Ba},set:function(t){if(!Uh(t,16))throw new f("Provided dataReferenceIndex does not fit in 16 bits.");this.Ba=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(kv),Tv=function(t){var n=function(n,i,r,e){var u,s,o=this;return(o=t.call(this,n,i)||this).extra=e,o.channelCount=null!==(u=r.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=r.sampleSize)&&void 0!==s?s:16,o.sampleRate=r.sampleRate,o};return Rh(n,t),v.defineProperty(n.prototype,"channelCount",{get:function(){return this.Oa},set:function(t){if(!Uh(t,16))throw new f("Provided channelCount does not fit in 16 bits.");this.Oa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleSize",{get:function(){return this.xa},set:function(t){if(!Uh(t,16))throw new f("Provided sampleSize does not fit in 16 bits.");this.xa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleRate",{get:function(){return this.La},set:function(t){if(!Uh(Hh(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.La=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(Hh(this.sampleRate,16),32),this.extra&&Xh(n.writer,this.extra)},n}(bv);yr(),zt();!function(t){var n=function(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i};Rh(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Ma},set:function(t){if(!Uh(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Uh(t,32)})))throw new f("Not all entries can be represented in 32 bits.");this.Ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(Vh);yr(),zt();!function(t){var n=function(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i};Rh(n,t),v.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Fa},set:function(t){if(!Uh(t,32))throw new f("Provided cleanApertureWidthN does not fit in 32 bits.");this.Fa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.Ua},set:function(t){if(!Uh(t,32))throw new f("Provided cleanApertureWidthD does not fit in 32 bits.");this.Ua=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Ha},set:function(t){if(!Uh(t,32))throw new f("Provided cleanApertureHeightN does not fit in 32 bits.");this.Ha=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.Xa},set:function(t){if(!Uh(t,32))throw new f("Provided cleanApertureHeightD does not fit in 32 bits.");this.Xa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Va},set:function(t){if(!Uh(t,32))throw new f("Provided horizOffN does not fit in 32 bits.");this.Va=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Wa},set:function(t){if(!Uh(t,32))throw new f("Provided horizOffD does not fit in 32 bits.");this.Wa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffN",{get:function(){return this.qa},set:function(t){if(!Uh(t,32))throw new f("Provided vertOffN does not fit in 32 bits.");this.qa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffD",{get:function(){return this.Ga},set:function(t){if(!Uh(t,32))throw new f("Provided vertOffD does not fit in 32 bits.");this.Ga=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(Fh);yr(),zt();!function(t){var n=function(n,i){var r=t.call(this,"ctts",n,0)||this;return r.entries=i,r};Rh(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Ma},set:function(t){if(!Uh(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Uh(t.sampleCount,32)||!Uh(t.sampleOffset,32)})))throw new f("Not all entries can be represented in 64 bits.");this.Ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),0===this.version?n.writer.writeUInt(e.sampleOffset,32):1===this.version&&n.writer.writeInt(e.sampleOffset,32)}}}(Vh);yr(),zt();!function(t){var n=function(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i};Rh(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Ya},set:function(t){this.flags=void 0===t?1:0,this.Ya=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Vh);yr(),zt();!function(t){var n=function(n,i,r){var e=t.call(this,"urn ",0,r)||this;return e.name=n,e.location=i,e};Rh(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Ya},set:function(t){if(1&this.flags)throw new f("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Ya=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Vh);yr(),zt();!function(t){var n=function(){return t.call(this,"dinf")||this};Rh(n,t)}(kv);yr(),zt(),yr(),zt();var Sv=function(t){var n=function(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!Uh(i,8))throw new f("the provided version cannot fit in 8 bits.");return e.flags=r,e};return Rh(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.ma},set:function(t){this.ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Av);!function(t){var n=function(){return t.call(this,"dref",0,0)||this};Rh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Sv);yr(),zt(),yr(),zt();var Ev=function(t){var n=function(n,i,r){void 0===r&&(r=0);var e=t.call(this,"elst",i,r)||this;return e.entries=n,e};return Rh(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.Ma},set:function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!Uh(r.segmentDuration,this.bitSize))throw new f("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!Uh(r.mediaTime,this.bitSize))throw new f("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!Uh(r.mediaRateInteger,16))throw new f("Provided mediaRateInteger does not fit in 16 bits.");if(r.mediaRateFraction&&!Uh(r.mediaRateFraction,16))throw new f("Provided mediaRateFraction does not fit in 16 bits.")}this.Ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(Vh),Iv=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this};return Rh(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration,32),t.writer.writeInt(e.mediaTime,32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Ev),Rv=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this};return Rh(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(e.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(e.mediaTime.getHighBits(),32),t.writer.writeInt(e.mediaTime.getLowBits(),32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Ev);function Cv(t){for(var n=t.data,i=vv(n.nextUint32()),r=i.version,e=i.flags,u=n.nextUint32(),s=[],o=0;o<u;o++){var a=void 0,c=void 0;0===r?(a=n.nextUint32(),c=n.nextInt32()):(a=n.nextUint64(),c=n.nextInt64());var f=n.nextInt16(),h=n.nextInt16();s.push({segmentDuration:a,mediaTime:c,mediaRateFraction:h,mediaRateInteger:f})}return 0===r?new Iv(s,e.raw):new Rv(s,e.raw)}var Nv=function(t){var n=function(){return t.call(this,"edts")||this};return Rh(n,t),n}(kv);function Dv(t){for(var n=new Nv,i=0,r=fv(t.data);i<r.length;i++){var e=r[i];cv(e,"elst")?n.boxes.push(Cv(e)):n.boxes.push(_v(e))}return n}yr(),zt(),yr(),zt();var Pv=function(t){var n=function(n,i,r,e){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=r,u.compatibleBrands=e,u};return Rh(n,t),v.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Qa},set:function(t){if(4!==t.length)throw new f("the provided major brand does not conform to the 4 character requirement");this.Qa=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Za},set:function(t){if(!Uh(t,32))throw new f("the provided minor version does not fit in 32 bits.");this.Za=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Ka},set:function(t){if(t.some((function(t){return 4!==t.length})))throw new f("Some of the compatible brands do not conform to the 4 character requirement");this.Ka=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var r=i[n];t.writer.writeString(r)}},n}(Fh),Bv=function(t){var n=function(n,i,r){return t.call(this,"ftyp",n,i,r)||this};return Rh(n,t),n}(Pv);function Ov(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new Bv(i,r,e)}yr(),zt();var xv=function(t){var n=function(n,i){void 0===i&&(i="free");var r=t.call(this,i)||this;return r.data=n,r};return Rh(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(xh.from(this.data))},n}(Fh);yr(),zt(),yr(),zt();var Lv=function(t){var n=function(n,i,r,e){void 0===e&&(e=0);var u=t.call(this,"mdhd",r,e)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u};return Rh(n,t),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ja},set:function(t){if(!Uh(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ja=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.$a},set:function(t){if(!Uh(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$a=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.tc},set:function(t){if(!Uh(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.tc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.nc},set:function(t){if(!Uh(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.nc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"language",{get:function(){return this.ic},set:function(t){if(!Hv(t))throw new f("Expected an ISO-639-2/T language code");this.ic=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,r=this.language;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(Vh),Mv=function(t){var n=function(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,0,r)||this};return Rh(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Lv),Fv=function(t){var n=function(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,1,r)||this};return Rh(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Lv);function Uv(t){var n=t.data,i=vv(n.nextUint32()),r=i.version,e=i.flags,u=dv(n,r),s=new Bh(xh.from(n.nextUint8Array(2)));s.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(s.readUInt(5));var c=o.map((function(t){return String.fromCharCode(t+96)})).join("");return Hv(c)||(c="und"),n.skip(2),0===r?new Mv(u,c,e.raw):new Fv(u,c,e.raw)}function Hv(t){return/^[a-z]{3}$/.test(t)}var Xv=function(t){var n=function(){return t.call(this,"mdia")||this};return Rh(n,t),n}(kv);function zv(t){for(var n=new Xv,i=0,r=fv(t.data);i<r.length;i++){var e=r[i];cv(e,"mdhd")?n.boxes.push(Uv(e)):cv(e,"hdlr")?n.boxes.push(mv(e)):n.boxes.push(_v(e))}return n}yr(),zt();var Vv=function(t){var n=function(){var n=t.call(this,"mdat")||this;return n.data=new xh,n};return Rh(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(Fh);function Wv(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),r=new Vv;return r.data.pushRange(i),r}yr(),zt();!function(t){var n=function(){return t.call(this,"minf")||this};Rh(n,t)}(kv);yr(),zt();var qv;!function(t){var n=function(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i};Rh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Sv);yr(),zt(),yr(),zt(),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(qv||(qv={})),yr(),zt();var Gv,jv,Yv={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Qv(t,n){n.writer.writeUInt(Hh(t.a,16),32),n.writer.writeUInt(Hh(t.b,16),32),n.writer.writeUInt(Hh(0,30),32),n.writer.writeUInt(Hh(t.c,16),32),n.writer.writeUInt(Hh(t.d,16),32),n.writer.writeUInt(Hh(0,30),32),n.writer.writeUInt(Hh(t.x,16),32),n.writer.writeUInt(Hh(t.y,16),32),n.writer.writeUInt(Hh(1,30),32)}function Zv(t,n){var i,r,e,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Gv.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleDependsOn)&&void 0!==r?r:jv.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleIsDependedOn)&&void 0!==e?e:jv.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:jv.UNKNOWN,2)}function Kv(t,n){var i,r,e;n.writer.writeUInt(0,4),Zv(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(r=t.sampleIsNonSyncSample)&&void 0!==r&&r),n.writer.writeUInt(null!==(e=t.sampleDegradationPriority)&&void 0!==e?e:0,16)}yr(),zt(),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Gv||(Gv={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(jv||(jv={})),yr(),zt(),yr(),zt();var Jv=function(){};yr(),zt(),yr(),zt(),yr(),zt();var $v=function(t){var n=function(n,i,r){var e=t.call(this,"pssh",n,0)||this;return e.systemId=i,e.data=r,e};return Rh(n,t),v.defineProperty(n.prototype,"systemId",{get:function(){return this.rc},set:function(t){if(16!==t.length)throw new f("Provided systemId length is not 16.");this.rc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"data",{get:function(){return this.j},set:function(t){if(!Uh(t.length,32))throw new f("Provided data length does not fit in 32 bits.");this.j=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(xh.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(xh.from(this.data))},n}(Vh),td=function(t){var n=function(n,i){return t.call(this,0,n,i)||this};return Rh(n,t),n}($v),nd=function(t){var n=function(n,i,r){var e=t.call(this,1,n,i)||this;return e.kIds=r,e};return Rh(n,t),v.defineProperty(n.prototype,"kIds",{get:function(){return this.ec},set:function(t){if(!Uh(t.length,32))throw new f("Provided kIds length cannot fit in 32 bits.");if(t.some((function(t){return 16!==t.length})))throw new f("Not all provided key ids are 16 bytes long.");this.ec=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var r=i[n];t.concat(xh.from(r))}},n}($v);function id(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),r=[];if(1===n)for(var e=t.data.nextUint32(),u=0;u<e;u++)r.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new nd(i,o,r):new td(i,o)}yr(),zt(),yr(),zt();var rd=function(t){var n=function(n,i,r){void 0===r&&(r=0);var e=t.call(this,"mehd",i,r)||this;return e.fragmentDuration=n,e};return Rh(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.uc},set:function(t){if(!Uh(t,this.bitSize))throw new f("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.uc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Vh),ed=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this};return Rh(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(rd),ud=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this};return Rh(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(rd);function sd(t){var n=t.data,i=vv(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new ed(n.nextUint32(),e.raw):new ud(n.nextUint64(),e.raw)}yr(),zt();var od=function(t){var n=function(n,i,r,e){void 0===i&&(i={}),void 0===r&&(r=0),void 0===e&&(e=0);var u,s,o,a=this;return(a=t.call(this,"trex",r,e)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,a.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a};return Rh(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.ac},set:function(t){if(!Uh(t,32))throw new f("Provided track id does not fit in 32 bits.");this.ac=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.cc},set:function(t){if(!Uh(t,32))throw new f("Provided default sample description index does not fit in 32 bits.");this.cc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.fc},set:function(t){if(!Uh(t,32))throw new f("Provided default sample duration does not fit in 32 bits.");this.fc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.hc},set:function(t){if(!Uh(t,32))throw new f("Provided default sample size does not fit in 32 bits.");this.hc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.vc},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Uh(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Uh(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.vc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Kv(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(Vh);function ad(t){var n=t.data,i=vv(n.nextUint32()),r=i.version,e=i.flags,u=n.nextUint32(),s=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),c=lv(new Bh(xh.from(n.nextUint8Array(4))));return new od(u,{sampleDescriptionIndex:s,sampleDuration:o,sampleSize:a,sampleFlags:c},r,e.raw)}var cd=function(t){var n=function(){return t.call(this,"mvex")||this};return Rh(n,t),n}(kv);function fd(t){for(var n=new cd,i=0,r=fv(t.data);i<r.length;i++){var e=r[i];cv(e,"mehd")?n.boxes.push(sd(e)):cv(e,"trex")?n.boxes.push(ad(e)):n.boxes.push(_v(e))}return n}yr(),zt();var hd=function(t){function n(i,r,e,u,s){void 0===s&&(s=0);var o,a,c,f=this;return(f=t.call(this,"mvhd",u,s)||this).creationTime=i.creation,f.modificationTime=i.modification,f.timescale=i.scale,f.duration=i.duration,f.rate=null!==(o=e.rate)&&void 0!==o?o:n.DEFAULT_RATE,f.volume=null!==(a=e.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,f.matrix=null!==(c=e.matrix)&&void 0!==c?c:Yv,f.dc=r,f}return Rh(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ja},set:function(t){if(!Uh(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ja=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.$a},set:function(t){if(!Uh(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$a=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.tc},set:function(t){if(!Uh(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.tc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.nc},set:function(t){if(!Uh(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.nc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"rate",{get:function(){return this.lc},set:function(t){if(!Uh(Hh(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.lc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.wc},set:function(t){if(!Uh(Hh(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.wc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this._c},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this._c=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.dc},set:function(t){if(0===t)throw new f("NextTrackId cannot be 0.");if(!Uh(t,32))throw new f("NextTrackId cannot exceed 32 bits.");this.dc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(Hh(this.rate,16),32),n.writer.writeUInt(Hh(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Qv(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(Vh),vd=function(t){var n=function(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,0,e)||this};return Rh(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(hd),dd=function(t){var n=function(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,1,e)||this};return Rh(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(hd);function ld(t){var n=t.data,i=vv(n.nextUint32()),r=i.version,e=i.flags,u=dv(n,r),s=zh(n.nextUint32(),16),o=zh(n.nextUint16(),8);n.skip(2),n.skip(8);var a=wv(n);n.skip(24);var c=n.nextUint32();return 0===r?new vd(u,c,{rate:s,volume:o,matrix:a},e.raw):new dd(u,c,{rate:s,volume:o,matrix:a},e.raw)}yr(),zt(),yr(),zt();var wd=function(t){var n=function(n,i,r,e,u,s,o){void 0===o&&(o={});var a,c,f,h=this;return(h=t.call(this,"tkhd",n,function(t){var n,i,r,e;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(r=null==t?void 0:t.trackInPreview)||void 0===r||r,trackSizeIsAspectRatio:null!==(e=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==e&&e}}(o))||this).creationTime=i.creation,h.modificationTime=i.modification,h.trackId=r,h.duration=i.duration,h.volume=e,h.width=u,h.height=s,h.layer=null!==(a=o.layer)&&void 0!==a?a:0,h.alternateGroup=null!==(c=o.alternateGroup)&&void 0!==c?c:0,h.matrix=null!==(f=o.matrix)&&void 0!==f?f:Yv,h};return Rh(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ja},set:function(t){if(!Uh(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ja=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.$a},set:function(t){if(!Uh(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$a=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"trackId",{get:function(){return this.ac},set:function(t){if(0===t)throw new f("trackId cannot be 0.");if(!Uh(t,32))throw new f("trackId cannot exceed 32 bits.");this.ac=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.nc},set:function(t){if(!Uh(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.nc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.wc},set:function(t){if(!Uh(Hh(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.wc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"width",{get:function(){return this.gc},set:function(t){if(!Uh(Hh(t,16),32))throw new f("Provided width does not fit in 32 bits (fixed 16.16).");this.gc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.mc},set:function(t){if(!Uh(Hh(t,16),32))throw new f("Provided height does not fit in 32 bits (fixed 16.16).");this.mc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"layer",{get:function(){return this.yc},set:function(t){if(!Uh(t,16))throw new f("Provided layer does not fit in 16 bits.");this.yc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Ac},set:function(t){if(!Uh(t,16))throw new f("Provided alternateGroup does not fit in 16 bits.");this.Ac=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this._c},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this._c=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(Hh(this.volume,8),16),n.writer.writeUInt(0,16),Qv(this.matrix,n),n.writer.writeUInt(Hh(this.width,16),32),n.writer.writeUInt(Hh(this.height,16),32)},n}(Vh),_d=function(t){var n=function(n,i,r,e,u,s){return t.call(this,0,n,i,r,e,u,s)||this};return Rh(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(wd),gd=function(t){var n=function(n,i,r,e,u,s){return t.call(this,1,n,i,r,e,u,s)||this};return Rh(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(wd);function md(t){var n,i,r,e,u=t.data,s=vv(u.nextUint32()),o=s.version,a=s.flags,c=a.isSet(8),f=a.isSet(4),h=a.isSet(2),v=a.isSet(1);0===o?(n=u.nextUint32(),i=u.nextUint32(),r=u.nextUint32(),u.skip(4),e=u.nextUint32()):(n=u.nextUint64(),i=u.nextUint64(),r=u.nextUint32(),u.skip(4),e=u.nextUint64()),u.skip(8);var d=u.nextInt16(),l=u.nextInt16(),w=zh(u.nextInt16(),8);u.skip(2);var _=wv(u),g=zh(u.nextUint32(),16),m=zh(u.nextUint32(),16);return 0===o?new _d({creation:n,modification:i,duration:e},r,w,g,m,{layer:d,matrix:_,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:f,trackInMovie:h}):new gd({creation:n,modification:i,duration:e},r,w,g,m,{layer:d,matrix:_,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:f,trackInMovie:h})}var yd=function(t){var n=function(){return t.call(this,"trak")||this};return Rh(n,t),n}(kv);function pd(t){for(var n=new yd,i=0,r=fv(t.data);i<r.length;i++){var e=r[i];cv(e,"tkhd")?n.boxes.push(md(e)):cv(e,"mdia")?n.boxes.push(zv(e)):cv(e,"edts")?n.boxes.push(Dv(e)):n.boxes.push(_v(e))}return n}var Ad=function(t){var n=function(){return t.call(this,"moov")||this};return Rh(n,t),n}(kv);function kd(t){for(var n=new Ad,i=0,r=fv(t.data);i<r.length;i++){var e=r[i];cv(e,"mvhd")?n.boxes.push(ld(e)):cv(e,"trak")?n.boxes.push(pd(e)):cv(e,"mvex")?n.boxes.push(fd(e)):cv(e,"pssh")?n.boxes.push(id(e)):n.boxes.push(_v(e))}return n}yr(),zt(),yr(),zt(),yr(),zt();var bd=function(t){var n=function(n,i,r){void 0===r&&(r=0);var e=t.call(this,"tfdt",i,r)||this;return e.baseMediaDecodeTime=n,e};return Rh(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.kc},set:function(t){if(!Uh(t,this.bitSize))throw new f("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.kc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Vh),Td=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this};return Rh(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(bd),Sd=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this};return Rh(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(bd);function Ed(t){var n=t.data,i=vv(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new Td(n.nextUint32(),e.raw):new Sd(n.nextUint64(),e.raw)}yr(),zt();var Id=function(t){var n=function(n,i){void 0===i&&(i=0);var r=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return r.trackId=n.trackId,r.baseDataOffset=n.baseDataOffset,r.sampleDescriptionIndex=n.sampleDescriptionIndex,r.defaultSampleDuration=n.defaultSampleDuration,r.defaultSampleSize=n.defaultSampleSize,r.defaultSampleFlags=n.defaultSampleFlags,r};return Rh(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.ac},set:function(t){if(!Uh(t,32))throw new f("Provided track id does not fit in 32 bits.");this.ac=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.bc},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is not set.");if(t&&!Uh(t,64))throw new f("Provided baseDataOffset does not fit in 32 bits.");this.bc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Tc},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is not set.");if(t&&!Uh(t,32))throw new f("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Tc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.fc},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is not set.");if(t&&!Uh(t,32))throw new f("Provided defaultSampleDuration does not fit in 32 bits.");this.fc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.hc},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is not set.");if(t&&!Uh(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.hc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.vc},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!Uh(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Uh(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.vc=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Kv(this.defaultSampleFlags,n)},n}(Vh);function Rd(t){var n=t.data,i=n.nextUint8(),r=new Bh(xh.from(n.nextUint8Array(3)));r.skipBits(6);var e=Boolean(r.readBit()),u=Boolean(r.readBit());r.skipBits(10);var s=Boolean(r.readBit()),o=Boolean(r.readBit()),a=Boolean(r.readBit());r.skipBits(1);var c=Boolean(r.readBit()),f=Boolean(r.readBit()),h=n.nextUint32(),v=f?n.nextUint64():void 0,d=c?n.nextUint32():void 0,l=a?n.nextUint32():void 0,w=o?n.nextUint32():void 0,_=s?lv(new Bh(xh.from(n.nextUint8Array(4)))):void 0;return new Id({trackId:h,defaultBaseIsMoof:e,durationIsEmpty:u,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:w,defaultSampleFlags:_},i)}yr(),zt();var Cd=function(t){var n=function(n,i,r){var e=t.call(this,"trun",n,function(t){var n,i,r,e;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(r=t.sampleFlagsPresent)&&void 0!==r&&r,sampleCompositionTimeOffsetsPresent:null!==(e=t.sampleCompositionTimeOffsetsPresent)&&void 0!==e&&e}}(i))||this;return e.dataOffset=i.dataOffset,e.samples=r,e.firstSampleFlags=i.firstSampleFlags,e};return Rh(n,t),v.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Sc},set:function(t){if(t&&!Uh(t,32))throw new f("Provided data offset does not fit in 32 bits.");this.Sc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.Ec},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Uh(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Uh(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.Ec=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.Ic},set:function(t){var n,i;if(!Uh(t.length,32))throw new f("The sample count cannot be represented in 32 bits.");for(var r=0,e=t;r<e.length;r++){var u=e[r];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new f("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new f("The sample duration present flag is not set.");if(u.duration&&!Uh(u.duration,32))throw new f("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new f("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new f("The sample size present flag is not set.");if(u.size&&!Uh(u.size,32))throw new f("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!Uh(u.flags.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!Uh(u.flags.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!Uh(u.compositionTimeOffset,32))throw new f("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Ic=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Kv(this.firstSampleFlags,n);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(e.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(e.size,32),this.flags.sampleFlagsPresent&&Kv(e.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(e.compositionTimeOffset,32):n.writer.writeInt(e.compositionTimeOffset,32))}},n}(Vh);function Nd(t){var n=t.data,i=n.nextUint8(),r=new Bh(xh.from(n.nextUint8Array(3)));r.skipBits(12);var e=Boolean(r.readBit()),u=Boolean(r.readBit()),s=Boolean(r.readBit()),o=Boolean(r.readBit());r.skipBits(5);var a=Boolean(r.readBit());r.skipBits(1);var c=Boolean(r.readBit()),f=n.nextUint32(),h={sampleDurationPresent:o,sampleSizePresent:s,sampleFlagsPresent:u,sampleCompositionTimeOffsetsPresent:e};c&&(h.dataOffset=n.nextInt32()),a&&(h.firstSampleFlags=lv(new Bh(xh.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<f;d++){var l={};o&&(l.duration=n.nextUint32()),s&&(l.size=n.nextUint32()),u&&(l.flags=lv(new Bh(xh.from(n.nextUint8Array(4))))),e&&(l.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(l)}return new Cd(i,h,v)}var Dd=function(t){var n=function(){return t.call(this,"traf")||this};return Rh(n,t),n}(kv);function Pd(t){for(var n=new Dd,i=0,r=fv(t.data);i<r.length;i++){var e=r[i];cv(e,"tfhd")?n.boxes.push(Rd(e)):cv(e,"tfdt")?n.boxes.push(Ed(e)):cv(e,"trun")?n.boxes.push(Nd(e)):n.boxes.push(_v(e))}return n}var Bd=function(t){var n=function(){return t.call(this,"moof")||this};return Rh(n,t),n}(kv);function Od(t){for(var n=new Bd,i=0,r=fv(t.data);i<r.length;i++){var e=r[i];cv(e,"traf")?n.boxes.push(Pd(e)):cv(e,"pssh")?n.boxes.push(id(e)):n.boxes.push(_v(e))}return n}yr(),zt();!function(t){var n=function(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i};Rh(n,t),v.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.Rc},set:function(t){if(!Uh(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.Rc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(Vh);yr(),zt();var xd=function(t){var n=function(n){var i=t.call(this,"frma")||this;return i.codingName=n,i};return Rh(n,t),v.defineProperty(n.prototype,"codingName",{get:function(){return this.Cc},set:function(t){if(4!==t.length)throw new f("Provided coding name was not 4 characters long.");this.Cc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(Fh);yr(),zt();!function(t){var n=function(n,i){var r=t.call(this,"pasp")||this;return r.hSpacing=n,r.vSpacing=i,r};Rh(n,t),v.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Nc},set:function(t){if(!Uh(t,32))throw new f("Provided hSpacing does not fit in 32 bits.");this.Nc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Dc},set:function(t){if(!Uh(t,32))throw new f("Provided vSpacing does not fit in 32 bits.");this.Dc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(Fh);yr(),zt();!function(t){var n=function(n,i,r){var e=t.call(this,n)||this;return e.sample=i,e.sinf=r,e};Rh(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(kv);yr(),zt();!function(t){var n=function(n,i,r){var e=t.call(this,"sinf")||this;return e.schm=i,e.schi=r,e.frma=new xd(n),e};Rh(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,r;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(r=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==r?r:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(Fh);yr(),zt();var Ld=function(t){var n=function(n,i,r){var e=t.call(this,"saio",n,void 0===r?0:1)||this;return e.entries=i,e.explicitAuxInfoType=r,e};return Rh(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.Ma},set:function(t){var n=this;if(!Uh(t.length,32))throw new f("Number of entries provided does not fit in 32 bits.");if(t.some((function(t){return!Uh(t,n.bitSize)})))throw new f("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Ma=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Pc},set:function(t){if(void 0===t)this.flags=0;else{if(!Uh(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!Uh(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Pc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(Vh);(function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};Rh(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r,32)}}})(Ld),function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};Rh(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.getHighBitsUnsigned(),32),t.writer.writeUInt(r.getLowBitsUnsigned(),32)}}}(Ld);yr(),zt();!function(t){var n=function(n,i,r){var e=t.call(this,"saiz",0,void 0===r?0:1)||this;return e.defaultSampleInfoSize=n,e.sampleInfoSizes=i,e.explicitAuxInfoType=r,e};Rh(n,t),v.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.Bc},set:function(t){if(!Uh(t,8))throw new f("Provided defaultSampleInfoSize does not fit in a single byte.");this.Bc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Oc},set:function(t){if(!Uh(t.length,32))throw new f("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some((function(t){return!Uh(t,8)})))throw new f("Not all provided sampleInfoSizes fit in a byte.");this.Oc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Pc},set:function(t){if(void 0===t)this.flags=0;else{if(!Uh(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!Uh(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Pc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new f("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,r=this.sampleInfoSizes;i<r.length;i++){var e=r[i];n.writer.writeByte(e)}}}(Vh);yr(),zt();!function(t){var n=function(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i};Rh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,r=this.samples;i<r.length;i++){Zv(r[i],n)}}}(Vh);yr(),zt();!function(t){var n=function(n){return t.call(this,"stsd",n,0)||this};Rh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Sv);yr(),zt();var Md=function(t){var n=function(n,i,r){var e=t.call(this,"sgpd",n,0)||this;return e.entries=r,e.groupingType=i,e};return Rh(n,t),v.defineProperty(n.prototype,"groupingType",{get:function(){return this.xc},set:function(t){if(4!==t.length)throw new f("The provided groupingType does not equal 4 characters.");this.xc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];this.serializeEntryBoxContent(n,e)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(Vh);(function(t){var n=function(n,i){return t.call(this,0,n,i)||this};Rh(n,t),n.prototype.serializeVersionBoxContent=function(t){}})(Md),function(t){var n=function(n,i,r){var e=t.call(this,1,n,r)||this;return e.defaultLength=i,e};Rh(n,t),v.defineProperty(n.prototype,"defaultLength",{get:function(){return this.Lc},set:function(t){if(!Uh(t,32))throw new f("The provided defaultLength does not fit in 32 bits.");this.Lc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(Md),function(t){var n=function(n,i,r,e){void 0===e&&(e=0);var u=this;if(n<2)throw new f("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,r)||this).defaultSampleDescriptionIndex=e,u};Rh(n,t),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.cc},set:function(t){if(!Uh(t,32))throw new f("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.cc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(Md);yr(),zt();(function(t){var n=function(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i};Rh(n,t),v.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.Mc},set:function(t){if(!Uh(t.length,32))throw new f("Number of allowed samples cannot fit in 32 bits.");if(t.some((function(t){return!Uh(t,32)})))throw new f("Not all sampleSizes can be represented in 32 bits.");this.Mc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,r=this.sampleSizes;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}})(Vh),function(t){var n=function(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var r=t.call(this,"stsz",0,0)||this;return r.defaultSampleSize=n,r.samples=i,r};Rh(n,t),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.hc},set:function(t){if(!Uh(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.hc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.Ic},set:function(t){if(!Uh(t,32))throw new f("Number of allowed samples cannot fit in 32 bits.");this.Ic=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(Vh);yr(),zt();!function(t){var n=function(){return t.call(this,"stbl")||this};Rh(n,t)}(kv);yr(),zt();!function(t){var n=function(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i};Rh(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Ma},set:function(t){if(!Uh(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Uh(t.firstChunk,32)||!Uh(t.sampleDescriptionIndex,32)||!Uh(t.samplesPerChunk,32)})))throw new f("Not all entries can be represented in 96 bits.");this.Ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.firstChunk,32),n.writer.writeUInt(e.samplesPerChunk,32),n.writer.writeUInt(e.sampleDescriptionIndex,32)}}}(Vh);yr(),zt();!function(t){var n=function(){return t.call(this,"schi")||this};Rh(n,t)}(kv);yr(),zt();!function(t){var n=function(n,i,r){var e=t.call(this,"schm",0,void 0===r?0:1)||this;return e.schemeType=n,e.schemeVersion=i,e.schemeUri=r,e};Rh(n,t),v.defineProperty(n.prototype,"schemeType",{get:function(){return this.Fc},set:function(t){if(4!==t.length)throw new f("The provided schemeType does not have a length of 4.");this.Fc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.Uc},set:function(t){if(!Uh(t,32))throw new f("The provided schemeVersion does not fit in 23 bits.");this.Uc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeUri",{get:function(){return this.Hc},set:function(t){if(t&&4!==t.length)throw new f("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.Hc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(Vh);yr(),zt();var Fd=function(t){var n=function(n,i,r,e,u,s,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=r,a.earliestPresentationTime=e,a.firstOffset=u,a.references=s,a};return Rh(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"referenceId",{get:function(){return this.Xc},set:function(t){if(!Uh(t,32))throw new f("Provided referenceId does not fit in 32 bits.");this.Xc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.tc},set:function(t){if(!Uh(t,32))throw new f("Provided timescale does not fit in 32 bits.");this.tc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.zc},set:function(t){if(!Uh(t,this.bitSize))throw new f("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.zc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstOffset",{get:function(){return this.Vc},set:function(t){if(!Uh(t,this.bitSize))throw new f("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.Vc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"references",{get:function(){return this.Wc},set:function(t){if(!Uh(t.length,16))throw new f("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!Uh(r.referencedSize,31))throw new f("Provided referenced size does not fit in 31 bits.");if(!Uh(r.subsegmentDuration,32))throw new f("Provided subsegment duration does not fit in 31 bits.");if(!Uh(r.sapType,3))throw new f("Provided SAP type does not fit in 3 bits.");if(!Uh(r.sapDeltaTime,28))throw new f("Provided SAP delta time does not fit in 28 bits.")}this.Wc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,r=this.references;i<r.length;i++){var e=r[i];n.writer.writeBit(e.referenceType),n.writer.writeUInt(e.referencedSize,31),n.writer.writeUInt(e.subsegmentDuration,32),n.writer.writeBool(e.startsWithSap),n.writer.writeUInt(e.sapType,3),n.writer.writeUInt(e.sapDeltaTime,28)}},n}(Vh),Ud=function(t){var n=function(n,i,r,e,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,r,e,u,s)||this};return Rh(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(Fd),Hd=function(t){var n=function(n,i,r,e,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,r,e,u,s)||this};return Rh(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(Fd);yr(),zt();var Xd=function(t){var n=function(n,i,r){return t.call(this,"styp",n,i,r)||this};return Rh(n,t),n}(Pv);function zd(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new Xd(i,r,e)}yr(),zt();!function(t){var n=function(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i};Rh(n,t),v.defineProperty(n.prototype,"balance",{get:function(){return this.qc},set:function(t){if(t<-1||t>1)throw new f("Provided balance does not fit in the allowed range [-1, 1].");if(!Uh(Hh(t,8),16))throw new f("Provided balance does not fit in 16 bits (fixed 8.8).");this.qc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(Hh(this.balance,8),16),n.writer.writeUInt(0,16)}}(Vh);yr(),zt();!function(t){var n=function(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i};Rh(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Ma},set:function(t){if(!Uh(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Uh(t,32)})))throw new f("Not all entries can be represented in 32 bits.");this.Ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(Vh);yr(),zt();!function(t){var n=function(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i};Rh(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Ma},set:function(t){if(!Uh(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Uh(t.sampleCount,32)||!Uh(t.sampleDelta,32)})))throw new f("Not all entries can be represented in 64 bits.");this.Ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),n.writer.writeUInt(e.sampleDelta,32)}}}(Vh);yr(),zt();!function(t){var n=function(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i};Rh(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.ac},set:function(t){if(!Uh(t,32))throw new f("The provided trackId does not fit in 32 bits.");this.ac=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Sv);yr(),zt();!function(t){var n=function(){return t.call(this,"udta")||this};Rh(n,t)}(kv);yr(),zt();var Vd={red:0,green:0,blue:0};!function(t){var n=function(n,i){void 0===n&&(n=0),void 0===i&&(i=Vd);var r=t.call(this,"vmhd",0,1)||this;return r.graphicsMode=n,r.opColor=i,r};Rh(n,t),v.defineProperty(n.prototype,"opColor",{get:function(){return this.Gc},set:function(t){if(!Uh(t.red,16)||!Uh(t.green,16)||!Uh(t.blue,16))throw new f("Not all colors could be represented in 16 bits.");this.Gc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(Vh);yr(),zt();var Wd=function(t){var n=function(n,i,r,e,u){void 0===e&&(e={}),void 0===u&&(u=void 0);var s,o,a,c,f,h=this;return(h=t.call(this,n,i)||this).width=r.width,h.height=r.height,h.horizontalResolution=null!==(s=r.horizontal)&&void 0!==s?s:72,h.verticalResolution=null!==(o=r.vertical)&&void 0!==o?o:72,h.compressorName=null!==(a=e.compressorName)&&void 0!==a?a:"",h.frameCount=null!==(c=e.frameCount)&&void 0!==c?c:1,h.depth=null!==(f=e.depth)&&void 0!==f?f:24,h.clap=e.clap,h.pasp=e.pasp,h.extra=u,h};return Rh(n,t),v.defineProperty(n.prototype,"width",{get:function(){return this.gc},set:function(t){if(!Uh(t,16))throw new f("Provided width does not fit in 16 bits.");this.gc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.mc},set:function(t){if(!Uh(t,16))throw new f("Provided height does not fit in 16 bits.");this.mc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.jc},set:function(t){if(!Uh(Hh(t,16),32))throw new f("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.jc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.Yc},set:function(t){if(!Uh(Hh(t,16),32))throw new f("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.Yc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compressorName",{get:function(){return this.Qc},set:function(t){if(t.length>31)throw new f("The provided compressorName should at most be 31 characters long.");this.Qc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"frameCount",{get:function(){return this.Zc},set:function(t){if(!Uh(t,16))throw new f("Provided frameCount does not fit in 16 bits.");this.Zc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"depth",{get:function(){return this.Kc},set:function(t){if(!Uh(t,16))throw new f("Provided depth does not fit in 16 bits.");this.Kc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,r,e,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(e=null===(r=this.pasp)||void 0===r?void 0:r.getSize())&&void 0!==e?e:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(Hh(this.horizontalResolution,16),32),n.writer.writeUInt(Hh(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&Xh(n.writer,this.extra)},n}(bv);yr(),zt(),yr(),zt();!function(t){var n=function(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i};Rh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof g?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof g?n.concat(xh.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(Vh);yr(),zt();!function(t){var n=function(n,i,r){var e=t.call(this,"mp4a",n,r)||this;return e.esd=i,e};Rh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Tv);yr(),zt();!function(t){var n=function(n,i,r,e){void 0===e&&(e={});var u=t.call(this,"mp4v",n,i,e)||this;return u.esDescriptor=r,u};Rh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Wd);yr(),zt();!function(t){var n=function(n,i){var r=t.call(this,"mp4s",n)||this;return r.esDescriptor=i,r};Rh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(bv);yr(),zt(),yr(),zt();!function(t){var n=function(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i};Rh(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(Fh);yr(),zt();!function(){var t=function(t,n,i,r,e,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=r,this.ppsSets=e};v.defineProperty(t.prototype,"version",{get:function(){return this.Jc},set:function(t){if(!Uh(t,8))throw new f("Provided version does not fit in 8 bits.");this.Jc=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"profileIndication",{get:function(){return this.$c},set:function(t){if(!Uh(t,8))throw new f("Provided profileIndication does not fit in 8 bits.");this.$c=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.tf},set:function(t){if(!Uh(t,8))throw new f("Provided profileCompatibility does not fit in 8 bits.");this.tf=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"levelIndication",{get:function(){return this.nf},set:function(t){if(!Uh(t,8))throw new f("Provided levelIndication does not fit in 8 bits.");this.nf=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"spsSets",{get:function(){return this.if},set:function(t){if(!Uh(t.length,5))throw new f("Provided number of spsSets exceeds the max (32)");this.if=t},enumerable:!1,configurable:!0}),v.defineProperty(t.prototype,"ppsSets",{get:function(){return this.rf},set:function(t){if(!Uh(t.length,8))throw new f("Provided number of ppsSets exceeds the max (256)");this.rf=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce((function(t,n){return t+n.length}),0)+2*this.ppsSets.length+this.ppsSets.reduce((function(t,n){return t+n.length}),0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.length,16),t.concat(xh.from(r))}t.writer.writeByte(this.ppsSets.length);for(var e=0,u=this.ppsSets;e<u.length;e++){var s=u[e];t.writer.writeUInt(s.length,16),t.concat(xh.from(s))}}}();yr(),zt();!function(t){var n=function(n,i,r,e,u){void 0===e&&(e={}),void 0===u&&(u=void 0);var s=t.call(this,"avc1",n,i,e)||this;return s.configurationBox=r,s.bitrateBox=u,s};Rh(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(Wd);yr(),zt();!function(t){var n=function(n,i,r){var e=t.call(this,"btrt")||this;return e.bufferSizeDb=n,e.max=i,e.avg=r,e};Rh(n,t),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Ea},set:function(t){if(!Uh(t,32))throw new f("Provided bufferSizeDb does not fit in 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"max",{get:function(){return this.ef},set:function(t){if(!Uh(t,32))throw new f("Provided max does not fit in 32 bits.");this.ef=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avg",{get:function(){return this.uf},set:function(t){if(!Uh(t,32))throw new f("Provided avg does not fit in 32 bits.");this.uf=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(Fh);yr(),zt(),yr(),zt(),yr(),zt();var qd=function(t){var n=function(n,i){var r,e,u,s,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(e=null===(r=i.constantIv)||void 0===r?void 0:r.length)&&void 0!==e?e:0)>0)throw new f("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new g(0),o};return Rh(n,t),v.defineProperty(n.prototype,"isProtected",{get:function(){return this.sf},set:function(t){if(!Uh(t,8))throw new f("Provided isProtected does not fit in 1 byte.");this.sf=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.cf},set:function(t){if(![8,16].includes(t))throw new f("Provided perSampleIvSize does not match any allowed value [8, 16].");this.cf=t,this.hf=new g(0)},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"kId",{get:function(){return this.vf},set:function(t){if(16!==t.length)throw new f("Provided kId length is not 16.");this.vf=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"constantIv",{get:function(){return this.hf},set:function(t){if(![8,16].includes(t.length))throw new f("Provided constant IV length does not match any allowed value [8, 16].");this.hf=t,this.cf=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),Xh(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),Xh(t.writer,this.constantIv))},n}(Vh),Gd=(function(t){var n=function(n){return t.call(this,0,n)||this};Rh(n,t)}(qd),function(t){var n=function(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i};return Rh(n,t),v.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.df},set:function(t){if(!Uh(t,4))throw new f("Provided cryptByteBlocks does not fit in 4 bits.");this.df=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.lf},set:function(t){if(!Uh(t,4))throw new f("Provided skipByteBlocks does not fit in 4 bits.");this.lf=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(qd));!function(t){var n=function(n){var i=t.call(this)||this;return i.tencBox=new Gd(n),i};Rh(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Jv);function jd(t){return void 0!==t.iv}function Yd(t){return void 0!==t.subsamples}yr(),zt();!function(t){var n=function(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i};Rh(n,t),v.defineProperty(n.prototype,"samples",{get:function(){return this.Ic},set:function(t){var n;if(!Uh(t.length,32))throw new f("The number of samples provided does not fit in 32 bits.");for(var i=0,r=t;i<r.length;i++){var e=r[i];if(jd(e)&&![8,16].includes(e.iv.length))throw new f("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Yd(e)),!0===n&&!Yd(e)||!1===n&&Yd(e))throw new f("Mix of samples with and without subsamples detected.");if(Yd(e)){if(!Uh(e.subsamples.length,16))throw new f("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=e.subsamples;u<s.length;u++){var o=s[u];if(!Uh(o.clearData,16))throw new f("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!Uh(o.protectedData,23))throw new f("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Ic=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,r=this.samples;i<r.length;i++){var e=r[i];jd(e)&&(n+=e.iv.length),Yd(e)&&(n+=2+6*e.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];if(jd(e)&&Xh(n.writer,e.iv),Yd(e)){n.writer.writeUInt(e.subsamples.length,16);for(var u=0,s=e.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(Vh);yr(),zt(),yr(),zt();!function(t){var n=function(n,i,r,e,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=r,s.timescale=e.timescale,s.presentationTimeDelta=e.presentationTimeDelta,s.eventDuration=e.eventDuration,s};Rh(n,t),v.defineProperty(n.prototype,"timescale",{get:function(){return this.tc},set:function(t){if(!Uh(t,32))throw new f("The provided timescale does not fit in 32 bits.");this.tc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.wf},set:function(t){if(!Uh(t,32))throw new f("The provided presentationTimeDelta does not fit in 32 bits.");this.wf=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"eventDuration",{get:function(){return this._f},set:function(t){if(!Uh(t,32))throw new f("The provided eventDuration does not fit in 32 bits.");this._f=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"id",{get:function(){return this.gf},set:function(t){if(!Uh(t,32))throw new f("The provided id does not fit in 32 bits.");this.gf=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(xh.from(this.data))}}(Vh);yr(),zt(),yr(),zt(),yr(),zt();var Qd=function(){var t=function(){this.boxes=[]};return t.prototype.serialize=function(){for(var t=new Mh,n=0,i=this.boxes;n<i.length;n++){var r=i[n];t.concat(r.serialize())}return t.toRangedBuffer()},t}();function Zd(t,n){return function(i){var r=function(t,n){for(var i=t.data,r=t.cursor;r.offset<i.byteLength;){var e=hv(i,r);if(!e.complete)return;if(cv(e.box,n))return e.box}}(new av(uv(i),new ov),t);if(!r)throw new f("".concat(t," box not found"));return n(r)}}var Kd=Zd("moov",kd),Jd=Zd("sidx",(function(t){var n,i,r=t.data,e=vv(r.nextUint32()),u=e.version,s=e.flags,o=r.nextUint32(),a=r.nextUint32();0===u?(n=r.nextUint32(),i=r.nextUint32()):(n=r.nextUint64(),i=r.nextUint64()),r.skip(2);for(var c=r.nextUint16(),f=[],h=0;h<c;h++){var v=new Bh(xh.from(r.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),w=v.readUInt(32),_=Boolean(v.readBit()),g=v.readUInt(3),m=v.readUInt(28);f.push({referenceType:d,referencedSize:l,subsegmentDuration:w,startsWithSap:_,sapType:g,sapDeltaTime:m})}return 0===u?new Ud(o,a,n,i,f,s.raw):new Hd(o,a,n,i,f,s.raw)})),$d=Zd("moof",Od),tl=Zd("pssh",id);function nl(t){return function(t){for(var n=new Qd,i=0,r=fv(t);i<r.length;i++){var e=r[i];cv(e,"ftyp")?n.boxes.push(Ov(e)):cv(e,"styp")?n.boxes.push(zd(e)):cv(e,"moov")?n.boxes.push(kd(e)):cv(e,"moof")?n.boxes.push(Od(e)):cv(e,"mdat")?n.boxes.push(Wv(e)):n.boxes.push(_v(e))}return n}(new av(uv(t),new ov))}var il=function(t){function n(n,i){var r;(r=t.call(this)||this).mf=n,r.yf=i,r.pf=!1,r.Af=function(){r.kf()},r.bf=function(t){r.qs(new $c($a(r),t.messageType,Th(r.yf,t.message)))},r.Tf=function(){r.pf=!0,r.Sf.xo>0&&(r.Sf.Oo(),r.qs(new Jc($a(r)))),r.mf.removeEventListener("keystatuseschange",r.Af),r.mf.removeEventListener("message",r.bf)},r.mf.addEventListener("keystatuseschange",r.Af),r.mf.addEventListener("message",r.bf),r.Sf=new uf;var e=[];return r.mf.closed&&e.push(j.resolve(r.mf.closed)),r.Ef=new kh,e.push(r.Ef.Wo),r.vt=j.race(e).then(r.Tf,r.Tf),r.kf(),r}zr(n,t);var i=n.prototype;return i.If=function(){if(this.pf)return this.vt;var t=[];return t.push(j.resolve(this.mf.close())),t.push(Wc(1e3)),this.Ef.Fs(j.race(t).catch(rl)),this.pf=!0,this.vt},i.Rf=function(t,n,i){if(te.gr){var r=tl(_h(n));if(1===r.version)n=new td(r.systemId,r.data).serialize().join()}return j.resolve(this.mf.generateRequest(t,n)).catch(rl)},i.Cf=function(t){return j.resolve(this.mf.load(t)).catch(rl)},i.Nf=function(){return j.resolve(this.mf.remove()).catch(rl)},i.Df=function(t){return j.resolve(this.mf.update(t)).catch(rl)},i.kf=function(){var t=this;this.Sf.Oo(),this.mf.keyStatuses.forEach((function(n,i){t.Pf(i,n)})),this.qs(new Jc(this))},i.Pf=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=_h(t);if(this.yf===pa&&16===r.byteLength){var e=dh(r),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.yf===pa&&"status-pending"===n&&(n="usable"),this.Sf.Bo(r,n)},Ar(n,[{key:"Bf",get:function(){return this.vt}},{key:"Of",get:function(){return this.mf.expiration}},{key:"xf",get:function(){return this.Sf}},{key:"Lf",get:function(){return this.mf.sessionId}}]),n}(Gc);function rl(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|l(i[1],16))}throw new Eh(t.message,void 0,n,t)}var el=function(){function t(t,n,i){this.Mf=t,this.Ff=n,this.Uf=i}var n=t.prototype;return n.Hf=function(t){var n=this;return ta((function(){return ia(this,(function(i){return[2,new il(n.Mf.createSession(t),n.Ff)]}))}))()},n.Xf=function(t){return j.resolve(this.Mf.setServerCertificate(t))},n.zf=function(t){return j.resolve(t.setMediaKeys(this.Mf))},n.Vf=function(t){return j.resolve(t.setMediaKeys(null))},n.Wf=function(){return j.resolve()},t}(),ul=function(){function t(t,n,i){this.qf=t,this.yf=n,this.Gf=i}var n=t.prototype;return n.jf=function(){var t=this;return ta((function(){var n;return ia(this,(function(i){switch(i.label){case 0:return[4,t.qf.createMediaKeys()];case 1:return n=i.sent(),[2,new el(n,t.yf,t.Gf)]}}))}))()},n.Yf=function(){return this.Gf},Ar(t,[{key:"Ff",get:function(){return this.qf.keySystem}}]),t}();yr(),zt(),yr(),zt();var sl="video/avc",ol="video/hevc",al="video/mp4",cl="video/mpeg",fl="video/mpeg2",hl="video/webm",vl="video/x-unknown",dl="audio/mp4",ll="audio/webm",wl="image/jpeg",_l="application/ttml+xml",gl="application/mp4",ml="text/vtt";function yl(t){return Fa(t,gl)||Fa(t,al)||Fa(t,dl)}function pl(t){return Fa(t,hl)||Fa(t,ll)}var Al=function(){function t(t,n){this.$u=t,this.Qf=n}return t.prototype.Zf=function(t){for(var n=0,i=this.Qf;n<i.length;n++){var r=ra(i[n],2),e=r[0],u=r[1];if(e.toLowerCase()===t.toLowerCase())return u}},t}();function kl(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Al(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),u=[],s=0,o=!1,a=0;a<e.length;a++){var c=e[a];if(o||";"!==c)'"'===c&&(o=!o);else{var f=bl(e.substr(s,a));f&&u.push(f),s=a+1}}if(s!==e.length){var h=bl(e.substr(s));h&&u.push(h)}return new Al(r,u)}function bl(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}function Tl(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function Sl(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);i&&(n="avc1."+Va((Number(i[1])<<16|Number(i[2])).toString(16),6,"0"));return n}function El(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,Kf:r.Kf},s=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter((function(t){return Boolean(t.contentType)}));o.length&&(u.audioCapabilities=o.filter((function(r){return Il(t,n,i,r)})),s=!0,u.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var a=r.videoCapabilities.filter((function(t){return Boolean(t.contentType)}));a.length&&(u.videoCapabilities=a.filter((function(r){return Il(t,n,i,r)})),s=!0,u.videoCapabilities.length&&(e=!0))}return s||(e=t(i,"video/mp4")),e?u:void 0}}function Il(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!lc(n,r.encryptionScheme))&&(!r.robustness&&t(i,Tl(r.contentType))))}function Rl(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}function Cl(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function Nl(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Dl))||!(!t.videoCapabilities||!t.videoCapabilities.some(Dl))}function Dl(t){return!t.robustness}function Pl(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push(na({},e,{robustness:n}))}return i}var Bl=function(){function t(){}return t.prototype.gs=function(t,n){return ta((function(){var i,r,e,s,o,a,c;return ia(this,(function(f){switch(f.label){case 0:for(n=n.filter((function(t){return!t.Kf})),i=0;i<n.length;i++)(r=n[i]).audioCapabilities&&(r.audioCapabilities=Cl(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Cl(r.videoCapabilities));if(t!==ba||!n.some(Nl))return[3,4];e=n.map((function(t){return function(t,n){return na({},t,{videoCapabilities:t.videoCapabilities?Pl(t.videoCapabilities,n):void 0,audioCapabilities:t.audioCapabilities?Pl(t.audioCapabilities,n):void 0})}(t,"SW_SECURE_CRYPTO")})),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,u.requestMediaKeySystemAccess(t,e)];case 2:return s=f.sent(),o=s.getConfiguration(),[2,new ul(s,t,o)];case 3:return f.sent(),[3,4];case 4:return[4,u.requestMediaKeySystemAccess(t,n)];case 5:return a=f.sent(),c=a.getConfiguration(),[2,new ul(a,t,c)]}}))}))()},t.Jf=function(){return Qa()},t}();yr(),zt(),yr(),zt(),kr(),yr(),zt(),yr(),zt(),kr();var Ol=function(t){function n(n,i){var r;return(r=t.call(this)||this).$f=n,r.nh=i,r.pf=!1,r.ih=void 0,r.rh=void 0,r.eh=void 0,r.Tf=function(){r.pf=!0,r.uh.qo(void 0),r.eh&&(r.eh.removeEventListener("mskeyclose",r.Tf),r.eh.removeEventListener("mskeymessage",r.sh),r.eh.removeEventListener("mskeyerror",r.oh),r.eh.removeEventListener("mskeyadded",r.ah))},r.sh=function(t){r.rh&&(r.rh.qo(void 0),r.rh=void 0),r.qs(new $c($a(r),"license-request",mh(t.message).buffer,t.destinationURL||void 0))},r.oh=function(){var t=r.eh&&r.eh.error;if(t){var n=new Eh("Unknown CDM error",t.code,t.systemCode);if(r.rh)r.rh.Go(n),r.rh=void 0;else if(r.ih)r.ih.Go(n),r.ih=void 0;else switch(n.jo){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.fh("output-not-allowed");break;default:r.fh("internal-error")}}},r.ah=function(){r.rh&&(r.fh("usable"),r.rh.qo(void 0),r.rh=void 0),r.ih&&(r.fh("usable"),r.ih.qo(void 0),r.ih=void 0)},r.uh=new kh,r.hh=new uf,r}zr(n,t);var i=n.prototype;return i.Rf=function(t,n,i){var r=this;return ta((function(){return ia(this,(function(t){switch(t.label){case 0:return r.dh(),r.rh=new kh,r.Hf(_h(n),i),[4,r.rh.Wo];case 1:return t.sent(),[2]}}))}))()},i.Hf=function(t,n){if(!t)throw new h("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.lh;return(i=n?this.$f.createSession(this.nh,t,r):this.$f.createSession(this.nh,t)).addEventListener("mskeyclose",this.Tf),i.addEventListener("mskeymessage",this.sh),i.addEventListener("mskeyerror",this.oh),i.addEventListener("mskeyadded",this.ah),this.eh=i,this.fh("status-pending"),i},i.Cf=function(t){var n=this;return ta((function(){return ia(this,(function(t){return n.dh(),[2,!0]}))}))()},i.Df=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:if(n.ih=new kh,n.dh(),!n.eh)return[2,j.resolve()];if(0===(i=_h(t)).byteLength)throw new h("Cannot call update with an empty response.");return n.eh.update(i),[4,n.ih.Wo];case 1:return r.sent(),[2]}}))}))()},i.If=function(){return!this.pf&&this.eh&&(this.pf=!0,this.eh.close()),this.uh.Wo},i.Nf=function(){var t=this;return ta((function(){return ia(this,(function(n){return t.dh(),[2]}))}))()},i.dh=function(){if(this.pf)throw new h("Already closing or closed.")},i.fh=function(t){this.hh.Oo(),this.hh.Bo(ef,t),this.qs(new Jc(this))},Ar(n,[{key:"Lf",get:function(){return this.eh&&this.eh.sessionId||""}},{key:"Of",get:function(){return NaN}},{key:"Bf",get:function(){return this.uh.Wo}},{key:"xf",get:function(){return this.hh}}]),n}(Gc),xl=function(){function t(t,n,i){this.$f=t,this.Ff=n,this.Uf=i;var r=Rl(i)||"video/mp4";this.nh=Tl(r)}var n=t.prototype;return n.Hf=function(t){var n=this;return ta((function(){return ia(this,(function(t){return[2,new Ol(n.$f,n.nh)]}))}))()},n.Xf=function(t){return j.resolve(!1)},n.zf=function(t){var n=this,i=function(){t.msSetMediaKeys(n.$f),t.removeEventListener("loadedmetadata",i)};return t.readyState>=1?t.msSetMediaKeys(this.$f):t.addEventListener("loadedmetadata",i),j.resolve()},n.Vf=function(t){return j.resolve()},n.Wf=function(){return j.resolve()},t}(),Ll=function(){function t(t,n){this.yf=t,this.wh=n}var n=t.prototype;return n.Yf=function(){return this.wh},n.jf=function(){var t=new mo.MSMediaKeys(this.yf);return j.resolve(new xl(t,this.yf,this.wh))},Ar(t,[{key:"Ff",get:function(){return this.yf}}]),t}(),Ml=function(){function t(){}return t.prototype.gs=function(t,n){try{return j.resolve(function(t,n){if(!Fl())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=El(Ul,Zc,t,r);if(e)return new Ll(t,e)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.Jf=function(){return Fl()},t}();function Fl(){return void 0!==mo.MSMediaKeys&&"function"==typeof mo.MSMediaKeys.isTypeSupported}function Ul(t,n){return mo.MSMediaKeys.isTypeSupported(t,n)}yr(),zt(),yr(),zt(),kr(),yr(),zt(),yr(),zt(),kr();var Hl,Xl,zl=function(t){function n(n,i,r){var e;return(e=t.call(this)||this)._h=n,e.nh=i,e.gh=r,e.uh=new kh,e.yh=void 0,e.hh=new uf,e.ph=void 0,e.Ah=new kh,e.oh=function(){var t=e.ph&&e.ph.error;if(t){var n=new Eh("Unknown CDM error",t.code,t.systemCode);e.yh?(e.yh.Go(n),e.yh=void 0):n.jo===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.fh("output-not-allowed"):e.fh("internal-error"),e.qs(new tf)}},e.sh=function(t){e.qs(new $c($a(e),"license-request",mh(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.ah=function(){e.yh&&(e.yh.qo(void 0),e.yh=void 0),e.fh("usable")},e}zr(n,t);var i=n.prototype;return i.Rf=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.kh;if(!r)throw new h("Expected FairPlay contentId to be defined but was "+r+".");var e=Vl(_h(n),r,this.gh);return this.ph=this._h.createSession(this.nh,e),this.ph.addEventListener("webkitkeymessage",this.sh,!1),this.ph.addEventListener("webkitkeyadded",this.ah,!1),this.ph.addEventListener("webkitkeyerror",this.oh,!1),this.fh("status-pending"),this.Ah.qo(this.ph),this.Ah=new kh,j.resolve()},i.Cf=function(t){return j.resolve(!0)},i.Df=function(t){var n=this;return ta((function(){var i,r;return ia(this,(function(e){switch(e.label){case 0:if(0===(i=_h(t)).byteLength)throw new h("Cannot call update with an empty response.");return n.yh=new kh,(r=n.ph)?[3,2]:[4,n.Ah.Wo];case 1:r=e.sent(),e.label=2;case 2:return r.update(i),[4,n.yh.Wo];case 3:return e.sent(),[2]}}))}))()},i.If=function(){var t,n=this.ph;return n&&(n.removeEventListener("webkitkeymessage",this.sh,!1),n.removeEventListener("webkitkeyadded",this.ah,!1),n.removeEventListener("webkitkeyerror",this.oh,!1),n.close()),this.Ah.Ms(),null==(t=this.yh)||t.Ms(),this.uh.qo(void 0),this.uh.Wo},i.Nf=function(){return j.resolve(void 0)},i.fh=function(t){this.hh.Oo(),this.hh.Bo(ef,t),this.qs(new Jc(this))},Ar(n,[{key:"Lf",get:function(){return this.ph?this.ph.sessionId:""}},{key:"Of",get:function(){return NaN}},{key:"Bf",get:function(){return this.uh.Wo}},{key:"xf",get:function(){return this.hh}}]),n}(Gc);function Vl(t,n,i){var r=ah(t),e=2*r.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+i.byteLength),o=new DataView(s),a=new ph;return Wf(o,a,e,!0),nh(o,a,r,!0),Wf(o,a,u,!0),nh(o,a,n,!0),Wf(o,a,i.byteLength,!0),Ff(o,a,i),new g(s)}yr(),zt(),kr(),yr(),zt(),function(t){t[t.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",t[t.LICENSE_ERROR=2e3]="LICENSE_ERROR",t[t.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",t[t.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",t[t.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",t[t.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",t[t.SOURCE_INVALID=3e3]="SOURCE_INVALID",t[t.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",t[t.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",t[t.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",t[t.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",t[t.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",t[t.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",t[t.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",t[t.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",t[t.MEDIA_ABORTED=5004]="MEDIA_ABORTED",t[t.NETWORK_ERROR=6e3]="NETWORK_ERROR",t[t.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",t[t.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",t[t.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",t[t.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",t[t.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",t[t.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",t[t.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",t[t.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",t[t.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",t[t.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",t[t.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",t[t.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",t[t.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",t[t.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",t[t.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",t[t.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",t[t.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",t[t.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",t[t.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",t[t.AD_ERROR=1e4]="AD_ERROR",t[t.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",t[t.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",t[t.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",t[t.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR"}(Hl||(Hl={})),function(t){t[t.CONFIGURATION=1]="CONFIGURATION",t[t.LICENSE=2]="LICENSE",t[t.SOURCE=3]="SOURCE",t[t.MANIFEST=4]="MANIFEST",t[t.MEDIA=5]="MEDIA",t[t.NETWORK=6]="NETWORK",t[t.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",t[t.SUBTITLE=8]="SUBTITLE",t[t.VR=9]="VR",t[t.AD=10]="AD",t[t.FULLSCREEN=11]="FULLSCREEN",t[t.CACHE=12]="CACHE"}(Xl||(Xl={})),function(t){t.fromCode=function(t){var n=d.floor(t/1e3);if(n in Xl)return n;throw new h("Invalid error code: "+t)}}(Xl||(Xl={}));var Wl=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).code=n,e}return zr(n,t),Ar(n,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return Xl.fromCode(this.code)}}]),n}(Rc);var ql=function(){function t(t,n,i){this._h=t,this.Ff=n,this.Uf=i,this.gh=void 0;var r=Rl(i)||"video/mp4";this.nh=Tl(r)}var n=t.prototype;return n.getInternalMediaKeys=function(){return this._h},n.Hf=function(t){var n=this;return ta((function(){return ia(this,(function(t){if(!n.gh)throw new Wl(Hl.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return[2,new zl(n._h,n.nh,n.gh)]}))}))()},n.Xf=function(t){return this.gh=_h(t),j.resolve(!0)},n.zf=function(t){return t.webkitSetMediaKeys(this._h),j.resolve()},n.Vf=function(t){return t.webkitSetMediaKeys(null),j.resolve()},n.Wf=function(){return j.resolve()},t}(),Gl=function(){function t(t,n){this.yf=t,this.wh=n}var n=t.prototype;return n.Yf=function(){return this.wh},n.jf=function(){var t=new mo.WebKitMediaKeys(this.yf);return j.resolve(new ql(t,this.yf,this.wh))},Ar(t,[{key:"Ff",get:function(){return this.yf}}]),t}(),jl=function(){function t(){}return t.prototype.gs=function(t,n){try{return j.resolve(function(t,n){if(t!==Ra)throw new h(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Yl())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=El(Ql,Kc,t,r);if(e)return new Gl(t,e)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.Jf=function(){return Yl()},t}();function Yl(){return void 0!==mo.WebKitMediaKeys&&"function"==typeof mo.WebKitMediaKeys.isTypeSupported}function Ql(t,n){return mo.WebKitMediaKeys.isTypeSupported(t,n)}yr(),zt();var Zl=function(){function t(t){this.Th=t}return t.prototype.gs=function(t,n){var i=this;return ta((function(){var r,e,u;return ia(this,(function(s){switch(s.label){case 0:r=0,e=i.Th,s.label=1;case 1:if(!(r<e.length))return[3,6];u=e[r],s.label=2;case 2:return s.trys.push([2,4,,5]),[4,u.gs(t,n)];case 3:return[2,s.sent()];case 4:return s.sent(),[3,5];case 5:return r++,[3,1];case 6:throw new h("Unsupported key system configuration for "+t)}}))}))()},t}();yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),kr(),yr(),zt();var Kl=function(){function t(t){var n=this;this.Sh=[],this.Eh=void 0,this.Ih=new Nc,this.Rh=function(){return 0===n.Sh.length?n.Ch?Jl(n.Ch,n.Ih.Hs).then(n.Nh,n.Nh):n.Nh():n.Sh.shift()().then(n.Rh)},this.Nh=function(){if(0!==n.Sh.length)return n.Rh();n.Eh=void 0},this.Ch=t}var n=t.prototype;return n.Dh=function(t,n){var i=this;return new j((function(r){var e=new Nc;e.Fs(i.Ih.Hs),n&&e.Fs(n);var u=function(){e.Ds()};i.Sh.push((function(){var n=Jl(t,e.Hs);return r(n),n.then(u,u)})),i.Eh||(i.Eh=i.Rh())}))},n.Ms=function(){return this.Ph(!0)},n.Bh=function(){return this.Ch=void 0,this.Ph(!1)},n.Ph=function(t){var n=this.Eh;return this.Ih.Ms(),t&&(this.Ih=new Nc),j.resolve(n)},t}();function Jl(t,n){return new j((function(i){return i(t(n))}))}var $l,tw=new Kl,nw=function(t){function n(n){var i;return(i=t.call(this)||this).yf=n,i.rh=void 0,i.yh=void 0,i.Mn=!1,i.Oh=void 0,i.Lh=void 0,i.uh=new kh,i.Mh="",i.Fh=new kh,i.Uh=new uf,i}zr(n,t);var i=n.prototype;return i.Hh=function(){this.yh&&(this.fh("usable"),this.yh.qo(void 0),this.yh=void 0)},i.Xh=function(t){var n=new Eh("Unknown CDM error",t.errorCode,t.systemCode);this.yh?(this.yh.Go(n),this.yh=void 0):this.rh?(this.rh.Go(n),this.rh=void 0):n.jo===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.fh("output-restricted"):1===n.Yo?this.fh("expired"):this.fh("internal-error")},i.Vh=function(t){0!==t.message.byteLength&&(this.rh&&(this.rh.qo(void 0),this.rh=void 0),this.qs(new $c(this,"license-request",Th(this.yf,mh(t.message).buffer),t.defaultURL||void 0)))},i.Wh=function(t){this.Lh||(this.Lh=t,this.Fh.qo(t))},i.If=function(){var t=this;return ta((function(){return ia(this,(function(n){return t.throwIfClosed(),t.yh&&(t.yh.Go(void 0),t.yh=void 0),t.Mn=!0,t.uh.qo(void 0),[2]}))}))()},i.Rf=function(t,n){var i=this;return ta((function(){var t;return ia(this,(function(r){switch(r.label){case 0:return i.throwIfClosed(),i.rh=new kh,i.Oh=_h(n),(t=i.Lh)?[3,2]:[4,i.Fh.Wo];case 1:t=r.sent(),r.label=2;case 2:return t.webkitGenerateKeyRequest(i.yf,i.Oh),[4,i.rh.Wo];case 3:return r.sent(),[2]}}))}))()},i.Cf=function(t){var n=this;return ta((function(){return ia(this,(function(t){return n.throwIfClosed(),[2,!1]}))}))()},i.Nf=function(){var t=this;return ta((function(){return ia(this,(function(n){return t.throwIfClosed(),[2]}))}))()},i.Df=function(t){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return n.throwIfClosed(),n.yh=new kh,te.Nr||te.Rr?[2,tw.Dh(ta((function(){return ia(this,(function(i){switch(i.label){case 0:return[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))})))]:[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))}))()},i.doUpdate=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return void 0===n.yh?[2]:(i=n.Lh)?[3,2]:[4,n.Fh.Wo];case 1:i=r.sent(),r.label=2;case 2:return i.webkitAddKey(n.yf,_h(t),n.Oh,n.Lf),[4,n.yh.Wo];case 3:return r.sent(),[2]}}))}))()},i.throwIfClosed=function(){if(this.Mn)throw new h("Already closing or closed.")},i.fh=function(t){this.Uh.Oo(),this.Uh.Bo(ef,t),this.qs(new Jc(this))},i.qh=function(){var t=this;return ta((function(){var n,i;return ia(this,(function(r){switch(r.label){case 0:return(i=t.Lh)?[3,2]:[4,t.Fh.Wo];case 1:i=r.sent(),r.label=2;case 2:if(!(n=i).webkitCancelKeyRequest)return[3,7];r.label=3;case 3:return r.trys.push([3,4,5,7]),n.webkitCancelKeyRequest(t.yf,t.Mh),[3,7];case 4:return r.sent(),[3,7];case 5:return[4,Wc(500)];case 6:return r.sent(),[7];case 7:return[2]}}))}))()},Ar(n,[{key:"xf",get:function(){return this.Uh}},{key:"Lf",get:function(){return this.Mh},set:function(t){this.Mh=t}},{key:"Bf",get:function(){return this.uh.Wo}},{key:"Of",get:function(){return NaN}}]),n}(Gc),iw=function(){function t(t,n){var i=this;this.Ff=t,this.Uf=n,this.Lh=void 0,this.Gh=ua(),this.jh=[],this.ah=function(t){var n=i.Yh(t.sessionId);n&&n.Hh()},this.Qh=function(t){var n=i.Yh(t.sessionId);n&&n.Xh(t)},this.Zh=function(t){var n=i.Yh(t.sessionId);n&&n.Vh(t)}}var n=t.prototype;return n.zf=function(t){return this.Lh=t,this.Lh.addEventListener("webkitkeyadded",this.ah),this.Lh.addEventListener("webkitkeyerror",this.Qh),this.Lh.addEventListener("webkitkeymessage",this.Zh),this.Gh.forEach((function(n,i){return n.Wh(t)})),this.jh.forEach((function(n){return n.Wh(t)})),j.resolve()},n.Vf=function(t){return t.removeEventListener("webkitkeyadded",this.ah),t.removeEventListener("webkitkeyerror",this.Qh),t.removeEventListener("webkitkeymessage",this.Zh),this.Lh=void 0,j.resolve()},n.Wf=function(){var t=this;return ta((function(){var n,i;return ia(this,(function(r){switch(r.label){case 0:n=t.Gh.entries(),i=n.next(),r.label=1;case 1:return i.done?[3,3]:[4,i.value[1].qh()];case 2:return r.sent(),i=n.next(),[3,1];case 3:return t.Gh.clear(),[2]}}))}))()},n.Hf=function(t,n,i){var r=this;return ta((function(){var t;return ia(this,(function(n){return t=new nw(r.Ff),r.Lh&&t.Wh(r.Lh),r.jh.push(t),[2,t]}))}))()},n.Xf=function(t){return j.resolve(!1)},n.Yh=function(t){if(t){var n=this.Gh.get(t);return n||((n=this.jh.shift())?(n.Lf=t,this.Gh.set(t,n),n):void 0)}},t}(),rw=function(){function t(t,n){this.Ff=t,this.Kh=n}var n=t.prototype;return n.jf=function(){return j.resolve(new iw(this.Ff,this.Kh))},n.Yf=function(){return this.Kh},t}(),ew=function(){function t(){}return t.prototype.gs=function(t,n){try{return j.resolve(function(t,n){if(!ew.Jf())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=El(uw,Zc,t,r);if(e)return new rw(t,e)}throw new h("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.Jf=function(){return Za()},t}();function uw(t,n){var i=Bo();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function sw(){return $l||($l=function(){var t=[];jl.Jf()&&t.push(new jl);Bl.Jf()&&t.push(new Bl);Ml.Jf()&&t.push(new Ml);ew.Jf()&&t.push(new ew);return new Zl(t)}()),$l}yr(),zt(),yr(),zt();var ow=function(){function t(){this.Jh=ua()}var n=t.prototype;return n.Oo=function(t){this.Jh.delete(t)},n.$h=function(){this.Jh.clear()},n.Do=function(t){return this.Jh.get(t)},n.tv=function(t,n){this.Jh.set(t,n)},t}(),aw=function(){function t(){}return t.rv=function(){return t.$r||(t.$r=cw.Jf()?new cw:new ow),t.$r},t.Oo=function(n){t.rv().Oo(n)},t.$h=function(){t.rv().$h()},t.Do=function(n){return t.rv().Do(n)},t.tv=function(n,i){t.rv().tv(n,i)},t}();aw.$r=void 0;var cw=function(t){function n(){return t.apply(this,arguments)}zr(n,t);var i=n.prototype;return i.Oo=function(t){self.sessionStorage.removeItem(t)},i.$h=function(){self.sessionStorage.clear()},i.Do=function(t){var n;return null!=(n=self.sessionStorage.getItem(t))?n:void 0},i.tv=function(t,n){self.sessionStorage.setItem(t,n)},n.Jf=function(){var t="foobar";try{return self.sessionStorage.setItem(t,t),self.sessionStorage.removeItem(t),!0}catch(t){return!1}},n}(aw);yr(),zt(),yr(),zt();var fw=function(){var t=self.Blob;if(t)try{return new t,function(t){return function(n,i){return new t(n,i)}}(t)}catch(t){}var n=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;if(n)return function(t){return function(n,i){var r=new t;if(n)for(var e=0;e<n.length;e++){var u=n[e];r.append(u)}return r.getBlob(i&&i.type||"")}}(n)}();function hw(t,n,i){var e=fw([n],{type:"application/octet-stream"}),u=URL.createObjectURL(e),s=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),o=r.createElement("a");o.href=u,o.download=s,r.body.appendChild(o),o.click(),r.body.removeChild(o),URL.revokeObjectURL(u)}yr(),zt();var vw,dw,lw="default";yr(),zt(),kr(),yr(),zt(),yr(),zt(),function(t){t.ev="uv",t.ov="fv",t.hv="contentprotectionerror",t.vv="contentprotectionsuccess",t.wv="currentsourcechange",t._v="destroy",t.mv="durationchange",t.yv="emptied",t.To="encrypted",t.pv="ended",t.Av="bv",t.Tv="Sv",t.Ev="Iv",t.Rv="loadstart",t.Cv="manifestupdate",t.Nv="nosupportedrepresentationfound",t.Dv="offline",t.Pv="online",t.Bv="pause",t.Ov="play",t.xv="progress",t.Lv="ratechange",t.Mv="representationchange",t.Fv="resize",t.Uv="seeked",t.Hv="seeking",t.Xv="segmentnotfound",t.zv="Vv",t.Wv="qv",t.Gv="sourcechange",t.Yv="timeupdate",t.Qv="volumechange",t.Zv="Kv",t.Jv="metricschange"}(vw||(vw={})),yr(),zt(),yr(),zt(),function(t){t.$v="arraybuffer",t.td="json",t.rd="stream",t.ed="text"}(dw||(dw={})),yr(),zt();var ww=function(){function t(n){var i=this;this.ju={},n instanceof t?n.asList().forEach((function(t){var n=ra(t,2),r=n[0],e=n[1];i.append(r,e)})):Array.isArray(n)?n.forEach((function(t){i.append(t[0],t[1])})):n&&v.getOwnPropertyNames(n).forEach((function(t){i.append(t,n[t])}))}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=_w(i),r=gw(r);var e=i.toLowerCase();if(this.ju.hasOwnProperty(e)){var u=this.ju[e],s=u[1];u[1]=s?s+", "+r:r}else this.ju[e]=[i,r]},n.delete=function(t){var n=_w(t).toLowerCase();delete this.ju[n]},n.get=function(t){var n=_w(t).toLowerCase();return this.ju.hasOwnProperty(n)?this.ju[n][1]:null},n.has=function(t){var n=_w(t).toLowerCase();return this.ju.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=_w(i)).toLowerCase();this.ju[r]=[i,gw(n)]},n.forEach=function(t,n){for(var i in this.ju)this.ju.hasOwnProperty(i)&&t.call(n,this.ju[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.ju)if(this.ju.hasOwnProperty(n)){var i=ra(this.ju[n],2),r=i[0],e=i[1];t.push([r,e])}return t},n.ud=function(){var t={};return this.forEach((function(n,i){t[i]=n})),t},n.od=function(t){var n=this;t.forEach((function(t,i){n.append(i,t)}))},n.fd=function(t){var n=this;t.forEach((function(t,i){n.set(i,t)}))},t}();function _w(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new h("Invalid character in header field name");return n}function gw(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),mr(),yr(),zt(),kr();var mw,yw=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return zr(n,t),Ar(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(Rc);function pw(t){return function(t){return new Mt({start:function(n){for(var i=0;i<t.length;i++){var r=t[i];n.enqueue(r)}n.close()}})}([t])}function Aw(t){return pw(function(t){return new g(t)}(t))}function kw(t,n){return function(t,n){var i=n,r=t.getReader(),e=new kh,u=function(){s();var t=new Dc;r.cancel(t).catch(le),e.Go(t)},s=function(){i&&(i.Bs(u),i=void 0)};i&&(i.Es?u():i.Ps(u));var o=[],a=function(t){return t.done?(s(),j.resolve(o)):(o.push(t.value),j.resolve(r.read()).then(a))};return j.resolve(r.read()).then(a).then((function(t){s(),e.qo(t)}),(function(t){s(),e.Go(t)})),e.Wo}(t,n).then((function(t){return mf(t).buffer}))}function bw(t,n){var i=n,r=new Ut,e=r.readable,u=r.writable,s=u.getWriter(),o=function(){i&&i.Ms()};return s.closed.then(o,o),t.then((function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(le)}),(function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(le)})),e}function Tw(t){return ah(new g(t))}function Sw(t){return ch(t).buffer}yr(),zt(),function(t){t[t.rd=0]="rd",t[t.hd=1]="hd"}(mw||(mw={}));var Ew="text/plain;charset=UTF-8",Iw=function(){function t(){}var n=t.prototype;return n.vd=function(t){return this.dd(t).then(JSON.parse)},n.ld=function(t,n){switch(t){case dw.$v:return this.wd(n);case dw.td:return this.vd(n);case dw.rd:return this._d();case dw.ed:return this.dd(n);default:throw new h}},t}();function Rw(t,n,i){if(t instanceof Iw)return t;if(t instanceof Mt)return function(t,n){return new Nw({$u:0,_d:t,md:Cw(n)})}(t,i);var r=Cw(i),e=j.resolve(t).then((function(t){return function(t,n){if(t){if("string"==typeof t)return{$u:dw.ed,yd:t,md:n||Ew};if(t instanceof ArrayBuffer||wf(t))return{$u:dw.$v,yd:Mw(t),md:n};if(ae(t)||ue(t))return{$u:dw.td,yd:t,md:n};throw new h("Unsupported BodyInit type")}return{$u:dw.ed,yd:null,md:n}}(t,r)}));return new Nw({$u:1,Wo:e,pd:n})}function Cw(t){return(t.get("content-type")||"").toLowerCase()}var Nw=function(t){function n(n){var i;return(i=t.call(this)||this).Ad=!1,i.kd=new kh,i.kd.Wo.catch(le),i.bd(n),i}zr(n,t);var i=n.prototype;return i.Td=function(){return this.kd.Wo},i.dd=function(t){return this.Sd(Dw,t)},i.vd=function(t){return this.Sd(Bw,t)},i.wd=function(t){return this.Sd(xw,t)},i._d=function(){return this.Ed(function(t){return 0===t.$u?t._d:bw(t.Wo.then(Lw).then(Aw),t.pd)}(this.Id))},i.Sd=function(t,n){if(this.Ad)return j.reject(new h("Already used"));this.Ad=!0;var i=t(this.Id,n);return this.kd.Fs(i.then(le)),i},i.Ed=function(t){if(this.Ad)throw new h("Already used");if(t.locked)throw new h("Body stream is locked");this.Ad=!0;var n=new Ut,i=j.resolve(t.pipeTo(n.writable));return this.kd.Fs(i),n.readable},i.bd=function(t){this.Id=t,1===t.$u&&t.Wo.catch(le)},i.Rd=function(){if(this.Ad)throw new h("Already used");var t=function(t){if(0===t.$u){var n=ra(t._d.tee(),2),i=n[0],r=n[1];return[{$u:t.$u,_d:i,md:t.md},{$u:t.$u,_d:r,md:t.md}]}var e=ra(t.pd.Us(),2),u=e[0],s=e[1];return[{$u:t.$u,Wo:t.Wo,pd:u},{$u:t.$u,Wo:t.Wo,pd:s}]}(this.Id),i=t[0],r=t[1];return this.bd(i),new n(r)},Ar(n,[{key:"Cd",get:function(){return this.Ad}}]),n}(Iw);function Dw(t,n){return 0===t.$u?kw(t._d,n).then(Tw):(n&&t.pd.Fs(n),Mc(t.Wo.then(Pw),t.pd))}function Pw(t){switch(t.$u){case dw.ed:return j.resolve(t.yd||"");case dw.$v:return j.resolve(t.yd).then(Tw);case dw.td:return j.resolve(t.yd).then(JSON.stringify)}}function Bw(t,n){return 0===t.$u?Dw(t,n).then(JSON.parse):(n&&t.pd.Fs(n),Mc(t.Wo.then(Ow),t.pd))}function Ow(t){return t.$u===dw.td?j.resolve(t.yd):Pw(t).then(JSON.parse)}function xw(t,n){return 0===t.$u?kw(t._d,n):(n&&t.pd.Fs(n),Mc(t.Wo.then(Lw),t.pd))}function Lw(t){switch(t.$u){case dw.$v:return j.resolve(t.yd);case dw.ed:case dw.td:return Pw(t).then(Sw)}}function Mw(t){return t instanceof ArrayBuffer?t:mh(lh(t)).buffer}function Fw(t){return t.Nd>=200&&t.Nd<=299||304===t.Nd}var Uw,Hw,Xw,zw,Vw=function(t){function n(n,i){var r,e,u,s,o,a;i?(e=i.Dd,u=i.Pd,s=i.Nd,o=i.Bd,a=i.Od):(e=[],u=dw.ed,s=200,o="OK",a=!1);var c=n.xd,f=new ww(n.Dd||e),h=n.Pd||u,v=n.Ld||(i&&i.xd===c?i.Ld:c.Md),d=i?i.Fd:null,l=Rw(void 0!==n.Ud?n.Ud:d,n.pd||new Nc,f);return(r=t.call(this,l)||this).Dd=f,r.xd=c,r.Ld=v,r.Pd=h,r.Nd=void 0!==n.Nd?n.Nd:s,r.Bd=void 0!==n.Bd?String(n.Bd):o,r.Od=n.Od||a,r}zr(n,t);var i=n.prototype;return i.Ud=function(t){return this.ld(this.Pd,t)},i.Ho=function(){return new n({Ud:this.Rd(),xd:this.xd},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Fd=n,i}zr(n,t);var i=n.prototype;return i.Td=function(){return this.Fd.Td()},i.dd=function(t){return this.Fd.dd(t)},i.vd=function(t){return this.Fd.vd(t)},i.wd=function(t){return this.Fd.wd(t)},i._d=function(){return this.Fd._d()},i.Rd=function(){return this.Fd.Rd()},Ar(n,[{key:"Cd",get:function(){return this.Fd.Cd}}]),n}(Iw));yr(),zt(),function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Uw||(Uw={})),function(t){t.Hd="",t.Xd="manifest",t.zd="segment",t.Vd="preload-hint",t.Wd="content-protection"}(Hw||(Hw={})),function(t){t.Hd="",t.qd="initialization-segment",t.Gd="fairplay-license",t.jd="fairplay-certificate",t.Yd="widevine-license",t.Qd="widevine-certificate",t.Zd="playready-license",t.Kd="clearkey-license",t.Jd="aes128-key"}(Xw||(Xw={})),function(t){t.Hd="",t.$d="audio",t.il="video",t.ed="text",t.ul="image"}(zw||(zw={}));var Ww=function(t,n){var i,r,e,u,s,o,a,c,f,h,v,d,l=t.Md;n?(i=n.yd,r=n.Dd,e=n.ol,u=n.Pd,s=n.al,o=n.cl,a=n.Hs,c=n.$u,f=n.fl,h=n.hl,v=n.vl,d=n.dl):(i=null,r={},e="GET",u=dw.ed,s=0,o=0,c="",f="",h="",v=!1),this.Md=l,this.yd=t.yd||i,this.Dd=new ww(t.Dd||r),this.ol=t.ol||e,this.Pd=t.Pd||u,this.al=void 0!==t.al?Number(t.al)||0:s,this.cl=void 0!==t.cl?Number(t.cl)||0:o,this.Hs=t.Hs||a||(new Nc).Hs,this.$u=t.$u||c,this.fl=t.fl||f,this.hl=t.hl||h,this.vl=void 0!==t.vl?Boolean(t.vl):v,this.dl=t.dl||d},qw=function(){function t(){}var n=t.prototype;return n.xd=function(t){var n=function(t){return new Vw({Ud:null,Dd:{},xd:t,Ld:t.Md,Pd:t.Pd,Nd:0,Bd:vw.Dv})}(new Ww(t));return j.resolve(n)},n.ll=function(t){},n.Bh=function(){},t}();var Gw=function(){function t(t,n){void 0===n&&(n=!0),this.wl=t,this._l=n}var n=t.prototype;return n.xd=function(t){var n=this.yl(t);return this.wl.xd(n)},n.ll=function(t){return this.wl.ll(this.Al(t))},n.yl=function(n){var i=new Ww(n);if(!this._l){var r=t.bl(i.Md);i=new Ww({Md:r},i)}return i},n.Al=function(n){var i=n.Md;return this._l||(i=t.bl(i)),{Md:i,yd:n.yd}},n.Bh=function(){this.wl.Bh()},t.bl=function(t){return Pr.Mu&&Ua(t,"http://")?t.replace(":","s:"):t},Ar(t,null,[{key:"Tl",get:function(){return t.Sl||(t.Sl=new t(new qw)),t.Sl}}]),t}();function jw(t,n){for(var i=0,r=v.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Yw(t,n){var i=Pr.Du(t);return n&&!Ha(i,"/")&&(i+="/"),i}Gw.Sl=void 0,yr(),zt(),yr(),zt(),kr(),yr(),zt();var Qw,Zw=/cache:(.+)?(?=&|$)/;function Kw(t){if(!Ua(t,"http://webcache.googleusercontent.com/search?q=cache:"))return"";var n=Pr.Nu(t).search.match(Zw);return n&&n.length>1?n[1]:""}function Jw(t){return Pr.Nu(".",t)}yr(),zt(),kr(),yr(),zt(),kr(),function(t){t.El="HttpOpenError",t.Il="HttpResponseError",t.Rl="HttpTimeoutError"}(Qw||(Qw={}));var $w=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Cl=n,e}return zr(n,t),Ar(n,[{key:"xd",get:function(){return this.Cl}}]),n}(Rc);var t_=function(t){function n(n,i){return t.call(this,n,function(t){return"Error while opening "+t+". Invalid URL."}(n.Md),i)}return zr(n,t),Ar(n,[{key:"name",get:function(){return Qw.El}}]),n}($w);yr(),zt(),kr();var n_=function(t){function n(n,i,r){var e;return(e=t.call(this,n.xd,null!=r?r:function(t){return"Error while loading "+t.xd.Md+", status code "+t.Nd}(n),i)||this).Nl=n,e}return zr(n,t),Ar(n,[{key:"name",get:function(){return Qw.Il}},{key:"Dl",get:function(){return this.Nl}}]),n}($w);yr(),zt(),kr();var i_=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Md+" timed out after "+t.al+" seconds."}(n),i)}return zr(n,t),Ar(n,[{key:"name",get:function(){return Qw.Rl}}]),n}($w);yr(),zt();var r_=function(t,n){return(r_=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function e_(t,n){function i(){this.constructor=t}r_(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}var u_="object"==typeof i?i:"object"==typeof self?self:"object"==typeof global?global:null;var s_=function(){var t=u_.Blob;if(t)try{return new t,function(t,n){return new u_.Blob(t,n)}}catch(t){}var n=u_.BlobBuilder||u_.WebKitBlobBuilder||u_.MozBlobBuilder||u_.MSBlobBuilder;return n?function(t){return function(n,i){var r=new t;if(n)for(var e=0,u=n;e<u.length;e++){var s=u[e];r.append(s)}return r.getBlob(i&&i.type||"")}}(n):null}(),o_="function"==typeof Mt?Mt:void 0;function a_(t){return t&&"function"==typeof t.getReader}function c_(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&a_(i)}catch(t){return!1}}var f_=function(){function t(t,n){this.ct=t,this.Pl=n}return t.prototype.pull=function(t){var n=this;return this.ct.read().then((function(i){n.Pl&&n.Pl(i),i.done?t.close():t.enqueue(i.value)}))},t.prototype.cancel=function(t){return this.ct.cancel(t)},t}();function h_(t,n){return n.constructor===t?n:new t(new f_(n.getReader()),{highWaterMark:0})}var v_=function(){function t(t,n){this.Bl=t,this.Ol=n}return t.prototype.pull=function(t){return this.Bl().then((function(n){t.enqueue(new g(n)),t.close()}))},t.prototype.cancel=function(t){this.Ol&&this.Ol(t)},t}();function d_(t,n,i){return new t(new v_(n,i),{highWaterMark:0})}var l_={searchParams:"URLSearchParams"in u_,iterable:"Symbol"in u_&&"iterator"in Symbol,blob:"FileReader"in u_&&!!s_,formData:"FormData"in u_,arrayBuffer:"ArrayBuffer"in u_,stream:c_(o_),streamRequest:"Request"in u_&&"body"in u_.Request.prototype,streamResponse:"Response"in u_&&"body"in u_.Response.prototype,abort:"AbortController"in u_&&"Request"in u_&&"signal"in u_.Request.prototype,encoding:"TextEncoder"in u_&&"TextDecoder"in u_,url:"URL"in u_&&function(t){try{return new u_.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in u_&&/Firefox\//.test(u_.navigator.userAgent)};function w_(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new h("Invalid character in header field name");return t}function __(t){return"string"!=typeof t&&(t=String(t)),t}function g_(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return l_.iterable&&(n[Symbol.iterator]=function(){return n}),n}var m_=function(){function t(t){var n=this;this.ju={};var i=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};!function(t){return t&&"function"==typeof t.forEach}(t)?!function(t){return l_.iterable&&t&&t[Symbol.iterator]}(t)?t&&v.getOwnPropertyNames(t).forEach((function(i){n.append(i,t[i])})):Array.from(t).forEach(i):t.forEach(i)}return t.prototype.append=function(t,n){t=w_(t),n=__(n);var i=t.toLowerCase();if(this.ju.hasOwnProperty(i)){var r=this.ju[i],e=r[1];r[1]=e?e+", "+n:n}else this.ju[i]=[t,n]},t.prototype.delete=function(t){var n=w_(t).toLowerCase();delete this.ju[n]},t.prototype.get=function(t){var n=w_(t).toLowerCase();return this.ju.hasOwnProperty(n)?this.ju[n][1]:null},t.prototype.has=function(t){var n=w_(t).toLowerCase();return this.ju.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=w_(t)).toLowerCase();this.ju[i]=[t,__(n)]},t.prototype.forEach=function(t,n){for(var i in this.ju)this.ju.hasOwnProperty(i)&&t.call(n,this.ju[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach((function(n,i){t.push(i)})),g_(t)},t.prototype.values=function(){var t=[];return this.forEach((function(n){t.push(n)})),g_(t)},t.prototype.entries=function(){var t=[];return this.forEach((function(n,i){t.push([i,n])})),g_(t)},t.prototype.asList=function(){var t=[];for(var n in this.ju)if(this.ju.hasOwnProperty(n)){var i=this.ju[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function y_(){}l_.iterable&&(m_.prototype[Symbol.iterator]=m_.prototype.entries);var p_,A_,k_,b_=d.min,T_=String.fromCharCode;function S_(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=16384){var e=b_(r+16384,n);i.push(T_.apply(null,t.slice(r,e)))}return i.join("")}(n)}function E_(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function I_(t,n){return t>>n&63|128}function R_(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(E_(t),n.push(t>>12&15|224),n.push(I_(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(I_(t,12)),n.push(I_(t,6))),n.push(63&t|128)):n.push(t)}function C_(){if(k_>=A_)throw new f("Invalid byte index");var t=255&p_[k_];if(k_++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function N_(){var t,n;if(k_>A_)throw new f("Invalid byte index");if(k_===A_)return!1;if(t=255&p_[k_],k_++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|C_())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|C_()<<6|C_())>=2048)return E_(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|C_()<<12|C_()<<6|C_())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var D_=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function P_(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function B_(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function O_(t){return t&&DataView.prototype.isPrototypeOf(t)}var x_,L_=ArrayBuffer.isView||function(t){return t&&(D_.indexOf(v.prototype.toString.call(t))>-1||O_(t))};function M_(t){if(t.bodyUsed)return j.reject(new h("Already used"));t.bodyUsed=!0}function F_(t){return new j((function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}}))}function U_(t){return l_.encoding?new u_.TextDecoder("utf-8").decode(new g(t)):S_(function(t){A_=(p_=t).length,k_=0;for(var n,i=[];!1!==(n=N_());)i.push(n);return i}(new g(t)))}function H_(t){return l_.encoding?(new u_.TextEncoder).encode(t).buffer:new g(function(t){for(var n=[],i=0,r=t;i<r.length;i++)R_(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function X_(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,u=t.value;return e?j.resolve(i):(i.push(u),n.read().then(r))};return n.read().then(r)}function z_(t){return X_(t).then((function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(a=r[i]).byteLength;for(var e=new g(n),u=0,s=0,o=t;s<o.length;s++){var a=o[s];e.set(a,u),u+=a.byteLength}return e}(t).buffer}))}function V_(t){return t.slice?t.slice(0):W_(new g(t))}function W_(t){if(t.slice)return t.slice(0).buffer;var n=new g(t.byteLength);return n.set(new g(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function q_(t){var n=new FormData;return t.trim().split("&").forEach((function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}})),n}function G_(t){var n=t;if(n.bodyUsed)throw new h("Already used");if(n.xl===x_.Ll){if(!n.Ml.tee)throw new f("could not clone ReadableStream body");var i=n.Ml.tee(),r=i[0],e=i[1];return n.body=r,n.Ml=r,n.Fl=r,e}return n.xl===x_.$v?V_(n.Ml):n.xl===x_.hd?n.Ml.then(G_):n.Fl}!function(t){t[t.ed=0]="ed",t[t.Ul=1]="Ul",t[t.Hl=2]="Hl",t[t.$v=3]="$v",t[t.Ll=4]="Ll",t[t.hd=5]="hd"}(x_||(x_={}));var j_=function(){function t(n,i){this.bodyUsed=!1;var r=this;if(this.Fl=n||null,n)if("string"==typeof n)this.xl=x_.ed,this.Ml=n;else if(function(t){return t&&"function"==typeof t.then}(n))this.xl=x_.hd,this.Ml=j.resolve(n).then((function(n){return new t(n,i)})),this.Ml.catch(y_);else if(l_.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.xl=x_.Ul,this.Ml=n;else if(l_.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.xl=x_.Hl,this.Ml=n;else if(l_.searchParams&&P_(n))this.xl=x_.ed,this.Ml=n.toString();else if(l_.arrayBuffer&&(B_(n)||L_(n)))O_(n)&&(this.Fl=function(t){return new g(t.buffer,t.byteOffset,t.byteLength)}(n)),this.xl=x_.$v,this.Ml=function(t){return B_(t)?V_(t):W_(t)}(n);else{if(!l_.stream||!a_(n))throw new f("unsupported BodyInit type");n=h_(o_,n),this.xl=x_.Ll,this.Ml=n,this.Fl=n}else this.xl=x_.ed,this.Ml="";this.Xl="",i.has("content-type")?this.Xl=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Xl="text/plain;charset=UTF-8":r.xl===x_.Ul&&r.Ml.type?this.Xl=r.Ml.type:l_.searchParams&&P_(n)&&(this.Xl="application/x-www-form-urlencoded;charset=UTF-8"),this.Xl&&i.set("content-type",this.Xl)),l_.stream&&(null==n?this.body=null:r.xl===x_.Ll?this.body=r.Ml:this.body=d_(o_,(function(){return r.arrayBuffer()}),(function(){r.bodyUsed=!0})))}return t.prototype.text=function(){var t=this,n=M_(t);return n||(t.xl===x_.Ul?function(t){var n=new FileReader,i=F_(n);return n.readAsText(t),i}(t.Ml):t.xl===x_.$v?j.resolve(t.Ml).then(U_):t.xl===x_.Ll?function(t){return z_(t).then(U_)}(t.Ml):t.xl===x_.hd?t.Ml.then((function(t){return t.text()})):t.xl===x_.Hl?j.reject(new f("could not read FormData body as text")):j.resolve(t.Ml))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();l_.blob&&(j_.prototype.blob=function(){var t=this,n=M_(t);return n||(t.xl===x_.Ul?j.resolve(t.Ml):t.xl===x_.$v?j.resolve(s_([t.Ml],{type:t.Xl})):t.xl===x_.Ll?function(t,n){return X_(t).then((function(t){return s_(t,{type:n||""})}))}(t.Ml,t.Xl):t.xl===x_.hd?t.Ml.then((function(t){return t.blob()})):t.xl===x_.Hl?j.reject(new f("could not read FormData body as Blob")):j.resolve(s_([t.Ml],{type:t.Xl})))}),l_.arrayBuffer&&(j_.prototype.arrayBuffer=function(){var t=this;return t.xl===x_.$v?M_(t)||j.resolve(t.Ml):t.xl===x_.Ul?M_(t)||function(t){var n=new FileReader,i=F_(n);return n.readAsArrayBuffer(t),i}(t.Ml):t.xl===x_.Ll?z_(t.Ml):t.xl===x_.hd?M_(t)||t.Ml.then((function(t){return t.arrayBuffer()})):t.xl===x_.Hl?j.reject(new f("could not read FormData body as ArrayBuffer")):j.resolve(t.Ml).then(H_)}),l_.formData&&(j_.prototype.formData=function(){var t=this;return t.xl===x_.Hl?M_(t)||j.resolve(t.Ml):t.text().then(q_)});var Y_=[301,302,303,307,308],Q_=function(t){function n(n,i){var r=this,e=new m_((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return e_(n,t),n.prototype.clone=function(){return new n(G_(this),{status:this.status,statusText:this.statusText,headers:new m_(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Y_.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(j_);var Z_=function(t,n){return t(n={exports:{}},n.exports),n.exports}((function(t,n){function i(t,n){if(!(t instanceof n))throw new h("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),v.defineProperty(t,r.key,r)}}function u(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function o(t){return(o=v.setPrototypeOf?v.getPrototypeOf:function(t){return t.__proto__||v.getPrototypeOf(t)})(t)}function a(t,n){return(a=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!v.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(r){var e=v.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}v.defineProperty(n,"__esModule",{value:!0});var d=function(){function t(){i(this,t),v.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){s((function(){return i.call(n,t)}))},r=this.listeners[t.type],e=0,u=r.length;e<u;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t;return i(this,n),(t=function(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?c(t):n}(this,o(n).call(this))).listeners||d.call(c(t)),v.defineProperty(c(t),"aborted",{value:!1,writable:!0,configurable:!0}),v.defineProperty(c(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new h("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&a(t,n)}(n,t),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(d),w=function(){function t(){i(this,t),v.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==r?r.createEvent?(t=r.createEvent("Event")).initEvent("abort",!1,!1):(t=r.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w}));!function(t){t&&t.__esModule&&v.prototype.hasOwnProperty.call(t,"default")&&t.default}(Z_);Z_.AbortSignal;var K_=Z_.AbortController,J_=u_.DOMException;try{new J_}catch(Dr){(J_=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=v.create(f.prototype),J_.prototype.constructor=J_}var $_=K_;function tg(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function ng(t,n,i){return new j((function(r,e){if(n.signal.aborted)return t.catch(y_),e(ig());var u=function(){n.signal.removeEventListener("abort",u),e(ig())};n.signal.addEventListener("abort",u),t.then((function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()}),(function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()}))}))}function ig(){return new J_("Aborted","AbortError")}var rg,eg="moz-chunked-arraybuffer";function ug(t){try{var n=new y;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(rg||(rg={}));var sg=function(){function t(t,n){var i=this;this.zl=!1,this.Cl=t,this.Vl=n,this.Wl=new y,this.ql=new j((function(t,n){i.Gl=t,i.jl=n}))}return t.prototype.send=function(){var t=this;return this.Yl().then((function(n){return t.Ql(n,t.Vl),t.ql}))},t.prototype.Yl=function(){var t=this.Cl;return t.xl===x_.Ll?t.arrayBuffer():j.resolve(t.Fl)},t.prototype.Zl=function(t){this.Cl.onprogress&&this.Cl.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Kl=function(t){this.jl(t)},t.prototype.Jl=function(){this.Kl(new h("Network request failed"))},t.prototype.$l=function(){this.Kl(new h("Network request failed"))},t.prototype.nw=function(){this.Kl(ig())},t.prototype.Ql=function(t,n){var i=this,r=this.Cl,e=this.Wl,u=function(){return i.iw()};if(r.signal.aborted)return this.nw();e.onreadystatechange=function(){if(e.readyState>=rg.HEADERS_RECEIVED&&!i.zl){var t=function(t){var n=new m_;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}})),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.zl=!0,i.ew(n)}},e.onprogress=function(t){return i.Zl(t)},e.onload=function(){return i.uw()},e.onerror=function(){return i.Jl()},e.ontimeout=function(){return i.$l()},e.onabort=function(){return i.nw()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.forEach((function(t,n){e.setRequestHeader(n,t)})),r.signal.addEventListener("abort",u),e.onloadend=function(){r.signal.removeEventListener("abort",u)},t?e.send(t):e.send()},t.prototype.iw=function(){this.nw(),this.Wl.abort()},t}(),og=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.ow=void 0,r.aw=void 0,r}return e_(n,t),n.prototype.ew=function(t){var n=this;this.ow=new j((function(t,i){n.aw=t,n.cw=i})),this.Gl(new Q_(this.ow,t))},n.prototype.uw=function(){var t=this.Wl.response;if(null==t){var n=this.Vl;""===n||"text"===n?t=this.Wl.responseText:"document"===n?t=this.Wl.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=s_([]))}this.aw(t)},n.prototype.Kl=function(n){t.prototype.Kl.call(this,n),this.cw&&this.cw(n)},n}(sg),ag=function(t){function n(n){var i=t.call(this,n,eg)||this;return i.fw=void 0,i.hw=void 0,i.dw=!1,i}return e_(n,t),n.prototype.ew=function(t){var n=this;this.fw=new o_({start:function(t){n.hw=t},cancel:function(){n.dw=!0,n.iw()}}),this.Gl(new Q_(this.fw,t))},n.prototype.Zl=function(n){this.dw||this.hw.enqueue(new g(this.Wl.response)),t.prototype.Zl.call(this,n)},n.prototype.uw=function(){this.hw.close()},n.prototype.Kl=function(n){t.prototype.Kl.call(this,n),this.hw&&!this.dw&&(this.dw=!0,this.hw.error(n))},n}(sg),cg=function(){var t=l_.firefox&&ug(eg);return cg=function(){return t},t},fg=function(){var t;return t=l_.arrayBuffer&&ug("arraybuffer")?"arraybuffer":l_.blob&&ug("blob")?"blob":"",fg=function(){return t},t};function hg(t){return(l_.stream&&cg()?new ag(t):new og(t,fg())).send()}var vg=u_.fetch,dg=u_.Request,lg=(u_.Response,u_.AbortController);var wg=["http:","https:"];var _g=function(){try{if(l_.streamRequest){var t=new dg("about:blank",{body:"",method:"POST"}).body;if(t&&c_(t.constructor))return t.constructor}}catch(t){}}();function gg(t){return(t instanceof m_?t:new m_(t)).asList()}function mg(t,n,i){var r;if(l_.stream){var e=void 0;if(l_.streamResponse){var u=t.body;e=u&&h_(o_,u)}else e=d_(o_,(function(){return ng(t.arrayBuffer(),n,!0)}),(function(){n.abort()}));e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new f_(n.getReader(),i),{highWaterMark:0})}(o_,t,(function(t){var e=t.done,u=t.value;e?i=void 0===i?r:i:r+=u.byteLength,n(r,i)}))}(e,i,yg(t.headers))),r=e}else{var s=ng(t.arrayBuffer(),n,!0);i&&(s=function(t,n,i){return j.resolve().then((function(){return n(0,i),t})).then((function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t}))}(s,i,yg(t.headers))),r=s}return new Q_(r,t)}function yg(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function pg(t){var n=new $_;return t.signal&&tg(n,t.signal),function(t,n){var i,r,e=t;if(i=e.xl===x_.Ll?l_.streamRequest&&_g?j.resolve(h_(_g,e.Ml)):ng(t.arrayBuffer(),n,!1):ng(j.resolve(t.Fl),n,!1),l_.abort){var u=new lg;tg(u,n.signal),r=u.signal}return i.then((function(n){return new dg(t.url,{body:n||void 0,credentials:t.credentials,headers:gg(t.headers),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:r})}))}(t,n).then((function(i){return vg(i).then((function(i){return mg(i,n,t.onprogress)}))}))}var Ag=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var kg=function(t){function n(i,r){var e,u,s,o,a,c,f,v,d,l=this,w=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new h("Already used");e=i.url,u=i.credentials,r.headers||(s=new m_(i.headers)),o=i.method,a=i.mode,c=i.referrer,f=i.referrerPolicy,v=i.signal,d=i.onprogress,w||null==i.Fl||(w=i.Fl,i.bodyUsed=!0)}else e=String(i),u="same-origin",o="GET",a="cors",c="about:client",f="",v=null,d=null;if(!r.headers&&s||(s=new m_(r.headers)),r&&(c="about:client",f=""),(l=t.call(this,w,s)||this).url=e,l.headers=s,l.credentials=r.credentials||u,l.method=function(t){var n=t.toUpperCase();return Ag.indexOf(n)>-1?n:t}(r.method||o),l.mode=r.mode||a,l.signal=r.signal||v||(new $_).signal,l.referrer=void 0!==r.referrer?r.referrer:c,l.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:f,l.onprogress=r.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new h("Body not allowed for GET or HEAD requests");return l}return e_(n,t),n.prototype.clone=function(){return new n(this,{body:G_(this)})},n}(j_),bg="function"==typeof vg&&l_.stream&&l_.streamResponse&&l_.url;function Tg(t,n){return new j((function(i){var r=new kg(t,n);i((bg&&function(t){try{return wg.indexOf(new u_.URL(t,u_.location.href).protocol)>=0}catch(t){return!1}}(r.url)?pg:hg)(r))}))}Tg.polyfill=!0;var Sg=function(){function t(t){this.Ih=new Nc,this.Nl=void 0,this.lw=!1,this.Cl=t,this.Ih.Fs(t.Hs),this.Dl=this.ww()}var n=t.prototype;return n.ww=function(){var t=this;return ta((function(){var n,i,r,e,u,o,a,c,f;return ia(this,(function(h){switch(h.label){case 0:(n=t.Cl).al&&s((function(){t.lw=!0,t.Ih.Ms()}),n.al);try{i=Tg(n.Md,{method:n.ol,headers:n.Dd.ud(),body:n.yd,credentials:n.vl?"include":"same-origin",signal:Rg(t.Ih.Hs),onprogress:n.dl})}catch(t){throw new t_(n,t)}h.label=1;case 1:return h.trys.push([1,3,,4]),[4,i];case 2:return r=h.sent(),[3,4];case 3:throw e=h.sent(),Pc(u=t._w(e))&&t.Ih.Ms(),u;case 4:if(o=r.url||n.Md,a=0===r.status&&"file:"===function(t){return Pr.Nu(t).protocol}(o)?200:r.status,c=new Eg(t,r,t.Ih),f=new Vw({Ud:c,xd:n,Pd:n.Pd,Dd:new ww(r.headers.asList()),Nd:a,Bd:r.statusText,Ld:o}),t.Nl=f,Fw(f))return[2,f];throw new n_(f)}}))}))()},n._w=function(t){return Pc(t)?this.lw?new i_(this.Cl):new Dc(t.message,t):this.Nl?new n_(this.Nl,t):new t_(this.Cl,t)},t}(),Eg=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).kd=new kh,e.gw=n,e.mw=i,e.Ih=r,e.kd.Wo.catch(le),e}zr(n,t);var i=n.prototype;return i.Td=function(){return this.kd.Wo},i.dd=function(t){return this.Sd(this.mw.text(),t)},i.wd=function(t){return this.Sd(this.mw.arrayBuffer(),t)},i._d=function(){var t=this.mw.body;return t?this.Ed(t):bw(this.wd().then(Aw),this.Ih)},i.Rd=function(){var t=this.mw.clone(),i=ra(this.Ih.Us(),2),r=i[0],e=i[1];return this.Ih=r,new n(this.gw,t,e)},i.Sd=function(t,n){var i=this;n&&this.Ih.Fs(n);var r=j.resolve(t).catch((function(t){throw i.gw._w(t)}));return r=Mc(r,this.Ih),this.kd.Fs(r.then(le)),r},i.Ed=function(t){var n=this,i=new Ut,r=j.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch((function(t){var r=n.gw._w(t);throw i.writable.abort(r).catch(le),r}));return r=Mc(r,this.Ih),this.kd.Fs(r.then(le)),i.readable},Ar(n,[{key:"Cd",get:function(){return this.mw.bodyUsed}}]),n}(Iw),Ig="abort";function Rg(t){var n=new $_;if(t.Es)n.abort();else if(!t.Is){var i=function(){r(),n.abort()},r=function(){n.signal.removeEventListener(Ig,i),t.Bs(i),t.xs(r)};n.signal.addEventListener(Ig,i),t.Ps(i),t.Os(r)}return n.signal}function Cg(t,n,i){return new j((function(r,e){if(i&&i.Es)return e(new Dc);var u=function(t){o(),r(t)},s=function(){o(),e(new Dc)},o=function(){t.removeEventListener(n,u),i&&i.Bs(s)};t.addEventListener(n,u),i&&i.Ps(s)}))}yr(),zt();var Ng,Dg=function(){function t(){}var n=t.prototype;return n.xd=function(t){return new Sg(t).Dl},n.ll=function(t){if(po&&po.sendBeacon)po.sendBeacon(t.Md,fw([t.yd],{type:t.md}));else{var n=t.md?{"Content-type":t.md}:void 0;Xc(this.xd(new Ww({ol:Uw.POST,Md:t.Md,yd:t.yd,Dd:n})))}},n.Bh=function(){},t}();function Pg(t){return 1===t.yw}function Bg(t){return 3===t.yw}yr(),zt(),kr(),yr(),zt(),function(t){t[t.pw=1]="pw",t[t.Aw=2]="Aw",t[t.ed=3]="ed",t[t.bw=4]="bw",t[t.Tw=9]="Tw"}(Ng||(Ng={})),yr(),zt();var Og,xg=function(t){function n(n){return t.call(this,"Invalid XML",n)}return zr(n,t),n}(Rc),Lg=function(){function t(){}return t.prototype.Sw=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new xg(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new xg;return new Vg(n)},t}(),Mg=function(){function t(t){this.Ew=t}var n=t.prototype;return n.Iw=function(t){return this.Ew.isEqualNode(t.Ew)},n.Rw=function(n){return new t(this.Ew.cloneNode(n))},Ar(t,[{key:"yw",get:function(){return Ng.Aw}},{key:"Cw",get:function(){var t;return null!=(t=this.Ew.localName)?t:Gg(this.Ew.nodeName)}},{key:"Nw",get:function(){return this.Ew.nodeName}},{key:"Dw",get:function(){var t;return null!=(t=this.Ew.namespaceURI)?t:void 0}},{key:"Pw",get:function(){var t;return null!=(t=this.Ew.prefix)?t:void 0}},{key:"Bw",get:function(){return this.Ew.nodeValue}}]),t}(),Fg=function(){function t(t){this.Ow=void 0,this.xw=t}var n=t.prototype;return n.Lw=function(t){return this.Mw.filter((function(n){return Wg(n)&&n.Fw===t}))},n.Uw=function(t,n){return this.Mw.filter((function(i){return Wg(i)&&i.Cw===n&&i.Dw===t}))},n.Hw=function(t){this.xw.appendChild(t.Xw),this.Ow&&this.Ow.push(t)},n.Iw=function(t){return this.xw.isEqualNode(t.Xw)},Ar(t,[{key:"Mw",get:function(){return void 0===this.Ow&&(this.Ow=function(t){for(var n=[],i=0;i<t.length;i++){var r=qg(t.item(i));r&&n.push(r)}return n}(this.xw.childNodes)),this.Ow}},{key:"zw",get:function(){return this.Mw.filter(Wg)}},{key:"Xw",get:function(){return this.xw}}]),t}(),Ug=function(t){function n(n){return t.call(this,n)}zr(n,t);var i=n.prototype;return i.Vw=function(t){if(this.xw.hasAttribute(t))return this.xw.getAttribute(t)},i.Ww=function(t,n){if(this.xw.hasAttributeNS(t,n))return this.xw.getAttributeNS(t,n)},i.qw=function(t){this.xw.removeAttribute(t)},i.Gw=function(t,n){this.xw.removeAttributeNS(t,n)},i.jw=function(t,n){this.xw.setAttribute(t,n)},i.Yw=function(t,n,i){this.xw.setAttributeNS(t,n,i)},i.Rw=function(t){return new n(this.xw.cloneNode(t))},Ar(n,[{key:"yw",get:function(){return Ng.pw}},{key:"Cw",get:function(){var t;return null!=(t=this.xw.localName)?t:Gg(this.xw.nodeName)}},{key:"Dw",get:function(){var t;return null!=(t=this.xw.namespaceURI)?t:void 0}},{key:"Pw",get:function(){var t;return null!=(t=this.xw.prefix)?t:void 0}},{key:"Fw",get:function(){return this.xw.nodeName}},{key:"Qw",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new Mg(t.item(i)));return n}(this.xw.attributes)}},{key:"Zw",get:function(){return this.xw.textContent}}]),n}(Fg),Hg=function(){function t(t){this.xw=t}return t.prototype.Iw=function(t){return this.Ud===t.Ud},Ar(t,[{key:"Ud",get:function(){return this.xw.nodeValue}},{key:"Xw",get:function(){return this.xw}}]),t}(),Xg=function(t){function n(n){return t.call(this,n)}return zr(n,t),n.prototype.Rw=function(t){return new n(this.xw.cloneNode(t))},Ar(n,[{key:"yw",get:function(){return Ng.ed}}]),n}(Hg),zg=function(t){function n(n){return t.call(this,n)}return zr(n,t),n.prototype.Rw=function(t){return new n(this.xw.cloneNode(t))},Ar(n,[{key:"yw",get:function(){return Ng.bw}}]),n}(Hg),Vg=function(t){function n(n){return t.call(this,n)}return zr(n,t),n.prototype.Rw=function(t){return new n(this.xw.cloneNode(t))},Ar(n,[{key:"yw",get:function(){return Ng.Tw}},{key:"Kw",get:function(){return new Ug(this.xw.documentElement)}}]),n}(Fg);function Wg(t){return Pg(t)}function qg(t){switch(t.nodeType){case Ng.pw:return new Ug(t);case Ng.ed:return new Xg(t);case Ng.bw:return new zg(t)}}function Gg(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function jg(){if(te.gr)return!1;try{return"body"in self.Response.prototype}catch(t){return!1}}function Yg(){return te.qr||te.gr}function Qg(){return(te.qr||te.gr)&&!(te.Rr&&te.Cr<3)}!function(t){Pr=t}(new(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Jw=void 0,n.$w=jg(),n.t_=Yg(),n.n_=Qg(),n.i_=void 0,n.r_=new Lg,n}return zr(n,t),n.prototype.Sw=function(t){return this.r_.Sw(t)},Ar(n,[{key:"bu",get:function(){return this.Jw||(this.Jw=new Ja(sw())),this.Jw}},{key:"e_",get:function(){return this.$w}},{key:"u_",get:function(){return this.t_}},{key:"s_",get:function(){return this.n_}},{key:"o_",get:function(){return!1}},{key:"a_",get:function(){return aw.rv()}},{key:"c_",get:function(){return{f_:hw}}},{key:"h_",get:function(){return u.connection&&u.connection.effectiveType||lw}},{key:"v_",get:function(){return u.connection&&u.connection.type||"unknown"}},{key:"d_",get:function(){return this.i_||(this.i_=new Gw(new Dg)),this.i_}}]),n}(Ko))),yr(),zt(),yr(),zt(),kr(),yr(),zt(),kr(),Or(),yr(),zt(),yr(),zt(),kr(),yr(),zt(),function(t){t.l_="w_",t.__="g_"}(Og||(Og={})),yr(),zt(),kr(),yr(),zt(),yr(),zt(),yr(),zt(),kr();var Zg=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).m_=void 0,r}return zr(n,t),Ar(n,[{key:"y_",get:function(){return this.m_||(this.m_=this.p_()),this.m_}}]),n}(Qc);function Kg(t){return Boolean(t&&t.y_)}var Jg=function(t){function n(n){return t.call(this,n)}return zr(n,t),n}(Zg),$g=function(t){function n(n){return t.call(this,n)}return zr(n,t),n}(Qc),tm=function(t){function n(n){var i;return(i=t.call(this,Og.l_)||this).A_=n,i}return zr(n,t),n.prototype.p_=function(){return new nm(this.A_.y_)},n}(Jg),nm=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return zr(n,t),n}($g);yr(),zt();var im,rm=function(t){function n(n){var i;return(i=t.call(this,Og.__)||this).A_=n,i}return zr(n,t),n.prototype.p_=function(){return new em(this.A_.y_)},n}(Jg),em=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return zr(n,t),n}($g);yr(),zt(),function(t){t.k_="b_",t.T_="S_",t.E_="I_",t.R_="C_",t.N_="D_",t.P_="B_",t.O_="x_",t.L_="M_",t.F_="Df",t.U_="H_",t.X_="z_",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(im||(im={}));var um=function(t){function n(){var n;return(n=t.call(this)||this).V_=[],n.m_=void 0,n}zr(n,t);var i=n.prototype;return i.W_=function(t){return this.V_[t]},i.q_=function(t){return!(!t||lc(this.V_,t))&&(this.V_.push(t),this.m_&&this.m_.push(t.y_),t.js(im.P_,this.Ws),this.qs(new tm(t)),!0)},i.G_=function(t){if(!t)return!1;var n=this.V_.indexOf(t);return!(n<0)&&(vc(this.V_,n),this.m_&&vc(this.m_,n),t.Ks(im.P_,this.Ws),this.qs(new rm(t)),!0)},i.j_=function(t){return lc(this.V_,t)},i.Wf=function(){for(var t=this.V_,n=t.length-1;n>=0;n-=1)this.G_(t[n])},i.Bh=function(){this.Wf(),this.Zs()},Ar(n,[{key:"Y_",get:function(){return this.V_}},{key:"y_",get:function(){return this.m_||(this.m_=this.p_()),this.m_}},{key:"Q_",get:function(){return this.V_.length}}]),n}(Gc);yr(),zt();var sm=function(t){function n(n){var i;return(i=t.call(this,im.P_)||this).A_=n,i}return zr(n,t),n.prototype.p_=function(){return new om(this.A_.y_)},n}(Jg),om=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return zr(n,t),n}($g),am=function(t){function n(){var n;return(n=t.call(this)||this).Z_=void 0,n.K_=function(t){var i=t.A_;n.q_(i)},n.J_=function(t){var i=t.A_;n.G_(i)},n}zr(n,t);var i=n.prototype;return i.rg=function(t){t.js(Og.l_,this.K_),t.js(Og.__,this.J_)},i.eg=function(t){t.Ks(Og.l_,this.K_),t.Ks(Og.__,this.J_)},i.Bh=function(){this.Z_&&this.Z_.Bh(),t.prototype.Bh.call(this)},Ar(n,[{key:"og",get:function(){return this.Z_},set:function(t){var n=this.Z_;if(t!==n){if(n){this.eg(n);for(var i=0,r=n.Y_;i<r.length;i++){var e=r[i];t&&t.j_(e)||this.G_(e)}}if(this.Z_=t,t){for(var u=[],s=0,o=t.Y_;s<o.length;s++){var a=o[s];this.q_(a),this.ag(a)&&u.push(a)}this.rg(t);for(var c=0;c<u.length;c++){var f=u[c];f.qs(new sm(f))}}}}}]),n}(um);yr(),zt(),yr(),zt(),yr(),zt();var cm=v.freeze||we;function fm(t,n,i){v.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function hm(t,n){for(var i=0,r=v.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];v.defineProperty(t,e,v.getOwnPropertyDescriptor(n,e))}return t}function vm(t){if(ae(t)){var n={};for(var i in t)ne.call(t,i)&&(n[i]=vm(t[i]));return n}if(ue(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=vm(t[e]));return r}return t}function dm(t,n){return t===n||!(!t||!n)&&(!(!oe(t)||!oe(n))&&(se(t)?!!se(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!dm(t[e],n[e]))return!1;return!0}(t,n):!se(n)&&function(t,n){var i=v.keys(t),r=v.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!ne.call(n,u)||!dm(t[u],n[u]))return!1}return!0}(t,n)))}function lm(t,n){return t.constructor===n.constructor}function wm(t){for(var n={},i=0,r=v.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function _m(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function gm(t){return re(t)?_m(t):void 0}function mm(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function ym(t){var n=mm(t);if(_(n))throw new f("Expected a valid number.");return n}function pm(t){return"string"==typeof t?t:""}function Am(t,n){if(!se(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}function km(t,n){return se(t)?Am(t,n):n(t)}yr(),zt();var bm,Tm=[Og.l_,Og.__,im.P_];function Sm(t){var n,i=t.Y_.map((function(t){return t.y_}));return i.item=function(n){var i=0|n,r=t.W_(i);return r&&r.y_||void 0},i.addEventListener=function(t,i){n.js(t,i)},i.removeEventListener=function(t,i){n.Ks(t,i)},n=new jc(i),t.js(Tm,(function(t){return n.qs(t.y_)})),i}function Em(t){switch(t){case 0:return"caption";case 2:return"sign";case 1:return"description";case 3:return"enhanced audio intelligibility";case 4:return"easy reader";case 5:return"transcribes spoken dialog";case 6:return"describes music and sound";case 7:return"describes video"}}function Im(){}function Rm(t){var n,i=[im.F_,im.P_,im.U_,im.X_,im.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.cg&&t.cg.y_},get enabled(){return t.fg},set enabled(n){t.fg=_m(n)},get id(){return t.hg},get uid(){return t.vg},get kind(){return t.dg},get label(){return t.wg},set label(n){t.wg=pm(n)},get accessibility(){var n,i;return null!=(i=null==(n=t._g)?void 0:n.map(Em))?i:[]},get language(){return t.gg},get qualities(){return t.yg.y_},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.yg.Y_;r<e.length;r++)for(var u=e[r],s=0;s<n.length;s++){var o=n[s];u.y_===o&&i.push(u)}return i}(t,ue(n)?n:[n]):[]).length>0?t.pg=i:t.pg=void 0},get targetQuality(){if(t.pg)return 1===t.pg.length?t.pg[0].y_:t.pg.map((function(t){return t.y_}))},addEventListener:function(t,i){var r=km(t,pm);n.js(r,i)},removeEventListener:function(t,i){var r=km(t,pm);n.Ks(r,i)}};return n=new jc(r),t.js(i,(function(t){return n.qs(t.y_)})),v.defineProperty(r,"constructor",{value:Im}),r}function Cm(){}function Nm(t){var n=Sm(t);return v.defineProperty(n,"constructor",{value:Cm}),n}yr(),zt(),function(t){t[t.Ag=0]="Ag",t[t.Tg=1]="Tg",t[t.Sg=2]="Sg",t[t.Eg=3]="Eg",t[t.Ig=4]="Ig",t[t.TRANSCRIBES_SPOKEN_DIALOG=5]="TRANSCRIBES_SPOKEN_DIALOG",t[t.DESCRIBES_MUSIC_AND_SOUND=6]="DESCRIBES_MUSIC_AND_SOUND",t[t.Rg=7]="Rg"}(bm||(bm={}));var Dm,Pm,Bm=function(t){function n(){return t.apply(this,arguments)}zr(n,t);var i=n.prototype;return i.p_=function(){return Nm(this)},i.ag=function(t){return t.fg},n}(am);function Om(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case"disabled":case"hidden":case"showing":return n}}else if("number"==typeof t)switch(t){case 0:return"disabled";case 1:return"hidden";case 2:return"showing"}return"disabled"}function xm(){}function Lm(t){var n,i=[im.P_,im.F_,im.k_,im.T_,im.E_,im.R_,im.N_,im.O_,im.L_],r=[Pm.Cg],e={get kind(){return t.dg},get label(){return t.wg},set label(n){t.wg=pm(n)},get language(){return t.gg},get id(){return t.hg},get uid(){return t.vg},get inBandMetadataTrackDispatchType(){return t.Ng},get mode(){return t.Dg},set mode(n){n!==Dm.Pg&&n!==Dm.Bg&&n!==Dm.Og||t.xg(n)},get forced(){return Boolean(t.Lg)},get accessibility(){var n,i;return null!=(i=null==(n=t._g)?void 0:n.map(Em))?i:[]},get type(){return t.$u},get readyState(){return t.Mg},get cues(){return t.Dg===Dm.Og?null:t.Fg.y_},get activeCues(){return t.Dg===Dm.Og?null:t.Ug.y_},get src(){return t.Hg||""},addEventListener:function(t,i){var r=km(t,pm);n.js(r,i)},removeEventListener:function(t,i){var r=km(t,pm);n.Ks(r,i)}};return n=new jc(t),t.js(i,(function(t){return n.qs(t.y_)})),t.js(r,(function(t){return n.qs(t)})),v.defineProperty(e,"constructor",{value:xm}),e}function Mm(){}function Fm(t){var n=Sm(t);return v.defineProperty(n,"constructor",{value:Mm}),n}yr(),zt(),yr(),zt(),yr(),zt(),function(t){t.Og="disabled",t.Bg="hidden",t.Pg="showing"}(Dm||(Dm={})),yr(),zt(),function(t){t.Cg="error"}(Pm||(Pm={}));var Um=function(t){function n(){return t.apply(this,arguments)}zr(n,t);var i=n.prototype;return i.p_=function(){return Fm(this)},i.ag=function(t){return t.Dg===Dm.Pg},n}(am);yr(),zt();var Hm=function(t){function n(){return t.apply(this,arguments)}zr(n,t);var i=n.prototype;return i.Qs=function(n){t.prototype.Qs.call(this,n)},i.uo=function(n){t.prototype.uo.call(this,n)},n}(Gc),Xm=function(t){function n(){return t.apply(this,arguments)}return zr(n,t),n}(Hm);yr(),zt();var zm=function(t){function n(){return t.call(this,vw.Av)}return zr(n,t),n}(Qc);yr(),zt();var Vm=function(t){function n(n){var i;return(i=t.call(this,vw.wv)||this).currentSource=n,i}return zr(n,t),n}(Qc);function Wm(t,n,i){return n in t?v.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt();var qm="theoplayer-stored-network-info-v2",Gm=25e5,jm=function(){function t(){var t=this;this.Xg=lw,this.zg=void 0,this.Vg=_e((function(){var n,i=Wm({},t.Xg,{availableBandwidth:t.zg,storedTimestamp:cu()});null==(n=Pr.a_)||n.tv(qm,JSON.stringify(i))}),1e4)}var n=t.prototype;return n.Wg=function(t){var n,i=null==(n=Pr.a_)?void 0:n.Do(t);if(void 0!==i){var r=JSON.parse(i);if(void 0!==r&&void 0!==r[this.Xg]){if(!this.qg(r))return r[this.Xg].availableBandwidth;var e;null==(e=Pr.a_)||e.tv(t,JSON.stringify({}))}}},n.Gg=function(){var t=this.Wg(qm);if(void 0!==t)return t;var n=this.Wg("theoplayer-stored-network-info");return n?8*n:void 0},n.qg=function(t){var n=t[this.Xg].storedTimestamp;return!!n&&cu()-n>36e5},n.jg=function(t){this.zg=t,this.Vg()},n.Yg=function(){var t;return null!=this.zg||(this.zg=null!=(t=this.Gg())?t:Gm),this.zg},t}();jm.$r=new jm,yr(),zt(),yr(),zt();var Ym,Qm,Zm,Km,Jm,$m,ty,ny="1ADD53F3";function iy(t){return{chromecast:function(t){return{appID:t&&t.appID?pm(t.appID):ny}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return"auto";case"manual":return"manual";case"disabled":return"disabled";default:return"manual"}}(t?t.strategy:void 0)}}function ry(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":return!0;default:return!1}}function ey(t){var n=Zm.Qg;return function(t){return!!t&&Fa(t,"mpd")}(t)&&(n=Zm.Zg),function(t){return!!t&&Fa(t,"m3u8")}(t)&&(n=Zm.Kg),n}function uy(t){return!!t&&Ua(t.toLowerCase(),Zm.Zg)}function sy(t){if(!t)return!1;var n=t.toLowerCase();return Ua(n,Zm.Kg)||Ua(n,Zm.Jg)}function oy(t){return oe(t)&&oe(t.ssai)&&"google-dai"===t.ssai.integration}function ay(t){return oe(t)&&ce(t.integration)&&"verizon-media"===t.integration}function cy(t){return oe(t)&&ce(t.integration)&&"mediatailor"===t.integration}function fy(t){if(ce(t))return!t;if(ay(t))return!t.id;if(oy(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function hy(t){return Boolean(oe(t)&&ce(t.src))}function vy(t){return t.type===Zm.$g||t.type===Zm.tm}function dy(t){return ce(t)||hy(t)||oy(t)||ay(t)}function ly(t){if(t){if(dy(t))return fy(t);for(var n=0;n<t.length;n++){if(!fy(t[n]))return!1}return!0}return!0}function wy(){return{crossOrigin:Qm.nm,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0,ignoreEmbeddedTextTrackTypes:[]}}function _y(){return na({},wy(),{src:void 0,type:Zm.Qg,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function gy(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Km.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1}};return void 0===t||(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return Jm.NONE;case"midroll-and-postroll":default:return Jm.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=_m(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Km.INSECURE;case"disabled":return Km.DISABLED;case"enabled":default:return Km.ENABLED}}(t.vpaidMode)),ue(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(ce)),void 0!==t.googleIma&&(n.googleIma=function(t){return void 0===t?{useNativeIma:!1,bitrate:-1}:{useNativeIma:_m(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1};var n}(t.googleIma))),n}function my(t){if(!se(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];ae(r)&&n.push(r)}return n}function yy(t){return ce(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Ym||(Ym={})),yr(),zt(),yr(),zt(),function(t){t.nm="",t.im="anonymous",t.um="use-credentials"}(Qm||(Qm={})),function(t){t.Zg="application/dash+xml",t.Kg="application/vnd.apple.mpegurl",t.Jg="application/x-mpegurl",t.Qg="video/mp4",t.$g="application/vnd.theoplayer.hesp+json",t.tm="application/vnd.theo.hesp+json"}(Zm||(Zm={})),yr(),zt(),yr(),zt(),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(Km||(Km={})),yr(),zt(),yr(),zt(),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(Jm||(Jm={})),yr(),zt(),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}($m||($m={})),yr(),zt(),yr(),zt(),function(t){t[t.fm=0]="fm",t[t.hm=1]="hm",t[t.vm=2]="vm",t[t.dm=3]="dm",t[t.lm=4]="lm"}(ty||(ty={}));var py=function(t){function n(n,i){var r;return void 0===i&&(i=ty.fm),(r=t.call(this,vw.yv)||this).currentTime=n,r.readyState=i,r}return zr(n,t),n}(Qc);yr(),zt();var Ay=function(t){function n(n){var i;return(i=t.call(this,vw.Bv)||this).currentTime=n,i}return zr(n,t),n}(Qc);yr(),zt();var ky,by=function(t){function n(n){var i;return(i=t.call(this,vw.Ov)||this).currentTime=n,i}return zr(n,t),n}(Qc);yr(),zt(),yr(),zt(),function(t){t.wm="canplay",t._m="canplaythrough",t.gm="loadeddata",t.ym="loadedmetadata",t.O_="readystatechange",t.pm="waiting",t.Am="playing"}(ky||(ky={}));var Ty=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"],Sy=function(t){function n(n,i){var r;return void 0===i&&(i=ty.hm),(r=t.call(this,ky.ym)||this).currentTime=n,r.readyState=i,r}return zr(n,t),n}(Qc);yr(),zt();var Ey=function(t){function n(n){var i;return(i=t.call(this,vw.mv)||this).duration=n,i}return zr(n,t),n}(Qc);yr(),zt();var Iy=function(t){function n(n,i){var r;return(r=t.call(this,vw.Lv)||this).currentTime=n,r.playbackRate=i,r}return zr(n,t),n}(Qc);yr(),zt();var Ry=function(t){function n(n,i){var r;return(r=t.call(this,vw.Yv)||this).currentTime=n,r.currentProgramDateTime=i,r}return zr(n,t),n}(Qc);yr(),zt();var Cy=function(t){function n(n){var i;return(i=t.call(this,vw.pv)||this).currentTime=n,i}return zr(n,t),n}(Qc);yr(),zt();var Ny=function(t){function n(n,i){var r;return void 0===i&&(i=ty.vm),(r=t.call(this,ky.gm)||this).currentTime=n,r.readyState=i,r}return zr(n,t),n}(Qc);yr(),zt();var Dy=function(t){function n(n){var i;return(i=t.call(this,vw.Hv)||this).currentTime=n,i}return zr(n,t),n}(Qc);yr(),zt();var Py=function(t){function n(n){var i;return(i=t.call(this,vw.Uv)||this).currentTime=n,i}return zr(n,t),n}(Qc);yr(),zt();var By=function(t){function n(n,i){var r;return(r=t.call(this,vw.Qv)||this).currentTime=n,r.volume=i,r}return zr(n,t),n}(Qc);yr(),zt();var Oy=function(t){function n(n,i){var r;return void 0===i&&(i=ty.dm),(r=t.call(this,ky.wm)||this).currentTime=n,r.readyState=i,r}return zr(n,t),n}(Qc);yr(),zt();var xy=function(t){function n(n,i){var r;return void 0===i&&(i=ty.lm),(r=t.call(this,ky._m)||this).currentTime=n,r.readyState=i,r}return zr(n,t),n}(Qc);yr(),zt();var Ly=function(t){function n(n,i){var r;return(r=t.call(this,ky.O_)||this).currentTime=n,r.readyState=i,r}return zr(n,t),n}(Qc);yr(),zt(),kr();var My=function(t){function n(n){var i;return(i=t.call(this,Pm.Cg)||this).errorObject=n,i}return zr(n,t),n.prototype.p_=function(){return this},Ar(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Zg);function Fy(t,n){return Uy.apply(this,arguments)}function Uy(){return(Uy=ta((function(t,n,i,r,e){var u,s,o;return ia(this,(function(a){switch(a.label){case 0:void 0===i&&(i=3),void 0===r&&(r=1e3),void 0===e&&(e=1/0),u=0,a.label=1;case 1:0,a.label=2;case 2:return a.trys.push([2,4,,7]),[4,t(n)];case 3:return[2,a.sent()];case 4:return Oc(s=a.sent()),u<i?(o=d.min(r*d.pow(2,u),e),u++,[4,Wc(o,n)]):[3,6];case 5:return a.sent(),[3,1];case 6:throw s;case 7:return[3,1];case 8:return[2]}}))}))).apply(this,arguments)}yr(),zt();var Hy,Xy,zy={maxRetries:1/0,minimumBackoff:200,maximumBackoff:3e4};function Vy(t){if(re(t))return Wy(Am(null==t?void 0:t.preferredAudioCodecs,pm),Am(null==t?void 0:t.preferredVideoCodecs,pm),gm(null==t?void 0:t.restrictToPlayerSize))}function Wy(t,n,i){if(0!==t.length||0!==n.length||void 0!==i)return{preferredAudioCodecs:0===t.length?void 0:t,preferredVideoCodecs:0===n.length?void 0:n,restrictToPlayerSize:i}}function qy(t,n){return void 0!==t&&(null==t?void 0:t.length)>0?t:null!=n?n:[]}function Gy(t){switch(t){case"all":case"content":return t;default:return"none"}}function jy(t){var n=vm(t||{});return n.libraryLocation&&(n.libraryLocation=Yw(n.libraryLocation,!0)),n.isEmbeddable=Boolean(n.isEmbeddable),n.cast=iy(n.cast),n.ads=gy(n.ads),n.analytics=my(n.analytics),n.mutedAutoplay=Gy(n.mutedAutoplay),n.allowNativeFullscreen=Boolean(n.allowNativeFullscreen),n.allowMixedContent=Boolean(n.allowMixedContent),n.persistVolume=Boolean(n.persistVolume),n.liveOffset=function(t){return Number(t)||void 0}(n.liveOffset),n.hlsDateRange=function(t){return Boolean(t)}(n.hlsDateRange),n.retainPlaybackRateOnSourceChange=Boolean(n.retainPlaybackRateOnSourceChange),n.license=function(t){return ce(t)?t:void 0}(n.license),n.licenseUrl=function(t){if(!t)return;try{return Yw(t)}catch(t){return void Pr.wu("Invalid 'licenseUrl', falling back to default URL")}}(n.licenseUrl),n.vr=function(t){return{useWebXR:Boolean(t&&t.useWebXR)}}(n.vr),n.abr=Vy(n.abr),n.retryConfiguration=function(t){var n=na({},zy);return void 0!==t&&(void 0!==t.maxRetries&&(n.maxRetries=Number(t.maxRetries)),void 0!==t.minimumBackoff&&(n.minimumBackoff=Number(t.minimumBackoff)),void 0!==t.maximumBackoff&&(n.maximumBackoff=Number(t.maximumBackoff))),n}(n.retryConfiguration),n.hideDeprecationWarnings=Boolean(n.hideDeprecationWarnings),n}function Yy(t){return{Tm:t.Tm,Sm:t.Sm,Em:t.Em,Ao:t.Ao,Im:t.Im,Rm:t.Rm,Cm:t.Cm,Nm:t.Nm,Mg:t.Mg,Dm:t.Dm,Pm:t.Pm,Bm:t.Bm,Om:t.Om}}function Qy(t,n,i){if(n!==i){var r=n.Tm,e=n.Sm,u=n.Rm,s=n.Cm,o=n.Nm,a=n.Mg,c=n.Dm,f=(n.Bm,n.Pm,n.Om),h=i.Tm,v=i.Sm,d=i.Em,l=i.Im,w=i.Rm,g=i.Cm,m=i.Nm,y=i.Mg,p=i.Dm,A=(i.Bm,i.Pm,i.Om);a!==ty.fm&&t.qs(new py(h,y)),g&&!s?t.qs(new Ay(h)):!g&&s&&t.qs(new by(h)),y>=ty.hm&&t.qs(new Sy(h,y)),v===e||_(v)&&_(e)||t.qs(new Ey(v)),m!==o&&t.qs(new Iy(h,m)),h!==r&&t.qs(new Ry(h,void 0)),d&&t.qs(new Cy(h)),y>=ty.vm&&t.qs(new Ny(h,y)),p&&!c?t.qs(new Dy(h)):!p&&c&&t.qs(new Py(h)),A===f&&w===u||t.qs(new By(h,A)),y>=ty.dm&&t.qs(new Oy(h,y)),y>=ty.lm&&t.qs(new xy(h,y)),y!==a&&t.qs(new Ly(h,y)),l&&t.qs(new My(l))}}yr(),zt(),yr(),zt(),function(t){t.$d="audio",t.il="video",t.ed="text",t.ul="image",t.Hd="unknown"}(Hy||(Hy={})),function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Xy||(Xy={})),yr(),zt(),kr(),yr(),zt(),yr(),zt(),yr(),zt();var Zy=.25,Ky={xm:.2,Lm:.45,Mm:.7,Fm:3,Um:ep,Hm:up},Jy={xm:.4,Lm:.65,Mm:1,Fm:3,Um:ep,Hm:up},$y={xm:.4,Lm:.7,Mm:.9,Fm:3,Um:ep,Hm:up},tp={xm:.4,Lm:.65,Mm:1,Fm:3,Um:ep,Hm:up},np={xm:.5,Lm:1.125,Mm:1.75,Fm:2.55,Um:ep,Hm:up};function ip(){var t;return t=Pr.Bu.Ge?tp:Pr.Bu.Qe?Jy:Pr.Bu.Ye?"Android"===Pr.Ou.xu?$y:Ky:np,Pr.Ou.Lu?function(t){if(Pr.Ou.Lu){var n=d.max(.65,t.xm),i=d.max(n+Zy,t.Lm),r=d.max(i+Zy,t.Mm);return{xm:n,Lm:i,Mm:r,Fm:d.max(r+Zy,t.Fm),Um:ep,Hm:up}}return t}(t):t}yr(),zt(),yr(),zt();var rp,ep=.92,up=1.08;function sp(t){return{goLive:function(){return t.Xm()},get isLive(){return t.zm},get currentServerLiveTime(){return t.Vm},get currentLatency(){return t.Wm},get latencies(){return t.qm},get latency(){return t.Gm},set latency(n){if(!function(t){if(!oe(t))return!1;var n=t,i=re(n.target)&&"number"==typeof n.target&&re(n.windowEnd)&&"number"==typeof n.windowEnd&&re(n.windowStart)&&"number"==typeof n.windowStart&&re(n.maxOffset)&&"number"==typeof n.maxOffset,r=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&r}(n))throw new f("Invalid latency configuration");t.Gm=n},get manifest(){return t.jm},addEventListener:function(n,i){t.js(ap(n),i)},removeEventListener:function(n,i){t.Ks(ap(n),i)}}}!function(t){t[t.Og=0]="Og",t[t.Ym=1]="Ym",t[t.Qm=2]="Qm"}(rp||(rp={}));var op=["golive","latencyrecoveryseek"];function ap(t){var n=km(t,pm);return(ce(n)?[n]:n).filter((function(t){return lc(op,t)}))}var cp=function(t){function n(){var n;return(n=t.call(this)||this).Z_=void 0,n.m_=void 0,n.Zm=function(t){return{windowStart:t.xm,windowEnd:t.Mm,target:t.Lm,maxOffset:t.Fm}}(ip()),n.Z_=void 0,n}zr(n,t);var i=n.prototype;return i.rg=function(t){t.js(op,this.Ws)},i.eg=function(t){t.Ks(op,this.Ws)},i.Xm=function(){var t;null==(t=this.Z_)||t.Xm()},i.Bh=function(){this.Zs(),this.Z_&&this.eg(this.Z_),this.Z_=void 0},Ar(n,[{key:"og",get:function(){return this.Z_},set:function(t){var n=this.Z_;t!==n&&(n&&this.eg(n),t&&this.rg(t),this.Z_=t,this.Z_&&(this.Z_.Gm=this.Zm))}},{key:"y_",get:function(){return this.m_||(this.m_=sp(this)),this.m_}},{key:"Vm",get:function(){var t;return null==(t=this.Z_)?void 0:t.Vm}},{key:"Wm",get:function(){var t;return null==(t=this.Z_)?void 0:t.Wm}},{key:"qm",get:function(){var t;return null==(t=this.Z_)?void 0:t.qm}},{key:"zm",get:function(){return!!this.Z_&&this.Z_.zm}},{key:"Gm",get:function(){return this.Z_?this.Z_.Gm:this.Zm},set:function(t){this.Z_&&(this.Z_.Gm=t),this.Zm=t}},{key:"jm",get:function(){var t;return null==(t=this.Z_)?void 0:t.jm}}]),n}(Gc),fp=function(t){function n(n){var i;return(i=t.call(this)||this).Km=[],i.Jm=!1,i.$m=new Bm,i.iy=new Bm,i.ey=new Um,i.uy=new cp,i.sy=!1,i.oy(n),n.Qs(i.Ws),i.Z_=n,i.$m.og=n.vy,i.iy.og=n.ly,i.ey.og=n.wy,i.uy.og=n._y,i}zr(n,t);var i=n.prototype;return i.gy=function(){this.Z_.gy()},i.yy=function(){this.Z_.yy()},i.py=function(){var t=this;return ta((function(){return ia(this,(function(n){return[2,zc(t.Km.map((function(t){return t.py()}))).then(le)]}))}))()},i.Ay=function(){return this.Z_.Ay()},i.by=function(t,n){var i=this;return ta((function(){return ia(this,(function(r){switch(r.label){case 0:return Bc(n),[4,i.Z_.by(t,n)];case 1:return r.sent(),[2]}}))}))()},i.Ty=function(){return this.og.Ty()},i.Sy=function(){this.og.Sy()},i.Ey=function(){this.og.Ey()},i.Iy=function(){if(!this.Jm){for(var t=0,n=this.Km;t<n.length;t++){n[t].Iy()}this.Jm=!0}},i.Ry=function(t){this.Z_.Ry(t)},i.Cy=function(){this.Z_.Cy()},i.Ny=function(){this.Z_.Ny()},i.Dy=function(){this.Z_.Dy()},i.Py=function(){return this.Z_.Py()},i.By=function(){return this.Z_.By()},i.Oy=function(){for(var t=[],n=0,i=this.Km;n<i.length;n++){var r,e=i[n];(r=t).push.apply(r,Nr(e.Oy()))}return t},i.xy=function(t){for(var n=!1,i=0,r=this.Km;i<r.length;i++){n=r[i].xy(t)||n}return n},i.qs=function(n){this.xy(n)||t.prototype.qs.call(this,n)},i.oy=function(t){this.Km.push(t)},i.Ly=function(t){hc(this.Km,t)},i.My=function(t){if(t!==this.Z_){var n=this.Z_;n.Cy(),n.uo(this.Ws);var i=Yy(this),r=this.Fy,e=this.By();this.Z_=t,this.$m.og=t.vy,this.iy.og=t.ly,this.ey.og=t.wy,this.uy.og=t._y,Qy(this,i,this);var u=this.Fy;u!==r&&this.qs(new Vm(u)),this.By()!==e&&this.qs(new zm),t.Qs(this.Ws),t.Ry(n)}},i.Uy=function(){},i.Hy=function(){this.Z_.Hy()},i.Bh=function(){var t=this;return ta((function(){var n,i;return ia(this,(function(r){switch(r.label){case 0:t.Zs(),t.Z_.Cy(),n=0,i=t.Km,r.label=1;case 1:return n<i.length?[4,i[n].Bh()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return t.$m.Bh(),t.iy.Bh(),t.ey.Bh(),t.uy.Bh(),[2]}}))}))()},i.Wf=function(){var t=this;return ta((function(){return ia(this,(function(n){return[2,zc(t.Km.map((function(t){return t.Wf()}))).then(le)]}))}))()},Ar(n,[{key:"vy",get:function(){return this.$m}},{key:"wy",get:function(){return this.ey}},{key:"ly",get:function(){return this.iy}},{key:"Xy",get:function(){return this.Z_.Xy}},{key:"zy",get:function(){return this.Z_.zy},set:function(t){this.Z_.zy=t}},{key:"Fy",get:function(){return this.Z_.Fy}},{key:"Tm",get:function(){return this.Z_.Tm},set:function(t){this.Z_.Tm=t}},{key:"Sm",get:function(){return this.Z_.Sm}},{key:"Vy",get:function(){return this.Z_.Vy}},{key:"Em",get:function(){return this.Z_.Em}},{key:"Ao",get:function(){return this.Z_.Ao}},{key:"Im",get:function(){return this.Z_.Im}},{key:"_y",get:function(){return this.uy}},{key:"Wy",get:function(){return this.Z_.Wy}},{key:"qy",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.Gy,i+=a.jy,r+=a.Yy,e+=a.Qy,u+=a.Zy,s.amountOfBufferedAudioSegments+=a.Ky.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=a.Ky.amountOfBufferedVideoSegments}return{Gy:n,jy:i,Yy:r,Qy:e,Zy:u,Ky:s}}(this.Km.map((function(t){return t.qy})))}},{key:"Rm",get:function(){return this.Z_.Rm},set:function(t){this.Z_.Rm=t}},{key:"Jy",get:function(){return this.Z_.Jy}},{key:"Cm",get:function(){return this.Z_.Cm}},{key:"Nm",get:function(){return this.Z_.Nm},set:function(t){this.Z_.Nm=t}},{key:"$y",get:function(){return this.Z_.$y}},{key:"tp",get:function(){return this.Z_.tp},set:function(t){this.Z_.tp=t}},{key:"Mg",get:function(){return this.Z_.Mg}},{key:"np",get:function(){return this.Z_.np}},{key:"Dm",get:function(){return this.Z_.Dm}},{key:"Pm",get:function(){return this.Z_.Pm}},{key:"Bm",get:function(){return this.Z_.Bm}},{key:"Om",get:function(){return this.Z_.Om},set:function(t){this.Z_.Om=t}},{key:"ip",get:function(){return this.Z_.ip}},{key:"rp",get:function(){return!1},set:function(t){}},{key:"og",get:function(){return this.Z_},set:function(t){this.My(t)}}]),n}(Xm);yr(),zt(),kr(),yr(),zt(),kr();var hp,vp=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r)||this).url=e,c.status=u,c.statusText=s,c.response=o,c.systemCode=a,c}return zr(n,t),Ar(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Wl);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(hp||(hp={}));var dp=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,f.captureStackTrace&&f.captureStackTrace($a(u),u.constructor),u}return zr(n,t),Ar(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Ic);function lp(t){fm(t,"MEDIA_ERR_ABORTED",1),fm(t,"MEDIA_ERR_NETWORK",2),fm(t,"MEDIA_ERR_DECODE",3),fm(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",4),fm(t,"MEDIA_ERR_ENCRYPTED",5)}function wp(t){var n,i;return function(t){return t.category===Xl.CONTENT_PROTECTION}(t)?new dp(5,t.message,null==(n=t.cause)?void 0:n.message,t.systemCode):new dp(function(t){if(t===Hl.MEDIA_ABORTED)return 1;if(t===Hl.MANIFEST_LOAD_ERROR||t===Hl.MEDIA_LOAD_ERROR||t===Hl.SUBTITLE_LOAD_ERROR)return 2;if(t===Hl.MEDIA_DECODE_ERROR)return 3;if(t===Hl.MEDIA_NOT_SUPPORTED)return 4;var n=Xl.fromCode(t);if(n===Xl.NETWORK)return 2;if(n===Xl.SOURCE)return 4;if(n===Xl.LICENSE)return 6;if(n===Xl.CONTENT_PROTECTION)return 5;if(n===Xl.AD)return 7;return 3}(t.code),t.message,null==(i=t.cause)?void 0:i.message)}lp(dp),lp(dp.prototype),yr(),zt(),kr(),yr(),zt(),yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt();var _p=function(t){function n(){return t.apply(this,arguments)}zr(n,t);var i=n.prototype;return i.q_=function(n){return t.prototype.q_.call(this,n)},i.p_=function(){return Nm(this)},n}(um);yr(),zt(),yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt();var gp=function(){function t(){this.ep=[],this.m_=void 0}var n=t.prototype;return n.sp=function(t){this.ep.push(t),this.m_&&this.m_.push(t.y_)},n.Nf=function(t){hc(this.ep,t),this.m_&&hc(this.m_,t.y_)},n.W_=function(t){return this.ep[t]},n.op=function(t){return ue(t)?function(t,n){for(var i=0;i<n.length;i++)if(!lc(t,n[i]))return!1;return!0}(this.ep,t):lc(this.ep,t)},n.Wf=function(){wc(this.ep),this.m_&&wc(this.m_)},Ar(t,[{key:"Y_",get:function(){return this.ep}},{key:"Q_",get:function(){return this.ep.length}},{key:"y_",get:function(){return this.m_||(this.m_=function(t){var n=t.Y_.map((function(t){return t.y_}));return n.item=function(n){var i=0|n,r=t.W_(i);return r&&r.y_||void 0},n}(this)),this.m_}}]),t}();yr(),zt();var mp=function(t){function n(n){var i;return(i=t.call(this,im.F_)||this).A_=n,i}return zr(n,t),n.prototype.p_=function(){return new yp(this.A_.y_)},n}(Jg),yp=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return zr(n,t),n}($g);yr(),zt();var pp=0;function Ap(){return pp++}var kp=0;var bp=0;function Tp(){return bp++}var Sp=0;function Ep(){return Sp++}var Ip=0;var Rp=function(t){function n(n){var i;return(i=t.call(this)||this).$u=Hy.$d,i.ap=!1,i.m_=void 0,i.cp=n,i.fp=Ap(),i.gf=Ip+++"",i.hp=n.label,i.ep=new gp,i.vp(),i}zr(n,t);var i=n.prototype;return i.dp=function(t){this.fg=t},i.vp=function(){this.fg=this.lp},Ar(n,[{key:"cg",get:function(){}},{key:"fg",get:function(){return this.ap},set:function(t){this.ap!==t&&(this.ap=t,this.lp=t,this.qs(new sm(this)))}},{key:"lp",get:function(){return this.cp.enabled},set:function(t){this.cp.enabled=t}},{key:"y_",get:function(){return this.m_||(this.m_=Rm(this)),this.m_}},{key:"hg",get:function(){return this.gf}},{key:"vg",get:function(){return this.fp}},{key:"dg",get:function(){return this.cp.kind}},{key:"wg",get:function(){return this.hp},set:function(t){t!==this.hp&&(this.hp=t,this.qs(new mp(this)))}},{key:"gg",get:function(){return this.cp.language}},{key:"Dg",get:function(){return this.fg?"enabled":"disabled"}},{key:"wp",get:function(){return this.cp}},{key:"yg",get:function(){return this.ep}},{key:"pg",get:function(){},set:function(t){}}]),n}(Gc);yr(),zt(),kr();var Cp=0;var Np=function(t){function n(n){var i;return(i=t.call(this)||this).$u=Hy.il,i.ap=!1,i.m_=void 0,i.cp=n,i.fp=Ap(),i.gf=Cp+++"",i.ep=new gp,i.hp=n.label,i.vp(),i}zr(n,t);var i=n.prototype;return i.vp=function(){this.fg=this.lp},i.dp=function(t){this.fg=t},Ar(n,[{key:"cg",get:function(){}},{key:"fg",get:function(){return this.ap},set:function(t){this.ap!==t&&(this.ap=t,this.lp=t,this.qs(new sm(this)))}},{key:"lp",get:function(){return!!this.cp.selected},set:function(t){this.cp.selected=t}},{key:"y_",get:function(){return this.m_||(this.m_=Rm(this)),this.m_}},{key:"hg",get:function(){return this.gf}},{key:"vg",get:function(){return this.fp}},{key:"dg",get:function(){return"main"}},{key:"wg",get:function(){return this.hp},set:function(t){t!==this.hp&&(this.hp=t,this.qs(new mp(this)))}},{key:"gg",get:function(){return this.cp.language}},{key:"Dg",get:function(){return this.fg?"enabled":"disabled"}},{key:"wp",get:function(){return this.cp}},{key:"yg",get:function(){return this.ep}},{key:"pg",get:function(){},set:function(t){}}]),n}(Gc);yr(),zt();var Dp,Pp,Bp=function(t){function n(n){var i;return(i=t.call(this,vw.ev)||this).Wy=n,i}return zr(n,t),n}(Qc);yr(),zt(),yr(),zt(),function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Dp||(Dp={})),yr(),zt(),yr(),zt(),function(t){t._p="cue",t.gp="region",t.mp="stylesheet"}(Pp||(Pp={})),yr(),zt(),kr(),yr(),zt();var Op,xp={"line-left":"start",center:"middle","line-right":"end"},Lp={start:"line-left",middle:"center",end:"line-right"};function Mp(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Fp(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return function(t,n){var i="number"==typeof t?t:w(t);return _(i)?n:i}(t,50)}yr(),zt(),yr(),zt(),yr(),zt(),function(t){t.yp="pp",t.Ap="kp",t.F_="Df"}(Op||(Op={}));var Up=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).bp=i,r}return zr(n,t),n}(Jg),Hp=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return zr(n,t),n}($g);function Xp(t){var n,i=[Op.yp,Op.Ap,Op.F_],r={get track(){return t.A_.y_},get id(){return t.hg},get uid(){return t.vg},get startTime(){return t.Tp},get endTime(){return t.Sp},get content(){return t.Ep},addEventListener:function(t,i){var r=km(t,pm);n.js(r,i)},removeEventListener:function(t,i){var r=km(t,pm);n.Ks(r,i)}};return n=new jc(r),t.js(i,(function(t){return n.qs(t.y_)})),r}function zp(){}function Vp(t){return hm(Xp(t),{get align(){return t.Ip},get line(){return t.Rp},get lineAlign(){return t.Cp},get position(){return t.Np},get positionAlign(){return t.Dp},get region(){return t.Pp?t.Pp.y_:null},get size(){return t.xo},get snapToLines(){return t.Bp},get text(){return t.Ep},get vertical(){return t.Op}})}yr(),zt(),kr(),yr(),zt();var Wp=function(t){function n(n){return t.call(this,Op.F_,n)}return zr(n,t),n.prototype.p_=function(){return new qp(this.bp.y_)},n}(Up),qp=function(t){function n(n){return t.call(this,"update",n)}return zr(n,t),n}(Hp),Gp=.02;function jp(t,n){return eu(t.Tp,n.Tp,Gp)&&eu(t.Sp,n.Sp,Gp)&&t.hg===n.hg}var Yp=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).m_=void 0,s.xp=void 0,s.Lp=!1,s.Mp=-1,s.fp=Ep(),s.Fp=n,s.Up=i,s.Hp=r,s.Xp=Boolean(e),s.gf=null!=u?u:"",s}zr(n,t);var i=n.prototype;return i.p_=function(){return Xp(this)},i.zp=function(t){return this===t||lm(this,t)&&jp(this,t)},i.Bh=function(){this.Zs()},Ar(n,[{key:"Tp",get:function(){return this.Fp},set:function(t){this.Fp!==t&&(this.Fp=t,this.qs(new Wp(this)))}},{key:"Sp",get:function(){return this.Up},set:function(t){this.Up!==t&&(this.Up=t,this.qs(new Wp(this)))}},{key:"hg",get:function(){return this.gf}},{key:"vg",get:function(){return this.fp}},{key:"y_",get:function(){return this.m_||(this.m_=this.p_()),this.m_}},{key:"Vp",get:function(){return this.Lp},set:function(t){this.Lp=t}},{key:"A_",get:function(){return this.xp},set:function(t){this.xp=t}},{key:"Ep",get:function(){return this.Hp},set:function(t){this.Hp!==t&&(this.Hp=t,this.qs(new Wp(this)))}},{key:"Wp",get:function(){return this.Xp},set:function(t){this.Xp=t}}]),n}(Gc);function Qp(t,n){return t.Ep===n.Ep&&t.Rp===n.Rp&&t.Cp===n.Cp&&t.Np===n.Np&&t.Dp===n.Dp&&t.Pp===n.Pp&&t.Bp===n.Bp&&t.xo===n.xo&&t.Ip===n.Ip&&t.Op===n.Op}var Zp=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,u)||this).Rp="auto",s.Cp="start",s.Np="auto",s.Dp="auto",s.Pp=void 0,s.Bp=!0,s.xo=100,s.Ip="center",s.Op="",s}return zr(n,t),n.prototype.zp=function(n){return this===n||lm(this,n)&&t.prototype.zp.call(this,n)&&Qp(this,n)},Ar(n,[{key:"y_",get:function(){return this.m_||(this.m_=Vp(this)),this.m_}},{key:"$u",get:function(){return Pp._p}}]),n}(Yp);function Kp(t){var n=de(t.Rp)?t.Rp:w(t.Rp);return _(n)||t.Bp||!(n<0||n>100)?_(n)?t.Bp?-1:100:n:100}function Jp(t){return Fp(t.Np,t.Ip)}function $p(t){return Mp(t.Dp,t.Ip)}function tA(t){var n,i=$p(t),r=Jp(t);switch(i){case"line-left":n=100-r;break;case"line-right":n=r;break;case"center":n=r<=50?2*r:2*(100-r)}return d.min(t.xo,n)}function nA(t){return{get id(){return t.hg},get identifier(){return t.hg},get lines(){return t.qp},get regionAnchorX(){return t.Gp},get regionAnchorY(){return t.jp},get scrollValue(){return t.Yp},get viewportAnchorX(){return t.Qp},get viewportAnchorY(){return t.Zp},get width(){return t.Kp}}}yr(),zt(),kr(),yr(),zt();var iA=function(){function t(t,n,i,r,e,u,s,o){this.hg=t,this.Kp=n,this.qp=i,this.Gp=r,this.jp=e,this.Qp=u,this.Zp=s,this.Yp=o}return Ar(t,[{key:"y_",get:function(){return this.m_||(this.m_=nA(this)),this.m_}},{key:"$u",get:function(){return Pp.gp}}]),t}();yr(),zt(),yr(),zt();var rA=1e6,eA=function(){function t(){}var n=t.prototype;return n.Jp=function(t){return this.$p()*t},n.tA=function(t){return this.nA(t)>0},n.iA=function(t){return this.nA(t)>=0},n.rA=function(t,n){return this.uA(t).eA(n)},n.zp=function(t){return 0===this.nA(t)},n.sA=function(t){return this.nA(t)<0},n.eA=function(t){return this.nA(t)<=0},n.oA=function(){return this.aA()?this.cA():this},n.fA=function(t){return this.sp(t.cA())},n.uA=function(t){return this.fA(t).oA()},t}();function uA(t,n){return t.hA()?n.hA()?Ka.As:Ka.Ts:n.hA()?Ka.Ss:t.vA()?n.vA()&&t.aA()===n.aA()?Ka.As:t.aA()?Ka.Ss:Ka.Ts:n.aA()?Ka.Ts:Ka.Ss}yr(),zt(),yr(),zt();var sA=4294967296,oA=sA*sA,aA=oA*oA,cA=aA/2,fA=function(){function t(t,n){this.dA=t,this.lA=n}var n=t.prototype;return n.wA=function(){return this.lA.unsigned},n._A=function(){return this.dA.isZero()&&this.lA.isZero()},n.aA=function(){return this.lA.isNegative()},n.gA=function(){return this.wA()?t.mA(this.dA,this.lA,!1):this},n.yA=function(){return this.wA()?this:t.mA(this.dA,this.lA,!0)},n.pA=function(){return this.dA},n.$p=function(){return this.aA()?-this.cA().$p():this.lA.toNumber()*oA+this.dA.toUnsigned().toNumber()},n.AA=function(){return this.dA.toInt()},n.zp=function(t){return(this.wA()===t.wA()||this.lA.getHighBits()>>>31!=1||t.lA.getHighBits()>>>31!=1)&&(this.lA.toUnsigned().eq(t.lA.toUnsigned())&&this.dA.toUnsigned().eq(t.dA.toUnsigned()))},n.nA=function(t){if(this.zp(t))return Ka.As;var n=this.aA(),i=t.aA();if(n&&!i)return Ka.Ss;if(!n&&i)return Ka.Ts;if(!this.wA())return this.fA(t).aA()?Ka.Ss:Ka.Ts;var r=this.yA(),e=t.yA(),u=e.lA.comp(r.lA);return u>0||0===u&&e.dA.gt(r.dA)?Ka.Ss:Ka.Ts},n.sA=function(t){return this.nA(t)<0},n.eA=function(t){return this.nA(t)<=0},n.kA=function(t){return this.nA(t)>0},n.bA=function(t){return this.nA(t)>=0},n.TA=function(){return new t(this.dA.not(),this.lA.not())},n.SA=function(n){return new t(this.dA.and(n.dA),this.lA.and(n.lA))},n.EA=function(n){return new t(this.dA.or(n.dA),this.lA.or(n.lA))},n.IA=function(n){var i=127&n;return 0===i?this:i<64?t.mA(this.dA.shl(i),this.lA.shl(i).or(this.dA.shru(64-i)),this.wA()):t.mA($e.ZERO,this.dA.shl(i-64),this.wA())},n.RA=function(n){var i=127&n;return 0===i?this:i<64?t.mA(this.dA.shru(i).or(this.lA.shl(64-i)),this.lA.shr(i),this.wA()):t.mA(this.lA.shr(i-64),this.lA.isNegative()?$e.NEG_ONE:$e.ZERO,this.wA())},n.CA=function(n){var i=127&n;return 0===i?this:i<64?t.mA(this.dA.shru(i).or(this.lA.shl(64-i)),this.lA.shru(i),this.wA()):64===i?t.mA(this.lA,$e.ZERO,this.wA()):t.mA(this.lA.shru(i-64),$e.ZERO,this.wA())},n.sp=function(n){var i=this.lA.high>>>16,r=65535&this.lA.high,e=this.lA.low>>>16,u=65535&this.lA.low,s=this.dA.high>>>16,o=65535&this.dA.high,a=this.dA.low>>>16,c=65535&this.dA.low,f=n.lA.high>>>16,h=65535&n.lA.high,v=n.lA.low>>>16,d=65535&n.lA.low,l=n.dA.high>>>16,w=65535&n.dA.high,_=n.dA.low>>>16,g=0,m=0,y=0,p=0,A=0,k=0,b=0,T=0;b+=(T+=c+(65535&n.dA.low))>>>16,T&=65535,k+=(b+=a+_)>>>16,b&=65535,A+=(k+=o+w)>>>16,k&=65535,p+=(A+=s+l)>>>16,A&=65535,y+=(p+=u+d)>>>16,p&=65535,m+=(y+=e+v)>>>16,y&=65535,g+=(m+=r+h)>>>16,m&=65535,g+=i+f,g&=65535;var S=this.wA(),E=$e.fromBits(y<<16|p,g<<16|m,S),I=$e.fromBits(b<<16|T,A<<16|k,S);return t.mA(I,E,S)},n.fA=function(t){return this.sp(t.cA())},n.cA=function(){return this.TA().sp(t.NA)},n.DA=function(n){if(this._A()||n._A())return this.wA()?t.PA:t.BA;if(this.aA())return n.aA()?this.cA().DA(n.cA()):this.cA().DA(n).cA();if(n.aA())return this.DA(n.cA()).cA();if(this.lA.isZero()&&0===this.dA.high&&n.lA.isZero()&&0===n.dA.high)return t.OA(this.dA.multiply(n.dA));var i=$e.fromBits(4294967295,0,!0),r=this.dA.and(i),e=this.dA.shru(32),u=this.lA.and(i),s=this.lA.shru(32),o=n.dA.and(i),a=n.dA.shru(32),c=n.lA.and(i),f=n.lA.shru(32),h=$e.UZERO,v=$e.UZERO,d=$e.UZERO,l=$e.UZERO;h=h.add(r.mul(o)),v=v.add(h.shru(32)),h=h.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(a)).add(e.mul(c)).add(r.mul(f)).and(i);var w=$e.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),_=$e.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.mA(w,_,this.wA())},n.xA=function(n){var i,r,e=n;if(e._A())throw new RangeError("division by zero");if(this._A())return this.wA()?[t.PA,t.PA]:[t.BA,t.BA];if(this.wA()){if(e.wA()||(e=e.yA()),e.kA(this))return[t.PA,this];if(e.kA(this.CA(1)))return[r=t.LA,i=this.fA(e)];r=t.PA}else{if(this.zp(t.MA)){if(e.zp(t.NA)||e.zp(t.FA))return[t.MA,t.BA];if(e.zp(t.MA))return[t.NA,t.BA];var u=this.RA(1).UA(e).IA(1);return u.zp(t.BA)?r=e.aA()?t.NA:t.FA:(i=this.fA(e.DA(u)),r=u.sp(i.UA(e))),[r,i=this.fA(e.DA(r))]}if(e.zp(t.MA))return this.wA()?[t.PA,this]:[t.BA,this];var s,o;if(this.aA())return e.aA()?this.cA().xA(e.cA()):(r=(s=ra(this.cA().xA(e),2))[0],i=s[1],[r.cA(),i.cA()]);if(e.aA())return r=(o=ra(this.xA(e.cA()),2))[0],i=o[1],[r.cA(),i.cA()];r=t.BA}for(i=this;i.bA(e);){for(var a=d.max(1,d.floor(i.$p()/e.$p())),c=d.ceil(d.log(a)/d.LN2),f=c<=48?1:d.pow(2,c-48),h=t.HA(a),v=h.DA(e);v.aA()||v.kA(i);)a-=f,v=(h=t.HA(a,this.wA())).DA(e);h._A()&&(h=t.NA),r=r.sp(h),i=i.fA(v)}return[r,i]},n.UA=function(t){return this.xA(t)[0]},n.XA=function(t){return this.xA(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this._A())return"0";if(this.aA()){if(this.zp(t.MA)){var r=t.HA(i),e=this.UA(r),u=e.DA(r).fA(this);return e.toString(i)+u.AA().toString(i)}return"-"+this.cA().toString(i)}for(var s=t.HA(d.pow(i,6),this.wA()),o=this,a="";;){var c=o.UA(s),f=(o.fA(c.DA(s)).AA()>>>0).toString(i);if((o=c)._A())return f+a;for(;f.length<6;)f="0"+f;a=String(f)+a}},t.mA=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.OA=function(n){return n.unsigned?new t(n,$e.UZERO):new t(n,n.isNegative()?$e.NEG_ONE:$e.ZERO)},t.HA=function(n,i){if(_(n))return i?t.PA:t.BA;if(i){if(n<0)return t.PA;if(n>=aA)return t.zA}else{if(n<=-cA)return t.MA;if(n+1>=cA)return t.VA}return n<0?t.HA(-n,i).cA():t.mA($e.fromNumber(n%oA),$e.fromNumber(n/oA),i)},t}();fA.BA=fA.OA($e.ZERO),fA.PA=fA.OA($e.UZERO),fA.NA=fA.OA($e.ONE),fA.LA=fA.OA($e.UONE),fA.FA=fA.OA($e.NEG_ONE),fA.VA=fA.mA($e.NEG_ONE,$e.MAX_VALUE,!1),fA.zA=fA.mA($e.MAX_UNSIGNED_VALUE,$e.MAX_UNSIGNED_VALUE,!0),fA.MA=fA.mA($e.ZERO,$e.MIN_VALUE,!1),yr(),zt(),kr();var hA=function(){function t(t,n){void 0===n&&(n=1),this.WA=t,this.qA=n}var n=t.prototype;return n.sp=function(n){return this.qA>=n.qA?new t(this.WA+n.GA(this.qA).WA,this.qA):new t(this.GA(n.qA).WA+n.WA,n.qA)},n.tA=function(t){return t.sA(this)},n.iA=function(t){return t.eA(this)},n.uA=function(n){return this.qA>=n.qA?new t(d.abs(this.WA-n.GA(this.qA).WA),this.qA):n.uA(this)},n.rA=function(t,n){return this.uA(t).eA(n)},n.nA=function(t){return function(t,n){return t.qA>=n.qA?oc(t.WA,n.GA(t.qA).WA):oc(t.GA(n.qA).WA,n.WA)}(this,t)},n.zp=function(t){return 0===this.nA(t)},n.sA=function(t){return this.nA(t)<0},n.eA=function(t){return this.nA(t)<=0},n.GA=function(n){return new t(this.WA*(n/this.qA),n)},n.fA=function(n){return this.qA>=n.qA?new t(this.WA-n.GA(this.qA).WA,this.qA):new t(this.GA(n.qA).WA-n.WA,n.qA)},n.jA=function(n){return new t(this.WA*n,this.qA)},t.YA=function(n){return new t(d.ceil(n.WA),n.qA)},t.QA=function(n){return new t(d.floor(n.WA),n.qA)},t.ZA=function(t,n){return t.iA(n)?t:n},t.KA=function(t,n){return t.eA(n)?t:n},Ar(t,[{key:"vA",get:function(){return!isFinite(this.WA)}},{key:"JA",get:function(){return this.WA/this.qA}}]),t}();hA.$A=new hA(1/6,1),hA.BA=new hA(0),hA.nk=new hA(1/0),hA.rk=1e6;var vA=function(t){function n(n,i){var r;return(r=t.call(this)||this).Bw=n.toSigned(),r.qA=i>>>0,r}zr(n,t);var i=n.prototype;return i.aA=function(){return this.Bw.isNegative()},i._A=function(){return 0!==this.qA&&this.Bw.isZero()},i.vA=function(){return 0===this.qA&&!this.Bw.isZero()},i.hA=function(){return 0===this.qA&&this.Bw.isZero()},i.$p=function(){if(0===this.qA)return this.Bw.isZero()?NaN:this.Bw.isNegative()?-1/0:1/0;var t=this.Bw.divide(this.qA),n=this.Bw.subtract(t.multiply(this.qA));return t.toNumber()+n.toNumber()/this.qA},i.pA=function(){if(0===this.qA)throw new f("Failed to convert timestamp");return this.Bw},i.ek=function(){return new Date(0===this.qA?NaN:this.GA(1e3).Bw.toNumber())},i.ck=function(){return new hA(0===this.qA?this.$p():this.Bw.toNumber(),this.qA)},i.GA=function(t,i){void 0===i&&(i=dA.fk);var r=this.qA;if(r===t)return this;if(0===r)return this;var e=ou(r,t);return new n(function(t,n,i){var r=ra(t.xA(n),2),e=r[0],u=r[1];if(u._A())return e;if(i===dA.fk)return u.aA()?e.fA(fA.NA):e;if(i===dA.hk)return u.aA()?e:e.sp(fA.NA);var s=u.DA(fA.HA(2));return s.aA()?s.cA().sA(n)?e:e.fA(fA.NA):s.sA(n)?e:e.sp(fA.NA)}(fA.OA(this.Bw).DA(fA.HA(t/e)),fA.HA(r/e),i).pA(),t)},i.nA=function(t){if(this===t)return Ka.As;if(0===this.qA||0===t.qA)return uA(this,t);if(this._A())return t._A()?Ka.As:t.aA()?Ka.Ts:Ka.Ss;if(t._A())return this.aA()?Ka.Ss:Ka.Ts;var n=d.min(this.qA,t.qA),i=this.GA(n,dA.vk).Bw,r=t.GA(n,dA.vk).Bw;return i.compare(r)},i.cA=function(){return 0===this.qA?function(t){0;return t.hA()?t:t.aA()?vA.dk:vA.lk}(this):new n(this.Bw.negate(),this.qA)},i.sp=function(t){if(0===this.qA||0===t.qA)return function(t,n){0;if(t.hA()||n.hA())return vA.wk;if(t.vA()&&n.vA())return t.aA()===n.aA()?t:vA.wk;return t.vA()?t:n}(this,t);if(this._A())return t;if(t._A())return this;var i=d.max(this.qA,t.qA),r=this.GA(i,dA.vk),e=t.GA(i,dA.vk);return new n(r.Bw.add(e.Bw),i)},i.DA=function(t){if(this.hA()||_(t))return n.wk;if(this.vA()||!isFinite(t)){if(this._A()||0===t)return n.wk;var i=this.aA()?n.lk:n.dk;return t<0?i.cA():i}return this._A()?this:new n(0===t?$e.ZERO:this.Bw.multiply(t),this.qA)},i.UA=function(t){if(this.hA()||_(t))return n.wk;if(this.vA())return isFinite(t)?0===t?1/t<0?this.cA():this:t<0?this.cA():this:n.wk;if(!isFinite(t))return new n($e.ZERO,this.qA);if(this._A())return 0===t?n.wk:new n($e.ZERO,this.qA);if(0===t){var i=this.aA()?n.lk:n.dk;return 1/t<0?i.cA():i}return new n(this.Bw.divide(t),this.qA)},i._k=function(){return[this.Bw.low,this.Bw.high,this.qA]},n.gk=function(t,i){return void 0===i&&(i=rA),n.HA(t*i,i)},n.HA=function(t,i){return _(t)?n.wk:t===1/0?n.dk:t===-1/0?n.lk:new n($e.fromNumber(t),i)},n.OA=function(t,i){return new n(t,i)},n.yk=function(t){return n.gk(t.JA,rA)},n.pk=function(t){return new n($e.fromNumber(t.getTime()),1e3)},n.ZA=function(t,n){return t.iA(n)?t:n},n.KA=function(t,n){return t.eA(n)?t:n},n.Ak=function(t,i,r){return n.ZA(i,n.KA(r,t))},n}(eA);vA.BA=new vA($e.ZERO,rA),vA.wk=new vA($e.ZERO,0),vA.dk=new vA($e.ONE,0),vA.lk=new vA($e.NEG_ONE,0),yr(),zt(),kr(),Z();var dA,lA=function(t){function n(n,i){var r;return(r=t.call(this)||this).Bw=BigInt.asIntN(64,n),r.qA=i>>>0,r}zr(n,t);var i=n.prototype;return i.aA=function(){return this.Bw<BigInt(0)},i._A=function(){return 0!==this.qA&&this.Bw===BigInt(0)},i.vA=function(){return 0===this.qA&&this.Bw!==BigInt(0)},i.hA=function(){return 0===this.qA&&this.Bw===BigInt(0)},i.$p=function(){if(0===this.qA)return this.Bw===BigInt(0)?NaN:this.Bw<BigInt(0)?-1/0:1/0;var t=this.Bw/BigInt(this.qA),n=this.Bw-t*BigInt(this.qA);return Number(t)+Number(n)/this.qA},i.pA=function(){if(0===this.qA)throw new f("Failed to convert timestamp");return this.bk()},i.bk=function(){var t=this.Bw&BigInt(4294967295),n=this.Bw>>BigInt(32)&BigInt(4294967295);return $e.fromBits(Number(t),Number(n))},i.ek=function(){return new Date(0===this.qA?NaN:Number(this.GA(1e3).Bw))},i.ck=function(){return new hA(0===this.qA?this.$p():Number(this.Bw),this.qA)},i.GA=function(t,i){void 0===i&&(i=dA.fk);var r=this.qA;if(r===t)return this;if(0===r)return this;var e=ou(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===dA.fk)return e<BigInt(0)?r-BigInt(1):r;if(i===dA.hk)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.Bw*BigInt(t/e),BigInt(r/e),i),t)},i.nA=function(t){if(this===t)return Ka.As;if(0===this.qA||0===t.qA)return uA(this,t);if(this._A())return t._A()?Ka.As:t.aA()?Ka.Ts:Ka.Ss;if(t._A())return this.aA()?Ka.Ss:Ka.Ts;var n=d.min(this.qA,t.qA),i=this.GA(n,dA.vk).Bw,r=t.GA(n,dA.vk).Bw;return i>r?Ka.Ts:i<r?Ka.Ss:Ka.As},i.cA=function(){return 0===this.qA?function(t){0;return t.hA()?t:t.aA()?lA.dk:lA.lk}(this):new n(-this.Bw,this.qA)},i.sp=function(t){if(0===this.qA||0===t.qA)return function(t,n){0;if(t.hA()||n.hA())return lA.wk;if(t.vA()&&n.vA())return t.aA()===n.aA()?t:lA.wk;return t.vA()?t:n}(this,t);if(this._A())return t;if(t._A())return this;var i=d.max(this.qA,t.qA),r=this.GA(i,dA.vk),e=t.GA(i,dA.vk);return new n(r.Bw+e.Bw,i)},i.DA=function(t){if(this.hA()||_(t))return n.wk;if(this.vA()||!isFinite(t)){if(this._A()||0===t)return n.wk;var i=this.aA()?n.lk:n.dk;return t<0?i.cA():i}return this._A()?this:new n(0===t?BigInt(0):this.Bw*BigInt(t),this.qA)},i.UA=function(t){if(this.hA()||_(t))return n.wk;if(this.vA())return isFinite(t)?0===t?1/t<0?this.cA():this:t<0?this.cA():this:n.wk;if(!isFinite(t))return new n(BigInt(0),this.qA);if(this._A())return 0===t?n.wk:new n(BigInt(0),this.qA);if(0===t){var i=this.aA()?n.lk:n.dk;return 1/t<0?i.cA():i}return new n(this.Bw/BigInt(t),this.qA)},i._k=function(){var t=this.bk();return[t.low,t.high,this.qA]},n.gk=function(t,i){return void 0===i&&(i=rA),n.HA(t*i,i)},n.HA=function(t,i){return _(t)?n.wk:t===1/0?n.dk:t===-1/0?n.lk:new n(BigInt(d.floor(t)),i)},n.OA=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.yk=function(t){return n.gk(t.JA,rA)},n.pk=function(t){return n.HA(t.getTime(),1e3)},n.ZA=function(t,n){return t.iA(n)?t:n},n.KA=function(t,n){return t.eA(n)?t:n},n.Ak=function(t,i,r){return n.ZA(i,n.KA(r,t))},Ar(n,null,[{key:"BA",get:function(){return n.Tk||(n.Tk=new n(BigInt(0),rA)),n.Tk}},{key:"wk",get:function(){return n.Sk||(n.Sk=new n(BigInt(0),0)),n.Sk}},{key:"dk",get:function(){return n.Ek||(n.Ek=new n(BigInt(1),0)),n.Ek}},{key:"lk",get:function(){return n.Ik||(n.Ik=new n(BigInt(-1),0)),n.Ik}}]),n}(eA);lA.Tk=void 0,lA.Sk=void 0,lA.Ek=void 0,lA.Ik=void 0,function(t){t[t.fk=0]="fk",t[t.hk=1]="hk",t[t.vk=2]="vk"}(dA||(dA={}));var wA=function(){try{return"function"==typeof BigInt&&"bigint"===N(BigInt(0))}catch(t){return!1}}()?lA:vA;function _A(t,n){return t.nA(n)}function gA(t,n){return void 0!==t?void 0!==n?wA.KA(t,n):t:n}yr(),zt();var mA=d.pow(2,33),yA=me((function(){return wA.HA(mA,9e4)})),pA=me((function(){return yA().UA(2)}));yr(),zt();var AA,kA,bA,TA,SA,EA={Rk:0,Ck:1/0,Nk:0},IA=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],RA=[" ","\t","\n","\f","\r"],CA=/^\d*$/,NA=/.*[0-9]+.*/,DA=/^[\d.-]+$/,PA=/(^\.|\.$)/,BA=/(\D\.|\.\D)/;function OA(t,n){void 0===n&&(n=EA);var i={Fg:[],Dk:[],Pk:[]},r=xA(t),e=new ph;if(jA(r),LA(r,(function(t){return"\n"!==t}),e),e.Lo>=r.length)return i;(e.Mo(1),"\n"!==r.charAt(e.Lo))?XA(MA(r,e,false,!0,i,n),i):e.Mo(1);for(LA(r,(function(t){return"\n"===t}),e);e.Lo<r.length;){XA(MA(r,e,false,!1,i,n),i),LA(r,(function(t){return"\n"===t}),e)}return i}function xA(t){var n=Ma(t,"\0"," "),i=Ma(n,"\r\n","\n");return Ma(i,"\r","\n")}function LA(t,n,i){for(var r=i.Lo;i.Lo<t.length&&n(t.charAt(i.Lo));)i.Mo(1);return t.substring(r,i.Lo)}function MA(t,n,i,r,e,u){for(var s,o=0,a=n.Lo,c="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(s=LA(t,(function(t){return"\n"!==t}),n),o++,n.Lo>=t.length?f=!0:n.Mo(1),Fa(s,"--\x3e")){if(r||1!==o&&(2!==o||h)){n.Uo(a);break}h=!0,a=n.Lo,v=new Zp(0,0,"",!1,c);try{zA(s,e.Dk,v,u),c=""}catch(t){Pr.wu(t),v=null}}else{if(""===s)break;r&&Ua(s,"X-TIMESTAMP-MAP")&&(e.Bk=FA(s)),r||2!==o||i||(Xa("STYLE",c.replace(/ /g,""))?(d={$u:Pp.mp},c=""):Xa("REGION",c.replace(/ /g,""))&&(l=new iA("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=s,a=n.Lo}if(v)return v.Ep=c,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),r=":",e=0;e<i.length;e++){var u=i[e];if(0!==u.length&&Fa(u,r)&&u.charAt(0)!==r&&u.charAt(u.length-1)!==r){var s=u.indexOf(r),o=u.substring(0,s),a=u.substring(s+1,u.length);switch(o.toUpperCase()){case"ID":uk(a,n);break;case"WIDTH":ak(a,n);break;case"LINES":ok(a,n);break;case"REGIONANCHOR":var c=ek(a);c&&(n.Gp=c[0],n.jp=c[1]);break;case"VIEWPORTANCHOR":var f=ek(a);f&&(n.Qp=f[0],n.Zp=f[1]);break;case"SCROLL":sk(a,n)}}}}(c,l),l;return null}function FA(t){var n,i=t.split("=")[1].trim().split(","),r=HA(i[0].trim(),"MPEGTS")?i[0]:i[1],e=HA(i[0].trim(),"LOCAL")?i[0]:i[1];return{Ok:UA(Number(r.split(/:(.*)/)[1].trim())||0),xk:wA.gk(null!=(n=qA(e.split(/:(.*)/)[1].trim(),new ph))?n:0)}}function UA(t){return wA.HA(t,9e4)}function HA(t,n){return Ua(t,n)}function XA(t,n){t&&function(t){return"cue"===t.$u}(t)?n.Fg.push(t):t&&function(t){return"region"===t.$u}(t)?n.Dk.push(t):t&&function(t){return"stylesheet"===t.$u}(t)&&n.Pk.push(t)}function zA(t,n,i,r){var e=new ph;if(QA(t,e),i.Tp=VA(qA(t,e),r),QA(t,e),"--\x3e"!==t.substring(e.Lo,e.Lo+3))throw f("Something went wrong with parsing a WebVTT Cue");e.Mo(3),QA(t,e),i.Sp=VA(qA(t,e),r),function(t,n,i){for(var r=t.split(/\s/),e=":",u=0;u<r.length;u++){var s=r[u];if(0!==s.length&&Fa(s,e)&&s.charAt(0)!==e&&s.charAt(s.length-1)!==e){var o=s.indexOf(e),a=s.substring(0,o),c=s.substring(o+1,s.length);switch(a.toUpperCase()){case"REGION":tk(c,n,i);break;case"VERTICAL":ik(c,n);break;case"D":rk(c,n);break;case"LINE":case"L":JA(c,n);break;case"POSITION":case"T":$A(c,n);break;case"SIZE":case"S":nk(c,n);break;case"ALIGN":case"A":KA(c,n)}}}}(t.substring(e.Lo,t.length),i,n)}function VA(t,n){return t+n.Rk}function WA(t){return/^[0-9]$/.test(t)}function qA(t,n){var i,r,e,u=Ma(t,",","."),s=!1;if(n.Lo>=u.length||!WA(u.charAt(n.Lo)))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var o=LA(u,WA,n),a=l(o,10);if((o.length>2||a>59)&&(s=!0),n.Lo>=u.length||":"!==u.charAt(n.Lo))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Mo(1);var c=LA(u,WA,n);if(2!==c.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var h=l(c,10);if(s||n.Lo<u.length&&":"===u.charAt(n.Lo)){if(n.Lo>=u.length||":"!==u.charAt(n.Lo))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Mo(1);var v=LA(u,WA,n);if(2!==c.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");i=a,r=h,e=l(v,10)}else i=0,r=a,e=h;if(n.Lo>=u.length||"."!==u.charAt(n.Lo))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Mo(1);var d=LA(u,WA,n),w=l(d,10);if(h>59||e>59)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+w/1e3}function GA(t){return jA(xA(t))}function jA(t){if(t.length<6)return!1;for(var n=0;n<IA.length;n++){if(Ua(t,IA[n]))return!0}return!1}function YA(t){return lc(RA,t)}function QA(t,n){for(;n.Lo<t.length&&YA(t.charAt(n.Lo));)n.Mo(1)}function ZA(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!_(i)&&i>=0&&i<=100)return i}return null}function KA(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Ip=i;break;case"middle":n.Ip="center"}}function JA(t,n){var i,r,e=t.indexOf(",");if(e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r=""),NA.test(i)){var u,s;if(Ha(i,"%")){var o=ZA(i);if(null===o)return;u=o,s=!1}else{if(!DA.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!BA.test(i)||PA.test(i)))return;if(u=w(i),_(u))return;s=!0}switch(n.Rp=u,n.Bp=s,r=r.toLowerCase()){case"start":case"center":case"end":n.Cp=r;break;case"middle":n.Cp="center"}}}function $A(t,n){var i,r,e=t.indexOf(",");e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r="");var u=ZA(i);if(null!==u)switch(n.Np=u,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Dp=r;break;case"start":n.Dp="line-left";break;case"middle":n.Dp="center";break;case"end":n.Dp="line-right"}}function tk(t,n,i){var r=cc(i,(function(n){return n.hg===t}));void 0!==r&&(n.Pp=r)}function nk(t,n){var i=ZA(t);null!==i&&(n.xo=i)}function ik(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Op="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Op="lr";break;default:n.Op=""}}function rk(t,n){"VERTICAL"===t.toUpperCase()?n.Op="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Op="lr")}function ek(t){if(t.indexOf(",")>=0){var n=ZA(t.substring(0,t.indexOf(","))),i=ZA(t.substring(t.indexOf(",")+1,t.length));return[ru(n||0,0,100),ru(i||100,0,100)]}return null}function uk(t,n){n.hg=t}function sk(t,n){"up"===t.toLowerCase()&&(n.Yp="up")}function ok(t,n){CA.test(t)&&(n.qp=l(t))}function ak(t,n){var i=ZA(t);null!==i&&(n.Kp=i)}yr(),zt(),yr(),zt(),yr(),zt(),function(t){t.Lk="moov",t.Mk="mvhd",t.Fk="trak",t.Uk="tkhd",t.Hk="mdia",t.Xk="mdhd",t.zk="hdlr",t.Vk="minf",t.Wk="stbl",t.qk="stsd",t.Gk="stsc",t.jk="mvex",t.Yk="trex",t.Qk="avc1",t.Zk="avcC",t.Kk="hev1",t.Jk="hvc1",t.$k="hvcC",t.ib="vp09",t.eb="vpcC",t.ub="av01",t.sb="av1C",t.ob="colr",t.cb="pasp",t.fb="mp4a",t.hb="esds",t.vb="wvtt",t.wb="vttC",t._b="vlab",t.gb="enca",t.mb="encv",t.yb="moof",t.pb="mfhd",t.Ab="traf",t.kb="tfhd",t.bb="trun",t.Tb="tfdt",t.Sb="senc",t.Eb="mdat",t.Ib="pssh",t.Rb="emsg",t.Cb="sidx",t.Nb="styp",t.Db="ftyp",t.Pb="sinf",t.Bb="frma"}(AA||(AA={})),function(t){t.il="vide",t.$d="soun",t.Ob="subt",t.xb="hint",t.Lb="meta",t.Mb="auxv"}(kA||(kA={})),function(t){t.ON_SCREEN_COLOURS="nclx",t.RESTRICTED_ICC_PROFILE="rICC",t.UNRESTRICED_ICC_PROFILE="prof"}(bA||(bA={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(TA||(TA={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(SA||(SA={})),yr(),zt();var ck=function(){function t(t,n){this.Ud=t,this.Fb=n}var n=t.prototype;return n.Ub=function(){return xf(this.Ud,this.Fb)},n.Hb=function(){return Xf(this.Ud,this.Fb)},n.Xb=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.Lo,i);return n.Mo(2),r}(this.Ud,this.Fb)},n.zb=function(){return Vf(this.Ud,this.Fb)},n.Vb=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.Lo,i);return n.Mo(4),r}(this.Ud,this.Fb)},n.Wb=function(){return qf(this.Ud,this.Fb)},n.qb=function(t){return Mf(this.Ud,this.Fb,t)},n.Gb=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(Vf(t,n));return r}(this.Ud,this.Fb,t)},n.jb=function(t){return jf(this.Ud,this.Fb,t)},n.Yb=function(){return oh(this.Ud,this.Fb)},n.Qb=function(t){this.Fb.Mo(t)},n.Ho=function(){return new t(this.Ud,this.Fb.Ho())},t}();yr(),zt(),kr(),yr(),zt();function fk(t,n){return t.$u===n}function hk(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(fk(r,n))return r}}var vk=function(t){function n(n,i){var r;return(r=t.call(this)||this).Zb=n,r.Kb=i,r}return zr(n,t),Ar(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(Rc),dk=function(){function t(){}return t.Jb=function(n){var i=n.Ud,r=n.Fb,e=t.$b(i,r,!1);if(!e.tT)throw new vk(r.Lo,e.zw);return e.zw},t.$b=function(n,i,r){for(var e=[];i.Lo<n.byteLength;){var u=t.nT(n,i,r);if(!u.tT)return{tT:!1,zw:e};e.push(u.iT)}return{tT:!0,zw:e}},t.rT=function(n,i){var r=t.nT(n,i,!1);if(!r.tT)throw new vk(i.Lo);return r.iT},t.eT=function(n,i){for(var r=n.Ud,e=n.Fb;e.Lo<r.byteLength;){var u=t.nT(r,e,!1);if(!u.tT)return;if(u.iT.$u===i)return u.iT}},t.nT=function(n,i,r){var e=i.Lo,u=t.uT(n,i);if(!u.tT)return u;var s=u.sT,o=s.xo;if(0===o){if(r)return i.Uo(e),{tT:!1,oT:1/0};o=n.byteLength-e}var a=e+o;if(a>n.byteLength){var c=a;return i.Uo(e),{tT:!1,oT:c}}var f={$u:s.$u,Lo:e,Ud:new ck(vh(n,e,a),new ph(s.aT))};return i.Uo(a),{tT:!0,iT:f}},t.uT=function(t,n){var i=n.Lo;if(!Uf(t,n,8))return{tT:!1,oT:n.Lo+8};var r=Vf(t,n),e=jf(t,n,4);if(1===r){if(!Uf(t,n,8)){var u=n.Lo+8;return n.Uo(i),{tT:!1,oT:u}}r=qf(t,n).toNumber()}if("uuid"===e){if(!Uf(t,n,16)){var s=n.Lo+16;return n.Uo(i),{tT:!1,oT:s}}e=jf(t,n,16)}return{tT:!0,sT:{$u:e,xo:r,aT:n.Lo-i}}},t.cT=function(t,n,i){var r=t.Ud,e=t.Fb,u=hh(lh(r),e.Lo,r.byteLength);return i&&(u=mh(u)),e.Mo(u.byteLength),{$u:n,Ud:u}},t.fT=function(n,i,r){var e=gk(n.zb());return{$u:i,hT:e.version,vT:e.flags,Ud:t.cT(n,i,r).Ud}},t}();function lk(t,n){var i=wk(t,n);if(!i)throw new f("Missing "+n+" atom");return i}function wk(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.$u===n)return r.Ud}}function _k(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.$u===n&&i.push(e.Ud)}return i}function gk(t){return{version:t>>24,flags:new Pf(16777215&t)}}var mk=function(){function t(){}return t.dT=function(n){for(var i=[],r=dk.Jb(new ck(n,new ph)),e=0;e<r.length;e++){var u=r[e],s=t.lT(u);s&&i.push(s)}return i},t.wT=function(t){return dk.$b(t,new ph,!1).zw.some(this._T)},t.gT=function(n){return _k(dk.Jb(new ck(n,new ph)),AA.Ib).map(t.mT)},t.yT=function(n){return _k(dk.Jb(n.Ud),AA.Ib).map(t.mT)},t._T=function(t){return t.$u===AA.Db||t.$u===AA.Nb||t.$u===AA.Lk||t.$u===AA.yb||t.$u===AA.Eb||t.$u===AA.Cb||t.$u===AA.Rb},t.lT=function(n){switch(n.$u){case AA.Lk:return t.pT(n.Ud);case AA.yb:return t.AT(n.Ud,n.Lo);case AA.Eb:return t.kT(n.Ud);case AA.Cb:return t.bT(n.Ud);case AA.Rb:return t.TT(n.Ud)}},t.pT=function(n){var i=dk.Jb(n),r=lk(i,AA.Mk),e=_k(i,AA.Fk),u=wk(i,AA.jk),s=t.ST(r),o=e.map(t.ET),a=u?t.IT(u):void 0;return{$u:AA.Lk,sT:s,RT:o,CT:a}},t.ST=function(t){var n=gk(t.zb()),i=n.version,r=n.flags,e=1===i?t.Wb():t.zb(),u=1===i?t.Wb():t.zb(),s=t.zb(),o=1===i?t.Wb():t.zb(),a=t.zb(),c=t.Hb()>>8;t.Qb(2),t.Qb(8);var f=t.Gb(9);t.Qb(24);var h=t.zb();return{$u:AA.Mk,hT:i,vT:r,NT:e,DT:u,qA:s,Sm:o,PT:a,Om:c,BT:f,OT:h}},t.ET=function(n){var i=dk.Jb(n),r=lk(i,AA.Uk),e=lk(i,AA.Hk),u=t.xT(r),s=t.LT(e);return{$u:AA.Fk,sT:u,MT:s}},t.xT=function(t){var n=gk(t.zb()),i=n.version,r=n.flags,e=1===i?t.Wb():t.zb(),u=1===i?t.Wb():t.zb(),s=t.zb();t.Qb(4);var o=1===i?t.Wb():t.zb();t.Qb(8);var a=t.Xb(),c=t.Xb(),f=t.Xb()/d.pow(2,8);t.Qb(2);var h=t.Gb(9),v=t.zb()/d.pow(2,16),l=t.zb()/d.pow(2,16);return{$u:AA.Uk,FT:r.zo(1),UT:r.zo(2),HT:r.zo(4),NT:e,DT:u,XT:s,Sm:o,zT:a,VT:c,Om:f,BT:h,Kp:v,WT:l}},t.LT=function(n){var i=dk.Jb(n),r=lk(i,AA.Xk),e=lk(i,AA.zk),u=lk(i,AA.Vk),s=t.qT(r),o=t.GT(e),a=t.jT(u);return{$u:AA.Hk,sT:s,YT:o,QT:a}},t.qT=function(t){var n=gk(t.zb()),i=n.version,r=n.flags,e=1===i?t.Wb():t.zb(),u=1===i?t.Wb():t.zb(),s=t.zb(),o=1===i?t.Wb():t.zb();t.Hb();return t.Qb(2),{$u:AA.Xk,hT:i,vT:r,NT:e,DT:u,qA:s,Sm:o}},t.GT=function(t){var n=gk(t.zb()),i=n.version,r=n.flags;t.Qb(4);var e=t.jb(4);t.Qb(12);var u=t.Yb();return{$u:AA.zk,hT:i,vT:r,ZT:e,Nw:u}},t.jT=function(n){var i=lk(dk.Jb(n),AA.Wk),r=t.KT(i);return{$u:AA.Vk,JT:r}},t.KT=function(n){var i=lk(dk.Jb(n),AA.qk),r=t.$T(i);return{$u:AA.Wk,tS:r}},t.$T=function(n){for(var i=gk(n.zb()),r=i.version,e=i.flags,u=(n.zb(),[]),s=dk.Jb(n),o=0;o<s.length;o++){var a=s[o],c=t.nS(a.Ud,a.$u);c&&u.push(c)}return{$u:AA.qk,hT:r,vT:e,iS:u}},t.nS=function(n,i){var r=t.rS(n,i);return r||((r=t.eS(n,i))||(i===AA.vb?t.uS(n):void 0))},t.rS=function(n,i){return i===AA.fb?t.sS(n):i===AA.gb?t.oS(n):void 0},t.eS=function(n,i){return i===AA.Qk?t.aS(n):i===AA.Kk||i===AA.Jk?t.cS(n,i):i===AA.ib?t.fS(n,i):i===AA.ub?t.hS(n,i):i===AA.mb?t.vS(n):void 0},t.dS=function(t,n){return t.Qb(6),{$u:n,lS:t.Hb()}},t.wS=function(n,i){var r=t.dS(n,i);n.Qb(8);var e=n.Hb(),u=n.Hb();return n.Qb(2),n.Qb(2),na({},r,{_S:e,gS:u,mS:n.zb()>>>16})},t.yS=function(n,i){var r=t.dS(n,i);n.Qb(2),n.Qb(2),n.Qb(12);var e=n.Hb(),u=n.Hb(),s=n.zb(),o=n.zb();n.Qb(4);var a=n.Hb();n.Qb(32);var c=n.Hb();return n.Qb(2),na({},r,{Kp:e,WT:u,pS:s,AS:o,kS:a,bS:c})},t.sS=function(n){var i=t.wS(n,AA.fb),r=lk(dk.Jb(n),AA.hb);return na({},i,{TS:t.SS(r)})},t.uS=function(n){var i=t.dS(n,AA.vb),r=dk.Jb(n),e=lk(r,AA.wb),u=t.ES(e),s=wk(r,AA._b);return na({},i,{IS:u,RS:s?t.CS(s):s})},t.ES=function(t){return{$u:AA.wb,Uf:t.Yb()}},t.CS=function(t){return{$u:AA._b,wg:t.Yb()}},t.SS=function(t){return dk.fT(t,AA.hb,!0)},t.aS=function(n){var i=t.yS(n,AA.Qk),r=dk.Jb(n),e=lk(r,AA.Zk),u=wk(r,AA.cb);return na({},i,{NS:t.DS(e),PS:u?t.OS(u):void 0})},t.cS=function(n,i){var r=t.yS(n,i),e=lk(dk.Jb(n),AA.$k);return na({},r,{xS:t.LS(e)})},t.fS=function(n,i){var r=t.yS(n,i),e=lk(dk.Jb(n),AA.eb);return na({},r,{MS:t.FS(e)})},t.hS=function(n,i){var r=t.yS(n,i),e=dk.Jb(n),u=lk(e,AA.sb),s=t.US(u),o=wk(e,AA.ob);return na({},r,{HS:s,XS:o?t.zS(o):void 0})},t.vS=function(n){var i=n.Ho(),r=t.yS(n,AA.mb),e=lk(dk.Jb(n),AA.Pb),u=t.VS(e);return na({},r,{WS:t.eS(i,u.GS.qS),jS:u})},t.oS=function(n){var i=n.Ho(),r=t.wS(n,AA.gb),e=lk(dk.Jb(n),AA.Pb),u=t.VS(e);return na({},r,{WS:t.rS(i,u.GS.qS),jS:u})},t.VS=function(n){var i=lk(dk.Jb(n),AA.Bb),r=t.YS(i);return{$u:AA.Pb,GS:r}},t.YS=function(t){var n=t.jb(4);return{$u:AA.Bb,qS:n}},t.DS=function(t){return dk.cT(t,AA.Zk,!0)},t.LS=function(t){return dk.cT(t,AA.$k,!0)},t.FS=function(t){return dk.cT(t,AA.eb,!0)},t.US=function(t){return dk.cT(t,AA.sb,!0)},t.zS=function(t){var n=t.jb(4);switch(n){case"nclx":return{QS:bA.ON_SCREEN_COLOURS,ZS:t.Hb(),KS:t.Hb(),JS:t.Hb(),$S:0!=(128&t.Ub())};case"rICC":return{QS:bA.RESTRICTED_ICC_PROFILE};case"prof":return{QS:bA.UNRESTRICED_ICC_PROFILE};default:throw f("Could not parse ColourInformationBox: unknown type '"+n+"'.")}},t.OS=function(t){var n=t.zb(),i=t.zb();return{$u:AA.cb,tE:n,nE:i}},t.IT=function(n){var i=_k(dk.Jb(n),AA.Yk).map(t.iE);return{$u:AA.jk,RT:i}},t.iE=function(t){var n=gk(t.zb()),i=n.version,r=n.flags,e=t.zb(),u=t.zb(),s=t.zb(),o=t.zb(),a=t.zb();return{$u:AA.Yk,hT:i,vT:r,XT:e,rE:u,eE:s,uE:o,sE:a}},t.AT=function(n,i){var r=dk.Jb(n),e=lk(r,AA.pb),u=_k(r,AA.Ab),s=t.oE(e),o=u.map(t.aE);return{$u:AA.yb,cE:i,sT:s,RT:o}},t.oE=function(t){var n=gk(t.zb()),i=n.version,r=n.flags,e=t.zb();return{$u:AA.pb,hT:i,vT:r,fE:e}},t.aE=function(n){var i=dk.Jb(n),r=lk(i,AA.kb),e=_k(i,AA.bb),u=wk(i,AA.Tb),s=t.hE(r),o=e.map((function(n){return t.vE(n,s)})),a=u?t.dE(u):void 0;return{$u:AA.Ab,sT:s,lE:o,wE:a}},t.hE=function(t){var n=gk(t.zb()),i=n.version,r=n.flags,e=t.zb(),u=r.zo(TA.BASE_DATA_OFFSET_PRESENT)?t.Wb():void 0,s=r.zo(TA.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.zb():void 0,o=r.zo(TA.DEFAULT_SAMPLE_DURATION_PRESENT)?t.zb():void 0,a=r.zo(TA.DEFAULT_SAMPLE_SIZE_PRESENT)?t.zb():void 0,c=r.zo(TA.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.zb():void 0;return{$u:AA.kb,hT:i,vT:r,XT:e,_E:u,gE:s,eE:o,uE:a,sE:c}},t.vE=function(n,i){for(var r=gk(n.zb()),e=r.version,u=r.flags,s=n.zb(),o=u.zo(SA.DATA_OFFSET_PRESENT)?n.Vb():void 0,a=u.zo(SA.FIRST_SAMPLE_FLAGS_PRESENT)?n.zb():void 0,c=[],f=0;f<s;f++){var h=t.mE(n,u,e,i);0===f&&void 0!==a&&(h.vT=a),c.push(h)}return{$u:AA.bb,hT:e,vT:u,yE:s,cE:o,pE:a,AE:c}},t.mE=function(t,n,i,r){return{Sm:n.zo(SA.SAMPLE_DURATION_PRESENT)?t.zb():r.eE,xo:n.zo(SA.SAMPLE_SIZE_PRESENT)?t.zb():r.uE,vT:n.zo(SA.SAMPLE_FLAGS_PRESENT)?t.zb():r.sE,kE:n.zo(SA.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.zb():t.Vb():void 0}},t.TT=function(t){var n=t.Ud,i=t.Fb,r=gk(Vf(n,i)),e=r.version,u=r.flags;if(1===e){var s=Vf(n,i),o=qf(n,i),a=Vf(n,i),c=Vf(n,i),f=Gf(n,i),h=Gf(n,i),v=gh(lh(n),i.Lo,n.byteLength);return i.Mo(v.byteLength),{$u:AA.Rb,hT:e,vT:u,bE:f,Bw:h,qA:s,TE:o,SE:a,hg:c,EE:v}}var d=Gf(n,i),l=Gf(n,i),w=Vf(n,i),_=Vf(n,i),g=Vf(n,i),m=Vf(n,i),y=gh(lh(n),i.Lo,n.byteLength);return i.Mo(y.byteLength),{$u:AA.Rb,vT:u,hT:e,bE:d,Bw:l,qA:w,IE:_,SE:g,hg:m,EE:y}},t.kT=function(t){return dk.cT(t,AA.Eb,!1)},t.mT=function(n){var i=n.Ud,r=n.Fb,e=mh(lh(i)).buffer,u=gk(Vf(i,r)),s=u.version,o=u.flags,a=t.RE(i,r),c=[];if(s>0)for(var f=Vf(i,r),h=0;h<f;h++){var v=Mf(i,r,16);c.push(v)}var d=Vf(i,r),l=new g(e,r.Lo,d);return r.Mo(i.byteLength),{$u:AA.Ib,hT:s,vT:o,CE:a,NE:c,DE:d,Ud:l,PE:e}},t.RE=function(t,n){for(var i="",r=0;r<4;r++){var e=xf(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var s=xf(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var a=xf(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var c=0;c<2;c++){var f=xf(t,n).toString(16);i+=1===f.length?"0"+f:f}i+="-";for(var h=0;h<6;h++){var v=xf(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.bT=function(t){var n,i,r=t.Ud,e=t.Fb,u=gk(Vf(r,e)),s=u.version,o=u.flags,a=Vf(r,e),c=Vf(r,e);0===s?(n=$e.fromBits(Vf(r,e),0,!0),i=$e.fromBits(Vf(r,e),0,!0)):(n=qf(r,e),i=qf(r,e)),e.Mo(2);for(var f=Xf(r,e),h=[],v=0;v<f;v+=1){var d=Vf(r,e),l=d>>31&1,w=2147483647&d,_=Vf(r,e),g=Vf(r,e),m=g>>31&1,y=g>>28&7,p=268435455&g;h.push({BE:l,OE:w,Sm:_,xE:m,LE:y,ME:p})}return{$u:AA.Cb,hT:s,vT:o,FE:a,qA:c,UE:n,HE:i,XE:f,zE:h}},t.dE=function(t){var n,i=t.Ud,r=t.Fb,e=gk(Vf(i,r)),u=e.version,s=e.flags;return n=0===u?$e.fromBits(Vf(i,r),0,!0):qf(i,r),{$u:AA.Tb,hT:u,vT:s,wE:n}},t}();function yk(t){return t&&"Xw"in t?t.Xw:t}yr(),zt(),kr(),yr(),zt();var pk=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,r,e)||this).VE=u,a.WE=s,a.qE=o||void 0,a}return zr(n,t),n.prototype.zp=function(n){return this===n||!!lm(this,n)&&(!!t.prototype.zp.call(this,n)&&(!!dm(this.GE,n.GE)&&(!!dm(this.Dk,n.Dk)&&(this.jE&&n.jE?!!this.jE.Iw(n.jE)&&(this.Ep&&n.Ep?this.Ep.Iw(n.Ep):this.Ep===n.Ep):this.jE===n.jE))))},Ar(n,[{key:"GE",get:function(){return this.VE}},{key:"Dk",get:function(){return this.WE}},{key:"jE",get:function(){return this.qE}},{key:"y_",get:function(){return this.m_||(this.m_=function(t){return hm(Xp(t),{get styles(){return t.GE},get regions(){return t.Dk},get metadata(){return yk(t.jE)},get content(){return yk(t.Ep)}})}(this)),this.m_}}]),n}(Yp);yr(),zt(),kr();var Ak=function(){function t(t,n,i){this.YE=t,this.QE=n,Pg(i)?this._n=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.qw(u)}return i}(0,0,i):this._n=i}return Ar(t,[{key:"ZE",get:function(){return this._n.Rw(!0)}},{key:"Tp",get:function(){return this.YE}},{key:"Sp",get:function(){return this.QE}}]),t}();yr(),zt(),Or();var kk="http://www.w3.org/XML/1998/namespace";function bk(t,n,i,r){var e=t.Uw(i,n);return 0===e.length&&(e=t.Lw(r+":"+n)),e}function Tk(t,n){return function(t,n){var i=t.zw.slice(),r=[];for(;i.length>0;){var e,u=i.shift();if(n(u))r.push(u);else(e=i).push.apply(e,Nr(u.zw))}return r}(t,(function(t){return t.Fw===n}))}function Sk(t){for(var n={},i=0,r=t.Qw;i<r.length;i++){var e=r[i];n[e.Cw]=e.Bw}return n}var Ek=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Ik=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Rk="http://www.w3.org/ns/ttml";function Ck(t,n,i,r){void 0===i&&(i=EA),void 0===r&&(r=_l);var e=[],u=dh(t);return r===gl?e=function(t,n,i){var r=hk(mk.dT(t),AA.Eb);if(!r)return[];return Pk(dh(r.Ud),n,i)}(u,n,i):r===_l&&(e=Pk(u,n,i)),e}function Nk(t,n,i){return void 0===i&&(i=EA),Bk(t,n,i)}function Dk(t,n){for(var i=Hk(n.ZE),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function Pk(t,n,i){return Bk(fh(t,new ph),n,i)}function Bk(t,n,i){var r,e=[];try{r=Pr.Sw(t)}catch(t){return e}var u=r.Kw;if("tt"!==u.Cw)return e;var s=u&&u.Uw(Rk,"head")[0],o=u&&u.Uw(Rk,"body")[0];if(!o||!s)return e;for(var a=function(t){for(var n={},i=t.Uw(Rk,"styling")[0],r=i&&i.Uw(Rk,"style")||[],e=0;e<r.length;e++){var u=r[e];n[u.Ww(kk,"id")]=Sk(u)}return n}(s),c=function(t,n){var i=vm(t),r=Lk(n.Vw("tts:extent"));if(!r)return i;for(var e=0,u=v.keys(i);e<u.length;e++){var s=u[e],o=Lk(i[s].extent);if(o){var a=Ok(o[0],r[0]),c=Ok(o[1],r[1]);i[s].extent=a+" "+c}var f=Lk(i[s].origin);if(f){var h=Ok(f[0],r[0]),d=Ok(f[1],r[1]);i[s].origin=h+" "+d}}return i}(function(t){for(var n={},i=t.Uw(Rk,"layout")[0],r=i&&i.Uw(Rk,"region")||[],e=0;e<r.length;e++){var u=r[e],s=u.Ww(kk,"id");if(s){n[s]=Sk(u);var o=Uk(u);for(var a in o)ne.call(o,a)&&(n[s][a]=o[a])}}return n}(s),u),f=s.Uw(Rk,"metadata")[0],h=Mk(o,i.Rk,i.Ck,i.Nk),d=0;d<h.length;d++){var l=h[d],w=Dk(c,l);e.push(new pk(l.Tp,l.Sp,l.ZE,!1,a,w,f))}return e}function Ok(t,n){var i=xk(t),r=xk(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-r.length));return _(e)||_(u)?t:e/u*100+"%"}return t}function xk(t){return Ha(t,"px")?"px":Ha(t,"em")?"em":Ha(t,"c")?"c":Ha(t,"%")?"%":void 0}function Lk(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Mk(t,n,i,r){var e,u=function(n){var i=function(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].Tp,s=i[e].Sp;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&r.push(i[e])}return r}(l[n],l[n+1],a);if(i.length<=0&&function(t){if(Pg(t)){var n=t.Cw.toUpperCase(),i=Boolean(t.Vw("smpte:backgroundImage"));return"BR"===n||i}return t.yw===Ng.ed}(t)){var r=t.Rw(!1);c.push(new Ak(l[n],l[n+1],r))}else if(i.length>0){var e=t.Rw(!1);i.forEach((function(t){return e.Hw(t.ZE)})),c.push(new Ak(l[n],l[n+1],e))}},s=n,o=i,a=[],c=[];if(Pg(t)){var f,h;s=null!=(f=Fk(t.Vw("begin"),r))?f:s,e=Fk(t.Vw("dur"),0),o=null!=(h=Fk(t.Vw("end"),r))?h:void 0!==e?s+e:o;for(var v=t.Mw,d=0;d<v.length;d++)("body"===t.Cw||"div"===t.Cw)&&v[d].yw>1||(a=a.concat(Mk(v[d],s,o,r)))}for(var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.Tp,u.Sp)}r.sort(uc);for(var s=r.length,o=0;o<s-1;o++)r[o+1]===r[o]&&(vc(r,o+1),o--,s=r.length);return r}(s,o,a),w=0;w<l.length-1;w++)u(w);return c}function Fk(t,n){if(t){if(Ek.test(t)){var i=Ek.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*r+60*e+u+(s?Number(s)*d.pow(.1,s.length):0)+n}if(Ik.test(t)){var o=Ik.exec(t);if(!o)return;var a,c=Number(o[1]);switch(o[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;case"f":case"t":default:a=NaN}return a+n}}}function Uk(t){for(var n={},i=t.Lw("style")||[],r=0;r<i.length;r++){var e=Sk(i[r]);for(var u in e)ne.call(e,u)&&(n[u]=e[u])}return n}function Hk(t){var n,i=[];if(Pg(t)){(n=t.Vw("region"))&&i.push(n);for(var r=t.Mw,e=0;e<r.length;e++)i=i.concat(Hk(r[e]))}return i}function Xk(t){var n=function(t){try{return Pr.Sw(t).Kw}catch(t){}}(t);return"tt"===(null==n?void 0:n.Cw)}yr(),zt(),yr(),zt();var zk,Vk=function(t){function n(){return t.apply(this,arguments)}zr(n,t);var i=n.prototype;return i.q_=function(n){return t.prototype.q_.call(this,n)},i.G_=function(n){var i=t.prototype.G_.call(this,n);return i&&(n.Dg=Dm.Og),i},i.p_=function(){return Fm(this)},n}(um);yr(),zt(),yr(),zt(),function(t){t.Ob="subtitles",t.KE="captions",t.JE="descriptions",t.$E="chapters",t.Lb="metadata",t.tI="thumbnails"}(zk||(zk={}));var Wk=["subtitles","captions","descriptions","chapters","metadata","thumbnails"];function qk(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&lc(Wk,t)}(n)?n:n?"metadata":"subtitles"}yr(),zt();var Gk,jk=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,u)||this).url=r,s.status=e,s}return zr(n,t),n}(Wl);function Yk(t){return t instanceof $w}function Qk(t){return t instanceof n_}function Zk(t){return Fa(t,"stpp")}function Kk(t){return t.some(Jk)}function Jk(t){return Fa(t,"vtt")||Fa(t,"wvtt")}function $k(t,n){return yl(t)&&Kk(n)}function tb(t,n){return!!t&&(yl(t)?function(t){return t.some(Zk)}(n)||Kk(n):Fa(t,_l)||Fa(t,ml)||Fa(t,wl))}function nb(t,n){return t===zk.tI||t===zk.Lb&&n===zk.tI}function ib(t,n,i,r){for(var e=0,u=t.Fg.Y_;e<u.length;e++){var s=u[e];if(s.Tp>i)break;n<=s.Sp&&r.push(s)}}function rb(t,n){return ec(t.vg,n.vg)}function eb(t,n,i,r){var e=function(t){switch(t){case $m.WEBVTT:return"WebVTT";case $m.SRT:return"SRT";case $m.TTML:return"TTML";default:return""}}(t);return new jk(Hl.SUBTITLE_PARSE_ERROR,"Could not parse the "+(e?e+" ":"")+"subtitle file.",n,i,r)}function ub(t,n){for(var i=[],r=0,e=t.Fg.Y_;r<e.length;r++){var u=e[r];if(u.Sp<=n)i.push(u);else if(u.Tp>=n)break}for(var s=0;s<i.length;s++){var o=i[s];t.nI(o)}}yr(),zt(),function(t){t.iI="vtt",t.vb="wvtt",t.rI="stpp"}(Gk||(Gk={}));var sb=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).RT=new Vk,n.eI=function(t){var i=t.A_;n.uI(i)},n}zr(n,t);var i=n.prototype;return i.q_=function(t){t.js(im.P_,this.eI),this.RT.q_(t),this.uI(t)},i.G_=function(t){t.Ks(im.P_,this.eI),t.Dg=Dm.Og,this.RT.G_(t)},i.sI=function(t){},i.oI=function(t){},i.uI=function(t){t.Dg!==Dm.Og?this.sI(t):this.oI(t)},i.aI=function(){for(var t=0,n=this.RT.Y_;t<n.length;t++){var i=n[t];i.Ks(im.P_,this.eI),i.Bh()}},i.cI=function(t){if(t>0)for(var n=0,i=this.RT.Y_;n<i.length;n++){ub(i[n],t)}},i.Wf=function(){return this.aI(),this.RT.Wf(),j.resolve()},i.Bh=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t.Zs(),[4,t.Wf()];case 1:return n.sent(),t.RT.Bh(),[2]}}))}))()},n}(Gc);yr(),zt(),kr();var ob=function(t){function n(n){var i;return(i=t.call(this,Pm.Cg)||this).errorObject=n,i}return zr(n,t),n.prototype.p_=function(){return this},Ar(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Zg),ab=function(t){function n(n,i){var r;return(r=t.call(this)||this).fI=new Nc,r.hI=n,r.vI=i,r}zr(n,t);var i=n.prototype;return i.dI=function(t){if(t.src){var n=t.kind||zk.Ob,i=this.hI.lI(n,t.id,t.label,t.srclang,t.default);return i.Hg=Yw(t.src),this.q_(i),i}},i.wI=function(t,n){var i=this;return ta((function(){var r,e,u,s,o,a,c,f,h,v;return ia(this,(function(d){switch(d.label){case 0:t.Mg=Dp.LOADING,r=new Ww({Md:t.Hg,Pd:dw.ed,ol:Uw.GET,Hs:n}),d.label=1;case 1:return d.trys.push([1,4,,5]),[4,i.vI.xd(r)];case 2:return s=d.sent(),u=s.Nd,[4,s.dd()];case 3:return e=d.sent(),[3,5];case 4:return Oc(o=d.sent()),t.Mg=Dp.ERROR,t.qs(new ob(function(t,n){var i=n,r=0;if(Yk(t)&&t.name===Qw.El)i=t.xd.Md;else if(Qk(t)){var e=t.Dl;if(i=e.Ld,0===(r=e.Nd))return new jk(Hl.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",i,r,t)}return new jk(Hl.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",i,r,t)}(o,t.Hg))),[2];case 5:try{for(a=function(t){return GA(t)?$m.WEBVTT:Xk(t)?$m.TTML:$m.SRT}(e),t.$u=a,c=[],a===$m.WEBVTT||a===$m.SRT?(f=OA(e),c=f.Fg):a===$m.TTML&&(c=Nk(e,t)),h=0;h<c.length;h++)v=c[h],t._I(v)}catch(n){return Oc(n),t.Mg=Dp.ERROR,t.qs(new ob(eb(t.$u,t.Hg,u,n))),[2]}return t.Mg=Dp.LOADED,[2]}}))}))()},i.sI=function(t){lc(this.RT.Y_,t)&&t.Mg===Dp.NONE&&this.wI(t,this.fI.Hs).catch(xc)},i.Cf=function(){},i.Wf=function(){var n=this;return ta((function(){var i,r,e;return ia(this,(function(u){switch(u.label){case 0:for(n.fI.Ms(),n.fI=new Nc,i=0,r=n.RT.Y_;i<r.length;i++)e=r[i],n.hI.gI(e);return[4,t.prototype.Wf.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(sb);function cb(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.dg===n&&r.mI)return r}}function fb(t,n){hb(cb(t.Y_,n))}function hb(t){void 0!==t&&(t.Dg=Dm.Pg)}function vb(t,n){hb(cb(t.Y_,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.dg===n)return r}}(t.Y_,n))}function db(t){for(var n=0;n<Wk.length;n++){var i=Wk[n];i===zk.$E?vb(t,i):fb(t,i)}}yr(),zt(),yr(),zt();var lb,wb=function(t){function n(){return t.call(this,vw.Fv)}return zr(n,t),n}(Qc);yr(),zt(),yr(),zt(),function(t){t[t.yI=0]="yI",t[t.pI=1]="pI"}(lb||(lb={})),yr(),zt(),kr(),yr(),zt();var _b=function(t){function n(n){var i;return(i=t.call(this,ky.pm)||this).currentTime=n,i}return zr(n,t),n}(Qc);yr(),zt();var gb=function(t){function n(n){var i;return(i=t.call(this,ky.Am)||this).currentTime=n,i}return zr(n,t),n}(Qc),mb=[ky.O_,ky.Am,vw.Ov,vw.Bv],yb=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).AI=n,r.kI=i,r.bI=ty.fm,r.TI=!0,r.SI=!1,r.EI=!1,r.II=function(t){var n=r.AI.Mg;n!==r.bI&&r.qs(new Ly(t.currentTime,n)),n===ty.fm&&(r.SI=!1,r.EI=!1),r.RI(n),r.CI(n),r.NI(n),r.maybeDispatchCanPlayThroughEvent(n),r.DI(n),r.BI(n),r.bI=n},r.OI=function(){r.BI(r.bI),r.DI(r.bI),r.TI=r.AI.Cm},r.xI=function(){r.TI=r.AI.Cm},r.LI=function(t){r.qs(new gb(t.currentTime))},r.AI.js(ky.O_,r.II),r.AI.js(vw.Ov,r.OI),r.AI.js(vw.Bv,r.xI),r.kI&&r.AI.js(ky.Am,r.LI),r}zr(n,t);var i=n.prototype;return i.RI=function(t){!this.EI&&t>=ty.hm&&(this.EI=!0,this.qs(new Sy(this.AI.Tm,t)))},i.CI=function(t){!this.SI&&t>=ty.vm&&(this.SI=!0,this.qs(new Ny(this.AI.Tm,t)))},i.DI=function(t){this.kI||(t>=ty.dm&&this.bI<ty.dm&&!this.AI.Cm||this.MI&&t>=ty.dm)&&this.qs(new gb(this.AI.Tm))},i.BI=function(t){!this.FI(t)||this.AI.Em||this.AI.Ao||this.qs(new _b(this.AI.Tm))},i.NI=function(t){this.bI<=ty.vm&&t>=ty.dm&&this.qs(new Oy(this.AI.Tm,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===ty.lm&&this.qs(new xy(this.AI.Tm,t))},i.FI=function(t){var n=!this.AI.Cm&&t<=ty.vm,i=!this.TI&&this.bI<=ty.vm;return n&&!i},i.Wf=function(){this.bI=ty.fm,this.TI=!0,this.SI=!1,this.EI=!1},i.Bh=function(){this.Zs(),this.kI&&this.AI.Ks(ky.Am,this.LI),this.AI.Ks(vw.Ov,this.OI),this.AI.Ks(vw.Bv,this.xI),this.AI.Ks(ky.O_,this.II)},Ar(n,[{key:"MI",get:function(){return!this.AI.Cm&&this.TI}}]),n}(Gc),pb=function(t){function n(n){var i;return(i=t.call(this)||this).AI=n,i.AI.js(mb,i.Ws),i}return zr(n,t),n.prototype.Ds=function(){this.Zs(),this.AI.Ks(mb,this.Ws)},Ar(n,[{key:"Tm",get:function(){return this.AI.Tm}},{key:"Em",get:function(){return this.AI.Em}},{key:"Ao",get:function(){return this.AI.Ao}},{key:"Cm",get:function(){return this.AI.Cm}},{key:"Mg",get:function(){return this.AI.Mg}}]),n}(Gc);yr(),zt(),yr(),zt();var Ab="titanium",kb="conax",bb="ezdrm",Tb="irdeto",Sb="vudrm",Eb="verimatrix",Ib="keyos",Rb="drmtoday",Cb="expressplay",Nb="azure",Db="xstream",Pb="vimond",Bb="axinom",Ob="uplynk",xb="comcast",Lb="custom";yr(),zt(),yr(),zt(),yr(),zt(),kr();var Mb=function(){function t(t,n,i,r,e){this.UI=void 0,this.Ff=t,this.HI=n,this.XI=i,this.vI=r,this.zI=e,this.VI=this.WI(n)}var n=t.prototype;return n.qI=function(){return this.UI},n.GI=function(t){this.UI=t},n.jI=function(){return this.VI.licenseAcquisitionURL||this.qI()},n.YI=function(t){return j.resolve()},n.QI=function(t,n){return j.resolve(void 0)},n.ZI=function(t,n,i,r){var e=this;return ta((function(){var u,s;return ia(this,(function(o){switch(o.label){case 0:if(""===(u=e.KI(t,n,i,r)).Md)throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");o.label=1;case 1:return o.trys.push([1,4,,6]),[4,e.d_.xd(u)];case 2:return[4,o.sent().ld(n)];case 3:return[2,o.sent()];case 4:return Oc(s=o.sent()),[4,e.JI(s,u.Md,r)];case 5:return o.sent(),[2];case 6:return[2]}}))}))()},n.KI=function(t,n,i,r){var e=this.$I().ud(),u=this.vl,s={Md:this.tR(),Pd:n,Dd:e,yd:t,vl:u,ol:Uw.POST,al:0,Hs:r,$u:Hw.Wd,fl:i};return new Ww(s)},n.nR=function(t,n){return j.resolve(t)},n.iR=function(t,n,i,r){return j.resolve(t)},n.$I=function(){return new ww(this.VI.headers||{})},n.JI=function(t,n,i){return ta((function(){return ia(this,(function(n){throw new vp(Hl.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t)}))}))()},n.tR=function(t,n){var i=n,r=this.VI.queryParameters;if(!i){var e=this.jI();if(!e)return"";i=e}if(r||t){var u=Pr.Nu(i);t&&jw(u,t),r&&jw(u,r),i=u.href}return i},n.rR=function(t,n){return Fb(t)},n.eR=function(t){return new g(t)},n.uR=function(t,n,i){var r=this;return ta((function(){var e,u;return ia(this,(function(s){switch(s.label){case 0:return[4,r.rR(t,i)];case 1:return e=s.sent(),[4,r.ZI(e,r.zI,n,i)];case 2:return u=s.sent(),[2,r.eR(u)]}}))}))()},n.Bh=function(){},Ar(t,[{key:"d_",get:function(){return this.vI}},{key:"sR",get:function(){return!1}},{key:"oR",get:function(){var t=this.VI.certificate;if(t)return ce(t)?ff(t):_h(t)}},{key:"aR",get:function(){return!1}},{key:"vl",get:function(){return Boolean(this.VI.useCredentials)}}]),t}();function Fb(t){return j.resolve(mh(t).buffer)}var Ub,Hb=function(t){function n(n,i,r,e){return t.call(this,Da,n,i,r,e)}zr(n,t);var i=n.prototype;return i.WI=function(t){return t.widevine||{}},i.cR=function(t,n){var i=this;return ta((function(){return ia(this,(function(r){return i.oR?[2,i.oR]:[2,i.fR(new g(t),n)]}))}))()},i.fR=function(n,i){return t.prototype.uR.call(this,n,Xw.Yd,i)},n}(Mb);function Xb(t,n){if(null==t)return{};var i,r,e={},u=v.keys(t);for(r=0;r<u.length;r++)i=u[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function zb(t){return re(t.token&&t.deviceId)}function Vb(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&re(i.PreAuthorization)}function Wb(t){var n=t;return zb(n)&&""!==n.token&&""!==n.deviceId&&!Vb(n)}yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),function(t){t.hR=!1,t.vR=!1,t.dR=!1,t.lR=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.wR=!1,t._R=!1,t.LOG_LCEVC_DETAILS=!1}(Ub||(Ub={})),yr(),zt(),kr();var qb,Gb=function(){function t(t,n,i){this.gR=t,this.yf=n,this.mR=i}return t.prototype.yR=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new h("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new h("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new h("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new h("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new h("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.mR.build(t))},Ar(t,[{key:"pR",get:function(){return this.gR}},{key:"Ff",get:function(){return this.yf}}]),t}();yr(),zt(),function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(qb||(qb={}));var jb=function(){function t(){this.AR=[]}var n=t.prototype;return n.registerContentProtectionIntegration=function(t,n,i){switch(this.kR(t,n,i)){case qb.FAILED:throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+n+".");case qb.OVERRIDDEN:var r=hT(n);Pr.wu("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case qb.SUCCEEDED:hT(n);0}},n.kR=function(t,n,i){var r=hT(n);if(!r)return qb.FAILED;for(var e=qb.SUCCEEDED,u=0,s=this.AR.slice();u<s.length;u++){var o=s[u];o.pR===t&&o.Ff===r&&(e=qb.OVERRIDDEN,hc(this.AR,o))}return this.AR.push(new Gb(t,r,i)),e},n.bR=function(t,n){return void 0!==this.SR(t,n)},n.ER=function(t,n,i){var r=this.SR(t,n);if(!r)throw f("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.yR(i)},n.SR=function(t,n){for(var i=0,r=this.AR;i<r.length;i++){var e=r[i];if(e.pR===t&&(!n||e.Ff===n))return e}},t}();jb.IR=new jb;var Yb={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Qb(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters;return!(n||i||r||e||u||s)}function Zb(t){return t&&void 0!==t.licenseAcquisitionURL}var Kb,Jb=Zb,$b=Zb;function tT(t){if(!t)return!0;if(eT(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return Qb(n)&&Qb(i)&&Qb(r)&&Qb(e)&&Qb(u)}function nT(t){var n=Wb(t),i=function(t){var n,i=t;return Vb(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!zb(i)}(t);return(!n||!i)&&(n||i)}function iT(t){return t.integration===Tb}function rT(t){var n=t;if(!n)return!1;if(tT(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(eT(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!Jb(r))return!1;if(e&&!$b(e))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(jb.IR.bR(n.integration))return!0;switch(n.integration){case Ab:if(!function(t){return t.integration===Ab&&(uT(t)||sT(t))}(t))return!1;break;case Sb:if(!oT(t))return!1;break;case Eb:if(!function(t){return t.integration===Eb}(t))return!1;break;case Tb:if(!iT(t))return!1;break;case kb:if(!nT(t))return!1;break;case bb:if(!function(t){return t.integration===bb}(t))return!1;break;case Ib:if(!eT(t))return!1;break;case Rb:if(!function(t){var n=t;return n.integration===Rb&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Cb:if(!function(t){return t.integration===Cb}(t))return!1;break;case Db:if(!aT(t))return!1;break;case Pb:if(!function(t){return t.integration===Pb}(t))return!1;break;case Bb:if(!cT(t))return!1;break;case Nb:if(!function(t){var n=t;return n.integration===Nb&&void 0!==n.token}(t))return!1;break;case Ob:if(!function(t){return t.integration===Ob}(t))return!1;break;case xb:if(!function(t){var n=t;return n&&re(n.releasePid)&&re(n.accountId)&&re(n.token)}(t))return!1;break;case Lb:return!0;default:return!1}}return!0}function eT(t){return t.integration===Ib}function uT(t){return void 0!==t.authToken}function sT(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function oT(t){var n=t;return n.integration===Sb&&void 0!==n.token}function aT(t){var n=t;return n&&n.integration===Db&&ce(n.ticketAcquisitionURL)&&ce(n.streamId)}function cT(t){var n=t;return n.integration===Bb&&void 0!==n.token}function fT(t,n){var i,r,e,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:Yb[t],o=null!=(r=null==u?void 0:u.customdata)?r:n.customdata,a=o?{customData:o}:{},c=na({},null!=(e=null==u?void 0:u.headers)?e:{},a),f=null!=u?u:{};f.customdata;return na({},Xb(f,["customdata"]),{licenseAcquisitionURL:s,headers:c})}function hT(t){switch(t.toLowerCase()){case"widevine":case ka:return ka;case"playready":case ya:return ya;case"fairplay":case Ia:return Ia}}function vT(t,n){switch(t){case wa:return function(t){for(var n={},i=mk.gT(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.CE]=e.PE}return n}(n);case _a:case ga:return function(t){return Wm({},Ea,t)}(n);default:throw new Wl(Hl.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.Qu="Widevine",t.Yu="PlayreadyV2",t.RR="PlayreadyV2",t.NR="PlayreadyV3",t.Ku="Fairplay"}(Kb||(Kb={}));var dT={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function lT(t,n){var i,r,e,u,s=dT[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=Pr.Pu)?void 0:i.Bu,OSVersion:null==(r=Pr.Pu)?void 0:r.Uu,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(e=Pr.Pu)?void 0:e.Hu,DeviceModel:null==(u=Pr.Pu)?void 0:u.Xu}}}function wT(t,n){if(!t.accountName)throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, accountName is not set.");if(!t.customerName)throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, customerName is not set.");if(!t.portalId)throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, portalId is not set.");throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration.")}function _T(t,n,i){var r;if(uT(t))r={AuthToken:t.authToken,Payload:n};else{if(!sT(t))throw wT(t,i);r={LatensRegistration:lT(t,i),Payload:n}}return kf(JSON.stringify(r))}function gT(t,n,i){return mT.apply(this,arguments)}function mT(){return(mT=ta((function(t,n,i){var r,e,u,s;return ia(this,(function(o){switch(o.label){case 0:if(!(r=t.Dl))throw new vp(Hl.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,n);e=r,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.vd(i)];case 2:return u=o.sent(),s=yT(u),[3,4];case 3:return o.sent(),s="",[3,4];case 4:throw new vp(Hl.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,e.xd.Md,e.Nd,e.Bd,s)}}))}))).apply(this,arguments)}function yT(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}yr(),zt();var pT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,dw.td)||this).DR=void 0,e}zr(n,t);var i=n.prototype;return i.JI=function(t,n,i){return gT(t,n,i)},i.YI=function(t){return this.DR?Lc(this.DR.Wo,t):(this.DR=new kh,j.resolve())},i.rR=function(t,n){var i=this;return ta((function(){var n,r;return ia(this,(function(e){if(!(n=i.HI))throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");return r=df(t),[2,_T(n,r,Kb.Qu)]}))}))()},i.eR=function(t){if(!t.license)throw new vp(Hl.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return ff(t.license)},i.PR=function(t){return j.resolve(new g(t))},i.cR=function(t,n){var i=this;return ta((function(){var r,e;return ia(this,(function(u){switch(u.label){case 0:return i.OR(),[4,i.rR(t,n)];case 1:return r=u.sent(),[4,i.ZI(r,dw.$v,Xw.Qd,n)];case 2:return e=u.sent(),[4,i.PR(e)];case 3:return[2,u.sent()]}}))}))()},i.fR=function(n,i){var r=this;return ta((function(){var e;return ia(this,(function(u){switch(u.label){case 0:return[4,t.prototype.fR.call(r,n,i)];case 1:return e=u.sent(),r.OR(),[2,e]}}))}))()},i.OR=function(){this.DR||(this.DR=new kh),this.DR.qo()},i.Bh=function(){this.DR&&this.DR.Ms(),t.prototype.Bh.call(this)},n.xR=function(){return Pr.Bu.je?"required":"optional"},n}(Hb);yr(),zt(),kr();var AT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,dw.$v)||this).GI("https://widevine-proxy.drm.technology/proxy"),e}return zr(n,t),n.prototype.rR=function(t,n){var i=this;return ta((function(){var n,r,e,u;return ia(this,(function(s){switch(s.label){case 0:return[4,Fb(t)];case 1:if(n=s.sent(),r=i.XI,e=yh(new g(n)),!(u=i.LR))throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");return[2,JSON.stringify({token:u,drm_info:e,kid:r})]}}))}))()},Ar(n,[{key:"LR",get:function(){if(oT(this.HI))return this.HI.token}}]),n}(Hb);function kT(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=na({},i,{SessionId:t.sessionId,Ticket:t.ticket})),na({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}yr(),zt(),yr(),zt();var bT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,dw.$v)||this).GI("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}return zr(n,t),n.prototype.tR=function(n,i){var r=n;return iT(this.HI)&&(r=kT(this.HI,r)),t.prototype.tR.call(this,r,i)},n}(Hb);yr(),zt(),yr(),zt();var TT="Conax-Custom-Data";function ST(t,n,i){var r=t&&nT(t)&&t;if(r&&!i.has(TT)){var e=Wb(r)?r.token:void 0,u=Wb(r)?r.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(TT,s)}return i}var ET=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,dw.$v)||this).GI("https://connect.conax.com:8094/license"),e}return zr(n,t),n.prototype.$I=function(){var n=t.prototype.$I.call(this);return ST(this.HI,"Widevine",n)},n}(Hb);function IT(t){var n=ih(new g(t));return ff(JSON.parse(n).license)}function RT(t){return"string"==typeof t.token?t.token:kf(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function CT(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}yr(),zt(),kr(),yr(),zt();var NT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,dw.$v)||this).GI("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}zr(n,t);var i=n.prototype;return i.eR=function(t){return IT(t)},i.$I=function(){return CT(t.prototype.$I.call(this),this.LR,this.HI)},Ar(n,[{key:"LR",get:function(){return RT(this.HI)}}]),n}(Hb);yr(),zt();var DT=function(t){function n(n,i,r){return t.call(this,n,i,r,dw.$v)}return zr(n,t),n.prototype.$I=function(){var n=t.prototype.$I.call(this),i=this.HI.token;return n.set("Authorization","Bearer "+i),n},n}(Hb);function PT(t,n,i,r){return BT.apply(this,arguments)}function BT(){return(BT=ta((function(t,n,i,r){var e,u,s,o,a,c;return ia(this,(function(f){switch(f.label){case 0:if(!aT(t))throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");return(e=new ww).append("Cache-Control","no-cache"),e.append("Content-Type","application/json"),(u=t.sessionId)&&e.append("XSSESSION",u),s=t.streamId,o=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:n,licenseType:o,streamId:s},c={Md:t.ticketAcquisitionURL,Pd:dw.td,Dd:e,ol:Uw.POST,yd:JSON.stringify(a),Hs:r},[4,i.xd(c)];case 1:return[4,f.sent().vd()];case 2:return[2,f.sent()]}}))}))).apply(this,arguments)}yr(),zt(),yr(),zt();var OT=function(t){function n(n,i,r){return t.call(this,n,i,r,dw.td)}zr(n,t);var i=n.prototype;return i.$I=function(){var n=t.prototype.$I.call(this);return n.set("Content-Type","application/json"),n},i.rR=function(n,i){var r=this;return ta((function(){var e,u,s;return ia(this,(function(o){switch(o.label){case 0:return e=Af(n.buffer),[4,PT(r.HI,"widevine_modular",r.d_,i)];case 1:return u=o.sent(),r.GI(u.licenseServerUrl),s=rh(JSON.stringify({payload:e,ticket:u.ticket})),[2,t.prototype.rR.call(r,s,i)]}}))}))()},i.eR=function(t){return ff(t.license)},n}(Hb);yr(),zt();var xT=function(t){function n(n,i,r){return t.call(this,n,i,r,dw.$v)}return zr(n,t),n.prototype.$I=function(){if(!cT(this.HI))throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.$I.call(this);return n.set("X-AxDRM-Message",this.HI.token),n},n}(Hb);function LT(t){for(var n=new g(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}yr(),zt();var MT=function(t){function n(n,i,r){var e;return(e=t.call(this,Na,n,i,r,dw.$v)||this).MR=void 0,e}zr(n,t);var i=n.prototype;return i.WI=function(t){return t.playready||{}},i.$I=function(){var n=new ww(this.MR);return n.fd(t.prototype.$I.call(this)),n},i.FR=function(t){return t.length>=1&&t[0].Mw.length>0},i.QI=function(n){var i=this.HI.playready.customData;if(i){var r=LT(i),e=LT('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+df(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return j.resolve({playready:{lh:e}})}return t.prototype.QI.call(this,n)},i.rR=function(t,n){var i=this;return ta((function(){var n;return ia(this,(function(r){switch(r.label){case 0:return[4,Fb(t)];case 1:return n=r.sent(),[2,i.UR(n)]}}))}))()},i.UR=function(t){var n=this;return ta((function(){var i,r,e,u,s,o,a,c,f,h,v,d,l,w,_,g;return ia(this,(function(m){e=null,u=new DataView(t),s=$f(u,new ph,!0);try{o=Pr.Sw(s)}catch(t){return[2,e]}for(a=null==(i=o.Lw("PlayReadyKeyMessage")[0])?void 0:i.Lw("LicenseAcquisition")[0],f=null!=(c=null==a?void 0:a.Lw("Challenge"))?c:[],n.FR(f)&&(e=pf(f[0].Zw)),h=new ww,d=null!=(v=null==(r=null==a?void 0:a.Lw("HttpHeaders")[0])?void 0:r.Lw("HttpHeader"))?v:[],l=0;l<d.length;l++)w=d[l],_=w.Lw("name")[0].Zw,g=w.Lw("value")[0].Zw,h.append(_,g);return n.MR=h,[2,e]}))}))()},i.cR=function(t,n){return j.resolve(t)},i.fR=function(n,i){return t.prototype.uR.call(this,n,Xw.Zd,i)},n}(Mb);yr(),zt(),yr(),zt(),kr();var FT=function(){function t(n){this.HR=n,this.Jc=t.XR(n)}return t.prototype.zR=function(){var t={};if(this.Jc===Kb.NR){var n={LatensRegistration:lT(this.HR,Kb.NR)};t["X-TITANIUM-DRM-CDATA"]=kf(JSON.stringify(n))}return t},t.XR=function(t){return"3"===t.version?Kb.NR:Kb.RR},Ar(t,[{key:"WR",get:function(){return this.Jc}},{key:"Kf",get:function(){return this.Jc===Kb.RR}}]),t}();var UT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).qR=new FT(e.HI),e}zr(n,t);var i=n.prototype;return i.QI=function(t){var n=this.HI;if(!this.HI)throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(sT(n)){var i={};return i.playready={lh:HT(n,this.qR.WR)},j.resolve(i)}return j.reject(wT(n,Kb.Yu))},i.$I=function(){var n=new ww(this.qR.zR());return n.fd(t.prototype.$I.call(this)),n},i.JI=function(t,n,i){return ta((function(){var r,e,u,s,o,a,c,f;return ia(this,(function(h){switch(h.label){case 0:if(!(r=t.Dl))throw new vp(Hl.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n);h.label=1;case 1:return h.trys.push([1,3,,4]),[4,r.wd(i)];case 2:return s=h.sent(),o=ih(new g(s)),(a=Pr.Sw(o))&&(c=Tk(a,"CustomData")).length>0&&(e=JSON.parse(c[0].Zw),u=null==(f=e.DrmErr)?void 0:f.desc),[3,4];case 3:return h.sent(),[3,4];case 4:throw new vp(Hl.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n,r.Nd,r.Bd,u)}}))}))()},i.FR=function(t){if(1!==t.length)throw new vp(Hl.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},n}(MT);function HT(t,n){var i=lT(t,n),r=i.DeviceInfo.FormatVersion,e=uh(function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}(function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}("<TitaniumCustomData>"+kf('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>")+"</TitaniumCustomData>")),!0);return uh('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+df(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}yr(),zt(),kr();var XT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).GI("https://playready-license.drm.technology/rightsmanager.asmx"),e}zr(n,t);var i=n.prototype;return i.FR=function(t){if(1!==t.length)throw new vp(Hl.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},i.tR=function(n,i){var r=na({},n||{},{token:this.LR});return t.prototype.tR.call(this,r,i)},Ar(n,[{key:"LR",get:function(){if(oT(this.HI))return this.HI.token}}]),n}(MT);yr(),zt();var zT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).GI("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return zr(n,t),n.prototype.tR=function(n,i){var r=n;return iT(this.HI)&&(r=kT(this.HI,r)),t.prototype.tR.call(this,r,i)},n}(MT);yr(),zt();var VT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).GI("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return zr(n,t),n.prototype.$I=function(){var n=t.prototype.$I.call(this);return ST(this.HI,"PlayReady",n)},n}(MT);yr(),zt(),kr();var WT,qT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).GI("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}zr(n,t);var i=n.prototype;return i.eR=function(n){return 1===function(t){return Ua(ih(new g(t)),"<?xml")?0:1}(n)?IT(n):t.prototype.eR.call(this,new g(n))},i.$I=function(){return CT(t.prototype.$I.call(this),this.LR,this.HI)},Ar(n,[{key:"LR",get:function(){return RT(this.HI)}}]),n}(MT);!function(t){t[t.GR=0]="GR",t[t.vd=1]="vd"}(WT||(WT={})),yr(),zt();var GT=function(t){function n(n,i,r){return t.call(this,n,i,r)}zr(n,t);var i=n.prototype;return i.$I=function(){var n=t.prototype.$I.call(this);return this.jR&&n.set("Ticket",this.jR),n.set("Content-Type","text/xml"),n},i.rR=function(n,i){var r=this;return ta((function(){var e;return ia(this,(function(u){switch(u.label){case 0:return[4,PT(r.HI,"playready",r.d_,i)];case 1:return e=u.sent(),r.GI(e.licenseServerUrl),r.jR=e.ticket,[2,t.prototype.rR.call(r,n,i)]}}))}))()},n}(MT);yr(),zt();var jT,YT=function(t){function n(){return t.apply(this,arguments)}return zr(n,t),n.prototype.$I=function(){if(!cT(this.HI))throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.$I.call(this);return n.set("X-AxDRM-Message",this.HI.token),n},n}(MT);yr(),zt(),kr(),yr(),zt(),function(t){t.td="application/json",t.YR="application/x-www-form-urlencoded",t.QR="application/octet-stream",t.ed="text/plain;charset=UTF-8"}(jT||(jT={}));var QT=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n.Ff,i,r,e,u)||this).ZR="",s.KR=void 0,s.JR=n.$R,s}zr(n,t);var i=n.prototype;return i.tC=function(){return this.VI.certificateURL||this.KR},i.nC=function(t){this.KR=t},i.rR=function(t){return j.resolve(this.iC(t,this.ZR))},i.iC=function(t,n){return"spc="+encodeURIComponent(df(t))+"&assetId="+encodeURIComponent(n)},i.WI=function(t){return t.fairplay||{}},i.rC=function(t){var n=t.indexOf("?");if(n>=0)return j.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return j.resolve(i)}var r=t.split("/");return j.resolve(r[r.length-1])},i.QI=function(t){var n=this;return ta((function(){var i,r,e,u;return ia(this,(function(s){switch(s.label){case 0:return r=null!=(i=n.JR)?i:ah(new g(t)),[4,n.rC(r)];case 1:return e=s.sent(),n.ZR=e,(u={}).fairplay={kh:e},[2,u]}}))}))()},i.$I=function(){var n=t.prototype.$I.call(this);return n.set("Content-Type",this.eC),n},i.cR=function(t,n){var i=this;return ta((function(){return ia(this,(function(t){switch(t.label){case 0:return i.oR?[2,i.oR]:[4,i.uC(n)];case 1:return[2,t.sent()]}}))}))()},i.fR=function(n,i){return t.prototype.uR.call(this,n,Xw.Gd,i)},i.sC=function(t){var n=this.tC(),i=this.$I(),r={Md:n,Pd:dw.$v,Dd:i,ol:Uw.GET,vl:!1,yd:null,al:0,Hs:t,$u:Hw.Wd,fl:Xw.jd};return new Ww(r)},i.uC=function(t){var n=this;return ta((function(){var i,r;return ia(this,(function(e){switch(e.label){case 0:return i=n.sC(t),[4,n.d_.xd(i)];case 1:return[4,e.sent().wd()];case 2:return r=e.sent(),[2,new g(r)]}}))}))()},i.eR=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=ff(i)}else n=new g(t);return n},i.tR=function(n,i){var r=t.prototype.tR.call(this,n,i);return Ua(r,"skd:")&&(r=r.substr("skd:".length)),r},Ar(n,[{key:"aR",get:function(){return!0}},{key:"eC",get:function(){return jT.YR}}]),n}(Mb);yr(),zt(),kr();var ZT=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,dw.$v)}zr(n,t);var i=n.prototype;return i.rC=function(n){var i=n.split("://",1);return"skd"!==i[0].slice(-3).toLowerCase()?j.resolve(""):(i=n.split(";",2)).length>1?j.resolve(i[1]):j.resolve(t.prototype.rC.call(this,n))},i.rR=function(t){return ta((function(){return ia(this,(function(n){return[2,t]}))}))()},i.eR=function(t){return new g(t)},i.tR=function(n,i){var r=n||{};return r.p1=cu(),t.prototype.tR.call(this,r,i)},Ar(n,[{key:"eC",get:function(){return jT.QR}}]),n}(QT);yr(),zt(),kr();var KT=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,dw.$v)||this).GI("https://fairplay-license.drm.technology/license"),u.nC("https://fairplay-license.drm.technology/certificate"),u}zr(n,t);var i=n.prototype;return i.iC=function(t,n){var i={token:this.LR,contentId:n,payload:df(t)};return JSON.stringify(i)},i.eR=function(t){return new g(t)},i.$I=function(){var n=t.prototype.$I.call(this);return n.set("x-vudrm-token",this.LR),n},Ar(n,[{key:"eC",get:function(){return jT.td}},{key:"LR",get:function(){if(!oT(this.HI))throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.HI.token}}]),n}(QT);yr(),zt();var JT="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",$T="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",tS=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,dw.$v)}return zr(n,t),n.prototype.eR=function(n){var i=function(t){var n;try{n=JSON.parse(t).ckc}catch(t){throw new vp(Hl.CONTENT_PROTECTION_LICENSE_INVALID,JT)}if(!n)throw new vp(Hl.CONTENT_PROTECTION_LICENSE_ERROR,$T);return n}(ih(new DataView(n)));return t.prototype.eR.call(this,i)},n}(QT);yr(),zt(),kr();var nS=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,dw.td)}zr(n,t);var i=n.prototype;return i.rR=function(t){var n=this;return ta((function(){var i,r;return ia(this,(function(e){if(!(i=n.HI))throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");return r=df(t),[2,_T(i,r,Kb.Ku)]}))}))()},i.eR=function(t){try{var n;if(ce(t)){var i=t.trim();n=JSON.parse(i)}else n=t;if(n.license){var r=pf(n.license);return new g(r)}throw new vp(Hl.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new vp(Hl.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},i.JI=function(t,n,i){return gT(t,n,i)},Ar(n,[{key:"eC",get:function(){return jT.td}}]),n}(QT);yr(),zt(),kr();var iS=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,dw.$v)||this).GI("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.nC("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}zr(n,t);var i=n.prototype;return i.tC=function(){var n=t.prototype.tC.call(this);if(!n)return n;var i=Pr.Nu(n),r=this.HI;return iT(r)&&jw(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.rC=function(n){return iT(this.HI)?j.resolve(this.HI.contentId):t.prototype.rC.call(this,n)},i.rR=function(t){return ta((function(){return ia(this,(function(n){return[2,t]}))}))()},i.eR=function(t){return new g(t)},i.tR=function(n,i){var r=n;return iT(this.HI)&&(r=function(t,n){return na({},kT(t,n),{KeyId:t.keyId})}(this.HI,r)),t.prototype.tR.call(this,r,i)},Ar(n,[{key:"eC",get:function(){return jT.QR}}]),n}(QT);yr(),zt();var rS=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,dw.ed)||this,!nT(i))throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.GI("https://connect.conax.com:8097/license"),u}zr(n,t);var i=n.prototype;return i.$I=function(){var n=t.prototype.$I.call(this);return ST(this.HI,"FairPlay",n)},i.uC=function(t){var n=this;return ta((function(){var i,r,e;return ia(this,(function(u){switch(u.label){case 0:return i=n.tC(),r={Md:i,Pd:dw.$v,Dd:{},ol:Uw.GET,vl:!1,yd:null,al:0,Hs:t,$u:Hw.Wd,fl:Xw.jd},[4,n.d_.xd(r)];case 1:return[4,u.sent().wd()];case 2:return e=u.sent(),[2,new g(e)]}}))}))()},i.rR=function(t){return ta((function(){return ia(this,(function(n){return[2,t]}))}))()},i.rC=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),j.resolve(function(t){return ih(ff(t))}(n))):j.resolve("unknown")},i.eR=function(t){try{var n=JSON.parse(t);return new g(pf(n.CkcMessage))}catch(t){throw new f("CFLRW-66")}},n}(QT);yr(),zt();var eS=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,dw.ed)||this).GI(Yb[da.Ku]),u}zr(n,t);var i=n.prototype;return i.rC=function(t){return Ua(t,"skd://")?j.resolve(t.substring("skd://".length,40)):j.reject(new vp(Hl.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},i.iC=function(t,n){return"spc="+df(t)+"&assetId="+n},n}(QT);yr(),zt(),kr();var uS=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,dw.ed)||this).GI("https://lic.drmtoday.com/license-server-fairplay/"),u}zr(n,t);var i=n.prototype;return i.iC=function(t,n){var i="spc="+encodeURIComponent(df(t))+"&"+encodeURI(n);return"persistent"===this.VI.licenseType?i+"&offline=true":i},i.$I=function(){return CT(t.prototype.$I.call(this),this.LR,this.HI)},Ar(n,[{key:"LR",get:function(){return RT(this.HI)}}]),n}(QT);yr(),zt(),kr();var sS=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,dw.$v)}zr(n,t);var i=n.prototype;return i.rC=function(t){var n=t;return Ua(n,"skd:")&&(n="http:"+n.substring(4)),Ua(n,"http:")||Ua(n,"https:")?j.resolve(Pr.Nu(n).hostname):j.reject(new f("Could not parse ExpressPlay FairPlay content ID."))},i.rR=function(t){return ta((function(){return ia(this,(function(n){return[2,t]}))}))()},i.eR=function(t){return new g(t)},Ar(n,[{key:"eC",get:function(){return jT.QR}}]),n}(QT);yr(),zt();var oS=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,dw.ed)}return zr(n,t),n.prototype.$I=function(){var n=t.prototype.$I.call(this),i=this.HI.token;return n.set("Authorization","Bearer "+i),n},n}(QT);yr(),zt(),kr();var aS=function(t){function n(n,i,r,e){var u=t.call(this,n,i,r,e,dw.td);if(!aT(i))throw new f("Invalid Xstream DRM configuration");return u}zr(n,t);var i=n.prototype;return i.uC=function(t){var n=this;return ta((function(){var i,r,e,u;return ia(this,(function(s){switch(s.label){case 0:return i=n.tC(),r=n.$I(),e={Md:i,Pd:dw.td,Dd:r,ol:Uw.POST,Hs:t,$u:Hw.Wd,fl:Xw.jd},[4,n.d_.xd(e)];case 1:return[4,s.sent().vd()];case 2:return u=s.sent(),[2,new g(ff(u.certificate))]}}))}))()},i.fR=function(t,n,i){void 0===i&&(i=dw.ed);var r=this;return ta((function(){var i,e,u,s;return ia(this,(function(o){switch(o.label){case 0:return i=df(t),[4,PT(r.HI,"fairplay",r.d_,n)];case 1:return e=o.sent(),u=rh(JSON.stringify({spc:i,ticket:e.ticket})),s={Md:r.jI(),Pd:dw.td,Dd:r.$I(),ol:Uw.POST,yd:u,al:0,Hs:n,$u:Hw.Wd,fl:Xw.Gd},[4,r.d_.xd(s)];case 2:return[4,o.sent().vd()];case 3:return[2,ff(o.sent().licence)]}}))}))()},Ar(n,[{key:"eC",get:function(){return jT.td}}]),n}(QT);yr(),zt();var cS=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,dw.ed)}zr(n,t);var i=n.prototype;return i.iC=function(t,n){return df(t)},i.eR=function(n){if(0===n.length)throw new vp(Hl.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.eR.call(this,n)},i.$I=function(){var n=t.prototype.$I.call(this);return n.set("Content-Type","text/plain"),n},n}(QT);yr(),zt(),kr();var fS=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,dw.$v)}zr(n,t);var i=n.prototype;return i.iC=function(t,n){return t},i.eR=function(t){return new g(t)},i.$I=function(){if(!cT(this.HI))throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.$I.call(this);return n.set("X-AxDRM-Message",this.HI.token),n},Ar(n,[{key:"eC",get:function(){return jT.td}}]),n}(QT);yr(),zt(),kr();var hS=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,dw.td)||this).oC=void 0,u}zr(n,t);var i=n.prototype;return i.iC=function(t,n){var i={spc:df(t)};return JSON.stringify(i)},i.rC=function(t){var n=Pr.Nu(t);return this.oC=t,n.searchParams.has("b")?j.resolve(n.searchParams.get("b")):j.reject(new vp(Hl.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},i.tR=function(n,i){var r=this.jI();return!r&&this.oC&&(r=this.oC),r&&(r=r.replace("skd://","https://")),t.prototype.tR.call(this,n,i||r)},i.eR=function(t){try{var n;if((n=ce(t)?JSON.parse(t.trim()):t).ckc)return ff(n.ckc)}catch(t){throw new vp(Hl.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new vp(Hl.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},Ar(n,[{key:"eC",get:function(){return jT.ed}}]),n}(QT);yr(),zt(),yr(),zt(),yr(),zt();var vS=function(){function t(t,n){this.aC=t,this.cC=n}var n=t.prototype;return n.fC=function(t){return this.aC(t)},n.hC=function(t,n){throw new h(n+" must be "+this.cC+". (Received: "+t+")")},t}(),dS=(new vS((function(t){return!0}),"any"),new vS(de,"a number")),lS=new vS(ce,"a string"),wS=new vS(fe,"a boolean");new vS(ve,"a date"),new vS(ee,"undefined"),new vS(oe,"an object"),new vS((function(t){return null===t}),"null"),new vS((function(t){return null==t}),"null or undefined");var _S=function(t){return{fC:function(n){if(!oe(n))return!1;for(var i=0,r=v.keys(t);i<r.length;i++){var e=r[i];if(!t[e].fC(n[e]))return!1}return!0},hC:function(n,i){if(!oe(n))throw new h(i+" must be an object.");for(var r=0,e=v.keys(t);r<e.length;r++){var u=e[r],s=t[u];if(!s.fC(n[u]))return s.hC(n[u],i+"."+String(u))}throw new h}}}({responseCode:dS,isException:wS,description:lS,title:lS,correlationId:lS});function gS(t,n,i,r,e){return mS.apply(this,arguments)}function mS(){return(mS=ta((function(t,n,i,r,e){return ia(this,(function(u){switch(u.label){case 0:return[4,pS(yS(t,n,i,e),r)];case 1:return[2,u.sent()]}}))}))).apply(this,arguments)}function yS(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=Pr.Nu(t);return jw(i,n),i.toString()}(i,e)),s=new ww({});s.append("Content-Type","application/json");var o=df(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{Md:u,Pd:dw.ed,Dd:s,ol:Uw.POST,yd:JSON.stringify(a),Hs:r,$u:Hw.Wd,fl:Xw.Gd}}function pS(t,n){return AS.apply(this,arguments)}function AS(){return(AS=ta((function(t,n){var i;return ia(this,(function(r){switch(r.label){case 0:return[4,n.xd(t)];case 1:return[4,r.sent().vd()];case 2:if(i=r.sent(),_S.fC(i))throw new vp(Hl.CONTENT_PROTECTION_LICENSE_ERROR,i.description,void 0,t.Md,i.responseCode);return[2,ff(i.getFairplayLicenseResponse.ckcResponse)]}}))}))).apply(this,arguments)}var kS=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,dw.$v)||this).vC=i,u}zr(n,t);var i=n.prototype;return i.rC=function(n){var i=n.replace("FairPlay",this.vC.releasePid);return t.prototype.rC.call(this,i)},i.fR=function(t,n){var i=this;return ta((function(){return ia(this,(function(r){switch(r.label){case 0:return[4,gS(t,i.vC,i.jI(),i.d_,n)];case 1:return[2,r.sent()]}}))}))()},n}(QT);yr(),zt();var bS=function(t){function n(n,i,r){return t.call(this,Oa,n,i,r,dw.$v)}zr(n,t);var i=n.prototype;return i.WI=function(t){return t.clearkey||{}},i.ZI=function(n,i,r,e){var u=this;return ta((function(){var i,s;return ia(this,(function(o){if(i=u.VI,u.jI())return[2,t.prototype.ZI.call(u,n,u.zI,r,e)];if(i.keys&&i.keys.length)return s={keys:i.keys.map((function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}}))},[2,rh(JSON.stringify(s)).buffer];throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.")}))}))()},i.cR=function(t,n){return j.resolve(new g(0))},i.fR=function(n,i){return t.prototype.uR.call(this,n,Xw.Kd,i)},n}(Mb);yr(),zt();var TS=function(t){function n(){return t.apply(this,arguments)}return zr(n,t),n}(Hb);yr(),zt(),yr(),zt();var SS={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function ES(t,n,i){return IS.apply(this,arguments)}function IS(){return(IS=ta((function(t,n,i){var r,e,u;return ia(this,(function(s){switch(s.label){case 0:return r=XS(n),(e=t.onCertificateRequest)&&"function"==typeof e?[4,Lc(j.resolve(e.call(t,r)),i)]:[2,j.resolve(n)];case 1:return wh(u=s.sent())?[2,_h(u)]:[2,HS(na({},SS,u))]}}))}))).apply(this,arguments)}function RS(t,n,i,r,e){return CS.apply(this,arguments)}function CS(){return(CS=ta((function(t,n,i,r,e){var u,s;return ia(this,(function(o){switch(o.label){case 0:return u=t.onCertificateResponse,s=US(n,i,r),u&&"function"==typeof u?[4,Lc(j.resolve(u.call(t,s)),e)]:[2,j.resolve(n)];case 1:return[2,_h(o.sent())]}}))}))).apply(this,arguments)}function NS(t,n,i,r){return DS.apply(this,arguments)}function DS(){return(DS=ta((function(t,n,i,r){var e;return ia(this,(function(u){switch(u.label){case 0:return[4,OS(t,n,i,r)];case 1:return(e=u.sent())instanceof ArrayBuffer?[2,e]:[2,HS(e)]}}))}))).apply(this,arguments)}function PS(t,n,i,r,e,u){return BS.apply(this,arguments)}function BS(){return(BS=ta((function(t,n,i,r,e,u){var s;return ia(this,(function(o){switch(o.label){case 0:return s=FS(i,e),[4,LS(t,new g(n),s,r,u)];case 1:return[2,_h(o.sent())]}}))}))).apply(this,arguments)}function OS(t,n,i,r){return xS.apply(this,arguments)}function xS(){return(xS=ta((function(t,n,i,r){var e,u,s;return ia(this,(function(o){switch(o.label){case 0:return e=null==t?void 0:t.onLicenseRequest,u=FS(n,i),e&&"function"==typeof e?[4,Lc(j.resolve(e.call(t,u)),r)]:[2,j.resolve(u)];case 1:return wh(s=o.sent())?[2,_h(s).buffer]:[2,na({fairplaySkdUrl:void 0},SS,s)]}}))}))).apply(this,arguments)}function LS(t,n,i,r,e){return MS.apply(this,arguments)}function MS(){return(MS=ta((function(t,n,i,r,e){var u,s;return ia(this,(function(o){switch(o.label){case 0:return u=null==t?void 0:t.onLicenseResponse,s=US(n,i,r),u&&"function"==typeof u?[4,Lc(j.resolve(u.call(t,s)),e)]:[2,j.resolve(n)];case 1:return[2,_h(o.sent())]}}))}))).apply(this,arguments)}function FS(t,n){return na({},XS(t),{fairplaySkdUrl:n})}function US(t,n,i){return{url:i.Ld,status:i.Nd,statusText:i.Bd,headers:i.Dd.ud(),body:t,request:n}}function HS(t){return new Ww({Md:t.url,ol:t.method,Dd:t.headers,yd:t.body,vl:t.useCredentials})}function XS(t){var n;return{url:t.Md,body:null!=(n=zS(t.yd))?n:null,headers:t.Dd.ud(),method:t.ol,useCredentials:t.vl}}function zS(t){if(t)return"string"==typeof t?ch(t):t instanceof ArrayBuffer?new g(t):wf(t)?lh(t):void 0}var VS=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).dC=e,u}zr(n,t);var i=n.prototype;return i.cR=function(t,n){return j.resolve(t)},i.fR=function(t,n){var i=this;return ta((function(){var r,e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:return[4,i.UR(mh(t).buffer)];case 1:return r=c.sent(),e=i.KI(r,dw.$v,Xw.Zd,n),[4,NS(i.dC,e,void 0,n)];case 2:if((u=c.sent())instanceof ArrayBuffer)return[2,new g(u)];if(""===u.Md)throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");c.label=3;case 3:return c.trys.push([3,7,,8]),[4,i.d_.xd(u)];case 4:return[4,(s=c.sent()).wd(n)];case 5:return o=c.sent(),[4,PS(i.dC,o,e,s,void 0,n)];case 6:return[2,c.sent()];case 7:throw Oc(a=c.sent()),new vp(Hl.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a);case 8:return[2]}}))}))()},n}(MT);yr(),zt();var WS=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,dw.$v)||this).dC=e,u}zr(n,t);var i=n.prototype;return i.cR=function(t,n){var i=this;return ta((function(){var r,e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:return i.oR?[2,i.oR]:(r=i.KI(t,dw.$v,Xw.Qd,n),[4,ES(i.dC,r,n)]);case 1:if((e=c.sent())instanceof g)return[2,e];if(""===e.Md)throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");c.label=2;case 2:return c.trys.push([2,5,,6]),[4,i.d_.xd(e)];case 3:return[4,(u=c.sent()).wd(n)];case 4:return s=c.sent(),[3,6];case 5:throw Oc(o=c.sent()),new vp(Hl.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",o);case 6:return a=FS(r,void 0),[4,RS(i.dC,new g(s),a,u,n)];case 7:return[2,c.sent()]}}))}))()},i.fR=function(t,n){var i=this;return ta((function(){var r,e,u,s,o;return ia(this,(function(a){switch(a.label){case 0:return r=i.KI(t,dw.$v,Xw.Yd,n),[4,NS(i.dC,r,void 0,n)];case 1:if((e=a.sent())instanceof ArrayBuffer)return[2,new g(e)];if(""===e.Md)throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.d_.xd(e)];case 3:return[4,(u=a.sent()).wd(n)];case 4:return s=a.sent(),[4,PS(i.dC,s,r,u,void 0,n)];case 5:return[2,a.sent()];case 6:throw Oc(o=a.sent()),new vp(Hl.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o);case 7:return[2]}}))}))()},n}(TS);yr(),zt();var qS,GS=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,dw.$v)||this).dC=u,s}zr(n,t);var i=n.prototype;return i.cR=function(t,n){var i=this;return ta((function(){var t,r,e,u,s,o;return ia(this,(function(a){switch(a.label){case 0:return i.oR?[2,i.oR]:(t=i.sC(n),[4,ES(i.dC,t,n)]);case 1:if(r=a.sent(),wf(r))return[2,r];a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.d_.xd(r)];case 3:return[4,(e=a.sent()).wd()];case 4:return u=a.sent(),s=FS(t,void 0),[4,RS(i.dC,new g(u),s,e,n)];case 5:return[2,a.sent()];case 6:throw Oc(o=a.sent()),new vp(Hl.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",o);case 7:return[2]}}))}))()},i.fR=function(t,n){var i=this;return ta((function(){var r,e,u,s,o;return ia(this,(function(a){switch(a.label){case 0:return r=i.KI(t,dw.$v,Xw.Gd,n),[4,NS(i.dC,r,i.lC,n)];case 1:if((e=a.sent())instanceof ArrayBuffer)return[2,new g(e)];if(""===e.Md)throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.d_.xd(e)];case 3:return[4,(u=a.sent()).wd(n)];case 4:return s=a.sent(),[4,PS(i.dC,s,r,u,i.lC,n)];case 5:return[2,a.sent()];case 6:throw Oc(o=a.sent()),new vp(Hl.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o);case 7:return[2]}}))}))()},i.rC=function(n){var i;return this.lC=n,(null==(i=this.dC)?void 0:i.extractFairplayContentId)?j.resolve(this.dC.extractFairplayContentId(n)):t.prototype.rC.call(this,n)},n}(QT),jS=function(){function t(){}var n=t.prototype;return n.wC=function(t,n,i,r){switch(t.Ff.$u){case da.Qu:return this._C(n,i,r);case da.Yu:return this.gC(n,i,r);case da.Ku:return this.mC(t,n,i,r);case da.Zu:default:return this.yC(n,i,r)}},n._C=function(t,n,i){var r=function(t){return t.integration===Lb&&ce(t.customIntegrationId)}(t)?t.customIntegrationId:t.integration;if(r&&jb.IR.bR(r,ka)){var e=jb.IR.ER(r,ka,t);return new WS(t,n,i,e)}switch(r){case Ab:return new pT(t,n,i);case Sb:return new AT(t,n,i);case Tb:return new bT(t,n,i);case kb:return new ET(t,n,i);case Rb:return new NT(t,n,i);case Nb:return new DT(t,n,i);case Db:return new OT(t,n,i);case Bb:return new xT(t,n,i);case Ib:default:return new TS(t,n,i,dw.$v)}},n.gC=function(t,n,i){var r=t.integration;if(r&&jb.IR.bR(r,ya)){var e=jb.IR.ER(r,ya,t);return new VS(t,n,i,e)}switch(r){case Ab:return new UT(t,n,i);case Sb:return new XT(t,n,i);case Tb:return new zT(t,n,i);case kb:return new VT(t,n,i);case Rb:return new qT(t,n,i);case Db:return new GT(t,n,i);case Bb:return new YT(t,n,i);case Ib:default:return new MT(t,n,i)}},n.mC=function(t,n,i,r){var e=n.integration;if(e&&jb.IR.bR(e,Ia)){var u=jb.IR.ER(e,Ia,n);return new GS(t,n,i,r,u)}switch(e){case bb:return new ZT(t,n,i,r);case Sb:return new KT(t,n,i,r);case Eb:return new tS(t,n,i,r);case Ab:return new nS(t,n,i,r);case Tb:return new iS(t,n,i,r);case kb:return new rS(t,n,i,r);case Ib:return new eS(t,n,i,r);case Rb:return new uS(t,n,i,r);case Cb:return new sS(t,n,i,r);case Nb:return new oS(t,n,i,r);case Db:return new aS(t,n,i,r);case Pb:return new cS(t,n,i,r);case Bb:return new fS(t,n,i,r);case Ob:return new hS(t,n,i,r);case xb:return new kS(t,n,i,r);default:return new QT(t,n,i,r,dw.ed)}},n.yC=function(t,n,i){return new bS(t,n,i)},n.pC=function(t){return t.$u===da.Yu||t.$u===da.Qu||t.$u===da.Ku||t.$u===da.Zu},n.Kf=function(t,n){var i;if(t.$u!==da.Yu)return!1;if(re(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!jb.IR.bR(r,Ia))&&(r===Ab&&new FT(n).Kf)},n.xR=function(t,n){if(t.$u===da.Qu){var i=n.integration;if(!i||!jb.IR.bR(i,Ia))return i===Ab?pT.xR():void 0}},t}();yr(),zt(),yr(),zt(),function(t){t[t.AC=0]="AC",t[t.kC=1]="kC",t[t.bC=2]="bC",t[t.TC=3]="TC",t[t.SC=4]="SC",t[t.Kg=5]="Kg",t[t.EC=6]="EC",t[t.IC=7]="IC",t[t.tm=8]="tm",t[t.RC=9]="RC",t[t.NC=10]="NC"}(qS||(qS={})),yr(),zt(),kr();var YS=function(){function t(){}return t.prototype.DC=function(t){},Ar(t,[{key:"BC",get:function(){return 0}},{key:"OC",get:function(){return 0}}]),t}();yr(),zt();var QS=function(){function t(t,n){void 0===n&&(n=new jS),this.HR=void 0,this.vI=t,this.xC=n}var n=t.prototype;return n.LC=function(t){this.HR=t},n.xR=function(t){var n=this.HR;if(void 0!==n)return this.xC.xR(t,n)},n.Kf=function(t){var n=this.HR;return void 0!==n&&this.xC.Kf(t,n)},n.MC=function(t){var n={Ff:t.Ff,FC:t.FC||[],UC:t.UC,$R:t.$R},i=this.xC.wC(n,this.HR||{},t.XI,this.vI);return n.UC&&i.GI(n.UC),new ZS(i)},t}(),ZS=function(){function t(t){this.HC=t}var n=t.prototype;return n.YI=function(t){return this.HC.YI(t)},n.QI=function(t,n,i){return this.HC.QI(n,i)},n.aR=function(){return this.HC.aR||void 0!==this.HC.oR},n.cR=function(t,n){return this.HC.cR(t,n)},n.fR=function(t,n,i){return n&&this.HC.GI(n),this.HC.fR(t,i)},n.Ds=function(){this.HC.Bh()},t}();yr(),zt();var KS=function(t){function n(n){var i;(i=t.call(this)||this).XC=[],i.zC=function(t){i.q_(t.A_)},i.VC=function(t){var n=t.A_;i.WC(n)||i.G_(n)};for(var r=0;r<n.length;r++){var e=n[r];i.qC(e)}return i}zr(n,t);var i=n.prototype;return i.qC=function(t){this.XC.push(t);for(var n=0,i=t.Y_;n<i.length;n++){var r=i[n];this.q_(r)}this.GC(t)},i.jC=function(t){hc(this.XC,t),this.YC(t);for(var n=0,i=t.Y_;n<i.length;n++){var r=i[n];this.WC(r)||this.G_(r)}},i.WC=function(t){for(var n=0,i=this.XC;n<i.length;n++){if(i[n].j_(t))return!0}return!1},i.GC=function(t){t.js(Og.l_,this.zC),t.js(Og.__,this.VC)},i.YC=function(t){t.Ks(Og.l_,this.zC),t.Ks(Og.__,this.VC)},i.Bh=function(){for(;this.XC.length>0;)this.jC(this.XC[0]);t.prototype.Bh.call(this)},i.p_=function(){return Fm(this)},n}(um);function JS(t){return{get enabled(){return t.fg},set enabled(n){t.fg=_m(n)},get currentLatency(){return t.Wm},get streamConfiguration(){if(void 0!==t.QC)return function(t){return{get minimumOffset(){return t.xm},get maximumOffset(){return t.Mm},get targetOffset(){return t.Lm},get forceSeekOffset(){return t.Fm},get minimumPlaybackRate(){return t.Um},get maximumPlaybackRate(){return t.Hm}}}(t.QC)},get configuration(){return function(t){return{get minimumOffset(){return t.xm},set minimumOffset(n){t.xm=mm(n)},get maximumOffset(){return t.Mm},set maximumOffset(n){t.Mm=mm(n)},get targetOffset(){return t.Lm},set targetOffset(n){t.Lm=mm(n)},get forceSeekOffset(){return t.Fm},set forceSeekOffset(n){t.Fm=mm(n)},get minimumPlaybackRate(){return t.Um},set minimumPlaybackRate(n){t.Um=mm(n)},get maximumPlaybackRate(){return t.Hm},set maximumPlaybackRate(n){t.Hm=mm(n)},update:function(n){t.Df(function(t){var n={};void 0!==t.minimumOffset&&(n.xm=mm(t.minimumOffset));void 0!==t.maximumOffset&&(n.Mm=mm(t.maximumOffset));void 0!==t.targetOffset&&(n.Lm=mm(t.targetOffset));void 0!==t.forceSeekOffset&&(n.Fm=mm(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.Um=mm(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.Hm=mm(t.maximumPlaybackRate));return n}(n))}}}(t.Uf)}}}yr(),zt(),kr(),yr(),zt();var $S,tE=function(){function t(){this.ZC={Fm:0,Mm:0,Hm:0,xm:0,Um:0,Lm:0,Df:le}}return Ar(t,[{key:"y_",get:function(){return null!=this.m_||(this.m_=JS(this)),this.m_}},{key:"fg",get:function(){return!1},set:function(t){}},{key:"Wm",get:function(){}},{key:"QC",get:function(){}},{key:"Uf",get:function(){return this.ZC}}]),t}();function nE(){return $S||($S=mo&&mo.document&&mo.document.createElement("video")),$S}var iE=!(!mo||!mo.TextTrack),rE=function(t){function n(n,i,r,e,u,s,o){var a;return void 0===s&&(s=new jS),void 0===o&&(o=sw()),(a=t.call(this)||this).KC=void 0,a.JC=void 0,a.$C=void 0,a.tN=new YS,a.nN=new tE,a.iN=function(t){var n=t.Ao,i=n.code,r=new Wl(function(t){switch(t){case 1:return Hl.MEDIA_ABORTED;case 2:return Hl.NETWORK_ERROR;case 3:return Hl.MEDIA_DECODE_ERROR;case 4:return Hl.SOURCE_NOT_SUPPORTED;case 5:return Hl.CONTENT_PROTECTION_ERROR;case 6:return Hl.LICENSE_ERROR;case 7:return Hl.AD_ERROR}}(i),"Something went wrong during native playback.",n),e=new dp(i,r.message,n.message);a.rN(r,e)},a.eN=function(){a.qs(new Ry(a.Tm,a.zy))},a.uN=function(t){a.Cm||(a.sN=void 0),a.qs(t)},a.oN=function(t){a.sN=void 0},a.aN=function(){a.qs(new Bp(a.Wy))},a.cN=function(){a.Bm>0&&a.Pm>0&&a.qs(new wb)},a.fN=function(t){a.$m.q_(new Rp(t.track))},a.hN=function(t){var n=uE(a.$m,t.track);n&&a.$m.G_(n)},a.vN=function(){a.dN(a.$m)},a.lN=function(t){a.iy.q_(new Np(t.track))},a.wN=function(t){var n=uE(a.iy,t.track);n&&a.iy.G_(n)},a._N=function(){a.dN(a.iy)},a.gN=function(t){a.qs(t),a.rN(t.errorObject,wp(t.errorObject))},a.mN=i,a.vI=r,a._s=o,a.yN=a.mN.pN(Hy.il),a.AN=a.yN.kN.preload,a.bN=new yb(a.yN,!0),a.bN.js(Ty,a.Ws),a.TN=new QS(r,s),a.yN.SN=a.TN,a.EN(),a.$m=new _p,a.iy=new _p,a.IN(),a.RN=new ab(a.yN,a.vI),a.ey=new KS([a.yN.wy]),a.Ny(),a}zr(n,t);var i=n.prototype;return i.Dy=function(){this.yN.Dy()},i.Ny=function(){this.yN.Ny()},i.by=function(t,n,i){var r=this;return ta((function(){var e;return ia(this,(function(u){switch(u.label){case 0:return Bc(i),e={$u:lb.yI,Hg:t.src,md:t.type,CN:r.NN(t),tp:r.AN,DN:t.crossOrigin,PN:n.metadata&&n.metadata.title},r.TN.LC(t.contentProtection),[4,r.yN.Cf(e)];case 1:return r.KC=u.sent(),Bc(i),n.textTracks&&r.BN(n.textTracks),db(r.wy),[2]}}))}))()},i.BN=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.yN.ON()&&te.wr&&iE&&!nb(i.kind,i.label)&&this.xN(i)){var r,e=null!=(r=i.kind)?r:zk.Ob;this.yN.LN(i.src,e,i.label,i.srclang,i.default)}else{if(void 0===i.src)continue;this.RN.dI(i)}}},i.xN=function(t){return!t.format||"webvtt"===t.format},i.gy=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.yN.gy()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return t.MN?[3,5]:[4,t.yN.oo(vw.xv)];case 4:return n.sent(),[3,3];case 5:return[2]}}))}))()},i.yy=function(){this.yN.yy()},i.Ty=function(){return void 0!==this.yN.kN.webkitShowPlaybackTargetPicker},i.Sy=function(){this.yN.kN.webkitShowPlaybackTargetPicker&&this.yN.kN.webkitShowPlaybackTargetPicker()},i.Ey=function(){this.yN.kN.webkitShowPlaybackTargetPicker&&this.yN.kN.webkitShowPlaybackTargetPicker()},i.Py=function(){return this.yN.kN},i.By=function(){return this.yN.FN},i.Wf=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t.JC=void 0,t.$C=void 0,t.KC=void 0,[4,t.RN.Wf()];case 1:return n.sent(),t.yN.UN(),[4,t.yN.Wf()];case 2:return n.sent(),t.bN.Wf(),t.tp=t.AN,t.vy.Wf(),t.ly.Wf(),t.sN=void 0,[2]}}))}))()},i.Bh=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return[4,t.Wf()];case 1:return n.sent(),t.Zs(),t.HN(),t.XN(),t.bN.Bh(),t.yN.SN=void 0,[4,t.mN.zN(t.yN)];case 2:return n.sent(),t.$m.Bh(),t.iy.Bh(),t.ey.Bh(),[4,t.RN.Bh()];case 3:return n.sent(),[2]}}))}))()},i.EN=function(){this.yN.js(vw.Ov,this.Ws),this.yN.js(vw.Bv,this.Ws),this.yN.js(vw.Yv,this.eN),this.yN.js(vw.xv,this.Ws),this.yN.js(vw.Rv,this.Ws),this.yN.js(vw.Hv,this.Ws),this.yN.js(vw.Uv,this.uN),this.yN.js(vw.pv,this.Ws),this.yN.js(vw.Lv,this.Ws),this.yN.js(vw.Qv,this.Ws),this.yN.js(vw.mv,this.Ws),this.yN.js(vw.Fv,this.cN),this.yN.js(ky.Am,this.oN),this.yN.js(Pm.Cg,this.iN),this.yN.js(vw.vv,this.Ws),this.yN.js(vw.hv,this.gN),this.yN.kN.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.aN)},i.HN=function(){this.yN.Ks(vw.Ov,this.Ws),this.yN.Ks(vw.Bv,this.Ws),this.yN.Ks(vw.Yv,this.eN),this.yN.Ks(vw.xv,this.Ws),this.yN.Ks(vw.Rv,this.Ws),this.yN.Ks(vw.Hv,this.Ws),this.yN.Ks(vw.Uv,this.uN),this.yN.Ks(vw.pv,this.Ws),this.yN.Ks(vw.Lv,this.Ws),this.yN.Ks(vw.Qv,this.Ws),this.yN.Ks(vw.mv,this.Ws),this.yN.Ks(vw.Fv,this.cN),this.yN.Ks(ky.Am,this.oN),this.yN.Ks(Pm.Cg,this.iN),this.yN.Ks(vw.vv,this.Ws),this.yN.Ks(vw.hv,this.gN),this.yN.kN.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.aN)},i.NN=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Ff:Pa,VN:[{initDataTypes:[Pa.us],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.IN=function(){var t=this.yN.kN.audioTracks,n=this.yN.kN.videoTracks;t&&(t.addEventListener("addtrack",this.fN),t.addEventListener("removetrack",this.hN),t.addEventListener("change",this.vN)),n&&(n.addEventListener("addtrack",this.lN),n.addEventListener("removetrack",this.wN),n.addEventListener("change",this._N))},i.XN=function(){var t=this.yN.kN.audioTracks,n=this.yN.kN.videoTracks;t&&(t.removeEventListener("addtrack",this.fN),t.removeEventListener("removetrack",this.hN),t.removeEventListener("change",this.vN)),n&&(n.removeEventListener("addtrack",this.lN),n.removeEventListener("removetrack",this.wN),n.removeEventListener("change",this._N))},i.dN=function(t){for(var n=0;n<t.Q_;n++){t.W_(n).vp()}},i.Uy=function(){this.yN.Uy()},i.Hy=function(){},i.rN=function(t,n){this.JC||(this.JC=n,this.$C=t,this.qs(new My(t)))},Ar(n,[{key:"MN",get:function(){var t=this.yN.Xy,n=this.Tm;return t.WN(n,.01)}},{key:"vy",get:function(){return this.$m}},{key:"Xy",get:function(){return this.yN.Xy.qN()}},{key:"zy",get:function(){return this.yN.zy},set:function(t){t&&this.yN.GN(t)}},{key:"Tm",get:function(){return void 0!==this.sN?this.sN:this.yN.Tm},set:function(t){this.Wy&&(this.sN=t),this.yN.Uo(t)}},{key:"Sm",get:function(){return this.yN.Sm}},{key:"Em",get:function(){return this.yN.Em}},{key:"Ao",get:function(){return this.JC}},{key:"Im",get:function(){return this.$C}},{key:"_y",get:function(){}},{key:"Wy",get:function(){return this.yN.Wy}},{key:"qy",get:function(){return na({},{Gy:0,jy:0,Yy:0,Qy:0,Zy:0,Ky:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.yN.jN())}},{key:"Rm",get:function(){return this.yN.Rm},set:function(t){this.yN.Rm=t}},{key:"Jy",get:function(){return!0}},{key:"Cm",get:function(){return this.yN.Cm}},{key:"Nm",get:function(){return this.yN.Nm},set:function(t){this.yN.Nm=t}},{key:"$y",get:function(){return this.yN.kN.played}},{key:"tp",get:function(){return this.AN},set:function(t){this.AN=t,this.KC&&(this.KC.tp=t)}},{key:"Mg",get:function(){return this.yN.Mg}},{key:"np",get:function(){return this.yN.np.qN()}},{key:"Dm",get:function(){return this.yN.Dm}},{key:"YN",get:function(){return this.yN.YN}},{key:"wy",get:function(){return this.ey}},{key:"ly",get:function(){return this.iy}},{key:"Pm",get:function(){return this.yN.Pm}},{key:"Bm",get:function(){return this.yN.Bm}},{key:"Om",get:function(){return this.yN.Om},set:function(t){this.yN.Om=t}},{key:"ip",get:function(){return this.nN}},{key:"rp",get:function(){return this.yN.rp},set:function(t){this.yN.rp=t}},{key:"QN",get:function(){return this.tN}}]),n}(Hm);var eE=function(){function t(){this.ZN=qS.NC}var n=t.prototype;return n.yR=function(t,n,i,r,e,u){return new rE(t,n,i,r,e)},n.KN=function(t,n){return function(t){return!t.type||!(!nE().canPlayType||!nE().canPlayType(t.type))}(t)},n.JN=function(){return!1},t}();function uE(t,n){for(var i=0,r=t.Y_;i<r.length;i++){var e=r[i];if(e.wp===n)return e}}var sE=function(){function t(){this.$N=new eE,this.tD=[]}var n=t.prototype;return n.nD=function(t){this.tD.push(t)},n.yR=function(t,n,i,r,e,u){for(var s=this.$N.yR(t,n,i,r,e,u),o=0,a=this.tD;o<a.length;o++){s=(0,a[o])(s,i,r)}return s},n.KN=function(t,n){return this.$N.KN(t,n)},n.JN=function(){return!1},t.iD=function(){return this.$r},Ar(t,[{key:"ZN",get:function(){return this.$N.ZN}}]),t}();function oE(t,n){return ec(t.ZN,n.ZN)}function aE(t){cE.$r.rD(t)}sE.$r=new sE,yr(),zt(),yr(),zt();var cE=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).eD=sE.iD(),n}zr(n,t);var i=n.prototype;return i.uD=function(t){this.eD=t},i.sD=function(){return this.eD},i.oD=function(t,n){var i=this;return ta((function(){var r,e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:r=0,c.label=1;case 1:return r<t.length?(e=t[r],[4,i.aD(e,n)]):[3,4];case 2:if(u=c.sent())return[2,{cD:e,fD:u}];c.label=3;case 3:return r++,[3,1];case 4:for(s=i.eD,o=0;o<t.length;o++)if(a=t[o],s.KN(a,n))return[2,{cD:a,fD:s}];return[2,{cD:t[0],fD:s}]}}))}))()},n}(function(){function t(){this.hD=[]}var n=t.prototype;return n.rD=function(t){this.hD.push(t),this.hD.sort(oE)},n.aD=function(t,n){var i=this;return ta((function(){var r,e,u,s,o;return ia(this,(function(a){switch(a.label){case 0:r=0,e=i.hD,a.label=1;case 1:return r<e.length?(u=e[r],he(s=u.KN(t,n))?[4,s]:[3,3]):[3,6];case 2:return o=a.sent(),[3,4];case 3:o=Boolean(s),a.label=4;case 4:if(o)return[2,u];a.label=5;case 5:return r++,[3,1];case 6:return[2,void 0]}}))}))()},t}());cE.$r=new cE,yr(),zt();var fE,hE=function(){function t(t){this.vD=mo&&mo.document&&mo.document.createElement("div"),Ro(this.vD),t.appendChild(this.vD)}return t.prototype.Bh=function(){To(this.vD)},t}();function vE(t){switch(t){case"auto":case"":return"auto";case"metadata":return"metadata";case"none":default:return"none"}}yr(),zt(),kr(),yr(),zt(),function(t){t.NC="",t.dD="none",t.Lb="metadata",t.lD="auto"}(fE||(fE={}));var dE=[Pm.Cg,vw.yv,vw.To,vw.Jv,vw.ev,vw.Av,vw.Dv,vw.Pv,vw.zv,vw.Wv,ky.wm,ky._m,ky.gm,ky.ym,ky.O_,ky.pm,ky.Am,vw.hv,vw.vv,vw.mv,vw.pv,vw.Rv,vw.Cv,vw.Ov,vw.xv,vw.Bv,vw.Lv,vw.Fv,vw.Hv,vw.Uv,vw.Yv,vw.Qv,vw.Mv,vw.Nv,vw.Xv],lE=function(t){function n(n,i){var r;return(r=t.call(this)||this).wD=void 0,r._D=void 0,r.AN=fE.dD,r.gD=void 0,r.mD=!0,r.$m=new Bm,r.iy=new Bm,r.ey=new Um,r.uy=new cp,r.yD=n,r.pD=i,r.pD.tp=r.tp,r.kD(),r}zr(n,t);var i=n.prototype;return i.yy=function(){this.pD.yy()},i.gy=function(){var t=this.pD.gy();he(t)&&Xc(t)},i.py=function(){return this.by(void 0)},i.Iy=function(){},i.xy=function(t){return!1},i.kD=function(){this.$m.og=this.pD.vy,this.iy.og=this.pD.ly,this.ey.og=this.pD.wy,this.uy.og=this.pD._y,this.pD.js(dE,this.Ws)},i.bD=function(){this.pD.Ks(dE,this.Ws),this.$m.og=void 0,this.iy.og=void 0,this.ey.og=void 0,this.uy.og=void 0},i.Ay=function(){return this.gD},i.by=function(t,n){var i=this;return ta((function(){var r,e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:return Bc(n),i.gD=t,t?ly(r=t.sources.filter(yy))?[2]:[4,i.yD.oD(r,t)]:[2];case 1:return e=c.sent(),Bc(n),u=e.cD,s=e.fD,o=i.By(),a=Yy(i),i.wD!==s||i.Ao?(i.bD(),[4,i.pD.Bh()]):[3,3];case 2:c.sent(),Bc(n),i.wD=s,i.pD=i.TD(s),function(t,n){t.Rm!==n.Rm&&(t.Rm=n.Rm);t.Om!==n.Om&&(t.Om=n.Om);t.Nm!==n.Nm&&(t.Nm=n.Nm)}(i.pD,a),Qy(i,a,i),i.kD(),c.label=3;case 3:return i.pD.tp=i.tp,i.mD?i.pD.Ny():i.pD.Dy(),[4,i.pD.by(u,t,n)];case 4:return c.sent(),Bc(n),i.SD(u),i.By()!==o&&i.qs(new zm),[2]}}))}))()},i.SD=function(t){this._D!==t&&(this._D=t,this.qs(new Vm(t)))},i.Ty=function(){return this.pD.Ty()},i.Sy=function(){this.pD.Sy()},i.Ey=function(){this.pD.Ey()},i.By=function(){return this.pD.By()},i.Uy=function(){this.pD.Uy()},i.Hy=function(){this.pD.Hy()},i.Wf=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t.gD=void 0,t.SD(void 0),[4,t.pD.Wf()];case 1:return n.sent(),[2]}}))}))()},i.Bh=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t.Zs(),[4,t.Wf()];case 1:return n.sent(),[4,t.pD.Bh()];case 2:return n.sent(),t.$m.Bh(),t.iy.Bh(),t.ey.Bh(),t.uy.Bh(),[2]}}))}))()},i.Ny=function(){this.mD=!0,this.pD.Ny()},i.Dy=function(){this.mD=!1,this.pD.Dy()},Ar(n,[{key:"vy",get:function(){return this.$m}},{key:"Xy",get:function(){return this.pD.Xy}},{key:"Ao",get:function(){return this.pD.Ao}},{key:"Im",get:function(){return this.pD.Im}},{key:"zy",get:function(){return this.pD.zy},set:function(t){this.pD.zy=t}},{key:"Fy",get:function(){return this._D}},{key:"Tm",get:function(){return this.pD.Tm},set:function(t){this.pD.Tm=t}},{key:"Sm",get:function(){return this.pD.Sm}},{key:"Em",get:function(){return this.pD.Em}},{key:"_y",get:function(){return this.uy}},{key:"Wy",get:function(){return this.pD.Wy}},{key:"qy",get:function(){return this.pD.qy}},{key:"Rm",get:function(){return this.pD.Rm},set:function(t){this.pD.Rm=t}},{key:"Jy",get:function(){return this.pD.Jy}},{key:"Cm",get:function(){return this.pD.Cm}},{key:"Nm",get:function(){return this.pD.Nm},set:function(t){this.pD.Nm=t}},{key:"$y",get:function(){return this.pD.$y}},{key:"tp",get:function(){return this.AN},set:function(t){this.AN=t,this.pD&&(this.pD.tp=this.AN)}},{key:"Mg",get:function(){return this.pD.Mg}},{key:"np",get:function(){return this.pD.np}},{key:"Dm",get:function(){return this.pD.Dm}},{key:"wy",get:function(){return this.ey}},{key:"Pm",get:function(){return this.pD.Pm}},{key:"ly",get:function(){return this.iy}},{key:"Bm",get:function(){return this.pD.Bm}},{key:"Om",get:function(){return this.pD.Om},set:function(t){this.pD.Om=t}},{key:"ip",get:function(){return this.pD.ip}},{key:"QN",get:function(){return this.pD.QN}}]),n}(Gc);function wE(t,n,i){return i?t<=n:t<n}yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),kr();var _E,gE=function(){function t(t,n){this.Q_=t.length>>1,this.ED=t,this.RD=n||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(this.Q_)}var n=t.prototype;return n.CD=function(t){return this.ED[2*t]},n.ND=function(t){return this.ED[2*t+1]},n.DD=function(t){return this.RD[2*t]},n.PD=function(t){return this.RD[2*t+1]},n.qN=function(){var t=this;return{get length(){return t.Q_},start:function(n){var i=0|n;return t.BD(i),t.CD(i)},end:function(n){var i=0|n;return t.BD(i),t.ND(i)}}},n.OD=function(){for(var n=new Array(2*this.Q_),i=new Array(2*this.Q_),r=0;r<this.Q_;r++)n[2*r]=this.CD(r),n[2*r+1]=this.ND(r),i[2*r]=!0,i[2*r+1]=!0;return new t(n,i)},n.BD=function(t){if(t<0)throw new f("The index provided ("+t+") must be non-negative");if(t>=this.Q_)throw new f("The index provided ("+t+") is greater than the maximum bound ("+this.Q_+")")},n.xD=function(t){if(0===this.Q_)return 0;if(this.WN(t))return t;if(t<=this.CD(0))return this.CD(0);if(t>=this.ND(this.Q_-1))return this.ND(this.Q_-1);for(var n,i=1/0,r=0;r<this.Q_;r++){var e=this.CD(r),u=d.abs(e-t);u<i&&(n=e,i=u);var s=this.ND(r),o=d.abs(s-t);o<i&&(n=s,i=o)}return n},n.LD=function(n){for(var i=0,r=0,e=[],u=[];i<this.Q_&&r<n.Q_;){var s=this.CD(i),o=this.ND(i),a=this.DD(i),c=this.PD(i),f=n.CD(r),h=n.ND(r),v=n.DD(r),l=n.PD(r),w=d.max(s,f),_=d.min(o,h),g=void 0;g=s===f?a&&v:w===s?a:v;var m=void 0;m=o===h?c&&l:_===o?c:l,(w<_||g&&m&&w===_)&&(e.push(w,_),u.push(g,m)),o===h?(i+=1,r+=1):o<h?i+=1:r+=1}return new t(e,u)},n.MD=function(){var n=this.FD(),i=n.Q_;if(0===i)return new t([-1/0,1/0],[!1,!1]);var r=[],e=[],u=n.CD(0);u!==-1/0&&(r.push(-1/0,u),e.push(!1,!n.DD(0)));for(var s=0;s<i-1;s++)r.push(n.ND(s),n.CD(s+1)),e.push(!n.PD(s),!n.DD(s+1));var o=n.ND(i-1);return o!==1/0&&(r.push(o,1/0),e.push(!n.PD(i-1),!1)),new t(r,e)},n.UD=function(n){for(var i=0,r=0,e=this.Q_,u=n.Q_,s=new Array(2*(e+u)),o=new Array(2*(e+u)),a=0;i<e&&r<u;){var c=this.CD(i),f=this.ND(i),h=n.CD(r),v=n.ND(r);c<h||c===h&&f<v?(s[a]=c,s[a+1]=f,o[a]=this.DD(i),o[a+1]=this.PD(i),i++):(s[a]=h,s[a+1]=v,o[a]=n.DD(r),o[a+1]=n.PD(r),r++),a+=2}for(;i<e;)s[a]=this.CD(i),s[a+1]=this.ND(i),o[a]=this.DD(i),o[a+1]=this.PD(i),i++,a+=2;for(;r<u;)s[a]=n.CD(r),s[a+1]=n.ND(r),o[a]=n.DD(r),o[a+1]=n.PD(r),r++,a+=2;return new t(s,o)},n.HD=function(n){void 0===n&&(n=0);var i=this.Q_;if(i<2)return this;for(var r=[],e=[],u=this.CD(0),s=this.ND(0),o=this.DD(0),a=this.PD(0),c=1;c<i;c++){var f=this.CD(c),h=this.ND(c),v=this.DD(c),d=this.PD(c);u<f&&s>h||(u===f&&(o=v=o||v),s===h&&(a=d=a||d),wE(f,s+n,a||v)?(s=h,a=d):(r.push(u,s),e.push(o,a),u=f,s=h,o=v,a=d))}return r.push(u,s),e.push(o,a),new t(r,e).FD()},n.FD=function(){for(var n=[],i=[],r=0;r<this.Q_;r++){var e=this.CD(r),u=this.ND(r),s=this.DD(r),o=this.PD(r);e===u?(s||o)&&(n.push(e,u),i.push(!0,!0)):(n.push(e,u),i.push(s,o))}return new t(n,i)},n.XD=function(t){return this.Q_?t.Q_?this.UD(t).HD():this:t},n.zD=function(t){var n=this.FD(),i=t.FD(),r=n.MD(),e=i.MD(),u=r.LD(i),s=e.LD(n);return u.XD(s)},n.Mo=function(n){if(0===n)return this;for(var i=[],r=[],e=0;e<this.Q_;e++){var u=this.CD(e)+n,s=this.ND(e)+n;i.push(u,s),r.push(this.DD(e),this.PD(e))}return new t(i,r)},n.VD=function(t){return 0===this.Q_||0===t.Q_?this:this.FD().LD(t.FD().MD())},n.WN=function(t,n){return this.WD(t,n)>=0},n.qD=function(t,n,i,r,e){return this.GD(t,n,i,r,e)>=0},n.jD=function(t,n,i,r,e){return this.YD(t,n,i,r,e)>=0},n.QD=function(t){if(t.Q_!==this.Q_)return!1;for(var n=0;n<this.Q_;n++)if(this.CD(n)!==t.CD(n)||this.ND(n)!==t.ND(n)||this.DD(n)!==t.DD(n)||this.PD(n)!==t.PD(n))return!1;return!0},n.ZD=function(n){for(var i=[],r=[],e=0;e<this.Q_;e++){var u=this.CD(e),s=this.ND(e),o=this.DD(e),a=this.PD(e);n(u,s,o,a)&&(i.push(u,s),r.push(o,a))}return new t(i,r)},n.YD=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=0);for(var u=t-e,s=n+e,o=0;o<this.Q_;o+=1)if(wE(this.CD(o),s,!r||this.DD(o))&&wE(u,this.ND(o),!i||this.PD(o)))return o;return-1},n.GD=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=0);for(var u=t+e,s=n-e,o=0;o<this.Q_;o+=1)if(wE(this.CD(o),u,!i||this.DD(o))&&wE(s,this.ND(o),!r||this.PD(o)))return o;return-1},n.WD=function(t,n){return this.GD(t,t,!0,!0,n)},n.KD=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=this.Q_-1;r>=0;r-=1)if(wE(this.CD(r),i,this.DD(r)))return r;return-1},n.JD=function(t,n){void 0===n&&(n=0);for(var i=t-n,r=0;r<this.Q_;r+=1)if(wE(i,this.ND(r),this.PD(r)))return r;return-1},n.$D=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=0;r<this.Q_;r+=1)if(this.CD(r)>i)return r;return-1},n.tP=function(n){return this.BD(n),new t([this.CD(n),this.ND(n)],[this.DD(n),this.PD(n)])},n.nP=function(t,n){var i=this.WD(t,n);return i<0?void 0:this.tP(i)},t.iP=function(n){for(var i=[],r=0;r<n.length;r++)i.push(n.start(r),n.end(r));return new t(i)},t.rP=function(n){return new t([n,n],[!0,!0])},t.eP=function(n,i){return n<=i?new t([n,i]):t.uP()},t.uP=function(){return mE},Ar(t,[{key:"sP",get:function(){return this.ED.slice()}},{key:"oP",get:function(){for(var t=0,n=0;n<this.Q_;n++){t+=this.ND(n)-this.CD(n)}return t}}]),t}(),mE=new gE([]);yr(),zt(),kr(),yr(),zt(),yr(),zt(),function(t){t.P_="fullscreenchange",t.aP="fullscreensupportchange",t.Cg="fullscreenerror"}(_E||(_E={}));var yE=function(t){function n(){return t.call(this,_E.Cg)}return zr(n,t),n}(Qc),pE=new(function(t){function n(){return t.apply(this,arguments)}zr(n,t);var i=n.prototype;return i.pp=function(){this.qs(new yE)},i.kp=function(){},i.Bh=function(){this.Zs()},Ar(n,[{key:"cP",get:function(){return!1}},{key:"fP",get:function(){return!1}}]),n}(Gc)),AE=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).mN=void 0,n.yN=void 0,n}zr(n,t);var i=n.prototype;return i.Py=function(){var t;return null==(t=this.yN)?void 0:t.kN},i.Bh=function(){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return[4,t.prototype.Bh.call(n)];case 1:return i.sent(),n.yN?[4,n.mN.zN(n.yN)]:[3,3];case 2:i.sent(),n.yN=void 0,i.label=3;case 3:return[2]}}))}))()},Ar(n,[{key:"hP",set:function(t){this.mN=t,this.yN=t.pN(Hy.il)}}]),n}(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).vP=0,n.dP=!1,n.lP=!0,n.wP=1,n._P=!1,n.wc=1,n.vy=new _p,n.Xy=gE.uP().qN(),n.Sm=NaN,n.Em=!1,n.Ao=void 0,n.Im=void 0,n._y=void 0,n.Wy=!1,n.Jy=!0,n.$y=gE.uP().qN(),n.tp=fE.dD,n.Mg=ty.fm,n.np=gE.uP().qN(),n.YN=void 0,n.wy=new Vk,n.Pm=0,n.ly=new _p,n.Bm=0,n.ip=new tE,n.tN=new YS,n}zr(n,t);var i=n.prototype;return i.Ny=function(){},i.Dy=function(){},i.gy=function(){this.lP&&(this.lP=!1,this.qs(new by(this.Tm)),this.qs(new _b(this.Tm)))},i.yy=function(){this.lP||(this.lP=!0,this.qs(new Ry(this.Tm,this.zy)),this.qs(new Ay(this.Tm)))},i.by=function(t,n){return j.resolve()},i.Ty=function(){return!1},i.Sy=function(){},i.Ey=function(){},i.By=function(){return pE},i.Uy=function(){},i.Hy=function(){},i.Wf=function(){var t=this;return ta((function(){return ia(this,(function(n){return t.vP=0,t._P=!1,t.yy(),t.qs(new py(t.vP)),[2]}))}))()},i.Bh=function(){var t=this;return ta((function(){return ia(this,(function(n){return t.Zs(),t.vy.Bh(),t.wy.Bh(),t.ly.Bh(),[2]}))}))()},Ar(n,[{key:"zy",get:function(){},set:function(t){}},{key:"Tm",get:function(){return this.vP},set:function(t){this.vP!==t&&(this.vP=t,this._P=!0,this.qs(new Dy(this.Tm)))}},{key:"qy",get:function(){return{Gy:0,jy:0,Yy:0,Qy:0,Zy:0,Ky:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Rm",get:function(){return this.dP},set:function(t){this.dP!==t&&(this.dP=t,this.qs(new By(this.Tm,this.Om)))}},{key:"Cm",get:function(){return this.lP}},{key:"Nm",get:function(){return this.wP},set:function(t){this.wP!==t&&(this.wP=t,this.qs(new Iy(this.Tm,this.Nm)))}},{key:"Dm",get:function(){return this._P}},{key:"Om",get:function(){return this.wc},set:function(t){this.wc!==t&&(this.wc=t,this.qs(new By(this.Tm,this.Om)))}},{key:"rp",get:function(){return!1},set:function(t){}},{key:"QN",get:function(){return this.tN}}]),n}(Gc)),kE=function(t){function n(n,i,r,e,u,s){var o,a=new AE;return(o=t.call(this,cE.$r,a)||this).gP=n,o.wh=i,o.vI=r,o.mP=e,o.yP=s,o.pP=new wo(u,o.yP),o.pP.AP(o.gP),a.hP=o.pP,o.kP=new hE(o.gP),o}zr(n,t);var i=n.prototype;return i.Iy=function(){t.prototype.Iy.call(this),this.pP.bP()},i.Ry=function(t){!function(t,n){var i=n.Om,r=n.Rm;t.Om=i,t.Rm=r}(this,t)},i.Cy=function(){},i.TD=function(t){return t.yR(this.gP,this.pP,this.vI,this.wh,this.mP,this.yP)},i.Py=function(){return this.pD.Py()},i.Oy=function(){return this.pP.TP.map((function(t){return t.kN}))},i.Qs=function(n){t.prototype.Qs.call(this,n)},i.uo=function(n){t.prototype.uo.call(this,n)},i.Bh=function(){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return[4,t.prototype.Bh.call(n)];case 1:return i.sent(),n.pP.Bh(),n.kP.Bh(),[2]}}))}))()},Ar(n,[{key:"Vy",get:function(){return this.gP}},{key:"rp",get:function(){return this.pD.rp},set:function(t){this.pD.rp=t}}]),n}(lE);yr(),zt(),kr(),yr(),zt();var bE=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).nN=new tE,e.gP=n,e.SP=i,e.EP=new _p,e.IP=new Vk,e.RP=r,e}zr(n,t);var i=n.prototype;return i.xy=function(t){return!0},i.Dy=function(){},i.gy=function(){throw this.qs(new My(this.RP)),this.SP},i.yy=function(){},i.Ay=function(){},i.by=function(t,n){var i=this;return ta((function(){return ia(this,(function(t){throw Bc(n),i.qs(new My(i.RP)),i.SP}))}))()},i.Ny=function(){},i.py=function(){return j.resolve()},i.Py=function(){},i.By=function(){return pE},i.Oy=function(){return[]},i.Iy=function(){},i.Ry=function(t){},i.Cy=function(){},i.Ty=function(){return!1},i.Sy=function(){},i.Ey=function(){},i.Uy=function(){},i.Hy=function(){},i.Wf=function(){return j.resolve()},i.Bh=function(){return this.Zs(),this.EP.Bh(),this.IP.Bh(),j.resolve()},Ar(n,[{key:"vy",get:function(){return this.EP}},{key:"Xy",get:function(){return gE.uP().qN()}},{key:"zy",get:function(){return new Date(NaN)},set:function(t){}},{key:"Fy",get:function(){}},{key:"Tm",get:function(){return 0},set:function(t){}},{key:"Sm",get:function(){return 0}},{key:"Vy",get:function(){return this.gP}},{key:"Em",get:function(){return!0}},{key:"Ao",get:function(){return this.SP}},{key:"Im",get:function(){return this.RP}},{key:"_y",get:function(){}},{key:"qy",get:function(){return{Gy:0,jy:0,Yy:0,Qy:0,Zy:0,Ky:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Rm",get:function(){return!1},set:function(t){}},{key:"Jy",get:function(){return!0}},{key:"Cm",get:function(){return!0}},{key:"Nm",get:function(){return 0},set:function(t){}},{key:"$y",get:function(){return gE.uP().qN()}},{key:"tp",get:function(){return fE.dD},set:function(t){}},{key:"Mg",get:function(){return ty.fm}},{key:"np",get:function(){return gE.uP().qN()}},{key:"Dm",get:function(){return!1}},{key:"wy",get:function(){return this.IP}},{key:"Pm",get:function(){return 0}},{key:"ly",get:function(){return this.EP}},{key:"Bm",get:function(){return 0}},{key:"Om",get:function(){return 1},set:function(t){}},{key:"ip",get:function(){return this.nN}},{key:"rp",get:function(){return!1},set:function(t){}},{key:"Wy",get:function(){return!1}}]),n}(Xm);function TE(t){if(t&&oe(t))return na({},t,{integration:SE(t.integration),fairplay:DE(t.fairplay),widevine:EE(t.widevine),playready:IE(t.playready),clearkey:PE(t.clearkey),aes128:BE(t.aes128),integrationParameters:OE(t.integrationParameters),preferredKeySystems:xE(t.preferredKeySystems)})}function SE(t){if(ce(t))return t}function EE(t){if(t&&oe(t))return{persistentState:RE(t.persistentState),distinctiveIdentifier:RE(t.distinctiveIdentifier),audioRobustness:CE(t.audioRobustness),videoRobustness:CE(t.videoRobustness),licenseAcquisitionURL:ce(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:NE(t.licenseType),headers:t.headers,useCredentials:!!fe(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:ce(t.certificate)||wh(t.certificate)?t.certificate:void 0}}function IE(t){if(t){var n=EE(t);if(n)return na({},n,{customData:ce(t.customData)?t.customData:void 0})}}function RE(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function CE(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function NE(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function DE(t){if(t){var n=EE(t);if(n)return na({},n,{certificateURL:ce(t.certificateURL)?t.certificateURL:void 0})}}function PE(t){if(t){var n=EE(t);if(n)return na({},n,{keys:ue(t.keys)?t.keys.map((function(t){return function(t){if(!t||!oe(t))return;var n=t.id,i=t.value;if(!ce(n)||!ce(i))return;return{id:n,value:i}}(t)})).filter(re):void 0})}}function BE(t){if(oe(t))return{useCredentials:fe(t.useCredentials)?t.useCredentials:void 0}}function OE(t){if(oe(t))return t}function xE(t){return t&&ue(t)?t.map((function(t){return hT(t)})).filter(re):[ka,ya,Ia]}yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),kr(),yr(),zt(),yr(),zt();var LE=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return zr(n,t),n}(Qc);yr(),zt(),yr(),zt();var ME,FE=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).CP=[],r.NP=function(t){Hc((function(){r.Ws(t)}))},r.DP=i?r.NP:r.Ws,r}zr(n,t);var i=n.prototype;return i.PP=function(t){t.Qs(this.DP),this.CP.push(t)},i.BP=function(t){t.uo(this.DP),hc(this.CP,t)},i.Bh=function(){this.Zs();for(var t=0,n=this.CP;t<n.length;t++){n[t].uo(this.DP)}wc(this.CP)},n}(Hm),UE=function(t){function n(){return t.apply(this,arguments)}return zr(n,t),n}(FE);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(ME||(ME={}));var HE,XE=function(t){function n(n){var i;return(i=t.call(this)||this).OP=!1,i.xP=!1,i.m_=void 0,i.LP=function(){return i.MP()},i.FP=function(){return i.UP()},i.HP=n,i.XP=i.zP=i.VP=i.WP="inline",i.HP.js(_E.P_,i.LP),i.HP.js(_E.Cg,i.FP),i.qP(),i}zr(n,t);var i=n.prototype;return i.p_=function(){return function(t){var n,i={get currentMode(){return t.GP()},requestMode:function(n){var i=VE(n);i&&t.jP(i)},supportsMode:function(n){var i=VE(n);return!!i&&t.YP(i)},addEventListener:function(t,i){n.js(t,i)},removeEventListener:function(t,i){n.Ks(t,i)}};return(n=new FE(i,!0)).PP(t),i}(this)},i.jP=function(t){this.QP(t,t)},i.QP=function(t,n){this.zP!==n&&(this.OP=!0,this.XP=t,this.ZP(n,this.zP),"fullscreen"!==t&&(this.VP=t),this.OP=!1,this.qP())},i.GP=function(){return this.xP?"fullscreen":"inline"},i.YP=function(t){switch(t){case"fullscreen":return this.HP.fP;case"inline":return!0}return!1},i.qP=function(){if(!this.OP){var t=this.zP,n=this.GP();this.zP=n,"fullscreen"!==n&&(this.WP=n),t!==n&&this.qs(new LE(n))}},i.ZP=function(t,n){var i="fullscreen"===t;this.xP=i,i!==this.HP.cP&&(i?this.HP.pp():this.HP.kp())},i.MP=function(){if(!this.OP){var t=this.HP.cP;this.xP=t,t?this.QP("fullscreen","fullscreen"):t||"fullscreen"!==this.XP?this.qP():this.QP(this.VP,this.WP)}},i.UP=function(){this.MP(),this.qs(new My(new Wl(Hl.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},i.Bh=function(){this.HP.Bh(),this.Zs()},Ar(n,[{key:"y_",get:function(){return this.m_||(this.m_=this.p_()),this.m_}}]),n}(Hm),zE={Tm:0,Sm:NaN,Em:!1,Ao:void 0,Im:void 0,Rm:!1,Cm:!0,Nm:1,Mg:ty.fm,Dm:!1,Pm:0,Bm:0,Om:1};function VE(t){switch(t){case ME.INLINE:case ME.FULLSCREEN:case ME.PICTURE_IN_PICTURE:return t;default:return}}yr(),zt(),kr(),function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor"}(HE||(HE={}));var WE,qE,GE,jE,YE,QE,ZE,KE,JE=function(){function t(){this.KP=[]}var n=t.prototype;return n.JP=function(t){var n=this.$P.filter((function(n){return n.tB(t)}));if(n.length>1)0;else if(0===n.length)throw f("Unknown ad integration: "+t.integration);return n[0]||null},n.nB=function(t){this.KP.push(t)},Ar(t,[{key:"$P",get:function(){return this.KP}}]),t}();JE.$r=new JE,yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),function(t){t.Am="PLAYING",t.Qm="PAUSED",t.iB="SEEK",t.rB="STALLED",t.eB="FAILED",t.uB="INITIAL_BUFFERING",t.sB="NO_ACCESS"}(WE||(WE={})),function(t){t.oB="HTTP_REQUEST_STATUS_CODE_1XX",t.aB="HTTP_REQUEST_STATUS_CODE_2XX",t.cB="HTTP_REQUEST_STATUS_CODE_3XX",t.fB="HTTP_REQUEST_STATUS_CODE_4XX",t.hB="HTTP_REQUEST_STATUS_CODE_5XX",t.vB="BUFFER_LENGTH",t.dB="BYTES_RECEIVED",t.lB="SEGMENT_READ_BITRATE",t.wB="SEGMENT_PROFILE_BITRATE",t._B="VIDEO_PROFILE_BITRATE",t.gB="NUMBER_OF_FRAMES_DROPPED",t.mB="PLAYBACK_POSITION",t.yB="NUMBER_OF_FRAMES_DECODED",t.pB="PLAYBACK_DELTA_TO_ORIGIN",t.AB="STREAM_DELTA_TO_ORIGIN",t.kB="ORIGIN_TIMESTAMP"}(qE||(qE={})),function(t){t.bB="MANIFEST_URI",t.TB="ASSET_DURATION",t.SB="NUMBER_OF_CONTENT_PROFILES",t.EB="CDN",t.IB="CONTENT_TITLE",t.RB="SERVICE_NAME",t.CB="CONTENT_TYPE",t.NB="CONTENT_DESCRIPTION"}(GE||(GE={})),function(t){t.DB="shutdown_normal_shutdown"}(jE||(jE={})),function(t){t.PB="session/",t.BB="content/",t.OB="internalError/",t.xB="drmError/",t.LB="caError/",t.MB="networkError/"}(YE||(YE={})),function(t){t.FB="userAction",t.UB="endOfStreamReached"}(QE||(QE={})),yr(),zt(),yr(),zt(),function(t){t.PAUSE="HB",t.RESUME="XB"}(ZE||(ZE={})),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(KE||(KE={}));var $E,tI,nI,iI,rI,eI,uI="agama";function sI(t){switch(t){case"":return $E.NONE;case"horizontal":return $E.HORIZONTAL;case"vertical":return $E.VERTICAL;default:throw new h}}function oI(t,n){if(n)return tI.PM360;if(null==t)return tI.NONE;switch(t){case"":return tI.NONE;case"360":return tI.PM360;case"180":return tI.PM180;default:throw new h("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}function aI(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!ce(t))return"auto";switch(t){case"always":return"always";case"never":return"never";case"clear-only":return"clear-only";case"same-drm-only":return"same-drm-only";default:return"auto"}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:gm(null==t?void 0:t.needsTimescaleShifting),desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?mm(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:gm(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:gm(null==t?void 0:t.ignoreAvailabilityWindow),forceHardSwitchWhenSeekingBackwards:gm(null==t?void 0:t.forceHardSwitchWhenSeekingBackwards)}}function cI(t){if(!t||!ce(t))return"auto";switch(t){case"playlist":return"playlist";case"media":return"media";default:return"auto"}}function fI(t){if(null!==t)return t}function hI(t){var n={};if(!oe(t))return n;var i=t;for(var r in i)if(v.prototype.hasOwnProperty.call(i,r)){var e=i[r];ce(e)&&(n[r]=e)}return n}function vI(t){var n={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:fI(t.streamActivityMonitorID),adTagParameters:oe(t.adTagParameters)?t.adTagParameters:{},authToken:fI(t.authToken),omidAccessModeRules:t.omidAccessModeRules?hI(t.omidAccessModeRules):void 0};if("vod"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.videoID&&n.contentSourceID)}(t)){var i=t.videoID,r=t.contentSourceID;return i?r?na({},n,{availabilityType:"vod",videoID:i,contentSourceID:r}):void Pr.wu("A VOD DAI configuration was provided without valid contentSourceID which is required."):void Pr.wu("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var e=t.assetKey;return e?na({},n,{availabilityType:"live",assetKey:e}):void Pr.wu("A Live DAI configuration was provided without valid assetKey which is required.")}Pr.wu("A DAI configuration was provided without a valid availabilityType which is required.")}function dI(t){if(!rT(t)||!t.integration)return t;switch(t.integration){case Ib:return function(t){var n=fT(da.Qu,t),i=fT(da.Yu,t),r=t[da.Ku]&&fT(da.Ku,t);return na({integration:"keyos",widevine:n,playready:i},r?{fairplay:r}:{})}(t);default:return t}}yr(),zt(),yr(),zt(),function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}($E||($E={})),yr(),zt(),function(t){t.NONE="",t.PM360="360",t.PM180="180"}(tI||(tI={})),yr(),zt(),yr(),zt(),yr(),zt(),function(t){t.lD="auto",t.zB="always",t.VB="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only"}(nI||(nI={})),yr(),zt(),function(t){t.lD="auto",t.WB="playlist",t.qB="media"}(iI||(iI={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(rI||(rI={})),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(eI||(eI={})),yr(),zt();var lI="https://content.uplynk.com";function wI(t){if(!t)return!0;var n=!function(t){return dy(t)||se(t)&&dy(t[0])}(t.sources)||ly(t.sources),i=!t.ads||function(t){return!t||ue(t)&&0===t.length}(t.ads),r=""!==t.poster&&!t.poster;return n&&i&&r}function _I(t){if(t&&t.sources)return gI(t.sources)}function gI(t){return ce(t)?t:hy(t)?t.src:se(t)&&t.length>0?gI(t[0]):void 0}function mI(t,n,i){return ay(t)?function(t,n,i){var r=na({},wy(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:rI.VERIZON_MEDIA,id:"",prefix:lI,preplayParameters:{},playbackUrlParameters:{},assetType:eI.ASSET,contentProtected:!1,assetInfo:!0});r.id=function(t){if(ce(t))return t;if(se(t)&&ce(t[0]))return t;if(function(t){return!(!oe(t)||!ce(t.userId)||!se(t.externalId)&&!ce(t.externalId))}(t))return t;return""}(t.id),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return eI.CHANNEL;case"event":return eI.EVENT;case"asset":default:return eI.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=_m(t.contentProtected));t.assetInfo?r.assetInfo=_m(t.assetInfo):r.assetInfo="asset"===r.assetType;t.prefix&&(r.prefix=pm(t.prefix)||lI);return r.ping=function(t,n){var i=!1,r=!1,e=!1;n?(i=!!fe(n.adImpressions)&&n.adImpressions,r=!!fe(n.freeWheelVideoViews)&&n.freeWheelVideoViews,e=fe(n.linearAdData)?n.linearAdData:t!==eI.ASSET):t!==eI.ASSET&&(e=!0);return{adImpressions:i,freeWheelVideoViews:r,linearAdData:e}}(r.assetType,t.ping),r=AI(r=kI(r=pI(r,t),n,i),t,i)}(t,n,i):cy(t)?function(t,n,i){var r;return na({},yI(t,n,i),{integration:rI.MEDIATAILOR,adParams:null!=(r=t.adParams)?r:{}})}(t,n,i):yI(t,n,i)}function yI(t,n,i){var r=_y(),e=n&&(n.contentProtection||n.drm);if(ce(t)){if(r.src=t,r.type=ey(t),e){var u=TE(e);r.contentProtection=dI(u)}}else if(hy(t)||oy(t)){r.src=t.src,r.type=t.type||ey(t.src),r.isAdvertisement=t.isAdvertisement;var s=vy(t)?t.hesp:void 0;void 0!==s&&(r.hesp=s),cy(t)&&(r.integration=t.integration);var o=TE(t.contentProtection||t.drm||e);r.contentProtection=dI(o),t.ssai&&(r.ssai=function(t){switch(t.integration){case"google-dai":return vI(t);case"imagine":return function(t){return{integration:t.integration}}(t);case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),r=pI(r,t)}return r=AI(r=kI(r,n,i),t,i)}function pI(t,n){n.useCredentials?t.crossOrigin=Qm.um:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case Qm.im:case Qm.um:return t;default:return Qm.nm}}(n.crossOrigin)),ce(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=_m(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=_m(n.useNativePlayback)),n.dash&&(t.dash=aI(n.dash)),n.hls&&(t.hls=function(t){return{discontinuityAlignment:cI(null==t?void 0:t.discontinuityAlignment)}}(n.hls)),n.lcevc&&(t.lcevc=_m(n.lcevc)),n.ignoreEmbeddedTextTrackTypes&&(t.ignoreEmbeddedTextTrackTypes=function(t){return ue(t)?t.filter(ry):[]}(n.ignoreEmbeddedTextTrackTypes));var i=gm(n.experimentalRendering);void 0!==i&&(t.experimentalRendering=i);var r=gm(n.nativeUiRendering);return void 0!==r&&(t.nativeUiRendering=r),t}function AI(t,n,i){return t.abr=function(t,n){var i;if(re(t)||re(n))return Wy(qy(null==t?void 0:t.preferredAudioCodecs,null==n?void 0:n.preferredAudioCodecs),qy(null==t?void 0:t.preferredVideoCodecs,null==n?void 0:n.preferredVideoCodecs),null!=(i=null==t?void 0:t.restrictToPlayerSize)?i:null==n?void 0:n.restrictToPlayerSize)}(ce(n)?void 0:Vy(n.abr),null==i?void 0:i.abr),t}function kI(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!re(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!re(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===Qm.nm&&(null==n||null==(r=n.vr)?void 0:r[360])&&(t.crossOrigin=Qm.im),t.useCredentials=t.crossOrigin===Qm.um,ce(e)&&!t.timeServer&&(t.timeServer=e),t}function bI(t){var n={src:""};if(t&&t.src){if(n.src=pm(t.src),"default"in t&&(n.default=_m(t.default)),n.kind=qk(t.kind),ry(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function TI(t,n){if(ae(t))try{return n.JP(t).GB(t)}catch(t){return}}function SI(t){return ce(t.sources)&&""!==t.sources||oe(t.sources)&&ce(t.sources.src)}function EI(t){return t.integration===HE.SPOTX&&!_(t.id)}function II(t){return"freewheel"===t.integration}function RI(t,n,i){if(void 0===i&&(i=JE.$r),wI(t))return{sources:[_y()]};var r=vm(t);if(r.sources=function(t,n,i){if(dy(t))return[mI(t,n,i)];if(se(t)&&dy(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(mI(u,n,i))}return r}return[_y()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!se(t))return[];for(var i=[],r=0;r<t.length;r++){var e=t[r];(e=TI(e,n))&&(SI(e)||EI(e)||II(e))&&i.push(e)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u=!ly(r.sources),s=r.ads&&r.ads.length>0;if(u&&!s?delete r.ads:s&&!u&&(r.sources=[]),"textTracks"in r){var o=function(t){if(!se(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];""!==(r=bI(r)).src&&n.push(r)}return n}(r.textTracks);0===o.length?delete r.textTracks:r.textTracks=o}if("poster"in r&&(r.poster=pm(r.poster)),"vr"in r&&(r.vr=function(t){var n=t||{};return n.stereoMode=function(t){return function(t){switch(t){case"":case"horizontal":case"vertical":return!0;default:return!1}}(t)?t:""}(n.stereoMode),{panoramaMode:oI(n.panoramaMode,Boolean(n[360])),stereoMode:n.stereoMode?sI(n.stereoMode):$E.NONE,nativeVR:Boolean(n.nativeVR)}}(r.vr)),"analytics"in r||(null==n?void 0:n.analytics)){var a=my(r.analytics),c=n&&n.analytics||[];r.analytics=function(t,n){for(var i=function(i){var e=n[i];!t.some((function(t){return t.integration===e.integration}))&&e.integration!==uI&&r.push(e)},r=vm(t),e=0;e<n.length;e++)i(e);return r}(a,c)}return"mutedAutoplay"in r&&(r.mutedAutoplay=Gy(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,"playAdsAfterTime"in r&&(r.playAdsAfterTime=mm(r.playAdsAfterTime)),r.blockContentIfAdError=function(t){return void 0!==t&&"boolean"==typeof t&&Boolean(t)}(r.blockContentIfAdError),r}yr(),zt(),yr(),zt(),yr(),zt();var CI=function(){var t=function(t){this.jB=t};return t.prototype.YB=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.jB.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.jB.indexOf(t.charAt(n))<<18|this.jB.indexOf(t.charAt(n+1))<<12|(u=this.jB.indexOf(t.charAt(n+2)))<<6|(s=this.jB.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.QB=function(t,n){var i,r,e,u,s,o,a,c=[],f="";if((o=t.length%3)>0)for(;o++<3;)f+=this.jB.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,u=i>>6&63,s=63&i,c[o/3]=this.jB.charAt(r)+this.jB.charAt(e)+this.jB.charAt(u)+this.jB.charAt(s);return a=(a=c.join("")).slice(0,a.length-f.length),n||(a+=f),a},t.xk=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.ZB=new t(function(t){return t.YB("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")}(t.xk)),t}();function NI(t){return"string"==typeof t}function DI(t){return"number"==typeof t}yr(),zt(),yr(),zt(),yr(),zt();var PI={}.toString;var BI,OI=Array.isArray||function(t){return"[object Array]"===PI.call(t)};function xI(t,n){return OI(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(BI||(BI={}));var LI,MI=v.keys(BI).map((function(t){return BI[t]}));function FI(t){return-1!==MI.indexOf(t)}!function(t){t.HESP="hesp",t.MULTIVIEW="multiview"}(LI||(LI={}));var UI,HI=v.keys(LI).map((function(t){return LI[t]}));function XI(t){return-1!==HI.indexOf(t)}function zI(t){try{var n=CI.ZB.YB(t),i=JSON.parse(n);if(!function(t,n){var i,r=function(t){return"object"==typeof t&&null!==t}(t),e=NI(t.key),u=NI(t.customer_id),s=DI(t.generation_date),o=DI(t.expiration_date),a=xI(t.domains_page,NI),c=xI(t.domains_source,NI),f=xI(t.sdks,n?FI:NI),h=function(t){return"boolean"==typeof t}(t.send_impression);t.features?i=xI(t.features,n?XI:NI):(i=!0,t.features=[]);if(!(r&&e&&u&&s&&o&&a&&c&&f&&h&&i))return!1;return!0}(i,!1))throw new f("The provided license could not be decoded correctly.");return i}catch(t){throw new f("The provided license could not be decoded correctly.")}}function VI(){return UI||(UI={Md:yo.href,KB:mo.parent&&mo.parent!==i,JB:GI()}),UI}var WI,qI=["http:","https:","ftp:","ws:","wss:"];function GI(){try{return mo.top.location.href}catch(t){return mo&&mo.document&&mo.document.referrer}}!function(t){t[t.$B=0]="$B",t[t.tO=1]="tO",t[t.nO=2]="nO"}(WI||(WI={}));var jI,YI=function(t,n,i,r,e,u,s,o,a){void 0===e&&(e=[]),void 0===u&&(u=""),void 0===s&&(s=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.iO=t,this.rO=n,this.eO=i,this.uO=r,this.sO=e,this.oO=u,this.aO=s,this.cO=o,this.fO=a};!function(t){t.tO="expired",t.hO="invaliddomain",t.vO="invalidsource",t.dO="invalidfeature",t.Cg="error"}(jI||(jI={}));var QI=function(){function t(t,n,i){this.lO=t,this.wO=n,this.Ya=i,this._O=nR(this.Ya)}var n=t.prototype;return n.gO=function(t,n){var i=[];dy(t.sources)?i=[t.sources]:se(t.sources)&&(i=t.sources),this.mO(t,i,n),this.yO(i,n)},n.mO=function(t,n,i){var r=this;if(!wI(t)&&0!==i.eO.length&&!JI(i.eO)&&!n.every((function(t){return r.pO(t,i)}))){var e="invalidsource",u=rR.AO(e);throw new Wl(ZI(e),u)}},n.yO=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];hy(r)&&vy(r)&&this.kO([LI.HESP],n)}},n.bO=function(n){return this.TO(n.cO)&&this.SO(n)?t.EO(n.uO)?0:1:2},n.kO=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(!lc(n.sO,r)){var e="invalidfeature",u=rR.IO(e,r);throw new Wl(ZI(e),u)}}},n.TO=function(t){var n=this;return 0===t.length||t.some((function(t){return n.RO(t)}))},n.RO=function(t){return"ios"===function(t){switch(t){case BI.ANDROID:return Br.Un;case BI.ANDROIDTV:case BI.FIRETV:return Br.Hn;case BI.IOS:return Br.Xn;case BI.TVOS:return Br.zn;case BI.CHROMECAST:case BI.CHROMECASTCAF:return Br.Vn;default:return Br.Fn}}(t)},n.SO=function(t){return!(this._O&&0!==t.rO.length&&!JI(t.rO))||!!(this._O&&this.CO(t.rO)&&this.DO(t.rO))},n.CO=function(t){return $I(this.Ya.Md,t)},n.DO=function(t){if(!this.Ya.KB)return!0;if(this.lO)return!0;var n=this.PO();return!!n&&$I(n,t)},n.PO=function(){if(this.Ya.KB){var t=e.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Ya.JB?this.Ya.JB:void 0}},n.pO=function(n,i){return!!t.BO(n,i.eO)},t.EO=function(t){var n=Number(new Date);return!!t&&n<=t},t.BO=function(t,n){return $I(this.OO(t),n)},t.OO=function(t){return ce(t)?t:hy(t)&&t.src||""},t}();function ZI(t){switch(t){case"invaliddomain":return Hl.LICENSE_INVALID_DOMAIN;case"invalidsource":return Hl.LICENSE_INVALID_SOURCE;case"expired":return Hl.LICENSE_EXPIRED;case"invalidfeature":return Hl.LICENSE_INVALID_FEATURE;case"error":return Hl.LICENSE_ERROR}}function KI(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+e+s+e+s+e+s+"\\)"),a=r.match(o),c=function(t){return"*"===t?"("+u+")":t};if(null!==a&&5===a.length){var f=new RegExp("^"+a[1]+e+c(a[2])+e+c(a[3])+e+c(a[4])+"$");return null!==i.match(f)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function JI(t){return t.some((function(t){return"*"===t}))}function $I(t,n){var i=Pr.Nu(t);if(!tR(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(KI(i.hostname,e))return!0;if(KI(Kw(t),e))return!0}return!1}function tR(t){return-1!==qI.indexOf(t.protocol)}function nR(t){var n=Pr.Nu(t.Md);return tR(n)&&!function(t){return KI(t.hostname,"localhost")}(n)&&!function(t){return KI(t.hostname,"theoplayer.doubleclick.net")}(n)}var iR,rR=function(){function t(){}return t.IO=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.AO=function(t){return"invaliddomain"===t?this.xO:"invalidsource"===t?this.LO:"expired"===t?this.MO:"invalidfeature"===t?this.FO:this.UO},t}();function eR(t){var n=[t.fE,t.HO,t.XO];switch(t.HO){case 1:n.push(t.Hg);break;case 4:n.push(t.Tm),n.push(t.Ao);break;case 5:n.push(t.Ao)}return n}rR.UO="The license for this player is invalid.",rR.MO="The usage license for this video player has expired.",rR.xO="The current domain is incompatible with the license for this player.",rR.LO="The provided video source is incompatible with the license for this player.",rR.FO="The requested feature is not available with the license for this player.",yr(),zt(),kr(),yr(),zt(),function(t){t[t.zO=1]="zO",t[t.VO=4]="VO",t[t.WO=5]="WO"}(iR||(iR={})),yr(),zt();var uR,sR=new Array(256);for(uR=0;uR<256;uR+=1)sR[uR]=(uR<16?"0":"")+uR.toString(16);function oR(){var t=cu(),n=(4294967296*d.random()|0)+t&3029421624,i=(4294967296*d.random()|0)+t&3595553209,r=(4294967296*d.random()|0)+t&1130486254,e=(4294967296*d.random()|0)+t&1284287105;return sR[255&n]+sR[n>>>8&255]+sR[n>>>16&255]+sR[n>>>24&255]+"-"+sR[255&i]+sR[i>>>8&255]+"-"+sR[i>>>16&15|64]+sR[i>>>24&255]+"-"+sR[63&r|128]+sR[r>>>8&255]+"-"+sR[r>>>16&255]+sR[r>>>24&255]+sR[255&e]+sR[e>>>8&255]+sR[e>>>16&255]+sR[e>>>24&255]}function aR(){return Pr.re()}yr(),zt(),yr(),zt(),yr(),zt();var cR,fR="theoplayer-session-id";function hR(){if(!cR){var t=aw.Do(fR);t?cR=t:(cR=oR(),aw.tv(fR,cR))}return cR}yr(),zt(),yr(),zt();var vR=/[^\x00-\x7E]/g;function dR(t){return"\\u"+Va(t.charCodeAt(0).toString(16),4,"0")}var lR="https://license.theoplayer.com";function wR(t){var n=function(t){var n=[];return function(t,n,i){return JSON.stringify(t,n,i).replace(vR,dR)}(t,(function(t,i){if(oe(i)){if(-1!==n.indexOf(i))return null;n.push(i)}return i}))}(function(t){return[t.qO,t.Lf,t.iO,t.hT,t.GO,t.jO,t.YO.map(eR)]}(t));return CI.ZB.QB(n)}var _R=function(){function t(t,n,i,r,e,u){void 0===r&&(r=CI.xk),void 0===e&&(e=0),void 0===u&&(u=1);var s=this;this.Jc=t,this.vI=n,this.QO=i,this.ZO=r,this.KO=e,this.JO=u,this.$O=[],this.tx=null,this.nx=0,this.ix="unknown",this.Rc=0,this.ux=function(){aR()-s.nx>6e4&&s.nt()},this.sx=function(){s.nt(!0)},go.ox(this.sx),this.hx=a(this.ux,6e4)}var n=t.prototype;return n.vx=function(){return Boolean(this.GO)},n.lx=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return[4,n.QO.wx()];case 1:return r.sent().fO?(i={HO:iR.zO,XO:cu(),Hg:t},[4,n._x(i)]):[2];case 2:return r.sent(),[2]}}))}))()},n.gx=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return r={HO:iR.VO,XO:cu(),Tm:n,Ao:t},[4,i._x(r)];case 1:return e.sent(),[2]}}))}))()},n.mx=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return i={HO:iR.WO,XO:cu(),Ao:t},[4,n._x(i)];case 1:return r.sent(),[2]}}))}))()},n._x=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return[4,n.QO.wx()];case 1:return i=r.sent(),"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"===n.ZO.QB(i.iO)&&t.HO!==iR.WO?[2]:(t.HO===iR.zO?n.yx():n.vx()||n.yx(),t.fE=n.Rc++,n.$O.push(t),function(t){return t===iR.zO||t===iR.WO}(t.HO)?[4,n.nt()]:[3,3]);case 2:return r.sent(),[3,5];case 3:return n.$O.length>n.KO?[4,n.Ax()]:[3,5];case 4:return r.sent(),[3,5];case 5:return[2]}}))}))()},n.nt=function(t){void 0===t&&(t=!1);var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return n.$O.length>0?[4,n.Ax(t)]:[3,2];case 1:return i.sent(),[3,0];case 2:return[2]}}))}))()},n.kx=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return[4,n.QO.wx()];case 1:return i=r.sent(),[2,{qO:cu(),Lf:hR(),iO:n.ZO.QB(i.iO)||"dev",hT:n.Jc,GO:n.tx,jO:n.ix,YO:t}]}}))}))()},n.Ax=function(t){void 0===t&&(t=!1);var n=this;return ta((function(){var i,r;return ia(this,(function(e){switch(e.label){case 0:return i=n.$O.splice(0,n.JO),[4,n.kx(i)];case 1:return r=e.sent(),t?n.ll(r):n.bx(r),n.nx=aR(),[2]}}))}))()},n.bx=function(t){var n=this;return ta((function(){var i,r;return ia(this,(function(e){switch(e.label){case 0:i=wR(t),r=new Ww({Md:lR,yd:i,vl:!1,Pd:dw.ed,Dd:{"Content-Type":jT.YR},al:4e3,ol:Uw.POST}),e.label=1;case 1:return e.trys.push([1,4,,5]),[4,n.vI.xd(r)];case 2:return[4,e.sent().wd()];case 3:return e.sent(),[3,5];case 4:return e.sent(),(new Image).src="https://licensing.theoplayer.com/t?"+i,[3,5];case 5:return[2]}}))}))()},n.ll=function(t){var n=wR(t);this.vI.ll({Md:lR,yd:n,md:jT.YR})},n.yx=function(){this.vx()&&this.nt(),this.tx=oR(),this.Rc=0},n.Bh=function(){go.Tx(this.sx),c(this.hx),this.nt()},Ar(t,[{key:"YO",get:function(){return this.$O}},{key:"GO",get:function(){return this.tx}}]),t}();yr(),zt(),kr(),Or(),yr(),zt(),Or();var gR=te.Br||te.wr&&te.Hr<13;function mR(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var yR=function(){function t(t){this.m_=void 0,this.Sx=void 0,this.fD=t}var n=t.prototype;return n.Ex=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;if(!t||!t.drawImage)return!1;var u=this.fD.Py();return!!u&&((e=t).drawImage.apply(e,[u].concat(Nr(i))),!0)},n.Ix=function(t,n,i,e,u,s){if(!t||!t.texImage2D)return!1;var o=this.fD,a=o.Py();if(!a)return!1;if(gR){this.Sx||(this.Sx=r.createElement("canvas"));var c=this.Sx,h=c.getContext("2d"),v=o.Bm,d=o.Pm,l=c.width,w=c.height;h.clearRect(0,0,c.width,c.height),l===v&&w===d||(c.width=v,c.height=d),h.drawImage(a,0,0,v,d);var _=!1;v>0&&mR(h,v-1,0)&&(c.width=l,_=!0),d>0&&mR(h,0,d-1)&&(c.height=w,_=!0),_&&h.drawImage(a,0,0,v,d),a=c}try{t.texImage2D(n,i,e,u,s,a)}catch(t){throw new f("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},Ar(t,[{key:"y_",get:function(){return this.m_||(this.m_=function(t){return{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];var u;return(u=t).Ex.apply(u,[n].concat(Nr(r)))},texImage2D:function(n,i,r,e,u,s){return t.Ix(n,i,r,e,u,s)}}}(this))}}]),t}();yr(),zt(),kr(),yr(),zt();var pR=function(t){function n(n,i){var r;return(r=t.call(this,"Rx")||this).Kp=n,r.WT=i,r}return zr(n,t),n.prototype.p_=function(){return new AR(this.Kp,this.WT)},n}(Zg),AR=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return zr(n,t),n}(Qc);yr(),zt(),kr(),yr(),zt();var kR=function(t,n){this.Vy=t,this.Cx=n},bR=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Nx=0,r.Dx=0,r.Px=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.Dx=n.width,r.Nx=n.height,r.Cx(r.Dx,r.Nx)}},r.Bx=new mo.ResizeObserver(r.Px),r.Bx.observe(r.Vy),r}return zr(n,t),n.prototype.Bh=function(){this.Bx.disconnect()},Ar(n,[{key:"Ox",get:function(){return this.Nx}},{key:"xx",get:function(){return this.Dx}}]),n}(kR);yr(),zt(),kr(),yr(),zt();var TR=0;var SR,ER=o,IR=self.requestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame,RR=self.cancelAnimationFrame||self.webkitCancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelRequestAnimationFrame;IR&&RR||(IR=function(t){var n=aR(),i=d.max(0,16-(n-TR)),r=s((function(){return t(n+i)}),i);return TR=n+i,r},RR=ER),IR=IR.bind(self),RR=RR.bind(self),yr(),zt();var CR=["Webkit","Moz","O","ms"],NR=(function(){var t=!1;try{if(void 0!==mo&&"function"==typeof mo.addEventListener){var n=v.defineProperty({},"passive",{get:function(){t=!0}});mo.addEventListener("testPassiveEventSupport",le,n),mo.removeEventListener("testPassiveEventSupport",le,n)}}catch(t){}}(),ua());function DR(t){return NR.has(t)||NR.set(t,function(t){var n=(SR||(SR=mo&&mo.document&&mo.document.createElement("span")),SR);if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<CR.length;r++){var e=CR[r]+i;if(void 0!==n.style[e])return e}return t}(t)),NR.get(t)}function PR(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function BR(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[DR("transition")]="0s"}var OR=function(t){function n(n,e,u){var o;(o=t.call(this,n,e)||this).Lx=0,o.Dx=NaN,o.Nx=NaN,o.Mx=void 0,o.Wf=function(){o.Fx.style.width="100000px",o.Fx.style.height="100000px",o.Ux.scrollLeft=1e5,o.Ux.scrollTop=1e5,o.Hx.scrollLeft=1e5,o.Hx.scrollTop=1e5,0===o.Hx.scrollTop&&IR(o.Wf)},o.Xx=function(){var t=o.xx,n=o.Ox;o.Cx(t,n),o.Dx=t,o.Nx=n,o.Wf(),o.Lx=0},o.zx=function(){if(!o.Lx){var t=o.xx,n=o.Ox;t===o.Dx&&n===o.Nx||(o.Lx=IR(o.Xx))}},o.Vx=function(){o.Mx||(o.Mx=s(o.Wx,66))},o.Wx=function(){o.Mx=void 0,o.qx()},o.qx=function(){o.zx()};var a=function(t,n){return i.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");u||"static"!==a||(n.style.position="relative");var c=r.createElement("div");return o.Gx=c,o.Ux=r.createElement("div"),o.Fx=r.createElement("div"),o.Hx=r.createElement("div"),o.jx=r.createElement("div"),PR(o.Ux),PR(o.Hx),BR(o.Fx),function(t){BR(t),t.style.width="200%",t.style.height="200%"}(o.jx),c.appendChild(o.Ux),c.appendChild(o.Hx),o.Ux.appendChild(o.Fx),o.Hx.appendChild(o.jx),n.appendChild(c),o.Ux.addEventListener("scroll",o.zx),o.Hx.addEventListener("scroll",o.zx),i&&i.addEventListener("resize",o.Vx),o.zx(),o}return zr(n,t),n.prototype.Bh=function(){RR(this.Lx),this.Lx=0,this.Ux.removeEventListener("scroll",this.zx),this.Hx.removeEventListener("scroll",this.zx),To(this.Gx),i&&i.removeEventListener("resize",this.Vx)},Ar(n,[{key:"Ox",get:function(){return this.Vy.getBoundingClientRect().height||this.Nx||0}},{key:"xx",get:function(){return this.Vy.getBoundingClientRect().width||this.Dx||0}}]),n}(kR),xR=function(t){function n(n){var i;return(i=t.call(this)||this).Bx=void 0,i.Px=function(t,n){i.qs(new pR(t,n))},i.Vy=n,i}zr(n,t);var i=n.prototype;return i.zf=function(t){this.Bx||("function"==typeof mo.ResizeObserver?this.Bx=new bR(this.Vy,this.Px):this.Bx=new OR(this.Vy,this.Px,t))},i.Bh=function(){this.Zs(),this.Bx&&(this.Bx.Bh(),this.Bx=void 0)},Ar(n,[{key:"Ox",get:function(){return this.Bx?this.Bx.Ox:0}},{key:"xx",get:function(){return this.Bx?this.Bx.xx:0}}]),n}(Gc);yr(),zt(),kr(),yr(),zt();var LR=function(t){function n(){return t.call(this,_E.P_)}return zr(n,t),n}(Qc);yr(),zt();var MR=function(){if(r)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in r)return{Yx:i[0],Qx:i[1],Zx:i[2],Kx:i[3],Jx:i[4],$x:i[5]}}}();yr(),zt();var FR=function(t){function n(){return t.call(this,_E.aP)}return zr(n,t),n}(Qc),UR=function(t){function n(i){var e;return(e=t.call(this)||this).cP=!1,e.tL=function(){return e.LP()},e.nL=function(){return e.FP()},e.Vy=i,e.fP=n.iL(i),r.addEventListener(MR.Jx,e.tL),e.LP(),e}zr(n,t);var i=n.prototype;return i.pp=function(){var t=this.Vy[MR.Yx]();t&&t.then?t.then(this.tL,this.nL):(r.removeEventListener(MR.$x,this.nL),r.addEventListener(MR.$x,this.nL))},i.kp=function(){var t=r[MR.Qx]();t&&t.then?t.then(this.tL,this.nL):(r.removeEventListener(MR.$x,this.nL),r.addEventListener(MR.$x,this.nL))},i.LP=function(){var t=this.cP,n=this.Vy===r[MR.Zx];this.cP=n,t!==n&&this.qs(new LR)},i.FP=function(){this.qs(new yE)},i.Bh=function(){this.Zs(),r.removeEventListener(MR.Jx,this.tL),r.removeEventListener(MR.$x,this.nL)},n.iL=function(t){return Boolean(MR&&r[MR.Kx]&&MR.Yx in t)},n}(Gc),HR=function(t){function n(i){var r;return(r=t.call(this)||this).cP=!1,r.tL=function(){return r.LP()},r.Vy=i,r.fP=n.iL(i),r.Vy.addEventListener("webkitbeginfullscreen",r.tL),r.Vy.addEventListener("webkitendfullscreen",r.tL),r.Vy.addEventListener("webkitpresentationmodechanged",r.tL),r.LP(),r}zr(n,t);var i=n.prototype;return i.pp=function(){var t=this;this.Vy.webkitSupportsPresentationMode&&this.Vy.webkitSupportsPresentationMode("fullscreen")?te.wr?requestAnimationFrame((function(){return t.Vy.webkitSetPresentationMode("fullscreen")})):this.Vy.webkitSetPresentationMode("fullscreen"):this.Vy.webkitEnterFullscreen()},i.kp=function(){this.Vy.webkitSupportsPresentationMode&&this.Vy.webkitSupportsPresentationMode("inline")?this.Vy.webkitSetPresentationMode("inline"):this.Vy.webkitExitFullscreen()},i.LP=function(){var t,n=this.cP;t=this.Vy.webkitPresentationMode?"fullscreen"===this.Vy.webkitPresentationMode:!!this.Vy.webkitDisplayingFullscreen,this.cP=t,n!==t&&this.qs(new LR)},i.Bh=function(){this.Zs(),this.Vy.removeEventListener("webkitbeginfullscreen",this.tL),this.Vy.removeEventListener("webkitendfullscreen",this.tL),this.Vy.removeEventListener("webkitpresentationmodechanged",this.tL)},n.iL=function(t){return te.wr&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)},n}(Gc),XR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).rL=[],n.eL=void 0,n.xP=!1,n.LP=function(){var t=n.xP,i=n.uL();t!==i&&(n.xP=i,n.qs(new LR))},n}zr(n,t);var i=n.prototype;return i.pp=function(){this.eL?this.eL.pp():this.qs(new yE)},i.kp=function(){for(var t=0,n=this.rL;t<n.length;t++){var i=n[t];i.cP&&i.kp()}},i.sL=function(t){this.eL=t},i.oL=function(t){this.rL.push(t),t.js(_E.P_,this.LP),t.js(_E.Cg,this.Ws),this.LP()},i.aL=function(t){hc(this.rL,t),t.Ks(_E.P_,this.LP),t.Ks(_E.Cg,this.Ws)},i.uL=function(){for(var t=0,n=this.rL;t<n.length;t++){if(n[t].cP)return!0}return!1},i.Wf=function(){this.eL=void 0,this.xP=!1;for(var t=this.rL.slice(),n=0;n<t.length;n++){var i=t[n];this.aL(i),i.Bh()}this.LP()},i.Bh=function(){this.Zs(),this.Wf()},Ar(n,[{key:"fP",get:function(){return!!this.eL&&this.eL.fP}},{key:"cP",get:function(){return this.xP}}]),n}(Gc),zR=function(t){function n(n,i){var r;return(r=t.call(this)||this).cL=!1,r.fL=function(){return r.Df()},r.LP=function(t){r.cL||r.qs(t)},r.fD=n,r.hL=i,r.vL=pE,r.dL(),r.fD.js(vw.Av,r.fL),r.Df(),r}zr(n,t);var i=n.prototype;return i.pp=function(){this.hL&&this.vL.pp()},i.kp=function(){this.vL.kp()},i.dL=function(){this.vL.js(_E.P_,this.LP),this.vL.js(_E.Cg,this.Ws)},i.lL=function(){this.vL.Ks(_E.P_,this.LP),this.vL.Ks(_E.Cg,this.Ws)},i.Df=function(){var t=this.vL,n=this.fD.By();if(t!==n){this.cL=!0;var i=this.cP,r=this.fP;i&&this.kp(),this.lL(),this.vL=n,this.dL(),i&&!this.cP&&this.fP?this.pp():this.kp(),this.cL=!1,r!==this.fP&&this.qs(new FR),i!==this.cP&&this.qs(new LR)}},i.Bh=function(){this.Zs(),this.lL(),this.fD.Ks(vw.Av,this.fL)},Ar(n,[{key:"fP",get:function(){return!!this.hL&&this.vL.fP}},{key:"cP",get:function(){return this.vL.cP}}]),n}(Gc);function VR(t){var n;return{get url(){return t.Md},get method(){return t.ol},get headers(){return n||(n=t.Dd.ud()),n},get body(){return t.yd},get useCredentials(){return t.vl},get type(){return t.$u},get subType(){return t.fl},get mediaType(){return t.hl},get responseType(){return t.Pd}}}function WR(t){switch(t.toLowerCase()){case"arraybuffer":return dw.$v;case"json":return dw.td;case"stream":return dw.rd;case"text":default:return dw.ed}}function qR(t){switch(t.toUpperCase()){case"POST":return Uw.POST;case"PUT":return Uw.PUT;case"DELETE":return Uw.DELETE;case"HEAD":return Uw.HEAD;case"OPTIONS":return Uw.OPTIONS;case"GET":default:return Uw.GET}}function GR(t){switch(t.toLowerCase()){case"manifest":return Hw.Xd;case"segment":return Hw.zd;case"preload-hint":return Hw.Vd;case"content-protection":return Hw.Wd;default:return Hw.Hd}}function jR(t){switch(t.toLowerCase()){case"initialization-segment":return Xw.qd;case"fairplay-license":return Xw.Gd;case"fairplay-certificate":return Xw.jd;case"widevine-license":return Xw.Yd;case"widevine-certificate":return Xw.Qd;case"playready-license":return Xw.Zd;case"clearkey-license":return Xw.Kd;case"aes128-key":return Xw.Jd;default:return Xw.Hd}}function YR(t){switch(t.toLowerCase()){case"audio":return zw.$d;case"video":return zw.il;case"text":return zw.ed;case"image":return zw.ul;case"":default:return zw.Hd}}yr(),zt(),yr(),zt(),kr(),yr(),zt(),yr(),zt(),kr();var QR=function(){function t(t,n){this.wL=t,this._L=n,this.gL=new kh,this.mL=[],this.m_=void 0,this.yL=!1,this.Nl=void 0,this.pL=0}var n=t.prototype;return n.tT=function(){this.yL=!0,this.gL.qo(null)},n.AL=function(){this.gL.Go(new yw(this.mL))},n.kL=function(t){if(!this.bL)throw new h("Cannot respond more than once");if(!oe(t))throw new h("Expected valid response");this.Nl=this.TL(t),this.tT()},n.SL=function(){try{var t=this._L(this.y_);t?this.EL(t):this.IL||this.RL||this.tT()}catch(t){this.mL.push(t),this.AL()}},n.EL=function(t){if(this.RL)throw new f("Request has been redirected or a response already exists");if(he(t))this.CL(t);else{if("function"!=typeof t)throw new h("Expected promise or function");var n=new kh;try{var i=t((function(t){t?n.Go(t):n.qo(void 0)}));he(i)&&n.Fs(i)}catch(t){n.Go(t)}this.CL(n.Wo)}},n.CL=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),n.pL++,[4,t];case 1:return r.sent(),n.pL--,n.IL||n.RL||(n.mL.length?n.AL():n.tT()),[3,3];case 2:return i=r.sent(),n.pL--,n.mL.push(i),n.IL||n.RL||n.AL(),[3,3];case 3:return[2]}}))}))()},Ar(t,[{key:"NL",get:function(){return this.gL.Wo}},{key:"y_",get:function(){return this.m_||(this.m_=this.DL()),this.m_}},{key:"RL",get:function(){return this.yL}},{key:"bL",get:function(){return!this.yL}},{key:"IL",get:function(){return this.pL>0}},{key:"Dl",get:function(){return this.Nl}}]),t}(),ZR=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).PL=r,e.SL(),e}zr(n,t);var i=n.prototype;return i.DL=function(){return function(t){var n,i=VR(t.xd);return{get closed(){return!t.bL},get request(){return i},get url(){return t.Md},get status(){return t.Nd},get statusText(){return t.Bd},get headers(){return n||(n=t.Dd.ud()),n},get body(){return t.yd},respondWith:function(n){return t.kL(n)},waitUntil:function(n){return t.EL(n)}}}(this)},i.TL=function(t){return n.BL(t,this.wL,this.PL)},n.BL=function(t,n,i){var r=void 0===t.body?i:t.body;return new Vw({Ud:r,xd:n.xd,Pd:n.xd.Pd,Dd:t.headers,Nd:t.status,Bd:t.statusText,Ld:t.url,Od:!0},n)},Ar(n,[{key:"yd",get:function(){return this.PL}},{key:"Dd",get:function(){return this.wL.Dd}},{key:"xd",get:function(){return this.wL.xd}},{key:"Dl",get:function(){return this.Nl}},{key:"Nd",get:function(){return this.wL.Nd}},{key:"Bd",get:function(){return this.wL.Bd}},{key:"Md",get:function(){return this.wL.Ld}}]),n}(QR);yr(),zt(),kr();var KR=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).OL=void 0,e.xL=r,e.SL(),e}zr(n,t);var i=n.prototype;return i.DL=function(){return function(t){var n;return{get url(){return t.Md},get method(){return t.ol},get headers(){return n||(n=t.Dd.ud()),n},get body(){return t.yd},get closed(){return!t.bL},get useCredentials(){return t.vl},get type(){return t.$u},get subType(){return t.fl},get mediaType(){return t.hl},get responseType(){return t.Pd},redirect:function(n){return t.LL(n)},respondWith:function(n){return t.kL(n)},waitUntil:function(n){return t.EL(n)}}}(this)},i.TL=function(t){var n=this.wL.yd,i=new Vw({Ud:n,Dd:{},xd:this.wL,Ld:this.wL.Md,Pd:this.wL.Pd,Nd:200,Bd:"OK"});return ZR.BL(t,i,n)},i.LL=function(t){if(!this.bL)throw new h("Cannot redirect, already redirected or has a response");var n;n=ce(t)?{url:t}:t,this.OL=function(t,n){return new Ww({Md:void 0===t.url?n.Md:t.url,ol:void 0!==t.method?qR(t.method):void 0,Dd:t.headers,yd:t.body,vl:t.useCredentials,$u:void 0!==t.type?GR(t.type):void 0,fl:void 0!==t.subType?jR(t.subType):void 0,hl:void 0!==t.mediaType?YR(t.mediaType):void 0,Pd:void 0!==t.responseType?WR(t.responseType):void 0},n)}(n,this.wL),this.tT()},Ar(n,[{key:"yd",get:function(){return this.wL.yd}},{key:"bL",get:function(){return this.xL&&!this.yL}},{key:"Dd",get:function(){return this.wL.Dd}},{key:"ol",get:function(){return this.wL.ol}},{key:"ML",get:function(){return this.OL}},{key:"Dl",get:function(){return this.Nl}},{key:"Pd",get:function(){return this.wL.Pd}},{key:"al",get:function(){return this.wL.al}},{key:"cl",get:function(){return this.wL.cl}},{key:"Hs",get:function(){return this.wL.Hs}},{key:"$u",get:function(){return this.wL.$u}},{key:"fl",get:function(){return this.wL.fl}},{key:"hl",get:function(){return this.wL.hl}},{key:"Md",get:function(){return this.wL.Md}},{key:"vl",get:function(){return this.wL.vl}},{key:"dl",get:function(){return this.wL.dl}}]),n}(QR);var JR=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new $R(n);return(r=t.call(this,e,i)||this).FL=e,r}zr(n,t);var i=n.prototype;return i.UL=function(t){this.FL.UL(t)},i.HL=function(t){this.FL.HL(t)},i.XL=function(t){this.FL.XL(t)},i.zL=function(t){this.FL.zL(t)},i.VL=function(t){this.FL.VL(t)},n}(Gw),$R=function(){function t(t){this.WL=[],this.qL=[],this.wl=t}var n=t.prototype;return n.xd=function(t){var n=this;return ta((function(){var i,r;return ia(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,n.GL(t,t.Hs)];case 1:return i=e.sent(),[3,5];case 2:return(r=e.sent())instanceof $w?[4,n.jL(r,t.Hs)]:[3,4];case 3:return[2,e.sent()];case 4:throw r;case 5:return[4,n.YL(i,t.Hs)];case 6:if(Fw(i=e.sent()))return[2,i];throw new n_(i)}}))}))()},n.ll=function(t){return this.wl.ll(t)},n.GL=function(t,n){var i=this;return ta((function(){var r,e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:Bc(n),r=t,u=0,s=i.WL.slice(),c.label=1;case 1:if(!(u<s.length))return[3,7];if(o=s[u],Bc(n),(a=new KR(r,o,!e)).RL)return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.NL];case 3:return c.sent(),[3,5];case 4:return c.sent(),[3,6];case 5:a.ML&&!e?r=a.ML:a.Dl&&!e&&(e=a.Dl),c.label=6;case 6:return u++,[3,1];case 7:return e?[2,e]:[2,i.wl.xd(r)]}}))}))()},n.jL=function(t,n){var i=this;return ta((function(){var r,e;return ia(this,(function(u){switch(u.label){case 0:return r=t instanceof n_?t.Dl:new Vw({Ud:null,xd:t.xd,Nd:0,Bd:""}),[4,i.YL(r,n)];case 1:if((e=u.sent())===r)throw t;if(Fw(e))return[2,e];throw new n_(e)}}))}))()},n.YL=function(t,n){var i=this;return ta((function(){var r,e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:r=t,e=0,u=i.qL.slice(),c.label=1;case 1:return e<u.length?(s=u[e],Bc(n),[4,j.resolve(r.Ho().Ud(n))]):[3,8];case 2:if(o=c.sent(),(a=new ZR(r,s,o)).RL)return[3,6];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,a.NL];case 4:return c.sent(),[3,6];case 5:return c.sent(),[3,7];case 6:r=a.Dl||r,c.label=7;case 7:return e++,[3,1];case 8:return[2,r]}}))}))()},n.UL=function(t){this.WL.unshift(t)},n.HL=function(t){this.WL.push(t)},n.XL=function(t){hc(this.WL,t)},n.zL=function(t){this.qL.unshift(t)},n.VL=function(t){hc(this.qL,t)},n.Bh=function(){this.wl.Bh(),wc(this.WL),wc(this.qL)},t}();yr(),zt(),kr();var tC,nC=function(){function t(t){this.vI=t}var n=t.prototype;return n.UL=function(t){this.vI.UL(t)},n.XL=function(t){this.vI.XL(t)},n.zL=function(t){this.vI.zL(t)},n.VL=function(t){this.vI.VL(t)},Ar(t,[{key:"y_",get:function(){return this.m_||(this.m_=function(t){return{addRequestInterceptor:function(n){t.UL(n)},removeRequestInterceptor:function(n){t.XL(n)},addResponseInterceptor:function(n){t.zL(n)},removeResponseInterceptor:function(n){t.VL(n)}}}(this)),this.m_}}]),t}(),iC=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).QL=n,e.vI=i,e.mP=r,e.ZL=function(t){e.qs(t)},e.KL=function(t){e.qs(t)},e.QL.js(vw.Pv,e.ZL),e.QL.js(vw.Dv,e.KL),e}zr(n,t);var i=n.prototype;return i.JL=function(t){this.mP.JL(t)},i.UL=function(t){this.vI.UL(t)},i.XL=function(t){this.vI.XL(t)},i.zL=function(t){this.vI.zL(t)},i.VL=function(t){this.vI.VL(t)},i.Bh=function(){this.Zs(),this.QL.Ks(vw.Pv,this.ZL),this.QL.Ks(vw.Dv,this.KL)},Ar(n,[{key:"y_",get:function(){return this.m_||(this.m_=function(t){return{get online(){return t.Jy},get estimator(){return function(t){return{get bandwidth(){return t.BC},get roundTripTime(){return t.OC}}}(t.$L)},setEstimator:function(n){t.JL(function(t){if(!t)return;return{get BC(){return ym(t.bandwidth)},get OC(){return ym(t.roundTripTime)},DC:function(n){return function(t){if(!t)return;return{tM:function(n){t.markRequestStart(n)},nM:function(n){t.markResponseStart(n)},iM:function(n,i){t.markResponseData(n,i)},rM:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(VR(n)))}}}(n))},addRequestInterceptor:function(n){t.UL(n)},removeRequestInterceptor:function(n){t.XL(n)},addResponseInterceptor:function(n){t.zL(n)},removeResponseInterceptor:function(n){t.VL(n)},addEventListener:function(n,i){t.js(n,i)},removeEventListener:function(n,i){t.Ks(n,i)}}}(this)),this.m_}},{key:"Jy",get:function(){return this.QL.Jy}},{key:"$L",get:function(){return this.mP.$L}}]),n}(Gc);yr(),zt(),kr(),yr(),zt(),yr(),zt(),function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(tC||(tC={})),yr(),zt();function rC(t){return t instanceof f&&"QuotaExceededError"===t.name}yr(),zt();var eC={type:tC.BANDWIDTH};function uC(t){var n=vm(eC);return ce(t)?n.type=sC(t):oe(t)&&function(t){switch(t){case tC.PERFORMANCE:case tC.QUALITY:case tC.BANDWIDTH:return!0;default:return!1}}(t.type)&&(n.type=sC(t.type)),oe(t)&&oe(t.metadata)&&(n.metadata=function(t){var n={},i=mm(t.bitrate);return _(i)||(n.bitrate=i),n}(t.metadata)),n}function sC(t){switch(t){case"bandwidth":return tC.BANDWIDTH;case"performance":return tC.PERFORMANCE;case"quality":return tC.QUALITY}}function oC(t){return{get strategy(){return function(t){return{metadata:t.metadata,type:t.type}}(t.eM)},set strategy(n){t.eM=uC(n)},get targetBuffer(){return t.uM},set targetBuffer(n){var i=mm(n);_(i)||(t.uM=i)},get bufferLookbackWindow(){return t.sM},set bufferLookbackWindow(n){var i=mm(n);_(i)||(t.sM=i<=0?30:i)},get maxBufferLength(){return t.oM}}}yr(),zt();var aC=function(t){function n(n){var i;return(i=t.call(this,"aM")||this).uM=n,i}return zr(n,t),n}(Qc);yr(),zt();var cC=function(t){function n(n){var i;return(i=t.call(this,"cM")||this).eM=n,i}return zr(n,t),n}(Qc);yr(),zt();var fC=function(t){function n(n){var i;return(i=t.call(this,"fM")||this).sM=n,i}return zr(n,t),n}(Qc),hC=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).m_=oC($a(n)),n.hM=eC,n.vM=20,n.dM=30,n.lM=1/0,n.wM=void 0,n}zr(n,t);var i=n.prototype;return i._M=function(t){this.gM=t},i.JL=function(t){this.wM=t},i.mM=function(t){var n=d.min(t,.8*this.lM);if(n=d.max(10,n),this.lM===n)return!1;var i=this.yM;this.lM=n;var r=this.yM;return r!==i&&this.qs(new aC(r)),!0},Ar(n,[{key:"pM",get:function(){switch(this.hM.type){case tC.PERFORMANCE:return 0;case tC.QUALITY:return 1/0;case tC.BANDWIDTH:return this.hM.metadata&&void 0!==this.hM.metadata.bitrate?this.hM.metadata.bitrate:jm.$r.Yg();default:return jm.$r.Yg()}}},{key:"y_",get:function(){return this.m_}},{key:"eM",get:function(){return this.hM},set:function(t){this.hM=t,this.qs(new cC(t))}},{key:"uM",get:function(){return this.vM},set:function(t){this.vM=t,this.qs(new aC(t))}},{key:"yM",get:function(){return d.min(this.vM,this.lM)}},{key:"sM",get:function(){return this.dM},set:function(t){this.dM=t,this.qs(new fC(t))}},{key:"oM",get:function(){return this.lM}},{key:"$L",get:function(){var t;return null!=(t=this.wM)?t:this.gM.QN}}]),n}(Gc);yr(),zt(),kr(),yr(),zt();var vC=function(t){function n(){return t.call(this,"B_")}return zr(n,t),n.prototype.p_=function(){return new dC},n}(Zg),dC=function(t){function n(){return t.call(this,"change")}return zr(n,t),n}(Qc);yr(),zt(),yr(),zt();var lC=function(t){function n(n,i,r){var e;(e=t.call(this,r)||this).AM=function(t){Kg(t)&&Hc((function(){e.qs(t.y_)}))},e.kM=n,e.$O=i;for(var u=0,s=e.$O;u<s.length;u++){var o=s[u];e.kM.js(o,e.AM)}return e}return zr(n,t),n.prototype.Bh=function(){this.Zs();for(var t=0,n=this.$O;t<n.length;t++){var i=n[t];this.kM.Ks(i,this.AM)}},n}(Gc),wC=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).AM=function(t){Kg(t)&&Hc((function(){r.qs(t.y_)}))},r.kM=n,r.kM.Qs(r.AM),r}return zr(n,t),n.prototype.Bh=function(){this.Zs(),this.kM.uo(this.AM)},n}(Hm);var _C=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Fp=0,n.Up=1/0,n}zr(n,t);var i=n.prototype;return i.Wf=function(){0===this.Fp&&this.Up===1/0||(this.Fp=0,this.Up=1/0,this.qs(new vC))},i.bM=function(){return new gE([this.Tp,this.Sp],[!0,!0])},Ar(n,[{key:"Tp",get:function(){return this.Fp},set:function(t){if(this.Sp<=t)throw new f("Start time of a clip should be smaller than the end time.");this.Fp!==t&&(this.Fp=t,this.qs(new vC))}},{key:"Sp",get:function(){return this.Up},set:function(t){if(t<=this.Tp)throw new f("End time of a clip should be larger than the start time.");this.Up!==t&&(this.Up=t,this.qs(new vC))}},{key:"y_",get:function(){return this.m_||(this.m_=function(t){var n,i={get startTime(){return t.Tp},set startTime(n){t.Tp=n},get endTime(){return t.Sp},set endTime(n){t.Sp=n},addEventListener:function(t,i){n.js(t,i)},removeEventListener:function(t,i){n.Ks(t,i)}};return n=new wC(t,i),i}(this)),this.m_}}]),n}(Hm);yr(),zt(),kr(),yr(),zt(),kr();var gC=function(t){function n(n){var i;return(i=t.call(this)||this).TM=n,i.SM=function(t){i.EM(t)||i.qs(t)},i.TM.Qs(i.SM),i}zr(n,t);var i=n.prototype;return i.IM=function(){return this.TM.vy},i.Oy=function(){return this.TM.Oy()},i.RM=function(){return this.TM.Xy},i.CM=function(){return this.TM.Fy},i.NM=function(){return this.TM.zy},i.DM=function(t){this.TM.zy=t},i.PM=function(){return this.TM.Tm},i.BM=function(t){this.TM.Tm=t},i.OM=function(){return this.TM.Sm},i.xM=function(){return this.TM.Vy},i.LM=function(){return this.TM.Em},i.MM=function(){return this.TM.Ao},i.FM=function(){return this.TM.Im},i.UM=function(){return this.TM.Wy},i.HM=function(){return this.TM.Rm},i.XM=function(t){this.TM.Rm=t},i.zM=function(){return this.TM.Jy},i.VM=function(){return this.TM.Cm},i.WM=function(){return this.TM.Nm},i.qM=function(t){this.TM.Nm=t},i.GM=function(){return this.TM.$y},i.jM=function(){return this.TM.tp},i.YM=function(t){this.TM.tp=t},i.QM=function(){return this.TM.Mg},i.ZM=function(){return this.TM.np},i.KM=function(){return this.TM.Dm},i.Ay=function(){return this.TM.Ay()},i.by=function(t,n){var i=this;return ta((function(){return ia(this,(function(r){switch(r.label){case 0:return Bc(n),[4,i.TM.by(t,n)];case 1:return r.sent(),[2]}}))}))()},i.JM=function(){return this.TM.wy},i.$M=function(){return this.TM.Pm},i.tF=function(){return this.TM.ly},i.nF=function(){return this.TM.Bm},i.iF=function(){return this.TM.Om},i.rF=function(t){this.TM.Om=t},i.By=function(){return this.TM.By()},i.Py=function(){return this.TM.Py()},i.Ry=function(t){this.TM.Ry(t)},i.Cy=function(){this.TM.Cy()},i.Dy=function(){this.TM.Dy()},i.Iy=function(){this.TM.Iy()},i.yy=function(){this.TM.yy()},i.gy=function(){this.TM.gy()},i.Ny=function(){this.TM.Ny()},i.py=function(){return this.TM.py()},i.Ty=function(){return this.TM.Ty()},i.Sy=function(){this.TM.Sy()},i.Ey=function(){this.TM.Ey()},i.Wf=function(){return this.TM.Wf()},i.Bh=function(){return this.TM.Bh()},i.Uy=function(){this.TM.Uy()},i.Hy=function(){this.TM.Hy()},i.xy=function(t){return this.TM.xy(t)},i.EM=function(t){return!1},Ar(n,[{key:"vy",get:function(){return this.IM()}},{key:"Xy",get:function(){return this.RM()}},{key:"zy",get:function(){return this.NM()},set:function(t){this.DM(t)}},{key:"Fy",get:function(){return this.CM()}},{key:"Tm",get:function(){return this.PM()},set:function(t){this.BM(t)}},{key:"Sm",get:function(){return this.OM()}},{key:"Vy",get:function(){return this.xM()}},{key:"Em",get:function(){return this.LM()}},{key:"Ao",get:function(){return this.MM()}},{key:"Im",get:function(){return this.FM()}},{key:"_y",get:function(){return this.TM._y}},{key:"Wy",get:function(){return this.UM()}},{key:"qy",get:function(){return this.TM.qy}},{key:"Rm",get:function(){return this.HM()},set:function(t){this.XM(t)}},{key:"Jy",get:function(){return this.zM()}},{key:"Cm",get:function(){return this.VM()}},{key:"Nm",get:function(){return this.WM()},set:function(t){this.qM(t)}},{key:"$y",get:function(){return this.GM()}},{key:"tp",get:function(){return this.jM()},set:function(t){this.YM(t)}},{key:"Mg",get:function(){return this.QM()}},{key:"np",get:function(){return this.ZM()}},{key:"Dm",get:function(){return this.KM()}},{key:"wy",get:function(){return this.JM()}},{key:"Pm",get:function(){return this.$M()}},{key:"ly",get:function(){return this.tF()}},{key:"Bm",get:function(){return this.nF()}},{key:"Om",get:function(){return this.iF()},set:function(t){this.rF(t)}},{key:"ip",get:function(){return this.TM.ip}},{key:"rp",get:function(){return this.TM.rp},set:function(t){this.TM.rp=t}}]),n}(Xm),mC=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).eF=!1,e.uF=void 0,e.sF=!1,e.oF=function(){e.aF(),e.cF()},e.eN=function(){e.fF(),e.cF(),e.hF&&e.Tm>=e.vF.Sp-n.dF&&!e.Em&&(e.uF=IR(e.eN))},e.lF=function(){e.sF=!0},e.wF=function(){e.sF&&(e.sF=!1,e.cF())},e.vF=r,e.vF.js("B_",e.oF),e.TM.js("timeupdate",e.eN),e}zr(n,t);var i=n.prototype;return i.BM=function(n){var i=this.vF.bM().xD(n);t.prototype.BM.call(this,i),this.cF()},i.LM=function(){return t.prototype.LM.call(this)||this.eF},i.ZM=function(){return gE.iP(t.prototype.ZM.call(this)).LD(this.vF.bM()).qN()},i.gy=function(){this.LM()?this.BM(this._F.start(0)):this.aF(),t.prototype.gy.call(this),this.cF()},i.by=function(n,i){var r=this;return ta((function(){return ia(this,(function(e){switch(e.label){case 0:return Bc(i),r.eF=!1,r.vF.Wf(),[4,t.prototype.by.call(r,n,i)];case 1:return e.sent(),[2]}}))}))()},i.Bh=function(){return this.vF.Ks("B_",this.oF),this.TM.Ks("timeupdate",this.eN),this.fF(),t.prototype.Bh.call(this)},i.EM=function(n){switch(n.type){case"seeking":return this.qs(n),this.lF(),!0;case"seeked":case"emptied":return this.qs(n),this.wF(),!0;case"ended":if(this.hF)return!0}return t.prototype.EM.call(this,n)},i.fF=function(){this.uF&&(RR(this.uF),this.uF=void 0)},i.cF=function(){var t=this.Tm,i=this.hF&&t>=this.vF.Sp-n.$A;this.eF&&!i?(this.eF=!1,this.Cm&&this.gy()):this.eF||!i||this.Dm||this.sF||(this.eF=!0,this.qs(new Cy(t)),this.yy())},i.aF=function(){if(this.Sm!==1/0){var t=this._F,i=gE.iP(t).xD(this.Tm);eu(this.Tm,i,n.$A)||this.BM(i)}},Ar(n,[{key:"_F",get:function(){return this.ZM().length?this.ZM():this.vF.bM().qN()}},{key:"hF",get:function(){return this.vF.Sp<this.Sm}}]),n}(gC);mC.dF=1,mC.$A=.001,yr(),zt(),kr();var yC=function(){function t(){this.gF=!1}return Ar(t,[{key:"mF",get:function(){return this.gF},set:function(t){this.gF=t}}]),t}();yr(),zt();var pC=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).yF=!1,r.pF=!1,r.gF=i,r}zr(n,t);var i=n.prototype;return i.LM=function(){return!this.gF.mF&&t.prototype.LM.call(this)},i.yy=function(){this.pF=!0,t.prototype.yy.call(this)},i.gy=function(){this.pF=!1,t.prototype.gy.call(this)},i.EM=function(n){if(this.gF.mF)switch(n.type){case"ended":return this.Tm=0,this.pF||(this.Dm?this.yF=!0:this.gy()),!0;case"seeked":this.yF&&(this.yF=!1,this.gy());break;case"pause":if(this.yF||t.prototype.LM.call(this))return!0}return t.prototype.EM.call(this,n)},n}(gC);yr(),zt(),kr(),yr(),zt();var AC=function(){function t(t){this.pD=t,this.m_=function(t){return{get currentBandwidthEstimate(){return t.Qy},get corruptedVideoFrames(){return t.jy},get droppedVideoFrames(){return t.Gy},get totalBytesLoaded(){return t.Zy},get bufferedSegments(){return t.Ky}}}(this)}return Ar(t,[{key:"y_",get:function(){return this.m_}},{key:"jy",get:function(){return this.pD.AF.qy.jy}},{key:"Qy",get:function(){return this.pD.AF.qy.Qy}},{key:"Gy",get:function(){return this.pD.AF.qy.Gy}},{key:"kF",get:function(){throw new f("Not implemented")}},{key:"bF",get:function(){throw new f("Not implemented")}},{key:"Zy",get:function(){return this.pD.AF.qy.Zy}},{key:"Yy",get:function(){return this.pD.AF.qy.Yy}},{key:"Ky",get:function(){return this.pD.AF.qy.Ky}}]),t}();function kC(t){if(!t||!No(t))return{Gy:0,jy:0,Yy:0,Qy:0,Zy:0,Ky:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{Gy:n.droppedVideoFrames,jy:n.corruptedVideoFrames||0,Yy:n.totalVideoFrames}}return{Gy:t.webkitDroppedFrameCount||0,jy:0,Yy:t.webkitDecodedFrameCount||0}}yr(),zt(),kr(),yr(),zt();var bC=function(t){function n(){return t.call(this,"TF")}return zr(n,t),n.prototype.p_=function(){return new TC},n}(Zg),TC=function(t){function n(){return t.call(this,"castingchange")}return zr(n,t),n}(Qc);yr(),zt();var SC=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).SF=[],n.EF=!1,n.m_=void 0,n.IF=function(){var t=n.EF,i=n.RF;t!==i&&(n.EF=i,n.qs(new bC))},n}zr(n,t);var i=n.prototype;return i.CF=function(t){this.SF.push(t),t.js("statechange",this.IF)},i.Bh=function(){for(var t=0,n=this.SF;t<n.length;t++){n[t].Ks("statechange",this.IF)}wc(this.SF)},Ar(n,[{key:"RF",get:function(){return this.SF.some((function(t){return t.RF}))}},{key:"y_",get:function(){return this.m_||(this.m_=function(t){var n,i={get casting(){return t.RF},addEventListener:function(t,i){n.js(t,i)},removeEventListener:function(t,i){n.Ks(t,i)}};return n=new lC(t,["TF"],i),i}(this)),this.m_}}]),n}(Gc);yr(),zt(),yr(),zt();var EC=function(){function t(){}return t.NF=function(t,n){return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),i=new Ww({Md:t,Pd:dw.ed,ol:Uw.GET}),[4,n.xd(i)];case 1:return[4,r.sent().Ud()];case 2:return[2,r.sent().trim()];case 3:return Pc(r.sent()),[2,void 0];case 4:return[2]}}))}))()},t.DF=function(t){try{var n=zI(t);return new YI(n.key,n.domains_page,n.domains_source,n.expiration_date,n.features,n.customer_id,n.generation_date,n.sdks,n.send_impression)}catch(t){throw new Wl(Hl.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.PF=function(t){void 0===t&&(t=CI.xk),Pr.wu("The baked-in license is used. Please update the configuration with your license.");var n=t.YB(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),i=JSON.parse('["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.YB(n)})),r=JSON.parse('["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.YB(n)})),e=Number(new Date(Number(t.YB('COD|aHpHa:p3Ceo3Co""')))),u=JSON.parse("[]").map((function(n){return t.YB(n)}));return new YI(n,i,r,e,u)},t.convertLicenseToDummyLicense=function(t){return new YI(t.iO,t.rO,t.eO,864e13,t.sO,t.oO,Date.now(),t.cO,t.fO)},t}();yr(),zt();var IC=function(){function t(){}return t.rv=function(){return t.$r||(t.$r=RC.Jf()?new RC:new ow),t.$r},t.Oo=function(n){t.rv().Oo(n)},t.$h=function(){t.rv().$h()},t.Do=function(n){return t.rv().Do(n)},t.tv=function(n,i){t.rv().tv(n,i)},t.BF=function(n){var i=t.Do(n);if(void 0!==i)return w(i)},t.OF=function(n){return"true"===t.Do(n)},t}();IC.$r=void 0;var RC=function(t){function n(){return t.apply(this,arguments)}zr(n,t);var i=n.prototype;return i.Oo=function(t){self.localStorage.removeItem(t)},i.$h=function(){self.localStorage.clear()},i.Do=function(t){var n;return null!=(n=self.localStorage.getItem(t))?n:void 0},i.tv=function(t,n){self.localStorage.setItem(t,n)},n.Jf=function(){var t="foobar";try{return self.localStorage.setItem(t,t),self.localStorage.removeItem(t),!0}catch(t){}return!1},n}(IC),CC="https://validate.theoplayer.com/1/",NC=72e5,DC=d.floor(14399999*d.random()-NC),PC="THEOplayer.license",BC=function(){function t(t,n,i,r,e,u){this.vI=t,this.xF=n,this.LF=i,this.QO=r,this.MF=e,this.Ya=u,this._O=nR(u)}var n=t.prototype;return n.FF=function(){var t=this;return ta((function(){var n;return ia(this,(function(i){switch(i.label){case 0:return[4,t.UF(t.MF.license,t.MF.licenseUrl)];case 1:return n=i.sent(),t.QO.HF(n),[2]}}))}))()},n.UF=function(t,n){var i=this;return ta((function(){var r,e,u,s,o,a,c,f;return ia(this,(function(h){switch(h.label){case 0:return r=n,t?e=EC.DF(t):r||(e=EC.PF()),r||(r=CC+e.iO),u=i.XF(),e?(s=i.xF.bO(e))!==WI.$B?[3,3]:i.zF(e.uO)&&i.zF(null==u?void 0:u.uO)?[4,i.VF(r)]:[3,2]:[3,3];case 1:if(o=h.sent())return[2,o];h.label=2;case 2:return[2,e];case 3:return u?i.xF.bO(u)!==WI.$B?[3,6]:i.zF(null==u?void 0:u.uO)?[4,i.VF(r)]:[3,5]:[3,7];case 4:if(a=h.sent())return[2,a];h.label=5;case 5:return[2,u];case 6:IC.Oo(PC),h.label=7;case 7:return[4,EC.NF(r,i.vI)];case 8:if(c=h.sent()){if(f=EC.DF(c),i.xF.bO(f)===WI.$B)return IC.tv(PC,c),[2,f];IC.Oo(PC)}else if(!i._O&&e&&s===WI.tO&&r===CC+e.iO)return[2,EC.convertLicenseToDummyLicense(e)];if(!e&&!f)throw new Wl(Hl.LICENSE_ERROR,"The given license is invalid!");return i.WF(null!=e?e:f,new Wl(Hl.LICENSE_ERROR,"The given license is invalid!")),[2]}}))}))()},n.gO=function(t){var n=this;return ta((function(){var i,r,e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:return[4,n.QO.wx()];case 1:return i=c.sent(),n.zF(i.uO)?(e=null!=(r=n.MF.licenseUrl)?r:CC+i.iO,[4,n.VF(e)]):[3,3];case 2:(u=c.sent())&&(n.QO.HF(u),i=u),c.label=3;case 3:try{if((s=n.xF.bO(i))===WI.nO)throw o=jI.hO,new Wl(ZI(o),rR.AO(o));if(s===WI.tO)throw a=jI.tO,new Wl(ZI(a),rR.AO(a));n.xF.gO(t,i)}catch(t){n.qF(t)}return[2]}}))}))()},n.kO=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return[4,n.QO.wx()];case 1:i=r.sent();try{n.xF.kO(t,i)}catch(t){n.qF(t)}return[2]}}))}))()},n.VF=function(t){var n=this;return ta((function(){var i,r;return ia(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,EC.NF(t,n.vI)];case 1:return void 0===(i=e.sent())?[2,void 0]:(r=EC.DF(i),n.xF.bO(r)===WI.$B?(IC.tv(PC,i),[2,r]):[2,void 0]);case 2:return e.sent(),[2,void 0];case 3:return[2]}}))}))()},n.zF=function(t){return!t||Number(new Date)+2592e5+DC>=t},n.XF=function(){var t=IC.Do(PC);if(t)return EC.DF(t)},n.WF=function(t,n){this.QO.HF(t),this.qF(n)},n.qF=function(t){throw Ee(t.message),this.LF.mx(t.message),t},t}();yr(),zt(),kr();var OC=function(){function t(){this.GF=new kh}var n=t.prototype;return n.HF=function(t){this.jF=t,this.GF.qo()},n.wx=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t.jF?[2,j.resolve(t.jF)]:[4,t.GF.Wo];case 1:return n.sent(),[2,t.jF]}}))}))()},Ar(t,[{key:"YF",get:function(){return this.jF}}]),t}();yr(),zt(),kr(),yr(),zt();var xC=function(t){function n(){return t.call(this,"B_")}return zr(n,t),n.prototype.p_=function(){return new LC},n}(Zg),LC=function(t){function n(){return t.call(this,"change")}return zr(n,t),n}(Qc);function MC(t){var n,i={get fontFamily(){return t.QF},set fontFamily(n){t.QF=n},get fontColor(){return t.ZF},set fontColor(n){t.ZF=n},get fontSize(){return t.KF},set fontSize(n){t.KF=n},get backgroundColor(){return t.JF},set backgroundColor(n){t.JF=n},get windowColor(){return t.tU},set windowColor(n){t.tU=n},get edgeStyle(){return t.nU},set edgeStyle(n){t.nU=n},get marginTop(){return t.iU},set marginTop(n){t.iU=n},get marginBottom(){return t.rU},set marginBottom(n){t.rU=n},get marginLeft(){return t.eU},set marginLeft(n){t.eU=n},get marginRight(){return t.uU},set marginRight(n){t.uU=n},addEventListener:function(t,i){var r=km(t,pm);n.js(r,i)},removeEventListener:function(t,i){var r=km(t,pm);n.Ks(r,i)}};return n=new jc(i),t.js(["B_"],(function(t){return n.qs(t.y_)})),i}yr(),zt();var FC={QF:void 0,ZF:void 0,KF:void 0,JF:void 0,tU:void 0,nU:void 0,sU:void 0,iU:void 0,rU:void 0,eU:void 0,uU:void 0},UC="THEOplayer.textTrackStyle.",HC=function(t){function n(){var i;return(i=t.call(this)||this).m_=void 0,i.oU=n.aU(),i}return zr(n,t),n.prototype.Df=function(t){this.oU=na({},this.oU,t),n.cU(this.oU),this.qs(new xC)},n.aU=function(){var t=na({},FC);return t.QF=IC.Do(UC+"fontFamily")||t.QF,t.ZF=IC.Do(UC+"fontColor")||t.ZF,t.KF=IC.Do(UC+"fontSize")||t.KF,t.JF=IC.Do(UC+"backgroundColor")||t.JF,t.tU=IC.Do(UC+"windowColor")||t.tU,t.nU=IC.Do(UC+"edgeStyle")||t.nU,t},n.cU=function(t){IC.tv(UC+"fontFamily",t.QF||""),IC.tv(UC+"fontColor",t.ZF||""),IC.tv(UC+"fontSize",t.KF||""),IC.tv(UC+"backgroundColor",t.JF||""),IC.tv(UC+"windowColor",t.tU||""),IC.tv(UC+"edgeStyle",t.nU||"")},Ar(n,[{key:"fU",get:function(){return this.oU}},{key:"QF",get:function(){return this.oU.QF},set:function(t){this.Df({QF:t})}},{key:"ZF",get:function(){return this.oU.ZF},set:function(t){this.Df({ZF:t})}},{key:"KF",get:function(){return this.oU.KF},set:function(t){this.Df({KF:t})}},{key:"JF",get:function(){return this.oU.JF},set:function(t){this.Df({JF:t})}},{key:"tU",get:function(){return this.oU.tU},set:function(t){this.Df({tU:t})}},{key:"nU",get:function(){return this.oU.nU},set:function(t){this.Df({nU:t})}},{key:"sU",get:function(){return this.oU.sU}},{key:"iU",get:function(){return this.oU.iU},set:function(t){this.Df({iU:t})}},{key:"rU",get:function(){return this.oU.rU},set:function(t){this.Df({rU:t})}},{key:"uU",get:function(){return this.oU.uU},set:function(t){this.Df({uU:t})}},{key:"eU",get:function(){return this.oU.eU},set:function(t){this.Df({eU:t})}},{key:"y_",get:function(){return this.m_||(this.m_=MC(this)),this.m_}}]),n}(Gc);function XC(t,n){var i,r;t.style.marginLeft=(null!=(i=n.eU)?i:0)+"px",t.style.marginRight=(null!=(r=n.uU)?r:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}yr(),zt(),kr(),Or(),yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt();var zC,VC=[vw.Ov,vw.Bv,ky.Am,vw.Yv,vw.xv,vw.Rv,vw.Hv,vw.Uv,vw.pv,vw.Lv,vw.Qv,vw.mv,ky.O_,vw.Fv,Pm.Cg,Yc.To,Yc.Eo,vw.vv,vw.hv,vw.Zv,vw.Tv,vw.Ev],WC={hU:!1};function qC(t){return t.Uf.$u===lb.pI}yr(),zt(),function(t){t.vU="dU"}(zC||(zC={}));var GC,jC=["dU"];!function(t){t[t.lU=0]="lU",t[t.rd=1]="rd",t[t.wU=2]="wU"}(GC||(GC={})),yr(),zt(),kr(),yr(),zt(),kr();var YC,QC=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.UB="_U"}(YC||(YC={}));var ZC=function(t){function n(n,i,r,e){var u;(u=t.call(this)||this).gU=!1,u.mU=new kh,u.yU=!1,u.pU=new Kl,u.Mf=void 0,u.AU=function(){u.yU=!0},u.kU=function(){u.bU(!0)},u.wh=n,u.yN=i,u.Lh=i.kN,u.TU=r,u._s=e,u.Lh.addEventListener("loadedmetadata",u.AU);for(var s=0;s<QC.length;s++){var o=QC[s];u.Lh.addEventListener(o,u.kU)}return u}zr(n,t);var i=n.prototype;return i.SU=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return[4,i._s.gs(t.rs,n)];case 1:return[4,e.sent().jf()];case 2:return r=e.sent(),[4,i.EU(r)];case 3:return e.sent(),[2,r]}}))}))()},i.IU=function(t){var n=this,i=this.Mf;return i?0!==t.CN.length&&t.CN.some((function(t){return t.Ff.rs===i.Ff})):0!==this.wh.CN.length?t.CN.some((function(t){return n.wh.CN.some((function(n){return t.Ff===n.Ff}))})):0===t.CN.length||!this.yU},i.RU=function(t){return this.TU.RU(t),this.wh=t,j.resolve()},i.CU=function(t){return!1},i.Ds=function(){var t=this;return ta((function(){var n,i;return ia(this,(function(r){switch(r.label){case 0:for(t.Zs(),t.Lh.removeEventListener("loadedmetadata",t.AU),n=0;n<QC.length;n++)i=QC[n],t.Lh.removeEventListener(i,t.kU);return[4,t.pU.Bh()];case 1:return r.sent(),[4,t.NU()];case 2:return r.sent(),[4,t.TU.Wf()];case 3:return r.sent(),[4,t.EU(void 0)];case 4:return r.sent(),[2]}}))}))()},i.bU=function(t){t!==this.gU&&(this.gU=t,t?this.mU.qo(void 0):this.mU=new kh)},i.EU=function(t){var n=this;return this.pU.Dh((function(){return n.DU(t)}))},i.DU=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:if(t&&!n.Lh.src)throw new vp(Hl.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&n.Lh.src)throw new vp(Hl.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return!t||n.gU?[3,2]:[4,n.mU.Wo];case 1:r.sent(),r.label=2;case 2:return(i=n.Mf)?[4,i.Vf(n.Lh)]:[3,4];case 3:r.sent(),n.Mf=void 0,r.label=4;case 4:return t?[4,t.zf(n.Lh)]:[3,6];case 5:r.sent(),n.Mf=t,r.label=6;case 6:return[2]}}))}))()},i.by=function(t){var n=this;return this.pU.Dh((function(){return n.PU(t)}))},i.PU=function(t){this.bU(!1);var n=this.yN.Nm;this.Lh.src=t,this.yN.Nm=n},i.BU=function(t){var n=this;return this.pU.Dh((function(){return n.OU(t)}))},i.OU=function(t){this.PU(t),this.Lh.load()},i.NU=function(){var t=this;return this.pU.Dh((function(){return t.xU()}))},i.xU=function(){this.bU(!1),Do(this.Lh)},i.LU=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t.Mf?[4,t.Mf.Wf()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},Ar(n,[{key:"vy",get:function(){throw new f("Not implemented")}},{key:"Uf",get:function(){return this.wh}},{key:"kN",get:function(){return this.Lh}},{key:"ly",get:function(){throw new f("Not implemented")}}]),n}(Gc),KC=function(t){function n(){return t.apply(this,arguments)}zr(n,t);var i=n.prototype;return i._M=function(){var t=this;return ta((function(){var n;return ia(this,(function(i){switch(i.label){case 0:switch((n=t.Uf).DN){case Qm.im:case Qm.um:t.Lh.setAttribute("crossorigin",n.DN);break;case Qm.nm:default:t.Lh.removeAttribute("crossorigin")}return void 0!==n.tp?t.Lh.preload=n.tp:t.Lh.preload=fE.NC,void 0!==n.PN?t.Lh.title=n.PN:Co(t.Lh),[4,t.by(n.Hg)];case 1:return i.sent(),t.TU.Cf(t,n),[2]}}))}))()},i.IU=function(t){return!1},i.RU=function(t){return j.resolve(void 0)},i.Ds=function(){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return Co(n.Lh),[4,t.prototype.Ds.call(n)];case 1:return i.sent(),[2]}}))}))()},n.MU=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.md))},Ar(n,[{key:"Xy",get:function(){return gE.iP(this.Lh.buffered)}},{key:"Sm",get:function(){return this.Lh.duration}},{key:"FU",get:function(){var t=this.Sm;if(!isFinite(t))return!1;var n=this.Xy;return 0!==n.Q_&&t-n.ND(n.Q_-1)<vu}},{key:"tp",get:function(){return this.Lh.preload},set:function(t){this.Lh.preload=t}},{key:"np",get:function(){return gE.iP(this.Lh.seekable)}},{key:"UU",get:function(){return this.Xy}},{key:"HU",get:function(){if(No(this.Lh)&&(this.Lh.videoWidth>0||this.Lh.videoHeight>0))return this.Xy}}]),n}(ZC);yr(),zt();var JC=function(t){function n(n){var i;return(i=t.call(this,vw.xv)||this).currentTime=n,i}return zr(n,t),n}(Qc);yr(),zt();var $C,tN=function(t){function n(){return t.call(this,vw.Rv)}return zr(n,t),n}(Qc);yr(),zt(),kr(),yr(),zt(),kr(),function(t){t.XU="zU"}($C||($C={}));var nN=function(t){function n(n){var i;return(i=t.call(this,"zU")||this).VU=n,i}return zr(n,t),n}(Qc),iN=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).WU=gE.uP(),n}zr(n,t);var i=n.prototype;return i.qU=function(t,n){var i=new gE([t,n]);this.WU=this.WU.XD(i),this.qs(new nN(i))},i.GU=function(t,n){this.WU=this.WU.VD(new gE([t,n]))},i.Wf=function(){this.WU=gE.uP()},i.Bh=function(){this.Zs()},Ar(n,[{key:"jU",get:function(){return this.WU}}]),n}(Gc);yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt();var rN=function(){function t(t,n){var i=n.size,r=void 0===i?function(){return 1}:i,e=n.highWaterMark,u=void 0===e?1:e,s=this;this.St=[],this.Et=0,this.GF=void 0,this.YU=!1,this.QU=void 0,this.ZU=function(t){return t.done?(s.KU(),void s.GF.close()):(s.St.push(t.value),s.Et+=s.JU(t.value),s.YU&&s.KU(),s.$U()?s.ct.read().then(s.ZU):void 0)},this.Jl=function(t){s.KU(),s.GF.error(t)},this.ct=t.getReader(),this.JU=r,this.tH=u}var n=t.prototype;return n.start=function(t){this.GF=t,this.$U()&&this.nH()},n.pull=function(){this.St.length>0?this.KU():this.YU=!0,this.$U()&&this.nH()},n.cancel=function(t){return wc(this.St),this.Et=0,this.YU=!1,this.ct.cancel(t)},n.KU=function(){if(0!==this.St.length){var t=this.St;this.St=[],this.Et=0,this.YU=!1,this.GF.enqueue(t)}},n.$U=function(){return!!this.YU||this.tH-this.Et>0},n.nH=function(){var t=this;if(!this.QU){var n=this.ct.read().then(this.ZU).catch(this.Jl);this.QU=n;var i=function(){t.QU===n&&(t.QU=void 0)};n.then(i,i)}},t}();yr(),zt(),yr(),zt(),kr(),yr(),zt(),yr(),zt();var eN,uN=function(){function t(){this.iH=[],this.xo=0}var n=t.prototype;return n.rH=function(t){this.iH.push(t),this.xo+=t.byteLength},n.eH=function(t){if(this.xo<=t)return this.uH();for(var n=this.iH,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.slice(0,r);if(r<n.length&&i<t){var u=t-i;0,e.push(hh(n[r],0,u)),i+=u}return{iH:e,xo:i}},n.sH=function(t){var n=this.eH(t);return 1===n.iH.length?n.iH[0]:yf(n.iH,n.xo)},n.uH=function(){return{iH:this.iH,xo:this.xo}},n.oH=function(t){if(this.xo<=t)return this.aH();for(var n=this.iH,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.splice(0,r);if(n.length>0&&i<t){var u=t-i;0,e.push(hh(n[0],0,u)),n[0]=hh(n[0],u),i+=u}return this.xo-=i,{iH:e,xo:i}},n.cH=function(t){var n=this.oH(t);return 1===n.iH.length?n.iH[0]:yf(n.iH,n.xo)},n.aH=function(){var t=this.uH();return this.iH=[],this.xo=0,t},n.fH=function(){var t=1===this.iH.length?this.iH[0]:yf(this.iH,this.xo);return this.iH=[],this.xo=0,t},t}();!function(t){t[t.hH=0]="hH",t[t.vH=1]="vH",t[t.dH=2]="dH"}(eN||(eN={}));var sN=function(){function t(){this.St=new uN,this.l=0,this.lH=0,this.wH=0,this._H()}var n=t.prototype;return n.gH=function(t,n){},n.mH=function(){},n.yH=function(t){this.St.rH(t),this.pH(!1)},n.AH=function(){this.pH(!0)},n.kH=function(){return 0!==this.l||0!==this.St.xo},n.pH=function(t){for(;0!==this.St.xo;){if(!t&&this.lH>this.St.xo)return;switch(this.l){case 0:this.bH(t);break;case 1:this.TH(t);break;case 2:this.SH(t)}}},n._H=function(){this.l=0,this.lH=8},n.bH=function(t){var n=dh(this.St.sH(this.lH)),i=new ph,r=dk.uT(n,i);if(!r.tT)return this.lH=r.oT,void(t&&this.lH>this.St.xo&&this.EH(this.St.xo));var e=r.sT.$u,u=r.sT.xo;0===u&&(u=1/0),this.gH(e,u),this.IH(e)?this.RH(u):this.EH(u)},n.RH=function(t){this.l=1,this.lH=t},n.TH=function(t){var n=dh(this.St.cH(this.lH)),i=new ph,r=dk.nT(n,i,!t);if(!r.tT)throw new vk(i.Lo);this.mH(),this.CH(r.iT),this._H()},n.EH=function(t){this.l=2,this.lH=0,this.wH=t},n.SH=function(t){var n=this.St.oH(this.wH);this.wH-=n.xo;for(var i=0,r=n.iH;i<r.length;i++){var e=r[i];this.NH(e)}(0===this.wH||t&&this.wH===1/0)&&(this.mH(),this._H())},t}();function oN(t){return t instanceof Ad}function aN(t){return t instanceof yd}function cN(t){return t instanceof _d||t instanceof gd}function fN(t){return t instanceof Xv}function hN(t){return t instanceof gv}function vN(t){return t instanceof cd}function dN(t){return t instanceof od}function lN(t){return t instanceof Bd}function wN(t){return t instanceof Dd}function _N(t){return t instanceof Id}function gN(t){return t instanceof Cd}function mN(t,n){var i=ac(t.boxes,_N);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var r=0,e=t.boxes;r<e.length;r++){var u=e[r];u instanceof Cd&&u.flags.dataOffsetPresent&&(u.dataOffset=u.dataOffset+n)}}yr(),zt();var yN=function(t){function n(n){var i;return(i=t.call(this)||this).DH=sa(),i.PH=n,i}zr(n,t);var i=n.prototype;return i.start=function(t){this.GF=t},i.transform=function(t){this.yH(t)},i.flush=function(){this.AH()},i.IH=function(t){return t===AA.Lk||t===AA.yb||t===AA.Cb},i.CH=function(t){var n=this.BH(t);this.GF.enqueue(n)},i.NH=function(t){this.GF.enqueue(t)},i.BH=function(t){var n=lh(t.Ud.Ud);switch(t.$u){case"moov":return this.OH(n);case"sidx":return this.xH(n);case"moof":return this.LH(n)}return n},i.MH=function(t){var n=this.DH.get(t);if(void 0===n)throw new f("Expected to have found a media header timescale for track ID "+t+".");return n},i.OH=function(t){for(var n=Kd(t),i=0;i<n.boxes.length;i++){var r=n.boxes[i];r instanceof vd?n.boxes[i]=this.FH(r):r instanceof dd?n.boxes[i]=this.UH(r):r instanceof yd&&this.HH(r)}for(var e=0,u=n.boxes;e<u.length;e++){var s=u[e];s instanceof cd&&this.XH(s)}return n.serialize().join()},i.FH=function(t){this.zH=t.timescale;var n=kN($e.fromNumber(t.duration,!0),this.VH,this.PH);return 0!==n.getHighBits()?this.UH(function(t){return new dd({creation:$e.fromNumber(t.creationTime,!0),modification:$e.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:$e.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.PH,t.duration=n.toInt(),t)},i.UH=function(t){return this.zH=t.timescale,t.timescale=this.PH,t.duration=kN(t.duration,this.VH,this.PH),t},i.HH=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof _d?(n=r.trackId,t.boxes[i]=this.WH(r)):r instanceof gd?(n=r.trackId,t.boxes[i]=this.qH(r)):r instanceof Xv?this.GH(r,n):r instanceof Nv&&this.jH(r)}},i.WH=function(t){var n=kN($e.fromNumber(t.duration,!0),this.VH,this.PH);return 0!==n.getHighBits()?this.qH(function(t){return new gd({creation:$e.fromNumber(t.creationTime,!0),modification:$e.fromNumber(t.modificationTime,!0),duration:$e.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.qH=function(t){return t.duration=kN(t.duration,this.VH,this.PH),t},i.GH=function(t,n){for(var i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof Mv?t.boxes[i]=this.YH(r,n):r instanceof Fv&&(t.boxes[i]=this.QH(r,n))}},i.YH=function(t,n){this.DH.set(n,t.timescale);var i=kN($e.fromNumber(t.duration,!0),t.timescale,this.PH);return 0!==i.getHighBits()?this.QH(function(t){return new Fv({creation:$e.fromNumber(t.creationTime,!0),modification:$e.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:$e.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.PH,t.duration=i.toInt(),t)},i.QH=function(t,n){return this.DH.set(n,t.timescale),t.timescale=this.PH,t.duration=kN(t.duration,t.timescale,this.PH),t},i.jH=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var r=i[n];r instanceof Iv?this.ZH(r):r instanceof Rv&&this.KH(r)}},i.ZH=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=AN(r.mediaTime,this.VH,this.PH),r.segmentDuration=AN(r.segmentDuration,this.VH,this.PH)}},i.KH=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=kN(r.mediaTime,this.VH,this.PH),r.segmentDuration=kN(r.segmentDuration,this.VH,this.PH)}},i.XH=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof od?this.JH(i):i instanceof ed?t.boxes[n]=this.$H(i):i instanceof ud&&(t.boxes[n]=this.tX(i))}},i.JH=function(t){var n=this.MH(t.trackId);t.defaultSampleDuration=AN(t.defaultSampleDuration,n,this.PH)},i.$H=function(t){var n=kN($e.fromNumber(t.fragmentDuration,!0),this.VH,this.PH);return 0!==n.getHighBits()?this.tX(function(t){return new ud($e.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.tX=function(t){return t.fragmentDuration=kN(t.fragmentDuration,this.VH,this.PH),t},i.xH=function(t){var n=Jd(t);return(n=n instanceof Ud?this.nX(n):this.iX(n)).serialize().join()},i.nX=function(t){var n=t.timescale,i=kN($e.fromNumber(t.earliestPresentationTime,!0),n,this.PH);if(0!==i.getHighBits())return this.iX(function(t){return new Hd(t.referenceId,t.timescale,$e.fromNumber(t.earliestPresentationTime,!0),$e.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.PH,t.earliestPresentationTime=i.toInt();for(var r=0,e=t.references;r<e.length;r++){var u=e[r];u.subsegmentDuration=AN(u.subsegmentDuration,n,this.PH)}return t},i.iX=function(t){var n=t.timescale;t.timescale=this.PH,t.earliestPresentationTime=kN(t.earliestPresentationTime,n,this.PH);for(var i=0,r=t.references;i<r.length;i++){var e=r[i];e.subsegmentDuration=AN(e.subsegmentDuration,n,this.PH)}return t},i.LH=function(t){for(var n=$d(t),i=n.getSize(),r=0,e=n.boxes;r<e.length;r++){var u=e[r];u instanceof Dd&&this.rX(u)}var s=n.getSize();if(s!==i)for(var o=s-i,a=0,c=n.boxes;a<c.length;a++){var f=c[a];f instanceof Dd&&mN(f,o)}return n.serialize().join()},i.rX=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof Id?(n=this.MH(r.trackId),this.eX(r,n)):r instanceof Td?t.boxes[i]=this.uX(r,n):r instanceof Sd?t.boxes[i]=this.sX(r,n):r instanceof Cd&&this.oX(r,n)}},i.eX=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=AN(t.defaultSampleDuration,n,this.PH))},i.uX=function(t,n){var i=kN($e.fromNumber(t.baseMediaDecodeTime,!0),n,this.PH);return 0!==i.getHighBits()?this.sX(function(t){return new Sd($e.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.sX=function(t,n){return t.baseMediaDecodeTime=kN(t.baseMediaDecodeTime,n,this.PH),t},i.oX=function(t,n){for(var i=0,r=0,e=0,u=t.samples;e<u.length;e++){var s=u[e];if(void 0!==s.duration){var o=AN(r+=s.duration,n,this.PH);s.duration=o-i,i=o}void 0!==s.compositionTimeOffset&&(s.compositionTimeOffset=pN(s.compositionTimeOffset,n,this.PH))}},Ar(n,[{key:"VH",get:function(){if(void 0===this.zH)throw new f("Expected to have found a movie header timescale.");return this.zH}}]),n}(sN);function pN(t,n,i){return $e.fromInt(t,!1).multiply(i).divide(n).toNumber()}function AN(t,n,i){return $e.fromInt(t,!0).multiply(i).divide(n).toNumber()}function kN(t,n,i){return fA.OA(t).DA(fA.HA(i,!0)).UA(fA.HA(n,!0)).pA()}var bN,TN,SN,EN=function(){function t(t){this.aX=new yN(t)}return t.prototype.cX=function(t){return t.pipeThrough(new Ut(this.aX))},t}();function IN(t,n,i){var r=xf(t,n);if(r!==i)throw new h("Expected descriptor with tag "+i+", but found "+r)}function RN(t,n){IN(t,n,3);var i,r,e,u=CN(t,n),s=n.Lo+u,o=Xf(t,n),a=xf(t,n),c=0!=(64&a),f=0!=(32&a),h=31&a;(0!=(128&a)&&(i=Xf(t,n)),c)&&(r=jf(t,n,xf(t,n)));f&&(e=jf(t,n,2));var v=function(t,n){IN(t,n,4);var i,r=CN(t,n),e=n.Lo+r,u=xf(t,n),s=xf(t,n),o=s>>2,a=0!=(2&s),c=Hf(t,n,3),f=Vf(t,n),h=Vf(t,n);if(n.Lo<e){5===function(t,n){return t.getUint8(n.Lo)}(t,n)&&(i=function(t,n){IN(t,n,5);var i=CN(t,n);return{fX:5,hX:Mf(t,n,i)}}(t,n))}return n.Uo(e),{fX:4,vX:u,dX:o,lX:a,wX:c,_X:f,gX:h,mX:i}}(t,n);return n.Uo(s),{fX:3,hg:o,yX:i,Md:r,pX:h,AX:e,kX:v}}function CN(t,n){for(var i=0,r=0;r<4;r++){var e=xf(t,n);if(i=i<<7|127&e,!(128&e))break}return i}function NN(t,n){for(var i=xf(t,n),r=xf(t,n),e=xf(t,n),u=xf(t,n),s=3&xf(t,n),o=31&xf(t,n),a=[],c=0;c<o;c++){var f=Xf(t,n);a.push(Mf(t,n,f))}for(var h=xf(t,n),v=[],d=0;d<h;d++){var l=Xf(t,n);v.push(Mf(t,n,l))}return{bX:i,TX:r,SX:e,EX:u,IX:s,RX:a,CX:v}}function DN(t,n,i){if(!(i&&n.byte>=i)){var r=t.Do(n.byte);return n.byte+=1,r}}function PN(t,n){return function(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=256*r+DN(t,n);return r}(t,n,2)}yr(),zt(),yr(),zt(),function(t){t[t.NX=3]="NX",t[t.DX=4]="DX",t[t.PX=5]="PX"}(bN||(bN={})),function(t){t[t.BX=64]="BX",t[t.OX=103]="OX",t[t.xX=107]="xX"}(TN||(TN={})),yr(),zt(),yr(),zt(),function(t){t[t.LX=0]="LX",t[t.MX=1]="MX",t[t.OX=2]="OX",t[t.FX=5]="FX",t[t.UX=34]="UX"}(SN||(SN={})),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),kr();var BN=function(){function t(){this.HX=0,this.XX=[],this.jE={}}var n=t.prototype;return n.zX=function(t){this.XX=this.XX.concat(t.XX),this.HX+=t.Q_},n.VX=function(t,n,i){var r=this.HX,e=i-n;e>0&&(this.XX.push({WX:n,qX:i,GX:e,jX:r,YX:t}),this.HX+=e)},n.Do=function(t){for(var n=0,i=this.XX;n<i.length;n++){var r=i[n];if(r.jX<=t&&t<r.jX+r.GX)return r.YX[t+r.WX-r.jX]}},n.QX=function(t,n){for(var i=n,r=0,e=this.XX;r<e.length;r++)for(var u=e[r],s=u.qX,o=u.WX;o<s;o+=1,i+=1)t[i]=u.YX[o];return i},n.ZX=function(){for(var t=new g(this.HX),n=0,i=0,r=this.XX;i<r.length;i++)for(var e=r[i],u=e.qX,s=e.WX;s<u;s+=1,n+=1)t[n]=e.YX[s];return t},n.Ho=function(n){for(var i=new t,r=0,e=this.XX;r<e.length;r++){var u=e[r];i.VX(u.YX,u.WX,u.qX)}return i.jE=n||na({},this.jE),i},Ar(t,[{key:"Q_",get:function(){return this.HX},set:function(t){var n=this.XX,i=this.HX-t;if(!(t>=this.HX))if(this.HX=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.GX)return e.qX-=i,e.GX-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.GX}else n.length=0}},{key:"Ud",get:function(){for(var t=new Array(this.HX),n=0,i=0,r=this.XX;i<r.length;i++)for(var e=r[i],u=e.qX,s=e.WX;s<u;s+=1,n+=1)t[n]=e.YX[s];return t}}]),t}();yr(),zt();var ON,xN=[128,64,32,16,8,4,2,1];function LN(t,n){var i=d.floor(n.bit/8),r=0==(t.Do(i)&xN[n.bit%8])?0:1;return n.bit+=1,r}function MN(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=2*r+LN(t,n);return r}function FN(t,n){for(var i=0;0===LN(t,n)&&i<32;)i+=1;return MN(t,n,i)+d.pow(2,i)-1}function UN(t,n){var i=FN(t,n);return 1&i?d.floor((i+1)/2):-d.floor(i/2)}function HN(t,n){var i,r=[],e={byte:1};do{r.push(zN(t,n,e)),i=n.Do(e.byte)}while(void 0!==i&&128!==i);return r}function XN(t,n){var i,r=0;do{r+=i=DN(t,n)}while(255===i);return r}function zN(t,n,i){var r=XN(n,i),e=XN(n,i),u=i.byte,s=u+e;return i.byte=s,{KX:t,JX:r,$X:e,tz:u,nz:s,iz:n}}!function(t){t[t.rz=1]="rz",t[t.ez=2]="ez",t[t.sz=3]="sz",t[t.oz=4]="oz",t[t.cz=5]="cz",t[t.fz=6]="fz",t[t.vz=7]="vz",t[t.lz=8]="lz",t[t.wz=9]="wz"}(ON||(ON={}));var VN=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function WN(t,n,i){for(var r=8,e=8,u=0;u<i;u+=1){if(0!==e)e=(r+UN(t,n)+256)%256;r=0===e?r:e}}var qN=function(){function t(t){this._z=[],this.gz=0,this.mz=t}var n=t.prototype;return n.yz=function(){for(var t=this._z,n=d.max(0,this.gz+t.length-2),i=this.mz,r=i.Q_,e=0;n<r;n+=1){var u=i.Do(n);0===u?e+=1:(3===u&&e>=2&&t.push(n),e=0)}this.gz=n-t.length},n.pz=function(t){for(var n=this._z,i=t,r=0;r<n.length;r++){if(!(n[r]<=i))return i;i+=1}return i},n.Do=function(t){if(!(t>this.mz.Q_))return t>this.gz&&this.yz(),this.mz.Do(this.pz(t))},t}();function GN(t){var n,i,r,e,u,s,o=new qN(t),a=0,c=0,f=0,h=0,v=o.Do(1),l={bit:32};if(FN(o,l),100===v||110===v||122===v||144===v){var w=FN(o,l);if(3===w&&(n=LN(o,l)),FN(o,l),FN(o,l),LN(o,l),1===LN(o,l))for(var _=0;_<(3!==w?8:12);_+=1){1===LN(o,l)&&WN(o,l,_<6?16:64)}}var g=FN(o,l),m=FN(o,l);if(0===m)FN(o,l);else if(1===m){LN(o,l),UN(o,l),UN(o,l);for(var y=FN(o,l),p=0;p<y;p+=1)UN(o,l)}FN(o,l),LN(o,l);var A=FN(o,l),k=FN(o,l),b=LN(o,l);if(0===b&&LN(o,l),LN(o,l),1===LN(o,l)&&(a=FN(o,l),c=FN(o,l),f=FN(o,l),h=FN(o,l)),1===LN(o,l)){if(1===LN(o,l)){var T=MN(o,l,8);if(255===T)i=MN(o,l,16),r=MN(o,l,16);else{var S=VN[T];S&&(i=S[0],r=S[1])}}if(1===LN(o,l)&&LN(o,l),1===LN(o,l))MN(o,l,3),LN(o,l),1===LN(o,l)&&(MN(o,l,8),MN(o,l,8),MN(o,l,8));1===LN(o,l)&&(FN(o,l),FN(o,l)),1===(e=LN(o,l))&&(u=MN(o,l,32),s=MN(o,l,32),LN(o,l))}return{width:d.floor(16*(A+1)-2*a-2*c),height:d.floor((2-b)*(k+1)*16-2*f-2*h),tE:i,nE:r,Az:e?s/(2*u):void 0,kz:n,bz:g}}function jN(t){var n=hk(mk.dT(t),AA.Lk);if(n){for(var i=n.sT.qA,r=[],e=0,u=n.RT;e<u.length;e++){for(var s=u[e],o=s.sT.XT,a=s.MT.sT.qA,c=void 0,f=void 0,h=void 0,v=0,d=s.MT.QT.JT.tS.iS;v<d.length;v++){var l,w,_,g=YN(d[v]);if(g)c=null!=(l=g.Tz)?l:c,f=null!=(w=g.Sz)?w:f,h=null!=(_=g.Ez)?_:h}r.push({XT:o,qA:a,Tz:c,Sz:f,Ez:h})}return{qA:i,RT:r}}}function YN(t){var n,i,r;if(t.$u===AA.Qk){var e,u=NN(dh(t.NS.Ud),new ph);n=function(t){return"avc1."+QN(t.TX,2)+QN(t.SX,2)+QN(t.EX,2)}(u),r=null==(e=function(t){if(0===t.RX.length)return;var n=t.RX[0],i=new BN;return i.VX(n,0,n.byteLength),GN(i)}(u))?void 0:e.Az}else if(t.$u===AA.Kk||t.$u===AA.Jk){var s=function(t,n){for(var i=n.Vo(),r=Tf(t,i,8),e=Tf(t,i,2),u=Tf(t,i,1),s=Tf(t,i,5),o=Tf(t,i,32),a=[],c=0;c<6;c++)a.push(Tf(t,i,8));var f=Tf(t,i,8);i.Mo(4);var h=Tf(t,i,12);i.Mo(6);var v=Tf(t,i,2);i.Mo(6);var d=Tf(t,i,2);i.Mo(5);var l=Tf(t,i,3);i.Mo(5);for(var w=Tf(t,i,3),_=Tf(t,i,16),g=Tf(t,i,2),m=Tf(t,i,3),y=Tf(t,i,1),p=Tf(t,i,2),A=Tf(t,i,8),k=[],b=0;b<A;b++){var T=Tf(t,i,1);i.Mo(1);for(var S=Tf(t,i,6),E=Tf(t,i,16),I=[],R=0;R<E;R++){var C=Tf(t,i,16),N=Mf(t,new ph(i.Lo>>3),C);i.Mo(8*C),I.push({Iz:C,Rz:N})}k.push({Cz:T,Nz:S,Dz:E,Pz:I})}return{bX:r,Bz:e,Oz:u,xz:s,Lz:a,Mz:f,Fz:h,Uz:v,Xz:o,zz:d,Vz:l,Wz:w,qz:_,Gz:m,jz:y,Yz:g,IX:p,Qz:A,Zz:k}}(dh(t.xS.Ud),new ph);n=function(t,n){var i=t.toString()+".";switch(n.Bz){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.xz.toString()+".",i+=function(t){var n=t;return n=(n=(n=(n=(n=n>>>1&1431655765|(1431655765&n)<<1)>>>2&858993459|(858993459&n)<<2)>>>4&252645135|(252645135&n)<<4)>>>8&16711935|(16711935&n)<<8)>>>16|n<<16}(n.Xz).toString(16)+".",n.Oz){case 0:i+="L";break;case 1:i+="H";break;default:return}i+=n.Mz.toString();for(var r=n.Lz.reduce((function(t,n){return 0===t?n:n+1}),0),e=0;e<r;e++)i+="."+n.Lz[e].toString(16).toUpperCase();return i}(t.$u,s)}else if(t.$u===AA.ib){var o=function(t,n){var i=n.Vo(),r=Tf(t,i,8);i.Mo(24);for(var e=Tf(t,i,8),u=Tf(t,i,8),s=Tf(t,i,4),o=Tf(t,i,3),a=bf(t,i),c=Tf(t,i,8),f=Tf(t,i,8),h=Tf(t,i,8),v=Tf(t,i,16),d=new Array(8),l=0;l<v;l++)d[l]=Tf(t,i,8);return{bX:r,Kz:e,Jz:u,$z:s,tV:o,nV:a,ZS:c,KS:f,JS:h,iV:v,rV:d}}(dh(t.MS.Ud),new ph);n=function(t,n){var i=t.toString()+".";return i+="0"+n.Kz+".",i+=Va(""+n.Jz,2,"0")+".",i+=Va(""+n.$z,2,"0")+".",i+=Va(""+n.tV,2,"0")+".",i+=Va(""+n.ZS,2,"0")+".",i+=Va(""+n.KS,2,"0")+".",i+=Va(""+n.JS,2,"0")+".",i+="0"+n.nV}(t.$u,o)}else if(t.$u===AA.ub){var a=function(t,n){var i=n.Vo();i.Mo(1);var r=Tf(t,i,7),e=Tf(t,i,3),u=Tf(t,i,5),s=bf(t,i),o=bf(t,i),a=bf(t,i),c=bf(t,i),f=bf(t,i),h=bf(t,i),v=Tf(t,i,2);i.Mo(3);var d,l=bf(t,i);return l?d=Tf(t,i,4):i.Mo(4),{hT:r,eV:e,uV:u,sV:s,oV:o,aV:a,cV:c,fV:f,hV:h,vV:v,dV:l,lV:d}}(dh(t.HS.Ud),new ph);n=function(t,n,i){var r=t.toString()+".";if(r+=n.eV+".",r+=""+Va(""+n.uV,2,"0"),r+=(0===n.sV?"M":"H")+".",r+=(1===n.aV?12:10)+".",r+=(1===n.eV?0:n.cV)+".",r+=""+n.fV+n.hV+(1===n.fV&&1===n.hV?n.vV:"0"),i&&i.QS===bA.ON_SCREEN_COLOURS){var e=i;r+="."+Va(""+e.ZS,2,"0")+"."+Va(""+e.KS,2,"0")+"."+Va(""+e.JS,2,"0")+"."+(e.$S?1:0)}return r}(t.$u,a,t.XS)}else{if(t.$u!==AA.fb)return(t.$u===AA.mb||t.$u===AA.gb)&&t.WS?YN(t.WS):void 0;i=function(t){var n=t.kX;switch(n.vX){case TN.BX:return function(t){var n;if(!(null==(n=t.mX)?void 0:n.hX))return"mp4a.40";return"mp4a.40."+function(t,n){var i=Tf(t,n,5);31===i&&(i=32+Tf(t,n,6));var r,e=Tf(t,n,4);return 15===e&&(r=Tf(t,n,24)),{wV:i,_V:e,gV:r,mV:Tf(t,n,4)}}(dh(t.mX.hX),new Sf).wV}(n);case TN.OX:return"mp4a.40.2";case TN.xX:return"mp4a.40.34"}}(RN(dh(t.TS.Ud),new ph))}return{Tz:n,Sz:i,Ez:r}}function QN(t,n){return Va(t.toString(16),n,"0")}function ZN(t,n){var i=mk.dT(dh(t)),r=function(t,n){for(var i,r=function(t,r){var e,u=r[t],s=null==(e=u.wE)?void 0:e.wE;if(s){var o=u.sT.XT,a=ac(n.RT,(function(t){return t.XT===o})),c=wA.OA(s,a.qA);i&&!c.sA(i)||(i=c)}},e=0,u=t.RT;e<u.length;e++)r(e,u);return i}(hk(i,AA.yb),n),e=hk(i,AA.Eb);return{Tp:r.$p(),yV:e.Ud}}function KN(t,n){return JN.apply(this,arguments)}function JN(){return(JN=ta((function(t,n){var i;return ia(this,(function(r){switch(r.label){case 0:switch(t.$u){case GC.lU:return[3,1];case GC.rd:return[3,2];case GC.wU:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,kw(t.Ud,n)];case 3:return i=r.sent(),Bc(n),[2,{$u:GC.lU,Ud:new g(i)}];case 4:throw new f("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 5:return[2]}}))}))).apply(this,arguments)}yr(),zt();var $N=te.Ur,tD=function(t){function n(n,i,r,e,u){var s,o;if((s=t.call(this)||this).vM=20,s.dM=30,s.pV=!1,s.AV=!1,s.kV=void 0,s.bV=new Nc,s.TV=!1,s.SV=void 0,s.EV=!1,s.RV=void 0,s.CV=function(){s.pV=!1},s.NV=i,s.DV=n,s.PV=r,s.PV.addEventListener("updateend",s.CV),s.BV=e,s.OV=u,s.EV=nD(e.md,u),null==(o=i.Uf)?void 0:o.Je){var a,c=null!=(a=i.Uf.xV)?a:1e5;s.LV=new EN(c)}return s}zr(n,t);var i=n.prototype;return i.MV=function(t,n,i){var r=this;switch(t.$u){case GC.lU:case GC.rd:return this.FV((function(i){return r.UV(t,n,i)}),i);case GC.wU:throw new f("Opaque segments are not supported on web.")}},i.HV=function(t,n){var i=this;switch(t.$u){case GC.lU:return this.FV((function(n){return i.XV(t,n)}),n);case GC.rd:throw new f("Streaming initialization segments are not supported on web.");case GC.wU:throw new f("Opaque initialization segments are not supported on web.")}},i.XV=function(t,n){var i=this;return ta((function(){return ia(this,(function(r){switch(r.label){case 0:return i.EV?(i.RV=jN(dh(t.Ud)),[2]):[4,i.zV(t,void 0,n)];case 1:return r.sent(),$N&&(i.TV=!1,i.SV=t),[2]}}))}))()},i.UV=function(t,n,i){var r=this;return ta((function(){var e,u,s;return ia(this,(function(o){switch(o.label){case 0:return $N&&r.TV&&r.SV?[4,r.XV(r.SV,i)]:[3,2];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,,6,7]),Bc(i),r.EV&&r.RV?[4,KN(t,i)]:[3,4];case 3:e=o.sent(),u=ZN(e.Ud,r.RV),t={$u:GC.lU,Ud:u.yV},n=na({},n,{Nk:u.Tp+(null!=(s=n.Nk)?s:0)}),o.label=4;case 4:return[4,r.zV(t,n,i)];case 5:return o.sent(),r.qs(new Qc(zC.vU)),[3,7];case 6:return t.$u===GC.rd&&t.Ud.cancel(new Dc).catch(le),[7];case 7:return[2]}}))}))()},i.zV=function(t,n,i){var r=this;return ta((function(){var e,u;return ia(this,(function(s){switch(s.label){case 0:return Bc(i),n?[4,r.VV(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:switch(t.$u){case GC.lU:return[3,3];case GC.rd:return[3,7]}return[3,11];case 3:return r.LV?(e=r.LV.cX(pw(t.Ud)),[4,r.WV(e,i)]):[3,5];case 4:return[2,s.sent()];case 5:return[4,r.qV(t.Ud)];case 6:return[2,s.sent()];case 7:return r.LV?(u=r.LV.cX(t.Ud),[4,r.WV(u,i)]):[3,9];case 8:return[2,s.sent()];case 9:return[4,r.WV(t.Ud,i)];case 10:return[2,s.sent()];case 11:return[2]}}))}))()},i.WV=function(t,n){var i=this;return ta((function(){var r,e,u,s,o,a,c,f,h;return ia(this,(function(v){switch(v.label){case 0:r=i.DV.Xy,e=function(t,n){return void 0===n&&(n=new Ft({highWaterMark:1/0})),new Mt(new rN(t,n),{highWaterMark:0})}(t),u=e.getReader(),s=!1,v.label=1;case 1:v.trys.push([1,6,,12]),v.label=2;case 2:return[4,Lc(u.read(),n)];case 3:return(o=v.sent()).done?(s=!1,[3,5]):(Bc(n),a=mf(o.value),s=!0,[4,i.qV(a)]);case 4:return v.sent(),[3,2];case 5:return[3,12];case 6:return c=v.sent(),u.cancel(c).catch(le),s?[4,i.GV()]:[3,11];case 7:v.sent(),f=i.DV.Xy.LD(r.MD()),h=0,v.label=8;case 8:return h<f.Q_?[4,i.jV(f.CD(h),f.ND(h))]:[3,11];case 9:v.sent(),v.label=10;case 10:return h++,[3,8];case 11:throw c;case 12:return[2]}}))}))()},i.YV=function(t,n){var i=this;return this.FV((function(){return i.QV(t,n)}))},i.QV=function(t,n){var i=this;return ta((function(){return ia(this,(function(r){switch(r.label){case 0:return i.PV.appendWindowStart===t&&i.PV.appendWindowEnd===n?[3,2]:[4,i.GV()];case 1:r.sent(),i.PV.appendWindowStart=0,i.PV.appendWindowEnd=n,i.PV.appendWindowStart=t,r.label=2;case 2:return[2]}}))}))()},i.VV=function(t){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:if(n.PV.timestampOffset===t.Nk)return[2];i.label=1;case 1:return i.trys.push([1,2,,4]),n.PV.timestampOffset=t.Nk,[3,4];case 2:return i.sent(),[4,n.GV()];case 3:return i.sent(),n.PV.timestampOffset=t.Nk,[3,4];case 4:return[2]}}))}))()},i.qV=function(t){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return n.PV.appendBuffer(t),n.AV=!0,[4,n.ZV()];case 1:return i.sent(),[2]}}))}))()},i.KV=function(t,n,i){var r=this;return this.FV((function(i){return r.jV(t,n,i)}),i)},i.jV=function(t,n,i){var r=this;return ta((function(){return ia(this,(function(e){switch(e.label){case 0:return Bc(i),r.PV.remove(t,n),[4,r.ZV()];case 1:return e.sent(),[2]}}))}))()},i.ZV=function(){var t=this,n=this.DV.Xy;return new j((function(i,r){var e,u=!1,s=function(){u=!0},o=function(){u=!1,e="error"},a=function(){u=!1,e="aborted"},c=function(){h(),u&&!e?(n.QD(t.DV.Xy)||t.qs(new Qc(zC.vU)),i()):r(new f(e))},h=function(){t.PV.removeEventListener("update",s),t.PV.removeEventListener("error",o),t.PV.removeEventListener("abort",a),t.PV.removeEventListener("updateend",c)};t.PV.addEventListener("update",s),t.PV.addEventListener("error",o),t.PV.addEventListener("abort",a),t.PV.addEventListener("updateend",c)}))},i.JV=function(){var t=this;return this.FV((function(){return t.GV()}))},i.GV=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:if(t.NV.Mg!==wD.El)return[2];$N&&(t.TV=!0),t.PV.updating&&(t.pV=!0);try{t.PV.abort()}catch(n){0,t.pV=!1}return t.cL?[4,t.ZV().catch(le)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},i.$V=function(){return"function"==typeof this.PV.changeType},i.RU=function(t){if(this.tW(),this.NV.Mg!==wD.nW){var n;this.BV=t;var i=null!=(n=yD(t.md))?n:t.md;this.EV=nD(t.md,this.OV),this.$V()&&!Xa(this.OV,i)&&(this.OV=i,this.PV.changeType(this.OV))}},i.iW=function(){this.NV.Mg!==wD.pv||this.kV||this.cL||(this.PV.timestampOffset=this.PV.timestampOffset,this.NV.rW())},i.FV=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:i.tW(),(r=new Nc).Fs(i.bV.Hs),n&&r.Fs(n),e.label=1;case 1:return e.trys.push([1,,5,6]),i.kV=t(r.Hs),[4,i.kV];case 2:return e.sent(),i.NV.rW(),i.cL?[4,i.ZV()]:[3,4];case 3:e.sent(),e.label=4;case 4:return[3,6];case 5:return i.kV=void 0,r.Ds(),[7];case 6:return[2]}}))}))()},i.tW=function(){if(this.kV)throw new f("Internal error")},i.Ds=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t.Zs(),t.bV.Ms(),t.kV?[4,t.kV.catch(le)]:[3,2];case 1:n.sent(),t.kV=void 0,n.label=2;case 2:return t.PV.removeEventListener("updateend",t.CV),[2]}}))}))()},Ar(n,[{key:"uM",get:function(){return this.vM},set:function(t){this.vM=t}},{key:"sM",get:function(){return this.dM},set:function(t){this.dM=t}},{key:"cL",get:function(){return this.pV||this.PV.updating}}]),n}(Gc);function nD(t,n){return Ua(t,"audio/mp4")&&Ua(n,"audio/mpeg")}yr(),zt(),kr();var iD=function(){function t(t,n){this.eW=void 0,this.uW=n,this.PV=t}var n=t.prototype;return n.FU=function(){return!!this.eW&&this.Xy.OD().WN(this.eW)},n.sW=function(){var t=this.Xy;this.eW=t.Q_>0?t.ND(t.Q_-1):0,this.uW.oW()},n.iW=function(){this.eW=void 0},Ar(t,[{key:"Xy",get:function(){if(this.uW.Mg===wD.nW)return gE.uP();var t=gE.iP(this.PV.buffered).LD(new gE([0,1/0])),n=this.eW;return void 0!==n&&t.Q_>0&&t.ND(t.Q_-1)===n&&(t=t.XD(gE.rP(n))),t}}]),t}();function rD(t){var n=t.Zf("codecs");return n?n.split(",").map((function(t){return t.trim()})):[]}function eD(t,n){var i=uD(t)||sD(t),r=uD(n)||sD(n);return!i&&!r||t===n}function uD(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function sD(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function oD(t,n){if(t===n)return!0;var i=t.split("."),r=n.split("."),e=i[0];if(e!==r[0])return!1;if("mp4a"===e){var u=ra(i,3),s=u[1],o=u[2],a=ra(r,3),c=a[1],f=a[2];if(s!==c)return!1;if(Number(o)!==Number(f))return!1}return!0}function aD(t,n,i,r,e,u,s){var o=new iD(e,t),a=new tD(o,t,e,i,u);return new cD(t,n,i,r,o,a,s)}yr(),zt();var cD=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).aW=ua(),a.NV=n,a.wh=r,a.nh=r.md,a.cW=e,a.yN=i,a.DV=u,a.fW=s,a.hW=o,a.fW.js(zC.vU,a.Ws),a}zr(n,t);var i=n.prototype;return i.FU=function(){return this.DV.FU()},i.sW=function(){this.DV.sW()},i.iW=function(){this.DV.iW(),this.fW.iW()},i.vW=function(t,n){this.hW.qU(t,n)},i.dW=function(t,n){this.hW.GU(t,n)},i.lW=function(){return this.fW.JV()},i.MV=function(t,n,i){return this.fW.MV(t,n,i)},i.HV=function(t,n,i){return this.fW.HV(t,i)},i.YV=function(t,n){return te.Rr&&te.Cr<3?this.fW.YV(t,1/0):this.fW.YV(t,n)},i.Nf=function(t,n,i){var r=this;return ta((function(){var e,u;return ia(this,(function(s){switch(s.label){case 0:return r.dW(t,n),e=r.Xy,[4,r.fW.KV(t,n,i)];case 1:return s.sent(),u=0!==e.Q_&&0===r.Xy.Q_,(te.Vr||te.Nr)&&u&&r.yN.Uo(r.yN.Tm),[2]}}))}))()},i.IU=function(t){var n=t.md;if(this.nh===n)return!0;var i=this.aW.get(n);if(void 0!==i)return i;var r=this.wW(t);return this.aW.set(n,r),r},i.wW=function(t){var n=yD(t.md);if(void 0===n)return!1;var i=kl(this.nh),r=kl(n),e=rD(i),u=rD(r);if(this.fW.$V()){if(!function(t,n){return Ec(t,n,eD)}(e,u))return!1}else{if(i.$u!==r.$u)return!1;if(!function(t,n){return Ec(t,n,oD)}(e,u))return!1}return!0},i.RU=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){return i=t.md,n.nh!==i&&(n.aW.clear(),n.fW.RU(t),n.nh=i),n.wh=t,n.NV._W(),[2]}))}))()},i.Ds=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:t.aW.clear(),t.Zs(),t.hW.Bh(),n.label=1;case 1:return n.trys.push([1,3,,4]),t.fW.Ks(zC.vU,t.Ws),[4,t.fW.Ds()];case 2:return n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))()},Ar(n,[{key:"Xy",get:function(){return this.DV.Xy}},{key:"Uf",get:function(){return this.wh}},{key:"md",get:function(){return this.nh}},{key:"gW",get:function(){return this.cW}},{key:"mW",get:function(){return this.hW.jU}},{key:"uM",get:function(){return this.fW.uM},set:function(t){this.fW.uM=t}},{key:"sM",get:function(){return this.fW.sM},set:function(t){this.fW.sM=t}},{key:"cL",get:function(){return this.fW.cL}}]),n}(Gc);yr(),zt();var fD=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.CD=t,this.ND=n,this.yW=i,this.pW=r,this.AW=aR()}return t.prototype.kW=function(){var t=this.CD,n=this.ND;if(this.yW||this.pW){var i=.001*(aR()-this.AW);this.yW&&(t+=i),this.pW&&(n+=i)}return t>=n?gE.uP():new gE([t,n])},t}();yr(),zt(),kr();var hD=[vw.Ov,vw.Bv,vw.Hv,vw.Uv,vw.Tv,vw.Ev,vw.pv,vw.Lv,ky.O_,Pm.Cg],vD=function(){function t(t,n,i,r){var e=this;this.DV=t,this.bW=n,this.yN=i,this.TW=!1,this.SW=[],this.EW=0,this.IW=0,this.RW=0,this.NW=0,this.DW=0,this.PW=0,this.BW=1,this.OW=function(t){var n=e.yN.Tm;t.VU.WN(n)&&e.CU(n)},this.xW=ge((function(t){if(!e.TW&&e.bW.Mg<=ty.vm){var n=e.yN.Tm;e.CU(n)||e.LW()}}),100),this.MW=ge((function(t){e.TW||0===e.PW&&e.FW()}),100),this.UW=function(){e.HW()?0===e.PW&&(e.yN.js(vw.Yv,e.MW),e.IW=Pr.oe((function(){e.FW()}),3500)):e.XW()},this.LW=function(){var t=e.RW,n=e.DW,i=e.yN.Tm,r=Pr.re(),u=e.DV.Xy;if(t!==i)return e.RW=i,e.DW=r,e.BW=1,void(e.zW=Pr.s_?2e3:1e3);if(e.HW()&&0!==u.Q_&&n>0&&r>n+e.zW){var s,o,a=e.jU.OD().VD(u),c=a.JD(i);if(-1!==c){var f=a.CD(c);if(f-i<1){var h=a.ND(c);0,s=h}}if(!s)(s=null==(o=e.VW)?void 0:o.determineStallJumpTarget())||(s=i+.01*e.BW,u.WN(s)||(s=e.WW(i,u)));0,e.RW=s,e.BW++,e.zW=d.min(2*e.zW,1e4),e.qW(s)}},this.bW.js(ky.O_,this.xW),this.yN.js(vw.xv,this.xW),this.yN.js(hD,this.UW),this.VW=r,this.zW=Pr.s_?2e3:1e3}var n=t.prototype;return n.GW=function(t){this.SW.push(t),t.js($C.XU,this.OW)},n.Bh=function(){var t=this;this.XW(),this.bW.Ks(ky.O_,this.xW),this.yN.Ks(vw.xv,this.xW),this.yN.Ks(hD,this.UW),this.SW.forEach((function(n){return n.Ks($C.XU,t.OW)})),0!==this.EW&&(Pr.ue(this.EW),this.EW=0),this.TW=!0},n.CU=function(t){var n=this;if(this.yN.Em)return!1;if(0!==this.EW)return!1;var i=this.DV.Xy,r=i.WD(t);if(r>=0&&t+.5<i.ND(r))return!1;var e=r>=0?r+1:i.$D(t);if(e<0||e>=i.Q_)return!1;var u=i.CD(e);return!(gE.eP(t,u).VD(this.jU).oP>1)&&(Pr.u_?(this.NW=this.yN.Tm,this.EW=Pr.oe((function(){n.NW===n.yN.Tm&&n.qW(u),n.EW=0}),250),!0):!(d.abs(u-t)<=.001)&&(this.qW(u),!0))},n.qW=function(t){this.yN.Uo(t,!1,!0)},n.jW=function(){0!==this.IW&&(Pr.ue(this.IW),this.IW=0),this.yN.Ks(vw.Yv,this.MW)},n.FW=function(){0===this.PW&&(this.jW(),this.PW=Pr.yu(this.LW,250))},n.XW=function(){0!==this.PW&&(Pr.pu(this.PW),this.PW=0),this.jW(),this.yN.Dm||(this.DW=0)},n.HW=function(){return!this.yN.Cm&&!this.yN.Dm&&0!==this.yN.Nm&&!this.yN.Em&&!this.yN.Ao&&(this.YW()||this.bW.Mg>=ty.dm)},n.YW=function(){var t=this.yN.Tm,n=this.DV.Xy,i=n.WD(t);return-1!==i&&n.ND(i)>t+.5},n.WW=function(t,n){var i=n.WD(t);return i>-1?n.ND(i):t},Ar(t,[{key:"jU",get:function(){return this.SW.reduce((function(t,n){return t.XD(n.jU)}),gE.uP())}}]),t}();function dD(t){var n=[];if(t.QW&&n.push(t.QW.Xy),t.ZW&&n.push(t.ZW.Xy),0===n.length)return gE.uP();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.Q_>0&&(i=d.max(i,e.ND(e.Q_-1)))}for(var u=t.FU,s=new gE([0,i],[!0,u]),o=0;o<n.length;o++){var a=n[o];u&&a.Q_>0&&(a=a.XD(new gE([a.ND(a.Q_-1),i],[!0,!0]))),s=s.LD(a)}return s}function lD(t,n,i){if(!t.WN(n)){var r=t.WD(n,i);if(r>=0){var e=t.CD(r);if(n<e)return e}}return n}yr(),zt();var wD,_D=te.Pr||te.Br;!function(t){t.nW="closed",t.El="open",t.pv="ended"}(wD||(wD={}));var gD=function(){function t(){}return t.prototype.KW=function(){return new MediaSource},t}(),mD=function(t){function n(n,i,r,e,u,s,o){var a;return void 0===s&&(s=new gD),(a=t.call(this,n,i,e,u)||this).JW=void 0,a.$W=void 0,a.tq=void 0,a.nq=void 0,a.iq=new fD(0,1/0),a.rq=void 0,a.uq=!1,a.oq=function(){a.aq()},a.cq=function(){a.yN.cq()},a.fq=s,a.KC=a.fq.KW(),a.yN.js([vw.Hv,vw.Tv],a.oq),a.hq=new vD($a(a),r,a.yN,o),a}zr(n,t);var i=n.prototype;return i.vq=function(t){if(_(t)||t<0)throw new f("Invalid duration");this.dq()?this.lq(t):this.rq=t},i.lq=function(t){var n=t===1/0,i=n?nu:t;if(n&&this.KC.setLiveSeekableRange){var r=d.pow(2,39);this.KC.setLiveSeekableRange(0,r)}this.KC.duration=i,this.rq=void 0},i.wq=function(t,n,i,r){this.iq=new fD(t,n,!!i,!!r)},i._M=function(){var t=this;return ta((function(){var n,i,r,e,u,s,o,a,c;return ia(this,(function(f){switch(f.label){case 0:return n=t.wh,i=ac(n._q,(function(t){return Ua(t.md,"audio")})),r=ac(n._q,(function(t){return Ua(t.md,"video")})),[4,t.gq()];case 1:return f.sent(),i&&(e=new iN,t.hq.GW(e),s=null!=(u=yD(i.md))?u:i.md,t.$W=t.KC.addSourceBuffer(s),t.JW=aD(t,t.yN,i,Hy.$d,t.$W,s,e),t.JW.js(zC.vU,t.cq)),r&&(o=new iN,t.hq.GW(o),c=null!=(a=yD(r.md))?a:r.md,t.nq=t.KC.addSourceBuffer(c),t.tq=aD(t,t.yN,r,Hy.il,t.nq,c,o),t.tq.js(zC.vU,t.cq)),t.TU.Cf(t,n),[2]}}))}))()},i.gq=function(){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return i=URL.createObjectURL(n.KC),[4,t.prototype.BU.call(n,i)];case 1:return r.sent(),"open"===n.Mg?[3,3]:[4,Cg(n.KC,"sourceopen")];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))()},i.dq=function(){if("open"!==this.Mg)return!1;var t=this.JW&&this.JW.cL,n=this.tq&&this.tq.cL;return!(t||n)},i.sW=function(){this.uq=!0,this.JW&&this.JW.sW(),this.tq&&this.tq.sW(),this.uq=!1,this.aq()},i.iW=function(){this.JW&&this.JW.iW(),this.tq&&this.tq.iW()},i.IU=function(n){var i=ac(n._q,(function(t){return Ua(t.md,"audio")})),r=ac(n._q,(function(t){return Ua(t.md,"video")}));if(this.JW){if(!i)return!1;if(!this.JW.IU(i))return!1}else if(i)return!1;if(this.tq){if(!r)return!1;if(!this.tq.IU(r))return!1}else if(r)return!1;return!!t.prototype.IU.call(this,n)},i.RU=function(n){var i=this;return ta((function(){var r,e,u;return ia(this,(function(s){switch(s.label){case 0:return r=ac(n._q,(function(t){return Ua(t.md,"audio")})),e=ac(n._q,(function(t){return Ua(t.md,"video")})),u=[],i.JW&&u.push(i.JW.RU(r)),i.tq&&u.push(i.tq.RU(e)),[4,j.all(u)];case 1:return s.sent(),[4,t.prototype.RU.call(i,n)];case 2:return s.sent(),[2]}}))}))()},i.Ds=function(){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return te.Nr?[4,n.LU()]:[3,2];case 1:i.sent(),i.label=2;case 2:return n.JW?[4,n.JW.Ds()]:[3,4];case 3:if(i.sent(),n.JW=void 0,Za()&&(te.Nr||te.Rr))try{n.KC.removeSourceBuffer(n.$W)}catch(t){}n.$W=void 0,i.label=4;case 4:return n.tq?[4,n.tq.Ds()]:[3,6];case 5:if(i.sent(),n.tq=void 0,Za()&&(te.Nr||te.Rr))try{n.KC.removeSourceBuffer(n.nq)}catch(t){}n.nq=void 0,i.label=6;case 6:return n.Lh.src&&URL.revokeObjectURL(n.Lh.src),n.yN.Ks([vw.Hv,vw.Tv],n.oq),n.hq.Bh(),te.Rr?[4,n.LU()]:[3,8];case 7:i.sent(),i.label=8;case 8:return[4,t.prototype.Ds.call(n)];case 9:return i.sent(),[2]}}))}))()},i._W=function(){var t=this,n=this.wh,i=n._q.map((function(n){return Ua(n.md,"audio")&&t.JW?t.JW.Uf:Ua(n.md,"video")&&t.tq?t.tq.Uf:n}));this.wh=na({},n,{_q:i})},i.oW=function(){this.uq||this.aq()},i.aq=function(){this.mq&&this.dq()&&(this.KC.endOfStream(),this.rq=void 0,this.qs(new Qc(YC.UB)),this.yN.cq())},i.rW=function(){this.dq()&&(this.FU?this.aq():void 0!==this.rq&&this.lq(this.rq))},i.CU=function(t){return this.hq.CU(t)},n.MU=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t._q;n<i.length;n++){if(void 0===yD(i[n].md))return!1}return!0},Ar(n,[{key:"QW",get:function(){return this.JW}},{key:"ZW",get:function(){return this.tq}},{key:"Sm",get:function(){if(this.rq)return this.rq;var t=this.KC.duration;return t===nu?1/0:t}},{key:"Xy",get:function(){return _D?dD(this):function(t,n){var i=n;return i.Q_>0&&t.FU&&(i=i.XD(gE.rP(i.ND(i.Q_-1)))),i}(this,gE.iP(this.Lh.buffered))}},{key:"UU",get:function(){var t;return null==(t=this.JW)?void 0:t.Xy}},{key:"HU",get:function(){var t;return null==(t=this.tq)?void 0:t.Xy}},{key:"np",get:function(){return this.iq.kW().LD(new gE([0,this.Sm],[!0,!0]))}},{key:"FU",get:function(){return(!this.JW||this.JW.FU())&&(!this.tq||this.tq.FU())}},{key:"Mg",get:function(){return this.KC.readyState}},{key:"mq",get:function(){if(!this.FU)return!1;var t=this.Xy;return 0!==t.Q_&&t.CD(t.Q_-1)<=this.yN.Tm}}]),n}(ZC);function yD(t){var n=kl(t),i="audio/mp4"===n.$u&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(rD(n),["mp4a.40.34"]);if(MediaSource.isTypeSupported(t)&&(!i||!te.Ur))return t;if(i){var r=ac(['audio/mp4; codecs="mp3"',"audio/mpeg"],(function(t){return MediaSource.isTypeSupported(t)}));return void 0!==r?r:void 0}}yr(),zt(),kr(),yr(),zt();var pD=function(t){function n(n){var i;return(i=t.call(this,vw.Tv)||this).currentTime=n,i}return zr(n,t),n}(Qc),AD=[vw.Qv,vw.Lv,vw.Hv,vw.Tv,vw.Ov,vw.Bv],kD=function(t){function n(n,i,r,e,u,s,o,a,c,f,h){var v;return(v=t.call(this)||this).vP=n,v.nc=i,v.yq=r,v.lP=e,v._P=u,v.dP=s,v.wP=o,v.wc=a,v.pq=c,v.Aq=f,v.kq=h,v}zr(n,t);var i=n.prototype;return i.Uo=function(t,n,i){this.vP!==t&&(this.vP=t,this.Aq=n,i&&!this._P?(this.kq=!0,this.qs(new pD(this.Tm))):(this.kq=!1,this._P=!0,this.qs(new Dy(this.Tm))))},i.yy=function(){this.lP||(this.lP=!0,this.qs(new Ay(this.Tm)))},i.gy=function(){this.lP&&(this.lP=!1,this.qs(new by(this.Tm)))},i.Ds=function(){this.Zs()},Ar(n,[{key:"Tm",get:function(){return this.vP}},{key:"bq",get:function(){return this.Aq}},{key:"Tq",get:function(){return this.kq}},{key:"Sm",get:function(){return this.nc}},{key:"Em",get:function(){return this.yq}},{key:"Cm",get:function(){return this.lP}},{key:"Mg",get:function(){return this.pq}},{key:"Dm",get:function(){return this._P}},{key:"Rm",get:function(){return this.dP},set:function(t){this.Rm!==t&&(this.dP=t,this.qs(new By(this.Tm,this.Om)))}},{key:"Nm",get:function(){return this.wP},set:function(t){this.Nm!==t&&(this.wP=t,this.qs(new Iy(this.Tm,this.Nm)))}},{key:"Om",get:function(){return this.wc},set:function(t){this.Om!==t&&(this.wc=t,this.qs(new By(this.Tm,this.Om)))}}]),n}(Gc);yr(),zt(),yr(),zt(),kr();var bD=function(t){function n(n){var i;return(i=t.call(this)||this).bI=ty.fm,i.Sq=function(){i.Eq()},i.yN=n,i}zr(n,t);var i=n.prototype;return i.Iq=function(t){this.bI!==t&&(this.bI=t,this.qs(new Ly(this.yN.Tm,t)))},i.Eq=function(){this.Iq(this.QM())},i.Wf=function(){this.Iq(ty.fm)},i.Ds=function(){this.Zs()},Ar(n,[{key:"Mg",get:function(){return this.QM()}}]),n}(Gc);yr(),zt();var TD=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],SD=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<TD.length;r++){var e=TD[r];i.yN.kN.addEventListener(e,i.Sq)}return i}zr(n,t);var i=n.prototype;return i.QM=function(){var t=this.yN.kN.readyState;return t>ty.vm&&this.yN.Rq?ty.vm:(this.yN.kN.seeking&&t>ty.hm&&(t=ty.hm),t)},i.Ds=function(){for(var n=0;n<TD.length;n++){var i=TD[n];this.yN.kN.removeEventListener(i,this.Sq)}t.prototype.Ds.call(this)},n}(bD);yr(),zt();var ED=function(t){function n(n){var i;(i=t.call(this,n)||this).yN.js([vw.Hv,vw.Tv],i.Sq);for(var r=0;r<TD.length;r++){var e=TD[r];i.yN.kN.addEventListener(e,i.Sq)}return i}zr(n,t);var i=n.prototype;return i.QM=function(){if(this.yN.kN.readyState===ty.fm)return ty.fm;var t=this.Cq(),n=t?t.ND-t.CD:0;if(!t)return ty.hm;var i=this.yN.Nm;return this.Nq()||n>=3*i?ty.lm:n>=3?ty.dm:ty.vm},i.Cq=function(){var t=this.yN.Tm,n=this.yN.Xy.HD(.04),i=n.WD(t);if(!(i<0))return{CD:t,ND:n.ND(i)}},i.Nq=function(){if(this.yN.Em)return!0;var t=this.yN.Sm,n=this.Cq();return!!n&&t-n.ND<=.16666666666666666},i.Ds=function(){this.yN.Ks([vw.Hv,vw.Tv],this.Sq);for(var n=0;n<TD.length;n++){var i=TD[n];this.yN.kN.removeEventListener(i,this.Sq)}t.prototype.Ds.call(this)},n}(bD);yr(),zt(),yr(),zt();var ID=[ky.O_,vw.Ov,vw.Bv,vw.Hv,vw.Uv,vw.Tv,vw.Ev,vw.pv,Pm.Cg],RD=function(t){function n(n){var i;return(i=t.call(this,n)||this).Dq=!1,i.LI=function(){i.Dq=!0,i.Df()},i.Lh=n.kN,i.Lh.addEventListener(ky.Am,i.LI),i}zr(n,t);var i=n.prototype;return i.Pq=function(){return this.Dq&&t.prototype.Pq.call(this)},i.Df=function(){this.Dq&&(this.Lh.paused||this.Lh.ended||this.Lh.error)&&(this.Dq=!1),t.prototype.Df.call(this)},i.Wf=function(){t.prototype.Wf.call(this),this.Dq=!1},i.Ds=function(){this.Lh.removeEventListener(ky.Am,this.LI),t.prototype.Ds.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Bq=!1,i.fL=function(){i.Df()},i.AI=n,i.AI.js(ID,i.fL),i}zr(n,t);var i=n.prototype;return i.Oq=function(){return!this.AI.Tq&&this.AI.Mg<ty.dm},i.Pq=function(){return!this.AI.Dm&&!(this.AI.Cm||this.AI.Em||this.AI.Ao||this.Oq())},i.Df=function(){var t=this.Bq;this.Bq=this.Pq(),!t&&this.Bq&&this.qs(new gb(this.AI.Tm))},i.Wf=function(){this.Bq=!1},i.Ds=function(){this.Zs(),this.AI.Ks(ID,this.fL)},n}(Gc));yr(),zt();var CD=function(t){function n(n){var i;return(i=t.call(this,Pm.Cg)||this).Ao=n,i}return zr(n,t),n}(Qc);function ND(t,n){return t.Tp<=n&&t.Sp>n}function DD(t,n){return function(t,n){return sc(t.Tp,n.Tp,Gp)}(t,n)||function(t,n){return sc(t.Sp,n.Sp,Gp)}(t,n)}function PD(t,n){var i=function(t,n,i,r,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,a=s-1;o<=a;){var c=o+(a-o>>1),f=r(i(t[c]),n);if(f<0)o=c+1;else if(f>0)a=c-1;else{if(!(e&&c>u&&0===r(i(t[c-1]),n)))return c;a=c-1}}return~o}(t,n,we,DD,!0);if(i<0)return i;for(;i<t.length&&DD(n,t[i])===Ka.As;i++)if(t[i].zp(n))return i;return-(i+1)}function BD(t){var n=t.A_;if(!n)return-1;if(t instanceof Yp)return n.xq(t);var i=n.Fg;if(!i)return-1;var r=PD(i.Y_,t);return r>=0?r:-1}function OD(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,u=0,s=0,o=[],a=[];u<r&&s<e;){var c=t[u],f=n[s];c===f?(u++,s++):i(f,c)<=0?(o.push(f),s++):(a.push(c),u++)}for(;u<r;)a.push(t[u]),u++;for(;s<e;)o.push(n[s]),s++;return{Lq:o,Mq:a}}(t,n,DD);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}yr(),zt(),kr(),yr(),zt(),yr(),zt(),yr(),zt(),kr();var xD=function(){function t(t){this.m_=void 0,this.Fq=t}var n=t.prototype;return n.p_=function(){return function(t){for(var n=[],i=0;i<t.Q_;i++)n[i]=t.Do(i).y_;return n.item=function(n){var i=0|n,r=t.Do(i);return r&&r.y_||void 0},v.defineProperty(n,"constructor",{value:zp}),n}(this)},n.op=function(t){for(var n=this.Fq,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.zp(r))return!0}return!1},n.Do=function(t){return this.Fq[t]},Ar(t,[{key:"Y_",get:function(){return this.Fq}},{key:"Q_",get:function(){return this.Fq.length}},{key:"y_",get:function(){if(this.m_){var t=this.Fq;this.m_.length=t.length;for(var n=0;n<t.length;n++)this.m_[n]=t[n].y_}else this.m_=this.p_();return this.m_}}]),t}();yr(),zt();var LD=function(t){function n(n,i){var r;return(r=t.call(this,im.O_)||this).A_=n,r.Mg=i,r}return zr(n,t),n.prototype.p_=function(){return new MD(this.A_.y_,this.Mg)},n}(Jg),MD=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return zr(n,t),n}($g);yr(),zt();var FD=function(t){function n(n){var i;return(i=t.call(this,im.L_)||this).A_=n,i}return zr(n,t),n.prototype.p_=function(){return new UD(this.A_.y_)},n}(Jg),UD=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return zr(n,t),n}($g);yr(),zt();var HD=function(t){function n(n){var i;return(i=t.call(this,im.k_)||this).bp=n,i}return zr(n,t),n.prototype.p_=function(){return new XD(this.bp.y_)},n}(Jg),XD=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return zr(n,t),n}($g);yr(),zt();var zD=function(t){function n(n){var i;return(i=t.call(this,im.T_)||this).bp=n,i}return zr(n,t),n.prototype.p_=function(){return new VD(this.bp.y_)},n}(Jg),VD=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return zr(n,t),n}($g),WD=function(t){function n(n,i,r,e,u,s,o,a,c){var f;return(f=t.call(this)||this).fp=Ap(),f.Uq=!1,f.XP=Dm.Og,f.pq=Dp.NONE,f.Hq=void 0,f.Fq=[],f.Xq=[],f.zq=0,f.Vq=0,f.gf=i||"",f.Wq=a||"",f.qq=n,f.ic=e||"",f.Uq=Boolean(u),f.Gq=Boolean(o),f.we=s||$m.DEFAULT,f.hp=r||"",f.jq=c||[],f.Yq=new xD(f.Fq),f.Qq=new xD(f.Xq),f}zr(n,t);var i=n.prototype;return i.Zq=function(t){return ac(this.Yq.Y_,(function(n){return n.hg===t}))},i.p_=function(){return Lm(this)},i.QP=function(t){var n=Om(t);n!==this.Dg&&(this.XP=n,n===Dm.Og&&(this.Xq.forEach((function(t){t.Vp=!1})),wc(this.Xq),this.Vq=0),this.qs(new sm(this)))},i._I=function(t){if(t&&!t.A_){var n=PD(this.Fg.Y_,t);if(!(n>=0)){t.A_=this;var i=-(n+1);this.Fq.splice(i,0,t),this.Kq(i),t.Mp=i,i<this.Vq&&(this.Vq=i),this.qs(new HD(t))}}},i.nI=function(t){if(t&&t.A_===this){var n=this.xq(t);if(!(n<0)){t.Vp=!1;var i=this.Xq,r=PD(i,t);r>=0&&vc(i,r),vc(this.Fq,n),this.Kq(n),t.Mp=-1,this.Vq>n&&--this.Vq,this.qs(new zD(t))}}},i.Jq=function(t,n){var i=this.Xq,r=this.Fq,e=this.Vq,u=!1;n&&(e=0);for(var s=i.length-1;s>=0;s--){ND(i[s],t)||(u=!0,vc(i,s))}for(;e<r.length&&r[e].Tp<=t;){var o=r[e];if(0===t)break;ND(o,t)&&!lc(i,o)&&(u=!0,i.push(o)),e++}u&&nc(i,DD),this.Vq=e},i.xq=function(t){return(-1===t.Mp||t.Mp>=this.zq)&&this.$q(),t.Mp},i.$q=function(){for(var t=this.Fq,n=this.zq;n<t.length;n++)t[n].Mp=n;this.zq=t.length},i.Kq=function(t){t<this.zq&&(this.zq=t)},i.xg=function(t){this.Lg||(this.Dg=t)},i.Bh=function(){this.Zs();for(var t=this.Fq.slice(),n=0;n<t.length;n++){t[n].Bh()}wc(this.Fq),wc(this.Xq)},Ar(n,[{key:"Ug",get:function(){return this.Qq}},{key:"Fg",get:function(){return this.Yq}},{key:"mI",get:function(){return this.Uq},set:function(t){this.Uq=t}},{key:"Lg",get:function(){return this.Gq}},{key:"y_",get:function(){return this.m_||(this.m_=this.p_()),this.m_}},{key:"hg",get:function(){return this.gf}},{key:"vg",get:function(){return this.fp}},{key:"Ng",get:function(){return this.Wq},set:function(t){this.Wq=t}},{key:"dg",get:function(){return this.qq}},{key:"wg",get:function(){return this.hp},set:function(t){t!==this.hp&&(this.hp=t,this.qs(new mp(this)))}},{key:"gg",get:function(){return this.ic}},{key:"_g",get:function(){return this.jq}},{key:"Dg",get:function(){return this.XP},set:function(t){this.QP(t)}},{key:"Mg",get:function(){return this.pq},set:function(t){this.pq!==t&&(this.pq=t,this.qs(new LD(this,this.pq)))}},{key:"Hg",get:function(){return this.Hq},set:function(t){this.Hq=t}},{key:"$u",get:function(){return this.we},set:function(t){this.we!==t&&(this.we=t,this.qs(new FD(this)))}}]),n}(Gc);yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt();var qD=function(t){function n(n,i){var r;return(r=t.call(this,Op.yp,n)||this).WA=i,r}return zr(n,t),n.prototype.p_=function(){return new GD(this.bp.y_)},n}(Up),GD=function(t){function n(n){return t.call(this,"enter",n)}return zr(n,t),n}(Hp);yr(),zt();var jD=function(t){function n(n,i){var r;return(r=t.call(this,Op.Ap,n)||this).WA=i,r}return zr(n,t),n.prototype.p_=function(){return new YD(this.bp.y_)},n}(Up),YD=function(t){function n(n){return t.call(this,"exit",n)}return zr(n,t),n}(Hp);yr(),zt();var QD=function(t){function n(n){var i;return(i=t.call(this,im.E_)||this).bp=n,i}return zr(n,t),n.prototype.p_=function(){return new ZD(this.bp.y_)},n}(Jg),ZD=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return zr(n,t),n}($g);yr(),zt();var KD=function(t){function n(n){var i;return(i=t.call(this,im.R_)||this).bp=n,i}return zr(n,t),n.prototype.p_=function(){return new JD(this.bp.y_)},n}(Jg),JD=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return zr(n,t),n}($g),$D=function(t){function n(n){var i;return(i=t.call(this)||this).Hp=void 0,i.xp=void 0,i.m_=void 0,i.Lp=!1,i.tG=function(){i.Vp=!0},i.nG=function(){i.Vp=!1},i.fp=Ep(),i.iG=n,i.iG.addEventListener("enter",i.tG),i.iG.addEventListener("exit",i.nG),i}zr(n,t);var i=n.prototype;return i.p_=function(){return Xp(this)},i.zp=function(t){return this===t||lm(this,t)&&jp(this,t)},i.Bh=function(){this.Zs(),this.iG.removeEventListener("enter",this.tG),this.iG.removeEventListener("exit",this.nG)},Ar(n,[{key:"vg",get:function(){return this.fp}},{key:"Tp",get:function(){return this.iG.startTime},set:function(t){this.iG.startTime=t}},{key:"Sp",get:function(){return this.iG.endTime},set:function(t){this.iG.endTime=t}},{key:"Ep",get:function(){return this.Hp},set:function(t){this.Hp=t}},{key:"Wp",get:function(){return!!this.iG.pauseOnExit},set:function(t){this.iG.pauseOnExit=!!t}},{key:"A_",get:function(){return this.xp},set:function(t){this.xp=t}},{key:"hg",get:function(){return this.iG.id||""}},{key:"y_",get:function(){return this.m_||(this.m_=this.p_()),this.m_}},{key:"Vp",get:function(){return this.Lp},set:function(t){this.Vp!==t&&(this.Lp=t,t?(this.qs(new qD(this,this.Tp)),this.xp&&this.xp.qs(new QD(this))):(this.qs(new jD(this,this.Sp)),this.xp&&this.xp.qs(new KD(this))))}}]),n}(Hm);yr(),zt();var tP=function(t){function n(n){var i;return(i=t.call(this,im.N_)||this).A_=n,i}return zr(n,t),n.prototype.p_=function(){return new nP(this.A_.y_)},n}(Jg),nP=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return zr(n,t),n}($g);function iP(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new rP(t),t.THEOplayerVTTRegion=n),n}}yr(),zt(),kr(),yr(),zt(),kr();var rP=function(){function t(t){this.m_=void 0,this.rG=t}return Ar(t,[{key:"eG",get:function(){return this.rG}},{key:"hg",get:function(){return this.rG.id||""}},{key:"Kp",get:function(){return+this.rG.width||0},set:function(t){this.rG.width=t||0}},{key:"qp",get:function(){return+this.rG.lines||0},set:function(t){this.rG.lines=t||0}},{key:"Gp",get:function(){return+this.rG.regionAnchorX||0},set:function(t){this.rG.regionAnchorX=t||0}},{key:"jp",get:function(){return+this.rG.regionAnchorY||0},set:function(t){this.rG.regionAnchorY=t||0}},{key:"Qp",get:function(){return+this.rG.viewportAnchorX||0},set:function(t){this.rG.viewportAnchorX=t||0}},{key:"Zp",get:function(){return+this.rG.viewportAnchorY||0},set:function(t){this.rG.viewportAnchorY=t||0}},{key:"Yp",get:function(){return this.rG.scroll||""}},{key:"y_",get:function(){return this.m_||(this.m_=nA(this)),this.m_}}]),t}();var eP=function(t){function n(n){return t.call(this,n)}return zr(n,t),Ar(n,[{key:"Ep",get:function(){return this.iG.text},set:function(t){this.iG.text=t}},{key:"Op",get:function(){return this.iG.vertical||""},set:function(t){this.iG.vertical=t||""}},{key:"Bp",get:function(){return this.iG.snapToLines},set:function(t){this.iG.snapToLines=t}},{key:"Rp",get:function(){return this.iG.line},set:function(t){this.iG.line=t}},{key:"xo",get:function(){return+this.iG.size},set:function(t){this.iG.size=ru(t,0,100)}}]),n}($D),uP=function(t){function n(n){return t.call(this,n)}return zr(n,t),n.prototype.zp=function(n){return this===n||lm(this,n)&&t.prototype.zp.call(this,n)&&Qp(this,n)},Ar(n,[{key:"Pp",get:function(){return iP(this.iG.region)}},{key:"Cp",get:function(){return this.iG.lineAlign||"start"},set:function(t){this.iG.lineAlign=t||"start"}},{key:"Np",get:function(){return this.iG.position},set:function(t){this.iG.position=t}},{key:"Dp",get:function(){return this.iG.positionAlign||"auto"},set:function(t){this.iG.positionAlign=t||"auto"}},{key:"Ip",get:function(){return this.iG.align||"center"},set:function(t){this.iG.align=t||"center"}},{key:"y_",get:function(){return this.m_||(this.m_=Vp(this)),this.m_}}]),n}(eP),sP=function(t){function n(n){return t.call(this,n)}return zr(n,t),n.prototype.zp=function(n){return this===n||lm(this,n)&&t.prototype.zp.call(this,n)&&Qp(this,n)},Ar(n,[{key:"Pp",get:function(){return iP(this.eG)}},{key:"eG",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.iG.track,this.iG.regionId)}},{key:"Cp",get:function(){return function(t){return"middle"===t?"center":t}(this.iG.lineAlign||"start")},set:function(t){this.iG.lineAlign=function(t){return"center"===t?"middle":t}(t||"start")}},{key:"Np",get:function(){return this.iG.position},set:function(t){this.iG.position=function(t,n){return Fp(t,n)}(t,this.Ip)}},{key:"Dp",get:function(){return function(t){return Lp[t]}(this.iG.positionAlign||"middle")},set:function(t){this.iG.positionAlign=function(t,n){return xp[Mp(t,n)]}(t||"center",this.Ip)}},{key:"Ip",get:function(){return function(t){return"middle"===t?"center":t}(this.iG.align||"middle")},set:function(t){this.iG.align=function(t){return"center"===t?"middle":t}(t||"center")}},{key:"y_",get:function(){return this.m_||(this.m_=Vp(this)),this.m_}}]),n}(eP);function oP(t,n){return t.Ep===n.Ep}function aP(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Tp<t.Tp)cP(n,i,t.Tp);else{var r=n[0];if(r.Tp>t.Tp)t.Sp=r.Tp;else{var e=PD(n,t);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0)n[s].Tp<t.Tp&&cP(n,s,t.Tp);if(u<n.length){var o=n[u];t.Sp=o.Tp}}}}}}function cP(t,n,i){for(var r=t[n].Tp,e=n;e>=0&&t[e].Tp===r;e--)t[e].Sp=i}function fP(t){return Xp(t)}yr(),zt(),yr(),zt(),kr(),yr(),zt(),yr(),zt();var hP,vP,dP=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).uG=i,r}return zr(n,t),n.prototype.zp=function(n){return this===n||lm(this,n)&&t.prototype.zp.call(this,n)&&oP(this,n)},Ar(n,[{key:"Ep",get:function(){return this.uG}},{key:"y_",get:function(){return this.m_||(this.m_=fP(this)),this.m_}}]),n}($D);function lP(t){switch(t){case 0:case 1:case 2:case 3:return!0}return!1}function wP(t){switch(t){case 0:return Qf;case 1:return Jf;case 2:return $f;case 3:return oh}}function _P(t,n){var i=n.Lo,r=t.byteLength,e=lh(t);return n.Mo(r-i),gh(e,i,r).buffer}function gP(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function mP(t,n,i){var r=xf(t,n);if(lP(r)){var e=wP(r);return{id:i,language:jf(t,n,3),description:e(t,n),text:e(t,n)}}}function yP(t,n,i){var r=xf(t,n);if(lP(r)){var e=wP(r);return{id:i,mimeType:Qf(t,n),fileName:e(t,n),description:e(t,n),data:_P(t,n)}}}function pP(t,n,i){var r=xf(t,n);if(lP(r)){for(var e=wP(r),u=[];n.Lo<t.byteLength;)u.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:u}}}function AP(t,n,i){var r=xf(t,n);if(lP(r)){for(var e=wP(r),u=jf(t,n,3),s=xf(t,n),o=xf(t,n),a=e(t,n),c=!1,f=[];n.Lo<t.byteLength;){var h=void 0;if(1===r){var v=Kf(t,n);void 0===v?v=c:c=v,h=$f(t,n,v)}else h=e(t,n);if(!h||n.Lo+4>t.byteLength)break;f.push({text:h,timestamp:Vf(t,n)})}return{id:i,language:u,format:s,contentType:o,description:a,entries:f}}}function kP(t,n,i){return{id:i,ownerIdentifier:Qf(t,n),identifier:_P(t,n)}}function bP(t,n,i){var r=xf(t,n);if(lP(r)){var e=wP(r);return{id:i,language:jf(t,n,3),description:e(t,n),text:e(t,n)}}}function TP(t,n,i){var r=xf(t,n);if(lP(r))return{id:i,text:wP(r)(t,n)}}function SP(t,n,i){return{id:i,url:Qf(t,n)}}function EP(t,n,i){var r=xf(t,n);if(lP(r)){var e=wP(r);return{id:i,description:e(t,n),text:e(t,n)}}}function IP(t,n,i){var r=xf(t,n);if(lP(r))return{id:i,description:wP(r)(t,n),url:Qf(t,n)}}function RP(t,n,i){switch(i){case"COM":return mP(t,n,i);case"GEO":return yP(t,n,i);case"IPL":return pP(t,n,i);case"PIC":return function(t,n,i){var r=xf(t,n);if(lP(r)){var e,u,s=wP(r),o=jf(t,n,3),a=xf(t,n),c=s(t,n);return"--\x3e"===o?(e=o,u=Qf(t,n)):(e="image/"+o.toLowerCase(),u=_P(t,n)),{id:i,mimeType:e,pictureType:a,description:c,data:u}}}(t,n,i);case"SLT":return AP(t,n,i);case"TXX":return EP(t,n,i);case"UFI":return kP(t,n,i);case"ULT":return bP(t,n,i);case"WXX":return IP(t,n,i);default:if("T"===i.charAt(0))return TP(t,n,i);if("W"===i.charAt(0))return SP(t,n,i)}}function CP(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=xf(t,n);if(lP(r)){var e=wP(r),u=Qf(t,n);return{id:i,mimeType:u,pictureType:xf(t,n),description:e(t,n),data:"--\x3e"===u?Qf(t,n):_P(t,n)}}}(t,n,i);case"COMM":return mP(t,n,i);case"COMR":return function(t,n,i){var r=xf(t,n);if(lP(r)){var e,u,s=wP(r),o=Qf(t,n),a=jf(t,n,8),c=Qf(t,n),f=xf(t,n),h=s(t,n),v=s(t,n);return n.Lo<t.byteLength&&(e=Qf(t,n)||"image/",u=_P(t,n)),{id:i,price:o,validUntil:a,contactURL:c,receivedAs:f,nameOfSeller:h,description:v,pictureMimeType:e,sellerLogo:u}}}(t,n,i);case"GEOB":return yP(t,n,i);case"IPLS":return pP(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:Qf(t,n),data:_P(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:xf(t,n),position:Vf(t,n)}}(t,n,i);case"SYLT":return AP(t,n,i);case"TXXX":return EP(t,n,i);case"UFID":return kP(t,n,i);case"USER":return function(t,n,i){var r=xf(t,n);if(lP(r)){var e=wP(r);return{id:i,language:jf(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return bP(t,n,i);case"WXXX":return IP(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return TP(t,n,i);default:var r=i.charAt(0);if("T"===r)return TP(t,n,i);if("W"===r)return SP(t,n,i)}}yr(),zt(),yr(),zt(),function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(hP||(hP={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(vP||(vP={}));function NP(t,n){return(127&xf(t,n))<<21|(127&xf(t,n))<<14|(127&xf(t,n))<<7|127&xf(t,n)}function DP(t,n){switch(t){case 4:return{sG:Of(n,0),oG:Of(n,1),aG:Of(n,2),cG:Of(n,3)};case 3:return{sG:Of(n,0),oG:Of(n,1),aG:Of(n,2)};case 2:return{sG:Of(n,0),fG:Of(n,1)}}}function PP(t,n,i){switch(i.hT){case 3:i.vT.oG&&function(t,n){var i=n.Lo,r=Vf(t,n)+4,e=32768&Xf(t,n);n.Uo(i+r),e&&Vf(t,n)}(t,n);break;case 4:i.vT.oG&&function(t,n){var i=n.Lo,r=NP(t,n);n.Uo(i+r)}(t,n)}}function BP(t,n){if(t.byteLength-n.Lo<10)return null;if(73!==xf(t,n)||68!==xf(t,n)||51!==xf(t,n))return null;var i=xf(t,n),r=xf(t,n);if(!function(t){switch(t){case 2:case 3:case 4:return!0}return!1}(i))return null;var e=xf(t,n),u=NP(t,n);return{hT:i,hG:r,vT:DP(i,e),vG:u}}function OP(t,n,i){switch(i){case 2:return function(t,n){if(!(n.Lo+6>t.byteLength))return{hg:jf(t,n,3),xo:Hf(t,n,3)}}(t,n);case 3:return function(t,n){if(!(n.Lo+10>t.byteLength)){var i=jf(t,n,4),r=Vf(t,n);xf(t,n);var e=xf(t,n);return{hg:i,xo:r,vT:{fG:Of(e,0),dG:Of(e,1),groupingIdentity:Of(e,2)}}}}(t,n);case 4:return function(t,n){if(!(n.Lo+10>t.byteLength)){var i=jf(t,n,4),r=NP(t,n);xf(t,n);var e=xf(t,n);return{hg:i,xo:r,vT:{groupingIdentity:Of(e,1),fG:Of(e,4),dG:Of(e,5),sG:Of(e,6),lG:Of(e,7)}}}}(t,n)}}function xP(t){for(var n=lh(t),i=new g(n.byteLength),r=0,e=0;e<n.byteLength;e++){var u=n[e];255===u&&e++,i[r]=u,r++}return dh(gh(i,0,r))}function LP(t,n){var i=n||new ph,r=BP(t,i);if(!r)return null;var e=function(t,n,i){var r=[],e=n.Lo,u=vh(t,e,e+i.vG),s=new ph;switch(n.Mo(i.vG),i.hT){case 2:case 3:i.vT.sG&&(u=xP(u))}PP(t,n,i);for(;s.Lo<u.byteLength;){var o=MP(u,s,i);if(void 0===o)break;r.push(o)}return r}(t,i,r);return{sT:r,wG:e}}function MP(t,n,i){var r=OP(t,n,i.hT);if(void 0!==r&&0!==r.hg.charCodeAt(0)&&0!==r.xo){var e,u,s=n.Lo,o=vh(t,s,s+r.xo);switch(n.Mo(r.xo),i.hT){case 2:var a=r;e=RP(u=o,new ph,a.hg);break;case 3:var c=r,f=new ph;!function(t,n,i){var r,e,u,s=i.vT;s.fG&&(r=Vf(t,n)),s.dG&&(e=xf(t,n)),s.groupingIdentity&&(u=xf(t,n))}(o,f,c),e=CP(u=vh(o,f.Lo,o.byteLength),new ph,c.hg);break;case 4:var h=r,v=new ph;h.vT.sG&&(o=xP(o)),function(t,n,i){var r,e,u,s,o=i.vT;o.groupingIdentity&&(r=xf(t,n)),o.fG&&(e=Vf(t,n)),o.dG&&(u=xf(t,n)),o.lG&&(s=NP(t,n))}(o,v,h),e=CP(u=vh(o,v.Lo,o.byteLength),new ph,h.hg)}if(!e){var d=mh(lh(u));e=gP(r.hg,d.buffer)}return e}}function FP(t){return function(t,n,i){return TP(t,n,i)}(new DataView(t.data),new ph,t.key)}function UP(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return FP(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return gP(t.key,t.data)}(t)}yr(),zt(),yr(),zt();var HP=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).Fq=[],e.Xq=[],e.XP=Dm.Og,e.pq=Dp.NONE,e.Hq=void 0,e.we=$m.DEFAULT,e._G=!1,e.gG=function(){e.mG(),e.cp.removeEventListener("cuechange",e.gG)},e.yG=function(){e.Dg!==Dm.Og&&(e.pG(),e.Jq(),e.Fq.length&&e.AG(Dp.LOADING))},e.kG=function(){e.AG(Dp.LOADED)},e.bG=function(){e.AG(Dp.ERROR)},e.cp=n,e.TG=r,e.cp.addEventListener("cuechange",e.gG),e.cp.addEventListener("cuechange",e.yG),e.SG=i,e.SG&&(e.Hq=Yw(e.SG.src),e.SG.addEventListener("load",e.kG),e.SG.addEventListener("error",e.bG)),e.fp=Ap(),e.hp=n.label||"",e.Yq=new xD(e.Fq),e.Qq=new xD(e.Xq),e.Dg=e.EG,Hc((function(){e.yG(),e.AG(Dp.NONE)})),e}zr(n,t);var i=n.prototype;return i.p_=function(){return Lm(this)},i.mG=function(){var t=this.Dg;this.IG||t!==Dm.Pg?this.EG=t:this.EG=Dm.Bg},i.CG=function(){var t=this.Dg,n=this.EG;t!==n&&(this.IG||t!==Dm.Pg||n!==Dm.Bg)&&("metadata"===this.dg&&n===Dm.Og?this.Dg=t:this._G&&n===Dm.Og&&t===Dm.Pg?this.EG=t:this.Dg=n)},i.Eq=function(t){this.pq!==t&&(this.pq=t,this.qs(new LD(this,t)))},i.AG=function(t){var n=d.max(this.pq,this.NG,t);this.Eq(n)},i.DG=function(t){var i=n.PG(t);if(i)return i;if(se(i=this.BG(t)))for(var r=0;r<i.length;r++){i[r].A_=this}else i.A_=this;return t.THEOplayerTextTrackCue=i,i},i.BG=function(t){return function(t){return!(!t||"org.id3"!==t.type||!t.value)}(t)?(this.$u=$m.ID3,function(t){var n;try{n=UP(t.value)}catch(t){n=gP("")}return new dP(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.$u=$m.ID3,function(t){var n=[];try{var i=LP(new DataView(t.data));if(i)for(var r=0,e=i.wG;r<e.length;r++){var u=e[r];n.push(new dP(t,u))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.$u=$m.WEBVTT,function(t){return"regionId"in t}(t)?new sP(t):new uP(t)):new $D(t)},i.OG=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e=this.DG(t[r]||t.item(r));if(se(e))for(var u=0;u<e.length;u++){var s=e[u];n.push(s)}else n.push(e)}return n},i.pG=function(){for(var t=this.OG(this.cp.cues),n=OD(this.Fq,t),i=0,r=n.Mq;i<r.length;i++){var e=r[i];e.Ks(Op.Ap,this.yG),e.Ks(Op.yp,this.yG),this.qs(new zD(e))}for(var u=0,s=n.Lq;u<s.length;u++){var o=s[u];o.js(Op.yp,this.yG),o.js(Op.Ap,this.yG),this.qs(new HD(o))}},i.Jq=function(){for(var t=this.OG(this.cp.activeCues),n=OD(this.Xq,t),i=0,r=n.Mq;i<r.length;i++){r[i].Vp=!1}for(var e=0,u=n.Lq;e<u.length;e++){u[e].Vp=!0}(n.Lq.length||n.Mq.length)&&this.qs(new tP(this))},i.xg=function(t){this.Dg=t},i.Bh=function(){this.Zs();for(var t=this.Fq.slice(),n=0;n<t.length;n++){t[n].Bh()}wc(this.Fq),wc(this.Xq),this.cp.removeEventListener("cuechange",this.gG),this.cp.removeEventListener("cuechange",this.yG),this.SG&&(this.SG.removeEventListener("load",this.kG),this.SG.removeEventListener("error",this.bG),To(this.SG))},n.PG=function(t){return t&&t.THEOplayerTextTrackCue||void 0},Ar(n,[{key:"Ug",get:function(){return this.Qq}},{key:"mI",get:function(){return this.SG?this.SG.default:void 0}},{key:"Fg",get:function(){return this.Yq}},{key:"y_",get:function(){return this.m_||(this.m_=this.p_()),this.m_}},{key:"hg",get:function(){return this.cp.id||this.SG&&this.SG.id||""}},{key:"vg",get:function(){return this.fp}},{key:"Ng",get:function(){return this.cp.inBandMetadataTrackDispatchType||""}},{key:"dg",get:function(){return this.cp.kind||zk.Ob}},{key:"wg",get:function(){return this.hp},set:function(t){t!==this.hp&&(this.hp=t,void 0!==this.SG&&(this.SG.label=t),this.qs(new mp(this)))}},{key:"gg",get:function(){return this.cp.language||""}},{key:"Dg",get:function(){return this.XP},set:function(t){var n=this.Dg;this.XP=Om(t),this.mG();var i=this.Dg;n!==i&&this.qs(new sm(this)),i!==Dm.Og&&this.AG(Dp.LOADING)}},{key:"EG",get:function(){return Om(this.cp.mode)},set:function(t){this.cp.mode=t}},{key:"wp",get:function(){return this.cp}},{key:"Mg",get:function(){return this.pq}},{key:"NG",get:function(){return this.SG?+this.SG.readyState||Dp.NONE:Dp.LOADED}},{key:"Hg",get:function(){return this.Hq}},{key:"$u",get:function(){return this.we},set:function(t){this.we!==t&&(this.we=t,this.qs(new FD(this)))}},{key:"IG",get:function(){return this.TG},set:function(t){var n=this;this.TG=t,t&&(this._G=!0,s((function(){n._G=!1}),50)),this.mG()}}]),n}(Gc);yr(),zt(),yr(),zt();function XP(t,n){return uc(t.WA,n.WA)||function(t,n){return t.A_===n.A_?ec(BD(t),BD(n)):rb(t.A_,n.A_)}(t.bp,n.bp)||function(t,n){return t===n?Ka.As:t===Op.yp?Ka.Ss:Ka.Ts}(t.type,n.type)}var zP=function(){function t(t,n){var i=this;this.ey=[],this.xG=0,this.LG=0,this.MG=[],this.FG=[],this.UG=!1,this.HG=!1,this.XG=void 0,this.zG=function(){i.xG=0,i.VG(),i.WG()},this.qG=function(){i.VG(),i.WG()},this.GG=function(){i.HG=!0,i.XG=i.pD.Tm,i.jG()},this.YG=function(){i.VG(),i.WG()},this.QG=function(){i.ZG(),i.VG(),i.WG()},this.KG=function(t){lc(i.FG,t.bp)||i.FG.push(t.bp),i.JG()},this.$G=function(t){hc(i.MG,t.bp),hc(i.FG,t.bp),i.JG()},this.tj=n,this.pD=t,t.js(vw.Yv,this.qG),t.js(vw.Ov,this.qG),t.js(ky.Am,this.qG),t.js(vw.Bv,this.qG),t.js(vw.Hv,this.GG),t.js(vw.Uv,this.YG),this.JG()}var n=t.prototype;return n.Wf=function(){wc(this.MG);for(var t=0,n=this.ey.slice();t<n.length;t++){var i=n[t];this.G_(i)}this.jG(),this.xG=0,this.LG=0,this.UG=!1,this.HG=!1,this.XG=void 0},n.q_=function(t){if(!lc(this.ey,t)){if(this.ey.push(t),t.js(im.k_,this.KG),t.js(im.T_,this.$G),t.js(im.P_,this.QG),t.Fg.Q_>0){for(var n=0,i=t.Fg.Y_;n<i.length;n++){var r=i[n];this.FG.push(r)}this.JG()}this.ZG()}},n.G_=function(t){if(hc(this.ey,t)){if(t.Ks(im.k_,this.KG),t.Ks(im.T_,this.$G),t.Ks(im.P_,this.QG),t.Fg.Q_>0){for(var n=0,i=t.Fg.Y_;n<i.length;n++){var r=i[n];hc(this.MG,r),hc(this.FG,r)}this.JG()}this.ZG()}},n.ZG=function(){this.UG=this.ey.some((function(t){return t.Dg!==Dm.Og}))},n.WG=function(){this.pD.Dm||this.pD.Cm?this.jG():this.JG()},n.JG=function(){this.UG&&(this.xG||(this.xG=this.tj.J(this.zG)))},n.jG=function(){this.xG&&(this.tj.nj(this.xG),this.xG=0)},n.VG=function(){if(this.UG&&!this.pD.Dm){var t,n=this.ey,i=this.LG,r=null!=(t=this.XG)?t:this.pD.Tm,e=r-i<-.1,u=this.HG||e;u&&r>i&&r-i<.1&&(u=!1),this.HG=!1,this.XG=void 0;for(var s,o=[],a=0;a<n.length;a++){var c=n[a];if(c.Dg!==Dm.Og){c.Jq(r,u);for(var f=0,h=c.Ug.Y_;f<h.length;f++){var v=h[f];o.push(v)}}}if(u)s=this.MG;else{s=[];for(var l=0;l<n.length;l++){var w=n[l];w.Dg!==Dm.Og&&ib(w,i-vu,r,s)}}for(var _=s.length-1;_>=0;_--)lc(o,s[_])&&vc(s,_);var g=[];if(!u)for(var m=s.length-1;m>=0;m--){var y=s[m];y.Tp>i&&y.Sp<=r&&(g.push(y),vc(s,m))}for(var p=0,A=this.FG;p<A.length;p++){hc(g,A[p])}wc(this.FG);for(var k=[],b=[],T=0;T<g.length;T++){var S=g[T];S.Vp||k.push(new qD(S,S.Tp)),k.push(new jD(S,d.max(S.Tp,S.Sp))),S.Vp=!1}for(var E=0;E<s.length;E++){var I=s[E];I.Vp&&(k.push(new jD(I,d.max(I.Tp,I.Sp))),I.Vp=!1)}for(var R=0;R<o.length;R++){var C=o[R];C.Vp||(k.push(new qD(C,C.Tp)),C.Vp=!0)}k.sort(XP);for(var N=0;N<k.length;N++){var D=k[N],P=D.bp;P.qs(D);var B=P.A_;B&&(D.type===Op.yp?B.qs(new QD(P)):B.qs(new KD(P)),lc(b,B)||b.push(B))}b.sort(rb);for(var O=0;O<b.length;O++){var x=b[O];x.qs(new tP(x))}this.LG=r,this.MG=o}},n.Bh=function(){this.Wf(),this.pD.Ks(vw.Yv,this.qG),this.pD.Ks(vw.Ov,this.qG),this.pD.Ks(ky.Am,this.qG),this.pD.Ks(vw.Bv,this.qG),this.pD.Ks(vw.Hv,this.GG),this.pD.Ks(vw.Uv,this.YG)},t}();yr(),zt();var VP=function(){function t(){}var n=t.prototype;return n.J=function(t){return IR(t)},n.nj=function(t){RR(t)},t}(),WP=new VP,qP=function(t){function n(n,i){return void 0===i&&(i=WP),t.call(this,n,i)}return zr(n,t),n}(zP);yr(),zt(),kr(),yr(),zt(),kr();var GP=function(t){function n(n,i,r){return t.call(this,n,1/0,i,!1,r)}return zr(n,t),n.prototype.zp=function(n){return this===n||lm(this,n)&&t.prototype.zp.call(this,n)&&oP(this,n)},Ar(n,[{key:"y_",get:function(){return this.m_||(this.m_=fP(this)),this.m_}}]),n}(Yp);yr(),zt(),yr(),zt();var jP=function(t){function n(n,i,r){return void 0===r&&(r=$m.DEFAULT),t.call(this,zk.Lb,"",i||"","",!1,r,!1,n)}return zr(n,t),n}(WD),YP=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).$u=$m.ID3,r}zr(n,t);var i=n.prototype;return i._I=function(n){aP(n,this.Fq),t.prototype._I.call(this,n)},i.p_=function(){return Lm(this)},n}(jP);function QP(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,r=UP(t.value);return t.THEOplayerTextTrackCue=new GP(i,r),t.THEOplayerTextTrackCue}var ZP=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).yG=function(){i.Dg!==Dm.Og&&(i.pG(),i.AG(Dp.LOADED))},i.cp=n,i.cp.addEventListener("cuechange",i.yG),i.Dg=i.EG,Hc((function(){i.yG()})),i}zr(n,t);var i=n.prototype;return i.QP=function(n){t.prototype.QP.call(this,n),this.EG=this.Dg},i.AG=function(t){this.Mg=d.max(this.Mg,t)},i.pG=function(){var t=this.cp.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],r=0;r<n;r++)i.push(QP(t[r]||t.item(r)));return nc(i,DD),i}(t),i=OD(this.Fg.Y_.slice(),n),r=0,e=i.Mq;r<e.length;r++){var u=e[r];this.nI(u)}for(var s=0,o=i.Lq;s<o.length;s++){var a=o[s];this._I(a)}}},i.Bh=function(){this.cp.removeEventListener("cuechange",this.yG),t.prototype.Bh.call(this)},Ar(n,[{key:"hg",get:function(){return this.cp.id||""}},{key:"Ng",get:function(){return this.cp.inBandMetadataTrackDispatchType||""}},{key:"gg",get:function(){return this.cp.language||""}},{key:"EG",get:function(){return Om(this.cp.mode)},set:function(t){this.cp.mode=t}},{key:"wp",get:function(){return this.cp}}]),n}(YP);yr(),zt();var KP=function(t){function n(n,i){var r;(r=t.call(this)||this).hI=n,r.ij=i,r.rj=sa();var e=$a(r);return r.zC=ta((function(t){var n;return ia(this,(function(i){switch(i.label){case 0:return(n=t.A_).$u?[3,2]:[4,n.oo(im.L_)];case 1:i.sent(),i.label=2;case 2:if(n.$u!==$m.ID3)return[2];i.label=3;case 3:return 0!==n.Fg.Q_?[3,5]:[4,n.oo(im.k_)];case 4:return i.sent(),[3,3];case 5:return e.ej(n),[2]}}))})),r.VC=function(t){var n=t.A_;if(n.$u===$m.ID3&&r.rj.has(n.vg)){var i=r.rj.get(n.vg);r.G_(i),r.hI.gI(i),n.Ks(im.k_,r.uj)}},r.uj=function(t){JP(t.bp)&&r.sj(t.bp)},r.aj(),r}zr(n,t);var i=n.prototype;return i.aj=function(){this.ij.js(Og.l_,this.zC),this.ij.js(Og.__,this.VC)},i.cj=function(){this.ij.Ks(Og.l_,this.zC),this.ij.Ks(Og.__,this.VC)},i.ej=function(t){var n=t.Fg.Y_[0];if(JP(n)){var i=function(t){var n=t.match($P);if(!n)return;return{A_:n[1],gg:n[2]}}(n.Ep.description),r=i.A_,e=i.gg;if(!this.hj(r,e)){var u=this.hI.lI(zk.Ob,t.hg,r,e,!1,$m.TTML);this.q_(u),this.rj.set(t.vg,u);for(var s=0,o=t.Fg.Y_;s<o.length;s++){var a=o[s];JP(a)&&this.sj(a)}t.js(im.k_,this.uj)}}},i.hj=function(t,n){return this.RT.Y_.some((function(i){return i.wg===t&&i.gg===n}))},i.sj=function(t){if(t.A_)for(var n=this.rj.get(t.A_.vg),i=Nk(t.Ep.text,n,{Rk:0,Ck:1/0,Nk:t.Tp}),r=0;r<i.length;r++){var e=i[r];n._I(e)}},i.Wf=function(){var n=this;return ta((function(){var i,r,e,u,s;return ia(this,(function(o){switch(o.label){case 0:for(i=0,r=n.ij.Y_;i<r.length;i++)r[i].Ks(im.k_,n.uj);for(e=0,u=n.RT.Y_;e<u.length;e++)s=u[e],n.hI.gI(s);return n.rj.clear(),[4,t.prototype.Wf.call(n)];case 1:return o.sent(),[2]}}))}))()},i.Bh=function(){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return n.cj(),[4,t.prototype.Bh.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(sb);function JP(t){return function(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(t)&&$P.test(t.description)}(t.Ep)}var $P=/^Track:(.+),Lang:(.+)$/;yr(),zt(),kr(),yr(),zt(),kr();var tB=function(t){function n(n){var i;return(i=t.call(this,vw.hv)||this).errorObject=n,i}return zr(n,t),Ar(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Qc);yr(),zt(),kr(),yr(),zt(),yr(),zt();var nB=function(t){function n(){return t.call(this,vw.vv)}return zr(n,t),n}(Qc);yr(),zt();var iB=function(t){function n(n){var i;return(i=t.call(this,"Kv")||this).vj=n,i}return zr(n,t),n}(Qc),rB=new Kl,eB=function(t){function n(n){var i;return(i=t.call(this,"If")||this).session=n,i}return zr(n,t),n}(Qc),uB=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).dj=n,e.lj=i,e.wj=r,e._j=!1,e.gj=!1,e.Ih=new Nc,e.bf=function(t){if(!e.Ih.Hs.Es)switch(t.mo){case"license-request":case"license-renewal":e.nR(t._o,t.po).catch((function(t){return e.oh(t)}));break;default:e.oh(new vp(Hl.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.mo))}},e.mj=function(t){e.dj.xf.Po((function(t,n){switch(t){case"usable":Pr.oe((function(){e.gj=!0,e.qs(new nB)}),100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":e.qs(new iB(n))}}))},e.yj=function(t){e.oh(new vp(Hl.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},n.js("_o",e.bf),n.js("do",e.mj),n.js("Ao",e.yj),n.Bf.then((function(){return e.pj()})),e}zr(n,t);var i=n.prototype;return i.Rf=function(){var t=this;return this._j=!0,rB.Dh((function(n){return t.Aj(n)}),this.Ih.Hs)},i.Aj=function(t){var n=this;return ta((function(){var i,r,e,u;return ia(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),Bc(t),[4,n.lj.YI(t)];case 1:return s.sent(),[4,n.lj.QI(n.wj.us,n.wj.Ro,t)];case 2:return i=s.sent(),[4,n.dj.Rf(n.wj.us,n.wj.Ro,i)];case 3:return s.sent(),[3,5];case 4:throw Oc(r=s.sent()),e=r instanceof Eh?r.Yo:void 0,u=new vp(Hl.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",r,void 0,void 0,void 0,void 0,e),n.oh(u),u;case 5:return[2]}}))}))()},i.nR=function(t,n){var i=this;return ta((function(){var r,e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),function(t){return _f(t,bh())}(t)?[4,i.lj.cR(new g(t),i.Ih.Hs)]:[3,2];case 1:return r=c.sent(),[3,4];case 2:return[4,i.lj.fR(new g(t),n,i.Ih.Hs)];case 3:r=c.sent(),c.label=4;case 4:return[3,6];case 5:if(Pc(e=c.sent()))return[2];throw e;case 6:if(i.Ih.Hs.Es)return[2];u=i.bj,s=new kh,i.bj=s,c.label=7;case 7:return c.trys.push([7,10,11,14]),[4,i.dj.Df(r)];case 8:return c.sent(),[4,Wc(100)];case 9:return c.sent(),[3,14];case 10:throw o=c.sent(),a=o instanceof Eh?o.Yo:void 0,new vp(Hl.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o,void 0,void 0,void 0,void 0,a);case 11:return void 0===u?[3,13]:[4,u.Wo];case 12:c.sent(),c.label=13;case 13:return s.qo(),i.bj===s&&(i.bj=void 0),[7];case 14:return[2]}}))}))()},i.oh=function(t){var n=t instanceof vp?t:new vp(Hl.CONTENT_PROTECTION_ERROR,t.message,t);this.qs(new tB(n)),this.If()},i.pj=function(){this.dj.Ks("_o",this.bf),this.dj.Ks("do",this.mj),this.dj.Ks("Ao",this.yj),this.gj=!1,this.Ih.Ms(),this.qs(new eB(this))},i.If=function(){var t=this;return ta((function(){var n;return ia(this,(function(i){switch(i.label){case 0:t.Zs(),i.label=1;case 1:return void 0===(n=t.bj)?[3,3]:[4,n.Wo];case 2:i.sent(),i.label=3;case 3:if(t.bj!==n)return[3,1];i.label=4;case 4:return t.pj(),[4,t.dj.If().catch(le)];case 5:return i.sent(),[2]}}))}))()},n}(Gc);yr(),zt();var sB=[vw.vv,vw.hv,vw.Zv],oB=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Tj=[],e.Sj=void 0,e.Ej=[],e.Ij=function(t){t.session.Ks(sB,e.Ws),t.session.Ks("If",e.Ij),hc(e.Tj,t.session)},e.yf=n,e.Mf=i,e.Rj=r,e}zr(n,t);var i=n.prototype;return i.aR=function(){return this.Rj.aR()},i.Cj=function(t){return this.Sj||(this.Sj=this.Nj(t)),this.Sj},i.Nj=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return Bc(t),[4,n.Rj.cR(new g(bh()),t)];case 1:if(i=r.sent(),Bc(t),!n.Mf)throw new f("Invalid MediaKeys when setting ServerCertificate");return[4,n.Mf.Xf(i.buffer)];case 2:return r.sent(),[2]}}))}))()},i.Dj=function(t){var n=this;return ta((function(){var i,r;return ia(this,(function(e){switch(e.label){case 0:if(!n.Mf)throw new f("Invalid MediaKeys when creating KeySession");e.label=1;case 1:return e.trys.push([1,,3,4]),n.Ej.push(t),[4,n.Mf.Hf("temporary")];case 2:return i=e.sent(),r=new uB(i,n.Rj,t),n.Tj.push(r),r.js(sB,n.Ws),r.js("If",n.Ij),[2,r];case 3:return hc(n.Ej,t),[7];case 4:return[2]}}))}))()},i.Pj=function(t){if(t.Bj)return!1;for(var n=0,i=this.Tj;n<i.length;n++){if(aB(i[n].wj,t))return!0}for(var r=0,e=this.Ej;r<e.length;r++){if(aB(e[r],t))return!0}return!1},i.Bh=function(){var t=this;return ta((function(){var n;return ia(this,(function(i){switch(i.label){case 0:return t.Mf=void 0,t.Zs(),n=t.Tj.slice(),wc(t.Tj),[4,j.all(n.map((function(t){return t.If()})))];case 1:return i.sent(),t.Rj.Ds(),[2]}}))}))()},Ar(n,[{key:"Ff",get:function(){return this.yf}}]),n}(Gc);function aB(t,n){return!t.Bj&&t.us===n.us&&_f(t.Ro,n.Ro)}var cB=function(t){function n(n){var i;(i=t.call(this)||this).Ih=new Nc,i.pU=new Kl,i.wh=void 0,i.Rj=void 0,i.KC=void 0,i.yf=void 0;var r=$a(i);return i.Oj=ta((function(t){var n;return ia(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,r.xj(t.us,t.Ro,r.Ih.Hs)];case 1:return i.sent(),[3,3];case 2:return Pc(n=i.sent())||r.oh(n),[3,3];case 3:return[2]}}))})),i.yN=n,i.yN.js(Yc.To,i.Oj),i}zr(n,t);var i=n.prototype;return i.Cf=function(t,n){this.KC=t,this.RU(n)},i.RU=function(t){this.wh=t,this.Lj(this.Ih.Hs).catch(xc)},i.Lj=function(t){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return Pr.Bu.qe?[4,n.Mj(t)]:[3,2];case 1:if(i.sent())return[2];i.label=2;case 2:return n.wh&&n.wh.Fj?[4,n.Uj(t)]:[3,4];case 3:return[2,i.sent()];case 4:return[2]}}))}))()},i.Mj=function(t){var n=this;return ta((function(){var i,r,e,u,s,o,a,c,f,h,v;return ia(this,(function(d){switch(d.label){case 0:if(!(null==(i=n.wh)?void 0:i.CN))return[2,!1];e=!1,s=0,o=null!=(u=null==(r=n.wh)?void 0:r.CN)?u:[],d.label=1;case 1:if(!(s<o.length))return[3,9];a=o[s],f=0,h=null!=(c=a.FC)?c:[],d.label=2;case 2:if(!(f<h.length))return[3,7];v=h[f],d.label=3;case 3:return d.trys.push([3,5,,6]),[4,n.xj(a.Ff.us,v,t)];case 4:return d.sent(),e=!0,[3,6];case 5:return Oc(d.sent()),[3,6];case 6:return f++,[3,2];case 7:if(e)return[2,!0];d.label=8;case 8:return s++,[3,1];case 9:return[2,!1]}}))}))()},i.xj=function(t,n,i){var r=this;return ta((function(){var e,u,s,o,a,c,f,h,v,d;return ia(this,(function(l){switch(l.label){case 0:if(Bc(i),!n.byteLength)return[2];if(!r.wh||!r.wh.CN.length)throw new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");if(t!==wa&&t!==ga&&t!==_a)return[2];e=vT(t,n),u=r.wh.CN,o=0,l.label=1;case 1:if(!(o<u.length))return[3,11];if(a=u[o],Bc(i),!(c=e[a.Ff.fs])||a.Ff.us!==t)return[3,10];l.label=2;case 2:return l.trys.push([2,9,,10]),[4,r.Hj(a,i)];case 3:return(f=l.sent()).aR()?[4,f.Cj()]:[3,5];case 4:l.sent(),l.label=5;case 5:return h=r.yN.Wy,v={us:a.Ff.us,Ro:c,Bj:h},r.Xj(f,v)?[4,f.Dj(v)]:[3,8];case 6:return[4,l.sent().Rf()];case 7:l.sent(),l.label=8;case 8:return[2];case 9:return Oc(d=l.sent()),s=d,[3,10];case 10:return o++,[3,1];case 11:return[4,Pr.Au()];case 12:throw l.sent()?new vp(Hl.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s):new vp(Hl.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s)}}))}))()},i.Uj=function(t){var n=this;return ta((function(){var i,r,e,u,s;return ia(this,(function(o){switch(o.label){case 0:if(!(r=null==(i=n.wh)?void 0:i.CN))return[2];e=0,o.label=1;case 1:if(!(e<r.length))return[3,8];u=r[e],Bc(t),o.label=2;case 2:return o.trys.push([2,6,,7]),[4,n.Hj(u,t)];case 3:return(s=o.sent()).aR()?[4,s.Cj()]:[3,5];case 4:o.sent(),o.label=5;case 5:return[2];case 6:return Oc(o.sent()),[3,7];case 7:return e++,[3,1];case 8:return[2]}}))}))()},i.Xj=function(t,n){return Pr.Bu.We||this.yN.zj.hU||!t.Pj(n)},i.Hj=function(t,n){var i=this;return this.pU.Dh((function(n){return i.Vj(t,n)}),n)},i.Vj=function(t,n){var i=this;return ta((function(){var r,e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:if(Bc(n),!i.wh||!i.Rj||!i.KC)throw new f("Not initialized");if(i.yf){if(i.yf.Ff!==t.Ff)throw new f("Internal key system error");return[2,i.yf]}return r=i.Rj,u=na({},t,{VN:t.VN.map((function(n){return na({},n,{persistentState:null!=(e=n.persistentState)?e:r.xR(t.Ff),Kf:n.Kf||r.Kf(t.Ff)})}))}),[4,i.KC.SU(u.Ff,u.VN)];case 1:return s=c.sent(),o=r.MC(u),(a=new oB(u.Ff,s,o)).js([vw.vv,vw.hv,vw.Zv],i.Ws),i.yf=a,[2,a]}}))}))()},i.oh=function(t){var n=t instanceof vp?t:new vp(Hl.CONTENT_PROTECTION_ERROR,t.message,t);this.qs(new tB(n))},i.Wf=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t.KC=void 0,t.wh=void 0,t.Ih.Ms(),t.Ih=new Nc,[4,t.Wj()];case 1:return n.sent(),[2]}}))}))()},i.Wj=function(){var t=this;return ta((function(){var n;return ia(this,(function(i){switch(i.label){case 0:return[4,t.pU.Ms()];case 1:return i.sent(),(n=t.yf)?(n.Ks(vw.Zv,t.Ws),t.yf=void 0,[4,n.Bh()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.Ds=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t.Zs(),t.yN.Ks(Yc.To,t.Oj),[4,t.Wf()];case 1:return n.sent(),[4,t.pU.Bh()];case 2:return n.sent(),[2]}}))}))()},Ar(n,[{key:"qj",get:function(){var t;return null==(t=this.yf)?void 0:t.Ff}},{key:"SN",get:function(){return this.Rj},set:function(t){this.Rj=t}}]),n}(Gc);yr(),zt();yr(),zt();var fB=function(t){function n(n){var i;return(i=t.call(this,vw.Ev)||this).currentTime=n,i}return zr(n,t),n}(Qc);yr(),zt(),kr();var hB=function(t){function n(n){var i;return(i=t.call(this)||this).Gj=n,i}zr(n,t);var i=n.prototype;return i.Eq=function(){var t;null==(t=this.jj)||t.Eq()},i.Wf=function(){var t;null==(t=this.jj)||t.Wf()},i.Ds=function(){this.Zs(),void 0!==this.jj&&(this.jj.Ds(),this.jj=void 0)},i.Yj=function(t){if(this.jj!==t){var n=this.Mg;void 0!==this.jj&&this.jj.Ds(),this.jj=t,void 0!==t&&(t.js(ky.O_,this.Ws),t.Eq());var i=this.Mg;n!==i&&this.qs(new Ly(this.Gj.Tm,i))}},Ar(n,[{key:"Mg",get:function(){return void 0!==this.jj?this.jj.Mg:ty.fm}}]),n}(Gc),vB=te.Pr||te.Br,dB=te.Jr,lB=te.Ur,wB=te.Ur&&te.wr,_B=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).JC=void 0,u.mD=!0,u.KC=void 0,u.Qj=new Kl,u.Zj=void 0,u.Kj=[],u.Jj=void 0,u.$j=0,u.tY=NaN,u.nY=void 0,u.iY=void 0,u._P=!1,u.kq=!1,u.rY=ty.fm,u.eY=0,u.uY=j.resolve(),u.sY=new Nc,u.oY=[],u.aY=gE.uP(),u.cY=void 0,u.fY=1,u.hY=!1,u.vY=!1,u.dY=!1,u.lY=!1,u.wY=!1,u._Y=!1,u.gY=!1,u.mY=!1,u.yY=0,u.pY=!1,u.AY=function(t){var n=t.track,i=u.kY(n);u.bY(n,i)},u.TY=function(t){var n=mB(u.SY,t.track);n&&u.SY.G_(n)},u.EY=function(){for(var t=0;t<u.SY.Q_;t++){var n=u.SY.W_(t);n instanceof HP&&n.CG()}},u.IY=function(){if(void 0!==u.KC&&qC(u.KC)){var t=u.KC,n=t.QW,i=t.ZW;if(n&&i)if(t.FU)u.RY();else if(t.Mg!==wD.nW){var r=n.Xy,e=i.Xy;if(0!==r.Q_&&0!==e.Q_){var s=u.Tm;if(s<r.CD(0)||s<e.CD(0))u.RY();else if(r.WN(s)!==e.WN(s)){if(t.CU(s))return;u.CY()}else{if(u.RY(),!u.yY&&u.NY.Pq())r.zD(e).jD(s,s+.5)&&(u.yY=IR(u.DY))}}else u.RY()}}},u.DY=function(){u.yY=0,u.IY()},u.PY=function(){if(!u.Dm&&!u.Tq&&!(u.BY.Mg>=ty.dm)&&void 0!==u.KC&&qC(u.KC)){var t=u.KC,n=t.QW,i=t.ZW;if(n&&i){var r=u.Tm,e=n.Xy,s=i.Xy;if(e.WN(r)&&s.WN(r))e.zD(s).jD(r-5,r)&&(u.gY?u.RY():u.OY())}}},u.xY=function(){u.qs(new by(u.Tm))},u.LY=function(){u.MY(new Dc),u.qs(new Ay(u.Tm))},u.FY=function(){u.UY(),u.qs(new gb(u.Tm))},u.HY=function(){u.XY(u.Nm)},u.zY=function(){u.qs(new Ey(u.Sm))},u.VY=function(){u.qs(new JC(u.Tm))},u.WY=function(){u.qs(new tN)},u.qY=function(){var t=u.Tm,n=u.Dm,i=u.BY.Mg<ty.dm&&!u.Em,r=void 0!==u.iY,e=r&&u.iY!==t;(n||!r||e&&!i)&&u.GY()},u.jY=function(){!u.hY&&u.Em&&(u.hY=!0,u.qs(new Cy(u.Tm)))},u.YY=function(){if(null!==u.Lh.error){var t,n=u.Lh.error;u.rN(new dp(null!=(t=n.code)?t:hp.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},u.QY=function(){u.vY&&(u.ZY(),u.dY=!0)},u.KY=function(t){if(Pr.ue(u.eY),u.eY=0,t.readyState<=ty.vm)if(u._P||u.kq){var n=Pr.re()-u.$j;if(n<250)return void(u.eY=Pr.oe((function(){return u.KY(t)}),250-n))}else if(void 0!==u.KC&&u.KC.CU(u.Tm))return void(u.eY=Pr.oe((function(){return u.KY(t)}),250));u.rY!==t.readyState&&(u.rY=t.readyState,u.qs(t))},u.JY=function(){u.qs(new By(u.Tm,u.Om))},u.$Y=function(){u.Bm>0&&u.Pm>0&&u.qs(new wb)},u.tQ=function(t){u.qs(new nf(t.initDataType,t.initData||new ArrayBuffer(0)))},u.nQ=function(){u.qs(new rf)},u.iQ=function(t){var n=t.initData,i=n?mh(n).buffer:new ArrayBuffer(0);u.qs(new nf(wa,i))},u.rQ=function(t){if(t.initData){var n=gB(t.initData);if(!n)return;u.qs(new nf(ga,n))}else u.qs(new nf(ga,new ArrayBuffer(0)))},u.eQ=function(t){var n=t.initData,i=n?mh(n).buffer:new ArrayBuffer(0);u.qs(new nf(wa,i))},u.uQ=function(){u.UY()},u.sQ=function(t){u.MY(t)},u.oQ=function(t){u.qs(t),t.type===vw.hv&&u.rN(wp(t.errorObject))},u.Lh=n,u._s=i,u.aQ=r,u.yP=e,u.BY=new hB($a(u)),u.BY.js(ky.O_,u.KY),u.BY.Yj(new SD($a(u))),u.NY=new RD($a(u)),u.NY.js(ky.Am,u.FY),u.TU=new cB($a(u)),u.TU.js([vw.vv,vw.hv,vw.Zv],u.oQ),u.ey=new Vk,u.SY=new Vk,u.cQ=new KS([u.ey,u.SY]),u.fQ=new KP($a(u),u.cQ),u.hQ=new KS([u.cQ,u.fQ.RT]),u.vQ=new qP($a(u)),u.dQ(),u.IN(),u}zr(n,t);var i=n.prototype;return i.lQ=function(){this.kN.ended||this.Tm===this.Sm||(this.hY=!1)},i.wQ=function(){return void 0!==this.Jj&&this.Sm===this.Jj},i.XY=function(t){this.fY!==t&&(this.fY=t,this.qs(new Iy(this.Tm,t)))},i.jN=function(){return kC(this.Lh)},i.gy=function(){this.pY||(this.pY=!0);var t=this._Q();return this.gQ(),t},i.gQ=function(){this.wY?this._Y&&(this._Y=!1,this.qs(new by(this.Tm))):this.mQ()},i.mQ=function(){if(this.Zj)this.Zj.gy();else{te.Ur&&!te.wr&&this.Lh.preload===fE.dD&&(this.Lh.preload=fE.Lb);var t=this.Nm,n=this.Lh.play();t!==this.kN.playbackRate&&(this.Nm=t),he(n)?n.then(this.uQ,this.sQ):this.NY.Pq()&&this.UY()}},i.yy=function(){this.wY?this._Y||(this._Y=!0,this.qs(new Ay(this.Tm))):this.yQ()},i.yQ=function(){this.Zj?this.Zj.yy():(this.Lh.pause(),this.NY.Df()),this.pQ(new Dc)},i._Q=function(){var t=new kh;return this.oY.push(t),t.Wo},i.AQ=function(){for(var t=0,n=this.oY;t<n.length;t++){n[t].qo(void 0)}wc(this.oY)},i.pQ=function(t){for(var n=0,i=this.oY;n<i.length;n++){i[n].Go(t)}wc(this.oY)},i.UY=function(){this.wY||this.Zj||this.AQ()},i.MY=function(t){this.wY||this.Zj||this.pQ(t)},i.Uo=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.Zj?this.Zj.Uo(t,n,i):(this.sY.Ms(),this.sY=new Nc,this.uY=this.kQ(t,n,i,this.uY,this.sY.Hs).catch(le))},i.GN=function(t){var n=this.YN;if(n&&!_(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Uo(i)}},i.kQ=function(t,n,i,r,e){var u=this;return ta((function(){var s,o,a,c,f,h,v,l,w,_;return ia(this,(function(g){switch(g.label){case 0:return g.trys.push([0,16,,17]),u.Jj=t,u.tY=t,u.$j=Pr.re(),i&&!u._P?u.kq=!0:(u._P=!0,u.kq=!1),u.hY&&!u.wQ()&&(u.hY=!1),u.kq?u.qs(new pD(u.Tm)):u.qs(new Dy(t)),[4,r.catch(le)];case 1:return g.sent(),Bc(e),u.lY&&u.bQ(),u.BY.Mg!==ty.fm?[3,3]:[4,u.BY.oo(ky.O_,e)];case 2:g.sent(),g.label=3;case 3:return 0===u.Lh.seekable.length||wB&&!u.pY?[4,j.race([Cg(u.Lh,"timeupdate",e),Wc(100,e)])]:[3,5];case 4:return g.sent(),Bc(e),[3,3];case 5:s=lD(u.Xy,t,.05),o=u.np,a=!0,c=!1,g.label=6;case 6:return(o=u.np).Q_>0&&!o.WN(s)&&(s=o.xD(s),a=!0),n&&((f=u.Xy).WN(s)||(h=lD(f,s,1))!==s&&(s=h,a=!0)),lB&&void 0!==(v=u.TQ())&&s>v&&(s=v,a=!0),c?[3,9]:void 0!==(l=u.SQ())&&s>l?(c=!0,[4,u.EQ(l,!1,e)]):[3,9];case 7:return g.sent(),[4,Cg(u.Lh,"seeked",e)];case 8:g.sent(),Bc(e),a=!0,g.label=9;case 9:return a?(a=!1,[4,u.EQ(s,n,e)]):[3,13];case 10:g.sent(),Bc(e),w=u.Tm,o=u.np,s=o.xD(s),_=1,g.label=11;case 11:return d.abs(s-w)>=vu?(o=u.np,s=function(t,n,i){void 0===i&&(i=0);if(!n.Q_)return 0;var r=n.xD(t),e=.01*i;r===n.CD(0)?r+=e:r===n.ND(n.Q_-1)&&(r-=e);return r}(s,o,_),[4,u.EQ(s,n,e)]):[3,13];case 12:return g.sent(),Bc(e),w=u.Tm,_++,[3,11];case 13:return u.Lh.seeking||u.BY.Mg<ty.vm?[4,Fc((function(t){var n;return j.race([Cg(u.Lh,"seeked",t),u.oo([vw.xv,vw.mv],t),u.BY.oo(ky.O_,t),null==(n=u.KC)?void 0:n.oo(YC.UB,t)].filter(re))}),e)]:[3,15];case 14:return g.sent(),Bc(e),[3,6];case 15:return u.IQ(),[3,17];case 16:return Pc(g.sent())?[2]:[3,17];case 17:return[2]}}))}))()},i.EQ=function(t,n,i){var r=this;return ta((function(){var e,u,s;return ia(this,(function(o){switch(o.label){case 0:if(Bc(i),e=r.np,t=e.xD(t),!r.lY)return[3,4];u=!0,o.label=1;case 1:return u||r.BY.Mg<ty.dm?((e=r.np).WN(t)||(t=e.xD(t),u=!0),u?(u=!1,r.Jj=t,r.RQ(r.Tm),[3,1]):[4,Fc((function(t){return j.race([r.oo(vw.mv,t),r.BY.oo(ky.O_,t)])}),i)]):[3,3];case 2:return o.sent(),[3,1];case 3:Bc(i),o.label=4;case 4:return s=Cg(r.Lh,"seeking",i),n&&r.Lh.fastSeek?r.Lh.fastSeek(t):r.Lh.currentTime=t,r.Jj=void 0,r.RQ(r.Tm),r.Lh.seeking?[4,s]:[3,6];case 5:o.sent(),o.label=6;case 6:return[2]}}))}))()},i.TQ=function(){if(this.KC&&this.KC.FU){var t=this.KC.UU,n=this.KC.HU,i=t&&n?t.LD(n):t||n;if(i&&0!==i.Q_){var r=i.CD(i.Q_-1),e=i.ND(i.Q_-1);return d.max(r,e-.001)}}},i.SQ=function(){if(this.KC&&this.KC.FU){var t=this.KC.HU;if(t&&0!==t.Q_){var n=t.CD(t.Q_-1),i=t.ND(t.Q_-1)-.02;return i-=.001,d.max(n,i)}}},i.RQ=function(t){this.tY!==t&&(this.tY=t,this.kq?this.qs(new pD(t)):this.qs(new Dy(t)))},i.IQ=function(){var t=this.kq;this._P=!1,this.kq=!1,this.$j=0,this.tY=NaN,this.lY&&this.CQ(),t?(this.qs(new fB(this.Tm)),this.GY()):this.qs(new Py(this.Tm))},i.bQ=function(){this.wY||(this._Y=this.Cm,this.wY=!0,this.yQ())},i.CQ=function(){this.wY&&(this.wY=!1,this._Y||this.gQ())},i.MU=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.$u===lb.yI&&KC.MU(i,this.Lh))return i;if(i.$u===lb.pI&&mD.MU(i))return i}},i.Dy=function(){this.mD=!1,No(this.Lh)&&(this.Lh.style.display="none")},i.Ny=function(){this.mD=!0,No(this.Lh)&&(this.Lh.style.display="block")},i.lI=function(t,n,i,r,e,u,s,o,a){var c=new WD(t,n,i,r,e,u,s,a,o);return this.ey.q_(c),this.vQ.q_(c),c},i.ON=function(){return!0},i.LN=function(t,n,i,e,u){var s=r.createElement("track");s.src=Yw(t),s.kind=n,s.label=null!=i?i:"",e&&(s.srclang=e),s.default=!!u,s.id=oR(),this.Lh.appendChild(s);var o=this.Lh.textTracks.getTrackById(s.id),a=new HP(o,s);return this.SY.q_(a),this.Kj.push(a),a},i.gI=function(t){this.ey.G_(t),this.vQ.G_(t)},i.UN=function(){for(var t=0,n=this.ey.Y_.slice();t<n.length;t++){n[t].Bh()}this.ey.Wf();for(var i=0,r=this.Kj.slice();i<r.length;i++){var e=r[i];this.SY.G_(e),e.Bh()}wc(this.Kj)},i.IN=function(){var t=this.Lh.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.AY),t.addEventListener("removetrack",this.TY),t.addEventListener("change",this.EY))},i.XN=function(){var t=this.Lh.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.AY),t.removeEventListener("removetrack",this.TY),t.removeEventListener("change",this.EY))},i.bY=function(t,n){if(te.Ur){if(t.kind===zk.Lb)return void this.NQ(t);if(t.kind===zk.KE&&""===t.label&&""===t.language&&!yB(t))return void this.DQ(t,n)}mB(this.SY,t)||this.SY.q_(new HP(t,n))},i.NQ=function(t){t.mode=Dm.Bg;var n=new ZP(t);this.SY.q_(n),this.vQ.q_(n)},i.DQ=function(t,n){var i=this,r=function(){yB(t)&&(t.removeEventListener("cuechange",r),i.SY.q_(new HP(t,n)))};t.addEventListener("cuechange",r),t.mode=Dm.Bg},i.kY=function(t){for(var n=this.Lh.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.Cf=function(t){var n=this;return this.Qj.Dh(ta((function(i){var r,e;return ia(this,(function(u){switch(u.label){case 0:if(Bc(i),n.KC)throw new f("Already loaded a media source");if(t.$u===lb.yI)r=new KC(t,n,n.TU,n._s),n.lY=!1,n.BY.Yj(new SD(n));else{if(t.$u!==lb.pI)throw new f("Unsupported configuration");e=n.lY?new ED(n):new SD(n),r=new mD(t,n,e,n.TU,n._s,void 0,n.VW),n.lY=vB,n.BY.Yj(e),dB&&(n.js(vw.Yv,n.IY),n.BY.js(ky.O_,n.PY))}return n.KC=r,[4,r._M()];case 1:return u.sent(),[2,r]}}))})))},i.CY=function(){if(!this.gY){var t=this.Nm;this.gY=!0,this.Nm=t,this.Lh.playbackRate=0,this.BY&&this.BY.Eq()}},i.RY=function(){if(this.gY){var t=this.Nm;this.gY=!1,this.Nm=t,this.OY()}},i.OY=function(){this.Lh.currentTime=this.Lh.currentTime,this.BY&&this.BY.Eq()},i.Wf=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t._P=!1,t.kq=!1,Pr.ue(t.eY),t.eY=0,t.aY=gE.uP(),t.sY.Ms(),t.Jj=void 0,t.tY=NaN,t.nY=void 0,t.lY=!1,t.wY=!1,t.JC=void 0,t.hY=!1,t.iY=void 0,t.vY=!1,t.pY=!1,t.dY&&(t.dQ(),t.dY=!1),t.pQ(new Dc),t.BY.Yj(new SD(t)),t.NY.Wf(),t.SY.Wf(),t.RY(),dB&&(RR(t.yY),t.yY=0,t.Ks(vw.Yv,t.IY)),[4,t.Qj.Ms()];case 1:return n.sent(),[4,t.Qj.Dh(ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t.KC?[4,t.KC.Ds()]:[3,2];case 1:n.sent(),t.KC=void 0,n.label=2;case 2:return[2]}}))})))];case 2:return n.sent(),[2]}}))}))()},i.Ds=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t.dY=!1,t.ZY(),t.XN(),[4,t.Wf()];case 1:return n.sent(),[4,t.Qj.Bh()];case 2:return n.sent(),t.NY.Ds(),t.BY.Ds(),[4,t.TU.Ds()];case 3:return n.sent(),t.UN(),t.ey.Bh(),t.SY.Bh(),[4,t.fQ.Bh()];case 4:return n.sent(),t.cQ.Bh(),t.hQ.Bh(),t.Zs(),[2]}}))}))()},i.dQ=function(){this.kN.addEventListener("play",this.xY),this.kN.addEventListener("pause",this.LY),this.kN.addEventListener("timeupdate",this.qY),this.kN.addEventListener("progress",this.VY),this.kN.addEventListener("loadstart",this.WY),this.kN.addEventListener("ended",this.jY),this.kN.addEventListener("ratechange",this.HY),this.kN.addEventListener("volumechange",this.JY),this.kN.addEventListener("durationchange",this.zY),this.kN.addEventListener("resize",this.$Y),this.kN.addEventListener("loadedmetadata",this.$Y),this.kN.addEventListener("error",this.YY),this.kN.addEventListener("emptied",this.QY),Qa()?(this.Lh.addEventListener("encrypted",this.tQ),this.Lh.addEventListener("waitingforkey",this.nQ)):void 0!==mo.WebKitMediaKeys&&"function"==typeof mo.WebKitMediaKeys.isTypeSupported?this.Lh.addEventListener("webkitneedkey",this.rQ):Za()?this.Lh.addEventListener("webkitneedkey",this.eQ):void 0!==mo.MSMediaKeys&&"function"==typeof mo.MSMediaKeys.isTypeSupported&&this.Lh.addEventListener("msneedkey",this.iQ)},i.ZY=function(){this.kN.removeEventListener("play",this.xY),this.kN.removeEventListener("pause",this.LY),this.kN.removeEventListener("timeupdate",this.qY),this.kN.removeEventListener("progress",this.VY),this.kN.removeEventListener("loadstart",this.WY),this.kN.removeEventListener("ended",this.jY),this.kN.removeEventListener("ratechange",this.HY),this.kN.removeEventListener("volumechange",this.JY),this.kN.removeEventListener("durationchange",this.zY),this.kN.removeEventListener("resize",this.$Y),this.kN.removeEventListener("loadedmetadata",this.$Y),this.kN.removeEventListener("error",this.YY),this.kN.removeEventListener("encrypted",this.tQ),this.kN.removeEventListener("waitingforkey",this.nQ),this.kN.removeEventListener("webkitneedkey",this.rQ),this.kN.removeEventListener("webkitneedkey",this.eQ),this.kN.removeEventListener("msneedkey",this.iQ),this.kN.removeEventListener("emptied",this.QY)},i.BQ=function(){this.Zj||(this.aY=this.$y,this.Zj=function(t){return new kD(t.Tm,t.Sm,t.Em,t.Cm,t.Dm,t.Rm,t.Nm,t.Om,t.Mg,!1,t.Tq)}(this),this.ZY(),this.Zj.js(AD,this.Ws))},i.OQ=function(){if(this.Zj){var t=this.Zj;this.Zj=void 0,this.BY.Eq(),function(t,n){n.Sm===t.Sm||_(n.Sm)&&_(t.Sm)||t.qs(new Ey(t.Sm)),t.Rm=n.Rm,t.Om=n.Om,t.Nm=n.Nm,n.Cm?t.yy():t.gy().catch(le),n.Tm!==t.Tm||n.Mg>ty.fm&&t.Mg===ty.fm?t.Uo(n.Tm,n.bq,n.Tq):!n.Dm&&t.Dm?t.qs(new Dy(t.Tm)):n.Dm&&!t.Dm&&t.Mg>=ty.vm&&t.qs(new Py(t.Tm)),!n.Em&&t.Em&&t.qs(new Cy(t.Tm))}(this,t),t.Ds(),this.dQ()}},i.GY=function(){var t=this.Tm;this.qs(new Ry(t,void 0)),this.iY=t},i.rN=function(t){this.JC=t,this.pQ(this.JC),this.qs(new CD(this.JC))},i.xQ=function(){this.LQ||(zO(this.Lh,Pr.Bu),this.mY=!0)},i.MQ=function(t){t.appendChild(this.Lh)},i.cq=function(){dB&&this.IY(),this.BY.Eq()},i.Uy=function(){this.TU.Wj().catch(le),this.SY.Wf()},Ar(n,[{key:"Rq",get:function(){return this.gY}},{key:"Xy",get:function(){return this.KC?this.KC.Xy:gE.uP()}},{key:"zy",get:function(){var t=this.YN;if(t&&!_(t.getTime())){var n=1e3*this.Tm;return new Date(t.getTime()+n)}}},{key:"YN",get:function(){if(this.kN.getStartDate)return this._P&&this.nY||(this.nY=this.kN.getStartDate()),this.nY}},{key:"Tm",get:function(){return this.Zj?this.Zj.Tm:void 0!==this.Jj?this.Jj:this.Lh.currentTime}},{key:"FQ",get:function(){return this.aQ}},{key:"Sm",get:function(){return this.Zj?this.Zj.Sm:this.KC?this.KC.Sm:this.Lh.duration}},{key:"Em",get:function(){return this.Dm?this.wQ():this.Zj?this.Zj.Em:this.Lh.ended||this.hY}},{key:"Ao",get:function(){return this.JC}},{key:"kN",get:function(){return this.Lh}},{key:"Cm",get:function(){return this.wY?this._Y:this.Zj?this.Zj.Cm:this.Lh.paused}},{key:"$y",get:function(){return this.aY.XD(gE.iP(this.Lh.played))}},{key:"WT",get:function(){return this.Lh.offsetHeight*Pr.Bu.ze}},{key:"Kp",get:function(){return this.Lh.offsetWidth*Pr.Bu.ze}},{key:"FN",get:function(){return pE}},{key:"Mg",get:function(){return this.BY.Mg}},{key:"np",get:function(){return this.KC?this.KC.np:gE.uP()}},{key:"Dm",get:function(){return this.Zj?this.Zj.Dm:this._P}},{key:"Tq",get:function(){return this.Zj?this.Zj.Tq:this.kq}},{key:"Rm",get:function(){return this.Zj?this.Zj.Rm:this.Lh.muted},set:function(t){this.Zj?this.Zj.Rm=t:this.Lh.muted=t}},{key:"Nm",get:function(){return this.Zj?this.Zj.Nm:void 0!==this.cY?this.cY:this.Lh.playbackRate},set:function(t){this.Zj?this.Zj.Nm=t:this.Cm||this.gY?(this.cY=t,this.XY(t)):(this.cY=void 0,this.Lh.playbackRate=t)}},{key:"UQ",get:function(){return this.mD}},{key:"Om",get:function(){return this.Zj?this.Zj.Om:this.Lh.volume},set:function(t){this.Zj?this.Zj.Om=t:this.Lh.volume=t}},{key:"wy",get:function(){return this.hQ}},{key:"HQ",get:function(){return this.yP}},{key:"Wy",get:function(){return!!this.Lh.webkitCurrentPlaybackTargetIsWireless}},{key:"LQ",get:function(){return this.mY}},{key:"zj",get:function(){return na({},WC)}},{key:"SN",get:function(){return this.TU.SN},set:function(t){this.TU.SN=t}},{key:"XQ",get:function(){return this.VW},set:function(t){this.VW=t}},{key:"qj",get:function(){return this.TU.qj}},{key:"rp",get:function(){return this.vY},set:function(t){this.vY=t,this.dY&&!this.vY&&(this.dY=!1,this.dQ())}}]),n}(Gc);function gB(t){try{var n=dh(t),i=new ph;return rh(eh(Mf(n,i,Vf(n,i,!0)),!0))}catch(t){return}}function mB(t,n){for(var i=0,r=t.Y_;i<r.length;i++){var e=r[i];if(e.wp===n)return e}}function yB(t){return!!t.cues&&t.cues.length>0}yr(),zt(),kr();var pB={QF:void 0,ZF:void 0,KF:void 0,JF:void 0,tU:void 0,nU:void 0,sU:void 0,iU:void 0,rU:void 0,eU:void 0,uU:void 0},AB=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).m_=void 0,n}return zr(n,t),Ar(n,[{key:"y_",get:function(){return this.m_||(this.m_=MC(this)),this.m_}},{key:"QF",get:function(){}},{key:"ZF",get:function(){}},{key:"KF",get:function(){}},{key:"JF",get:function(){}},{key:"tU",get:function(){}},{key:"nU",get:function(){}},{key:"sU",get:function(){}},{key:"iU",get:function(){}},{key:"rU",get:function(){}},{key:"eU",get:function(){}},{key:"uU",get:function(){}}]),n}(Gc),kB=(new AB,function(t){function n(n,i,r){return t.call(this,n,i,r,new AB)}return zr(n,t),n.prototype.Py=function(){},Ar(n,[{key:"Pm",get:function(){return 0}},{key:"Bm",get:function(){return 0}}]),n}(_B));yr(),zt(),kr(),yr(),zt(),kr();var bB=function(){function t(t){void 0===t&&(t=5);var n=mo.document.createElement("div");n.className="theoplayer-texttracks",n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.zQ=n,this.Ny()}var n=t.prototype;return n.Dy=function(){this.zQ.style.display="none"},n.Ny=function(){this.zQ.style.display="block"},n.MQ=function(t){t.appendChild(this.zQ)},n.Bh=function(){To(this.zQ)},Ar(t,[{key:"Vy",get:function(){return this.zQ}}]),t}();function TB(t,n){return na({},n,wm(function(t){return{QF:t.QF,ZF:t.ZF,KF:t.KF,JF:t.JF,tU:t.tU,nU:t.nU,sU:t.sU,iU:t.iU,rU:t.rU,eU:t.eU,uU:t.uU}}(t)))}function SB(t){return t.KF&&Ha(t.KF,"%")?Number(t.KF.replace("%",""))/100:t.KF&&Ha(t.KF,"em")?Number(t.KF.replace("em","")):1}yr(),zt(),kr(),yr(),zt(),yr(),zt(),kr(),yr(),zt();var EB,IB,RB=function(){function t(t,n,i,r,e){var u=this;this.VQ=sa(),this.WQ=!0,this.qQ=na({},pB),this.GQ=[],this.jQ=function(t){return u._I(t.bp)},this.YQ=function(t){return u.removeCue(t.bp)},this.QQ=function(){return u.ZQ()},this.KQ=function(t){return u.JQ(t.bp)},this.$Q=function(t){return u.tZ(t.bp)},this.nZ=function(t){return u.iZ(t.bp)},this.rZ=function(t){u.eZ(t.Kp,t.WT)},this.xp=t,this.uZ=this.sZ=e,this.Lh=this.oZ(i),this.aQ=r,n.appendChild(this.Lh)}var n=t.prototype;return n.aZ=function(t){var n=this.cZ(t);if(!n)return!1;for(var i=0;i<n.length;i++){To(n[i])}return this.fZ(t),!0},n._M=function(){var t=this;this.hZ(),this.xp.Fg.Y_.forEach((function(n){return t._I(n)})),this.FQ.js("Rx",this.rZ),this.eZ(this.FQ.xx,this.FQ.Ox)},n.vZ=function(t){this.qQ=t,this.sZ=TB(this.qQ,this.uZ),this.sZ.QF&&(this.kN.style.fontFamily=this.sZ.QF),this.sZ.sU&&(this.kN.style.visibility=this.sZ.sU),this.eZ(this.FQ.xx,this.FQ.Ox),this.dZ(!0)},n.lZ=function(){return this.sZ},n.wZ=function(t){return this.VQ.has(t.vg)},n.hZ=function(){this.xp.js(im.k_,this.jQ),this.xp.js(im.T_,this.YQ),this.xp.js(im.P_,this.QQ)},n._Z=function(){this.xp.Ks(im.k_,this.jQ),this.xp.Ks(im.T_,this.YQ),this.xp.Ks(im.P_,this.QQ)},n.gZ=function(t){t.js(Op.yp,this.KQ),t.js(Op.Ap,this.$Q),t.js(Op.F_,this.nZ)},n.mZ=function(t){t.Ks(Op.yp,this.KQ),t.Ks(Op.Ap,this.$Q),t.Ks(Op.F_,this.nZ)},n._I=function(t){this.gZ(t),t.Vp&&this.JQ(t)},n.removeCue=function(t){this.mZ(t),this.tZ(t)},n.ZQ=function(){this.xp.Dg===Dm.Pg?this.yZ():this.pZ()},n.yZ=function(){if(this.WQ){this.WQ=!1;var t=this.FQ.xx,n=this.FQ.Ox;this.eZ(t,n),this.dZ(!1)}},n.pZ=function(){this.WQ||(this.WQ=!0,this.dZ(!0))},n.JQ=function(t){this.WQ||t.Vp&&!this.wZ(t)&&this.dZ(!1)},n.tZ=function(t){this.wZ(t)&&this.dZ(!0)},n.iZ=function(t){(t.Vp||this.wZ(t))&&this.dZ(!0)},n.dZ=function(t){var n=this.GQ,i=this.WQ?[]:this.xp.Ug.Y_.slice();this.AZ(i,n,t),this.GQ=i},n.cZ=function(t){var n;return null==(n=this.VQ.get(t.vg))?void 0:n.kZ},n.bZ=function(t,n){this.VQ.set(t.vg,{bp:t,kZ:n})},n.fZ=function(t){this.VQ.delete(t.vg)},n.TZ=function(){return this.GQ.slice()},n.Bh=function(){var t=this;To(this.kN),this.VQ.clear(),this._Z(),this.xp.Fg.Y_.forEach((function(n){return t.mZ(n)})),this.FQ.Ks("Rx",this.rZ)},Ar(t,[{key:"A_",get:function(){return this.xp}},{key:"kN",get:function(){return this.Lh}},{key:"FQ",get:function(){return this.aQ}},{key:"SZ",get:function(){return this.sZ}},{key:"EZ",get:function(){return this.qQ}}]),t}();function CB(t){return NB[t||"none"]}yr(),zt(),function(t){t.IZ='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.RZ='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.CZ='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.NZ='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(EB||(EB={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(IB||(IB={}));var NB={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},DB=oa({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif"}),PB={ZF:IB.WHITE,QF:"Arial, Helvetica, Sans-Serif",KF:"100%",JF:IB.TRANSPARENT,tU:IB.TRANSPARENT,nU:"none",sU:"visible",iU:void 0,rU:void 0,eU:void 0,uU:void 0},BB=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,PB)}zr(n,t);var i=n.prototype;return i.oZ=function(t){var n=r.createElement("div");n.className="theoplayer-ttml-texttrack-"+t;var i=n.style;return i.position="absolute",Eo(i,"flex"),i.overflow="hidden",i.pointerEvents="none",i.top="0",i.left="0",i.width="100%",i.height="100%",n},i.eZ=function(t,n){var i=d.min(t,n)/15;this.kN.style.fontSize=i+"px"},i.AZ=function(t,n,i){for(var r=0;r<n.length;r++){var e=n[r];!i&&e.Vp||this.aZ(e)}for(var u=0;u<t.length;u++){var s=t[u];this.DZ(s)}},i.DZ=function(t){var n=this.cZ(t);n||(n=this.PZ(t),this.bZ(t,n));for(var i=0;i<n.length;i++){var r=n[i];this.kN.appendChild(r)}},i.PZ=function(t){var n=[],i=t.GE,e=t.Dk,u=t.Ep;if(0===v.keys(e).length){var s=r.createElement("div");VB(s),OB(u,i,t.jE,s,s),s.firstChild&&n.push(s)}else for(var o=0,a=v.keys(e);o<a.length;o++){var c=a[o],f=r.createElement("div");f.id=c,VB(f),MB(f,"region",e[c],i),OB(u,i,t.jE,f,f),f.firstChild&&n.push(f)}return n},i.vZ=function(t){!function(t,n){var i,r;t.style.marginTop=(null!=(i=n.iU)?i:0)+"px",t.style.marginBottom=(null!=(r=n.rU)?r:0)+"px",t.style.height="calc(100% - "+t.style.marginTop+" - "+t.style.marginBottom+")"}(this.kN,t),XC(this.kN,t)},n}(RB);function OB(t,n,i,e,u){if(Pg(t)&&function(t){return"SPAN"===t.Cw.toUpperCase()||"P"===t.Cw.toUpperCase()||"BR"===t.Cw.toUpperCase()||"DIV"===t.Cw.toUpperCase()||"BODY"===t.Cw.toUpperCase()}(t)){var s=xB(t);if(!s||(null==u?void 0:u.id)===s){var o;if("BODY"===t.Cw.toUpperCase())o=u;else{if(!(o=function(t){var n;switch(t.Cw.toUpperCase()){case"BR":n=r.createElement("br");break;case"SPAN":LB(n=r.createElement("span"),t);break;case"P":(function(t){var n=t.style;n.fontFamily="inherit",n.color="inherit",n.textAlign="inherit",n.padding="0",n.margin="0",n.lineHeight="inherit"})(n=r.createElement("p")),LB(n,t);break;case"DIV":LB(n=r.createElement("div"),t)}return n}(t)))return;e.appendChild(o)}!function(t,n,i,r){var e=n.Vw("style");HB(t,n.Cw,e,i,r),function(t,n,i){for(var r=0,e=n.Qw;r<e.length;r++){var u=e[r];XB(t,n.Cw,u.Cw,u.Bw,i)}}(t,n,r)}(o,t,n,u),function(t,n,i){var r=null==n?void 0:n.Vw("smpte:backgroundImage");if(r){r=r.replace("#","");var e=i&&FB(i,(function(t){return t.Qw.some((function(t){return"id"===t.Cw&&t.Bw===r}))}));e&&UB(t,e,n,!0)}!function(t,n){var i=ra(n.zw,1)[0];if(!i||"metadata"!==i.Cw.toLowerCase())return;var r=ra(i.zw,1)[0];UB(t,r,n)}(t,n)}(o,t,i);for(var a=0,c=t.Mw;a<c.length;a++){OB(c[a],n,i,o,u)}}}else if(Bg(t)){var f=r.createTextNode(t.Ud);e.appendChild(f)}}function xB(t){var n=t.Vw("region");if("p"===t.Cw.toLowerCase())return n;for(var i,r=[],e=0,u=t.zw;e<u.length;e++){var s=u[e];r.push(xB(s))}return function(t){for(var n=[],i=0;i<t.length;i++){for(var r=!0,e=i+1;e<t.length;e++)if(t[i]===t[e]){r=!1;break}r&&n.push(t[i])}}(r),0===r.length?n:1===r.length?null!=(i=r[0])?i:n:void 0}function LB(t,n){var i=n.Ww(kk,"id");i&&(t.id=i)}function MB(t,n,i,r){HB(t,n,i.style,r,t);for(var e=0,u=v.keys(i);e<u.length;e++){var s=u[e];XB(t,n,s,i[s],t)}}function FB(t,n){if(n(t))return t;for(var i=0,r=t.zw;i<r.length;i++){var e=FB(r[i],n);if(e)return e}return null}function UB(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var u=r.createElement("img");u.src=function(t){var n=t&&t.Mw.length>0?t.Mw[0]:null;return n&&Bg(n)?"data:image/png;base64,"+n.Ud:""}(n),u.id=t.id,u.style.height="100%",u.style.maxWidth="100%",function(t,n){var i=t.style;Eo(i,"flex");var r=n.Vw("smpte:backgroundImageVertical");if(r)switch(r.toLowerCase()){case"left":i.alignItems="flex-start";break;case"center":i.alignItems="center";break;case"right":i.alignItems="flex-end";break;case"inherit":i.alignItems="inherit"}else i.alignItems="center";var e=n.Vw("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":i.justifyContent="flex-start";break;case"center":i.justifyContent="center";break;case"right":i.justifyContent="flex-end";break;case"inherit":i.justifyContent="inherit"}else i.justifyContent="center"}(t,i),t.appendChild(u)}function HB(t,n,i,r,e){if(i)for(var u=0,s=i.split(" ");u<s.length;u++){var o=s[u];if(r[o])for(var a=0,c=v.keys(r[o]);a<c.length;a++){var f=c[a];"style"===f.toLowerCase()?HB(t,n,r[o][f],r,e):XB(t,n,f,r[o][f],e)}}}function XB(t,n,i,r,e){var u=t.style;switch(i){case"backgroundColor":u.backgroundColor=r;break;case"color":u.color=r;break;case"direction":u.direction=r;break;case"display":"none"===r&&(u.display="none");break;case"fontFamily":var s=DB.get(r);u.fontFamily=s||r;break;case"fontSize":Ha(r,"px")?r=l(r)/24+"em":Ha(r,"c")&&(r=r.replace("c","em")),u.fontSize=r;break;case"fontStyle":u.fontStyle=r;break;case"fontWeight":u.fontWeight=r;break;case"lineHeight":u.lineHeight=r;break;case"opacity":u.opacity=r;break;case"overflow":u.overflow=r;break;case"padding":u.padding=r;break;case"textAlign":"right"===r?(u.textAlign="right",u.justifyContent="flex-end"):"start"===r?(u.textAlign="start",u.justifyContent="flex-start"):"center"===r?(u.textAlign="center",u.justifyContent="center"):"end"===r?(u.textAlign="end",u.justifyContent="flex-end"):"left"===r&&(u.textAlign="left",u.justifyContent="flex-start");break;case"textDecoration":var o=r;o=(o=(o=(o=o.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough","none")).replace("noOverline","none"),u.textDecoration=o;break;case"unicodeBidi":u.unicodeBidi=r.replace("bidiOverride","bidi-override");break;case"visibility":u.visibility=r;break;case"zIndex":u.zIndex=r;break;case"displayAlign":var a;if("before"===r.toLowerCase())a="flex-start";else if("center"===r.toLowerCase())a="center";else{if("after"!==r.toLowerCase())return;a="flex-end"}u.alignItems=a;break;case"extent":var c,f,h=zB(n.toLowerCase())?e:t,v=r.split(" ");v.length>=2?(c=v[0],f=v[1]):c=f="100%",h&&(h.style.height=f,h.style.width=c);break;case"origin":var d=zB(n.toLowerCase())?e:t,w=ra(r.split(" "),2),_=w[0],g=w[1];d&&(_||g)&&(_&&(d.style.left=_),g&&(d.style.top=g));break;case"showBackground":break;case"wrapOption":u.whiteSpace=r.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap");break;case"writingMode":var m,y,p,A;switch(r){case"lrtb":m="horizontal-tb";break;case"rltb":m="horizontal-tb",y="rtl",A="bidi-override";break;case"tbrl":m="vertical-rl",p="upright";break;case"tblr":m="vertical-lr",p="upright";break;case"lr":m="horizontal-tb";break;case"rl":m="horizontal-tb",y="rtl";break;case"tb":m="vertical-rl",p="upright";break;default:return}u.writingMode=m,u.setProperty("-webkit-writing-mode",m),y&&(u.direction=y),p&&(u.textOrientation=p,u.setProperty("-webkit-text-orientation",p)),A&&(u.unicodeBidi=A);break;case"textOutline":break;case"linePadding":if(Ha(r,"c")){var k=r.replace("c","em");u.paddingLeft=u.paddingRight=k}break;case"multiRowAlign":"auto"===r.toLowerCase()?u.textAlign="":u.textAlign=r}}function zB(t){return"div"===t||"p"===t||"span"===t}function VB(t){var n=t.style;Eo(n,"flex"),n.top="auto",n.left="5%",n.width="90%",n.height="100%",n.maxHeight="100%",n.maxWidth="100%",n.alignItems="flex-start",n.overflow="visible",n.position="absolute",n.fontFamily="Arial, Helvetica, Sans-Serif",n.color="white",n.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px",n.textAlign="start",n.writingMode="horizontal-tb",n.setProperty("-webkit-writing-mode","horizontal-tb"),n.padding="0",n.margin="0",n.lineHeight="1.3em"}yr(),zt(),Or(),yr(),zt();var WB,qB,GB=void 0;function jB(t){return GB||(GB=mo.document.createElement("textarea")),GB.innerHTML=t,GB.value}function YB(t,n){for(var i="Data",r="",e=[],u=t.charAt(n.Lo),s="",o={$u:"starttag",Fw:"",BZ:[]};n.Lo<t.length+1;){switch(u=n.Lo<t.length?t.charAt(n.Lo):"EOF",i){case"Data":switch(u){case"&":var a=t.substring(n.Lo).match(/&#?[0-9a-zA-Z]+;/);a?(r+=jB(a[0]),n.Mo(a[0].length-1)):r+="&";break;case"<":if(r)return{$u:"string",Ep:r};i="Tag";break;case"EOF":return{$u:"string",Ep:r};default:r+=u}break;case"Tag":switch(u){case"\t":case"\n":case"\f":case" ":i="StartTagAnnotation";break;case".":i="StartTagClass";break;case"/":i="EndTag";break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,i="TimestampTag";break;case">":return n.Mo(1),o;case"EOF":return o;default:r=u,i="StartTag"}break;case"StartTag":switch(u){case"\t":case"\f":case" ":i="StartTagAnnotation";break;case"\n":s=u,i="StartTagAnnotation";break;case".":i="StartTagClass";break;case">":return n.Mo(1),{$u:"starttag",Fw:r,BZ:[]};case"EOF":return{$u:"starttag",Fw:r,BZ:[]};default:r+=u}break;case"StartTagClass":switch(u){case"\t":case"\f":case" ":e.push(s),s="",i="StartTagAnnotation";break;case"\n":e.push(s),s=u,i="StartTagAnnotation";break;case".":e.push(s),s="";break;case">":return n.Mo(1),e.push(s),{$u:"starttag",Fw:r,BZ:e};case"EOF":return e.push(s),{$u:"starttag",Fw:r,BZ:e};default:s+=u}break;case"StartTagAnnotation":switch(u){case"&":i="CharRefInAnnotation";break;case">":n.Mo(1);var c=s.trim();return{$u:"starttag",Fw:r,BZ:e,OZ:c=c.replace(/\s/," ")};default:s+=u}break;case"CharRefInAnnotation":for(var f="",h=n.Lo;">"===t.charAt(h);h++)f+=t.charAt(h);s+=f||"&",i="StartTagAnnotation";break;case"EndTag":switch(u){case">":return n.Mo(1),{$u:"endtag",Fw:r};case"EOF":return{$u:"endtag",Fw:r};default:r+=u}break;case"TimestampTag":switch(u){case">":return n.Mo(1),{$u:"timestamp",xZ:r};case"EOF":return{$u:"timestamp",xZ:r};default:r+=u}}n.Mo(1)}return o}function QB(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}!function(t){t.LZ="Data",t.MZ="Tag",t.FZ="StartTag",t.UZ="StartTagClass",t.HZ="StartTagAnnotation",t.XZ="CharRefInAnnotation",t.zZ="EndTag",t.VZ="TimestampTag"}(WB||(WB={})),function(t){t.WZ="string",t.qZ="starttag",t.GZ="endtag",t.jZ="timestamp"}(qB||(qB={})),yr(),zt(),yr(),zt(),kr();var ZB,KB=function(){function t(t,n,i,r){this.YZ=t,this.QZ=n,this.Kp=i,this.WT=r}var n=t.prototype;return n.ZZ=function(t){return this.YZ<t.KZ&&this.KZ>t.YZ&&this.QZ<t.JZ&&this.JZ>t.QZ},n.op=function(t){return this.YZ<=t.YZ&&t.KZ<=this.KZ&&this.QZ<=t.QZ&&t.JZ<=this.JZ},n.Ho=function(){return new t(this.YZ,this.QZ,this.Kp,this.WT)},Ar(t,[{key:"KZ",get:function(){return this.YZ+this.Kp},set:function(t){this.YZ=t-this.Kp}},{key:"JZ",get:function(){return this.QZ+this.WT},set:function(t){this.QZ=t-this.WT}}]),t}(),JB={ZF:IB.WHITE,QF:"sans-serif",KF:"100%",JF:"rgba(0,0,0,0.8)",tU:IB.TRANSPARENT,nU:"none",sU:"visible",iU:void 0,rU:void 0,eU:void 0,uU:void 0},$B="theoplayer-webvtt-region-",tO="theoplayer-webvtt-styling-",nO="theoplayer-webvtt-default-style",iO=5.23,rO=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,JB)||this).$Z=ua(),u.tK=aO(3),u}zr(n,t);var i=n.prototype;return i.oZ=function(t){var n=r.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,Ro(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.SZ.QF;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(r.getElementById(nO))return;for(var t=[],n=0;n<gO.length;n++){var i=ra(gO[n],2),e=i[0],u=i[1];t.push("."+tO+e+" { color: "+u+" !important; }"),t.push("."+tO+"nK"+e+" { background-color: "+u+" !important; }"),t.push("video::cue(."+e+") { color: "+u+"; }"),t.push("iK"+e+") { background-color: "+u+"; }")}var s=r.createElement("style");s.id=nO,s.innerHTML=t.join("\n"),r.body.appendChild(s)}(),n},i._M=function(){this.kN.appendChild(this.tK),t.prototype._M.call(this)},i.eZ=function(t,n){var i=this,r=d.min(t/100,n/100),e=SB(this.SZ);this.$Z.forEach((function(t){var n=t.Pp,u=t.rK;i.eK(u,r,e,n)})),this.eK(this.tK,r,e)},i.vZ=function(n){XC(this.kN,n),t.prototype.vZ.call(this,n)},i.AZ=function(t,n,i){for(var r,e=this,u=this.kN,s=this.FQ.Ox/100,o=[],a=0;a<t.length;a++){var c=t[a];void 0!==c.Pp&&(lc(o,c.Pp)||o.push(c.Pp))}this.$Z.forEach((function(t,n){var r=t.Pp,u=t.rK;!i&&lc(o,r)||(To(u),e.$Z.delete(n))}));for(var f=0;f<n.length;f++){var h=n[f];!i&&h.Vp||this.aZ(h)}var v=[],d=vO(this.tK.getBoundingClientRect());(r=v).push.apply(r,Nr(this.uK(d)));for(var l=0;l<o.length;l++){var w=o[l],_=void 0;this.$Z.has(w.hg)?_=this.$Z.get(w.hg).rK:(_=cO(w,s),u.appendChild(_),this.$Z.set(w.hg,{Pp:w,rK:_})),v.push(vO(_.getBoundingClientRect()))}for(var g=0;g<t.length;g++){var m=t[g],y=this.DZ(m,v,d);void 0!==y&&v.push(y)}},i.uK=function(t){var n=[],i=this.SZ;if(void 0!==i.iU){var r=t.Ho();r.WT=i.iU,n.push(r)}if(void 0!==i.rU){var e=t.Ho();e.WT=i.rU,e.JZ=t.JZ,n.push(e)}return n},i.DZ=function(t,n,i){var r,e;t.Pp?(e=this.$Z.get(t.Pp.hg).rK,"up"===t.Pp.Yp&&e.children.length>=1&&(e.style.transitionProperty="top",e.style.transitionDuration="0.433s")):e=this.tK;var u=null==(r=this.cZ(t))?void 0:r[0];if(u?e.appendChild(u):(u=this.sK(t),e.appendChild(u),t.Pp||(t.Bp?function(t,n,i,r){var e=fO(t),u=e?i.WT:i.Kp,s=w(getComputedStyle(n).lineHeight);if(0===s)return;var o=vO(n.getBoundingClientRect()),a=d.round(Kp(t));"rl"===t.Op&&(a=-(a+1));var c=s*a;"rl"===t.Op&&(c=c-o.Kp+s);a<0&&(c+=u,s=-s);e?o.QZ+=c:o.YZ+=c;var f=o.Ho(),h=!1;for(;!i.op(o)||hO(o,r);)if(e)if(s<0&&o.QZ<i.QZ||s>0&&o.JZ>i.JZ){if(o.QZ=f.QZ,h)break;s=-s,h=!0}else o.QZ+=s;else if(s<0&&o.YZ<i.YZ||s>0&&o.KZ>i.KZ){if(o.YZ=f.YZ,h)break;s=-s,h=!0}else o.YZ+=s;e?n.style.top=(o.QZ-i.QZ)/i.WT*100+"%":n.style.left=(o.YZ-i.YZ)/i.Kp*100+"%"}(t,u,i,n):function(t,n,i,r){var e=vO(n.getBoundingClientRect());if(0===e.Kp||0===e.WT)return;fO(t)?"center"===t.Cp?e.QZ-=e.WT/2:"end"===t.Cp&&(e.QZ-=e.WT):"center"===t.Cp?e.YZ-=e.Kp/2:"end"===t.Cp&&(e.YZ-=e.Kp);var u,s=e.Ho(),o=s,a=1,c=!1;u=""===t.Op?[2,3,0,1]:"lr"===t.Op?[0,1,2,3]:[1,0,2,3];var f=4,h=w(getComputedStyle(n).lineHeight)/f;if(h>0){for(var v=0;v<u.length&&!c;v++){for(;!lO(e,i,u[v],.01)&&(!i.op(e)||hO(e,r));)dO(e,u[v],h);if(i.op(e)){o=e.Ho(),c=!0;break}var d=wO(e,i);a>d&&(o=e.Ho(),a=d),e=s.Ho()}i.op(e)||(o=s.Ho())}n.style.left=(o.YZ-i.YZ)/i.Kp*100+"%",n.style.top=(o.QZ-i.QZ)/i.WT*100+"%"}(t,u,i,n)),this.bZ(t,[u])),!t.Pp)return vO(u.getBoundingClientRect())},i.sK=function(t){for(var n=new ph,i=t.Ep,e=this.oK(t),u={aK:void 0,Vy:e},s=u,o="",a="",c=[u],f=[],h=[];n.Lo<i.length;){var v=YB(i,n);if(v.$u===qB.WZ){var d=r.createElement("span");QB(d,v.Ep),eO(d,c),""!==o&&(d.lang=o),this.cK(d,a),s.Vy.appendChild(d)}else if(v.$u===qB.qZ){var l=v.Fw.toLowerCase();switch(l){case"i":case"b":case"u":case"ruby":var w=r.createElement(l);s.Vy.appendChild(w),s={aK:v,Vy:w},c.push(s);break;case"rt":var _;if("ruby"===(null==(_=s.aK)?void 0:_.Fw.toLowerCase())){var g=r.createElement("rt");s.Vy.appendChild(g),s={aK:v,Vy:g},c.push(s)}break;case"c":case"v":s={aK:v,Vy:s.Vy},c.push(s);break;case"font":var m,y=null==(m=v.OZ)?void 0:m.match(/(?:^| )color=["']([^"']+)/i);y&&(a=y[1],h.push(a),s={aK:v,Vy:s.Vy},c.push(s));break;case"lang":var p;o=null!=(p=v.OZ)?p:"",f.push(o)}}else if(v.$u===qB.GZ){var A,k=v.Fw.toLowerCase(),b=null==(A=s.aK)?void 0:A.Fw.toLowerCase();b===k?(c.pop(),s=c[c.length-1],"font"===k&&(h.pop(),a=h.length>0?h[h.length-1]:"")):"rt"===b&&"ruby"===k?(c.pop(),c.pop(),s=c[c.length-1]):"lang"===k&&(f.pop(),o=f.length>0?f[f.length-1]:"")}else if(v.$u===qB.jZ){var T=v.xZ,S=new ph;try{qA(T,S)}catch(t){Ee("ERROR collecting timestamp",t)}}}return e},i.cK=function(t,n){var i=this.SZ,r=this.EZ;i.JF&&(t.style.background=i.JF);var e=r.ZF||n||i.ZF;e&&(t.style.color=e)},i.eK=function(t,n,i,r){if(r){var e=uO(r,n);t.style.height=e*i+"px",t.style.left=sO(r)+"%",t.style.top=oO(r,n)+"px"}t.style.fontSize=iO*n*i+"px"},i.oK=function(t){var n=r.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.Ip,function(t,n){"rl"===n.Op?t.style.writingMode="vertical-rl":"lr"===n.Op?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=tA(n);fO(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,r,e=$p(n),u=Jp(n),s=tA(n);if(fO(n)){switch(e){case"line-left":i=u;break;case"center":i=u-s/2;break;case"line-right":i=u-s}r=n.Bp?0:Kp(n)}else{switch(e){case"line-left":r=u;break;case"center":r=u-s/2;break;case"line-right":r=u-s}i=n.Bp?0:Kp(n)}t.style.left=i+"%",t.style.top=r+"%"}(n,t);var i=this.SZ.tU;i&&(n.style.background=i);var e=this.SZ.ZF;return e&&(n.style.color=e),n.style.textShadow=CB(this.SZ.nU),n},n}(RB);function eO(t,n){for(var i=0;i<n.length;i++){var r=n[i];if(r.aK){for(var e=0,u=r.aK.BZ;e<u.length;e++){var s=u[e];So(t,tO+s)}"v"===r.aK.Fw.toLowerCase()&&r.aK.OZ&&So(t,"theoplayer-webvtt-voice-"+r.aK.OZ)}}}function uO(t,n){return t.qp*(iO*n)*1.14}function sO(t){return t.Qp-t.Gp*t.Kp/100}function oO(t,n){var i=t.Zp,r=t.jp*uO(t,n)/100;return d.max(0,i-r)}function aO(t){var n=r.createElement("div");return n.className=$B+"default",Ro(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=iO*t+"px",n.style.lineHeight="1.14em",n}function cO(t,n){var i=aO(n);i.className=$B+t.hg;var r=t.Kp,e=uO(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=sO(t)+"%",i.style.right="",i.style.top=oO(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function fO(t){return""===t.Op}function hO(t,n){return n.some((function(n){return t.ZZ(n)}))}function vO(t){return new KB(t.left,t.top,t.width,t.height)}function dO(t,n,i){switch(n){case 0:t.YZ+=i;break;case 1:t.YZ-=i;break;case 2:t.QZ+=i;break;case 3:t.QZ-=i}}function lO(t,n,i,r){switch(i){case 0:return t.KZ>n.KZ+r;case 1:return t.YZ<n.YZ-r;case 2:return t.JZ>n.JZ+r;case 3:return t.QZ<n.QZ-r}}function wO(t,n){return d.max(0,d.min(t.KZ,n.KZ)-d.max(t.YZ,n.YZ))*d.max(0,d.min(t.JZ,n.JZ)-d.max(t.QZ,n.QZ))/(t.Kp*t.WT)}!function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(ZB||(ZB={}));var _O,gO=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(_O||(_O={}));var mO={ZF:IB.WHITE,QF:EB.CZ,KF:"100%",JF:IB.BLACK,tU:"transparent",nU:"none",fK:"regular",sU:"visible",iU:void 0,rU:void 0,eU:void 0,uU:void 0},yO=[{hK:IB.WHITE,fK:"regular",vK:0},{hK:IB.WHITE,fK:"underline",vK:0},{hK:IB.GREEN,fK:"regular",vK:0},{hK:IB.GREEN,fK:"underline",vK:0},{hK:IB.BLUE,fK:"regular",vK:0},{hK:IB.BLUE,fK:"underline",vK:0},{hK:IB.CYAN,fK:"regular",vK:0},{hK:IB.CYAN,fK:"underline",vK:0},{hK:IB.RED,fK:"regular",vK:0},{hK:IB.RED,fK:"underline",vK:0},{hK:IB.YELLOW,fK:"regular",vK:0},{hK:IB.YELLOW,fK:"underline",vK:0},{hK:IB.MAGENTA,fK:"regular",vK:0},{hK:IB.MAGENTA,fK:"underline",vK:0},{hK:IB.WHITE,fK:"italics",vK:0},{hK:IB.WHITE,fK:"underline-italics",vK:0},{hK:IB.WHITE,fK:"regular",vK:0},{hK:IB.WHITE,fK:"underline",vK:0},{hK:IB.WHITE,fK:"regular",vK:4},{hK:IB.WHITE,fK:"underline",vK:4},{hK:IB.WHITE,fK:"regular",vK:8},{hK:IB.WHITE,fK:"underline",vK:8},{hK:IB.WHITE,fK:"regular",vK:12},{hK:IB.WHITE,fK:"underline",vK:12},{hK:IB.WHITE,fK:"regular",vK:16},{hK:IB.WHITE,fK:"underline",vK:16},{hK:IB.WHITE,fK:"regular",vK:20},{hK:IB.WHITE,fK:"underline",vK:20},{hK:IB.WHITE,fK:"regular",vK:24},{hK:IB.WHITE,fK:"underline",vK:24},{hK:IB.WHITE,fK:"regular",vK:28},{hK:IB.WHITE,fK:"underline",vK:28}],pO=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function AO(t,n){return _A(t.dK,n.dK)||ec(t.fE,n.fE)}yr(),zt();var kO=32,bO=function(){function t(t,n,i){this.lK=t,this.wK=n,this.sZ=i}var n=t.prototype;return n._K=function(){return this.gK=this.mK(),this.yK(),this.pK(),this.gK},n.mK=function(){var t=r.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.AK/kO*this.wK.kK*100+"%",t.style.height=1.2*this.bK+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.wK.TK?"calc(1em - 1ch)":"";var n=this.sZ.QF;n&&(t.style.fontFamily=n);var i=this.sZ.tU;return i&&(t.style.backgroundColor=i),t},n.yK=function(){if(this.gK){var t=this.EK.SK/15*100,n=this.EK.vK/kO*100,i=(kO-this.IK.vK-1)/kO*100,r=(15-this.IK.SK-1)/15*100;this.wK.RK||(n=i=1,this.gK.style.width="98%"),r<t?this.gK.style.bottom=r*this.wK.kK+"%":this.gK.style.top=t*this.wK.kK+"%",i<n?this.gK.style.right=i+"%":this.gK.style.left=n+"%"}},n.pK=function(){for(var t=this.lK.CK.sort(TO),n=0;n<t.length;n++)this.NK(t[n-1],t[n]),this.DK(t[n]);this.NK(t[t.length-1],void 0)},n.DK=function(n){var i,r=TB(this.sZ,n.PK),e=t.BK(r);QB(e,n.xK),null==(i=this.gK)||i.appendChild(e)},n.NK=function(t,n){var i=t?t.LK.SK:this.lK.MK.SK,r=n?n.MK.SK:this.lK.LK.SK,e=t?t.LK.vK:this.lK.MK.vK,u=n?n.MK.vK:this.lK.LK.vK;i<r&&(!n||t&&t.MK.SK!==n.MK.SK?this.FK():this.UK(this.lK.LK.vK-e),e=this.lK.MK.vK),e<u&&(n?this.UK(u-e):this.FK())},n.FK=function(){var t,n=r.createElement("br");null==(t=this.gK)||t.appendChild(n)},n.UK=function(t){var n;if(!(t<=0)){var i=r.createElement("span");i.style.display="inline-block",QB(i,za(" ",t)),null==(n=this.gK)||n.appendChild(i)}},t.BK=function(t){var n=r.createElement("span");n.style.display="inline-block",t.fK!==_O.FONT_ITALICS&&t.fK!==_O.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.fK!==_O.FONT_UNDERLINE&&t.fK!==_O.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.ZF;i&&(n.style.color=i);var e=t.JF;return e&&(n.style.backgroundColor=e),n.style.textShadow=CB(t.nU),n.style.height="1.2em",n},Ar(t,[{key:"EK",get:function(){return this.lK.MK}},{key:"IK",get:function(){return this.lK.LK}},{key:"AK",get:function(){return this.lK.LK.vK-this.lK.MK.vK+1}},{key:"bK",get:function(){return this.lK.LK.SK-this.lK.MK.SK+1}}]),t}();function TO(t,n){return function(t,n){if(t.SK!==n.SK)return t.SK-n.SK;return t.vK-n.vK}(t.MK,n.MK)}var SO=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,mO)}zr(n,t);var i=n.prototype;return i.oZ=function(t){var n=r.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.SZ.QF&&(n.style.fontFamily=this.SZ.QF),n},i.eZ=function(t,n){this.HK()},i.HK=function(){var t=SB(this.SZ);this.XK=function(t){return{kK:t/100,TK:t<=100,RK:t<=150}}(100*t);var n=this.zK/kO;this.VK=n*t,this.kN.style.fontSize=this.VK+"px"},i.AZ=function(t,n,i){for(var r=0;r<n.length;r++){var e=n[r];!i&&e.Vp||this.aZ(e)}for(var u=0;u<t.length;u++){var s=t[u];this.DZ(s)}},i.DZ=function(t){this.XK&&this.XK.RK?this.WK(80):this.WK(100),this.HK();var n=this.cZ(t);n||(n=this.PZ(t),this.bZ(t,n));for(var i=0;i<n.length;i++){var r=n[i];this.kN.appendChild(r)}},i.PZ=function(t){var n=this;return t.Ep.map((function(t){return new bO(t,n.XK,n.SZ)._K()}))},i.WK=function(t){var n=(100-t)/2;this.kN.style.left=n+"%",this.kN.style.width=t+"%"},Ar(n,[{key:"zK",get:function(){var t=this.kN.offsetWidth;return this.XK&&this.XK.RK||(t*=.8),t}}]),n}(RB),EO=function(){function t(t,n,i,r,e){var u=this;this.qK=[],this.GK=function(t){var n=t.A_;n.js(im.O_,u.jK),n.js(im.L_,u.jK),n instanceof HP&&(n.IG=u.IG),u.YK(n)},this.jK=function(t){var n=t.A_;u.YK(n)},this.QK=function(t){var n=t.A_;n.Ks(im.O_,u.jK),n.Ks(im.L_,u.jK),u.ZK(n)},this.KK=function(){for(var t=u.IG,n=0,i=u.ey.Y_;n<i.length;n++){var r=i[n];r instanceof HP&&(r.IG=t)}},this.JK=function(){for(var t=0,n=u.qK;t<n.length;t++){n[t].vZ(u.yP)}},this.$K=function(){for(var t=0,n=u.qK;t<n.length;t++){var i=n[t];i.vZ(na({},i.lZ(),{sU:"hidden"}))}},this.tJ=function(){for(var t=0,n=u.qK;t<n.length;t++){var i=n[t];i.vZ(na({},i.lZ(),{sU:"visible"}))}},this.nJ=t,this.aQ=n,this.ey=i,this.iJ=e,this.yP=r,this.ey.js(Og.l_,this.GK),this.ey.js(Og.__,this.QK),this.ey.js(im.P_,this.jK),this.iJ.js(_E.P_,this.KK),this.yP.js("B_",this.JK),this.KK()}var n=t.prototype;return n.rJ=function(t){for(var n=0,i=this.qK;n<i.length;n++){var r=i[n];if(r.A_===t)return r}},n.eJ=function(t){switch(t.$u){case $m.TTML:return new BB(t,this.nJ,t.wg,this.aQ);case $m.SRT:case $m.WEBVTT:return new rO(t,this.nJ,t.wg,this.aQ);case $m.CEA608:return new SO(t,this.nJ,t.wg,this.aQ)}},n.uJ=function(t){var n=this.rJ(t);n||(n=this.eJ(t))&&(n._M(),n.vZ(this.yP),this.qK.push(n),t.Dg===Dm.Pg&&n.yZ())},n.ZK=function(t){for(var n=this.qK,i=n.length-1;i>=0;i-=1){var r=n[i];r.A_===t&&(r.Bh(),vc(n,i))}},n.YK=function(n){(function(t){return t===zk.Ob||t===zk.KE})(n.dg)&&t.sJ(n)&&(n.Mg===Dp.ERROR?this.ZK(n):this.uJ(n))},n.Wf=function(){for(var t=0,n=this.qK;t<n.length;t++){var i=n[t];i.A_.Ks(im.O_,this.jK),i.A_.Ks(im.L_,this.jK),i.Bh()}wc(this.qK)},n.Bh=function(){this.Wf();for(var t=0,n=this.qK;t<n.length;t++){n[t].Bh()}this.ey.Ks(Og.l_,this.GK),this.ey.Ks(Og.__,this.QK),this.ey.Ks(im.P_,this.jK),this.iJ.Ks(_E.P_,this.KK),this.yP.Ks("B_",this.JK)},t.sJ=function(t){switch(t.$u){case $m.TTML:case $m.SRT:case $m.WEBVTT:case $m.CEA608:return!0}return!1},Ar(t,[{key:"IG",get:function(){return this.iJ.cP}}]),t}();function IO(t){var n=new XR,i=function(t){var n=[];return UR.iL(t)&&n.push(new UR(t)),HR.iL(t)&&n.push(new HR(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n.oL(e)}n.sL(i[0])}return n}var RO=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e)||this).oJ=IO(n),u.aJ=new bB,u.cJ=new EO(u.aJ.Vy,u.FQ,u.wy,u.HQ,u.FN),u}zr(n,t);var i=n.prototype;return i.Py=function(){return this.Lh},i.Ds=function(){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return n.oJ.Bh(),n.aJ.Bh(),n.cJ.Bh(),[4,t.prototype.Ds.call(n)];case 1:return i.sent(),[2]}}))}))()},i.Dy=function(){t.prototype.Dy.call(this),this.aJ.Dy()},i.Ny=function(){t.prototype.Ny.call(this),this.aJ.Ny()},i.MQ=function(n){t.prototype.MQ.call(this,n),this.aJ.MQ(n)},Ar(n,[{key:"kN",get:function(){return this.Lh}},{key:"Pm",get:function(){return this.Lh.videoHeight}},{key:"Bm",get:function(){return this.Lh.videoWidth}},{key:"FN",get:function(){return this.oJ}}]),n}(_B);yr(),zt(),kr(),Or(),yr(),zt();yr(),zt(),yr(),zt();var CO,NO=!1;!function(t){t.fJ="HELLO",t.hJ="HI_THERE",t.vJ="INITIALIZE",t.dJ="APPEND_INIT",t.lJ="APPEND_DATA",t.wJ="ACK",t._J="REMOVE",t.gJ="DESTROY_SESSION"}(CO||(CO={}));var DO=function(){function t(){this.pU=new Kl}var n=t.prototype;return n.mJ=function(t){var n=this;return this.pU.Dh(ta((function(t){var i,r,e,s,o,a,c;return ia(this,(function(h){switch(h.label){case 0:return Bc(t),i=new MessageChannel,r=i.port1,e=i.port2,u.serviceWorker.controller?[3,2]:[4,Cg(u.serviceWorker,"install",t)];case 1:h.sent(),h.label=2;case 2:return"activated"===u.serviceWorker.controller.state?[3,4]:[4,Cg(u.serviceWorker.controller,"activate",t)];case 3:h.sent(),h.label=4;case 4:s={kind:"HELLO",port:e},u.serviceWorker.controller.postMessage(s,[e]),r.start(),n.De=r,h.label=5;case 5:return h.trys.push([5,7,,8]),[4,Cg(r,"message",t)];case 6:if(o=h.sent(),"HI_THERE"!==(a=o.data).kind)throw new f("Could not set up message channel");return n.Mh=a.sessionId,[3,8];case 7:throw Pc(c=h.sent())&&n.yJ(),c;case 8:return[2]}}))})),t)},n.pJ=function(t,n){this.De;var i=this;return this.pU.Dh(ta((function(){return ia(this,(function(r){switch(r.label){case 0:if(!i.De)throw new f("MessageSession not set up yet or already closed.");return n||(n=[]),i.De.postMessage(t,n),[4,Cg(i.De,"message")];case 1:return[2,r.sent().data]}}))})))},n.AJ=function(){var t=this;return this.pU.Dh((function(){return t.yJ()}))},n.yJ=function(){if(u.serviceWorker.controller&&"activated"===u.serviceWorker.controller.state&&this.De){var t={kind:"DESTROY_SESSION"};NO,this.De.postMessage(t),this.De.close(),this.De=void 0}},t}();yr(),zt(),kr();var PO,BO=function(){function t(){this.kJ=1/0}var n=t.prototype;return n.bJ=function(t,n){var i=t-n;this.kJ=i>this.TJ?this.kJ:i},n.SJ=function(t){this.kJ=t},Ar(t,[{key:"TJ",get:function(){return this.kJ}}]),t}();yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),function(t){t.$d="audio",t.il="video",t.Lb="metadata"}(PO||(PO={}));var OO=function(t){function n(n,i){var r;return(r=t.call(this)||this).ix=n,r.EJ=i,r.IJ=void 0,r.RJ=void 0,r.pU=new Kl,r.CJ=!1,r.NJ=!1,r}zr(n,t);var i=n.prototype;return i.vW=function(t,n){},i.dW=function(t,n){},i.FU=function(){return this.NJ},i.lW=function(){return ta((function(){return ia(this,(function(t){return[2]}))}))()},i.YV=function(t,n){return ta((function(){return ia(this,(function(t){return[2]}))}))()},i.MV=function(t,n,i){var r=this;return ta((function(){var e,u;return ia(this,(function(s){if(t.$u!==GC.lU)throw new f("Streaming or opaque segments are not supported yet.");return e=t.Ud,u=ta((function(){var t,i,u;return ia(this,(function(s){switch(s.label){case 0:return t=e.buffer,i={kind:CO.lJ,mediaType:xO(r.ix),segment:e,startPts:n.DJ,totalDuration:n.Sm},[4,r.EJ.pJ(i,[t])];case 1:return s.sent(),void 0===r.IJ&&(u=n.DJ+n.Nk,r.IJ=u,r.RJ=u),r.RJ=r.RJ+n.Sm,r.qs(new Qc(zC.vU)),[2]}}))})),[2,r.pU.Dh(ta((function(t){return ia(this,(function(n){switch(n.label){case 0:Bc(t),n.label=1;case 1:return n.trys.push([1,,3,4]),r.CJ=!0,[4,u()];case 2:return n.sent(),[3,4];case 3:return r.CJ=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.HV=function(t,n,i){var r=this;return ta((function(){var n,e;return ia(this,(function(u){if(t.$u!==GC.lU)throw new f("Streaming or opaque initialization segments are not supported yet.");return n=t.Ud,e=ta((function(){var t;return ia(this,(function(i){switch(i.label){case 0:return t={kind:CO.dJ,mediaType:xO(r.ix),segment:n},[4,r.EJ.pJ(t,[])];case 1:return i.sent(),[2]}}))})),[2,r.pU.Dh(ta((function(t){return ia(this,(function(n){switch(n.label){case 0:Bc(t),n.label=1;case 1:return n.trys.push([1,,3,4]),r.CJ=!0,[4,e()];case 2:return n.sent(),[3,4];case 3:return r.CJ=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.sW=function(){this.NJ=!0},i.iW=function(){this.NJ=!1},i.Nf=function(t,n,i){var r=this;return ta((function(){var t;return ia(this,(function(e){return t=ta((function(){var t;return ia(this,(function(i){switch(i.label){case 0:return t={kind:CO._J,mediaType:xO(r.ix),endTime:n},[4,r.EJ.pJ(t)];case 1:return i.sent(),r.IJ=void 0,r.RJ=void 0,r.qs(new Qc(zC.vU)),[2]}}))})),[2,r.pU.Dh(ta((function(n){return ia(this,(function(i){switch(i.label){case 0:Bc(n),i.label=1;case 1:return i.trys.push([1,,3,4]),r.CJ=!0,[4,t()];case 2:return i.sent(),[3,4];case 3:return r.CJ=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.IU=function(t){return this.ix===t.md},i.RU=function(t){return this.ix=t.md,j.resolve()},i.Ds=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t.Zs(),[4,t.pU.Bh()];case 1:return n.sent(),[2]}}))}))()},Ar(n,[{key:"Xy",get:function(){return void 0===this.IJ||void 0===this.RJ?gE.uP():new gE([this.IJ,this.RJ])}},{key:"Uf",get:function(){return{md:this.ix}}},{key:"gW",get:function(){return Hy.Hd}},{key:"jO",get:function(){return this.ix}},{key:"mW",get:function(){return gE.uP()}},{key:"uM",get:function(){return 30},set:function(t){}},{key:"sM",get:function(){return 30},set:function(t){}},{key:"cL",get:function(){return this.CJ}},{key:"PJ",get:function(){return this.IJ}},{key:"Sp",get:function(){return this.RJ}}]),n}(Gc);function xO(t){return t.match(/video/)?PO.il:PO.$d}var LO=function(){function t(t,n,i,r){this.Mf=void 0,this.wh=t,this.tq=ac(n,(function(t){return Boolean(t.jO.match(/video/))})),this.JW=ac(n,(function(t){return Boolean(t.jO.match(/audio/))})),this._s=i,this.Lh=r,this.BJ()}var n=t.prototype;return n.BJ=function(){},n.Ds=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return[4,j.all([t.JW,t.tq].filter(re).map((function(t){return t.Ds()})))];case 1:return n.sent(),[2]}}))}))()},n.vq=function(t){},n.wq=function(t,n,i,r){},n.sW=function(){var t,n;null==(t=this.JW)||t.sW(),null==(n=this.tq)||n.sW()},n.iW=function(){var t,n;null==(t=this.JW)||t.iW(),null==(n=this.tq)||n.iW()},n.IU=function(t){return!0},n.RU=function(t){return this.wh=t,j.resolve()},n.SU=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return[4,i._s.gs(t.rs,n)];case 1:return[4,e.sent().jf()];case 2:return r=e.sent(),[4,i.EU(r)];case 3:return e.sent(),[2,r]}}))}))()},n.EU=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:if(t&&!n.Lh.src)throw new vp(Hl.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&n.Lh.src)throw new vp(Hl.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return(i=n.Mf)?[4,i.Vf(n.Lh)]:[3,2];case 1:r.sent(),n.Mf=void 0,r.label=2;case 2:return t?[4,t.zf(n.Lh)]:[3,4];case 3:r.sent(),n.Mf=t,r.label=4;case 4:return[2]}}))}))()},t.OJ=function(n,i,r,e){for(var u=[],s=0;s<n._q.length;s++){var o=n._q[s].md;u.push(new OO(o,i))}return new t(n,u,r,e)},Ar(t,[{key:"xJ",get:function(){return[this.JW,this.tq].filter(re)}},{key:"QW",get:function(){return this.JW}},{key:"Xy",get:function(){return dD(this)}},{key:"Uf",get:function(){return this.wh}},{key:"Sm",get:function(){return 0}},{key:"FU",get:function(){var t,n,i,r,e=null==(i=null==(t=this.JW)?void 0:t.FU())||i,u=null==(r=null==(n=this.tq)?void 0:n.FU())||r;return e&&u}},{key:"np",get:function(){return new gE([0,1/0])}},{key:"ZW",get:function(){return this.tq}},{key:"ly",get:function(){throw new f("Not implemented")}}]),t}(),MO=function(t){function n(n,i){var r;(r=t.call(this)||this).LJ=!0,r.EJ=new DO,r.MJ=new BO,r.FJ=!0,r.UJ=new kh,r._P=!1,r.uY=j.resolve(),r.sY=new Nc,r.HJ=!0,r.aY=gE.uP(),r.mY=!1,r.XJ=function(){r.Cm||r.zJ.Q_<=0||r.Xy.Q_<=0||r.MJ.bJ(r.Xy.ND(r.Xy.Q_-1),r.zJ.ND(r.zJ.Q_-1))},r.VJ=function(){r.qs(new Cy(r.Tm))},r.WJ=function(){r.qs(new Ry(r.Tm,r.zy))},r.qJ=function(){r.qs(new Iy(r.Tm,r.Nm))},r.GJ=function(){r.qs(new By(r.Tm,r.Om))},r.jJ=function(){r.qs(new Ey(r.Sm))},r.YJ=function(){r.qs(new gb(r.Tm))},r.QJ=function(){r.Uo(r.Tm)};var e=$a(r);return r.ZJ=ta((function(){return ia(this,(function(t){return e.HJ&&e.qs(new by(e.Tm)),e.FJ=!1,e.HJ=!0,[2]}))})),r.KJ=function(){r.FJ=!0,r.qs(new Ay(r.Tm))},r.tQ=function(t){var n,i=t.initDataType,e=null!=(n=t.initData)?n:new ArrayBuffer(0);r.qs(new nf(i,e))},r.JJ=n,r.BY=new SD($a(r)),r.JJ.setAttribute("id","player_video"),r.JJ.setAttribute("x-webkit-airplay","deny"),r.JJ.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),r.JJ.playsInline=!0,r.JJ.style.width="100%",r.JJ.style.height="100%",r.$J(),r.t$(),r.oJ=IO(r.JJ),r.TU=new cB($a(r)),r._s=i,r.ey=new Vk,r.vQ=new qP($a(r)),r}zr(n,t);var i=n.prototype;return i.$J=function(){this.JJ.addEventListener("timeupdate",this.XJ),this.JJ.addEventListener("ended",this.VJ),this.JJ.addEventListener("timeupdate",this.WJ),this.JJ.addEventListener("ratechange",this.qJ),this.JJ.addEventListener("volumechange",this.GJ),this.JJ.addEventListener("durationchange",this.jJ),this.JJ.addEventListener("playing",this.YJ),this.JJ.addEventListener("seeking",this.QJ),this.JJ.addEventListener("play",this.ZJ),this.JJ.addEventListener("pause",this.KJ),this.JJ.addEventListener("encrypted",this.tQ)},i.n$=function(){this.JJ.removeEventListener("timeupdate",this.XJ),this.JJ.removeEventListener("ended",this.VJ),this.JJ.removeEventListener("timeupdate",this.WJ),this.JJ.removeEventListener("ratechange",this.qJ),this.JJ.removeEventListener("volumechange",this.GJ),this.JJ.removeEventListener("durationchange",this.jJ),this.JJ.removeEventListener("playing",this.YJ),this.JJ.removeEventListener("seeking",this.QJ),this.JJ.removeEventListener("play",this.ZJ),this.JJ.removeEventListener("pause",this.KJ)},i.t$=function(){this.BY.js(ky.O_,this.Ws)},i.i$=function(){this.BY.Ks(ky.O_,this.Ws)},i.Uo=function(t,n,i){this.sY.Ms(),this.sY=new Nc,this.uY=this.kQ(t,this.uY,this.sY.Hs).catch(le)},i.kQ=function(t,n,i){var r=this;return ta((function(){var e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:return r.aY=r.$y,(s=null==(u=r.KC)?void 0:u.xJ)?(o=(e=d).max.apply(e,Nr(s.map((function(t){return t.PJ?t.PJ:1/0})))),r._P=!0,r.qs(new Dy(t)),[4,n.catch(le)]):[2];case 1:c.sent(),Bc(i),c.label=2;case 2:return c.trys.push([2,7,8,9]),r.LJ||r.r$(),r.JJ.load(),r.FJ?[3,4]:(r.HJ=!1,[4,Lc(r.JJ.play(),i)]);case 3:c.sent(),c.label=4;case 4:return r.Mg<ty.vm?[4,r.BY.oo(ky.O_,i)]:[3,6];case 5:return c.sent(),[3,4];case 6:return r.UJ.qo(),r.LJ=!1,r._P=!1,r.qs(new Py(r.Tm)),[3,9];case 7:throw a=c.sent(),r.UJ.Go(a),a;case 8:return r.e$(),r.MJ.SJ(o),[7];case 9:return[2]}}))}))()},i.yy=function(){this.FJ=!0,this.JJ.pause()},i.gy=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t.FJ?(t.JJ.src||t.xQ(),[4,t.UJ.Wo]):[2];case 1:return n.sent(),[4,t.JJ.play()];case 2:return n.sent(),[2]}}))}))()},i.Ds=function(){var t=this;return ta((function(){return ia(this,(function(n){return t.EJ&&t.EJ.AJ().catch(le),t.sY.Ms(),t.n$(),t.i$(),t.BY.Ds(),t.Zs(),t.ey.Bh(),[2]}))}))()},i.Wf=function(){var t=this;return ta((function(){return ia(this,(function(n){return t.EJ&&t.EJ.AJ().catch(le),t.sY.Ms(),t.JJ.removeAttribute("src"),t.JJ.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),t.JJ.removeAttribute("x-airplay-deny"),t.JJ.load(),t.BY.Wf(),t.aY=gE.uP(),[2]}))}))()},i.xQ=function(){this.LQ||(zO(this.JJ,Pr.Bu),this.mY=!0)},i.r$=function(){var t,n=this.JJ.getClientRects();if(n.length>0){var i,r,e=(t=n[0]).width,u=this.JJ.videoWidth/this.JJ.videoHeight,s=t.height;e/s>u?(i=s*u,r=s):(r=e/u,i=e),this.JJ.style.width=i+"px",this.JJ.style.height=r+"px",this.JJ.style.marginLeft=(e-i)/2+"px",this.JJ.style.marginTop=(s-r)/2+"px",this.JJ.style.backgroundColor="black"}},i.e$=function(){this.JJ.style.width="100%",this.JJ.style.height="100%",this.JJ.style.marginLeft="",this.JJ.style.marginTop="",this.JJ.style.backgroundColor=""},i.LN=function(t,n,i,r,e){},i.lI=function(t,n,i,r,e,u,s,o,a){var c=new WD(t,n,i,r,e,u,s,a,o);return this.ey.q_(c),this.vQ.q_(c),c},i.MU=function(t){},i.jN=function(){return kC(this.JJ)},i.Ny=function(){this.JJ.style.display="block"},i.Dy=function(){this.JJ.style.display="none"},i.BQ=function(){},i.Cf=function(t){var n=this;return ta((function(){var i,r;return ia(this,(function(e){switch(e.label){case 0:if(t.$u===lb.yI)throw new f("Not yet implemented");return[4,n.EJ.mJ()];case 1:return e.sent(),i=ac(t.CN,(function(t){return t.Ff.$u===da.Ku})),r={kind:CO.vJ,mediaBufferConfigs:t._q.map((function(t){return t.md})),fairPlaySdkUri:null==i?void 0:i.$R},[4,n.EJ.pJ(r)];case 2:return e.sent(),n.KC=LO.OJ(t,n.EJ,n._s,n.JJ),n.TU.Cf(n.KC,t),n.JJ.preload="none",n.JJ.src="https://theo.proxy/"+n.EJ.Mh+"/master.m3u8",[2,n.KC]}}))}))()},i.OQ=function(){},i.gI=function(t){this.ey.G_(t),this.vQ.G_(t)},i.UN=function(){for(var t=0,n=this.ey.Y_.slice();t<n.length;t++){n[t].Bh()}this.ey.Wf()},i.GN=function(t){},i.ON=function(){return!1},i.MQ=function(t){t.appendChild(this.JJ)},i.Py=function(){return this.JJ},i.lQ=function(){},i.Uy=function(){},Ar(n,[{key:"kN",get:function(){return this.JJ}},{key:"Rq",get:function(){return!1}},{key:"Tm",get:function(){return this.JJ.currentTime+this.MJ.TJ}},{key:"Cm",get:function(){return this.JJ.paused}},{key:"Om",get:function(){return this.JJ.volume},set:function(t){this.JJ.volume=t}},{key:"Nm",get:function(){return this.JJ.playbackRate},set:function(t){this.JJ.playbackRate=t}},{key:"u$",get:function(){return this.JJ.defaultPlaybackRate}},{key:"Xy",get:function(){var t,n;return null!=(n=null==(t=this.KC)?void 0:t.Xy)?n:gE.uP()}},{key:"zJ",get:function(){return gE.iP(this.JJ.buffered)}},{key:"$y",get:function(){var t=this.s$;return this.aY.XD(t.Mo(this.MJ.TJ))}},{key:"s$",get:function(){return gE.iP(this.JJ.played)}},{key:"Dm",get:function(){return this._P}},{key:"Tq",get:function(){return!1}},{key:"Sm",get:function(){return this.JJ.duration}},{key:"Rm",get:function(){return this.JJ.muted},set:function(t){this.JJ.muted=t}},{key:"PK",get:function(){return this.JJ.style}},{key:"zj",get:function(){return na({},WC,{hU:!0})}},{key:"Mg",get:function(){return this.BY.Mg}},{key:"Pm",get:function(){return this.JJ.videoHeight}},{key:"Bm",get:function(){return this.JJ.videoWidth}},{key:"Em",get:function(){return this.JJ.ended}},{key:"WT",get:function(){return this.JJ.offsetHeight*Pr.Bu.ze}},{key:"Kp",get:function(){return this.JJ.offsetWidth*Pr.Bu.ze}},{key:"Wy",get:function(){return!1}},{key:"LQ",get:function(){return this.mY}},{key:"zy",get:function(){}},{key:"FQ",get:function(){}},{key:"Ao",get:function(){}},{key:"FN",get:function(){return this.oJ}},{key:"np",get:function(){return this.KC?this.KC.np:gE.uP()}},{key:"YN",get:function(){}},{key:"wy",get:function(){return this.ey}},{key:"HQ",get:function(){}},{key:"rp",get:function(){return!1},set:function(t){}},{key:"UQ",get:function(){return"block"===this.JJ.style.display}},{key:"SN",get:function(){return this.TU.SN},set:function(t){this.TU.SN=t}},{key:"XQ",get:function(){},set:function(t){}},{key:"qj",get:function(){}}]),n}(Gc),FO=[Hy.$d,Hy.il],UO=function(){function t(t,n,i,r,e){void 0===i&&(i=2),void 0===r&&(r=FO),void 0===e&&(e=sw()),this.o$=i,this.a$=Nr(r),this._s=e,this.aQ=t,this.yP=n,this.c$=ua(),this.f$()}var n=t.prototype;return n.AP=function(t){for(var n=0,i=this.TP;n<i.length;n++){i[n].MQ(t)}},n.pN=function(t){var n=ac(this.c$.get(t),(function(t){return t.h$}));if(n)return n.h$=!1,n.v$},n.d$=function(t){if(!this.l$){var n,i=null==(n=this.c$.get(Hy.il))?void 0:n[0].v$.kN;if(!i)throw new f("Error creating iOS Safari MediaController");this.l$=new MO(i,this._s)}return this.l$},n.zN=function(t){var n=this;return ta((function(){var i,r,e;return ia(this,(function(u){switch(u.label){case 0:return i=t.kN,r=i.tagName.toLowerCase(),[4,t.Wf()];case 1:return u.sent(),XO(i),(e=ac(n.c$.get(r)||[],(function(n){return t===n.v$})))&&(e.h$=!0),[2]}}))}))()},n.bP=function(){for(var t=0,n=this.TP;t<n.length;t++){n[t].xQ()}},n.Bh=function(){for(var t=0,n=this.TP;t<n.length;t++){var i=n[t],r=i.kN;i.Ds(),XO(r),To(r)}this.c$.clear(),this.l$=void 0},n.f$=function(){for(var t=0,n=this.a$;t<n.length;t++){var i=n[t],r=[];this.c$.set(i,r);for(var e=0;e<this.o$;e++){var u=HO(i),s=i===Hy.$d?new kB(u,this._s,this.aQ):new RO(u,this._s,this.aQ,this.yP);r.push({v$:s,h$:!0})}}},Ar(t,[{key:"TP",get:function(){for(var t=[],n=0,i=this.a$;n<i.length;n++){var r=i[n],e=this.c$.get(r);if(e){var u,s=e.map((function(t){return t.v$}));(u=t).push.apply(u,Nr(s))}}return this.l$&&t.push(this.l$),t}}]),t}();function HO(t){var n=r.createElement(t);return No(n)&&function(t){t.addEventListener("contextmenu",(function(t){t.preventDefault()}))}(n),XO(n),n}function XO(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),Do(t),t.pause(),t.playbackRate=1,t.preload=fE.lD,t.controls=!1,t.style.display="none",No(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function zO(t,n){if(n.xe){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();he(r)&&Xc(r),t.pause()}}yr(),zt(),yr(),zt();var VO,WO=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).mP=i,r}return zr(n,t),n.prototype.xd=function(t){var n=this;return ta((function(){var i,r,e,u,s;return ia(this,(function(o){switch(o.label){case 0:return i=new Ww(t),(r=n.mP.$L.DC(i))?(r.tM(Pr.re()/1e3),[4,n.vI.xd(t)]):[2,n.vI.xd(i)];case 1:return e=o.sent(),r.nM(Pr.re()/1e3),u=e._d().pipeThrough(new Ut(new qO(r))),s={Ud:u,xd:e.xd},[2,new Vw(s,e)]}}))}))()},n}(function(){function t(t){this.vI=t}var n=t.prototype;return n.xd=function(t){return this.vI.xd(t)},n.ll=function(t){this.vI.ll(t)},n.Bh=function(){this.vI.Bh()},t}()),qO=function(){function t(t){this.w$=t}var n=t.prototype;return n.start=function(t){this.GF=t},n.transform=function(t){this.w$.iM(Pr.re()/1e3,t),this.GF.enqueue(t)},n.flush=function(){this.w$.rM(Pr.re()/1e3)},t}(),GO=function(t){function n(n,i){var r;(r=t.call(this)||this)._$=!1,r.Jm=!1,r.g$=!1,r.m$=function(t){if(!r.g$){r.g$=!0;var n=r.y$,i=wp(t);r.AF.og=new bE(r.Vy,i,t),Xc(n.Bh())}},r.p$=function(t){r.qs(t.y_)},r.A$=function(t){t.type!==vw.Pv&&t.type!==vw.Dv&&r.qs(t)};var e=mm(i.uid);_(e)?r.fp=kp++:r.fp=e,r.Uf=i;var u=Pr.d_,s=new OC;r.k$=new _R("6.0.0",u,s),r.mP=new hC;var o=new WO(u,r.mP);r.d_=new JR(o,i.allowMixedContent),r.xF=new QI(i.isEmbeddable,"6.0.0",VI()),r.b$=new BC(u,r.xF,r.k$,s,i,VI()),r.b$.FF().catch(r.m$),r.T$=new xR(n),r.T$.js("Rx",r.p$),r.yP=new HC,r.vF=new _C,r.gF=new yC;var a=new kE(n,i,r.d_,r.mP,r.T$,r.yP);r.mP._M(a);var c=a;return c=new mC(c,r.S$),c=new pC(c,r.mF),r.y$=c,r.AF=new fp(r.y$),r.AF.Qs(r.A$),r.E$=new AC($a(r)),r.I$=new iC(r.AF,r.d_,r.mP),r.R$=new yR($a(r)),r.C$=new zR(r.AF,i.allowNativeFullscreen),r.N$=new XE(r.C$),r.T$.zf(),r.pP=new wo(r.T$,r.yP,1,[Hy.il]),r.D$=new _o(r.pP),r.P$=new SC,r}zr(n,t);var i=n.prototype;return i.XM=function(t){this.AF.Rm=t,t||this.Cm||this.Iy()},i.rF=function(t){this.AF.Om=t},i.B$=function(){Qy(this,zE,this)},i.gy=function(){this.AF.gy()},i.yy=function(){this.AF.yy()},i.by=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return t?(i.b$.gO(t).catch(i.m$),r=function(t){t.sources;var n=t.sources.filter((function(t){return ee(t.integration)}));return t.sources=n,t}(t),[4,i.AF.by(r,n)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))()},i.Iy=function(){if(!this.Jm){this.AF.Iy(),this.D$.Iy();for(var t=this.Vy.getElementsByTagName("video"),n=0;n<t.length;n++){var i=t[n];"Advertisement"===i.title&&zO(i,Pr.Bu)}this.Jm=!0}},i.cP=function(){return this.N$.GP()===ME.FULLSCREEN},i.Ny=function(){this.AF.Ny()},i.Dy=function(){this.AF.Dy()},i.Py=function(){return this.AF.Py()},i.Wf=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return[4,t.AF.py()];case 1:return n.sent(),[4,t.AF.Wf()];case 2:return n.sent(),[2]}}))}))()},i.Bh=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t.Zs(),t.P$.Bh(),t.d_.Bh(),t.I$.Bh(),t.C$.Bh(),t.N$.Bh(),t.T$.Bh(),t.k$.Bh(),t.D$.Bh(),t.pP.Bh(),[4,t.AF.Bh()];case 1:return n.sent(),[2]}}))}))()},Ar(n,[{key:"O$",get:function(){return this.mP}},{key:"sy",get:function(){return this._$},set:function(t){this._$=t,this.AF.sy=t}},{key:"x$",get:function(){return this.D$}},{key:"vy",get:function(){return this.AF.vy}},{key:"L$",get:function(){return this.P$}},{key:"FQ",get:function(){return this.T$}},{key:"_y",get:function(){return this.AF._y}},{key:"qy",get:function(){return this.E$}},{key:"M$",get:function(){return this.I$}},{key:"wy",get:function(){return this.AF.wy}},{key:"HQ",get:function(){return this.yP}},{key:"ly",get:function(){return this.AF.ly}},{key:"Xy",get:function(){return this.AF.Xy}},{key:"S$",get:function(){return this.vF}},{key:"mF",get:function(){return this.gF}},{key:"Tm",get:function(){return this.AF.Tm},set:function(t){this.AF.Tm=t}},{key:"zy",get:function(){return this.AF.zy},set:function(t){this.AF.zy=t}},{key:"Fy",get:function(){return this.AF.Fy}},{key:"Sm",get:function(){return this.AF.Sm}},{key:"Vy",get:function(){return this.AF.Vy}},{key:"Em",get:function(){return this.AF.Em}},{key:"Ao",get:function(){return this.AF.Ao}},{key:"Im",get:function(){return this.AF.Im}},{key:"Rm",get:function(){return this.AF.Rm},set:function(t){var n=Boolean(t);this.XM(n)}},{key:"Cm",get:function(){return this.AF.Cm}},{key:"Nm",get:function(){return this.AF.Nm},set:function(t){this.AF.Nm=t}},{key:"$y",get:function(){return this.AF.$y}},{key:"tp",get:function(){return this.AF.tp},set:function(t){this.AF.tp=vE(t)}},{key:"Mg",get:function(){return this.AF.Mg}},{key:"np",get:function(){return this.AF.np}},{key:"Dm",get:function(){return this.AF.Dm}},{key:"vg",get:function(){return this.fp}},{key:"Pm",get:function(){return this.AF.Pm}},{key:"Bm",get:function(){return this.AF.Bm}},{key:"Om",get:function(){return this.AF.Om},set:function(t){var n=ru(Number(t),0,1)||0;this.rF(n)}},{key:"ip",get:function(){return this.AF.ip}}]),n}(Xm);yr(),zt(),function(t){t[t.F$=0]="F$",t[t.U$=1]="U$"}(VO||(VO={}));var jO={};function YO(t,n){(jO[n]||(jO[n]=[])).push(t)}function QO(t,n){var i=t;if(jO[n])for(var r=0,e=jO[n];r<e.length;r++){i=(0,e[r])(i)}return i}var ZO=[];function KO(t){ZO.push(t)}yr(),zt();var JO=self.CustomEvent;var $O=function(){try{var t=new JO("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=r.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i};yr(),zt(),yr(),zt(),kr();var tx=function(){function t(t,n){var i=this;this.H$=!1,this.X$=function(t){i.z$.gx(t.error,i.Tm)},this.V$=function(){i.z$.lx(i.W$),i.pD.removeEventListener("playing",i.V$),i.H$=!1},this.q$=function(){i.H$||(i.pD.addEventListener("playing",i.V$),i.H$=!0)},this.z$=n,this.pD=t,this.pD.addEventListener("error",this.X$),this.pD.addEventListener("sourcechange",this.q$),this.q$()}return t.prototype.Wf=function(){},Ar(t,[{key:"Tm",get:function(){var t=this.pD.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"W$",get:function(){return this.pD.src||""}}]),t}();KO((function(t){new tx(t.y_,t.k$)})),yr(),zt();var nx="theoplayer-stored-volume",ix="theoplayer-stored-mutedstate";YO((function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=IC.BF(nx);(void 0===e||_(e))&&(e=1);var u=IC.OF(ix)||!1;r.Om=e,r.Rm=u}return r}zr(n,t);var i=n.prototype;return i.XM=function(n){this.Uf.persistVolume&&IC.tv(ix,""+Boolean(n)),t.prototype.XM.call(this,n)},i.rF=function(n){this.Uf.persistVolume&&IC.tv(nx,""+Number(n)),t.prototype.rF.call(this,n)},n}(t)}),VO.U$),yr(),zt(),kr();var rx=new(function(){function t(){this.G$=[],this.m_=void 0}var n=t.prototype;return n.W_=function(t){return this.G$[t]},n.rH=function(t){this.G$.push(t),this.y_.push(t.y_)},n.Nf=function(t){var n=this.G$.indexOf(t);n<0||(vc(this.G$,n),this.m_&&vc(this.m_,n))},n.j$=function(t){for(var n=0,i=this.G$;n<i.length;n++){var r=i[n];if(r.vg===t)return r}},Ar(t,[{key:"Q_",get:function(){return this.G$.length}},{key:"y_",get:function(){return this.m_||(this.m_=function(t){for(var n=[],i=0;i<t.Q_;i++)n[i]=t.W_(i).y_;return n.getPlayerByUID=function(n){var i=t.j$(n);return i&&i.y_},n}(this)),this.m_}}]),t}());yr(),zt(),kr(),yr(),zt(),yr(),zt();var ex=function(t){function n(n){var i;return(i=t.call(this,vw.Gv)||this).source=n,i}return zr(n,t),n}(Qc);yr(),zt(),kr();var ux=function(t){function n(){var n;return(n=t.call(this)||this).vP=0,n.lP=!0,n._P=!1,n.wP=1,n}zr(n,t);var i=n.prototype;return i.gy=function(){this.lP&&(this.lP=!1,this.qs(new by(this.Tm)),this.qs(new _b(this.Tm)))},i.yy=function(){this.lP||(this.lP=!0,this.qs(new Ry(this.Tm,this.zy)),this.qs(new Ay(this.Tm)))},i.Wf=function(){this.vP=0,this._P=!1,this.wP=1,this.yy()},i.Bh=function(){this.Zs()},i.Dy=function(){},i.Ny=function(){},Ar(n,[{key:"zy",get:function(){},set:function(t){}},{key:"Tm",get:function(){return this.vP},set:function(t){this._P&&this.vP===t||(this.vP=t,this._P=!0,this.qs(new Dy(this.Tm)))}},{key:"Cm",get:function(){return this.lP}},{key:"Nm",get:function(){return this.wP},set:function(t){this.wP!==t&&(this.wP=t,this.qs(new Iy(this.Tm,this.Nm)))}},{key:"Mg",get:function(){return ty.fm}},{key:"Dm",get:function(){return this._P}}]),n}(Hm);yr(),zt();var sx=function(t){function n(){return t.call(this,vw._v)}return zr(n,t),n}(Qc);yr(),zt(),kr();var ox,ax={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},cx={visibility:"hidden"},fx={visibility:"visible"},hx=function(){function t(t){var n=this;this.Y$=!1,this.Q$=function(t){var i;n.Y$=!1,n.Z$=null==(i=t.source)?void 0:i.poster,n.Df()},this.OI=function(){n.Y$=!0,n.Dy()},this.pD=t,this.kD(),this.vD=function(){var t=mo&&mo.document&&mo.document.createElement("div");return t.className="theoplayer-poster",Io(ax,t),t}(),t.Vy.appendChild(this.vD)}var n=t.prototype;return n.Df=function(){var t=this.pD.Cm,n=this.Y$;this.Md?this.vD.style.backgroundImage='url("'+function(t){return t.replace(/[\\"]/g,(function(t){return"\\"+t}))}(this.Md)+'")':this.vD.style.backgroundImage="",t&&this.Md&&!n?this.Ny():this.Dy()},n.Ny=function(){Io(cx,this.pD.Vy),Io(fx,this.vD)},n.Dy=function(){Io(cx,this.vD),Io(fx,this.pD.Vy)},n.kD=function(){this.pD.js("sourcechange",this.Q$),this.pD.js("play",this.OI)},n.Bh=function(){this.pD.Ks("sourcechange",this.Q$),this.pD.Ks("play",this.OI),To(this.vD)},Ar(t,[{key:"Md",get:function(){return void 0!==this.Z$?this.Z$:void 0!==this.K$?this.K$:void 0}},{key:"J$",set:function(t){this.K$=t,this.Df()}}]),t}();function vx(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).t0=!0,e.rY=ty.fm,e.n0=!1,e.gD=void 0,e.JC=void 0,e.SP=void 0,e.i0=function(t){t.type!==vw.Lv&&e.r0.push(t)},e.e0=function(t){var n=t;(n.type!==vw.Ov||e.pD.Cm)&&(n.type===vw.Bv&&e.pD.Cm||n.type===vw.Hv&&e.pD.Dm&&e.pD.Tm===n.currentTime||n.type===vw.Lv&&e.pD.Nm===n.playbackRate||e.qs(n))},e.xy=function(t){var n=t;if(e.n0){if(n.type===ky.pm)return;n.type!==ky.wm&&n.type!==ky.Am||(e.n0=!1)}if(n.type===vw.Ov){if(!e.t0)return;e.t0=!1}else if(n.type===vw.Bv){if(e.t0)return;e.t0=!0}else if(n.type===ky.O_){if(e.rY===n.readyState)return;e.rY=n.readyState}e.qs(n)},e.u0=new t(i,r),e.s0=new ux,e.pD=e.u0,e.o0=new hx($a(e)),e.pU=new Kl,e.r0=[],e.mD=!0,e.kD(),e}zr(i,n);var r=i.prototype;return r.Dh=function(t,n){var i=this;return ta((function(){return ia(this,(function(r){return[2,i.pU.Dh(t,n).catch(xc)]}))}))()},r.a0=function(t,n){var i=this;return ta((function(){return ia(this,(function(r){switch(r.label){case 0:Bc(n),i.u0.Qs(i.i0),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,i.u0.by(t,n)];case 2:return r.sent(),[3,4];case 3:return i.u0.uo(i.i0),[7];case 4:return[2]}}))}))()},r.c0=function(){var t=this;return ta((function(){var n,i;return ia(this,(function(r){switch(r.label){case 0:return(n=t.Ay())&&!wI(n)&&t.sy&&t.Cm?(i=n.mutedAutoplay||t.Uf.mutedAutoplay,[4,t.x$.f0(t.Rm)]):[2];case 1:switch(r.sent()){case"all":t.h0();break;case"muted":(t.Rm||i===Xy.ALL)&&(t.Rm=!0,t.gy())}return[2]}}))}))()},r.by=function(t){wI(this.gD)||this.qs(new py(0,ty.fm)),this.Wf(),this.gD=t;var n=this;Xc(this.Dh(ta((function(i){var r;return ia(this,(function(e){switch(e.label){case 0:Bc(i),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,n.a0(t,i)];case 2:return e.sent(),[3,5];case 3:return r=e.sent(),n.gD=void 0,n.rN(function(t,n){return t instanceof Wl?t:t instanceof f?new Wl(n,t.message,t):new Wl(n,String(t))}(r,Hl.SOURCE_NOT_SUPPORTED)),[2];case 4:return n.v0(n.u0),[7];case 5:return n.qs(new ex(n.Ay())),[4,n.c0()];case 6:return e.sent(),[2]}}))}))))},r.BM=function(t){this.pD.Tm=t},r.MM=function(){var t;return null!=(t=this.SP)?t:this.u0.Ao},r.FM=function(){var t;return null!=(t=this.JC)?t:this.u0.Im},r.rN=function(t){void 0===this.FM()&&(this.JC=t,this.SP=wp(t),this.qs(new My(t)))},r.gy=function(){this.pD.gy()},r.h0=function(){this.Rm||this.Iy(),this.gy()},r.Iy=function(){this.u0.Iy()},r.yy=function(){this.pD.yy()},r.py=function(){this.by(void 0)},r.Ny=function(){this.mD=!0,this.pD.Ny()},r.Dy=function(){this.mD=!1,this.pD.Dy()},r.B$=function(){this.u0.B$()},r.rF=function(t){this.u0.rF(t)},r.XM=function(t){this.u0.XM(t)},r.d0=function(t){this.l0=t,t.rH(this)},r.cP=function(){return this.u0.cP()},r.Ay=function(){return this.gD},r.Py=function(){return this.u0.Py()},r.PM=function(){return this.u0.Tm},r.OM=function(){return this.u0.Sm},r.RM=function(){return this.u0.Xy},r.GM=function(){return this.u0.$y},r.ZM=function(){return this.u0.np},r.Wf=function(){this.gD=void 0,this.JC=void 0,this.SP=void 0,this.n0=!0,wc(this.r0),this.s0.Wf(),this.v0(this.s0),this.pU.Ms();var t=this;Xc(this.pU.Dh(ta((function(n){return ia(this,(function(i){switch(i.label){case 0:return Bc(n),[4,t.u0.Wf()];case 1:return i.sent(),[2]}}))}))))},r.Bh=function(){this.qs(new sx),this.o0.Bh(),this.bD(),this.Wf();var t=this;Xc(this.Dh(ta((function(){return ia(this,(function(n){switch(n.label){case 0:return[4,t.u0.Bh()];case 1:return n.sent(),t.l0&&(t.l0.Nf(t),t.l0=void 0),t.pU.Bh(),[2]}}))})))),this.Zs()},r.v0=function(t){if(this.pD!==t){var n=this.pD.Cm,i=this.pD.Tm,r=this.pD.Nm,e=this.pD.Mg,u=this.pD.Dm;this.t0=n,this.rY=e,this.bD(),t.Qs(this.e0),t===this.u0?((u||t.Tm!==i)&&(t.Tm=i),t.Nm!==r&&(t.Nm=r),n?t.yy():t.gy()):this.Uf.retainPlaybackRateOnSourceChange?t.Nm=r:1!==r&&this.qs(new Iy(this.PM(),1)),t.uo(this.e0),this.pD=t,this.kD();for(var s=0,o=this.r0;s<o.length;s++){var a=o[s];this.qs(a)}wc(this.r0),this.mD?t.Ny():t.Dy()}},r.kD=function(){this.pD.Qs(this.xy)},r.bD=function(){this.pD.uo(this.xy)},r.p_=function(){return function(t){var n,i,r=function(n){i=n;var r=RI(n,t.Uf);t.by(r)},e={get abr(){return t.O$.y_},get audioTracks(){return t.vy.y_},get autoplay(){return t.sy},set autoplay(n){t.sy=Boolean(n)},get buffered(){return t.RM()},get canvas(){return t.R$.y_},get clip(){return t.S$.y_},get currentProgramDateTime(){var n;return null!=(n=t.zy)?n:null},set currentProgramDateTime(n){t.zy=null!=n?n:void 0},get currentTime(){return t.PM()},set currentTime(n){t.BM(Number(n))},get duration(){return t.OM()},get element(){return t.Vy},get ended(){return t.Em},get error(){return t.MM()},get errorObject(){return t.FM()},get loop(){return t.mF.mF},set loop(n){t.mF.mF=Boolean(n)},get metrics(){return t.qy.y_},get muted(){return t.Rm},set muted(n){t.XM(n)},get network(){return t.M$.y_},get paused(){return t.Cm},get playbackRate(){return t.Nm},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Nm=i},get played(){return t.GM()},get poster(){return t.w0},set poster(n){t.w0=pm(n)},get preload(){return t.tp},set preload(n){t.tp=n},get presentation(){return t.N$.y_},get readyState(){return t.Mg},get seekable(){return t.ZM()},get seeking(){return t.Dm},get source(){return i},set source(t){r(t)},get src(){return _I(t.Ay())},set src(t){r({sources:t})},get textTracks(){return t.wy.y_},get textTrackStyle(){return t.HQ.y_},get uid(){return t.vg},get videoHeight(){return t.Pm},get videoTracks(){return t.ly.y_},get videoWidth(){return t.Bm},get volume(){return t.Om},set volume(n){t.rF(Number(n))},get latency(){return t.ip.y_},destroy:function(){t.Bh(),t=null,i=void 0},play:function(){t.h0()},pause:function(){t.yy()},stop:function(){i=void 0,t.py()},prepareWithUserAction:function(){t.Iy()},addEventListener:function(t,i){n.js(t,i)},removeEventListener:function(t,i){n.Ks(t,i)},setSource:function(t){r(t)}};return(n=new UE(e,!0)).PP(t),n.js("destroy",(function(){n.Bh()})),e}(this)},Ar(i,[{key:"k$",get:function(){return this.u0.k$}},{key:"R$",get:function(){return this.u0.R$}},{key:"Uf",get:function(){return this.u0.Uf}},{key:"y$",get:function(){return this.u0.y$}},{key:"d_",get:function(){return this.u0.d_}},{key:"FN",get:function(){return this.u0.C$}},{key:"N$",get:function(){return this.u0.N$}},{key:"T$",get:function(){return this.u0.T$}},{key:"AF",get:function(){return this.u0.AF}},{key:"O$",get:function(){return this.u0.O$}},{key:"sy",get:function(){return this.u0.sy},set:function(t){this.u0.sy=t,this.c0()}},{key:"x$",get:function(){return this.u0.x$}},{key:"vy",get:function(){return this.u0.vy}},{key:"L$",get:function(){return this.u0.L$}},{key:"FQ",get:function(){return this.u0.T$}},{key:"y_",get:function(){return this.m_||(this.m_=this.p_()),this.m_}},{key:"_y",get:function(){return this.u0._y}},{key:"qy",get:function(){return this.u0.qy}},{key:"M$",get:function(){return this.u0.M$}},{key:"wy",get:function(){return this.u0.wy}},{key:"HQ",get:function(){return this.u0.HQ}},{key:"ly",get:function(){return this.u0.ly}},{key:"S$",get:function(){return this.u0.S$}},{key:"mF",get:function(){return this.u0.mF}},{key:"zy",get:function(){return this.pD.zy},set:function(t){this.pD.zy=t}},{key:"Fy",get:function(){return this.u0.Fy}},{key:"Vy",get:function(){return this.u0.Vy}},{key:"Em",get:function(){return this.u0.Em}},{key:"Rm",get:function(){return this.u0.Rm},set:function(t){this.u0.Rm=t}},{key:"Cm",get:function(){return this.pD.Cm}},{key:"w0",get:function(){return this.o0.Md||""},set:function(t){this.o0.J$=t}},{key:"Nm",get:function(){return this.u0.Nm},set:function(t){this.pD.Nm=t}},{key:"tp",get:function(){return this.u0.tp},set:function(t){this.u0.tp=vE(t)}},{key:"Mg",get:function(){return this.pD.Mg}},{key:"Dm",get:function(){return this.pD.Dm}},{key:"vg",get:function(){return this.u0.vg}},{key:"Pm",get:function(){return this.u0.Pm}},{key:"Bm",get:function(){return this.u0.Bm}},{key:"Om",get:function(){return this.u0.Om},set:function(t){this.u0.Om=t}},{key:"ip",get:function(){return this.u0.ip}}]),i}(Xm)}function dx(t,n){var i=jy(n),r=new(ox||(ox=QO(ox=vx(GO),VO.F$),ox=QO(ox,VO.U$)),ox)(t,i),e=r.y_;return r.B$(),r.d0(rx),v.defineProperty(e,"constructor",{value:dx}),e=function(t){return cm(t)}(e),function(t){for(var n=0;n<ZO.length;n++)(0,ZO[n])(t)}(r),e}Hc((function(){self.dispatchEvent&&self.dispatchEvent($O("theoplayerready"))})),yr(),zt();var lx={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return df(t)},n.decode=function(t){return ff(t)},t}())};yr(),zt();var wx=JSON.parse('["hls","airplay"]'),_x="6.0.0",gx="2023.4.5",mx=rx.y_,yx=jb.IR.registerContentProtectionIntegration.bind(jb.IR);yr(),zt(),yr(),zt(),yr(),zt();var px;function Ax(t){return{get bandwidth(){return t.BC},get codecs(){return t._0},get id(){return t.hg},get uid(){return t.vg},get name(){return t.wg},get averageBandwidth(){return t.g0},get label(){return t.wg},set label(n){t.wg=pm(n)},get height(){return t.WT},get width(){return t.Kp},get frameRate(){return t.m0},get firstFrame(){return t.y0},get available(){return t.h$},addEventListener:function(n,i){t.js(n,i)},removeEventListener:function(n,i){t.Ks(n,i)}}}function kx(t){return{get bandwidth(){return t.BC},get codecs(){return t._0},get id(){return t.hg},get uid(){return t.vg},get name(){return t.wg},get averageBandwidth(){return t.g0},get label(){return t.wg},set label(n){if(!ce(n))throw new f("Unexpected - The provided label is not a string");t.wg=n},get audioSamplingRate(){return t.p0},get available(){return t.h$},addEventListener:function(n,i){t.js(n,i)},removeEventListener:function(n,i){t.Ks(n,i)}}}!function(t){wo=t.A0,_o=t.k0,go=t.b0,mo=t.T0,yo=mo&&mo.location,po=mo&&mo.navigator}({A0:UO,k0:function(){function t(t){this.pP=t,this.S0=new Kl}var n=t.prototype;return n.f0=function(t){var n=this;return this.S0.Dh((function(){return n.E0(t)}))},n.Iy=function(){this.pP.bP()},n.E0=function(n){var i=this;return ta((function(){var r,e,u;return ia(this,(function(s){switch(s.label){case 0:return r=i.pP.pN(Hy.il),e=r.kN,[4,t.I0(e,n)];case 1:return u=s.sent(),[4,i.pP.zN(r)];case 2:return s.sent(),[2,u]}}))}))()},n.Bh=function(){this.S0.Bh()},t.I0=function(n,i){return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return te.Nr||te.Rr?[2,"all"]:(n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),[4,t.R0()]);case 1:return e.sent(),(r=!i)?[4,t.C0(n,!1)]:[3,3];case 2:r=e.sent(),e.label=3;case 3:return r?[2,"all"]:[4,t.C0(n,!0)];case 4:return e.sent()?[2,"muted"]:[2,"none"]}}))}))()},t.C0=function(t,n){return ta((function(){var i,r;return ia(this,(function(e){switch(e.label){case 0:t.muted=n,i=t.play(),e.label=1;case 1:return e.trys.push([1,3,4,5]),he(i)?(r=Wc(250),[4,j.race([i,r])]):[2,!te.pr];case 2:return e.sent(),[2,!0];case 3:return e.sent(),[2,!1];case 4:return t.pause(),t.muted=!0,[7];case 5:return[2]}}))}))()},t.R0=function(){return new j((function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else s(t,0)}))},t}(),b0:{ox:function(t){mo.addEventListener("beforeunload",t)},Tx:function(t){mo.removeEventListener("beforeunload",t)}},T0:i}),yr(),zt(),yr(),zt(),kr(),yr(),zt(),kr(),Or(),Z(),yr(),zt(),function(t){t.N0="currentbufferingrenditionchange",t.D0="P0",t.B0="O0",t.x0="L0"}(px||(px={})),yr(),zt(),kr(),yr(),zt(),yr(),zt();var bx=function(t,n){var i,r;this.vg=Tp(),this.M0=n,this.$u=t.$u,this.F0=t.F0,this.U0=t.U0,this.H0=t.H0,this.Nw=t.Nw,this.gg=t.gg,this.X0=t.X0,this.z0=t.z0,this.V0=void 0===t.W0,this.q0=null!=(r=null==(i=t.q0)?void 0:i.split(","))?r:[]};function Tx(t,n){return t.$u===n.$u&&(t.Nw===n.Nw||!(!t.F0||!n.F0))}function Sx(t,n){return t.M0===n.M0}function Ex(t,n){for(var i=0;i<t.length;i++){if(Sx(t[i],n))return!0}return!1}yr(),zt();var Ix,Rx,Cx=function(t){function n(n,i){var r;return(r=t.call(this,im.X_)||this).yg=n||[],r.A_=i,r}return zr(n,t),n.prototype.p_=function(){return new Nx(this.yg.map((function(t){return t.y_})))},n}(Zg),Nx=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return zr(n,t),n}(Qc);yr(),zt(),function(t){t.G0="alternative",t.j0="main",t.Y0="commentary",t.Q0="",t.JE="descriptions",t.Z0="main-desc",t.K0="translation"}(Ix||(Ix={})),function(t){t.G0="alternative",t.j0="main",t.Y0="commentary",t.Q0="",t.KE="captions",t.Sg="sign",t.Ob="subtitles"}(Rx||(Rx={})),yr(),zt();var Dx=function(t){function n(n,i,r){var e;return(e=t.call(this,im.U_)||this).J0=n,e.$0=i,e.t1=r,e}return zr(n,t),n.prototype.p_=function(){return new Px(this.J0&&this.J0.y_)},n}(Zg),Px=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return zr(n,t),n}(Qc);function Bx(t){return{BC:t.BC,ou:t._0,WT:Ox(t)?t.WT:0,$u:Ox(t)?Hy.il:Hy.$d,Kp:Ox(t)?t.Kp:0}}function Ox(t){var n=t;return void 0!==n.WT&&void 0!==n.Kp}yr(),zt(),yr(),zt();var xx=function(t){function n(){return t.call(this,im.NO_QUALITY)}return zr(n,t),n}(Qc);yr(),zt();var Lx,Mx=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return zr(n,t),n}(Qc),Fx=function(t){function n(n,i,r){var e,u;(e=t.call(this)||this).pD=n,e.n1=i,e.yg=r,e.i1=void 0,e.e1=void 0,e.u1=function(){return e.qs(new mp($a(e)))},e.s1=function(){var t=e.cg;t&&e.e1!==t&&(e.e1=t,e.qs(new Dx(t)))},e.o1=function(){var t=e.fg;e.a1!==t&&(e.a1=t,e.n1.qs(new sm($a(e))),e.qs(new sm($a(e))))},e.e1=e.cg,e.a1=e.fg;var s,o,a=r.W_(0);e.hp=null!=(s=null==a?void 0:a.c1.Nw)?s:"",e.ic=null!=(o=null==a?void 0:a.c1.gg)?o:"",e.f1=null==a||null==(u=a.c1)?void 0:u.q0.map(Wx).filter(re),e.fp=Ap(),e.pD.js(px.N0,e.s1),e.pD.js(px.D0,e.o1);for(var c=0;c<e.yg.Q_;c++){e.yg.W_(c).js("update",e.u1)}return e}zr(n,t);var i=n.prototype;return i.dp=function(t){this.fg=t},i.Bh=function(){this.Zs(),this.pD.Ks(px.N0,this.s1),this.pD.Ks(px.D0,this.o1);for(var t=0,n=this.yg.Y_;t<n.length;t++){n[t].Bh()}this.yg.Wf()},Ar(n,[{key:"_g",get:function(){return this.f1}},{key:"fg",get:function(){var t=this.h1();if(!t)return!1;for(var n=0,i=this.yg.Y_;n<i.length;n++){if(i[n].c1===t)return!0}return!1},set:function(t){if(t!==this.fg&&t){for(var n=this.yg.W_(0).c1,i=this.pD.v1,r=0,e=this.yg.Y_;r<e.length;r++){var u=e[r];if(u.d1===i){n=u.c1;break}}this.l1(n)}}},{key:"cg",get:function(){if(this.fg)for(var t=this.pD.w1,n=0,i=this.yg.Y_;n<i.length;n++){var r=i[n];if(Ex(t,r.c1))return r}}},{key:"y_",get:function(){return this.m_||(this.m_=Rm(this)),this.m_}},{key:"hg",get:function(){return this.fp.toString()}},{key:"vg",get:function(){return this.fp}},{key:"wg",get:function(){return this.hp},set:function(t){t!==this.hp&&(this.hp=t,this.qs(new mp(this)))}},{key:"gg",get:function(){return this.ic}},{key:"Dg",get:function(){return this.fg?"enabled":"disabled"}},{key:"pg",get:function(){return this.i1},set:function(t){var n=this,i=[];t?i=t.filter((function(t){var i=n.cg?Bx(n.cg):void 0;return Pr.Bu.Me(i,Bx(t))})).filter((function(i){return n.yg.op(t)&&i.h$})):i=this.yg.Y_.filter((function(t){return t.h$}));0!==i.length?t!==this.i1&&(this.i1&&_c(this.i1,i)||(this.i1=t?i:void 0,this.pD._1(i.map((function(t){return t.d1}))),1===i.length&&Xc(this.pD.g1(i[0].d1,!1)),this.qs(new Cx(i,this)))):this.qs(new xx)}}]),n}(Gc),Ux=function(t){function n(){return t.apply(this,arguments)}zr(n,t);var i=n.prototype;return i.h1=function(){return this.pD.m1},i.l1=function(t){Xc(this.pD.A1(t))},Ar(n,[{key:"dg",get:function(){return Ix.j0}}]),n}(Fx),Hx=function(t){function n(){return t.apply(this,arguments)}zr(n,t);var i=n.prototype;return i.h1=function(){return this.pD.b1},i.l1=function(t){Xc(this.pD.T1(t))},Ar(n,[{key:"dg",get:function(){return Rx.j0}}]),n}(Fx),Xx=function(t){function n(n,i){var r;return(r=t.call(this)||this).d1=n,r.c1=i,r.hp="",r.h$=!0,r}zr(n,t);var i=n.prototype;return i.oI=function(){},i.Bh=function(){this.Zs()},Ar(n,[{key:"hg",get:function(){return String(this.d1.hg)}},{key:"vg",get:function(){return this.d1.hg}},{key:"BC",get:function(){return this.d1.BC}},{key:"g0",get:function(){return this.d1.g0}},{key:"wg",get:function(){var t;return null!=(t=this.hp)?t:this.c1.Nw},set:function(t){this.wg!==t&&(this.hp=t,this.qs(new Mx(this.y_)))}},{key:"W0",get:function(){return this.c1.M0.S1()}}]),n}(Gc),zx=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).m_=void 0,r}return zr(n,t),n.prototype.p_=function(){return kx(this)},Ar(n,[{key:"p0",get:function(){return 0}},{key:"_0",get:function(){var t;return(null==(t=this.d1._0)?void 0:t.E1)||""}},{key:"y_",get:function(){return this.m_||(this.m_=this.p_()),this.m_}}]),n}(Xx),Vx=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).m_=void 0,r.I1=0,r.R1=void 0,r}return zr(n,t),n.prototype.p_=function(){return Ax(this)},Ar(n,[{key:"_0",get:function(){var t;return(null==(t=this.d1._0)?void 0:t.C1)||""}},{key:"y0",get:function(){return this.I1},set:function(t){this.I1!==t&&(this.I1=t,this.qs(new Mx(this.y_)))}},{key:"m0",get:function(){var t,n;return null!=(n=null!=(t=this.R1)?t:this.d1.m0)?n:0},set:function(t){this.m0!==t&&(this.R1=t,this.qs(new Mx(this.y_)))}},{key:"WT",get:function(){var t,n;return null!=(n=null==(t=this.d1.N1)?void 0:t.WT)?n:0}},{key:"Kp",get:function(){var t,n;return null!=(n=null==(t=this.d1.N1)?void 0:t.Kp)?n:0}},{key:"y_",get:function(){return this.m_||(this.m_=this.p_()),this.m_}}]),n}(Xx);function Wx(t){return"public.accessibility.describes-video"===t?bm.Rg:"public.accessibility.transcribes-spoken-dialog"===t?bm.TRANSCRIBES_SPOKEN_DIALOG:"public.accessibility.describes-music-and-sound"===t?bm.DESCRIBES_MUSIC_AND_SOUND:"public.accessibility.easy-to-read"===t?bm.Ig:void 0}yr(),zt(),yr(),zt(),Or(),function(t){t.D1="FATAL",t.Cg="ERROR",t.P1="WARNING",t.B1="INFO",t.O1="DEBUG"}(Lx||(Lx={}));var qx=new(function(){function t(){this.fg=function(){return!1}}var n=t.prototype;return n.L1=function(t){if(!this.fg())return!1;var n=[];return!(n.length>0)||n.some((function(n){return n.toLowerCase()===t.toLowerCase()}))},n.M1=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.L1(t)&&(e=Pr).du.apply(e,["DEBUG "+t+" -"].concat(Nr(i)))},n.QT=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.L1(t)&&(e=Pr).du.apply(e,["INFO "+t+" -"].concat(Nr(i)))},n.F1=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.L1(t)&&(e=Pr).wu.apply(e,["WARNING "+t+" -"].concat(Nr(i)))},n.Ao=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.L1(t)&&(e=Pr)._u.apply(e,["ERROR "+t+" -"].concat(Nr(i)))},n.U1=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.L1(t)&&(e=Pr)._u.apply(e,["FATAL "+t+" -"].concat(Nr(i)))},t}()),Gx="HLSPlaylistParser",jx="Discontinuity",Yx="Buffering",Qx=function(){function t(t,n,i){this.pD=t,this.H1=n,this.X1=i}var n=t.prototype;return n.z1=function(){var t,n=null==(t=this.pD.V1)?void 0:t.W1;if(n&&0!==n.length){for(var i,r=null!=(i=ac(n,(function(t){return 0!==t.q1.length&&0!==t.G1.length})))?i:n[0],e=n.filter((function(t){return t!==r})),u=0,s=r.q1;u<s.length;u++){var o=s[u],a=new gp,c=[];a.sp(new zx(r,o)),c.push(o);for(var f=0;f<e.length;f++)for(var h=e[f],v=0,d=h.q1;v<d.length;v++){var l=d[v];if(Tx(l,o)&&!Ex(c,l)){a.sp(new zx(h,l)),c.push(l);break}}this.H1.q_(new Ux(this.pD,this.H1,a))}for(var w=0,_=r.G1;w<_.length;w++){var g=_[w],m=new gp,y=[];m.sp(new Vx(r,g)),y.push(g);for(var p=0;p<e.length;p++)for(var A=e[p],k=0,b=A.G1;k<b.length;k++){var T=b[k];if(Tx(T,g)&&!Ex(y,T)){m.sp(new Vx(A,T)),y.push(T);break}}this.X1.q_(new Hx(this.pD,this.X1,m))}}else qx.F1("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.j1=function(){this.Y1(this.H1),this.Y1(this.X1)},n.Y1=function(t){for(var n=[],i=0,r=t.Y_;i<r.length;i++){for(var e=r[i],u=[],s=0,o=e.yg.Y_;s<o.length;s++){var a=o[s];lc(a.d1.Q1,a.c1)||u.push(a)}for(var c=0;c<u.length;c++){var f=u[c];e.yg.Nf(f),f.Bh()}0===e.yg.Q_&&n.push(e)}for(var h=0;h<n.length;h++){var v=n[h];t.G_(v),v.Bh()}},n.Z1=function(t,n){var i=this.K1(t);void 0!==i&&(i.m0=n)},n.J1=function(t,n){var i=this.K1(t);void 0!==i&&(i.y0=n)},n.K1=function(t){for(var n=0,i=this.X1.Y_;n<i.length;n++){var r=ac(i[n].yg.Y_,(function(n){return n.c1===t}));if(void 0!==r)return r}},t}();yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),kr();var Zx=function(){function t(t){this.t2=0,this.n2=0,this.i2=d.exp(d.log(.5)/t)}var n=t.prototype;return n.e2=function(t,n){var i=d.pow(this.i2,t),r=n*(1-i)+i*this.t2;_(r)||(this.t2=r,this.n2+=t)},n.RU=function(t){var n=d.exp(d.log(.5)/t);if(n!==this.i2)if(0!==this.n2){var i=this.bJ,r=1-d.pow(n,this.n2);this.t2=i*r,this.i2=n}else this.i2=n},Ar(t,[{key:"bJ",get:function(){var t=1-d.pow(this.i2,this.n2);return this.t2/t}}]),t}(),Kx=function(){function t(n,i,r,e){void 0===n&&(n=t.u2),void 0===i&&(i=t.s2),void 0===r&&(r=t.o2),void 0===e&&(e=!1),this.a2=0,this.c2=[],this.f2=void 0,this.h2=6e4,this.d2=10,this.l2=n,this.w2=i,this._2=r,this.g2=e,this.m2=new Zx(n),this.A2=new Zx(i)}var n=t.prototype;return n.e2=function(t){var n=Pr.re(),i=t;this.g2&&void 0!==this.f2&&n-this.f2>=this.h2&&this.Wf(),this.a2+=1,this.m2.e2(1,i),this.A2.e2(1,i),this.c2.push(i),this.c2.length>this.d2&&this.c2.shift(),this.f2=n},n.b2=function(){return void 0!==this.f2&&Pr.re()-this.f2<=this.h2},n.Wf=function(){this.m2=new Zx(this.l2),this.A2=new Zx(this.w2),this.a2=0,this.c2=[],this.f2=void 0},Ar(t,[{key:"bJ",get:function(){return this.b2()?d.max(this.m2.bJ,this.A2.bJ):this._2}}]),t}();Kx.u2=2,Kx.s2=5,Kx.o2=.1,yr(),zt();var Jx=function(){function t(t){this.T2=t}var n=t.prototype;return n.tM=function(t){for(var n=0,i=this.T2;n<i.length;n++){i[n].tM(t)}},n.nM=function(t){for(var n=0,i=this.T2;n<i.length;n++){i[n].nM(t)}},n.iM=function(t,n){for(var i=0,r=this.T2;i<r.length;i++){r[i].iM(t,n)}},n.rM=function(t){for(var n=0,i=this.T2;n<i.length;n++){i[n].rM(t)}},t}();yr(),zt();var $x=function(){function t(t){this.S2=0,this.E2=t}var n=t.prototype;return n.tM=function(t){this.S2=t},n.nM=function(t){this.E2.e2(t-this.S2)},n.iM=function(t){},n.rM=function(t){},t}();yr(),zt();var tL=function(){function t(t){this.I2=0,this.R2=t}var n=t.prototype;return n.nM=function(t){this.I2=t},n.iM=function(t,n){this.R2.e2(t-this.I2,n.byteLength),this.I2=t},n.rM=function(t){},n.tM=function(t){},t}();yr(),zt();var nL,iL=function(){function t(t,n){void 0===n&&(n=0),this.C2=new rL,this.LG=0,this.N2=0,this.R2=t,this.D2=n}var n=t.prototype;return n.tM=function(t){},n.iM=function(t,n){var i=n.byteLength,r=this.N2;this.N2=i;var e=t-this.LG;this.LG=t,this.C2.yH(n);var u=!this.C2.P2(),s=i>=this.D2;r!==Pr.Bu.Ze&&u&&s&&this.R2.e2(e,i)},n.nM=function(t){this.LG=t},n.rM=function(t){},t}(),rL=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).B2=void 0,n.O2=!1,n}zr(n,t);var i=n.prototype;return i.P2=function(){return this.O2},i.yH=function(n){this.O2=!1,t.prototype.yH.call(this,n)},i.gH=function(n,i){this.B2&&this.B2!==AA.Eb||(this.O2=!0),t.prototype.gH.call(this,n,i),this.B2=n},i.IH=function(t){return!1},i.CH=function(t){},i.NH=function(t){},n}(sN);yr(),zt(),kr(),yr(),zt(),function(t){t.L2="sample"}(nL||(nL={}));var eL=function(t){function n(i,r,e,u){var s;return void 0===i&&(i=n.u2),void 0===r&&(r=n.s2),void 0===e&&(e=n.M2),void 0===u&&(u=n.o2),(s=t.call(this)||this).F2=0,s.U2=e,s.m2=new Zx(i),s.A2=new Zx(r),s._2=u,s}zr(n,t);var i=n.prototype;return i.e2=function(t,n){var i=8*n/t;this.m2.e2(t,i),this.A2.e2(t,i),this.F2+=n,this.jg(),this.qs(new Qc(nL.L2))},i.b2=function(){return this.F2>=this.U2},Ar(n,[{key:"bJ",get:function(){return this.b2()?d.min(this.m2.bJ,this.A2.bJ):this._2}}]),n}(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).H2=0,n}return zr(n,t),n.prototype.jg=function(){if(this.b2()){var t=Pr.re();t-this.H2>1e3&&(this.H2=t,jm.$r.jg(this.bJ))}},n}(Gc));eL.M2=128e3,eL.o2=Gm,eL.u2=.5,eL.s2=5;var uL=function(){function t(t){var n=t.BC>0?t.BC:eL.o2,i=t.OC>0?t.OC:Kx.o2;this.R2=new eL(eL.u2,eL.s2,1,n),this.X2=new Kx(Kx.u2,Kx.s2,i)}var n=t.prototype;return n.DC=function(t){if("segment"===t.$u||"preload-hint"===t.$u){var n=[new $x(this.X2)];return"stream"!==t.Pd||!function(t){return"segment"===t.$u&&"initialization-segment"!==t.fl}(t)&&"preload-hint"!==t.$u?n.push(new tL(this.R2)):n.push(new iL(this.R2,1e3)),new Jx(n)}},n.z2=function(t){this.R2=new eL(eL.u2,eL.s2,1,t)},Ar(t,[{key:"BC",get:function(){return this.R2.bJ}},{key:"OC",get:function(){return this.X2.bJ}}]),t}();yr(),zt();var sL=function(t){function n(n){var i;return(i=t.call(this,px.x0)||this).Ao=n,i}return zr(n,t),n}(Qc);yr(),zt();var oL=function(){function t(t){this.v$=t}return t.prototype.MU=function(t){var n={$u:lb.pI,CN:[],_q:[{md:t}]};return j.resolve(void 0!==this.v$.MU([n]))},t}();yr(),zt(),kr(),yr(),zt(),yr(),zt();var aL=function(t,n,i,r,e){return t.filter((function(t){return!!lc(r,t)||1.1*t.BC<=i.BC}))},cL=function(t,n,i,r,e){return t.filter((function(t){if(lc(r,t))return!0;for(var u=1/0,s=0,o=t.Q1;s<o.length;s++){var a,c,f=o[s];u=d.min(u,null!=(c=null!=(a=f.M0.V2)?a:f.M0.W2)?c:1/0)}u===1/0&&(u=1);var h=2*i.OC+t.BC*u/i.BC;return t.BC<=n.BC||e.q2>h}))},fL=function(t,n,i,r,e){return tc(t,(function(t,n){return n.BC-t.BC}))},hL=function(t,n,i,r,e){return t.every((function(t){return t.G2&&!_(t.G2)}))?tc(t,(function(t,n){return n.G2-t.G2})):t},vL=function(t,n,i,r,e){return 0===r.length?t:tc(t,(function(t,n){var i=lc(r,t)?1:0;return(lc(r,n)?1:0)-i}))},dL=function(t,n,i,r,e){return t.filter((function(t){if(!t._0||!n._0)return!0;if(t._0.C1){if(!n._0.C1)return!1;if(t._0.C1.split(".")[0]!==n._0.C1.split(".")[0])return!1}if(t._0.E1){if(!n._0.E1)return!1;if(t._0.E1.split(".")[0]!==n._0.E1.split(".")[0])return!1}return t._0.j2===n._0.j2}))},lL=function(t,n,i,r,e){if(Pr.Bu.He)return t;for(var u,s,o=Pr.Bu.Xe,a=1.05*(null!=(u=null==o?void 0:o.width)?u:e.Kp),c=1.05*(null!=(s=null==o?void 0:o.height)?s:e.WT),f=0;f<t.length;f++){var h=t[f];if(void 0===h.N1)return t;var v=h.N1.WT,d=h.N1.Kp;if(v<=c&&d<=a)return t.slice(f,t.length)}return[]},wL=function(t,n,i,r,e){return function(t,n){var i=n.Y2;if(void 0===i&&!Pr.Bu.pr)return t;if(!1===i)return t;for(var r=0;r<t.length;r++){var e=t[r];if(void 0===e.N1)return t;var u=e.N1.WT,s=e.N1.Kp;if(u===n.WT&&s===n.Kp)return t.slice(r,t.length);if(u<n.WT||s<n.Kp)return t.slice(0===r?r:r-1,t.length)}return[]}(t,e)};var _L,gL,mL,yL,pL="AbrEvaluator",AL=function(){function t(t){this.mP=t,this.Q2=[dL,aL,cL,fL,lL,wL,hL,vL]}var n=t.prototype;return n.Z2=function(t){this.Q2=t},n.K2=function(t,n,i,r){var e=this;return ta((function(){return ia(this,(function(u){switch(u.label){case 0:return[4,e.J2(t,n,i,r)];case 1:return[2,u.sent()[0]]}}))}))()},n.J2=function(t,n,i,r){var e=this;return ta((function(){var u,s,o,a,c,h;return ia(this,(function(v){switch(v.label){case 0:if(0===t.length)throw new f("AbrEvaluator - Unable to select optimal variant stream from an empty list.");qx.M1(pL,"Performing optimal variant stream selection."),u=e.t3,s=t,o=0,a=e.Q2,v.label=1;case 1:return o<a.length?(c=a[o],h=c(s,n,u,i,r),Array.isArray(h)?(s=h,[3,4]):[3,2]):[3,5];case 2:return[4,h];case 3:s=v.sent(),v.label=4;case 4:return o++,[3,1];case 5:return 0===s.length?(qx.F1(pL,"No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),[2,[mc(t,(function(t){return t.BC}))]]):[2,s]}}))}))()},Ar(t,[{key:"t3",get:function(){return this.mP.$L}}]),t}();function kL(t,n){return[t,void 0!==n?t+n-1:nu]}function bL(t){return Boolean(t.MT)}function TL(t){return Boolean(t.n3)}function SL(t){return t?t.i3?t.Bw+"@"+t.i3.CD+"-"+(null!=(n=t.i3.Q_)?n:""):""+t.Bw:"";var n}function EL(t,n){if(n===t)return!0;if(n.Bw!==t.Bw)return!1;if(!t.i3)return!0;if(n.i3){var i=kL(t.i3.CD,t.i3.Q_),r=kL(n.i3.CD,n.i3.Q_);if(i[0]<=r[0])return void 0===i[1]||void 0!==r[1]&&i[1]>=r[1]}return!1}function IL(t,n){return t===n||t.Bw===n.Bw&&(t.i3&&n.i3?t.i3.CD===n.i3.CD&&t.i3.Q_===n.i3.Q_:t.i3===n.i3)}function RL(t){var n=!!t.r3||void 0;return{hg:t.hg,e3:t.e3,YN:t.YN,u3:t.u3,Sm:t.Sm,s3:t.s3,r3:n,o3:t.a3,c3:t.f3,h3:t.h3,v3:t.v3}}function CL(t,n){var i,r,e;return{E1:null!=(i=n.E1)?i:null==t?void 0:t.E1,C1:null!=(r=n.C1)?r:null==t?void 0:t.C1,j2:null!=(e=n.j2)?e:null==t?void 0:t.j2}}function NL(t,n,i,r){var e=[],u=ac(i,(function(t){return t.d3===la}));if(void 0!==u){var s=u.Bw?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(u.Bw.toLowerCase()):"cenc";if(void 0!==s){for(var o=0;o<i.length;o++){var a=i[o];if(a.d3!==la)for(var c=0,f=La(a.d3);c<f.length;c++){var h=f[c];e.push({Ff:h,FC:a.l3?[a.l3]:[],UC:void 0,$R:void 0})}}if(e.length)return{HI:t,w3:{_3:s,XI:u.XI},g3:e,m3:n===Hy.$d?r.slice():[],y3:n===Hy.il?r.slice():[],Fj:!1}}}}function DL(t,n){if(!t)return n;if(!n)return t;var i,r=[],e=ua();return PL(r,e,t.g3),PL(r,e,n.g3),{HI:t.HI,w3:{_3:t.w3._3,XI:null!=(i=t.w3.XI)?i:n.w3.XI},g3:r,m3:BL(t.m3,n.m3,lc),y3:BL(t.y3,n.y3,lc),Fj:t.Fj||n.Fj||!1}}function PL(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],u=e.Ff.hs,s=void 0;n.has(u)?(s=n.get(u)).FC=BL(s.FC,e.FC,OL):(s=na({},e),t.push(s),n.set(u,s))}}function BL(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var u=n[e];i(r,u)||r.push(u)}return r}function OL(t,n){for(var i=0;i<t.length;i++){if(_f(t[i],n))return!0}return!1}function xL(t,n){var i,r=t.A3;if(r){for(var e=t.jO,u=[],s=0,o=t._0;s<o.length;s++){var a=o[s];u.push(e+'; codecs="'+a+'"')}i=NL(n||{},t.$u,r,u)}for(var c=0,f=t.b3;c<f.length;c++){i=DL(i,LL(f[c],n))}return i}function LL(t,n){return NL(n||{},t.$u,t.A3||[],[t.md])}function ML(t,n){switch(n.$u){case da.Qu:return t.widevine;case da.Yu:return t.playready;case da.Ku:return t.fairplay;case da.Zu:return t.clearkey}}function FL(t,n,i){if(0!==t.length)return t.map((function(t){return{contentType:t,encryptionScheme:n,robustness:i}}))}function UL(t,n,i,r,e){return HL.apply(this,arguments)}function HL(){return(HL=ta((function(t,n,i,r,e){var u,s,o,a,c,f,h,v,d,l,w;return ia(this,(function(_){switch(_.label){case 0:return u=n.filter((function(t){return Fa(t,"audio")})),s=n.filter((function(t){return Fa(t,"video")})),o=[],a=i.map((function(t){return XL(t,r,e)})),[4,j.all(a)];case 1:for(c=_.sent().filter(re),h=WL(c,null!=(f=null==t?void 0:t.preferredKeySystems)?f:[]),v=0;v<h.length;v++)d=h[v],l=ML(null!=t?t:{},d.Ff),w="cbcs",o.push({Ff:d.Ff,FC:d.FC,UC:d.UC,$R:d.$R,VN:[{initDataTypes:[d.Ff.us],audioCapabilities:FL(u,w,null==l?void 0:l.audioRobustness),videoCapabilities:FL(s,w,null==l?void 0:l.videoRobustness),persistentState:null==l?void 0:l.persistentState,distinctiveIdentifier:null==l?void 0:l.distinctiveIdentifier}]});return[2,o]}}))}))).apply(this,arguments)}function XL(t,n,i){return zL.apply(this,arguments)}function zL(){return(zL=ta((function(t,n,i){var r,e;return ia(this,(function(u){switch(u.label){case 0:return t.W0&&t.T3?t.ol!==mL.S3?[2]:(r=VL(t.T3))?r.hs!==Ia?[3,1]:[2,{Ff:r,FC:[],UC:void 0,$R:t.W0}]:[2]:[2];case 1:return r.hs!==Sa||t.T3!==Ca?[3,2]:[2,{Ff:r,FC:[],UC:t.W0,$R:void 0}];case 2:return qx.QT("HLSDrmUtils","Fetching key uri "+t.W0+"."),[4,n.xd({Md:t.W0,vl:i})];case 3:return[4,u.sent().wd()];case 4:return e=u.sent(),[2,{Ff:r,FC:[e],UC:void 0,$R:void 0}];case 5:return[2]}}))}))).apply(this,arguments)}function VL(t){return t===ka?Da:t===pa?Na:"com.apple.streamingkeydelivery"===t?Ba:t===Ca?Oa:void 0}function WL(t,n){if(0===n.length)return t;var i=function(t){var i=n.indexOf(t.Ff.hs);return i>=0?i:n.length};return tc(t,(function(t,n){return i(t)-i(n)}))}function qL(t){if("#"!==t[0])throw new f("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function GL(t){return"#"!==t[0]?t:t.split(":",1)[0]}function jL(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new f("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function YL(t){var n=$L(jL(t));if(void 0===n)throw new f("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function QL(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,r=i.exec(t);null!==r;){var e=r[1],u=void 0;u=void 0!==r[3]?r[3]:r[2],null!==e?n[e]=u:qx.F1(Gx,"Ignoring unparsable M3U8 attribute name: "+t+"."),r=i.exec(t)}return n}function ZL(t,n){var i,r,e=QL(t);try{i=e.URI?Pr.Du(e.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return _L.$d;case"VIDEO":return _L.il;case"SUBTITLES":return _L.Ob;case"CLOSED-CAPTIONS":return _L.E3}throw new f("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(e.TYPE)}catch(n){throw new f("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=e["GROUP-ID"],s=e.LANGUAGE,o=e["ASSOC-LANGUAGE"],a=e.NAME,c="YES"===e.DEFAULT,h="YES"===e.AUTOSELECT,v="YES"===e.FORCED,d=e["INSTREAM-ID"],l=e.CHARACTERISTICS,w=e.CHANNELS;if(u||qx.F1(Gx,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),s||qx.F1(Gx,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),a||qx.F1(Gx,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===_L.E3?(i&&qx.F1(Gx,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),d?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(d)||qx.F1(Gx,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):qx.F1(Gx,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):d&&qx.F1(Gx,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!h&&(h=!0,e.AUTOSELECT&&qx.F1(Gx,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),e.FORCED&&r!==_L.Ob&&qx.F1(Gx,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===a)throw new f("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{I3:o,R3:w,q0:l,X0:u,U0:h,F0:c,H0:v,z0:d,gg:s,Nw:a,$u:r,W0:i}}function KL(t,n,i){var r,e,u,s=QL(t);try{r=Pr.Du(i,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),r=Number(n[1]);if(_(i)||_(r))throw new f("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{Kp:i,WT:r}}(s.RESOLUTION),e=function(t){if(!t)return;for(var n,i,r,e=t.split(","),u=0;u<e.length;u++){var s=e[u],o=s.trim();Ua(o,"mp4a")?n="mp4a.40.05"===o?"mp4a.40.5":"mp4a.40.02"===o?"mp4a.40.2":o:"ac-3"===o||"ec-3"===o?n=o:Ua(o,"avc")||Ua(o,"hvc1")||Ua(o,"hev1")||Ua(o,"dvh")||Ua(o,"vp09")||Ua(o,"av01")?i=s:r=r?r+","+o:o}return{E1:n,C1:i,j2:r}}(s.CODECS)}catch(n){throw new f("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var o=$L(s.BANDWIDTH),a=$L(s["AVERAGE-BANDWIDTH"]),c=$L(s.SCORE),h=$L(s["FRAME-RATE"]),v=s["HDCP-LEVEL"],d=[];if(void 0!==s["ALLOWED-CPC"]){var l,w=s["ALLOWED-CPC"].split(",");(l=d).push.apply(l,Nr(w.map((function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))))}var g=s["VIDEO-RANGE"],m=s.AUDIO,y=s.VIDEO,p=s.SUBTITLES,A=s["CLOSED-CAPTIONS"];if(void 0===o?qx.F1(Gx,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==a&&a>o&&qx.F1(Gx,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),e||qx.QT(Gx,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),e&&e.C1&&void 0===u&&qx.QT(Gx,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===v||lc(["TYPE-0","TYPE-1","NONE"],v)||qx.F1(Gx,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===g||lc(["SDR","PQ","HLG"],g)||qx.F1(Gx,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===o)throw new f("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{C3:d,N3:m,g0:a,BC:o,D3:A,_0:e,m0:h,P3:v,N1:u,G2:c,B3:p,W0:r,O3:y,x3:g}}function JL(t,n){var i=QL(t);if(!i.URI)throw new f("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return KL(t,n,i.URI)}catch(n){throw new f("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function $L(t){var n=Number(t);return _(n)?void 0:n}function tM(t,n){var i,r,e=QL(t);try{i=function(t){switch(t){case"NONE":return mL.dD;case"AES-128":return mL.L3;case"SAMPLE-AES":return mL.S3;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new f("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(e.METHOD),r=e.URI?aM(e.URI,n):void 0}catch(n){throw new f("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var u,s,o,a,c,h=e.KEYFORMAT,v=e.IV,d=e.KEYFORMATVERSIONS;if(i!==mL.dD){if(o=h||Ca,"SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(VL(o)!==Da)throw new f("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");u=mL.S3}else u=i;s=r,a=v?Ah(v):void 0,c=d?d.split("/").map((function(t){return Number(t)})):[1]}else u=mL.dD,(r||h||d||v)&&qx.F1(Gx,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{ol:u,W0:s,M3:a,T3:o,F3:c}}function nM(t){var n=jL(t);if(!n)return[void 0,""];var i=ra(n.split(","),2),r=i[0],e=i[1];return[$L(r),e]}function iM(t,n){var i=t.split("@"),r=$L(i[0]),e=i.length>1?$L(i[1]):n;if(void 0===r||void 0===e)throw new f("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{CD:e,Q_:r}}function rM(t){if(void 0!==t)return iM(t,void 0)}function eM(t,n){return iM(jL(t),n)}function uM(t,n){var i=QL(t);try{return{Bw:aM(i.URI,n),i3:rM(i.BYTERANGE)}}catch(n){throw new f("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function sM(t){var n=jL(t);if(!n)throw new f("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!au(i))throw new f("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function oM(t){var n,i,r,e=QL(t),u=e["START-DATE"],s=e["END-DATE"],o=$L(e["PLANNED-DURATION"]),a=$L(e.DURATION);void 0!==e["SCTE35-CMD"]&&(n=Ah(e["SCTE35-CMD"]).buffer),e["SCTE35-IN"]&&(i=Ah(e["SCTE35-IN"]).buffer),e["SCTE35-OUT"]&&(r=Ah(e["SCTE35-OUT"]).buffer);var c,h,d="YES"===e["END-ON-NEXT"],l=function(t){for(var n={},i=0,r=v.keys(t);i<r.length;i++){var e=r[i],u=t[e];void 0!==u&&Ua(e,"X-")&&(n[e]=u)}return n}(e),w=e.ID,_=e.CLASS;if(void 0===u)qx.F1(Gx,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+u+".");else if(c=new Date(u),h=void 0!==s?new Date(s):void 0,au(c)||qx.F1(Gx,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+c+"."),void 0!==a){var g=new Date(c.getTime()+1e3*a);h?h.getTime()!==g.getTime()&&(qx.F1(Gx,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),h=g):h=g}else h&&(a=(c.getTime()-h.getTime())/1e3);if(d&&(e.CLASS||qx.F1(Gx,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),e.DURATION&&qx.F1(Gx,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),h&&qx.F1(Gx,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===w&&qx.F1(Gx,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===w||void 0===c)throw new f("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{hg:w,e3:_,YN:c,u3:h,Sm:a,s3:o,f3:n,v3:i,h3:r,r3:d,a3:l}}function aM(t,n){if(void 0===t)throw new f("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return Pr.Du(t,n)}function cM(t,n){var i=QL(t),r=$L(i.DURATION),e=aM(i.URI,n),u=rM(i.BYTERANGE),s="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===r)throw new f("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{Sm:r,W0:{Bw:e,i3:u},U3:s,H3:o}}function fM(t){var n=QL(t);return{X3:"YES"===n["CAN-BLOCK-RELOAD"],z3:$L(n["CAN-SKIP-UNTIL"]),V3:"YES"===n["CAN-SKIP-DATERANGES"],W3:$L(n["HOLD-BACK"]),q3:$L(n["PART-HOLD-BACK"])}}function hM(t,n){var i=QL(t);if(void 0===i.URI)throw new f("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var r=aM(i.URI,n),e=$L(i["LAST-MSN"]),u=$L(i["LAST-PART"]);if(void 0===e)throw new f("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{W0:r,G3:e,j3:u}}function vM(t,n){var i,r=QL(t),e=$L(r["SKIPPED-SEGMENTS"]),u=null==(i=r["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(!e)throw new f("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{Y3:e,Q3:u,Z3:n}}function dM(t){var n=$L(QL(t)["PART-TARGET"]);if(void 0===n)throw new f("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function lM(t){switch(jL(t)){case"VOD":return yL.K3;case"EVENT":return yL.J3;default:return qx.F1(Gx,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),yL.Hd}}function wM(t,n){var i,r,e=QL(t);try{i=function(t){if(void 0===t)throw new f("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return gL.t4;if("PART"===t)return gL.n4;throw new f("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(e.TYPE),r=aM(e.URI,n)}catch(n){throw new f("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var u,s=$L(e["BYTERANGE-START"]),o=$L(e["BYTERANGE-LENGTH"]);return void 0===s&&void 0===o||(u={CD:s||0,Q_:o}),{$u:i,W0:{Bw:r,i3:u}}}yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),yr(),zt(),yr(),zt(),function(t){t[t.$d=0]="$d",t[t.il=1]="il",t[t.Ob=2]="Ob",t[t.E3=3]="E3"}(_L||(_L={})),function(t){t[t.t4=0]="t4",t[t.n4=1]="n4"}(gL||(gL={})),function(t){t[t.dD=0]="dD",t[t.L3=1]="L3",t[t.S3=2]="S3"}(mL||(mL={})),function(t){t[t.Hd=0]="Hd",t[t.K3=1]="K3",t[t.J3=2]="J3"}(yL||(yL={})),yr(),zt(),Or(),yr(),zt(),yr(),zt(),yr(),zt();var _M=function(){function t(n){this.i4=0,this.r4=t.e4(n)}var n=t.prototype;return n.u4=function(){var t=this.r4[this.i4];return this.i4+=1,t},n.s4=function(){return this.r4[this.i4]},n.Ho=function(){var n=new t("");return n.i4=0,n.r4=this.r4.slice(this.i4),n},t.e4=function(t){return t?t.split(/[\r\n]+/).map((function(t){return t.trim()})).filter((function(t){return t})):[]},t}();function gM(t,n,i){var r=t.W0,e=t.hT,u=t.o4,s=t.CD;switch(i){case"#EXT-X-VERSION":e=function(t){var n=YL(t);return _(n)?(qx.F1(Gx,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":u=!0;break;case"#EXT-X-START":s=function(t){var n=QL(t),i=$L(n["TIME-OFFSET"]);if(void 0===i)throw new f("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{a4:i,c4:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":qx.F1(Gx,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:qx.QT(Gx,"Ignoring unrecognized line or comment: "+n+".")}return{W0:r,hT:e,o4:u,CD:s}}function mM(t,n){return t.map((function(t){return t.ol===mL.dD||t.M3?t:na({},t,{M3:yM(n)})}))}function yM(t){var n=new DataView(new ArrayBuffer(16)),i=new ph;return i.Mo(8),function(t,n,i,r){void 0===r&&(r=!1);var e=i.getHighBitsUnsigned(),u=i.getLowBitsUnsigned(),s=r?e:u;Wf(t,n,r?u:e,r),Wf(t,n,s,r)}(n,i,$e.fromNumber(t)),new g(n.buffer)}function pM(t,n,i){qx.QT(Gx,"Parsing M3U8 playlist at "+t+".");var r=new _M(i);if("#EXTM3U"!==r.u4())throw new f("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(i)?function(t,n){var i;try{i=Pr.Du(t)}catch(n){throw qx.F1(Gx,"The master playlist has no valid base URI: "+t+"."),new f("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var r={W0:i,o4:void 0,CD:void 0,hT:void 0},e=[],u=[],s=[],o=[];;){var a=n.u4();if(!a)break;try{var c=qL(a);switch(c){case"#EXT-X-MEDIA":var h=ZL(a,i);e.push(h);break;case"#EXT-X-STREAM-INF":var v=KL(a,i,n.u4());u.push(v);break;case"#EXT-X-I-FRAME-STREAM-INF":var d=JL(a,i);s.push(d);break;case"#EXT-X-SESSION-DATA":qx.F1(Gx,"Ignoring unsupported #EXT-X-SESSION-DATA: "+a+".");break;case"#EXT-X-SESSION-KEY":var l=tM(a,i);o.push(l);break;default:r=gM(r,a,c)}}catch(t){qx.F1(Gx,"Ignoring unparsable line: "+a,t)}}var w,_=r.hT,g=null!=(w=r.o4)&&w,m=r.CD;return void 0===_&&(qx.F1(Gx,"The playlist has no #EXT-X-VERSION, assuming version is 2."),_=2),_>=8&&(u.some((function(t){return void 0!==t.G2}))||s.some((function(t){return void 0!==t.G2})))&&(u.some((function(t){return void 0===t.G2}))||s.some((function(t){return void 0===t.G2})))&&qx.F1(Gx,"If one master playlist variant stream has a SCORE, all variants should have it."),{W0:i,hT:_,o4:g,CD:m,f4:s,h4:o,MT:e,v4:u}}(t,r):function(t,n,i){var r,e,u,s,o,a,c,h,v,d,l,w,_,g,m,y,p,A,k={W0:t,o4:void 0,CD:void 0,hT:void 0},b=[],T=!1,S=!1,E=[],I=ua(),R=[],C=[],N=!1,D=!1,P=[],B=[],O=0,x=!1,L=yL.Hd,M=!1,F=0;try{A=Pr.Du(t)}catch(n){throw qx.F1(Gx,"The media playlist has no valid base URI: "+t+".",n),new f("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var U=i.Ho();void 0===m||void 0===y;){var H=U.u4();if(!H)break;try{switch(GL(H)){case"#EXT-X-MEDIA-SEQUENCE":m=YL(H);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":y=YL(H)}}catch(t){qx.F1(Gx,"Ignoring unparsable line: "+H,t)}}void 0===m&&(qx.QT(Gx,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),m=0),void 0===y&&(qx.QT(Gx,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),y=0);for(var X=m,z=y;;){var V=i.u4();if(!V)break;var W=!1;try{var q=GL(V);switch(q){case"#EXTINF":var G;W=!0,o=(G=ra(nM(V),2))[0],a=G[1];break;case"#EXT-X-BYTERANGE":W=!0,(c=eM(V,O))&&(O=c.CD+c.Q_);break;case"#EXT-X-DISCONTINUITY":W=!0,N=!0,z++;break;case"#EXT-X-KEY":var j;W=!0;var Y,Q=tM(V,A);if(Q.ol===mL.dD){I.clear(),_=void 0;break}var Z=null!=(Y=null==(j=Q.T3)?void 0:j.toString())?Y:"identity";I.set(Z,Q),Q.ol===mL.L3&&(_=Q);break;case"#EXT-X-MAP":W=!0,v=uM(V,A),d=_;break;case"#EXT-X-PROGRAM-DATE-TIME":W=!0,l=sM(V);break;case"#EXT-X-GAP":W=!0,D=!0;break;case"#EXT-X-BITRATE":W=!0,w=YL(V);break;case"#EXT-X-TARGETDURATION":r=YL(V);break;case"#EXT-X-DATERANGE":var K=oM(V);b.push(K);break;case"#EXT-X-PART":W=!0;var J=cM(V,A);C.push(J);break;case"#EXT-X-PRELOAD-HINT":var $=wM(V,A);P.push($);break;case"#EXT-X-SKIP":E.length>0&&qx.F1(Gx,"#EXT-X-SKIP must appear before any #EXTINF tags."),W=!0;var tt=vM(V,X);F=tt.Y3,p=tt.Q3,X+=tt.Y3;break;case"#EXT-X-SERVER-CONTROL":var nt=fM(V);T=nt.X3,e=nt.z3,S=nt.V3,u=nt.W3,s=nt.q3;break;case"#EXT-X-RENDITION-REPORT":var it=hM(V,A);B.push(it);break;case"#EXT-X-PART-INF":g=dM(V);break;case"#EXT-X-MEDIA-SEQUENCE":W&&qx.F1(Gx,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":W&&qx.F1(Gx,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":x=!0;break;case"#EXT-X-PLAYLIST-TYPE":L=lM(V);break;case"#EXT-X-I-FRAMES-ONLY":M=!0;break;default:if(Ua(q,"#"))k=gM(k,V,q);else{h=Pr.Du(V,A);var rt=v?{W0:v,d4:d}:void 0,et={h4:mM(aa(I),X),jE:R,l4:C,Sm:o,PN:a,w4:N,W0:{i3:c,Bw:h},_4:rt,g4:l,H3:D,m4:w,Z3:X,y4:z};E.push(et),X++,R=[],C=[],o=void 0,a=void 0,N=!1,c=void 0,h=void 0,l=void 0,D=!1,w=void 0}}}catch(t){qx.F1(Gx,"Ignoring unparsable line: "+V,t)}}if(C.length){var ut=v?{W0:v,d4:_}:void 0,st={h4:mM(aa(I),X),jE:R,l4:C,Sm:o,PN:a,w4:N,W0:void 0,_4:ut,g4:l,H3:D,m4:w,Z3:X,y4:z};E.push(st)}var ot,at=k.hT,ct=null!=(ot=k.o4)&&ot,ft=k.CD;void 0===at&&(qx.F1(Gx,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),at=2),void 0===r&&qx.F1(Gx,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var ht=E.length,vt=ht>0;vt||qx.F1(Gx,"The HLS media playlist contains no segments.");var dt=vt&&E[ht-1].l4.length>0;return dt&&void 0===g&&qx.F1(Gx,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===s&&qx.F1(Gx,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{X3:T,z3:e,V3:S,A4:b,y4:y,b4:x,o4:ct,W3:u,T4:M,Z3:m,Y3:F,q3:s,V2:g,S4:L,E4:P,Q3:p,I4:B,R4:r,n3:E,CD:ft,W0:A,C4:n,hT:at}}(t,n,r)}yr(),zt(),kr(),Or(),yr(),zt(),kr();var AM=function(){function t(t,n,i){var r,e,u,s;this.hg=kM++,this.G2=void 0,this.N1=void 0,this.N4=void 0,this.D4=[],this.M0=n,this.BC=t.BC,this.N4=t.g0,this.G2=t.G2,this.P4=t._0?bM(t._0):void 0,this.N1=t.N1,this.m0=t.m0,this.N3=null!=(r=t.N3)?r:"B4"+this.hg,this.O3=null!=(e=t.O3)?e:"O4"+this.hg,this.B3=null!=(u=t.B3)?u:"x4"+this.hg,this.D3=null!=(s=t.D3)?s:"L4"+this.hg,this.D4=i}var n=t.prototype;return n.M4=function(t){for(var n=0,i=this.D4;n<i.length;n++){var r=i[n].M0.M4(t);if(void 0!==r)return r}},n.F4=function(t){for(var n=0,i=this.D4;n<i.length;n++){var r=i[n].M0.F4(t);if(void 0!==r)return r}},n.U4=function(t){hc(this.D4,t)},Ar(t,[{key:"W0",get:function(){return this.M0.W0}},{key:"_0",get:function(){return this.P4},set:function(t){this.P4=t?bM(t):void 0}},{key:"g0",get:function(){return this.N4||this.BC}},{key:"H4",get:function(){if(!this.D4.length)return gE.uP();var t,n,i=null!=(n=yc(this.D4,(function(n){return null!=(t=n.M0.X4)?t:0})))?n:this.Q1[0],r=i.M0.n3;if(!r.length||r.length<2)return gE.uP();var e,u,s=i.M0.b4?r[0].Tp:r[1].Tp,o=r[r.length-1].Sp-this.Q1.reduce((function(t,n){return d.max(null!=(u=null!=(e=n.M0.q3)?e:n.M0.W3)?u:0,t)}),0);return o<s?gE.uP():new gE([s,o])}},{key:"Q1",get:function(){return this.D4}},{key:"q1",get:function(){return this.D4.filter((function(t){return t.$u===_L.$d}))}},{key:"G1",get:function(){return this.D4.filter((function(t){return t.$u===_L.il}))}},{key:"z4",get:function(){return this.D4.filter((function(t){return t.$u===_L.Ob}))}},{key:"V4",get:function(){return this.D4.filter((function(t){return t.$u===_L.E3}))}}]),t}(),kM=0;function bM(t){return na({},t,{C1:t.C1?Sl(t.C1):void 0})}yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),kr();var TM,SM=function(){function t(t,n,i,r,e){this.DJ=void 0,this.W4=t,this.q4=n,this.Fp=i,this.G4=r,this.Sm=e.Sm,this.W0=e.W0,this.U3=e.U3,this.H3=e.H3}return t.prototype.j4=function(t,n){this.Fp=t,this.G4=n},Ar(t,[{key:"Tp",get:function(){var t;return this.Fp+(null!=(t=this.Y4)?t:0)}},{key:"Q4",get:function(){return this.G4}},{key:"h4",get:function(){return this.W4.h4}}]),t}(),EM=function(){function t(t,n,i,r,e){this.DJ=void 0,this.Z4=[],this.K4=0,this.Fp=t,this._4=e._4,this.J4=i,this.G4=r,this.nc=e.Sm,this.g4=e.g4,this.t5=e.W0,this.H3=e.H3,this.Z3=e.Z3,this.w4=e.w4,this.y4=n,this.h4=e.h4,this.n5(e.l4)}var n=t.prototype;return n.i5=function(t){return this.Z4[t]},n.r5=function(t){for(var n=0;n<this.Z4.length;n++){var i=this.Z4[n],r=i.Tp,e=r+i.Sm;if(r<=t&&t<=e)return t===e&&n+1<this.Z4.length?this.Z4[n+1]:i}},n.e5=function(t){for(var n=this.Z4.length-1;n>=0;n--){var i=this.Z4[n];if(i.Tp<=t)return i}},n.u5=function(t){for(var n=this.e5(t);n&&!n.U3&&n.q4>0;)n=this.i5(n.q4-1);return n},n.j4=function(t,n,i){var r=t.l4.length!==this.Z4.length||i!==this.G4;this.J4=n,this.G4=i,this.nc=t.Sm,null!=this.g4||(this.g4=t.g4),void 0===this.t5&&(this.t5=t.W0),r&&this.n5(t.l4)},n.n5=function(t){this.Z4.length>t.length&&(this.Z4.length=t.length);for(var n=0,i=0;i<t.length;i++){var r=t[i],e=this.G4&&i===t.length-1,u=this.Fp+n;if(i<this.Z4.length)this.Z4[i].j4(u,e);else{var s=new SM(this,i,u,e,r);this.Z4.push(s)}n+=r.Sm}this.K4=n},n.s5=function(){wc(this.Z4),this.K4=0},Ar(t,[{key:"Tp",get:function(){var t;return this.Fp+(null!=(t=this.o5)?t:0)}},{key:"a5",get:function(){return this.Fp}},{key:"Sm",get:function(){return this.nc}},{key:"W0",get:function(){return this.t5}},{key:"c5",get:function(){return this.J4}},{key:"Q4",get:function(){return this.G4}},{key:"l4",get:function(){return this.Z4}},{key:"f5",get:function(){return this.K4}},{key:"Sp",get:function(){var t;return this.Tp+(null!=(t=this.nc)?t:this.K4)}},{key:"Y4",get:function(){return this.o5},set:function(t){this.o5=t;for(var n=0,i=this.Z4;n<i.length;n++){i[n].Y4=t}}}]),t}();yr(),zt(),function(t){t.h5="YES",t.v5="v2"}(TM||(TM={})),yr(),zt();var IM=function(t){function n(){return t.apply(this,arguments)}return zr(n,t),n}(Rc);yr(),zt(),yr(),zt(),kr(),yr(),zt();var RM=function(t){function n(n,i){var r,e=CM(i,n.Sm,n.YN,n.u3);return(r=t.call(this,i,e,void 0,!1,n.hg)||this).d5=n.e3,r.l5=n.YN,r.w5=n.u3,r.nc=n.Sm,r._5=n.s3,r.g5=Boolean(n.r3),r.m5=n.o3||{},r.y5=n.c3,r.p5=n.h3,r.A5=n.v3,r.k5(),r.b5(),r}zr(n,t);var i=n.prototype;return i.Df=function(t){var n=!1;void 0===this.d5&&void 0!==t.e3&&(n=!0,this.d5=t.e3),void 0===this.w5&&void 0!==t.u3&&(n=!0,this.w5=t.u3),void 0===this.nc&&void 0!==t.Sm&&(n=!0,this.nc=t.Sm),void 0===this._5&&void 0!==t.s3&&(n=!0,this._5=t.s3),!this.g5&&t.r3&&(n=!0,this.g5=t.r3),n=this.updateCustomAttributes(t,n),void 0===this.y5&&void 0!==t.c3&&(n=!0,this.y5=t.c3),void 0===this.p5&&void 0!==t.h3&&(n=!0,this.p5=t.h3),void 0===this.A5&&void 0!==t.v3&&(n=!0,this.A5=t.v3),this.k5(),this.b5(),this.T5(),n&&this.qs(new Wp(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.o3)for(var r=0,e=v.keys(t.o3);r<e.length;r++){var u=e[r];void 0===this.m5[u]&&(i=!0,this.m5[u]=t.o3[u])}return i},i.k5=function(){this.nc&&!this.w5&&(this.w5=new Date(this.l5.getTime()+hu(this.nc)))},i.b5=function(){this.w5&&!this.nc&&(this.nc=fu(this.w5.getTime()-this.l5.getTime()))},i.T5=function(){this.Up===1/0&&(this.w5||this.nc)&&(this.Up=CM(this.Fp,this.nc,this.l5,this.w5))},Ar(n,[{key:"y_",get:function(){return this.m_||(this.m_=function(t){return hm(Xp(t),{get content(){return t.Ep},get class(){return t.e3},get startDate(){return t.YN},get endDate(){return t.u3},get duration(){return t.Sm},get plannedDuration(){return t.s3},get endOnNext(){return t.r3},get scte35Cmd(){return t.c3},get scte35Out(){return t.h3},get scte35In(){return t.v3},get customAttributes(){return t.o3}})}(this)),this.m_}},{key:"e3",get:function(){return this.d5}},{key:"YN",get:function(){return this.l5}},{key:"u3",get:function(){return this.w5}},{key:"Sm",get:function(){return this.nc}},{key:"s3",get:function(){return this._5}},{key:"r3",get:function(){return this.g5}},{key:"c3",get:function(){return this.y5}},{key:"h3",get:function(){return this.p5}},{key:"v3",get:function(){return this.A5}},{key:"o3",get:function(){return this.m5}}]),n}(Yp);function CM(t,n,i,r){return re(n)?t+n:r?t+(fu(r.getTime())-fu(i.getTime())):1/0}var NM=function(t){function n(){return t.call(this,void 0,void 0,$m.DATE_RANGE)}zr(n,t);var i=n.prototype;return i.Df=function(t,n){DM(this,PM(t),n)},i._I=function(n){!function(t,n){var i=cc(t,(function(t){return t.e3===n.e3}));i&&i.r3&&i.Df({hg:i.hg,u3:n.YN})}(this.Fg.Y_,n),t.prototype._I.call(this,n)},n}(jP);function DM(t,n,i){for(var r=function(i){var r=e[i],u=ac(n,(function(t){return t.hg===r.hg}));u?r.Df(u):t.nI(r)},e=t.Fg.Y_,u=e.length-1;u>=0;u--)r(u);for(var s=0;s<n.length;s++){var o=n[s],a=o.YN;if(void 0!==a&&!t.Zq(o.hg)){var c=i(a);t._I(new RM(o,c))}}}function PM(t){for(var n=ua(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.hg)){var u=n.get(e.hg),s=na({},u,wm(e),{o3:na({},u.o3,e.o3)});n.set(e.hg,s)}else n.set(e.hg,e),i.push(e.hg)}return i.map((function(t){return n.get(t)}))}function BM(t,n,i){var r=n.length;if(0===r)return-1;for(var e=0,u=r-1,s=t.S5(n[e]),o=t.E5(n[u]);e<=u&&t.I5(s,i)<=0&&t.I5(i,o)<0;){var a=e+d.floor(t.R5(i,s,o)*(u-e)),c=n[a],f=t.S5(c),h=a+1<r?t.S5(n[a+1]):t.E5(c);if(t.I5(h,i)<=0)e=a+1,s=h;else{if(!(t.I5(i,f)<0))return a;u=a-1,o=f}}return-1}yr(),zt();var OM=String.fromCharCode(95),xM=OM+"HLS_msn",LM=OM+"HLS_part",MM=OM+"HLS_skip",FM="HLSMediaPlaylist",UM=function(){function t(t,n){this.C5=void 0,this.N5=void 0,this.D5=void 0,this.P5=void 0,this.B5=void 0,this.O5=void 0,this.x5=void 0,this.L5=[],this.M5=[],this.F5=!1,this.U5=void 0,this.H5=!1,this.X5=yL.Hd,this.iq=gE.uP(),this.z5=gE.uP(),this.nc=void 0,this.V5=-1/0,this.W5=void 0,this.W0=t,this.YE=n}var n=t.prototype;return n.S1=function(t){if(!t)return this.W0;var n=Pr.Nu(this.W0);return void 0!==t.Z3&&n.searchParams.append(xM,String(t.Z3)),void 0!==t.q5&&n.searchParams.append(LM,String(t.q5)),void 0!==t.Qb&&n.searchParams.append(MM,t.Qb),n.href},n.G5=function(t){var n=this.L5;if(0!==n.length){var i=t-n[0].Z3;if(!(i<0||i>=n.length))return n[i]}},n.j5=function(t){if(0!==this.L5.length){var n=BM(HM.$r,this.L5,t);if(!(n<0)){var i=this.L5[n];return t===i.Sp&&n+1<this.L5.length?this.L5[n+1]:i}var r=this.L5[this.L5.length-1];return t===r.Sp?r:void 0}},n.Y5=function(t){if(0!==this.L5.length){var n=this.L5[0];if(t<n.Sp)return n;var i=this.L5[this.L5.length-1];return t>=i.Tp?i:this.j5(t)}},n.M4=function(t){var n=this.Q5();if(void 0!==n)return new Date(1e3*t+n)},n.F4=function(t){var n=this.Q5();if(void 0!==n)return(t.getTime()-n)/1e3},n.Q5=function(){for(var t=this.n3,n=t.length-1;n>=0;n--){var i=t[n];if(void 0!==i.g4)return i.g4.getTime()-1e3*i.Tp}},n.Z5=function(t){switch(t){case gL.t4:return this.N5;case gL.n4:return this.D5;default:return}},n.j4=function(t){var n;void 0===this.P5&&(this.P5=null!=(n=t.R4)?n:this.K5(t));void 0===this.O5&&void 0!==t.W3&&(this.O5=t.W3),void 0===this.B5&&void 0!==t.V2&&(this.B5=t.V2),void 0===this.x5&&void 0!==t.q3&&(this.x5=t.q3),this.F5=t.X3,this.U5=t.z3,this.H5=t.V3,this.X5=t.S4,this.J5(t),this.t6(t);var i=ac(t.E4,(function(t){return t.$u===gL.t4})),r=ac(t.E4,(function(t){return t.$u===gL.n4}));this.N5=i?{W0:i.W0,$u:i.$u,y4:t.y4}:void 0,this.D5=r?{W0:r.W0,$u:r.$u,y4:t.y4}:void 0,this.C5=Pr.re()/1e3,this.n6(),null!=this.YE||(this.YE=t.CD)},n.n6=function(){this.z5=this.i6(),this.iq=this.r6(this.z5),this.nc=this.e6()},n.i6=function(){var t=this.n3;if(0===t.length)return gE.uP();var n=t[0].Tp,i=t[t.length-1].Sp;return new gE([n,i])},n.r6=function(t){if(0===t.Q_||this.b4)return t;var n,i,r=t.CD(0),e=t.ND(0)-(null!=(i=null!=(n=this.q3)?n:this.W3)?i:0);return e<r?gE.rP(r):new gE([r,e])},n.e6=function(){return 0===this.L5.length?0:this.b4?function(t,n){return t.reduce((function(t,i){return t+n(i)}),0)}(this.L5,(function(n){return null!=(t=n.Sm)?t:n.f5})):1/0;var t},n.K5=function(t){for(var n,i=0,r=t.n3;i<r.length;i++){var e=r[i];if(void 0!==e.Sm){var u=d.max(1,d.round(e.Sm));(void 0===n||n<u)&&(n=u)}}if(void 0===n)throw new f("HLSModel - Could not determine required segment target duration.");return n},n.J5=function(t){if(0===t.n3.length)return wc(this.L5),void this.u6();var n=this.s6(t);if(n){var i,r,e;n.o6>0&&this.L5.splice(0,n.o6);var u=t.Y3;if(u>0){if(u>this.L5.length)throw new IM("New playlist skips over missing segments.");var s=this.L5[u-1];if(void 0===s.Sm)throw new IM("New playlist skips over an incomplete segment.");i=s.a5+s.Sm,e=s.y4-t.y4,r=u;for(var o=0;o<u;o++)this.L5[o].s5()}else i=n.a6,e=0,r=0;for(var a=0;a<t.n3.length;a++,r++){var c=t.n3[a],f=0===a,h=t.b4&&a===t.n3.length-1,v=c.Sm,d=c.y4+e;if(r<this.L5.length){var l=this.L5[r];0,l.j4(c,f,h)}else{var w=c;if(this.L5.length>0&&void 0===w._4)w=na({},w,{_4:this.L5[this.L5.length-1]._4});var _=new EM(i,d,f,h,w);_.Y4=this.o5,this.L5.push(_)}void 0!==v&&(i+=v)}}},n.s6=function(t){if(0===this.L5.length)return{o6:0,a6:0};var n=this.L5[0].Z3,i=this.L5[this.L5.length-1].Z3,r=t.n3[0].Z3-t.Y3,e=t.n3[t.n3.length-1].Z3,u=0,s=0;if(r<n){var o=this.n3[0].g4,a=t.n3[0].g4;if(!(o&&a&&o<a))return void qx.F1(FM,"Ignoring older playlist (first media sequence number is "+r+", but previous playlist already started at "+n+")");u=this.L5.length,this.u6()}else{if(e<i)return void qx.F1(FM,"Ignoring older playlist (last media sequence number is "+e+", but previous playlist already ended at "+i+")");if(i<r){var c;s=null!=(c=function(t,n){var i=cc(t,(function(t){return void 0!==t.g4}));if(void 0===i)return;var r=function(t){for(var n=0,i=0;i<t.length;i++){var r,e=t[i];if(e.w4)return;if(e.g4)return[e,n];n+=null!=(r=e.Sm)?r:0}return}(n.n3);if(void 0===r)return;var e=ra(r,2),u=e[0],s=e[1];if(i.y4!==u.y4)return;var o=(u.g4.getTime()-i.g4.getTime())/1e3;return i.a5+o-s}(this.L5,t))?c:function(t,n,i){var r,e=t[t.length-1],u=null!=(r=e.Sm)?r:d.max(i,e.f5),s=i*(n-e.Z3-1);return e.a5+u+s}(this.L5,r,this.P5),qx.M1(FM,"New playlist (starting at "+r+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+s+"s"),u=this.L5.length,this.u6()}else{0;var f=fc(this.L5,(function(t){return t.Z3===r}));0,s=this.L5[f].a5,f>0&&(u=f)}}return{o6:u,a6:s}},n.t6=function(t){var n=t.A4.map(RL);if(t.V3&&t.C4.Qb===TM.v5&&(n=this.M5.concat(n)),this.M5=PM(n),t.Q3)for(var i=this,r=function(t,n){var r=n[t],e=fc(i.M5,(function(t){return t.hg===r}));e>=0&&vc(i.M5,e)},e=0,u=t.Q3;e<u.length;e++)r(e,u)},n.c6=function(t,n){if(this.o5!==t){this.o5=t;for(var i=0,r=this.L5;i<r.length;i++){r[i].Y4=this.o5}this.n6()}this.W5=n},n.u6=function(){this.o5=void 0,this.W5=void 0},Ar(t,[{key:"b4",get:function(){return Boolean(ac(this.L5,(function(t){return t.Q4})))}},{key:"Sm",get:function(){return this.nc}},{key:"np",get:function(){return this.iq}},{key:"f6",get:function(){return this.z5}},{key:"W2",get:function(){return this.P5}},{key:"V2",get:function(){return this.B5}},{key:"W3",get:function(){return this.b4?0:this.O5?this.O5:this.P5?3*this.P5:void 0}},{key:"q3",get:function(){var t;return null!=(t=this.x5)?t:this.B5?3*this.B5:void 0}},{key:"h6",get:function(){if(!this.b4&&0!==this.L5.length){var t,n,i=this.L5[this.L5.length-1],r=null!=(n=null!=(t=this.q3)?t:this.W3)?n:0;return i.Sp-r}}},{key:"X3",get:function(){return this.F5}},{key:"z3",get:function(){return this.U5}},{key:"V3",get:function(){return this.H5}},{key:"S4",get:function(){return this.X5}},{key:"v6",get:function(){return void 0!==this.V2}},{key:"d6",get:function(){if(this.b4)return!0;var t=Pr.re()/1e3,n=this.X4,i=this.l6;return void 0!==n&&t-n<i}},{key:"X4",get:function(){return this.C5}},{key:"Y4",get:function(){return this.o5}},{key:"l6",get:function(){var t;return null!=(t=this.P5)?t:void 0===this.C5?5:1}},{key:"n3",get:function(){return this.L5}},{key:"A4",get:function(){return this.M5}},{key:"w6",get:function(){return this.V5},set:function(t){this.V5=t}},{key:"CD",get:function(){return this.YE}},{key:"_6",get:function(){return this.W5}}]),t}(),HM=function(){function t(){}var n=t.prototype;return n.S5=function(t){return t.Tp},n.E5=function(t){return t.Sp},n.I5=function(t,n){return uc(t,n)},n.R5=function(t,n,i){return(t-n)/(i-n)},Ar(t,null,[{key:"$r",get:function(){return null!=this.g6||(this.g6=new t),this.g6}}]),t}();function XM(t){return void 0!==t.l4}function zM(t){return XM(t)?t.c5:0===t.q4&&t.W4.c5}function VM(t,n){return XM(t)?XM(n)?t.Z3+1===n.Z3:0===n.q4&&VM(t,n.W4):t.q4===t.W4.l4.length-1?VM(t.W4,n):!XM(n)&&t.W4===n.W4&&t.q4+1===n.q4}yr(),zt(),yr(),zt();var WM=function(){function t(){this.m6=[],this.y6=sa()}var n=t.prototype;return n.p6=function(t){var n=this.y6.get(t);return void 0!==n&&qM(n)},n.A6=function(t){return this.b6(t).k6.Wo},n.T6=function(t){var n=this.y6.get(t);if(!n||!qM(n))throw new f("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.S6=function(t){return this.T6(t).Nk},n.E6=function(t,n){var i=XM(n)?n:n.W4,r=this.T6(i.y4),e=t.sp(r.Nk);if(r.I6){var u=wA.gk(n.Tp).fA(e);if(u.oA().tA(pA())){var s=d.round(u.$p()/yA().$p());e=e.sp(yA().DA(s))}}return e},n.R6=function(t,n){return this.E6(t,n).fA(t)},n.C6=function(t,n,i,r,e){var u=this.b6(t);void 0===u.Nk&&(u.N6.some((function(t){return t.D6===n}))||(u.N6.push({D6:n,P6:i,B6:r.GA(i.qA),I6:e}),this.O6(u)))},n.O6=function(t){if(!t.Nk&&this.x6(t)){var n=pc(t.N6,GM);wc(t.N6),t.Nk=n.B6.fA(n.P6),t.I6=n.I6,t.k6.qo()}},n.x6=function(t){return this.m6.length>0&&this.m6.every((function(n){return t.N6.some((function(t){return t.D6===n}))}))},n.b6=function(t){if(this.y6.has(t))return this.y6.get(t);var n={Nk:void 0,I6:!1,k6:new kh,N6:[]};return this.y6.set(t,n),n},n.L6=function(t){var n=this;this.m6=t,this.y6.forEach((function(t){return n.O6(t)}))},n.Ds=function(){this.y6.forEach((function(t){return t.k6.Ms()})),this.y6.clear()},t}();function qM(t){return void 0!==t.Nk}function GM(t,n){return t.I6||n.I6?function(t,n){var i=t.fA(n);return t.vA()||n.vA()||(i.iA(pA())?i=i.fA(yA()):i.sA(pA().cA())&&(i=i.sp(yA()))),i}(t.P6,n.P6).nA(wA.BA):t.P6.nA(n.P6)}var jM=function(){function t(t){this.M6=t,this.F6=[],this.U6=[],this.H6=ua(),this.X6=new WM}var n=t.prototype;return n.j4=function(t,n){if(TL(t))if(0===this.F6.length)this.z6(t);else{if(!n)return void qx.F1("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.M0.j4(t)}else{if(0!==this.F6.length)return void qx.F1("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.V6(t)}},n.z6=function(t){var n=this.W6(t.W0);n.j4(t);var i=this.q6(_L.$d,n),r=this.q6(_L.il,n),e=new AM({W0:n.W0,BC:0,g0:0,G2:NaN,_0:void 0,N1:void 0,m0:0,C3:[],P3:void 0,x3:void 0,N3:void 0,O3:void 0,B3:void 0,D3:void 0},n,[i,r]);this.F6.push(e)},n.V6=function(t){var n,i=this,r=function(n,r){var u=r[n],s=e.filter((function(t){return function(t,n){return YM(t.$u,t.X0,n)&&(!t.V0||t.M0.W0===n.W0)}(t,u)}));i.G6(u,s);var o=new AM(u,i.W6(u.W0,t.CD),s);i.F6.push(o)};(n=this.U6).push.apply(n,Nr(t.h4));for(var e=this.j6(t),u=0,s=t.v4;u<s.length;u++)r(u,s)},n.W6=function(t,n){var i=this.H6.get(t);return void 0===i&&(i=new UM(t,n),this.H6.set(t,i)),i},n.j6=function(t){for(var n=[],i=0,r=t.MT;i<r.length;i++){var e=r[i];if(void 0===e.W0)for(var u=0,s=t.v4;u<s.length;u++){var o=s[u];if(YM(e.$u,e.X0,o)){var a=new bx(e,this.W6(o.W0));n.push(a)}}else{var c=new bx(e,this.W6(e.W0));n.push(c)}}return n},n.q6=function(t,n){return new bx({$u:t,W0:void 0,X0:"",gg:void 0,I3:void 0,Nw:"",F0:!0,U0:!1,H0:!1,q0:void 0,z0:void 0,R3:void 0},n)},n.G6=function(t,n){var i=n.filter((function(t){return t.$u===_L.$d})),r=n.filter((function(t){return t.$u===_L.il})),e=t._0&&(t._0.C1||t._0.E1);if((!e||t._0.C1)&&0===r.length){var u=this.q6(_L.il,this.W6(t.W0));n.push(u)}if((!e||t._0.E1)&&0===i.length){var s=this.q6(_L.$d,this.W6(t.W0));n.push(s)}t._0&&t._0.j2},n.Y6=function(t){for(var n=0,i=this.F6;n<i.length;n++)for(var r=0,e=i[n].Q1;r<e.length;r++){var u=e[r];if(u===t)return u}},n.Q6=function(t){for(var n=0,i=this.F6;n<i.length;n++){var r=i[n];if(r===t)return r}},n.Z6=function(t){for(var n=0,i=this.F6;n<i.length;n++){var r=i[n];if(lc(r.Q1,t))return r}},n.Ds=function(){wc(this.F6),wc(this.U6),this.H6.clear(),this.X6.Ds()},Ar(t,[{key:"K6",get:function(){return this.U6}},{key:"W1",get:function(){return this.F6}},{key:"zE",get:function(){return this.X6}}]),t}();function YM(t,n,i){switch(t){case _L.$d:return i.N3===n;case _L.il:return i.O3===n;case _L.Ob:return i.B3===n;case _L.E3:return i.D3===n}return!1}yr(),zt();var QM=function(t){function n(n){var i;return(i=t.call(this,KM.J6)||this).c1=n,i}return zr(n,t),n}(Qc);yr(),zt();var ZM=function(t){function n(n){var i;return(i=t.call(this,KM.t8)||this).c1=n,i}return zr(n,t),n}(Qc);yr(),zt();var KM,JM=function(t){function n(){return t.call(this,vw.Cv)}return zr(n,t),n}(Qc),$M="HlsModelUpdater";!function(t){t.J6="n8",t.t8="i8"}(KM||(KM={}));var tF=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).vI=n,u.r8=i,u.e8=r,u.u8=!1,u.s8=!1,u.o8=void 0,u.a8=void 0,u.c8=sa(),u.f8=new jM(e),u}zr(n,t);var i=n.prototype;return i.h8=function(t){var n=this;return ta((function(){var i,r,e;return ia(this,(function(u){switch(u.label){case 0:if(!(i=n.f8.M6))throw new f("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");return n.qs(new tN),[4,n.v8(i,{},2,!0,t)];case 1:if(r=u.sent(),!bL(e=r.M0)&&!TL(e))throw new f("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");return bL(e)||qx.QT($M,"Detected media playlist only HLS stream."),n.d8(e),r.l8?(n.s8=!0,[4,n.w8(t)]):[3,3];case 2:u.sent(),u.label=3;case 3:return n.u8=!0,[2]}}))}))()},i._8=function(t,n,i,r){var e=this;return ta((function(){var u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:if(!(u=e.f8.Y6(t)))throw new f("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");s={Z3:n,q5:i,Qb:eF(u)},o=hu(d.max(1,3*t.M0.l6)),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,e.g8(u,s,r,o)];case 2:return c.sent(),[3,4];case 3:throw Oc(a=c.sent()),e.m8(u),a;case 4:return[2]}}))}))()},i.y8=function(t,n){var i=this.f8.Y6(t);if(!i)throw new f("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var r={Z3:void 0,q5:void 0,Qb:eF(i)},e=hu(d.max(1,3*t.M0.l6));return this.g8(i,r,n,e)},i.p8=function(t,n){return this.c8.has(t.vg)||this.c8.set(t.vg,new kh),Lc(this.c8.get(t.vg).Wo,n)},i.m8=function(t){this.qs(new ZM(t))},i.g8=function(t,n,i,r){var e=this;return ta((function(){var u,s,o,a,c;return ia(this,(function(h){switch(h.label){case 0:u=t.M0.S1(n),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.v8(u,n,0,e.s8,i,r)];case 2:return o=h.sent(),s=o.M0,[3,4];case 3:throw Oc(a=h.sent()),t.M0.w6=Pr.re(),a;case 4:if(!TL(s))throw new f("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");try{e.d8(s,t)}catch(u){if(u instanceof IM&&void 0!==n.Qb)return c=na({},n,{Qb:void 0}),[2,e.g8(t,c,i,r)];throw u}if(!e.o8||t===e.o8||e.o8.M0.d6)return[3,8];h.label=5;case 5:return h.trys.push([5,7,,8]),[4,e.y8(e.o8,i)];case 6:return h.sent(),[3,8];case 7:return Oc(h.sent()),e.o8=t,e.A8(),[3,8];case 8:return e.k8(t),[2]}}))}))()},i.v8=function(t,n,i,r,e,u){var s=this;return ta((function(){var o;return ia(this,(function(a){switch(a.label){case 0:return qx.QT($M,"Loading HLS playlist at "+t+"."),r?[4,s.b8(t,e)]:[3,2];case 1:if(void 0!==(o=a.sent()))return[2,{M0:o,l8:!0}];a.label=2;case 2:return[4,s.T8(t,n,i,e,u)];case 3:return[2,{M0:a.sent(),l8:!1}]}}))}))()},i.b8=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.r8.S8([t])];case 1:return r=e.sent(),Bc(n),void 0!==r?[2,pM(r.responseURL,{},r.data)]:[3,3];case 2:return Oc(e.sent()),[3,3];case 3:return[2]}}))}))()},i.T8=function(t,n,i,r,e){var u=this;return ta((function(){var s,o;return ia(this,(function(a){switch(a.label){case 0:return s={Md:t,Pd:dw.ed,vl:u.e8,ol:Uw.GET,$u:Hw.Xd,Hs:r,al:e},[4,Fy((function(){return u.E8(s)}),r,i)];case 1:return[2,pM((o=a.sent()).Ld,n,o.Ud)]}}))}))()},i.E8=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return[4,n.vI.xd(t)];case 1:return[4,(i=r.sent()).dd()];case 2:return[2,{Ud:r.sent(),Ld:i.Ld}]}}))}))()},i.w8=function(t){var n=this;return ta((function(){var i,r,e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:for(Bc(t),i=[],r=0,e=n.f8.W1;r<e.length;r++)for(u=e[r],s=0,o=u.Q1;s<o.length;s++)a=o[s],i.push(n.I8(a,t));return[4,j.all(i)];case 1:return c.sent(),[2]}}))}))()},i.I8=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,i.r8.S8([t.M0.W0])];case 1:return r=e.sent(),Bc(n),void 0===r||t.M0.d6?[3,3]:[4,i.y8(t,n)];case 2:e.sent(),e.label=3;case 3:return[3,5];case 4:return Oc(e.sent()),[3,5];case 5:return[2]}}))}))()},i.A8=function(){for(var t=0,n=this.f8.W1;t<n.length;t++)for(var i=0,r=n[t].Q1;i<r.length;i++){var e=r[i];e!==this.o8&&(void 0!==e.M0.Y4&&(e.M0.d6?this.k8(e):e.M0.u6()))}},i.k8=function(t){if(0!==t.M0.n3.length){if(!this.o8)return this.o8=t,void this.o8.M0.c6(0,void 0);if(this.C8(this.o8),!this.C8(t)&&void 0===t.M0.Y4){var n=this.N8(t,this.o8);qx.M1($M,"Assuming global timeline offset of "+n+"s for rendition "+t.M0.W0+"."),t.M0.c6(n,void 0)}}},i.N8=function(t,n){if(nF(t)){var i=t.M0.n3[0],r=n.M0.n3[0];return qx.M1($M,"Synchronizing by start of VOD: "+r.Tp+" vs "+i.Tp),r.Tp-i.a5}var e=function(t,n){var i=t.length-1,r=n.length-1;for(;i>=0&&r>=0;){var e=t[i],u=n[r];if(e.y4>u.y4)i--;else if(e.y4<u.y4)r--;else if(e.w4){if(u.w4)return{segment:e,referenceSegment:u};r--}else i--}return}(t.M0.n3,n.M0.n3);if(void 0!==e){var u=e.segment,s=e.referenceSegment;return qx.M1($M,"Synchronizing by start of discontinuity #"+s.y4+": "+s.Tp+" vs "+u.Tp),s.Tp-u.a5}var o=rF(t.M0.n3);if(void 0!==o){var a=rF(n.M0.n3);if(void 0!==a)return qx.M1($M,"Synchronizing by PDT:",a.g4.toISOString()+" vs "+o.g4.getTime()),a.Tp-o.a5-(a.g4.getTime()-o.g4.getTime())/1e3}var c,f=iF(n),h=iF(t),v=null!=(c=t.M0.Y4)?c:0;return qx.M1($M,"Synchronizing by last segment:",f+" vs "+h),f-h+v},i.C8=function(t){var n=this.f8.Y6(t);if(!n)return!1;if(nF(n))return!1;var i=function(t,n){return cc(t,(function(t){return void 0!==t.DJ&&n.p6(t.y4)}))}(n.M0.n3,this.f8.zE);if(void 0===i)return!1;if(n.M0._6===i.y4)return!0;var r=this.f8.zE.E6(i.DJ,i).$p()-i.a5;return qx.M1($M,"Synchronize by media timestamp: "+r+"s for rendition "+t.M0.W0+"."),n.M0.c6(r,i.y4),(void 0===this.o8||void 0===this.o8.M0._6||this.o8.M0._6<i.y4)&&(this.o8=n),!0},i.d8=function(t,n){var i;(this.f8.j4(t,n),TL(t)&&n)&&(this.a8=n,this.qs(new QM(n)),null==(i=this.c8.get(n.vg))||i.qo(),this.c8.delete(n.vg));this.qs(new JM)},i.D8=function(t,n){for(var i=0,r=this.f8.W1;i<r.length;i++){var e=r[i],u=ac(e.G1,(function(t){return t.M0===n}));void 0!==u&&void 0===t.C1&&e.U4(u);var s=ac(e.q1,(function(t){return t.M0===n}));void 0!==s&&void 0===t.E1&&e.U4(s),void 0===u&&void 0===s||(e._0=CL(e._0,t))}},i.Ds=function(){this.Zs(),this.f8.Ds(),this.c8.forEach((function(t){return t.Ms()})),this.c8.clear()},Ar(n,[{key:"P8",get:function(){return this.u8}},{key:"B8",get:function(){return this.s8}},{key:"V1",get:function(){return this.f8}},{key:"O8",get:function(){return this.a8}}]),n}(Gc);function nF(t){return t.M0.b4||t.M0.S4===yL.J3}function iF(t){var n=t.M0.n3;return n[n.length-1].Sp}function rF(t){return cc(t,(function(t){return void 0!==t.g4}))}function eF(t){if(void 0!==t.M0.z3&&!t.M0.b4&&!(void 0===t.M0.X4||Pr.re()/1e3-t.M0.X4>=t.M0.z3/2))return t.M0.V3?TM.v5:TM.h5}var uF=function(){function t(t,n,i){var r=this;this.x8=function(t){r.L8.hlsDateRange&&r.t6(t.c1)},this.L8=t,this.M8=n,this.yN=i,this.F8=new Vk,this.M8.js(KM.J6,this.x8)}return t.prototype.t6=function(t){if(0!==t.M0.A4.length){var n;this.U8||(this.U8=this.yN.lI(zk.Lb,void 0,void 0,void 0,void 0,$m.DATE_RANGE),this.F8.q_(this.U8));DM(this.U8,t.M0.A4,(function(i){return null!=(n=t.M0.F4(i))?n:NaN}))}},Ar(t,[{key:"wy",get:function(){return this.F8}}]),t}();yr(),zt();var sF=function(t){function n(){return t.call(this,px.N0)}return zr(n,t),n}(Qc);yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt();var oF=function(){function t(t){this.H8=t,this.L5=[],this.SV=void 0,this.X8=void 0}var n=t.prototype;return n.z8=function(t){var n;return null==(n=this.V8(t))?void 0:n.c1},n.W8=function(t){this.SV=t,this.q8()},n.G8=function(t,n,i,r,e,u){this.L5.push({c1:t,j8:n,Y8:gE.eP(e,u),Q8:gE.eP(i,r)}),this.q8()},n.V8=function(t){return ac(this.L5,(function(n){return n.Q8.WN(t)}))},n.G5=function(t){return ac(this.L5,(function(n){return n.j8===t}))},n.Z8=function(t,n){return ac(this.L5,(function(i){return i.c1===t&&VM(i.j8,n)}))},n.sW=function(){var t=this.Xy;t.Q_>0&&(this.X8=t.ND(t.Q_-1))},n.q8=function(){var t=this.H8.Xy;this.L5=this.L5.filter((function(n){return 0!==t.LD(n.Q8).Q_}))},Ar(t,[{key:"K8",get:function(){return this.SV}},{key:"Xy",get:function(){return function(t,n){var i=n.ZD((function(n,i){return t.jD(n,i,!1,!1)}));return t.XD(i)}(this.H8.Xy,this.H8.mW)}},{key:"n3",get:function(){return this.L5}},{key:"J8",get:function(){return this.X8}}]),t}(),aF=function(){function t(t,n,i,r,e){var u=this;this.t9=void 0,this.Ih=new Nc,this.n9=gE.uP(),this.i9=function(t){u.t9&&(t?rC(t)&&u.r9?u.e9.mM(u.H8.Xy.oP)?u.t9.qo():u.t9.Go(t):Pc(t)?u.t9.qo():u.t9.Go(t):u.t9.qo(),u.t9=void 0)},this.we=t,this.u9=i,this.H8=n,this.s9=r,this.e9=e}var n=t.prototype;return n.o9=function(){if(this.a9)throw new f("Cannot perform new operation while BufferAppender is still busy")},n.c9=function(t){this.H8!==t&&(this.o9(),this.H8=t,this.s9=new oF(t))},n.f9=function(){return this.t9?this.t9.Wo:j.resolve()},n.h9=function(t){var n,i=this.s9.J8,r=this.s9.Xy;if(void 0===i)return!1;var e,u=d.min(t,i);return null!=(e=null==(n=r.OD().VD(this.v9).nP(u))?void 0:n.WN(i))&&e},n.d9=function(t){return this.s9.z8(t)},n.Ms=function(){this.Ih.Ms(),this.Ih=new Nc},n.HV=function(t){var n=this;this.o9(),this.t9=new kh;var i=function(i){n.u9.l9(t),n.i9(i)};this.XV(t,this.Ih.Hs).then(i,i)},n.XV=function(t,n){var i=this;return ta((function(){return ia(this,(function(r){switch(r.label){case 0:return qx.M1(Yx,"Appending initializer",SL(t.w9.W0)),[4,i.H8.HV(t,n)];case 1:return r.sent(),qx.M1(Yx,"Appended initializer",SL(t.w9.W0)),i.s9.W8(t),[2]}}))}))()},n._9=function(t){var n=this;this.o9(),this.t9=new kh;var i=function(i){n.u9.l9(t),n.i9(i)};this.g9(t,this.Ih.Hs).then(i,i)},n.g9=function(t,n){var i=this;return ta((function(){var r,e,u,s,o,a,c,h,v,d,l,w,_;return ia(this,(function(g){switch(g.label){case 0:if(void 0===(r=t.c1).M0.W2)throw new f("MediaBufferWrapper - Cannot append HLSAsset to "+i.we+" MediaBuffer for a HLSRendition with an undefined targetDuration.");return e=i.s9.Xy.sP,u=i.H8.Xy,qx.M1(Yx,"Appending",SL(t.w9.W0)),[4,i.H8.MV(t,n)];case 1:return g.sent(),qx.M1(Yx,"Appended",SL(t.w9.W0),e,i.s9.Xy.sP),s=t.Tp,o=s+t.Sm,a=t.w9,c=a.Tp,v=a.Tp+(null!=(h=a.Sm)?h:0),i.s9.G8(r,a,s,o,c,v),d=i.H8.Xy.VD(u),l=i.s9.Z8(r,a),i.$u===Hy.il&&(l?i.m9(l)?0===d.Q_?void 0===i.s9.G5(a)&&(w=i.H8.mW.LD(new gE([s,o])),i.n9=i.n9.XD(w)):(i.n9=i.n9.VD(new gE([d.CD(0),o])),d.CD(0)>s&&(i.n9=i.n9.XD(new gE([s,d.CD(0)])))):i.n9=i.n9.VD(new gE([s,o])):0===d.Q_?(_=i.H8.mW.LD(new gE([s,o])),i.n9=i.n9.XD(_)):d.CD(0)>s&&(i.n9=i.n9.XD(new gE([s,d.CD(0)])))),t.w9.Q4&&i.s9.sW(),[2]}}))}))()},n.m9=function(t){var n=t.Q8,i=n.CD(0),r=n.ND(n.Q_-1),e=n.DD(0),u=n.PD(n.Q_-1);return this.n9.qD(i,r,e,u)},Ar(t,[{key:"$u",get:function(){return this.we}},{key:"r9",get:function(){return this.we===Hy.$d||this.we===Hy.il}},{key:"y9",get:function(){return this.s9}},{key:"v9",get:function(){return this.n9}},{key:"a9",get:function(){return void 0!==this.t9}}]),t}();yr(),zt(),kr(),yr(),zt();var cF=function(){function t(t,n,i){this.p9=t,this.vI=n,this.e8=i,this.A9=void 0}var n=t.prototype;return n.k9=function(t,n,i,r){var e=this;return ta((function(){var u;return ia(this,(function(s){switch(s.label){case 0:return[4,e.b9(n,r)];case 1:return u=s.sent(),[4,e.p9.k9(t,u,i)];case 2:return[2,s.sent()]}}))}))()},n.b9=function(t,n){var i=this;return ta((function(){var r,e,u;return ia(this,(function(s){switch(s.label){case 0:return(null==(r=i.A9)?void 0:r.Md)===t?[3,3]:(qx.M1("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),[4,i.vI.xd({Md:t,Pd:dw.$v,ol:Uw.GET,Hs:n,$u:Hw.Wd,fl:Xw.Jd,vl:i.e8})]);case 1:return[4,s.sent().wd()];case 2:e=s.sent(),u=new g(e),i.A9={Md:t,Ud:u},s.label=3;case 3:return[2,i.A9.Ud]}}))}))()},t}();yr(),zt();var fF=function(){function t(t,n,i,r,e){void 0===e&&(e=2),this.vI=t,this.r8=n,this.T9=i,this.e8=r,this.S9=e}var n=t.prototype;return n.xd=function(t,n,i,r,e){var u=this;return ta((function(){var s,o;return ia(this,(function(a){switch(a.label){case 0:return[4,u.E9(t,n,i,dw.$v,r,e)];case 1:return[4,(s=a.sent()).wd(e)];case 2:return o=a.sent(),[2,{httpStatusCode:s.Nd,response:new g(o)}]}}))}))()},n.I9=function(t,n,i,r,e){var u=this;return ta((function(){return ia(this,(function(s){switch(s.label){case 0:return[4,u.E9(t,n,i,dw.rd,r,e)];case 1:return[2,s.sent()._d(e)]}}))}))()},n.E9=function(t,n,i,r,e,u){var s=this;return ta((function(){var o,a,c,f;return ia(this,(function(h){switch(h.label){case 0:t.i3&&0===(o=kL(t.i3.CD,t.i3.Q_))[0]&&o[1]===nu&&(o=void 0),a=o?{Range:"bytes="+o[0]+"-"+o[1]}:void 0,c=new Ww({Md:t.Bw,Pd:r,Dd:a,vl:s.e8,ol:Uw.GET,$u:n,fl:i,hl:s.T9,dl:e,Hs:u}),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,s.r8.R9(t.Bw,o)];case 2:return f=h.sent(),Bc(u),void 0!==f?(null==e||e(f.buffer.byteLength,f.buffer.byteLength),[2,new Vw({xd:c,Ud:f.buffer})]):[3,4];case 3:return Oc(h.sent()),[3,4];case 4:return[4,Fy((function(){return Lc(s.vI.xd(c),c.Hs)}),u,s.S9)];case 5:return[2,h.sent()]}}))}))()},t}();yr(),zt();var hF,vF=function(){function t(t,n){this.C9=void 0,this.N9=new Nc,this.LG=-1/0,this.D9=!1,this.M8=t,this.P9=n,this.B9()}var n=t.prototype;return n.O9=function(){return this.P9.M0.X3},n.x9=function(t,n,i){var r=this;return ta((function(){var e;return ia(this,(function(u){switch(u.label){case 0:if(!r.O9())throw new f("Could not perform blocking playlist update.");u.label=1;case 1:return u.trys.push([1,4,,5]),[4,r.L9()];case 2:return u.sent(),Bc(i),[4,r.M8._8(r.P9,t,n,i)];case 3:return u.sent(),r.LG=Pr.re(),[3,5];case 4:throw Pc(e=u.sent())&&r.B9(),e;case 5:return r.B9(),[2]}}))}))()},n.M9=function(t){return this.M8.p8(this.P9,t)},n.B9=function(){var t=this;if(!this.C9&&!this.D9){var n=function(){t.C9=void 0};this.C9=this.F9(this.N9.Hs).then(n,n)}},n.L9=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t.C9?(t.N9.Ms(),t.N9=new Nc,[4,t.C9.catch(le)]):[3,2];case 1:n.sent(),t.C9=void 0,n.label=2;case 2:return[2]}}))}))()},n.F9=function(t){var n=this;return ta((function(){var i,r,e;return ia(this,(function(u){switch(u.label){case 0:return n.P9.M0.b4&&n.P9.M0.d6?[2]:(i=Pr.re()-n.LG,r=1e3*n.P9.M0.l6,i<r?[4,Wc(r-i,t)]:[3,2]);case 1:u.sent(),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,n.M8.y8(n.P9,t)];case 3:return u.sent(),[3,5];case 4:throw Oc(e=u.sent()),n.M8.m8(n.P9),e;case 5:return n.LG=Pr.re(),[3,0];case 6:return[2]}}))}))()},n.Ds=function(){this.D9=!0,Xc(this.L9())},t}();yr(),zt(),function(t){t[t.t4=0]="t4",t[t.n4=1]="n4",t[t.zd=2]="zd",t[t.Vd=3]="Vd"}(hF||(hF={})),yr(),zt(),yr(),zt(),kr();var dF="AssetExtractor",lF=function(){function t(){this.U9=[]}var n=t.prototype;return n.H9=function(t,n,i){for(var r=n,e=0,u=this.U9;e<u.length;e++){var s=u[e];if(r>=t)return!0;if(r<s.CD)return!1;if(r<s.ND){if(i<=s.ND)return!0;r=s.ND}}return r>=t},n.X9=function(t,n){for(var i=[],r=0;r<this.U9.length;r+=1){var e=this.U9[r],u=t-e.CD,s=e.Ud.length,o=d.min(s,d.max(u,0)),a=d.max(0,n+u),c=gh(e.Ud,o,a);c.length&&(r=this.z9(r,e,t,o,a),i.push(c))}return i},n.V9=function(t,n){this.U9.push({CD:t,ND:t+n.length,Ud:n})},n.z9=function(t,n,i,r,e){var u=t;this.U9.splice(u,1),u-=1,n.CD<i&&(u+=1,this.U9.splice(u,0,{CD:n.CD,ND:i,Ud:gh(n.Ud,0,r)}));var s=i+e-r;return s<n.ND&&(u+=1,this.U9.splice(u,0,{CD:s,ND:n.ND,Ud:gh(n.Ud,e)})),u},t}(),wF=function(){function t(t,n){this.W9=n,this.ct=t.getReader()}var n=t.prototype;return n.q9=function(){var t=this;return ta((function(){var n;return ia(this,(function(i){switch(i.label){case 0:return[4,t.ct.read()];case 1:if((n=i.sent()).done)throw t.W9=1/0,new f("No more data can be read from the given stream.");return t.W9+=n.value.length,[2,n.value]}}))}))()},n.G9=function(t){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return[4,n.ct.cancel(t)];case 1:return i.sent(),[2]}}))}))()},Ar(t,[{key:"j9",get:function(){return this.W9}}]),t}(),_F=function(){function t(t,n,i,r){this.Y9=new kh,this.t5=t,this.ct=n,this.Q9=i,this.Z9=r,this.K9=new kh,this.J9=new kh}var n=t.prototype;return n.t7=function(){this.J9.qo(),this.J9=new kh},n.n7=function(t){var n=mF(this.t5.i3),i=n.i7,r=n.r7,e=this.Q9.X9(i,r-i);qx.M1(dF,"Collected "+e.length+" chunks.");for(var u=0;u<e.length;u++){var s=e[u];t.enqueue(s)}},n.readAndSliceOutAssetBytes=function(t){var n=this;return ta((function(){var i,r,e,u,s,o,a,c,f,h,v,l,w;return ia(this,(function(_){switch(_.label){case 0:return[4,n.K9.Wo];case 1:_.sent(),i=mF(n.t5.i3),r=i.i7,e=i.r7,_.label=2;case 2:_.trys.push([2,11,,12]),_.label=3;case 3:return u=n.ct.j9,[4,n.ct.q9()];case 4:return s=_.sent(),o=s.length,qx.M1(dF,"Read "+o+" at "+u+" for extraction of "+SL(n.t5)),a=d.min(u+o,r),(c=a-u)>0?(f=gh(s,0,c),h=gh(s,c),qx.M1(dF,"Of the read "+o+" bytes, the first "+c+" will be stored locally for extraction of "+SL(n.t5)),n.Q9.V9(u,f),h.length>0?(qx.M1(dF,"Extracting "+h.length+" bytes for extraction of "+SL(n.t5)),t.enqueue(h),n.t7(),[2,Xc(n.readAndSliceOutAssetBytes(t))]):[3,9]):[3,5];case 5:return u+o<=e?(qx.M1(dF,"Extracting the read data range for extraction of "+SL(n.t5)),t.enqueue(s),n.t7(),[2,Xc(n.readAndSliceOutAssetBytes(t))]):[3,6];case 6:return l=gh(s,0,v=e-u),w=gh(s,v),l.length>0&&(qx.M1(dF,"Extracting "+l.length+" bytes for extraction of "+SL(n.t5)),t.enqueue(l)),qx.M1(dF,"Of the read "+o+" bytes, the last "+w.length+" will be stored locally for extraction of "+SL(n.t5)),n.Q9.V9(u+v,w),qx.M1(dF,"Extraction of "+SL(n.t5)+" completed as the entire request has been fulfilled."),n.e7(t),n.Z9?(qx.M1(dF,"Aborting stream upstream as no more bytes are needed from "+SL(n.t5)+"."),[4,n.ct.G9("AssetExtraction - AbortOnEnd")]):[3,8];case 7:_.sent(),_.label=8;case 8:return[2];case 9:return[3,3];case 10:return[3,12];case 11:return _.sent(),qx.M1(dF,"Extraction of "+SL(n.t5)+" completed as the entire source stream has been read."),n.e7(t),[3,12];case 12:return[2]}}))}))()},n.e7=function(t){t.close(),this.t7(),this.Y9.qo()},n.start=function(t){qx.M1(dF,"Preparing to push all collected data to controller for extraction of "+SL(this.t5)),this.n7(t),qx.M1(dF,"Collected data pushed to controller for extraction of "+SL(this.t5));var n=mF(this.t5.i3).r7;this.ct.j9>=n?(qx.M1(dF,"Extraction of "+SL(this.t5)+" completed as the entire request has been fulfilled."),this.e7(t)):(qx.M1(dF,"Continuing read from original stream for extraction of "+SL(this.t5)),Xc(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.K9.qo(),this.K9=new kh,this.J9.Wo},Ar(t,[{key:"u7",get:function(){return this.Y9.Wo}}]),t}(),gF=function(){function t(t,n){this.t5=n;var i=mF(this.t5.i3).i7;this.s7=new wF(t,i),this.Q9=new lF}var n=t.prototype;return n.op=function(t){if(!EL(this.t5,t))return!1;var n=mF(t.i3),i=n.i7,r=n.r7;return this.Q9.H9(this.s7.j9,i,r)},n.o7=function(t,n){void 0===n&&(n=!1);var i=this;return ta((function(){var r,e,u;return ia(this,(function(s){switch(s.label){case 0:return r=i.s7,e=i.Q9,qx.QT(dF,"Extracting data from "+SL(t)+" out of "+SL(i.t5)),i.a7?(qx.M1(dF,"Awaiting previous extraction before extracting "+SL(t)+" out of "+SL(i.t5)),[4,i.a7]):[3,2];case 1:s.sent(),s.label=2;case 2:if(!i.op(t))throw new f("The extractor does not contain the data requested");return u=new _F(t,r,e,n),i.a7=u.u7,[2,new Mt(u)]}}))}))()},t}();function mF(t){if(t){var n=t.CD;return{i7:n,r7:void 0!==t.Q_?n+t.Q_:nu}}return{i7:0,r7:nu}}var yF=function(){function t(t,n){this.t5=t,this.c7=n,this.Ih=new Nc,this.f7=this.Cf()}var n=t.prototype;return n.Cf=function(){var t=this;return ta((function(){var n;return ia(this,(function(i){switch(i.label){case 0:return[4,t.c7.I9(t.t5,Hw.Vd,Xw.Hd,void 0,t.Ih.Hs)];case 1:return n=i.sent(),[2,new gF(n,t.t5)]}}))}))()},n.op=function(t){return EL(this.t5,t)},n.o7=function(t,n){void 0===n&&(n=!1);var i=this;return ta((function(){return ia(this,(function(r){switch(r.label){case 0:return[4,i.f7];case 1:return[4,Lc(r.sent().o7(t,n),i.Ih.Hs)];case 2:return[2,r.sent()]}}))}))()},n.Ms=function(){this.f7.catch(le),this.Ih.Ms()},t}();yr(),zt();var pF=function(t){function n(n){var i;return(i=t.call(this,bF.h7)||this).hl=n,i}return zr(n,t),n}(Qc);yr(),zt();var AF=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,bF.v7)||this).uri=n,a.d7=i,a.hl=r,a.mediaSequenceNumeber=e,a.mediaTrackId=u,a.l7=s,a.httpStatusCode=o,a}return zr(n,t),n}(Qc);function kF(t,n,i){var r=XM(i)?i:i.W4;if(n.p6(r.y4)){if(void 0!==i.DJ)return n.E6(i.DJ,i).$p();if(i!==r&&void 0!==r.DJ){var e=n.E6(r.DJ,r).$p();return i.Tp+(e-r.Tp)}}var u=t.M0.G5(r.Z3-1);if(void 0!==u&&n.p6(u.y4)){if(u.l4.length>0){var s=u.i5(u.l4.length-1);if(void 0!==s.DJ){var o=n.E6(s.DJ,s).$p();return i.Tp+(o-s.Tp)}}if(void 0!==u.DJ){var a=n.E6(u.DJ,u).$p();return i.Tp+(a-u.Tp)}}var c=t.M0.G5(r.Z3+1);if(void 0!==c&&n.p6(c.y4)){if(c.l4.length>0){var f=c.i5(0);if(void 0!==f.DJ){var h=n.E6(f.DJ,f).$p();return i.Tp+(h-f.Tp)}}if(void 0!==c.DJ){var v=n.E6(c.DJ,c).$p();return i.Tp+(v-c.Tp)}}return i.Tp}yr(),zt();var bF,TF="HlsPlaylistDownloader";!function(t){t.h7="segmentdownloadprogress",t.v7="segmentdownloaded"}(bF||(bF={}));var SF=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this)||this).w7=void 0,c._7=void 0,c.g7=void 0,c.m7=0,c.y7=0,c.p7=0,c.A7=new Nc,c.k7=void 0,c.b7=0,c.T7=void 0,c.S7=void 0,c.E7=void 0,c.I7=void 0,c.R7=function(t){c.w7&&(c.P9=c.w7,c.w7=void 0,c.b7=0,c.T7=void 0,c.S7=void 0),c._7&&(t&&!Pc(t)?c._7.Go(t):c._7.qo(),c._7=void 0)},c.C7=function(t,n){c.y7=t,t>0&&0===c.m7&&(c.m7=aR()),void 0!==n&&(c.p7=n),c.qs(new pF(c.we))},c.we=n,c.M8=r,c.u9=e,c.P9=i,c.N7=new vF(r,i),c.D7=new cF(o,u,a),c.c7=new fF(u,s,function(t){switch(t){case _L.il:return zw.il;case _L.$d:return zw.$d;case _L.Ob:case _L.E3:return zw.ed;default:return zw.Hd}}(i.$u),a),c}zr(n,t);var i=n.prototype;return i.P7=function(t){this.N7.Ds(),this.N7=new vF(this.M8,t),this.a9?this.w7=t:(this.P9=t,this.b7=0,this.T7=void 0,this.S7=void 0)},i.f9=function(){return this._7?this._7.Wo:j.resolve()},i.B7=function(){return this.u9.B7()},i.O7=function(t){this.u9.O7(t)},i.Ms=function(){var t,n,i;this.A7.Ms(),this.A7=new Nc,null==(t=this.k7)||t.Ms(),this.k7=void 0,null==(n=this.I7)||n.Ms(),null==(i=this.E7)||i.Ms(),this.I7=void 0,this.E7=void 0,this.b7=0,this.T7=void 0,this.S7=void 0},i.Ds=function(){this.N7.Ds()},i.x7=function(t){var n=this.P9.M0.j5(t);if(!n)return!1;if(void 0!==this.T7){var i=n.Z3===this.T7;return void 0!==this.S7?n.r5(t)===n.i5(this.S7)&&i:i}return!1},i.L7=function(t){var n;if(void 0===this.T7||t<this.b7)n=this.M7(t);else if(void 0!==(n=this.F7(this.T7,this.S7))){var i=ra(n,2),r=i[0],e=i[1],u=(null!=e?e:r).Tp,s=3*this.P9.M0.W2;d.abs(u-t)>=s&&(n=this.M7(t))}else if(this.P9.M0.b4){if(this.P9.M0.G5(this.T7).Q4&&void 0!==(n=this.M7(t))&&n[0].Z3===this.T7)return}if(n){this.b7=t;var o=ra(n,2),a=o[0],c=o[1];return 0===(null==c?void 0:c.q4)&&void 0!==a.Sm?[a,void 0]:[a,c]}},i.M7=function(t){var n,i,r=this.P9.M0.n3;if(0!==r.length){var e,u=this.M8.V1.zE,s=wA.gk(t),o=ra(function(t,n,i){var r=t.M0.n3;if(0===r.length)return[void 0,void 0];var e=t.M0.Y5(i.$p());if(!n.p6(e.y4))return[void 0,void 0];for(var u,s,o,a=e.Z3-r[0].Z3,c=0,f=a;f>=0;f--){var h=r[f];if(h.y4!==e.y4)break;if(void 0!==h.DJ){u=h,c=f;break}}if(void 0===u){for(var v=a+1;v<r.length;v++){var d=r[v];if(d.y4!==e.y4)break;if(void 0!==d.DJ){u=d,c=v;break}}if(void 0===u)return[void 0,void 0]}if(n.E6(u.DJ,u).eA(i)){s=u;for(var l=c+1;l<r.length;l++){var w=r[l];if(w.y4!==e.y4)break;if(void 0!==w.DJ){if(!n.E6(w.DJ,w).eA(i)){o=w;break}s=w}}}else{o=u;for(var _=c-1;_>=0;_--){var g=r[_];if(g.y4!==e.y4)break;if(void 0!==g.DJ){if(n.E6(g.DJ,g).eA(i)){s=g;break}o=g}}}return[s,o]}(this.P9,u,s),2),a=o[0],c=o[1];if(void 0!==a&&void 0!==c){var f=u.E6(a.DJ,a),h=u.E6(c.DJ,c),v=s.fA(f).$p()/h.fA(f).$p()*(c.Tp-a.Tp);e=a.Tp+v}else e=t;var d=r[r.length-1];return d.Sp<=e?(n=d,i=d.u5(e)):i=r[0].Tp>e?(n=r[0]).i5(0):null==(n=this.P9.M0.j5(e))?void 0:n.u5(e),n?[n,i]:void 0}},i.F7=function(t,n){var i,r;if((i=this.P9.M0.G5(t))&&void 0!==n){if(0===i.l4.length)return[i,void 0];r=i.i5(n+1)}return void 0!==i&&void 0!==r||(r=null==(i=this.P9.M0.G5(t+1))?void 0:i.i5(0)),i?[i,r]:void 0},i.o9=function(){if(this.a9)throw new f("Cannot perform new operation while PlaylistDownloader is still busy")},i.U7=function(t){this.o9(),this._7=new kh,this.H7(t,this.A7.Hs).then(this.R7,this.R7)},i.X7=function(){this.N7.B9()},i.H7=function(t,n){var i=this;return ta((function(){var r,e;return ia(this,(function(u){switch(u.label){case 0:return i.P9.M0.b4?[2]:(r=i.L7(t))||!i.N7.O9()||void 0===i.T7?[3,2]:[4,i.N7.x9(void 0===i.S7?i.T7+1:i.T7,void 0!==i.S7?i.S7+1:void 0,n)];case 1:u.sent(),r=i.L7(t),u.label=2;case 2:return r||!i.N7.O9()||void 0===i.T7?[3,4]:[4,i.N7.x9(i.T7+1,0,n)];case 3:u.sent(),r=i.L7(t),u.label=4;case 4:return r?[3,6]:(qx.QT(TF,"No next segment / part available, need to update playlist before continuing."),[4,i.N7.M9(n)]);case 5:return u.sent(),e=i.c1.M0.n3,e[0].Tp>t&&(i.S7=void 0,i.T7=void 0),e[e.length-1].Z3<i.T7&&(i.S7=void 0,i.T7=void 0),r=i.L7(t),[3,4];case 6:return[2]}}))}))()},i.z7=function(){return this.u9.V7()},i.W7=function(){this.o9();try{var t=this.P9.M0.Z5(gL.t4);t&&this.q7(t);var n=this.P9.M0.Z5(gL.n4);n&&this.G7(n)}catch(t){throw Oc(t),this.P9.M0.w6=Pr.re(),this.M8.m8(this.P9),t}},i.q7=function(t){this.E7&&!this.E7.op(t.W0)&&(this.E7.Ms(),this.E7=void 0),this.E7||(this.E7=new yF(t.W0,this.c7))},i.G7=function(t){this.I7&&!this.I7.op(t.W0)&&(this.I7.Ms(),this.I7=void 0),this.I7||(this.I7=new yF(t.W0,this.c7))},i.j7=function(t,n,i){var r=this;this.o9(),qx.QT(TF,"Starting download of segment "+SL(t.W0)+" and part "+(null==n?void 0:n.q4)),this._7=new kh,this.Y7(t,n,i,this.A7.Hs).catch((function(t){throw Oc(t),r.P9.M0.w6=Pr.re(),r.M8.m8(r.P9),t})).then(this.R7,this.R7)},i.Y7=function(t,n,i,r){var e=this;return ta((function(){var u,s,o,a,c;return ia(this,(function(f){switch(f.label){case 0:return t._4&&(i&&IL(i.w9.W0,null==(s=t._4)?void 0:s.W0)&&t.y4===i.y4||(null==(a=e.k7)||a.Ms(),e.k7=new kh,c=e.Q7(t._4,t,r).then((function(){e.k7=void 0})),e.k7.Fs(c)),u=null==(o=e.k7)?void 0:o.Wo),[4,e.Z7(t,n,u,r)];case 1:return f.sent(),[2]}}))}))()},i.Q7=function(t,n,i){var r=this;return ta((function(){var e,u;return ia(this,(function(s){switch(s.label){case 0:return[4,r.K7(t,n,i)];case 1:return e=s.sent(),u=e._4.Ud.Ud.byteLength,r.u9.J7(e),r.qs(new AF(e._4.w9.W0,e.$u,r.we,n.Z3,e.c1.vg,u,e._4.ttt)),qx.M1(Yx,"Download initializer complete",SL(t.W0)),[2]}}))}))()},i.Z7=function(t,n,i,r){var e=this;return ta((function(){var u,s,o;return ia(this,(function(a){switch(a.label){case 0:return[4,e.ntt(t,n,r)];case 1:return u=a.sent(),s=u.j8.Ud.Ud.byteLength,i?[4,Lc(i,r)]:[3,3];case 2:a.sent(),a.label=3;case 3:return e.u9.J7(u),e.qs(new AF(u.j8.w9.W0,u.$u,e.we,t.Z3,u.c1.vg,s,u.j8.ttt)),qx.M1(Yx,"Download complete",SL(null!=(o=null==n?void 0:n.W0)?o:t.W0)),[2]}}))}))()},i.ntt=function(t,n,i){var r=this;return ta((function(){var e,u,s,o;return ia(this,(function(a){switch(a.label){case 0:return n?r.I7?r.I7.op(n.W0)?[4,r.I7.o7(n.W0)]:[3,4]:[3,5]:[3,8];case 1:return[4,kw(a.sent(),i)];case 2:return u=a.sent(),s=new g(u),[4,r.k9(s,n.h4,i)];case 3:return o=a.sent(),e=RF(n,o,200),[3,5];case 4:r.I7.Ms(),r.I7=void 0,a.label=5;case 5:return e?[3,7]:(qx.M1(Yx,"Start download",SL(n.W0)),[4,r.itt(n,i)]);case 6:e=a.sent(),a.label=7;case 7:return[3,10];case 8:return qx.M1(Yx,"Start download",SL(t.W0)),[4,r.ett(t,i)];case 9:e=a.sent(),a.label=10;case 10:return r.T7=t.Z3,r.S7=null==n?void 0:n.q4,[2,{$u:"j8",j8:e,c1:r.P9,y4:t.y4}]}}))}))()},i.K7=function(t,n,i){var r=this;return ta((function(){var e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:return r.E7?r.E7.op(t.W0)?[4,Lc(r.E7.o7(t.W0),i)]:[3,4]:[3,5];case 1:return[4,kw(c.sent(),i)];case 2:return s=c.sent(),o=new g(s),[4,r.k9(o,t.d4?[t.d4]:[],i)];case 3:a=c.sent(),e=EF(t,n,a,200),c.label=4;case 4:qx.QT(TF,"MAP is required for segment, downloading MAP data."),null==(u=r.E7)||u.Ms(),r.E7=void 0,c.label=5;case 5:return e?[3,7]:(qx.M1(Yx,"Start download",SL(t.W0)),[4,r.utt(t,n,i)]);case 6:e=c.sent(),c.label=7;case 7:return[2,{$u:"_4",_4:e,c1:r.P9,Tp:n.Tp,y4:n.y4,h4:n.h4}]}}))}))()},i.utt=function(t,n,i){var r=this;return ta((function(){var e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:return[4,r.c7.xd(t.W0,Hw.zd,Xw.qd,void 0,i)];case 1:return e=c.sent(),u=e.response,s=e.httpStatusCode,o=t.d4?[t.d4]:[],[4,r.k9(u,o,i)];case 2:return a=c.sent(),[2,EF(t,n,a,s)]}}))}))()},i.ett=function(t,n){var i=this;return ta((function(){var r,e,u,s;return ia(this,(function(o){switch(o.label){case 0:if(!t.W0)throw new f("Internal error: attempted to download an incomplete segment");o.label=1;case 1:return o.trys.push([1,,3,4]),i.stt(t),[4,i.c7.xd(t.W0,Hw.zd,Xw.Hd,i.C7,n)];case 2:return u=o.sent(),r=u.response,e=u.httpStatusCode,[3,4];case 3:return i.ott(),[7];case 4:return[4,i.k9(r,t.h4,n)];case 5:return s=o.sent(),[2,IF(t,s,e)]}}))}))()},i.itt=function(t,n){var i=this;return ta((function(){var r,e,u,s;return ia(this,(function(o){switch(o.label){case 0:return o.trys.push([0,,2,3]),i.stt(t),[4,i.c7.xd(t.W0,Hw.zd,Xw.Hd,i.C7,n)];case 1:return u=o.sent(),r=u.response,e=u.httpStatusCode,[3,3];case 2:return i.ott(),[7];case 3:return[4,i.k9(r,t.h4,n)];case 4:return s=o.sent(),[2,RF(t,s,e)]}}))}))()},i.k9=function(t,n,i){var r=this;return ta((function(){var e;return ia(this,(function(u){switch(u.label){case 0:return(e=ac(n,(function(t){return t.ol===mL.L3})))?e.W0&&e.M3?[4,r.D7.k9(t,e.W0,e.M3,i)]:(qx.Ao(TF,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),[2,t]):[2,t];case 1:return[2,u.sent()]}}))}))()},i.stt=function(t){var n,i,r;this.g7=t,this.m7=0,this.y7=0,this.p7=null!=(r=null==(n=t.W0)||null==(i=n.i3)?void 0:i.Q_)?r:0},i.ott=function(){this.g7=void 0,this.m7=0,this.y7=0,this.p7=0},i.att=function(){if(void 0!==this.g7)return{j8:this.g7,ctt:this.y7,ftt:this.p7}},i.htt=function(t){return void 0!==this.g7&&(0!==this.m7&&(0!==this.p7&&(!(this.y7>=this.p7)&&!(t-this.m7<500))))},Ar(n,[{key:"a9",get:function(){return void 0!==this._7}},{key:"c1",get:function(){var t;return null!=(t=this.w7)?t:this.P9}},{key:"dtt",get:function(){if(!this.P9.M0.b4||void 0===this.T7)return!1;var t=this.P9.M0.G5(this.T7);if(!t.Q4)return!1;if(void 0!==this.S7&&!t.i5(this.S7).Q4)return!1;return!0}}]),n}(Gc);function EF(t,n,i,r){return{Ud:{Ud:i,$u:GC.lU},$u:hF.t4,ttt:r,w9:t,y4:n.y4}}function IF(t,n,i){return{Ud:{Ud:n,$u:GC.lU},$u:hF.zd,ttt:i,w9:t,y4:t.y4}}function RF(t,n,i){return{Ud:{Ud:n,$u:GC.lU},ttt:i,$u:hF.n4,w9:t,y4:t.W4.y4}}yr(),zt(),kr();var CF=function(){function t(t){this.ltt=[],this.wtt=ua(),this._tt=void 0,this.gtt=void 0,this.X6=t}var n=t.prototype;return n.J7=function(t){"_4"===t.$u&&(this.gtt=t._4),this.ltt.push(t),this._tt&&(this._tt.qo(),this._tt=void 0)},n.B7=function(){return this.ltt[0]},n.O7=function(t){hc(this.ltt,t)},n.V7=function(){return null!=this._tt||(this._tt=new kh),this._tt.Wo},n.mtt=function(t){this.ytt(t.D6).mtt(t)},n.ptt=function(t){return this.ytt(t).ptt()},n.l9=function(t){this.ytt(t.D6).l9(t)},n.Att=function(t){var n;null==(n=this.wtt.get(t))||n.Ds()},n.ktt=function(t){return this.ytt(t).ktt()},n.ytt=function(t){if(this.wtt.has(t))return this.wtt.get(t);var n=new NF;return this.wtt.set(t,n),n},n.Oo=function(){this.btt(),this.Ttt()},n.btt=function(){this.gtt=void 0,wc(this.ltt)},n.Ttt=function(){this.wtt.forEach((function(t){return t.Oo()}))},n.Ds=function(){this.wtt.forEach((function(t){return t.Ds()})),this.wtt.clear(),this.Oo(),this._tt&&(this._tt.Go(new Dc),this._tt=void 0)},Ar(t,[{key:"K8",get:function(){return this.gtt}},{key:"Stt",get:function(){for(var t=[],n=0,i=this.ltt;n<i.length;n++){var r=i[n];if("j8"===r.$u){var e,u=r.j8.w9,s=kF(r.c1,this.X6,u);t.push({j8:u,c1:r.c1,Tp:s,Sp:s+(null!=(e=u.Sm)?e:0)})}}return t}},{key:"Ett",get:function(){var t=[];return this.wtt.forEach((function(n){for(var i=0,r=n.Itt;i<r.length;i++){var e=r[i];"j8"===e.$u&&t.push({j8:e.w9,c1:e.c1,Tp:e.Tp,Sp:e.Tp+e.Sm})}})),t}}]),t}(),NF=function(){function t(){this.Rtt=[],this.Ctt=void 0}var n=t.prototype;return n.mtt=function(t){this.Rtt.push(t),this.Ctt&&(this.Ctt.qo(),this.Ctt=void 0)},n.ptt=function(){return this.Rtt[0]},n.l9=function(t){hc(this.Rtt,t)},n.ktt=function(){return null!=this.Ctt||(this.Ctt=new kh),this.Ctt.Wo},n.Oo=function(){wc(this.Rtt)},n.Ds=function(){this.Oo(),this.Ctt&&(this.Ctt.Go(new Dc),this.Ctt=void 0)},Ar(t,[{key:"Itt",get:function(){return this.Rtt}}]),t}();yr(),zt(),kr();var DF=function(){function t(t,n){this.Ntt=gE.uP(),this.Dtt=t,this.X6=n}var n=t.prototype;return n.HV=function(t,n){var i=this;return ta((function(){var r,e,u,s;return ia(this,(function(o){switch(o.label){case 0:return r=t.Ud.Ud,i.Ptt(r),i.Dtt.$u!==$m.TTML?[3,3]:i.X6.p6(t.y4)?[3,2]:[4,Lc(i.X6.A6(t.y4),n)];case 1:o.sent(),o.label=2;case 2:for(e=i.Btt(r,t.y4),u=0;u<e.length;u++)s=e[u],i.Dtt._I(s);o.label=3;case 3:return[2]}}))}))()},n.MV=function(t,n){var i=this;return ta((function(){var r,e;return ia(this,(function(u){switch(u.label){case 0:return void 0===t.Ud?[2]:(r=t.Tp,e=r+t.Sm,i.Ntt=i.Ntt.XD(new gE([r,e])).HD(1e-6),i.X6.p6(t.y4)?[3,2]:[4,Lc(i.X6.A6(t.y4),n)]);case 1:u.sent(),u.label=2;case 2:return i.UV(t.Ud.Ud,t.y4,t.w9),[2]}}))}))()},n.UV=function(t,n,i){var r;this.Ptt(t),r=this.Dtt.$u===$m.WEBVTT?this.Ott(t,i):this.Btt(t,n);for(var e=0;e<r.length;e++){var u=r[e];this.Dtt._I(u)}},n.Ott=function(t,n){for(var i,r=function(t,n){return void 0===n&&(n=EA),OA(fh(dh(t),new ph),n)}(t),e=r.Fg,u=null!=(i=r.Bk)?i:{Ok:wA.BA,xk:wA.BA},s=0;s<e.length;s++){var o=e[s],a=wA.gk(o.Tp).fA(u.xk).sp(u.Ok),c=this.X6.E6(a,n).$p(),f=c+(o.Sp-o.Tp);o.Tp=c,o.Sp=f}return e},n.Btt=function(t,n){var i=this.X6.S6(n).$p();return Ck(t,this.Dtt,{Rk:0,Ck:1/0,Nk:i},gl)},n.Ptt=function(t){this.Dtt.$u===$m.DEFAULT&&(this.Dtt.$u=this.xtt(t)?$m.WEBVTT:$m.TTML)},n.xtt=function(t){return GA(fh(vh(dh(t),0,d.min(t.byteLength,7)),new ph))},n.vW=function(t,n){},n.dW=function(t,n){},Ar(t,[{key:"Xy",get:function(){return this.Ntt}},{key:"mW",get:function(){return gE.uP()}}]),t}();yr(),zt(),yr(),zt(),kr(),yr(),zt();var PF=function(t){function n(n,i){var r;return(r=t.call(this,xF.Ltt)||this).c1=n,r._0=i,r}return zr(n,t),n}(Qc);yr(),zt();var BF=function(t){function n(n){var i;return(i=t.call(this,xF.Mtt)||this).c1=n,i}return zr(n,t),n}(Qc);yr(),zt();var OF=function(t){function n(n,i){var r;return(r=t.call(this,xF.Ftt)||this).c1=n,r.m0=i,r}return zr(n,t),n}(Qc);yr(),zt();var xF,LF=function(t){function n(n,i){var r;return(r=t.call(this,xF.Utt)||this).c1=n,r.Htt=i,r}return zr(n,t),n}(Qc);!function(t){t.Ltt="Xtt",t.Ftt="ztt",t.Utt="Vtt",t.Mtt="Wtt"}(xF||(xF={}));var MF=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).qtt=void 0,e.Ih=new Nc,e.u9=n,e.X6=i,e.Gtt=r,e}zr(n,t);var i=n.prototype;return i.jtt=function(t){for(var n=0,i=this.Gtt;n<i.length;n++){var r=i[n];lc(t,r)||this.u9.Att(r)}this.Gtt=t},i.f9=function(){var t,n;return null!=(n=null==(t=this.qtt)?void 0:t.Wo)?n:j.resolve()},i.o9=function(){if(this.a9)throw new f("Cannot perform new operation while transmuxer is still busy")},i.Ytt=function(t,n){},i.Qtt=function(t){var n=this;this.o9(),this.qtt=new kh;var i=function(i){n.Ztt(t,i)};this.Ktt(t,this.Ih.Hs).then(i,i)},i.Jtt=function(t){var n=this;this.o9(),this.qtt=new kh;var i=function(i){n.Ztt(t,i)};this.$tt(t,this.Ih.Hs).then(i,i)},i.Ztt=function(t,n){this.qtt&&(!n||Pc(n)?(n||this.u9.O7(t),this.qtt.qo(),this.qtt=void 0):this.qtt.Go(n))},i.tnt=function(t,n){this.qs(new PF(t,n))},i.nnt=function(t,n){this.qs(new OF(t,n))},i.int=function(t,n,i){zM(n)&&this.qs(new LF(t,i))},i.rnt=function(t){this.qs(new BF(t))},i.mtt=function(t){lc(this.Gtt,t.D6)&&this.u9.mtt(t)},i.ent=function(t){return this.u9.ptt(t)},i.l9=function(t){this.u9.l9(t)},i.unt=function(t){return this.u9.ktt(t)},i.Ms=function(){this.Ih.Ms(),this.Ih=new Nc},Ar(n,[{key:"snt",get:function(){return this.Gtt}},{key:"a9",get:function(){return void 0!==this.qtt}}]),n}(Gc);function FF(t,n){return zM(t)?0:n}var UF=function(t){function n(n,i,r){return t.call(this,n,i,[r])}zr(n,t);var i=n.prototype;return i.Ktt=function(t,n){Bc(n);var i={$u:"ont",Ud:t._4.Ud,D6:this.snt[0],y4:t.y4,ant:{_0:"",h4:t.h4},Tp:t.Tp,c1:t.c1,w9:t._4.w9};return this.mtt(i),j.resolve()},i.$tt=function(t,n){var i=this;return ta((function(){var r,e,u,s;return ia(this,(function(o){switch(o.label){case 0:return Bc(n),void 0===(r=t.j8.w9).DJ?[3,3]:i.X6.p6(t.y4)?[3,2]:[4,Lc(i.X6.A6(t.y4),n)];case 1:o.sent(),o.label=2;case 2:return e=i.X6.E6(r.DJ,r).$p(),[3,4];case 3:e=r.Tp,o.label=4;case 4:return s={$u:"j8",Ud:t.j8.Ud,D6:i.snt[0],cnt:FF(r,e),Tp:e,Sm:null!=(u=r.Sm)?u:0,Nk:0,y4:t.y4,c1:t.c1,w9:t.j8.w9},i.mtt(s),[2]}}))}))()},n}(MF);function HF(t,n){for(var i=function(i){var e=t[i],u=e.Tp;if(e.c1.M0.b4&&zM(e.j8))u=0;else{var s=function(t){return e.c1===t.c1&&VM(t.j8,e.j8)},o=ac(t,s);if(void 0!==o)u=d.min(u,o.Sp);else{var a=ac(n,s);void 0!==a&&(u=d.min(u,a.Q8.ND(0)))}}r=r.XD(gE.eP(u,e.Sp))},r=gE.uP(),e=0;e<t.length;e++)i(e);return r}yr(),zt();var XF=.001,zF=function(){function t(t,n,i,r){this.fnt=t,this.u9=n,this.hnt=i,this.mP=r,this.vnt=[]}var n=t.prototype;return n.P7=function(t){this.fnt.P7(t)},n.dnt=function(t){for(var n=this,i=function(t){var i=n.vnt[t];if(!i.r9)throw new f("Invalid state");var e=fc(r,(function(t){return t.$u===i.$u}));e>=0?(i.c9(r[e]),vc(r,e)):vc(n.vnt,t)},r=t.slice(),e=this.vnt.length-1;e>=0;e--)i(e);for(var u=0;u<r.length;u++){var s=r[u],o=new oF(s);this.vnt.push(new aF(s.$u,s,this.u9,o,this))}r.length>0&&this.u9.Oo();var a=t.map((function(t){return t.$u}));this.hnt.jtt(a)},n.mM=function(t){var n,i=(null==(n=this.mP)?void 0:n.mM(t))||!1;return i&&(this.Ms(),this.lnt.Oo()),i},n.wnt=function(t){for(var n=0,i=this.vnt;n<i.length;n++){var r=i[n];if(r.$u!==Hy.ed||r.a9)throw new f("Invalid state")}var e=new oF(t),u=new aF(Hy.ed,t,this.u9,e,this);this.vnt=[u]},n._nt=function(){for(var t=0,n=this.vnt;t<n.length;t++){n[t].y9.q8()}},n.gnt=function(t){var n=this.mnt.nP(t,XF);return n?n.ND(n.Q_-1):t},n.x7=function(t){return!!this.mnt.nP(t,XF)||this.fnt.x7(t)},n.ynt=function(t){return this.pnt.WN(t,XF)},n.Ant=function(t,n,i){for(var r=0,e=this.vnt;r<e.length;r++){var u=e[r].y9,s=u.J8;if(void 0!==s&&n>=s)return!u.Xy.OD().WN(s)}return n-t<i},n.Ms=function(){this.knt(),this.bnt()},n.knt=function(){this.Tnt.Ms()},n.bnt=function(){this.Snt.Ms(),this.Ent.forEach((function(t){return t.Ms()}))},n.Ds=function(){this.Ms(),this.Tnt.Ds()},Ar(t,[{key:"Ent",get:function(){return this.vnt}},{key:"Tnt",get:function(){return this.fnt}},{key:"Snt",get:function(){return this.hnt}},{key:"lnt",get:function(){return this.u9}},{key:"c1",get:function(){return this.fnt.c1}},{key:"K8",get:function(){var t=this.u9.K8;if(t)return t;if(this.vnt.length>0){var n=this.vnt[0].y9.K8;if(n&&this.vnt.every((function(t){return t.y9.K8===n})))return n}}},{key:"mnt",get:function(){if(0===this.vnt.length)return gE.uP();for(var t=HF(this.u9.Stt.concat(this.u9.Ett),gc(this.vnt,(function(t){return t.y9.n3}))).OD(),n=gE.uP(),i=0,r=this.vnt;i<r.length;i++){var e=r[i];n=n.XD(e.y9.Xy)}for(var u=0,s=this.vnt;u<s.length;u++){var o=s[u];n=n.VD(o.v9)}return n=n.XD(t)}},{key:"pnt",get:function(){if(0===this.vnt.length)return gE.uP();for(var t=HF(this.u9.Ett,gc(this.vnt,(function(t){return t.y9.n3}))).OD(),n=new gE([0,1/0]),i=0,r=this.vnt;i<r.length;i++){var e=r[i];n=n.LD(e.y9.Xy)}return n=n.XD(t)}}]),t}();yr(),zt();var VF=function(t){function n(){return t.call(this,px.B0)}return zr(n,t),n}(Qc);yr(),zt();var WF=function(t){function n(){return t.call(this,px.D0)}return zr(n,t),n}(Qc);yr(),zt(),kr(),yr(),zt(),kr();var qF="LazyMediaBuffer",GF=function(t){function n(n,i){var r;return(r=t.call(this)||this).we=n,r.Int=i,r.nh=void 0,r.H8=void 0,r.Rnt=new kh,r.vM=20,r.Cnt=!1,r.dM=30,r.hW=new iN,r}zr(n,t);var i=n.prototype;return i.FU=function(){return this.H8?this.H8.FU():this.Cnt},i.vW=function(t,n){qx.M1(qF,"Marking gap from "+t+" to "+n+"."),this.hW.qU(t,n),this.H8&&this.H8.vW(t,n)},i.dW=function(t,n){qx.M1(qF,"Removing gap from "+t+" to "+n+"."),this.hW.GU(t,n),this.H8&&this.H8.dW(t,n)},i.Nnt=function(t){this.H8=t,this.H8.sM=this.dM,this.H8.uM=this.vM;for(var n,i=this.hW.jU,r=0;r<i.Q_;r++)this.H8.vW(i.CD(r),i.ND(r));this.Cnt&&(qx.M1(qF,"End of stream"),null==(n=this.H8)||n.sW());this.H8.js(zC.vU,this.Ws),this.Rnt.qo(t)},i.Dnt=function(t){return Lc(this.Rnt.Wo,t)},i.MV=function(t,n,i){var r=this;return ta((function(){return ia(this,(function(e){switch(e.label){case 0:return[4,r.Dnt(i)];case 1:return[4,e.sent().MV(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.lW=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return[4,t.Dnt()];case 1:return[4,n.sent().lW()];case 2:return n.sent(),[2]}}))}))()},i.HV=function(t,n,i){var r=this;return ta((function(){return ia(this,(function(e){switch(e.label){case 0:return[4,r.Dnt(i)];case 1:return[4,e.sent().HV(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.Nf=function(t,n,i){var r=this;return ta((function(){return ia(this,(function(e){switch(e.label){case 0:return[4,r.Dnt(i)];case 1:return[4,e.sent().Nf(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.YV=function(t,n){var i=this;return ta((function(){return ia(this,(function(r){switch(r.label){case 0:return[4,i.Dnt()];case 1:return[4,r.sent().YV(t,n)];case 2:return r.sent(),[2]}}))}))()},i.sW=function(){this.Cnt=!0,this.H8&&this.H8.sW()},i.IU=function(t){return!!this.H8&&this.H8.IU(t)},i.RU=function(t){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return[4,n.Dnt()];case 1:return[4,i.sent().RU(t)];case 2:return i.sent(),[2]}}))}))()},i.Bh=function(){var t=this;return ta((function(){var n;return ia(this,(function(i){return t.Zs(),null==(n=t.H8)||n.Ks(zC.vU,t.Ws),[2]}))}))()},Ar(n,[{key:"md",get:function(){return this.nh}},{key:"gW",get:function(){return this.we}},{key:"Uf",get:function(){if(!this.H8)throw new Wl(Hl.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.H8.Uf}},{key:"uM",get:function(){return this.vM},set:function(t){this.vM=t,this.H8&&(this.H8.uM=t)}},{key:"Xy",get:function(){return this.H8?this.H8.Xy:gE.uP()}},{key:"mW",get:function(){return this.H8?this.H8.mW:this.hW.jU}},{key:"sM",get:function(){return this.dM},set:function(t){this.dM=t,this.H8&&(this.H8.sM=t)}}]),n}(Gc),jF="LazyMediaSource",YF=function(){function t(t,n,i){this.yN=t,this.Pnt=void 0,this.Bnt=void 0,this.Ont=new kh,this.KC=void 0,this.xnt=!1,this.nc=NaN,this.NJ=!1,this.Lnt=0,this.Mnt=1/0,this.Fnt=!1,this.Unt=!1,n&&(qx.M1(jF,"Created lazy media buffer for audio."),this.Pnt=new GF(Hy.$d,this)),i&&(qx.M1(jF,"Created lazy media buffer for video."),this.Bnt=new GF(Hy.il,this))}var n=t.prototype;return n.vq=function(t){this.nc=t,this.KC&&this.KC.vq(t)},n.sW=function(){this.NJ=!0,this.KC&&this.KC.sW()},n.iW=function(){this.NJ=!1,this.KC&&this.KC.iW()},n.wq=function(t,n,i,r){this.Lnt=t,this.Mnt=n,this.Fnt=Boolean(i),this.Unt=Boolean(r),this.KC&&this.KC.wq(t,n,i,r)},n.IU=function(t){return!this.KC||this.KC.IU(t)},n.RU=function(t){var n=this;return ta((function(){var i,r,e;return ia(this,(function(u){switch(u.label){case 0:if(!n.IU(t))throw new f("LazyMediaSource - Unable to reconfigure MediaSource.");return n.KC?[3,2]:(n.yN.BQ(),[4,n.yN.Cf(t)]);case 1:return e=u.sent(),_(n.nc)||e.vq(n.nc),n.NJ&&e.sW(),e.wq(n.Lnt,n.Mnt,n.Fnt,n.Unt),qx.M1(jF,"The MediaSource has been loaded."),n.xnt=!0,n.KC=e,null==(i=n.Pnt)||i.Nnt(n.KC.QW),null==(r=n.Bnt)||r.Nnt(n.KC.ZW),n.Ont.qo(e),n.yN.OQ(),[3,4];case 2:return[4,n.KC.RU(t)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))()},n.Ds=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t.KC?[4,t.KC.Ds()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},Ar(t,[{key:"Uf",get:function(){return{$u:lb.pI,_q:[],CN:[]}}},{key:"ly",get:function(){throw new f("Not implemented")}},{key:"QW",get:function(){return this.Pnt}},{key:"ZW",get:function(){return this.Bnt}},{key:"Xy",get:function(){return this.KC?this.KC.Xy:gE.uP()}},{key:"Sm",get:function(){return this.KC?this.KC.Sm:this.nc}},{key:"FU",get:function(){return!!this.KC&&this.KC.FU}},{key:"np",get:function(){return this.KC?this.KC.np:new gE([0,1/0])}}]),t}();function QF(t,n){void 0===n&&(n=!1);return function(i,r){void 0===r&&(r="*");for(var e,u,s,o=KF(i,"tag"),a=KF(null==r?"*":r,"range"),c=[],f=-1;++f<a.length;)if(e=a[f].toLowerCase(),n||"*"!==e){for(u=-1,s=[];++u<o.length;)if(t(o[u].toLowerCase(),e)){if(!n)return o[u];c.push(o[u])}else s.push(o[u]);o=s}return n?c:void 0}}yr(),zt();QF((function(t,n){return"*"===n||t===n||Fa(t,n+"-")}),!0),QF((function(t,n){var i=t.split("-"),r=n.split("-"),e=0,u=0;if("*"!==r[u]&&i[e]!==r[u])return!1;for(e++,u++;u<r.length;)if("*"!==r[u]){if(!i[e])return!1;if(i[e]!==r[u]){if(1===i[e].length)return!1;e++}else e++,u++}else u++;return!0}),!0);var ZF=QF((function(t,n){for(var i,r=n;;){if("*"===r||t===r)return!0;if((i=r.lastIndexOf("-"))<0)return!1;"-"===r.charAt(i-2)&&(i-=2),r=r.slice(0,i)}}));function KF(t,n){var i=t&&"string"==typeof t?[t]:t;if(!i||"object"!=typeof i||!("length"in i))throw new f("Invalid "+n+" `"+i+"`, expected non-empty string");return i}yr(),zt();var JF=function(t){function n(){return t.call(this,vw.Pv)}return zr(n,t),n}(Qc);yr(),zt();var $F=function(t){function n(){return t.call(this,vw.Dv)}return zr(n,t),n}(Qc);yr(),zt(),kr(),yr(),zt();var tU,nU=188;function iU(t){return rU(t)?1:function(t){return null!==BP(dh(t),new ph)}(t)?3:function(t){return function(t){if(t.length<376)return-1;for(var n=t.length<564?2:3,i=d.min(1e3,t.length-n*nU),r=0;r<=i;r++){for(var e=!0,u=0;u<n;u++)if(71!==t[r+u*nU]){e=!1;break}if(e)return r}return-1}(t)>=0}(t)?2:0}function rU(t){var n=hh(t,0,d.min(t.length,16384));return mk.wT(dh(n))}!function(t){t[t.Hd=0]="Hd",t[t.Qg=1]="Qg",t[t.Hnt=2]="Hnt",t[t.Xnt=3]="Xnt"}(tU||(tU={}));var eU=function(){function t(t,n,i,r){this.we=t,this.H8=n,this.znt=i,this.Vnt=r}var n=t.prototype;return n.Wnt=function(t){return this.H8===t},n.HV=function(t,n){var i=this;return ta((function(){return ia(this,(function(r){switch(r.label){case 0:return[4,i.H8.HV(t.Ud,{Jz:t.c1.vg},n)];case 1:return r.sent(),void 0!==i.Vnt&&i.we===Hy.il&&rU(t.Ud.Ud)&&i.Vnt.qnt(t.Ud.Ud),[2]}}))}))()},n.MV=function(t,n){var i=this;return ta((function(){var r,e,u;return ia(this,(function(s){switch(s.label){case 0:return Bc(n),qx.QT("HlsMediaBuffer","Got media data, appending to "+i.we+" MediaBuffer: "+SL(t.w9.W0)),r=t.cnt,e=t.Tp+t.Sm,u={DJ:t.Tp,Sm:t.Sm,Nk:t.Nk,Jz:t.c1.vg},void 0===t.Ud?[3,2]:[4,i.H8.MV(t.Ud,u,n)];case 1:s.sent(),i.Gnt(t.Ud,t),s.label=2;case 2:return i.jnt(r,e),[2]}}))}))()},n.Gnt=function(t,n){var i;if(rU(t.Ud)){var r=n.Tp,e=r+n.Sm,u=n.Nk;if(null==(i=this.znt)||i.G8(t.Ud,r,u),void 0!==this.Vnt&&this.we===Hy.il){var s=n.w9.Q4;this.Vnt.G8(t.Ud,r,e,u,n.c1,s)}var o=[];void 0!==this.znt&&o.push(this.znt),void 0!==this.Vnt&&o.push(this.Vnt),function(t,n){if(t.Q_>0)for(var i=t.CD(0),r=d.max(0,i-10),e=0;e<n.length;e++)n[e].cI(r)}(this.Xy,o)}},n.jnt=function(t,n){for(var i=this.H8.Xy,r=new gE([t,n]).VD(i),e=0;e<r.Q_;e++)this.H8.vW(r.CD(e),r.ND(e));for(var u=0;u<i.Q_;u++)this.H8.dW(i.CD(u),i.ND(u))},n.vW=function(t,n){this.H8.vW(t,n)},n.dW=function(t,n){this.H8.dW(t,n)},Ar(t,[{key:"$u",get:function(){return this.we}},{key:"Xy",get:function(){return this.H8.Xy}},{key:"mW",get:function(){return this.H8.mW}}]),t}();yr(),zt();yr(),zt(),yr(),zt(),kr(),yr(),zt();var uU=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,s,!1)||this).Ynt=r,o.I=e,o.Qnt=u,o}return zr(n,t),n.prototype.zp=function(n){return this===n||lm(this,n)&&t.prototype.zp.call(this,n)&&dm(this.Ep,n.Ep)},Ar(n,[{key:"bE",get:function(){return this.Ynt}},{key:"Bw",get:function(){return this.I}},{key:"Znt",get:function(){return this.Qnt}},{key:"y_",get:function(){return this.m_||(this.m_=function(t){return hm(Xp(t),{get schemeIDURI(){return t.bE},get value(){return t.Bw},get emsgID(){return t.Znt}})}(this)),this.m_}}]),n}(Yp);function sU(t,n){return""===n?t:t+" "+n}yr(),zt(),yr(),zt();var oU,aU,cU,fU=function(t){function n(){return t.call(this)}zr(n,t);var i=n.prototype;return i.Knt=function(t){return t.Mg=Dp.LOADED,this.q_(t),t},i.Jnt=function(t){for(var n=0,i=this.RT.Y_;n<i.length;n++){var r=i[n];if(r.Ng===t)return r}},n}(sb),hU=function(t){function n(n){var i;return(i=t.call(this)||this).hI=n,i}zr(n,t);var i=n.prototype;return i.G8=function(t,i,r){var e=mk.dT(dh(t));if(e){var u=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];fk(e,n)&&i.push(e)}return i}(e,AA.Rb);if(u.length){var s=n.$nt(e,i,r);this.tit(u,s,r)}}},i.tit=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],u=void 0,s=(u=1===e.hT?e.TE.toNumber()/e.qA+i:n+e.IE/e.qA)+e.SE/e.qA;"https://aomedia.org/emsg/ID3"===e.bE?this.nit(e,u):this.iit(e,u,s)}},i.iit=function(t,n,i){var r=sU(t.bE,t.Bw),e=this.Jnt(r);e||(e=this.rit(r),this.Knt(e)),e._I(new uU(n,i,t.bE,t.Bw,t.hg,t.EE))},i.nit=function(t,n){var i=LP(dh(t.EE));if(i){var r=sU(t.bE,t.Bw),e=this.Jnt(r);e||(e=this.eit(r),this.Knt(e));for(var u=0,s=i.wG;u<s.length;u++){var o=s[u],a=new GP(n,o);aP(a,e.Fg.Y_),e._I(a)}}},i.rit=function(t){var n=this.hI.lI(zk.Lb,"","","",void 0,$m.EMSG);return n.Ng=t,n.Dg=Dm.Bg,n},i.eit=function(t){var n=this.hI.lI(zk.Lb,"","","",void 0,$m.ID3);return n.Ng=t,n.Dg=Dm.Bg,n},i.Wf=function(){var n=this;return ta((function(){var i,r,e;return ia(this,(function(u){switch(u.label){case 0:for(i=0,r=n.RT.Y_;i<r.length;i++)e=r[i],n.hI.gI(e);return[4,t.prototype.Wf.call(n)];case 1:return u.sent(),[2]}}))}))()},n.$nt=function(t,n,i){var r=hk(t,AA.Cb);return r?lu(r.UE,r.qA)+i:n},n}(fU);function vU(t,n,i){return i===oU.uit?i:n!==aU.sit&&n!==aU.oit||i!==oU.ait&&i!==oU.cit?t?n===aU.fit?oU.hit:n===aU.vit?oU.dit:oU.uit:oU.wit:oU.cit}function dU(t,n,i,r){var e={byte:i},u=oU.ait,s=[],o=31&DN(n,e,r);e.byte+=1;for(var a=0;a<o;a+=1){var c=DN(n,e,r),f=4&c,h=3&c;u=vU(Boolean(f),h,u);var v=DN(n,e,r),d=DN(n,e,r);s.push({_it:t,fE:-1,git:!a,mit:Boolean(f),$u:h,kZ:u,yit:v,pit:d})}return s}function lU(t,n,i){var r=DN(t,n,i);if(!_(r))return String.fromCharCode(r)}function wU(t){var n=t.iz,i={byte:t.tz},r=t.nz,e=DN(n,i,r);if(255===e&&(i.byte+=1),181===e){var u=PN(n,i);if(47===u||49===u){if(49===u)if("GA94"!==function(t,n,i){for(var r="",e=i;e>0;)e-=1,r+=lU(t,n);return r}(n,i,4))return;if(3===DN(n,i,r)){47===u&&(i.byte+=1);var s=t;return s.Ait=i.byte,s}}}}function _U(t){return 4===t.JX}function gU(t){for(var n=t.filter(_U).map(wU).filter(re),i=[],r=0;r<n.length;r++){var e,u=n[r];(e=i).push.apply(e,Nr(dU(u.KX,u.iz,u.Ait,u.nz)))}return i}yr(),zt(),yr(),zt(),Or(),yr(),zt(),function(t){t[t.uit=0]="uit",t[t.ait=1]="ait",t[t.cit=2]="cit",t[t.dit=3]="dit",t[t.hit=4]="hit",t[t.wit=5]="wit"}(oU||(oU={})),function(t){t[t.sit=0]="sit",t[t.oit=1]="oit",t[t.fit=2]="fit",t[t.vit=3]="vit"}(aU||(aU={})),function(t){t[t.kit=47]="kit",t[t.Tit=49]="Tit"}(cU||(cU={})),yr(),zt();var mU="und";var yU=[{Nw:"Abkhaz",xk:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{Nw:"Afar",xk:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{Nw:"Afrikaans",xk:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{Nw:"Akan",xk:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{Nw:"Albanian",xk:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{Nw:"Amharic",xk:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{Nw:"Arabic",xk:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{Nw:"Aragonese",xk:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{Nw:"Armenian",xk:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{Nw:"Assamese",xk:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{Nw:"Avaric",xk:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{Nw:"Avestan",xk:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{Nw:"Aymara",xk:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{Nw:"Azerbaijani",xk:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{Nw:"Bambara",xk:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{Nw:"Bashkir",xk:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{Nw:"Basque",xk:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{Nw:"Belarusian",xk:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{Nw:"Bengali",xk:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{Nw:"Bihari",xk:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{Nw:"Bislama",xk:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{Nw:"Bosnian",xk:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{Nw:"Breton",xk:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{Nw:"Bulgarian",xk:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{Nw:"Burmese",xk:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{Nw:"Catalan",xk:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{Nw:"Chamorro",xk:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{Nw:"Chechen",xk:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{Nw:"Chichewa",xk:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{Nw:"Chinese",xk:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{Nw:"Chuvash",xk:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{Nw:"Cornish",xk:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{Nw:"Corsican",xk:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{Nw:"Cree",xk:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{Nw:"Croatian",xk:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{Nw:"Czech",xk:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{Nw:"Danish",xk:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{Nw:"Divehi",xk:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{Nw:"Dutch",xk:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{Nw:"Dzongkha",xk:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{Nw:"English",xk:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{Nw:"Esperanto",xk:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{Nw:"Estonian",xk:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{Nw:"Ewe",xk:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{Nw:"Faroese",xk:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{Nw:"Fijian",xk:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{Nw:"Finnish",xk:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{Nw:"French",xk:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{Nw:"Fula",xk:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{Nw:"Galician",xk:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{Nw:"Georgian",xk:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{Nw:"German",xk:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{Nw:"Greek",xk:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{Nw:"Guaran\xed",xk:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{Nw:"Gujarati",xk:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{Nw:"Haitian",xk:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{Nw:"Hausa",xk:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{Nw:"Hebrew",xk:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{Nw:"Herero",xk:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{Nw:"Hindi",xk:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{Nw:"Hiri Motu",xk:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{Nw:"Hungarian",xk:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{Nw:"Interlingua",xk:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{Nw:"Indonesian",xk:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{Nw:"Interlingue",xk:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{Nw:"Irish",xk:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{Nw:"Igbo",xk:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{Nw:"Inupiaq",xk:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{Nw:"Ido",xk:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{Nw:"Icelandic",xk:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{Nw:"Italian",xk:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{Nw:"Inuktitut",xk:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{Nw:"Japanese",xk:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{Nw:"Javanese",xk:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{Nw:"Kalaallisut",xk:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{Nw:"Kannada",xk:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{Nw:"Kanuri",xk:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{Nw:"Kashmiri",xk:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{Nw:"Kazakh",xk:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{Nw:"Khmer",xk:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{Nw:"Kikuyu",xk:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{Nw:"Kinyarwanda",xk:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{Nw:"Kyrgyz",xk:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{Nw:"Komi",xk:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{Nw:"Kongo",xk:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{Nw:"Korean",xk:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{Nw:"Kurdish",xk:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{Nw:"Kwanyama",xk:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{Nw:"Latin",xk:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{Nw:"Luxembourgish",xk:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{Nw:"Ganda",xk:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{Nw:"Limburgish",xk:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{Nw:"Lingala",xk:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{Nw:"Lao",xk:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{Nw:"Lithuanian",xk:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{Nw:"Luba-Katanga",xk:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{Nw:"Latvian",xk:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{Nw:"Manx",xk:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{Nw:"Macedonian",xk:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{Nw:"Malagasy",xk:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{Nw:"Malay",xk:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{Nw:"Malayalam",xk:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{Nw:"Maltese",xk:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{Nw:"M\u0101ori",xk:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{Nw:"Marathi",xk:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{Nw:"Marshallese",xk:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{Nw:"Mongolian",xk:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{Nw:"Nauru",xk:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{Nw:"Navajo",xk:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{Nw:"Northern Ndebele",xk:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{Nw:"Nepali",xk:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{Nw:"Ndonga",xk:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{Nw:"Norwegian Bokm\xe5l",xk:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{Nw:"Norwegian Nynorsk",xk:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{Nw:"Norwegian",xk:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{Nw:"Nuosu",xk:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{Nw:"Southern Ndebele",xk:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{Nw:"Occitan",xk:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{Nw:"Ojibwe",xk:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{Nw:"Old Church Slavonic",xk:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{Nw:"Oromo",xk:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{Nw:"Oriya",xk:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{Nw:"Ossetian",xk:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{Nw:"Panjabi",xk:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{Nw:"P\u0101li",xk:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{Nw:"Persian",xk:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{Nw:"Polish",xk:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{Nw:"Pashto",xk:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{Nw:"Portuguese",xk:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{Nw:"Quechua",xk:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{Nw:"Romansh",xk:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{Nw:"Kirundi",xk:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{Nw:"Romanian",xk:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{Nw:"Russian",xk:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{Nw:"Sanskrit",xk:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{Nw:"Sardinian",xk:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{Nw:"Sindhi",xk:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{Nw:"Northern Sami",xk:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{Nw:"Samoan",xk:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{Nw:"Sango",xk:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{Nw:"Serbian",xk:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{Nw:"Gaelic",xk:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{Nw:"Shona",xk:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{Nw:"Sinhala",xk:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{Nw:"Slovak",xk:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{Nw:"Slovene",xk:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{Nw:"Somali",xk:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{Nw:"Southern Sotho",xk:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{Nw:"Spanish",xk:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{Nw:"Sundanese",xk:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{Nw:"Swahili",xk:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{Nw:"Swati",xk:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{Nw:"Swedish",xk:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{Nw:"Tamil",xk:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{Nw:"Telugu",xk:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{Nw:"Tajik",xk:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{Nw:"Thai",xk:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{Nw:"Tigrinya",xk:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{Nw:"Tibetan Standard",xk:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{Nw:"Turkmen",xk:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{Nw:"Tagalog",xk:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{Nw:"Tswana",xk:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{Nw:"Tonga",xk:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{Nw:"Turkish",xk:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{Nw:"Tsonga",xk:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{Nw:"Tatar",xk:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{Nw:"Twi",xk:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{Nw:"Tahitian",xk:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{Nw:"Uyghur",xk:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{Nw:"Ukrainian",xk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{Nw:"Urdu",xk:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{Nw:"Uzbek",xk:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{Nw:"Venda",xk:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{Nw:"Vietnamese",xk:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{Nw:"Volap\xfck",xk:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{Nw:"Walloon",xk:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{Nw:"Welsh",xk:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{Nw:"Wolof",xk:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{Nw:"Western Frisian",xk:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{Nw:"Xhosa",xk:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{Nw:"Yiddish",xk:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{Nw:"Yoruba",xk:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{Nw:"Zhuang",xk:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{Nw:"Zulu",xk:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}];yr(),zt(),Or();function pU(t){var n,i=null!=(n=function(t){var n=t.RX,i=new BN;return i.VX(n,0,n.byteLength),GN(i).Az}(t))?n:24;return t.Sit/i}function AU(t){return t.$u===AA.yb}var kU;function bU(t,n,i,r,e){for(var u,s=function(t,n,i,r){var e=i.Sit,u=$e.fromNumber(t.kE||0),s=r.sp(wA.OA(u,e));return{Eit:r.$p(),Iit:r,Rit:s,Cit:r}}(t,0,i,r),o=wA.HA(t.Sm||0,i.Sit),a=t.vT||0,c=!(65536&a)&&1!==(a>>24&3),f=dh(e),h=new ph;h.Lo<f.byteLength;){var v=Vf(f,h);if((31&Hf(f,h,1))===ON.fz){var d,l=new BN;l.VX(e,h.Lo-1,h.Lo+v-1);var w=new qN(l),_=HN(s.Rit,w);(d=u=u||[]).push.apply(d,Nr(gU(_)))}h.Mo(v-1)}return na({},s,{Sm:o.$p(),Nit:o,Dit:s.Rit.$p(),Pit:s.Eit,Bit:c,Oit:u,xit:!1,Lit:!1})}function TU(t){return{XT:t.sT.XT,Sit:t.MT.sT.qA}}function SU(t){return t.$u===AA.Lk}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(kU||(kU={})),yr(),zt(),yr(),zt(),yr(),zt(),Or(),yr(),zt(),yr(),zt(),yr(),zt();var EU=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)}return zr(n,t),n}(Yp);yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt();var IU=function(){function t(t,n){this.SK=t,this.vK=n}return t.prototype.zp=function(t){return this.SK===t.SK&&this.vK===t.vK},t}(),RU=function(){function t(t,n){this.oU=t,this.Mit=n,this.Fit=""}var n=t.prototype;return n.Uit=function(t){this.Fit+=t},n.Hit=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Uit(i)}},Ar(t,[{key:"xK",get:function(){return this.Fit}},{key:"CK",get:function(){return[this]}},{key:"PK",get:function(){return this.oU}},{key:"MK",get:function(){return this.Mit}},{key:"LK",get:function(){return new IU(this.MK.SK,this.MK.vK+this.xK.length-1)}}]),t}(),CU=function(){function t(){}var n=t.prototype;return n.Xit=function(t){return t._k(this)},n.zit=function(t){var n=this;return function(t){var n;return(n=[]).concat.apply(n,Nr(t))}(t.map((function(t,i){return t._k(n,i)})))},n.Vit=function(t,n){return new NU(t,n).Wit()},t}(),NU=function(){function t(t,n){this.SK=t,this.qit=n,this.Git=[],this.jit=null}var n=t.prototype;return n.Wit=function(){if(this.Yit)return[];for(var t=0;t<this.SK.length;t++)this.Qit(t);return this.Zit(),this.Git},n.Kit=function(t){this.jit=new RU(mO,new IU(this.qit,t))},n.Zit=function(){this.jit&&(this.Git.push(this.jit),this.jit=null)},n.Qit=function(t){var n=this.SK[t];DU(n)?this.jit&&this.Zit():(this.jit||this.Kit(t),this.jit.Uit(n))},Ar(t,[{key:"Yit",get:function(){return this.SK.every(DU)}}]),t}();function DU(t){return null==t}var PU=function(){function t(){}return t.Jit=function(t,n,i){if(!(n>=i)){var r=gc(t,(function(t,n){return new NU(t.map((function(t){return t?t.$it():null})),n).Wit()}));if(0!==r.length)return new EU(n,i,r)}},t}(),BU="black",OU="white";yr(),zt(),yr(),zt();var xU=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce((function(t,n){return t[n[0]]=n[1],t}),{}),LU=function(){function t(){this.trt=[],this.nrt=0;for(var t=0;t<kO;t++)this.trt.push(null);this.irt=!1}var n=t.prototype;return n.rrt=function(t){for(var n=0;n<kO;n++)t&&(this.trt[n]=t.trt[n])},n.zp=function(t){for(var n=0;n<kO;n++)if(this.trt[n]!==t.trt[n])return!1;return!0},n.ert=function(){for(var t=0;t<kO;t++)if(null!==this.trt[t])return!1;return!0},n.urt=function(t){this.nrt!==t&&(this.nrt=t),this.nrt<0?this.nrt=0:this.nrt>kO&&(this.nrt=31)},n.ort=function(t){var n=this.nrt+t;this.urt(n)},n.art=function(){this.ort(-1),this.trt[this.nrt]=null},n.Uit=function(t){t>=144&&this.art();var n=function(t){return xU[t]?String.fromCharCode(xU[t]):String.fromCharCode(t)}(t);this.addParsedChar(n)},n.addParsedChar=function(t){this.nrt>=kO||(32===Number(t)?(this.trt[this.nrt]=this.irt?"</i>":"<i>",this.irt=!this.irt):this.trt[this.nrt]=t,this.ort(1))},n.crt=function(t){for(var n=t;n<kO;n++)this.trt[n]=null},n.Oo=function(){this.crt(0),this.nrt=0},n.frt=function(){this.crt(this.nrt)},n.hrt=function(t,n){for(var i=this.trt,r=null,e=0;e<kO;e++){var u=i[e];null===u?r=null:(r||(r={vrt:e,drt:t,Kp:0,WT:1,trt:[[]]},n.push(r)),r.trt[0].push(u),r.Kp++)}},n._k=function(t,n){return t.Vit(this.trt,n)},t}();var MU,FU=function(){function t(t,n){this.lrt=new Array(UU+1);for(var i=0;i<=UU;i++)this.lrt[i]=new LU;this.wrt=1,this._rt=0,this.grt=t,this.mrt=n,this.yrt=!1,this.prt=!1,this.Art=OU,this.krt=BU,this.Wf()}var n=t.prototype;return n.brt=function(t,n){var i="CC"+(this.grt<<1|this.mrt+1);if(t>=n)return null;var r=(new CU).zit(this.lrt.slice(1));return 0===r.length?null:{bp:new EU(t,n,r),_d:i,Trt:this.grt<<1|this.mrt+1}},n.Wf=function(){this.Srt(),this.wrt=1},n.Ert=function(){return this.wrt},n.Irt=function(t){this.wrt=t},n.urt=function(t){this.lrt[this.wrt].urt(t)},n.ort=function(t){this.lrt[this.wrt].ort(t)},n.Rrt=function(){return this._rt},n.Crt=function(t){this._rt=t},n.Uit=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case 0:i=void 0!==XU[n]?XU[n]:String.fromCharCode(n);break;case 1:i=zU[n];break;case 2:this.Nrt(),i=VU[n];break;case 3:this.Nrt(),i=WU[n]}i&&this.lrt[this.wrt].addParsedChar(i)}},n.Nrt=function(){this.lrt[this.wrt].art()},n.Drt=function(t,n,i){if(t>=n)for(var r=i-1;r>=0;r--)this.lrt[t+r]=this.lrt[n+r];else for(var e=0;e<i;e++)this.lrt[t+e]=this.lrt[n+e]},n.Prt=function(t,n){for(var i=0;i<=n;i++)this.lrt[t+i]=new LU},n.Srt=function(){this.Prt(0,UU)},n.Brt=function(){this.wrt=this._rt>0?this._rt:0,this.Srt()},n.Ort=function(t){this.yrt=t},n.xrt=function(t){this.prt=t},n.Lrt=function(t){this.Art=t},n.Mrt=function(t){this.krt=t},t}(),UU=15;!function(t){t[t.Frt=0]="Frt",t[t.Urt=1]="Urt",t[t.Hrt=2]="Hrt",t[t.Xrt=3]="Xrt"}(MU||(MU={}));var HU,XU={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},zU={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},VU={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},WU={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},qU=function(){function t(t,n){this.we=0,this.zrt=new FU(t,n),this.Vrt=new FU(t,n),this.Wrt=new FU(t,n),this.qrt=this.Vrt,this.Grt=0,this.jrt=void 0,this.Yrt=!1}var n=t.prototype;return n.Wf=function(){this.Yrt=!0,this.Grt=0,this.we=0,this.qrt=this.Vrt,this.jrt=void 0,this.Vrt.Wf(),this.Wrt.Wf(),this.zrt.Wf()},n.Qrt=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Zrt=function(t,n){var i=this.Qrt(t,n),r=(30&n)>>1,e=OU,u=!1;r<7?e=YU[r]:7===r&&(u=!0);var s=1==(1&n);if(4!==this.we){var o=this.qrt;if(3===this.we&&i!==o.Ert()){var a=1+o.Ert()-o.Rrt(),c=1+i-o.Rrt();o.Drt(c,a,o.Rrt()),o.Prt(0,c-1),o.Prt(i+1,UU-i)}o.Irt(i);var f=pO[t<<1&14|n>>5&1]-1;if(!(f<0)){var h=function(t,n){var i=n>95?n-96:n-64;return{hK:yO[i].hK,fK:yO[i].fK,vK:yO[i].vK,SK:t}}(f,n);o.urt(h.vK),this.qrt.Ort(s),this.qrt.xrt(u),this.qrt.Lrt(e),this.qrt.Mrt(BU)}}},n.Krt=function(t,n){this.qrt.Ort(!1),this.qrt.xrt(!1),this.qrt.Lrt(OU);var i=this.Jrt(t,MU.Frt," ".charCodeAt(0)),r=OU,e=!1,u=1==(1&n);return"white_italics"===(r=YU[(14&n)>>1])&&(r="white",e=!0),this.qrt.Ort(u),this.qrt.xrt(e),this.qrt.Lrt(r),i},n.Jrt=function(t,n,i){if(this.qrt.Uit(n,i),2===this.we||3===this.we){var r=this.$rt(this.qrt,this.Grt,t);return this.Grt=t,r}return null},n.$rt=function(t,n,i){return this.Yrt?null:2===this.we||3===this.we?t.brt(i,i+10):t.brt(n,i)},n.tet=function(t,n){var i=BU;0==(7&t)&&(i=jU[(14&n)>>1]),this.qrt.Mrt(i)},n.net=function(t){var n=GU,i=t.iet,r=t.ret,e=null;switch(i){case n.RCL:this.eet();break;case n.BS:this.uet();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:e=this.oet(2,r);break;case n.RU3:e=this.oet(3,r);break;case n.RU4:e=this.oet(4,r);break;case n.FON:e=this.aet(r);break;case n.RDC:this.cet(r);break;case n.TR:this.fet();break;case n.RTD:this.het();break;case n.EDM:e=this.vet(r);break;case n.CR:e=this.det(r);break;case n.ENM:this.let();break;case n.EOC:e=this.wet(r)}return e},n.det=function(t){var n=this.qrt;if(3!==this.we)return null;var i=this.$rt(n,this.Grt,t),r=n.Ert()-n.Rrt()+1;return n.Drt(r-1,r,n.Rrt()),n.Prt(0,r-1),n.Prt(n.Ert(),UU-n.Ert()),this.Grt=t,i},n.oet=function(t,n){this.qrt=this.Vrt;var i=this.qrt,r=null;return 3!==this.we&&4!==this.we&&(r=this.$rt(i,this.Grt,n),this.Vrt.Brt(),this.Wrt.Brt(),this.Yrt=!1,i.Irt(UU)),this.we=3,i.Crt(t),r},n.aet=function(t){return this.Jrt(t,MU.Frt," ".charCodeAt(0))},n.vet=function(t){var n=this.Vrt,i=null;return 4!==this.we&&(i=this.$rt(n,this.Grt,t)),n.Srt(),this.Yrt=!1,i},n.cet=function(t){this.we=2,this.qrt=this.Vrt,this.qrt.Crt(0),this.Grt=t},n.let=function(){this.Wrt.Srt()},n.wet=function(t){var n=null;4!==this.we&&(n=this.$rt(this.Vrt,this.Grt,t));var i=this.Wrt;return this.Wrt=this.Vrt,this.Vrt=i,this.eet(),this.Grt=t,n},n.eet=function(){this.we=1,this.qrt=this.Wrt,this.qrt.Crt(0)},n.uet=function(){this.qrt.Nrt()},n.fet=function(){this.zrt.Wf(),this.Yrt=!1,this.het()},n.het=function(){this.qrt=this.zrt,this.we=4},n._et=function(t,n,i){return this.qrt.Uit(MU.Frt,n),this.Jrt(t,MU.Frt,i)},n.met=function(t,n,i){var r=1&n?MU.Xrt:MU.Hrt;return this.Jrt(t,r,i)},n.yet=function(t){var n=t.pet,i=t.iet,r=t.ret;if(this.jrt===(n<<8|i))return this.jrt=void 0,null;if(this.jrt=n<<8|i,this.Aet(n,i))this.Zrt(n,i);else{if(this.ket(n,i))return this.Krt(r,i);if(this.bet(n,i))this.tet(n,i);else{if(this.Tet(n,i))return this.Jrt(r,MU.Urt,i);if(this.Eet(n,i))return this.met(r,n,i);if(this.Iet(n,i))return this.net(t);this.isTabOffset(n)&&this.qrt.ort(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.Iet=function(t,n){return 20==(246&t)&&32==(240&n)},n.Aet=function(t,n){return 16==(240&t)&&64==(192&n)},n.ket=function(t,n){return 17==(247&t)&&32==(240&n)},n.bet=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.Tet=function(t,n){return 17==(247&t)&&48==(240&n)},n.Eet=function(t,n){return 18==(246&t)&&32==(224&n)},t.Ret=function(t){return 16==(112&t)},t}(),GU={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.dD=0]="dD",t[t.Cet=1]="Cet",t[t.Net=2]="Net",t[t.Det=3]="Det",t[t.ed=4]="ed"}(HU||(HU={}));var jU=["black","green","blue","cyan","red","yellow","magenta","black"],YU=["white","green","blue","cyan","red","yellow","magenta","white_italics"];yr(),zt(),yr(),zt(),yr(),zt();var QU,ZU=function(){function t(t,n,i,r,e){this.Pet=t,this.yrt=n,this.prt=i,this.krt=r,this.Art=e}var n=t.prototype;return n.$it=function(){return this.Pet},n.Bet=function(){return this.yrt},n.Oet=function(){return this.prt},n.xet=function(){return this.krt},n.Let=function(){return this.Art},t}(),KU=function(){function t(t){this.Met=t,this.mD=!1,this.Fet=!1,this.Uet=0,this.Het=0,this.Xet=0,this.zet=0,this.Vet=0,this.Wet=2,this.qet=[],this.Fp=0,this.wrt=0,this.Get=0,this.prt=!1,this.yrt=!1,this.Art=OU,this.krt=BU,this.jet()}var n=t.prototype;return n.Yet=function(t,n,i,r,e,u,s){this.mD=t,this.Het=n,this.Uet=i,this.Xet=r,this.Fet=e,this.zet=u,this.Vet=s},n.jet=function(){this.qet=[];for(var t=0;t<$U;t++)this.qet.push(this.Qet())},n.Qet=function(){for(var t=[],n=0;n<JU;n++)t.push(null);return t},n.Zet=function(t){this.Ket()&&(this.qet[this.wrt][this.Get]=new ZU(t,this.yrt,this.prt,this.krt,this.Art),this.Get++)},n.Jet=function(){this.Ket()&&(this.Get<=0&&this.wrt<=0||(this.Get<=0?(this.Get=this.Vet-1,this.wrt--):this.Get--,this.qet[this.wrt][this.Get]=null))},n.Ket=function(){var t=this.wrt<this.zet&&this.wrt>=0,n=this.Get<this.Vet&&this.Get>=0;return t&&n},n.$et=function(){return this.mD},n.tut=function(t){for(var n=0,i=t;i<$U;i++,n++)this.qet[n]=this.qet[i];for(var r=0;r<t;r++,n++)this.qet[n]=this.Qet()},n.nut=function(){if(this.wrt+1>=this.zet)return this.tut(1),void(this.Get=0);this.wrt++,this.Get=0},n.iut=function(){this.qet[this.wrt]=this.Qet(),this.Get=0},n.brt=function(t,n){if(this.Fp>=t)return null;var i=PU.Jit(this.qet,this.Fp,t);return i?(this.rut(t),{bp:i,_d:"svc"+n,Trt:n}):null},n.eut=function(t,n){this.wrt=t,this.Get=n},n.uut=function(t){this.krt=t},n.sut=function(t){this.Art=t},n.out=function(t){this.yrt=t},n.aut=function(t){this.prt=t},n.cut=function(){this.wrt=0,this.Get=0,this.yrt=!1,this.prt=!1,this.Art=OU,this.krt=BU},n.fut=function(t){this.Wet=t},n.hut=function(){this.mD=!0},n.Dy=function(){this.mD=!1},n.vut=function(){this.mD=!this.mD},n.rut=function(t){this.Fp=t},t}();!function(t){t[t.lut=0]="lut",t[t.wut=1]="wut",t[t._ut=2]="_ut",t[t.gut=3]="gut"}(QU||(QU={}));var JU=42,$U=15,tH=function(){function t(t){this.mut=t,this.yut=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Aut=void 0}var n=t.prototype;return n.kut=function(t){var n=t.but(),i=n.Bw,r=n.ret;i===uH&&(i=i<<16|t.but().Bw);return i>=0&&i<=31?this.Tut(i,r):i>=128&&i<=159?this.Sut(t,i,r):(i>=4096&&i<=4127?this.Eut(t,255&i):i>=4224&&i<=4255?this.Iut(t,255&i):i>=32&&i<=127?this.Rut(i):i>=160&&i<=255?this.Cut(i):i>=4128&&i<=4223?this.Nut(255&i):i>=4256&&i<=4351&&this.Dut(255&i),null)},n.Rut=function(t){this.Aut&&(127!==t?this.Aut.Zet(String.fromCharCode(t)):this.Aut.Zet("\u266a"))},n.Cut=function(t){this.Aut&&this.Aut.Zet(String.fromCharCode(t))},n.Nut=function(t){if(this.Aut)if(void 0!==sH[t]){var n=sH[t];this.Aut.Zet(n)}else this.Aut.Zet("_")},n.Dut=function(t){this.Aut&&(160===t?this.Aut.Zet("[CC]"):this.Aut.Zet("_"))},n.Tut=function(t,n){if(!this.Aut)return null;var i=this.Aut,r=null;switch(t){case nH:i.Jet();break;case rH:i.$et()&&(r=i.brt(n,this.mut)),i.nut();break;case eH:i.$et()&&(r=i.brt(n,this.mut)),i.iut();break;case iH:i.$et()&&(r=i.brt(n,this.mut)),i.jet(),i.eut(0,0)}return r},n.Sut=function(t,n,i){if(n>=128&&n<=135){var r=7&n;this.Put(r)}else{if(136===n){var e=t.but().Bw;return this.But(e,i)}if(137===n){var u=t.but().Bw;this.Out(u,i)}else{if(138===n){var s=t.but().Bw;return this.xut(s,i)}if(139===n){var o=t.but().Bw;return this.Lut(o,i)}if(140===n){var a=t.but().Bw;return this.Mut(a,i)}if(143===n)return this.Wf(i);if(144===n)this.Fut(t);else if(145===n)this.Uut(t);else if(146===n)this.eut(t);else if(151===n)this.Hut(t);else if(n>=152&&n<=159){var c=(15&n)-8;this.Yet(t,c,i)}}}return null},n.Eut=function(t,n){n>=8&&n<=15?t.Qb(1):n>=16&&n<=23?t.Qb(2):n>=24&&n<=31&&t.Qb(3)},n.Iut=function(t,n){n>=128&&n<=135?t.Qb(4):n>=136&&n<=143&&t.Qb(5)},n.Put=function(t){this.yut[t]&&(this.Aut=this.yut[t])},n.Xut=function(t){var n;return ia(this,(function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return n<8?1==(1&t)&&this.yut[n]?[4,n]:[3,3]:[3,5];case 2:i.sent(),i.label=3;case 3:t>>=1,i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))},n.But=function(t,n){for(var i=null,r=0,e=this.Xut(t);r<e.length;r++){var u=e[r],s=this.yut[u];s.$et()&&(i=s.brt(n,this.mut)),s.jet()}return i},n.Out=function(t,n){for(var i=0,r=this.Xut(t);i<r.length;i++){var e=r[i],u=this.yut[e];u.$et()||u.rut(n),u.hut()}},n.xut=function(t,n){for(var i=null,r=0,e=this.Xut(t);r<e.length;r++){var u=e[r],s=this.yut[u];s.$et()&&(i=s.brt(n,this.mut)),s.Dy()}return i},n.Lut=function(t,n){for(var i=null,r=0,e=this.Xut(t);r<e.length;r++){var u=e[r],s=this.yut[u];s.$et()?i=s.brt(n,this.mut):s.rut(n),s.vut()}return i},n.Mut=function(t,n){for(var i=null,r=0,e=this.Xut(t);r<e.length;r++){var u=e[r],s=this.yut[u];s.$et()&&(i=s.brt(n,this.mut)),this.yut[u]=void 0}return i},n.Wf=function(t){var n=this.Mut(255,t);return this.Oo(),n},n.Oo=function(){this.Aut=void 0,this.yut=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.Fut=function(t){t.Qb(1);var n=t.but().Bw;if(this.Aut){var i=(128&n)>0,r=(64&n)>0;this.Aut.aut(i),this.Aut.out(r)}},n.Uut=function(t){var n=t.but().Bw,i=t.but().Bw;if(t.Qb(1),this.Aut){var r=3&n,e=(12&n)>>2,u=(48&n)>>4,s=3&i,o=(12&i)>>2,a=(48&i)>>4,c=this.zut(u,e,r),f=this.zut(a,o,s);this.Aut.sut(c),this.Aut.uut(f)}},n.eut=function(t){var n=t.but().Bw,i=t.but().Bw;if(this.Aut){var r=15&n,e=63&i;this.Aut.eut(r,e)}},n.Hut=function(t){t.Qb(1),t.Qb(1);var n=t.but().Bw;if(t.Qb(1),this.Aut){var i=3&n;this.Aut.fut(i)}},n.Yet=function(t,n,i){var r=void 0!==this.yut[n];if(!r){var e=new KU(n);e.rut(i),this.yut[n]=e}var u=t.but().Bw,s=t.but().Bw,o=t.but().Bw,a=t.but().Bw,c=t.but().Bw,f=t.but().Bw,h=(32&u)>0,v=127&s,d=(128&s)>0,l=o,w=1+(15&a),_=(240&a)>>4,g=1+(63&c);r&&0===(7&f)||this.yut[n].cut(),this.yut[n].Yet(h,v,l,_,d,w,g),this.Aut=this.yut[n]},n.zut=function(t,n,i){var r={0:0,1:0,2:1,3:1};return oH[r[t]<<2|r[n]<<1|r[i]]},t}(),nH=8,iH=12,rH=13,eH=14,uH=16,sH={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},oH=["black","blue","green","cyan","red","magenta","yellow","white"];yr(),zt();var aH=function(){function t(){this.Vut=[],this.Wut=null,this.qut=0}var n=t.prototype;return n.Gut=function(t){if(t.$u===aU.vit){var n=63&t.Bw;return this.qut=2*n-1,void(this.Wut=[])}if(this.Wut&&(this.qut>0&&(this.Wut.push(t),this.qut--),0===this.qut)){var i=new cH(this.Wut);this.Vut.push(i),this.Wut=null,this.qut=0}},n.jut=function(){return this.Vut},n.Yut=function(){this.Vut=[]},n.Oo=function(){this.Vut=[],this.Wut=[],this.qut=0},t}(),cH=function(){function t(t){this.Qut=0,this.Zut=t}var n=t.prototype;return n.Kut=function(){return this.Qut<this.Zut.length},n.Jut=function(){return this.Qut},n.but=function(){if(!this.Kut())throw new Wl(Hl.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Zut[this.Qut++]},n.Qb=function(t){if(this.Qut+t>this.Zut.length)throw new Wl(Hl.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Qut+=t},t}(),fH=function(){function t(){this.$ut=!1,this.tst=[],this.nst=[],this.ist=new aH,this.rst=0,this.ust=oa({CC1:new qU(0,0),CC2:new qU(0,1),CC3:new qU(1,0),CC4:new qU(1,1)}),this.sst=0,this.ost=0,this.ast=sa(),this.Wf()}var n=t.prototype;return n.Oo=function(){this.rst=0,this.tst=[],this.nst=[],this.ist.Oo(),this.Wf(),this.ast.forEach((function(t){t.Oo()}))},n.Wf=function(){this.sst=0,this.ost=0,this.ust.forEach((function(t){t.Wf()}))},n.o7=function(t,n){if(t.mit){var i=t.yit,r=t.pit,e=t.$u;e===aU.sit||e===aU.oit?this.tst.push({ret:n,$u:e,pet:i,iet:r,cst:this.tst.length}):this.$ut&&(this.nst.push({ret:n,$u:e,Bw:i,cst:this.nst.length}),this.nst.push({ret:n,$u:aU.fit,Bw:r,cst:this.nst.length}))}},n.YB=function(){var t=[];this.tst.sort((function(t,n){return t.ret-n.ret||t.cst-n.cst})),this.nst.sort((function(t,n){return t.ret-n.ret||t.cst-n.cst}));for(var n=0,i=this.tst;n<i.length;n++){var r=i[n],e=this.fst(r);e&&t.push(e)}for(var u=0,s=this.nst;u<s.length;u++){var o=s[u];this.ist.Gut(o)}for(var a=this.ist.jut(),c=0;c<a.length;c++){var f,h=a[c],v=this.hst(h);(f=t).push.apply(f,Nr(v))}return this.ist.Yut(),this.tst=[],this.nst=[],t},n.fst=function(t){var n=t.$u;if(qU.Ret(t.pet)){var i=t.pet>>3&1;0===n?this.sst=i:this.ost=i}var r="CC"+(n<<1|(n?this.ost:this.sst)+1),e=this.ust.get(r);return 255===t.pet&&255===t.iet||!t.pet&&!t.iet||!this.vst(t.pet)||!this.vst(t.iet)?(++this.rst>=45&&this.Wf(),null):(this.rst=0,t.pet&=127,t.iet&=127,t.pet||t.iet?qU.Ret(t.pet)?e.yet(t):e._et(t.ret,t.pet,t.iet):null)},n.hst=function(t){var n=[];try{for(;t.Kut();){var i=t.but().Bw,r=(224&i)>>5,e=31&i;if(7===r&&0!==e)r=63&t.but().Bw;if(0!==r){if(!this.ast.has(r)){var u=new tH(r);this.ast.set(r,u)}for(var s=this.ast.get(r),o=t.Jut();t.Jut()-o<e;){var a=s.kut(t);a&&n.push(a)}}}}catch(t){if(!(t instanceof Wl&&t.code===Hl.SUBTITLE_PARSE_ERROR))throw t}return n},n.vst=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}();yr(),zt();var hH=function(t){function n(n,i){var r;return(r=t.call(this,"dst")||this).Trt=n,r.bp=i,r}return zr(n,t),n}(Qc),vH=wA.gk(.1),dH=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).lst=[],n}zr(n,t);var i=n.prototype;return i.wst=function(t,n,i,r){var e=this._st(t,r);this.gst(e,n,i),this.YB()},i._st=function(t,n){var i,r=t.slice().sort(AO),e=this.lst;if(0===e.length)return r;if(0===r.length)return e;var u=e[0].dK,s=e[e.length-1].dK,o=r[0].dK,a=e[0].J0===r[0].J0;if(s.fA(o).oA().sA(wA.gk(2.5*n))&&a)i=e.concat(r).sort(AO);else if(o.iA(u)){for(var c=0;c<e.length&&e[c].dK.sA(o);)c++;for(var f=!1,h=!1,v=c,d=0;v<e.length&&d<r.length;v++,d++)lH(e[v],r[d])?f=!0:h=!0;var l=f&&!h,w=f&&h;!f&&h?i=e.concat(r).sort(AO):l?i=e.slice(0,c).concat(r):(i=r,w&&this.Wf())}else i=r,this.Wf();return i},i.gst=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],u=e.dK.$p();if(!i&&n-u<vH.$p())return void(this.lst=t.slice(r));this.mst(e,u)}this.lst=[]},n}(function(t){function n(){var n;return(n=t.call(this)||this).yst=new fH,n}zr(n,t);var i=n.prototype;return i.mst=function(t,n){this.yst.o7(t,n)},i.YB=function(){for(var t=this.yst.YB(),n=0;n<t.length;n++){var i=t[n];this.qs(new hH(i.Trt,i.bp))}},i.Wf=function(){this.yst.Oo()},i.Bh=function(){this.Zs(),this.yst.Oo()},n}(Gc));function lH(t,n){return t.dK.zp(n.dK)&&t.$u===n.$u&&t.yit===n.yit&&t.pit===n.pit}var wH=function(t){function n(n){var i;return(i=t.call(this)||this).pst=void 0,i.Ast=NaN,i.kst=NaN,i.bst=function(t){for(var n=i.Tst({Sst:t.Trt,Est:""}),r=t.bp,e=0,u=n.Fg.Y_;e<u.length;e++){var s=u[e];r.Tp<s.Tp&&r.Sp>s.Tp?r.Sp=s.Tp:r.Tp>s.Tp&&s.Sp>r.Tp?s.Sp=r.Tp:r.Tp===s.Tp&&(r.Sp=s.Sp)}n._I(r)},i.hI=n,i.Ist=sa(),i.Rst=new dH,i.Rst.js("dst",i.bst),i}zr(n,t);var i=n.prototype;return i.Cst=function(t){return this.Ist.get(t)},i.Tst=function(t){var n=this.Ist.get(t.Sst);return n||(n=this.Nst(t),this.Ist.set(t.Sst,n)),n},i.Nst=function(t){var n,i=[bm.Ag],r=function(t){if(t!==mU)for(var n=t.toLowerCase(),i=0;i<yU.length;i++){var r=yU[i];if(r[1]===n||r[2]===n||r["2T"]===n||r["2B"]===n||r[3]===n)return r}}(t.Est),e=r?r.Nw:"";t.Dst&&(e="easy "+e,i.push(bm.Ig)),n=t.wg?"CC "+t.wg:e?"CC "+e:"CC"+t.Sst;var u=this.hI.lI(zk.KE,n,n,t.Est,!1,$m.CEA608,void 0,i);return this.q_(u),u},i.qnt=function(t){var n=mk.dT(dh(t));this.pst=function(t){for(var n=0,i=t.RT;n<i.length;n++){var r=i[n],e=TU(r),u=r.MT.QT.JT.tS.iS,s=ac(u,(function(t){return t.$u===AA.Qk}));if(!s){var o=ac(u.filter((function(t){return t.$u===AA.mb})),(function(t){var n;return(null==(n=t.WS)?void 0:n.$u)===AA.Qk}));o&&(s=o.WS)}if(s){var a=NN(dh(s.NS.Ud),new ph),c=s.PS;return na({},e,{XT:r.sT.XT,NS:yh(s.NS.Ud),Kp:s.Kp,WT:s.WT,nE:c&&c.nE,tE:c&&c.tE,Kz:a.TX,Pst:a.SX,Jz:a.EX,RX:a.RX[0],CX:a.CX[0]})}}}(ac(n,SU))},i.G8=function(t,n,i,r,e,u){var s;if(this.pst&&(_(this.Ast)||!eu(this.Ast,n,1e-5))){_(this.kst)||eu(this.kst,n,.1)||this.Rst.Wf();for(var o,a=function(t,n,i,r,e){for(var u=function(n){var r=o[n],u=ac(r.RT,(function(t){return t.sT.XT===i.XT}));if(!u)return"continue";for(var c,f=u.sT.eE||0,h=u.sT.uE||0,v=u.wE?u.wE.wE:$e.ZERO,d=r.cE+(null!=(c=u.sT._E)?c:$e.ZERO).toNumber(),l=0,w=u.lE;l<w.length;l++)for(var _=w[l],g=d+(_.cE||0),m=0,y=_.AE;m<y.length;m++){var p=y[m],A=p.xo||h,k=new BN;k.VX(t,g,g+A);var b=wA.OA(v,i.Sit);k.jE=e(p,r,i,b,gh(t,g,g+A)),s.push(k),g+=A,v=v.add(p.Sm||f||a)}},s=[],o=n.filter(AU),a=r(i),c=0;c<o.length;c++)u(c);return s}(t,mk.dT(dh(t)),this.pst,pU,bU),c=null!=(o=null==(s=Ac(a,(function(t){return t.jE.Sm})))?void 0:s.jE.Sm)?o:0,f=function(t){for(var n=[],i=0;i<t.length;i++){var r,e=t[i];e.jE.Oit&&(r=n).push.apply(r,Nr(e.jE.Oit)),delete e.jE.Oit}for(var u=0;u<n.length;u+=1)n[u].fE=u;return n}(a),h=wA.gk(r),v=[],d=0;d<f.length;d++){var l=f[d];v.push(na({},l,{J0:e,dK:l._it.sp(h)}))}this.Rst.wst(v,i,u,c),this.Ast=n,this.kst=i}},i.Wf=function(){var n=this;return this.Rst.Wf(),this.Ist.forEach((function(t){t.Bh(),n.G_(t),n.hI.gI(t)})),this.Ist.clear(),this.pst=void 0,this.Ast=NaN,this.kst=NaN,t.prototype.Wf.call(this)},i.Bh=function(){return this.Rst.Ks("dst",this.bst),this.Rst.Bh(),t.prototype.Bh.call(this)},n}(sb);function _H(t){if(t.$u===_L.E3&&void 0!==t.z0){var n=t.z0.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.z0.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}yr(),zt(),yr(),zt();var gH=function(){function t(t){this.Bst=!1,this.r8=t}var n=t.prototype;return n.Ost=function(t,n){return this.Bst?this.r8.Ost(t,n):j.resolve(!1)},n.R9=function(t,n){return this.Bst?this.r8.R9(t,n):j.resolve(void 0)},n.S8=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return[4,n.r8.S8(t)];case 1:return i=r.sent(),n.Bst=void 0!==i,[2,i]}}))}))()},n.XF=function(t){return this.r8.XF(t)},t}();yr(),zt(),yr(),zt();var mH=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,vw.Wv,n,i,r,e,u)||this).ttt=s,a.Zy=o,a}return zr(n,t),n}(function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n)||this).xst=i,o.Lst=r,o.fE=e,o.XT=u,o.hl=s,o}return zr(n,t),n}(Qc));yr(),zt();var yH="LLHLSPlayer",pH=[ky._m,ky.gm,ky.ym,ky.O_],AH=[vw.Lv,vw.Fv,vw.vv],kH=function(t){function n(n,i,r,e,u,s,o){var a;(a=t.call(this)||this).mP=r,a.p9=e,a.Mst=u,a.Fst=sa(),a.Ust=!0,a.Hst=!0,a.Xst=!1,a.fI=new Nc,a.zst=void 0,a.L8=void 0,a.KC=void 0,a.f7=void 0,a.Vst=void 0,a.Wst=new Nc,a.M8=void 0,a.qst=void 0,a.Gst=void 0,a.jst=void 0,a.Yst=void 0,a.Qst=void 0,a.Zst=void 0,a.Kst=void 0,a.Jst=void 0,a.$st=[],a.JW=void 0,a.tq=void 0,a.tot=void 0,a.iot=void 0,a.rot=void 0,a.hnt=void 0,a.eot=new Nc,a.uot=void 0,a.sY=new Nc,a.uY=void 0,a.oot=-1,a.aot=void 0,a.cot=void 0,a.fot=void 0,a.hot=void 0,a.vot=void 0,a.dot=void 0,a.lot=!0,a.wot=0,a._ot=!1,a.AN=fE.dD,a.JC=void 0,a.$C=void 0,a.iq=gE.uP(),a.got=[],a.mot=void 0,a.yot=!1,a.pot=!1,a.Aot=void 0,a.kot=void 0,a.bot=0,a.Tot=!1,a.Sot=!1,a.Eot=void 0,a.Iot=void 0,a.nN=new tE,a.Rot=0,a.handleContentProtectionErrorEvent=function(t){a.JC=wp(t.errorObject),a.$C=t.errorObject,a.Ws(t)},a.handleBufferingErrorEvent=function(t){a.rN(new Wl(Hl.MEDIA_LOAD_ERROR,t.Ao.message,t.Ao))},a.Cot=function(){a.n6();var t=a.Sm;t!==a.Aot&&(a.Aot=t,a.qs(new Ey(a.Aot)))},a.Not=function(){a.Em&&a.qs(new Cy(a.Tm))},a.Dot=function(){a.qs(new Ay(a.Tm))},a.Pot=function(){a.Bot(),a.qs(new by(a.Tm))},a.oN=function(){void 0!==a.Iot&&Pr.ue(a.Iot),a.qs(new gb(a.Tm))},a.Oot=function(){a.qs(new JC(a.Tm))},a.II=function(){a.qs(new Ly(a.Tm,a.Mg))},a.qG=function(){var t=a.w1;_c(a.got,t)||(a.qs(new sF),a.got=t),a.qs(new Ry(a.Tm,a.zy))},a.xot=_e((function(t){t.hl===Hy.il&&a.Lot()&&Xc(a.Mot())}),200),a.Fot=function(t){var n;a.Rot+=t.l7,"j8"===t.d7&&t.hl===Hy.il&&Xc(a.Uot()),a.qs(new mH(function(t){if(t){if(void 0!==t.i3){var n,i,r=t.i3.CD+(null!=(i=t.i3.Q_)?i:0);return{Md:t.Bw,Hot:[null==(n=t.i3)?void 0:n.CD,r],vl:!0}}return{Md:t.Bw.toString()||"",vl:!0}}return{Md:"",vl:!0}}(t.uri),(null==(n=a.v1)?void 0:n.BC)||0,t.mediaSequenceNumeber,t.mediaTrackId,t.hl,t.httpStatusCode,t.l7))},a.Xot=function(){a.qs(new Dy(a.Tm))},a.uN=function(){a.qs(new Py(a.Tm))},a.zot=function(){a.qs(new By(a.Tm,a.Om))},a.Vot=function(){a.yN.Dm?a.qs(new _b(a.Tm)):(null!=a.Iot||(a.Iot=Pr.oe((function(){a.Sot&&(a.Eot=void 0,Xc(a.Wot()))}),2500)),a.Bot(),a.qs(new _b(a.Tm)))},a.qot=function(){a.Sot=!0,a.qs(new Oy(a.Tm,a.Mg))},a.Got=function(t){Pc(t)||Yk(t)||Qk(t)||(a.jot(),Xc(a.Yot()),a.qs(new sL(t)))},a.x8=function(){a.n6()},a.Qot=function(t){Xc(a.Zot(t.c1))},a.Kot=function(t){if(!Pc(t)){var n=t instanceof Wl?t:new Wl(Hl.MEDIA_DECODE_ERROR,t.message,t);a.rN(n)}},a.onTextTrackChange=function(t){if(a.Yst){var n=t.A_,i=ac(a.Yst.z4,(function(t){return n===a.Fst.get(t.vg)}));i&&(n.Dg===Dm.Bg||n.Dg===Dm.Pg?(Xc(a.Jot(i)),a.Fst.forEach((function(t){t!==n&&(t.Dg=Dm.Og)}))):a.Kst&&a.Kst===i&&Xc(a.$ot(a.Qst,a.Zst,void 0)))}};var c=$a(a);return a.retryOfflineRenditionsCallback=ta((function(t,n){return ia(this,(function(i){switch(i.label){case 0:return c.nat!==t&&c.m1!==t&&c.b1!==t?[2]:[4,c.M8.y8(t,n)];case 1:return i.sent(),t.M0.w6=-1/0,[2]}}))})),a.iat=function(){a.rat()},a.eat=function(){a.uat()},a.sat=function(t){a.M8.D8(t._0,t.c1.M0),a.oat.j1();var n=a.Yst;if(n){var i=void 0!==a.Qst&&!lc(n.q1,a.Qst),r=void 0!==a.Zst&&!lc(n.G1,a.Zst);(i||r)&&a.$ot(i?void 0:a.Qst,r?void 0:a.Zst,a.Kst).catch(le)}},a.aat=function(t){a.oat.Z1(t.c1,t.m0)},a.fat=function(t){a.oat.J1(t.c1,t.Htt.$p())},a.vat=function(t){a.M8.C8(t.c1)},a.r8=new gH(s),a.yN=n,a.vI=i,a.tN=new uL(a.mP.$L),a.dat=new oL(a.yN),a.wat=new AL(a.mP),a._at=o.retryConfiguration,a.$m=new _p,a.iy=new _p,a.oat=new Qx($a(a),a.$m,a.iy),a.gat=new Vk,a.RN=new ab(a.yN,a.vI),a.znt=new hU(a.yN),a.Vnt=new wH(a.yN),a.ey=new KS([a.gat,a.RN.RT,a.znt.RT,a.Vnt.RT]),a.TN=new QS(a.vI),a.yN.SN=a.TN,a.mat=new TH($a(a),a.yN),a.yat=new yb(a.mat,!0),a.pat(),a}zr(n,t);var i=n.prototype;return i.Lot=function(){if(void 0===this.iot)return!1;var t=aR();if(!this.iot.Tnt.htt(t))return!1;var n=this.iot.Tnt.att();if(void 0===n||void 0===n.j8.Sm)return!1;var i=this.Tm,r=this.Nm,e=this.iot.mnt.nP(i);return!((void 0!==e?e.ND(0)-i:0)>=2*n.j8.Sm*r)&&8*n.ftt/this.mP.$L.BC>=1.8*n.j8.Sm},i.Mot=function(){var t=this;return ta((function(){var n,i,r,e,u,s,o;return ia(this,(function(a){switch(a.label){case 0:return[4,t.K2()];case 1:return void 0===(i=a.sent())||void 0===(r=null==(n=t.iot)?void 0:n.Tnt.att())?[2]:(e=t.Yst,u=d.max(0,r.ftt-r.ctt),s=r.ftt*(i.BC/e.BC),u<=s?[2]:(o=i.BC<e.BC,[4,t.g1(i,o)]));case 2:return a.sent(),[2]}}))}))()},i.Aat=function(t){return mc(t,(function(t){return t.BC}))},i.Wot=function(){var t=this;return ta((function(){var n,i,r;return ia(this,(function(e){switch(e.label){case 0:return[4,t.bat()];case 1:return 0===(n=e.sent()).length?[2]:[4,t.Tat(n)];case 2:return(i=e.sent()).length>0&&(n=i),void 0===(r=t.Aat(n))?[3,4]:[4,t.g1(r,!0)];case 3:e.sent(),t.tN.z2(r.BC),e.label=4;case 4:return[2]}}))}))()},i.Uo=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1);var r=this;qx.QT(yH,"Seeking to "+t+" s."),this.mot=t,this.yot=n,this.kot=!0,this.pot=!0,this.qs(new Dy(t)),this.sY.Ms(),this.Xst&&(Pr.ue(this.bot),i?this.bot=Pr.oe((function(){return r.Sat(t,n)}),50):this.Sat(t,n))},i.Sat=function(t,n){Pr.ue(this.bot);var i=[this.f7,this.uot,this.uY].filter(re);this.sY=new Nc,this.uY=this.kQ(i,t,n,this.sY.Hs).catch(this.Got)},i.n6=function(){var t=function(t){for(var n=new gE([0,1/0]),i=0,r=0;r<t.length;r++){var e=t[r].M0.np;e.Q_>0&&(n=n.LD(e),i=d.max(i,e.CD(0)))}if(n.Q_>0)return n;return gE.rP(i)}([this.Qst,this.Zst].filter(re));0!==t.Q_&&(this.KC&&this.Eat&&this.KC.Sm!==1/0&&(t=new gE([t.CD(0),this.KC.Sm])),this.iq=t,this.Hst&&this.znt.cI(t.CD(0)),this.Ust&&this.Vnt.cI(t.CD(0)))},i.Ty=function(){return!1},i.By=function(){return pE},i.Dy=function(){qx.QT(yH,"Hiding the player."),this.yN.Dy()},i.yy=function(){qx.QT(yH,"Pausing the player."),this.yN.yy()},i.gy=function(){var t=this;return ta((function(){var n,i;return ia(this,(function(r){switch(r.label){case 0:return n=t.yN.gy(),t.Em&&(i=t.Iat).Q_>0&&t.Uo(i.CD(0)),t.Xst?[3,2]:[4,t.Cf()];case 1:r.sent(),r.label=2;case 2:return t.Bot(),[4,n];case 3:return r.sent(),[2]}}))}))()},i.Bot=function(){var t;if(!this.Rat())if(null==(t=this.v1)?void 0:t.M0.b4){var n,i=!0,r=0,e=null==(n=this.Yst)?void 0:n.M0.CD;if(!this.pot&&e&&(i=!e.c4,(r=e.a4)<0)){var u=this.v1.M0.f6;r+=u.ND(u.Q_-1)}this.Sat(r,i)}else this.Sat(1/0,!0);this.Cat()&&this.Sat(1/0,!0)},i.Rat=function(){var t,n=this.Iat;if(0===n.Q_)return!0;var i=null==(t=this.Nat)?void 0:t.WD(this.Tm);return(i&&i>0?this.Nat.ND(i):this.Tm)>=n.CD(0)},i.Cat=function(){return NH(this.Tm,this.Qst)||NH(this.Tm,this.Zst)},i.Dat=function(){this.JC=void 0,this.$C=void 0},i.rN=function(t){this.JC||(Xc(this.Wf()),this.JC=wp(t),this.$C=t,this.qs(new My(t)))},i.Ny=function(){qx.QT(yH,"Showing the player."),this.yN.Ny()},i.Sy=function(){throw new f("Not implemented")},i.Ey=function(){throw new f("Not implemented")},i.Uy=function(){},i.Hy=function(){this.Xst&&Xc(this.$ot(this.Qst,this.Zst,this.Kst,{Hy:!0}))},i.by=function(t,n,i){var r=this;return ta((function(){return ia(this,(function(e){switch(e.label){case 0:return qx.QT(yH,"Setting the player source to "+t.src+"."),r.Dat(),!r.zst||ly(r.zst)?[3,2]:[4,r.Wf()];case 1:e.sent(),Bc(i),e.label=2;case 2:return!t.src||ly(t)||(r.TN.LC(t.contentProtection),r.L8=t,r.Ust=!lc(t.ignoreEmbeddedTextTrackTypes,$m.CEA608),r.Hst=!lc(t.ignoreEmbeddedTextTrackTypes,$m.EMSG),r.js(px.x0,r.handleBufferingErrorEvent),r.M8=new tF(r.vI,r.r8,t.useCredentials,Pr.Du(t.src)),r.M8.js(KM.J6,r.x8),r.M8.js(KM.t8,r.Qot),r.M8.js(vw.Rv,r.Ws),r.M8.js(vw.Cv,r.Ws),r.Pat=new uF(t,r.M8,r.yN),r.ey.qC(r.Pat.wy),r.hnt=r.Mst.OJ(),n.textTracks&&r.BN(n.textTracks),db(r.ey),r.Bat()),[2]}}))}))()},i.Bat=function(){this.Wst.Ms(),this.Wst=new Nc,this.Vst=this.Oat(this.Vst,this.Wst.Hs).catch(this.Kot)},i.Oat=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return r=i.AN,t?[4,t]:[3,2];case 1:e.sent(),Bc(n),e.label=2;case 2:return r!==fE.dD&&i.M8?r===fE.Lb?(i.xat(n).catch(i.Kot),[2]):(i.Cf().catch(i.Kot),[2]):[2]}}))}))()},i.xat=function(t){var n=this;return ta((function(){var i,r;return ia(this,(function(e){switch(e.label){case 0:if(void 0===n.M8)return[2];if(n.M8.P8)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,n.M8.h8(t)];case 2:return e.sent(),[3,4];case 3:throw Oc(i=e.sent()),n.Jy=!1,new Wl(Hl.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+i.message,i);case 4:return[4,n.Lat()];case 5:return r=e.sent(),n.Mat(r),n.oat.z1(),[4,n.Fat(r,t)];case 6:return e.sent(),n.Uat(),[2]}}))}))()},i.Lat=function(){var t=this;return ta((function(){var n,i;return ia(this,(function(r){switch(r.label){case 0:if(t.Jst=t.M8.V1.W1,!t.Jst.length)throw new Wl(Hl.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");return[4,t.Hat(t.Jst)];case 1:if(0===(n=r.sent()).length)throw new Wl(Hl.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");return[4,t.Tat(n)];case 2:return(i=r.sent()).length>0&&(n=i),qx.QT(yH,"Selecting initial active variant stream."),[2,EH(n,t.L8.abr,t.mP,t._at.maximumBackoff)]}}))}))()},i.Fat=function(t,n){var i=this;return ta((function(){var r,e,u,s,o;return ia(this,(function(a){switch(a.label){case 0:return r=[],(e=RH(t.q1))&&i.qst!==e&&(qx.QT(yH,"Detected initial audio rendition."),i.qst=e,r.push(i.Xat(e,n))),(u=SH(t.z4))&&i.jst!==u&&(qx.QT(yH,"Detected initial subtitle rendition."),i.jst=u,r.push(i.Xat(u,n))),u||(s=SH(t.V4))&&(qx.QT(yH,"Detected initial closed caption rendition."),i.zat(t,s)),(o=RH(t.G1))&&i.Gst!==o&&(qx.QT(yH,"Detected initial video rendition."),i.Gst=o,e&&Sx(o,e)||r.push(i.Xat(o,n))),[4,j.all(r)];case 1:return a.sent(),[2]}}))}))()},i.Uat=function(){this.Tot||(this.Tot=!0,this.mat.Vat())},i.Xat=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,i.M8.y8(t,n)];case 1:return e.sent(),[3,5];case 2:return Oc(r=e.sent()),Yk(r)||Qk(r)?[4,i.Wat(t,n)]:[3,4];case 3:e.sent(),e.label=4;case 4:return[3,5];case 5:return[2]}}))}))()},i.Wat=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return i._ot?[2]:t.$u===_L.il?[3,2]:[4,i.qat(t,n)];case 1:return e.sent(),[3,7];case 2:return i.Jst&&i.Jst.length<=1?[4,i.qat(t,n)]:[3,4];case 3:return e.sent(),[3,7];case 4:return[4,i.Lat()];case 5:return r=e.sent(),i.Mat(r),[4,i.Fat(r,n)];case 6:e.sent(),e.label=7;case 7:return[2]}}))}))()},i.Cf=function(){return this.f7||(this.f7=this.ww(this.fI.Hs).catch(this.Kot)),this.f7},i.ww=function(t){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return n.Tot?[3,2]:[4,n.xat(t)];case 1:i.sent(),i.label=2;case 2:return n.$ot(n.qst,n.Gst,n.jst).catch(le),n.Xst=!0,[2]}}))}))()},i.BN=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.RN.dI(i)}},i.zat=function(t,n){if(this.Ust){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],e=_H(r);void 0!==e&&n.push({Sst:e,Est:r.gg||"",wg:r.Nw})}return n}(t.V4),r=0;r<i.length;r++){var e=i[r];this.Vnt.Tst(e)}if(void 0!==n){var u=_H(n);this.Vnt.Cst(u).Dg=Dm.Pg}}},i._1=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.Gat(i))throw new f("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.Jst=t},i.Gat=function(t){var n=this.V1;return!!n&&lc(n.W1,t)},i.jat=function(t){if(this.Yst)return ac(this.Yst.Q1,(function(n){return n===t}))},i.Mat=function(t){if(qx.QT(yH,"Setting active variant stream."),this.Yst!==t){var n;if((null==(n=this.Yst)?void 0:n.B3)!==(null==t?void 0:t.B3)){if(this.Yst)for(var i=0,r=this.Yst.z4;i<r.length;i++){var e=r[i];this.gI(e)}if(t)for(var u=0,s=t.z4;u<s.length;u++){var o=s[u];this.Yat(o)}}this.Yst=t,this.qs(new VF)}},i.Yat=function(t){var n=this.yN.lI(zk.Ob,void 0,t.Nw,t.gg,t.F0,void 0,void 0,t.q0.map(Wx).filter(re));this.gat.q_(n),this.Fst.set(t.vg,n),n.js(im.P_,this.onTextTrackChange)},i.gI=function(t){var n=this.Fst.get(t.vg);n&&(n.Ks(im.P_,this.onTextTrackChange),this.gat.G_(n),this.Fst.delete(t.vg),this.yN.gI(n))},i.bat=function(){var t=this;return ta((function(){var n,i,r,e;return ia(this,(function(u){switch(u.label){case 0:return 0!==(i=null!=(n=t.Jst)?n:t.V1.W1).length||t.Jst?1!==i.length||t.Jst?[4,t.Hat(i)]:(qx.QT(yH,"The HLS stream contains only a single variant stream, skipping ABR selection."),[2,[]]):(qx.QT(yH,"The HLS stream does not contain any variant streams, skipping ABR selection."),[2,[]]);case 1:return 0===(r=u.sent()).length?(qx.F1(yH,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),[2,[]]):0!==(e=CH(r,t._at.maximumBackoff)).length?[3,3]:t._ot?[2,[]]:(qx.F1(yH,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),t.wot++,[4,t.Qat(r)]);case 2:return u.sent(),[2,[]];case 3:return[2,e]}}))}))()},i.Uot=function(){var t=this;return ta((function(){var n,i;return ia(this,(function(r){switch(r.label){case 0:return[4,t.K2()];case 1:return void 0===(n=r.sent())?[2]:(i=!!t.Yst&&n.BC<t.Yst.BC,[4,t.g1(n,i)]);case 2:return r.sent(),[2]}}))}))()},i.K2=function(){var t=this;return ta((function(){var n,i,r,e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:return[4,t.bat()];case 1:return 0===(r=c.sent()).length?[2,void 0]:(e=function(t){var n=t.Tm,i=t.Xy.nP(n);return i?i.ND(0)-n:0}(t.yN),[4,t.Tat(r)]);case 2:return u=c.sent(),s={Kp:t.yN.Kp,WT:t.yN.WT,q2:e,Y2:null==(n=t.L8)||null==(i=n.abr)?void 0:i.restrictToPlayerSize},[4,t.wat.K2(r,t.Yst,u,s)];case 3:return o=c.sent(),a=!!t.Yst&&o.BC<t.Yst.BC,[2,a||t.Zat(o,r,e)?o:void 0]}}))}))()},i.Zat=function(t,n,i){var r;if(t===this.v1)return!1;if(t===this.Aat(n))return!0;(!this.Eot||this.Eot.d1.BC>t.BC)&&(this.Eot={d1:t,Eit:Pr.re()});var e,u=Pr.re()-this.Eot.Eit,s=null!=(e=null==(r=this.b1)?void 0:r.M0.W2)?e:1/0;return i>=d.max(s-1,5)||u>1e3},i.Qat=function(t){var n=this;return ta((function(){var i,r,e,u;return ia(this,(function(s){switch(s.label){case 0:n._ot=!0,i=!1,r=0,s.label=1;case 1:if(!(r<t.length))return[3,6];e=t[r],s.label=2;case 2:return s.trys.push([2,4,,5]),void 0===(u=n.Zst?ac(e.G1,(function(t){return Tx(t,n.Zst)})):void 0)?[3,5]:[4,n.y8(u)];case 3:return s.sent(),u.M0.w6=-1/0,i=!0,[3,5];case 4:return s.sent(),[3,5];case 5:return r++,[3,1];case 6:return i?(n.wot=0,[4,n.Kat()]):[3,8];case 7:return s.sent(),[3,10];case 8:return n.wot>=n._at.maxRetries?(n.rN(new Wl(Hl.MEDIA_LOAD_ERROR,"The provided video renditions could not be loaded.")),[2]):[4,Wc(d.min(n._at.minimumBackoff*d.pow(2,n.wot-1),n._at.maximumBackoff))];case 9:s.sent(),s.label=10;case 10:return n._ot=!1,[4,n.Uot()];case 11:return s.sent(),[2]}}))}))()},i.Hat=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return[4,kc(t,ta((function(t){var i,r,e;return ia(this,(function(u){switch(u.label){case 0:return t._0?(r=!t._0.E1)?[3,2]:[4,n.dat.MU('audio/mp4; codecs="'+t._0.E1+'"')]:[2,!0];case 1:r=u.sent(),u.label=2;case 2:return(i=r)?(e=!t._0.C1)?[3,4]:[4,n.dat.MU('video/mp4; codecs="'+t._0.C1+'"')]:[3,5];case 3:e=u.sent(),u.label=4;case 4:i=e,u.label=5;case 5:return[2,i]}}))})))];case 1:return(i=r.sent()).some((function(t){var n;return null==(n=t._0)?void 0:n.C1}))&&(i=i.filter((function(t){return!t._0||t._0.C1||0!==t.G1.length}))),i.some((function(t){var n;return null==(n=t._0)?void 0:n.E1}))&&(i=i.filter((function(t){return!t._0||t._0.E1||0!==t.q1.length}))),[2,i]}}))}))()},i.Tat=function(t){var n=this;return this.M8.B8?kc(t,(function(t){return function(t,n){return Sc.apply(this,arguments)}([RH(t.q1),RH(t.G1),SH(t.z4),SH(t.V4)].filter(re),(function(t){return n.Jat(t)}))})):j.resolve([])},i.Jat=function(t){var n=this;return ta((function(){var i,r,e;return ia(this,(function(u){switch(u.label){case 0:if(0===t.M0.n3.length)return[2,!1];if(!(i=t.M0.n3[0]).W0)return[2,!1];r=i.W0,e=r.i3?kL(r.i3.CD,r.i3.Q_):void 0,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.r8.Ost(r.Bw,e)];case 2:return[2,u.sent()];case 3:return u.sent(),[2,!1];case 4:return[2]}}))}))()},i.g1=function(t,n){var i=this;return ta((function(){var r,e,u;return ia(this,(function(s){switch(s.label){case 0:if(!i.Xst)throw new f("LLHLSPlayer - The LLHLSPlayer is not loaded.");if(!t)throw new f("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");if(!i.Gat(t))throw new f("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");return t===i.Yst?(qx.QT(yH,"Trying to set the already active variant stream, ignoring."),[2]):(r=i.Qst?ac(t.q1,(function(t){return Tx(t,i.Qst)})):void 0,e=i.Zst?ac(t.G1,(function(t){return Tx(t,i.Zst)})):void 0,u=i.Kst?ac(t.z4,(function(t){return Tx(t,i.Kst)})):void 0,i.Mat(t),i.Eot=void 0,[4,i.$ot(r,e,u,{$at:n})]);case 1:return s.sent(),[2]}}))}))()},i.A1=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:if(!n.Xst)throw new f("LLHLSPlayer - The LLHLSPlayer is not loaded");if(!n.Yst)throw new f("LLHLSPlayer - Cannot set the active audio rendition when there is no active variant stream.");if(!t)throw new f("LLHLSPlayer - Cannot explicitly set the active audio rendition to undefined.");if(!(i=n.jat(t)))throw new f("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");return qx.QT(yH,"Switching audio rendition"),[4,n.$ot(i,n.Zst,n.Kst,{tct:!0})];case 1:return r.sent(),[2]}}))}))()},i.T1=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:if(!n.Xst)throw new f("LLHLSPlayer - The LLHLSPlayer is not loaded");if(!n.Yst)throw new f("LLHLSPlayer - Cannot set the active video rendition when there is no active variant stream.");if(!t)throw new f("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");if(!(i=n.jat(t)))throw new f("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");return qx.QT(yH,"Switching video rendition"),[4,n.$ot(n.Qst,i,n.Kst,{nct:!0})];case 1:return r.sent(),[2]}}))}))()},i.Jot=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:if(!n.Xst)throw new f("LLHLSPlayer - The LLHLSPlayer is not loaded");if(!n.Yst)throw new f("LLHLSPlayer - Cannot set the active subtitle rendition when there is no active variant stream.");if(!t)throw new f("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");if(!(i=n.jat(t)))throw new f("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");return qx.QT(yH,"Switching subtitle rendition"),[4,n.$ot(n.Qst,n.Zst,i)];case 1:return r.sent(),[2]}}))}))()},i.Zot=function(t,n){var i=this;return ta((function(){return ia(this,(function(r){switch(r.label){case 0:return i._ot?[2]:t.$u===_L.il?[3,2]:[4,i.qat(t,n)];case 1:return r.sent(),[3,8];case 2:return i.Jst&&i.Jst.length<=1?i.Zst===t?[3,4]:[4,i.$ot(i.Qst,t,i.Kst)]:[3,6];case 3:r.sent(),r.label=4;case 4:return[4,i.qat(t,n)];case 5:return r.sent(),[3,8];case 6:return[4,i.Uot()];case 7:r.sent(),r.label=8;case 8:return[2]}}))}))()},i.y8=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,i.M8.y8(t,n)];case 1:return e.sent(),[3,5];case 2:return Oc(r=e.sent()),Yk(r)||Qk(r)?[4,i.Zot(t,n)]:[3,4];case 3:e.sent(),e.label=4;case 4:throw r;case 5:return[2]}}))}))()},i.qat=function(t,n){var i=this;return ta((function(){var r,e;return ia(this,(function(u){switch(u.label){case 0:if(lc(i.$st,t))return[2];i.$st.push(t),u.label=1;case 1:return u.trys.push([1,3,4,7]),r=t.$u===_L.Ob||t.$u===_L.E3?1/0:i._at.maxRetries,[4,Fy((function(){return i.retryOfflineRenditionsCallback(t,n)}),n,r,i._at.minimumBackoff,i._at.maximumBackoff)];case 2:return u.sent(),[3,7];case 3:return e=u.sent(),i.rN(new Wl(Hl.MEDIA_LOAD_ERROR,e.message,e)),[3,7];case 4:return hc(i.$st,t),t.M0.w6!==-1/0?[3,6]:[4,i.Kat()];case 5:u.sent(),u.label=6;case 6:return[7];case 7:return[2]}}))}))()},i.$ot=function(t,n,i,r){void 0===r&&(r={});var e={$at:r.$at||!1,tct:r.tct||!1,nct:r.nct||!1,Hy:r.Hy||!1};return e.Hy||this.Qst!==t||this.Zst!==n||this.Kst!==i?void 0===t&&void 0===n?j.reject(new f("Trying to buffer no media renditions.")):(this.Qst=t,this.Zst=n,this.Kst=i,this.n6(),this.qs(new WF),this.sY.Ms(),this.sY=new Nc,this.eot.Ms(),this.eot=new Nc,this.uot=this.ict([this.uot,this.uY].filter(re),t,n,i,e,this.eot.Hs).catch(this.Got),this.uot):j.resolve()},i.ict=function(t,n,i,r,e,u){var s=this;return ta((function(){var o,a,c,f,h,v,d,l,w;return ia(this,(function(_){switch(_.label){case 0:return[4,j.all(t.map((function(t){return t.catch(le)})))];case 1:return _.sent(),s.jot(),[4,s.Yot()];case 2:return _.sent(),a=[],e.tct&&s.KC&&s.KC.QW&&a.push(s.KC.QW.Nf(0,1/0)),e.nct&&s.KC&&s.KC.ZW&&a.push(s.KC.ZW.Nf(0,1/0)),[4,j.all(a)];case 3:return _.sent(),Bc(u),[4,s.rct(n,i,e.Hy,u)];case 4:c=_.sent(),s.ect(n,i,e.$at||c),s.uct(r,e.$at),Bc(u),f=n&&i&&Sx(n,i),h=[i,f?void 0:n,r].filter(re),_.label=5;case 5:return _.trys.push([5,7,,8]),[4,j.all(h.filter((function(t){return!t.M0.d6})).map((function(t){var n;return null==(n=s.M8)?void 0:n.p8(t,u)})))];case 6:return _.sent(),[3,8];case 7:return Oc(_.sent()),[3,8];case 8:return Bc(u),s.lq(),s.n6(),void 0!==s.mot?s.Sat(s.mot,s.yot):!s.pot&&(null==(o=s.Yst)?void 0:o.M0.CD)?(v=s.Yst.M0,d=v.CD,l=d.a4,d.a4<0&&(w=v.f6,l+=w.ND(w.Q_-1)),s.Sat(l,!d.c4)):!s.pot&&h.every((function(t){return!t.M0.b4}))?s.Sat(1/0,!0):s.sct.length>0&&s.act(),[2]}}))}))()},i.rct=function(t,n,i,r){var e=this;return ta((function(){var u,s,o,a,c,f,h,v,d,l;return ia(this,(function(w){switch(w.label){case 0:return o=void 0!==t&&t!==n,a=void 0!==n,[4,e.cct(t,n,e.Yst)];case 1:return c=w.sent(),Bc(r),i||!e.KC||c?(f=void 0!==(null==(u=e.KC)?void 0:u.QW),h=void 0!==(null==(s=e.KC)?void 0:s.ZW),v=o!==f||a!==h,!i&&!v&&c&&e.KC&&e.KC.IU(c)?[4,e.fct(r)]:[3,4]):[2,!1];case 2:return w.sent(),[4,e.KC.RU(c)];case 3:return w.sent(),[2,!0];case 4:for(d=0,l=e.sct;d<l.length;d++)l[d].Ent.forEach((function(t){return t.Ms()}));e.yN.BQ(),w.label=5;case 5:return w.trys.push([5,,9,10]),e.KC?[4,e.yN.Wf()]:[3,7];case 6:w.sent(),w.label=7;case 7:return[4,e.hct(c,o,a)];case 8:return e.KC=w.sent(),[3,10];case 9:return e.yN.OQ(),[7];case 10:return[2,!0]}}))}))()},i.cct=function(t,n,i){var r=this;return ta((function(){var e,u,s,o,a,c,f,h,v,d,l,w;return ia(this,(function(_){switch(_.label){case 0:if(s=i._0,o=[],s&&s.E1)a='audio/mp4; codecs="'+s.E1+'"',qx.QT(yH,"Configuring MediaSource for initial audio rendition with codec: "+a+"."),o.push(a);else if(void 0!==t)return[2,void 0];if(s&&s.C1)c='video/mp4; codecs="'+s.C1+'"',qx.QT(yH,"Configuring MediaSource for initial video rendition with codec: "+c+"."),o.push(c);else if(void 0!==n)return[2,void 0];return 0===o.length?(qx.F1(yH,"No codecs found on the active variant stream."),[2,void 0]):(h=null!=(f=null==(e=null==n?void 0:n.M0.n3[0])?void 0:e.h4)?f:[],d=null!=(v=null==(u=null==t?void 0:t.M0.n3[0])?void 0:u.h4)?v:[],l=r.M8.V1,[4,UL(r.L8.contentProtection,o,l.K6.concat(d).concat(h),r.vI,r.L8.useCredentials)]);case 1:return w=_.sent(),[2,{$u:lb.pI,_q:o.map((function(t){return{md:t}})),CN:w}]}}))}))()},i.hct=function(t,n,i){var r=this;return ta((function(){var e;return ia(this,(function(u){switch(u.label){case 0:return t?[4,r.yN.Cf(t)]:[3,2];case 1:return e=u.sent(),[3,3];case 2:e=new YF(r.yN,n,i),u.label=3;case 3:return r.KC=e,r.lq(),r.rat(),r.uat(),[2,e]}}))}))()},i.lq=function(){var t=this.KC;if(t&&_(t.Sm)){var n,i,r,e=null!=(r=null==(n=this.Qst)?void 0:n.M0.Sm)?r:null==(i=this.Zst)?void 0:i.M0.Sm;void 0!==e&&e>0&&t.vq(e)}this.n6()},i.rat=function(){var t=this.KC;t&&(t.ZW&&(t.ZW.uM=this.mP.yM),t.QW&&(t.QW.uM=this.mP.yM))},i.uat=function(){var t=this.KC;t&&(t.ZW&&(t.ZW.sM=this.mP.sM),t.QW&&(t.QW.sM=this.mP.sM))},i.ect=function(t,n,i){if(!this.KC)throw new f("Invalid state");this.KC.QW?this.JW&&this.JW.Wnt(this.KC.QW)||(this.JW=new eU(Hy.$d,this.KC.QW,this.Hst?this.znt:void 0,this.Ust?this.Vnt:void 0)):this.JW=void 0,this.KC.ZW?this.tq&&this.tq.Wnt(this.KC.ZW)||(this.tq=new eU(Hy.il,this.KC.ZW,this.Hst?this.znt:void 0,this.Ust?this.Vnt:void 0)):this.tq=void 0;var r,e=t&&n&&Sx(t,n);if(this.tq&&n){var u=e&&this.JW?[this.tq,this.JW]:[this.tq];this.iot?this.iot.c1!==n&&(i&&(this.iot.Ms(),this.iot.lnt.Oo()),this.iot.P7(n)):(this.iot=function(t,n,i,r,e,u,s,o,a,c){var f=r.V1.zE,h=new CF(f),v=new SF(Hy.il,t,r,h,e,u,s,c),d=n.map((function(t){return t.$u})),l=o.vct(h,r.V1.zE,d),w=new zF(v,h,l,a);return w.dnt(n),w}(n,u,this.yN,this.M8,this.vI,this.r8,this.p9,this.hnt,this.mP,this.L8.useCredentials),this.iot.Tnt.js(bF.h7,this.xot),this.iot.Tnt.js(bF.v7,this.Fot),this.iot.Snt.js(xF.Ltt,this.sat),this.iot.Snt.js(xF.Ftt,this.aat),this.iot.Snt.js(xF.Utt,this.fat),this.iot.Snt.js(xF.Mtt,this.vat)),this.iot.dnt(u)}else{var s;null==(s=this.iot)||s.Ds(),this.iot=void 0}this.JW&&t&&!e?(this.tot?this.tot.c1!==t&&(i&&(this.tot.Ms(),this.tot.lnt.Oo()),this.tot.P7(t)):(this.tot=function(t,n,i,r,e,u,s,o,a,c){var f=r.V1.zE,h=new CF(f),v=new SF(Hy.$d,t,r,h,e,u,s,c),d=o.vct(h,r.V1.zE,[n.$u]),l=new zF(v,h,d,a);return l.dnt([n]),l}(t,this.JW,this.yN,this.M8,this.vI,this.r8,this.p9,this.hnt,this.mP,this.L8.useCredentials),this.tot.Tnt.js(bF.v7,this.Fot),this.tot.Snt.js(xF.Ltt,this.sat),this.tot.Snt.js(xF.Mtt,this.vat)),this.tot.dnt([this.JW])):(null==(r=this.tot)||r.Ds(),this.tot=void 0);this.dct()},i.uct=function(t,n){this.rot&&(this.rot.Tnt.c1===t?n&&(this.rot.Ms(),this.rot.lnt.Oo()):(this.rot.Ds(),this.rot=void 0));if(!this.rot&&t){var i=this.Fst.get(t.vg);i.Dg=Dm.Pg,this.rot=function(t,n,i,r,e,u,s){var o=i.V1.zE,a=new DF(n,o),c=new CF(o),f=new SF(Hy.ed,t,i,c,r,e,u,s),h=new UF(c,o,Hy.ed),v=new zF(f,c,h);return v.wnt(a),v}(t,i,this.M8,this.vI,this.r8,this.p9,this.L8.useCredentials)}},i.dct=function(){var t=[this.JW,this.tq].filter(re).map((function(t){return t.$u}));this.M8.V1.zE.L6(t)},i.kQ=function(t,n,i,r){var e=this;return ta((function(){var u;return ia(this,(function(s){switch(s.label){case 0:return[4,j.all(t.map((function(t){return t.catch(le)})))];case 1:return s.sent(),Bc(r),[4,e.Yot()];case 2:return s.sent(),Bc(r),e.mot=void 0,e.kot=void 0,e.pot=!0,u=e.Iat.xD(n),e.yN.Uo(u,i),e.Xst&&e.sct.length>0&&(e.lct(e.yN.Tm),e.act()),[2]}}))}))()},i.lct=function(t){for(var n=0,i=this.sct;n<i.length;n++){var r=i[n];r.x7(t)||(r.knt(),r.lnt.btt()),r.ynt(t)||(r.bnt(),r.lnt.Ttt())}},i.jot=function(){for(var t=0,n=this.sct;t<n.length;t++){n[t].Ms()}},i.Yot=function(){return j.all([this.wct(),this._ct(),this.gct()])},i.act=function(){this.mct(),this.yct(),this.pct()},i.Kat=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t.Xst&&t.sct.length>0?(t.sct.forEach((function(t){return t.knt()})),[4,t.wct()]):[3,2];case 1:n.sent(),t.mct(),t.sct.forEach((function(t){return t.Tnt.X7()})),n.label=2;case 2:return[2]}}))}))()},i.mct=function(){var t=this;if(!this.hot){var n=function(){t.hot=void 0};this.aot=new Nc,this.hot=this.Act(this.aot.Hs).catch(this.Got).then(n,n)}},i.wct=function(){var t=this;return ta((function(){var n,i;return ia(this,(function(r){switch(r.label){case 0:return null==(n=t.aot)||n.Ms(),i=t.hot,t.hot=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.Act=function(t){var n=this;return ta((function(){var i,r,e,u,s,o,a,c,f,h,v,d;return ia(this,(function(l){switch(l.label){case 0:Bc(t),i=n.sct,l.label=1;case 1:for(r=[],e=n.yN.Tm,u=0;u<i.length;u++)if(s=i[u],o=s.Tnt,a=s.gnt(e),o.a9)r.push(o.f9());else if(s.Ant(e,a,n.mP.yM)){if(void 0===(c=o.L7(a))){if(o.c1.M0.b4)continue;(f=o.c1.M0.n3).length&&f[0].Tp>a&&(n.Tm=1/0),o.W7(),o.U7(a)}else h=ra(c,2),v=h[0],d=h[1],o.j7(v,d,s.K8),s.Snt.Ytt(v,d);r.push(o.f9())}return[4,Fc((function(t){if(0===r.length){i.every((function(t){return t.Tnt.dtt}))||r.push(n.yN.oo(vw.Yv,t));for(var e=0;e<i.length;e++){var u=i[e];r.push(u.Snt.oo(xF.Mtt,t))}}return Lc(j.race(r),t)}),t)];case 2:return l.sent(),[3,1];case 3:return[2]}}))}))()},i.yct=function(){var t=this;if(!this.vot){var n=function(){t.vot=void 0};this.cot=new Nc,this.vot=this.kct(this.cot.Hs).catch(this.Got).then(n,n)}},i._ct=function(){var t=this;return ta((function(){var n,i;return ia(this,(function(r){switch(r.label){case 0:return null==(n=t.cot)||n.Ms(),i=t.vot,t.vot=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.kct=function(t){var n=this;return ta((function(){var i,r,e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:Bc(t),i=n.sct,c.label=1;case 1:for(r=[],e=0;e<i.length;e++)u=i[e],s=u.Tnt,(o=u.Snt).a9?r.push(o.f9()):(a=s.B7())?"j8"===a.$u?(o.Jtt(a),r.push(o.f9())):"_4"===a.$u&&(o.Qtt(a),r.push(o.f9())):r.push(s.z7());return 0!==r.length?[3,2]:[3,5];case 2:return[4,Lc(j.race(r),t)];case 3:c.sent(),c.label=4;case 4:return[3,1];case 5:return[2]}}))}))()},i.pct=function(){var t=this;if(!this.dot){this.fot=new Nc;var n=function(){t.dot=void 0};this.dot=this.bct(this.fot.Hs).catch(this.Got).then(n,n)}},i.gct=function(){var t=this;return ta((function(){var n,i;return ia(this,(function(r){switch(r.label){case 0:return null==(n=t.fot)||n.Ms(),i=t.dot,t.dot=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.bct=function(t){var n=this;return ta((function(){var i,r,e,u,s,o,a,c,f,h,v,d,l,w,_,g,m,y,p,A,k,b,T;return ia(this,(function(S){switch(S.label){case 0:for((i=n.sct).forEach((function(t){return t._nt()})),r=[],e=[],u=[],s=0;s<i.length;s++)for(o=i[s],a=o.Snt,c=0,f=o.Ent;c<f.length;c++)h=f[c],v=h.r9?r:e,h.a9?v.push(h.f9()):h.h9(n.yN.Tm)||((d=a.ent(h.$u))?"j8"===d.$u&&d.y4===n.oot?(h._9(d),v.push(h.f9())):"ont"===d.$u&&d.y4===n.oot&&(h.HV(d),v.push(h.f9())):u.push(a.unt(h.$u)));return 0!==r.length?[3,8]:(l=gc(i,(function(t){return t.Ent.filter((function(t){return t.r9})).map((function(n){return t.Snt.ent(n.$u)}))}))).length>0&&l.every((function(t){return void 0!==t&&"ont"===t.$u&&t.y4!==n.oot}))?(_=yc(w=l,(function(t){return t.y4})).y4,w.every((function(t){return t.y4===_}))?(g=mc(w,(function(t){return t.Tp})).Tp,[4,n.Tct(w)]):[3,6]):[3,8];case 1:return m=S.sent(),n.KC.IU(m)?(qx.M1(jx,"Seamless switch from",n.KC.Uf,"to",m),[4,n.KC.RU(m)]):[3,3];case 2:return S.sent(),qx.M1(jx,"Seamless switch complete."),[3,5];case 3:return[4,n.Sct(g,m,t)];case 4:S.sent(),S.label=5;case 5:return n.oot=w[0].y4,[3,7];case 6:for(y=0;y<i.length;y++)for(p=i[y],A=0,k=p.Ent;A<k.length;A++)for(b=k[A],T=p.Snt.ent(b.$u);T&&T.y4!==_;)p.Snt.l9(T),T=p.Snt.ent(b.$u);S.label=7;case 7:return[3,0];case 8:return 0===r.length&&0===e.length&&0===u.length?(i.every((function(t){return t.Ent.length>0&&t.Ent.every((function(t){return t.h9(n.yN.Tm)}))}))&&n.KC.sW(),[3,10]):[4,Lc(j.race(Nr(r).concat(Nr(e),Nr(u))),t)];case 9:return S.sent(),[3,0];case 10:return[2]}}))}))()},i.Tct=function(t){var n=this;return ta((function(){var i,r,e,u,s;return ia(this,(function(o){switch(o.label){case 0:return r=t.map((function(t){return t.ant._0})),e=r.map((function(t){return{md:t}})),u=gc(t,(function(t){return t.ant.h4})),(i=u).push.apply(i,Nr(n.M8.V1.K6)),[4,UL(n.L8.contentProtection,r,u,n.vI,n.L8.useCredentials)];case 1:return 0===(s=o.sent()).length&&n.KC&&n.KC.Uf.CN.length>0&&(s=n.KC.Uf.CN),[2,{$u:lb.pI,_q:e,CN:s}]}}))}))()},i.Sct=function(t,n,i){var r=this;return ta((function(){var e,u,s,o,a,c,f;return ia(this,(function(h){switch(h.label){case 0:if(u=r.KC,s=u.Sm,!(o=r.Tm<t))return[3,6];h.label=1;case 1:h.trys.push([1,5,,6]),qx.M1(jx,"Marking end of stream and waiting for ended to switch discontinuity."),u.sW(),h.label=2;case 2:return!r.yN.Em&&r.yN.Tm<t?[4,r.yN.oo([vw.Yv,vw.pv],i)]:[3,4];case 3:return h.sent(),[3,2];case 4:return[3,6];case 5:throw a=h.sent(),u.iW(),u.vq(s),a;case 6:qx.M1(jx,"Perform hard switch from",null==(e=r.KC)?void 0:e.Uf,"to",n),h.label=7;case 7:return h.trys.push([7,,10,11]),r.yN.BQ(),r.Tm<t&&r.yN.Uo(t,!0,!0),r.tq=void 0,r.JW=void 0,r.dct(),[4,r.yN.Wf()];case 8:return h.sent(),[4,r.yN.Cf(n)];case 9:return r.KC=h.sent(),r.lq(),r.rat(),r.uat(),r.KC.ZW&&(r.tq=new eU(Hy.il,r.KC.ZW,r.Hst?r.znt:void 0,r.Ust?r.Vnt:void 0)),r.KC.QW&&(r.JW=new eU(Hy.$d,r.KC.QW,r.Hst?r.znt:void 0,r.Ust?r.Vnt:void 0)),r.dct(),[3,11];case 10:return o&&Xc(r.yN.gy()),r.yN.OQ(),[7];case 11:return r.iot&&(c=void 0!==r.JW&&void 0===r.tot,f=c?[r.tq,r.JW]:[r.tq],r.iot.dnt(f)),r.tot&&r.tot.dnt([r.JW]),qx.M1(jx,"Hard switch complete."),[2]}}))}))()},i.fct=function(t){return Lc(zc(gc(this.sct,(function(t){return t.Ent.map((function(t){return t.f9()}))}))),t)},i.Bh=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return qx.QT(yH,"Unloading the player."),t.Ect(),t.Dat(),[4,t.Wf()];case 1:return n.sent(),t.yN.SN=void 0,t.gat.Bh(),[4,t.RN.Bh()];case 2:return n.sent(),[4,t.znt.Bh()];case 3:return n.sent(),[4,t.Vnt.Bh()];case 4:return n.sent(),t.$m.Bh(),t.iy.Bh(),t.ey.Bh(),t.yat.Bh(),t.mat.Ds(),t.p9.Ds(),[2]}}))}))()},i.Wf=function(){var t=this;return ta((function(){var n;return ia(this,(function(i){switch(i.label){case 0:return qx.QT(yH,"Resetting the player."),t.Ks(px.x0,t.handleBufferingErrorEvent),t.oot=-1,t.Wst.Ms(),t.Wst=new Nc,t.fI.Ms(),t.fI=new Nc,t.sY.Ms(),t.sY=new Nc,t.eot.Ms(),t.eot=new Nc,n=[t.Vst,t.f7,t.uY,t.uot].filter(re),[4,j.all(n.map((function(t){return t.catch(le)})))];case 1:return i.sent(),t.Vst=void 0,t.f7=void 0,t.uY=void 0,t.uot=void 0,t.Qst=void 0,t.Zst=void 0,t.Kst=void 0,t.Jst=void 0,t.qst=void 0,t.Gst=void 0,t.jst=void 0,t.$st=[],t.Mat(void 0),t.jot(),[4,t.Yot()];case 2:return i.sent(),t.tot&&(t.tot.Ds(),t.tot=void 0),t.iot&&(t.iot.Ds(),t.iot=void 0),t.rot&&(t.rot.Ds(),t.rot=void 0),t.JW=void 0,t.tq=void 0,t.KC=void 0,t.hnt&&(t.hnt.Ds(),t.hnt=void 0),t.M8&&(t.M8.Ds(),t.M8=void 0),t.Pat&&(t.ey.jC(t.Pat.wy),t.Pat=void 0),[4,t.RN.Wf()];case 3:return i.sent(),[4,t.znt.Wf()];case 4:return i.sent(),[4,t.Vnt.Wf()];case 5:return i.sent(),t.yN.UN(),[4,t.yN.Wf()];case 6:return i.sent(),t.L8=void 0,t.zst=void 0,t.Xst=!1,t.iq=gE.uP(),t.mot=void 0,t.Aot=void 0,t.kot=void 0,t.pot=!1,Pr.ue(t.bot),t.Tot=!1,t.Sot=!1,t.Rot=0,t.yat.Wf(),t.Ict(),t.qs(new py(t.Tm,t.Mg)),[2]}}))}))()},i.Ict=function(){for(var t=0,n=this.$m.Y_;t<n.length;t++){n[t].Bh()}for(var i=0,r=this.iy.Y_;i<r.length;i++){r[i].Bh()}for(var e=0,u=this.ey.Y_;e<u.length;e++){u[e].Bh()}this.$m.Wf(),this.iy.Wf(),this.ey.Wf(),this.Fst.clear()},i.pat=function(){this.yat.js(pH,this.Ws),this.yat.js(ky.Am,this.oN),this.yat.js(ky.pm,this.Vot),this.yat.js(ky.wm,this.qot),this.mP.js("aM",this.iat),this.mP.js("fM",this.eat),this.yN.js(AH,this.Ws),this.yN.js(vw.hv,this.handleContentProtectionErrorEvent),this.yN.js(vw.mv,this.Cot),this.yN.js(vw.pv,this.Not),this.yN.js(vw.Bv,this.Dot),this.yN.js(vw.Ov,this.Pot),this.yN.js(vw.xv,this.Oot),this.yN.js(ky.O_,this.II),this.yN.js(vw.Yv,this.qG),this.yN.js(vw.Hv,this.Xot),this.yN.js(vw.Uv,this.uN),this.yN.js(vw.Qv,this.zot)},i.Ect=function(){this.yat.Ks(pH,this.Ws),this.yat.Ks(ky.Am,this.oN),this.yat.Ks(ky.pm,this.Vot),this.yat.Ks(ky.wm,this.qot),this.mP.Ks("aM",this.iat),this.mP.Ks("fM",this.eat),this.yN.Ks(AH,this.Ws),this.yN.Ks(vw.hv,this.handleContentProtectionErrorEvent),this.yN.Ks(vw.mv,this.Cot),this.yN.Ks(vw.pv,this.Not),this.yN.Ks(vw.Bv,this.Dot),this.yN.Ks(vw.Ov,this.Pot),this.yN.Ks(vw.xv,this.Oot),this.yN.Ks(ky.O_,this.II),this.yN.Ks(vw.Yv,this.qG),this.yN.Ks(vw.Hv,this.Xot),this.yN.Ks(vw.Uv,this.uN),this.yN.Ks(vw.Qv,this.zot)},Ar(n,[{key:"Eat",get:function(){for(var t=[this.Qst,this.Zst].filter(re),n=0;n<t.length;n++){var i=t[n];if(!i.M0.b4)return!1;var r=i.M0.n3,e=r[r.length-1];if(e&&e.y4!==this.oot)return!1}return!0}},{key:"v1",get:function(){return this.Yst}},{key:"m1",get:function(){return this.Qst}},{key:"b1",get:function(){return this.Zst}},{key:"nat",get:function(){return this.Kst}},{key:"vy",get:function(){return this.$m}},{key:"Xy",get:function(){return this.yN.Xy.qN()}},{key:"w1",get:function(){var t=[];if(this.Yst)for(var n=this.yN.Tm,i=0,r=this.sct;i<r.length;i++)for(var e=0,u=r[i].Ent;e<u.length;e++){var s=u[e].d9(n);s&&!lc(t,s)&&t.push(s)}return t}},{key:"zy",get:function(){if(this.Yst){var t=this.yN.Tm;return this.Yst.M4(t)}},set:function(t){if(t&&this.Yst){var n=this.Yst.F4(t);void 0!==n&&this.Uo(n,!1,!0)}}},{key:"Tm",get:function(){var t;return null!=(t=this.mot)?t:this.yN.Tm},set:function(t){this.Uo(t,t===1/0,!0)}},{key:"Sm",get:function(){var t,n,i,r,e,u,s;if(!this.Eat)return null!=(s=null!=(u=null!=(e=null==(t=this.Qst)?void 0:t.M0.Sm)?e:null==(n=this.Zst)?void 0:n.M0.Sm)?u:null==(i=this.M8)||null==(r=i.O8)?void 0:r.M0.Sm)?s:1/0;var o=this.yN.Sm;if(_(o)){var a,c,f,h=null!=(f=null==(a=this.Gst)?void 0:a.M0.Sm)?f:null==(c=this.qst)?void 0:c.M0.Sm;if(void 0!==h)return h}return o}},{key:"Em",get:function(){if(!this.Eat)return!1;if(this.Dm&&this.Xst){var t,n,i=this.Tm,r=null==(t=this.Qst)?void 0:t.M0.Sm,e=null==(n=this.Zst)?void 0:n.M0.Sm;return!(void 0!==r&&i<r)&&!(void 0!==e&&i<e)}return this.yN.Em}},{key:"Ao",get:function(){return this.JC}},{key:"Im",get:function(){return this.$C}},{key:"_y",get:function(){}},{key:"Wy",get:function(){return!1}},{key:"qy",get:function(){return na({},{Gy:0,jy:0,Yy:0,Qy:0,Zy:0,Ky:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.yN.jN(),{Zy:this.Rot,Qy:this.mP.$L.BC})}},{key:"V1",get:function(){var t;return null==(t=this.M8)?void 0:t.V1}},{key:"Rm",get:function(){return this.yN.Rm},set:function(t){this.yN.Rm=t}},{key:"Jy",get:function(){return this.lot},set:function(t){this.lot!==t&&(this.lot=t,this.qs(t?new JF:new $F))}},{key:"Cm",get:function(){return this.yN.Cm}},{key:"Nm",get:function(){return this.yN.Nm},set:function(t){qx.QT(yH,"Setting playback rate to "+t+"."),this.yN.Nm=t}},{key:"$y",get:function(){return this.Rct.qN()}},{key:"Rct",get:function(){return this.yN.$y}},{key:"tp",get:function(){return this.AN},set:function(t){this.AN!==t&&(this.AN=t,this.Bat())}},{key:"Mg",get:function(){var t=this.yN.Mg;return this.Tot&&(t=d.max(ty.hm,t)),t}},{key:"np",get:function(){return this.Iat.qN()}},{key:"Iat",get:function(){var t=this.iq,n=[this.Qst,this.Zst].filter(re);if(t.Q_>0&&n.some((function(t){return!t.M0.b4}))){var i=this.Rct,r=t.ND(t.Q_-1);if(i.Q_>0&&i.ND(i.Q_-1)>r){var e=i.ND(i.Q_-1),u=function(t){return t.reduce((function(t,n){return t.LD(n.M0.f6)}),new gE([0,1/0]))}(n);u.Q_>0&&(e=d.min(e,u.ND(u.Q_-1))),t=t.XD(new gE([r,e]))}}return t}},{key:"Dm",get:function(){var t;return null!=(t=this.kot)?t:this.yN.Dm}},{key:"YN",get:function(){}},{key:"wy",get:function(){return this.ey}},{key:"ly",get:function(){return this.iy}},{key:"Pm",get:function(){return this.yN.Pm}},{key:"Bm",get:function(){return this.yN.Bm}},{key:"Om",get:function(){return this.yN.Om},set:function(t){qx.QT(yH,"Setting volume to "+t+"."),this.yN.Om=t}},{key:"ip",get:function(){return this.nN}},{key:"rp",get:function(){return!1},set:function(t){}},{key:"QN",get:function(){return this.tN}},{key:"Nat",get:function(){var t,n,i=null==(t=this.tot)?void 0:t.mnt,r=null==(n=this.iot)?void 0:n.mnt;return i?r?r.LD(i):i:r}},{key:"sct",get:function(){return[this.tot,this.iot,this.rot].filter(re)}}]),n}(Gc),bH=function(){function t(){}return t.prototype.KN=function(n,i){return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return sy(n.type)?n.useNativePlayback?[2,!1]:!(i=n.contentProtection)||tT(i)?[3,2]:rT(i)?[4,t.Cct(i)]:[2,!1]:[2,!1];case 1:if(!r.sent())return[2,!1];r.label=2;case 2:return[2,!0]}}))}))()},t.Cct=function(t){return ta((function(){var n,i,r;return ia(this,(function(e){switch(e.label){case 0:return t.aes128?[2,!0]:(n=t.playready)?[4,Pr.Eu()]:[3,2];case 1:n=e.sent(),e.label=2;case 2:return n?[2,!0]:(i=t.widevine)?[4,Pr.Iu()]:[3,4];case 3:i=e.sent(),e.label=4;case 4:return i?[2,!0]:(r=t.clearkey)?[4,Pr.Tu()]:[3,6];case 5:r=e.sent(),e.label=6;case 6:return r?[2,!0]:t.fairplay?[2,!1]:[4,Pr.Au()];case 7:return[2,e.sent()]}}))}))()},t}(),TH=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).pD=n,r}return zr(n,t),n.prototype.Vat=function(){this.qs(new Ly(this.Tm,this.Mg))},Ar(n,[{key:"Mg",get:function(){return this.pD.Mg}}]),n}(pb);function SH(t){var n=ac(t,(function(t){return t.F0})),i=t.filter((function(t){return t.U0})),r=Pr.Fu,e=i.map((function(t){return t.gg})).filter(re),u=ZF(e,r);return u?ac(i,(function(t){return t.gg===u})):n}function EH(t,n,i,r){void 0===r&&(r=zy.maximumBackoff);var e=CH(function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,r=n.preferredAudioCodecs;if(void 0!==i){for(var e,u=function(n){var u=i[n],s=t.filter((function(t){return t._0&&t._0.C1&&oD(t._0.C1,u)}));if(0===s.length)return"continue";if(void 0===r)return{v:s};void 0===e&&(e=s);var o=IH(s,r);return void 0!==o?{v:o}:void 0},s=0;s<i.length;s++){var o=u(s);if("object"===N(o))return o.v}if(void 0!==e)return e}if(void 0!==r){var a=IH(t,r);if(void 0!==a)return a}return t}(t,n),r);switch(i.eM.type){case tC.BANDWIDTH:var u=i.pM,s=e.filter((function(t){return t.BC<=u}));if(s.length>0)return yc(s,(function(t){return t.BC}));case tC.PERFORMANCE:return mc(e,(function(t){return t.BC}));case tC.QUALITY:return yc(e,(function(t){return t.BC}))}}function IH(t,n){for(var i=function(i){var r=n[i],e=t.filter((function(t){return t._0&&t._0.E1&&oD(t._0.E1,r)}));return 0===e.length?"continue":{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===N(e))return e.v}}function RH(t){var n;return null!=(n=SH(t))?n:t[0]}function CH(t,n){var i=n+2e3;return t.filter((function(t){return t.G1.some((function(t){return t.M0.w6<Pr.re()-i}))||0===t.G1.length}))}function NH(t,n){if(!n||n.M0.b4)return!1;var i=n.M0.n3;return 0!==i.length&&i[0].Tp>t}yr(),zt(),yr(),zt();var DH=function(){function t(){}var n=t.prototype;return n.k9=function(t,n,i){return ta((function(){var r,e;return ia(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,crypto.subtle.importKey("raw",n,{name:"AES-CBC"},!1,["decrypt"])];case 1:return r=u.sent(),[4,crypto.subtle.decrypt({name:"AES-CBC",iv:i},r,t)];case 2:return e=u.sent(),[2,new g(e)];case 3:throw u.sent(),new Wl(Hl.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 4:return[2]}}))}))()},n.Ds=function(){},t.Jf=function(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}();yr(),zt(),yr(),zt(),yr(),zt(),kr(),yr(),zt();var PH=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).data=i,r}return zr(n,t),n}(Qc),BH=["message","messageerror","error"];yr(),zt();var OH=function(t){function n(n){var i;return(i=t.call(this,Pm.Cg)||this).error=n,i}return zr(n,t),n}(Qc),xH=function(t){function n(n){var i;return(i=t.call(this)||this).Nct=void 0,i.Dct=[],i.Pct=function(t){if(i.Bct)t.Oct();else{i.Nct=t,i.Nct.js(BH,i.Ws);for(var n=0,r=i.Dct;n<r.length;n++){var e=r[n];t.xct(e._o,e.Lct)}wc(i.Dct)}},i.Mct=function(t){if(!i.Bct){var n=t instanceof f?t:new f("Could not create Worker.");i.qs(new OH(n)),i.Oct()}},i.Fct=new Nc,n(i.Fct.Hs).then(i.Pct,i.Mct),i}zr(n,t);var i=n.prototype;return i.xct=function(t,n){this.Bct||(void 0!==this.Nct?this.Nct.xct(t,n):this.Dct.push({_o:t,Lct:n}))},i.Oct=function(){this.Bct||(this.Fct.Ms(),wc(this.Dct),void 0!==this.Nct&&this.Nct.Oct())},Ar(n,[{key:"Bct",get:function(){return this.Fct.Hs.Es}}]),n}(Gc);function LH(t){return ae(t)&&"6.0.0"===t.Uct}yr(),zt(),yr(),zt();var MH=function(t){function n(n){var i;return(i=t.call(this)||this).Hct=function(t){i.qs(new PH("message",t.data))},i.Xct=function(t){i.qs(new PH("messageerror",t.data))},i.YY=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof f?t.error:new f(t.message);i.qs(new OH(n)),i.Oct()},i.Nct=new m(n),i.Nct.addEventListener("message",i.Hct),i.Nct.addEventListener("messageerror",i.Xct),i.Nct.addEventListener("error",i.YY),i}zr(n,t);var i=n.prototype;return i.xct=function(t,n){n?this.Nct.postMessage(t,n):this.Nct.postMessage(t)},i.Oct=function(){this.Zs(),this.Nct.removeEventListener("message",this.Hct),this.Nct.removeEventListener("messageerror",this.Xct),this.Nct.removeEventListener("error",this.YY),this.Nct.terminate()},n}(Gc);yr(),zt();var FH=0,UH=function(t){function n(n,i){var e;(e=t.call(this)||this).zct=function(){e.Vct.removeEventListener("load",e.zct),e.Vct.contentWindow.postMessage({type:"initialize",id:e.gf,script:e.Wct},"*")},e.qct=function(t){t.origin===e.Gct&&t.data.id===e.gf&&("initialized"===t.data.type||("error"===t.data.type?(e.qs(new OH(new f(t.data.data.message))),e.Oct()):e.qs(new PH("message",t.data.data))))},e.gf=FH++,e.Wct=n;var u=Pr.Nu("iframe.html",i);return e.Vct=function(t){var n=r.createElement("iframe");return n.width="0",n.height="0",n.style.display="none",n.src=t,r.body.appendChild(n),n}(u.href),e.Gct=u.origin,e.Vct.addEventListener("load",e.zct),self.addEventListener("message",e.qct),e}zr(n,t);var i=n.prototype;return i.xct=function(t,n){n?this.Vct.contentWindow.postMessage({type:"message",data:t},"*",n):this.Vct.contentWindow.postMessage({type:"message",data:t},"*")},i.Oct=function(){var t;this.Vct.removeEventListener("load",this.zct),self.removeEventListener("message",this.qct),null==(t=this.Vct.contentWindow)||t.postMessage({type:"terminate"},"*"),To(this.Vct)},n}(Gc);function HH(t,n){return t=Pr.Du(t,n),new xH((function(i){return function(t,n,i){return WH.apply(this,arguments)}(t,n,i)}))}var XH,zH,VH=!0;function WH(){return(WH=ta((function(t,n,i){var r,e,u,s,o,a,c;return ia(this,(function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,qH(r=new MH(t),i)];case 1:return f.sent(),[2,r];case 2:return e=f.sent(),null==r||r.Oct(),Oc(e),[3,3];case 3:if(!VH||!fw)return[3,13];f.label=4;case 4:return f.trys.push([4,7,,8]),[4,Pr.d_.xd({Md:t,ol:Uw.GET,Pd:dw.ed,Hs:i})];case 5:return[4,f.sent().dd(i)];case 6:return u=f.sent(),[3,8];case 7:return Oc(f.sent()),[3,8];case 8:if(!u)return[3,13];f.label=9;case 9:return f.trys.push([9,11,12,13]),o=fw([u],{type:"application/javascript"}),s=URL.createObjectURL(o),[4,qH(r=new MH(s),i)];case 10:return f.sent(),[2,r];case 11:return a=f.sent(),null==r||r.Oct(),Oc(a),VH=!1,[3,13];case 12:return s&&URL.revokeObjectURL(s),[7];case 13:return f.trys.push([13,15,,16]),[4,qH(r=new UH(t,n),i)];case 14:return f.sent(),[2,r];case 15:throw c=f.sent(),null==r||r.Oct(),c;case 16:return[2]}}))}))).apply(this,arguments)}function qH(t,n){return GH.apply(this,arguments)}function GH(){return(GH=ta((function(t,n){var i;return ia(this,(function(r){switch(r.label){case 0:return[4,t.oo(["message","error"],n)];case 1:if("error"===(i=r.sent()).type)throw jH(i.error);if(!LH(i.data))throw new Wl(Hl.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (6.0.0).");return[2,i]}}))}))).apply(this,arguments)}function jH(t){return new Wl(Hl.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}yr(),zt(),function(t){t.jct="k9",t.Yct="G9"}(XH||(XH={})),function(t){t.Qct="Zct",t.Kct="Jct"}(zH||(zH={}));var YH=function(){function t(t){var n=this;this.Nct=void 0,this.$ct=0,this.tft=ua(),this.nft=function(t){var i=t.data,r=i.ift,e=n.tft.get(r);e&&(n.tft.delete(r),i.rft===zH.Qct?e.qo(i.eft):i.rft===zH.Kct&&e.Go(new Wl(Hl.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.")))},this.Kl=function(t){var i=new Wl(Hl.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);n.Ds(i)},this.uft=t;try{this.sft=Pr.Du("theoplayer.d.js",t)}catch(t){throw new Wl(Hl.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var n=t.prototype;return n.oft=function(){var t=HH(this.sft,this.uft);return t.js("message",this.nft),t.js("error",this.Kl),t},n.k9=function(t,n,i){var r=""+ ++this.$ct,e={aft:XH.jct,cft:r,fft:t,hft:n,vft:i},u=new kh;return this.tft.set(r,u),null!=this.Nct||(this.Nct=this.oft()),this.Nct.xct(e),u.Wo},n.Ds=function(t){void 0===t&&(t=new Dc),this.tft.forEach((function(n){return n.Go(t)})),this.tft.clear(),this.Nct&&(this.Nct.Oct(),this.Nct=void 0)},t}();function QH(t){var n=ac(t.boxes,fN);if(n){var i=ac(n.boxes,hN);if(i)return i.handlerType}}function ZH(t){var n,i=new Qd;return(n=i.boxes).push.apply(n,Nr(t.boxes)),i}function KH(t){var n,i=new cd;return(n=i.boxes).push.apply(n,Nr(t.boxes)),i}yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),Or();function JH(t,n){for(var i=function(t){var n,i=new Ad;return(n=i.boxes).push.apply(n,Nr(t.boxes)),i}(t),r=tX(n),e=0;e<i.boxes.length;e++){var u=i.boxes[e];if(u===n)i.boxes[e]=new xv(new g(n.getSize()-8));else if(vN(u)){var s=u,o=fc(s.boxes,(function(t){return t instanceof od&&t.trackId===r}));if(o>=0){var a=s.boxes[o],c=KH(s);c.boxes[o]=new xv(new g(a.getSize()-8)),i.boxes[e]=c}}}return i}function $H(t,n){for(var i=function(t){var n,i=new Bd;return(n=i.boxes).push.apply(n,Nr(t.boxes)),i}(t),r=0;r<i.boxes.length;r++){var e=i.boxes[r];if(wN(e)){var u=ac(e.boxes,_N);u&&u.trackId===n&&(i.boxes[r]=new xv(new g(e.getSize()-8)))}}return i}function tX(t){return ac(t.boxes,cN).trackId}function nX(t,n,i,r){for(var e=ac(t.boxes,_N),u=i.GA(n).pA(),s=$e.ZERO,o=0,a=t.boxes;o<a.length;o++){var c=a[o];if(c instanceof Sd){s=tu(c.baseMediaDecodeTime,u),c.baseMediaDecodeTime=c.baseMediaDecodeTime.subtract(s);break}if(c instanceof Td){s=tu($e.fromNumber(c.baseMediaDecodeTime),u),c.baseMediaDecodeTime-=s.toNumber();break}}if(!s.isZero()){var f=ac(t.boxes,gN);if(void 0!==f&&f.samples.length>0){var h=f.samples;if(!f.flags.sampleDurationPresent){f.flags.sampleDurationPresent=!0;for(var v=null!=r?r:e.defaultSampleDuration,d=0;d<h.length;d++){h[d].duration=v}}h[0].duration+=s.toNumber(),f.samples=h}}}yr(),zt();var iX="Mp4Transmuxer",rX=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).RV=void 0,n.dft=void 0,n.lft=void 0,n.wft=void 0,n._ft=void 0,n}zr(n,t);var i=n.prototype;return i.Ktt=function(t,n){Bc(n);var i=t.c1,r=jN(dh(t._4.Ud.Ud));if(!r)throw new f("Mp4Transmuxer - Unable to parse "+i.$u+" MP4 initializer.");this.RV=r;var e=function(t){for(var n,i,r=0,e=t.RT;r<e.length;r++){var u=e[r];n||(n=u.Sz),i||(i=u.Tz)}if(n||i)return{E1:n,C1:i,j2:void 0};return}(r);e&&this.tnt(i,e);var u=function(t){for(var n=0,i=t.RT;n<i.length;n++){var r=i[n];if(void 0!==r.Ez)return r.Ez}return}(r);void 0!==u&&this.nnt(i,u);var s=function(t){var n,i,r,e,u,s=nl(t),o=ac(s.boxes,oN),a=o.boxes.filter(aN),c=ac(a,(function(t){return QH(t)===qv.AUDIO})),f=ac(a,(function(t){return QH(t)===qv.VIDEO})),h={E1:{XT:c?tX(c):void 0},C1:{XT:f?tX(f):void 0}},v=null==(n=ac(o.boxes,vN))?void 0:n.boxes.filter(dN),d=v?{E1:null!=(i=ac(v,(function(t){return t.trackId===h.E1.XT})))?i:void 0,C1:null!=(r=ac(v,(function(t){return t.trackId===h.C1.XT})))?r:void 0}:void 0;if(d&&(h.E1.eE=null==(e=d.E1)?void 0:e.defaultSampleDuration,h.C1.eE=null==(u=d.C1)?void 0:u.defaultSampleDuration),!c||!f)return{E1:c?t:void 0,C1:f?t:void 0,jE:h};var l=ZH(s),w=ZH(s),_=s.boxes.indexOf(o);l.boxes[_]=JH(o,f),w.boxes[_]=JH(o,c);var g=l.serialize().join(),m=w.serialize().join();return{E1:g,C1:m,jE:h}}(t._4.Ud.Ud);if(this.dft=s.jE,s.C1){var o=ac(r.RT,(function(t){return t.XT===s.jE.C1.XT})),a={$u:"ont",Ud:{$u:GC.lU,Ud:s.C1},D6:Hy.il,y4:t.y4,ant:{_0:'video/mp4; codecs="'+o.Tz+'"',h4:t.h4},Tp:t.Tp,c1:t.c1,w9:t._4.w9};this.mtt(a)}if(s.E1){var c=ac(r.RT,(function(t){return t.XT===s.jE.E1.XT})),h={$u:"ont",Ud:{$u:GC.lU,Ud:s.E1},D6:Hy.$d,y4:t.y4,ant:{_0:'audio/mp4; codecs="'+c.Sz+'"',h4:t.h4},Tp:t.Tp,c1:t.c1,w9:t._4.w9};this.mtt(h)}return j.resolve()},i.$tt=function(t,n){var i=this;return ta((function(){var r,e,u,s,o,a,c,f,h,v,d,l,w,_,g,m,y,p,A,k,b;return ia(this,(function(T){switch(T.label){case 0:if(Bc(n),r=t.j8.w9,qx.QT(iX,"Transmuxing fMP4: "+SL(r.W0)),e=t.j8.Ud,u=eX(e.Ud,i.RV),void 0!==(s=pc(u.map((function(t){return t.PJ})),_A))&&(r.DJ=s,i.rnt(t.c1)),i.X6.p6(t.y4))return[3,2];if(o=wA.gk(r.Tp),u.length>0){for(a=pc(u.map((function(t){return t.gft})),_A),c=0,f=i.snt;c<f.length;c++)h=f[c],i.X6.C6(t.y4,h,a,o,!1);i.rnt(t.c1)}return i.X6.p6(t.y4)?[3,2]:[4,Lc(i.X6.A6(t.y4),n)];case 1:T.sent(),T.label=2;case 2:return v=i.X6.S6(t.y4),d=r.DJ?i.X6.E6(r.DJ,r).$p():r.Tp,w={cnt:FF(r,d),Tp:d,Sm:null!=(l=r.Sm)?l:0,Nk:v.$p(),y4:t.y4,c1:t.c1,w9:t.j8.w9},(_=function(t,n){if(void 0===n.E1.XT)return{E1:void 0,C1:t};if(void 0===n.C1.XT)return{E1:t,C1:void 0};for(var i=nl(t),r=ZH(i),e=ZH(i),u=0;u<i.boxes.length;u++){var s=i.boxes[u];lN(s)&&(r.boxes[u]=$H(s,n.C1.XT),e.boxes[u]=$H(s,n.E1.XT))}var o=r.serialize().join(),a=e.serialize().join();return{E1:o,C1:a}}(e.Ud,i.dft)).C1&&(m=i.dft.C1.XT,y=ac(i.RV.RT,(function(t){return t.XT===m})),p=ac(u,(function(t){return t.XT===m})),A=i.mft(_.C1,y,p,null==(g=i.dft)?void 0:g.C1.eE,r),i._ft=y,i.int(t.c1,r,p.PJ.fA(s)),k=na({$u:"j8",Ud:{$u:GC.lU,Ud:A},D6:Hy.il},w),i.mtt(k)),_.E1&&(b=na({$u:"j8",Ud:{$u:GC.lU,Ud:_.E1},D6:Hy.$d},w),i.mtt(b)),i.lft=r,i.wft=u,[2]}}))}))()},i.mft=function(t,n,i,r,e){if(!function(t){return XM(t)?t.w4:0===t.q4&&t.W4.w4}(e))return t;if(!this.lft||!this._ft||!this.wft)return t;var u=this._ft.XT,s=ac(this.wft,(function(t){return t.XT===u})),o=this.X6.E6(s.yft,this.lft),a=this.X6.E6(i.PJ,e).fA(o).GA(n.qA);if(a.eA(wA.BA))return t;if(a.tA(wA.gk(.5)))return t;var c=XM(e)?e:e.W4;return qx.M1(iX,"Stretching first video frame of segment #"+c.Z3+" to fill gap of "+a.$p()+"s"),function(t,n,i,r){var e=nl(t),u=ac(e.boxes,lN);if(u){for(var s=u.getSize(),o=0,a=u.boxes;o<a.length;o++){var c=a[o];c instanceof Dd&&nX(c,n,i,r)}var f=u.getSize();if(f!==s)for(var h=f-s,v=0,d=u.boxes;v<d.length;v++){var l=d[v];l instanceof Dd&&mN(l,h)}}return e.serialize().join()}(t,n.qA,a,r)},n}(MF);function eX(t,n){var i=hk(mk.dT(dh(t)),AA.yb);if(!i)throw new f("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=function(t,i){var e=i[t];if(!e.wE||0===e.lE.length||0===e.lE[0].AE.length)return"continue";for(var u=e.sT.XT,s=ac(n.RT,(function(t){return t.XT===u})),o=0,a=1/0,c=0,f=e.sT.eE||0,h=0,v=e.lE;h<v.length;h++)for(var d=0,l=v[h].AE;d<l.length;d++){var w,_=l[d],g=_.kE||0,m=o+g,y=(o+=null!=(w=_.Sm)?w:f)+g;m<a&&(a=m),y>c&&(c=y)}var p=wA.OA(e.wE.wE,s.qA);r.push({XT:u,gft:p,PJ:p.sp(wA.HA(a,s.qA)),pft:p.sp(wA.HA(o,s.qA)),yft:p.sp(wA.HA(c,s.qA))})},r=[],e=0,u=t.RT;e<u.length;e++)i(e,u);return r}(i,n)}var uX,sX="MpegtsTransmuxer",oX=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,r,e)||this).Aft=void 0,u.kft=void 0,u.bft=void 0,u.Tft=void 0,u.Sft=0,u.Eft=0,u.Ift=sa(),u.gw=n,u}zr(n,t);var i=n.prototype;return i.Ktt=function(n,i){return t.prototype.Ktt.call(this,n,i)},i.Ytt=function(n,i){if(t.prototype.Ytt.call(this,n,i),!this.gw.Rft()){var r,e=null!=(r=null==i?void 0:i.W0)?r:n.W0;if(e)/\.(ts|aac|mp3)/i.test(e.Bw)&&this.gw.Cft()}},i.Nft=function(t){var n;return this.Ift.has(t.y4)?n=this.Ift.get(t.y4):(n=iU(t.j8.Ud.Ud),this.Ift.set(t.y4,n)),n},i.$tt=function(n,i){var r=this;return ta((function(){var e,u,s,o,a,c,f,h,v,d,l,w,_,g,m,y,p,A,k,b,T,S,E,I,R,C,N,D,P;return ia(this,(function(B){switch(B.label){case 0:if(Bc(i),e=r.Nft(n),u=n.j8,e!==tU.Hnt&&e!==tU.Xnt)return[2,t.prototype.$tt.call(r,n,i)];if(u.w9.h4.some(cX))throw new Wl(Hl.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");return s=r.gw.Cft(),e!==tU.Hnt?[3,2]:(qx.QT(sX,"Transmuxing MPEG-TS: "+SL(u.w9.W0)),[4,s.Dft({data:u.Ud.Ud,metadata:r.Aft})]);case 1:return o=B.sent(),[3,4];case 2:return qx.QT(sX,"Transmuxing raw audio: "+SL(u.w9.W0)),[4,s.Pft({data:u.Ud.Ud,metadata:r.Aft})];case 3:o=B.sent(),B.label=4;case 4:if(Bc(i),r.tnt(n.c1,{E1:o.metadata.audio_codec,C1:o.metadata.video_codec,j2:void 0}),o.metadata.video_frame_rate&&r.nnt(n.c1,o.metadata.video_frame_rate),a=fX(o.metadata.first_decode_timestamp),c=fX(o.metadata.first_presentation_timestamp),f=void 0!==o.metadata.first_video_presentation_timestamp?fX(o.metadata.first_video_presentation_timestamp):void 0,u.w9.DJ=c,r.rnt(n.c1),void 0!==f&&r.int(n.c1,u.w9,function(t,n){var i=t.fA(n);return i.sA(wA.BA)&&(i=i.sp(yA())),i}(f,c)),r.X6.p6(n.y4))return[3,6];for(h=wA.gk(u.w9.Tp),v=0,d=r.snt;v<d.length;v++)l=d[v],r.X6.C6(n.y4,l,a,h,!0);return r.rnt(n.c1),r.X6.p6(n.y4)?[3,6]:[4,Lc(r.X6.A6(n.y4),i)];case 5:B.sent(),B.label=6;case 6:if(w=r.X6.R6(a,u.w9),r.Aft=o.metadata,_=r.X6.E6(c,u.w9).$p(),m={cnt:FF(u.w9,_),Tp:_,Sm:null!=(g=u.w9.Sm)?g:0,Nk:w.$p(),y4:n.y4,c1:n.c1,w9:u.w9},void 0===o.data.audio_media&&void 0===o.data.video_media){for(y=0,p=r.snt;y<p.length;y++)A=p[y],k=na({$u:"j8",Ud:void 0,D6:A},m),r.mtt(k);return[2]}return b=[],void 0!==o.data.audio_media&&(!o.data.audio_init||r.kft&&r.Sft===n.y4&&gf(r.kft,o.data.audio_init)||(T=r.X6.E6(u.w9.DJ,u.w9).$p(),S={$u:"ont",Ud:{$u:GC.lU,Ud:o.data.audio_init},D6:Hy.$d,y4:n.y4,ant:{_0:'audio/mp4; codecs="'+o.metadata.audio_codec+'"',h4:u.w9.h4},Tp:T,c1:n.c1,w9:u.w9},r.kft=o.data.audio_init,r.Sft=n.y4,r.mtt(S)),E=na({$u:"j8",Ud:{$u:GC.lU,Ud:o.data.audio_media},D6:Hy.$d},m),r.mtt(E)),void 0!==o.data.video_media&&(!o.data.video_init||r.bft&&r.Eft===n.y4&&gf(r.bft,o.data.video_init)||(I=r.X6.E6(u.w9.DJ,u.w9).$p(),R={$u:"ont",Ud:{$u:GC.lU,Ud:o.data.video_init},D6:Hy.il,y4:n.y4,ant:{_0:'video/mp4; codecs="'+o.metadata.video_codec+'"',h4:u.w9.h4},Tp:I,c1:n.c1,w9:u.w9},r.bft=o.data.video_init,r.Eft=n.y4,r.Tft=jN(dh(o.data.video_init)),r.mtt(R)),C=r.Tft.RT[0],N=eX(o.data.video_media,r.Tft)[0],D=r.mft(o.data.video_media,C,N,void 0,u.w9),r._ft=C,P=na({$u:"j8",Ud:{$u:GC.lU,Ud:D},D6:Hy.il},m),r.mtt(P),b.push(N)),r.lft=u.w9,r.wft=b,[2]}}))}))()},i.Ms=function(){this.kft=void 0,this.bft=void 0,t.prototype.Ms.call(this)},n}(rX),aX=function(){function t(){}return t.prototype.vct=function(t,n,i){return new oX(this,t,n,i)},t}();function cX(t){return t.ol===mL.S3}function fX(t){return wA.OA($e.fromBits(t.low,t.high),t.base)}yr(),zt(),yr(),zt(),function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(uX||(uX={}));var hX=function(){function t(t){var n=this;this.$ct=0,this.tft=sa(),this.nft=function(t){var i=t.data;if(void 0!==i.requestId){var r=n.tft.get(i.requestId);if(!r)return;n.tft.delete(i.requestId),i.success?r.qo(i.output):r.Go(new Wl(i.errorCode,i.error))}else i.success||n.Ds(new Wl(i.errorCode,i.error))},this.Kl=function(t){var i=new Wl(Hl.MEDIA_DECODE_ERROR,t.error.message,t.error);n.Ds(i)},this.uft=t,this.Bft=function(){if("undefined"==typeof WebAssembly)return!1;var t=te.Sr;return!(t>0&&t<=56)}();var i=this.Bft?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.sft=Pr.Du(i,t)}catch(t){throw new Wl(Hl.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.Nct=this.oft()}var n=t.prototype;return n.Dft=function(t){return this.Oft(uX.MPEGTS_TO_FMP4,t)},n.Pft=function(t){return this.Oft(uX.RAW_AUDIO_TO_FMP4,t)},n.oft=function(){var t=HH(this.sft,this.uft);return t.js("message",this.nft),t.js("error",this.Kl),t},n.Oft=function(t,n){var i=++this.$ct,r={type:t,id:i,input:n},e=new kh;return this.tft.set(i,e),this.Nct.xct(r),e.Wo},n.Ds=function(t){void 0===t&&(t=new Dc),this.tft.forEach((function(n){return n.Go(t)})),this.tft.clear(),this.Nct.Oct()},t}(),vX=function(t){function n(n){var i;return(i=t.call(this)||this).xft=n,i.Nct=void 0,i}zr(n,t);var i=n.prototype;return i.Rft=function(){return void 0!==this.Nct},i.Cft=function(){var t;return null!=(t=this.Nct)?t:this.Nct=new hX(this.xft)},i.Ds=function(){this.Nct&&(this.Nct.Ds(),this.Nct=void 0)},n}(aX),dX=function(){function t(t){this.xft=t}return t.prototype.OJ=function(){return new vX(this.xft)},t}();yr(),zt(),yr(),zt();var lX=function(){function t(t){this.xC=t}var n=t.prototype;return n.pN=function(t){return this.xC.pN(t)},n.d$=function(t){return this.xC.d$(t)},n.zN=function(t){return this.xC.zN(t)},t}();yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),kr();var wX=function(t){function n(n){var i;return(i=t.call(this)||this).KC=void 0,i.Lft=new Um,i.Mft=function(t){return i.xy(t)},i.yN=n,i.Lft.og=n.wy,i.yN.js(VC,i.Mft),i}zr(n,t);var i=n.prototype;return i.RM=function(){return this.yN.Xy},i.NM=function(){return this.yN.zy},i.PM=function(){return this.yN.Tm},i.OM=function(){return this.yN.Sm},i.Fft=function(){return this.yN.YN},i.Uft=function(){return this.yN.Em},i.Hft=function(){return this.yN.Cm},i.GM=function(){return this.yN.$y},i.QM=function(){return this.yN.Mg},i.ZM=function(){return this.yN.np},i.KM=function(){return this.yN.Dm},i.Xft=function(){return this.yN.Tq},i.JM=function(){return this.Lft},i.lZ=function(){return this.yN.HQ},i.zft=function(){return this.yN.SN},i.Vft=function(t){this.yN.SN=t},i.Wft=function(t){this.yN.XQ=t},i.qft=function(){return this.yN.qj},i.jN=function(){return this.yN.jN()},i.gy=function(){return this.yN.gy()},i.yy=function(){this.yN.yy()},i.Uo=function(t,n,i){this.yN.Uo(t,n,i)},i.GN=function(t){this.yN.GN(t)},i.Ny=function(){this.yN.Ny()},i.Dy=function(){this.yN.Dy()},i.lI=function(t,n,i,r,e,u,s,o){return this.yN.lI(t,n,i,r,e,u,s,o)},i.ON=function(){return this.yN.ON()},i.LN=function(t,n,i,r,e){return this.yN.LN(t,n,i,r,e)},i.gI=function(t){this.yN.gI(t)},i.UN=function(){this.yN.UN()},i.MU=function(t){return this.yN.MU(t)},i.Cf=function(t){var n=this;return ta((function(){var i,r;return ia(this,(function(e){switch(e.label){case 0:return[4,n.yN.Cf(t)];case 1:return i=e.sent(),r=t.$u===lb.yI?n.Gft(i):n.jft(i),n.KC=r,[2,r]}}))}))()},i.Wf=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t.KC?[4,t.KC.Ds()]:[3,2];case 1:n.sent(),t.KC=void 0,n.label=2;case 2:return[4,t.yN.Wf()];case 3:return n.sent(),[2]}}))}))()},i.BQ=function(){this.yN.BQ()},i.OQ=function(){this.yN.OQ()},i.Ds=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t.Zs(),t.yN.Ks(VC,t.Mft),t.Lft.og=void 0,t.Lft.Bh(),t.KC?[4,t.KC.Ds()]:[3,2];case 1:n.sent(),t.KC=void 0,n.label=2;case 2:return[2]}}))}))()},i.xQ=function(){this.yN.xQ()},i.Yft=function(t){this.yN.Ks(VC,this.Mft),this.yN=t,this.Lft.og=t.wy,this.yN.js(VC,this.Mft)},i.xy=function(t){this.qs(t)},Ar(n,[{key:"Qft",get:function(){return this.yN}},{key:"Xy",get:function(){return this.RM()}},{key:"zy",get:function(){return this.NM()}},{key:"Tm",get:function(){return this.PM()}},{key:"FQ",get:function(){return this.yN.FQ}},{key:"Sm",get:function(){return this.OM()}},{key:"YN",get:function(){return this.Fft()}},{key:"Em",get:function(){return this.Uft()}},{key:"Ao",get:function(){return this.yN.Ao}},{key:"WT",get:function(){return this.yN.WT}},{key:"Kp",get:function(){return this.yN.Kp}},{key:"FN",get:function(){return this.yN.FN}},{key:"Rm",get:function(){return this.yN.Rm},set:function(t){this.yN.Rm=t}},{key:"Cm",get:function(){return this.Hft()}},{key:"Nm",get:function(){return this.yN.Nm},set:function(t){this.yN.Nm=t}},{key:"$y",get:function(){return this.GM()}},{key:"Mg",get:function(){return this.QM()}},{key:"np",get:function(){return this.ZM()}},{key:"Dm",get:function(){return this.KM()}},{key:"Tq",get:function(){return this.Xft()}},{key:"wy",get:function(){return this.JM()}},{key:"HQ",get:function(){return this.lZ()}},{key:"UQ",get:function(){return this.yN.UQ}},{key:"Om",get:function(){return this.yN.Om},set:function(t){this.yN.Om=t}},{key:"LQ",get:function(){return this.yN.LQ}},{key:"Wy",get:function(){return this.yN.Wy}},{key:"zj",get:function(){return this.yN.zj}},{key:"SN",get:function(){return this.zft()},set:function(t){this.Vft(t)}},{key:"XQ",get:function(){return this.yN.XQ},set:function(t){this.Wft(t)}},{key:"qj",get:function(){return this.qft()}}]),n}(Gc),_X=function(t){function n(n){return t.call(this,n)}zr(n,t);var i=n.prototype;return i.MQ=function(t){this.yN.MQ(t)},i.lQ=function(){this.yN.lQ()},i.Uy=function(){this.yN.Uy()},Ar(n,[{key:"kN",get:function(){return this.yN.kN}},{key:"Rq",get:function(){return this.yN.Rq}},{key:"rp",get:function(){return this.yN.rp},set:function(t){this.yN.rp=t}}]),n}(wX);yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),kr();var gX=function(){function t(t){this.KC=t}var n=t.prototype;return n.Yf=function(){return this.KC.Uf},n.ZM=function(){return this.KC.np},n.IU=function(t){return this.KC.IU(t)},n.RU=function(t){return this.KC.RU(t)},n.Ds=function(){return j.resolve()},Ar(t,[{key:"Uf",get:function(){return this.Yf()}},{key:"np",get:function(){return this.ZM()}},{key:"ly",get:function(){return this.KC.ly}}]),t}(),mX=function(t){function n(n){var i;return(i=t.call(this,n)||this).JW=void 0,i.tq=void 0,i.Zft=function(t){return i.Kft(t)},i}zr(n,t);var i=n.prototype;return i.RM=function(){return this.KC.Xy},i.OM=function(){return this.KC.Sm},i.Jft=function(){return this.KC.FU},i.vq=function(t){this.KC.vq(t)},i.wq=function(t,n,i,r){this.KC.wq(t,n,i,r)},i.sW=function(){this.KC.sW()},i.iW=function(){this.KC.iW()},i.Ds=function(){return this.JW&&(this.JW.Ds(),this.JW=void 0),this.tq&&(this.tq.Ds(),this.tq=void 0),t.prototype.Ds.call(this)},i.$ft=function(t){this.KC=t,this.JW?t.QW?this.JW.c9(t.QW):(this.JW.Ds(),this.JW=void 0):t.QW&&(this.JW=this.tht(t.QW),this.JW.js(jC,this.Zft)),this.tq?t.ZW?this.tq.c9(t.ZW):(this.tq.Ds(),this.tq=void 0):t.ZW&&(this.tq=this.tht(t.ZW),this.tq.js(jC,this.Zft))},i.Kft=function(t){},Ar(n,[{key:"QW",get:function(){return this.JW}},{key:"ZW",get:function(){return this.tq}},{key:"Xy",get:function(){return this.RM()}},{key:"Sm",get:function(){return this.OM()}},{key:"FU",get:function(){return this.Jft()}}]),n}(gX);yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),kr();var yX=function(t){function n(n){var i;return(i=t.call(this)||this).vM=0,i.dM=0,i.wh=n,i}zr(n,t);var i=n.prototype;return i.MV=function(t,n,i){return j.reject(new f("Invalid media buffer"))},i.lW=function(){return j.reject(new f("Invalid media buffer"))},i.HV=function(t,n,i){return j.reject(new f("Invalid media buffer"))},i.FU=function(){return!1},i.sW=function(){},i.vW=function(t,n){},i.dW=function(t,n){},i.Nf=function(t,n,i){return j.resolve()},i.YV=function(t,n){return j.reject(new f("Invalid media buffer"))},i.dp=function(t,n){return j.reject(new f("Invalid media buffer"))},i.IU=function(t){return!1},i.RU=function(t){return j.reject(new f("Invalid media buffer"))},i.Ds=function(){this.Zs()},Ar(n,[{key:"sM",get:function(){return this.dM},set:function(t){this.dM=t}},{key:"Xy",get:function(){return gE.uP()}},{key:"Uf",get:function(){return this.wh}},{key:"gW",get:function(){return Hy.Hd}},{key:"mW",get:function(){return gE.uP()}},{key:"nht",get:function(){return!1}},{key:"uM",get:function(){return this.vM},set:function(t){this.vM=t}}]),n}(Gc),pX=function(t){function n(n){var i;return(i=t.call(this,n)||this).yN=void 0,i}zr(n,t);var i=n.prototype;return i.MV=function(t,n,i){var r=this;return ta((function(){return ia(this,(function(e){switch(e.label){case 0:return Bc(i),[4,r.iht(r.yN.Tm,null==n?void 0:n.DJ,null==n?void 0:n.Sm)];case 1:return e.sent(),Bc(i),t.$u!==GC.rd?[3,3]:[4,r.rht(t,n,i)];case 2:return[2,e.sent()];case 3:return[4,r.eht(t,n,i)];case 4:return[2,e.sent()];case 5:return[2]}}))}))()},i.rht=function(t,n,i){var r=this;return ta((function(){var e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:e=t,c.label=1;case 1:0,u=ra(function(t){var n=new Ut,i=n.readable,r=n.writable;return t.pipeTo(r,{preventCancel:!0}).catch((function(n){var i;i=ue(n)?n[0]===n[1]||Pc(n[0])&&Pc(n[1])?n[0]:new yw(n):n,t.cancel(i).catch(le)})),i.tee()}(e.Ud),2),s=u[0],o=u[1],e={$u:GC.rd,Ud:s},c.label=2;case 2:return c.trys.push([2,4,,7]),[4,r.uht(e,n,i)];case 3:return c.sent(),o.cancel(new Dc).catch(le),[2];case 4:return rC(a=c.sent())?[4,r.iht(r.yN.Tm,n.DJ,n.Sm,i)]:[3,6];case 5:if(c.sent())return e={$u:GC.rd,Ud:o},[3,1];c.label=6;case 6:throw o.cancel(a).catch(le),a;case 7:return[3,1];case 8:return[2]}}))}))()},i.eht=function(t,n,i){var r=this;return ta((function(){var e;return ia(this,(function(u){switch(u.label){case 0:0,u.label=1;case 1:return u.trys.push([1,3,,6]),Bc(i),[4,r.uht(t,n,i)];case 2:return[2,u.sent()];case 3:return rC(e=u.sent())?[4,r.iht(r.yN.Tm,n.DJ,n.Sm,i)]:[3,5];case 4:if(u.sent())return[3,0];u.label=5;case 5:throw e;case 6:return[3,0];case 7:return[2]}}))}))()},i.iht=function(t,n,i,r){var e=this;return ta((function(){var u,s,o,a,c;return ia(this,(function(f){switch(f.label){case 0:u=function(t,n,i,r,e,u){var s=[],o=t-d.max(u,1),a=t+e;if(n&&i){var c=ru(i,1,5),f=n-c;o=d.min(o,f);var h=n+i+c;a=d.max(a,h)}return 0!==o&&r.jD(0,o)&&s.push([0,o]),r.jD(a,1/0)&&s.push([a,1/0]),s}(t,n,i,e.Xy,e.uM,e.sM),s=0,f.label=1;case 1:return s<u.length?(o=ra(u[s],2),a=o[0],c=o[1],[4,e.sht(a,c,r)]):[3,4];case 2:f.sent(),f.label=3;case 3:return s++,[3,1];case 4:return[2,u.length>0]}}))}))()},i.uht=function(n,i,r){return t.prototype.MV.call(this,n,i,r)},i.sht=function(n,i,r){return t.prototype.Nf.call(this,n,i,r)},Ar(n,[{key:"v$",get:function(){return this.yN},set:function(t){this.yN=t}}]),n}(function(t){function n(n){var i;return(i=t.call(this)||this).oht=function(t){return i.xy(t)},i.H8=n,i.H8.js(jC,i.oht),i}zr(n,t);var i=n.prototype;return i.aht=function(){return this.H8.sM},i.cht=function(t){this.H8.sM=t},i.RM=function(){return this.H8.Xy},i.Yf=function(){return this.H8.Uf},i.fht=function(){return this.H8.mW},i.hht=function(){return this.H8.uM},i.vht=function(t){this.H8.uM=t},i.MV=function(t,n,i){return this.H8.MV(t,n,i)},i.lW=function(){return this.H8.lW()},i.HV=function(t,n,i){return this.H8.HV(t,n,i)},i.FU=function(){return this.H8.FU()},i.sW=function(){this.H8.sW()},i.vW=function(t,n){this.H8.vW(t,n)},i.dW=function(t,n){this.H8.dW(t,n)},i.Nf=function(t,n,i){return this.H8.Nf(t,n,i)},i.YV=function(t,n){return this.H8.YV(t,n)},i.IU=function(t){return this.H8.IU(t)},i.RU=function(t){return this.H8.RU(t)},i.xy=function(t){this.qs(t)},i.Ds=function(){this.Zs(),this.c9(new yX(this.Uf))},i.c9=function(t){this.H8.Ks(jC,this.oht),this.H8=t,this.H8.js(jC,this.oht)},Ar(n,[{key:"sM",get:function(){return this.aht()},set:function(t){this.cht(t)}},{key:"Xy",get:function(){return this.RM()}},{key:"Uf",get:function(){return this.Yf()}},{key:"gW",get:function(){return this.H8.gW}},{key:"mW",get:function(){return this.fht()}},{key:"uM",get:function(){return this.hht()},set:function(t){this.vht(t)}}]),n}(Gc)),AX=function(t){function n(n){var i;return(i=t.call(this,n)||this).yN=void 0,i.$ft(n),i}return zr(n,t),n.prototype.tht=function(t){var n=new pX(t);return n.v$=this.yN,n},Ar(n,[{key:"v$",get:function(){return this.yN},set:function(t){this.yN=t,this.JW&&(this.JW.v$=t),this.tq&&(this.tq.v$=t)}}]),n}(mX);yr(),zt(),kr();var kX=function(t){function n(){return t.apply(this,arguments)}return zr(n,t),Ar(n,[{key:"tp",get:function(){return this.KC.tp},set:function(t){this.KC.tp=t}}]),n}(gX);yr(),zt(),kr();var bX=function(t){function n(n){return t.call(this,n)}zr(n,t);var i=n.prototype;return i.MQ=function(t){this.yN.MQ(t)},i.lQ=function(){this.yN.lQ()},i.Uy=function(){this.yN.Uy()},i.Py=function(){return this.yN.Py()},Ar(n,[{key:"kN",get:function(){return this.yN.kN}},{key:"Rq",get:function(){return this.yN.Rq}},{key:"Bm",get:function(){return this.yN.Bm}},{key:"Pm",get:function(){return this.yN.Pm}},{key:"rp",get:function(){return this.yN.rp},set:function(t){this.yN.rp=t}}]),n}(wX),TX=function(t){function n(){return t.apply(this,arguments)}zr(n,t);var i=n.prototype;return i.jft=function(t){var n=new AX(t);return n.v$=this,n},i.Gft=function(t){return new kX(t)},Ar(n,[{key:"Qft",get:function(){return this.yN}}]),n}(_X),SX=function(t){function n(){return t.apply(this,arguments)}zr(n,t);var i=n.prototype;return i.jft=function(t){var n=new AX(t);return n.v$=this,n},i.Gft=function(t){return new kX(t)},Ar(n,[{key:"Qft",get:function(){return this.yN}}]),n}(bX),EX=function(t){function n(){return t.apply(this,arguments)}zr(n,t);var i=n.prototype;return i.pN=function(n){return n===Hy.il?new SX(t.prototype.pN.call(this,n)):n===Hy.$d?new TX(t.prototype.pN.call(this,n)):void 0},i.zN=function(n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return[4,(r=n).Ds()];case 1:return e.sent(),[4,t.prototype.zN.call(i,r.Qft)];case 2:return e.sent(),[2]}}))}))()},n}(lX);function IX(t){return Yw(t)}function RX(t,n){var i=Yw(t);return n?""+i+n:""+i}yr(),zt(),yr(),zt();var CX=function(){function t(t,n,i,r){this.dht=t,this.wht=n,this._ht=i,this.ght=r}var n=t.prototype;return n.S8=function(t){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return[4,n.dht.mht(t.map(IX))];case 1:return[2,i.sent().shift()]}}))}))()},n.Ost=function(t,n){var i=RX(t,n);return this.wht.No(i)},n.R9=function(t,n){var i=this;return ta((function(){var r,e;return ia(this,(function(u){switch(u.label){case 0:return e=RX(t,n),[4,i._ht.Do(e)];case 1:return[2,null==(r=u.sent())?void 0:r.data]}}))}))()},n.XF=function(t){return this.ght.Do(t)},t}();yr(),zt(),kr(),yr(),zt(),yr(),zt();var NX=function(){function t(){}var n=t.prototype;return n.yht=function(t){return j.resolve(!1)},n.pht=function(t){return j.reject(DX)},n.Aht=function(t){return j.reject(DX)},n.No=function(t){return j.resolve(!1)},n.Do=function(t){return j.resolve(void 0)},n.kht=function(t,n){return j.resolve(void 0)},n.mht=function(t){return j.resolve([])},n.bht=function(){return j.resolve([])},n.Tht=function(t){return j.resolve([])},n.Sht=function(t,n){return j.resolve([])},n.Nf=function(t){return j.reject(DX)},n.Eht=function(t){return j.reject(DX)},n.Iht=function(){return j.reject(DX)},t}(),DX="Storage disabled",PX=function(){function t(){this.Rht=new NX,this.n3=new NX,this.Cht=new NX,this.Nht=new NX,this.Dht=new NX}return t.prototype.Pht=function(t){return j.reject(BX)},t.OJ=function(){return j.resolve(new t)},t}(),BX="Storage disabled";yr(),zt(),yr(),zt(),kr(),yr(),zt(),kr();var OX,xX=function(){function t(t){var n=this;this.Ls=new kh,this.Bht=void 0,this.Ls.Fs(t),this.Ls.Wo.then((function(t){n.Bht=t}))}var n=t.prototype;return n.yht=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return(i=n.Bht)?[3,2]:[4,n.Oht];case 1:i=r.sent(),r.label=2;case 2:return[2,i.yht(t)]}}))}))()},n.pht=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return(r=i.Bht)?[3,2]:[4,i.Oht];case 1:r=e.sent(),e.label=2;case 2:return[2,r.pht(t,n)]}}))}))()},n.Aht=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return(r=i.Bht)?[3,2]:[4,i.Oht];case 1:r=e.sent(),e.label=2;case 2:return[2,r.Aht(t,n)]}}))}))()},n.No=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return(i=n.Bht)?[3,2]:[4,n.Oht];case 1:i=r.sent(),r.label=2;case 2:return[2,i.No(t)]}}))}))()},n.Do=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return(i=n.Bht)?[3,2]:[4,n.Oht];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Do(t)]}}))}))()},n.kht=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return(r=i.Bht)?[3,2]:[4,i.Oht];case 1:r=e.sent(),e.label=2;case 2:return[2,r.kht(t,n)]}}))}))()},n.mht=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return(i=n.Bht)?[3,2]:[4,n.Oht];case 1:i=r.sent(),r.label=2;case 2:return[2,i.mht(t)]}}))}))()},n.bht=function(){var t=this;return ta((function(){var n;return ia(this,(function(i){switch(i.label){case 0:return(n=t.Bht)?[3,2]:[4,t.Oht];case 1:n=i.sent(),i.label=2;case 2:return[2,n.bht()]}}))}))()},n.Tht=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return(i=n.Bht)?[3,2]:[4,n.Oht];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Tht(t)]}}))}))()},n.Sht=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return(r=i.Bht)?[3,2]:[4,i.Oht];case 1:r=e.sent(),e.label=2;case 2:return[2,r.Sht(t,n)]}}))}))()},n.Nf=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return(i=n.Bht)?[3,2]:[4,n.Oht];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Nf(t)]}}))}))()},n.Eht=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return(i=n.Bht)?[3,2]:[4,n.Oht];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Eht(t)]}}))}))()},n.Iht=function(){var t=this;return ta((function(){var n;return ia(this,(function(i){switch(i.label){case 0:return(n=t.Bht)?[3,2]:[4,t.Oht];case 1:n=i.sent(),i.label=2;case 2:return[2,n.Iht()]}}))}))()},Ar(t,[{key:"Oht",get:function(){return this.Ls.Wo}}]),t}(),LX=function(){function t(t){var n=this;this.Ls=new kh,this.xht=void 0,this.Ls.Fs(t);var i=this.Ls.Wo;i.then((function(t){n.xht=t})),this.n3=new xX(i.then((function(t){return t.n3}))),this.Rht=new xX(i.then((function(t){return t.Rht}))),this.Cht=new xX(i.then((function(t){return t.Cht}))),this.Nht=new xX(i.then((function(t){return t.Nht}))),this.Dht=new xX(i.then((function(t){return t.Dht})))}return t.prototype.Pht=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return(i=n.xht)?[3,2]:[4,n.Lht];case 1:i=r.sent(),r.label=2;case 2:return[4,i.Pht(t)];case 3:return[2,r.sent()]}}))}))()},Ar(t,[{key:"Lht",get:function(){return this.Ls.Wo}}]),t}();function MX(t){return new f("This storage cannot handle persistency type "+t)}yr(),zt(),yr(),zt(),Or(),yr(),zt(),function(t){t.Mht="readonly",t.Fht="readwrite"}(OX||(OX={}));var FX=function(){function t(){this.Ma=[]}var n=t.prototype;return n.yht=function(t){return j.resolve("temporary"===t)},n.pht=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?j.reject(MX(n)):(this.Uht(t.key),this.Ma.push(t),j.resolve())},n.Aht=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return j.reject(MX(n));for(var i=0;i<t.length;i++){var r=t[i];this.Uht(r.key)}for(var e=0;e<t.length;e++){var u=t[e];this.Ma.push(u)}return j.resolve()},n.No=function(t){return j.resolve(Boolean(this.Hht(t)))},n.Do=function(t){return j.resolve(this.Hht(t))},n.kht=function(t,n){return j.resolve(this.Xht(t,n))},n.mht=function(t){var n=this,i=t?t.map((function(t){return n.Hht(t)})):this.Ma;return j.resolve(i.filter(re))},n.bht=function(){return j.resolve(Nr(this.Ma))},n.Tht=function(t){return this.Sht(t,"key")},n.Sht=function(t,n){var i=this.Ma.filter((function(i){return i[n]===t}));return j.resolve(i)},n.Nf=function(t){return this.Uht(t),j.resolve()},n.Eht=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Uht(i)}return j.resolve()},n.Iht=function(){return wc(this.Ma),j.resolve()},n.Hht=function(t){return this.Xht(t,"key")},n.Xht=function(t,n){for(var i=0,r=this.Ma;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},n.Uht=function(t){var n=this.Hht(t);n&&hc(this.Ma,n)},t}(),UX=function(){function t(){this.Rht=new FX,this.n3=new FX,this.Cht=new FX,this.Nht=new FX,this.Dht=new FX}return t.prototype.Pht=function(t){return t(this)},t.OJ=function(){return j.resolve(new t)},t}();yr(),zt(),kr(),yr(),zt(),Or();var HX=function(){function t(t){this.zht=t}var n=t.prototype;return n.yht=function(t){var n=this;return ta((function(){var i,r;return ia(this,(function(e){switch(e.label){case 0:i=0,r=n.zht,e.label=1;case 1:return i<r.length?[4,r[i].yht(t)]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.pht=function(t,n){void 0===n&&(n="persistent");var i=this;return ta((function(){var r,e,u;return ia(this,(function(s){switch(s.label){case 0:r=0,e=i.zht,s.label=1;case 1:return r<e.length?[4,(u=e[r]).yht(n)]:[3,4];case 2:if(s.sent())return[2,u.pht(t)];s.label=3;case 3:return r++,[3,1];case 4:throw MX(n)}}))}))()},n.Aht=function(t,n){void 0===n&&(n="persistent");var i=this;return ta((function(){var r,e,u;return ia(this,(function(s){switch(s.label){case 0:r=0,e=i.zht,s.label=1;case 1:return r<e.length?[4,(u=e[r]).yht(n)]:[3,4];case 2:if(s.sent())return[2,u.Aht(t)];s.label=3;case 3:return r++,[3,1];case 4:throw MX(n)}}))}))()},n.No=function(t){var n=this;return ta((function(){var i,r;return ia(this,(function(e){switch(e.label){case 0:i=0,r=n.zht,e.label=1;case 1:return i<r.length?[4,r[i].No(t)]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.Do=function(t){var n=this;return ta((function(){var i,r,e;return ia(this,(function(u){switch(u.label){case 0:i=0,r=n.zht,u.label=1;case 1:return i<r.length?[4,r[i].Do(t)]:[3,4];case 2:if(e=u.sent())return[2,e];u.label=3;case 3:return i++,[3,1];case 4:return[2,void 0]}}))}))()},n.kht=function(t,n){var i=this;return ta((function(){var r,e,u;return ia(this,(function(s){switch(s.label){case 0:r=0,e=i.zht,s.label=1;case 1:return r<e.length?[4,e[r].kht(t,n)]:[3,4];case 2:if(u=s.sent())return[2,u];s.label=3;case 3:return r++,[3,1];case 4:return[2,void 0]}}))}))()},n.mht=function(t){var n=this;return ta((function(){var i,r,e,u,s,o,a,c;return ia(this,(function(f){switch(f.label){case 0:i=[],r=0,e=n.zht,f.label=1;case 1:return r<e.length?(u=e[r],a=(o=(s=i).push).apply,c=[s],[4,u.mht(t)]):[3,4];case 2:a.apply(o,c.concat([Nr.apply(void 0,[f.sent()])])),f.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.bht=function(){var t=this;return ta((function(){var n,i,r,e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:n=[],i=0,r=t.zht,c.label=1;case 1:return i<r.length?(e=r[i],o=(s=(u=n).push).apply,a=[u],[4,e.bht()]):[3,4];case 2:o.apply(s,a.concat([Nr.apply(void 0,[c.sent()])])),c.label=3;case 3:return i++,[3,1];case 4:return[2,n]}}))}))()},n.Tht=function(t){var n=this;return ta((function(){var i,r,e,u,s,o,a,c;return ia(this,(function(f){switch(f.label){case 0:i=[],r=0,e=n.zht,f.label=1;case 1:return r<e.length?(u=e[r],a=(o=(s=i).push).apply,c=[s],[4,u.Tht(t)]):[3,4];case 2:a.apply(o,c.concat([Nr.apply(void 0,[f.sent()])])),f.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.Sht=function(t,n){var i=this;return ta((function(){var r,e,u,s,o,a,c,f;return ia(this,(function(h){switch(h.label){case 0:r=[],e=0,u=i.zht,h.label=1;case 1:return e<u.length?(s=u[e],c=(a=(o=r).push).apply,f=[o],[4,s.Sht(t,n)]):[3,4];case 2:c.apply(a,f.concat([Nr.apply(void 0,[h.sent()])])),h.label=3;case 3:return e++,[3,1];case 4:return[2,r]}}))}))()},n.Nf=function(t){var n=this;return ta((function(){var i,r;return ia(this,(function(e){switch(e.label){case 0:i=0,r=n.zht,e.label=1;case 1:return i<r.length?[4,r[i].Nf(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.Eht=function(t){var n=this;return ta((function(){var i,r;return ia(this,(function(e){switch(e.label){case 0:i=0,r=n.zht,e.label=1;case 1:return i<r.length?[4,r[i].Eht(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.Iht=function(){var t=this;return ta((function(){var n,i;return ia(this,(function(r){switch(r.label){case 0:n=0,i=t.zht,r.label=1;case 1:return n<i.length?[4,i[n].Iht()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))()},t}();function XX(t){return ta((function(){var n;return ia(this,(function(i){switch(i.label){case 0:return[4,j.all(t.map((function(t){return t()})))];case 1:return n=i.sent(),[2,zX.OJ(n)]}}))}))}var zX=function(){function t(t){this.Vht=t,this.Wht=new HX(t.map((function(t){return t.Nht}))),this.qht=new HX(t.map((function(t){return t.Dht}))),this.Ght=new HX(t.map((function(t){return t.Cht}))),this.jht=new HX(t.map((function(t){return t.Rht}))),this.Yht=new HX(t.map((function(t){return t.n3})))}return t.prototype.Pht=function(n){var i=this;if(0===this.Vht.length)return n(this);var r=[],e=0,u=function(s){return r.push(s),++e<i.Vht.length?i.Vht[e].Pht(u):n(new t(r))};return this.Vht[e].Pht(u)},t.OJ=function(n){return j.resolve(new t(n))},Ar(t,[{key:"Nht",get:function(){return this.Wht}},{key:"Dht",get:function(){return this.qht}},{key:"Cht",get:function(){return this.Ght}},{key:"Rht",get:function(){return this.jht}},{key:"n3",get:function(){return this.Yht}}]),t}(),VX=function(){function t(t){this.Qht=[],this.Zht=!0,this.Kht=t}var n=t.prototype;return n.OJ=function(){return new LX(this.Jht())},n.Jht=function(){var t=this;return ta((function(){var n,i,r;return ia(this,(function(e){switch(e.label){case 0:return t.Zht?[4,j.resolve()]:[3,2];case 1:e.sent(),t.Zht=!1,e.label=2;case 2:n=0,i=t.Qht,e.label=3;case 3:if(!(n<i.length))return[3,8];r=i[n],e.label=4;case 4:return e.trys.push([4,6,,7]),[4,XX([UX.OJ,r])()];case 5:return[2,e.sent()];case 6:return e.sent(),[3,7];case 7:return n++,[3,3];case 8:return[4,XX([UX.OJ,t.Kht])()];case 9:return[2,e.sent()]}}))}))()},n.d0=function(t){if(!this.Zht)throw new f("Registration overdue");this.Qht.push(t)},t}(),WX=function(){function t(){}return t.d0=function(n){t.xC.d0(n)},Ar(t,null,[{key:"$r",get:function(){return t.g6||(t.g6=t.xC.OJ()),t.g6}}]),t}();WX.xC=new VX(PX.OJ),WX.g6=void 0;var qX=function(t){function n(n,i,r,e,u,s,o){var a,c=new EX(n),f=c.pN(Hy.il);return(a=t.call(this,f,i,r,e,u,s,o)||this).mN=c,a}return zr(n,t),n.prototype.Bh=function(){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return[4,t.prototype.Bh.call(n)];case 1:return i.sent(),[4,n.mN.zN(n.yN)];case 2:return i.sent(),[2]}}))}))()},n}(function(t){function n(){return t.apply(this,arguments)}return zr(n,t),n.prototype.Py=function(){if(function(t){return void 0!==t.Pm}(this.yN))return this.yN.Py()},Ar(n,[{key:"rp",get:function(){return!1},set:function(t){}}]),n}(kH));aE(new(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).ZN=qS.Kg,n}zr(n,t);var i=n.prototype;return i.yR=function(t,n,i,r,e,u){return new qX(n,i,e,function(t){return DH.Jf()?new DH:new YH(t)}(r.libraryLocation),new dX(r.libraryLocation),new CX(WX.$r.Cht,WX.$r.Rht,WX.$r.n3,WX.$r.Dht),r)},i.JN=function(){return!0},n}(function(t){function n(){return t.apply(this,arguments)}return zr(n,t),n.prototype.KN=function(n,r){var e=this;return ta((function(){return ia(this,(function(u){return i.MediaSource?te.wr||te.Qr||r.manifestMetadataTrack?[2,!1]:[2,t.prototype.KN.call(e,n,r)]:[2,!1]}))}))()},n}(bH)))),qx.fg=function(){return!(!i||!i.THEOplayerDebugLogsEnabled)},yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt();var GX=function(){function t(){}var n=t.prototype;return n.Ost=function(t,n){return j.resolve(!1)},n.R9=function(t,n){return j.resolve(void 0)},n.S8=function(t){return j.resolve(void 0)},n.XF=function(t){return j.resolve(void 0)},t}(),jX=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).$ht=void 0,e.tvt=void 0,e.nvt=void 0,e.ivt=function(){e.qs(new JM)},e.zst=n,e.M8=new tF(r,new GX,n.useCredentials,n.src),e.M8.js(vw.Cv,e.Ws),e._j=!1,e}zr(n,t);var i=n.prototype;return i.rvt=function(){var t;return null==(t=this.$ht)?void 0:t.M0},i.CD=function(t){var n=this;Xc(Fy((function(){return n.evt(t)}),t))},i.evt=function(t){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return[4,n.M8.h8(t)];case 1:return i.sent(),n.nvt&&(n.uvt(n.nvt.Kp,n.nvt.WT),n.nvt=void 0),n._j=!0,[2]}}))}))()},i.svt=function(t,n){this._j?this.uvt(t,n):this.nvt={Kp:t,WT:n}},i.uvt=function(t,n){var i=this.ovt(t,n),r=null==i?void 0:i.G1[0];r!==this.$ht&&(this.avt(),void 0!==r&&(this.$ht=r,this.tvt=new vF(this.M8,r),this.tvt.B9()))},i.avt=function(){this.$ht=void 0,this.tvt&&(this.tvt.Ds(),this.tvt=void 0)},i.ovt=function(t,n){var i=ac(this.M8.V1.W1,(function(i){return void 0!==i.N1&&i.N1.Kp===t&&i.N1.WT===n}));return null!=i?i:this.M8.V1.W1[0]},i.Bh=function(){this.Zs(),this.avt(),this.M8.Ds()},n}(Gc);yr(),zt(),kr();var YX=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).cvt=void 0,e.fvt=!1,e.U8=void 0,e.handleManifestUpdate=function(){var t=e.cvt.rvt();if(t){var n=e.YN;if(n){var i=n.getTime(),r=e.U8;r||(r=new NM,e.U8=r),r.Df(t.A4,(function(t){return(t.getTime()-i)/1e3})),!e.fvt&&r.Fg.Q_>0&&(e.wy.q_(r),e.vQ.q_(r),e.fvt=!0)}}},e.vvt=function(){e.cvt&&e.cvt.svt(e.Bm,e.Pm)},e.dvt=i,e.MF=r,e.vQ=new qP($a(e)),e.js(vw.Fv,e.vvt),e}zr(n,t);var i=n.prototype;return i.by=function(n,i,r){var e=this;return ta((function(){return ia(this,(function(u){switch(u.label){case 0:return[4,t.prototype.by.call(e,n,i,r)];case 1:return u.sent(),n.hlsDateRange&&e.lvt(n,i,r),[2]}}))}))()},i.lvt=function(t,n,i){this.cvt=new jX(t,n,this.dvt),this.cvt.js(vw.Cv,this.handleManifestUpdate),this.cvt.CD(i)},i.Wf=function(){return this.U8&&(this.wy.G_(this.U8),this.vQ.G_(this.U8),this.U8.Bh(),this.U8=void 0,this.fvt=!1),this.cvt&&(this.cvt.Bh(),this.cvt=void 0),this.vQ.Wf(),t.prototype.Wf.call(this)},i.Bh=function(){return this.Ks(vw.Fv,this.vvt),this.cvt&&(this.cvt.Bh(),this.cvt=void 0),this.vQ.Bh(),t.prototype.Bh.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).jj=n;for(var r=0;r<dE.length;r++){var e=dE[r];i.jj.js(e,i.Ws)}return i}zr(n,t);var i=n.prototype;return i.Ty=function(){return this.jj.Ty()},i.By=function(){return this.jj.By()},i.Py=function(){return this.jj.Py()},i.Dy=function(){return this.jj.Dy()},i.Uy=function(){return this.jj.Uy()},i.Hy=function(){return this.jj.Hy()},i.yy=function(){return this.jj.yy()},i.gy=function(){return this.jj.gy()},i.Wf=function(){return this.jj.Wf()},i.by=function(t,n,i){return this.jj.by(t,n,i)},i.Ny=function(){return this.jj.Ny()},i.Sy=function(){return this.jj.Sy()},i.Ey=function(){return this.jj.Ey()},i.Bh=function(){this.Zs();for(var t=0;t<dE.length;t++){var n=dE[t];this.jj.Ks(n,this.Ws)}return this.jj.Bh()},Ar(n,[{key:"vy",get:function(){return this.jj.vy}},{key:"Xy",get:function(){return this.jj.Xy}},{key:"zy",get:function(){return this.jj.zy},set:function(t){this.jj.zy=t}},{key:"Tm",get:function(){return this.jj.Tm},set:function(t){this.jj.Tm=t}},{key:"Sm",get:function(){return this.jj.Sm}},{key:"Em",get:function(){return this.jj.Em}},{key:"Im",get:function(){return this.jj.Im}},{key:"_y",get:function(){return this.jj._y}},{key:"Ao",get:function(){return this.jj.Ao}},{key:"Wy",get:function(){return this.jj.Wy}},{key:"qy",get:function(){return this.jj.qy}},{key:"Rm",get:function(){return this.jj.Rm},set:function(t){this.jj.Rm=t}},{key:"Jy",get:function(){return this.jj.Jy}},{key:"Cm",get:function(){return this.jj.Cm}},{key:"Nm",get:function(){return this.jj.Nm},set:function(t){this.jj.Nm=t}},{key:"$y",get:function(){return this.jj.$y}},{key:"tp",get:function(){return this.jj.tp},set:function(t){this.jj.tp=t}},{key:"Mg",get:function(){return this.jj.Mg}},{key:"np",get:function(){return this.jj.np}},{key:"Dm",get:function(){return this.jj.Dm}},{key:"YN",get:function(){return this.jj.YN}},{key:"wy",get:function(){return this.jj.wy}},{key:"Pm",get:function(){return this.jj.Pm}},{key:"ly",get:function(){return this.jj.ly}},{key:"Bm",get:function(){return this.jj.Bm}},{key:"Om",get:function(){return this.jj.Om},set:function(t){this.jj.Om=t}},{key:"ip",get:function(){return this.jj.ip}},{key:"rp",get:function(){return this.jj.rp},set:function(t){this.jj.rp=t}},{key:"QN",get:function(){return this.jj.QN}}]),n}(Hm));!function(t){sE.iD().nD(t)}((function(t,n,i){return new YX(t,n,i)})),yr(),zt(),yr(),zt();var QX=function(){};yr(),zt();var ZX=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}();yr(),zt(),yr(),zt();var KX=C(xr());function JX(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function $X(t){return JSON.stringify(t,KX.getSerialize(JX))}yr(),zt(),yr(),zt(),kr();var tz,nz=C(Ur()),iz=function(){function t(){}return t.prototype.Sw=function(t){var n=function(t){e[e.length-1].Hw(t)},i=new nz.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),r=new cz,e=[r];return i.on("text",(function(t){e.length>1&&n(new oz(t))})),i.on("cdata",(function(t){n(new az(t))})),i.on("opentag",(function(t){for(var i=t.local,r=t.uri,u=t.prefix,s=new uz({Cw:i,Dw:""===r?void 0:r,wvt:""===u?void 0:u}),o=t.attributes,a=0,c=v.keys(o);a<c.length;a++){var f=o[c[a]],h=f.prefix,d=f.local,l=f.uri,w=f.value,_=new rz({Cw:d,Bw:w,Dw:""===l?void 0:l,wvt:""===h?void 0:h});s._vt(_)}n(s),e.push(s)})),i.on("closetag",(function(){e.pop()})),i.on("error",(function(t){throw new xg(t)})),i.write(t).close(),r},t}(),rz=function(){function t(t){this.gvt=t.Cw,this.I=t.Bw,this.mvt=t.Dw,this.yvt=t.wvt}var n=t.prototype;return n.Iw=function(t){return this===t||!!hz(this,t)&&(this.gvt===t.gvt&&this.mvt===t.mvt&&this.yvt===t.yvt&&this.I===t.I)},n.Rw=function(){return new t({Cw:this.Cw,Bw:this.Bw,Dw:this.Dw,wvt:this.Pw})},Ar(t,[{key:"yw",get:function(){return Ng.Aw}},{key:"Cw",get:function(){return this.gvt}},{key:"Nw",get:function(){return void 0===this.yvt?this.gvt:this.yvt+":"+this.gvt}},{key:"Dw",get:function(){return this.mvt}},{key:"Pw",get:function(){return this.yvt}},{key:"Bw",get:function(){return this.I}}]),t}(),ez=function(){function t(){this.Ow=[]}var n=t.prototype;return n.Lw=function(t){return this.Ow.filter((function(n){return fz(n)&&n.Fw===t}))},n.Uw=function(t,n){return this.Ow.filter((function(i){return fz(i)&&i.Cw===n&&i.Dw===t}))},n.Hw=function(t){this.Ow.push(t)},Ar(t,[{key:"Mw",get:function(){return this.Ow}},{key:"zw",get:function(){return this.Ow.filter(fz)}}]),t}(),uz=function(t){function n(n){var i;return(i=t.call(this)||this).pvt=[],i.gvt=n.Cw,i.mvt=n.Dw,i.yvt=n.wvt,i}zr(n,t);var i=n.prototype;return i.Avt=function(t){for(var n=0,i=this.Mw;n<i.length;n++){var r=i[n];fz(r)?r.Avt(t):t.push(r.Ud)}},i.Ww=function(t,n){for(var i=0,r=this.pvt;i<r.length;i++){var e=r[i];if(e.Cw===n&&e.Dw===t)return e.Bw}},i.Vw=function(t){for(var n=0,i=this.pvt;n<i.length;n++){var r=i[n];if(r.Nw===t)return r.Bw}},i._vt=function(t){this.pvt.push(t)},i.qw=function(t){for(var n=0;n<this.pvt.length;n++)if(this.pvt[n].Nw===t)return void this.pvt.splice(n,1)},i.Gw=function(t,n){for(var i=0;i<this.pvt.length;i++)if(this.pvt[i].Cw===n&&this.pvt[i].Dw===t)return void this.pvt.splice(i,1)},i.jw=function(t,n){this.qw(t),this._vt(new rz({Cw:t,Bw:n}))},i.Yw=function(t,n,i){this.qw(n);var r=n.split(":");this._vt(new rz({Cw:r[r.length-1],Bw:i,Dw:t,wvt:r.length>1?r[0]:void 0}))},i.Rw=function(t){var i=new n({Cw:this.Cw,Dw:this.Dw,wvt:this.Pw});return this.Qw.forEach((function(t){return i._vt(t.Rw())})),t&&this.Mw.forEach((function(n){return i.Hw(n.Rw(t))})),i},i.Iw=function(t){return this===t||!!hz(this,t)&&(this.gvt===t.gvt&&this.yvt===t.yvt&&this.mvt===t.mvt&&(vz(this.Qw,t.Qw)&&vz(this.Mw,t.Mw)))},Ar(n,[{key:"yw",get:function(){return Ng.pw}},{key:"Qw",get:function(){return this.pvt}},{key:"Cw",get:function(){return this.gvt}},{key:"Dw",get:function(){return this.mvt}},{key:"Pw",get:function(){return this.yvt}},{key:"Fw",get:function(){return void 0===this.yvt?this.gvt:this.yvt+":"+this.gvt}},{key:"Zw",get:function(){var t=[];return this.Avt(t),t.join("")}}]),n}(ez),sz=function(){function t(t){this.j=t}return Ar(t,[{key:"Ud",get:function(){return this.j}}]),t}(),oz=function(t){function n(n){return t.call(this,n)}zr(n,t);var i=n.prototype;return i.Rw=function(){return new n(this.Ud)},i.Iw=function(t){return this===t||!!hz(this,t)&&this.Ud===t.Ud},Ar(n,[{key:"yw",get:function(){return Ng.ed}}]),n}(sz),az=function(t){function n(n){return t.call(this,n)}zr(n,t);var i=n.prototype;return i.Rw=function(){return new n(this.Ud)},i.Iw=function(t){return this===t||!!hz(this,t)&&this.Ud===t.Ud},Ar(n,[{key:"yw",get:function(){return Ng.bw}}]),n}(sz),cz=function(t){function n(){return t.apply(this,arguments)}zr(n,t);var i=n.prototype;return i.Rw=function(t){var i=new n;return t&&this.Mw.forEach((function(n){return i.Hw(n.Rw(t))})),i},i.Iw=function(t){return this===t||!!hz(this,t)&&vz(this.Mw,t.Mw)},Ar(n,[{key:"yw",get:function(){return Ng.Tw}},{key:"Kw",get:function(){return this.zw[0]}}]),n}(ez);function fz(t){return Pg(t)}function hz(t,n){return t.yw===n.yw}function vz(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].Iw(n[i]))return!1;return!0}function dz(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:na({},t,{adBreak:na({},t.adBreak,{ads:t.adBreak.ads.map((function(t){t.adBreak;return Xb(t,["adBreak"])}))})})}function lz(t){return void 0===t.ads?t:na({},t,{ads:t.ads.map((function(t){t.adBreak;return Xb(t,["adBreak"])}))})}function wz(t){return"string"==typeof t.date?new Date(t.date):t.date}function _z(t){var n;return t.cue.track?(n=mz(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=mz(t.cue,""),n}function gz(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&v.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var r=v.entries(i);return v.fromEntries(r.map((function(i){var r=ra(i,2),e=r[0],u=r[1],s=t(u);return"object"==typeof u&&null!==u&&"[Circular ~]"!==s&&n.pop(u),[e,s]})))}return i}(t)}function mz(t,n){var i={};switch(i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function(t){return pz(t).innerHTML}(t.content);for(var r=t.content,e={};r.firstChild&&r.firstChild.outerHTML;){(new iz).Sw(r.firstChild.outerHTML).Kw.Qw.forEach((function(t){e[t.Cw]=t.Bw})),r=r.firstChild}i.ttmlAttributes=e;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if(kz(o)){var a=yz(o);u[s]={type:"daterange-ca-type_arraybuffer",value:a}}else bz(o)?u[s]={type:"daterange-ca-type_number",value:o}:u[s]={type:"daterange-ca-type_string",value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=yz(t.scte35Cmd),i.scte35Out=yz(t.scte35Out),i.scte35In=yz(t.scte35In),i.customAttributes=u}return i}function yz(t){if(void 0!==t)return df(t)}function pz(t){var n=t.children;if(0!==n.length)for(var i=0;i<n.length;i++){var r=n.item(i);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:pz(r)}}function Az(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(mz(e,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(mz(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function kz(t){return"object"==typeof t&&null!==t}function bz(t){return"number"==typeof t}!function(t){t.WZ="daterange-ca-type_string",t.kvt="daterange-ca-type_number",t.bvt="daterange-ca-type_arraybuffer"}(tz||(tz={}));var Tz={cue:function(t){var n={};switch(n.date=wz(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=_z(t)}return n},textTrack:function(t){var n={};switch(n.date=wz(t),n.type=t.type,t.type){case"addcue":var i=t.cue;Rz().register(i);var r=Iz()[Cz()].eventListeners;t.cue.addEventListener("enter",(function(t){r.InternalCueHelperEvent(t)})),t.cue.addEventListener("exit",(function(t){r.InternalCueHelperEvent(t)})),t.cue.addEventListener("update",(function(t){r.InternalCueHelperEvent(t)}));case"removecue":case"entercue":case"exitcue":n.cue=_z(t);break;case"cuechange":for(var e=[],u=0;u<t.track.activeCues.length;u++){var s=t.track.activeCues[u];e.push(mz(s,t.track.type))}n.track={activeCues:e,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:Az(t.track),date:wz(t),type:t.type},r=null==(n=t.track)?void 0:n.cues,e=Rz();if(r)switch(t.type){case"addtrack":r.forEach(e.register);break;case"removetrack":r.forEach((function(t){return e.remove(t.uid)}))}return i},default:function(t){var n={};switch(n.date=wz(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case vw.Qv:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=na({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=Az(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=lz(t.ad);break;case"adloaded":case"adimpression":n.ad=dz(t.ad);break;case"adskip":n.ad=dz(t.ad),n.playedPercentage=t.playedPercentage;break;case"aderror":t.Tvt&&(n.Tvt=t.Tvt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=dz(t.ad)}return gz(n)},minimizeCueHelper:function(t){var n={};return n.date=wz(t),n.type=t.type,n.cue=_z(t),n.track={uid:t.cue.track.uid},n},adReplacer:dz,adBreakReplacer:lz,removeCircularReferences:gz},Sz=function(){this.stringify=$X,this.minimize=Tz};function Ez(){return mo.self}function Iz(){return Ez().THEOplayerBridge}function Rz(){return Ez().THEOCueMirrorMap}function Cz(){return Ez().THEOplayerGlobalID}function Nz(){var t=Ez();if(t.THEOplayerBridge){var n=new QX;t.THEOplayerBridge=hm(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new QX;t.THEOplayerUtils||(t.THEOplayerUtils=new Sz),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new ZX)}Nz(),yr(),zt(),yr(),zt(),yr(),zt(),kr(),yr(),zt(),yr(),zt();var Dz=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return zr(n,t),n}(Qc),Pz=function(t){function n(){return t.apply(this,arguments)}zr(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.qs(new Dz(t,n))},i.addEventListener=function(t,n){this.js(t,n)},i.removeEventListener=function(t,n){this.Ks(t,n)},n}(Xm);yr(),zt(),kr();var Bz=function(t){function n(n,i){var r;return(r=t.call(this)||this).Svt=function(t){r.Evt.pJ("THEOplayerABRSetTargetBuffer",t.uM),r.qs(t)},r.Ivt=function(t){r.Evt.pJ("THEOplayerABRSetStrategy",t.eM),r.qs(t)},r.Evt=n,r.Rvt=i,r.Rvt.js("aM",r.Svt),r.Rvt.js("cM",r.Ivt),r}return zr(n,t),n.prototype.mM=function(t){return this.Rvt.mM(t)},Ar(n,[{key:"pM",get:function(){switch(this.eM.type){case tC.PERFORMANCE:return 1;case tC.QUALITY:return 0;case tC.BANDWIDTH:var t;return(null==(t=this.eM.metadata)?void 0:t.bitrate)&&!_(this.eM.metadata.bitrate)?this.eM.metadata.bitrate:0;default:return 0}}},{key:"y_",get:function(){return this.Rvt.y_}},{key:"eM",get:function(){return this.Rvt.eM},set:function(t){this.Rvt.eM=t}},{key:"uM",get:function(){return this.Rvt.uM},set:function(t){this.Rvt.uM=t}},{key:"yM",get:function(){return this.Rvt.yM}},{key:"sM",get:function(){return this.Rvt.sM},set:function(t){this.Rvt.sM=t}},{key:"oM",get:function(){return this.Rvt.oM}},{key:"$L",get:function(){return this.Rvt.$L}}]),n}(Gc);yr(),zt(),kr(),yr(),zt(),kr();var Oz,xz=function(){function t(t,n,i){this.Mf=void 0,this.wh=t,this._s=i,this.Lh=n}var n=t.prototype;return n.gI=function(t){throw new f("Not implemented yet.")},n.SU=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return[4,i._s.gs(t.rs,n)];case 1:return[4,e.sent().jf()];case 2:return r=e.sent(),[4,i.EU(r)];case 3:return e.sent(),[2,r]}}))}))()},n.IU=function(t){return!1},n.RU=function(t){return j.resolve(void 0)},n.Ds=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return[4,t.EU(void 0)];case 1:return n.sent(),[2]}}))}))()},n.EU=function(t){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return[4,n.DU(t)];case 1:return i.sent(),[2]}}))}))()},n.DU=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return(i=n.Mf)?[4,i.Vf(n.Lh)]:[3,2];case 1:r.sent(),n.Mf=void 0,r.label=2;case 2:return t?[4,t.zf(n.Lh)]:[3,4];case 3:r.sent(),n.Mf=t,r.label=4;case 4:return[2]}}))}))()},n.lI=function(t,n,i){throw new f("Not implemented yet.")},Ar(t,[{key:"Uf",get:function(){return this.wh}},{key:"tp",get:function(){throw new f("Not implemented yet.")},set:function(t){throw new f("Not implemented yet.")}},{key:"np",get:function(){return new gE([0,1/0])}},{key:"wy",get:function(){throw new f("Not implemented yet.")}},{key:"Cvt",get:function(){throw new f("Not implemented yet")}},{key:"ly",get:function(){throw new f("Not implemented yet.")}},{key:"Nvt",get:function(){throw new f("Not implemented yet")}},{key:"Dvt",get:function(){throw new f("Not implemented yet")}}]),t}();yr(),zt(),function(t){t.Pvt="webkitneedkey",t.Bvt="webkitkeymessage",t.Ovt="webkitkeyerror",t.xvt="webkitkeyflowdone"}(Oz||(Oz={}));var Lz=function(t){function n(n,i){var r;return(r=t.call(this,"webkitneedkey")||this).initData=n,r.sessionId=i,r}return zr(n,t),n}(Qc),Mz=function(t){function n(n,i){var r;return(r=t.call(this,"webkitkeymessage")||this).message=n,r.destinationURL=i,r}return zr(n,t),n}(Qc),Fz=function(t){function n(){return t.call(this,"webkitkeyerror")}return zr(n,t),n}(Qc),Uz=function(t){function n(){return t.call(this,"webkitkeyflowdone")}return zr(n,t),n}(Qc);yr(),zt(),yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),kr();var Hz=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).nh=n,s.yf=i,s.Lvt=r,s.Mh=e,s.gh=u,s.uh=new kh,s.yh=void 0,s.hh=new uf,s.Ah=new kh,s.Mvt=function(t){s.yh?(s.yh.Go(void 0),s.yh=void 0):s.fh("internal-error"),s.qs(new tf)},s.Fvt=function(t){s.qs(new $c($a(s),"license-request",mh(t.message).buffer,t.destinationURL||void 0))},s.Uvt=function(t){s.yh&&(s.yh.qo(void 0),s.yh=void 0)},s}zr(n,t);var i=n.prototype;return i.Rf=function(t,n,i){var r=this;return ta((function(){var t;return ia(this,(function(e){switch(e.label){case 0:if(!(t=i&&i.fairplay&&i.fairplay.kh))throw new h("Expected FairPlay contentId to be defined but was "+t+".");return[4,r.Hvt(_h(n),t)];case 1:return e.sent(),r.fh("usable"),r.Ah.qo(),r.Ah=new kh,[2]}}))}))()},i.Cf=function(t){return ta((function(){return ia(this,(function(t){return[2,!0]}))}))()},i.Df=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){if(0===(i=_h(t)).byteLength)throw new h("Cannot call update with an empty response.");return n.yh=new kh,n.Lvt.Df(n.Mh,i),[2,n.yh.Wo]}))}))()},i.If=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return[4,t.Ah];case 1:return n.sent(),t.Lvt.Ks(Oz.Bvt,t.Fvt),t.Lvt.Ks(Oz.Ovt,t.Mvt),t.Lvt.Ks(Oz.xvt,t.Uvt),t.Ah.Ms(),t.uh.qo(void 0),[2,t.uh.Wo]}}))}))()},i.Nf=function(){return ta((function(){return ia(this,(function(t){return[2]}))}))()},i.Hvt=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){return r=Vl(t,n,i.gh),i.Lvt.js(Oz.Bvt,i.Fvt),i.Lvt.js(Oz.Ovt,i.Mvt),i.Lvt.js(Oz.xvt,i.Uvt),i.Lvt.Dj(i.Mh,r),[2]}))}))()},i.fh=function(t){this.hh.Oo(),this.hh.Bo(ef,t),this.qs(new Jc(this))},Ar(n,[{key:"Lf",get:function(){return this.Mh}},{key:"Of",get:function(){return NaN}},{key:"Bf",get:function(){return this.uh.Wo}},{key:"xf",get:function(){return this.hh}}]),n}(Gc),Xz=function(){function t(t,n,i){this.Xvt=void 0,this.Mh=void 0,this.gh=void 0,this.Lvt=t,this.yf=n,this.wh=i;var r=Rl(i)||"video/mp4";this.nh=Tl(r)}var n=t.prototype;return n.Hf=function(t){var n=this;return ta((function(){var t;return ia(this,(function(i){if(!n.gh)throw new Wl(Hl.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return t=new Hz(n.nh,n.yf,n.Lvt,n.Mh,n.gh),n.Xvt=t,[2,t]}))}))()},n.Xf=function(t){return this.gh=_h(t),j.resolve(!0)},n.zf=function(t){var n=this;return ta((function(){return ia(this,(function(i){return t.webkitSetMediaKeys(n),[2]}))}))()},n.Vf=function(t){return ta((function(){return ia(this,(function(n){return t.webkitSetMediaKeys(null),[2]}))}))()},n.createSession=function(){throw new f("Whoops.")},Ar(t,[{key:"Ff",get:function(){return this.yf}},{key:"Uf",get:function(){return this.wh}},{key:"sessionId",set:function(t){this.Mh=t}}]),t}(),zz=function(){function t(t,n,i){this.zvt=t,this.yf=n,this.wh=i}var n=t.prototype;return n.Yf=function(){return this.wh},n.jf=function(){var t=this;return ta((function(){return ia(this,(function(n){return[2,new Xz(t.zvt,t.yf,t.wh)]}))}))()},Ar(t,[{key:"Ff",get:function(){return this.yf}}]),t}(),Vz=function(){function t(t){this.zvt=t}return t.prototype.gs=function(t,n){var i=this;return ta((function(){var r,e,u;return ia(this,(function(s){for(r=0;r<n.length;r++)if(e=n[r],u=El(Wz,Kc,t,e))return[2,new zz(i.zvt,t,u)];throw new h("Unsupported key system configuration for "+t)}))}))()},t}();function Wz(t,n){return t===Ra}yr(),zt();var qz=function(t){function n(){return t.apply(this,arguments)}return zr(n,t),n.prototype.Xj=function(t,n){return!0},n}(cB),Gz=function(t){function n(n,i,r){var e;return void 0===r&&(r=new Vz(i)),(e=t.call(this)||this).KC=void 0,e.Qj=new Kl,e.Vvt=!1,e._h=null,e.Wvt={Gy:0,jy:0,Yy:0,Qy:0,Zy:0,Ky:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.qvt=function(t){"boolean"==typeof t.detail.casting&&(e.Vvt=t.detail.casting,e.qs(new Bp(e.Vvt)))},e.Gvt=function(t){e.Mh=t.sessionId,e._h&&(e._h.sessionId=e.Mh);var n=t.initData;if(n){var i=gB(n);if(!i)return;e.qs(new nf(ga,i))}else e.qs(new nf(ga,new ArrayBuffer(0)))},e.jvt=n,e.zvt=i,e.zvt.js(Oz.Pvt,e.Gvt),e._s=r,e.TU=new qz($a(e)),e.Yvt(),e}zr(n,t);var i=n.prototype;return i.MU=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.$u===lb.yI)return i}},i.Ds=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return[4,t.Wf()];case 1:return n.sent(),t.Zs(),t.Qvt(),t.zvt.Ks(Oz.Pvt,t.Gvt),[4,t.TU.Ds()];case 2:return n.sent(),[2]}}))}))()},i.Dy=function(){throw new f("Not implemented yet")},i.lI=function(t,n,i,r,e,u,s,o,a){throw new f("Not implemented yet")},i.ON=function(){return!1},i.LN=function(t,n,i,r,e){throw new f("Not implemented yet")},i.gI=function(t){throw new f("Not implemented yet")},i.UN=function(){throw new f("Not implemented yet")},i.Cf=function(t){var n=this;return ta((function(){return ia(this,(function(i){return[2,n.Qj.Dh(ta((function(i){var r;return ia(this,(function(e){if(t.$u===lb.yI)return Bc(i),r=new xz(t,n,n._s),n.KC=r,n.TU.Cf(r,t),[2,r];throw new f("Could not create non-static media source")}))})))]}))}))()},i.yy=function(){throw new f("Not implemented yet")},i.gy=function(){throw new f("Not implemented yet")},i.Wf=function(){this.Qj.Ms();var t=this;return this.Qj.Dh(ta((function(){return ia(this,(function(n){switch(n.label){case 0:return void 0===t.KC?[3,2]:[4,t.KC.Ds()];case 1:n.sent(),t.KC=void 0,n.label=2;case 2:return[4,t.TU.Wf()];case 3:return n.sent(),[2]}}))})))},i.Uo=function(t,n,i){throw new f("Not implemented yet")},i.GN=function(t){throw new f("Not implemented yet")},i.Ny=function(){throw new f("Not implemented yet")},i.jN=function(){return this.Wvt},i.Yvt=function(){this.jvt.addEventListener("airPlayIsCasting",this.qvt)},i.Qvt=function(){this.jvt.removeEventListener("airPlayIsCasting",this.qvt)},i.webkitSetMediaKeys=function(t){this._h=t||null,this._h&&(this._h.sessionId=this.Mh)},i.xQ=function(){},i.BQ=function(){throw new f("Not implemented yet")},i.OQ=function(){throw new f("Not implemented yet")},Ar(n,[{key:"zy",get:function(){throw new f("Not implemented yet")}},{key:"Xy",get:function(){throw new f("Not implemented yet")}},{key:"Tm",get:function(){throw new f("Not implemented yet")}},{key:"FQ",get:function(){throw new f("Not implemented yet")}},{key:"Sm",get:function(){throw new f("Not implemented yet")}},{key:"Em",get:function(){throw new f("Not implemented yet")}},{key:"Ao",get:function(){throw new f("Not implemented yet")}},{key:"WT",get:function(){throw new f("Not implemented yet")}},{key:"Wy",get:function(){return this.Vvt}},{key:"Rm",get:function(){throw new f("Not implemented yet")}},{key:"Cm",get:function(){throw new f("Not implemented yet")}},{key:"Nm",get:function(){throw new f("Not implemented yet")}},{key:"$y",get:function(){throw new f("Not implemented yet")}},{key:"Mg",get:function(){throw new f("Not implemented yet")}},{key:"np",get:function(){throw new f("Not implemented yet")}},{key:"Dm",get:function(){throw new f("Not implemented yet")}},{key:"Tq",get:function(){throw new f("Not implemented yet")}},{key:"UQ",get:function(){throw new f("Not implemented yet")}},{key:"Om",get:function(){throw new f("Not implemented yet")},set:function(t){throw new f("Not implemented yet")}},{key:"Kp",get:function(){throw new f("Not implemented yet")}},{key:"FN",get:function(){throw new f("Not implemented yet")}},{key:"webkitKeys",get:function(){return this._h}},{key:"zj",get:function(){return WC}},{key:"wy",get:function(){throw new f("Not implemented yet")}},{key:"HQ",get:function(){throw new f("Not implemented yet")}},{key:"YN",get:function(){throw new f("Not implemented yet")}},{key:"LQ",get:function(){return!0}},{key:"SN",get:function(){return this.TU.SN},set:function(t){this.TU.SN=t}},{key:"XQ",get:function(){},set:function(t){}},{key:"qj",get:function(){return this.TU.qj}}]),n}(Hm);yr(),zt();var jz,Yz=function(t){function n(n){var i;return(i=t.call(this,vw.Jv)||this).Wvt=n,i}return zr(n,t),n}(Qc);function Qz(t){switch(t.type){case"daterange-ca-type_string":return t.value;case"daterange-ca-type_number":return mm(t.value);case"daterange-ca-type_arraybuffer":return ff(t.value);default:return}}function Zz(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}yr(),zt(),function(t){t.WZ="daterange-ca-type_string",t.kvt="daterange-ca-type_number",t.bvt="daterange-ca-type_arraybuffer"}(jz||(jz={})),yr(),zt(),yr(),zt(),kr();var Kz=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,e,i,r)||this).cC=n,s.Zvt=u,s}return zr(n,t),Ar(n,[{key:"name",get:function(){return this.cC}},{key:"timestamp",get:function(){return this.Zvt}}]),n}(Wl);yr(),zt();var Jz=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r,e,a)||this).url=u,c.status=s,c.errorComment=o,c}return zr(n,t),n}(Kz);yr(),zt(),kr();var $z=function(){function t(t,n){this.ey=new Vk,this.vQ=new zP(t,n)}var n=t.prototype;return n.lI=function(t,n,i,r,e,u,s,o){var a=new WD(t,n,i,r,e,u,s,void 0,o);return this.ey.q_(a),this.vQ.q_(a),a},n.gI=function(t){this.ey.G_(t),this.vQ.G_(t),t.Bh()},n.Wf=function(){for(var t=0,n=this.ey.Y_.slice();t<n.length;t++){n[t].Bh()}this.ey.Wf(),this.vQ.Wf()},n.Bh=function(){this.Wf(),this.ey.Bh(),this.vQ.Bh()},Ar(t,[{key:"wy",get:function(){return this.ey}}]),t}(),tV=function(t){function n(n,i,r,e,u){var s;(s=t.call(this)||this).vP=0,s.yq=!1,s.JC=void 0,s.$C=void 0,s.lP=!0,s.wP=1,s.Ntt=gE.uP(),s.iq=gE.uP(),s.dP=!1,s.aY=gE.uP(),s.pq=ty.fm,s.bI=ty.fm,s.Wvt={Gy:0,jy:0,Yy:0,Qy:0,Zy:0,Ky:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.KC=void 0,s.tN=new YS,s.nN=new tE;var o=$a(s);s.setCurrentTime=ta((function(t){return ia(this,(function(n){switch(n.label){case 0:return o.np.length?[3,2]:(o.vP=t,[4,o.jvt.oo("seekablechange")]);case 1:n.sent(),n.label=2;case 2:return o.vP=o.updateCurrentTime(t),o.Evt.pJ("THEOplayerSetCurrentTime",o.vP),o._P=!0,o.qs(new Dy(o.vP)),[2]}}))})),s.Kvt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.Ntt=new gE(i),s.qs(new JC(s.Tm))}},s.Jvt=function(t){s.pq=t.detail.readyState,s.qs(new Oy(+t.detail.currentTime,s.Mg)),s.$vt()},s.tdt=function(t){s.pq=t.detail.readyState,s.qs(new xy(+t.detail.currentTime,s.Mg)),s.$vt()},s.ndt=function(t){if(t.detail){var n=+t.detail.duration;s.nc=n,s.qs(new Ey(s.Sm))}},s.idt=function(t){t.detail&&(s.yq=!0,s.qs(new Cy(+t.detail.currentTime)))},s.iN=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n=JSON.parse(t.detail.errorObject);!function(t){return Zz(t)&&void 0!==t.url&&void 0!==t.status&&void 0!==t.errorComment}(n)?Zz(n)&&(s.$C=new Kz(n.name,n.message,void 0,n.code,n.timestamp),s.JC=wp(s.$C),s.qs(new My(s.$C))):(s.$C=new Jz(n.name,n.message,void 0,n.code,n.url,n.status,n.errorComment,n.timestamp),s.JC=wp(s.$C),s.qs(new My(s.$C)))}},s.rdt=function(t){s.qs(new tN)},s.edt=function(t){s.pq=t.detail.readyState,s.qs(new Ny(+t.detail.currentTime,s.Mg)),s.$vt()};var a=$a(s);s.udt=ta((function(t){return ia(this,(function(n){switch(n.label){case 0:return a.np.length?[3,2]:[4,a.jvt.oo("seekablechange")];case 1:n.sent(),n.label=2;case 2:return a.pq=t.detail.readyState,a.qs(new Sy(+t.detail.currentTime,a.Mg)),a.$vt(),[2]}}))})),s.sdt=function(t){t.detail&&s.lP&&(s.lP=!1,s.qs(new by(+t.detail.currentTime)))},s.odt=function(t){t.detail&&(s.lP||(s.lP=!0,s.qs(new Ay(+t.detail.currentTime))))},s.adt=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.aY=new gE(i)}},s.cdt=function(t){t.detail&&s.qs(new gb(+t.detail.currentTime))},s.fdt=function(t){t.detail&&(s.wP=t.detail.playbackRate,s.qs(new Iy(+t.detail.currentTime,s.wP)))},s.hdt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.iq=new gE(i)}},s.vdt=function(t){t.detail&&(s.vP=+t.detail.currentTime,s._P=!1,s.qs(new Ry(s.vP,s.ddt)),s.qs(new Py(s.vP)))},s.ldt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.nc&&(s.yq=!1),s._P=!0,s.qs(new Dy(n))}},s.wdt=function(t){t.detail&&(t.detail.currentDate&&(s.ddt=new Date(1e3*t.detail.currentDate)),s.vP=+t.detail.currentTime,s.qs(new Ry(s.vP,s.ddt)))},s._dt=function(t){s.gdt=t.detail.height,s.mdt=t.detail.width},s.ydt=function(t){t.detail&&s.qs(new _b(+t.detail.currentTime))},s.pdt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.vy.q_(new Rp(n))},s.Adt=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,u=0;u<s.$m.Q_;u++){var o=s.vy.W_(u);o.gg==r&&o.wg==e?i=s.$m.W_(u):1==o.fg&&(n=s.$m.W_(u))}i&&n&&(i.fg=!0,n.fg=!1)},s.kdt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.ly.q_(new Np(n))},s.GK=function(t){var n,i=t.detail.kind,r=t.detail.type;i===zk.Lb&&r===$m.ID3?(n=new YP("",t.detail.label)).Dg=Dm.Bg:i===zk.Lb&&r===$m.DATE_RANGE?(n=new NM,s.bdt=n):n=new WD(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,r),s.SY.q_(n),s.vQ.q_(n)},s.Tdt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,u=void 0;if("PRIV"===e)u={id:e,ownerIdentifier:r.Id3_PRIV_ownerIdentifier,data:r.Id3_PRIV_data};else if("TXXX"===e||"TXX"===e){u={id:e,text:r.Id3FrameText,description:r.Id3FrameDescription}}else{u={id:e,text:r.Id3FrameText}}var o=new GP(mm(r.startTime),u,r.uid),a=s.Sdt();a&&a._I(o)}},s.Edt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r,e=i[n],u=new Zp(mm(e.startTime),mm(e.endTime),e.content,!1),o=null!=(r=s.Idt(zk.Ob))?r:s.Idt(zk.KE);o&&(o.$u=$m.WEBVTT,o._I(u))}},s.oQ=function(t){t.type===vw.hv&&(s.JC=wp(t.errorObject)),s.Ws(t)},s.Rdt=function(t){t.detail&&(s.Wvt.jy=t.detail.corruptedVideoFrames,s.Wvt.Gy=t.detail.droppedVideoFrames,s.qs(new Yz(s.qy)))},s.Cdt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach((function(t){var n={hg:t.id};if(void 0!==t.startDate&&(n.YN=new Date(t.startDate)),void 0!==t.endDate&&(n.u3=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var u=Qz(t.customAttributes[e]);void 0!==u&&(r[e]=u)}n.o3=r}void 0!==t.scte35Cmd&&(n.c3=ff(t.scte35Cmd)),void 0!==t.scte35In&&(n.v3=ff(t.scte35In)),void 0!==t.scte35Out&&(n.h3=ff(t.scte35Out)),void 0!==t.startTime&&(n.Tp=t.startTime),n.e3=t.class,n.Sm=mm(t.duration),n.s3=mm(t.plannedDuration),i.push(n)})),i}(t);n.forEach((function(t){var i=null!=t.Tp?t.Tp:(new Date).getTime(),r=new RM(t,i);s.bdt._I(r),s.bdt.Df(n,i)}))};var c=e.uid;s.Evt=s.getSdkBridge(c),s.jvt=new Pz,Iz()[c].sdkEventBus=s.jvt,s.$m=new _p,s.iy=new _p;var f=s.Ndt(r);return s.hI=new $z($a(s),new VP),s.vQ=new qP($a(s)),s.RN=new ab(s.hI,f),s.SY=new Vk,s.fQ=new KP(s.hI,s.SY),s.ey=new KS([s.SY,s.RN.RT,s.fQ.RT]),s.zvt=s.getFairPlayControllerBridge(s.Evt),s.yN=new Gz(s.jvt,s.zvt),s.TN=new QS(f),s.yN.SN=s.TN,s.observeMediaElement(),s.IN(),s.mP=new Bz(s.Evt,u),s.mP.js("aM",(function(){s.Evt.pJ("THEOplayerSetPreferredForwardBufferDuration",s.mP.uM)})),s}zr(n,t);var i=n.prototype;return i.By=function(){return pE},i.Ny=function(){this.Evt.pJ("THEOplayerShow",{})},i.Dy=function(){this.Evt.pJ("THEOplayerHide",{})},i.Ddt=function(){var t=this;this.Evt.pJ("THEOplayerSetInitialPreferredPeakBitRate",this.mP.pM);var n=function(){t.Evt.pJ("THEOplayerSetInitialPreferredPeakBitRate",0),t.Ks("playing",n)};this.js("playing",n)},i.by=function(t,n){var i=this;return ta((function(){var r,e,u;return ia(this,(function(s){switch(s.label){case 0:return i.zst=t,r=na({},n,{sources:{src:t.src,type:Zm.Kg,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),i.Evt.pJ("THEOplayerSourceChange",r),e={$u:lb.yI,Hg:t.src,md:t.type,CN:i.NN(t),DN:t.crossOrigin,PN:n.metadata&&n.metadata.title},i.TN.LC(t.contentProtection),[4,i.yN.Cf(e)];case 1:return i.KC=s.sent(),n.textTracks&&(u=n.textTracks.filter((function(t){return t.format!==$m.WEBVTT}))).length>0&&i.BN(u),db(i.wy),i.Ddt(),[2]}}))}))()},i.NN=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Ff:Pa,VN:[{initDataTypes:[Pa.us],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.gy=function(){this.lP=!1,this.qs(new by(this.Tm)),this.Evt.pJ("THEOplayerPlay",{})},i.yy=function(){this.lP=!0,this.qs(new Ay(this.Tm)),this.Evt.pJ("THEOplayerPause",{})},i.Py=function(){},i.Wf=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return t.vP=0,t.yq=!1,t.JC=void 0,t.$C=void 0,t.lP=!0,t.wP=1,t.nc=void 0,t.iq=gE.uP(),t.Ntt=gE.uP(),t.gdt=void 0,t.mdt=void 0,t.pq=ty.fm,t.bI=ty.fm,t.$m.Wf(),t.iy.Wf(),t.SY.Wf(),t.ey.Wf(),[4,t.fQ.Wf()];case 1:return n.sent(),[4,t.RN.Wf()];case 2:return n.sent(),t.hI.Wf(),t.vQ.Wf(),t.zst=void 0,[4,t.yN.Wf()];case 3:return n.sent(),[2]}}))}))()},i.Sy=function(){this.Evt.pJ("THEOplayerShowAirPlayPicker",{})},i.Ey=function(){this.Evt.pJ("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.qy.jy=t.jy,this.qy.Gy=t.Gy},i.Bh=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return[4,t.Wf()];case 1:return n.sent(),t.Zs(),t.unobserveMediaElement(),t.XN(),t.yN.SN=void 0,[4,t.yN.Ds()];case 2:return n.sent(),t.$m.Bh(),t.iy.Bh(),t.SY.Bh(),t.ey.Bh(),[4,t.fQ.Bh()];case 3:return n.sent(),[4,t.RN.Bh()];case 4:return n.sent(),t.hI.Bh(),t.vQ.Bh(),[2]}}))}))()},i.BN=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.RN.dI(i)}},i.$vt=function(){var t=this.bI,n=this.pq;t!==n&&(this.bI=n,this.qs(new Ly(this.Tm,n)))},i.observeMediaElement=function(){this.yN.js(vw.ev,this.Ws),this.yN.js([vw.vv,vw.hv],this.oQ),this.jvt.addEventListener("play",this.sdt),this.jvt.addEventListener("pause",this.odt),this.jvt.addEventListener("seeking",this.ldt),this.jvt.addEventListener("seeked",this.vdt),this.jvt.addEventListener("ratechange",this.fdt),this.jvt.addEventListener("durationchange",this.ndt),this.jvt.addEventListener("timeupdate",this.wdt),this.jvt.addEventListener("waiting",this.ydt),this.jvt.addEventListener("playing",this.cdt),this.jvt.addEventListener("ended",this.idt),this.jvt.addEventListener("loadedmetadata",this.udt),this.jvt.addEventListener("loadeddata",this.edt),this.jvt.addEventListener("loadstart",this.rdt),this.jvt.addEventListener("canplay",this.Jvt),this.jvt.addEventListener("canplaythrough",this.tdt),this.jvt.addEventListener("error",this.iN),this.jvt.addEventListener("seekablechange",this.hdt),this.jvt.addEventListener("videosizechange",this._dt),this.jvt.addEventListener("bufferedchange",this.Kvt),this.jvt.addEventListener("playedchange",this.adt),this.jvt.addEventListener("metricschange",this.Rdt),this.jvt.addEventListener("addDateRangeCues",this.Cdt)},i.unobserveMediaElement=function(){this.yN.Ks(vw.ev,this.Ws),this.yN.Ks([vw.vv,vw.hv],this.oQ),this.jvt.removeEventListener("play",this.sdt),this.jvt.removeEventListener("pause",this.odt),this.jvt.removeEventListener("seeking",this.ldt),this.jvt.removeEventListener("seeked",this.vdt),this.jvt.removeEventListener("ratechange",this.fdt),this.jvt.removeEventListener("durationchange",this.ndt),this.jvt.removeEventListener("timeupdate",this.wdt),this.jvt.removeEventListener("waiting",this.ydt),this.jvt.removeEventListener("playing",this.cdt),this.jvt.removeEventListener("ended",this.idt),this.jvt.removeEventListener("loadedmetadata",this.udt),this.jvt.removeEventListener("loadeddata",this.edt),this.jvt.removeEventListener("loadstart",this.rdt),this.jvt.removeEventListener("canplay",this.Jvt),this.jvt.removeEventListener("canplaythrough",this.tdt),this.jvt.removeEventListener("error",this.iN),this.jvt.removeEventListener("seekablechange",this.hdt),this.jvt.removeEventListener("videosizechange",this._dt),this.jvt.removeEventListener("bufferedchange",this.Kvt),this.jvt.removeEventListener("playedchange",this.adt),this.jvt.removeEventListener("metricschange",this.Rdt),this.jvt.removeEventListener("addDateRangeCues",this.Cdt)},i.updateCurrentTime=function(t){var n=this.np.start(0),i=this.np.end(0);return d.min(d.max(t,n),i)},i.Sdt=function(){for(var t=0,n=this.ey.Y_;t<n.length;t++){var i=n[t];if(i.dg===zk.Lb&&i.$u===$m.ID3)return i}},i.Idt=function(t){for(var n=0,i=this.ey.Y_;n<i.length;n++){var r=i[n],e=r.Dg===Dm.Pg,u=r.dg===t;if(e&&u)return r}},i.IN=function(){this.jvt.addEventListener("addaudiotrack",this.pdt),this.jvt.addEventListener("enableaudiotrack",this.Adt),this.jvt.addEventListener("addvideotrack",this.kdt),this.jvt.addEventListener("addtexttrack",this.GK),this.jvt.addEventListener("addtexttrackid3cues",this.Tdt),this.jvt.addEventListener("addtexttrackcues",this.Edt)},i.XN=function(){this.jvt.removeEventListener("addaudiotrack",this.pdt),this.jvt.removeEventListener("enableaudiotrack",this.Adt),this.jvt.removeEventListener("addvideotrack",this.kdt),this.jvt.removeEventListener("addtexttrack",this.GK),this.jvt.removeEventListener("addtexttrackid3cues",this.Tdt),this.jvt.removeEventListener("addtexttrackcues",this.Edt)},i.Uy=function(){},i.Hy=function(){},Ar(n,[{key:"vy",get:function(){return this.$m}},{key:"Xy",get:function(){return this.Ntt.qN()}},{key:"zy",get:function(){return this.ddt?this.ddt:null},set:function(t){this.Evt.pJ("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.ddt=t}},{key:"Tm",get:function(){return this.vP},set:function(t){this.setCurrentTime(t)}},{key:"Sm",get:function(){return this.nc}},{key:"Em",get:function(){return this.yq}},{key:"Ao",get:function(){return this.JC}},{key:"Im",get:function(){return this.$C}},{key:"_y",get:function(){}},{key:"Wy",get:function(){return this.yN.Wy}},{key:"qy",get:function(){return this.Wvt}},{key:"Rm",get:function(){return this.dP},set:function(t){this.dP!==t&&(this.Evt.pJ("THEOplayerSetMuted",t),this.dP=t,this.qs(new By(this.Tm,t?0:1)))}},{key:"Cm",get:function(){return this.lP}},{key:"Nm",get:function(){return this.wP},set:function(t){this.Evt.pJ("THEOplayerSetPlaybackRate",t),this.wP=t}},{key:"$y",get:function(){return this.aY.qN()}},{key:"tp",get:function(){return fE.dD},set:function(t){}},{key:"Mg",get:function(){return this.pq}},{key:"np",get:function(){return this.iq.qN()}},{key:"Dm",get:function(){return this._P}},{key:"YN",get:function(){}},{key:"wy",get:function(){return this.ey}},{key:"Pm",get:function(){return this.gdt}},{key:"Bm",get:function(){return this.mdt}},{key:"Om",get:function(){return 1},set:function(t){}},{key:"ip",get:function(){return this.nN}},{key:"ly",get:function(){return this.iy}},{key:"QN",get:function(){return this.tN}},{key:"rp",get:function(){return!1},set:function(t){}},{key:"Jy",get:function(){return!0}}]),n}(Hm),nV=function(){function t(){this.ZN=qS.IC}var n=t.prototype;return n.KN=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&!i.vr.nativeVR&&(i.vr.panoramaMode===tI.PM360||i.vr.panoramaMode===tI.PM180))return!1;if(uy(n.type))return!1;var r=n.contentProtection;if(r&&!tT(r)){if(!rT(r))return!1;if(!t.Cct(r))return!1}return!0},n.JN=function(){return!1},t.Cct=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},t}();yr(),zt();var iV=function(){function t(){this.Pdt=i.webkit}return t.prototype.pJ=function(t,n){this.Pdt.messageHandlers[t]&&this.Pdt.messageHandlers[t].postMessage(n)},t}();yr(),zt();var rV=function(t){function n(n){var i;return(i=t.call(this)||this).Bdt=function(t){var n=ff(t.detail.initData),r=t.detail.sessionId;i.qs(new Lz(n,r))},i.Odt=function(t){var n=new g(pf(t.detail.message)),r=t.detail.destinationURL;i.qs(new Mz(n,r))},i.xdt=function(t){i.qs(new Fz)},i.forwardKeyFlowDone=function(t){i.qs(new Uz)},i.Evt=n,i.jvt=new Pz,Iz().fairplayController={sdkEventBus:i.jvt},i.Ldt(),i}zr(n,t);var i=n.prototype;return i.Ldt=function(){this.jvt.addEventListener(Oz.Pvt,this.Bdt),this.jvt.addEventListener(Oz.Bvt,this.Odt),this.jvt.addEventListener(Oz.Ovt,this.xdt),this.jvt.addEventListener(Oz.xvt,this.forwardKeyFlowDone)},i.Dj=function(t,n){var i={playerId:Cz(),data:Af(n.buffer),sessionId:t};this.Evt.pJ("THEOplayerCreateKeySession",i)},i.Df=function(t,n){var i={playerId:Cz(),data:Af(n.buffer),sessionId:t};this.Evt.pJ("THEOplayerUpdateKey",i)},n}(Hm);yr(),zt();var eV=function(t){var n=this;this.Mdt=function(){n.Fdt.tJ()},this.Udt=function(){n.Fdt.$K()},this.jvt=new Pz,this.Fdt=t,this.jvt.addEventListener("showTracks",this.Mdt),this.jvt.addEventListener("hideTracks",this.Udt),Iz().texttracks={sdkEventBus:this.jvt}},uV=function(t){function n(n,i,r,e,u,s){var o;o=t.call(this,n,i,r,e,u)||this;var a=i.pN(Hy.il);return o.aJ=new bB,o.aJ.MQ(n),o.cJ=new EO(o.aJ.Vy,a.FQ,o.wy,s,a.FN),o.Hdt=new eV(o.cJ),i.zN(a),mo.document.querySelector(".vjs-tech")?mo.document.querySelector(".player-div").classList.add("theo-ios-sdk"):mo.document.querySelector(".player-div").style.background="transparent",o}zr(n,t);var i=n.prototype;return i.Ny=function(){t.prototype.Ny.call(this),this.aJ.Ny()},i.Dy=function(){t.prototype.Dy.call(this),this.aJ.Dy()},i.Ty=function(){return!0},i.getSdkBridge=function(){return new iV},i.getFairPlayControllerBridge=function(){return sV},i.Ndt=function(t){return t},i.Bh=function(){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return mo.document.querySelector(".vjs-tech")?mo.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):mo.document.querySelector(".player-div").style.background="#000000",[4,t.prototype.Bh.call(n)];case 1:return i.sent(),n.cJ.Bh(),n.aJ.Bh(),[2]}}))}))()},n}(tV);aE(new(function(t){function n(){return t.apply(this,arguments)}zr(n,t);var i=n.prototype;return i.yR=function(t,n,i,r,e,u){return new uV(t,n,i,r,e,u)},i.KN=function(n,i){if(n.type){var r=Bo();if(!(r&&r.canPlayType&&r.canPlayType(n.type)))return!1}return t.prototype.KN.call(this,n,i)},n}(nV)));var sV=new rV(new iV);yr(),zt(),yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt();var oV,aV=function(t){function n(){return t.call(this,"Xdt")}return zr(n,t),n.prototype.p_=function(){return new cV},n}(Zg),cV=function(t){function n(){return t.call(this,"statechange")}return zr(n,t),n}(Qc);yr(),zt(),function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(oV||(oV={})),yr(),zt(),yr(),zt(),kr();var fV=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).zdt=new Hm,n.Ws=function(t){n.qs(t)},n}zr(n,t);var i=n.prototype;return i.p_=function(){return function(t){var n=function(t){var n=t.Vdt.map((function(t){return t.y_}));return n.item=function(n){n|=0;var i=t.W_(n);return i&&i.y_||void 0},n}(t),i=new wC(t,n);return n.addEventListener=function(t,n){i.js(t,n)},n.removeEventListener=function(t,n){i.Ks(t,n)},n}(this)},i.js=function(t,n){this.zdt.js(t,n)},i.Qs=function(t){this.zdt.Qs(t)},i.Zs=function(){this.zdt.Zs()},i.qs=function(t){this.zdt.qs(t)},i.Ks=function(t,n){this.zdt.Ks(t,n)},i.$s=function(t){this.zdt.$s(t)},i.uo=function(t){this.zdt.uo(t)},i.oo=function(t,n){return this.zdt.oo(t,n)},n}(function(){function t(){this.Co=[],this.m_=void 0}var n=t.prototype;return n.W_=function(t){return this.Co[t]},n.sp=function(t){this.Co.push(t),this.m_&&this.m_.push(t.y_),this.Wdt(t)},n.qdt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.sp(i)}},n.Gdt=function(t,n){n>=0&&n<=this.Co.length&&(this.Co.splice(n,0,t),this.m_&&this.m_.splice(n,0,t.y_),this.Wdt(t))},n.op=function(t){return lc(this.Co,t)},n.Nf=function(t){this.jdt(this.Co.indexOf(t))},n.jdt=function(t){if(t>=0&&t<this.Co.length){var n=this.Co[t];vc(this.Co,t),this.m_&&vc(this.m_,t),this.Ydt(n)}},n.Oo=function(){var t=this.Co.slice();wc(this.Co),this.m_&&wc(this.m_);for(var n=0;n<t.length;n++){var i=t[n];this.Ydt(i)}},Ar(t,[{key:"Vdt",get:function(){return this.Co}},{key:"Q_",get:function(){return this.Co.length}},{key:"y_",get:function(){return this.m_||(this.m_=this.p_()),this.m_}}]),t}());yr(),zt();var hV=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return zr(n,t),n}(Qc),vV=function(t){function n(n){var i;return(i=t.call(this,"Zdt")||this).Qdt=n,i}return zr(n,t),n.prototype.p_=function(){return new hV(this.Qdt.y_)},n}(Zg);yr(),zt();var dV,lV=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return zr(n,t),n}(Qc),wV=function(t){function n(n){var i;return(i=t.call(this,"Kdt")||this).task=n,i}return zr(n,t),n.prototype.p_=function(){return new lV(this.task.y_)},n}(Zg),_V=function(t){function n(){return t.call(this)}zr(n,t);var i=n.prototype;return i.Wdt=function(t){this.qs(new vV(t))},i.Ydt=function(t){this.qs(new wV(t))},n}(fV);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(dV||(dV={}));var gV=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Jdt="uninitialised",e.Sh=new _V,e.$dt=i,e.tlt=r,e.nlt=n,e.Iy(),e}zr(n,t);var i=n.prototype;return i.Iy=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return[4,t.ilt()];case 1:return n.sent(),t.rlt("initialised"),[2]}}))}))()},i.ilt=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.elt()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}))()},i.elt=function(){var t=this;return ta((function(){var n,i,r,e;return ia(this,(function(u){switch(u.label){case 0:return[4,t.nlt.bht()];case 1:n=u.sent(),i=0,u.label=2;case 2:return i<n.length?(r=n[i],e=t.$dt.ult(r.id,r.sourceDescription,r.parameters,t.tlt),t.slt(e),t.Sh.sp(e),[4,e.olt]):[3,5];case 3:u.sent(),u.label=4;case 4:return i++,[3,2];case 5:return[2]}}))}))()},i.rlt=function(t){this.Jdt=t,this.qs(new aV)},i.ult=function(t,n,i){void 0===i&&(i="persistent");var r=this.$dt.clt(t,n,i);return this.flt(r,i),this.Sh.sp(r),this.slt(r),r},i.flt=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.hlt(t,n)];case 1:return e.sent(),[3,3];case 2:throw r=e.sent(),f("Unable to persist task - "+r);case 3:return[2]}}))}))()},i.hlt=function(t,n){var i=this;return ta((function(){return ia(this,(function(r){switch(r.label){case 0:return[4,i.nlt.pht({key:t.hg,id:t.hg,sourceDescription:t.cD,parameters:t.Qf},n)];case 1:return r.sent(),[2]}}))}))()},i.slt=function(t){var n=this;t.js("Xdt",(function(){t.Nd===oV.EVICTED&&n.Sh.Nf(t)}))},Ar(n,[{key:"Nd",get:function(){return this.Jdt}},{key:"vlt",get:function(){return this.Sh}}]),n}(Gc);function mV(t,n){return function(t,n){var i=t.Kp&&n.Kp,r=t.WT&&n.WT;return i||r?i&&r?t.Kp*t.WT-n.Kp*n.WT:i?t.Kp-n.Kp:r?t.WT-n.WT:(t.Kp||1)*(t.WT||1)-(n.Kp||1)*(n.WT||1):0}(t,n)||function(t,n){return t.BC-n.BC}(t,n)}yr(),zt(),yr(),zt(),kr(),Or(),yr(),zt(),yr(),zt(),yr(),zt();var yV=function(t){function n(){return t.call(this,"progress")}return zr(n,t),n}(Qc),pV=function(t){function n(){return t.call(this,"dlt")}return zr(n,t),n.prototype.p_=function(){return new yV},n}(Zg);yr(),zt(),kr();var AV=function(){function t(t,n,i){if(this.llt=t,this.ep=n,this.wlt=i,0===this.ep.size)this._lt=gE.uP();else{var r=new gE([-1/0,1/0]);this.ep.forEach((function(t){r=r.LD(t.timeRanges)})),this._lt=r}}return t.prototype.zp=function(t){return!!dm(this.ep,t.ep)&&(!!su(this.llt,t.llt)&&(!!su(this.oP,t.oP)&&(!!su(this.glt,t.glt)&&this.ylt.QD(t.ylt))))},Ar(t,[{key:"oP",get:function(){return this.wlt}},{key:"plt",get:function(){return this.llt}},{key:"glt",get:function(){return this.ylt.oP}},{key:"Alt",get:function(){var t=0,n=0;return this.ep.forEach((function(i){t+=i.timeRanges.oP,n+=i.totalQualityDurationToCache})),0===n?0:d.min(1,t/n)}},{key:"ylt",get:function(){return this._lt}}]),t}();AV.QUALITY_TIME_RANGES_NULL_OBJECT=ua(),AV.CACHE_PROGRESSION_NULL_OBJECT=new AV(0,AV.QUALITY_TIME_RANGES_NULL_OBJECT,NaN),AV.klt=AV.CACHE_PROGRESSION_NULL_OBJECT,yr(),zt(),yr(),zt(),kr();var kV,bV=function(t){function n(n,i){return t.call(this,n,i)}return zr(n,t),Ar(n,[{key:"name",get:function(){return"blt"}}]),n}(Rc);function TV(t,n,i){return SV.apply(this,arguments)}function SV(){return(SV=ta((function(t,n,i){var r,e,u,s,o;return ia(this,(function(a){switch(a.label){case 0:for(r=[],e=0,u=t.Tlt;e<u.length;e++)s=u[e],r.push(EV(s,n,i));return[4,j.all(r)];case 1:return o=a.sent(),[2,{Sm:t.Elt.Slt(),Ilt:[t.Rlt],Tlt:o}]}}))}))).apply(this,arguments)}function EV(t,n,i){return IV.apply(this,arguments)}function IV(){return(IV=ta((function(t,n,i){var r,e,u,s;return ia(this,(function(o){switch(o.label){case 0:for(r=[],e=0,u=t.Clt;e<u.length;e++)s=u[e],r.push(RV(s,n,i));return[4,j.all(r)];case 1:return[2,{Nlt:o.sent()}]}}))}))).apply(this,arguments)}function RV(t,n,i){return CV.apply(this,arguments)}function CV(){return(CV=ta((function(t,n,i){var r,e,u,s;return ia(this,(function(o){switch(o.label){case 0:for(r=[],e=0,u=t.Dlt;e<u.length;e++)NV(s=u[e])||r.push(BV(s,n,i));return[4,j.all(r)];case 1:return[2,{RT:o.sent(),$u:t.$u}]}}))}))).apply(this,arguments)}function NV(t){return t.b3.every(PV)}yr(),zt(),yr(),zt(),yr(),zt(),function(t){t[t.Zg=0]="Zg",t[t.Kg=1]="Kg"}(kV||(kV={}));var DV;function PV(t){return 1!==t.Plt&&Boolean(t.Plt)}function BV(t,n,i){return OV.apply(this,arguments)}function OV(){return(OV=ta((function(t,n,i){var r,e,u,s,o,a,c,f,h;return ia(this,(function(v){switch(v.label){case 0:for(r=[],e=0,u=t.b3;e<u.length;e++)PV(s=u[e])||r.push(LV(s,i));return[4,j.all(r)];case 1:return o=v.sent(),a=t._0[0],c=t.A3,f=c?xV(a,c):void 0,h=xL(t,n),[2,{yg:o,gg:t.Est,$u:t.$u,CN:f,Blt:h}]}}))}))).apply(this,arguments)}function xV(t,n){for(var i=[],r=function(t){return t?Fa(t,"avc")?sl:Fa(t,"hev")||Fa(t,"hvc")||Fa(t,"hvt")||Fa(t,"lhv")||Fa(t,"lhe")||Fa(t,"lht")?ol:Fa(t,"mp4")?al:Fa(t,"mpeg2")?fl:Fa(t,"mpeg")?cl:vl:vl}(t),e=0;e<n.length;e++){var u=n[e],s=u.d3.split(":").pop(),o=u.l3;i.push({mimeType:r,uuid:s,data:o})}var a=kV.Zg;return{type:a,schemeType:"cenc",schemeDatas:i}}function LV(t,n){return MV.apply(this,arguments)}function MV(){return(MV=ta((function(t,n){var i,r,e,u;return ia(this,(function(s){switch(s.label){case 0:return[4,FV(t,n)];case 1:switch(i=s.sent(),r={hg:XV(t),zE:i,BC:t.BC,ou:t.ou,WT:t.WT,$u:t.$u,Kp:t.Kp},t.$u){case Hy.ed:break;case Hy.il:r.m0=null!=(u=null==(e=t.m0)?void 0:e.$p())?u:NaN;break;case Hy.$d:r.audioSamplingRate=t.p0;break;default:0}return[2,r]}}))}))).apply(this,arguments)}function FV(t,n){return UV.apply(this,arguments)}function UV(){return(UV=ta((function(t,n){var i,r,e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:i=[],r=t.Olt,t.xlt&&i.push({Tp:0,Sm:0,Llt:t.xlt}),e=r.Mlt(),u=e,c.label=1;case 1:return u?t.Flt(u)?[4,t.Ult(u,n,(new Nc).Hs)]:[3,3]:[3,5];case 2:for(s=c.sent(),o=0;o<s.Q_;o++)i.push(HV(s.Hlt(o),t));return[3,4];case 3:i.push(HV(u,t)),c.label=4;case 4:return u=r.Xlt(u),[3,1];case 5:return a=r.zlt(),[2,{Sm:a.Sp-e.Tp,n3:i}]}}))}))).apply(this,arguments)}function HV(t,n){return{Tp:t.Tp,Sm:t.Sm,Llt:n.Vlt(t)}}function XV(t){return t.Wlt.CD+"-"+(""+t.hg)}function zV(t,n){return function(t,n){var i=sa();return t.forEach((function(t,r){var e=ua();t.forEach((function(t,i){for(var u=[],s=0;s<t.length;s++){var o=VV(t[s],r,n);u.push(o)}e.set(i,u)})),i.set(r,e)})),i}(function(t){var n=function(t){for(var n=ua(),i=0;i<t.length;i++){var r=t[i],e=n.get(r.X0);e||(e={$u:r.$u,MT:[]},n.set(r.X0,e)),e.MT.push(r)}return n}(t),i=sa();return n.forEach((function(t){for(var n=0,r=t.MT;n<r.length;n++){var e=r[n],u=i.get(t.$u);u||(u=ua(),i.set(t.$u,u));var s=u.get(e.Nw);s||(s=[],u.set(e.Nw,s)),s.push(e)}})),i}(t),n)}function VV(t,n,i){for(var r=t.X0,e={c1:t,W1:[]},u=0;u<i.length;u++){var s=i[u];YM(n,r,s)&&e.W1.push(s)}return e}function WV(t,n){return qV.apply(this,arguments)}function qV(){return(qV=ta((function(t,n){var i;return ia(this,(function(r){switch(r.label){case 0:return[4,n.qlt([t],{})];case 1:return[2,pM((i=r.sent()).Ld,{},i.Glt)]}}))}))).apply(this,arguments)}function GV(t,n){return jV.apply(this,arguments)}function jV(){return(jV=ta((function(t,n){return ia(this,(function(i){return bL(t)?[2,YV(t,n)]:[2,fW(t)]}))}))).apply(this,arguments)}function YV(t,n){return QV.apply(this,arguments)}function QV(){return(QV=ta((function(t,n){var i,r;return ia(this,(function(e){switch(e.label){case 0:return[4,tW(zV(t.MT,t.v4),n)];case 1:return i=e.sent(),[4,KV(t.v4,n)];case 2:return r=e.sent(),i.push(r),[2,{Sm:ZV(i),Ilt:[t.W0],Tlt:[{Nlt:i}]}]}}))}))).apply(this,arguments)}function ZV(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].RT;r<e.length;r++){var u,s=e[r];n=(u=d).max.apply(u,[n].concat(Nr(s.yg.map((function(t){return t.zE.Sm})))))}return n}function KV(t,n){return JV.apply(this,arguments)}function JV(){return(JV=ta((function(t,n){var i,r,e,u,s,o,a,c;return ia(this,(function(f){switch(f.label){case 0:i=[],r=0,f.label=1;case 1:return r<t.length?[4,aW((e=t[r]).W0,n)]:[3,4];case 2:(o=f.sent()).BC=e.BC,o.ou=e._0?$V(e._0):"",o.WT=null!=(a=null==(u=e.N1)?void 0:u.WT)?a:0,o.Kp=null!=(c=null==(s=e.N1)?void 0:s.Kp)?c:0,i.push(o),f.label=3;case 3:return r++,[3,1];case 4:return[2,{$u:Hy.Hd,RT:[{gg:mU,$u:Hy.Hd,yg:i}]}]}}))}))).apply(this,arguments)}function $V(t){return[t.E1,t.C1,t.j2].filter(re).join(",")}function tW(t,n){return nW.apply(this,arguments)}function nW(){return(nW=ta((function(t,n){var i,r,e,u,s,o;return ia(this,(function(a){switch(a.label){case 0:i=[],r=t.entries(),e=r.next(),a.label=1;case 1:return e.done?[3,4]:(u=ra(e.value,2),s=u[0],[4,iW(u[1],s,n)]);case 2:o=a.sent(),i.push(o),a.label=3;case 3:return e=r.next(),[3,1];case 4:return[2,i]}}))}))).apply(this,arguments)}function iW(t,n,i){return rW.apply(this,arguments)}function rW(){return(rW=ta((function(t,n,i){var r,e,u,s,o;return ia(this,(function(a){switch(a.label){case 0:r=[],e=t.entries(),u=e.next(),a.label=1;case 1:return u.done?[3,4]:(s=ra(u.value,2),[4,eW(s[1],i)]);case 2:o=a.sent(),r.push(o),a.label=3;case 3:return u=e.next(),[3,1];case 4:return[2,{$u:sW(n),RT:r}]}}))}))).apply(this,arguments)}function eW(t,n){return uW.apply(this,arguments)}function uW(){return(uW=ta((function(t,n){var i,r,e,u;return ia(this,(function(s){switch(s.label){case 0:i=[],r=t[0].c1,e=0,s.label=1;case 1:return e<t.length?[4,oW(t[e],n)]:[3,4];case 2:u=s.sent(),i.push(u),s.label=3;case 3:return e++,[3,1];case 4:return[2,{gg:r.gg||mU,$u:sW(r.$u),yg:i}]}}))}))).apply(this,arguments)}function sW(t){switch(t){case _L.$d:return Hy.$d;case _L.il:return Hy.il;case _L.Ob:case _L.E3:return Hy.ed;default:return Hy.Hd}}function oW(t,n){return aW(function(t){var n=t.c1.W0,i=t.W1.map((function(t){return t.W0}));return n||(i.length?i[0]:void 0)}(t),n)}function aW(t,n){return cW.apply(this,arguments)}function cW(){return(cW=ta((function(t,n){var i,r;return ia(this,(function(e){switch(e.label){case 0:return i={Sm:0,n3:[]},t?[4,WV(t,n)]:[3,2];case 1:TL(r=e.sent())&&(i=hW(r)),e.label=2;case 2:return[2,{hg:t||"default",jlt:t,zE:i,BC:0,ou:"",WT:0,$u:Hy.Hd,Kp:0}]}}))}))).apply(this,arguments)}function fW(t){var n=hW(t);return{Sm:n.Sm,Ilt:[t.W0],Tlt:[{Nlt:[{$u:Hy.Hd,RT:[{$u:Hy.Hd,gg:mU,yg:[{hg:t.W0,zE:n,BC:0,ou:"",WT:0,$u:Hy.Hd,Kp:0}]}]}]}]}}function hW(t){for(var n,i=[],r=0,e=0,u=t.n3;e<u.length;e++){var s=u[e],o=r;!s._4||void 0!==n&&IL(s._4.W0,n)||(i.push(vW(s._4,o)),n=s._4.W0),i.push(dW(s,o)),r+=s.Sm}return{Sm:r,n3:i}}function vW(t,n){return{Tp:n,Sm:0,Llt:lW(t.W0)}}function dW(t,n){return{Tp:n,Sm:t.Sm,Llt:lW(t.W0)}}function lW(t){return{Md:t.Bw,Hot:t.i3?[t.i3.CD,t.i3.CD+t.i3.Q_]:void 0,vl:!1}}yr(),zt(),Or(),yr(),zt(),yr(),zt(),kr(),yr(),zt(),function(t){t.yI="static",t.pI="dynamic"}(DV||(DV={})),yr(),zt(),yr(),zt(),kr();var wW,_W=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,gW=function(){function t(t){this.Ylt=t}var n=t.prototype;return n.Slt=function(){return this.Ylt},n.Qlt=function(){return 1e3*this.Ylt},t.dT=function(n){var i=n.match(_W);if(!i)throw new f("The given value could not be parsed as a valid DateTimeInterval");return new t(31536e3*(Number(i[1])||0)+2592e3*(Number(i[2])||0)+86400*(Number(i[3])||0)+3600*(Number(i[4])||0)+60*(Number(i[5])||0)+(Number(i[6])||0))},Ar(t,[{key:"Eit",get:function(){return wA.gk(this.Ylt,1e3)}}]),t}();yr(),zt(),function(t){t.Zlt="progressive",t.Klt="interlaced",t.Hd="unknown"}(wW||(wW={})),yr(),zt();var mW=function(){function t(t,n){this.Jlt=t,this.$lt=n}return t.prototype.$p=function(){return this.Jlt/this.$lt},t}(),yW=/^(?:true|false)$/i,pW=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function AW(t){if(void 0!==t)return gW.dT(t)}function kW(t){if(void 0!==t){var n=t.match(pW);if(!n)throw new f("The given value could not be parsed as a valid Date");var i=ra(n,12),r=i[1],e=i[2],u=i[3],s=i[4],o=i[5],a=i[6],c=i[7],h=i[8],v=i[9],l=i[10],w=i[11],g=("-"===r?-1:1)*Number(e),m=Number(u)-1,y=Number(s),p=Number(o),A=Number(a),k=Number(c),b=Number("0."+(h||"")),T=d.round(1e3*b);if(v)A-=("-"===v?-1:1)*(60*Number(l)+Number(w));var S=new Date(Date.UTC(g,m,y,p,A,k,T));if(_(S.getTime()))throw new f("The given value could not be parsed as a valid Date");return S}}function bW(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[SW(n[1]),SW(n[2])]}}function TW(t){if(void 0!==t){if(!_(Number(t)))try{return $e.fromString(t,!0)}catch(t){}throw new f("The given value could not be parsed as a valid unsigned long")}}function SW(t){if(void 0!==t){var n=Number(t);if(!_(n))return n;throw new f("The given value could not be parsed as a valid Number")}}function EW(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!_(i)&&!_(r))return new mW(i,r);throw new f("The given value could not be parsed as a valid frame rate")}}function IW(t){if(void 0!==t){if(yW.test(t))return"true"===t.toLowerCase();if(!_(l(t)))return Boolean(l(t));throw new f("The given value could not be parsed as a valid Boolean.")}}function RW(t){return{Md:t.Zw,twt:IW(t.Vw("availabilityTimeComplete")),nwt:SW(t.Vw("availabilityTimeOffset"))}}function CW(t){return t.map(RW)}function NW(t){var n,i=HW(t),r=function(t,n,i,r){var e=t.Ww(i,n);return void 0===e&&(e=t.Vw(r+":"+n)),e}(t,"default_KID","urn:mpeg:cenc:2013","cenc"),e=bk(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==e&&(n=pf(e.Zw)),!n){var u=bk(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==u&&(n=function(t){var n=ff(t.Zw),i=new g([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,u=new ArrayBuffer(e),s=new g(u),o=new DataView(u),a=new ph;Wf(o,a,e),Wf(o,a,1886614376),Wf(o,a,0),Ff(o,a,i),Wf(o,a,r),Ff(o,a,n),!1;return s.buffer}(u))}return{XI:r,l3:n,d3:i.d3,Bw:i.Bw}}function DW(t){return{iwt:t.Vw("sourceURL"),Hot:bW(t.Vw("range"))}}function PW(t,n){var i=t.Vw("d"),r=t.Vw("t"),e=SW(t.Vw("r"));n.push({Sm:i,Tp:r,rwt:e})}function BW(t){return{ewt:t.Vw("index"),uwt:bW(t.Vw("indexRange")),MT:t.Vw("media"),swt:bW(t.Vw("mediaRange"))}}function OW(t){return na({},LW(t),{owt:function(t){var n=t.map(BW);return n.length>0?n:void 0}(t.Lw("SegmentURL")),awt:t.Vw("xlink:href"),cwt:t.Vw("xlink:actuate")})}function xW(t){var n=IW(t.Vw("availabilityTimeComplete")),i=SW(t.Vw("availabilityTimeOffset")),r=bW(t.Vw("indexRange")),e=IW(t.Vw("indexRangeExact")),u=t.Lw("Initialization");if(u.length>1)throw new f("The provided MPEG-DASH document's "+t.Fw+" element can not have more than one Initialization element.");var s=1===u.length?DW(u[0]):void 0,o=TW(t.Vw("presentationTimeOffset")),a=t.Lw("RepresentationIndex");if(a.length>1)throw new f("The provided MPEG-DASH document's "+t.Fw+" element can not have more than one RepresentationIndex element.");return{twt:n,nwt:i,uwt:r,fwt:e,hwt:s,vwt:o,dwt:1===a.length?DW(a[0]):void 0,lwt:AW(t.Vw("timeShiftBufferDepth")),qA:SW(t.Vw("timescale"))}}function LW(t){var n=xW(t),i=t.Lw("BitstreamSwitching"),r=i.length>0?DW(i[0]):void 0,e=SW(t.Vw("duration")),u=t.Lw("SegmentTimeline");if(u.length>1)throw new f("The provided MPEG-DASH document's "+t.Fw+" element can not have more than one SegmentTimeline element.");var s=1===u.length?function(t){for(var n=[],i=t.Lw("S"),r=0;r<i.length;r++)PW(i[r],n);return n}(u[0]):void 0;return na({},n,{wwt:r,Sm:e,Olt:s,_wt:SW(t.Vw("startNumber")),gwt:SW(t.Vw("endNumber"))})}function MW(t){return{p0:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(SW)):1===n.length?n.map(SW)[0]:void 0}}(t.Vw("audioSamplingRate")),_0:t.Vw("codecs"),mwt:IW(t.Vw("codingDependency")),A3:function(t){if(0!==t.length)return t.map(NW)}(t.Lw("ContentProtection")),ywt:function(t){return t.map(XW)}(t.Lw("EssentialProperty")),m0:EW(t.Vw("frameRate")),WT:SW(t.Vw("height")),Plt:SW(t.Vw("maxPlayoutRate")),pwt:SW(t.Vw("maximumSAPPeriod")),jO:t.Vw("mimeType"),Awt:t.Vw("profiles"),kwt:t.Vw("sar"),bwt:function(t){switch(t){case wW.Zlt:case wW.Klt:case wW.Hd:return t;default:return}}(t.Vw("scanType")),Twt:t.Vw("segmentProfiles"),Swt:SW(t.Vw("startWithSAP")),Kp:SW(t.Vw("width"))}}function FW(t){var n=CW(t.Lw("BaseURL")),i=t.Lw("SegmentBase");if(i.length>1)throw new f("The provided MPEG-DASH document's "+t.Cw+" element can not have more than one SegmentBase element.");var r=1===i.length?xW(i[0]):void 0,e=function(t){var n=t.map(OW);return n.length>0?n:void 0}(t.Lw("SegmentList")),u=t.Lw("SegmentTemplate");if(u.length>1)throw new f("The provided MPEG-DASH document's "+t.Cw+" element can not have more than one SegmentTemplate element.");return{Ewt:n,Iwt:r,Rwt:e,Cwt:1===u.length?function(t){return na({},LW(t),{Nwt:t.Vw("bitstreamSwitching"),Dwt:t.Vw("index"),Pwt:t.Vw("initialization"),Bwt:t.Vw("media")})}(u[0]):void 0}}function UW(t){var n=MW(t),i=FW(t),r=SW(t.Vw("bandwidth")),e=t.Vw("dependencyId"),u=t.Vw("id"),s=t.Vw("mediaStreamStructureId"),o=SW(t.Vw("qualityRanking"));if(t.Lw("SegmentBase").length>1)throw new f("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");return na({},n,i,{BC:r,Owt:e,hg:u,xwt:s,Lwt:o})}function HW(t){return{d3:t.Vw("schemeIdUri"),Bw:t.Vw("value")}}function XW(t){return HW(t)}function zW(t){return HW(t)}function VW(t){return HW(t)}function WW(t){var n,i=MW(t),r=FW(t),e=function(t){return t.map(VW)}(t.Lw("Accessibility")),u=IW(t.Vw("bitstreamSwitching")),s=t.Vw("contentType"),o=SW(t.Vw("group")),a=SW(t.Vw("id")),c=(null==(n=t.Lw("Label")[0])?void 0:n.Zw)||"",h=t.Vw("lang"),v=SW(t.Vw("maxBandwidth")),d=EW(t.Vw("maxFrameRate")),l=SW(t.Vw("maxHeight")),w=SW(t.Vw("maxWidth")),_=SW(t.Vw("minBandwidth")),g=EW(t.Vw("minFrameRate")),m=SW(t.Vw("minHeight")),y=SW(t.Vw("minWidth")),p=t.Vw("par"),A=function(t){return t.map(UW)}(t.Lw("Representation"));if(0===A.length)throw new f("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k,b=function(t){return t.map(zW)}(t.Lw("Role")),T=IW(t.Vw("segmentAlignment"))||!1,S=SW(t.Vw("selectionPriority")),E=S||1,I=IW(t.Vw("subsegmentAlignment"))||!1;try{k=SW(t.Vw("subsegmentStartsWithSAP"))}catch(t){}return na({},i,r,{Mwt:e,wwt:u,md:s,Fwt:o,hg:a,wg:c,gg:h,Uwt:v,Hwt:d,Xwt:l,zwt:w,Vwt:_,Wwt:g,qwt:m,Gwt:y,jwt:p,b3:A,Ywt:b,Qwt:T,ZN:E,Zwt:I,Kwt:k,Jwt:t.Vw("xlink:actuate")||"onRequest",$wt:t.Vw("xlink:href")})}function qW(t){var n=TW(t.Vw("presentationTime"))||$e.ZERO,i=TW(t.Vw("duration")),r=SW(t.Vw("id")),e=function(t){for(var n=t.Qw,i={},r=0;r<n.length;r++)i[n[r].Nw]=n[r].Bw;return i}(t),u=t.Zw;return{TE:n,Sm:i,hg:r,Qw:e,Ud:""!==u.trim()?u:t.Vw("messageData")||""}}function GW(t){return{$wt:t.Vw("xlink:href"),Jwt:t.Vw("xlink:actuate"),d3:t.Vw("schemeIdUri"),Bw:t.Vw("value"),qA:SW(t.Vw("timescale")),vwt:TW(t.Vw("presentationTimeOffset")),YO:t.Lw("Event").map(qW)}}function jW(t){var n=FW(t),i=t.Lw("AssetIdentifier");if(i.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?function(t){return HW(t)}(i[0]):void 0,e=function(t){return t.map(WW)}(t.Lw("AdaptationSet")),u=IW(t.Vw("bitstreamSwitching")),s=AW(t.Vw("duration")),o=function(t){return t.map(GW)}(t.Lw("EventStream")),a=t.Vw("id"),c=AW(t.Vw("start")),h=(t.Lw("Subset"),t.Vw("xlink:href"));return na({},n,{Dlt:e,t_t:r,wwt:u,Sm:s,n_t:o,hg:a,CD:c,Jwt:t.Vw("xlink:actuate"),$wt:h})}function YW(t){var n=t.Vw("schemeIdUri");if(n)return{d3:n,Bw:t.Vw("value")}}function QW(t,n){var i=kW(t.Vw("availabilityEndTime")),r=kW(t.Vw("availabilityStartTime")),e=CW(t.Lw("BaseURL")),u=t.Vw("id"),s=function(t){return t.map((function(t){return""+t.Zw}))}(t.Lw("Location")),o=AW(t.Vw("maxSegmentDuration")),a=AW(t.Vw("maxSubsegmentDuration")),c=AW(t.Vw("mediaPresentationDuration")),h=(t.Lw("Metrics"),AW(t.Vw("minBufferTime")));if(!h)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var v=AW(t.Vw("minimumUpdatePeriod")),d=function(t){return t.map((function(t){return jW(t)}))}(t.Lw("Period"));if(!d.length)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.Vw("profiles");if(!l)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");var w=kW(t.Vw("publishTime")),_=AW(t.Vw("suggestedPresentationDelay")),g=AW(t.Vw("timeShiftBufferDepth")),m=function(t){switch(t){case DV.yI:case DV.pI:return t;default:return}}(t.Vw("type")),y=function(t){for(var n=[],i=0;i<t.length;i++){var r=YW(t[i]);r&&n.push(r)}return n}(t.Lw("UTCTiming"));return{i_t:i,r_t:r,Ewt:e,hg:u,e_t:s,u_t:n,s_t:o,o_t:a,Elt:c,a_t:h,c_t:v,Tlt:d,Awt:l,f_t:w,h_t:_,lwt:g,$u:m,v_t:y}}var ZW=function(){function t(){}return t.prototype.lvt=function(t,n){return function(t,n){if(!t)throw new f("The provided MPEG-DASH document does not contain a valid MPD root element.");return QW(t,n)}(Pr.Sw(t).Kw,n)},t}();yr(),zt(),kr(),yr(),zt(),kr(),Or(),yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),kr();var KW=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).hg=n,s.BC=i,s._0=r,s.W0=u,s.vg=Tp(),s.hp=e||"",s.d_t=!0,s}return zr(n,t),n.prototype.oI=function(){this.d_t=!1,this.qs(new Mx(this.y_))},Ar(n,[{key:"wg",get:function(){return this.hp},set:function(t){this.hp!==t&&(this.hp=t,this.qs(new Mx(this.y_)))}},{key:"g0",get:function(){}},{key:"h$",get:function(){return this.d_t}}]),n}(Gc),JW=function(t){function n(n,i,r,e,u,s,o,a,c){var f;return void 0===c&&(c=0),(f=t.call(this,n,i,r,e,u)||this).m0=s,f.Kp=o,f.WT=a,f.y0=c,f.m_=void 0,f}return zr(n,t),Ar(n,[{key:"y_",get:function(){return this.m_||(this.m_=Ax(this)),this.m_}}]),n}(KW),$W=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).p0=s,o.m_=void 0,o}return zr(n,t),Ar(n,[{key:"y_",get:function(){return this.m_||(this.m_=kx(this)),this.m_}}]),n}(KW);yr(),zt(),yr(),zt(),kr();var tq,nq=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).l_t=function(t){n.qs(t)},n}return zr(n,t),Ar(n,[{key:"w_t",get:function(){var t=this.__t();return null==t?void 0:t.CD}},{key:"g_t",get:function(){var t=this.__t();return null==t?void 0:t.ND}}]),n}(Gc);function iq(t){return de(t.m_t)}yr(),zt(),yr(),zt(),function(t){t.y_t="p_t",t.A_t="k_t"}(tq||(tq={}));var rq=function(t){function n(n,i){var r;if((r=t.call(this)||this).m_=void 0,r.b_t=void 0,r.T_t=!1,r.S_t=n,r.f8=i,r.f8.js(tq.y_t,r.l_t),r.$u===Hy.il){var e,u,s=null!=(u=null==(e=r.m0)?void 0:e.$p())?u:NaN;r.E_t=new JW(r.hg,r.BC,r.ou,"","",s,r.Kp,r.WT)}else r.$u===Hy.$d?r.E_t=new $W(r.hg,r.BC,r.ou,"","",r.p0):r.E_t=void 0;return r}zr(n,t);var i=n.prototype;return i.Vlt=function(t){var n=iq(t)?this.f8.I_t(t):this.f8.Vlt(t);return{Md:n.Md,Hot:n.Hot,vl:this.R_t.vl}},i.C_t=function(){return this.f8.C_t()},i.__t=function(){return this.f8.__t()},i.N_t=function(){return this.f8.N_t()},i.Flt=function(t){return this.f8.Flt(t)},i.Ult=function(t,n,i){return this.f8.Ult(t,this.R_t.vl,n,i)},i.D_t=function(t){return iq(t)?this.Olt.P_t(t,this.f8):this.Olt.D_t(t)},i.B_t=function(t){return iq(t)?this.Olt.O_t(t,this.f8):this.Olt.B_t(t)},i.Bh=function(){this.f8.Ks(tq.y_t,this.l_t)},Ar(n,[{key:"x_t",get:function(){return this.S_t}},{key:"p0",get:function(){var t;return null!=(t=this.f8.Ud.p0)?t:this.x_t.p0}},{key:"BC",get:function(){return this.f8.Ud.BC||0}},{key:"_0",get:function(){var t=this.f8.Ud;return t._0?[t._0]:this.x_t._0}},{key:"L_t",get:function(){var t=this.f8.Ud;return t._0?[t._0]:[]}},{key:"ou",get:function(){return this.f8.Ud._0||this.x_t.ou}},{key:"mwt",get:function(){return this.f8.Ud.mwt||this.x_t.mwt}},{key:"A3",get:function(){return this.f8.Ud.A3||this.x_t.A3}},{key:"md",get:function(){return this.jO+'; codecs="'+this.ou+'"'}},{key:"ywt",get:function(){var t=this.f8.Ud;return t.ywt.length?t.ywt:this.x_t.ywt}},{key:"y_",get:function(){return this.m_||(this.m_=function(t){return{get id(){return t.hg},get type(){return t.$u},get bandwidth(){return t.BC},get width(){return t.Kp},get height(){return t.WT},get frameRate(){var n,i;return null!=(i=null==(n=t.m0)?void 0:n.$p())?i:NaN},get audioSamplingRate(){return t.p0}}}(this))}},{key:"m0",get:function(){var t;return null!=(t=this.f8.Ud.m0)?t:this.x_t.m0}},{key:"WT",get:function(){return this.f8.Ud.WT||this.x_t.WT}},{key:"hg",get:function(){return this.f8.Ud.hg||""}},{key:"M_t",get:function(){return this.b_t},set:function(t){this.b_t=t}},{key:"xlt",get:function(){var t=this.f8.F_t();if(t)return{Md:t.Md,Hot:t.Hot,vl:this.R_t.vl}}},{key:"Plt",get:function(){return this.f8.Ud.Plt||this.x_t.Plt||1}},{key:"pwt",get:function(){return this.f8.Ud.pwt||this.x_t.pwt}},{key:"R_t",get:function(){return this.Wlt.R_t}},{key:"jO",get:function(){return this.f8.Ud.jO||this.x_t.jO}},{key:"Wlt",get:function(){return this.x_t.Wlt}},{key:"Awt",get:function(){return this.f8.Ud.Awt||this.x_t.Awt}},{key:"J0",get:function(){return this.E_t}},{key:"kwt",get:function(){return this.f8.Ud.kwt||this.x_t.kwt}},{key:"bwt",get:function(){return this.f8.Ud.bwt||this.x_t.bwt}},{key:"U_t",get:function(){return this.f8.U_t}},{key:"Twt",get:function(){return this.f8.Ud.Twt||this.x_t.Twt}},{key:"Olt",get:function(){return this.f8.Olt}},{key:"Swt",get:function(){return this.f8.Ud.Swt||this.x_t.Swt}},{key:"$u",get:function(){var t=this.jO.split("/")[0];return"application"===t||"text"===t||$k(this.jO,this._0)?Hy.ed:"video"===t?Hy.il:"audio"===t?Hy.$d:"image"===t?Hy.ul:Hy.Hd}},{key:"Kp",get:function(){return this.f8.Ud.Kp||this.x_t.Kp}},{key:"H_t",get:function(){return this.T_t},set:function(t){this.T_t=t}}]),n}(nq),eq=function(t){function n(n,i){var r;return(r=t.call(this)||this).X_t=[],r.z_t=[],r.V_t=n,r.f8=i,r.f8.js(tq.y_t,r.l_t),r}zr(n,t);var i=n.prototype;return i.Df=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return 0!==i.z_t.length?[3,2]:(i.z_t=[],r=i.f8.b3.map((function(r){return i.W_t(r,t,n)})),[4,j.all(r)]);case 1:i.z_t=e.sent().filter(re),e.label=2;case 2:return i.q_t(),[2]}}))}))()},i.W_t=function(t,n,i){var r=this;return ta((function(){var e,u;return ia(this,(function(s){switch(s.label){case 0:return e=new rq(r,t),[4,n(e)];case 1:return u=s.sent(),Bc(i),u?[2,e]:[2,void 0]}}))}))()},i.q_t=function(){if(!this.z_t.length)throw new f("Detected an AdaptationSet without any supported Representations.")},i.__t=function(){return this.f8.__t()},i.N_t=function(){return this.f8.N_t()},i.Bh=function(){this.f8.Ks(tq.y_t,this.l_t);for(var t=0,n=this.z_t;t<n.length;t++){n[t].Bh()}wc(this.z_t)},Ar(n,[{key:"Mwt",get:function(){return this.f8.Ud.Mwt}},{key:"p0",get:function(){var t;return null!=(t=this.f8.Ud.p0)?t:-1}},{key:"_0",get:function(){if(this.f8.Ud._0)return[this.f8.Ud._0];for(var t=[],n=0,i=this.b3;n<i.length;n++){var r=i[n];r.L_t.length&&-1===t.indexOf(r.ou)&&t.push(r.ou)}return t}},{key:"ou",get:function(){return this._0.join()}},{key:"mwt",get:function(){return this.f8.Ud.mwt}},{key:"A3",get:function(){return this.f8.Ud.A3}},{key:"md",get:function(){return this.jO+'; codecs="'+this.ou+'"'}},{key:"ywt",get:function(){return this.X_t}},{key:"m0",get:function(){return this.f8.Ud.m0}},{key:"Fwt",get:function(){return this.f8.Ud.Fwt}},{key:"WT",get:function(){return this.f8.Ud.WT||0}},{key:"hg",get:function(){return this.f8.Ud.hg}},{key:"wg",get:function(){return this.f8.Ud.wg||""}},{key:"Plt",get:function(){return this.f8.Ud.Plt}},{key:"pwt",get:function(){return this.f8.Ud.pwt}},{key:"R_t",get:function(){return this.Wlt.R_t}},{key:"jO",get:function(){return this.f8.Ud.jO||this.z_t[0].jO}},{key:"Wlt",get:function(){return this.V_t}},{key:"Awt",get:function(){return this.f8.Ud.Awt}},{key:"b3",get:function(){return this.z_t}},{key:"Ywt",get:function(){return this.f8.Ud.Ywt||[]}},{key:"kwt",get:function(){return this.f8.Ud.kwt}},{key:"bwt",get:function(){return this.f8.Ud.bwt}},{key:"Twt",get:function(){return this.f8.Ud.Twt}},{key:"ZN",get:function(){return this.f8.Ud.ZN}},{key:"Swt",get:function(){return this.f8.Ud.Swt}},{key:"$u",get:function(){var t=(this.f8.Ud.md||this.jO).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||$k(this.jO,this._0)?Hy.ed:"video"===t?Hy.il:"audio"===t?Hy.$d:"image"===t?Hy.ul:Hy.Hd}},{key:"Kp",get:function(){return this.f8.Ud.Kp||0}},{key:"Est",get:function(){return this.f8.Ud.gg||""}},{key:"G_t",get:function(){return this.w_t}},{key:"j_t",get:function(){var t=this.G_t,n=this.g_t;if(void 0!==t&&void 0!==n){var i=d.min(n,this.R_t.Y_t);return d.max(t,i)}}}]),n}(nq);function uq(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=n[r],u=0;u<t.length;u++){var s=t[u];i.push(Pr.Nu(s,e))}return i}yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),yr(),zt(),kr();var sq=function(){function t(t,n){this.V_t=t,this.Q_t=n,this.tc=n.qA,this.Z_t=n.nwt,this.K_t=n.vwt}var n=t.prototype;return n.J_t=function(t){var n=t-this.V_t.CD;if(!(n<0||n>=this.V_t.Sm)){var i=this.$_t();return void 0!==i&&eu(i,n,1e-5)?this.Mlt():this.tgt(n)}},n.ngt=function(t){var n=t-this.V_t.CD;if(!(n<0))return this.igt(d.min(n,this.V_t.Sm))},n.Mlt=function(){return this.rgt(0)},n.zlt=function(){var t=this.V_t.Sm;if(isFinite(t))return this.igt(t)},n.C_t=function(t){if(this.V_t.egt.$u===DV.pI){if(this.ugt){var n=this.Mlt(),i=this.sgt();if(void 0===n||void 0===i)return;return{ogt:t,agt:n,cgt:i}}var r=this.fgt(t);if(!r)return;return{ogt:t,agt:this.hgt(t),cgt:r}}var e=this.Mlt();if(e)return{ogt:t,agt:e,cgt:this.zlt()}},n.N_t=function(t,n){if(n){var i=this.vgt(n.agt),r=this.Xlt(n.cgt);if(r){var e=this.dgt(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var u=this.Mlt();if(u){var s=this.dgt(u);if(t.getTime()<s.getTime())return s}var o=this.V_t.egt.r_t;return t.getTime()<o.getTime()?o:void 0},n.fgt=function(t){var n=(t.getTime()-this.V_t.egt.r_t.getTime())/1e3-this.V_t.CD+this.Z_t,i=this.igt(ru(n,0,this.V_t.Sm));if(i&&(i=this.lgt(i,t))){for(var r=this.Xlt(i);r&&this.wgt(r,t);)i=r,r=this.Xlt(i);return i}},n.hgt=function(t){var n,i=this.Q_t.lwt;if(i){var r=(t.getTime()-this.V_t.egt.r_t.getTime())/1e3-this.V_t.CD-i.Slt();(n=this.igt(ru(r,0,this.V_t.Sm)))||(n=this.Mlt())}else n=this.Mlt();if(n&&(n=this.lgt(n,t))){for(var e=this.Z8(n);e&&this.wgt(e,t);)n=e,e=this.Z8(n);return n}},n.lgt=function(t,n){for(var i=t;i&&this.dgt(i).getTime()>n.getTime();)i=this.Z8(i);if(i){var r=this.vgt(i);if(r&&r.getTime()<=n.getTime()){var e=this.Z8(i);for(e&&this.wgt(e,n)&&(i=e);i;){if(this.dgt(i).getTime()>n.getTime())return;if(this.wgt(i,n))break;i=this.Xlt(i)}if(!i)return}return i}},n.wgt=function(t,n){if(this.ugt)return!0;if(this.dgt(t).getTime()>n.getTime())return!1;var i=this.vgt(t);return!(i&&n.getTime()>=i.getTime())},n._gt=function(t,n){if(this.ugt)return!0;if(this.ggt(t).getTime()>n.getTime())return!1;var i=this.vgt(t);return!(i&&n.getTime()>=i.getTime())},n.mgt=function(t,n,i){var r=lu(n,this.tc)+this.V_t.CD;return{ewt:t,ygt:n,Tp:r,Sm:i,Sp:r+i}},n.ggt=function(t){return this.V_t.egt.$u===DV.pI?new Date(this.V_t.egt.r_t.getTime()+1e3*(t.Tp+t.Sm)):this.V_t.egt.r_t},n.dgt=function(t){var n=this.ggt(t);return this.V_t.egt.$u===DV.pI?new Date(n.getTime()-1e3*this.Z_t):n},n.vgt=function(t){var n=1/0;if(this.V_t.egt.$u===DV.pI){var i=this.Q_t.lwt;i&&(n=this.ggt(t).getTime()+1e3*t.Sm+i.Qlt())}var r=this.V_t.egt.i_t;return r&&(n=d.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.pgt=function(t,n){return t.ewt+n},n.Flt=function(t){return!1},n.Ult=function(t,n,i,r,e){var u=this.Agt(t);if(!u)return j.reject(new f("Invalid segment"));var s=this.kgt(u.ewt,n);return s?j.resolve(s):Lc(this.bgt(u.ewt,n,i,r),e)},n.kgt=function(t,n){},n.bgt=function(t,n,i,r){return j.reject(new f("Not supported"))},n.Z8=function(t){var n=this.Agt(t);if(n)return this.rgt(n.ewt-1)},n.Xlt=function(t){var n=this.Agt(t);if(n)return this.rgt(n.ewt+1)},n.Agt=function(t){var n=this.rgt(t.ewt);if(n&&n.Tp===t.Tp)return n;var i=this.J_t(t.Tp);return i&&i.Tp===t.Tp?i:void 0},n.Tgt=function(t,n){var i=this.Sgt(t);if(i&&this.Flt(i.ewt)){var r=this.kgt(i.ewt,n);if(r)return r.Tgt(t)}},n.Sgt=function(t){return this.rgt(t.Egt)},n.D_t=function(t){var n=this.Agt(t);return!!n&&0===n.ewt},n.P_t=function(t,n){var i=this.Tgt(t,n);return!!i&&0===i.m_t},n.B_t=function(t){var n=this.Agt(t);if(!n)return!1;var i=this.zlt();return!!i&&n.ewt===i.ewt},n.O_t=function(t,n){var i=this.Tgt(t,n);if(!i)return!1;var r=this.zlt();if(!r||i.Egt!==r.ewt)return!1;var e=this.kgt(i.Egt,n);return i.m_t+1===e.Q_},n.Ds=function(){},Ar(t,[{key:"ugt",get:function(){return this.V_t.egt.Igt&&void 0!==this.sgt()}},{key:"Nk",get:function(){return this.V_t.CD-lu(this.K_t,this.tc)}},{key:"vwt",get:function(){return lu(this.K_t,this.tc)}}]),t}(),oq=function(t){function n(n,i){var r;r=t.call(this,i,n)||this;var e=n.Rgt,u=n.Sm;if(void 0===e||void 0===u)throw new f("MultipleSegmentBase does not have a segment duration specified.");return r.Cgt=e,r.Ngt=u,r}zr(n,t);var i=n.prototype;return i.rgt=function(t){if(!(t<0)){var n=this.Cgt.multiply(t),i=lu(n,this.tc),r=this.V_t.Sm;if(!(i>=r)){var e=this.Dgt();if(void 0!==e){if(t>e)return;if(t===e&&isFinite(r))return this.mgt(t,n,r-i)}return isFinite(r)&&i+this.Ngt>r?this.mgt(t,n,r-i):this.mgt(t,n,this.Ngt)}}},i.$_t=function(){return 0},i.tgt=function(t){var n=d.floor(t/this.Ngt),i=this.Dgt();return void 0!==i&&n>=i?this.rgt(i):this.rgt(n)},i.igt=function(t){if(t>=this.V_t.Sm){var n=d.ceil(this.V_t.Sm/this.Ngt)-1,i=this.Dgt();return void 0!==i&&n>=i?this.rgt(i):this.rgt(n)}return this.tgt(t)},i.Dgt=function(){var t,n=this.Q_t.gwt;if(void 0!==n)return n-(null!=(t=this.Q_t._wt)?t:1);var i=this.Q_t.Pgt;return void 0!==i&&i>0?i-1:void 0},i.sgt=function(){if(isFinite(this.V_t.Sm))return this.zlt()},i.Bgt=function(t,n){return this.Cgt.multiply(t.ewt+(n-1))},i.Df=function(){},n}(sq);function aq(t,n){return BM(cq.$r,t,n)}yr(),zt(),yr(),zt(),kr();var cq=function(){function t(){}var n=t.prototype;return n.S5=function(t){return t.Tp},n.E5=function(t){return t.Sp},n.I5=function(t,n){return t.compare(n)},n.R5=function(t,n,i){return t.subtract(n).toNumber()/i.subtract(n).toNumber()},Ar(t,null,[{key:"$r",get:function(){return null!=this.g6||(this.g6=new t),this.g6}}]),t}(),fq=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).L5=[],r.Ogt=void 0,r.Ast=$e.ZERO,r.Df(),r}zr(n,t);var i=n.prototype;return i.rgt=function(t){if(!(t<0))return t<this.L5.length?this.L5[t].j8:this.xgt(t-this.L5.length)},i.$_t=function(){if(this.L5.length>0)return lu(this.L5[0].Tp,this.tc)},i.tgt=function(t){if(this.Ogt&&lu(this.Ogt.Tp,this.tc)<=t){var n=lu(this.Ogt.Tp,this.tc),i=lu(this.Ogt.Sm,this.tc),r=d.floor((t-n)/i);return this.xgt(r)}if(this.L5.length>0&&eu(t,lu(this.L5[0].Tp,this.tc),1e-5))return this.L5[0].j8;var e=aq(this.L5,$e.fromNumber(t*this.tc));return e<0?void 0:this.L5[e].j8},i.igt=function(t){if(!this.Ogt&&this.L5.length>0){var n=this.L5[this.L5.length-1];if(function(t,n,i){return sc(t,n,i)>=0}(t,lu(n.Sp,this.tc),1e-5))return n.j8}var i=this.$_t();return i&&t<i?this.L5[0].j8:this.tgt(t)},i.sgt=function(){return isFinite(this.V_t.Sm)?this.zlt():this.rgt(this.L5.length-1)},i.Bgt=function(t){return this.Lgt(t)},i.xgt=function(t){if(this.Ogt){var n=this.Ogt.Tp,i=this.Ogt.Sm,r=n.add(i.multiply(t)),e=lu(r,this.tc),u=this.V_t.Sm;if(!(e>=u)){var s=this.L5.length+t,o=d.min(lu(i,this.tc),e+u);return this.mgt(s,r,o)}}},i.Lgt=function(t){return t.ygt.add(this.K_t)},i.Df=function(){var t=this.Q_t.Ud.Olt;if(!t)throw new f("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.J5(t)},i.J5=function(t){var n=this.K_t;this.Mgt(t,n);var i=this.Fgt(t);this.Ugt(t,n,i.Hgt,i.Egt)},i.Mgt=function(t,n){var i=this.L5;if(0===t.length)wc(i);else{for(var r=t[0],e=r.Tp?$e.fromString(r.Tp,!1).subtract(n):$e.ZERO,u=0;u<i.length&&i[u].Tp.lessThan(e);)u++;u>0&&i.splice(0,u)}},i.Fgt=function(t){for(var n=this.L5,i=this.Ast,r=0,e=0;r<t.length&&e<n.length;){var u=t[r].rwt||0;if(u<0)break;var s=e+u;if(s>=n.length)break;if(n[s].Tp.greaterThanOrEqual(i))break;if(n[e].j8.ewt===e)e=s+1;else for(;e<=s;)n[e].j8.ewt=e,e++;0,r++}return{Hgt:r,Egt:e}},i.Ugt=function(t,n,i,r){for(var e,u=this.L5,s=i,o=r;s<t.length;){var a=t[s],c=$e.fromString(a.Sm,!1),f=a.rwt||0,h=void 0;if(a.Tp){if(h=$e.fromString(a.Tp,!1).subtract(n),o>0){var v=u[o-1];v.Sp.greaterThan(h)&&(v.Sm=h.subtract(v.Tp),v.Sp=v.Tp.add(v.Sm))}}else h=o>0?u[o-1].Sp:$e.ZERO;if(f<0){if(s+1===t.length){e={Tp:h,Sm:c};break}for(var d=$e.fromString(t[s+1].Tp,!1).subtract(n);h.lessThan(d);){var l=h.add(c);this.Xgt(u,o,h,c,l),h=l,o++}}else for(var w=o+f;o<=w;){var _=h.add(c);this.Xgt(u,o,h,c,_),h=_,o++}s++}o<u.length&&u.splice(o),u.length>0&&(this.Ast=u[u.length-1].Tp),this.Ogt=e},i.Xgt=function(t,n,i,r,e){if(n<t.length){var u=t[n];0,u.Sm.equals(r)?u.j8.ewt=n:t[n]={Tp:i,Sm:r,Sp:e,j8:this.mgt(n,i,lu(r,this.tc))}}else t.push({Tp:i,Sm:r,Sp:e,j8:this.mgt(n,i,lu(r,this.tc))})},n}(sq);yr(),zt(),kr();var hq=function(){function t(t,n,i){this.zgt=void 0,this.Vgt=void 0,this.Wlt=t,this.Wgt=n,this.j=i}var n=t.prototype;return n.qgt=function(){if(this.Vgt=this.Ggt(),this.Vgt)return this.Vgt;if(this.Wgt)return this.Wgt.Olt;throw new f("Missing media segment information.")},n.F_t=function(t){var n=this.hwt;if(n)return{Md:(void 0!==n.iwt?Pr.Nu(n.iwt,t.Ewt[0]):t.Ewt[0]).href,Hot:n.Hot};var i=this.uwt;return i?{Md:t.Ewt[0].href,Hot:[0,i[0]-1]}:void 0},n.Df=function(t){this.j=t,this.Vgt&&this.Vgt.Df()},n.Ds=function(){this.Vgt&&(this.Vgt.Ds(),this.Vgt=void 0)},Ar(t,[{key:"Ud",get:function(){return this.j}},{key:"nwt",get:function(){return this.j&&void 0!==this.j.nwt?this.j.nwt:this.Wgt?this.Wgt.nwt:0}},{key:"vwt",get:function(){return this.j&&void 0!==this.j.vwt?this.j.vwt:this.Wgt?this.Wgt.vwt:$e.ZERO}},{key:"lwt",get:function(){return this.j&&void 0!==this.j.lwt?this.j.lwt:this.Wgt?this.Wgt.lwt:this.Wlt.egt.lwt}},{key:"qA",get:function(){return this.j&&void 0!==this.j.qA?this.j.qA:this.Wgt&&this.Wgt.qA?this.Wgt.qA:1}},{key:"uwt",get:function(){return this.j&&void 0!==this.j.uwt?this.j.uwt:this.Wgt?this.Wgt.uwt:void 0}},{key:"hwt",get:function(){return this.j&&void 0!==this.j.hwt?this.j.hwt:this.Wgt?this.Wgt.hwt:void 0}},{key:"Olt",get:function(){return this.zgt||(this.zgt=this.qgt()),this.zgt}}]),t}(),vq=function(t){function n(){return t.apply(this,arguments)}return zr(n,t),n.prototype.Ggt=function(){return void 0!==this.j.Olt?new fq(this,this.Wlt):void 0!==this.j.Sm?new oq(this,this.Wlt):void 0},Ar(n,[{key:"Sm",get:function(){return void 0!==this.j.Sm?this.j.Sm/this.qA:this.Wgt&&dq(this.Wgt)?this.Wgt.Sm:void 0}},{key:"Rgt",get:function(){return void 0!==this.j.Sm?$e.fromNumber(this.j.Sm):this.Wgt&&dq(this.Wgt)?this.Wgt.Rgt:void 0}},{key:"_wt",get:function(){return void 0!==this.j._wt?this.j._wt:this.Wgt&&dq(this.Wgt)?this.Wgt._wt:void 0}},{key:"gwt",get:function(){return void 0!==this.j.gwt?this.j.gwt:this.Wgt&&dq(this.Wgt)?this.Wgt.gwt:void 0}}]),n}(hq);function dq(t){return t instanceof vq}yr(),zt();var lq=function(){function t(t){this.jgt=t}return t.prototype.qo=function(t){return this.jgt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,(function(n,i,r,e){if("$$"===n)return"$";var u=t[i];if(void 0===u)return n;if(void 0===r)return u.toString();var s=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(u,e);return void 0===s?n:s=Va(s,Number(r),"0")}))},t}();var wq=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Ygt=r.Pwt?new lq(r.Pwt):void 0,e.Qgt=r.Bwt?new lq(r.Bwt):void 0,e}zr(n,t);var i=n.prototype;return i.F_t=function(n){var i=this.Pwt;if(!i)return t.prototype.F_t.call(this,n);var r=i.qo({Bandwidth:n.Ud.BC,RepresentationID:n.Ud.hg});return{Md:Pr.Du(r,n.Ewt[0])}},i.Vlt=function(t,n){var i,r=null!=(i=n.U_t._wt)?i:1,e=this.Bwt.qo({Bandwidth:n.Ud.BC,Number:n.Olt.pgt(t,r),RepresentationID:n.Ud.hg,Time:n.Olt.Bgt(t,r)});return{Md:Pr.Du(e,n.Ewt[0])}},i.I_t=function(t,n){},Ar(n,[{key:"Pwt",get:function(){return this.Ygt?this.Ygt:this.Wgt&&this.Wgt instanceof n?this.Wgt.Pwt:void 0}},{key:"Bwt",get:function(){return this.Qgt?this.Qgt:this.Wgt&&this.Wgt instanceof n?this.Wgt.Bwt:void 0}},{key:"Pgt",get:function(){}}]),n}(vq);yr(),zt(),kr();var _q=function(t){function n(){return t.apply(this,arguments)}zr(n,t);var i=n.prototype;return i.Vlt=function(t,n){var i=this.owt[t.ewt],r=n.Ewt[0];return{Md:(i.MT?Pr.Nu(i.MT,r):r).href,Hot:i.swt}},i.I_t=function(t,n){},Ar(n,[{key:"owt",get:function(){return void 0!==this.j.owt?this.j.owt:this.Wgt&&this.Wgt instanceof n?this.Wgt.owt:void 0}},{key:"Pgt",get:function(){var t;return null==(t=this.owt)?void 0:t.length}}]),n}(vq);yr(),zt(),kr(),yr(),zt(),yr(),zt(),kr(),yr(),zt();var gq=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Egt=n,s.qA=i,s.Zgt=r,s.vwt=e,s.Kgt=u,s}zr(n,t);var i=n.prototype;return i.Hlt=function(t){if(t>=0&&t<this.Q_)return this.Jgt(this.Kgt[t])},i.$gt=function(t){var n=this.tmt(t);if(this.Kgt.length>0){var i=this.Kgt[0];if(n<=lu(i.Tp,this.qA))return this.Jgt(i)}var r=aq(this.Kgt,$e.fromNumber(n*this.qA));if(!(r<0))return this.Jgt(this.Kgt[r])},i.nmt=function(t){var n=this.tmt(t);if(this.Kgt.length>0){var i=this.Kgt[this.Kgt.length-1];if(n>=lu(i.Sp,this.qA))return this.Jgt(i)}return this.$gt(t)},i.Jgt=function(t){var n=lu(t.Tp,this.qA)-this.vwt,i=n+this.Zgt,r=lu(t.Sm,this.qA);return{Egt:this.Egt,m_t:t.ewt,Tp:i,ygt:$e.fromNumber(n*this.qA),Sm:r,Sp:i+r,i3:[t.i7,t.r7]}},i.tmt=function(t){return t-this.Zgt+this.vwt},Ar(n,[{key:"Q_",get:function(){return this.Kgt.length}}]),n}(function(){function t(){}return t.prototype.Tgt=function(t){var n=this.Hlt(t.m_t);if(n&&n.Tp===t.Tp)return n;var i=this.$gt(t.Tp);return i&&i.Tp===t.Tp?i:void 0},t}());yr(),zt(),yr(),zt(),yr(),zt();var mq=function(){function t(t){this.Ud=t,this.Fb=new ph}var n=t.prototype;return n.Kut=function(){return this.Fb.Lo<this.Ud.byteLength},n.imt=function(){var n,i=this.rmt(),r=this.emt(),e=this.Fb.Lo,u=this.Ud.byteLength,s=e+(n=t.umt(r)?u-e:t.smt(r))<=u?n:u-e,o=Mf(this.Ud,this.Fb,s);return new pq(i,dh(o))},n.rmt=function(){var t=this.emt();if(t.length>7)throw new RangeError("Invalid EBML ID size");for(var n=0,i=0;i<t.length;i++)n=256*n+t[i];return n},n.emt=function(){var t=xf(this.Ud,this.Fb.Ho());if(0===t)throw new RangeError("EBML variable sized integer is invalid");var n=8-d.floor(function(t){return d.log(t)*d.LOG2E}(t));return Pr.mu(n<=8&&n>=1,"Incorrect log2 value"),Mf(this.Ud,this.Fb,n)},t.smt=function(t){if(8===t.length&&224&t[1])throw new h("EMBL variable sized integer is too large");for(var n=0,i=0;i<t.length;i++){var r=t[i];if(0===i)n=r&(1<<8-t.length)-1;else n=256*n+r}return n},t.umt=function(t){for(var n=0;n<yq.length;n++){var i=yq[n];if(gf(t,new g(i)))return!0}return!1},t}(),yq=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]],pq=function(){function t(t,n){this.id=t,this.omt=n}var n=t.prototype;return n.amt=function(){return this.omt.byteOffset},n.cmt=function(){return new mq(this.omt)},n.fmt=function(){var t=this.omt.byteLength;if(t>8)throw new RangeError("EMBL integer field size is too large");if(8===t&&224&this.omt.getUint8(0))throw new RangeError("EMBL integer field value is too large");for(var n=0,i=0;i<t;i++){n=256*n+this.omt.getUint8(i)}return n},n.BF=function(){if(4===this.omt.byteLength)return this.omt.getFloat32(0);if(8===this.omt.byteLength)return this.omt.getFloat64(0);throw new RangeError("Invalid size for EMBL floating-point field")},t}();function Aq(t,n){var i=function(t){var n=new mq(dh(t));if(n.imt().id!==bq)throw new h("Missing WebM EBML header");var i=n.imt();if(i.id!==Tq)throw new h("Missing WebM SegmentElement");var r=i.amt(),e=function(t){var n,i=t.cmt();for(;i.Kut();){var r=i.imt();if(r.id===Sq){n=r;break}}if(!n)throw new h("Missing WebM InfoElement");return function(t){var n,i=t.cmt(),r=1e6;for(;i.Kut();){var e=i.imt();e.id===Eq?r=e.fmt():e.id===Iq&&(n=e.BF())}if(void 0===n)throw new h("Missing Duration in WebM InfoElement");var u=r/1e9;return{timecodeScale:u,duration:n*u}}(n)}(i);return{segmentOffset:r,timecodeScale:e.timecodeScale,duration:e.duration}}(n),r=new mq(dh(t)).imt();if(r.id!==Rq)throw new h("Missing WebM CuesElement");var e=function(t,n,i,r){var e,u,s=[],o=t.cmt();for(;o.Kut();){var a=o.imt();if(a.id===Cq){var c=kq(a);if(c){var f=c.unscaledTime,h=n+c.relativeOffset;void 0!==e&&s.push({ewt:s.length,Tp:e,Sm:f.subtract(e),Sp:f,i7:u,r7:h-1}),e=f,u=h}}}if(void 0!==e){0;var v=$e.fromNumber(r/i);s.push({ewt:s.length,Tp:e,Sm:v.subtract(e),Sp:v,i7:u,r7:void 0})}return s}(r,i.segmentOffset,i.timecodeScale,i.duration);return{qA:d.round(1/i.timecodeScale),hmt:e}}function kq(t){var n=t.cmt(),i=n.imt();if(i.id!==Nq)throw new h("Missing CueTime in WebM CuePointElement");var r=$e.fromNumber(i.fmt()),e=n.imt();if(e.id!==Dq)throw new h("Missing CueTrackPositions in WebM CuePointElement");for(var u=e.cmt(),s=0;u.Kut();){var o=u.imt();if(o.id===Pq){s=o.fmt();break}}return{unscaledTime:r,relativeOffset:s}}var bq=440786851,Tq=408125543,Sq=357149030,Eq=2807729,Iq=17545,Rq=475249515,Cq=187,Nq=179,Dq=183,Pq=241,Bq=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).vmt=ua(),r.dmt=ua(),r.lmt=new Nc,r.wmt=n.uwt,r._mt=r.mgt(0,$e.ZERO,r.V_t.Sm),r}zr(n,t);var i=n.prototype;return i.rgt=function(t){if(0===t)return this._mt},i.$_t=function(){return 0},i.tgt=function(t){return this._mt},i.igt=function(t){return this.tgt(t)},i.sgt=function(){return this._mt},i.Bgt=function(t,n){return $e.ZERO},i.C_t=function(t){var n=this.gmt(t);return n&&{ogt:t,agt:n,cgt:n}},i.gmt=function(t){var n=this._mt;return this.wgt(n,t)?n:void 0},i.fgt=function(t){return this.gmt(t)},i.hgt=function(t){return this.gmt(t)},i.Df=function(){},i.Flt=function(t){return 0===t&&void 0!==this.wmt},i.kgt=function(t,n){var i=n.Ewt[0].href;return this.vmt.get(i)},i.bgt=function(t,n,i,r){var e=n.Ewt[0].href,u=this.dmt.get(e);if(void 0===u){var s=n.jO,o=this.lmt.Hs;if(yl(s))u=this.mmt(t,e,i,r,o);else{if(!pl(s))throw new Wl(Hl.MEDIA_NOT_SUPPORTED,"Unsupported MIME type for segment index: "+s);u=this.ymt(t,e,n,i,r,o)}this.dmt.set(e,u)}return u},i.mmt=function(t,n,i,r,e){var u=this;return ta((function(){var s,o,a;return ia(this,(function(c){switch(c.label){case 0:return s=u.wmt,[4,r.pmt(n,s,i,e)];case 1:return o=c.sent(),a=u.Amt(t,o),u.vmt.set(n,a),[2,a]}}))}))()},i.Amt=function(t,n){var i=this.wmt,r=dk.rT(new DataView(n),new ph);if(r.$u!==AA.Cb)throw new f("Invalid segment index");var e=mk.bT(r.Ud),u=function(t,n){for(var i=[],r=t.UE,e=n+t.HE.toNumber(),u=0,s=0,o=t.zE;s<o.length;s++){var a=o[s],c=a.OE,f=$e.fromNumber(a.Sm),h=r.add(f);0===a.BE&&i.push({ewt:u++,Tp:r,Sm:f,Sp:h,i7:e,r7:e+c-1}),e+=c,r=h}return i}(e,i[1]+1);return new gq(t,e.qA,this.V_t.CD,lu(this.K_t,this.tc),u)},i.ymt=function(t,n,i,r,e,u){var s=this;return ta((function(){var o,a,c,f,h,v,d,l;return ia(this,(function(w){switch(w.label){case 0:return o=i.F_t(),a=s.wmt,c=e.pmt(o.Md,o.Hot,r,u),f=e.pmt(n,a,r,u),[4,j.all([c,f])];case 1:return h=ra.apply(void 0,[w.sent(),2]),v=h[0],d=h[1],l=s.kmt(t,d,v),s.vmt.set(n,l),[2,l]}}))}))()},i.kmt=function(t,n,i){var r=Aq(new g(n),new g(i));return new gq(t,r.qA,this.V_t.CD,lu(this.K_t,this.tc),r.hmt)},i.Ds=function(){t.prototype.Ds.call(this),this.lmt.Ms()},n}(sq),Oq=function(t){function n(){return t.apply(this,arguments)}zr(n,t);var i=n.prototype;return i.Vlt=function(t,n){return{Md:n.Ewt[0].href}},i.I_t=function(t,n){return{Md:n.Ewt[0].href,Hot:t.i3}},i.Ggt=function(){return new Bq(this,this.Wlt)},Ar(n,[{key:"_wt",get:function(){}}]),n}(hq);yr(),zt();var xq=function(t){function n(){return t.call(this,tq.y_t)}return zr(n,t),n}(Qc);yr(),zt();var Lq=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Q_t=void 0,e.bmt=1/0,e.Tmt=void 0,e.gw=i,e.Smt(n,r),e}zr(n,t);var i=n.prototype;return i.Emt=function(){var t,n;return null!=(n=this.Q_t)?n:null==(t=this.gw)?void 0:t.Emt()},i.Imt=function(t){var n=this.Wlt,i=this.gw&&this.gw.Emt();this.j.Cwt?this.Q_t=new wq(n,i,this.j.Cwt):this.j.Rwt?this.Q_t=new _q(n,i,this.j.Rwt[0]):this.j.Iwt?this.Q_t=new Oq(n,i,this.j.Iwt):t&&!i&&(this.Q_t=new Oq(n,i,void 0))},i.Smt=function(t,n){this.j=t,this.Rmt=t.Ewt&&t.Ewt.length>0?uq(t.Ewt.map((function(t){return t.Md})),n):n.slice(),this.Q_t&&(t.Cwt?this.Q_t.Df(t.Cwt):t.Rwt?this.Q_t.Df(t.Rwt[0]):t.Iwt&&this.Q_t.Df(t.Iwt))},i.__t=function(){var t;return null==(t=this.Tmt)?void 0:t.Cmt},i.N_t=function(){var t;return null==(t=this.Tmt)?void 0:t.Nmt},i.Dmt=function(t){var n=this.bmt,i=this.Wlt.Sm,r=this.Tmt,e=this.Pmt(t);r&&eu(i,n,1e-5)&&Hq(r,e)||(this.bmt=i,this.Tmt=e,this.qs(new xq))},i.Ds=function(){this.Zs(),this.Q_t&&(this.Q_t.Ds(),this.Q_t=void 0)},Ar(n,[{key:"Ud",get:function(){return this.j}},{key:"Ewt",get:function(){return this.Rmt}}]),n}(Gc);function Mq(t){for(var n,i=0;i<t.length;i++){var r=t[i].__t();if(r){n=r.CD;break}}if(void 0!==n){for(var e,u=t.length-1;u>=0;u--){var s=t[u].__t();if(s){e=s.ND;break}}if(void 0!==e)return{CD:n,ND:e}}}function Fq(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].__t();if(!e)return;if((n=d.max(n,e.CD))>=(i=d.min(i,e.ND)))return}return{CD:n,ND:i}}}function Uq(t){for(var n,i=0;i<t.length;i++){var r=t[i].N_t();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function Hq(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.Nmt,n.Nmt)&&function(t,n){return t&&n?eu(t.CD,n.CD,1e-5)&&eu(t.ND,n.ND,1e-5):t===n}(t.Cmt,n.Cmt)}var Xq=function(t){function n(n,i,r){var e;(e=t.call(this)||this).V_t=n,e.gf=i,e.Bmt=r.slice();for(var u=0;u<r.length;u++){r[u].js(tq.y_t,e.l_t)}return e}zr(n,t);var i=n.prototype;return i.__t=function(){return Fq(this.Bmt)},i.N_t=function(){for(var t,n=0,i=this.Bmt;n<i.length;n++){var r=i[n].N_t();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.Bh=function(){this.Zs();for(var t=0,n=this.Bmt;t<n.length;t++){n[t].Ks(tq.y_t,this.l_t)}},Ar(n,[{key:"Dlt",get:function(){return this.Bmt}},{key:"_0",get:function(){return this.Dlt.reduce((function(t,n){for(var i=0,r=n._0;i<r.length;i++){var e=r[i];lc(t,e)||t.push(e)}return t}),[])}},{key:"ou",get:function(){return this._0.length>0?this._0[0]:""}},{key:"$u",get:function(){return this.Bmt[0].$u}},{key:"hg",get:function(){return this.gf}},{key:"R_t",get:function(){return this.V_t.R_t}},{key:"jO",get:function(){return this.Bmt[0].jO}},{key:"Wlt",get:function(){return this.V_t}},{key:"b3",get:function(){return gc(this.Dlt,(function(t){return t.b3}))}}]),n}(nq);yr(),zt();var zq=function(t){function n(){return t.call(this,tq.A_t)}return zr(n,t),n}(Qc);function Vq(t){for(var n=function(n){var r=t[n],e=void 0,u=r.Fwt;void 0===u||(e=ac(i,(function(t){return t.hg===u}))),e||(e={hg:u,Dlt:[]},i.push(e)),e.Dlt.push(r)},i=[],r=0;r<t.length;r++)n(r);return i}yr(),zt();var Wq,qq=function(t){function n(n,i){var r;return(r=t.call(this)||this).Bmt=[],r.Omt=[],r.xmt=!1,r.Lmt=n,r.f8=i,r.f8.js(tq.y_t,r.l_t),r}zr(n,t);var i=n.prototype;return i.Mmt=function(t,n){if(0!==this.Omt.length){for(var i=t,r=0,e=this.Omt;r<e.length;r++){var u=e[r],s=u.$u;if(s===Hy.$d||s===Hy.il){var o=u.g_t;if(void 0===o)return;i=n(i,o)}}return i}},i.Fmt=function(){this.xmt||(this.xmt=!0,this.qs(new zq),this.Bh())},i.Df=function(t,n){var i=this;return ta((function(){return ia(this,(function(r){switch(r.label){case 0:return 0!==i.Bmt.length?[3,2]:[4,i.Umt(i.f8.Dlt,t,n)];case 1:return r.sent(),i.Hmt(i.Bmt),Bc(n),[3,4];case 2:return[4,i.Xmt(t,n)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))()},i.Umt=function(t,n,i){var r=this;return ta((function(){var e,u,s;return ia(this,(function(o){switch(o.label){case 0:e=0,o.label=1;case 1:if(!(e<t.length))return[3,6];u=t[e],s=new eq(r,u),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,s.Df(n,i)];case 3:return o.sent(),r.Bmt.push(s),[3,5];case 4:return Oc(o.sent()),[3,5];case 5:return e++,[3,1];case 6:return[2]}}))}))()},i.Hmt=function(t){for(var n=Vq(t),i=0;i<n.length;i++){var r=n[i],e=new Xq(this,r.hg,r.Dlt);this.Omt.push(e)}},i.Xmt=function(t,n){var i=this;return ta((function(){var r,e;return ia(this,(function(u){switch(u.label){case 0:r=0,e=i.Bmt,u.label=1;case 1:return r<e.length?[4,e[r].Df(t,n)]:[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},i.__t=function(){return this.f8.__t()},i.N_t=function(){return this.f8.N_t()},i.Bh=function(){this.Zs(),this.f8.Ks(tq.y_t,this.l_t);for(var t=0,n=this.Omt;t<n.length;t++){n[t].Bh()}for(var i=0,r=this.Bmt;i<r.length;i++){r[i].Bh()}wc(this.Bmt),wc(this.Omt)},Ar(n,[{key:"Dlt",get:function(){return this.Bmt}},{key:"Clt",get:function(){return this.Omt}},{key:"t_t",get:function(){return this.f8.Ud.t_t}},{key:"Sm",get:function(){return this.f8.Sm}},{key:"ND",get:function(){return this.CD+this.Sm}},{key:"n_t",get:function(){return this.f8.Ud.n_t||[]}},{key:"hg",get:function(){return this.f8.hg}},{key:"k_t",get:function(){return this.xmt}},{key:"R_t",get:function(){return this.Lmt}},{key:"zmt",get:function(){return this.Lmt.Vmt(this)}},{key:"Wlt",get:function(){return this}},{key:"Wmt",get:function(){return this.Lmt.qmt(this)}},{key:"Gmt",get:function(){return this.Mmt(1/0,d.min)}},{key:"jmt",get:function(){return this.Mmt(0,d.max)}},{key:"CD",get:function(){return this.f8.CD}},{key:"vl",get:function(){return this.R_t.vl}}]),n}(nq);yr(),zt(),yr(),zt(),function(t){t.Ymt="Qmt"}(Wq||(Wq={}));var Gq=function(t){function n(){return t.call(this,Wq.Ymt)}return zr(n,t),n}(Qc);yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),kr(),yr(),zt(),kr();var jq=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Ewt)||this).Zmt=void 0,r.S_t=i,r.Imt(!0),r}zr(n,t);var i=n.prototype;return i.Flt=function(t){var n=this.jO;return!(!yl(n)&&!pl(n))&&this.Olt.Flt(t.ewt)},i.Ult=function(t,n,i,r){return this.Olt.Ult(t,this,n,i,r)},i.F_t=function(){return this.U_t.F_t(this)},i.Vlt=function(t){return this.U_t.Vlt(t,this)},i.I_t=function(t){return this.U_t.I_t(t,this)},i.C_t=function(){return this.Zmt},i.Pmt=function(t){var n=this.Olt,i=n.C_t(t),r=i&&function(t,n){var i,r=t.agt,e=t.cgt,u=t.ogt,s=r.Tp,o=n.ggt(e);if(o.getTime()<=u.getTime())i=e.Sp;else{var a=(o.getTime()-u.getTime())/1e3,c=d.max(e.Sm-a,0);i=e.Tp+c}return{CD:s,ND:i}}(i,n),e=this.Olt.N_t(t,i);return this.Zmt=i,{ogt:t,Cmt:r,Nmt:e}},i.Df=function(t){this.Smt(t,this.S_t.Ewt)},Ar(n,[{key:"x_t",get:function(){return this.S_t}},{key:"Wlt",get:function(){return this.S_t.Wlt}},{key:"egt",get:function(){return this.S_t.egt}},{key:"jO",get:function(){return this.j.jO||this.S_t.jO}},{key:"U_t",get:function(){return this.Emt()}},{key:"Olt",get:function(){return this.U_t.Olt}}]),n}(Lq),Yq=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Ewt)||this).V_t=i,r.Imt(!1),r.z_t=n.b3.map((function(t){return new jq(t,$a(r))})),r}zr(n,t);var i=n.prototype;return i.Df=function(t){this.Smt(t,this.V_t.Ewt);var n=t.b3||[];if(this.z_t.length!==n.length)throw new f("Expected "+this.z_t.length+' representations in adaptation set "'+t.hg+'", found '+n.length);for(var i=0;i<n.length;i++)this.z_t[i].Df(n[i])},i.Dmt=function(n){for(var i=0,r=this.z_t;i<r.length;i++){r[i].Dmt(n)}t.prototype.Dmt.call(this,n)},i.Pmt=function(t){return{ogt:t,Cmt:Fq(this.z_t),Nmt:Uq(this.z_t)}},i.Ds=function(){for(var n=0,i=this.z_t;n<i.length;n++){i[n].Ds()}t.prototype.Ds.call(this)},Ar(n,[{key:"b3",get:function(){return this.z_t}},{key:"Wlt",get:function(){return this.V_t}},{key:"egt",get:function(){return this.V_t.egt}},{key:"Fwt",get:function(){return this.j.Fwt}},{key:"jO",get:function(){var t;return this.j.jO||(null==(t=this.z_t[0])?void 0:t.Ud.jO)||""}}]),n}(Lq),Qq=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,void 0,n.Ewt)||this).Omt=[],u.Kmt=n,u.YE=r,u.nc=e,u.Imt(!1),u.Bmt=(i.Dlt||[]).map((function(t){return new Yq(t,$a(u))})),u.Omt=Vq(u.Bmt),u}zr(n,t);var i=n.prototype;return i.Df=function(t,n){this.Smt(t,this.Kmt.Ewt),this.nc=n;var i=t.Dlt||[];if(this.Bmt.length!==i.length)throw new f("Expected "+this.Bmt.length+' adaptation sets in period "'+t.hg+'", found '+i.length);for(var r=0;r<i.length;r++)this.Bmt[r].Df(i[r])},i.Dmt=function(n){for(var i=0,r=this.Bmt;i<r.length;i++){r[i].Dmt(n)}t.prototype.Dmt.call(this,n)},i.Pmt=function(t){return{ogt:t,Cmt:Fq(this.Bmt),Nmt:Uq(this.Bmt)}},i.Ds=function(){for(var n=0,i=this.Bmt;n<i.length;n++){i[n].Ds()}t.prototype.Ds.call(this)},Ar(n,[{key:"Dlt",get:function(){return this.Bmt}},{key:"Clt",get:function(){return this.Omt}},{key:"Wlt",get:function(){return this}},{key:"egt",get:function(){return this.Kmt}},{key:"hg",get:function(){return this.j.hg}},{key:"CD",get:function(){return this.YE}},{key:"Sm",get:function(){return this.nc}}]),n}(Lq),Zq=new Date("2000-01-01"),Kq=function(t){function n(n,i,r,e,u){var s;if((s=t.call(this)||this).Tmt=void 0,s.Jmt=void 0,s.$mt=void 0,s.tyt=[],s.nyt=i,s.iyt=u,s.Df(n,r,e),n.$u===DV.pI){var o=s.sgt();o&&o.i_t&&o.i_t.getTime()<Zq.getTime()&&(s.$mt=new Date(s.f_t.getTime()-1e3*(o.j8.Tp+o.j8.Sm)),s.Dmt(e))}return s}zr(n,t);var i=n.prototype;return i.__t=function(){var t;return null==(t=this.Tmt)?void 0:t.Cmt},i.N_t=function(){var t;return null==(t=this.Tmt)?void 0:t.Nmt},i.Df=function(t,n,i,r){var e,u=void 0!==this.j&&this.j.$u===DV.pI;this.j=t,this.ryt=n,this.eyt=null!=r?r:i,this.LG=i;var s=[Jw(n)];this.Rmt=t.Ewt&&t.Ewt.length>0?uq(t.Ewt.map((function(t){return t.Md})),s):s,this.uyt=t.e_t&&t.e_t.length>0?uq(t.e_t,this.Rmt):[];var o=this.uyt.map((function(t){return t.href})),a=n.href;lc(o,a)||(this.uyt.push(n),o.push(a));var c=this.nyt.href;lc(o,c)||(this.uyt.push(this.nyt),o.push(c)),this.Jmt=null==(e=t.Elt)?void 0:e.Slt();var f=t.$u===DV.pI,h=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=void 0;if(u.CD)s=u.CD.Slt();else if(e>0&&t[e-1].Sm){s=r[e-1]+t[e-1].Sm.Slt()}else{if(0!==e||n)break;s=0}r.push(s)}for(var o=[],a=0;a<r.length-1;a++)o.push({Ud:t[a],CD:r[a],Sm:r[a+1]-r[a]});if(r.length>0){var c=r.length-1,f=t[c],h=r[c],v=1/0;n||(v=f.Sm?f.Sm.Slt():i-h),o.push({Ud:f,CD:h,Sm:v})}return o}(t.Tlt,f,this.Jmt);this.syt(h,u,f),this.Dmt(i)},i.syt=function(t,n,i){var r=this.tyt;if(0!==t.length){for(var e=t[0].Ud.hg,u=0;u<r.length&&r[u].hg!==e;)u++;for(var s=r.splice(0,u),o=0;o<s.length;o++){s[o].Ds()}if(n&&!i&&r.length>0&&t.length>0){var a,c,f=null!=(a=Jq(r[0].Ud))?a:wA.BA,h=null!=(c=Jq(t[0].Ud))?c:wA.BA;if(h.tA(f)){var v=h.fA(f);void 0!==this.Jmt&&(this.Jmt+=v.$p());for(var d=0;d<t.length;d++){var l=t[d];if(d<r.length){var w=r[d];l.CD=w.CD,rG(l.Ud,w.Ud)}d===t.length-1&&(l.Sm+=v.$p())}}}for(var _=0;_<t.length;_++){var g=t[_];if(_<r.length){var m=r[_];0,m.Df(g.Ud,g.Sm)}else r.push(new Qq(this,g.Ud,g.CD,g.Sm))}}else wc(r)},i.Dmt=function(t){for(var n=0,i=this.tyt;n<i.length;n++){i[n].Dmt(t)}var r=this.Tmt,e=this.Pmt(t);r&&Hq(r,e)||(this.Tmt=e,this.qs(new xq))},i.Pmt=function(t){return{ogt:t,Cmt:Mq(this.tyt),Nmt:Uq(this.tyt)}},i.sgt=function(){if(0!==this.tyt.length){var t=this.tyt[this.tyt.length-1];if(!isFinite(t.Sm)&&0!==t.Dlt.length){var n=t.Dlt[0];if(0!==n.b3.length){var i=n.b3[0].Olt,r=i.sgt();if(r)return{j8:r,i_t:i.vgt(r)}}}}},i.Ds=function(){this.Zs();for(var t=0,n=this.tyt;t<n.length;t++){n[t].Ds()}},Ar(n,[{key:"Ud",get:function(){return this.j}},{key:"$u",get:function(){return this.j.$u||DV.yI}},{key:"r_t",get:function(){return this.$mt||this.j.r_t||this.f_t}},{key:"i_t",get:function(){return this.j.i_t}},{key:"Igt",get:function(){var t,n;return null!=(n=null==(t=this.iyt)?void 0:t.ignoreAvailabilityWindow)&&n}},{key:"Elt",get:function(){return this.Jmt}},{key:"Ewt",get:function(){return this.Rmt}},{key:"e_t",get:function(){return this.uyt}},{key:"Tlt",get:function(){return this.tyt}},{key:"f_t",get:function(){return this.j.f_t||this.LG}},{key:"lwt",get:function(){return this.j.lwt}},{key:"oyt",get:function(){return this.eyt}},{key:"ayt",get:function(){return this.LG}}]),n}(Gc);function Jq(t){for(var n,i,r=nG(t),e=0,u=null!=(n=t.Dlt)?n:[];e<u.length;e++){r=gA(r,$q(u[e]))}for(var s=0,o=null!=(i=t.n_t)?i:[];s<o.length;s++){r=gA(r,iG(o[s]))}return r}function $q(t){for(var n=nG(t),i=0,r=t.b3;i<r.length;i++){n=gA(n,tG(r[i]))}return n}function tG(t){return nG(t)}function nG(t){var n;if(void 0!==t.Cwt&&(n=gA(n,iG(t.Cwt))),void 0!==t.Iwt&&(n=gA(n,iG(t.Iwt))),void 0!==t.Rwt)for(var i=0,r=t.Rwt;i<r.length;i++){n=gA(n,iG(r[i]))}return n}function iG(t){var n,i;return wA.OA(null!=(n=t.vwt)?n:$e.ZERO,null!=(i=t.qA)?i:1)}function rG(t,n){if(sG(t,n),t.CD=n.CD,void 0!==t.Dlt&&void 0!==n.Dlt&&t.Dlt.length===n.Dlt.length)for(var i=0;i<t.Dlt.length;i++)eG(t.Dlt[i],n.Dlt[i]);if(void 0!==t.n_t&&void 0!==n.n_t&&t.n_t.length===n.n_t.length)for(var r=0;r<t.n_t.length;r++)oG(t.n_t[r],n.n_t[r])}function eG(t,n){if(sG(t,n),void 0!==t.b3&&void 0!==n.b3&&t.b3.length===n.b3.length)for(var i=0;i<t.b3.length;i++)uG(t.b3[i],n.b3[i])}function uG(t,n){sG(t,n)}function sG(t,n){if(void 0!==t.Cwt&&void 0!==n.Cwt&&oG(t.Cwt,n.Cwt),void 0!==t.Iwt&&void 0!==n.Iwt&&oG(t.Iwt,n.Iwt),void 0!==t.Rwt&&void 0!==n.Rwt&&t.Rwt.length===n.Rwt.length)for(var i=0;i<t.Rwt.length;i++)oG(t.Rwt[i],n.Rwt[i])}function oG(t,n){t.qA=n.qA,t.vwt=n.vwt}yr(),zt();var aG=function(){function t(t,n,i){this.vI=t,this.cyt=n,this.fyt=i,this.hyt=0}var n=t.prototype;return n._M=function(t){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return[4,n.vyt(t,n.vI,n.cyt,n.fyt).catch(xc)];case 1:return i.sent(),[2]}}))}))()},n.dyt=function(){return new Date(cu()+this.hyt)},n.vyt=function(t,n,i,r){var e=this;return ta((function(){var u,s,o;return ia(this,(function(a){switch(a.label){case 0:return r?[4,e.lyt(n,r,i)]:[3,2];case 1:u=a.sent(),a.label=2;case 2:if(void 0!==u)return[3,6];Bc(i),s=0,a.label=3;case 3:return s<t.length?(o=t[s],[4,e.wyt(n,o,i)]):[3,6];case 4:if(void 0!==(u=a.sent()))return[3,6];a.label=5;case 5:return s++,[3,3];case 6:return e.hyt=void 0===u?0:u-cu(),[2]}}))}))()},n.wyt=function(t,n,i){var r=this;return ta((function(){var e,u,s;return ia(this,(function(o){switch(o.label){case 0:switch(n.d3){case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2012":case"urn:mpeg:dash:utc:http-iso:2014":return[3,1];case"urn:mpeg:dash:utc:direct:2012":case"urn:mpeg:dash:utc:direct:2014":return[3,4]}return[3,5];case 1:return(e=n.Bw)?[4,r.lyt(t,e,i)]:[3,3];case 2:return[2,o.sent()];case 3:return[3,6];case 4:return(u=n.Bw)&&(s=new Date(u).getTime(),!_(s))?[2,s]:[3,6];case 5:case 6:return[2]}}))}))()},n.lyt=function(t,n,i){return ta((function(){var r,e;return ia(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,t.xd({Md:n,ol:Uw.GET,Pd:dw.ed,Hs:i})];case 1:return[4,u.sent().dd()];case 2:return r=u.sent(),e=new Date(r).getTime(),_(e)?[3,4]:[2,e];case 3:return Oc(u.sent()),[3,4];case 4:return[2]}}))}))()},t}(),cG=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).f8=void 0,s.lot=!0,s.tyt=[],s._yt=void 0,s.gyt=n,s.myt=n.Hg,s.yyt=i,s.vI=r,s.pyt=e,s.Ayt=new aG(s.vI,s.pyt,s.gyt.kyt),s.iyt=u,s}zr(n,t);var i=n.prototype;return i.byt=function(t){var n=this.Jy;this.lot=t,n!==this.Jy&&this.qs(new Gq)},i.Df=function(t,n,i){var r=this;return ta((function(){var e,u,s,o,a,c,f,h,v,d,l,w;return ia(this,(function(_){switch(_.label){case 0:return u=[],s=[],o=t.u_t?Pr.Nu(t.u_t,r.myt):r.myt,void 0!==r.f8?[3,2]:[4,r.Ayt._M(t.v_t)];case 1:return _.sent(),r.f8=new Kq(t,r.myt,o,r.dyt(),r.iyt),r.f8.js(tq.y_t,r.Ws),[3,3];case 2:r.f8.Df(t,o,r.dyt(),n),_.label=3;case 3:if(0===(a=r.f8.Tlt).length)c=r.tyt.slice(),wc(r.tyt);else{for(f=a[0].hg,h=0;h<r.tyt.length&&r.tyt[h].hg!==f;)h++;for(c=r.tyt.splice(0,h),v=0;v<a.length;v++)d=a[v],v<r.tyt.length?l=r.tyt[v]:(l=new qq(r,d),u.push(l)),s.push(l.Df(r.yyt,i))}return[4,j.all(s)];case 4:for(_.sent(),(e=r.tyt).push.apply(e,Nr(u)),w=0;w<c.length;w++)c[w].Fmt();return r.qs(new JM),[2]}}))}))()},i.dyt=function(){return this.Ayt.dyt()},i.qmt=function(t){var n=this.tyt.indexOf(t);if(n>0)return this.tyt[n-1]},i.Vmt=function(t){var n=this.tyt.indexOf(t);if(n>=0&&n+1<this.tyt.length)return this.tyt[n+1]},i.__t=function(){return this.f8?this.f8.__t():void 0},i.N_t=function(){return this.f8&&this.f8.N_t()},i.Dmt=function(t){this.f8&&this.f8.Dmt(t)},i.Bh=function(){this.Zs(),this._yt=void 0,this.byt(!1);for(var t=0,n=this.tyt;t<n.length;t++){n[t].Bh()}wc(this.tyt),this.f8&&this.f8.Ds()},Ar(n,[{key:"i_t",get:function(){return this.f8&&this.f8.i_t}},{key:"r_t",get:function(){return this.f8&&this.f8.r_t}},{key:"Igt",get:function(){return this.f8&&this.f8.Igt}},{key:"hg",get:function(){return this.f8&&this.f8.Ud.hg}},{key:"oyt",get:function(){var t;return null==(t=this.f8)?void 0:t.oyt}},{key:"Tyt",get:function(){var t;return null==(t=this.f8)?void 0:t.ayt}},{key:"e_t",get:function(){return this.f8?this.f8.e_t.map((function(t){return t.href})):[this.Rlt]}},{key:"Rlt",get:function(){return this.myt.href}},{key:"s_t",get:function(){return this.f8&&this.f8.Ud.s_t}},{key:"o_t",get:function(){return this.f8&&this.f8.Ud.o_t}},{key:"Elt",get:function(){return this.f8&&this.f8.Ud.Elt}},{key:"a_t",get:function(){return this.f8&&this.f8.Ud.a_t}},{key:"c_t",get:function(){var t,n,i=(null==(t=null==(n=this.f8)?void 0:n.Ud.c_t)?void 0:t.Qlt())||0;return d.max(i,hG)}},{key:"Jy",get:function(){return this.lot}},{key:"Tlt",get:function(){return this.tyt}},{key:"Syt",get:function(){return this.$u===DV.pI?this.Y_t:this.Eyt}},{key:"Iyt",get:function(){var t=this.Syt;if(void 0!==t)for(var n=0,i=this.Tlt;n<i.length;n++){var r=i[n];if(r.CD<=t&&r.ND>t)return r}}},{key:"Awt",get:function(){return this.f8&&this.f8.Ud.Awt}},{key:"f_t",get:function(){return this.f8&&this.f8.f_t}},{key:"Gmt",get:function(){for(var t=this.tyt.length-1;t>=0;t-=1){var n=this.tyt[t].Gmt;if(n)return n}}},{key:"Y_t",get:function(){var t=this.Gmt;if(void 0!==t){var n=t-this.Ryt;return d.max(n,this.Eyt)}}},{key:"Eyt",get:function(){for(var t=0,n=this.tyt;t<n.length;t++){var i=n[t].w_t;if(void 0!==i)return i}}},{key:"vl",get:function(){return Boolean(this.gyt.vl)}},{key:"Ryt",get:function(){var t=this.f8&&this.f8.Ud.h_t;return t?t.Slt():this.$u===DV.pI?this.Cyt:0}},{key:"Cyt",get:function(){return this.gyt.Cyt?this.gyt.Cyt:1.5*this.a_t.Slt()}},{key:"lwt",get:function(){return this.f8&&this.f8.lwt}},{key:"$u",get:function(){return this.f8?this.f8.$u:void 0}}]),n}(Gc),fG=function(){function t(t,n,i,r,e){this.Lmt=new cG(t,n,i,r,e)}return Ar(t,[{key:"R_t",get:function(){return this.Lmt}}]),t}(),hG=1e3,vG=d.pow(2,31)-1,dG=function(){function t(t,n,i,r,e){this.Nyt=new Nc;var u=this;this.Dyt=ta((function(t){var n,i,r;return ia(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),n=u.f8.R_t.dyt(),[4,u.Pyt(u.f8.R_t.e_t,t)];case 1:return i=e.sent(),[4,u.f8.R_t.Df(i,n,t)];case 2:return e.sent(),[3,4];case 3:throw Yk(r=e.sent())&&u.f8.R_t.byt(!1),r;case 4:return[2]}}))})),this.Byt=r,this.f8=new fG(t,n,i,this.Nyt.Hs,e)}var n=t.prototype;return n.ww=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:n.f8.R_t.qs(new tN),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.Dyt(t)];case 2:return r.sent(),n.f8.R_t.byt(!0),[3,4];case 3:throw Oc(i=r.sent()),n.Oyt=void 0,n.f8.R_t.byt(!1),new f("The provided MPEG-DASH document could not be loaded - "+i.message);case 4:return n.xyt=n.Lyt(n.Nyt.Hs),[2]}}))}))()},n.Lyt=function(t){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:i.trys.push([0,4,,5]),i.label=1;case 1:return n.f8.R_t.$u!==DV.pI?[3,3]:[4,Lc(n.Myt,t)];case 2:return i.sent(),[3,1];case 3:return[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))()},n.Fyt=function(t){var n=this;return ta((function(){var i,r;return ia(this,(function(e){switch(e.label){case 0:return Bc(t),(i=n.Uyt())>0?[4,Wc(d.min(i,vG),t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,5,6]),[4,n.Dyt(t)];case 3:return e.sent(),n.f8.R_t.byt(!0),[3,6];case 4:throw r=e.sent(),new f("The provided MPEG-DASH manifest could not be loaded - "+r.message);case 5:return n.Hyt=void 0,[7];case 6:return[2]}}))}))()},n.Uyt=function(){var t=this.f8.R_t.dyt().getTime()-this.f8.R_t.oyt.getTime();return this.f8.R_t.c_t-t},n.Xyt=function(t){var n=this.f8.R_t.N_t();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.f8.R_t.Dmt(t);var r=this.f8.R_t.N_t();return r?r.getTime()-t.getTime():NaN},n.zyt=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:n.Hyt||(n.Hyt=n.Fyt(t)),(i=new Nc).Fs(t),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,j.race([n.Hyt,n.Vyt(i.Hs)].filter(re))];case 2:return r.sent(),[3,5];case 3:return xc(r.sent()),[3,5];case 4:return i.Ms(),[7];case 5:return[2]}}))}))()},n.Vyt=function(t){var n=this.f8.R_t.dyt(),i=this.Xyt(n);if(!_(i)&&!this.V1.R_t.Igt)return this.Wyt(i,t)},n.Wyt=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return[4,Wc(t,n)];case 1:return e.sent(),r=i.f8.R_t.dyt(),i.f8.R_t.Dmt(r),[2]}}))}))()},n.Pyt=function(t,n){var i=this;return ta((function(){var r;return ia(this,(function(e){switch(e.label){case 0:return[4,i.Byt.qlt(t,{},n)];case 1:return r=e.sent(),[2,(new ZW).lvt(r.Glt,r.Ld)]}}))}))()},n.Bh=function(){return this.Nyt.Ms(),this.xyt=void 0,this.Oyt=void 0,this.Hyt=void 0,this.f8.R_t.Bh(),j.resolve()},Ar(t,[{key:"V1",get:function(){return this.f8}},{key:"qyt",get:function(){return this.Oyt||(this.Oyt=this.ww(this.Nyt.Hs),Xc(this.Oyt)),this.Oyt}},{key:"Myt",get:function(){return this.f8.R_t.Tyt&&this.f8.R_t.$u===DV.pI?this.zyt(this.Nyt.Hs):this.qyt}}]),t}(),lG=function(){function t(t,n,i){this.Byt=t,this.Gyt=n,this.jyt=i}var n=t.prototype;return n.Yyt=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:if(!t.src)throw new f("Invalid typed source");return sy(i=t.type)?[4,n.Qyt(t)]:[3,2];case 1:return[2,r.sent()];case 2:return uy(i)?[4,n.Zyt(t)]:[3,4];case 3:return[2,r.sent()];case 4:throw new f("Unexpected source type");case 5:return[2]}}))}))()},n.Qyt=function(t){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,WV(t.src,n.Byt)];case 1:return[4,GV(i.sent(),n.Byt)];case 2:return[2,i.sent()];case 3:throw i.sent(),new f("Unable to fetch HLS manifest");case 4:return[2]}}))}))()},n.Zyt=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,(i=new dG({Hg:Pr.Nu(t.src),Cyt:t.liveOffset,kyt:t.timeServer,vl:t.useCredentials},n.jyt,Gw.Tl,n.Byt,t.dash)).qyt];case 1:return r.sent(),[4,TV(i.V1.R_t,t.contentProtection,n.Gyt)];case 2:return[2,r.sent()];case 3:throw r.sent(),new f("Unable to fetch DASH manifest");case 4:return[2]}}))}))()},t}();yr(),zt();var wG=function(){function t(t){this.Kyt=[],this.Jyt=0,this.$yt=t}var n=t.prototype;return n.tpt=function(){var t=new kh;return this.Kyt.push(t),this.npt(),t.Wo},n.ipt=function(t,n){var i=this;return ta((function(){return ia(this,(function(r){switch(r.label){case 0:return r.trys.push([0,,2,3]),[4,t];case 1:return r.sent(),[3,3];case 2:return i.Jyt-=1,i.npt(),0===i.Kyt.length&&0===i.Jyt&&n.qo(!0),[7];case 3:return[2]}}))}))()},n.npt=function(){this.Kyt.length>0&&this.Jyt<this.$yt&&(this.Kyt.shift().qo(),this.Jyt+=1)},t}();var _G=function(t){function n(n,i,r,e,u,s,o,a){var c;(c=t.call(this)||this).DEFAULT_CACHING_SEGMENT_TIMEOUT=3e4,c.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT=0,c.rpt=new kh,c.ept=AV.klt,c.upt=n,c.xht=i,c.Byt=r,c.spt=e,c.apt=u,c.Gyt=s,c.jyt=a,c.tlt=o,c.cpt=-1;var f=c.upt.cD.sources[0];return c.fpt=f,c.Jm=c.Iy(),c.hpt=new wG(c.upt.Qf.parallelTasksThreshold),c}zr(n,t);var i=n.prototype;return i.Iy=function(){var t=this;return ta((function(){var n,i,r,e,u,s,o,a,c,h,v,l,_,g,m,y,p,A,k,b,T,S,E,I,R,C,N,D,P,B,O;return ia(this,(function(x){switch(x.label){case 0:return[4,new lG(t.Byt,t.Gyt,t.jyt).Yyt(t.fpt)];case 1:return t.vpt=x.sent(),n=t.upt.Qf.amount,i=t.vpt.Sm,r=function(t,n){if(ce(t)){if(Fa(t,"%"))return w(t)/100*n;throw new f("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}(n,i),t.wlt=r,u=IX(t.vpt.Ilt[0]),[4,t.xht.Rht.Sht(u,"manifestURL")];case 2:for(s=x.sent().filter((function(n){return lc(n.references,t.upt.hg)})),o=[],a=t.upt.Qf.bandwidth,c=0,h=t.vpt.Tlt;c<h.length;c++)for(v=h[c],l=0,_=v.Nlt;l<_.length;l++)for(g=_[l],m=0,y=yG(g,t.upt.Qf.preferredTrackSelection);m<y.length;m++)for(p=y[m],A=0,k=AG(p.yg,a);A<k.length;A++)b=k[A],o.push(b);if(t.cpt=d.ceil(o.map((function(t){return t.BC*function(t,n){for(var i=0,r=0,e=t.zE.n3.map((function(t){return t.Sm}));r<e.length;r++)if((i+=e[r])>=n)return i;return i}(t,r)/8})).reduce((function(t,n){return t+n}),0)),T=ua(),s&&0!==s.length){for(S=s.reduce((function(t,n){return t+n.byteSize}),0),E=0;E<s.length;E++)I=s[E],R=I.qualityId,C=new gE(I.startsAndEnds),T.has(R)?T.get(R).timeRanges=T.get(R).timeRanges.XD(C).HD(5e-4):(N=ac(o,(function(t){return t.hg===R})),P=d.min(t.wlt,null!=(D=null==N?void 0:N.zE.Sm)?D:1/0),T.set(R,{timeRanges:C,totalQualityDurationToCache:P}));e=new AV(S,T,t.wlt)}else{for(B=0;B<o.length;B++)O=o[B],T.set(O.hg,{timeRanges:gE.uP(),totalQualityDurationToCache:d.min(O.zE.Sm,t.wlt)});e=new AV(0,T,t.wlt)}return t.dpt=e,[2]}}))}))()},i.lpt=function(t){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return[4,n.Jm];case 1:return i.sent(),[4,n.wpt(n.vpt,t)];case 2:return i.sent(),[2]}}))}))()},i.wpt=function(t,n){var i=this;return ta((function(){var r,e,u,s;return ia(this,(function(o){switch(o.label){case 0:if(!t.Ilt)throw new f("Unexpected - manifest is missing locations");return[4,i._pt()];case 1:for(o.sent(),r=[],e=0,u=t.Tlt;e<u.length;e++)s=u[e],r.push(i.gpt(s,t.Ilt[0],n));return[2,zc(r)]}}))}))()},i._pt=function(){var t=this;return ta((function(){var n,i,r,e,u;return ia(this,(function(s){switch(s.label){case 0:return[4,t.spt.bht()];case 1:n=s.sent(),i=0,s.label=2;case 2:return i<n.length?(r=n[i],[4,t.xht.Cht.Do(r.key)]):[3,9];case 3:return(e=s.sent())?[4,gG(e,t.upt.hg,t.xht.Cht,t.tlt)]:[3,5];case 4:return s.sent(),[3,8];case 5:return s.trys.push([5,7,,8]),[4,t.xht.Cht.pht(r,t.tlt)];case 6:return s.sent(),[3,8];case 7:throw u=s.sent(),new bV("Unable to store manifest with url: "+r.locationURL,u);case 8:return i++,[3,2];case 9:return[4,t.spt.Iht()];case 10:return s.sent(),[2]}}))}))()},i.gpt=function(t,n,i){for(var r=[],e=0,u=t.Nlt;e<u.length;e++)for(var s=yG(u[e],this.upt.Qf.preferredTrackSelection),o=0;o<s.length;o++){var a=s[o];r.push(this.mpt(a,n,i))}return zc(r)},i.mpt=function(t,n,i){var r=this;return ta((function(){var e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:return e=r.upt.Qf.bandwidth,u=AG(t.yg,e),t.$u===Hy.il&&t.Blt&&t.Blt.HI.widevine&&"persistent"===t.Blt.HI.widevine.licenseType?[4,r.ypt(t.Blt)]:[3,2];case 1:c.sent(),Bc(i),c.label=2;case 2:for(s=[],o=0;o<u.length;o++)a=u[o],s.push(r.ppt(a,n,i));return[2,zc(s)]}}))}))()},i.ppt=function(t,n,i){var r=this;return ta((function(){var e,u,s,o,a,c,f;return ia(this,(function(h){switch(h.label){case 0:Bc(i),e=t.zE.n3[0].Tp,u=e+r.wlt,s=[],o=!1,a=0,c=t.zE.n3,h.label=1;case 1:return a<c.length?(f=c[a]).Tp>=u||r.stopIfFailed(o)?[3,5]:[4,r.Apt(i)]:[3,5];case 2:return h.sent(),[4,r.hpt.tpt()];case 3:h.sent(),s.push(r.hpt.ipt(r.kpt(f,t,n),r.rpt).catch((function(t){return o=!0,j.reject(t)}))),h.label=4;case 4:return a++,[3,1];case 5:return[2,zc(s)]}}))}))()},i.Apt=function(t){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return(null==t?void 0:t.Es)?[4,n.rpt.Wo]:[3,2];case 1:throw i.sent(),new Dc;case 2:return[2]}}))}))()},i.bpt=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return[4,Xc(t.Jm)];case 1:return n.sent(),[2,t.vpt]}}))}))()},i.ypt=function(t){return j.resolve()},i.Tpt=function(){return Pr.wu("License renewal unsupported in this SDK."),j.resolve()},i.kpt=function(t,n,i){var r=this;return ta((function(){var e,u,s,o,a,c,f,h;return ia(this,(function(v){switch(v.label){case 0:return e=r.xht.Rht,u=RX(t.Llt.Md,t.Llt.Hot),[4,e.Do(u)];case 1:return(s=v.sent())?[4,gG(s,r.upt.hg,e,r.tlt)]:[3,3];case 2:return v.sent(),r.Spt(s,!1),[3,7];case 3:return v.trys.push([3,6,,7]),[4,r.Ept(t.Llt)];case 4:return o=v.sent(),a=r.Ipt(t,n,i,o),c=a.segmentMetadataEntry,f=a.segmentEntry,[4,r.xht.Pht(ta((function(t){return ia(this,(function(n){switch(n.label){case 0:return[4,t.Rht.pht(c,r.tlt)];case 1:return n.sent(),[4,t.n3.pht(f,r.tlt)];case 2:return n.sent(),[2]}}))})))];case 5:return v.sent(),r.Spt(c,!0),[3,7];case 6:throw h=v.sent(),new bV("Unable to store segment with url: "+t.Llt.Md,h);case 7:return[2]}}))}))()},i.Ept=function(t){var n=this;return ta((function(){var i;return ia(this,(function(r){switch(r.label){case 0:return[4,n.apt.j7(t,!1,n.DEFAULT_CACHING_SEGMENT_TIMEOUT,void 0,n.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT)];case 1:return i=r.sent(),[4,n.Rpt(i)];case 2:return[2,r.sent()]}}))}))()},i.Rpt=function(t){return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return[4,t.wd()];case 1:return[2,{buffer:n.sent()}]}}))}))()},i.Ipt=function(t,n,i,r){var e=RX(t.Llt.Md,t.Llt.Hot),u=t.Tp,s=t.Sm,o=this.Cpt(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:IX(i),qualityId:n.hg,byteSize:o,startsAndEnds:new gE([u,u+s]).sP,references:[this.upt.hg]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:IX(i),data:r,references:[this.upt.hg]}}},i.Cpt=function(t){return t.buffer.byteLength},i.Spt=function(t,n){var i=t.qualityId,r=this.ept,e=r.ep;e.get(i).timeRanges=e.get(i).timeRanges.XD(new gE(t.startsAndEnds)).HD(5e-4),this.dpt=new AV(n?r.plt+t.byteSize:r.plt,e,this.wlt)},i.stopIfFailed=function(t){return!1},Ar(n,[{key:"olt",get:function(){return this.Iy()}},{key:"Npt",get:function(){return this.cpt}},{key:"dpt",get:function(){return this.ept},set:function(t){this.ept.zp(t)||(this.ept=t,t.zp(AV.klt)||this.qs(new pV))}}]),n}(Gc);function gG(t,n,i,r){return mG.apply(this,arguments)}function mG(){return(mG=ta((function(t,n,i,r){return ia(this,(function(e){switch(e.label){case 0:return lc(t.references,n)?[3,2]:(t.references.push(n),[4,i.pht(t,r)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))).apply(this,arguments)}function yG(t,n){switch(t.$u){case Hy.$d:return pG(t.RT,n.audioTrackSelection);case Hy.ed:return pG(t.RT,n.textTrackSelection);default:return pG(t.RT,[])}}function pG(t,n){if(0===n.length)return t.length?[t[0]]:[];for(var i=[],r=0;r<t.length;r++){var e=t[r];n.indexOf(e.gg)>-1&&i.push(e)}return i}function AG(t,n){if(!t.length)return[];var i=Nr(t).sort(mV),r=i.filter((function(t){return t.BC<=n}));return r.length>0?[r.pop()]:[i.shift()]}yr(),zt(),yr(),zt();var kG=function(){function t(t,n){this.vI=t,this.T9=n}var n=t.prototype;return n.j7=function(t,n,i,r,e){return this.G5(t,n,!1,i,e,r)},n.Dpt=function(t,n,i,r,e){return this.G5(t,n,!0,i,e,r)},n.G5=function(n,i,r,e,u,s){var o=this;return ta((function(){var a;return ia(this,(function(c){switch(c.label){case 0:return Bc(s),[4,o.ett(n,r,e,u,s)];case 1:return a=c.sent(),i?[2,t.Ppt(a)]:[2,o.Bpt(a)]}}))}))()},n.Bpt=function(t){return t},n.ett=function(t,n,i,r,e){var u,s=new Ww({Md:t.Md,Pd:dw.$v,Dd:t.Hot?{Range:"bytes="+t.Hot[0]+"-"+(null!=(u=t.Hot[1])?u:"")}:void 0,vl:t.vl,ol:Uw.GET,$u:Hw.zd,fl:n?Xw.qd:Xw.Hd,hl:this.T9,al:i,cl:r,Hs:e});return this.vI.xd(s)},t.Ppt=function(t){return t},t}();yr(),zt();var bG={maxRetries:3,minimumBackoff:1e3,maximumBackoff:1/0},TG=function(){function t(t,n,i){void 0===i&&(i=bG),this.vI=t,this.e8=n,this._at=i}var n=t.prototype;return n.Opt=function(t,n,i){var r=this,e=this._at.maxRetries===1/0?bG:this._at;return Fy((function(){return r.xpt(t,n,i)}),i,e.maxRetries,e.minimumBackoff,e.maximumBackoff)},n.xpt=function(t,n,i){var r=this;return ta((function(){var e,u,s,o,a,c;return ia(this,(function(f){switch(f.label){case 0:u=0,f.label=1;case 1:if(!(u<t.length))return[3,7];s=t[u],f.label=2;case 2:return f.trys.push([2,5,,6]),o=new Ww({Md:s,Pd:dw.ed,Dd:n,vl:r.e8,ol:Uw.GET,$u:Hw.Xd,fl:Xw.Hd,Hs:i,al:3e4,cl:5e3}),[4,r.vI.xd(o)];case 3:return[4,(a=f.sent()).dd(i)];case 4:return[2,{Glt:f.sent(),Lpt:s,Ld:a.Ld}];case 5:return c=f.sent(),e=c,[3,6];case 6:return u++,[3,1];case 7:throw e}}))}))()},t}();yr(),zt();var SG=function(){function t(t){this.Mpt=t}return t.prototype.qlt=function(t,n,i){var r=this;return ta((function(){var e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:u=0,s=r.Mpt,c.label=1;case 1:if(!(u<s.length))return[3,6];o=s[u],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.qlt(t,n,i)];case 3:return[2,c.sent()];case 4:return Oc(a=c.sent()),e=a,[3,5];case 5:return u++,[3,1];case 6:throw e}}))}))()},t}(),EG=function(){function t(t){this.r8=t}return t.prototype.qlt=function(t,n,i){var r=this;return ta((function(){var n;return ia(this,(function(i){switch(i.label){case 0:return[4,r.r8.S8(t)];case 1:if(n=i.sent())return[2,{Glt:n.data,Lpt:n.locationURL,Ld:n.responseURL}];throw new f("Manifest fetch from cache unsuccesful")}}))}))()},t}(),IG=function(){function t(t){this.Fpt=t}return t.prototype.qlt=function(t,n,i){var r=this;return ta((function(){return ia(this,(function(e){switch(e.label){case 0:return[4,r.Fpt.Opt(t,n,i)];case 1:return[2,e.sent()]}}))}))()},t}();var RG=function(){function t(t,n,i){this.Byt=t,this.nlt=n,this.upt=i}var n=t.prototype;return n.qlt=function(t,n,i){var r=this;return ta((function(){var e;return ia(this,(function(u){switch(u.label){case 0:return[4,r.Byt.qlt(t,n,i)];case 1:return e=u.sent(),[4,r.Upt(e)];case 2:return u.sent(),[2,e]}}))}))()},n.Upt=function(t){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return[4,n.nlt.pht({key:IX(t.Lpt),locationURL:Yw(t.Lpt),responseURL:Yw(t.Ld),data:t.Glt,references:[n.upt.hg]})];case 1:return i.sent(),[2]}}))}))()},t}();yr(),zt(),yr(),zt();var CG=function(){function t(t){this.vI=t}return t.prototype.pmt=function(t,n,i,r){var e=this;return ta((function(){var u;return ia(this,(function(s){switch(s.label){case 0:return[4,e.vI.xd({Md:t,Pd:dw.$v,Dd:n?{Range:"bytes="+n[0]+"-"+(null!=(u=n[1])?u:"")}:void 0,vl:i,ol:Uw.GET,$u:Hw.Hd,Hs:r})];case 1:return[4,s.sent().wd()];case 2:return[2,s.sent()]}}))}))()},t}();yr(),zt(),yr(),zt();var NG=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).j8=n,e}return zr(n,t),n}(Rc),DG=function(){function t(t){this.r8=t}return t.prototype.pmt=function(t,n,i,r){var e=this;return ta((function(){var i,r;return ia(this,(function(u){switch(u.label){case 0:return[4,e.r8.R9(t,n)];case 1:return(i=u.sent())?[2,i.buffer]:n?[4,e.r8.R9(t)]:[3,3];case 2:if(r=u.sent())return[2,gh(new g(r.buffer),n[0],n[1])];u.label=3;case 3:throw new NG({Md:t,Hot:n,vl:!1})}}))}))()},t}(),PG={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new gE([0,0]).sP,references:[]},BG={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},OG=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n)||this).Hpt=new CG(i),s.xht=r,s.Xpt=e,s.tlt=u,s}zr(n,t);var i=n.prototype;return i.pmt=function(n,i,r,e){var u=this;return ta((function(){var s;return ia(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.prototype.pmt.call(u,n,i,r,e)];case 1:return[2,o.sent()];case 2:return Oc(o.sent()),[3,3];case 3:return[4,u.Hpt.pmt(n,i,r,e)];case 4:return s=o.sent(),[4,u.zpt(n,i,s)];case 5:return o.sent(),[2,s]}}))}))()},i.zpt=function(t,i,r){var e=this;return ta((function(){var u,s,o,a,c,f,h,v;return ia(this,(function(d){switch(d.label){case 0:return void 0===e.Xpt?[2]:(u=e.xht.Rht,s=RX(t,i),[4,u.Do(s)]);case 1:return(o=d.sent())?[4,gG(o,e.Xpt,u,e.tlt)]:[3,3];case 2:return d.sent(),[3,6];case 3:return d.trys.push([3,5,,6]),a={buffer:r},c=n.Ipt(s,a,e.Xpt),f=c.segmentMetadataEntry,h=c.segmentEntry,[4,e.xht.Pht(ta((function(t){return ia(this,(function(n){switch(n.label){case 0:return[4,t.Rht.pht(f,e.tlt)];case 1:return n.sent(),[4,t.n3.pht(h,e.tlt)];case 2:return n.sent(),[2]}}))})))];case 4:return d.sent(),[3,6];case 5:throw v=d.sent(),new bV("Unable to store segment with url: "+t,v);case 6:return[2]}}))}))()},n.Ipt=function(t,n,i){return{segmentMetadataEntry:na({},PG,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:na({},BG,{key:t,segmentURLsegmentByteRange:t,data:n,references:[i]})}},n}(DG);yr(),zt();var xG=function(t){function n(){return t.apply(this,arguments)}return zr(n,t),n.prototype.Vpt=function(t,n,i,r,e,u,s){return new _G(t,n,i,r,e,u,s,function(t){var n=te.Nr||te.Rr,i=void 0!==t&&void 0!==t.preferredAudioCodecs&&t.preferredAudioCodecs.some((function(t){return"ac-3"===t||"ec-3"===t})),r=n&&!i;return ta((function(t){var n,i;return ia(this,(function(e){switch(e.label){case 0:return n=t.md,MediaSource.isTypeSupported(n)||tb(t.jO,t._0)?(i=t._0.some((function(t){return"ac-3"===t||"ec-3"===t})),r&&i?[2,!1]:t.A3?[4,bc(gc(t.A3,(function(t){return La(t.d3)})).filter(re),(function(t){return Pr.Ru(t,n)}))]:[3,2]):[2,!1];case 1:if(!e.sent())return[2,!1];e.label=2;case 2:return[2,!0]}}))}))}())},n}(function(){function t(t){this.vI=t}return t.prototype.OJ=function(t,n,i){void 0===i&&(i="persistent");var r=Boolean(t.cD.sources[0].useCredentials),e=new kG(this.vI,zw.Hd),u=new TG(this.vI,r),s=new CX(n.Cht,n.Rht,n.n3,n.Dht),o=function(t,n,i,r,e){return new OG(n,t,i,r,e)}(this.vI,s,n,t.hg,i),a=new FX,c=new RG(function(t,n){return new SG([new EG(n),new IG(t)])}(u,s),a,t);return this.Vpt(t,n,c,a,e,o,i)},t}());function LG(t){var n,i={get id(){return t.hg},get status(){return t.Nd},get source(){return t.cD},get parameters(){return t.Qf},get duration(){return t.Sm},get cached(){return t.Wpt.qN()},get secondsCached(){return t.qpt},get percentageCached(){return t.Gpt},get bytes(){return t.jpt},get bytesCached(){return t.Ypt},get license(){return t.wx.y_},start:function(){t.CD()},pause:function(){t.yy()},remove:function(){t.Nf()},addEventListener:function(t,i){n.js(t,i)},removeEventListener:function(t,i){n.Ks(t,i)}};return n=new lC(t,["dlt","Xdt"],i),i}yr(),zt(),yr(),zt(),kr(),yr(),zt(),yr(),zt(),yr(),zt(),Or();var MG=function(){function t(t,n,i){this.upt=t,this.xht=n,this.vpt=i}var n=t.prototype;return n.Qpt=function(){var t=this;return ta((function(){return ia(this,(function(n){switch(n.label){case 0:return[4,t.xht.Pht(ta((function(n){return ia(this,(function(i){switch(i.label){case 0:return[4,t.Zpt(n)];case 1:return i.sent(),[4,t.Kpt(n)];case 2:return i.sent(),[4,t.Jpt(n)];case 3:return i.sent(),[4,t.$pt(n)];case 4:return i.sent(),[2]}}))})))];case 1:return n.sent(),[2]}}))}))()},n.Zpt=function(t){var n=this;return ta((function(){var i,r;return ia(this,(function(e){switch(e.label){case 0:return i=t.Nht,r=n.upt.hg,[4,i.Nf(r)];case 1:return e.sent(),[2]}}))}))()},n.Kpt=function(t){var n=this;return ta((function(){var i,r,e,u,s,o,a;return ia(this,(function(c){switch(c.label){case 0:return i=t.Rht,r=t.n3,hy(e=n.upt.cD.sources[0])?(u=IX(e.src),[4,i.Sht(u,"manifestURL")]):[2];case 1:s=c.sent().filter((function(t){return lc(t.references,n.upt.hg)})),o=0,c.label=2;case 2:return o<s.length?(hc((a=s[o]).references,n.upt.hg),0!==a.references.length?[3,5]:[4,i.Nf(a.key)]):[3,8];case 3:return c.sent(),[4,r.Nf(a.key)];case 4:return c.sent(),[3,7];case 5:return[4,i.pht(a)];case 6:c.sent(),c.label=7;case 7:return o++,[3,2];case 8:return[2]}}))}))()},n.Jpt=function(t){var n=this;return ta((function(){var i,r,e,u,s;return ia(this,(function(o){switch(o.label){case 0:return i=t.Cht,r=n.tAt(),[4,i.mht(r)];case 1:e=o.sent().filter((function(t){return lc(t.references,n.upt.hg)})),u=0,o.label=2;case 2:return u<e.length?(hc((s=e[u]).references,n.upt.hg),0!==s.references.length?[3,4]:[4,i.Nf(s.key)]):[3,7];case 3:return o.sent(),[3,6];case 4:return[4,i.pht(s)];case 5:o.sent(),o.label=6;case 6:return u++,[3,2];case 7:return[2]}}))}))()},n.tAt=function(){if(!this.vpt)return[];var t=this.upt.cD.sources[0];if(!hy(t))return[];var n=IX(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,r=t.Tlt;i<r.length;i++)for(var e=0,u=r[i].Nlt;e<u.length;e++)for(var s=0,o=u[e].RT;s<o.length;s++)for(var a=0,c=o[s].yg;a<c.length;a++){var f=c[a];f.jlt&&n.push(f.jlt)}return function(t){return t.reduce((function(t,n){return t.indexOf(n)<0&&t.push(n),t}),[])}(n)}(this.vpt).map((function(t){return{src:t}})).map((function(t){return IX(t.src)}));return[n].concat(Nr(i))},n.$pt=function(t){var n=this;return ta((function(){var i,r,e,u;return ia(this,(function(s){switch(s.label){case 0:return[4,(i=t.Dht).bht()];case 1:r=s.sent().filter((function(t){return lc(t.references,n.upt.hg)})),e=0,s.label=2;case 2:return e<r.length?(hc((u=r[e]).references,n.upt.hg),0!==u.references.length?[3,4]:[4,i.Nf(u.key)]):[3,7];case 3:return s.sent(),n.nAt(u),[3,6];case 4:return[4,i.pht(u)];case 5:s.sent(),s.label=6;case 6:return e++,[3,2];case 7:return[2]}}))}))()},n.nAt=function(t){},t}(),FG=new(function(){function t(){}return t.prototype.OJ=function(t,n,i){return new MG(t,n,i)},t}());yr(),zt(),kr(),yr(),zt();var UG=function(){function t(t,n){this.gw=t,this.iAt=n}var n=t.prototype;return n.rAt=function(t){this.eAt(t)},n.eAt=function(t){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.iAt.Tpt(t)];case 1:return i.sent(),[3,3];case 2:return i.sent(),n.gw.rlt(oV.ERROR),[3,3];case 3:return[2]}}))}))()},Ar(t,[{key:"y_",get:function(){return this.m_||(this.m_=function(t){return{renew:function(n){t.rAt(n)}}}(this)),this.m_}}]),t}(),HG=function(t){function n(n,i,r,e,u,o){var a;(a=t.call(this)||this).uAt=new Nc,a.evictOnLoading=function(){a.Ks("Xdt",a.evictOnLoading),a.sAt()},a.gf=n,a.zst=i,a.oAt=r,a.xht=e,a.iAt=u.OJ($a(a),a.xht,o),a.aAt=new UG($a(a),a.iAt),a.Jdt=1===a.iAt.dpt.Alt?oV.DONE:oV.IDLE,a.iAt.js("dlt",(function(t){a.Ws(t),1===a.Gpt&&a.rlt(oV.DONE)}));var c=new Date,f=a.oAt.expirationDate.getTime()-c.getTime();return function(t){return t<2147483647}(f)&&s((function(){return a.sAt()}),f),a}zr(n,t);var i=n.prototype;return i.rlt=function(t){this.Jdt!==t&&(this.Jdt=t,this.qs(new aV))},i.CD=function(){this.Jdt===oV.EVICTED||this.Jdt===oV.DONE||this.cAt()},i.cAt=function(){var t=this;return ta((function(){var n;return ia(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),t.rlt(oV.LOADING),n=new Nc,t.uAt=n,[4,t.iAt.lpt(n.Hs)];case 1:return i.sent(),t.rlt(oV.DONE),[3,4];case 2:return Pc(i.sent())?t.rlt(oV.IDLE):t.rlt(oV.ERROR),[3,4];case 3:return t.uAt.Ds(),[7];case 4:return[2]}}))}))()},i.yy=function(){this.uAt.Ms()},i.Nf=function(){this.Nd===oV.LOADING?(this.js("Xdt",this.evictOnLoading),this.yy()):this.sAt()},i.sAt=function(){var t=this;return ta((function(){var n;return ia(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,t.iAt.bpt()];case 1:return n=i.sent(),[4,FG.OJ(t,t.xht,n).Qpt()];case 2:return i.sent(),t.iAt.dpt=AV.klt,t.rlt(oV.EVICTED),[3,4];case 3:return i.sent(),t.rlt(oV.ERROR),[3,4];case 4:return[2]}}))}))()},Ar(n,[{key:"olt",get:function(){return this.iAt.olt}},{key:"y_",get:function(){return this.m_||(this.m_=LG(this)),this.m_}},{key:"hg",get:function(){return this.gf}},{key:"wx",get:function(){return this.aAt}},{key:"Nd",get:function(){return this.Jdt}},{key:"cD",get:function(){return this.zst}},{key:"Qf",get:function(){return this.oAt}},{key:"Sm",get:function(){return this.iAt.dpt.oP}},{key:"Wpt",get:function(){return this.iAt.dpt.ylt}},{key:"qpt",get:function(){return this.iAt.dpt.glt}},{key:"Gpt",get:function(){return this.iAt.dpt.Alt}},{key:"jpt",get:function(){return this.iAt.Npt}},{key:"Ypt",get:function(){return this.iAt.dpt.plt}}]),n}(Hm);var XG=function(){function t(t,n){this.xht=t,this.fAt=n}var n=t.prototype;return n.clt=function(t,n,i){var r=oR();return this.ult(r,t,n,i)},n.ult=function(t,n,i,r){return new HG(t,n,i,this.xht,this.fAt,r)},t}();yr(),zt();function zG(t){if(!t)throw new f("Unexpected - The cache parameters are undefined");var n=function(t){if(ce(t)&&!Fa(t,"%"))return l(t);return t}(t.amount);!function(t){if(function(t){return ce(t)&&Fa(t,"%")}(t)){var n=w(t);if(_(n)||n<0||n>100)throw new f("The amount as percentage must be between 0 and 100 percent.")}if(!ce(t)&&_(t))throw new f("The amount must be a number or a string")}(n);var i=function(t){if(!t)return function(){var t=new Date;return t.setMinutes(t.getMinutes()+30),t}();return t}(t.expirationDate);!function(t){if(t&&!function(t){return!t||ve(t)&&t>new Date}(t))throw new f("Invalid expiration date for the cache parameters")}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);!function(t){if(_(t)||t<0)throw new f("The bandwidth must be between zero and infinity.")}(r);return{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:function(t){if(!t)return 5;if(_(t))throw new f("The amount must be a number");return t}(t.numberOfParallelTasks),preferredTrackSelection:{audioTrackSelection:[],textTrackSelection:[]}}}yr(),zt();var VG=function(t){function n(n,i){var r;return(r=t.call(this)||this).hAt=n,r.I$=i,r.hAt.js("Xdt",r.Ws),r}return zr(n,t),n.prototype.vAt=function(t,n,i){var r,e;if(void 0===i&&(i="persistent"),!t)throw new f("Unexpected - The source description is undefined");if(r=RI(t),e=zG(n),wI(r))throw new f("Invalid source description");return this.hAt.ult(r,e).y_},Ar(n,[{key:"y_",get:function(){return this.m_||(this.m_=function(t){var n,i={get status(){return t.Nd},get tasks(){return t.vlt},get network(){return t.M$.y_},createTask:function(n,i){return t.vAt(n,i)},addEventListener:function(t,i){n.js(t,i)},removeEventListener:function(t,i){n.Ks(t,i)}};return n=new wC(t,i),i}(this)),this.m_}},{key:"Nd",get:function(){return this.hAt.Nd}},{key:"vlt",get:function(){return this.hAt.vlt.y_}},{key:"M$",get:function(){return this.I$}}]),n}(Hm);(function(){var t=new JR(Pr.d_,!1),n=WX.$r,i=new xG(t),r=new XG(n,i),e=new nC(t),u=new gV(n.Nht,r,"persistent");return new VG(u,e)})().y_;yr(),zt(),kr(),yr(),zt(),kr();var WG=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).nc=0,u.dAt=gE.uP(),u.lAt=0,u.wAt=0,u.gf=n,u.Jdt=oV.IDLE,u.zst=i,u.oAt=r,u.hAt=e,u}zr(n,t);var i=n.prototype;return i.CD=function(){this.hAt.startCachingTask(this)},i.Nf=function(){this.hAt.removeCachingTask(this)},Ar(n,[{key:"y_",get:function(){return this.m_||(this.m_=LG(this)),this.m_}},{key:"hg",get:function(){return this.gf}},{key:"Nd",get:function(){return this.Jdt},set:function(t){this.Jdt!==t&&(this.Jdt=t,this.qs(new aV))}},{key:"cD",get:function(){return this.zst}},{key:"Qf",get:function(){return this.oAt}},{key:"Sm",get:function(){return this.nc},set:function(t){this.nc=t}},{key:"Wpt",get:function(){return this.dAt},set:function(t){this.dAt=t}},{key:"qpt",get:function(){return this.lAt},set:function(t){this.lAt=t}},{key:"Gpt",get:function(){return this.wAt},set:function(t){this.wAt=t,this.qs(new pV)}}]),n}(Xm);yr(),zt();function qG(t){var n,i;if(!t)throw new f("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+30),n&&!function(t){return!t||ve(t)&&t>new Date}(n))throw new f("Invalid expiration date for the cache parameters");return{expirationDate:n,allowsCellularAccess:null==(i=t.allowsCellularAccess)||i}}var GG=function(t){function n(){var n;return(n=t.call(this)||this).Jdt=dV.UNINITIALISED,n.Sh=new _V,n._At=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.Nd=oV.EVICTED,i.Gpt=0,i.qpt=0,i.Sm=0,i.Wpt=gE.uP(),n.Sh.Nf(i))}},n.gAt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var r=t.detail.status;r&&(i.Nd=r);var e=t.detail.percentage;e&&(i.Gpt=e);var u=t.detail.duration;u&&(i.Sm=u);var s=t.detail.seconds;s&&(i.qpt=s);var o=t.detail.cached;if(o){for(var a=[],c=0;c<o.length;c++){var f=o[c];a.push(f.start,f.end)}i.Wpt=new gE(a)}}}},n.mAt=function(t){if(t.detail){var i=RI(JSON.parse(t.detail.source));if(!n.yAt(i)){var r,e={},u=t.detail.expirationDate;u&&(e={expirationDate:new Date(u)}),e=na({},e,{allowsCellularAccess:null==(r=t.detail.allowsCellularAccess)||r});var s=t.detail.uuid;n.ult(i,qG(e),s)}}},n.pAt=function(t){if(t.detail){var i,r={},e=t.detail.expirationDate;e&&(r={expirationDate:new Date(e)}),r=na({},r,{allowsCellularAccess:null==(i=t.detail.allowsCellularAccess)||i});var u=JSON.parse(t.detail.source),s=t.detail.uuid,o=n.ult(RI(u),qG(r),s);o.Nd=t.detail.status,o.Gpt=t.detail.percentage,o.Sm=t.detail.duration,o.qpt=t.detail.seconds;for(var a=t.detail.cached,c=[],f=0;f<a.length;f++){var h=a[f];c.push(h.start,h.end)}o.Wpt=new gE(c)}},n.AAt=function(t){t.detail&&n.rlt(t.detail.status)},n.Evt=new iV,n.jvt=new Pz,Iz().cache={sdkEventBus:n.jvt},n.Ldt(),n}zr(n,t);var i=n.prototype;return i.rlt=function(t){this.Jdt!==t&&(this.Jdt=t,this.qs(new aV))},i.ult=function(t,n,i){void 0===i&&(i=void 0);var r=new WG(i||oR(),t,n,this);return this.Sh.sp(r),i||this.Evt.pJ("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:r.hg}),r},i.findTaskWithId=function(t){for(var n=0,i=this.Sh.Vdt;n<i.length;n++){var r=i[n];if(r.hg===t)return r}},i.yAt=function(t){for(var n=YG(t.sources),i=0,r=this.Sh.Vdt;i<r.length;i++){if(YG(r[i].cD.sources).src===n.src)return!0}return!1},i.Ldt=function(){this.jvt.addEventListener("deleteTask",this._At),this.jvt.addEventListener("updateValues",this.gAt),this.jvt.addEventListener("newTask",this.mAt),this.jvt.addEventListener("restoreTask",this.pAt),this.jvt.addEventListener("setCacheStatus",this.AAt)},i.startCachingTask=function(t){this.Evt.pJ("THEOplayerCacheStartCachingTask",{id:t.hg})},i.removeCachingTask=function(t){this.Evt.pJ("THEOplayerCacheRemoveCachingTask",{id:t.hg})},Ar(n,[{key:"Nd",get:function(){return this.Jdt}},{key:"vlt",get:function(){return this.Sh}}]),n}(Gc),jG=function(t){function n(n){var i;return(i=t.call(this,n)||this).kAt=n,i.kAt.js("Xdt",i.Ws),i}return zr(n,t),n.prototype.vAt=function(t,n){var i,r;if(!t)throw new f("Unexpected - The source description is undefined");if(i=RI(t),r=qG(n),wI(i))throw new f("Invalid source description");if(!YG(i.sources))throw new f("The provided sources can't be cached");return this.kAt.ult(i,r).y_},n}(VG);function YG(t){for(var n=0;n<t.length;n++){var i=t[n];if(sy(i.type))return i}}var QG,ZG,KG,JG=function(){var t=new GG;return new jG(t)}().y_;yr(),zt(),kr(),yr(),zt(),function(t){t.bAt="any",t.TAt="natural",t.SAt="landscape",t.EAt="portrait",t.IAt="portrait-primary",t.RAt="portrait-secondary",t.CAt="landscape-primary",t.NAt="landscape-secondary"}(QG||(QG={})),yr(),zt(),function(t){t.IAt="portrait-primary",t.RAt="portrait-secondary",t.CAt="landscape-primary",t.NAt="landscape-secondary"}(ZG||(ZG={}));var $G,tj,nj=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Evt=new iV,n.DAt=QG.TAt,n.PAt=ZG.IAt,n.BAt=ZG.IAt,n.OAt=ZG.IAt,n}zr(n,t);var r=n.prototype;return r.lock=function(t){var n=this;return new i.Promise((function(i,r){n.DAt=t,n.Evt.pJ("THEOplayerOrientationLock",t),n.xAt(),i()}))},r.unlock=function(){var t=this;return new i.Promise((function(n,i){t.DAt=QG.TAt,t.Evt.pJ("THEOplayerOrientationUnlock"),t.type=t.BAt,t.xAt(),n()}))},r.xAt=function(){var t=this.OAt,n=this.type;t!==n&&(this.OAt=n,this.qs(new Qc("change")))},r.addEventListener=function(t,n){this.js(t,n)},r.removeEventListener=function(t,n){this.Ks(t,n)},n.LAt=function(t){switch(t){case QG.IAt:return[ZG.IAt];case QG.RAt:return[ZG.RAt];case QG.EAt:return[ZG.IAt,ZG.RAt];case QG.CAt:return[ZG.CAt];case QG.NAt:return[ZG.NAt];case QG.SAt:return[ZG.CAt,ZG.NAt];case QG.TAt:return[ZG.IAt,ZG.CAt,ZG.NAt];case QG.bAt:return[ZG.IAt,ZG.RAt,ZG.CAt,ZG.NAt]}},n.MAt=function(t,i){return n.LAt(i).indexOf(t)>=0},Ar(n,[{key:"type",get:function(){return this.PAt},set:function(t){this.BAt=t,n.MAt(t,this.DAt)?(this.PAt=t,this.xAt()):(t===ZG.CAt&&this.DAt===QG.NAt&&(this.PAt=ZG.NAt,this.xAt()),t===ZG.NAt&&this.DAt===QG.CAt&&(this.PAt=ZG.CAt,this.xAt()))}},{key:"angle",get:function(){switch(this.type){case ZG.CAt:return-90;case ZG.NAt:return 90;case ZG.IAt:return 0;case ZG.RAt:return 180;default:return 0}}}]),n}(Xm);nj.$r=new nj,null!=(KG=i.screen).orientation||(KG.orientation=nj.$r),yr(),zt(),u&&-1===u.userAgent.indexOf("OS 9")&&v.defineProperty(i,"orientation",{get:function(){return i.screen.orientation.angle}}),i.screen.orientation.addEventListener("change",(function(){i.dispatchEvent(new CustomEvent("orientationchange"))})),yr(),zt(),yr(),zt(),function(t){t.FAt="unavailable",t.UAt="available",t.HAt="presenting"}($G||($G={})),YO((function(t){return function(t){function n(n,i){return t.call(this,n,i)}return zr(n,t),n.prototype.by=function(n){t.prototype.by.call(this,n);var i=this.y_;if(this.y_.vr&&n&&n.vr){i.vr.addEventListener("statechange",(function(){i.vr.state===$G.HAt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(QG.NAt).catch((function(t){console.error("screen.orientation.lock() failed due to",t.message)})):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()}))}},n}(t)}),VO.U$),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),function(t){t.l_="addtrack",t.__="removetrack",t.P_="change",t.F_="update"}(tj||(tj={}));var ij=function(t,n,i){this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i,this.type=tj.P_};yr(),zt();var rj=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=tj.l_};yr(),zt();var ej=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=tj.__};yr(),zt();var uj=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=tj.F_},sj=function(){function t(t,n,i){var r=this;this.XAt=function(t){var n=new ij(r.type,t.track,r.mediaTracks);r.messageDispatcher.zAt(n)},this.VAt=function(t){var n=new rj(r.type,t.track);r.messageDispatcher.zAt(n),t.track.addEventListener("update",r.WAt)},this.qAt=function(t){var n=new ej(r.type,t.track);r.messageDispatcher.zAt(n)},this.WAt=function(t){var n=new uj(r.type,t.track);r.messageDispatcher.zAt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.Ldt()}return t.prototype.Ldt=function(){this.mediaTracks.addEventListener("change",this.XAt),this.mediaTracks.addEventListener("addtrack",this.VAt),this.mediaTracks.addEventListener("removetrack",this.qAt)},t}();yr(),zt();var oj=function(){function t(){this.GAt=new iV}return t.prototype.zAt=function(t){this.GAt.pJ(t.type,$X(t))},t}();KO((function(t){if(t.y_.audioTracks){var n=new oj;new sj("audio",t.y_.audioTracks,n)}if(t.y_.videoTracks){var i=new oj;new sj("video",t.y_.videoTracks,i)}})),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt();var aj,cj="nativePromiseCallback",fj=function(t){function n(n){var i;return(i=t.call(this,cj)||this).detail=n,i}return zr(n,t),n}(Qc);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(aj||(aj={}));var hj=function(t){function n(){return t.apply(this,arguments)}zr(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.qs(new fj(n))},i.addEventListener=function(t,n){this.js(t,n)},i.removeEventListener=function(t,n){this.Ks(t,n)},n}(Pz),vj=C(xr()),dj=function(){function t(){var t=this;this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new f("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case aj.RESOLVE:i.qo(n.detail.data);break;case aj.REJECT:i.Go(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new hj;Iz().nativePromise={sdkEventBus:n},n.addEventListener(cj,this.handleNativePromiseEvent)}return t.prototype.jAt=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=na({},n,{promiseId:r}),u=new kh;return this.promisesMap[r]=u,null==(i=this.GAt)||i.pJ(n.type,(0,vj.default)(e)),u.Wo},t}();dj.messageIdTracker=-1;var lj=function(t){function n(){var n;return(n=t.call(this)||this).GAt=new iV,n}return zr(n,t),n}(dj);yr(),zt(),yr(),zt();var wj,_j=function(){function t(t){this.playerID=t}return t.prototype.pJ=function(t,n){if(self.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof self.THEOplayerBridge[this.playerID].postMessageToSwift){var i={body:n,name:t};self.THEOplayerBridge[this.playerID].postMessageToSwift(i)}},t}(),gj=function(t){function n(n){var i;return(i=t.call(this)||this).GAt=new _j(n),i}return zr(n,t),n}(dj);yr(),zt(),yr(),zt(),function(t){t.l_="TextTrackListAddTrack",t.__="TextTrackListRemoveTrack",t.P_="TextTrackListChange"}(wj||(wj={}));var mj=function(t){this.textTrack=t,this.type=wj.l_};yr(),zt();var yj=function(t){this.textTrack=t,this.type=wj.__};yr(),zt();var pj,Aj=function(t){this.textTrack=t,this.type=wj.P_};yr(),zt(),yr(),zt(),yr(),zt(),function(t){t.k_="TextTrackAddCue",t.T_="TextTrackRemoveCue",t.E_="TextTrackEnterCue",t.R_="TextTrackExitCue",t.N_="TextTrackCueChange"}(pj||(pj={}));var kj=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=pj.k_};yr(),zt();var bj=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=pj.T_};yr(),zt();var Tj=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=pj.E_};yr(),zt();var Sj=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=pj.R_};yr(),zt();var Ej,Ij=function(t){this.textTrackUid=t,this.type=pj.N_};yr(),zt(),yr(),zt(),yr(),zt(),function(t){t.yp="TextTrackCueEnter",t.Ap="TextTrackCueExit",t.F_="TextTrackCueUpdate"}(Ej||(Ej={}));var Rj=function(t){this.textTrackCue=t,this.type=Ej.yp};yr(),zt();var Cj=function(t){this.textTrackCue=t,this.type=Ej.Ap};yr(),zt();var Nj=function(t){this.textTrackCue=t,this.type=Ej.F_},Dj=function(){function t(t){var n=this;this.YAt=function(t){var i=Pj(t.cue),r=new Rj(i);n.messageDispatcher.jAt(r).then()},this.QAt=function(t){var i=Pj(t.cue),r=new Cj(i);n.messageDispatcher.jAt(r).then()},this.ZAt=function(t){var i=Pj(t.cue),r=new Nj(i);n.messageDispatcher.jAt(r).then()},this.messageDispatcher=t}var n=t.prototype;return n.Ldt=function(t){t.addEventListener("enter",this.YAt),t.addEventListener("exit",this.QAt),t.addEventListener("update",this.ZAt)},n.$s=function(t){t.removeEventListener("enter",this.YAt),t.removeEventListener("exit",this.QAt),t.removeEventListener("update",this.ZAt)},t}();function Pj(t){var n=mz(t,t.track.type);return delete n.track,n}var Bj=function(){function t(t,n){var i=this;this.KAt=function(t){var n,r=Pj(t.cue),e=new kj(r,t.cue.track.uid);i.messageDispatcher.jAt(e).then(),null==(n=i.textTrackCueBridge)||n.Ldt(t.cue)},this.JAt=function(t){var n,r=Pj(t.cue),e=new bj(r,t.cue.track.uid);i.messageDispatcher.jAt(e).then(),null==(n=i.textTrackCueBridge)||n.$s(t.cue)},this.YAt=function(t){var n=Pj(t.cue),r=new Tj(n,t.cue.track.uid);i.messageDispatcher.jAt(r).then()},this.QAt=function(t){var n=Pj(t.cue),r=new Sj(n,t.cue.track.uid);i.messageDispatcher.jAt(r).then()},this.$At=function(t){var n=new Ij(t.track.uid);i.messageDispatcher.jAt(n).then()},this.messageDispatcher=t;var r=this.initMessageDispatcher(n);r&&(this.textTrackCueBridge=new Dj(r))}var n=t.prototype;return n.Ldt=function(t){t.addEventListener("addcue",this.KAt),t.addEventListener("removecue",this.JAt),t.addEventListener("entercue",this.YAt),t.addEventListener("exitcue",this.QAt),t.addEventListener("cuechange",this.$At)},n.$s=function(t){t.removeEventListener("addcue",this.KAt),t.removeEventListener("removecue",this.JAt),t.removeEventListener("entercue",this.YAt),t.removeEventListener("exitcue",this.QAt),t.removeEventListener("cuechange",this.$At)},n.initMessageDispatcher=function(t){return te.Qr?new lj:te.Zr&&void 0!==t?new gj(t):void 0},t}(),Oj=function(){function t(t,n,i){var r=this;this.VAt=function(t){var n,i=new mj(t.track);r.messageDispatcher.jAt(i).then(),null==(n=r.textTrackBridge)||n.Ldt(t.track)},this.qAt=function(t){var n,i=new yj(t.track);r.messageDispatcher.jAt(i).then(),null==(n=r.textTrackBridge)||n.$s(t.track)},this.tkt=function(t){var n=new Aj(t.track);r.messageDispatcher.jAt(n).then()},this.nkt=function(t){var n=t.detail.uid,i=t.detail.mode;r.textTracks.filter((function(t){return t.uid===n}))[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var e=this.ikt(i);e&&(this.textTrackBridge=new Bj(e,i)),this.Ldt(),this.sdkEventBus=new Pz,Iz().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.nkt)}var n=t.prototype;return n.Ldt=function(){this.textTracks.addEventListener("addtrack",this.VAt),this.textTracks.addEventListener("removetrack",this.qAt),this.textTracks.addEventListener("change",this.tkt)},n.ikt=function(t){return te.Qr?new lj:te.Zr&&void 0!==t?new gj(t):void 0},t}();KO((function(t){if(t.y_.textTracks){var n=new lj;new Oj(t.y_.textTracks,n)}})),yr(),zt(),kr(),yr(),zt(),yr(),zt();var xj,Lj,Mj=function(t){function n(){return t.apply(this,arguments)}return zr(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case"registerContentProtectionIntegration":var i={integrationId:n.integrationId,keySystem:n.keySystem};this.qs(new Fj(i));break;default:0}},n}(Pz),Fj=function(t){function n(n){var i;return(i=t.call(this,"registerContentProtectionIntegration")||this).detail=n,i}return zr(n,t),n}(Qc);!function(t){t.rkt="registerContentProtectionIntegration"}(xj||(xj={})),yr(),zt(),yr(),zt(),function(t){t.ekt="certifiateRequest",t.ukt="certifiateResponse",t.skt="licenseRequest",t.okt="licenseResponse",t.akt="extractFairplayContentId",t.ckt="buildContentProtection",t.fkt="registerContentProtectionCallback"}(Lj||(Lj={}));var Uj,Hj=function(t,n){this.value=t,this.integrationId=n,this.type=Lj.fkt};yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),function(t){t.GALLERY="gallery",t.OVERLAY="overlay",t.SPOTLIGHT="spotlight"}(Uj||(Uj={})),yr(),zt();var Xj=function(t,n){this.value=t,this.integrationId=n,this.type=Lj.ckt};yr(),zt();var zj=function(t,n){this.value=t,this.integrationId=n,this.type=Lj.ekt};yr(),zt();var Vj=function(t,n){this.value=t,this.integrationId=n,this.type=Lj.ukt};yr(),zt();var Wj=function(t,n){this.value=t,this.integrationId=n,this.type=Lj.akt};yr(),zt();var qj=function(t,n){this.value=t,this.integrationId=n,this.type=Lj.skt};yr(),zt();var Gj=function(t,n){this.value=t,this.integrationId=n,this.type=Lj.okt},jj=function(){function t(t,n){this.hkt=t,this.pR=n}var n=t.prototype;return n.onCertificateRequest=function(t){var n=this;return ta((function(){var i,r,e,u,s;return ia(this,(function(o){switch(o.label){case 0:i=n.toCertificateRequestDTO(t),r=new zj(i,n.pR),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n.hkt.jAt(r)];case 2:if(e=o.sent()){if(u=JSON.parse(e),n.vkt(u))return[2,na({},u)];if(n.dkt(u))return[2,new g(u)]}throw new vp(Hl.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 3:throw s=o.sent(),new vp(Hl.CONTENT_PROTECTION_CERTIFICATE_ERROR,s);case 4:return[2]}}))}))()},n.onCertificateResponse=function(t){var n=this;return ta((function(){var i,r,e,u,s;return ia(this,(function(o){switch(o.label){case 0:return i=n.toCertificateRequestDTO(t.request),r={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},e=new Vj(r,n.pR),[4,n.hkt.jAt(e)];case 1:if(u=o.sent())return s=JSON.parse(u),[2,new g(s)];throw new vp(Hl.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse")}}))}))()},n.onLicenseRequest=function(t){var n=this;return ta((function(){var i,r,e,u,s,o;return ia(this,(function(a){switch(a.label){case 0:i=n.toCertificateRequestDTO(t),r={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},e=new qj(r,n.pR),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.hkt.jAt(e)];case 2:if(u=a.sent()){if(s=JSON.parse(u),n.vkt(s))return[2,{url:s.url,method:s.method,headers:s.headers,body:s.body?new g(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl}];if(n.dkt(s))return[2,new g(s)]}throw new vp(Hl.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 3:throw o=a.sent(),new vp(Hl.CONTENT_PROTECTION_CERTIFICATE_ERROR,o);case 4:return[2]}}))}))()},n.onLicenseResponse=function(t){var n=this;return ta((function(){var i,r,e,u,s,o;return ia(this,(function(a){switch(a.label){case 0:return i=n.toCertificateRequestDTO(t.request),r=na({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),e={request:r,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},u=new Gj(e,n.pR),[4,n.hkt.jAt(u)];case 1:if(s=a.sent())return o=JSON.parse(s),[2,new g(o)];throw new vp(Hl.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse")}}))}))()},n.extractFairplayContentId=function(t){var n=this;return ta((function(){var i,r;return ia(this,(function(e){switch(e.label){case 0:return i=new Wj(t,n.pR),[4,n.hkt.jAt(i)];case 1:return(r=e.sent())?[2,r]:[2,j.reject(new vp(Hl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId"))]}}))}))()},n.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},n.vkt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},n.dkt=function(t){return!!new g(t)},t}(),Yj=function(){function t(t){this.hkt=t}return t.prototype.build=function(t){if(!t.integration)throw new f("integrationId is undefined");var n=new jj(this.hkt,t.integration),i=new Xj({drmConfiguration:t},t.integration);return this.hkt.jAt(i),n},t}(),Qj=function(t){function n(){var n;return(n=t.call(this)||this).hkt=new lj,n}return zr(n,t),Ar(n,[{key:"messageDispatcher",get:function(){return this.hkt}}]),n}((function(){var t=this;this.lkt=function(n){var i=new Yj(t.messageDispatcher),r=n.detail,e=r.integrationId,u=r.keySystem,s={state:jb.IR.kR(e,u,i)};t.messageDispatcher.jAt(new Hj(s,e))},this.jvt=new Mj,Iz().contentProtectionIntegration={sdkEventBus:this.jvt},this.jvt.addEventListener(xj.rkt,this.lkt)}));KO((function(t){new Qj})),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),kr(),yr(),zt();var Zj=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return zr(n,t),n}(Qc);yr(),zt();var Kj,Jj=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).wkt=function(){},r._kt(),r}zr(n,t);var i=n.prototype;return i.gkt=function(){this.pD&&this.pD.Ks(vw.ev,this.handleAirplayChangedEvent),this.pD=this.QL,this.pD.js(vw.ev,this.handleAirplayChangedEvent)},i.mkt=function(){var t=this;return ta((function(){return ia(this,(function(n){return t.pD?(t.ykt(KE.CONNECTED),[2]):[2]}))}))()},i.pkt=function(){this.ykt(KE.AVAILABLE)},i.Sy=function(){Pr.Bu.Ve&&(this.Akt.Iy(),this.kkt.Ms(),this.kkt=new Nc,Xc(this.bkt(this.kkt.Hs)))},n}(function(t){function n(n,i){var r;return(r=t.call(this)||this).m_=void 0,r.l=KE.UNAVAILABLE,r.kkt=new Nc,r.handleAirplayChangedEvent=function(){r.pD&&r.pD.Wy?r.mkt():r.kZ===KE.CONNECTED&&r.pkt()},r.Akt=n,r.QL=i,r}zr(n,t);var i=n.prototype;return i._kt=function(){this.gkt(),this.Akt.js("sourcechange",this.wkt),Pr.Bu.Ve&&this.ykt(KE.AVAILABLE)},i.preloadPlayer=function(t){if(Bc(t),this.pD.Mg<ty.hm){var n=this.pD.oo("loadedmetadata",t);return this.pD.tp=fE.Lb,n}return j.resolve()},i.ykt=function(t){t!==this.l&&(this.l=t,this.qs(new Zj(this.l)))},i.bkt=function(t){var n=this;return ta((function(){return ia(this,(function(i){switch(i.label){case 0:return[4,n.preloadPlayer(t)];case 1:return i.sent(),n.QL.Sy(),[2]}}))}))()},i.Ey=function(){Pr.Bu.Ve&&this.pD.Ey()},i.Bh=function(){this.Zs(),this.Akt.Ks("sourcechange",this.wkt),this.kkt.Ms()},Ar(n,[{key:"RF",get:function(){return this.kZ===KE.CONNECTED}},{key:"kZ",get:function(){return this.l}},{key:"y_",get:function(){return this.m_||(this.m_=function(t){return{get casting(){return t.RF},get state(){return t.kZ},start:function(){t.Sy()},stop:function(){t.Ey()},addEventListener:function(n,i){var r=km(n,pm);t.js(r,i)},removeEventListener:function(n,i){var r=km(n,pm);t.Ks(r,i)}}}(this)),this.m_}}]),n}(Gc));yr(),zt(),YO((function(t){return function(t){function n(){return t.apply(this,arguments)}return zr(n,t),n.prototype.p_=function(){var n=this.L$.y_;return hm(t.prototype.p_.call(this),{get cast(){return n}})},n}(t)}),VO.F$),YO((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Tkt=new Jj($a(r),r.AF),r.L$.CF(r.Tkt),r.js("currentsourcechange",(function(){r.Tkt.gkt()})),r}zr(n,t);var i=n.prototype;return i.p_=function(){var n=this,i=t.prototype.p_.call(this);return hm(i.cast,{get airplay(){return n.Tkt.y_}}),i},i.Bh=function(){this.Tkt.Bh(),t.prototype.Bh.call(this)},n}(t)}),VO.F$),yr(),zt(),yr(),zt(),yr(),zt(),yr(),zt(),function(t){t.Skt="airplaystatechange"}(Kj||(Kj={}));var $j=function(t){this.state=t,this.type=Kj.Skt},tY=function(t){function n(n){var i;return(i=t.call(this)||this).Ekt=function(t){var n=new $j(t.state);i.zAt(n)},i.Ikt=n,i.Ldt(n),i}return zr(n,t),n.prototype.Ldt=function(t){t.addEventListener("statechange",this.Ekt)},n}(oj);return KO((function(t){var n;(null==(n=t.y_.cast)?void 0:n.airplay)&&new tY(t.y_.cast.airplay)})),yr(),zt(),n.exports}));