/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2023.2.2 (5.1.0)
 Created: 2023-05-04T17:12:58.506Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e,r=t.window,s=t.document,u=t.location,o=t.navigator,a=t.setTimeout,h=t.clearTimeout,c=t.setInterval,f=t.clearInterval,v=t.Error,l=t.TypeError,d=(t.SyntaxError,t.Object),w=t.Math,_=t.parseInt,g=t.parseFloat,m=t.isNaN,y=t.Uint8Array,k=t.Worker,p=(t.WorkerGlobalScope,t.XMLHttpRequest);function b(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function A(t,n,i){return n&&b(t.prototype,n),i&&b(t,i),d.defineProperty(t,"prototype",{writable:!1}),t}function T(t,n){return(T=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function S(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,T(t,n)}!function(t){t.l="web",t.g="android",t.I="android-tv",t.R="ios",t.N="tvos",t.U="chromecast"}(e||(e={}));var E=o?o.userAgent:"",I=E.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),R=E.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),D=E.match(/Android ([0-9\.]+)/i),N=E.match(/Windows NT ([0-9\.]+)/i),C=E.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),P=E.match(/Firefox\/([0-9\.]+)/i),B=E.match(/OPR\/(\d+\.\d+)/i),O=E.match(/Tizen ([0-9\.]+)/i),x=E.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),L=function(){function n(){this.F=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.V=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(E)||/(macintosh|mac(?=_powerpc)\s)/i.test(E),this.G=/Windows NT/i.test(E),this.Y=N?g(N[1]):0,this.j=/Android/i.test(E),this.Z=D?g(D[1]):0,this.K=/windows phone (8|8\.1)/i.test(E),this.J=/iPhone/i.test(E),this.nt=/iPad/i.test(E),this.ut=this.V&&this.F&&!this.nt,this.ot=/iPod/i.test(E),this.ct=/Mobile Safari/i.test(E),this.ft=/EOSSTB/i.test(E),this.vt=(this.J||this.nt||this.ut||this.ot)&&!this.K,this.dt=x?g(x[2]):0,this.wt=this.K||this.vt||this.j||this.ct,this._t=/CriOS/i.test(E),this.yt=Boolean(t.chrome&&/google/i.test(o.vendor))||this._t,this.kt=this.yt&&/Edg\//i.test(o.userAgent),this.bt=R?_(R[1],10):0,this.At=Boolean(t.chrome||/Chrome/i.test(E)||/CriOS/i.test(E)),this.Tt=I?_(I[1],10):0,this.St=/SMART-TV.*Tizen/i.test(E),this.Et=O?g(O[1]):0,this.It=/webos|web0s/i.test(E),this.Rt=/Edge\/\d+/i.test(E),this.Dt=/Trident/i.test(E),this.Nt=this.Dt&&!t.ActiveXObject&&"ActiveXObject"in t,this.Ct=/Vivaldi/i.test(E),this.Pt=/Firefox/i.test(E)&&!/Seamonkey/i.test(E),this.Bt=P?g(P[1]):0,this.Ot=/Safari/i.test(E)&&!/Chrome/i.test(E)&&!this.K&&!this.St,this.xt=C?g(C[2]):0,this.Lt=Boolean(B),this.Mt=B?g(B[1]):0,this.Ut=/CrKey/.test(E),this.Xt=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(E),this.Ht="ios"===e.I,this.Ft="ios"===e.g,this.zt=this.Ft||this.Ht,this.Vt="ios"===e.R,this.Wt="ios"===e.N,this.Gt="ios"===e.U}return A(n,[{key:"qt",get:function(){return this.F}},{key:"Yt",get:function(){return this.V}},{key:"jt",get:function(){return this.G}},{key:"Qt",get:function(){return this.Y}},{key:"Zt",get:function(){return this.j}},{key:"Kt",get:function(){return this.Z}},{key:"Jt",get:function(){return this.K}},{key:"$t",get:function(){return this.J}},{key:"in",get:function(){return this.nt}},{key:"un",get:function(){return this.ut}},{key:"hn",get:function(){return this.ot}},{key:"cn",get:function(){return this.vt}},{key:"fn",get:function(){return this.dt}},{key:"vn",get:function(){return this.ft}},{key:"dn",get:function(){return this.ct}},{key:"wn",get:function(){return this.wt}},{key:"_n",get:function(){return this._t}},{key:"yn",get:function(){return this.yt}},{key:"pn",get:function(){return this.Tt}},{key:"An",get:function(){return this.kt}},{key:"Tn",get:function(){return this.bt}},{key:"Sn",get:function(){return this.St}},{key:"En",get:function(){return this.Et}},{key:"In",get:function(){return this.It}},{key:"Rn",get:function(){return this.Rt}},{key:"Dn",get:function(){return this.Dt}},{key:"Nn",get:function(){return this.Nt}},{key:"Cn",get:function(){return this.Ct}},{key:"Pn",get:function(){return this.Pt}},{key:"Bn",get:function(){return this.Bt}},{key:"On",get:function(){return this.Ot}},{key:"xn",get:function(){return this.xt}},{key:"Ln",get:function(){return this.Lt}},{key:"Mn",get:function(){return this.Mt}},{key:"Un",get:function(){return this.Ut}},{key:"Xn",get:function(){return this.Xt}},{key:"Hn",get:function(){return!(!this.In&&!this.Sn)&&this.pn<=56}},{key:"Fn",get:function(){return this.Ht}},{key:"zn",get:function(){return this.Ft}},{key:"Vn",get:function(){return this.zt}},{key:"Wn",get:function(){return this.Vt}},{key:"Gn",get:function(){return this.Wt}},{key:"qn",get:function(){return this.Gt}},{key:"Yn",get:function(){return this.At}}]),n}();L.jn=new L;var M=L.jn,U={}.hasOwnProperty,X={}.toString;function H(t){return null!=t}function F(t){return void 0===t}var z=Array.isArray||function(t){return"[object Array]"===X.call(t)};function V(t){return W(t)&&U.call(t,"length")&&Z(t.length)}function W(t){return"object"==typeof t&&null!==t}function G(t){return W(t)&&t.constructor&&t.constructor===d}function q(t){return"string"==typeof t}function Y(t){return"boolean"==typeof t}function j(t){return Boolean(t)&&"function"==typeof t.then}function Q(t){return"[object Date]"===X.call(t)}function Z(t){return"number"==typeof t}var K=function(){},J=function(t){return t};function $(t,n,e){var r;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var a=this,h=e&&!r;void 0!==r&&i.Qn(r),r=i.Zn(function(){r=void 0,e||t.apply(a,u)},n),h&&t.apply(a,u)}}var tt=!(M.Dn&&!M.Nn),nt=t.console;function it(t){if(W(t))try{return JSON.stringify(t)}catch(t){}return t}function et(t){return t.map(it).join(" ")}function rt(t){var n=nt&&nt[t];return n?n.bind&&tt?n.bind(nt):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];nt[t](et(i))}:void 0}var st,ut=rt("log")||K,ot=rt("warn")||ut.bind(void 0,"WARNING:"),at=rt("error")||ut.bind(void 0,"ERROR:"),ht=(st=nt&&nt.assert)?st.bind&&tt?st.bind(nt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];nt.assert(t,et(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];at.apply(void 0,["Assertion failed:"].concat(i))}},ct=null;try{ct=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function ft(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function vt(t){return!0===(t&&t.Kn)}function lt(t){var n=w.clz32(t&-t);return t?31-n:n}ft.prototype.Kn,d.defineProperty(ft.prototype,"Kn",{value:!0}),ft.isLong=vt;var dt={},wt={};function _t(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=wt[t])?e:(i=mt(t,0,!0),r&&(wt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=dt[t])?e:(i=mt(t,t<0?-1:0,!1),r&&(dt[t]=i),i)}function gt(t,n){if(m(t))return n?It:Et;if(n){if(t<0)return It;if(t>=At)return Pt}else{if(t<=-Tt)return Bt;if(t+1>=Tt)return Ct}return t<0?gt(-t,n).neg():mt(t%bt|0,t/bt|0,n)}function mt(t,n,i){return new ft(t,n,i)}ft.fromInt=_t,ft.fromNumber=gt,ft.fromBits=mt;var yt=w.pow;function kt(t,n,i){if(0===t.length)throw v("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?It:Et;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw v("interior hyphen");if(0===e)return kt(t.substring(1),n,i).neg();for(var r=gt(yt(i,8)),s=Et,u=0;u<t.length;u+=8){var o=w.min(8,t.length-u),a=_(t.substring(u,u+o),i);if(o<8){var h=gt(yt(i,o));s=s.mul(h).add(gt(a))}else s=(s=s.mul(r)).add(gt(a))}return s.unsigned=n,s}function pt(t,n){return"number"==typeof t?gt(t,n):"string"==typeof t?kt(t,n):mt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}ft.fromString=kt,ft.fromValue=pt;var bt=4294967296,At=bt*bt,Tt=At/2,St=_t(1<<24),Et=_t(0);ft.ZERO=Et;var It=_t(0,!0);ft.UZERO=It;var Rt=_t(1);ft.ONE=Rt;var Dt=_t(1,!0);ft.UONE=Dt;var Nt=_t(-1);ft.NEG_ONE=Nt;var Ct=mt(-1,2147483647,!1);ft.MAX_VALUE=Ct;var Pt=mt(-1,-1,!0);ft.MAX_UNSIGNED_VALUE=Pt;var Bt=mt(0,-2147483648,!1);ft.MIN_VALUE=Bt;var Ot=ft.prototype;Ot.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ot.toNumber=function(){return this.unsigned?(this.high>>>0)*bt+(this.low>>>0):this.high*bt+(this.low>>>0)},Ot.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Bt)){var n=gt(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=gt(yt(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),a=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return a+u;for(;a.length<6;)a="0"+a;u=""+a+u}},Ot.getHighBits=function(){return this.high},Ot.getHighBitsUnsigned=function(){return this.high>>>0},Ot.getLowBits=function(){return this.low},Ot.getLowBitsUnsigned=function(){return this.low>>>0},Ot.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Bt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Ot.isZero=function(){return 0===this.high&&0===this.low},Ot.eqz=Ot.isZero,Ot.isNegative=function(){return!this.unsigned&&this.high<0},Ot.isPositive=function(){return this.unsigned||this.high>=0},Ot.isOdd=function(){return 1==(1&this.low)},Ot.isEven=function(){return 0==(1&this.low)},Ot.equals=function(t){return vt(t)||(t=pt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Ot.eq=Ot.equals,Ot.notEquals=function(t){return!this.eq(t)},Ot.neq=Ot.notEquals,Ot.ne=Ot.notEquals,Ot.lessThan=function(t){return this.comp(t)<0},Ot.lt=Ot.lessThan,Ot.lessThanOrEqual=function(t){return this.comp(t)<=0},Ot.lte=Ot.lessThanOrEqual,Ot.le=Ot.lessThanOrEqual,Ot.greaterThan=function(t){return this.comp(t)>0},Ot.gt=Ot.greaterThan,Ot.greaterThanOrEqual=function(t){return this.comp(t)>=0},Ot.gte=Ot.greaterThanOrEqual,Ot.ge=Ot.greaterThanOrEqual,Ot.compare=function(t){if(vt(t)||(t=pt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Ot.comp=Ot.compare,Ot.negate=function(){return!this.unsigned&&this.eq(Bt)?Bt:this.not().add(Rt)},Ot.neg=Ot.negate,Ot.add=function(t){vt(t)||(t=pt(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=0,h=0,c=0,f=0;return c+=(f+=r+(65535&t.low))>>>16,h+=(c+=e+o)>>>16,a+=(h+=i+u)>>>16,a+=n+s,mt((c&=65535)<<16|(f&=65535),(a&=65535)<<16|(h&=65535),this.unsigned)},Ot.subtract=function(t){return vt(t)||(t=pt(t)),this.add(t.neg())},Ot.sub=Ot.subtract,Ot.multiply=function(t){if(this.isZero())return this;if(vt(t)||(t=pt(t)),ct)return mt(ct.mul(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned);if(t.isZero())return this.unsigned?It:Et;if(this.eq(Bt))return t.isOdd()?Bt:Et;if(t.eq(Bt))return this.isOdd()?Bt:Et;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(St)&&t.lt(St))return gt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=65535&t.low,h=0,c=0,f=0,v=0;return f+=(v+=r*a)>>>16,c+=(f+=e*a)>>>16,f&=65535,c+=(f+=r*o)>>>16,h+=(c+=i*a)>>>16,c&=65535,h+=(c+=e*o)>>>16,c&=65535,h+=(c+=r*u)>>>16,h+=n*a+i*o+e*u+r*s,mt((f&=65535)<<16|(v&=65535),(h&=65535)<<16|(c&=65535),this.unsigned)},Ot.mul=Ot.multiply,Ot.divide=function(t){if(vt(t)||(t=pt(t)),t.isZero())throw v("division by zero");var n,i,e;if(ct)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?mt((this.unsigned?ct.div_u:ct.div_s)(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?It:Et;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return It;if(t.gt(this.shru(1)))return Dt;e=It}else{if(this.eq(Bt))return t.eq(Rt)||t.eq(Nt)?Bt:t.eq(Bt)?Rt:(n=this.shr(1).div(t).shl(1)).eq(Et)?t.isNegative()?Rt:Nt:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(Bt))return this.unsigned?It:Et;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=Et}for(i=this;i.gte(t);){n=w.max(1,w.floor(i.toNumber()/t.toNumber()));for(var r=w.ceil(w.log(n)/w.LN2),s=r<=48?1:yt(2,r-48),u=gt(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=gt(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Rt),e=e.add(u),i=i.sub(o)}return e},Ot.div=Ot.divide,Ot.modulo=function(t){return vt(t)||(t=pt(t)),ct?mt((this.unsigned?ct.rem_u:ct.rem_s)(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Ot.mod=Ot.modulo,Ot.rem=Ot.modulo,Ot.not=function(){return mt(~this.low,~this.high,this.unsigned)},Ot.countLeadingZeros=function(){return this.high?w.clz32(this.high):w.clz32(this.low)+32},Ot.clz=Ot.countLeadingZeros,Ot.countTrailingZeros=function(){return this.low?lt(this.low):lt(this.high)+32},Ot.ctz=Ot.countTrailingZeros,Ot.and=function(t){return vt(t)||(t=pt(t)),mt(this.low&t.low,this.high&t.high,this.unsigned)},Ot.or=function(t){return vt(t)||(t=pt(t)),mt(this.low|t.low,this.high|t.high,this.unsigned)},Ot.xor=function(t){return vt(t)||(t=pt(t)),mt(this.low^t.low,this.high^t.high,this.unsigned)},Ot.shiftLeft=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):mt(0,this.low<<t-32,this.unsigned)},Ot.shl=Ot.shiftLeft,Ot.shiftRight=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):mt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Ot.shr=Ot.shiftRight,Ot.shiftRightUnsigned=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mt(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):mt(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Ot.shru=Ot.shiftRightUnsigned,Ot.shr_u=Ot.shiftRightUnsigned,Ot.rotateLeft=function(t){var n;return vt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?mt(this.high,this.low,this.unsigned):t<32?(n=32-t,mt(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),mt(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Ot.rotl=Ot.rotateLeft,Ot.rotateRight=function(t){var n;return vt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?mt(this.high,this.low,this.unsigned):t<32?(n=32-t,mt(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),mt(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Ot.rotr=Ot.rotateRight,Ot.toSigned=function(){return this.unsigned?mt(this.low,this.high,!1):this},Ot.toUnsigned=function(){return this.unsigned?this:mt(this.low,this.high,!0)},Ot.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Ot.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Ot.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},ft.fromBytes=function(t,n,i){return i?ft.fromBytesLE(t,n):ft.fromBytesBE(t,n)},ft.fromBytesLE=function(t,n){return new ft(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},ft.fromBytesBE=function(t,n){return new ft(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var xt=9007199254740991,Lt=w.pow(2,-52);function Mt(t,n,i){return w.min(w.max(t,n),i)}function Ut(t,n,i){return t===n||w.abs(t-n)<=i}function Xt(t){return t!=t}function Ht(t,n){return t===n||Xt(t)&&Xt(n)}function Ft(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function zt(t){return!m(t.getTime())}function Vt(){return Date.now()||(new Date).getTime()}function Wt(t){return t/1e3}function Gt(t){return 1e3*t}var qt,Yt=ft.fromNumber(xt);function jt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Yt))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function Qt(t){return t.Jn===qt.$n}function Zt(t){return t.Jn===qt.ni}function Kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.$n=1]="$n",t[t.ei=2]="ei",t[t.ni=3]="ni",t[t.ri=4]="ri",t[t.ui=9]="ui"}(qt||(qt={}));var Jt=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(Jt.prototype=d.create(v.prototype)).constructor=Jt;var $t=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,v.captureStackTrace&&v.captureStackTrace(Kt(e),e.constructor),e}return S(n,t),A(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Jt),tn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return S(n,t),n}($t),nn=function(){function t(){}return t.prototype.oi=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new tn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new tn;return new hn(n)},t}(),en=function(){function t(t){this.ai=void 0,this.ai=t}var n=t.prototype;return n.ci=function(t){return this.ai.isEqualNode(t.ai)},n.di=function(n){return new t(this.ai.cloneNode(n))},A(t,[{key:"Jn",get:function(){return qt.ei}},{key:"wi",get:function(){var t;return null!=(t=this.ai.localName)?t:vn(this.ai.nodeName)}},{key:"_i",get:function(){return this.ai.nodeName}},{key:"gi",get:function(){var t;return null!=(t=this.ai.namespaceURI)?t:void 0}},{key:"Ai",get:function(){var t;return null!=(t=this.ai.prefix)?t:void 0}},{key:"Ti",get:function(){return this.ai.nodeValue}}]),t}(),rn=function(){function t(t){this.Si=void 0,this.Ei=void 0,this.Si=t}var n=t.prototype;return n.Ii=function(t){return this.Ri.filter(function(n){return cn(n)&&n.Di===t})},n.Ni=function(t,n){return this.Ri.filter(function(i){return cn(i)&&i.wi===n&&i.gi===t})},n.Ci=function(t){this.Si.appendChild(t.Pi),this.Ei&&this.Ei.push(t)},n.ci=function(t){return this.Si.isEqualNode(t.Pi)},A(t,[{key:"Ri",get:function(){return void 0===this.Ei&&(this.Ei=function(t){for(var n=[],i=0;i<t.length;i++){var e=fn(t.item(i));e&&n.push(e)}return n}(this.Si.childNodes)),this.Ei}},{key:"Bi",get:function(){return this.Ri.filter(cn)}},{key:"Pi",get:function(){return this.Si}}]),t}(),sn=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Oi=function(t){if(this.Si.hasAttribute(t))return this.Si.getAttribute(t)},i.xi=function(t,n){if(this.Si.hasAttributeNS(t,n))return this.Si.getAttributeNS(t,n)},i.Li=function(t){this.Si.removeAttribute(t)},i.Mi=function(t,n){this.Si.removeAttributeNS(t,n)},i.Ui=function(t,n){this.Si.setAttribute(t,n)},i.Xi=function(t,n,i){this.Si.setAttributeNS(t,n,i)},i.di=function(t){return new n(this.Si.cloneNode(t))},A(n,[{key:"Jn",get:function(){return qt.$n}},{key:"wi",get:function(){var t;return null!=(t=this.Si.localName)?t:vn(this.Si.nodeName)}},{key:"gi",get:function(){var t;return null!=(t=this.Si.namespaceURI)?t:void 0}},{key:"Ai",get:function(){var t;return null!=(t=this.Si.prefix)?t:void 0}},{key:"Di",get:function(){return this.Si.nodeName}},{key:"Hi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new en(t.item(i)));return n}(this.Si.attributes)}},{key:"Fi",get:function(){return this.Si.textContent}}]),n}(rn),un=function(){function t(t){this.Si=void 0,this.Si=t}return t.prototype.ci=function(t){return this.zi===t.zi},A(t,[{key:"zi",get:function(){return this.Si.nodeValue}},{key:"Pi",get:function(){return this.Si}}]),t}(),on=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.di=function(t){return new n(this.Si.cloneNode(t))},A(n,[{key:"Jn",get:function(){return qt.ni}}]),n}(un),an=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.di=function(t){return new n(this.Si.cloneNode(t))},A(n,[{key:"Jn",get:function(){return qt.ri}}]),n}(un),hn=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.di=function(t){return new n(this.Si.cloneNode(t))},A(n,[{key:"Jn",get:function(){return qt.ui}},{key:"Vi",get:function(){return new sn(this.Si.documentElement)}}]),n}(rn);function cn(t){return Qt(t)}function fn(t){switch(t.nodeType){case qt.$n:return new sn(t);case qt.ni:return new on(t);case qt.ri:return new an(t)}}function vn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function ln(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function dn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){wn(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&wn(i,null,t.length,t),t}function wn(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(r=0;r<h;r+=f)for(u=(s=r+i)+i,s>h&&(s=h),u>h&&(u=h),o=r,a=s;;)if(o<s&&a<u)n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<s)e[c++]=t[o++];else{if(!(a<u))break;e[c++]=t[a++]}}var _n=/[a-zA-Z]/,gn=/[0-9]/,mn=/[0-9a-fA-F]/,yn=/^0x/i,kn=/^[0-9]+$/,pn=/^[0-9a-fA-F]+$/,bn=/^[0-7]+$/,An=d.prototype.toString,Tn=Array.isArray||function(t){return"[object Array]"===An.call(t)},Sn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function En(t){return Tn(t)?t:Array.from(t)}function In(t){return t>=65&&t<=90}function Rn(t){return In(t)||function(t){return t>=97&&t<=122}(t)}function Dn(t){return t>=48&&t<=57}function Nn(t){return Dn(t)||Rn(t)}function Cn(t){return Dn(t)||t>=65&&t<=70||t>=97&&t<=102}function Pn(t){return In(t)?t+32:t}function Bn(t){return Dn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function On(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var xn=w.min,Ln=String.fromCharCode,Mn=16384;function Un(t){for(var n=t.length,i=[],e=0;e<n;e+=Mn){var r=xn(e+Mn,n);i.push(Ln.apply(null,t.slice(e,r)))}return i.join("")}var Xn=/[^\0-\x7E]/,Hn=/[\x2E\u3002\uFF0E\uFF61]/g,Fn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},zn=w.floor,Vn=String.fromCharCode;function Wn(t){throw new RangeError(Fn[t])}function Gn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var qn,Yn,jn,Qn=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Zn=function(t,n,i){var e=0;for(t=i?zn(t/700):t>>1,t+=zn(t/n);t>455;e+=36)t=zn(t/35);return zn(e+36*t/(t+38))},Kn=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Hn,".")).split("."),n).join(".");return e+r}(t,function(t){return Xn.test(t)?"xn--"+function(t){for(var n=[],i=(t=Gn(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var a=o[u];a<128&&n.push(Vn(a))}var h=n.length,c=h;for(h&&n.push("-");c<i;){for(var f=2147483647,v=0,l=t;v<l.length;v++){var d=l[v];d>=e&&d<f&&(f=d)}var w=c+1;f-e>zn((2147483647-r)/w)&&Wn("overflow"),r+=(f-e)*w,e=f;for(var _=0,g=t;_<g.length;_++){var m=g[_];if(m<e&&++r>2147483647&&Wn("overflow"),m==e){for(var y=r,k=36;;k+=36){var p=k<=s?1:k>=s+26?26:k-s;if(y<p)break;var b=y-p,A=36-p;n.push(Vn(Qn(p+b%A,0))),y=zn(b/A)}n.push(Vn(Qn(y,0))),s=Zn(r,w,c==h),r=0,++c}}++r,++e}return n.join("")}(t):t})};function Jn(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Un(n)}function $n(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ti(t,n){return t>>n&63|128}function ni(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?($n(t),n.push(t>>12&15|224),n.push(ti(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ti(t,12)),n.push(ti(t,6))),n.push(63&t|128)):n.push(t)}function ii(t){for(var n=[],i=0;i<t.length;i++){ni(t[i],n)}return n}function ei(){if(jn>=Yn)throw new v("Invalid byte index");var t=255&qn[jn];if(jn++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function ri(){var t,n;if(jn>Yn)throw new v("Invalid byte index");if(jn===Yn)return!1;if(t=255&qn[jn],jn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ei())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ei()<<6|ei())>=2048)return $n(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ei()<<12|ei()<<6|ei())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function si(t){return[37,On(t>>4),On(15&t)]}function ui(t){return function(t){return t>=0&&t<=31}(t)||t>126}function oi(t){return ui(t)||32===t||34===t||60===t||62===t||96===t}function ai(t){return oi(t)||35===t||63===t||123===t||125===t}function hi(t){return ai(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function ci(t){return t<33||t>126||34===t||35===t||60===t||62===t}function fi(t){return ci(t)||39===t}function vi(t,n){if(!n(t))return[t];for(var i=ii([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,si(s))}return e}function li(t,n){for(var i=[],e=0,r=Gn(t);e<r.length;e++){var s=r[e];i.push.apply(i,vi(s,n))}return Jn(i)}function di(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&Cn(t[e+1])&&Cn(t[e+2])){var s=Bn(t[e+1])<<4|Bn(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(ii(t))}function wi(t){return Jn(function(t){qn=t.slice(),Yn=qn.length,jn=0;for(var n,i=[];!1!==(n=ri());)i.push(n);return i}(di(Gn(t))))}function _i(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,a=null,h=0;if(h<s&&":"===t[h]){if(!(h+1<s&&":"===t[h+1]))throw new l;h+=2,a=o+=1}for(;h<s;){if(8===o)throw new l("Too many groups");if(":"!==t[h]){for(var c=0,f=0;f<4&&h<s&&mn.test(t[h]);)c=c<<4|_(t[h],16),h+=1,f+=1;if("."===t[h]){if(0===f)throw new l;if(h-=f,o>6)throw new l;for(var v=0;h<s;){var d=null;if(v>0){if(!("."===t[h]&&v<4))throw new l;h+=1}if(!gn.test(t[h]))throw new l;for(;h<s&&gn.test(t[h]);){var w=_(t[h],10);if(null===d)d=w;else{if(0===d)throw new l;if((d=10*d+w)>255)throw new l}h+=1}u[o]=u[o]<<8|d,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new l;break}if(":"===t[h]){if((h+=1)===s)throw new l}else if(h<s)throw new l;u[o]=c,o+=1}else{if(null!==a)throw new l("Too many :: groups");h+=1,a=o+=1}}if(null!==a){var g=o-a;for(o=7;0!==o&&g>0;)e=a+g-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,g-=1}else if(8!==o)throw new l;return u}function gi(t){var n=10,i=kn;return yn.test(t)?(t=t.slice(2),n=16,i=pn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=bn),""===t?0:i.test(t)?_(t,n):void 0}var mi={Wi:4},yi=/[\0\t\n\r #%/:?@\[\\\]]/,ki=/[\0\t\n\r #/:?@\[\\\]]/;function pi(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new l("Invalid IPv6 address");return{Wi:2,Gi:_i(t.slice(1,-1))}}if(!n)return function(t){if(ki.test(t))throw new l("Invalid code point in opaque host");var n=li(t,ui);return""===n?mi:{Wi:3,qi:n}}(t);var i=function(t){return function(t){return Kn(t.toLowerCase())}(t)}(wi(t));if(yi.test(i))throw new l("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=gi(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new l;if(i[i.length-1]>=w.pow(256,5-i.length))throw new l;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*w.pow(256,3-a);return o}}(i);return void 0!==e?{Wi:1,Gi:e}:""===i?mi:{Wi:0,Yi:i}}function bi(t){switch(t.Wi){case 0:return t.Yi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Gi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Gi)+"]";case 3:return t.qi;case 4:return""}}var Ai=/\+/g;function Ti(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(Ai," "),o=o.replace(Ai," ");var a=wi(u),h=wi(o);i.push([a,h])}}return i}function Si(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Ei(ii(Gn(e[0])))+"="+Ei(ii(Gn(e[1])))}return n}function Ei(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Nn(n)?i.push(r):i.push.apply(i,si(r))}return Un(i)}var Ii=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Ri(t){var n=""+t,i=Ii.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(Ni(s))if(Ci(s)||r===i-1)e.push(Di);else{var u=t.charCodeAt(r+1);Ci(u)?(e.push(s,u),r++):e.push(Di)}else e.push(s)}return t.slice(0,n)+Un(e)}(n,i.index):n}var Di=65533,Ni=function(t){return 55296==(63488&t)},Ci=function(t){return 0!=(1024&t)};function Pi(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Bi(t){t.ji.length=0}function Oi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.ji,Ti(n))}function xi(t){if(t.Qi){var n=Si(t.ji);""===n&&(n=null),t.Qi.Qi.Zi=n}}var Li=function(){function t(t){if(void 0===t&&(t=void 0),this.Qi=null,null==t)this.ji=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof Li&&Tn(s.ji)&&(!Sn||s[Symbol.iterator]===Mi))this.ji=t.ji.slice();else if(function(t){return null!=t&&(!!Tn(t)||!!Sn&&"function"==typeof t[Symbol.iterator])}(t)){this.ji=[];for(var n=0,i=En(t);n<i.length;n++){var e=En(i[n]);if(2!==e.length)throw new l("Invalid name-value pair");this.ji.push([Ri(e[0]),Ri(e[1])])}}else for(var r in this.ji=[],t)d.prototype.hasOwnProperty.call(t,r)&&this.ji.push([Ri(r),Ri(t[r])]);else(t=Ri(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.ji=Ti(t);var s}var n=t.prototype;return n.append=function(t,n){t=Ri(t),n=Ri(n),this.ji.push([t,n]),xi(this)},n.delete=function(t){t=Ri(t);for(var n=this.ji,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}xi(this)},n.get=function(t){t=Ri(t);for(var n=this.ji,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Ri(t);for(var n=this.ji,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Ri(t);for(var n=this.ji,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Ri(t),n=Ri(n);for(var i=this.ji,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),xi(this)},n.sort=function(){dn(this.ji,Pi),xi(this)},n.toString=function(){return Si(this.ji)},n.entries=function(){return new Fi(this.ji,Ui)},n.keys=function(){return new Fi(this.ji,Xi)},n.values=function(){return new Fi(this.ji,Hi)},n.forEach=function(t){var n=this;this.ji.forEach(function(i){return t(i[1],i[0],n)})},t}(),Mi=Li.prototype.entries;Sn&&(Li.prototype[Symbol.iterator]=Mi);var Ui=function(t){return[t[0],t[1]]},Xi=function(t){return t[0]},Hi=function(t){return t[1]},Fi=function(){function t(t,n){this.Ki=0,this.ji=t,this.Ji=n}return t.prototype.next=function(){return this.Ki<this.ji.length?{done:!1,value:this.Ji(this.ji[this.Ki++])}:{done:!0,value:void 0}},t}(),zi="null";var Vi=d.create(null);Vi.ftp=21,Vi.file=0,Vi.gopher=70,Vi.http=80,Vi.https=443,Vi.ws=80,Vi.wss=443;var Wi=/^(?:\.|%2e)$/i,Gi=/^(?:\.|%2e){2}$/i;function qi(t){return Wi.test(t)}function Yi(t){return Gi.test(t)}function ji(t){return void 0!==Vi[t]}function Qi(t){return ji(t.$i)}function Zi(t){return""!==t.re||""!==t.ue}function Ki(t){var n=t.length;if(!(n>=2))return!1;if(!$i(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Ji(t){return 2===t.length&&_n.test(t[0])&&(":"===t[1]||"|"===t[1])}function $i(t){return 2===t.length&&Ji(Un(t))}function te(t){return Ji(t)&&":"===t[1]}function ne(t){var n=t.oe;0!==n.length&&("file"===t.$i&&1===n.length&&te(n[0])||n.pop())}function ie(t){return null===t.fe||mi===t.fe||t.we||"file"===t.$i}var ee=-1,re=/\t|\n|\r/g,se=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function ue(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new ae,t=t.replace(se,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,a=!1,h=Gn(t=t.replace(re,"")),c=h.length,f=0;f<=c;){var v=f<c?h[f]:ee;switch(r){case 0:if(!Rn(v)){if(null===e){s.length=0,r=2;continue}throw new l("Invalid scheme")}s.push(Pn(v)),r=1;break;case 1:if(Nn(v)||43===v||45===v||46===v)s.push(Pn(v));else{if(58!==v){if(null===e){s.length=0,r=2,f=0;continue}throw new l("Invalid scheme")}var d=Jn(s);if(null!==e){if(ji(i.$i)&&!ji(d))return;if(!ji(i.$i)&&ji(d))return;if((Zi(i)||null!==i._e)&&"file"===d)return;if("file"===i.$i&&(i.fe===mi||null===i.fe))return}if(i.$i=d,null!==e)return void(Qi(i)&&i._e===Vi[i.$i]&&(i._e=null));s.length=0,"file"===i.$i?r=13:Qi(i)&&n&&n.$i===i.$i?r=3:Qi(i)?r=7:47===h[f+1]?(r=4,f+=1):(i.we=!0,i.oe.push(""),r=18)}break;case 2:if(!n||n.we&&35!==v)throw new l("Invalid scheme");n.we&&35===v?(i.$i=n.$i,i.oe=n.oe.slice(),i.Zi=n.Zi,i.me="",i.we=!0,r=20):"file"!==n.$i?(r=5,f-=1):(r=13,f-=1);break;case 3:47===v&&47===h[f+1]?r=8:(r=5,f-=1);break;case 4:47===v?r=9:(r=17,f-=1);break;case 5:i.$i=n.$i,ee===v?(i.re=n.re,i.ue=n.ue,i.fe=n.fe,i._e=n._e,i.oe=n.oe.slice(),i.Zi=n.Zi):47===v?r=6:63===v?(i.re=n.re,i.ue=n.ue,i.fe=n.fe,i._e=n._e,i.oe=n.oe.slice(),i.Zi="",r=19):35===v?(i.re=n.re,i.ue=n.ue,i.fe=n.fe,i._e=n._e,i.oe=n.oe.slice(),i.Zi=n.Zi,i.me="",r=20):92===v&&Qi(i)?r=6:(i.re=n.re,i.ue=n.ue,i.fe=n.fe,i._e=n._e,i.oe=n.oe.slice(),i.oe.pop(),r=17,f-=1);break;case 6:!Qi(i)||47!==v&&92!==v?47===v?r=9:(i.re=n.re,i.ue=n.ue,i.fe=n.fe,i._e=n._e,r=17,f-=1):r=8;break;case 7:if(47!==v||47!==h[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==v&&92!==v&&(r=9,f-=1);break;case 9:if(64===v){u&&s.unshift(37,52,48),u=!0;for(var w=0;w<s.length;w++){var g=s[w];if(58!==g||a){var m=Jn(vi(g,hi));a?i.ue+=m:i.re+=m}else a=!0}s.length=0}else if(ee===v||47===v||63===v||35===v||Qi(i)&&92===v){if(u&&0===s.length)throw new l("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(v);break;case 10:case 11:if(null!==e&&"file"===i.$i)f-=1,r=15;else if(58!==v||o)if(ee===v||47===v||63===v||35===v||Qi(i)&&92===v){if(f-=1,Qi(i)&&0===s.length)throw new l("Invalid host");if(null!==e&&0===s.length&&(Zi(i)||null!==i._e))return;var y=pi(Jn(s),Qi(i));if(i.fe=y,s.length=0,r=16,null!==e)return}else 91===v?o=!0:93===v&&(o=!1),s.push(v);else{if(0===s.length)throw new l("Invalid host");var k=pi(Jn(s),Qi(i));if(i.fe=k,s.length=0,r=12,11===e)return}break;case 12:if(Dn(v))s.push(v);else{if(!(ee===v||47===v||63===v||35===v||Qi(i)&&92===v||null!==e))throw new l("Invalid port");if(0!==s.length){var p=_(Jn(s),10);if(p>65535)throw new l("Invalid port");i._e=p===Vi[i.$i]?null:p,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.$i="file",47===v||92===v?r=14:n&&"file"===n.$i?ee===v?(i.fe=n.fe,i.oe=n.oe.slice(),i.Zi=n.Zi):63===v?(i.fe=n.fe,i.oe=n.oe.slice(),i.Zi="",r=19):35===v?(i.fe=n.fe,i.oe=n.oe.slice(),i.Zi=n.Zi,i.me="",r=20):(Ki(h.slice(f))||(i.fe=n.fe,i.oe=n.oe.slice(),ne(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===v||92===v?r=15:(n&&"file"===n.$i&&!Ki(h.slice(f))&&(te(n.oe[0])?i.oe.push(n.oe[0]):i.fe=n.fe),r=17,f-=1);break;case 15:if(ee===v||47===v||92===v||63===v||35===v)if(f-=1,null===e&&$i(s))r=17;else if(0===s.length){if(i.fe=mi,null!==e)return;r=16}else{var b=pi(Jn(s),Qi(i));if(0===b.Wi&&"localhost"===b.Yi&&(b=mi),i.fe=b,null!==e)return;s.length=0,r=16}else s.push(v);break;case 16:Qi(i)?(r=17,47!==v&&92!==v&&(f-=1)):null===e&&63===v?(i.Zi="",r=19):null===e&&35===v?(i.me="",r=20):ee!==v&&(r=17,47!==v&&(f-=1));break;case 17:if(ee===v||47===v||Qi(i)&&92===v||null===e&&(63===v||35===v)){var A=Jn(s);if(Yi(A)?(ne(i),47===v||Qi(i)&&92===v||i.oe.push("")):!qi(A)||47===v||Qi(i)&&92===v?qi(A)||("file"===i.$i&&0===i.oe.length&&$i(s)&&(mi!==i.fe&&null!==i.fe&&(i.fe=mi),s[1]=58,A=Jn(s)),i.oe.push(A)):i.oe.push(""),s.length=0,"file"===i.$i&&(ee===v||63===v||35===v))for(;i.oe.length>1&&""===i.oe[0];)i.oe.shift();63===v?(i.Zi="",r=19):35===v&&(i.me="",r=20)}else s.push.apply(s,vi(v,ai));break;case 18:63===v?(i.Zi="",r=19):35===v?(i.me="",r=20):ee!==v&&(i.oe[0]+=Jn(vi(v,ui)));break;case 19:null===e&&35===v?(i.me="",r=20):ee!==v&&(i.Zi+=Jn(vi(v,Qi(i)?fi:ci)));break;case 20:ee===v||0===v||(i.me+=Jn(vi(v,oi)))}f++}return i}function oe(t,n,i,e){try{ue(t,n,i,e)}catch(t){}}var ae=function(){this.$i="",this.re="",this.ue="",this.fe=null,this._e=null,this.oe=[],this.Zi=null,this.me=null,this.we=!1};function he(t){switch(t.$i){case"blob":var n;try{n=ue(t.oe[0],null)}catch(t){return zi}return he(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.$i,e=t.fe,r=t._e,i+"://"+bi(e)+(null===r?"":":"+r);case"file":default:return zi}var i,e,r}var ce,fe,ve,le,de,we,_e=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof _e&&"object"==typeof i.Qi)r=n.Qi;else try{r=ue(String(n),null)}catch(t){throw new l("Invalid base URL: "+t.message)}try{e=ue(String(t),r)}catch(t){throw new l("Invalid URL: "+t.message)}var s=e.Zi;this.Qi=e,this.Zi=function(t){var n=new Li;return null!==t&&Oi(n,t),n}(s),this.Zi.Qi=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.$i+":";if(null!==t.fe?(i+="//",Zi(t)&&(i+=t.re,""!==t.ue&&(i+=":"+t.ue),i+="@"),i+=bi(t.fe),null!==t._e&&(i+=":"+t._e)):null===t.fe&&"file"===t.$i&&(i+="//"),t.we)i+=t.oe[0];else for(var e=0,r=t.oe;e<r.length;e++)i+="/"+r[e];return null!==t.Zi&&(i+="?"+t.Zi),n||null===t.me||(i+="#"+t.me),i}(this.Qi)},set:function(t){var n;try{n=ue(String(t),null)}catch(t){throw new l("Invalid URL: "+t.message)}this.Qi=n,Bi(this.Zi);var i=this.Qi.Zi;null!==i&&Oi(this.Zi,i)}},{key:"origin",get:function(){return he(this.Qi)}},{key:"protocol",get:function(){return this.Qi.$i+":"},set:function(t){oe(t+":",null,this.Qi,0)}},{key:"username",get:function(){return this.Qi.re},set:function(t){ie(this.Qi)||(this.Qi.re=li(t,hi))}},{key:"password",get:function(){return this.Qi.ue},set:function(t){ie(this.Qi)||(this.Qi.ue=li(t,hi))}},{key:"host",get:function(){var t=this.Qi,n=t.fe;if(null===n)return"";var i=t._e,e=bi(n);return null!==i&&(e+=":"+i),e},set:function(t){this.Qi.we||oe(t,null,this.Qi,10)}},{key:"hostname",get:function(){var t=this.Qi.fe;return null===t?"":bi(t)},set:function(t){this.Qi.we||oe(t,null,this.Qi,11)}},{key:"port",get:function(){var t=this.Qi._e;return null===t?"":""+t},set:function(t){ie(this.Qi)||(""===t?this.Qi._e=null:oe(t,null,this.Qi,12))}},{key:"pathname",get:function(){var t=this.Qi.oe;return this.Qi.we?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Qi.we||(this.Qi.oe.length=0,oe(t,null,this.Qi,16))}},{key:"search",get:function(){var t=this.Qi.Zi;return null===t||""===t?"":"?"+t},set:function(t){t=Ri(t);var n=this.Qi;if(""===t)return n.Zi=null,void Bi(this.Zi);"?"===t[0]&&(t=t.slice(1)),n.Zi="",oe(t,null,n,19),Oi(this.Zi,t)}},{key:"searchParams",get:function(){return this.Zi}},{key:"hash",get:function(){var t=this.Qi.me;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Qi.me="",oe(t,null,this.Qi,20)):this.Qi.me=null}}])&&ln(n.prototype,i),e&&ln(n,e),t}();function ge(t){return t.document&&t.document.baseURI||t.location.href||""}var me=a;function ye(t){return Boolean(t&&void 0!==t.length)}function ke(){}function pe(t){if(!(this instanceof pe))throw new l("Promises must be constructed via new");if("function"!=typeof t)throw new l("not a function");this.ye=0,this.ke=!1,this.pe=void 0,this.Ae=[],Ie(t,this)}function be(t,n){for(;3===t.ye;)t=t.pe;0!==t.ye?(t.ke=!0,pe.Te(function(){var i=1===t.ye?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.pe)}catch(t){return void Te(n.promise,t)}Ae(n.promise,e)}else(1===t.ye?Ae:Te)(n.promise,t.pe)})):t.Ae.push(n)}function Ae(t,n){try{if(n===t)throw new l("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof pe)return t.ye=3,t.pe=n,void Se(t);if("function"==typeof i)return void Ie((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.ye=1,t.pe=n,Se(t)}catch(n){Te(t,n)}var e,r}function Te(t,n){t.ye=2,t.pe=n,Se(t)}function Se(t){2===t.ye&&0===t.Ae.length&&pe.Te(function(){t.ke||pe.Se(t.pe)});for(var n=0,i=t.Ae.length;n<i;n++)be(t,t.Ae[n]);t.Ae=null}function Ee(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function Ie(t,n){var i=!1;try{t(function(t){i||(i=!0,Ae(n,t))},function(t){i||(i=!0,Te(n,t))})}catch(t){if(i)return;i=!0,Te(n,t)}}pe.prototype.catch=function(t){return this.then(null,t)},pe.prototype.then=function(t,n){var i=new this.constructor(ke);return be(this,new Ee(t,n,i)),i},pe.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},pe.all=function(t){return new pe(function(n,i){if(!ye(t))return i(new l("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)s(u,e[u])})},pe.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new l(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)s(u,e[u])})},pe.resolve=function(t){return t&&"object"==typeof t&&t.constructor===pe?t:new pe(function(n){n(t)})},pe.reject=function(t){return new pe(function(n,i){i(t)})},pe.race=function(t){return new pe(function(n,i){if(!ye(t))return i(new l("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)pe.resolve(t[e]).then(n,i)})},pe.Te="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){me(t,0)},pe.Se=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Re=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),De=o?o.userAgent:"",Ne=De.match(/Firefox\/([0-9]+)/i),Ce=null!=Ne,Pe=Ne?Number(Ne[1]):0,Be=De.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Oe=null!=Be,xe=Be?Number(Be[3]):0,Le=function(){function t(t){this.Ee=0,this.Ie=0,this.qi=[],this.Re=t}return t.prototype.De=function(t){var n=this.length();this.Ne(n+1);var i=this.Ie+n&this.Re-1;this.qi[i]=t,this.Ee=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Re<n)this.De(t);else{var i=this.Ie+n-1,e=this.Re-1;this.qi[i&e]=t,this.Ee=n}},t.prototype.shift=function(){var t=this.Ie,n=this.qi[t];return this.qi[t]=void 0,this.Ie=t+1&this.Re-1,this.Ee--,n},t.prototype.length=function(){return this.Ee},t.prototype.Ne=function(t){this.Re<t&&this.Ce(this.Re<<1)},t.prototype.Ce=function(t){var n=this.Re;this.Re=t;var i=this.Ie+this.Ee&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.qi,0,n,i)},t}();var Me="unhandledrejection",Ue=t.PromiseRejectionEvent,Xe=t.CustomEvent;function He(t){return new Ue(Me,{reason:t,promise:Re.reject(t).catch(function(){}),cancelable:!0})}function Fe(t){var n=new Xe(Me,{detail:{reason:t},cancelable:!0});return d.defineProperty(n,"reason",{value:t}),n}function ze(t){var n=s.createEvent("CustomEvent");return n.initCustomEvent(Me,!1,!0,{reason:t}),n}var Ve,We,Ge,qe,Ye,je,Qe,Ze=function(t){return(Ze=function(){try{var t=Re.resolve(),n=new Ue(Me,{reason:"error",promise:t});return Me===n.type&&"error"===n.reason}catch(t){}return!1}()?He:function(){try{var t=new Xe(Me,{detail:{reason:"error"}});return Me===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?Fe:ze)(t)};if(Re&&!(Ce&&Pe<60||Oe&&xe<15))We=Re;else{We=pe;var Ke=null!==(Ve=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=Re;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==Ve?Ve:pe.Te,Je=(Ge=Ke,qe=new Le(16),Ye=!1,{Pe:function(t){qe.push(t),Ye||(Ye=!0,Ge(je))},Be:je=function(){for(;qe.length()>0;)qe.shift()();Ye=!1}});pe.Te=Je.Pe,pe.Se=function(n){try{var i=Ze(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}a(function(){throw new v("Unhandled promise rejection: ".concat(n))},0)}}function $e(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function tr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function nr(t,n){M.Sn&&M.En<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function ir(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function er(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function rr(t){t.removeAttribute("title")}function sr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function ur(t){t.src&&(t.removeAttribute("src"),t.load())}function or(){return void 0!==s?s.createElement("video"):void 0}function ar(){return Qe||(Qe=or()),Qe}var hr=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),cr=ar(),fr=!(!cr||!cr.webkitShowPlaybackTargetPicker),vr=function(){function t(){this.Oe=void 0,this.xe=!1,this.qt=hr,this.wn=!1,this.Le=!0}var n=t.prototype;return n.Me=function(){return 0},n.Ue=function(t,n){return!0},n.Xe=function(t){return t>=1/6*2},A(t,[{key:"He",get:function(){return void 0===this.Oe&&(this.Oe=this.Me()),this.Oe}},{key:"Fe",get:function(){return!M.Xn}},{key:"ze",get:function(){}},{key:"Ve",get:function(){return r.devicePixelRatio||1}},{key:"We",get:function(){return fr}},{key:"Ge",get:function(){return!1}},{key:"qe",get:function(){return!0}},{key:"Ye",get:function(){return M.On||M.cn}},{key:"je",get:function(){return!0}},{key:"Qe",get:function(){return!0}},{key:"Ze",get:function(){return!1}},{key:"Ke",get:function(){}},{key:"Je",get:function(){return!0}},{key:"$e",get:function(){return!1}},{key:"ir",get:function(){return!1}}]),t}(),lr=function(){var t=or();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(M.un)return!1;var t=or();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var dr=function(t){function n(n){var i;return(i=t.call(this)||this).er=void 0,i.er=n,i.er&&(i.xe=i.er.xe,i.qt=i.er.qt,i.Le=lr&&i.er.Le),i}S(n,t);var i=n.prototype;return i.Me=function(){return this.er?this.er.He:t.prototype.Me.call(this)},i.Ue=function(n,i){return this.er?this.er.Ue(n,i):t.prototype.Ue.call(this,n,i)},i.Xe=function(n){return this.er?this.er.Xe(n):t.prototype.Xe.call(this,n)},A(n,[{key:"Ke",get:function(){var t;return null==(t=this.er)?void 0:t.Ke}},{key:"Je",get:function(){var t,n;return null==(t=null==(n=this.er)?void 0:n.Je)||t}}]),n}(vr),wr=function(t){function n(n){var i;return(i=t.call(this,n)||this).xe=!0,i.wn=!0,i}return S(n,t),A(n,[{key:"Ze",get:function(){return M.cn}}]),n}(dr),_r=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Me=function(){return le.MediaSource?t.prototype.Me.call(this):1},A(n,[{key:"Ze",get:function(){return!0}}]),n}(wr),gr=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).rr=void 0,n}return S(n,t),n.prototype.Ue=function(n,i){return t.prototype.Ue.call(this,n,i)},A(n,[{key:"Ge",get:function(){return M.En<3}},{key:"qe",get:function(){return M.En>=3}},{key:"ze",get:function(){var t=this;return r.tizen&&!this.rr&&r.tizen.systeminfo.getPropertyValue("DISPLAY",function(n){var i=n.resolutionWidth,e=n.resolutionHeight;1===i&&1===e||(t.rr={width:i,height:e})}),this.rr}},{key:"$e",get:function(){return M.En<3}},{key:"ir",get:function(){return!0}}]),n}(dr),mr=function(t){function n(){return t.call(this)||this}return S(n,t),n}(vr),yr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Ue=function(t,n){if(t&&t.dr&&n&&n.dr){var i=kr(t.dr,"mp4a.40.2")&&kr(n.dr,"mp4a.40.5"),e=kr(t.dr,"mp4a.40.5")&&kr(n.dr,"mp4a.40.2"),r=kr(t.dr,"mp4a.40.2")&&kr(n.dr,"mp4a.40.34"),s=kr(t.dr,"mp4a.40.34")&&kr(n.dr,"mp4a.40.2"),u=kr(t.dr,"mp4a.40.5")&&kr(n.dr,"mp4a.40.34"),o=kr(t.dr,"mp4a.40.34")&&kr(n.dr,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},A(n,[{key:"Ke",get:function(){if(M.Yt)return 4096}}]),n}(mr);function kr(t,n){return t.indexOf(n)>-1}var pr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Xe=function(t){return t>=2},n}(mr),br=function(t){function n(){var n;return(n=t.call(this)||this).xe=M.xn>=11,n.Le=M.On&&!(M.cn&&M.xn<10),n}return S(n,t),n}(mr),Ar=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).rr=void 0,n}return S(n,t),A(n,[{key:"ze",get:function(){var t=this;return r.webOS&&!this.rr&&r.webOS.deviceInfo(function(n){t.rr={width:n.screenWidth,height:n.screenHeight}}),this.rr}},{key:"je",get:function(){return!1}},{key:"ir",get:function(){return!0}}]),n}(dr),Tr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"Je",get:function(){return!M.jt||(M.An?92!==M.Tn:M.pn>=100)}}]),n}(mr),Sr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"Ze",get:function(){return!0}}]),n}(dr),Er=function(){function n(){var n;this.wr=void 0,this._r=new nn,this.gr=new Ir,this.yr=(n=function(){if(M.Pn)return new yr;if(M.Rn||M.Dn)return new pr;if(M.On)return new br;if(M.yn)return new Tr;return new mr}(),M.cn?new _r(n):M.wn?new wr(n):M.Sn?new gr(n):M.In?new Ar(n):M.Yt?new Sr(n):new dr(n)),this.pr=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.wr=function(){return t.performance.now()}:this.wr=Vt}var i=n.prototype;return i.Ar=function(){ut.apply(void 0,arguments)},i.Tr=function(){ot.apply(void 0,arguments)},i.Sr=function(){at.apply(void 0,arguments)},i.Er=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ht.apply(void 0,[t].concat(i))},i.Zn=function(t,n){return a(t,n)},i.Ir=function(t,n){return c(t,n)},i.Qn=function(t){h(t)},i.Rr=function(t){f(t)},i.oi=function(t){return this._r.oi(t)},i.Dr=function(){return this.Nr.Dr()},i.Cr=function(){return this.Nr.Cr()},i.Pr=function(){return this.Nr.Pr()},i.Br=function(){return this.Nr.Br()},i.Or=function(){return this.Nr.Or()},i.xr=function(t,n){return this.Nr.xr(t,n)},i.Lr=function(t){return this.Nr.Lr(t)},i.Mr=function(t,n){var i;return void 0===n&&(n=ge(le)),i="object"!=typeof n||n instanceof _e?n:n.href,new _e(t,i)},i.Ur=function(n,i){if(void 0===i&&(i=ge(le)),this.pr){var e=q(i)?i:i.toString();return new t.URL(n,e).href}return this.Mr(n,i).href},A(n,[{key:"Xr",get:function(){return this.gr}},{key:"Hr",get:function(){return this.yr}},{key:"Fr",get:function(){return{zr:o&&o.userAgent.match(/Android /i)?"Android":"other",Vr:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Wr",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Gr",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Ir=function(){function t(){}return A(t,[{key:"qr",get:function(){return o.oscpu}},{key:"Hr",get:function(){return o.platform}},{key:"Yr",get:function(){return o.vendor}},{key:"jr",get:function(){return o.vendorSub}}]),t}();var Rr={exports:{}};!function(t){var n,i=d.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,n,i,e){var r=n&&n.prototype instanceof y?n:y,s=d.create(r.prototype),u=new C(e||[]);return s.Qr=function(t,n,i){var e=c;return function(r,s){if(e===w)throw new v("Generator is already running");if(e===_){if("throw"===r)throw s;return B()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=R(u,i);if(o){if(o===g)continue;return o}}if("next"===i.method)i.sent=i.Zr=i.arg;else if("throw"===i.method){if(e===c)throw e=_,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=w;var a=h(t,n,i);if("normal"===a.type){if(e=i.done?_:f,a.arg===g)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(e=_,i.method="throw",i.arg=a.arg)}}}(t,i,u),s}function h(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var c="suspendedStart",f="suspendedYield",w="executing",_="completed",g={};function y(){}function k(){}function p(){}var b={};b[s]=function(){return this};var A=d.getPrototypeOf,T=A&&A(A(P([])));T&&T!==i&&e.call(T,s)&&(b=T);var S=p.prototype=y.prototype=d.create(b);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Qr(n,t)}})}function I(t){var n;this.Qr=function(i,r){function s(){return new We(function(n,s){!function n(i,r,s,u){var o=h(t[i],t,r);if("throw"!==o.type){var a=o.arg,c=a.value;return c&&"object"==typeof c&&e.call(c,"Kr")?We.resolve(c.Kr).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):We.resolve(c).then(function(t){a.value=t,s(a)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function R(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,R(t,i),"throw"===i.method))return g;i.method="throw",i.arg=new l("The iterator does not provide a 'throw' method")}return g}var r=h(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,g;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,g):s:(i.method="throw",i.arg=new l("iterator result is not an object"),i.delegate=null,g)}function D(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function N(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function P(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!m(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:B}}function B(){return{value:n,done:!0}}k.prototype=S.constructor=p,p.constructor=k,p[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,p):(t.__proto__=p,o in t||(t[o]="GeneratorFunction")),t.prototype=d.create(S),t},t.awrap=function(t){return{Kr:t}},E(I.prototype),I.prototype[u]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var s=new I(a(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Zr=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!m(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var a=e.call(u,"catchLoc"),h=e.call(u,"finallyLoc");if(a&&h){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!h)throw new v("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),N(i),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;N(i)}return r}}throw new v("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:P(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),g}}}(Rr.exports);var Dr=Rr.exports;function Nr(){return(Nr=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)d.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function Cr(){var t=d.create(null);return t.Jr=void 0,delete t.Jr,t}function Pr(){return new Ur}function Br(){return new Fr}function Or(t){var n=Pr();for(var i in t)U.call(t,i)&&n.set(i,t[i]);return n}function xr(t){var n=[];return t.forEach(function(t){return n.push(t)}),n}var Lr,Mr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Ur=Mr||(Lr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Cr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Cr(),this.size=0},n.keys=function(){return new Lr(this.data,function(t,n){return n})},n.values=function(){return new Lr(this.data,function(t,n){return t[n]})},n.entries=function(){return new Lr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Xr,Hr,Fr=Mr||(Xr=function(){function t(t,n){this.$r=void 0,this.rs=void 0,this.$r=t,this.rs=n}var n=t.prototype;return n.next=function(){var t=this.$r.next();return t.done?t:{value:this.rs(t.value),done:!1}},t}(),function(){function t(){this.us=Pr()}var n=t.prototype;return n.get=function(t){return this.us.get(""+t)},n.set=function(t,n){return this.us.set(""+t,n),this},n.has=function(t){return this.us.has(""+t)},n.delete=function(t){return this.us.delete(""+t)},n.clear=function(){this.us.clear()},n.keys=function(){return new Xr(this.us.keys(),function(t){return Number(t)})},n.values=function(){return this.us.values()},n.entries=function(){return new Xr(this.us.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.us.forEach(function(n,i){t(n,Number(i))})},A(t,[{key:"size",get:function(){return this.us.size}}]),t}());!function(t){t.hs="9a04f079-9840-4286-ab92-e65be0885f95",t.fs="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.vs="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.ls="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Hr||(Hr={}));var zr,Vr="urn:mpeg:dash:mp4protection:2011",Wr="cenc",Gr="sinf",qr="skd",Yr=Hr.hs,jr="urn:uuid:"+Yr,Qr="com.microsoft.playready",Zr=Hr.fs,Kr="urn:uuid:"+Zr,Jr=Hr.vs,$r="urn:uuid:"+Jr,ts=Hr.ls,ns="urn:uuid:"+ts,is="com.apple.fps.1_0",es="com.apple.streamingkeydelivery";!function(t){t.hs="playready",t.fs="widevine",t.ls="fairplay",t.vs="clearkey",t.ds="aes128"}(zr||(zr={}));var rs={_s:zr.hs,gs:Qr,ys:"cenc",As:Yr,Ts:jr,Ss:"PlayReady"},ss={_s:zr.fs,gs:"com.widevine.alpha",ys:"cenc",As:Zr,Ts:Kr,Ss:"Widevine"},us={_s:zr.ls,gs:is,ys:"skd",As:ts,Ts:ns,Ss:"FairPlay"},os={_s:zr.ls,gs:"com.apple.fps",ys:"sinf",As:ts,Ts:ns,Ss:"FairPlay"},as={_s:zr.vs,gs:"org.w3.clearkey",ys:"cenc",As:Jr,Ts:$r,Ss:"ClearKey"},hs=[rs,ss,us,as];function cs(t){return hs.filter(function(n){return n.Ts===t.toLowerCase()})}function fs(t,n,i){return t.split(n).join(i)}function vs(t,n){return null!=t&&-1!==t.indexOf(n)}function ls(t,n){return null!=t&&t.substr(0,n.length)===n}function ds(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function ws(t,n){return t.toUpperCase()===n.toUpperCase()}function _s(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function gs(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=_s(e,r/e.length)),e.slice(0,r)+t)}function ms(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return ks(n)}var ys=16384;function ks(t){var n=t.length;if(n<=ys)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=ys)i.push(String.fromCharCode.apply(String,t.slice(e,e+ys)));return i.join("")}var ps=M.yn&&M.pn>=42||M.Pn&&M.Bn>=38||M.Rn||M.Nn||M.Ln&&M.Mn>=29;function bs(t,n){return vs(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Nr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Nr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function As(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function Ts(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Ss,Es=function(){function t(t){this.Es=void 0,this.Is=Pr(),this.Rs=void 0,this.Es=t}var n=t.prototype;return n.Or=function(){return this.Lr(ss)},n.Cr=function(){return this.Lr(as)},n.Br=function(){return this.Lr(rs)},n.Pr=function(){return this.Lr(us)},n.Lr=function(t){var n=t.Ts,i=this.Is.get(n);if(i)return i;var e=this.xr(t,'video/mp4; codecs="avc1.42000a"');return this.Is.set(n,e),e},n.xr=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this.Es.Ds(t.gs,[bs(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,Dr.awrap(this.Es.Ds(t.gs,[bs(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],We)},n.Dr=function(){return this.Rs||(this.Rs=this.Ns()),this.Rs},n.Ns=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==de.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(ps){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Dr.awrap(this.Cr());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,We)},t}();function Is(t,n){return Ds(t.slice(),n)}function Rs(t,n){var i=Ds(t,n);return i!==t&&Ns(i,void 0,t.length,t),t}function Ds(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){Ns(i,n,s,r);var u=i;i=r,r=u}return i}function Ns(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(s=0;s<h;s+=f)for(r=(u=s+i)+i,u>h&&(u=h),r>h&&(r=h),o=s,a=u;;)if(o<u&&a<r)n&&n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<u)e[c++]=t[o++];else{if(!(a<r))break;e[c++]=t[a++]}}!function(t){t[t.Cs=0]="Cs",t[t.Ps=1]="Ps",t[t.Bs=-1]="Bs"}(Ss||(Ss={}));var Cs=function(t,n){return(0|t)-(0|n)},Ps=function(t,n){return t===n?Ss.Cs:t<n?Ss.Bs:t>n?Ss.Ps:m(t)?m(n)?Ss.Cs:Ss.Ps:Ss.Bs};function Bs(t,n,i){return Ut(t,n,i)?Ss.Cs:Ps(t,n)}var Os=function(t,n){return function(t,n){if(t===n)return!0;var i=w.abs(t-n);return i<Lt||i<w.max(w.abs(t),w.abs(n))*Lt}(t,n)?Ss.Cs:Ps(t,n)};function xs(t,n,i){var e=Ms(t,n,i);return-1===e?void 0:t[e]}function Ls(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function Ms(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function Us(t,n){var i=t.indexOf(n);return-1!==i&&(Xs(t,i),!0)}function Xs(t,n){t.splice(n,1)}function Hs(t,n){return-1!==t.indexOf(n)}function Fs(t){t.length=0}function zs(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!Hs(n,t[i]))return!1}return!0}function Vs(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function Ws(t,n){return qs(t,function(t,i){return Ps(n(t),n(i))})}function Gs(t,n){return function(t,n){return qs(t,function(t,i){return n(i,t)})}(t,function(t,i){return Ps(n(t),n(i))})}function qs(t,n){if(0!==t.length)return t.reduce(function(t,i){return n(t,i)<=0?t:i})}function Ys(t,n){return We.all(t.map(n)).then(function(n){return t.filter(function(t,i){return n[i]})})}function js(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.length)){r.next=10;break}return e=t[i],r.next=5,Dr.awrap(n(e));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:i++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,null,We)}function Qs(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var Zs=function(){function t(){this.Os=!1,this.xs=!1,this.Ls=[],this.Ms=[]}var n=t.prototype;return n.Us=function(){if(!this.Os&&!this.xs){this.Os=!0;for(var t=0,n=this.Ls.slice();t<n.length;t++){(0,n[t])()}this.Xs()}},n.Xs=function(){if(!this.xs){this.xs=!0;for(var t=0,n=this.Ms.slice();t<n.length;t++){(0,n[t])()}Fs(this.Ls),Fs(this.Ms)}},n.Hs=function(t){this.xs||this.Ls.push(t)},n.Fs=function(t){this.xs||Us(this.Ls,t)},n.zs=function(t){this.xs||this.Ms.push(t)},n.Vs=function(t){this.xs||Us(this.Ms,t)},t}(),Ks=function(){function t(){this.Ws=new Zs}var n=t.prototype;return n.Gs=function(){this.Ws.Us()},n.Xs=function(){this.Ws.Xs()},n.qs=function(t){var n=this.Ws;if(!n.Os)if(t.Os)n.Us();else if(!n.xs&&!t.xs){var i=function(){e(),n.Us()},e=function e(){t.Fs(i),t.Vs(e),n.Fs(i),n.Vs(e)};t.Hs(i),t.zs(e),n.Hs(i),n.zs(e)}},n.Ys=function(){var n=new t,i=new t,e=n.js,r=i.js,s=this.Ws,u=function(){e.Os&&r.xs||r.Os&&e.xs?s.Us():e.xs&&r.xs&&s.Xs()};e.Hs(u),r.Hs(u),e.zs(u),r.zs(u),n.qs(s),i.qs(s);return s.zs(function(){e.Fs(u),r.Fs(u),e.Vs(u),r.Vs(u)}),[n,i]},A(t,[{key:"js",get:function(){return this.Ws}}]),t}(),Js=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"AbortError"}}]),n}($t);function $s(t){return t instanceof v&&"AbortError"===t.name}function tu(t){if(t&&t.Os)throw new Js}function nu(t){if($s(t))throw t}function iu(t){if(!$s(t))throw t}function eu(t,n){return n?new We(function(i,e){if(n.Os)return t.catch(K),e(new Js);var r=function t(){n.Fs(t),e(new Js)};n.Hs(r),t.then(function(t){n.Fs(r),i(t)},function(t){n.Fs(r),e(t)})}):t}function ru(t,n){return t.then(function(t){return n.Xs(),t},function(t){throw n.Xs(),t})}function su(t,n){var i=new Ks;return n&&i.qs(n),t(i.js).then(function(t){return i.Gs(),t},function(t){throw i.Gs(),t})}var uu=We.resolve();function ou(t){uu.then(t)}function au(t){t.then(K,K)}function hu(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Dr.awrap(We.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,Dr.awrap(We.all(t.map(function(t){return t.catch(K)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],We)}function cu(t,n){return new We(function(e,r){if(void 0!==n&&n.Os)r(new Js);else{var s=i.Zn(function(){void 0!==n&&n.Fs(u),e()},t),u=function(){i.Qn(s),r(new Js)};void 0!==n&&n.Hs(u)}})}function fu(t){return t&&"function"!=typeof t?t.slice():t}function vu(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var lu,du=function(){function t(t){var n=this;this.Qs=Cr(),this.Zs=void 0,this.Ks=void 0,this.Js=function(t){n.$s(t)},this.Ks=t||this}var n=t.prototype;return n.tu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.nu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.nu(e,n)}},n.nu=function(t,n){var i=this.Qs[t];i?"function"==typeof i?this.Qs[t]=[i,n]:i.push(n):this.Qs[t]=n},n.uu=function(t){if("function"==typeof t){var n=this.Zs;n?"function"==typeof n?this.Zs=[n,t]:n.push(t):this.Zs=t}},n.ou=function(){this.Qs=Cr(),this.Zs=void 0},n.$s=function(t){var n=fu(this.Qs[t.type]),i=fu(this.Zs);vu(this.Ks,t,n),vu(this.Ks,t,i)},n.au=function(t,n){if("function"==typeof n)if("string"==typeof t)this.fu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.fu(e,n)}},n.fu=function(t,n){var i=this.Qs[t];i&&("function"==typeof i?i===n&&(this.Qs[t]=void 0):Us(i,n))},n.vu=function(t){if("string"==typeof t)this.Qs[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Qs[i]=void 0}},n.du=function(t){var n=this.Zs;n&&("function"==typeof n?n===t&&(this.Zs=void 0):Us(n,t))},n.wu=function(t,n){var i=this;return new We(function(e,r){if(n&&n.Os)return r(new Js);var s=function(t){o(),e(t)},u=function(){o(),r(new Js)},o=function(){i.au(t,s),n&&n.Fs(u)};i.tu(t,s),n&&n.Hs(u)})},t}(),wu=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.$s=function(n){var i=this;ou(function(){t.prototype.$s.call(i,n)})},n}(du),_u=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},gu=["cenc"],mu=["cbcs","cbcs-1-9"],yu=function(t){function n(n){var i;return(i=t.call(this,"mu")||this)._u=n,i}return S(n,t),n}(_u),ku=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"yu")||this)._u=n,s.pu=i,s.yu=e,s.bu=r,s}return S(n,t),n}(_u),pu=function(t){function n(){return t.call(this,"Au")||this}return S(n,t),n}(_u);!function(t){t.Tu="Su",t.Eu="Iu"}(lu||(lu={}));var bu=function(t){function n(n,i){var e;return(e=t.call(this,lu.Tu)||this).ys=n,e.Ru=i,e}return S(n,t),n}(_u),Au=function(t){function n(){return t.call(this,lu.Eu)||this}return S(n,t),n}(_u),Tu=new y([0]).buffer,Su=function(){function t(){this.Du=void 0,this.Du=[]}var n=t.prototype;return n.Nu=function(t){for(var n=0,i=this.Du;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Cu=function(t){for(var n=0,i=this.Du;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.Pu=function(t,n){this.Du.forEach(function(n){return t(n[1],n[0])},n)},n.Bu=function(t,n){this.Du.push([t,n])},n.Ou=function(){Fs(this.Du)},A(t,[{key:"xu",get:function(){return this.Du.length}}]),t}(),Eu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Iu=16383,Ru=/[\t\n\f\r ]/g;function Du(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Nu()}function Nu(){throw new v("Invalid base64 input")}function Cu(t){var n=t;Ru.test(n)&&(n=n.replace(Ru,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Nu();for(var r,s=0===e?0:4-e,u=new y(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,a=0,h=0;a<o;a+=4)r=Du(n.charCodeAt(a))<<18|Du(n.charCodeAt(a+1))<<12|Du(n.charCodeAt(a+2))<<6|Du(n.charCodeAt(a+3)),u[h++]=r>>16&255,u[h++]=r>>8&255,u[h++]=255&r;return 2===s?(r=Du(n.charCodeAt(a))<<2|Du(n.charCodeAt(a+1))>>4,u[h++]=255&r):1===s&&(r=Du(n.charCodeAt(a))<<10|Du(n.charCodeAt(a+1))<<4|Du(n.charCodeAt(a+2))>>2,u[h++]=r>>8&255,u[h++]=255&r),u}function Pu(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],Eu[e>>2]+Eu[(3&e)<<4|r>>4]+Eu[(15&r)<<2|s>>6]+Eu[63&s]));return u.join("")}function Bu(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=Iu)e.push(Pu(t,s,w.min(r,s+Iu)));if(1===i){var u=t[n-1];e.push(Eu[u>>2]+Eu[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];e.push(Eu[o>>2]+Eu[(3&o)<<4|a>>4]+Eu[(15&a)<<2]+"=")}return e.join("")}var Ou=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],xu=ArrayBuffer.isView||function(t){return t&&Hs(Ou,X.call(t))};function Lu(t,n){return t===n||t.byteLength===n.byteLength&&Mu(new y(t),new y(n))}function Mu(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function Uu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return Xu(t,n)}function Xu(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function Hu(t){return Cu(t).buffer}function Fu(t){return Bu(new y(t))}function zu(t){return Bu(So(t))}function Vu(t,n){var i=n.Lu,e=t.getUint8(i>>3),r=1<<7-(7&i);return n.Mu(1),(e&r)===r?1:0}function Wu(t,n,i){for(var e=0,r=0;r<i;r++)e=2*e+Vu(t,n);return e}var Gu=function(){function t(t){void 0===t&&(t=0),this.Uu=t}var n=t.prototype;return n.Mu=function(t){this.Uu+=t},n.Xu=function(t){this.Uu=t},n.Hu=function(){return new t(this.Lu)},A(t,[{key:"Lu",get:function(){return this.Uu}}]),t}();function qu(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Yu(t,n){return t>>n&63|128}function ju(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(qu(t),n.push(t>>12&15|224),n.push(Yu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Yu(t,12)),n.push(Yu(t,6))),n.push(63&t|128)):n.push(t)}function Qu(t,n){if(n.Lu>=t.length)throw new v("Invalid byte index");var i=255&t[n.Lu];if(n.Mu(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function Zu(t,n){var i=n.Lu;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Mu(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|Qu(t,n);if(r>=128)return r;throw new v("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|Qu(t,n)<<6|Qu(t,n);if(s>=2048)return qu(s),s;throw new v("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|Qu(t,n)<<12|Qu(t,n)<<6|Qu(t,n);if(u>=65536&&u<=1114111)return u}throw new v("Invalid UTF-8 detected")}var Ku=65279;var Ju=[128,64,32,16,8,4,2,1],$u=function(){function t(t){this.Fu=t}return t.prototype.Vu=function(t){return to(this.Fu,t)},t}();function to(t,n){return(t&n)===n}function no(t,n){return to(t,Ju[n])}function io(t,n){var i=t.getUint8(n.Lu);return n.Mu(1),i}function eo(t,n,i){t.setUint8(n.Lu,i),n.Mu(1)}function ro(t,n,i){var e=Bo(Lo(t),n.Lu,n.Lu+i);return n.Mu(e.byteLength),e}function so(t,n,i){Lo(t).set(Lo(i),n.Lu),n.Mu(i.byteLength)}function uo(t,n,i){return n.Lu+i<=t.byteLength}function oo(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=io(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+io(t,n);return e}(t,n,i)}function ao(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Lu,i);return n.Mu(2),e}function ho(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Lu,i,e),n.Mu(2)}function co(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Lu,i);return n.Mu(4),e}function fo(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Lu,i,e),n.Mu(4)}function vo(t,n,i){void 0===i&&(i=!1);var e=co(t,n,i),r=co(t,n,i),s=i?r:e,u=i?e:r;return ft.fromBits(u,s,!0)}function lo(t,n){return go(t,n)}function wo(t,n,i){return ks(Fo(ro(t,n,i)))}function _o(t,n){var i,e=io(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&io(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&io(t,n))+(63&io(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&io(t,n))+64*(63&io(t,n))+(63&io(t,n))),i}function go(t,n){return mo(t,n,!0)}function mo(t,n,i){for(var e=[];n.Lu<t.byteLength;){var r=io(t,n);if(i&&!r)break;e.push(r)}return ks(e)}function yo(t,n){if(n.Lu+2<=t.byteLength){var i=t.getUint8(n.Lu),e=t.getUint8(n.Lu+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function ko(t,n){var i=yo(t,n);return void 0!==i&&n.Mu(2),po(t,n,!0===i)}function po(t,n,i){return void 0===i&&(i=!1),bo(t,n,i,!0)}function bo(t,n,i,e){for(var r=[];n.Lu+2<=t.byteLength;){var s=ao(t,n,i);if(e&&!s)break;r.push(s)}return ks(r)}function Ao(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){ho(t,n,i.charCodeAt(s),e)}}function To(t){return mo(xo(t),new zo,!1)}function So(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)eo(t,n,i.charCodeAt(r))}(xo(n),new zo,t),n}function Eo(t,n){return void 0===n&&(n=!1),bo(xo(t),new zo,n,!1)}function Io(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return Ao(xo(i),new zo,t,n),i}function Ro(t,n){return n.Lu+3<=t.byteLength&&(239===t.getUint8(n.Lu)&&187===t.getUint8(n.Lu+1)&&191===t.getUint8(n.Lu+2))}function Do(t,n){return function(t,n,i){var e=[];Ro(t,n)&&n.Mu(3);for(;n.Lu<t.byteLength;){var r=_o(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return ms(e)}(t,n,!0)}function No(t){return ms(function(t,n){var i,e=[],r=new zo;if(!n){if(!1===(i=Zu(t,r)))return e;i===Ku||e.push(i)}for(;!1!==(i=Zu(t,r));)e.push(i);return e}(Lo(t)))}function Co(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)ju(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Po(t,n){if(Ro(t,n))return Do(t,n);if(void 0!==yo(t,n))return ko(t,n);if(n.Lu+4<=t.byteLength){if(0===t.getUint8(n.Lu)&&0===t.getUint8(n.Lu+2))return po(t,n,!1);if(0===t.getUint8(n.Lu+1)&&0===t.getUint8(n.Lu+3))return po(t,n,!0)}return Do(t,n)}function Bo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Oo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function xo(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Lo(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Mo(t){return t instanceof ArrayBuffer||xu(t)}function Uo(t){return t instanceof ArrayBuffer?new y(t):Lo(t)}function Xo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Ho(Bo(t,n,i))}function Ho(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}function Fo(t){return[].slice.call(t)}var zo=function(){function t(t){void 0===t&&(t=0),this.Uu=t}var n=t.prototype;return n.Mu=function(t){this.Uu+=t},n.Xu=function(t){this.Uu=t},n.Hu=function(){return new t(this.Lu)},n.Wu=function(){return new Gu(this.Lu<<3)},A(t,[{key:"Lu",get:function(){return this.Uu}}]),t}();function Vo(t){var n=t.toLowerCase(),i=0,e=0;ls(n,"0x")&&(n=n.substring(2));var r=new y(w.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=_(n[0],16));i<n.length;i+=2)r[e++]=_(n.substr(i,2),16);return r}var Wo=function(){function t(){var t=this;this.Gu=void 0,this.Yu=void 0,this.ju=void 0,this.Gu=new We(function(n,i){t.Yu=n,t.ju=i})}var n=t.prototype;return n.Qu=function(t){this.Yu&&(this.Yu(t),this.Xs())},n.Zu=function(t){this.ju&&(this.ju(t),this.Xs())},n.Gs=function(){this.Gu.catch(K),this.Zu(new Js)},n.Xs=function(){this.Yu=void 0,this.ju=void 0},t}();function Go(){return new y([8,4]).buffer}function qo(t){return Lu(t,Go())}function Yo(t,n){return t===Qr?function(t){if(t.byteLength<2*jo.length)return t;if(Eo(new DataView(t,0,2*jo.length),!0)===jo)return t;return n=t,Io('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Fu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var jo="<PlayReady";var Qo=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).Ku=void 0,s.Ju=void 0,s.Ku=i,s.Ju=e,s}return S(n,t),n}($t),Zo=function(t,n){return(Zo=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)d.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function Ko(t,n){if("function"!=typeof n&&null!==n)throw new l("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Zo(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}function Jo(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function $o(t,n,i){return w.min(w.max(t,n),i)}function ta(t,n){return t>>8-n}function na(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.$u=t,this.uo=n}t.prototype.get=function(t){var n=this.$u.get(t);if(0===this.uo||void 0===n)return n;var i=this.$u.get(t+1)||0,e=n&(1<<8-this.uo)-1,r=i>>8-this.uo;return(e<<this.uo)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.$u.get(w.floor((t+this.uo)/8));if(void 0!==n)return(n&1<<7-this.uo-t%8)>0?1:0}},d.defineProperty(t.prototype,"bitLength",{get:function(){return this.$u.bitLength-this.uo},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"length",{get:function(){return this.$u.length},enumerable:!1,configurable:!0})}();var ia=function(){function t(t){this.oo=t,this.ao=0,this.do=0}return d.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.ao+this.do},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"done",{get:function(){return this.ao===this.oo.length&&0===this.do},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"location",{get:function(){return{byte:this.ao,bit:this.do}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.oo);return n.seek(this.ao,this.do),n},t.prototype.canReadBits=function(t){return 8*this.ao+t+this.do<=8*this.oo.length},t.prototype.canReadBytes=function(t){return 0===this.do?this.ao+t<=this.oo.length:this.ao+t<this.oo.length},t.prototype.incBit=function(){this.do++,this.do>7&&(this.ao++,this.do=0)},t.prototype.seek=function(t,n){this.ao=t,this.do=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new v("Cannot read past end of buffer.");return this.oo.get(this.ao)>>7-this.do&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new v("Cannot read past end of buffer.");if(0===this.do)return this.oo.get(this.ao++);var t=na(this.oo.get(this.ao),8-this.do),n=ta(this.oo.get(this.ao+1),this.do);return this.ao++,t<<this.do|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=0;if(0===this.do&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-w.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new v("Skipping over the buffer edge is not allowed.");var n=this.do+t;this.ao+=n>>3,this.do=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),ea=function(t,n){return t===n?0:t<n?-1:t>n?1:m(t)?m(n)?0:1:-1},ra=function(){function t(){this._o=[],this.mo=[],this.Ee=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new v("The buffer length must be positive.");if(0!==i){if(0===this.mo.length)this.mo.push(0);else{var e=this.mo[this.mo.length-1]+this._o[this._o.length-1].length;this.mo.push(e)}this._o.push(t.subarray(n,n+i)),this.Ee+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this._o;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this._o=[],this.mo=[],this.Ee=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.mo[n];return this._o[n][i]}},d.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this._o.length<1)return-1;if(this._o.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this._o[0];return"number"==typeof t?Jo(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=Jo(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,a=1;u<o&&t[u]===n[a];u++,a++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=w.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.mo,t,ea)},t.prototype.join=function(){if(1===this._o.length)return this._o[0];var t=new y(this.length);return this.copyInternal(t,0),t},d.defineProperty(t.prototype,"length",{get:function(){return this.Ee},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new v("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new v("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*w.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=$o(n,0,this.length),r=$o(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this._o[u],a=e,h=a-this.mo[u];a+o.length-h<r;)s.pushRange(o,h,o.length-h),u+=1,h=(a+=o.length-h)-this.mo[u],o=this._o[u];var c=r-a;return s.pushRange(o,h,c),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this._o.length-1,e=this._o[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this._o[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),sa=function(){function t(n){this.po=n||t.BUFFER_CHUNK_SIZE,this.Ao=!1,this.To=new ra,this.oo=new y(this.po),this.So=0,this.Eo=0,this.do=7}return t.prototype.closeByte=function(){this.oo[this.So++]=this.Eo,this.So>=this.po&&this.closeBuffer(),this.Eo=0,this.do=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.So&&(this.To.pushRange(this.oo,0,this.So),t&&(this.oo=new y(this.po)),this.So=0)},d.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.do},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Ao)throw new v("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Ao=!0,this.To},t.prototype.writeBit=function(t){if(this.Ao)throw new v("Cannot write to a closed BitWriter.");this.Eo|=t<<this.do,0===this.do?this.closeByte():this.do--},t.prototype.writeByte=function(t){if(this.Ao)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Eo=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.do;this.Eo|=ta(t,n+1),this.closeByte(),this.Eo=na(t,8-n)<<n+1,this.do=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.Ao)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.So+t.length<=this.po?(this.oo.set(t,this.So),this.So+=t.length,this.So===this.po&&this.closeBuffer()):(this.closeBuffer(),this.To.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.do;this.Eo|=ta(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=na(t[i-1],8-n),r=ta(t[i],n+1);this.Eo=e<<n+1|r,this.closeByte()}this.Eo=na(t[t.length-1],8-n)<<n+1,this.do=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new v("Received a negative number.");if(n>32)throw new v("The max bitlength that can be provided is 32.");if(t>=w.pow(2,n))throw new v("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new v("The max bitlength that can be provided is 32.");if(w.abs(t)>=w.pow(2,n-1))throw new v("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+w.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new v("Received a negative number.");for(var n=w.floor(w.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),ua=function(){function t(t){this.rb=new ra,this.Io=t}return t.prototype.closeWriter=function(){void 0!==this.Io&&(this.rb=this.rb.concat(this.Io.close()),this.Io=void 0)},d.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Io&&(this.Io=new sa),this.Io},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),oa=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new v("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(w.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new ua;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=w.pow(2,32),t}();function aa(t,n){return t instanceof ft?64===n:t<w.pow(2,n)}function ha(t,n){return w.round(t*w.pow(2,n))}function ca(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function fa(t,n){return t/w.pow(2,n)}var va=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!aa(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Ko(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.Ro},set:function(t){this.Ro=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(oa),la=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return Ko(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(ra.from(this.data))},n}(oa),da=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();var wa=16384;function _a(t){var n=t.length;if(n<=wa)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=wa)i.push(String.fromCharCode.apply(String,t.slice(e,e+wa)));return i.join("")}var ga=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function ma(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function ya(t,n,i){var e=Ea(Ra(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}function ka(t,n,i){return n.offset+i<=t.byteLength}function pa(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function ba(t,n,i){void 0===i&&(i=!1);var e=pa(t,n,i),r=pa(t,n,i),s=i?r:e,u=i?e:r;return ft.fromBits(u,s,!0)}function Aa(t,n,i){var e,r=ya(t,n,i);return _a((e=r,[].slice.call(e)))}function Ta(t,n){var i,e=ma(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&ma(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&ma(t,n))+(63&ma(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&ma(t,n))+64*(63&ma(t,n))+(63&ma(t,n))),i}function Sa(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Ta(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return function(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return _a(n)}(e)}(t,n,!0)}function Ea(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Ia(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ra(t){return new y(t.buffer,t.byteOffset,t.byteLength)}var Da=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new da(this.offset<<3)},t}(),Na=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return ma(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return pa(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=pa(t,n,i),r=pa(t,n,i),s=i?r:e,u=i?e:r;return ft.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return ba(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return ya(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(pa(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Aa(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Sa(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Ca(t,n){return t.type===n}var Pa=8;function Ba(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=Oa(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new v("Data incomplete");return n.boxes}function Oa(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!ka(t,n,Pa)){var e=n.offset+Pa;return{complete:!1,neededOffset:e}}var r=pa(t,n),s=Aa(t,n,4);if(1===r){if(!ka(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=ba(t,n).toNumber()}if("uuid"===s){if(!ka(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=Aa(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var a,h,c,f={type:r.type,offset:i,data:new Na((a=t,h=i,c=u,void 0===h&&(h=0),void 0===c&&(c=a.byteLength),new DataView(a.buffer,a.byteOffset+h,c-h)),new Da(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function xa(t){return{version:t>>24,flags:new ga(16777215&t)}}function La(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function Ma(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function Ua(t){var n=t.nextUint32Array(9);return{a:fa(n[0],16),b:fa(n[1],16),u:fa(n[2],30),c:fa(n[3],16),d:fa(n[4],16),v:fa(n[5],30),x:fa(n[6],16),y:fa(n[7],16),w:fa(n[8],30)}}function Xa(t){return new la(t.type,Ea(Ra(t.data.data),t.data.cursor.offset))}var Ha=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return Ko(n,t),d.defineProperty(n.prototype,"handlerType",{get:function(){return this.Do},set:function(t){this.Do=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(va);function Fa(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new Ha(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}Ko(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Ha);var za=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},d.defineProperty(t.prototype,"tag",{get:function(){return this.No},set:function(t){if(!aa(t,8))throw new v("Provided tag does not fit in 8 bits.");this.No=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=e,a.decoderSpecificInfo=u,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=r,a.maxBitrate=s.max,a.avgBitrate=s.avg,a}Ko(n,t),d.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Co},set:function(t){if(!aa(t,8))throw new v("Provided objectTypeIndication does not fit in 8 bits.");this.Co=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamType",{get:function(){return this.Po},set:function(t){if(!aa(t,6))throw new v("Provided streamType does not fit in 6 bits.");this.Po=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Bo},set:function(t){if(!aa(t,24))throw new v("Provided bufferSizeDb does not fit in 24 bits.");this.Bo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.Oo},set:function(t){if(!aa(t,32))throw new v("Provided maxBitrate does not fit in 32 bits.");this.Oo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.xo},set:function(t){if(!aa(t,32))throw new v("Provided avgBitrate does not fit in 32 bits.");this.xo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(za),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}Ko(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(ra.from(this.data))}}(za);var Va=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return Ko(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(za);!function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new Va(r.fixed28BitMode),s}Ko(n,t),d.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"esId",{get:function(){return this.Lo},set:function(t){if(!aa(t,16))throw new v("Provided esId does not fit in 16 bits.");this.Lo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Mo},set:function(t){if(!aa(t,5))throw new v("Provided streamPriority does not fit in 5 bits.");this.Mo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Uo},set:function(t){if(t&&!aa(t,16))throw new v("Provided dependsOnEsId does not fit in 16 bits.");this.Uo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.Xo},set:function(t){if(t&&!aa(t,16))throw new v("Provided ocrEsId does not fit in 16 bits.");this.Xo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(za);var Wa=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return Ko(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(oa),Ga=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Ko(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Wa),qa=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return Ko(n,t),d.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.Ho},set:function(t){if(!aa(t,16))throw new v("Provided dataReferenceIndex does not fit in 16 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Ga),Ya=function(t){function n(n,i,e,r){var s,u,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return Ko(n,t),d.defineProperty(n.prototype,"channelCount",{get:function(){return this.Fo},set:function(t){if(!aa(t,16))throw new v("Provided channelCount does not fit in 16 bits.");this.Fo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleSize",{get:function(){return this.zo},set:function(t){if(!aa(t,16))throw new v("Provided sampleSize does not fit in 16 bits.");this.zo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleRate",{get:function(){return this.Vo},set:function(t){if(!aa(ha(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(ha(this.sampleRate,16),32),this.extra&&ca(n.writer,this.extra)},n}(qa);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}Ko(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Wo},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!aa(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.Wo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(va),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}Ko(n,t),d.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Go},set:function(t){if(!aa(t,32))throw new v("Provided cleanApertureWidthN does not fit in 32 bits.");this.Go=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.qo},set:function(t){if(!aa(t,32))throw new v("Provided cleanApertureWidthD does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Yo},set:function(t){if(!aa(t,32))throw new v("Provided cleanApertureHeightN does not fit in 32 bits.");this.Yo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.jo},set:function(t){if(!aa(t,32))throw new v("Provided cleanApertureHeightD does not fit in 32 bits.");this.jo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Qo},set:function(t){if(!aa(t,32))throw new v("Provided horizOffN does not fit in 32 bits.");this.Qo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Zo},set:function(t){if(!aa(t,32))throw new v("Provided horizOffD does not fit in 32 bits.");this.Zo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Ko},set:function(t){if(!aa(t,32))throw new v("Provided vertOffN does not fit in 32 bits.");this.Ko=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffD",{get:function(){return this.Jo},set:function(t){if(!aa(t,32))throw new v("Provided vertOffD does not fit in 32 bits.");this.Jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(oa),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}Ko(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Wo},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!aa(t.sampleCount,32)||!aa(t.sampleOffset,32)}))throw new v("Not all entries can be represented in 64 bits.");this.Wo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(va),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}Ko(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.$o},set:function(t){this.flags=void 0===t?1:0,this.$o=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(va),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}Ko(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.$o},set:function(t){if(1&this.flags)throw new v("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.$o=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(va),function(t){function n(){return t.call(this,"dinf")||this}Ko(n,t)}(Ga);var ja=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!aa(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Ko(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.Ro},set:function(t){this.Ro=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Wa);!function(t){function n(){return t.call(this,"dref",0,0)||this}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(ja);var Qa=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.Wo},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!aa(e.segmentDuration,this.bitSize))throw new v("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!aa(e.mediaTime,this.bitSize))throw new v("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!aa(e.mediaRateInteger,16))throw new v("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!aa(e.mediaRateFraction,16))throw new v("Provided mediaRateFraction does not fit in 16 bits.")}this.Wo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(va),Za=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Ko(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Qa),Ka=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Ko(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Qa);function Ja(t){for(var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var a=void 0,h=void 0;0===e?(a=n.nextUint32(),h=n.nextInt32()):(a=n.nextUint64(),h=n.nextInt64());var c=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:a,mediaTime:h,mediaRateFraction:f,mediaRateInteger:c})}return 0===e?new Za(u,r.raw):new Ka(u,r.raw)}var $a=function(t){function n(){return t.call(this,"edts")||this}return Ko(n,t),n}(Ga);function th(t){for(var n=new $a,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"elst")?n.boxes.push(Ja(r)):n.boxes.push(Xa(r))}return n}var nh=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return Ko(n,t),d.defineProperty(n.prototype,"majorBrand",{get:function(){return this.ea},set:function(t){if(4!==t.length)throw new v("the provided major brand does not conform to the 4 character requirement");this.ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"minorVersion",{get:function(){return this.ra},set:function(t){if(!aa(t,32))throw new v("the provided minor version does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.ua},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new v("Some of the compatible brands do not conform to the 4 character requirement");this.ua=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(oa),ih=function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}return Ko(n,t),n}(nh);function eh(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new ih(i,e,r)}var rh=function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}return Ko(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(ra.from(this.data))},n}(oa),sh=function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return Ko(n,t),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.oa},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.oa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.va},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.va=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this._a},set:function(t){if(!aa(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.ma},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ma=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"language",{get:function(){return this.ya},set:function(t){if(!hh(t))throw new v("Expected an ISO-639-2/T language code");this.ya=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(va),uh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return Ko(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(sh),oh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return Ko(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(sh);function ah(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags,s=La(n,e),u=new ia(ra.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(u.readUInt(5));var h=o.map(function(t){return String.fromCharCode(t+96)}).join("");return hh(h)||(h="und"),n.skip(2),0===e?new uh(s,h,r.raw):new oh(s,h,r.raw)}function hh(t){return/^[a-z]{3}$/.test(t)}var ch=function(t){function n(){return t.call(this,"mdia")||this}return Ko(n,t),n}(Ga);function fh(t){for(var n=new ch,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"mdhd")?n.boxes.push(ah(r)):Ca(r,"hdlr")?n.boxes.push(Fa(r)):n.boxes.push(Xa(r))}return n}var vh,lh=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new ra,n}return Ko(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(oa);function dh(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),e=new lh;return e.data.pushRange(i),e}!function(t){function n(){return t.call(this,"minf")||this}Ko(n,t)}(Ga),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(ja),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(vh||(vh={}));var wh,_h,gh={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function mh(t,n){n.writer.writeUInt(ha(t.a,16),32),n.writer.writeUInt(ha(t.b,16),32),n.writer.writeUInt(ha(0,30),32),n.writer.writeUInt(ha(t.c,16),32),n.writer.writeUInt(ha(t.d,16),32),n.writer.writeUInt(ha(0,30),32),n.writer.writeUInt(ha(t.x,16),32),n.writer.writeUInt(ha(t.y,16),32),n.writer.writeUInt(ha(1,30),32)}function yh(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:wh.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:_h.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:_h.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:_h.UNKNOWN,2)}function kh(t,n){var i,e,r;n.writer.writeUInt(0,4),yh(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(wh||(wh={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(_h||(_h={}));var ph=function(){return function(){}}(),bh=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return Ko(n,t),d.defineProperty(n.prototype,"systemId",{get:function(){return this.Aa},set:function(t){if(16!==t.length)throw new v("Provided systemId length is not 16.");this.Aa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"data",{get:function(){return this.qi},set:function(t){if(!aa(t.length,32))throw new v("Provided data length does not fit in 32 bits.");this.qi=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(ra.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(ra.from(this.data))},n}(va),Ah=function(t){function n(n,i){return t.call(this,0,n,i)||this}return Ko(n,t),n}(bh),Th=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return Ko(n,t),d.defineProperty(n.prototype,"kIds",{get:function(){return this.Ta},set:function(t){if(!aa(t.length,32))throw new v("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new v("Not all provided key ids are 16 bytes long.");this.Ta=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(ra.from(e))}},n}(bh);function Sh(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),s=0;s<r;s++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new Th(i,o,e):new Ah(i,o)}var Eh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Sa},set:function(t){if(!aa(t,this.bitSize))throw new v("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Sa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(va),Ih=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Ko(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Eh),Rh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Ko(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Eh);function Dh(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Ih(n.nextUint32(),r.raw):new Rh(n.nextUint64(),r.raw)}var Nh=function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var s,u,o,a=this;return(a=t.call(this,"trex",e,r)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,a.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return Ko(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.Ea},set:function(t){if(!aa(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Ia},set:function(t){if(!aa(t,32))throw new v("Provided default sample description index does not fit in 32 bits.");this.Ia=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ra},set:function(t){if(!aa(t,32))throw new v("Provided default sample duration does not fit in 32 bits.");this.Ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Da},set:function(t){if(!aa(t,32))throw new v("Provided default sample size does not fit in 32 bits.");this.Da=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Na},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!aa(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!aa(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Na=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),kh(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(va);function Ch(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),h=Ma(new ia(ra.from(n.nextUint8Array(4))));return new Nh(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:a,sampleFlags:h},e,r.raw)}var Ph=function(t){function n(){return t.call(this,"mvex")||this}return Ko(n,t),n}(Ga);function Bh(t){for(var n=new Ph,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"mehd")?n.boxes.push(Dh(r)):Ca(r,"trex")?n.boxes.push(Ch(r)):n.boxes.push(Xa(r))}return n}var Oh=function(t){function n(i,e,r,s,u){void 0===u&&(u=0);var o,a,h,c=this;return(c=t.call(this,"mvhd",s,u)||this).creationTime=i.creation,c.modificationTime=i.modification,c.timescale=i.scale,c.duration=i.duration,c.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,c.volume=null!==(a=r.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,c.matrix=null!==(h=r.matrix)&&void 0!==h?h:gh,c.Ca=e,c}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.oa},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.oa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.va},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.va=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this._a},set:function(t){if(!aa(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.ma},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ma=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"rate",{get:function(){return this.Pa},set:function(t){if(!aa(ha(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Pa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.Ba},set:function(t){if(!aa(ha(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ba=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.Oa},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Oa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Ca},set:function(t){if(0===t)throw new v("NextTrackId cannot be 0.");if(!aa(t,32))throw new v("NextTrackId cannot exceed 32 bits.");this.Ca=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(ha(this.rate,16),32),n.writer.writeUInt(ha(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),mh(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(va),xh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return Ko(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Oh),Lh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return Ko(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Oh);function Mh(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags,s=La(n,e),u=fa(n.nextUint32(),16),o=fa(n.nextUint16(),8);n.skip(2),n.skip(8);var a=Ua(n);n.skip(24);var h=n.nextUint32();return 0===e?new xh(s,h,{rate:u,volume:o,matrix:a},r.raw):new Lh(s,h,{rate:u,volume:o,matrix:a},r.raw)}var Uh=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a,h,c,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(h=o.alternateGroup)&&void 0!==h?h:0,f.matrix=null!==(c=o.matrix)&&void 0!==c?c:gh,f}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.oa},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.oa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.va},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.va=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"trackId",{get:function(){return this.Ea},set:function(t){if(0===t)throw new v("trackId cannot be 0.");if(!aa(t,32))throw new v("trackId cannot exceed 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.ma},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ma=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.Ba},set:function(t){if(!aa(ha(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ba=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"width",{get:function(){return this.xa},set:function(t){if(!aa(ha(t,16),32))throw new v("Provided width does not fit in 32 bits (fixed 16.16).");this.xa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.La},set:function(t){if(!aa(ha(t,16),32))throw new v("Provided height does not fit in 32 bits (fixed 16.16).");this.La=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"layer",{get:function(){return this.Ma},set:function(t){if(!aa(t,16))throw new v("Provided layer does not fit in 16 bits.");this.Ma=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Ua},set:function(t){if(!aa(t,16))throw new v("Provided alternateGroup does not fit in 16 bits.");this.Ua=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.Oa},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Oa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(ha(this.volume,8),16),n.writer.writeUInt(0,16),mh(this.matrix,n),n.writer.writeUInt(ha(this.width,16),32),n.writer.writeUInt(ha(this.height,16),32)},n}(va),Xh=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return Ko(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Uh),Hh=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return Ko(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Uh);function Fh(t){var n,i,e,r,s=t.data,u=xa(s.nextUint32()),o=u.version,a=u.flags,h=a.isSet(8),c=a.isSet(4),f=a.isSet(2),v=a.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var l=s.nextInt16(),d=s.nextInt16(),w=fa(s.nextInt16(),8);s.skip(2);var _=Ua(s),g=fa(s.nextUint32(),16),m=fa(s.nextUint32(),16);return 0===o?new Xh({creation:n,modification:i,duration:r},e,w,g,m,{layer:l,matrix:_,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:v,trackInPreview:c,trackInMovie:f}):new Hh({creation:n,modification:i,duration:r},e,w,g,m,{layer:l,matrix:_,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:v,trackInPreview:c,trackInMovie:f})}var zh=function(t){function n(){return t.call(this,"trak")||this}return Ko(n,t),n}(Ga);function Vh(t){for(var n=new zh,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"tkhd")?n.boxes.push(Fh(r)):Ca(r,"mdia")?n.boxes.push(fh(r)):Ca(r,"edts")?n.boxes.push(th(r)):n.boxes.push(Xa(r))}return n}var Wh=function(t){function n(){return t.call(this,"moov")||this}return Ko(n,t),n}(Ga);function Gh(t){for(var n=new Wh,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"mvhd")?n.boxes.push(Mh(r)):Ca(r,"trak")?n.boxes.push(Vh(r)):Ca(r,"mvex")?n.boxes.push(Bh(r)):Ca(r,"pssh")?n.boxes.push(Sh(r)):n.boxes.push(Xa(r))}return n}var qh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.Xa},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.Xa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(va),Yh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Ko(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(qh),jh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Ko(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(qh);function Qh(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Yh(n.nextUint32(),r.raw):new jh(n.nextUint64(),r.raw)}var Zh=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return Ko(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.Ea},set:function(t){if(!aa(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Ha},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is not set.");if(t&&!aa(t,64))throw new v("Provided baseDataOffset does not fit in 32 bits.");this.Ha=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Fa},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is not set.");if(t&&!aa(t,32))throw new v("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Fa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ra},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is not set.");if(t&&!aa(t,32))throw new v("Provided defaultSampleDuration does not fit in 32 bits.");this.Ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Da},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is not set.");if(t&&!aa(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Da=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Na},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!aa(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!aa(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Na=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&kh(this.defaultSampleFlags,n)},n}(va);function Kh(t){var n=t.data,i=n.nextUint8(),e=new ia(ra.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=Boolean(e.readBit()),f=n.nextUint32(),v=c?n.nextUint64():void 0,l=h?n.nextUint32():void 0,d=a?n.nextUint32():void 0,w=o?n.nextUint32():void 0,_=u?Ma(new ia(ra.from(n.nextUint8Array(4)))):void 0;return new Zh({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:v,sampleDescriptionIndex:l,defaultSampleDuration:d,defaultSampleSize:w,defaultSampleFlags:_},i)}var Jh=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return Ko(n,t),d.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Va},set:function(t){if(t&&!aa(t,32))throw new v("Provided data offset does not fit in 32 bits.");this.Va=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.Wa},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!aa(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!aa(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Wa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.Ga},set:function(t){var n,i;if(!aa(t.length,32))throw new v("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new v("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new v("The sample duration present flag is not set.");if(s.duration&&!aa(s.duration,32))throw new v("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new v("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new v("The sample size present flag is not set.");if(s.size&&!aa(s.size,32))throw new v("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!aa(s.flags.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!aa(s.flags.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!aa(s.compositionTimeOffset,32))throw new v("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Ga=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&kh(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&kh(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(va);function $h(t){var n=t.data,i=n.nextUint8(),e=new ia(ra.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};h&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=Ma(new ia(ra.from(n.nextUint8Array(4)))));for(var v=[],l=0;l<c;l++){var d={};o&&(d.duration=n.nextUint32()),u&&(d.size=n.nextUint32()),s&&(d.flags=Ma(new ia(ra.from(n.nextUint8Array(4))))),r&&(d.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(d)}return new Jh(i,f,v)}var tc=function(t){function n(){return t.call(this,"traf")||this}return Ko(n,t),n}(Ga);function nc(t){for(var n=new tc,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"tfhd")?n.boxes.push(Kh(r)):Ca(r,"tfdt")?n.boxes.push(Qh(r)):Ca(r,"trun")?n.boxes.push($h(r)):n.boxes.push(Xa(r))}return n}var ic=function(t){function n(){return t.call(this,"moof")||this}return Ko(n,t),n}(Ga);function ec(t){for(var n=new ic,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"traf")?n.boxes.push(nc(r)):Ca(r,"pssh")?n.boxes.push(Sh(r)):n.boxes.push(Xa(r))}return n}!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}Ko(n,t),d.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.qa},set:function(t){if(!aa(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(va);var rc=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return Ko(n,t),d.defineProperty(n.prototype,"codingName",{get:function(){return this.Ya},set:function(t){if(4!==t.length)throw new v("Provided coding name was not 4 characters long.");this.Ya=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(oa);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}Ko(n,t),d.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Qa},set:function(t){if(!aa(t,32))throw new v("Provided hSpacing does not fit in 32 bits.");this.Qa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Za},set:function(t){if(!aa(t,32))throw new v("Provided vSpacing does not fit in 32 bits.");this.Za=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(oa),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}Ko(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Ga),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new rc(n),r}Ko(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(oa);var sc=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.Wo},set:function(t){var n=this;if(!aa(t.length,32))throw new v("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!aa(t,n.bitSize)}))throw new v("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Wo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ka},set:function(t){if(void 0===t)this.flags=0;else{if(!aa(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!aa(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ka=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(va);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Ko(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(sc),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Ko(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(sc),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}Ko(n,t),d.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.Ja},set:function(t){if(!aa(t,8))throw new v("Provided defaultSampleInfoSize does not fit in a single byte.");this.Ja=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.$a},set:function(t){if(!aa(t.length,32))throw new v("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!aa(t,8)}))throw new v("Not all provided sampleInfoSizes fit in a byte.");this.$a=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ka},set:function(t){if(void 0===t)this.flags=0;else{if(!aa(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!aa(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ka=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new v("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(va),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){yh(e[i],n)}}}(va),function(t){function n(n){return t.call(this,"stsd",n,0)||this}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(ja);var uc=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return Ko(n,t),d.defineProperty(n.prototype,"groupingType",{get:function(){return this.nh},set:function(t){if(4!==t.length)throw new v("The provided groupingType does not equal 4 characters.");this.nh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(va);!function(t){function n(n,i){return t.call(this,0,n,i)||this}Ko(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(uc),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}Ko(n,t),d.defineProperty(n.prototype,"defaultLength",{get:function(){return this.ih},set:function(t){if(!aa(t,32))throw new v("The provided defaultLength does not fit in 32 bits.");this.ih=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(uc),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new v("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}Ko(n,t),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Ia},set:function(t){if(!aa(t,32))throw new v("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Ia=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(uc),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}Ko(n,t),d.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.eh},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!aa(t,32)}))throw new v("Not all sampleSizes can be represented in 32 bits.");this.eh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(va),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}Ko(n,t),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Da},set:function(t){if(!aa(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Da=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.Ga},set:function(t){if(!aa(t,32))throw new v("Number of allowed samples cannot fit in 32 bits.");this.Ga=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(va),function(t){function n(){return t.call(this,"stbl")||this}Ko(n,t)}(Ga),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}Ko(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Wo},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!aa(t.firstChunk,32)||!aa(t.sampleDescriptionIndex,32)||!aa(t.samplesPerChunk,32)}))throw new v("Not all entries can be represented in 96 bits.");this.Wo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(va),function(t){function n(){return t.call(this,"schi")||this}Ko(n,t)}(Ga),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}Ko(n,t),d.defineProperty(n.prototype,"schemeType",{get:function(){return this.rh},set:function(t){if(4!==t.length)throw new v("The provided schemeType does not have a length of 4.");this.rh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.sh},set:function(t){if(!aa(t,32))throw new v("The provided schemeVersion does not fit in 23 bits.");this.sh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeUri",{get:function(){return this.uh},set:function(t){if(t&&4!==t.length)throw new v("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.uh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(va);var oc=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=e,a.earliestPresentationTime=r,a.firstOffset=s,a.references=u,a}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"referenceId",{get:function(){return this.oh},set:function(t){if(!aa(t,32))throw new v("Provided referenceId does not fit in 32 bits.");this.oh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this._a},set:function(t){if(!aa(t,32))throw new v("Provided timescale does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.ah},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.ah=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstOffset",{get:function(){return this.hh},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.hh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"references",{get:function(){return this.fh},set:function(t){if(!aa(t.length,16))throw new v("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!aa(e.referencedSize,31))throw new v("Provided referenced size does not fit in 31 bits.");if(!aa(e.subsegmentDuration,32))throw new v("Provided subsegment duration does not fit in 31 bits.");if(!aa(e.sapType,3))throw new v("Provided SAP type does not fit in 3 bits.");if(!aa(e.sapDeltaTime,28))throw new v("Provided SAP delta time does not fit in 28 bits.")}this.fh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(va),ac=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return Ko(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(oc),hc=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return Ko(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(oc);var cc=function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}return Ko(n,t),n}(nh);function fc(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new cc(i,e,r)}!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}Ko(n,t),d.defineProperty(n.prototype,"balance",{get:function(){return this.vh},set:function(t){if(t<-1||t>1)throw new v("Provided balance does not fit in the allowed range [-1, 1].");if(!aa(ha(t,8),16))throw new v("Provided balance does not fit in 16 bits (fixed 8.8).");this.vh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(ha(this.balance,8),16),n.writer.writeUInt(0,16)}}(va),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}Ko(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Wo},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!aa(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.Wo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(va),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}Ko(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Wo},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!aa(t.sampleCount,32)||!aa(t.sampleDelta,32)}))throw new v("Not all entries can be represented in 64 bits.");this.Wo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(va),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}Ko(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.Ea},set:function(t){if(!aa(t,32))throw new v("The provided trackId does not fit in 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(ja),function(t){function n(){return t.call(this,"udta")||this}Ko(n,t)}(Ga);var vc={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=vc);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}Ko(n,t),d.defineProperty(n.prototype,"opColor",{get:function(){return this.lh},set:function(t){if(!aa(t.red,16)||!aa(t.green,16)||!aa(t.blue,16))throw new v("Not all colors could be represented in 16 bits.");this.lh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(va);var lc=function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u,o,a,h,c,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=r.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(h=r.frameCount)&&void 0!==h?h:1,f.depth=null!==(c=r.depth)&&void 0!==c?c:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=s,f}return Ko(n,t),d.defineProperty(n.prototype,"width",{get:function(){return this.xa},set:function(t){if(!aa(t,16))throw new v("Provided width does not fit in 16 bits.");this.xa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.La},set:function(t){if(!aa(t,16))throw new v("Provided height does not fit in 16 bits.");this.La=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.dh},set:function(t){if(!aa(ha(t,16),32))throw new v("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.dh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.wh},set:function(t){if(!aa(ha(t,16),32))throw new v("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.wh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compressorName",{get:function(){return this._h},set:function(t){if(t.length>31)throw new v("The provided compressorName should at most be 31 characters long.");this._h=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"frameCount",{get:function(){return this.gh},set:function(t){if(!aa(t,16))throw new v("Provided frameCount does not fit in 16 bits.");this.gh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"depth",{get:function(){return this.yh},set:function(t){if(!aa(t,16))throw new v("Provided depth does not fit in 16 bits.");this.yh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(ha(this.horizontalResolution,16),32),n.writer.writeUInt(ha(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&ca(n.writer,this.extra)},n}(qa);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(ra.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(va),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Ya),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(lc),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(qa),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}Ko(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(oa),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}d.defineProperty(t.prototype,"version",{get:function(){return this.kh},set:function(t){if(!aa(t,8))throw new v("Provided version does not fit in 8 bits.");this.kh=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileIndication",{get:function(){return this.ph},set:function(t){if(!aa(t,8))throw new v("Provided profileIndication does not fit in 8 bits.");this.ph=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.Ah},set:function(t){if(!aa(t,8))throw new v("Provided profileCompatibility does not fit in 8 bits.");this.Ah=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"levelIndication",{get:function(){return this.Th},set:function(t){if(!aa(t,8))throw new v("Provided levelIndication does not fit in 8 bits.");this.Th=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"spsSets",{get:function(){return this.Sh},set:function(t){if(!aa(t.length,5))throw new v("Provided number of spsSets exceeds the max (32)");this.Sh=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"ppsSets",{get:function(){return this.Eh},set:function(t){if(!aa(t.length,8))throw new v("Provided number of ppsSets exceeds the max (256)");this.Eh=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(ra.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(ra.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}Ko(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(lc),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}Ko(n,t),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Bo},set:function(t){if(!aa(t,32))throw new v("Provided bufferSizeDb does not fit in 32 bits.");this.Bo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"max",{get:function(){return this.Ih},set:function(t){if(!aa(t,32))throw new v("Provided max does not fit in 32 bits.");this.Ih=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avg",{get:function(){return this.Rh},set:function(t){if(!aa(t,32))throw new v("Provided avg does not fit in 32 bits.");this.Rh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(oa);var dc=function(t){function n(n,i){var e,r,s,u,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new v("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new y(0),o}return Ko(n,t),d.defineProperty(n.prototype,"isProtected",{get:function(){return this.Dh},set:function(t){if(!aa(t,8))throw new v("Provided isProtected does not fit in 1 byte.");this.Dh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Nh},set:function(t){if(![8,16].includes(t))throw new v("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Nh=t,this.Ch=new y(0)},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"kId",{get:function(){return this.Ph},set:function(t){if(16!==t.length)throw new v("Provided kId length is not 16.");this.Ph=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"constantIv",{get:function(){return this.Ch},set:function(t){if(![8,16].includes(t.length))throw new v("Provided constant IV length does not match any allowed value [8, 16].");this.Ch=t,this.Nh=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),ca(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),ca(t.writer,this.constantIv))},n}(va);!function(t){function n(n){return t.call(this,0,n)||this}Ko(n,t)}(dc);var wc=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return Ko(n,t),d.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Bh},set:function(t){if(!aa(t,4))throw new v("Provided cryptByteBlocks does not fit in 4 bits.");this.Bh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Oh},set:function(t){if(!aa(t,4))throw new v("Provided skipByteBlocks does not fit in 4 bits.");this.Oh=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(dc);function _c(t){return void 0!==t.iv}function gc(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new wc(n),i}Ko(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(ph),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}Ko(n,t),d.defineProperty(n.prototype,"samples",{get:function(){return this.Ga},set:function(t){var n;if(!aa(t.length,32))throw new v("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(_c(r)&&![8,16].includes(r.iv.length))throw new v("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=gc(r)),!0===n&&!gc(r)||!1===n&&gc(r))throw new v("Mix of samples with and without subsamples detected.");if(gc(r)){if(!aa(r.subsamples.length,16))throw new v("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!aa(o.clearData,16))throw new v("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!aa(o.protectedData,23))throw new v("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Ga=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];_c(r)&&(n+=r.iv.length),gc(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(_c(r)&&ca(n.writer,r.iv),gc(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(va),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}Ko(n,t),d.defineProperty(n.prototype,"timescale",{get:function(){return this._a},set:function(t){if(!aa(t,32))throw new v("The provided timescale does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Lh},set:function(t){if(!aa(t,32))throw new v("The provided presentationTimeDelta does not fit in 32 bits.");this.Lh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Mh},set:function(t){if(!aa(t,32))throw new v("The provided eventDuration does not fit in 32 bits.");this.Mh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"id",{get:function(){return this.Uh},set:function(t){if(!aa(t,32))throw new v("The provided id does not fit in 32 bits.");this.Uh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(ra.from(this.data))}}(va);var mc=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new ua,n=0,i=this.boxes;n<i.length;n++){var e=i[n];t.concat(e.serialize())}return t.toRangedBuffer()},t}();function yc(t,n){return function(i){var e=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=Oa(i,e);if(!r.complete)return;if(Ca(r.box,n))return r.box}}(new Na(Ia(i),new Da),t);if(!e)throw new v("".concat(t," box not found"));return n(e)}}var kc=yc("moov",Gh),pc=yc("sidx",function(t){var n,i,e=t.data,r=xa(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),a=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var h=e.nextUint16(),c=[],f=0;f<h;f++){var v=new ia(ra.from(e.nextUint8Array(12))),l=v.readBit(),d=v.readUInt(31),w=v.readUInt(32),_=Boolean(v.readBit()),g=v.readUInt(3),m=v.readUInt(28);c.push({referenceType:l,referencedSize:d,subsegmentDuration:w,startsWithSap:_,sapType:g,sapDeltaTime:m})}return 0===s?new ac(o,a,n,i,c,u.raw):new hc(o,a,n,i,c,u.raw)}),bc=yc("moof",ec),Ac=yc("pssh",Sh);function Tc(t){return function(t){for(var n=new mc,i=0,e=Ba(t);i<e.length;i++){var r=e[i];Ca(r,"ftyp")?n.boxes.push(eh(r)):Ca(r,"styp")?n.boxes.push(fc(r)):Ca(r,"moov")?n.boxes.push(Gh(r)):Ca(r,"moof")?n.boxes.push(ec(r)):Ca(r,"mdat")?n.boxes.push(dh(r)):n.boxes.push(Xa(r))}return n}(new Na(Ia(t),new Da))}var Sc=function(t){function n(n,i){var e;(e=t.call(this)||this).Xh=void 0,e.Hh=!1,e.Fh=void 0,e.Vh=void 0,e.Wh=function(){e.Gh()},e.qh=function(t){e.$s(new ku(Kt(e),t.messageType,Yo(e.Yh,t.message)))},e.jh=function(){e.Hh=!0,e.Xh.xu>0&&(e.Xh.Ou(),e.$s(new yu(Kt(e)))),e.Qh.removeEventListener("keystatuseschange",e.Wh),e.Qh.removeEventListener("message",e.qh)},e.Qh=n,e.Yh=i,e.Qh.addEventListener("keystatuseschange",e.Wh),e.Qh.addEventListener("message",e.qh),e.Xh=new Su;var r=[];return e.Qh.closed&&r.push(We.resolve(e.Qh.closed)),e.Vh=new Wo,r.push(e.Vh.Gu),e.Fh=We.race(r).then(e.jh,e.jh),e.Gh(),e}S(n,t);var i=n.prototype;return i.Zh=function(){if(this.Hh)return this.Fh;var t=[];return t.push(We.resolve(this.Qh.close())),t.push(cu(1e3)),this.Vh.Qu(We.race(t).catch(Ec)),this.Hh=!0,this.Fh},i.Kh=function(t,n,i){if(M.vn){var e=Ac(Uo(n));if(1===e.version)n=new Ah(e.systemId,e.data).serialize().join()}return We.resolve(this.Qh.generateRequest(t,n)).catch(Ec)},i.Jh=function(t){return We.resolve(this.Qh.load(t)).catch(Ec)},i.$h=function(){return We.resolve(this.Qh.remove()).catch(Ec)},i.tc=function(t){return We.resolve(this.Qh.update(t)).catch(Ec)},i.Gh=function(){var t=this;this.Xh.Ou(),this.Qh.keyStatuses.forEach(function(n,i){t.nc(i,n)}),this.$s(new yu(this))},i.nc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Uo(t);if(this.Yh===Qr&&16===e.byteLength){var r=xo(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.Yh===Qr&&"status-pending"===n&&(n="usable"),this.Xh.Bu(e,n)},A(n,[{key:"ic",get:function(){return this.Fh}},{key:"ec",get:function(){return this.Qh.expiration}},{key:"rc",get:function(){return this.Xh}},{key:"uc",get:function(){return this.Qh.sessionId}}]),n}(du);function Ec(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|_(i[1],16))}throw new Qo(t.message,void 0,n,t)}var Ic=function(){function t(t,n,i){this.ac=t,this.hc=n,this.cc=i}var n=t.prototype;return n.fc=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Sc(this.ac.createSession(t),this.hc));case 1:case"end":return n.stop()}},null,this,null,We)},n.vc=function(t){return We.resolve(this.ac.setServerCertificate(t))},n.lc=function(t){return We.resolve(t.setMediaKeys(this.ac))},n.dc=function(t){return We.resolve(t.setMediaKeys(null))},n.wc=function(){return We.resolve()},t}(),Rc=function(){function t(t,n,i){this._c=t,this.Yh=n,this.gc=i}var n=t.prototype;return n.mc=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this._c.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new Ic(t,this.Yh,this.gc));case 4:case"end":return n.stop()}},null,this,null,We)},n.yc=function(){return this.gc},A(t,[{key:"hc",get:function(){return this._c.keySystem}}]),t}(),Dc={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Nc(t){return vs(t,Dc.APPLICATION_MP4)||vs(t,Dc.VIDEO_MP4)||vs(t,Dc.AUDIO_MP4)}var Cc=function(){function t(t,n){this._s=void 0,this.kc=void 0,this._s=t,this.kc=n}return t.prototype.pc=function(t){for(var n=0,i=this.kc;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function Pc(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Cc(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,a=0;a<r.length;a++){var h=r[a];if(o||";"!==h)'"'===h&&(o=!o);else{var c=Bc(r.substr(u,a));c&&s.push(c),u=a+1}}if(u!==r.length){var f=Bc(r.substr(u));f&&s.push(f)}return new Cc(e,s)}function Bc(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function Oc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function xc(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);i&&(n="avc1."+gs((Number(i[1])<<16|Number(i[2])).toString(16),6,"0"));return n}function Lc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,bc:e.bc},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return Mc(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var a=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});a.length&&(s.videoCapabilities=a.filter(function(e){return Mc(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function Mc(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Hs(n,e.encryptionScheme))&&(!e.robustness&&t(i,Oc(e.contentType))))}function Uc(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function Xc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function Hc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Fc))||!(!t.videoCapabilities||!t.videoCapabilities.some(Fc))}function Fc(t){return!t.robustness}function zc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(Nr({},r,{robustness:n}))}return i}var Vc=function(){function t(){}return t.prototype.Ds=function(t,n){var i,e,r,s,u,a,h,c;return Dr.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.bc}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=Xc(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Xc(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(Hc)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",Nr({},n=t,{videoCapabilities:n.videoCapabilities?zc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?zc(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,Dr.awrap(o.requestMediaKeySystemAccess(t,s));case 7:return u=f.sent,a=u.getConfiguration(),f.abrupt("return",new Rc(u,t,a));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,Dr.awrap(o.requestMediaKeySystemAccess(t,n));case 16:return h=f.sent,c=h.getConfiguration(),f.abrupt("return",new Rc(h,t,c));case 19:case"end":return f.stop()}},null,null,[[4,12]],We)},t.Ac=function(){return As()},t}(),Wc=function(t){function n(n,i){var e;return(e=t.call(this)||this).Hh=!1,e.Tc=void 0,e.Sc=void 0,e.Ec=void 0,e.Ic=void 0,e.Rc=void 0,e.jh=function(){e.Hh=!0,e.Tc.Qu(void 0),e.Rc&&(e.Rc.removeEventListener("mskeyclose",e.jh),e.Rc.removeEventListener("mskeymessage",e.Dc),e.Rc.removeEventListener("mskeyerror",e.Nc),e.Rc.removeEventListener("mskeyadded",e.Cc))},e.Dc=function(t){e.Ec&&(e.Ec.Qu(void 0),e.Ec=void 0),e.$s(new ku(Kt(e),"license-request",Ho(t.message).buffer,t.destinationURL||void 0))},e.Nc=function(){var t=e.Rc&&e.Rc.error;if(t){var n=new Qo("Unknown CDM error",t.code,t.systemCode);if(e.Ec)e.Ec.Zu(n),e.Ec=void 0;else if(e.Sc)e.Sc.Zu(n),e.Sc=void 0;else switch(n.Ku){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Pc("output-not-allowed");break;default:e.Pc("internal-error")}}},e.Cc=function(){e.Ec&&(e.Pc("usable"),e.Ec.Qu(void 0),e.Ec=void 0),e.Sc&&(e.Pc("usable"),e.Sc.Qu(void 0),e.Sc=void 0)},e.Bc=n,e.Oc=i,e.Tc=new Wo,e.Ic=new Su,e}S(n,t);var i=n.prototype;return i.Kh=function(t,n,i){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.xc(),this.Ec=new Wo,this.fc(Uo(n),i),t.next=5,Dr.awrap(this.Ec.Gu);case 5:case"end":return t.stop()}},null,this,null,We)},i.fc=function(t,n){if(!t)throw new l("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Lc;return(i=n?this.Bc.createSession(this.Oc,t,e):this.Bc.createSession(this.Oc,t)).addEventListener("mskeyclose",this.jh),i.addEventListener("mskeymessage",this.Dc),i.addEventListener("mskeyerror",this.Nc),i.addEventListener("mskeyadded",this.Cc),this.Rc=i,this.Pc("status-pending"),i},i.Jh=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.xc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,We)},i.tc=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Sc=new Wo,this.xc(),this.Rc){i.next=4;break}return i.abrupt("return",We.resolve());case 4:if(0!==(n=Uo(t)).byteLength){i.next=7;break}throw new l("Cannot call update with an empty response.");case 7:return this.Rc.update(n),i.next=10,Dr.awrap(this.Sc.Gu);case 10:case"end":return i.stop()}},null,this,null,We)},i.Zh=function(){return!this.Hh&&this.Rc&&(this.Hh=!0,this.Rc.close()),this.Tc.Gu},i.$h=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.xc(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,We)},i.xc=function(){if(this.Hh)throw new l("Already closing or closed.")},i.Pc=function(t){this.Ic.Ou(),this.Ic.Bu(Tu,t),this.$s(new yu(this))},A(n,[{key:"uc",get:function(){return this.Rc&&this.Rc.sessionId||""}},{key:"ec",get:function(){return NaN}},{key:"ic",get:function(){return this.Tc.Gu}},{key:"rc",get:function(){return this.Ic}}]),n}(du),Gc=function(){function t(t,n,i){this.Oc=void 0,this.Bc=t,this.hc=n,this.cc=i;var e=Uc(i)||"video/mp4";this.Oc=Oc(e)}var n=t.prototype;return n.fc=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Wc(this.Bc,this.Oc));case 1:case"end":return t.stop()}},null,this,null,We)},n.vc=function(t){return We.resolve(!1)},n.lc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Bc):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Bc),t.removeEventListener("loadedmetadata",i)}),We.resolve()},n.dc=function(t){return We.resolve()},n.wc=function(){return We.resolve()},t}(),qc=function(){function t(t,n){this.Yh=t,this.Mc=n}var n=t.prototype;return n.yc=function(){return this.Mc},n.mc=function(){var t=new le.MSMediaKeys(this.Yh);return We.resolve(new Gc(t,this.Yh,this.Mc))},A(t,[{key:"hc",get:function(){return this.Yh}}]),t}(),Yc=function(){function t(){}return t.prototype.Ds=function(t,n){try{return We.resolve(function(t,n){if(!jc())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Lc(Qc,gu,t,e);if(r)return new qc(t,r)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return We.reject(t)}},t.Ac=function(){return jc()},t}();function jc(){return void 0!==le.MSMediaKeys&&"function"==typeof le.MSMediaKeys.isTypeSupported}function Qc(t,n){return le.MSMediaKeys.isTypeSupported(t,n)}var Zc,Kc,Jc=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Tc=new Wo,r.Uc=void 0,r.Ic=new Su,r.Xc=void 0,r.Hc=new Wo,r.Nc=function(){var t=r.Xc&&r.Xc.error;if(t){var n=new Qo("Unknown CDM error",t.code,t.systemCode);r.Uc?(r.Uc.Zu(n),r.Uc=void 0):n.Ku===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Pc("output-not-allowed"):r.Pc("internal-error"),r.$s(new pu)}},r.Dc=function(t){r.$s(new ku(Kt(r),"license-request",Ho(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Cc=function(){r.Uc&&(r.Uc.Qu(void 0),r.Uc=void 0),r.Pc("usable")},r.Fc=n,r.Oc=i,r.zc=e,r}S(n,t);var i=n.prototype;return i.Kh=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Vc;if(!e)throw new l("Expected FairPlay contentId to be defined but was "+e+".");var r=$c(Uo(n),e,this.zc);return this.Xc=this.Fc.createSession(this.Oc,r),this.Xc.addEventListener("webkitkeymessage",this.Dc,!1),this.Xc.addEventListener("webkitkeyadded",this.Cc,!1),this.Xc.addEventListener("webkitkeyerror",this.Nc,!1),this.Pc("status-pending"),this.Hc.Qu(this.Xc),this.Hc=new Wo,We.resolve()},i.Jh=function(t){return We.resolve(!0)},i.tc=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Uo(t)).byteLength){i.next=3;break}throw new l("Cannot call update with an empty response.");case 3:if(this.Uc=new Wo,i.t0=this.Xc,i.t0){i.next=9;break}return i.next=8,Dr.awrap(this.Hc.Gu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,Dr.awrap(this.Uc.Gu);case 13:case"end":return i.stop()}},null,this,null,We)},i.Zh=function(){var t,n=this.Xc;return n&&(n.removeEventListener("webkitkeymessage",this.Dc,!1),n.removeEventListener("webkitkeyadded",this.Cc,!1),n.removeEventListener("webkitkeyerror",this.Nc,!1),n.close()),this.Hc.Gs(),null==(t=this.Uc)||t.Gs(),this.Tc.Qu(void 0),this.Tc.Gu},i.$h=function(){return We.resolve(void 0)},i.Pc=function(t){this.Ic.Ou(),this.Ic.Bu(Tu,t),this.$s(new yu(this))},A(n,[{key:"uc",get:function(){return this.Xc?this.Xc.sessionId:""}},{key:"ec",get:function(){return NaN}},{key:"ic",get:function(){return this.Tc.Gu}},{key:"rc",get:function(){return this.Ic}}]),n}(du);function $c(t,n,i){var e=No(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),a=new zo;return fo(o,a,r,!0),Ao(o,a,e,!0),fo(o,a,s,!0),Ao(o,a,n,!0),fo(o,a,i.byteLength,!0),so(o,a,i),new y(u)}n.ErrorCode=void 0,(Zc=n.ErrorCode||(n.ErrorCode={}))[Zc.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Zc[Zc.LICENSE_ERROR=2e3]="LICENSE_ERROR",Zc[Zc.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Zc[Zc.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Zc[Zc.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Zc[Zc.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",Zc[Zc.SOURCE_INVALID=3e3]="SOURCE_INVALID",Zc[Zc.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Zc[Zc.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Zc[Zc.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Zc[Zc.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Zc[Zc.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Zc[Zc.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Zc[Zc.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Zc[Zc.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Zc[Zc.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Zc[Zc.NETWORK_ERROR=6e3]="NETWORK_ERROR",Zc[Zc.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Zc[Zc.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Zc[Zc.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Zc[Zc.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Zc[Zc.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Zc[Zc.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Zc[Zc.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Zc[Zc.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Zc[Zc.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Zc[Zc.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Zc[Zc.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Zc[Zc.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Zc[Zc.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Zc[Zc.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Zc[Zc.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Zc[Zc.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Zc[Zc.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Zc[Zc.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Zc[Zc.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Zc[Zc.AD_ERROR=1e4]="AD_ERROR",Zc[Zc.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Zc[Zc.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",Zc[Zc.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",Zc[Zc.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",n.ErrorCategory=void 0,(Kc=n.ErrorCategory||(n.ErrorCategory={}))[Kc.CONFIGURATION=1]="CONFIGURATION",Kc[Kc.LICENSE=2]="LICENSE",Kc[Kc.SOURCE=3]="SOURCE",Kc[Kc.MANIFEST=4]="MANIFEST",Kc[Kc.MEDIA=5]="MEDIA",Kc[Kc.NETWORK=6]="NETWORK",Kc[Kc.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Kc[Kc.SUBTITLE=8]="SUBTITLE",Kc[Kc.VR=9]="VR",Kc[Kc.AD=10]="AD",Kc[Kc.FULLSCREEN=11]="FULLSCREEN",Kc[Kc.CACHE=12]="CACHE",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=w.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new l("Invalid error code: "+t)}}();var tf=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return S(i,t),A(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}($t);var nf=function(){function t(t,n,i){this.Oc=void 0,this.zc=void 0,this.Fc=t,this.hc=n,this.cc=i;var e=Uc(i)||"video/mp4";this.Oc=Oc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Fc},i.fc=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.zc){t.next=2;break}throw new tf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Jc(this.Fc,this.Oc,this.zc));case 3:case"end":return t.stop()}},null,this,null,We)},i.vc=function(t){return this.zc=Uo(t),We.resolve(!0)},i.lc=function(t){return t.webkitSetMediaKeys(this.Fc),We.resolve()},i.dc=function(t){return t.webkitSetMediaKeys(null),We.resolve()},i.wc=function(){return We.resolve()},t}(),ef=function(){function t(t,n){this.Yh=t,this.Mc=n}var n=t.prototype;return n.yc=function(){return this.Mc},n.mc=function(){var t=new le.WebKitMediaKeys(this.Yh);return We.resolve(new nf(t,this.Yh,this.Mc))},A(t,[{key:"hc",get:function(){return this.Yh}}]),t}(),rf=function(){function t(){}return t.prototype.Ds=function(t,n){try{return We.resolve(function(t,n){if(t!==is)throw new l(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!sf())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Lc(uf,mu,t,e);if(r)return new ef(t,r)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return We.reject(t)}},t.Ac=function(){return sf()},t}();function sf(){return void 0!==le.WebKitMediaKeys&&"function"==typeof le.WebKitMediaKeys.isTypeSupported}function uf(t,n){return le.WebKitMediaKeys.isTypeSupported(t,n)}var of=function(){function t(t){this.Wc=t}return t.prototype.Ds=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Wc;case 1:if(!(i<e.length)){s.next=14;break}return r=e[i],s.prev=3,s.next=6,Dr.awrap(r.Ds(t,n));case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(3);case 11:i++,s.next=1;break;case 14:throw new l("Unsupported key system configuration for "+t);case 15:case"end":return s.stop()}},null,this,[[3,9]],We)},t}(),af=function(){function t(t){var n=this;this.Gc=[],this.qc=void 0,this.Yc=new Ks,this.jc=void 0,this.Qc=function(){return 0===n.Gc.length?n.jc?hf(n.jc,n.Yc.js).then(n.Zc,n.Zc):n.Zc():n.Gc.shift()().then(n.Qc)},this.Zc=function(){if(0!==n.Gc.length)return n.Qc();n.qc=void 0},this.jc=t}var n=t.prototype;return n.Kc=function(t,n){var i=this;return new We(function(e){var r=new Ks;r.qs(i.Yc.js),n&&r.qs(n);var s=function(){r.Xs()};i.Gc.push(function(){var n=hf(t,r.js);return e(n),n.then(s,s)}),i.qc||(i.qc=i.Qc())})},n.Gs=function(){return this.Jc(!0)},n.$c=function(){return this.jc=void 0,this.Jc(!1)},n.Jc=function(t){var n=this.qc;return this.Yc.Gs(),t&&(this.Yc=new Ks),We.resolve(n)},t}();function hf(t,n){return new We(function(i){return i(t(n))})}var cf,ff=new af,vf=function(t){function n(n){var i;return(i=t.call(this)||this).Ec=void 0,i.Uc=void 0,i.Tc=void 0,i.Ao=!1,i.tf=void 0,i.nf=void 0,i.if=void 0,i.ef=void 0,i.rf=void 0,i.Yh=n,i.Tc=new Wo,i.nf="",i.rf=new Wo,i.if=new Su,i}S(n,t);var i=n.prototype;return i.sf=function(){this.Uc&&(this.Pc("usable"),this.Uc.Qu(void 0),this.Uc=void 0)},i.uf=function(t){var n=new Qo("Unknown CDM error",t.errorCode,t.systemCode);this.Uc?(this.Uc.Zu(n),this.Uc=void 0):this.Ec?(this.Ec.Zu(n),this.Ec=void 0):n.Ku===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Pc("output-restricted"):1===n.Ju?this.Pc("expired"):this.Pc("internal-error")},i.hf=function(t){0!==t.message.byteLength&&(this.Ec&&(this.Ec.Qu(void 0),this.Ec=void 0),this.$s(new ku(this,"license-request",Yo(this.Yh,Ho(t.message).buffer),t.defaultURL||void 0)))},i.cf=function(t){this.ef||(this.ef=t,this.rf.Qu(t))},i.Zh=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Uc&&(this.Uc.Zu(void 0),this.Uc=void 0),this.Ao=!0,this.Tc.Qu(void 0);case 4:case"end":return t.stop()}},null,this,null,We)},i.Kh=function(t,n){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Ec=new Wo,this.tf=Uo(n),t.t0=this.ef,t.t0){t.next=8;break}return t.next=7,Dr.awrap(this.rf.Gu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Yh,this.tf),t.next=12,Dr.awrap(this.Ec.Gu);case 12:case"end":return t.stop()}},null,this,null,We)},i.Jh=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,We)},i.$h=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,We)},i.tc=function(t){var n=this;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.throwIfClosed(),this.Uc=new Wo,!M.In&&!M.Sn){i.next=4;break}return i.abrupt("return",ff.Kc(function(){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(n.doUpdate(t));case 2:case"end":return i.stop()}},null,null,null,We)}));case 4:return i.next=6,Dr.awrap(this.doUpdate(t));case 6:case"end":return i.stop()}},null,this,null,We)},i.doUpdate=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==this.Uc){n.next=2;break}return n.abrupt("return");case 2:if(n.t0=this.ef,n.t0){n.next=7;break}return n.next=6,Dr.awrap(this.rf.Gu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Yh,Uo(t),this.tf,this.uc),n.next=11,Dr.awrap(this.Uc.Gu);case 11:case"end":return n.stop()}},null,this,null,We)},i.throwIfClosed=function(){if(this.Ao)throw new l("Already closing or closed.")},i.Pc=function(t){this.if.Ou(),this.if.Bu(Tu,t),this.$s(new yu(this))},i.vf=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.ef,n.t0){n.next=5;break}return n.next=4,Dr.awrap(this.rf.Gu);case 4:n.t0=n.sent;case 5:if(!(t=n.t0).webkitCancelKeyRequest){n.next=17;break}n.prev=7,t.webkitCancelKeyRequest(this.Yh,this.nf),n.next=13;break;case 11:n.prev=11,n.t1=n.catch(7);case 13:return n.prev=13,n.next=16,Dr.awrap(cu(500));case 16:return n.finish(13);case 17:case"end":return n.stop()}},null,this,[[7,11,13,17]],We)},A(n,[{key:"rc",get:function(){return this.if}},{key:"uc",get:function(){return this.nf},set:function(t){this.nf=t}},{key:"ic",get:function(){return this.Tc.Gu}},{key:"ec",get:function(){return NaN}}]),n}(du),lf=function(){function t(t,n){var i=this;this.ef=void 0,this.lf=Pr(),this.df=[],this.Cc=function(t){var n=i.wf(t.sessionId);n&&n.sf()},this._f=function(t){var n=i.wf(t.sessionId);n&&n.uf(t)},this.gf=function(t){var n=i.wf(t.sessionId);n&&n.hf(t)},this.hc=t,this.cc=n}var n=t.prototype;return n.lc=function(t){return this.ef=t,this.ef.addEventListener("webkitkeyadded",this.Cc),this.ef.addEventListener("webkitkeyerror",this._f),this.ef.addEventListener("webkitkeymessage",this.gf),this.lf.forEach(function(n,i){return n.cf(t)}),this.df.forEach(function(n){return n.cf(t)}),We.resolve()},n.dc=function(t){return t.removeEventListener("webkitkeyadded",this.Cc),t.removeEventListener("webkitkeyerror",this._f),t.removeEventListener("webkitkeymessage",this.gf),this.ef=void 0,We.resolve()},n.wc=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:t=this.lf.entries(),n=t.next();case 2:if(n.done){i.next=8;break}return i.next=5,Dr.awrap(n.value[1].vf());case 5:n=t.next(),i.next=2;break;case 8:this.lf.clear();case 9:case"end":return i.stop()}},null,this,null,We)},n.fc=function(t,n,i){var e;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new vf(this.hc),this.ef&&e.cf(this.ef),this.df.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,We)},n.vc=function(t){return We.resolve(!1)},n.wf=function(t){if(t){var n=this.lf.get(t);return n||((n=this.df.shift())?(n.uc=t,this.lf.set(t,n),n):void 0)}},t}(),df=function(){function t(t,n){this.hc=t,this.mf=n}var n=t.prototype;return n.mc=function(){return We.resolve(new lf(this.hc,this.mf))},n.yc=function(){return this.mf},t}(),wf=function(){function t(){}return t.prototype.Ds=function(t,n){try{return We.resolve(_f(t,n))}catch(t){return We.reject(t)}},t.Ac=function(){return Ts()},t}();function _f(t,n){if(!wf.Ac())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Lc(gf,gu,t,e);if(r)return new df(t,r)}throw new l("Unsupported key system configuration for "+t)}function gf(t,n){var i=ar();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function mf(){return cf||(cf=function(){var t=[];rf.Ac()&&t.push(new rf);Vc.Ac()&&t.push(new Vc);Yc.Ac()&&t.push(new Yc);wf.Ac()&&t.push(new wf);return new of(t)}()),cf}var yf=function(){function t(){this.yf=Pr()}var n=t.prototype;return n.Ou=function(t){this.yf.delete(t)},n.kf=function(){this.yf.clear()},n.Cu=function(t){return this.yf.get(t)},n.pf=function(t,n){this.yf.set(t,n)},t}(),kf=function(){function t(){}return t.bf=function(){return t.jn||(t.jn=pf.Ac()?new pf:new yf),t.jn},t.Ou=function(n){t.bf().Ou(n)},t.kf=function(){t.bf().kf()},t.Cu=function(n){return t.bf().Cu(n)},t.pf=function(n,i){t.bf().pf(n,i)},t}();kf.jn=void 0;var pf=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.Ac=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.Ou=function(n){t.sessionStorage.removeItem(n)},e.kf=function(){t.sessionStorage.clear()},e.Cu=function(n){return t.sessionStorage[n]},e.pf=function(n,i){t.sessionStorage[n]=i},i}(kf);var bf=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}}();function Af(t,n,i){var e=bf([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=s.createElement("a");o.href=r,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(r)}var Tf,Sf;!function(t){t.Af="Tf",t.Sf="Ef",t.If="contentprotectionerror",t.Rf="contentprotectionsuccess",t.Df="currentsourcechange",t.Nf="destroy",t.Cf="durationchange",t.Pf="emptied",t.Tu="encrypted",t.Bf="ended",t.Of="xf",t.Lf="loadstart",t.Mf="manifestupdate",t.Uf="nosupportedrepresentationfound",t.Xf="offline",t.Hf="online",t.Ff="pause",t.zf="play",t.Vf="progress",t.Wf="ratechange",t.Gf="representationchange",t.qf="resize",t.Yf="seeked",t.jf="seeking",t.Qf="segmentnotfound",t.Zf="Kf",t.Jf="$f",t.tv="sourcechange",t.ev="timeupdate",t.rv="volumechange",t.uv="ov",t.hv="metricschange"}(Tf||(Tf={})),function(t){t.fv="arraybuffer",t.vv="json",t.wv="stream",t.ni="text"}(Sf||(Sf={}));var Ef=function(){function t(n){var i=this;this.us=void 0,this.us={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=If(i),e=Rf(e);var r=i.toLowerCase();if(this.us.hasOwnProperty(r)){var s=this.us[r],u=s[1];s[1]=u?u+", "+e:e}else this.us[r]=[i,e]},n.delete=function(t){var n=If(t).toLowerCase();delete this.us[n]},n.get=function(t){var n=If(t).toLowerCase();return this.us.hasOwnProperty(n)?this.us[n][1]:null},n.has=function(t){var n=If(t).toLowerCase();return this.us.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=If(i)).toLowerCase();this.us[e]=[i,Rf(n)]},n.forEach=function(t,n){for(var i in this.us)this.us.hasOwnProperty(i)&&t.call(n,this.us[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.us)if(this.us.hasOwnProperty(n)){var i=this.us[n],e=i[0],r=i[1];t.push([e,r])}return t},n._v=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.mv=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.yv=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function If(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new l("Invalid character in header field name");return n}function Rf(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Nf(){}var Cf=Number.isNaN||function(t){return t!=t},Pf=Nf;function Bf(t){return"object"==typeof t&&null!==t||"function"==typeof t}function Of(t){return t.slice()}function xf(t){return!1!==function(t){if("number"!=typeof t)return!1;if(Cf(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Lf(t,n,i){if("function"!=typeof t)throw new l("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Mf(t,n,i,e){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new l(r+" is not a method");switch(i){case 0:return function(){return Xf(r,t,e)};case 1:return function(n){var i=[n].concat(e);return Xf(r,t,i)}}}return function(){return jf(void 0)}}function Uf(t,n,i){var e=t[n];if(void 0!==e)return Lf(e,t,i)}function Xf(t,n,i){try{return jf(Lf(t,n,i))}catch(t){return Qf(t)}}function Hf(t){return t}function Ff(t){if(t=Number(t),Cf(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function zf(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new l("size property of a queuing strategy must be a function");return function(n){return t(n)}}var Vf=We,Wf=We.prototype.then,Gf=We.resolve.bind(Vf),qf=We.reject.bind(Vf);function Yf(t){return new Vf(t)}function jf(t){return Gf(t)}function Qf(t){return qf(t)}function Zf(t,n,i){return Wf.call(t,n,i)}function Kf(t,n,i){Zf(Zf(t,n,i),void 0,Pf)}function Jf(t,n){Kf(t,n)}function $f(t,n){Kf(t,void 0,n)}function tv(t,n,i){return Zf(t,n,i)}function nv(t){Zf(t,void 0,Pf)}var iv=function(){function t(){this.pv=0,this.bv=0,this.Ie={Av:[],Tv:void 0},this.Sv=this.Ie,this.pv=0,this.bv=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.bv},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Sv,i=n;16383===n.Av.length&&(i={Av:[],Tv:void 0}),n.Av.push(t),i!==n&&(this.Sv=i,n.Tv=i),++this.bv},t.prototype.shift=function(){var t=this.Ie,n=t,i=this.pv,e=i+1,r=t.Av,s=r[i];return 16384===e&&(n=t.Tv,e=0),--this.bv,this.pv=e,t!==n&&(this.Ie=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.pv,i=this.Ie,e=i.Av;!(n===e.length&&void 0===i.Tv||n===e.length&&(n=0,0===(e=(i=i.Tv).Av).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Ie,n=this.pv;return t.Av[n]},t}();function ev(t,n,i){var e=null;!0===i&&(e=d.prototype);var r=d.create(e);return r.value=t,r.done=n,r}function rv(t,n){t.Ev=!0,t.Iv=n,n.Rv=t,"readable"===n.ye?av(t):"closed"===n.ye?function(t){av(t),fv(t)}(t):hv(t,n.Dv)}function sv(t,n){return wd(t.Iv,n)}function uv(t){"readable"===t.Iv.ye?cv(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){hv(t,n)}(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")),t.Iv.Rv=void 0,t.Iv=void 0}function ov(t){return new l("Cannot "+t+" a stream using a released reader")}function av(t){t.Fh=Yf(function(n,i){t.Nv=n,t.Cv=i})}function hv(t,n){av(t),cv(t,n)}function cv(t,n){nv(t.Fh),t.Cv(n),t.Nv=void 0,t.Cv=void 0}function fv(t){t.Nv(void 0),t.Nv=void 0,t.Cv=void 0}var vv=Df("[[CancelSteps]]"),lv=Df("[[PullSteps]]");function dv(t,n){void 0===n&&(n=!1);var i=new pv(t);return i.Ev=n,i}function wv(t){return Yf(function(n,i){var e={Yu:n,ju:i};t.Rv.Pv.push(e)})}function _v(t,n,i){var e=t.Rv;e.Pv.shift().Yu(ev(n,i,e.Ev))}function gv(t){return t.Rv.Pv.length}function mv(t){var n=t.Rv;return void 0!==n&&!!bv(n)}var yv,kv,pv=function(){function t(t){if(!1===ld(t))throw new l("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===dd(t))throw new l("This stream has already been locked for exclusive reading by another reader");rv(this,t),this.Pv=new iv}return d.defineProperty(t.prototype,"closed",{get:function(){return bv(this)?this.Fh:Qf(Tv("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return bv(this)?void 0===this.Iv?Qf(ov("cancel")):sv(this,t):Qf(Tv("cancel"))},t.prototype.read=function(){return bv(this)?void 0===this.Iv?Qf(ov("read from")):Av(this):Qf(Tv("read"))},t.prototype.releaseLock=function(){if(!bv(this))throw Tv("releaseLock");if(void 0!==this.Iv){if(this.Pv.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");uv(this)}},t}();function bv(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"Pv")}function Av(t){var n=t.Iv;return n.Bv=!0,"closed"===n.ye?jf(ev(void 0,!0,t.Ev)):"errored"===n.ye?Qf(n.Dv):n.Ov[lv]()}function Tv(t){return new l("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof Df.asyncIterator&&((yv={})[Df.asyncIterator]=function(){return this},kv=yv,d.defineProperty(kv,Df.asyncIterator,{enumerable:!1}));var Sv={next:function(){if(!1===Ev(this))return Qf(Iv("next"));var t=this.xv;return void 0===t.Iv?Qf(ov("iterate")):tv(Av(t),function(n){var i=n.done;return i&&uv(t),ev(n.value,i,!0)})},return:function(t){if(!1===Ev(this))return Qf(Iv("next"));var n=this.xv;if(void 0===n.Iv)return Qf(ov("finish iterating"));if(n.Pv.length>0)return Qf(new l("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Lv){var i=sv(n,t);return uv(n),tv(i,function(){return ev(t,!0,!0)})}return uv(n),jf(ev(t,!0,!0))}};function Ev(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"xv")}function Iv(t){return new l("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Rv(t){var n=t.Mv.shift();return t.Uv-=n.size,t.Uv<0&&(t.Uv=0),n.value}function Dv(t,n,i){if(!xf(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Mv.push({value:n,size:i}),t.Uv+=i}function Nv(t){t.Mv=new iv,t.Uv=0}void 0!==kv&&d.setPrototypeOf(Sv,kv),d.defineProperty(Sv,"next",{enumerable:!1}),d.defineProperty(Sv,"return",{enumerable:!1});var Cv=Df("[[AbortSteps]]"),Pv=Df("[[ErrorSteps]]"),Bv=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),xv(this);var i=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=zf(i);void 0===e&&(e=1),function(t,n,i,e){var r=d.create($v.prototype);var s=Mf(n,"write",1,[r]),u=Mf(n,"close",0,[]),o=Mf(n,"abort",1,[]);tl(t,r,function(){return Uf(n,"start",[r])},s,u,o,i,e)}(this,t,e=Ff(e),r)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===Lv(this))throw ol("locked");return Mv(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Lv(this)?Qf(ol("abort")):!0===Mv(this)?Qf(new l("Cannot abort a stream that already has a writer")):Uv(this,t)},t.prototype.close=function(){return!1===Lv(this)?Qf(ol("close")):!0===Mv(this)?Qf(new l("Cannot close a stream that already has a writer")):!0===Vv(this)?Qf(new l("Cannot close an already-closing stream")):Xv(this)},t.prototype.getWriter=function(){if(!1===Lv(this))throw ol("getWriter");return Ov(this)},t}();function Ov(t){return new qv(t)}function xv(t){t.ye="writable",t.Dv=void 0,t.Io=void 0,t.Xv=void 0,t.Hv=new iv,t.Fv=void 0,t.zv=void 0,t.Vv=void 0,t.Wv=void 0,t.Gv=!1}function Lv(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"Xv")}function Mv(t){return void 0!==t.Io}function Uv(t,n){var i=t.ye;if("closed"===i||"errored"===i)return jf(void 0);if(void 0!==t.Wv)return t.Wv.qv;var e=!1;"erroring"===i&&(e=!0,n=void 0);var r=Yf(function(i,r){t.Wv={qv:void 0,Yu:i,ju:r,Yv:n,Qv:e}});return t.Wv.qv=r,!1===e&&Fv(t,n),r}function Xv(t){var n=t.ye;if("closed"===n||"errored"===n)return Qf(new l("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=Yf(function(n,i){var e={Yu:n,ju:i};t.zv=e}),r=t.Io;return void 0!==r&&!0===t.Gv&&"writable"===n&&ml(r),Dv(i=t.Xv,"close",0),el(i),e}function Hv(t,n){"writable"!==t.ye?zv(t):Fv(t,n)}function Fv(t,n){var i=t.Xv;t.ye="erroring",t.Dv=n;var e=t.Io;void 0!==e&&Zv(e,n),!1===function(t){if(void 0===t.Fv&&void 0===t.Vv)return!1;return!0}(t)&&!0===i.Zv&&zv(t)}function zv(t){t.ye="errored",t.Xv[Pv]();var n=t.Dv;if(t.Hv.forEach(function(t){t.ju(n)}),t.Hv=new iv,void 0!==t.Wv){var i=t.Wv;if(t.Wv=void 0,!0===i.Qv)return i.ju(n),void Wv(t);Kf(t.Xv[Cv](i.Yv),function(){i.Yu(),Wv(t)},function(n){i.ju(n),Wv(t)})}else Wv(t)}function Vv(t){return void 0!==t.zv||void 0!==t.Vv}function Wv(t){void 0!==t.zv&&(t.zv.ju(t.Dv),t.zv=void 0);var n=t.Io;void 0!==n&&vl(n,t.Dv)}function Gv(t,n){var i=t.Io;void 0!==i&&n!==t.Gv&&(!0===n?function(t){dl(t)}(i):ml(i)),t.Gv=n}var qv=function(){function t(t){if(!1===Lv(t))throw new l("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Mv(t))throw new l("This stream has already been locked for exclusive writing by another writer");this.Kv=t,t.Io=this;var n,i=t.ye;if("writable"===i)!1===Vv(t)&&!0===t.Gv?dl(this):_l(this),cl(this);else if("erroring"===i)wl(this,t.Dv),cl(this);else if("closed"===i)_l(this),cl(n=this),ll(n);else{var e=t.Dv;wl(this,e),fl(this,e)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===Yv(this)?Qf(al("closed")):this.Fh},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Yv(this))throw al("desiredSize");if(void 0===this.Kv)throw hl("desiredSize");return function(t){var n=t.Kv,i=n.ye;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return il(n.Xv)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===Yv(this)?Qf(al("ready")):this.Jv},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Yv(this)?Qf(al("abort")):void 0===this.Kv?Qf(hl("abort")):function(t,n){return Uv(t.Kv,n)}(this,t)},t.prototype.close=function(){if(!1===Yv(this))return Qf(al("close"));var t=this.Kv;return void 0===t?Qf(hl("close")):!0===Vv(t)?Qf(new l("Cannot close an already-closing stream")):jv(this)},t.prototype.releaseLock=function(){if(!1===Yv(this))throw al("releaseLock");void 0!==this.Kv&&Kv(this)},t.prototype.write=function(t){return!1===Yv(this)?Qf(al("write")):void 0===this.Kv?Qf(hl("write to")):Jv(this,t)},t}();function Yv(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"Kv")}function jv(t){return Xv(t.Kv)}function Qv(t,n){"pending"===t.$v?vl(t,n):function(t,n){fl(t,n)}(t,n)}function Zv(t,n){"pending"===t.il?gl(t,n):function(t,n){wl(t,n)}(t,n)}function Kv(t){var n=t.Kv,i=new l("Writer was released and can no longer be used to monitor the stream's closedness");Zv(t,i),Qv(t,i),n.Io=void 0,t.Kv=void 0}function Jv(t,n){var i=t.Kv,e=i.Xv,r=function(t,n){try{return t.ul(n)}catch(n){return rl(t,n),1}}(e,n);if(i!==t.Kv)return Qf(hl("write to"));var s=i.ye;if("errored"===s)return Qf(i.Dv);if(!0===Vv(i)||"closed"===s)return Qf(new l("The stream is closing or closed and cannot be written to"));if("erroring"===s)return Qf(i.Dv);var u=function(t){return Yf(function(n,i){var e={Yu:n,ju:i};t.Hv.push(e)})}(i);return function(t,n,i){var e={chunk:n};try{Dv(t,e,i)}catch(n){return void rl(t,n)}var r=t.ol;if(!1===Vv(r)&&"writable"===r.ye){var s=sl(t);Gv(r,s)}el(t)}(e,n,r),u}var $v=function(){function t(){throw new l("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!Bf(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"ol"))return!1;return!0}(this))throw new l("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.ol.ye&&ul(this,t)},t.prototype[Cv]=function(t){var n=this.al(t);return nl(this),n},t.prototype[Pv]=function(){Nv(this)},t}();function tl(t,n,i,e,r,s,u,o){n.ol=t,t.Xv=n,n.Mv=void 0,n.Uv=void 0,Nv(n),n.Zv=!1,n.ul=o,n.hl=u,n.cl=e,n.fl=r,n.al=s;var a=sl(n);Gv(t,a),Kf(jf(i()),function(){n.Zv=!0,el(n)},function(i){n.Zv=!0,Hv(t,i)})}function nl(t){t.cl=void 0,t.fl=void 0,t.al=void 0,t.ul=void 0}function il(t){return t.hl-t.Uv}function el(t){var n=t.ol;if(!1!==t.Zv&&void 0===n.Fv)if("erroring"!==n.ye){if(0!==t.Mv.length){var i=t.Mv.peek().value;"close"===i?function(t){var n=t.ol;(function(t){t.Vv=t.zv,t.zv=void 0})(n),Rv(t);var i=t.fl();nl(t),Kf(i,function(){!function(t){t.Vv.Yu(void 0),t.Vv=void 0,"erroring"===t.ye&&(t.Dv=void 0,void 0!==t.Wv&&(t.Wv.Yu(),t.Wv=void 0)),t.ye="closed";var n=t.Io;void 0!==n&&ll(n)}(n)},function(t){!function(t,n){t.Vv.ju(n),t.Vv=void 0,void 0!==t.Wv&&(t.Wv.ju(n),t.Wv=void 0),Hv(t,n)}(n,t)})}(t):function(t,n){var i=t.ol;(function(t){t.Fv=t.Hv.shift()})(i),Kf(t.cl(n),function(){!function(t){t.Fv.Yu(void 0),t.Fv=void 0}(i);var n=i.ye;if(Rv(t),!1===Vv(i)&&"writable"===n){var e=sl(t);Gv(i,e)}el(t)},function(n){"writable"===i.ye&&nl(t),function(t,n){t.Fv.ju(n),t.Fv=void 0,Hv(t,n)}(i,n)})}(t,i.chunk)}}else zv(n)}function rl(t,n){"writable"===t.ol.ye&&ul(t,n)}function sl(t){return il(t)<=0}function ul(t,n){var i=t.ol;nl(t),Fv(i,n)}function ol(t){return new l("WritableStream.prototype."+t+" can only be used on a WritableStream")}function al(t){return new l("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function hl(t){return new l("Cannot "+t+" a stream using a released writer")}function cl(t){t.Fh=Yf(function(n,i){t.Nv=n,t.Cv=i,t.$v="pending"})}function fl(t,n){cl(t),vl(t,n)}function vl(t,n){nv(t.Fh),t.Cv(n),t.Nv=void 0,t.Cv=void 0,t.$v="rejected"}function ll(t){t.Nv(void 0),t.Nv=void 0,t.Cv=void 0,t.$v="resolved"}function dl(t){t.Jv=Yf(function(n,i){t.vl=n,t.ll=i}),t.il="pending"}function wl(t,n){dl(t),gl(t,n)}function _l(t){dl(t),ml(t)}function gl(t,n){nv(t.Jv),t.ll(n),t.vl=void 0,t.ll=void 0,t.il="rejected"}function ml(t){t.vl(void 0),t.vl=void 0,t.ll=void 0,t.il="fulfilled"}function yl(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var kl="undefined"!=typeof DOMException?DOMException:void 0;var pl,bl=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(kl)?kl:((pl=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=d.create(v.prototype),d.defineProperty(pl.prototype,"constructor",{value:pl,writable:!0,configurable:!0}),pl);function Al(t,n,i,e,r,s){var u=dv(t),o=Ov(n);t.Bv=!0;var a=!1,h=jf(void 0);return Yf(function(c,f){var v,d,w,_;if(void 0!==s){if(v=function(){var i=new bl("Aborted","AbortError"),s=[];!1===e&&s.push(function(){return"writable"===n.ye?Uv(n,i):jf(void 0)}),!1===r&&s.push(function(){return"readable"===t.ye?wd(t,i):jf(void 0)}),k(function(){return We.all(s.map(function(t){return t()}))},!0,i)},!0===s.aborted)return void v();s.addEventListener("abort",v)}if(y(t,u.Fh,function(t){!1===e?k(function(){return Uv(n,t)},!0,t):p(!0,t)}),y(n,o.Fh,function(n){!1===r?k(function(){return wd(t,n)},!0,n):p(!0,n)}),d=t,w=u.Fh,_=function(){!1===i?k(function(){return function(t){var n=t.Kv,i=n.ye;return!0===Vv(n)||"closed"===i?jf(void 0):"errored"===i?Qf(n.Dv):jv(t)}(o)}):p()},"closed"===d.ye?_():Jf(w,_),!0===Vv(n)||"closed"===n.ye){var g=new l("the destination writable stream closed before all data could be piped to it");!1===r?k(function(){return wd(t,g)},!0,g):p(!0,g)}function m(){var t=h;return Zf(h,function(){return t!==h?m():void 0})}function y(t,n,i){"errored"===t.ye?i(t.Dv):$f(n,i)}function k(t,i,e){function r(){Kf(t(),function(){return b(i,e)},function(t){return b(!0,t)})}!0!==a&&(a=!0,"writable"===n.ye&&!1===Vv(n)?Jf(m(),r):r())}function p(t,i){!0!==a&&(a=!0,"writable"===n.ye&&!1===Vv(n)?Jf(m(),function(){return b(t,i)}):b(t,i))}function b(t,n){Kv(o),uv(u),void 0!==s&&s.removeEventListener("abort",v),t?f(n):c(void 0)}nv(Yf(function(t,n){!function i(e){e?t():Zf(!0===a?jf(!0):Zf(o.Jv,function(){return Zf(Av(u),function(t){return!0===t.done||(h=Zf(Jv(o,t.value),void 0,Nf),!1)})}),i,n)}(!1)}))})}var Tl=function(){function t(){throw new l}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Sl(this))throw xl("desiredSize");return Pl(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Sl(this))throw xl("close");if(!1===Bl(this))throw new l("The stream is not in a state that permits close");Dl(this)},t.prototype.enqueue=function(t){if(!1===Sl(this))throw xl("enqueue");if(!1===Bl(this))throw new l("The stream is not in a state that permits enqueue");return Nl(this,t)},t.prototype.error=function(t){if(!1===Sl(this))throw xl("error");Cl(this,t)},t.prototype[vv]=function(t){Nv(this);var n=this.dl(t);return Rl(this),n},t.prototype[lv]=function(){var t=this.wl;if(this.Mv.length>0){var n=Rv(this);return!0===this._l&&0===this.Mv.length?(Rl(this),_d(t)):El(this),jf(ev(n,!1,t.Rv.Ev))}var i=wv(t);return El(this),i},t}();function Sl(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"wl")}function El(t){!1!==Il(t)&&(!0!==t.yl?(t.yl=!0,Kf(t.bl(),function(){t.yl=!1,!0===t.Al&&(t.Al=!1,El(t))},function(n){Cl(t,n)})):t.Al=!0)}function Il(t){var n=t.wl;return!1!==Bl(t)&&(!1!==t.Zv&&(!0===dd(n)&&gv(n)>0||Pl(t)>0))}function Rl(t){t.bl=void 0,t.dl=void 0,t.ul=void 0}function Dl(t){var n=t.wl;t._l=!0,0===t.Mv.length&&(Rl(t),_d(n))}function Nl(t,n){var i=t.wl;if(!0===dd(i)&&gv(i)>0)_v(i,n,!1);else{var e=void 0;try{e=t.ul(n)}catch(n){throw Cl(t,n),n}try{Dv(t,n,e)}catch(n){throw Cl(t,n),n}}El(t)}function Cl(t,n){var i=t.wl;"readable"===i.ye&&(Nv(t),Rl(t),gd(i,n))}function Pl(t){var n=t.wl.ye;return"errored"===n?null:"closed"===n?0:t.hl-t.Uv}function Bl(t){var n=t.wl.ye;return!1===t._l&&"readable"===n}function Ol(t,n,i,e,r,s,u){n.wl=t,n.Mv=void 0,n.Uv=void 0,Nv(n),n.Zv=!1,n._l=!1,n.Al=!1,n.yl=!1,n.ul=u,n.hl=s,n.bl=e,n.dl=r,t.Ov=n,Kf(jf(i()),function(){n.Zv=!0,El(n)},function(t){Cl(n,t)})}function xl(t){return new l("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var Ll=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&w.floor(t)===t},Ml=function(){function t(){throw new l("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===Hl(this))throw id("view");return this.Tl},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Hl(this))throw id("respond");if(void 0===this.Sl)throw new l("This BYOB request has been invalidated");this.Tl.buffer,function(t,n){if(!1===xf(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Zl(t,n)}(this.Sl,t)},t.prototype.respondWithNewView=function(t){if(!1===Hl(this))throw id("respond");if(void 0===this.Sl)throw new l("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new l("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.El.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Zl(t,n.byteLength)}(this.Sl,t)},t}(),Ul=function(){function t(){throw new l("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Xl(this))throw ed("byobRequest");if(void 0===this.Il&&this.El.length>0){var t=this.El.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=d.create(Ml.prototype);!function(t,n,i){t.Sl=n,t.Tl=i}(i,this,n),this.Il=i}return this.Il},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Xl(this))throw ed("desiredSize");return td(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Xl(this))throw ed("close");if(!0===this._l)throw new l("The stream has already been closed; do not close it again!");var t=this.Rl.ye;if("readable"!==t)throw new l("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Rl;if(t.Uv>0)return void(t._l=!0);if(t.El.length>0){var i=t.El.peek();if(i.bytesFilled>0){var e=new l("Insufficient bytes to fill elements in the given buffer");throw $l(t,e),e}}Jl(t),_d(n)}(this)},t.prototype.enqueue=function(t){if(!1===Xl(this))throw ed("enqueue");if(!0===this._l)throw new l("stream is closed or draining");var n=this.Rl.ye;if("readable"!==n)throw new l("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new l("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Rl,e=n.buffer,r=n.byteOffset,s=n.byteLength,u=Hf(e);if(!0===mv(i))if(0===gv(i))Wl(t,u,r,s);else{var o=new y(u,r,s);_v(i,o,!1)}else!0===ud(i)?(Wl(t,u,r,s),Ql(t)):Wl(t,u,r,s);Fl(t)}(this,t)},t.prototype.error=function(t){if(!1===Xl(this))throw ed("error");$l(this,t)},t.prototype[vv]=function(t){this.El.length>0&&(this.El.peek().bytesFilled=0);Nv(this);var n=this.dl(t);return Jl(this),n},t.prototype[lv]=function(){var t=this.Rl;if(this.Uv>0){var n=this.Mv.shift();this.Uv-=n.byteLength,Yl(this);var i=void 0;try{i=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Qf(t)}return jf(ev(i,!1,t.Rv.Ev))}var e=this.Dl;if(void 0!==e){var r=void 0;try{r=new ArrayBuffer(e)}catch(t){return Qf(t)}var s={buffer:r,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.El.push(s)}var u=wv(t);return Fl(this),u},t}();function Xl(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"Rl")}function Hl(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"Sl")}function Fl(t){!1!==function(t){var n=t.Rl;if("readable"!==n.ye)return!1;if(!0===t._l)return!1;if(!1===t.Zv)return!1;if(!0===mv(n)&&gv(n)>0)return!0;if(!0===ud(n)&&sd(n)>0)return!0;if(td(t)>0)return!0;return!1}(t)&&(!0!==t.yl?(t.yl=!0,Kf(t.bl(),function(){t.yl=!1,!0===t.Al&&(t.Al=!1,Fl(t))},function(n){$l(t,n)})):t.Al=!0)}function zl(t,n){var i=!1;"closed"===t.ye&&(i=!0);var e=Vl(n);"default"===n.readerType?_v(t,e,i):function(t,n,i){var e=t.Rv;e.Nl.shift().Yu(ev(n,i,e.Ev))}(t,e,i)}function Vl(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function Wl(t,n,i,e){t.Mv.push({buffer:n,byteOffset:i,byteLength:e}),t.Uv+=e}function Gl(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=w.min(t.Uv,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,a=!1;u>e&&(o=u-n.bytesFilled,a=!0);for(var h,c,f,v,l,d=t.Mv;o>0;){var _=d.peek(),g=w.min(o,_.byteLength),m=n.byteOffset+n.bytesFilled;h=n.buffer,c=m,f=_.buffer,v=_.byteOffset,l=g,new y(h).set(new y(f,v,l),c),_.byteLength===g?d.shift():(_.byteOffset+=g,_.byteLength-=g),t.Uv-=g,ql(t,g,n),o-=g}return a}function ql(t,n,i){jl(t),i.bytesFilled+=n}function Yl(t){0===t.Uv&&!0===t._l?(Jl(t),_d(t.Rl)):Fl(t)}function jl(t){void 0!==t.Il&&(t.Il.Sl=void 0,t.Il.Tl=void 0,t.Il=void 0)}function Ql(t){for(;t.El.length>0;){if(0===t.Uv)return;var n=t.El.peek();!0===Gl(t,n)&&(Kl(t),zl(t.Rl,n))}}function Zl(t,n){var i=t.El.peek();if("closed"===t.Rl.ye){if(0!==n)throw new l("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=Hf(n.buffer);var i=t.Rl;if(!0===ud(i))for(;sd(i)>0;)zl(i,Kl(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(ql(t,n,i),!(i.bytesFilled<i.elementSize)){Kl(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=i.buffer.slice(r-e,r);Wl(t,s,0,s.byteLength)}i.buffer=Hf(i.buffer),i.bytesFilled-=e,zl(t.Rl,i),Ql(t)}}(t,n,i);Fl(t)}function Kl(t){var n=t.El.shift();return jl(t),n}function Jl(t){t.bl=void 0,t.dl=void 0}function $l(t,n){var i=t.Rl;"readable"===i.ye&&(!function(t){jl(t),t.El=new iv}(t),Nv(t),Jl(t),gd(i,n))}function td(t){var n=t.Rl.ye;return"errored"===n?null:"closed"===n?0:t.hl-t.Uv}function nd(t,n,i){var e=d.create(Ul.prototype);var r=Mf(n,"pull",0,[e]),s=Mf(n,"cancel",1,[]),u=n.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===Ll(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,e,r,s,u){n.Rl=t,n.Al=!1,n.yl=!1,n.Il=void 0,n.Mv=n.Uv=void 0,Nv(n),n._l=!1,n.Zv=!1,n.hl=Ff(s),n.bl=e,n.dl=r,n.Dl=u,n.El=new iv,t.Ov=n,Kf(jf(i()),function(){n.Zv=!0,Fl(n)},function(t){$l(n,t)})}(t,e,function(){return Uf(n,"start",[e])},r,s,i,u)}function id(t){return new l("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function ed(t){return new l("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function rd(t){return Yf(function(n,i){var e={Yu:n,ju:i};t.Rv.Nl.push(e)})}function sd(t){return t.Rv.Nl.length}function ud(t){var n=t.Rv;return void 0!==n&&!!ad(n)}var od=function(){function t(t){if(!ld(t))throw new l("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Xl(t.Ov))throw new l("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(dd(t))throw new l("This stream has already been locked for exclusive reading by another reader");rv(this,t),this.Nl=new iv}return d.defineProperty(t.prototype,"closed",{get:function(){return ad(this)?this.Fh:Qf(hd("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return ad(this)?void 0===this.Iv?Qf(ov("cancel")):sv(this,t):Qf(hd("cancel"))},t.prototype.read=function(t){return ad(this)?void 0===this.Iv?Qf(ov("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Qf(new l("view must have non-zero byteLength")):function(t,n){var i=t.Iv;if(i.Bv=!0,"errored"===i.ye)return Qf(i.Dv);return function(t,n){var i=t.Rl,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,s={buffer:Hf(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:r,readerType:"byob"};if(t.El.length>0)return t.El.push(s),rd(i);if("closed"===i.ye)return jf(ev(new r(s.buffer,s.byteOffset,0),!0,i.Rv.Ev));if(t.Uv>0){if(!0===Gl(t,s)){var u=Vl(s);return Yl(t),jf(ev(u,!1,i.Rv.Ev))}if(!0===t._l){var o=new l("Insufficient bytes to fill elements in the given buffer");return $l(t,o),Qf(o)}}t.El.push(s);var a=rd(i);return Fl(t),a}(i.Ov,n)}(this,t)):Qf(new l("view must be an array buffer view")):Qf(hd("read"))},t.prototype.releaseLock=function(){if(!ad(this))throw hd("releaseLock");if(void 0!==this.Iv){if(this.Nl.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");uv(this)}},t}();function ad(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"Nl")}function hd(t){return new l("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var cd=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),vd(this);var i=n.size,e=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),nd(this,t,e=Ff(e))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var s=zf(i);void 0===e&&(e=1),function(t,n,i,e){var r=d.create(Tl.prototype),s=Mf(n,"pull",0,[r]),u=Mf(n,"cancel",1,[]);Ol(t,r,function(){return Uf(n,"start",[r])},s,u,i,e)}(this,t,e=Ff(e),s)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===ld(this))throw md("locked");return dd(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===ld(this)?Qf(md("cancel")):!0===dd(this)?Qf(new l("Cannot cancel a stream that already has a reader")):wd(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===ld(this))throw md("getReader");if(void 0===n)return dv(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new od(t);return i.Ev=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,e=t.readable,r=void 0===n?{}:n,s=r.preventClose,u=r.preventAbort,o=r.preventCancel,a=r.signal;if(!1===ld(this))throw md("pipeThrough");if(!1===Lv(i))throw new l("writable argument to pipeThrough must be a WritableStream");if(!1===ld(e))throw new l("readable argument to pipeThrough must be a ReadableStream");if(s=Boolean(s),u=Boolean(u),o=Boolean(o),void 0!==a&&!yl(a))throw new l("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===dd(this))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Mv(i))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return nv(Al(this,i,s,u,o,a)),e},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,e=i.preventClose,r=i.preventAbort,s=i.preventCancel,u=i.signal;return!1===ld(this)?Qf(md("pipeTo")):!1===Lv(t)?Qf(new l("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),r=Boolean(r),s=Boolean(s),void 0===u||yl(u)?!0===dd(this)?Qf(new l("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Mv(t)?Qf(new l("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Al(this,t,e,r,s,u):Qf(new l("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===ld(this))throw md("tee");var t=function(t,n){var i,e,r,s,u,o=dv(t),a=!1,h=!1,c=!1,f=Yf(function(t){u=t});function v(){return!0===a?jf(void 0):(a=!0,nv(tv(Av(o),function(t){if(a=!1,!0===t.done)return!1===h&&Dl(r.Ov),void(!1===c&&Dl(s.Ov));var n=t.value,i=n,e=n;!1===h&&Nl(r.Ov,i),!1===c&&Nl(s.Ov,e)})),jf(void 0))}function l(){}return r=fd(l,v,function(n){if(h=!0,i=n,!0===c){var r=Of([i,e]),s=wd(t,r);u(s)}return f}),s=fd(l,v,function(n){if(c=!0,e=n,!0===h){var r=Of([i,e]),s=wd(t,r);u(s)}return f}),$f(o.Fh,function(t){Cl(r.Ov,t),Cl(s.Ov,t)}),[r,s]}(this);return Of(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===ld(this))throw md("getIterator");return function(t,n){void 0===n&&(n=!1);var i=dv(t),e=d.create(Sv);return e.xv=i,e.Lv=Boolean(n),e}(this,i)},t}();function fd(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=d.create(cd.prototype);return vd(s),Ol(s,d.create(Tl.prototype),t,n,i,e,r),s}function vd(t){t.ye="readable",t.Rv=void 0,t.Dv=void 0,t.Bv=!1}function ld(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"Ov")}function dd(t){return void 0!==t.Rv}function wd(t,n){return t.Bv=!0,"closed"===t.ye?jf(void 0):"errored"===t.ye?Qf(t.Dv):(_d(t),tv(t.Ov[vv](n),Nf))}function _d(t){t.ye="closed";var n=t.Rv;void 0!==n&&(bv(n)&&(n.Pv.forEach(function(t){t.Yu(ev(void 0,!0,n.Ev))}),n.Pv=new iv),fv(n))}function gd(t,n){t.ye="errored",t.Dv=n;var i=t.Rv;void 0!==i&&(bv(i)?(i.Pv.forEach(function(t){t.ju(n)}),i.Pv=new iv):(i.Nl.forEach(function(t){t.ju(n)}),i.Nl=new iv),cv(i,n))}function md(t){return new l("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof Df.asyncIterator&&d.defineProperty(cd.prototype,Df.asyncIterator,{value:cd.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var yd=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),kd=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var e=n.size,r=n.highWaterMark,s=i.size,u=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=zf(e);if(void 0===r&&(r=1),r=Ff(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,h=zf(s);void 0===u&&(u=0),u=Ff(u),function(t,n,i,e,r,s){function u(){return n}t.Cl=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=d.create(Bv.prototype);return xv(u),tl(u,d.create($v.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.Pl;if(!0===t.Gv){var e=t.Bl;return tv(e,function(){var e=t.Cl,r=e.ye;if("erroring"===r)throw e.Dv;return Dd(i,n)})}return Dd(i,n)}(t,n)},function(){return function(t){var n=t.Ol,i=t.Pl,e=i.xl();return Id(i),tv(e,function(){if("errored"===n.ye)throw n.Dv;var t=n.Ov;!0===Bl(t)&&Dl(t)},function(i){throw bd(t,i),n.Dv})}(t)},function(n){return function(t,n){return bd(t,n),jf(void 0)}(t,n)},i,e),t.Ol=fd(u,function(){return function(t){return Td(t,!1),t.Bl}(t)},function(n){return Ad(t,n),jf(void 0)},r,s),t.Gv=void 0,t.Bl=void 0,t.Ll=void 0,Td(t,!0),t.Pl=void 0}(this,Yf(function(t){a=t}),r,o,u,h),function(t,n){var i=d.create(Sd.prototype),e=function(t){try{return Rd(i,t),jf(void 0)}catch(t){return Qf(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new l("transform is not a method");e=function(t){return Xf(r,n,[t,i])}}var s=Mf(n,"flush",0,[i]);!function(t,n,i,e){n.Ml=t,t.Pl=n,n.Ul=i,n.xl=e}(t,i,e,s)}(this,t);var c=Uf(t,"start",[this.Pl]);a(c)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===pd(this))throw Cd("readable");return this.Ol},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===pd(this))throw Cd("writable");return this.Cl},enumerable:!0,configurable:!0}),t}();function pd(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"Pl")}function bd(t,n){Cl(t.Ol.Ov,n),Ad(t,n)}function Ad(t,n){Id(t.Pl),rl(t.Cl.Xv,n),!0===t.Gv&&Td(t,!1)}function Td(t,n){void 0!==t.Bl&&t.Ll(),t.Bl=Yf(function(n){t.Ll=n}),t.Gv=n}var Sd=function(){function t(){throw new l("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ed(this))throw Nd("desiredSize");return Pl(this.Ml.Ol.Ov)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Ed(this))throw Nd("enqueue");Rd(this,t)},t.prototype.error=function(t){if(!1===Ed(this))throw Nd("error");var n;n=t,bd(this.Ml,n)},t.prototype.terminate=function(){if(!1===Ed(this))throw Nd("terminate");!function(t){var n=t.Ml,i=n.Ol.Ov;!0===Bl(i)&&Dl(i);var e=new l("TransformStream terminated");Ad(n,e)}(this)},t}();function Ed(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"Ml")}function Id(t){t.Ul=void 0,t.xl=void 0}function Rd(t,n){var i=t.Ml,e=i.Ol.Ov;if(!1===Bl(e))throw new l("Readable side is not in a state that permits enqueue");try{Nl(e,n)}catch(t){throw Ad(i,t),i.Ol.Dv}(function(t){return!0!==Il(t)})(e)!==i.Gv&&Td(i,!0)}function Dd(t,n){return tv(t.Ul(n),void 0,function(n){throw bd(t.Ml,n),n})}function Nd(t){return new l("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Cd(t){return new l("TransformStream.prototype."+t+" can only be used on a TransformStream")}var Pd,Bd=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return S(n,t),A(n,[{key:"name",get:function(){return"AggregateError"}}]),n}($t);function Od(t){return n=[t],new cd({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function xd(t){return Od(new y(t))}function Ld(t,n){return function(t,n){var i=n,e=t.getReader(),r=new Wo,s=function(){u();var t=new Js;e.cancel(t).catch(K),r.Zu(t)},u=function(){i&&(i.Fs(s),i=void 0)};i&&(i.Os?s():i.Hs(s));var o=[];return We.resolve(e.read()).then(function t(n){return n.done?(u(),We.resolve(o)):(o.push(n.value),We.resolve(e.read()).then(t))}).then(function(t){u(),r.Qu(t)},function(t){u(),r.Zu(t)}),r.Gu}(t,n).then(function(t){return Uu(t).buffer})}function Md(t,n){var i=n,e=new kd,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Gs()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(K)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(K)}),r}function Ud(t){var n=new kd,i=n.readable,e=n.writable;return t.pipeTo(e,{preventCancel:!0}).catch(function(n){var i;i=z(n)?n[0]===n[1]||$s(n[0])&&$s(n[1])?n[0]:new Bd(n):n,t.cancel(i).catch(K)}),i.tee()}function Xd(t){return No(new y(t))}function Hd(t){return Co(t).buffer}!function(t){t[t.wv=0]="wv",t[t.Xl=1]="Xl"}(Pd||(Pd={}));var Fd="content-type",zd="text/plain;charset=UTF-8",Vd=function(){function t(){}var n=t.prototype;return n.Hl=function(t){return this.Fl(t).then(JSON.parse)},n.zl=function(t,n){switch(t){case Sf.fv:return this.Vl(n);case Sf.vv:return this.Hl(n);case Sf.wv:return this.Wl();case Sf.ni:return this.Fl(n);default:throw new l}},t}();function Wd(t,n,i){if(t instanceof Vd)return t;if(t instanceof cd)return function(t,n){return new qd({_s:Pd.wv,Wl:t,Gl:Gd(n)})}(t,i);var e=Gd(i),r=We.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{_s:Sf.ni,ql:t,Gl:n||zd};if(t instanceof ArrayBuffer||xu(t))return{_s:Sf.fv,ql:$d(t),Gl:n};if(G(t)||z(t))return{_s:Sf.vv,ql:t,Gl:n};throw new l("Unsupported BodyInit type")}return{_s:Sf.ni,ql:null,Gl:n}}(t,e)});return new qd({_s:Pd.Xl,Gu:r,Yl:n})}function Gd(t){return(t.get(Fd)||"").toLowerCase()}var qd=function(t){function n(n){var i;return(i=t.call(this)||this).jl=!1,i.Ql=void 0,i.Zl=new Wo,i.Zl.Gu.catch(K),i.Kl(n),i}S(n,t);var i=n.prototype;return i.Jl=function(){return this.Zl.Gu},i.Fl=function(t){return this.$l(Yd,t)},i.Hl=function(t){return this.$l(Qd,t)},i.Vl=function(t){return this.$l(Kd,t)},i.Wl=function(){return this.td((t=this.Ql)._s===Pd.wv?t.Wl:Md(t.Gu.then(Jd).then(xd),t.Yl));var t},i.$l=function(t,n){if(this.jl)return We.reject(new l("Already used"));this.jl=!0;var i=t(this.Ql,n);return this.Zl.Qu(i.then(K)),i},i.td=function(t){if(this.jl)throw new l("Already used");if(t.locked)throw new l("Body stream is locked");this.jl=!0;var n=new kd,i=We.resolve(t.pipeTo(n.writable));return this.Zl.Qu(i),n.readable},i.Kl=function(t){this.Ql=t,t._s===Pd.Xl&&t.Gu.catch(K)},i.ed=function(){if(this.jl)throw new l("Already used");var t=function(t){if(t._s===Pd.wv){var n=t.Wl.tee(),i=n[0],e=n[1];return[{_s:t._s,Wl:i,Gl:t.Gl},{_s:t._s,Wl:e,Gl:t.Gl}]}var r=t.Yl.Ys(),s=r[0],u=r[1];return[{_s:t._s,Gu:t.Gu,Yl:s},{_s:t._s,Gu:t.Gu,Yl:u}]}(this.Ql),i=t[0],e=t[1];return this.Kl(i),new n(e)},A(n,[{key:"rd",get:function(){return this.jl}}]),n}(Vd);function Yd(t,n){return t._s===Pd.wv?Ld(t.Wl,n).then(Xd):(n&&t.Yl.qs(n),ru(t.Gu.then(jd),t.Yl))}function jd(t){switch(t._s){case Sf.ni:return We.resolve(t.ql||"");case Sf.fv:return We.resolve(t.ql).then(Xd);case Sf.vv:return We.resolve(t.ql).then(JSON.stringify)}}function Qd(t,n){return t._s===Pd.wv?Yd(t,n).then(JSON.parse):(n&&t.Yl.qs(n),ru(t.Gu.then(Zd),t.Yl))}function Zd(t){return t._s===Sf.vv?We.resolve(t.ql):jd(t).then(JSON.parse)}function Kd(t,n){return t._s===Pd.wv?Ld(t.Wl,n):(n&&t.Yl.qs(n),ru(t.Gu.then(Jd),t.Yl))}function Jd(t){switch(t._s){case Sf.fv:return We.resolve(t.ql);case Sf.ni:case Sf.vv:return jd(t).then(Hd)}}function $d(t){return t instanceof ArrayBuffer?t:Ho(Lo(t)).buffer}function tw(t){return t.ud>=200&&t.ud<=299||304===t.ud}var nw,iw,ew,rw,sw=function(t){function n(n,i){var e,r,s,u,o,a;i?(r=i.od,s=i.hd,u=i.ud,o=i.fd,a=i.vd):(r=[],s=Sf.ni,u=200,o="OK",a=!1);var h=n.ld,c=new Ef(n.od||r),f=n.hd||s,v=n.dd||(i&&i.ld===h?i.dd:h.wd),l=i?i._d:null,d=Wd(void 0!==n.zi?n.zi:l,n.Yl||new Ks,c);return(e=t.call(this,d)||this).od=void 0,e.ld=void 0,e.dd=void 0,e.hd=void 0,e.ud=void 0,e.fd=void 0,e.vd=void 0,e.od=c,e.ld=h,e.dd=v,e.hd=f,e.ud=void 0!==n.ud?n.ud:u,e.fd=void 0!==n.fd?String(n.fd):o,e.vd=n.vd||a,e}S(n,t);var i=n.prototype;return i.zi=function(t){return this.zl(this.hd,t)},i.Hu=function(){return new n({zi:this.ed(),ld:this.ld},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this)._d=void 0,i._d=n,i}S(n,t);var i=n.prototype;return i.Jl=function(){return this._d.Jl()},i.Fl=function(t){return this._d.Fl(t)},i.Hl=function(t){return this._d.Hl(t)},i.Vl=function(t){return this._d.Vl(t)},i.Wl=function(){return this._d.Wl()},i.ed=function(){return this._d.ed()},A(n,[{key:"rd",get:function(){return this._d.rd}}]),n}(Vd));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(nw||(nw={})),function(t){t.md="",t.yd="manifest",t.kd="segment",t.pd="preload-hint",t.bd="content-protection"}(iw||(iw={})),function(t){t.md="",t.Ad="initialization-segment",t.Td="fairplay-license",t.Sd="fairplay-certificate",t.Ed="widevine-license",t.Id="widevine-certificate",t.Rd="playready-license",t.Dd="clearkey-license",t.Nd="aes128-key"}(ew||(ew={})),function(t){t.md="",t.Cd="audio",t.Pd="video",t.ni="text",t.Bd="image"}(rw||(rw={}));var uw=function(t,n){this.ql=void 0,this.od=void 0,this.Od=void 0,this.hd=void 0,this.xd=void 0,this.js=void 0,this._s=void 0,this.Ld=void 0,this.Md=void 0,this.wd=void 0,this.Ud=void 0,this.Xd=void 0;var i,e,r,s,u,o,a,h,c,f,v,l=t.wd;n?(i=n.ql,e=n.od,r=n.Od,s=n.hd,u=n.xd,o=n.js,a=n._s,h=n.Ld,c=n.Md,f=n.Ud,v=n.Xd):(i=null,e={},r=nw.GET,s=Sf.ni,u=0,a=iw.md,h=ew.md,c=rw.md,f=!1),this.wd=l,this.ql=t.ql||i,this.od=new Ef(t.od||e),this.Od=t.Od||r,this.hd=t.hd||s,this.xd=void 0!==t.xd?Number(t.xd)||0:u,this.js=t.js||o||(new Ks).js,this._s=t._s||a,this.Ld=t.Ld||h,this.Md=t.Md||c,this.Ud=void 0!==t.Ud?Boolean(t.Ud):f,this.Xd=t.Xd||v},ow=function(){function t(){}var n=t.prototype;return n.ld=function(t){var n=function(t){return new sw({zi:null,od:{},ld:t,dd:t.wd,hd:t.hd,ud:0,fd:Tf.Xf})}(new uw(t));return We.resolve(n)},n.Hd=function(t){},n.$c=function(){},t}();var aw=function(){function t(t,n){void 0===n&&(n=!0),this.Fd=void 0,this.zd=void 0,this.Fd=t,this.zd=n}var n=t.prototype;return n.ld=function(t){var n=this.Vd(t);return this.Fd.ld(n)},n.Hd=function(t){return this.Fd.Hd(this.Wd(t))},n.Vd=function(n){var i=new uw(n);if(!this.zd){var e=t.Gd(i.wd);i=new uw({wd:e},i)}return i},n.Wd=function(n){var i=n.wd;return this.zd||(i=t.Gd(i)),{wd:i,ql:n.ql}},t.Gd=function(t){return i.Wr&&ls(t,"http://")?t.replace(":","s:"):t},n.$c=function(){this.Fd.$c()},A(t,null,[{key:"qd",get:function(){return t.Yd||(t.Yd=new t(new ow)),t.Yd}}]),t}();function hw(t,n){for(var i=0,e=d.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function cw(t,n){var e=i.Ur(t);return n&&!ds(e,"/")&&(e+="/"),e}aw.Yd=void 0;var fw,vw=/cache:(.+)?(?=&|$)/,lw="http://webcache.googleusercontent.com/search?q=cache:";function dw(t){if(!ls(t,lw))return"";var n=i.Mr(t).search.match(vw);return n&&n.length>1?n[1]:""}!function(t){t.jd="HttpOpenError",t.Qd="HttpResponseError",t.Zd="HttpTimeoutError"}(fw||(fw={}));var ww=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Kd=void 0,r.Kd=n,r}return S(n,t),A(n,[{key:"ld",get:function(){return this.Kd}}]),n}($t);var _w=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.wd+". Invalid URL.",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return fw.jd}}]),n}(ww);var gw=function(t){function n(n,i,e){var r;return(r=t.call(this,n.ld,null!=e?e:function(t){return"Error while loading "+t.ld.wd+", status code "+t.ud}(n),i)||this).Jd=void 0,r.Jd=n,r}return S(n,t),A(n,[{key:"name",get:function(){return fw.Qd}},{key:"$d",get:function(){return this.Jd}}]),n}(ww);var mw=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.wd+" timed out after "+t.xd+" seconds."}(n),i)||this}return S(n,t),A(n,[{key:"name",get:function(){return fw.Zd}}]),n}(ww),yw=function(t,n){return(yw=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function kw(t,n){function i(){this.constructor=t}yw(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var pw="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var bw=function(){var t=pw.Blob;if(t)try{return new t,function(t,n){return new pw.Blob(t,n)}}catch(t){}var n,i=pw.BlobBuilder||pw.WebKitBlobBuilder||pw.MozBlobBuilder||pw.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),Aw="function"==typeof cd?cd:void 0;function Tw(t){return t&&"function"==typeof t.getReader}function Sw(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Tw(i)}catch(t){return!1}}var Ew=function(){function t(t,n){this.Rv=t,this.nw=n}return t.prototype.pull=function(t){var n=this;return this.Rv.read().then(function(i){n.nw&&n.nw(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Rv.cancel(t)},t}();function Iw(t,n){return n.constructor===t?n:new t(new Ew(n.getReader()),{highWaterMark:0})}var Rw=function(){function t(t,n){this.iw=t,this.ew=n}return t.prototype.pull=function(t){return this.iw().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.ew&&this.ew(t)},t}();function Dw(t,n,i){return new t(new Rw(n,i),{highWaterMark:0})}var Nw={searchParams:"URLSearchParams"in pw,iterable:"Symbol"in pw&&"iterator"in Symbol,blob:"FileReader"in pw&&!!bw,formData:"FormData"in pw,arrayBuffer:"ArrayBuffer"in pw,stream:Sw(Aw),streamRequest:"Request"in pw&&"body"in pw.Request.prototype,streamResponse:"Response"in pw&&"body"in pw.Response.prototype,abort:"AbortController"in pw&&"Request"in pw&&"signal"in pw.Request.prototype,encoding:"TextEncoder"in pw&&"TextDecoder"in pw,url:"URL"in pw&&function(t){try{return new pw.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in pw&&/Firefox\//.test(pw.navigator.userAgent)};function Cw(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new l("Invalid character in header field name");return t}function Pw(t){return"string"!=typeof t&&(t=String(t)),t}function Bw(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Nw.iterable&&(n[Symbol.iterator]=function(){return n}),n}var Ow=function(){function t(t){var n=this;this.us={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return Nw.iterable&&t&&t[Symbol.iterator]}(t)?t&&d.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=Cw(t),n=Pw(n);var i=t.toLowerCase();if(this.us.hasOwnProperty(i)){var e=this.us[i],r=e[1];e[1]=r?r+", "+n:n}else this.us[i]=[t,n]},t.prototype.delete=function(t){var n=Cw(t).toLowerCase();delete this.us[n]},t.prototype.get=function(t){var n=Cw(t).toLowerCase();return this.us.hasOwnProperty(n)?this.us[n][1]:null},t.prototype.has=function(t){var n=Cw(t).toLowerCase();return this.us.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=Cw(t)).toLowerCase();this.us[i]=[t,Pw(n)]},t.prototype.forEach=function(t,n){for(var i in this.us)this.us.hasOwnProperty(i)&&t.call(n,this.us[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),Bw(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),Bw(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),Bw(t)},t.prototype.asList=function(){var t=[];for(var n in this.us)if(this.us.hasOwnProperty(n)){var i=this.us[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function xw(){}Nw.iterable&&(Ow.prototype[Symbol.iterator]=Ow.prototype.entries);var Lw,Mw,Uw,Xw=w.min,Hw=String.fromCharCode,Fw=16384;function zw(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=Fw){var r=Xw(e+Fw,n);i.push(Hw.apply(null,t.slice(e,r)))}return i.join("")}(n)}function Vw(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ww(t,n){return t>>n&63|128}function Gw(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Vw(t),n.push(t>>12&15|224),n.push(Ww(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ww(t,12)),n.push(Ww(t,6))),n.push(63&t|128)):n.push(t)}function qw(){if(Uw>=Mw)throw new v("Invalid byte index");var t=255&Lw[Uw];if(Uw++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function Yw(){var t,n;if(Uw>Mw)throw new v("Invalid byte index");if(Uw===Mw)return!1;if(t=255&Lw[Uw],Uw++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|qw())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|qw()<<6|qw())>=2048)return Vw(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|qw()<<12|qw()<<6|qw())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var jw=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Qw(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Zw(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Kw(t){return t&&DataView.prototype.isPrototypeOf(t)}var Jw,$w=ArrayBuffer.isView||function(t){return t&&(jw.indexOf(d.prototype.toString.call(t))>-1||Kw(t))};function t_(t){if(t.bodyUsed)return We.reject(new l("Already used"));t.bodyUsed=!0}function n_(t){return new We(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function i_(t){return Nw.encoding?new pw.TextDecoder("utf-8").decode(new y(t)):zw(function(t){Mw=(Lw=t).length,Uw=0;for(var n,i=[];!1!==(n=Yw());)i.push(n);return i}(new y(t)))}function e_(t){return Nw.encoding?(new pw.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)Gw(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function r_(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?We.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function s_(t){return r_(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(a=e[i]).byteLength;for(var r=new y(n),s=0,u=0,o=t;u<o.length;u++){var a=o[u];r.set(a,s),s+=a.byteLength}return r}(t).buffer})}function u_(t){return t.slice?t.slice(0):o_(new y(t))}function o_(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function a_(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function h_(t){var n=t;if(n.bodyUsed)throw new l("Already used");if(n.uw===Jw.ow){if(!n.aw.tee)throw new v("could not clone ReadableStream body");var i=n.aw.tee(),e=i[0],r=i[1];return n.body=e,n.aw=e,n.hw=e,r}return n.uw===Jw.fv?u_(n.aw):n.uw===Jw.Xl?n.aw.then(h_):n.hw}!function(t){t[t.ni=0]="ni",t[t.cw=1]="cw",t[t.fw=2]="fw",t[t.fv=3]="fv",t[t.ow=4]="ow",t[t.Xl=5]="Xl"}(Jw||(Jw={}));var c_=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.hw=n||null,n)if("string"==typeof n)this.uw=Jw.ni,this.aw=n;else if((s=n)&&"function"==typeof s.then)this.uw=Jw.Xl,this.aw=We.resolve(n).then(function(n){return new t(n,i)}),this.aw.catch(xw);else if(Nw.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.uw=Jw.cw,this.aw=n;else if(Nw.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.uw=Jw.fw,this.aw=n;else if(Nw.searchParams&&Qw(n))this.uw=Jw.ni,this.aw=n.toString();else if(Nw.arrayBuffer&&(Zw(n)||$w(n)))Kw(n)&&(this.hw=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.uw=Jw.fv,this.aw=Zw(e=n)?u_(e):o_(e);else{if(!Nw.stream||!Tw(n))throw new v("unsupported BodyInit type");n=Iw(Aw,n),this.uw=Jw.ow,this.aw=n,this.hw=n}else this.uw=Jw.ni,this.aw="";this.vw="",i.has("content-type")?this.vw=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.vw="text/plain;charset=UTF-8":u.uw===Jw.cw&&u.aw.type?this.vw=u.aw.type:Nw.searchParams&&Qw(n)&&(this.vw="application/x-www-form-urlencoded;charset=UTF-8"),this.vw&&i.set("content-type",this.vw)),Nw.stream&&(null==n?this.body=null:u.uw===Jw.ow?this.body=u.aw:this.body=Dw(Aw,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=t_(this);return e||(this.uw===Jw.cw?(t=this.aw,n=new FileReader,i=n_(n),n.readAsText(t),i):this.uw===Jw.fv?We.resolve(this.aw).then(i_):this.uw===Jw.ow?s_(this.aw).then(i_):this.uw===Jw.Xl?this.aw.then(function(t){return t.text()}):this.uw===Jw.fw?We.reject(new v("could not read FormData body as text")):We.resolve(this.aw))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Nw.blob&&(c_.prototype.blob=function(){var t,n,i=t_(this);return i||(this.uw===Jw.cw?We.resolve(this.aw):this.uw===Jw.fv?We.resolve(bw([this.aw],{type:this.vw})):this.uw===Jw.ow?(t=this.aw,n=this.vw,r_(t).then(function(t){return bw(t,{type:n||""})})):this.uw===Jw.Xl?this.aw.then(function(t){return t.blob()}):this.uw===Jw.fw?We.reject(new v("could not read FormData body as Blob")):We.resolve(bw([this.aw],{type:this.vw})))}),Nw.arrayBuffer&&(c_.prototype.arrayBuffer=function(){var t,n,i;return this.uw===Jw.fv?t_(this)||We.resolve(this.aw):this.uw===Jw.cw?t_(this)||(t=this.aw,n=new FileReader,i=n_(n),n.readAsArrayBuffer(t),i):this.uw===Jw.ow?s_(this.aw):this.uw===Jw.Xl?t_(this)||this.aw.then(function(t){return t.arrayBuffer()}):this.uw===Jw.fw?We.reject(new v("could not read FormData body as ArrayBuffer")):We.resolve(this.aw).then(e_)}),Nw.formData&&(c_.prototype.formData=function(){return this.uw===Jw.fw?t_(this)||We.resolve(this.aw):this.text().then(a_)});var f_=[301,302,303,307,308],v_=function(t){function n(n,i){var e=this,r=new Ow((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return kw(n,t),n.prototype.clone=function(){return new n(h_(this),{status:this.status,statusText:this.statusText,headers:new Ow(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===f_.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(c_);var l_,d_=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function o(t,n){return(o=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=d.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){a(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?h(e):r).listeners||f.call(h(t)),d.defineProperty(h(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(h(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=w,n.default=w});(l_=d_)&&l_.__esModule&&d.prototype.hasOwnProperty.call(l_,"default")&&l_.default,d_.AbortSignal;var w_=d_.AbortController,__=pw.DOMException;try{new __}catch(t){(__=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=d.create(v.prototype),__.prototype.constructor=__}var g_=w_;function m_(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function y_(t,n,i){return new We(function(e,r){if(n.signal.aborted)return t.catch(xw),r(k_());var s=function(){n.signal.removeEventListener("abort",s),r(k_())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function k_(){return new __("Aborted","AbortError")}var p_,b_="moz-chunked-arraybuffer";function A_(t){try{var n=new p;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(p_||(p_={}));var T_=function(){function t(t,n){var i=this;this.lw=!1,this.Kd=t,this.dw=n,this.ww=new p,this._w=new We(function(t,n){i.gw=t,i.mw=n})}return t.prototype.send=function(){var t=this;return this.yw().then(function(n){return t.pw(n,t.dw),t._w})},t.prototype.yw=function(){var t=this.Kd;return t.uw===Jw.ow?t.arrayBuffer():We.resolve(t.hw)},t.prototype.bw=function(t){this.Kd.onprogress&&this.Kd.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Aw=function(t){this.mw(t)},t.prototype.Tw=function(){this.Aw(new l("Network request failed"))},t.prototype.Sw=function(){this.Aw(new l("Network request failed"))},t.prototype.Ew=function(){this.Aw(k_())},t.prototype.pw=function(t,n){var i=this,e=this.Kd,r=this.ww,s=function(){return i.Iw()};if(e.signal.aborted)return this.Ew();r.onreadystatechange=function(){if(r.readyState>=p_.HEADERS_RECEIVED&&!i.lw){var t=function(t){var n=new Ow;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.lw=!0,i.Rw(n)}},r.onprogress=function(t){return i.bw(t)},r.onload=function(){return i.Dw()},r.onerror=function(){return i.Tw()},r.ontimeout=function(){return i.Sw()},r.onabort=function(){return i.Ew()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.Iw=function(){this.Ew(),this.ww.abort()},t}(),S_=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Nw=void 0,e.Cw=void 0,e}return kw(n,t),n.prototype.Rw=function(t){var n=this;this.Nw=new We(function(t,i){n.Cw=t,n.Pw=i}),this.gw(new v_(this.Nw,t))},n.prototype.Dw=function(){var t=this.ww.response;if(null==t){var n=this.dw;""===n||"text"===n?t=this.ww.responseText:"document"===n?t=this.ww.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=bw([]))}this.Cw(t)},n.prototype.Aw=function(n){t.prototype.Aw.call(this,n),this.Pw&&this.Pw(n)},n}(T_),E_=function(t){function n(n){var i=t.call(this,n,b_)||this;return i.Bw=void 0,i.Ow=void 0,i.xw=!1,i}return kw(n,t),n.prototype.Rw=function(t){var n=this;this.Bw=new Aw({start:function(t){n.Ow=t},cancel:function(){n.xw=!0,n.Iw()}}),this.gw(new v_(this.Bw,t))},n.prototype.bw=function(n){this.xw||this.Ow.enqueue(new y(this.ww.response)),t.prototype.bw.call(this,n)},n.prototype.Dw=function(){this.Ow.close()},n.prototype.Aw=function(n){t.prototype.Aw.call(this,n),this.Ow&&!this.xw&&(this.xw=!0,this.Ow.error(n))},n}(T_),I_=function(){var t=Nw.firefox&&A_(b_);return I_=function(){return t},t},R_=function(){var t;return t=Nw.arrayBuffer&&A_("arraybuffer")?"arraybuffer":Nw.blob&&A_("blob")?"blob":"",R_=function(){return t},t};function D_(t){return(Nw.stream&&I_()?new E_(t):new S_(t,R_())).send()}var N_=pw.fetch,C_=pw.Request;pw.Response;var P_=pw.AbortController;var B_=["http:","https:"];var O_=function(){try{if(Nw.streamRequest){var t=new C_("about:blank",{body:"",method:"POST"}).body;if(t&&Sw(t.constructor))return t.constructor}}catch(t){}}();function x_(t,n,i){var e;if(Nw.stream){var r=void 0;if(Nw.streamResponse){var s=t.body;r=s&&Iw(Aw,s)}else r=Dw(Aw,function(){return y_(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new Ew(n.getReader(),i),{highWaterMark:0})}(Aw,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,L_(t.headers))),e=r}else{var u=y_(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return We.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,L_(t.headers))),e=u}return new v_(e,t)}function L_(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function M_(t){var n=new g_;return t.signal&&m_(n,t.signal),function(t,n){var i,e,r=t;if(i=r.uw===Jw.ow?Nw.streamRequest&&O_?We.resolve(Iw(O_,r.aw)):y_(t.arrayBuffer(),n,!1):y_(We.resolve(t.hw),n,!1),Nw.abort){var s=new P_;m_(s,n.signal),e=s.signal}return i.then(function(n){return new C_(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof Ow?i:new Ow(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return N_(i).then(function(i){return x_(i,n,t.onprogress)})})}var U_=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var X_=function(t){function n(i,e){var r,s,u,o,a,h,c,f,v,d=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new l("Already used");r=i.url,s=i.credentials,e.headers||(u=new Ow(i.headers)),o=i.method,a=i.mode,h=i.referrer,c=i.referrerPolicy,f=i.signal,v=i.onprogress,w||null==i.hw||(w=i.hw,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",a="cors",h="about:client",c="",f=null,v=null;if(!e.headers&&u||(u=new Ow(e.headers)),e&&(h="about:client",c=""),(d=t.call(this,w,u)||this).url=r,d.headers=u,d.credentials=e.credentials||s,d.method=function(t){var n=t.toUpperCase();return U_.indexOf(n)>-1?n:t}(e.method||o),d.mode=e.mode||a,d.signal=e.signal||f||(new g_).signal,d.referrer=void 0!==e.referrer?e.referrer:h,d.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:c,d.onprogress=e.onprogress||v,("GET"===d.method||"HEAD"===d.method)&&w)throw new l("Body not allowed for GET or HEAD requests");return d}return kw(n,t),n.prototype.clone=function(){return new n(this,{body:h_(this)})},n}(c_),H_="function"==typeof N_&&Nw.stream&&Nw.streamResponse&&Nw.url;function F_(t,n){return new We(function(i){var e=new X_(t,n);i((H_&&function(t){try{return B_.indexOf(new pw.URL(t,pw.location.href).protocol)>=0}catch(t){return!1}}(e.url)?M_:D_)(e))})}F_.polyfill=!0;var z_=function(){function t(t){this.$d=void 0,this.Kd=void 0,this.Yc=new Ks,this.Jd=void 0,this.Lw=!1,this.Kd=t,this.Yc.qs(t.js),this.$d=this.Mw()}var n=t.prototype;return n.Mw=function(){var t,n,e,r,s,u,o,h,c=this;return Dr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.Kd).xd&&a(function(){c.Lw=!0,c.Yc.Gs()},t.xd),f.prev=2,n=F_(t.wd,{method:t.Od,headers:t.od._v(),body:t.ql,credentials:t.Ud?"include":"same-origin",signal:G_(this.Yc.js),onprogress:t.Xd}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new _w(t,f.t0);case 9:return f.prev=9,f.next=12,Dr.awrap(n);case 12:e=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),$s(r=this.Uw(f.t1))&&this.Yc.Gs(),r;case 20:if(s=e.url||t.wd,u=0===e.status&&"file:"===(v=s,i.Mr(v).protocol)?200:e.status,o=new V_(this,e,this.Yc),h=new sw({zi:o,ld:t,hd:t.hd,od:new Ef(e.headers.asList()),ud:u,fd:e.statusText,dd:s}),this.Jd=h,!tw(h)){f.next=29;break}return f.abrupt("return",h);case 29:throw new gw(h);case 30:case"end":return f.stop()}var v},null,this,[[2,6],[9,15]],We)},n.Uw=function(t){return $s(t)?this.Lw?new mw(this.Kd):new Js(t.message,t):this.Jd?new gw(this.Jd,t):new _w(this.Kd,t)},t}(),V_=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Xw=void 0,r.Hw=void 0,r.Yc=void 0,r.Zl=new Wo,r.Xw=n,r.Hw=i,r.Yc=e,r.Zl.Gu.catch(K),r}S(n,t);var i=n.prototype;return i.Jl=function(){return this.Zl.Gu},i.Fl=function(t){return this.$l(this.Hw.text(),t)},i.Vl=function(t){return this.$l(this.Hw.arrayBuffer(),t)},i.Wl=function(){var t=this.Hw.body;return t?this.td(t):Md(this.Vl().then(xd),this.Yc)},i.ed=function(){var t=this.Hw.clone(),i=this.Yc.Ys(),e=i[0],r=i[1];return this.Yc=e,new n(this.Xw,t,r)},i.$l=function(t,n){var i=this;n&&this.Yc.qs(n);var e=We.resolve(t).catch(function(t){throw i.Xw.Uw(t)});return e=ru(e,this.Yc),this.Zl.Qu(e.then(K)),e},i.td=function(t){var n=this,i=new kd,e=We.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.Xw.Uw(t);throw i.writable.abort(e).catch(K),e});return e=ru(e,this.Yc),this.Zl.Qu(e.then(K)),i.readable},A(n,[{key:"rd",get:function(){return this.Hw.bodyUsed}}]),n}(Vd),W_="abort";function G_(t){var n=new g_;if(t.Os)n.abort();else if(!t.xs){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(W_,i),t.Fs(i),t.Vs(e)};n.signal.addEventListener(W_,i),t.Hs(i),t.zs(e)}return n.signal}function q_(t,n,i){return new We(function(e,r){if(i&&i.Os)return r(new Js);var s=function(t){o(),e(t)},u=function(){o(),r(new Js)},o=function(){t.removeEventListener(n,s),i&&i.Fs(u)};t.addEventListener(n,s),i&&i.Hs(u)})}var Y_,j_,Q_=function(){function t(){}var n=t.prototype;return n.ld=function(t){return new z_(t).$d},n.Hd=function(t){if(we&&we.sendBeacon)we.sendBeacon(t.wd,bf([t.ql],{type:t.Gl}));else{var n=t.Gl?{"Content-type":t.Gl}:void 0;au(this.ld(new uw({Od:nw.POST,wd:t.wd,ql:t.ql,od:n})))}},n.$c=function(){},t}();Y_=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).Fw=void 0,i.zw=function(){if(M.vn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.Vw=M.Hn||M.vn,i.Ww=(M.Hn||M.vn)&&!(M.Sn&&M.En<3),i.Gw=void 0,i}return S(i,n),A(i,[{key:"Nr",get:function(){return this.Fw||(this.Fw=new Es(mf())),this.Fw}},{key:"qw",get:function(){return this.zw}},{key:"Yw",get:function(){return this.Vw}},{key:"jw",get:function(){return this.Ww}},{key:"Qw",get:function(){return!1}},{key:"Zw",get:function(){return kf.bf()}},{key:"Kw",get:function(){return{Jw:Af}}},{key:"$w",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"t_",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"n_",get:function(){return this.Gw||(this.Gw=new aw(new Q_)),this.Gw}}]),i}(Er)),i=Y_,function(t){t.i_="e_",t.r_="s_"}(j_||(j_={})),j_.i_,j_.r_;var Z_=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).u_=void 0,e}return S(n,t),A(n,[{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}}]),n}(_u);function K_(t){return Boolean(t&&t.o_)}var J_,$_=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(Z_),tg=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(_u),ng=function(t){function n(n){var i;return(i=t.call(this,j_.i_)||this).h_=n,i}return S(n,t),n.prototype.a_=function(){return new ig(this.h_.o_)},n}($_),ig=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return S(n,t),n}(tg),eg=function(t){function n(n){var i;return(i=t.call(this,j_.r_)||this).h_=n,i}return S(n,t),n.prototype.a_=function(){return new rg(this.h_.o_)},n}($_),rg=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return S(n,t),n}(tg);!function(t){t.c_="f_",t.v_="l_",t.d_="w_",t.__="g_",t.m_="y_",t.k_="p_",t.b_="A_",t.T_="S_",t.E_="tc",t.I_="R_",t.D_="N_",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(J_||(J_={}));var sg=function(t){function n(){var n;return(n=t.call(this)||this).C_=[],n.u_=void 0,n}S(n,t);var i=n.prototype;return i.P_=function(t){return this.C_[t]},i.B_=function(t){return!(!t||Hs(this.C_,t))&&(this.C_.push(t),this.u_&&this.u_.push(t.o_),t.tu(J_.k_,this.Js),this.$s(new ng(t)),!0)},i.O_=function(t){if(!t)return!1;var n=this.C_.indexOf(t);return!(n<0)&&(Xs(this.C_,n),this.u_&&Xs(this.u_,n),t.au(J_.k_,this.Js),this.$s(new eg(t)),!0)},i.x_=function(t){return Hs(this.C_,t)},i.wc=function(){for(var t=this.C_,n=t.length-1;n>=0;n-=1)this.O_(t[n])},i.$c=function(){this.wc(),this.ou()},A(n,[{key:"L_",get:function(){return this.C_}},{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}},{key:"M_",get:function(){return this.C_.length}}]),n}(du),ug=function(t){function n(n){var i;return(i=t.call(this,J_.k_)||this).h_=n,i}return S(n,t),n.prototype.a_=function(){return new og(this.h_.o_)},n}($_),og=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return S(n,t),n}(tg),ag=function(t){function n(){var n;return(n=t.call(this)||this).U_=void 0,n.X_=function(t){var i=t.h_;n.B_(i)},n.H_=function(t){var i=t.h_;n.O_(i)},n}S(n,t);var i=n.prototype;return i.F_=function(t){t.tu(j_.i_,this.X_),t.tu(j_.r_,this.H_)},i.z_=function(t){t.au(j_.i_,this.X_),t.au(j_.r_,this.H_)},i.$c=function(){this.U_&&this.U_.$c(),t.prototype.$c.call(this)},A(n,[{key:"V_",get:function(){return this.U_},set:function(t){var n=this.U_;if(t!==n){if(n){this.z_(n);for(var i=0,e=n.L_;i<e.length;i++){var r=e[i];t&&t.x_(r)||this.O_(r)}}if(this.U_=t,t){for(var s=[],u=0,o=t.L_;u<o.length;u++){var a=o[u];this.B_(a),this.W_(a)&&s.push(a)}this.F_(t);for(var h=0;h<s.length;h++){var c=s[h];c.$s(new ug(c))}}}}}]),n}(sg),hg=d.freeze||J;function cg(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function fg(t,n){for(var i=0,e=d.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];d.defineProperty(t,r,d.getOwnPropertyDescriptor(n,r))}return t}function vg(t){if(G(t)){var n={};for(var i in t)U.call(t,i)&&(n[i]=vg(t[i]));return n}if(z(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=vg(t[r]));return e}return t}function lg(t,n){return t===n||!(!t||!n)&&(!(!W(t)||!W(n))&&(V(t)?!!V(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!lg(t[r],n[r]))return!1;return!0}(t,n):!V(n)&&function(t,n){var i=d.keys(t),e=d.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!U.call(n,s)||!lg(t[s],n[s]))return!1}return!0}(t,n)))}function dg(t,n){return t.constructor===n.constructor}function wg(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function _g(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function gg(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function mg(t){var n=gg(t);if(m(n))throw new v("Expected a valid number.");return n}function yg(t){return"string"==typeof t?t:""}function kg(t,n){if(!V(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function pg(t,n){return V(t)?kg(t,n):n(t)}var bg=[j_.i_,j_.r_,J_.k_];function Ag(t){var n,i=t.L_.map(function(t){return t.o_});return i.item=function(n){var i=0|n,e=t.P_(i);return e&&e.o_||void 0},i.addEventListener=function(t,i){n.tu(t,i)},i.removeEventListener=function(t,i){n.au(t,i)},n=new wu(i),t.tu(bg,function(t){return n.$s(t.o_)}),i}function Tg(){}function Sg(t){var n,i=[J_.E_,J_.k_,J_.I_,J_.D_,J_.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.G_&&t.G_.o_},get enabled(){return t.q_},set enabled(n){t.q_=_g(n)},get id(){return t.Y_},get uid(){return t.j_},get kind(){return t.Q_},get label(){return t.Z_},set label(n){t.Z_=yg(n)},get language(){return t.K_},get qualities(){return t.J_.o_},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.J_.L_;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.o_===o&&i.push(s)}return i}(t,z(n)?n:[n]):[]).length>0?t.eg=i:t.eg=void 0},get targetQuality(){if(t.eg)return 1===t.eg.length?t.eg[0].o_:t.eg.map(function(t){return t.o_})},addEventListener:function(t,i){var e=pg(t,yg);n.tu(e,i)},removeEventListener:function(t,i){var e=pg(t,yg);n.au(e,i)}};return n=new wu(e),t.tu(i,function(t){return n.$s(t.o_)}),d.defineProperty(e,"constructor",{value:Tg}),e}function Eg(){}function Ig(t){var n=Ag(t);return d.defineProperty(n,"constructor",{value:Eg}),n}var Rg,Dg,Ng=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.a_=function(){return Ig(this)},i.W_=function(t){return t.q_},n}(ag);function Cg(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Rg.rg:case Rg.og:case Rg.ag:return n}}else if("number"==typeof t)switch(t){case 0:return Rg.rg;case 1:return Rg.og;case 2:return Rg.ag}return Rg.rg}function Pg(){}function Bg(t){var n,i=[J_.k_,J_.E_,J_.c_,J_.v_,J_.d_,J_.__,J_.m_,J_.b_,J_.T_],e=[Dg.hg],r={get kind(){return t.Q_},get label(){return t.Z_},set label(n){t.Z_=yg(n)},get language(){return t.K_},get id(){return t.Y_},get uid(){return t.j_},get inBandMetadataTrackDispatchType(){return t.cg},get mode(){return t.fg},set mode(n){n!==Rg.ag&&n!==Rg.og&&n!==Rg.rg||t.vg(n)},get forced(){return Boolean(t.dg)},get type(){return t._s},get readyState(){return Lg(t.wg)},get cues(){return t.fg===Rg.rg?null:t._g.o_},get activeCues(){return t.fg===Rg.rg?null:t.gg.o_},get src(){return t.yg||""},addEventListener:function(t,i){var e=pg(t,yg);n.tu(e,i)},removeEventListener:function(t,i){var e=pg(t,yg);n.au(e,i)}};return n=new wu(t),t.tu(i,function(t){return n.$s(t.o_)}),t.tu(e,function(t){return n.$s(t)}),d.defineProperty(r,"constructor",{value:Pg}),r}function Og(){}function xg(t){var n=Ag(t);return d.defineProperty(n,"constructor",{value:Og}),n}function Lg(t){return t}!function(t){t.rg="disabled",t.og="hidden",t.ag="showing"}(Rg||(Rg={})),function(t){t.hg="error"}(Dg||(Dg={}));var Mg=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.a_=function(){return xg(this)},i.W_=function(t){return t.fg===Rg.ag},n}(ag),Ug=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.uu=function(n){t.prototype.uu.call(this,n)},i.du=function(n){t.prototype.du.call(this,n)},n}(du),Xg=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(Ug),Hg=function(t){function n(){return t.call(this,Tf.Of)||this}return S(n,t),n}(_u),Fg=function(t){function n(n){var i;return(i=t.call(this,Tf.Df)||this).currentSource=n,i}return S(n,t),n}(_u),zg=function(){function t(){}return t.pg=function(n,i){var e=t.Ag(n,i);return e?t.Tg(e):0},t.Sg=function(){return i.$w||"default"},t.Eg=function(){return i.t_||"unknown"},t.Ag=function(n,e){var r,s=null==(r=i.Zw)?void 0:r.Cu(e),u=s&&JSON.parse(s);if(u&&u[n])return t.Ig(u,n,e)},t.Tg=function(t){var n=t.availableBandwidth;return n||0},t.Ig=function(n,i,e){if(!t.Rg(n,i))return n[i];t.Dg(n,i,e)},t.Dg=function(t,n,e){var r;delete t[n],null==(r=i.Zw)||r.pf(e,JSON.stringify(t))},t.Rg=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.Ng=function(t,n,i,e){var r;return Nr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Cg=function(n){var i=t.Sg();t.Pg(i,"theoplayer-stored-network-info",n,Vt())},t.Pg=function(n,e,r,s){var u,o,a=null==(u=i.Zw)?void 0:u.Cu(e),h=a?JSON.parse(a):void 0,c=t.Ng(h,n,r,s);null==(o=i.Zw)||o.pf(e,JSON.stringify(c))},t.Bg=function(){var n=t.Sg();return t.pg(n,"theoplayer-stored-network-info")},t}();var Vg,Wg,Gg,qg,Yg,jg,Qg="1ADD53F3";function Zg(t){return{chromecast:function(t){return{appID:t&&t.appID?yg(t.appID):Qg}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Vg.AUTO;case"manual":return Vg.MANUAL;case"disabled":return Vg.DISABLED;default:return Vg.MANUAL}}(t?t.strategy:void 0)}}function Kg(t){var n,i=Gg.Og;return(n=t)&&vs(n,"mpd")&&(i=Gg.xg),function(t){return!!t&&vs(t,"m3u8")}(t)&&(i=Gg.Lg),i}function Jg(t){return!!t&&ls(t.toLowerCase(),Gg.xg)}function $g(t){if(!t)return!1;var n=t.toLowerCase();return ls(n,Gg.Lg)||ls(n,Gg.Mg)}function tm(t){return W(t)&&W(t.ssai)&&"google-dai"===t.ssai.integration}function nm(t){return W(t)&&q(t.integration)&&"verizon-media"===t.integration}function im(t){if(q(t))return!t;if(nm(t))return!t.id;if(tm(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function em(t){return Boolean(W(t)&&q(t.src))}function rm(t){return t.type===Gg.Ug||t.type===Gg.Xg}function sm(t){return q(t)||em(t)||tm(t)||nm(t)}function um(t){if(t){if(sm(t))return im(t);for(var n=0;n<t.length;n++){if(!im(t[n]))return!1}return!0}return!0}function om(){return{crossOrigin:Wg.Hg,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function am(){return Nr({},om(),{src:void 0,type:Gg.Og,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function hm(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:qg.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return Yg.NONE;case"midroll-and-postroll":default:return Yg.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=_g(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return qg.INSECURE;case"disabled":return qg.DISABLED;case"enabled":default:return qg.ENABLED}}(t.vpaidMode)),z(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(q)),void 0!==t.googleIma&&(n.googleIma=function(t){var n;return void 0===t?{useNativeIma:!1,bitrate:-1}:{useNativeIma:_g(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1}}(t.googleIma)),n)}function cm(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];G(r)&&n.push(r)}return n}function fm(t){return q(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Vg||(Vg={})),function(t){t.Hg="",t.Fg="anonymous",t.zg="use-credentials"}(Wg||(Wg={})),function(t){t.xg="application/dash+xml",t.Lg="application/vnd.apple.mpegurl",t.Mg="application/x-mpegurl",t.Og="video/mp4",t.Ug="application/vnd.theoplayer.hesp+json",t.Xg="application/vnd.theo.hesp+json"}(Gg||(Gg={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(qg||(qg={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(Yg||(Yg={})),function(t){t[t.Vg=0]="Vg",t[t.Wg=1]="Wg",t[t.Gg=2]="Gg",t[t.qg=3]="qg",t[t.Yg=4]="Yg"}(jg||(jg={}));var vm,lm=function(t){function n(n,i){var e;return void 0===i&&(i=jg.Vg),(e=t.call(this,Tf.Pf)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(_u),dm=function(t){function n(n){var i;return(i=t.call(this,Tf.Ff)||this).currentTime=n,i}return S(n,t),n}(_u),wm=function(t){function n(n){var i;return(i=t.call(this,Tf.zf)||this).currentTime=n,i}return S(n,t),n}(_u);!function(t){t.jg="canplay",t.Qg="canplaythrough",t.Zg="loadeddata",t.Kg="loadedmetadata",t.b_="readystatechange",t.Jg="waiting",t.$g="playing"}(vm||(vm={}));var _m=[vm.jg,vm.Qg,vm.Zg,vm.Kg,vm.b_,vm.Jg,vm.$g],gm=function(t){function n(n,i){var e;return void 0===i&&(i=jg.Wg),(e=t.call(this,vm.Kg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(_u),mm=function(t){function n(n){var i;return(i=t.call(this,Tf.Cf)||this).duration=n,i}return S(n,t),n}(_u),ym=function(t){function n(n,i){var e;return(e=t.call(this,Tf.Wf)||this).currentTime=n,e.playbackRate=i,e}return S(n,t),n}(_u),km=function(t){function n(n,i){var e;return(e=t.call(this,Tf.ev)||this).currentTime=n,e.currentProgramDateTime=i,e}return S(n,t),n}(_u),pm=function(t){function n(n){var i;return(i=t.call(this,Tf.Bf)||this).currentTime=n,i}return S(n,t),n}(_u),bm=function(t){function n(n,i){var e;return void 0===i&&(i=jg.Gg),(e=t.call(this,vm.Zg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(_u),Am=function(t){function n(n){var i;return(i=t.call(this,Tf.jf)||this).currentTime=n,i}return S(n,t),n}(_u),Tm=function(t){function n(n){var i;return(i=t.call(this,Tf.Yf)||this).currentTime=n,i}return S(n,t),n}(_u),Sm=function(t){function n(n,i){var e;return(e=t.call(this,Tf.rv)||this).currentTime=n,e.volume=i,e}return S(n,t),n}(_u),Em=function(t){function n(n,i){var e;return void 0===i&&(i=jg.qg),(e=t.call(this,vm.jg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(_u),Im=function(t){function n(n,i){var e;return void 0===i&&(i=jg.Yg),(e=t.call(this,vm.Qg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(_u),Rm=function(t){function n(n,i){var e;return(e=t.call(this,vm.b_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(_u),Dm=function(t){function n(n){var i;return(i=t.call(this,Dg.hg)||this).errorObject=n,i}return S(n,t),n.prototype.a_=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Z_);function Nm(t,n,i,e,r){var s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),s=0;case 4:return o.prev=5,o.next=8,Dr.awrap(t(n));case 8:return o.abrupt("return",o.sent);case 11:if(o.prev=11,o.t0=o.catch(5),nu(o.t0),!(s<i)){o.next=20;break}return u=w.min(e*w.pow(2,s),r),s++,o.next=19,Dr.awrap(cu(u,n));case 19:return o.abrupt("continue",4);case 20:throw o.t0;case 21:o.next=4;break;case 23:case"end":return o.stop()}},null,null,[[5,11]],We)}var Cm,Pm={maxRetries:1/0,minimumBackoff:200,maximumBackoff:3e4};function Bm(t){switch(t){case Cm.ALL:case Cm.CONTENT:return t;default:return Cm.NONE}}function Om(t){var n,e,r,s,u,o=vg(t||{});return o.libraryLocation&&(o.libraryLocation=cw(o.libraryLocation,!0)),o.isEmbeddable=Boolean(o.isEmbeddable),o.cast=Zg(o.cast),o.ads=hm(o.ads),o.analytics=cm(o.analytics),o.mutedAutoplay=Bm(o.mutedAutoplay),o.allowNativeFullscreen=Boolean(o.allowNativeFullscreen),o.allowMixedContent=Boolean(o.allowMixedContent),o.persistVolume=Boolean(o.persistVolume),o.liveOffset=(n=o.liveOffset,Number(n)||void 0),o.hlsDateRange=(e=o.hlsDateRange,Boolean(e)),o.retainPlaybackRateOnSourceChange=Boolean(o.retainPlaybackRateOnSourceChange),o.license=q(r=o.license)?r:void 0,o.licenseUrl=function(t){if(!t)return;try{return cw(t)}catch(t){return void i.Tr("Invalid 'licenseUrl', falling back to default URL")}}(o.licenseUrl),o.vr=function(t){return{useWebXR:Boolean(t&&t.useWebXR)}}(o.vr),o.retryConfiguration=(s=o.retryConfiguration,u=Nr({},Pm),void 0!==s&&(void 0!==s.maxRetries&&(u.maxRetries=Number(s.maxRetries)),void 0!==s.minimumBackoff&&(u.minimumBackoff=Number(s.minimumBackoff)),void 0!==s.maximumBackoff&&(u.maximumBackoff=Number(s.maximumBackoff))),u),o}function xm(t){return{tm:t.tm,nm:t.nm,im:t.im,Au:t.Au,um:t.um,hm:t.hm,cm:t.cm,fm:t.fm,wg:t.wg,vm:t.vm,lm:t.lm,dm:t.dm,wm:t.wm}}function Lm(t,n,i){if(n!==i){var e=n.tm,r=n.nm,s=n.hm,u=n.cm,o=n.fm,a=n.wg,h=n.vm;n.dm,n.lm;var c=n.wm,f=i.tm,v=i.nm,l=i.im,d=i.um,w=i.hm,_=i.cm,g=i.fm,y=i.wg,k=i.vm;i.dm,i.lm;var p=i.wm;a!==jg.Vg&&t.$s(new lm(f,y)),_&&!u?t.$s(new dm(f)):!_&&u&&t.$s(new wm(f)),y>=jg.Wg&&t.$s(new gm(f,y)),v===r||m(v)&&m(r)||t.$s(new mm(v)),g!==o&&t.$s(new ym(f,g)),f!==e&&t.$s(new km(f,void 0)),l&&t.$s(new pm(f)),y>=jg.Gg&&t.$s(new bm(f,y)),k&&!h?t.$s(new Am(f)):!k&&h&&t.$s(new Tm(f)),p===c&&w===s||t.$s(new Sm(f,p)),y>=jg.qg&&t.$s(new Em(f,y)),y>=jg.Yg&&t.$s(new Im(f,y)),y!==a&&t.$s(new Rm(f,y)),d&&t.$s(new Dm(d))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Cm||(Cm={}));var Mm=.25,Um=400,Xm={_m:.2,gm:.45,mm:.7,ym:3,pm:qm,Am:Ym},Hm={_m:.4,gm:.65,mm:1,ym:3,pm:qm,Am:Ym},Fm={_m:.4,gm:.7,mm:.9,ym:3,pm:qm,Am:Ym},zm={_m:.4,gm:.65,mm:1,ym:3,pm:qm,Am:Ym},Vm={_m:.5,gm:1.125,mm:1.75,ym:2.55,pm:qm,Am:Ym};function Wm(){var t;return t=i.Hr.Ye?zm:i.Hr.Ze?Hm:i.Hr.Qe?"Android"===i.Fr.zr?Fm:Xm:Vm,i.Fr.Vr?function(t){if(i.Fr.Vr){var n=(Um+250)/1e3,e=w.max(n,t._m),r=w.max(e+Mm,t.gm),s=w.max(r+Mm,t.mm);return{_m:e,gm:r,mm:s,ym:w.max(s+Mm,t.ym),pm:qm,Am:Ym}}return t}(t):t}var Gm,qm=.92,Ym=1.08;function jm(t){return{goLive:function(){return t.Tm()},get isLive(){return t.Sm},get currentServerLiveTime(){return t.Em},get currentLatency(){return t.Im},get latency(){return t.Rm},set latency(n){if(!function(t){if(!W(t))return!1;var n=t,i=H(n.target)&&"number"==typeof n.target&&H(n.windowEnd)&&"number"==typeof n.windowEnd&&H(n.windowStart)&&"number"==typeof n.windowStart&&H(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new v("Invalid latency configuration");t.Rm=n},get manifest(){return t.Dm},addEventListener:function(n,i){t.tu(Zm(n),i)},removeEventListener:function(n,i){t.au(Zm(n),i)}}}!function(t){t[t.rg=0]="rg",t[t.Nm=1]="Nm",t[t.Cm=2]="Cm"}(Gm||(Gm={}));var Qm=["golive","latencyrecoveryseek"];function Zm(t){var n=pg(t,yg);return(q(n)?[n]:n).filter(function(t){return Hs(Qm,t)})}var Km,Jm=function(t){function n(){var n,i;return(n=t.call(this)||this).U_=void 0,n.u_=void 0,n.Pm={windowStart:(i=Wm())._m,windowEnd:i.mm,target:i.gm,maxOffset:i.ym},n.U_=void 0,n}S(n,t);var i=n.prototype;return i.F_=function(t){t.tu(Qm,this.Js)},i.z_=function(t){t.au(Qm,this.Js)},i.Tm=function(){var t;null==(t=this.U_)||t.Tm()},i.$c=function(){this.ou(),this.U_&&this.z_(this.U_),this.U_=void 0},A(n,[{key:"V_",get:function(){return this.U_},set:function(t){var n=this.U_;t!==n&&(n&&this.z_(n),t&&this.F_(t),this.U_=t,this.U_&&(this.U_.Rm=this.Pm))}},{key:"o_",get:function(){return this.u_||(this.u_=jm(this)),this.u_}},{key:"Em",get:function(){var t;return null==(t=this.U_)?void 0:t.Em}},{key:"Im",get:function(){var t;return null==(t=this.U_)?void 0:t.Im}},{key:"Sm",get:function(){return!!this.U_&&this.U_.Sm}},{key:"Rm",get:function(){return this.U_?this.U_.Rm:this.Pm},set:function(t){this.U_&&(this.U_.Rm=t),this.Pm=t}},{key:"Dm",get:function(){var t;return null==(t=this.U_)?void 0:t.Dm}}]),n}(du),$m=function(t){function n(n){var i;return(i=t.call(this)||this).U_=void 0,i.Bm=[],i.Om=!1,i.xm=new Ng,i.Lm=new Ng,i.Mm=new Mg,i.Um=new Jm,i.Xm=!1,i.Hm(n),n.uu(i.Js),i.U_=n,i.xm.V_=n.Fm,i.Lm.V_=n.zm,i.Mm.V_=n.Vm,i.Um.V_=n.Wm,i}S(n,t);var i=n.prototype;return i.Gm=function(){this.U_.Gm()},i.qm=function(){this.U_.qm()},i.Ym=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",hu(this.Bm.map(function(t){return t.Ym()})).then(K));case 1:case"end":return t.stop()}},null,this,null,We)},i.jm=function(){return this.U_.jm()},i.Qm=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return tu(n),i.next=3,Dr.awrap(this.U_.Qm(t,n));case 3:case"end":return i.stop()}},null,this,null,We)},i.Zm=function(){return this.V_.Zm()},i.Km=function(){this.V_.Km()},i.Jm=function(){this.V_.Jm()},i.$m=function(){if(!this.Om){for(var t=0,n=this.Bm;t<n.length;t++){n[t].$m()}this.Om=!0}},i.iy=function(t){this.U_.iy(t)},i.ey=function(){this.U_.ey()},i.sy=function(){this.U_.sy()},i.uy=function(){this.U_.uy()},i.oy=function(){return this.U_.oy()},i.vy=function(){return this.U_.vy()},i.ly=function(){for(var t=[],n=0,i=this.Bm;n<i.length;n++){var e=i[n];t.push.apply(t,e.ly())}return t},i.wy=function(t){for(var n=!1,i=0,e=this.Bm;i<e.length;i++){n=e[i].wy(t)||n}return n},i.$s=function(n){this.wy(n)||t.prototype.$s.call(this,n)},i.Hm=function(t){this.Bm.push(t)},i._y=function(t){Us(this.Bm,t)},i.gy=function(t){if(t!==this.U_){var n=this.U_;n.ey(),n.du(this.Js);var i=xm(this),e=this.yy,r=this.vy();this.U_=t,this.xm.V_=t.Fm,this.Lm.V_=t.zm,this.Mm.V_=t.Vm,this.Um.V_=t.Wm,Lm(this,i,this);var s=this.yy;s!==e&&this.$s(new Fg(s)),this.vy()!==r&&this.$s(new Hg),t.uu(this.Js),t.iy(n)}},i.py=function(){},i.$c=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.ou(),this.U_.ey(),t=0,n=this.Bm;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,Dr.awrap(i.$c());case 7:t++,e.next=3;break;case 10:this.xm.$c(),this.Lm.$c(),this.Mm.$c(),this.Um.$c();case 14:case"end":return e.stop()}},null,this,null,We)},i.wc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",hu(this.Bm.map(function(t){return t.wc()})).then(K));case 1:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"Fm",get:function(){return this.xm}},{key:"Vm",get:function(){return this.Mm}},{key:"zm",get:function(){return this.Lm}},{key:"by",get:function(){return this.U_.by}},{key:"Ay",get:function(){return this.U_.Ay},set:function(t){this.U_.Ay=t}},{key:"yy",get:function(){return this.U_.yy}},{key:"tm",get:function(){return this.U_.tm},set:function(t){this.U_.tm=t}},{key:"nm",get:function(){return this.U_.nm}},{key:"Ty",get:function(){return this.U_.Ty}},{key:"im",get:function(){return this.U_.im}},{key:"Au",get:function(){return this.U_.Au}},{key:"um",get:function(){return this.U_.um}},{key:"Wm",get:function(){return this.Um}},{key:"Sy",get:function(){return this.U_.Sy}},{key:"Ey",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.Iy,i+=a.Ry,e+=a.Dy,r+=a.Ny,s+=a.Cy,u.amountOfBufferedAudioSegments+=a.Py.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=a.Py.amountOfBufferedVideoSegments}return{Iy:n,Ry:i,Dy:e,Ny:r,Cy:s,Py:u}}(this.Bm.map(function(t){return t.Ey}))}},{key:"hm",get:function(){return this.U_.hm},set:function(t){this.U_.hm=t}},{key:"By",get:function(){return this.U_.By}},{key:"cm",get:function(){return this.U_.cm}},{key:"fm",get:function(){return this.U_.fm},set:function(t){this.U_.fm=t}},{key:"Oy",get:function(){return this.U_.Oy}},{key:"xy",get:function(){return this.U_.xy},set:function(t){this.U_.xy=t}},{key:"wg",get:function(){return this.U_.wg}},{key:"Ly",get:function(){return this.U_.Ly}},{key:"vm",get:function(){return this.U_.vm}},{key:"lm",get:function(){return this.U_.lm}},{key:"dm",get:function(){return this.U_.dm}},{key:"wm",get:function(){return this.U_.wm},set:function(t){this.U_.wm=t}},{key:"My",get:function(){return this.U_.My}},{key:"Uy",get:function(){return!1},set:function(t){}},{key:"V_",get:function(){return this.U_},set:function(t){this.gy(t)}}]),n}(Xg),ty=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e)||this).url=void 0,h.status=void 0,h.statusText=void 0,h.response=void 0,h.systemCode=void 0,h.url=r,h.status=s,h.statusText=u,h.response=o,h.systemCode=a,h}return S(n,t),A(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(tf);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Km||(Km={}));var ny=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,v.captureStackTrace&&v.captureStackTrace(Kt(s),s.constructor),s}return S(n,t),A(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Jt);function iy(t){cg(t,"MEDIA_ERR_ABORTED",Km.ABORTED),cg(t,"MEDIA_ERR_NETWORK",Km.NETWORK),cg(t,"MEDIA_ERR_DECODE",Km.DECODE),cg(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",Km.SRC_NOT_SUPPORTED),cg(t,"MEDIA_ERR_ENCRYPTED",Km.ENCRYPTED)}function ey(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new ny(Km.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new ny(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return Km.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return Km.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return Km.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return Km.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return Km.NETWORK;if(i===n.ErrorCategory.SOURCE)return Km.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return Km.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return Km.ENCRYPTED;if(i===n.ErrorCategory.AD)return Km.ADVERTISEMENT_ERROR;return Km.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}iy(ny),iy(ny.prototype);var ry,sy=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.B_=function(n){return t.prototype.B_.call(this,n)},i.a_=function(){return Ig(this)},n}(sg);!function(t){t.Cd="audio",t.Pd="video",t.ni="text",t.Bd="image",t.md="unknown"}(ry||(ry={}));var uy=function(){function t(){this.Xy=[],this.u_=void 0}var n=t.prototype;return n.Hy=function(t){this.Xy.push(t),this.u_&&this.u_.push(t.o_)},n.$h=function(t){Us(this.Xy,t),this.u_&&Us(this.u_,t.o_)},n.P_=function(t){return this.Xy[t]},n.Fy=function(t){return z(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Hs(t,n[i]))return!1;return!0}(this.Xy,t):Hs(this.Xy,t)},n.wc=function(){Fs(this.Xy),this.u_&&Fs(this.u_)},A(t,[{key:"L_",get:function(){return this.Xy}},{key:"M_",get:function(){return this.Xy.length}},{key:"o_",get:function(){var t,n;return this.u_||(this.u_=((n=(t=this).L_.map(function(t){return t.o_})).item=function(n){var i=0|n,e=t.P_(i);return e&&e.o_||void 0},n)),this.u_}}]),t}(),oy=function(t){function n(n){var i;return(i=t.call(this,J_.E_)||this).h_=n,i}return S(n,t),n.prototype.a_=function(){return new ay(this.h_.o_)},n}($_),ay=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return S(n,t),n}(tg),hy=0;function cy(){return hy++}var fy=0;var vy=0;function ly(){return vy++}var dy=0;function wy(){return dy++}var _y=0;var gy=function(t){function n(n){var i;return(i=t.call(this)||this)._s=ry.Cd,i.zy=void 0,i.Uh=void 0,i.Vy=void 0,i.Wy=void 0,i.Gy=!1,i.Xy=void 0,i.u_=void 0,i.zy=n,i.Wy=cy(),i.Uh=_y+++"",i.Vy=n.label,i.Xy=new uy,i.qy(),i}S(n,t);var i=n.prototype;return i.Yy=function(t){this.q_=t},i.qy=function(){this.q_=this.jy},A(n,[{key:"G_",get:function(){}},{key:"q_",get:function(){return this.Gy},set:function(t){this.Gy!==t&&(this.Gy=t,this.jy=t,this.$s(new ug(this)))}},{key:"jy",get:function(){return this.zy.enabled},set:function(t){this.zy.enabled=t}},{key:"o_",get:function(){return this.u_||(this.u_=Sg(this)),this.u_}},{key:"Y_",get:function(){return this.Uh}},{key:"j_",get:function(){return this.Wy}},{key:"Q_",get:function(){return this.zy.kind}},{key:"Z_",get:function(){return this.Vy},set:function(t){t!==this.Vy&&(this.Vy=t,this.$s(new oy(this)))}},{key:"K_",get:function(){return this.zy.language}},{key:"fg",get:function(){return this.q_?"enabled":"disabled"}},{key:"Qy",get:function(){return this.zy}},{key:"J_",get:function(){return this.Xy}},{key:"eg",get:function(){},set:function(t){}}]),n}(du),my=0;var yy,ky,py,by=function(t){function n(n){var i;return(i=t.call(this)||this)._s=ry.Pd,i.zy=void 0,i.Uh=void 0,i.Wy=void 0,i.Gy=!1,i.Xy=void 0,i.Vy=void 0,i.u_=void 0,i.zy=n,i.Wy=cy(),i.Uh=my+++"",i.Xy=new uy,i.Vy=n.label,i.qy(),i}S(n,t);var i=n.prototype;return i.qy=function(){this.q_=this.jy},i.Yy=function(t){this.q_=t},A(n,[{key:"G_",get:function(){}},{key:"q_",get:function(){return this.Gy},set:function(t){this.Gy!==t&&(this.Gy=t,this.jy=t,this.$s(new ug(this)))}},{key:"jy",get:function(){return!!this.zy.selected},set:function(t){this.zy.selected=t}},{key:"o_",get:function(){return this.u_||(this.u_=Sg(this)),this.u_}},{key:"Y_",get:function(){return this.Uh}},{key:"j_",get:function(){return this.Wy}},{key:"Q_",get:function(){return"main"}},{key:"Z_",get:function(){return this.Vy},set:function(t){t!==this.Vy&&(this.Vy=t,this.$s(new oy(this)))}},{key:"K_",get:function(){return this.zy.language}},{key:"fg",get:function(){return this.q_?"enabled":"disabled"}},{key:"Qy",get:function(){return this.zy}},{key:"J_",get:function(){return this.Xy}},{key:"eg",get:function(){},set:function(t){}}]),n}(du),Ay=function(t){function n(n){var i;return(i=t.call(this,Tf.Af)||this).Sy=n,i}return S(n,t),n}(_u);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(yy||(yy={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(ky||(ky={})),function(t){t.Zy="cue",t.Ky="region",t.Jy="stylesheet"}(py||(py={}));var Ty,Sy={"line-left":"start",center:"middle","line-right":"end"},Ey={start:"line-left",middle:"center",end:"line-right"};function Iy(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Ry(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:g(i),m(r)?e:r;var i,e,r}!function(t){t.$y="nk",t.ek="rk",t.E_="tc"}(Ty||(Ty={}));var Dy=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).hk=i,e}return S(n,t),n}($_),Ny=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return S(n,t),n}(tg);function Cy(t){var n,i=[Ty.$y,Ty.ek,Ty.E_],e={get track(){return t.h_.o_},get id(){return t.Y_},get uid(){return t.j_},get startTime(){return t.ck},get endTime(){return t.fk},get content(){return t.vk},addEventListener:function(t,i){var e=pg(t,yg);n.tu(e,i)},removeEventListener:function(t,i){var e=pg(t,yg);n.au(e,i)}};return n=new wu(e),t.tu(i,function(t){return n.$s(t.o_)}),e}function Py(){}function By(t){return fg(Cy(t),{get align(){return t.lk},get line(){return t.dk},get lineAlign(){return t.wk},get position(){return t._k},get positionAlign(){return t.gk},get region(){return t.yk?t.yk.o_:null},get size(){return t.xu},get snapToLines(){return t.pk},get text(){return t.vk},get vertical(){return t.bk}})}var Oy=function(t){function n(n){return t.call(this,Ty.E_,n)||this}return S(n,t),n.prototype.a_=function(){return new xy(this.hk.o_)},n}(Dy),xy=function(t){function n(n){return t.call(this,"update",n)||this}return S(n,t),n}(Ny),Ly=.02;function My(t,n){return Ut(t.ck,n.ck,Ly)&&Ut(t.fk,n.fk,Ly)&&t.Y_===n.Y_}var Uy=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Wy=void 0,u.Uh=void 0,u.Ak=void 0,u.Tk=void 0,u.u_=void 0,u.Sk=void 0,u.Ek=!1,u.Ik=void 0,u.Rk=void 0,u.Dk=-1,u.Wy=wy(),u.Ak=n,u.Tk=i,u.Ik=e,u.Rk=Boolean(r),u.Uh=null!=s?s:"",u}S(n,t);var i=n.prototype;return i.a_=function(){return Cy(this)},i.Nk=function(t){return this===t||dg(this,t)&&My(this,t)},i.$c=function(){this.ou()},A(n,[{key:"ck",get:function(){return this.Ak},set:function(t){this.Ak!==t&&(this.Ak=t,this.$s(new Oy(this)))}},{key:"fk",get:function(){return this.Tk},set:function(t){this.Tk!==t&&(this.Tk=t,this.$s(new Oy(this)))}},{key:"Y_",get:function(){return this.Uh}},{key:"j_",get:function(){return this.Wy}},{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}},{key:"Ck",get:function(){return this.Ek},set:function(t){this.Ek=t}},{key:"h_",get:function(){return this.Sk},set:function(t){this.Sk=t}},{key:"vk",get:function(){return this.Ik},set:function(t){this.Ik!==t&&(this.Ik=t,this.$s(new Oy(this)))}},{key:"Pk",get:function(){return this.Rk},set:function(t){this.Rk=t}}]),n}(du);function Xy(t,n){return t.vk===n.vk&&t.dk===n.dk&&t.wk===n.wk&&t._k===n._k&&t.gk===n.gk&&t.yk===n.yk&&t.pk===n.pk&&t.xu===n.xu&&t.lk===n.lk&&t.bk===n.bk}var Hy=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).dk="auto",u.wk="start",u._k="auto",u.gk="auto",u.yk=void 0,u.pk=!0,u.xu=100,u.lk="center",u.bk="",u}return S(n,t),n.prototype.Nk=function(n){return this===n||dg(this,n)&&t.prototype.Nk.call(this,n)&&Xy(this,n)},A(n,[{key:"o_",get:function(){return this.u_||(this.u_=By(this)),this.u_}},{key:"_s",get:function(){return py.Zy}}]),n}(Uy);function Fy(t){var n=Z(t.dk)?t.dk:g(t.dk);return m(n)||t.pk||!(n<0||n>100)?m(n)?t.pk?-1:100:n:100}function zy(t){return Ry(t._k,t.lk)}function Vy(t){return Iy(t.gk,t.lk)}function Wy(t){var n,i=Vy(t),e=zy(t);switch(i){case"line-left":n=100-e;break;case"line-right":n=e;break;case"center":n=e<=50?2*e:2*(100-e)}return w.min(t.xu,n)}function Gy(t){return{get id(){return t.Y_},get identifier(){return t.Y_},get lines(){return t.Bk},get regionAnchorX(){return t.Ok},get regionAnchorY(){return t.xk},get scrollValue(){return t.Lk},get viewportAnchorX(){return t.Mk},get viewportAnchorY(){return t.Uk},get width(){return t.Xk}}}var qy=function(){function t(t,n,i,e,r,s,u,o){this.u_=void 0,this.Y_=t,this.Xk=n,this.Bk=i,this.Ok=e,this.xk=r,this.Mk=s,this.Uk=u,this.Lk=o}return A(t,[{key:"o_",get:function(){return this.u_||(this.u_=Gy(this)),this.u_}},{key:"_s",get:function(){return py.Ky}}]),t}(),Yy=function(){function t(){}var n=t.prototype;return n.Hk=function(t){return this.Fk()*t},n.zk=function(t){return this.Vk(t)>0},n.Wk=function(t){return this.Vk(t)>=0},n.Gk=function(t,n){return this.Yk(t).qk(n)},n.Nk=function(t){return 0===this.Vk(t)},n.jk=function(t){return this.Vk(t)<0},n.qk=function(t){return this.Vk(t)<=0},n.Qk=function(){return this.Zk()?this.Kk():this},n.Jk=function(t){return this.Hy(t.Kk())},n.Yk=function(t){return this.Jk(t).Qk()},t}();function jy(t,n){return t.$k()?n.$k()?Ss.Cs:Ss.Ps:n.$k()?Ss.Bs:t.tp()?n.tp()&&t.Zk()===n.Zk()?Ss.Cs:t.Zk()?Ss.Bs:Ss.Ps:n.Zk()?Ss.Ps:Ss.Bs}var Qy=function(){function t(t,n){this.np=void 0,this.ip=void 0,this.np=t,this.ip=n}t.ep=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.rp=function(n){return n.unsigned?new t(n,ft.UZERO):new t(n,n.isNegative()?ft.NEG_ONE:ft.ZERO)},t.sp=function(n,i){if(m(n))return i?t.op:t.ap;if(i){if(n<0)return t.op;if(n>=3.402823669209385e38)return t.hp}else{if(n<=-1.7014118346046923e38)return t.cp;if(n+1>=1.7014118346046923e38)return t.fp}return n<0?t.sp(-n,i).Kk():t.ep(ft.fromNumber(n%0x10000000000000000),ft.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.vp=function(){return this.ip.unsigned},n.lp=function(){return this.np.isZero()&&this.ip.isZero()},n.Zk=function(){return this.ip.isNegative()},n.dp=function(){return this.vp()?t.ep(this.np,this.ip,!1):this},n.wp=function(){return this.vp()?this:t.ep(this.np,this.ip,!0)},n._p=function(){return this.np},n.Fk=function(){return this.Zk()?-this.Kk().Fk():0x10000000000000000*this.ip.toNumber()+this.np.toUnsigned().toNumber()},n.gp=function(){return this.np.toInt()},n.Nk=function(t){return(this.vp()===t.vp()||this.ip.getHighBits()>>>31!=1||t.ip.getHighBits()>>>31!=1)&&(this.ip.toUnsigned().eq(t.ip.toUnsigned())&&this.np.toUnsigned().eq(t.np.toUnsigned()))},n.Vk=function(t){if(this.Nk(t))return Ss.Cs;var n=this.Zk(),i=t.Zk();if(n&&!i)return Ss.Bs;if(!n&&i)return Ss.Ps;if(!this.vp())return this.Jk(t).Zk()?Ss.Bs:Ss.Ps;var e=this.wp(),r=t.wp(),s=r.ip.comp(e.ip);return s>0||0===s&&r.np.gt(e.np)?Ss.Bs:Ss.Ps},n.jk=function(t){return this.Vk(t)<0},n.qk=function(t){return this.Vk(t)<=0},n.mp=function(t){return this.Vk(t)>0},n.yp=function(t){return this.Vk(t)>=0},n.kp=function(){return new t(this.np.not(),this.ip.not())},n.pp=function(n){return new t(this.np.and(n.np),this.ip.and(n.ip))},n.bp=function(n){return new t(this.np.or(n.np),this.ip.or(n.ip))},n.Ap=function(n){var i=127&n;return 0===i?this:i<64?t.ep(this.np.shl(i),this.ip.shl(i).or(this.np.shru(64-i)),this.vp()):t.ep(ft.ZERO,this.np.shl(i-64),this.vp())},n.Tp=function(n){var i=127&n;return 0===i?this:i<64?t.ep(this.np.shru(i).or(this.ip.shl(64-i)),this.ip.shr(i),this.vp()):t.ep(this.ip.shr(i-64),this.ip.isNegative()?ft.NEG_ONE:ft.ZERO,this.vp())},n.Sp=function(n){var i=127&n;return 0===i?this:i<64?t.ep(this.np.shru(i).or(this.ip.shl(64-i)),this.ip.shru(i),this.vp()):64===i?t.ep(this.ip,ft.ZERO,this.vp()):t.ep(this.ip.shru(i-64),ft.ZERO,this.vp())},n.Hy=function(n){var i=this.ip.high>>>16,e=65535&this.ip.high,r=this.ip.low>>>16,s=65535&this.ip.low,u=this.np.high>>>16,o=65535&this.np.high,a=this.np.low>>>16,h=65535&this.np.low,c=n.ip.high>>>16,f=65535&n.ip.high,v=n.ip.low>>>16,l=65535&n.ip.low,d=n.np.high>>>16,w=65535&n.np.high,_=n.np.low>>>16,g=0,m=0,y=0,k=0,p=0,b=0,A=0,T=0;A+=(T+=h+(65535&n.np.low))>>>16,T&=65535,b+=(A+=a+_)>>>16,A&=65535,p+=(b+=o+w)>>>16,b&=65535,k+=(p+=u+d)>>>16,p&=65535,y+=(k+=s+l)>>>16,k&=65535,m+=(y+=r+v)>>>16,y&=65535,g+=(m+=e+f)>>>16,m&=65535,g+=i+c,g&=65535;var S=this.vp(),E=ft.fromBits(y<<16|k,g<<16|m,S),I=ft.fromBits(A<<16|T,p<<16|b,S);return t.ep(I,E,S)},n.Jk=function(t){return this.Hy(t.Kk())},n.Kk=function(){return this.kp().Hy(t.Ep)},n.Ip=function(n){if(this.lp()||n.lp())return this.vp()?t.op:t.ap;if(this.Zk())return n.Zk()?this.Kk().Ip(n.Kk()):this.Kk().Ip(n).Kk();if(n.Zk())return this.Ip(n.Kk()).Kk();if(this.ip.isZero()&&0===this.np.high&&n.ip.isZero()&&0===n.np.high)return t.rp(this.np.multiply(n.np));var i=ft.fromBits(4294967295,0,!0),e=this.np.and(i),r=this.np.shru(32),s=this.ip.and(i),u=this.ip.shru(32),o=n.np.and(i),a=n.np.shru(32),h=n.ip.and(i),c=n.ip.shru(32),f=ft.UZERO,v=ft.UZERO,l=ft.UZERO,d=ft.UZERO;f=f.add(e.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(r.mul(o)),l=l.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(a)),l=l.add(v.shru(32)),v=v.and(i),l=l.add(s.mul(o)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(r.mul(a)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(e.mul(h)),d=d.add(l.shru(32)),l=l.and(i),d=d.add(u.mul(o)).add(s.mul(a)).add(r.mul(h)).add(e.mul(c)).and(i);var w=ft.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),_=ft.fromBits(l.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0);return t.ep(w,_,this.vp())},n.Rp=function(n){var i,e,r=n;if(r.lp())throw new RangeError("division by zero");if(this.lp())return this.vp()?[t.op,t.op]:[t.ap,t.ap];if(this.vp()){if(r.vp()||(r=r.wp()),r.mp(this))return[t.op,this];if(r.mp(this.Sp(1)))return[e=t.Dp,i=this.Jk(r)];e=t.op}else{if(this.Nk(t.cp)){if(r.Nk(t.Ep)||r.Nk(t.Np))return[t.cp,t.ap];if(r.Nk(t.cp))return[t.Ep,t.ap];var s=this.Tp(1).Cp(r).Ap(1);return s.Nk(t.ap)?e=r.Zk()?t.Ep:t.Np:(i=this.Jk(r.Ip(s)),e=s.Hy(i.Cp(r))),[e,i=this.Jk(r.Ip(e))]}if(r.Nk(t.cp))return this.vp()?[t.op,this]:[t.ap,this];if(this.Zk()){if(r.Zk())return this.Kk().Rp(r.Kk());var u=this.Kk().Rp(r);return e=u[0],i=u[1],[e.Kk(),i.Kk()]}if(r.Zk()){var o=this.Rp(r.Kk());return e=o[0],i=o[1],[e.Kk(),i.Kk()]}e=t.ap}for(i=this;i.yp(r);){for(var a=w.max(1,w.floor(i.Fk()/r.Fk())),h=w.ceil(w.log(a)/w.LN2),c=h<=48?1:w.pow(2,h-48),f=t.sp(a),v=f.Ip(r);v.Zk()||v.mp(i);)a-=c,v=(f=t.sp(a,this.vp())).Ip(r);f.lp()&&(f=t.Ep),e=e.Hy(f),i=i.Jk(v)}return[e,i]},n.Cp=function(t){return this.Rp(t)[0]},n.Pp=function(t){return this.Rp(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.lp())return"0";if(this.Zk()){if(this.Nk(t.cp)){var e=t.sp(i),r=this.Cp(e),s=r.Ip(e).Jk(this);return r.toString(i)+s.gp().toString(i)}return"-"+this.Kk().toString(i)}for(var u=t.sp(w.pow(i,6),this.vp()),o=this,a="";;){var h=o.Cp(u),c=(o.Jk(h.Ip(u)).gp()>>>0).toString(i);if((o=h).lp())return c+a;for(;c.length<6;)c="0"+c;a=String(c)+a}},t}();Qy.ap=Qy.rp(ft.ZERO),Qy.op=Qy.rp(ft.UZERO),Qy.Ep=Qy.rp(ft.ONE),Qy.Dp=Qy.rp(ft.UONE),Qy.Np=Qy.rp(ft.NEG_ONE),Qy.fp=Qy.ep(ft.NEG_ONE,ft.MAX_VALUE,!1),Qy.hp=Qy.ep(ft.MAX_UNSIGNED_VALUE,ft.MAX_UNSIGNED_VALUE,!0),Qy.cp=Qy.ep(ft.ZERO,ft.MIN_VALUE,!1);var Zy=function(){function t(t,n){void 0===n&&(n=1),this.Bp=void 0,this.Op=void 0,this.Bp=t,this.Op=n}t.xp=function(n){return new t(w.ceil(n.Bp),n.Op)},t.Lp=function(n){return new t(w.floor(n.Bp),n.Op)},t.Mp=function(t,n){return t.Wk(n)?t:n},t.Up=function(t,n){return t.qk(n)?t:n};var n=t.prototype;return n.Hy=function(n){return this.Op>=n.Op?new t(this.Bp+n.Xp(this.Op).Bp,this.Op):new t(this.Xp(n.Op).Bp+n.Bp,n.Op)},n.zk=function(t){return t.jk(this)},n.Wk=function(t){return t.qk(this)},n.Yk=function(n){return this.Op>=n.Op?new t(w.abs(this.Bp-n.Xp(this.Op).Bp),this.Op):n.Yk(this)},n.Gk=function(t,n){return this.Yk(t).qk(n)},n.Vk=function(t){return i=t,(n=this).Op>=i.Op?Os(n.Bp,i.Xp(n.Op).Bp):Os(n.Xp(i.Op).Bp,i.Bp);var n,i},n.Nk=function(t){return 0===this.Vk(t)},n.jk=function(t){return this.Vk(t)<0},n.qk=function(t){return this.Vk(t)<=0},n.Xp=function(n){return new t(this.Bp*(n/this.Op),n)},n.Jk=function(n){return this.Op>=n.Op?new t(this.Bp-n.Xp(this.Op).Bp,this.Op):new t(this.Xp(n.Op).Bp-n.Bp,n.Op)},n.Hp=function(n){return new t(this.Bp*n,this.Op)},A(t,[{key:"tp",get:function(){return!isFinite(this.Bp)}},{key:"Fp",get:function(){return this.Bp/this.Op}}]),t}();Zy.zp=new Zy(1/6,1),Zy.ap=new Zy(0),Zy.Vp=new Zy(1/0),Zy.Wp=1e6;var Ky=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ti=void 0,e.Op=void 0,e.Ti=n.toSigned(),e.Op=i>>>0,e}S(n,t),n.Gp=function(t,i){return void 0===i&&(i=1e6),n.sp(t*i,i)},n.sp=function(t,i){return m(t)?n.qp:t===1/0?n.Yp:t===-1/0?n.jp:new n(ft.fromNumber(t),i)},n.rp=function(t,i){return new n(t,i)},n.Qp=function(t){return n.Gp(t.Fp,1e6)},n.Zp=function(t){return new n(ft.fromNumber(t.getTime()),1e3)},n.Mp=function(t,n){return t.Wk(n)?t:n},n.Up=function(t,n){return t.qk(n)?t:n},n.Kp=function(t,i,e){return n.Mp(i,n.Up(e,t))};var i=n.prototype;return i.Zk=function(){return this.Ti.isNegative()},i.lp=function(){return 0!==this.Op&&this.Ti.isZero()},i.tp=function(){return 0===this.Op&&!this.Ti.isZero()},i.$k=function(){return 0===this.Op&&this.Ti.isZero()},i.Fk=function(){if(0===this.Op)return this.Ti.isZero()?NaN:this.Ti.isNegative()?-1/0:1/0;var t=this.Ti.divide(this.Op),n=this.Ti.subtract(t.multiply(this.Op));return t.toNumber()+n.toNumber()/this.Op},i._p=function(){if(0===this.Op)throw new v("Failed to convert timestamp");return this.Ti},i.Jp=function(){return new Date(0===this.Op?NaN:this.Xp(1e3).Ti.toNumber())},i.$p=function(){return new Zy(0===this.Op?this.Fk():this.Ti.toNumber(),this.Op)},i.Xp=function(t,i){void 0===i&&(i=tk.ib);var e=this.Op;if(e===t)return this;if(0===e)return this;var r=Ft(e,t);return new n(function(t,n,i){var e=t.Rp(n),r=e[0],s=e[1];if(s.lp())return r;if(i===tk.ib)return s.Zk()?r.Jk(Qy.Ep):r;if(i===tk.eb)return s.Zk()?r:r.Hy(Qy.Ep);var u=s.Ip(Qy.sp(2));return u.Zk()?u.Kk().jk(n)?r:r.Jk(Qy.Ep):u.jk(n)?r:r.Hy(Qy.Ep)}(Qy.rp(this.Ti).Ip(Qy.sp(t/r)),Qy.sp(e/r),i)._p(),t)},i.Vk=function(t){if(this===t)return Ss.Cs;if(0===this.Op||0===t.Op)return jy(this,t);if(this.lp())return t.lp()?Ss.Cs:t.Zk()?Ss.Ps:Ss.Bs;if(t.lp())return this.Zk()?Ss.Bs:Ss.Ps;var n=w.min(this.Op,t.Op),i=this.Xp(n,tk.sb).Ti,e=t.Xp(n,tk.sb).Ti;return i.compare(e)},i.Kk=function(){return 0===this.Op?Jy(this):new n(this.Ti.negate(),this.Op)},i.Hy=function(t){if(0===this.Op||0===t.Op)return $y(this,t);if(this.lp())return t;if(t.lp())return this;var i=w.max(this.Op,t.Op),e=this.Xp(i,tk.sb),r=t.Xp(i,tk.sb);return new n(e.Ti.add(r.Ti),i)},i.Ip=function(t){if(this.$k()||m(t))return n.qp;if(this.tp()||!isFinite(t)){if(this.lp()||0===t)return n.qp;var i=this.Zk()?n.jp:n.Yp;return t<0?i.Kk():i}return this.lp()?this:new n(0===t?ft.ZERO:this.Ti.multiply(t),this.Op)},i.Cp=function(t){if(this.$k()||m(t))return n.qp;if(this.tp())return isFinite(t)?0===t?1/t<0?this.Kk():this:t<0?this.Kk():this:n.qp;if(!isFinite(t))return new n(ft.ZERO,this.Op);if(this.lp())return 0===t?n.qp:new n(ft.ZERO,this.Op);if(0===t){var i=this.Zk()?n.jp:n.Yp;return 1/t<0?i.Kk():i}return new n(this.Ti.divide(t),this.Op)},i.ub=function(){return[this.Ti.low,this.Ti.high,this.Op]},n}(Yy);function Jy(t){return t.$k()?t:t.Zk()?Ky.Yp:Ky.jp}function $y(t,n){return t.$k()||n.$k()?Ky.qp:t.tp()&&n.tp()?t.Zk()===n.Zk()?t:Ky.qp:t.tp()?t:n}Ky.ap=new Ky(ft.ZERO,1e6),Ky.qp=new Ky(ft.ZERO,0),Ky.Yp=new Ky(ft.ONE,0),Ky.jp=new Ky(ft.NEG_ONE,0);var tk,nk=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ti=void 0,e.Op=void 0,e.Ti=BigInt.asIntN(64,n),e.Op=i>>>0,e}S(n,t),n.Gp=function(t,i){return void 0===i&&(i=1e6),n.sp(t*i,i)},n.sp=function(t,i){return m(t)?n.qp:t===1/0?n.Yp:t===-1/0?n.jp:new n(BigInt(w.floor(t)),i)},n.rp=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Qp=function(t){return n.Gp(t.Fp,1e6)},n.Zp=function(t){return n.sp(t.getTime(),1e3)},n.Mp=function(t,n){return t.Wk(n)?t:n},n.Up=function(t,n){return t.qk(n)?t:n},n.Kp=function(t,i,e){return n.Mp(i,n.Up(e,t))};var i=n.prototype;return i.Zk=function(){return this.Ti<BigInt(0)},i.lp=function(){return 0!==this.Op&&this.Ti===BigInt(0)},i.tp=function(){return 0===this.Op&&this.Ti!==BigInt(0)},i.$k=function(){return 0===this.Op&&this.Ti===BigInt(0)},i.Fk=function(){if(0===this.Op)return this.Ti===BigInt(0)?NaN:this.Ti<BigInt(0)?-1/0:1/0;var t=this.Ti/BigInt(this.Op),n=this.Ti-t*BigInt(this.Op);return Number(t)+Number(n)/this.Op},i._p=function(){if(0===this.Op)throw new v("Failed to convert timestamp");return this.ob()},i.ob=function(){var t=this.Ti&BigInt(4294967295),n=this.Ti>>BigInt(32)&BigInt(4294967295);return ft.fromBits(Number(t),Number(n))},i.Jp=function(){return new Date(0===this.Op?NaN:Number(this.Xp(1e3).Ti))},i.$p=function(){return new Zy(0===this.Op?this.Fk():Number(this.Ti),this.Op)},i.Xp=function(t,i){void 0===i&&(i=tk.ib);var e=this.Op;if(e===t)return this;if(0===e)return this;var r=Ft(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===tk.ib)return r<BigInt(0)?e-BigInt(1):e;if(i===tk.eb)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this.Ti*BigInt(t/r),BigInt(e/r),i),t)},i.Vk=function(t){if(this===t)return Ss.Cs;if(0===this.Op||0===t.Op)return jy(this,t);if(this.lp())return t.lp()?Ss.Cs:t.Zk()?Ss.Ps:Ss.Bs;if(t.lp())return this.Zk()?Ss.Bs:Ss.Ps;var n=w.min(this.Op,t.Op),i=this.Xp(n,tk.sb).Ti,e=t.Xp(n,tk.sb).Ti;return i>e?Ss.Ps:i<e?Ss.Bs:Ss.Cs},i.Kk=function(){return 0===this.Op?ik(this):new n(-this.Ti,this.Op)},i.Hy=function(t){if(0===this.Op||0===t.Op)return ek(this,t);if(this.lp())return t;if(t.lp())return this;var i=w.max(this.Op,t.Op),e=this.Xp(i,tk.sb),r=t.Xp(i,tk.sb);return new n(e.Ti+r.Ti,i)},i.Ip=function(t){if(this.$k()||m(t))return n.qp;if(this.tp()||!isFinite(t)){if(this.lp()||0===t)return n.qp;var i=this.Zk()?n.jp:n.Yp;return t<0?i.Kk():i}return this.lp()?this:new n(0===t?BigInt(0):this.Ti*BigInt(t),this.Op)},i.Cp=function(t){if(this.$k()||m(t))return n.qp;if(this.tp())return isFinite(t)?0===t?1/t<0?this.Kk():this:t<0?this.Kk():this:n.qp;if(!isFinite(t))return new n(BigInt(0),this.Op);if(this.lp())return 0===t?n.qp:new n(BigInt(0),this.Op);if(0===t){var i=this.Zk()?n.jp:n.Yp;return 1/t<0?i.Kk():i}return new n(this.Ti/BigInt(t),this.Op)},i.ub=function(){var t=this.ob();return[t.low,t.high,this.Op]},A(n,null,[{key:"ap",get:function(){return n.hb||(n.hb=new n(BigInt(0),1e6)),n.hb}},{key:"qp",get:function(){return n.cb||(n.cb=new n(BigInt(0),0)),n.cb}},{key:"Yp",get:function(){return n.fb||(n.fb=new n(BigInt(1),0)),n.fb}},{key:"jp",get:function(){return n.vb||(n.vb=new n(BigInt(-1),0)),n.vb}}]),n}(Yy);function ik(t){return t.$k()?t:t.Zk()?nk.Yp:nk.jp}function ek(t,n){return t.$k()||n.$k()?nk.qp:t.tp()&&n.tp()?t.Zk()===n.Zk()?t:nk.qp:t.tp()?t:n}nk.hb=void 0,nk.cb=void 0,nk.fb=void 0,nk.vb=void 0,function(t){t[t.ib=0]="ib",t[t.eb=1]="eb",t[t.sb=2]="sb"}(tk||(tk={}));var rk=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?nk:Ky;function sk(t,n){return t.Vk(n)}function uk(t,n){return void 0!==t?void 0!==n?rk.Up(t,n):t:n}var ok=9e4,ak=w.pow(2,33),hk=rk.sp(ak,ok),ck=hk.Cp(2);var fk,vk,lk,dk,wk,_k={wb:0,_b:1/0,gb:0},gk=6,mk=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],yk=[" ","\t","\n","\f","\r"],kk=/^\d*$/,pk=/.*[0-9]+.*/,bk=/^[\d.-]+$/,Ak=/(^\.|\.$)/,Tk=/(\D\.|\.\D)/;function Sk(t,n){void 0===n&&(n=_k);var i={_g:[],mb:[],yb:[]},e=Ek(t),r=new zo;if(Mk(e),Ik(e,function(t){return"\n"!==t},r),r.Lu>=e.length)return i;(r.Mu(1),"\n"!==e.charAt(r.Lu))?Ck(Rk(e,r,!1,!0,i,n),i):r.Mu(1);for(Ik(e,function(t){return"\n"===t},r);r.Lu<e.length;){Ck(Rk(e,r,!1,!1,i,n),i),Ik(e,function(t){return"\n"===t},r)}return i}function Ek(t){var n=fs(t,"\0"," "),i=fs(n,"\r\n","\n");return fs(i,"\r","\n")}function Ik(t,n,i){for(var e=i.Lu;i.Lu<t.length&&n(t.charAt(i.Lu));)i.Mu(1);return t.substring(e,i.Lu)}function Rk(t,n,e,r,s,u){for(var o,a=0,h=n.Lu,c="",f=!1,v=!1,l=null,d=null,w=null;!f;)if(o=Ik(t,function(t){return"\n"!==t},n),a++,n.Lu>=t.length?f=!0:n.Mu(1),vs(o,"--\x3e")){if(r||1!==a&&(2!==a||v)){n.Xu(h);break}v=!0,h=n.Lu,l=new Hy(0,0,"",!1,c);try{Pk(o,s.mb,l,u),c=""}catch(t){i.Tr(t),l=null}}else{if(""===o)break;r&&ls(o,"X-TIMESTAMP-MAP")&&(s.kb=Dk(o)),r||2!==a||e||(ws("STYLE",c.replace(/ /g,""))?(d={_s:py.Jy},c=""):ws("REGION",c.replace(/ /g,""))&&(w=new qy("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,h=n.Lu}if(l)return l.vk=c,l;if(d);else if(w)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&vs(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":jk(o,n);break;case"WIDTH":Kk(o,n);break;case"LINES":Zk(o,n);break;case"REGIONANCHOR":var a=Yk(o);a&&(n.Ok=a[0],n.xk=a[1]);break;case"VIEWPORTANCHOR":var h=Yk(o);h&&(n.Mk=h[0],n.Uk=h[1]);break;case"SCROLL":Qk(o,n)}}}}(c,w),w;return null}function Dk(t){var n,i,e=t.split("=")[1].trim().split(","),r=Nk(e[0].trim(),"MPEGTS")?e[0]:e[1],s=Nk(e[0].trim(),"LOCAL")?e[0]:e[1];return{pb:(i=Number(r.split(/:(.*)/)[1].trim())||0,rk.sp(i,ok)),bb:rk.Gp(null!=(n=xk(s.split(/:(.*)/)[1].trim(),new zo))?n:0)}}function Nk(t,n){return ls(t,n)}function Ck(t,n){t&&function(t){return t._s===py.Zy}(t)?n._g.push(t):t&&function(t){return t._s===py.Ky}(t)?n.mb.push(t):t&&function(t){return t._s===py.Jy}(t)&&n.yb.push(t)}function Pk(t,n,i,e){var r=new zo;if(Uk(t,r),i.ck=Bk(xk(t,r),e),Uk(t,r),"--\x3e"!==t.substring(r.Lu,r.Lu+3))throw v("Something went wrong with parsing a WebVTT Cue");r.Mu(3),Uk(t,r),i.fk=Bk(xk(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&vs(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),a=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":Vk(a,n,i);break;case"VERTICAL":Gk(a,n);break;case"D":qk(a,n);break;case"LINE":case"L":Fk(a,n);break;case"POSITION":case"T":zk(a,n);break;case"SIZE":case"S":Wk(a,n);break;case"ALIGN":case"A":Hk(a,n)}}}}(t.substring(r.Lu,t.length),i,n)}function Bk(t,n){return t+n.wb}function Ok(t){return/^[0-9]$/.test(t)}function xk(t,n){var i,e,r,s=fs(t,",","."),u=!1;if(n.Lu>=s.length||!Ok(s.charAt(n.Lu)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var o=Ik(s,Ok,n),a=_(o,10);if((o.length>2||a>59)&&(u=!0),n.Lu>=s.length||":"!==s.charAt(n.Lu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Mu(1);var h=Ik(s,Ok,n);if(2!==h.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var c=_(h,10);if(u||n.Lu<s.length&&":"===s.charAt(n.Lu)){if(n.Lu>=s.length||":"!==s.charAt(n.Lu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Mu(1);var f=Ik(s,Ok,n);if(2!==h.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=a,e=c,r=_(f,10)}else i=0,e=a,r=c;if(n.Lu>=s.length||"."!==s.charAt(n.Lu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Mu(1);var l=Ik(s,Ok,n),d=_(l,10);if(c>59||r>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+d/1e3}function Lk(t){return Mk(Ek(t))}function Mk(t){if(t.length<gk)return!1;for(var n=0;n<mk.length;n++){if(ls(t,mk[n]))return!0}return!1}function Uk(t,n){for(;n.Lu<t.length&&(i=t.charAt(n.Lu),Hs(yk,i));)n.Mu(1);var i}function Xk(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!m(i)&&i>=0&&i<=100)return i}return null}function Hk(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.lk=i;break;case"middle":n.lk="center"}}function Fk(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),pk.test(i)){var s,u;if(ds(i,"%")){var o=Xk(i);if(null===o)return;s=o,u=!1}else{if(!bk.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!Tk.test(i)||Ak.test(i)))return;if(s=g(i),m(s))return;u=!0}switch(n.dk=s,n.pk=u,e=e.toLowerCase()){case"start":case"center":case"end":n.wk=e;break;case"middle":n.wk="center"}}}function zk(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var s=Xk(i);if(null!==s)switch(n._k=s,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.gk=e;break;case"start":n.gk="line-left";break;case"middle":n.gk="center";break;case"end":n.gk="line-right"}}function Vk(t,n,i){var e=Ls(i,function(n){return n.Y_===t});void 0!==e&&(n.yk=e)}function Wk(t,n){var i=Xk(t);null!==i&&(n.xu=i)}function Gk(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.bk="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.bk="lr";break;default:n.bk=""}}function qk(t,n){"VERTICAL"===t.toUpperCase()?n.bk="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.bk="lr")}function Yk(t){if(t.indexOf(",")>=0){var n=Xk(t.substring(0,t.indexOf(","))),i=Xk(t.substring(t.indexOf(",")+1,t.length));return[Mt(n||0,0,100),Mt(i||100,0,100)]}return null}function jk(t,n){n.Y_=t}function Qk(t,n){"up"===t.toLowerCase()&&(n.Lk="up")}function Zk(t,n){kk.test(t)&&(n.Bk=_(t))}function Kk(t,n){var i=Xk(t);null!==i&&(n.Xk=i)}!function(t){t.Ab="moov",t.Tb="mvhd",t.Sb="trak",t.Eb="tkhd",t.Ib="mdia",t.Rb="mdhd",t.Db="hdlr",t.Nb="minf",t.Cb="stbl",t.Pb="stsd",t.Bb="stsc",t.Ob="mvex",t.xb="trex",t.Lb="avc1",t.Mb="avcC",t.Ub="hev1",t.Xb="hvc1",t.Hb="hvcC",t.Fb="vp09",t.zb="vpcC",t.Vb="av01",t.Wb="av1C",t.Gb="colr",t.qb="pasp",t.Yb="mp4a",t.jb="esds",t.Qb="wvtt",t.Zb="vttC",t.Kb="vlab",t.Jb="enca",t.$b="encv",t.tA="moof",t.nA="mfhd",t.iA="traf",t.eA="tfhd",t.rA="trun",t.sA="tfdt",t.uA="senc",t.oA="mdat",t.aA="pssh",t.hA="emsg",t.cA="sidx",t.fA="styp",t.vA="ftyp",t.lA="sinf",t.dA="frma"}(fk||(fk={})),function(t){t.Pd="vide",t.Cd="soun",t.wA="subt",t._A="hint",t.gA="meta",t.mA="auxv"}(vk||(vk={})),function(t){t.ON_SCREEN_COLOURS="nclx",t.RESTRICTED_ICC_PROFILE="rICC",t.UNRESTRICED_ICC_PROFILE="prof"}(lk||(lk={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(dk||(dk={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(wk||(wk={}));var Jk=function(){function t(t,n){this.zi=void 0,this.yA=void 0,this.zi=t,this.yA=n}var n=t.prototype;return n.kA=function(){return io(this.zi,this.yA)},n.pA=function(){return ao(this.zi,this.yA)},n.bA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Lu,i);return n.Mu(2),e}(this.zi,this.yA)},n.AA=function(){return co(this.zi,this.yA)},n.TA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Lu,i);return n.Mu(4),e}(this.zi,this.yA)},n.SA=function(){return vo(this.zi,this.yA)},n.EA=function(t){return ro(this.zi,this.yA,t)},n.IA=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(co(t,n));return e}(this.zi,this.yA,t)},n.RA=function(t){return wo(this.zi,this.yA,t)},n.DA=function(){return Do(this.zi,this.yA)},n.NA=function(t){this.yA.Mu(t)},n.Hu=function(){return new t(this.zi,this.yA.Hu())},t}();function $k(t,n){return t._s===n}function tp(t,n){for(var i=0;i<t.length;i++){var e=t[i];if($k(e,n))return e}}var np=function(t){function n(n,i){var e;return(e=t.call(this)||this).CA=n,e.PA=i,e}return S(n,t),A(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}($t),ip=function(){function t(){}return t.BA=function(n){var i=n.zi,e=n.yA,r=t.OA(i,e,!1);if(!r.xA)throw new np(e.Lu,r.Bi);return r.Bi},t.OA=function(n,i,e){for(var r=[];i.Lu<n.byteLength;){var s=t.LA(n,i,e);if(!s.xA)return{xA:!1,Bi:r};r.push(s.MA)}return{xA:!0,Bi:r}},t.UA=function(n,i){var e=t.LA(n,i,!1);if(!e.xA)throw new np(i.Lu);return e.MA},t.XA=function(n,i){for(var e=n.zi,r=n.yA;r.Lu<e.byteLength;){var s=t.LA(e,r,!1);if(!s.xA)return;if(s.MA._s===i)return s.MA}},t.LA=function(n,i,e){var r=i.Lu,s=t.HA(n,i);if(!s.xA)return s;var u=s.FA,o=u.xu;if(0===o){if(e)return i.Xu(r),{xA:!1,zA:1/0};o=n.byteLength-r}var a=r+o;if(a>n.byteLength){var h=a;return i.Xu(r),{xA:!1,zA:h}}var c={_s:u._s,Lu:r,zi:new Jk(Oo(n,r,a),new zo(u.VA))};return i.Xu(a),{xA:!0,MA:c}},t.HA=function(t,n){var i=n.Lu;if(!uo(t,n,8))return{xA:!1,zA:n.Lu+8};var e=co(t,n),r=wo(t,n,4);if(1===e){if(!uo(t,n,8)){var s=n.Lu+8;return n.Xu(i),{xA:!1,zA:s}}e=vo(t,n).toNumber()}if("uuid"===r){if(!uo(t,n,16)){var u=n.Lu+16;return n.Xu(i),{xA:!1,zA:u}}r=wo(t,n,16)}return{xA:!0,FA:{_s:r,xu:e,VA:n.Lu-i}}},t.WA=function(t,n,i){var e=t.zi,r=t.yA,s=Bo(Lo(e),r.Lu,e.byteLength);return i&&(s=Ho(s)),r.Mu(s.byteLength),{_s:n,zi:s}},t.GA=function(n,i,e){var r=up(n.AA());return{_s:i,qA:r.version,YA:r.flags,zi:t.WA(n,i,e).zi}},t}();function ep(t,n){var i=rp(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function rp(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e._s===n)return e.zi}}function sp(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r._s===n&&i.push(r.zi)}return i}function up(t){return{version:t>>24,flags:new $u(16777215&t)}}var op=function(){function t(){}return t.jA=function(n){for(var i=[],e=ip.BA(new Jk(n,new zo)),r=0;r<e.length;r++){var s=e[r],u=t.QA(s);u&&i.push(u)}return i},t.ZA=function(t){return ip.OA(t,new zo,!1).Bi.some(this.KA)},t.JA=function(n){return sp(ip.BA(new Jk(n,new zo)),fk.aA).map(t.$A)},t.tT=function(n){return sp(ip.BA(n.zi),fk.aA).map(t.$A)},t.KA=function(t){return t._s===fk.vA||t._s===fk.fA||t._s===fk.Ab||t._s===fk.tA||t._s===fk.oA||t._s===fk.cA||t._s===fk.hA},t.QA=function(n){switch(n._s){case fk.Ab:return t.nT(n.zi);case fk.tA:return t.iT(n.zi,n.Lu);case fk.oA:return t.eT(n.zi);case fk.cA:return t.rT(n.zi);case fk.hA:return t.sT(n.zi)}},t.nT=function(n){var i=ip.BA(n),e=ep(i,fk.Tb),r=sp(i,fk.Sb),s=rp(i,fk.Ob),u=t.uT(e),o=r.map(t.oT),a=s?t.aT(s):void 0;return{_s:fk.Ab,FA:u,hT:o,cT:a}},t.uT=function(t){var n=up(t.AA()),i=n.version,e=n.flags,r=1===i?t.SA():t.AA(),s=1===i?t.SA():t.AA(),u=t.AA(),o=1===i?t.SA():t.AA(),a=t.AA(),h=t.pA()>>8;t.NA(2),t.NA(8);var c=t.IA(9);t.NA(24);var f=t.AA();return{_s:fk.Tb,qA:i,YA:e,fT:r,vT:s,Op:u,nm:o,lT:a,wm:h,dT:c,wT:f}},t.oT=function(n){var i=ip.BA(n),e=ep(i,fk.Eb),r=ep(i,fk.Ib),s=t._T(e),u=t.gT(r);return{_s:fk.Sb,FA:s,mT:u}},t._T=function(t){var n=up(t.AA()),i=n.version,e=n.flags,r=1===i?t.SA():t.AA(),s=1===i?t.SA():t.AA(),u=t.AA();t.NA(4);var o=1===i?t.SA():t.AA();t.NA(8);var a=t.bA(),h=t.bA(),c=t.bA()/w.pow(2,8);t.NA(2);var f=t.IA(9),v=t.AA()/w.pow(2,16),l=t.AA()/w.pow(2,16);return{_s:fk.Eb,yT:e.Vu(1),kT:e.Vu(2),pT:e.Vu(4),fT:r,vT:s,bT:u,nm:o,AT:a,TT:h,wm:c,dT:f,Xk:v,ST:l}},t.gT=function(n){var i=ip.BA(n),e=ep(i,fk.Rb),r=ep(i,fk.Db),s=ep(i,fk.Nb),u=t.ET(e),o=t.IT(r),a=t.RT(s);return{_s:fk.Ib,FA:u,DT:o,NT:a}},t.ET=function(t){var n=up(t.AA()),i=n.version,e=n.flags,r=1===i?t.SA():t.AA(),s=1===i?t.SA():t.AA(),u=t.AA(),o=1===i?t.SA():t.AA();return t.pA(),t.NA(2),{_s:fk.Rb,qA:i,YA:e,fT:r,vT:s,Op:u,nm:o}},t.IT=function(t){var n=up(t.AA()),i=n.version,e=n.flags;t.NA(4);var r=t.RA(4);t.NA(12);var s=t.DA();return{_s:fk.Db,qA:i,YA:e,CT:r,_i:s}},t.RT=function(n){var i=ep(ip.BA(n),fk.Cb),e=t.PT(i);return{_s:fk.Nb,BT:e}},t.PT=function(n){var i=ep(ip.BA(n),fk.Pb),e=t.OT(i);return{_s:fk.Cb,xT:e}},t.OT=function(n){var i=up(n.AA()),e=i.version,r=i.flags;n.AA();for(var s=[],u=ip.BA(n),o=0;o<u.length;o++){var a=u[o],h=t.LT(a.zi,a._s);h&&s.push(h)}return{_s:fk.Pb,qA:e,YA:r,MT:s}},t.LT=function(n,i){var e=t.UT(n,i);return e||((e=t.XT(n,i))||(i===fk.Qb?t.HT(n):void 0))},t.UT=function(n,i){return i===fk.Yb?t.FT(n):i===fk.Jb?t.zT(n):void 0},t.XT=function(n,i){return i===fk.Lb?t.VT(n):i===fk.Ub||i===fk.Xb?t.WT(n,i):i===fk.Fb?t.GT(n,i):i===fk.Vb?t.qT(n,i):i===fk.$b?t.YT(n):void 0},t.jT=function(t,n){return t.NA(6),{_s:n,QT:t.pA()}},t.ZT=function(n,i){var e=t.jT(n,i);n.NA(8);var r=n.pA(),s=n.pA();return n.NA(2),n.NA(2),Nr({},e,{KT:r,JT:s,$T:n.AA()>>>16})},t.tS=function(n,i){var e=t.jT(n,i);n.NA(2),n.NA(2),n.NA(12);var r=n.pA(),s=n.pA(),u=n.AA(),o=n.AA();n.NA(4);var a=n.pA();n.NA(32);var h=n.pA();return n.NA(2),Nr({},e,{Xk:r,ST:s,nS:u,iS:o,eS:a,rS:h})},t.FT=function(n){var i=t.ZT(n,fk.Yb),e=ep(ip.BA(n),fk.jb);return Nr({},i,{sS:t.uS(e)})},t.HT=function(n){var i=t.jT(n,fk.Qb),e=ip.BA(n),r=ep(e,fk.Zb),s=t.oS(r),u=rp(e,fk.Kb);return Nr({},i,{aS:s,hS:u?t.cS(u):u})},t.oS=function(t){return{_s:fk.Zb,cc:t.DA()}},t.cS=function(t){return{_s:fk.Kb,Z_:t.DA()}},t.uS=function(t){return ip.GA(t,fk.jb,!0)},t.VT=function(n){var i=t.tS(n,fk.Lb),e=ip.BA(n),r=ep(e,fk.Mb),s=rp(e,fk.qb);return Nr({},i,{fS:t.vS(r),lS:s?t.dS(s):void 0})},t.WT=function(n,i){var e=t.tS(n,i),r=ep(ip.BA(n),fk.Hb);return Nr({},e,{wS:t._S(r)})},t.GT=function(n,i){var e=t.tS(n,i),r=ep(ip.BA(n),fk.zb);return Nr({},e,{gS:t.mS(r)})},t.qT=function(n,i){var e=t.tS(n,i),r=ip.BA(n),s=ep(r,fk.Wb),u=t.yS(s),o=rp(r,fk.Gb);return Nr({},e,{kS:u,pS:o?t.bS(o):void 0})},t.YT=function(n){var i=n.Hu(),e=t.tS(n,fk.$b),r=ep(ip.BA(n),fk.lA),s=t.AS(r);return Nr({},e,{TS:t.XT(i,s.ES.SS),IS:s})},t.zT=function(n){var i=n.Hu(),e=t.ZT(n,fk.Jb),r=ep(ip.BA(n),fk.lA),s=t.AS(r);return Nr({},e,{TS:t.UT(i,s.ES.SS),IS:s})},t.AS=function(n){var i=ep(ip.BA(n),fk.dA),e=t.RS(i);return{_s:fk.lA,ES:e}},t.RS=function(t){var n=t.RA(4);return{_s:fk.dA,SS:n}},t.vS=function(t){return ip.WA(t,fk.Mb,!0)},t._S=function(t){return ip.WA(t,fk.Hb,!0)},t.mS=function(t){return ip.WA(t,fk.zb,!0)},t.yS=function(t){return ip.WA(t,fk.Wb,!0)},t.bS=function(t){var n=t.RA(4);switch(n){case"nclx":return{DS:lk.ON_SCREEN_COLOURS,NS:t.pA(),CS:t.pA(),PS:t.pA(),OS:0!=(128&t.kA())};case"rICC":return{DS:lk.RESTRICTED_ICC_PROFILE};case"prof":return{DS:lk.UNRESTRICED_ICC_PROFILE};default:throw v("Could not parse ColourInformationBox: unknown type '"+n+"'.")}},t.dS=function(t){var n=t.AA(),i=t.AA();return{_s:fk.qb,xS:n,LS:i}},t.aT=function(n){var i=sp(ip.BA(n),fk.xb).map(t.MS);return{_s:fk.Ob,hT:i}},t.MS=function(t){var n=up(t.AA()),i=n.version,e=n.flags,r=t.AA(),s=t.AA(),u=t.AA(),o=t.AA(),a=t.AA();return{_s:fk.xb,qA:i,YA:e,bT:r,US:s,XS:u,HS:o,FS:a}},t.iT=function(n,i){var e=ip.BA(n),r=ep(e,fk.nA),s=sp(e,fk.iA),u=t.zS(r),o=s.map(t.VS);return{_s:fk.tA,WS:i,FA:u,hT:o}},t.zS=function(t){var n=up(t.AA()),i=n.version,e=n.flags,r=t.AA();return{_s:fk.nA,qA:i,YA:e,GS:r}},t.VS=function(n){var i=ip.BA(n),e=ep(i,fk.eA),r=sp(i,fk.rA),s=rp(i,fk.sA),u=t.qS(e),o=r.map(function(n){return t.YS(n,u)}),a=s?t.jS(s):void 0;return{_s:fk.iA,FA:u,QS:o,ZS:a}},t.qS=function(t){var n=up(t.AA()),i=n.version,e=n.flags,r=t.AA(),s=e.Vu(dk.BASE_DATA_OFFSET_PRESENT)?t.SA():void 0,u=e.Vu(dk.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.AA():void 0,o=e.Vu(dk.DEFAULT_SAMPLE_DURATION_PRESENT)?t.AA():void 0,a=e.Vu(dk.DEFAULT_SAMPLE_SIZE_PRESENT)?t.AA():void 0,h=e.Vu(dk.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.AA():void 0;return{_s:fk.eA,qA:i,YA:e,bT:r,KS:s,JS:u,XS:o,HS:a,FS:h}},t.YS=function(n,i){for(var e=up(n.AA()),r=e.version,s=e.flags,u=n.AA(),o=s.Vu(wk.DATA_OFFSET_PRESENT)?n.TA():void 0,a=s.Vu(wk.FIRST_SAMPLE_FLAGS_PRESENT)?n.AA():void 0,h=[],c=0;c<u;c++){var f=t.$S(n,s,r,i);0===c&&void 0!==a&&(f.YA=a),h.push(f)}return{_s:fk.rA,qA:r,YA:s,tE:u,WS:o,nE:a,iE:h}},t.$S=function(t,n,i,e){return{nm:n.Vu(wk.SAMPLE_DURATION_PRESENT)?t.AA():e.XS,xu:n.Vu(wk.SAMPLE_SIZE_PRESENT)?t.AA():e.HS,YA:n.Vu(wk.SAMPLE_FLAGS_PRESENT)?t.AA():e.FS,eE:n.Vu(wk.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.AA():t.TA():void 0}},t.sT=function(t){var n=t.zi,i=t.yA,e=up(co(n,i)),r=e.version,s=e.flags;if(1===r){var u=co(n,i),o=vo(n,i),a=co(n,i),h=co(n,i),c=lo(n,i),f=lo(n,i),v=Xo(Lo(n),i.Lu,n.byteLength);return i.Mu(v.byteLength),{_s:fk.hA,qA:r,YA:s,rE:c,Ti:f,Op:u,sE:o,uE:a,Y_:h,oE:v}}var l=lo(n,i),d=lo(n,i),w=co(n,i),_=co(n,i),g=co(n,i),m=co(n,i),y=Xo(Lo(n),i.Lu,n.byteLength);return i.Mu(y.byteLength),{_s:fk.hA,YA:s,qA:r,rE:l,Ti:d,Op:w,aE:_,uE:g,Y_:m,oE:y}},t.eT=function(t){return ip.WA(t,fk.oA,!1)},t.$A=function(n){var i=n.zi,e=n.yA,r=Ho(Lo(i)).buffer,s=up(co(i,e)),u=s.version,o=s.flags,a=t.hE(i,e),h=[];if(u>0)for(var c=co(i,e),f=0;f<c;f++){var v=ro(i,e,16);h.push(v)}var l=co(i,e),d=new y(r,e.Lu,l);return e.Mu(i.byteLength),{_s:fk.aA,qA:u,YA:o,cE:a,fE:h,vE:l,zi:d,lE:r}},t.hE=function(t,n){for(var i="",e=0;e<4;e++){var r=io(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=io(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var a=io(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var h=0;h<2;h++){var c=io(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var v=io(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.rT=function(t){var n,i,e=t.zi,r=t.yA,s=up(co(e,r)),u=s.version,o=s.flags,a=co(e,r),h=co(e,r);0===u?(n=ft.fromBits(co(e,r),0,!0),i=ft.fromBits(co(e,r),0,!0)):(n=vo(e,r),i=vo(e,r)),r.Mu(2);for(var c=ao(e,r),f=[],v=0;v<c;v+=1){var l=co(e,r),d=l>>31&1,w=2147483647&l,_=co(e,r),g=co(e,r),m=g>>31&1,y=g>>28&7,k=268435455&g;f.push({dE:d,wE:w,nm:_,_E:m,gE:y,mE:k})}return{_s:fk.cA,qA:u,YA:o,yE:a,Op:h,kE:n,pE:i,bE:c,AE:f}},t.jS=function(t){var n,i=t.zi,e=t.yA,r=up(co(i,e)),s=r.version,u=r.flags;return n=0===s?ft.fromBits(co(i,e),0,!0):vo(i,e),{_s:fk.sA,qA:s,YA:u,ZS:n}},t}();function ap(t){return t&&"Pi"in t?t.Pi:t}var hp=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this,n,i,e,r)||this).TE=void 0,a.SE=void 0,a.EE=void 0,a.TE=s,a.SE=u,a.EE=o||void 0,a}return S(n,t),n.prototype.Nk=function(n){return this===n||!!dg(this,n)&&(!!t.prototype.Nk.call(this,n)&&(!!lg(this.IE,n.IE)&&(!!lg(this.mb,n.mb)&&(this.RE&&n.RE?!!this.RE.ci(n.RE)&&(this.vk&&n.vk?this.vk.ci(n.vk):this.vk===n.vk):this.RE===n.RE))))},A(n,[{key:"IE",get:function(){return this.TE}},{key:"mb",get:function(){return this.SE}},{key:"RE",get:function(){return this.EE}},{key:"o_",get:function(){var t;return this.u_||(this.u_=fg(Cy(t=this),{get styles(){return t.IE},get regions(){return t.mb},get metadata(){return ap(t.RE)},get content(){return ap(t.vk)}})),this.u_}}]),n}(Uy),cp=function(){function t(t,n,i){this.Tl=void 0,this.DE=void 0,this.NE=void 0,this.DE=t,this.NE=n,Qt(i)?this.Tl=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.Li(s)}return i}(0,0,i):this.Tl=i}return A(t,[{key:"CE",get:function(){return this.Tl.di(!0)}},{key:"ck",get:function(){return this.DE}},{key:"fk",get:function(){return this.NE}}]),t}();var fp="http://www.w3.org/XML/1998/namespace";function vp(t,n,i,e){var r=t.Ni(i,n);return 0===r.length&&(r=t.Ii(e+":"+n)),r}function lp(t,n){return function(t,n){var i=t.Bi.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Bi)}return e}(t,function(t){return t.Di===n})}function dp(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function wp(t,n){for(var i=t.Hi,e={},r=0;r<i.length;r++)e[dp(i[r]._i,n)]=i[r].Ti;return e}var _p=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,gp=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,mp="http://www.w3.org/ns/ttml";function yp(t,n,i,e){void 0===i&&(i=_k),void 0===e&&(e=Dc.APPLICATION_TTML_XML);var r=[],s=xo(t);return e===Dc.APPLICATION_MP4?r=function(t,n,i){var e=tp(op.jA(t),fk.oA);if(!e)return[];return bp(xo(e.zi),n,i)}(s,n,i):e===Dc.APPLICATION_TTML_XML&&(r=bp(s,n,i)),r}function kp(t,n,i){return void 0===i&&(i=_k),Ap(t,n,i)}function pp(t,n){for(var i=function t(n){var i=[];var e;if(Qt(n)){(e=n.Oi("region"))&&i.push(e);for(var r=n.Ri,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.CE),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function bp(t,n,i){return Ap(Po(t,new zo),n,i)}function Ap(t,n,e){var r,s=[];try{r=i.oi(t)}catch(t){return s}var u=r.Vi;if("tt"!==u.wi)return s;var o=u&&u.Ni(mp,"head")[0],a=u&&u.Ni(mp,"body")[0],h=["ebutts","tts","xml"];if(!a||!o)return s;for(var c=function(t,n){for(var i={},e=t.Ni(mp,"styling")[0],r=e&&e.Ni(mp,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.xi(fp,"id");i[o]=wp(u,n)}return i}(o,h),f=function(t,n){var i=vg(t),e=Ep(n.Oi("tts:extent"));if(!e)return i;for(var r=0,s=d.keys(i);r<s.length;r++){var u=s[r],o=Ep(i[u].extent);if(o){var a=Tp(o[0],e[0]),h=Tp(o[1],e[1]);i[u].extent=a+" "+h}var c=Ep(i[u].origin);if(c){var f=Tp(c[0],e[0]),v=Tp(c[1],e[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},e=t.Ni(mp,"layout")[0],r=e&&e.Ni(mp,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.xi(fp,"id");if(o){i[o]=wp(u,n);var a=Dp(u,n);for(var h in a)U.call(a,h)&&(i[o][h]=a[h])}}return i}(o,h),u),v=o.Ni(mp,"metadata")[0],l=function t(n,i,e,r){var s=i;var u;var o=e;var a=[];var h=[];if(Qt(n)){var c,f;s=null!=(c=Rp(n.Oi("begin"),r))?c:s,u=Rp(n.Oi("dur"),0),o=null!=(f=Rp(n.Oi("end"),r))?f:void 0!==u?s+u:o;for(var v=n.Ri,l=0;l<v.length;l++)("body"===n.wi||"div"===n.wi)&&v[l].Jn>1||(a=a.concat(t(v[l],s,o,r)))}var d=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.ck,s.fk)}e.sort(Ps);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(Xs(e,o+1),o--,u=e.length);return e}(s,o,a);for(var w=0;w<d.length-1;w++){var _=Ip(d[w],d[w+1],a);if(_.length<=0&&Np(n)){var g=n.di(!1);h.push(new cp(d[w],d[w+1],g))}else _.length>0&&function(){var t=n.di(!1);_.forEach(function(n){return t.Ci(n.CE)}),h.push(new cp(d[w],d[w+1],t))}()}return h}(a,e.wb,e._b,e.gb),w=0;w<l.length;w++){var _=l[w],g=pp(f,_);s.push(new hp(_.ck,_.fk,_.CE,!1,c,g,v))}return s}function Tp(t,n){var i=Sp(t),e=Sp(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return m(r)||m(s)?t:r/s*100+"%"}return t}function Sp(t){return ds(t,"px")?"px":ds(t,"em")?"em":ds(t,"c")?"c":ds(t,"%")?"%":void 0}function Ep(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Ip(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].ck,u=i[r].fk;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function Rp(t,n){if(t){if(_p.test(t)){var i=_p.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*w.pow(.1,u.length):0)+n}if(gp.test(t)){var o=gp.exec(t);if(!o)return;var a,h=Number(o[1]);switch(o[4]){case"h":a=3600*h;break;case"m":a=60*h;break;case"s":a=h;break;case"ms":a=.001*h;break;case"f":case"t":default:a=NaN}return a+n}}}function Dp(t,n){for(var i={},e=t.Ii("style")||[],r=0;r<e.length;r++){var s=wp(e[r],n);for(var u in s)U.call(s,u)&&(i[u]=s[u])}return i}function Np(t){if(Qt(t)){var n=t.wi.toUpperCase(),i=Boolean(t.Oi("smpte:backgroundImage"));return"BR"===n||i}return t.Jn===qt.ni}function Cp(t){var n=function(t){try{return i.oi(t).Vi}catch(t){}}(t);return"tt"===(null==n?void 0:n.wi)}var Pp,Bp=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.B_=function(n){return t.prototype.B_.call(this,n)},i.O_=function(n){var i=t.prototype.O_.call(this,n);return i&&(n.fg=Rg.rg),i},i.a_=function(){return xg(this)},n}(sg);!function(t){t.wA="subtitles",t.PE="captions",t.BE="descriptions",t.OE="chapters",t.gA="metadata",t.xE="thumbnails"}(Pp||(Pp={}));var Op=[Pp.wA,Pp.PE,Pp.BE,Pp.OE,Pp.gA,Pp.xE];function xp(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Hs(Op,t)}(n)?n:n?Pp.gA:Pp.wA}var Lp,Mp=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return S(n,t),n}(tf);function Up(t){return t instanceof ww}function Xp(t){return t instanceof gw}function Hp(t){return vs(t,Lp.LE)}function Fp(t){return t.some(zp)}function zp(t){return vs(t,Lp.ME)||vs(t,Lp.Qb)}function Vp(t,n){return Nc(t)&&Fp(n)}function Wp(t,n){return!!t&&(Nc(t)?function(t){return t.some(Hp)}(n)||Fp(n):vs(t,Dc.APPLICATION_TTML_XML)||vs(t,Dc.TEXT_VTT)||vs(t,Dc.IMAGE_JPEG))}function Gp(t,n){return t===Pp.xE||t===Pp.gA&&n===Pp.xE}function qp(t,n,i,e){for(var r=0,s=t._g.L_;r<s.length;r++){var u=s[r];if(u.ck>i)break;n<=u.fk&&e.push(u)}}function Yp(t,n){return Cs(t.j_,n.j_)}function jp(t,i){var e=i,r=0;if(Up(t)&&t.name===fw.jd)e=t.ld.wd;else if(Xp(t)){var s=t.$d;if(e=s.dd,0===(r=s.ud))return new Mp(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Mp(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Qp(t,i,e,r){var s=function(t){switch(t){case ky.WEBVTT:return"WebVTT";case ky.SRT:return"SRT";case ky.TTML:return"TTML";default:return""}}(t);return new Mp(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function Zp(t){return Lk(t)?ky.WEBVTT:Cp(t)?ky.TTML:ky.SRT}function Kp(t,n){for(var i=[],e=0,r=t._g.L_;e<r.length;e++){var s=r[e];if(s.fk<=n)i.push(s);else if(s.ck>=n)break}for(var u=0;u<i.length;u++){var o=i[u];t.UE(o)}}!function(t){t.ME="vtt",t.Qb="wvtt",t.LE="stpp"}(Lp||(Lp={}));var Jp=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).hT=new Bp,n.XE=function(t){var i=t.h_;n.HE(i)},n}S(n,t);var i=n.prototype;return i.B_=function(t){t.tu(J_.k_,this.XE),this.hT.B_(t),this.HE(t)},i.O_=function(t){t.au(J_.k_,this.XE),t.fg=Rg.rg,this.hT.O_(t)},i.FE=function(t){},i.zE=function(t){},i.HE=function(t){t.fg!==Rg.rg?this.FE(t):this.zE(t)},i.VE=function(){for(var t=0,n=this.hT.L_;t<n.length;t++){var i=n[t];i.au(J_.k_,this.XE),i.$c()}},i.WE=function(t){if(t>0)for(var n=0,i=this.hT.L_;n<i.length;n++){Kp(i[n],t)}},i.wc=function(){return this.VE(),this.hT.wc(),We.resolve()},i.$c=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ou(),t.next=3,Dr.awrap(this.wc());case 3:this.hT.$c();case 4:case"end":return t.stop()}},null,this,null,We)},n}(du),$p=function(t){function n(n){var i;return(i=t.call(this,Dg.hg)||this).errorObject=n,i}return S(n,t),n.prototype.a_=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Z_),tb=function(t){function n(n,i){var e;return(e=t.call(this)||this).GE=void 0,e.qE=void 0,e.YE=new Ks,e.GE=n,e.qE=i,e}S(n,t);var i=n.prototype;return i.jE=function(t){if(t.src){var n=t.kind||Pp.wA,i=this.GE.QE(n,t.id,t.label,t.srclang,t.default);return i.yg=cw(t.src),this.B_(i),i}},i.ZE=function(t,n){var i,e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.wg=yy.LOADING,i=new uw({wd:t.yg,hd:Sf.ni,Od:nw.GET,js:n}),v.prev=2,v.next=5,Dr.awrap(this.qE.ld(i));case 5:return s=v.sent,r=s.ud,v.next=9,Dr.awrap(s.Fl());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),nu(v.t0),t.wg=yy.ERROR,t.$s(new $p(jp(v.t0,t.yg))),v.abrupt("return");case 18:for(v.prev=18,u=Zp(e),t._s=u,o=[],u===ky.WEBVTT||u===ky.SRT?(a=Sk(e),o=a._g):u===ky.TTML&&(o=kp(e,t)),h=0,c=o;h<c.length;h++)f=c[h],t.KE(f);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),nu(v.t1),t.wg=yy.ERROR,t.$s(new $p(Qp(t._s,t.yg,r,v.t1))),v.abrupt("return");case 32:t.wg=yy.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],We)},i.FE=function(t){Hs(this.hT.L_,t)&&t.wg===yy.NONE&&this.ZE(t,this.YE.js).catch(iu)},i.Jh=function(){},i.wc=function(){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.YE.Gs(),this.YE=new Ks,n=0,i=this.hT.L_;n<i.length;n++)e=i[n],this.GE.JE(e);return r.next=5,Dr.awrap(t.prototype.wc.call(this));case 5:case"end":return r.stop()}},null,this,null,We)},n}(Jp);function nb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.Q_===n&&e.$E)return e}}function ib(t,n){eb(nb(t.L_,n))}function eb(t){void 0!==t&&(t.fg=Rg.ag)}function rb(t,n){eb(nb(t.L_,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.Q_===n)return e}}(t.L_,n))}function sb(t){for(var n=0;n<Op.length;n++){var i=Op[n];i===Pp.OE?rb(t,i):ib(t,i)}}var ub,ob=function(t){function n(){return t.call(this,Tf.qf)||this}return S(n,t),n}(_u);!function(t){t[t.tI=0]="tI",t[t.nI=1]="nI"}(ub||(ub={}));var ab=t,hb=ab.MediaSource,cb=ab.WebKitMediaSource,fb=ab.TextTrack,vb=s&&s.createElement("video");s&&s.documentElement.style;var lb=M.Yt&&M.Ln&&M.Mn<=26;M.wn;var db=!(!hb&&!cb),wb=!!fb;s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||M.cn,M.Pn&&M.Bn,vb&&vb.canPlayType&&(""!==vb.canPlayType("application/vnd.apple.mpegURL")||M.Zt&&!M.Pn&&M.Kt);vb&&vb.canPlayType&&vb.canPlayType("video/mp4");var _b=db&&!M.On&&!M.Dn&&!M.Rn&&((hb||cb).isTypeSupported?(hb||cb).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):vb&&vb.canPlayType&&""!==vb.canPlayType('audio/mp4; codecs="mp4a.40.34"'));db&&!M.On&&(_b||((hb||cb).isTypeSupported?(hb||cb).isTypeSupported("audio/mpeg"):vb&&vb.canPlayType&&vb.canPlayType("audio/mpeg"))),db&&(!M.Cn||!M.Yt)&&(hb||cb).isTypeSupported&&(hb||cb).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),M.On||M.Dn||M.Rn,M.Nn,M.On,M.Dn&&M.jt&&M.Qt;try{r&&r.top!==r.self}catch(t){!0}var gb=function(t){function n(n){var i;return(i=t.call(this,vm.Jg)||this).currentTime=n,i}return S(n,t),n}(_u),mb=function(t){function n(n){var i;return(i=t.call(this,vm.$g)||this).currentTime=n,i}return S(n,t),n}(_u),yb=[vm.b_,vm.$g,Tf.zf,Tf.Ff],kb=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).iI=jg.Vg,e.eI=!0,e.rI=!1,e.sI=!1,e.uI=function(t){var n=e.oI.wg;n!==e.iI&&e.$s(new Rm(t.currentTime,n)),n===jg.Vg&&(e.rI=!1,e.sI=!1),e.aI(n),e.hI(n),e.cI(n),e.maybeDispatchCanPlayThroughEvent(n),e.fI(n),e.vI(n),e.iI=n},e.lI=function(){e.vI(e.iI),e.fI(e.iI),e.eI=e.oI.cm},e.dI=function(){e.eI=e.oI.cm},e.wI=function(t){e.$s(new mb(t.currentTime))},e.oI=n,e._I=i,e.oI.tu(vm.b_,e.uI),e.oI.tu(Tf.zf,e.lI),e.oI.tu(Tf.Ff,e.dI),e._I&&e.oI.tu(vm.$g,e.wI),e}S(n,t);var i=n.prototype;return i.aI=function(t){!this.sI&&t>=jg.Wg&&(this.sI=!0,this.$s(new gm(this.oI.tm,t)))},i.hI=function(t){!this.rI&&t>=jg.Gg&&(this.rI=!0,this.$s(new bm(this.oI.tm,t)))},i.fI=function(t){this._I||(t>=jg.qg&&this.iI<jg.qg&&!this.oI.cm||this.gI&&t>=jg.qg)&&this.$s(new mb(this.oI.tm))},i.vI=function(t){!this.mI(t)||this.oI.im||this.oI.Au||this.$s(new gb(this.oI.tm))},i.cI=function(t){this.iI<=jg.Gg&&t>=jg.qg&&this.$s(new Em(this.oI.tm,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===jg.Yg&&this.$s(new Im(this.oI.tm,t))},i.mI=function(t){var n=!this.oI.cm&&t<=jg.Gg,i=!this.eI&&this.iI<=jg.Gg;return n&&!i},i.wc=function(){this.iI=jg.Vg,this.eI=!0,this.rI=!1,this.sI=!1},i.$c=function(){this.ou(),this._I&&this.oI.au(vm.$g,this.wI),this.oI.au(Tf.zf,this.lI),this.oI.au(Tf.Ff,this.dI),this.oI.au(vm.b_,this.uI)},A(n,[{key:"gI",get:function(){return!this.oI.cm&&this.eI}}]),n}(du),pb=function(t){function n(n){var i;return(i=t.call(this)||this).oI=n,i.oI.tu(yb,i.Js),i}return S(n,t),n.prototype.Xs=function(){this.ou(),this.oI.au(yb,this.Js)},A(n,[{key:"tm",get:function(){return this.oI.tm}},{key:"im",get:function(){return this.oI.im}},{key:"Au",get:function(){return this.oI.Au}},{key:"cm",get:function(){return this.oI.cm}},{key:"wg",get:function(){return this.oI.wg}}]),n}(du),bb="titanium",Ab="conax",Tb="ezdrm",Sb="irdeto",Eb="vudrm",Ib="verimatrix",Rb="keyos",Db="drmtoday",Nb="expressplay",Cb="azure",Pb="xstream",Bb="vimond",Ob="axinom",xb="uplynk",Lb="comcast",Mb="custom",Ub=function(){function t(t,n,i,e,r){this.hc=void 0,this.yI=void 0,this.kI=void 0,this.pI=void 0,this.qE=void 0,this.bI=void 0,this.AI=void 0,this.hc=t,this.yI=n,this.kI=i,this.qE=e,this.AI=r,this.pI=this.TI(n)}var e=t.prototype;return e.SI=function(){return this.bI},e.EI=function(t){this.bI=t},e.II=function(){return this.pI.licenseAcquisitionURL||this.SI()},e.RI=function(t){return We.resolve()},e.DI=function(t,n){return We.resolve(void 0)},e.NI=function(t,i,e,r){var s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(s=this.CI(t,i,e,r)).wd){o.next=3;break}throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,Dr.awrap(this.n_.ld(s));case 6:return u=o.sent,o.next=9,Dr.awrap(u.zl(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),nu(o.t0),o.next=17,Dr.awrap(this.BI(o.t0,s.wd,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],We)},e.CI=function(t,n,i,e){var r=this.OI()._v(),s=this.Ud,u={wd:this.xI(),hd:n,od:r,ql:t,Ud:s,Od:nw.POST,xd:0,js:e,_s:iw.bd,Ld:i};return new uw(u)},e.LI=function(t,n){return We.resolve(t)},e.MI=function(t,n,i,e){return We.resolve(t)},e.OI=function(){return new Ef(this.pI.headers||{})},e.BI=function(t,i,e){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new ty(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,We)},e.xI=function(t,n){var e=n,r=this.pI.queryParameters;if(!e){var s=this.II();if(!s)return"";e=s}if(r||t){var u=i.Mr(e);t&&hw(u,t),r&&hw(u,r),e=u.href}return e},e.UI=function(t,n){return Xb(t)},e.XI=function(t){return new y(t)},e.HI=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(this.UI(t,i));case 2:return e=u.sent,u.next=5,Dr.awrap(this.NI(e,this.AI,n,i));case 5:return r=u.sent,s=this.XI(r),u.abrupt("return",s);case 8:case"end":return u.stop()}},null,this,null,We)},e.$c=function(){},A(t,[{key:"n_",get:function(){return this.qE}},{key:"FI",get:function(){return!1}},{key:"zI",get:function(){var t=this.pI.certificate;if(t)return q(t)?Cu(t):Uo(t)}},{key:"VI",get:function(){return!1}},{key:"Ud",get:function(){return Boolean(this.pI.useCredentials)}}]),t}();function Xb(t){return We.resolve(Ho(t).buffer)}var Hb,Fb,zb=function(t){function n(n,i,e,r){return t.call(this,ss,n,i,e,r)||this}S(n,t);var i=n.prototype;return i.TI=function(t){return t.widevine||{}},i.WI=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.zI){i.next=2;break}return i.abrupt("return",this.zI);case 2:return i.abrupt("return",this.GI(new y(t),n));case 3:case"end":return i.stop()}},null,this,null,We)},i.GI=function(n,i){return t.prototype.HI.call(this,n,ew.Ed,i)},n}(Ub);function Vb(t,n){if(null==t)return{};var i,e,r={},s=d.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function Wb(t){return H(t.token&&t.deviceId)}function Gb(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&H(i.PreAuthorization)}function qb(t){var n=t;return Wb(n)&&""!==n.token&&""!==n.deviceId&&!Gb(n)}(Fb=Hb||(Hb={})).qI=!1,Fb.YI=!1,Fb.jI=!1,Fb.QI=!1,Fb.LOG_ADS_DETAILS=!1,Fb.LOG_CHROMECAST_DETAILS=!1,Fb.LOG_CUSTOM_DRM=!1,Fb.LOG_BUFFERING_VIDEO_MAIN=!1,Fb.LOG_BUFFERING_VIDEO_SELECTION=!1,Fb.LOG_BUFFERING_AUDIO_MAIN=!1,Fb.LOG_BUFFERING_AUDIO_SELECTION=!1,Fb.ZI=!1,Fb.KI=!1,Fb.LOG_LCEVC_DETAILS=!1;var Yb,jb=function(){function t(t,n,i){this.JI=t,this.Yh=n,this.$I=i}return t.prototype.tR=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new l("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new l("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new l("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new l("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new l("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.$I.build(t))},A(t,[{key:"nR",get:function(){return this.JI}},{key:"hc",get:function(){return this.Yh}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Yb||(Yb={}));var Qb=function(){function t(){this.iR=[]}var e=t.prototype;return e.registerContentProtectionIntegration=function(t,e,r){switch(this.eR(t,e,r)){case Yb.FAILED:throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+e+".");case Yb.OVERRIDDEN:var s=dA(e);i.Tr("Warning: Overwriting an earlier registered integration for "+t+" and "+s+".");break;case Yb.SUCCEEDED:dA(e);0}},e.eR=function(t,n,i){var e=dA(n);if(!e)return Yb.FAILED;for(var r=Yb.SUCCEEDED,s=0,u=this.iR.slice();s<u.length;s++){var o=u[s];o.nR===t&&o.hc===e&&(r=Yb.OVERRIDDEN,Us(this.iR,o))}return this.iR.push(new jb(t,e,i)),r},e.rR=function(t,n){return void 0!==this.sR(t,n)},e.uR=function(t,n,i){var e=this.sR(t,n);if(!e)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.tR(i)},e.sR=function(t,n){for(var i=0,e=this.iR;i<e.length;i++){var r=e[i];if(r.nR===t&&(!n||r.hc===n))return r}},t}();Qb.oR=new Qb;var Zb=["customdata"],Kb={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Jb(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters;return!(n||i||e||r||s||u)}function $b(t){return t&&void 0!==t.licenseAcquisitionURL}var tA,nA=$b,iA=$b;function eA(t){if(!t)return!0;if(oA(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return Jb(n)&&Jb(i)&&Jb(e)&&Jb(r)&&Jb(s)}function rA(t){var n=qb(t),i=function(t){var n,i=t;return Gb(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Wb(i)}(t);return(!n||!i)&&(n||i)}function sA(t){return t.integration===Sb}function uA(t){var n=t;if(!n)return!1;if(eA(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(oA(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!nA(e))return!1;if(r&&!iA(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(Qb.oR.rR(n.integration))return!0;switch(n.integration){case bb:if(!function(t){return t.integration===bb&&(aA(t)||hA(t))}(t))return!1;break;case Eb:if(!cA(t))return!1;break;case Ib:if(!function(t){return t.integration===Ib}(t))return!1;break;case Sb:if(!sA(t))return!1;break;case Ab:if(!rA(t))return!1;break;case Tb:if(!function(t){return t.integration===Tb}(t))return!1;break;case Rb:if(!oA(t))return!1;break;case Db:if(!function(t){var n=t;return n.integration===Db&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Nb:if(!function(t){return t.integration===Nb}(t))return!1;break;case Pb:if(!fA(t))return!1;break;case Bb:if(!function(t){return t.integration===Bb}(t))return!1;break;case Ob:if(!vA(t))return!1;break;case Cb:if(!function(t){var n=t;return n.integration===Cb&&void 0!==n.token}(t))return!1;break;case xb:if(!function(t){return t.integration===xb}(t))return!1;break;case Lb:if(!function(t){var n=t;return n&&H(n.releasePid)&&H(n.accountId)&&H(n.token)}(t))return!1;break;case Mb:return!0;default:return!1}}return!0}function oA(t){return t.integration===Rb}function aA(t){return void 0!==t.authToken}function hA(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function cA(t){var n=t;return n.integration===Eb&&void 0!==n.token}function fA(t){var n=t;return n&&n.integration===Pb&&q(n.ticketAcquisitionURL)&&q(n.streamId)}function vA(t){var n=t;return n.integration===Ob&&void 0!==n.token}function lA(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:Kb[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,a=o?{customData:o}:{},h=Nr({},null!=(r=null==s?void 0:s.headers)?r:{},a),c=null!=s?s:{};return c.customdata,Nr({},Vb(c,Zb),{licenseAcquisitionURL:u,headers:h})}function dA(t){switch(t.toLowerCase()){case"widevine":case Kr:return Kr;case"playready":case jr:return jr;case"fairplay":case ns:return ns}}function wA(t,i){switch(t){case Wr:return function(t){for(var n={},i=op.JA(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.cE]=r.lE}return n}(i);case Gr:case qr:return function(t){var n;return(n={})[ts]=t,n}(i);default:throw new tf(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.fs="Widevine",t.hs="PlayreadyV2",t.aR="PlayreadyV2",t.hR="PlayreadyV3",t.ls="Fairplay"}(tA||(tA={}));var _A={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function gA(t,n){var e,r,s,u,o=_A[n],a=t.accountName;return{CustomerName:t.customerName,AccountName:a,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=i.Xr)?void 0:e.Hr,OSVersion:null==(r=i.Xr)?void 0:r.qr,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(s=i.Xr)?void 0:s.Yr,DeviceModel:null==(u=i.Xr)?void 0:u.jr}}}function mA(t,i){if(!t.accountName)throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function yA(t,n,i){var e;if(aA(t))e={AuthToken:t.authToken,Payload:n};else{if(!hA(t))throw mA(t,i);e={LatensRegistration:gA(t,i),Payload:n}}return zu(JSON.stringify(e))}function kA(t,i,e){var r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=t.$d){a.next=3;break}throw new ty(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return s=r,a.prev=4,a.next=7,Dr.awrap(s.Hl(e));case 7:u=a.sent,o=pA(u),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),o="";case 14:throw new ty(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,s.ld.wd,s.ud,s.fd,o);case 15:case"end":return a.stop()}},null,null,[[4,11]],We)}function pA(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var bA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e,Sf.vv)||this).cR=void 0,r}S(e,t),e.fR=function(){return i.Hr.je?"required":"optional"};var r=e.prototype;return r.BI=function(t,n,i){return kA(t,n,i)},r.RI=function(t){return this.cR?eu(this.cR.Gu,t):(this.cR=new Wo,We.resolve())},r.UI=function(t,i){var e,r;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.yI){i.next=3;break}throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=Bu(t),i.abrupt("return",yA(e,r,tA.fs));case 5:case"end":return i.stop()}},null,this,null,We)},r.XI=function(t){if(!t.license)throw new ty(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Cu(t.license)},r.vR=function(t){return We.resolve(new y(t))},r.WI=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.lR(),r.next=3,Dr.awrap(this.UI(t,n));case 3:return i=r.sent,r.next=6,Dr.awrap(this.NI(i,Sf.fv,ew.Id,n));case 6:return e=r.sent,r.next=9,Dr.awrap(this.vR(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,We)},r.GI=function(n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(t.prototype.GI.call(this,n,i));case 2:return e=r.sent,this.lR(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,We)},r.lR=function(){this.cR||(this.cR=new Wo),this.cR.Qu()},r.$c=function(){this.cR&&this.cR.Gs(),t.prototype.$c.call(this)},e}(zb),AA=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,Sf.fv)||this).EI("https://widevine-proxy.drm.technology/proxy"),r}return S(i,t),i.prototype.UI=function(t,i){var e,r,s,u;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(Xb(t));case 2:if(e=i.sent,r=this.kI,s=Fo(new y(e)),u=this.dR){i.next=8;break}throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:u,drm_info:s,kid:r}));case 9:case"end":return i.stop()}},null,this,null,We)},A(i,[{key:"dR",get:function(){if(cA(this.yI))return this.yI.token}}]),i}(zb);function TA(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Nr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Nr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var SA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Sf.fv)||this).EI("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return S(n,t),n.prototype.xI=function(n,i){var e=n;return sA(this.yI)&&(e=TA(this.yI,e)),t.prototype.xI.call(this,e,i)},n}(zb),EA="Conax-Custom-Data";function IA(t,n,i){var e=t&&rA(t)&&t;if(e&&!i.has(EA)){var r=qb(e)?e.token:void 0,s=qb(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(EA,u)}return i}var RA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Sf.fv)||this).EI("https://connect.conax.com:8094/license"),r}return S(n,t),n.prototype.OI=function(){var n=t.prototype.OI.call(this);return IA(this.yI,"Widevine",n)},n}(zb);function DA(t){var n=To(new y(t));return Cu(JSON.parse(n).license)}function NA(t){return"string"==typeof t.token?t.token:zu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function CA(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var PA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Sf.fv)||this).EI("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}S(n,t);var i=n.prototype;return i.XI=function(t){return DA(t)},i.OI=function(){return CA(t.prototype.OI.call(this),this.dR,this.yI)},A(n,[{key:"dR",get:function(){return NA(this.yI)}}]),n}(zb),BA=function(t){function n(n,i,e){return t.call(this,n,i,e,Sf.fv)||this}return S(n,t),n.prototype.OI=function(){var n=t.prototype.OI.call(this),i=this.yI.token;return n.set("Authorization","Bearer "+i),n},n}(zb);function OA(t,i,e,r){var s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(fA(t)){v.next=2;break}throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Ef).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(u=t.sessionId)&&s.append("XSSESSION",u),o=t.streamId,a=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",h={drmType:i,licenseType:a,streamId:o},c={wd:t.ticketAcquisitionURL,hd:Sf.vv,od:s,Od:nw.POST,ql:JSON.stringify(h),js:r},v.next=13,Dr.awrap(e.ld(c));case 13:return f=v.sent,v.next=16,Dr.awrap(f.Hl());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,We)}var xA=function(t){function n(n,i,e){return t.call(this,n,i,e,Sf.vv)||this}S(n,t);var i=n.prototype;return i.OI=function(){var n=t.prototype.OI.call(this);return n.set("Content-Type","application/json"),n},i.UI=function(n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=Fu(n.buffer),r=this.yI,o.next=4,Dr.awrap(OA(r,"widevine_modular",this.n_,i));case 4:return s=o.sent,this.EI(s.licenseServerUrl),u=So(JSON.stringify({payload:e,ticket:s.ticket})),o.abrupt("return",t.prototype.UI.call(this,u,i));case 8:case"end":return o.stop()}},null,this,null,We)},i.XI=function(t){return Cu(t.license)},n}(zb),LA=function(t){function i(n,i,e){return t.call(this,n,i,e,Sf.fv)||this}return S(i,t),i.prototype.OI=function(){if(!vA(this.yI))throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.OI.call(this);return i.set("X-AxDRM-Message",this.yI.token),i},i}(zb);function MA(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var UA=function(t){function n(n,i,e){var r;return(r=t.call(this,rs,n,i,e,Sf.fv)||this).wR=void 0,r}S(n,t);var e=n.prototype;return e.TI=function(t){return t.playready||{}},e.OI=function(){var n=new Ef(this.wR);return n.yv(t.prototype.OI.call(this)),n},e._R=function(t){return t.length>=1&&t[0].Ri.length>0},e.DI=function(n){var i=this.yI.playready.customData;if(i){var e=MA(i),r=MA('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Bu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return We.resolve({playready:{Lc:r}})}return t.prototype.DI.call(this,n)},e.UI=function(t,n){var i;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(Xb(t));case 2:return i=n.sent,n.abrupt("return",this.gR(i));case 4:case"end":return n.stop()}},null,this,null,We)},e.gR=function(t){var n,e,r,s,u,o,a,h,c,f,v,l,d,w,_,g;return Dr.async(function(m){for(;;)switch(m.prev=m.next){case 0:u=null,o=new DataView(t),a=po(o,new zo,!0),m.prev=3,h=i.oi(a),m.next=10;break;case 7:return m.prev=7,m.t0=m.catch(3),m.abrupt("return",u);case 10:for(c=null==(n=h.Ii("PlayReadyKeyMessage")[0])?void 0:n.Ii("LicenseAcquisition")[0],f=null!=(e=null==c?void 0:c.Ii("Challenge"))?e:[],this._R(f)&&(u=Hu(f[0].Fi)),v=new Ef,l=null!=(r=null==c?void 0:null==(s=c.Ii("HttpHeaders")[0])?void 0:s.Ii("HttpHeader"))?r:[],d=0;d<l.length;d++)w=l[d],_=w.Ii("name")[0].Fi,g=w.Ii("value")[0].Fi,v.append(_,g);return this.wR=v,m.abrupt("return",u);case 18:case"end":return m.stop()}},null,this,[[3,7]],We)},e.WI=function(t,n){return We.resolve(t)},e.GI=function(n,i){return t.prototype.HI.call(this,n,ew.Rd,i)},n}(Ub),XA=function(){function t(n){this.kh=void 0,this.mR=n,this.kh=t.yR(n)}return t.yR=function(t){return"3"===t.version?tA.hR:tA.aR},t.prototype.kR=function(){var t={};if(this.kh===tA.hR){var n={LatensRegistration:gA(this.mR,tA.hR)};t["X-TITANIUM-DRM-CDATA"]=zu(JSON.stringify(n))}return t},A(t,[{key:"pR",get:function(){return this.kh}},{key:"bc",get:function(){return this.kh===tA.aR}}]),t}();var HA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e)||this).bR=void 0,r.bR=new XA(r.yI),r}S(e,t);var r=e.prototype;return r.DI=function(t){var i=this.yI;if(!this.yI)throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(hA(i)){var e={};return e.playready={Lc:FA(i,this.bR.pR)},We.resolve(e)}return We.reject(mA(i,tA.hs))},r.OI=function(){var n=new Ef(this.bR.kR());return n.yv(t.prototype.OI.call(this)),n},r.BI=function(t,e,r){var s,u,o,a,h,c,f,v;return Dr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(s=t.$d){l.next=3;break}throw new ty(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e);case 3:return l.prev=3,l.next=6,Dr.awrap(s.Vl(r));case 6:a=l.sent,h=To(new y(a)),(c=i.oi(h))&&(f=lp(c,"CustomData")).length>0&&(u=JSON.parse(f[0].Fi),o=null==(v=u.DrmErr)?void 0:v.desc),l.next=14;break;case 12:l.prev=12,l.t0=l.catch(3);case 14:throw new ty(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e,s.ud,s.fd,o);case 15:case"end":return l.stop()}},null,null,[[3,12]],We)},r._R=function(t){if(1!==t.length)throw new ty(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},e}(UA);function FA(t,n){var i=gA(t,n),e=i.DeviceInfo.FormatVersion,r=zu('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=Io(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Io('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Bu(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var zA,VA=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).EI("https://playready-license.drm.technology/rightsmanager.asmx"),r}S(i,t);var e=i.prototype;return e._R=function(t){if(1!==t.length)throw new ty(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.xI=function(n,i){var e=Nr({},n||{},{token:this.dR});return t.prototype.xI.call(this,e,i)},A(i,[{key:"dR",get:function(){if(cA(this.yI))return this.yI.token}}]),i}(UA),WA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).EI("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return S(n,t),n.prototype.xI=function(n,i){var e=n;return sA(this.yI)&&(e=TA(this.yI,e)),t.prototype.xI.call(this,e,i)},n}(UA),GA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).EI("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return S(n,t),n.prototype.OI=function(){var n=t.prototype.OI.call(this);return IA(this.yI,"PlayReady",n)},n}(UA),qA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).EI("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}S(n,t);var i=n.prototype;return i.XI=function(n){return(ls(To(new y(n)),"<?xml")?zA.AR:zA.Hl)===zA.Hl?DA(n):t.prototype.XI.call(this,new y(n))},i.OI=function(){return CA(t.prototype.OI.call(this),this.dR,this.yI)},A(n,[{key:"dR",get:function(){return NA(this.yI)}}]),n}(UA);!function(t){t[t.AR=0]="AR",t[t.Hl=1]="Hl"}(zA||(zA={}));var YA,jA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).SR=void 0,r}S(n,t);var i=n.prototype;return i.OI=function(){var n=t.prototype.OI.call(this);return this.SR&&n.set("Ticket",this.SR),n.set("Content-Type","text/xml"),n},i.UI=function(n,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.yI,s.next=3,Dr.awrap(OA(e,"playready",this.n_,i));case 3:return r=s.sent,this.EI(r.licenseServerUrl),this.SR=r.ticket,s.abrupt("return",t.prototype.UI.call(this,n,i));case 7:case"end":return s.stop()}},null,this,null,We)},n}(UA),QA=function(t){function i(){return t.apply(this,arguments)||this}return S(i,t),i.prototype.OI=function(){if(!vA(this.yI))throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.OI.call(this);return i.set("X-AxDRM-Message",this.yI.token),i},i}(UA);!function(t){t.vv="application/json",t.ER="application/x-www-form-urlencoded",t.IR="application/octet-stream",t.ni="text/plain;charset=UTF-8"}(YA||(YA={}));var ZA=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.hc,i,e,r,s)||this).RR="",u.DR=void 0,u.NR=void 0,u.NR=n.PR,u}S(n,t);var i=n.prototype;return i.OR=function(){return this.pI.certificateURL||this.DR},i.xR=function(t){this.DR=t},i.UI=function(t){return We.resolve(this.LR(t,this.RR))},i.LR=function(t,n){return"spc="+encodeURIComponent(Bu(t))+"&assetId="+encodeURIComponent(n)},i.TI=function(t){return t.fairplay||{}},i.MR=function(t){var n=t.indexOf("?");if(n>=0)return We.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return We.resolve(i)}var e=t.split("/");return We.resolve(e[e.length-1])},i.DI=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=null!=(n=this.NR)?n:No(new y(t)),s.next=3,Dr.awrap(this.MR(i));case 3:return e=s.sent,this.RR=e,(r={}).fairplay={Vc:e},s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,We)},i.OI=function(){var n=t.prototype.OI.call(this);return n.set("Content-Type",this.UR),n},i.WI=function(t,n){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.zI){t.next=2;break}return t.abrupt("return",this.zI);case 2:return t.next=4,Dr.awrap(this.XR(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,We)},i.GI=function(n,i){return t.prototype.HI.call(this,n,ew.Td,i)},i.HR=function(t){var n=this.OR(),i=this.OI(),e={wd:n,hd:Sf.fv,od:i,Od:nw.GET,Ud:!1,ql:null,xd:0,js:t,_s:iw.bd,Ld:ew.Sd};return new uw(e)},i.XR=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.HR(t),r.next=3,Dr.awrap(this.n_.ld(n));case 3:return i=r.sent,r.next=6,Dr.awrap(i.Vl());case 6:return e=r.sent,r.abrupt("return",new y(e));case 8:case"end":return r.stop()}},null,this,null,We)},i.XI=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Cu(i)}else n=new y(t);return n},i.xI=function(n,i){var e=t.prototype.xI.call(this,n,i);return ls(e,"skd:")&&(e=e.substr("skd:".length)),e},A(n,[{key:"VI",get:function(){return!0}},{key:"UR",get:function(){return YA.ER}}]),n}(Ub),KA=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Sf.fv)||this}S(n,t);var i=n.prototype;return i.MR=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return We.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return We.resolve(i)},i.UI=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},i.XI=function(t){return new y(t)},i.xI=function(n,i){var e=n||{};return e.p1=Vt(),t.prototype.xI.call(this,e,i)},A(n,[{key:"UR",get:function(){return YA.IR}}]),n}(ZA),JA=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Sf.fv)||this).EI("https://fairplay-license.drm.technology/license"),s.xR("https://fairplay-license.drm.technology/certificate"),s}S(i,t);var e=i.prototype;return e.LR=function(t,n){var i={token:this.dR,contentId:n,payload:Bu(t)};return JSON.stringify(i)},e.XI=function(t){return new y(t)},e.OI=function(){var n=t.prototype.OI.call(this);return n.set("x-vudrm-token",this.dR),n},A(i,[{key:"UR",get:function(){return YA.vv}},{key:"dR",get:function(){if(!cA(this.yI))throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.yI.token}}]),i}(ZA),$A="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",tT="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",nT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Sf.fv)||this}return S(i,t),i.prototype.XI=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new ty(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,$A)}if(!i)throw new ty(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,tT);return i}(To(new DataView(i)));return t.prototype.XI.call(this,e)},i}(ZA);var iT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Sf.vv)||this}S(i,t);var e=i.prototype;return e.UI=function(t){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.yI){r.next=3;break}throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Bu(t),r.abrupt("return",yA(i,e,tA.ls));case 5:case"end":return r.stop()}},null,this,null,We)},e.XI=function(t){try{var i;if(q(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Hu(i.license);return new y(r)}throw new ty(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new ty(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.BI=function(t,n,i){return kA(t,n,i)},A(i,[{key:"UR",get:function(){return YA.vv}}]),i}(ZA),eT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Sf.fv)||this).EI("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.xR("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}S(n,t);var e=n.prototype;return e.OR=function(){var n=t.prototype.OR.call(this);if(!n)return n;var e=i.Mr(n),r=this.yI;return sA(r)&&hw(e,{accountId:r.accountId,applicationId:r.applicationId||""}),e.href},e.MR=function(n){return sA(this.yI)?We.resolve(this.yI.contentId):t.prototype.MR.call(this,n)},e.UI=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.XI=function(t){return new y(t)},e.xI=function(n,i){var e=n;return sA(this.yI)&&(e=function(t,n){return Nr({},TA(t,n),{KeyId:t.keyId})}(this.yI,e)),t.prototype.xI.call(this,e,i)},A(n,[{key:"UR",get:function(){return YA.IR}}]),n}(ZA),rT=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,Sf.ni)||this,!rA(e))throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.EI("https://connect.conax.com:8097/license"),u}S(i,t);var e=i.prototype;return e.OI=function(){var n=t.prototype.OI.call(this);return IA(this.yI,"FairPlay",n)},e.XR=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.OR(),i={wd:n,hd:Sf.fv,od:{},Od:nw.GET,Ud:!1,ql:null,xd:0,js:t,_s:iw.bd,Ld:ew.Sd},s.next=4,Dr.awrap(this.n_.ld(i));case 4:return e=s.sent,s.next=7,Dr.awrap(e.Vl());case 7:return r=s.sent,s.abrupt("return",new y(r));case 9:case"end":return s.stop()}},null,this,null,We)},e.UI=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.MR=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),We.resolve(To(Cu(n)))):We.resolve("unknown")},e.XI=function(t){try{var n=JSON.parse(t);return new y(Hu(n.CkcMessage))}catch(t){throw new v("CFLRW-66")}},i}(ZA),sT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Sf.ni)||this).EI(Kb[zr.ls]),s}S(i,t);var e=i.prototype;return e.MR=function(t){return ls(t,"skd://")?We.resolve(t.substring("skd://".length,40)):We.reject(new ty(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.LR=function(t,n){return"spc="+Bu(t)+"&assetId="+n},i}(ZA),uT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Sf.ni)||this).EI("https://lic.drmtoday.com/license-server-fairplay/"),s}S(n,t);var i=n.prototype;return i.LR=function(t,n){var i="spc="+encodeURIComponent(Bu(t))+"&"+encodeURI(n);return"persistent"===this.pI.licenseType?i+"&offline=true":i},i.OI=function(){return CA(t.prototype.OI.call(this),this.dR,this.yI)},A(n,[{key:"dR",get:function(){return NA(this.yI)}}]),n}(ZA),oT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Sf.fv)||this}S(n,t);var e=n.prototype;return e.MR=function(t){var n=t;return ls(n,"skd:")&&(n="http:"+n.substring(4)),ls(n,"http:")||ls(n,"https:")?We.resolve(i.Mr(n).hostname):We.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},e.UI=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.XI=function(t){return new y(t)},A(n,[{key:"UR",get:function(){return YA.IR}}]),n}(ZA),aT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Sf.ni)||this}return S(n,t),n.prototype.OI=function(){var n=t.prototype.OI.call(this),i=this.yI.token;return n.set("Authorization","Bearer "+i),n},n}(ZA),hT=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,Sf.vv)||this,!fA(i))throw new v("Invalid Xstream DRM configuration");return s}S(n,t);var i=n.prototype;return i.XR=function(t){var n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.OR(),i=this.OI(),e={wd:n,hd:Sf.vv,od:i,Od:nw.POST,js:t,_s:iw.bd,Ld:ew.Sd},u.next=5,Dr.awrap(this.n_.ld(e));case 5:return r=u.sent,u.next=8,Dr.awrap(r.Hl());case 8:return s=u.sent,u.abrupt("return",new y(Cu(s.certificate)));case 10:case"end":return u.stop()}},null,this,null,We)},i.GI=function(t,n,i){var e,r,s,u,o,a,h;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=Bu(t),r=this.yI,i.next=5,Dr.awrap(OA(r,"fairplay",this.n_,n));case 5:return s=i.sent,u=So(JSON.stringify({spc:e,ticket:s.ticket})),o={wd:this.II(),hd:Sf.vv,od:this.OI(),Od:nw.POST,ql:u,xd:0,js:n,_s:iw.bd,Ld:ew.Td},i.next=10,Dr.awrap(this.n_.ld(o));case 10:return a=i.sent,i.next=13,Dr.awrap(a.Hl());case 13:return h=i.sent,i.abrupt("return",Cu(h.licence));case 15:case"end":return i.stop()}},null,this,null,We)},A(n,[{key:"UR",get:function(){return YA.vv}}]),n}(ZA),cT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Sf.ni)||this}S(i,t);var e=i.prototype;return e.LR=function(t,n){return Bu(t)},e.XI=function(i){if(0===i.length)throw new ty(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.XI.call(this,i)},e.OI=function(){var n=t.prototype.OI.call(this);return n.set("Content-Type","text/plain"),n},i}(ZA),fT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Sf.fv)||this}S(i,t);var e=i.prototype;return e.LR=function(t,n){return t},e.XI=function(t){return new y(t)},e.OI=function(){if(!vA(this.yI))throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.OI.call(this);return i.set("X-AxDRM-Message",this.yI.token),i},A(i,[{key:"UR",get:function(){return YA.vv}}]),i}(ZA),vT=function(t){function e(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Sf.vv)||this).FR=void 0,s}S(e,t);var r=e.prototype;return r.LR=function(t,n){var i={spc:Bu(t)};return JSON.stringify(i)},r.MR=function(t){var e=i.Mr(t);return this.FR=t,e.searchParams.has("b")?We.resolve(e.searchParams.get("b")):We.reject(new ty(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.xI=function(n,i){var e=this.II();return!e&&this.FR&&(e=this.FR),e&&(e=e.replace("skd://","https://")),t.prototype.xI.call(this,n,i||e)},r.XI=function(t){try{var i;if((i=q(t)?JSON.parse(t.trim()):t).ckc)return Cu(i.ckc)}catch(t){throw new ty(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new ty(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},A(e,[{key:"UR",get:function(){return YA.ni}}]),e}(ZA),lT=function(){function t(t,n){this.zR=t,this.WR=n}var n=t.prototype;return n.GR=function(t){return this.zR(t)},n.qR=function(t,n){throw new l(n+" must be "+this.WR+". (Received: "+t+")")},t}();new lT(function(t){return!0},"any");var dT=new lT(Z,"a number"),wT=new lT(q,"a string"),_T=new lT(Y,"a boolean");new lT(Q,"a date"),new lT(F,"undefined"),new lT(W,"an object"),new lT(function(t){return null===t},"null"),new lT(function(t){return null==t},"null or undefined");var gT,mT=(gT={responseCode:dT,isException:_T,description:wT,title:wT,correlationId:wT},{GR:function(t){if(!W(t))return!1;for(var n=0,i=d.keys(gT);n<i.length;n++){var e=i[n];if(!gT[e].GR(t[e]))return!1}return!0},qR:function(t,n){if(!W(t))throw new l(n+" must be an object.");for(var i=0,e=d.keys(gT);i<e.length;i++){var r=e[i],s=gT[r];if(!s.GR(t[r]))return s.qR(t[r],n+"."+String(r))}throw new l}});function yT(t,n,i,e,r){var s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=kT(t,n,i,r),u.next=3,Dr.awrap(pT(s,e));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,null,null,We)}function kT(t,n,e,r){var s={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=i.Mr(t);return hw(e,n),e.toString()}(e,s)),o=new Ef({});o.append("Content-Type","application/json");var a=Bu(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:a}};return{wd:u,hd:Sf.ni,od:o,Od:nw.POST,ql:JSON.stringify(h),js:r,_s:iw.bd,Ld:ew.Td}}function pT(t,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(i.ld(t));case 2:return e=s.sent,s.next=5,Dr.awrap(e.Hl());case 5:if(r=s.sent,!mT.GR(r)){s.next=8;break}throw new ty(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.wd,r.responseCode);case 8:return s.abrupt("return",Cu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return s.stop()}},null,null,null,We)}var bT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Sf.fv)||this).YR=void 0,s.YR=i,s}S(n,t);var i=n.prototype;return i.MR=function(n){var i=n.replace("FairPlay",this.YR.releasePid);return t.prototype.MR.call(this,i)},i.GI=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(yT(t,this.YR,this.II(),this.n_,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,We)},n}(ZA),AT=function(t){function i(n,i,e){return t.call(this,as,n,i,e,Sf.fv)||this}S(i,t);var e=i.prototype;return e.TI=function(t){return t.clearkey||{}},e.NI=function(i,e,r,s){var u,o;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.pI,!this.II()){e.next=5;break}return e.abrupt("return",t.prototype.NI.call(this,i,this.AI,r,s));case 5:if(!u.keys||!u.keys.length){e.next=10;break}return o={keys:u.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",So(JSON.stringify(o)).buffer);case 10:throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,We)},e.WI=function(t,n){return We.resolve(new y(0))},e.GI=function(n,i){return t.prototype.HI.call(this,n,ew.Dd,i)},i}(Ub),TT=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(zb),ST={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function ET(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=xT(n),(r=t.onCertificateRequest)&&"function"==typeof r){u.next=5;break}return u.abrupt("return",We.resolve(n));case 5:return u.next=8,Dr.awrap(eu(We.resolve(r.call(t,e)),i));case 8:if(!Mo(s=u.sent)){u.next=11;break}return u.abrupt("return",Uo(s));case 11:return u.abrupt("return",OT(Nr({},ST,s)));case 12:case"end":return u.stop()}},null,null,null,We)}function IT(t,n,i,e,r){var s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.onCertificateResponse,u=BT(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",We.resolve(n));case 5:return a.next=8,Dr.awrap(eu(We.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Uo(o));case 10:case"end":return a.stop()}},null,null,null,We)}function RT(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(NT(t,n,i,e));case 2:if(!((r=s.sent)instanceof ArrayBuffer)){s.next=5;break}return s.abrupt("return",r);case 5:return s.abrupt("return",OT(r));case 6:case"end":return s.stop()}},null,null,null,We)}function DT(t,n,i,e,r,s){var u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return u=PT(i,r),a.next=3,Dr.awrap(CT(t,new y(n),u,e,s));case 3:return o=a.sent,a.abrupt("return",Uo(o).buffer);case 5:case"end":return a.stop()}},null,null,null,We)}function NT(t,n,i,e){var r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,s=PT(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",We.resolve(s));case 5:return o.next=8,Dr.awrap(eu(We.resolve(r.call(t,s)),e));case 8:if(!Mo(u=o.sent)){o.next=11;break}return o.abrupt("return",Uo(u).buffer);case 11:return o.abrupt("return",Nr({fairplaySkdUrl:void 0},ST,u));case 12:case"end":return o.stop()}},null,null,null,We)}function CT(t,n,i,e,r){var s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=null==t?void 0:t.onLicenseResponse,u=BT(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",We.resolve(n));case 5:return a.next=8,Dr.awrap(eu(We.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Uo(o));case 10:case"end":return a.stop()}},null,null,null,We)}function PT(t,n){return Nr({},xT(t),{fairplaySkdUrl:n})}function BT(t,n,i){return{url:i.dd,status:i.ud,statusText:i.fd,headers:i.od._v(),body:t,request:n}}function OT(t){return new uw({wd:t.url,Od:t.method,od:t.headers,ql:t.body,Ud:t.useCredentials})}function xT(t){var n;return{url:t.wd,body:null!=(n=LT(t.ql))?n:null,headers:t.od._v(),method:t.Od,useCredentials:t.Ud}}function LT(t){if(t)return"string"==typeof t?Co(t):t instanceof ArrayBuffer?new y(t):xu(t)?Lo(t):void 0}var MT,UT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).jR=void 0,s.jR=r,s}S(i,t);var e=i.prototype;return e.WI=function(t,n){return We.resolve(t)},e.GI=function(t,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Dr.awrap(this.gR(Ho(t).buffer));case 2:return e=a.sent,r=this.CI(e,Sf.fv,ew.Rd,i),a.next=6,Dr.awrap(RT(this.jR,r,void 0,i));case 6:if(!((s=a.sent)instanceof ArrayBuffer)){a.next=10;break}return a.abrupt("return",new y(s));case 10:if(""!==s.wd){a.next=12;break}throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return a.prev=12,a.next=15,Dr.awrap(this.n_.ld(s));case 15:return u=a.sent,a.next=18,Dr.awrap(u.Vl(i));case 18:return o=a.sent,a.t0=y,a.next=22,Dr.awrap(DT(this.jR,o,r,u,void 0,i));case 22:return a.t1=a.sent,a.abrupt("return",new a.t0(a.t1));case 26:throw a.prev=26,a.t2=a.catch(12),nu(a.t2),new ty(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a.t2);case 30:case"end":return a.stop()}},null,this,[[12,26]],We)},i}(UA),XT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,Sf.fv)||this).jR=void 0,s.jR=r,s}S(i,t);var e=i.prototype;return e.WI=function(t,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.zI){a.next=2;break}return a.abrupt("return",this.zI);case 2:return e=this.CI(t,Sf.fv,ew.Id,i),a.next=5,Dr.awrap(ET(this.jR,e,i));case 5:if(!((r=a.sent)instanceof y)){a.next=9;break}return a.abrupt("return",r);case 9:if(""!==r.wd){a.next=11;break}throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return a.prev=11,a.next=14,Dr.awrap(this.n_.ld(r));case 14:return s=a.sent,a.next=17,Dr.awrap(s.Vl(i));case 17:u=a.sent,a.next=24;break;case 20:throw a.prev=20,a.t0=a.catch(11),nu(a.t0),new ty(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",a.t0);case 24:return o=PT(e,void 0),a.next=27,Dr.awrap(IT(this.jR,new y(u),o,s,i));case 27:return a.abrupt("return",a.sent);case 28:case"end":return a.stop()}},null,this,[[11,20]],We)},e.GI=function(t,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.CI(t,Sf.fv,ew.Ed,i),o.next=3,Dr.awrap(RT(this.jR,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.wd){o.next=9;break}throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Dr.awrap(this.n_.ld(r));case 12:return s=o.sent,o.next=15,Dr.awrap(s.Vl(i));case 15:u=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),nu(o.t0),new ty(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=y,o.next=25,Dr.awrap(DT(this.jR,u,e,s,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],We)},i}(TT),HT=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,Sf.fv)||this).jR=void 0,u.QR=void 0,u.jR=s,u}S(i,t);var e=i.prototype;return e.WI=function(t,i){var e,r,s,u,o;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.zI){t.next=2;break}return t.abrupt("return",this.zI);case 2:return e=this.HR(i),t.next=5,Dr.awrap(ET(this.jR,e,i));case 5:if(r=t.sent,!xu(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,Dr.awrap(this.n_.ld(r));case 11:return s=t.sent,t.next=14,Dr.awrap(s.Vl());case 14:return u=t.sent,o=PT(e,void 0),t.next=18,Dr.awrap(IT(this.jR,new y(u),o,s,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),nu(t.t0),new ty(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],We)},e.GI=function(t,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.CI(t,Sf.fv,ew.Td,i),o.next=3,Dr.awrap(RT(this.jR,e,this.QR,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.wd){o.next=9;break}throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Dr.awrap(this.n_.ld(r));case 12:return s=o.sent,o.next=15,Dr.awrap(s.Vl(i));case 15:return u=o.sent,o.t0=y,o.next=19,Dr.awrap(DT(this.jR,u,e,s,this.QR,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),nu(o.t2),new ty(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],We)},e.MR=function(n){var i;return this.QR=n,null!=(i=this.jR)&&i.extractFairplayContentId?We.resolve(this.jR.extractFairplayContentId(n)):t.prototype.MR.call(this,n)},i}(ZA),FT=function(){function t(){}var n=t.prototype;return n.ZR=function(t,n,i,e){switch(t.hc._s){case zr.fs:return this.KR(n,i,e);case zr.hs:return this.JR(n,i,e);case zr.ls:return this.$R(t,n,i,e);case zr.vs:default:return this.tD(n,i,e)}},n.KR=function(t,n,i){var e,r=(e=t).integration===Mb&&q(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&Qb.oR.rR(r,Kr)){var s=Qb.oR.uR(r,Kr,t);return new XT(t,n,i,s)}switch(r){case bb:return new bA(t,n,i);case Eb:return new AA(t,n,i);case Sb:return new SA(t,n,i);case Ab:return new RA(t,n,i);case Db:return new PA(t,n,i);case Cb:return new BA(t,n,i);case Pb:return new xA(t,n,i);case Ob:return new LA(t,n,i);case Rb:default:return new TT(t,n,i,Sf.fv)}},n.JR=function(t,n,i){var e=t.integration;if(e&&Qb.oR.rR(e,jr)){var r=Qb.oR.uR(e,jr,t);return new UT(t,n,i,r)}switch(e){case bb:return new HA(t,n,i);case Eb:return new VA(t,n,i);case Sb:return new WA(t,n,i);case Ab:return new GA(t,n,i);case Db:return new qA(t,n,i);case Pb:return new jA(t,n,i);case Ob:return new QA(t,n,i);case Rb:default:return new UA(t,n,i)}},n.$R=function(t,n,i,e){var r=n.integration;if(r&&Qb.oR.rR(r,ns)){var s=Qb.oR.uR(r,ns,n);return new HT(t,n,i,e,s)}switch(r){case Tb:return new KA(t,n,i,e);case Eb:return new JA(t,n,i,e);case Ib:return new nT(t,n,i,e);case bb:return new iT(t,n,i,e);case Sb:return new eT(t,n,i,e);case Ab:return new rT(t,n,i,e);case Rb:return new sT(t,n,i,e);case Db:return new uT(t,n,i,e);case Nb:return new oT(t,n,i,e);case Cb:return new aT(t,n,i,e);case Pb:return new hT(t,n,i,e);case Bb:return new cT(t,n,i,e);case Ob:return new fT(t,n,i,e);case xb:return new vT(t,n,i,e);case Lb:return new bT(t,n,i,e);default:return new ZA(t,n,i,e,Sf.ni)}},n.tD=function(t,n,i){return new AT(t,n,i)},n.nD=function(t){return t._s===zr.hs||t._s===zr.fs||t._s===zr.ls||t._s===zr.vs},n.bc=function(t,n){var i;if(t._s!==zr.hs)return!1;if(H(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!Qb.oR.rR(e,ns))&&(e===bb&&new XA(n).bc)},n.fR=function(t,n){if(t._s===zr.fs){var i=n.integration;if(!i||!Qb.oR.rR(i,ns))return i===bb?bA.fR():void 0}},t}();!function(t){t[t.iD=0]="iD",t[t.eD=1]="eD",t[t.rD=2]="rD",t[t.sD=3]="sD",t[t.uD=4]="uD",t[t.Lg=5]="Lg",t[t.oD=6]="oD",t[t.aD=7]="aD",t[t.Xg=8]="Xg",t[t.hD=9]="hD",t[t.cD=10]="cD"}(MT||(MT={}));var zT=function(){function t(){}return t.prototype.fD=function(t){},A(t,[{key:"vD",get:function(){return 0}},{key:"lD",get:function(){return 0}}]),t}(),VT=function(){function t(t,n){void 0===n&&(n=new FT),this.qE=void 0,this.dD=void 0,this.mR=void 0,this.qE=t,this.dD=n}var n=t.prototype;return n.wD=function(t){this.mR=t},n.fR=function(t){var n=this.mR;if(void 0!==n)return this.dD.fR(t,n)},n.bc=function(t){var n=this.mR;return void 0!==n&&this.dD.bc(t,n)},n._D=function(t){var n={hc:t.hc,gD:t.gD||[],PR:t.PR},i=this.dD.ZR(n,this.mR||{},t.kI,this.qE);return new WT(i)},t}(),WT=function(){function t(t){this.mD=void 0,this.mD=t}var n=t.prototype;return n.RI=function(t){return this.mD.RI(t)},n.DI=function(t,n,i){return this.mD.DI(n,i)},n.VI=function(){return this.mD.VI||void 0!==this.mD.zI},n.WI=function(t,n){return this.mD.WI(t,n)},n.GI=function(t,n,i){return n&&this.mD.EI(n),this.mD.GI(t,i)},n.Xs=function(){this.mD.$c()},t}(),GT=function(t){function n(n){var i;(i=t.call(this)||this).yD=[],i.kD=function(t){i.B_(t.h_)},i.pD=function(t){var n=t.h_;i.bD(n)||i.O_(n)};for(var e=0;e<n.length;e++){var r=n[e];i.TD(r)}return i}S(n,t);var i=n.prototype;return i.TD=function(t){this.yD.push(t);for(var n=0,i=t.L_;n<i.length;n++){var e=i[n];this.B_(e)}this.SD(t)},i.ED=function(t){Us(this.yD,t),this.RD(t);for(var n=0,i=t.L_;n<i.length;n++){var e=i[n];this.bD(e)||this.O_(e)}},i.bD=function(t){for(var n=0,i=this.yD;n<i.length;n++){if(i[n].x_(t))return!0}return!1},i.SD=function(t){t.tu(j_.i_,this.kD),t.tu(j_.r_,this.pD)},i.RD=function(t){t.au(j_.i_,this.kD),t.au(j_.r_,this.pD)},i.$c=function(){for(;this.yD.length>0;)this.ED(this.yD[0]);t.prototype.$c.call(this)},i.a_=function(){return xg(this)},n}(sg);function qT(t){return{get enabled(){return t.q_},set enabled(n){t.q_=_g(n)},get currentLatency(){return t.Im},get streamConfiguration(){if(void 0!==t.DD)return function(t){return{get minimumOffset(){return t._m},get maximumOffset(){return t.mm},get targetOffset(){return t.gm},get forceSeekOffset(){return t.ym},get minimumPlaybackRate(){return t.pm},get maximumPlaybackRate(){return t.Am}}}(t.DD)},get configuration(){return function(t){return{get minimumOffset(){return t._m},set minimumOffset(n){t._m=gg(n)},get maximumOffset(){return t.mm},set maximumOffset(n){t.mm=gg(n)},get targetOffset(){return t.gm},set targetOffset(n){t.gm=gg(n)},get forceSeekOffset(){return t.ym},set forceSeekOffset(n){t.ym=gg(n)},get minimumPlaybackRate(){return t.pm},set minimumPlaybackRate(n){t.pm=gg(n)},get maximumPlaybackRate(){return t.Am},set maximumPlaybackRate(n){t.Am=gg(n)},update:function(n){t.tc(function(t){var n={};void 0!==t.minimumOffset&&(n._m=gg(t.minimumOffset));void 0!==t.maximumOffset&&(n.mm=gg(t.maximumOffset));void 0!==t.targetOffset&&(n.gm=gg(t.targetOffset));void 0!==t.forceSeekOffset&&(n.ym=gg(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.pm=gg(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.Am=gg(t.maximumPlaybackRate));return n}(n))}}}(t.cc)}}}var YT,jT=function(){function t(){this.u_=void 0,this.ND=void 0,this.ND={ym:0,mm:0,Am:0,_m:0,pm:0,gm:0,tc:K}}return A(t,[{key:"o_",get:function(){return null!=this.u_||(this.u_=qT(this)),this.u_}},{key:"q_",get:function(){return!1},set:function(t){}},{key:"Im",get:function(){}},{key:"DD",get:function(){}},{key:"cc",get:function(){return this.ND}}]),t}();function QT(){return YT||(YT=le&&le.document&&le.document.createElement("video")),YT}var ZT=function(t){function i(i,e,r,s,u,o,a){var h;return void 0===o&&(o=new FT),void 0===a&&(a=mf()),(h=t.call(this)||this).CD=void 0,h.PD=void 0,h.BD=void 0,h.xm=void 0,h.Lm=void 0,h.Mm=void 0,h.OD=void 0,h.xD=void 0,h.LD=void 0,h.MD=void 0,h.UD=void 0,h.qE=void 0,h.Es=void 0,h.XD=void 0,h.HD=void 0,h.FD=new zT,h.zD=new jT,h.VD=function(t){var i=t.Au,e=i.code,r=new tf(function(t){switch(t){case Km.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case Km.NETWORK:return n.ErrorCode.NETWORK_ERROR;case Km.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case Km.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case Km.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case Km.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case Km.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),s=new ny(e,r.message,i.message);h.WD(r,s)},h.GD=function(){h.$s(new km(h.tm,h.Ay))},h.qD=function(t){h.cm||(h.HD=void 0),h.$s(t)},h.YD=function(t){h.HD=void 0},h.jD=function(){h.$s(new Ay(h.Sy))},h.QD=function(){h.dm>0&&h.lm>0&&h.$s(new ob)},h.ZD=function(t){h.xm.B_(new gy(t.track))},h.KD=function(t){var n=JT(h.xm,t.track);n&&h.xm.O_(n)},h.JD=function(){h.$D(h.xm)},h.tN=function(t){h.Lm.B_(new by(t.track))},h.nN=function(t){var n=JT(h.Lm,t.track);n&&h.Lm.O_(n)},h.iN=function(){h.$D(h.Lm)},h.eN=function(t){h.$s(t),h.WD(t.errorObject,ey(t.errorObject))},h.CD=e,h.qE=r,h.Es=a,h.PD=h.CD.rN(ry.Pd),h.LD=h.PD.sN.preload,h.MD=new kb(h.PD,!0),h.MD.tu(_m,h.Js),h.XD=new VT(r,o),h.PD.uN=h.XD,h.oN(),h.xm=new sy,h.Lm=new sy,h.aN(),h.UD=new tb(h.PD,h.qE),h.Mm=new GT([h.PD.Vm]),h.sy(),h}S(i,t);var e=i.prototype;return e.uy=function(){this.PD.uy()},e.sy=function(){this.PD.sy()},e.Qm=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return tu(i),e={_s:ub.tI,yg:t.src,Gl:t.type,hN:this.cN(t),xy:this.LD,fN:t.crossOrigin,vN:n.metadata&&n.metadata.title},this.XD.wD(t.contentProtection),r.next=5,Dr.awrap(this.PD.Jh(e));case 5:this.BD=r.sent,tu(i),n.textTracks&&this.lN(n.textTracks),sb(this.Vm);case 9:case"end":return r.stop()}},null,this,null,We)},e.lN=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.PD.dN()&&M.cn&&wb&&!Gp(i.kind,i.label)&&this.wN(i)){var e,r=null!=(e=i.kind)?e:Pp.wA;this.PD._N(i.src,r,i.label,i.srclang,i.default)}else{if(void 0===i.src)continue;this.UD.jE(i)}}},e.wN=function(t){return!t.format||"webvtt"===t.format},e.Gm=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Dr.awrap(this.PD.Gm());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.gN){t.next=12;break}return t.next=10,Dr.awrap(this.PD.wu(Tf.Vf));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],We)},e.qm=function(){this.PD.qm()},e.Zm=function(){return void 0!==this.PD.sN.webkitShowPlaybackTargetPicker},e.Km=function(){this.PD.sN.webkitShowPlaybackTargetPicker&&this.PD.sN.webkitShowPlaybackTargetPicker()},e.Jm=function(){this.PD.sN.webkitShowPlaybackTargetPicker&&this.PD.sN.webkitShowPlaybackTargetPicker()},e.oy=function(){return this.PD.sN},e.vy=function(){return this.PD.mN},e.wc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.OD=void 0,this.xD=void 0,this.BD=void 0,t.next=5,Dr.awrap(this.UD.wc());case 5:return this.PD.yN(),t.next=8,Dr.awrap(this.PD.wc());case 8:this.MD.wc(),this.xy=this.LD,this.Fm.wc(),this.zm.wc(),this.HD=void 0;case 13:case"end":return t.stop()}},null,this,null,We)},e.$c=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.wc());case 2:return this.ou(),this.kN(),this.pN(),this.MD.$c(),this.PD.uN=void 0,t.next=9,Dr.awrap(this.CD.bN(this.PD));case 9:return this.xm.$c(),this.Lm.$c(),this.Mm.$c(),t.next=14,Dr.awrap(this.UD.$c());case 14:case"end":return t.stop()}},null,this,null,We)},e.oN=function(){this.PD.tu(Tf.zf,this.Js),this.PD.tu(Tf.Ff,this.Js),this.PD.tu(Tf.ev,this.GD),this.PD.tu(Tf.Vf,this.Js),this.PD.tu(Tf.Lf,this.Js),this.PD.tu(Tf.jf,this.Js),this.PD.tu(Tf.Yf,this.qD),this.PD.tu(Tf.Bf,this.Js),this.PD.tu(Tf.Wf,this.Js),this.PD.tu(Tf.rv,this.Js),this.PD.tu(Tf.Cf,this.Js),this.PD.tu(Tf.qf,this.QD),this.PD.tu(vm.$g,this.YD),this.PD.tu(Dg.hg,this.VD),this.PD.tu(Tf.Rf,this.Js),this.PD.tu(Tf.If,this.eN),this.PD.sN.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.jD)},e.kN=function(){this.PD.au(Tf.zf,this.Js),this.PD.au(Tf.Ff,this.Js),this.PD.au(Tf.ev,this.GD),this.PD.au(Tf.Vf,this.Js),this.PD.au(Tf.Lf,this.Js),this.PD.au(Tf.jf,this.Js),this.PD.au(Tf.Yf,this.qD),this.PD.au(Tf.Bf,this.Js),this.PD.au(Tf.Wf,this.Js),this.PD.au(Tf.rv,this.Js),this.PD.au(Tf.Cf,this.Js),this.PD.au(Tf.qf,this.QD),this.PD.au(vm.$g,this.YD),this.PD.au(Dg.hg,this.VD),this.PD.au(Tf.Rf,this.Js),this.PD.au(Tf.If,this.eN),this.PD.sN.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.jD)},e.cN=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{hc:us,AN:[{initDataTypes:[us.ys],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.aN=function(){var t=this.PD.sN.audioTracks,n=this.PD.sN.videoTracks;t&&(t.addEventListener("addtrack",this.ZD),t.addEventListener("removetrack",this.KD),t.addEventListener("change",this.JD)),n&&(n.addEventListener("addtrack",this.tN),n.addEventListener("removetrack",this.nN),n.addEventListener("change",this.iN))},e.pN=function(){var t=this.PD.sN.audioTracks,n=this.PD.sN.videoTracks;t&&(t.removeEventListener("addtrack",this.ZD),t.removeEventListener("removetrack",this.KD),t.removeEventListener("change",this.JD)),n&&(n.removeEventListener("addtrack",this.tN),n.removeEventListener("removetrack",this.nN),n.removeEventListener("change",this.iN))},e.$D=function(t){for(var n=0;n<t.M_;n++){t.P_(n).qy()}},e.py=function(){this.PD.py()},e.WD=function(t,n){this.OD||(this.OD=n,this.xD=t,this.$s(new Dm(t)))},A(i,[{key:"gN",get:function(){var t=this.PD.by,n=this.tm;return t.TN(n,.01)}},{key:"Fm",get:function(){return this.xm}},{key:"by",get:function(){return this.PD.by.SN()}},{key:"Ay",get:function(){return this.PD.Ay},set:function(t){t&&this.PD.EN(t)}},{key:"tm",get:function(){return void 0!==this.HD?this.HD:this.PD.tm},set:function(t){this.Sy&&(this.HD=t),this.PD.Xu(t)}},{key:"nm",get:function(){return this.PD.nm}},{key:"im",get:function(){return this.PD.im}},{key:"Au",get:function(){return this.OD}},{key:"um",get:function(){return this.xD}},{key:"Wm",get:function(){}},{key:"Sy",get:function(){return this.PD.Sy}},{key:"Ey",get:function(){return Nr({},{Iy:0,Ry:0,Dy:0,Ny:0,Cy:0,Py:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.PD.IN())}},{key:"hm",get:function(){return this.PD.hm},set:function(t){this.PD.hm=t}},{key:"By",get:function(){return!0}},{key:"cm",get:function(){return this.PD.cm}},{key:"fm",get:function(){return this.PD.fm},set:function(t){this.PD.fm=t}},{key:"Oy",get:function(){return this.PD.sN.played}},{key:"xy",get:function(){return this.LD},set:function(t){this.LD=t,this.BD&&(this.BD.xy=t)}},{key:"wg",get:function(){return this.PD.wg}},{key:"Ly",get:function(){return this.PD.Ly.SN()}},{key:"vm",get:function(){return this.PD.vm}},{key:"RN",get:function(){return this.PD.RN}},{key:"Vm",get:function(){return this.Mm}},{key:"zm",get:function(){return this.Lm}},{key:"lm",get:function(){return this.PD.lm}},{key:"dm",get:function(){return this.PD.dm}},{key:"wm",get:function(){return this.PD.wm},set:function(t){this.PD.wm=t}},{key:"My",get:function(){return this.zD}},{key:"Uy",get:function(){return this.PD.Uy},set:function(t){this.PD.Uy=t}},{key:"DN",get:function(){return this.FD}}]),i}(Ug);var KT=function(){function t(){this.NN=MT.cD}var n=t.prototype;return n.tR=function(t,n,i,e,r,s){return new ZT(t,n,i,e,r)},n.CN=function(t,n){return function(t){return!t.type||!(!QT().canPlayType||!QT().canPlayType(t.type))}(t)},n.PN=function(){return!1},t}();function JT(t,n){for(var i=0,e=t.L_;i<e.length;i++){var r=e[i];if(r.Qy===n)return r}}var $T=function(){function t(){this.BN=new KT,this.ON=[]}t.xN=function(){return this.jn};var n=t.prototype;return n.LN=function(t){this.ON.push(t)},n.tR=function(t,n,i,e,r,s){for(var u=this.BN.tR(t,n,i,e,r,s),o=0,a=this.ON;o<a.length;o++){u=(0,a[o])(u,i,e)}return u},n.CN=function(t,n){return this.BN.CN(t,n)},n.PN=function(){return!1},A(t,[{key:"NN",get:function(){return this.BN.NN}}]),t}();function tS(t,n){return Cs(t.NN,n.NN)}function nS(t){iS.jn.MN(t)}$T.jn=new $T;var iS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).UN=$T.xN(),n}S(n,t);var i=n.prototype;return i.XN=function(t){this.UN=t},i.HN=function(){return this.UN},i.FN=function(t,n){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=0;case 1:if(!(i<t.length)){a.next=11;break}return e=t[i],a.next=5,Dr.awrap(this.zN(e,n));case 5:if(!(r=a.sent)){a.next=8;break}return a.abrupt("return",{VN:e,WN:r});case 8:i++,a.next=1;break;case 11:s=this.UN,u=0;case 13:if(!(u<t.length)){a.next=20;break}if(o=t[u],!s.CN(o,n)){a.next=17;break}return a.abrupt("return",{VN:o,WN:s});case 17:u++,a.next=13;break;case 20:return a.abrupt("return",{VN:t[0],WN:s});case 21:case"end":return a.stop()}},null,this,null,We)},n}(function(){function t(){this.GN=[]}var n=t.prototype;return n.MN=function(t){this.GN.push(t),this.GN.sort(tS)},n.zN=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.GN;case 1:if(!(i<e.length)){u.next=17;break}if(r=e[i],!j(s=r.CN(t,n))){u.next=10;break}return u.next=7,Dr.awrap(s);case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=Boolean(s);case 11:if(!u.t0){u.next=14;break}return u.abrupt("return",r);case 14:i++,u.next=1;break;case 17:return u.abrupt("return",void 0);case 18:case"end":return u.stop()}},null,this,null,We)},t}());iS.jn=new iS;var eS,rS=function(){function t(t){this.qN=void 0,this.qN=le&&le.document&&le.document.createElement("div"),er(this.qN),t.appendChild(this.qN)}return t.prototype.$c=function(){$e(this.qN)},t}();function sS(t){switch(t){case eS.YN:case"":return eS.YN;case eS.gA:return eS.gA;case eS.jN:default:return eS.jN}}!function(t){t.cD="",t.jN="none",t.gA="metadata",t.YN="auto"}(eS||(eS={}));var uS=[Dg.hg,Tf.Pf,Tf.Tu,Tf.hv,Tf.Af,Tf.Of,Tf.Xf,Tf.Hf,Tf.Zf,Tf.Jf,vm.jg,vm.Qg,vm.Zg,vm.Kg,vm.b_,vm.Jg,vm.$g,Tf.If,Tf.Rf,Tf.Cf,Tf.Bf,Tf.Lf,Tf.Mf,Tf.zf,Tf.Vf,Tf.Ff,Tf.Wf,Tf.qf,Tf.jf,Tf.Yf,Tf.ev,Tf.rv,Tf.Gf,Tf.Uf,Tf.Qf],oS=function(t){function n(n,i){var e;return(e=t.call(this)||this).QN=void 0,e.ZN=void 0,e.KN=void 0,e.JN=void 0,e.LD=eS.jN,e.$N=void 0,e.tC=!0,e.xm=new Ng,e.Lm=new Ng,e.Mm=new Mg,e.Um=new Jm,e.QN=n,e.KN=i,e.KN.xy=e.xy,e.nC(),e}S(n,t);var i=n.prototype;return i.qm=function(){this.KN.qm()},i.Gm=function(){var t=this.KN.Gm();j(t)&&au(t)},i.Ym=function(){return this.Qm(void 0)},i.$m=function(){},i.wy=function(t){return!1},i.nC=function(){this.xm.V_=this.KN.Fm,this.Lm.V_=this.KN.zm,this.Mm.V_=this.KN.Vm,this.Um.V_=this.KN.Wm,this.KN.tu(uS,this.Js)},i.iC=function(){this.KN.au(uS,this.Js),this.xm.V_=void 0,this.Lm.V_=void 0,this.Mm.V_=void 0,this.Um.V_=void 0},i.jm=function(){return this.$N},i.Qm=function(t,n){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(tu(n),this.$N=t,t){a.next=4;break}return a.abrupt("return");case 4:if(!um(i=t.sources.filter(fm))){a.next=7;break}return a.abrupt("return");case 7:return a.next=9,Dr.awrap(this.QN.FN(i,t));case 9:if(e=a.sent,tu(n),r=e.VN,s=e.WN,u=this.vy(),o=xm(this),this.ZN===s&&!this.Au){a.next=25;break}return this.iC(),a.next=19,Dr.awrap(this.KN.$c());case 19:tu(n),this.ZN=s,this.KN=this.eC(s),aS(this.KN,o),Lm(this,o,this),this.nC();case 25:return this.KN.xy=this.xy,this.tC?this.KN.sy():this.KN.uy(),a.next=29,Dr.awrap(this.KN.Qm(r,t,n));case 29:tu(n),this.rC(r),this.vy()!==u&&this.$s(new Hg);case 32:case"end":return a.stop()}},null,this,null,We)},i.rC=function(t){this.JN!==t&&(this.JN=t,this.$s(new Fg(t)))},i.Zm=function(){return this.KN.Zm()},i.Km=function(){this.KN.Km()},i.Jm=function(){this.KN.Jm()},i.vy=function(){return this.KN.vy()},i.py=function(){this.KN.py()},i.wc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$N=void 0,this.rC(void 0),t.next=4,Dr.awrap(this.KN.wc());case 4:case"end":return t.stop()}},null,this,null,We)},i.$c=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ou(),t.next=3,Dr.awrap(this.wc());case 3:return t.next=5,Dr.awrap(this.KN.$c());case 5:this.xm.$c(),this.Lm.$c(),this.Mm.$c(),this.Um.$c();case 9:case"end":return t.stop()}},null,this,null,We)},i.sy=function(){this.tC=!0,this.KN.sy()},i.uy=function(){this.tC=!1,this.KN.uy()},A(n,[{key:"Fm",get:function(){return this.xm}},{key:"by",get:function(){return this.KN.by}},{key:"Au",get:function(){return this.KN.Au}},{key:"um",get:function(){return this.KN.um}},{key:"Ay",get:function(){return this.KN.Ay},set:function(t){this.KN.Ay=t}},{key:"yy",get:function(){return this.JN}},{key:"tm",get:function(){return this.KN.tm},set:function(t){this.KN.tm=t}},{key:"nm",get:function(){return this.KN.nm}},{key:"im",get:function(){return this.KN.im}},{key:"Wm",get:function(){return this.Um}},{key:"Sy",get:function(){return this.KN.Sy}},{key:"Ey",get:function(){return this.KN.Ey}},{key:"hm",get:function(){return this.KN.hm},set:function(t){this.KN.hm=t}},{key:"By",get:function(){return this.KN.By}},{key:"cm",get:function(){return this.KN.cm}},{key:"fm",get:function(){return this.KN.fm},set:function(t){this.KN.fm=t}},{key:"Oy",get:function(){return this.KN.Oy}},{key:"xy",get:function(){return this.LD},set:function(t){this.LD=t,this.KN&&(this.KN.xy=this.LD)}},{key:"wg",get:function(){return this.KN.wg}},{key:"Ly",get:function(){return this.KN.Ly}},{key:"vm",get:function(){return this.KN.vm}},{key:"Vm",get:function(){return this.Mm}},{key:"lm",get:function(){return this.KN.lm}},{key:"zm",get:function(){return this.Lm}},{key:"dm",get:function(){return this.KN.dm}},{key:"wm",get:function(){return this.KN.wm},set:function(t){this.KN.wm=t}},{key:"My",get:function(){return this.KN.My}},{key:"DN",get:function(){return this.KN.DN}}]),n}(du);function aS(t,n){t.hm!==n.hm&&(t.hm=n.hm),t.wm!==n.wm&&(t.wm=n.wm),t.fm!==n.fm&&(t.fm=n.fm)}var hS,cS=function(t){function n(n,i){var e;return(e=t.call(this)||this).M_=void 0,e.sC=void 0,e.uC=void 0,e.M_=n.length>>1,e.sC=n,e.uC=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.M_),e}S(n,t);var i=n.prototype;return i.oC=function(t){return this.sC[2*t]},i.aC=function(t){return this.uC[2*t]},i.hC=function(t){return this.sC[2*t+1]},i.cC=function(t){return this.uC[2*t+1]},A(n,[{key:"fC",get:function(){return this.sC.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Nk=function(t,n){return 0===this.Vk(t,n)},n.mp=function(t,n){return this.Vk(t,n)>0},n.yp=function(t,n){return this.Vk(t,n)>=0},n.jk=function(t,n){return this.Vk(t,n)<0},n.qk=function(t,n){return this.Vk(t,n)<=0},n.Up=function(t,n){return this.jk(t,n)?t:n},n.Mp=function(t,n){return this.mp(t,n)?t:n},n.vC=function(t,n,i){return i?this.qk(t,n):this.jk(t,n)},n.SN=function(){var t=this;return{get length(){return t.M_},start:function(n){var i=0|n;return t.lC(i),t.dC(t.oC(i))},end:function(n){var i=0|n;return t.lC(i),t.dC(t.hC(i))}}},n.wC=function(){for(var t=new Array(2*this.M_),n=new Array(2*this.M_),i=0;i<this.M_;i++)t[2*i]=this.oC(i),t[2*i+1]=this.hC(i),n[2*i]=!0,n[2*i+1]=!0;return this._C(t,n)},n.lC=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.M_)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.M_+")")},n.gC=function(t){if(0===this.M_)return this.mC();if(this.TN(t))return t;if(this.qk(t,this.oC(0)))return this.oC(0);if(this.yp(t,this.hC(this.M_-1)))return this.hC(this.M_-1);for(var n,i=this.yC(),e=0;e<this.M_;e++){var r=this.oC(e),s=this.Yk(r,t);this.jk(s,i)&&(n=r,i=s);var u=this.hC(e),o=this.Yk(this.hC(e),t);this.jk(o,i)&&(n=u,i=o)}return n},n.kC=function(t){for(var n=0,i=0,e=[],r=[];n<this.M_&&i<t.M_;){var s=this.oC(n),u=this.hC(n),o=this.aC(n),a=this.cC(n),h=t.oC(i),c=t.hC(i),f=t.aC(i),v=t.cC(i),l=this.Mp(s,h),d=this.Up(u,c),w=void 0;w=this.Nk(s,h)?o&&f:this.Nk(l,s)?o:f;var _=void 0;_=this.Nk(u,c)?a&&v:this.Nk(d,u)?a:v,(this.jk(l,d)||w&&_&&this.Nk(l,d))&&(e.push(l,d),r.push(w,_));var g=this.Vk(this.hC(n),t.hC(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this._C(e,r)},n.pC=function(){var t=this.bC(),n=t.M_;if(0===n)return this._C([t.AC(),t.yC()],[!1,!1]);var i=[],e=[],r=t.oC(0);t.Nk(r,t.AC())||(i.push(t.AC(),r),e.push(!1,!t.aC(0)));for(var s=0;s<n-1;s++)i.push(t.hC(s),t.oC(s+1)),e.push(!t.cC(s),!t.aC(s+1));var u=t.hC(n-1);return t.Nk(u,t.yC())||(i.push(u,t.yC()),e.push(!t.cC(n-1),!1)),t._C(i,e)},n.TC=function(t){for(var n=0,i=0,e=this.M_,r=t.M_,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var a=this.oC(n),h=this.hC(n),c=t.oC(i),f=t.hC(i);this.jk(a,c)||this.Nk(a,c)&&this.jk(h,f)?(s[o]=a,s[o+1]=h,u[o]=this.aC(n),u[o+1]=this.cC(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.aC(i),u[o+1]=t.cC(i),i++),o+=2}for(;n<e;)s[o]=this.oC(n),s[o+1]=this.hC(n),u[o]=this.aC(n),u[o+1]=this.cC(n),n++,o+=2;for(;i<r;)s[o]=t.oC(i),s[o+1]=t.hC(i),u[o]=t.aC(i),u[o+1]=t.cC(i),i++,o+=2;return this._C(s,u)},n.SC=function(t){void 0===t&&(t=this.mC());var n=this.M_;if(n<2)return this;for(var i=[],e=[],r=this.oC(0),s=this.hC(0),u=this.aC(0),o=this.cC(0),a=1;a<n;a++){var h=this.oC(a),c=this.hC(a),f=this.aC(a),v=this.cC(a);this.jk(r,h)&&this.mp(s,c)||(this.Nk(r,h)&&(u=f=u||f),this.Nk(s,c)&&(o=v=o||v),this.vC(h,this.Hy(s,t),o||f)?(s=c,o=v):(i.push(r,s),e.push(u,o),r=h,s=c,u=f,o=v))}return i.push(r,s),e.push(u,o),this._C(i,e).bC()},n.bC=function(){for(var t=[],n=[],i=0;i<this.M_;i++){var e=this.oC(i),r=this.hC(i),s=this.aC(i),u=this.cC(i);this.Nk(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this._C(t,n)},n.EC=function(t){return this.M_?t.M_?this.TC(t).SC():this:t},n.IC=function(t){var n=this.bC(),i=t.bC(),e=n.pC(),r=i.pC(),s=e.kC(i),u=r.kC(n);return s.EC(u)},n.Mu=function(t){if(this.Nk(t,this.mC()))return this;for(var n=[],i=[],e=0;e<this.M_;e++){var r=this.Hy(this.oC(e),t),s=this.Hy(this.hC(e),t);n.push(r,s),i.push(this.aC(e),this.cC(e))}return this._C(n,i)},n.RC=function(t){return 0===this.M_||0===t.M_?this:this.bC().kC(t.bC().pC())},n.TN=function(t,n){return this.DC(t,n)>=0},n.NC=function(t,n,i,e,r){return this.BC(t,n,i,e,r)>=0},n.OC=function(t,n,i,e,r){return this.xC(t,n,i,e,r)>=0},n.LC=function(t){if(t.M_!==this.M_)return!1;for(var n=0;n<this.M_;n++)if(!this.Nk(this.oC(n),t.oC(n))||!this.Nk(this.hC(n),t.hC(n))||this.aC(n)!==t.aC(n)||this.cC(n)!==t.cC(n))return!1;return!0},n.MC=function(t){for(var n=[],i=[],e=0;e<this.M_;e++){var r=this.oC(e),s=this.hC(e),u=this.aC(e),o=this.cC(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this._C(n,i)},n.xC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.mC());for(var s=this.Jk(t,r),u=this.Hy(n,r),o=0;o<this.M_;o+=1)if(this.vC(this.oC(o),u,!e||this.aC(o))&&this.vC(s,this.hC(o),!i||this.cC(o)))return o;return-1},n.BC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.mC());for(var s=this.Hy(t,r),u=this.Jk(n,r),o=0;o<this.M_;o+=1)if(this.vC(this.oC(o),s,!i||this.aC(o))&&this.vC(u,this.hC(o),!e||this.cC(o)))return o;return-1},n.DC=function(t,n){return this.BC(t,t,!0,!0,n)},n.UC=function(t,n){void 0===n&&(n=this.mC());for(var i=this.Hy(t,n),e=this.M_-1;e>=0;e-=1)if(this.vC(this.oC(e),i,this.aC(e)))return e;return-1},n.XC=function(t,n){void 0===n&&(n=this.mC());for(var i=this.Jk(t,n),e=0;e<this.M_;e+=1)if(this.vC(i,this.hC(e),this.cC(e)))return e;return-1},n.HC=function(t){return this.lC(t),this._C([this.oC(t),this.hC(t)],[this.aC(t),this.cC(t)])},n.FC=function(t,n){var i=this.DC(t,n);return i<0?void 0:this.HC(i)},A(t,[{key:"zC",get:function(){for(var t=this.mC(),n=0;n<this.M_;n++){var i=this.Jk(this.hC(n),this.oC(n));t=this.Hy(t,i)}return t}}]),t}()),fS=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.Vk=function(t,n){return t<n?Ss.Bs:t===n?Ss.Cs:Ss.Ps},i.Hy=function(t,n){return t+n},i.Jk=function(t,n){return t-n},i.Yk=function(t,n){return w.abs(t-n)},i.mC=function(){return 0},i.yC=function(){return 1/0},i.AC=function(){return-1/0},n.VC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.WC=function(t){for(var i=[],e=[],r=0;r<t.M_;r++)i.push(t.oC(r).Fp),i.push(t.hC(r).Fp),e.push(t.aC(r)),e.push(t.cC(r));return new n(i,e)},n.GC=function(t){return new n([t,t],[!0,!0])},i._C=function(t,i){return new n(t,i)},i.dC=function(t){return t},n.qC=function(){return vS},n}(cS),vS=new fS([]);!function(t){t.k_="fullscreenchange",t.YC="fullscreensupportchange",t.hg="fullscreenerror"}(hS||(hS={}));var lS=function(t){function n(){return t.call(this,hS.hg)||this}return S(n,t),n}(_u),dS=new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.nk=function(){this.$s(new lS)},i.rk=function(){},i.$c=function(){this.ou()},A(n,[{key:"jC",get:function(){return!1}},{key:"QC",get:function(){return!1}}]),n}(du)),wS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).CD=void 0,n.PD=void 0,n}S(n,t);var i=n.prototype;return i.oy=function(){var t;return null==(t=this.PD)?void 0:t.sN},i.$c=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.prototype.$c.call(this));case 2:if(!this.PD){n.next=6;break}return n.next=5,Dr.awrap(this.CD.bN(this.PD));case 5:this.PD=void 0;case 6:case"end":return n.stop()}},null,this,null,We)},A(n,[{key:"ZC",set:function(t){this.CD=t,this.PD=t.rN(ry.Pd)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).KC=0,n.JC=!1,n.$C=!0,n.tP=1,n.nP=!1,n.Ba=1,n.Fm=new sy,n.by=fS.qC().SN(),n.nm=NaN,n.im=!1,n.Au=void 0,n.um=void 0,n.Wm=void 0,n.Sy=!1,n.By=!0,n.Oy=fS.qC().SN(),n.xy=eS.jN,n.wg=jg.Vg,n.Ly=fS.qC().SN(),n.RN=void 0,n.Vm=new Bp,n.lm=0,n.zm=new sy,n.dm=0,n.My=new jT,n.FD=new zT,n}S(n,t);var i=n.prototype;return i.sy=function(){},i.uy=function(){},i.Gm=function(){this.$C&&(this.$C=!1,this.$s(new wm(this.tm)),this.$s(new gb(this.tm)))},i.qm=function(){this.$C||(this.$C=!0,this.$s(new km(this.tm,this.Ay)),this.$s(new dm(this.tm)))},i.Qm=function(t,n){return We.resolve()},i.Zm=function(){return!1},i.Km=function(){},i.Jm=function(){},i.vy=function(){return dS},i.py=function(){},i.wc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.KC=0,this.nP=!1,this.qm(),this.$s(new lm(this.KC));case 4:case"end":return t.stop()}},null,this,null,We)},i.$c=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.ou(),this.Fm.$c(),this.Vm.$c(),this.zm.$c();case 4:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"Ay",get:function(){},set:function(t){}},{key:"tm",get:function(){return this.KC},set:function(t){this.KC!==t&&(this.KC=t,this.nP=!0,this.$s(new Am(this.tm)))}},{key:"Ey",get:function(){return{Iy:0,Ry:0,Dy:0,Ny:0,Cy:0,Py:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"hm",get:function(){return this.JC},set:function(t){this.JC!==t&&(this.JC=t,this.$s(new Sm(this.tm,this.wm)))}},{key:"cm",get:function(){return this.$C}},{key:"fm",get:function(){return this.tP},set:function(t){this.tP!==t&&(this.tP=t,this.$s(new ym(this.tm,this.fm)))}},{key:"vm",get:function(){return this.nP}},{key:"wm",get:function(){return this.Ba},set:function(t){this.Ba!==t&&(this.Ba=t,this.$s(new Sm(this.tm,this.wm)))}},{key:"Uy",get:function(){return!1},set:function(t){}},{key:"DN",get:function(){return this.FD}}]),n}(du)),_S=function(t){function n(n,i,e,r,s,u){var o,a=new wS;return(o=t.call(this,iS.jn,a)||this).Mc=void 0,o.iP=void 0,o.eP=void 0,o.rP=void 0,o.qE=void 0,o.sP=void 0,o.uP=void 0,o.eP=n,o.Mc=i,o.qE=e,o.sP=r,o.rP=u,o.iP=new ce(s,o.rP),o.iP.oP(o.eP),a.ZC=o.iP,o.uP=new rS(o.eP),o}S(n,t);var i=n.prototype;return i.$m=function(){t.prototype.$m.call(this),this.iP.aP()},i.iy=function(t){var n,i,e,r;n=this,e=(i=t).wm,r=i.hm,n.wm=e,n.hm=r},i.ey=function(){},i.eC=function(t){return t.tR(this.eP,this.iP,this.qE,this.Mc,this.sP,this.rP)},i.oy=function(){return this.KN.oy()},i.ly=function(){return this.iP.hP.map(function(t){return t.sN})},i.uu=function(n){t.prototype.uu.call(this,n)},i.du=function(n){t.prototype.du.call(this,n)},i.$c=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.prototype.$c.call(this));case 2:this.iP.$c(),this.uP.$c();case 4:case"end":return n.stop()}},null,this,null,We)},A(n,[{key:"Ty",get:function(){return this.eP}},{key:"Uy",get:function(){return this.KN.Uy},set:function(t){this.KN.Uy=t}}]),n}(oS),gS=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).eP=void 0,r.cP=void 0,r.fP=void 0,r.vP=void 0,r.lP=void 0,r.zD=new jT,r.eP=n,r.cP=i,r.vP=new sy,r.lP=new Bp,r.fP=e,r}S(n,t);var i=n.prototype;return i.wy=function(t){return!0},i.uy=function(){},i.Gm=function(){throw this.$s(new Dm(this.fP)),this.cP},i.qm=function(){},i.jm=function(){},i.Qm=function(t,n){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw tu(n),this.$s(new Dm(this.fP)),this.cP;case 3:case"end":return t.stop()}},null,this,null,We)},i.sy=function(){},i.Ym=function(){return We.resolve()},i.oy=function(){},i.vy=function(){return dS},i.ly=function(){return[]},i.$m=function(){},i.iy=function(t){},i.ey=function(){},i.Zm=function(){return!1},i.Km=function(){},i.Jm=function(){},i.py=function(){},i.wc=function(){return We.resolve()},i.$c=function(){return this.ou(),this.vP.$c(),this.lP.$c(),We.resolve()},A(n,[{key:"Fm",get:function(){return this.vP}},{key:"by",get:function(){return fS.qC().SN()}},{key:"Ay",get:function(){return new Date(NaN)},set:function(t){}},{key:"yy",get:function(){}},{key:"tm",get:function(){return 0},set:function(t){}},{key:"nm",get:function(){return 0}},{key:"Ty",get:function(){return this.eP}},{key:"im",get:function(){return!0}},{key:"Au",get:function(){return this.cP}},{key:"um",get:function(){return this.fP}},{key:"Wm",get:function(){}},{key:"Ey",get:function(){return{Iy:0,Ry:0,Dy:0,Ny:0,Cy:0,Py:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"hm",get:function(){return!1},set:function(t){}},{key:"By",get:function(){return!0}},{key:"cm",get:function(){return!0}},{key:"fm",get:function(){return 0},set:function(t){}},{key:"Oy",get:function(){return fS.qC().SN()}},{key:"xy",get:function(){return eS.jN},set:function(t){}},{key:"wg",get:function(){return jg.Vg}},{key:"Ly",get:function(){return fS.qC().SN()}},{key:"vm",get:function(){return!1}},{key:"Vm",get:function(){return this.lP}},{key:"lm",get:function(){return 0}},{key:"zm",get:function(){return this.vP}},{key:"dm",get:function(){return 0}},{key:"wm",get:function(){return 1},set:function(t){}},{key:"My",get:function(){return this.zD}},{key:"Uy",get:function(){return!1},set:function(t){}},{key:"Sy",get:function(){return!1}}]),n}(Xg);function mS(t){if(t&&W(t))return Nr({},t,{integration:yS(t.integration),fairplay:SS(t.fairplay),widevine:kS(t.widevine),playready:pS(t.playready),clearkey:ES(t.clearkey),aes128:IS(t.aes128),integrationParameters:RS(t.integrationParameters),preferredKeySystems:DS(t.preferredKeySystems)})}function yS(t){if(q(t))return t}function kS(t){if(t&&W(t))return{persistentState:bS(t.persistentState),distinctiveIdentifier:bS(t.distinctiveIdentifier),audioRobustness:AS(t.audioRobustness),videoRobustness:AS(t.videoRobustness),licenseAcquisitionURL:q(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:TS(t.licenseType),headers:t.headers,useCredentials:!!Y(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:q(t.certificate)||Mo(t.certificate)?t.certificate:void 0}}function pS(t){if(t){var n=kS(t);if(n)return Nr({},n,{customData:q(t.customData)?t.customData:void 0})}}function bS(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function AS(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function TS(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function SS(t){if(t){var n=kS(t);if(n)return Nr({},n,{certificateURL:q(t.certificateURL)?t.certificateURL:void 0})}}function ES(t){if(t){var n=kS(t);if(n)return Nr({},n,{keys:z(t.keys)?t.keys.map(function(t){return function(t){if(!t||!W(t))return;var n=t.id,i=t.value;if(!q(n)||!q(i))return;return{id:n,value:i}}(t)}).filter(H):void 0})}}function IS(t){if(W(t))return{useCredentials:Y(t.useCredentials)?t.useCredentials:void 0}}function RS(t){if(W(t))return t}function DS(t){return t&&z(t)?t.map(function(t){return dA(t)}).filter(H):[Kr,jr,ns]}var NS,CS=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return S(n,t),n}(_u),PS=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).dP=[],e.wP=void 0,e._P=function(t){ou(function(){e.Js(t)})},e.wP=i?e._P:e.Js,e}S(n,t);var i=n.prototype;return i.gP=function(t){t.uu(this.wP),this.dP.push(t)},i.mP=function(t){t.du(this.wP),Us(this.dP,t)},i.$c=function(){this.ou();for(var t=0,n=this.dP;t<n.length;t++){n[t].du(this.wP)}Fs(this.dP)},n}(Ug),BS=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(PS);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(NS||(NS={}));var OS,xS=function(t){function i(n){var i;return(i=t.call(this)||this).yP=void 0,i.kP=void 0,i.pP=!1,i.bP=!1,i.AP=void 0,i.TP=void 0,i.SP=void 0,i.u_=void 0,i.EP=function(){return i.IP()},i.RP=function(){return i.DP()},i.SP=n,i.yP=i.kP=i.AP=i.TP=NS.INLINE,i.SP.tu(hS.k_,i.EP),i.SP.tu(hS.hg,i.RP),i.NP(),i}S(i,t);var e=i.prototype;return e.a_=function(){return t=this,i={get currentMode(){return t.CP()},requestMode:function(n){var i=MS(n);i&&t.PP(i)},supportsMode:function(n){var i=MS(n);return!!i&&t.BP(i)},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.au(t,i)}},(n=new PS(i,!0)).gP(t),i;var t,n,i},e.PP=function(t){this.OP(t,t)},e.OP=function(t,n){this.kP!==n&&(this.pP=!0,this.yP=t,this.xP(n,this.kP),t!==NS.FULLSCREEN&&(this.AP=t),this.pP=!1,this.NP())},e.CP=function(){return this.bP?NS.FULLSCREEN:NS.INLINE},e.BP=function(t){switch(t){case NS.FULLSCREEN:return this.SP.QC;case NS.INLINE:return!0}return!1},e.NP=function(){if(!this.pP){var t=this.kP,n=this.CP();this.kP=n,n!==NS.FULLSCREEN&&(this.TP=n),t!==n&&this.$s(new CS(n))}},e.xP=function(t,n){var i=t===NS.FULLSCREEN;this.bP=i,i!==this.SP.jC&&(i?this.SP.nk():this.SP.rk())},e.IP=function(){if(!this.pP){var t=this.SP.jC;this.bP=t,t?this.OP(NS.FULLSCREEN,NS.FULLSCREEN):t||this.yP!==NS.FULLSCREEN?this.NP():this.OP(this.AP,this.TP)}},e.DP=function(){this.IP(),this.$s(new Dm(new tf(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.$c=function(){this.SP.$c(),this.ou()},A(i,[{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}}]),i}(Ug),LS={tm:0,nm:NaN,im:!1,Au:void 0,um:void 0,hm:!1,cm:!0,fm:1,wg:jg.Vg,vm:!1,lm:0,dm:0,wm:1};function MS(t){switch(t){case NS.INLINE:case NS.FULLSCREEN:case NS.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor"}(OS||(OS={}));var US,XS,HS,FS,zS,VS,WS,GS,qS=function(){function t(){this.LP=[]}var n=t.prototype;return n.MP=function(t){var n=this.UP.filter(function(n){return n.XP(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.HP=function(t){this.LP.push(t)},A(t,[{key:"UP",get:function(){return this.LP}}]),t}();qS.jn=new qS,function(t){t.$g="PLAYING",t.Cm="PAUSED",t.FP="SEEK",t.zP="STALLED",t.VP="FAILED",t.WP="INITIAL_BUFFERING",t.GP="NO_ACCESS"}(US||(US={})),function(t){t.qP="HTTP_REQUEST_STATUS_CODE_1XX",t.YP="HTTP_REQUEST_STATUS_CODE_2XX",t.jP="HTTP_REQUEST_STATUS_CODE_3XX",t.QP="HTTP_REQUEST_STATUS_CODE_4XX",t.ZP="HTTP_REQUEST_STATUS_CODE_5XX",t.KP="BUFFER_LENGTH",t.JP="BYTES_RECEIVED",t.$P="SEGMENT_READ_BITRATE",t.tB="SEGMENT_PROFILE_BITRATE",t.nB="NUMBER_OF_FRAMES_DROPPED",t.iB="PLAYBACK_POSITION",t.eB="NUMBER_OF_FRAMES_DECODED",t.rB="PLAYBACK_DELTA_TO_ORIGIN",t.sB="STREAM_DELTA_TO_ORIGIN",t.uB="ORIGIN_TIMESTAMP"}(XS||(XS={})),function(t){t.oB="MANIFEST_URI",t.aB="ASSET_DURATION",t.hB="NUMBER_OF_CONTENT_PROFILES",t.cB="CDN",t.fB="CONTENT_TITLE",t.vB="SERVICE_NAME",t.lB="CONTENT_TYPE",t.dB="CONTENT_DESCRIPTION"}(HS||(HS={})),function(t){t.wB="shutdown_normal_shutdown"}(FS||(FS={})),function(t){t._B="session/",t.gB="internalError/",t.mB="drmError/",t.yB="caError/",t.kB="networkError/"}(zS||(zS={})),function(t){t.pB="userAction",t.bB="endOfStreamReached"}(VS||(VS={})),function(t){t.PAUSE="AB",t.RESUME="TB"}(WS||(WS={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(GS||(GS={}));var YS,jS,QS,ZS,KS,JS,$S="agama";function tE(t){return function(t){switch(t){case YS.NONE:case YS.HORIZONTAL:case YS.VERTICAL:return!0;default:return!1}}(t)?t:YS.NONE}function nE(t){switch(t){case"":return YS.NONE;case"horizontal":return YS.HORIZONTAL;case"vertical":return YS.VERTICAL;default:throw new l}}function iE(t,n){if(n)return jS.PM360;if(null==t)return jS.NONE;switch(t){case"":return jS.NONE;case"360":return jS.PM360;case"180":return jS.PM180;default:throw new l("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}function eE(t){var n,i;return{useSeamlessPeriodSwitch:function(t){if(!t||!q(t))return QS.YN;switch(t){case"always":return QS.SB;case"never":return QS.EB;case"clear-only":return QS.CLEAR_ONLY;case"same-drm-only":return QS.SAME_DRM_ONLY;default:return QS.YN}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:null==t?void 0:t.needsTimescaleShifting,desiredTimescale:null!=(n=null==t?void 0:t.desiredTimescale)?n:void 0,forceSeekToSynchronize:null!=(i=null==t?void 0:t.forceSeekToSynchronize)?i:void 0}}function rE(t){if(!t||!q(t))return ZS.YN;switch(t){case"playlist":return ZS.IB;case"media":return ZS.RB;default:return ZS.YN}}function sE(t,n){return t.length>0?t:n.length>0?n:void 0}function uE(t){if(null!==t)return t}function oE(t){var n={};if(!W(t))return n;var i=t;for(var e in i)if(d.prototype.hasOwnProperty.call(i,e)){var r=i[e];q(r)&&(n[e]=r)}return n}function aE(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:uE(t.streamActivityMonitorID),adTagParameters:W(t.adTagParameters)?t.adTagParameters:{},authToken:uE(t.authToken),omidAccessModeRules:t.omidAccessModeRules?oE(t.omidAccessModeRules):void 0};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,s=t.contentSourceID;return r?s?Nr({},e,{availabilityType:"vod",videoID:r,contentSourceID:s}):void i.Tr("A VOD DAI configuration was provided without valid contentSourceID which is required."):void i.Tr("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Nr({},e,{availabilityType:"live",assetKey:u}):void i.Tr("A Live DAI configuration was provided without valid assetKey which is required.")}i.Tr("A DAI configuration was provided without a valid availabilityType which is required.")}function hE(t){if(!uA(t)||!t.integration)return t;switch(t.integration){case Rb:return n=t,i=lA(zr.fs,n),e=lA(zr.hs,n),r=n[zr.ls]&&lA(zr.ls,n),Nr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(YS||(YS={})),function(t){t.NONE="",t.PM360="360",t.PM180="180"}(jS||(jS={})),function(t){t.YN="auto",t.SB="always",t.EB="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only"}(QS||(QS={})),function(t){t.YN="auto",t.IB="playlist",t.RB="media"}(ZS||(ZS={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(KS||(KS={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(JS||(JS={}));var cE="https://content.uplynk.com";function fE(t){if(!t)return!0;var n,i,e=!(sm(n=t.sources)||V(n)&&sm(n[0]))||um(t.sources),r=!t.ads||(!(i=t.ads)||z(i)&&0===i.length),s=""!==t.poster&&!t.poster;return e&&r&&s}function vE(t){if(t&&t.sources)return function t(n){if(q(n))return n;if(em(n))return n.src;if(V(n)&&n.length>0)return t(n[0]);return}(t.sources)}function lE(t,n,i){return nm(t)?function(t,n,i){var e=Nr({},om(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:KS.VERIZON_MEDIA,id:"",prefix:cE,preplayParameters:{},playbackUrlParameters:{},assetType:JS.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,q(r)?r:V(r)&&q(r[0])?r:W(s=r)&&q(s.userId)&&(V(s.externalId)||q(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return JS.CHANNEL;case"event":return JS.EVENT;case"asset":default:return JS.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=_g(t.contentProtected));t.assetInfo?e.assetInfo=_g(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=yg(t.prefix)||cE);return e.ping=(u=e.assetType,o=t.ping,a=!1,h=!1,c=!1,o?(a=!!Y(o.adImpressions)&&o.adImpressions,h=!!Y(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=Y(o.linearAdData)?o.linearAdData:u!==JS.ASSET):u!==JS.ASSET&&(c=!0),{adImpressions:a,freeWheelVideoViews:h,linearAdData:c}),e=wE(e=_E(e=dE(e,t),n,i),t,i);var u,o,a,h,c}(t,n,i):function(t,n,i){var e=am(),r=n&&(n.contentProtection||n.drm);if(q(t)){if(e.src=t,e.type=Kg(t),r){var s=mS(r);e.contentProtection=hE(s)}}else if(em(t)||tm(t)){e.src=t.src,e.type=t.type||Kg(t.src),e.isAdvertisement=t.isAdvertisement;var u=rm(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=W(c=t)&&q(c.integration)&&"mediatailor"===c.integration;o&&(e.integration=t.integration);var a=t.contentProtection||t.drm||r,h=mS(a);e.contentProtection=hE(h),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return aE(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=dE(e,t)}var c;return e=wE(e=_E(e,n,i),t,i)}(t,n,i)}function dE(t,n){var i,e;n.useCredentials?t.crossOrigin=Wg.zg:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case Wg.Fg:case Wg.zg:return t;default:return Wg.Hg}}(n.crossOrigin)),q(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=_g(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=_g(n.useNativePlayback)),n.dash&&(t.dash=eE(n.dash)),n.hls&&(t.hls={discontinuityAlignment:rE(null==(i=n.hls)?void 0:i.discontinuityAlignment),useLegacy:(e=null==i?void 0:i.useLegacy,H(e)?Boolean(e):void 0)}),n.lcevc&&(t.lcevc=_g(n.lcevc));var r=void 0!==n.experimentalRendering?_g(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var s=void 0!==n.nativeUiRendering?_g(n.nativeUiRendering):void 0;return void 0!==s&&(t.nativeUiRendering=s),t}function wE(t,n,i){return t.abr=function(t,n){var i=kg(null==t?void 0:t.preferredAudioCodecs,yg),e=kg(null==t?void 0:t.preferredVideoCodecs,yg),r=kg(null==n?void 0:n.preferredAudioCodecs,yg),s=kg(null==n?void 0:n.preferredVideoCodecs,yg),u=sE(i,r),o=sE(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}(q(n)?void 0:n.abr,null==i?void 0:i.abr),t}function _E(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!H(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!H(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===Wg.Hg&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=Wg.Fg),t.useCredentials=t.crossOrigin===Wg.zg,q(r)&&!t.timeServer&&(t.timeServer=r),t}function gE(t){var n={src:""};if(t&&t.src){if(n.src=yg(t.src),"default"in t&&(n.default=_g(t.default)),n.kind=xp(t.kind),function(t){switch(t){case ky.DEFAULT:case ky.SRT:case ky.TTML:case ky.WEBVTT:case ky.EMSG:case ky.EVENT_STREAM:case ky.ID3:case ky.CEA608:case ky.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function mE(t,n){if(G(t))try{return n.MP(t).DB(t)}catch(t){return}}function yE(t){return q(t.sources)&&""!==t.sources||W(t.sources)&&q(t.sources.src)}function kE(t){return t.integration===OS.SPOTX&&!m(t.id)}function pE(t){return"freewheel"===t.integration}function bE(t,n,i){if(void 0===i&&(i=qS.jn),fE(t))return{sources:[am()]};var e=vg(t);if(e.sources=function(t,n,i){if(sm(t))return[lE(t,n,i)];if(V(t)&&sm(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(lE(s,n,i))}return e}return[am()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!V(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=mE(s,n))&&(yE(s)||kE(s)||pE(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,a=!um(e.sources),h=e.ads&&e.ads.length>0;if(a&&!h?delete e.ads:h&&!a&&(e.sources=[]),"textTracks"in e){var c=function(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=gE(r)).src&&n.push(r)}return n}(e.textTracks);0===c.length?delete e.textTracks:e.textTracks=c}if("poster"in e&&(e.poster=yg(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=tE(u.stereoMode),{panoramaMode:iE(u.panoramaMode,Boolean(u[360])),stereoMode:u.stereoMode?nE(u.stereoMode):YS.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=cm(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=vg(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==$S&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Bm(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=gg(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var AE=function(){function t(t){this.NB=t}return t.prototype.CB=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";var h=t.length%4;if(h>0)for(;h++<4;)t+=this.NB.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.NB.indexOf(t.charAt(n))<<18|this.NB.indexOf(t.charAt(n+1))<<12|(s=this.NB.indexOf(t.charAt(n+2)))<<6|(u=this.NB.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.PB=function(t,n){var i,e,r,s,u,o,a,h=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.NB.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,h[o/3]=this.NB.charAt(e)+this.NB.charAt(r)+this.NB.charAt(s)+this.NB.charAt(u);return a=(a=h.join("")).slice(0,a.length-c.length),n||(a+=c),a},t.bb=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.BB=new t(t.bb.CB("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function TE(t){return"string"==typeof t}function SE(t){return"number"==typeof t}var EE={}.toString;var IE,RE=Array.isArray||function(t){return"[object Array]"===EE.call(t)};function DE(t,n){return RE(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(IE||(IE={}));var NE,CE=d.keys(IE).map(function(t){return IE[t]});function PE(t){return-1!==CE.indexOf(t)}!function(t){t.HESP="hesp",t.MULTIVIEW="multiview"}(NE||(NE={}));var BE,OE=d.keys(NE).map(function(t){return NE[t]});function xE(t){return-1!==OE.indexOf(t)}function LE(t){try{var n=AE.BB.CB(t),i=JSON.parse(n);if(!function(t,n){var i,e=(l=t,"object"==typeof l&&null!==l),r=TE(t.key),s=TE(t.customer_id),u=SE(t.generation_date),o=SE(t.expiration_date),a=DE(t.domains_page,TE),h=DE(t.domains_source,TE),c=DE(t.sdks,n?PE:TE),f=(v=t.send_impression,"boolean"==typeof v);var v;var l;t.features?i=DE(t.features,n?xE:TE):(i=!0,t.features=[]);if(!(e&&r&&s&&u&&o&&a&&h&&c&&f&&i))return!1;return!0}(i,!1))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function ME(){return BE||(BE={wd:de.href,OB:le.parent&&le.parent!==r,xB:HE()}),BE}var UE,XE=["http:","https:","ftp:","ws:","wss:"];function HE(){try{return le.top.location.href}catch(t){return le&&le.document&&le.document.referrer}}!function(t){t[t.LB=0]="LB",t[t.MB=1]="MB",t[t.UB=2]="UB"}(UE||(UE={}));var FE,zE=function(t,n,i,e,r,s,u,o,a){void 0===r&&(r=[]),void 0===s&&(s=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.XB=t,this.HB=n,this.FB=i,this.zB=e,this.VB=r,this.WB=s,this.GB=u,this.qB=o,this.YB=a};!function(t){t.MB="expired",t.jB="invaliddomain",t.QB="invalidsource",t.ZB="invalidfeature",t.hg="error"}(FE||(FE={}));var VE=function(){function t(t,n,i){this.KB=void 0,this.JB=t,this.$B=n,this.$o=i,this.KB=QE(this.$o)}var n=t.prototype;return n.tO=function(t,n){var i=[];sm(t.sources)?i=[t.sources]:V(t.sources)&&(i=t.sources),this.nO(t,i,n),this.iO(i,n)},n.nO=function(t,n,i){var e=this;if(!fE(t)&&0!==i.FB.length&&!qE(i.FB)&&!n.every(function(t){return e.eO(t,i)})){var r=FE.QB,s=KE.rO(r);throw new tf(WE(r),s)}},n.iO=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];em(e)&&rm(e)&&this.sO([NE.HESP],n)}},n.uO=function(n){return this.oO(n.qB)&&this.aO(n)?t.hO(n.zB)?UE.LB:UE.MB:UE.UB},n.sO=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(!Hs(n.VB,e)){var r=FE.ZB,s=KE.cO(r,e);throw new tf(WE(r),s)}}},n.oO=function(t){var n=this;return 0===t.length||t.some(function(t){return n.fO(t)})},n.fO=function(t){return"ios"===function(t){switch(t){case IE.ANDROID:return e.g;case IE.ANDROIDTV:case IE.FIRETV:return e.I;case IE.IOS:return e.R;case IE.TVOS:return e.N;case IE.CHROMECAST:case IE.CHROMECASTCAF:return e.U;default:return e.l}}(t)},t.hO=function(t){var n=Number(new Date);return!!t&&n<=t},n.aO=function(t){return!(this.KB&&0!==t.HB.length&&!qE(t.HB))||!!(this.KB&&this.vO(t.HB)&&this.lO(t.HB))},n.vO=function(t){return YE(this.$o.wd,t)},n.lO=function(t){if(!this.$o.OB)return!0;if(this.JB)return!0;var n=this.dO();return!!n&&YE(n,t)},n.dO=function(){if(this.$o.OB){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.$o.xB?this.$o.xB:void 0}},n.eO=function(n,i){return!!t.wO(n,i.FB)},t.wO=function(t,n){return YE(this._O(t),n)},t._O=function(t){return q(t)?t:em(t)&&t.src||""},t}();function WE(t){switch(t){case FE.jB:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case FE.QB:return n.ErrorCode.LICENSE_INVALID_SOURCE;case FE.MB:return n.ErrorCode.LICENSE_EXPIRED;case FE.ZB:return n.ErrorCode.LICENSE_INVALID_FEATURE;case FE.hg:return n.ErrorCode.LICENSE_ERROR}}function GE(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),a=e.match(o),h=function(t){return"*"===t?"("+s+")":t};if(null!==a&&5===a.length){var c=new RegExp("^"+a[1]+r+h(a[2])+r+h(a[3])+r+h(a[4])+"$");return null!==i.match(c)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function qE(t){return t.some(function(t){return"*"===t})}function YE(t,n){var e=i.Mr(t);if(!jE(e))return!0;for(var r=0;r<n.length;r++){var s=n[r];if(GE(e.hostname,s))return!0;if(GE(dw(t),s))return!0}return!1}function jE(t){return-1!==XE.indexOf(t.protocol)}function QE(t){var n=i.Mr(t.wd);return jE(n)&&!GE(n.hostname,"localhost")&&!function(t){return GE(t.hostname,"theoplayer.doubleclick.net")}(n)}var ZE,KE=function(){function t(){}return t.cO=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.rO=function(t){return t===FE.jB?this.gO:t===FE.QB?this.mO:t===FE.MB?this.yO:t===FE.ZB?this.kO:this.pO},t}();function JE(t){var n=[t.GS,t.bO,t.AO];switch(t.bO){case ZE.TO:n.push(t.yg);break;case ZE.SO:n.push(t.tm),n.push(t.Au);break;case ZE.EO:n.push(t.Au)}return n}KE.pO="The license for this player is invalid.",KE.yO="The usage license for this video player has expired.",KE.gO="The current domain is incompatible with the license for this player.",KE.mO="The provided video source is incompatible with the license for this player.",KE.kO="The requested feature is not available with the license for this player.",function(t){t[t.TO=1]="TO",t[t.SO=4]="SO",t[t.EO=5]="EO"}(ZE||(ZE={}));for(var $E=new Array(256),tI=0;tI<256;tI+=1)$E[tI]=(tI<16?"0":"")+tI.toString(16);function nI(){var t=Vt(),n=(4294967296*w.random()|0)+t&3029421624,i=(4294967296*w.random()|0)+t&3595553209,e=(4294967296*w.random()|0)+t&1130486254,r=(4294967296*w.random()|0)+t&1284287105;return $E[255&n]+$E[n>>>8&255]+$E[n>>>16&255]+$E[n>>>24&255]+"-"+$E[255&i]+$E[i>>>8&255]+"-"+$E[i>>>16&15|64]+$E[i>>>24&255]+"-"+$E[63&e|128]+$E[e>>>8&255]+"-"+$E[e>>>16&255]+$E[e>>>24&255]+$E[255&r]+$E[r>>>8&255]+$E[r>>>16&255]+$E[r>>>24&255]}var iI=function(){function t(t){this.NB=void 0,this.NB=t}var n=t.prototype;return n.CB=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.NB.indexOf(t.charAt(n))<<18|this.NB.indexOf(t.charAt(n+1))<<12|(s=this.NB.indexOf(t.charAt(n+2)))<<6|(u=this.NB.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.PB=function(t){var n,i,e,r,s,u,o,a=[],h="";if((u=t.length%3)>0)for(;u++<3;)h+=this.NB.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,a[u/3]=this.NB.charAt(i)+this.NB.charAt(e)+this.NB.charAt(r)+this.NB.charAt(s);return(o=a.join("")).slice(0,o.length-h.length)+h},t}();function eI(){return i.wr()}iI.bb=new iI(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),iI.BB=new iI(iI.bb.CB("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var rI,sI="theoplayer-session-id";function uI(){if(!rI){var t=kf.Cu(sI);t?rI=t:(rI=nI(),kf.pf(sI,rI))}return rI}var oI=/[^\x00-\x7E]/g;function aI(t){return"\\u"+gs(t.charCodeAt(0).toString(16),4,"0")}var hI=0,cI=1,fI=6e4;function vI(t){var n,i,e,r,s,u=(n=function(t){return[t.IO,t.uc,t.XB,t.qA,t.RO,t.DO,t.CO.map(JE)]}(t),i=[],e=n,r=function(t,n){if(W(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(oI,aI));return iI.BB.PB(u)}var lI=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=iI.bb),void 0===r&&(r=hI),void 0===s&&(s=cI),this.PO=[],this.BO=null,this.OO=0,this.xO="unknown",this.qa=0,this.LO=void 0,this.MO=function(){eI()-u.OO>fI&&u.Be()},this.UO=function(){u.Be(!0)},this.kh=t,this.qE=n,this.XO=i,this.HO=e,this.FO=r,this.zO=s,ve.VO(this.UO),this.LO=c(this.MO,fI)}var n=t.prototype;return n.WO=function(){return Boolean(this.RO)},n.GO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.XO.qO());case 2:if(i.sent.YB){i.next=5;break}return i.abrupt("return");case 5:return n={bO:ZE.TO,AO:Vt(),yg:t},i.next=8,Dr.awrap(this.YO(n));case 8:case"end":return i.stop()}},null,this,null,We)},n.jO=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={bO:ZE.SO,AO:Vt(),tm:n,Au:t},e.next=3,Dr.awrap(this.YO(i));case 3:case"end":return e.stop()}},null,this,null,We)},n.QO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={bO:ZE.EO,AO:Vt(),Au:t},i.next=3,Dr.awrap(this.YO(n));case 3:case"end":return i.stop()}},null,this,null,We)},n.YO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.XO.qO());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.HO.PB(n.XB)){i.next=6;break}if(t.bO===ZE.EO){i.next=6;break}return i.abrupt("return");case 6:if(t.bO===ZE.TO?this.ZO():this.WO()||this.ZO(),t.GS=this.qa++,this.PO.push(t),(e=t.bO)!==ZE.TO&&e!==ZE.EO){i.next=14;break}return i.next=12,Dr.awrap(this.Be());case 12:i.next=19;break;case 14:if(!(this.PO.length>this.FO)){i.next=19;break}return i.next=17,Dr.awrap(this.KO());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,We)},n.Be=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.PO.length>0)){n.next=6;break}return n.next=4,Dr.awrap(this.KO(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,We)},n.JO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.XO.qO());case 2:return n=i.sent,i.abrupt("return",{IO:Vt(),uc:uI(),XB:this.HO.PB(n.XB)||"dev",qA:this.kh,RO:this.BO,DO:this.xO,CO:t});case 4:case"end":return i.stop()}},null,this,null,We)},n.KO=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.PO.splice(0,this.zO),e.next=4,Dr.awrap(this.JO(n));case 4:i=e.sent,t?this.Hd(i):this.$O(i),this.OO=eI();case 7:case"end":return e.stop()}},null,this,null,We)},n.$O=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=vI(t),i=new uw({wd:"https://license.theoplayer.com",ql:n,Ud:!1,hd:Sf.ni,od:{"Content-Type":YA.ER},xd:4e3,Od:nw.POST}),r.prev=2,r.next=5,Dr.awrap(this.qE.ld(i));case 5:return e=r.sent,r.next=8,Dr.awrap(e.Vl());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],We)},n.Hd=function(t){var n=vI(t);this.qE.Hd({wd:"https://license.theoplayer.com",ql:n,Gl:YA.ER})},n.ZO=function(){this.WO()&&this.Be(),this.BO=nI(),this.qa=0},n.$c=function(){ve.tx(this.UO),f(this.LO),this.Be()},A(t,[{key:"CO",get:function(){return this.PO}},{key:"RO",get:function(){return this.BO}}]),t}();var dI=M.Dn||M.cn&&M.xn<13;function wI(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var _I=function(){function t(t){this.WN=void 0,this.u_=void 0,this.nx=void 0,this.WN=t}var n=t.prototype;return n.ix=function(t){if(!t||!t.drawImage)return!1;var n=this.WN.oy();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.ex=function(t,n,i,e,r,u){if(!t||!t.texImage2D)return!1;var o=this.WN,a=o.oy();if(!a)return!1;if(dI){this.nx||(this.nx=s.createElement("canvas"));var h=this.nx,c=h.getContext("2d"),f=o.dm,l=o.lm,d=h.width,w=h.height;c.clearRect(0,0,h.width,h.height),d===f&&w===l||(h.width=f,h.height=l),c.drawImage(a,0,0,f,l);var _=!1;f>0&&wI(c,f-1,0)&&(h.width=d,_=!0),l>0&&wI(c,0,l-1)&&(h.height=w,_=!0),_&&c.drawImage(a,0,0,f,l),a=h}try{t.texImage2D(n,i,e,r,u,a)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},A(t,[{key:"o_",get:function(){return this.u_||(this.u_=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.ix.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.ex(n,i,e,r,s,u)}}));var t}}]),t}(),gI=function(t){function n(n,i){var e;return(e=t.call(this,"sx")||this).Xk=n,e.ST=i,e}return S(n,t),n.prototype.a_=function(){return new mI(this.Xk,this.ST)},n}(Z_),mI=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return S(n,t),n}(_u),yI=function(t,n){this.Ty=void 0,this.ux=void 0,this.Ty=t,this.ux=n},kI=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).ox=void 0,e.ax=0,e.hx=0,e.vx=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.hx=n.width,e.ax=n.height,e.ux(e.hx,e.ax)}},e.ox=new le.ResizeObserver(e.vx),e.ox.observe(e.Ty),e}return S(n,t),n.prototype.$c=function(){this.ox.disconnect()},A(n,[{key:"lx",get:function(){return this.ax}},{key:"wx",get:function(){return this.hx}}]),n}(yI),pI=0;var bI,AI=h,TI=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,SI=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function EI(){return bI||(bI=le&&le.document&&le.document.createElement("span")),bI}TI&&SI||(TI=function(t){var n=eI(),i=w.max(0,16-(n-pI)),e=a(function(){return t(n+i)},i);return pI=n+i,e},SI=AI),TI=TI.bind(t),SI=SI.bind(t);var II=["Webkit","Moz","O","ms"];!function(){var t=!1;try{if(void 0!==le&&"function"==typeof le.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});le.addEventListener("testPassiveEventSupport",K,n),le.removeEventListener("testPassiveEventSupport",K,n)}}catch(t){}}();var RI=Pr();function DI(t){return RI.has(t)||RI.set(t,function(t){var n=EI();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<II.length;e++){var r=II[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),RI.get(t)}function NI(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function CI(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[DI("transition")]="0s"}var PI=function(t){function n(n,i,e){var u;(u=t.call(this,n,i)||this)._x=void 0,u.gx=0,u.hx=NaN,u.ax=NaN,u.mx=void 0,u.yx=void 0,u.kx=void 0,u.bx=void 0,u.Ax=void 0,u.wc=function(){u.yx.style.width=1e5+"px",u.yx.style.height=1e5+"px",u.mx.scrollLeft=1e5,u.mx.scrollTop=1e5,u.kx.scrollLeft=1e5,u.kx.scrollTop=1e5,0===u.kx.scrollTop&&TI(u.wc)},u.Tx=function(){var t=u.wx,n=u.lx;u.ux(t,n),u.hx=t,u.ax=n,u.wc(),u.gx=0},u.Sx=function(){if(!u.gx){var t=u.wx,n=u.lx;t===u.hx&&n===u.ax||(u.gx=TI(u.Tx))}},u.Ex=function(){u.Ax||(u.Ax=a(u.Ix,66))},u.Ix=function(){u.Ax=void 0,u.Rx()},u.Rx=function(){u.Sx()};var o=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");e||"static"!==o||(n.style.position="relative");var h,c=s.createElement("div");return u._x=c,u.mx=s.createElement("div"),u.yx=s.createElement("div"),u.kx=s.createElement("div"),u.bx=s.createElement("div"),NI(u.mx),NI(u.kx),CI(u.yx),CI(h=u.bx),h.style.width="200%",h.style.height="200%",c.appendChild(u.mx),c.appendChild(u.kx),u.mx.appendChild(u.yx),u.kx.appendChild(u.bx),n.appendChild(c),u.mx.addEventListener("scroll",u.Sx),u.kx.addEventListener("scroll",u.Sx),r&&r.addEventListener("resize",u.Ex),u.Sx(),u}return S(n,t),n.prototype.$c=function(){SI(this.gx),this.gx=0,this.mx.removeEventListener("scroll",this.Sx),this.kx.removeEventListener("scroll",this.Sx),$e(this._x),r&&r.removeEventListener("resize",this.Ex)},A(n,[{key:"lx",get:function(){return this.Ty.getBoundingClientRect().height||this.ax||0}},{key:"wx",get:function(){return this.Ty.getBoundingClientRect().width||this.hx||0}}]),n}(yI),BI=function(t){function n(n){var i;return(i=t.call(this)||this).Ty=void 0,i.ox=void 0,i.vx=function(t,n){i.$s(new gI(t,n))},i.Ty=n,i}S(n,t);var i=n.prototype;return i.lc=function(t){this.ox||("function"==typeof le.ResizeObserver?this.ox=new kI(this.Ty,this.vx):this.ox=new PI(this.Ty,this.vx,t))},i.$c=function(){this.ou(),this.ox&&(this.ox.$c(),this.ox=void 0)},A(n,[{key:"lx",get:function(){return this.ox?this.ox.lx:0}},{key:"wx",get:function(){return this.ox?this.ox.wx:0}}]),n}(du),OI=function(t){function n(){return t.call(this,hS.k_)||this}return S(n,t),n}(_u);var xI=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{Dx:i[0],Nx:i[1],Cx:i[2],Px:i[3],Bx:i[4],Ox:i[5]}}}(),LI=function(t){function n(){return t.call(this,hS.YC)||this}return S(n,t),n}(_u),MI=function(t){function n(i){var e;return(e=t.call(this)||this).Ty=void 0,e.QC=void 0,e.jC=!1,e.xx=function(){return e.EP()},e.Lx=function(){return e.RP()},e.Ty=i,e.QC=n.Mx(i),s.addEventListener(xI.Bx,e.xx),e.EP(),e}S(n,t),n.Mx=function(t){return Boolean(xI&&s[xI.Px]&&xI.Dx in t)};var i=n.prototype;return i.nk=function(){var t=this.Ty[xI.Dx]();t&&t.then?t.then(this.xx,this.Lx):(s.removeEventListener(xI.Ox,this.Lx),s.addEventListener(xI.Ox,this.Lx))},i.rk=function(){var t=s[xI.Nx]();t&&t.then?t.then(this.xx,this.Lx):(s.removeEventListener(xI.Ox,this.Lx),s.addEventListener(xI.Ox,this.Lx))},i.EP=function(){var t=this.jC,n=this.Ty===s[xI.Cx];this.jC=n,t!==n&&this.$s(new OI)},i.RP=function(){this.$s(new lS)},i.$c=function(){this.ou(),s.removeEventListener(xI.Bx,this.xx),s.removeEventListener(xI.Ox,this.Lx)},n}(du),UI=function(t){function n(i){var e;return(e=t.call(this)||this).Ty=void 0,e.QC=void 0,e.jC=!1,e.xx=function(){return e.EP()},e.Ty=i,e.QC=n.Mx(i),e.Ty.addEventListener("webkitbeginfullscreen",e.xx),e.Ty.addEventListener("webkitendfullscreen",e.xx),e.Ty.addEventListener("webkitpresentationmodechanged",e.xx),e.EP(),e}S(n,t),n.Mx=function(t){return M.cn&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.nk=function(){var t=this;this.Ty.webkitSupportsPresentationMode&&this.Ty.webkitSupportsPresentationMode("fullscreen")?M.cn?requestAnimationFrame(function(){return t.Ty.webkitSetPresentationMode("fullscreen")}):this.Ty.webkitSetPresentationMode("fullscreen"):this.Ty.webkitEnterFullscreen()},i.rk=function(){this.Ty.webkitSupportsPresentationMode&&this.Ty.webkitSupportsPresentationMode("inline")?this.Ty.webkitSetPresentationMode("inline"):this.Ty.webkitExitFullscreen()},i.EP=function(){var t,n=this.jC;t=this.Ty.webkitPresentationMode?"fullscreen"===this.Ty.webkitPresentationMode:!!this.Ty.webkitDisplayingFullscreen,this.jC=t,n!==t&&this.$s(new OI)},i.$c=function(){this.ou(),this.Ty.removeEventListener("webkitbeginfullscreen",this.xx),this.Ty.removeEventListener("webkitendfullscreen",this.xx),this.Ty.removeEventListener("webkitpresentationmodechanged",this.xx)},n}(du),XI=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Ux=[],n.Xx=void 0,n.bP=!1,n.EP=function(){var t=n.bP,i=n.Hx();t!==i&&(n.bP=i,n.$s(new OI))},n}S(n,t);var i=n.prototype;return i.nk=function(){this.Xx?this.Xx.nk():this.$s(new lS)},i.rk=function(){for(var t=0,n=this.Ux;t<n.length;t++){var i=n[t];i.jC&&i.rk()}},i.Fx=function(t){this.Xx=t},i.zx=function(t){this.Ux.push(t),t.tu(hS.k_,this.EP),t.tu(hS.hg,this.Js),this.EP()},i.Vx=function(t){Us(this.Ux,t),t.au(hS.k_,this.EP),t.au(hS.hg,this.Js)},i.Hx=function(){for(var t=0,n=this.Ux;t<n.length;t++){if(n[t].jC)return!0}return!1},i.wc=function(){this.Xx=void 0,this.bP=!1;for(var t=this.Ux.slice(),n=0;n<t.length;n++){var i=t[n];this.Vx(i),i.$c()}this.EP()},i.$c=function(){this.ou(),this.wc()},A(n,[{key:"QC",get:function(){return!!this.Xx&&this.Xx.QC}},{key:"jC",get:function(){return this.bP}}]),n}(du),HI=function(t){function n(n,i){var e;return(e=t.call(this)||this).WN=void 0,e.Wx=void 0,e.Gx=void 0,e.qx=!1,e.Yx=function(){return e.tc()},e.EP=function(t){e.qx||e.$s(t)},e.WN=n,e.Wx=i,e.Gx=dS,e.jx(),e.WN.tu(Tf.Of,e.Yx),e.tc(),e}S(n,t);var i=n.prototype;return i.nk=function(){this.Wx&&this.Gx.nk()},i.rk=function(){this.Gx.rk()},i.jx=function(){this.Gx.tu(hS.k_,this.EP),this.Gx.tu(hS.hg,this.Js)},i.Qx=function(){this.Gx.au(hS.k_,this.EP),this.Gx.au(hS.hg,this.Js)},i.tc=function(){var t=this.Gx,n=this.WN.vy();if(t!==n){this.qx=!0;var i=this.jC,e=this.QC;i&&this.rk(),this.Qx(),this.Gx=n,this.jx(),i&&!this.jC&&this.QC?this.nk():this.rk(),this.qx=!1,e!==this.QC&&this.$s(new LI),i!==this.jC&&this.$s(new OI)}},i.$c=function(){this.ou(),this.Qx(),this.WN.au(Tf.Of,this.Yx)},A(n,[{key:"QC",get:function(){return!!this.Wx&&this.Gx.QC}},{key:"jC",get:function(){return this.Gx.jC}}]),n}(du);function FI(t){var n;return{get url(){return t.wd},get method(){return t.Od},get headers(){return n||(n=t.od._v()),n},get body(){return t.ql},get useCredentials(){return t.Ud},get type(){return qI(t._s)},get subType(){return jI(t.Ld)},get mediaType(){return ZI(t.Md)},get responseType(){return VI(t.hd)}}}function zI(t){switch(t.toLowerCase()){case"arraybuffer":return Sf.fv;case"json":return Sf.vv;case"stream":return Sf.wv;case"text":default:return Sf.ni}}function VI(t){return t}function WI(t){switch(t.toUpperCase()){case"POST":return nw.POST;case"PUT":return nw.PUT;case"DELETE":return nw.DELETE;case"HEAD":return nw.HEAD;case"OPTIONS":return nw.OPTIONS;case"GET":default:return nw.GET}}function GI(t){switch(t.toLowerCase()){case"manifest":return iw.yd;case"segment":return iw.kd;case"preload-hint":return iw.pd;case"content-protection":return iw.bd;default:return iw.md}}function qI(t){return t}function YI(t){switch(t.toLowerCase()){case"initialization-segment":return ew.Ad;case"fairplay-license":return ew.Td;case"fairplay-certificate":return ew.Sd;case"widevine-license":return ew.Ed;case"widevine-certificate":return ew.Id;case"playready-license":return ew.Rd;case"clearkey-license":return ew.Dd;case"aes128-key":return ew.Nd;default:return ew.md}}function jI(t){return t}function QI(t){switch(t.toLowerCase()){case"audio":return rw.Cd;case"video":return rw.Pd;case"text":return rw.ni;case"image":return rw.Bd;case"":default:return rw.md}}function ZI(t){return t}var KI=function(){function t(t,n){this.Zx=new Wo,this.Kx=[],this.u_=void 0,this.Jx=!1,this.Jd=void 0,this.$x=0,this.tL=t,this.nL=n}var n=t.prototype;return n.xA=function(){this.Jx=!0,this.Zx.Qu(null)},n.iL=function(){this.Zx.Zu(new Bd(this.Kx))},n.eL=function(t){if(!this.rL)throw new l("Cannot respond more than once");if(!W(t))throw new l("Expected valid response");this.Jd=this.sL(t),this.xA()},n.uL=function(){try{var t=this.nL(this.o_);t?this.oL(t):this.aL||this.hL||this.xA()}catch(t){this.Kx.push(t),this.iL()}},n.oL=function(t){if(this.hL)throw new v("Request has been redirected or a response already exists");if(j(t))this.cL(t);else{if("function"!=typeof t)throw new l("Expected promise or function");var n=new Wo;try{var i=t(function(t){t?n.Zu(t):n.Qu(void 0)});j(i)&&n.Qu(i)}catch(t){n.Zu(t)}this.cL(n.Gu)}},n.cL=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.$x++,n.next=4,Dr.awrap(t);case 4:this.$x--,this.aL||this.hL||(this.Kx.length?this.iL():this.xA()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.$x--,this.Kx.push(n.t0),this.aL||this.hL||this.iL();case 13:case"end":return n.stop()}},null,this,[[0,8]],We)},A(t,[{key:"fL",get:function(){return this.Zx.Gu}},{key:"o_",get:function(){return this.u_||(this.u_=this.vL()),this.u_}},{key:"hL",get:function(){return this.Jx}},{key:"rL",get:function(){return!this.Jx}},{key:"aL",get:function(){return this.$x>0}},{key:"$d",get:function(){return this.Jd}}]),t}(),JI=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).lL=void 0,r.lL=e,r.uL(),r}S(n,t),n.dL=function(t,n,i){var e=void 0===t.body?i:t.body;return new sw({zi:e,ld:n.ld,hd:n.ld.hd,od:t.headers,ud:t.status,fd:t.statusText,dd:t.url,vd:!0},n)};var i=n.prototype;return i.vL=function(){return i=FI((t=this).ld),{get closed(){return!t.rL},get request(){return i},get url(){return t.wd},get status(){return t.ud},get statusText(){return t.fd},get headers(){return n||(n=t.od._v()),n},get body(){return t.ql},respondWith:function(n){return t.eL(n)},waitUntil:function(n){return t.oL(n)}};var t,n,i},i.sL=function(t){return n.dL(t,this.tL,this.lL)},A(n,[{key:"ql",get:function(){return this.lL}},{key:"od",get:function(){return this.tL.od}},{key:"ld",get:function(){return this.tL.ld}},{key:"$d",get:function(){return this.Jd}},{key:"ud",get:function(){return this.tL.ud}},{key:"fd",get:function(){return this.tL.fd}},{key:"wd",get:function(){return this.tL.dd}}]),n}(KI),$I=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).wL=void 0,r._L=void 0,r._L=e,r.uL(),r}S(n,t);var i=n.prototype;return i.vL=function(){return t=this,{get url(){return t.wd},get method(){return t.Od},get headers(){return n||(n=t.od._v()),n},get body(){return t.ql},get closed(){return!t.rL},get useCredentials(){return t.Ud},get type(){return qI(t._s)},get subType(){return jI(t.Ld)},get mediaType(){return ZI(t.Md)},get responseType(){return VI(t.hd)},redirect:function(n){return t.gL(n)},respondWith:function(n){return t.eL(n)},waitUntil:function(n){return t.oL(n)}};var t,n},i.sL=function(t){var n=this.tL.ql,i=new sw({zi:n,od:{},ld:this.tL,dd:this.tL.wd,hd:this.tL.hd,ud:200,fd:"OK"});return JI.dL(t,i,n)},i.gL=function(t){if(!this.rL)throw new l("Cannot redirect, already redirected or has a response");var n;n=q(t)?{url:t}:t,this.wL=function(t,n){return new uw({wd:void 0===t.url?n.wd:t.url,Od:void 0!==t.method?WI(t.method):void 0,od:t.headers,ql:t.body,Ud:t.useCredentials,_s:void 0!==t.type?GI(t.type):void 0,Ld:void 0!==t.subType?YI(t.subType):void 0,Md:void 0!==t.mediaType?QI(t.mediaType):void 0,hd:void 0!==t.responseType?zI(t.responseType):void 0},n)}(n,this.tL),this.xA()},A(n,[{key:"ql",get:function(){return this.tL.ql}},{key:"rL",get:function(){return this._L&&!this.Jx}},{key:"od",get:function(){return this.tL.od}},{key:"Od",get:function(){return this.tL.Od}},{key:"mL",get:function(){return this.wL}},{key:"$d",get:function(){return this.Jd}},{key:"hd",get:function(){return this.tL.hd}},{key:"xd",get:function(){return this.tL.xd}},{key:"js",get:function(){return this.tL.js}},{key:"_s",get:function(){return this.tL._s}},{key:"Ld",get:function(){return this.tL.Ld}},{key:"Md",get:function(){return this.tL.Md}},{key:"wd",get:function(){return this.tL.wd}},{key:"Ud",get:function(){return this.tL.Ud}},{key:"Xd",get:function(){return this.tL.Xd}}]),n}(KI);var tR,nR=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new iR(n);return(e=t.call(this,r,i)||this).yL=void 0,e.yL=r,e}S(n,t);var i=n.prototype;return i.kL=function(t){this.yL.kL(t)},i.pL=function(t){this.yL.pL(t)},i.bL=function(t){this.yL.bL(t)},i.AL=function(t){this.yL.AL(t)},i.TL=function(t){this.yL.TL(t)},n}(aw),iR=function(){function t(t){this.Fd=void 0,this.SL=[],this.EL=[],this.Fd=t}var n=t.prototype;return n.ld=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this.IL(t,t.js));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof ww)){i.next=12;break}return i.next=11,Dr.awrap(this.RL(i.t0,t.js));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,Dr.awrap(this.DL(n,t.js));case 15:if(!tw(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new gw(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],We)},n.Hd=function(t){return this.Fd.Hd(t)},n.IL=function(t,n){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:tu(n),i=t,r=0,s=this.SL.slice();case 3:if(!(r<s.length)){a.next=21;break}if(u=s[r],tu(n),(o=new $I(i,u,!e)).hL){a.next=17;break}return a.prev=8,a.next=11,Dr.awrap(o.fL);case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(8),a.abrupt("continue",18);case 17:o.mL&&!e?i=o.mL:o.$d&&!e&&(e=o.$d);case 18:r++,a.next=3;break;case 21:if(!e){a.next=23;break}return a.abrupt("return",e);case 23:return a.abrupt("return",this.Fd.ld(i));case 24:case"end":return a.stop()}},null,this,[[8,13]],We)},n.RL=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof gw?t.$d:new sw({zi:null,ld:t.ld,ud:0,fd:""}),r.next=3,Dr.awrap(this.DL(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!tw(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new gw(e);case 13:case"end":return r.stop()}},null,this,null,We)},n.DL=function(t,n){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=t,e=0,r=this.EL.slice();case 2:if(!(e<r.length)){a.next=23;break}return s=r[e],tu(n),a.next=7,Dr.awrap(We.resolve(i.Hu().zi(n)));case 7:if(u=a.sent,(o=new JI(i,s,u)).hL){a.next=19;break}return a.prev=10,a.next=13,Dr.awrap(o.fL);case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(10),a.abrupt("continue",20);case 19:i=o.$d||i;case 20:e++,a.next=2;break;case 23:return a.abrupt("return",i);case 24:case"end":return a.stop()}},null,this,[[10,15]],We)},n.kL=function(t){this.SL.unshift(t)},n.pL=function(t){this.SL.push(t)},n.bL=function(t){Us(this.SL,t)},n.AL=function(t){this.EL.unshift(t)},n.TL=function(t){Us(this.EL,t)},n.$c=function(){this.Fd.$c(),Fs(this.SL),Fs(this.EL)},t}(),eR=function(){function t(t){this.u_=void 0,this.qE=t}var n=t.prototype;return n.kL=function(t){this.qE.kL(t)},n.bL=function(t){this.qE.bL(t)},n.AL=function(t){this.qE.AL(t)},n.TL=function(t){this.qE.TL(t)},A(t,[{key:"o_",get:function(){var t;return this.u_||(this.u_=(t=this,{addRequestInterceptor:function(n){t.kL(n)},removeRequestInterceptor:function(n){t.bL(n)},addResponseInterceptor:function(n){t.AL(n)},removeResponseInterceptor:function(n){t.TL(n)}})),this.u_}}]),t}(),rR=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).u_=void 0,r.NL=function(t){r.$s(t)},r.CL=function(t){r.$s(t)},r.PL=n,r.qE=i,r.sP=e,r.PL.tu(Tf.Hf,r.NL),r.PL.tu(Tf.Xf,r.CL),r}S(n,t);var i=n.prototype;return i.BL=function(t){this.sP.BL(t)},i.kL=function(t){this.qE.kL(t)},i.bL=function(t){this.qE.bL(t)},i.AL=function(t){this.qE.AL(t)},i.TL=function(t){this.qE.TL(t)},i.$c=function(){this.ou(),this.PL.au(Tf.Hf,this.NL),this.PL.au(Tf.Xf,this.CL)},A(n,[{key:"o_",get:function(){var t;return this.u_||(this.u_=(t=this,{get online(){return t.By},get estimator(){return n=t.OL,{get bandwidth(){return n.vD},get roundTripTime(){return n.lD}};var n},setEstimator:function(n){t.BL(function(t){if(t)return{get vD(){return mg(t.bandwidth)},get lD(){return mg(t.roundTripTime)},fD:function(n){return function(t){if(t)return{xL:function(n){t.markRequestStart(n)},LL:function(n){t.markResponseStart(n)},ML:function(n,i){t.markResponseData(n,i)},UL:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(FI(n)))}}}(n))},addRequestInterceptor:function(n){t.kL(n)},removeRequestInterceptor:function(n){t.bL(n)},addResponseInterceptor:function(n){t.AL(n)},removeResponseInterceptor:function(n){t.TL(n)},addEventListener:function(n,i){t.tu(n,i)},removeEventListener:function(n,i){t.au(n,i)}})),this.u_}},{key:"By",get:function(){return this.PL.By}},{key:"OL",get:function(){return this.sP.OL}}]),n}(du);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(tR||(tR={}));var sR=30,uR=1,oR=5;function aR(t,n,i,e,r,s){var u=[],o=t-w.max(s,uR),a=t+r;if(n&&i){var h=Mt(i,uR,oR),c=n-h;o=w.min(o,c);var f=n+i+h;a=w.max(a,f)}return 0!==o&&e.OC(0,o)&&u.push([0,o]),e.OC(a,1/0)&&u.push([a,1/0]),u}function hR(t){return t instanceof v&&"QuotaExceededError"===t.name}var cR={type:tR.BANDWIDTH},fR=20;function vR(t){var n,i,e,r=vg(cR);return q(t)?r.type=lR(t):W(t)&&function(t){switch(t){case tR.PERFORMANCE:case tR.QUALITY:case tR.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=lR(t.type)),W(t)&&W(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=gg(n.bitrate),m(e)||(i.bitrate=e),i)),r}function lR(t){switch(t){case"bandwidth":return tR.BANDWIDTH;case"performance":return tR.PERFORMANCE;case"quality":return tR.QUALITY}}var dR=function(t){function n(n){var i;return(i=t.call(this,"HL")||this).XL=n,i}return S(n,t),n}(_u),wR=function(t){function n(n){var i;return(i=t.call(this,"zL")||this).FL=n,i}return S(n,t),n}(_u),_R=function(t){function n(n){var i;return(i=t.call(this,"WL")||this).VL=n,i}return S(n,t),n}(_u),gR=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).u_=(i=Kt(n),{get strategy(){return{metadata:(t=i.FL).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.FL=vR(t)},get targetBuffer(){return i.XL},set targetBuffer(t){var n=gg(t);m(n)||(i.XL=n)},get bufferLookbackWindow(){return i.VL},set bufferLookbackWindow(t){var n=gg(t);m(n)||(i.VL=n<=0?sR:n)},get maxBufferLength(){return i.GL}}),n.qL=cR,n.YL=fR,n.jL=sR,n.QL=1/0,n.ZL=void 0,n.KL=void 0,n}S(n,t);var i=n.prototype;return i.JL=function(t){this.KL=t},i.BL=function(t){this.ZL=t},i.$L=function(t){var n=w.min(t,.8*this.QL);if(n=w.max(10,n),this.QL===n)return!1;var i=this.tM;this.QL=n;var e=this.tM;return e!==i&&this.$s(new dR(e)),!0},A(n,[{key:"nM",get:function(){switch(this.qL.type){case tR.PERFORMANCE:return 0;case tR.QUALITY:return 1/0;case tR.BANDWIDTH:return this.qL.metadata&&void 0!==this.qL.metadata.bitrate?this.qL.metadata.bitrate:8*zg.Bg();default:return 8*zg.Bg()}}},{key:"o_",get:function(){return this.u_}},{key:"FL",get:function(){return this.qL},set:function(t){this.qL=t,this.$s(new wR(t))}},{key:"XL",get:function(){return this.YL},set:function(t){this.YL=t,this.$s(new dR(t))}},{key:"tM",get:function(){return w.min(this.YL,this.QL)}},{key:"VL",get:function(){return this.jL},set:function(t){this.jL=t,this.$s(new _R(t))}},{key:"GL",get:function(){return this.QL}},{key:"OL",get:function(){var t;return null!=(t=this.ZL)?t:this.KL.DN}}]),n}(du),mR=function(t){function n(){return t.call(this,"p_")||this}return S(n,t),n.prototype.a_=function(){return new yR},n}(Z_),yR=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(_u),kR=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).iM=void 0,r.PO=void 0,r.eM=function(t){K_(t)&&ou(function(){r.$s(t.o_)})},r.iM=n,r.PO=i;for(var s=0,u=r.PO;s<u.length;s++){var o=u[s];r.iM.tu(o,r.eM)}return r}return S(n,t),n.prototype.$c=function(){this.ou();for(var t=0,n=this.PO;t<n.length;t++){var i=n[t];this.iM.au(i,this.eM)}},n}(du),pR=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).iM=void 0,e.eM=function(t){K_(t)&&ou(function(){e.$s(t.o_)})},e.iM=n,e.iM.uu(e.eM),e}return S(n,t),n.prototype.$c=function(){this.ou(),this.iM.du(this.eM)},n}(Ug);var bR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Ak=0,n.Tk=1/0,n.u_=void 0,n}S(n,t);var i=n.prototype;return i.wc=function(){0===this.Ak&&this.Tk===1/0||(this.Ak=0,this.Tk=1/0,this.$s(new mR))},i.rM=function(){return new fS([this.ck,this.fk],[!0,!0])},A(n,[{key:"ck",get:function(){return this.Ak},set:function(t){if(this.fk<=t)throw new v("Start time of a clip should be smaller than the end time.");this.Ak!==t&&(this.Ak=t,this.$s(new mR))}},{key:"fk",get:function(){return this.Tk},set:function(t){if(t<=this.ck)throw new v("End time of a clip should be larger than the start time.");this.Tk!==t&&(this.Tk=t,this.$s(new mR))}},{key:"o_",get:function(){var t,n,i;return this.u_||(this.u_=(i={get startTime(){return t.ck},set startTime(n){t.ck=n},get endTime(){return t.fk},set endTime(n){t.fk=n},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.au(t,i)}},n=new pR(t=this,i),i)),this.u_}}]),n}(Ug),AR=function(t){function n(n){var i;return(i=t.call(this)||this).sM=function(t){i.uM(t)||i.$s(t)},i.oM=n,i.oM.uu(i.sM),i}S(n,t);var i=n.prototype;return i.aM=function(){return this.oM.Fm},i.ly=function(){return this.oM.ly()},i.hM=function(){return this.oM.by},i.cM=function(){return this.oM.yy},i.fM=function(){return this.oM.Ay},i.vM=function(t){this.oM.Ay=t},i.lM=function(){return this.oM.tm},i.dM=function(t){this.oM.tm=t},i.wM=function(){return this.oM.nm},i._M=function(){return this.oM.Ty},i.gM=function(){return this.oM.im},i.mM=function(){return this.oM.Au},i.yM=function(){return this.oM.um},i.kM=function(){return this.oM.Sy},i.pM=function(){return this.oM.hm},i.bM=function(t){this.oM.hm=t},i.AM=function(){return this.oM.By},i.TM=function(){return this.oM.cm},i.SM=function(){return this.oM.fm},i.EM=function(t){this.oM.fm=t},i.IM=function(){return this.oM.Oy},i.RM=function(){return this.oM.xy},i.DM=function(t){this.oM.xy=t},i.NM=function(){return this.oM.wg},i.CM=function(){return this.oM.Ly},i.PM=function(){return this.oM.vm},i.jm=function(){return this.oM.jm()},i.Qm=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return tu(n),i.next=3,Dr.awrap(this.oM.Qm(t,n));case 3:case"end":return i.stop()}},null,this,null,We)},i.BM=function(){return this.oM.Vm},i.OM=function(){return this.oM.lm},i.xM=function(){return this.oM.zm},i.LM=function(){return this.oM.dm},i.MM=function(){return this.oM.wm},i.UM=function(t){this.oM.wm=t},i.vy=function(){return this.oM.vy()},i.oy=function(){return this.oM.oy()},i.iy=function(t){this.oM.iy(t)},i.ey=function(){this.oM.ey()},i.uy=function(){this.oM.uy()},i.$m=function(){this.oM.$m()},i.qm=function(){this.oM.qm()},i.Gm=function(){this.oM.Gm()},i.sy=function(){this.oM.sy()},i.Ym=function(){return this.oM.Ym()},i.Zm=function(){return this.oM.Zm()},i.Km=function(){this.oM.Km()},i.Jm=function(){this.oM.Jm()},i.wc=function(){return this.oM.wc()},i.$c=function(){return this.oM.$c()},i.py=function(){this.oM.py()},i.wy=function(t){return this.oM.wy(t)},i.uM=function(t){return!1},A(n,[{key:"Fm",get:function(){return this.aM()}},{key:"by",get:function(){return this.hM()}},{key:"Ay",get:function(){return this.fM()},set:function(t){this.vM(t)}},{key:"yy",get:function(){return this.cM()}},{key:"tm",get:function(){return this.lM()},set:function(t){this.dM(t)}},{key:"nm",get:function(){return this.wM()}},{key:"Ty",get:function(){return this._M()}},{key:"im",get:function(){return this.gM()}},{key:"Au",get:function(){return this.mM()}},{key:"um",get:function(){return this.yM()}},{key:"Wm",get:function(){return this.oM.Wm}},{key:"Sy",get:function(){return this.kM()}},{key:"Ey",get:function(){return this.oM.Ey}},{key:"hm",get:function(){return this.pM()},set:function(t){this.bM(t)}},{key:"By",get:function(){return this.AM()}},{key:"cm",get:function(){return this.TM()}},{key:"fm",get:function(){return this.SM()},set:function(t){this.EM(t)}},{key:"Oy",get:function(){return this.IM()}},{key:"xy",get:function(){return this.RM()},set:function(t){this.DM(t)}},{key:"wg",get:function(){return this.NM()}},{key:"Ly",get:function(){return this.CM()}},{key:"vm",get:function(){return this.PM()}},{key:"Vm",get:function(){return this.BM()}},{key:"lm",get:function(){return this.OM()}},{key:"zm",get:function(){return this.xM()}},{key:"dm",get:function(){return this.LM()}},{key:"wm",get:function(){return this.MM()},set:function(t){this.UM(t)}},{key:"My",get:function(){return this.oM.My}},{key:"Uy",get:function(){return this.oM.Uy},set:function(t){this.oM.Uy=t}}]),n}(Xg),TR=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).XM=void 0,r.HM=!1,r.FM=void 0,r.zM=!1,r.VM=function(){r.WM(),r.GM()},r.GD=function(){r.qM(),r.GM(),r.YM&&r.tm>=r.XM.fk-n.jM&&!r.im&&(r.FM=TI(r.GD))},r.QM=function(){r.zM=!0},r.ZM=function(){r.zM&&(r.zM=!1,r.GM())},r.XM=e,r.XM.tu("p_",r.VM),r.oM.tu("timeupdate",r.GD),r}S(n,t);var i=n.prototype;return i.dM=function(n){var i=this.XM.rM().gC(n);t.prototype.dM.call(this,i),this.GM()},i.gM=function(){return t.prototype.gM.call(this)||this.HM},i.CM=function(){return fS.VC(t.prototype.CM.call(this)).kC(this.XM.rM()).SN()},i.Gm=function(){this.gM()?this.dM(this.KM.start(0)):this.WM(),t.prototype.Gm.call(this),this.GM()},i.Qm=function(n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return tu(i),this.HM=!1,this.XM.wc(),e.next=5,Dr.awrap(t.prototype.Qm.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,We)},i.$c=function(){return this.XM.au("p_",this.VM),this.oM.au("timeupdate",this.GD),this.qM(),t.prototype.$c.call(this)},i.uM=function(n){switch(n.type){case"seeking":return this.$s(n),this.QM(),!0;case"seeked":case"emptied":return this.$s(n),this.ZM(),!0;case"ended":if(this.YM)return!0}return t.prototype.uM.call(this,n)},i.qM=function(){this.FM&&(SI(this.FM),this.FM=void 0)},i.GM=function(){var t=this.tm,i=this.YM&&t>=this.XM.fk-n.zp;this.HM&&!i?(this.HM=!1,this.cm&&this.Gm()):this.HM||!i||this.vm||this.zM||(this.HM=!0,this.$s(new pm(t)),this.qm())},i.WM=function(){if(this.nm!==1/0){var t=this.KM,i=fS.VC(t).gC(this.tm);Ut(this.tm,i,n.zp)||this.dM(i)}},A(n,[{key:"KM",get:function(){return this.CM().length?this.CM():this.XM.rM().SN()}},{key:"YM",get:function(){return this.XM.fk<this.nm}}]),n}(AR);TR.jM=1,TR.zp=.001;var SR=function(){function t(){this.JM=void 0,this.JM=!1}return A(t,[{key:"$M",get:function(){return this.JM},set:function(t){this.JM=t}}]),t}(),ER=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).JM=void 0,e.tU=!1,e.nU=!1,e.JM=i,e}S(n,t);var i=n.prototype;return i.gM=function(){return!this.JM.$M&&t.prototype.gM.call(this)},i.qm=function(){this.nU=!0,t.prototype.qm.call(this)},i.Gm=function(){this.nU=!1,t.prototype.Gm.call(this)},i.uM=function(n){if(this.JM.$M)switch(n.type){case"ended":return this.tm=0,this.nU||(this.vm?this.tU=!0:this.Gm()),!0;case"seeked":this.tU&&(this.tU=!1,this.Gm());break;case"pause":if(this.tU||t.prototype.gM.call(this))return!0}return t.prototype.uM.call(this,n)},n}(AR);var IR=function(){function t(t){var n;this.u_=(n=this,{get currentBandwidthEstimate(){return n.Ny},get corruptedVideoFrames(){return n.Ry},get droppedVideoFrames(){return n.Iy},get totalBytesLoaded(){return n.Cy},get bufferedSegments(){return n.Py}}),this.KN=t}return A(t,[{key:"o_",get:function(){return this.u_}},{key:"Ry",get:function(){return this.KN.iU.Ey.Ry}},{key:"Ny",get:function(){return this.KN.iU.Ey.Ny}},{key:"Iy",get:function(){return this.KN.iU.Ey.Iy}},{key:"eU",get:function(){throw new v("Not implemented")}},{key:"rU",get:function(){throw new v("Not implemented")}},{key:"Cy",get:function(){return this.KN.iU.Ey.Cy}},{key:"Dy",get:function(){return this.KN.iU.Ey.Dy}},{key:"Py",get:function(){return this.KN.iU.Ey.Py}}]),t}();function RR(t){if(!t||!sr(t))return{Iy:0,Ry:0,Dy:0,Ny:0,Cy:0,Py:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{Iy:n.droppedVideoFrames,Ry:n.corruptedVideoFrames||0,Dy:n.totalVideoFrames}}return{Iy:t.webkitDroppedFrameCount||0,Ry:0,Dy:t.webkitDecodedFrameCount||0}}var DR=function(t){function n(){return t.call(this,"sU")||this}return S(n,t),n.prototype.a_=function(){return new NR},n}(Z_),NR=function(t){function n(){return t.call(this,"castingchange")||this}return S(n,t),n}(_u);var CR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).uU=[],n.oU=!1,n.u_=void 0,n.aU=function(){var t=n.oU,i=n.hU;t!==i&&(n.oU=i,n.$s(new DR))},n}S(n,t);var i=n.prototype;return i.cU=function(t){this.uU.push(t),t.tu("statechange",this.aU)},i.$c=function(){for(var t=0,n=this.uU;t<n.length;t++){n[t].au("statechange",this.aU)}Fs(this.uU)},A(n,[{key:"hU",get:function(){return this.uU.some(function(t){return t.hU})}},{key:"o_",get:function(){var t,n,i;return this.u_||(this.u_=(i={get casting(){return t.hU},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.au(t,i)}},n=new kR(t=this,["sU"],i),i)),this.u_}}]),n}(du),PR=function(){function t(){}return t.fU=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=new uw({wd:t,hd:Sf.ni,Od:nw.GET}),s.next=4,Dr.awrap(n.ld(i));case 4:return e=s.sent,s.next=7,Dr.awrap(e.zi());case 7:return r=s.sent,s.abrupt("return",r.trim());case 11:return s.prev=11,s.t0=s.catch(0),$s(s.t0),s.abrupt("return",void 0);case 15:case"end":return s.stop()}},null,null,[[0,11]],We)},t.vU=function(t){try{var i=LE(t);return new zE(i.key,i.domains_page,i.domains_source,i.expiration_date,i.features,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new tf(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.lU=function(t){void 0===t&&(t=iI.bb),i.Tr("The baked-in license is used. Please update the configuration with your license.");var n=t.CB(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.CB(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.CB(n)}),s=Number(new Date(Number(t.CB("COD|aHpHa:p3Ceo3Co\"\"")))),u=[].map(function(n){return t.CB(n)});return new zE(n,e,r,s,u)},t.convertLicenseToDummyLicense=function(t){return new zE(t.XB,t.HB,t.FB,864e13,t.VB,t.WB,Date.now(),t.qB,t.YB)},t}(),BR=function(){function t(){}return t.bf=function(){return t.jn||(t.jn=OR.Ac()?new OR:new yf),t.jn},t.Ou=function(n){t.bf().Ou(n)},t.kf=function(){t.bf().kf()},t.Cu=function(n){return t.bf().Cu(n)},t.pf=function(n,i){t.bf().pf(n,i)},t.dU=function(n){var i=t.Cu(n);if(void 0!==i)return g(i)},t.wU=function(n){return"true"===t.Cu(n)},t}();BR.jn=void 0;var OR=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.Ac=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.Ou=function(n){t.localStorage.removeItem(n)},e.kf=function(){t.localStorage.clear()},e.Cu=function(n){return t.localStorage[n]},e.pf=function(n,i){t.localStorage[n]=i},i}(BR),xR=w.floor(14399999*w.random()-72e5),LR=function(){function t(t,n,i,e,r,s){this.KB=void 0,this.qE=t,this._U=n,this.gU=i,this.XO=e,this.mU=r,this.$o=s,this.KB=QE(s)}var i=t.prototype;return i.yU=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.kU(this.mU.license,this.mU.licenseUrl));case 2:t=n.sent,this.XO.pU(t);case 4:case"end":return n.stop()}},null,this,null,We)},i.kU=function(t,i){var e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=PR.vU(t):e||(r=PR.lU()),e||(e="https://validate.theoplayer.com/1/"+r.XB),s=this.bU(),!r){v.next=14;break}if((u=this._U.uO(r))!==UE.LB){v.next=14;break}if(!this.AU(r.zB)||!this.AU(null==s?void 0:s.zB)){v.next=13;break}return v.next=10,Dr.awrap(this.TU(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!s){v.next=25;break}if(this._U.uO(s)!==UE.LB){v.next=24;break}if(!this.AU(null==s?void 0:s.zB)){v.next=23;break}return v.next=20,Dr.awrap(this.TU(e));case 20:if(!(a=v.sent)){v.next=23;break}return v.abrupt("return",a);case 23:return v.abrupt("return",s);case 24:BR.Ou("THEOplayer.license");case 25:return v.next=27,Dr.awrap(PR.fU(e,this.qE));case 27:if(!(h=v.sent)){v.next=37;break}if(c=PR.vU(h),this._U.uO(c)!==UE.LB){v.next=34;break}return BR.pf("THEOplayer.license",h),v.abrupt("return",c);case 34:BR.Ou("THEOplayer.license"),v.next=39;break;case 37:if(this.KB||!r||u!==UE.MB||e!=="https://validate.theoplayer.com/1/"+r.XB){v.next=39;break}return v.abrupt("return",PR.convertLicenseToDummyLicense(r));case 39:if(!r&&!c){v.next=43;break}this.SU(null!=(f=r)?f:c,new tf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new tf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,We)},i.tO=function(t){var n,i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Dr.awrap(this.XO.qO());case 2:if(n=a.sent,!this.AU(n.zB)){a.next=9;break}return e=null!=(i=this.mU.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.XB,a.next=7,Dr.awrap(this.TU(e));case 7:(r=a.sent)&&(this.XO.pU(r),n=r);case 9:if(a.prev=9,(s=this._U.uO(n))!==UE.UB){a.next=16;break}throw u=FE.jB,new tf(WE(u),KE.rO(u));case 16:if(s!==UE.MB){a.next=19;break}throw o=FE.MB,new tf(WE(o),KE.rO(o));case 19:this._U.tO(t,n),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(9),this.EU(a.t0);case 25:case"end":return a.stop()}},null,this,[[9,22]],We)},i.sO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.XO.qO());case 2:n=i.sent;try{this._U.sO(t,n)}catch(t){this.EU(t)}case 4:case"end":return i.stop()}},null,this,null,We)},i.TU=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dr.awrap(PR.fU(t,this.qE));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=PR.vU(n),this._U.uO(i)!==UE.LB){e.next=11;break}return BR.pf("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],We)},i.AU=function(t){return!t||Number(new Date)+2592e5+xR>=t},i.bU=function(){var t=BR.Cu("THEOplayer.license");if(t)return PR.vU(t)},i.SU=function(t,n){this.XO.pU(t),this.EU(n)},i.EU=function(t){throw at(t.message),this.gU.QO(t.message),t},t}(),MR=function(){function t(){this.IU=void 0,this.RU=new Wo}var n=t.prototype;return n.pU=function(t){this.IU=t,this.RU.Qu()},n.qO=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.IU){t.next=2;break}return t.abrupt("return",We.resolve(this.IU));case 2:return t.next=4,Dr.awrap(this.RU.Gu);case 4:return t.abrupt("return",this.IU);case 5:case"end":return t.stop()}},null,this,null,We)},A(t,[{key:"DU",get:function(){return this.IU}}]),t}(),UR=function(t){function n(){return t.call(this,"p_")||this}return S(n,t),n.prototype.a_=function(){return new XR},n}(Z_),XR=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(_u);function HR(t){var n,i={get fontFamily(){return t.NU},set fontFamily(n){t.NU=n},get fontColor(){return t.CU},set fontColor(n){t.CU=n},get fontSize(){return t.PU},set fontSize(n){t.PU=n},get backgroundColor(){return t.BU},set backgroundColor(n){t.BU=n},get windowColor(){return t.OU},set windowColor(n){t.OU=n},get edgeStyle(){return t.xU},set edgeStyle(n){t.xU=n},get marginTop(){return t.LU},set marginTop(n){t.LU=n},get marginBottom(){return t.MU},set marginBottom(n){t.MU=n},get marginLeft(){return t.UU},set marginLeft(n){t.UU=n},get marginRight(){return t.XU},set marginRight(n){t.XU=n},addEventListener:function(t,i){var e=pg(t,yg);n.tu(e,i)},removeEventListener:function(t,i){var e=pg(t,yg);n.au(e,i)}};return n=new wu(i),t.tu(["p_"],function(t){return n.$s(t.o_)}),i}var FR={NU:void 0,CU:void 0,PU:void 0,BU:void 0,OU:void 0,xU:void 0,HU:void 0,LU:void 0,MU:void 0,UU:void 0,XU:void 0},zR="THEOplayer.textTrackStyle.",VR=function(t){function n(){var i;return(i=t.call(this)||this).FU=void 0,i.u_=void 0,i.FU=n.zU(),i}return S(n,t),n.prototype.tc=function(t){this.FU=Nr({},this.FU,t),n.VU(this.FU),this.$s(new UR)},n.zU=function(){var t=Nr({},FR);return t.NU=BR.Cu(zR+"fontFamily")||t.NU,t.CU=BR.Cu(zR+"fontColor")||t.CU,t.PU=BR.Cu(zR+"fontSize")||t.PU,t.BU=BR.Cu(zR+"backgroundColor")||t.BU,t.OU=BR.Cu(zR+"windowColor")||t.OU,t.xU=BR.Cu(zR+"edgeStyle")||t.xU,t},n.VU=function(t){BR.pf(zR+"fontFamily",t.NU||""),BR.pf(zR+"fontColor",t.CU||""),BR.pf(zR+"fontSize",t.PU||""),BR.pf(zR+"backgroundColor",t.BU||""),BR.pf(zR+"windowColor",t.OU||""),BR.pf(zR+"edgeStyle",t.xU||"")},A(n,[{key:"WU",get:function(){return this.FU}},{key:"NU",get:function(){return this.FU.NU},set:function(t){this.tc({NU:t})}},{key:"CU",get:function(){return this.FU.CU},set:function(t){this.tc({CU:t})}},{key:"PU",get:function(){return this.FU.PU},set:function(t){this.tc({PU:t})}},{key:"BU",get:function(){return this.FU.BU},set:function(t){this.tc({BU:t})}},{key:"OU",get:function(){return this.FU.OU},set:function(t){this.tc({OU:t})}},{key:"xU",get:function(){return this.FU.xU},set:function(t){this.tc({xU:t})}},{key:"HU",get:function(){return this.FU.HU}},{key:"LU",get:function(){return this.FU.LU},set:function(t){this.tc({LU:t})}},{key:"MU",get:function(){return this.FU.MU},set:function(t){this.tc({MU:t})}},{key:"XU",get:function(){return this.FU.XU},set:function(t){this.tc({XU:t})}},{key:"UU",get:function(){return this.FU.UU},set:function(t){this.tc({UU:t})}},{key:"o_",get:function(){return this.u_||(this.u_=HR(this)),this.u_}}]),n}(du);function WR(t,n){var i,e;t.style.marginLeft=(null!=(i=n.UU)?i:0)+"px",t.style.marginRight=(null!=(e=n.XU)?e:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}var GR,qR,YR=function(t){function n(n,e){var r;(r=t.call(this)||this).GU=void 0,r.cc=void 0,r.iU=void 0,r.qU=void 0,r.n_=void 0,r.XM=void 0,r.JM=void 0,r.YU=void 0,r.jU=void 0,r.sP=void 0,r._U=void 0,r.QU=void 0,r.ZU=void 0,r.rP=void 0,r.KU=!1,r.Om=!1,r.Wy=void 0,r.JU=!1,r.iP=void 0,r.$U=void 0,r.tX=void 0,r.nX=void 0,r.iX=void 0,r.eX=void 0,r.rX=function(t){if(!r.JU){r.JU=!0;var n=r.GU,i=ey(t);r.iU.V_=new gS(r.Ty,i,t),au(n.$c())}},r.sX=function(t){r.$s(t.o_)},r.uX=function(t){t.type!==Tf.Hf&&t.type!==Tf.Xf&&r.$s(t)};var s=gg(e.uid);m(s)?r.Wy=fy++:r.Wy=s,r.cc=e;var u=i.n_,o=new MR;r.qU=new lI("5.1.0",u,o),r.n_=new nR(u,e.allowMixedContent),r.sP=new gR,r._U=new VE(e.isEmbeddable,"5.1.0",ME()),r.eX=new LR(u,r._U,r.qU,o,e,ME()),r.eX.yU().catch(r.rX),r.QU=new BI(n),r.QU.tu("sx",r.sX),r.rP=new VR,r.XM=new bR,r.JM=new SR;var a=new _S(n,e,r.n_,r.sP,r.QU,r.rP);r.sP.JL(a);var h=a;return h=new TR(h,r.oX),h=new ER(h,r.$M),r.GU=h,r.iU=new $m(r.GU),r.iU.uu(r.uX),r.iX=new IR(Kt(r)),r.tX=new rR(r.iU,r.n_,r.sP),r.YU=new _I(Kt(r)),r.ZU=new HI(r.iU,e.allowNativeFullscreen),r.jU=new xS(r.ZU),r.QU.lc(),r.iP=new ce(r.QU,r.rP,1,[ry.Pd]),r.$U=new fe(r.iP),r.nX=new CR,r}S(n,t);var e=n.prototype;return e.bM=function(t){this.iU.hm=t,t||this.cm||this.$m()},e.UM=function(t){this.iU.wm=t},e.aX=function(){Lm(this,LS,this)},e.Gm=function(){this.iU.Gm()},e.qm=function(){this.iU.qm()},e.Qm=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.eX.tO(t).catch(this.rX),i=jR(t),e.next=5,Dr.awrap(this.iU.Qm(i,n));case 5:case"end":return e.stop()}},null,this,null,We)},e.$m=function(){this.Om||(this.iU.$m(),this.$U.$m(),this.Om=!0)},e.jC=function(){return this.jU.CP()===NS.FULLSCREEN},e.sy=function(){this.iU.sy()},e.uy=function(){this.iU.uy()},e.oy=function(){return this.iU.oy()},e.wc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.iU.Ym());case 2:return t.next=4,Dr.awrap(this.iU.wc());case 4:case"end":return t.stop()}},null,this,null,We)},e.$c=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ou(),this.nX.$c(),this.n_.$c(),this.tX.$c(),this.ZU.$c(),this.jU.$c(),this.QU.$c(),this.qU.$c(),this.$U.$c(),this.iP.$c(),t.next=12,Dr.awrap(this.iU.$c());case 12:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"hX",get:function(){return this.sP}},{key:"Xm",get:function(){return this.KU},set:function(t){this.KU=t,this.iU.Xm=t}},{key:"cX",get:function(){return this.$U}},{key:"Fm",get:function(){return this.iU.Fm}},{key:"fX",get:function(){return this.nX}},{key:"vX",get:function(){return this.QU}},{key:"Wm",get:function(){return this.iU.Wm}},{key:"Ey",get:function(){return this.iX}},{key:"lX",get:function(){return this.tX}},{key:"Vm",get:function(){return this.iU.Vm}},{key:"dX",get:function(){return this.rP}},{key:"zm",get:function(){return this.iU.zm}},{key:"by",get:function(){return this.iU.by}},{key:"oX",get:function(){return this.XM}},{key:"$M",get:function(){return this.JM}},{key:"tm",get:function(){return this.iU.tm},set:function(t){this.iU.tm=t}},{key:"Ay",get:function(){return this.iU.Ay},set:function(t){this.iU.Ay=t}},{key:"yy",get:function(){return this.iU.yy}},{key:"nm",get:function(){return this.iU.nm}},{key:"Ty",get:function(){return this.iU.Ty}},{key:"im",get:function(){return this.iU.im}},{key:"Au",get:function(){return this.iU.Au}},{key:"um",get:function(){return this.iU.um}},{key:"hm",get:function(){return this.iU.hm},set:function(t){var n=Boolean(t);this.bM(n)}},{key:"cm",get:function(){return this.iU.cm}},{key:"fm",get:function(){return this.iU.fm},set:function(t){this.iU.fm=t}},{key:"Oy",get:function(){return this.iU.Oy}},{key:"xy",get:function(){return this.iU.xy},set:function(t){this.iU.xy=sS(t)}},{key:"wg",get:function(){return this.iU.wg}},{key:"Ly",get:function(){return this.iU.Ly}},{key:"vm",get:function(){return this.iU.vm}},{key:"j_",get:function(){return this.Wy}},{key:"lm",get:function(){return this.iU.lm}},{key:"dm",get:function(){return this.iU.dm}},{key:"wm",get:function(){return this.iU.wm},set:function(t){var n=Mt(Number(t),0,1)||0;this.UM(n)}},{key:"My",get:function(){return this.iU.My}}]),n}(Xg);function jR(t){t.sources;var n=t.sources.filter(function(t){return F(t.integration)});return t.sources=n,t}!function(t){t[t.wX=0]="wX",t[t._X=1]="_X"}(GR||(GR={})),function(t){t[t.gX=0]="gX"}(qR||(qR={}));var QR={};function ZR(t,n){(QR[n]||(QR[n]=[])).push(t)}function KR(t,n){var i=t;if(QR[n])for(var e=0,r=QR[n];e<r.length;e++){i=(0,r[e])(i)}return i}var JR=[];function $R(t){JR.push(t)}var tD=t.CustomEvent;var nD=function(){try{var t=new tD("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},iD=function(){function t(t,n){var i=this;this.KN=void 0,this.mX=void 0,this.yX=!1,this.kX=function(t){i.mX.jO(t.error,i.tm)},this.pX=function(){i.mX.GO(i.bX),i.KN.removeEventListener("playing",i.pX),i.yX=!1},this.AX=function(){i.yX||(i.KN.addEventListener("playing",i.pX),i.yX=!0)},this.mX=n,this.KN=t,this.KN.addEventListener("error",this.kX),this.KN.addEventListener("sourcechange",this.AX),this.AX()}return t.prototype.wc=function(){},A(t,[{key:"tm",get:function(){var t=this.KN.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"bX",get:function(){return this.KN.src||""}}]),t}();$R(function(t){new iD(t.o_,t.qU)});var eD="theoplayer-stored-volume",rD="theoplayer-stored-mutedstate";ZR(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=BR.dU(eD);(void 0===r||m(r))&&(r=1);var s=BR.wU(rD)||!1;e.wm=r,e.hm=s}return e}S(n,t);var i=n.prototype;return i.bM=function(n){this.cc.persistVolume&&BR.pf(rD,""+Boolean(n)),t.prototype.bM.call(this,n)},i.UM=function(n){this.cc.persistVolume&&BR.pf(eD,""+Number(n)),t.prototype.UM.call(this,n)},n}(t)},GR._X);var sD=new(function(){function t(){this.TX=[],this.u_=void 0}var n=t.prototype;return n.P_=function(t){return this.TX[t]},n.SX=function(t){this.TX.push(t),this.o_.push(t.o_)},n.$h=function(t){var n=this.TX.indexOf(t);n<0||(Xs(this.TX,n),this.u_&&Xs(this.u_,n))},n.EX=function(t){for(var n=0,i=this.TX;n<i.length;n++){var e=i[n];if(e.j_===t)return e}},A(t,[{key:"M_",get:function(){return this.TX.length}},{key:"o_",get:function(){return this.u_||(this.u_=function(t){for(var n=[],i=0;i<t.M_;i++)n[i]=t.P_(i).o_;return n.getPlayerByUID=function(n){var i=t.EX(n);return i&&i.o_},n}(this)),this.u_}}]),t}());var uD,oD=function(t){function n(n){var i;return(i=t.call(this,Tf.tv)||this).source=n,i}return S(n,t),n}(_u),aD=function(t){function n(){var n;return(n=t.call(this)||this).KC=void 0,n.$C=void 0,n.nP=void 0,n.tP=void 0,n.KC=0,n.$C=!0,n.nP=!1,n.tP=1,n}S(n,t);var i=n.prototype;return i.Gm=function(){this.$C&&(this.$C=!1,this.$s(new wm(this.tm)),this.$s(new gb(this.tm)))},i.qm=function(){this.$C||(this.$C=!0,this.$s(new km(this.tm,this.Ay)),this.$s(new dm(this.tm)))},i.wc=function(){this.KC=0,this.nP=!1,this.tP=1,this.qm(),this.$s(new lm(this.KC))},i.$c=function(){this.ou()},i.uy=function(){},i.sy=function(){},A(n,[{key:"Ay",get:function(){},set:function(t){}},{key:"tm",get:function(){return this.KC},set:function(t){this.nP&&this.KC===t||(this.KC=t,this.nP=!0,this.$s(new Am(this.tm)))}},{key:"cm",get:function(){return this.$C}},{key:"fm",get:function(){return this.tP},set:function(t){this.tP!==t&&(this.tP=t,this.$s(new ym(this.tm,this.fm)))}},{key:"wg",get:function(){return jg.Vg}},{key:"vm",get:function(){return this.nP}}]),n}(Ug),hD=function(t){function n(){return t.call(this,Tf.Nf)||this}return S(n,t),n}(_u),cD={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},fD={visibility:"hidden"},vD={visibility:"visible"},lD=function(){function t(t){var n,i=this;this.qN=void 0,this.KN=void 0,this.IX=!1,this.RX=void 0,this.DX=void 0,this.NX=function(t){var n;i.IX=!1,i.RX=null==(n=t.source)?void 0:n.poster,i.tc()},this.lI=function(){i.IX=!0,i.uy()},this.KN=t,this.nC(),this.qN=((n=le&&le.document&&le.document.createElement("div")).className="theoplayer-poster",ir(cD,n),n),t.Ty.appendChild(this.qN)}var n=t.prototype;return n.tc=function(){var t=this.KN.cm,n=this.IX;this.wd?this.qN.style.backgroundImage='url("'+this.wd.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.qN.style.backgroundImage="",t&&this.wd&&!n?this.sy():this.uy()},n.sy=function(){ir(fD,this.KN.Ty),ir(vD,this.qN)},n.uy=function(){ir(fD,this.qN),ir(vD,this.KN.Ty)},n.nC=function(){this.KN.tu("sourcechange",this.NX),this.KN.tu("play",this.lI)},n.$c=function(){this.KN.au("sourcechange",this.NX),this.KN.au("play",this.lI),$e(this.qN)},A(t,[{key:"wd",get:function(){return void 0!==this.RX?this.RX:void 0!==this.DX?this.DX:void 0}},{key:"CX",set:function(t){this.DX=t,this.tc()}}]),t}();function dD(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this).KN=void 0,r.PX=void 0,r.BX=void 0,r.OX=void 0,r.xX=void 0,r.LX=void 0,r.MX=void 0,r.UX=void 0,r.tC=void 0,r.$N=void 0,r.OD=void 0,r.cP=void 0,r.u_=void 0,r.XX=function(t){t.type!==Tf.Wf&&r.UX.push(t)},r.PX=new t(n,e),r.BX=new aD,r.KN=r.PX,r.OX=new lD(Kt(r)),r.LX=new af,r.MX=!1,r.UX=[],r.tC=!0,r.nC(),r}S(e,i);var r=e.prototype;return r.Kc=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.LX.Kc(t,n).catch(iu));case 1:case"end":return i.stop()}},null,this,null,We)},r.HX=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return tu(n),this.PX.uu(this.XX),i.prev=2,i.next=5,Dr.awrap(this.PX.Qm(t,n));case 5:return i.prev=5,this.PX.du(this.XX),i.finish(5);case 8:case"end":return i.stop()}},null,this,[[2,,5,8]],We)},r.FX=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.jm())&&!fE(t)&&this.Xm&&this.cm){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.cc.mutedAutoplay,e.next=6,Dr.awrap(this.cX.zX(this.hm));case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.VX(),e.abrupt("break",14);case 12:return(this.hm||n===Cm.ALL)&&(this.hm=!0,this.Gm()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,We)},r.Qm=function(t){var i=this,e=this.$N;e&&!fE(e)&&this.$s(new lm(0,0)),this.wc(),this.$N=t,au(this.Kc(function(e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return tu(e),r.prev=1,r.next=4,Dr.awrap(i.HX(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.$N=void 0,i.WD((s=r.t0,u=n.ErrorCode.SOURCE_NOT_SUPPORTED,s instanceof tf?s:s instanceof v?new tf(u,s.message,s):new tf(u,String(s)))),r.abrupt("return");case 11:return r.prev=11,i.WX(i.PX),r.finish(11);case 14:return i.$s(new oD(i.jm())),r.next=17,Dr.awrap(i.FX());case 17:case"end":return r.stop()}var s,u},null,null,[[1,6,11,14]],We)}))},r.dM=function(t){this.KN.tm=t},r.mM=function(){var t;return null!=(t=this.cP)?t:this.PX.Au},r.yM=function(){var t;return null!=(t=this.OD)?t:this.PX.um},r.WD=function(t){void 0===this.yM()&&(this.OD=t,this.cP=ey(t),this.$s(new Dm(t)))},r.Gm=function(){this.KN.Gm()},r.VX=function(){this.hm||this.$m(),this.Gm()},r.$m=function(){this.PX.$m()},r.qm=function(){this.KN.qm()},r.Ym=function(){this.Qm(void 0)},r.sy=function(){this.tC=!0,this.KN.sy()},r.uy=function(){this.tC=!1,this.KN.uy()},r.aX=function(){this.PX.aX()},r.UM=function(t){this.PX.UM(t)},r.bM=function(t){this.PX.bM(t)},r.GX=function(t){this.xX=t,t.SX(this)},r.jC=function(){return this.PX.jC()},r.jm=function(){return this.$N},r.oy=function(){return this.PX.oy()},r.lM=function(){return this.PX.tm},r.wM=function(){return this.PX.nm},r.hM=function(){return this.PX.by},r.IM=function(){return this.PX.Oy},r.CM=function(){return this.PX.Ly},r.wc=function(){var t=this;this.$N=void 0,this.OD=void 0,this.cP=void 0,Fs(this.UX),this.BX.wc(),this.WX(this.BX),this.LX.Gs(),au(this.LX.Kc(function(n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return tu(n),i.next=3,Dr.awrap(t.PX.wc());case 3:case"end":return i.stop()}},null,null,null,We)}))},r.$c=function(){var t=this;this.$s(new hD),this.OX.$c(),this.iC(),this.wc(),au(this.Kc(function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.PX.$c());case 2:t.xX&&(t.xX.$h(t),t.xX=void 0),t.LX.$c();case 4:case"end":return n.stop()}},null,null,null,We)})),this.ou()},r.WX=function(t){if(this.KN!==t){var n=this.KN.cm,i=this.KN.tm,e=this.KN.fm,r=this.KN.vm;this.iC(),t===this.PX?((r||t.tm!==i)&&(t.tm=i),t.fm!==e&&(t.fm=e),n?t.qm():t.Gm()):this.cc.retainPlaybackRateOnSourceChange?t.fm=e:1!==e&&this.$s(new ym(this.lM(),1)),this.KN=t,this.nC();for(var s=0,u=this.UX;s<u.length;s++){var o=u[s];this.$s(o)}Fs(this.UX),this.tC?t.sy():t.uy()}},r.nC=function(){this.KN.uu(this.Js)},r.iC=function(){this.KN.du(this.Js)},r.a_=function(){return t=this,e=function(n){i=n;var e=bE(n,t.cc);t.Qm(e)},r={get abr(){return t.hX.o_},get audioTracks(){return t.Fm.o_},get autoplay(){return t.Xm},set autoplay(n){t.Xm=Boolean(n)},get buffered(){return t.hM()},get canvas(){return t.YU.o_},get clip(){return t.oX.o_},get currentProgramDateTime(){var n;return null!=(n=t.Ay)?n:null},set currentProgramDateTime(n){t.Ay=null!=n?n:void 0},get currentTime(){return t.lM()},set currentTime(n){t.dM(Number(n))},get duration(){return t.wM()},get element(){return t.Ty},get ended(){return t.im},get error(){return t.mM()},get errorObject(){return t.yM()},get loop(){return t.$M.$M},set loop(n){t.$M.$M=Boolean(n)},get metrics(){return t.Ey.o_},get muted(){return t.hm},set muted(n){t.bM(n)},get network(){return t.lX.o_},get paused(){return t.cm},get playbackRate(){return t.fm},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.fm=i},get played(){return t.IM()},get poster(){return t.qX},set poster(n){t.qX=yg(n)},get preload(){return t.xy},set preload(n){t.xy=n},get presentation(){return t.jU.o_},get readyState(){return t.wg},get seekable(){return t.CM()},get seeking(){return t.vm},get source(){return i},set source(t){e(t)},get src(){return vE(t.jm())},set src(t){e({sources:t})},get textTracks(){return t.Vm.o_},get textTrackStyle(){return t.dX.o_},get uid(){return t.j_},get videoHeight(){return t.lm},get videoTracks(){return t.zm.o_},get videoWidth(){return t.dm},get volume(){return t.wm},set volume(n){t.UM(Number(n))},get latency(){return t.My.o_},destroy:function(){t.$c(),t=null,i=void 0},play:function(){t.VX()},pause:function(){t.qm()},stop:function(){i=void 0,t.Ym()},prepareWithUserAction:function(){t.$m()},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.au(t,i)},setSource:function(t){e(t)}},(n=new BS(r,!0)).gP(t),n.tu("destroy",function(){n.$c()}),r;var t,n,i,e,r},A(e,[{key:"qU",get:function(){return this.PX.qU}},{key:"YU",get:function(){return this.PX.YU}},{key:"cc",get:function(){return this.PX.cc}},{key:"GU",get:function(){return this.PX.GU}},{key:"n_",get:function(){return this.PX.n_}},{key:"mN",get:function(){return this.PX.ZU}},{key:"jU",get:function(){return this.PX.jU}},{key:"QU",get:function(){return this.PX.QU}},{key:"iU",get:function(){return this.PX.iU}},{key:"hX",get:function(){return this.PX.hX}},{key:"Xm",get:function(){return this.PX.Xm},set:function(t){this.PX.Xm=t,this.FX()}},{key:"cX",get:function(){return this.PX.cX}},{key:"Fm",get:function(){return this.PX.Fm}},{key:"fX",get:function(){return this.PX.fX}},{key:"vX",get:function(){return this.PX.QU}},{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}},{key:"Wm",get:function(){return this.PX.Wm}},{key:"Ey",get:function(){return this.PX.Ey}},{key:"lX",get:function(){return this.PX.lX}},{key:"Vm",get:function(){return this.PX.Vm}},{key:"dX",get:function(){return this.PX.dX}},{key:"zm",get:function(){return this.PX.zm}},{key:"oX",get:function(){return this.PX.oX}},{key:"$M",get:function(){return this.PX.$M}},{key:"Ay",get:function(){return this.KN.Ay},set:function(t){this.KN.Ay=t}},{key:"yy",get:function(){return this.PX.yy}},{key:"Ty",get:function(){return this.PX.Ty}},{key:"im",get:function(){return this.PX.im}},{key:"hm",get:function(){return this.PX.hm},set:function(t){this.PX.hm=t}},{key:"cm",get:function(){return this.KN.cm}},{key:"qX",get:function(){return this.OX.wd||""},set:function(t){this.OX.CX=t}},{key:"fm",get:function(){return this.PX.fm},set:function(t){this.KN.fm=t}},{key:"xy",get:function(){return this.PX.xy},set:function(t){this.PX.xy=sS(t)}},{key:"wg",get:function(){return this.KN.wg}},{key:"vm",get:function(){return this.KN.vm}},{key:"j_",get:function(){return this.PX.j_}},{key:"lm",get:function(){return this.PX.lm}},{key:"dm",get:function(){return this.PX.dm}},{key:"wm",get:function(){return this.PX.wm},set:function(t){this.PX.wm=t}},{key:"My",get:function(){return this.PX.My}}]),e}(Xg)}function wD(t,n){var i=Om(n),e=new(uD||(uD=KR(uD=dD(YR),GR.wX),uD=KR(uD,GR._X)),uD)(t,i),r=e.o_;return e.aX(),e.GX(sD),d.defineProperty(r,"constructor",{value:wD}),r=hg(r),function(t){for(var n=0;n<JR.length;n++)(0,JR[n])(t)}(e),r}ou(function(){t.dispatchEvent&&t.dispatchEvent(nD("theoplayerready"))});var _D,gD={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Bu(t)},n.decode=function(t){return Cu(t)},t}())},mD=["hls","airplay"],yD=sD.o_,kD=Qb.oR.registerContentProtectionIntegration.bind(Qb.oR),pD=[Tf.zf,Tf.Ff,vm.$g,Tf.ev,Tf.Vf,Tf.Lf,Tf.jf,Tf.Yf,Tf.Bf,Tf.Wf,Tf.rv,Tf.Cf,vm.b_,Tf.qf,Dg.hg,lu.Tu,lu.Eu,Tf.Rf,Tf.If,Tf.uv],bD={YX:!1},AD=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.bB="jX"}(_D||(_D={}));var TD,SD=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Mc=void 0,s.PD=void 0,s.ef=void 0,s.QX=!1,s.ZX=new Wo,s.KX=!1,s.LX=new af,s.JX=void 0,s.Es=void 0,s.ac=void 0,s.$X=function(){s.KX=!0},s.tH=function(){s.nH(!0)},s.Mc=n,s.PD=i,s.ef=i.sN,s.JX=e,s.Es=r,s.ef.addEventListener("loadedmetadata",s.$X);for(var u=0;u<AD.length;u++){var o=AD[u];s.ef.addEventListener(o,s.tH)}return s}S(i,t);var e=i.prototype;return e.iH=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.Es.Ds(t.gs,n));case 2:return i=r.sent,r.next=5,Dr.awrap(i.mc());case 5:return e=r.sent,r.next=8,Dr.awrap(this.eH(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,We)},e.rH=function(t){var n=this,i=this.ac;return i?0!==t.hN.length&&t.hN.some(function(t){return t.hc.gs===i.hc}):0!==this.Mc.hN.length?t.hN.some(function(t){return n.Mc.hN.some(function(n){return t.hc===n.hc})}):0===t.hN.length||!this.KX},e.sH=function(t){return this.JX.sH(t),this.Mc=t,We.resolve()},e.Xs=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:for(this.ou(),this.ef.removeEventListener("loadedmetadata",this.$X),t=0;t<AD.length;t++)n=AD[t],this.ef.removeEventListener(n,this.tH);return i.next=5,Dr.awrap(this.LX.$c());case 5:return i.next=7,Dr.awrap(this.uH());case 7:return i.next=9,Dr.awrap(this.JX.wc());case 9:return i.next=11,Dr.awrap(this.eH(void 0));case 11:case"end":return i.stop()}},null,this,null,We)},e.nH=function(t){t!==this.QX&&(this.QX=t,t?this.ZX.Qu(void 0):this.ZX=new Wo)},e.eH=function(t){var n=this;return this.LX.Kc(function(){return n.oH(t)})},e.oH=function(t){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.ef.src){e.next=4;break}throw new ty(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.ef.src){e.next=6;break}throw new ty(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!t||this.QX){e.next=9;break}return e.next=9,Dr.awrap(this.ZX.Gu);case 9:if(!(i=this.ac)){e.next=14;break}return e.next=13,Dr.awrap(i.dc(this.ef));case 13:this.ac=void 0;case 14:if(!t){e.next=18;break}return e.next=17,Dr.awrap(t.lc(this.ef));case 17:this.ac=t;case 18:case"end":return e.stop()}},null,this,null,We)},e.Qm=function(t){var n=this;return this.LX.Kc(function(){return n.aH(t)})},e.aH=function(t){this.nH(!1);var n=this.PD.fm;this.ef.src=t,this.PD.fm=n},e.hH=function(t){var n=this;return this.LX.Kc(function(){return n.cH(t)})},e.cH=function(t){this.aH(t),this.ef.load()},e.uH=function(){var t=this;return this.LX.Kc(function(){return t.fH()})},e.fH=function(){this.nH(!1),ur(this.ef)},e.vH=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.ac){t.next=3;break}return t.next=3,Dr.awrap(this.ac.wc());case 3:case"end":return t.stop()}},null,this,null,We)},A(i,[{key:"Fm",get:function(){throw new v("Not implemented")}},{key:"cc",get:function(){return this.Mc}},{key:"sN",get:function(){return this.ef}},{key:"zm",get:function(){throw new v("Not implemented")}}]),i}(du),ED=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.JL=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.cc,n.t0=t.fN,n.next=n.t0===Wg.Fg?4:n.t0===Wg.zg?4:(n.t0,Wg.Hg,6);break;case 4:return this.ef.setAttribute("crossorigin",t.fN),n.abrupt("break",8);case 6:return this.ef.removeAttribute("crossorigin"),n.abrupt("break",8);case 8:return void 0!==t.xy?this.ef.preload=t.xy:this.ef.preload=eS.cD,void 0!==t.vN?this.ef.title=t.vN:rr(this.ef),n.next=12,Dr.awrap(this.Qm(t.yg));case 12:this.JX.Jh(this,t);case 13:case"end":return n.stop()}},null,this,null,We)},i.rH=function(t){return!1},i.sH=function(t){return We.resolve(void 0)},i.Xs=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return rr(this.ef),n.next=3,Dr.awrap(t.prototype.Xs.call(this));case 3:case"end":return n.stop()}},null,this,null,We)},n.lH=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Gl))},A(n,[{key:"by",get:function(){return fS.VC(this.ef.buffered)}},{key:"nm",get:function(){return this.ef.duration}},{key:"dH",get:function(){var t=this.nm;if(!isFinite(t))return!1;var n=this.by;return 0!==n.M_&&t-n.hC(n.M_-1)<1/6}},{key:"xy",get:function(){return this.ef.preload},set:function(t){this.ef.preload=t}},{key:"Ly",get:function(){return fS.VC(this.ef.seekable)}},{key:"wH",get:function(){return this.by}},{key:"_H",get:function(){if(sr(this.ef)&&(this.ef.videoWidth>0||this.ef.videoHeight>0))return this.by}}]),n}(SD),ID=function(t){function n(n){var i;return(i=t.call(this,Tf.Vf)||this).currentTime=n,i}return S(n,t),n}(_u),RD=function(t){function n(){return t.call(this,Tf.Lf)||this}return S(n,t),n}(_u);!function(t){t.gH="mH"}(TD||(TD={}));var DD,ND,CD=[TD.gH];!function(t){t[t.yH=0]="yH",t[t.wv=1]="wv",t[t.kH=2]="kH"}(DD||(DD={})),function(t){t.pH="bH"}(ND||(ND={}));var PD=function(t){function n(n){var i;return(i=t.call(this,ND.pH)||this).AH=n,i}return S(n,t),n}(_u),BD=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).TH=fS.qC(),n}S(n,t);var i=n.prototype;return i.SH=function(t,n){var i=new fS([t,n]);this.TH=this.TH.EC(i),this.$s(new PD(i))},i.EH=function(t,n){this.TH=this.TH.RC(new fS([t,n]))},i.wc=function(){this.TH=fS.qC()},i.$c=function(){this.ou()},A(n,[{key:"IH",get:function(){return this.TH}}]),n}(du);function OD(t,n){return void 0===n&&(n=new yd({highWaterMark:1/0})),new cd(new LD(t,n),{highWaterMark:0})}var xD,LD=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.Rv=void 0,this.RH=void 0,this.DH=void 0,this.Mv=[],this.Uv=0,this.RU=void 0,this.NH=!1,this.CH=void 0,this.PH=function(t){return t.done?(i.BH(),void i.RU.close()):(i.Mv.push(t.value),i.Uv+=i.RH(t.value),i.NH&&i.BH(),i.OH()?i.Rv.read().then(i.PH):void 0)},this.Tw=function(t){i.BH(),i.RU.error(t)},this.Rv=t.getReader(),this.RH=r,this.DH=u}var n=t.prototype;return n.start=function(t){this.RU=t,this.OH()&&this.xH()},n.pull=function(){this.Mv.length>0?this.BH():this.NH=!0,this.OH()&&this.xH()},n.cancel=function(t){return Fs(this.Mv),this.Uv=0,this.NH=!1,this.Rv.cancel(t)},n.BH=function(){if(0!==this.Mv.length){var t=this.Mv;this.Mv=[],this.Uv=0,this.NH=!1,this.RU.enqueue(t)}},n.OH=function(){return!!this.NH||this.DH-this.Uv>0},n.xH=function(){var t=this;if(!this.CH){var n=this.Rv.read().then(this.PH).catch(this.Tw);this.CH=n;var i=function(){t.CH===n&&(t.CH=void 0)};n.then(i,i)}},t}(),MD=function(){function t(){this.LH=[],this.xu=0}var n=t.prototype;return n.SX=function(t){this.LH.push(t),this.xu+=t.byteLength},n.MH=function(t){if(this.xu<=t)return this.UH();for(var n=this.LH,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(Bo(n[e],0,s)),i+=s}return{LH:r,xu:i}},n.XH=function(t){var n=this.MH(t);return 1===n.LH.length?n.LH[0]:Xu(n.LH,n.xu)},n.UH=function(){return{LH:this.LH,xu:this.xu}},n.HH=function(t){if(this.xu<=t)return this.FH();for(var n=this.LH,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(Bo(n[0],0,s)),n[0]=Bo(n[0],s),i+=s}return this.xu-=i,{LH:r,xu:i}},n.zH=function(t){var n=this.HH(t);return 1===n.LH.length?n.LH[0]:Xu(n.LH,n.xu)},n.FH=function(){var t=this.UH();return this.LH=[],this.xu=0,t},n.VH=function(){var t=1===this.LH.length?this.LH[0]:Xu(this.LH,this.xu);return this.LH=[],this.xu=0,t},t}();!function(t){t[t.WH=0]="WH",t[t.GH=1]="GH",t[t.qH=2]="qH"}(xD||(xD={}));var UD=function(){var t=n.prototype;function n(){this.Mv=new MD,this.ye=xD.WH,this.YH=0,this.jH=0,this.QH()}return t.ZH=function(t,n){},t.KH=function(){},t.JH=function(t){this.Mv.SX(t),this.$H(!1)},t.tF=function(){this.$H(!0)},t.nF=function(){return this.ye!==xD.WH||0!==this.Mv.xu},t.$H=function(t){for(;0!==this.Mv.xu;){if(!t&&this.YH>this.Mv.xu)return;switch(this.ye){case xD.WH:this.iF(t);break;case xD.GH:this.eF(t);break;case xD.qH:this.rF(t)}}},t.QH=function(){this.ye=xD.WH,this.YH=8},t.iF=function(t){var n=xo(this.Mv.XH(this.YH)),i=new zo,e=ip.HA(n,i);if(!e.xA)return this.YH=e.zA,void(t&&this.YH>this.Mv.xu&&this.sF(this.Mv.xu));var r=e.FA._s,s=e.FA.xu;0===s&&(s=1/0),this.ZH(r,s),this.uF(r)?this.oF(s):this.sF(s)},t.oF=function(t){this.ye=xD.GH,this.YH=t},t.eF=function(t){var n=xo(this.Mv.zH(this.YH)),i=new zo,e=ip.LA(n,i,!t);if(!e.xA)throw new np(i.Lu);this.KH(),this.aF(e.MA),this.QH()},t.sF=function(t){this.ye=xD.qH,this.YH=0,this.jH=t},t.rF=function(t){var n=this.Mv.HH(this.jH);this.jH-=n.xu;for(var i=0,e=n.LH;i<e.length;i++){var r=e[i];this.hF(r)}(0===this.jH||t&&this.jH===1/0)&&(this.KH(),this.QH())},n}();function XD(t){return t instanceof Wh}function HD(t){return t instanceof zh}function FD(t){return t instanceof Xh||t instanceof Hh}function zD(t){return t instanceof ch}function VD(t){return t instanceof Ha}function WD(t){return t instanceof Ph}function GD(t){return t instanceof Nh}function qD(t){return t instanceof ic}function YD(t){return t instanceof Zh}function jD(t,n){var i=xs(t.boxes,YD);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var s=r[e];s instanceof Jh&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}}var QD=function(t){function n(n){var i;return(i=t.call(this)||this).RU=void 0,i.cF=void 0,i.fF=void 0,i.vF=Br(),i.cF=n,i}S(n,t);var i=n.prototype;return i.start=function(t){this.RU=t},i.transform=function(t){this.JH(t)},i.flush=function(){this.tF()},i.uF=function(t){return t===fk.Ab||t===fk.tA||t===fk.cA},i.aF=function(t){var n=this.lF(t);this.RU.enqueue(n)},i.hF=function(t){this.RU.enqueue(t)},i.lF=function(t){var n=Lo(t.zi.zi);switch(t._s){case"moov":return this.dF(n);case"sidx":return this.wF(n);case"moof":return this._F(n)}return n},i.gF=function(t){var n=this.vF.get(t);if(void 0===n)throw new v("Expected to have found a media header timescale for track ID "+t+".");return n},i.dF=function(t){for(var n=kc(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof xh?n.boxes[i]=this.mF(e):e instanceof Lh?n.boxes[i]=this.yF(e):e instanceof zh&&this.kF(e)}for(var r=0,s=n.boxes;r<s.length;r++){var u=s[r];u instanceof Ph&&this.pF(u)}return n.serialize().join()},i.mF=function(t){this.fF=t.timescale;var n=KD(ft.fromNumber(t.duration,!0),this.bF,this.cF);return 0!==n.getHighBits()?this.yF(function(t){return new Lh({creation:ft.fromNumber(t.creationTime,!0),modification:ft.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ft.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.cF,t.duration=n.toInt(),t)},i.yF=function(t){return this.fF=t.timescale,t.timescale=this.cF,t.duration=KD(t.duration,this.bF,this.cF),t},i.kF=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof Xh?(n=e.trackId,t.boxes[i]=this.AF(e)):e instanceof Hh?(n=e.trackId,t.boxes[i]=this.TF(e)):e instanceof ch?this.SF(e,n):e instanceof $a&&this.EF(e)}},i.AF=function(t){var n=KD(ft.fromNumber(t.duration,!0),this.bF,this.cF);return 0!==n.getHighBits()?this.TF(function(t){return new Hh({creation:ft.fromNumber(t.creationTime,!0),modification:ft.fromNumber(t.modificationTime,!0),duration:ft.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.TF=function(t){return t.duration=KD(t.duration,this.bF,this.cF),t},i.SF=function(t,n){for(var i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof uh?t.boxes[i]=this.IF(e,n):e instanceof oh&&(t.boxes[i]=this.RF(e,n))}},i.IF=function(t,n){this.vF.set(n,t.timescale);var i=KD(ft.fromNumber(t.duration,!0),t.timescale,this.cF);return 0!==i.getHighBits()?this.RF(function(t){return new oh({creation:ft.fromNumber(t.creationTime,!0),modification:ft.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ft.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.cF,t.duration=i.toInt(),t)},i.RF=function(t,n){return this.vF.set(n,t.timescale),t.timescale=this.cF,t.duration=KD(t.duration,t.timescale,this.cF),t},i.EF=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof Za?this.DF(e):e instanceof Ka&&this.NF(e)}},i.DF=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=ZD(e.mediaTime,this.bF,this.cF),e.segmentDuration=ZD(e.segmentDuration,this.bF,this.cF)}},i.NF=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=KD(e.mediaTime,this.bF,this.cF),e.segmentDuration=KD(e.segmentDuration,this.bF,this.cF)}},i.pF=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Nh?this.CF(i):i instanceof Ih?t.boxes[n]=this.PF(i):i instanceof Rh&&(t.boxes[n]=this.BF(i))}},i.CF=function(t){var n=this.gF(t.trackId);t.defaultSampleDuration=ZD(t.defaultSampleDuration,n,this.cF)},i.PF=function(t){var n=KD(ft.fromNumber(t.fragmentDuration,!0),this.bF,this.cF);return 0!==n.getHighBits()?this.BF(function(t){return new Rh(ft.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.BF=function(t){return t.fragmentDuration=KD(t.fragmentDuration,this.bF,this.cF),t},i.wF=function(t){var n=pc(t);return(n=n instanceof ac?this.OF(n):this.xF(n)).serialize().join()},i.OF=function(t){var n=t.timescale,i=KD(ft.fromNumber(t.earliestPresentationTime,!0),n,this.cF);if(0!==i.getHighBits())return this.xF(function(t){return new hc(t.referenceId,t.timescale,ft.fromNumber(t.earliestPresentationTime,!0),ft.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.cF,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var s=r[e];s.subsegmentDuration=ZD(s.subsegmentDuration,n,this.cF)}return t},i.xF=function(t){var n=t.timescale;t.timescale=this.cF,t.earliestPresentationTime=KD(t.earliestPresentationTime,n,this.cF);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=ZD(r.subsegmentDuration,n,this.cF)}return t},i._F=function(t){for(var n=bc(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var s=r[e];s instanceof tc&&this.LF(s)}var u=n.getSize();if(u!==i)for(var o=u-i,a=0,h=n.boxes;a<h.length;a++){var c=h[a];c instanceof tc&&jD(c,o)}return n.serialize().join()},i.LF=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof Zh?(n=this.gF(e.trackId),this.MF(e,n)):e instanceof Yh?t.boxes[i]=this.UF(e,n):e instanceof jh?t.boxes[i]=this.XF(e,n):e instanceof Jh&&this.HF(e,n)}},i.MF=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=ZD(t.defaultSampleDuration,n,this.cF))},i.UF=function(t,n){var i=KD(ft.fromNumber(t.baseMediaDecodeTime,!0),n,this.cF);return 0!==i.getHighBits()?this.XF(function(t){return new jh(ft.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.XF=function(t,n){return t.baseMediaDecodeTime=KD(t.baseMediaDecodeTime,n,this.cF),t},i.HF=function(t,n){for(var i,e,r,s=0,u=0,o=0,a=t.samples;o<a.length;o++){var h=a[o];if(void 0!==h.duration){var c=ZD(u+=h.duration,n,this.cF);h.duration=c-s,s=c}void 0!==h.compositionTimeOffset&&(h.compositionTimeOffset=(i=h.compositionTimeOffset,e=n,r=this.cF,ft.fromInt(i,!1).multiply(r).divide(e).toNumber()))}},A(n,[{key:"bF",get:function(){if(void 0===this.fF)throw new v("Expected to have found a movie header timescale.");return this.fF}}]),n}(UD);function ZD(t,n,i){return ft.fromInt(t,!0).multiply(i).divide(n).toNumber()}function KD(t,n,i){return Qy.rp(t).Ip(Qy.sp(i,!0)).Cp(Qy.sp(n,!0))._p()}var JD,$D,tN,nN=1e5,iN=function(){function t(t){this.FF=void 0,this.FF=new QD(t)}return t.prototype.zF=function(t){return t.pipeThrough(new kd(this.FF))},t}();function eN(t,n,i){var e=io(t,n);if(e!==i)throw new l("Expected descriptor with tag "+i+", but found "+e)}function rN(t,n){eN(t,n,JD.VF);var i,e,r,s=sN(t,n),u=n.Lu+s,o=ao(t,n),a=io(t,n),h=0!=(64&a),c=0!=(32&a),f=31&a;(0!=(128&a)&&(i=ao(t,n)),h)&&(e=wo(t,n,io(t,n)));c&&(r=wo(t,n,2));var v=function(t,n){eN(t,n,JD.WF);var i,e=sN(t,n),r=n.Lu+e,s=io(t,n),u=io(t,n),o=u>>2,a=0!=(2&u),h=oo(t,n,3),c=co(t,n),f=co(t,n);if(n.Lu<r){var v=function(t,n){return t.getUint8(n.Lu)}(t,n);v===JD.GF&&(i=function(t,n){eN(t,n,JD.GF);var i=sN(t,n),e=ro(t,n,i);return{qF:JD.GF,YF:e}}(t,n))}return n.Xu(r),{qF:JD.WF,jF:s,QF:o,ZF:a,KF:h,JF:c,tz:f,nz:i}}(t,n);return n.Xu(u),{qF:JD.VF,Y_:o,iz:i,wd:e,ez:f,rz:r,sz:v}}function sN(t,n){for(var i=0,e=0;e<4;e++){var r=io(t,n);if(i=i<<7|127&r,!(128&r))break}return i}function uN(t,n){for(var i=io(t,n),e=io(t,n),r=io(t,n),s=io(t,n),u=3&io(t,n),o=31&io(t,n),a=[],h=0;h<o;h++){var c=ao(t,n);a.push(ro(t,n,c))}for(var f=io(t,n),v=[],l=0;l<f;l++){var d=ao(t,n);v.push(ro(t,n,d))}return{oz:i,cz:e,fz:r,vz:s,lz:u,wz:a,_z:v}}function oN(t){var n=tp(op.jA(t),fk.Ab);if(n){for(var i=n.FA.Op,e=[],r=0,s=n.hT;r<s.length;r++){for(var u=s[r],o=u.FA.bT,a=u.mT.FA.Op,h=void 0,c=void 0,f=0,v=u.mT.NT.BT.xT.MT;f<v.length;f++){var l,d,w=aN(v[f]);if(w)h=null!=(l=w.gz)?l:h,c=null!=(d=w.mz)?d:c}e.push({bT:o,Op:a,yz:{gz:h,mz:c,kz:void 0}})}return{Op:i,hT:e}}}function aN(t){var n,i;if(t._s===fk.Lb)n=function(t){return"avc1."+hN(t.cz,2)+hN(t.fz,2)+hN(t.vz,2)}(uN(xo(t.fS.zi),new zo));else if(t._s===fk.Ub||t._s===fk.Xb){var e=function(t,n){for(var i=n.Wu(),e=Wu(t,i,8),r=Wu(t,i,2),s=Wu(t,i,1),u=Wu(t,i,5),o=Wu(t,i,32),a=[],h=0;h<6;h++)a.push(Wu(t,i,8));var c=Wu(t,i,8);i.Mu(4);var f=Wu(t,i,12);i.Mu(6);var v=Wu(t,i,2);i.Mu(6);var l=Wu(t,i,2);i.Mu(5);var d=Wu(t,i,3);i.Mu(5);for(var w=Wu(t,i,3),_=Wu(t,i,16),g=Wu(t,i,2),m=Wu(t,i,3),y=Wu(t,i,1),k=Wu(t,i,2),p=Wu(t,i,8),b=[],A=0;A<p;A++){var T=Wu(t,i,1);i.Mu(1);for(var S=Wu(t,i,6),E=Wu(t,i,16),I=[],R=0;R<E;R++){var D=Wu(t,i,16),N=ro(t,new zo(i.Lu>>3),D);i.Mu(8*D),I.push({pz:D,bz:N})}b.push({Az:T,Tz:S,Sz:E,Ez:I})}return{oz:e,Iz:r,Rz:s,Dz:u,Nz:a,Cz:c,Pz:f,Bz:v,Oz:o,xz:l,Lz:d,Mz:w,Uz:_,Xz:m,Hz:y,Fz:g,lz:k,zz:p,Vz:b}}(xo(t.wS.zi),new zo);n=function(t,n){var i=t.toString()+".";switch(n.Iz){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.Dz.toString()+".",i+=(e=n.Oz,r=e,r=(r=(r=(r=(r=r>>>1&1431655765|(1431655765&r)<<1)>>>2&858993459|(858993459&r)<<2)>>>4&252645135|(252645135&r)<<4)>>>8&16711935|(16711935&r)<<8)>>>16|r<<16).toString(16)+".",n.Rz){case 0:i+="L";break;case 1:i+="H";break;default:return}var e,r;i+=n.Cz.toString();for(var s=n.Nz.reduce(function(t,n){return 0===t?n:n+1},0),u=0;u<s;u++)i+="."+n.Nz[u].toString(16).toUpperCase();return i}(t._s,e)}else if(t._s===fk.Fb){var r=function(t,n){var i=n.Wu(),e=Wu(t,i,8);i.Mu(24);for(var r=Wu(t,i,8),s=Wu(t,i,8),u=Wu(t,i,4),o=Wu(t,i,3),a=Vu(t,i),h=Wu(t,i,8),c=Wu(t,i,8),f=Wu(t,i,8),v=Wu(t,i,16),l=new Array(8),d=0;d<v;d++)l[d]=Wu(t,i,8);return{oz:e,Wz:r,Gz:s,qz:u,Yz:o,jz:a,NS:h,CS:c,PS:f,Qz:v,Zz:l}}(xo(t.gS.zi),new zo);n=function(t,n){var i=t.toString()+".";return i+="0"+n.Wz+".",i+=gs(""+n.Gz,2,"0")+".",i+=gs(""+n.qz,2,"0")+".",i+=gs(""+n.Yz,2,"0")+".",i+=gs(""+n.NS,2,"0")+".",i+=gs(""+n.CS,2,"0")+".",i+=gs(""+n.PS,2,"0")+".",i+="0"+n.jz}(t._s,r)}else if(t._s===fk.Vb){var s=function(t,n){var i=n.Wu();i.Mu(1);var e=Wu(t,i,7),r=Wu(t,i,3),s=Wu(t,i,5),u=Vu(t,i),o=Vu(t,i),a=Vu(t,i),h=Vu(t,i),c=Vu(t,i),f=Vu(t,i),v=Wu(t,i,2);i.Mu(3);var l,d=Vu(t,i);return d?l=Wu(t,i,4):i.Mu(4),{qA:e,Kz:r,Jz:s,$z:u,tV:o,nV:a,iV:h,eV:c,rV:f,sV:v,uV:d,oV:l}}(xo(t.kS.zi),new zo);n=function(t,n,i){var e=t.toString()+".";if(e+=n.Kz+".",e+=""+gs(""+n.Jz,2,"0"),e+=(0===n.$z?"M":"H")+".",e+=(1===n.nV?12:10)+".",e+=(1===n.Kz?0:n.iV)+".",e+=""+n.eV+n.rV+(1===n.eV&&1===n.rV?n.sV:"0"),i&&i.DS===lk.ON_SCREEN_COLOURS){var r=i;e+="."+gs(""+r.NS,2,"0")+"."+gs(""+r.CS,2,"0")+"."+gs(""+r.PS,2,"0")+"."+(r.OS?1:0)}return e}(t._s,s,t.pS)}else{if(t._s!==fk.Yb)return(t._s===fk.$b||t._s===fk.Jb)&&t.TS?aN(t.TS):void 0;i=function(t){var n=t.sz;switch(n.jF){case $D.aV:return function(t){var n;if(null==(n=t.nz)||!n.YF)return"mp4a.40";return"mp4a.40."+function(t,n){var i=Wu(t,n,5);31===i&&(i=32+Wu(t,n,6));var e,r=Wu(t,n,4);return 15===r&&(e=Wu(t,n,24)),{hV:i,cV:r,fV:e,vV:Wu(t,n,4)}}(xo(t.nz.YF),new Gu).hV}(n);case $D.lV:return"mp4a.40.2";case $D.dV:return"mp4a.40.34"}}(rN(xo(t.sS.zi),new zo))}return{gz:n,mz:i,kz:void 0}}function hN(t,n){return gs(t.toString(16),n,"0")}function cN(t,n){var i=op.jA(xo(t)),e=function(t,n){for(var i,e=0,r=t.hT;e<r.length;e++){var s,u=r[e],o=null==(s=u.ZS)?void 0:s.ZS;o&&function(){var t=u.FA.bT,e=xs(n.hT,function(n){return n.bT===t}),r=rk.rp(o,e.Op);i&&!r.jk(i)||(i=r)}()}return i}(tp(i,fk.tA),n),r=tp(i,fk.oA);return{ck:e.Fk(),wV:r.zi}}function fN(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t._s,e.next=e.t0===DD.yH?3:e.t0===DD.wv?4:e.t0===DD.kH?9:10;break;case 3:return e.abrupt("return",t);case 4:return e.next=6,Dr.awrap(Ld(t.zi,n));case 6:return i=e.sent,tu(n),e.abrupt("return",{_s:DD.yH,zi:new y(i)});case 9:throw new v("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 10:case"end":return e.stop()}},null,null,null,We)}!function(t){t[t.VF=3]="VF",t[t.WF=4]="WF",t[t.GF=5]="GF"}(JD||(JD={})),function(t){t[t.aV=64]="aV",t[t.lV=103]="lV",t[t.dV=107]="dV"}($D||($D={})),function(t){t[t._V=0]="_V",t[t.gV=1]="gV",t[t.lV=2]="lV",t[t.mV=5]="mV",t[t.yV=34]="yV"}(tN||(tN={}));var vN=20,lN=M.On,dN=function(t){function n(n,i,e,r,s){var u,o;if((o=t.call(this)||this).kV=void 0,o.pV=void 0,o.bV=void 0,o.AV=void 0,o.TV=void 0,o.YL=vN,o.jL=sR,o.SV=!1,o.EV=!1,o.RV=void 0,o.DV=new Ks,o.NV=void 0,o.CV=!1,o.PV=void 0,o.BV=!1,o.OV=void 0,o.xV=function(){o.SV=!1},o.kV=i,o.pV=n,o.bV=e,o.bV.addEventListener("updateend",o.xV),o.AV=r,o.TV=s,o.BV=wN(r.Gl,s),null!=(u=i.cc)&&u.$e){var a,h=null!=(a=i.cc.LV)?a:nN;o.NV=new iN(h)}return o}S(n,t);var i=n.prototype;return i.MV=function(t,n,i){var e=this;switch(t._s){case DD.yH:case DD.wv:return this.UV(function(i){return e.XV(t,n,i)},i);case DD.kH:throw new v("Opaque segments are not supported on web.")}},i.HV=function(t,n){var i=this;switch(t._s){case DD.yH:return this.UV(function(n){return i.FV(t,n)},n);case DD.wv:throw new v("Streaming initialization segments are not supported on web.");case DD.kH:throw new v("Opaque initialization segments are not supported on web.")}},i.FV=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.BV){i.next=3;break}return this.OV=oN(xo(t.zi)),i.abrupt("return");case 3:return i.next=5,Dr.awrap(this.zV(t,void 0,n));case 5:lN&&(this.CV=!1,this.PV=t);case 6:case"end":return i.stop()}},null,this,null,We)},i.XV=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(lN&&this.CV&&this.PV)){u.next=3;break}return u.next=3,Dr.awrap(this.FV(this.PV,i));case 3:if(u.prev=3,tu(i),!this.BV||!this.OV){u.next=12;break}return u.next=8,Dr.awrap(fN(t,i));case 8:r=u.sent,s=cN(r.zi,this.OV),t={_s:DD.yH,zi:s.wV},n=Nr({},n,{gb:s.ck+(null!=(e=n.gb)?e:0)});case 12:return u.next=14,Dr.awrap(this.zV(t,n,i));case 14:this.$s(new _u(TD.gH));case 15:return u.prev=15,t._s===DD.wv&&t.zi.cancel(new Js).catch(K),u.finish(15);case 18:case"end":return u.stop()}},null,this,[[3,,15,18]],We)},i.zV=function(t,n,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(tu(i),!n){s.next=4;break}return s.next=4,Dr.awrap(this.VV(n));case 4:s.t0=t._s,s.next=s.t0===DD.yH?7:s.t0===DD.wv?15:23;break;case 7:if(!this.NV){s.next=12;break}return e=this.NV.zF(Od(t.zi)),s.next=11,Dr.awrap(this.WV(e,i));case 11:return s.abrupt("return",s.sent);case 12:return s.next=14,Dr.awrap(this.GV(t.zi));case 14:return s.abrupt("return",s.sent);case 15:if(!this.NV){s.next=20;break}return r=this.NV.zF(t.zi),s.next=19,Dr.awrap(this.WV(r,i));case 19:return s.abrupt("return",s.sent);case 20:return s.next=22,Dr.awrap(this.WV(t.zi,i));case 22:return s.abrupt("return",s.sent);case 23:case"end":return s.stop()}},null,this,null,We)},i.WV=function(t,n){var i,e,r,s,u,o,a,h;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=this.pV.by,e=OD(t),r=e.getReader(),s=!1,c.prev=4;case 5:return c.next=8,Dr.awrap(eu(r.read(),n));case 8:if(!(u=c.sent).done){c.next=12;break}return s=!1,c.abrupt("break",19);case 12:return tu(n),o=Uu(u.value),s=!0,c.next=17,Dr.awrap(this.GV(o));case 17:c.next=5;break;case 19:c.next=36;break;case 21:if(c.prev=21,c.t0=c.catch(4),r.cancel(c.t0).catch(K),!s){c.next=35;break}return c.next=27,Dr.awrap(this.qV());case 27:a=this.pV.by.kC(i.pC()),h=0;case 29:if(!(h<a.M_)){c.next=35;break}return c.next=32,Dr.awrap(this.YV(a.oC(h),a.hC(h)));case 32:h++,c.next=29;break;case 35:throw c.t0;case 36:case"end":return c.stop()}},null,this,[[4,21]],We)},i.jV=function(t,n){var i=this;return this.UV(function(){return i.QV(t,n)})},i.QV=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.bV.appendWindowStart===t&&this.bV.appendWindowEnd===n){i.next=6;break}return i.next=3,Dr.awrap(this.qV());case 3:this.bV.appendWindowStart=0,this.bV.appendWindowEnd=n,this.bV.appendWindowStart=t;case 6:case"end":return i.stop()}},null,this,null,We)},i.VV=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.bV.timestampOffset!==t.gb){n.next=2;break}return n.abrupt("return");case 2:n.prev=2,this.bV.timestampOffset=t.gb,n.next=11;break;case 6:return n.prev=6,n.t0=n.catch(2),n.next=10,Dr.awrap(this.qV());case 10:this.bV.timestampOffset=t.gb;case 11:case"end":return n.stop()}},null,this,[[2,6]],We)},i.GV=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.bV.appendBuffer(t),this.EV=!0,n.next=4,Dr.awrap(this.ZV());case 4:case"end":return n.stop()}},null,this,null,We)},i.KV=function(t,n,i){var e=this;return this.UV(function(i){return e.YV(t,n,i)},i)},i.YV=function(t,n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return tu(i),this.bV.remove(t,n),e.next=4,Dr.awrap(this.ZV());case 4:case"end":return e.stop()}},null,this,null,We)},i.ZV=function(){var t=this,n=this.pV.by;return new We(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},a=function(){s=!1,r="aborted"},h=function(){c(),s&&!r?(n.LC(t.pV.by)||t.$s(new _u(TD.gH)),i()):e(new v(r))},c=function(){t.bV.removeEventListener("update",u),t.bV.removeEventListener("error",o),t.bV.removeEventListener("abort",a),t.bV.removeEventListener("updateend",h)};t.bV.addEventListener("update",u),t.bV.addEventListener("error",o),t.bV.addEventListener("abort",a),t.bV.addEventListener("updateend",h)})},i.JV=function(){var t=this;return this.UV(function(){return t.qV()})},i.qV=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.kV.wg===xN.jd){t.next=2;break}return t.abrupt("return");case 2:lN&&(this.CV=!0),this.bV.updating&&(this.SV=!0);try{this.bV.abort()}catch(t){0,this.SV=!1}if(!this.qx){t.next=8;break}return t.next=8,Dr.awrap(this.ZV().catch(K));case 8:case"end":return t.stop()}},null,this,null,We)},i.$V=function(){return"function"==typeof this.bV.changeType},i.sH=function(t){var n;this.tW(),this.kV.wg!==xN.nW&&(this.AV=t,this.TV=null!=(n=XN(t.Gl))?n:t.Gl,this.BV=wN(t.Gl,this.TV),this.$V()&&this.bV.changeType(this.TV))},i.iW=function(){this.kV.wg!==xN.Bf||this.RV||this.qx||(this.bV.timestampOffset=this.bV.timestampOffset,this.kV.eW())},i.UV=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.tW(),(i=new Ks).qs(this.DV.js),n&&i.qs(n),e.prev=4,this.RV=t(i.js),e.next=8,Dr.awrap(this.RV);case 8:if(this.kV.eW(),!this.qx){e.next=12;break}return e.next=12,Dr.awrap(this.ZV());case 12:return e.prev=12,this.RV=void 0,i.Xs(),e.finish(12);case 16:case"end":return e.stop()}},null,this,[[4,,12,16]],We)},i.tW=function(){if(this.RV)throw new v("Internal error")},i.Xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ou(),this.DV.Gs(),!this.RV){t.next=6;break}return t.next=5,Dr.awrap(this.RV.catch(K));case 5:this.RV=void 0;case 6:this.bV.removeEventListener("updateend",this.xV);case 7:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"XL",get:function(){return this.YL},set:function(t){this.YL=t}},{key:"VL",get:function(){return this.jL},set:function(t){this.jL=t}},{key:"qx",get:function(){return this.SV||this.bV.updating}}]),n}(du);function wN(t,n){return ls(t,"audio/mp4")&&ls(n,"audio/mpeg")}var _N=function(){function t(t,n){this.rW=void 0,this.bV=void 0,this.sW=void 0,this.rW=n,this.bV=t}var n=t.prototype;return n.dH=function(){return!!this.sW&&this.by.wC().TN(this.sW)},n.uW=function(){var t=this.by;this.sW=t.M_>0?t.hC(t.M_-1):0,this.rW.oW()},n.iW=function(){this.sW=void 0},A(t,[{key:"by",get:function(){if(this.rW.wg===xN.nW)return fS.qC();var t=fS.VC(this.bV.buffered).kC(new fS([0,1/0])),n=this.sW;return void 0!==n&&t.M_>0&&t.hC(t.M_-1)===n&&(t=t.EC(fS.GC(n))),t}}]),t}();function gN(t){var n=t.pc("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function mN(t,n){var i=yN(t)||kN(t),e=yN(n)||kN(n);return!i&&!e||t===n}function yN(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function kN(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function pN(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],a=e[2];if(s!==o)return!1;if(Number(u)!==Number(a))return!1}return!0}function bN(t,n,i,e,r,s,u){var o=new _N(r,t),a=new dN(o,t,r,i,s);return new AN(t,n,i,e,o,a,u)}var AN=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).kV=void 0,a.Mc=void 0,a.aW=void 0,a.PD=void 0,a.Oc=void 0,a.hW=void 0,a.pV=void 0,a.cW=void 0,a.fW=Pr(),a.kV=n,a.Mc=e,a.Oc=e.Gl,a.aW=r,a.PD=i,a.pV=s,a.cW=u,a.hW=o,a.cW.tu(TD.gH,a.Js),a}S(n,t);var i=n.prototype;return i.dH=function(){return this.pV.dH()},i.uW=function(){this.pV.uW()},i.iW=function(){this.pV.iW(),this.cW.iW()},i.vW=function(t,n){this.hW.SH(t,n)},i.lW=function(t,n){this.hW.EH(t,n)},i.dW=function(){return this.cW.JV()},i.MV=function(t,n,i){return this.cW.MV(t,n,i)},i.HV=function(t,n,i){return this.cW.HV(t,i)},i.jV=function(t,n){return M.Sn&&M.En<3?this.cW.jV(t,1/0):this.cW.jV(t,n)},i.$h=function(t,n,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.lW(t,n),e=this.by,s.next=4,Dr.awrap(this.cW.KV(t,n,i));case 4:r=0!==e.M_&&0===this.by.M_,(M.Un||M.In)&&r&&this.PD.Xu(this.PD.tm);case 6:case"end":return s.stop()}},null,this,null,We)},i.rH=function(t){var n=t.Gl;if(this.Oc===n)return!0;var i=this.fW.get(n);if(void 0!==i)return i;var e=this.wW(t);return this.fW.set(n,e),e},i.wW=function(t){var n=XN(t.Gl);if(void 0===n)return!1;var i=Pc(this.Oc),e=Pc(n),r=gN(i),s=gN(e);if(this.cW.$V()){if(!function(t,n){return Qs(t,n,mN)}(r,s))return!1}else{if(i._s!==e._s)return!1;if(!function(t,n){return Qs(t,n,pN)}(r,s))return!1}return!0},i.sH=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.Gl,this.Oc!==n&&(this.fW.clear(),this.cW.sH(t),this.Oc=n),this.Mc=t,this.kV._W();case 4:case"end":return i.stop()}},null,this,null,We)},i.Xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.fW.clear(),this.ou(),this.hW.$c(),t.prev=3,this.cW.au(TD.gH,this.Js),t.next=7,Dr.awrap(this.cW.Xs());case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},null,this,[[3,9]],We)},A(n,[{key:"by",get:function(){return this.pV.by}},{key:"cc",get:function(){return this.Mc}},{key:"Gl",get:function(){return this.Oc}},{key:"gW",get:function(){return this.aW}},{key:"mW",get:function(){return this.hW.IH}},{key:"XL",get:function(){return this.cW.XL},set:function(t){this.cW.XL=t}},{key:"VL",get:function(){return this.cW.VL},set:function(t){this.cW.VL=t}},{key:"qx",get:function(){return this.cW.qx}}]),n}(du),TN=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.yW=void 0,this.oC=t,this.hC=n,this.kW=i,this.pW=e,this.yW=eI()}return t.prototype.bW=function(){var t=this.oC,n=this.hC;if(this.kW||this.pW){var i=.001*(eI()-this.yW);this.kW&&(t+=i),this.pW&&(n+=i)}return t>=n?fS.qC():new fS([t,n])},t}(),SN=100,EN=3500,IN=1e3,RN=2e3,DN=1e4,NN=.01,CN=1,PN=[Tf.zf,Tf.Ff,Tf.jf,Tf.Yf,Tf.Bf,Tf.Wf,vm.b_,Dg.hg],BN=function(){function t(t,n,e){var r=this;this.iI=jg.Vg,this.AW=!1,this.TW=[],this.SW=void 0,this.EW=void 0,this.IW=0,this.RW=0,this.DW=0,this.NW=0,this.PW=1,this.BW=void 0,this.OW=void 0,this.xW=function(t){var n=r.PD.tm;t.AH.TN(n)&&r.LW(n)},this.MW=$(function(){r.UW(vm.b_)},SN),this.XW=$(function(){r.UW(Tf.Vf)},SN),this.HW=$(function(){r.UW(Tf.ev)},SN),this.FW=function(){r.zW()?0===r.NW&&(r.PD.tu(Tf.ev,r.HW),r.EW=i.Zn(function(){r.VW()},EN)):r.WW()},this.GW=function(){var t=r.IW,n=r.DW,e=r.PD.tm,s=i.wr(),u=r.pV.by;if(t!==e)return r.IW=e,r.DW=s,r.PW=1,void(r.BW=i.jw?RN:IN);if(r.zW()&&0!==u.M_&&n>0&&s>n+r.BW){var o,a,h=r.IH.wC().RC(u),c=h.XC(e);if(-1!==c){var f=h.oC(c);if(f-e<CN){var v=h.hC(c);0,o=v}}if(!o)(o=null==(a=r.OW)?void 0:a.determineStallJumpTarget())||(o=e+r.PW*NN,u.TN(o)||(o=r.qW(e,u)));0,r.IW=o,r.PW++,r.BW=w.min(2*r.BW,DN),r.PD.Xu(o)}},this.pV=t,this.PD=n,this.PD.tu(vm.b_,this.MW),this.PD.tu(Tf.Vf,this.XW),this.PD.tu(PN,this.FW),this.OW=e,this.BW=i.jw?RN:IN}var n=t.prototype;return n.YW=function(t){this.TW.push(t),t.tu(ND.pH,this.xW)},n.$c=function(){var t=this;this.WW(),this.iI=jg.Vg,this.PD.au(vm.b_,this.MW),this.PD.au(Tf.Vf,this.XW),this.PD.au(PN,this.FW),this.TW.forEach(function(n){return n.au(ND.pH,t.xW)}),void 0!==this.SW&&(i.Qn(this.SW),this.SW=void 0),this.AW=!0},n.UW=function(t){if(!this.AW)if(t!==Tf.ev||0!==this.NW){var n=this.PD.wg;if(n<=jg.Gg){var i=this.PD.tm;this.LW(i)||this.GW()}t===vm.b_&&(this.iI=n)}else this.VW()},n.LW=function(t){var n=this;if(this.PD.im)return!1;var e=this.pV.by,r=-1,s=e.DC(t);if(-1!==s){if(e.hC(s)<=t+.5&&e.M_>s+1){var u=e.oC(s+1);u<=t+1&&(r=u)}}else{var o=this.IH.wC().RC(this.pV.by),a=o.DC(t);-1!==a&&(r=o.hC(a))}if(-1!==r&&(!(w.abs(r-t)<=.001)||i.Yw)){if(i.Yw){if(void 0!==this.SW)return!1;this.RW=this.PD.tm,this.SW=i.Zn(function(){n.RW===n.PD.tm&&n.PD.Xu(r),n.SW=void 0},250)}else this.PD.Xu(r);return!0}return!1},n.jW=function(){this.EW&&(i.Qn(this.EW),this.EW=void 0),this.PD.au(Tf.ev,this.HW)},n.VW=function(){0===this.NW&&(this.jW(),this.NW=i.Ir(this.GW,250))},n.WW=function(){0!==this.NW&&(i.Rr(this.NW),this.NW=0),this.jW(),this.PD.vm||(this.DW=0)},n.zW=function(){return!this.PD.cm&&!this.PD.vm&&0!==this.PD.fm&&!this.PD.im&&!this.PD.Au&&(this.QW()||this.PD.wg>=jg.qg)},n.QW=function(){var t=this.PD.tm,n=this.pV.by,i=n.DC(t);return-1!==i&&n.hC(i)>t+.5},n.qW=function(t,n){var i=n.DC(t);return i>-1?n.hC(i):t},A(t,[{key:"IH",get:function(){return this.TW.reduce(function(t,n){return t.EC(n.IH)},fS.qC())}}]),t}();function ON(t){var n=[];if(t.ZW&&n.push(t.ZW.by),t.KW&&n.push(t.KW.by),0===n.length)return fS.qC();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.M_>0&&(i=w.max(i,r.hC(r.M_-1)))}for(var s=t.dH,u=new fS([0,i],[!0,s]),o=0;o<n.length;o++){var a=n[o];s&&a.M_>0&&(a=a.EC(new fS([a.hC(a.M_-1),i],[!0,!0]))),u=u.kC(a)}return u}var xN,LN=M.Rn||M.Dn;!function(t){t.nW="closed",t.jd="open",t.Bf="ended"}(xN||(xN={}));var MN=function(){function t(){}return t.prototype.JW=function(){return new MediaSource},t}(),UN=function(t){function n(n,i,e,r,s,u){var o;return void 0===s&&(s=new MN),(o=t.call(this,n,i,e,r)||this).$W=void 0,o.tG=void 0,o.nG=void 0,o.iG=void 0,o.eG=void 0,o.rG=new TN(0,1/0),o.BD=void 0,o.sG=void 0,o.uG=void 0,o.oG=!1,o.aG=function(){o.hG()},o.cG=function(){o.PD.cG()},o.$W=s,o.BD=o.$W.JW(),o.PD.tu(Tf.jf,o.aG),o.uG=new BN(Kt(o),o.PD,u),o}S(n,t);var i=n.prototype;return i.fG=function(t){if(m(t)||t<0)throw new v("Invalid duration");this.vG()?this.lG(t):this.sG=t},i.lG=function(t){var n=t===1/0,i=n?xt:t;if(n&&this.BD.setLiveSeekableRange){var e=w.pow(2,39);this.BD.setLiveSeekableRange(0,e)}this.BD.duration=i,this.sG=void 0},i.dG=function(t,n,i,e){this.rG=new TN(t,n,!!i,!!e)},i.JL=function(){var t,n,i,e,r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return t=this.Mc,n=xs(t.wG,function(t){return ls(t.Gl,"audio")}),i=xs(t.wG,function(t){return ls(t.Gl,"video")}),h.next=5,Dr.awrap(this._G());case 5:n&&(r=new BD,this.uG.YW(r),s=null!=(e=XN(n.Gl))?e:n.Gl,this.nG=this.BD.addSourceBuffer(s),this.tG=bN(this,this.PD,n,ry.Cd,this.nG,s,r),this.tG.tu(TD.gH,this.cG)),i&&(o=new BD,this.uG.YW(o),a=null!=(u=XN(i.Gl))?u:i.Gl,this.eG=this.BD.addSourceBuffer(a),this.iG=bN(this,this.PD,i,ry.Pd,this.eG,a,o),this.iG.tu(TD.gH,this.cG)),this.JX.Jh(this,t);case 8:case"end":return h.stop()}},null,this,null,We)},i._G=function(){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=URL.createObjectURL(this.BD),i.next=3,Dr.awrap(t.prototype.hH.call(this,n));case 3:if(this.wg===xN.jd){i.next=6;break}return i.next=6,Dr.awrap(q_(this.BD,"sourceopen"));case 6:case"end":return i.stop()}},null,this,null,We)},i.vG=function(){if(this.wg!==xN.jd)return!1;var t=this.tG&&this.tG.qx,n=this.iG&&this.iG.qx;return!(t||n)},i.uW=function(){this.oG=!0,this.tG&&this.tG.uW(),this.iG&&this.iG.uW(),this.oG=!1,this.hG()},i.iW=function(){this.tG&&this.tG.iW(),this.iG&&this.iG.iW()},i.rH=function(n){var i=xs(n.wG,function(t){return ls(t.Gl,"audio")}),e=xs(n.wG,function(t){return ls(t.Gl,"video")});if(this.tG){if(!i)return!1;if(!this.tG.rH(i))return!1}else if(i)return!1;if(this.iG){if(!e)return!1;if(!this.iG.rH(e))return!1}else if(e)return!1;return!!t.prototype.rH.call(this,n)},i.sH=function(n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=xs(n.wG,function(t){return ls(t.Gl,"audio")}),e=xs(n.wG,function(t){return ls(t.Gl,"video")}),r=[],this.tG&&r.push(this.tG.sH(i)),this.iG&&r.push(this.iG.sH(e)),s.next=7,Dr.awrap(We.all(r));case 7:return s.next=9,Dr.awrap(t.prototype.sH.call(this,n));case 9:case"end":return s.stop()}},null,this,null,We)},i.Xs=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!M.In){n.next=3;break}return n.next=3,Dr.awrap(this.vH());case 3:if(!this.tG){n.next=9;break}return n.next=6,Dr.awrap(this.tG.Xs());case 6:if(this.tG=void 0,Ts()&&(M.In||M.Sn))try{this.BD.removeSourceBuffer(this.nG)}catch(t){}this.nG=void 0;case 9:if(!this.iG){n.next=15;break}return n.next=12,Dr.awrap(this.iG.Xs());case 12:if(this.iG=void 0,Ts()&&(M.In||M.Sn))try{this.BD.removeSourceBuffer(this.eG)}catch(t){}this.eG=void 0;case 15:if(this.ef.src&&URL.revokeObjectURL(this.ef.src),this.PD.au(Tf.jf,this.aG),this.uG.$c(),!M.Sn){n.next=21;break}return n.next=21,Dr.awrap(this.vH());case 21:return n.next=23,Dr.awrap(t.prototype.Xs.call(this));case 23:case"end":return n.stop()}},null,this,null,We)},i._W=function(){var t=this,n=this.Mc,i=n.wG.map(function(n){return ls(n.Gl,"audio")&&t.tG?t.tG.cc:ls(n.Gl,"video")&&t.iG?t.iG.cc:n});this.Mc=Nr({},n,{wG:i})},i.oW=function(){this.oG||this.hG()},i.hG=function(){this.gG&&this.vG()&&(this.BD.endOfStream(),this.sG=void 0,this.$s(new _u(_D.bB)),this.PD.cG())},i.eW=function(){this.vG()&&(this.dH?this.hG():void 0!==this.sG&&this.lG(this.sG))},i.LW=function(t){return this.uG.LW(t)},n.lH=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.wG;n<i.length;n++){if(void 0===XN(i[n].Gl))return!1}return!0},A(n,[{key:"ZW",get:function(){return this.tG}},{key:"KW",get:function(){return this.iG}},{key:"nm",get:function(){if(this.sG)return this.sG;var t=this.BD.duration;return t===xt?1/0:t}},{key:"by",get:function(){return LN?ON(this):(t=this,n=fS.VC(this.ef.buffered),(i=n).M_>0&&t.dH&&(i=i.EC(fS.GC(i.hC(i.M_-1)))),i);var t,n,i}},{key:"wH",get:function(){var t;return null==(t=this.tG)?void 0:t.by}},{key:"_H",get:function(){var t;return null==(t=this.iG)?void 0:t.by}},{key:"Ly",get:function(){return this.rG.bW().kC(new fS([0,this.nm],[!0,!0]))}},{key:"dH",get:function(){return(!this.tG||this.tG.dH())&&(!this.iG||this.iG.dH())}},{key:"wg",get:function(){return this.BD.readyState}},{key:"gG",get:function(){if(!this.dH)return!1;var t=this.by;return 0!==t.M_&&t.oC(t.M_-1)<=this.PD.tm}}]),n}(SD);function XN(t){var n=Pc(t),i="audio/mp4"===n._s&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(gN(n),["mp4a.40.34"]);if(MediaSource.isTypeSupported(t)&&(!i||!M.On))return t;if(i){var e=xs(['audio/mp4; codecs="mp3"',"audio/mpeg"],function(t){return MediaSource.isTypeSupported(t)});return void 0!==e?e:void 0}}var HN=[Tf.rv,Tf.Wf,Tf.jf,Tf.zf,Tf.Ff],FN=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return(c=t.call(this)||this).KC=n,c.ma=i,c.mG=e,c.$C=r,c.nP=s,c.JC=u,c.tP=o,c.Ba=a,c.yG=h,c}S(n,t);var i=n.prototype;return i.qm=function(){this.$C||(this.$C=!0,this.$s(new dm(this.tm)))},i.Gm=function(){this.$C&&(this.$C=!1,this.$s(new wm(this.tm)))},i.Xs=function(){this.ou()},A(n,[{key:"tm",get:function(){return this.KC},set:function(t){this.tm!==t&&(this.KC=t,this.nP=!0,this.$s(new Am(this.tm)))}},{key:"nm",get:function(){return this.ma}},{key:"im",get:function(){return this.mG}},{key:"cm",get:function(){return this.$C}},{key:"wg",get:function(){return this.yG}},{key:"vm",get:function(){return this.nP}},{key:"hm",get:function(){return this.JC},set:function(t){this.hm!==t&&(this.JC=t,this.$s(new Sm(this.tm,this.wm)))}},{key:"fm",get:function(){return this.tP},set:function(t){this.fm!==t&&(this.tP=t,this.$s(new ym(this.tm,this.fm)))}},{key:"wm",get:function(){return this.Ba},set:function(t){this.wm!==t&&(this.Ba=t,this.$s(new Sm(this.tm,this.wm)))}}]),n}(du);var zN=function(t){function n(n){var i;return(i=t.call(this)||this).PD=void 0,i.iI=jg.Vg,i.kG=function(){i.pG()},i.PD=n,i}S(n,t);var i=n.prototype;return i.bG=function(t){this.iI!==t&&(this.iI=t,this.$s(new Rm(this.PD.tm,t)))},i.pG=function(){this.bG(this.NM())},i.wc=function(){this.bG(jg.Vg)},i.Xs=function(){this.ou()},A(n,[{key:"wg",get:function(){return this.NM()}}]),n}(du),VN=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],WN=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<VN.length;e++){var r=VN[e];i.PD.sN.addEventListener(r,i.kG)}return i}S(n,t);var i=n.prototype;return i.NM=function(){var t=this.PD.sN.readyState;return t>jg.Gg&&this.PD.AG?jg.Gg:(this.PD.sN.seeking&&t>jg.Wg&&(t=jg.Wg),t)},i.Xs=function(){for(var n=0;n<VN.length;n++){var i=VN[n];this.PD.sN.removeEventListener(i,this.kG)}t.prototype.Xs.call(this)},n}(zN),GN=function(t){function n(n){var i;(i=t.call(this,n)||this).PD.tu(Tf.jf,i.kG);for(var e=0;e<VN.length;e++){var r=VN[e];i.PD.sN.addEventListener(r,i.kG)}return i}S(n,t);var i=n.prototype;return i.NM=function(){if(this.PD.sN.readyState===jg.Vg)return jg.Vg;var t=this.TG(),n=t?t.hC-t.oC:0;if(!t)return jg.Wg;var i=this.PD.fm;return this.SG()||n>=3*i?jg.Yg:n>=3?jg.qg:jg.Gg},i.TG=function(){var t=this.PD.tm,n=this.PD.by.SC(.04),i=n.DC(t);if(!(i<0))return{oC:t,hC:n.hC(i)}},i.SG=function(){if(this.PD.im)return!0;var t=this.PD.nm,n=this.TG();return!!n&&t-n.hC<=1/6},i.Xs=function(){this.PD.au(Tf.jf,this.kG);for(var n=0;n<VN.length;n++){var i=VN[n];this.PD.sN.removeEventListener(i,this.kG)}t.prototype.Xs.call(this)},n}(zN),qN=[vm.b_,Tf.zf,Tf.Ff,Tf.jf,Tf.Yf,Tf.Bf,Dg.hg],YN=function(t){function n(n){var i;return(i=t.call(this,n)||this).ef=void 0,i.EG=!1,i.wI=function(){i.EG=!0,i.tc()},i.ef=n.sN,i.ef.addEventListener(vm.$g,i.wI),i}S(n,t);var i=n.prototype;return i.IG=function(){return this.EG&&t.prototype.IG.call(this)},i.tc=function(){this.EG&&(this.ef.paused||this.ef.ended||this.ef.error)&&(this.EG=!1),t.prototype.tc.call(this)},i.wc=function(){t.prototype.wc.call(this),this.EG=!1},i.Xs=function(){this.ef.removeEventListener(vm.$g,this.wI),t.prototype.Xs.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).oI=void 0,i.RG=!1,i.Yx=function(){i.tc()},i.oI=n,i.oI.tu(qN,i.Yx),i}S(n,t);var i=n.prototype;return i.DG=function(){return this.oI.wg<jg.qg},i.IG=function(){return!this.oI.vm&&!(this.oI.cm||this.oI.im||this.oI.Au||this.DG())},i.tc=function(){var t=this.RG;this.RG=this.IG(),!t&&this.RG&&this.$s(new mb(this.oI.tm))},i.wc=function(){this.RG=!1},i.Xs=function(){this.ou(),this.oI.au(qN,this.Yx)},n}(du)),jN=function(t){function n(n){var i;return(i=t.call(this,Dg.hg)||this).Au=void 0,i.Au=n,i}return S(n,t),n}(_u);function QN(t,n){return t.ck<=n&&t.fk>n}function ZN(t,n){return function(t,n){return Bs(t.ck,n.ck,Ly)}(t,n)||function(t,n){return Bs(t.fk,n.fk,Ly)}(t,n)}function KN(t,n){var i=function(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,a=u-1;o<=a;){var h=o+(a-o>>1),c=e(i(t[h]),n);if(c<0)o=h+1;else if(c>0)a=h-1;else{if(!(r&&h>s&&0===e(i(t[h-1]),n)))return h;a=h-1}}return~o}(t,n,J,ZN,!0);if(i<0)return i;for(;i<t.length&&ZN(n,t[i])===Ss.Cs;i++)if(t[i].Nk(n))return i;return-(i+1)}function JN(t){var n=t.h_;if(!n)return-1;if(t instanceof Uy)return n.NG(t);var i=n._g;if(!i)return-1;var e=KN(i.L_,t);return e>=0?e:-1}function $N(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],a=[];s<e&&u<r;){var h=t[s],c=n[u];h===c?(s++,u++):i(c,h)<=0?(o.push(c),u++):(a.push(h),s++)}for(;s<e;)a.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{CG:o,PG:a}}(t,n,ZN);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var tC=function(){function t(t){this.BG=void 0,this.u_=void 0,this.BG=t}var n=t.prototype;return n.a_=function(){return function(t){for(var n=[],i=0;i<t.M_;i++)n[i]=t.Cu(i).o_;return n.item=function(n){var i=0|n,e=t.Cu(i);return e&&e.o_||void 0},d.defineProperty(n,"constructor",{value:Py}),n}(this)},n.Fy=function(t){for(var n=this.BG,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.Nk(e))return!0}return!1},n.Cu=function(t){return this.BG[t]},A(t,[{key:"L_",get:function(){return this.BG}},{key:"M_",get:function(){return this.BG.length}},{key:"o_",get:function(){if(this.u_){var t=this.BG;this.u_.length=t.length;for(var n=0;n<t.length;n++)this.u_[n]=t[n].o_}else this.u_=this.a_();return this.u_}}]),t}(),nC=function(t){function n(n,i){var e;return(e=t.call(this,J_.b_)||this).h_=n,e.wg=i,e}return S(n,t),n.prototype.a_=function(){return new iC(this.h_.o_,Lg(this.wg))},n}($_),iC=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return S(n,t),n}(tg),eC=function(t){function n(n){var i;return(i=t.call(this,J_.T_)||this).h_=n,i}return S(n,t),n.prototype.a_=function(){return new rC(this.h_.o_)},n}($_),rC=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return S(n,t),n}(tg),sC=function(t){function n(n){var i;return(i=t.call(this,J_.c_)||this).hk=n,i}return S(n,t),n.prototype.a_=function(){return new uC(this.hk.o_)},n}($_),uC=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return S(n,t),n}(tg),oC=function(t){function n(n){var i;return(i=t.call(this,J_.v_)||this).hk=n,i}return S(n,t),n.prototype.a_=function(){return new aC(this.hk.o_)},n}($_),aC=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return S(n,t),n}(tg),hC=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this)||this).u_=void 0,h.Uh=void 0,h.Wy=cy(),h.OG=!1,h.xG=void 0,h.LG=void 0,h.Vy=void 0,h.ya=void 0,h.yP=Rg.rg,h.yG=yy.NONE,h.MG=void 0,h.Wi=void 0,h.UG=void 0,h.BG=[],h.XG=[],h.HG=void 0,h.FG=void 0,h.zG=0,h.VG=0,h.Uh=i||"",h.xG=a||"",h.LG=n,h.ya=r||"",h.OG=Boolean(s),h.UG=Boolean(o),h.Wi=u||ky.DEFAULT,h.Vy=e||"",h.HG=new tC(h.BG),h.FG=new tC(h.XG),h}S(n,t);var i=n.prototype;return i.WG=function(t){return xs(this.HG.L_,function(n){return n.Y_===t})},i.a_=function(){return Bg(this)},i.OP=function(t){var n=Cg(t);n!==this.fg&&(this.yP=n,n===Rg.rg&&(this.XG.forEach(function(t){t.Ck=!1}),Fs(this.XG),this.VG=0),this.$s(new ug(this)))},i.KE=function(t){if(t&&!t.h_){var n=KN(this._g.L_,t);if(!(n>=0)){t.h_=this;var i=-(n+1);this.BG.splice(i,0,t),this.GG(i),t.Dk=i,i<this.VG&&(this.VG=i),this.$s(new sC(t))}}},i.UE=function(t){if(t&&t.h_===this){var n=this.NG(t);if(!(n<0)){t.Ck=!1;var i=this.XG,e=KN(i,t);e>=0&&Xs(i,e),Xs(this.BG,n),this.GG(n),t.Dk=-1,this.VG>n&&--this.VG,this.$s(new oC(t))}}},i.qG=function(t,n){var i=this.XG,e=this.BG,r=this.VG,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){QN(i[u],t)||(s=!0,Xs(i,u))}for(;r<e.length&&e[r].ck<=t;){var o=e[r];if(0===t)break;QN(o,t)&&!Hs(i,o)&&(s=!0,i.push(o)),r++}s&&Rs(i,ZN),this.VG=r},i.NG=function(t){return(-1===t.Dk||t.Dk>=this.zG)&&this.YG(),t.Dk},i.YG=function(){for(var t=this.BG,n=this.zG;n<t.length;n++)t[n].Dk=n;this.zG=t.length},i.GG=function(t){t<this.zG&&(this.zG=t)},i.vg=function(t){this.dg||(this.fg=t)},i.$c=function(){this.ou();for(var t=this.BG.slice(),n=0;n<t.length;n++){t[n].$c()}Fs(this.BG),Fs(this.XG)},A(n,[{key:"gg",get:function(){return this.FG}},{key:"_g",get:function(){return this.HG}},{key:"$E",get:function(){return this.OG},set:function(t){this.OG=t}},{key:"dg",get:function(){return this.UG}},{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}},{key:"Y_",get:function(){return this.Uh}},{key:"j_",get:function(){return this.Wy}},{key:"cg",get:function(){return this.xG},set:function(t){this.xG=t}},{key:"Q_",get:function(){return this.LG}},{key:"Z_",get:function(){return this.Vy},set:function(t){t!==this.Vy&&(this.Vy=t,this.$s(new oy(this)))}},{key:"K_",get:function(){return this.ya}},{key:"fg",get:function(){return this.yP},set:function(t){this.OP(t)}},{key:"wg",get:function(){return this.yG},set:function(t){this.yG!==t&&(this.yG=t,this.$s(new nC(this,this.yG)))}},{key:"yg",get:function(){return this.MG},set:function(t){this.MG=t}},{key:"_s",get:function(){return this.Wi},set:function(t){this.Wi!==t&&(this.Wi=t,this.$s(new eC(this)))}}]),n}(du),cC=function(t){function n(n,i){var e;return(e=t.call(this,Ty.$y,n)||this).Bp=i,e}return S(n,t),n.prototype.a_=function(){return new fC(this.hk.o_)},n}(Dy),fC=function(t){function n(n){return t.call(this,"enter",n)||this}return S(n,t),n}(Ny),vC=function(t){function n(n,i){var e;return(e=t.call(this,Ty.ek,n)||this).Bp=i,e}return S(n,t),n.prototype.a_=function(){return new lC(this.hk.o_)},n}(Dy),lC=function(t){function n(n){return t.call(this,"exit",n)||this}return S(n,t),n}(Ny),dC=function(t){function n(n){var i;return(i=t.call(this,J_.d_)||this).hk=n,i}return S(n,t),n.prototype.a_=function(){return new wC(this.hk.o_)},n}($_),wC=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return S(n,t),n}(tg),_C=function(t){function n(n){var i;return(i=t.call(this,J_.__)||this).hk=n,i}return S(n,t),n.prototype.a_=function(){return new gC(this.hk.o_)},n}($_),gC=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return S(n,t),n}(tg),mC=function(t){function n(n){var i;return(i=t.call(this)||this).jG=void 0,i.Ik=void 0,i.Wy=void 0,i.Sk=void 0,i.u_=void 0,i.Ek=!1,i.QG=function(){i.Ck=!0},i.ZG=function(){i.Ck=!1},i.Wy=wy(),i.jG=n,i.jG.addEventListener("enter",i.QG),i.jG.addEventListener("exit",i.ZG),i}S(n,t);var i=n.prototype;return i.a_=function(){return Cy(this)},i.Nk=function(t){return this===t||dg(this,t)&&My(this,t)},i.$c=function(){this.ou(),this.jG.removeEventListener("enter",this.QG),this.jG.removeEventListener("exit",this.ZG)},A(n,[{key:"j_",get:function(){return this.Wy}},{key:"ck",get:function(){return this.jG.startTime},set:function(t){this.jG.startTime=t}},{key:"fk",get:function(){return this.jG.endTime},set:function(t){this.jG.endTime=t}},{key:"vk",get:function(){return this.Ik},set:function(t){this.Ik=t}},{key:"Pk",get:function(){return!!this.jG.pauseOnExit},set:function(t){this.jG.pauseOnExit=!!t}},{key:"h_",get:function(){return this.Sk},set:function(t){this.Sk=t}},{key:"Y_",get:function(){return this.jG.id||""}},{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}},{key:"Ck",get:function(){return this.Ek},set:function(t){this.Ck!==t&&(this.Ek=t,t?(this.$s(new cC(this,this.ck)),this.Sk&&this.Sk.$s(new dC(this))):(this.$s(new vC(this,this.fk)),this.Sk&&this.Sk.$s(new _C(this))))}}]),n}(Ug),yC=function(t){function n(n){var i;return(i=t.call(this,J_.m_)||this).h_=n,i}return S(n,t),n.prototype.a_=function(){return new kC(this.h_.o_)},n}($_),kC=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return S(n,t),n}(tg);function pC(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new bC(t),t.THEOplayerVTTRegion=n),n}}var bC=function(){function t(t){this.KG=void 0,this.u_=void 0,this.KG=t}return A(t,[{key:"JG",get:function(){return this.KG}},{key:"Y_",get:function(){return this.KG.id||""}},{key:"Xk",get:function(){return+this.KG.width||0},set:function(t){this.KG.width=t||0}},{key:"Bk",get:function(){return+this.KG.lines||0},set:function(t){this.KG.lines=t||0}},{key:"Ok",get:function(){return+this.KG.regionAnchorX||0},set:function(t){this.KG.regionAnchorX=t||0}},{key:"xk",get:function(){return+this.KG.regionAnchorY||0},set:function(t){this.KG.regionAnchorY=t||0}},{key:"Mk",get:function(){return+this.KG.viewportAnchorX||0},set:function(t){this.KG.viewportAnchorX=t||0}},{key:"Uk",get:function(){return+this.KG.viewportAnchorY||0},set:function(t){this.KG.viewportAnchorY=t||0}},{key:"Lk",get:function(){return this.KG.scroll||""}},{key:"o_",get:function(){return this.u_||(this.u_=Gy(this)),this.u_}}]),t}();var AC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),A(n,[{key:"vk",get:function(){return this.jG.text},set:function(t){this.jG.text=t}},{key:"bk",get:function(){return this.jG.vertical||""},set:function(t){this.jG.vertical=t||""}},{key:"pk",get:function(){return this.jG.snapToLines},set:function(t){this.jG.snapToLines=t}},{key:"dk",get:function(){return this.jG.line},set:function(t){this.jG.line=t}},{key:"xu",get:function(){return+this.jG.size},set:function(t){this.jG.size=Mt(t,0,100)}}]),n}(mC),TC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.Nk=function(n){return this===n||dg(this,n)&&t.prototype.Nk.call(this,n)&&Xy(this,n)},A(n,[{key:"yk",get:function(){return pC(this.jG.region)}},{key:"wk",get:function(){return this.jG.lineAlign||"start"},set:function(t){this.jG.lineAlign=t||"start"}},{key:"_k",get:function(){return this.jG.position},set:function(t){this.jG.position=t}},{key:"gk",get:function(){return this.jG.positionAlign||"auto"},set:function(t){this.jG.positionAlign=t||"auto"}},{key:"lk",get:function(){return this.jG.align||"center"},set:function(t){this.jG.align=t||"center"}},{key:"o_",get:function(){return this.u_||(this.u_=By(this)),this.u_}}]),n}(AC),SC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.Nk=function(n){return this===n||dg(this,n)&&t.prototype.Nk.call(this,n)&&Xy(this,n)},A(n,[{key:"yk",get:function(){return pC(this.JG)}},{key:"JG",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.jG.track,this.jG.regionId)}},{key:"wk",get:function(){return"middle"===(t=this.jG.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.jG.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"_k",get:function(){return this.jG.position},set:function(t){var n,i;this.jG.position=(n=t,i=this.lk,Ry(n,i))}},{key:"gk",get:function(){return t=this.jG.positionAlign||"middle",Ey[t];var t},set:function(t){var n,i;this.jG.positionAlign=(n=t||"center",i=this.lk,Sy[Iy(n,i)])}},{key:"lk",get:function(){return"middle"===(t=this.jG.align||"middle")?"center":t;var t},set:function(t){var n;this.jG.align="center"===(n=t||"center")?"middle":n}},{key:"o_",get:function(){return this.u_||(this.u_=By(this)),this.u_}}]),n}(AC);function EC(t,n){return t.vk===n.vk}function IC(t,n){if(0!==n.length){var i=n.length-1;if(n[i].ck<t.ck)RC(n,i,t.ck);else{var e=n[0];if(e.ck>t.ck)t.fk=e.ck;else{var r=KN(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0)n[u].ck<t.ck&&RC(n,u,t.ck);if(s<n.length){var o=n[s];t.fk=o.ck}}}}}}function RC(t,n,i){for(var e=t[n].ck,r=n;r>=0&&t[r].ck===e;r--)t[r].fk=i}function DC(t){return Cy(t)}var NC,CC,PC=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).$G=void 0,e.$G=i,e}return S(n,t),n.prototype.Nk=function(n){return this===n||dg(this,n)&&t.prototype.Nk.call(this,n)&&EC(this,n)},A(n,[{key:"vk",get:function(){return this.$G}},{key:"o_",get:function(){return this.u_||(this.u_=DC(this)),this.u_}}]),n}(mC);function BC(t){switch(t){case NC.ISO_8859_1:case NC.UTF16_BOM:case NC.UTF16:case NC.UTF8:return!0}return!1}function OC(t){switch(t){case NC.ISO_8859_1:return go;case NC.UTF16_BOM:return ko;case NC.UTF16:return po;case NC.UTF8:return Do}}function xC(t,n){var i=n.Lu,e=t.byteLength,r=Lo(t);return n.Mu(e-i),Xo(r,i,e).buffer}function LC(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function MC(t,n,i){var e=io(t,n);if(BC(e)){var r=OC(e);return{id:i,language:wo(t,n,3),description:r(t,n),text:r(t,n)}}}function UC(t,n,i){var e=io(t,n);if(BC(e)){var r=OC(e);return{id:i,mimeType:go(t,n),fileName:r(t,n),description:r(t,n),data:xC(t,n)}}}function XC(t,n,i){var e=io(t,n);if(BC(e)){for(var r=OC(e),s=[];n.Lu<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function HC(t,n,i){var e=io(t,n);if(BC(e)){for(var r=OC(e),s=wo(t,n,3),u=io(t,n),o=io(t,n),a=r(t,n),h=!1,c=[];n.Lu<t.byteLength;){var f=void 0;if(e===NC.UTF16_BOM){var v=yo(t,n);void 0===v?v=h:h=v,f=po(t,n,v)}else f=r(t,n);if(!f||n.Lu+4>t.byteLength)break;c.push({text:f,timestamp:co(t,n)})}return{id:i,language:s,format:u,contentType:o,description:a,entries:c}}}function FC(t,n,i){return{id:i,ownerIdentifier:go(t,n),identifier:xC(t,n)}}function zC(t,n,i){var e=io(t,n);if(BC(e)){var r=OC(e);return{id:i,language:wo(t,n,3),description:r(t,n),text:r(t,n)}}}function VC(t,n,i){var e=io(t,n);if(BC(e))return{id:i,text:OC(e)(t,n)}}function WC(t,n,i){return{id:i,url:go(t,n)}}function GC(t,n,i){var e=io(t,n);if(BC(e)){var r=OC(e);return{id:i,description:r(t,n),text:r(t,n)}}}function qC(t,n,i){var e=io(t,n);if(BC(e))return{id:i,description:OC(e)(t,n),url:go(t,n)}}function YC(t,n,i){switch(i){case"COM":return MC(t,n,i);case"GEO":return UC(t,n,i);case"IPL":return XC(t,n,i);case"PIC":return function(t,n,i){var e=io(t,n);if(BC(e)){var r,s,u=OC(e),o=wo(t,n,3),a=io(t,n),h=u(t,n);return"--\x3e"===o?(r=o,s=go(t,n)):(r="image/"+o.toLowerCase(),s=xC(t,n)),{id:i,mimeType:r,pictureType:a,description:h,data:s}}}(t,n,i);case"SLT":return HC(t,n,i);case"TXX":return GC(t,n,i);case"UFI":return FC(t,n,i);case"ULT":return zC(t,n,i);case"WXX":return qC(t,n,i);default:if("T"===i.charAt(0))return VC(t,n,i);if("W"===i.charAt(0))return WC(t,n,i)}}function jC(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=io(t,n);if(BC(e)){var r=OC(e),s=go(t,n);return{id:i,mimeType:s,pictureType:io(t,n),description:r(t,n),data:"--\x3e"===s?go(t,n):xC(t,n)}}}(t,n,i);case"COMM":return MC(t,n,i);case"COMR":return function(t,n,i){var e=io(t,n);if(BC(e)){var r,s,u=OC(e),o=go(t,n),a=wo(t,n,8),h=go(t,n),c=io(t,n),f=u(t,n),v=u(t,n);return n.Lu<t.byteLength&&(r=go(t,n)||"image/",s=xC(t,n)),{id:i,price:o,validUntil:a,contactURL:h,receivedAs:c,nameOfSeller:f,description:v,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return UC(t,n,i);case"IPLS":return XC(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:go(t,n),data:xC(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:io(t,n),position:co(t,n)}}(t,n,i);case"SYLT":return HC(t,n,i);case"TXXX":return GC(t,n,i);case"UFID":return FC(t,n,i);case"USER":return function(t,n,i){var e=io(t,n);if(BC(e)){var r=OC(e);return{id:i,language:wo(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return zC(t,n,i);case"WXXX":return qC(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return VC(t,n,i);default:var e=i.charAt(0);if("T"===e)return VC(t,n,i);if("W"===e)return WC(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(NC||(NC={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(CC||(CC={}));var QC=10;function ZC(t,n){return(127&io(t,n))<<21|(127&io(t,n))<<14|(127&io(t,n))<<7|127&io(t,n)}function KC(t,n){switch(t){case CC.V24:return{tq:no(n,0),nq:no(n,1),iq:no(n,2),rq:no(n,3)};case CC.V23:return{tq:no(n,0),nq:no(n,1),iq:no(n,2)};case CC.V22:return{tq:no(n,0),uq:no(n,1)}}}function JC(t,n,i){switch(i.qA){case CC.V23:i.YA.nq&&function(t,n){var i=n.Lu,e=co(t,n)+4,r=32768&ao(t,n);n.Xu(i+e),r&&co(t,n)}(t,n);break;case CC.V24:i.YA.nq&&function(t,n){var i=n.Lu,e=ZC(t,n);n.Xu(i+e)}(t,n)}}function $C(t,n){if(t.byteLength-n.Lu<QC)return null;if(73!==io(t,n)||68!==io(t,n)||51!==io(t,n))return null;var i=io(t,n),e=io(t,n);if(!function(t){switch(t){case CC.V22:case CC.V23:case CC.V24:return!0}return!1}(i))return null;var r=io(t,n),s=ZC(t,n);return{qA:i,oq:e,YA:KC(i,r),aq:s}}function tP(t,n,i){switch(i.qA){case CC.V22:return function(t,n,i){return{Y_:wo(t,n,3),xu:oo(t,n,3)}}(t,n);case CC.V23:return function(t,n,i){var e=wo(t,n,4),r=co(t,n);io(t,n);var s=io(t,n);return{Y_:e,xu:r,YA:{uq:no(s,0),hq:no(s,1),groupingIdentity:no(s,2)}}}(t,n);case CC.V24:return function(t,n,i){var e=wo(t,n,4),r=ZC(t,n);io(t,n);var s=io(t,n);return{Y_:e,xu:r,YA:{groupingIdentity:no(s,1),uq:no(s,4),hq:no(s,5),tq:no(s,6),cq:no(s,7)}}}(t,n)}}function nP(t){for(var n=new y(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function iP(t,n){var i=n||new zo,e=$C(t,i);return e?{FA:e,fq:function(t,n,i){var e=[],r=n.Lu,s=Oo(t,r,r+i.aq),u=new zo;switch(n.Mu(i.aq),i.qA){case CC.V22:case CC.V23:i.YA.tq&&(s=nP(s))}JC(t,n,i);for(;u.Lu<s.byteLength;)e.push(eP(s,u,i));return e}(t,i,e)}:null}function eP(t,n,i){var e,r,s=tP(t,n,i),u=n.Lu,o=Oo(t,u,u+s.xu);switch(n.Mu(s.xu),i.qA){case CC.V22:var a=s;e=YC(r=o,new zo,a.Y_);break;case CC.V23:var h=s,c=new zo;!function(t,n,i){var e,r,s,u=i.YA;u.uq&&(e=co(t,n)),u.hq&&(r=io(t,n)),u.groupingIdentity&&(s=io(t,n))}(o,c,h),e=jC(r=Oo(o,c.Lu,o.byteLength),new zo,h.Y_);break;case CC.V24:var f=s,v=new zo;f.YA.tq&&(o=nP(o)),function(t,n,i){var e,r,s,u,o=i.YA;o.groupingIdentity&&(e=io(t,n)),o.uq&&(r=co(t,n)),o.hq&&(s=io(t,n)),o.cq&&(u=ZC(t,n))}(o,v,f),e=jC(r=Oo(o,v.Lu,o.byteLength),new zo,f.Y_)}if(!e){var l=Ho(Lo(r));e=LC(s.Y_,l.buffer)}return e}function rP(t){return function(t,n,i){return VC(t,n,i)}(new DataView(t.data),new zo,t.key)}function sP(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return rP(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return LC(t.key,t.data)}(t)}var uP="org.id3";var oP=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).zy=void 0,r.vq=void 0,r.BG=[],r.XG=[],r.HG=void 0,r.FG=void 0,r.Wy=void 0,r.Vy=void 0,r.yP=Rg.rg,r.yG=yy.NONE,r.u_=void 0,r.MG=void 0,r.Wi=ky.DEFAULT,r.lq=void 0,r.dq=function(){r.wq(),r.zy.removeEventListener("cuechange",r.dq)},r._q=function(){r.fg!==Rg.rg&&(r.gq(),r.qG(),r.BG.length&&r.mq(yy.LOADING))},r.yq=function(){r.mq(yy.LOADED)},r.kq=function(){r.mq(yy.ERROR)},r.zy=n,r.lq=e,r.zy.addEventListener("cuechange",r.dq),r.zy.addEventListener("cuechange",r._q),r.vq=i,r.vq&&(r.MG=cw(r.vq.src),r.vq.addEventListener("load",r.yq),r.vq.addEventListener("error",r.kq)),r.Wy=cy(),r.Vy=n.label||"",r.HG=new tC(r.BG),r.FG=new tC(r.XG),r.fg=r.pq,ou(function(){r._q(),r.mq(yy.NONE)}),r}S(n,t);var i=n.prototype;return i.a_=function(){return Bg(this)},i.wq=function(){var t=this.fg;this.bq||t!==Rg.ag?this.pq=t:this.pq=Rg.og},i.Aq=function(){var t=this.fg,n=this.pq;t!==n&&(this.bq||t!==Rg.ag||n!==Rg.og)&&("metadata"===this.Q_&&n===Rg.rg?this.fg=t:this.fg=n)},i.pG=function(t){this.yG!==t&&(this.yG=t,this.$s(new nC(this,t)))},i.mq=function(t){var n=w.max(this.yG,this.Tq,t);this.pG(n)},n.Sq=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.Eq=function(t){var i=n.Sq(t);if(i)return i;if(V(i=this.Iq(t)))for(var e=0,r=i;e<r.length;e++){r[e].h_=this}else i.h_=this;return t.THEOplayerTextTrackCue=i,i},i.Iq=function(t){return(n=t)&&n.type===uP&&n.value?(this._s=ky.ID3,function(t){var n;try{n=sP(t.value)}catch(t){n=LC("")}return new PC(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this._s=ky.ID3,function(t){var n=[];try{var i=iP(new DataView(t.data));if(i)for(var e=0,r=i.fq;e<r.length;e++){var s=r[e];n.push(new PC(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this._s=ky.WEBVTT,function(t){return"regionId"in t}(t)?new SC(t):new TC(t)):new mC(t);var n},i.Rq=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.Eq(t[e]||t.item(e));if(V(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.gq=function(){for(var t=this.Rq(this.zy.cues),n=$N(this.BG,t),i=0,e=n.PG;i<e.length;i++){var r=e[i];r.au(Ty.ek,this._q),r.au(Ty.$y,this._q),this.$s(new oC(r))}for(var s=0,u=n.CG;s<u.length;s++){var o=u[s];o.tu(Ty.$y,this._q),o.tu(Ty.ek,this._q),this.$s(new sC(o))}},i.qG=function(){for(var t=this.Rq(this.zy.activeCues),n=$N(this.XG,t),i=0,e=n.PG;i<e.length;i++){e[i].Ck=!1}for(var r=0,s=n.CG;r<s.length;r++){s[r].Ck=!0}(n.CG.length||n.PG.length)&&this.$s(new yC(this))},i.vg=function(t){this.fg=t},i.$c=function(){this.ou();for(var t=this.BG.slice(),n=0;n<t.length;n++){t[n].$c()}Fs(this.BG),Fs(this.XG),this.zy.removeEventListener("cuechange",this.dq),this.zy.removeEventListener("cuechange",this._q),this.vq&&(this.vq.removeEventListener("load",this.yq),this.vq.removeEventListener("error",this.kq),$e(this.vq))},A(n,[{key:"gg",get:function(){return this.FG}},{key:"$E",get:function(){return this.vq?this.vq.default:void 0}},{key:"_g",get:function(){return this.HG}},{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}},{key:"Y_",get:function(){return this.zy.id||this.vq&&this.vq.id||""}},{key:"j_",get:function(){return this.Wy}},{key:"cg",get:function(){return this.zy.inBandMetadataTrackDispatchType||""}},{key:"Q_",get:function(){return this.zy.kind||Pp.wA}},{key:"Z_",get:function(){return this.Vy},set:function(t){t!==this.Vy&&(this.Vy=t,void 0!==this.vq&&(this.vq.label=t),this.$s(new oy(this)))}},{key:"K_",get:function(){return this.zy.language||""}},{key:"fg",get:function(){return this.yP},set:function(t){var n=this.fg;this.yP=Cg(t),this.wq();var i=this.fg;n!==i&&this.$s(new ug(this)),i!==Rg.rg&&this.mq(yy.LOADING)}},{key:"pq",get:function(){return Cg(this.zy.mode)},set:function(t){this.zy.mode=t}},{key:"Qy",get:function(){return this.zy}},{key:"wg",get:function(){return this.yG}},{key:"Tq",get:function(){return this.vq?+this.vq.readyState||yy.NONE:yy.LOADED}},{key:"yg",get:function(){return this.MG}},{key:"_s",get:function(){return this.Wi},set:function(t){this.Wi!==t&&(this.Wi=t,this.$s(new eC(this)))}},{key:"bq",get:function(){return this.lq},set:function(t){this.lq=t,this.wq()}}]),n}(du);function aP(t,n){return Ps(t.Bp,n.Bp)||function(t,n){return t.h_===n.h_?Cs(JN(t),JN(n)):Yp(t.h_,n.h_)}(t.hk,n.hk)||function(t,n){return t===n?Ss.Cs:t===Ty.$y?Ss.Bs:Ss.Ps}(t.type,n.type)}var hP=function(){function t(t,n){var i=this;this.KN=void 0,this.Dq=void 0,this.Mm=[],this.Nq=0,this.Cq=0,this.Pq=[],this.Bq=[],this.Oq=!1,this.xq=!1,this.Lq=void 0,this.Mq=function(){i.Nq=0,i.Uq(),i.Xq()},this.Hq=function(){i.Uq(),i.Xq()},this.Fq=function(){i.xq=!0,i.Lq=i.KN.tm,i.zq()},this.Vq=function(){i.Uq(),i.Xq()},this.Wq=function(){i.Gq(),i.Uq(),i.Xq()},this.qq=function(t){Hs(i.Bq,t.hk)||i.Bq.push(t.hk),i.Yq()},this.jq=function(t){Us(i.Pq,t.hk),Us(i.Bq,t.hk),i.Yq()},this.Dq=n,this.KN=t,t.tu(Tf.ev,this.Hq),t.tu(Tf.zf,this.Hq),t.tu(vm.$g,this.Hq),t.tu(Tf.Ff,this.Hq),t.tu(Tf.jf,this.Fq),t.tu(Tf.Yf,this.Vq),this.Yq()}var n=t.prototype;return n.wc=function(){Fs(this.Pq);for(var t=0,n=this.Mm.slice();t<n.length;t++){var i=n[t];this.O_(i)}this.zq(),this.Nq=0,this.Cq=0,this.Oq=!1,this.xq=!1,this.Lq=void 0},n.B_=function(t){if(!Hs(this.Mm,t)){if(this.Mm.push(t),t.tu(J_.c_,this.qq),t.tu(J_.v_,this.jq),t.tu(J_.k_,this.Wq),t._g.M_>0){for(var n=0,i=t._g.L_;n<i.length;n++){var e=i[n];this.Bq.push(e)}this.Yq()}this.Gq()}},n.O_=function(t){if(Us(this.Mm,t)){if(t.au(J_.c_,this.qq),t.au(J_.v_,this.jq),t.au(J_.k_,this.Wq),t._g.M_>0){for(var n=0,i=t._g.L_;n<i.length;n++){var e=i[n];Us(this.Pq,e),Us(this.Bq,e)}this.Yq()}this.Gq()}},n.Gq=function(){this.Oq=this.Mm.some(function(t){return t.fg!==Rg.rg})},n.Xq=function(){this.KN.vm||this.KN.cm?this.zq():this.Yq()},n.Yq=function(){this.Oq&&(this.Nq||(this.Nq=this.Dq.Pe(this.Mq)))},n.zq=function(){this.Nq&&(this.Dq.Qq(this.Nq),this.Nq=0)},n.Uq=function(){var t;if(this.Oq&&!this.KN.vm){var n=this.Mm,i=this.Cq,e=null!=(t=this.Lq)?t:this.KN.tm,r=e-i<-.1,s=this.xq||r;s&&e>i&&e-i<.1&&(s=!1),this.xq=!1,this.Lq=void 0;for(var u,o=[],a=0;a<n.length;a++){var h=n[a];if(h.fg!==Rg.rg){h.qG(e,s);for(var c=0,f=h.gg.L_;c<f.length;c++){var v=f[c];o.push(v)}}}if(s)u=this.Pq;else{u=[];for(var l=0;l<n.length;l++){var d=n[l];d.fg!==Rg.rg&&qp(d,i-1/6,e,u)}}for(var _=u.length-1;_>=0;_--)Hs(o,u[_])&&Xs(u,_);var g=[];if(!s)for(var m=u.length-1;m>=0;m--){var y=u[m];y.ck>i&&y.fk<=e&&(g.push(y),Xs(u,m))}for(var k=0,p=this.Bq;k<p.length;k++){Us(g,p[k])}Fs(this.Bq);for(var b=[],A=[],T=0;T<g.length;T++){var S=g[T];S.Ck||b.push(new cC(S,S.ck)),b.push(new vC(S,w.max(S.ck,S.fk))),S.Ck=!1}for(var E=0,I=u;E<I.length;E++){var R=I[E];R.Ck&&(b.push(new vC(R,w.max(R.ck,R.fk))),R.Ck=!1)}for(var D=0;D<o.length;D++){var N=o[D];N.Ck||(b.push(new cC(N,N.ck)),N.Ck=!0)}b.sort(aP);for(var C=0;C<b.length;C++){var P=b[C],B=P.hk;B.$s(P);var O=B.h_;O&&(P.type===Ty.$y?O.$s(new dC(B)):O.$s(new _C(B)),Hs(A,O)||A.push(O))}A.sort(Yp);for(var x=0;x<A.length;x++){var L=A[x];L.$s(new yC(L))}this.Cq=e,this.Pq=o}},n.$c=function(){this.wc(),this.KN.au(Tf.ev,this.Hq),this.KN.au(Tf.zf,this.Hq),this.KN.au(vm.$g,this.Hq),this.KN.au(Tf.Ff,this.Hq),this.KN.au(Tf.jf,this.Fq),this.KN.au(Tf.Yf,this.Vq)},t}(),cP=function(){function t(){}var n=t.prototype;return n.Pe=function(t){return TI(t)},n.Qq=function(t){SI(t)},t}(),fP=new cP,vP=function(t){function n(n,i){return void 0===i&&(i=fP),t.call(this,n,i)||this}return S(n,t),n}(hP),lP=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return S(n,t),n.prototype.Nk=function(n){return this===n||dg(this,n)&&t.prototype.Nk.call(this,n)&&EC(this,n)},A(n,[{key:"o_",get:function(){return this.u_||(this.u_=DC(this)),this.u_}}]),n}(Uy),dP=function(t){function n(n,i,e){return void 0===e&&(e=ky.DEFAULT),t.call(this,Pp.gA,"",i||"","",!1,e,!1,n)||this}return S(n,t),n}(hC),wP=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this)._s=ky.ID3,e}S(n,t);var i=n.prototype;return i.KE=function(n){IC(n,this.BG),t.prototype.KE.call(this,n)},i.a_=function(){return Bg(this)},n}(dP);function _P(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=sP(t.value);return t.THEOplayerTextTrackCue=new lP(i,e),t.THEOplayerTextTrackCue}var gP=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).zy=void 0,i._q=function(){i.fg!==Rg.rg&&(i.gq(),i.mq(yy.LOADED))},i.zy=n,i.zy.addEventListener("cuechange",i._q),i.fg=i.pq,ou(function(){i._q()}),i}S(n,t);var i=n.prototype;return i.OP=function(n){t.prototype.OP.call(this,n),this.pq=this.fg},i.mq=function(t){this.wg=w.max(this.wg,t)},i.gq=function(){var t=this.zy.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(_P(t[e]||t.item(e)));return Rs(i,ZN),i}(t),i=$N(this._g.L_.slice(),n),e=0,r=i.PG;e<r.length;e++){var s=r[e];this.UE(s)}for(var u=0,o=i.CG;u<o.length;u++){var a=o[u];this.KE(a)}}},i.$c=function(){this.zy.removeEventListener("cuechange",this._q),t.prototype.$c.call(this)},A(n,[{key:"Y_",get:function(){return this.zy.id||""}},{key:"cg",get:function(){return this.zy.inBandMetadataTrackDispatchType||""}},{key:"K_",get:function(){return this.zy.language||""}},{key:"pq",get:function(){return Cg(this.zy.mode)},set:function(t){this.zy.mode=t}},{key:"Qy",get:function(){return this.zy}}]),n}(wP),mP=function(t){function n(n,i){var e;return(e=t.call(this)||this).Zq=Br(),e.kD=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.h_)._s){i.next=4;break}return i.next=4,Dr.awrap(n.wu(J_.T_));case 4:if(n._s===ky.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n._g.M_){i.next=11;break}return i.next=9,Dr.awrap(n.wu(J_.c_));case 9:i.next=6;break;case 11:e.Kq(n);case 12:case"end":return i.stop()}},null,null,null,We)},e.pD=function(t){var n=t.h_;if(n._s===ky.ID3&&e.Zq.has(n.j_)){var i=e.Zq.get(n.j_);e.O_(i),e.GE.JE(i),n.au(J_.c_,e.Jq)}},e.Jq=function(t){yP(t.hk)&&e.$q(t.hk)},e.GE=n,e.tY=i,e.nY(),e}S(n,t);var i=n.prototype;return i.nY=function(){this.tY.tu(j_.i_,this.kD),this.tY.tu(j_.r_,this.pD)},i.iY=function(){this.tY.au(j_.i_,this.kD),this.tY.au(j_.r_,this.pD)},i.Kq=function(t){var n=t._g.L_[0];if(yP(n)){var i=function(t){var n=t.match(kP);if(!n)return;return{h_:n[1],K_:n[2]}}(n.vk.description),e=i.h_,r=i.K_;if(!this.eY(e,r)){var s=this.GE.QE(Pp.wA,t.Y_,e,r,!1,ky.TTML);this.B_(s),this.Zq.set(t.j_,s);for(var u=0,o=t._g.L_;u<o.length;u++){var a=o[u];yP(a)&&this.$q(a)}t.tu(J_.c_,this.Jq)}}},i.eY=function(t,n){return this.hT.L_.some(function(i){return i.Z_===t&&i.K_===n})},i.$q=function(t){if(t.h_)for(var n=this.Zq.get(t.h_.j_),i=kp(t.vk.text,n,{wb:0,_b:1/0,gb:t.ck}),e=0;e<i.length;e++){var r=i[e];n.KE(r)}},i.wc=function(){var n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,i=this.tY.L_;n<i.length;n++)i[n].au(J_.c_,this.Jq);for(e=0,r=this.hT.L_;e<r.length;e++)s=r[e],this.GE.JE(s);return this.Zq.clear(),u.next=5,Dr.awrap(t.prototype.wc.call(this));case 5:case"end":return u.stop()}},null,this,null,We)},i.$c=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.iY(),n.next=3,Dr.awrap(t.prototype.$c.call(this));case 3:case"end":return n.stop()}},null,this,null,We)},n}(Jp);function yP(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.vk)&&kP.test(n.description);var n}var kP=/^Track:(.+),Lang:(.+)$/;var pP=function(t){function n(n){var i;return(i=t.call(this,Tf.If)||this).errorObject=void 0,i.errorObject=n,i}return S(n,t),A(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(_u),bP=function(t){function n(){return t.call(this,Tf.Rf)||this}return S(n,t),n}(_u),AP=function(t){function n(n){var i;return(i=t.call(this,"ov")||this).rY=n,i}return S(n,t),n}(_u),TP=new af,SP=function(t){function n(n){var i;return(i=t.call(this,"Zh")||this).session=n,i}return S(n,t),n}(_u),EP=function(t){function e(e,r,s){var u;return(u=t.call(this)||this).sY=!1,u.uY=!1,u.Yc=new Ks,u.oY=void 0,u.qh=function(t){if(!u.Yc.js.Os)switch(t.pu){case"license-request":case"license-renewal":u.LI(t.yu,t.bu).catch(function(t){return u.Nc(t)});break;default:u.Nc(new ty(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.pu))}},u.aY=function(t){u.hY.rc.Pu(function(t,n){switch(t){case"usable":i.Zn(function(){u.uY=!0,u.$s(new bP)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.$s(new AP(n))}})},u.cY=function(t){u.Nc(new ty(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.hY=e,u.fY=r,u.vY=s,e.tu("yu",u.qh),e.tu("mu",u.aY),e.tu("Au",u.cY),e.ic.then(function(){return u.lY()}),u}S(e,t);var r=e.prototype;return r.Kh=function(){var t=this;return this.sY=!0,TP.Kc(function(n){return t.dY(n)},this.Yc.js)},r.dY=function(t){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,tu(t),s.next=4,Dr.awrap(this.fY.RI(t));case 4:return s.next=6,Dr.awrap(this.fY.DI(this.vY.ys,this.vY.Ru,t));case 6:return i=s.sent,s.next=9,Dr.awrap(this.hY.Kh(this.vY.ys,this.vY.Ru,i));case 9:s.next=18;break;case 11:throw s.prev=11,s.t0=s.catch(0),nu(s.t0),e=s.t0 instanceof Qo?s.t0.Ju:void 0,r=new ty(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",s.t0,void 0,void 0,void 0,void 0,e),this.Nc(r),r;case 18:case"end":return s.stop()}},null,this,[[0,11]],We)},r.LI=function(t,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!qo(t)){o.next=7;break}return o.next=4,Dr.awrap(this.fY.WI(new y(t),this.Yc.js));case 4:e=o.sent,o.next=10;break;case 7:return o.next=9,Dr.awrap(this.fY.GI(new y(t),i,this.Yc.js));case 9:e=o.sent;case 10:o.next=17;break;case 12:if(o.prev=12,o.t0=o.catch(0),!$s(o.t0)){o.next=16;break}return o.abrupt("return");case 16:throw o.t0;case 17:if(!this.Yc.js.Os){o.next=19;break}return o.abrupt("return");case 19:return r=this.oY,s=new Wo,this.oY=s,o.prev=22,o.next=25,Dr.awrap(this.hY.tc(e));case 25:return o.next=27,Dr.awrap(cu(100));case 27:o.next=33;break;case 29:throw o.prev=29,o.t1=o.catch(22),u=o.t1 instanceof Qo?o.t1.Ju:void 0,new ty(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o.t1,void 0,void 0,void 0,void 0,u);case 33:if(o.prev=33,void 0===r){o.next=37;break}return o.next=37,Dr.awrap(r.Gu);case 37:return s.Qu(),this.oY===s&&(this.oY=void 0),o.finish(33);case 40:case"end":return o.stop()}},null,this,[[0,12],[22,29,33,40]],We)},r.Nc=function(t){var i=t instanceof ty?t:new ty(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.$s(new pP(i)),this.Zh()},r.lY=function(){this.hY.au("yu",this.qh),this.hY.au("mu",this.aY),this.hY.au("Au",this.cY),this.uY=!1,this.Yc.Gs(),this.$s(new SP(this))},r.Zh=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.ou();case 1:if(void 0===(t=this.oY)){n.next=5;break}return n.next=5,Dr.awrap(t.Gu);case 5:if(this.oY!==t){n.next=1;break}case 6:return this.lY(),n.next=9,Dr.awrap(this.hY.Zh().catch(K));case 9:case"end":return n.stop()}},null,this,null,We)},e}(du),IP=[Tf.Rf,Tf.If,Tf.uv],RP=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Yh=void 0,r.ac=void 0,r.wY=void 0,r._Y=[],r.gY=void 0,r.mY=[],r.yY=function(t){t.session.au(IP,r.Js),t.session.au("Zh",r.yY),Us(r._Y,t.session)},r.Yh=n,r.ac=i,r.wY=e,r}S(n,t);var i=n.prototype;return i.VI=function(){return this.wY.VI()},i.kY=function(t){return this.gY||(this.gY=this.pY(t)),this.gY},i.pY=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return tu(t),i.next=3,Dr.awrap(this.wY.WI(new y(Go()),t));case 3:if(n=i.sent,tu(t),this.ac){i.next=7;break}throw new v("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,Dr.awrap(this.ac.vc(n.buffer));case 9:case"end":return i.stop()}},null,this,null,We)},i.bY=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ac){e.next=2;break}throw new v("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.mY.push(t),e.next=6,Dr.awrap(this.ac.fc("temporary"));case 6:return n=e.sent,i=new EP(n,this.wY,t),this._Y.push(i),i.tu(IP,this.Js),i.tu("Zh",this.yY),e.abrupt("return",i);case 12:return e.prev=12,Us(this.mY,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],We)},i.AY=function(t){if(t.TY)return!1;for(var n=0,i=this._Y;n<i.length;n++){if(DP(i[n].vY,t))return!0}for(var e=0,r=this.mY;e<r.length;e++){if(DP(r[e],t))return!0}return!1},i.$c=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.ac=void 0,this.ou(),t=this._Y.slice(),Fs(this._Y),n.next=6,Dr.awrap(We.all(t.map(function(t){return t.Zh()})));case 6:this.wY.Xs();case 7:case"end":return n.stop()}},null,this,null,We)},A(n,[{key:"hc",get:function(){return this.Yh}}]),n}(du);function DP(t,n){return!t.TY&&t.ys===n.ys&&Lu(t.Ru,n.Ru)}var NP=function(t){function e(n){var i;return(i=t.call(this)||this).PD=void 0,i.Yc=new Ks,i.LX=new af,i.Mc=void 0,i.wY=void 0,i.BD=void 0,i.Yh=void 0,i.SY=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Dr.awrap(i.EY(t.ys,t.Ru,i.Yc.js));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),$s(n.t0)||i.Nc(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],We)},i.PD=n,i.PD.tu(lu.Tu,i.SY),i}S(e,t);var r=e.prototype;return r.Jh=function(t,n){this.BD=t,this.sH(n)},r.sH=function(t){this.Mc=t,this.IY(this.Yc.js).catch(iu)},r.IY=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.Hr.qe){n.next=5;break}return n.next=3,Dr.awrap(this.RY(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Mc||!this.Mc.DY){n.next=9;break}return n.next=8,Dr.awrap(this.NY(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,We)},r.RY=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.Mc)?void 0:n.hN){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(s=null==(u=this.Mc)?void 0:u.hN)?s:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],a=0,h=null!=(c=o.gD)?c:[];case 8:if(!(a<h.length)){v.next=22;break}return f=h[a],v.prev=10,v.next=13,Dr.awrap(this.EY(o.hc.ys,f,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),nu(v.t0);case 19:a++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],We)},r.EY=function(t,e,r){var s,u,o,a,h,c,f,v,l,d;return Dr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(tu(r),e.byteLength){w.next=3;break}return w.abrupt("return");case 3:if(this.Mc&&this.Mc.hN.length){w.next=5;break}throw new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Wr||t===qr||t===Gr){w.next=8;break}return w.abrupt("return");case 8:s=wA(t,e),u=this.Mc.hN,a=0;case 11:if(!(a<u.length)){w.next=42;break}if(h=u[a],tu(r),(c=s[h.hc.As])&&h.hc.ys===t){w.next=17;break}return w.abrupt("continue",39);case 17:return w.prev=17,w.next=20,Dr.awrap(this.CY(h,r));case 20:if(!(f=w.sent).VI()){w.next=24;break}return w.next=24,Dr.awrap(f.kY());case 24:if(v=this.PD.Sy,l={ys:h.hc.ys,Ru:c,TY:v},!this.PY(f,l)){w.next=32;break}return w.next=29,Dr.awrap(f.bY(l));case 29:return d=w.sent,w.next=32,Dr.awrap(d.Kh());case 32:return w.abrupt("return");case 35:w.prev=35,w.t0=w.catch(17),nu(w.t0),o=w.t0;case 39:a++,w.next=11;break;case 42:return w.next=44,Dr.awrap(i.Dr());case 44:if(!w.sent){w.next=48;break}throw new ty(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new ty(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return w.stop()}},null,this,[[17,35]],We)},r.NY=function(t){var n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=null==(n=this.Mc)?void 0:n.hN){u.next=3;break}return u.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){u.next=23;break}return r=i[e],tu(t),u.prev=7,u.next=10,Dr.awrap(this.CY(r,t));case 10:if(!(s=u.sent).VI()){u.next=14;break}return u.next=14,Dr.awrap(s.kY());case 14:return u.abrupt("return");case 17:u.prev=17,u.t0=u.catch(7),nu(u.t0);case 20:e++,u.next=4;break;case 23:case"end":return u.stop()}},null,this,[[7,17]],We)},r.PY=function(t,n){return i.Hr.Ge||!t.AY(n)},r.CY=function(t,n){var i=this;return this.LX.Kc(function(n){return i.BY(t,n)},n)},r.BY=function(t,n){var i,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(tu(n),this.Mc&&this.wY&&this.BD){o.next=3;break}throw new v("Not initialized");case 3:if(!this.Yh){o.next=7;break}if(this.Yh.hc===t.hc){o.next=6;break}throw new v("Internal key system error");case 6:return o.abrupt("return",this.Yh);case 7:return i=this.wY,e=Nr({},t,{AN:t.AN.map(function(n){var e;return Nr({},n,{persistentState:null!=(e=n.persistentState)?e:i.fR(t.hc),bc:n.bc||i.bc(t.hc)})})}),o.next=11,Dr.awrap(this.BD.iH(e.hc,e.AN));case 11:return r=o.sent,s=i._D(e),(u=new RP(e.hc,r,s)).tu([Tf.Rf,Tf.If,Tf.uv],this.Js),this.Yh=u,o.abrupt("return",u);case 17:case"end":return o.stop()}},null,this,null,We)},r.Nc=function(t){var i=t instanceof ty?t:new ty(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.$s(new pP(i))},r.wc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.BD=void 0,this.Mc=void 0,this.Yc.Gs(),this.Yc=new Ks,t.next=6,Dr.awrap(this.OY());case 6:case"end":return t.stop()}},null,this,null,We)},r.OY=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.LX.Gs());case 2:if(!(t=this.Yh)){n.next=8;break}return t.au(Tf.uv,this.Js),this.Yh=void 0,n.next=8,Dr.awrap(t.$c());case 8:case"end":return n.stop()}},null,this,null,We)},r.Xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ou(),this.PD.au(lu.Tu,this.SY),t.next=4,Dr.awrap(this.wc());case 4:return t.next=6,Dr.awrap(this.LX.$c());case 6:case"end":return t.stop()}},null,this,null,We)},A(e,[{key:"xY",get:function(){var t;return null==(t=this.Yh)?void 0:t.hc}},{key:"uN",get:function(){return this.wY},set:function(t){this.wY=t}}]),e}(du),CP=M.Rn||M.Dn,PP=M.Yn,BP=.5,OP=5,xP=M.On,LP=M.On&&M.cn,MP=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).ef=void 0,s.LY=void 0,s.OD=void 0,s.tC=!0,s.BD=void 0,s.MY=new af,s.UY=void 0,s.XY=void 0,s.HY=void 0,s.JX=void 0,s.Mm=void 0,s.rP=void 0,s.FY=[],s.zY=void 0,s.VY=void 0,s.WY=void 0,s.GY=void 0,s.qY=void 0,s.YY=void 0,s.jY=NaN,s.QY=void 0,s.ZY=void 0,s.nP=!1,s.KY=We.resolve(),s.JY=new Ks,s.$Y=[],s.tj=fS.qC(),s.nj=void 0,s.ij=1,s.ej=!1,s.rj=!1,s.sj=!1,s.uj=!1,s.Es=void 0,s.aj=!1,s.hj=!1,s.cj=!1,s.vj=!1,s.lj=0,s.OW=void 0,s.dj=!1,s.wj=function(t){var n=t.track,i=s._j(n);s.gj(n,i)},s.mj=function(t){var n=FP(s.zY,t.track);n&&s.zY.O_(n)},s.yj=function(){for(var t=0;t<s.zY.M_;t++){var n=s.zY.P_(t);n instanceof oP&&n.Aq()}},s.pj=function(){var t=s.BD,n=t.ZW,i=t.KW;if(n&&i)if(t.dH)s.bj();else if(t.wg!==xN.nW){var e=n.by,r=i.by;if(0!==e.M_&&0!==r.M_){var u=s.tm;if(u<e.oC(0)||u<r.oC(0))s.bj();else if(e.TN(u)!==r.TN(u)){if(t.LW(u))return;s.Aj()}else{if(s.bj(),!s.lj&&s.HY.IG())e.IC(r).OC(u,u+BP)&&(s.lj=TI(s.Tj))}}else s.bj()}},s.Tj=function(){s.lj=0,s.pj()},s.Sj=function(){if(!(s.vm||s.wg>=jg.qg)){0;var t=s.BD,n=t.ZW,i=t.KW;if(n&&i){var e=s.tm,r=n.by,u=i.by;if(r.TN(e)&&u.TN(e))r.IC(u).OC(e-OP,e)&&(s.cj?s.bj():s.Ej())}}},s.Ij=function(){s.$s(new wm(s.tm))},s.Rj=function(){s.Dj(new Js),s.$s(new dm(s.tm))},s.Nj=function(){s.Cj(),s.$s(new mb(s.tm))},s.Pj=function(){s.Bj(s.fm)},s.Oj=function(){s.$s(new mm(s.nm))},s.xj=function(){s.$s(new ID(s.tm))},s.Lj=function(){s.$s(new RD)},s.Mj=function(){var t=s.tm,n=s.vm,i=s.wg<jg.qg&&!s.im,e=void 0!==s.ZY,r=e&&s.ZY!==t;(n||!e||r&&!i)&&(s.$s(new km(s.tm,void 0)),s.ZY=t)},s.Uj=function(){!s.ej&&s.im&&(s.ej=!0,s.$s(new pm(s.tm)))},s.Xj=function(){if(null!==s.ef.error){var t,n=s.ef.error;s.WD(new ny(null!=(t=n.code)?t:Km.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.Hj=function(){s.rj&&(s.Fj(),s.sj=!0)},s.zj=function(){s.$s(new Sm(s.tm,s.wm))},s.Vj=function(){s.dm>0&&s.lm>0&&s.$s(new ob)},s.Wj=function(t){s.$s(new bu(t.initDataType,t.initData||new ArrayBuffer(0)))},s.Gj=function(){s.$s(new Au)},s.qj=function(t){var n=t.initData,i=n?Ho(n).buffer:new ArrayBuffer(0);s.$s(new bu(Wr,i))},s.Yj=function(t){if(t.initData){var n=UP(t.initData);if(!n)return;s.$s(new bu(qr,n))}else s.$s(new bu(qr,new ArrayBuffer(0)))},s.jj=function(t){var n=t.initData,i=n?Ho(n).buffer:new ArrayBuffer(0);s.$s(new bu(Wr,i))},s.Qj=function(){s.Cj()},s.Zj=function(t){s.Dj(t)},s.Kj=function(t){s.$s(t),t.type===Tf.If&&s.WD(ey(t.errorObject))},s.ef=n,s.Es=i,s.LY=e,s.rP=r,s.XY=new WN(Kt(s)),s.XY.tu(vm.b_,s.Js),s.HY=new YN(Kt(s)),s.HY.tu(vm.$g,s.Nj),s.JX=new NP(Kt(s)),s.JX.tu([Tf.Rf,Tf.If,Tf.uv],s.Kj),s.Mm=new Bp,s.zY=new Bp,s.VY=new GT([s.Mm,s.zY]),s.WY=new mP(Kt(s),s.VY),s.GY=new GT([s.VY,s.WY.hT]),s.qY=new vP(Kt(s)),s.Jj(),s.aN(),s}S(n,t);var e=n.prototype;return e.$j=function(){this.sN.ended||this.tm===this.nm||(this.ej=!1)},e.tQ=function(){return void 0!==this.YY&&this.nm===this.YY},e.Bj=function(t){this.ij!==t&&(this.ij=t,this.$s(new ym(this.tm,t)))},e.IN=function(){return RR(this.ef)},e.Gm=function(){this.dj||(this.dj=!0);var t=this.nQ();return this.iQ(),t},e.iQ=function(){this.aj?this.hj&&(this.hj=!1,this.$s(new wm(this.tm))):this.eQ()},e.eQ=function(){if(this.UY)this.UY.Gm();else{M.On&&!M.cn&&this.ef.preload===eS.jN&&(this.ef.preload=eS.gA);var t=this.fm,n=this.ef.play();t!==this.sN.playbackRate&&(this.fm=t),j(n)?n.then(this.Qj,this.Zj):this.HY.IG()&&this.Cj()}},e.qm=function(){this.aj?this.hj||(this.hj=!0,this.$s(new dm(this.tm))):this.rQ()},e.rQ=function(){this.UY?this.UY.qm():(this.ef.pause(),this.HY.tc()),this.sQ(new Js)},e.nQ=function(){var t=new Wo;return this.$Y.push(t),t.Gu},e.uQ=function(){for(var t=0,n=this.$Y;t<n.length;t++){n[t].Qu(void 0)}Fs(this.$Y)},e.sQ=function(t){for(var n=0,i=this.$Y;n<i.length;n++){i[n].Zu(t)}Fs(this.$Y)},e.Cj=function(){this.aj||this.UY||this.uQ()},e.Dj=function(t){this.aj||this.UY||this.sQ(t)},e.Xu=function(t,n){this.UY?this.UY.tm=t:(this.JY.Gs(),this.JY=new Ks,this.KY=this.oQ(t,this.KY,this.JY.js).catch(K))},e.EN=function(t){var n=this.RN;if(n&&!m(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Xu(i)}},e.oQ=function(t,n,i){var e,r,s,u,o,a,h,c,f=this;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,this.YY=t,this.jY=t,this.nP=!0,this.ej&&!this.tQ()&&(this.ej=!1),this.$s(new Am(t)),v.next=8,Dr.awrap(n.catch(K));case 8:if(tu(i),this.uj&&this.aQ(),this.wg!==jg.Vg){v.next=13;break}return v.next=13,Dr.awrap(this.wu(vm.b_,i));case 13:if(0!==this.ef.seekable.length&&(!LP||this.dj)){v.next=19;break}return v.next=16,Dr.awrap(We.race([q_(this.ef,"timeupdate",i),cu(100,i)]));case 16:tu(i),v.next=13;break;case 19:e=this.hQ(t),r=this.Ly,s=!0,u=!1;case 23:if((r=this.Ly).M_>0&&!r.TN(e)&&(e=r.gC(e),s=!0),xP&&void 0!==(o=this.cQ())&&e>o&&(e=o,s=!0),u){v.next=37;break}if(!(void 0!==(a=this.fQ())&&e>a)){v.next=37;break}return u=!0,v.next=33,Dr.awrap(this.vQ(a,i));case 33:return v.next=35,Dr.awrap(q_(this.ef,"seeked",i));case 35:tu(i),s=!0;case 37:if(!s){v.next=56;break}return s=!1,v.next=41,Dr.awrap(this.vQ(e,i));case 41:tu(i),h=this.tm,r=this.Ly,e=r.gC(e),c=1;case 46:if(!(w.abs(e-h)>=1/6)){v.next=56;break}return r=this.Ly,e=HP(e,r,c),v.next=51,Dr.awrap(this.vQ(e,i));case 51:tu(i),h=this.tm,c++,v.next=46;break;case 56:if(this.ef.seeking||this.wg<jg.Gg){v.next=58;break}return v.abrupt("break",63);case 58:return v.next=60,Dr.awrap(su(function(t){var n;return We.race([q_(f.ef,"seeked",t),f.wu([Tf.Vf,Tf.Cf,vm.b_],t),null==(n=f.BD)?void 0:n.wu(_D.bB,t)].filter(H))},i));case 60:tu(i),v.next=23;break;case 63:this.lQ(),v.next=71;break;case 66:if(v.prev=66,v.t0=v.catch(0),!$s(v.t0)){v.next=70;break}return v.abrupt("return");case 70:0;case 71:case"end":return v.stop()}},null,this,[[0,66]],We)},e.vQ=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(tu(n),i=this.Ly,t=i.gC(t),!this.uj){s.next=18;break}e=!0;case 5:if(!(e||this.wg<jg.qg)){s.next=17;break}if((i=this.Ly).TN(t)||(t=i.gC(t),e=!0),!e){s.next=13;break}return e=!1,this.YY=t,this.dQ(this.tm),s.abrupt("continue",5);case 13:return s.next=15,Dr.awrap(this.wu([vm.b_,Tf.Cf],n));case 15:s.next=5;break;case 17:tu(n);case 18:if(r=q_(this.ef,"seeking",n),this.ef.currentTime=t,this.YY=void 0,this.dQ(this.tm),!this.ef.seeking){s.next=25;break}return s.next=25,Dr.awrap(r);case 25:case"end":return s.stop()}},null,this,null,We)},e.hQ=function(t){var n=this.by;if(n&&!n.TN(t)){var i=n.DC(t,.05);if(i>-1){var e=n.oC(i);if(t<e)return e}}return t},e.cQ=function(){if(this.BD&&this.BD.dH){var t=this.BD.wH,n=this.BD._H,i=t&&n?t.kC(n):t||n;if(i&&0!==i.M_){var e=i.oC(i.M_-1),r=i.hC(i.M_-1);return w.max(e,r-.001)}}},e.fQ=function(){if(this.BD&&this.BD.dH){var t=this.BD._H;if(t&&0!==t.M_){var n=t.oC(t.M_-1),i=t.hC(t.M_-1)-.02;return i-=.001,w.max(n,i)}}},e.dQ=function(t){this.jY!==t&&(this.jY=t,this.$s(new Am(t)))},e.lQ=function(){this.nP=!1,this.jY=NaN,this.uj&&this.wQ(),this.$s(new Tm(this.tm))},e.aQ=function(){this.aj||(this.hj=this.cm,this.aj=!0,this.rQ())},e.wQ=function(){this.aj&&(this.aj=!1,this.hj||this.iQ())},e.lH=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i._s===ub.tI&&ED.lH(i,this.ef))return i;if(i._s===ub.nI&&UN.lH(i))return i}},e.uy=function(){this.tC=!1,sr(this.ef)&&(this.ef.style.display="none")},e.sy=function(){this.tC=!0,sr(this.ef)&&(this.ef.style.display="block")},e.QE=function(t,n,i,e,r,s,u,o){var a=new hC(t,n,i,e,r,s,u,o);return this.Mm.B_(a),this.qY.B_(a),a},e.dN=function(){return!0},e._N=function(t,n,i,e,r){var u=s.createElement("track");u.src=cw(t),u.kind=n,u.label=null!=i?i:"",e&&(u.srclang=e),u.default=!!r,u.id=nI(),this.ef.appendChild(u);var o=this.ef.textTracks.getTrackById(u.id),a=new oP(o,u);return this.zY.B_(a),this.FY.push(a),a},e.JE=function(t){this.Mm.O_(t),this.qY.O_(t)},e.yN=function(){for(var t=0,n=this.Mm.L_.slice();t<n.length;t++){n[t].$c()}this.Mm.wc();for(var i=0,e=this.FY.slice();i<e.length;i++){var r=e[i];this.zY.O_(r),r.$c()}Fs(this.FY)},e.aN=function(){var t=this.ef.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.wj),t.addEventListener("removetrack",this.mj),t.addEventListener("change",this.yj))},e.pN=function(){var t=this.ef.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.wj),t.removeEventListener("removetrack",this.mj),t.removeEventListener("change",this.yj))},e.gj=function(t,n){if(M.On){if(t.kind===Pp.gA)return void this._Q(t);if(t.kind===Pp.PE&&""===t.label&&""===t.language&&!zP(t))return void this.gQ(t,n)}FP(this.zY,t)||this.zY.B_(new oP(t,n))},e._Q=function(t){t.mode=Rg.og;var n=new gP(t);this.zY.B_(n),this.qY.B_(n)},e.gQ=function(t,n){var i=this;t.addEventListener("cuechange",function e(){zP(t)&&(t.removeEventListener("cuechange",e),i.zY.B_(new oP(t,n)))}),t.mode=Rg.og},e._j=function(t){for(var n=this.ef.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},e.Jh=function(t){var n=this;return this.MY.Kc(function(i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(tu(i),!n.BD){r.next=3;break}throw new v("Already loaded a media source");case 3:if(t._s!==ub.tI){r.next=9;break}e=new ED(t,n,n.JX,n.Es),n.uj=!1,n.mQ(new WN(n)),r.next=17;break;case 9:if(t._s!==ub.nI){r.next=16;break}e=new UN(t,n,n.JX,n.Es,void 0,n.OW),n.uj=CP,n.mQ(n.uj?new GN(n):new WN(n)),PP&&(n.tu(Tf.ev,n.pj),n.tu(vm.b_,n.Sj)),r.next=17;break;case 16:throw new v("Unsupported configuration");case 17:return n.BD=e,r.next=20,Dr.awrap(e.JL());case 20:return r.abrupt("return",e);case 21:case"end":return r.stop()}},null,null,null,We)})},e.Aj=function(){if(!this.cj){var t=this.fm;this.cj=!0,this.fm=t,this.ef.playbackRate=0,this.XY&&this.XY.pG()}},e.bj=function(){if(this.cj){var t=this.fm;this.cj=!1,this.fm=t,this.Ej()}},e.Ej=function(){this.ef.currentTime=this.ef.currentTime,this.XY&&this.XY.pG()},e.mQ=function(t){var n=this.wg;this.XY.Xs(),this.XY=t,this.XY.tu(vm.b_,this.Js);var i=this.wg;n!==i&&this.$s(new Rm(this.tm,i))},e.wc=function(){var t=this;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.nP=!1,this.tj=fS.qC(),this.JY.Gs(),this.YY=void 0,this.jY=NaN,this.QY=void 0,this.uj=!1,this.aj=!1,this.OD=void 0,this.ej=!1,this.ZY=void 0,this.rj=!1,this.dj=!1,this.sj&&(this.Jj(),this.sj=!1),this.sQ(new Js),this.mQ(new WN(this)),this.HY.wc(),this.zY.wc(),this.bj(),PP&&(SI(this.lj),this.lj=0,this.au(Tf.ev,this.pj),this.au(vm.b_,this.Sj)),n.next=22,Dr.awrap(this.MY.Gs());case 22:return n.next=24,Dr.awrap(this.MY.Kc(function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.BD){n.next=4;break}return n.next=3,Dr.awrap(t.BD.Xs());case 3:t.BD=void 0;case 4:case"end":return n.stop()}},null,null,null,We)}));case 24:case"end":return n.stop()}},null,this,null,We)},e.Xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.sj=!1,this.Fj(),this.pN(),t.next=5,Dr.awrap(this.wc());case 5:return t.next=7,Dr.awrap(this.MY.$c());case 7:return this.HY.Xs(),this.XY.Xs(),t.next=11,Dr.awrap(this.JX.Xs());case 11:return this.yN(),this.Mm.$c(),this.zY.$c(),t.next=16,Dr.awrap(this.WY.$c());case 16:this.VY.$c(),this.GY.$c(),this.ou();case 19:case"end":return t.stop()}},null,this,null,We)},e.Jj=function(){this.sN.addEventListener("play",this.Ij),this.sN.addEventListener("pause",this.Rj),this.sN.addEventListener("timeupdate",this.Mj),this.sN.addEventListener("progress",this.xj),this.sN.addEventListener("loadstart",this.Lj),this.sN.addEventListener("ended",this.Uj),this.sN.addEventListener("ratechange",this.Pj),this.sN.addEventListener("volumechange",this.zj),this.sN.addEventListener("durationchange",this.Oj),this.sN.addEventListener("resize",this.Vj),this.sN.addEventListener("loadedmetadata",this.Vj),this.sN.addEventListener("error",this.Xj),this.sN.addEventListener("emptied",this.Hj),As()?(this.ef.addEventListener("encrypted",this.Wj),this.ef.addEventListener("waitingforkey",this.Gj)):void 0!==le.WebKitMediaKeys&&"function"==typeof le.WebKitMediaKeys.isTypeSupported?this.ef.addEventListener("webkitneedkey",this.Yj):Ts()?this.ef.addEventListener("webkitneedkey",this.jj):void 0!==le.MSMediaKeys&&"function"==typeof le.MSMediaKeys.isTypeSupported&&this.ef.addEventListener("msneedkey",this.qj)},e.Fj=function(){this.sN.removeEventListener("play",this.Ij),this.sN.removeEventListener("pause",this.Rj),this.sN.removeEventListener("timeupdate",this.Mj),this.sN.removeEventListener("progress",this.xj),this.sN.removeEventListener("loadstart",this.Lj),this.sN.removeEventListener("ended",this.Uj),this.sN.removeEventListener("ratechange",this.Pj),this.sN.removeEventListener("volumechange",this.zj),this.sN.removeEventListener("durationchange",this.Oj),this.sN.removeEventListener("resize",this.Vj),this.sN.removeEventListener("loadedmetadata",this.Vj),this.sN.removeEventListener("error",this.Xj),this.sN.removeEventListener("encrypted",this.Wj),this.sN.removeEventListener("waitingforkey",this.Gj),this.sN.removeEventListener("webkitneedkey",this.Yj),this.sN.removeEventListener("webkitneedkey",this.jj),this.sN.removeEventListener("msneedkey",this.qj),this.sN.removeEventListener("emptied",this.Hj)},e.yQ=function(){var t;this.UY||(this.tj=this.Oy,this.UY=new FN((t=this).tm,t.nm,t.im,t.cm,t.vm,t.hm,t.fm,t.wm,t.wg),this.Fj(),this.UY.tu(HN,this.Js))},e.kQ=function(){if(this.UY){var t,n,i=this.UY;this.UY=void 0,this.XY.pG(),t=this,(n=i).nm===t.nm||m(n.nm)&&m(t.nm)||t.$s(new mm(t.nm)),t.hm=n.hm,t.wm=n.wm,t.fm=n.fm,n.cm?t.qm():t.Gm().catch(K),n.tm!==t.tm||n.wg>jg.Vg&&t.wg===jg.Vg?t.Xu(n.tm):!n.vm&&t.vm?t.$s(new Am(t.tm)):n.vm&&!t.vm&&t.wg>=jg.Gg&&t.$s(new Tm(t.tm)),!n.im&&t.im&&t.$s(new pm(t.tm)),i.Xs(),this.Jj()}},e.WD=function(t){this.OD=t,this.sQ(this.OD),this.$s(new jN(this.OD))},e.pQ=function(){this.bQ||(dO(this.ef,i.Hr),this.vj=!0)},e.AQ=function(t){t.appendChild(this.ef)},e.cG=function(){PP&&this.pj(),this.XY.pG()},e.py=function(){this.JX.OY().catch(K),this.zY.wc()},A(n,[{key:"AG",get:function(){return this.cj}},{key:"by",get:function(){return this.BD?this.BD.by:fS.qC()}},{key:"Ay",get:function(){var t=this.RN;if(t&&!m(t.getTime())){var n=1e3*this.tm;return new Date(t.getTime()+n)}}},{key:"RN",get:function(){if(this.sN.getStartDate)return this.nP&&this.QY||(this.QY=this.sN.getStartDate()),this.QY}},{key:"tm",get:function(){return this.UY?this.UY.tm:void 0!==this.YY?this.YY:this.ef.currentTime}},{key:"vX",get:function(){return this.LY}},{key:"nm",get:function(){return this.UY?this.UY.nm:this.BD?this.BD.nm:this.ef.duration}},{key:"im",get:function(){return this.vm?this.tQ():this.UY?this.UY.im:this.ef.ended||this.ej}},{key:"Au",get:function(){return this.OD}},{key:"sN",get:function(){return this.ef}},{key:"cm",get:function(){return this.aj?this.hj:this.UY?this.UY.cm:this.ef.paused}},{key:"Oy",get:function(){return this.tj.EC(fS.VC(this.ef.played))}},{key:"ST",get:function(){return this.ef.offsetHeight*i.Hr.Ve}},{key:"Xk",get:function(){return this.ef.offsetWidth*i.Hr.Ve}},{key:"mN",get:function(){return dS}},{key:"wg",get:function(){return this.XY.wg}},{key:"Ly",get:function(){return this.BD?this.BD.Ly:fS.qC()}},{key:"vm",get:function(){return this.UY?this.UY.vm:this.nP}},{key:"hm",get:function(){return this.UY?this.UY.hm:this.ef.muted},set:function(t){this.UY?this.UY.hm=t:this.ef.muted=t}},{key:"fm",get:function(){return this.UY?this.UY.fm:void 0!==this.nj?this.nj:this.ef.playbackRate},set:function(t){this.UY?this.UY.fm=t:this.cm||this.cj?(this.nj=t,this.Bj(t)):(this.nj=void 0,this.ef.playbackRate=t)}},{key:"TQ",get:function(){return this.tC}},{key:"wm",get:function(){return this.UY?this.UY.wm:this.ef.volume},set:function(t){this.UY?this.UY.wm=t:this.ef.volume=t}},{key:"Vm",get:function(){return this.GY}},{key:"dX",get:function(){return this.rP}},{key:"Sy",get:function(){return!!this.ef.webkitCurrentPlaybackTargetIsWireless}},{key:"bQ",get:function(){return this.vj}},{key:"SQ",get:function(){return Nr({},bD)}},{key:"uN",get:function(){return this.JX.uN},set:function(t){this.JX.uN=t}},{key:"EQ",get:function(){return this.OW},set:function(t){this.OW=t}},{key:"xY",get:function(){return this.JX.xY}},{key:"Uy",get:function(){return this.rj},set:function(t){this.rj=t,this.sj&&!this.rj&&(this.sj=!1,this.Jj())}}]),n}(du);function UP(t){try{var n=xo(t),i=new zo;return So(Eo(ro(n,i,co(n,i,!0)),!0))}catch(t){return}}var XP=.01;function HP(t,n,i){if(void 0===i&&(i=0),!n.M_)return 0;var e=n.gC(t),r=XP*i;return e===n.oC(0)?e+=r:e===n.hC(n.M_-1)&&(e-=r),e}function FP(t,n){for(var i=0,e=t.L_;i<e.length;i++){var r=e[i];if(r.Qy===n)return r}}function zP(t){return!!t.cues&&t.cues.length>0}var VP={NU:void 0,CU:void 0,PU:void 0,BU:void 0,OU:void 0,xU:void 0,HU:void 0,LU:void 0,MU:void 0,UU:void 0,XU:void 0},WP=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).u_=void 0,n}return S(n,t),A(n,[{key:"o_",get:function(){return this.u_||(this.u_=HR(this)),this.u_}},{key:"NU",get:function(){}},{key:"CU",get:function(){}},{key:"PU",get:function(){}},{key:"BU",get:function(){}},{key:"OU",get:function(){}},{key:"xU",get:function(){}},{key:"HU",get:function(){}},{key:"LU",get:function(){}},{key:"MU",get:function(){}},{key:"UU",get:function(){}},{key:"XU",get:function(){}}]),n}(du);new WP;var GP=function(t){function n(n,i,e){return t.call(this,n,i,e,new WP)||this}return S(n,t),n.prototype.oy=function(){},A(n,[{key:"lm",get:function(){return 0}},{key:"dm",get:function(){return 0}}]),n}(MP),qP="theoplayer-texttracks",YP=function(){function t(t){void 0===t&&(t=5),this.IQ=void 0;var n=le.document.createElement("div");n.className=qP,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.IQ=n,this.sy()}var n=t.prototype;return n.uy=function(){this.IQ.style.display="none"},n.sy=function(){this.IQ.style.display="block"},n.AQ=function(t){t.appendChild(this.IQ)},n.$c=function(){$e(this.IQ)},A(t,[{key:"Ty",get:function(){return this.IQ}}]),t}();function jP(t,n){return Nr({},n,wg({NU:(i=t).NU,CU:i.CU,PU:i.PU,BU:i.BU,OU:i.OU,xU:i.xU,HU:i.HU,LU:i.LU,MU:i.MU,UU:i.UU,XU:i.XU}));var i}function QP(t){return t.PU&&ds(t.PU,"%")?Number(t.PU.replace("%",""))/100:t.PU&&ds(t.PU,"em")?Number(t.PU.replace("em","")):1}var ZP,KP,JP=function(){function t(t,n,i,e,r){var s=this;this.RQ=Br(),this.DQ=!0,this.NQ=void 0,this.CQ=Nr({},VP),this.BQ=[],this.Sk=void 0,this.ef=void 0,this.LY=void 0,this.OQ=void 0,this.xQ=function(t){return s.KE(t.hk)},this.LQ=function(t){return s.removeCue(t.hk)},this.MQ=function(){return s.UQ()},this.XQ=function(t){return s.HQ(t.hk)},this.FQ=function(t){return s.zQ(t.hk)},this.VQ=function(t){return s.WQ(t.hk)},this.GQ=function(t){s.qQ(t.Xk,t.ST)},this.Sk=t,this.OQ=this.NQ=r,this.ef=this.YQ(i),this.LY=e,n.appendChild(this.ef)}var n=t.prototype;return n.jQ=function(t){var n=this.QQ(t);if(!n)return!1;for(var i=0;i<n.length;i++){$e(n[i])}return this.ZQ(t),!0},n.JL=function(){var t=this;this.KQ(),this.Sk._g.L_.forEach(function(n){return t.KE(n)}),this.vX.tu("sx",this.GQ),this.qQ(this.vX.wx,this.vX.lx)},n.JQ=function(t){this.CQ=t,this.NQ=jP(this.CQ,this.OQ),this.NQ.NU&&(this.sN.style.fontFamily=this.NQ.NU),this.NQ.HU&&(this.sN.style.visibility=this.NQ.HU),this.qQ(this.vX.wx,this.vX.lx),this.$Q(!0)},n.tZ=function(){return this.NQ},n.nZ=function(t){return this.RQ.has(t.j_)},n.KQ=function(){this.Sk.tu(J_.c_,this.xQ),this.Sk.tu(J_.v_,this.LQ),this.Sk.tu(J_.k_,this.MQ)},n.iZ=function(){this.Sk.au(J_.c_,this.xQ),this.Sk.au(J_.v_,this.LQ),this.Sk.au(J_.k_,this.MQ)},n.eZ=function(t){t.tu(Ty.$y,this.XQ),t.tu(Ty.ek,this.FQ),t.tu(Ty.E_,this.VQ)},n.rZ=function(t){t.au(Ty.$y,this.XQ),t.au(Ty.ek,this.FQ),t.au(Ty.E_,this.VQ)},n.KE=function(t){this.eZ(t),t.Ck&&this.HQ(t)},n.removeCue=function(t){this.rZ(t),this.zQ(t)},n.UQ=function(){this.Sk.fg===Rg.ag?this.sZ():this.uZ()},n.sZ=function(){if(this.DQ){this.DQ=!1;var t=this.vX.wx,n=this.vX.lx;this.qQ(t,n),this.$Q(!1)}},n.uZ=function(){this.DQ||(this.DQ=!0,this.$Q(!0))},n.HQ=function(t){this.DQ||t.Ck&&!this.nZ(t)&&this.$Q(!1)},n.zQ=function(t){this.nZ(t)&&this.$Q(!1)},n.WQ=function(t){(t.Ck||this.nZ(t))&&this.$Q(!0)},n.$Q=function(t){var n=this.BQ,i=this.DQ?[]:this.Sk.gg.L_.slice();this.oZ(i,n,t),this.BQ=i},n.QQ=function(t){var n;return null==(n=this.RQ.get(t.j_))?void 0:n.aZ},n.hZ=function(t,n){this.RQ.set(t.j_,{hk:t,aZ:n})},n.ZQ=function(t){this.RQ.delete(t.j_)},n.cZ=function(){return this.BQ.slice()},n.$c=function(){var t=this;$e(this.sN),this.RQ.clear(),this.iZ(),this.Sk._g.L_.forEach(function(n){return t.rZ(n)}),this.vX.au("sx",this.GQ)},A(t,[{key:"h_",get:function(){return this.Sk}},{key:"sN",get:function(){return this.ef}},{key:"vX",get:function(){return this.LY}},{key:"fZ",get:function(){return this.NQ}},{key:"vZ",get:function(){return this.CQ}}]),t}();function $P(t){return tB[t||"none"]}!function(t){t.lZ='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.dZ='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.wZ='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t._Z='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(ZP||(ZP={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(KP||(KP={}));var tB={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},nB=Or({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),iB={CU:KP.WHITE,NU:"Arial, Helvetica, Sans-Serif",PU:"100%",BU:KP.TRANSPARENT,OU:KP.TRANSPARENT,xU:"none",HU:"visible",LU:void 0,MU:void 0,UU:void 0,XU:void 0},eB=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,iB)||this}S(n,t);var i=n.prototype;return i.YQ=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",nr(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.qQ=function(t,n){var i=w.min(t,n)/15;this.sN.style.fontSize=i+"px"},i.oZ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Ck||this.jQ(r)}for(var s=0;s<t.length;s++){var u=t[s];this.gZ(u)}},i.gZ=function(t){var n=this.QQ(t);n||(n=this.mZ(t),this.hZ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.sN.appendChild(r)}},i.mZ=function(t){var n,i=[],e=t.IE,r=t.mb,u=t.vk;if(0===d.keys(r).length){fB(n=s.createElement("div"));for(var o=rB(u,e,t.RE,void 0),a=0;a<o.length;a++){var h=o[a];n.appendChild(h)}i.push(n)}else for(var c=0,f=d.keys(r);c<f.length;c++){var v=f[c],l=s.createElement("div");l.id=v;var w=rB(u,e,t.RE,l);if(w){fB(l),uB(l,"region",r[v],e);for(var _=0;_<w.length;_++){var g=w[_];l.appendChild(g)}i.push(l)}i.push(l)}return i},i.JQ=function(t){var n,i,e,r;n=this.sN,i=t,n.style.marginTop=(null!=(e=i.LU)?e:0)+"px",n.style.marginBottom=(null!=(r=i.MU)?r:0)+"px",n.style.height="calc(100% - "+n.style.marginTop+" - "+n.style.marginBottom+")",WR(this.sN,t)},n}(JP);function rB(t,n,i,e){var r,u;if(Qt(t)&&("SPAN"===(u=t).wi.toUpperCase()||"P"===u.wi.toUpperCase()||"BR"===u.wi.toUpperCase()||"DIV"===u.wi.toUpperCase()||"BODY"===u.wi.toUpperCase())){var o=function t(n){var i=n.Oi("region");if("p"===n.wi.toLowerCase())return i;var e=[];for(var r=0,s=n.Bi;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||(null==e?void 0:e.id)===o){(r="BODY"===t.wi.toUpperCase()?e:function(t){var n;switch(t.wi.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":sB(n=s.createElement("span"),t);break;case"P":n=s.createElement("p"),(i=n).style.fontFamily="inherit",i.style.color="inherit",i.style.textAlign="inherit",i.style.padding="0",i.style.margin="0",i.style.lineHeight="inherit",sB(n,t);break;case"DIV":sB(n=s.createElement("div"),t)}var i;return n}(t))&&(function(t,n,i,e){var r=n.Oi("style");aB(t,n.wi,r,i,e),function(t,n,i){for(var e=0,r=n.Hi;e<r.length;e++){var s=r[e],u=dp(s._i,["ebutts","tts","xml"]);hB(t,n.wi,u,s.Ti,i)}}(t,n,e)}(r,t,n,e),function(t,n,i){var e=null==n?void 0:n.Oi("smpte:backgroundImage");if(e){e=e.replace("#","");var r=i&&function t(n,i){if(i(n))return n;for(var e=0,r=n.Bi;e<r.length;e++){var s=r[e],u=t(s,i);if(u)return u}return null}(i,function(t){return t.Hi.some(function(t){return"id"===t.wi&&t.Ti===e})});r&&oB(t,r,n,!0)}!function(t,n){var i=n.Bi[0];if(!i||"metadata"!==i.wi.toLowerCase())return;var e=i.Bi[0];oB(t,e,n)}(t,n)}(r,t,i));for(var a=[],h=t.Ri,c=0;c<h.length;c++){var f=rB(h[c],n,i,e);f&&(a=a.concat(f))}if("BODY"!==t.wi.toUpperCase()){for(var v=0,l=a;v<l.length;v++){var d,w=l[v];null==(d=r)||d.appendChild(w)}return r?[r]:[]}return a}}else Zt(t)&&(r=s.createTextNode(t.zi));return r?[r]:[]}function sB(t,n){var i=n.xi(fp,"id");i&&(t.id=i)}function uB(t,n,i,e){aB(t,n,i.style,e,t);for(var r=0,s=d.keys(i);r<s.length;r++){var u=s[r];hB(t,n,u,i[u],t)}}function oB(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var r=s.createElement("img");r.src=function(t){var n=t&&t.Ri.length>0?t.Ri[0]:null;return n&&Zt(n)?"data:image/png;base64,"+n.zi:""}(n),r.id=t.id,r.style.height="100%",r.style.maxWidth="100%",function(t,n){nr(t.style,"flex");var i=n.Oi("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.Oi("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(r)}function aB(t,n,i,e,r){if(i)for(var s=0,u=i.split(" ");s<u.length;s++){var o=u[s];if(e[o])for(var a=0,h=d.keys(e[o]);a<h.length;a++){var c=h[a],f=dp(c,["ebutts","tts","xml"]);"style"===f.toLowerCase()?aB(t,n,e[o][c],e,r):hB(t,n,f,e[o][c],r)}}}function hB(t,n,i,e,r){switch(i){case"backgroundColor":t.style.backgroundColor=e;break;case"color":t.style.color=e;break;case"direction":t.style.direction=e;break;case"display":"none"===e&&(t.style.display="none");break;case"fontFamily":var s=nB.get(e);t.style.fontFamily=s||e;break;case"fontSize":ds(e,"px")?e=_(e)/24+"em":ds(e,"c")&&(e=e.replace("c","em")),t.style.fontSize=e;break;case"fontStyle":t.style.fontStyle=e;break;case"fontWeight":t.style.fontWeight=e;break;case"lineHeight":t.style.lineHeight=e;break;case"opacity":t.style.opacity=e;break;case"overflow":t.style.overflow=e;break;case"padding":t.style.padding=e;break;case"textAlign":"right"===e?(t.style.textAlign="right",t.style.justifyContent="flex-end"):"start"===e?(t.style.textAlign="start",t.style.justifyContent="flex-start"):"center"===e?(t.style.textAlign="center",t.style.justifyContent="center"):"end"===e?(t.style.textAlign="end",t.style.justifyContent="flex-end"):"left"===e&&(t.style.textAlign="left",t.style.justifyContent="flex-start");break;case"textDecoration":var u=e;u=(u=(u=(u=u.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough","none")).replace("noOverline","none"),t.style.textDecoration=u;break;case"unicodeBidi":t.style.unicodeBidi=e.replace("bidiOverride","bidi-override");break;case"visibility":t.style.visibility=e;break;case"zIndex":t.style.zIndex=e;break;case"displayAlign":var o;if("before"===e.toLowerCase())o="flex-start";else if("center"===e.toLowerCase())o="center";else{if("after"!==e.toLowerCase())return;o="flex-end"}t.style.alignItems=o;break;case"extent":var a,h,c=cB(n.toLowerCase())?r:t,f=e.split(" ");f.length>=2?(a=f[0],h=f[1]):a=h="100%",c&&(c.style.height=h,c.style.width=a);break;case"origin":var v=cB(n.toLowerCase())?r:t,l=e.split(" "),d=l[0],w=l[1];v&&(d||w)&&(d&&(v.style.left=d),w&&(v.style.top=w));break;case"showBackground":break;case"wrapOption":t.style.whiteSpace=e.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap");break;case"writingMode":var g,m,y,k;switch(e){case"lrtb":g="horizontal-tb";break;case"rltb":g="horizontal-tb",m="rtl",k="bidi-override";break;case"tbrl":g="vertical-rl",y="upright";break;case"tblr":g="vertical-lr",y="upright";break;case"lr":g="horizontal-tb";break;case"rl":g="horizontal-tb",m="rtl";break;case"tb":g="vertical-rl",y="upright";break;default:return}t.style.writingMode=g,t.style.setProperty("-webkit-writing-mode",g),m&&(t.style.direction=m),y&&(t.style.textOrientation=y,t.style.setProperty("-webkit-text-orientation",y)),k&&(t.style.unicodeBidi=k);break;case"textOutline":break;case"linePadding":if(ds(e,"c")){var p=e.replace("c","em");t.style.paddingLeft=t.style.paddingRight=p}break;case"multiRowAlign":"auto"===e.toLowerCase()?t.style.textAlign="":t.style.textAlign="value"}}function cB(t){return"div"===t||"p"===t||"span"===t}function fB(t){nr(t.style,"flex"),t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px",t.style.textAlign="start",t.style.writingMode="horizontal-tb",t.style.setProperty("-webkit-writing-mode","horizontal-tb"),t.style.padding="0",t.style.margin="0",t.style.lineHeight="1.3em"}var vB,lB,dB=void 0;function wB(t,n){for(var i,e=vB.yZ,r="",s=[],u=t.charAt(n.Lu),o="",a={_s:lB.kZ,Di:"",pZ:[]};n.Lu<t.length+1;){switch(u=n.Lu<t.length?t.charAt(n.Lu):"EOF",e){case vB.yZ:switch(u){case"&":var h=t.substring(n.Lu).match(/&#?[0-9a-zA-Z]+;/);h?(r+=(i=h[0],dB||(dB=le.document.createElement("textarea")),dB.innerHTML=i,dB.value),n.Mu(h[0].length-1)):r+="&";break;case"<":if(r)return{_s:lB.bZ,vk:r};e=vB.AZ;break;case"EOF":return{_s:lB.bZ,vk:r};default:r+=u}break;case vB.AZ:switch(u){case"\t":case"\n":case"\f":case" ":e=vB.TZ;break;case".":e=vB.SZ;break;case"/":e=vB.EZ;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=vB.IZ;break;case">":return n.Mu(1),a;case"EOF":return a;default:r=u,e=vB.RZ}break;case vB.RZ:switch(u){case"\t":case"\f":case" ":e=vB.TZ;break;case"\n":o=u,e=vB.TZ;break;case".":e=vB.SZ;break;case">":return n.Mu(1),{_s:lB.kZ,Di:r,pZ:[]};case"EOF":return{_s:lB.kZ,Di:r,pZ:[]};default:r+=u}break;case vB.SZ:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=vB.TZ;break;case"\n":s.push(o),o=u,e=vB.TZ;break;case".":s.push(o),o="";break;case">":return n.Mu(1),s.push(o),{_s:lB.kZ,Di:r,pZ:s};case"EOF":return s.push(o),{_s:lB.kZ,Di:r,pZ:s};default:o+=u}break;case vB.TZ:switch(u){case"&":e=vB.DZ;break;case">":n.Mu(1);var c=o.trim();return c=c.replace(/\s/," "),{_s:lB.kZ,Di:r,pZ:s,NZ:c};default:o+=u}break;case vB.DZ:for(var f="",v=n.Lu;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",e=vB.TZ;break;case vB.EZ:switch(u){case">":return n.Mu(1),{_s:lB.CZ,Di:r};case"EOF":return{_s:lB.CZ,Di:r};default:r+=u}break;case vB.IZ:switch(u){case">":return n.Mu(1),{_s:lB.PZ,BZ:r};case"EOF":return{_s:lB.PZ,BZ:r};default:r+=u}}n.Mu(1)}return a}function _B(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}!function(t){t.yZ="Data",t.AZ="Tag",t.RZ="StartTag",t.SZ="StartTagClass",t.TZ="StartTagAnnotation",t.DZ="CharRefInAnnotation",t.EZ="EndTag",t.IZ="TimestampTag"}(vB||(vB={})),function(t){t.bZ="string",t.kZ="starttag",t.CZ="endtag",t.PZ="timestamp"}(lB||(lB={}));var gB,mB=function(){function t(t,n,i,e){this.OZ=void 0,this.xZ=void 0,this.Xk=void 0,this.ST=void 0,this.OZ=t,this.xZ=n,this.Xk=i,this.ST=e}var n=t.prototype;return n.LZ=function(t){return this.OZ<t.MZ&&this.MZ>t.OZ&&this.xZ<t.UZ&&this.UZ>t.xZ},n.Fy=function(t){return this.OZ<=t.OZ&&t.MZ<=this.MZ&&this.xZ<=t.xZ&&t.UZ<=this.UZ},n.Hu=function(){return new t(this.OZ,this.xZ,this.Xk,this.ST)},A(t,[{key:"MZ",get:function(){return this.OZ+this.Xk},set:function(t){this.OZ=t-this.Xk}},{key:"UZ",get:function(){return this.xZ+this.ST},set:function(t){this.xZ=t-this.ST}}]),t}(),yB={CU:KP.WHITE,NU:"sans-serif",PU:"100%",BU:"rgba(0,0,0,0.8)",OU:KP.TRANSPARENT,xU:"none",HU:"visible",LU:void 0,MU:void 0,UU:void 0,XU:void 0},kB="theoplayer-webvtt-region-",pB="theoplayer-webvtt-styling-",bB="theoplayer-webvtt-voice-",AB="theoplayer-webvtt-default-style",TB=5.23,SB=1.14,EB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,yB)||this).XZ=Pr(),s.HZ=CB(3),s}S(n,t);var i=n.prototype;return i.YQ=function(t){var n=s.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,er(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.fZ.NU;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(s.getElementById(AB))return;for(var t=[],n=0;n<XB.length;n++){var i=XB[n],e=i[0],r=i[1];t.push("."+pB+e+" { color: "+r+" !important; }"),t.push("."+pB+"FZ"+e+" { background-color: "+r+" !important; }"),t.push("video::cue(."+e+") { color: "+r+"; }"),t.push("zZ"+e+") { background-color: "+r+"; }")}var u=s.createElement("style");u.id=AB,u.innerHTML=t.join("\n"),s.body.appendChild(u)}(),n},i.JL=function(){this.sN.appendChild(this.HZ),t.prototype.JL.call(this)},i.qQ=function(t,n){var i=this,e=w.min(t/100,n/100),r=QP(this.fZ);this.XZ.forEach(function(t){var n=t.yk,s=t.VZ;i.WZ(s,e,r,n)}),this.WZ(this.HZ,e,r)},i.JQ=function(n){WR(this.sN,n),t.prototype.JQ.call(this,n)},i.oZ=function(t,n,i){for(var e=this,r=this.sN,s=this.vX.lx/100,u=[],o=0;o<t.length;o++){var a=t[o];void 0!==a.yk&&(Hs(u,a.yk)||u.push(a.yk))}this.XZ.forEach(function(t,n){var r=t.yk,s=t.VZ;!i&&Hs(u,r)||($e(s),e.XZ.delete(n))});for(var h=0;h<n.length;h++){var c=n[h];!i&&c.Ck||this.jQ(c)}var f=[],v=xB(this.HZ.getBoundingClientRect());f.push.apply(f,this.GZ(v));for(var l=0;l<u.length;l++){var d=u[l],w=void 0;this.XZ.has(d.Y_)?w=this.XZ.get(d.Y_).VZ:(w=PB(d,s),r.appendChild(w),this.XZ.set(d.Y_,{yk:d,VZ:w})),f.push(xB(w.getBoundingClientRect()))}for(var _=0;_<t.length;_++){var g=t[_],m=this.gZ(g,f,v);void 0!==m&&f.push(m)}},i.GZ=function(t){var n=[],i=this.fZ;if(void 0!==i.LU){var e=t.Hu();e.ST=i.LU,n.push(e)}if(void 0!==i.MU){var r=t.Hu();r.ST=i.MU,r.UZ=t.UZ,n.push(r)}return n},i.gZ=function(t,n,i){var e,r;t.yk?(r=this.XZ.get(t.yk.Y_).VZ,"up"===t.yk.Lk&&r.children.length>=1&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s")):r=this.HZ;var s=null==(e=this.QQ(t))?void 0:e[0];if(s?r.appendChild(s):(s=this.qZ(t),r.appendChild(s),t.yk||(t.pk?function(t,n,i,e){var r=BB(t),s=r?i.ST:i.Xk,u=g(getComputedStyle(n).lineHeight);if(0===u)return;var o=xB(n.getBoundingClientRect()),a=w.round(Fy(t));"rl"===t.bk&&(a=-(a+1));var h=u*a;"rl"===t.bk&&(h=h-o.Xk+u);a<0&&(h+=s,u=-u);r?o.xZ+=h:o.OZ+=h;var c=o.Hu(),f=!1;for(;!i.Fy(o)||OB(o,e);)if(r)if(u<0&&o.xZ<i.xZ||u>0&&o.UZ>i.UZ){if(o.xZ=c.xZ,f)break;u=-u,f=!0}else o.xZ+=u;else if(u<0&&o.OZ<i.OZ||u>0&&o.MZ>i.MZ){if(o.OZ=c.OZ,f)break;u=-u,f=!0}else o.OZ+=u;r?n.style.top=(o.xZ-i.xZ)/i.ST*100+"%":n.style.left=(o.OZ-i.OZ)/i.Xk*100+"%"}(t,s,i,n):function(t,n,i,e){var r=xB(n.getBoundingClientRect());if(0===r.Xk||0===r.ST)return;BB(t)?"center"===t.wk?r.xZ-=r.ST/2:"end"===t.wk&&(r.xZ-=r.ST):"center"===t.wk?r.OZ-=r.Xk/2:"end"===t.wk&&(r.OZ-=r.Xk);var s,u=r.Hu(),o=u,a=1,h=!1;s=""===t.bk?[gB.POS_Y,gB.NEG_Y,gB.POS_X,gB.NEG_X]:"lr"===t.bk?[gB.POS_X,gB.NEG_X,gB.POS_Y,gB.NEG_Y]:[gB.NEG_X,gB.POS_X,gB.POS_Y,gB.NEG_Y];var c=g(getComputedStyle(n).lineHeight)/4;if(c>0){for(var f=0;f<s.length&&!h;f++){for(;!MB(r,i,s[f],.01)&&(!i.Fy(r)||OB(r,e));)LB(r,s[f],c);if(i.Fy(r)){o=r.Hu(),h=!0;break}var v=(l=r,d=i,_=void 0,m=void 0,void 0,_=w.max(0,w.min(l.MZ,d.MZ)-w.max(l.OZ,d.OZ)),m=w.max(0,w.min(l.UZ,d.UZ)-w.max(l.xZ,d.xZ)),_*m/(l.Xk*l.ST));a>v&&(o=r.Hu(),a=v),r=u.Hu()}i.Fy(r)||(o=u.Hu())}var l,d,_,m;n.style.left=(o.OZ-i.OZ)/i.Xk*100+"%",n.style.top=(o.xZ-i.xZ)/i.ST*100+"%"}(t,s,i,n)),this.hZ(t,[s])),!t.yk)return xB(s.getBoundingClientRect())},i.qZ=function(t){for(var n=new zo,i=t.vk,e=this.YZ(t),r={jZ:void 0,Ty:e},u=r,o="",a="",h=[r],c=[],f=[];n.Lu<i.length;){var v=wB(i,n);if(v._s===lB.bZ){var l=s.createElement("span");_B(l,v.vk),IB(l,h),""!==o&&(l.lang=o),this.QZ(l,a),u.Ty.appendChild(l)}else if(v._s===lB.kZ){var d=v.Di.toLowerCase();switch(d){case"i":case"b":case"u":case"ruby":var w=s.createElement(d);u.Ty.appendChild(w),u={jZ:v,Ty:w},h.push(u);break;case"rt":var _;if("ruby"===(null==(_=u.jZ)?void 0:_.Di.toLowerCase())){var g=s.createElement("rt");u.Ty.appendChild(g),u={jZ:v,Ty:g},h.push(u)}break;case"c":case"v":u={jZ:v,Ty:u.Ty},h.push(u);break;case"font":var m,y=null==(m=v.NZ)?void 0:m.match(/(?:^| )color=["']([^"']+)/i);y&&(a=y[1],f.push(a),u={jZ:v,Ty:u.Ty},h.push(u));break;case"lang":var k;o=null!=(k=v.NZ)?k:"",c.push(o)}}else if(v._s===lB.CZ){var p,b=v.Di.toLowerCase(),A=null==(p=u.jZ)?void 0:p.Di.toLowerCase();A===b?(h.pop(),u=h[h.length-1],"font"===b&&(f.pop(),a=f.length>0?f[f.length-1]:"")):"rt"===A&&"ruby"===b?(h.pop(),h.pop(),u=h[h.length-1]):"lang"===b&&(c.pop(),o=c.length>0?c[c.length-1]:"")}else if(v._s===lB.PZ){var T=v.BZ,S=new zo;try{xk(T,S)}catch(t){at("ERROR collecting timestamp",t)}}}return e},i.QZ=function(t,n){var i=this.fZ,e=this.vZ;i.BU&&(t.style.background=i.BU);var r=e.CU||n||i.CU;r&&(t.style.color=r)},i.WZ=function(t,n,i,e){if(e){var r=RB(e,n);t.style.height=r*i+"px",t.style.left=DB(e)+"%",t.style.top=NB(e,n)+"px"}t.style.fontSize=TB*n*i+"px"},i.YZ=function(t){var n=s.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.lk,function(t,n){"rl"===n.bk?t.style.writingMode="vertical-rl":"lr"===n.bk?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=Wy(n);BB(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=Vy(n),s=zy(n),u=Wy(n);if(BB(n)){switch(r){case"line-left":i=s;break;case"center":i=s-u/2;break;case"line-right":i=s-u}e=n.pk?0:Fy(n)}else{switch(r){case"line-left":e=s;break;case"center":e=s-u/2;break;case"line-right":e=s-u}i=n.pk?0:Fy(n)}t.style.left=i+"%",t.style.top=e+"%"}(n,t);var i=this.fZ.OU;i&&(n.style.background=i);var e=this.fZ.CU;return e&&(n.style.color=e),n.style.textShadow=$P(this.fZ.xU),n},n}(JP);function IB(t,n){for(var i=0;i<n.length;i++){var e=n[i];if(e.jZ){for(var r=0,s=e.jZ.pZ;r<s.length;r++){var u=s[r];tr(t,pB+u)}"v"===e.jZ.Di.toLowerCase()&&e.jZ.NZ&&tr(t,bB+e.jZ.NZ)}}}function RB(t,n){return t.Bk*(TB*n)*SB}function DB(t){return t.Mk-t.Ok*t.Xk/100}function NB(t,n){var i=t.Uk,e=t.xk*RB(t,n)/100;return w.max(0,i-e)}function CB(t){var n=s.createElement("div");return n.className=kB+"default",er(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=TB*t+"px",n.style.lineHeight=SB+"em",n}function PB(t,n){var i=CB(n);i.className=kB+t.Y_;var e=t.Xk,r=RB(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=DB(t)+"%",i.style.right="",i.style.top=NB(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function BB(t){return""===t.bk}function OB(t,n){return n.some(function(n){return t.LZ(n)})}function xB(t){return new mB(t.left,t.top,t.width,t.height)}function LB(t,n,i){switch(n){case gB.POS_X:t.OZ+=i;break;case gB.NEG_X:t.OZ-=i;break;case gB.POS_Y:t.xZ+=i;break;case gB.NEG_Y:t.xZ-=i}}function MB(t,n,i,e){switch(i){case gB.POS_X:return t.MZ>n.MZ+e;case gB.NEG_X:return t.OZ<n.OZ-e;case gB.POS_Y:return t.UZ>n.UZ+e;case gB.NEG_Y:return t.xZ<n.xZ-e}}!function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(gB||(gB={}));var UB,XB=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(UB||(UB={}));var HB={CU:KP.WHITE,NU:ZP.wZ,PU:"100%",BU:KP.BLACK,OU:"transparent",xU:"none",ZZ:UB.FONT_REGULAR,HU:"visible",LU:void 0,MU:void 0,UU:void 0,XU:void 0},FB=[{KZ:KP.WHITE,ZZ:UB.FONT_REGULAR,JZ:0},{KZ:KP.WHITE,ZZ:UB.FONT_UNDERLINE,JZ:0},{KZ:KP.GREEN,ZZ:UB.FONT_REGULAR,JZ:0},{KZ:KP.GREEN,ZZ:UB.FONT_UNDERLINE,JZ:0},{KZ:KP.BLUE,ZZ:UB.FONT_REGULAR,JZ:0},{KZ:KP.BLUE,ZZ:UB.FONT_UNDERLINE,JZ:0},{KZ:KP.CYAN,ZZ:UB.FONT_REGULAR,JZ:0},{KZ:KP.CYAN,ZZ:UB.FONT_UNDERLINE,JZ:0},{KZ:KP.RED,ZZ:UB.FONT_REGULAR,JZ:0},{KZ:KP.RED,ZZ:UB.FONT_UNDERLINE,JZ:0},{KZ:KP.YELLOW,ZZ:UB.FONT_REGULAR,JZ:0},{KZ:KP.YELLOW,ZZ:UB.FONT_UNDERLINE,JZ:0},{KZ:KP.MAGENTA,ZZ:UB.FONT_REGULAR,JZ:0},{KZ:KP.MAGENTA,ZZ:UB.FONT_UNDERLINE,JZ:0},{KZ:KP.WHITE,ZZ:UB.FONT_ITALICS,JZ:0},{KZ:KP.WHITE,ZZ:UB.FONT_UNDERLINE_ITALICS,JZ:0},{KZ:KP.WHITE,ZZ:UB.FONT_REGULAR,JZ:0},{KZ:KP.WHITE,ZZ:UB.FONT_UNDERLINE,JZ:0},{KZ:KP.WHITE,ZZ:UB.FONT_REGULAR,JZ:4},{KZ:KP.WHITE,ZZ:UB.FONT_UNDERLINE,JZ:4},{KZ:KP.WHITE,ZZ:UB.FONT_REGULAR,JZ:8},{KZ:KP.WHITE,ZZ:UB.FONT_UNDERLINE,JZ:8},{KZ:KP.WHITE,ZZ:UB.FONT_REGULAR,JZ:12},{KZ:KP.WHITE,ZZ:UB.FONT_UNDERLINE,JZ:12},{KZ:KP.WHITE,ZZ:UB.FONT_REGULAR,JZ:16},{KZ:KP.WHITE,ZZ:UB.FONT_UNDERLINE,JZ:16},{KZ:KP.WHITE,ZZ:UB.FONT_REGULAR,JZ:20},{KZ:KP.WHITE,ZZ:UB.FONT_UNDERLINE,JZ:20},{KZ:KP.WHITE,ZZ:UB.FONT_REGULAR,JZ:24},{KZ:KP.WHITE,ZZ:UB.FONT_UNDERLINE,JZ:24},{KZ:KP.WHITE,ZZ:UB.FONT_REGULAR,JZ:28},{KZ:KP.WHITE,ZZ:UB.FONT_UNDERLINE,JZ:28}],zB=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function VB(t,n){return sk(t.$Z,n.$Z)||Cs(t.GS,n.GS)}var WB=32,GB=function(){function t(t,n,i){this.tK=void 0,this.nK=t,this.iK=n,this.NQ=i}var n=t.prototype;return n.eK=function(){return this.tK=this.rK(),this.sK(),this.uK(),this.tK},n.rK=function(){var t=s.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.oK/WB*this.iK.aK*100+"%",t.style.height=1.2*this.hK+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.iK.cK?"calc(1em - 1ch)":"";var n=this.NQ.NU;n&&(t.style.fontFamily=n);var i=this.NQ.OU;return i&&(t.style.backgroundColor=i),t},n.sK=function(){if(this.tK){var t=this.vK.fK/15*100,n=this.vK.JZ/WB*100,i=(WB-this.lK.JZ-1)/WB*100,e=(15-this.lK.fK-1)/15*100;this.iK.dK||(n=i=1,this.tK.style.width="98%"),e<t?this.tK.style.bottom=e*this.iK.aK+"%":this.tK.style.top=t*this.iK.aK+"%",i<n?this.tK.style.right=i+"%":this.tK.style.left=n+"%"}},n.uK=function(){for(var t=this.nK.wK.sort(qB),n=0;n<t.length;n++)this._K(t[n-1],t[n]),this.gK(t[n]);this._K(t[t.length-1],void 0)},n.gK=function(n){var i,e=jP(this.NQ,n.mK),r=t.yK(e);_B(r,n.kK),null==(i=this.tK)||i.appendChild(r)},t.yK=function(t){var n=s.createElement("span");n.style.display="inline-block",t.ZZ!==UB.FONT_ITALICS&&t.ZZ!==UB.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.ZZ!==UB.FONT_UNDERLINE&&t.ZZ!==UB.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.CU;i&&(n.style.color=i);var e=t.BU;return e&&(n.style.backgroundColor=e),n.style.textShadow=$P(t.xU),n.style.height="1.2em",n},n._K=function(t,n){var i=t?t.pK.fK:this.nK.bK.fK,e=n?n.bK.fK:this.nK.pK.fK,r=t?t.pK.JZ:this.nK.bK.JZ,s=n?n.bK.JZ:this.nK.pK.JZ;i<e&&(!n||t&&t.bK.fK!==n.bK.fK?this.AK():this.TK(this.nK.pK.JZ-r),r=this.nK.bK.JZ),r<s&&(n?this.TK(s-r):this.AK())},n.AK=function(){var t,n=s.createElement("br");null==(t=this.tK)||t.appendChild(n)},n.TK=function(t){var n;if(!(t<=0)){var i=s.createElement("span");i.style.display="inline-block",_B(i,_s(" ",t)),null==(n=this.tK)||n.appendChild(i)}},A(t,[{key:"vK",get:function(){return this.nK.bK}},{key:"lK",get:function(){return this.nK.pK}},{key:"oK",get:function(){return this.nK.pK.JZ-this.nK.bK.JZ+1}},{key:"hK",get:function(){return this.nK.pK.fK-this.nK.bK.fK+1}}]),t}();function qB(t,n){return function(t,n){if(t.fK!==n.fK)return t.fK-n.fK;return t.JZ-n.JZ}(t.bK,n.bK)}var YB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,HB)||this).SK=void 0,s.EK=void 0,s}S(n,t);var i=n.prototype;return i.YQ=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.fZ.NU&&(n.style.fontFamily=this.fZ.NU),n},i.qQ=function(t,n){this.IK()},i.IK=function(){var t,n=QP(this.fZ);this.EK={aK:(t=100*n)/100,cK:t<=100,dK:t<=150};var i=this.RK/WB;this.SK=i*n,this.sN.style.fontSize=this.SK+"px"},i.oZ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Ck||this.jQ(r)}for(var s=0;s<t.length;s++){var u=t[s];this.gZ(u)}},i.gZ=function(t){this.EK&&this.EK.dK?this.DK(80):this.DK(100),this.IK();var n=this.QQ(t);n||(n=this.mZ(t),this.hZ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.sN.appendChild(r)}},i.mZ=function(t){var n=this;return t.vk.map(function(t){return new GB(t,n.EK,n.fZ).eK()})},i.DK=function(t){var n=(100-t)/2;this.sN.style.left=n+"%",this.sN.style.width=t+"%"},A(n,[{key:"RK",get:function(){var t=this.sN.offsetWidth;return this.EK&&this.EK.dK||(t*=.8),t}}]),n}(JP),jB=function(){function t(t,n,i,e,r){var s=this;this.NK=void 0,this.LY=void 0,this.Mm=void 0,this.CK=void 0,this.PK=[],this.rP=void 0,this.BK=function(t){var n=t.h_;n.tu(J_.b_,s.xK),n.tu(J_.T_,s.xK),n instanceof oP&&(n.bq=s.bq),s.LK(n)},this.xK=function(t){var n=t.h_;s.LK(n)},this.MK=function(t){var n=t.h_;n.au(J_.b_,s.xK),n.au(J_.T_,s.xK),s.UK(n)},this.XK=function(){for(var t=s.bq,n=0,i=s.Mm.L_;n<i.length;n++){var e=i[n];e instanceof oP&&(e.bq=t)}},this.HK=function(){for(var t=0,n=s.PK;t<n.length;t++){n[t].JQ(s.rP)}},this.FK=function(){for(var t=0,n=s.PK;t<n.length;t++){var i=n[t];i.JQ(Nr({},i.tZ(),{HU:"hidden"}))}},this.zK=function(){for(var t=0,n=s.PK;t<n.length;t++){var i=n[t];i.JQ(Nr({},i.tZ(),{HU:"visible"}))}},this.NK=t,this.LY=n,this.Mm=i,this.CK=r,this.rP=e,this.Mm.tu(j_.i_,this.BK),this.Mm.tu(j_.r_,this.MK),this.Mm.tu(J_.k_,this.xK),this.CK.tu(hS.k_,this.XK),this.rP.tu("p_",this.HK),this.XK()}var n=t.prototype;return n.VK=function(t){for(var n=0,i=this.PK;n<i.length;n++){var e=i[n];if(e.h_===t)return e}},t.WK=function(t){switch(t._s){case ky.TTML:case ky.SRT:case ky.WEBVTT:case ky.CEA608:return!0}return!1},n.GK=function(t){switch(t._s){case ky.TTML:return new eB(t,this.NK,t.Z_,this.LY);case ky.SRT:case ky.WEBVTT:return new EB(t,this.NK,t.Z_,this.LY);case ky.CEA608:return new YB(t,this.NK,t.Z_,this.LY)}},n.qK=function(t){var n=this.VK(t);n||(n=this.GK(t))&&(n.JL(),n.JQ(this.rP),this.PK.push(n),t.fg===Rg.ag&&n.sZ())},n.UK=function(t){for(var n=this.PK,i=n.length-1;i>=0;i-=1){var e=n[i];e.h_===t&&(e.$c(),Xs(n,i))}},n.LK=function(n){var i;(i=n.Q_)!==Pp.wA&&i!==Pp.PE||!t.WK(n)||(n.wg===yy.ERROR?this.UK(n):this.qK(n))},n.wc=function(){for(var t=0,n=this.PK;t<n.length;t++){var i=n[t];i.h_.au(J_.b_,this.xK),i.h_.au(J_.T_,this.xK),i.$c()}Fs(this.PK)},n.$c=function(){this.wc();for(var t=0,n=this.PK;t<n.length;t++){n[t].$c()}this.Mm.au(j_.i_,this.BK),this.Mm.au(j_.r_,this.MK),this.Mm.au(J_.k_,this.xK),this.CK.au(hS.k_,this.XK),this.rP.au("p_",this.HK)},A(t,[{key:"bq",get:function(){return this.CK.jC}}]),t}();function QB(t){var n=new XI,i=function(t){var n=[];return MI.Mx(t)&&n.push(new MI(t)),UI.Mx(t)&&n.push(new UI(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.zx(r)}n.Fx(i[0])}return n}var ZB,KB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).YK=void 0,s.jK=void 0,s.QK=void 0,s.QK=QB(n),s.YK=new YP,s.jK=new jB(s.YK.Ty,s.vX,s.Vm,s.dX,s.mN),s}S(n,t);var i=n.prototype;return i.oy=function(){return this.ef},i.Xs=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.QK.$c(),this.YK.$c(),this.jK.$c(),n.next=5,Dr.awrap(t.prototype.Xs.call(this));case 5:case"end":return n.stop()}},null,this,null,We)},i.uy=function(){t.prototype.uy.call(this),this.YK.uy()},i.sy=function(){t.prototype.sy.call(this),this.YK.sy()},i.AQ=function(n){t.prototype.AQ.call(this,n),this.YK.AQ(n)},A(n,[{key:"sN",get:function(){return this.ef}},{key:"lm",get:function(){return this.ef.videoHeight}},{key:"dm",get:function(){return this.ef.videoWidth}},{key:"mN",get:function(){return this.QK}}]),n}(MP);!function(t){t.ZK="HELLO",t.KK="HI_THERE",t.JK="INITIALIZE",t.$K="APPEND_INIT",t.tJ="APPEND_DATA",t.nJ="ACK",t.iJ="REMOVE",t.eJ="DESTROY_SESSION"}(ZB||(ZB={}));var JB,$B=function(){function t(){this._e=void 0,this.nf=void 0,this.LX=new af}var n=t.prototype;return n.rJ=function(t){var n=this;return this.LX.Kc(function(t){var i,e,r,s,u,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(tu(t),i=new MessageChannel,e=i.port1,r=i.port2,o.serviceWorker.controller){h.next=7;break}return h.next=7,Dr.awrap(q_(o.serviceWorker,"install",t));case 7:if("activated"===o.serviceWorker.controller.state){h.next=10;break}return h.next=10,Dr.awrap(q_(o.serviceWorker.controller,"activate",t));case 10:return s={kind:ZB.ZK,port:r},o.serviceWorker.controller.postMessage(s,[r]),e.start(),n._e=e,h.prev=15,h.next=18,Dr.awrap(q_(e,"message",t));case 18:if(u=h.sent,(a=u.data).kind===ZB.KK){h.next=23;break}throw new v("Could not set up message channel");case 23:n.nf=a.sessionId,h.next=30;break;case 26:throw h.prev=26,h.t0=h.catch(15),$s(h.t0)&&n.sJ(),h.t0;case 30:case"end":return h.stop()}},null,null,[[15,26]],We)},t)},n.uJ=function(t,n){var i=this;return this._e,this.LX.Kc(function(){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i._e){r.next=2;break}throw new v("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i._e.postMessage(t,n),r.next=7,Dr.awrap(q_(i._e,"message"));case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},null,null,null,We)})},n.oJ=function(){var t=this;return this.LX.Kc(function(){return t.sJ()})},n.sJ=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this._e){var t={kind:ZB.eJ};this._e.postMessage(t),this._e.close(),this._e=void 0}},t}(),tO=function(){function t(){this.aJ=Zy.Vp}var n=t.prototype;return n.hJ=function(t,n){var i=t.Jk(n);this.aJ=i.zk(this.cJ)?this.aJ:i},n.fJ=function(t){this.aJ=t},A(t,[{key:"cJ",get:function(){return this.aJ}}]),t}();!function(t){t.Cd="audio",t.Pd="video",t.gA="metadata"}(JB||(JB={}));var nO=function(t){function n(n,i){var e;return(e=t.call(this)||this).vJ=void 0,e.lJ=void 0,e.LX=new af,e.dJ=!1,e.wJ=!1,e.xO=n,e._J=i,e}S(n,t);var i=n.prototype;return i.vW=function(t,n){},i.lW=function(t,n){},i.dH=function(){return this.wJ},i.dW=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,We)},i.jV=function(t,n){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,We)},i.MV=function(t,n,i){var e,r,s=this;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t._s===DD.yH){u.next=2;break}throw new v("Streaming or opaque segments are not supported yet.");case 2:return e=t.zi,r=function(){var t,i,r;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.buffer,i={kind:ZB.tJ,mediaType:iO(s.xO),segment:e,startPts:n.gJ,totalDuration:n.nm},u.next=4,Dr.awrap(s._J.uJ(i,[t]));case 4:void 0===s.vJ&&(r=n.gJ+n.gb,s.vJ=r,s.lJ=r),s.lJ=s.lJ+n.nm,s.$s(new _u(TD.gH));case 7:case"end":return u.stop()}},null,null,null,We)},u.abrupt("return",this.LX.Kc(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return tu(t),n.prev=1,s.dJ=!0,n.next=5,Dr.awrap(r());case 5:return n.prev=5,s.dJ=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},i));case 5:case"end":return u.stop()}},null,this,null,We)},i.HV=function(t,n,i){var e,r,s=this;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t._s===DD.yH){n.next=2;break}throw new v("Streaming or opaque initialization segments are not supported yet.");case 2:return e=t.zi,r=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t={kind:ZB.$K,mediaType:iO(s.xO),segment:e},n.next=3,Dr.awrap(s._J.uJ(t,[]));case 3:case"end":return n.stop()}},null,null,null,We)},n.abrupt("return",this.LX.Kc(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return tu(t),n.prev=1,s.dJ=!0,n.next=5,Dr.awrap(r());case 5:return n.prev=5,s.dJ=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},i));case 5:case"end":return n.stop()}},null,this,null,We)},i.uW=function(){this.wJ=!0},i.iW=function(){this.wJ=!1},i.$h=function(t,n,i){var e,r=this;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={kind:ZB.iJ,mediaType:iO(r.xO),endTime:n},i.next=3,Dr.awrap(r._J.uJ(t));case 3:r.vJ=void 0,r.lJ=void 0,r.$s(new _u(TD.gH));case 6:case"end":return i.stop()}},null,null,null,We)},t.abrupt("return",this.LX.Kc(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return tu(t),n.prev=1,r.dJ=!0,n.next=5,Dr.awrap(e());case 5:return n.prev=5,r.dJ=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},i));case 2:case"end":return t.stop()}},null,this,null,We)},i.rH=function(t){return this.xO===t.Gl},i.sH=function(t){return this.xO=t.Gl,We.resolve()},i.Xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ou(),t.next=3,Dr.awrap(this.LX.$c());case 3:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"by",get:function(){return void 0===this.vJ||void 0===this.lJ?fS.qC():new fS([this.vJ,this.lJ])}},{key:"cc",get:function(){return{Gl:this.xO}}},{key:"gW",get:function(){return ry.md}},{key:"DO",get:function(){return this.xO}},{key:"mW",get:function(){return fS.qC()}},{key:"XL",get:function(){return 30},set:function(t){}},{key:"VL",get:function(){return 30},set:function(t){}},{key:"qx",get:function(){return this.dJ}},{key:"mJ",get:function(){return this.vJ}},{key:"fk",get:function(){return this.lJ}}]),n}(du);function iO(t){return t.match(/video/)?JB.Pd:JB.Cd}var eO=function(){function t(t,n){this.Mc=void 0,this.tG=void 0,this.iG=void 0,this.Mc=t,this.iG=xs(n,function(t){return Boolean(t.DO.match(/video/))}),this.tG=xs(n,function(t){return Boolean(t.DO.match(/audio/))}),this.yJ()}t.kJ=function(n,i){for(var e=[],r=0;r<n.wG.length;r++){var s=n.wG[r].Gl;e.push(new nO(s,i))}return new t(n,e)};var n=t.prototype;return n.yJ=function(){},n.Xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(We.all([this.tG,this.iG].filter(H).map(function(t){return t.Xs()})));case 2:case"end":return t.stop()}},null,this,null,We)},n.fG=function(t){},n.dG=function(t,n,i,e){},n.uW=function(){var t,n;null==(t=this.tG)||t.uW(),null==(n=this.iG)||n.uW()},n.iW=function(){var t,n;null==(t=this.tG)||t.iW(),null==(n=this.iG)||n.iW()},n.rH=function(t){return!0},n.sH=function(t){return this.Mc=t,We.resolve()},A(t,[{key:"pJ",get:function(){return[this.tG,this.iG].filter(H)}},{key:"ZW",get:function(){return this.tG}},{key:"by",get:function(){return ON(this)}},{key:"cc",get:function(){return this.Mc}},{key:"nm",get:function(){return 0}},{key:"dH",get:function(){var t,n,i,e,r=null==(t=null==(n=this.tG)?void 0:n.dH())||t,s=null==(i=null==(e=this.iG)?void 0:e.dH())||i;return r&&s}},{key:"Ly",get:function(){return new fS([0,1/0])}},{key:"KW",get:function(){return this.iG}},{key:"zm",get:function(){throw new v("Not implemented")}}]),t}(),rO=Zy.ap,sO=new Zy(-1/0),uO=Zy.Vp,oO=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.Vk=function(t,n){return t.jk(n)?Ss.Bs:t.Nk(n)?Ss.Cs:Ss.Ps},i.Hy=function(t,n){return t.Hy(n)},i.Jk=function(t,n){return t.Jk(n)},i.Yk=function(t,n){return t.Yk(n)},i.mC=function(){return rO},i.yC=function(){return uO},i.AC=function(){return sO},n.VC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new Zy(t.start(e)),new Zy(t.end(e)));return new n(i)},n.bJ=function(t){for(var i=[],e=[],r=0;r<t.M_;r++)i.push(new Zy(t.oC(r))),i.push(new Zy(t.hC(r))),e.push(t.aC(r)),e.push(t.cC(r));return new n(i,e)},n.GC=function(t){return new n([t,t],[!0,!0])},i._C=function(t,i){return new n(t,i)},i.dC=function(t){return t.Fp},n.qC=function(){return aO},n}(cS),aO=new oO([]),hO=function(t){function n(n){var i;return(i=t.call(this)||this).AJ=!0,i._J=new $B,i.TJ=new tO,i.BD=void 0,i.XY=void 0,i.SJ=!0,i.EJ=new Wo,i.nP=!1,i.KY=We.resolve(),i.JY=new Ks,i.IJ=!0,i.tj=fS.qC(),i.QK=void 0,i.RJ=void 0,i.vj=!1,i.XD=void 0,i.DJ=function(){i.cm||i.NJ.M_<=0||i.by.M_<=0||i.TJ.hJ(new Zy(i.by.hC(i.by.M_-1)),i.NJ.hC(i.NJ.M_-1))},i.CJ=function(){i.$s(new pm(i.tm))},i.PJ=function(){i.$s(new km(i.tm,i.Ay))},i.BJ=function(){i.$s(new ym(i.tm,i.fm))},i.OJ=function(){i.$s(new Sm(i.tm,i.wm))},i.xJ=function(){i.$s(new mm(i.nm))},i.LJ=function(){i.$s(new mb(i.tm))},i.MJ=function(){i.Xu(i.tm)},i.UJ=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:i.IJ&&i.$s(new wm(i.tm)),i.SJ=!1,i.IJ=!0;case 3:case"end":return t.stop()}},null,null,null,We)},i.XJ=function(){i.SJ=!0,i.$s(new dm(i.tm))},i.RJ=n,i.XY=new WN(Kt(i)),i.RJ.setAttribute("id","player_video"),i.RJ.setAttribute("x-webkit-airplay","deny"),i.RJ.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.RJ.playsInline=!0,i.RJ.style.width="100%",i.RJ.style.height="100%",i.HJ(),i.FJ(),i.QK=QB(i.RJ),i}S(n,t);var e=n.prototype;return e.HJ=function(){this.RJ.addEventListener("timeupdate",this.DJ),this.RJ.addEventListener("ended",this.CJ),this.RJ.addEventListener("timeupdate",this.PJ),this.RJ.addEventListener("ratechange",this.BJ),this.RJ.addEventListener("volumechange",this.OJ),this.RJ.addEventListener("durationchange",this.xJ),this.RJ.addEventListener("playing",this.LJ),this.RJ.addEventListener("seeking",this.MJ),this.RJ.addEventListener("play",this.UJ),this.RJ.addEventListener("pause",this.XJ)},e.zJ=function(){this.RJ.removeEventListener("timeupdate",this.DJ),this.RJ.removeEventListener("ended",this.CJ),this.RJ.removeEventListener("timeupdate",this.PJ),this.RJ.removeEventListener("ratechange",this.BJ),this.RJ.removeEventListener("volumechange",this.OJ),this.RJ.removeEventListener("durationchange",this.xJ),this.RJ.removeEventListener("playing",this.LJ),this.RJ.removeEventListener("seeking",this.MJ),this.RJ.removeEventListener("play",this.UJ),this.RJ.removeEventListener("pause",this.XJ)},e.FJ=function(){this.XY.tu(vm.b_,this.Js)},e.VJ=function(){this.XY.au(vm.b_,this.Js)},e.Xu=function(t,n){this.JY.Gs(),this.JY=new Ks,this.KY=this.oQ(t,this.KY,this.JY.js).catch(K)},e.oQ=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.tj=this.Oy,r=null==(e=this.BD)?void 0:e.pJ){u.next=4;break}return u.abrupt("return");case 4:return s=w.max.apply(w,r.map(function(t){return t.mJ?t.mJ:1/0})),this.nP=!0,this.$s(new Am(t)),u.next=9,Dr.awrap(n.catch(K));case 9:if(tu(i),u.prev=10,this.AJ||this.WJ(),this.RJ.load(),this.SJ){u.next=17;break}return this.IJ=!1,u.next=17,Dr.awrap(eu(this.RJ.play(),i));case 17:if(!(this.wg<jg.Gg)){u.next=22;break}return u.next=20,Dr.awrap(this.XY.wu(vm.b_,i));case 20:u.next=17;break;case 22:this.EJ.Qu(),this.AJ=!1,this.nP=!1,this.$s(new Tm(this.tm)),u.next=32;break;case 28:throw u.prev=28,u.t0=u.catch(10),this.EJ.Zu(u.t0),u.t0;case 32:return u.prev=32,this.GJ(),this.TJ.fJ(new Zy(s)),u.finish(32);case 36:case"end":return u.stop()}},null,this,[[10,28,32,36]],We)},e.qm=function(){this.SJ=!0,this.RJ.pause()},e.Gm=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.SJ){t.next=2;break}return t.abrupt("return");case 2:return this.RJ.src||this.pQ(),t.next=5,Dr.awrap(this.EJ.Gu);case 5:return t.next=7,Dr.awrap(this.RJ.play());case 7:case"end":return t.stop()}},null,this,null,We)},e.Xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this._J&&this._J.oJ().catch(K),this.JY.Gs(),this.zJ(),this.VJ(),this.XY.Xs(),this.ou();case 6:case"end":return t.stop()}},null,this,null,We)},e.wc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this._J&&this._J.oJ().catch(K),this.JY.Gs(),this.RJ.removeAttribute("src"),this.RJ.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.RJ.removeAttribute("x-airplay-deny"),this.RJ.load(),this.XY.wc(),this.tj=fS.qC();case 8:case"end":return t.stop()}},null,this,null,We)},e.pQ=function(){this.bQ||(dO(this.RJ,i.Hr),this.vj=!0)},e.WJ=function(){var t,n=this.RJ.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.RJ.videoWidth/this.RJ.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.RJ.style.width=i+"px",this.RJ.style.height=e+"px",this.RJ.style.marginLeft=(r-i)/2+"px",this.RJ.style.marginTop=(u-e)/2+"px",this.RJ.style.backgroundColor="black"}},e.GJ=function(){this.RJ.style.width="100%",this.RJ.style.height="100%",this.RJ.style.marginLeft="",this.RJ.style.marginTop="",this.RJ.style.backgroundColor=""},e._N=function(t,n,i,e,r){},e.QE=function(t,n,i,e,r,s){},e.lH=function(t){},e.IN=function(){return RR(this.RJ)},e.sy=function(){this.RJ.style.display="block"},e.uy=function(){this.RJ.style.display="none"},e.yQ=function(){},e.Jh=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t._s!==ub.tI){i.next=2;break}throw new v("Not yet implemented");case 2:return i.next=4,Dr.awrap(this._J.rJ());case 4:return n={kind:ZB.JK,mediaBufferConfigs:t.wG.map(function(t){return t.Gl})},i.next=7,Dr.awrap(this._J.uJ(n));case 7:return this.BD=eO.kJ(t,this._J),this.RJ.preload="none",this.RJ.src="https://theo.proxy/"+this._J.nf+"/master.m3u8",i.abrupt("return",this.BD);case 11:case"end":return i.stop()}},null,this,null,We)},e.kQ=function(){},e.JE=function(t){},e.yN=function(){},e.EN=function(t){},e.dN=function(){return!1},e.AQ=function(t){t.appendChild(this.RJ)},e.oy=function(){return this.RJ},e.$j=function(){},e.py=function(){},A(n,[{key:"sN",get:function(){return this.RJ}},{key:"AG",get:function(){return!1}},{key:"tm",get:function(){return this.RJ.currentTime+this.TJ.cJ.Fp}},{key:"cm",get:function(){return this.RJ.paused}},{key:"wm",get:function(){return this.RJ.volume},set:function(t){this.RJ.volume=t}},{key:"fm",get:function(){return this.RJ.playbackRate},set:function(t){this.RJ.playbackRate=t}},{key:"qJ",get:function(){return this.RJ.defaultPlaybackRate}},{key:"by",get:function(){var t,n;return null!=(t=null==(n=this.BD)?void 0:n.by)?t:fS.qC()}},{key:"NJ",get:function(){return oO.VC(this.RJ.buffered)}},{key:"Oy",get:function(){var t=fS.WC(this.YJ);return this.tj.EC(t.Mu(this.TJ.cJ.Fp))}},{key:"YJ",get:function(){return oO.VC(this.RJ.played)}},{key:"vm",get:function(){return this.nP}},{key:"nm",get:function(){return this.RJ.duration}},{key:"hm",get:function(){return this.RJ.muted},set:function(t){this.RJ.muted=t}},{key:"mK",get:function(){return this.RJ.style}},{key:"SQ",get:function(){return Nr({},bD,{YX:!0})}},{key:"wg",get:function(){return this.XY.wg}},{key:"lm",get:function(){return this.RJ.videoHeight}},{key:"dm",get:function(){return this.RJ.videoWidth}},{key:"im",get:function(){return this.RJ.ended}},{key:"ST",get:function(){return this.RJ.height||this.RJ.clientHeight}},{key:"Xk",get:function(){return this.RJ.width||this.RJ.clientWidth}},{key:"Sy",get:function(){return!1}},{key:"bQ",get:function(){return this.vj}},{key:"Ay",get:function(){}},{key:"vX",get:function(){}},{key:"Au",get:function(){}},{key:"mN",get:function(){return this.QK}},{key:"Ly",get:function(){return this.BD?this.BD.Ly:fS.qC()}},{key:"RN",get:function(){}},{key:"Vm",get:function(){}},{key:"dX",get:function(){}},{key:"Uy",get:function(){return!1},set:function(t){}},{key:"TQ",get:function(){return"block"===this.RJ.style.display}},{key:"uN",get:function(){return this.XD},set:function(t){this.XD=t}},{key:"EQ",get:function(){},set:function(t){}},{key:"xY",get:function(){}}]),n}(du),cO=2,fO=[ry.Cd,ry.Pd];function vO(t){var n=s.createElement(t);return sr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),lO(n),n}function lO(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),ur(t),t.pause(),t.playbackRate=1,t.preload=eS.YN,t.controls=!1,t.style.display="none",sr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function dO(t,n){if(n.Le){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();j(e)&&au(e),t.pause()}}var wO,_O;function gO(t){return{get bandwidth(){return t.vD},get codecs(){return t.yz},get id(){return t.Y_},get uid(){return t.j_},get name(){return t.Z_},get averageBandwidth(){return t.jJ},get label(){return t.Z_},set label(n){t.Z_=yg(n)},get height(){return t.ST},get width(){return t.Xk},get frameRate(){return t.QJ},get firstFrame(){return t.ZJ},get available(){return t.KJ},addEventListener:function(n,i){t.tu(n,i)},removeEventListener:function(n,i){t.au(n,i)}}}function mO(t){return{get bandwidth(){return t.vD},get codecs(){return t.yz},get id(){return t.Y_},get uid(){return t.j_},get name(){return t.Z_},get averageBandwidth(){return t.jJ},get label(){return t.Z_},set label(n){if(!q(n))throw new v("Unexpected - The provided label is not a string");t.Z_=n},get audioSamplingRate(){return t.JJ},get available(){return t.KJ},addEventListener:function(n,i){t.tu(n,i)},removeEventListener:function(n,i){t.au(n,i)}}}ce=(wO={$J:function(){function t(t,n,i,e,r){void 0===i&&(i=cO),void 0===e&&(e=fO),void 0===r&&(r=mf()),this.t$=void 0,this.n$=void 0,this.Es=void 0,this.i$=void 0,this.LY=void 0,this.rP=void 0,this.e$=void 0,this.t$=i,this.n$=[].concat(e),this.Es=r,this.LY=t,this.rP=n,this.i$=Pr(),this.r$()}var n=t.prototype;return n.oP=function(t){for(var n=0,i=this.hP;n<i.length;n++){i[n].AQ(t)}},n.rN=function(t){var n=xs(this.i$.get(t),function(t){return t.KJ});if(n)return n.KJ=!1,n.s$},n.u$=function(t){if(!this.e$)throw new v("Error creating iOS Safari MediaController");return this.e$},n.bN=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.sN,i=n.tagName.toLowerCase(),r.next=4,Dr.awrap(t.wc());case 4:lO(n),(e=xs(this.i$.get(i)||[],function(n){return t===n.s$}))&&(e.KJ=!0);case 7:case"end":return r.stop()}},null,this,null,We)},n.aP=function(){for(var t=0,n=this.hP;t<n.length;t++){n[t].pQ()}},n.$c=function(){for(var t=0,n=this.hP;t<n.length;t++){var i=n[t],e=i.sN;i.Xs(),lO(e),$e(e)}this.i$.clear(),this.e$=void 0},n.r$=function(){for(var t=0,n=this.n$;t<n.length;t++){var i=n[t],e=[];this.i$.set(i,e);for(var r=0;r<this.t$;r++){var s=vO(i),u=i===ry.Cd?new GP(s,this.Es,this.LY):new KB(s,this.Es,this.LY,this.rP);e.push({s$:u,KJ:!0})}}if(M.On&&M.cn){var o=vO(ry.Pd);this.e$=new hO(o)}},A(t,[{key:"hP",get:function(){for(var t=[],n=0,i=this.n$;n<i.length;n++){var e=i[n],r=this.i$.get(e);if(r){var s=r.map(function(t){return t.s$});t.push.apply(t,s)}}return this.e$&&t.push(this.e$),t}}]),t}(),o$:function(){function t(t){this.a$=new af,this.iP=t}var n=t.prototype;return n.zX=function(t){var n=this;return this.a$.Kc(function(){return n.h$(t)})},n.$m=function(){this.iP.aP()},n.h$=function(n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=this.iP.rN(ry.Pd),e=i.sN,s.next=4,Dr.awrap(t.c$(e,n));case 4:return r=s.sent,s.next=7,Dr.awrap(this.iP.bN(i));case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,We)},t.c$=function(n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!M.In&&!M.Sn){e.next=2;break}return e.abrupt("return","all");case 2:return n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),e.next=5,Dr.awrap(t.f$());case 5:if(e.t0=!i,!e.t0){e.next=10;break}return e.next=9,Dr.awrap(t.v$(n,!1));case 9:e.t0=e.sent;case 10:if(!e.t0){e.next=12;break}return e.abrupt("return","all");case 12:return e.next=14,Dr.awrap(t.v$(n,!0));case 14:if(!e.sent){e.next=16;break}return e.abrupt("return","muted");case 16:return e.abrupt("return","none");case 17:case"end":return e.stop()}},null,null,null,We)},t.v$=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.muted=n,i=t.play(),r.prev=2,j(i)){r.next=5;break}return r.abrupt("return",!M.wn);case 5:return e=cu(100),r.next=8,Dr.awrap(We.race([i,e]));case 8:return r.abrupt("return",!0);case 11:return r.prev=11,r.t0=r.catch(2),r.abrupt("return",!1);case 14:return r.prev=14,t.pause(),t.muted=!0,r.finish(14);case 18:case"end":return r.stop()}},null,null,[[2,11,14,18]],We)},t.f$=function(){return new We(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else a(t,0)})},n.$c=function(){this.a$.$c()},t}(),l$:{VO:function(t){le.addEventListener("beforeunload",t)},tx:function(t){le.removeEventListener("beforeunload",t)}},d$:r}).$J,fe=wO.o$,ve=wO.l$,le=wO.d$,de=le&&le.location,we=le&&le.navigator,function(t){t.w$="currentbufferingrenditionchange",t._$="g$",t.m$="y$",t.k$="p$"}(_O||(_O={}));var yO=function(t,n){this.j_=void 0,this.b$=void 0,this._s=void 0,this.A$=void 0,this.T$=void 0,this.S$=void 0,this._i=void 0,this.K_=void 0,this.E$=void 0,this.I$=void 0,this.R$=void 0,this.j_=ly(),this.b$=n,this._s=t._s,this.A$=t.A$,this.T$=t.T$,this.S$=t.S$,this._i=t._i,this.K_=t.K_,this.E$=t.E$,this.I$=t.I$,this.R$=void 0===t.D$};function kO(t,n){return t._s===n._s&&(t._i===n._i||!(!t.A$||!n.A$))}function pO(t,n){return t.b$===n.b$}function bO(t,n){for(var i=0;i<t.length;i++){if(pO(t[i],n))return!0}return!1}var AO,TO,SO=function(t){function n(n,i){var e;return(e=t.call(this,J_.D_)||this).J_=void 0,e.h_=void 0,e.J_=n||[],e.h_=i,e}return S(n,t),n.prototype.a_=function(){return new EO(this.J_.map(function(t){return t.o_}))},n}(Z_),EO=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return S(n,t),n}(_u);!function(t){t.N$="alternative",t.C$="main",t.P$="commentary",t.B$="",t.BE="descriptions",t.O$="main-desc",t.x$="translation"}(AO||(AO={})),function(t){t.N$="alternative",t.C$="main",t.P$="commentary",t.B$="",t.PE="captions",t.L$="sign",t.wA="subtitles"}(TO||(TO={}));var IO=function(t){function n(n,i,e){var r;return(r=t.call(this,J_.I_)||this).M$=n,r.U$=i,r.X$=e,r}return S(n,t),n.prototype.a_=function(){return new RO(this.M$&&this.M$.o_)},n}(Z_),RO=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return S(n,t),n}(_u);function DO(t){return{vD:t.vD,dr:t.yz,ST:NO(t)?t.ST:0,_s:NO(t)?ry.Pd:ry.Cd,Xk:NO(t)?t.Xk:0}}function NO(t){var n=t;return void 0!==n.ST&&void 0!==n.Xk}var CO,PO=function(t){function n(){return t.call(this,J_.NO_QUALITY)||this}return S(n,t),n}(_u),BO=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return S(n,t),n}(_u),OO=function(t){function n(n,i,e){var r,s,u;(u=t.call(this)||this).Vy=void 0,u.ya=void 0,u.H$=void 0,u.F$=void 0,u.z$=void 0,u.u_=void 0,u.Wy=void 0,u.V$=function(){return u.$s(new oy(Kt(u)))},u.W$=function(){var t=u.G_;t&&u.F$!==t&&(u.F$=t,u.$s(new IO(t)))},u.G$=function(){var t=u.q_;u.z$!==t&&(u.z$=t,u.q$.$s(new ug(Kt(u))),u.$s(new ug(Kt(u))))},u.KN=n,u.q$=i,u.J_=e,u.F$=u.G_,u.z$=u.q_;var o=e.P_(0);u.Vy=null!=(r=null==o?void 0:o.Y$._i)?r:"",u.ya=null!=(s=null==o?void 0:o.Y$.K_)?s:"",u.Wy=cy(),u.KN.tu(_O.w$,u.W$),u.KN.tu(_O._$,u.G$);for(var a=0;a<u.J_.M_;a++){u.J_.P_(a).tu("update",u.V$)}return u}S(n,t);var e=n.prototype;return e.Yy=function(t){this.q_=t},e.$c=function(){this.ou(),this.KN.au(_O.w$,this.W$),this.KN.au(_O._$,this.G$);for(var t=0,n=this.J_.L_;t<n.length;t++){n[t].$c()}this.J_.wc()},A(n,[{key:"q_",get:function(){var t=this.j$();if(!t)return!1;for(var n=0,i=this.J_.L_;n<i.length;n++){if(i[n].Y$===t)return!0}return!1},set:function(t){if(t!==this.q_&&t){for(var n=this.J_.P_(0).Y$,i=this.KN.Q$,e=0,r=this.J_.L_;e<r.length;e++){var s=r[e];if(s.Z$===i){n=s.Y$;break}}this.K$(n)}}},{key:"G_",get:function(){if(this.q_)for(var t=this.KN.J$,n=0,i=this.J_.L_;n<i.length;n++){var e=i[n];if(bO(t,e.Y$))return e}}},{key:"o_",get:function(){return this.u_||(this.u_=Sg(this)),this.u_}},{key:"Y_",get:function(){return this.Wy.toString()}},{key:"j_",get:function(){return this.Wy}},{key:"Z_",get:function(){return this.Vy},set:function(t){t!==this.Vy&&(this.Vy=t,this.$s(new oy(this)))}},{key:"K_",get:function(){return this.ya}},{key:"fg",get:function(){return this.q_?"enabled":"disabled"}},{key:"eg",get:function(){return this.H$},set:function(t){var n=this,e=[];t?e=t.filter(function(t){var e=n.G_?DO(n.G_):void 0;return i.Hr.Ue(e,DO(t))}).filter(function(i){return n.J_.Fy(t)&&i.KJ}):e=this.J_.L_.filter(function(t){return t.KJ});0!==e.length?t!==this.H$&&(this.H$&&zs(this.H$,e)||(this.H$=t?e:void 0,this.KN.n0(e.map(function(t){return t.Z$})),1===e.length&&au(this.KN.i0(e[0].Z$,!1)),this.$s(new SO(e,this)))):this.$s(new PO)}}]),n}(du),xO=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.j$=function(){return this.KN.e0},i.K$=function(t){au(this.KN.r0(t))},A(n,[{key:"Q_",get:function(){return AO.C$}}]),n}(OO),LO=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.j$=function(){return this.KN.s0},i.K$=function(t){au(this.KN.u0(t))},A(n,[{key:"Q_",get:function(){return TO.C$}}]),n}(OO),MO=function(t){function n(n,i){var e;return(e=t.call(this)||this).Vy="",e.KJ=!0,e.Z$=n,e.Y$=i,e}S(n,t);var i=n.prototype;return i.zE=function(){},i.$c=function(){this.ou()},A(n,[{key:"Y_",get:function(){return String(this.Z$.Y_)}},{key:"j_",get:function(){return this.Z$.Y_}},{key:"vD",get:function(){return this.Z$.vD}},{key:"jJ",get:function(){return this.Z$.jJ}},{key:"Z_",get:function(){var t;return null!=(t=this.Vy)?t:this.Y$._i},set:function(t){this.Z_!==t&&(this.Vy=t,this.$s(new BO(this.o_)))}},{key:"D$",get:function(){return this.Y$.b$.o0()}}]),n}(du),UO=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).u_=void 0,e}return S(n,t),n.prototype.a_=function(){return mO(this)},A(n,[{key:"JJ",get:function(){return 0}},{key:"yz",get:function(){var t;return(null==(t=this.Z$.yz)?void 0:t.mz)||""}},{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}}]),n}(MO),XO=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).u_=void 0,e}return S(n,t),n.prototype.a_=function(){return gO(this)},A(n,[{key:"yz",get:function(){var t;return(null==(t=this.Z$.yz)?void 0:t.gz)||""}},{key:"ZJ",get:function(){return 0}},{key:"QJ",get:function(){var t;return null!=(t=this.Z$.QJ)?t:0}},{key:"ST",get:function(){var t,n;return null!=(t=null==(n=this.Z$.a0)?void 0:n.ST)?t:0}},{key:"Xk",get:function(){var t,n;return null!=(t=null==(n=this.Z$.a0)?void 0:n.Xk)?t:0}},{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}}]),n}(MO);!function(t){t.h0="FATAL",t.hg="ERROR",t.c0="WARNING",t.f0="INFO",t.v0="DEBUG"}(CO||(CO={}));var HO=new(function(){function t(){this.q_=function(){return!1}}var n=t.prototype;return n.l0=function(t){if(!this.q_())return!1;var n=[];return!(n.length>0)||n.some(function(n){return n.toLowerCase()===t.toLowerCase()})},n.d0=function(t){if(this.l0(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.Ar.apply(i,[CO.v0+" "+t+" -"].concat(e))}},n.NT=function(t){if(this.l0(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.Ar.apply(i,[CO.f0+" "+t+" -"].concat(e))}},n.w0=function(t){if(this.l0(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.Tr.apply(i,[CO.c0+" "+t+" -"].concat(e))}},n.Au=function(t){if(this.l0(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.Sr.apply(i,[CO.hg+" "+t+" -"].concat(e))}},n._0=function(t){if(this.l0(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.Sr.apply(i,[CO.h0+" "+t+" -"].concat(e))}},t}()),FO="HLSPlaylistParser",zO=function(){function t(t,n,i){this.KN=t,this.g0=n,this.m0=i}var n=t.prototype;return n.y0=function(){var t,n,i=null==(t=this.KN.k0)?void 0:t.p0;if(i&&0!==i.length){for(var e=null!=(n=xs(i,function(t){return 0!==t.b0.length&&0!==t.A0.length}))?n:i[0],r=i.filter(function(t){return t!==e}),s=0,u=e.b0;s<u.length;s++){var o=u[s],a=new uy,h=[];a.Hy(new UO(e,o)),h.push(o);for(var c=0;c<r.length;c++)for(var f=r[c],v=0,l=f.b0;v<l.length;v++){var d=l[v];if(kO(d,o)&&!bO(h,d)){a.Hy(new UO(f,d)),h.push(d);break}}this.g0.B_(new xO(this.KN,this.g0,a))}for(var w=0,_=e.A0;w<_.length;w++){var g=_[w],m=new uy,y=[];m.Hy(new XO(e,g)),y.push(g);for(var k=0;k<r.length;k++)for(var p=r[k],b=0,A=p.A0;b<A.length;b++){var T=A[b];if(kO(T,g)&&!bO(y,T)){m.Hy(new XO(p,T)),y.push(T);break}}this.m0.B_(new LO(this.KN,this.m0,m))}}else HO.w0("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.T0=function(){this.S0(this.g0),this.S0(this.m0)},n.S0=function(t){for(var n=[],i=0,e=t.L_;i<e.length;i++){for(var r=e[i],s=[],u=0,o=r.J_.L_;u<o.length;u++){var a=o[u];Hs(a.Z$.E0,a.Y$)||s.push(a)}for(var h=0;h<s.length;h++){var c=s[h];r.J_.$h(c),c.$c()}0===r.J_.M_&&n.push(r)}for(var f=0;f<n.length;f++){var v=n[f];t.O_(v),v.$c()}},t}(),VO=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).sP=void 0,e.sP=i,e}return S(n,t),n.prototype.ld=function(t){var n,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=new uw(t),e=this.sP.OL.fD(n)){o.next=4;break}return o.abrupt("return",this.qE.ld(n));case 4:return e.xL(i.wr()/1e3),o.next=7,Dr.awrap(this.qE.ld(t));case 7:return r=o.sent,e.LL(i.wr()/1e3),s=r.Wl().pipeThrough(new kd(new WO(e))),u={zi:s,ld:r.ld},o.abrupt("return",new sw(u,r));case 12:case"end":return o.stop()}},null,this,null,We)},n}(function(){function t(t){this.qE=void 0,this.qE=t}var n=t.prototype;return n.ld=function(t){return this.qE.ld(t)},n.Hd=function(t){this.qE.Hd(t)},n.$c=function(){this.qE.$c()},t}()),WO=function(){function t(t){this.RU=void 0,this.I0=t}var n=t.prototype;return n.start=function(t){this.RU=t},n.transform=function(t){this.I0.ML(i.wr()/1e3,t),this.RU.enqueue(t)},n.flush=function(){this.I0.UL(i.wr()/1e3)},t}(),GO=function(){function t(t){this.R0=void 0,this.D0=0,this.N0=0,this.R0=w.exp(w.log(.5)/t)}var n=t.prototype;return n.C0=function(t,n){var i=w.pow(this.R0,t),e=n*(1-i)+i*this.D0;m(e)||(this.D0=e,this.N0+=t)},n.sH=function(t){var n=w.exp(w.log(.5)/t);if(n!==this.R0)if(0!==this.N0){var i=this.hJ,e=1-w.pow(n,this.N0);this.D0=i*e,this.R0=n}else this.R0=n},A(t,[{key:"hJ",get:function(){var t=1-w.pow(this.R0,this.N0);return this.D0/t}}]),t}(),qO=function(){function t(n,i,e,r){void 0===n&&(n=t.P0),void 0===i&&(i=t.B0),void 0===e&&(e=t.O0),void 0===r&&(r=!1),this.x0=void 0,this.L0=void 0,this.M0=0,this.U0=[],this.X0=void 0,this.H0=6e4,this.F0=10,this.z0=void 0,this.V0=void 0,this.W0=void 0,this.G0=void 0,this.z0=n,this.V0=i,this.W0=e,this.G0=r,this.x0=new GO(n),this.L0=new GO(i)}var n=t.prototype;return n.C0=function(t){var n=i.wr(),e=t;this.G0&&void 0!==this.X0&&n-this.X0>=this.H0&&this.wc(),this.M0+=1,this.x0.C0(1,e),this.L0.C0(1,e),this.U0.push(e),this.U0.length>this.F0&&this.U0.shift(),this.X0=n},n.q0=function(){return void 0!==this.X0&&i.wr()-this.X0<=this.H0},n.wc=function(){this.x0=new GO(this.z0),this.L0=new GO(this.V0),this.M0=0,this.U0=[],this.X0=void 0},A(t,[{key:"hJ",get:function(){return this.q0()?w.max(this.x0.hJ,this.L0.hJ):this.W0}}]),t}();qO.P0=2,qO.B0=5,qO.O0=.1;var YO,jO=function(){function t(t){this.Y0=t}var n=t.prototype;return n.xL=function(t){for(var n=0,i=this.Y0;n<i.length;n++){i[n].xL(t)}},n.LL=function(t){for(var n=0,i=this.Y0;n<i.length;n++){i[n].LL(t)}},n.ML=function(t,n){for(var i=0,e=this.Y0;i<e.length;i++){e[i].ML(t,n)}},n.UL=function(t){for(var n=0,i=this.Y0;n<i.length;n++){i[n].UL(t)}},t}(),QO=function(){function t(t){this.j0=void 0,this.Q0=void 0,this.j0=t}var n=t.prototype;return n.xL=function(t){this.Q0=t},n.LL=function(t){this.j0.C0(t-this.Q0)},n.ML=function(t){},n.UL=function(t){},t}(),ZO=function(){function t(t){this.Z0=void 0,this.K0=void 0,this.J0=0,this.Z0=t}var n=t.prototype;return n.LL=function(t){this.K0=t},n.ML=function(t,n){this.J0+=n.byteLength},n.UL=function(t){this.Z0.C0(t-this.K0,this.J0)},n.xL=function(t){},t}(),KO=function(){function t(t,n){void 0===n&&(n=0),this.Z0=void 0,this.$0=void 0,this.n1=new JO,this.Cq=0,this.i1=0,this.Z0=t,this.$0=n}var n=t.prototype;return n.xL=function(t){},n.ML=function(t,n){var e=n.byteLength,r=this.i1;this.i1=e;var s=t-this.Cq;this.Cq=t,this.n1.JH(n);var u=!this.n1.e1(),o=e>=this.$0;r!==i.Hr.Ke&&u&&o&&this.Z0.C0(s,e)},n.LL=function(t){this.Cq=t},n.UL=function(t){},t}(),JO=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).s1=void 0,n.u1=!1,n}S(n,t);var i=n.prototype;return i.e1=function(){return this.u1},i.JH=function(n){this.u1=!1,t.prototype.JH.call(this,n)},i.ZH=function(n,i){this.s1&&this.s1!==fk.oA||(this.u1=!0),t.prototype.ZH.call(this,n,i),this.s1=n},i.uF=function(t){return!1},i.aF=function(t){},i.hF=function(t){},n}(UD);!function(t){t.o1="sample"}(YO||(YO={}));var $O=function(t){function n(i,e,r,s){var u;return void 0===i&&(i=n.P0),void 0===e&&(e=n.B0),void 0===r&&(r=n.a1),void 0===s&&(s=n.O0),(u=t.call(this)||this).x0=void 0,u.L0=void 0,u.h1=0,u.W0=void 0,u.c1=void 0,u.c1=r,u.x0=new GO(i),u.L0=new GO(e),u.W0=s,u}S(n,t);var i=n.prototype;return i.C0=function(t,n){var i=8*n/t;this.x0.C0(t,i),this.L0.C0(t,i),this.h1+=n,this.Cg(),this.$s(new _u(YO.o1))},i.q0=function(){return this.h1>=this.c1},A(n,[{key:"hJ",get:function(){return this.q0()?w.min(this.x0.hJ,this.L0.hJ):this.W0}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).f1=0,n}return S(n,t),n.prototype.Cg=function(){var t=i.wr();t-this.f1>1e3&&(this.f1=t,zg.Cg(this.hJ/8))},n}(du));$O.a1=128e3,$O.O0=5e5,$O.P0=.5,$O.B0=5;var tx=function(){function t(t){this.Z0=void 0,this.v1=void 0;var n=t.vD>0?t.vD:$O.O0,i=t.lD>0?t.lD:qO.O0;this.Z0=new $O($O.P0,$O.B0,1,n),this.v1=new qO(qO.P0,qO.B0,i)}var n=t.prototype;return n.fD=function(t){if("segment"===t._s||"preload-hint"===t._s){var n=[new QO(this.v1)];return"stream"!==t.hd||!function(t){return"segment"===t._s&&"initialization-segment"!==t.Ld}(t)&&"preload-hint"!==t._s?n.push(new ZO(this.Z0)):n.push(new KO(this.Z0,1e3)),new jO(n)}},n.l1=function(t){this.Z0=new $O($O.P0,$O.B0,1,t)},A(t,[{key:"vD",get:function(){return this.Z0.hJ}},{key:"lD",get:function(){return this.v1.hJ}}]),t}();var nx=function(t){function n(n){var i;return(i=t.call(this,_O.k$)||this).Au=n,i}return S(n,t),n}(_u),ix=function(){function t(t){this.s$=t}return t.prototype.lH=function(t){var n={_s:ub.nI,hN:[],wG:[{Gl:t}]};return We.resolve(void 0!==this.s$.lH([n]))},t}(),ex=function(t,n,i,e,r){return We.resolve(t.filter(function(t){return!!Hs(e,t)||1.1*t.vD<=i.vD}))},rx=function(t,n,i,e,r){return We.resolve(t.filter(function(t){if(Hs(e,t))return!0;for(var s=1/0,u=0,o=t.E0;u<o.length;u++){var a,h,c=o[u];s=w.min(s,null!=(a=null!=(h=c.b$.d1)?h:c.b$.w1)?a:1/0)}s===1/0&&(s=1);var f=3*i.lD+t.vD*s/i.vD;return t.vD<=n.vD||r._1>f}))},sx=function(t,n,i,e,r){return We.resolve(Is(t,function(t,n){return n.vD-t.vD}))},ux=function(t,n,i,e,r){return We.resolve(t.every(function(t){return t.g1&&!m(t.g1)})?Is(t,function(t,n){return n.g1-t.g1}):t)},ox=function(t,n,i,e,r){return We.resolve(Is(t,function(t,n){var i=Hs(e,t)?1:0;return(Hs(e,n)?1:0)-i}))},ax=function(t,n,i,e,r){return We.resolve(t.filter(function(t){return!t.yz||!n.yz||(t.yz.gz?!!n.yz.gz&&(t.yz.gz.split(".")[0]===n.yz.gz.split(".")[0]&&(t.yz.mz?!!n.yz.mz&&(t.yz.mz.split(".")[0]===n.yz.mz.split(".")[0]&&t.yz.kz===n.yz.kz):!n.yz.mz)):!n.yz.gz)}))},hx=function(t,n,e,r,s){return We.resolve(function(t,n){if(!i.Hr.wn)return t;for(var e=0;e<t.length;e++){var r,s,u,o,a=t[e],h=null!=(r=null==(s=a.a0)?void 0:s.ST)?r:0,c=null!=(u=null==(o=a.a0)?void 0:o.Xk)?u:0;if(h===n.ST&&c===n.Xk)return t.slice(e,t.length);if(h<n.ST||c<n.Xk)return t.slice(0===e?e:e-1,t.length)}return[]}(t,s))};var cx,fx,vx,lx,dx=function(){function t(t){this.m1=[ax,ex,rx,sx,hx,ux,ox],this.sP=t}var n=t.prototype;return n.b1=function(t){this.m1=t},n.A1=function(t,n,i,e){var r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(t.length){h.next=2;break}throw new v("AbrEvaluator - Unable to select optimal variant stream from an empty list.");case 2:HO.d0("AbrEvaluator","Performing optimal variant stream selection."),r=this.T1,s=t,u=0,o=this.m1;case 6:if(!(u<o.length)){h.next=14;break}return a=o[u],h.next=10,Dr.awrap(a(s,n,r,i,e));case 10:s=h.sent;case 11:u++,h.next=6;break;case 14:if(s.length){h.next=17;break}return HO.w0("AbrEvaluator","No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),h.abrupt("return",Ws(t,function(t){return t.vD}));case 17:return h.abrupt("return",s[0]);case 18:case"end":return h.stop()}},null,this,null,We)},A(t,[{key:"T1",get:function(){return this.sP.OL}}]),t}();function wx(t,n){return[t,void 0!==n?t+n-1:xt]}function _x(t){return Boolean(t.mT)}function gx(t){return Boolean(t.S1)}function mx(t){return t?t.E1?t.Ti+"@"+t.E1.oC+"-"+(null!=(n=t.E1.M_)?n:""):""+t.Ti:"";var n}function yx(t,n){if(n===t)return!0;if(n.Ti!==t.Ti)return!1;if(!t.E1)return!0;if(n.E1){var i=wx(t.E1.oC,t.E1.M_),e=wx(n.E1.oC,n.E1.M_);return i[0]<=e[0]&&i[1]>=e[1]}return!1}function kx(t,n){return t===n||t.Ti===n.Ti&&(Boolean(t.E1)===Boolean(n.E1)&&(!t.E1||!n.E1||t.E1.oC===n.E1.oC&&t.E1.M_===n.E1.M_))}function px(t){var n=!!t.I1||void 0;return{Y_:t.Y_,R1:t.R1,RN:t.RN,D1:t.D1,nm:t.nm,N1:t.N1,I1:n,C1:t.P1,B1:t.O1,L1:t.L1,M1:t.M1}}function bx(t,n,i,e){var r=[],s=xs(i,function(t){return t.U1===Vr});if(void 0!==s){var u=s.Ti?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.Ti.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var a=i[o];if(a.U1!==Vr)for(var h=0,c=cs(a.U1);h<c.length;h++){var f=c[h];r.push({hc:f,gD:a.X1?[a.X1]:[],PR:void 0})}}if(r.length)return{yI:t,H1:{F1:u,kI:s.kI},z1:r,V1:n===ry.Cd?e.slice():[],W1:n===ry.Pd?e.slice():[],DY:!1}}}}function Ax(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=Pr();return Tx(e,r,t.z1),Tx(e,r,n.z1),{yI:t.yI,H1:{F1:t.H1.F1,kI:null!=(i=t.H1.kI)?i:n.H1.kI},z1:e,V1:Sx(t.V1,n.V1,Hs),W1:Sx(t.W1,n.W1,Hs),DY:t.DY||n.DY||!1}}function Tx(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.hc.Ts,u=void 0;n.has(s)?(u=n.get(s)).gD=Sx(u.gD,r.gD,Ex):(u=Nr({},r),t.push(u),n.set(s,u))}}function Sx(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function Ex(t,n){for(var i=0;i<t.length;i++){if(Lu(t[i],n))return!0}return!1}function Ix(t,n){var i,e=t.G1;if(e){for(var r=t.DO,s=[],u=0,o=t.yz;u<o.length;u++){var a=o[u];s.push(r+'; codecs="'+a+'"')}i=bx(n||{},t._s,e,s)}for(var h=0,c=t.q1;h<c.length;h++){i=Ax(i,Rx(c[h],n))}return i}function Rx(t,n){return bx(n||{},t._s,t.G1||[],[t.Gl])}function Dx(t,n){switch(n._s){case zr.fs:return t.widevine;case zr.hs:return t.playready;case zr.ls:return t.fairplay;case zr.vs:return t.clearkey}}function Nx(t,n,i){if(0!==t.length)return t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:i}})}function Cx(t,n,i,e,r){var s,u,o,a,h,c,f,v,l;return Dr.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(t){d.next=2;break}return d.abrupt("return",[]);case 2:return s=n.filter(function(t){return vs(t,"audio")}),u=n.filter(function(t){return vs(t,"video")}),o=[],a=i.map(function(t){return Px(t,e,r)}),d.next=8,Dr.awrap(We.all(a));case 8:for(h=d.sent.filter(H),c=Ox(h,t.preferredKeySystems),f=0;f<c.length;f++)v=c[f],l=Dx(t,v.hc),"cbcs",o.push({hc:v.hc,gD:v.gD,PR:v.PR,AN:[{initDataTypes:[v.hc.ys],audioCapabilities:Nx(s,"cbcs",null==l?void 0:l.audioRobustness),videoCapabilities:Nx(u,"cbcs",null==l?void 0:l.videoRobustness),persistentState:null==l?void 0:l.persistentState,distinctiveIdentifier:null==l?void 0:l.distinctiveIdentifier}]});return d.abrupt("return",o);case 12:case"end":return d.stop()}},null,null,null,We)}function Px(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.D$){u.next=2;break}return u.abrupt("return");case 2:if(t.Y1){u.next=4;break}return u.abrupt("return");case 4:if(t.Od===vx.j1){u.next=6;break}return u.abrupt("return");case 6:if(e=Bx(t.Y1)){u.next=9;break}return u.abrupt("return");case 9:if(e.Ts!==ns){u.next=13;break}return u.abrupt("return",{hc:e,gD:[],PR:t.D$});case 13:return HO.NT("HLSDrmUtils","Fetching key uri "+t.D$+"."),u.next=16,Dr.awrap(n.ld({wd:t.D$,Ud:i}));case 16:return r=u.sent,u.next=19,Dr.awrap(r.Vl());case 19:return s=u.sent,u.abrupt("return",{hc:e,gD:[s],PR:void 0});case 21:case"end":return u.stop()}},null,null,null,We)}function Bx(t){return t===Kr?ss:t===Qr?rs:t===es?os:void 0}function Ox(t,n){var i=function(t){var i=n.indexOf(t.hc.Ts);return i>=0?i:n.length};return Is(t,function(t,n){return i(t)-i(n)})}function xx(t){if("#"!==t[0])throw new v("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function Lx(t){return"#"!==t[0]?t:t.split(":",1)[0]}function Mx(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new v("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function Ux(t){var n=Vx(Mx(t));if(void 0===n)throw new v("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function Xx(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,e=i.exec(t);null!==e;){var r=e[1],s=void 0;s=void 0!==e[3]?e[3]:e[2],null!==r?n[r]=s:HO.w0(FO,"Ignoring unparsable M3U8 attribute name: "+t+"."),e=i.exec(t)}return n}function Hx(t,n){var e,r,s=Xx(t);try{e=s.URI?i.Ur(s.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return cx.Cd;case"VIDEO":return cx.Pd;case"SUBTITLES":return cx.wA;case"CLOSED-CAPTIONS":return cx.Q1}throw new v("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(s.TYPE)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=s["GROUP-ID"],o=s.LANGUAGE,a=s["ASSOC-LANGUAGE"],h=s.NAME,c="YES"===s.DEFAULT,f="YES"===s.AUTOSELECT,l="YES"===s.FORCED,d=s["INSTREAM-ID"],w=s.CHARACTERISTICS,_=s.CHANNELS;if(u||HO.w0(FO,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),o||HO.w0(FO,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),h||HO.w0(FO,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===cx.Q1?(e&&HO.w0(FO,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),d?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(d)||HO.w0(FO,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):HO.w0(FO,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):d&&HO.w0(FO,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!f&&(f=!0,s.AUTOSELECT&&HO.w0(FO,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),r===cx.wA&&s.FORCED&&HO.w0(FO,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===h)throw new v("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{Z1:a,K1:_,J1:w,E$:u,T$:f,A$:c,S$:l,I$:d,K_:o,_i:h,_s:r,D$:e}}function Fx(t,n,e){var r,s,u,o=Xx(t);try{r=i.Ur(e,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),e=Number(n[1]);if(m(i)||m(e))throw new v("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{Xk:i,ST:e}}(o.RESOLUTION),s=function(t){if(!t)return;for(var n,i,e,r=t.split(","),s=0;s<r.length;s++){var u=r[s],o=u.trim();ls(o,"mp4a")?n="mp4a.40.05"===o?"mp4a.40.5":"mp4a.40.02"===o?"mp4a.40.2":o:"ac-3"===o||"ec-3"===o?n=o:ls(o,"avc")||ls(o,"hvc1")||ls(o,"hev1")||ls(o,"dvh")||ls(o,"vp09")||ls(o,"av01")?i=u:e=e?e+","+o:o}return{mz:n,gz:i,kz:e}}(o.CODECS)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var a=Vx(o.BANDWIDTH),h=Vx(o["AVERAGE-BANDWIDTH"]),c=Vx(o.SCORE),f=Vx(o["FRAME-RATE"]),l=o["HDCP-LEVEL"],d=[];if(void 0!==o["ALLOWED-CPC"]){var w=o["ALLOWED-CPC"].split(",");d.push.apply(d,w.map(function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))}var _=o["VIDEO-RANGE"],g=o.AUDIO,y=o.VIDEO,k=o.SUBTITLES,p=o["CLOSED-CAPTIONS"];if(void 0===a?HO.w0(FO,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==h&&h>a&&HO.w0(FO,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),s||HO.NT(FO,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),s&&s.gz&&void 0===u&&HO.NT(FO,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===l||Hs(["TYPE-0","TYPE-1","NONE"],l)||HO.w0(FO,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===_||Hs(["SDR","PQ","HLG"],_)||HO.w0(FO,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===a)throw new v("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{n2:d,i2:g,jJ:h,vD:a,e2:p,yz:s,QJ:f,s2:l,a0:u,g1:c,u2:k,D$:r,o2:y,a2:_}}function zx(t,n){var i=Xx(t);if(!i.URI)throw new v("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return Fx(t,n,i.URI)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function Vx(t){var n=Number(t);return m(n)?void 0:n}function Wx(t,n){var i,e,r=Xx(t);try{i=function(t){switch(t){case"NONE":return vx.jN;case"AES-128":return vx.h2;case"SAMPLE-AES":return vx.j1;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new v("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(r.METHOD),e=r.URI?Jx(r.URI,n):void 0}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var s,u,o,a,h,c=r.KEYFORMAT,f=r.IV,l=r.KEYFORMATVERSIONS;if(i!==vx.jN){if(o=c||"identity","SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(Bx(o)!==ss)throw new v("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");s=vx.j1}else s=i;u=e,a=f?Vo(f):void 0,h=l?l.split("/").map(function(t){return Number(t)}):[1]}else s=vx.jN,(e||c||l||f)&&HO.w0(FO,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{Od:s,D$:u,c2:a,Y1:o,f2:h}}function Gx(t){var n=Mx(t);if(!n)return[void 0,""];var i=n.split(","),e=i[0],r=i[1];return[Vx(e),r]}function qx(t,n){var i=t.split("@"),e=Vx(i[0]),r=i.length>1?Vx(i[1]):n;if(void 0===e||void 0===r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{oC:r,M_:e}}function Yx(t){if(void 0!==t)return qx(t,void 0)}function jx(t,n){return qx(Mx(t),n)}function Qx(t,n){var i=Xx(t);try{return{Ti:Jx(i.URI,n),E1:Yx(i.BYTERANGE)}}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function Zx(t){var n=Mx(t);if(!n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!zt(i))throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function Kx(t){var n,i,e,r=Xx(t),s=r["START-DATE"],u=r["END-DATE"],o=Vx(r["PLANNED-DURATION"]),a=Vx(r.DURATION);void 0!==r["SCTE35-CMD"]&&(n=Vo(r["SCTE35-CMD"]).buffer),r["SCTE35-IN"]&&(i=Vo(r["SCTE35-IN"]).buffer),r["SCTE35-OUT"]&&(e=Vo(r["SCTE35-OUT"]).buffer);var h,c,f="YES"===r["END-ON-NEXT"],l=function(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i],s=t[r];void 0!==s&&ls(r,"X-")&&(n[r]=s)}return n}(r),w=r.ID,_=r.CLASS;if(void 0===s)HO.w0(FO,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+s+".");else if(h=new Date(s),c=void 0!==u?new Date(u):void 0,zt(h)||HO.w0(FO,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+h+"."),void 0!==a){var g=new Date(h.getTime()+1e3*a);c?c.getTime()!==g.getTime()&&(HO.w0(FO,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),c=g):c=g}else c&&(a=(h.getTime()-c.getTime())/1e3);if(f&&(r.CLASS||HO.w0(FO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),r.DURATION&&HO.w0(FO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),c&&HO.w0(FO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===w&&HO.w0(FO,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===w||void 0===h)throw new v("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{Y_:w,R1:_,RN:h,D1:c,nm:a,N1:o,O1:n,M1:i,L1:e,I1:f,P1:l}}function Jx(t,n){if(void 0===t)throw new v("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return i.Ur(t,n)}function $x(t,n){var i=Xx(t),e=Vx(i.DURATION),r=Jx(i.URI,n),s=Yx(i.BYTERANGE),u="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===e)throw new v("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{nm:e,D$:{Ti:r,E1:s},l2:u,d2:o}}function tL(t){var n=Xx(t);return{w2:"YES"===n["CAN-BLOCK-RELOAD"],_2:Vx(n["CAN-SKIP-UNTIL"]),g2:"YES"===n["CAN-SKIP-DATERANGES"],m2:Vx(n["HOLD-BACK"]),b2:Vx(n["PART-HOLD-BACK"])}}function nL(t,n){var i=Xx(t);if(void 0===i.URI)throw new v("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var e=Jx(i.URI,n),r=Vx(i["LAST-MSN"]),s=Vx(i["LAST-PART"]);if(void 0===r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{D$:e,A2:r,T2:s}}function iL(t,n){var i,e=Xx(t),r=Vx(e["SKIPPED-SEGMENTS"]),s=null==(i=e["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(!r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{S2:r,E2:s,I2:n}}function eL(t){var n=Vx(Xx(t)["PART-TARGET"]);if(void 0===n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function rL(t){switch(Mx(t)){case"VOD":return lx.R2;case"EVENT":return lx.D2;default:return HO.w0(FO,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),lx.md}}function sL(t,n){var i,e,r=Xx(t);try{i=function(t){if(void 0===t)throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return fx.N2;if("PART"===t)return fx.C2;throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(r.TYPE),e=Jx(r.URI,n)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var s,u=Vx(r["BYTERANGE-START"]),o=Vx(r["BYTERANGE-LENGTH"]);return void 0===u&&void 0===o||(s={oC:u||0,M_:o}),{_s:i,D$:{Ti:e,E1:s}}}!function(t){t[t.Cd=0]="Cd",t[t.Pd=1]="Pd",t[t.wA=2]="wA",t[t.Q1=3]="Q1"}(cx||(cx={})),cx.Cd,cx.Pd,cx.wA,cx.Q1,function(t){t[t.N2=0]="N2",t[t.C2=1]="C2"}(fx||(fx={})),function(t){t[t.jN=0]="jN",t[t.h2=1]="h2",t[t.j1=2]="j1"}(vx||(vx={})),function(t){t[t.md=0]="md",t[t.R2=1]="R2",t[t.D2=2]="D2"}(lx||(lx={}));var uL=function(){function t(n){this.P2=0,this.B2=void 0,this.B2=t.O2(n)}var n=t.prototype;return n.L2=function(){var t=this.B2[this.P2];return this.P2+=1,t},n.M2=function(){return this.B2[this.P2]},n.Hu=function(){var n=new t("");return n.P2=0,n.B2=this.B2.slice(this.P2),n},t.O2=function(t){return t?t.split(/[\r\n]+/).map(function(t){return t.trim()}).filter(function(t){return t}):[]},t}();function oL(t,n,i){var e=t.D$,r=t.qA,s=t.U2,u=t.oC;switch(i){case"#EXT-X-VERSION":r=function(t){var n=Ux(t);return m(n)?(HO.w0(FO,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":s=!0;break;case"#EXT-X-START":u=function(t){var n=Xx(t),i=Vx(n["TIME-OFFSET"]);if(void 0===i)throw new v("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{X2:i,H2:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":HO.w0(FO,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:HO.NT(FO,"Ignoring unrecognized line or comment: "+n+".")}return{D$:e,qA:r,U2:s,oC:u}}function aL(t,n){return t.map(function(t){return t.Od===vx.jN||t.c2?t:Nr({},t,{c2:hL(n)})})}function hL(t){var n=new DataView(new ArrayBuffer(16)),i=new zo;return i.Mu(8),function(t,n,i,e){void 0===e&&(e=!1);var r=i.getHighBitsUnsigned(),s=i.getLowBitsUnsigned(),u=e?r:s;fo(t,n,e?s:r,e),fo(t,n,u,e)}(n,i,ft.fromNumber(t)),new y(n.buffer)}function cL(t,n,e){HO.NT(FO,"Parsing M3U8 playlist at "+t+".");var r=new uL(e);if("#EXTM3U"!==r.L2())throw new v("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(e)?function(t,n){var e,r;try{r=i.Ur(t)}catch(n){throw HO.w0(FO,"The master playlist has no valid base URI: "+t+"."),new v("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var s={D$:r,U2:void 0,oC:void 0,qA:void 0},u=[],o=[],a=[],h=[];;){var c=n.L2();if(!c)break;try{var f=xx(c);switch(f){case"#EXT-X-MEDIA":var l=Hx(c,r);u.push(l);break;case"#EXT-X-STREAM-INF":var d=Fx(c,r,n.L2());o.push(d);break;case"#EXT-X-I-FRAME-STREAM-INF":var w=zx(c,r);a.push(w);break;case"#EXT-X-SESSION-DATA":HO.w0(FO,"Ignoring unsupported #EXT-X-SESSION-DATA: "+c+".");break;case"#EXT-X-SESSION-KEY":var _=Wx(c,r);h.push(_);break;default:s=oL(s,c,f)}}catch(t){HO.w0(FO,"Ignoring unparsable line: "+c,t)}}var g=s.qA,m=null!=(e=s.U2)&&e,y=s.oC;return void 0===g&&(HO.w0(FO,"The playlist has no #EXT-X-VERSION, assuming version is 2."),g=2),g>=8&&(o.some(function(t){return void 0!==t.g1})||a.some(function(t){return void 0!==t.g1}))&&(o.some(function(t){return void 0===t.g1})||a.some(function(t){return void 0===t.g1}))&&HO.w0(FO,"If one master playlist variant stream has a SCORE, all variants should have it."),{D$:r,qA:g,U2:m,oC:y,F2:a,z2:h,mT:u,V2:o}}(t,r):function(t,n,e){var r,s,u,o,a,h,c,f,l,d,w,_,g,m,y,k,p,b,A,T={D$:t,U2:void 0,oC:void 0,qA:void 0},S=[],E=!1,I=!1,R=[],D=Pr(),N=[],C=[],P=!1,B=!1,O=[],x=[],L=0,M=!1,U=lx.md,X=!1,H=0;try{A=i.Ur(t)}catch(n){throw HO.w0(FO,"The media playlist has no valid base URI: "+t+".",n),new v("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var F=e.Hu();void 0===k||void 0===p;){var z=F.L2();if(!z)break;try{switch(Lx(z)){case"#EXT-X-MEDIA-SEQUENCE":k=Ux(z);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":p=Ux(z)}}catch(t){HO.w0(FO,"Ignoring unparsable line: "+z,t)}}void 0===k&&(HO.NT(FO,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),k=0),void 0===p&&(HO.NT(FO,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),p=0);for(var V=k,W=p;;){var G=e.L2();if(!G)break;var q=!1;try{var Y=Lx(G);switch(Y){case"#EXTINF":q=!0;var j=Gx(G);h=j[0],c=j[1];break;case"#EXT-X-BYTERANGE":q=!0,(f=jx(G,L))&&(L=f.oC+f.M_);break;case"#EXT-X-DISCONTINUITY":q=!0,P=!0,W++;break;case"#EXT-X-KEY":var Q,Z;q=!0;var K=Wx(G,A);if(K.Od===vx.jN){D.clear(),m=void 0;break}var J=null!=(Q=null==(Z=K.Y1)?void 0:Z.toString())?Q:"identity";D.set(J,K),K.Od===vx.h2&&(m=K);break;case"#EXT-X-MAP":q=!0,d=Qx(G,A),w=m;break;case"#EXT-X-PROGRAM-DATE-TIME":q=!0,_=Zx(G);break;case"#EXT-X-GAP":q=!0,B=!0;break;case"#EXT-X-BITRATE":q=!0,g=Ux(G);break;case"#EXT-X-TARGETDURATION":s=Ux(G);break;case"#EXT-X-DATERANGE":var $=Kx(G);S.push($);break;case"#EXT-X-PART":q=!0;var tt=$x(G,A);C.push(tt);break;case"#EXT-X-PRELOAD-HINT":var nt=sL(G,A);O.push(nt);break;case"#EXT-X-SKIP":R.length>0&&HO.w0(FO,"#EXT-X-SKIP must appear before any #EXTINF tags."),q=!0;var it=iL(G,V);H=it.S2,b=it.E2,V+=it.S2;break;case"#EXT-X-SERVER-CONTROL":var et=tL(G);E=et.w2,u=et._2,I=et.g2,o=et.m2,a=et.b2;break;case"#EXT-X-RENDITION-REPORT":var rt=nL(G,A);x.push(rt);break;case"#EXT-X-PART-INF":y=eL(G);break;case"#EXT-X-MEDIA-SEQUENCE":q&&HO.w0(FO,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":q&&HO.w0(FO,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":M=!0;break;case"#EXT-X-PLAYLIST-TYPE":U=rL(G);break;case"#EXT-X-I-FRAMES-ONLY":X=!0;break;default:if(ls(Y,"#"))T=oL(T,G,Y);else{l=i.Ur(G,A);var st=d?{D$:d,W2:w}:void 0,ut={z2:aL(xr(D),V),RE:N,G2:C,nm:h,vN:c,q2:P,D$:{E1:f,Ti:l},Y2:st,j2:_,d2:B,Q2:g,I2:V,Z2:W};R.push(ut),V++,N=[],C=[],h=void 0,c=void 0,P=!1,f=void 0,l=void 0,_=void 0,B=!1,g=void 0}}}catch(t){HO.w0(FO,"Ignoring unparsable line: "+G,t)}}if(C.length){var ot=d?{D$:d,W2:m}:void 0,at={z2:aL(xr(D),V),RE:N,G2:C,nm:h,vN:c,q2:P,D$:void 0,Y2:ot,j2:_,d2:B,Q2:g,I2:V,Z2:W};R.push(at)}var ht=T.qA,ct=null!=(r=T.U2)&&r,ft=T.oC;void 0===ht&&(HO.w0(FO,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),ht=2),void 0===s&&HO.w0(FO,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var vt=R.length,lt=vt>0;lt||HO.w0(FO,"The HLS media playlist contains no segments.");var dt=lt&&R[vt-1].G2.length>0;return dt&&void 0===y&&HO.w0(FO,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===a&&HO.w0(FO,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{w2:E,_2:u,g2:I,K2:S,Z2:p,J2:M,U2:ct,m2:o,n3:X,I2:k,S2:H,b2:a,d1:y,i3:U,e3:O,E2:b,r3:x,s3:s,S1:R,oC:ft,D$:A,u3:n,qA:ht}}(t,n,r)}var fL=function(){function t(t,n,i){var e,r,s,u;this.Y_=vL++,this.b$=void 0,this.vD=void 0,this.g1=void 0,this.a0=void 0,this.QJ=void 0,this.i2=void 0,this.o2=void 0,this.u2=void 0,this.e2=void 0,this.o3=void 0,this.a3=void 0,this.h3=[],this.b$=n,this.vD=t.vD,this.o3=t.jJ,this.g1=t.g1,this.a3=t.yz?lL(t.yz):void 0,this.a0=t.a0,this.QJ=t.QJ,this.i2=null!=(e=t.i2)?e:"c3"+this.Y_,this.o2=null!=(r=t.o2)?r:"f3"+this.Y_,this.u2=null!=(s=t.u2)?s:"v3"+this.Y_,this.e2=null!=(u=t.e2)?u:"l3"+this.Y_,this.h3=i}var n=t.prototype;return n.d3=function(t){for(var n=0,i=this.h3;n<i.length;n++){var e=i[n].b$.d3(t);if(void 0!==e)return e}},n.w3=function(t){for(var n=0,i=this.h3;n<i.length;n++){var e=i[n].b$.w3(t);if(void 0!==e)return e}},n._3=function(t){Us(this.h3,t)},A(t,[{key:"D$",get:function(){return this.b$.D$}},{key:"yz",get:function(){return this.a3},set:function(t){this.a3=t?lL(t):void 0}},{key:"jJ",get:function(){return this.o3||this.vD}},{key:"g3",get:function(){var t,n;if(!this.h3.length)return fS.qC();var i=null!=(t=Gs(this.h3,function(t){var n;return null!=(n=t.b$.m3)?n:0}))?t:this.E0[0],e=i.b$.S1;if(!e.length||e.length<2)return fS.qC();var r=i.b$.J2?e[0].ck:e[1].ck,s=e[e.length-1],u=s.ck+(null!=(n=s.nm)?n:s.y3)-this.E0.reduce(function(t,n){var i,e;return w.max(null!=(i=null!=(e=n.b$.b2)?e:n.b$.m2)?i:0,t)},0);return u<r?fS.qC():new fS([r,u])}},{key:"E0",get:function(){return this.h3}},{key:"b0",get:function(){return this.h3.filter(function(t){return t._s===cx.Cd})}},{key:"A0",get:function(){return this.h3.filter(function(t){return t._s===cx.Pd})}},{key:"b3",get:function(){return this.h3.filter(function(t){return t._s===cx.wA})}},{key:"A3",get:function(){return this.h3.filter(function(t){return t._s===cx.Q1})}}]),t}(),vL=0;function lL(t){return Nr({},t,{gz:t.gz?xc(t.gz):void 0})}var dL=function(){function t(t,n,i,e,r){this.T3=void 0,this.S3=void 0,this.nm=void 0,this.D$=void 0,this.l2=void 0,this.d2=void 0,this.E3=void 0,this.Ak=void 0,this.gJ=void 0,this.I3=void 0,this.T3=t,this.S3=n,this.Ak=i,this.E3=e,this.nm=r.nm,this.D$=r.D$,this.l2=r.l2,this.d2=r.d2}return t.prototype.R3=function(t,n){this.Ak=t,this.E3=n},A(t,[{key:"ck",get:function(){var t;return this.Ak+(null!=(t=this.I3)?t:0)}},{key:"D3",get:function(){return this.E3}},{key:"z2",get:function(){return this.T3.z2}}]),t}();function wL(t){return void 0!==t.G2}var _L,gL=function(){function t(t,n,i,e,r){this.ma=void 0,this.j2=void 0,this.N3=void 0,this.Y2=void 0,this.d2=void 0,this.C3=void 0,this.E3=void 0,this.I2=void 0,this.q2=void 0,this.Z2=void 0,this.z2=void 0,this.Ak=void 0,this.gJ=void 0,this.P3=[],this.B3=0,this.O3=void 0,this.Ak=t,this.Y2=r.Y2,this.C3=i,this.E3=e,this.ma=r.nm,this.j2=r.j2,this.N3=r.D$,this.d2=r.d2,this.I2=r.I2,this.q2=r.q2,this.Z2=n,this.z2=r.z2,this.x3(r.G2)}var n=t.prototype;return n.L3=function(t){return this.P3[t]},n.M3=function(t){for(var n=0;n<this.P3.length;n++){var i=this.P3[n],e=i.ck,r=e+i.nm;if(e<=t&&t<=r)return t===r&&n+1<this.P3.length?this.P3[n+1]:i}},n.U3=function(t){for(var n=this.P3.length-1;n>=0;n--){var i=this.P3[n];if(i.ck<=t)return i}},n.X3=function(t){for(var n=this.U3(t);n&&!n.l2&&n.S3>0;)n=this.L3(n.S3-1);return n},n.R3=function(t,n,i){var e=t.G2.length!==this.P3.length||i!==this.E3;this.C3=n,this.E3=i,this.ma=t.nm,null!=this.j2||(this.j2=t.j2),void 0===this.N3&&(this.N3=t.D$),e&&this.x3(t.G2)},n.x3=function(t){this.P3.length>t.length&&(this.P3.length=t.length);for(var n=0,i=0;i<t.length;i++){var e=t[i],r=!!this.E3&&i===t.length-1,s=this.Ak+n;if(i<this.P3.length)this.P3[i].R3(s,r);else{var u=new dL(this,i,s,r,e);this.P3.push(u)}n+=e.nm}this.B3=n},n.H3=function(){Fs(this.P3),this.B3=0},A(t,[{key:"ck",get:function(){var t;return this.Ak+(null!=(t=this.O3)?t:0)}},{key:"F3",get:function(){return this.Ak}},{key:"nm",get:function(){return this.ma}},{key:"D$",get:function(){return this.N3}},{key:"z3",get:function(){return this.C3}},{key:"D3",get:function(){return this.E3}},{key:"G2",get:function(){return this.P3}},{key:"y3",get:function(){return this.B3}},{key:"I3",get:function(){return this.O3},set:function(t){this.O3=t;for(var n=0,i=this.P3;n<i.length;n++){i[n].I3=t}}}]),t}();!function(t){t.V3="YES",t.W3="v2"}(_L||(_L={}));var mL=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}($t);var yL=function(t){function n(n,i){var e,r=kL(i,n.nm,n.RN,n.D1);return(e=t.call(this,i,r,void 0,!1,n.Y_)||this).G3=void 0,e.q3=void 0,e.Y3=void 0,e.ma=void 0,e.j3=void 0,e.Q3=void 0,e.Z3=void 0,e.K3=void 0,e.J3=void 0,e.t4=void 0,e.G3=n.R1,e.q3=n.RN,e.Y3=n.D1,e.ma=n.nm,e.j3=n.N1,e.Q3=Boolean(n.I1),e.Z3=n.C1||{},e.K3=n.B1,e.J3=n.L1,e.t4=n.M1,e.n4(),e.i4(),e}S(n,t);var i=n.prototype;return i.tc=function(t){var n=!1;void 0===this.G3&&void 0!==t.R1&&(n=!0,this.G3=t.R1),void 0===this.Y3&&void 0!==t.D1&&(n=!0,this.Y3=t.D1),void 0===this.ma&&void 0!==t.nm&&(n=!0,this.ma=t.nm),void 0===this.j3&&void 0!==t.N1&&(n=!0,this.j3=t.N1),!this.Q3&&t.I1&&(n=!0,this.Q3=t.I1),n=this.updateCustomAttributes(t,n),void 0===this.K3&&void 0!==t.B1&&(n=!0,this.K3=t.B1),void 0===this.J3&&void 0!==t.L1&&(n=!0,this.J3=t.L1),void 0===this.t4&&void 0!==t.M1&&(n=!0,this.t4=t.M1),this.n4(),this.i4(),this.e4(),n&&this.$s(new Oy(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.C1)for(var e=0,r=d.keys(t.C1);e<r.length;e++){var s=r[e];void 0===this.Z3[s]&&(i=!0,this.Z3[s]=t.C1[s])}return i},i.n4=function(){this.ma&&!this.Y3&&(this.Y3=new Date(this.q3.getTime()+Gt(this.ma)))},i.i4=function(){this.Y3&&!this.ma&&(this.ma=Wt(this.Y3.getTime()-this.q3.getTime()))},i.e4=function(){this.Tk===1/0&&(this.Y3||this.ma)&&(this.Tk=kL(this.Ak,this.ma,this.q3,this.Y3))},A(n,[{key:"o_",get:function(){var t;return this.u_||(this.u_=fg(Cy(t=this),{get content(){return t.vk},get class(){return t.R1},get startDate(){return t.RN},get endDate(){return t.D1},get duration(){return t.nm},get plannedDuration(){return t.N1},get endOnNext(){return t.I1},get scte35Cmd(){return t.B1},get scte35Out(){return t.L1},get scte35In(){return t.M1},get customAttributes(){return t.C1}})),this.u_}},{key:"R1",get:function(){return this.G3}},{key:"RN",get:function(){return this.q3}},{key:"D1",get:function(){return this.Y3}},{key:"nm",get:function(){return this.ma}},{key:"N1",get:function(){return this.j3}},{key:"I1",get:function(){return this.Q3}},{key:"B1",get:function(){return this.K3}},{key:"L1",get:function(){return this.J3}},{key:"M1",get:function(){return this.t4}},{key:"C1",get:function(){return this.Z3}}]),n}(Uy);function kL(t,n,i,e){return H(n)?t+n:e?t+(Wt(e.getTime())-Wt(i.getTime())):1/0}var pL=function(t){function n(){return t.call(this,void 0,void 0,ky.DATE_RANGE)||this}S(n,t);var i=n.prototype;return i.tc=function(t,n){bL(this,AL(t),n)},i.KE=function(n){var i,e,r;i=this._g.L_,e=n,(r=Ls(i,function(t){return t.R1===e.R1}))&&r.I1&&r.tc({Y_:r.Y_,D1:e.RN}),t.prototype.KE.call(this,n)},n}(dP);function bL(t,n,i){for(var e=t._g.L_,r=function(i){var r=e[i],s=xs(n,function(t){return t.Y_===r.Y_});s?r.tc(s):t.UE(r)},s=e.length-1;s>=0;s--)r(s);for(var u=0;u<n.length;u++){var o=n[u],a=o.RN;if(void 0!==a&&!t.WG(o.Y_)){var h=i(a);t.KE(new yL(o,h))}}}function AL(t){for(var n=Pr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.Y_)){var s=n.get(r.Y_),u=Nr({},s,wg(r),{C1:Nr({},s.C1,r.C1)});n.set(r.Y_,u)}else n.set(r.Y_,r),i.push(r.Y_)}return i.map(function(t){return n.get(t)})}var TL=String.fromCharCode(95),SL=TL+"HLS_msn",EL=TL+"HLS_part",IL=TL+"HLS_skip",RL=function(){function t(t,n){this.D$=void 0,this.r4=void 0,this.s4=void 0,this.u4=void 0,this.o4=void 0,this.a4=void 0,this.h4=void 0,this.c4=void 0,this.f4=[],this.v4=[],this.O3=void 0,this.l4=!1,this.d4=void 0,this.w4=!1,this._4=lx.md,this.rG=fS.qC(),this.g4=fS.qC(),this.ma=void 0,this.m4=-1/0,this.DE=void 0,this.y4=void 0,this.D$=t,this.DE=n}var n=t.prototype;return n.o0=function(t){if(!t)return this.D$;var n=i.Mr(this.D$);return void 0!==t.I2&&n.searchParams.append(SL,String(t.I2)),void 0!==t.b4&&n.searchParams.append(EL,String(t.b4)),void 0!==t.NA&&n.searchParams.append(IL,t.NA),n.href},n.A4=function(t){return xs(this.f4,function(n){return n.I2===t})},n.T4=function(t){for(var n=0;n<this.f4.length;n++){var i,e=this.f4[n],r=e.ck,s=r+(null!=(i=e.nm)?i:e.y3);if(r<=t&&t<=s)return t===s&&n+1<this.f4.length?this.f4[n+1]:e}},n.d3=function(t){var n=this.S4();if(void 0!==n)return new Date(1e3*t+n)},n.w3=function(t){var n=this.S4();if(void 0!==n)return(t.getTime()-n)/1e3},n.S4=function(){for(var t=this.S1,n=t.length-1;n>=0;n--){var i=t[n];if(void 0!==i.j2)return i.j2.getTime()-1e3*i.ck}},n.E4=function(t){switch(t){case fx.N2:return this.s4;case fx.C2:return this.u4;default:return}},n.R3=function(t){var n;void 0===this.o4&&(this.o4=null!=(n=t.s3)?n:this.I4(t));void 0===this.h4&&void 0!==t.m2&&(this.h4=t.m2),void 0===this.a4&&void 0!==t.d1&&(this.a4=t.d1),void 0===this.c4&&void 0!==t.b2&&(this.c4=t.b2),this.l4=t.w2,this.d4=t._2,this.w4=t.g2,this._4=t.i3,this.R4(t),this.D4(t);var e=xs(t.e3,function(t){return t._s===fx.N2}),r=xs(t.e3,function(t){return t._s===fx.C2});this.s4=e?{D$:e.D$,_s:e._s,Z2:t.Z2}:void 0,this.u4=r?{D$:r.D$,_s:r._s,Z2:t.Z2}:void 0,this.r4=i.wr()/1e3,this.g4=this.N4(),this.rG=this.C4(this.g4),this.ma=this.P4(),null!=this.DE||(this.DE=t.oC)},n.N4=function(){var t,n=this.S1;if(0===n.length)return fS.qC();var i=n[0].ck,e=n[n.length-1],r=e.ck,s=null!=(t=e.nm)?t:e.y3;return new fS([i,r+s])},n.C4=function(t){var n,i;if(0===t.M_||this.J2)return t;var e=t.oC(0),r=t.hC(0)-(null!=(n=null!=(i=this.b2)?i:this.m2)?n:0);return r<e?fS.GC(e):new fS([e,r])},n.P4=function(){return 0===this.f4.length?0:this.J2?(t=this.f4,n=function(t){var n;return null!=(n=t.nm)?n:t.y3},t.reduce(function(t,i){return t+n(i)},0)):1/0;var t,n},n.I4=function(t){for(var n,i=0,e=t.S1;i<e.length;i++){var r=e[i];if(void 0!==r.nm){var s=w.max(1,w.round(r.nm));(void 0===n||n<s)&&(n=s)}}if(void 0===n)throw new v("HLSModel - Could not determine required segment target duration.");return n},n.R4=function(t){if(0===t.S1.length)return Fs(this.f4),void this.B4();var n=this.O4(t);if(n){var i,e,r;n.x4>0&&this.f4.splice(0,n.x4);var s=t.S2;if(s>0){if(s>this.f4.length)throw new mL("New playlist skips over missing segments.");var u=this.f4[s-1];if(void 0===u.nm)throw new mL("New playlist skips over an incomplete segment.");i=u.F3+u.nm,r=u.Z2-t.Z2,e=s;for(var o=0;o<s;o++)this.f4[o].H3()}else i=n.L4,r=0,e=0;for(var a=0;a<t.S1.length;a++,e++){var h=t.S1[a],c=0===a,f=t.J2&&a===t.S1.length-1,v=h.nm,l=h.Z2+r;if(e<this.f4.length){var d=this.f4[e];0,d.R3(h,c,f)}else{var w=h;if(this.f4.length>0&&void 0===w.Y2)w=Nr({},w,{Y2:this.f4[this.f4.length-1].Y2});var _=new gL(i,l,c,f,w);_.I3=this.O3,this.f4.push(_)}void 0!==v&&(i+=v)}}},n.O4=function(t){if(0===this.f4.length)return{x4:0,L4:0};var n=this.f4[0].I2,i=this.f4[this.f4.length-1].I2,e=t.S1[0].I2-t.S2,r=t.S1[t.S1.length-1].I2,s=0,u=0;if(e<n)HO.w0("HLSMediaPlaylist","Ignoring older playlist (first media sequence number is "+e+", but previous playlist already started at "+n+")");else{if(!(r<i)){if(i<e){var o;u=null!=(o=function(t,n){var i=Ls(t,function(t){return void 0!==t.j2});if(void 0===i)return;var e=function(t){for(var n=0,i=0;i<t.length;i++){var e,r=t[i];if(r.q2)return;if(r.j2)return[r,n];n+=null!=(e=r.nm)?e:0}return}(n.S1);if(void 0===e)return;var r=e[0],s=e[1];if(i.Z2!==r.Z2)return;var u=(r.j2.getTime()-i.j2.getTime())/1e3;return i.F3+u-s}(this.f4,t))?o:(h=this.f4,c=this.o4,v=h[h.length-1],l=null!=(f=v.nm)?f:w.max(c,v.y3),v.F3+l),HO.d0("HLSMediaPlaylist","New playlist (starting at "+e+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+u+"s"),s=this.f4.length,this.B4()}else{0;var a=Ms(this.f4,function(t){return t.I2===e});0,u=this.f4[a].F3,a>0&&(s=a)}var h,c,f,v,l;return{x4:s,L4:u}}HO.w0("HLSMediaPlaylist","Ignoring older playlist (last media sequence number is "+r+", but previous playlist already ended at "+i+")")}},n.D4=function(t){var n=this,i=t.K2.map(px);if(t.g2&&t.u3.NA===_L.W3&&(i=this.v4.concat(i)),this.v4=AL(i),t.E2)for(var e=function(t,i){var e=i[t],r=Ms(n.v4,function(t){return t.Y_===e});r>=0&&Xs(n.v4,r)},r=0,s=t.E2;r<s.length;r++)e(r,s)},n.M4=function(t,n){if(this.O3!==t){this.O3=t;for(var i=0,e=this.f4;i<e.length;i++){e[i].I3=this.O3}}this.y4=n},n.B4=function(){this.O3=void 0,this.y4=void 0},A(t,[{key:"J2",get:function(){return Boolean(xs(this.f4,function(t){return t.D3}))}},{key:"nm",get:function(){return this.ma}},{key:"Ly",get:function(){return this.rG}},{key:"U4",get:function(){return this.g4}},{key:"w1",get:function(){return this.o4}},{key:"d1",get:function(){return this.a4}},{key:"m2",get:function(){return this.J2?0:this.h4?this.h4:this.o4?3*this.o4:void 0}},{key:"b2",get:function(){var t;return null!=(t=this.c4)?t:this.a4?3*this.a4:void 0}},{key:"X4",get:function(){var t,n,i;if(!this.J2&&0!==this.f4.length){var e=this.f4[this.f4.length-1],r=null!=(t=e.nm)?t:e.y3,s=null!=(n=null!=(i=this.b2)?i:this.m2)?n:0;return e.ck+r-s}}},{key:"w2",get:function(){return this.l4}},{key:"_2",get:function(){return this.d4}},{key:"g2",get:function(){return this.w4}},{key:"i3",get:function(){return this._4}},{key:"H4",get:function(){return void 0!==this.d1}},{key:"F4",get:function(){if(this.J2)return!0;var t=i.wr()/1e3,n=this.m3,e=this.z4;return void 0!==n&&t-n<e}},{key:"m3",get:function(){return this.r4}},{key:"I3",get:function(){return this.O3}},{key:"z4",get:function(){var t;return null!=(t=this.o4)?t:1}},{key:"S1",get:function(){return this.f4}},{key:"K2",get:function(){return this.v4}},{key:"V4",get:function(){return this.m4},set:function(t){this.m4=t}},{key:"oC",get:function(){return this.DE}},{key:"W4",get:function(){return this.y4}}]),t}();var DL=function(){function t(){this.G4=[],this.q4=Br()}var n=t.prototype;return n.Y4=function(t){var n=this.q4.get(t);return void 0!==n&&NL(n)},n.j4=function(t){return this.Z4(t).Q4.Gu},n.K4=function(t){var n=this.q4.get(t);if(!n||!NL(n))throw new v("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.J4=function(t){return this.K4(t).gb},n.t6=function(t,n){var i=wL(n)?n:n.T3,e=this.K4(i.Z2),r=t.Hy(e.gb);if(e.n6){var s=rk.Gp(n.ck).Jk(r);if(s.Qk().zk(ck)){var u=w.round(s.Fk()/hk.Fk());r=r.Hy(hk.Ip(u))}}return r},n.i6=function(t,n){return this.t6(t,n).Jk(t)},n.e6=function(t,n,i,e,r){var s=this.Z4(t);void 0===s.gb&&(s.r6.some(function(t){return t.s6===n})||(s.r6.push({s6:n,u6:i,o6:e.Xp(i.Op),n6:r}),this.a6(s)))},n.a6=function(t){if(!t.gb&&this.h6(t)){var n=qs(t.r6,CL);Fs(t.r6),t.gb=n.o6.Jk(n.u6),t.n6=n.n6,t.Q4.Qu()}},n.h6=function(t){return this.G4.length>0&&this.G4.every(function(n){return t.r6.some(function(t){return t.s6===n})})},n.Z4=function(t){if(this.q4.has(t))return this.q4.get(t);var n={gb:void 0,n6:!1,Q4:new Wo,r6:[]};return this.q4.set(t,n),n},n.c6=function(t){var n=this;this.G4=t,this.q4.forEach(function(t){return n.a6(t)})},n.Xs=function(){this.q4.forEach(function(t){return t.Q4.Gs()}),this.q4.clear()},t}();function NL(t){return void 0!==t.gb}function CL(t,n){return t.n6||n.n6?(i=t.u6,e=n.u6,r=i.Jk(e),i.tp()||e.tp()?r:(r.Wk(ck)?r=r.Jk(hk):r.jk(ck.Kk())&&(r=r.Hy(hk)),r)).Vk(rk.ap):t.u6.Vk(n.u6);var i,e,r}var PL=function(){function t(t){this.f6=[],this.v6=[],this.l6=Pr(),this.d6=new DL,this.w6=t}var n=t.prototype;return n.R3=function(t,n){if(gx(t))if(0===this.f6.length)this._6(t);else{if(!n)return void HO.w0("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.b$.R3(t)}else{if(0!==this.f6.length)return void HO.w0("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.g6(t)}},n._6=function(t){var n=this.m6(t.D$);n.R3(t);var i=this.y6(cx.Cd,n),e=this.y6(cx.Pd,n),r=new fL({D$:n.D$,vD:0,jJ:0,g1:NaN,yz:void 0,a0:void 0,QJ:0,n2:[],s2:void 0,a2:void 0,i2:void 0,o2:void 0,u2:void 0,e2:void 0},n,[i,e]);this.f6.push(r)},n.g6=function(t){var n,i=this;(n=this.v6).push.apply(n,t.z2);for(var e=this.k6(t),r=function(n,r){var s=r[n],u=e.filter(function(t){return function(t,n){return BL(t._s,t.E$,n)&&(!t.R$||t.b$.D$===n.D$)}(t,s)});i.p6(s,u);var o=new fL(s,i.m6(s.D$,t.oC),u);i.f6.push(o)},s=0,u=t.V2;s<u.length;s++)r(s,u)},n.m6=function(t,n){var i=this.l6.get(t);return void 0===i&&(i=new RL(t,n),this.l6.set(t,i)),i},n.k6=function(t){for(var n=[],i=0,e=t.mT;i<e.length;i++){var r=e[i];if(void 0===r.D$)for(var s=0,u=t.V2;s<u.length;s++){var o=u[s];if(BL(r._s,r.E$,o)){var a=new yO(r,this.m6(o.D$));n.push(a)}}else{var h=new yO(r,this.m6(r.D$));n.push(h)}}return n},n.y6=function(t,n){return new yO({_s:t,D$:void 0,E$:"",K_:void 0,Z1:void 0,_i:"",A$:!0,T$:!1,S$:!1,J1:void 0,I$:void 0,K1:void 0},n)},n.p6=function(t,n){var i=n.filter(function(t){return t._s===cx.Cd}),e=n.filter(function(t){return t._s===cx.Pd}),r=t.yz&&(t.yz.gz||t.yz.mz);if((!r||t.yz.gz)&&0===e.length){var s=this.y6(cx.Pd,this.m6(t.D$));n.push(s)}if((!r||t.yz.mz)&&0===i.length){var u=this.y6(cx.Cd,this.m6(t.D$));n.push(u)}t.yz&&t.yz.kz},n.b6=function(t){for(var n=0,i=this.f6;n<i.length;n++)for(var e=0,r=i[n].E0;e<r.length;e++){var s=r[e];if(s===t)return s}},n.A6=function(t){for(var n=0,i=this.f6;n<i.length;n++){var e=i[n];if(e===t)return e}},n.T6=function(t){for(var n=0,i=this.f6;n<i.length;n++){var e=i[n];if(Hs(e.E0,t))return e}},n.Xs=function(){Fs(this.f6),Fs(this.v6),this.l6.clear(),this.d6.Xs()},A(t,[{key:"S6",get:function(){return this.v6}},{key:"p0",get:function(){return this.f6}},{key:"AE",get:function(){return this.d6}}]),t}();function BL(t,n,i){switch(t){case cx.Cd:return i.i2===n;case cx.Pd:return i.o2===n;case cx.wA:return i.u2===n;case cx.Q1:return i.e2===n}return!1}var OL,xL=function(t){function n(n){var i;return(i=t.call(this,OL.E6)||this).Y$=n,i}return S(n,t),n}(_u),LL=function(t){function n(n){var i;return(i=t.call(this,OL.I6)||this).Y$=n,i}return S(n,t),n}(_u),ML=function(t){function n(){return t.call(this,Tf.Mf)||this}return S(n,t),n}(_u),UL="HlsModelUpdater";!function(t){t.E6="R6",t.I6="D6"}(OL||(OL={}));var XL=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).N6=void 0,s.C6=!1,s.P6=void 0,s.B6=void 0,s.O6=Br(),s.qE=n,s.x6=i,s.L6=e,s.rootURI=r,s.N6=new PL(r),s}S(n,t);var e=n.prototype;return e.M6=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.N6.w6){e.next=3;break}throw new v("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");case 3:return this.$s(new RD),e.next=6,Dr.awrap(this.U6(n,{},2,t));case 6:if(_x(i=e.sent)||gx(i)){e.next=9;break}throw new v("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");case 9:return _x(i)||HO.NT(UL,"Detected media playlist only HLS stream."),this.X6(i),e.next=13,Dr.awrap(this.H6(t));case 13:this.C6=!0;case 14:case"end":return e.stop()}},null,this,null,We)},e.F6=function(t,n,i,e){var r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=this.N6.b6(t)){o.next=3;break}throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");case 3:return s={I2:n,b4:i,NA:VL(r)},u=Gt(w.max(1,3*t.b$.z4)),o.prev=5,o.next=8,Dr.awrap(this.z6(r,s,e,u));case 8:o.next=15;break;case 10:throw o.prev=10,o.t0=o.catch(5),nu(o.t0),this.V6(r),o.t0;case 15:case"end":return o.stop()}},null,this,[[5,10]],We)},e.W6=function(t,n){var i=this.N6.b6(t);if(!i)throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var e={I2:void 0,b4:void 0,NA:VL(i)},r=Gt(w.max(1,3*t.b$.z4));return this.z6(i,e,n,r)},e.G6=function(t,n){return this.O6.has(t.j_)||this.O6.set(t.j_,new Wo),eu(this.O6.get(t.j_).Gu,n)},e.V6=function(t){this.$s(new LL(t))},e.z6=function(t,n,e,r){var s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.b$.o0(n),a.prev=1,a.next=4,Dr.awrap(this.U6(s,n,0,e,r));case 4:u=a.sent,a.next=12;break;case 7:throw a.prev=7,a.t0=a.catch(1),nu(a.t0),t.b$.V4=i.wr(),a.t0;case 12:if(gx(u)){a.next=14;break}throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");case 14:a.prev=14,this.X6(u,t),a.next=24;break;case 18:if(a.prev=18,a.t1=a.catch(14),!(a.t1 instanceof mL&&void 0!==n.NA)){a.next=23;break}return o=Nr({},n,{NA:void 0}),a.abrupt("return",this.z6(t,o,e,r));case 23:throw a.t1;case 24:if(!this.P6||t===this.P6||this.P6.b$.F4){a.next=35;break}return a.prev=25,a.next=28,Dr.awrap(this.W6(this.P6,e));case 28:a.next=35;break;case 30:a.prev=30,a.t2=a.catch(25),nu(a.t2),this.P6=t,this.q6();case 35:this.Y6(t);case 36:case"end":return a.stop()}},null,this,[[1,7],[14,18],[25,30]],We)},e.U6=function(t,n,i,e,r){var s,u,o,a=this;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return HO.NT(UL,"Loading HLS playlist at "+t+"."),h.prev=1,h.next=4,Dr.awrap(this.x6.j6([t]));case 4:if(s=h.sent,tu(e),void 0===s){h.next=8;break}return h.abrupt("return",cL(s.responseURL,{},s.data));case 8:h.next=14;break;case 10:h.prev=10,h.t0=h.catch(1),nu(h.t0);case 14:return u={wd:t,hd:Sf.ni,Ud:this.L6,Od:nw.GET,_s:iw.yd,js:e,xd:r},h.next=17,Dr.awrap(Nm(function(){return a.Q6(u)},e,i));case 17:return o=h.sent,h.abrupt("return",cL(o.dd,n,o.zi));case 19:case"end":return h.stop()}},null,this,[[1,10]],We)},e.Q6=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(this.qE.ld(t));case 2:return n=e.sent,e.next=5,Dr.awrap(n.Fl());case 5:return i=e.sent,e.abrupt("return",{zi:i,dd:n.dd});case 7:case"end":return e.stop()}},null,this,null,We)},e.H6=function(t){var n,i,e,r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:tu(t),n=[],i=0,e=this.N6.p0;case 3:if(!(i<e.length)){h.next=26;break}r=e[i],s=0,u=r.E0;case 6:if(!(s<u.length)){h.next=23;break}return o=u[s],h.prev=8,h.next=11,Dr.awrap(this.x6.j6([o.b$.D$]));case 11:a=h.sent,tu(t),void 0===a||o.b$.F4||n.push(this.W6(o,t)),h.next=20;break;case 16:h.prev=16,h.t0=h.catch(8),nu(h.t0);case 20:s++,h.next=6;break;case 23:i++,h.next=3;break;case 26:return h.next=28,Dr.awrap(We.all(n));case 28:case"end":return h.stop()}},null,this,[[8,16]],We)},e.q6=function(){for(var t=0,n=this.N6.p0;t<n.length;t++)for(var i=0,e=n[t].E0;i<e.length;i++){var r=e[i];r!==this.P6&&(void 0!==r.b$.I3&&(r.b$.F4?this.Y6(r):r.b$.B4()))}},e.Y6=function(t){if(0!==t.b$.S1.length){if(!this.P6)return this.P6=t,void this.P6.b$.M4(0,void 0);if(this.Z6(this.P6),!this.Z6(t)&&void 0===t.b$.I3){var n=this.K6(t,this.P6);HO.d0(UL,"Assuming global timeline offset of "+n+"s for rendition "+t.b$.D$+"."),t.b$.M4(n,void 0)}}},e.K6=function(t,n){var i;if(HL(t)){var e=t.b$.S1[0],r=n.b$.S1[0];return HO.d0(UL,"Synchronizing by start of VOD: "+r.ck+" vs "+e.ck),r.ck-e.F3}var s=function(t,n){var i=t.length-1,e=n.length-1;for(;i>=0&&e>=0;){var r=t[i],s=n[e];if(r.Z2>s.Z2)i--;else if(r.Z2<s.Z2)e--;else if(r.q2){if(s.q2)return{segment:r,referenceSegment:s};e--}else i--}return}(t.b$.S1,n.b$.S1);if(void 0!==s){var u=s.segment,o=s.referenceSegment;return HO.d0(UL,"Synchronizing by start of discontinuity #"+o.Z2+": "+o.ck+" vs "+u.ck),o.ck-u.F3}var a=zL(t.b$.S1);if(void 0!==a){var h=zL(n.b$.S1);if(void 0!==h)return HO.d0(UL,"Synchronizing by PDT:",h.j2.toISOString()+" vs "+a.j2.getTime()),h.ck-a.F3-(h.j2.getTime()-a.j2.getTime())/1e3}var c=FL(n),f=FL(t),v=null!=(i=t.b$.I3)?i:0;return HO.d0(UL,"Synchronizing by last segment:",c+" vs "+f),c-f+v},e.Z6=function(t){var n=this.N6.b6(t);if(!n)return!1;if(HL(n))return!1;var i,e,r=(i=n.b$.S1,e=this.N6.AE,Ls(i,function(t){return void 0!==t.gJ&&e.Y4(t.Z2)}));if(void 0===r)return!1;if(n.b$.W4===r.Z2)return!0;var s=this.N6.AE.t6(r.gJ,r).Fk()-r.F3;return HO.d0(UL,"Synchronize by media timestamp: "+s+"s for rendition "+t.b$.D$+"."),n.b$.M4(s,r.Z2),(void 0===this.P6||void 0===this.P6.b$.W4||this.P6.b$.W4<r.Z2)&&(this.P6=n),!0},e.X6=function(t,n){var i;(this.N6.R3(t,n),gx(t)&&n)&&(this.B6=n,this.$s(new xL(n)),null==(i=this.O6.get(n.j_))||i.Qu(),this.O6.delete(n.j_));this.$s(new ML)},e.J6=function(t,n){for(var i=0,e=this.N6.p0;i<e.length;i++){var r=e[i],s=xs(r.A0,function(t){return t.b$===n});void 0!==s&&void 0===t.gz&&r._3(s);var u=xs(r.b0,function(t){return t.b$===n});void 0!==u&&void 0===t.mz&&r._3(u),void 0===s&&void 0===u||(r.yz=(o=r.yz,h=void 0,c=void 0,f=void 0,{mz:null!=(h=(a=t).mz)?h:null==o?void 0:o.mz,gz:null!=(c=a.gz)?c:null==o?void 0:o.gz,kz:null!=(f=a.kz)?f:null==o?void 0:o.kz}))}var o,a,h,c,f},e.Xs=function(){this.ou(),this.N6.Xs(),this.O6.forEach(function(t){return t.Gs()}),this.O6.clear()},A(n,[{key:"t5",get:function(){return this.C6}},{key:"k0",get:function(){return this.N6}},{key:"n5",get:function(){return this.B6}}]),n}(du);function HL(t){return t.b$.J2||t.b$.i3===lx.D2}function FL(t){var n,i=t.b$.S1[t.b$.S1.length-1];return i.ck+(null!=(n=i.nm)?n:i.y3)}function zL(t){return Ls(t,function(t){return void 0!==t.j2})}function VL(t){if(void 0!==t.b$._2&&!t.b$.J2&&!(void 0===t.b$.m3||i.wr()/1e3-t.b$.m3>=t.b$._2/2))return t.b$.g2?_L.W3:_L.V3}var WL=function(){function t(t,n,i){var e=this;this.i5=void 0,this.e5=void 0,this.PD=void 0,this.r5=void 0,this.s5=void 0,this.u5=function(t){e.e5.hlsDateRange&&e.D4(t.Y$)},this.e5=t,this.i5=n,this.PD=i,this.r5=new Bp,this.i5.tu(OL.E6,this.u5)}return t.prototype.D4=function(t){if(0!==t.b$.K2.length){this.s5||(this.s5=this.PD.QE(Pp.gA,void 0,void 0,void 0,void 0,ky.DATE_RANGE),this.r5.B_(this.s5));bL(this.s5,t.b$.K2,function(n){var i;return null!=(i=t.b$.w3(n))?i:NaN})}},A(t,[{key:"Vm",get:function(){return this.r5}}]),t}(),GL=function(t){function n(){return t.call(this,_O.w$)||this}return S(n,t),n}(_u);var qL,YL=function(){function t(t){this.f4=[],this.PV=void 0,this.o5=void 0,this.a5=t}var n=t.prototype;return n.h5=function(t){var n;return null==(n=this.c5(t))?void 0:n.Y$},n.f5=function(t){this.PV=t,this.v5()},n.l5=function(t,n,i,e,r,s){this.f4.push({I2:n,Y$:t,d5:new fS([r,s]),w5:new fS([i,e])}),this.v5()},n.c5=function(t){for(var n=0,i=this.f4;n<i.length;n++){var e=i[n];if(e.w5.TN(t))return e}},n._5=function(t){for(var n=0,i=this.f4;n<i.length;n++){var e=i[n];if(e.I2===t)return e}},n.uW=function(){var t=this.by;t.M_>0&&(this.o5=t.hC(t.M_-1))},n.v5=function(){var t=this.a5.by;this.f4=this.f4.filter(function(n){return 0!==t.kC(n.w5).M_})},A(t,[{key:"g5",get:function(){return this.PV}},{key:"by",get:function(){return t=this.a5.by,n=this.a5.mW,i=n.MC(function(n,i){return t.OC(n,i,!1,!1)}),t.EC(i);var t,n,i}},{key:"S1",get:function(){return this.f4}},{key:"m5",get:function(){return this.o5}}]),t}(),jL=function(){function t(t,n,i,e,r){var s=this;this.a5=void 0,this.y5=void 0,this.k5=void 0,this.Wi=void 0,this.p5=void 0,this.b5=void 0,this.Yc=new Ks,this.A5=fS.qC(),this.T5=function(t){s.b5&&(t?hR(t)&&s.S5?s.p5.$L(s.a5.by.zC)?s.b5.Qu():s.b5.Zu(t):$s(t)?s.b5.Qu():s.b5.Zu(t):s.b5.Qu(),s.b5=void 0)},this.Wi=t,this.k5=i,this.a5=n,this.y5=e,this.p5=r}var n=t.prototype;return n.E5=function(){if(this.I5)throw new v("Cannot perform new operation while BufferAppender is still busy")},n.R5=function(t){this.a5!==t&&(this.E5(),this.a5=t,this.y5=new YL(t))},n.D5=function(){return this.b5?this.b5.Gu:We.resolve()},n.N5=function(t){var n,i,e=this.y5.m5,r=this.y5.by;if(void 0===e)return!1;var s=w.min(t,e);return null!=(n=null==(i=r.wC().RC(this.C5).FC(s))?void 0:i.TN(e))&&n},n.P5=function(t){return this.y5.h5(t)},n.Gs=function(){this.Yc.Gs(),this.Yc=new Ks},n.HV=function(t){var n=this;this.E5(),this.b5=new Wo;var i=function(i){n.k5.B5(t),n.T5(i)};this.FV(t,this.Yc.js).then(i,i)},n.FV=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return HO.d0("Buffering","Appending initializer",mx(t.O5.D$)),i.next=3,Dr.awrap(this.a5.HV(t,n));case 3:HO.d0("Buffering","Appended initializer",mx(t.O5.D$)),this.y5.f5(t);case 5:case"end":return i.stop()}},null,this,null,We)},n.x5=function(t){var n=this;this.E5(),this.b5=new Wo;var i=function(i){n.k5.B5(t),n.T5(i)};this.L5(t,this.Yc.js).then(i,i)},n.L5=function(t,n){var i,e,r,s,u,o,a,h,c,f,l,d,w,_;return Dr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(e=t.Y$,r=t.I2,void 0!==e.b$.w1){g.next=4;break}throw new v("MediaBufferWrapper - Cannot append HLSAsset to "+this.Wi+" MediaBuffer for a HLSRendition with an undefined targetDuration.");case 4:return s=this.y5.by.fC,u=this.a5.by,HO.d0("Buffering","Appending",mx(t.O5.D$)),g.next=9,Dr.awrap(this.a5.MV(t,n));case 9:HO.d0("Buffering","Appended",mx(t.O5.D$),s,this.y5.by.fC),o=t.ck,a=o+t.nm,h=t.O5,c=h.ck,f=h.ck+(null!=(i=h.nm)?i:0),this.y5.l5(e,r,o,a,c,f),l=this.a5.by.RC(u),(d=this.y5._5(r-1))?this.M5(d)?0===l.M_?Boolean(this.U5._5(r))||(w=this.a5.mW.kC(new fS([o,a])),this.A5=this.A5.EC(w)):(this.A5=this.A5.RC(new fS([l.oC(0),a])),l.oC(0)>o&&(this.A5=this.A5.EC(new fS([o,l.oC(0)])))):this.A5=this.A5.RC(new fS([o,a])):0===l.M_?(_=this.a5.mW.kC(new fS([o,a])),this.A5=this.A5.EC(_)):l.oC(0)>o&&(this.A5=this.A5.EC(new fS([o,l.oC(0)]))),t.O5.D3&&this.y5.uW();case 20:case"end":return g.stop()}},null,this,null,We)},n.M5=function(t){var n=t.w5,i=n.oC(0),e=n.hC(n.M_-1),r=n.aC(0),s=n.cC(n.M_-1);return this.A5.NC(i,e,r,s)},A(t,[{key:"_s",get:function(){return this.Wi}},{key:"S5",get:function(){return this.Wi===ry.Cd||this.Wi===ry.Pd}},{key:"U5",get:function(){return this.y5}},{key:"C5",get:function(){return this.A5}},{key:"I5",get:function(){return void 0!==this.b5}}]),t}(),QL=function(){function t(t,n,i){this.X5=void 0,this.H5=t,this.qE=n,this.L6=i}var n=t.prototype;return n.F5=function(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(this.z5(n,e));case 2:return r=s.sent,s.next=5,Dr.awrap(this.H5.F5(t,r,i));case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,We)},n.z5=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if((null==(i=this.X5)?void 0:i.wd)===t){u.next=10;break}return HO.d0("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),u.next=4,Dr.awrap(this.qE.ld({wd:t,hd:Sf.fv,Od:nw.GET,js:n,_s:iw.bd,Ld:ew.Nd,Ud:this.L6}));case 4:return e=u.sent,u.next=7,Dr.awrap(e.Vl());case 7:r=u.sent,s=new y(r),this.X5={wd:t,zi:s};case 10:return u.abrupt("return",this.X5.zi);case 11:case"end":return u.stop()}},null,this,null,We)},t}(),ZL=function(){function t(t,n,i,e,r){void 0===r&&(r=2),this.qE=t,this.x6=n,this.V5=i,this.L6=e,this.W5=r}var n=t.prototype;return n.ld=function(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(this.G5(t,n,i,Sf.fv,e));case 2:return r=s.sent,s.t0=y,s.next=6,Dr.awrap(r.Vl(e));case 6:return s.t1=s.sent,s.abrupt("return",new s.t0(s.t1));case 8:case"end":return s.stop()}},null,this,null,We)},n.q5=function(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(this.G5(t,n,i,Sf.wv,e));case 2:return r=s.sent,s.abrupt("return",r.Wl(e));case 4:case"end":return s.stop()}},null,this,null,We)},n.G5=function(t,n,i,e,r){var s,u,o,a,h=this;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return t.E1&&0===(s=wx(t.E1.oC,t.E1.M_))[0]&&s[1]===xt&&(s=void 0),u=s?{Range:"bytes="+s[0]+"-"+s[1]}:void 0,o=new uw({wd:t.Ti,hd:e,od:u,Ud:this.L6,Od:nw.GET,_s:n,Ld:i,Md:this.V5,js:r}),c.prev=3,c.next=6,Dr.awrap(this.x6.Y5(t.Ti,s));case 6:if(a=c.sent,tu(r),void 0===a){c.next=10;break}return c.abrupt("return",new sw({ld:o,zi:a.buffer}));case 10:c.next=16;break;case 12:c.prev=12,c.t0=c.catch(3),nu(c.t0);case 16:return c.next=18,Dr.awrap(Nm(function(){return eu(h.qE.ld(o),o.js)},r,this.W5));case 18:return c.abrupt("return",c.sent);case 19:case"end":return c.stop()}},null,this,[[3,12]],We)},t}(),KL=function(){function t(t,n){this.i5=void 0,this.j5=void 0,this.Q5=void 0,this.Z5=new Ks,this.Cq=-1/0,this.K5=!1,this.i5=t,this.j5=n,this.J5()}var n=t.prototype;return n.t8=function(){return this.j5.b$.w2},n.n8=function(t,n,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.t8()){r.next=2;break}throw new v("Could not perform blocking playlist update.");case 2:return r.prev=2,r.next=5,Dr.awrap(this.i8());case 5:return tu(e),r.next=8,Dr.awrap(this.i5.F6(this.j5,t,n,e));case 8:this.Cq=i.wr(),r.next=15;break;case 11:throw r.prev=11,r.t0=r.catch(2),$s(r.t0)&&this.J5(),r.t0;case 15:this.J5();case 16:case"end":return r.stop()}},null,this,[[2,11]],We)},n.e8=function(t){return this.i5.G6(this.j5,t)},n.J5=function(){var t=this;if(!this.Q5&&!this.K5){var n=function(){t.Q5=void 0};this.Q5=this.r8(this.Z5.js).then(n,n)}},n.i8=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Q5){t.next=6;break}return this.Z5.Gs(),this.Z5=new Ks,t.next=5,Dr.awrap(this.Q5.catch(K));case 5:this.Q5=void 0;case 6:case"end":return t.stop()}},null,this,null,We)},n.r8=function(t){var n,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.j5.b$.J2||!this.j5.b$.F4){r.next=3;break}return r.abrupt("return");case 3:if(n=i.wr()-this.Cq,e=1e3*this.j5.b$.z4,!(n<e)){r.next=8;break}return r.next=8,Dr.awrap(cu(e-n,t));case 8:return r.prev=8,r.next=11,Dr.awrap(this.i5.W6(this.j5,t));case 11:r.next=18;break;case 13:throw r.prev=13,r.t0=r.catch(8),nu(r.t0),this.i5.V6(this.j5),r.t0;case 18:this.Cq=i.wr(),r.next=0;break;case 21:case"end":return r.stop()}},null,this,[[8,13]],We)},n.Xs=function(){this.K5=!0,au(this.i8())},t}();!function(t){t[t.N2=0]="N2",t[t.C2=1]="C2",t[t.kd=2]="kd",t[t.pd=3]="pd"}(qL||(qL={}));var JL="AssetExtractor",$L=function(){function t(){this.s8=[]}var n=t.prototype;return n.u8=function(t,n,i){for(var e=n,r=0,s=this.s8;r<s.length;r++){var u=s[r];if(e>=t)return!0;if(e<u.oC)return!1;if(e<u.hC){if(i<=u.hC)return!0;e=u.hC}}return e>=t},n.o8=function(t,n){for(var i=[],e=0;e<this.s8.length;e+=1){var r=this.s8[e],s=t-r.oC,u=r.zi.length,o=w.min(u,w.max(s,0)),a=w.max(0,n+s),h=Xo(r.zi,o,a);h.length&&(e=this.a8(e,r,t,o,a),i.push(h))}return i},n.h8=function(t,n){this.s8.push({oC:t,hC:t+n.length,zi:n})},n.a8=function(t,n,i,e,r){var s=t;this.s8.splice(s,1),s-=1,n.oC<i&&(s+=1,this.s8.splice(s,0,{oC:n.oC,hC:i,zi:Xo(n.zi,0,e)}));var u=i+r-e;return u<n.hC&&(s+=1,this.s8.splice(s,0,{oC:u,hC:n.hC,zi:Xo(n.zi,r)})),s},t}(),tM=function(){function t(t,n){this.Rv=void 0,this.c8=n,this.Rv=t.getReader()}var n=t.prototype;return n.f8=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.Rv.read());case 2:if(!(t=n.sent).done){n.next=6;break}throw this.c8=1/0,new v("No more data can be read from the given stream.");case 6:return this.c8+=t.value.length,n.abrupt("return",t.value);case 8:case"end":return n.stop()}},null,this,null,We)},n.v8=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.Rv.cancel(t));case 2:case"end":return n.stop()}},null,this,null,We)},A(t,[{key:"l8",get:function(){return this.c8}}]),t}(),nM=function(){function t(t,n,i,e){this.N3=void 0,this.Rv=void 0,this.d8=void 0,this.w8=void 0,this._8=void 0,this.g8=void 0,this.m8=new Wo,this.N3=t,this.Rv=n,this.d8=i,this.w8=e,this._8=new Wo,this.g8=new Wo}var n=t.prototype;return n.y8=function(){this.g8.Qu(),this.g8=new Wo},n.k8=function(t){var n=eM(this.N3.E1),i=n.p8,e=n.b8,r=this.d8.o8(i,e-i);HO.d0(JL,"Collected "+r.length+" chunks.");for(var s=0;s<r.length;s++){var u=r[s];t.enqueue(u)}},n.readAndSliceOutAssetBytes=function(t){var n,i,e,r,s,u,o,a,h,c,f,v,l;return Dr.async(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Dr.awrap(this._8.Gu);case 2:n=eM(this.N3.E1),i=n.p8,e=n.b8,d.prev=3;case 4:return r=this.Rv.l8,d.next=8,Dr.awrap(this.Rv.f8());case 8:if(s=d.sent,u=s.length,HO.d0(JL,"Read "+u+" at "+r+" for extraction of "+mx(this.N3)),o=w.min(r+u,i),!((a=o-r)>0)){d.next=25;break}if(h=Xo(s,0,a),c=Xo(s,a),HO.d0(JL,"Of the read "+u+" bytes, the first "+a+" will be stored locally for extraction of "+mx(this.N3)),this.d8.h8(r,h),!(c.length>0)){d.next=23;break}return HO.d0(JL,"Extracting "+c.length+" bytes for extraction of "+mx(this.N3)),t.enqueue(c),this.y8(),d.abrupt("return",au(this.readAndSliceOutAssetBytes(t)));case 23:d.next=46;break;case 25:if(!(r+u<=e)){d.next=33;break}return HO.d0(JL,"Extracting the read data range for extraction of "+mx(this.N3)),t.enqueue(s),this.y8(),d.abrupt("return",au(this.readAndSliceOutAssetBytes(t)));case 33:if(v=Xo(s,0,f=e-r),l=Xo(s,f),v.length>0&&(HO.d0(JL,"Extracting "+v.length+" bytes for extraction of "+mx(this.N3)),t.enqueue(v)),HO.d0(JL,"Of the read "+u+" bytes, the last "+l.length+" will be stored locally for extraction of "+mx(this.N3)),this.d8.h8(r+f,l),HO.d0(JL,"Extraction of "+mx(this.N3)+" completed as the entire request has been fulfilled."),this.A8(t),!this.w8){d.next=45;break}return HO.d0(JL,"Aborting stream upstream as no more bytes are needed from "+mx(this.N3)+"."),d.next=45,Dr.awrap(this.Rv.v8("AssetExtraction - AbortOnEnd"));case 45:return d.abrupt("return");case 46:d.next=4;break;case 48:d.next=54;break;case 50:d.prev=50,d.t0=d.catch(3),HO.d0(JL,"Extraction of "+mx(this.N3)+" completed as the entire source stream has been read."),this.A8(t);case 54:case"end":return d.stop()}},null,this,[[3,50]],We)},n.A8=function(t){t.close(),this.y8(),this.m8.Qu()},n.start=function(t){HO.d0(JL,"Preparing to push all collected data to controller for extraction of "+mx(this.N3)),this.k8(t),HO.d0(JL,"Collected data pushed to controller for extraction of "+mx(this.N3));var n=eM(this.N3.E1).b8;this.Rv.l8>=n?(HO.d0(JL,"Extraction of "+mx(this.N3)+" completed as the entire request has been fulfilled."),this.A8(t)):(HO.d0(JL,"Continuing read from original stream for extraction of "+mx(this.N3)),au(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this._8.Qu(),this._8=new Wo,this.g8.Gu},A(t,[{key:"T8",get:function(){return this.m8.Gu}}]),t}(),iM=function(){function t(t,n){this.d8=void 0,this.S8=void 0,this.E8=void 0,this.N3=n;var i=eM(this.N3.E1).p8;this.S8=new tM(t,i),this.d8=new $L}var n=t.prototype;return n.Fy=function(t){if(!yx(this.N3,t))return!1;var n=eM(t.E1),i=n.p8,e=n.b8;return this.d8.u8(this.S8.l8,i,e)},n.I8=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0===n&&(n=!1),i=this.S8,e=this.d8,HO.NT(JL,"Extracting data from "+mx(t)+" out of "+mx(this.N3)),!this.E8){s.next=8;break}return HO.d0(JL,"Awaiting previous extraction before extracting "+mx(t)+" out of "+mx(this.N3)),s.next=8,Dr.awrap(this.E8);case 8:if(this.Fy(t)){s.next=10;break}throw new v("The extractor does not contain the data requested");case 10:return r=new nM(t,i,e,n),this.E8=r.T8,s.abrupt("return",new cd(r));case 13:case"end":return s.stop()}},null,this,null,We)},t}();function eM(t){if(t){var n=t.oC;return{p8:n,b8:void 0!==t.M_?n+t.M_:xt}}return{p8:0,b8:xt}}var rM,sM=function(){function t(t,n){this.Yc=new Ks,this.R8=void 0,this.N3=t,this.D8=n,this.R8=this.Jh()}var n=t.prototype;return n.Jh=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.D8.q5(this.N3,iw.pd,ew.md,this.Yc.js));case 2:return t=n.sent,n.abrupt("return",new iM(t,this.N3));case 4:case"end":return n.stop()}},null,this,null,We)},n.Fy=function(t){return yx(this.N3,t)},n.I8=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!1),e.next=3,Dr.awrap(this.R8);case 3:return i=e.sent,e.next=6,Dr.awrap(eu(i.I8(t,n),this.Yc.js));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},null,this,null,We)},n.Gs=function(){this.R8.catch(K),this.Yc.Gs()},t}(),uM=function(t){function n(n,i,e){var r;return(r=t.call(this,rM.C8)||this).N8=n,r.Md=i,r.P8=e,r}return S(n,t),n}(_u),oM="HlsPlaylistDownloader";!function(t){t.C8="segmentdownloaded"}(rM||(rM={}));var aM=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return(c=t.call(this)||this).Wi=void 0,c.i5=void 0,c.k5=void 0,c.D8=void 0,c.B8=void 0,c.ZL=void 0,c.j5=void 0,c.O8=void 0,c.x8=void 0,c.L8=void 0,c.M8=new Ks,c.U8=void 0,c.X8=void 0,c.H8=void 0,c.F8=void 0,c.z8=function(t){c.x8&&(c.j5=c.x8,c.x8=void 0,c.U8=void 0,c.X8=void 0),c.L8&&(t&&!$s(t)?c.L8.Zu(t):c.L8.Qu(),c.L8=void 0)},c.Wi=n,c.i5=e,c.k5=r,c.j5=i,c.O8=new KL(e,i),c.B8=new QL(o,s,a),c.D8=new ZL(s,u,function(t){switch(t){case cx.Pd:return rw.Pd;case cx.Cd:return rw.Cd;case cx.wA:case cx.Q1:return rw.ni;default:return rw.md}}(i._s),a),c.ZL=h,c}S(n,t);var e=n.prototype;return e.V8=function(t){this.O8.Xs(),this.O8=new KL(this.i5,t),this.I5?this.x8=t:(this.j5=t,this.U8=void 0,this.X8=void 0)},e.D5=function(){return this.L8?this.L8.Gu:We.resolve()},e.W8=function(){return this.k5.W8()},e.G8=function(t){this.k5.G8(t)},e.Gs=function(){var t,n;this.M8.Gs(),this.M8=new Ks,null==(t=this.F8)||t.Gs(),null==(n=this.H8)||n.Gs(),this.F8=void 0,this.H8=void 0,this.U8=void 0,this.X8=void 0},e.Xs=function(){this.O8.Xs()},e.q8=function(t){var n=this.j5.b$.T4(t);if(!n)return!1;if(void 0!==this.U8){var i=n.I2===this.U8;return void 0!==this.X8?n.M3(t)===n.L3(this.X8)&&i:i}return!1},e.Y8=function(t){var n;if(void 0===this.U8)n=this.j8(t);else if(n=this.Q8(this.U8,this.X8)){var i=n,e=i[0],r=i[1],s=(null!=r?r:e).ck,u=3*this.Y$.b$.w1;w.abs(s-t)>=u&&(n=this.j8(t))}if(n){var o=n,a=o[0],h=o[1];return 0===(null==h?void 0:h.S3)&&void 0!==a.nm?[a,void 0]:[a,h]}},e.j8=function(t){var n,i,e,r=this.j5.b$.S1;if(0!==r.length){var s=r[r.length-1];if(s.ck+(null!=(n=s.nm)?n:s.y3)<=t)i=s,e=s.X3(t);else if(r[0].ck>t)e=(i=r[0]).L3(0);else{var u;e=null==(u=i=this.j5.b$.T4(t))?void 0:u.X3(t)}return i?[i,e]:void 0}},e.Q8=function(t,n){var i,e,r;if((i=this.j5.b$.A4(t))&&void 0!==n){if(0===i.G2.length)return[i,void 0];e=i.L3(n+1)}void 0!==i&&void 0!==e||(e=null==(r=i=this.j5.b$.A4(t+1))?void 0:r.L3(0));return i?[i,e]:void 0},e.E5=function(){if(this.I5)throw new v("Cannot perform new operation while PlaylistDownloader is still busy")},e.Z8=function(t){this.E5(),this.L8=new Wo,this.K8(t,this.M8.js).then(this.z8,this.z8)},e.J8=function(){this.O8.J5()},e.K8=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=this.Y8(t))||!this.O8.t8()||void 0===this.U8){e.next=5;break}return e.next=4,Dr.awrap(this.O8.n8(void 0===this.X8?this.U8+1:this.U8,void 0!==this.X8?this.X8+1:void 0,n));case 4:i=this.Y8(t);case 5:if(i||!this.O8.t8()||void 0===this.U8){e.next=9;break}return e.next=8,Dr.awrap(this.O8.n8(this.U8+1,0,n));case 8:i=this.Y8(t);case 9:if(i){e.next=16;break}return HO.NT(oM,"No next segment / part available, need to update playlist before continuing."),e.next=13,Dr.awrap(this.O8.e8(n));case 13:i=this.Y8(t),e.next=9;break;case 16:case"end":return e.stop()}},null,this,null,We)},e.t9=function(){return this.k5.n9()},e.i9=function(){this.E5();try{var t=this.j5.b$.E4(fx.N2);t&&this.e9(t);var n=this.j5.b$.E4(fx.C2);n&&this.r9(n)}catch(t){throw nu(t),this.Y$.b$.V4=i.wr(),this.i5.V6(this.Y$),t}},e.e9=function(t){this.H8&&!this.H8.Fy(t.D$)&&(this.H8.Gs(),this.H8=void 0),this.H8||(this.H8=new sM(t.D$,this.D8))},e.r9=function(t){this.F8&&!this.F8.Fy(t.D$)&&(this.F8.Gs(),this.F8=void 0),this.F8||(this.F8=new sM(t.D$,this.D8))},e.s9=function(t,n,e){var r=this;this.E5(),HO.NT(oM,"Starting download of segment "+mx(t.D$)+" and part "+(null==n?void 0:n.S3)),this.L8=new Wo,this.u9(t,n,e,this.M8.js).catch(function(t){throw nu(t),r.Y$.b$.V4=i.wr(),r.i5.V6(r.Y$),t}).then(this.z8,this.z8)},e.u9=function(t,n,i,e){var r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(u=0,!t.Y2){o.next=7;break}if(i&&kx(i.O5.D$,t.Y2.D$)&&t.Z2===i.Z2){o.next=7;break}return o.next=5,Dr.awrap(this.o9(t.Y2,t,e));case 5:s=o.sent,u=s.Y2.zi.zi.byteLength;case 7:if(s){o.next=12;break}return o.next=10,Dr.awrap(this.a9(t,n,e));case 10:s=o.sent,u=s.h9.zi.zi.byteLength;case 12:this.k5.c9(s),this.$s(new uM(s._s,this.Wi,u)),HO.d0("Buffering","Download complete",mx(null!=(r=null==n?void 0:n.D$)?r:t.D$));case 15:case"end":return o.stop()}},null,this,null,We)},e.a9=function(t,n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!n){o.next=26;break}if(!this.F8){o.next=19;break}if(!this.F8.Fy(n.D$)){o.next=17;break}return o.next=5,Dr.awrap(this.F8.I8(n.D$));case 5:return r=o.sent,o.t0=y,o.next=9,Dr.awrap(Ld(r,i));case 9:return o.t1=o.sent,s=new o.t0(o.t1),o.next=13,Dr.awrap(this.F5(s,n.z2,i));case 13:u=o.sent,e=fM(n,u),o.next=19;break;case 17:this.F8.Gs(),this.F8=void 0;case 19:if(e){o.next=24;break}return HO.d0("Buffering","Start download",mx(n.D$)),o.next=23,Dr.awrap(this.f9(n,i));case 23:e=o.sent;case 24:o.next=30;break;case 26:return HO.d0("Buffering","Start download",mx(t.D$)),o.next=29,Dr.awrap(this.v9(t,i));case 29:e=o.sent;case 30:return this.U8=t.I2,this.X8=null==n?void 0:n.S3,o.abrupt("return",{_s:"h9",I2:t.I2,h9:e,Y$:this.j5,Z2:t.Z2});case 33:case"end":return o.stop()}},null,this,null,We)},e.o9=function(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.H8){a.next=17;break}if(!this.H8.Fy(t.D$)){a.next=14;break}return a.next=4,Dr.awrap(eu(this.H8.I8(t.D$),i));case 4:return s=a.sent,a.t0=y,a.next=8,Dr.awrap(Ld(s,i));case 8:return a.t1=a.sent,u=new a.t0(a.t1),a.next=12,Dr.awrap(this.F5(u,t.W2?[t.W2]:[],i));case 12:o=a.sent,e=hM(t,n,o);case 14:HO.NT(oM,"MAP is required for segment, downloading MAP data."),null==(r=this.H8)||r.Gs(),this.H8=void 0;case 17:if(e){a.next=22;break}return HO.d0("Buffering","Start download",mx(t.D$)),a.next=21,Dr.awrap(this.l9(t,n,i));case 21:e=a.sent;case 22:return a.abrupt("return",{_s:"Y2",Y2:e,ck:n.ck,Z2:n.Z2,z2:n.z2});case 23:case"end":return a.stop()}},null,this,null,We)},e.l9=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(this.D8.ld(t.D$,iw.kd,ew.Ad,i));case 2:return e=u.sent,r=t.W2?[t.W2]:[],u.next=6,Dr.awrap(this.F5(e,r,i));case 6:return s=u.sent,u.abrupt("return",hM(t,n,s));case 8:case"end":return u.stop()}},null,this,null,We)},e.v9=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.D$){r.next=2;break}throw new v("Internal error: attempted to download an incomplete segment");case 2:return r.next=4,Dr.awrap(this.D8.ld(t.D$,iw.kd,ew.md,n));case 4:return i=r.sent,r.next=7,Dr.awrap(this.F5(i,t.z2,n));case 7:return e=r.sent,r.abrupt("return",cM(t,e));case 9:case"end":return r.stop()}},null,this,null,We)},e.f9=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.D8.ld(t.D$,iw.kd,ew.md,n));case 2:return i=r.sent,r.next=5,Dr.awrap(this.F5(i,t.z2,n));case 5:return e=r.sent,r.abrupt("return",fM(t,e));case 7:case"end":return r.stop()}},null,this,null,We)},e.F5=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(e=xs(n,function(t){return t.Od===vx.h2})){r.next=3;break}return r.abrupt("return",t);case 3:if(e.D$&&e.c2){r.next=6;break}return HO.Au(oM,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),r.abrupt("return",t);case 6:return r.next=8,Dr.awrap(this.B8.F5(t,e.D$,e.c2,i));case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}},null,this,null,We)},A(n,[{key:"I5",get:function(){return void 0!==this.L8}},{key:"Y$",get:function(){var t;return null!=(t=this.x8)?t:this.j5}},{key:"d9",get:function(){if(!this.j5.b$.J2)return!1;if(void 0===this.U8)return!1;var t=this.j5.b$.S1[this.j5.b$.S1.length-1];return t.I2===this.U8&&!(this.X8&&this.X8!==t.G2.length-1)}}]),n}(du);function hM(t,n,i){return{zi:{zi:i,_s:DD.yH},_s:qL.N2,O5:t,Z2:n.Z2}}function cM(t,n){return{zi:{zi:n,_s:DD.yH},_s:qL.kd,O5:t,Z2:t.Z2}}function fM(t,n){return{zi:{zi:n,_s:DD.yH},_s:qL.C2,O5:t,Z2:t.T3.Z2}}var vM,lM=function(){function t(){this.w9=[],this._9=Pr(),this.g9=void 0,this.m9=void 0}var n=t.prototype;return n.c9=function(t){"Y2"===t._s&&(this.m9=t.Y2),this.w9.push(t),this.g9&&(this.g9.Qu(),this.g9=void 0)},n.W8=function(){return this.w9[0]},n.G8=function(t){Us(this.w9,t)},n.n9=function(){return null!=this.g9||(this.g9=new Wo),this.g9.Gu},n.y9=function(t){this.k9(t.s6).y9(t)},n.p9=function(t){return this.k9(t).p9()},n.B5=function(t){this.k9(t.s6).B5(t)},n.b9=function(t){var n;null==(n=this._9.get(t))||n.Xs()},n.A9=function(t){return this.k9(t).A9()},n.k9=function(t){if(this._9.has(t))return this._9.get(t);var n=new dM;return this._9.set(t,n),n},n.Ou=function(){this.T9(),this.S9()},n.T9=function(){this.m9=void 0,Fs(this.w9)},n.S9=function(){this._9.forEach(function(t){return t.Ou()})},n.Xs=function(){this._9.forEach(function(t){return t.Xs()}),this._9.clear(),this.Ou(),this.g9&&(this.g9.Zu(new Js),this.g9=void 0)},A(t,[{key:"g5",get:function(){return this.m9}},{key:"E9",get:function(){for(var t=fS.qC(),n=0,i=this.w9;n<i.length;n++){var e=i[n];if("h9"===e._s){var r,s=e.h9.O5;t=t.EC(new fS([s.ck,s.ck+(null!=(r=s.nm)?r:0)]))}}return t}},{key:"I9",get:function(){var t=fS.qC();return this._9.forEach(function(n){t=t.EC(n.I9)}),t}}]),t}(),dM=function(){function t(){this.R9=[],this.D9=void 0}var n=t.prototype;return n.y9=function(t){this.R9.push(t),this.D9&&(this.D9.Qu(),this.D9=void 0)},n.p9=function(){return this.R9[0]},n.B5=function(t){Us(this.R9,t)},n.A9=function(){return null!=this.D9||(this.D9=new Wo),this.D9.Gu},n.Ou=function(){Fs(this.R9)},n.Xs=function(){this.Ou(),this.D9&&(this.D9.Zu(new Js),this.D9=void 0)},A(t,[{key:"I9",get:function(){for(var t=fS.qC(),n=0,i=this.R9;n<i.length;n++){var e=i[n];"h9"===e._s&&(t=t.EC(new fS([e.ck,e.ck+e.nm])))}return t}}]),t}(),wM=function(){function t(t,n){this.N9=void 0,this.d6=void 0,this.C9=fS.qC(),this.N9=t,this.d6=n}var n=t.prototype;return n.HV=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=t.zi.zi,this.P9(i),this.N9._s!==ky.TTML){u.next=8;break}if(this.d6.Y4(t.Z2)){u.next=6;break}return u.next=6,Dr.awrap(eu(this.d6.j4(t.Z2),n));case 6:for(e=this.B9(i,t.Z2),r=0;r<e.length;r++)s=e[r],this.N9.KE(s);case 8:case"end":return u.stop()}},null,this,null,We)},n.MV=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t.zi){r.next=2;break}return r.abrupt("return");case 2:if(i=t.ck,e=i+t.nm,this.C9=this.C9.EC(new fS([i,e])).SC(1e-6),this.d6.Y4(t.Z2)){r.next=8;break}return r.next=8,Dr.awrap(eu(this.d6.j4(t.Z2),n));case 8:this.XV(t.zi.zi,t.Z2,t.O5);case 9:case"end":return r.stop()}},null,this,null,We)},n.XV=function(t,n,i){this.P9(t);for(var e=0,r=this.N9._s===ky.WEBVTT?this.O9(t,i):this.B9(t,n);e<r.length;e++){var s=r[e];this.N9.KE(s)}},n.O9=function(t,n){for(var i,e,r=(void 0===e&&(e=_k),Sk(Po(xo(t),new zo),e)),s=r._g,u=null!=(i=r.kb)?i:{pb:rk.ap,bb:rk.ap},o=0;o<s.length;o++){var a=s[o],h=rk.Gp(a.ck).Jk(u.bb).Hy(u.pb),c=this.d6.t6(h,n).Fk(),f=c+(a.fk-a.ck);a.ck=c,a.fk=f}return s},n.B9=function(t,n){var i=this.d6.J4(n).Fk();return yp(t,this.N9,{wb:0,_b:1/0,gb:i},Dc.APPLICATION_MP4)},n.P9=function(t){this.N9._s===ky.DEFAULT&&(this.N9._s=this.x9(t)?ky.WEBVTT:ky.TTML)},n.x9=function(t){return Lk(Po(Oo(xo(t),0,w.min(t.byteLength,7)),new zo))},n.vW=function(t,n){},n.lW=function(t,n){},A(t,[{key:"by",get:function(){return this.C9}},{key:"mW",get:function(){return fS.qC()}}]),t}(),_M=function(t){function n(n,i){var e;return(e=t.call(this,vM.L9)||this).Y$=n,e.yz=i,e}return S(n,t),n}(_u),gM=function(t){function n(n){var i;return(i=t.call(this,vM.M9)||this).Y$=n,i}return S(n,t),n}(_u);!function(t){t.L9="U9",t.M9="X9"}(vM||(vM={}));var mM=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).j5=void 0,s.k5=void 0,s.d6=void 0,s.H9=void 0,s.F9=void 0,s.Yc=new Ks,s.z9=function(t){s.F9&&(t&&!$s(t)?s.F9.Zu(t):(s.F9.Qu(),s.F9=void 0))},s.j5=n,s.k5=i,s.d6=e,s.H9=r,s}S(n,t);var i=n.prototype;return i.V8=function(t){this.j5!==t&&(this.Gs(),this.j5=t)},i.V9=function(t){for(var n=0,i=this.H9;n<i.length;n++){var e=i[n];Hs(t,e)||this.k5.b9(e)}this.H9=t},i.D5=function(){var t,n;return null!=(t=null==(n=this.F9)?void 0:n.Gu)?t:We.resolve()},i.E5=function(){if(this.I5)throw new v("Cannot perform new operation while transmuxer is still busy")},i.W9=function(t){var n=this;this.E5(),this.F9=new Wo;var i=function(i){n.k5.G8(t),n.z9(i)};this.G9(t,this.Yc.js).then(i,i)},i.q9=function(t){var n=this;this.E5(),this.F9=new Wo;var i=function(i){n.k5.G8(t),n.z9(i)};this.Y9(t,this.Yc.js).then(i,i)},i.j9=function(t){this.$s(new _M(this.j5,t))},i.Q9=function(){this.$s(new gM(this.j5))},i.y9=function(t){Hs(this.H9,t.s6)&&this.k5.y9(t)},i.Z9=function(t){return this.k5.p9(t)},i.B5=function(t){this.k5.B5(t)},i.K9=function(t){return this.k5.A9(t)},i.Gs=function(){this.Yc.Gs(),this.Yc=new Ks},A(n,[{key:"Y$",get:function(){return this.j5}},{key:"J9",get:function(){return this.H9}},{key:"I5",get:function(){return void 0!==this.F9}}]),n}(du);function yM(t){return function(t){return wL(t)?t.z3:0===t.S3&&t.T3.z3}(t)?0:t.ck}var kM=function(t){function n(n,i,e,r){return t.call(this,n,i,e,[r])||this}S(n,t);var i=n.prototype;return i.G9=function(t,n){tu(n);var i={_s:"t7",zi:t.Y2.zi,s6:this.J9[0],Z2:t.Z2,n7:{yz:"",z2:t.z2},ck:t.ck,Y$:this.Y$,O5:t.Y2.O5};return this.y9(i),We.resolve()},i.Y9=function(t,n){var i;tu(n);var e=t.h9.O5,r={_s:"h9",zi:t.h9.zi,s6:this.J9[0],I2:t.I2,i7:yM(e),ck:e.ck,nm:null!=(i=e.nm)?i:0,gb:0,Z2:t.Z2,Y$:t.Y$,O5:t.h9.O5};return this.y9(r),We.resolve()},n}(mM),pM=function(){function t(t,n,i,e){this.e7=[],this.r7=t,this.k5=n,this.s7=i,this.sP=e}var n=t.prototype;return n.V8=function(t){this.r7.V8(t)},n.u7=function(t){for(var n=this,i=t.slice(),e=function(t){var e=n.e7[t];if(!e.S5)throw new v("Invalid state");var r=Ms(i,function(t){return t._s===e._s});r>=0?(e.R5(i[r]),Xs(i,r)):Xs(n.e7,t)},r=this.e7.length-1;r>=0;r--)e(r);for(var s=0;s<i.length;s++){var u=i[s],o=new YL(u);this.e7.push(new jL(u._s,u,this.k5,o,this))}i.length>0&&this.k5.Ou();var a=t.map(function(t){return t._s});this.s7.V9(a)},n.$L=function(t){var n,i=(null==(n=this.sP)?void 0:n.$L(t))||!1;return i&&(this.Gs(),this.o7.Ou()),i},n.a7=function(t){for(var n=0,i=this.e7;n<i.length;n++){var e=i[n];if(e._s!==ry.ni||e.I5)throw new v("Invalid state")}var r=new YL(t),s=new jL(ry.ni,t,this.k5,r,this);this.e7=[s]},n.h7=function(){for(var t=0,n=this.e7;t<n.length;t++){n[t].U5.v5()}},n.c7=function(t){var n=this.f7.FC(t,.001);return n?n.hC(n.M_-1):t},n.q8=function(t){return!!this.f7.FC(t,.001)||this.r7.q8(t)},n.v7=function(t){return this.l7.TN(t,.001)},n.d7=function(t,n,i){for(var e=0,r=this.e7;e<r.length;e++){var s=r[e].U5,u=s.m5;if(void 0!==u&&n>=u)return!s.by.wC().TN(u)}return n-t<i},n.Gs=function(){this.w7(),this._7()},n.w7=function(){this.g7.Gs()},n._7=function(){this.m7.Gs(),this.y7.forEach(function(t){return t.Gs()})},n.Xs=function(){this.Gs(),this.g7.Xs()},A(t,[{key:"y7",get:function(){return this.e7}},{key:"g7",get:function(){return this.r7}},{key:"m7",get:function(){return this.s7}},{key:"o7",get:function(){return this.k5}},{key:"Y$",get:function(){return this.r7.Y$}},{key:"g5",get:function(){var t=this.k5.g5;if(t)return t;if(this.e7.length>0){var n=this.e7[0].U5.g5;if(n&&this.e7.every(function(t){return t.U5.g5===n}))return n}}},{key:"f7",get:function(){if(0===this.e7.length)return fS.qC();for(var t=this.k5.E9.EC(this.k5.I9).wC(),n=new fS([0,1/0]),i=0,e=this.e7;i<e.length;i++){for(var r=e[i],s=r.U5.by,u=r.U5.S1,o=r.C5,a=0;a<u.length;a++)for(var h=u[a],c=h.d5.RC(h.w5),f=0;f<c.M_;f++)t.OC(c.oC(f),c.hC(f),!0,!0)&&(s=s.EC(c.HC(f)));n=n.kC(s).RC(o)}return n=n.EC(t)}},{key:"l7",get:function(){if(0===this.e7.length)return fS.qC();for(var t=this.k5.I9.wC(),n=new fS([0,1/0]),i=0,e=this.e7;i<e.length;i++){for(var r=e[i],s=r.U5.by,u=r.U5.S1,o=0;o<u.length;o++)for(var a=u[o],h=a.d5.RC(a.w5),c=0;c<h.M_;c++)t.OC(h.oC(c),h.hC(c),!0,!0)&&(s=s.EC(h.HC(c)));n=n.kC(s)}return n=n.EC(t)}}]),t}();var bM=function(t){function n(){return t.call(this,_O.m$)||this}return S(n,t),n}(_u),AM=function(t){function n(){return t.call(this,_O._$)||this}return S(n,t),n}(_u),TM=function(t){function i(n,i){var e;return(e=t.call(this)||this).Oc=void 0,e.a5=void 0,e.k7=new Wo,e.YL=fR,e.p7=!1,e.jL=sR,e.hW=new BD,e.Wi=n,e.b7=i,e}S(i,t);var e=i.prototype;return e.dH=function(){return this.a5?this.a5.dH():this.p7},e.vW=function(t,n){HO.d0("LazyMediaBuffer","Marking gap from "+t+" to "+n+"."),this.hW.SH(t,n),this.a5&&this.a5.vW(t,n)},e.lW=function(t,n){HO.d0("LazyMediaBuffer","Removing gap from "+t+" to "+n+"."),this.hW.EH(t,n),this.a5&&this.a5.lW(t,n)},e.A7=function(t){this.a5=t,this.a5.VL=this.jL,this.a5.XL=this.YL;for(var n,i=this.hW.IH,e=0;e<i.M_;e++)this.a5.vW(i.oC(e),i.hC(e));this.p7&&(HO.d0("LazyMediaBuffer","End of stream"),null==(n=this.a5)||n.uW());this.a5.tu(TD.gH,this.Js),this.k7.Qu(t)},e.T7=function(t){return eu(this.k7.Gu,t)},e.MV=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.T7(i));case 2:return e=r.sent,r.next=5,Dr.awrap(e.MV(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.dW=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.T7());case 2:return t=n.sent,n.next=5,Dr.awrap(t.dW());case 5:case"end":return n.stop()}},null,this,null,We)},e.HV=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.T7(i));case 2:return e=r.sent,r.next=5,Dr.awrap(e.HV(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.$h=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.T7(i));case 2:return e=r.sent,r.next=5,Dr.awrap(e.$h(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.jV=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(this.T7());case 2:return i=e.sent,e.next=5,Dr.awrap(i.jV(t,n));case 5:case"end":return e.stop()}},null,this,null,We)},e.uW=function(){this.p7=!0,this.a5&&this.a5.uW()},e.rH=function(t){return!!this.a5&&this.a5.rH(t)},e.sH=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.T7());case 2:return n=i.sent,i.next=5,Dr.awrap(n.sH(t));case 5:case"end":return i.stop()}},null,this,null,We)},e.$c=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.ou(),null==(t=this.a5)||t.au(TD.gH,this.Js);case 2:case"end":return n.stop()}},null,this,null,We)},A(i,[{key:"Gl",get:function(){return this.Oc}},{key:"gW",get:function(){return this.Wi}},{key:"cc",get:function(){if(!this.a5)throw new tf(n.ErrorCode.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.a5.cc}},{key:"XL",get:function(){return this.YL},set:function(t){this.YL=t,this.a5&&(this.a5.XL=t)}},{key:"by",get:function(){return this.a5?this.a5.by:fS.qC()}},{key:"mW",get:function(){return this.a5?this.a5.mW:this.hW.IH}},{key:"VL",get:function(){return this.jL},set:function(t){this.jL=t,this.a5&&(this.a5.VL=t)}}]),i}(du),SM="LazyMediaSource",EM=function(){function t(t,n,i){this.S7=void 0,this.E7=void 0,this.I7=new Wo,this.BD=void 0,this.R7=!1,this.ma=NaN,this.wJ=!1,this.D7=0,this.N7=1/0,this.C7=!1,this.P7=!1,this.PD=t,n&&(HO.d0(SM,"Created lazy media buffer for audio."),this.S7=new TM(ry.Cd,this)),i&&(HO.d0(SM,"Created lazy media buffer for video."),this.E7=new TM(ry.Pd,this))}var n=t.prototype;return n.fG=function(t){this.ma=t,this.BD&&this.BD.fG(t)},n.uW=function(){this.wJ=!0,this.BD&&this.BD.uW()},n.iW=function(){this.wJ=!1,this.BD&&this.BD.iW()},n.dG=function(t,n,i,e){this.D7=t,this.N7=n,this.C7=Boolean(i),this.P7=Boolean(e),this.BD&&this.BD.dG(t,n,i,e)},n.rH=function(t){return!this.BD||this.BD.rH(t)},n.sH=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.rH(t)){r.next=2;break}throw new v("LazyMediaSource - Unable to reconfigure MediaSource.");case 2:if(this.BD){r.next=19;break}return this.PD.yQ(),r.next=6,Dr.awrap(this.PD.Jh(t));case 6:e=r.sent,m(this.ma)||e.fG(this.ma),this.wJ&&e.uW(),e.dG(this.D7,this.N7,this.C7,this.P7),HO.d0(SM,"The MediaSource has been loaded."),this.R7=!0,this.BD=e,null==(n=this.S7)||n.A7(this.BD.ZW),null==(i=this.E7)||i.A7(this.BD.KW),this.I7.Qu(e),this.PD.kQ(),r.next=21;break;case 19:return r.next=21,Dr.awrap(this.BD.sH(t));case 21:case"end":return r.stop()}},null,this,null,We)},n.Xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.BD){t.next=3;break}return t.next=3,Dr.awrap(this.BD.Xs());case 3:case"end":return t.stop()}},null,this,null,We)},A(t,[{key:"cc",get:function(){return{_s:ub.nI,wG:[],hN:[]}}},{key:"zm",get:function(){throw new v("Not implemented")}},{key:"ZW",get:function(){return this.S7}},{key:"KW",get:function(){return this.E7}},{key:"by",get:function(){return this.BD?this.BD.by:fS.qC()}},{key:"nm",get:function(){return this.BD?this.BD.nm:this.ma}},{key:"dH",get:function(){return!!this.BD&&this.BD.dH}},{key:"Ly",get:function(){return this.BD?this.BD.Ly:new fS([0,1/0])}}]),t}();function IM(t,n){return void 0===n&&(n=!1),function(i,e){void 0===e&&(e="*");var r,s,u,o=DM(i,"tag"),a=DM(null==e?"*":e,"range"),h=[],c=-1;for(;++c<a.length;)if(r=a[c].toLowerCase(),n||"*"!==r){for(s=-1,u=[];++s<o.length;)if(t(o[s].toLowerCase(),r)){if(!n)return o[s];h.push(o[s])}else u.push(o[s]);o=u}return n?h:void 0}}IM(function(t,n){return"*"===n||t===n||vs(t,n+"-")},!0),IM(function(t,n){var i=t.split("-"),e=n.split("-"),r=0,s=0;if("*"!==e[s]&&i[r]!==e[s])return!1;for(r++,s++;s<e.length;)if("*"!==e[s]){if(!i[r])return!1;if(i[r]!==e[s]){if(1===i[r].length)return!1;r++}else r++,s++}else s++;return!0},!0);var RM=IM(function(t,n){for(var i,e=n;;){if("*"===e||t===e)return!0;if((i=e.lastIndexOf("-"))<0)return!1;"-"===e.charAt(i-2)&&(i-=2),e=e.slice(0,i)}});function DM(t,n){var i=t&&"string"==typeof t?[t]:t;if(!(i&&"object"==typeof i&&"length"in i))throw new v("Invalid "+n+" `"+i+"`, expected non-empty string");return i}var NM,CM=function(t){function n(){return t.call(this,Tf.Hf)||this}return S(n,t),n}(_u),PM=function(t){function n(){return t.call(this,Tf.Xf)||this}return S(n,t),n}(_u),BM=16384,OM=71,xM=188,LM=2,MM=3;function UM(t){return XM(t)?NM.Og:null!==$C(xo(t),new zo)?NM.B7:function(t){return function(t){if(t.length<LM*xM)return-1;for(var n=t.length<MM*xM?LM:MM,i=w.min(1e3,t.length-n*xM),e=0;e<=i;e++){for(var r=!0,s=0;s<n;s++)if(t[e+s*xM]!==OM){r=!1;break}if(r)return e}return-1}(t)>=0}(t)?NM.O7:NM.md}function XM(t){var n=Bo(t,0,w.min(t.length,BM));return op.ZA(xo(n))}!function(t){t[t.md=0]="md",t[t.Og=1]="Og",t[t.O7=2]="O7",t[t.B7=3]="B7"}(NM||(NM={}));var HM=function(){function t(t,n,i,e){this.Wi=void 0,this.a5=void 0,this.x7=void 0,this.L7=void 0,this.M7=void 0,this.Wi=t,this.a5=n,this.L7=i,this.M7=e}var n=t.prototype;return n.U7=function(t){return this.a5===t},n.HV=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Dr.awrap(this.a5.HV(t.zi,{Gz:t.Y$.j_},n));case 3:this.Wi===ry.Pd&&XM(t.zi.zi)&&this.M7.X7(t.zi.zi);case 4:case"end":return i.stop()}},null,this,null,We)},n.MV=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(tu(n),HO.NT("HlsMediaBuffer","Got media data, appending to "+this.Wi+" MediaBuffer: "+mx(t.O5.D$)),i=t.i7,e=t.ck+t.nm,r={gJ:t.ck,nm:t.nm,gb:t.gb,Gz:t.Y$.j_},void 0===t.zi){s.next=10;break}return s.next=9,Dr.awrap(this.a5.MV(t.zi,r,n));case 9:this.H7(t.zi,t);case 10:this.F7(i,e);case 11:case"end":return s.stop()}},null,this,null,We)},n.H7=function(t,n){if(XM(t.zi)){var i=n.ck,e=i+n.nm,r=n.gb;this.L7.l5(t.zi,i,r),this.Wi===ry.Pd&&this.M7.l5(t.zi,i,e,r),function(t,n){if(t.M_>0)for(var i=t.oC(0),e=w.max(0,i-10),r=0;r<n.length;r++)n[r].WE(e)}(this.by,[this.L7,this.M7])}},n.F7=function(t,n){for(var i=this.a5.by,e=new fS([t,n]).RC(i),r=0;r<e.M_;r++)this.a5.vW(e.oC(r),e.hC(r));for(var s=0;s<i.M_;s++)this.a5.lW(i.oC(s),i.hC(s))},n.vW=function(t,n){this.a5.vW(t,n)},n.lW=function(t,n){this.a5.lW(t,n)},A(t,[{key:"_s",get:function(){return this.Wi}},{key:"by",get:function(){return this.a5.by}},{key:"mW",get:function(){return this.a5.mW}}]),t}(),FM=2500;var zM=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,u,!1)||this).z7=void 0,o.pe=void 0,o.V7=void 0,o.z7=e,o.pe=r,o.V7=s,o}return S(n,t),n.prototype.Nk=function(n){return this===n||dg(this,n)&&t.prototype.Nk.call(this,n)&&lg(this.vk,n.vk)},A(n,[{key:"rE",get:function(){return this.z7}},{key:"Ti",get:function(){return this.pe}},{key:"W7",get:function(){return this.V7}},{key:"o_",get:function(){var t;return this.u_||(this.u_=fg(Cy(t=this),{get schemeIDURI(){return t.rE},get value(){return t.Ti},get emsgID(){return t.W7}})),this.u_}}]),n}(Uy);function VM(t,n){return""===n?t:t+" "+n}var WM,GM,qM=function(t){function n(n){var i;return(i=t.call(this)||this).GE=void 0,i.GE=n,i}S(n,t);var i=n.prototype;return i.l5=function(t,i,e){var r=op.jA(xo(t));if(r){var s=function(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];$k(r,n)&&i.push(r)}return i}(r,fk.hA);if(s.length){var u=n.G7(r,i,e);this.q7(s,u,e)}}},i.q7=function(t,n,i){for(var e=0;e<t.length;e++){var r=t[e],s=void 0,u=(s=1===r.qA?r.sE.toNumber()/r.Op+i:n+r.aE/r.Op)+r.uE/r.Op;"https://aomedia.org/emsg/ID3"===r.rE?this.Y7(r,s):this.j7(r,s,u)}},i.j7=function(t,n,i){var e=VM(t.rE,t.Ti),r=this.Q7(e);r||(r=this.Z7(e),this.K7(r)),r.KE(new zM(n,i,t.rE,t.Ti,t.Y_,t.oE))},i.Y7=function(t,n){var i=iP(xo(t.oE));if(i){var e=VM(t.rE,t.Ti),r=this.Q7(e);r||(r=this.J7(e),this.K7(r));for(var s=0,u=i.fq;s<u.length;s++){var o=u[s],a=new lP(n,o);IC(a,r._g.L_),r.KE(a)}}},n.G7=function(t,n,i){var e=tp(t,fk.cA);return e?jt(e.kE,e.Op)+i:n},i.Z7=function(t){var n=this.GE.QE(Pp.gA,"","","",void 0,ky.EMSG);return n.cg=t,n.fg=Rg.og,n},i.J7=function(t){var n=this.GE.QE(Pp.gA,"","","",void 0,ky.ID3);return n.cg=t,n.fg=Rg.og,n},i.wc=function(){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(n=0,i=this.hT.L_;n<i.length;n++)e=i[n],this.GE.JE(e);return r.next=3,Dr.awrap(t.prototype.wc.call(this));case 3:case"end":return r.stop()}},null,this,null,We)},n}(function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.K7=function(t){return t.wg=yy.LOADED,this.B_(t),t},i.Q7=function(t){for(var n=0,i=this.hT.L_;n<i.length;n++){var e=i[n];if(e.cg===t)return e}},n}(Jp));function YM(t){return"function"==typeof t.Cu}function jM(t,n,i){if(!(i&&n.byte>=i)){var e=YM(t)?t.Cu(n.byte):t[n.byte];return n.byte+=1,e}}function QM(t,n){return function(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=256*e+jM(t,n);return e}(t,n,2)}!function(t){t[t.ttt=0]="ttt",t[t.ntt=1]="ntt",t[t.itt=2]="itt",t[t.ett=3]="ett",t[t.rtt=4]="rtt",t[t.stt=5]="stt"}(WM||(WM={})),function(t){t[t.utt=0]="utt",t[t.ott=1]="ott",t[t.att=2]="att",t[t.htt=3]="htt"}(GM||(GM={}));var ZM,KM=function(){function t(){this.ctt=0,this.ftt=[],this.RE={}}var n=t.prototype;return n.ltt=function(t){this.ftt=this.ftt.concat(t.ftt),this.ctt+=t.M_},n.dtt=function(t,n,i){var e=this.ctt,r=i-n;r>0&&(this.ftt.push({wtt:n,_tt:i,gtt:r,mtt:e,ytt:t}),this.ctt+=r)},n.Cu=function(t){for(var n=0,i=this.ftt;n<i.length;n++){var e=i[n];if(e.mtt<=t&&t<e.mtt+e.gtt)return e.ytt[t+e.wtt-e.mtt]}},n.ktt=function(t,n){for(var i=n,e=0,r=this.ftt;e<r.length;e++)for(var s=r[e],u=s._tt,o=s.wtt;o<u;o+=1,i+=1)t[i]=s.ytt[o];return i},n.ptt=function(){for(var t=new y(this.ctt),n=0,i=0,e=this.ftt;i<e.length;i++)for(var r=e[i],s=r._tt,u=r.wtt;u<s;u+=1,n+=1)t[n]=r.ytt[u];return t},n.Hu=function(n){for(var i=new t,e=0,r=this.ftt;e<r.length;e++){var s=r[e];i.dtt(s.ytt,s.wtt,s._tt)}return i.RE=n||Nr({},this.RE),i},A(t,[{key:"M_",get:function(){return this.ctt},set:function(t){var n=this.ftt,i=this.ctt-t;if(!(t>=this.ctt))if(this.ctt=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.gtt)return r._tt-=i,r.gtt-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.gtt}else n.length=0}},{key:"zi",get:function(){for(var t=new Array(this.ctt),n=0,i=0,e=this.ftt;i<e.length;i++)for(var r=e[i],s=r._tt,u=r.wtt;u<s;u+=1,n+=1)t[n]=r.ytt[u];return t}}]),t}();function JM(t,n,i){return i===WM.ttt?i:n!==GM.utt&&n!==GM.ott||i!==WM.ntt&&i!==WM.itt?t?n===GM.att?WM.rtt:n===GM.htt?WM.ett:WM.ttt:WM.stt:WM.itt}function $M(t,n,i,e){var r={byte:i},s=WM.ntt,u=[],o=31&jM(n,r,e);r.byte+=1;for(var a=0;a<o;a+=1){var h=jM(n,r,e),c=4&h,f=3&h;s=JM(Boolean(c),f,s);var v=jM(n,r,e),l=jM(n,r,e);u.push({$Z:t,GS:-1,btt:!a,Att:Boolean(c),_s:f,aZ:s,Ttt:v,Stt:l})}return u}function tU(t,n,i){var e=jM(t,n,i);if(!m(e))return String.fromCharCode(e)}function nU(t){var n=t.Ett,i={byte:t.Itt},e=t.Rtt,r=jM(n,i,e);if(255===r&&(i.byte+=1),181===r){var s=QM(n,i);if(s===ZM.Dtt||s===ZM.Ntt){if(s===ZM.Ntt)if("GA94"!==function(t,n,i){for(var e="",r=i;r>0;)r-=1,e+=tU(t,n);return e}(n,i,4))return;if(3===jM(n,i,e)){s===ZM.Dtt&&(i.byte+=1);var u=t;return u.Ctt=i.byte,u}}}}function iU(t){return 4===t.Ptt}function eU(t){for(var n=t.filter(iU).map(nU).filter(H),i=[],e=0;e<n.length;e++){var r=n[e];i.push.apply(i,$M(r.Btt,r.Ett,r.Ctt,r.Rtt))}return i}!function(t){t[t.Dtt=47]="Dtt",t[t.Ntt=49]="Ntt"}(ZM||(ZM={}));var rU="und";var sU,uU=[{_i:"Abkhaz",bb:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{_i:"Afar",bb:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{_i:"Afrikaans",bb:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{_i:"Akan",bb:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{_i:"Albanian",bb:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{_i:"Amharic",bb:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{_i:"Arabic",bb:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{_i:"Aragonese",bb:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{_i:"Armenian",bb:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{_i:"Assamese",bb:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{_i:"Avaric",bb:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{_i:"Avestan",bb:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{_i:"Aymara",bb:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{_i:"Azerbaijani",bb:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{_i:"Bambara",bb:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{_i:"Bashkir",bb:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{_i:"Basque",bb:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{_i:"Belarusian",bb:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{_i:"Bengali",bb:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{_i:"Bihari",bb:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{_i:"Bislama",bb:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{_i:"Bosnian",bb:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{_i:"Breton",bb:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{_i:"Bulgarian",bb:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{_i:"Burmese",bb:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{_i:"Catalan",bb:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{_i:"Chamorro",bb:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{_i:"Chechen",bb:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{_i:"Chichewa",bb:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{_i:"Chinese",bb:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{_i:"Chuvash",bb:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{_i:"Cornish",bb:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{_i:"Corsican",bb:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{_i:"Cree",bb:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{_i:"Croatian",bb:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{_i:"Czech",bb:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{_i:"Danish",bb:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{_i:"Divehi",bb:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{_i:"Dutch",bb:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{_i:"Dzongkha",bb:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{_i:"English",bb:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{_i:"Esperanto",bb:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{_i:"Estonian",bb:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{_i:"Ewe",bb:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{_i:"Faroese",bb:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{_i:"Fijian",bb:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{_i:"Finnish",bb:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{_i:"French",bb:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{_i:"Fula",bb:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{_i:"Galician",bb:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{_i:"Georgian",bb:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{_i:"German",bb:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{_i:"Greek",bb:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{_i:"Guaran\xed",bb:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{_i:"Gujarati",bb:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{_i:"Haitian",bb:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{_i:"Hausa",bb:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{_i:"Hebrew",bb:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{_i:"Herero",bb:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{_i:"Hindi",bb:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{_i:"Hiri Motu",bb:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{_i:"Hungarian",bb:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{_i:"Interlingua",bb:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{_i:"Indonesian",bb:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{_i:"Interlingue",bb:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{_i:"Irish",bb:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{_i:"Igbo",bb:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{_i:"Inupiaq",bb:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{_i:"Ido",bb:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{_i:"Icelandic",bb:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{_i:"Italian",bb:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{_i:"Inuktitut",bb:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{_i:"Japanese",bb:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{_i:"Javanese",bb:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{_i:"Kalaallisut",bb:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{_i:"Kannada",bb:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{_i:"Kanuri",bb:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{_i:"Kashmiri",bb:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{_i:"Kazakh",bb:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{_i:"Khmer",bb:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{_i:"Kikuyu",bb:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{_i:"Kinyarwanda",bb:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{_i:"Kyrgyz",bb:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{_i:"Komi",bb:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{_i:"Kongo",bb:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{_i:"Korean",bb:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{_i:"Kurdish",bb:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{_i:"Kwanyama",bb:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{_i:"Latin",bb:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{_i:"Luxembourgish",bb:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{_i:"Ganda",bb:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{_i:"Limburgish",bb:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{_i:"Lingala",bb:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{_i:"Lao",bb:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{_i:"Lithuanian",bb:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{_i:"Luba-Katanga",bb:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{_i:"Latvian",bb:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{_i:"Manx",bb:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{_i:"Macedonian",bb:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{_i:"Malagasy",bb:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{_i:"Malay",bb:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{_i:"Malayalam",bb:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{_i:"Maltese",bb:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{_i:"M\u0101ori",bb:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{_i:"Marathi",bb:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{_i:"Marshallese",bb:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{_i:"Mongolian",bb:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{_i:"Nauru",bb:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{_i:"Navajo",bb:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{_i:"Northern Ndebele",bb:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{_i:"Nepali",bb:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{_i:"Ndonga",bb:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{_i:"Norwegian Bokm\xe5l",bb:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{_i:"Norwegian Nynorsk",bb:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{_i:"Norwegian",bb:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{_i:"Nuosu",bb:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{_i:"Southern Ndebele",bb:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{_i:"Occitan",bb:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{_i:"Ojibwe",bb:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{_i:"Old Church Slavonic",bb:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{_i:"Oromo",bb:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{_i:"Oriya",bb:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{_i:"Ossetian",bb:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{_i:"Panjabi",bb:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{_i:"P\u0101li",bb:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{_i:"Persian",bb:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{_i:"Polish",bb:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{_i:"Pashto",bb:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{_i:"Portuguese",bb:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{_i:"Quechua",bb:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{_i:"Romansh",bb:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{_i:"Kirundi",bb:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{_i:"Romanian",bb:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{_i:"Russian",bb:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{_i:"Sanskrit",bb:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{_i:"Sardinian",bb:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{_i:"Sindhi",bb:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{_i:"Northern Sami",bb:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{_i:"Samoan",bb:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{_i:"Sango",bb:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{_i:"Serbian",bb:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{_i:"Gaelic",bb:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{_i:"Shona",bb:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{_i:"Sinhala",bb:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{_i:"Slovak",bb:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{_i:"Slovene",bb:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{_i:"Somali",bb:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{_i:"Southern Sotho",bb:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{_i:"Spanish",bb:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{_i:"Sundanese",bb:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{_i:"Swahili",bb:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{_i:"Swati",bb:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{_i:"Swedish",bb:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{_i:"Tamil",bb:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{_i:"Telugu",bb:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{_i:"Tajik",bb:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{_i:"Thai",bb:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{_i:"Tigrinya",bb:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{_i:"Tibetan Standard",bb:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{_i:"Turkmen",bb:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{_i:"Tagalog",bb:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{_i:"Tswana",bb:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{_i:"Tonga",bb:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{_i:"Turkish",bb:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{_i:"Tsonga",bb:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{_i:"Tatar",bb:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{_i:"Twi",bb:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{_i:"Tahitian",bb:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{_i:"Uyghur",bb:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{_i:"Ukrainian",bb:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{_i:"Urdu",bb:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{_i:"Uzbek",bb:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{_i:"Venda",bb:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{_i:"Vietnamese",bb:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{_i:"Volap\xfck",bb:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{_i:"Walloon",bb:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{_i:"Welsh",bb:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{_i:"Wolof",bb:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{_i:"Western Frisian",bb:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{_i:"Xhosa",bb:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{_i:"Yiddish",bb:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{_i:"Yoruba",bb:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{_i:"Zhuang",bb:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{_i:"Zulu",bb:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}],oU=[128,64,32,16,8,4,2,1];function aU(t,n){var i=w.floor(n.bit/8),e=0==((YM(t)?t.Cu(i):t[i])&oU[n.bit%8])?0:1;return n.bit+=1,e}function hU(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=2*e+aU(t,n);return e}function cU(t,n){for(var i=0;0===aU(t,n)&&i<32;)i+=1;return hU(t,n,i)+w.pow(2,i)-1}function fU(t,n){var i=cU(t,n);return 1&i?w.floor((i+1)/2):-w.floor(i/2)}function vU(t,n){var i,e=[],r={byte:1};do{e.push(dU(t,n,r)),i=n.Cu(r.byte)}while(void 0!==i&&128!==i);return e}function lU(t,n){var i,e=0;do{e+=i=jM(t,n)}while(255===i);return e}function dU(t,n,i){var e=lU(n,i),r=lU(n,i),s=i.byte,u=s+r;return i.byte=u,{Btt:t,Ptt:e,Ott:r,Itt:s,Rtt:u,Ett:n}}!function(t){t[t.xtt=1]="xtt",t[t.Ltt=2]="Ltt",t[t.Mtt=3]="Mtt",t[t.Utt=4]="Utt",t[t.Xtt=5]="Xtt",t[t.Htt=6]="Htt",t[t.Ftt=7]="Ftt",t[t.ztt=8]="ztt",t[t.Vtt=9]="Vtt"}(sU||(sU={}));var wU=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function _U(t,n,i){for(var e=8,r=8,s=0;s<i;s+=1){if(0!==r)r=(e+fU(t,n)+256)%256;e=0===r?e:r}}var gU=function(){function t(t){this.Wtt=void 0,this.Gtt=[],this.qtt=0,this.Wtt=t}var n=t.prototype;return n.Ytt=function(){for(var t=this.Gtt,n=w.max(0,this.qtt+t.length-2),i=this.Wtt,e=i.M_,r=0;n<e;n+=1){var s=i.Cu(n);0===s?r+=1:(3===s&&r>=2&&t.push(n),r=0)}this.qtt=n-t.length},n.jtt=function(t){for(var n=this.Gtt,i=t,e=0;e<n.length;e++){if(!(n[e]<=i))return i;i+=1}return i},n.Cu=function(t){if(!(t>this.Wtt.M_))return t>this.qtt&&this.Ytt(),this.Wtt.Cu(this.jtt(t))},t}();var mU=24;function yU(t){var n=t.wz,i=new KM;return i.dtt(Lo(n),0,n.length),function(t){var n,i,e,r,s,u,o=new gU(t),a=0,h=0,c=0,f=0,v=o.Cu(1),l={bit:32};if(cU(o,l),100===v||110===v||122===v||144===v){var d=cU(o,l);if(3===d&&(n=aU(o,l)),cU(o,l),cU(o,l),aU(o,l),1===aU(o,l))for(var _=0;_<(3!==d?8:12);_+=1)1===aU(o,l)&&_U(o,l,_<6?16:64)}var g=cU(o,l),m=cU(o,l);if(0===m)cU(o,l);else if(1===m){aU(o,l),fU(o,l),fU(o,l);for(var y=cU(o,l),k=0;k<y;k+=1)fU(o,l)}cU(o,l),aU(o,l);var p=cU(o,l),b=cU(o,l),A=aU(o,l);if(0===A&&aU(o,l),aU(o,l),1===aU(o,l)&&(a=cU(o,l),h=cU(o,l),c=cU(o,l),f=cU(o,l)),1===aU(o,l)){if(1===aU(o,l)){var T=hU(o,l,8);if(255===T)i=hU(o,l,16),e=hU(o,l,16);else{var S=wU[T];S&&(i=S[0],e=S[1])}}1===aU(o,l)&&aU(o,l),1===aU(o,l)&&(hU(o,l,3),aU(o,l),1===aU(o,l)&&(hU(o,l,8),hU(o,l,8),hU(o,l,8))),1===aU(o,l)&&(cU(o,l),cU(o,l)),1===(r=aU(o,l))&&(s=hU(o,l,32),u=hU(o,l,32),aU(o,l))}return{width:w.floor(16*(p+1)-2*a-2*h),height:w.floor((2-A)*(b+1)*16-2*c-2*f),xS:i,LS:e,Qtt:!!r&&u/(2*s),Ztt:n,Ktt:g}}(i).Qtt}function kU(t){var n=yU(t)||mU;return t.Jtt/n}function pU(t){return t._s===fk.tA}var bU,AU=65536;function TU(t,n,i,e,r){for(var s,u=function(t,n,i,e){var r=i.Jtt,s=ft.fromNumber(t.eE||0),u=e.Hy(rk.rp(s,r));return{$tt:e.Fk(),tnt:e,nnt:u,int:e}}(t,0,i,e),o=rk.sp(t.nm||0,i.Jtt),a=t.YA||0,h=!(a&AU)&&(a>>24&3)!==bU.SAMPLE_DEPENDS_ON_OTHERS,c=xo(r),f=new zo;f.Lu<c.byteLength;){var v=co(c,f);if((31&oo(c,f,1))===sU.Htt){var l,d=new KM;d.dtt(r,f.Lu-1,f.Lu+v-1);var w=vU(u.nnt,d);(l=s=s||[]).push.apply(l,eU(w))}f.Mu(v-1)}return Nr({},u,{nm:o.Fk(),ent:o,rnt:u.nnt.Fk(),snt:u.$tt,unt:h,ont:s,ant:!1,hnt:!1})}function SU(t){return t._s===fk.Ab}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(bU||(bU={}));var EU=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return S(n,t),n}(Uy),IU=function(){function t(t,n){this.fK=t,this.JZ=n}return t.prototype.Nk=function(t){return this.fK===t.fK&&this.JZ===t.JZ},t}(),RU=function(){function t(t,n){this.cnt="",this.FU=t,this.fnt=n}var n=t.prototype;return n.vnt=function(t){this.cnt+=t},n.lnt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.vnt(i)}},A(t,[{key:"kK",get:function(){return this.cnt}},{key:"wK",get:function(){return[this]}},{key:"mK",get:function(){return this.FU}},{key:"bK",get:function(){return this.fnt}},{key:"pK",get:function(){return new IU(this.bK.fK,this.bK.JZ+this.kK.length-1)}}]),t}(),DU=function(){function t(){}var n=t.prototype;return n.dnt=function(t){return t.ub(this)},n.wnt=function(t){var n,i,e=this,r=t.map(function(t,n){return t.ub(e,n)});return n=r,(i=[]).concat.apply(i,n)},n._nt=function(t,n){return new NU(t,n).gnt()},t}(),NU=function(){function t(t,n){this.mnt=[],this.ynt=null,this.fK=t,this.knt=n}var n=t.prototype;return n.gnt=function(){if(this.pnt)return[];for(var t=0;t<this.fK.length;t++)this.bnt(t);return this.Ant(),this.mnt},n.Tnt=function(t){this.ynt=new RU(HB,new IU(this.knt,t))},n.Ant=function(){this.ynt&&(this.mnt.push(this.ynt),this.ynt=null)},n.bnt=function(t){var n=this.fK[t];CU(n)?this.ynt&&this.Ant():(this.ynt||this.Tnt(t),this.ynt.vnt(n))},A(t,[{key:"pnt",get:function(){return this.fK.every(CU)}}]),t}();function CU(t){return null==t}var PU=function(){function t(){}return t.Snt=function(t,n,i){if(!(n>=i)){var e=Vs(t,function(t,n){return new NU(t.map(function(t){return t?t.Ent():null}),n).gnt()});if(0!==e.length)return new EU(n,i,e)}},t}(),BU="black",OU="white",xU=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),LU=function(){function t(){this.Int=[],this.Rnt=0,this.Dnt=void 0;for(var t=0;t<WB;t++)this.Int.push(null);this.Dnt=!1}var n=t.prototype;return n.Nnt=function(t){for(var n=0;n<WB;n++)t&&(this.Int[n]=t.Int[n])},n.Nk=function(t){for(var n=0;n<WB;n++)if(this.Int[n]!==t.Int[n])return!1;return!0},n.Cnt=function(){for(var t=0;t<WB;t++)if(null!==this.Int[t])return!1;return!0},n.Pnt=function(t){this.Rnt!==t&&(this.Rnt=t),this.Rnt<0?this.Rnt=0:this.Rnt>WB&&(this.Rnt=WB-1)},n.Bnt=function(t){var n=this.Rnt+t;this.Pnt(n)},n.Ont=function(){this.Bnt(-1),this.Int[this.Rnt]=null},n.vnt=function(t){t>=144&&this.Ont();var n,i=xU[n=t]?String.fromCharCode(xU[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Rnt>=WB||(32===Number(t)?(this.Int[this.Rnt]=this.Dnt?"</i>":"<i>",this.Dnt=!this.Dnt):this.Int[this.Rnt]=t,this.Bnt(1))},n.xnt=function(t){for(var n=t;n<WB;n++)this.Int[n]=null},n.Ou=function(){this.xnt(0),this.Rnt=0},n.Lnt=function(){this.xnt(this.Rnt)},n.Mnt=function(t,n){for(var i=this.Int,e=null,r=0;r<WB;r++){var s=i[r];null===s?e=null:(e||(e={Unt:r,Xnt:t,Xk:0,ST:1,Int:[[]]},n.push(e)),e.Int[0].push(s),e.Xk++)}},n.ub=function(t,n){return t._nt(this.Int,n)},t}();var MU,UU=function(){function t(t,n){this.Hnt=void 0,this.Fnt=void 0,this.znt=void 0,this.Vnt=void 0,this.Wnt=void 0,this.Gnt=void 0,this.qnt=void 0,this.Ynt=void 0,this.jnt=void 0,this.Hnt=new Array(XU+1);for(var i=0;i<=XU;i++)this.Hnt[i]=new LU;this.Fnt=1,this.znt=0,this.Vnt=t,this.Wnt=n,this.Gnt=!1,this.qnt=!1,this.Ynt=OU,this.jnt=BU,this.wc()}var n=t.prototype;return n.Qnt=function(t,n){var i="CC"+(this.Vnt<<1|this.Wnt+1);if(t>=n)return null;var e=(new DU).wnt(this.Hnt.slice(1));return 0===e.length?null:{hk:new EU(t,n,e),Wl:i,Znt:this.Vnt<<1|this.Wnt+1}},n.wc=function(){this.Knt(),this.Fnt=1},n.Jnt=function(){return this.Fnt},n.$nt=function(t){this.Fnt=t},n.Pnt=function(t){this.Hnt[this.Fnt].Pnt(t)},n.Bnt=function(t){this.Hnt[this.Fnt].Bnt(t)},n.tit=function(){return this.znt},n.nit=function(t){this.znt=t},n.vnt=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case MU.iit:i=void 0!==FU[n]?FU[n]:String.fromCharCode(n);break;case MU.eit:i=zU[n];break;case MU.rit:this.sit(),i=VU[n];break;case MU.uit:this.sit(),i=WU[n]}i&&this.Hnt[this.Fnt].addParsedChar(i)}},n.sit=function(){this.Hnt[this.Fnt].Ont()},n.oit=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.Hnt[t+e]=this.Hnt[n+e];else for(var r=0;r<i;r++)this.Hnt[t+r]=this.Hnt[n+r]},n.ait=function(t,n){for(var i=0;i<=n;i++)this.Hnt[t+i]=new LU},n.Knt=function(){this.ait(0,XU)},n.hit=function(){this.Fnt=this.znt>0?this.znt:0,this.Knt()},n.cit=function(t){this.Gnt=t},n.fit=function(t){this.qnt=t},n.vit=function(t){this.Ynt=t},n.dit=function(t){this.jnt=t},t}(),XU=15;!function(t){t[t.iit=0]="iit",t[t.eit=1]="eit",t[t.rit=2]="rit",t[t.uit=3]="uit"}(MU||(MU={}));var HU,FU={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},zU={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},VU={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},WU={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},GU=function(){function t(t,n){this.Wi=void 0,this.wit=void 0,this._it=void 0,this.git=void 0,this.mit=void 0,this.yit=void 0,this.kit=void 0,this.pit=void 0,this.Wi=HU.jN,this.wit=new UU(t,n),this._it=new UU(t,n),this.git=new UU(t,n),this.mit=this._it,this.yit=0,this.kit=void 0,this.pit=!1}var n=t.prototype;return n.wc=function(){this.pit=!0,this.yit=0,this.Wi=HU.jN,this.mit=this._it,this.kit=void 0,this._it.wc(),this.git.wc(),this.wit.wc()},n.Ait=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Tit=function(t,n){var i=this.Ait(t,n),e=(30&n)>>1,r=OU,s=!1;e<7?r=QU[e]:7===e&&(s=!0);var u=1==(1&n);if(this.Wi!==HU.ni){var o=this.mit;if(this.Wi===HU.Sit&&i!==o.Jnt()){var a=1+o.Jnt()-o.tit(),h=1+i-o.tit();o.oit(h,a,o.tit()),o.ait(0,h-1),o.ait(i+1,XU-i)}o.$nt(i);var c=zB[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{KZ:FB[i].KZ,ZZ:FB[i].ZZ,JZ:FB[i].JZ,fK:t}}(c,n);o.Pnt(f.JZ),this.mit.cit(u),this.mit.fit(s),this.mit.vit(r),this.mit.dit(BU)}}},n.Eit=function(t,n){this.mit.cit(!1),this.mit.fit(!1),this.mit.vit(OU);var i=this.Iit(t,MU.iit," ".charCodeAt(0)),e=OU,r=!1,s=1==(1&n);return"white_italics"===(e=QU[(14&n)>>1])&&(e="white",r=!0),this.mit.cit(s),this.mit.fit(r),this.mit.vit(e),i},n.Iit=function(t,n,i){if(this.mit.vnt(n,i),this.Wi===HU.Rit||this.Wi===HU.Sit){var e=this.Dit(this.mit,this.yit,t);return this.yit=t,e}return null},n.Dit=function(t,n,i){return this.pit?null:t.Qnt(n,i)},n.Nit=function(t,n){var i=BU;0==(7&t)&&(i=jU[(14&n)>>1]),this.mit.dit(i)},n.Cit=function(t){var n=qU,i=t.Pit,e=t.Bit,r=null;switch(i){case n.RCL:this.Oit();break;case n.BS:this.xit();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.Lit(2,e);break;case n.RU3:r=this.Lit(3,e);break;case n.RU4:r=this.Lit(4,e);break;case n.FON:r=this.Mit(e);break;case n.RDC:this.Uit(e);break;case n.TR:this.Xit();break;case n.RTD:this.Hit();break;case n.EDM:r=this.Fit(e);break;case n.CR:r=this.zit(e);break;case n.ENM:this.Vit();break;case n.EOC:r=this.Wit(e)}return r},n.zit=function(t){var n=this.mit;if(this.Wi!==HU.Sit)return null;var i=this.Dit(n,this.yit,t),e=n.Jnt()-n.tit()+1;return n.oit(e-1,e,n.tit()),n.ait(0,e-1),n.ait(n.Jnt(),XU-n.Jnt()),this.yit=t,i},n.Lit=function(t,n){this.mit=this._it;var i=this.mit,e=null;return this.Wi!==HU.Sit&&this.Wi!==HU.ni&&(e=this.Dit(i,this.yit,n),this._it.hit(),this.git.hit(),this.pit=!1,i.$nt(XU)),this.Wi=HU.Sit,i.nit(t),e},n.Mit=function(t){return this.Iit(t,MU.iit," ".charCodeAt(0))},n.Fit=function(t){var n=this._it,i=null;return this.Wi!==HU.ni&&(i=this.Dit(n,this.yit,t)),n.Knt(),this.pit=!1,i},n.Uit=function(t){this.Wi=HU.Rit,this.mit=this._it,this.mit.nit(0),this.yit=t},n.Vit=function(){this.git.Knt()},n.Wit=function(t){var n=null;this.Wi!==HU.ni&&(n=this.Dit(this._it,this.yit,t));var i=this.git;return this.git=this._it,this._it=i,this.Oit(),this.yit=t,n},n.Oit=function(){this.Wi=HU.Git,this.mit=this.git,this.mit.nit(0)},n.xit=function(){this.mit.sit()},n.Xit=function(){this.wit.wc(),this.pit=!1,this.Hit()},n.Hit=function(){this.mit=this.wit,this.Wi=HU.ni},n.qit=function(t,n,i){return this.mit.vnt(MU.iit,n),this.Iit(t,MU.iit,i)},n.Yit=function(t,n,i){var e=1&n?MU.uit:MU.rit;return this.Iit(t,e,i)},n.jit=function(t){var n=t.Qit,i=t.Pit,e=t.Bit;if(this.kit===(n<<8|i))return this.kit=void 0,null;if(this.kit=n<<8|i,this.Zit(n,i))this.Tit(n,i);else{if(this.Kit(n,i))return this.Eit(e,i);if(this.Jit(n,i))this.Nit(n,i);else{if(this.$it(n,i))return this.Iit(e,MU.eit,i);if(this.tet(n,i))return this.Yit(e,n,i);if(this.net(n,i))return this.Cit(t);this.isTabOffset(n)&&this.mit.Bnt(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.net=function(t,n){return 20==(246&t)&&32==(240&n)},n.Zit=function(t,n){return 16==(240&t)&&64==(192&n)},n.Kit=function(t,n){return 17==(247&t)&&32==(240&n)},n.Jit=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.$it=function(t,n){return 17==(247&t)&&48==(240&n)},n.tet=function(t,n){return 18==(246&t)&&32==(224&n)},t.iet=function(t){return 16==(112&t)},t}(),qU={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.jN=0]="jN",t[t.Git=1]="Git",t[t.Rit=2]="Rit",t[t.Sit=3]="Sit",t[t.ni=4]="ni"}(HU||(HU={}));var YU,jU=["black","green","blue","cyan","red","yellow","magenta","black"],QU=["white","green","blue","cyan","red","yellow","magenta","white_italics"],ZU=function(){function t(t,n,i,e,r){this.eet=void 0,this.Gnt=void 0,this.qnt=void 0,this.jnt=void 0,this.Ynt=void 0,this.eet=t,this.Gnt=n,this.qnt=i,this.jnt=e,this.Ynt=r}var n=t.prototype;return n.Ent=function(){return this.eet},n.ret=function(){return this.Gnt},n.uet=function(){return this.qnt},n.oet=function(){return this.jnt},n.aet=function(){return this.Ynt},t}(),KU=function(){function t(t){this.het=void 0,this.tC=void 0,this.cet=void 0,this.fet=void 0,this.vet=void 0,this.let=void 0,this.det=void 0,this.wet=void 0,this._et=void 0,this.met=void 0,this.Ak=void 0,this.Fnt=void 0,this.yet=void 0,this.qnt=void 0,this.Gnt=void 0,this.Ynt=void 0,this.jnt=void 0,this.het=t,this.tC=!1,this.cet=!1,this.fet=0,this.vet=0,this.let=0,this.det=0,this.wet=0,this._et=YU.ket,this.met=[],this.Ak=0,this.Fnt=0,this.yet=0,this.qnt=!1,this.Gnt=!1,this.Ynt=OU,this.jnt=BU,this.pet()}var n=t.prototype;return n.bet=function(t,n,i,e,r,s,u){this.tC=t,this.vet=n,this.fet=i,this.let=e,this.cet=r,this.det=s,this.wet=u},n.pet=function(){this.met=[];for(var t=0;t<$U;t++)this.met.push(this.Aet())},n.Aet=function(){for(var t=[],n=0;n<JU;n++)t.push(null);return t},n.Tet=function(t){this.Eet()&&(this.met[this.Fnt][this.yet]=new ZU(t,this.Gnt,this.qnt,this.jnt,this.Ynt),this.yet++)},n.Iet=function(){this.Eet()&&(this.yet<=0&&this.Fnt<=0||(this.yet<=0?(this.yet=this.wet-1,this.Fnt--):this.yet--,this.met[this.Fnt][this.yet]=null))},n.Eet=function(){var t=this.Fnt<this.det&&this.Fnt>=0,n=this.yet<this.wet&&this.yet>=0;return t&&n},n.Ret=function(){return this.tC},n.Det=function(t){for(var n=0,i=t;i<$U;i++,n++)this.met[n]=this.met[i];for(var e=0;e<t;e++,n++)this.met[n]=this.Aet()},n.Net=function(){if(this.Fnt+1>=this.det)return this.Det(1),void(this.yet=0);this.Fnt++,this.yet=0},n.Cet=function(){this.met[this.Fnt]=this.Aet(),this.yet=0},n.Qnt=function(t,n){if(this.Ak>=t)return null;var i=PU.Snt(this.met,this.Ak,t);return i?(this.Pet(t),{hk:i,Wl:"svc"+n,Znt:n}):null},n.Bet=function(t,n){this.Fnt=t,this.yet=n},n.Oet=function(t){this.jnt=t},n.xet=function(t){this.Ynt=t},n.Let=function(t){this.Gnt=t},n.Met=function(t){this.qnt=t},n.Uet=function(){this.Fnt=0,this.yet=0,this.Gnt=!1,this.qnt=!1,this.Ynt=OU,this.jnt=BU},n.Xet=function(t){this._et=t},n.Het=function(){this.tC=!0},n.uy=function(){this.tC=!1},n.Fet=function(){this.tC=!this.tC},n.Pet=function(t){this.Ak=t},t}();!function(t){t[t.zet=0]="zet",t[t.Vet=1]="Vet",t[t.ket=2]="ket",t[t.Wet=3]="Wet"}(YU||(YU={}));var JU=42,$U=15,tX=function(){function t(t){this.Get=void 0,this.qet=void 0,this.Yet=void 0,this.Get=t,this.qet=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Yet=void 0}var n=t.prototype;return n.jet=function(t){var n=t.Qet(),i=n.Ti,e=n.Bit;i===sX&&(i=i<<16|t.Qet().Ti);return i>=0&&i<=31?this.Zet(i,e):i>=128&&i<=159?this.Ket(t,i,e):(i>=4096&&i<=4127?this.Jet(t,255&i):i>=4224&&i<=4255?this.$et(t,255&i):i>=32&&i<=127?this.trt(i):i>=160&&i<=255?this.nrt(i):i>=4128&&i<=4223?this.irt(255&i):i>=4256&&i<=4351&&this.ert(255&i),null)},n.trt=function(t){this.Yet&&(127!==t?this.Yet.Tet(String.fromCharCode(t)):this.Yet.Tet("\u266a"))},n.nrt=function(t){this.Yet&&this.Yet.Tet(String.fromCharCode(t))},n.irt=function(t){if(this.Yet)if(void 0!==uX[t]){var n=uX[t];this.Yet.Tet(n)}else this.Yet.Tet("_")},n.ert=function(t){this.Yet&&(160===t?this.Yet.Tet("[CC]"):this.Yet.Tet("_"))},n.Zet=function(t,n){if(!this.Yet)return null;var i=this.Yet,e=null;switch(t){case nX:i.Iet();break;case eX:i.Ret()&&(e=i.Qnt(n,this.Get)),i.Net();break;case rX:i.Ret()&&(e=i.Qnt(n,this.Get)),i.Cet();break;case iX:i.Ret()&&(e=i.Qnt(n,this.Get)),i.pet(),i.Bet(0,0)}return e},n.Ket=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.rrt(e)}else{if(136===n){var r=t.Qet().Ti;return this.urt(r,i)}if(137===n){var s=t.Qet().Ti;this.ort(s,i)}else{if(138===n){var u=t.Qet().Ti;return this.art(u,i)}if(139===n){var o=t.Qet().Ti;return this.hrt(o,i)}if(140===n){var a=t.Qet().Ti;return this.crt(a,i)}if(143===n)return this.wc(i);if(144===n)this.frt(t);else if(145===n)this.vrt(t);else if(146===n)this.Bet(t);else if(151===n)this.lrt(t);else if(n>=152&&n<=159){var h=(15&n)-8;this.bet(t,h,i)}}}return null},n.Jet=function(t,n){n>=8&&n<=15?t.NA(1):n>=16&&n<=23?t.NA(2):n>=24&&n<=31&&t.NA(3)},n.$et=function(t,n){n>=128&&n<=135?t.NA(4):n>=136&&n<=143&&t.NA(5)},n.rrt=function(t){this.qet[t]&&(this.Yet=this.qet[t])},n.drt=Dr.mark(function t(n){var i;return Dr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.qet[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.urt=function(t,n){for(var i=null,e=0,r=this.drt(t);e<r.length;e++){var s=r[e],u=this.qet[s];u.Ret()&&(i=u.Qnt(n,this.Get)),u.pet()}return i},n.ort=function(t,n){for(var i=0,e=this.drt(t);i<e.length;i++){var r=e[i],s=this.qet[r];s.Ret()||s.Pet(n),s.Het()}},n.art=function(t,n){for(var i=null,e=0,r=this.drt(t);e<r.length;e++){var s=r[e],u=this.qet[s];u.Ret()&&(i=u.Qnt(n,this.Get)),u.uy()}return i},n.hrt=function(t,n){for(var i=null,e=0,r=this.drt(t);e<r.length;e++){var s=r[e],u=this.qet[s];u.Ret()?i=u.Qnt(n,this.Get):u.Pet(n),u.Fet()}return i},n.crt=function(t,n){for(var i=null,e=0,r=this.drt(t);e<r.length;e++){var s=r[e],u=this.qet[s];u.Ret()&&(i=u.Qnt(n,this.Get)),this.qet[s]=void 0}return i},n.wc=function(t){var n=this.crt(255,t);return this.Ou(),n},n.Ou=function(){this.Yet=void 0,this.qet=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.frt=function(t){t.NA(1);var n=t.Qet().Ti;if(this.Yet){var i=(128&n)>0,e=(64&n)>0;this.Yet.Met(i),this.Yet.Let(e)}},n.vrt=function(t){var n=t.Qet().Ti,i=t.Qet().Ti;if(t.NA(1),this.Yet){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,a=(48&i)>>4,h=this.wrt(s,r,e),c=this.wrt(a,o,u);this.Yet.xet(h),this.Yet.Oet(c)}},n.Bet=function(t){var n=t.Qet().Ti,i=t.Qet().Ti;if(this.Yet){var e=15&n,r=63&i;this.Yet.Bet(e,r)}},n.lrt=function(t){t.NA(1),t.NA(1);var n=t.Qet().Ti;if(t.NA(1),this.Yet){var i=3&n;this.Yet.Xet(i)}},n.bet=function(t,n,i){var e=void 0!==this.qet[n];if(!e){var r=new KU(n);r.Pet(i),this.qet[n]=r}var s=t.Qet().Ti,u=t.Qet().Ti,o=t.Qet().Ti,a=t.Qet().Ti,h=t.Qet().Ti,c=t.Qet().Ti,f=(32&s)>0,v=127&u,l=(128&u)>0,d=o,w=1+(15&a),_=(240&a)>>4,g=1+(63&h);e&&0===(7&c)||this.qet[n].Uet(),this.qet[n].bet(f,v,d,_,l,w,g),this.Yet=this.qet[n]},n.wrt=function(t,n,i){var e={0:0,1:0,2:1,3:1};return oX[e[t]<<2|e[n]<<1|e[i]]},t}(),nX=8,iX=12,eX=13,rX=14,sX=16,uX={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},oX=["black","blue","green","cyan","red","magenta","yellow","white"],aX=function(){function t(){this._rt=void 0,this.grt=void 0,this.mrt=void 0,this._rt=[],this.grt=null,this.mrt=0}var n=t.prototype;return n.yrt=function(t){if(t._s===GM.htt){var n=63&t.Ti;return this.mrt=2*n-1,void(this.grt=[])}if(this.grt&&(this.mrt>0&&(this.grt.push(t),this.mrt--),0===this.mrt)){var i=new hX(this.grt);this._rt.push(i),this.grt=null,this.mrt=0}},n.krt=function(){return this._rt},n.prt=function(){this._rt=[]},n.Ou=function(){this._rt=[],this.grt=[],this.mrt=0},t}(),hX=function(){function t(t){this.brt=void 0,this.Art=void 0,this.brt=0,this.Art=t}var i=t.prototype;return i.Trt=function(){return this.brt<this.Art.length},i.Srt=function(){return this.brt},i.Qet=function(){if(!this.Trt())throw new tf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Art[this.brt++]},i.NA=function(t){if(this.brt+t>this.Art.length)throw new tf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.brt+=t},t}(),cX=function(){function t(){this.Ert=void 0,this.Irt=void 0,this.Rrt=void 0,this.Drt=void 0,this.Nrt=void 0,this.Crt=void 0,this.Prt=void 0,this.Brt=void 0,this.Ort=!1,this.Ert=[],this.Irt=[],this.Rrt=new aX,this.Drt=0,this.Nrt=Or({CC1:new GU(0,0),CC2:new GU(0,1),CC3:new GU(1,0),CC4:new GU(1,1)}),this.Crt=0,this.Prt=0,this.Brt=Br(),this.wc()}var i=t.prototype;return i.Ou=function(){this.Drt=0,this.Ert=[],this.Irt=[],this.Rrt.Ou(),this.wc(),this.Brt.forEach(function(t){t.Ou()})},i.wc=function(){this.Crt=0,this.Prt=0,this.Nrt.forEach(function(t){t.wc()})},i.I8=function(t,n){if(t.Att){var i=t.Ttt,e=t.Stt,r=t._s;r===GM.utt||r===GM.ott?this.Ert.push({Bit:n,_s:r,Qit:i,Pit:e,xrt:this.Ert.length}):this.Ort&&(this.Irt.push({Bit:n,_s:r,Ti:i,xrt:this.Irt.length}),this.Irt.push({Bit:n,_s:GM.att,Ti:e,xrt:this.Irt.length}))}},i.CB=function(){var t=[];Is(this.Ert,function(t,n){return t.Bit-n.Bit||t.xrt-n.xrt}),Is(this.Irt,function(t,n){return t.Bit-n.Bit||t.xrt-n.xrt});for(var n=0,i=this.Ert;n<i.length;n++){var e=i[n],r=this.Lrt(e);r&&t.push(r)}for(var s=0,u=this.Irt;s<u.length;s++){var o=u[s];this.Rrt.yrt(o)}for(var a=this.Rrt.krt(),h=0;h<a.length;h++){var c=a[h],f=this.Mrt(c);t.push.apply(t,f)}return this.Rrt.prt(),this.Ert=[],this.Irt=[],t},i.Lrt=function(t){var n=t._s;if(GU.iet(t.Qit)){var i=t.Qit>>3&1;0===n?this.Crt=i:this.Prt=i}var e="CC"+(n<<1|(n?this.Prt:this.Crt)+1),r=this.Nrt.get(e);return 255===t.Qit&&255===t.Pit||!t.Qit&&!t.Pit||!this.Urt(t.Qit)||!this.Urt(t.Pit)?(++this.Drt>=45&&this.wc(),null):(this.Drt=0,t.Qit&=127,t.Pit&=127,t.Qit||t.Pit?GU.iet(t.Qit)?r.jit(t):r.qit(t.Bit,t.Qit,t.Pit):null)},i.Mrt=function(t){var i=[];try{for(;t.Trt();){var e=t.Qet().Ti,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.Qet().Ti;if(0!==r){if(!this.Brt.has(r)){var u=new tX(r);this.Brt.set(r,u)}for(var o=this.Brt.get(r),a=t.Srt();t.Srt()-a<s;){var h=o.jet(t);h&&i.push(h)}}}}catch(t){if(!(t instanceof tf&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.Urt=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),fX=function(t){function n(n,i){var e;return(e=t.call(this,"Xrt")||this).Znt=n,e.hk=i,e}return S(n,t),n}(_u),vX=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Hrt=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];this.Frt(e,e.$Z.Fk()+n)}this.CB()},n}(function(t){function n(){var n;return(n=t.call(this)||this).zrt=void 0,n.zrt=new cX,n}S(n,t);var i=n.prototype;return i.Frt=function(t,n){this.zrt.I8(t,n)},i.CB=function(){for(var t=this.zrt.CB(),n=0;n<t.length;n++){var i=t[n];this.$s(new fX(i.Znt,i.hk))}},i.wc=function(){this.zrt.Ou()},i.$c=function(){this.ou(),this.zrt.Ou()},n}(du)),lX=function(t){function n(n){var i;return(i=t.call(this)||this).Vrt=void 0,i.Wrt=void 0,i.Grt=NaN,i.qrt=NaN,i.Yrt=void 0,i.GE=void 0,i.jrt=function(t){i.Qrt({Zrt:t.Znt,Krt:""}).KE(t.hk)},i.GE=n,i.Yrt=Br(),i.Vrt=new vX,i.Vrt.tu("Xrt",i.jrt),i}S(n,t);var i=n.prototype;return i.Jrt=function(t){return this.Yrt.get(t)},i.Qrt=function(t){var n=this.Yrt.get(t.Zrt);return n||(n=this.$rt(t),this.Yrt.set(t.Zrt,n)),n},i.$rt=function(t){var n,i=function(t){if(t!==rU)for(var n=t.toLowerCase(),i=0;i<uU.length;i++){var e=uU[i];if(e[1]===n||e[2]===n||e["2T"]===n||e["2B"]===n||e[3]===n)return e}}(t.Krt),e=i?i._i:"";t.tst&&(e="easy "+e),n=t.Z_?"CC "+t.Z_:e?"CC "+e:"CC"+t.Zrt;var r=this.GE.QE(Pp.PE,n,n,e,!1,ky.CEA608);return this.B_(r),r},i.X7=function(t){var n=op.jA(xo(t));this.Wrt=function(t){for(var n=0;n<t.hT.length;n++){var i=t.hT[n],e={bT:(h=t.hT[n]).FA.bT,Jtt:h.mT.FA.Op},r=i.mT.NT.BT.xT.MT,s=xs(r,function(t){return t._s===fk.Lb});if(!s){var u=xs(r.filter(function(t){return t._s===fk.$b}),function(t){var n;return(null==(n=t.TS)?void 0:n._s)===fk.Lb});u&&(s=u.TS)}if(s){var o=uN(xo(s.fS.zi),new zo),a=s.lS;return Nr({},e,{bT:i.FA.bT,fS:Fo(s.fS.zi),Xk:s.Xk,ST:s.ST,LS:a&&a.LS,xS:a&&a.xS,Wz:o.cz,nst:o.fz,Gz:o.vz,wz:o.wz[0],_z:o._z[0]})}}var h}(n.filter(SU)[0])},i.l5=function(t,n,i,e){if(this.Wrt&&(m(this.Grt)||!Ut(this.Grt,n,1e-5))){m(this.qrt)||Ut(n,this.qrt,1e-5)||this.Vrt.wc();var r=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.RE.ont&&n.push.apply(n,e.RE.ont),delete e.RE.ont}for(var r=0;r<n.length;r+=1)n[r].GS=r;return n.sort(VB)}(function(t,n,i,e,r){for(var s=[],u=n.filter(pU),o=e(i),a=0;a<u.length;a++){var h,c=u[a],f=xs(c.hT,function(t){return t.FA.bT===i.bT});if(f)for(var v=f.FA.XS||0,l=f.FA.HS||0,d=f.ZS?f.ZS.ZS:ft.ZERO,w=c.WS+(null!=(h=f.FA.KS)?h:ft.ZERO).toNumber(),_=0,g=f.QS;_<g.length;_++)for(var m=g[_],y=w+(m.WS||0),k=0,p=m.iE;k<p.length;k++){var b=p[k],A=b.xu||l,T=new KM;T.dtt(t,y,y+A);var S=rk.rp(d,i.Jtt);T.RE=r(b,c,i,S,Xo(t,y,y+A)),s.push(T),y+=A,d=d.add(b.nm||v||o)}}return s}(t,op.jA(xo(t)),this.Wrt,kU,TU));this.Vrt.Hrt(r,e),this.Grt=n,this.qrt=i}},i.wc=function(){var n=this;return this.Vrt.wc(),this.Yrt.forEach(function(t){t.$c(),n.O_(t),n.GE.JE(t)}),this.Yrt.clear(),this.Wrt=void 0,this.Grt=NaN,this.qrt=NaN,t.prototype.wc.call(this)},i.$c=function(){return this.Vrt.au("Xrt",this.jrt),this.Vrt.$c(),t.prototype.$c.call(this)},n}(Jp);function dX(t){if(t._s===cx.Q1&&void 0!==t.I$){var n=t.I$.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.I$.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}var wX=function(){function t(t){this.x6=void 0,this.ist=!1,this.x6=t}var n=t.prototype;return n.rst=function(t,n){return this.ist?this.x6.rst(t,n):We.resolve(!1)},n.Y5=function(t,n){return this.ist?this.x6.Y5(t,n):We.resolve(void 0)},n.j6=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.x6.j6(t));case 2:return n=i.sent,this.ist=void 0!==n,i.abrupt("return",n);case 5:case"end":return i.stop()}},null,this,null,We)},n.bU=function(t){return this.x6.bU(t)},t}(),_X="LLHLSPlayer",gX=[vm.Qg,vm.Zg,vm.Kg,vm.b_],mX=[Tf.Wf,Tf.qf,Tf.Rf],yX=50,kX=3e4,pX=function(t){function e(e,r,s,u,o,a,h){var c;return(c=t.call(this)||this).PD=void 0,c.qE=void 0,c.FD=void 0,c.XD=void 0,c.sst=void 0,c.ust=void 0,c.ost=void 0,c.ast=void 0,c.x6=void 0,c.xm=void 0,c.Lm=void 0,c.Mm=void 0,c.hst=Br(),c.cst=void 0,c.fst=void 0,c.UD=void 0,c.L7=void 0,c.M7=void 0,c.vst=!1,c.YE=new Ks,c.lst=void 0,c.e5=void 0,c.BD=void 0,c.R8=void 0,c.dst=void 0,c.wst=new Ks,c._st=void 0,c.i5=void 0,c.gst=void 0,c.mst=void 0,c.yst=void 0,c.kst=void 0,c.pst=void 0,c.bst=void 0,c.Ast=void 0,c.Tst=void 0,c.Sst=[],c.tG=void 0,c.iG=void 0,c.Est=void 0,c.Ist=void 0,c.Rst=void 0,c.s7=void 0,c.Dst=new Ks,c.Nst=void 0,c.JY=new Ks,c.KY=void 0,c.Cst=-1,c.Pst=void 0,c.Bst=void 0,c.Ost=void 0,c.xst=void 0,c.Lst=void 0,c.Mst=void 0,c.Ust=void 0,c.Xst=!0,c.Hst=0,c.Fst=!1,c.tP=1,c.LD=eS.jN,c.OD=void 0,c.xD=void 0,c.rG=fS.qC(),c.zst=[],c.Vst=void 0,c.Wst=!1,c.Gst=void 0,c.qst=void 0,c.Yst=!1,c.jst=!1,c.Qst=void 0,c.Zst=void 0,c.zD=new jT,c.Kst=0,c.handleContentProtectionErrorEvent=function(t){c.OD=ey(t.errorObject),c.xD=t.errorObject,c.Js(t)},c.handleBufferingErrorEvent=function(t){c.WD(new tf(n.ErrorCode.MEDIA_LOAD_ERROR,t.Au.message,t.Au))},c.Jst=function(){c.$st();var t=c.nm;t!==c.Gst&&(c.Gst=t,c.$s(new mm(c.Gst)))},c.tut=function(){c.im&&c.$s(new pm(c.tm))},c.nut=function(){c.$s(new dm(c.tm))},c.iut=function(){c.$s(new wm(c.tm))},c.YD=function(){void 0!==c.Zst&&i.Qn(c.Zst),c.$s(new mb(c.tm))},c.eut=function(){c.$s(new ID(c.tm))},c.uI=function(){c.$s(new Rm(c.tm,c.wg))},c.Hq=function(){var t=c.J$;zs(c.zst,t)||(c.$s(new GL),c.zst=t),c.$s(new km(c.tm,c.Ay))},c.rut=function(t){c.Kst+=t.P8,"h9"===t.N8&&t.Md===ry.Pd&&au(c.A1())},c.aG=function(){c.$s(new Am(c.tm))},c.qD=function(){c.$s(new Tm(c.tm))},c.sut=function(){c.$s(new Sm(c.tm,c.wm))},c.uut=function(){c.PD.vm?c.$s(new gb(c.tm)):(c.Zst=i.Zn(function(){c.jst&&(c.Qst=void 0,au(c.out()))},FM),c.$s(new gb(c.tm)))},c.aut=function(){c.jst=!0,c.$s(new Em(c.tm,c.wg))},c.hut=function(t){$s(t)||Up(t)||Xp(t)||(c.cut(),au(c.fut()),c.$s(new nx(t)))},c.u5=function(){c.$st()},c.vut=function(t){au(c.lut(t.Y$))},c.wut=$(function(t){var n=[c.R8,c.Nst,c.KY].filter(H);c.JY=new Ks,c.KY=c.oQ(n,t,c.JY.js).catch(c.hut)},yX),c._ut=function(t){if(!$s(t)){var i=t instanceof tf?t:new tf(n.ErrorCode.MEDIA_DECODE_ERROR,t.message,t);c.WD(i)}},c.onTextTrackChange=function(t){if(c.kst){var n=t.h_,i=xs(c.kst.b3,function(t){return n===c.hst.get(t.j_)});i&&(n.fg===Rg.og||n.fg===Rg.ag?(au(c.gut(i)),c.hst.forEach(function(t){t!==n&&(t.fg=Rg.rg)})):c.Ast&&c.Ast===i&&au(c.mut(c.pst,c.bst,void 0)))}},c.retryOfflineRenditionsCallback=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(c.yut===t||c.e0===t||c.s0===t){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,Dr.awrap(c.i5.W6(t,n));case 4:t.b$.V4=-1/0;case 5:case"end":return i.stop()}},null,null,null,We)},c.kut=function(){c.but()},c.Aut=function(){c.Tut()},c.Sut=function(t){c.i5.J6(t.yz,t.Y$.b$),c.cst.T0();var n=c.kst;if(n){var i=void 0!==c.pst&&!Hs(n.b0,c.pst),e=void 0!==c.bst&&!Hs(n.A0,c.bst);(i||e)&&c.mut(i?void 0:c.pst,e?void 0:c.bst,c.Ast).catch(K)}},c.Eut=function(t){c.i5.Z6(t.Y$)},c.sP=s,c.H5=u,c.Iut=o,c.x6=new wX(a),c.PD=e,c.qE=new VO(r,c.sP),c.FD=new tx(c.sP.OL),c.ost=new ix(c.PD),c.ast=new dx(c.sP),c.Ust=h.retryConfiguration,c.xm=new sy,c.Lm=new sy,c.cst=new zO(Kt(c),c.xm,c.Lm),c.fst=new Bp,c.UD=new tb(c.PD,c.qE),c.L7=new qM(c.PD),c.M7=new lX(c.PD),c.Mm=new GT([c.fst,c.UD.hT,c.L7.hT,c.M7.hT]),c.XD=new VT(c.qE),c.PD.uN=c.XD,c.sst=new AX(Kt(c),c.PD),c.ust=new kb(c.sst,!0),c.Rut(),c}S(e,t);var r=e.prototype;return r.Dut=function(t){return Ws(t,function(t){return t.vD})},r.out=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(this.Nut());case 2:if(void 0!==(t=e.sent)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Dr.awrap(this.Cut(t));case 7:if((n=e.sent).length>0&&(t=n),void 0===(i=this.Dut(t))){e.next=14;break}return e.next=13,Dr.awrap(this.i0(i,!0));case 13:this.FD.l1(i.vD);case 14:case"end":return e.stop()}},null,this,null,We)},r.$st=function(){var t=function(t){for(var n=new fS([0,1/0]),i=0,e=0;e<t.length;e++){var r=t[e],s=r.b$.Ly;s.M_>0&&(n=n.kC(s),i=w.max(i,s.oC(0)))}if(n.M_>0)return n;return fS.GC(i)}([this.pst,this.bst].filter(H));0!==t.M_&&(this.BD&&this.BD.dH&&this.Put&&(t=new fS([t.oC(0),this.BD.nm])),this.rG=t,this.L7.WE(t.oC(0)),this.M7.WE(t.oC(0)))},r.Zm=function(){return!1},r.vy=function(){return dS},r.uy=function(){HO.NT(_X,"Hiding the player."),this.PD.uy()},r.qm=function(){HO.NT(_X,"Pausing the player."),this.PD.qm()},r.Gm=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.PD.Gm(),this.vst){n.next=4;break}return n.next=4,Dr.awrap(this.Jh());case 4:return n.next=6,Dr.awrap(t);case 6:case"end":return n.stop()}},null,this,null,We)},r.But=function(){this.OD=void 0,this.xD=void 0},r.WD=function(t){this.OD||(au(this.wc()),this.OD=ey(t),this.xD=t,this.$s(new Dm(t)))},r.sy=function(){HO.NT(_X,"Showing the player."),this.PD.sy()},r.Km=function(){throw new v("Not implemented")},r.Jm=function(){throw new v("Not implemented")},r.py=function(){},r.Qm=function(t,n,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(HO.NT(_X,"Setting the player source to "+t.src+"."),this.But(),!this.lst||um(this.lst)){r.next=6;break}return r.next=5,Dr.awrap(this.wc());case 5:tu(e);case 6:if(t.src&&!um(t)){r.next=8;break}return r.abrupt("return");case 8:this.XD.wD(t.contentProtection),this.e5=t,this.tu(_O.k$,this.handleBufferingErrorEvent),this.i5=new XL(this.qE,this.x6,t.useCredentials,i.Ur(t.src)),this.i5.tu(OL.E6,this.u5),this.i5.tu(OL.I6,this.vut),this.i5.tu(Tf.Lf,this.Js),this.i5.tu(Tf.Mf,this.Js),this._st=new WL(t,this.i5,this.PD),this.Mm.TD(this._st.Vm),this.s7=this.Iut.kJ(),n.textTracks&&this.lN(n.textTracks),sb(this.Mm),this.Out();case 22:case"end":return r.stop()}},null,this,null,We)},r.Out=function(){this.wst.Gs(),this.wst=new Ks,this.dst=this.xut(this.dst,this.wst.js).catch(this._ut)},r.xut=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.LD,!t){e.next=5;break}return e.next=4,Dr.awrap(t);case 4:tu(n);case 5:if(i!==eS.jN&&this.i5){e.next=7;break}return e.abrupt("return");case 7:if(i!==eS.gA){e.next=10;break}return this.Lut(n).catch(this._ut),e.abrupt("return");case 10:this.Jh().catch(this._ut);case 11:case"end":return e.stop()}},null,this,null,We)},r.Lut=function(t){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.i5){e.next=2;break}return e.abrupt("return");case 2:if(this.i5.t5){e.next=13;break}return e.prev=3,e.next=6,Dr.awrap(this.i5.M6(t));case 6:e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(3),nu(e.t0),this.By=!1,new tf(n.ErrorCode.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+e.t0.message,e.t0);case 13:return e.next=15,Dr.awrap(this.Mut());case 15:return i=e.sent,this.Uut(i),this.cst.y0(),e.next=20,Dr.awrap(this.Xut(i,t));case 20:this.Hut();case 21:case"end":return e.stop()}},null,this,[[3,8]],We)},r.Mut=function(){var t,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.Tst=this.i5.k0.p0,this.Tst.length){e.next=3;break}throw new tf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");case 3:return e.next=5,Dr.awrap(this.Fut(this.Tst));case 5:if(0!==(t=e.sent).length){e.next=8;break}throw new tf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");case 8:return e.next=10,Dr.awrap(this.Cut(t));case 10:return(i=e.sent).length>0&&(t=i),HO.NT(_X,"Selecting initial active variant stream."),e.abrupt("return",SX(t,this.e5.abr,this.sP));case 14:case"end":return e.stop()}},null,this,null,We)},r.Xut=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(i=IX(t.b0))||this.gst===i){u.next=6;break}return HO.NT(_X,"Detected initial audio rendition."),this.gst=i,u.next=6,Dr.awrap(this.zut(i,n));case 6:if(!(e=TX(t.b3))||this.yst===e){u.next=12;break}return HO.NT(_X,"Detected initial subtitle rendition."),this.yst=e,u.next=12,Dr.awrap(this.zut(e,n));case 12:if(e||(r=TX(t.A3))&&(HO.NT(_X,"Detected initial closed caption rendition."),this.Vut(t,r)),!(s=IX(t.A0))||this.mst===s){u.next=21;break}if(HO.NT(_X,"Detected initial video rendition."),this.mst=s,i&&pO(s,i)){u.next=21;break}return u.next=21,Dr.awrap(this.zut(s,n));case 21:case"end":return u.stop()}},null,this,null,We)},r.Hut=function(){this.Yst||(this.Yst=!0,this.sst.Wut())},r.zut=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this.i5.W6(t,n));case 3:i.next=11;break;case 5:if(i.prev=5,i.t0=i.catch(0),nu(i.t0),!Up(i.t0)&&!Xp(i.t0)){i.next=11;break}return i.next=11,Dr.awrap(this.Gut(t,n));case 11:case"end":return i.stop()}},null,this,[[0,5]],We)},r.Gut=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Fst){e.next=2;break}return e.abrupt("return");case 2:if(t._s===cx.Pd){e.next=7;break}return e.next=5,Dr.awrap(this.qut(t,n));case 5:e.next=18;break;case 7:if(!(this.Tst&&this.Tst.length<=1)){e.next=12;break}return e.next=10,Dr.awrap(this.qut(t,n));case 10:e.next=18;break;case 12:return e.next=14,Dr.awrap(this.Mut());case 14:return i=e.sent,this.Uut(i),e.next=18,Dr.awrap(this.Xut(i,n));case 18:case"end":return e.stop()}},null,this,null,We)},r.Jh=function(){return this.R8?this.R8:(this.R8=this.Mw(this.YE.js).catch(this._ut),this.R8)},r.Mw=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.Yst){n.next=3;break}return n.next=3,Dr.awrap(this.Lut(t));case 3:this.mut(this.gst,this.mst,this.yst).catch(K),this.vst=!0;case 5:case"end":return n.stop()}},null,this,null,We)},r.lN=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.UD.jE(i)}},r.Vut=function(t,n){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i],r=dX(e);void 0!==r&&n.push({Zrt:r,Krt:e.K_||"",Z_:e._i})}return n}(t.A3),e=0;e<i.length;e++){var r=i[e];this.M7.Qrt(r)}if(void 0!==n){var s=dX(n);this.M7.Jrt(s).fg=Rg.ag}},r.n0=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.Yut(i))throw new v("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.Tst=t},r.Yut=function(t){var n=this.k0;return!!n&&Hs(n.p0,t)},r.jut=function(t){if(this.kst)return xs(this.kst.E0,function(n){return n===t})},r.Uut=function(t){if(HO.NT(_X,"Setting active variant stream."),this.kst!==t){var n;if((null==(n=this.kst)?void 0:n.u2)!==(null==t?void 0:t.u2)){if(this.kst)for(var i=0,e=this.kst.b3;i<e.length;i++){var r=e[i];this.JE(r)}if(t)for(var s=0,u=t.b3;s<u.length;s++){var o=u[s];this.Qut(o)}}this.kst=t,this.$s(new bM)}},r.Qut=function(t){var n=this.PD.QE(Pp.wA,void 0,t._i,t.K_,t.A$);this.fst.B_(n),this.hst.set(t.j_,n),n.tu(J_.k_,this.onTextTrackChange)},r.JE=function(t){var n=this.hst.get(t.j_);n&&(n.au(J_.k_,this.onTextTrackChange),this.fst.O_(n),this.hst.delete(t.j_),this.PD.JE(n))},r.Nut=function(){var t,n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(n=null!=(t=this.Tst)?t:this.k0.p0).length||this.Tst){r.next=4;break}return HO.NT(_X,"The HLS stream does not contain any variant streams, skipping ABR selection."),r.abrupt("return",void 0);case 4:if(1!==n.length||this.Tst){r.next=7;break}return HO.NT(_X,"The HLS stream contains only a single variant stream, skipping ABR selection."),r.abrupt("return",void 0);case 7:return r.next=9,Dr.awrap(this.Fut(n));case 9:if((i=r.sent).length){r.next=13;break}return HO.w0(_X,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),r.abrupt("return",void 0);case 13:if(0!==(e=RX(i)).length){r.next=22;break}if(!this.Fst){r.next=17;break}return r.abrupt("return",void 0);case 17:return HO.w0(_X,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),this.Hst++,r.next=21,Dr.awrap(this.Zut(i));case 21:return r.abrupt("return",void 0);case 22:return r.abrupt("return",e);case 23:case"end":return r.stop()}},null,this,null,We)},r.A1=function(){var t,n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(this.Nut());case 2:if(void 0!==(t=u.sent)){u.next=5;break}return u.abrupt("return");case 5:return o=this.PD,a=void 0,h=void 0,a=o.tm,h=o.by.FC(a),n=h?h.hC(0)-a:0,u.next=8,Dr.awrap(this.Cut(t));case 8:return i=u.sent,e={Xk:this.PD.Xk,ST:this.PD.ST,_1:n},u.next=12,Dr.awrap(this.ast.A1(t,this.kst,i,e));case 12:if(r=u.sent,s=!!this.kst&&r.vD<this.kst.vD,!(!!s||this.Kut(r,t,n))){u.next=18;break}return u.next=18,Dr.awrap(this.i0(r,s));case 18:case"end":return u.stop()}var o,a,h},null,this,null,We)},r.Kut=function(t,n,e){var r,s;if(t===this.Q$)return!1;if(t===this.Dut(n))return!0;(!this.Qst||this.Qst.Z$.vD>t.vD)&&(this.Qst={Z$:t,$tt:i.wr()});var u=i.wr()-this.Qst.$tt,o=null!=(r=null==(s=this.s0)?void 0:s.b$.w1)?r:1/0;return e>=w.max(o-1,5)||u>1e3},r.Zut=function(t){var i,e,r,s,u,o=this;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:this.Fst=!0,i=!1,e=0;case 3:if(!(e<t.length)){a.next=20;break}if(r=t[e],a.prev=5,void 0!==(s=this.bst?xs(r.A0,function(t){return kO(t,o.bst)}):void 0)){a.next=9;break}return a.abrupt("continue",17);case 9:return a.next=11,Dr.awrap(this.W6(s));case 11:s.b$.V4=-1/0,i=!0,a.next=17;break;case 15:a.prev=15,a.t0=a.catch(5);case 17:e++,a.next=3;break;case 20:if(!i){a.next=26;break}return this.Hst=0,a.next=24,Dr.awrap(this.Jut());case 24:a.next=30;break;case 26:return this.Hst>=this.Ust.maxRetries&&this.WD(new tf(n.ErrorCode.MEDIA_LOAD_ERROR,"The provided video renditions could not be loaded.")),u=w.min(this.Ust.minimumBackoff*w.pow(2,this.Hst),this.Ust.maximumBackoff),a.next=30,Dr.awrap(cu(u));case 30:return this.Fst=!1,a.next=33,Dr.awrap(this.A1());case 33:case"end":return a.stop()}},null,this,[[5,15]],We)},r.Fut=function(t){var n,i=this;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(Ys(t,function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.yz){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t1=!t.yz.mz,n.t1){n.next=7;break}return n.next=6,Dr.awrap(i.ost.lH('audio/mp4; codecs="'+t.yz.mz+'"'));case 6:n.t1=n.sent;case 7:if(n.t0=n.t1,!n.t0){n.next=15;break}if(n.t2=!t.yz.gz,n.t2){n.next=14;break}return n.next=13,Dr.awrap(i.ost.lH('video/mp4; codecs="'+t.yz.gz+'"'));case 13:n.t2=n.sent;case 14:n.t0=n.t2;case 15:return n.abrupt("return",n.t0);case 16:case"end":return n.stop()}},null,null,null,We)}));case 2:return(n=e.sent).some(function(t){var n;return null==(n=t.yz)?void 0:n.gz})&&(n=n.filter(function(t){return!t.yz||t.yz.gz})),n.some(function(t){var n;return null==(n=t.yz)?void 0:n.mz})&&(n=n.filter(function(t){return!t.yz||t.yz.mz})),e.abrupt("return",n);case 6:case"end":return e.stop()}},null,null,null,We)},r.Cut=function(t){var n=this;return Ys(t,function(t){var i,e,r,s,u=[IX(t.b0),IX(t.A0),TX(t.b3),TX(t.A3)].filter(H);return i=u,e=function(t){return n.$ut(t)},Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=10;break}return s=i[r],t.next=5,Dr.awrap(e(s));case 5:if(t.sent){t.next=7;break}return t.abrupt("return",!1);case 7:r++,t.next=1;break;case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}},null,null,null,We)})},r.$ut=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==t.b$.S1.length){r.next=2;break}return r.abrupt("return",!1);case 2:if((n=t.b$.S1[0]).D$){r.next=5;break}return r.abrupt("return",!1);case 5:return i=n.D$,e=i.E1?wx(i.E1.oC,i.E1.M_):void 0,r.prev=7,r.next=10,Dr.awrap(this.x6.rst(i.Ti,e));case 10:return r.abrupt("return",r.sent);case 13:return r.prev=13,r.t0=r.catch(7),r.abrupt("return",!1);case 16:case"end":return r.stop()}},null,this,[[7,13]],We)},r.i0=function(t,n){var i,e,r,s=this;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.vst){u.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded.");case 2:if(t){u.next=4;break}throw new v("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");case 4:if(this.Yut(t)){u.next=6;break}throw new v("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");case 6:if(t!==this.kst){u.next=9;break}return HO.NT(_X,"Trying to set the already active variant stream, ignoring."),u.abrupt("return");case 9:return i=this.pst?xs(t.b0,function(t){return kO(t,s.pst)}):void 0,e=this.bst?xs(t.A0,function(t){return kO(t,s.bst)}):void 0,r=this.Ast?xs(t.b3,function(t){return kO(t,s.Ast)}):void 0,this.Uut(t),this.Qst=void 0,u.next=16,Dr.awrap(this.mut(i,e,r,n));case 16:case"end":return u.stop()}},null,this,null,We)},r.r0=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.vst){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.kst){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active audio rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active audio rendition to undefined.");case 6:if(n=this.jut(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");case 9:return HO.NT(_X,"Switching audio rendition"),i.next=12,Dr.awrap(this.mut(n,this.bst,this.Ast,!1,!0,!1));case 12:case"end":return i.stop()}},null,this,null,We)},r.u0=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.vst){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.kst){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active video rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.jut(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");case 9:return HO.NT(_X,"Switching video rendition"),i.next=12,Dr.awrap(this.mut(this.pst,n,this.Ast,!1,!1,!0));case 12:case"end":return i.stop()}},null,this,null,We)},r.gut=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.vst){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.kst){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active subtitle rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.jut(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");case 9:return HO.NT(_X,"Switching subtitle rendition"),i.next=12,Dr.awrap(this.mut(this.pst,this.bst,n));case 12:case"end":return i.stop()}},null,this,null,We)},r.lut=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Fst){i.next=2;break}return i.abrupt("return");case 2:if(t._s===cx.Pd){i.next=7;break}return i.next=5,Dr.awrap(this.qut(t,n));case 5:i.next=17;break;case 7:if(!(this.Tst&&this.Tst.length<=1)){i.next=15;break}if(this.bst===t){i.next=11;break}return i.next=11,Dr.awrap(this.mut(this.pst,t,this.Ast));case 11:return i.next=13,Dr.awrap(this.qut(t,n));case 13:i.next=17;break;case 15:return i.next=17,Dr.awrap(this.A1());case 17:case"end":return i.stop()}},null,this,null,We)},r.W6=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this.i5.W6(t,n));case 3:i.next=12;break;case 5:if(i.prev=5,i.t0=i.catch(0),nu(i.t0),!Up(i.t0)&&!Xp(i.t0)){i.next=11;break}return i.next=11,Dr.awrap(this.lut(t,n));case 11:throw i.t0;case 12:case"end":return i.stop()}},null,this,[[0,5]],We)},r.qut=function(t,i){var e,r=this;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(!Hs(this.Sst,t)){s.next=2;break}return s.abrupt("return");case 2:return this.Sst.push(t),s.prev=3,e=t._s===cx.wA||cx.Q1?this.Ust.maxRetries:1/0,s.next=7,Dr.awrap(Nm(function(){return r.retryOfflineRenditionsCallback(t,i)},i,e,this.Ust.minimumBackoff,this.Ust.maximumBackoff));case 7:s.next=12;break;case 9:s.prev=9,s.t0=s.catch(3),this.WD(new tf(n.ErrorCode.MEDIA_LOAD_ERROR,s.t0.message,s.t0));case 12:if(s.prev=12,Us(this.Sst,t),t.b$.V4!==-1/0){s.next=17;break}return s.next=17,Dr.awrap(this.Jut());case 17:return s.finish(12);case 18:case"end":return s.stop()}},null,this,[[3,9,12,18]],We)},r.mut=function(t,n,i,e,r,s){return void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===s&&(s=!1),this.pst===t&&this.bst===n&&this.Ast===i?We.resolve():void 0===t&&void 0===n?We.reject(new v("Trying to buffer no media renditions.")):(this.pst=t,this.bst=n,this.Ast=i,this.$st(),this.$s(new AM),this.JY.Gs(),this.JY=new Ks,this.Dst.Gs(),this.Dst=new Ks,this.Nst=this.tot([this.Nst,this.KY].filter(H),t,n,i,e,r,s,this.Dst.js).catch(this.hut),this.Nst)},r.tot=function(t,n,i,e,r,s,u,o){var a,h,c,f,v,l,d,w,_=this;return Dr.async(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,Dr.awrap(We.all(t.map(function(t){return t.catch(K)})));case 2:return this.cut(),g.next=5,Dr.awrap(this.fut());case 5:return h=[],s&&this.BD&&this.BD.ZW&&h.push(this.BD.ZW.$h(0,1/0)),u&&this.BD&&this.BD.KW&&h.push(this.BD.KW.$h(0,1/0)),g.next=10,Dr.awrap(We.all(h));case 10:return tu(o),g.next=13,Dr.awrap(this.iot(n,i,o));case 13:return c=g.sent,this.eot(n,i,r||c),this.rot(e,r),tu(o),f=n&&i&&pO(n,i),v=[i,f?void 0:n,e].filter(H),g.prev=19,g.next=22,Dr.awrap(We.all(v.filter(function(t){return!t.b$.F4}).map(function(t){var n;return null==(n=_.i5)?void 0:n.G6(t,o)})));case 22:g.next=27;break;case 24:g.prev=24,g.t0=g.catch(19),nu(g.t0);case 27:tu(o),this.lG(),this.$st(),void 0!==this.Vst?this.wut(this.Vst):!this.Wst&&null!=(a=this.Q$)&&a.b$.oC?(d=null==(l=this.Q$)?void 0:l.b$.oC.X2,w=d,d<0&&(w+=this.Q$.b$.U4.hC(this.Q$.b$.U4.M_-1)),this.wut(w)):!this.Wst&&v.every(function(t){return!t.b$.J2})?this.wut(1/0):this.uot.length>0&&this.oot();case 31:case"end":return g.stop()}},null,this,[[19,24]],We)},r.iot=function(t,n,i){var e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return s=void 0!==t&&t!==n,u=void 0!==n,v.next=4,Dr.awrap(this.aot(t,n,this.kst));case 4:if(o=v.sent,tu(i),!this.BD||o){v.next=8;break}return v.abrupt("return",!1);case 8:if(a=void 0!==(null==(e=this.BD)?void 0:e.ZW),h=void 0!==(null==(r=this.BD)?void 0:r.KW),s!==a||u!==h||!o||!this.BD||!this.BD.rH(o)){v.next=17;break}return v.next=14,Dr.awrap(this.hot(i));case 14:return v.next=16,Dr.awrap(this.BD.sH(o));case 16:return v.abrupt("return",!0);case 17:for(c=0,f=this.uot;c<f.length;c++)f[c].y7.forEach(function(t){return t.Gs()});if(this.PD.yQ(),v.prev=19,!this.BD){v.next=23;break}return v.next=23,Dr.awrap(this.PD.wc());case 23:return v.next=25,Dr.awrap(this.cot(o,s,u));case 25:this.BD=v.sent;case 26:return v.prev=26,this.PD.kQ(),v.finish(26);case 29:return v.abrupt("return",!0);case 30:case"end":return v.stop()}},null,this,[[19,,26,29]],We)},r.aot=function(t,n,i){var e,r,s,u,o,a,h,c,f,v,l,d;return Dr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(o=i.yz,a=[],!o||!o.mz){w.next=8;break}h='audio/mp4; codecs="'+o.mz+'"',HO.NT(_X,"Configuring MediaSource for initial audio rendition with codec: "+h+"."),a.push(h),w.next=10;break;case 8:if(void 0===t){w.next=10;break}return w.abrupt("return",void 0);case 10:if(!o||!o.gz){w.next=16;break}c='video/mp4; codecs="'+o.gz+'"',HO.NT(_X,"Configuring MediaSource for initial video rendition with codec: "+c+"."),a.push(c),w.next=18;break;case 16:if(void 0===n){w.next=18;break}return w.abrupt("return",void 0);case 18:if(0!==a.length){w.next=21;break}return HO.w0(_X,"No codecs found on the active variant stream."),w.abrupt("return",void 0);case 21:return f=null!=(e=null==n?void 0:null==(r=n.b$.S1[0])?void 0:r.z2)?e:[],v=null!=(s=null==t?void 0:null==(u=t.b$.S1[0])?void 0:u.z2)?s:[],l=this.i5.k0,w.next=26,Dr.awrap(Cx(this.e5.contentProtection,a,l.S6.concat(v).concat(f),this.qE,this.e5.useCredentials));case 26:return d=w.sent,w.abrupt("return",{_s:ub.nI,wG:a.map(function(t){return{Gl:t}}),hN:d});case 28:case"end":return w.stop()}},null,this,null,We)},r.cot=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,Dr.awrap(this.PD.Jh(t));case 3:e=r.sent,r.next=7;break;case 6:e=new EM(this.PD,n,i);case 7:return this.BD=e,this.lG(),this.but(),this.Tut(),r.abrupt("return",e);case 12:case"end":return r.stop()}},null,this,null,We)},r.lG=function(){var t=this.BD;if(t&&m(t.nm)){var n,i,e,r=null!=(n=null==(i=this.pst)?void 0:i.b$.nm)?n:null==(e=this.bst)?void 0:e.b$.nm;void 0!==r&&r>0&&t.fG(r)}this.$st()},r.but=function(){var t=this.BD;t&&(t.KW&&(t.KW.XL=this.sP.tM),t.ZW&&(t.ZW.XL=this.sP.tM))},r.Tut=function(){var t=this.BD;t&&(t.KW&&(t.KW.VL=this.sP.VL),t.ZW&&(t.ZW.VL=this.sP.VL))},r.eot=function(t,n,i){if(!this.BD)throw new v("Invalid state");this.BD.ZW?this.tG&&this.tG.U7(this.BD.ZW)||(this.tG=new HM(ry.Cd,this.BD.ZW,this.L7,this.M7)):this.tG=void 0,this.BD.KW?this.iG&&this.iG.U7(this.BD.KW)||(this.iG=new HM(ry.Pd,this.BD.KW,this.L7,this.M7)):this.iG=void 0;var e,r,s,u,o,a,h,c,f,l,d,w,_,g,m,y=t&&n&&pO(t,n);if(this.iG&&n){var k=y&&this.tG?[this.iG,this.tG]:[this.iG];this.Ist?this.Ist.Y$!==n&&(i&&(this.Ist.Gs(),this.Ist.o7.Ou()),this.Ist.V8(n)):(this.Ist=(e=n,r=k,this.PD,s=this.i5,u=this.qE,o=this.x6,a=this.H5,h=this.s7,c=this.sP,f=this.e5.useCredentials,l=new lM,d=new aM(ry.Pd,e,s,l,u,o,a,f,c.OL),w=r.map(function(t){return t._s}),_=h.fot(e,l,s.k0.AE,w),(g=new pM(d,l,_,c)).u7(r),g),this.Ist.g7.tu(rM.C8,this.rut),this.Ist.m7.tu(vM.L9,this.Sut),this.Ist.m7.tu(vM.M9,this.Eut)),this.Ist.u7(k)}else{var p;null==(p=this.Ist)||p.Xs(),this.Ist=void 0}this.tG&&t&&!y?(this.Est?this.Est.Y$!==t&&(i&&(this.Est.Gs(),this.Est.o7.Ou()),this.Est.V8(t)):(this.Est=function(t,n,i,e,r,s,u,o,a,h){var c=new lM,f=new aM(ry.Cd,t,e,c,r,s,u,h,a.OL),v=o.fot(t,c,e.k0.AE,[n._s]),l=new pM(f,c,v,a);return l.u7([n]),l}(t,this.tG,this.PD,this.i5,this.qE,this.x6,this.H5,this.s7,this.sP,this.e5.useCredentials),this.Est.g7.tu(rM.C8,this.rut),this.Est.m7.tu(vM.L9,this.Sut),this.Est.m7.tu(vM.M9,this.Eut)),this.Est.u7([this.tG])):(null==(m=this.Est)||m.Xs(),this.Est=void 0);this.vot()},r.rot=function(t,n){this.Rst&&(this.Rst.g7.Y$===t?n&&(this.Rst.Gs(),this.Rst.o7.Ou()):(this.Rst.Xs(),this.Rst=void 0));if(!this.Rst&&t){var i=this.hst.get(t.j_);i.fg=Rg.ag,this.Rst=function(t,n,i,e,r,s,u){var o=i.k0.AE,a=new wM(n,o),h=new lM,c=new aM(ry.ni,t,i,h,e,r,s,u),f=new kM(t,h,o,ry.ni),v=new pM(c,h,f);return v.a7(a),v}(t,i,this.i5,this.qE,this.x6,this.H5,this.e5.useCredentials)}},r.vot=function(){var t=[this.tG,this.iG].filter(H).map(function(t){return t._s});this.i5.k0.AE.c6(t)},r.oQ=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(We.all(t.map(function(t){return t.catch(K)})));case 2:return tu(i),r.next=5,Dr.awrap(this.fut());case 5:tu(i),this.Vst=void 0,this.qst=void 0,this.Wst=!0,e=this.lot.gC(n),this.PD.Xu(e),this.vst&&this.uot.length>0&&(this.dot(this.PD.tm),this.oot());case 12:case"end":return r.stop()}},null,this,null,We)},r.dot=function(t){for(var n=0,i=this.uot;n<i.length;n++){var e=i[n];e.q8(t)||(e.w7(),e.o7.T9()),e.v7(t)||(e._7(),e.o7.S9())}},r.cut=function(){for(var t=0,n=this.uot;t<n.length;t++){n[t].Gs()}},r.fut=function(){return We.all([this.wot(),this._ot(),this.got()])},r.oot=function(){this.mot(),this.yot(),this.kot()},r.Jut=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.vst&&this.uot.length>0)){t.next=6;break}return this.uot.forEach(function(t){return t.w7()}),t.next=4,Dr.awrap(this.wot());case 4:this.mot(),this.uot.forEach(function(t){return t.g7.J8()});case 6:case"end":return t.stop()}},null,this,null,We)},r.mot=function(){var t=this;if(!this.xst){var n=function(){t.xst=void 0};this.Pst=new Ks,this.xst=this.pot(this.Pst.js).catch(this.hut).then(n,n)}},r.wot=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Pst)||t.Gs(),n=this.xst,this.xst=void 0,!n){i.next=6;break}return i.next=6,Dr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r.pot=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:tu(t),n=this.uot;case 2:for(i=[],e=this.PD.tm,r=0;r<n.length;r++)s=n[r],u=s.g7,o=s.c7(e),u.I5?i.push(u.D5()):s.d7(e,o,this.sP.tM)&&((a=u.Y8(o))?(c=a[0],f=a[1],u.s9(c,f,s.g5)):((h=u.Y$.b$.S1).length&&h[0].ck>o&&(this.tm=1/0),u.i9(),u.Z8(o)),i.push(u.D5()));if(0!==i.length){v.next=13;break}if(!n.every(function(t){return t.g7.d9})){v.next=9;break}return v.abrupt("break",17);case 9:return v.next=11,Dr.awrap(this.PD.wu(Tf.ev,t));case 11:v.next=15;break;case 13:return v.next=15,Dr.awrap(eu(We.race(i),t));case 15:v.next=2;break;case 17:case"end":return v.stop()}},null,this,null,We)},r.yot=function(){var t=this;if(!this.Lst){var n=function(){t.Lst=void 0};this.Bst=new Ks,this.Lst=this.bot(this.Bst.js).catch(this.hut).then(n,n)}},r._ot=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Bst)||t.Gs(),n=this.Lst,this.Lst=void 0,!n){i.next=6;break}return i.next=6,Dr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r.bot=function(t){var n,i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:tu(t),n=this.uot;case 2:for(i=[],e=0;e<n.length;e++)r=n[e],s=r.g7,(u=r.m7).I5?i.push(u.D5()):(o=s.W8())?"h9"===o._s?(u.q9(o),i.push(u.D5())):"Y2"===o._s&&(u.W9(o),i.push(u.D5())):i.push(s.t9());if(0!==i.length){a.next=12;break}if(!n.every(function(t){return t.g7.d9})){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Dr.awrap(this.PD.wu(Tf.ev,t));case 10:a.next=14;break;case 12:return a.next=14,Dr.awrap(eu(We.race(i),t));case 14:a.next=2;break;case 16:case"end":return a.stop()}},null,this,null,We)},r.kot=function(){var t=this;if(!this.Mst){this.Ost=new Ks;var n=function(){t.Mst=void 0};this.Mst=this.Aot(this.Ost.js).catch(this.hut).then(n,n)}},r.got=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Ost)||t.Gs(),n=this.Mst,this.Mst=void 0,!n){i.next=6;break}return i.next=6,Dr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r.Aot=function(t){var n,i,e,r,s,u,o,a,h,c,f,v,l,d=this;return Dr.async(function(w){for(;;)switch(w.prev=w.next){case 0:for((n=this.uot).forEach(function(t){return t.h7()}),i=[],e=[],r=[],s=0;s<n.length;s++)for(u=n[s],o=u.m7,a=0,h=u.y7;a<h.length;a++)c=h[a],f=c.S5?i:e,c.I5?f.push(c.D5()):c.N5(this.PD.tm)||((v=o.Z9(c._s))?"h9"===v._s&&v.Z2===this.Cst?(c.x5(v),f.push(c.D5())):"t7"===v._s&&v.Z2===this.Cst&&(c.HV(v),f.push(c.D5())):r.push(o.K9(c._s)));if(0!==i.length){w.next=15;break}if(!((l=Vs(n,function(t){return t.y7.filter(function(t){return t.S5}).map(function(n){return t.m7.Z9(n._s)})})).length>0&&l.every(function(t){return void 0!==t&&"t7"===t._s&&t.Z2!==d.Cst}))){w.next=15;break}return w.next=12,Dr.awrap(function(){var i,e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=Gs(i=l,function(t){return t.Z2}).Z2,!i.every(function(t){return t.Z2===e})){v.next=20;break}return r=Ws(i,function(t){return t.ck}).ck,v.next=7,Dr.awrap(d.Tot(i));case 7:if(s=v.sent,!d.BD.rH(s)){v.next=15;break}return HO.d0("Discontinuity","Seamless switch from",d.BD.cc,"to",s),v.next=12,Dr.awrap(d.BD.sH(s));case 12:HO.d0("Discontinuity","Seamless switch complete."),v.next=17;break;case 15:return v.next=17,Dr.awrap(d.Sot(r,s,t));case 17:d.Cst=i[0].Z2,v.next=21;break;case 20:for(u=0;u<n.length;u++)for(o=n[u],a=0,h=o.y7;a<h.length;a++)for(c=h[a],f=o.m7.Z9(c._s);f&&f.Z2!==e;)o.m7.B5(f),f=o.m7.Z9(c._s);case 21:return v.abrupt("return","continue");case 22:case"end":return v.stop()}},null,null,null,We)}());case 12:if("continue"!==w.sent){w.next=15;break}return w.abrupt("continue",0);case 15:if(0!==i.length||0!==e.length||0!==r.length){w.next=19;break}return n.every(function(t){return t.y7.length>0&&t.y7.every(function(t){return t.N5(d.PD.tm)})})&&this.BD.uW(),w.abrupt("break",23);case 19:return w.next=21,Dr.awrap(eu(We.race([].concat(i,e,r)),t));case 21:w.next=0;break;case 23:case"end":return w.stop()}},null,this,null,We)},r.Tot=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.map(function(t){return t.n7.yz}),i=n.map(function(t){return{Gl:t}}),(e=Vs(t,function(t){return t.n7.z2})).push.apply(e,this.i5.k0.S6),s.next=6,Dr.awrap(Cx(this.e5.contentProtection,n,e,this.qE,this.e5.useCredentials));case 6:return 0===(r=s.sent).length&&this.BD&&this.BD.cc.hN.length>0&&(r=this.BD.cc.hN),s.abrupt("return",{_s:ub.nI,wG:i,hN:r});case 9:case"end":return s.stop()}},null,this,null,We)},r.Sot=function(t,n,i){var e,r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(r=this.BD,s=r.nm,!(u=this.tm<t)){h.next=19;break}h.prev=4,HO.d0("Discontinuity","Marking end of stream and waiting for ended to switch discontinuity."),r.uW();case 7:if(this.PD.im||!(this.PD.tm<t)){h.next=12;break}return h.next=10,Dr.awrap(this.PD.wu([Tf.ev,Tf.Bf],i));case 10:h.next=7;break;case 12:h.next=19;break;case 14:throw h.prev=14,h.t0=h.catch(4),r.iW(),r.fG(s),h.t0;case 19:return HO.d0("Discontinuity","Perform hard switch from",null==(e=this.BD)?void 0:e.cc,"to",n),h.prev=20,this.tm<t&&(this.tm=t),this.PD.yQ(),this.iG=void 0,this.tG=void 0,this.vot(),h.next=28,Dr.awrap(this.PD.wc());case 28:return h.next=30,Dr.awrap(this.PD.Jh(n));case 30:this.BD=h.sent,this.lG(),this.but(),this.Tut(),this.BD.KW&&(this.iG=new HM(ry.Pd,this.BD.KW,this.L7,this.M7)),this.BD.ZW&&(this.tG=new HM(ry.Cd,this.BD.ZW,this.L7,this.M7)),this.vot();case 37:return h.prev=37,u&&au(this.PD.Gm()),this.PD.kQ(),h.finish(37);case 41:this.Ist&&(o=void 0!==this.tG&&void 0===this.Est,a=o?[this.iG,this.tG]:[this.iG],this.Ist.u7(a)),this.Est&&this.Est.u7([this.tG]),HO.d0("Discontinuity","Hard switch complete.");case 44:case"end":return h.stop()}},null,this,[[4,14],[20,,37,41]],We)},r.hot=function(t){return eu(hu(Vs(this.uot,function(t){return t.y7.map(function(t){return t.D5()})})),t)},r.$c=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return HO.NT(_X,"Unloading the player."),this.Eot(),this.But(),t.next=5,Dr.awrap(this.wc());case 5:return this.PD.uN=void 0,this.fst.$c(),t.next=9,Dr.awrap(this.UD.$c());case 9:return t.next=11,Dr.awrap(this.L7.$c());case 11:return t.next=13,Dr.awrap(this.M7.$c());case 13:this.xm.$c(),this.Lm.$c(),this.Mm.$c(),this.ust.$c(),this.sst.Xs(),this.H5.Xs();case 19:case"end":return t.stop()}},null,this,null,We)},r.wc=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return HO.NT(_X,"Resetting the player."),this.au(_O.k$,this.handleBufferingErrorEvent),this.Cst=-1,this.wst.Gs(),this.wst=new Ks,this.YE.Gs(),this.YE=new Ks,this.JY.Gs(),this.JY=new Ks,this.Dst.Gs(),this.Dst=new Ks,t=[this.dst,this.R8,this.KY,this.Nst].filter(H),n.next=14,Dr.awrap(We.all(t.map(function(t){return t.catch(K)})));case 14:return this.dst=void 0,this.R8=void 0,this.KY=void 0,this.Nst=void 0,this.pst=void 0,this.bst=void 0,this.Ast=void 0,this.Tst=void 0,this.gst=void 0,this.mst=void 0,this.yst=void 0,this.Sst=[],this.Uut(void 0),this.cut(),n.next=30,Dr.awrap(this.fut());case 30:return this.Est&&(this.Est.Xs(),this.Est=void 0),this.Ist&&(this.Ist.Xs(),this.Ist=void 0),this.Rst&&(this.Rst.Xs(),this.Rst=void 0),this.tG=void 0,this.iG=void 0,this.BD=void 0,this.s7&&(this.s7.Xs(),this.s7=void 0),this.i5&&(this.i5.Xs(),this.i5=void 0),this._st&&(this.Mm.ED(this._st.Vm),this._st=void 0),n.next=41,Dr.awrap(this.UD.wc());case 41:return n.next=43,Dr.awrap(this.L7.wc());case 43:return n.next=45,Dr.awrap(this.M7.wc());case 45:return this.PD.yN(),n.next=48,Dr.awrap(this.PD.wc());case 48:this.e5=void 0,this.lst=void 0,this.vst=!1,this.tP=1,this.rG=fS.qC(),this.Vst=void 0,this.Gst=void 0,this.qst=void 0,this.Wst=!1,this.Yst=!1,this.jst=!1,this.Kst=0,this.ust.wc(),this.Iot(),this.$s(new lm(this.tm,this.wg));case 63:case"end":return n.stop()}},null,this,null,We)},r.Iot=function(){for(var t=0,n=this.xm.L_;t<n.length;t++){n[t].$c()}for(var i=0,e=this.Lm.L_;i<e.length;i++){e[i].$c()}for(var r=0,s=this.Mm.L_;r<s.length;r++){s[r].$c()}this.xm.wc(),this.Lm.wc(),this.Mm.wc(),this.hst.clear()},r.Rut=function(){this.ust.tu(gX,this.Js),this.ust.tu(vm.$g,this.YD),this.ust.tu(vm.Jg,this.uut),this.ust.tu(vm.jg,this.aut),this.sP.tu("HL",this.kut),this.sP.tu("WL",this.Aut),this.PD.tu(mX,this.Js),this.PD.tu(Tf.If,this.handleContentProtectionErrorEvent),this.PD.tu(Tf.Cf,this.Jst),this.PD.tu(Tf.Bf,this.tut),this.PD.tu(Tf.Ff,this.nut),this.PD.tu(Tf.zf,this.iut),this.PD.tu(Tf.Vf,this.eut),this.PD.tu(vm.b_,this.uI),this.PD.tu(Tf.ev,this.Hq),this.PD.tu(Tf.jf,this.aG),this.PD.tu(Tf.Yf,this.qD),this.PD.tu(Tf.rv,this.sut)},r.Eot=function(){this.ust.au(gX,this.Js),this.ust.au(vm.$g,this.YD),this.ust.au(vm.Jg,this.uut),this.ust.au(vm.jg,this.aut),this.sP.au("HL",this.kut),this.sP.au("WL",this.Aut),this.PD.au(mX,this.Js),this.PD.au(Tf.If,this.handleContentProtectionErrorEvent),this.PD.au(Tf.Cf,this.Jst),this.PD.au(Tf.Bf,this.tut),this.PD.au(Tf.Ff,this.nut),this.PD.au(Tf.zf,this.iut),this.PD.au(Tf.Vf,this.eut),this.PD.au(vm.b_,this.uI),this.PD.au(Tf.ev,this.Hq),this.PD.au(Tf.jf,this.aG),this.PD.au(Tf.Yf,this.qD),this.PD.au(Tf.rv,this.sut)},A(e,[{key:"Put",get:function(){for(var t=[this.pst,this.bst].filter(H),n=0;n<t.length;n++){var i=t[n];if(!i.b$.J2)return!1;var e=i.b$.S1,r=e[e.length-1];if(r&&r.Z2!==this.Cst)return!1}return!0}},{key:"Q$",get:function(){return this.kst}},{key:"e0",get:function(){return this.pst}},{key:"s0",get:function(){return this.bst}},{key:"yut",get:function(){return this.Ast}},{key:"Fm",get:function(){return this.xm}},{key:"by",get:function(){return this.PD.by.SN()}},{key:"J$",get:function(){var t=[];if(this.kst)for(var n=this.PD.tm,i=0,e=this.uot;i<e.length;i++)for(var r=0,s=e[i].y7;r<s.length;r++){var u=s[r].P5(n);u&&!Hs(t,u)&&t.push(u)}return t}},{key:"Ay",get:function(){if(this.kst){var t=this.PD.tm;return this.kst.d3(t)}},set:function(t){if(t&&this.kst){var n=this.kst.w3(t);void 0!==n&&(this.tm=n)}}},{key:"tm",get:function(){var t;return null!=(t=this.Vst)?t:this.PD.tm},set:function(t){HO.NT(_X,"Seeking to "+t+" s."),this.Vst=t,this.qst=!0,this.Wst=!0,this.$s(new Am(t)),this.JY.Gs(),this.vst&&this.wut(t)}},{key:"nm",get:function(){var t,n,i,e,r,s,u;if(!this.Put)return null!=(t=null!=(n=null!=(i=null==(e=this.pst)?void 0:e.b$.nm)?i:null==(r=this.bst)?void 0:r.b$.nm)?n:null==(s=this.i5)?void 0:null==(u=s.n5)?void 0:u.b$.nm)?t:1/0;var o=this.PD.nm;if(m(o)){var a,h,c,f=null!=(a=null==(h=this.mst)?void 0:h.b$.nm)?a:null==(c=this.gst)?void 0:c.b$.nm;if(void 0!==f)return f}return o}},{key:"im",get:function(){if(!this.Put)return!1;if(this.vm&&this.vst){var t,n,i=this.tm,e=null==(t=this.pst)?void 0:t.b$.nm,r=null==(n=this.bst)?void 0:n.b$.nm;return!(void 0!==e&&i<e)&&!(void 0!==r&&i<r)}return this.PD.im}},{key:"Au",get:function(){return this.OD}},{key:"um",get:function(){return this.xD}},{key:"Wm",get:function(){}},{key:"Sy",get:function(){return!1}},{key:"Ey",get:function(){return Nr({},{Iy:0,Ry:0,Dy:0,Ny:0,Cy:0,Py:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.PD.IN(),{Cy:this.Kst,Ny:this.sP.OL.vD})}},{key:"k0",get:function(){var t;return null==(t=this.i5)?void 0:t.k0}},{key:"hm",get:function(){return this.PD.hm},set:function(t){this.PD.hm=t}},{key:"By",get:function(){return this.Xst},set:function(t){this.Xst!==t&&(this.Xst=t,this.$s(t?new CM:new PM))}},{key:"cm",get:function(){return this.PD.cm}},{key:"fm",get:function(){return this.PD.fm},set:function(t){HO.NT(_X,"Setting playback rate to "+t+"."),this.PD.fm=t}},{key:"Oy",get:function(){return this.Rot.SN()}},{key:"Rot",get:function(){return this.PD.Oy}},{key:"xy",get:function(){return this.LD},set:function(t){this.LD!==t&&(this.LD=t,this.Out())}},{key:"wg",get:function(){var t=this.PD.wg;return this.Yst&&(t=w.max(jg.Wg,t)),t}},{key:"Ly",get:function(){return this.lot.SN()}},{key:"lot",get:function(){var t=this.rG,n=[this.pst,this.bst].filter(H);if(t.M_>0&&n.some(function(t){return!t.b$.J2})){var i=this.Rot,e=t.hC(t.M_-1);if(i.M_>0&&i.hC(i.M_-1)>e){var r=i.hC(i.M_-1),s=n.reduce(function(t,n){return t.kC(n.b$.U4)},new fS([0,1/0]));s.M_>0&&(r=w.min(r,s.hC(s.M_-1))),t=t.EC(new fS([e,r]))}}return t}},{key:"vm",get:function(){var t;return null!=(t=this.qst)?t:this.PD.vm}},{key:"RN",get:function(){}},{key:"Vm",get:function(){return this.Mm}},{key:"zm",get:function(){return this.Lm}},{key:"lm",get:function(){return this.PD.lm}},{key:"dm",get:function(){return this.PD.dm}},{key:"wm",get:function(){return this.PD.wm},set:function(t){HO.NT(_X,"Setting volume to "+t+"."),this.PD.wm=t}},{key:"My",get:function(){return this.zD}},{key:"Uy",get:function(){return!1},set:function(t){}},{key:"DN",get:function(){return this.FD}},{key:"uot",get:function(){return[this.Est,this.Ist,this.Rst].filter(H)}}]),e}(du),bX=function(){function t(){}return t.prototype.CN=function(n,i){var e;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if($g(n.type)){i.next=2;break}return i.abrupt("return",!1);case 2:if(!n.useNativePlayback){i.next=4;break}return i.abrupt("return",!1);case 4:if(!(e=n.contentProtection)||eA(e)){i.next=12;break}if(uA(e)){i.next=8;break}return i.abrupt("return",!1);case 8:return i.next=10,Dr.awrap(t.Dot(e));case 10:if(i.sent){i.next=12;break}return i.abrupt("return",!1);case 12:return i.abrupt("return",!0);case 13:case"end":return i.stop()}},null,null,null,We)},t.Dot=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.aes128){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t0=t.playready,!n.t0){n.next=7;break}return n.next=6,Dr.awrap(i.Br());case 6:n.t0=n.sent;case 7:if(!n.t0){n.next=9;break}return n.abrupt("return",!0);case 9:if(n.t1=t.widevine,!n.t1){n.next=14;break}return n.next=13,Dr.awrap(i.Or());case 13:n.t1=n.sent;case 14:if(!n.t1){n.next=16;break}return n.abrupt("return",!0);case 16:if(n.t2=t.clearkey,!n.t2){n.next=21;break}return n.next=20,Dr.awrap(i.Cr());case 20:n.t2=n.sent;case 21:if(!n.t2){n.next=23;break}return n.abrupt("return",!0);case 23:if(!t.fairplay){n.next=25;break}return n.abrupt("return",!1);case 25:return n.next=27,Dr.awrap(i.Dr());case 27:return n.abrupt("return",n.sent);case 28:case"end":return n.stop()}},null,null,null,We)},t}(),AX=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).KN=n,e}return S(n,t),n.prototype.Wut=function(){this.$s(new Rm(this.tm,this.wg))},A(n,[{key:"wg",get:function(){return this.KN.wg}}]),n}(pb);function TX(t){var n=xs(t,function(t){return t.A$}),e=t.filter(function(t){return t.T$}),r=i.Gr,s=e.map(function(t){return t.K_}).filter(H),u=RM(s,r);return u?xs(e,function(t){return t.K_===u}):n}function SX(t,n,i){var e=RX(function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,e=n.preferredAudioCodecs;if(void 0!==i){for(var r,s=function(n){var s=i[n],u=t.filter(function(t){return t.yz&&t.yz.gz&&pN(t.yz.gz,s)});if(0===u.length)return"continue";if(void 0===e)return{v:u};void 0===r&&(r=u);var o=EX(u,e);return void 0!==o?{v:o}:void 0},u=0;u<i.length;u++){var o=s(u);if("continue"!==o&&"object"==typeof o)return o.v}if(void 0!==r)return r}if(void 0!==e){var a=EX(t,e);if(void 0!==a)return a}return t}(t,n));switch(i.FL.type){case tR.BANDWIDTH:var r=i.nM,s=e.filter(function(t){return t.vD<=r});if(s.length>0)return Gs(s,function(t){return t.vD});case tR.PERFORMANCE:return Ws(e,function(t){return t.vD});case tR.QUALITY:return Gs(e,function(t){return t.vD})}}function EX(t,n){for(var i=function(i){var e=n[i],r=t.filter(function(t){return t.yz&&t.yz.mz&&pN(t.yz.mz,e)});return 0===r.length?"continue":{v:r}},e=0;e<n.length;e++){var r=i(e);if("continue"!==r&&"object"==typeof r)return r.v}}function IX(t){var n;return null!=(n=TX(t))?n:t[0]}function RX(t){return t.filter(function(t){return t.A0.some(function(t){return t.b$.V4<i.wr()-kX})||0===t.A0.length})}var DX=function(){function t(){}var i=t.prototype;return i.F5=function(t,i,e){var r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Dr.awrap(crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]));case 3:return r=u.sent,u.next=6,Dr.awrap(crypto.subtle.decrypt({name:"AES-CBC",iv:e},r,t));case 6:return s=u.sent,u.abrupt("return",new y(s));case 10:throw u.prev=10,u.t0=u.catch(0),new tf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 13:case"end":return u.stop()}},null,null,[[0,10]],We)},i.Xs=function(){},t.Ac=function(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}(),NX=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return S(n,t),n}(_u),CX=["message","messageerror","error"],PX=function(t){function n(n){var i;return(i=t.call(this,Dg.hg)||this).error=n,i}return S(n,t),n}(_u),BX=function(t){function n(n){var i;return(i=t.call(this)||this).Not=void 0,i.Cot=void 0,i.Pot=[],i.Bot=function(t){if(i.Oot)t.xot();else{i.Not=t,i.Not.tu(CX,i.Js);for(var n=0,e=i.Pot;n<e.length;n++){var r=e[n];t.Lot(r.yu,r.Mot)}Fs(i.Pot)}},i.Uot=function(t){if(!i.Oot){var n=t instanceof v?t:new v("Could not create Worker.");i.$s(new PX(n)),i.xot()}},i.Cot=new Ks,n(i.Cot.js).then(i.Bot,i.Uot),i}S(n,t);var i=n.prototype;return i.Lot=function(t,n){this.Oot||(void 0!==this.Not?this.Not.Lot(t,n):this.Pot.push({yu:t,Mot:n}))},i.xot=function(){this.Oot||(this.Cot.Gs(),Fs(this.Pot),void 0!==this.Not&&this.Not.xot())},A(n,[{key:"Oot",get:function(){return this.Cot.js.Os}}]),n}(du);var OX=function(t){function n(n){var i;return(i=t.call(this)||this).Not=void 0,i.Xot=function(t){i.$s(new NX("message",t.data))},i.Hot=function(t){i.$s(new NX("messageerror",t.data))},i.Xj=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof v?t.error:new v(t.message);i.$s(new PX(n)),i.xot()},i.Not=new k(n),i.Not.addEventListener("message",i.Xot),i.Not.addEventListener("messageerror",i.Hot),i.Not.addEventListener("error",i.Xj),i}S(n,t);var i=n.prototype;return i.Lot=function(t,n){n?this.Not.postMessage(t,n):this.Not.postMessage(t)},i.xot=function(){this.ou(),this.Not.removeEventListener("message",this.Xot),this.Not.removeEventListener("messageerror",this.Hot),this.Not.removeEventListener("error",this.Xj),this.Not.terminate()},n}(du),xX=0,LX="iframe.html",MX=function(n){function e(e,r){var u;(u=n.call(this)||this).Uh=void 0,u.Fot=void 0,u.zot=void 0,u.Vot=void 0,u.Wot=function(){u.zot.removeEventListener("load",u.Wot),u.zot.contentWindow.postMessage({type:"initialize",id:u.Uh,script:u.Fot},"*")},u.Got=function(t){t.origin===u.Vot&&t.data.id===u.Uh&&("initialized"===t.data.type||("error"===t.data.type?(u.$s(new PX(new v(t.data.data.message))),u.xot()):u.$s(new NX("message",t.data.data))))},u.Uh=xX++,u.Fot=e;var o,a,h=i.Mr(LX,r);return u.zot=(o=h.href,(a=s.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,s.body.appendChild(a),a),u.Vot=h.origin,u.zot.addEventListener("load",u.Wot),t.addEventListener("message",u.Got),u}S(e,n);var r=e.prototype;return r.Lot=function(t,n){n?this.zot.contentWindow.postMessage({type:"message",data:t},"*",n):this.zot.contentWindow.postMessage({type:"message",data:t},"*")},r.xot=function(){var n;this.zot.removeEventListener("load",this.Wot),t.removeEventListener("message",this.Got),null==(n=this.zot.contentWindow)||n.postMessage({type:"terminate"},"*"),$e(this.zot)},e}(du);function UX(t,n){return t=i.Ur(t,n),new BX(function(e){return function(t,n,e){var r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,r=new OX(t),v.next=4,Dr.awrap(zX(r,e));case 4:return v.abrupt("return",r);case 7:v.prev=7,v.t0=v.catch(0),null==(s=r)||s.xot(),nu(v.t0);case 11:if(!FX||!bf){v.next=42;break}return v.prev=12,v.next=15,Dr.awrap(i.n_.ld({wd:t,Od:nw.GET,hd:Sf.ni,js:e}));case 15:return o=v.sent,v.next=18,Dr.awrap(o.Fl(e));case 18:u=v.sent,v.next=24;break;case 21:v.prev=21,v.t1=v.catch(12),nu(v.t1);case 24:if(!u){v.next=42;break}return v.prev=25,h=bf([u],{type:"application/javascript"}),a=URL.createObjectURL(h),r=new OX(a),v.next=31,Dr.awrap(zX(r,e));case 31:return v.abrupt("return",r);case 34:v.prev=34,v.t2=v.catch(25),null==(c=r)||c.xot(),nu(v.t2),FX=!1;case 39:return v.prev=39,a&&URL.revokeObjectURL(a),v.finish(39);case 42:return v.prev=42,r=new MX(t,n),v.next=46,Dr.awrap(zX(r,e));case 46:return v.abrupt("return",r);case 49:throw v.prev=49,v.t3=v.catch(42),null==(f=r)||f.xot(),v.t3;case 53:case"end":return v.stop()}},null,null,[[0,7],[12,21],[25,34,39,42],[42,49]],We)}(t,n,e)})}var XX,HX,FX=!0;function zX(t,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(t.wu(["message","error"],i));case 2:if("error"!==(e=r.sent).type){r.next=5;break}throw u=e.error,new tf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",u);case 5:if(G(s=e.data)&&"5.1.0"===s.qot){r.next=7;break}throw new tf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (5.1.0).");case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}var s,u},null,null,null,We)}!function(t){t.Yot="F5",t.jot="v8"}(XX||(XX={})),function(t){t.Qot="Zot",t.Kot="Jot"}(HX||(HX={}));var VX=function(){function t(t){var e=this;this.$ot=void 0,this.nat=void 0,this.Not=void 0,this.iat=0,this.eat=Pr(),this.rat=function(t){var i=t.data,r=i.sat,s=e.eat.get(r);s&&(e.eat.delete(r),i.uat===HX.Qot?s.Qu(i.oat):i.uat===HX.Kot&&s.Zu(new tf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.")))},this.Aw=function(t){var i=new tf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);e.Xs(i)},this.$ot=t;try{this.nat=i.Ur("theoplayer.d.js",t)}catch(t){throw new tf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var e=t.prototype;return e.aat=function(){var t=UX(this.nat,this.$ot);return t.tu("message",this.rat),t.tu("error",this.Aw),t},e.F5=function(t,n,i){var e=""+ ++this.iat,r={fat:XX.Yot,vat:e,dat:t,wat:n,_at:i},s=new Wo;return this.eat.set(e,s),null!=this.Not||(this.Not=this.aat()),this.Not.Lot(r),s.Gu},e.Xs=function(t){void 0===t&&(t=new Js),this.eat.forEach(function(n){return n.Zu(t)}),this.eat.clear(),this.Not&&(this.Not.xot(),this.Not=void 0)},t}();function WX(t,n){if(void 0===n.mz.bT)return{mz:void 0,gz:t};if(void 0===n.gz.bT)return{mz:t,gz:void 0};for(var i=Tc(t),e=qX(i),r=qX(i),s=0;s<i.boxes.length;s++){var u=i.boxes[s];qD(u)&&(e.boxes[s]=ZX(u,n.gz.bT),r.boxes[s]=ZX(u,n.mz.bT))}var o=e.serialize().join(),a=r.serialize().join();return{mz:o,gz:a}}function GX(t){var n=xs(t.boxes,zD);if(n){var i=xs(n.boxes,VD);if(i)return i.handlerType}}function qX(t){var n,i=new mc;return(n=i.boxes).push.apply(n,t.boxes),i}function YX(t){var n,i=new Ph;return(n=i.boxes).push.apply(n,t.boxes),i}var jX=8;function QX(t,n){for(var i=function(t){var n,i=new Wh;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=KX(n),r=0;r<i.boxes.length;r++){var s=i.boxes[r];if(s===n)i.boxes[r]=new rh(new y(n.getSize()-jX));else if(WD(s)){var u=s,o=Ms(u.boxes,function(t){return t instanceof Nh&&t.trackId===e});if(o>=0){var a=u.boxes[o],h=YX(u);h.boxes[o]=new rh(new y(a.getSize()-jX)),i.boxes[r]=h}}}return i}function ZX(t,n){for(var i=function(t){var n,i=new ic;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=0;e<i.boxes.length;e++){var r=i.boxes[e];if(r instanceof tc){var s=xs(r.boxes,YD);s&&s.trackId===n&&(i.boxes[e]=new rh(new y(r.getSize()-jX)))}}return i}function KX(t){return xs(t.boxes,FD).trackId}function JX(t,n,i,e){for(var r=xs(t.boxes,YD),s=!0,u=0,o=t.boxes;u<o.length;u++){var a=o[u];if(a instanceof jh)a.baseMediaDecodeTime=a.baseMediaDecodeTime.subtract(i.Xp(n)._p());else if(a instanceof Yh)a.baseMediaDecodeTime-=i.Hk(n);else if(a instanceof Jh&&a.samples.length>0&&s){s=!1;var h=a.samples;if(!a.flags.sampleDurationPresent){a.flags.sampleDurationPresent=!0;for(var c=null!=e?e:r.defaultSampleDuration,f=0;f<h.length;f++){h[f].duration=c}}h[0].duration+=i.Hk(n),a.samples=h}}}function $X(t,n){var i=tp(op.jA(xo(t)),fk.tA);if(!i)throw new v("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=[],e=function(t,e){var r=e[t];if(!r.ZS||0===r.QS.length||0===r.QS[0].iE.length)return"continue";for(var s=r.FA.bT,u=xs(n.hT,function(t){return t.bT===s}),o=0,a=1/0,h=0,c=r.FA.XS||0,f=0,v=r.QS;f<v.length;f++)for(var l=0,d=v[f].iE;l<d.length;l++){var w,_=d[l],g=_.eE||0,m=o+g,y=(o+=null!=(w=_.nm)?w:c)+g;m<a&&(a=m),y>h&&(h=y)}var k=rk.rp(r.ZS.ZS,u.Op);i.push({bT:s,gat:k,mJ:k.Hy(rk.sp(a,u.Op)),mat:k.Hy(rk.sp(o,u.Op)),yat:k.Hy(rk.sp(h,u.Op))})},r=0,s=t.hT;r<s.length;r++)e(r,s);return i}(i,n)}var tH,nH=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,i,e,r,s)||this).Xw=void 0,u.pat=void 0,u.bat=void 0,u.Aat=void 0,u.Tat=void 0,u.Sat=0,u.Eat=0,u.Iat=Br(),u.Xw=n,u}S(i,t);var e=i.prototype;return e.G9=function(n,i){return t.prototype.G9.call(this,n,i)},e.Rat=function(t){var n;return this.Iat.has(t.Z2)?n=this.Iat.get(t.Z2):(n=UM(t.h9.zi.zi),this.Iat.set(t.Z2,n)),n},e.Y9=function(i,e){var r,s,u,o,a,h,c,f,v,l,d,w,_,g,m,y,k,p,b,A,T,S,E,I,R;return Dr.async(function(D){for(;;)switch(D.prev=D.next){case 0:if(tu(e),s=this.Rat(i),u=i.h9,s===NM.O7||s===NM.B7){D.next=5;break}return D.abrupt("return",t.prototype.Y9.call(this,i,e));case 5:if(!u.O5.z2.some(eH)){D.next=7;break}throw new tf(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");case 7:if(o=this.Xw.Dat(),s!==NM.O7){D.next=14;break}return D.next=11,Dr.awrap(o.Nat({data:u.zi.zi,metadata:this.pat}));case 11:a=D.sent,D.next=17;break;case 14:return D.next=16,Dr.awrap(o.Cat({data:u.zi.zi,metadata:this.pat}));case 16:a=D.sent;case 17:if(tu(e),this.j9({mz:a.metadata.audio_codec,gz:a.metadata.video_codec,kz:void 0}),h=rk.rp(ft.fromBits(a.metadata.first_decode_timestamp.low,a.metadata.first_decode_timestamp.high),a.metadata.first_decode_timestamp.base),c=rk.rp(ft.fromBits(a.metadata.first_presentation_timestamp.low,a.metadata.first_presentation_timestamp.high),a.metadata.first_presentation_timestamp.base),u.O5.gJ=c,this.Q9(),this.d6.Y4(i.Z2)){D.next=30;break}for(f=rk.Gp(u.O5.ck),v=0,l=this.J9;v<l.length;v++)d=l[v],this.d6.e6(i.Z2,d,h,f,!0);if(this.Q9(),this.d6.Y4(i.Z2)){D.next=30;break}return D.next=30,Dr.awrap(eu(this.d6.j4(i.Z2),e));case 30:if(w=this.d6.i6(h,u.O5),this.pat=a.metadata,_={I2:i.I2,i7:yM(u.O5),ck:u.O5.ck,nm:null!=(r=u.O5.nm)?r:0,gb:w.Fk(),Z2:i.Z2,Y$:i.Y$,O5:u.O5},void 0!==a.data.audio_media||void 0!==a.data.video_media){D.next=36;break}for(g=0,m=this.J9;g<m.length;g++)y=m[g],k=Nr({_s:"h9",zi:void 0,s6:y},_),this.y9(k);return D.abrupt("return");case 36:p=[],void 0!==a.data.audio_media&&(!a.data.audio_init||this.bat&&this.Sat===i.Z2&&Mu(this.bat,a.data.audio_init)||(b={_s:"t7",zi:{_s:DD.yH,zi:a.data.audio_init},s6:ry.Cd,Z2:i.Z2,n7:{yz:'audio/mp4; codecs="'+a.metadata.audio_codec+'"',z2:u.O5.z2},ck:u.O5.ck,Y$:i.Y$,O5:u.O5},this.bat=a.data.audio_init,this.Sat=i.Z2,this.y9(b)),A=Nr({_s:"h9",zi:{_s:DD.yH,zi:a.data.audio_media},s6:ry.Cd},_),this.y9(A)),void 0!==a.data.video_media&&(!a.data.video_init||this.Aat&&this.Eat===i.Z2&&Mu(this.Aat,a.data.video_init)||(T={_s:"t7",zi:{_s:DD.yH,zi:a.data.video_init},s6:ry.Pd,Z2:i.Z2,n7:{yz:'video/mp4; codecs="'+a.metadata.video_codec+'"',z2:u.O5.z2},ck:u.O5.ck,Y$:i.Y$,O5:u.O5},this.Aat=a.data.video_init,this.Eat=i.Z2,this.Tat=oN(xo(a.data.video_init)),this.y9(T)),S=this.Tat.hT[0],E=$X(a.data.video_media,this.Tat)[0],I=this.Pat(a.data.video_media,S,E,void 0,u.O5),this.Bat=S,R=Nr({_s:"h9",zi:{_s:DD.yH,zi:I},s6:ry.Pd},_),this.y9(R),p.push(E)),this.Oat=u.O5,this.xat=p;case 41:case"end":return D.stop()}},null,this,null,We)},e.Gs=function(){this.bat=void 0,this.Aat=void 0,t.prototype.Gs.call(this)},i}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).OV=void 0,n.Lat=void 0,n.Oat=void 0,n.xat=void 0,n.Bat=void 0,n}S(n,t);var i=n.prototype;return i.G9=function(t,n){tu(n);var i=this.Y$._s,e=oN(xo(t.Y2.zi.zi));if(!e)throw new v("Mp4Transmuxer - Unable to parse "+i+" MP4 initializer.");this.OV=e;var r=function(t){for(var n,i,e,r=0,s=t.hT;r<s.length;r++){var u=s[r];n||(n=u.yz.mz),i||(i=u.yz.gz),e||(e=u.yz.kz)}if(n||i)return{mz:n,gz:i,kz:e};return}(e);r&&this.j9(r);var s=function(t){var n,i,e,r,s,u=Tc(t),o=xs(u.boxes,XD),a=o.boxes.filter(HD),h=xs(a,function(t){return GX(t)===vh.AUDIO}),c=xs(a,function(t){return GX(t)===vh.VIDEO}),f={mz:{bT:h?KX(h):void 0},gz:{bT:c?KX(c):void 0}},v=null==(n=xs(o.boxes,WD))?void 0:n.boxes.filter(GD),l=v?{mz:null!=(i=xs(v,function(t){return t.trackId===f.mz.bT}))?i:void 0,gz:null!=(e=xs(v,function(t){return t.trackId===f.gz.bT}))?e:void 0}:void 0;if(l&&(f.mz.XS=null==(r=l.mz)?void 0:r.defaultSampleDuration,f.gz.XS=null==(s=l.gz)?void 0:s.defaultSampleDuration),!h||!c)return{mz:h?t:void 0,gz:c?t:void 0,RE:f};var d=qX(u),w=qX(u),_=u.boxes.indexOf(o);d.boxes[_]=QX(o,c),w.boxes[_]=QX(o,h);var g=d.serialize().join(),m=w.serialize().join();return{mz:g,gz:m,RE:f}}(t.Y2.zi.zi);if(this.Lat=s.RE,s.gz){var u=xs(e.hT,function(t){return t.bT===s.RE.gz.bT}),o={_s:"t7",zi:{_s:DD.yH,zi:s.gz},s6:ry.Pd,Z2:t.Z2,n7:{yz:'video/mp4; codecs="'+u.yz.gz+'"',z2:t.z2},ck:t.ck,Y$:this.Y$,O5:t.Y2.O5};this.y9(o)}if(s.mz){var a=xs(e.hT,function(t){return t.bT===s.RE.mz.bT}),h={_s:"t7",zi:{_s:DD.yH,zi:s.mz},s6:ry.Cd,Z2:t.Z2,n7:{yz:'audio/mp4; codecs="'+a.yz.mz+'"',z2:t.z2},ck:t.ck,Y$:this.Y$,O5:t.Y2.O5};this.y9(h)}return We.resolve()},i.Y9=function(t,n){var i,e,r,s,u,o,a,h,c,f,v,l,d,w,_,g,m,y,k,p,b;return Dr.async(function(A){for(;;)switch(A.prev=A.next){case 0:if(tu(n),e=t.h9.O5,r=this.Y$._s,HO.NT("Mp4Transmuxer","Got media data, transmuxing for "+r+" track: "+mx(e.D$)),s=t.h9.zi,(u=$X(s.zi,this.OV)).length>0&&(o=qs(u.map(function(t){return t.mJ}),sk),e.gJ=o,this.Q9()),this.d6.Y4(t.Z2)){A.next=13;break}if(a=rk.Gp(e.ck),u.length>0){for(h=qs(u.map(function(t){return t.gat}),sk),c=0,f=this.J9;c<f.length;c++)v=f[c],this.d6.e6(t.Z2,v,h,a,!1);this.Q9()}if(this.d6.Y4(t.Z2)){A.next=13;break}return A.next=13,Dr.awrap(eu(this.d6.j4(t.Z2),n));case 13:l=this.d6.J4(t.Z2),d={I2:t.I2,i7:yM(e),ck:e.ck,nm:null!=(i=e.nm)?i:0,gb:l.Fk(),Z2:t.Z2,Y$:t.Y$,O5:t.h9.O5},(w=WX(s.zi,this.Lat)).gz&&(g=this.Lat.gz.bT,m=xs(this.OV.hT,function(t){return t.bT===g}),y=xs(u,function(t){return t.bT===g}),k=this.Pat(w.gz,m,y,null==(_=this.Lat)?void 0:_.gz.XS,e),this.Bat=m,p=Nr({_s:"h9",zi:{_s:DD.yH,zi:k},s6:ry.Pd},d),this.y9(p)),w.mz&&(b=Nr({_s:"h9",zi:{_s:DD.yH,zi:w.mz},s6:ry.Cd},d),this.y9(b)),this.Oat=e,this.xat=u;case 20:case"end":return A.stop()}},null,this,null,We)},i.Pat=function(t,n,i,e,r){if(!function(t){return wL(t)?t.q2:0===t.S3&&t.T3.q2}(r))return t;if(!this.Oat||!this.Bat||!this.xat)return t;var s=this.Bat.bT,u=xs(this.xat,function(t){return t.bT===s}),o=this.d6.t6(u.yat,this.Oat),a=this.d6.t6(i.mJ,r).Jk(o).Xp(n.Op);if(a.qk(rk.ap))return t;if(a.zk(rk.Gp(.5)))return t;var h=wL(r)?r:r.T3;return HO.d0("Mp4Transmuxer","Stretching first video frame of segment #"+h.I2+" to fill gap of "+a.Fk()+"s"),function(t,n,i,e){var r=Tc(t),s=xs(r.boxes,qD);if(s){for(var u=s.getSize(),o=0,a=s.boxes;o<a.length;o++){var h=a[o];h instanceof tc&&JX(h,n,i,e)}var c=s.getSize();if(c!==u)for(var f=c-u,v=0,l=s.boxes;v<l.length;v++){var d=l[v];d instanceof tc&&jD(d,f)}}return r.serialize().join()}(t,n.Op,a,e)},n}(mM)),iH=function(){function t(){}return t.prototype.fot=function(t,n,i,e){return new nH(this,t,n,i,e)},t}();function eH(t){return t.Od===vx.j1}!function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(tH||(tH={}));var rH=function(){function t(t){var e=this;this.$ot=void 0,this.nat=void 0,this.Mat=void 0,this.Not=void 0,this.iat=0,this.eat=Br(),this.Uat=0,this.rat=function(t){var n=t.data;if(void 0!==n.requestId){var i=e.eat.get(n.requestId);if(!i)return;e.eat.delete(n.requestId),n.success?i.Qu(n.output):i.Zu(new tf(n.errorCode,n.error))}else n.success||e.Xs(new tf(n.errorCode,n.error))},this.Aw=function(t){var i=new tf(n.ErrorCode.MEDIA_DECODE_ERROR,t.error.message,t.error);e.Xs(i)},this.$ot=t,this.Mat=function(){if("undefined"==typeof WebAssembly)return!1;var t=M.pn;return!(t>0&&t<=56)}();var r=this.Mat?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.nat=i.Ur(r,t)}catch(t){throw new tf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.Not=this.aat()}var e=t.prototype;return e.Nat=function(t){return this.Xat(tH.MPEGTS_TO_FMP4,t)},e.Cat=function(t){return this.Xat(tH.RAW_AUDIO_TO_FMP4,t)},e.aat=function(){var t=UX(this.nat,this.$ot);return t.tu("message",this.rat),t.tu("error",this.Aw),t},e.Xat=function(t,n){var i=++this.iat;this.Uat+=1;var e={type:t,id:i,input:n},r=new Wo;return this.eat.set(i,r),this.Not.Lot(e,[n.data.buffer]),r.Gu},e.Xs=function(t){void 0===t&&(t=new Js),this.eat.forEach(function(n){return n.Zu(t)}),this.eat.clear(),this.Not.xot()},t}(),sH=function(t){function n(n){var i;return(i=t.call(this)||this).Not=void 0,i.Hat=n,i}S(n,t);var i=n.prototype;return i.Dat=function(){var t;return null!=(t=this.Not)?t:this.Not=new rH(this.Hat)},i.Xs=function(){this.Not&&(this.Not.Xs(),this.Not=void 0)},n}(iH),uH=function(){function t(t){this.Hat=t}return t.prototype.kJ=function(){return new sH(this.Hat)},t}(),oH=function(){function t(t){this.dD=void 0,this.dD=t}var n=t.prototype;return n.rN=function(t){return this.dD.rN(t)},n.u$=function(t){return this.dD.u$(t)},n.bN=function(t){return this.dD.bN(t)},t}(),aH=function(t){function n(n){var i;return(i=t.call(this)||this).PD=void 0,i.BD=void 0,i.Fat=new Mg,i.zat=function(t){return i.wy(t)},i.PD=n,i.Fat.V_=n.Vm,i.PD.tu(pD,i.zat),i}S(n,t);var i=n.prototype;return i.hM=function(){return this.PD.by},i.fM=function(){return this.PD.Ay},i.lM=function(){return this.PD.tm},i.wM=function(){return this.PD.nm},i.Vat=function(){return this.PD.RN},i.Wat=function(){return this.PD.im},i.Gat=function(){return this.PD.cm},i.IM=function(){return this.PD.Oy},i.NM=function(){return this.PD.wg},i.CM=function(){return this.PD.Ly},i.PM=function(){return this.PD.vm},i.BM=function(){return this.Fat},i.tZ=function(){return this.PD.dX},i.qat=function(){return this.PD.uN},i.Yat=function(t){this.PD.uN=t},i.jat=function(t){this.PD.EQ=t},i.Qat=function(){return this.PD.xY},i.IN=function(){return this.PD.IN()},i.Gm=function(){return this.PD.Gm()},i.qm=function(){this.PD.qm()},i.Xu=function(t,n){this.PD.Xu(t,n)},i.EN=function(t){this.PD.EN(t)},i.sy=function(){this.PD.sy()},i.uy=function(){this.PD.uy()},i.QE=function(t,n,i,e,r,s,u){return this.PD.QE(t,n,i,e,r,s,u)},i.dN=function(){return this.PD.dN()},i._N=function(t,n,i,e,r){return this.PD._N(t,n,i,e,r)},i.JE=function(t){this.PD.JE(t)},i.yN=function(){this.PD.yN()},i.lH=function(t){return this.PD.lH(t)},i.Jh=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(this.PD.Jh(t));case 2:return n=e.sent,i=t._s===ub.tI?this.Zat(n):this.Kat(n),this.BD=i,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,this,null,We)},i.wc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.BD){t.next=4;break}return t.next=3,Dr.awrap(this.BD.Xs());case 3:this.BD=void 0;case 4:return t.next=6,Dr.awrap(this.PD.wc());case 6:case"end":return t.stop()}},null,this,null,We)},i.yQ=function(){this.PD.yQ()},i.kQ=function(){this.PD.kQ()},i.Xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ou(),this.PD.au(pD,this.zat),this.Fat.V_=void 0,this.Fat.$c(),!this.BD){t.next=8;break}return t.next=7,Dr.awrap(this.BD.Xs());case 7:this.BD=void 0;case 8:case"end":return t.stop()}},null,this,null,We)},i.pQ=function(){this.PD.pQ()},i.Jat=function(t){this.PD.au(pD,this.zat),this.PD=t,this.Fat.V_=t.Vm,this.PD.tu(pD,this.zat)},i.wy=function(t){this.$s(t)},A(n,[{key:"$at",get:function(){return this.PD}},{key:"by",get:function(){return this.hM()}},{key:"Ay",get:function(){return this.fM()}},{key:"tm",get:function(){return this.lM()}},{key:"vX",get:function(){return this.PD.vX}},{key:"nm",get:function(){return this.wM()}},{key:"RN",get:function(){return this.Vat()}},{key:"im",get:function(){return this.Wat()}},{key:"Au",get:function(){return this.PD.Au}},{key:"ST",get:function(){return this.PD.ST}},{key:"Xk",get:function(){return this.PD.Xk}},{key:"mN",get:function(){return this.PD.mN}},{key:"hm",get:function(){return this.PD.hm},set:function(t){this.PD.hm=t}},{key:"cm",get:function(){return this.Gat()}},{key:"fm",get:function(){return this.PD.fm},set:function(t){this.PD.fm=t}},{key:"Oy",get:function(){return this.IM()}},{key:"wg",get:function(){return this.NM()}},{key:"Ly",get:function(){return this.CM()}},{key:"vm",get:function(){return this.PM()}},{key:"Vm",get:function(){return this.BM()}},{key:"dX",get:function(){return this.tZ()}},{key:"TQ",get:function(){return this.PD.TQ}},{key:"wm",get:function(){return this.PD.wm},set:function(t){this.PD.wm=t}},{key:"bQ",get:function(){return this.PD.bQ}},{key:"Sy",get:function(){return this.PD.Sy}},{key:"SQ",get:function(){return this.PD.SQ}},{key:"uN",get:function(){return this.qat()},set:function(t){this.Yat(t)}},{key:"EQ",get:function(){return this.PD.EQ},set:function(t){this.jat(t)}},{key:"xY",get:function(){return this.Qat()}}]),n}(du),hH=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.AQ=function(t){this.PD.AQ(t)},i.$j=function(){this.PD.$j()},i.py=function(){this.PD.py()},A(n,[{key:"sN",get:function(){return this.PD.sN}},{key:"AG",get:function(){return this.PD.AG}},{key:"Uy",get:function(){return this.PD.Uy},set:function(t){this.PD.Uy=t}}]),n}(aH),cH=function(){function t(t){this.BD=void 0,this.BD=t}var n=t.prototype;return n.yc=function(){return this.BD.cc},n.CM=function(){return this.BD.Ly},n.rH=function(t){return this.BD.rH(t)},n.sH=function(t){return this.BD.sH(t)},n.Xs=function(){return We.resolve()},A(t,[{key:"cc",get:function(){return this.yc()}},{key:"Ly",get:function(){return this.CM()}},{key:"zm",get:function(){return this.BD.zm}}]),t}(),fH=function(t){function n(n){var i;return(i=t.call(this,n)||this).tG=void 0,i.iG=void 0,i.tht=function(t){return i.nht(t)},i}S(n,t);var i=n.prototype;return i.hM=function(){return this.BD.by},i.wM=function(){return this.BD.nm},i.iht=function(){return this.BD.dH},i.fG=function(t){this.BD.fG(t)},i.dG=function(t,n,i,e){this.BD.dG(t,n,i,e)},i.uW=function(){this.BD.uW()},i.iW=function(){this.BD.iW()},i.Xs=function(){return this.tG&&(this.tG.Xs(),this.tG=void 0),this.iG&&(this.iG.Xs(),this.iG=void 0),t.prototype.Xs.call(this)},i.eht=function(t){this.BD=t,this.tG?t.ZW?this.tG.R5(t.ZW):(this.tG.Xs(),this.tG=void 0):t.ZW&&(this.tG=this.rht(t.ZW),this.tG.tu(CD,this.tht)),this.iG?t.KW?this.iG.R5(t.KW):(this.iG.Xs(),this.iG=void 0):t.KW&&(this.iG=this.rht(t.KW),this.iG.tu(CD,this.tht))},i.nht=function(t){},A(n,[{key:"ZW",get:function(){return this.tG}},{key:"KW",get:function(){return this.iG}},{key:"by",get:function(){return this.hM()}},{key:"nm",get:function(){return this.wM()}},{key:"dH",get:function(){return this.iht()}}]),n}(cH),vH=function(t){function n(n){var i;return(i=t.call(this)||this).Mc=void 0,i.YL=0,i.jL=0,i.Mc=n,i}S(n,t);var i=n.prototype;return i.MV=function(t,n,i){return We.reject(new v("Invalid media buffer"))},i.dW=function(){return We.reject(new v("Invalid media buffer"))},i.HV=function(t,n,i){return We.reject(new v("Invalid media buffer"))},i.dH=function(){return!1},i.uW=function(){},i.vW=function(t,n){},i.lW=function(t,n){},i.$h=function(t,n,i){return We.resolve()},i.jV=function(t,n){return We.reject(new v("Invalid media buffer"))},i.Yy=function(t,n){return We.reject(new v("Invalid media buffer"))},i.rH=function(t){return!1},i.sH=function(t){return We.reject(new v("Invalid media buffer"))},i.Xs=function(){this.ou()},A(n,[{key:"VL",get:function(){return this.jL},set:function(t){this.jL=t}},{key:"by",get:function(){return fS.qC()}},{key:"cc",get:function(){return this.Mc}},{key:"gW",get:function(){return ry.md}},{key:"mW",get:function(){return fS.qC()}},{key:"sht",get:function(){return!1}},{key:"XL",get:function(){return this.YL},set:function(t){this.YL=t}}]),n}(du),lH=function(t){function n(n){var i;return(i=t.call(this,n)||this).PD=void 0,i}S(n,t);var i=n.prototype;return i.MV=function(t,n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return tu(i),e.next=3,Dr.awrap(this.uht(this.PD.tm,null==n?void 0:n.gJ,null==n?void 0:n.nm));case 3:if(tu(i),t._s!==DD.wv){e.next=10;break}return e.next=7,Dr.awrap(this.oht(t,n,i));case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,Dr.awrap(this.aht(t,n,i));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},null,this,null,We)},i.oht=function(t,n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=t;case 1:return r=Ud(e.zi),s=r[0],u=r[1],e={_s:DD.wv,zi:s},o.prev=4,o.next=7,Dr.awrap(this.hht(e,n,i));case 7:return u.cancel(new Js).catch(K),o.abrupt("return");case 11:if(o.prev=11,o.t0=o.catch(4),!hR(o.t0)){o.next=20;break}return o.next=16,Dr.awrap(this.uht(this.PD.tm,n.gJ,n.nm,i));case 16:if(!o.sent){o.next=20;break}return e={_s:DD.wv,zi:u},o.abrupt("continue",1);case 20:throw u.cancel(o.t0).catch(K),o.t0;case 22:o.next=1;break;case 24:case"end":return o.stop()}},null,this,[[4,11]],We)},i.aht=function(t,n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,tu(i),e.next=5,Dr.awrap(this.hht(t,n,i));case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(1),!hR(e.t0)){e.next=16;break}return e.next=13,Dr.awrap(this.uht(this.PD.tm,n.gJ,n.nm,i));case 13:if(!e.sent){e.next=16;break}return e.abrupt("continue",0);case 16:throw e.t0;case 17:e.next=0;break;case 19:case"end":return e.stop()}},null,this,[[1,8]],We)},i.uht=function(t,n,i,e){var r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:r=aR(t,n,i,this.by,this.XL,this.VL),s=0;case 2:if(!(s<r.length)){h.next=9;break}return u=r[s],o=u[0],a=u[1],h.next=6,Dr.awrap(this.cht(o,a,e));case 6:s++,h.next=2;break;case 9:return h.abrupt("return",r.length>0);case 10:case"end":return h.stop()}},null,this,null,We)},i.hht=function(n,i,e){return t.prototype.MV.call(this,n,i,e)},i.cht=function(n,i,e){return t.prototype.$h.call(this,n,i,e)},A(n,[{key:"s$",get:function(){return this.PD},set:function(t){this.PD=t}}]),n}(function(t){function n(n){var i;return(i=t.call(this)||this).a5=void 0,i.fht=function(t){return i.wy(t)},i.a5=n,i.a5.tu(CD,i.fht),i}S(n,t);var i=n.prototype;return i.vht=function(){return this.a5.VL},i.dht=function(t){this.a5.VL=t},i.hM=function(){return this.a5.by},i.yc=function(){return this.a5.cc},i.wht=function(){return this.a5.mW},i._ht=function(){return this.a5.XL},i.ght=function(t){this.a5.XL=t},i.MV=function(t,n,i){return this.a5.MV(t,n,i)},i.dW=function(){return this.a5.dW()},i.HV=function(t,n,i){return this.a5.HV(t,n,i)},i.dH=function(){return this.a5.dH()},i.uW=function(){this.a5.uW()},i.vW=function(t,n){this.a5.vW(t,n)},i.lW=function(t,n){this.a5.lW(t,n)},i.$h=function(t,n,i){return this.a5.$h(t,n,i)},i.jV=function(t,n){return this.a5.jV(t,n)},i.rH=function(t){return this.a5.rH(t)},i.sH=function(t){return this.a5.sH(t)},i.wy=function(t){this.$s(t)},i.Xs=function(){this.ou(),this.R5(new vH(this.cc))},i.R5=function(t){this.a5.au(CD,this.fht),this.a5=t,this.a5.tu(CD,this.fht)},A(n,[{key:"VL",get:function(){return this.vht()},set:function(t){this.dht(t)}},{key:"by",get:function(){return this.hM()}},{key:"cc",get:function(){return this.yc()}},{key:"gW",get:function(){return this.a5.gW}},{key:"mW",get:function(){return this.wht()}},{key:"XL",get:function(){return this._ht()},set:function(t){this.ght(t)}}]),n}(du)),dH=function(t){function n(n){var i;return(i=t.call(this,n)||this).PD=void 0,i.eht(n),i}return S(n,t),n.prototype.rht=function(t){var n=new lH(t);return n.s$=this.PD,n},A(n,[{key:"s$",get:function(){return this.PD},set:function(t){this.PD=t,this.tG&&(this.tG.s$=t),this.iG&&(this.iG.s$=t)}}]),n}(fH),wH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"xy",get:function(){return this.BD.xy},set:function(t){this.BD.xy=t}}]),n}(cH),_H=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.AQ=function(t){this.PD.AQ(t)},i.$j=function(){this.PD.$j()},i.py=function(){this.PD.py()},i.oy=function(){return this.PD.oy()},A(n,[{key:"sN",get:function(){return this.PD.sN}},{key:"AG",get:function(){return this.PD.AG}},{key:"dm",get:function(){return this.PD.dm}},{key:"lm",get:function(){return this.PD.lm}},{key:"Uy",get:function(){return this.PD.Uy},set:function(t){this.PD.Uy=t}}]),n}(aH),gH=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Kat=function(t){var n=new dH(t);return n.s$=this,n},i.Zat=function(t){return new wH(t)},A(n,[{key:"$at",get:function(){return this.PD}}]),n}(hH),mH=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Kat=function(t){var n=new dH(t);return n.s$=this,n},i.Zat=function(t){return new wH(t)},A(n,[{key:"$at",get:function(){return this.PD}}]),n}(_H),yH=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.rN=function(n){return n===ry.Pd?new mH(t.prototype.rN.call(this,n)):n===ry.Cd?new gH(t.prototype.rN.call(this,n)):void 0},i.bN=function(n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n,e.next=3,Dr.awrap(i.Xs());case 3:return e.next=5,Dr.awrap(t.prototype.bN.call(this,i.$at));case 5:case"end":return e.stop()}},null,this,null,We)},n}(oH);function kH(t){return cw(t)}function pH(t,n){var i=cw(t);return n?""+i+n:""+i}var bH,AH=function(){function t(t,n,i,e){this.mht=t,this.yht=n,this.kht=i,this.pht=e}var n=t.prototype;return n.j6=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.mht.bht(t.map(kH)));case 2:return n=i.sent,i.abrupt("return",n.shift());case 4:case"end":return i.stop()}},null,this,null,We)},n.rst=function(t,n){var i=pH(t,n);return this.yht.Nu(i)},n.Y5=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=pH(t,n),r.next=3,Dr.awrap(this.kht.Cu(e));case 3:if(r.t0=i=r.sent,null!=r.t0){r.next=8;break}r.t1=void 0,r.next=9;break;case 8:r.t1=i.data;case 9:return r.abrupt("return",r.t1);case 10:case"end":return r.stop()}},null,this,null,We)},n.bU=function(t){return this.pht.Cu(t)},t}(),TH=function(){function t(){}var n=t.prototype;return n.Aht=function(t){return We.resolve(!1)},n.Tht=function(t){return We.reject(SH)},n.Sht=function(t){return We.reject(SH)},n.Nu=function(t){return We.resolve(!1)},n.Cu=function(t){return We.resolve(void 0)},n.Eht=function(t,n){return We.resolve(void 0)},n.bht=function(t){return We.resolve([])},n.Iht=function(){return We.resolve([])},n.Rht=function(t){return We.resolve([])},n.Dht=function(t,n){return We.resolve([])},n.$h=function(t){return We.reject(SH)},n.Nht=function(t){return We.reject(SH)},n.Cht=function(){return We.reject(SH)},t}(),SH="Storage disabled",EH=function(){function t(){this.Pht=void 0,this.S1=void 0,this.Bht=void 0,this.Oht=void 0,this.xht=void 0,this.Pht=new TH,this.S1=new TH,this.Bht=new TH,this.Oht=new TH,this.xht=new TH}return t.kJ=function(){return We.resolve(new t)},t.prototype.Lht=function(t){return We.reject(IH)},t}(),IH="Storage disabled",RH=function(){function t(t){var n=this;this.Ws=new Wo,this.Mht=void 0,this.Ws.Qu(t),this.Ws.Gu.then(function(t){n.Mht=t})}var n=t.prototype;return n.Aht=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Mht,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Uht);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Aht(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Tht=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Mht,e.t0){e.next=5;break}return e.next=4,Dr.awrap(this.Uht);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Tht(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.Sht=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Mht,e.t0){e.next=5;break}return e.next=4,Dr.awrap(this.Uht);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Sht(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.Nu=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Mht,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Uht);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Nu(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Cu=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Mht,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Uht);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Cu(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Eht=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Mht,e.t0){e.next=5;break}return e.next=4,Dr.awrap(this.Uht);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Eht(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.bht=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Mht,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Uht);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.bht(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Iht=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.Mht,n.t0){n.next=5;break}return n.next=4,Dr.awrap(this.Uht);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.Iht());case 7:case"end":return n.stop()}},null,this,null,We)},n.Rht=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Mht,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Uht);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Rht(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Dht=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Mht,e.t0){e.next=5;break}return e.next=4,Dr.awrap(this.Uht);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Dht(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.$h=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Mht,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Uht);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.$h(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Nht=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Mht,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Uht);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Nht(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Cht=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.Mht,n.t0){n.next=5;break}return n.next=4,Dr.awrap(this.Uht);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.Cht());case 7:case"end":return n.stop()}},null,this,null,We)},A(t,[{key:"Uht",get:function(){return this.Ws.Gu}}]),t}(),DH=function(){function t(t){var n=this;this.Ws=new Wo,this.Xht=void 0,this.S1=void 0,this.Pht=void 0,this.Bht=void 0,this.Oht=void 0,this.xht=void 0,this.Ws.Qu(t);var i=this.Ws.Gu;i.then(function(t){n.Xht=t}),this.S1=new RH(i.then(function(t){return t.S1})),this.Pht=new RH(i.then(function(t){return t.Pht})),this.Bht=new RH(i.then(function(t){return t.Bht})),this.Oht=new RH(i.then(function(t){return t.Oht})),this.xht=new RH(i.then(function(t){return t.xht}))}return t.prototype.Lht=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Xht,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Hht);case 4:i.t0=i.sent;case 5:return n=i.t0,i.next=8,Dr.awrap(n.Lht(t));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},null,this,null,We)},A(t,[{key:"Hht",get:function(){return this.Ws.Gu}}]),t}();function NH(t){return new v("This storage cannot handle persistency type "+t)}!function(t){t.Fht="readonly",t.zht="readwrite"}(bH||(bH={}));var CH=function(){function t(){this.Wo=[]}var n=t.prototype;return n.Aht=function(t){return We.resolve("temporary"===t)},n.Tht=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?We.reject(NH(n)):(this.Vht(t.key),this.Wo.push(t),We.resolve())},n.Sht=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return We.reject(NH(n));for(var i=0;i<t.length;i++){var e=t[i];this.Vht(e.key)}for(var r=0;r<t.length;r++){var s=t[r];this.Wo.push(s)}return We.resolve()},n.Nu=function(t){return We.resolve(Boolean(this.Wht(t)))},n.Cu=function(t){return We.resolve(this.Wht(t))},n.Eht=function(t,n){return We.resolve(this.Ght(t,n))},n.bht=function(t){var n=this,i=t?t.map(function(t){return n.Wht(t)}):this.Wo;return We.resolve(i.filter(H))},n.Iht=function(){return We.resolve([].concat(this.Wo))},n.Rht=function(t){return this.Dht(t,"key")},n.Dht=function(t,n){var i=this.Wo.filter(function(i){return i[n]===t});return We.resolve(i)},n.$h=function(t){return this.Vht(t),We.resolve()},n.Nht=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Vht(i)}return We.resolve()},n.Cht=function(){return Fs(this.Wo),We.resolve()},n.Wht=function(t){return this.Ght(t,"key")},n.Ght=function(t,n){for(var i=0,e=this.Wo;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.Vht=function(t){var n=this.Wht(t);n&&Us(this.Wo,n)},t}(),PH=function(){function t(){this.Pht=void 0,this.S1=void 0,this.Bht=void 0,this.Oht=void 0,this.xht=void 0,this.Pht=new CH,this.S1=new CH,this.Bht=new CH,this.Oht=new CH,this.xht=new CH}return t.kJ=function(){return We.resolve(new t)},t.prototype.Lht=function(t){return t(this)},t}(),BH=function(){function t(t){this.qht=t}var n=t.prototype;return n.Aht=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.qht;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Dr.awrap(e.Aht(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,We)},n.Tht=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.qht;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Dr.awrap(r.Aht(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.Tht(t));case 8:i++,s.next=2;break;case 11:throw NH(n);case 12:case"end":return s.stop()}},null,this,null,We)},n.Sht=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.qht;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Dr.awrap(r.Aht(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.Sht(t));case 8:i++,s.next=2;break;case 11:throw NH(n);case 12:case"end":return s.stop()}},null,this,null,We)},n.Nu=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.qht;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Dr.awrap(e.Nu(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,We)},n.Cu=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=0,i=this.qht;case 1:if(!(n<i.length)){s.next=11;break}return e=i[n],s.next=5,Dr.awrap(e.Cu(t));case 5:if(!(r=s.sent)){s.next=8;break}return s.abrupt("return",r);case 8:n++,s.next=1;break;case 11:return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},null,this,null,We)},n.Eht=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.qht;case 1:if(!(i<e.length)){u.next=11;break}return r=e[i],u.next=5,Dr.awrap(r.Eht(t,n));case 5:if(!(s=u.sent)){u.next=8;break}return u.abrupt("return",s);case 8:i++,u.next=1;break;case 11:return u.abrupt("return",void 0);case 12:case"end":return u.stop()}},null,this,null,We)},n.bht=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.qht;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Dr.awrap(r.bht(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,We)},n.Iht=function(){var t,n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0,i=this.qht;case 2:if(!(n<i.length)){r.next=13;break}return e=i[n],r.t0=t.push,r.t1=t,r.next=8,Dr.awrap(e.Iht());case 8:r.t2=r.sent,r.t0.apply.call(r.t0,r.t1,r.t2);case 10:n++,r.next=2;break;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},null,this,null,We)},n.Rht=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.qht;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Dr.awrap(r.Rht(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,We)},n.Dht=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],e=0,r=this.qht;case 2:if(!(e<r.length)){u.next=13;break}return s=r[e],u.t0=i.push,u.t1=i,u.next=8,Dr.awrap(s.Dht(t,n));case 8:u.t2=u.sent,u.t0.apply.call(u.t0,u.t1,u.t2);case 10:e++,u.next=2;break;case 13:return u.abrupt("return",i);case 14:case"end":return u.stop()}},null,this,null,We)},n.$h=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.qht;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Dr.awrap(e.$h(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,We)},n.Nht=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.qht;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Dr.awrap(e.Nht(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,We)},n.Cht=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.qht;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,Dr.awrap(i.Cht());case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,We)},t}();function OH(t){return function(){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(We.all(t.map(function(t){return t()})));case 2:return n=i.sent,i.abrupt("return",xH.kJ(n));case 4:case"end":return i.stop()}},null,null,null,We)}}var xH=function(){function t(t){this.Yht=void 0,this.jht=void 0,this.Qht=void 0,this.Zht=void 0,this.Kht=void 0,this.Jht=void 0,this.Yht=t,this.jht=new BH(t.map(function(t){return t.Oht})),this.Qht=new BH(t.map(function(t){return t.xht})),this.Zht=new BH(t.map(function(t){return t.Bht})),this.Kht=new BH(t.map(function(t){return t.Pht})),this.Jht=new BH(t.map(function(t){return t.S1}))}return t.kJ=function(n){return We.resolve(new t(n))},t.prototype.Lht=function(n){var i=this;if(0===this.Yht.length)return n(this);var e=[],r=0;return this.Yht[r].Lht(function s(u){return e.push(u),++r<i.Yht.length?i.Yht[r].Lht(s):n(new t(e))})},A(t,[{key:"Oht",get:function(){return this.jht}},{key:"xht",get:function(){return this.Qht}},{key:"Bht",get:function(){return this.Zht}},{key:"Pht",get:function(){return this.Kht}},{key:"S1",get:function(){return this.Jht}}]),t}(),LH=function(){function t(t){this.$ht=void 0,this.tct=[],this.nct=!0,this.$ht=t}var n=t.prototype;return n.kJ=function(){return new DH(this.ict())},n.ict=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.nct){e.next=4;break}return e.next=3,Dr.awrap(We.resolve());case 3:this.nct=!1;case 4:t=0,n=this.tct;case 5:if(!(t<n.length)){e.next=18;break}return i=n[t],e.prev=7,e.next=10,Dr.awrap(OH([PH.kJ,i])());case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:t++,e.next=5;break;case 18:return e.next=20,Dr.awrap(OH([PH.kJ,this.$ht])());case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},null,this,[[7,13]],We)},n.GX=function(t){if(!this.nct)throw new v("Registration overdue");this.tct.push(t)},t}(),MH=function(){function t(){}return t.GX=function(n){t.dD.GX(n)},A(t,null,[{key:"jn",get:function(){return t.ect||(t.ect=t.dD.kJ()),t.ect}}]),t}();MH.dD=new LH(EH.kJ),MH.ect=void 0;var UH=function(t){function n(n,i,e,r,s,u,o){var a,h=new yH(n),c=h.rN(ry.Pd);return(a=t.call(this,c,i,e,r,s,u,o)||this).CD=void 0,a.CD=h,a}return S(n,t),n.prototype.$c=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.prototype.$c.call(this));case 2:return n.next=4,Dr.awrap(this.CD.bN(this.PD));case 4:case"end":return n.stop()}},null,this,null,We)},n}(function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.oy=function(){if(void 0!==this.PD.lm)return this.PD.oy()},A(n,[{key:"Uy",get:function(){return!1},set:function(t){}}]),n}(pX));nS(new(function(t){function i(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).NN=MT.Lg,n}S(i,t);var e=i.prototype;return e.tR=function(t,n,i,e,r,s){return new UH(n,i,r,(u=e.libraryLocation,DX.Ac()?new DX:new VX(u)),new uH(e.libraryLocation),new AH(MH.jn.Bht,MH.jn.Pht,MH.jn.S1,MH.jn.xht),e);var u},e.CN=function(i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(t.prototype.CN.call(this,i,e));case 2:if(s.sent){s.next=4;break}return s.abrupt("return",!1);case 4:if(null==(r=i.hls)||!r.useLegacy){s.next=8;break}if(Hs(mD,"hls-legacy")){s.next=7;break}throw new tf(n.ErrorCode.SOURCE_NOT_SUPPORTED,'The given source requires the "hls-legacy" feature to be enabled.');case 7:return s.abrupt("return",!1);case 8:return s.abrupt("return",!0);case 9:case"end":return s.stop()}},null,this,null,We)},e.PN=function(){return!0},i}(function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.CN=function(n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.MediaSource){e.next=2;break}return e.abrupt("return",!1);case 2:if(!M.cn&&!M.Wn){e.next=4;break}return e.abrupt("return",!1);case 4:if(!i.manifestMetadataTrack){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",t.prototype.CN.call(this,n,i));case 7:case"end":return e.stop()}},null,this,null,We)},n}(bX)))),HO.q_=function(){return!(!r||!r.THEOplayerDebugLogsEnabled)};var XH=[];function HH(){XH.shift()()}var FH,zH=function(){function t(t){this.rct=void 0,this.sct=void 0,this.uct=void 0,this.uct=t}var n=t.prototype;return n.act=function(t){return this.rct=this.rct||{},void 0===this.rct[t]&&(this.rct[t]=[]),this.rct[t]},n.addEventListener=function(t,n){var i=this.act(t);-1===i.indexOf(n)&&i.push(n)},n.uu=function(t){(this.sct||(this.sct=[])).push(t)},n.removeEventListener=function(t,n){var i=this.act(t);n?Us(i,n):i.length=0},n.du=function(t){var n=this.sct;n&&Us(n,t)},n.ou=function(){this.rct=void 0},n.dispatchEvent=function(t,n){if(n)return i=this.dispatchEvent.bind(this,t),XH.push(i),void a(HH,0);var i;"string"==typeof t&&(t={type:t});for(var e=this.act(t.type).slice(),r=this.sct&&this.sct.slice(),s=0;s<e.length;s++){e[s].call(this.uct||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.uct||this,t)}},n.hct=function(t){return Boolean(this.rct&&this.rct[t]&&this.rct[t].length)},n.cct=function(){return this.rct?d.keys(this.rct):[]},t}(),VH=function(t){function n(n,i){var e,r=qH[n];return(e=t.call(this,r?r.yu:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.fct,e.helpLinkText=r&&r.vct,e}return S(n,t),A(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}($t);!function(t){t.lct="LICENSE_INVALID",t.dct="MANIFEST_NOT_FOUND",t.wct="MANIFEST_CORS_ERROR",t._ct="INVALID_HLS_MANIFEST",t.gct="PLAYBACK_ISSUE",t.mct="AUDIO_ISSUE",t.yct="BROWSER_SUPPORT_ISSUE",t.kct="INVALID_KEY",t.Kot="DECRYPTION_ERROR",t.pct="AD_BLOCK_DETECTED",t.bct="THEOPLAYER_NOT_INITIALIZED",t.hg="ERROR",t.Act="MANIFEST_SEQUENCE_RESET_ERROR",t.Tct="PLAYER_INCORRECTLY_CONFIGURED",t.Sct="UNSUPPORTED"}(FH||(FH={}));for(var WH,GH=[{Ku:FH.lct,yu:"The license for this player is invalid. Please contact your service provider for additional information."},{Ku:FH.dct,yu:"Could not load the manifest file."},{Ku:FH.wct,yu:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",fct:"https://www.theoplayer.com/documentation/cors.html",Ect:!1},{Ku:FH._ct,yu:"The source of the player is an invalid HLS manifest.",fct:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Ku:FH.gct,yu:"There appears to be a playback issue."},{Ku:FH.mct,yu:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Ku:FH.yct,yu:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Ku:FH.kct,yu:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Ku:FH.Kot,yu:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Ku:FH.pct,yu:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Ku:FH.bct,yu:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Ku:FH.hg,yu:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Ku:FH.Act,yu:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Ku:FH.Tct,yu:"The player is incorrectly configured.",fct:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Ku:FH.Sct,yu:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],qH={},YH=0;YH<GH.length;YH++){var jH=GH[YH];qH[jH.Ku]=jH}function QH(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function ZH(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function KH(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function JH(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?Vo(e[6]):void 0!==e[7]?{width:g(e[8]),height:g(e[10])}:void 0!==e[12]?g(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var $H,tF="x-";function nF(t,n,i,e){var r=t.split("@"),s=QH(n,i),u=_(r[0],10),o=r[1]?_(r[1],10):e;return{D$:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},Ict:{oC:o,hC:o+u-1}}}function iF(t,n,i){var e,r,s,u,o,a=0,h=0,c=0,f=null,v=0,l=!1,d=[],m=null,k=0,p=t.match(/[^\r\n]+/g);if(!p||"#EXTM3U"!==p[0].trim())throw new VH(FH._ct,{code:"HMP2670",uri:n});for(var b={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},A=1;A<p.length;A+=1){var T=p[A].trim();if(d.push(T+""),ZH(T,"#EXT")){if(ZH(T,"#EXTINF"))c=(c=g(KH(T)))||.5;else if(ZH(T,"#EXT-X-BYTERANGE"))f=KH(T);else if(ZH(T,"#EXT-X-KEY"))(s=JH(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=QH(s.uri,i);else if(ZH(T,"#EXT-X-DISCONTINUITY")&&!ZH(T,"#EXT-X-DISCONTINUITY-"))l=!0,v+=1;else if(ZH(T,"#EXT-X-STREAM-INF"))(r=JH(T)).S3=h++,(A+=1)<p.length&&(r.uri=QH(p[A].trim(),i),b.streams.push(r));else if(ZH(T,"#EXT-X-MEDIA")&&!ZH(T,"#EXT-X-MEDIA-"))(u=JH(T)).uri&&(u.uri=QH(u.uri,i)),b.media.push(u);else if(ZH(T,"#EXT-X-PROGRAM-DATE-TIME"))m=new Date(KH(T));else if(ZH(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))b.Rct=!0,b.Dct=_(KH(T),10);else if(ZH(T,"#EXT-X-MEDIA-SEQUENCE"))a=_(KH(T),10),b.Nct=!0,b.Cct=a;else if(ZH(T,"#EXT-X-TARGETDURATION"))b.targetDuration=_(KH(T),10),b.hasTargetDuration=!0;else if(ZH(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))b.isEvent=!0;else if(ZH(T,"#EXT-X-ENDLIST"))b.live=!1,b.hasEnd=!0;else if(ZH(T,"#EXT-X-MAP")){var S=JH(T),E=S.uri,I=S.byterange;o=I?nF(I,E,i,0):QH(E,i)}else if(ZH(T,"#EXT-X-VERSION"))b.version=_(KH(T),10);else if(ZH(T,"#EXT-X-DATERANGE")){var R=eF(T);b.dateRanges.push(R)}}else if(ZH(T,"#"));else if(0!==T.length){f?k=(e=nF(f,T,i,k)).Ict.hC+1:e=QH(T,i);var D,N=s&&Nr({},s);s&&void 0===s.iv&&(D=a%4294967295,N.iv=new y([0,0,0,0,0,0,0,0,0,0,0,0,D>>24,D>>16,D>>8,255&D])),b.fragments.push({start:0,duration:c,uri:e,S3:a,Pct:l,Z2:v,key:N,j2:m,Bct:d,Oct:!1,xct:o}),a+=1,c=0,f=null,l=!1,m=null,d=[]}}return b.hasEnd&&b.fragments.length&&(b.fragments[b.fragments.length-1].Oct=!0),b.isMasterPlaylist=0!==b.streams.length,b.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=w.min(i,o.duration),e=w.max(e,o.duration)}return{Lct:i,Mct:e,Uct:n?t.fragments[n-1].duration:0,Xct:r/n,Hct:r}}(b),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(b),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(b),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.S3-n.S3})}(b),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||Xs(t.media,s)}}(b,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(b),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(b),b}function eF(t){var n=JH(t),i=function(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i];ls(r,tF)&&(n[r.substr(tF.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{Y_:n.id,R1:n.class,RN:e,D1:r,nm:n.duration,N1:n["planned-duration"],I1:s,C1:i,B1:u,L1:o,M1:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}($H||($H={}));(WH={})[$H.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",WH[$H.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",WH[$H.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",WH[$H.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",WH[$H.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",WH[$H.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",WH[$H.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var rF=function(){function t(){}return t.prototype.jA=function(t,n,i){return iF(t,n,i)},t}(),sF=3,uF=function(){function t(t,n,i){void 0===i&&(i=sF),this.qE=t,this.L6=n,this.Fct=i}var n=t.prototype;return n.zct=function(t,n,i){return this.Vct(t,n,!0,i)},n.Wct=function(t,n,i){return this.Vct(t,n,!1,i)},n.Vct=function(t,n,i,e){var r,s,u,o,a,h,c,f;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=100,u=0;case 2:if(!(u<this.Fct)){i.next=31;break}if(!(u>0)){i.next=7;break}return i.next=6,Dr.awrap(cu(s,e));case 6:s<1e4&&(s=w.min(2*s,1e4));case 7:o=0;case 8:if(!(o<t.length)){i.next=28;break}return a=t[o],i.prev=10,h=new uw({wd:a,hd:Sf.ni,od:n,Ud:this.L6,Od:nw.GET,_s:iw.yd,Ld:ew.md,js:e}),i.next=14,Dr.awrap(this.qE.ld(h));case 14:return c=i.sent,i.next=17,Dr.awrap(c.Fl(e));case 17:return f=i.sent,i.abrupt("return",{Gct:f,qct:a,dd:c.dd});case 22:i.prev=22,i.t0=i.catch(10),r=i.t0;case 25:o++,i.next=8;break;case 28:u++,i.next=2;break;case 31:throw r;case 32:case"end":return i.stop()}},null,this,[[10,22]],We)},t}(),oF=function(){function t(t){this.Yct=void 0,this.Yct=t}return t.prototype.jct=function(t,n,i,e){var r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:void 0===e&&(e=!1),s=0,u=this.Yct;case 2:if(!(s<u.length)){a.next=17;break}return o=u[s],a.prev=4,a.next=7,Dr.awrap(o.jct(t,n,i,e));case 7:return a.abrupt("return",a.sent);case 10:a.prev=10,a.t0=a.catch(4),nu(a.t0),r=a.t0;case 14:s++,a.next=2;break;case 17:throw r;case 18:case"end":return a.stop()}},null,this,[[4,10]],We)},t}(),aF=function(){function t(t){this.x6=t}return t.prototype.jct=function(t,n,i,e){var r;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.x6.j6(t));case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",{Gct:r.data,qct:r.locationURL,dd:r.responseURL});case 7:throw new v("Manifest fetch from cache unsuccesful");case 8:case"end":return n.stop()}},null,this,null,We)},t}(),hF=function(){function t(t){this.Qct=t}return t.prototype.jct=function(t,n,i,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e&&(e=!1),!e){r.next=7;break}return r.next=4,Dr.awrap(this.Qct.zct(t,n,i));case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,Dr.awrap(this.Qct.Wct(t,n,i));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,We)},t}();function cF(t,n){return new oF([new aF(n),new hF(t)])}var fF=function(){function t(t,n,i){this.Zct=t,this.Kct=n,this.Jct=i}var n=t.prototype;return n.jct=function(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e&&(e=!1),s.next=3,Dr.awrap(this.Zct.jct(t,n,i,e));case 3:return r=s.sent,s.next=6,Dr.awrap(this.$ct(r));case 6:return s.abrupt("return",r);case 7:case"end":return s.stop()}},null,this,null,We)},n.$ct=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.Kct.Tht({key:kH(t.qct),locationURL:cw(t.qct),responseURL:cw(t.dd),data:t.Gct,references:[this.Jct.Y_]}));case 2:case"end":return n.stop()}},null,this,null,We)},t}();function vF(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var lF,dF=function(){function t(t,n,i){this.Mc=void 0,this.qE=void 0,this.Zct=void 0,this.tft=void 0,this.tft=new rF,this.Mc=t,this.qE=i;var e=this.Mc&&this.Mc.crossOrigin===Wg.zg,r=new uF(i,e,1);this.Zct=cF(r,new AH(MH.jn.Bht,MH.jn.Pht,MH.jn.S1,MH.jn.xht))}var n=t.prototype;return n.Jh=function(t,n,i){var e=this.Mw(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.Mw=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Dr.awrap(this.Zct.jct([t],n));case 3:return i=r.sent,t=i.dd,e=this.tft.jA(i.Gct,t,vF(t)),r.abrupt("return",{Dm:e,nft:i.Gct});case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof _w)){r.next=16;break}throw new VH(FH.dct,{code:"MFL8600",uri:t});case 16:if(!(r.t0 instanceof gw)){r.next=24;break}if(0!==r.t0.$d.ud){r.next=21;break}throw new VH(FH.wct,{code:"MFL3900",uri:t,status:r.t0.$d.ud});case 21:throw new VH(FH.dct,{code:"MFL4100",uri:t,status:r.t0.$d.ud});case 22:r.next=25;break;case 24:throw new VH(FH.hg,{error:r.t0,uri:t});case 25:case"end":return r.stop()}},null,this,[[0,10]],We)},t}(),wF=function(t){function n(n,i){var e;return(e=t.call(this)||this).ift=void 0,e.eft=void 0,e.rft=void 0,e.sft=void 0,e.uft=void 0,e.oft=void 0,e.aft=void 0,e.OD=void 0,e.ift=new dF(i||{},MH.jn.Bht,n),e}S(n,t);var i=n.prototype;return i.Ym=function(){void 0!==this.sft&&(h(this.sft),this.sft=void 0),this.rft&&this.rft.ld&&(this.rft=void 0)},i.hft=function(t){if(this.aft)for(var n=0,i=this.aft.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.cft=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.Hct<3*s)?1e3*u.Lct:s?1e3*s:1e4,i===n&&(r/=2),r=w.max(r-e,1e3)},i.fft=function(t){if(t.fragments.length>0)for(var n=this.hft(t.fragments[0].uri),i=n&&n.S3||0,e=0,r=t.fragments;e<r.length;e++){r[e].S3+=i}},i.vft=function(t,i,e,r,s,u){var o=this;if(this.rft&&e===this.rft.ld){var h=eI()-i;if(r){this.rft=void 0,this.OD=r;var c={type:"Au",Au:r};return this.dispatchEvent(c),s&&s(r)}this.rft=void 0;var f=u.Dm,v=u.nft;f.Nct||this.fft(f),t===this.eft&&(this.oft=f),this.aft=f;var l=n.cft(f,v,this.uft,h);f.live?f.isMasterPlaylist||(this.sft=a(function(){return o.Mw(t)},l)):this.Ym(),s&&s(r,u);var d={type:"lft",manifest:f,manifestText:v};this.dispatchEvent(d),this.uft=v}},i.Mw=function(t,n){var i=this,e=eI(),r=t;h(this.sft),this.sft=void 0;var s=this.ift.Jh(r,{},function(r,u){return i.vft(t,e,s,r,n,u)});this.rft={ld:s,wd:t}},i.oC=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.aft?this.aft.uri:this.eft))&&(this.rft&&this.rft.wd===t?n&&(i=function(t){s.removeEventListener("Au",e),s.removeEventListener("lft",i);var r=t;n(null,{Dm:r.manifest,nft:r.manifestText})},e=function(t){s.removeEventListener("Au",e),s.removeEventListener("lft",i),n(t.Au)},this.addEventListener("Au",e),this.addEventListener("lft",i)):(this.Ym(),this.Mw(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.dft=function(t){t&&(this.uft=void 0,this.oft&&this.oft.isMasterPlaylist?this.oC(t.uri):this.aft&&!this.wft()&&this.oC(this.aft.uri))},i.$c=function(){this.Ym(),this.ou()},i.wft=function(){return!!this.rft||!!this.sft||!(!this.aft||this.aft.live)},A(n,[{key:"Dm",get:function(){return this.aft}},{key:"_ft",get:function(){return this.oft}},{key:"gft",get:function(){return this.eft},set:function(t){this.Ym(),this.uft=void 0,this.oft=void 0,this.aft=void 0,this.eft=t}}]),n}(zH),_F=function(t){function n(){return t.call(this,"mft")||this}return S(n,t),n}(_u),gF=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).yft=void 0,r.kft=void 0,r.pft=void 0,r.lst=void 0,r.bft=void 0,r.qE=void 0,r.sY=void 0,r.Aft=void 0,r.Tft=function(){r.$s(new _F)},r.lst=n,r.bft=Nr({},i,{crossOrigin:r.lst.crossOrigin,withCredentials:r.lst.useCredentials,liveOffset:r.lst.liveOffset,hlsDateRange:r.lst.hlsDateRange}),r.qE=e,r.kft=[],r.sY=!1,r}S(n,t);var i=n.prototype;return i.Sft=function(){if(this.pft)return this.pft.Dm},i.oC=function(t){var n=this;au(Nm(function(){return n.Eft()},t))},i.Eft=function(){var t,n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(this.Ift());case 2:if((t=u.sent).isMasterPlaylist)for(this.yft=t,n=0,i=t.streams;n<i.length;n++)e=i[n],r=new wF(this.qE,this.bft),this.kft.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:r});else s=new wF(this.qE,this.bft),this.kft.push({stream:{uri:t.uri},updater:s});this.Aft&&(this.Rft(this.Aft.width,this.Aft.height),this.Aft=void 0),this.sY=!0;case 6:case"end":return u.stop()}},null,this,null,We)},i.Dft=function(t,n){this.sY?this.Rft(t,n):this.Aft={width:t,height:n}},i.Rft=function(t,n){this.Nft();var i=this.Cft(t,n);i&&(this.pft=i.updater,this.pft.addEventListener("lft",this.Tft),i.updater.oC(i.stream.uri))},i.Nft=function(){this.pft&&(this.pft.Ym(),this.pft.removeEventListener("lft",this.Tft),this.pft=void 0)},i.Cft=function(t,n){return 1===this.kft.length?this.kft[0]:xs(this.kft,function(i){return i.stream.width===t&&i.stream.height===n})},i.Ift=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new dF(this.bft,MH.jn.Bht,this.qE),i.next=3,Dr.awrap(t.Jh(this.lst.src,{}));case 3:return n=i.sent,i.abrupt("return",n.Dm);case 5:case"end":return i.stop()}},null,this,null,We)},i.$c=function(){this.Nft();for(var t=0,n=this.kft;t<n.length;t++){n[t].updater.$c()}Fs(this.kft)},n}(du),mF=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).Pft=void 0,r.Bft=void 0,r.mU=void 0,r.Oft=!1,r.s5=void 0,r.qY=void 0,r.handleManifestUpdate=function(){var t=r.Pft.Sft();if(t){var n=r.RN;if(n){var i=n.getTime(),e=r.s5;e||(e=new pL,r.s5=e),e.tc(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.Oft&&e._g.M_>0&&(r.Vm.B_(e),r.qY.B_(e),r.Oft=!0)}}},r.xft=function(){r.Pft&&r.Pft.Dft(r.dm,r.lm)},r.Bft=i,r.mU=e,r.qY=new vP(Kt(r)),r.tu(Tf.qf,r.xft),r}S(n,t);var i=n.prototype;return i.Qm=function(n,i,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(t.prototype.Qm.call(this,n,i,e));case 2:n.hlsDateRange&&this.Lft(n,i,e);case 3:case"end":return r.stop()}},null,this,null,We)},i.Lft=function(t,n,i){this.Pft&&(this.Pft.au("mft",this.handleManifestUpdate),this.Pft.$c()),this.Pft=new gF(t,n,this.Bft),this.Pft.tu("mft",this.handleManifestUpdate),this.Pft.oC(i)},i.wc=function(){return this.s5&&(this.Vm.O_(this.s5),this.qY.O_(this.s5),this.s5.$c(),this.s5=void 0,this.Oft=!1),this.qY.wc(),t.prototype.wc.call(this)},i.$c=function(){return this.au(Tf.qf,this.xft),this.Pft&&(this.Pft.au("mft",this.handleManifestUpdate),this.Pft.$c()),this.qY.$c(),t.prototype.$c.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).Mft=void 0,i.Mft=n;for(var e=0;e<uS.length;e++){var r=uS[e];i.Mft.tu(r,i.Js)}return i}S(n,t);var i=n.prototype;return i.Zm=function(){return this.Mft.Zm()},i.vy=function(){return this.Mft.vy()},i.oy=function(){return this.Mft.oy()},i.uy=function(){return this.Mft.uy()},i.py=function(){return this.Mft.py()},i.qm=function(){return this.Mft.qm()},i.Gm=function(){return this.Mft.Gm()},i.wc=function(){return this.Mft.wc()},i.Qm=function(t,n,i){return this.Mft.Qm(t,n,i)},i.sy=function(){return this.Mft.sy()},i.Km=function(){return this.Mft.Km()},i.Jm=function(){return this.Mft.Jm()},i.$c=function(){this.ou();for(var t=0;t<uS.length;t++){var n=uS[t];this.Mft.au(n,this.Js)}return this.Mft.$c()},A(n,[{key:"Fm",get:function(){return this.Mft.Fm}},{key:"by",get:function(){return this.Mft.by}},{key:"Ay",get:function(){return this.Mft.Ay},set:function(t){this.Mft.Ay=t}},{key:"tm",get:function(){return this.Mft.tm},set:function(t){this.Mft.tm=t}},{key:"nm",get:function(){return this.Mft.nm}},{key:"im",get:function(){return this.Mft.im}},{key:"um",get:function(){return this.Mft.um}},{key:"Wm",get:function(){return this.Mft.Wm}},{key:"Au",get:function(){return this.Mft.Au}},{key:"Sy",get:function(){return this.Mft.Sy}},{key:"Ey",get:function(){return this.Mft.Ey}},{key:"hm",get:function(){return this.Mft.hm},set:function(t){this.Mft.hm=t}},{key:"By",get:function(){return this.Mft.By}},{key:"cm",get:function(){return this.Mft.cm}},{key:"fm",get:function(){return this.Mft.fm},set:function(t){this.Mft.fm=t}},{key:"Oy",get:function(){return this.Mft.Oy}},{key:"xy",get:function(){return this.Mft.xy},set:function(t){this.Mft.xy=t}},{key:"wg",get:function(){return this.Mft.wg}},{key:"Ly",get:function(){return this.Mft.Ly}},{key:"vm",get:function(){return this.Mft.vm}},{key:"RN",get:function(){return this.Mft.RN}},{key:"Vm",get:function(){return this.Mft.Vm}},{key:"lm",get:function(){return this.Mft.lm}},{key:"zm",get:function(){return this.Mft.zm}},{key:"dm",get:function(){return this.Mft.dm}},{key:"wm",get:function(){return this.Mft.wm},set:function(t){this.Mft.wm=t}},{key:"My",get:function(){return this.Mft.My}},{key:"Uy",get:function(){return this.Mft.Uy},set:function(t){this.Mft.Uy=t}},{key:"DN",get:function(){return this.Mft.DN}}]),n}(Ug));lF=function(t,n,i){return new mF(t,n,i)},$T.xN().LN(lF);var yF=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},kF=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),pF={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(pF,pF.exports);var bF=pF.exports;function AF(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function TF(t){return JSON.stringify(t,pF.exports.getSerialize(AF))}var SF={},EF={};!function(t){d.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(EF);var IF={};!function(t){d.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(IF);var RF={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(RF),d.defineProperty(SF,"__esModule",{value:!0});var DF=EF.isS,NF=EF.isChar,CF=EF.isNameStartChar,PF=EF.isNameChar,BF=EF.S_LIST,OF=EF.NAME_RE,xF=IF.isChar,LF=RF.isNCNameStartChar,MF=RF.isNCNameChar,UF=RF.NC_NAME_RE;const XF="http://www.w3.org/XML/1998/namespace",HF="http://www.w3.org/2000/xmlns/",FF={__proto__:null,xml:XF,xmlns:HF},zF={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},VF=-1,WF=-2,GF=0,qF=1,YF=2,jF=3,QF=4,ZF=5,KF=6,JF=7,$F=8,tz=9,nz=10,iz=11,ez=12,rz=13,sz=14,uz=15,oz=16,az=17,hz=18,cz=19,fz=20,vz=21,lz=22,dz=23,wz=24,_z=25,gz=26,mz=27,yz=28,kz=29,pz=30,bz=31,Az=32,Tz=33,Sz=34,Ez=35,Iz=36,Rz=37,Dz=38,Nz=39,Cz=40,Pz=41,Bz=42,Oz=43,xz=44,Lz=9,Mz=10,Uz=13,Xz=32,Hz=33,Fz=38,zz=45,Vz=47,Wz=59,Gz=60,qz=61,Yz=62,jz=63,Qz=91,Zz=93,Kz=133,Jz=8232,$z=t=>34===t||39===t,tV=[34,39],nV=[...tV,Qz,Yz],iV=[...tV,Gz,Zz],eV=[qz,jz,...BF],rV=[...BF,Yz,Fz,Gz];function sV(t,n,i){switch(n){case"xml":i!==XF&&t.fail(`xml prefix must be bound to ${XF}.`);break;case"xmlns":i!==HF&&t.fail(`xmlns prefix must be bound to ${HF}.`)}switch(i){case HF:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${HF}.`);break;case XF:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const uV=t=>UF.test(t),oV=t=>OF.test(t),aV=0,hV=1,cV=2;SF.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const fV={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var vV=SF.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=LF,this.nameCheck=MF,this.isName=uV,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},FF);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of d.keys(n))sV(t,i,n[i])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=CF,this.nameCheck=PF,this.isName=oV,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Ao}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=aV,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?rz:GF,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Ao=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(zF),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[fV[t]]=n}off(t){this[fV[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===Uz||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return VF;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=Xz||i===Lz)return i;switch(i){case Mz:return this.line++,this.column=0,this.positionAtNewLine=this.position,Mz;case Uz:return t.charCodeAt(n+1)===Mz&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,WF;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return VF;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==Jz||i===Lz)return i;switch(i){case Mz:return this.line++,this.column=0,this.positionAtNewLine=this.position,Mz;case Uz:{const i=t.charCodeAt(n+1);i!==Mz&&i!==Kz||(this.i=n+2)}case Kz:case Jz:return this.line++,this.column=0,this.positionAtNewLine=this.position,WF;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===WF?Mz:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===WF,s=r?Mz:e;if(s===VF||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case WF:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=Mz;break;case VF:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===VF)return this.name+=t.slice(n),VF;if(!PF(i))return this.name+=t.slice(n,this.prevI),i===WF?Mz:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===VF||!DF(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=NF,this.getCode=this.getCode10):(this.isChar=xF,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=qF}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case Gz:if(this.state=uz,0!==this.text.length)throw new v("no-empty text at start");break;case VF:break;default:this.unget(),this.state=rz,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(nV);switch(n){case Yz:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=rz,this.doctype=!0;break;case VF:break;default:this.text+=String.fromCodePoint(n),n===Qz?this.state=QF:$z(n)&&(this.state=jF,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=YF)}sDTD(){const t=this.captureTo(iV);t!==VF&&(this.text+=String.fromCodePoint(t),t===Zz?this.state=YF:t===Gz?this.state=KF:$z(t)&&(this.state=ZF,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=QF,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case Hz:this.state=JF,this.openWakaBang="";break;case jz:this.state=iz;break;default:this.state=QF}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?$F:QF,this.openWakaBang="")}sDTDComment(){this.captureToChar(zz)&&(this.text+="-",this.state=tz)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===zz?nz:$F}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Yz?this.state=QF:(this.fail("malformed comment."),this.state=$F)}sDTDPI(){this.captureToChar(jz)&&(this.text+="?",this.state=ez)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Yz&&(this.state=QF)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case WF:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case Wz:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===rz&&void 0===this.textHandler||(this.text+=r);break t}case VF:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(CF(t))this.state=Sz,this.unget(),this.xmlDeclPossible=!1;else switch(t){case Vz:this.state=Oz,this.xmlDeclPossible=!1;break;case Hz:this.state=oz,this.openWakaBang="",this.xmlDeclPossible=!1;break;case jz:this.state=dz;break;default:this.fail("disallowed character in tag name"),this.state=rz,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=fz,this.openWakaBang="";break;case"--":this.state=az,this.openWakaBang="";break;case"DOCTYPE":this.state=YF,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(zz)&&(this.state=hz)}sCommentEnding(){var t;const n=this.getCodeNorm();n===zz?(this.state=cz,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=az)}sCommentEnded(){const t=this.getCodeNorm();t!==Yz?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=az):this.state=rz}sCData(){this.captureToChar(Zz)&&(this.state=vz)}sCDataEnding(){const t=this.getCodeNorm();t===Zz?this.state=lz:(this.text+=`]${String.fromCodePoint(t)}`,this.state=fz)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Yz:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=rz;break;case Zz:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=fz}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=wz):t===jz||DF(t)?(this.fail("processing instruction without a target."),this.state=t===jz?gz:_z):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=wz)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===VF)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===jz;e||DF(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?Tz:mz):this.state=e?gz:_z:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===jz?this.state=gz:DF(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(jz)&&(this.state=gz)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Yz){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=rz}else n===jz?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=_z);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==jz?t!==VF&&(this.state=yz,this.name=String.fromCodePoint(t)):this.state=Tz}sXMLDeclName(){const t=this.captureTo(eV);if(t===jz)return this.state=Tz,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(DF(t)||t===qz){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===qz?pz:kz}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===jz)return this.state=Tz,void this.fail("XML declaration is incomplete.");DF(t)||(t!==qz&&this.fail("value required."),this.state=pz)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===jz)return this.state=Tz,void this.fail("XML declaration is incomplete.");DF(t)||($z(t)?this.q=t:(this.fail("value must be quoted."),this.q=Xz),this.state=bz)}sXMLDeclValue(){const t=this.captureTo([this.q,jz]);if(t===jz)return this.state=Tz,this.text="",void this.fail("XML declaration is incomplete.");if(t===VF)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=Az}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==jz?(DF(t)||(this.fail("whitespace required."),this.unget()),this.state=mz):this.state=Tz}sXMLDeclEnding(){var t;this.getCodeNorm()===Yz?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=rz):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===VF)return;const i=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Yz:this.openTag();break;case Vz:this.state=Ez;break;default:DF(n)||this.fail("disallowed character in tag name."),this.state=Iz}}sOpenTagSlash(){this.getCode()===Yz?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=Iz)}sAttrib(){const t=this.skipSpaces();t!==VF&&(CF(t)?(this.unget(),this.state=Rz):t===Yz?this.openTag():t===Vz?this.state=Ez:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===qz?this.state=Nz:DF(t)?this.state=Dz:t===Yz?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==VF&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case VF:return;case qz:this.state=Nz;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Yz?this.openTag():CF(t)?(this.unget(),this.state=Rz):(this.fail("disallowed character in attribute name."),this.state=Iz)}}sAttribValue(){const t=this.getCodeNorm();$z(t)?(this.q=t,this.state=Cz):DF(t)||(this.fail("unquoted attribute value."),this.state=Bz,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=Pz);case Fz:return this.text+=n.slice(i,this.prevI),this.state=sz,void(this.entityReturnState=Cz);case Mz:case WF:case Lz:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case Gz:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case VF:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();DF(t)?this.state=Iz:t===Yz?this.openTag():t===Vz?this.state=Ez:CF(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=Rz):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(rV);switch(t){case Fz:this.state=sz,this.entityReturnState=Bz;break;case Gz:this.fail("disallowed character.");break;case VF:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Yz?this.openTag():this.state=Iz}}sCloseTag(){const t=this.captureNameChars();t===Yz?this.closeTag():DF(t)?this.state=xz:t!==VF&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Yz:this.closeTag();break;case VF:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case Gz:if(this.state=uz,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=aV;break t;case Fz:this.state=sz,this.entityReturnState=rz,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=aV;break t;case Zz:switch(n){case aV:n=hV;break;case hV:n=cV;break;case cV:break;default:throw new v("impossible state")}break;case Yz:n===cV&&this.fail('the string "]]>" is disallowed in char data.'),n=aV;break;case WF:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=aV;break;case VF:void 0!==e&&(this.text+=i.slice(t));break t;default:n=aV}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case Gz:if(this.state=uz,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case Fz:this.state=sz,this.entityReturnState=rz,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case WF:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case VF:void 0!==i&&(this.text+=n.slice(t));break t;default:DF(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,sV(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,sV(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==GF&&this.state!==rz&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.Ao=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?HF:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=rz,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=rz,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=rz,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=_(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=_(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},lV=function(){function t(){}return t.prototype.oi=function(t){var n=new vV({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new kV,e=[i];function r(t){e[e.length-1].Ci(t)}return n.on("text",function(t){e.length>1&&r(new mV(t))}),n.on("cdata",function(t){r(new yV(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new _V({wi:n,gi:""===i?void 0:i,Uft:""===s?void 0:s}),o=t.attributes,a=0,h=d.keys(o);a<h.length;a++){var c=o[h[a]],f=c.prefix,v=c.local,l=c.uri,w=c.value,_=new dV({wi:v,Ti:w,gi:""===l?void 0:l,Uft:""===f?void 0:f});u.Xft(_)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new tn(t)}),n.write(t).close(),i},t}(),dV=function(){function t(t){this.Hft=void 0,this.Fft=void 0,this.zft=void 0,this.pe=void 0,this.Hft=t.wi,this.pe=t.Ti,this.Fft=t.gi,this.zft=t.Uft}var n=t.prototype;return n.ci=function(t){return this===t||!!bV(this,t)&&(this.Hft===t.Hft&&this.Fft===t.Fft&&this.zft===t.zft&&this.pe===t.pe)},n.di=function(){return new t({wi:this.wi,Ti:this.Ti,gi:this.gi,Uft:this.Ai})},A(t,[{key:"Jn",get:function(){return qt.ei}},{key:"wi",get:function(){return this.Hft}},{key:"_i",get:function(){return void 0===this.zft?this.Hft:this.zft+":"+this.Hft}},{key:"gi",get:function(){return this.Fft}},{key:"Ai",get:function(){return this.zft}},{key:"Ti",get:function(){return this.pe}}]),t}(),wV=function(){function t(){this.Ei=[]}var n=t.prototype;return n.Ii=function(t){return this.Ei.filter(function(n){return pV(n)&&n.Di===t})},n.Ni=function(t,n){return this.Ei.filter(function(i){return pV(i)&&i.wi===n&&i.gi===t})},n.Ci=function(t){this.Ei.push(t)},A(t,[{key:"Ri",get:function(){return this.Ei}},{key:"Bi",get:function(){return this.Ei.filter(pV)}}]),t}(),_V=function(t){function n(n){var i;return(i=t.call(this)||this).Hft=void 0,i.Fft=void 0,i.zft=void 0,i.Vft=[],i.Hft=n.wi,i.Fft=n.gi,i.zft=n.Uft,i}S(n,t);var i=n.prototype;return i.Wft=function(t){for(var n=0,i=this.Ri;n<i.length;n++){var e=i[n];pV(e)?e.Wft(t):t.push(e.zi)}},i.xi=function(t,n){for(var i=0,e=this.Vft;i<e.length;i++){var r=e[i];if(r.wi===n&&r.gi===t)return r.Ti}},i.Oi=function(t){for(var n=0,i=this.Vft;n<i.length;n++){var e=i[n];if(e._i===t)return e.Ti}},i.Xft=function(t){this.Vft.push(t)},i.Li=function(t){for(var n=0;n<this.Vft.length;n++)if(this.Vft[n]._i===t)return void this.Vft.splice(n,1)},i.Mi=function(t,n){for(var i=0;i<this.Vft.length;i++)if(this.Vft[i].wi===n&&this.Vft[i].gi===t)return void this.Vft.splice(i,1)},i.Ui=function(t,n){this.Li(t),this.Xft(new dV({wi:t,Ti:n}))},i.Xi=function(t,n,i){this.Li(n);var e=n.split(":");this.Xft(new dV({wi:e[e.length-1],Ti:i,gi:t,Uft:e.length>1?e[0]:void 0}))},i.di=function(t){var i=new n({wi:this.wi,gi:this.gi,Uft:this.Ai});return this.Hi.forEach(function(t){return i.Xft(t.di())}),t&&this.Ri.forEach(function(n){return i.Ci(n.di(t))}),i},i.ci=function(t){return this===t||!!bV(this,t)&&(this.Hft===t.Hft&&this.zft===t.zft&&this.Fft===t.Fft&&(AV(this.Hi,t.Hi)&&AV(this.Ri,t.Ri)))},A(n,[{key:"Jn",get:function(){return qt.$n}},{key:"Hi",get:function(){return this.Vft}},{key:"wi",get:function(){return this.Hft}},{key:"gi",get:function(){return this.Fft}},{key:"Ai",get:function(){return this.zft}},{key:"Di",get:function(){return void 0===this.zft?this.Hft:this.zft+":"+this.Hft}},{key:"Fi",get:function(){var t=[];return this.Wft(t),t.join("")}}]),n}(wV),gV=function(){function t(t){this.qi=void 0,this.qi=t}return A(t,[{key:"zi",get:function(){return this.qi}}]),t}(),mV=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.di=function(){return new n(this.zi)},i.ci=function(t){return this===t||!!bV(this,t)&&this.zi===t.zi},A(n,[{key:"Jn",get:function(){return qt.ni}}]),n}(gV),yV=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.di=function(){return new n(this.zi)},i.ci=function(t){return this===t||!!bV(this,t)&&this.zi===t.zi},A(n,[{key:"Jn",get:function(){return qt.ri}}]),n}(gV),kV=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.di=function(t){var i=new n;return t&&this.Ri.forEach(function(n){return i.Ci(n.di(t))}),i},i.ci=function(t){return this===t||!!bV(this,t)&&AV(this.Ri,t.Ri)},A(n,[{key:"Jn",get:function(){return qt.ui}},{key:"Vi",get:function(){return this.Bi[0]}}]),n}(wV);function pV(t){return Qt(t)}function bV(t,n){return t.Jn===n.Jn}function AV(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ci(n[i]))return!1;return!0}var TV,SV=["adBreak"],EV=["adBreak"];function IV(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Nr({},t,{adBreak:Nr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,Vb(t,SV)})})})}function RV(t){return void 0===t.ads?t:Nr({},t,{ads:t.ads.map(function(t){return t.adBreak,Vb(t,EV)})})}function DV(t){return"string"==typeof t.date?new Date(t.date):t.date}function NV(t){var n;return t.cue.track?(n=PV(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=PV(t.cue,""),n}function CV(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&d.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=d.entries(i);return d.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function PV(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new lV).oi(e.firstChild.outerHTML).Vi.Hi.forEach(function(t){r[t.wi]=t.Ti}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(h=o)&&null!==h){var a=BV(o);s[u]={type:TV.Gft,value:a}}else xV(o)?s[u]={type:TV.qft,value:o}:s[u]={type:TV.bZ,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=BV(t.scte35Cmd),i.scte35Out=BV(t.scte35Out),i.scte35In=BV(t.scte35In),i.customAttributes=s}var h}(),i}function BV(t){if(void 0!==t)return Bu(t)}function OV(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(PV(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(PV(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function xV(t){return"number"==typeof t}!function(t){t.bZ="daterange-ca-type_string",t.qft="daterange-ca-type_number",t.Gft="daterange-ca-type_arraybuffer"}(TV||(TV={}));var LV={cue:function(t){var n={};switch(n.date=DV(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=NV(t)}return n},textTrack:function(t){var n={};switch(n.date=DV(t),n.type=t.type,t.type){case"addcue":var i=t.cue;HV().register(i);var e=XV()[FV()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=NV(t);break;case"cuechange":for(var r=[],s=0;s<t.track.activeCues.length;s++){var u=t.track.activeCues[s];r.push(PV(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:OV(t.track),date:DV(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=HV();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=DV(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Tf.rv:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Nr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=OV(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=RV(t.ad);break;case"adloaded":case"adimpression":n.ad=IV(t.ad);break;case"adskip":n.ad=IV(t.ad),n.playedPercentage=t.playedPercentage;break;case"aderror":t.Yft&&(n.Yft=t.Yft),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=IV(t.ad)}return CV(n)},minimizeCueHelper:function(t){var n={};return n.date=DV(t),n.type=t.type,n.cue=NV(t),n.track={uid:t.cue.track.uid},n},adReplacer:IV,adBreakReplacer:RV,removeCircularReferences:CV},MV=function(){this.stringify=TF,this.minimize=LV};function UV(){return le.self}function XV(){return UV().THEOplayerBridge}function HV(){return UV().THEOCueMirrorMap}function FV(){return UV().THEOplayerGlobalID}function zV(){var t=UV();if(t.THEOplayerBridge){var n=new yF;t.THEOplayerBridge=fg(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new yF;t.THEOplayerUtils||(t.THEOplayerUtils=new MV),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new kF)}zV();var VV,WV=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return S(n,t),n}(_u),GV=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.$s(new WV(t,n))},i.addEventListener=function(t,n){this.tu(t,n)},i.removeEventListener=function(t,n){this.au(t,n)},n}(Xg),qV=function(t){function n(n,i){var e;return(e=t.call(this)||this).jft=void 0,e.Qft=void 0,e.Zft=function(t){e.jft.uJ("THEOplayerABRSetTargetBuffer",t.XL),e.$s(t)},e.Kft=function(t){e.jft.uJ("THEOplayerABRSetStrategy",t.FL),e.$s(t)},e.jft=n,e.Qft=i,e.Qft.tu("HL",e.Zft),e.Qft.tu("zL",e.Kft),e}return S(n,t),n.prototype.$L=function(t){return this.Qft.$L(t)},A(n,[{key:"nM",get:function(){var t;switch(this.FL.type){case tR.PERFORMANCE:return 1;case tR.QUALITY:return 0;case tR.BANDWIDTH:return null!=(t=this.FL.metadata)&&t.bitrate&&!m(this.FL.metadata.bitrate)?this.FL.metadata.bitrate:0;default:return 0}}},{key:"o_",get:function(){return this.Qft.o_}},{key:"FL",get:function(){return this.Qft.FL},set:function(t){this.Qft.FL=t}},{key:"XL",get:function(){return this.Qft.XL},set:function(t){this.Qft.XL=t}},{key:"tM",get:function(){return this.Qft.tM}},{key:"VL",get:function(){return this.Qft.VL},set:function(t){this.Qft.VL=t}},{key:"GL",get:function(){return this.Qft.GL}},{key:"OL",get:function(){return this.Qft.OL}}]),n}(du),YV=function(){function t(t,n,i){this.Mc=void 0,this.Es=void 0,this.ef=void 0,this.ac=void 0,this.Mc=t,this.Es=i,this.ef=n}var n=t.prototype;return n.JE=function(t){throw new v("Not implemented yet.")},n.iH=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.Es.Ds(t.gs,n));case 2:return i=r.sent,r.next=5,Dr.awrap(i.mc());case 5:return e=r.sent,r.next=8,Dr.awrap(this.eH(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,We)},n.rH=function(t){return!1},n.sH=function(t){return We.resolve(void 0)},n.Xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.eH(void 0));case 2:case"end":return t.stop()}},null,this,null,We)},n.eH=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.oH(t),i.next=3,Dr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,We)},n.oH=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.ac)){i.next=5;break}return i.next=4,Dr.awrap(n.dc(this.ef));case 4:this.ac=void 0;case 5:if(!t){i.next=9;break}return i.next=8,Dr.awrap(t.lc(this.ef));case 8:this.ac=t;case 9:case"end":return i.stop()}},null,this,null,We)},n.QE=function(t,n,i){throw new v("Not implemented yet.")},A(t,[{key:"cc",get:function(){return this.Mc}},{key:"xy",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"Ly",get:function(){return new fS([0,1/0])}},{key:"Vm",get:function(){throw new v("Not implemented yet.")}},{key:"Jft",get:function(){throw new v("Not implemented yet")}},{key:"zm",get:function(){throw new v("Not implemented yet.")}},{key:"$ft",get:function(){throw new v("Not implemented yet")}},{key:"tvt",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.nvt="webkitneedkey",t.ivt="webkitkeymessage",t.evt="webkitkeyerror",t.rvt="webkitkeyflowdone"}(VV||(VV={}));var jV=function(t){function n(n,i){var e;return(e=t.call(this,VV.nvt)||this).initData=n,e.sessionId=i,e}return S(n,t),n}(_u),QV=function(t){function n(n,i){var e;return(e=t.call(this,VV.ivt)||this).message=n,e.destinationURL=i,e}return S(n,t),n}(_u),ZV=function(t){function n(){return t.call(this,VV.evt)||this}return S(n,t),n}(_u),KV=function(t){function n(){return t.call(this,VV.rvt)||this}return S(n,t),n}(_u),JV=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Tc=new Wo,u.Uc=void 0,u.Ic=new Su,u.Hc=new Wo,u.svt=function(t){u.Uc?(u.Uc.Zu(void 0),u.Uc=void 0):u.Pc("internal-error"),u.$s(new pu)},u.uvt=function(t){u.$s(new ku(Kt(u),"license-request",Ho(t.message).buffer,t.destinationURL||void 0))},u.ovt=function(t){u.Uc&&(u.Uc.Qu(void 0),u.Uc=void 0)},u.Oc=n,u.Yh=i,u.avt=e,u.nf=r,u.zc=s,u}S(n,t);var i=n.prototype;return i.Kh=function(t,n,i){var e;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Vc){t.next=3;break}throw new l("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,Dr.awrap(this.cvt(Uo(n),e));case 5:this.Pc("usable"),this.Hc.Qu(),this.Hc=new Wo;case 8:case"end":return t.stop()}},null,this,null,We)},i.Jh=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,We)},i.tc=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Uo(t)).byteLength){i.next=3;break}throw new l("Cannot call update with an empty response.");case 3:return this.Uc=new Wo,this.avt.tc(this.nf,n),i.abrupt("return",this.Uc.Gu);case 6:case"end":return i.stop()}},null,this,null,We)},i.Zh=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.Hc);case 2:return this.avt.au(VV.ivt,this.uvt),this.avt.au(VV.evt,this.svt),this.avt.au(VV.rvt,this.ovt),this.Hc.Gs(),this.Tc.Qu(void 0),t.abrupt("return",this.Tc.Gu);case 8:case"end":return t.stop()}},null,this,null,We)},i.$h=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,We)},i.cvt=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=$c(t,n,this.zc),this.avt.tu(VV.ivt,this.uvt),this.avt.tu(VV.evt,this.svt),this.avt.tu(VV.rvt,this.ovt),this.avt.bY(this.nf,i);case 5:case"end":return e.stop()}},null,this,null,We)},i.Pc=function(t){this.Ic.Ou(),this.Ic.Bu(Tu,t),this.$s(new yu(this))},A(n,[{key:"uc",get:function(){return this.nf}},{key:"ec",get:function(){return NaN}},{key:"ic",get:function(){return this.Tc.Gu}},{key:"rc",get:function(){return this.Ic}}]),n}(du),$V=function(){function t(t,n,i){this.fvt=void 0,this.nf=void 0,this.zc=void 0,this.avt=void 0,this.Yh=void 0,this.Mc=void 0,this.Oc=void 0,this.avt=t,this.Yh=n,this.Mc=i;var e=Uc(i)||"video/mp4";this.Oc=Oc(e)}var i=t.prototype;return i.fc=function(t){var i;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.zc){t.next=2;break}throw new tf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new JV(this.Oc,this.Yh,this.avt,this.nf,this.zc),this.fvt=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,We)},i.vc=function(t){return this.zc=Uo(t),We.resolve(!0)},i.lc=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,We)},i.dc=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,We)},i.createSession=function(){throw new v("Whoops.")},A(t,[{key:"hc",get:function(){return this.Yh}},{key:"cc",get:function(){return this.Mc}},{key:"sessionId",set:function(t){this.nf=t}}]),t}(),tW=function(){function t(t,n,i){this.vvt=t,this.Yh=n,this.Mc=i}var n=t.prototype;return n.yc=function(){return this.Mc},n.mc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new $V(this.vvt,this.Yh,this.Mc));case 1:case"end":return t.stop()}},null,this,null,We)},A(t,[{key:"hc",get:function(){return this.Yh}}]),t}(),nW=function(){function t(t){this.vvt=void 0,this.vvt=t}return t.prototype.Ds=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0;case 1:if(!(i<n.length)){s.next=9;break}if(e=n[i],!(r=Lc(iW,mu,t,e))){s.next=6;break}return s.abrupt("return",new tW(this.vvt,t,r));case 6:i++,s.next=1;break;case 9:throw new l("Unsupported key system configuration for "+t);case 10:case"end":return s.stop()}},null,this,null,We)},t}();function iW(t,n){return t===is}var eW,rW=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.PY=function(t,n){return!0},n}(NP),sW=function(t){function n(n,i,e){var r;return void 0===e&&(e=new nW(i)),(r=t.call(this)||this).BD=void 0,r.Es=void 0,r.JX=void 0,r.MY=new af,r.lvt=void 0,r.vvt=void 0,r.dvt=!1,r.nf=void 0,r.Fc=null,r.wvt={Iy:0,Ry:0,Dy:0,Ny:0,Cy:0,Py:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r._vt=function(t){"boolean"==typeof t.detail.casting&&(r.dvt=t.detail.casting,r.$s(new Ay(r.dvt)))},r.gvt=function(t){r.nf=t.sessionId,r.Fc&&(r.Fc.sessionId=r.nf);var n=t.initData;if(n){var i=UP(n);if(!i)return;r.$s(new bu(qr,i))}else r.$s(new bu(qr,new ArrayBuffer(0)))},r.lvt=n,r.vvt=i,r.vvt.tu(VV.nvt,r.gvt),r.Es=e,r.JX=new rW(Kt(r)),r.mvt(),r}S(n,t);var i=n.prototype;return i.lH=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i._s===ub.tI)return i}},i.Xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.wc());case 2:return this.ou(),this.yvt(),this.vvt.au(VV.nvt,this.gvt),t.next=7,Dr.awrap(this.JX.Xs());case 7:case"end":return t.stop()}},null,this,null,We)},i.uy=function(){throw new v("Not implemented yet")},i.QE=function(t,n,i,e,r,s,u,o){throw new v("Not implemented yet")},i.dN=function(){return!1},i._N=function(t,n,i,e,r){throw new v("Not implemented yet")},i.JE=function(t){throw new v("Not implemented yet")},i.yN=function(){throw new v("Not implemented yet")},i.Jh=function(t){var n=this;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.MY.Kc(function(i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t._s!==ub.tI){r.next=8;break}return tu(i),e=new YV(t,n,n.Es),n.BD=e,n.JX.Jh(e,t),r.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,We)}));case 1:case"end":return i.stop()}},null,this,null,We)},i.qm=function(){throw new v("Not implemented yet")},i.Gm=function(){throw new v("Not implemented yet")},i.wc=function(){var t=this;return this.MY.Gs(),this.MY.Kc(function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.BD){n.next=4;break}return n.next=3,Dr.awrap(t.BD.Xs());case 3:t.BD=void 0;case 4:return n.next=6,Dr.awrap(t.JX.wc());case 6:case"end":return n.stop()}},null,null,null,We)})},i.Xu=function(t,n){throw new v("Not implemented yet")},i.EN=function(t){throw new v("Not implemented yet")},i.sy=function(){throw new v("Not implemented yet")},i.IN=function(){return this.wvt},i.mvt=function(){this.lvt.addEventListener("airPlayIsCasting",this._vt)},i.yvt=function(){this.lvt.removeEventListener("airPlayIsCasting",this._vt)},i.webkitSetMediaKeys=function(t){this.Fc=t||null,this.Fc&&(this.Fc.sessionId=this.nf)},i.pQ=function(){},i.yQ=function(){throw new v("Not implemented yet")},i.kQ=function(){throw new v("Not implemented yet")},A(n,[{key:"Ay",get:function(){throw new v("Not implemented yet")}},{key:"by",get:function(){throw new v("Not implemented yet")}},{key:"tm",get:function(){throw new v("Not implemented yet")}},{key:"vX",get:function(){throw new v("Not implemented yet")}},{key:"nm",get:function(){throw new v("Not implemented yet")}},{key:"im",get:function(){throw new v("Not implemented yet")}},{key:"Au",get:function(){throw new v("Not implemented yet")}},{key:"ST",get:function(){throw new v("Not implemented yet")}},{key:"Sy",get:function(){return this.dvt}},{key:"hm",get:function(){throw new v("Not implemented yet")}},{key:"cm",get:function(){throw new v("Not implemented yet")}},{key:"fm",get:function(){throw new v("Not implemented yet")}},{key:"Oy",get:function(){throw new v("Not implemented yet")}},{key:"wg",get:function(){throw new v("Not implemented yet")}},{key:"Ly",get:function(){throw new v("Not implemented yet")}},{key:"vm",get:function(){throw new v("Not implemented yet")}},{key:"TQ",get:function(){throw new v("Not implemented yet")}},{key:"wm",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"Xk",get:function(){throw new v("Not implemented yet")}},{key:"mN",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Fc}},{key:"SQ",get:function(){return bD}},{key:"Vm",get:function(){throw new v("Not implemented yet")}},{key:"dX",get:function(){throw new v("Not implemented yet")}},{key:"RN",get:function(){throw new v("Not implemented yet")}},{key:"bQ",get:function(){return!0}},{key:"uN",get:function(){return this.JX.uN},set:function(t){this.JX.uN=t}},{key:"EQ",get:function(){},set:function(t){}},{key:"xY",get:function(){return this.JX.xY}}]),n}(Ug),uW=function(t){function n(n){var i;return(i=t.call(this,Tf.hv)||this).wvt=n,i}return S(n,t),n}(_u);function oW(t){switch(t.type){case eW.bZ:return t.value;case eW.qft:return gg(t.value);case eW.Gft:return Cu(t.value);default:return}}function aW(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.bZ="daterange-ca-type_string",t.qft="daterange-ca-type_number",t.Gft="daterange-ca-type_arraybuffer"}(eW||(eW={}));var hW=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this).WR=void 0,u.kvt=void 0,u.WR=n,u.kvt=s,u}return S(n,t),A(n,[{key:"name",get:function(){return this.WR}},{key:"timestamp",get:function(){return this.kvt}}]),n}(tf),cW=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e,r,a)||this).url=void 0,h.status=void 0,h.errorComment=void 0,h.url=s,h.status=u,h.errorComment=o,h}return S(n,t),n}(hW),fW=function(){function t(t,n){this.Mm=void 0,this.qY=void 0,this.Mm=new Bp,this.qY=new hP(t,n)}var n=t.prototype;return n.QE=function(t,n,i,e,r,s,u){var o=new hC(t,n,i,e,r,s,u);return this.Mm.B_(o),this.qY.B_(o),o},n.JE=function(t){this.Mm.O_(t),this.qY.O_(t),t.$c()},n.wc=function(){for(var t=0,n=this.Mm.L_.slice();t<n.length;t++){n[t].$c()}this.Mm.wc(),this.qY.wc()},n.$c=function(){this.wc(),this.Mm.$c(),this.qY.$c()},A(t,[{key:"Vm",get:function(){return this.Mm}}]),t}(),vW=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this).KC=0,u.mG=!1,u.OD=void 0,u.xD=void 0,u.pvt=void 0,u.$C=!0,u.tP=1,u.xm=void 0,u.Lm=void 0,u.zY=void 0,u.WY=void 0,u.Mm=void 0,u.GE=void 0,u.ma=void 0,u.C9=fS.qC(),u.rG=fS.qC(),u.JC=!1,u.tj=fS.qC(),u.nP=void 0,u.bvt=void 0,u.Avt=void 0,u.yG=jg.Vg,u.iI=jg.Vg,u.lvt=void 0,u.qY=void 0,u.UD=void 0,u.jft=void 0,u.lst=void 0,u.sP=void 0,u.PD=void 0,u.XD=void 0,u.vvt=void 0,u.wvt={Iy:0,Ry:0,Dy:0,Ny:0,Cy:0,Py:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.BD=void 0,u.Tvt=void 0,u.FD=new zT,u.zD=new jT,u.setCurrentTime=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Ly.length){n.next=4;break}return u.KC=t,n.next=4,Dr.awrap(u.lvt.wu("seekablechange"));case 4:u.KC=u.updateCurrentTime(t),u.jft.uJ("THEOplayerSetCurrentTime",u.KC),u.nP=!0,u.$s(new Am(u.KC));case 8:case"end":return n.stop()}},null,null,null,We)},u.Svt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.C9=new fS(i),u.$s(new ID(u.tm))}},u.Evt=function(t){u.yG=t.detail.readyState,u.$s(new Em(+t.detail.currentTime,u.wg)),u.Ivt()},u.Rvt=function(t){u.yG=t.detail.readyState,u.$s(new Im(+t.detail.currentTime,u.wg)),u.Ivt()},u.Dvt=function(t){if(t.detail){var n=+t.detail.duration;u.ma=n,u.$s(new mm(u.nm))}},u.Nvt=function(t){t.detail&&(u.mG=!0,u.$s(new pm(+t.detail.currentTime)))},u.VD=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);aW(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.xD=new cW(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.OD=ey(u.xD),u.$s(new Dm(u.xD))):aW(i)&&(u.xD=new hW(i.name,i.message,void 0,i.code,i.timestamp),u.OD=ey(u.xD),u.$s(new Dm(u.xD)))}},u.Cvt=function(t){u.$s(new RD)},u.Pvt=function(t){u.yG=t.detail.readyState,u.$s(new bm(+t.detail.currentTime,u.wg)),u.Ivt()},u.Bvt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Ly.length){n.next=3;break}return n.next=3,Dr.awrap(u.lvt.wu("seekablechange"));case 3:u.yG=t.detail.readyState,u.$s(new gm(+t.detail.currentTime,u.wg)),u.Ivt();case 6:case"end":return n.stop()}},null,null,null,We)},u.Ovt=function(t){t.detail&&u.$C&&(u.$C=!1,u.$s(new wm(+t.detail.currentTime)))},u.xvt=function(t){t.detail&&(u.$C||(u.$C=!0,u.$s(new dm(+t.detail.currentTime))))},u.Lvt=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.tj=new fS(i)}},u.Mvt=function(t){t.detail&&u.$s(new mb(+t.detail.currentTime))},u.Uvt=function(t){t.detail&&(u.tP=t.detail.playbackRate,u.$s(new ym(+t.detail.currentTime,u.tP)))},u.Xvt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.rG=new fS(i)}},u.Hvt=function(t){t.detail&&(u.KC=+t.detail.currentTime,u.nP=!1,u.$s(new km(u.KC,u.pvt)),u.$s(new Tm(u.KC)))},u.Fvt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.ma&&(u.mG=!1),u.nP=!0,u.$s(new Am(n))}},u.zvt=function(t){t.detail&&(t.detail.currentDate&&(u.pvt=new Date(1e3*t.detail.currentDate)),u.KC=+t.detail.currentTime,u.$s(new km(u.KC,u.pvt)))},u.Vvt=function(t){u.bvt=t.detail.height,u.Avt=t.detail.width},u.Wvt=function(t){t.detail&&u.$s(new gb(+t.detail.currentTime))},u.Gvt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Fm.B_(new gy(n))},u.qvt=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.xm.M_;s++){var o=u.Fm.P_(s);o.K_==e&&o.Z_==r?i=u.xm.P_(s):1==o.q_&&(n=u.xm.P_(s))}i&&n&&(i.q_=!0,n.q_=!1)},u.Yvt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.zm.B_(new by(n))},u.BK=function(t){var n,i=t.detail.kind,e=t.detail.type;i===Pp.gA&&e===ky.ID3?(n=new wP("",t.detail.label)).fg=Rg.og:i===Pp.gA&&e===ky.DATE_RANGE?(n=new pL,u.Tvt=n):n=new hC(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.zY.B_(n),u.qY.B_(n)},u.jvt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s=void 0;if("PRIV"===r)s={id:r,ownerIdentifier:e.Id3_PRIV_ownerIdentifier,data:e.Id3_PRIV_data};else if("TXXX"===r||"TXX"===r){s={id:r,text:e.Id3FrameText,description:e.Id3FrameDescription}}else{s={id:r,text:e.Id3FrameText}}var o=new lP(gg(e.startTime),s,e.uid),a=u.Qvt();a&&a.KE(o)}},u.Zvt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new Hy(gg(r.startTime),gg(r.endTime),r.content,!1),o=null!=(e=u.Kvt(Pp.wA))?e:u.Kvt(Pp.PE);o&&(o._s=ky.WEBVTT,o.KE(s))}},u.Kj=function(t){t.type===Tf.If&&(u.OD=ey(t.errorObject)),u.Js(t)},u.Jvt=function(t){t.detail&&(u.wvt.Ry=t.detail.corruptedVideoFrames,u.wvt.Iy=t.detail.droppedVideoFrames,u.$s(new uW(u.Ey)))},u.$vt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={Y_:t.id};if(void 0!==t.startDate&&(n.RN=new Date(t.startDate)),void 0!==t.endDate&&(n.D1=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=oW(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.C1=e}void 0!==t.scte35Cmd&&(n.B1=Cu(t.scte35Cmd)),void 0!==t.scte35In&&(n.M1=Cu(t.scte35In)),void 0!==t.scte35Out&&(n.L1=Cu(t.scte35Out)),void 0!==t.startTime&&(n.ck=t.startTime),n.R1=t.class,n.nm=gg(t.duration),n.N1=gg(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.ck?t.ck:(new Date).getTime(),e=new yL(t,i);u.Tvt.KE(e),u.Tvt.tc(n,i)})};var o=r.uid;u.jft=u.getSdkBridge(o),u.lvt=new GV,XV()[o].sdkEventBus=u.lvt,u.xm=new sy,u.Lm=new sy;var a=u.tlt(e);return u.GE=new fW(Kt(u),new cP),u.qY=new vP(Kt(u)),u.UD=new tb(u.GE,a),u.zY=new Bp,u.WY=new mP(u.GE,u.zY),u.Mm=new GT([u.zY,u.UD.hT,u.WY.hT]),u.vvt=u.getFairPlayControllerBridge(u.jft),u.PD=new sW(u.lvt,u.vvt),u.XD=new VT(a),u.PD.uN=u.XD,u.observeMediaElement(),u.aN(),u.sP=new qV(u.jft,s),u.sP.tu("HL",function(){u.jft.uJ("THEOplayerSetPreferredForwardBufferDuration",u.sP.XL)}),u}S(n,t);var i=n.prototype;return i.vy=function(){return dS},i.sy=function(){this.jft.uJ("THEOplayerShow",{})},i.uy=function(){this.jft.uJ("THEOplayerHide",{})},i.nlt=function(){var t=this;this.jft.uJ("THEOplayerSetInitialPreferredPeakBitRate",this.sP.nM);this.tu("playing",function n(){t.jft.uJ("THEOplayerSetInitialPreferredPeakBitRate",0),t.au("playing",n)})},i.Qm=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.lst=t,i=Nr({},n,{sources:{src:t.src,type:Gg.Lg,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.jft.uJ("THEOplayerSourceChange",i),e={_s:ub.tI,yg:t.src,Gl:t.type,hN:this.cN(t),fN:t.crossOrigin,vN:n.metadata&&n.metadata.title},this.XD.wD(t.contentProtection),s.next=7,Dr.awrap(this.PD.Jh(e));case 7:this.BD=s.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==ky.WEBVTT})).length>0&&this.lN(r),sb(this.Vm),this.nlt();case 11:case"end":return s.stop()}},null,this,null,We)},i.cN=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{hc:us,AN:[{initDataTypes:[us.ys],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Gm=function(){this.$C=!1,this.$s(new wm(this.tm)),this.jft.uJ("THEOplayerPlay",{})},i.qm=function(){this.$C=!0,this.$s(new dm(this.tm)),this.jft.uJ("THEOplayerPause",{})},i.oy=function(){},i.wc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.KC=0,this.mG=!1,this.OD=void 0,this.xD=void 0,this.$C=!0,this.tP=1,this.ma=void 0,this.rG=fS.qC(),this.C9=fS.qC(),this.bvt=void 0,this.Avt=void 0,this.yG=jg.Vg,this.iI=jg.Vg,this.xm.wc(),this.Lm.wc(),this.zY.wc(),this.Mm.wc(),t.next=19,Dr.awrap(this.WY.wc());case 19:return t.next=21,Dr.awrap(this.UD.wc());case 21:return this.GE.wc(),this.qY.wc(),this.lst=void 0,t.next=26,Dr.awrap(this.PD.wc());case 26:case"end":return t.stop()}},null,this,null,We)},i.Km=function(){this.jft.uJ("THEOplayerShowAirPlayPicker",{})},i.Jm=function(){this.jft.uJ("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Ey.Ry=t.Ry,this.Ey.Iy=t.Iy},i.$c=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.wc());case 2:return this.ou(),this.unobserveMediaElement(),this.pN(),this.PD.uN=void 0,t.next=8,Dr.awrap(this.PD.Xs());case 8:return this.xm.$c(),this.Lm.$c(),this.zY.$c(),this.Mm.$c(),t.next=14,Dr.awrap(this.WY.$c());case 14:return t.next=16,Dr.awrap(this.UD.$c());case 16:this.GE.$c(),this.qY.$c();case 18:case"end":return t.stop()}},null,this,null,We)},i.lN=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.UD.jE(i)}},i.Ivt=function(){var t=this.iI,n=this.yG;t!==n&&(this.iI=n,this.$s(new Rm(this.tm,n)))},i.observeMediaElement=function(){this.PD.tu(Tf.Af,this.Js),this.PD.tu([Tf.Rf,Tf.If],this.Kj),this.lvt.addEventListener("play",this.Ovt),this.lvt.addEventListener("pause",this.xvt),this.lvt.addEventListener("seeking",this.Fvt),this.lvt.addEventListener("seeked",this.Hvt),this.lvt.addEventListener("ratechange",this.Uvt),this.lvt.addEventListener("durationchange",this.Dvt),this.lvt.addEventListener("timeupdate",this.zvt),this.lvt.addEventListener("waiting",this.Wvt),this.lvt.addEventListener("playing",this.Mvt),this.lvt.addEventListener("ended",this.Nvt),this.lvt.addEventListener("loadedmetadata",this.Bvt),this.lvt.addEventListener("loadeddata",this.Pvt),this.lvt.addEventListener("loadstart",this.Cvt),this.lvt.addEventListener("canplay",this.Evt),this.lvt.addEventListener("canplaythrough",this.Rvt),this.lvt.addEventListener("error",this.VD),this.lvt.addEventListener("seekablechange",this.Xvt),this.lvt.addEventListener("videosizechange",this.Vvt),this.lvt.addEventListener("bufferedchange",this.Svt),this.lvt.addEventListener("playedchange",this.Lvt),this.lvt.addEventListener("metricschange",this.Jvt),this.lvt.addEventListener("addDateRangeCues",this.$vt)},i.unobserveMediaElement=function(){this.PD.au(Tf.Af,this.Js),this.PD.au([Tf.Rf,Tf.If],this.Kj),this.lvt.removeEventListener("play",this.Ovt),this.lvt.removeEventListener("pause",this.xvt),this.lvt.removeEventListener("seeking",this.Fvt),this.lvt.removeEventListener("seeked",this.Hvt),this.lvt.removeEventListener("ratechange",this.Uvt),this.lvt.removeEventListener("durationchange",this.Dvt),this.lvt.removeEventListener("timeupdate",this.zvt),this.lvt.removeEventListener("waiting",this.Wvt),this.lvt.removeEventListener("playing",this.Mvt),this.lvt.removeEventListener("ended",this.Nvt),this.lvt.removeEventListener("loadedmetadata",this.Bvt),this.lvt.removeEventListener("loadeddata",this.Pvt),this.lvt.removeEventListener("loadstart",this.Cvt),this.lvt.removeEventListener("canplay",this.Evt),this.lvt.removeEventListener("canplaythrough",this.Rvt),this.lvt.removeEventListener("error",this.VD),this.lvt.removeEventListener("seekablechange",this.Xvt),this.lvt.removeEventListener("videosizechange",this.Vvt),this.lvt.removeEventListener("bufferedchange",this.Svt),this.lvt.removeEventListener("playedchange",this.Lvt),this.lvt.removeEventListener("metricschange",this.Jvt),this.lvt.removeEventListener("addDateRangeCues",this.$vt)},i.updateCurrentTime=function(t){var n=this.Ly.start(0),i=this.Ly.end(0);return w.min(w.max(t,n),i)},i.Qvt=function(){for(var t=0,n=this.Mm.L_;t<n.length;t++){var i=n[t];if(i.Q_===Pp.gA&&i._s===ky.ID3)return i}},i.Kvt=function(t){for(var n=0,i=this.Mm.L_;n<i.length;n++){var e=i[n],r=e.fg===Rg.ag,s=e.Q_===t;if(r&&s)return e}},i.aN=function(){this.lvt.addEventListener("addaudiotrack",this.Gvt),this.lvt.addEventListener("enableaudiotrack",this.qvt),this.lvt.addEventListener("addvideotrack",this.Yvt),this.lvt.addEventListener("addtexttrack",this.BK),this.lvt.addEventListener("addtexttrackid3cues",this.jvt),this.lvt.addEventListener("addtexttrackcues",this.Zvt)},i.pN=function(){this.lvt.removeEventListener("addaudiotrack",this.Gvt),this.lvt.removeEventListener("enableaudiotrack",this.qvt),this.lvt.removeEventListener("addvideotrack",this.Yvt),this.lvt.removeEventListener("addtexttrack",this.BK),this.lvt.removeEventListener("addtexttrackid3cues",this.jvt),this.lvt.removeEventListener("addtexttrackcues",this.Zvt)},i.py=function(){},A(n,[{key:"Fm",get:function(){return this.xm}},{key:"by",get:function(){return this.C9.SN()}},{key:"Ay",get:function(){return this.pvt?this.pvt:null},set:function(t){this.jft.uJ("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.pvt=t}},{key:"tm",get:function(){return this.KC},set:function(t){this.setCurrentTime(t)}},{key:"nm",get:function(){return this.ma}},{key:"im",get:function(){return this.mG}},{key:"Au",get:function(){return this.OD}},{key:"um",get:function(){return this.xD}},{key:"Wm",get:function(){}},{key:"Sy",get:function(){return this.PD.Sy}},{key:"Ey",get:function(){return this.wvt}},{key:"hm",get:function(){return this.JC},set:function(t){this.JC!==t&&(this.jft.uJ("THEOplayerSetMuted",t),this.JC=t,this.$s(new Sm(this.tm,t?0:1)))}},{key:"cm",get:function(){return this.$C}},{key:"fm",get:function(){return this.tP},set:function(t){this.jft.uJ("THEOplayerSetPlaybackRate",t),this.tP=t}},{key:"Oy",get:function(){return this.tj.SN()}},{key:"xy",get:function(){return eS.jN},set:function(t){}},{key:"wg",get:function(){return this.yG}},{key:"Ly",get:function(){return this.rG.SN()}},{key:"vm",get:function(){return this.nP}},{key:"RN",get:function(){}},{key:"Vm",get:function(){return this.Mm}},{key:"lm",get:function(){return this.bvt}},{key:"dm",get:function(){return this.Avt}},{key:"wm",get:function(){return 1},set:function(t){}},{key:"My",get:function(){return this.zD}},{key:"zm",get:function(){return this.Lm}},{key:"DN",get:function(){return this.FD}},{key:"Uy",get:function(){return!1},set:function(t){}},{key:"By",get:function(){return!0}}]),n}(Ug),lW=function(){function t(){this.NN=MT.aD}var n=t.prototype;return n.CN=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&!i.vr.nativeVR&&(i.vr.panoramaMode===jS.PM360||i.vr.panoramaMode===jS.PM180))return!1;if(Jg(n.type))return!1;var e=n.contentProtection;if(e&&!eA(e)){if(!uA(e))return!1;if(!t.Dot(e))return!1}return!0},t.Dot=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.PN=function(){return!1},t}(),dW=function(){function t(){this.ilt=r.webkit}return t.prototype.uJ=function(t,n){this.ilt.messageHandlers[t]&&this.ilt.messageHandlers[t].postMessage(n)},t}(),wW=function(t){function n(n){var i;return(i=t.call(this)||this).jft=void 0,i.lvt=void 0,i.elt=function(t){var n=Cu(t.detail.initData),e=t.detail.sessionId;i.$s(new jV(n,e))},i.rlt=function(t){var n=new y(Hu(t.detail.message)),e=t.detail.destinationURL;i.$s(new QV(n,e))},i.slt=function(t){i.$s(new ZV)},i.forwardKeyFlowDone=function(t){i.$s(new KV)},i.jft=n,i.lvt=new GV,XV().fairplayController={sdkEventBus:i.lvt},i.ult(),i}S(n,t);var i=n.prototype;return i.ult=function(){this.lvt.addEventListener(VV.nvt,this.elt),this.lvt.addEventListener(VV.ivt,this.rlt),this.lvt.addEventListener(VV.evt,this.slt),this.lvt.addEventListener(VV.rvt,this.forwardKeyFlowDone)},i.bY=function(t,n){var i={playerId:FV(),data:Fu(n.buffer),sessionId:t};this.jft.uJ("THEOplayerCreateKeySession",i)},i.tc=function(t,n){var i={playerId:FV(),data:Fu(n.buffer),sessionId:t};this.jft.uJ("THEOplayerUpdateKey",i)},n}(Ug),_W=function(t){var n=this;this.lvt=void 0,this.olt=void 0,this.hlt=function(){n.olt.zK()},this.clt=function(){n.olt.FK()},this.lvt=new GV,this.olt=t,this.lvt.addEventListener("showTracks",this.hlt),this.lvt.addEventListener("hideTracks",this.clt),XV().texttracks={sdkEventBus:this.lvt}},gW=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this).YK=void 0,o.jK=void 0,o.flt=void 0;var a=i.rN(ry.Pd);return o.YK=new YP,o.YK.AQ(n),o.jK=new jB(o.YK.Ty,a.vX,o.Vm,u,a.mN),o.flt=new _W(o.jK),i.bN(a),le.document.querySelector(".vjs-tech")?le.document.querySelector(".player-div").classList.add("theo-ios-sdk"):le.document.querySelector(".player-div").style.background="transparent",o}S(n,t);var i=n.prototype;return i.sy=function(){t.prototype.sy.call(this),this.YK.sy()},i.uy=function(){t.prototype.uy.call(this),this.YK.uy()},i.Zm=function(){return!0},i.getSdkBridge=function(){return new dW},i.getFairPlayControllerBridge=function(){return yW},i.tlt=function(t){return t},i.$c=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return le.document.querySelector(".vjs-tech")?le.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):le.document.querySelector(".player-div").style.background="#000000",n.next=3,Dr.awrap(t.prototype.$c.call(this));case 3:this.jK.$c(),this.YK.$c();case 5:case"end":return n.stop()}},null,this,null,We)},n}(vW);nS(new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.tR=function(t,n,i,e,r,s){return new gW(t,n,i,e,r,s)},i.CN=function(n,i){if(n.type){var e=ar();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.CN.call(this,n,i)},n}(lW)));var mW,yW=new wW(new dW),kW=function(t){function n(){return t.call(this,"vlt")||this}return S(n,t),n.prototype.a_=function(){return new pW},n}(Z_),pW=function(t){function n(){return t.call(this,"statechange")||this}return S(n,t),n}(_u);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(mW||(mW={}));var bW=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).llt=new Ug,n.Js=function(t){n.$s(t)},n}S(n,t);var i=n.prototype;return i.a_=function(){return n=function(t){var n=t.dlt.map(function(t){return t.o_});return n.item=function(n){n|=0;var i=t.P_(n);return i&&i.o_||void 0},n}(t=this),i=new pR(t,n),n.addEventListener=function(t,n){i.tu(t,n)},n.removeEventListener=function(t,n){i.au(t,n)},n;var t,n,i},i.tu=function(t,n){this.llt.tu(t,n)},i.uu=function(t){this.llt.uu(t)},i.ou=function(){this.llt.ou()},i.$s=function(t){this.llt.$s(t)},i.au=function(t,n){this.llt.au(t,n)},i.vu=function(t){this.llt.vu(t)},i.du=function(t){this.llt.du(t)},i.wu=function(t,n){return this.llt.wu(t,n)},n}(function(){function t(){this.Du=[],this.u_=void 0}var n=t.prototype;return n.P_=function(t){return this.Du[t]},n.Hy=function(t){this.Du.push(t),this.u_&&this.u_.push(t.o_),this.wlt(t)},n._lt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Hy(i)}},n.glt=function(t,n){n>=0&&n<=this.Du.length&&(this.Du.splice(n,0,t),this.u_&&this.u_.splice(n,0,t.o_),this.wlt(t))},n.Fy=function(t){return Hs(this.Du,t)},n.$h=function(t){this.ylt(this.Du.indexOf(t))},n.ylt=function(t){if(t>=0&&t<this.Du.length){var n=this.Du[t];Xs(this.Du,t),this.u_&&Xs(this.u_,t),this.klt(n)}},n.Ou=function(){var t=this.Du.slice();Fs(this.Du),this.u_&&Fs(this.u_);for(var n=0;n<t.length;n++){var i=t[n];this.klt(i)}},A(t,[{key:"dlt",get:function(){return this.Du}},{key:"M_",get:function(){return this.Du.length}},{key:"o_",get:function(){return this.u_||(this.u_=this.a_()),this.u_}}]),t}());var AW,TW=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return S(n,t),n}(_u),SW=function(t){function n(n){var i;return(i=t.call(this,"blt")||this).plt=n,i}return S(n,t),n.prototype.a_=function(){return new TW(this.plt.o_)},n}(Z_),EW=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return S(n,t),n}(_u),IW=function(t){function n(n){var i;return(i=t.call(this,"Alt")||this).task=n,i}return S(n,t),n.prototype.a_=function(){return new EW(this.task.o_)},n}(Z_),RW=function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.wlt=function(t){this.$s(new SW(t))},i.klt=function(t){this.$s(new IW(t))},n}(bW);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(AW||(AW={}));var DW=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Tlt=AW.UNINITIALISED,r.Gc=new RW,r.Kct=void 0,r.Slt=void 0,r.Elt=void 0,r.Elt=i,r.Slt=e,r.Kct=n,r.$m(),r}S(n,t);var i=n.prototype;return i.$m=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.Ilt());case 2:this.Rlt(AW.INITIALISED);case 3:case"end":return t.stop()}},null,this,null,We)},i.Ilt=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Dr.awrap(this.Dlt());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},null,this,[[0,5]],We)},i.Dlt=function(){var t,n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.Kct.Iht());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=14;break}return i=t[n],e=this.Elt.Nlt(i.id,i.sourceDescription,i.parameters,this.Slt),this.Clt(e),this.Gc.Hy(e),r.next=11,Dr.awrap(e.Plt);case 11:n++,r.next=4;break;case 14:case"end":return r.stop()}},null,this,null,We)},i.Rlt=function(t){this.Tlt=t,this.$s(new kW)},i.Nlt=function(t,n,i){void 0===i&&(i="persistent");var e=this.Elt.Blt(t,n,i);return this.Olt(e,i),this.Gc.Hy(e),this.Clt(e),e},i.Olt=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this.xlt(t,n));case 3:i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(0),v("Unable to persist task - "+i.t0);case 8:case"end":return i.stop()}},null,this,[[0,5]],We)},i.xlt=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.Kct.Tht({key:t.Y_,id:t.Y_,sourceDescription:t.VN,parameters:t.kc},n));case 2:case"end":return i.stop()}},null,this,null,We)},i.Clt=function(t){var n=this;t.tu("vlt",function(){t.ud===mW.EVICTED&&n.Gc.$h(t)})},A(n,[{key:"ud",get:function(){return this.Tlt}},{key:"Llt",get:function(){return this.Gc}}]),n}(du);function NW(t,n){return function(t,n){var i=t.Xk&&n.Xk,e=t.ST&&n.ST;return i||e?i&&e?t.Xk*t.ST-n.Xk*n.ST:i?t.Xk-n.Xk:e?t.ST-n.ST:(t.Xk||1)*(t.ST||1)-(n.Xk||1)*(n.ST||1):0}(t,n)||function(t,n){return t.vD-n.vD}(t,n)}var CW=function(t){function n(){return t.call(this,"progress")||this}return S(n,t),n}(_u),PW=function(t){function n(){return t.call(this,"Mlt")||this}return S(n,t),n.prototype.a_=function(){return new CW},n}(Z_),BW=function(){function t(t,n,i){if(this.Ult=void 0,this.Xlt=t,this.Xy=n,this.Hlt=i,0===this.Xy.size)this.Ult=fS.qC();else{var e=new fS([-1/0,1/0]);this.Xy.forEach(function(t){e=e.kC(t.timeRanges)}),this.Ult=e}}return t.prototype.Nk=function(t){return!!lg(this.Xy,t.Xy)&&(!!Ht(this.Xlt,t.Xlt)&&(!!Ht(this.zC,t.zC)&&(!!Ht(this.Flt,t.Flt)&&this.zlt.LC(t.zlt))))},A(t,[{key:"zC",get:function(){return this.Hlt}},{key:"Vlt",get:function(){return this.Xlt}},{key:"Flt",get:function(){return this.zlt.zC}},{key:"Wlt",get:function(){var t=0,n=0;return this.Xy.forEach(function(i){t+=i.timeRanges.zC,n+=i.totalQualityDurationToCache}),0===n?0:w.min(1,t/n)}},{key:"zlt",get:function(){return this.Ult}}]),t}();function OW(t,n){if(q(t)){if(vs(t,"%"))return g(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}BW.QUALITY_TIME_RANGES_NULL_OBJECT=Pr(),BW.CACHE_PROGRESSION_NULL_OBJECT=new BW(0,BW.QUALITY_TIME_RANGES_NULL_OBJECT,NaN),BW.Glt=BW.CACHE_PROGRESSION_NULL_OBJECT;var xW,LW=function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"qlt"}}]),n}($t);function MW(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Ylt;r<s.length;r++)u=s[r],e.push(UW(u,n,i));return a.next=4,Dr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{nm:t.Qlt.jlt(),Zlt:[t.Klt],Ylt:o});case 6:case"end":return a.stop()}},null,null,null,We)}function UW(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Jlt;r<s.length;r++)u=s[r],e.push(XW(u,n,i));return a.next=4,Dr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{$lt:o});case 6:case"end":return a.stop()}},null,null,null,We)}function XW(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.tdt;r<s.length;r++)HW(u=s[r])||e.push(WW(u,n,i));return a.next=4,Dr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{hT:o,_s:t._s});case 6:case"end":return a.stop()}},null,null,null,We)}function HW(t){return t.q1.every(VW)}!function(t){t[t.xg=0]="xg",t[t.Lg=1]="Lg"}(xW||(xW={}));var FW,zW=1;function VW(t){return t.ndt!==zW&&Boolean(t.ndt)}function WW(t,n,i){var e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:for(e=[],r=0,s=t.q1;r<s.length;r++)VW(u=s[r])||e.push(qW(u,i));return v.next=4,Dr.awrap(We.all(e));case 4:return o=v.sent,a=t.yz[0],h=t.G1,c=h?GW(a,h):void 0,f=Ix(t,n),v.abrupt("return",{J_:o,K_:t.Krt,_s:t._s,hN:c,idt:f});case 10:case"end":return v.stop()}},null,null,null,We)}function GW(t,n){for(var i=[],e=function(t){return t?vs(t,"avc")?Dc.VIDEO_H264:vs(t,"hev")||vs(t,"hvc")||vs(t,"hvt")||vs(t,"lhv")||vs(t,"lhe")||vs(t,"lht")?Dc.VIDEO_H265:vs(t,"mp4")?Dc.VIDEO_MP4:vs(t,"mpeg2")?Dc.VIDEO_MPEG2:vs(t,"mpeg")?Dc.VIDEO_MPEG:Dc.VIDEO_UNKNOWN:Dc.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.U1.split(":").pop(),o=s.X1;i.push({mimeType:e,uuid:u,data:o})}return{type:xW.xg,schemeType:Wr,schemeDatas:i}}function qW(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(YW(t,n));case 2:r=u.sent,s={Y_:QW(t),AE:r,vD:t.vD,dr:t.dr,ST:t.ST,_s:t._s,Xk:t.Xk},u.t0=t._s,u.next=u.t0===ry.ni?7:u.t0===ry.Pd?8:u.t0===ry.Cd?10:12;break;case 7:return u.abrupt("break",13);case 8:return s.QJ=null!=(i=null==(e=t.QJ)?void 0:e.Fk())?i:NaN,u.abrupt("break",13);case 10:return s.audioSamplingRate=t.JJ,u.abrupt("break",13);case 12:0;case 13:return u.abrupt("return",s);case 14:case"end":return u.stop()}},null,null,null,We)}function YW(t,n){var i,e,r,s,u,o,a,h;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=t.edt,t.xct&&i.push({ck:0,nm:0,rdt:t.xct}),r=e.sdt(),s=r;case 5:if(!s){c.next=17;break}if(!t.udt(s)){c.next=13;break}return c.next=9,Dr.awrap(t.odt(s,n,(new Ks).js));case 9:for(u=c.sent,o=0;o<u.M_;o++)i.push(jW(u.adt(o),t));c.next=14;break;case 13:i.push(jW(s,t));case 14:s=e.hdt(s),c.next=5;break;case 17:return a=e.cdt(),h=a.fk-r.ck,c.abrupt("return",{nm:h,S1:i});case 20:case"end":return c.stop()}},null,null,null,We)}function jW(t,n){return{ck:t.ck,nm:t.nm,rdt:n.fdt(t)}}function QW(t){return t.vdt.oC+"-"+(""+t.Y_)}function ZW(t,n){return function(t,n){var i=Br();return t.forEach(function(t,e){var r=Pr();t.forEach(function(t,i){for(var s=[],u=0;u<t.length;u++){var o=KW(t[u],e,n);s.push(o)}r.set(i,s)}),i.set(e,r)}),i}(function(t){var n=function(t){for(var n=Pr(),i=0;i<t.length;i++){var e=t[i],r=n.get(e.E$);r||(r={_s:e._s,mT:[]},n.set(e.E$,r)),r.mT.push(e)}return n}(t),i=Br();return n.forEach(function(t){for(var n=0,e=t.mT;n<e.length;n++){var r=e[n],s=i.get(t._s);s||(s=Pr(),i.set(t._s,s));var u=s.get(r._i);u||(u=[],s.set(r._i,u)),u.push(r)}}),i}(t),n)}function KW(t,n,i){for(var e=t.E$,r={Y$:t,p0:[]},s=0;s<i.length;s++){var u=i[s];BL(n,e,u)&&r.p0.push(u)}return r}function JW(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(n.jct([t],{}));case 2:return i=e.sent,e.abrupt("return",cL(i.dd,{},i.Gct));case 4:case"end":return e.stop()}},null,null,null,We)}function $W(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!_x(t)){i.next=4;break}return i.abrupt("return",tG(t,n));case 4:return i.abrupt("return",(r=void 0,{nm:(r=hG(e=t)).nm,Zlt:[e.D$],Ylt:[{$lt:[{_s:ry.md,hT:[{_s:ry.md,K_:rU,J_:[{Y_:e.D$,AE:r,vD:0,dr:"",ST:0,_s:ry.md,Xk:0}]}]}]}]}));case 5:case"end":return i.stop()}var e,r},null,null,null,We)}function tG(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=ZW(t.mT,t.V2),s.next=3,Dr.awrap(eG(i,n));case 3:return e=s.sent,s.next=6,Dr.awrap(iG(t.V2,n));case 6:return r=s.sent,e.push(r),s.abrupt("return",{nm:nG(e),Zlt:[t.D$],Ylt:[{$lt:e}]});case 9:case"end":return s.stop()}},null,null,null,We)}function nG(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].hT;e<r.length;e++){var s=r[e];n=w.max.apply(w,[n].concat(s.J_.map(function(t){return t.AE.nm})))}return n}function iG(t,n){var i,e,r,s,u,o,a,h;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=0;case 2:if(!(e<t.length)){c.next=15;break}return a=t[e],c.next=6,Dr.awrap(aG(a.D$,n));case 6:(h=c.sent).vD=a.vD,h.dr=a.yz?[(f=a.yz).mz,f.gz,f.kz].filter(H).join(","):"",h.ST=null!=(r=null==(s=a.a0)?void 0:s.ST)?r:0,h.Xk=null!=(u=null==(o=a.a0)?void 0:o.Xk)?u:0,i.push(h);case 12:e++,c.next=2;break;case 15:return c.abrupt("return",{_s:ry.md,hT:[{K_:rU,_s:ry.md,J_:i}]});case 16:case"end":return c.stop()}var f},null,null,null,We)}function eG(t,n){var i,e,r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=[],e=t.entries(),r=e.next();case 3:if(r.done){h.next=12;break}return s=r.value,u=s[0],o=s[1],h.next=7,Dr.awrap(rG(o,u,n));case 7:a=h.sent,i.push(a);case 9:r=e.next(),h.next=3;break;case 12:return h.abrupt("return",i);case 13:case"end":return h.stop()}},null,null,null,We)}function rG(t,n,i){var e,r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:e=[],r=t.entries(),s=r.next();case 3:if(s.done){h.next=12;break}return u=s.value,o=u[1],h.next=7,Dr.awrap(sG(o,i));case 7:a=h.sent,e.push(a);case 9:s=r.next(),h.next=3;break;case 12:return h.abrupt("return",{_s:uG(n),hT:e});case 13:case"end":return h.stop()}},null,null,null,We)}function sG(t,n){var i,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=t[0].Y$,r=0;case 3:if(!(r<t.length)){o.next=12;break}return s=t[r],o.next=7,Dr.awrap(oG(s,n));case 7:u=o.sent,i.push(u);case 9:r++,o.next=3;break;case 12:return o.abrupt("return",{K_:e.K_||rU,_s:uG(e._s),J_:i});case 13:case"end":return o.stop()}},null,null,null,We)}function uG(t){switch(t){case cx.Cd:return ry.Cd;case cx.Pd:return ry.Pd;case cx.wA:case cx.Q1:return ry.ni;default:return ry.md}}function oG(t,n){var i,e,r;return aG((e=(i=t).Y$.D$,r=i.p0.map(function(t){return t.D$}),e||(r.length?r[0]:void 0)),n)}function aG(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i={nm:0,S1:[]},!t){r.next=6;break}return r.next=4,Dr.awrap(JW(t,n));case 4:gx(e=r.sent)&&(i=hG(e));case 6:return r.abrupt("return",{Y_:t||"default",ldt:t,AE:i,vD:0,dr:"",ST:0,_s:ry.md,Xk:0});case 7:case"end":return r.stop()}},null,null,null,We)}function hG(t){for(var n,i=[],e=0,r=0,s=t.S1;r<s.length;r++){var u=s[r],o=e;!u.Y2||void 0!==n&&kx(u.Y2.D$,n)||(i.push(cG(u.Y2,o)),n=u.Y2.D$),i.push(fG(u,o)),e+=u.nm}return{nm:e,S1:i}}function cG(t,n){return{ck:n,nm:0,rdt:vG(t.D$)}}function fG(t,n){return{ck:n,nm:t.nm,rdt:vG(t.D$)}}function vG(t){return{wd:t.Ti,Ict:t.E1?[t.E1.oC,t.E1.oC+t.E1.M_]:void 0,Ud:!1}}!function(t){t.tI="static",t.nI="dynamic"}(FW||(FW={}));var lG,dG=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,wG=function(){function t(t){this.ddt=void 0,this.ddt=t}t.jA=function(n){var i=n.match(dG);if(!i)throw new v("The given value could not be parsed as a valid DateTimeInterval");return new t(31536e3*(Number(i[1])||0)+2592e3*(Number(i[2])||0)+86400*(Number(i[3])||0)+3600*(Number(i[4])||0)+60*(Number(i[5])||0)+(Number(i[6])||0))};var n=t.prototype;return n.jlt=function(){return this.ddt},n.wdt=function(){return 1e3*this.ddt},A(t,[{key:"$tt",get:function(){return rk.Gp(this.ddt,1e3)}}]),t}();!function(t){t._dt="progressive",t.gdt="interlaced",t.md="unknown"}(lG||(lG={}));var _G=function(){function t(t,n){this.mdt=t,this.ydt=n}return t.prototype.Fk=function(){return this.mdt/this.ydt},t}(),gG=/^(?:true|false)$/i,mG=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function yG(t){if(void 0!==t)return wG.jA(t)}function kG(t){if(void 0!==t){var n=t.match(mG);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],a=n[7],h=n[8],c=n[9],f=n[10],l=n[11],d=("-"===i?-1:1)*Number(e),_=Number(r)-1,g=Number(s),y=Number(u),k=Number(o),p=Number(a),b=Number("0."+(h||"")),A=w.round(1e3*b);if(c)k-=("-"===c?-1:1)*(60*Number(f)+Number(l));var T=new Date(Date.UTC(d,_,g,y,k,p,A));if(m(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function pG(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[AG(n[1]),AG(n[2])]}}function bG(t){if(void 0!==t){if(!m(Number(t)))try{return ft.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function AG(t){if(void 0!==t){var n=Number(t);if(!m(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function TG(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!m(i)&&!m(e))return new _G(i,e);throw new v("The given value could not be parsed as a valid frame rate")}}function SG(t){if(void 0!==t){if(gG.test(t))return"true"===t.toLowerCase();if(!m(_(t)))return Boolean(_(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function EG(t){return{wd:t.Fi,kdt:SG(t.Oi("availabilityTimeComplete")),pdt:AG(t.Oi("availabilityTimeOffset"))}}function IG(t){return t.map(EG)}function RG(t){var n,i,e,r,s,u,o=XG(t),a=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).xi(e,i))&&(s=n.Oi(r+":"+i)),s),h=vp(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==h&&(u=Hu(h.Fi)),!u){var c=vp(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=Cu(t.Fi),i=new y([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new y(s),o=new DataView(s),a=new zo;fo(o,a,r),fo(o,a,1886614376),fo(o,a,0),so(o,a,i),fo(o,a,e),so(o,a,n),0;return u.buffer}(c))}return{kI:a,X1:u,U1:o.U1,Ti:o.Ti}}function DG(t){return{bdt:t.Oi("sourceURL"),Ict:pG(t.Oi("range"))}}function NG(t,n){var i=t.Oi("d"),e=t.Oi("t"),r=AG(t.Oi("r"));n.push({nm:i,ck:e,Adt:r})}function CG(t){return{Tdt:t.Oi("index"),Sdt:pG(t.Oi("indexRange")),mT:t.Oi("media"),Edt:pG(t.Oi("mediaRange"))}}function PG(t){var n,i;return Nr({},xG(t),{Idt:(n=t.Ii("SegmentURL"),(i=n.map(CG)).length>0?i:void 0),Rdt:t.Oi("xlink:href"),Ddt:t.Oi("xlink:actuate")})}function BG(t){var n=t.map(PG);return n.length>0?n:void 0}function OG(t){var n=SG(t.Oi("availabilityTimeComplete")),i=AG(t.Oi("availabilityTimeOffset")),e=pG(t.Oi("indexRange")),r=SG(t.Oi("indexRangeExact")),s=t.Ii("Initialization");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Di+" element can not have more than one Initialization element.");var u=1===s.length?DG(s[0]):void 0,o=bG(t.Oi("presentationTimeOffset")),a=t.Ii("RepresentationIndex");if(a.length>1)throw new v("The provided MPEG-DASH document's "+t.Di+" element can not have more than one RepresentationIndex element.");return{kdt:n,pdt:i,Sdt:e,Ndt:r,Cdt:u,Pdt:o,Bdt:1===a.length?DG(a[0]):void 0,Odt:yG(t.Oi("timeShiftBufferDepth")),Op:AG(t.Oi("timescale"))}}function xG(t){var n=OG(t),i=t.Ii("BitstreamSwitching"),e=i.length>0?DG(i[0]):void 0,r=AG(t.Oi("duration")),s=t.Ii("SegmentTimeline");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Di+" element can not have more than one SegmentTimeline element.");return Nr({},n,{xdt:e,nm:r,edt:1===s.length?function(t){for(var n=[],i=t.Ii("S"),e=0;e<i.length;e++)NG(i[e],n);return n}(s[0]):void 0,Ldt:AG(t.Oi("startNumber")),Mdt:AG(t.Oi("endNumber"))})}function LG(t){return Nr({},xG(t),{Udt:t.Oi("bitstreamSwitching"),Xdt:t.Oi("index"),Hdt:t.Oi("initialization"),Fdt:t.Oi("media")})}function MG(t){return{JJ:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(AG)):1===n.length?n.map(AG)[0]:void 0}}(t.Oi("audioSamplingRate")),yz:t.Oi("codecs"),zdt:SG(t.Oi("codingDependency")),G1:function(t){if(0!==t.length)return t.map(RG)}(t.Ii("ContentProtection")),Vdt:t.Ii("EssentialProperty").map(HG),QJ:TG(t.Oi("frameRate")),ST:AG(t.Oi("height")),ndt:AG(t.Oi("maxPlayoutRate")),Wdt:AG(t.Oi("maximumSAPPeriod")),DO:t.Oi("mimeType"),Gdt:t.Oi("profiles"),qdt:t.Oi("sar"),Ydt:function(t){switch(t){case lG._dt:case lG.gdt:case lG.md:return t;default:return}}(t.Oi("scanType")),jdt:t.Oi("segmentProfiles"),Qdt:AG(t.Oi("startWithSAP")),Xk:AG(t.Oi("width"))}}function UG(t){var n=MG(t),i=AG(t.Oi("bandwidth")),e=IG(t.Ii("BaseURL")),r=t.Oi("dependencyId"),s=t.Oi("id"),u=t.Oi("mediaStreamStructureId"),o=AG(t.Oi("qualityRanking")),a=t.Ii("SegmentBase");if(a.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var h=1===a.length?OG(a[0]):void 0,c=BG(t.Ii("SegmentList")),f=t.Ii("SegmentTemplate");if(f.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return Nr({},n,{vD:i,Zdt:e,Kdt:r,Y_:s,Jdt:u,$dt:o,twt:h,nwt:c,iwt:1===f.length?LG(f[0]):void 0})}function XG(t){return{U1:t.Oi("schemeIdUri"),Ti:t.Oi("value")}}function HG(t){return XG(t)}function FG(t){return XG(t)}function zG(t){return XG(t)}function VG(t){var n,i=MG(t),e=function(t){return t.map(zG)}(t.Ii("Accessibility")),r=IG(t.Ii("BaseURL")),s=SG(t.Oi("bitstreamSwitching")),u=t.Oi("contentType"),o=AG(t.Oi("group")),a=AG(t.Oi("id")),h=(null==(n=t.Ii("Label")[0])?void 0:n.Fi)||"",c=t.Oi("lang"),f=AG(t.Oi("maxBandwidth")),l=TG(t.Oi("maxFrameRate")),d=AG(t.Oi("maxHeight")),w=AG(t.Oi("maxWidth")),_=AG(t.Oi("minBandwidth")),g=TG(t.Oi("minFrameRate")),m=AG(t.Oi("minHeight")),y=AG(t.Oi("minWidth")),k=t.Oi("par"),p=t.Ii("Representation").map(UG);if(0===p.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var b=function(t){return t.map(FG)}(t.Ii("Role")),A=SG(t.Oi("segmentAlignment"))||!1,T=t.Ii("SegmentBase");if(T.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?OG(T[0]):void 0,E=BG(t.Ii("SegmentList")),I=t.Ii("SegmentTemplate");if(I.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var R,D=1===I.length?LG(I[0]):void 0,N=AG(t.Oi("selectionPriority")),C=N||1,P=SG(t.Oi("subsegmentAlignment"))||!1;try{R=AG(t.Oi("subsegmentStartsWithSAP"))}catch(t){}return Nr({},i,{ewt:e,Zdt:r,xdt:s,Gl:u,rwt:o,Y_:a,Z_:h,K_:c,swt:f,uwt:l,owt:d,awt:w,hwt:_,cwt:g,fwt:m,vwt:y,lwt:k,q1:p,dwt:b,wwt:A,twt:S,nwt:E,iwt:D,NN:C,_wt:P,gwt:R,mwt:t.Oi("xlink:actuate")||"onRequest",ywt:t.Oi("xlink:href")})}function WG(t){var n=bG(t.Oi("presentationTime"))||ft.ZERO,i=bG(t.Oi("duration")),e=AG(t.Oi("id")),r=function(t){for(var n=t.Hi,i={},e=0;e<n.length;e++)i[n[e]._i]=n[e].Ti;return i}(t),s=t.Fi;return{sE:n,nm:i,Y_:e,Hi:r,zi:""!==s.trim()?s:t.Oi("messageData")||""}}function GG(t){return{ywt:t.Oi("xlink:href"),mwt:t.Oi("xlink:actuate"),U1:t.Oi("schemeIdUri"),Ti:t.Oi("value"),Op:AG(t.Oi("timescale")),Pdt:bG(t.Oi("presentationTimeOffset")),CO:t.Ii("Event").map(WG)}}function qG(t){var n=t.Ii("AssetIdentifier");if(n.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var i=1===n.length?XG(n[0]):void 0,e=t.Ii("AdaptationSet").map(VG),r=IG(t.Ii("BaseURL")),s=SG(t.Oi("bitstreamSwitching")),u=yG(t.Oi("duration")),o=t.Ii("EventStream").map(GG),a=t.Oi("id"),h=t.Ii("SegmentBase");if(h.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var c=1===h.length?OG(h[0]):void 0,f=BG(t.Ii("SegmentBase")),l=t.Ii("SegmentTemplate");if(l.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var d=1===l.length?LG(l[0]):void 0,w=yG(t.Oi("start"));t.Ii("Subset");var _=t.Oi("xlink:href");return{tdt:e,kwt:i,Zdt:r,xdt:s,nm:u,pwt:o,Y_:a,twt:c,nwt:f,iwt:d,oC:w,mwt:t.Oi("xlink:actuate"),ywt:_}}function YG(t){var n=t.Oi("schemeIdUri");if(n)return{U1:n,Ti:t.Oi("value")}}function jG(t,n){var i=kG(t.Oi("availabilityEndTime")),e=kG(t.Oi("availabilityStartTime")),r=IG(t.Ii("BaseURL")),s=t.Oi("id"),u=t.Ii("Location").map(function(t){return""+t.Fi}),o=yG(t.Oi("maxSegmentDuration")),a=yG(t.Oi("maxSubsegmentDuration")),h=yG(t.Oi("mediaPresentationDuration"));t.Ii("Metrics");var c=yG(t.Oi("minBufferTime"));if(!c)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=yG(t.Oi("minimumUpdatePeriod")),l=t.Ii("Period").map(function(t){return qG(t)});if(!l.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.Oi("profiles");if(!d)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{bwt:i,Awt:e,Zdt:r,Y_:s,Twt:u,Swt:n,Ewt:o,Iwt:a,Qlt:h,Rwt:c,Dwt:f,Ylt:l,Gdt:d,Nwt:kG(t.Oi("publishTime")),Cwt:yG(t.Oi("suggestedPresentationDelay")),Odt:yG(t.Oi("timeShiftBufferDepth")),_s:function(t){switch(t){case FW.tI:case FW.nI:return t;default:return}}(t.Oi("type")),Pwt:function(t){for(var n=[],i=0;i<t.length;i++){var e=YG(t[i]);e&&n.push(e)}return n}(t.Ii("UTCTiming"))}}var QG,ZG=function(){function t(){}return t.prototype.Lft=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return jG(t,n)}(i.oi(t).Vi,n)},t}(),KG=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).j_=void 0,u.Vy=void 0,u.Bwt=void 0,u.Y_=n,u.vD=i,u.yz=e,u.D$=s,u.j_=ly(),u.Vy=r||"",u.Bwt=!0,u}return S(n,t),n.prototype.zE=function(){this.Bwt=!1,this.$s(new BO(this.o_))},A(n,[{key:"Z_",get:function(){return this.Vy},set:function(t){this.Vy!==t&&(this.Vy=t,this.$s(new BO(this.o_)))}},{key:"jJ",get:function(){}},{key:"KJ",get:function(){return this.Bwt}}]),n}(du),JG=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return void 0===h&&(h=0),(c=t.call(this,n,i,e,r,s)||this).u_=void 0,c.QJ=u,c.Xk=o,c.ST=a,c.ZJ=h,c}return S(n,t),A(n,[{key:"o_",get:function(){return this.u_||(this.u_=gO(this)),this.u_}}]),n}(KG),$G=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).u_=void 0,o.JJ=u,o}return S(n,t),A(n,[{key:"o_",get:function(){return this.u_||(this.u_=mO(this)),this.u_}}]),n}(KG);!function(t){t.Owt="xwt",t.Lwt="Mwt"}(QG||(QG={}));var tq=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Uwt=function(t){n.$s(t)},n}return S(n,t),A(n,[{key:"Xwt",get:function(){var t=this.Hwt();return null==t?void 0:t.oC}},{key:"Fwt",get:function(){var t=this.Hwt();return null==t?void 0:t.hC}}]),n}(du);function nq(t){return Z(t.zwt)}var iq=function(t){function n(n,i){var e;if((e=t.call(this)||this).Vwt=void 0,e.u_=void 0,e.N6=void 0,e.Wwt=void 0,e.Gwt=void 0,e.Vwt=n,e.N6=i,e.N6.tu(QG.Owt,e.Uwt),e._s===ry.Pd){var r,s,u=null!=(r=null==(s=e.QJ)?void 0:s.Fk())?r:NaN;e.Wwt=new JG(e.Y_,e.vD,e.dr,"","",u,e.Xk,e.ST)}else e._s===ry.Cd?e.Wwt=new $G(e.Y_,e.vD,e.dr,"","",e.JJ):e.Wwt=void 0;return e}S(n,t);var i=n.prototype;return i.fdt=function(t){var n=nq(t)?this.N6.qwt(t):this.N6.fdt(t);return{wd:n.wd,Ict:n.Ict,Ud:this.Ywt.Ud}},i.jwt=function(){return this.N6.jwt()},i.Hwt=function(){return this.N6.Hwt()},i.Qwt=function(){return this.N6.Qwt()},i.udt=function(t){return this.N6.udt(t)},i.odt=function(t,n,i){return this.N6.odt(t,this.Ywt.Ud,n,i)},i.Zwt=function(t){return nq(t)?this.edt.Kwt(t):this.edt.Zwt(t)},i.Jwt=function(t){return nq(t)?this.edt.$wt(t):this.edt.Jwt(t)},i.$c=function(){this.N6.au(QG.Owt,this.Uwt)},A(n,[{key:"t_t",get:function(){return this.Vwt}},{key:"JJ",get:function(){var t;return null!=(t=this.N6.zi.JJ)?t:this.t_t.JJ}},{key:"vD",get:function(){return this.N6.zi.vD||0}},{key:"yz",get:function(){var t=this.N6.zi;return t.yz?[t.yz]:this.t_t.yz}},{key:"n_t",get:function(){var t=this.N6.zi;return t.yz?[t.yz]:[]}},{key:"dr",get:function(){return this.N6.zi.yz||this.t_t.dr}},{key:"zdt",get:function(){return this.N6.zi.zdt||this.t_t.zdt}},{key:"G1",get:function(){return this.N6.zi.G1||this.t_t.G1}},{key:"Gl",get:function(){return this.DO+'; codecs="'+this.dr+'"'}},{key:"Vdt",get:function(){var t=this.N6.zi;return t.Vdt.length?t.Vdt:this.t_t.Vdt}},{key:"o_",get:function(){return this.u_||(this.u_=(t=this,{get id(){return t.Y_},get type(){return t._s},get bandwidth(){return t.vD},get width(){return t.Xk},get height(){return t.ST},get frameRate(){var n,i;return null!=(n=null==(i=t.QJ)?void 0:i.Fk())?n:NaN},get audioSamplingRate(){return t.JJ}}));var t}},{key:"QJ",get:function(){var t;return null!=(t=this.N6.zi.QJ)?t:this.t_t.QJ}},{key:"ST",get:function(){return this.N6.zi.ST||this.t_t.ST}},{key:"Y_",get:function(){return this.N6.zi.Y_||""}},{key:"i_t",get:function(){return this.Gwt},set:function(t){this.Gwt=t}},{key:"xct",get:function(){var t=this.N6.e_t();if(t)return{wd:t.wd,Ict:t.Ict,Ud:this.Ywt.Ud}}},{key:"ndt",get:function(){return this.N6.zi.ndt||this.t_t.ndt||1}},{key:"Wdt",get:function(){return this.N6.zi.Wdt||this.t_t.Wdt}},{key:"Ywt",get:function(){return this.vdt.Ywt}},{key:"DO",get:function(){return this.N6.zi.DO||this.t_t.DO}},{key:"vdt",get:function(){return this.t_t.vdt}},{key:"Gdt",get:function(){return this.N6.zi.Gdt||this.t_t.Gdt}},{key:"M$",get:function(){return this.Wwt}},{key:"qdt",get:function(){return this.N6.zi.qdt||this.t_t.qdt}},{key:"Ydt",get:function(){return this.N6.zi.Ydt||this.t_t.Ydt}},{key:"r_t",get:function(){return this.N6.r_t}},{key:"jdt",get:function(){return this.N6.zi.jdt||this.t_t.jdt}},{key:"edt",get:function(){return this.N6.edt}},{key:"Qdt",get:function(){return this.N6.zi.Qdt||this.t_t.Qdt}},{key:"_s",get:function(){var t=this.DO.split("/")[0];return"application"===t||"text"===t||Vp(this.DO,this.yz)?ry.ni:"video"===t?ry.Pd:"audio"===t?ry.Cd:"image"===t?ry.Bd:ry.md}},{key:"Xk",get:function(){return this.N6.zi.Xk||this.t_t.Xk}}]),n}(tq),eq=function(t){function n(n,i){var e;return(e=t.call(this)||this).s_t=[],e.N6=void 0,e.u_t=void 0,e.o_t=[],e.u_t=n,e.N6=i,e.N6.tu(QG.Owt,e.Uwt),e}S(n,t);var i=n.prototype;return i.tc=function(t,n){var i,e=this;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==this.o_t.length){r.next=6;break}return this.o_t=[],i=this.N6.q1.map(function(i){return e.a_t(i,t,n)}),r.next=5,Dr.awrap(We.all(i));case 5:this.o_t=r.sent.filter(H);case 6:this.h_t();case 7:case"end":return r.stop()}},null,this,null,We)},i.a_t=function(t,n,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=new iq(this,t),s.next=3,Dr.awrap(n(e));case 3:if(r=s.sent,tu(i),r){s.next=7;break}return s.abrupt("return",void 0);case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}},null,this,null,We)},i.h_t=function(){if(!this.o_t.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.Hwt=function(){return this.N6.Hwt()},i.Qwt=function(){return this.N6.Qwt()},i.$c=function(){this.N6.au(QG.Owt,this.Uwt);for(var t=0,n=this.o_t;t<n.length;t++){n[t].$c()}Fs(this.o_t)},A(n,[{key:"ewt",get:function(){return this.N6.zi.ewt}},{key:"JJ",get:function(){var t;return null!=(t=this.N6.zi.JJ)?t:-1}},{key:"yz",get:function(){if(this.N6.zi.yz)return[this.N6.zi.yz];for(var t=[],n=0,i=this.q1;n<i.length;n++){var e=i[n];e.n_t.length&&-1===t.indexOf(e.dr)&&t.push(e.dr)}return t}},{key:"dr",get:function(){return this.yz.join()}},{key:"zdt",get:function(){return this.N6.zi.zdt}},{key:"G1",get:function(){return this.N6.zi.G1}},{key:"Gl",get:function(){return this.DO+'; codecs="'+this.dr+'"'}},{key:"Vdt",get:function(){return this.s_t}},{key:"QJ",get:function(){return this.N6.zi.QJ}},{key:"rwt",get:function(){return this.N6.zi.rwt}},{key:"ST",get:function(){return this.N6.zi.ST||0}},{key:"Y_",get:function(){return this.N6.zi.Y_}},{key:"Z_",get:function(){return this.N6.zi.Z_||""}},{key:"ndt",get:function(){return this.N6.zi.ndt}},{key:"Wdt",get:function(){return this.N6.zi.Wdt}},{key:"Ywt",get:function(){return this.vdt.Ywt}},{key:"DO",get:function(){return this.N6.zi.DO||this.o_t[0].DO}},{key:"vdt",get:function(){return this.u_t}},{key:"Gdt",get:function(){return this.N6.zi.Gdt}},{key:"q1",get:function(){return this.o_t}},{key:"dwt",get:function(){return this.N6.zi.dwt||[]}},{key:"qdt",get:function(){return this.N6.zi.qdt}},{key:"Ydt",get:function(){return this.N6.zi.Ydt}},{key:"jdt",get:function(){return this.N6.zi.jdt}},{key:"NN",get:function(){return this.N6.zi.NN}},{key:"Qdt",get:function(){return this.N6.zi.Qdt}},{key:"_s",get:function(){var t=(this.N6.zi.Gl||this.DO).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||Vp(this.DO,this.yz)?ry.ni:"video"===t?ry.Pd:"audio"===t?ry.Cd:"image"===t?ry.Bd:ry.md}},{key:"Xk",get:function(){return this.N6.zi.Xk||0}},{key:"Krt",get:function(){return this.N6.zi.K_||""}},{key:"c_t",get:function(){return this.Xwt}},{key:"f_t",get:function(){var t=this.c_t,n=this.Fwt;if(void 0!==t&&void 0!==n){var i=w.min(n,this.Ywt.v_t);return w.max(t,i)}}}]),n}(tq);function rq(t,n){for(var e=[],r=0;r<n.length;r++)for(var s=n[r],u=0;u<t.length;u++){var o=t[u];e.push(i.Mr(o,s))}return e}var sq=function(){function t(t,n){this.u_t=void 0,this.l_t=void 0,this._a=void 0,this.d_t=void 0,this.w_t=void 0,this.u_t=t,this.l_t=n,this._a=n.Op,this.d_t=n.pdt,this.w_t=n.Pdt}var n=t.prototype;return n.__t=function(t){var n=t-this.u_t.oC;if(!(n<0||n>=this.u_t.nm)){var i=this.g_t();return void 0!==i&&Ut(i,n,1e-5)?this.sdt():this.m_t(n)}},n.y_t=function(t){var n=t-this.u_t.oC;if(!(n<0))return this.k_t(w.min(n,this.u_t.nm))},n.sdt=function(){return this.p_t(0)},n.cdt=function(){var t=this.u_t.nm;if(isFinite(t))return this.k_t(t)},n.jwt=function(t){if(this.u_t.b_t._s===FW.nI){var n=this.A_t(t);if(!n)return;return{T_t:t,S_t:this.E_t(t),I_t:n}}var i=this.sdt();if(i)return{T_t:t,S_t:i,I_t:this.cdt()}},n.Qwt=function(t,n){if(n){var i=this.R_t(n.S_t),e=this.hdt(n.I_t);if(e){var r=this.D_t(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.sdt();if(s){var u=this.D_t(s);if(t.getTime()<u.getTime())return u}var o=this.u_t.b_t.Awt;return t.getTime()<o.getTime()?o:void 0},n.A_t=function(t){var n=(t.getTime()-this.u_t.b_t.Awt.getTime())/1e3-this.u_t.oC+this.d_t,i=this.k_t(Mt(n,0,this.u_t.nm));if(i&&(i=this.N_t(i,t))){for(var e=this.hdt(i);e&&this.C_t(e,t);)i=e,e=this.hdt(i);return i}},n.E_t=function(t){var n,i=this.l_t.Odt;if(i){var e=(t.getTime()-this.u_t.b_t.Awt.getTime())/1e3-this.u_t.oC-i.jlt();(n=this.k_t(Mt(e,0,this.u_t.nm)))||(n=this.sdt())}else n=this.sdt();if(n&&(n=this.N_t(n,t))){for(var r=this.P_t(n);r&&this.C_t(r,t);)n=r,r=this.P_t(n);return n}},n.N_t=function(t,n){for(var i=t;i&&this.D_t(i).getTime()>n.getTime();)i=this.P_t(i);if(i){var e=this.R_t(i);if(e&&e.getTime()<=n.getTime()){var r=this.P_t(i);for(r&&this.C_t(r,n)&&(i=r);i;){if(this.D_t(i).getTime()>n.getTime())return;if(this.C_t(i,n))break;i=this.hdt(i)}if(!i)return}return i}},n.C_t=function(t,n){if(this.D_t(t).getTime()>n.getTime())return!1;var i=this.R_t(t);return!(i&&n.getTime()>=i.getTime())},n.B_t=function(t,n){if(this.O_t(t).getTime()>n.getTime())return!1;var i=this.R_t(t);return!(i&&n.getTime()>=i.getTime())},n.x_t=function(t,n,i){var e=jt(n,this._a)+this.u_t.oC;return{Tdt:t,L_t:n,ck:e,nm:i,fk:e+i}},n.O_t=function(t){return this.u_t.b_t._s===FW.nI?new Date(this.u_t.b_t.Awt.getTime()+1e3*(t.ck+t.nm)):this.u_t.b_t.Awt},n.D_t=function(t){var n=this.O_t(t);return this.u_t.b_t._s===FW.nI?new Date(n.getTime()-1e3*this.d_t):n},n.R_t=function(t){var n=1/0;if(this.u_t.b_t._s===FW.nI){var i=this.l_t.Odt;i&&(n=this.O_t(t).getTime()+1e3*t.nm+i.wdt())}var e=this.u_t.b_t.bwt;return e&&(n=w.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.M_t=function(t,n){return t.Tdt+n},n.udt=function(t){return!1},n.odt=function(t,n,i,e,r){var s=this.U_t(t);if(!s)return We.reject(new v("Invalid segment"));var u=this.X_t(s.Tdt);return u?We.resolve(u):this.H_t(s.Tdt,n,i,e,r)},n.X_t=function(t){},n.H_t=function(t,n,i,e,r){return We.reject(new v("Not supported"))},n.P_t=function(t){var n=this.U_t(t);if(n)return this.p_t(n.Tdt-1)},n.hdt=function(t){var n=this.U_t(t);if(n)return this.p_t(n.Tdt+1)},n.U_t=function(t){var n=this.p_t(t.Tdt);if(n&&n.ck===t.ck)return n;var i=this.__t(t.ck);return i&&i.ck===t.ck?i:void 0},n.F_t=function(t){var n=this.z_t(t);if(n&&this.udt(n.Tdt)){var i=this.X_t(n.Tdt);if(i)return i.F_t(t)}},n.z_t=function(t){return this.p_t(t.V_t)},n.Zwt=function(t){var n=this.U_t(t);return!!n&&0===n.Tdt},n.Kwt=function(t){var n=this.F_t(t);return!!n&&0===n.zwt},n.Jwt=function(t){var n=this.U_t(t);if(!n)return!1;var i=this.cdt();return!!i&&n.Tdt===i.Tdt},n.$wt=function(t){var n=this.F_t(t);if(!n)return!1;var i=this.cdt();if(!i||n.V_t!==i.Tdt)return!1;var e=this.X_t(n.V_t);return n.zwt+1===e.M_},A(t,[{key:"gb",get:function(){return this.u_t.oC-jt(this.w_t,this._a)}},{key:"Pdt",get:function(){return jt(this.w_t,this._a)}}]),t}(),uq=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).W_t=void 0,e.G_t=void 0;var r=n.q_t,s=n.nm;if(void 0===r||void 0===s)throw new v("MultipleSegmentBase does not have a segment duration specified.");return e.G_t=r,e.W_t=s,e}S(n,t);var i=n.prototype;return i.p_t=function(t){if(!(t<0)){var n=this.G_t.multiply(t),i=jt(n,this._a),e=this.u_t.nm;if(!(i>=e)){var r=this.Y_t();if(void 0!==r){if(t>r)return;if(t===r)return this.x_t(t,n,e-i)}return isFinite(e)&&i+this.W_t>e?this.x_t(t,n,e-i):this.x_t(t,n,this.W_t)}}},i.g_t=function(){return 0},i.m_t=function(t){var n=w.floor(t/this.W_t),i=this.Y_t();return void 0!==i&&n>=i?this.p_t(i):this.p_t(n)},i.k_t=function(t){if(t>=this.u_t.nm){var n=w.ceil(this.u_t.nm/this.W_t)-1,i=this.Y_t();return void 0!==i&&n>=i?this.p_t(i):this.p_t(n)}return this.m_t(t)},i.Y_t=function(){var t,n=this.l_t.Mdt;if(void 0!==n)return n-(null!=(t=this.l_t.Ldt)?t:1);if(isFinite(this.u_t.nm)){var i=this.l_t.j_t;if(void 0!==i&&i>0)return i-1}},i.Q_t=function(){if(isFinite(this.u_t.nm))return this.cdt()},i.Z_t=function(t,n){return this.G_t.multiply(t.Tdt+(n-1))},i.tc=function(){},n}(sq);function oq(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].ck,u=t[r].fk;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+w.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),a=t[o],h=a.ck,c=o+1<i?t[o+1].ck:a.fk;if(c.lessThanOrEqual(n))e=o+1,s=c;else{if(!n.lessThan(h))return o;r=o-1,u=h}}return-1}var aq=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).f4=[],e.K_t=void 0,e.Grt=ft.ZERO,e.tc(),e}S(n,t);var i=n.prototype;return i.p_t=function(t){if(!(t<0))return t<this.f4.length?this.f4[t].h9:this.J_t(t-this.f4.length)},i.g_t=function(){if(this.f4.length>0)return jt(this.f4[0].ck,this._a)},i.m_t=function(t){if(this.K_t&&jt(this.K_t.ck,this._a)<=t){var n=jt(this.K_t.ck,this._a),i=jt(this.K_t.nm,this._a),e=w.floor((t-n)/i);return this.J_t(e)}if(this.f4.length>0&&Ut(t,jt(this.f4[0].ck,this._a),1e-5))return this.f4[0].h9;var r=oq(this.f4,ft.fromNumber(t*this._a));return r<0?void 0:this.f4[r].h9},i.k_t=function(t){if(!this.K_t&&this.f4.length>0){var n=this.f4[this.f4.length-1];if(i=t,e=jt(n.fk,this._a),Bs(i,e,1e-5)>=0)return n.h9}var i,e,r=this.g_t();return r&&t<r?this.f4[0].h9:this.m_t(t)},i.Q_t=function(){return isFinite(this.u_t.nm)?this.cdt():this.p_t(this.f4.length-1)},i.Z_t=function(t){return this.$_t(t)},i.J_t=function(t){if(this.K_t){var n=this.K_t.ck,i=this.K_t.nm,e=n.add(i.multiply(t)),r=jt(e,this._a),s=this.u_t.nm;if(!(r>=s)){var u=this.f4.length+t,o=w.min(jt(i,this._a),r+s);return this.x_t(u,e,o)}}},i.$_t=function(t){return t.L_t.add(this.w_t)},i.tc=function(){var t=this.l_t.zi.edt;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.R4(t)},i.R4=function(t){var n=this.w_t;this.tgt(t,n);var i=this.ngt(t);this.igt(t,n,i.egt,i.V_t)},i.tgt=function(t,n){var i=this.f4;if(0===t.length)Fs(i);else{for(var e=t[0],r=e.ck?ft.fromString(e.ck,!1).subtract(n):ft.ZERO,s=0;s<i.length&&i[s].ck.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.ngt=function(t){for(var n=this.f4,i=this.Grt,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].Adt||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].ck.greaterThanOrEqual(i))break;if(n[r].h9.Tdt===r)r=u+1;else for(;r<=u;)n[r].h9.Tdt=r,r++;0,e++}return{egt:e,V_t:r}},i.igt=function(t,n,i,e){for(var r,s=this.f4,u=i,o=e;u<t.length;){var a=t[u],h=ft.fromString(a.nm,!1),c=a.Adt||0,f=void 0;if(a.ck){if(f=ft.fromString(a.ck,!1).subtract(n),o>0){var v=s[o-1];v.fk.greaterThan(f)&&(v.nm=f.subtract(v.ck),v.fk=v.ck.add(v.nm))}}else f=o>0?s[o-1].fk:ft.ZERO;if(c<0){if(u+1===t.length){r={ck:f,nm:h};break}for(var l=ft.fromString(t[u+1].ck,!1).subtract(n);f.lessThan(l);){var d=f.add(h);this.rgt(s,o,f,h,d),f=d,o++}}else for(var w=o+c;o<=w;){var _=f.add(h);this.rgt(s,o,f,h,_),f=_,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.Grt=s[s.length-1].ck),this.K_t=r},i.rgt=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.nm.equals(e)?s.h9.Tdt=n:t[n]={ck:i,nm:e,fk:r,h9:this.x_t(n,i,jt(e,this._a))}}else t.push({ck:i,nm:e,fk:r,h9:this.x_t(n,i,jt(e,this._a))})},n}(sq),hq=function(){function t(t,n,i){this.vdt=void 0,this.sgt=void 0,this.qi=void 0,this.ugt=void 0,this.ogt=void 0,this.vdt=t,this.sgt=n,this.qi=i}var n=t.prototype;return n.agt=function(){if(this.ogt=this.hgt(),this.ogt)return this.ogt;if(this.sgt)return this.sgt.edt;throw new v("Missing media segment information.")},n.e_t=function(t){var n=this.Cdt;if(n)return{wd:(void 0!==n.bdt?i.Mr(n.bdt,t.Zdt[0]):t.Zdt[0]).href,Ict:n.Ict};var e=this.Sdt;return e?{wd:t.Zdt[0].href,Ict:[0,e[0]-1]}:void 0},n.tc=function(t){this.qi=t,this.ogt&&this.ogt.tc()},A(t,[{key:"zi",get:function(){return this.qi}},{key:"pdt",get:function(){return this.qi&&void 0!==this.qi.pdt?this.qi.pdt:this.sgt?this.sgt.pdt:0}},{key:"Pdt",get:function(){return this.qi&&void 0!==this.qi.Pdt?this.qi.Pdt:this.sgt?this.sgt.Pdt:ft.ZERO}},{key:"Odt",get:function(){return this.qi&&void 0!==this.qi.Odt?this.qi.Odt:this.sgt?this.sgt.Odt:this.vdt.b_t.Odt}},{key:"Op",get:function(){return this.qi&&void 0!==this.qi.Op?this.qi.Op:this.sgt&&this.sgt.Op?this.sgt.Op:1}},{key:"Sdt",get:function(){return this.qi&&void 0!==this.qi.Sdt?this.qi.Sdt:this.sgt?this.sgt.Sdt:void 0}},{key:"Cdt",get:function(){return this.qi&&void 0!==this.qi.Cdt?this.qi.Cdt:this.sgt?this.sgt.Cdt:void 0}},{key:"edt",get:function(){return this.ugt||(this.ugt=this.agt()),this.ugt}}]),t}(),cq=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.hgt=function(){return this.qi.edt?new aq(this,this.vdt):void 0!==this.qi.nm?new uq(this,this.vdt):void 0},A(n,[{key:"nm",get:function(){return void 0!==this.qi.nm?this.qi.nm/this.Op:this.sgt&&this.sgt instanceof n?this.sgt.nm:void 0}},{key:"q_t",get:function(){return void 0!==this.qi.nm?ft.fromNumber(this.qi.nm):this.sgt&&this.sgt instanceof n?this.sgt.q_t:void 0}},{key:"Ldt",get:function(){return void 0!==this.qi.Ldt?this.qi.Ldt:this.sgt&&this.sgt instanceof n?this.sgt.Ldt:void 0}},{key:"Mdt",get:function(){return void 0!==this.qi.Mdt?this.qi.Mdt:this.sgt&&this.sgt instanceof n?this.sgt.Mdt:void 0}}]),n}(hq),fq=function(){function t(t){this.cgt=void 0,this.cgt=t}return t.prototype.Qu=function(t){return this.cgt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=gs(u,Number(e),"0")})},t}();var vq=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).fgt=void 0,r.vgt=void 0,r.fgt=e.Hdt?new fq(e.Hdt):void 0,r.vgt=e.Fdt?new fq(e.Fdt):void 0,r}S(n,t);var e=n.prototype;return e.e_t=function(n){var e=this.Hdt;if(!e)return t.prototype.e_t.call(this,n);var r=e.Qu({Bandwidth:n.zi.vD,RepresentationID:n.zi.Y_});return{wd:i.Ur(r,n.Zdt[0])}},e.fdt=function(t,n){var e,r=null!=(e=n.r_t.Ldt)?e:1,s=this.Fdt.Qu({Bandwidth:n.zi.vD,Number:n.edt.M_t(t,r),RepresentationID:n.zi.Y_,Time:n.edt.Z_t(t,r)});return{wd:i.Ur(s,n.Zdt[0])}},e.qwt=function(t,n){},A(n,[{key:"Hdt",get:function(){return this.fgt?this.fgt:this.sgt&&this.sgt instanceof n?this.sgt.Hdt:void 0}},{key:"Fdt",get:function(){return this.vgt?this.vgt:this.sgt&&this.sgt instanceof n?this.sgt.Fdt:void 0}},{key:"j_t",get:function(){}}]),n}(cq),lq=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var e=n.prototype;return e.fdt=function(t,n){var e=this.qi.Idt[t.Tdt],r=n.Zdt[0];return{wd:(e.mT?i.Mr(e.mT,r):r).href,Ict:e.Edt}},e.qwt=function(t,n){},A(n,[{key:"j_t",get:function(){return void 0!==this.qi.Idt?this.qi.Idt.length:this.sgt&&this.sgt instanceof cq?this.sgt.j_t:void 0}}]),n}(cq),dq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).V_t=void 0,u.p8=void 0,u.Op=void 0,u.lgt=void 0,u.Pdt=void 0,u.dgt=void 0,u.V_t=n,u.p8=i,u.Op=e.Op,u.lgt=r,u.Pdt=s,u.dgt=u.wgt(e),u}S(n,t);var i=n.prototype;return i.adt=function(t){if(t>=0&&t<this.M_)return this._gt(this.dgt[t])},i.ggt=function(t){var n=this.mgt(t);if(this.dgt.length>0){var i=this.dgt[0];if(n<=jt(i.ck,this.Op))return this._gt(i)}var e=oq(this.dgt,ft.fromNumber(n*this.Op));if(!(e<0))return this._gt(this.dgt[e])},i.ygt=function(t){var n=this.mgt(t);if(this.dgt.length>0){var i=this.dgt[this.dgt.length-1];if(n>=jt(i.fk,this.Op))return this._gt(i)}return this.ggt(t)},i._gt=function(t){var n=jt(t.ck,this.Op)-this.Pdt,i=n+this.lgt,e=jt(t.nm,this.Op);return{V_t:this.V_t,zwt:t.Tdt,ck:i,L_t:ft.fromNumber(n*this.Op),nm:e,fk:i+e,E1:[this.p8+t.p8,this.p8+t.b8]}},i.wgt=function(t){for(var n=[],i=t.kE,e=t.pE.toNumber(),r=0,s=0,u=t.AE;s<u.length;s++){var o=u[s],a=o.wE,h=ft.fromNumber(o.nm),c=i.add(h);0===o.dE&&n.push({Tdt:r++,ck:i,nm:h,fk:c,p8:e,b8:e+a-1}),e+=a,i=c}return n},i.mgt=function(t){return t-this.lgt+this.Pdt},A(n,[{key:"M_",get:function(){return this.dgt.length}}]),n}(function(){function t(){}return t.prototype.F_t=function(t){var n=this.adt(t.zwt);if(n&&n.ck===t.ck)return n;var i=this.ggt(t.ck);return i&&i.ck===t.ck?i:void 0},t}()),wq=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).kgt=void 0,e.pgt=void 0,e.bgt=void 0,e.kgt=n.Sdt,e.pgt=e.x_t(0,ft.ZERO,e.u_t.nm),e}S(n,t);var i=n.prototype;return i.p_t=function(t){if(0===t)return this.pgt},i.g_t=function(){return 0},i.m_t=function(t){return this.pgt},i.k_t=function(t){return this.m_t(t)},i.Q_t=function(){return this.pgt},i.Z_t=function(t,n){return ft.ZERO},i.jwt=function(t){var n=this.Agt(t);return n&&{T_t:t,S_t:n,I_t:n}},i.Agt=function(t){var n=this.pgt;return this.C_t(n,t)?n:void 0},i.A_t=function(t){return this.Agt(t)},i.E_t=function(t){return this.Agt(t)},i.tc=function(){},i.udt=function(t){return 0===t&&void 0!==this.kgt},i.X_t=function(t){return this.bgt},i.H_t=function(t,n,i,e,r){var s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=n.Zdt[0].href,u=this.kgt,a.next=4,Dr.awrap(e.Tgt(s,u,i,r));case 4:return o=a.sent,this.bgt=this.Sgt(t,o),a.abrupt("return",this.bgt);case 7:case"end":return a.stop()}},null,this,null,We)},i.Sgt=function(t,n){var i=this.kgt,e=ip.UA(new DataView(n),new zo);if(e._s!==fk.cA)throw new v("Invalid segment index");var r=op.rT(e.zi),s=i[1]+1;return new dq(t,s,r,this.u_t.oC,jt(this.w_t,this._a))},n}(sq),_q=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.fdt=function(t,n){return{wd:n.Zdt[0].href}},i.qwt=function(t,n){return{wd:n.Zdt[0].href,Ict:t.E1}},i.hgt=function(){return new wq(this,this.vdt)},A(n,[{key:"Ldt",get:function(){}}]),n}(hq),gq=function(t){function n(){return t.call(this,QG.Owt)||this}return S(n,t),n}(_u);var mq=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Xw=void 0,r.qi=void 0,r.Egt=void 0,r.l_t=void 0,r.Igt=1/0,r.Rgt=void 0,r.Xw=i,r.Dgt(n,e),r}S(n,t);var i=n.prototype;return i.Ngt=function(){return this.l_t||this.Xw&&this.Xw.Ngt()},i.Cgt=function(t){var n=this.vdt,i=this.Xw&&this.Xw.Ngt();this.qi.iwt?this.l_t=new vq(n,i,this.qi.iwt):this.qi.nwt?this.l_t=new lq(n,i,this.qi.nwt[0]):this.qi.twt?this.l_t=new _q(n,i,this.qi.twt):t&&!i&&(this.l_t=new _q(n,i,void 0))},i.Dgt=function(t,n){this.qi=t,this.Egt=t.Zdt&&t.Zdt.length>0?rq(t.Zdt.map(function(t){return t.wd}),n):n.slice(),this.l_t&&(t.iwt?this.l_t.tc(t.iwt):t.nwt?this.l_t.tc(t.nwt[0]):t.twt&&this.l_t.tc(t.twt))},i.Hwt=function(){var t;return null==(t=this.Rgt)?void 0:t.Pgt},i.Qwt=function(){var t;return null==(t=this.Rgt)?void 0:t.Bgt},i.Ogt=function(t){var n=this.Igt,i=this.vdt.nm,e=this.Rgt,r=this.xgt(t);e&&Ut(i,n,1e-5)&&bq(e,r)||(this.Igt=i,this.Rgt=r,this.$s(new gq))},i.Xs=function(){this.ou()},A(n,[{key:"zi",get:function(){return this.qi}},{key:"Zdt",get:function(){return this.Egt}}]),n}(du);function yq(t){for(var n,i=0;i<t.length;i++){var e=t[i].Hwt();if(e){n=e.oC;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].Hwt();if(u){r=u.hC;break}}if(void 0!==r)return{oC:n,hC:r}}}function kq(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].Hwt();if(!r)return;if((n=w.max(n,r.oC))>=(i=w.min(i,r.hC)))return}return{oC:n,hC:i}}}function pq(t){for(var n,i=0;i<t.length;i++){var e=t[i].Qwt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function bq(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.Bgt,n.Bgt)&&function(t,n){return t&&n?Ut(t.oC,n.oC,1e-5)&&Ut(t.hC,n.hC,1e-5):t===n}(t.Pgt,n.Pgt)}var Aq=function(t){function n(n,i,e){var r;(r=t.call(this)||this).u_t=void 0,r.Uh=void 0,r.Lgt=void 0,r.u_t=n,r.Uh=i,r.Lgt=e.slice();for(var s=0;s<e.length;s++){e[s].tu(QG.Owt,r.Uwt)}return r}S(n,t);var i=n.prototype;return i.Hwt=function(){return kq(this.Lgt)},i.Qwt=function(){for(var t,n=0,i=this.Lgt;n<i.length;n++){var e=i[n].Qwt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.$c=function(){this.ou();for(var t=0,n=this.Lgt;t<n.length;t++){n[t].au(QG.Owt,this.Uwt)}},A(n,[{key:"tdt",get:function(){return this.Lgt}},{key:"yz",get:function(){return this.tdt.reduce(function(t,n){for(var i=0,e=n.yz;i<e.length;i++){var r=e[i];Hs(t,r)||t.push(r)}return t},[])}},{key:"dr",get:function(){return this.yz.length>0?this.yz[0]:""}},{key:"_s",get:function(){return this.Lgt[0]._s}},{key:"Y_",get:function(){return this.Uh}},{key:"Ywt",get:function(){return this.u_t.Ywt}},{key:"DO",get:function(){return this.Lgt[0].DO}},{key:"vdt",get:function(){return this.u_t}},{key:"q1",get:function(){return Vs(this.tdt,function(t){return t.q1})}}]),n}(tq),Tq=function(t){function n(){return t.call(this,QG.Lwt)||this}return S(n,t),n}(_u);function Sq(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.rwt;void 0===s||(r=xs(n,function(t){return t.Y_===s})),r||(r={Y_:s,tdt:[]},n.push(r)),r.tdt.push(e)},e=0;e<t.length;e++)i(e);return n}var Eq,Iq=function(t){function n(n,i){var e;return(e=t.call(this)||this).N6=void 0,e.Lgt=[],e.Mgt=[],e.Ugt=void 0,e.Xgt=!1,e.Ugt=n,e.N6=i,e.N6.tu(QG.Owt,e.Uwt),e}S(n,t);var i=n.prototype;return i.Hgt=function(t,n){if(0!==this.Mgt.length){for(var i=t,e=0,r=this.Mgt;e<r.length;e++){var s=r[e],u=s._s;if(u===ry.Cd||u===ry.Pd){var o=s.Fwt;if(void 0===o)return;i=n(i,o)}}return i}},i.Fgt=function(){this.Xgt||(this.Xgt=!0,this.$s(new Tq),this.$c())},i.tc=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==this.Lgt.length){i.next=7;break}return i.next=3,Dr.awrap(this.zgt(this.N6.tdt,t,n));case 3:this.Vgt(this.Lgt),tu(n),i.next=9;break;case 7:return i.next=9,Dr.awrap(this.Wgt(t,n));case 9:case"end":return i.stop()}},null,this,null,We)},i.zgt=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0;case 1:if(!(e<t.length)){u.next=17;break}return r=t[e],s=new eq(this,r),u.prev=4,u.next=7,Dr.awrap(s.tc(n,i));case 7:this.Lgt.push(s),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(4),nu(u.t0);case 14:e++,u.next=1;break;case 17:case"end":return u.stop()}},null,this,[[4,10]],We)},i.Vgt=function(t){for(var n=Sq(t),i=0;i<n.length;i++){var e=n[i],r=new Aq(this,e.Y_,e.tdt);this.Mgt.push(r)}},i.Wgt=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Lgt;case 1:if(!(i<e.length)){s.next=8;break}return r=e[i],s.next=5,Dr.awrap(r.tc(t,n));case 5:i++,s.next=1;break;case 8:case"end":return s.stop()}},null,this,null,We)},i.Hwt=function(){return this.N6.Hwt()},i.Qwt=function(){return this.N6.Qwt()},i.$c=function(){this.ou(),this.N6.au(QG.Owt,this.Uwt);for(var t=0,n=this.Mgt;t<n.length;t++){n[t].$c()}for(var i=0,e=this.Lgt;i<e.length;i++){e[i].$c()}Fs(this.Lgt),Fs(this.Mgt)},A(n,[{key:"tdt",get:function(){return this.Lgt}},{key:"Jlt",get:function(){return this.Mgt}},{key:"kwt",get:function(){return this.N6.zi.kwt}},{key:"nm",get:function(){return this.N6.nm}},{key:"hC",get:function(){return this.oC+this.nm}},{key:"pwt",get:function(){return this.N6.zi.pwt||[]}},{key:"Y_",get:function(){return this.N6.Y_}},{key:"Mwt",get:function(){return this.Xgt}},{key:"Ywt",get:function(){return this.Ugt}},{key:"Ggt",get:function(){return this.Ugt.qgt(this)}},{key:"vdt",get:function(){return this}},{key:"Ygt",get:function(){return this.Ugt.jgt(this)}},{key:"Qgt",get:function(){return this.Hgt(1/0,w.min)}},{key:"Zgt",get:function(){return this.Hgt(0,w.max)}},{key:"oC",get:function(){return this.N6.oC}},{key:"Ud",get:function(){return this.Ywt.Ud}}]),n}(tq);!function(t){t.Kgt="Jgt"}(Eq||(Eq={}));var Rq=function(t){function n(){return t.call(this,Eq.Kgt)||this}return S(n,t),n}(_u),Dq=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Zdt)||this).Vwt=void 0,e.$gt=void 0,e.Vwt=i,e.Cgt(!0),e}S(n,t);var i=n.prototype;return i.udt=function(t){return!!Nc(this.DO)&&this.edt.udt(t.Tdt)},i.odt=function(t,n,i,e){return this.edt.odt(t,this,n,i,e)},i.e_t=function(){return this.r_t.e_t(this)},i.fdt=function(t){return this.r_t.fdt(t,this)},i.qwt=function(t){return this.r_t.qwt(t,this)},i.jwt=function(){return this.$gt},i.xgt=function(t){var n=this.edt,i=n.jwt(t),e=i&&function(t,n){var i,e=t.S_t,r=t.I_t,s=t.T_t,u=e.ck,o=n.O_t(r);if(o.getTime()<=s.getTime())i=r.fk;else{var a=(o.getTime()-s.getTime())/1e3,h=w.max(r.nm-a,0);i=r.ck+h}return{oC:u,hC:i}}(i,n),r=this.edt.Qwt(t,i);return this.$gt=i,{T_t:t,Pgt:e,Bgt:r}},i.tc=function(t){this.Dgt(t,this.Vwt.Zdt)},A(n,[{key:"t_t",get:function(){return this.Vwt}},{key:"vdt",get:function(){return this.Vwt.vdt}},{key:"b_t",get:function(){return this.Vwt.b_t}},{key:"DO",get:function(){return this.qi.DO||this.Vwt.DO}},{key:"r_t",get:function(){return this.Ngt()}},{key:"edt",get:function(){return this.r_t.edt}}]),n}(mq),Nq=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Zdt)||this).u_t=void 0,e.o_t=void 0,e.u_t=i,e.Cgt(!1),e.o_t=n.q1.map(function(t){return new Dq(t,Kt(e))}),e}S(n,t);var i=n.prototype;return i.tc=function(t){this.Dgt(t,this.u_t.Zdt);var n=t.q1||[];if(this.o_t.length!==n.length)throw new v("Expected "+this.o_t.length+' representations in adaptation set "'+t.Y_+'", found '+n.length);for(var i=0;i<n.length;i++)this.o_t[i].tc(n[i])},i.Ogt=function(n){for(var i=0,e=this.o_t;i<e.length;i++){e[i].Ogt(n)}t.prototype.Ogt.call(this,n)},i.xgt=function(t){return{T_t:t,Pgt:kq(this.o_t),Bgt:pq(this.o_t)}},i.Xs=function(){for(var n=0,i=this.o_t;n<i.length;n++){i[n].Xs()}t.prototype.Xs.call(this)},A(n,[{key:"q1",get:function(){return this.o_t}},{key:"vdt",get:function(){return this.u_t}},{key:"b_t",get:function(){return this.u_t.b_t}},{key:"rwt",get:function(){return this.qi.rwt}},{key:"DO",get:function(){var t;return this.qi.DO||(null==(t=this.o_t[0])?void 0:t.zi.DO)||""}}]),n}(mq),Cq=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.Zdt)||this).tmt=void 0,s.DE=void 0,s.ma=void 0,s.Lgt=void 0,s.Mgt=[],s.tmt=n,s.DE=e,s.ma=r,s.Cgt(!1),s.Lgt=(i.tdt||[]).map(function(t){return new Nq(t,Kt(s))}),s.Mgt=Sq(s.Lgt),s}S(n,t);var i=n.prototype;return i.tc=function(t,n){this.Dgt(t,this.tmt.Zdt),this.ma=n;var i=t.tdt||[];if(this.Lgt.length!==i.length)throw new v("Expected "+this.Lgt.length+' adaptation sets in period "'+t.Y_+'", found '+i.length);for(var e=0;e<i.length;e++)this.Lgt[e].tc(i[e])},i.Ogt=function(n){for(var i=0,e=this.Lgt;i<e.length;i++){e[i].Ogt(n)}t.prototype.Ogt.call(this,n)},i.xgt=function(t){return{T_t:t,Pgt:kq(this.Lgt),Bgt:pq(this.Lgt)}},i.Xs=function(){for(var n=0,i=this.Lgt;n<i.length;n++){i[n].Xs()}t.prototype.Xs.call(this)},A(n,[{key:"tdt",get:function(){return this.Lgt}},{key:"Jlt",get:function(){return this.Mgt}},{key:"vdt",get:function(){return this}},{key:"b_t",get:function(){return this.tmt}},{key:"Y_",get:function(){return this.qi.Y_}},{key:"oC",get:function(){return this.DE}},{key:"nm",get:function(){return this.ma}}]),n}(mq),Pq=new Date("2000-01-01"),Bq=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this).qi=void 0,s.nmt=void 0,s.imt=void 0,s.Cq=void 0,s.emt=void 0,s.Rgt=void 0,s.Egt=void 0,s.rmt=void 0,s.smt=void 0,s.umt=void 0,s.omt=[],s.nmt=i,s.tc(n,e,r),n._s===FW.nI){var u=s.Q_t();u&&u.bwt&&u.bwt.getTime()<Pq.getTime()&&(s.umt=new Date(s.Nwt.getTime()-1e3*(u.h9.ck+u.h9.nm)),s.Ogt(r))}return s}S(n,t);var e=n.prototype;return e.Hwt=function(){var t;return null==(t=this.Rgt)?void 0:t.Pgt},e.Qwt=function(){var t;return null==(t=this.Rgt)?void 0:t.Bgt},e.tc=function(t,n,e,r){var s,u=void 0!==this.qi&&this.qi._s===FW.nI;this.qi=t,this.imt=n,this.emt=null!=r?r:e,this.Cq=e;var o,a=[(o=n,i.Mr(".",o))];this.Egt=t.Zdt&&t.Zdt.length>0?rq(t.Zdt.map(function(t){return t.wd}),a):a,this.rmt=t.Twt&&t.Twt.length>0?rq(t.Twt,this.Egt):[];var h=this.rmt.map(function(t){return t.href}),c=n.href;Hs(h,c)||(this.rmt.push(n),h.push(c));var f=this.nmt.href;Hs(h,f)||(this.rmt.push(this.nmt),h.push(f)),this.smt=null==(s=t.Qlt)?void 0:s.jlt();var v=t._s===FW.nI,l=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.oC)u=s.oC.jlt();else if(r>0&&t[r-1].nm){var o=e[r-1],a=t[r-1].nm.jlt();u=o+a}else{if(0!==r||n)break;u=0}e.push(u)}for(var h=[],c=0;c<e.length-1;c++)h.push({zi:t[c],oC:e[c],nm:e[c+1]-e[c]});if(e.length>0){var f=e.length-1,v=t[f],l=e[f],d=1/0;n||(d=v.nm?v.nm.jlt():i-l),h.push({zi:v,oC:l,nm:d})}return h}(t.Ylt,v,this.smt);this.amt(l,u,v),this.Ogt(e)},e.amt=function(t,n,i){var e=this.omt;if(0!==t.length){for(var r=t[0].zi.Y_,s=0;s<e.length&&e[s].Y_!==r;)s++;for(var u=e.splice(0,s),o=0;o<u.length;o++){u[o].Xs()}if(n&&!i&&e.length>0&&t.length>0){var a,h,c=null!=(a=Oq(e[0].zi))?a:rk.ap,f=null!=(h=Oq(t[0].zi))?h:rk.ap;if(f.zk(c)){var v=f.Jk(c);void 0!==this.smt&&(this.smt+=v.Fk());for(var l=0;l<t.length;l++){var d=t[l];if(l<e.length){var w=e[l];d.oC=w.oC,Xq(d.zi,w.zi)}l===t.length-1&&(d.nm+=v.Fk())}}}for(var _=0;_<t.length;_++){var g=t[_];if(_<e.length){var m=e[_];0,m.tc(g.zi,g.nm)}else e.push(new Cq(this,g.zi,g.oC,g.nm))}}else Fs(e)},e.Ogt=function(t){for(var n=0,i=this.omt;n<i.length;n++){i[n].Ogt(t)}var e=this.Rgt,r=this.xgt(t);e&&bq(e,r)||(this.Rgt=r,this.$s(new gq))},e.xgt=function(t){return{T_t:t,Pgt:yq(this.omt),Bgt:pq(this.omt)}},e.Q_t=function(){if(0!==this.omt.length){var t=this.omt[this.omt.length-1];if(!isFinite(t.nm)&&0!==t.tdt.length){var n=t.tdt[0];if(0!==n.q1.length){var i=n.q1[0].edt,e=i.Q_t();if(e)return{h9:e,bwt:i.R_t(e)}}}}},e.Xs=function(){this.ou();for(var t=0,n=this.omt;t<n.length;t++){n[t].Xs()}},A(n,[{key:"zi",get:function(){return this.qi}},{key:"_s",get:function(){return this.qi._s||FW.tI}},{key:"Awt",get:function(){return this.umt||this.qi.Awt||this.Nwt}},{key:"bwt",get:function(){return this.qi.bwt}},{key:"Qlt",get:function(){return this.smt}},{key:"Zdt",get:function(){return this.Egt}},{key:"Twt",get:function(){return this.rmt}},{key:"Ylt",get:function(){return this.omt}},{key:"Nwt",get:function(){return this.qi.Nwt||this.Cq}},{key:"Odt",get:function(){return this.qi.Odt}},{key:"hmt",get:function(){return this.emt}},{key:"cmt",get:function(){return this.Cq}}]),n}(du);function Oq(t){for(var n=Mq(t),i=0,e=null!=(r=t.tdt)?r:[];i<e.length;i++){var r;n=uk(n,xq(e[i]))}for(var s=0,u=null!=(o=t.pwt)?o:[];s<u.length;s++){var o;n=uk(n,Uq(u[s]))}return n}function xq(t){for(var n=Mq(t),i=0,e=t.q1;i<e.length;i++){n=uk(n,Lq(e[i]))}return n}function Lq(t){return Mq(t)}function Mq(t){var n;if(void 0!==t.iwt&&(n=uk(n,Uq(t.iwt))),void 0!==t.twt&&(n=uk(n,Uq(t.twt))),void 0!==t.nwt)for(var i=0,e=t.nwt;i<e.length;i++){n=uk(n,Uq(e[i]))}return n}function Uq(t){var n,i;return rk.rp(null!=(n=t.Pdt)?n:ft.ZERO,null!=(i=t.Op)?i:1)}function Xq(t,n){if(Fq(t,n),t.oC=n.oC,void 0!==t.tdt&&void 0!==n.tdt&&t.tdt.length===n.tdt.length)for(var i=0;i<t.tdt.length;i++)Hq(t.tdt[i],n.tdt[i]);if(void 0!==t.pwt&&void 0!==n.pwt&&t.pwt.length===n.pwt.length)for(var e=0;e<t.pwt.length;e++)zq(t.pwt[e],n.pwt[e])}function Hq(t,n){if(Fq(t,n),void 0!==t.q1&&void 0!==n.q1&&t.q1.length===n.q1.length)for(var i=0;i<t.q1.length;i++)e=t.q1[i],r=n.q1[i],Fq(e,r);var e,r}function Fq(t,n){if(void 0!==t.iwt&&void 0!==n.iwt&&zq(t.iwt,n.iwt),void 0!==t.twt&&void 0!==n.twt&&zq(t.twt,n.twt),void 0!==t.nwt&&void 0!==n.nwt&&t.nwt.length===n.nwt.length)for(var i=0;i<t.nwt.length;i++)zq(t.nwt[i],n.nwt[i])}function zq(t,n){t.Op=n.Op,t.Pdt=n.Pdt}var Vq=function(){function t(t,n,i){this.fmt=0,this.qE=t,this.vmt=n,this.lmt=i}var n=t.prototype;return n.JL=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.dmt(t,this.qE,this.vmt,this.lmt).catch(iu));case 2:case"end":return n.stop()}},null,this,null,We)},n.wmt=function(){return new Date(Vt()+this.fmt)},n.dmt=function(t,n,i,e){var r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=4;break}return o.next=3,Dr.awrap(this._mt(n,e,i));case 3:r=o.sent;case 4:if(void 0!==r){o.next=17;break}tu(i),s=0;case 7:if(!(s<t.length)){o.next=17;break}return u=t[s],o.next=11,Dr.awrap(this.gmt(n,u,i));case 11:if(void 0===(r=o.sent)){o.next=14;break}return o.abrupt("break",17);case 14:s++,o.next=7;break;case 17:this.fmt=void 0===r?0:r-Vt();case 18:case"end":return o.stop()}},null,this,null,We)},n.gmt=function(t,n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=n.U1,o.t0=e,o.next="urn:mpeg:dash:utc:http-xsdate:2012"===o.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===o.t0?4:"urn:mpeg:dash:utc:direct:2012"===o.t0?10:"urn:mpeg:dash:utc:direct:2014"===o.t0?10:16;break;case 4:if(!(r=n.Ti)){o.next=9;break}return o.next=8,Dr.awrap(this._mt(t,r,i));case 8:return o.abrupt("return",o.sent);case 9:return o.abrupt("break",17);case 10:if(!(s=n.Ti)){o.next=15;break}if(u=new Date(s).getTime(),m(u)){o.next=15;break}return o.abrupt("return",u);case 15:return o.abrupt("break",17);case 16:return o.abrupt("return");case 17:case"end":return o.stop()}},null,this,null,We)},n._mt=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Dr.awrap(t.ld({wd:n,Od:nw.GET,hd:Sf.ni,js:i}));case 3:return e=u.sent,u.next=6,Dr.awrap(e.Fl());case 6:if(r=u.sent,s=new Date(r).getTime(),m(s)){u.next=10;break}return u.abrupt("return",s);case 10:u.next=16;break;case 12:u.prev=12,u.t0=u.catch(0),nu(u.t0);case 16:case"end":return u.stop()}},null,null,[[0,12]],We)},t}(),Wq=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).mmt=void 0,s.N6=void 0,s.ymt=void 0,s.Xst=!0,s.omt=[],s.kmt=void 0,s.pmt=void 0,s.bmt=void 0,s.qE=void 0,s.Amt=void 0,s.kmt=n,s.ymt=n.yg,s.pmt=i,s.qE=e,s.mmt=r,s.Amt=new Vq(s.qE,s.mmt,s.kmt.Tmt),s}S(n,t);var e=n.prototype;return e.Smt=function(t){var n=this.By;this.Xst=t,n!==this.By&&this.$s(new Rq)},e.tc=function(t,n,e){var r,s,u,o,a,h,c,f,v,l,d,w,_;return Dr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(s=[],u=[],o=t.Swt?i.Mr(t.Swt,this.ymt):this.ymt,void 0!==this.N6){g.next=10;break}return g.next=6,Dr.awrap(this.Amt.JL(t.Pwt));case 6:this.N6=new Bq(t,this.ymt,o,this.wmt()),this.N6.tu(QG.Owt,this.Js),g.next=11;break;case 10:this.N6.tc(t,o,this.wmt(),n);case 11:if(0===(a=this.N6.Ylt).length)h=this.omt.slice(),Fs(this.omt);else{for(c=a[0].Y_,f=0;f<this.omt.length&&this.omt[f].Y_!==c;)f++;for(h=this.omt.splice(0,f),v=0;v<a.length;v++)l=a[v],d=void 0,v<this.omt.length?d=this.omt[v]:(d=new Iq(this,l),s.push(d)),u.push(d.tc(this.pmt,e))}return g.next=15,Dr.awrap(We.all(u));case 15:for((r=this.omt).push.apply(r,s),w=0,_=h;w<_.length;w++)_[w].Fgt();this.$s(new ML);case 18:case"end":return g.stop()}},null,this,null,We)},e.wmt=function(){return this.Amt.wmt()},e.jgt=function(t){var n=this.omt.indexOf(t);if(n>0)return this.omt[n-1]},e.qgt=function(t){var n=this.omt.indexOf(t);if(n>=0&&n+1<this.omt.length)return this.omt[n+1]},e.Hwt=function(){return this.N6?this.N6.Hwt():void 0},e.Qwt=function(){return this.N6&&this.N6.Qwt()},e.Ogt=function(t){this.N6&&this.N6.Ogt(t)},e.$c=function(){this.ou(),this.bmt=void 0,this.Smt(!1);for(var t=0,n=this.omt;t<n.length;t++){n[t].$c()}Fs(this.omt),this.N6&&this.N6.Xs()},A(n,[{key:"bwt",get:function(){return this.N6&&this.N6.bwt}},{key:"Awt",get:function(){return this.N6&&this.N6.Awt}},{key:"Y_",get:function(){return this.N6&&this.N6.zi.Y_}},{key:"hmt",get:function(){var t;return null==(t=this.N6)?void 0:t.hmt}},{key:"Emt",get:function(){var t;return null==(t=this.N6)?void 0:t.cmt}},{key:"Twt",get:function(){return this.N6?this.N6.Twt.map(function(t){return t.href}):[this.Klt]}},{key:"Klt",get:function(){return this.ymt.href}},{key:"Ewt",get:function(){return this.N6&&this.N6.zi.Ewt}},{key:"Iwt",get:function(){return this.N6&&this.N6.zi.Iwt}},{key:"Qlt",get:function(){return this.N6&&this.N6.zi.Qlt}},{key:"Rwt",get:function(){return this.N6&&this.N6.zi.Rwt}},{key:"Dwt",get:function(){var t,n,i=(null==(t=this.N6)?void 0:null==(n=t.zi.Dwt)?void 0:n.wdt())||0;return w.max(i,qq)}},{key:"By",get:function(){return this.Xst}},{key:"Ylt",get:function(){return this.omt}},{key:"Imt",get:function(){return this._s===FW.nI?this.v_t:this.Rmt}},{key:"Dmt",get:function(){var t=this.Imt;if(void 0!==t)for(var n=0,i=this.Ylt;n<i.length;n++){var e=i[n];if(e.oC<=t&&e.hC>t)return e}}},{key:"Gdt",get:function(){return this.N6&&this.N6.zi.Gdt}},{key:"Nwt",get:function(){return this.N6&&this.N6.Nwt}},{key:"Qgt",get:function(){for(var t=this.omt.length-1;t>=0;t-=1){var n=this.omt[t].Qgt;if(n)return n}}},{key:"v_t",get:function(){var t=this.Qgt;if(void 0!==t){var n=t-this.Nmt;return w.max(n,this.Rmt)}}},{key:"Rmt",get:function(){for(var t=0,n=this.omt;t<n.length;t++){var i=n[t].Xwt;if(void 0!==i)return i}}},{key:"Ud",get:function(){return Boolean(this.kmt.Ud)}},{key:"Nmt",get:function(){var t=this.N6&&this.N6.zi.Cwt;return t?t.jlt():this._s===FW.nI?this.Cmt:0}},{key:"Cmt",get:function(){return this.kmt.Cmt?this.kmt.Cmt:1.5*this.Rwt.jlt()}},{key:"Odt",get:function(){return this.N6&&this.N6.Odt}},{key:"_s",get:function(){return this.N6?this.N6._s:void 0}}]),n}(du),Gq=function(){function t(t,n,i,e){this.Ugt=void 0,this.Ugt=new Wq(t,n,i,e)}return A(t,[{key:"Ywt",get:function(){return this.Ugt}}]),t}(),qq=1e3,Yq=w.pow(2,31)-1,jq=function(){function t(t,n,i,e,r){var s=this;this.Zct=void 0,this.N6=void 0,this.Pmt=void 0,this.Bmt=void 0,this.Omt=void 0,this.xmt=new Ks,this.Ust=void 0,this.Lmt=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=s.N6.Ywt.wmt(),e.next=4,Dr.awrap(s.Mmt(s.N6.Ywt.Twt,t));case 4:return i=e.sent,e.next=7,Dr.awrap(s.N6.Ywt.tc(i,n,t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),Up(e.t0)&&s.N6.Ywt.Smt(!1),e.t0;case 13:case"end":return e.stop()}},null,null,[[0,9]],We)},this.Zct=e,this.N6=new Gq(t,n,i,this.xmt.js),this.Ust=r}var n=t.prototype;return n.Mw=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.N6.Ywt.$s(new RD),n.prev=1,n.next=4,Dr.awrap(Nm(this.Lmt,t));case 4:this.N6.Ywt.Smt(!0),n.next=13;break;case 7:throw n.prev=7,n.t0=n.catch(1),nu(n.t0),this.Bmt=void 0,this.N6.Ywt.Smt(!1),new v("The provided MPEG-DASH document could not be loaded - "+n.t0.message);case 13:this.Pmt=this.Umt(this.xmt.js);case 14:case"end":return n.stop()}},null,this,[[1,7]],We)},n.Umt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(this.N6.Ywt._s!==FW.nI){n.next=6;break}return n.next=4,Dr.awrap(eu(this.Xmt,t));case 4:n.next=1;break;case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},null,this,[[0,8]],We)},n.Hmt=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(tu(t),!((n=this.Fmt())>0)){e.next=6;break}return i=w.min(n,Yq),e.next=6,Dr.awrap(cu(i,t));case 6:return e.prev=6,e.next=9,Dr.awrap(Nm(this.Lmt,t,this.Ust.maxRetries,this.Ust.minimumBackoff,this.Ust.maximumBackoff));case 9:this.N6.Ywt.Smt(!0),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(6),new v("The provided MPEG-DASH manifest could not be loaded - "+e.t0.message);case 15:return e.prev=15,this.Omt=void 0,e.finish(15);case 18:case"end":return e.stop()}},null,this,[[6,12,15,18]],We)},n.Fmt=function(){var t=this.N6.Ywt.wmt().getTime()-this.N6.Ywt.hmt.getTime();return this.N6.Ywt.Dwt-t},n.zmt=function(t){var n=this.N6.Ywt.Qwt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.N6.Ywt.Ogt(t);var e=this.N6.Ywt.Qwt();return e?e.getTime()-t.getTime():NaN},n.Vmt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.Omt||(this.Omt=this.Hmt(t)),(n=new Ks).qs(t),i.prev=3,i.next=6,Dr.awrap(We.race([this.Omt,this.Wmt(n.js)].filter(H)));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),iu(i.t0);case 11:return i.prev=11,n.Gs(),i.finish(11);case 14:case"end":return i.stop()}},null,this,[[3,8,11,14]],We)},n.Wmt=function(t){var n=this.N6.Ywt.wmt(),i=this.zmt(n);if(!m(i))return this.Gmt(i,t)},n.Gmt=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(cu(t,n));case 2:i=this.N6.Ywt.wmt(),this.N6.Ywt.Ogt(i);case 4:case"end":return e.stop()}},null,this,null,We)},n.Mmt=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.Zct.jct(t,{},n,!1));case 2:return i=r.sent,e=new ZG,r.abrupt("return",e.Lft(i.Gct,i.dd));case 5:case"end":return r.stop()}},null,this,null,We)},n.$c=function(){return this.xmt.Gs(),this.Pmt=void 0,this.Bmt=void 0,this.Omt=void 0,this.N6.Ywt.$c(),We.resolve()},A(t,[{key:"k0",get:function(){return this.N6}},{key:"qmt",get:function(){return this.Bmt||(this.Bmt=this.Mw(this.xmt.js),au(this.Bmt)),this.Bmt}},{key:"Xmt",get:function(){return this.N6.Ywt.Emt&&this.N6.Ywt._s===FW.nI?this.Vmt(this.xmt.js):this.qmt}}]),t}(),Qq=function(){function t(t,n,i){this.Zct=t,this.Ymt=n,this.jmt=i}var n=t.prototype;return n.Qmt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.src){i.next=2;break}throw new v("Invalid typed source");case 2:if(!$g(n=t.type)){i.next=9;break}return i.next=6,Dr.awrap(this.Zmt(t));case 6:return i.abrupt("return",i.sent);case 9:if(!Jg(n)){i.next=15;break}return i.next=12,Dr.awrap(this.Kmt(t));case 12:return i.abrupt("return",i.sent);case 15:throw new v("Unexpected source type");case 16:case"end":return i.stop()}},null,this,null,We)},n.Zmt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(JW(t.src,this.Zct));case 3:return n=i.sent,i.next=6,Dr.awrap($W(n,this.Zct));case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),new v("Unable to fetch HLS manifest");case 12:case"end":return i.stop()}},null,this,[[0,9]],We)},n.Kmt=function(t){var n;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new jq({yg:i.Mr(t.src),Cmt:t.liveOffset,Tmt:t.timeServer,Ud:t.useCredentials},this.jmt,aw.qd,this.Zct,Pm),e.next=4,Dr.awrap(n.qmt);case 4:return e.next=6,Dr.awrap(MW(n.k0.Ywt,t.contentProtection,this.Ymt));case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new v("Unable to fetch DASH manifest");case 12:case"end":return e.stop()}},null,this,[[0,9]],We)},t}(),Zq=function(){function t(t){this.Jmt=void 0,this.$mt=[],this.tyt=0,this.Jmt=t}var n=t.prototype;return n.nyt=function(){var t=new Wo;return this.$mt.push(t),this.iyt(),t.Gu},n.eyt=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(t);case 2:this.tyt-=1,this.iyt(),0===this.$mt.length&&0===this.tyt&&n.Qu(!0);case 5:case"end":return i.stop()}},null,this,null,We)},n.iyt=function(){this.$mt.length>0&&this.tyt<this.Jmt&&(this.$mt.shift().Qu(),this.tyt+=1)},t}();function Kq(t,n){for(var i=0,e=0,r=t.AE.S1.map(function(t){return t.nm});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var Jq=function(t){function n(n,i,e,r,s,u,o,a){var h;(h=t.call(this)||this).Jct=void 0,h.Xht=void 0,h.Slt=void 0,h.aft=void 0,h.ryt=void 0,h.syt=new Wo,h.uyt=void 0,h.oyt=void 0,h.Zct=void 0,h.ayt=void 0,h.Ymt=void 0,h.jmt=void 0,h.Om=void 0,h.Hlt=void 0,h.hyt=void 0,h.cyt=BW.Glt,h.Jct=n,h.Xht=i,h.Zct=e,h.oyt=r,h.ayt=s,h.Ymt=u,h.jmt=a,h.Slt=o,h.hyt=-1;var c=h.Jct.VN.sources[0];return h.uyt=c,h.ryt=new Zq(h.Jct.kc.parallelTasksThreshold),h}S(n,t);var e=n.prototype;return e.$m=function(){var t,n,i,e,r,s,u,o,a,h,c,f,v,l,d,_,g,m,y,k,p,b,A,T,S,E,I,R=this;return Dr.async(function(D){for(;;)switch(D.prev=D.next){case 0:if(!this.Om){D.next=2;break}return D.abrupt("return",this.Om.Gu);case 2:return this.Om=new Wo,t=new Qq(this.Zct,this.Ymt,this.jmt),D.next=6,Dr.awrap(t.Qmt(this.uyt));case 6:return this.aft=D.sent,n=this.Jct.kc.amount,i=this.aft.nm,e=OW(n,i),this.Hlt=e,s=kH(this.aft.Zlt[0]),D.next=14,Dr.awrap(this.Xht.Pht.Dht(s,"manifestURL"));case 14:for(u=D.sent.filter(function(t){return Hs(t.references,R.Jct.Y_)}),o=[],a=this.Jct.kc.bandwidth,h=0,c=this.aft.Ylt;h<c.length;h++)for(f=c[h],v=0,l=f.$lt;v<l.length;v++)for(d=l[v],_=0,g=tY(d,this.Jct.kc.preferredTrackSelection);_<g.length;_++)for(m=g[_],y=0,k=iY(m.J_,a);y<k.length;y++)p=k[y],o.push(p);if(this.hyt=w.ceil(o.map(function(t){return t.vD*Kq(t,e)/8}).reduce(function(t,n){return t+n},0)),b=Pr(),u&&0!==u.length){for(A=u.reduce(function(t,n){return t+n.byteSize},0),T=function(t){var n=u[t],i=n.qualityId,e=new fS(n.startsAndEnds);if(b.has(i))b.get(i).timeRanges=b.get(i).timeRanges.EC(e).SC(5e-4);else{var r,s=xs(o,function(t){return t.Y_===i}),a=w.min(R.Hlt,null!=(r=null==s?void 0:s.AE.nm)?r:1/0);b.set(i,{timeRanges:e,totalQualityDurationToCache:a})}},S=0;S<u.length;S++)T(S);r=new BW(A,b,this.Hlt)}else{for(E=0;E<o.length;E++)I=o[E],b.set(I.Y_,{timeRanges:fS.qC(),totalQualityDurationToCache:w.min(I.AE.nm,this.Hlt)});r=new BW(0,b,this.Hlt)}this.fyt=r,this.Om.Qu();case 23:case"end":return D.stop()}},null,this,null,We)},e.vyt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.$m());case 2:return n.next=4,Dr.awrap(this.lyt(this.aft,t));case 4:return n.next=6,Dr.awrap(this.syt.Gu);case 6:case"end":return n.stop()}},null,this,null,We)},e.lyt=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.Zlt){u.next=2;break}throw new v("Unexpected - manifest is missing locations");case 2:return u.next=4,Dr.awrap(this.dyt());case 4:for(i=[],e=0,r=t.Ylt;e<r.length;e++)s=r[e],i.push(this.wyt(s,t.Zlt[0],n));return u.abrupt("return",We.all(i));case 7:case"end":return u.stop()}},null,this,null,We)},e.dyt=function(){var t,n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.oyt.Iht());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=25;break}return i=t[n],r.next=8,Dr.awrap(this.Xht.Bht.Cu(i.key));case 8:if(!(e=r.sent)){r.next=14;break}return r.next=12,Dr.awrap($q(e,this.Jct.Y_,this.Xht.Bht,this.Slt));case 12:r.next=22;break;case 14:return r.prev=14,r.next=17,Dr.awrap(this.Xht.Bht.Tht(i,this.Slt));case 17:r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(14),new LW("Unable to store manifest with url: "+i.locationURL,r.t0);case 22:n++,r.next=4;break;case 25:return r.next=27,Dr.awrap(this.oyt.Cht());case 27:case"end":return r.stop()}},null,this,[[14,19]],We)},e.wyt=function(t,n,i){for(var e=[],r=0,s=t.$lt;r<s.length;r++)for(var u=tY(s[r],this.Jct.kc.preferredTrackSelection),o=0;o<u.length;o++){var a=u[o];e.push(this._yt(a,n,i))}return We.all(e)},e._yt=function(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.Jct.kc.bandwidth,r=iY(t.J_,e),t._s!==ry.Pd||!t.idt||!t.idt.yI.widevine||"persistent"!==t.idt.yI.widevine.licenseType){a.next=6;break}return a.next=5,Dr.awrap(this.gyt(t.idt));case 5:tu(i);case 6:for(s=[],u=0;u<r.length;u++)o=r[u],s.push(this.myt(o,n,i));return a.abrupt("return",We.all(s));case 9:case"end":return a.stop()}},null,this,null,We)},e.myt=function(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:tu(i),e=t.AE.S1[0].ck,r=e+this.Hlt,s=0,u=t.AE.S1;case 4:if(!(s<u.length)){a.next=16;break}if(!((o=u[s]).ck>=r)){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Dr.awrap(this.yyt(i));case 10:return a.next=12,Dr.awrap(this.ryt.nyt());case 12:au(this.ryt.eyt(this.kyt(o,t,n),this.syt));case 13:s++,a.next=4;break;case 16:case"end":return a.stop()}},null,this,null,We)},e.yyt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||!t.Os){n.next=4;break}return n.next=3,Dr.awrap(this.syt.Gu);case 3:throw new Js;case 4:case"end":return n.stop()}},null,this,null,We)},e.pyt=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.$m());case 2:return t.abrupt("return",this.aft);case 3:case"end":return t.stop()}},null,this,null,We)},e.gyt=function(t){return We.resolve()},e.byt=function(){return i.Tr("License renewal unsupported in this SDK."),We.resolve()},e.kyt=function(t,n,i){var e,r,s,u,o,a,h,c=this;return Dr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e=this.Xht.Pht,r=pH(t.rdt.wd,t.rdt.Ict),f.next=4,Dr.awrap(e.Cu(r));case 4:if(!(s=f.sent)){f.next=11;break}return f.next=8,Dr.awrap($q(s,this.Jct.Y_,e,this.Slt));case 8:this.Ayt(s,!1),f.next=24;break;case 11:return f.prev=11,f.next=14,Dr.awrap(this.Tyt(t.rdt));case 14:return u=f.sent,o=this.Syt(t,n,i,u),a=o.segmentMetadataEntry,h=o.segmentEntry,f.next=18,Dr.awrap(this.Xht.Lht(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.Pht.Tht(a,c.Slt));case 2:return n.next=4,Dr.awrap(t.S1.Tht(h,c.Slt));case 4:case"end":return n.stop()}},null,null,null,We)}));case 18:this.Ayt(a,!0),f.next=24;break;case 21:throw f.prev=21,f.t0=f.catch(11),new LW("Unable to store segment with url: "+t.rdt.wd,f.t0);case 24:case"end":return f.stop()}},null,this,[[11,21]],We)},e.Tyt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.ayt.Eyt(t,!1));case 2:return n=i.sent,i.next=5,Dr.awrap(this.Iyt(n));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},null,this,null,We)},e.Iyt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(t.Vl());case 2:return n=i.sent,i.abrupt("return",{buffer:n});case 4:case"end":return i.stop()}},null,null,null,We)},e.Syt=function(t,n,i,e){var r=pH(t.rdt.wd,t.rdt.Ict),s=t.ck,u=t.nm,o=this.Ryt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:kH(i),qualityId:n.Y_,byteSize:o,startsAndEnds:new fS([s,s+u]).fC,references:[this.Jct.Y_]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:kH(i),data:e,references:[this.Jct.Y_]}}},e.Ryt=function(t){return t.buffer.byteLength},e.Ayt=function(t,n){var i=t.qualityId,e=this.cyt,r=e.Xy;r.get(i).timeRanges=r.get(i).timeRanges.EC(new fS(t.startsAndEnds)).SC(5e-4),this.fyt=new BW(n?e.Vlt+t.byteSize:e.Vlt,r,this.Hlt)},A(n,[{key:"Plt",get:function(){return this.$m()}},{key:"Dyt",get:function(){return this.hyt}},{key:"fyt",get:function(){return this.cyt},set:function(t){this.cyt.Nk(t)||(this.cyt=t,t.Nk(BW.Glt)||this.$s(new PW))}}]),n}(du);function $q(t,n,i,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Hs(t.references,n)){r.next=4;break}return t.references.push(n),r.next=4,Dr.awrap(i.Tht(t,e));case 4:case"end":return r.stop()}},null,null,null,We)}function tY(t,n){switch(t._s){case ry.Cd:return nY(t.hT,n.audioTrackSelection);case ry.ni:return nY(t.hT,n.textTrackSelection);default:return nY(t.hT,[])}}function nY(t,n){if(0===n.length)return t.length?[t[0]]:[];for(var i=[],e=0;e<t.length;e++){var r=t[e];n.indexOf(r.K_)>-1&&i.push(r)}return i}function iY(t,n){if(!t.length)return[];var i=[].concat(t).sort(NW),e=i.filter(function(t){return t.vD<=n});return e.length>0?[e.pop()]:[i.shift()]}var eY=function(){function t(t){this.qE=void 0,this.LX=new af,this.qE=t}var n=t.prototype;return n.ld=function(t){var n=this,i=new Wo;return this.LX.Kc(function(e){return n.Nyt(i,t,e)},t.js).catch(K),i.Gu},n.Hd=function(t){return this.qE.Hd(t)},n.Nyt=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return tu(i),e=new uw({wd:n.wd,js:i},n),r=this.qE.ld(e),t.Qu(r),u.next=6,Dr.awrap(r);case 6:return s=u.sent,u.next=9,Dr.awrap(s.Jl());case 9:case"end":return u.stop()}},null,this,null,We)},n.$c=function(){this.LX.$c()},t}(),rY=function(){function t(t,n){this.qE=void 0,this.Cyt=void 0,this.V5=void 0,this.qE=t,this.Cyt=new eY(t),this.V5=n}var n=t.prototype;return n.Eyt=function(t,n,i){return this.A4(t,n,!0,!1,void 0,i)},n.s9=function(t,n,i,e){return this.A4(t,n,!1,!1,i,e)},n.Pyt=function(t,n,i,e){return this.A4(t,n,!1,!0,i,e)},n.A4=function(n,i,e,r,s,u){var o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return tu(u),a.next=3,Dr.awrap(this.v9(n,e,r,s,u));case 3:if(o=a.sent,!i){a.next=8;break}return a.abrupt("return",t.Byt(o));case 8:return a.abrupt("return",this.Oyt(o));case 9:case"end":return a.stop()}},null,this,null,We)},n.Oyt=function(t){return t},t.Byt=function(t){return t},n.v9=function(t,n,i,e,r){var s=new uw({wd:t.wd,hd:Sf.fv,od:t.Ict?{Range:"bytes="+t.Ict[0]+"-"+t.Ict[1]}:void 0,Ud:t.Ud,Od:nw.GET,_s:iw.kd,Ld:i?ew.Ad:ew.md,Md:this.V5,xd:e,js:r});return n?this.Cyt.ld(s):this.qE.ld(s)},t}(),sY=function(){function t(t){this.qE=void 0,this.qE=t}return t.prototype.Tgt=function(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(this.qE.ld({wd:t,hd:Sf.fv,od:{Range:"bytes="+n[0]+"-"+n[1]},Ud:i,Od:nw.GET,_s:iw.md,js:e}));case 2:return r=s.sent,s.next=5,Dr.awrap(r.Vl());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,We)},t}(),uY=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).h9=void 0,r.h9=n,r}return S(n,t),n}($t),oY=function(){function t(t){this.x6=void 0,this.x6=t}return t.prototype.Tgt=function(t,n,i,e){var r,s;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.x6.Y5(t,n));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.buffer);case 5:return i.next=7,Dr.awrap(this.x6.Y5(t));case 7:if(!(s=i.sent)){i.next=10;break}return i.abrupt("return",Xo(new y(s.buffer),n[0],n[1]));case 10:throw new uY({wd:t,Ict:n,Ud:!1});case 11:case"end":return i.stop()}},null,this,null,We)},t}(),aY={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new fS([0,0]).fC,references:[]},hY={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},cY=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).xyt=void 0,u.Lyt=void 0,u.Xht=void 0,u.Slt=void 0,u.xyt=new sY(i),u.Xht=e,u.Lyt=r,u.Slt=s,u}S(n,t);var i=n.prototype;return i.Tgt=function(n,i,e,r){var s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Dr.awrap(t.prototype.Tgt.call(this,n,i,e,r));case 3:return u.abrupt("return",u.sent);case 6:u.prev=6,u.t0=u.catch(0),nu(u.t0);case 9:return u.next=11,Dr.awrap(this.xyt.Tgt(n,i,e,r));case 11:return s=u.sent,u.next=14,Dr.awrap(this.Myt(n,i,s));case 14:return u.abrupt("return",s);case 15:case"end":return u.stop()}},null,this,[[0,6]],We)},i.Myt=function(t,i,e){var r,s,u,o,a,h,c,f=this;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(void 0!==this.Lyt){v.next=2;break}return v.abrupt("return");case 2:return r=this.Xht.Pht,s=pH(t,i),v.next=6,Dr.awrap(r.Cu(s));case 6:if(!(u=v.sent)){v.next=12;break}return v.next=10,Dr.awrap($q(u,this.Lyt,r,this.Slt));case 10:v.next=22;break;case 12:return v.prev=12,o={buffer:e},a=n.Syt(s,o,this.Lyt),h=a.segmentMetadataEntry,c=a.segmentEntry,v.next=17,Dr.awrap(this.Xht.Lht(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.Pht.Tht(h,f.Slt));case 2:return n.next=4,Dr.awrap(t.S1.Tht(c,f.Slt));case 4:case"end":return n.stop()}},null,null,null,We)}));case 17:v.next=22;break;case 19:throw v.prev=19,v.t0=v.catch(12),new LW("Unable to store segment with url: "+t,v.t0);case 22:case"end":return v.stop()}},null,this,[[12,19]],We)},n.Syt=function(t,n,i){return{segmentMetadataEntry:Nr({},aY,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:Nr({},hY,{key:t,segmentURLsegmentByteRange:t,data:n,references:[i]})}},n}(oY);var fY=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Uyt=function(t,n,e,r,s,u,o){return new Jq(t,n,e,r,s,u,o,(h=M.In||M.Sn,c=void 0!==a&&void 0!==a.preferredAudioCodecs&&a.preferredAudioCodecs.some(function(t){return"ec-3"===t}),f=h&&!c,function(t){var n,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=t.Gl,MediaSource.isTypeSupported(e)||Wp(t.DO,t.yz)){u.next=3;break}return u.abrupt("return",!1);case 3:if(!f||-1===(null==(n=t.dr)?void 0:n.indexOf("ec-3"))){u.next=5;break}return u.abrupt("return",!1);case 5:if(!t.G1){u.next=13;break}return r=t.G1,s=Vs(r,function(t){return cs(t.U1)}).filter(H),u.next=10,Dr.awrap(js(s,function(t){return i.xr(t,e)}));case 10:if(u.sent){u.next=13;break}return u.abrupt("return",!1);case 13:return u.abrupt("return",!0);case 14:case"end":return u.stop()}},null,null,null,We)}));var a,h,c,f},n}(function(){function t(t){this.qE=t}return t.prototype.kJ=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.VN.sources[0].useCredentials),r=new rY(this.qE,rw.md),s=new uF(this.qE,e),u=new AH(n.Bht,n.Pht,n.S1,n.xht),o=function(t,n,i,e,r){return new cY(n,t,i,e,r)}(this.qE,u,n,t.Y_,i),a=new CH,h=new fF(cF(s,u),a,t);return this.Uyt(t,n,h,a,r,o,i)},t}());function vY(t){var n,i={get id(){return t.Y_},get status(){return t.ud},get source(){return t.VN},get parameters(){return t.kc},get duration(){return t.nm},get cached(){return t.Xyt.SN()},get secondsCached(){return t.Hyt},get percentageCached(){return t.Fyt},get bytes(){return t.zyt},get bytesCached(){return t.Vyt},get license(){return t.qO.o_},start:function(){t.oC()},pause:function(){t.qm()},remove:function(){t.$h()},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.au(t,i)}};return n=new kR(t,["Mlt","vlt"],i),i}var lY=function(){function t(t,n,i){this.Jct=t,this.Xht=n,this.aft=i}var n=t.prototype;return n.Wyt=function(){var t=this;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.Xht.Lht(function(n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(t.Gyt(n));case 2:return i.next=4,Dr.awrap(t.qyt(n));case 4:return i.next=6,Dr.awrap(t.Yyt(n));case 6:return i.next=8,Dr.awrap(t.jyt(n));case 8:case"end":return i.stop()}},null,null,null,We)}));case 2:case"end":return n.stop()}},null,this,null,We)},n.Gyt=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.Oht,i=this.Jct.Y_,e.next=4,Dr.awrap(n.$h(i));case 4:case"end":return e.stop()}},null,this,null,We)},n.qyt=function(t){var n,i,e,r,s,u,o,a=this;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(n=t.Pht,i=t.S1,em(e=this.Jct.VN.sources[0])){h.next=5;break}return h.abrupt("return");case 5:return r=kH(e.src),h.next=8,Dr.awrap(n.Dht(r,"manifestURL"));case 8:s=h.sent.filter(function(t){return Hs(t.references,a.Jct.Y_)}),u=0;case 10:if(!(u<s.length)){h.next=25;break}if(Us((o=s[u]).references,this.Jct.Y_),0!==o.references.length){h.next=20;break}return h.next=16,Dr.awrap(n.$h(o.key));case 16:return h.next=18,Dr.awrap(i.$h(o.key));case 18:h.next=22;break;case 20:return h.next=22,Dr.awrap(n.Tht(o));case 22:u++,h.next=10;break;case 25:case"end":return h.stop()}},null,this,null,We)},n.Yyt=function(t){var n,i,e,r,s,u=this;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.Bht,i=this.Qyt(),o.next=4,Dr.awrap(n.bht(i));case 4:e=o.sent.filter(function(t){return Hs(t.references,u.Jct.Y_)}),r=0;case 6:if(!(r<e.length)){o.next=19;break}if(Us((s=e[r]).references,this.Jct.Y_),0!==s.references.length){o.next=14;break}return o.next=12,Dr.awrap(n.$h(s.key));case 12:o.next=16;break;case 14:return o.next=16,Dr.awrap(n.Tht(s));case 16:r++,o.next=6;break;case 19:case"end":return o.stop()}},null,this,null,We)},n.Qyt=function(){if(!this.aft)return[];var t=this.Jct.VN.sources[0];if(!em(t))return[];var n=kH(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.Ylt;i<e.length;i++)for(var r=0,s=e[i].$lt;r<s.length;r++)for(var u=0,o=s[r].hT;u<o.length;u++)for(var a=0,h=o[u].J_;a<h.length;a++){var c=h[a];c.ldt&&n.push(c.ldt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.aft).map(function(t){return{src:t}}).map(function(t){return kH(t.src)});return[n].concat(i)},n.jyt=function(t){var n,i,e,r,s=this;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.xht,u.next=3,Dr.awrap(n.Iht());case 3:i=u.sent.filter(function(t){return Hs(t.references,s.Jct.Y_)}),e=0;case 5:if(!(e<i.length)){u.next=19;break}if(Us((r=i[e]).references,this.Jct.Y_),0!==r.references.length){u.next=14;break}return u.next=11,Dr.awrap(n.$h(r.key));case 11:this.Zyt(r),u.next=16;break;case 14:return u.next=16,Dr.awrap(n.Tht(r));case 16:e++,u.next=5;break;case 19:case"end":return u.stop()}},null,this,null,We)},n.Zyt=function(t){},t}(),dY=new(function(){function t(){}return t.prototype.kJ=function(t,n,i){return new lY(t,n,i)},t}());var wY=function(){function t(t,n){this.u_=void 0,this.Xw=t,this.Kyt=n}var n=t.prototype;return n.Jyt=function(t){this.$yt(t)},n.$yt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Dr.awrap(this.Kyt.byt(t));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),this.Xw.Rlt(mW.ERROR);case 9:case"end":return n.stop()}},null,this,[[0,5]],We)},A(t,[{key:"o_",get:function(){var t;return this.u_||(this.u_=(t=this,{renew:function(n){t.Jyt(n)}})),this.u_}}]),t}(),_Y=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this)||this).Uh=void 0,o.Tlt=void 0,o.u_=void 0,o.lst=void 0,o.tkt=void 0,o.Xht=void 0,o.Kyt=void 0,o.nkt=new Ks,o.ikt=void 0,o.evictOnLoading=function(){o.au("vlt",o.evictOnLoading),o.ekt()},o.Uh=n,o.lst=i,o.tkt=e,o.Xht=r,o.Kyt=s.kJ(Kt(o),o.Xht,u),o.ikt=new wY(Kt(o),o.Kyt),o.Tlt=1===o.Kyt.fyt.Wlt?mW.DONE:mW.IDLE,o.Kyt.tu("Mlt",function(t){o.Js(t),1===o.Fyt&&o.Rlt(mW.DONE)});var h=new Date,c=o.tkt.expirationDate.getTime()-h.getTime();return c<2147483647&&a(function(){return o.ekt()},c),o}S(n,t);var i=n.prototype;return i.Rlt=function(t){this.Tlt!==t&&(this.Tlt=t,this.$s(new kW))},i.oC=function(){this.Tlt===mW.EVICTED||this.Tlt===mW.DONE||this.rkt()},i.rkt=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.Rlt(mW.LOADING),t=new Ks,this.nkt=t,n.next=6,Dr.awrap(this.Kyt.vyt(t.js));case 6:this.Rlt(mW.DONE),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),$s(n.t0)?this.Rlt(mW.IDLE):this.Rlt(mW.ERROR);case 12:return n.prev=12,this.nkt.Xs(),n.finish(12);case 15:case"end":return n.stop()}},null,this,[[0,9,12,15]],We)},i.qm=function(){this.nkt.Gs()},i.$h=function(){this.ud===mW.LOADING?(this.tu("vlt",this.evictOnLoading),this.qm()):this.ekt()},i.ekt=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Dr.awrap(this.Kyt.pyt());case 3:return t=n.sent,n.next=6,Dr.awrap(dY.kJ(this,this.Xht,t).Wyt());case 6:this.Kyt.fyt=BW.Glt,this.Rlt(mW.EVICTED),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),this.Rlt(mW.ERROR);case 14:case"end":return n.stop()}},null,this,[[0,10]],We)},A(n,[{key:"Plt",get:function(){return this.Kyt.Plt}},{key:"o_",get:function(){return this.u_||(this.u_=vY(this)),this.u_}},{key:"Y_",get:function(){return this.Uh}},{key:"qO",get:function(){return this.ikt}},{key:"ud",get:function(){return this.Tlt}},{key:"VN",get:function(){return this.lst}},{key:"kc",get:function(){return this.tkt}},{key:"nm",get:function(){return this.Kyt.fyt.zC}},{key:"Xyt",get:function(){return this.Kyt.fyt.zlt}},{key:"Hyt",get:function(){return this.Kyt.fyt.Flt}},{key:"Fyt",get:function(){return this.Kyt.fyt.Wlt}},{key:"zyt",get:function(){return this.Kyt.Dyt}},{key:"Vyt",get:function(){return this.Kyt.fyt.Vlt}}]),n}(Ug);var gY=function(){function t(t,n){this.Xht=t,this.skt=n}var n=t.prototype;return n.Blt=function(t,n,i){var e=nI();return this.Nlt(e,t,n,i)},n.Nlt=function(t,n,i,e){return new _Y(t,n,i,this.Xht,this.skt,e)},t}(),mY=30,yY=5;function kY(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(q(t)&&!vs(t,"%"))return _(t);return t}(t.amount);!function(t){if(i=t,q(i)&&vs(i,"%")){var n=g(t);if(m(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}var i;if(!q(t)&&m(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+mY),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(Q(n)&&n>new Date)))throw new v("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);!function(t){if(m(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(e);return{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return yY;if(m(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks),preferredTrackSelection:{audioTrackSelection:[],textTrackSelection:[]}}}var pY,bY,AY,TY,SY,EY,IY=function(t){function n(n,i){var e;return(e=t.call(this)||this).u_=void 0,e.ukt=n,e.tX=i,e.ukt.tu("vlt",e.Js),e}return S(n,t),n.prototype.okt=function(t,n,i){var e,r;if(!t)throw new v("Unexpected - The source description is undefined");if(e=bE(t),r=kY(n),fE(e))throw new v("Invalid source description");return this.ukt.Nlt(e,r).o_},A(n,[{key:"o_",get:function(){var t,n,i;return this.u_||(this.u_=(i={get status(){return t.ud},get tasks(){return t.Llt},get network(){return t.lX.o_},createTask:function(n,i){return t.okt(n,i)},addEventListener:function(t,i){n.tu(t,i)},removeEventListener:function(t,i){n.au(t,i)}},n=new pR(t=this,i),i)),this.u_}},{key:"ud",get:function(){return this.ukt.ud}},{key:"Llt",get:function(){return this.ukt.Llt.o_}},{key:"lX",get:function(){return this.tX}}]),n}(Ug);(pY=new nR(i.n_,!1),bY=MH.jn,AY=new fY(pY),TY=new gY(bY,AY),SY=new eR(pY),EY=new DW(bY.Oht,TY,"persistent"),new IY(EY,SY)).o_;var RY=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Uh=void 0,s.Tlt=void 0,s.u_=void 0,s.lst=void 0,s.tkt=void 0,s.ma=0,s.akt=fS.qC(),s.hkt=0,s.ckt=0,s.ukt=void 0,s.Uh=n,s.Tlt=mW.IDLE,s.lst=i,s.tkt=e,s.ukt=r,s}S(n,t);var i=n.prototype;return i.oC=function(){this.ukt.startCachingTask(this)},i.$h=function(){this.ukt.removeCachingTask(this)},A(n,[{key:"o_",get:function(){return this.u_||(this.u_=vY(this)),this.u_}},{key:"Y_",get:function(){return this.Uh}},{key:"ud",get:function(){return this.Tlt},set:function(t){this.Tlt!==t&&(this.Tlt=t,this.$s(new kW))}},{key:"VN",get:function(){return this.lst}},{key:"kc",get:function(){return this.tkt}},{key:"nm",get:function(){return this.ma},set:function(t){this.ma=t}},{key:"Xyt",get:function(){return this.akt},set:function(t){this.akt=t}},{key:"Hyt",get:function(){return this.hkt},set:function(t){this.hkt=t}},{key:"Fyt",get:function(){return this.ckt},set:function(t){this.ckt=t,this.$s(new PW)}}]),n}(Xg),DY=30;function NY(t){var n,i,e;if(!t)throw new v("Unexpected - The cache parameters are undefined");if(t.expirationDate?i=t.expirationDate:(i=new Date).setMinutes(i.getMinutes()+DY),i&&((e=i)&&!(Q(e)&&e>new Date)))throw new v("Invalid expiration date for the cache parameters");return{expirationDate:i,allowsCellularAccess:null==(n=t.allowsCellularAccess)||n}}var CY=function(t){function n(){var n;return(n=t.call(this)||this).Tlt=AW.UNINITIALISED,n.Gc=new RW,n.jft=void 0,n.lvt=void 0,n.fkt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.ud=mW.EVICTED,i.Fyt=0,i.Hyt=0,i.nm=0,i.Xyt=fS.qC(),n.Gc.$h(i))}},n.vkt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.ud=e);var r=t.detail.percentage;r&&(i.Fyt=r);var s=t.detail.duration;s&&(i.nm=s);var u=t.detail.seconds;u&&(i.Hyt=u);var o=t.detail.cached;if(o){for(var a=[],h=0;h<o.length;h++){var c=o[h];a.push(c.start,c.end)}i.Xyt=new fS(a)}}}},n.lkt=function(t){var i;if(t.detail){var e=bE(JSON.parse(t.detail.source));if(!n.dkt(e)){var r={},s=t.detail.expirationDate;s&&(r={expirationDate:new Date(s)}),r=Nr({},r,{allowsCellularAccess:null==(i=t.detail.allowsCellularAccess)||i});var u=t.detail.uuid;n.Nlt(e,NY(r),u)}}},n.wkt=function(t){var i;if(t.detail){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)}),e=Nr({},e,{allowsCellularAccess:null==(i=t.detail.allowsCellularAccess)||i});var s=JSON.parse(t.detail.source),u=t.detail.uuid,o=n.Nlt(bE(s),NY(e),u);o.ud=t.detail.status,o.Fyt=t.detail.percentage,o.nm=t.detail.duration,o.Hyt=t.detail.seconds;for(var a=t.detail.cached,h=[],c=0;c<a.length;c++){var f=a[c];h.push(f.start,f.end)}o.Xyt=new fS(h)}},n._kt=function(t){t.detail&&n.Rlt(t.detail.status)},n.jft=new dW,n.lvt=new GV,XV().cache={sdkEventBus:n.lvt},n.ult(),n}S(n,t);var i=n.prototype;return i.Rlt=function(t){this.Tlt!==t&&(this.Tlt=t,this.$s(new kW))},i.Nlt=function(t,n,i){void 0===i&&(i=void 0);var e=new RY(i||nI(),t,n,this);return this.Gc.Hy(e),i||this.jft.uJ("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e.Y_}),e},i.findTaskWithId=function(t){for(var n=0,i=this.Gc.dlt;n<i.length;n++){var e=i[n];if(e.Y_===t)return e}},i.dkt=function(t){for(var n=BY(t.sources),i=0,e=this.Gc.dlt;i<e.length;i++){if(BY(e[i].VN.sources).src===n.src)return!0}return!1},i.ult=function(){this.lvt.addEventListener("deleteTask",this.fkt),this.lvt.addEventListener("updateValues",this.vkt),this.lvt.addEventListener("newTask",this.lkt),this.lvt.addEventListener("restoreTask",this.wkt),this.lvt.addEventListener("setCacheStatus",this._kt)},i.startCachingTask=function(t){this.jft.uJ("THEOplayerCacheStartCachingTask",{id:t.Y_})},i.removeCachingTask=function(t){this.jft.uJ("THEOplayerCacheRemoveCachingTask",{id:t.Y_})},A(n,[{key:"ud",get:function(){return this.Tlt}},{key:"Llt",get:function(){return this.Gc}}]),n}(du),PY=function(t){function n(n){var i;return(i=t.call(this,n)||this).gkt=n,i.gkt.tu("vlt",i.Js),i}return S(n,t),n.prototype.okt=function(t,n){var i,e;if(!t)throw new v("Unexpected - The source description is undefined");if(i=bE(t),e=NY(n),fE(i))throw new v("Invalid source description");if(!BY(i.sources))throw new v("The provided sources can't be cached");return this.gkt.Nlt(i,e).o_},n}(IY);function BY(t){for(var n=0;n<t.length;n++){var i=t[n];if($g(i.type))return i}}var OY,xY,LY,MY=function(){var t=new CY;return new PY(t)}().o_;!function(t){t.mkt="any",t.ykt="natural",t.kkt="landscape",t.pkt="portrait",t.bkt="portrait-primary",t.Akt="portrait-secondary",t.Tkt="landscape-primary",t.Skt="landscape-secondary"}(OY||(OY={})),function(t){t.bkt="portrait-primary",t.Akt="portrait-secondary",t.Tkt="landscape-primary",t.Skt="landscape-secondary"}(xY||(xY={}));var UY,XY,HY=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).jft=new dW,n.Ekt=OY.ykt,n.Ikt=xY.bkt,n.Rkt=xY.bkt,n.Dkt=xY.bkt,n}S(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,e){n.Ekt=t,n.jft.uJ("THEOplayerOrientationLock",t),n.Nkt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.Ekt=OY.ykt,t.jft.uJ("THEOplayerOrientationUnlock"),t.type=t.Rkt,t.Nkt(),n()})},i.Nkt=function(){var t=this.Dkt,n=this.type;t!==n&&(this.Dkt=n,this.$s(new _u("change")))},i.addEventListener=function(t,n){this.tu(t,n)},i.removeEventListener=function(t,n){this.au(t,n)},n.Ckt=function(t){switch(t){case OY.bkt:return[xY.bkt];case OY.Akt:return[xY.Akt];case OY.pkt:return[xY.bkt,xY.Akt];case OY.Tkt:return[xY.Tkt];case OY.Skt:return[xY.Skt];case OY.kkt:return[xY.Tkt,xY.Skt];case OY.ykt:return[xY.bkt,xY.Tkt,xY.Skt];case OY.mkt:return[xY.bkt,xY.Akt,xY.Tkt,xY.Skt]}},n.Pkt=function(t,i){return n.Ckt(i).indexOf(t)>=0},A(n,[{key:"type",get:function(){return this.Ikt},set:function(t){this.Rkt=t,n.Pkt(t,this.Ekt)?(this.Ikt=t,this.Nkt()):(t===xY.Tkt&&this.Ekt===OY.Skt&&(this.Ikt=xY.Skt,this.Nkt()),t===xY.Skt&&this.Ekt===OY.Tkt&&(this.Ikt=xY.Tkt,this.Nkt()))}},{key:"angle",get:function(){switch(this.type){case xY.Tkt:return-90;case xY.Skt:return 90;case xY.bkt:return 0;case xY.Akt:return 180;default:return 0}}}]),n}(Xg);HY.jn=new HY,null!=(LY=r.screen).orientation||(LY.orientation=HY.jn),o&&-1===o.userAgent.indexOf("OS 9")&&d.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.Bkt="unavailable",t.Okt="available",t.xkt="presenting"}(UY||(UY={})),ZR(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),n.prototype.Qm=function(n){t.prototype.Qm.call(this,n);var i=this.o_;this.o_.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===UY.xkt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(OY.Skt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},GR._X),function(t){t.i_="addtrack",t.r_="removetrack",t.k_="change",t.E_="update"}(XY||(XY={}));var FY=function(t,n,i){this.type=XY.k_,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},zY=function(t,n){this.type=XY.i_,this.mediaType=t,this.mediaTrack=n},VY=function(t,n){this.type=XY.r_,this.mediaType=t,this.mediaTrack=n},WY=function(t,n){this.type=XY.E_,this.mediaType=t,this.mediaTrack=n},GY=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.Lkt=function(t){var n=new FY(e.type,t.track,e.mediaTracks);e.messageDispatcher.Mkt(n)},this.Ukt=function(t){var n=new zY(e.type,t.track);e.messageDispatcher.Mkt(n),t.track.addEventListener("update",e.Xkt)},this.Hkt=function(t){var n=new VY(e.type,t.track);e.messageDispatcher.Mkt(n)},this.Xkt=function(t){var n=new WY(e.type,t.track);e.messageDispatcher.Mkt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.ult()}return t.prototype.ult=function(){this.mediaTracks.addEventListener("change",this.Lkt),this.mediaTracks.addEventListener("addtrack",this.Ukt),this.mediaTracks.addEventListener("removetrack",this.Hkt)},t}(),qY=function(){function t(){this.Fkt=void 0,this.Fkt=new dW}return t.prototype.Mkt=function(t){this.Fkt.uJ(t.type,TF(t))},t}();$R(function(t){if(t.o_.audioTracks){var n=new qY;new GY("audio",t.o_.audioTracks,n)}if(t.o_.videoTracks){var i=new qY;new GY("video",t.o_.videoTracks,i)}});var YY,jY="nativePromiseCallback",QY=function(t){function n(n){var i;return(i=t.call(this,jY)||this).detail=n,i}return S(n,t),n}(_u);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(YY||(YY={}));var ZY=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.$s(new QY(n))},i.addEventListener=function(t,n){this.tu(t,n)},i.removeEventListener=function(t,n){this.au(t,n)},n}(GV),KY=function(){function t(){var t=this;this.Fkt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case YY.RESOLVE:i.Qu(n.detail.data);break;case YY.REJECT:i.Zu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new ZY;XV().nativePromise={sdkEventBus:n},n.addEventListener(jY,this.handleNativePromiseEvent)}return t.prototype.zkt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=Nr({},n,{promiseId:e}),s=new Wo;return this.promisesMap[e]=s,null==(i=this.Fkt)||i.uJ(n.type,bF(r)),s.Gu},t}();KY.messageIdTracker=-1;var JY,$Y=function(t){function n(){var n;return(n=t.call(this)||this).Fkt=new dW,n}return S(n,t),n}(KY),tj=function(){function n(t){this.playerID=t}return n.prototype.uJ=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),nj=function(t){function n(n){var i;return(i=t.call(this)||this).Fkt=new tj(n),i}return S(n,t),n}(KY);!function(t){t.i_="TextTrackListAddTrack",t.r_="TextTrackListRemoveTrack",t.k_="TextTrackListChange"}(JY||(JY={}));var ij,ej=function(t){this.type=JY.i_,this.textTrack=t},rj=function(t){this.type=JY.r_,this.textTrack=t},sj=function(t){this.type=JY.k_,this.textTrack=t};!function(t){t.c_="TextTrackAddCue",t.v_="TextTrackRemoveCue",t.d_="TextTrackEnterCue",t.__="TextTrackExitCue",t.m_="TextTrackCueChange"}(ij||(ij={}));var uj,oj=function(t,n){this.type=ij.c_,this.textTrackCue=t,this.textTrackUid=n},aj=function(t,n){this.type=ij.v_,this.textTrackCue=t,this.textTrackUid=n},hj=function(t,n){this.type=ij.d_,this.textTrackCue=t,this.textTrackUid=n},cj=function(t,n){this.type=ij.__,this.textTrackCue=t,this.textTrackUid=n},fj=function(t){this.type=ij.m_,this.textTrackUid=t};!function(t){t.$y="TextTrackCueEnter",t.ek="TextTrackCueExit",t.E_="TextTrackCueUpdate"}(uj||(uj={}));var vj=function(t){this.type=uj.$y,this.textTrackCue=t},lj=function(t){this.type=uj.ek,this.textTrackCue=t},dj=function(t){this.type=uj.E_,this.textTrackCue=t},wj=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.Vkt=function(t){var i=_j(t.cue),e=new vj(i);n.messageDispatcher.zkt(e).then()},this.Wkt=function(t){var i=_j(t.cue),e=new lj(i);n.messageDispatcher.zkt(e).then()},this.Gkt=function(t){var i=_j(t.cue),e=new dj(i);n.messageDispatcher.zkt(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.ult=function(t){t.addEventListener("enter",this.Vkt),t.addEventListener("exit",this.Wkt),t.addEventListener("update",this.Gkt)},n.vu=function(t){t.removeEventListener("enter",this.Vkt),t.removeEventListener("exit",this.Wkt),t.removeEventListener("update",this.Gkt)},t}();function _j(t){var n=PV(t,t.track.type);return delete n.track,n}var gj=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.qkt=function(t){var n,e=_j(t.cue),r=new oj(e,t.cue.track.uid);i.messageDispatcher.zkt(r).then(),null==(n=i.textTrackCueBridge)||n.ult(t.cue)},this.Ykt=function(t){var n,e=_j(t.cue),r=new aj(e,t.cue.track.uid);i.messageDispatcher.zkt(r).then(),null==(n=i.textTrackCueBridge)||n.vu(t.cue)},this.Vkt=function(t){var n=_j(t.cue),e=new hj(n,t.cue.track.uid);i.messageDispatcher.zkt(e).then()},this.Wkt=function(t){var n=_j(t.cue),e=new cj(n,t.cue.track.uid);i.messageDispatcher.zkt(e).then()},this.jkt=function(t){var n=new fj(t.track.uid);i.messageDispatcher.zkt(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new wj(e))}var n=t.prototype;return n.ult=function(t){t.addEventListener("addcue",this.qkt),t.addEventListener("removecue",this.Ykt),t.addEventListener("entercue",this.Vkt),t.addEventListener("exitcue",this.Wkt),t.addEventListener("cuechange",this.jkt)},n.vu=function(t){t.removeEventListener("addcue",this.qkt),t.removeEventListener("removecue",this.Ykt),t.removeEventListener("entercue",this.Vkt),t.removeEventListener("exitcue",this.Wkt),t.removeEventListener("cuechange",this.jkt)},n.initMessageDispatcher=function(t){return M.Wn?new $Y:M.Gn&&void 0!==t?new nj(t):void 0},t}(),mj=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.Ukt=function(t){var n,i=new ej(t.track);e.messageDispatcher.zkt(i).then(),null==(n=e.textTrackBridge)||n.ult(t.track)},this.Hkt=function(t){var n,i=new rj(t.track);e.messageDispatcher.zkt(i).then(),null==(n=e.textTrackBridge)||n.vu(t.track)},this.Qkt=function(t){var n=new sj(t.track);e.messageDispatcher.zkt(n).then()},this.Zkt=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.Kkt(i);r&&(this.textTrackBridge=new gj(r,i)),this.ult(),this.sdkEventBus=new GV,XV().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.Zkt)}var n=t.prototype;return n.ult=function(){this.textTracks.addEventListener("addtrack",this.Ukt),this.textTracks.addEventListener("removetrack",this.Hkt),this.textTracks.addEventListener("change",this.Qkt)},n.Kkt=function(t){return M.Wn?new $Y:M.Gn&&void 0!==t?new nj(t):void 0},t}();$R(function(t){if(t.o_.textTracks){var n=new $Y;new mj(t.o_.textTracks,n)}});var yj,kj,pj=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case yj.Jkt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.$s(new bj(i));break;default:0}},n}(GV),bj=function(t){function n(n){var i;return(i=t.call(this,yj.Jkt)||this).detail=n,i}return S(n,t),n}(_u);!function(t){t.Jkt="registerContentProtectionIntegration"}(yj||(yj={})),function(t){t.$kt="certifiateRequest",t.tpt="certifiateResponse",t.npt="licenseRequest",t.ipt="licenseResponse",t.ept="extractFairplayContentId",t.rpt="buildContentProtection",t.spt="registerContentProtectionCallback"}(kj||(kj={}));var Aj,Tj=function(t,n){this.type=kj.spt,this.value=t,this.integrationId=n};!function(t){t.GALLERY="gallery",t.OVERLAY="overlay",t.SPOTLIGHT="spotlight"}(Aj||(Aj={}));var Sj=function(t,n){this.type=kj.rpt,this.value=t,this.integrationId=n},Ej=function(t,n){this.type=kj.$kt,this.value=t,this.integrationId=n},Ij=function(t,n){this.type=kj.tpt,this.value=t,this.integrationId=n},Rj=function(t,n){this.type=kj.ept,this.value=t,this.integrationId=n},Dj=function(t,n){this.type=kj.npt,this.value=t,this.integrationId=n},Nj=function(t,n){this.type=kj.ipt,this.value=t,this.integrationId=n},Cj=function(){function t(t,n){this.upt=void 0,this.nR=void 0,this.upt=t,this.nR=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e=new Ej(i,this.nR),a.prev=2,a.next=5,Dr.awrap(this.upt.zkt(e));case 5:if(!(r=a.sent)){a.next=16;break}if(s=JSON.parse(r),!this.apt(s)){a.next=13;break}return u=Nr({},s),a.abrupt("return",u);case 13:if(!this.hpt(s)){a.next=16;break}return o=new y(s),a.abrupt("return",o);case 16:throw new ty(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw a.prev=19,a.t0=a.catch(2),new ty(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 22:case"end":return a.stop()}},null,this,[[2,19]],We)},i.onCertificateResponse=function(t){var i,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new Ij(e,this.nR),o.next=5,Dr.awrap(this.upt.zkt(r));case 5:if(!(s=o.sent)){o.next=11;break}return u=JSON.parse(s),o.abrupt("return",new y(u));case 11:throw new ty(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,We)},i.onLicenseRequest=function(t){var i,e,r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new Dj(e,this.nR),h.prev=3,h.next=6,Dr.awrap(this.upt.zkt(r));case 6:if(!(s=h.sent)){h.next=17;break}if(u=JSON.parse(s),!this.apt(u)){h.next=14;break}return o={url:u.url,method:u.method,headers:u.headers,body:u.body?new y(u.body):null,useCredentials:u.useCredentials,fairplaySkdUrl:u.fairplaySkdUrl},h.abrupt("return",o);case 14:if(!this.hpt(u)){h.next=17;break}return a=new y(u),h.abrupt("return",a);case 17:throw new ty(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw h.prev=20,h.t0=h.catch(3),new ty(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,h.t0);case 23:case"end":return h.stop()}},null,this,[[3,20]],We)},i.onLicenseResponse=function(t){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=Nr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},s=new Nj(r,this.nR),a.next=6,Dr.awrap(this.upt.zkt(s));case 6:if(!(u=a.sent)){a.next=12;break}return o=JSON.parse(u),a.abrupt("return",new y(o));case 12:throw new ty(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return a.stop()}},null,this,null,We)},i.extractFairplayContentId=function(t){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new Rj(t,this.nR),r.next=3,Dr.awrap(this.upt.zkt(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",We.reject(new ty(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,We)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.apt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.hpt=function(t){return!!new y(t)},t}(),Pj=function(){function t(t){this.upt=void 0,this.upt=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new Cj(this.upt,t.integration),i=new Sj({drmConfiguration:t},t.integration);return this.upt.zkt(i),n},t}(),Bj=function(t){function n(){var n;return(n=t.call(this)||this).upt=new $Y,n}return S(n,t),A(n,[{key:"messageDispatcher",get:function(){return this.upt}}]),n}(function(){var t=this;this.lvt=void 0,this.cpt=function(n){var i=new Pj(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:Qb.oR.eR(r,s,i)};t.messageDispatcher.zkt(new Tj(u,r))},this.lvt=new pj,XV().contentProtectionIntegration={sdkEventBus:this.lvt},this.lvt.addEventListener(yj.Jkt,this.cpt)});$R(function(t){new Bj});var Oj=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return S(n,t),n}(_u);var xj,Lj=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).fpt=function(){},e.vpt(),e}S(n,t);var e=n.prototype;return e.lpt=function(){this.KN&&this.KN.au(Tf.Af,this.handleAirplayChangedEvent),this.KN=this.PL,this.KN.tu(Tf.Af,this.handleAirplayChangedEvent)},e.dpt=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.KN){t.next=2;break}return t.abrupt("return");case 2:this.wpt(GS.CONNECTED);case 3:case"end":return t.stop()}},null,this,null,We)},e._pt=function(){this.wpt(GS.AVAILABLE)},e.Km=function(){i.Hr.We&&(this.gpt.$m(),this.mpt.Gs(),this.mpt=new Ks,au(this.ypt(this.mpt.js)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).u_=void 0,e.gpt=void 0,e.KN=void 0,e.PL=void 0,e.ye=GS.UNAVAILABLE,e.mpt=new Ks,e.fpt=void 0,e.handleAirplayChangedEvent=function(){e.KN&&e.KN.Sy?e.dpt():e.aZ===GS.CONNECTED&&e._pt()},e.gpt=n,e.PL=i,e}S(n,t);var e=n.prototype;return e.vpt=function(){this.lpt(),this.gpt.tu("sourcechange",this.fpt),i.Hr.We&&this.wpt(GS.AVAILABLE)},e.preloadPlayer=function(t){if(tu(t),this.KN.wg<jg.Wg){var n=this.KN.wu("loadedmetadata",t);return this.KN.xy=eS.gA,n}return We.resolve()},e.wpt=function(t){t!==this.ye&&(this.ye=t,this.$s(new Oj(this.ye)))},e.ypt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.preloadPlayer(t));case 2:this.PL.Km();case 3:case"end":return n.stop()}},null,this,null,We)},e.Jm=function(){i.Hr.We&&this.KN.Jm()},e.$c=function(){this.ou(),this.gpt.au("sourcechange",this.fpt),this.mpt.Gs()},A(n,[{key:"hU",get:function(){return this.aZ===GS.CONNECTED}},{key:"aZ",get:function(){return this.ye}},{key:"o_",get:function(){var t;return this.u_||(this.u_=(t=this,{get casting(){return t.hU},get state(){return t.aZ},start:function(){t.Km()},stop:function(){t.Jm()},addEventListener:function(n,i){var e=pg(n,yg);t.tu(e,i)},removeEventListener:function(n,i){var e=pg(n,yg);t.au(e,i)}})),this.u_}}]),n}(du));ZR(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.a_=function(){var n=this.fX.o_;return fg(t.prototype.a_.call(this),{get cast(){return n}})},n}(t)},GR.wX),ZR(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).kpt=void 0,e.kpt=new Lj(Kt(e),e.iU),e.fX.cU(e.kpt),e.tu("currentsourcechange",function(){e.kpt.lpt()}),e}S(n,t);var i=n.prototype;return i.a_=function(){var n=this,i=t.prototype.a_.call(this);return fg(i.cast,{get airplay(){return n.kpt.o_}}),i},i.$c=function(){this.kpt.$c(),t.prototype.$c.call(this)},n}(t)},GR.wX),function(t){t.ppt="airplaystatechange"}(xj||(xj={}));var Mj=function(t){this.type=xj.ppt,this.state=t},Uj=function(t){function n(n){var i;return(i=t.call(this)||this).bpt=void 0,i.Apt=function(t){var n=new Mj(t.state);i.Mkt(n)},i.bpt=n,i.ult(n),i}return S(n,t),n.prototype.ult=function(t){t.addEventListener("statechange",this.Apt)},n}(qY);$R(function(t){var n;null!=(n=t.o_.cast)&&n.airplay&&new Uj(t.o_.cast.airplay)}),n.ChromelessPlayer=wD,n.Player=wD,n.cache=MY,n.createGlobals=zV,n.features=mD,n.getCueMirrorMap=HV,n.getGlobalId=FV,n.getSdkEventBridge=XV,n.playerSuiteVersion="2023.2.2",n.players=yD,n.registerContentProtectionIntegration=kD,n.utils=gD,n.version="5.1.0",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
