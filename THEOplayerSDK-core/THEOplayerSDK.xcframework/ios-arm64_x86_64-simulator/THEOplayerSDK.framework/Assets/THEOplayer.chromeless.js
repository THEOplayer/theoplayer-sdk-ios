/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 5.7.0 (5.7.0)
 Created: 2023-07-27T16:23:18.146Z
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(t):"function"==typeof define&&define.amd?define([],(function(){return n(t)})):t.THEOplayer=n(t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this,(function(t){"use strict";var n={exports:{}},i=(n.exports,t.window),e=t.document,r=t.location,u=t.navigator,s=t.setTimeout,o=t.clearTimeout,a=t.setInterval,c=t.clearInterval,h=t.Error,f=t.TypeError,v=(t.SyntaxError,t.Object),d=t.Math,l=t.parseInt,w=t.parseFloat,_=t.isNaN,g=t.Uint8Array,m=t.Worker,y=(t.WorkerGlobalScope,t.XMLHttpRequest),p=v.create,A=v.defineProperty,k=v.getOwnPropertyDescriptor,b=v.getOwnPropertyNames,T=v.getPrototypeOf,S=v.prototype.hasOwnProperty,E=function(t,n){return function(){return t&&(n=(0,t[b(t)[0]])(t=0)),n}},I=function(t,n){return function(){return n||(0,t[b(t)[0]])((n={exports:{}}).exports,n),n.exports}},R=function(t,n,i,e){if(n&&"object"==typeof n||"function"==typeof n)for(var r,u=b(n),s=0,o=u.length;s<o;s++)r=u[s],S.call(t,r)||r===i||A(t,r,{get:function(t){return n[t]}.bind(null,r),enumerable:!(e=k(n,r))||e.enumerable});return t},C=function(t,n,i){return i=null!=t?p(T(t)):{},R(!n&&t&&t.__esModule?i:A(i,"default",{value:t,enumerable:!0}),t)};function N(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}var D,P,B,O,x,L,M,F,U,H,X,z,V,W,q,G,j,Y,Q,Z=E({"../../../web/node_modules/@swc/helpers/esm/_type_of.js":function(){me(),zt()}});function K(t){var n=this.constructor;return this.then((function(i){return n.resolve(t()).then((function(){return i}))}),(function(i){return n.resolve(t()).then((function(){return n.reject(i)}))}))}function J(t){return new this((function(n,i){if(!t||void 0===t.length)return i(new f((void 0===t?"undefined":N(t))+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(n){u(t,n)}),(function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)}))}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var s=0;s<e.length;s++)u(s,e[s])}))}function $(t){return Boolean(t&&void 0!==t.length)}function tt(){}function nt(t){if(!(this instanceof nt))throw new f("Promises must be constructed via new");if("function"!=typeof t)throw new f("not a function");this.l=0,this.g=!1,this.I=void 0,this.R=[],ot(t,this)}function it(t,n){for(;3===t.l;)t=t.I;0!==t.l?(t.g=!0,nt.N((function(){var i=1===t.l?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.I)}catch(t){return void rt(n.promise,t)}et(n.promise,e)}else(1===t.l?et:rt)(n.promise,t.I)}))):t.R.push(n)}function et(t,n){try{if(n===t)throw new f("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof nt)return t.l=3,t.I=n,void ut(t);if("function"==typeof i)return void ot((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.l=1,t.I=n,ut(t)}catch(n){rt(t,n)}var e,r}function rt(t,n){t.l=2,t.I=n,ut(t)}function ut(t){2===t.l&&0===t.R.length&&nt.N((function(){t.g||nt.F(t.I)}));for(var n=0,i=t.R.length;n<i;n++)it(t,t.R[n]);t.R=null}function st(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function ot(t,n){var i=!1;try{t((function(t){i||(i=!0,et(n,t))}),(function(t){i||(i=!0,rt(n,t))}))}catch(t){if(i)return;i=!0,rt(n,t)}}function at(t){return new z(X,{reason:t,promise:P.reject(t).catch((function(){})),cancelable:!0})}function ct(t){var n=new V(X,{detail:{reason:t},cancelable:!0});return v.defineProperty(n,"reason",{value:t}),n}function ht(t){var n=e.createEvent("CustomEvent");return n.initCustomEvent(X,!1,!0,{reason:t}),n}var ft,vt,dt,lt,wt,_t,gt,mt,yt,pt,At,kt,bt,Tt,St,Et,It,Rt,Ct,Nt,Dt,Pt,Bt,Ot,xt,Lt,Mt,Ft,Ut,Ht,Xt=E({"../../../web/node_modules/@opentelly/promise-polyfill/dist/index.js":function(){var n,i,e,r,o;me(),zt(),Z(),D=s,nt.prototype.catch=function(t){return this.then(null,t)},nt.prototype.then=function(t,n){var i=new this.constructor(tt);return it(this,new st(t,n,i)),i},nt.prototype.finally=K,nt.all=function(t){return new nt((function(n,i){if(!$(t))return i(new f("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function u(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,(function(n){u(t,n)}),i)}e[t]=s,0==--r&&n(e)}catch(t){i(t)}}for(var s=0;s<e.length;s++)u(s,e[s])}))},nt.allSettled=J,nt.resolve=function(t){return t&&"object"==typeof t&&t.constructor===nt?t:new nt((function(n){n(t)}))},nt.reject=function(t){return new nt((function(n,i){i(t)}))},nt.race=function(t){return new nt((function(n,i){if(!$(t))return i(new f("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)nt.resolve(t[e]).then(n,i)}))},nt.N="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){D(t,0)},nt.F=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},P=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),B=u?u.userAgent:"",O=B.match(/Firefox\/([0-9]+)/i),x=null!=O,L=O?Number(O[1]):0,M=B.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),F=null!=M,U=M?Number(M[3]):0,(n=function(t){this.V=0,this.G=0,this.j=[],this.Y=t}).prototype.U=function(t){var n=this.length();this.Z(n+1);var i=this.G+n&this.Y-1;this.j[i]=t,this.V=n+1},n.prototype.push=function(t){var n=this.length()+1;if(this.Y<n)this.U(t);else{var i=this.G+n-1,e=this.Y-1;this.j[i&e]=t,this.V=n}},n.prototype.shift=function(){var t=this.G,n=this.j[t];return this.j[t]=void 0,this.G=t+1&this.Y-1,this.V--,n},n.prototype.length=function(){return this.V},n.prototype.Z=function(t){this.Y<t&&this.K(this.Y<<1)},n.prototype.K=function(t){var n=this.Y;this.Y=t;var i=this.G+this.V&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.j,0,n,i)},H=n,X="unhandledrejection",z=t.PromiseRejectionEvent,V=t.CustomEvent,W=function(t){return(W=function(){try{var t=P.resolve(),n="error",i=new z(X,{reason:n,promise:t});return X===i.type&&n===i.reason}catch(t){}return!1}()?at:function(){try{var t="error",n=new V(X,{detail:{reason:t}});return X===n.type&&t===n.detail.reason}catch(t){}return!1}()?ct:ht)(t)},G=x&&L<60||F&&U<15,P&&!G?(j=P,function(){}):(j=nt,Y=null!==(q=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=P;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==q?q:nt.N,i=Y,e=new H(16),r=!1,(Q={nt:function(t){e.push(t),r||(r=!0,i(o))},J:o=function(){for(;e.length()>0;)e.shift()();r=!1}}).J,nt.N=Q.nt,nt.F=function(n){try{var i=W(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}s((function(){throw new h("Unhandled promise rejection: ".concat(n))}),0)})}}),zt=E({"../../../web/src/util/polyfill/Promise.ts":function(){Xt()}});function Vt(){}function Wt(t){return"object"==typeof t&&null!==t||"function"==typeof t}function qt(t){return t.slice()}function Gt(t){return!1!==function(t){if("number"!=typeof t)return!1;if(vt(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function jt(t,n,i){if("function"!=typeof t)throw new f("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Yt(t,n,i,e){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new f(r+" is not a method");switch(i){case 0:return function(){return Zt(r,t,e)};case 1:return function(n){var i=[n].concat(e);return Zt(r,t,i)}}}return function(){return tn(void 0)}}function Qt(t,n,i){var e=t[n];if(void 0!==e)return jt(e,t,i)}function Zt(t,n,i){try{return tn(jt(t,n,i))}catch(t){return nn(t)}}function Kt(t){if(t=Number(t),vt(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Jt(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new f("size property of a queuing strategy must be a function");return function(n){return t(n)}}function $t(t){return new lt(t)}function tn(t){return _t(t)}function nn(t){return gt(t)}function en(t,n,i){return wt.call(t,n,i)}function rn(t,n,i){en(en(t,n,i),void 0,dt)}function un(t,n){rn(t,n)}function sn(t,n){rn(t,void 0,n)}function on(t,n,i){return en(t,n,i)}function an(t){en(t,void 0,dt)}function cn(t,n,i){var e=null;!0===i&&(e=v.prototype);var r=v.create(e);return r.value=t,r.done=n,r}function hn(t,n){t.ut=!0,t.ot=n,n.ct=t,"readable"===n.l?ln(t):"closed"===n.l?function(t){ln(t),gn(t)}(t):wn(t,n.ft)}function fn(t,n){return ie(t.ot,n)}function vn(t){"readable"===t.ot.l?_n(t,new f("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){wn(t,n)}(t,new f("Reader was released and can no longer be used to monitor the stream's closedness")),t.ot.ct=void 0,t.ot=void 0}function dn(t){return new f("Cannot "+t+" a stream using a released reader")}function ln(t){t.vt=$t((function(n,i){t.dt=n,t.wt=i}))}function wn(t,n){ln(t),_n(t,n)}function _n(t,n){an(t.vt),t.wt(n),t.dt=void 0,t.wt=void 0}function gn(t){t.dt(void 0),t.dt=void 0,t.wt=void 0}function mn(t,n){void 0===n&&(n=!1);var i=new At(t);return i.ut=n,i}function yn(t){return $t((function(n,i){var e={_t:n,yt:i};t.ct.At.push(e)}))}function pn(t,n,i){var e=t.ct;e.At.shift()._t(cn(n,i,e.ut))}function An(t){return t.ct.At.length}function kn(t){var n=t.ct;return void 0!==n&&!!bn(n)}function bn(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"At")}function Tn(t){var n=t.ot;return n.kt=!0,"closed"===n.l?tn(cn(void 0,!0,t.ut)):"errored"===n.l?nn(n.ft):n.bt[pt]()}function Sn(t){return new f("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}function En(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"Tt")}function In(t){return new f("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Rn(t){var n=t.St.shift();return t.Et-=n.size,t.Et<0&&(t.Et=0),n.value}function Cn(t,n,i){if(!Gt(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.St.push({value:n,size:i}),t.Et+=i}function Nn(t){t.St=new mt,t.Et=0}function Dn(t){return new Rt(t)}function Pn(t){t.l="writable",t.ft=void 0,t.It=void 0,t.Rt=void 0,t.Ct=new mt,t.Nt=void 0,t.Dt=void 0,t.Pt=void 0,t.Bt=void 0,t.Ot=!1}function Bn(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"Rt")}function On(t){return void 0!==t.It}function xn(t,n){var i=t.l;if("closed"===i||"errored"===i)return tn(void 0);if(void 0!==t.Bt)return t.Bt.xt;var e=!1;"erroring"===i&&(e=!0,n=void 0);var r=$t((function(i,r){t.Bt={xt:void 0,_t:i,yt:r,Lt:n,Mt:e}}));return t.Bt.xt=r,!1===e&&Fn(t,n),r}function Ln(t){var n=t.l;if("closed"===n||"errored"===n)return nn(new f("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=$t((function(n,i){var e={_t:n,yt:i};t.Dt=e})),r=t.It;return void 0!==r&&!0===t.Ot&&"writable"===n&&di(r),Cn(i=t.Rt,"close",0),Jn(i),e}function Mn(t,n){"writable"!==t.l?Un(t):Fn(t,n)}function Fn(t,n){var i=t.Rt;t.l="erroring",t.ft=n;var e=t.It;void 0!==e&&Gn(e,n),!1===function(t){if(void 0===t.Nt&&void 0===t.Pt)return!1;return!0}(t)&&!0===i.Ft&&Un(t)}function Un(t){t.l="errored",t.Rt[Et]();var n=t.ft;if(t.Ct.forEach((function(t){t.yt(n)})),t.Ct=new mt,void 0!==t.Bt){var i=t.Bt;if(t.Bt=void 0,!0===i.Mt)return i.yt(n),void Xn(t);rn(t.Rt[St](i.Lt),(function(){i._t(),Xn(t)}),(function(n){i.yt(n),Xn(t)}))}else Xn(t)}function Hn(t){return void 0!==t.Dt||void 0!==t.Pt}function Xn(t){void 0!==t.Dt&&(t.Dt.yt(t.ft),t.Dt=void 0);var n=t.It;void 0!==n&&oi(n,t.ft)}function zn(t,n){var i=t.It;void 0!==i&&n!==t.Ot&&(!0===n?function(t){ci(t)}(i):di(i)),t.Ot=n}function Vn(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"Ut")}function Wn(t){return Ln(t.Ut)}function qn(t,n){"pending"===t.Ht?oi(t,n):function(t,n){si(t,n)}(t,n)}function Gn(t,n){"pending"===t.Xt?vi(t,n):function(t,n){hi(t,n)}(t,n)}function jn(t){var n=t.Ut,i=new f("Writer was released and can no longer be used to monitor the stream's closedness");Gn(t,i),qn(t,i),n.It=void 0,t.Ut=void 0}function Yn(t,n){var i=t.Ut,e=i.Rt,r=function(t,n){try{return t.zt(n)}catch(n){return $n(t,n),1}}(e,n);if(i!==t.Ut)return nn(ri("write to"));var u=i.l;if("errored"===u)return nn(i.ft);if(!0===Hn(i)||"closed"===u)return nn(new f("The stream is closing or closed and cannot be written to"));if("erroring"===u)return nn(i.ft);var s=function(t){return $t((function(n,i){var e={_t:n,yt:i};t.Ct.push(e)}))}(i);return function(t,n,i){var e={chunk:n};try{Cn(t,e,i)}catch(n){return void $n(t,n)}var r=t.Vt;if(!1===Hn(r)&&"writable"===r.l){zn(r,ti(t))}Jn(t)}(e,n,r),s}function Qn(t,n,i,e,r,u,s,o){n.Vt=t,t.Rt=n,n.St=void 0,n.Et=void 0,Nn(n),n.Ft=!1,n.zt=o,n.Wt=s,n.qt=e,n.Gt=r,n.jt=u;var a=ti(n);zn(t,a),rn(tn(i()),(function(){n.Ft=!0,Jn(n)}),(function(i){n.Ft=!0,Mn(t,i)}))}function Zn(t){t.qt=void 0,t.Gt=void 0,t.jt=void 0,t.zt=void 0}function Kn(t){return t.Wt-t.Et}function Jn(t){var n=t.Vt;if(!1!==t.Ft&&void 0===n.Nt)if("erroring"!==n.l){if(0!==t.St.length){var i=t.St.peek().value;"close"===i?function(t){var n=t.Vt;(function(t){t.Pt=t.Dt,t.Dt=void 0})(n),Rn(t);var i=t.Gt();Zn(t),rn(i,(function(){!function(t){t.Pt._t(void 0),t.Pt=void 0,"erroring"===t.l&&(t.ft=void 0,void 0!==t.Bt&&(t.Bt._t(),t.Bt=void 0)),t.l="closed";var n=t.It;void 0!==n&&ai(n)}(n)}),(function(t){!function(t,n){t.Pt.yt(n),t.Pt=void 0,void 0!==t.Bt&&(t.Bt.yt(n),t.Bt=void 0),Mn(t,n)}(n,t)}))}(t):function(t,n){var i=t.Vt;(function(t){t.Nt=t.Ct.shift()})(i),rn(t.qt(n),(function(){!function(t){t.Nt._t(void 0),t.Nt=void 0}(i);var n=i.l;if(Rn(t),!1===Hn(i)&&"writable"===n){var e=ti(t);zn(i,e)}Jn(t)}),(function(n){"writable"===i.l&&Zn(t),function(t,n){t.Nt.yt(n),t.Nt=void 0,Mn(t,n)}(i,n)}))}(t,i.chunk)}}else Un(n)}function $n(t,n){"writable"===t.Vt.l&&ni(t,n)}function ti(t){return Kn(t)<=0}function ni(t,n){var i=t.Vt;Zn(t),Fn(i,n)}function ii(t){return new f("WritableStream.prototype."+t+" can only be used on a WritableStream")}function ei(t){return new f("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function ri(t){return new f("Cannot "+t+" a stream using a released writer")}function ui(t){t.vt=$t((function(n,i){t.dt=n,t.wt=i,t.Ht="pending"}))}function si(t,n){ui(t),oi(t,n)}function oi(t,n){an(t.vt),t.wt(n),t.dt=void 0,t.wt=void 0,t.Ht="rejected"}function ai(t){t.dt(void 0),t.dt=void 0,t.wt=void 0,t.Ht="resolved"}function ci(t){t.Yt=$t((function(n,i){t.Qt=n,t.Zt=i})),t.Xt="pending"}function hi(t,n){ci(t),vi(t,n)}function fi(t){ci(t),di(t)}function vi(t,n){an(t.Yt),t.Zt(n),t.Qt=void 0,t.Zt=void 0,t.Xt="rejected"}function di(t){t.Qt(void 0),t.Qt=void 0,t.Zt=void 0,t.Xt="fulfilled"}function li(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}function wi(t,n,i,e,r,u){var s=mn(t),o=Dn(n);t.kt=!0;var a=!1,c=tn(void 0);return $t((function(h,v){var d,l,w,_;if(void 0!==u){if(d=function(){var i=new Dt("Aborted","AbortError"),u=[];!1===e&&u.push((function(){return"writable"===n.l?xn(n,i):tn(void 0)})),!1===r&&u.push((function(){return"readable"===t.l?ie(t,i):tn(void 0)})),p((function(){return j.all(u.map((function(t){return t()})))}),!0,i)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(y(t,s.vt,(function(t){!1===e?p((function(){return xn(n,t)}),!0,t):A(!0,t)})),y(n,o.vt,(function(n){!1===r?p((function(){return ie(t,n)}),!0,n):A(!0,n)})),l=t,w=s.vt,_=function(){!1===i?p((function(){return function(t){var n=t.Ut,i=n.l;return!0===Hn(n)||"closed"===i?tn(void 0):"errored"===i?nn(n.ft):Wn(t)}(o)})):A()},"closed"===l.l?_():un(w,_),!0===Hn(n)||"closed"===n.l){var g=new f("the destination writable stream closed before all data could be piped to it");!1===r?p((function(){return ie(t,g)}),!0,g):A(!0,g)}function m(){var t=c;return en(c,(function(){return t!==c?m():void 0}))}function y(t,n,i){"errored"===t.l?i(t.ft):sn(n,i)}function p(t,i,e){function r(){rn(t(),(function(){return k(i,e)}),(function(t){return k(!0,t)}))}!0!==a&&(a=!0,"writable"===n.l&&!1===Hn(n)?un(m(),r):r())}function A(t,i){!0!==a&&(a=!0,"writable"===n.l&&!1===Hn(n)?un(m(),(function(){return k(t,i)})):k(t,i))}function k(t,n){jn(o),vn(s),void 0!==u&&u.removeEventListener("abort",d),t?v(n):h(void 0)}an($t((function(t,n){!function i(e){e?t():en(!0===a?tn(!0):en(o.Yt,(function(){return en(Tn(s),(function(t){return!0===t.done||(c=en(Yn(o,t.value),void 0,Vt),!1)}))})),i,n)}(!1)})))}))}function _i(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"Kt")}function gi(t){!1!==mi(t)&&(!0!==t.Jt?(t.Jt=!0,rn(t.$t(),(function(){t.Jt=!1,!0===t.un&&(t.un=!1,gi(t))}),(function(n){ki(t,n)}))):t.un=!0)}function mi(t){var n=t.Kt;return!1!==Ti(t)&&(!1!==t.Ft&&(!0===ne(n)&&An(n)>0||bi(t)>0))}function yi(t){t.$t=void 0,t.cn=void 0,t.zt=void 0}function pi(t){var n=t.Kt;t.hn=!0,0===t.St.length&&(yi(t),ee(n))}function Ai(t,n){var i=t.Kt;if(!0===ne(i)&&An(i)>0)pn(i,n,!1);else{var e=void 0;try{e=t.zt(n)}catch(n){throw ki(t,n),n}try{Cn(t,n,e)}catch(n){throw ki(t,n),n}}gi(t)}function ki(t,n){var i=t.Kt;"readable"===i.l&&(Nn(t),yi(t),re(i,n))}function bi(t){var n=t.Kt.l;return"errored"===n?null:"closed"===n?0:t.Wt-t.Et}function Ti(t){var n=t.Kt.l;return!1===t.hn&&"readable"===n}function Si(t,n,i,e,r,u,s){n.Kt=t,n.St=void 0,n.Et=void 0,Nn(n),n.Ft=!1,n.hn=!1,n.un=!1,n.Jt=!1,n.zt=s,n.Wt=u,n.$t=e,n.cn=r,t.bt=n,rn(tn(i()),(function(){n.Ft=!0,gi(n)}),(function(t){ki(n,t)}))}function Ei(t){return new f("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function Ii(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"fn")}function Ri(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"vn")}function Ci(t){!1!==function(t){var n=t.fn;if("readable"!==n.l)return!1;if(!0===t.hn)return!1;if(!1===t.Ft)return!1;if(!0===kn(n)&&An(n)>0)return!0;if(!0===Yi(n)&&ji(n)>0)return!0;if(zi(t)>0)return!0;return!1}(t)&&(!0!==t.Jt?(t.Jt=!0,rn(t.$t(),(function(){t.Jt=!1,!0===t.un&&(t.un=!1,Ci(t))}),(function(n){Xi(t,n)}))):t.un=!0)}function Ni(t,n){var i=!1;"closed"===t.l&&(i=!0);var e=Di(n);"default"===n.readerType?pn(t,e,i):function(t,n,i){var e=t.ct;e.dn.shift()._t(cn(n,i,e.ut))}(t,e,i)}function Di(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function Pi(t,n,i,e){t.St.push({buffer:n,byteOffset:i,byteLength:e}),t.Et+=e}function Bi(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=d.min(t.Et,n.byteLength-n.bytesFilled),u=n.bytesFilled+r,s=u-u%i,o=r,a=!1;s>e&&(o=s-n.bytesFilled,a=!0);for(var c,h,f,v,l,w=t.St;o>0;){var _=w.peek(),m=d.min(o,_.byteLength),y=n.byteOffset+n.bytesFilled;c=n.buffer,h=y,f=_.buffer,v=_.byteOffset,l=m,new g(c).set(new g(f,v,l),h),_.byteLength===m?w.shift():(_.byteOffset+=m,_.byteLength-=m),t.Et-=m,Oi(t,m,n),o-=m}return a}function Oi(t,n,i){Li(t),i.bytesFilled+=n}function xi(t){0===t.Et&&!0===t.hn?(Hi(t),ee(t.fn)):Ci(t)}function Li(t){void 0!==t.wn&&(t.wn.vn=void 0,t.wn._n=void 0,t.wn=void 0)}function Mi(t){for(;t.yn.length>0;){if(0===t.Et)return;var n=t.yn.peek();!0===Bi(t,n)&&(Ui(t),Ni(t.fn,n))}}function Fi(t,n){var i=t.yn.peek();if("closed"===t.fn.l){if(0!==n)throw new f("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=n.buffer;var i=t.fn;if(!0===Yi(i))for(;ji(i)>0;)Ni(i,Ui(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Oi(t,n,i),!(i.bytesFilled<i.elementSize)){Ui(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,u=i.buffer.slice(r-e,r);Pi(t,u,0,u.byteLength)}i.buffer=i.buffer,i.bytesFilled-=e,Ni(t.fn,i),Mi(t)}}(t,n,i);Ci(t)}function Ui(t){var n=t.yn.shift();return Li(t),n}function Hi(t){t.$t=void 0,t.cn=void 0}function Xi(t,n){var i=t.fn;"readable"===i.l&&(!function(t){Li(t),t.yn=new mt}(t),Nn(t),Hi(t),re(i,n))}function zi(t){var n=t.fn.l;return"errored"===n?null:"closed"===n?0:t.Wt-t.Et}function Vi(t,n,i){var e=v.create(xt.prototype);var r=Yt(n,"pull",0,[e]),u=Yt(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===Bt(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,e,r,u,s){n.fn=t,n.un=!1,n.Jt=!1,n.wn=void 0,n.St=n.Et=void 0,Nn(n),n.hn=!1,n.Ft=!1,n.Wt=Kt(u),n.$t=e,n.cn=r,n.pn=s,n.yn=new mt,t.bt=n,rn(tn(i()),(function(){n.Ft=!0,Ci(n)}),(function(t){Xi(n,t)}))}(t,e,(function(){return Qt(n,"start",[e])}),r,u,i,s)}function Wi(t){return new f("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function qi(t){return new f("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Gi(t){return $t((function(n,i){var e={_t:n,yt:i};t.ct.dn.push(e)}))}function ji(t){return t.ct.dn.length}function Yi(t){var n=t.ct;return void 0!==n&&!!Qi(n)}function Qi(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"dn")}function Zi(t,n){var i=t.ot;return i.kt=!0,"errored"===i.l?nn(i.ft):function(t,n){var i=t.fn,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,u={buffer:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:r,readerType:"byob"};if(t.yn.length>0)return t.yn.push(u),Gi(i);if("closed"===i.l)return tn(cn(new r(u.buffer,u.byteOffset,0),!0,i.ct.ut));if(t.Et>0){if(!0===Bi(t,u)){var s=Di(u);return xi(t),tn(cn(s,!1,i.ct.ut))}if(!0===t.hn){var o=new f("Insufficient bytes to fill elements in the given buffer");return Xi(t,o),nn(o)}}t.yn.push(u);var a=Gi(i);return Ci(t),a}(i.bt,n)}function Ki(t){return new f("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function Ji(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var u=v.create(Mt.prototype);return $i(u),Si(u,v.create(Pt.prototype),t,n,i,e,r),u}function $i(t){t.l="readable",t.ct=void 0,t.ft=void 0,t.kt=!1}function te(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"bt")}function ne(t){return void 0!==t.ct}function ie(t,n){return t.kt=!0,"closed"===t.l?tn(void 0):"errored"===t.l?nn(t.ft):(ee(t),on(t.bt[yt](n),Vt))}function ee(t){t.l="closed";var n=t.ct;void 0!==n&&(bn(n)&&(n.At.forEach((function(t){t._t(cn(void 0,!0,n.ut))})),n.At=new mt),gn(n))}function re(t,n){t.l="errored",t.ft=n;var i=t.ct;void 0!==i&&(bn(i)?(i.At.forEach((function(t){t.yt(n)})),i.At=new mt):(i.dn.forEach((function(t){t.yt(n)})),i.dn=new mt),_n(i,n))}function ue(t){return new f("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function se(t,n,i,e,r,u){function s(){return n}t.An=function(t,n,i,e,r,u){void 0===r&&(r=1),void 0===u&&(u=function(){return 1});var s=v.create(It.prototype);return Pn(s),Qn(s,v.create(Ct.prototype),t,n,i,e,r,u),s}(s,(function(n){return function(t,n){var i=t.Tn;if(!0===t.Ot){return on(t.Sn,(function(){var e=t.An;if("erroring"===e.l)throw e.ft;return le(i,n)}))}return le(i,n)}(t,n)}),(function(){return function(t){var n=t.En,i=t.Tn,e=i.In();return ve(i),on(e,(function(){if("errored"===n.l)throw n.ft;var t=n.bt;!0===Ti(t)&&pi(t)}),(function(i){throw ae(t,i),n.ft}))}(t)}),(function(n){return function(t,n){return ae(t,n),tn(void 0)}(t,n)}),i,e),t.En=Ji(s,(function(){return function(t){return he(t,!1),t.Sn}(t)}),(function(n){return ce(t,n),tn(void 0)}),r,u),t.Ot=void 0,t.Sn=void 0,t.Rn=void 0,he(t,!0),t.Tn=void 0}function oe(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"Tn")}function ae(t,n){ki(t.En.bt,n),ce(t,n)}function ce(t,n){ve(t.Tn),$n(t.An.Rt,n),!0===t.Ot&&he(t,!1)}function he(t,n){void 0!==t.Sn&&t.Rn(),t.Sn=$t((function(n){t.Rn=n})),t.Ot=n}function fe(t){return!!Wt(t)&&!!v.prototype.hasOwnProperty.call(t,"Cn")}function ve(t){t.Nn=void 0,t.In=void 0}function de(t,n){var i=t.Cn,e=i.En.bt;if(!1===Ti(e))throw new f("Readable side is not in a state that permits enqueue");try{Ai(e,n)}catch(t){throw ce(i,t),i.En.ft}(function(t){return!0!==mi(t)})(e)!==i.Ot&&he(i,!0)}function le(t,n){return on(t.Nn(n),void 0,(function(n){throw ae(t.Cn,n),n}))}function we(t){return new f("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function _e(t){return new f("TransformStream.prototype."+t+" can only be used on a TransformStream")}var ge=E({"../../../core/node_modules/web-streams-polyfill/dist/ponyfill.mjs":function(){var t;me(),zt(),ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"},vt=Number.isNaN||function(t){return t!=t},dt=Vt,lt=j,wt=j.prototype.then,_t=j.resolve.bind(lt),gt=j.reject.bind(lt),16384,mt=function(){function t(){this.Dn=0,this.Pn=0,this.G={Bn:[],On:void 0},this.xn=this.G,this.Dn=0,this.Pn=0}return v.defineProperty(t.prototype,"length",{get:function(){return this.Pn},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.xn,i=n;16383===n.Bn.length&&(i={Bn:[],On:void 0}),n.Bn.push(t),i!==n&&(this.xn=i,n.On=i),++this.Pn},t.prototype.shift=function(){var t=this.G,n=t,i=this.Dn,e=i+1,r=t.Bn,u=r[i];return 16384===e&&(n=t.On,e=0),--this.Pn,this.Dn=e,t!==n&&(this.G=n),r[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.Dn,i=this.G,e=i.Bn;!(n===e.length&&void 0===i.On||n===e.length&&(n=0,0===(e=(i=i.On).Bn).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.G,n=this.Dn;return t.Bn[n]},t}(),yt=ft("[[CancelSteps]]"),pt=ft("[[PullSteps]]"),At=function(){function t(t){if(!1===te(t))throw new f("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===ne(t))throw new f("This stream has already been locked for exclusive reading by another reader");hn(this,t),this.At=new mt}return v.defineProperty(t.prototype,"closed",{get:function(){return bn(this)?this.vt:nn(Sn("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return bn(this)?void 0===this.ot?nn(dn("cancel")):fn(this,t):nn(Sn("cancel"))},t.prototype.read=function(){return bn(this)?void 0===this.ot?nn(dn("read from")):Tn(this):nn(Sn("read"))},t.prototype.releaseLock=function(){if(!bn(this))throw Sn("releaseLock");if(void 0!==this.ot){if(this.At.length>0)throw new f("Tried to release a reader lock when that reader has pending read() calls un-settled");vn(this)}},t}(),"symbol"==typeof ft.asyncIterator&&((kt={})[ft.asyncIterator]=function(){return this},bt=kt,v.defineProperty(bt,ft.asyncIterator,{enumerable:!1})),Tt={next:function(){if(!1===En(this))return nn(In("next"));var t=this.Tt;return void 0===t.ot?nn(dn("iterate")):on(Tn(t),(function(n){var i=n.done;return i&&vn(t),cn(n.value,i,!0)}))},return:function(t){if(!1===En(this))return nn(In("next"));var n=this.Tt;if(void 0===n.ot)return nn(dn("finish iterating"));if(n.At.length>0)return nn(new f("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Ln){var i=fn(n,t);return vn(n),on(i,(function(){return cn(t,!0,!0)}))}return vn(n),tn(cn(t,!0,!0))}},void 0!==bt&&v.setPrototypeOf(Tt,bt),v.defineProperty(Tt,"next",{enumerable:!1}),v.defineProperty(Tt,"return",{enumerable:!1}),St=ft("[[AbortSteps]]"),Et=ft("[[ErrorSteps]]"),It=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Pn(this);var i=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=Jt(i);void 0===e&&(e=1),function(t,n,i,e){var r=v.create(Ct.prototype),u=Yt(n,"write",1,[r]),s=Yt(n,"close",0,[]),o=Yt(n,"abort",1,[]);Qn(t,r,(function(){return Qt(n,"start",[r])}),u,s,o,i,e)}(this,t,e=Kt(e),r)}return v.defineProperty(t.prototype,"locked",{get:function(){if(!1===Bn(this))throw ii("locked");return On(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Bn(this)?nn(ii("abort")):!0===On(this)?nn(new f("Cannot abort a stream that already has a writer")):xn(this,t)},t.prototype.close=function(){return!1===Bn(this)?nn(ii("close")):!0===On(this)?nn(new f("Cannot close a stream that already has a writer")):!0===Hn(this)?nn(new f("Cannot close an already-closing stream")):Ln(this)},t.prototype.getWriter=function(){if(!1===Bn(this))throw ii("getWriter");return Dn(this)},t}(),Rt=function(){function t(t){if(!1===Bn(t))throw new f("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===On(t))throw new f("This stream has already been locked for exclusive writing by another writer");this.Ut=t,t.It=this;var n,i=t.l;if("writable"===i)!1===Hn(t)&&!0===t.Ot?ci(this):fi(this),ui(this);else if("erroring"===i)hi(this,t.ft),ui(this);else if("closed"===i)fi(this),ui(n=this),ai(n);else{var e=t.ft;hi(this,e),si(this,e)}}return v.defineProperty(t.prototype,"closed",{get:function(){return!1===Vn(this)?nn(ei("closed")):this.vt},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Vn(this))throw ei("desiredSize");if(void 0===this.Ut)throw ri("desiredSize");return t=this.Ut,"errored"===(n=t.l)||"erroring"===n?null:"closed"===n?0:Kn(t.Rt);var t,n},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"ready",{get:function(){return!1===Vn(this)?nn(ei("ready")):this.Yt},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Vn(this)?nn(ei("abort")):void 0===this.Ut?nn(ri("abort")):function(t,n){return xn(t.Ut,n)}(this,t)},t.prototype.close=function(){if(!1===Vn(this))return nn(ei("close"));var t=this.Ut;return void 0===t?nn(ri("close")):!0===Hn(t)?nn(new f("Cannot close an already-closing stream")):Wn(this)},t.prototype.releaseLock=function(){if(!1===Vn(this))throw ei("releaseLock");void 0!==this.Ut&&jn(this)},t.prototype.write=function(t){return!1===Vn(this)?nn(ei("write")):void 0===this.Ut?nn(ri("write to")):Yn(this,t)},t}(),Ct=function(){function t(){throw new f("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1==(!!Wt(n=this)&&!!v.prototype.hasOwnProperty.call(n,"Vt")))throw new f("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var n;"writable"===this.Vt.l&&ni(this,t)},t.prototype[St]=function(t){var n=this.jt(t);return Zn(this),n},t.prototype[Et]=function(){Nn(this)},t}(),Nt="undefined"!=typeof DOMException?DOMException:void 0,Dt=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Nt)?Nt:((t=function(t,n){this.message=t||"",this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=v.create(h.prototype),v.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t),Pt=function(){function t(){throw new f}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===_i(this))throw Ei("desiredSize");return bi(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===_i(this))throw Ei("close");if(!1===Ti(this))throw new f("The stream is not in a state that permits close");pi(this)},t.prototype.enqueue=function(t){if(!1===_i(this))throw Ei("enqueue");if(!1===Ti(this))throw new f("The stream is not in a state that permits enqueue");return Ai(this,t)},t.prototype.error=function(t){if(!1===_i(this))throw Ei("error");ki(this,t)},t.prototype[yt]=function(t){Nn(this);var n=this.cn(t);return yi(this),n},t.prototype[pt]=function(){var t=this.Kt;if(this.St.length>0){var n=Rn(this);return!0===this.hn&&0===this.St.length?(yi(this),ee(t)):gi(this),tn(cn(n,!1,t.ct.ut))}var i=yn(t);return gi(this),i},t}(),Bt=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&d.floor(t)===t},Ot=function(){function t(){throw new f("ReadableStreamBYOBRequest cannot be used directly")}return v.defineProperty(t.prototype,"view",{get:function(){if(!1===Ri(this))throw Wi("view");return this._n},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Ri(this))throw Wi("respond");if(void 0===this.vn)throw new f("This BYOB request has been invalidated");this._n.buffer,function(t,n){if(!1===Gt(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Fi(t,n)}(this.vn,t)},t.prototype.respondWithNewView=function(t){if(!1===Ri(this))throw Wi("respond");if(void 0===this.vn)throw new f("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new f("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.yn.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Fi(t,n.byteLength)}(this.vn,t)},t}(),xt=function(){function t(){throw new f("ReadableByteStreamController constructor cannot be used directly")}return v.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Ii(this))throw qi("byobRequest");if(void 0===this.wn&&this.yn.length>0){var t=this.yn.peek(),n=new g(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=v.create(Ot.prototype);!function(t,n,i){t.vn=n,t._n=i}(i,this,n),this.wn=i}return this.wn},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ii(this))throw qi("desiredSize");return zi(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Ii(this))throw qi("close");if(!0===this.hn)throw new f("The stream has already been closed; do not close it again!");var t=this.fn.l;if("readable"!==t)throw new f("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.fn;if(t.Et>0)t.hn=!0;else{if(t.yn.length>0&&t.yn.peek().bytesFilled>0){var i=new f("Insufficient bytes to fill elements in the given buffer");throw Xi(t,i),i}Hi(t),ee(n)}}(this)},t.prototype.enqueue=function(t){if(!1===Ii(this))throw qi("enqueue");if(!0===this.hn)throw new f("stream is closed or draining");var n=this.fn.l;if("readable"!==n)throw new f("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new f("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.fn,e=n.buffer,r=n.byteOffset,u=n.byteLength,s=e;!0===kn(i)?0===An(i)?Pi(t,s,r,u):pn(i,new g(s,r,u),!1):!0===Yi(i)?(Pi(t,s,r,u),Mi(t)):Pi(t,s,r,u),Ci(t)}(this,t)},t.prototype.error=function(t){if(!1===Ii(this))throw qi("error");Xi(this,t)},t.prototype[yt]=function(t){this.yn.length>0&&(this.yn.peek().bytesFilled=0);Nn(this);var n=this.cn(t);return Hi(this),n},t.prototype[pt]=function(){var t=this.fn;if(this.Et>0){var n=this.St.shift();this.Et-=n.byteLength,xi(this);var i=void 0;try{i=new g(n.buffer,n.byteOffset,n.byteLength)}catch(t){return nn(t)}return tn(cn(i,!1,t.ct.ut))}var e=this.pn;if(void 0!==e){var r=void 0;try{r=new ArrayBuffer(e)}catch(t){return nn(t)}var u={buffer:r,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:g,readerType:"default"};this.yn.push(u)}var s=yn(t);return Ci(this),s},t}(),Lt=function(){function t(t){if(!te(t))throw new f("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Ii(t.bt))throw new f("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(ne(t))throw new f("This stream has already been locked for exclusive reading by another reader");hn(this,t),this.dn=new mt}return v.defineProperty(t.prototype,"closed",{get:function(){return Qi(this)?this.vt:nn(Ki("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Qi(this)?void 0===this.ot?nn(dn("cancel")):fn(this,t):nn(Ki("cancel"))},t.prototype.read=function(t){return Qi(this)?void 0===this.ot?nn(dn("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?nn(new f("view must have non-zero byteLength")):Zi(this,t)):nn(new f("view must be an array buffer view")):nn(Ki("read"))},t.prototype.releaseLock=function(){if(!Qi(this))throw Ki("releaseLock");if(void 0!==this.ot){if(this.dn.length>0)throw new f("Tried to release a reader lock when that reader has pending read() calls un-settled");vn(this)}},t}(),Mt=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),$i(this);var i=n.size,e=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),Vi(this,t,e=Kt(e))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var u=Jt(i);void 0===e&&(e=1),function(t,n,i,e){var r=v.create(Pt.prototype),u=Yt(n,"pull",0,[r]),s=Yt(n,"cancel",1,[]);Si(t,r,(function(){return Qt(n,"start",[r])}),u,s,i,e)}(this,t,e=Kt(e),u)}}return v.defineProperty(t.prototype,"locked",{get:function(){if(!1===te(this))throw ue("locked");return ne(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===te(this)?nn(ue("cancel")):!0===ne(this)?nn(new f("Cannot cancel a stream that already has a reader")):ie(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===te(this))throw ue("getReader");if(void 0===n)return mn(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Lt(t);return i.ut=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,e=t.readable,r=void 0===n?{}:n,u=r.preventClose,s=r.preventAbort,o=r.preventCancel,a=r.signal;if(!1===te(this))throw ue("pipeThrough");if(!1===Bn(i))throw new f("writable argument to pipeThrough must be a WritableStream");if(!1===te(e))throw new f("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==a&&!li(a))throw new f("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===ne(this))throw new f("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===On(i))throw new f("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return an(wi(this,i,u,s,o,a)),e},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,e=i.preventClose,r=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===te(this)?nn(ue("pipeTo")):!1===Bn(t)?nn(new f("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),r=Boolean(r),u=Boolean(u),void 0===s||li(s)?!0===ne(this)?nn(new f("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===On(t)?nn(new f("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):wi(this,t,e,r,u,s):nn(new f("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===te(this))throw ue("tee");var t=function(t,n){var i,e,r,u,s,o=mn(t),a=!1,c=!1,h=!1,f=$t((function(t){s=t}));function v(){return!0===a||(a=!0,an(on(Tn(o),(function(t){if(a=!1,!0===t.done)return!1===c&&pi(r.bt),void(!1===h&&pi(u.bt));var n=t.value,i=n,e=n;!1===c&&Ai(r.bt,i),!1===h&&Ai(u.bt,e)})))),tn(void 0)}function d(){}return r=Ji(d,v,(function(n){if(c=!0,i=n,!0===h){var r=qt([i,e]),u=ie(t,r);s(u)}return f})),u=Ji(d,v,(function(n){if(h=!0,e=n,!0===c){var r=qt([i,e]),u=ie(t,r);s(u)}return f})),sn(o.vt,(function(t){ki(r.bt,t),ki(u.bt,t)})),[r,u]}(this);return qt(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===te(this))throw ue("getIterator");return function(t,n){void 0===n&&(n=!1);var i=mn(t),e=v.create(Tt);return e.Tt=i,e.Ln=Boolean(n),e}(this,i)},t}(),"symbol"==typeof ft.asyncIterator&&v.defineProperty(Mt.prototype,ft.asyncIterator,{value:Mt.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0}),function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(t){return t.byteLength},t}(),Ft=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Ut=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var e=n.size,r=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=Jt(e);if(void 0===r&&(r=1),r=Kt(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=Jt(u);void 0===s&&(s=0),s=Kt(s),se(this,$t((function(t){a=t})),r,o,s,c),function(t,n){var i=v.create(Ht.prototype),e=function(t){try{return de(i,t),tn(void 0)}catch(t){return nn(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new f("transform is not a method");e=function(t){return Zt(r,n,[t,i])}}var u=Yt(n,"flush",0,[i]);!function(t,n,i,e){n.Cn=t,t.Tn=n,n.Nn=i,n.In=e}(t,i,e,u)}(this,t);var h=Qt(t,"start",[this.Tn]);a(h)}return v.defineProperty(t.prototype,"readable",{get:function(){if(!1===oe(this))throw _e("readable");return this.En},enumerable:!0,configurable:!0}),v.defineProperty(t.prototype,"writable",{get:function(){if(!1===oe(this))throw _e("writable");return this.An},enumerable:!0,configurable:!0}),t}(),Ht=function(){function t(){throw new f("TransformStreamDefaultController instances cannot be created directly")}return v.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===fe(this))throw we("desiredSize");return bi(this.Cn.En.bt)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===fe(this))throw we("enqueue");de(this,t)},t.prototype.error=function(t){if(!1===fe(this))throw we("error");var n;n=t,ae(this.Cn,n)},t.prototype.terminate=function(){if(!1===fe(this))throw we("terminate");var t,n;t=this.Cn,!0===Ti(n=t.En.bt)&&pi(n),ce(t,new f("TransformStream terminated"))},t}()}}),me=E({"../../../core/src/util/polyfill/ReadableStream.ts":function(){ge()}});function ye(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function pe(t,n,i){return n&&ye(t.prototype,n),i&&ye(t,i),t}var Ae=E({"../../../web/node_modules/@swc/helpers/esm/_create_class.js":function(){me(),zt()}});function ke(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,e=new Array(n);i<n;i++)e[i]=t[i];return e}var be=E({"../../../web/node_modules/@swc/helpers/esm/_array_like_to_array.js":function(){me(),zt()}});var Te=E({"../../../web/node_modules/@swc/helpers/esm/_array_without_holes.js":function(){me(),zt(),be()}});var Se=E({"../../../web/node_modules/@swc/helpers/esm/_iterable_to_array.js":function(){me(),zt()}});var Ee=E({"../../../web/node_modules/@swc/helpers/esm/_non_iterable_spread.js":function(){me(),zt()}});function Ie(t,n){if(t){if("string"==typeof t)return ke(t,n);var i=v.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ke(t,n):void 0}}var Re=E({"../../../web/node_modules/@swc/helpers/esm/_unsupported_iterable_to_array.js":function(){me(),zt(),be()}});function Ce(t){return function(t){if(Array.isArray(t))return ke(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ie(t)||function(){throw new f("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ne,De,Pe,Be,Oe=E({"../../../web/node_modules/@swc/helpers/esm/_to_consumable_array.js":function(){me(),zt(),Te(),Se(),Ee(),Re()}}),xe=I({"../../node_modules/json-stringify-safe/stringify.js":function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?e.splice(s,1/0,r):e.push(r),~i.indexOf(u)&&(u=n.call(this,r,u))}else i.push(u);return null==t?u:t.call(this,r,u)}}me(),zt(),(n.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}}),Le=I({"../../../core/node_modules/xmlchars/xml/1.0/ed5.js":function(t){me(),zt(),v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");function n(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[32,10,13,9],t.isChar=function(t){return t>=32&&t<=55295||10===t||13===t||9===t||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return 32===t||10===t||13===t||9===t},t.isNameStartChar=n,t.isNameChar=function(t){return n(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}}),Me=I({"../../../core/node_modules/xmlchars/xml/1.1/ed2.js":function(t){me(),zt(),v.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");function n(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[32,10,13,9],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return 32===t||10===t||13===t||9===t},t.isNameStartChar=n,t.isNameChar=function(t){return n(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}}),Fe=I({"../../../core/node_modules/xmlchars/xmlns/1.0/ed3.js":function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}me(),zt(),v.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}}),Ue=I({"../../../core/node_modules/saxes/saxes.js":function(t){me(),zt(),Ae(),Oe(),v.defineProperty(t,"__esModule",{value:!0}),t.SaxesParser=t.EVENTS=void 0;var n=Le(),i=Me(),e=Fe(),r=n.isS,u=n.isChar,s=n.isNameStartChar,o=n.isNameChar,a=n.S_LIST,c=n.NAME_RE,f=i.isChar,d=e.isNCNameStartChar,w=e.isNCNameChar,_=e.NC_NAME_RE,g="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/2000/xmlns/",y={__proto__:null,xml:g,xmlns:m},p={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},A=-1,k=-2,b=13,T=33,S=10,E=60,I=61,R=62,C=63,N=93,D=function(t){return 34===t||39===t},P=[34,39],B=Ce(P).concat([91,R]),O=Ce(P).concat([E,N]),x=[I,C].concat(Ce(a)),L=Ce(a).concat([R,38,E]);function M(t,n,i){switch(n){case"xml":i!==g&&t.fail("xml prefix must be bound to "+g+".");break;case"xmlns":i!==m&&t.fail("xmlns prefix must be bound to "+m+".")}switch(i){case m:t.fail(""===n?"the default namespace may not be set to "+i+".":'may not assign a prefix (even "xmlns") to the URI '+m+".");break;case g:switch(n){case"xml":break;case"":t.fail("the default namespace may not be set to "+i+".");break;default:t.fail("may not assign the xml namespace to another prefix.")}}}var F=function(t){return _.test(t)},U=function(t){return c.test(t)};t.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];var H={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"},X=function(){function t(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;var n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=d,this.nameCheck=w,this.isName=F,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=v.assign({__proto__:null},y);var i=this.opt.additionalNamespaces;null!=i&&(!function(t,n){for(var i=0,e=v.keys(n);i<e.length;i++){var r=e[i];M(t,r,n[r])}}(this,i),v.assign(this.ns,i))}else this.nameStartCheck=s,this.nameCheck=o,this.isName=U,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}var n=t.prototype;return n._init=function(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];var n=this.fragmentOpt;this.state=n?b:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;var i=this.opt.defaultXMLVersion;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new h("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Mn=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=v.create(p),null===(t=this.readyHandler)||void 0===t||t.call(this)},n.on=function(t,n){this[H[t]]=n},n.off=function(t){this[H[t]]=void 0},n.makeError=function(t){var n,i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=this.line+":"+this.column),i.length>0&&(i+=": "),new h(i+t)},n.fail=function(t){var n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this},n.write=function(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");var n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=""+this.carriedFromPrevious+t,this.carriedFromPrevious=void 0);var i=t.length,e=t.charCodeAt(i-1);!n&&(13===e||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));var r=this.stateTable;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this},n.close=function(){return this.write(null)},n.getCode10=function(){var t=this.chunk,n=this.i;if(this.prevI=n,this.i=n+1,n>=t.length)return A;var i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=32||9===i)return i;switch(i){case S:return this.line++,this.column=0,this.positionAtNewLine=this.position,S;case 13:return t.charCodeAt(n+1)===S&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;var e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e},n.getCode11=function(){var t=this.chunk,n=this.i;if(this.prevI=n,this.i=n+1,n>=t.length)return A;var i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&8232!==i||9===i)return i;switch(i){case S:return this.line++,this.column=0,this.positionAtNewLine=this.position,S;case 13:var e=t.charCodeAt(n+1);e!==S&&133!==e||(this.i=n+2);case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;var r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r},n.getCodeNorm=function(){var t=this.getCode();return t===k?S:t},n.unget=function(){this.i=this.prevI,this.column--},n.captureTo=function(t){for(var n=this.i,i=this.chunk;;){var e=this.getCode(),r=e===k,u=r?S:e;if(u===A||t.includes(u))return this.text+=i.slice(n,this.prevI),u;r&&(this.text+=i.slice(n,this.prevI)+"\n",n=this.i)}},n.captureToChar=function(t){for(var n=this.i,i=this.chunk;;){var e=this.getCode();switch(e){case k:this.text+=i.slice(n,this.prevI)+"\n",n=this.i,e=S;break;case A:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}},n.captureNameChars=function(){for(var t=this.chunk,n=this.i;;){var i=this.getCode();if(i===A)return this.name+=t.slice(n),A;if(!o(i))return this.name+=t.slice(n,this.prevI),i===k?S:i}},n.skipSpaces=function(){for(;;){var t=this.getCodeNorm();if(t===A||!r(t))return t}},n.setXMLVersion=function(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=u,this.getCode=this.getCode10):(this.isChar=f,this.getCode=this.getCode11)},n.sBegin=function(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=1},n.sBeginWhitespace=function(){var t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case E:if(this.state=15,0!==this.text.length)throw new h("no-empty text at start");break;case A:break;default:this.unget(),this.state=b,this.xmlDeclPossible=!1}},n.sDoctype=function(){var t,n=this.captureTo(B);switch(n){case R:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=b,this.doctype=!0;break;case A:break;default:this.text+=String.fromCodePoint(n),91===n?this.state=4:D(n)&&(this.state=3,this.q=n)}},n.sDoctypeQuote=function(){var t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=2)},n.sDTD=function(){var t=this.captureTo(O);t!==A&&(this.text+=String.fromCodePoint(t),t===N?this.state=2:t===E?this.state=6:D(t)&&(this.state=5,this.q=t))},n.sDTDQuoted=function(){var t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=4,this.q=null)},n.sDTDOpenWaka=function(){var t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case 33:this.state=7,this.openWakaBang="";break;case C:this.state=11;break;default:this.state=4}},n.sDTDOpenWakaBang=function(){var t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?8:4,this.openWakaBang="")},n.sDTDComment=function(){this.captureToChar(45)&&(this.text+="-",this.state=9)},n.sDTDCommentEnding=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=45===t?10:8},n.sDTDCommentEnded=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===R?this.state=4:(this.fail("malformed comment."),this.state=8)},n.sDTDPI=function(){this.captureToChar(C)&&(this.text+="?",this.state=12)},n.sDTDPIEnding=function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===R&&(this.state=4)},n.sText=function(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()},n.sEntity=function(){var t=this.i,n=this.chunk;t:for(;;)switch(this.getCode()){case k:this.entity+=n.slice(t,this.prevI)+"\n",t=this.i;break;case 59:var i=this.entityReturnState,e=this.entity+n.slice(t,this.prevI);this.state=i;var r=void 0;""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===b&&void 0===this.textHandler||(this.text+=r);break t;case A:this.entity+=n.slice(t);break t}},n.sOpenWaka=function(){var t=this.getCode();if(s(t))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(t){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case C:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=b,this.xmlDeclPossible=!1}},n.sOpenWakaBang=function(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}},n.sComment=function(){this.captureToChar(45)&&(this.state=18)},n.sCommentEnding=function(){var t,n=this.getCodeNorm();45===n?(this.state=19,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(n),this.state=17)},n.sCommentEnded=function(){var t=this.getCodeNorm();t!==R?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(t),this.state=17):this.state=b},n.sCData=function(){this.captureToChar(N)&&(this.state=21)},n.sCDataEnding=function(){var t=this.getCodeNorm();t===N?this.state=22:(this.text+="]"+String.fromCodePoint(t),this.state=20)},n.sCDataEnding2=function(){var t,n=this.getCodeNorm();switch(n){case R:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=b;break;case N:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(n),this.state=20}},n.sPIFirstChar=function(){var t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=24):t===C||r(t)?(this.fail("processing instruction without a target."),this.state=t===C?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=24)},n.sPIRest=function(){for(var t=this.chunk,n=this.i;;){var i=this.getCodeNorm();if(i===A)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);var e=i===C;e||r(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?T:27):this.state=e?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}},n.sPIBody=function(){if(0===this.text.length){var t=this.getCodeNorm();t===C?this.state=26:r(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(C)&&(this.state=26)},n.sPIEnding=function(){var t,n=this.getCodeNorm();if(n===R){var i=this.piTarget;"xml"===i.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:i,body:this.text}),this.piTarget=this.text="",this.state=b}else n===C?this.text+="?":(this.text+="?"+String.fromCodePoint(n),this.state=25);this.xmlDeclPossible=!1},n.sXMLDeclNameStart=function(){var t=this.skipSpaces();t!==C?t!==A&&(this.state=28,this.name=String.fromCodePoint(t)):this.state=T},n.sXMLDeclName=function(){var t=this.captureTo(x);if(t===C)return this.state=T,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(r(t)||t===I){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail("expected the name "+this.xmlDeclExpects[0]+".");break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=t===I?30:29}},n.sXMLDeclEq=function(){var t=this.getCodeNorm();if(t===C)return this.state=T,void this.fail("XML declaration is incomplete.");r(t)||(t!==I&&this.fail("value required."),this.state=30)},n.sXMLDeclValueStart=function(){var t=this.getCodeNorm();if(t===C)return this.state=T,void this.fail("XML declaration is incomplete.");r(t)||(D(t)?this.q=t:(this.fail("value must be quoted."),this.q=32),this.state=31)},n.sXMLDeclValue=function(){var t=this.captureTo([this.q,C]);if(t===C)return this.state=T,this.text="",void this.fail("XML declaration is incomplete.");if(t!==A){var n=this.text;switch(this.text="",this.name){case"version":this.xmlDeclExpects=["encoding","standalone"];var i=n;this.xmlDecl.version=i,/^1\.[0-9]+$/.test(i)?this.opt.forceXMLVersion||this.setXMLVersion(i):this.fail("version number must match /^1\\.[0-9]+$/.");break;case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=32}},n.sXMLDeclSeparator=function(){var t=this.getCodeNorm();t!==C?(r(t)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=T},n.sXMLDeclEnding=function(){var t;this.getCodeNorm()===R?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=b):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1},n.sOpenTag=function(){var t,n=this.captureNameChars();if(n!==A){var i=this.tag={name:this.name,attributes:v.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=v.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case R:this.openTag();break;case 47:this.state=35;break;default:r(n)||this.fail("disallowed character in tag name."),this.state=36}}},n.sOpenTagSlash=function(){this.getCode()===R?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)},n.sAttrib=function(){var t=this.skipSpaces();t!==A&&(s(t)?(this.unget(),this.state=37):t===R?this.openTag():47===t?this.state=35:this.fail("disallowed character in attribute name."))},n.sAttribName=function(){var t=this.captureNameChars();t===I?this.state=39:r(t)?this.state=38:t===R?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==A&&this.fail("disallowed character in attribute name.")},n.sAttribNameSawWhite=function(){var t=this.skipSpaces();switch(t){case A:return;case I:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",t===R?this.openTag():s(t)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}},n.sAttribValue=function(){var t=this.getCodeNorm();D(t)?(this.q=t,this.state=40):r(t)||(this.fail("unquoted attribute value."),this.state=42,this.unget())},n.sAttribValueQuoted=function(){for(var t=this.q,n=this.chunk,i=this.i;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=n.slice(i,this.prevI),this.state=14,void(this.entityReturnState=40);case S:case k:case 9:this.text+=n.slice(i,this.prevI)+" ",i=this.i;break;case E:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case A:return void(this.text+=n.slice(i))}},n.sAttribValueClosed=function(){var t=this.getCodeNorm();r(t)?this.state=36:t===R?this.openTag():47===t?this.state=35:s(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")},n.sAttribValueUnquoted=function(){var t=this.captureTo(L);switch(t){case 38:this.state=14,this.entityReturnState=42;break;case E:this.fail("disallowed character.");break;case A:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===R?this.openTag():this.state=36}},n.sCloseTag=function(){var t=this.captureNameChars();t===R?this.closeTag():r(t)?this.state=44:t!==A&&this.fail("disallowed character in closing tag.")},n.sCloseTagSawWhite=function(){switch(this.skipSpaces()){case R:this.closeTag();break;case A:break;default:this.fail("disallowed character in closing tag.")}},n.handleTextInRoot=function(){var t=this.i,n=this.forbiddenState,i=this.chunk,e=this.textHandler;t:for(;;)switch(this.getCode()){case E:if(this.state=15,void 0!==e){var r=this.text,u=i.slice(t,this.prevI);0!==r.length?(e(r+u),this.text=""):0!==u.length&&e(u)}n=0;break t;case 38:this.state=14,this.entityReturnState=b,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=0;break t;case N:switch(n){case 0:n=1;break;case 1:n=2;break;case 2:break;default:throw new h("impossible state")}break;case R:2===n&&this.fail('the string "]]>" is disallowed in char data.'),n=0;break;case k:void 0!==e&&(this.text+=i.slice(t,this.prevI)+"\n"),t=this.i,n=0;break;case A:void 0!==e&&(this.text+=i.slice(t));break t;default:n=0}this.forbiddenState=n},n.handleTextOutsideRoot=function(){var t=this.i,n=this.chunk,i=this.textHandler,e=!1;t:for(;;){var u=this.getCode();switch(u){case E:if(this.state=15,void 0!==i){var s=this.text,o=n.slice(t,this.prevI);0!==s.length?(i(s+o),this.text=""):0!==o.length&&i(o)}break t;case 38:this.state=14,this.entityReturnState=b,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case k:void 0!==i&&(this.text+=n.slice(t,this.prevI)+"\n"),t=this.i;break;case A:void 0!==i&&(this.text+=n.slice(t));break t;default:r(u)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))},n.pushAttribNS=function(t,n){var i,e=this.qname(t),r=e.prefix,u=e.local,s={name:t,prefix:r,local:u,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===r){var o=n.trim();"1.0"===this.currentXMLVersion&&""===o&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[u]=o,M(this,u,o)}else if("xmlns"===t){var a=n.trim();this.topNS[""]=a,M(this,"",a)}},n.pushAttribPlain=function(t,n){var i,e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)},n.end=function(){var t,n;this.sawRoot||this.fail("document must contain a root element.");for(var i=this.tags;i.length>0;){var e=i.pop();this.fail("unclosed tag: "+e.name)}0!==this.state&&this.state!==b&&this.fail("unexpected end.");var r=this.text;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.Mn=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this},n.resolve=function(t){var n,i,e=this.topNS[t];if(void 0!==e)return e;for(var r=this.tags,u=r.length-1;u>=0;u--)if(void 0!==(e=r[u].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)},n.qname=function(t){var n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};var i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail("malformed name: "+t+"."),{prefix:e,local:i}},n.processAttribsNS=function(){var t,n=this.attribList,i=this.tag,e=this.qname(i.name),r=e.prefix,u=e.local;i.prefix=r,i.local=u;var s=i.uri=null!==(t=this.resolve(r))&&void 0!==t?t:"";if(""!==r&&("xmlns"===r&&this.fail('tags may not have "xmlns" as prefix.'),""===s&&(this.fail("unbound namespace prefix: "+JSON.stringify(r)+"."),i.uri=r)),0!==n.length){for(var o=i.attributes,a=new Set,c=0;c<n.length;c++){var h=n[c],f=h.name,v=h.prefix,d=h.local,l=void 0,w=void 0;""===v?(l="xmlns"===f?m:"",w=f):(void 0===(l=this.resolve(v))&&(this.fail("unbound namespace prefix: "+JSON.stringify(v)+"."),l=v),w="{"+l+"}"+d),a.has(w)&&this.fail("duplicate attribute: "+w+"."),a.add(w),h.uri=l,o[f]=h}this.attribList=[]}},n.processAttribsPlain=function(){for(var t=this.attribList,n=this.tag.attributes,i=0;i<t.length;i++){var e=t[i],r=e.name,u=e.value;void 0!==n[r]&&this.fail("duplicate attribute: "+r+"."),n[r]=u}this.attribList=[]},n.openTag=function(){var t;this.processAttribs();var n=this.tags,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=b,this.name=""},n.openSelfClosingTag=function(){var t,n,i;this.processAttribs();var e=this.tags,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=b,this.name=""},n.closeTag=function(){var t=this.tags,n=this.name;if(this.state=b,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");for(var i=this.closeTagHandler,e=t.length;e-- >0;){var r=this.tag=t.pop();if(this.topNS=r.ns,null==i||i(r),r.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail("unmatched closing tag: "+n+"."),this.text+="</"+n+">")},n.parseEntity=function(t){if("#"!==t[0]){var n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),"&"+t+";")}var i=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?i=l(t.slice(2),16):/^#[0-9]+$/.test(t)&&(i=l(t.slice(1),10)),this.isChar(i)?String.fromCodePoint(i):(this.fail("malformed character entity."),"&"+t+";")},pe(t,[{key:"closed",get:function(){return this.Mn}},{key:"position",get:function(){return this.chunkPosition+this.i}},{key:"columnIndex",get:function(){return this.position-this.positionAtNewLine}}]),t}();t.SaxesParser=X}}),He={};function Xe(t,n){return(Xe=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function ze(t,n){if("function"!=typeof n&&null!==n)throw new f("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&Xe(t,n)}!function(t,n){for(var i in n)A(t,i,{get:n[i],enumerable:!0})}(He,{ChromelessPlayer:function(){return uM},ErrorCategory:function(){return yw},ErrorCode:function(){return gw},Player:function(){return uM},cache:function(){return EQ},createGlobals:function(){return zW},features:function(){return oM},getCueMirrorMap:function(){return HW},getGlobalId:function(){return XW},getSdkEventBridge:function(){return UW},playerSuiteVersion:function(){return cM},players:function(){return hM},registerContentProtectionIntegration:function(){return fM},utils:function(){return sM},version:function(){return aM}}),n.exports=(Ne=He,R(A({},"__esModule",{value:!0}),Ne)),me(),zt(),me(),zt(),me(),zt(),Ae(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),Ae(),Oe(),me(),zt(),Oe(),me(),zt(),Ae(),me(),zt(),(Be=Pe||(Pe={})).Fn="web",Be.Un="android",Be.Hn="android-tv",Be.Xn="ios",Be.zn="tvos",Be.Vn="chromecast";var Ve=u?u.userAgent:"",We=Ve.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),qe=Ve.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Ge=Ve.match(/Android ([0-9\.]+)/i),je=Ve.match(/Windows NT ([0-9\.]+)/i),Ye=Ve.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Qe=Ve.match(/Firefox\/([0-9\.]+)/i),Ze=Ve.match(/OPR\/(\d+\.\d+)/i),Ke=Ve.match(/Tizen ([0-9\.]+)/i),Je=Ve.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),$e=function(){function n(){this.Wn=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||u&&u.msMaxTouchPoints),this.qn=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(Ve)||/(macintosh|mac(?=_powerpc)\s)/i.test(Ve),this.Gn=/Windows NT/i.test(Ve),this.jn=je?w(je[1]):0,this.Yn=/Android/i.test(Ve),this.Qn=Ge?w(Ge[1]):0,this.Zn=/windows phone (8|8\.1)/i.test(Ve),this.Kn=/iPhone/i.test(Ve),this.Jn=/iPad/i.test(Ve),this.$n=this.qn&&this.Wn&&!this.Jn,this.ni=/iPod/i.test(Ve),this.ei=/Mobile Safari/i.test(Ve),this.ri=/EOS.*STB/i.test(Ve),this.ui=(this.Kn||this.Jn||this.$n||this.ni)&&!this.Zn,this.oi=Je?w(Je[2]):0,this.ai=this.Zn||this.ui||this.Yn||this.ei,this.ci=/CriOS/i.test(Ve),this.di=Boolean(t.chrome&&/google/i.test(u.vendor))||this.ci,this.wi=this.di&&/Edg\//i.test(u.userAgent),this._i=qe?l(qe[1],10):0,this.gi=Boolean(t.chrome||/Chrome/i.test(Ve)||/CriOS/i.test(Ve)),this.Ai=We?l(We[1],10):0,this.Ti=/SMART-TV.*Tizen/i.test(Ve),this.Si=Ke?w(Ke[1]):0,this.Ei=/webos|web0s/i.test(Ve),this.Ii=/VIZIO/i.test(Ve),this.Ri=/Edge\/\d+/i.test(Ve),this.Ci=/Trident/i.test(Ve),this.Ni=this.Ci&&!t.ActiveXObject&&"ActiveXObject"in t,this.Di=/Vivaldi/i.test(Ve),this.Pi=/Firefox/i.test(Ve)&&!/Seamonkey/i.test(Ve),this.Bi=Qe?w(Qe[1]):0,this.Oi=/Safari/i.test(Ve)&&!/Chrome/i.test(Ve)&&!this.Zn&&!this.Ti,this.xi=Ye?w(Ye[2]):0,this.Li=Boolean(Ze),this.Mi=Ze?w(Ze[1]):0,this.Fi=/CrKey/.test(Ve),this.Ui=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv|vizio)\b/i.test(Ve),this.Hi="ios"===Pe.Hn,this.Xi="ios"===Pe.Un,this.zi=this.Xi||this.Hi,this.Vi="ios"===Pe.Xn,this.Wi="ios"===Pe.zn,this.qi="ios"===Pe.Vn}return pe(n,[{key:"Gi",get:function(){return this.Wn}},{key:"ji",get:function(){return this.qn}},{key:"Yi",get:function(){return this.Gn}},{key:"Qi",get:function(){return this.jn}},{key:"Zi",get:function(){return this.Yn}},{key:"Ki",get:function(){return this.Qn}},{key:"Ji",get:function(){return this.Zn}},{key:"$i",get:function(){return this.Kn}},{key:"re",get:function(){return this.Jn}},{key:"ue",get:function(){return this.$n}},{key:"oe",get:function(){return this.ni}},{key:"fe",get:function(){return this.ui}},{key:"we",get:function(){return this.oi}},{key:"_e",get:function(){return this.ri}},{key:"me",get:function(){return this.ei}},{key:"ye",get:function(){return this.ai}},{key:"pe",get:function(){return this.ci}},{key:"Ae",get:function(){return this.di}},{key:"ke",get:function(){return this.Ai}},{key:"Te",get:function(){return this.wi}},{key:"Se",get:function(){return this._i}},{key:"Ee",get:function(){return this.Ti}},{key:"Ie",get:function(){return this.Si}},{key:"Re",get:function(){return this.Ei}},{key:"Ce",get:function(){return this.Ii}},{key:"Ne",get:function(){return this.Ri}},{key:"De",get:function(){return this.Ci}},{key:"Pe",get:function(){return this.Ni}},{key:"Be",get:function(){return this.Di}},{key:"Oe",get:function(){return this.Pi}},{key:"xe",get:function(){return this.Bi}},{key:"Le",get:function(){return this.Oi}},{key:"Me",get:function(){return this.xi}},{key:"Fe",get:function(){return this.Li}},{key:"Ue",get:function(){return this.Mi}},{key:"He",get:function(){return this.Fi}},{key:"Xe",get:function(){return this.Ui}},{key:"ze",get:function(){return!(!this.Re&&!this.Ee)&&this.ke<=56}},{key:"Ve",get:function(){return this.Hi}},{key:"We",get:function(){return this.Xi}},{key:"qe",get:function(){return this.zi}},{key:"Ge",get:function(){return this.Vi}},{key:"je",get:function(){return this.Wi}},{key:"Ye",get:function(){return this.qi}},{key:"Qe",get:function(){return this.gi}}]),n}();$e.Ze=new $e;var tr=$e.Ze;me(),zt();var nr={}.hasOwnProperty,ir={}.toString;function er(t){return null!=t}function rr(t){return void 0===t}var ur=Array.isArray||function(t){return"[object Array]"===ir.call(t)};function sr(t){return or(t)&&nr.call(t,"length")&&dr(t.length)}function or(t){return"object"==typeof t&&null!==t}function ar(t){return or(t)&&t.constructor&&t.constructor===v}function cr(t){return"string"==typeof t}function hr(t){return"boolean"==typeof t}function fr(t){return Boolean(t)&&"function"==typeof t.then}function vr(t){return"[object Date]"===ir.call(t)}function dr(t){return"number"==typeof t}me(),zt(),Oe();var lr=function(){},wr=function(t){return t};function _r(t,n,i){var e;return function(){for(var r=arguments.length,u=new Array(r),s=0;s<r;s++)u[s]=arguments[s];var o=this,a=function(){e=void 0,i||t.apply(o,u)},c=i&&!e;void 0!==e&&De.Ke(e),e=De.Je(a,n),c&&t.apply(o,u)}}var gr=!(tr.De&&!tr.Pe),mr=t.console;function yr(t){if(or(t))try{return JSON.stringify(t)}catch(t){}return t}function pr(t){return t.map(yr).join(" ")}function Ar(t){var n=mr&&mr[t];return n?n.bind&&gr?n.bind(mr):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];mr[t](pr(i))}:void 0}var kr,br=Ar("log")||lr,Tr=Ar("warn")||br.bind(void 0,"WARNING:"),Sr=Ar("error")||br.bind(void 0,"ERROR:"),Er=(kr=mr&&mr.assert)?kr.bind&&gr?kr.bind(mr):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];mr.assert(t,pr(i))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];t||Sr.apply(void 0,["Assertion failed:"].concat(Ce(i)))};me(),zt(),me(),zt(),me(),zt();var Ir=null;try{Ir=new WebAssembly.Instance(new WebAssembly.Module(new g([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Rr(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Cr(t){return!0===(t&&t.$e)}function Nr(t){var n=d.clz32(t&-t);return t?31-n:n}Rr.prototype.$e,v.defineProperty(Rr.prototype,"$e",{value:!0}),Rr.isLong=Cr;var Dr={},Pr={};function Br(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=Pr[t])?e:(i=xr(t,0,!0),r&&(Pr[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=Dr[t])?e:(i=xr(t,t<0?-1:0,!1),r&&(Dr[t]=i),i)}function Or(t,n){if(_(t))return n?Wr:Vr;if(n){if(t<0)return Wr;if(t>=Hr)return Qr}else{if(t<=-Xr)return Zr;if(t+1>=Xr)return Yr}return t<0?Or(-t,n).neg():xr(t%Ur|0,t/Ur|0,n)}function xr(t,n,i){return new Rr(t,n,i)}Rr.fromInt=Br,Rr.fromNumber=Or,Rr.fromBits=xr;var Lr=d.pow;function Mr(t,n,i){if(0===t.length)throw h("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?Wr:Vr;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw h("interior hyphen");if(0===e)return Mr(t.substring(1),n,i).neg();for(var r=Or(Lr(i,8)),u=Vr,s=0;s<t.length;s+=8){var o=d.min(8,t.length-s),a=l(t.substring(s,s+o),i);if(o<8){var c=Or(Lr(i,o));u=u.mul(c).add(Or(a))}else u=(u=u.mul(r)).add(Or(a))}return u.unsigned=n,u}function Fr(t,n){return"number"==typeof t?Or(t,n):"string"==typeof t?Mr(t,n):xr(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Rr.fromString=Mr,Rr.fromValue=Fr;var Ur=4294967296,Hr=Ur*Ur,Xr=Hr/2,zr=Br(1<<24),Vr=Br(0);Rr.ZERO=Vr;var Wr=Br(0,!0);Rr.UZERO=Wr;var qr=Br(1);Rr.ONE=qr;var Gr=Br(1,!0);Rr.UONE=Gr;var jr=Br(-1);Rr.NEG_ONE=jr;var Yr=xr(-1,2147483647,!1);Rr.MAX_VALUE=Yr;var Qr=xr(-1,-1,!0);Rr.MAX_UNSIGNED_VALUE=Qr;var Zr=xr(0,-2147483648,!1);Rr.MIN_VALUE=Zr;var Kr=Rr.prototype;Kr.toInt=function(){return this.unsigned?this.low>>>0:this.low},Kr.toNumber=function(){return this.unsigned?(this.high>>>0)*Ur+(this.low>>>0):this.high*Ur+(this.low>>>0)},Kr.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Zr)){var n=Or(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=Or(Lr(t,6),this.unsigned),u=this,s="";;){var o=u.div(r),a=(u.sub(o.mul(r)).toInt()>>>0).toString(t);if((u=o).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}},Kr.getHighBits=function(){return this.high},Kr.getHighBitsUnsigned=function(){return this.high>>>0},Kr.getLowBits=function(){return this.low},Kr.getLowBitsUnsigned=function(){return this.low>>>0},Kr.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Zr)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Kr.isZero=function(){return 0===this.high&&0===this.low},Kr.eqz=Kr.isZero,Kr.isNegative=function(){return!this.unsigned&&this.high<0},Kr.isPositive=function(){return this.unsigned||this.high>=0},Kr.isOdd=function(){return 1==(1&this.low)},Kr.isEven=function(){return 0==(1&this.low)},Kr.equals=function(t){return Cr(t)||(t=Fr(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Kr.eq=Kr.equals,Kr.notEquals=function(t){return!this.eq(t)},Kr.neq=Kr.notEquals,Kr.ne=Kr.notEquals,Kr.lessThan=function(t){return this.comp(t)<0},Kr.lt=Kr.lessThan,Kr.lessThanOrEqual=function(t){return this.comp(t)<=0},Kr.lte=Kr.lessThanOrEqual,Kr.le=Kr.lessThanOrEqual,Kr.greaterThan=function(t){return this.comp(t)>0},Kr.gt=Kr.greaterThan,Kr.greaterThanOrEqual=function(t){return this.comp(t)>=0},Kr.gte=Kr.greaterThanOrEqual,Kr.ge=Kr.greaterThanOrEqual,Kr.compare=function(t){if(Cr(t)||(t=Fr(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Kr.comp=Kr.compare,Kr.negate=function(){return!this.unsigned&&this.eq(Zr)?Zr:this.not().add(qr)},Kr.neg=Kr.negate,Kr.add=function(t){Cr(t)||(t=Fr(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=0,c=0,h=0,f=0;return h+=(f+=r+(65535&t.low))>>>16,c+=(h+=e+o)>>>16,a+=(c+=i+s)>>>16,a+=n+u,xr((h&=65535)<<16|(f&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Kr.subtract=function(t){return Cr(t)||(t=Fr(t)),this.add(t.neg())},Kr.sub=Kr.subtract,Kr.multiply=function(t){if(this.isZero())return this;if(Cr(t)||(t=Fr(t)),Ir)return xr(Ir.mul(this.low,this.high,t.low,t.high),Ir.get_high(),this.unsigned);if(t.isZero())return this.unsigned?Wr:Vr;if(this.eq(Zr))return t.isOdd()?Zr:Vr;if(t.eq(Zr))return this.isOdd()?Zr:Vr;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(zr)&&t.lt(zr))return Or(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=65535&t.low,c=0,h=0,f=0,v=0;return f+=(v+=r*a)>>>16,h+=(f+=e*a)>>>16,f&=65535,h+=(f+=r*o)>>>16,c+=(h+=i*a)>>>16,h&=65535,c+=(h+=e*o)>>>16,h&=65535,c+=(h+=r*s)>>>16,c+=n*a+i*o+e*s+r*u,xr((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},Kr.mul=Kr.multiply,Kr.divide=function(t){if(Cr(t)||(t=Fr(t)),t.isZero())throw h("division by zero");var n,i,e;if(Ir)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?xr((this.unsigned?Ir.div_u:Ir.div_s)(this.low,this.high,t.low,t.high),Ir.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Wr:Vr;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Wr;if(t.gt(this.shru(1)))return Gr;e=Wr}else{if(this.eq(Zr))return t.eq(qr)||t.eq(jr)?Zr:t.eq(Zr)?qr:(n=this.shr(1).div(t).shl(1)).eq(Vr)?t.isNegative()?qr:jr:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(Zr))return this.unsigned?Wr:Vr;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=Vr}for(i=this;i.gte(t);){n=d.max(1,d.floor(i.toNumber()/t.toNumber()));for(var r=d.ceil(d.log(n)/d.LN2),u=r<=48?1:Lr(2,r-48),s=Or(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=Or(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=qr),e=e.add(s),i=i.sub(o)}return e},Kr.div=Kr.divide,Kr.modulo=function(t){return Cr(t)||(t=Fr(t)),Ir?xr((this.unsigned?Ir.rem_u:Ir.rem_s)(this.low,this.high,t.low,t.high),Ir.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Kr.mod=Kr.modulo,Kr.rem=Kr.modulo,Kr.not=function(){return xr(~this.low,~this.high,this.unsigned)},Kr.countLeadingZeros=function(){return this.high?d.clz32(this.high):d.clz32(this.low)+32},Kr.clz=Kr.countLeadingZeros,Kr.countTrailingZeros=function(){return this.low?Nr(this.low):Nr(this.high)+32},Kr.ctz=Kr.countTrailingZeros,Kr.and=function(t){return Cr(t)||(t=Fr(t)),xr(this.low&t.low,this.high&t.high,this.unsigned)},Kr.or=function(t){return Cr(t)||(t=Fr(t)),xr(this.low|t.low,this.high|t.high,this.unsigned)},Kr.xor=function(t){return Cr(t)||(t=Fr(t)),xr(this.low^t.low,this.high^t.high,this.unsigned)},Kr.shiftLeft=function(t){return Cr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?xr(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):xr(0,this.low<<t-32,this.unsigned)},Kr.shl=Kr.shiftLeft,Kr.shiftRight=function(t){return Cr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?xr(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):xr(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Kr.shr=Kr.shiftRight,Kr.shiftRightUnsigned=function(t){return Cr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?xr(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):xr(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Kr.shru=Kr.shiftRightUnsigned,Kr.shr_u=Kr.shiftRightUnsigned,Kr.rotateLeft=function(t){var n;return Cr(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?xr(this.high,this.low,this.unsigned):t<32?(n=32-t,xr(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),xr(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Kr.rotl=Kr.rotateLeft,Kr.rotateRight=function(t){var n;return Cr(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?xr(this.high,this.low,this.unsigned):t<32?(n=32-t,xr(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),xr(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Kr.rotr=Kr.rotateRight,Kr.toSigned=function(){return this.unsigned?xr(this.low,this.high,!1):this},Kr.toUnsigned=function(){return this.unsigned?this:xr(this.low,this.high,!0)},Kr.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Kr.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Kr.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Rr.fromBytes=function(t,n,i){return i?Rr.fromBytesLE(t,n):Rr.fromBytesBE(t,n)},Rr.fromBytesLE=function(t,n){return new Rr(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Rr.fromBytesBE=function(t,n){return new Rr(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Jr=Rr;function $r(t,n){return t.lessThan(n)?t:n}me(),zt();var tu=9007199254740991,nu=d.pow(2,-52);function iu(t,n,i){return d.min(d.max(t,n),i)}function eu(t,n,i){return t===n||d.abs(t-n)<=i}function ru(t){return t!=t}function uu(t,n){return t===n||ru(t)&&ru(n)}function su(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function ou(t){return!_(t.getTime())}function au(){return Date.now()||(new Date).getTime()}function cu(t){return t/1e3}function hu(t){return 1e3*t}var fu,vu,du=1/6,lu=Jr.fromNumber(tu);function wu(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(lu))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function _u(t){return 1===t.ir}function gu(t){return 3===t.ir}function mu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}me(),zt(),Ae(),me(),zt(),(vu=fu||(fu={}))[vu.er=1]="er",vu[vu.rr=2]="rr",vu[vu.dr=3]="dr",vu[vu.wr=4]="wr",vu[vu._r=9]="_r",me(),zt(),me(),zt(),me(),zt(),Ae();var yu=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];h.apply(this,n)};(yu.prototype=v.create(h.prototype)).constructor=yu;var pu=function(t){function n(n,i){var e;return(e=t.call(this)||this).message=n||"Unknown error",e.cause=i,h.captureStackTrace&&h.captureStackTrace(mu(e),e.constructor),e}return ze(n,t),pe(n,[{key:"name",get:function(){return"BaseError"}}]),n}(yu),Au=function(t){function n(n){return t.call(this,"Invalid XML",n)}return ze(n,t),n}(pu),ku=function(){function t(){}return t.prototype.gr=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Au(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Au;return new Cu(n)},t}(),bu=function(){function t(t){this.yr=t}var n=t.prototype;return n.pr=function(t){return this.yr.isEqualNode(t.yr)},n.Ar=function(n){return new t(this.yr.cloneNode(n))},pe(t,[{key:"ir",get:function(){return fu.rr}},{key:"Tr",get:function(){var t;return null!=(t=this.yr.localName)?t:Pu(this.yr.nodeName)}},{key:"Sr",get:function(){return this.yr.nodeName}},{key:"Er",get:function(){var t;return null!=(t=this.yr.namespaceURI)?t:void 0}},{key:"Ir",get:function(){var t;return null!=(t=this.yr.prefix)?t:void 0}},{key:"Rr",get:function(){return this.yr.nodeValue}}]),t}(),Tu=function(){function t(t){this.Cr=void 0,this.Nr=t}var n=t.prototype;return n.Dr=function(t){return this.Pr.filter((function(n){return Nu(n)&&n.Br===t}))},n.Or=function(t,n){return this.Pr.filter((function(i){return Nu(i)&&i.Tr===n&&i.Er===t}))},n.Lr=function(t){this.Nr.appendChild(t.Mr),this.Cr&&this.Cr.push(t)},n.pr=function(t){return this.Nr.isEqualNode(t.Mr)},pe(t,[{key:"Pr",get:function(){return void 0===this.Cr&&(this.Cr=function(t){for(var n=[],i=0;i<t.length;i++){var e=Du(t.item(i));e&&n.push(e)}return n}(this.Nr.childNodes)),this.Cr}},{key:"Fr",get:function(){return this.Pr.filter(Nu)}},{key:"Mr",get:function(){return this.Nr}}]),t}(),Su=function(t){function n(n){return t.call(this,n)}ze(n,t);var i=n.prototype;return i.Ur=function(t){if(this.Nr.hasAttribute(t))return this.Nr.getAttribute(t)},i.Hr=function(t,n){if(this.Nr.hasAttributeNS(t,n))return this.Nr.getAttributeNS(t,n)},i.Xr=function(t){this.Nr.removeAttribute(t)},i.zr=function(t,n){this.Nr.removeAttributeNS(t,n)},i.Vr=function(t,n){this.Nr.setAttribute(t,n)},i.Wr=function(t,n,i){this.Nr.setAttributeNS(t,n,i)},i.Ar=function(t){return new n(this.Nr.cloneNode(t))},pe(n,[{key:"ir",get:function(){return fu.er}},{key:"Tr",get:function(){var t;return null!=(t=this.Nr.localName)?t:Pu(this.Nr.nodeName)}},{key:"Er",get:function(){var t;return null!=(t=this.Nr.namespaceURI)?t:void 0}},{key:"Ir",get:function(){var t;return null!=(t=this.Nr.prefix)?t:void 0}},{key:"Br",get:function(){return this.Nr.nodeName}},{key:"qr",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new bu(t.item(i)));return n}(this.Nr.attributes)}},{key:"Gr",get:function(){return this.Nr.textContent}}]),n}(Tu),Eu=function(){function t(t){this.Nr=t}return t.prototype.pr=function(t){return this.jr===t.jr},pe(t,[{key:"jr",get:function(){return this.Nr.nodeValue}},{key:"Mr",get:function(){return this.Nr}}]),t}(),Iu=function(t){function n(n){return t.call(this,n)}return ze(n,t),n.prototype.Ar=function(t){return new n(this.Nr.cloneNode(t))},pe(n,[{key:"ir",get:function(){return fu.dr}}]),n}(Eu),Ru=function(t){function n(n){return t.call(this,n)}return ze(n,t),n.prototype.Ar=function(t){return new n(this.Nr.cloneNode(t))},pe(n,[{key:"ir",get:function(){return fu.wr}}]),n}(Eu),Cu=function(t){function n(n){return t.call(this,n)}return ze(n,t),n.prototype.Ar=function(t){return new n(this.Nr.cloneNode(t))},pe(n,[{key:"ir",get:function(){return fu._r}},{key:"Yr",get:function(){return new Su(this.Nr.documentElement)}}]),n}(Tu);function Nu(t){return _u(t)}function Du(t){switch(t.nodeType){case fu.er:return new Su(t);case fu.dr:return new Iu(t);case fu.wr:return new Ru(t)}}function Pu(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function Bu(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function Ou(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){xu(t,n,r,e);var u=t;t=e,e=u}return t}(t,n);return i!==t&&xu(i,null,t.length,t),t}function xu(t,n,i,e){var r,u,s,o,a,c=t.length,h=0,f=2*i;for(r=0;r<c;r+=f)for(s=(u=r+i)+i,u>c&&(u=c),s>c&&(s=c),o=r,a=u;;)if(o<u&&a<s)n(t[o],t[a])<=0?e[h++]=t[o++]:e[h++]=t[a++];else if(o<u)e[h++]=t[o++];else{if(!(a<s))break;e[h++]=t[a++]}}me(),zt();var Lu=/[a-zA-Z]/,Mu=/[0-9]/,Fu=/[0-9a-fA-F]/,Uu=/^0x/i,Hu=/^[0-9]+$/,Xu=/^[0-9a-fA-F]+$/,zu=/^[0-7]+$/,Vu=v.prototype.toString,Wu=Array.isArray||function(t){return"[object Array]"===Vu.call(t)},qu="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Gu(t){return Wu(t)?t:Array.from(t)}function ju(t){return t>=65&&t<=90}function Yu(t){return ju(t)||function(t){return t>=97&&t<=122}(t)}function Qu(t){return t>=48&&t<=57}function Zu(t){return Qu(t)||Yu(t)}function Ku(t){return Qu(t)||t>=65&&t<=70||t>=97&&t<=102}function Ju(t){return ju(t)?t+32:t}function $u(t){return Qu(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function ts(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var ns=d.min,is=String.fromCharCode;function es(t){for(var n=t.length,i=[],e=0;e<n;e+=16384){var r=ns(e+16384,n);i.push(is.apply(null,t.slice(e,r)))}return i.join("")}var rs=2147483647,us=/[^\0-\x7E]/,ss=/[\x2E\u3002\uFF0E\uFF61]/g,os={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},as=d.floor,cs=String.fromCharCode;function hs(t){throw new RangeError(os[t])}function fs(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}var vs,ds,ls,ws=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},_s=function(t,n,i){var e=0;for(t=i?as(t/700):t>>1,t+=as(t/n);t>455;e+=36)t=as(t/35);return as(e+36*t/(t+38))},gs=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(ss,".")).split("."),n).join(".");return e+r}(t,(function(t){return us.test(t)?"xn--"+function(t){for(var n=[],i=(t=fs(t)).length,e=128,r=0,u=72,s=0,o=t;s<o.length;s++){var a=o[s];a<128&&n.push(cs(a))}var c=n.length,h=c;for(c&&n.push("-");h<i;){for(var f=rs,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<f&&(f=l)}var w=h+1;f-e>as((rs-r)/w)&&hs("overflow"),r+=(f-e)*w,e=f;for(var _=0,g=t;_<g.length;_++){var m=g[_];if(m<e&&++r>rs&&hs("overflow"),m==e){for(var y=r,p=36;;p+=36){var A=p<=u?1:p>=u+26?26:p-u;if(y<A)break;var k=y-A,b=36-A;n.push(cs(ws(A+k%b,0))),y=as(k/b)}n.push(cs(ws(y,0))),u=_s(r,w,h==c),r=0,++h}}++r,++e}return n.join("")}(t):t}))};function ms(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return es(n)}function ys(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ps(t,n){return t>>n&63|128}function As(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ys(t),n.push(t>>12&15|224),n.push(ps(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ps(t,12)),n.push(ps(t,6))),n.push(63&t|128)):n.push(t)}function ks(t){for(var n=[],i=0;i<t.length;i++){As(t[i],n)}return n}function bs(){if(ls>=ds)throw new h("Invalid byte index");var t=255&vs[ls];if(ls++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function Ts(){var t,n;if(ls>ds)throw new h("Invalid byte index");if(ls===ds)return!1;if(t=255&vs[ls],ls++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|bs())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|bs()<<6|bs())>=2048)return ys(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|bs()<<12|bs()<<6|bs())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}function Ss(t){return[37,ts(t>>4),ts(15&t)]}function Es(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Is(t){return Es(t)||32===t||34===t||60===t||62===t||96===t}function Rs(t){return Is(t)||35===t||63===t||123===t||125===t}function Cs(t){return Rs(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function Ns(t){return t<33||t>126||34===t||35===t||60===t||62===t}function Ds(t){return Ns(t)||39===t}function Ps(t,n){if(!n(t))return[t];for(var i=ks([t]),e=[],r=0;r<i.length;r++){var u=i[r];e.push.apply(e,Ss(u))}return e}function Bs(t,n){for(var i=[],e=0,r=fs(t);e<r.length;e++){var u=r[e];i.push.apply(i,Ps(u,n))}return ms(i)}function Os(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&Ku(t[e+1])&&Ku(t[e+2])){var u=$u(t[e+1])<<4|$u(t[e+2]);n.push(u),e+=2}else n.push(r)}return n}(ks(t))}function xs(t){return ms(function(t){vs=t.slice(),ds=vs.length,ls=0;for(var n,i=[];!1!==(n=Ts());)i.push(n);return i}(Os(fs(t))))}function Ls(t){var n,i,e,r,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,a=null,c=0;if(c<u&&":"===t[c]){if(!(c+1<u&&":"===t[c+1]))throw new f;c+=2,a=o+=1}for(;c<u;){if(8===o)throw new f("Too many groups");if(":"!==t[c]){for(var h=0,v=0;v<4&&c<u&&Fu.test(t[c]);)h=h<<4|l(t[c],16),c+=1,v+=1;if("."===t[c]){if(0===v)throw new f;if(c-=v,o>6)throw new f;for(var d=0;c<u;){var w=null;if(d>0){if(!("."===t[c]&&d<4))throw new f;c+=1}if(!Mu.test(t[c]))throw new f;for(;c<u&&Mu.test(t[c]);){var _=l(t[c],10);if(null===w)w=_;else{if(0===w)throw new f;if((w=10*w+_)>255)throw new f}c+=1}s[o]=s[o]<<8|w,2!==(d+=1)&&4!==d||(o+=1)}if(4!==d)throw new f;break}if(":"===t[c]){if((c+=1)===u)throw new f}else if(c<u)throw new f;s[o]=h,o+=1}else{if(null!==a)throw new f("Too many :: groups");c+=1,a=o+=1}}if(null!==a){var g=o-a;for(o=7;0!==o&&g>0;)e=a+g-1,r=void 0,r=(n=s)[i=o],n[i]=n[e],n[e]=r,o-=1,g-=1}else if(8!==o)throw new f;return s}function Ms(t){var n=10,i=Hu;return Uu.test(t)?(t=t.slice(2),n=16,i=Xu):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=zu),""===t?0:i.test(t)?l(t,n):void 0}var Fs={Qr:4},Us=/[\0\t\n\r #%/:?@\[\\\]]/,Hs=/[\0\t\n\r #/:?@\[\\\]]/;function Xs(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new f("Invalid IPv6 address");return{Qr:2,Zr:Ls(t.slice(1,-1))}}if(!n)return function(t){if(Hs.test(t))throw new f("Invalid code point in opaque host");var n=Bs(t,Es);return""===n?Fs:{Qr:3,j:n}}(t);var i=function(t){return function(t){return gs(t.toLowerCase())}(t)}(xs(t));if(Us.test(i))throw new f("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var u=Ms(r);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new f;if(i[i.length-1]>=d.pow(256,5-i.length))throw new f;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*d.pow(256,3-a);return o}}(i);return void 0!==e?{Qr:1,Zr:e}:""===i?Fs:{Qr:0,Kr:i}}function zs(t){switch(t.Qr){case 0:return t.Kr;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Zr);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,u=0;u<8;u++)0===t[u]?(0===r&&(e=u),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Zr)+"]";case 3:return t.j;case 4:return""}}var Vs=/\+/g;function Ws(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var u=r.indexOf("="),s=void 0,o=void 0;-1!==u?(s=r.slice(0,u),o=r.slice(u+1)):(s=r,o=""),s=s.replace(Vs," "),o=o.replace(Vs," ");var a=xs(s),c=xs(o);i.push([a,c])}}return i}function qs(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Gs(ks(fs(e[0])))+"="+Gs(ks(fs(e[1])))}return n}function Gs(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Zu(n)?i.push(r):i.push.apply(i,Ss(r))}return es(i)}var js=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Ys(t){var n=""+t,i=js.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var u=t.charCodeAt(r);if(Zs(u))if(Ks(u)||r===i-1)e.push(Qs);else{var s=t.charCodeAt(r+1);Ks(s)?(e.push(u,s),r++):e.push(Qs)}else e.push(u)}return t.slice(0,n)+es(e)}(n,i.index):n}var Qs=65533,Zs=function(t){return 55296==(63488&t)},Ks=function(t){return 0!=(1024&t)};function Js(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function $s(t){t.Jr.length=0}function to(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Jr,Ws(n))}function no(t){if(t.$r){var n=qs(t.Jr);""===n&&(n=null),t.$r.$r.tu=n}}var io=function(){function t(t){if(void 0===t&&(t=void 0),this.$r=null,null==t)this.Jr=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof io&&Wu(u.Jr)&&(!qu||u[Symbol.iterator]===eo))this.Jr=t.Jr.slice();else if(function(t){return null!=t&&(!!Wu(t)||!!qu&&"function"==typeof t[Symbol.iterator])}(t)){this.Jr=[];for(var n=0,i=Gu(t);n<i.length;n++){var e=Gu(i[n]);if(2!==e.length)throw new f("Invalid name-value pair");this.Jr.push([Ys(e[0]),Ys(e[1])])}}else for(var r in this.Jr=[],t)v.prototype.hasOwnProperty.call(t,r)&&this.Jr.push([Ys(r),Ys(t[r])]);else(t=Ys(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Jr=Ws(t);var u}var n=t.prototype;return n.append=function(t,n){t=Ys(t),n=Ys(n),this.Jr.push([t,n]),no(this)},n.delete=function(t){t=Ys(t);for(var n=this.Jr,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}no(this)},n.get=function(t){t=Ys(t);for(var n=this.Jr,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Ys(t);for(var n=this.Jr,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Ys(t);for(var n=this.Jr,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Ys(t),n=Ys(n);for(var i=this.Jr,e=!1,r=0;r<i.length;){var u=i[r];u[0]===t?e?i.splice(r,1):(u[1]=n,e=!0,r++):r++}e||i.push([t,n]),no(this)},n.sort=function(){Ou(this.Jr,Js),no(this)},n.toString=function(){return qs(this.Jr)},n.entries=function(){return new oo(this.Jr,ro)},n.keys=function(){return new oo(this.Jr,uo)},n.values=function(){return new oo(this.Jr,so)},n.forEach=function(t){var n=this;this.Jr.forEach((function(i){return t(i[1],i[0],n)}))},t}(),eo=io.prototype.entries;qu&&(io.prototype[Symbol.iterator]=eo);var ro=function(t){return[t[0],t[1]]},uo=function(t){return t[0]},so=function(t){return t[1]},oo=function(){function t(t,n){this.nu=0,this.Jr=t,this.uu=n}return t.prototype.next=function(){return this.nu<this.Jr.length?{done:!1,value:this.uu(this.Jr[this.nu++])}:{done:!0,value:void 0}},t}(),ao="null";var co=v.create(null);co.ftp=21,co.file=0,co.gopher=70,co.http=80,co.https=443,co.ws=80,co.wss=443;var ho=/^(?:\.|%2e)$/i,fo=/^(?:\.|%2e){2}$/i;function vo(t){return ho.test(t)}function lo(t){return fo.test(t)}function wo(t){return void 0!==co[t]}function _o(t){return wo(t.ou)}function go(t){return""!==t.au||""!==t.fu}function mo(t){var n=t.length;if(!(n>=2))return!1;if(!po(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function yo(t){return 2===t.length&&Lu.test(t[0])&&(":"===t[1]||"|"===t[1])}function po(t){return 2===t.length&&yo(es(t))}function Ao(t){return yo(t)&&":"===t[1]}function ko(t){var n=t.vu;0!==n.length&&("file"===t.ou&&1===n.length&&Ao(n[0])||n.pop())}function bo(t){return null===t.du||Fs===t.du||t.wu||"file"===t.ou}var To=-1,So=/\t|\n|\r/g,Eo=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Io(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new Co,t=t.replace(Eo,""));var r=null!==e?e:0;n=n||null;for(var u=[],s=!1,o=!1,a=!1,c=fs(t=t.replace(So,"")),h=c.length,v=0;v<=h;){var d=v<h?c[v]:To;switch(r){case 0:if(!Yu(d)){if(null===e){u.length=0,r=2;continue}throw new f("Invalid scheme")}u.push(Ju(d)),r=1;break;case 1:if(Zu(d)||43===d||45===d||46===d)u.push(Ju(d));else{if(58!==d){if(null===e){u.length=0,r=2,v=0;continue}throw new f("Invalid scheme")}var w=ms(u);if(null!==e){if(wo(i.ou)&&!wo(w))return;if(!wo(i.ou)&&wo(w))return;if((go(i)||null!==i._u)&&"file"===w)return;if("file"===i.ou&&(i.du===Fs||null===i.du))return}if(i.ou=w,null!==e)return void(_o(i)&&i._u===co[i.ou]&&(i._u=null));u.length=0,"file"===i.ou?r=13:_o(i)&&n&&n.ou===i.ou?r=3:_o(i)?r=7:47===c[v+1]?(r=4,v+=1):(i.wu=!0,i.vu.push(""),r=18)}break;case 2:if(!n||n.wu&&35!==d)throw new f("Invalid scheme");n.wu&&35===d?(i.ou=n.ou,i.vu=n.vu.slice(),i.tu=n.tu,i.mu="",i.wu=!0,r=20):"file"!==n.ou?(r=5,v-=1):(r=13,v-=1);break;case 3:47===d&&47===c[v+1]?r=8:(r=5,v-=1);break;case 4:47===d?r=9:(r=17,v-=1);break;case 5:i.ou=n.ou,To===d?(i.au=n.au,i.fu=n.fu,i.du=n.du,i._u=n._u,i.vu=n.vu.slice(),i.tu=n.tu):47===d?r=6:63===d?(i.au=n.au,i.fu=n.fu,i.du=n.du,i._u=n._u,i.vu=n.vu.slice(),i.tu="",r=19):35===d?(i.au=n.au,i.fu=n.fu,i.du=n.du,i._u=n._u,i.vu=n.vu.slice(),i.tu=n.tu,i.mu="",r=20):92===d&&_o(i)?r=6:(i.au=n.au,i.fu=n.fu,i.du=n.du,i._u=n._u,i.vu=n.vu.slice(),i.vu.pop(),r=17,v-=1);break;case 6:!_o(i)||47!==d&&92!==d?47===d?r=9:(i.au=n.au,i.fu=n.fu,i.du=n.du,i._u=n._u,r=17,v-=1):r=8;break;case 7:if(47!==d||47!==c[v+1]){r=8;continue}r=8,v+=1;break;case 8:47!==d&&92!==d&&(r=9,v-=1);break;case 9:if(64===d){s&&u.unshift(37,52,48),s=!0;for(var _=0;_<u.length;_++){var g=u[_];if(58!==g||a){var m=ms(Ps(g,Cs));a?i.fu+=m:i.au+=m}else a=!0}u.length=0}else if(To===d||47===d||63===d||35===d||_o(i)&&92===d){if(s&&0===u.length)throw new f("Invalid host");v-=u.length+1,u.length=0,r=10}else u.push(d);break;case 10:case 11:if(null!==e&&"file"===i.ou)v-=1,r=15;else if(58!==d||o)if(To===d||47===d||63===d||35===d||_o(i)&&92===d){if(v-=1,_o(i)&&0===u.length)throw new f("Invalid host");if(null!==e&&0===u.length&&(go(i)||null!==i._u))return;var y=Xs(ms(u),_o(i));if(i.du=y,u.length=0,r=16,null!==e)return}else 91===d?o=!0:93===d&&(o=!1),u.push(d);else{if(0===u.length)throw new f("Invalid host");var p=Xs(ms(u),_o(i));if(i.du=p,u.length=0,r=12,11===e)return}break;case 12:if(Qu(d))u.push(d);else{if(!(To===d||47===d||63===d||35===d||_o(i)&&92===d||null!==e))throw new f("Invalid port");if(0!==u.length){var A=l(ms(u),10);if(A>65535)throw new f("Invalid port");i._u=A===co[i.ou]?null:A,u.length=0}if(null!==e)return;r=16,v-=1}break;case 13:i.ou="file",47===d||92===d?r=14:n&&"file"===n.ou?To===d?(i.du=n.du,i.vu=n.vu.slice(),i.tu=n.tu):63===d?(i.du=n.du,i.vu=n.vu.slice(),i.tu="",r=19):35===d?(i.du=n.du,i.vu=n.vu.slice(),i.tu=n.tu,i.mu="",r=20):(mo(c.slice(v))||(i.du=n.du,i.vu=n.vu.slice(),ko(i)),r=17,v-=1):(r=17,v-=1);break;case 14:47===d||92===d?r=15:(n&&"file"===n.ou&&!mo(c.slice(v))&&(Ao(n.vu[0])?i.vu.push(n.vu[0]):i.du=n.du),r=17,v-=1);break;case 15:if(To===d||47===d||92===d||63===d||35===d)if(v-=1,null===e&&po(u))r=17;else if(0===u.length){if(i.du=Fs,null!==e)return;r=16}else{var k=Xs(ms(u),_o(i));if(0===k.Qr&&"localhost"===k.Kr&&(k=Fs),i.du=k,null!==e)return;u.length=0,r=16}else u.push(d);break;case 16:_o(i)?(r=17,47!==d&&92!==d&&(v-=1)):null===e&&63===d?(i.tu="",r=19):null===e&&35===d?(i.mu="",r=20):To!==d&&(r=17,47!==d&&(v-=1));break;case 17:if(To===d||47===d||_o(i)&&92===d||null===e&&(63===d||35===d)){var b=ms(u);if(lo(b)?(ko(i),47===d||_o(i)&&92===d||i.vu.push("")):!vo(b)||47===d||_o(i)&&92===d?vo(b)||("file"===i.ou&&0===i.vu.length&&po(u)&&(Fs!==i.du&&null!==i.du&&(i.du=Fs),u[1]=58,b=ms(u)),i.vu.push(b)):i.vu.push(""),u.length=0,"file"===i.ou&&(To===d||63===d||35===d))for(;i.vu.length>1&&""===i.vu[0];)i.vu.shift();63===d?(i.tu="",r=19):35===d&&(i.mu="",r=20)}else u.push.apply(u,Ps(d,Rs));break;case 18:63===d?(i.tu="",r=19):35===d?(i.mu="",r=20):To!==d&&(i.vu[0]+=ms(Ps(d,Es)));break;case 19:null===e&&35===d?(i.mu="",r=20):To!==d&&(i.tu+=ms(Ps(d,_o(i)?Ds:Ns)));break;case 20:To===d||0===d||(i.mu+=ms(Ps(d,Is)))}v++}return i}function Ro(t,n,i,e){try{Io(t,n,i,e)}catch(t){}}var Co=function(){this.ou="",this.au="",this.fu="",this.du=null,this._u=null,this.vu=[],this.tu=null,this.mu=null,this.wu=!1};function No(t){switch(t.ou){case"blob":var n;try{n=Io(t.vu[0],null)}catch(t){return ao}return No(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.ou,e=t.du,r=t._u,i+"://"+zs(e)+(null===r?"":":"+r);case"file":default:return ao}var i,e,r}var Do,Po,Bo,Oo,xo,Lo,Mo,Fo=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof Fo&&"object"==typeof i.$r)r=n.$r;else try{r=Io(String(n),null)}catch(t){throw new f("Invalid base URL: "+t.message)}try{e=Io(String(t),r)}catch(t){throw new f("Invalid URL: "+t.message)}var u=e.tu;this.$r=e,this.tu=function(t){var n=new io;return null!==t&&to(n,t),n}(u),this.tu.$r=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.ou+":";if(null!==t.du?(i+="//",go(t)&&(i+=t.au,""!==t.fu&&(i+=":"+t.fu),i+="@"),i+=zs(t.du),null!==t._u&&(i+=":"+t._u)):null===t.du&&"file"===t.ou&&(i+="//"),t.wu)i+=t.vu[0];else for(var e=0,r=t.vu;e<r.length;e++)i+="/"+r[e];return null!==t.tu&&(i+="?"+t.tu),n||null===t.mu||(i+="#"+t.mu),i}(this.$r)},set:function(t){var n;try{n=Io(String(t),null)}catch(t){throw new f("Invalid URL: "+t.message)}this.$r=n,$s(this.tu);var i=this.$r.tu;null!==i&&to(this.tu,i)}},{key:"origin",get:function(){return No(this.$r)}},{key:"protocol",get:function(){return this.$r.ou+":"},set:function(t){Ro(t+":",null,this.$r,0)}},{key:"username",get:function(){return this.$r.au},set:function(t){bo(this.$r)||(this.$r.au=Bs(t,Cs))}},{key:"password",get:function(){return this.$r.fu},set:function(t){bo(this.$r)||(this.$r.fu=Bs(t,Cs))}},{key:"host",get:function(){var t=this.$r,n=t.du;if(null===n)return"";var i=t._u,e=zs(n);return null!==i&&(e+=":"+i),e},set:function(t){this.$r.wu||Ro(t,null,this.$r,10)}},{key:"hostname",get:function(){var t=this.$r.du;return null===t?"":zs(t)},set:function(t){this.$r.wu||Ro(t,null,this.$r,11)}},{key:"port",get:function(){var t=this.$r._u;return null===t?"":""+t},set:function(t){bo(this.$r)||(""===t?this.$r._u=null:Ro(t,null,this.$r,12))}},{key:"pathname",get:function(){var t=this.$r.vu;return this.$r.wu?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.$r.wu||(this.$r.vu.length=0,Ro(t,null,this.$r,16))}},{key:"search",get:function(){var t=this.$r.tu;return null===t||""===t?"":"?"+t},set:function(t){t=Ys(t);var n=this.$r;if(""===t)return n.tu=null,void $s(this.tu);"?"===t[0]&&(t=t.slice(1)),n.tu="",Ro(t,null,n,19),to(this.tu,t)}},{key:"searchParams",get:function(){return this.tu}},{key:"hash",get:function(){var t=this.$r.mu;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.$r.mu="",Ro(t,null,this.$r,20)):this.$r.mu=null}}])&&Bu(n.prototype,i),e&&Bu(n,e),t}();function Uo(t){return t.document&&t.document.baseURI||t.location.href||""}function Ho(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Xo(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function zo(t,n){tr.Ee&&tr.Ie<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function Vo(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function Wo(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function qo(t){t.removeAttribute("title")}function Go(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function jo(t){t.src&&(t.removeAttribute("src"),t.load())}function Yo(){return void 0!==e?e.createElement("video"):void 0}function Qo(){return Mo||(Mo=Yo()),Mo}me(),zt(),me(),zt(),me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),me(),zt();var Zo=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!u||!u.msMaxTouchPoints),Ko=Qo(),Jo=!(!Ko||!Ko.webkitShowPlaybackTargetPicker),$o=function(){function t(){this.yu=void 0,this.pu=!1,this.Gi=Zo,this.ye=!1,this.Au=!0}var n=t.prototype;return n.bu=function(){return 0},n.Tu=function(t,n){return!0},n.Su=function(t){return t>=2*du},pe(t,[{key:"Eu",get:function(){return void 0===this.yu&&(this.yu=this.bu()),this.yu}},{key:"Iu",get:function(){return!tr.Xe}},{key:"Ru",get:function(){if(i.screen)return{width:i.screen.width,height:i.screen.height}}},{key:"Cu",get:function(){return i.devicePixelRatio||1}},{key:"Nu",get:function(){return Jo}},{key:"Du",get:function(){return!1}},{key:"Pu",get:function(){return!0}},{key:"Bu",get:function(){return tr.Le||tr.fe}},{key:"Ou",get:function(){return!0}},{key:"xu",get:function(){return!0}},{key:"Lu",get:function(){return!1}},{key:"Mu",get:function(){}},{key:"Fu",get:function(){return!0}},{key:"Uu",get:function(){return!1}},{key:"Hu",get:function(){return!1}},{key:"Xu",get:function(){return tr.Ce}}]),t}();me(),zt();var ta=function(){var t=Yo();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(tr.ue)return!1;var t=Yo();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var na=function(t){function n(n){var i;return(i=t.call(this)||this).Vu=n,i.Vu&&(i.pu=i.Vu.pu,i.Gi=i.Vu.Gi,i.Au=ta&&i.Vu.Au),i}ze(n,t);var i=n.prototype;return i.bu=function(){return this.Vu?this.Vu.Eu:t.prototype.bu.call(this)},i.Tu=function(n,i){return this.Vu?this.Vu.Tu(n,i):t.prototype.Tu.call(this,n,i)},i.Su=function(n){return this.Vu?this.Vu.Su(n):t.prototype.Su.call(this,n)},pe(n,[{key:"Mu",get:function(){var t;return null==(t=this.Vu)?void 0:t.Mu}},{key:"Fu",get:function(){var t,n;return null==(n=null==(t=this.Vu)?void 0:t.Fu)||n}}]),n}($o),ia=function(t){function n(n){var i;return(i=t.call(this,n)||this).pu=!0,i.ye=!0,i}return ze(n,t),pe(n,[{key:"Lu",get:function(){return tr.fe}}]),n}(na),ea=function(t){function n(){return t.apply(this,arguments)}return ze(n,t),n.prototype.bu=function(){return Oo.MediaSource?t.prototype.bu.call(this):1},pe(n,[{key:"Lu",get:function(){return!0}}]),n}(ia);me(),zt(),Ae();var ra=function(t){function n(){return t.apply(this,arguments)}return ze(n,t),n.prototype.Tu=function(n,i){return t.prototype.Tu.call(this,n,i)},pe(n,[{key:"Du",get:function(){return tr.Ie<3}},{key:"Pu",get:function(){return tr.Ie>=3}},{key:"Ru",get:function(){var t=this;return i.tizen&&!this.Wu&&i.tizen.systeminfo.getPropertyValue("DISPLAY",(function(n){var i=n.resolutionWidth,e=n.resolutionHeight;1===i&&1===e||(t.Wu={width:i,height:e})})),this.Wu}},{key:"Uu",get:function(){return tr.Ie<3}},{key:"Hu",get:function(){return!0}}]),n}(na);me(),zt();var ua=function(t){function n(){return t.call(this)}return ze(n,t),n}($o);me(),zt(),Ae();var sa=function(t){function n(){return t.apply(this,arguments)}return ze(n,t),n.prototype.Tu=function(t,n){if(t&&t.Gu&&n&&n.Gu){var i=oa(t.Gu,"mp4a.40.2")&&oa(n.Gu,"mp4a.40.5"),e=oa(t.Gu,"mp4a.40.5")&&oa(n.Gu,"mp4a.40.2"),r=oa(t.Gu,"mp4a.40.2")&&oa(n.Gu,"mp4a.40.34"),u=oa(t.Gu,"mp4a.40.34")&&oa(n.Gu,"mp4a.40.2"),s=oa(t.Gu,"mp4a.40.5")&&oa(n.Gu,"mp4a.40.34"),o=oa(t.Gu,"mp4a.40.34")&&oa(n.Gu,"mp4a.40.5");return!(i||e||r||u||s||o)}return!0},pe(n,[{key:"Mu",get:function(){if(tr.ji)return 4096}}]),n}(ua);function oa(t,n){return t.indexOf(n)>-1}me(),zt();var aa=function(t){function n(){return t.apply(this,arguments)}return ze(n,t),n.prototype.Su=function(t){return t>=2},n}(ua);me(),zt();var ca=function(t){function n(){var n;return(n=t.call(this)||this).pu=tr.Me>=11,n.Au=tr.Le&&!(tr.fe&&tr.Me<10),n}return ze(n,t),n}(ua);me(),zt(),Ae();var ha=function(t){function n(){return t.apply(this,arguments)}return ze(n,t),pe(n,[{key:"Ru",get:function(){var t=this;return i.webOS&&!this.Wu&&i.webOS.deviceInfo((function(n){t.Wu={width:n.screenWidth,height:n.screenHeight}})),this.Wu}},{key:"Ou",get:function(){return!1}},{key:"Hu",get:function(){return!0}}]),n}(na);me(),zt(),Ae();var fa=function(t){function n(){return t.apply(this,arguments)}return ze(n,t),pe(n,[{key:"Fu",get:function(){return!tr.Yi||(tr.Te?92!==tr.Se:tr.ke>=100)}}]),n}(ua);me(),zt(),Ae();var va=function(t){function n(){return t.apply(this,arguments)}return ze(n,t),pe(n,[{key:"Lu",get:function(){return!0}}]),n}(na),da=function(){function n(){var n;this.ju=new ku,this.Yu=new la,this.Qu=(n=tr.Oe?new sa:tr.Ne||tr.De?new aa:tr.Le?new ca:tr.Ae?new fa:new ua,tr.fe?new ea(n):tr.ye?new ia(n):tr.Ee?new ra(n):tr.Re?new ha(n):tr.ji?new va(n):new na(n)),this.Zu=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.Ku=function(){return t.performance.now()}:this.Ku=au}var i=n.prototype;return i.Ju=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];br.apply(void 0,Ce(n))},i.$u=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Tr.apply(void 0,Ce(n))},i.rs=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Sr.apply(void 0,Ce(n))},i.us=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Er.apply(void 0,[t].concat(Ce(i)))},i.Je=function(t,n){return s(t,n)},i.hs=function(t,n){return a(t,n)},i.Ke=function(t){o(t)},i.fs=function(t){c(t)},i.gr=function(t){return this.ju.gr(t)},i.vs=function(){return this.ds.vs()},i.ls=function(){return this.ds.ls()},i._s=function(){return this.ds._s()},i.gs=function(){return this.ds.gs()},i.ys=function(){return this.ds.ys()},i.As=function(t,n){return this.ds.As(t,n)},i.Ts=function(t){return this.ds.Ts(t)},i.Ss=function(t,n){var i;return void 0===n&&(n=Uo(Oo)),i="object"!=typeof n||n instanceof Fo?n:n.href,new Fo(t,i)},i.Es=function(n,i){if(void 0===i&&(i=Uo(Oo)),this.Zu){var e=cr(i)?i:i.toString();return new t.URL(n,e).href}return this.Ss(n,i).href},pe(n,[{key:"Is",get:function(){return this.Yu}},{key:"Rs",get:function(){return this.Qu}},{key:"Cs",get:function(){return{Ns:u&&u.userAgent.match(/Android /i)?"Android":"other",Ds:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"Ps",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Bs",get:function(){return"languages"in u?u.languages.slice():[u.language]}}]),n}(),la=function(){function t(){}return pe(t,[{key:"Os",get:function(){return u.oscpu}},{key:"Rs",get:function(){return u.platform}},{key:"xs",get:function(){return u.vendor}},{key:"Ls",get:function(){return u.vendorSub}}]),t}();function wa(t,n,i,e,r,u,s){try{var o=t[u](s),a=o.value}catch(t){return void i(t)}o.done?n(a):j.resolve(a).then(e,r)}function _a(t){return function(){var n=this,i=arguments;return new j((function(e,r){var u=t.apply(n,i);function s(t){wa(u,e,r,s,o,"next",t)}function o(t){wa(u,e,r,s,o,"throw",t)}s(void 0)}))}}function ga(){return(ga=v.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)v.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function ma(t,n){var i,e,r,u,s=function(t){return function(n){return o([t,n])}},o=function(u){if(i)throw new f("Generator is already executing.");for(;a;)try{if(i=1,e&&(r=2&u[0]?e.return:u[0]?e.throw||((r=e.return)&&r.call(e),0):e.next)&&!(r=r.call(e,u[1])).done)return r;switch(e=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,e=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!r||u[1]>r[0]&&u[1]<r[3])){a.label=u[1];break}if(6===u[0]&&a.label<r[1]){a.label=r[1],r=u;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(u);break}r[2]&&a.ops.pop(),a.trys.pop();continue}u=n.call(t,a)}catch(t){u=[6,t],e=0}finally{i=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}},a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return u={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u}function ya(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var e,r,u=[],s=!0,o=!1;try{for(i=i.call(t);!(s=(e=i.next()).done)&&(u.push(e.value),!n||u.length!==n);s=!0);}catch(t){o=!0,r=t}finally{try{s||null==i.return||i.return()}finally{if(o)throw r}}return u}}(t,n)||Ie(t,n)||function(){throw new f("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pa(){var t=v.create(null);return t.Ms=void 0,delete t.Ms,t}function Aa(){return new Ia}function ka(){return new Da}function ba(t){var n=Aa();for(var i in t)nr.call(t,i)&&n.set(i,t[i]);return n}function Ta(t){var n=[];return t.forEach((function(t){return n.push(t)})),n}me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),Ae(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),Re();var Sa,Ea="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Ia=Ea||(Sa=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=v.keys(t)}return t.prototype.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=pa(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=pa(),this.size=0},n.keys=function(){return new Sa(this.data,(function(t,n){return n}))},n.values=function(){return new Sa(this.data,(function(t,n){return t[n]}))},n.entries=function(){return new Sa(this.data,(function(t,n){return[n,t[n]]}))},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Ra,Ca,Na,Da=Ea||(Ra=function(){function t(t,n){this.Fs=t,this.Us=n}return t.prototype.next=function(){var t=this.Fs.next();return t.done?t:{value:this.Us(t.value),done:!1}},t}(),function(){function t(){this.Hs=Aa()}var n=t.prototype;return n.get=function(t){return this.Hs.get(""+t)},n.set=function(t,n){return this.Hs.set(""+t,n),this},n.has=function(t){return this.Hs.has(""+t)},n.delete=function(t){return this.Hs.delete(""+t)},n.clear=function(){this.Hs.clear()},n.keys=function(){return new Ra(this.Hs.keys(),(function(t){return Number(t)}))},n.values=function(){return this.Hs.values()},n.entries=function(){return new Ra(this.Hs.entries(),(function(t){var n=ya(t,2),i=n[0],e=n[1];return[Number(i),e]}))},n.forEach=function(t){this.Hs.forEach((function(n,i){t(n,Number(i))}))},pe(t,[{key:"size",get:function(){return this.Hs.size}}]),t}());me(),zt(),me(),zt(),(Na=Ca||(Ca={})).Xs="9a04f079-9840-4286-ab92-e65be0885f95",Na.zs="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Na.Vs="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Na.Ws="94ce86fb-07ff-4f43-adb8-93d2fa968ca2";var Pa,Ba,Oa="urn:mpeg:dash:mp4protection:2011",xa="cenc",La="sinf",Ma="skd",Fa="9a04f079-9840-4286-ab92-e65be0885f95",Ua="urn:uuid:"+Fa,Ha="com.microsoft.playready",Xa="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",za="urn:uuid:"+Xa,Va="com.widevine.alpha",Wa="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",qa="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Ga="urn:uuid:"+qa,ja="com.apple.fps.1_0";me(),zt(),(Ba=Pa||(Pa={})).Xs="playready",Ba.zs="widevine",Ba.Ws="fairplay",Ba.Vs="clearkey",Ba.qs="aes128";var Ya={Gs:Pa.Xs,js:Ha,Ys:"cenc",Qs:Fa,Zs:Ua,Ks:"PlayReady"},Qa={Gs:Pa.zs,js:Va,Ys:"cenc",Qs:Xa,Zs:za,Ks:"Widevine"},Za={Gs:Pa.Ws,js:ja,Ys:"skd",Qs:qa,Zs:Ga,Ks:"FairPlay"},Ka={Gs:Pa.Ws,js:"com.apple.fps",Ys:"sinf",Qs:qa,Zs:Ga,Ks:"FairPlay"},Ja={Gs:Pa.Vs,js:"org.w3.clearkey",Ys:"cenc",Qs:Wa,Zs:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Ks:"ClearKey"},$a=[Ya,Qa,Za,Ja];function tc(t){return $a.filter((function(n){return n.Zs===t.toLowerCase()}))}function nc(t,n,i){return t.split(n).join(i)}function ic(t,n){return null!=t&&-1!==t.indexOf(n)}function ec(t,n){return null!=t&&t.substr(0,n.length)===n}function rc(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function uc(t,n){return t.toUpperCase()===n.toUpperCase()}function sc(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function oc(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=sc(e,r/e.length)),e.slice(0,r)+t)}function ac(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return hc(n)}me(),zt(),Oe();var cc=16384;function hc(t){var n,i=t.length;if(i<=cc)return(n=String).fromCharCode.apply(n,Ce(t));for(var e=[],r=0;r<i;r+=cc){var u;e.push((u=String).fromCharCode.apply(u,Ce(t.slice(r,r+cc))))}return e.join("")}var fc=tr.Ae&&tr.ke>=42||tr.Oe&&tr.xe>=38||tr.Ne||tr.Pe||tr.Fe&&tr.Ue>=29;function vc(t,n){return ic(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[ga({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[ga({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function dc(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess}function lc(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var wc,_c,gc=function(){function t(t){this.Js=Aa(),this.$s=void 0,this.uo=t}var n=t.prototype;return n.ys=function(){return this.Ts(Qa)},n.ls=function(){return this.Ts(Ja)},n.gs=function(){return this.Ts(Ya)},n._s=function(){return this.Ts(Za)},n.Ts=function(t){var n=t.Zs,i=this.Js.get(n);if(i)return i;var e=this.As(t,'video/mp4; codecs="avc1.42000a"');return this.Js.set(n,e),e},n.As=function(t,n){var i=this;return _a((function(){return ma(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,7]),[4,i.uo.oo(t.js,[vc(n,!0)])];case 1:return e.sent(),[2,!0];case 2:e.sent(),e.label=3;case 3:return e.trys.push([3,5,,6]),[4,i.uo.oo(t.js,[vc(n,!1)])];case 4:return e.sent(),[2,!0];case 5:return e.sent(),[2,!1];case 6:return[3,7];case 7:return[2]}}))}))()},n.vs=function(){return this.$s||(this.$s=this.ao()),this.$s},n.ao=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return"https:"===xo.protocol?[2,!1]:fc?[4,t.ls()]:[2,!1];case 1:return n.sent()?[2,!1]:[2,!0]}}))}))()},t}();function mc(t,n){return pc(t.slice(),n)}function yc(t,n){var i=pc(t,n);return i!==t&&Ac(i,void 0,t.length,t),t}function pc(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),u=1;u<e;u*=2){Ac(i,n,u,r);var s=i;i=r,r=s}return i}function Ac(t,n,i,e){var r,u,s,o,a,c=t.length,h=0,f=2*i;for(u=0;u<c;u+=f)for(r=(s=u+i)+i,s>c&&(s=c),r>c&&(r=c),o=u,a=s;;)if(o<s&&a<r)n&&n(t[o],t[a])<=0?e[h++]=t[o++]:e[h++]=t[a++];else if(o<s)e[h++]=t[o++];else{if(!(a<r))break;e[h++]=t[a++]}}me(),zt(),me(),zt(),me(),zt(),Ae(),me(),zt(),me(),zt(),Ae(),me(),zt(),me(),zt(),Oe(),me(),zt(),me(),zt(),(_c=wc||(wc={}))[_c.do=0]="do",_c[_c._o=1]="_o",_c[_c.mo=-1]="mo";var kc=function(t,n){return(0|t)-(0|n)},bc=function(t,n){return t===n?0:t<n?-1:t>n?1:_(t)?_(n)?0:1:-1};function Tc(t,n,i){return eu(t,n,i)?0:bc(t,n)}var Sc=function(t,n){return function(t,n){if(t===n)return!0;var i=d.abs(t-n);return i<nu||i<d.max(d.abs(t),d.abs(n))*nu}(t,n)?0:bc(t,n)};function Ec(t,n,i){var e=Rc(t,n,i);return-1===e?void 0:t[e]}function Ic(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function Rc(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function Cc(t,n){var i=t.indexOf(n);return-1!==i&&(Nc(t,i),!0)}function Nc(t,n){t.splice(n,1)}function Dc(t,n){return-1!==t.indexOf(n)}function Pc(t){t.length=0}function Bc(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!Dc(n,t[i]))return!1}return!0}function Oc(t,n){for(var i=[],e=0;e<t.length;e++){var r;(r=i).push.apply(r,Ce(n(t[e],e)))}return i}function xc(t,n){return Mc(t,(function(t,i){return bc(n(t),n(i))}))}function Lc(t,n){return function(t,n){return Mc(t,(function(t,i){return n(i,t)}))}(t,(function(t,i){return bc(n(t),n(i))}))}function Mc(t,n){if(0!==t.length)return t.reduce((function(t,i){return n(t,i)<=0?t:i}))}function Fc(t,n){return j.all(t.map(n)).then((function(n){return t.filter((function(t,i){return n[i]}))}))}function Uc(t,n){return Hc.apply(this,arguments)}function Hc(){return(Hc=_a((function(t,n){var i,e;return ma(this,(function(r){switch(r.label){case 0:i=0,r.label=1;case 1:return i<t.length?(e=t[i],[4,n(e)]):[3,4];case 2:if(r.sent())return[2,!0];r.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))).apply(this,arguments)}function Xc(){return(Xc=_a((function(t,n){var i,e;return ma(this,(function(r){switch(r.label){case 0:i=0,r.label=1;case 1:return i<t.length?(e=t[i],[4,n(e)]):[3,4];case 2:if(!r.sent())return[2,!1];r.label=3;case 3:return i++,[3,1];case 4:return[2,!0]}}))}))).apply(this,arguments)}function zc(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}me(),zt(),Ae(),me(),zt(),Ae();var Vc=function(){function t(){this.po=!1,this.Ao=!1,this.To=[],this.So=[]}var n=t.prototype;return n.Eo=function(){if(!this.po&&!this.Ao){this.po=!0;for(var t=0,n=this.To.slice();t<n.length;t++){(0,n[t])()}this.Io()}},n.Io=function(){if(!this.Ao){this.Ao=!0;for(var t=0,n=this.So.slice();t<n.length;t++){(0,n[t])()}Pc(this.To),Pc(this.So)}},n.Ro=function(t){this.Ao||this.To.push(t)},n.Co=function(t){this.Ao||Cc(this.To,t)},n.No=function(t){this.Ao||this.So.push(t)},n.Do=function(t){this.Ao||Cc(this.So,t)},t}(),Wc=function(){function t(){this.Po=new Vc}var n=t.prototype;return n.Bo=function(){this.Po.Eo()},n.Io=function(){this.Po.Io()},n.Oo=function(t){var n=this.Po;if(!n.po)if(t.po)n.Eo();else if(!n.Ao&&!t.Ao){var i=function(){e(),n.Eo()},e=function(){t.Co(i),t.Do(e),n.Co(i),n.Do(e)};t.Ro(i),t.No(e),n.Ro(i),n.No(e)}},n.xo=function(){var n=new t,i=new t,e=n.Lo,r=i.Lo,u=this.Po,s=function(){e.po&&r.Ao||r.po&&e.Ao?u.Eo():e.Ao&&r.Ao&&u.Io()};e.Ro(s),r.Ro(s),e.No(s),r.No(s),n.Oo(u),i.Oo(u);return u.No((function(){e.Co(s),r.Co(s),e.Do(s),r.Do(s)})),[n,i]},pe(t,[{key:"Lo",get:function(){return this.Po}}]),t}(),qc=function(t){function n(n,i){return t.call(this,n||"Aborted",i)}return ze(n,t),pe(n,[{key:"name",get:function(){return"AbortError"}}]),n}(pu);function Gc(t){return t instanceof h&&"AbortError"===t.name}function jc(t){if(t&&t.po)throw new qc}function Yc(t){if(Gc(t))throw t}function Qc(t){if(!Gc(t))throw t}function Zc(t,n){return n?new j((function(i,e){if(n.po)return t.catch(lr),e(new qc);var r=function(){n.Co(r),e(new qc)};n.Ro(r),t.then((function(t){n.Co(r),i(t)}),(function(t){n.Co(r),e(t)}))})):t}function Kc(t,n){return t.then((function(t){return n.Io(),t}),(function(t){throw n.Io(),t}))}function Jc(t,n){var i=new Wc;return n&&i.Oo(n),Kc(t(i.Lo),i)}me(),zt();var $c=j.resolve();function th(t){$c.then(t)}function nh(t){t.then(lr,lr)}function ih(t){return eh.apply(this,arguments)}function eh(){return(eh=_a((function(t){var n;return ma(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),[4,j.all(t)];case 1:return[2,i.sent()];case 2:return n=i.sent(),[4,j.all(t.map((function(t){return t.catch(lr)})))];case 3:throw i.sent(),n;case 4:return[2]}}))}))).apply(this,arguments)}function rh(t,n){return new j((function(i,e){if(void 0!==n&&n.po)e(new qc);else{var r=De.Je((function(){void 0!==n&&n.Co(u),i()}),t),u=function(){De.Ke(r),e(new qc)};void 0!==n&&n.Ro(u)}}))}function uh(t){return t&&"function"!=typeof t?t.slice():t}function sh(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var oh=function(){function t(t){var n=this;this.Mo=pa(),this.Fo=void 0,this.Uo=function(t){n.Ho(t)},this.Xo=t||this}var n=t.prototype;return n.zo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Vo(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Vo(e,n)}},n.Vo=function(t,n){var i=this.Mo[t];i?"function"==typeof i?this.Mo[t]=[i,n]:i.push(n):this.Mo[t]=n},n.Wo=function(t){if("function"==typeof t){var n=this.Fo;n?"function"==typeof n?this.Fo=[n,t]:n.push(t):this.Fo=t}},n.qo=function(){this.Mo=pa(),this.Fo=void 0},n.Ho=function(t){var n=uh(this.Mo[t.type]),i=uh(this.Fo);sh(this.Xo,t,n),sh(this.Xo,t,i)},n.Go=function(t,n){if("function"==typeof n)if("string"==typeof t)this.jo(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.jo(e,n)}},n.jo=function(t,n){var i=this.Mo[t];i&&("function"==typeof i?i===n&&(this.Mo[t]=void 0):Cc(i,n))},n.Yo=function(t){if("string"==typeof t)this.Mo[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Mo[i]=void 0}},n.Qo=function(t){var n=this.Fo;n&&("function"==typeof n?n===t&&(this.Fo=void 0):Cc(n,t))},n.Zo=function(t,n){var i=this;return new j((function(e,r){if(n&&n.po)return r(new qc);var u=function(t){o(),e(t)},s=function(){o(),r(new qc)},o=function(){i.Go(t,u),n&&n.Co(s)};i.zo(t,u),n&&n.Ro(s)}))},t}(),ah=function(t){function n(){return t.apply(this,arguments)}return ze(n,t),n.prototype.Ho=function(n){var i=this;th((function(){t.prototype.Ho.call(i,n)}))},n}(oh);me(),zt(),me(),zt();var ch,hh,fh=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},vh=["cenc"],dh=["cbcs","cbcs-1-9"],lh=function(t){function n(n){var i;return(i=t.call(this,"Jo")||this).Ko=n,i}return ze(n,t),n}(fh),wh=function(t){function n(n,i,e,r){var u;return(u=t.call(this,"$o")||this).Ko=n,u.ea=i,u.$o=e,u.ra=r,u}return ze(n,t),n}(fh),_h=function(t){function n(){return t.call(this,"ua")}return ze(n,t),n}(fh);(hh=ch||(ch={})).oa="va",hh._a="ma";var gh=function(t){function n(n,i){var e;return(e=t.call(this,"va")||this).Ys=n,e.ya=i,e}return ze(n,t),n}(fh),mh=function(t){function n(){return t.call(this,"ma")}return ze(n,t),n}(fh);me(),zt(),Ae();var yh=new g([0]).buffer,ph=function(){function t(){this.Aa=[]}var n=t.prototype;return n.Ta=function(t){for(var n=0,i=this.Aa;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Sa=function(t){for(var n=0,i=this.Aa;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.Ea=function(t,n){this.Aa.forEach((function(n){return t(n[1],n[0])}),n)},n.Ia=function(t,n){this.Aa.push([t,n])},n.Ra=function(){Pc(this.Aa)},pe(t,[{key:"Ca",get:function(){return this.Aa.length}}]),t}();me(),zt(),Ae(),me(),zt(),me(),zt();var Ah="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),kh=/[\t\n\f\r ]/g;function bh(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Th()}function Th(){throw new h("Invalid base64 input")}function Sh(t){var n=t;kh.test(n)&&(n=n.replace(kh,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Th();for(var r,u=0===e?0:4-e,s=new g(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,a=0,c=0;a<o;a+=4)r=bh(n.charCodeAt(a))<<18|bh(n.charCodeAt(a+1))<<12|bh(n.charCodeAt(a+2))<<6|bh(n.charCodeAt(a+3)),s[c++]=r>>16&255,s[c++]=r>>8&255,s[c++]=255&r;return 2===u?(r=bh(n.charCodeAt(a))<<2|bh(n.charCodeAt(a+1))>>4,s[c++]=255&r):1===u&&(r=bh(n.charCodeAt(a))<<10|bh(n.charCodeAt(a+1))<<4|bh(n.charCodeAt(a+2))>>2,s[c++]=r>>8&255,s[c++]=255&r),s}function Eh(t,n,i){for(var e,r,u,s=[],o=n;o<i;o+=3)s.push((e=t[o],r=t[o+1],u=t[o+2],Ah[e>>2]+Ah[(3&e)<<4|r>>4]+Ah[(15&r)<<2|u>>6]+Ah[63&u]));return s.join("")}function Ih(t){for(var n=t.length,i=n%3,e=[],r=n-i,u=0;u<r;u+=16383)e.push(Eh(t,u,d.min(r,u+16383)));if(1===i){var s=t[n-1];e.push(Ah[s>>2]+Ah[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];e.push(Ah[o>>2]+Ah[(3&o)<<4|a>>4]+Ah[(15&a)<<2]+"=")}return e.join("")}var Rh=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Ch=ArrayBuffer.isView||function(t){return t&&Dc(Rh,ir.call(t))};function Nh(t,n){return t===n||t.byteLength===n.byteLength&&Dh(new g(t),new g(n))}function Dh(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function Ph(t){var n=t.reduce((function(t,n){return t+n.byteLength}),0);return Bh(t,n)}function Bh(t,n){for(var i=new g(n),e=0,r=0;r<t.length;r++){var u=t[r];i.set(u,e),e+=u.byteLength}return i}function Oh(t){return Sh(t).buffer}function xh(t){return Ih(new g(t))}function Lh(t){return Ih(mf(t))}function Mh(t,n){var i=n.Na,e=t.getUint8(i>>3),r=1<<7-(7&i);return n.Da(1),(e&r)===r?1:0}function Fh(t,n,i){for(var e=0,r=0;r<i;r++)e=2*e+Mh(t,n);return e}me(),zt(),Ae();var Uh=function(){function t(t){void 0===t&&(t=0),this.Pa=t}var n=t.prototype;return n.Da=function(t){this.Pa+=t},n.Ba=function(t){this.Pa=t},n.Oa=function(){return new t(this.Na)},pe(t,[{key:"Na",get:function(){return this.Pa}}]),t}();function Hh(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Xh(t,n){return t>>n&63|128}function zh(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Hh(t),n.push(t>>12&15|224),n.push(Xh(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Xh(t,12)),n.push(Xh(t,6))),n.push(63&t|128)):n.push(t)}function Vh(t,n){if(n.Na>=t.length)throw new h("Invalid byte index");var i=255&t[n.Na];if(n.Da(1),128==(192&i))return 63&i;throw new h("Invalid continuation byte")}function Wh(t,n){var i=n.Na;if(i>t.length)throw new h("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Da(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|Vh(t,n);if(r>=128)return r;throw new h("Invalid continuation byte")}if(224==(240&e)){var u=(15&e)<<12|Vh(t,n)<<6|Vh(t,n);if(u>=2048)return Hh(u),u;throw new h("Invalid continuation byte")}if(240==(248&e)){var s=(7&e)<<18|Vh(t,n)<<12|Vh(t,n)<<6|Vh(t,n);if(s>=65536&&s<=1114111)return s}throw new h("Invalid UTF-8 detected")}me(),zt(),me(),zt();var qh=[128,64,32,16,8,4,2,1],Gh=function(){function t(t){this.xa=t}return t.prototype.La=function(t){return jh(this.xa,t)},t}();function jh(t,n){return(t&n)===n}function Yh(t,n){return jh(t,qh[n])}function Qh(t,n){var i=t.getUint8(n.Na);return n.Da(1),i}function Zh(t,n,i){t.setUint8(n.Na,i),n.Da(1)}function Kh(t,n,i){var e=Ef(Cf(t),n.Na,n.Na+i);return n.Da(e.byteLength),e}function Jh(t,n,i){Cf(t).set(Cf(i),n.Na),n.Da(i.byteLength)}function $h(t,n,i){return n.Na+i<=t.byteLength}function tf(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,u=0;u<i;u++)e+=Qh(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+Qh(t,n);return e}(t,n,i)}function nf(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Na,i);return n.Da(2),e}function ef(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Na,i,e),n.Da(2)}function rf(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Na,i);return n.Da(4),e}function uf(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Na,i,e),n.Da(4)}function sf(t,n,i){void 0===i&&(i=!1);var e=rf(t,n,i),r=rf(t,n,i),u=i?r:e,s=i?e:r;return Jr.fromBits(s,u,!0)}function of(t,n){return hf(t,n)}function af(t,n,i){return hc(Of(Kh(t,n,i)))}function cf(t,n){var i,e=Qh(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&Qh(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&Qh(t,n))+(63&Qh(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&Qh(t,n))+64*(63&Qh(t,n))+(63&Qh(t,n))),i}function hf(t,n){return ff(t,n,!0)}function ff(t,n,i){for(var e=[];n.Na<t.byteLength;){var r=Qh(t,n);if(i&&!r)break;e.push(r)}return hc(e)}function vf(t,n){if(n.Na+2<=t.byteLength){var i=t.getUint8(n.Na),e=t.getUint8(n.Na+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function df(t,n){var i=vf(t,n);return void 0!==i&&n.Da(2),lf(t,n,!0===i)}function lf(t,n,i){return void 0===i&&(i=!1),wf(t,n,i,!0)}function wf(t,n,i,e){for(var r=[];n.Na+2<=t.byteLength;){var u=nf(t,n,i);if(e&&!u)break;r.push(u)}return hc(r)}function _f(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,u=0;u<r;u+=1){ef(t,n,i.charCodeAt(u),e)}}function gf(t){return ff(Rf(t),new xf,!1)}function mf(t){var n=new g(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)Zh(t,n,i.charCodeAt(r))}(Rf(n),new xf,t),n}function yf(t,n){return void 0===n&&(n=!1),wf(Rf(t),new xf,n,!1)}function pf(t,n){void 0===n&&(n=!1);var i=new g(2*t.length);return _f(Rf(i),new xf,t,n),i}function Af(t,n){return n.Na+3<=t.byteLength&&(239===t.getUint8(n.Na)&&187===t.getUint8(n.Na+1)&&191===t.getUint8(n.Na+2))}function kf(t,n){return function(t,n,i){var e=[];Af(t,n)&&n.Da(3);for(;n.Na<t.byteLength;){var r=cf(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return ac(e)}(t,n,!0)}function bf(t){return ac(function(t,n){var i,e=[],r=new xf;if(!n){if(!1===(i=Wh(t,r)))return e;65279===i||e.push(i)}for(;!1!==(i=Wh(t,r));)e.push(i);return e}(Cf(t)))}function Tf(t){return new g(function(t){for(var n=[],i=0;i<t.length;i++)zh(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Sf(t,n){if(Af(t,n))return kf(t,n);if(void 0!==vf(t,n))return df(t,n);if(n.Na+4<=t.byteLength){if(0===t.getUint8(n.Na)&&0===t.getUint8(n.Na+2))return lf(t,n,!1);if(0===t.getUint8(n.Na+1)&&0===t.getUint8(n.Na+3))return lf(t,n,!0)}return kf(t,n)}function Ef(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new g(t.buffer,t.byteOffset+n,i-n)}function If(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Rf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Cf(t){return new g(t.buffer,t.byteOffset,t.byteLength)}function Nf(t){return t instanceof ArrayBuffer||Ch(t)}function Df(t){return t instanceof ArrayBuffer?new g(t):Cf(t)}function Pf(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Bf(Ef(t,n,i))}function Bf(t){if(t.slice)return t.slice(0);var n=new g(t.byteLength);return n.set(t,0),n}function Of(t){return[].slice.call(t)}var xf=function(){function t(t){void 0===t&&(t=0),this.Pa=t}var n=t.prototype;return n.Da=function(t){this.Pa+=t},n.Ba=function(t){this.Pa=t},n.Oa=function(){return new t(this.Na)},n.Ma=function(){return new Uh(this.Na<<3)},pe(t,[{key:"Na",get:function(){return this.Pa}}]),t}();function Lf(t){var n=t.toLowerCase(),i=0,e=0;ec(n,"0x")&&(n=n.substring(2));var r=new g(d.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=l(n[0],16));i<n.length;i+=2)r[e++]=l(n.substr(i,2),16);return r}me(),zt();var Mf=function(){function t(){var t=this;this.Fa=new j((function(n,i){t._t=n,t.yt=i}))}var n=t.prototype;return n.Ua=function(t){this._t&&(this._t(t),this.Io())},n.Ha=function(t){this.yt&&(this.yt(t),this.Io())},n.Bo=function(){this.Fa.catch(lr),this.Ha(new qc)},n.Oo=function(t){var n=this;t.then((function(t){return n.Ua(t)}),(function(t){return n.Ha(t)}))},n.Io=function(){this._t=void 0,this.yt=void 0},t}();function Ff(){return new g([8,4]).buffer}function Uf(t,n){return t===Ha?function(t){if(t.byteLength<2*Hf.length)return t;if(yf(new DataView(t,0,2*Hf.length),!0)===Hf)return t;return n=t,i='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',pf('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+xh(n)+i,!0).buffer;var n,i}(n):n}me(),zt();var Hf="<PlayReady";me(),zt(),me(),zt();var Xf=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,r)||this).Xa=i,u.Va=e,u}return ze(n,t),n}(pu);me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt();var zf=function(t,n){return(zf=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)v.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function Vf(t,n){var i=function(){this.constructor=t};if("function"!=typeof n&&null!==n)throw new f("Class extends value "+String(n)+" is not a constructor or null");zf(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}function Wf(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt();var qf;(qf=function(t,n){this.Wa=t,this.qa=n}).prototype.get=function(t){var n=this.Wa.get(t);if(0===this.qa||void 0===n)return n;var i=this.Wa.get(t+1)||0,e=n&(1<<8-this.qa)-1,r=i>>8-this.qa;return(e<<this.qa)+r},qf.prototype.getBit=function(t){if(!(t<0)){var n=this.Wa.get(d.floor((t+this.qa)/8));if(void 0!==n)return(n&1<<7-this.qa-t%8)>0?1:0}},v.defineProperty(qf.prototype,"bitLength",{get:function(){return this.Wa.bitLength-this.qa},enumerable:!1,configurable:!0}),v.defineProperty(qf.prototype,"length",{get:function(){return this.Wa.length},enumerable:!1,configurable:!0});me(),zt(),me(),zt();d.pow(2,-52);function Gf(t,n,i){return d.min(d.max(t,n),i)}function jf(t,n){return t>>8-n}function Yf(t,n){return t&(1<<n)-1}var Qf,Zf=(Qf=function(t){this.Ga=t,this.Ya=0,this.Qa=0},v.defineProperty(Qf.prototype,"totalBitsRead",{get:function(){return 8*this.Ya+this.Qa},enumerable:!1,configurable:!0}),v.defineProperty(Qf.prototype,"done",{get:function(){return this.Ya===this.Ga.length&&0===this.Qa},enumerable:!1,configurable:!0}),v.defineProperty(Qf.prototype,"location",{get:function(){return{byte:this.Ya,bit:this.Qa}},enumerable:!1,configurable:!0}),Qf.prototype.copy=function(){var t=new Qf(this.Ga);return t.seek(this.Ya,this.Qa),t},Qf.prototype.canReadBits=function(t){return 8*this.Ya+t+this.Qa<=8*this.Ga.length},Qf.prototype.canReadBytes=function(t){return 0===this.Qa?this.Ya+t<=this.Ga.length:this.Ya+t<this.Ga.length},Qf.prototype.incBit=function(){this.Qa++,this.Qa>7&&(this.Ya++,this.Qa=0)},Qf.prototype.seek=function(t,n){this.Ya=t,this.Qa=n},Qf.prototype.peekBit=function(){if(!this.canReadBits(1))throw new h("Cannot read past end of buffer.");return this.Ga.get(this.Ya)>>7-this.Qa&1},Qf.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},Qf.prototype.readByte=function(){if(!this.canReadBytes(1))throw new h("Cannot read past end of buffer.");if(0===this.Qa)return this.Ga.get(this.Ya++);var t=Yf(this.Ga.get(this.Ya),8-this.Qa),n=jf(this.Ga.get(this.Ya+1),this.Qa);return this.Ya++,t<<this.Qa|n},Qf.prototype.readBits=function(t){if(!this.canReadBits(t))throw new h("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},Qf.prototype.readUInt=function(t){if(t>32)throw new h("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new h("Cannot read past end of buffer.");var n=0;if(0===this.Qa&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},Qf.prototype.readInt=function(t){if(t>32)throw new h("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new h("Cannot read past end of buffer.");var n=this.readUInt(t);return 0==(n&1<<t-1)?n:n-d.pow(2,t)},Qf.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},Qf.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},Qf.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new h("Skipping over the buffer edge is not allowed.");var n=this.Qa+t;this.Ya+=n>>3,this.Qa=7&n},Qf.prototype.readBool=function(){return this.readBit()>0},Qf.prototype.readString=function(t){if(!this.canReadBytes(t))throw new h("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},Qf);me(),zt(),me(),zt(),me(),zt();var Kf,Jf=function(t,n){return t===n?0:t<n?-1:t>n?1:_(t)?_(n)?0:1:-1},$f=((Kf=function(){this.Za=[],this.Ka=[],this.V=0}).from=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=new Kf,e=0,r=t;e<r.length;e++){var u=r[e];i.pushRange(u)}return i},Kf.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new h("The buffer length must be positive.");if(0!==i){if(0===this.Ka.length)this.Ka.push(0);else{var e=this.Ka[this.Ka.length-1]+this.Za[this.Za.length-1].length;this.Ka.push(e)}this.Za.push(t.subarray(n,n+i)),this.V+=i}},Kf.prototype.concat=function(t){var n=new Kf;return n.pushRange(this.join()),n.pushRange(t.join()),n},Kf.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},Kf.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,u=this.Za;r<u.length;r++){var s=u[r];t.set(s,e),i+=s.length,e+=s.length}return i},Kf.prototype.clear=function(){this.Za=[],this.Ka=[],this.V=0},Kf.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.Ka[n];return this.Za[n][i]}},v.defineProperty(Kf.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),Kf.prototype.indexOf=function(t){if(this.Za.length<1)return-1;if(this.Za.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.Za[0];return"number"==typeof t?Wf(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,u=0;u<=r&&!((u=Wf(t,i,u))<0||u>r);u++){for(var s=u+1,o=u+e,a=1;s<o&&t[s]===n[a];s++,a++);if(s===o)return u}return-1}(i,t)},Kf.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var u=d.ceil((e+r)/2);i(t[u],n)<=0?e=u:r=u-1}return e}}}(this.Ka,t,Jf)},Kf.prototype.join=function(){if(1===this.Za.length)return this.Za[0];var t=new g(this.length);return this.copyInternal(t,0),t},v.defineProperty(Kf.prototype,"length",{get:function(){return this.V},enumerable:!1,configurable:!0}),v.defineProperty(Kf.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),Kf.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new h("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new h("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*d.pow(2,8*(n-e-1));return i},Kf.prototype.slice=function(t,n){void 0===n&&(n=this.length);var i=Gf(t,0,this.length),e=Gf(n,0,this.length);if(i>e)return new Kf;if(i===e)return new Kf;for(var r=new Kf,u=this.findContainingBufferIndex(i),s=this.Za[u],o=i,a=o-this.Ka[u];o+s.length-a<e;)r.pushRange(s,a,s.length-a),u+=1,a=(o+=s.length-a)-this.Ka[u],s=this.Za[u];var c=e-o;return r.pushRange(s,a,c),r},Kf.prototype.trim=function(){if(0===this.length)return new Kf;for(var t=this.length-1,n=this.Za.length-1,i=this.Za[n],e=i.length-1;t>=0&&n>=0&&0===i[e];){if(0===e){if(0===n)return new Kf;n-=1,e=(i=this.Za[n]).length-1}else e-=1;t-=1}return this.slice(0,t+1)},Kf),tv=function(){function t(n){this.Ja=n||t.BUFFER_CHUNK_SIZE,this.Mn=!1,this.$a=new $f,this.Ga=new g(this.Ja),this.tc=0,this.nc=0,this.Qa=7}return t.prototype.closeByte=function(){this.Ga[this.tc++]=this.nc,this.tc>=this.Ja&&this.closeBuffer(),this.nc=0,this.Qa=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.tc&&(this.$a.pushRange(this.Ga,0,this.tc),t&&(this.Ga=new g(this.Ja)),this.tc=0)},v.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Qa},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Mn)throw new h("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Mn=!0,this.$a},t.prototype.writeBit=function(t){if(this.Mn)throw new h("Cannot write to a closed BitWriter.");this.nc|=t<<this.Qa,0===this.Qa?this.closeByte():this.Qa--},t.prototype.writeByte=function(t){if(this.Mn)throw new h("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.nc=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Qa;this.nc|=jf(t,n+1),this.closeByte(),this.nc=Yf(t,8-n)<<n+1,this.Qa=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.Mn)throw new h("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.tc+t.length<=this.Ja?(this.Ga.set(t,this.tc),this.tc+=t.length,this.tc===this.Ja&&this.closeBuffer()):(this.closeBuffer(),this.$a.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Qa;this.nc|=jf(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=Yf(t[i-1],8-n),r=jf(t[i],n+1);this.nc=e<<n+1|r,this.closeByte()}this.nc=Yf(t[t.length-1],8-n)<<n+1,this.Qa=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new h("Received a negative number.");if(n>32)throw new h("The max bitlength that can be provided is 32.");if(t>=d.pow(2,n))throw new h("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new h("The max bitlength that can be provided is 32.");if(d.abs(t)>=d.pow(2,n-1))throw new h("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+d.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new h("Received a negative number.");for(var n=d.floor(d.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new g(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}();me(),zt();var nv,iv,ev=((nv=function(t){this.rb=new $f,this.It=t}).prototype.closeWriter=function(){void 0!==this.It&&(this.rb=this.rb.concat(this.It.close()),this.It=void 0)},v.defineProperty(nv.prototype,"writer",{get:function(){return void 0===this.It&&(this.It=new tv),this.It},enumerable:!1,configurable:!0}),nv.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},nv.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},nv),rv=((iv=function(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new h("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}).prototype.serializeCommonBoxHeader=function(t){var n=this.getSize(),i=n>=iv.LARGE_SIZE/8,e=16===this.boxType.length;t.writeUInt(i?1:n,32),t.writeString(e?"uuid":this.boxType),i&&(t.writeUInt(d.floor(n/iv.LARGE_SIZE),32),t.writeUInt(n%iv.LARGE_SIZE,32)),e&&t.writeString(this.boxType)},iv.prototype.getSize=function(){var t=8+(this.boxType.length>4?16:0),n=this.getBoxContentSize()+t;return n>=iv.LARGE_SIZE/8&&(n+=8),n},iv.prototype.serialize=function(){var t=new ev;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},iv.LARGE_SIZE=d.pow(2,32),iv);function uv(t,n){return t instanceof Jr?64===n:t<d.pow(2,n)}function sv(t,n){return d.round(t*d.pow(2,n))}function ov(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function av(t,n){return t/d.pow(2,n)}me(),zt();var cv,hv,fv=(Vf(hv=function(t,n,i){var e=cv.call(this,t)||this;if(e.version=n,!uv(n,8))throw new h("the provided version cannot fit in 8 bits.");return e.flags=i,e},cv=rv),v.defineProperty(hv.prototype,"flags",{get:function(){return this.ic},set:function(t){this.ic=t},enumerable:!1,configurable:!0}),hv.prototype.getBoxContentSize=function(){return 4},hv.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new h("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},hv.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},hv);me(),zt(),me(),zt();var vv=function(t){var n=function(n,i){var e=t.call(this,n)||this;return e.data=i,e};return Vf(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat($f.from(this.data))},n}(rv);me(),zt(),me(),zt();var dv,lv=((dv=function(t){void 0===t&&(t=0),this.offset=t}).prototype.shift=function(t){this.offset+=t},dv.prototype.seek=function(t){this.offset=t},dv.prototype.clone=function(){return new dv(this.offset)},dv);me(),zt();var wv=16384;function _v(t){var n=t.length;if(n<=wv)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=wv)i.push(String.fromCharCode.apply(String,t.slice(e,e+wv)));return i.join("")}var gv,mv=((gv=function(t){this.raw=t}).prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},gv);function yv(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function pv(t,n,i){var e=Iv(Cv(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}function Av(t,n,i){return n.offset+i<=t.byteLength}function kv(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function bv(t,n,i){void 0===i&&(i=!1);var e=kv(t,n,i),r=kv(t,n,i),u=i?r:e,s=i?e:r;return Jr.fromBits(s,u,!0)}function Tv(t,n,i){var e,r=pv(t,n,i);return _v((e=r,[].slice.call(e)))}function Sv(t,n){var i,e=yv(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&yv(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&yv(t,n))+(63&yv(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&yv(t,n))+64*(63&yv(t,n))+(63&yv(t,n))),i}function Ev(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Sv(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return function(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return _v(n)}(e)}(t,n,!0)}function Iv(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new g(t.buffer,t.byteOffset+n,i-n)}function Rv(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Cv(t){return new g(t.buffer,t.byteOffset,t.byteLength)}var Nv,Dv=((Nv=function(t){void 0===t&&(t=0),this.offset=t}).prototype.shift=function(t){this.offset+=t},Nv.prototype.seek=function(t){this.offset=t},Nv.prototype.clone=function(){return new Nv(this.offset)},Nv.prototype.toBit=function(){return new lv(this.offset<<3)},Nv);me(),zt();var Pv,Bv=((Pv=function(t,n){this.data=t,this.cursor=n}).prototype.nextUint8=function(){return yv(this.data,this.cursor)},Pv.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},Pv.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},Pv.prototype.nextUint32=function(){return kv(this.data,this.cursor)},Pv.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},Pv.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=kv(t,n,i),r=kv(t,n,i),u=i?r:e,s=i?e:r;return Jr.fromBits(s,u,!1)}(this.data,this.cursor)},Pv.prototype.nextUint64=function(){return bv(this.data,this.cursor)},Pv.prototype.nextUint8Array=function(t){return pv(this.data,this.cursor,t)},Pv.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(kv(t,n));return e}(this.data,this.cursor,t)},Pv.prototype.nextChars=function(t){return Tv(this.data,this.cursor,t)},Pv.prototype.nextUTF8String=function(){return Ev(this.data,this.cursor)},Pv.prototype.skip=function(t){this.cursor.shift(t)},Pv.prototype.clone=function(){return new Pv(this.data,this.cursor.clone())},Pv);function Ov(t,n){return t.type===n}function xv(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=Lv(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new h("Data incomplete");return n.boxes}function Lv(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!Av(t,n,8)){return{complete:!1,neededOffset:u=n.offset+8}}var e=kv(t,n),r=Tv(t,n,4);if(1===e){if(!Av(t,n,8)){var u=n.offset+8;return n.seek(i),{complete:!1,neededOffset:u}}e=bv(t,n).toNumber()}if("uuid"===r){if(!Av(t,n,16)){u=n.offset+16;return n.seek(i),{complete:!1,neededOffset:u}}r=Tv(t,n,16)}var s=n.offset;return{complete:!0,header:{type:r,size:e,headerSize:s-i}}}(t,n);if(!e.complete)return e;var r=e.header,u=r.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var a,c,h,f={type:r.type,offset:i,data:new Bv((a=t,c=i,h=s,void 0===c&&(c=0),void 0===h&&(h=a.byteLength),new DataView(a.buffer,a.byteOffset+c,h-c)),new Dv(r.headerSize))};return n.seek(s),{complete:!0,box:f}}function Mv(t){return{version:t>>24,flags:new mv(16777215&t)}}function Fv(t,n){var i,e,r,u;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),u=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),u=t.nextUint32()),{creation:i,modification:e,scale:r,duration:u}}function Uv(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function Hv(t){var n=t.nextUint32Array(9);return{a:av(n[0],16),b:av(n[1],16),u:av(n[2],30),c:av(n[3],16),d:av(n[4],16),v:av(n[5],30),x:av(n[6],16),y:av(n[7],16),w:av(n[8],30)}}function Xv(t){return new vv(t.type,Iv(Cv(t.data.data),t.data.cursor.offset))}var zv=function(t){var n=function(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var u=t.call(this,"hdlr",e,r)||this;return u.name=i,u.handlerType=n,u};return Vf(n,t),v.defineProperty(n.prototype,"handlerType",{get:function(){return this.ec},set:function(t){this.ec=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(fv);function Vv(t){var n=t.data,i=Mv(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var u=n.nextChars(4);n.skip(12);var s=n.nextUTF8String();return new zv(u,s,e,r.raw)}!function(t){var n=function(){return t.call(this,"mdir")||this};Vf(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(zv);me(),zt(),me(),zt(),me(),zt();var Wv,qv=((Wv=function(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}).prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},v.defineProperty(Wv.prototype,"tag",{get:function(){return this.rc},set:function(t){if(!uv(t,8))throw new h("Provided tag does not fit in 8 bits.");this.rc=t},enumerable:!1,configurable:!0}),Wv.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},Wv.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},Wv);me(),zt();!function(t){var n=function(n,i,e,r,u,s,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=e,a.decoderSpecificInfo=s,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=r,a.maxBitrate=u.max,a.avgBitrate=u.avg,a};Vf(n,t),v.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.uc},set:function(t){if(!uv(t,8))throw new h("Provided objectTypeIndication does not fit in 8 bits.");this.uc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamType",{get:function(){return this.ac},set:function(t){if(!uv(t,6))throw new h("Provided streamType does not fit in 6 bits.");this.ac=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.cc},set:function(t){if(!uv(t,24))throw new h("Provided bufferSizeDb does not fit in 24 bits.");this.cc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.hc},set:function(t){if(!uv(t,32))throw new h("Provided maxBitrate does not fit in 32 bits.");this.hc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.fc},set:function(t){if(!uv(t,32))throw new h("Provided avgBitrate does not fit in 32 bits.");this.fc=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(qv);me(),zt();!function(t){var n=function(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e};Vf(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat($f.from(this.data))}}(qv);me(),zt(),me(),zt();var Gv=function(t){var n=function(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i};return Vf(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(qv);!function(t){var n=function(n,i,e,r){void 0===r&&(r={});var u=t.call(this,3,r.fixed28BitMode)||this;return u.decoderConfigDescriptor=e,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==r?void 0:r.dependsOnEsId,u.urlString=null==r?void 0:r.url,u.ocrEsId=null==r?void 0:r.ocrEsId,u.slConfigDescriptor=new Gv(r.fixed28BitMode),u};Vf(n,t),v.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"esId",{get:function(){return this.vc},set:function(t){if(!uv(t,16))throw new h("Provided esId does not fit in 16 bits.");this.vc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"streamPriority",{get:function(){return this.dc},set:function(t){if(!uv(t,5))throw new h("Provided streamPriority does not fit in 5 bits.");this.dc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.lc},set:function(t){if(t&&!uv(t,16))throw new h("Provided dependsOnEsId does not fit in 16 bits.");this.lc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.wc},set:function(t){if(t&&!uv(t,16))throw new h("Provided ocrEsId does not fit in 16 bits.");this.wc=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(qv);me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt();var jv=function(t){var n=function(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n};return Vf(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(rv),Yv=function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};return Vf(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(jv),Qv=function(t){var n=function(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e};return Vf(n,t),v.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this._c},set:function(t){if(!uv(t,16))throw new h("Provided dataReferenceIndex does not fit in 16 bits.");this._c=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Yv),Zv=function(t){var n=function(n,i,e,r){var u,s,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(u=e.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=e.sampleSize)&&void 0!==s?s:16,o.sampleRate=e.sampleRate,o};return Vf(n,t),v.defineProperty(n.prototype,"channelCount",{get:function(){return this.gc},set:function(t){if(!uv(t,16))throw new h("Provided channelCount does not fit in 16 bits.");this.gc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleSize",{get:function(){return this.mc},set:function(t){if(!uv(t,16))throw new h("Provided sampleSize does not fit in 16 bits.");this.mc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleRate",{get:function(){return this.yc},set:function(t){if(!uv(sv(t,16),32))throw new h("Provided rate does not fit in 32 bits (fixed 16.16).");this.yc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(sv(this.sampleRate,16),32),this.extra&&ov(n.writer,this.extra)},n}(Qv);me(),zt();!function(t){var n=function(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i};Vf(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Ac},set:function(t){if(!uv(t.length,32))throw new h("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!uv(t,32)})))throw new h("Not all entries can be represented in 32 bits.");this.Ac=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(fv);me(),zt();!function(t){var n=function(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i};Vf(n,t),v.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.kc},set:function(t){if(!uv(t,32))throw new h("Provided cleanApertureWidthN does not fit in 32 bits.");this.kc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.bc},set:function(t){if(!uv(t,32))throw new h("Provided cleanApertureWidthD does not fit in 32 bits.");this.bc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Tc},set:function(t){if(!uv(t,32))throw new h("Provided cleanApertureHeightN does not fit in 32 bits.");this.Tc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.Sc},set:function(t){if(!uv(t,32))throw new h("Provided cleanApertureHeightD does not fit in 32 bits.");this.Sc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Ec},set:function(t){if(!uv(t,32))throw new h("Provided horizOffN does not fit in 32 bits.");this.Ec=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Ic},set:function(t){if(!uv(t,32))throw new h("Provided horizOffD does not fit in 32 bits.");this.Ic=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Rc},set:function(t){if(!uv(t,32))throw new h("Provided vertOffN does not fit in 32 bits.");this.Rc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vertOffD",{get:function(){return this.Cc},set:function(t){if(!uv(t,32))throw new h("Provided vertOffD does not fit in 32 bits.");this.Cc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(rv);me(),zt();!function(t){var n=function(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e};Vf(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Ac},set:function(t){if(!uv(t.length,32))throw new h("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!uv(t.sampleCount,32)||!uv(t.sampleOffset,32)})))throw new h("Not all entries can be represented in 64 bits.");this.Ac=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(fv);me(),zt();!function(t){var n=function(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i};Vf(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Nc},set:function(t){this.flags=void 0===t?1:0,this.Nc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(fv);me(),zt();!function(t){var n=function(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r};Vf(n,t),v.defineProperty(n.prototype,"location",{get:function(){return this.Nc},set:function(t){if(1&this.flags)throw new h("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Nc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(fv);me(),zt();!function(t){var n=function(){return t.call(this,"dinf")||this};Vf(n,t)}(Yv);me(),zt(),me(),zt();var Kv=function(t){var n=function(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!uv(i,8))throw new h("the provided version cannot fit in 8 bits.");return r.flags=e,r};return Vf(n,t),v.defineProperty(n.prototype,"flags",{get:function(){return this.ic},set:function(t){this.ic=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new h("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(jv);!function(t){var n=function(){return t.call(this,"dref",0,0)||this};Vf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Kv);me(),zt(),me(),zt();var Jv=function(t){var n=function(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r};return Vf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.Ac},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!uv(e.segmentDuration,this.bitSize))throw new h("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!uv(e.mediaTime,this.bitSize))throw new h("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!uv(e.mediaRateInteger,16))throw new h("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!uv(e.mediaRateFraction,16))throw new h("Provided mediaRateFraction does not fit in 16 bits.")}this.Ac=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(fv),$v=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this};return Vf(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Jv),td=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this};return Vf(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Jv);function nd(t){for(var n=t.data,i=Mv(n.nextUint32()),e=i.version,r=i.flags,u=n.nextUint32(),s=[],o=0;o<u;o++){var a=void 0,c=void 0;0===e?(a=n.nextUint32(),c=n.nextInt32()):(a=n.nextUint64(),c=n.nextInt64());var h=n.nextInt16(),f=n.nextInt16();s.push({segmentDuration:a,mediaTime:c,mediaRateFraction:f,mediaRateInteger:h})}return 0===e?new $v(s,r.raw):new td(s,r.raw)}var id=function(t){var n=function(){return t.call(this,"edts")||this};return Vf(n,t),n}(Yv);function ed(t){for(var n=new id,i=0,e=xv(t.data);i<e.length;i++){var r=e[i];Ov(r,"elst")?n.boxes.push(nd(r)):n.boxes.push(Xv(r))}return n}me(),zt(),me(),zt();var rd=function(t){var n=function(n,i,e,r){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=e,u.compatibleBrands=r,u};return Vf(n,t),v.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Dc},set:function(t){if(4!==t.length)throw new h("the provided major brand does not conform to the 4 character requirement");this.Dc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Pc},set:function(t){if(!uv(t,32))throw new h("the provided minor version does not fit in 32 bits.");this.Pc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Bc},set:function(t){if(t.some((function(t){return 4!==t.length})))throw new h("Some of the compatible brands do not conform to the 4 character requirement");this.Bc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(rv),ud=function(t){var n=function(n,i,e){return t.call(this,"ftyp",n,i,e)||this};return Vf(n,t),n}(rd);function sd(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new ud(i,e,r)}me(),zt();var od=function(t){var n=function(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e};return Vf(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat($f.from(this.data))},n}(rv);me(),zt(),me(),zt();var ad=function(t){var n=function(n,i,e,r){void 0===r&&(r=0);var u=t.call(this,"mdhd",e,r)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u};return Vf(n,t),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Oc},set:function(t){if(!uv(t,this.bitSize))throw new h("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Oc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.xc},set:function(t){if(!uv(t,this.bitSize))throw new h("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.xc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Lc},set:function(t){if(!uv(t,32))throw new h("Provided sequence number does not fit in 32 bits.");this.Lc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Mc},set:function(t){if(!uv(t,this.bitSize))throw new h("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Mc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"language",{get:function(){return this.Fc},set:function(t){if(!vd(t))throw new h("Expected an ISO-639-2/T language code");this.Fc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(fv),cd=function(t){var n=function(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this};return Vf(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(ad),hd=function(t){var n=function(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this};return Vf(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(ad);function fd(t){var n=t.data,i=Mv(n.nextUint32()),e=i.version,r=i.flags,u=Fv(n,e),s=new Zf($f.from(n.nextUint8Array(2)));s.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(s.readUInt(5));var c=o.map((function(t){return String.fromCharCode(t+96)})).join("");return vd(c)||(c="und"),n.skip(2),0===e?new cd(u,c,r.raw):new hd(u,c,r.raw)}function vd(t){return/^[a-z]{3}$/.test(t)}var dd=function(t){var n=function(){return t.call(this,"mdia")||this};return Vf(n,t),n}(Yv);function ld(t){for(var n=new dd,i=0,e=xv(t.data);i<e.length;i++){var r=e[i];Ov(r,"mdhd")?n.boxes.push(fd(r)):Ov(r,"hdlr")?n.boxes.push(Vv(r)):n.boxes.push(Xv(r))}return n}me(),zt();var wd=function(t){var n=function(){var n=t.call(this,"mdat")||this;return n.data=new $f,n};return Vf(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(rv);function _d(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),e=new wd;return e.data.pushRange(i),e}me(),zt();!function(t){var n=function(){return t.call(this,"minf")||this};Vf(n,t)}(Yv);me(),zt();var gd,md;!function(t){var n=function(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i};Vf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Kv);me(),zt(),me(),zt(),(md=gd||(gd={})).VIDEO="vide",md.AUXILIARY_VIDEO="auxv",md.AUDIO="soun",md.METADATA="meta",md.HINT="hint",md.TEXT="text",md.SUBTITLE="subt",md.FONT="fdsm",me(),zt();var yd,pd,Ad,kd,bd={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Td(t,n){n.writer.writeUInt(sv(t.a,16),32),n.writer.writeUInt(sv(t.b,16),32),n.writer.writeUInt(sv(0,30),32),n.writer.writeUInt(sv(t.c,16),32),n.writer.writeUInt(sv(t.d,16),32),n.writer.writeUInt(sv(0,30),32),n.writer.writeUInt(sv(t.x,16),32),n.writer.writeUInt(sv(t.y,16),32),n.writer.writeUInt(sv(1,30),32)}function Sd(t,n){var i,e,r,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:yd.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Ad.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Ad.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:Ad.UNKNOWN,2)}function Ed(t,n){var i,e,r;n.writer.writeUInt(0,4),Sd(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}me(),zt(),(pd=yd||(yd={}))[pd.UNKNOWN=0]="UNKNOWN",pd[pd.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",pd[pd.NO=2]="NO",pd[pd.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY",(kd=Ad||(Ad={}))[kd.UNKNOWN=0]="UNKNOWN",kd[kd.YES=1]="YES",kd[kd.NO=2]="NO",kd[kd.RESERVED=3]="RESERVED",me(),zt(),me(),zt();var Id=function(){};me(),zt(),me(),zt(),me(),zt();var Rd=function(t){var n=function(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r};return Vf(n,t),v.defineProperty(n.prototype,"systemId",{get:function(){return this.Uc},set:function(t){if(16!==t.length)throw new h("Provided systemId length is not 16.");this.Uc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"data",{get:function(){return this.j},set:function(t){if(!uv(t.length,32))throw new h("Provided data length does not fit in 32 bits.");this.j=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat($f.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat($f.from(this.data))},n}(fv),Cd=function(t){var n=function(n,i){return t.call(this,0,n,i)||this};return Vf(n,t),n}(Rd),Nd=function(t){var n=function(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r};return Vf(n,t),v.defineProperty(n.prototype,"kIds",{get:function(){return this.Hc},set:function(t){if(!uv(t.length,32))throw new h("Provided kIds length cannot fit in 32 bits.");if(t.some((function(t){return 16!==t.length})))throw new h("Not all provided key ids are 16 bytes long.");this.Hc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat($f.from(e))}},n}(Rd);function Dd(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),u=0;u<r;u++)e.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new Nd(i,o,e):new Cd(i,o)}me(),zt(),me(),zt();var Pd=function(t){var n=function(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r};return Vf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Xc},set:function(t){if(!uv(t,this.bitSize))throw new h("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Xc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(fv),Bd=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this};return Vf(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Pd),Od=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this};return Vf(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Pd);function xd(t){var n=t.data,i=Mv(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Bd(n.nextUint32(),r.raw):new Od(n.nextUint64(),r.raw)}me(),zt();var Ld=function(t){var n=function(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var u,s,o,a=this;return(a=t.call(this,"trex",e,r)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,a.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a};return Vf(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.zc},set:function(t){if(!uv(t,32))throw new h("Provided track id does not fit in 32 bits.");this.zc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Vc},set:function(t){if(!uv(t,32))throw new h("Provided default sample description index does not fit in 32 bits.");this.Vc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Wc},set:function(t){if(!uv(t,32))throw new h("Provided default sample duration does not fit in 32 bits.");this.Wc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.qc},set:function(t){if(!uv(t,32))throw new h("Provided default sample size does not fit in 32 bits.");this.qc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Gc},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!uv(t.samplePaddingValue,3))throw new h("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!uv(t.sampleDegradationPriority,16))throw new h("Provided sample degradation priority does not fit in 16 bits.");this.Gc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Ed(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(fv);function Md(t){var n=t.data,i=Mv(n.nextUint32()),e=i.version,r=i.flags,u=n.nextUint32(),s=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),c=Uv(new Zf($f.from(n.nextUint8Array(4))));return new Ld(u,{sampleDescriptionIndex:s,sampleDuration:o,sampleSize:a,sampleFlags:c},e,r.raw)}var Fd=function(t){var n=function(){return t.call(this,"mvex")||this};return Vf(n,t),n}(Yv);function Ud(t){for(var n=new Fd,i=0,e=xv(t.data);i<e.length;i++){var r=e[i];Ov(r,"mehd")?n.boxes.push(xd(r)):Ov(r,"trex")?n.boxes.push(Md(r)):n.boxes.push(Xv(r))}return n}me(),zt();var Hd=function(t){function n(i,e,r,u,s){void 0===s&&(s=0);var o,a,c,h=this;return(h=t.call(this,"mvhd",u,s)||this).creationTime=i.creation,h.modificationTime=i.modification,h.timescale=i.scale,h.duration=i.duration,h.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,h.volume=null!==(a=r.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,h.matrix=null!==(c=r.matrix)&&void 0!==c?c:bd,h.jc=e,h}return Vf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Oc},set:function(t){if(!uv(t,this.bitSize))throw new h("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Oc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.xc},set:function(t){if(!uv(t,this.bitSize))throw new h("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.xc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Lc},set:function(t){if(!uv(t,32))throw new h("Provided sequence number does not fit in 32 bits.");this.Lc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Mc},set:function(t){if(!uv(t,this.bitSize))throw new h("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Mc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"rate",{get:function(){return this.Yc},set:function(t){if(!uv(sv(t,16),32))throw new h("Provided rate does not fit in 32 bits (fixed 16.16).");this.Yc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.Qc},set:function(t){if(!uv(sv(t,8),16))throw new h("Provided volume does not fit in 16 bits (fixed 8.8).");this.Qc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.Zc},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new h("(u, v, w) does not match the required (0, 0, 1)");this.Zc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.jc},set:function(t){if(0===t)throw new h("NextTrackId cannot be 0.");if(!uv(t,32))throw new h("NextTrackId cannot exceed 32 bits.");this.jc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(sv(this.rate,16),32),n.writer.writeUInt(sv(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Td(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(fv),Xd=function(t){var n=function(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this};return Vf(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Hd),zd=function(t){var n=function(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this};return Vf(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Hd);function Vd(t){var n=t.data,i=Mv(n.nextUint32()),e=i.version,r=i.flags,u=Fv(n,e),s=av(n.nextUint32(),16),o=av(n.nextUint16(),8);n.skip(2),n.skip(8);var a=Hv(n);n.skip(24);var c=n.nextUint32();return 0===e?new Xd(u,c,{rate:s,volume:o,matrix:a},r.raw):new zd(u,c,{rate:s,volume:o,matrix:a},r.raw)}me(),zt(),me(),zt();var Wd=function(t){var n=function(n,i,e,r,u,s,o){void 0===o&&(o={});var a,c,h,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=u,f.height=s,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(c=o.alternateGroup)&&void 0!==c?c:0,f.matrix=null!==(h=o.matrix)&&void 0!==h?h:bd,f};return Vf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"creationTime",{get:function(){return this.Oc},set:function(t){if(!uv(t,this.bitSize))throw new h("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Oc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"modificationTime",{get:function(){return this.xc},set:function(t){if(!uv(t,this.bitSize))throw new h("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.xc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"trackId",{get:function(){return this.zc},set:function(t){if(0===t)throw new h("trackId cannot be 0.");if(!uv(t,32))throw new h("trackId cannot exceed 32 bits.");this.zc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"duration",{get:function(){return this.Mc},set:function(t){if(!uv(t,this.bitSize))throw new h("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Mc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"volume",{get:function(){return this.Qc},set:function(t){if(!uv(sv(t,8),16))throw new h("Provided volume does not fit in 16 bits (fixed 8.8).");this.Qc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"width",{get:function(){return this.Kc},set:function(t){if(!uv(sv(t,16),32))throw new h("Provided width does not fit in 32 bits (fixed 16.16).");this.Kc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.Jc},set:function(t){if(!uv(sv(t,16),32))throw new h("Provided height does not fit in 32 bits (fixed 16.16).");this.Jc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"layer",{get:function(){return this.$c},set:function(t){if(!uv(t,16))throw new h("Provided layer does not fit in 16 bits.");this.$c=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.nh},set:function(t){if(!uv(t,16))throw new h("Provided alternateGroup does not fit in 16 bits.");this.nh=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"matrix",{get:function(){return this.Zc},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new h("(u, v, w) does not match the required (0, 0, 1)");this.Zc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(sv(this.volume,8),16),n.writer.writeUInt(0,16),Td(this.matrix,n),n.writer.writeUInt(sv(this.width,16),32),n.writer.writeUInt(sv(this.height,16),32)},n}(fv),qd=function(t){var n=function(n,i,e,r,u,s){return t.call(this,0,n,i,e,r,u,s)||this};return Vf(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Wd),Gd=function(t){var n=function(n,i,e,r,u,s){return t.call(this,1,n,i,e,r,u,s)||this};return Vf(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Wd);function jd(t){var n,i,e,r,u=t.data,s=Mv(u.nextUint32()),o=s.version,a=s.flags,c=a.isSet(8),h=a.isSet(4),f=a.isSet(2),v=a.isSet(1);0===o?(n=u.nextUint32(),i=u.nextUint32(),e=u.nextUint32(),u.skip(4),r=u.nextUint32()):(n=u.nextUint64(),i=u.nextUint64(),e=u.nextUint32(),u.skip(4),r=u.nextUint64()),u.skip(8);var d=u.nextInt16(),l=u.nextInt16(),w=av(u.nextInt16(),8);u.skip(2);var _=Hv(u),g=av(u.nextUint32(),16),m=av(u.nextUint32(),16);return 0===o?new qd({creation:n,modification:i,duration:r},e,w,g,m,{layer:d,matrix:_,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f}):new Gd({creation:n,modification:i,duration:r},e,w,g,m,{layer:d,matrix:_,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f})}var Yd=function(t){var n=function(){return t.call(this,"trak")||this};return Vf(n,t),n}(Yv);function Qd(t){for(var n=new Yd,i=0,e=xv(t.data);i<e.length;i++){var r=e[i];Ov(r,"tkhd")?n.boxes.push(jd(r)):Ov(r,"mdia")?n.boxes.push(ld(r)):Ov(r,"edts")?n.boxes.push(ed(r)):n.boxes.push(Xv(r))}return n}var Zd=function(t){var n=function(){return t.call(this,"moov")||this};return Vf(n,t),n}(Yv);function Kd(t){for(var n=new Zd,i=0,e=xv(t.data);i<e.length;i++){var r=e[i];Ov(r,"mvhd")?n.boxes.push(Vd(r)):Ov(r,"trak")?n.boxes.push(Qd(r)):Ov(r,"mvex")?n.boxes.push(Ud(r)):Ov(r,"pssh")?n.boxes.push(Dd(r)):n.boxes.push(Xv(r))}return n}me(),zt(),me(),zt(),me(),zt();var Jd=function(t){var n=function(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r};return Vf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.ih},set:function(t){if(!uv(t,this.bitSize))throw new h("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.ih=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(fv),$d=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this};return Vf(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(Jd),tl=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this};return Vf(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(Jd);function nl(t){var n=t.data,i=Mv(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new $d(n.nextUint32(),r.raw):new tl(n.nextUint64(),r.raw)}me(),zt();var il=function(t){var n=function(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e};return Vf(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.zc},set:function(t){if(!uv(t,32))throw new h("Provided track id does not fit in 32 bits.");this.zc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.eh},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new h("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new h("The base data offset present flag is not set.");if(t&&!uv(t,64))throw new h("Provided baseDataOffset does not fit in 32 bits.");this.eh=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.rh},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new h("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new h("The sample description index flag is not set.");if(t&&!uv(t,32))throw new h("Provided sampleDescriptionIndex does not fit in 32 bits.");this.rh=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Wc},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new h("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new h("The default sample duration present flag is not set.");if(t&&!uv(t,32))throw new h("Provided defaultSampleDuration does not fit in 32 bits.");this.Wc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.qc},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new h("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new h("The default sample size present flag is not set.");if(t&&!uv(t,32))throw new h("Provided defaultSampleSize does not fit in 32 bits.");this.qc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Gc},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new h("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new h("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!uv(t.samplePaddingValue,3))throw new h("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!uv(t.sampleDegradationPriority,16))throw new h("Provided sample degradation priority does not fit in 16 bits.");this.Gc=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Ed(this.defaultSampleFlags,n)},n}(fv);function el(t){var n=t.data,i=n.nextUint8(),e=new Zf($f.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),u=Boolean(e.readBit());e.skipBits(10);var s=Boolean(e.readBit()),o=Boolean(e.readBit()),a=Boolean(e.readBit());e.skipBits(1);var c=Boolean(e.readBit()),h=Boolean(e.readBit()),f=n.nextUint32(),v=h?n.nextUint64():void 0,d=c?n.nextUint32():void 0,l=a?n.nextUint32():void 0,w=o?n.nextUint32():void 0,_=s?Uv(new Zf($f.from(n.nextUint8Array(4)))):void 0;return new il({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:u,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:w,defaultSampleFlags:_},i)}me(),zt();var rl=function(t){var n=function(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r};return Vf(n,t),v.defineProperty(n.prototype,"dataOffset",{get:function(){return this.uh},set:function(t){if(t&&!uv(t,32))throw new h("Provided data offset does not fit in 32 bits.");this.uh=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.sh},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!uv(t.samplePaddingValue,3))throw new h("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!uv(t.sampleDegradationPriority,16))throw new h("Provided sample degradation priority does not fit in 16 bits.");this.sh=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.oh},set:function(t){var n,i;if(!uv(t.length,32))throw new h("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var u=r[e];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new h("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new h("The sample duration present flag is not set.");if(u.duration&&!uv(u.duration,32))throw new h("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new h("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new h("The sample size present flag is not set.");if(u.size&&!uv(u.size,32))throw new h("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new h("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new h("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!uv(u.flags.samplePaddingValue,3))throw new h("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!uv(u.flags.sampleDegradationPriority,16))throw new h("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new h("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new h("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!uv(u.compositionTimeOffset,32))throw new h("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.oh=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Ed(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&Ed(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(fv);function ul(t){var n=t.data,i=n.nextUint8(),e=new Zf($f.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),u=Boolean(e.readBit()),s=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var a=Boolean(e.readBit());e.skipBits(1);var c=Boolean(e.readBit()),h=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:s,sampleFlagsPresent:u,sampleCompositionTimeOffsetsPresent:r};c&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=Uv(new Zf($f.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<h;d++){var l={};o&&(l.duration=n.nextUint32()),s&&(l.size=n.nextUint32()),u&&(l.flags=Uv(new Zf($f.from(n.nextUint8Array(4))))),r&&(l.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(l)}return new rl(i,f,v)}var sl=function(t){var n=function(){return t.call(this,"traf")||this};return Vf(n,t),n}(Yv);function ol(t){for(var n=new sl,i=0,e=xv(t.data);i<e.length;i++){var r=e[i];Ov(r,"tfhd")?n.boxes.push(el(r)):Ov(r,"tfdt")?n.boxes.push(nl(r)):Ov(r,"trun")?n.boxes.push(ul(r)):n.boxes.push(Xv(r))}return n}var al=function(t){var n=function(){return t.call(this,"moof")||this};return Vf(n,t),n}(Yv);function cl(t){for(var n=new al,i=0,e=xv(t.data);i<e.length;i++){var r=e[i];Ov(r,"traf")?n.boxes.push(ol(r)):Ov(r,"pssh")?n.boxes.push(Dd(r)):n.boxes.push(Xv(r))}return n}me(),zt();!function(t){var n=function(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i};Vf(n,t),v.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.ah},set:function(t){if(!uv(t,32))throw new h("Provided sequence number does not fit in 32 bits.");this.ah=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(fv);me(),zt();var hl=function(t){var n=function(n){var i=t.call(this,"frma")||this;return i.codingName=n,i};return Vf(n,t),v.defineProperty(n.prototype,"codingName",{get:function(){return this.hh},set:function(t){if(4!==t.length)throw new h("Provided coding name was not 4 characters long.");this.hh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(rv);me(),zt();!function(t){var n=function(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e};Vf(n,t),v.defineProperty(n.prototype,"hSpacing",{get:function(){return this.fh},set:function(t){if(!uv(t,32))throw new h("Provided hSpacing does not fit in 32 bits.");this.fh=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"vSpacing",{get:function(){return this.dh},set:function(t){if(!uv(t,32))throw new h("Provided vSpacing does not fit in 32 bits.");this.dh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(rv);me(),zt();!function(t){var n=function(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r};Vf(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Yv);me(),zt();!function(t){var n=function(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new hl(n),r};Vf(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(rv);me(),zt();var fl=function(t){var n=function(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r};return Vf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"entries",{get:function(){return this.Ac},set:function(t){var n=this;if(!uv(t.length,32))throw new h("Number of entries provided does not fit in 32 bits.");if(t.some((function(t){return!uv(t,n.bitSize)})))throw new h("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Ac=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.lh},set:function(t){if(void 0===t)this.flags=0;else{if(!uv(t.auxInfoType,32))throw new h("Provided auxInfoType does not fit in 32 bits.");if(!uv(t.auxInfoTypeParameter,32))throw new h("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.lh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(fv);(function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};Vf(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}})(fl),function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};Vf(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(fl);me(),zt();!function(t){var n=function(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r};Vf(n,t),v.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.wh},set:function(t){if(!uv(t,8))throw new h("Provided defaultSampleInfoSize does not fit in a single byte.");this.wh=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this._h},set:function(t){if(!uv(t.length,32))throw new h("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some((function(t){return!uv(t,8)})))throw new h("Not all provided sampleInfoSizes fit in a byte.");this._h=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.lh},set:function(t){if(void 0===t)this.flags=0;else{if(!uv(t.auxInfoType,32))throw new h("Provided auxInfoType does not fit in 32 bits.");if(!uv(t.auxInfoTypeParameter,32))throw new h("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.lh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new h("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(fv);me(),zt();!function(t){var n=function(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i};Vf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Sd(e[i],n)}}}(fv);me(),zt();!function(t){var n=function(n){return t.call(this,"stsd",n,0)||this};Vf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Kv);me(),zt();var vl=function(t){var n=function(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r};return Vf(n,t),v.defineProperty(n.prototype,"groupingType",{get:function(){return this.gh},set:function(t){if(4!==t.length)throw new h("The provided groupingType does not equal 4 characters.");this.gh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(fv);(function(t){var n=function(n,i){return t.call(this,0,n,i)||this};Vf(n,t),n.prototype.serializeVersionBoxContent=function(t){}})(vl),function(t){var n=function(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r};Vf(n,t),v.defineProperty(n.prototype,"defaultLength",{get:function(){return this.yh},set:function(t){if(!uv(t,32))throw new h("The provided defaultLength does not fit in 32 bits.");this.yh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(vl),function(t){var n=function(n,i,e,r){void 0===r&&(r=0);var u=this;if(n<2)throw new h("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,u};Vf(n,t),v.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Vc},set:function(t){if(!uv(t,32))throw new h("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Vc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(vl);me(),zt();(function(t){var n=function(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i};Vf(n,t),v.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.ph},set:function(t){if(!uv(t.length,32))throw new h("Number of allowed samples cannot fit in 32 bits.");if(t.some((function(t){return!uv(t,32)})))throw new h("Not all sampleSizes can be represented in 32 bits.");this.ph=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}})(fv),function(t){var n=function(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e};Vf(n,t),v.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.qc},set:function(t){if(!uv(t,32))throw new h("Provided defaultSampleSize does not fit in 32 bits.");this.qc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"samples",{get:function(){return this.oh},set:function(t){if(!uv(t,32))throw new h("Number of allowed samples cannot fit in 32 bits.");this.oh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(fv);me(),zt();!function(t){var n=function(){return t.call(this,"stbl")||this};Vf(n,t)}(Yv);me(),zt();!function(t){var n=function(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i};Vf(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Ac},set:function(t){if(!uv(t.length,32))throw new h("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!uv(t.firstChunk,32)||!uv(t.sampleDescriptionIndex,32)||!uv(t.samplesPerChunk,32)})))throw new h("Not all entries can be represented in 96 bits.");this.Ac=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(fv);me(),zt();!function(t){var n=function(){return t.call(this,"schi")||this};Vf(n,t)}(Yv);me(),zt();!function(t){var n=function(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r};Vf(n,t),v.defineProperty(n.prototype,"schemeType",{get:function(){return this.Ah},set:function(t){if(4!==t.length)throw new h("The provided schemeType does not have a length of 4.");this.Ah=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.kh},set:function(t){if(!uv(t,32))throw new h("The provided schemeVersion does not fit in 23 bits.");this.kh=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"schemeUri",{get:function(){return this.Th},set:function(t){if(t&&4!==t.length)throw new h("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.Th=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(fv);me(),zt();var dl=function(t){var n=function(n,i,e,r,u,s,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=e,a.earliestPresentationTime=r,a.firstOffset=u,a.references=s,a};return Vf(n,t),v.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"referenceId",{get:function(){return this.Sh},set:function(t){if(!uv(t,32))throw new h("Provided referenceId does not fit in 32 bits.");this.Sh=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Lc},set:function(t){if(!uv(t,32))throw new h("Provided timescale does not fit in 32 bits.");this.Lc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.Eh},set:function(t){if(!uv(t,this.bitSize))throw new h("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.Eh=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"firstOffset",{get:function(){return this.Ih},set:function(t){if(!uv(t,this.bitSize))throw new h("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.Ih=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"references",{get:function(){return this.Rh},set:function(t){if(!uv(t.length,16))throw new h("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!uv(e.referencedSize,31))throw new h("Provided referenced size does not fit in 31 bits.");if(!uv(e.subsegmentDuration,32))throw new h("Provided subsegment duration does not fit in 31 bits.");if(!uv(e.sapType,3))throw new h("Provided SAP type does not fit in 3 bits.");if(!uv(e.sapDeltaTime,28))throw new h("Provided SAP delta time does not fit in 28 bits.")}this.Rh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(fv),ll=function(t){var n=function(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,e,r,u,s)||this};return Vf(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(dl),wl=function(t){var n=function(n,i,e,r,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,e,r,u,s)||this};return Vf(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(dl);me(),zt();var _l=function(t){var n=function(n,i,e){return t.call(this,"styp",n,i,e)||this};return Vf(n,t),n}(rd);function gl(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new _l(i,e,r)}me(),zt();!function(t){var n=function(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i};Vf(n,t),v.defineProperty(n.prototype,"balance",{get:function(){return this.Ch},set:function(t){if(t<-1||t>1)throw new h("Provided balance does not fit in the allowed range [-1, 1].");if(!uv(sv(t,8),16))throw new h("Provided balance does not fit in 16 bits (fixed 8.8).");this.Ch=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(sv(this.balance,8),16),n.writer.writeUInt(0,16)}}(fv);me(),zt();!function(t){var n=function(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i};Vf(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Ac},set:function(t){if(!uv(t.length,32))throw new h("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!uv(t,32)})))throw new h("Not all entries can be represented in 32 bits.");this.Ac=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(fv);me(),zt();!function(t){var n=function(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i};Vf(n,t),v.defineProperty(n.prototype,"entries",{get:function(){return this.Ac},set:function(t){if(!uv(t.length,32))throw new h("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!uv(t.sampleCount,32)||!uv(t.sampleDelta,32)})))throw new h("Not all entries can be represented in 64 bits.");this.Ac=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(fv);me(),zt();!function(t){var n=function(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i};Vf(n,t),v.defineProperty(n.prototype,"trackId",{get:function(){return this.zc},set:function(t){if(!uv(t,32))throw new h("The provided trackId does not fit in 32 bits.");this.zc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Kv);me(),zt();!function(t){var n=function(){return t.call(this,"udta")||this};Vf(n,t)}(Yv);me(),zt();var ml={red:0,green:0,blue:0};!function(t){var n=function(n,i){void 0===n&&(n=0),void 0===i&&(i=ml);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e};Vf(n,t),v.defineProperty(n.prototype,"opColor",{get:function(){return this.Nh},set:function(t){if(!uv(t.red,16)||!uv(t.green,16)||!uv(t.blue,16))throw new h("Not all colors could be represented in 16 bits.");this.Nh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(fv);me(),zt();var yl=function(t){var n=function(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var s,o,a,c,h,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(s=e.horizontal)&&void 0!==s?s:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=r.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(c=r.frameCount)&&void 0!==c?c:1,f.depth=null!==(h=r.depth)&&void 0!==h?h:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=u,f};return Vf(n,t),v.defineProperty(n.prototype,"width",{get:function(){return this.Kc},set:function(t){if(!uv(t,16))throw new h("Provided width does not fit in 16 bits.");this.Kc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"height",{get:function(){return this.Jc},set:function(t){if(!uv(t,16))throw new h("Provided height does not fit in 16 bits.");this.Jc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.Dh},set:function(t){if(!uv(sv(t,16),32))throw new h("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.Dh=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.Ph},set:function(t){if(!uv(sv(t,16),32))throw new h("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.Ph=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"compressorName",{get:function(){return this.Bh},set:function(t){if(t.length>31)throw new h("The provided compressorName should at most be 31 characters long.");this.Bh=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"frameCount",{get:function(){return this.Oh},set:function(t){if(!uv(t,16))throw new h("Provided frameCount does not fit in 16 bits.");this.Oh=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"depth",{get:function(){return this.Lh},set:function(t){if(!uv(t,16))throw new h("Provided depth does not fit in 16 bits.");this.Lh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(sv(this.horizontalResolution,16),32),n.writer.writeUInt(sv(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&ov(n.writer,this.extra)},n}(Qv);me(),zt(),me(),zt();!function(t){var n=function(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i};Vf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof g?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof g?n.concat($f.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(fv);me(),zt();!function(t){var n=function(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r};Vf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Zv);me(),zt();!function(t){var n=function(n,i,e,r){void 0===r&&(r={});var u=t.call(this,"mp4v",n,i,r)||this;return u.esDescriptor=e,u};Vf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(yl);me(),zt();!function(t){var n=function(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e};Vf(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Qv);me(),zt(),me(),zt();!function(t){var n=function(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i};Vf(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(rv);me(),zt();var pl;pl=function(t,n,i,e,r,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r},v.defineProperty(pl.prototype,"version",{get:function(){return this.Mh},set:function(t){if(!uv(t,8))throw new h("Provided version does not fit in 8 bits.");this.Mh=t},enumerable:!1,configurable:!0}),v.defineProperty(pl.prototype,"profileIndication",{get:function(){return this.Fh},set:function(t){if(!uv(t,8))throw new h("Provided profileIndication does not fit in 8 bits.");this.Fh=t},enumerable:!1,configurable:!0}),v.defineProperty(pl.prototype,"profileCompatibility",{get:function(){return this.Uh},set:function(t){if(!uv(t,8))throw new h("Provided profileCompatibility does not fit in 8 bits.");this.Uh=t},enumerable:!1,configurable:!0}),v.defineProperty(pl.prototype,"levelIndication",{get:function(){return this.Hh},set:function(t){if(!uv(t,8))throw new h("Provided levelIndication does not fit in 8 bits.");this.Hh=t},enumerable:!1,configurable:!0}),v.defineProperty(pl.prototype,"spsSets",{get:function(){return this.Xh},set:function(t){if(!uv(t.length,5))throw new h("Provided number of spsSets exceeds the max (32)");this.Xh=t},enumerable:!1,configurable:!0}),v.defineProperty(pl.prototype,"ppsSets",{get:function(){return this.Vh},set:function(t){if(!uv(t.length,8))throw new h("Provided number of ppsSets exceeds the max (256)");this.Vh=t},enumerable:!1,configurable:!0}),pl.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce((function(t,n){return t+n.length}),0)+2*this.ppsSets.length+this.ppsSets.reduce((function(t,n){return t+n.length}),0)},pl.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat($f.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,u=this.ppsSets;r<u.length;r++){var s=u[r];t.writer.writeUInt(s.length,16),t.concat($f.from(s))}};me(),zt();!function(t){var n=function(n,i,e,r,u){void 0===r&&(r={}),void 0===u&&(u=void 0);var s=t.call(this,"avc1",n,i,r)||this;return s.configurationBox=e,s.bitrateBox=u,s};Vf(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(yl);me(),zt();!function(t){var n=function(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r};Vf(n,t),v.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.cc},set:function(t){if(!uv(t,32))throw new h("Provided bufferSizeDb does not fit in 32 bits.");this.cc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"max",{get:function(){return this.Wh},set:function(t){if(!uv(t,32))throw new h("Provided max does not fit in 32 bits.");this.Wh=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"avg",{get:function(){return this.qh},set:function(t){if(!uv(t,32))throw new h("Provided avg does not fit in 32 bits.");this.qh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(rv);me(),zt(),me(),zt(),me(),zt();var Al=function(t){var n=function(n,i){var e,r,u,s,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new h("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new g(0),o};return Vf(n,t),v.defineProperty(n.prototype,"isProtected",{get:function(){return this.Gh},set:function(t){if(!uv(t,8))throw new h("Provided isProtected does not fit in 1 byte.");this.Gh=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.jh},set:function(t){if(![8,16].includes(t))throw new h("Provided perSampleIvSize does not match any allowed value [8, 16].");this.jh=t,this.Yh=new g(0)},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"kId",{get:function(){return this.Qh},set:function(t){if(16!==t.length)throw new h("Provided kId length is not 16.");this.Qh=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"constantIv",{get:function(){return this.Yh},set:function(t){if(![8,16].includes(t.length))throw new h("Provided constant IV length does not match any allowed value [8, 16].");this.Yh=t,this.jh=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),ov(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),ov(t.writer,this.constantIv))},n}(fv),kl=(function(t){var n=function(n){return t.call(this,0,n)||this};Vf(n,t)}(Al),function(t){var n=function(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i};return Vf(n,t),v.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Zh},set:function(t){if(!uv(t,4))throw new h("Provided cryptByteBlocks does not fit in 4 bits.");this.Zh=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Kh},set:function(t){if(!uv(t,4))throw new h("Provided skipByteBlocks does not fit in 4 bits.");this.Kh=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(Al));!function(t){var n=function(n){var i=t.call(this)||this;return i.tencBox=new kl(n),i};Vf(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Id);function bl(t){return void 0!==t.iv}function Tl(t){return void 0!==t.subsamples}me(),zt();!function(t){var n=function(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i};Vf(n,t),v.defineProperty(n.prototype,"samples",{get:function(){return this.oh},set:function(t){var n;if(!uv(t.length,32))throw new h("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(bl(r)&&![8,16].includes(r.iv.length))throw new h("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Tl(r)),!0===n&&!Tl(r)||!1===n&&Tl(r))throw new h("Mix of samples with and without subsamples detected.");if(Tl(r)){if(!uv(r.subsamples.length,16))throw new h("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];if(!uv(o.clearData,16))throw new h("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!uv(o.protectedData,23))throw new h("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.oh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];bl(r)&&(n+=r.iv.length),Tl(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(bl(r)&&ov(n.writer,r.iv),Tl(r)){n.writer.writeUInt(r.subsamples.length,16);for(var u=0,s=r.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(fv);me(),zt(),me(),zt();!function(t){var n=function(n,i,e,r,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=e,s.timescale=r.timescale,s.presentationTimeDelta=r.presentationTimeDelta,s.eventDuration=r.eventDuration,s};Vf(n,t),v.defineProperty(n.prototype,"timescale",{get:function(){return this.Lc},set:function(t){if(!uv(t,32))throw new h("The provided timescale does not fit in 32 bits.");this.Lc=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Jh},set:function(t){if(!uv(t,32))throw new h("The provided presentationTimeDelta does not fit in 32 bits.");this.Jh=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"eventDuration",{get:function(){return this.$h},set:function(t){if(!uv(t,32))throw new h("The provided eventDuration does not fit in 32 bits.");this.$h=t},enumerable:!1,configurable:!0}),v.defineProperty(n.prototype,"id",{get:function(){return this.tf},set:function(t){if(!uv(t,32))throw new h("The provided id does not fit in 32 bits.");this.tf=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat($f.from(this.data))}}(fv);me(),zt(),me(),zt(),me(),zt();var Sl,El=((Sl=function(){this.boxes=[]}).prototype.serialize=function(){for(var t=new ev,n=0,i=this.boxes;n<i.length;n++){var e=i[n];t.concat(e.serialize())}return t.toRangedBuffer()},Sl);function Il(t,n){return function(i){var e=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=Lv(i,e);if(!r.complete)return;if(Ov(r.box,n))return r.box}}(new Bv(Rv(i),new Dv),t);if(!e)throw new h("".concat(t," box not found"));return n(e)}}var Rl=Il("moov",Kd),Cl=Il("sidx",(function(t){var n,i,e=t.data,r=Mv(e.nextUint32()),u=r.version,s=r.flags,o=e.nextUint32(),a=e.nextUint32();0===u?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var c=e.nextUint16(),h=[],f=0;f<c;f++){var v=new Zf($f.from(e.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),w=v.readUInt(32),_=Boolean(v.readBit()),g=v.readUInt(3),m=v.readUInt(28);h.push({referenceType:d,referencedSize:l,subsegmentDuration:w,startsWithSap:_,sapType:g,sapDeltaTime:m})}return 0===u?new ll(o,a,n,i,h,s.raw):new wl(o,a,n,i,h,s.raw)})),Nl=Il("moof",cl),Dl=Il("pssh",Dd);function Pl(t){return function(t){for(var n=new El,i=0,e=xv(t);i<e.length;i++){var r=e[i];Ov(r,"ftyp")?n.boxes.push(sd(r)):Ov(r,"styp")?n.boxes.push(gl(r)):Ov(r,"moov")?n.boxes.push(Kd(r)):Ov(r,"moof")?n.boxes.push(cl(r)):Ov(r,"mdat")?n.boxes.push(_d(r)):n.boxes.push(Xv(r))}return n}(new Bv(Rv(t),new Dv))}var Bl=function(t){function n(n,i){var e;(e=t.call(this)||this).nf=n,e.if=i,e.ef=!1,e.rf=function(){e.uf()},e.sf=function(t){e.Ho(new wh(mu(e),t.messageType,Uf(e.if,t.message)))},e.cf=function(){e.ef=!0,e.hf.Ca>0&&(e.hf.Ra(),e.Ho(new lh(mu(e)))),e.nf.removeEventListener("keystatuseschange",e.rf),e.nf.removeEventListener("message",e.sf)},e.nf.addEventListener("keystatuseschange",e.rf),e.nf.addEventListener("message",e.sf),e.hf=new ph;var r=[];return e.nf.closed&&r.push(j.resolve(e.nf.closed)),e.vf=new Mf,r.push(e.vf.Fa),e.vt=j.race(r).then(e.cf,e.cf),e.uf(),e}ze(n,t);var i=n.prototype;return i.df=function(){if(this.ef)return this.vt;var t=[];return t.push(j.resolve(this.nf.close())),t.push(rh(1e3)),this.vf.Oo(j.race(t).catch(Ol)),this.ef=!0,this.vt},i.lf=function(t,n,i){if(tr._e){var e=Dl(Df(n));if(1===e.version)n=new Cd(e.systemId,e.data).serialize().join()}return j.resolve(this.nf.generateRequest(t,n)).catch(Ol)},i.wf=function(t){return j.resolve(this.nf.load(t)).catch(Ol)},i._f=function(){return j.resolve(this.nf.remove()).catch(Ol)},i.gf=function(t){return j.resolve(this.nf.update(t)).catch(Ol)},i.uf=function(){var t=this;this.hf.Ra(),this.nf.keyStatuses.forEach((function(n,i){t.mf(i,n)})),this.Ho(new lh(this))},i.mf=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Df(t);if(this.if===Ha&&16===e.byteLength){var r=Rf(e),u=r.getUint32(0,!0),s=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,u,!1),r.setUint16(4,s,!1),r.setUint16(6,o,!1)}this.if===Ha&&"status-pending"===n&&(n="usable"),this.hf.Ia(e,n)},pe(n,[{key:"yf",get:function(){return this.vt}},{key:"pf",get:function(){return this.nf.expiration}},{key:"Af",get:function(){return this.hf}},{key:"kf",get:function(){return this.nf.sessionId}}]),n}(oh);function Ol(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|l(i[1],16))}throw new Xf(t.message,void 0,n,t)}var xl=function(){function t(t,n,i){this.bf=t,this.Tf=n,this.Sf=i}var n=t.prototype;return n.Ef=function(t){var n=this;return _a((function(){return ma(this,(function(i){return[2,new Bl(n.bf.createSession(t),n.Tf)]}))}))()},n.If=function(t){return j.resolve(this.bf.setServerCertificate(t))},n.Rf=function(t){return j.resolve(t.setMediaKeys(this.bf))},n.Cf=function(t){return j.resolve(t.setMediaKeys(null))},n.Nf=function(){return j.resolve()},t}(),Ll=function(){function t(t,n,i){this.Df=t,this.if=n,this.Pf=i}var n=t.prototype;return n.Bf=function(){var t=this;return _a((function(){var n;return ma(this,(function(i){switch(i.label){case 0:return[4,t.Df.createMediaKeys()];case 1:return n=i.sent(),[2,new xl(n,t.if,t.Pf)]}}))}))()},n.Of=function(){return this.Pf},pe(t,[{key:"Tf",get:function(){return this.Df.keySystem}}]),t}();me(),zt(),me(),zt();var Ml="video/avc",Fl="video/hevc",Ul="video/mp4",Hl="video/mpeg",Xl="video/mpeg2",zl="video/webm",Vl="video/x-unknown",Wl="audio/mp4",ql="audio/webm",Gl="image/jpeg",jl="application/ttml+xml",Yl="application/mp4",Ql="text/vtt";function Zl(t){return ic(t,Yl)||ic(t,Ul)||ic(t,Wl)}function Kl(t){return ic(t,zl)||ic(t,ql)}var Jl=function(){function t(t,n){this.Gs=t,this.xf=n}return t.prototype.Lf=function(t){for(var n=0,i=this.xf;n<i.length;n++){var e=ya(i[n],2),r=e[0],u=e[1];if(r.toLowerCase()===t.toLowerCase())return u}},t}();function $l(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Jl(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),u=[],s=0,o=!1,a=0;a<r.length;a++){var c=r[a];if(o||";"!==c)'"'===c&&(o=!o);else{var h=tw(r.substr(s,a));h&&u.push(h),s=a+1}}if(s!==r.length){var f=tw(r.substr(s));f&&u.push(f)}return new Jl(e,u)}function tw(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function nw(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function iw(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);i&&(n="avc1."+oc((Number(i[1])<<16|Number(i[2])).toString(16),6,"0"));return n}function ew(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,Mf:e.Mf},s=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter((function(t){return Boolean(t.contentType)}));o.length&&(u.audioCapabilities=o.filter((function(e){return rw(t,n,i,e)})),s=!0,u.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var a=e.videoCapabilities.filter((function(t){return Boolean(t.contentType)}));a.length&&(u.videoCapabilities=a.filter((function(e){return rw(t,n,i,e)})),s=!0,u.videoCapabilities.length&&(r=!0))}return s||(r=t(i,"video/mp4")),r?u:void 0}}function rw(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Dc(n,e.encryptionScheme))&&(!e.robustness&&t(i,nw(e.contentType))))}function uw(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,u=t.audioCapabilities;r<u.length;r++){var s=u[r];if(s.contentType)return s.contentType}}function sw(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function ow(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(aw))||!(!t.videoCapabilities||!t.videoCapabilities.some(aw))}function aw(t){return!t.robustness}function cw(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(ga({},r,{robustness:n}))}return i}var hw=function(){function t(){}return t.prototype.oo=function(t,n){return _a((function(){var i,e,r,s,o,a,c;return ma(this,(function(h){switch(h.label){case 0:for(n=n.filter((function(t){return!t.Mf})),i=0;i<n.length;i++)(e=n[i]).audioCapabilities&&(e.audioCapabilities=sw(e.audioCapabilities)),e.videoCapabilities&&(e.videoCapabilities=sw(e.videoCapabilities));if(t!==Va||!n.some(ow))return[3,4];r=n.map((function(t){return function(t,n){return ga({},t,{videoCapabilities:t.videoCapabilities?cw(t.videoCapabilities,n):void 0,audioCapabilities:t.audioCapabilities?cw(t.audioCapabilities,n):void 0})}(t,"SW_SECURE_CRYPTO")})),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,u.requestMediaKeySystemAccess(t,r)];case 2:return s=h.sent(),o=s.getConfiguration(),[2,new Ll(s,t,o)];case 3:return h.sent(),[3,4];case 4:return[4,u.requestMediaKeySystemAccess(t,n)];case 5:return a=h.sent(),c=a.getConfiguration(),[2,new Ll(a,t,c)]}}))}))()},t.Ff=function(){return dc()},t}();me(),zt(),me(),zt(),Ae(),me(),zt(),me(),zt(),Ae();var fw=function(t){function n(n,i){var e;return(e=t.call(this)||this).Uf=n,e.Hf=i,e.ef=!1,e.Xf=void 0,e.zf=void 0,e.Vf=void 0,e.cf=function(){e.ef=!0,e.Wf.Ua(void 0),e.Vf&&(e.Vf.removeEventListener("mskeyclose",e.cf),e.Vf.removeEventListener("mskeymessage",e.qf),e.Vf.removeEventListener("mskeyerror",e.Gf),e.Vf.removeEventListener("mskeyadded",e.jf))},e.qf=function(t){e.zf&&(e.zf.Ua(void 0),e.zf=void 0),e.Ho(new wh(mu(e),"license-request",Bf(t.message).buffer,t.destinationURL||void 0))},e.Gf=function(){var t=e.Vf&&e.Vf.error;if(t){var n=new Xf("Unknown CDM error",t.code,t.systemCode);if(e.zf)e.zf.Ha(n),e.zf=void 0;else if(e.Xf)e.Xf.Ha(n),e.Xf=void 0;else switch(n.Xa){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Yf("output-not-allowed");break;default:e.Yf("internal-error")}}},e.jf=function(){e.zf&&(e.Yf("usable"),e.zf.Ua(void 0),e.zf=void 0),e.Xf&&(e.Yf("usable"),e.Xf.Ua(void 0),e.Xf=void 0)},e.Wf=new Mf,e.Qf=new ph,e}ze(n,t);var i=n.prototype;return i.lf=function(t,n,i){var e=this;return _a((function(){return ma(this,(function(t){switch(t.label){case 0:return e.Zf(),e.zf=new Mf,e.Ef(Df(n),i),[4,e.zf.Fa];case 1:return t.sent(),[2]}}))}))()},i.Ef=function(t,n){if(!t)throw new f("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Kf;return(i=n?this.Uf.createSession(this.Hf,t,e):this.Uf.createSession(this.Hf,t)).addEventListener("mskeyclose",this.cf),i.addEventListener("mskeymessage",this.qf),i.addEventListener("mskeyerror",this.Gf),i.addEventListener("mskeyadded",this.jf),this.Vf=i,this.Yf("status-pending"),i},i.wf=function(t){var n=this;return _a((function(){return ma(this,(function(t){return n.Zf(),[2,!0]}))}))()},i.gf=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:if(n.Xf=new Mf,n.Zf(),!n.Vf)return[2,j.resolve()];if(0===(i=Df(t)).byteLength)throw new f("Cannot call update with an empty response.");return n.Vf.update(i),[4,n.Xf.Fa];case 1:return e.sent(),[2]}}))}))()},i.df=function(){return!this.ef&&this.Vf&&(this.ef=!0,this.Vf.close()),this.Wf.Fa},i._f=function(){var t=this;return _a((function(){return ma(this,(function(n){return t.Zf(),[2]}))}))()},i.Zf=function(){if(this.ef)throw new f("Already closing or closed.")},i.Yf=function(t){this.Qf.Ra(),this.Qf.Ia(yh,t),this.Ho(new lh(this))},pe(n,[{key:"kf",get:function(){return this.Vf&&this.Vf.sessionId||""}},{key:"pf",get:function(){return NaN}},{key:"yf",get:function(){return this.Wf.Fa}},{key:"Af",get:function(){return this.Qf}}]),n}(oh),vw=function(){function t(t,n,i){this.Uf=t,this.Tf=n,this.Sf=i;var e=uw(i)||"video/mp4";this.Hf=nw(e)}var n=t.prototype;return n.Ef=function(t){var n=this;return _a((function(){return ma(this,(function(t){return[2,new fw(n.Uf,n.Hf)]}))}))()},n.If=function(t){return j.resolve(!1)},n.Rf=function(t){var n=this,i=function(){t.msSetMediaKeys(n.Uf),t.removeEventListener("loadedmetadata",i)};return t.readyState>=1?t.msSetMediaKeys(this.Uf):t.addEventListener("loadedmetadata",i),j.resolve()},n.Cf=function(t){return j.resolve()},n.Nf=function(){return j.resolve()},t}(),dw=function(){function t(t,n){this.if=t,this.Jf=n}var n=t.prototype;return n.Of=function(){return this.Jf},n.Bf=function(){var t=new Oo.MSMediaKeys(this.if);return j.resolve(new vw(t,this.if,this.Jf))},pe(t,[{key:"Tf",get:function(){return this.if}}]),t}(),lw=function(){function t(){}return t.prototype.oo=function(t,n){try{return j.resolve(function(t,n){if(!ww())throw new f("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=ew(_w,vh,t,e);if(r)return new dw(t,r)}throw new f("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.Ff=function(){return ww()},t}();function ww(){return void 0!==Oo.MSMediaKeys&&"function"==typeof Oo.MSMediaKeys.isTypeSupported}function _w(t,n){return Oo.MSMediaKeys.isTypeSupported(t,n)}me(),zt(),me(),zt(),Ae(),me(),zt(),me(),zt(),Ae();var gw,mw,yw,pw,Aw=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).$f=n,r.Hf=i,r.tv=e,r.Wf=new Mf,r.ev=void 0,r.Qf=new ph,r.rv=void 0,r.uv=new Mf,r.Gf=function(){var t=r.rv&&r.rv.error;if(t){var n=new Xf("Unknown CDM error",t.code,t.systemCode);r.ev?(r.ev.Ha(n),r.ev=void 0):n.Xa===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Yf("output-not-allowed"):r.Yf("internal-error"),r.Ho(new _h)}},r.qf=function(t){r.Ho(new wh(mu(r),"license-request",Bf(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.jf=function(){r.ev&&(r.ev.Ua(void 0),r.ev=void 0),r.Yf("usable")},r}ze(n,t);var i=n.prototype;return i.lf=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.ov;if(!e)throw new f("Expected FairPlay contentId to be defined but was "+e+".");var r=kw(Df(n),e,this.tv);return this.rv=this.$f.createSession(this.Hf,r),this.rv.addEventListener("webkitkeymessage",this.qf,!1),this.rv.addEventListener("webkitkeyadded",this.jf,!1),this.rv.addEventListener("webkitkeyerror",this.Gf,!1),this.Yf("status-pending"),this.uv.Ua(this.rv),this.uv=new Mf,j.resolve()},i.wf=function(t){return j.resolve(!0)},i.gf=function(t){var n=this;return _a((function(){var i,e;return ma(this,(function(r){switch(r.label){case 0:if(0===(i=Df(t)).byteLength)throw new f("Cannot call update with an empty response.");return n.ev=new Mf,(e=n.rv)?[3,2]:[4,n.uv.Fa];case 1:e=r.sent(),r.label=2;case 2:return e.update(i),[4,n.ev.Fa];case 3:return r.sent(),[2]}}))}))()},i.df=function(){var t,n=this.rv;return n&&(n.removeEventListener("webkitkeymessage",this.qf,!1),n.removeEventListener("webkitkeyadded",this.jf,!1),n.removeEventListener("webkitkeyerror",this.Gf,!1),n.close()),this.uv.Bo(),null==(t=this.ev)||t.Bo(),this.Wf.Ua(void 0),this.Wf.Fa},i._f=function(){return j.resolve(void 0)},i.Yf=function(t){this.Qf.Ra(),this.Qf.Ia(yh,t),this.Ho(new lh(this))},pe(n,[{key:"kf",get:function(){return this.rv?this.rv.sessionId:""}},{key:"pf",get:function(){return NaN}},{key:"yf",get:function(){return this.Wf.Fa}},{key:"Af",get:function(){return this.Qf}}]),n}(oh);function kw(t,n,i){var e=bf(t),r=2*e.length,u=2*n.length,s=new ArrayBuffer(4+r+4+u+4+i.byteLength),o=new DataView(s),a=new xf;return uf(o,a,r,!0),_f(o,a,e,!0),uf(o,a,u,!0),_f(o,a,n,!0),uf(o,a,i.byteLength,!0),Jh(o,a,i),new g(s)}me(),zt(),Ae(),me(),zt(),(mw=gw||(gw={}))[mw.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",mw[mw.LICENSE_ERROR=2e3]="LICENSE_ERROR",mw[mw.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",mw[mw.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",mw[mw.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",mw[mw.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",mw[mw.SOURCE_INVALID=3e3]="SOURCE_INVALID",mw[mw.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",mw[mw.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",mw[mw.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",mw[mw.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",mw[mw.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",mw[mw.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",mw[mw.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",mw[mw.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",mw[mw.MEDIA_ABORTED=5004]="MEDIA_ABORTED",mw[mw.NETWORK_ERROR=6e3]="NETWORK_ERROR",mw[mw.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",mw[mw.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",mw[mw.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",mw[mw.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",mw[mw.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",mw[mw.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",mw[mw.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",mw[mw.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",mw[mw.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",mw[mw.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",mw[mw.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",mw[mw.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",mw[mw.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",mw[mw.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",mw[mw.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",mw[mw.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",mw[mw.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",mw[mw.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",mw[mw.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",mw[mw.AD_ERROR=1e4]="AD_ERROR",mw[mw.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",mw[mw.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",mw[mw.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",mw[mw.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",(pw=yw||(yw={}))[pw.CONFIGURATION=1]="CONFIGURATION",pw[pw.LICENSE=2]="LICENSE",pw[pw.SOURCE=3]="SOURCE",pw[pw.MANIFEST=4]="MANIFEST",pw[pw.MEDIA=5]="MEDIA",pw[pw.NETWORK=6]="NETWORK",pw[pw.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",pw[pw.SUBTITLE=8]="SUBTITLE",pw[pw.VR=9]="VR",pw[pw.AD=10]="AD",pw[pw.FULLSCREEN=11]="FULLSCREEN",pw[pw.CACHE=12]="CACHE",(yw||(yw={})).fromCode=function(t){var n=d.floor(t/1e3);if(n in yw)return n;throw new f("Invalid error code: "+t)};var bw=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).code=n,r}return ze(n,t),pe(n,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return yw.fromCode(this.code)}}]),n}(pu);var Tw=function(){function t(t,n,i){this.$f=t,this.Tf=n,this.Sf=i,this.tv=void 0;var e=uw(i)||"video/mp4";this.Hf=nw(e)}var n=t.prototype;return n.getInternalMediaKeys=function(){return this.$f},n.Ef=function(t){var n=this;return _a((function(){return ma(this,(function(t){if(!n.tv)throw new bw(gw.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return[2,new Aw(n.$f,n.Hf,n.tv)]}))}))()},n.If=function(t){return this.tv=Df(t),j.resolve(!0)},n.Rf=function(t){return t.webkitSetMediaKeys(this.$f),j.resolve()},n.Cf=function(t){return t.webkitSetMediaKeys(null),j.resolve()},n.Nf=function(){return j.resolve()},t}(),Sw=function(){function t(t,n){this.if=t,this.Jf=n}var n=t.prototype;return n.Of=function(){return this.Jf},n.Bf=function(){var t=new Oo.WebKitMediaKeys(this.if);return j.resolve(new Tw(t,this.if,this.Jf))},pe(t,[{key:"Tf",get:function(){return this.if}}]),t}(),Ew=function(){function t(){}return t.prototype.oo=function(t,n){try{return j.resolve(function(t,n){if(t!==ja)throw new f(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Iw())throw new f("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=ew(Rw,dh,t,e);if(r)return new Sw(t,r)}throw new f("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.Ff=function(){return Iw()},t}();function Iw(){return void 0!==Oo.WebKitMediaKeys&&"function"==typeof Oo.WebKitMediaKeys.isTypeSupported}function Rw(t,n){return Oo.WebKitMediaKeys.isTypeSupported(t,n)}me(),zt();var Cw=function(){function t(t){this.hv=t}return t.prototype.oo=function(t,n){var i=this;return _a((function(){var e,r,u;return ma(this,(function(s){switch(s.label){case 0:e=0,r=i.hv,s.label=1;case 1:if(!(e<r.length))return[3,6];u=r[e],s.label=2;case 2:return s.trys.push([2,4,,5]),[4,u.oo(t,n)];case 3:return[2,s.sent()];case 4:return s.sent(),[3,5];case 5:return e++,[3,1];case 6:throw new f("Unsupported key system configuration for "+t)}}))}))()},t}();me(),zt(),me(),zt(),me(),zt(),me(),zt(),Ae(),me(),zt();var Nw=function(){function t(t){var n=this;this.fv=[],this.vv=void 0,this.wv=new Wc,this._v=function(){return 0===n.fv.length?n.mv?Dw(n.mv,n.wv.Lo).then(n.yv,n.yv):n.yv():n.fv.shift()().then(n._v)},this.yv=function(){if(0!==n.fv.length)return n._v();n.vv=void 0},this.mv=t}var n=t.prototype;return n.pv=function(t,n){var i=this;return new j((function(e){var r=new Wc;r.Oo(i.wv.Lo),n&&r.Oo(n);var u=function(){r.Io()};i.fv.push((function(){var n=Dw(t,r.Lo);return e(n),n.then(u,u)})),i.vv||(i.vv=i._v())}))},n.Bo=function(){return this.Av(!0)},n.bv=function(){return this.mv=void 0,this.Av(!1)},n.Av=function(t){var n=this.vv;return this.wv.Bo(),t&&(this.wv=new Wc),j.resolve(n)},t}();function Dw(t,n){return new j((function(i){return i(t(n))}))}var Pw,Bw=new Nw,Ow=function(t){function n(n){var i;return(i=t.call(this)||this).if=n,i.zf=void 0,i.ev=void 0,i.Mn=!1,i.Tv=void 0,i.Sv=void 0,i.Wf=new Mf,i.Ev="",i.Iv=new Mf,i.Rv=new ph,i}ze(n,t);var i=n.prototype;return i.Cv=function(){this.ev&&(this.Yf("usable"),this.ev.Ua(void 0),this.ev=void 0)},i.Nv=function(t){var n=new Xf("Unknown CDM error",t.errorCode,t.systemCode);this.ev?(this.ev.Ha(n),this.ev=void 0):this.zf?(this.zf.Ha(n),this.zf=void 0):n.Xa===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Yf("output-restricted"):1===n.Va?this.Yf("expired"):this.Yf("internal-error")},i.Dv=function(t){0!==t.message.byteLength&&(this.zf&&(this.zf.Ua(void 0),this.zf=void 0),this.Ho(new wh(this,"license-request",Uf(this.if,Bf(t.message).buffer),t.defaultURL||void 0)))},i.Pv=function(t){this.Sv||(this.Sv=t,this.Iv.Ua(t))},i.df=function(){var t=this;return _a((function(){return ma(this,(function(n){return t.throwIfClosed(),t.ev&&(t.ev.Ha(void 0),t.ev=void 0),t.Mn=!0,t.Wf.Ua(void 0),[2]}))}))()},i.lf=function(t,n){var i=this;return _a((function(){var t;return ma(this,(function(e){switch(e.label){case 0:return i.throwIfClosed(),i.zf=new Mf,i.Tv=Df(n),(t=i.Sv)?[3,2]:[4,i.Iv.Fa];case 1:t=e.sent(),e.label=2;case 2:return t.webkitGenerateKeyRequest(i.if,i.Tv),[4,i.zf.Fa];case 3:return e.sent(),[2]}}))}))()},i.wf=function(t){var n=this;return _a((function(){return ma(this,(function(t){return n.throwIfClosed(),[2,!1]}))}))()},i._f=function(){var t=this;return _a((function(){return ma(this,(function(n){return t.throwIfClosed(),[2]}))}))()},i.gf=function(t){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return n.throwIfClosed(),n.ev=new Mf,tr.Re||tr.Ee?[2,Bw.pv(_a((function(){return ma(this,(function(i){switch(i.label){case 0:return[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))})))]:[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))}))()},i.doUpdate=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return void 0===n.ev?[2]:(i=n.Sv)?[3,2]:[4,n.Iv.Fa];case 1:i=e.sent(),e.label=2;case 2:return i.webkitAddKey(n.if,Df(t),n.Tv,n.kf),[4,n.ev.Fa];case 3:return e.sent(),[2]}}))}))()},i.throwIfClosed=function(){if(this.Mn)throw new f("Already closing or closed.")},i.Yf=function(t){this.Rv.Ra(),this.Rv.Ia(yh,t),this.Ho(new lh(this))},i.Bv=function(){var t=this;return _a((function(){var n,i;return ma(this,(function(e){switch(e.label){case 0:return(i=t.Sv)?[3,2]:[4,t.Iv.Fa];case 1:i=e.sent(),e.label=2;case 2:if(!(n=i).webkitCancelKeyRequest)return[3,7];e.label=3;case 3:return e.trys.push([3,4,5,7]),n.webkitCancelKeyRequest(t.if,t.Ev),[3,7];case 4:return e.sent(),[3,7];case 5:return[4,rh(500)];case 6:return e.sent(),[7];case 7:return[2]}}))}))()},pe(n,[{key:"Af",get:function(){return this.Rv}},{key:"kf",get:function(){return this.Ev},set:function(t){this.Ev=t}},{key:"yf",get:function(){return this.Wf.Fa}},{key:"pf",get:function(){return NaN}}]),n}(oh),xw=function(){function t(t,n){var i=this;this.Tf=t,this.Sf=n,this.Sv=void 0,this.Ov=Aa(),this.xv=[],this.jf=function(t){var n=i.Lv(t.sessionId);n&&n.Cv()},this.Mv=function(t){var n=i.Lv(t.sessionId);n&&n.Nv(t)},this.Fv=function(t){var n=i.Lv(t.sessionId);n&&n.Dv(t)}}var n=t.prototype;return n.Rf=function(t){return this.Sv=t,this.Sv.addEventListener("webkitkeyadded",this.jf),this.Sv.addEventListener("webkitkeyerror",this.Mv),this.Sv.addEventListener("webkitkeymessage",this.Fv),this.Ov.forEach((function(n,i){return n.Pv(t)})),this.xv.forEach((function(n){return n.Pv(t)})),j.resolve()},n.Cf=function(t){return t.removeEventListener("webkitkeyadded",this.jf),t.removeEventListener("webkitkeyerror",this.Mv),t.removeEventListener("webkitkeymessage",this.Fv),this.Sv=void 0,j.resolve()},n.Nf=function(){var t=this;return _a((function(){var n,i;return ma(this,(function(e){switch(e.label){case 0:n=t.Ov.entries(),i=n.next(),e.label=1;case 1:return i.done?[3,3]:[4,i.value[1].Bv()];case 2:return e.sent(),i=n.next(),[3,1];case 3:return t.Ov.clear(),[2]}}))}))()},n.Ef=function(t,n,i){var e=this;return _a((function(){var t;return ma(this,(function(n){return t=new Ow(e.Tf),e.Sv&&t.Pv(e.Sv),e.xv.push(t),[2,t]}))}))()},n.If=function(t){return j.resolve(!1)},n.Lv=function(t){if(t){var n=this.Ov.get(t);return n||((n=this.xv.shift())?(n.kf=t,this.Ov.set(t,n),n):void 0)}},t}(),Lw=function(){function t(t,n){this.Tf=t,this.Uv=n}var n=t.prototype;return n.Bf=function(){return j.resolve(new xw(this.Tf,this.Uv))},n.Of=function(){return this.Uv},t}(),Mw=function(){function t(){}return t.prototype.oo=function(t,n){try{return j.resolve(function(t,n){if(!Mw.Ff())throw new f("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=ew(Fw,vh,t,e);if(r)return new Lw(t,r)}throw new f("Unsupported key system configuration for "+t)}(t,n))}catch(t){return j.reject(t)}},t.Ff=function(){return lc()},t}();function Fw(t,n){var i=Qo();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Uw(){return Pw||(Pw=function(){var t=[];Ew.Ff()&&t.push(new Ew);hw.Ff()&&t.push(new hw);lw.Ff()&&t.push(new lw);Mw.Ff()&&t.push(new Mw);return new Cw(t)}()),Pw}me(),zt(),me(),zt();var Hw=function(){function t(){this.Hv=Aa()}var n=t.prototype;return n.Ra=function(t){this.Hv.delete(t)},n.Xv=function(){this.Hv.clear()},n.Sa=function(t){return this.Hv.get(t)},n.zv=function(t,n){this.Hv.set(t,n)},t}(),Xw=function(){function t(){}return t.Vv=function(){return t.Ze||(t.Ze=zw.Ff()?new zw:new Hw),t.Ze},t.Ra=function(n){t.Vv().Ra(n)},t.Xv=function(){t.Vv().Xv()},t.Sa=function(n){return t.Vv().Sa(n)},t.zv=function(n,i){t.Vv().zv(n,i)},t}();Xw.Ze=void 0;var zw=function(n){function i(){return n.apply(this,arguments)}ze(i,n);var e=i.prototype;return e.Ra=function(n){t.sessionStorage.removeItem(n)},e.Xv=function(){t.sessionStorage.clear()},e.Sa=function(n){return t.sessionStorage[n]},e.zv=function(n,i){t.sessionStorage[n]=i},i.Ff=function(){var n="foobar";try{return t.sessionStorage.setItem(n,n),t.sessionStorage.removeItem(n),!0}catch(t){return!1}},i}(Xw);me(),zt(),me(),zt();var Vw=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var u=t[r];i.append(u)}return i.getBlob(n&&n.type||"")}}();function Ww(t,n,i){var r=Vw([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),s=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=e.createElement("a");o.href=u,o.download=s,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(u)}me(),zt();var qw,Gw,jw,Yw,Qw="default",Zw="unknown";me(),zt(),Ae(),me(),zt(),me(),zt(),(Gw=qw||(qw={})).Wv="qv",Gw.Gv="Yv",Gw.Qv="contentprotectionerror",Gw.Zv="contentprotectionsuccess",Gw.Kv="currentsourcechange",Gw.Jv="destroy",Gw.$v="durationchange",Gw.td="emptied",Gw.oa="encrypted",Gw.ed="ended",Gw.rd="ud",Gw.od="loadstart",Gw.hd="manifestupdate",Gw.fd="nosupportedrepresentationfound",Gw.vd="offline",Gw.dd="online",Gw.ld="pause",Gw.wd="play",Gw._d="progress",Gw.md="ratechange",Gw.yd="representationchange",Gw.pd="resize",Gw.Ad="seeked",Gw.kd="seeking",Gw.bd="segmentnotfound",Gw.Td="Sd",Gw.Ed="Id",Gw.Rd="sourcechange",Gw.Cd="timeupdate",Gw.Nd="volumechange",Gw.Dd="Pd",Gw.Bd="metricschange",me(),zt(),me(),zt(),(Yw=jw||(jw={})).Od="arraybuffer",Yw.xd="json",Yw.Ld="stream",Yw.dr="text",me(),zt();var Kw=function(){function t(n){var i=this;this.Hs={},n instanceof t?n.asList().forEach((function(t){var n=ya(t,2),e=n[0],r=n[1];i.append(e,r)})):Array.isArray(n)?n.forEach((function(t){i.append(t[0],t[1])})):n&&v.getOwnPropertyNames(n).forEach((function(t){i.append(t,n[t])}))}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Jw(i),e=$w(e);var r=i.toLowerCase();if(this.Hs.hasOwnProperty(r)){var u=this.Hs[r],s=u[1];u[1]=s?s+", "+e:e}else this.Hs[r]=[i,e]},n.delete=function(t){var n=Jw(t).toLowerCase();delete this.Hs[n]},n.get=function(t){var n=Jw(t).toLowerCase();return this.Hs.hasOwnProperty(n)?this.Hs[n][1]:null},n.has=function(t){var n=Jw(t).toLowerCase();return this.Hs.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Jw(i)).toLowerCase();this.Hs[e]=[i,$w(n)]},n.forEach=function(t,n){for(var i in this.Hs)this.Hs.hasOwnProperty(i)&&t.call(n,this.Hs[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Hs)if(this.Hs.hasOwnProperty(n)){var i=ya(this.Hs[n],2),e=i[0],r=i[1];t.push([e,r])}return t},n.Md=function(){var t={};return this.forEach((function(n,i){t[i]=n})),t},n.Fd=function(t){var n=this;t.forEach((function(t,i){n.append(i,t)}))},n.Ud=function(t){var n=this;t.forEach((function(t,i){n.set(i,t)}))},t}();function Jw(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new f("Invalid character in header field name");return n}function $w(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),ge(),me(),zt(),Ae();var t_,n_,i_=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return ze(n,t),pe(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(pu);function e_(t){return n=[t],new Mt({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function r_(t){return e_(new g(t))}function u_(t,n){return function(t,n){var i=n,e=t.getReader(),r=new Mf,u=function(){s();var t=new qc;e.cancel(t).catch(lr),r.Ha(t)},s=function(){i&&(i.Co(u),i=void 0)};i&&(i.po?u():i.Ro(u));var o=[],a=function(t){return t.done?(s(),j.resolve(o)):(o.push(t.value),j.resolve(e.read()).then(a))};return j.resolve(e.read()).then(a).then((function(t){s(),r.Ua(t)}),(function(t){s(),r.Ha(t)})),r.Fa}(t,n).then((function(t){return Ph(t).buffer}))}function s_(t,n){var i=n,e=new Ut,r=e.readable,u=e.writable,s=u.getWriter(),o=function(){i&&i.Bo()};return s.closed.then(o,o),t.then((function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(lr)}),(function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(lr)})),r}function o_(t){return bf(new g(t))}function a_(t){return Tf(t).buffer}me(),zt(),(n_=t_||(t_={}))[n_.Ld=0]="Ld",n_[n_.Hd=1]="Hd";var c_="text/plain;charset=UTF-8",h_=function(){function t(){}var n=t.prototype;return n.Xd=function(t){return this.zd(t).then(JSON.parse)},n.Vd=function(t,n){switch(t){case jw.Od:return this.Wd(n);case jw.xd:return this.Xd(n);case jw.Ld:return this.qd();case jw.dr:return this.zd(n);default:throw new f}},t}();function f_(t,n,i){if(t instanceof h_)return t;if(t instanceof Mt)return function(t,n){return new d_({Gs:0,qd:t,Gd:v_(n)})}(t,i);var e=v_(i),r=j.resolve(t).then((function(t){return function(t,n){if(t){if("string"==typeof t)return{Gs:jw.dr,jd:t,Gd:n||c_};if(t instanceof ArrayBuffer||Ch(t))return{Gs:jw.Od,jd:p_(t),Gd:n};if(ar(t)||ur(t))return{Gs:jw.xd,jd:t,Gd:n};throw new f("Unsupported BodyInit type")}return{Gs:jw.dr,jd:null,Gd:n}}(t,e)}));return new d_({Gs:1,Fa:r,Yd:n})}function v_(t){return(t.get("content-type")||"").toLowerCase()}var d_=function(t){function n(n){var i;return(i=t.call(this)||this).Qd=!1,i.Zd=new Mf,i.Zd.Fa.catch(lr),i.Kd(n),i}ze(n,t);var i=n.prototype;return i.Jd=function(){return this.Zd.Fa},i.zd=function(t){return this.$d(l_,t)},i.Xd=function(t){return this.$d(__,t)},i.Wd=function(t){return this.$d(m_,t)},i.qd=function(){return this.il(0===(t=this.ul).Gs?t.qd:s_(t.Fa.then(y_).then(r_),t.Yd));var t},i.$d=function(t,n){if(this.Qd)return j.reject(new f("Already used"));this.Qd=!0;var i=t(this.ul,n);return this.Zd.Oo(i.then(lr)),i},i.il=function(t){if(this.Qd)throw new f("Already used");if(t.locked)throw new f("Body stream is locked");this.Qd=!0;var n=new Ut,i=j.resolve(t.pipeTo(n.writable));return this.Zd.Oo(i),n.readable},i.Kd=function(t){this.ul=t,1===t.Gs&&t.Fa.catch(lr)},i.ol=function(){if(this.Qd)throw new f("Already used");var t=function(t){if(0===t.Gs){var n=ya(t.qd.tee(),2),i=n[0],e=n[1];return[{Gs:t.Gs,qd:i,Gd:t.Gd},{Gs:t.Gs,qd:e,Gd:t.Gd}]}var r=ya(t.Yd.xo(),2),u=r[0],s=r[1];return[{Gs:t.Gs,Fa:t.Fa,Yd:u},{Gs:t.Gs,Fa:t.Fa,Yd:s}]}(this.ul),i=t[0],e=t[1];return this.Kd(i),new n(e)},pe(n,[{key:"al",get:function(){return this.Qd}}]),n}(h_);function l_(t,n){return 0===t.Gs?u_(t.qd,n).then(o_):(n&&t.Yd.Oo(n),Kc(t.Fa.then(w_),t.Yd))}function w_(t){switch(t.Gs){case jw.dr:return j.resolve(t.jd||"");case jw.Od:return j.resolve(t.jd).then(o_);case jw.xd:return j.resolve(t.jd).then(JSON.stringify)}}function __(t,n){return 0===t.Gs?l_(t,n).then(JSON.parse):(n&&t.Yd.Oo(n),Kc(t.Fa.then(g_),t.Yd))}function g_(t){return t.Gs===jw.xd?j.resolve(t.jd):w_(t).then(JSON.parse)}function m_(t,n){return 0===t.Gs?u_(t.qd,n):(n&&t.Yd.Oo(n),Kc(t.Fa.then(y_),t.Yd))}function y_(t){switch(t.Gs){case jw.Od:return j.resolve(t.jd);case jw.dr:case jw.xd:return w_(t).then(a_)}}function p_(t){return t instanceof ArrayBuffer?t:Bf(Cf(t)).buffer}function A_(t){return t.cl>=200&&t.cl<=299||304===t.cl}var k_,b_,T_,S_,E_,I_,R_,C_,N_=function(t){function n(n,i){var e,r,u,s,o,a;i?(r=i.hl,u=i.fl,s=i.cl,o=i.vl,a=i.dl):(r=[],u=jw.dr,s=200,o="OK",a=!1);var c=n.ll,h=new Kw(n.hl||r),f=n.fl||u,v=n.wl||(i&&i.ll===c?i.wl:c._l),d=i?i.yl:null,l=f_(void 0!==n.jr?n.jr:d,n.Yd||new Wc,h);return(e=t.call(this,l)||this).hl=h,e.ll=c,e.wl=v,e.fl=f,e.cl=void 0!==n.cl?n.cl:s,e.vl=void 0!==n.vl?String(n.vl):o,e.dl=n.dl||a,e}ze(n,t);var i=n.prototype;return i.jr=function(t){return this.Vd(this.fl,t)},i.Oa=function(){return new n({jr:this.ol(),ll:this.ll},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).yl=n,i}ze(n,t);var i=n.prototype;return i.Jd=function(){return this.yl.Jd()},i.zd=function(t){return this.yl.zd(t)},i.Xd=function(t){return this.yl.Xd(t)},i.Wd=function(t){return this.yl.Wd(t)},i.qd=function(){return this.yl.qd()},i.ol=function(){return this.yl.ol()},pe(n,[{key:"al",get:function(){return this.yl.al}}]),n}(h_));me(),zt(),(b_=k_||(k_={})).DELETE="DELETE",b_.GET="GET",b_.HEAD="HEAD",b_.OPTIONS="OPTIONS",b_.POST="POST",b_.PUT="PUT",(S_=T_||(T_={})).Al="",S_.bl="manifest",S_.Tl="segment",S_.Sl="preload-hint",S_.El="content-protection",(I_=E_||(E_={})).Al="",I_.Il="initialization-segment",I_.Rl="fairplay-license",I_.Cl="fairplay-certificate",I_.Nl="widevine-license",I_.Dl="widevine-certificate",I_.Pl="playready-license",I_.Bl="clearkey-license",I_.Ol="aes128-key",(C_=R_||(R_={})).Al="",C_.xl="audio",C_.Ll="video",C_.dr="text",C_.Ml="image";var D_=function(t,n){var i,e,r,u,s,o,a,c,h,f,v,d,l=t._l;n?(i=n.jd,e=n.hl,r=n.Fl,u=n.fl,s=n.Ul,o=n.Hl,a=n.Lo,c=n.Gs,h=n.Xl,f=n.zl,v=n.Vl,d=n.Wl):(i=null,e={},r="GET",u=jw.dr,s=0,o=0,c="",h="",f="",v=!1),this._l=l,this.jd=t.jd||i,this.hl=new Kw(t.hl||e),this.Fl=t.Fl||r,this.fl=t.fl||u,this.Ul=void 0!==t.Ul?Number(t.Ul)||0:s,this.Hl=void 0!==t.Hl?Number(t.Hl)||0:o,this.Lo=t.Lo||a||(new Wc).Lo,this.Gs=t.Gs||c,this.Xl=t.Xl||h,this.zl=t.zl||f,this.Vl=void 0!==t.Vl?Boolean(t.Vl):v,this.Wl=t.Wl||d},P_=function(){function t(){}var n=t.prototype;return n.ll=function(t){var n=function(t){return new N_({jr:null,hl:{},ll:t,wl:t._l,fl:t.fl,cl:0,vl:qw.vd})}(new D_(t));return j.resolve(n)},n.ql=function(t){},n.bv=function(){},t}();var B_=function(){function t(t,n){void 0===n&&(n=!0),this.Gl=t,this.jl=n}var n=t.prototype;return n.ll=function(t){var n=this.Yl(t);return this.Gl.ll(n)},n.ql=function(t){return this.Gl.ql(this.Ql(t))},n.Yl=function(n){var i=new D_(n);if(!this.jl){var e=t.Zl(i._l);i=new D_({_l:e},i)}return i},n.Ql=function(n){var i=n._l;return this.jl||(i=t.Zl(i)),{_l:i,jd:n.jd}},n.bv=function(){this.Gl.bv()},t.Zl=function(t){return De.Ps&&ec(t,"http://")?t.replace(":","s:"):t},pe(t,null,[{key:"Kl",get:function(){return t.Jl||(t.Jl=new t(new P_)),t.Jl}}]),t}();function O_(t,n){for(var i=0,e=v.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function x_(t,n){var i=De.Es(t);return n&&!rc(i,"/")&&(i+="/"),i}B_.Jl=void 0,me(),zt(),me(),zt(),Ae(),me(),zt();var L_,M_,F_=/cache:(.+)?(?=&|$)/;function U_(t){if(!ec(t,"http://webcache.googleusercontent.com/search?q=cache:"))return"";var n=De.Ss(t).search.match(F_);return n&&n.length>1?n[1]:""}me(),zt(),Ae(),me(),zt(),Ae(),(M_=L_||(L_={})).$l="HttpOpenError",M_.nw="HttpResponseError",M_.iw="HttpTimeoutError";var H_=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).ew=n,r}return ze(n,t),pe(n,[{key:"ll",get:function(){return this.ew}}]),n}(pu);var X_=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n._l+". Invalid URL.",i)}return ze(n,t),pe(n,[{key:"name",get:function(){return L_.$l}}]),n}(H_);me(),zt(),Ae();var z_=function(t){function n(n,i,e){var r;return(r=t.call(this,n.ll,null!=e?e:function(t){return"Error while loading "+t.ll._l+", status code "+t.cl}(n),i)||this).uw=n,r}return ze(n,t),pe(n,[{key:"name",get:function(){return L_.nw}},{key:"ow",get:function(){return this.uw}}]),n}(H_);me(),zt(),Ae();var V_=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t._l+" timed out after "+t.Ul+" seconds."}(n),i)}return ze(n,t),pe(n,[{key:"name",get:function(){return L_.iw}}]),n}(H_);me(),zt();var W_=function(t,n){return(W_=v.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function q_(t,n){function i(){this.constructor=t}W_(t,n),t.prototype=null===n?v.create(n):(i.prototype=n.prototype,new i)}var G_="object"==typeof i?i:"object"==typeof t?t:"object"==typeof global?global:null;var j_=function(){var t=G_.Blob;if(t)try{return new t,function(t,n){return new G_.Blob(t,n)}}catch(t){}var n,i=G_.BlobBuilder||G_.WebKitBlobBuilder||G_.MozBlobBuilder||G_.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,u=t;r<u.length;r++){var s=u[r];e.append(s)}return e.getBlob(i&&i.type||"")}):null}(),Y_="function"==typeof Mt?Mt:void 0;function Q_(t){return t&&"function"==typeof t.getReader}function Z_(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Q_(i)}catch(t){return!1}}var K_=function(){function t(t,n){this.ct=t,this.aw=n}return t.prototype.pull=function(t){var n=this;return this.ct.read().then((function(i){n.aw&&n.aw(i),i.done?t.close():t.enqueue(i.value)}))},t.prototype.cancel=function(t){return this.ct.cancel(t)},t}();function J_(t,n){return n.constructor===t?n:new t(new K_(n.getReader()),{highWaterMark:0})}var $_=function(){function t(t,n){this.cw=t,this.hw=n}return t.prototype.pull=function(t){return this.cw().then((function(n){t.enqueue(new g(n)),t.close()}))},t.prototype.cancel=function(t){this.hw&&this.hw(t)},t}();function tg(t,n,i){return new t(new $_(n,i),{highWaterMark:0})}var ng={searchParams:"URLSearchParams"in G_,iterable:"Symbol"in G_&&"iterator"in Symbol,blob:"FileReader"in G_&&!!j_,formData:"FormData"in G_,arrayBuffer:"ArrayBuffer"in G_,stream:Z_(Y_),streamRequest:"Request"in G_&&"body"in G_.Request.prototype,streamResponse:"Response"in G_&&"body"in G_.Response.prototype,abort:"AbortController"in G_&&"Request"in G_&&"signal"in G_.Request.prototype,encoding:"TextEncoder"in G_&&"TextDecoder"in G_,url:"URL"in G_&&function(t){try{return new G_.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in G_&&/Firefox\//.test(G_.navigator.userAgent)};function ig(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new f("Invalid character in header field name");return t}function eg(t){return"string"!=typeof t&&(t=String(t)),t}function rg(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return ng.iterable&&(n[Symbol.iterator]=function(){return n}),n}var ug=function(){function t(t){var n=this;this.Hs={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return ng.iterable&&t&&t[Symbol.iterator]}(t)?t&&v.getOwnPropertyNames(t).forEach((function(i){n.append(i,t[i])})):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=ig(t),n=eg(n);var i=t.toLowerCase();if(this.Hs.hasOwnProperty(i)){var e=this.Hs[i],r=e[1];e[1]=r?r+", "+n:n}else this.Hs[i]=[t,n]},t.prototype.delete=function(t){var n=ig(t).toLowerCase();delete this.Hs[n]},t.prototype.get=function(t){var n=ig(t).toLowerCase();return this.Hs.hasOwnProperty(n)?this.Hs[n][1]:null},t.prototype.has=function(t){var n=ig(t).toLowerCase();return this.Hs.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=ig(t)).toLowerCase();this.Hs[i]=[t,eg(n)]},t.prototype.forEach=function(t,n){for(var i in this.Hs)this.Hs.hasOwnProperty(i)&&t.call(n,this.Hs[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach((function(n,i){t.push(i)})),rg(t)},t.prototype.values=function(){var t=[];return this.forEach((function(n){t.push(n)})),rg(t)},t.prototype.entries=function(){var t=[];return this.forEach((function(n,i){t.push([i,n])})),rg(t)},t.prototype.asList=function(){var t=[];for(var n in this.Hs)if(this.Hs.hasOwnProperty(n)){var i=this.Hs[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function sg(){}ng.iterable&&(ug.prototype[Symbol.iterator]=ug.prototype.entries);var og,ag,cg,hg=d.min,fg=String.fromCharCode;function vg(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=16384){var r=hg(e+16384,n);i.push(fg.apply(null,t.slice(e,r)))}return i.join("")}(n)}function dg(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function lg(t,n){return t>>n&63|128}function wg(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(dg(t),n.push(t>>12&15|224),n.push(lg(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(lg(t,12)),n.push(lg(t,6))),n.push(63&t|128)):n.push(t)}function _g(){if(cg>=ag)throw new h("Invalid byte index");var t=255&og[cg];if(cg++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function gg(){var t,n;if(cg>ag)throw new h("Invalid byte index");if(cg===ag)return!1;if(t=255&og[cg],cg++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|_g())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|_g()<<6|_g())>=2048)return dg(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|_g()<<12|_g()<<6|_g())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}var mg=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function yg(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function pg(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Ag(t){return t&&DataView.prototype.isPrototypeOf(t)}var kg,bg,Tg=ArrayBuffer.isView||function(t){return t&&(mg.indexOf(v.prototype.toString.call(t))>-1||Ag(t))};function Sg(t){if(t.bodyUsed)return j.reject(new f("Already used"));t.bodyUsed=!0}function Eg(t){return new j((function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}}))}function Ig(t){return ng.encoding?new G_.TextDecoder("utf-8").decode(new g(t)):vg(function(t){ag=(og=t).length,cg=0;for(var n,i=[];!1!==(n=gg());)i.push(n);return i}(new g(t)))}function Rg(t){return ng.encoding?(new G_.TextEncoder).encode(t).buffer:new g(function(t){for(var n=[],i=0,e=t;i<e.length;i++)wg(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function Cg(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,u=t.value;return r?j.resolve(i):(i.push(u),n.read().then(e))};return n.read().then(e)}function Ng(t){return Cg(t).then((function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(a=e[i]).byteLength;for(var r=new g(n),u=0,s=0,o=t;s<o.length;s++){var a=o[s];r.set(a,u),u+=a.byteLength}return r}(t).buffer}))}function Dg(t){return t.slice?t.slice(0):Pg(new g(t))}function Pg(t){if(t.slice)return t.slice(0).buffer;var n=new g(t.byteLength);return n.set(new g(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Bg(t){var n=new FormData;return t.trim().split("&").forEach((function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}})),n}function Og(t){var n=t;if(n.bodyUsed)throw new f("Already used");if(n.fw===kg.dw){if(!n.lw.tee)throw new h("could not clone ReadableStream body");var i=n.lw.tee(),e=i[0],r=i[1];return n.body=e,n.lw=e,n.ww=e,r}return n.fw===kg.Od?Dg(n.lw):n.fw===kg.Hd?n.lw.then(Og):n.ww}(bg=kg||(kg={}))[bg.dr=0]="dr",bg[bg._w=1]="_w",bg[bg.gw=2]="gw",bg[bg.Od=3]="Od",bg[bg.dw=4]="dw",bg[bg.Hd=5]="Hd";var xg=function(){function t(n,i){this.bodyUsed=!1;var e,r,u,s=this;if(this.ww=n||null,n)if("string"==typeof n)this.fw=kg.dr,this.lw=n;else if((u=n)&&"function"==typeof u.then)this.fw=kg.Hd,this.lw=j.resolve(n).then((function(n){return new t(n,i)})),this.lw.catch(sg);else if(ng.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.fw=kg._w,this.lw=n;else if(ng.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.fw=kg.gw,this.lw=n;else if(ng.searchParams&&yg(n))this.fw=kg.dr,this.lw=n.toString();else if(ng.arrayBuffer&&(pg(n)||Tg(n)))Ag(n)&&(this.ww=new g((r=n).buffer,r.byteOffset,r.byteLength)),this.fw=kg.Od,this.lw=pg(e=n)?Dg(e):Pg(e);else{if(!ng.stream||!Q_(n))throw new h("unsupported BodyInit type");n=J_(Y_,n),this.fw=kg.dw,this.lw=n,this.ww=n}else this.fw=kg.dr,this.lw="";this.mw="",i.has("content-type")?this.mw=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.mw="text/plain;charset=UTF-8":s.fw===kg._w&&s.lw.type?this.mw=s.lw.type:ng.searchParams&&yg(n)&&(this.mw="application/x-www-form-urlencoded;charset=UTF-8"),this.mw&&i.set("content-type",this.mw)),ng.stream&&(null==n?this.body=null:s.fw===kg.dw?this.body=s.lw:this.body=tg(Y_,(function(){return s.arrayBuffer()}),(function(){s.bodyUsed=!0})))}return t.prototype.text=function(){var t,n,i,e=this,r=Sg(e);return r||(e.fw===kg._w?(t=e.lw,n=new FileReader,i=Eg(n),n.readAsText(t),i):e.fw===kg.Od?j.resolve(e.lw).then(Ig):e.fw===kg.dw?Ng(e.lw).then(Ig):e.fw===kg.Hd?e.lw.then((function(t){return t.text()})):e.fw===kg.gw?j.reject(new h("could not read FormData body as text")):j.resolve(e.lw))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();ng.blob&&(xg.prototype.blob=function(){var t,n,i=this,e=Sg(i);return e||(i.fw===kg._w?j.resolve(i.lw):i.fw===kg.Od?j.resolve(j_([i.lw],{type:i.mw})):i.fw===kg.dw?(t=i.lw,n=i.mw,Cg(t).then((function(t){return j_(t,{type:n||""})}))):i.fw===kg.Hd?i.lw.then((function(t){return t.blob()})):i.fw===kg.gw?j.reject(new h("could not read FormData body as Blob")):j.resolve(j_([i.lw],{type:i.mw})))}),ng.arrayBuffer&&(xg.prototype.arrayBuffer=function(){var t,n,i,e=this;return e.fw===kg.Od?Sg(e)||j.resolve(e.lw):e.fw===kg._w?Sg(e)||(t=e.lw,n=new FileReader,i=Eg(n),n.readAsArrayBuffer(t),i):e.fw===kg.dw?Ng(e.lw):e.fw===kg.Hd?Sg(e)||e.lw.then((function(t){return t.arrayBuffer()})):e.fw===kg.gw?j.reject(new h("could not read FormData body as ArrayBuffer")):j.resolve(e.lw).then(Rg)}),ng.formData&&(xg.prototype.formData=function(){var t=this;return t.fw===kg.gw?Sg(t)||j.resolve(t.lw):t.text().then(Bg)});var Lg=[301,302,303,307,308],Mg=function(t){function n(n,i){var e=this,r=new ug((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return q_(n,t),n.prototype.clone=function(){return new n(Og(this),{status:this.status,statusText:this.statusText,headers:new ug(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Lg.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(xg);var Fg,Ug,Hg=(function(t,n){function i(t,n){if(!(t instanceof n))throw new f("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),v.defineProperty(t,e.key,e)}}function u(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function o(t){return(o=v.setPrototypeOf?v.getPrototypeOf:function(t){return t.__proto__||v.getPrototypeOf(t)})(t)}function a(t,n){return(a=v.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,n,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!v.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(e){var r=v.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}v.defineProperty(n,"__esModule",{value:!0});var d=function(){function t(){i(this,t),v.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){s((function(){return i.call(n,t)}))},e=this.listeners[t.type],r=0,u=e.length;r<u;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=o(n).call(this))||"object"!=typeof r&&"function"!=typeof r?c(e):r).listeners||d.call(c(t)),v.defineProperty(c(t),"aborted",{value:!1,writable:!0,configurable:!0}),v.defineProperty(c(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new f("Super expression must either be null or a function");t.prototype=v.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&a(t,n)}(n,t),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),h(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(d),w=function(){function t(){i(this,t),v.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w}(Fg={exports:{}},Fg.exports),Fg.exports);(Ug=Hg)&&Ug.__esModule&&v.prototype.hasOwnProperty.call(Ug,"default")&&Ug.default;Hg.AbortSignal;var Xg=Hg.AbortController,zg=G_.DOMException;try{new zg}catch(t){(zg=function(t,n){h.call(this,t),this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=v.create(h.prototype),zg.prototype.constructor=zg}var Vg=Xg;function Wg(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function qg(t,n,i){return new j((function(e,r){if(n.signal.aborted)return t.catch(sg),r(Gg());var u=function(){n.signal.removeEventListener("abort",u),r(Gg())};n.signal.addEventListener("abort",u),t.then((function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()}),(function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()}))}))}function Gg(){return new zg("Aborted","AbortError")}var jg,Yg,Qg="moz-chunked-arraybuffer";function Zg(t){try{var n=new y;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}(Yg=jg||(jg={}))[Yg.UNSENT=0]="UNSENT",Yg[Yg.OPENED=1]="OPENED",Yg[Yg.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",Yg[Yg.LOADING=3]="LOADING",Yg[Yg.DONE=4]="DONE";var Kg=function(){function t(t,n){var i=this;this.yw=!1,this.ew=t,this.pw=n,this.Aw=new y,this.bw=new j((function(t,n){i.Tw=t,i.Sw=n}))}return t.prototype.send=function(){var t=this;return this.Ew().then((function(n){return t.Iw(n,t.pw),t.bw}))},t.prototype.Ew=function(){var t=this.ew;return t.fw===kg.dw?t.arrayBuffer():j.resolve(t.ww)},t.prototype.Rw=function(t){this.ew.onprogress&&this.ew.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Cw=function(t){this.Sw(t)},t.prototype.Nw=function(){this.Cw(new f("Network request failed"))},t.prototype.Dw=function(){this.Cw(new f("Network request failed"))},t.prototype.Pw=function(){this.Cw(Gg())},t.prototype.Iw=function(t,n){var i=this,e=this.ew,r=this.Aw,u=function(){return i.Bw()};if(e.signal.aborted)return this.Pw();r.onreadystatechange=function(){if(r.readyState>=jg.HEADERS_RECEIVED&&!i.yw){var t=function(t){var n=new ug;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}})),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.yw=!0,i.Ow(n)}},r.onprogress=function(t){return i.Rw(t)},r.onload=function(){return i.xw()},r.onerror=function(){return i.Nw()},r.ontimeout=function(){return i.Dw()},r.onabort=function(){return i.Pw()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach((function(t,n){r.setRequestHeader(n,t)})),e.signal.addEventListener("abort",u),r.onloadend=function(){e.signal.removeEventListener("abort",u)},t?r.send(t):r.send()},t.prototype.Bw=function(){this.Pw(),this.Aw.abort()},t}(),Jg=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Lw=void 0,e.Mw=void 0,e}return q_(n,t),n.prototype.Ow=function(t){var n=this;this.Lw=new j((function(t,i){n.Mw=t,n.Fw=i})),this.Tw(new Mg(this.Lw,t))},n.prototype.xw=function(){var t=this.Aw.response;if(null==t){var n=this.pw;""===n||"text"===n?t=this.Aw.responseText:"document"===n?t=this.Aw.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=j_([]))}this.Mw(t)},n.prototype.Cw=function(n){t.prototype.Cw.call(this,n),this.Fw&&this.Fw(n)},n}(Kg),$g=function(t){function n(n){var i=t.call(this,n,Qg)||this;return i.Uw=void 0,i.Hw=void 0,i.Xw=!1,i}return q_(n,t),n.prototype.Ow=function(t){var n=this;this.Uw=new Y_({start:function(t){n.Hw=t},cancel:function(){n.Xw=!0,n.Bw()}}),this.Tw(new Mg(this.Uw,t))},n.prototype.Rw=function(n){this.Xw||this.Hw.enqueue(new g(this.Aw.response)),t.prototype.Rw.call(this,n)},n.prototype.xw=function(){this.Hw.close()},n.prototype.Cw=function(n){t.prototype.Cw.call(this,n),this.Hw&&!this.Xw&&(this.Xw=!0,this.Hw.error(n))},n}(Kg),tm=function(){var t=ng.firefox&&Zg(Qg);return tm=function(){return t},t},nm=function(){var t;return t=ng.arrayBuffer&&Zg("arraybuffer")?"arraybuffer":ng.blob&&Zg("blob")?"blob":"",nm=function(){return t},t};function im(t){return(ng.stream&&tm()?new $g(t):new Jg(t,nm())).send()}var em=G_.fetch,rm=G_.Request,um=(G_.Response,G_.AbortController);var sm=["http:","https:"];var om=function(){try{if(ng.streamRequest){var t=new rm("about:blank",{body:"",method:"POST"}).body;if(t&&Z_(t.constructor))return t.constructor}}catch(t){}}();function am(t,n,i){var e;if(ng.stream){var r=void 0;if(ng.streamResponse){var u=t.body;r=u&&J_(Y_,u)}else r=tg(Y_,(function(){return qg(t.arrayBuffer(),n,!0)}),(function(){n.abort()}));r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new K_(n.getReader(),i),{highWaterMark:0})}(Y_,t,(function(t){var r=t.done,u=t.value;r?i=void 0===i?e:i:e+=u.byteLength,n(e,i)}))}(r,i,cm(t.headers))),e=r}else{var s=qg(t.arrayBuffer(),n,!0);i&&(s=function(t,n,i){return j.resolve().then((function(){return n(0,i),t})).then((function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t}))}(s,i,cm(t.headers))),e=s}return new Mg(e,t)}function cm(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function hm(t){var n=new Vg;return t.signal&&Wg(n,t.signal),function(t,n){var i,e,r=t;if(i=r.fw===kg.dw?ng.streamRequest&&om?j.resolve(J_(om,r.lw)):qg(t.arrayBuffer(),n,!1):qg(j.resolve(t.ww),n,!1),ng.abort){var u=new um;Wg(u,n.signal),e=u.signal}return i.then((function(n){return new rm(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof ug?i:new ug(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i}))}(t,n).then((function(i){return em(i).then((function(i){return am(i,n,t.onprogress)}))}))}var fm=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var vm=function(t){function n(i,e){var r,u,s,o,a,c,h,v,d,l=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new f("Already used");r=i.url,u=i.credentials,e.headers||(s=new ug(i.headers)),o=i.method,a=i.mode,c=i.referrer,h=i.referrerPolicy,v=i.signal,d=i.onprogress,w||null==i.ww||(w=i.ww,i.bodyUsed=!0)}else r=String(i),u="same-origin",o="GET",a="cors",c="about:client",h="",v=null,d=null;if(!e.headers&&s||(s=new ug(e.headers)),e&&(c="about:client",h=""),(l=t.call(this,w,s)||this).url=r,l.headers=s,l.credentials=e.credentials||u,l.method=function(t){var n=t.toUpperCase();return fm.indexOf(n)>-1?n:t}(e.method||o),l.mode=e.mode||a,l.signal=e.signal||v||(new Vg).signal,l.referrer=void 0!==e.referrer?e.referrer:c,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:h,l.onprogress=e.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new f("Body not allowed for GET or HEAD requests");return l}return q_(n,t),n.prototype.clone=function(){return new n(this,{body:Og(this)})},n}(xg),dm="function"==typeof em&&ng.stream&&ng.streamResponse&&ng.url;function lm(t,n){return new j((function(i){var e=new vm(t,n);i((dm&&function(t){try{return sm.indexOf(new G_.URL(t,G_.location.href).protocol)>=0}catch(t){return!1}}(e.url)?hm:im)(e))}))}lm.polyfill=!0;var wm=function(){function t(t){this.wv=new Wc,this.uw=void 0,this.zw=!1,this.ew=t,this.wv.Oo(t.Lo),this.ow=this.Vw()}var n=t.prototype;return n.Vw=function(){var t=this;return _a((function(){var n,i,e,r,u,o,a,c,h;return ma(this,(function(f){switch(f.label){case 0:(n=t.ew).Ul&&s((function(){t.zw=!0,t.wv.Bo()}),n.Ul);try{i=lm(n._l,{method:n.Fl,headers:n.hl.Md(),body:n.jd,credentials:n.Vl?"include":"same-origin",signal:mm(t.wv.Lo),onprogress:n.Wl})}catch(t){throw new X_(n,t)}f.label=1;case 1:return f.trys.push([1,3,,4]),[4,i];case 2:return e=f.sent(),[3,4];case 3:throw r=f.sent(),Gc(u=t.Ww(r))&&t.wv.Bo(),u;case 4:if(o=e.url||n._l,a=0===e.status&&"file:"===(v=o,De.Ss(v).protocol)?200:e.status,c=new _m(t,e,t.wv),h=new N_({jr:c,ll:n,fl:n.fl,hl:new Kw(e.headers.asList()),cl:a,vl:e.statusText,wl:o}),t.uw=h,A_(h))return[2,h];throw new z_(h)}var v}))}))()},n.Ww=function(t){return Gc(t)?this.zw?new V_(this.ew):new qc(t.message,t):this.uw?new z_(this.uw,t):new X_(this.ew,t)},t}(),_m=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Zd=new Mf,r.qw=n,r.Gw=i,r.wv=e,r.Zd.Fa.catch(lr),r}ze(n,t);var i=n.prototype;return i.Jd=function(){return this.Zd.Fa},i.zd=function(t){return this.$d(this.Gw.text(),t)},i.Wd=function(t){return this.$d(this.Gw.arrayBuffer(),t)},i.qd=function(){var t=this.Gw.body;return t?this.il(t):s_(this.Wd().then(r_),this.wv)},i.ol=function(){var t=this.Gw.clone(),i=ya(this.wv.xo(),2),e=i[0],r=i[1];return this.wv=e,new n(this.qw,t,r)},i.$d=function(t,n){var i=this;n&&this.wv.Oo(n);var e=j.resolve(t).catch((function(t){throw i.qw.Ww(t)}));return e=Kc(e,this.wv),this.Zd.Oo(e.then(lr)),e},i.il=function(t){var n=this,i=new Ut,e=j.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch((function(t){var e=n.qw.Ww(t);throw i.writable.abort(e).catch(lr),e}));return e=Kc(e,this.wv),this.Zd.Oo(e.then(lr)),i.readable},pe(n,[{key:"al",get:function(){return this.Gw.bodyUsed}}]),n}(h_),gm="abort";function mm(t){var n=new Vg;if(t.po)n.abort();else if(!t.Ao){var i=function(){e(),n.abort()},e=function(){n.signal.removeEventListener(gm,i),t.Co(i),t.Do(e)};n.signal.addEventListener(gm,i),t.Ro(i),t.No(e)}return n.signal}function ym(t,n,i){return new j((function(e,r){if(i&&i.po)return r(new qc);var u=function(t){o(),e(t)},s=function(){o(),r(new qc)},o=function(){t.removeEventListener(n,u),i&&i.Co(s)};t.addEventListener(n,u),i&&i.Ro(s)}))}me(),zt();var pm,Am,km,bm=function(){function t(){}var n=t.prototype;return n.ll=function(t){return new wm(t).ow},n.ql=function(t){if(Lo&&Lo.sendBeacon)Lo.sendBeacon(t._l,Vw([t.jd],{type:t.Gd}));else{var n=t.Gd?{"Content-type":t.Gd}:void 0;nh(this.ll(new D_({Fl:k_.POST,_l:t._l,jd:t.jd,hl:n})))}},n.bv=function(){},t}();function Tm(){if(tr._e)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}function Sm(){return tr.ze||tr._e}function Em(){return(tr.ze||tr._e)&&!(tr.Ee&&tr.Ie<3)}pm=new(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).jw=void 0,n.Yw=Tm(),n.Qw=Sm(),n.Zw=Em(),n.Kw=void 0,n}return ze(n,t),pe(n,[{key:"ds",get:function(){return this.jw||(this.jw=new gc(Uw())),this.jw}},{key:"Jw",get:function(){return this.Yw}},{key:"$w",get:function(){return this.Qw}},{key:"t_",get:function(){return this.Zw}},{key:"n_",get:function(){return!1}},{key:"i_",get:function(){return Xw.Vv()}},{key:"e_",get:function(){return{r_:Ww}}},{key:"u_",get:function(){return u.connection&&u.connection.effectiveType||Qw}},{key:"s_",get:function(){return u.connection&&u.connection.type||Zw}},{key:"o_",get:function(){return this.Kw||(this.Kw=new B_(new bm)),this.Kw}}]),n}(da)),De=pm,me(),zt(),me(),zt(),Ae(),me(),zt(),Ae(),Oe(),me(),zt(),me(),zt(),Ae(),me(),zt(),(km=Am||(Am={})).a_="c_",km.h_="f_",me(),zt(),Ae(),me(),zt(),me(),zt(),me(),zt(),Ae();var Im=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).v_=void 0,e}return ze(n,t),pe(n,[{key:"d_",get:function(){return this.v_||(this.v_=this.l_()),this.v_}}]),n}(fh);function Rm(t){return Boolean(t&&t.d_)}var Cm=function(t){function n(n){return t.call(this,n)}return ze(n,t),n}(Im),Nm=function(t){function n(n){return t.call(this,n)}return ze(n,t),n}(fh),Dm=function(t){function n(n){var i;return(i=t.call(this,Am.a_)||this).w_=n,i}return ze(n,t),n.prototype.l_=function(){return new Pm(this.w_.d_)},n}(Cm),Pm=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return ze(n,t),n}(Nm);me(),zt();var Bm,Om,xm=function(t){function n(n){var i;return(i=t.call(this,Am.h_)||this).w_=n,i}return ze(n,t),n.prototype.l_=function(){return new Lm(this.w_.d_)},n}(Cm),Lm=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return ze(n,t),n}(Nm);me(),zt(),(Om=Bm||(Bm={})).__="g_",Om.m_="y_",Om.p_="A_",Om.k_="b_",Om.T_="S_",Om.E_="I_",Om.R_="C_",Om.N_="D_",Om.P_="gf",Om.B_="O_",Om.x_="L_",Om.QUALITY_UNAVAILABLE="qualityunavailable",Om.NO_QUALITY="noquality";var Mm=function(t){function n(){var n;return(n=t.call(this)||this).M_=[],n.v_=void 0,n}ze(n,t);var i=n.prototype;return i.F_=function(t){return this.M_[t]},i.U_=function(t){return!(!t||Dc(this.M_,t))&&(this.M_.push(t),this.v_&&this.v_.push(t.d_),t.zo(Bm.E_,this.Uo),this.Ho(new Dm(t)),!0)},i.H_=function(t){if(!t)return!1;var n=this.M_.indexOf(t);return!(n<0)&&(Nc(this.M_,n),this.v_&&Nc(this.v_,n),t.Go(Bm.E_,this.Uo),this.Ho(new xm(t)),!0)},i.X_=function(t){return Dc(this.M_,t)},i.Nf=function(){for(var t=this.M_,n=t.length-1;n>=0;n-=1)this.H_(t[n])},i.bv=function(){this.Nf(),this.qo()},pe(n,[{key:"z_",get:function(){return this.M_}},{key:"d_",get:function(){return this.v_||(this.v_=this.l_()),this.v_}},{key:"V_",get:function(){return this.M_.length}}]),n}(oh);me(),zt();var Fm=function(t){function n(n){var i;return(i=t.call(this,Bm.E_)||this).w_=n,i}return ze(n,t),n.prototype.l_=function(){return new Um(this.w_.d_)},n}(Cm),Um=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return ze(n,t),n}(Nm),Hm=function(t){function n(){var n;return(n=t.call(this)||this).W_=void 0,n.q_=function(t){var i=t.w_;n.U_(i)},n.G_=function(t){var i=t.w_;n.H_(i)},n}ze(n,t);var i=n.prototype;return i.j_=function(t){t.zo(Am.a_,this.q_),t.zo(Am.h_,this.G_)},i.Y_=function(t){t.Go(Am.a_,this.q_),t.Go(Am.h_,this.G_)},i.bv=function(){this.W_&&this.W_.bv(),t.prototype.bv.call(this)},pe(n,[{key:"Q_",get:function(){return this.W_},set:function(t){var n=this.W_;if(t!==n){if(n){this.Y_(n);for(var i=0,e=n.z_;i<e.length;i++){var r=e[i];t&&t.X_(r)||this.H_(r)}}if(this.W_=t,t){for(var u=[],s=0,o=t.z_;s<o.length;s++){var a=o[s];this.U_(a),this.Z_(a)&&u.push(a)}this.j_(t);for(var c=0;c<u.length;c++){var h=u[c];h.Ho(new Fm(h))}}}}}]),n}(Mm);me(),zt(),me(),zt(),me(),zt();var Xm=v.freeze||wr;function zm(t,n,i){v.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Vm(t,n){for(var i=0,e=v.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];v.defineProperty(t,r,v.getOwnPropertyDescriptor(n,r))}return t}function Wm(t){if(ar(t)){var n={};for(var i in t)nr.call(t,i)&&(n[i]=Wm(t[i]));return n}if(ur(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=Wm(t[r]));return e}return t}function qm(t,n){return t===n||!(!t||!n)&&(!(!or(t)||!or(n))&&(sr(t)?!!sr(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!qm(t[r],n[r]))return!1;return!0}(t,n):!sr(n)&&function(t,n){var i=v.keys(t),e=v.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var u=i[r];if(!nr.call(n,u)||!qm(t[u],n[u]))return!1}return!0}(t,n)))}function Gm(t,n){return t.constructor===n.constructor}function jm(t){for(var n={},i=0,e=v.keys(t);i<e.length;i++){var r=e[i],u=t[r];null!=u&&(n[r]=u)}return n}function Ym(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Qm(t){return er(t)?Ym(t):void 0}function Zm(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Km(t){var n=Zm(t);if(_(n))throw new h("Expected a valid number.");return n}function Jm(t){return"string"==typeof t?t:""}function $m(t,n){if(!sr(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function ty(t,n){return sr(t)?$m(t,n):n(t)}me(),zt();var ny,iy,ey=[Am.a_,Am.h_,Bm.E_];function ry(t){var n,i=t.z_.map((function(t){return t.d_}));return i.item=function(n){var i=0|n,e=t.F_(i);return e&&e.d_||void 0},i.addEventListener=function(t,i){n.zo(t,i)},i.removeEventListener=function(t,i){n.Go(t,i)},n=new ah(i),t.zo(ey,(function(t){return n.Ho(t.d_)})),i}function uy(t){switch(t){case 0:return"caption";case 2:return"sign";case 1:return"description";case 3:return"enhanced audio intelligibility";case 4:return"easy reader";case 5:return"transcribes spoken dialog";case 6:return"describes music and sound";case 7:return"describes video"}}function sy(){}function oy(t){var n,i=[Bm.P_,Bm.E_,Bm.B_,Bm.x_,Bm.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.K_&&t.K_.d_},get enabled(){return t.J_},set enabled(n){t.J_=Ym(n)},get id(){return t.eg},get uid(){return t.rg},get kind(){return t.og},get label(){return t.ag},set label(n){t.ag=Jm(n)},get accessibility(){var n,i;return null!=(i=null==(n=t.cg)?void 0:n.map(uy))?i:[]},get language(){return t.hg},get qualities(){return t.fg.d_},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.fg.z_;e<r.length;e++)for(var u=r[e],s=0;s<n.length;s++){var o=n[s];u.d_===o&&i.push(u)}return i}(t,ur(n)?n:[n]):[]).length>0?t.vg=i:t.vg=void 0},get targetQuality(){if(t.vg)return 1===t.vg.length?t.vg[0].d_:t.vg.map((function(t){return t.d_}))},addEventListener:function(t,i){var e=ty(t,Jm);n.zo(e,i)},removeEventListener:function(t,i){var e=ty(t,Jm);n.Go(e,i)}};return n=new ah(e),t.zo(i,(function(t){return n.Ho(t.d_)})),v.defineProperty(e,"constructor",{value:sy}),e}function ay(){}function cy(t){var n=ry(t);return v.defineProperty(n,"constructor",{value:ay}),n}me(),zt(),(iy=ny||(ny={}))[iy.dg=0]="dg",iy[iy.wg=1]="wg",iy[iy._g=2]="_g",iy[iy.gg=3]="gg",iy[iy.yg=4]="yg",iy[iy.TRANSCRIBES_SPOKEN_DIALOG=5]="TRANSCRIBES_SPOKEN_DIALOG",iy[iy.DESCRIBES_MUSIC_AND_SOUND=6]="DESCRIBES_MUSIC_AND_SOUND",iy[iy.pg=7]="pg";var hy,fy,vy,dy=function(t){function n(){return t.apply(this,arguments)}ze(n,t);var i=n.prototype;return i.l_=function(){return cy(this)},i.Z_=function(t){return t.J_},n}(Hm);function ly(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case"disabled":case"hidden":case"showing":return n}}else if("number"==typeof t)switch(t){case 0:return"disabled";case 1:return"hidden";case 2:return"showing"}return"disabled"}function wy(){}function _y(t){var n,i=[Bm.E_,Bm.P_,Bm.__,Bm.m_,Bm.p_,Bm.k_,Bm.T_,Bm.R_,Bm.N_],e=[vy.Ag],r={get kind(){return t.og},get label(){return t.ag},set label(n){t.ag=Jm(n)},get language(){return t.hg},get id(){return t.eg},get uid(){return t.rg},get inBandMetadataTrackDispatchType(){return t.Tg},get mode(){return t.Sg},set mode(n){n!==hy.Eg&&n!==hy.Ig&&n!==hy.Rg||t.Cg(n)},get forced(){return Boolean(t.Ng)},get accessibility(){var n,i;return null!=(i=null==(n=t.cg)?void 0:n.map(uy))?i:[]},get type(){return t.Gs},get readyState(){return t.Dg},get cues(){return t.Sg===hy.Rg?null:t.Pg.d_},get activeCues(){return t.Sg===hy.Rg?null:t.Bg.d_},get src(){return t.Og||""},addEventListener:function(t,i){var e=ty(t,Jm);n.zo(e,i)},removeEventListener:function(t,i){var e=ty(t,Jm);n.Go(e,i)}};return n=new ah(t),t.zo(i,(function(t){return n.Ho(t.d_)})),t.zo(e,(function(t){return n.Ho(t)})),v.defineProperty(r,"constructor",{value:wy}),r}function gy(){}function my(t){var n=ry(t);return v.defineProperty(n,"constructor",{value:gy}),n}me(),zt(),me(),zt(),me(),zt(),(fy=hy||(hy={})).Rg="disabled",fy.Ig="hidden",fy.Eg="showing",me(),zt(),(vy||(vy={})).Ag="error";var yy=function(t){function n(){return t.apply(this,arguments)}ze(n,t);var i=n.prototype;return i.l_=function(){return my(this)},i.Z_=function(t){return t.Sg===hy.Eg},n}(Hm);me(),zt();var py=function(t){function n(){return t.apply(this,arguments)}ze(n,t);var i=n.prototype;return i.Wo=function(n){t.prototype.Wo.call(this,n)},i.Qo=function(n){t.prototype.Qo.call(this,n)},n}(oh),Ay=function(t){function n(){return t.apply(this,arguments)}return ze(n,t),n}(py);me(),zt();var ky=function(t){function n(){return t.call(this,qw.rd)}return ze(n,t),n}(fh);me(),zt();var by=function(t){function n(n){var i;return(i=t.call(this,qw.Kv)||this).currentSource=n,i}return ze(n,t),n}(fh);function Ty(t,n,i){return n in t?v.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}me(),zt(),me(),zt(),me(),zt(),me(),zt();var Sy="theoplayer-stored-network-info",Ey=function(){function t(){}return t.xg=function(n,i){var e=t.Lg(n,i);return e?t.Mg(e):0},t.Fg=function(){return De.u_||Qw},t.Ug=function(){return De.s_||Zw},t.Lg=function(n,i){var e,r=null==(e=De.i_)?void 0:e.Sa(i),u=r&&JSON.parse(r);if(u&&u[n])return t.Hg(u,n,i)},t.Mg=function(t){var n=t.availableBandwidth;return n||0},t.Hg=function(n,i,e){if(!t.Xg(n,i))return n[i];t.zg(n,i,e)},t.zg=function(t,n,i){var e;delete t[n],null==(e=De.i_)||e.zv(i,JSON.stringify(t))},t.Xg=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.Vg=function(t,n,i,e){return ga({},t,Ty({},n,{availableBandwidth:i,storedTimestamp:e}))},t.Wg=function(n){var i=t.Fg();t.qg(i,Sy,n,au())},t.qg=function(n,i,e,r){var u,s,o=null==(u=De.i_)?void 0:u.Sa(i),a=o?JSON.parse(o):void 0,c=t.Vg(a,n,e,r);null==(s=De.i_)||s.zv(i,JSON.stringify(c))},t.Gg=function(){var n=t.Fg();return t.xg(n,Sy)},t}();me(),zt(),me(),zt();var Iy,Ry,Cy,Ny,Dy,Py,By,Oy,xy,Ly,My,Fy,Uy="1ADD53F3";function Hy(t){return{chromecast:function(t){return{appID:t&&t.appID?Jm(t.appID):Uy}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return"auto";case"manual":return"manual";case"disabled":return"disabled";default:return"manual"}}(t?t.strategy:void 0)}}function Xy(t){var n,i=Dy.jg;return(n=t)&&ic(n,"mpd")&&(i=Dy.Yg),function(t){return!!t&&ic(t,"m3u8")}(t)&&(i=Dy.Qg),i}function zy(t){return!!t&&ec(t.toLowerCase(),Dy.Yg)}function Vy(t){if(!t)return!1;var n=t.toLowerCase();return ec(n,Dy.Qg)||ec(n,Dy.Zg)}function Wy(t){return or(t)&&or(t.ssai)&&"google-dai"===t.ssai.integration}function qy(t){return or(t)&&cr(t.integration)&&"verizon-media"===t.integration}function Gy(t){return or(t)&&cr(t.integration)&&"mediatailor"===t.integration}function jy(t){if(cr(t))return!t;if(qy(t))return!t.id;if(Wy(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function Yy(t){return Boolean(or(t)&&cr(t.src))}function Qy(t){return t.type===Dy.Kg||t.type===Dy.Jg}function Zy(t){return cr(t)||Yy(t)||Wy(t)||qy(t)}function Ky(t){if(t){if(Zy(t))return jy(t);for(var n=0;n<t.length;n++){if(!jy(t[n]))return!1}return!0}return!0}function Jy(){return{crossOrigin:Cy.$g,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function $y(){return ga({},Jy(),{src:void 0,type:Dy.jg,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function tp(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:By.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1}};return void 0===t||(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return xy.NONE;case"midroll-and-postroll":default:return xy.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Ym(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return By.INSECURE;case"disabled":return By.DISABLED;case"enabled":default:return By.ENABLED}}(t.vpaidMode)),ur(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(cr)),void 0!==t.googleIma&&(n.googleIma=function(t){return void 0===t?{useNativeIma:!1,bitrate:-1}:{useNativeIma:Ym(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1};var n}(t.googleIma))),n}function np(t){if(!sr(t))return[];for(var n=[],i=0;i<t.length;i++){var e=t[i];ar(e)&&n.push(e)}return n}function ip(t){return cr(t.src)}(Ry=Iy||(Iy={})).AUTO="auto",Ry.MANUAL="manual",Ry.DISABLED="disabled",me(),zt(),me(),zt(),(Ny=Cy||(Cy={})).$g="",Ny.tm="anonymous",Ny.nm="use-credentials",(Py=Dy||(Dy={})).Yg="application/dash+xml",Py.Qg="application/vnd.apple.mpegurl",Py.Zg="application/x-mpegurl",Py.jg="video/mp4",Py.Kg="application/vnd.theoplayer.hesp+json",Py.Jg="application/vnd.theo.hesp+json",me(),zt(),me(),zt(),(Oy=By||(By={})).ENABLED="enabled",Oy.INSECURE="insecure",Oy.DISABLED="disabled",me(),zt(),me(),zt(),(Ly=xy||(xy={})).NONE="none",Ly.MIDROLL_AND_POSTROLL="midroll-and-postroll",me(),zt(),me(),zt(),(Fy=My||(My={}))[Fy.im=0]="im",Fy[Fy.um=1]="um",Fy[Fy.hm=2]="hm",Fy[Fy.fm=3]="fm",Fy[Fy.vm=4]="vm";var ep=function(t){function n(n,i){var e;return void 0===i&&(i=My.im),(e=t.call(this,qw.td)||this).currentTime=n,e.readyState=i,e}return ze(n,t),n}(fh);me(),zt();var rp=function(t){function n(n){var i;return(i=t.call(this,qw.ld)||this).currentTime=n,i}return ze(n,t),n}(fh);me(),zt();var up,sp,op=function(t){function n(n){var i;return(i=t.call(this,qw.wd)||this).currentTime=n,i}return ze(n,t),n}(fh);me(),zt(),me(),zt(),(sp=up||(up={})).dm="canplay",sp.lm="canplaythrough",sp.wm="loadeddata",sp._m="loadedmetadata",sp.R_="readystatechange",sp.gm="waiting",sp.ym="playing";var ap=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"],cp=function(t){function n(n,i){var e;return void 0===i&&(i=My.um),(e=t.call(this,up._m)||this).currentTime=n,e.readyState=i,e}return ze(n,t),n}(fh);me(),zt();var hp=function(t){function n(n){var i;return(i=t.call(this,qw.$v)||this).duration=n,i}return ze(n,t),n}(fh);me(),zt();var fp=function(t){function n(n,i){var e;return(e=t.call(this,qw.md)||this).currentTime=n,e.playbackRate=i,e}return ze(n,t),n}(fh);me(),zt();var vp=function(t){function n(n,i){var e;return(e=t.call(this,qw.Cd)||this).currentTime=n,e.currentProgramDateTime=i,e}return ze(n,t),n}(fh);me(),zt();var dp=function(t){function n(n){var i;return(i=t.call(this,qw.ed)||this).currentTime=n,i}return ze(n,t),n}(fh);me(),zt();var lp=function(t){function n(n,i){var e;return void 0===i&&(i=My.hm),(e=t.call(this,up.wm)||this).currentTime=n,e.readyState=i,e}return ze(n,t),n}(fh);me(),zt();var wp=function(t){function n(n){var i;return(i=t.call(this,qw.kd)||this).currentTime=n,i}return ze(n,t),n}(fh);me(),zt();var _p=function(t){function n(n){var i;return(i=t.call(this,qw.Ad)||this).currentTime=n,i}return ze(n,t),n}(fh);me(),zt();var gp=function(t){function n(n,i){var e;return(e=t.call(this,qw.Nd)||this).currentTime=n,e.volume=i,e}return ze(n,t),n}(fh);me(),zt();var mp=function(t){function n(n,i){var e;return void 0===i&&(i=My.fm),(e=t.call(this,up.dm)||this).currentTime=n,e.readyState=i,e}return ze(n,t),n}(fh);me(),zt();var yp=function(t){function n(n,i){var e;return void 0===i&&(i=My.vm),(e=t.call(this,up.lm)||this).currentTime=n,e.readyState=i,e}return ze(n,t),n}(fh);me(),zt();var pp=function(t){function n(n,i){var e;return(e=t.call(this,up.R_)||this).currentTime=n,e.readyState=i,e}return ze(n,t),n}(fh);me(),zt(),Ae();var Ap=function(t){function n(n){var i;return(i=t.call(this,vy.Ag)||this).errorObject=n,i}return ze(n,t),n.prototype.l_=function(){return this},pe(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Im);function kp(t,n){return bp.apply(this,arguments)}function bp(){return(bp=_a((function(t,n,i,e,r){var u,s,o;return ma(this,(function(a){switch(a.label){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),u=0,a.label=1;case 1:0,a.label=2;case 2:return a.trys.push([2,4,,7]),[4,t(n)];case 3:return[2,a.sent()];case 4:return Yc(s=a.sent()),u<i?(o=d.min(e*d.pow(2,u),r),u++,[4,rh(o,n)]):[3,6];case 5:return a.sent(),[3,1];case 6:throw s;case 7:return[3,1];case 8:return[2]}}))}))).apply(this,arguments)}me(),zt();var Tp,Sp,Ep,Ip,Rp={maxRetries:1/0,minimumBackoff:200,maximumBackoff:3e4};function Cp(t){if(er(t))return Np($m(null==t?void 0:t.preferredAudioCodecs,Jm),$m(null==t?void 0:t.preferredVideoCodecs,Jm),Qm(null==t?void 0:t.restrictToPlayerSize))}function Np(t,n,i){if(0!==t.length||0!==n.length||void 0!==i)return{preferredAudioCodecs:0===t.length?void 0:t,preferredVideoCodecs:0===n.length?void 0:n,restrictToPlayerSize:i}}function Dp(t,n){return void 0!==t&&(null==t?void 0:t.length)>0?t:null!=n?n:[]}function Pp(t){switch(t){case"all":case"content":return t;default:return"none"}}function Bp(t){var n,i,e,r,u,s=Wm(t||{});return s.libraryLocation&&(s.libraryLocation=x_(s.libraryLocation,!0)),s.isEmbeddable=Boolean(s.isEmbeddable),s.cast=Hy(s.cast),s.ads=tp(s.ads),s.analytics=np(s.analytics),s.mutedAutoplay=Pp(s.mutedAutoplay),s.allowNativeFullscreen=Boolean(s.allowNativeFullscreen),s.allowMixedContent=Boolean(s.allowMixedContent),s.persistVolume=Boolean(s.persistVolume),s.liveOffset=(n=s.liveOffset,Number(n)||void 0),s.hlsDateRange=(i=s.hlsDateRange,Boolean(i)),s.retainPlaybackRateOnSourceChange=Boolean(s.retainPlaybackRateOnSourceChange),s.license=cr(e=s.license)?e:void 0,s.licenseUrl=function(t){if(!t)return;try{return x_(t)}catch(t){return void De.$u("Invalid 'licenseUrl', falling back to default URL")}}(s.licenseUrl),s.vr=function(t){return{useWebXR:Boolean(t&&t.useWebXR)}}(s.vr),s.abr=Cp(s.abr),s.retryConfiguration=(r=s.retryConfiguration,u=ga({},Rp),void 0!==r&&(void 0!==r.maxRetries&&(u.maxRetries=Number(r.maxRetries)),void 0!==r.minimumBackoff&&(u.minimumBackoff=Number(r.minimumBackoff)),void 0!==r.maximumBackoff&&(u.maximumBackoff=Number(r.maximumBackoff))),u),s.hideDeprecationWarnings=Boolean(s.hideDeprecationWarnings),s}function Op(t){return{pm:t.pm,Am:t.Am,Tm:t.Tm,ua:t.ua,Sm:t.Sm,Em:t.Em,Im:t.Im,Rm:t.Rm,Dg:t.Dg,Cm:t.Cm,Nm:t.Nm,Dm:t.Dm,Pm:t.Pm}}function xp(t,n,i){if(n!==i){var e=n.pm,r=n.Am,u=n.Em,s=n.Im,o=n.Rm,a=n.Dg,c=n.Cm,h=(n.Dm,n.Nm,n.Pm),f=i.pm,v=i.Am,d=i.Tm,l=i.Sm,w=i.Em,g=i.Im,m=i.Rm,y=i.Dg,p=i.Cm,A=(i.Dm,i.Nm,i.Pm);a!==My.im&&t.Ho(new ep(f,y)),g&&!s?t.Ho(new rp(f)):!g&&s&&t.Ho(new op(f)),y>=My.um&&t.Ho(new cp(f,y)),v===r||_(v)&&_(r)||t.Ho(new hp(v)),m!==o&&t.Ho(new fp(f,m)),f!==e&&t.Ho(new vp(f,void 0)),d&&t.Ho(new dp(f)),y>=My.hm&&t.Ho(new lp(f,y)),p&&!c?t.Ho(new wp(f)):!p&&c&&t.Ho(new _p(f)),A===h&&w===u||t.Ho(new gp(f,A)),y>=My.fm&&t.Ho(new mp(f,y)),y>=My.vm&&t.Ho(new yp(f,y)),y!==a&&t.Ho(new pp(f,y)),l&&t.Ho(new Ap(l))}}me(),zt(),me(),zt(),(Sp=Tp||(Tp={})).xl="audio",Sp.Ll="video",Sp.dr="text",Sp.Ml="image",Sp.Al="unknown",(Ip=Ep||(Ep={})).NONE="none",Ip.ALL="all",Ip.CONTENT="content",me(),zt(),Ae(),me(),zt(),me(),zt(),me(),zt();var Lp=.25,Mp={Bm:.2,Om:.45,xm:.7,Lm:3,Mm:qp,Fm:Gp},Fp={Bm:.4,Om:.65,xm:1,Lm:3,Mm:qp,Fm:Gp},Up={Bm:.4,Om:.7,xm:.9,Lm:3,Mm:qp,Fm:Gp},Hp={Bm:.4,Om:.65,xm:1,Lm:3,Mm:qp,Fm:Gp},Xp={Bm:.5,Om:1.125,xm:1.75,Lm:2.55,Mm:qp,Fm:Gp};function zp(){var t;return t=De.Rs.Bu?Hp:De.Rs.Lu?Fp:De.Rs.xu?"Android"===De.Cs.Ns?Up:Mp:Xp,De.Cs.Ds?function(t){if(De.Cs.Ds){var n=d.max(.65,t.Bm),i=d.max(n+Lp,t.Om),e=d.max(i+Lp,t.xm);return{Bm:n,Om:i,xm:e,Lm:d.max(e+Lp,t.Lm),Mm:qp,Fm:Gp}}return t}(t):t}me(),zt(),me(),zt();var Vp,Wp,qp=.92,Gp=1.08;function jp(t){return{goLive:function(){return t.Um()},get isLive(){return t.Hm},get currentServerLiveTime(){return t.Xm},get currentLatency(){return t.zm},get latencies(){return t.Vm},get latency(){return t.Wm},set latency(n){if(!function(t){if(!or(t))return!1;var n=t,i=er(n.target)&&"number"==typeof n.target&&er(n.windowEnd)&&"number"==typeof n.windowEnd&&er(n.windowStart)&&"number"==typeof n.windowStart&&er(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new h("Invalid latency configuration");t.Wm=n},get manifest(){return t.qm},addEventListener:function(n,i){t.zo(Qp(n),i)},removeEventListener:function(n,i){t.Go(Qp(n),i)}}}(Wp=Vp||(Vp={}))[Wp.Rg=0]="Rg",Wp[Wp.Gm=1]="Gm",Wp[Wp.jm=2]="jm";var Yp=["golive","latencyrecoveryseek"];function Qp(t){var n=ty(t,Jm);return(cr(n)?[n]:n).filter((function(t){return Dc(Yp,t)}))}var Zp=function(t){function n(){var n,i;return(n=t.call(this)||this).W_=void 0,n.v_=void 0,n.Ym={windowStart:(i=zp()).Bm,windowEnd:i.xm,target:i.Om,maxOffset:i.Lm},n.W_=void 0,n}ze(n,t);var i=n.prototype;return i.j_=function(t){t.zo(Yp,this.Uo)},i.Y_=function(t){t.Go(Yp,this.Uo)},i.Um=function(){var t;null==(t=this.W_)||t.Um()},i.bv=function(){this.qo(),this.W_&&this.Y_(this.W_),this.W_=void 0},pe(n,[{key:"Q_",get:function(){return this.W_},set:function(t){var n=this.W_;t!==n&&(n&&this.Y_(n),t&&this.j_(t),this.W_=t,this.W_&&(this.W_.Wm=this.Ym))}},{key:"d_",get:function(){return this.v_||(this.v_=jp(this)),this.v_}},{key:"Xm",get:function(){var t;return null==(t=this.W_)?void 0:t.Xm}},{key:"zm",get:function(){var t;return null==(t=this.W_)?void 0:t.zm}},{key:"Vm",get:function(){var t;return null==(t=this.W_)?void 0:t.Vm}},{key:"Hm",get:function(){return!!this.W_&&this.W_.Hm}},{key:"Wm",get:function(){return this.W_?this.W_.Wm:this.Ym},set:function(t){this.W_&&(this.W_.Wm=t),this.Ym=t}},{key:"qm",get:function(){var t;return null==(t=this.W_)?void 0:t.qm}}]),n}(oh),Kp=function(t){function n(n){var i;return(i=t.call(this)||this).Qm=[],i.Zm=!1,i.Km=new dy,i.Jm=new dy,i.$m=new yy,i.iy=new Zp,i.ey=!1,i.uy(n),n.Wo(i.Uo),i.W_=n,i.Km.Q_=n.sy,i.Jm.Q_=n.oy,i.$m.Q_=n.vy,i.iy.Q_=n.ly,i}ze(n,t);var i=n.prototype;return i.wy=function(){this.W_.wy()},i._y=function(){this.W_._y()},i.gy=function(){var t=this;return _a((function(){return ma(this,(function(n){return[2,ih(t.Qm.map((function(t){return t.gy()}))).then(lr)]}))}))()},i.yy=function(){return this.W_.yy()},i.py=function(t,n){var i=this;return _a((function(){return ma(this,(function(e){switch(e.label){case 0:return jc(n),[4,i.W_.py(t,n)];case 1:return e.sent(),[2]}}))}))()},i.Ay=function(){return this.Q_.Ay()},i.by=function(){this.Q_.by()},i.Ty=function(){this.Q_.Ty()},i.Sy=function(){if(!this.Zm){for(var t=0,n=this.Qm;t<n.length;t++){n[t].Sy()}this.Zm=!0}},i.Ey=function(t){this.W_.Ey(t)},i.Iy=function(){this.W_.Iy()},i.Ry=function(){this.W_.Ry()},i.Cy=function(){this.W_.Cy()},i.Ny=function(){return this.W_.Ny()},i.Dy=function(){return this.W_.Dy()},i.Py=function(){for(var t=[],n=0,i=this.Qm;n<i.length;n++){var e,r=i[n];(e=t).push.apply(e,Ce(r.Py()))}return t},i.By=function(t){for(var n=!1,i=0,e=this.Qm;i<e.length;i++){n=e[i].By(t)||n}return n},i.Ho=function(n){this.By(n)||t.prototype.Ho.call(this,n)},i.uy=function(t){this.Qm.push(t)},i.Oy=function(t){Cc(this.Qm,t)},i.xy=function(t){if(t!==this.W_){var n=this.W_;n.Iy(),n.Qo(this.Uo);var i=Op(this),e=this.Ly,r=this.Dy();this.W_=t,this.Km.Q_=t.sy,this.Jm.Q_=t.oy,this.$m.Q_=t.vy,this.iy.Q_=t.ly,xp(this,i,this);var u=this.Ly;u!==e&&this.Ho(new by(u)),this.Dy()!==r&&this.Ho(new ky),t.Wo(this.Uo),t.Ey(n)}},i.My=function(){},i.Fy=function(){this.W_.Fy()},i.bv=function(){var t=this;return _a((function(){var n,i;return ma(this,(function(e){switch(e.label){case 0:t.qo(),t.W_.Iy(),n=0,i=t.Qm,e.label=1;case 1:return n<i.length?[4,i[n].bv()]:[3,4];case 2:e.sent(),e.label=3;case 3:return n++,[3,1];case 4:return t.Km.bv(),t.Jm.bv(),t.$m.bv(),t.iy.bv(),[2]}}))}))()},i.Nf=function(){var t=this;return _a((function(){return ma(this,(function(n){return[2,ih(t.Qm.map((function(t){return t.Nf()}))).then(lr)]}))}))()},pe(n,[{key:"sy",get:function(){return this.Km}},{key:"vy",get:function(){return this.$m}},{key:"oy",get:function(){return this.Jm}},{key:"Uy",get:function(){return this.W_.Uy}},{key:"Hy",get:function(){return this.W_.Hy},set:function(t){this.W_.Hy=t}},{key:"Ly",get:function(){return this.W_.Ly}},{key:"pm",get:function(){return this.W_.pm},set:function(t){this.W_.pm=t}},{key:"Am",get:function(){return this.W_.Am}},{key:"Xy",get:function(){return this.W_.Xy}},{key:"Tm",get:function(){return this.W_.Tm}},{key:"ua",get:function(){return this.W_.ua}},{key:"Sm",get:function(){return this.W_.Sm}},{key:"ly",get:function(){return this.iy}},{key:"zy",get:function(){return this.W_.zy}},{key:"Vy",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.Wy,i+=a.qy,e+=a.Gy,r+=a.jy,u+=a.Yy,s.amountOfBufferedAudioSegments+=a.Qy.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=a.Qy.amountOfBufferedVideoSegments}return{Wy:n,qy:i,Gy:e,jy:r,Yy:u,Qy:s}}(this.Qm.map((function(t){return t.Vy})))}},{key:"Em",get:function(){return this.W_.Em},set:function(t){this.W_.Em=t}},{key:"Zy",get:function(){return this.W_.Zy}},{key:"Im",get:function(){return this.W_.Im}},{key:"Rm",get:function(){return this.W_.Rm},set:function(t){this.W_.Rm=t}},{key:"Ky",get:function(){return this.W_.Ky}},{key:"Jy",get:function(){return this.W_.Jy},set:function(t){this.W_.Jy=t}},{key:"Dg",get:function(){return this.W_.Dg}},{key:"$y",get:function(){return this.W_.$y}},{key:"Cm",get:function(){return this.W_.Cm}},{key:"Nm",get:function(){return this.W_.Nm}},{key:"Dm",get:function(){return this.W_.Dm}},{key:"Pm",get:function(){return this.W_.Pm},set:function(t){this.W_.Pm=t}},{key:"tp",get:function(){return this.W_.tp}},{key:"np",get:function(){return!1},set:function(t){}},{key:"Q_",get:function(){return this.W_},set:function(t){this.xy(t)}}]),n}(Ay);me(),zt(),Ae(),me(),zt(),Ae();var Jp,$p,tA=function(t){function n(n,i,e,r,u,s,o,a){var c;return(c=t.call(this,n,i,e)||this).url=r,c.status=u,c.statusText=s,c.response=o,c.systemCode=a,c}return ze(n,t),pe(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(bw);($p=Jp||(Jp={}))[$p.ABORTED=1]="ABORTED",$p[$p.NETWORK=2]="NETWORK",$p[$p.DECODE=3]="DECODE",$p[$p.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",$p[$p.ENCRYPTED=5]="ENCRYPTED",$p[$p.LICENSE_INVALID=6]="LICENSE_INVALID",$p[$p.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR";var nA=function(t){function n(n,i,e,r){var u;return(u=t.call(this,i)||this).code=n,u.message=null!=i?i:"Unknown error",u.cause=e,u.systemCode=r,h.captureStackTrace&&h.captureStackTrace(mu(u),u.constructor),u}return ze(n,t),pe(n,[{key:"name",get:function(){return"MediaError"}}]),n}(yu);function iA(t){zm(t,"MEDIA_ERR_ABORTED",1),zm(t,"MEDIA_ERR_NETWORK",2),zm(t,"MEDIA_ERR_DECODE",3),zm(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",4),zm(t,"MEDIA_ERR_ENCRYPTED",5)}function eA(t){var n,i;return function(t){return t.category===yw.CONTENT_PROTECTION}(t)?new nA(5,t.message,null==(n=t.cause)?void 0:n.message,t.systemCode):new nA(function(t){if(t===gw.MEDIA_ABORTED)return 1;if(t===gw.MANIFEST_LOAD_ERROR||t===gw.MEDIA_LOAD_ERROR||t===gw.SUBTITLE_LOAD_ERROR)return 2;if(t===gw.MEDIA_DECODE_ERROR)return 3;if(t===gw.MEDIA_NOT_SUPPORTED)return 4;var n=yw.fromCode(t);if(n===yw.NETWORK)return 2;if(n===yw.SOURCE)return 4;if(n===yw.LICENSE)return 6;if(n===yw.CONTENT_PROTECTION)return 5;if(n===yw.AD)return 7;return 3}(t.code),t.message,null==(i=t.cause)?void 0:i.message)}iA(nA),iA(nA.prototype),me(),zt(),Ae(),me(),zt(),me(),zt(),Ae(),me(),zt(),Ae(),me(),zt();var rA=function(t){function n(){return t.apply(this,arguments)}ze(n,t);var i=n.prototype;return i.U_=function(n){return t.prototype.U_.call(this,n)},i.l_=function(){return cy(this)},n}(Mm);me(),zt(),me(),zt(),Ae(),me(),zt(),Ae(),me(),zt();var uA=function(){function t(){this.ip=[],this.v_=void 0}var n=t.prototype;return n.ep=function(t){this.ip.push(t),this.v_&&this.v_.push(t.d_)},n._f=function(t){Cc(this.ip,t),this.v_&&Cc(this.v_,t.d_)},n.F_=function(t){return this.ip[t]},n.rp=function(t){return ur(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Dc(t,n[i]))return!1;return!0}(this.ip,t):Dc(this.ip,t)},n.Nf=function(){Pc(this.ip),this.v_&&Pc(this.v_)},pe(t,[{key:"z_",get:function(){return this.ip}},{key:"V_",get:function(){return this.ip.length}},{key:"d_",get:function(){var t,n;return this.v_||(this.v_=((n=(t=this).z_.map((function(t){return t.d_}))).item=function(n){var i=0|n,e=t.F_(i);return e&&e.d_||void 0},n)),this.v_}}]),t}();me(),zt();var sA=function(t){function n(n){var i;return(i=t.call(this,Bm.P_)||this).w_=n,i}return ze(n,t),n.prototype.l_=function(){return new oA(this.w_.d_)},n}(Cm),oA=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return ze(n,t),n}(Nm);me(),zt();var aA=0;function cA(){return aA++}var hA=0;var fA=0;function vA(){return fA++}var dA=0;function lA(){return dA++}var wA=0;var _A=function(t){function n(n){var i;return(i=t.call(this)||this).Gs=Tp.xl,i.sp=!1,i.v_=void 0,i.op=n,i.ap=cA(),i.tf=wA+++"",i.cp=n.label,i.ip=new uA,i.hp(),i}ze(n,t);var i=n.prototype;return i.fp=function(t){this.J_=t},i.hp=function(){this.J_=this.vp},pe(n,[{key:"K_",get:function(){}},{key:"J_",get:function(){return this.sp},set:function(t){this.sp!==t&&(this.sp=t,this.vp=t,this.Ho(new Fm(this)))}},{key:"vp",get:function(){return this.op.enabled},set:function(t){this.op.enabled=t}},{key:"d_",get:function(){return this.v_||(this.v_=oy(this)),this.v_}},{key:"eg",get:function(){return this.tf}},{key:"rg",get:function(){return this.ap}},{key:"og",get:function(){return this.op.kind}},{key:"ag",get:function(){return this.cp},set:function(t){t!==this.cp&&(this.cp=t,this.Ho(new sA(this)))}},{key:"hg",get:function(){return this.op.language}},{key:"Sg",get:function(){return this.J_?"enabled":"disabled"}},{key:"dp",get:function(){return this.op}},{key:"fg",get:function(){return this.ip}},{key:"vg",get:function(){},set:function(t){}}]),n}(oh);me(),zt(),Ae();var gA=0;var mA=function(t){function n(n){var i;return(i=t.call(this)||this).Gs=Tp.Ll,i.sp=!1,i.v_=void 0,i.op=n,i.ap=cA(),i.tf=gA+++"",i.ip=new uA,i.cp=n.label,i.hp(),i}ze(n,t);var i=n.prototype;return i.hp=function(){this.J_=this.vp},i.fp=function(t){this.J_=t},pe(n,[{key:"K_",get:function(){}},{key:"J_",get:function(){return this.sp},set:function(t){this.sp!==t&&(this.sp=t,this.vp=t,this.Ho(new Fm(this)))}},{key:"vp",get:function(){return!!this.op.selected},set:function(t){this.op.selected=t}},{key:"d_",get:function(){return this.v_||(this.v_=oy(this)),this.v_}},{key:"eg",get:function(){return this.tf}},{key:"rg",get:function(){return this.ap}},{key:"og",get:function(){return"main"}},{key:"ag",get:function(){return this.cp},set:function(t){t!==this.cp&&(this.cp=t,this.Ho(new sA(this)))}},{key:"hg",get:function(){return this.op.language}},{key:"Sg",get:function(){return this.J_?"enabled":"disabled"}},{key:"dp",get:function(){return this.op}},{key:"fg",get:function(){return this.ip}},{key:"vg",get:function(){},set:function(t){}}]),n}(oh);me(),zt();var yA,pA,AA,kA,bA,TA,SA=function(t){function n(n){var i;return(i=t.call(this,qw.Wv)||this).zy=n,i}return ze(n,t),n}(fh);me(),zt(),me(),zt(),(pA=yA||(yA={}))[pA.NONE=0]="NONE",pA[pA.LOADING=1]="LOADING",pA[pA.LOADED=2]="LOADED",pA[pA.ERROR=3]="ERROR",me(),zt(),(kA=AA||(AA={})).DEFAULT="",kA.SRT="srt",kA.TTML="ttml",kA.WEBVTT="webvtt",kA.EMSG="emsg",kA.EVENT_STREAM="eventstream",kA.ID3="id3",kA.CEA608="cea608",kA.DATE_RANGE="daterange",me(),zt(),me(),zt(),(TA=bA||(bA={})).lp="cue",TA.wp="region",TA._p="stylesheet",me(),zt(),Ae(),me(),zt();var EA,IA,RA={"line-left":"start",center:"middle","line-right":"end"},CA={start:"line-left",middle:"center",end:"line-right"};function NA(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function DA(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:w(i),_(r)?e:r;var i,e,r}me(),zt(),me(),zt(),me(),zt(),(IA=EA||(EA={})).gp="mp",IA.yp="pp",IA.P_="gf";var PA=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Ap=i,e}return ze(n,t),n}(Cm),BA=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return ze(n,t),n}(Nm);function OA(t){var n,i=[EA.gp,EA.yp,EA.P_],e={get track(){return t.w_.d_},get id(){return t.eg},get uid(){return t.rg},get startTime(){return t.kp},get endTime(){return t.bp},get content(){return t.Tp},addEventListener:function(t,i){var e=ty(t,Jm);n.zo(e,i)},removeEventListener:function(t,i){var e=ty(t,Jm);n.Go(e,i)}};return n=new ah(e),t.zo(i,(function(t){return n.Ho(t.d_)})),e}function xA(){}function LA(t){return Vm(OA(t),{get align(){return t.Sp},get line(){return t.Ep},get lineAlign(){return t.Ip},get position(){return t.Rp},get positionAlign(){return t.Cp},get region(){return t.Np?t.Np.d_:null},get size(){return t.Ca},get snapToLines(){return t.Dp},get text(){return t.Tp},get vertical(){return t.Pp}})}me(),zt(),Ae(),me(),zt();var MA=function(t){function n(n){return t.call(this,EA.P_,n)}return ze(n,t),n.prototype.l_=function(){return new FA(this.Ap.d_)},n}(PA),FA=function(t){function n(n){return t.call(this,"update",n)}return ze(n,t),n}(BA),UA=.02;function HA(t,n){return eu(t.kp,n.kp,UA)&&eu(t.bp,n.bp,UA)&&t.eg===n.eg}var XA=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).v_=void 0,s.Bp=void 0,s.Op=!1,s.xp=-1,s.ap=lA(),s.Lp=n,s.Mp=i,s.Fp=e,s.Up=Boolean(r),s.tf=null!=u?u:"",s}ze(n,t);var i=n.prototype;return i.l_=function(){return OA(this)},i.Hp=function(t){return this===t||Gm(this,t)&&HA(this,t)},i.bv=function(){this.qo()},pe(n,[{key:"kp",get:function(){return this.Lp},set:function(t){this.Lp!==t&&(this.Lp=t,this.Ho(new MA(this)))}},{key:"bp",get:function(){return this.Mp},set:function(t){this.Mp!==t&&(this.Mp=t,this.Ho(new MA(this)))}},{key:"eg",get:function(){return this.tf}},{key:"rg",get:function(){return this.ap}},{key:"d_",get:function(){return this.v_||(this.v_=this.l_()),this.v_}},{key:"Xp",get:function(){return this.Op},set:function(t){this.Op=t}},{key:"w_",get:function(){return this.Bp},set:function(t){this.Bp=t}},{key:"Tp",get:function(){return this.Fp},set:function(t){this.Fp!==t&&(this.Fp=t,this.Ho(new MA(this)))}},{key:"zp",get:function(){return this.Up},set:function(t){this.Up=t}}]),n}(oh);function zA(t,n){return t.Tp===n.Tp&&t.Ep===n.Ep&&t.Ip===n.Ip&&t.Rp===n.Rp&&t.Cp===n.Cp&&t.Np===n.Np&&t.Dp===n.Dp&&t.Ca===n.Ca&&t.Sp===n.Sp&&t.Pp===n.Pp}var VA=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,u)||this).Ep="auto",s.Ip="start",s.Rp="auto",s.Cp="auto",s.Np=void 0,s.Dp=!0,s.Ca=100,s.Sp="center",s.Pp="",s}return ze(n,t),n.prototype.Hp=function(n){return this===n||Gm(this,n)&&t.prototype.Hp.call(this,n)&&zA(this,n)},pe(n,[{key:"d_",get:function(){return this.v_||(this.v_=LA(this)),this.v_}},{key:"Gs",get:function(){return bA.lp}}]),n}(XA);function WA(t){var n=dr(t.Ep)?t.Ep:w(t.Ep);return _(n)||t.Dp||!(n<0||n>100)?_(n)?t.Dp?-1:100:n:100}function qA(t){return DA(t.Rp,t.Sp)}function GA(t){return NA(t.Cp,t.Sp)}function jA(t){var n,i=GA(t),e=qA(t);switch(i){case"line-left":n=100-e;break;case"line-right":n=e;break;case"center":n=e<=50?2*e:2*(100-e)}return d.min(t.Ca,n)}function YA(t){return{get id(){return t.eg},get identifier(){return t.eg},get lines(){return t.Vp},get regionAnchorX(){return t.Wp},get regionAnchorY(){return t.qp},get scrollValue(){return t.Gp},get viewportAnchorX(){return t.jp},get viewportAnchorY(){return t.Yp},get width(){return t.Qp}}}me(),zt(),Ae(),me(),zt();var QA=function(){function t(t,n,i,e,r,u,s,o){this.eg=t,this.Qp=n,this.Vp=i,this.Wp=e,this.qp=r,this.jp=u,this.Yp=s,this.Gp=o}return pe(t,[{key:"d_",get:function(){return this.v_||(this.v_=YA(this)),this.v_}},{key:"Gs",get:function(){return bA.wp}}]),t}();me(),zt(),me(),zt();var ZA=1e6,KA=function(){function t(){}var n=t.prototype;return n.Zp=function(t){return this.Kp()*t},n.Jp=function(t){return this.$p(t)>0},n.tA=function(t){return this.$p(t)>=0},n.nA=function(t,n){return this.eA(t).iA(n)},n.Hp=function(t){return 0===this.$p(t)},n.rA=function(t){return this.$p(t)<0},n.iA=function(t){return this.$p(t)<=0},n.uA=function(){return this.sA()?this.oA():this},n.aA=function(t){return this.ep(t.oA())},n.eA=function(t){return this.aA(t).uA()},t}();function JA(t,n){return t.cA()?n.cA()?wc.do:wc._o:n.cA()?wc.mo:t.hA()?n.hA()&&t.sA()===n.sA()?wc.do:t.sA()?wc.mo:wc._o:n.sA()?wc._o:wc.mo}me(),zt(),me(),zt();var $A=0x10000000000000000,tk=$A*$A,nk=tk/2,ik=function(){function t(t,n){this.fA=t,this.vA=n}var n=t.prototype;return n.dA=function(){return this.vA.unsigned},n.lA=function(){return this.fA.isZero()&&this.vA.isZero()},n.sA=function(){return this.vA.isNegative()},n.wA=function(){return this.dA()?t._A(this.fA,this.vA,!1):this},n.gA=function(){return this.dA()?this:t._A(this.fA,this.vA,!0)},n.mA=function(){return this.fA},n.Kp=function(){return this.sA()?-this.oA().Kp():this.vA.toNumber()*$A+this.fA.toUnsigned().toNumber()},n.yA=function(){return this.fA.toInt()},n.Hp=function(t){return(this.dA()===t.dA()||this.vA.getHighBits()>>>31!=1||t.vA.getHighBits()>>>31!=1)&&(this.vA.toUnsigned().eq(t.vA.toUnsigned())&&this.fA.toUnsigned().eq(t.fA.toUnsigned()))},n.$p=function(t){if(this.Hp(t))return wc.do;var n=this.sA(),i=t.sA();if(n&&!i)return wc.mo;if(!n&&i)return wc._o;if(!this.dA())return this.aA(t).sA()?wc.mo:wc._o;var e=this.gA(),r=t.gA(),u=r.vA.comp(e.vA);return u>0||0===u&&r.fA.gt(e.fA)?wc.mo:wc._o},n.rA=function(t){return this.$p(t)<0},n.iA=function(t){return this.$p(t)<=0},n.pA=function(t){return this.$p(t)>0},n.AA=function(t){return this.$p(t)>=0},n.kA=function(){return new t(this.fA.not(),this.vA.not())},n.bA=function(n){return new t(this.fA.and(n.fA),this.vA.and(n.vA))},n.TA=function(n){return new t(this.fA.or(n.fA),this.vA.or(n.vA))},n.SA=function(n){var i=127&n;return 0===i?this:i<64?t._A(this.fA.shl(i),this.vA.shl(i).or(this.fA.shru(64-i)),this.dA()):t._A(Jr.ZERO,this.fA.shl(i-64),this.dA())},n.EA=function(n){var i=127&n;return 0===i?this:i<64?t._A(this.fA.shru(i).or(this.vA.shl(64-i)),this.vA.shr(i),this.dA()):t._A(this.vA.shr(i-64),this.vA.isNegative()?Jr.NEG_ONE:Jr.ZERO,this.dA())},n.IA=function(n){var i=127&n;return 0===i?this:i<64?t._A(this.fA.shru(i).or(this.vA.shl(64-i)),this.vA.shru(i),this.dA()):64===i?t._A(this.vA,Jr.ZERO,this.dA()):t._A(this.vA.shru(i-64),Jr.ZERO,this.dA())},n.ep=function(n){var i=this.vA.high>>>16,e=65535&this.vA.high,r=this.vA.low>>>16,u=65535&this.vA.low,s=this.fA.high>>>16,o=65535&this.fA.high,a=this.fA.low>>>16,c=65535&this.fA.low,h=n.vA.high>>>16,f=65535&n.vA.high,v=n.vA.low>>>16,d=65535&n.vA.low,l=n.fA.high>>>16,w=65535&n.fA.high,_=n.fA.low>>>16,g=0,m=0,y=0,p=0,A=0,k=0,b=0,T=0;b+=(T+=c+(65535&n.fA.low))>>>16,T&=65535,k+=(b+=a+_)>>>16,b&=65535,A+=(k+=o+w)>>>16,k&=65535,p+=(A+=s+l)>>>16,A&=65535,y+=(p+=u+d)>>>16,p&=65535,m+=(y+=r+v)>>>16,y&=65535,g+=(m+=e+f)>>>16,m&=65535,g+=i+h,g&=65535;var S=this.dA(),E=Jr.fromBits(y<<16|p,g<<16|m,S),I=Jr.fromBits(b<<16|T,A<<16|k,S);return t._A(I,E,S)},n.aA=function(t){return this.ep(t.oA())},n.oA=function(){return this.kA().ep(t.RA)},n.CA=function(n){if(this.lA()||n.lA())return this.dA()?t.NA:t.DA;if(this.sA())return n.sA()?this.oA().CA(n.oA()):this.oA().CA(n).oA();if(n.sA())return this.CA(n.oA()).oA();if(this.vA.isZero()&&0===this.fA.high&&n.vA.isZero()&&0===n.fA.high)return t.PA(this.fA.multiply(n.fA));var i=Jr.fromBits(4294967295,0,!0),e=this.fA.and(i),r=this.fA.shru(32),u=this.vA.and(i),s=this.vA.shru(32),o=n.fA.and(i),a=n.fA.shru(32),c=n.vA.and(i),h=n.vA.shru(32),f=Jr.UZERO,v=Jr.UZERO,d=Jr.UZERO,l=Jr.UZERO;f=f.add(e.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(r.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(a)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(a)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(c)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(a)).add(r.mul(c)).add(e.mul(h)).and(i);var w=Jr.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),_=Jr.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t._A(w,_,this.dA())},n.BA=function(n){var i,e,r=n;if(r.lA())throw new RangeError("division by zero");if(this.lA())return this.dA()?[t.NA,t.NA]:[t.DA,t.DA];if(this.dA()){if(r.dA()||(r=r.gA()),r.pA(this))return[t.NA,this];if(r.pA(this.IA(1)))return[e=t.OA,i=this.aA(r)];e=t.NA}else{if(this.Hp(t.xA)){if(r.Hp(t.RA)||r.Hp(t.LA))return[t.xA,t.DA];if(r.Hp(t.xA))return[t.RA,t.DA];var u=this.EA(1).MA(r).SA(1);return u.Hp(t.DA)?e=r.sA()?t.RA:t.LA:(i=this.aA(r.CA(u)),e=u.ep(i.MA(r))),[e,i=this.aA(r.CA(e))]}if(r.Hp(t.xA))return this.dA()?[t.NA,this]:[t.DA,this];var s,o;if(this.sA())return r.sA()?this.oA().BA(r.oA()):(e=(s=ya(this.oA().BA(r),2))[0],i=s[1],[e.oA(),i.oA()]);if(r.sA())return e=(o=ya(this.BA(r.oA()),2))[0],i=o[1],[e.oA(),i.oA()];e=t.DA}for(i=this;i.AA(r);){for(var a=d.max(1,d.floor(i.Kp()/r.Kp())),c=d.ceil(d.log(a)/d.LN2),h=c<=48?1:d.pow(2,c-48),f=t.FA(a),v=f.CA(r);v.sA()||v.pA(i);)a-=h,v=(f=t.FA(a,this.dA())).CA(r);f.lA()&&(f=t.RA),e=e.ep(f),i=i.aA(v)}return[e,i]},n.MA=function(t){return this.BA(t)[0]},n.UA=function(t){return this.BA(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.lA())return"0";if(this.sA()){if(this.Hp(t.xA)){var e=t.FA(i),r=this.MA(e),u=r.CA(e).aA(this);return r.toString(i)+u.yA().toString(i)}return"-"+this.oA().toString(i)}for(var s=t.FA(d.pow(i,6),this.dA()),o=this,a="";;){var c=o.MA(s),h=(o.aA(c.CA(s)).yA()>>>0).toString(i);if((o=c).lA())return h+a;for(;h.length<6;)h="0"+h;a=String(h)+a}},t._A=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.PA=function(n){return n.unsigned?new t(n,Jr.UZERO):new t(n,n.isNegative()?Jr.NEG_ONE:Jr.ZERO)},t.FA=function(n,i){if(_(n))return i?t.NA:t.DA;if(i){if(n<0)return t.NA;if(n>=tk)return t.HA}else{if(n<=-nk)return t.xA;if(n+1>=nk)return t.XA}return n<0?t.FA(-n,i).oA():t._A(Jr.fromNumber(n%$A),Jr.fromNumber(n/$A),i)},t}();ik.DA=ik.PA(Jr.ZERO),ik.NA=ik.PA(Jr.UZERO),ik.RA=ik.PA(Jr.ONE),ik.OA=ik.PA(Jr.UONE),ik.LA=ik.PA(Jr.NEG_ONE),ik.XA=ik._A(Jr.NEG_ONE,Jr.MAX_VALUE,!1),ik.HA=ik._A(Jr.MAX_UNSIGNED_VALUE,Jr.MAX_UNSIGNED_VALUE,!0),ik.xA=ik._A(Jr.ZERO,Jr.MIN_VALUE,!1),me(),zt(),Ae();var ek=function(){function t(t,n){void 0===n&&(n=1),this.zA=t,this.VA=n}var n=t.prototype;return n.ep=function(n){return this.VA>=n.VA?new t(this.zA+n.WA(this.VA).zA,this.VA):new t(this.WA(n.VA).zA+n.zA,n.VA)},n.Jp=function(t){return t.rA(this)},n.tA=function(t){return t.iA(this)},n.eA=function(n){return this.VA>=n.VA?new t(d.abs(this.zA-n.WA(this.VA).zA),this.VA):n.eA(this)},n.nA=function(t,n){return this.eA(t).iA(n)},n.$p=function(t){return i=t,(n=this).VA>=i.VA?Sc(n.zA,i.WA(n.VA).zA):Sc(n.WA(i.VA).zA,i.zA);var n,i},n.Hp=function(t){return 0===this.$p(t)},n.rA=function(t){return this.$p(t)<0},n.iA=function(t){return this.$p(t)<=0},n.WA=function(n){return new t(this.zA*(n/this.VA),n)},n.aA=function(n){return this.VA>=n.VA?new t(this.zA-n.WA(this.VA).zA,this.VA):new t(this.WA(n.VA).zA-n.zA,n.VA)},n.qA=function(n){return new t(this.zA*n,this.VA)},t.GA=function(n){return new t(d.ceil(n.zA),n.VA)},t.jA=function(n){return new t(d.floor(n.zA),n.VA)},t.YA=function(t,n){return t.tA(n)?t:n},t.QA=function(t,n){return t.iA(n)?t:n},pe(t,[{key:"hA",get:function(){return!isFinite(this.zA)}},{key:"ZA",get:function(){return this.zA/this.VA}}]),t}();ek.KA=new ek(1/6,1),ek.DA=new ek(0),ek.JA=new ek(1/0),ek.$A=1e6;var rk=function(t){function n(n,i){var e;return(e=t.call(this)||this).Rr=n.toSigned(),e.VA=i>>>0,e}ze(n,t);var i=n.prototype;return i.sA=function(){return this.Rr.isNegative()},i.lA=function(){return 0!==this.VA&&this.Rr.isZero()},i.hA=function(){return 0===this.VA&&!this.Rr.isZero()},i.cA=function(){return 0===this.VA&&this.Rr.isZero()},i.Kp=function(){if(0===this.VA)return this.Rr.isZero()?NaN:this.Rr.isNegative()?-1/0:1/0;var t=this.Rr.divide(this.VA),n=this.Rr.subtract(t.multiply(this.VA));return t.toNumber()+n.toNumber()/this.VA},i.mA=function(){if(0===this.VA)throw new h("Failed to convert timestamp");return this.Rr},i.nk=function(){return new Date(0===this.VA?NaN:this.WA(1e3).Rr.toNumber())},i.ek=function(){return new ek(0===this.VA?this.Kp():this.Rr.toNumber(),this.VA)},i.WA=function(t,i){void 0===i&&(i=uk.rk);var e=this.VA;if(e===t)return this;if(0===e)return this;var r=su(e,t);return new n(function(t,n,i){var e=ya(t.BA(n),2),r=e[0],u=e[1];if(u.lA())return r;if(i===uk.rk)return u.sA()?r.aA(ik.RA):r;if(i===uk.ck)return u.sA()?r:r.ep(ik.RA);var s=u.CA(ik.FA(2));return s.sA()?s.oA().rA(n)?r:r.aA(ik.RA):s.rA(n)?r:r.ep(ik.RA)}(ik.PA(this.Rr).CA(ik.FA(t/r)),ik.FA(e/r),i).mA(),t)},i.$p=function(t){if(this===t)return wc.do;if(0===this.VA||0===t.VA)return JA(this,t);if(this.lA())return t.lA()?wc.do:t.sA()?wc._o:wc.mo;if(t.lA())return this.sA()?wc.mo:wc._o;var n=d.min(this.VA,t.VA),i=this.WA(n,uk.hk).Rr,e=t.WA(n,uk.hk).Rr;return i.compare(e)},i.oA=function(){return 0===this.VA?function(t){0;return t.cA()?t:t.sA()?rk.fk:rk.vk}(this):new n(this.Rr.negate(),this.VA)},i.ep=function(t){if(0===this.VA||0===t.VA)return function(t,n){0;if(t.cA()||n.cA())return rk.dk;if(t.hA()&&n.hA())return t.sA()===n.sA()?t:rk.dk;return t.hA()?t:n}(this,t);if(this.lA())return t;if(t.lA())return this;var i=d.max(this.VA,t.VA),e=this.WA(i,uk.hk),r=t.WA(i,uk.hk);return new n(e.Rr.add(r.Rr),i)},i.CA=function(t){if(this.cA()||_(t))return n.dk;if(this.hA()||!isFinite(t)){if(this.lA()||0===t)return n.dk;var i=this.sA()?n.vk:n.fk;return t<0?i.oA():i}return this.lA()?this:new n(0===t?Jr.ZERO:this.Rr.multiply(t),this.VA)},i.MA=function(t){if(this.cA()||_(t))return n.dk;if(this.hA())return isFinite(t)?0===t?1/t<0?this.oA():this:t<0?this.oA():this:n.dk;if(!isFinite(t))return new n(Jr.ZERO,this.VA);if(this.lA())return 0===t?n.dk:new n(Jr.ZERO,this.VA);if(0===t){var i=this.sA()?n.vk:n.fk;return 1/t<0?i.oA():i}return new n(this.Rr.divide(t),this.VA)},i.lk=function(){return[this.Rr.low,this.Rr.high,this.VA]},n.wk=function(t,i){return void 0===i&&(i=ZA),n.FA(t*i,i)},n.FA=function(t,i){return _(t)?n.dk:t===1/0?n.fk:t===-1/0?n.vk:new n(Jr.fromNumber(t),i)},n.PA=function(t,i){return new n(t,i)},n._k=function(t){return n.wk(t.ZA,ZA)},n.gk=function(t){return new n(Jr.fromNumber(t.getTime()),1e3)},n.YA=function(t,n){return t.tA(n)?t:n},n.QA=function(t,n){return t.iA(n)?t:n},n.yk=function(t,i,e){return n.YA(i,n.QA(e,t))},n}(KA);rk.DA=new rk(Jr.ZERO,ZA),rk.dk=new rk(Jr.ZERO,0),rk.fk=new rk(Jr.ONE,0),rk.vk=new rk(Jr.NEG_ONE,0),me(),zt(),Ae(),Z();var uk,sk,ok=function(t){function n(n,i){var e;return(e=t.call(this)||this).Rr=BigInt.asIntN(64,n),e.VA=i>>>0,e}ze(n,t);var i=n.prototype;return i.sA=function(){return this.Rr<BigInt(0)},i.lA=function(){return 0!==this.VA&&this.Rr===BigInt(0)},i.hA=function(){return 0===this.VA&&this.Rr!==BigInt(0)},i.cA=function(){return 0===this.VA&&this.Rr===BigInt(0)},i.Kp=function(){if(0===this.VA)return this.Rr===BigInt(0)?NaN:this.Rr<BigInt(0)?-1/0:1/0;var t=this.Rr/BigInt(this.VA),n=this.Rr-t*BigInt(this.VA);return Number(t)+Number(n)/this.VA},i.mA=function(){if(0===this.VA)throw new h("Failed to convert timestamp");return this.pk()},i.pk=function(){var t=this.Rr&BigInt(4294967295),n=this.Rr>>BigInt(32)&BigInt(4294967295);return Jr.fromBits(Number(t),Number(n))},i.nk=function(){return new Date(0===this.VA?NaN:Number(this.WA(1e3).Rr))},i.ek=function(){return new ek(0===this.VA?this.Kp():Number(this.Rr),this.VA)},i.WA=function(t,i){void 0===i&&(i=uk.rk);var e=this.VA;if(e===t)return this;if(0===e)return this;var r=su(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===uk.rk)return r<BigInt(0)?e-BigInt(1):e;if(i===uk.ck)return r<BigInt(0)?e:e+BigInt(1);var u=r*BigInt(2);return u<BigInt(0)?-u<n?e:e-BigInt(1):u<n?e:e+BigInt(1)}(this.Rr*BigInt(t/r),BigInt(e/r),i),t)},i.$p=function(t){if(this===t)return wc.do;if(0===this.VA||0===t.VA)return JA(this,t);if(this.lA())return t.lA()?wc.do:t.sA()?wc._o:wc.mo;if(t.lA())return this.sA()?wc.mo:wc._o;var n=d.min(this.VA,t.VA),i=this.WA(n,uk.hk).Rr,e=t.WA(n,uk.hk).Rr;return i>e?wc._o:i<e?wc.mo:wc.do},i.oA=function(){return 0===this.VA?function(t){0;return t.cA()?t:t.sA()?ok.fk:ok.vk}(this):new n(-this.Rr,this.VA)},i.ep=function(t){if(0===this.VA||0===t.VA)return function(t,n){0;if(t.cA()||n.cA())return ok.dk;if(t.hA()&&n.hA())return t.sA()===n.sA()?t:ok.dk;return t.hA()?t:n}(this,t);if(this.lA())return t;if(t.lA())return this;var i=d.max(this.VA,t.VA),e=this.WA(i,uk.hk),r=t.WA(i,uk.hk);return new n(e.Rr+r.Rr,i)},i.CA=function(t){if(this.cA()||_(t))return n.dk;if(this.hA()||!isFinite(t)){if(this.lA()||0===t)return n.dk;var i=this.sA()?n.vk:n.fk;return t<0?i.oA():i}return this.lA()?this:new n(0===t?BigInt(0):this.Rr*BigInt(t),this.VA)},i.MA=function(t){if(this.cA()||_(t))return n.dk;if(this.hA())return isFinite(t)?0===t?1/t<0?this.oA():this:t<0?this.oA():this:n.dk;if(!isFinite(t))return new n(BigInt(0),this.VA);if(this.lA())return 0===t?n.dk:new n(BigInt(0),this.VA);if(0===t){var i=this.sA()?n.vk:n.fk;return 1/t<0?i.oA():i}return new n(this.Rr/BigInt(t),this.VA)},i.lk=function(){var t=this.pk();return[t.low,t.high,this.VA]},n.wk=function(t,i){return void 0===i&&(i=ZA),n.FA(t*i,i)},n.FA=function(t,i){return _(t)?n.dk:t===1/0?n.fk:t===-1/0?n.vk:new n(BigInt(d.floor(t)),i)},n.PA=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n._k=function(t){return n.wk(t.ZA,ZA)},n.gk=function(t){return n.FA(t.getTime(),1e3)},n.YA=function(t,n){return t.tA(n)?t:n},n.QA=function(t,n){return t.iA(n)?t:n},n.yk=function(t,i,e){return n.YA(i,n.QA(e,t))},pe(n,null,[{key:"DA",get:function(){return n.Ak||(n.Ak=new n(BigInt(0),ZA)),n.Ak}},{key:"dk",get:function(){return n.bk||(n.bk=new n(BigInt(0),0)),n.bk}},{key:"fk",get:function(){return n.Tk||(n.Tk=new n(BigInt(1),0)),n.Tk}},{key:"vk",get:function(){return n.Sk||(n.Sk=new n(BigInt(-1),0)),n.Sk}}]),n}(KA);ok.Ak=void 0,ok.bk=void 0,ok.Tk=void 0,ok.Sk=void 0,(sk=uk||(uk={}))[sk.rk=0]="rk",sk[sk.ck=1]="ck",sk[sk.hk=2]="hk";var ak=function(){try{return"function"==typeof BigInt&&"bigint"===N(BigInt(0))}catch(t){return!1}}()?ok:rk;function ck(t,n){return t.$p(n)}function hk(t,n){return void 0!==t?void 0!==n?ak.QA(t,n):t:n}me(),zt();var fk=d.pow(2,33),vk=ak.FA(fk,9e4),dk=vk.MA(2);me(),zt();var lk,wk,_k,gk,mk,yk,pk,Ak,kk,bk={Ek:0,Ik:1/0,Rk:0},Tk=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],Sk=[" ","\t","\n","\f","\r"],Ek=/^\d*$/,Ik=/.*[0-9]+.*/,Rk=/^[\d.-]+$/,Ck=/(^\.|\.$)/,Nk=/(\D\.|\.\D)/;function Dk(t,n){void 0===n&&(n=bk);var i={Pg:[],Ck:[],Nk:[]},e=Pk(t),r=new xf;if(Vk(e),Bk(e,(function(t){return"\n"!==t}),r),r.Na>=e.length)return i;(r.Da(1),"\n"!==e.charAt(r.Na))?Mk(Ok(e,r,false,!0,i,n),i):r.Da(1);for(Bk(e,(function(t){return"\n"===t}),r);r.Na<e.length;){Mk(Ok(e,r,false,!1,i,n),i),Bk(e,(function(t){return"\n"===t}),r)}return i}function Pk(t){var n=nc(t,"\0"," "),i=nc(n,"\r\n","\n");return nc(i,"\r","\n")}function Bk(t,n,i){for(var e=i.Na;i.Na<t.length&&n(t.charAt(i.Na));)i.Da(1);return t.substring(e,i.Na)}function Ok(t,n,i,e,r,u){for(var s,o=0,a=n.Na,c="",h=!1,f=!1,v=null,d=null,l=null;!h;)if(s=Bk(t,(function(t){return"\n"!==t}),n),o++,n.Na>=t.length?h=!0:n.Da(1),ic(s,"--\x3e")){if(e||1!==o&&(2!==o||f)){n.Ba(a);break}f=!0,a=n.Na,v=new VA(0,0,"",!1,c);try{Fk(s,r.Ck,v,u),c=""}catch(t){De.$u(t),v=null}}else{if(""===s)break;e&&ec(s,"X-TIMESTAMP-MAP")&&(r.Dk=xk(s)),e||2!==o||i||(uc("STYLE",c.replace(/ /g,""))?(d={Gs:bA._p},c=""):uc("REGION",c.replace(/ /g,""))&&(l=new QA("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=s,a=n.Na}if(v)return v.Tp=c,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),e=":",r=0;r<i.length;r++){var u=i[r];if(0!==u.length&&ic(u,e)&&u.charAt(0)!==e&&u.charAt(u.length-1)!==e){var s=u.indexOf(e),o=u.substring(0,s),a=u.substring(s+1,u.length);switch(o.toUpperCase()){case"ID":tb(a,n);break;case"WIDTH":eb(a,n);break;case"LINES":ib(a,n);break;case"REGIONANCHOR":var c=$k(a);c&&(n.Wp=c[0],n.qp=c[1]);break;case"VIEWPORTANCHOR":var h=$k(a);h&&(n.jp=h[0],n.Yp=h[1]);break;case"SCROLL":nb(a,n)}}}}(c,l),l;return null}function xk(t){var n,i,e=t.split("=")[1].trim().split(","),r=Lk(e[0].trim(),"MPEGTS")?e[0]:e[1],u=Lk(e[0].trim(),"LOCAL")?e[0]:e[1];return{Pk:(i=Number(r.split(/:(.*)/)[1].trim())||0,ak.FA(i,9e4)),Bk:ak.wk(null!=(n=Xk(u.split(/:(.*)/)[1].trim(),new xf))?n:0)}}function Lk(t,n){return ec(t,n)}function Mk(t,n){t&&function(t){return"cue"===t.Gs}(t)?n.Pg.push(t):t&&function(t){return"region"===t.Gs}(t)?n.Ck.push(t):t&&function(t){return"stylesheet"===t.Gs}(t)&&n.Nk.push(t)}function Fk(t,n,i,e){var r=new xf;if(Wk(t,r),i.kp=Uk(Xk(t,r),e),Wk(t,r),"--\x3e"!==t.substring(r.Na,r.Na+3))throw h("Something went wrong with parsing a WebVTT Cue");r.Da(3),Wk(t,r),i.bp=Uk(Xk(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=":",u=0;u<e.length;u++){var s=e[u];if(0!==s.length&&ic(s,r)&&s.charAt(0)!==r&&s.charAt(s.length-1)!==r){var o=s.indexOf(r),a=s.substring(0,o),c=s.substring(o+1,s.length);switch(a.toUpperCase()){case"REGION":Qk(c,n,i);break;case"VERTICAL":Kk(c,n);break;case"D":Jk(c,n);break;case"LINE":case"L":jk(c,n);break;case"POSITION":case"T":Yk(c,n);break;case"SIZE":case"S":Zk(c,n);break;case"ALIGN":case"A":Gk(c,n)}}}}(t.substring(r.Na,t.length),i,n)}function Uk(t,n){return t+n.Ek}function Hk(t){return/^[0-9]$/.test(t)}function Xk(t,n){var i,e,r,u=nc(t,",","."),s=!1;if(n.Na>=u.length||!Hk(u.charAt(n.Na)))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var o=Bk(u,Hk,n),a=l(o,10);if((o.length>2||a>59)&&(s=!0),n.Na>=u.length||":"!==u.charAt(n.Na))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.Da(1);var c=Bk(u,Hk,n);if(2!==c.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var f=l(c,10);if(s||n.Na<u.length&&":"===u.charAt(n.Na)){if(n.Na>=u.length||":"!==u.charAt(n.Na))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.Da(1);var v=Bk(u,Hk,n);if(2!==c.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");i=a,e=f,r=l(v,10)}else i=0,e=a,r=f;if(n.Na>=u.length||"."!==u.charAt(n.Na))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.Da(1);var d=Bk(u,Hk,n),w=l(d,10);if(f>59||r>59)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+w/1e3}function zk(t){return Vk(Pk(t))}function Vk(t){if(t.length<6)return!1;for(var n=0;n<Tk.length;n++){if(ec(t,Tk[n]))return!0}return!1}function Wk(t,n){for(;n.Na<t.length&&(i=t.charAt(n.Na),Dc(Sk,i));)n.Da(1);var i}function qk(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!_(i)&&i>=0&&i<=100)return i}return null}function Gk(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Sp=i;break;case"middle":n.Sp="center"}}function jk(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),Ik.test(i)){var u,s;if(rc(i,"%")){var o=qk(i);if(null===o)return;u=o,s=!1}else{if(!Rk.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!Nk.test(i)||Ck.test(i)))return;if(u=w(i),_(u))return;s=!0}switch(n.Ep=u,n.Dp=s,e=e.toLowerCase()){case"start":case"center":case"end":n.Ip=e;break;case"middle":n.Ip="center"}}}function Yk(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var u=qk(i);if(null!==u)switch(n.Rp=u,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Cp=e;break;case"start":n.Cp="line-left";break;case"middle":n.Cp="center";break;case"end":n.Cp="line-right"}}function Qk(t,n,i){var e=Ic(i,(function(n){return n.eg===t}));void 0!==e&&(n.Np=e)}function Zk(t,n){var i=qk(t);null!==i&&(n.Ca=i)}function Kk(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Pp="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Pp="lr";break;default:n.Pp=""}}function Jk(t,n){"VERTICAL"===t.toUpperCase()?n.Pp="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Pp="lr")}function $k(t){if(t.indexOf(",")>=0){var n=qk(t.substring(0,t.indexOf(","))),i=qk(t.substring(t.indexOf(",")+1,t.length));return[iu(n||0,0,100),iu(i||100,0,100)]}return null}function tb(t,n){n.eg=t}function nb(t,n){"up"===t.toLowerCase()&&(n.Gp="up")}function ib(t,n){Ek.test(t)&&(n.Vp=l(t))}function eb(t,n){var i=qk(t);null!==i&&(n.Qp=i)}me(),zt(),me(),zt(),me(),zt(),(wk=lk||(lk={})).Ok="moov",wk.xk="mvhd",wk.Lk="trak",wk.Mk="tkhd",wk.Fk="mdia",wk.Uk="mdhd",wk.Hk="hdlr",wk.Xk="minf",wk.zk="stbl",wk.Vk="stsd",wk.Wk="stsc",wk.qk="mvex",wk.Gk="trex",wk.jk="avc1",wk.Yk="avcC",wk.Qk="hev1",wk.Zk="hvc1",wk.Kk="hvcC",wk.Jk="vp09",wk.$k="vpcC",wk.ib="av01",wk.eb="av1C",wk.ub="colr",wk.sb="pasp",wk.ob="mp4a",wk.cb="esds",wk.hb="wvtt",wk.fb="vttC",wk.vb="vlab",wk.wb="enca",wk._b="encv",wk.gb="moof",wk.mb="mfhd",wk.yb="traf",wk.pb="tfhd",wk.Ab="trun",wk.kb="tfdt",wk.bb="senc",wk.Tb="mdat",wk.Sb="pssh",wk.Eb="emsg",wk.Ib="sidx",wk.Rb="styp",wk.Cb="ftyp",wk.Nb="sinf",wk.Db="frma",function(t){t.Ll="vide",t.xl="soun",t.Pb="subt",t.Bb="hint",t.Ob="meta",t.xb="auxv"}(_k||(_k={})),(mk=gk||(gk={})).ON_SCREEN_COLOURS="nclx",mk.RESTRICTED_ICC_PROFILE="rICC",mk.UNRESTRICED_ICC_PROFILE="prof",(pk=yk||(yk={}))[pk.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",pk[pk.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",pk[pk.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",pk[pk.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",pk[pk.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",pk[pk.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",pk[pk.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF",(kk=Ak||(Ak={}))[kk.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",kk[kk.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",kk[kk.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",kk[kk.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",kk[kk.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",kk[kk.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT",me(),zt();var rb=function(){function t(t,n){this.jr=t,this.Lb=n}var n=t.prototype;return n.Mb=function(){return Qh(this.jr,this.Lb)},n.Fb=function(){return nf(this.jr,this.Lb)},n.Ub=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Na,i);return n.Da(2),e}(this.jr,this.Lb)},n.Hb=function(){return rf(this.jr,this.Lb)},n.Xb=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Na,i);return n.Da(4),e}(this.jr,this.Lb)},n.zb=function(){return sf(this.jr,this.Lb)},n.Vb=function(t){return Kh(this.jr,this.Lb,t)},n.Wb=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(rf(t,n));return e}(this.jr,this.Lb,t)},n.qb=function(t){return af(this.jr,this.Lb,t)},n.Gb=function(){return kf(this.jr,this.Lb)},n.jb=function(t){this.Lb.Da(t)},n.Oa=function(){return new t(this.jr,this.Lb.Oa())},t}();me(),zt(),Ae(),me(),zt();function ub(t,n){return t.Gs===n}function sb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(ub(e,n))return e}}var ob=function(t){function n(n,i){var e;return(e=t.call(this)||this).Yb=n,e.Qb=i,e}return ze(n,t),pe(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(pu),ab=function(){function t(){}return t.Zb=function(n){var i=n.jr,e=n.Lb,r=t.Kb(i,e,!1);if(!r.Jb)throw new ob(e.Na,r.Fr);return r.Fr},t.Kb=function(n,i,e){for(var r=[];i.Na<n.byteLength;){var u=t.$b(n,i,e);if(!u.Jb)return{Jb:!1,Fr:r};r.push(u.tT)}return{Jb:!0,Fr:r}},t.nT=function(n,i){var e=t.$b(n,i,!1);if(!e.Jb)throw new ob(i.Na);return e.tT},t.iT=function(n,i){for(var e=n.jr,r=n.Lb;r.Na<e.byteLength;){var u=t.$b(e,r,!1);if(!u.Jb)return;if(u.tT.Gs===i)return u.tT}},t.$b=function(n,i,e){var r=i.Na,u=t.eT(n,i);if(!u.Jb)return u;var s=u.rT,o=s.Ca;if(0===o){if(e)return i.Ba(r),{Jb:!1,uT:1/0};o=n.byteLength-r}var a=r+o;if(a>n.byteLength){var c=a;return i.Ba(r),{Jb:!1,uT:c}}var h={Gs:s.Gs,Na:r,jr:new rb(If(n,r,a),new xf(s.sT))};return i.Ba(a),{Jb:!0,tT:h}},t.eT=function(t,n){var i=n.Na;if(!$h(t,n,8))return{Jb:!1,uT:n.Na+8};var e=rf(t,n),r=af(t,n,4);if(1===e){if(!$h(t,n,8)){var u=n.Na+8;return n.Ba(i),{Jb:!1,uT:u}}e=sf(t,n).toNumber()}if("uuid"===r){if(!$h(t,n,16)){var s=n.Na+16;return n.Ba(i),{Jb:!1,uT:s}}r=af(t,n,16)}return{Jb:!0,rT:{Gs:r,Ca:e,sT:n.Na-i}}},t.oT=function(t,n,i){var e=t.jr,r=t.Lb,u=Ef(Cf(e),r.Na,e.byteLength);return i&&(u=Bf(u)),r.Da(u.byteLength),{Gs:n,jr:u}},t.aT=function(n,i,e){var r=vb(n.Hb());return{Gs:i,cT:r.version,hT:r.flags,jr:t.oT(n,i,e).jr}},t}();function cb(t,n){var i=hb(t,n);if(!i)throw new h("Missing "+n+" atom");return i}function hb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.Gs===n)return e.jr}}function fb(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.Gs===n&&i.push(r.jr)}return i}function vb(t){return{version:t>>24,flags:new Gh(16777215&t)}}var db=function(){function t(){}return t.fT=function(n){for(var i=[],e=ab.Zb(new rb(n,new xf)),r=0;r<e.length;r++){var u=e[r],s=t.vT(u);s&&i.push(s)}return i},t.dT=function(t){return ab.Kb(t,new xf,!1).Fr.some(this.lT)},t.wT=function(n){return fb(ab.Zb(new rb(n,new xf)),lk.Sb).map(t._T)},t.gT=function(n){return fb(ab.Zb(n.jr),lk.Sb).map(t._T)},t.lT=function(t){return t.Gs===lk.Cb||t.Gs===lk.Rb||t.Gs===lk.Ok||t.Gs===lk.gb||t.Gs===lk.Tb||t.Gs===lk.Ib||t.Gs===lk.Eb},t.vT=function(n){switch(n.Gs){case lk.Ok:return t.mT(n.jr);case lk.gb:return t.yT(n.jr,n.Na);case lk.Tb:return t.pT(n.jr);case lk.Ib:return t.AT(n.jr);case lk.Eb:return t.kT(n.jr)}},t.mT=function(n){var i=ab.Zb(n),e=cb(i,lk.xk),r=fb(i,lk.Lk),u=hb(i,lk.qk),s=t.bT(e),o=r.map(t.TT),a=u?t.ST(u):void 0;return{Gs:lk.Ok,rT:s,ET:o,IT:a}},t.bT=function(t){var n=vb(t.Hb()),i=n.version,e=n.flags,r=1===i?t.zb():t.Hb(),u=1===i?t.zb():t.Hb(),s=t.Hb(),o=1===i?t.zb():t.Hb(),a=t.Hb(),c=t.Fb()>>8;t.jb(2),t.jb(8);var h=t.Wb(9);t.jb(24);var f=t.Hb();return{Gs:lk.xk,cT:i,hT:e,RT:r,CT:u,VA:s,Am:o,NT:a,Pm:c,DT:h,PT:f}},t.TT=function(n){var i=ab.Zb(n),e=cb(i,lk.Mk),r=cb(i,lk.Fk),u=t.BT(e),s=t.OT(r);return{Gs:lk.Lk,rT:u,xT:s}},t.BT=function(t){var n=vb(t.Hb()),i=n.version,e=n.flags,r=1===i?t.zb():t.Hb(),u=1===i?t.zb():t.Hb(),s=t.Hb();t.jb(4);var o=1===i?t.zb():t.Hb();t.jb(8);var a=t.Ub(),c=t.Ub(),h=t.Ub()/d.pow(2,8);t.jb(2);var f=t.Wb(9),v=t.Hb()/d.pow(2,16),l=t.Hb()/d.pow(2,16);return{Gs:lk.Mk,LT:e.La(1),MT:e.La(2),FT:e.La(4),RT:r,CT:u,UT:s,Am:o,HT:a,XT:c,Pm:h,DT:f,Qp:v,zT:l}},t.OT=function(n){var i=ab.Zb(n),e=cb(i,lk.Uk),r=cb(i,lk.Hk),u=cb(i,lk.Xk),s=t.VT(e),o=t.WT(r),a=t.qT(u);return{Gs:lk.Fk,rT:s,GT:o,jT:a}},t.VT=function(t){var n=vb(t.Hb()),i=n.version,e=n.flags,r=1===i?t.zb():t.Hb(),u=1===i?t.zb():t.Hb(),s=t.Hb(),o=1===i?t.zb():t.Hb();t.Fb();return t.jb(2),{Gs:lk.Uk,cT:i,hT:e,RT:r,CT:u,VA:s,Am:o}},t.WT=function(t){var n=vb(t.Hb()),i=n.version,e=n.flags;t.jb(4);var r=t.qb(4);t.jb(12);var u=t.Gb();return{Gs:lk.Hk,cT:i,hT:e,YT:r,Sr:u}},t.qT=function(n){var i=cb(ab.Zb(n),lk.zk),e=t.QT(i);return{Gs:lk.Xk,ZT:e}},t.QT=function(n){var i=cb(ab.Zb(n),lk.Vk),e=t.KT(i);return{Gs:lk.zk,JT:e}},t.KT=function(n){for(var i=vb(n.Hb()),e=i.version,r=i.flags,u=(n.Hb(),[]),s=ab.Zb(n),o=0;o<s.length;o++){var a=s[o],c=t.$T(a.jr,a.Gs);c&&u.push(c)}return{Gs:lk.Vk,cT:e,hT:r,tS:u}},t.$T=function(n,i){var e=t.nS(n,i);return e||((e=t.iS(n,i))||(i===lk.hb?t.eS(n):void 0))},t.nS=function(n,i){return i===lk.ob?t.rS(n):i===lk.wb?t.uS(n):void 0},t.iS=function(n,i){return i===lk.jk?t.sS(n):i===lk.Qk||i===lk.Zk?t.oS(n,i):i===lk.Jk?t.aS(n,i):i===lk.ib?t.cS(n,i):i===lk._b?t.hS(n):void 0},t.fS=function(t,n){return t.jb(6),{Gs:n,vS:t.Fb()}},t.dS=function(n,i){var e=t.fS(n,i);n.jb(8);var r=n.Fb(),u=n.Fb();return n.jb(2),n.jb(2),ga({},e,{lS:r,wS:u,_S:n.Hb()>>>16})},t.gS=function(n,i){var e=t.fS(n,i);n.jb(2),n.jb(2),n.jb(12);var r=n.Fb(),u=n.Fb(),s=n.Hb(),o=n.Hb();n.jb(4);var a=n.Fb();n.jb(32);var c=n.Fb();return n.jb(2),ga({},e,{Qp:r,zT:u,mS:s,yS:o,pS:a,AS:c})},t.rS=function(n){var i=t.dS(n,lk.ob),e=cb(ab.Zb(n),lk.cb);return ga({},i,{kS:t.bS(e)})},t.eS=function(n){var i=t.fS(n,lk.hb),e=ab.Zb(n),r=cb(e,lk.fb),u=t.TS(r),s=hb(e,lk.vb);return ga({},i,{SS:u,ES:s?t.IS(s):s})},t.TS=function(t){return{Gs:lk.fb,Sf:t.Gb()}},t.IS=function(t){return{Gs:lk.vb,ag:t.Gb()}},t.bS=function(t){return ab.aT(t,lk.cb,!0)},t.sS=function(n){var i=t.gS(n,lk.jk),e=ab.Zb(n),r=cb(e,lk.Yk),u=hb(e,lk.sb);return ga({},i,{RS:t.CS(r),NS:u?t.DS(u):void 0})},t.oS=function(n,i){var e=t.gS(n,i),r=cb(ab.Zb(n),lk.Kk);return ga({},e,{PS:t.OS(r)})},t.aS=function(n,i){var e=t.gS(n,i),r=cb(ab.Zb(n),lk.$k);return ga({},e,{xS:t.LS(r)})},t.cS=function(n,i){var e=t.gS(n,i),r=ab.Zb(n),u=cb(r,lk.eb),s=t.MS(u),o=hb(r,lk.ub);return ga({},e,{FS:s,US:o?t.HS(o):void 0})},t.hS=function(n){var i=n.Oa(),e=t.gS(n,lk._b),r=cb(ab.Zb(n),lk.Nb),u=t.XS(r);return ga({},e,{zS:t.iS(i,u.WS.VS),qS:u})},t.uS=function(n){var i=n.Oa(),e=t.dS(n,lk.wb),r=cb(ab.Zb(n),lk.Nb),u=t.XS(r);return ga({},e,{zS:t.nS(i,u.WS.VS),qS:u})},t.XS=function(n){var i=cb(ab.Zb(n),lk.Db),e=t.GS(i);return{Gs:lk.Nb,WS:e}},t.GS=function(t){var n=t.qb(4);return{Gs:lk.Db,VS:n}},t.CS=function(t){return ab.oT(t,lk.Yk,!0)},t.OS=function(t){return ab.oT(t,lk.Kk,!0)},t.LS=function(t){return ab.oT(t,lk.$k,!0)},t.MS=function(t){return ab.oT(t,lk.eb,!0)},t.HS=function(t){var n=t.qb(4);switch(n){case"nclx":return{jS:gk.ON_SCREEN_COLOURS,YS:t.Fb(),QS:t.Fb(),ZS:t.Fb(),KS:0!=(128&t.Mb())};case"rICC":return{jS:gk.RESTRICTED_ICC_PROFILE};case"prof":return{jS:gk.UNRESTRICED_ICC_PROFILE};default:throw h("Could not parse ColourInformationBox: unknown type '"+n+"'.")}},t.DS=function(t){var n=t.Hb(),i=t.Hb();return{Gs:lk.sb,JS:n,$S:i}},t.ST=function(n){var i=fb(ab.Zb(n),lk.Gk).map(t.tE);return{Gs:lk.qk,ET:i}},t.tE=function(t){var n=vb(t.Hb()),i=n.version,e=n.flags,r=t.Hb(),u=t.Hb(),s=t.Hb(),o=t.Hb(),a=t.Hb();return{Gs:lk.Gk,cT:i,hT:e,UT:r,nE:u,iE:s,eE:o,rE:a}},t.yT=function(n,i){var e=ab.Zb(n),r=cb(e,lk.mb),u=fb(e,lk.yb),s=t.uE(r),o=u.map(t.sE);return{Gs:lk.gb,oE:i,rT:s,ET:o}},t.uE=function(t){var n=vb(t.Hb()),i=n.version,e=n.flags,r=t.Hb();return{Gs:lk.mb,cT:i,hT:e,aE:r}},t.sE=function(n){var i=ab.Zb(n),e=cb(i,lk.pb),r=fb(i,lk.Ab),u=hb(i,lk.kb),s=t.cE(e),o=r.map((function(n){return t.hE(n,s)})),a=u?t.fE(u):void 0;return{Gs:lk.yb,rT:s,vE:o,dE:a}},t.cE=function(t){var n=vb(t.Hb()),i=n.version,e=n.flags,r=t.Hb(),u=e.La(yk.BASE_DATA_OFFSET_PRESENT)?t.zb():void 0,s=e.La(yk.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Hb():void 0,o=e.La(yk.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Hb():void 0,a=e.La(yk.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Hb():void 0,c=e.La(yk.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Hb():void 0;return{Gs:lk.pb,cT:i,hT:e,UT:r,lE:u,wE:s,iE:o,eE:a,rE:c}},t.hE=function(n,i){for(var e=vb(n.Hb()),r=e.version,u=e.flags,s=n.Hb(),o=u.La(Ak.DATA_OFFSET_PRESENT)?n.Xb():void 0,a=u.La(Ak.FIRST_SAMPLE_FLAGS_PRESENT)?n.Hb():void 0,c=[],h=0;h<s;h++){var f=t._E(n,u,r,i);0===h&&void 0!==a&&(f.hT=a),c.push(f)}return{Gs:lk.Ab,cT:r,hT:u,gE:s,oE:o,mE:a,yE:c}},t._E=function(t,n,i,e){return{Am:n.La(Ak.SAMPLE_DURATION_PRESENT)?t.Hb():e.iE,Ca:n.La(Ak.SAMPLE_SIZE_PRESENT)?t.Hb():e.eE,hT:n.La(Ak.SAMPLE_FLAGS_PRESENT)?t.Hb():e.rE,pE:n.La(Ak.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.Hb():t.Xb():void 0}},t.kT=function(t){var n=t.jr,i=t.Lb,e=vb(rf(n,i)),r=e.version,u=e.flags;if(1===r){var s=rf(n,i),o=sf(n,i),a=rf(n,i),c=rf(n,i),h=of(n,i),f=of(n,i),v=Pf(Cf(n),i.Na,n.byteLength);return i.Da(v.byteLength),{Gs:lk.Eb,cT:r,hT:u,AE:h,Rr:f,VA:s,kE:o,bE:a,eg:c,TE:v}}var d=of(n,i),l=of(n,i),w=rf(n,i),_=rf(n,i),g=rf(n,i),m=rf(n,i),y=Pf(Cf(n),i.Na,n.byteLength);return i.Da(y.byteLength),{Gs:lk.Eb,hT:u,cT:r,AE:d,Rr:l,VA:w,SE:_,bE:g,eg:m,TE:y}},t.pT=function(t){return ab.oT(t,lk.Tb,!1)},t._T=function(n){var i=n.jr,e=n.Lb,r=Bf(Cf(i)).buffer,u=vb(rf(i,e)),s=u.version,o=u.flags,a=t.EE(i,e),c=[];if(s>0)for(var h=rf(i,e),f=0;f<h;f++){var v=Kh(i,e,16);c.push(v)}var d=rf(i,e),l=new g(r,e.Na,d);return e.Da(i.byteLength),{Gs:lk.Sb,cT:s,hT:o,IE:a,RE:c,CE:d,jr:l,NE:r}},t.EE=function(t,n){for(var i="",e=0;e<4;e++){var r=Qh(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var u=0;u<2;u++){var s=Qh(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var a=Qh(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var c=0;c<2;c++){var h=Qh(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=Qh(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.AT=function(t){var n,i,e=t.jr,r=t.Lb,u=vb(rf(e,r)),s=u.version,o=u.flags,a=rf(e,r),c=rf(e,r);0===s?(n=Jr.fromBits(rf(e,r),0,!0),i=Jr.fromBits(rf(e,r),0,!0)):(n=sf(e,r),i=sf(e,r)),r.Da(2);for(var h=nf(e,r),f=[],v=0;v<h;v+=1){var d=rf(e,r),l=d>>31&1,w=2147483647&d,_=rf(e,r),g=rf(e,r),m=g>>31&1,y=g>>28&7,p=268435455&g;f.push({DE:l,PE:w,Am:_,BE:m,OE:y,xE:p})}return{Gs:lk.Ib,cT:s,hT:o,LE:a,VA:c,ME:n,FE:i,UE:h,HE:f}},t.fE=function(t){var n,i=t.jr,e=t.Lb,r=vb(rf(i,e)),u=r.version,s=r.flags;return n=0===u?Jr.fromBits(rf(i,e),0,!0):sf(i,e),{Gs:lk.kb,cT:u,hT:s,dE:n}},t}();function lb(t){return t&&"Mr"in t?t.Mr:t}me(),zt(),Ae(),me(),zt();var wb=function(t){function n(n,i,e,r,u,s,o){var a;return(a=t.call(this,n,i,e,r)||this).XE=u,a.zE=s,a.VE=o||void 0,a}return ze(n,t),n.prototype.Hp=function(n){return this===n||!!Gm(this,n)&&(!!t.prototype.Hp.call(this,n)&&(!!qm(this.WE,n.WE)&&(!!qm(this.Ck,n.Ck)&&(this.qE&&n.qE?!!this.qE.pr(n.qE)&&(this.Tp&&n.Tp?this.Tp.pr(n.Tp):this.Tp===n.Tp):this.qE===n.qE))))},pe(n,[{key:"WE",get:function(){return this.XE}},{key:"Ck",get:function(){return this.zE}},{key:"qE",get:function(){return this.VE}},{key:"d_",get:function(){var t;return this.v_||(this.v_=Vm(OA(t=this),{get styles(){return t.WE},get regions(){return t.Ck},get metadata(){return lb(t.qE)},get content(){return lb(t.Tp)}})),this.v_}}]),n}(XA);me(),zt(),Ae();var _b=function(){function t(t,n,i){this.GE=t,this.jE=n,_u(i)?this._n=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var u=r[e];i.Xr(u)}return i}(0,0,i):this._n=i}return pe(t,[{key:"YE",get:function(){return this._n.Ar(!0)}},{key:"kp",get:function(){return this.GE}},{key:"bp",get:function(){return this.jE}}]),t}();me(),zt(),Oe();var gb="http://www.w3.org/XML/1998/namespace";function mb(t,n,i,e){var r=t.Or(i,n);return 0===r.length&&(r=t.Dr(e+":"+n)),r}function yb(t,n){return function(t,n){var i=t.Fr.slice(),e=[];for(;i.length>0;){var r,u=i.shift();if(n(u))e.push(u);else(r=i).push.apply(r,Ce(u.Fr))}return e}(t,(function(t){return t.Br===n}))}function pb(t){for(var n={},i=0,e=t.qr;i<e.length;i++){var r=e[i];n[r.Tr]=r.Rr}return n}var Ab=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,kb=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,bb="http://www.w3.org/ns/ttml";function Tb(t,n,i,e){void 0===i&&(i=bk),void 0===e&&(e=jl);var r=[],u=Rf(t);return e===Yl?r=function(t,n,i){var e=sb(db.fT(t),lk.Tb);if(!e)return[];return Ib(Rf(e.jr),n,i)}(u,n,i):e===jl&&(r=Ib(u,n,i)),r}function Sb(t,n,i){return void 0===i&&(i=bk),Rb(t,n,i)}function Eb(t,n){for(var i=xb(n.YE),e={},r=0;r<i.length;r++){var u=i[r];e[u]=t[u]}return e}function Ib(t,n,i){return Rb(Sf(t,new xf),n,i)}function Rb(t,n,i){var e,r=[];try{e=De.gr(t)}catch(t){return r}var u=e.Yr;if("tt"!==u.Tr)return r;var s=u&&u.Or(bb,"head")[0],o=u&&u.Or(bb,"body")[0];if(!o||!s)return r;for(var a=function(t){for(var n={},i=t.Or(bb,"styling")[0],e=i&&i.Or(bb,"style")||[],r=0;r<e.length;r++){var u=e[r];n[u.Hr(gb,"id")]=pb(u)}return n}(s),c=function(t,n){var i=Wm(t),e=Db(n.Ur("tts:extent"));if(!e)return i;for(var r=0,u=v.keys(i);r<u.length;r++){var s=u[r],o=Db(i[s].extent);if(o){var a=Cb(o[0],e[0]),c=Cb(o[1],e[1]);i[s].extent=a+" "+c}var h=Db(i[s].origin);if(h){var f=Cb(h[0],e[0]),d=Cb(h[1],e[1]);i[s].origin=f+" "+d}}return i}(function(t){for(var n={},i=t.Or(bb,"layout")[0],e=i&&i.Or(bb,"region")||[],r=0;r<e.length;r++){var u=e[r],s=u.Hr(gb,"id");if(s){n[s]=pb(u);var o=Ob(u);for(var a in o)nr.call(o,a)&&(n[s][a]=o[a])}}return n}(s),u),h=s.Or(bb,"metadata")[0],f=Pb(o,i.Ek,i.Ik,i.Rk),d=0;d<f.length;d++){var l=f[d],w=Eb(c,l);r.push(new wb(l.kp,l.bp,l.YE,!1,a,w,h))}return r}function Cb(t,n){var i=Nb(t),e=Nb(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-e.length));return _(r)||_(u)?t:r/u*100+"%"}return t}function Nb(t){return rc(t,"px")?"px":rc(t,"em")?"em":rc(t,"c")?"c":rc(t,"%")?"%":void 0}function Db(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Pb(t,n,i,e){var r,u=function(n){var i=function(t,n,i){for(var e=[],r=0;r<i.length;r++){var u=i[r].kp,s=i[r].bp;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&e.push(i[r])}return e}(l[n],l[n+1],a);if(i.length<=0&&function(t){if(_u(t)){var n=t.Tr.toUpperCase(),i=Boolean(t.Ur("smpte:backgroundImage"));return"BR"===n||i}return t.ir===fu.dr}(t)){var e=t.Ar(!1);c.push(new _b(l[n],l[n+1],e))}else if(i.length>0){var r=t.Ar(!1);i.forEach((function(t){return r.Lr(t.YE)})),c.push(new _b(l[n],l[n+1],r))}},s=n,o=i,a=[],c=[];if(_u(t)){var h,f;s=null!=(h=Bb(t.Ur("begin"),e))?h:s,r=Bb(t.Ur("dur"),0),o=null!=(f=Bb(t.Ur("end"),e))?f:void 0!==r?s+r:o;for(var v=t.Pr,d=0;d<v.length;d++)("body"===t.Tr||"div"===t.Tr)&&v[d].ir>1||(a=a.concat(Pb(v[d],s,o,e)))}for(var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var u=i[r];e.push(u.kp,u.bp)}e.sort(bc);for(var s=e.length,o=0;o<s-1;o++)e[o+1]===e[o]&&(Nc(e,o+1),o--,s=e.length);return e}(s,o,a),w=0;w<l.length-1;w++)u(w);return c}function Bb(t,n){if(t){if(Ab.test(t)){var i=Ab.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*e+60*r+u+(s?Number(s)*d.pow(.1,s.length):0)+n}if(kb.test(t)){var o=kb.exec(t);if(!o)return;var a,c=Number(o[1]);switch(o[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;case"f":case"t":default:a=NaN}return a+n}}}function Ob(t){for(var n={},i=t.Dr("style")||[],e=0;e<i.length;e++){var r=pb(i[e]);for(var u in r)nr.call(r,u)&&(n[u]=r[u])}return n}function xb(t){var n,i=[];if(_u(t)){(n=t.Ur("region"))&&i.push(n);for(var e=t.Pr,r=0;r<e.length;r++)i=i.concat(xb(e[r]))}return i}function Lb(t){var n=function(t){try{return De.gr(t).Yr}catch(t){}}(t);return"tt"===(null==n?void 0:n.Tr)}me(),zt(),me(),zt();var Mb,Fb,Ub=function(t){function n(){return t.apply(this,arguments)}ze(n,t);var i=n.prototype;return i.U_=function(n){return t.prototype.U_.call(this,n)},i.H_=function(n){var i=t.prototype.H_.call(this,n);return i&&(n.Sg=hy.Rg),i},i.l_=function(){return my(this)},n}(Mm);me(),zt(),me(),zt(),(Fb=Mb||(Mb={})).Pb="subtitles",Fb.QE="captions",Fb.ZE="descriptions",Fb.KE="chapters",Fb.Ob="metadata",Fb.JE="thumbnails";var Hb=["subtitles","captions","descriptions","chapters","metadata","thumbnails"];function Xb(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Dc(Hb,t)}(n)?n:n?"metadata":"subtitles"}me(),zt();var zb,Vb,Wb=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,u)||this).url=e,s.status=r,s}return ze(n,t),n}(bw);function qb(t){return t instanceof H_}function Gb(t){return t instanceof z_}function jb(t){return ic(t,"stpp")}function Yb(t){return t.some(Qb)}function Qb(t){return ic(t,"vtt")||ic(t,"wvtt")}function Zb(t,n){return Zl(t)&&Yb(n)}function Kb(t,n){return!!t&&(Zl(t)?function(t){return t.some(jb)}(n)||Yb(n):ic(t,jl)||ic(t,Ql)||ic(t,Gl))}function Jb(t,n){return t===Mb.JE||t===Mb.Ob&&n===Mb.JE}function $b(t,n,i,e){for(var r=0,u=t.Pg.z_;r<u.length;r++){var s=u[r];if(s.kp>i)break;n<=s.bp&&e.push(s)}}function tT(t,n){return kc(t.rg,n.rg)}function nT(t,n,i,e){var r=function(t){switch(t){case AA.WEBVTT:return"WebVTT";case AA.SRT:return"SRT";case AA.TTML:return"TTML";default:return""}}(t);return new Wb(gw.SUBTITLE_PARSE_ERROR,"Could not parse the "+(r?r+" ":"")+"subtitle file.",n,i,e)}function iT(t,n){for(var i=[],e=0,r=t.Pg.z_;e<r.length;e++){var u=r[e];if(u.bp<=n)i.push(u);else if(u.kp>=n)break}for(var s=0;s<i.length;s++){var o=i[s];t.$E(o)}}me(),zt(),(Vb=zb||(zb={})).tI="vtt",Vb.hb="wvtt",Vb.nI="stpp";var eT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).ET=new Ub,n.iI=function(t){var i=t.w_;n.eI(i)},n}ze(n,t);var i=n.prototype;return i.U_=function(t){t.zo(Bm.E_,this.iI),this.ET.U_(t),this.eI(t)},i.H_=function(t){t.Go(Bm.E_,this.iI),t.Sg=hy.Rg,this.ET.H_(t)},i.rI=function(t){},i.uI=function(t){},i.eI=function(t){t.Sg!==hy.Rg?this.rI(t):this.uI(t)},i.sI=function(){for(var t=0,n=this.ET.z_;t<n.length;t++){var i=n[t];i.Go(Bm.E_,this.iI),i.bv()}},i.oI=function(t){if(t>0)for(var n=0,i=this.ET.z_;n<i.length;n++){iT(i[n],t)}},i.Nf=function(){return this.sI(),this.ET.Nf(),j.resolve()},i.bv=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return t.qo(),[4,t.Nf()];case 1:return n.sent(),t.ET.bv(),[2]}}))}))()},n}(oh);me(),zt(),Ae();var rT=function(t){function n(n){var i;return(i=t.call(this,vy.Ag)||this).errorObject=n,i}return ze(n,t),n.prototype.l_=function(){return this},pe(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Im),uT=function(t){function n(n,i){var e;return(e=t.call(this)||this).aI=new Wc,e.cI=n,e.hI=i,e}ze(n,t);var i=n.prototype;return i.fI=function(t){if(t.src){var n=t.kind||Mb.Pb,i=this.cI.vI(n,t.id,t.label,t.srclang,t.default);return i.Og=x_(t.src),this.U_(i),i}},i.dI=function(t,n){var i=this;return _a((function(){var e,r,u,s,o,a,c,h,f,v;return ma(this,(function(d){switch(d.label){case 0:t.Dg=yA.LOADING,e=new D_({_l:t.Og,fl:jw.dr,Fl:k_.GET,Lo:n}),d.label=1;case 1:return d.trys.push([1,4,,5]),[4,i.hI.ll(e)];case 2:return s=d.sent(),u=s.cl,[4,s.zd()];case 3:return r=d.sent(),[3,5];case 4:return Yc(o=d.sent()),t.Dg=yA.ERROR,t.Ho(new rT(function(t,n){var i=n,e=0;if(qb(t)&&t.name===L_.$l)i=t.ll._l;else if(Gb(t)){var r=t.ow;if(i=r.wl,0===(e=r.cl))return new Wb(gw.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",i,e,t)}return new Wb(gw.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",i,e,t)}(o,t.Og))),[2];case 5:try{for(a=function(t){return zk(t)?AA.WEBVTT:Lb(t)?AA.TTML:AA.SRT}(r),t.Gs=a,c=[],a===AA.WEBVTT||a===AA.SRT?(h=Dk(r),c=h.Pg):a===AA.TTML&&(c=Sb(r,t)),f=0;f<c.length;f++)v=c[f],t.lI(v)}catch(n){return Yc(n),t.Dg=yA.ERROR,t.Ho(new rT(nT(t.Gs,t.Og,u,n))),[2]}return t.Dg=yA.LOADED,[2]}}))}))()},i.rI=function(t){Dc(this.ET.z_,t)&&t.Dg===yA.NONE&&this.dI(t,this.aI.Lo).catch(Qc)},i.wf=function(){},i.Nf=function(){var n=this;return _a((function(){var i,e,r;return ma(this,(function(u){switch(u.label){case 0:for(n.aI.Bo(),n.aI=new Wc,i=0,e=n.ET.z_;i<e.length;i++)r=e[i],n.cI.wI(r);return[4,t.prototype.Nf.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(eT);function sT(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.og===n&&e._I)return e}}function oT(t,n){aT(sT(t.z_,n))}function aT(t){void 0!==t&&(t.Sg=hy.Eg)}function cT(t,n){aT(sT(t.z_,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.og===n)return e}}(t.z_,n))}function hT(t){for(var n=0;n<Hb.length;n++){var i=Hb[n];i===Mb.KE?cT(t,i):oT(t,i)}}me(),zt(),me(),zt();var fT,vT,dT=function(t){function n(){return t.call(this,qw.pd)}return ze(n,t),n}(fh);me(),zt(),me(),zt(),(vT=fT||(fT={}))[vT.gI=0]="gI",vT[vT.mI=1]="mI",me(),zt(),Ae(),me(),zt();var lT=function(t){function n(n){var i;return(i=t.call(this,up.gm)||this).currentTime=n,i}return ze(n,t),n}(fh);me(),zt();var wT=function(t){function n(n){var i;return(i=t.call(this,up.ym)||this).currentTime=n,i}return ze(n,t),n}(fh),_T=[up.R_,up.ym,qw.wd,qw.ld],gT=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).yI=n,e.pI=i,e.AI=My.im,e.kI=!0,e.bI=!1,e.TI=!1,e.SI=function(t){var n=e.yI.Dg;n!==e.AI&&e.Ho(new pp(t.currentTime,n)),n===My.im&&(e.bI=!1,e.TI=!1),e.EI(n),e.II(n),e.RI(n),e.maybeDispatchCanPlayThroughEvent(n),e.CI(n),e.NI(n),e.AI=n},e.DI=function(){e.NI(e.AI),e.CI(e.AI),e.kI=e.yI.Im},e.BI=function(){e.kI=e.yI.Im},e.OI=function(t){e.Ho(new wT(t.currentTime))},e.yI.zo(up.R_,e.SI),e.yI.zo(qw.wd,e.DI),e.yI.zo(qw.ld,e.BI),e.pI&&e.yI.zo(up.ym,e.OI),e}ze(n,t);var i=n.prototype;return i.EI=function(t){!this.TI&&t>=My.um&&(this.TI=!0,this.Ho(new cp(this.yI.pm,t)))},i.II=function(t){!this.bI&&t>=My.hm&&(this.bI=!0,this.Ho(new lp(this.yI.pm,t)))},i.CI=function(t){this.pI||(t>=My.fm&&this.AI<My.fm&&!this.yI.Im||this.xI&&t>=My.fm)&&this.Ho(new wT(this.yI.pm))},i.NI=function(t){!this.LI(t)||this.yI.Tm||this.yI.ua||this.Ho(new lT(this.yI.pm))},i.RI=function(t){this.AI<=My.hm&&t>=My.fm&&this.Ho(new mp(this.yI.pm,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===My.vm&&this.Ho(new yp(this.yI.pm,t))},i.LI=function(t){var n=!this.yI.Im&&t<=My.hm,i=!this.kI&&this.AI<=My.hm;return n&&!i},i.Nf=function(){this.AI=My.im,this.kI=!0,this.bI=!1,this.TI=!1},i.bv=function(){this.qo(),this.pI&&this.yI.Go(up.ym,this.OI),this.yI.Go(qw.wd,this.DI),this.yI.Go(qw.ld,this.BI),this.yI.Go(up.R_,this.SI)},pe(n,[{key:"xI",get:function(){return!this.yI.Im&&this.kI}}]),n}(oh),mT=function(t){function n(n){var i;return(i=t.call(this)||this).yI=n,i.yI.zo(_T,i.Uo),i}return ze(n,t),n.prototype.Io=function(){this.qo(),this.yI.Go(_T,this.Uo)},pe(n,[{key:"pm",get:function(){return this.yI.pm}},{key:"Tm",get:function(){return this.yI.Tm}},{key:"ua",get:function(){return this.yI.ua}},{key:"Im",get:function(){return this.yI.Im}},{key:"Dg",get:function(){return this.yI.Dg}}]),n}(oh);me(),zt(),me(),zt();var yT="titanium",pT="conax",AT="ezdrm",kT="irdeto",bT="vudrm",TT="verimatrix",ST="keyos",ET="drmtoday",IT="expressplay",RT="azure",CT="xstream",NT="vimond",DT="axinom",PT="uplynk",BT="comcast",OT="custom";me(),zt(),me(),zt(),me(),zt(),Ae();var xT=function(){function t(t,n,i,e,r){this.MI=void 0,this.Tf=t,this.FI=n,this.UI=i,this.hI=e,this.HI=r,this.XI=this.zI(n)}var n=t.prototype;return n.VI=function(){return this.MI},n.WI=function(t){this.MI=t},n.qI=function(){return this.XI.licenseAcquisitionURL||this.VI()},n.GI=function(t){return j.resolve()},n.jI=function(t,n){return j.resolve(void 0)},n.YI=function(t,n,i,e){var r=this;return _a((function(){var u,s;return ma(this,(function(o){switch(o.label){case 0:if(""===(u=r.QI(t,n,i,e))._l)throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");o.label=1;case 1:return o.trys.push([1,4,,6]),[4,r.o_.ll(u)];case 2:return[4,o.sent().Vd(n)];case 3:return[2,o.sent()];case 4:return Yc(s=o.sent()),[4,r.ZI(s,u._l,e)];case 5:return o.sent(),[2];case 6:return[2]}}))}))()},n.QI=function(t,n,i,e){var r=this.KI().Md(),u=this.Vl,s={_l:this.JI(),fl:n,hl:r,jd:t,Vl:u,Fl:k_.POST,Ul:0,Lo:e,Gs:T_.El,Xl:i};return new D_(s)},n.$I=function(t,n){return j.resolve(t)},n.tR=function(t,n,i,e){return j.resolve(t)},n.KI=function(){return new Kw(this.XI.headers||{})},n.ZI=function(t,n,i){return _a((function(){return ma(this,(function(n){throw new tA(gw.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t)}))}))()},n.JI=function(t,n){var i=n,e=this.XI.queryParameters;if(!i){var r=this.qI();if(!r)return"";i=r}if(e||t){var u=De.Ss(i);t&&O_(u,t),e&&O_(u,e),i=u.href}return i},n.nR=function(t,n){return LT(t)},n.iR=function(t){return new g(t)},n.eR=function(t,n,i){var e=this;return _a((function(){var r,u;return ma(this,(function(s){switch(s.label){case 0:return[4,e.nR(t,i)];case 1:return r=s.sent(),[4,e.YI(r,e.HI,n,i)];case 2:return u=s.sent(),[2,e.iR(u)]}}))}))()},n.bv=function(){},pe(t,[{key:"o_",get:function(){return this.hI}},{key:"rR",get:function(){return!1}},{key:"uR",get:function(){var t=this.XI.certificate;if(t)return cr(t)?Sh(t):Df(t)}},{key:"sR",get:function(){return!1}},{key:"Vl",get:function(){return Boolean(this.XI.useCredentials)}}]),t}();function LT(t){return j.resolve(Bf(t).buffer)}var MT,FT,UT=function(t){function n(n,i,e,r){return t.call(this,Qa,n,i,e,r)}ze(n,t);var i=n.prototype;return i.zI=function(t){return t.widevine||{}},i.oR=function(t,n){var i=this;return _a((function(){return ma(this,(function(e){return i.uR?[2,i.uR]:[2,i.aR(new g(t),n)]}))}))()},i.aR=function(n,i){return t.prototype.eR.call(this,n,E_.Nl,i)},n}(xT);function HT(t,n){if(null==t)return{};var i,e,r={},u=v.keys(t);for(e=0;e<u.length;e++)i=u[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function XT(t){return er(t.token&&t.deviceId)}function zT(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&er(i.PreAuthorization)}function VT(t){var n=t;return XT(n)&&""!==n.token&&""!==n.deviceId&&!zT(n)}me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),(FT=MT||(MT={})).cR=!1,FT.hR=!1,FT.fR=!1,FT.vR=!1,FT.LOG_ADS_DETAILS=!1,FT.LOG_CHROMECAST_DETAILS=!1,FT.LOG_CUSTOM_DRM=!1,FT.LOG_BUFFERING_VIDEO_MAIN=!1,FT.LOG_BUFFERING_VIDEO_SELECTION=!1,FT.LOG_BUFFERING_AUDIO_MAIN=!1,FT.LOG_BUFFERING_AUDIO_SELECTION=!1,FT.dR=!1,FT.lR=!1,FT.LOG_LCEVC_DETAILS=!1,me(),zt(),Ae();var WT,qT,GT=function(){function t(t,n,i){this.wR=t,this.if=n,this._R=i}return t.prototype.gR=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new f("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new f("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new f("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new f("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new f("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this._R.build(t))},pe(t,[{key:"mR",get:function(){return this.wR}},{key:"Tf",get:function(){return this.if}}]),t}();me(),zt(),(qT=WT||(WT={})).FAILED="FAILED",qT.OVERRIDDEN="OVERRIDDEN",qT.SUCCEEDED="SUCCEEDED";var jT=function(){function t(){this.yR=[]}var n=t.prototype;return n.registerContentProtectionIntegration=function(t,n,i){switch(this.pR(t,n,i)){case WT.FAILED:throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+n+".");case WT.OVERRIDDEN:var e=vS(n);De.$u("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case WT.SUCCEEDED:vS(n);0}},n.pR=function(t,n,i){var e=vS(n);if(!e)return WT.FAILED;for(var r=WT.SUCCEEDED,u=0,s=this.yR.slice();u<s.length;u++){var o=s[u];o.mR===t&&o.Tf===e&&(r=WT.OVERRIDDEN,Cc(this.yR,o))}return this.yR.push(new GT(t,e,i)),r},n.AR=function(t,n){return void 0!==this.kR(t,n)},n.bR=function(t,n,i){var e=this.kR(t,n);if(!e)throw h("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.gR(i)},n.kR=function(t,n){for(var i=0,e=this.yR;i<e.length;i++){var r=e[i];if(r.mR===t&&(!n||r.Tf===n))return r}},t}();jT.SR=new jT;var YT={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function QT(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,u=t.useCredentials,s=t.queryParameters;return!(n||i||e||r||u||s)}function ZT(t){return t&&void 0!==t.licenseAcquisitionURL}var KT,JT,$T=ZT,tS=ZT;function nS(t){if(!t)return!0;if(uS(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,u=t.aes128;return QT(n)&&QT(i)&&QT(e)&&QT(r)&&QT(u)}function iS(t){var n=VT(t),i=function(t){var n,i=t;return zT(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!XT(i)}(t);return(!n||!i)&&(n||i)}function eS(t){return t.integration===kT}function rS(t){var n=t;if(!n)return!1;if(nS(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,u=n.clearkey;if(uS(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!$T(e))return!1;if(r&&!tS(r))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(jT.SR.AR(n.integration))return!0;switch(n.integration){case yT:if(!function(t){return t.integration===yT&&(sS(t)||oS(t))}(t))return!1;break;case bT:if(!aS(t))return!1;break;case TT:if(!function(t){return t.integration===TT}(t))return!1;break;case kT:if(!eS(t))return!1;break;case pT:if(!iS(t))return!1;break;case AT:if(!function(t){return t.integration===AT}(t))return!1;break;case ST:if(!uS(t))return!1;break;case ET:if(!function(t){var n=t;return n.integration===ET&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case IT:if(!function(t){return t.integration===IT}(t))return!1;break;case CT:if(!cS(t))return!1;break;case NT:if(!function(t){return t.integration===NT}(t))return!1;break;case DT:if(!hS(t))return!1;break;case RT:if(!function(t){var n=t;return n.integration===RT&&void 0!==n.token}(t))return!1;break;case PT:if(!function(t){return t.integration===PT}(t))return!1;break;case BT:if(!function(t){var n=t;return n&&er(n.releasePid)&&er(n.accountId)&&er(n.token)}(t))return!1;break;case OT:return!0;default:return!1}}return!0}function uS(t){return t.integration===ST}function sS(t){return void 0!==t.authToken}function oS(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function aS(t){var n=t;return n.integration===bT&&void 0!==n.token}function cS(t){var n=t;return n&&n.integration===CT&&cr(n.ticketAcquisitionURL)&&cr(n.streamId)}function hS(t){var n=t;return n.integration===DT&&void 0!==n.token}function fS(t,n){var i,e,r,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:YT[t],o=null!=(e=null==u?void 0:u.customdata)?e:n.customdata,a=o?{customData:o}:{},c=ga({},null!=(r=null==u?void 0:u.headers)?r:{},a),h=null!=u?u:{};h.customdata;return ga({},HT(h,["customdata"]),{licenseAcquisitionURL:s,headers:c})}function vS(t){switch(t.toLowerCase()){case"widevine":case za:return za;case"playready":case Ua:return Ua;case"fairplay":case Ga:return Ga}}function dS(t,n){switch(t){case xa:return function(t){for(var n={},i=db.wT(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.IE]=r.NE}return n}(n);case La:case Ma:return function(t){return Ty({},qa,t)}(n);default:throw new bw(gw.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}(JT=KT||(KT={})).zs="Widevine",JT.Xs="PlayreadyV2",JT.ER="PlayreadyV2",JT.IR="PlayreadyV3",JT.Ws="Fairplay";var lS={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function wS(t,n){var i,e,r,u,s=lS[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=De.Is)?void 0:i.Rs,OSVersion:null==(e=De.Is)?void 0:e.Os,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(r=De.Is)?void 0:r.xs,DeviceModel:null==(u=De.Is)?void 0:u.Ls}}}function _S(t,n){if(!t.accountName)throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, accountName is not set.");if(!t.customerName)throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, customerName is not set.");if(!t.portalId)throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, portalId is not set.");throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration.")}function gS(t,n,i){var e;if(sS(t))e={AuthToken:t.authToken,Payload:n};else{if(!oS(t))throw _S(t,i);e={LatensRegistration:wS(t,i),Payload:n}}return Lh(JSON.stringify(e))}function mS(t,n,i){return yS.apply(this,arguments)}function yS(){return(yS=_a((function(t,n,i){var e,r,u,s;return ma(this,(function(o){switch(o.label){case 0:if(!(e=t.ow))throw new tA(gw.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,n);r=e,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,r.Xd(i)];case 2:return u=o.sent(),s=pS(u),[3,4];case 3:return o.sent(),s="",[3,4];case 4:throw new tA(gw.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,r.ll._l,r.cl,r.vl,s)}}))}))).apply(this,arguments)}function pS(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}me(),zt();var AS=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,jw.xd)||this).RR=void 0,r}ze(n,t);var i=n.prototype;return i.ZI=function(t,n,i){return mS(t,n,i)},i.GI=function(t){return this.RR?Zc(this.RR.Fa,t):(this.RR=new Mf,j.resolve())},i.nR=function(t,n){var i=this;return _a((function(){var n,e;return ma(this,(function(r){if(!(n=i.FI))throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");return e=Ih(t),[2,gS(n,e,KT.zs)]}))}))()},i.iR=function(t){if(!t.license)throw new tA(gw.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Sh(t.license)},i.NR=function(t){return j.resolve(new g(t))},i.oR=function(t,n){var i=this;return _a((function(){var e,r;return ma(this,(function(u){switch(u.label){case 0:return i.DR(),[4,i.nR(t,n)];case 1:return e=u.sent(),[4,i.YI(e,jw.Od,E_.Dl,n)];case 2:return r=u.sent(),[4,i.NR(r)];case 3:return[2,u.sent()]}}))}))()},i.aR=function(n,i){var e=this;return _a((function(){var r;return ma(this,(function(u){switch(u.label){case 0:return[4,t.prototype.aR.call(e,n,i)];case 1:return r=u.sent(),e.DR(),[2,r]}}))}))()},i.DR=function(){this.RR||(this.RR=new Mf),this.RR.Ua()},i.bv=function(){this.RR&&this.RR.Bo(),t.prototype.bv.call(this)},n.PR=function(){return De.Rs.Ou?"required":"optional"},n}(UT);me(),zt(),Ae();var kS=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,jw.Od)||this).WI("https://widevine-proxy.drm.technology/proxy"),r}return ze(n,t),n.prototype.nR=function(t,n){var i=this;return _a((function(){var n,e,r,u;return ma(this,(function(s){switch(s.label){case 0:return[4,LT(t)];case 1:if(n=s.sent(),e=i.UI,r=Of(new g(n)),!(u=i.OR))throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");return[2,JSON.stringify({token:u,drm_info:r,kid:e})]}}))}))()},pe(n,[{key:"OR",get:function(){if(aS(this.FI))return this.FI.token}}]),n}(UT);function bS(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=ga({},i,{SessionId:t.sessionId,Ticket:t.ticket})),ga({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}me(),zt(),me(),zt();var TS=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,jw.Od)||this).WI("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return ze(n,t),n.prototype.JI=function(n,i){var e=n;return eS(this.FI)&&(e=bS(this.FI,e)),t.prototype.JI.call(this,e,i)},n}(UT);me(),zt(),me(),zt();var SS="Conax-Custom-Data";function ES(t,n,i){var e=t&&iS(t)&&t;if(e&&!i.has(SS)){var r=VT(e)?e.token:void 0,u=VT(e)?e.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(SS,s)}return i}var IS=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,jw.Od)||this).WI("https://connect.conax.com:8094/license"),r}return ze(n,t),n.prototype.KI=function(){var n=t.prototype.KI.call(this);return ES(this.FI,"Widevine",n)},n}(UT);function RS(t){var n=gf(new g(t));return Sh(JSON.parse(n).license)}function CS(t){return"string"==typeof t.token?t.token:Lh(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function NS(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}me(),zt(),Ae(),me(),zt();var DS=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,jw.Od)||this).WI("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}ze(n,t);var i=n.prototype;return i.iR=function(t){return RS(t)},i.KI=function(){return NS(t.prototype.KI.call(this),this.OR,this.FI)},pe(n,[{key:"OR",get:function(){return CS(this.FI)}}]),n}(UT);me(),zt();var PS=function(t){function n(n,i,e){return t.call(this,n,i,e,jw.Od)}return ze(n,t),n.prototype.KI=function(){var n=t.prototype.KI.call(this),i=this.FI.token;return n.set("Authorization","Bearer "+i),n},n}(UT);function BS(t,n,i,e){return OS.apply(this,arguments)}function OS(){return(OS=_a((function(t,n,i,e){var r,u,s,o,a,c;return ma(this,(function(h){switch(h.label){case 0:if(!cS(t))throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");return(r=new Kw).append("Cache-Control","no-cache"),r.append("Content-Type","application/json"),(u=t.sessionId)&&r.append("XSSESSION",u),s=t.streamId,o=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:n,licenseType:o,streamId:s},c={_l:t.ticketAcquisitionURL,fl:jw.xd,hl:r,Fl:k_.POST,jd:JSON.stringify(a),Lo:e},[4,i.ll(c)];case 1:return[4,h.sent().Xd()];case 2:return[2,h.sent()]}}))}))).apply(this,arguments)}me(),zt(),me(),zt();var xS=function(t){function n(n,i,e){return t.call(this,n,i,e,jw.xd)}ze(n,t);var i=n.prototype;return i.KI=function(){var n=t.prototype.KI.call(this);return n.set("Content-Type","application/json"),n},i.nR=function(n,i){var e=this;return _a((function(){var r,u,s;return ma(this,(function(o){switch(o.label){case 0:return r=xh(n.buffer),[4,BS(e.FI,"widevine_modular",e.o_,i)];case 1:return u=o.sent(),e.WI(u.licenseServerUrl),s=mf(JSON.stringify({payload:r,ticket:u.ticket})),[2,t.prototype.nR.call(e,s,i)]}}))}))()},i.iR=function(t){return Sh(t.license)},n}(UT);me(),zt();var LS=function(t){function n(n,i,e){return t.call(this,n,i,e,jw.Od)}return ze(n,t),n.prototype.KI=function(){if(!hS(this.FI))throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.KI.call(this);return n.set("X-AxDRM-Message",this.FI.token),n},n}(UT);function MS(t){for(var n=new g(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}me(),zt();var FS=function(t){function n(n,i,e){var r;return(r=t.call(this,Ya,n,i,e,jw.Od)||this).xR=void 0,r}ze(n,t);var i=n.prototype;return i.zI=function(t){return t.playready||{}},i.KI=function(){var n=new Kw(this.xR);return n.Ud(t.prototype.KI.call(this)),n},i.LR=function(t){return t.length>=1&&t[0].Pr.length>0},i.jI=function(n){var i=this.FI.playready.customData;if(i){var e=MS(i),r=MS('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Ih(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return j.resolve({playready:{Kf:r}})}return t.prototype.jI.call(this,n)},i.nR=function(t,n){var i=this;return _a((function(){var n;return ma(this,(function(e){switch(e.label){case 0:return[4,LT(t)];case 1:return n=e.sent(),[2,i.MR(n)]}}))}))()},i.MR=function(t){var n=this;return _a((function(){var i,e,r,u,s,o,a,c,h,f,v,d,l,w,_,g;return ma(this,(function(m){r=null,u=new DataView(t),s=lf(u,new xf,!0);try{o=De.gr(s)}catch(t){return[2,r]}for(a=null==(i=o.Dr("PlayReadyKeyMessage")[0])?void 0:i.Dr("LicenseAcquisition")[0],h=null!=(c=null==a?void 0:a.Dr("Challenge"))?c:[],n.LR(h)&&(r=Oh(h[0].Gr)),f=new Kw,d=null!=(v=null==(e=null==a?void 0:a.Dr("HttpHeaders")[0])?void 0:e.Dr("HttpHeader"))?v:[],l=0;l<d.length;l++)w=d[l],_=w.Dr("name")[0].Gr,g=w.Dr("value")[0].Gr,f.append(_,g);return n.xR=f,[2,r]}))}))()},i.oR=function(t,n){return j.resolve(t)},i.aR=function(n,i){return t.prototype.eR.call(this,n,E_.Pl,i)},n}(xT);me(),zt(),me(),zt(),Ae();var US=function(){function t(n){this.FR=n,this.Mh=t.UR(n)}return t.prototype.HR=function(){var t={};if(this.Mh===KT.IR){var n={LatensRegistration:wS(this.FR,KT.IR)};t["X-TITANIUM-DRM-CDATA"]=Lh(JSON.stringify(n))}return t},t.UR=function(t){return"3"===t.version?KT.IR:KT.ER},pe(t,[{key:"XR",get:function(){return this.Mh}},{key:"Mf",get:function(){return this.Mh===KT.ER}}]),t}();var HS=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).zR=new US(r.FI),r}ze(n,t);var i=n.prototype;return i.jI=function(t){var n=this.FI;if(!this.FI)throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(oS(n)){var i={};return i.playready={Kf:XS(n,this.zR.XR)},j.resolve(i)}return j.reject(_S(n,KT.Xs))},i.KI=function(){var n=new Kw(this.zR.HR());return n.Ud(t.prototype.KI.call(this)),n},i.ZI=function(t,n,i){return _a((function(){var e,r,u,s,o,a,c,h;return ma(this,(function(f){switch(f.label){case 0:if(!(e=t.ow))throw new tA(gw.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n);f.label=1;case 1:return f.trys.push([1,3,,4]),[4,e.Wd(i)];case 2:return s=f.sent(),o=gf(new g(s)),(a=De.gr(o))&&(c=yb(a,"CustomData")).length>0&&(r=JSON.parse(c[0].Gr),u=null==(h=r.DrmErr)?void 0:h.desc),[3,4];case 3:return f.sent(),[3,4];case 4:throw new tA(gw.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n,e.cl,e.vl,u)}}))}))()},i.LR=function(t){if(1!==t.length)throw new tA(gw.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},n}(FS);function XS(t,n){var i=wS(t,n),e=i.DeviceInfo.FormatVersion,r=Lh('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=pf(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return pf('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Ih(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}me(),zt(),Ae();var zS=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).WI("https://playready-license.drm.technology/rightsmanager.asmx"),r}ze(n,t);var i=n.prototype;return i.LR=function(t){if(1!==t.length)throw new tA(gw.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},i.JI=function(n,i){var e=ga({},n||{},{token:this.OR});return t.prototype.JI.call(this,e,i)},pe(n,[{key:"OR",get:function(){if(aS(this.FI))return this.FI.token}}]),n}(FS);me(),zt();var VS=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).WI("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return ze(n,t),n.prototype.JI=function(n,i){var e=n;return eS(this.FI)&&(e=bS(this.FI,e)),t.prototype.JI.call(this,e,i)},n}(FS);me(),zt();var WS=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).WI("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return ze(n,t),n.prototype.KI=function(){var n=t.prototype.KI.call(this);return ES(this.FI,"PlayReady",n)},n}(FS);me(),zt(),Ae();var qS,GS,jS=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).WI("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}ze(n,t);var i=n.prototype;return i.iR=function(n){return 1===(ec(gf(new g(n)),"<?xml")?0:1)?RS(n):t.prototype.iR.call(this,new g(n))},i.KI=function(){return NS(t.prototype.KI.call(this),this.OR,this.FI)},pe(n,[{key:"OR",get:function(){return CS(this.FI)}}]),n}(FS);(GS=qS||(qS={}))[GS.WR=0]="WR",GS[GS.Xd=1]="Xd",me(),zt();var YS=function(t){function n(n,i,e){return t.call(this,n,i,e)}ze(n,t);var i=n.prototype;return i.KI=function(){var n=t.prototype.KI.call(this);return this.qR&&n.set("Ticket",this.qR),n.set("Content-Type","text/xml"),n},i.nR=function(n,i){var e=this;return _a((function(){var r;return ma(this,(function(u){switch(u.label){case 0:return[4,BS(e.FI,"playready",e.o_,i)];case 1:return r=u.sent(),e.WI(r.licenseServerUrl),e.qR=r.ticket,[2,t.prototype.nR.call(e,n,i)]}}))}))()},n}(FS);me(),zt();var QS,ZS,KS=function(t){function n(){return t.apply(this,arguments)}return ze(n,t),n.prototype.KI=function(){if(!hS(this.FI))throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.KI.call(this);return n.set("X-AxDRM-Message",this.FI.token),n},n}(FS);me(),zt(),Ae(),me(),zt(),(ZS=QS||(QS={})).xd="application/json",ZS.GR="application/x-www-form-urlencoded",ZS.jR="application/octet-stream",ZS.dr="text/plain;charset=UTF-8";var JS=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n.Tf,i,e,r,u)||this).YR="",s.QR=void 0,s.ZR=n.KR,s}ze(n,t);var i=n.prototype;return i.JR=function(){return this.XI.certificateURL||this.QR},i.$R=function(t){this.QR=t},i.nR=function(t){return j.resolve(this.tC(t,this.YR))},i.tC=function(t,n){return"spc="+encodeURIComponent(Ih(t))+"&assetId="+encodeURIComponent(n)},i.zI=function(t){return t.fairplay||{}},i.nC=function(t){var n=t.indexOf("?");if(n>=0)return j.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return j.resolve(i)}var e=t.split("/");return j.resolve(e[e.length-1])},i.jI=function(t){var n=this;return _a((function(){var i,e,r,u;return ma(this,(function(s){switch(s.label){case 0:return e=null!=(i=n.ZR)?i:bf(new g(t)),[4,n.nC(e)];case 1:return r=s.sent(),n.YR=r,(u={}).fairplay={ov:r},[2,u]}}))}))()},i.KI=function(){var n=t.prototype.KI.call(this);return n.set("Content-Type",this.iC),n},i.oR=function(t,n){var i=this;return _a((function(){return ma(this,(function(t){switch(t.label){case 0:return i.uR?[2,i.uR]:[4,i.eC(n)];case 1:return[2,t.sent()]}}))}))()},i.aR=function(n,i){return t.prototype.eR.call(this,n,E_.Rl,i)},i.rC=function(t){var n=this.JR(),i=this.KI(),e={_l:n,fl:jw.Od,hl:i,Fl:k_.GET,Vl:!1,jd:null,Ul:0,Lo:t,Gs:T_.El,Xl:E_.Cl};return new D_(e)},i.eC=function(t){var n=this;return _a((function(){var i,e;return ma(this,(function(r){switch(r.label){case 0:return i=n.rC(t),[4,n.o_.ll(i)];case 1:return[4,r.sent().Wd()];case 2:return e=r.sent(),[2,new g(e)]}}))}))()},i.iR=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Sh(i)}else n=new g(t);return n},i.JI=function(n,i){var e=t.prototype.JI.call(this,n,i);return ec(e,"skd:")&&(e=e.substr("skd:".length)),e},pe(n,[{key:"sR",get:function(){return!0}},{key:"iC",get:function(){return QS.GR}}]),n}(xT);me(),zt(),Ae();var $S=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,jw.Od)}ze(n,t);var i=n.prototype;return i.nC=function(n){var i=n.split("://",1);return"skd"!==i[0].slice(-3).toLowerCase()?j.resolve(""):(i=n.split(";",2)).length>1?j.resolve(i[1]):j.resolve(t.prototype.nC.call(this,n))},i.nR=function(t){return _a((function(){return ma(this,(function(n){return[2,t]}))}))()},i.iR=function(t){return new g(t)},i.JI=function(n,i){var e=n||{};return e.p1=au(),t.prototype.JI.call(this,e,i)},pe(n,[{key:"iC",get:function(){return QS.jR}}]),n}(JS);me(),zt(),Ae();var tE=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,jw.Od)||this).WI("https://fairplay-license.drm.technology/license"),u.$R("https://fairplay-license.drm.technology/certificate"),u}ze(n,t);var i=n.prototype;return i.tC=function(t,n){var i={token:this.OR,contentId:n,payload:Ih(t)};return JSON.stringify(i)},i.iR=function(t){return new g(t)},i.KI=function(){var n=t.prototype.KI.call(this);return n.set("x-vudrm-token",this.OR),n},pe(n,[{key:"iC",get:function(){return QS.xd}},{key:"OR",get:function(){if(!aS(this.FI))throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.FI.token}}]),n}(JS);me(),zt();var nE="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",iE="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",eE=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,jw.Od)}return ze(n,t),n.prototype.iR=function(n){var i=function(t){var n;try{n=JSON.parse(t).ckc}catch(t){throw new tA(gw.CONTENT_PROTECTION_LICENSE_INVALID,nE)}if(!n)throw new tA(gw.CONTENT_PROTECTION_LICENSE_ERROR,iE);return n}(gf(new DataView(n)));return t.prototype.iR.call(this,i)},n}(JS);me(),zt(),Ae();var rE=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,jw.xd)}ze(n,t);var i=n.prototype;return i.nR=function(t){var n=this;return _a((function(){var i,e;return ma(this,(function(r){if(!(i=n.FI))throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");return e=Ih(t),[2,gS(i,e,KT.Ws)]}))}))()},i.iR=function(t){try{var n;if(cr(t)){var i=t.trim();n=JSON.parse(i)}else n=t;if(n.license){var e=Oh(n.license);return new g(e)}throw new tA(gw.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new tA(gw.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},i.ZI=function(t,n,i){return mS(t,n,i)},pe(n,[{key:"iC",get:function(){return QS.xd}}]),n}(JS);me(),zt(),Ae();var uE=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,jw.Od)||this).WI("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.$R("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}ze(n,t);var i=n.prototype;return i.JR=function(){var n=t.prototype.JR.call(this);if(!n)return n;var i=De.Ss(n),e=this.FI;return eS(e)&&O_(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href},i.nC=function(n){return eS(this.FI)?j.resolve(this.FI.contentId):t.prototype.nC.call(this,n)},i.nR=function(t){return _a((function(){return ma(this,(function(n){return[2,t]}))}))()},i.iR=function(t){return new g(t)},i.JI=function(n,i){var e=n;return eS(this.FI)&&(e=function(t,n){return ga({},bS(t,n),{KeyId:t.keyId})}(this.FI,e)),t.prototype.JI.call(this,e,i)},pe(n,[{key:"iC",get:function(){return QS.jR}}]),n}(JS);me(),zt();var sE=function(t){function n(n,i,e,r){var u;if(u=t.call(this,n,i,e,r,jw.dr)||this,!iS(i))throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.WI("https://connect.conax.com:8097/license"),u}ze(n,t);var i=n.prototype;return i.KI=function(){var n=t.prototype.KI.call(this);return ES(this.FI,"FairPlay",n)},i.eC=function(t){var n=this;return _a((function(){var i,e,r;return ma(this,(function(u){switch(u.label){case 0:return i=n.JR(),e={_l:i,fl:jw.Od,hl:{},Fl:k_.GET,Vl:!1,jd:null,Ul:0,Lo:t,Gs:T_.El,Xl:E_.Cl},[4,n.o_.ll(e)];case 1:return[4,u.sent().Wd()];case 2:return r=u.sent(),[2,new g(r)]}}))}))()},i.nR=function(t){return _a((function(){return ma(this,(function(n){return[2,t]}))}))()},i.nC=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),j.resolve(gf(Sh(n)))):j.resolve("unknown")},i.iR=function(t){try{var n=JSON.parse(t);return new g(Oh(n.CkcMessage))}catch(t){throw new h("CFLRW-66")}},n}(JS);me(),zt();var oE=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,jw.dr)||this).WI(YT[Pa.Ws]),u}ze(n,t);var i=n.prototype;return i.nC=function(t){return ec(t,"skd://")?j.resolve(t.substring("skd://".length,40)):j.reject(new tA(gw.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},i.tC=function(t,n){return"spc="+Ih(t)+"&assetId="+n},n}(JS);me(),zt(),Ae();var aE=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,jw.dr)||this).WI("https://lic.drmtoday.com/license-server-fairplay/"),u}ze(n,t);var i=n.prototype;return i.tC=function(t,n){var i="spc="+encodeURIComponent(Ih(t))+"&"+encodeURI(n);return"persistent"===this.XI.licenseType?i+"&offline=true":i},i.KI=function(){return NS(t.prototype.KI.call(this),this.OR,this.FI)},pe(n,[{key:"OR",get:function(){return CS(this.FI)}}]),n}(JS);me(),zt(),Ae();var cE=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,jw.Od)}ze(n,t);var i=n.prototype;return i.nC=function(t){var n=t;return ec(n,"skd:")&&(n="http:"+n.substring(4)),ec(n,"http:")||ec(n,"https:")?j.resolve(De.Ss(n).hostname):j.reject(new h("Could not parse ExpressPlay FairPlay content ID."))},i.nR=function(t){return _a((function(){return ma(this,(function(n){return[2,t]}))}))()},i.iR=function(t){return new g(t)},pe(n,[{key:"iC",get:function(){return QS.jR}}]),n}(JS);me(),zt();var hE=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,jw.dr)}return ze(n,t),n.prototype.KI=function(){var n=t.prototype.KI.call(this),i=this.FI.token;return n.set("Authorization","Bearer "+i),n},n}(JS);me(),zt(),Ae();var fE=function(t){function n(n,i,e,r){var u=t.call(this,n,i,e,r,jw.xd);if(!cS(i))throw new h("Invalid Xstream DRM configuration");return u}ze(n,t);var i=n.prototype;return i.eC=function(t){var n=this;return _a((function(){var i,e,r,u;return ma(this,(function(s){switch(s.label){case 0:return i=n.JR(),e=n.KI(),r={_l:i,fl:jw.xd,hl:e,Fl:k_.POST,Lo:t,Gs:T_.El,Xl:E_.Cl},[4,n.o_.ll(r)];case 1:return[4,s.sent().Xd()];case 2:return u=s.sent(),[2,new g(Sh(u.certificate))]}}))}))()},i.aR=function(t,n,i){void 0===i&&(i=jw.dr);var e=this;return _a((function(){var i,r,u,s;return ma(this,(function(o){switch(o.label){case 0:return i=Ih(t),[4,BS(e.FI,"fairplay",e.o_,n)];case 1:return r=o.sent(),u=mf(JSON.stringify({spc:i,ticket:r.ticket})),s={_l:e.qI(),fl:jw.xd,hl:e.KI(),Fl:k_.POST,jd:u,Ul:0,Lo:n,Gs:T_.El,Xl:E_.Rl},[4,e.o_.ll(s)];case 2:return[4,o.sent().Xd()];case 3:return[2,Sh(o.sent().licence)]}}))}))()},pe(n,[{key:"iC",get:function(){return QS.xd}}]),n}(JS);me(),zt();var vE=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,jw.dr)}ze(n,t);var i=n.prototype;return i.tC=function(t,n){return Ih(t)},i.iR=function(n){if(0===n.length)throw new tA(gw.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.iR.call(this,n)},i.KI=function(){var n=t.prototype.KI.call(this);return n.set("Content-Type","text/plain"),n},n}(JS);me(),zt(),Ae();var dE=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,jw.Od)}ze(n,t);var i=n.prototype;return i.tC=function(t,n){return t},i.iR=function(t){return new g(t)},i.KI=function(){if(!hS(this.FI))throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.KI.call(this);return n.set("X-AxDRM-Message",this.FI.token),n},pe(n,[{key:"iC",get:function(){return QS.xd}}]),n}(JS);me(),zt(),Ae();var lE=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,jw.xd)||this).uC=void 0,u}ze(n,t);var i=n.prototype;return i.tC=function(t,n){var i={spc:Ih(t)};return JSON.stringify(i)},i.nC=function(t){var n=De.Ss(t);return this.uC=t,n.searchParams.has("b")?j.resolve(n.searchParams.get("b")):j.reject(new tA(gw.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},i.JI=function(n,i){var e=this.qI();return!e&&this.uC&&(e=this.uC),e&&(e=e.replace("skd://","https://")),t.prototype.JI.call(this,n,i||e)},i.iR=function(t){try{var n;if((n=cr(t)?JSON.parse(t.trim()):t).ckc)return Sh(n.ckc)}catch(t){throw new tA(gw.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new tA(gw.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},pe(n,[{key:"iC",get:function(){return QS.dr}}]),n}(JS);me(),zt(),me(),zt(),me(),zt();var wE=function(){function t(t,n){this.sC=t,this.oC=n}var n=t.prototype;return n.aC=function(t){return this.sC(t)},n.cC=function(t,n){throw new f(n+" must be "+this.oC+". (Received: "+t+")")},t}(),_E=(new wE((function(t){return!0}),"any"),new wE(dr,"a number")),gE=new wE(cr,"a string"),mE=new wE(hr,"a boolean");new wE(vr,"a date"),new wE(rr,"undefined"),new wE(or,"an object"),new wE((function(t){return null===t}),"null"),new wE((function(t){return null==t}),"null or undefined");var yE,pE=(yE={responseCode:_E,isException:mE,description:gE,title:gE,correlationId:gE},{aC:function(t){if(!or(t))return!1;for(var n=0,i=v.keys(yE);n<i.length;n++){var e=i[n];if(!yE[e].aC(t[e]))return!1}return!0},cC:function(t,n){if(!or(t))throw new f(n+" must be an object.");for(var i=0,e=v.keys(yE);i<e.length;i++){var r=e[i],u=yE[r];if(!u.aC(t[r]))return u.cC(t[r],n+"."+String(r))}throw new f}});function AE(t,n,i,e,r){return kE.apply(this,arguments)}function kE(){return(kE=_a((function(t,n,i,e,r){return ma(this,(function(u){switch(u.label){case 0:return[4,TE(bE(t,n,i,r),e)];case 1:return[2,u.sent()]}}))}))).apply(this,arguments)}function bE(t,n,i,e){var r={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=De.Ss(t);return O_(i,n),i.toString()}(i,r)),s=new Kw({});s.append("Content-Type","application/json");var o=Ih(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{_l:u,fl:jw.dr,hl:s,Fl:k_.POST,jd:JSON.stringify(a),Lo:e,Gs:T_.El,Xl:E_.Rl}}function TE(t,n){return SE.apply(this,arguments)}function SE(){return(SE=_a((function(t,n){var i;return ma(this,(function(e){switch(e.label){case 0:return[4,n.ll(t)];case 1:return[4,e.sent().Xd()];case 2:if(i=e.sent(),pE.aC(i))throw new tA(gw.CONTENT_PROTECTION_LICENSE_ERROR,i.description,void 0,t._l,i.responseCode);return[2,Sh(i.getFairplayLicenseResponse.ckcResponse)]}}))}))).apply(this,arguments)}var EE=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,jw.Od)||this).hC=i,u}ze(n,t);var i=n.prototype;return i.nC=function(n){var i=n.replace("FairPlay",this.hC.releasePid);return t.prototype.nC.call(this,i)},i.aR=function(t,n){var i=this;return _a((function(){return ma(this,(function(e){switch(e.label){case 0:return[4,AE(t,i.hC,i.qI(),i.o_,n)];case 1:return[2,e.sent()]}}))}))()},n}(JS);me(),zt();var IE=function(t){function n(n,i,e){return t.call(this,Ja,n,i,e,jw.Od)}ze(n,t);var i=n.prototype;return i.zI=function(t){return t.clearkey||{}},i.YI=function(n,i,e,r){var u=this;return _a((function(){var i,s;return ma(this,(function(o){if(i=u.XI,u.qI())return[2,t.prototype.YI.call(u,n,u.HI,e,r)];if(i.keys&&i.keys.length)return s={keys:i.keys.map((function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}}))},[2,mf(JSON.stringify(s)).buffer];throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.")}))}))()},i.oR=function(t,n){return j.resolve(new g(0))},i.aR=function(n,i){return t.prototype.eR.call(this,n,E_.Bl,i)},n}(xT);me(),zt();var RE=function(t){function n(){return t.apply(this,arguments)}return ze(n,t),n}(UT);me(),zt(),me(),zt();var CE={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function NE(t,n,i){return DE.apply(this,arguments)}function DE(){return(DE=_a((function(t,n,i){var e,r,u;return ma(this,(function(s){switch(s.label){case 0:return e=qE(n),(r=t.onCertificateRequest)&&"function"==typeof r?[4,Zc(j.resolve(r.call(t,e)),i)]:[2,j.resolve(n)];case 1:return Nf(u=s.sent())?[2,Df(u)]:[2,WE(ga({},CE,u))]}}))}))).apply(this,arguments)}function PE(t,n,i,e,r){return BE.apply(this,arguments)}function BE(){return(BE=_a((function(t,n,i,e,r){var u,s;return ma(this,(function(o){switch(o.label){case 0:return u=t.onCertificateResponse,s=VE(n,i,e),u&&"function"==typeof u?[4,Zc(j.resolve(u.call(t,s)),r)]:[2,j.resolve(n)];case 1:return[2,Df(o.sent())]}}))}))).apply(this,arguments)}function OE(t,n,i,e){return xE.apply(this,arguments)}function xE(){return(xE=_a((function(t,n,i,e){var r;return ma(this,(function(u){switch(u.label){case 0:return[4,FE(t,n,i,e)];case 1:return(r=u.sent())instanceof ArrayBuffer?[2,r]:[2,WE(r)]}}))}))).apply(this,arguments)}function LE(t,n,i,e,r,u){return ME.apply(this,arguments)}function ME(){return(ME=_a((function(t,n,i,e,r,u){var s;return ma(this,(function(o){switch(o.label){case 0:return s=zE(i,r),[4,HE(t,new g(n),s,e,u)];case 1:return[2,Df(o.sent())]}}))}))).apply(this,arguments)}function FE(t,n,i,e){return UE.apply(this,arguments)}function UE(){return(UE=_a((function(t,n,i,e){var r,u,s;return ma(this,(function(o){switch(o.label){case 0:return r=null==t?void 0:t.onLicenseRequest,u=zE(n,i),r&&"function"==typeof r?[4,Zc(j.resolve(r.call(t,u)),e)]:[2,j.resolve(u)];case 1:return Nf(s=o.sent())?[2,Df(s).buffer]:[2,ga({fairplaySkdUrl:void 0},CE,s)]}}))}))).apply(this,arguments)}function HE(t,n,i,e,r){return XE.apply(this,arguments)}function XE(){return(XE=_a((function(t,n,i,e,r){var u,s;return ma(this,(function(o){switch(o.label){case 0:return u=null==t?void 0:t.onLicenseResponse,s=VE(n,i,e),u&&"function"==typeof u?[4,Zc(j.resolve(u.call(t,s)),r)]:[2,j.resolve(n)];case 1:return[2,Df(o.sent())]}}))}))).apply(this,arguments)}function zE(t,n){return ga({},qE(t),{fairplaySkdUrl:n})}function VE(t,n,i){return{url:i.wl,status:i.cl,statusText:i.vl,headers:i.hl.Md(),body:t,request:n}}function WE(t){return new D_({_l:t.url,Fl:t.method,hl:t.headers,jd:t.body,Vl:t.useCredentials})}function qE(t){var n;return{url:t._l,body:null!=(n=GE(t.jd))?n:null,headers:t.hl.Md(),method:t.Fl,useCredentials:t.Vl}}function GE(t){if(t)return"string"==typeof t?Tf(t):t instanceof ArrayBuffer?new g(t):Ch(t)?Cf(t):void 0}var jE=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e)||this).fC=r,u}ze(n,t);var i=n.prototype;return i.oR=function(t,n){return j.resolve(t)},i.aR=function(t,n){var i=this;return _a((function(){var e,r,u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:return[4,i.MR(Bf(t).buffer)];case 1:return e=c.sent(),r=i.QI(e,jw.Od,E_.Pl,n),[4,OE(i.fC,r,void 0,n)];case 2:if((u=c.sent())instanceof ArrayBuffer)return[2,new g(u)];if(""===u._l)throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");c.label=3;case 3:return c.trys.push([3,7,,8]),[4,i.o_.ll(u)];case 4:return[4,(s=c.sent()).Wd(n)];case 5:return o=c.sent(),[4,LE(i.fC,o,r,s,void 0,n)];case 6:return[2,c.sent()];case 7:throw Yc(a=c.sent()),new tA(gw.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a);case 8:return[2]}}))}))()},n}(FS);me(),zt();var YE=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,jw.Od)||this).fC=r,u}ze(n,t);var i=n.prototype;return i.oR=function(t,n){var i=this;return _a((function(){var e,r,u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:return i.uR?[2,i.uR]:(e=i.QI(t,jw.Od,E_.Dl,n),[4,NE(i.fC,e,n)]);case 1:if((r=c.sent())instanceof g)return[2,r];if(""===r._l)throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");c.label=2;case 2:return c.trys.push([2,5,,6]),[4,i.o_.ll(r)];case 3:return[4,(u=c.sent()).Wd(n)];case 4:return s=c.sent(),[3,6];case 5:throw Yc(o=c.sent()),new tA(gw.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",o);case 6:return a=zE(e,void 0),[4,PE(i.fC,new g(s),a,u,n)];case 7:return[2,c.sent()]}}))}))()},i.aR=function(t,n){var i=this;return _a((function(){var e,r,u,s,o;return ma(this,(function(a){switch(a.label){case 0:return e=i.QI(t,jw.Od,E_.Nl,n),[4,OE(i.fC,e,void 0,n)];case 1:if((r=a.sent())instanceof ArrayBuffer)return[2,new g(r)];if(""===r._l)throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.o_.ll(r)];case 3:return[4,(u=a.sent()).Wd(n)];case 4:return s=a.sent(),[4,LE(i.fC,s,e,u,void 0,n)];case 5:return[2,a.sent()];case 6:throw Yc(o=a.sent()),new tA(gw.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o);case 7:return[2]}}))}))()},n}(RE);me(),zt();var QE,ZE,KE=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n,i,e,r,jw.Od)||this).fC=u,s}ze(n,t);var i=n.prototype;return i.oR=function(t,n){var i=this;return _a((function(){var t,e,r,u,s,o;return ma(this,(function(a){switch(a.label){case 0:return i.uR?[2,i.uR]:(t=i.rC(n),[4,NE(i.fC,t,n)]);case 1:if(e=a.sent(),Ch(e))return[2,e];a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.o_.ll(e)];case 3:return[4,(r=a.sent()).Wd()];case 4:return u=a.sent(),s=zE(t,void 0),[4,PE(i.fC,new g(u),s,r,n)];case 5:return[2,a.sent()];case 6:throw Yc(o=a.sent()),new tA(gw.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",o);case 7:return[2]}}))}))()},i.aR=function(t,n){var i=this;return _a((function(){var e,r,u,s,o;return ma(this,(function(a){switch(a.label){case 0:return e=i.QI(t,jw.Od,E_.Rl,n),[4,OE(i.fC,e,i.vC,n)];case 1:if((r=a.sent())instanceof ArrayBuffer)return[2,new g(r)];if(""===r._l)throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.o_.ll(r)];case 3:return[4,(u=a.sent()).Wd(n)];case 4:return s=a.sent(),[4,LE(i.fC,s,e,u,i.vC,n)];case 5:return[2,a.sent()];case 6:throw Yc(o=a.sent()),new tA(gw.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o);case 7:return[2]}}))}))()},i.nC=function(n){var i;return this.vC=n,(null==(i=this.fC)?void 0:i.extractFairplayContentId)?j.resolve(this.fC.extractFairplayContentId(n)):t.prototype.nC.call(this,n)},n}(JS),JE=function(){function t(){}var n=t.prototype;return n.dC=function(t,n,i,e){switch(t.Tf.Gs){case Pa.zs:return this.lC(n,i,e);case Pa.Xs:return this.wC(n,i,e);case Pa.Ws:return this._C(t,n,i,e);case Pa.Vs:default:return this.gC(n,i,e)}},n.lC=function(t,n,i){var e=function(t){return t.integration===OT&&cr(t.customIntegrationId)}(t)?t.customIntegrationId:t.integration;if(e&&jT.SR.AR(e,za)){var r=jT.SR.bR(e,za,t);return new YE(t,n,i,r)}switch(e){case yT:return new AS(t,n,i);case bT:return new kS(t,n,i);case kT:return new TS(t,n,i);case pT:return new IS(t,n,i);case ET:return new DS(t,n,i);case RT:return new PS(t,n,i);case CT:return new xS(t,n,i);case DT:return new LS(t,n,i);case ST:default:return new RE(t,n,i,jw.Od)}},n.wC=function(t,n,i){var e=t.integration;if(e&&jT.SR.AR(e,Ua)){var r=jT.SR.bR(e,Ua,t);return new jE(t,n,i,r)}switch(e){case yT:return new HS(t,n,i);case bT:return new zS(t,n,i);case kT:return new VS(t,n,i);case pT:return new WS(t,n,i);case ET:return new jS(t,n,i);case CT:return new YS(t,n,i);case DT:return new KS(t,n,i);case ST:default:return new FS(t,n,i)}},n._C=function(t,n,i,e){var r=n.integration;if(r&&jT.SR.AR(r,Ga)){var u=jT.SR.bR(r,Ga,n);return new KE(t,n,i,e,u)}switch(r){case AT:return new $S(t,n,i,e);case bT:return new tE(t,n,i,e);case TT:return new eE(t,n,i,e);case yT:return new rE(t,n,i,e);case kT:return new uE(t,n,i,e);case pT:return new sE(t,n,i,e);case ST:return new oE(t,n,i,e);case ET:return new aE(t,n,i,e);case IT:return new cE(t,n,i,e);case RT:return new hE(t,n,i,e);case CT:return new fE(t,n,i,e);case NT:return new vE(t,n,i,e);case DT:return new dE(t,n,i,e);case PT:return new lE(t,n,i,e);case BT:return new EE(t,n,i,e);default:return new JS(t,n,i,e,jw.dr)}},n.gC=function(t,n,i){return new IE(t,n,i)},n.mC=function(t){return t.Gs===Pa.Xs||t.Gs===Pa.zs||t.Gs===Pa.Ws||t.Gs===Pa.Vs},n.Mf=function(t,n){var i;if(t.Gs!==Pa.Xs)return!1;if(er(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!jT.SR.AR(e,Ga))&&(e===yT&&new US(n).Mf)},n.PR=function(t,n){if(t.Gs===Pa.zs){var i=n.integration;if(!i||!jT.SR.AR(i,Ga))return i===yT?AS.PR():void 0}},t}();me(),zt(),me(),zt(),(ZE=QE||(QE={}))[ZE.yC=0]="yC",ZE[ZE.pC=1]="pC",ZE[ZE.AC=2]="AC",ZE[ZE.kC=3]="kC",ZE[ZE.bC=4]="bC",ZE[ZE.Qg=5]="Qg",ZE[ZE.TC=6]="TC",ZE[ZE.SC=7]="SC",ZE[ZE.Jg=8]="Jg",ZE[ZE.EC=9]="EC",ZE[ZE.IC=10]="IC",me(),zt(),Ae();var $E=function(){function t(){}return t.prototype.RC=function(t){},pe(t,[{key:"NC",get:function(){return 0}},{key:"DC",get:function(){return 0}}]),t}();me(),zt();var tI=function(){function t(t,n){void 0===n&&(n=new JE),this.FR=void 0,this.hI=t,this.BC=n}var n=t.prototype;return n.OC=function(t){this.FR=t},n.PR=function(t){var n=this.FR;if(void 0!==n)return this.BC.PR(t,n)},n.Mf=function(t){var n=this.FR;return void 0!==n&&this.BC.Mf(t,n)},n.xC=function(t){var n={Tf:t.Tf,LC:t.LC||[],KR:t.KR},i=this.BC.dC(n,this.FR||{},t.UI,this.hI);return new nI(i)},t}(),nI=function(){function t(t){this.MC=t}var n=t.prototype;return n.GI=function(t){return this.MC.GI(t)},n.jI=function(t,n,i){return this.MC.jI(n,i)},n.sR=function(){return this.MC.sR||void 0!==this.MC.uR},n.oR=function(t,n){return this.MC.oR(t,n)},n.aR=function(t,n,i){return n&&this.MC.WI(n),this.MC.aR(t,i)},n.Io=function(){this.MC.bv()},t}();me(),zt();var iI=function(t){function n(n){var i;(i=t.call(this)||this).FC=[],i.UC=function(t){i.U_(t.w_)},i.HC=function(t){var n=t.w_;i.XC(n)||i.H_(n)};for(var e=0;e<n.length;e++){var r=n[e];i.zC(r)}return i}ze(n,t);var i=n.prototype;return i.zC=function(t){this.FC.push(t);for(var n=0,i=t.z_;n<i.length;n++){var e=i[n];this.U_(e)}this.VC(t)},i.WC=function(t){Cc(this.FC,t),this.qC(t);for(var n=0,i=t.z_;n<i.length;n++){var e=i[n];this.XC(e)||this.H_(e)}},i.XC=function(t){for(var n=0,i=this.FC;n<i.length;n++){if(i[n].X_(t))return!0}return!1},i.VC=function(t){t.zo(Am.a_,this.UC),t.zo(Am.h_,this.HC)},i.qC=function(t){t.Go(Am.a_,this.UC),t.Go(Am.h_,this.HC)},i.bv=function(){for(;this.FC.length>0;)this.WC(this.FC[0]);t.prototype.bv.call(this)},i.l_=function(){return my(this)},n}(Mm);function eI(t){return{get enabled(){return t.J_},set enabled(n){t.J_=Ym(n)},get currentLatency(){return t.zm},get streamConfiguration(){if(void 0!==t.GC)return function(t){return{get minimumOffset(){return t.Bm},get maximumOffset(){return t.xm},get targetOffset(){return t.Om},get forceSeekOffset(){return t.Lm},get minimumPlaybackRate(){return t.Mm},get maximumPlaybackRate(){return t.Fm}}}(t.GC)},get configuration(){return function(t){return{get minimumOffset(){return t.Bm},set minimumOffset(n){t.Bm=Zm(n)},get maximumOffset(){return t.xm},set maximumOffset(n){t.xm=Zm(n)},get targetOffset(){return t.Om},set targetOffset(n){t.Om=Zm(n)},get forceSeekOffset(){return t.Lm},set forceSeekOffset(n){t.Lm=Zm(n)},get minimumPlaybackRate(){return t.Mm},set minimumPlaybackRate(n){t.Mm=Zm(n)},get maximumPlaybackRate(){return t.Fm},set maximumPlaybackRate(n){t.Fm=Zm(n)},update:function(n){t.gf(function(t){var n={};void 0!==t.minimumOffset&&(n.Bm=Zm(t.minimumOffset));void 0!==t.maximumOffset&&(n.xm=Zm(t.maximumOffset));void 0!==t.targetOffset&&(n.Om=Zm(t.targetOffset));void 0!==t.forceSeekOffset&&(n.Lm=Zm(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.Mm=Zm(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.Fm=Zm(t.maximumPlaybackRate));return n}(n))}}}(t.Sf)}}}me(),zt(),Ae(),me(),zt();var rI,uI=function(){function t(){this.jC={Lm:0,xm:0,Fm:0,Bm:0,Mm:0,Om:0,gf:lr}}return pe(t,[{key:"d_",get:function(){return null!=this.v_||(this.v_=eI(this)),this.v_}},{key:"J_",get:function(){return!1},set:function(t){}},{key:"zm",get:function(){}},{key:"GC",get:function(){}},{key:"Sf",get:function(){return this.jC}}]),t}();function sI(){return rI||(rI=Oo&&Oo.document&&Oo.document.createElement("video")),rI}var oI=!(!Oo||!Oo.TextTrack),aI=function(t){function n(n,i,e,r,u,s,o){var a;return void 0===s&&(s=new JE),void 0===o&&(o=Uw()),(a=t.call(this)||this).YC=void 0,a.QC=void 0,a.ZC=void 0,a.KC=new $E,a.JC=new uI,a.$C=function(t){var n=t.ua,i=n.code,e=new bw(function(t){switch(t){case 1:return gw.MEDIA_ABORTED;case 2:return gw.NETWORK_ERROR;case 3:return gw.MEDIA_DECODE_ERROR;case 4:return gw.SOURCE_NOT_SUPPORTED;case 5:return gw.CONTENT_PROTECTION_ERROR;case 6:return gw.LICENSE_ERROR;case 7:return gw.AD_ERROR}}(i),"Something went wrong during native playback.",n),r=new nA(i,e.message,n.message);a.tN(e,r)},a.nN=function(){a.Ho(new vp(a.pm,a.Hy))},a.iN=function(t){a.Im||(a.eN=void 0),a.Ho(t)},a.rN=function(t){a.eN=void 0},a.uN=function(){a.Ho(new SA(a.zy))},a.sN=function(){a.Dm>0&&a.Nm>0&&a.Ho(new dT)},a.oN=function(t){a.Km.U_(new _A(t.track))},a.aN=function(t){var n=hI(a.Km,t.track);n&&a.Km.H_(n)},a.cN=function(){a.hN(a.Km)},a.fN=function(t){a.Jm.U_(new mA(t.track))},a.vN=function(t){var n=hI(a.Jm,t.track);n&&a.Jm.H_(n)},a.dN=function(){a.hN(a.Jm)},a.lN=function(t){a.Ho(t),a.tN(t.errorObject,eA(t.errorObject))},a.wN=i,a.hI=e,a.uo=o,a._N=a.wN.gN(Tp.Ll),a.mN=a._N.yN.preload,a.pN=new gT(a._N,!0),a.pN.zo(ap,a.Uo),a.AN=new tI(e,s),a._N.kN=a.AN,a.bN(),a.Km=new rA,a.Jm=new rA,a.TN(),a.SN=new uT(a._N,a.hI),a.$m=new iI([a._N.vy]),a.Ry(),a}ze(n,t);var i=n.prototype;return i.Cy=function(){this._N.Cy()},i.Ry=function(){this._N.Ry()},i.py=function(t,n,i){var e=this;return _a((function(){var r;return ma(this,(function(u){switch(u.label){case 0:return jc(i),r={Gs:fT.gI,Og:t.src,Gd:t.type,EN:e.IN(t),Jy:e.mN,RN:t.crossOrigin,CN:n.metadata&&n.metadata.title},e.AN.OC(t.contentProtection),[4,e._N.wf(r)];case 1:return e.YC=u.sent(),jc(i),n.textTracks&&e.NN(n.textTracks),hT(e.vy),[2]}}))}))()},i.NN=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this._N.DN()&&tr.fe&&oI&&!Jb(i.kind,i.label)&&this.PN(i)){var e,r=null!=(e=i.kind)?e:Mb.Pb;this._N.BN(i.src,r,i.label,i.srclang,i.default)}else{if(void 0===i.src)continue;this.SN.fI(i)}}},i.PN=function(t){return!t.format||"webvtt"===t.format},i.wy=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t._N.wy()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return t.ON?[3,5]:[4,t._N.Zo(qw._d)];case 4:return n.sent(),[3,3];case 5:return[2]}}))}))()},i._y=function(){this._N._y()},i.Ay=function(){return void 0!==this._N.yN.webkitShowPlaybackTargetPicker},i.by=function(){this._N.yN.webkitShowPlaybackTargetPicker&&this._N.yN.webkitShowPlaybackTargetPicker()},i.Ty=function(){this._N.yN.webkitShowPlaybackTargetPicker&&this._N.yN.webkitShowPlaybackTargetPicker()},i.Ny=function(){return this._N.yN},i.Dy=function(){return this._N.xN},i.Nf=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return t.QC=void 0,t.ZC=void 0,t.YC=void 0,[4,t.SN.Nf()];case 1:return n.sent(),t._N.LN(),[4,t._N.Nf()];case 2:return n.sent(),t.pN.Nf(),t.Jy=t.mN,t.sy.Nf(),t.oy.Nf(),t.eN=void 0,[2]}}))}))()},i.bv=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return[4,t.Nf()];case 1:return n.sent(),t.qo(),t.MN(),t.FN(),t.pN.bv(),t._N.kN=void 0,[4,t.wN.UN(t._N)];case 2:return n.sent(),t.Km.bv(),t.Jm.bv(),t.$m.bv(),[4,t.SN.bv()];case 3:return n.sent(),[2]}}))}))()},i.bN=function(){this._N.zo(qw.wd,this.Uo),this._N.zo(qw.ld,this.Uo),this._N.zo(qw.Cd,this.nN),this._N.zo(qw._d,this.Uo),this._N.zo(qw.od,this.Uo),this._N.zo(qw.kd,this.Uo),this._N.zo(qw.Ad,this.iN),this._N.zo(qw.ed,this.Uo),this._N.zo(qw.md,this.Uo),this._N.zo(qw.Nd,this.Uo),this._N.zo(qw.$v,this.Uo),this._N.zo(qw.pd,this.sN),this._N.zo(up.ym,this.rN),this._N.zo(vy.Ag,this.$C),this._N.zo(qw.Zv,this.Uo),this._N.zo(qw.Qv,this.lN),this._N.yN.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.uN)},i.MN=function(){this._N.Go(qw.wd,this.Uo),this._N.Go(qw.ld,this.Uo),this._N.Go(qw.Cd,this.nN),this._N.Go(qw._d,this.Uo),this._N.Go(qw.od,this.Uo),this._N.Go(qw.kd,this.Uo),this._N.Go(qw.Ad,this.iN),this._N.Go(qw.ed,this.Uo),this._N.Go(qw.md,this.Uo),this._N.Go(qw.Nd,this.Uo),this._N.Go(qw.$v,this.Uo),this._N.Go(qw.pd,this.sN),this._N.Go(up.ym,this.rN),this._N.Go(vy.Ag,this.$C),this._N.Go(qw.Zv,this.Uo),this._N.Go(qw.Qv,this.lN),this._N.yN.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.uN)},i.IN=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Tf:Za,HN:[{initDataTypes:[Za.Ys],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.TN=function(){var t=this._N.yN.audioTracks,n=this._N.yN.videoTracks;t&&(t.addEventListener("addtrack",this.oN),t.addEventListener("removetrack",this.aN),t.addEventListener("change",this.cN)),n&&(n.addEventListener("addtrack",this.fN),n.addEventListener("removetrack",this.vN),n.addEventListener("change",this.dN))},i.FN=function(){var t=this._N.yN.audioTracks,n=this._N.yN.videoTracks;t&&(t.removeEventListener("addtrack",this.oN),t.removeEventListener("removetrack",this.aN),t.removeEventListener("change",this.cN)),n&&(n.removeEventListener("addtrack",this.fN),n.removeEventListener("removetrack",this.vN),n.removeEventListener("change",this.dN))},i.hN=function(t){for(var n=0;n<t.V_;n++){t.F_(n).hp()}},i.My=function(){this._N.My()},i.Fy=function(){},i.tN=function(t,n){this.QC||(this.QC=n,this.ZC=t,this.Ho(new Ap(t)))},pe(n,[{key:"ON",get:function(){var t=this._N.Uy,n=this.pm;return t.XN(n,.01)}},{key:"sy",get:function(){return this.Km}},{key:"Uy",get:function(){return this._N.Uy.zN()}},{key:"Hy",get:function(){return this._N.Hy},set:function(t){t&&this._N.VN(t)}},{key:"pm",get:function(){return void 0!==this.eN?this.eN:this._N.pm},set:function(t){this.zy&&(this.eN=t),this._N.Ba(t)}},{key:"Am",get:function(){return this._N.Am}},{key:"Tm",get:function(){return this._N.Tm}},{key:"ua",get:function(){return this.QC}},{key:"Sm",get:function(){return this.ZC}},{key:"ly",get:function(){}},{key:"zy",get:function(){return this._N.zy}},{key:"Vy",get:function(){return ga({},{Wy:0,qy:0,Gy:0,jy:0,Yy:0,Qy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this._N.WN())}},{key:"Em",get:function(){return this._N.Em},set:function(t){this._N.Em=t}},{key:"Zy",get:function(){return!0}},{key:"Im",get:function(){return this._N.Im}},{key:"Rm",get:function(){return this._N.Rm},set:function(t){this._N.Rm=t}},{key:"Ky",get:function(){return this._N.yN.played}},{key:"Jy",get:function(){return this.mN},set:function(t){this.mN=t,this.YC&&(this.YC.Jy=t)}},{key:"Dg",get:function(){return this._N.Dg}},{key:"$y",get:function(){return this._N.$y.zN()}},{key:"Cm",get:function(){return this._N.Cm}},{key:"qN",get:function(){return this._N.qN}},{key:"vy",get:function(){return this.$m}},{key:"oy",get:function(){return this.Jm}},{key:"Nm",get:function(){return this._N.Nm}},{key:"Dm",get:function(){return this._N.Dm}},{key:"Pm",get:function(){return this._N.Pm},set:function(t){this._N.Pm=t}},{key:"tp",get:function(){return this.JC}},{key:"np",get:function(){return this._N.np},set:function(t){this._N.np=t}},{key:"GN",get:function(){return this.KC}}]),n}(py);var cI=function(){function t(){this.jN=QE.IC}var n=t.prototype;return n.gR=function(t,n,i,e,r,u){return new aI(t,n,i,e,r)},n.YN=function(t,n){return function(t){return!t.type||!(!sI().canPlayType||!sI().canPlayType(t.type))}(t)},n.QN=function(){return!1},t}();function hI(t,n){for(var i=0,e=t.z_;i<e.length;i++){var r=e[i];if(r.dp===n)return r}}var fI=function(){function t(){this.ZN=new cI,this.KN=[]}var n=t.prototype;return n.JN=function(t){this.KN.push(t)},n.gR=function(t,n,i,e,r,u){for(var s=this.ZN.gR(t,n,i,e,r,u),o=0,a=this.KN;o<a.length;o++){s=(0,a[o])(s,i,e)}return s},n.YN=function(t,n){return this.ZN.YN(t,n)},n.QN=function(){return!1},t.$N=function(){return this.Ze},pe(t,[{key:"jN",get:function(){return this.ZN.jN}}]),t}();function vI(t,n){return kc(t.jN,n.jN)}function dI(t){lI.Ze.tD(t)}fI.Ze=new fI,me(),zt(),me(),zt();var lI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).nD=fI.$N(),n}ze(n,t);var i=n.prototype;return i.iD=function(t){this.nD=t},i.eD=function(){return this.nD},i.rD=function(t,n){var i=this;return _a((function(){var e,r,u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:e=0,c.label=1;case 1:return e<t.length?(r=t[e],[4,i.uD(r,n)]):[3,4];case 2:if(u=c.sent())return[2,{sD:r,oD:u}];c.label=3;case 3:return e++,[3,1];case 4:for(s=i.nD,o=0;o<t.length;o++)if(a=t[o],s.YN(a,n))return[2,{sD:a,oD:s}];return[2,{sD:t[0],oD:s}]}}))}))()},n}(function(){function t(){this.aD=[]}var n=t.prototype;return n.tD=function(t){this.aD.push(t),this.aD.sort(vI)},n.uD=function(t,n){var i=this;return _a((function(){var e,r,u,s,o;return ma(this,(function(a){switch(a.label){case 0:e=0,r=i.aD,a.label=1;case 1:return e<r.length?(u=r[e],fr(s=u.YN(t,n))?[4,s]:[3,3]):[3,6];case 2:return o=a.sent(),[3,4];case 3:o=Boolean(s),a.label=4;case 4:if(o)return[2,u];a.label=5;case 5:return e++,[3,1];case 6:return[2,void 0]}}))}))()},t}());lI.Ze=new lI,me(),zt();var wI,_I,gI=function(){function t(t){this.cD=Oo&&Oo.document&&Oo.document.createElement("div"),Wo(this.cD),t.appendChild(this.cD)}return t.prototype.bv=function(){Ho(this.cD)},t}();function mI(t){switch(t){case"auto":case"":return"auto";case"metadata":return"metadata";case"none":default:return"none"}}me(),zt(),Ae(),me(),zt(),(_I=wI||(wI={})).IC="",_I.hD="none",_I.Ob="metadata",_I.fD="auto";var yI=[vy.Ag,qw.td,qw.oa,qw.Bd,qw.Wv,qw.rd,qw.vd,qw.dd,qw.Td,qw.Ed,up.dm,up.lm,up.wm,up._m,up.R_,up.gm,up.ym,qw.Qv,qw.Zv,qw.$v,qw.ed,qw.od,qw.hd,qw.wd,qw._d,qw.ld,qw.md,qw.pd,qw.kd,qw.Ad,qw.Cd,qw.Nd,qw.yd,qw.fd,qw.bd],pI=function(t){function n(n,i){var e;return(e=t.call(this)||this).vD=void 0,e.dD=void 0,e.mN=wI.hD,e.lD=void 0,e.wD=!0,e.Km=new dy,e.Jm=new dy,e.$m=new yy,e.iy=new Zp,e._D=n,e.gD=i,e.gD.Jy=e.Jy,e.mD(),e}ze(n,t);var i=n.prototype;return i._y=function(){this.gD._y()},i.wy=function(){var t=this.gD.wy();fr(t)&&nh(t)},i.gy=function(){return this.py(void 0)},i.Sy=function(){},i.By=function(t){return!1},i.mD=function(){this.Km.Q_=this.gD.sy,this.Jm.Q_=this.gD.oy,this.$m.Q_=this.gD.vy,this.iy.Q_=this.gD.ly,this.gD.zo(yI,this.Uo)},i.yD=function(){this.gD.Go(yI,this.Uo),this.Km.Q_=void 0,this.Jm.Q_=void 0,this.$m.Q_=void 0,this.iy.Q_=void 0},i.yy=function(){return this.lD},i.py=function(t,n){var i=this;return _a((function(){var e,r,u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:return jc(n),i.lD=t,t?Ky(e=t.sources.filter(ip))?[2]:[4,i._D.rD(e,t)]:[2];case 1:return r=c.sent(),jc(n),u=r.sD,s=r.oD,o=i.Dy(),a=Op(i),i.vD!==s||i.ua?(i.yD(),[4,i.gD.bv()]):[3,3];case 2:c.sent(),jc(n),i.vD=s,i.gD=i.pD(s),function(t,n){t.Em!==n.Em&&(t.Em=n.Em);t.Pm!==n.Pm&&(t.Pm=n.Pm);t.Rm!==n.Rm&&(t.Rm=n.Rm)}(i.gD,a),xp(i,a,i),i.mD(),c.label=3;case 3:return i.gD.Jy=i.Jy,i.wD?i.gD.Ry():i.gD.Cy(),[4,i.gD.py(u,t,n)];case 4:return c.sent(),jc(n),i.kD(u),i.Dy()!==o&&i.Ho(new ky),[2]}}))}))()},i.kD=function(t){this.dD!==t&&(this.dD=t,this.Ho(new by(t)))},i.Ay=function(){return this.gD.Ay()},i.by=function(){this.gD.by()},i.Ty=function(){this.gD.Ty()},i.Dy=function(){return this.gD.Dy()},i.My=function(){this.gD.My()},i.Fy=function(){this.gD.Fy()},i.Nf=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return t.lD=void 0,t.kD(void 0),[4,t.gD.Nf()];case 1:return n.sent(),[2]}}))}))()},i.bv=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return t.qo(),[4,t.Nf()];case 1:return n.sent(),[4,t.gD.bv()];case 2:return n.sent(),t.Km.bv(),t.Jm.bv(),t.$m.bv(),t.iy.bv(),[2]}}))}))()},i.Ry=function(){this.wD=!0,this.gD.Ry()},i.Cy=function(){this.wD=!1,this.gD.Cy()},pe(n,[{key:"sy",get:function(){return this.Km}},{key:"Uy",get:function(){return this.gD.Uy}},{key:"ua",get:function(){return this.gD.ua}},{key:"Sm",get:function(){return this.gD.Sm}},{key:"Hy",get:function(){return this.gD.Hy},set:function(t){this.gD.Hy=t}},{key:"Ly",get:function(){return this.dD}},{key:"pm",get:function(){return this.gD.pm},set:function(t){this.gD.pm=t}},{key:"Am",get:function(){return this.gD.Am}},{key:"Tm",get:function(){return this.gD.Tm}},{key:"ly",get:function(){return this.iy}},{key:"zy",get:function(){return this.gD.zy}},{key:"Vy",get:function(){return this.gD.Vy}},{key:"Em",get:function(){return this.gD.Em},set:function(t){this.gD.Em=t}},{key:"Zy",get:function(){return this.gD.Zy}},{key:"Im",get:function(){return this.gD.Im}},{key:"Rm",get:function(){return this.gD.Rm},set:function(t){this.gD.Rm=t}},{key:"Ky",get:function(){return this.gD.Ky}},{key:"Jy",get:function(){return this.mN},set:function(t){this.mN=t,this.gD&&(this.gD.Jy=this.mN)}},{key:"Dg",get:function(){return this.gD.Dg}},{key:"$y",get:function(){return this.gD.$y}},{key:"Cm",get:function(){return this.gD.Cm}},{key:"vy",get:function(){return this.$m}},{key:"Nm",get:function(){return this.gD.Nm}},{key:"oy",get:function(){return this.Jm}},{key:"Dm",get:function(){return this.gD.Dm}},{key:"Pm",get:function(){return this.gD.Pm},set:function(t){this.gD.Pm=t}},{key:"tp",get:function(){return this.gD.tp}},{key:"GN",get:function(){return this.gD.GN}}]),n}(oh);me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),me(),zt(),Ae(),me(),zt(),Ae();var AI,kI,bI=function(t){function n(n,i){var e;return(e=t.call(this)||this).V_=n.length>>1,e.bD=n,e.TD=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.V_),e}ze(n,t);var i=n.prototype;return i.SD=function(t){return this.bD[2*t]},i.ED=function(t){return this.TD[2*t]},i.RD=function(t){return this.bD[2*t+1]},i.CD=function(t){return this.TD[2*t+1]},pe(n,[{key:"ND",get:function(){return this.bD.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Hp=function(t,n){return 0===this.$p(t,n)},n.pA=function(t,n){return this.$p(t,n)>0},n.AA=function(t,n){return this.$p(t,n)>=0},n.rA=function(t,n){return this.$p(t,n)<0},n.iA=function(t,n){return this.$p(t,n)<=0},n.QA=function(t,n){return this.rA(t,n)?t:n},n.YA=function(t,n){return this.pA(t,n)?t:n},n.DD=function(t,n,i){return i?this.iA(t,n):this.rA(t,n)},n.zN=function(){var t=this;return{get length(){return t.V_},start:function(n){var i=0|n;return t.PD(i),t.BD(t.SD(i))},end:function(n){var i=0|n;return t.PD(i),t.BD(t.RD(i))}}},n.OD=function(){for(var t=new Array(2*this.V_),n=new Array(2*this.V_),i=0;i<this.V_;i++)t[2*i]=this.SD(i),t[2*i+1]=this.RD(i),n[2*i]=!0,n[2*i+1]=!0;return this.xD(t,n)},n.PD=function(t){if(t<0)throw new h("The index provided ("+t+") must be non-negative");if(t>=this.V_)throw new h("The index provided ("+t+") is greater than the maximum bound ("+this.V_+")")},n.LD=function(t){if(0===this.V_)return this.MD();if(this.XN(t))return t;if(this.iA(t,this.SD(0)))return this.SD(0);if(this.AA(t,this.RD(this.V_-1)))return this.RD(this.V_-1);for(var n,i=this.FD(),e=0;e<this.V_;e++){var r=this.SD(e),u=this.eA(r,t);this.rA(u,i)&&(n=r,i=u);var s=this.RD(e),o=this.eA(this.RD(e),t);this.rA(o,i)&&(n=s,i=o)}return n},n.UD=function(t){for(var n=0,i=0,e=[],r=[];n<this.V_&&i<t.V_;){var u=this.SD(n),s=this.RD(n),o=this.ED(n),a=this.CD(n),c=t.SD(i),h=t.RD(i),f=t.ED(i),v=t.CD(i),d=this.YA(u,c),l=this.QA(s,h),w=void 0;w=this.Hp(u,c)?o&&f:this.Hp(d,u)?o:f;var _=void 0;_=this.Hp(s,h)?a&&v:this.Hp(l,s)?a:v,(this.rA(d,l)||w&&_&&this.Hp(d,l))&&(e.push(d,l),r.push(w,_));var g=this.$p(this.RD(n),t.RD(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this.xD(e,r)},n.HD=function(){var t=this.XD(),n=t.V_;if(0===n)return this.xD([t.zD(),t.FD()],[!1,!1]);var i=[],e=[],r=t.SD(0);t.Hp(r,t.zD())||(i.push(t.zD(),r),e.push(!1,!t.ED(0)));for(var u=0;u<n-1;u++)i.push(t.RD(u),t.SD(u+1)),e.push(!t.CD(u),!t.ED(u+1));var s=t.RD(n-1);return t.Hp(s,t.FD())||(i.push(s,t.FD()),e.push(!t.CD(n-1),!1)),t.xD(i,e)},n.VD=function(t){for(var n=0,i=0,e=this.V_,r=t.V_,u=new Array(2*(e+r)),s=new Array(2*(e+r)),o=0;n<e&&i<r;){var a=this.SD(n),c=this.RD(n),h=t.SD(i),f=t.RD(i);this.rA(a,h)||this.Hp(a,h)&&this.rA(c,f)?(u[o]=a,u[o+1]=c,s[o]=this.ED(n),s[o+1]=this.CD(n),n++):(u[o]=h,u[o+1]=f,s[o]=t.ED(i),s[o+1]=t.CD(i),i++),o+=2}for(;n<e;)u[o]=this.SD(n),u[o+1]=this.RD(n),s[o]=this.ED(n),s[o+1]=this.CD(n),n++,o+=2;for(;i<r;)u[o]=t.SD(i),u[o+1]=t.RD(i),s[o]=t.ED(i),s[o+1]=t.CD(i),i++,o+=2;return this.xD(u,s)},n.WD=function(t){void 0===t&&(t=this.MD());var n=this.V_;if(n<2)return this;for(var i=[],e=[],r=this.SD(0),u=this.RD(0),s=this.ED(0),o=this.CD(0),a=1;a<n;a++){var c=this.SD(a),h=this.RD(a),f=this.ED(a),v=this.CD(a);this.rA(r,c)&&this.pA(u,h)||(this.Hp(r,c)&&(s=f=s||f),this.Hp(u,h)&&(o=v=o||v),this.DD(c,this.ep(u,t),o||f)?(u=h,o=v):(i.push(r,u),e.push(s,o),r=c,u=h,s=f,o=v))}return i.push(r,u),e.push(s,o),this.xD(i,e).XD()},n.XD=function(){for(var t=[],n=[],i=0;i<this.V_;i++){var e=this.SD(i),r=this.RD(i),u=this.ED(i),s=this.CD(i);this.Hp(e,r)?(u||s)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(u,s))}return this.xD(t,n)},n.qD=function(t){return this.V_?t.V_?this.VD(t).WD():this:t},n.GD=function(t){var n=this.XD(),i=t.XD(),e=n.HD(),r=i.HD(),u=e.UD(i),s=r.UD(n);return u.qD(s)},n.Da=function(t){if(this.Hp(t,this.MD()))return this;for(var n=[],i=[],e=0;e<this.V_;e++){var r=this.ep(this.SD(e),t),u=this.ep(this.RD(e),t);n.push(r,u),i.push(this.ED(e),this.CD(e))}return this.xD(n,i)},n.jD=function(t){return 0===this.V_||0===t.V_?this:this.XD().UD(t.XD().HD())},n.XN=function(t,n){return this.YD(t,n)>=0},n.QD=function(t,n,i,e,r){return this.ZD(t,n,i,e,r)>=0},n.KD=function(t,n,i,e,r){return this.JD(t,n,i,e,r)>=0},n.$D=function(t){if(t.V_!==this.V_)return!1;for(var n=0;n<this.V_;n++)if(!this.Hp(this.SD(n),t.SD(n))||!this.Hp(this.RD(n),t.RD(n))||this.ED(n)!==t.ED(n)||this.CD(n)!==t.CD(n))return!1;return!0},n.tP=function(t){for(var n=[],i=[],e=0;e<this.V_;e++){var r=this.SD(e),u=this.RD(e),s=this.ED(e),o=this.CD(e);t(r,u,s,o)&&(n.push(r,u),i.push(s,o))}return this.xD(n,i)},n.JD=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.MD());for(var u=this.aA(t,r),s=this.ep(n,r),o=0;o<this.V_;o+=1)if(this.DD(this.SD(o),s,!e||this.ED(o))&&this.DD(u,this.RD(o),!i||this.CD(o)))return o;return-1},n.ZD=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.MD());for(var u=this.ep(t,r),s=this.aA(n,r),o=0;o<this.V_;o+=1)if(this.DD(this.SD(o),u,!i||this.ED(o))&&this.DD(s,this.RD(o),!e||this.CD(o)))return o;return-1},n.YD=function(t,n){return this.ZD(t,t,!0,!0,n)},n.nP=function(t,n){void 0===n&&(n=this.MD());for(var i=this.ep(t,n),e=this.V_-1;e>=0;e-=1)if(this.DD(this.SD(e),i,this.ED(e)))return e;return-1},n.iP=function(t,n){void 0===n&&(n=this.MD());for(var i=this.aA(t,n),e=0;e<this.V_;e+=1)if(this.DD(i,this.RD(e),this.CD(e)))return e;return-1},n.eP=function(t){return this.PD(t),this.xD([this.SD(t),this.RD(t)],[this.ED(t),this.CD(t)])},n.rP=function(t,n){var i=this.YD(t,n);return i<0?void 0:this.eP(i)},pe(t,[{key:"uP",get:function(){for(var t=this.MD(),n=0;n<this.V_;n++){var i=this.aA(this.RD(n),this.SD(n));t=this.ep(t,i)}return t}}]),t}()),TI=function(t){function n(n,i){return t.call(this,n,i)}ze(n,t);var i=n.prototype;return i.$p=function(t,n){return t<n?wc.mo:t===n?wc.do:wc._o},i.ep=function(t,n){return t+n},i.aA=function(t,n){return t-n},i.eA=function(t,n){return d.abs(t-n)},i.MD=function(){return 0},i.FD=function(){return 1/0},i.zD=function(){return-1/0},i.xD=function(t,i){return new n(t,i)},i.BD=function(t){return t},n.sP=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.oP=function(t){for(var i=[],e=[],r=0;r<t.V_;r++)i.push(t.SD(r).ZA),i.push(t.RD(r).ZA),e.push(t.ED(r)),e.push(t.CD(r));return new n(i,e)},n.aP=function(t){return new n([t,t],[!0,!0])},n.cP=function(t,i){return t<=i?new n([t,i]):n.hP()},n.hP=function(){return SI},n}(bI),SI=new TI([]);me(),zt(),Ae(),me(),zt(),me(),zt(),(kI=AI||(AI={})).E_="fullscreenchange",kI.fP="fullscreensupportchange",kI.Ag="fullscreenerror";var EI=function(t){function n(){return t.call(this,AI.Ag)}return ze(n,t),n}(fh),II=new(function(t){function n(){return t.apply(this,arguments)}ze(n,t);var i=n.prototype;return i.mp=function(){this.Ho(new EI)},i.pp=function(){},i.bv=function(){this.qo()},pe(n,[{key:"vP",get:function(){return!1}},{key:"dP",get:function(){return!1}}]),n}(oh)),RI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).wN=void 0,n._N=void 0,n}ze(n,t);var i=n.prototype;return i.Ny=function(){var t;return null==(t=this._N)?void 0:t.yN},i.bv=function(){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return[4,t.prototype.bv.call(n)];case 1:return i.sent(),n._N?[4,n.wN.UN(n._N)]:[3,3];case 2:i.sent(),n._N=void 0,i.label=3;case 3:return[2]}}))}))()},pe(n,[{key:"lP",set:function(t){this.wN=t,this._N=t.gN(Tp.Ll)}}]),n}(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).wP=0,n._P=!1,n.gP=!0,n.mP=1,n.yP=!1,n.Qc=1,n.sy=new rA,n.Uy=TI.hP().zN(),n.Am=NaN,n.Tm=!1,n.ua=void 0,n.Sm=void 0,n.ly=void 0,n.zy=!1,n.Zy=!0,n.Ky=TI.hP().zN(),n.Jy=wI.hD,n.Dg=My.im,n.$y=TI.hP().zN(),n.qN=void 0,n.vy=new Ub,n.Nm=0,n.oy=new rA,n.Dm=0,n.tp=new uI,n.KC=new $E,n}ze(n,t);var i=n.prototype;return i.Ry=function(){},i.Cy=function(){},i.wy=function(){this.gP&&(this.gP=!1,this.Ho(new op(this.pm)),this.Ho(new lT(this.pm)))},i._y=function(){this.gP||(this.gP=!0,this.Ho(new vp(this.pm,this.Hy)),this.Ho(new rp(this.pm)))},i.py=function(t,n){return j.resolve()},i.Ay=function(){return!1},i.by=function(){},i.Ty=function(){},i.Dy=function(){return II},i.My=function(){},i.Fy=function(){},i.Nf=function(){var t=this;return _a((function(){return ma(this,(function(n){return t.wP=0,t.yP=!1,t._y(),t.Ho(new ep(t.wP)),[2]}))}))()},i.bv=function(){var t=this;return _a((function(){return ma(this,(function(n){return t.qo(),t.sy.bv(),t.vy.bv(),t.oy.bv(),[2]}))}))()},pe(n,[{key:"Hy",get:function(){},set:function(t){}},{key:"pm",get:function(){return this.wP},set:function(t){this.wP!==t&&(this.wP=t,this.yP=!0,this.Ho(new wp(this.pm)))}},{key:"Vy",get:function(){return{Wy:0,qy:0,Gy:0,jy:0,Yy:0,Qy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Em",get:function(){return this._P},set:function(t){this._P!==t&&(this._P=t,this.Ho(new gp(this.pm,this.Pm)))}},{key:"Im",get:function(){return this.gP}},{key:"Rm",get:function(){return this.mP},set:function(t){this.mP!==t&&(this.mP=t,this.Ho(new fp(this.pm,this.Rm)))}},{key:"Cm",get:function(){return this.yP}},{key:"Pm",get:function(){return this.Qc},set:function(t){this.Qc!==t&&(this.Qc=t,this.Ho(new gp(this.pm,this.Pm)))}},{key:"np",get:function(){return!1},set:function(t){}},{key:"GN",get:function(){return this.KC}}]),n}(oh)),CI=function(t){function n(n,i,e,r,u,s){var o,a=new RI;return(o=t.call(this,lI.Ze,a)||this).pP=n,o.Jf=i,o.hI=e,o.AP=r,o.kP=s,o.bP=new Do(u,o.kP),o.bP.TP(o.pP),a.lP=o.bP,o.SP=new gI(o.pP),o}ze(n,t);var i=n.prototype;return i.Sy=function(){t.prototype.Sy.call(this),this.bP.EP()},i.Ey=function(t){var n,i,e,r;n=this,e=(i=t).Pm,r=i.Em,n.Pm=e,n.Em=r},i.Iy=function(){},i.pD=function(t){return t.gR(this.pP,this.bP,this.hI,this.Jf,this.AP,this.kP)},i.Ny=function(){return this.gD.Ny()},i.Py=function(){return this.bP.IP.map((function(t){return t.yN}))},i.Wo=function(n){t.prototype.Wo.call(this,n)},i.Qo=function(n){t.prototype.Qo.call(this,n)},i.bv=function(){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return[4,t.prototype.bv.call(n)];case 1:return i.sent(),n.bP.bv(),n.SP.bv(),[2]}}))}))()},pe(n,[{key:"Xy",get:function(){return this.pP}},{key:"np",get:function(){return this.gD.np},set:function(t){this.gD.np=t}}]),n}(pI);me(),zt(),Ae(),me(),zt();var NI=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).JC=new uI,r.pP=n,r.RP=i,r.CP=new rA,r.NP=new Ub,r.DP=e,r}ze(n,t);var i=n.prototype;return i.By=function(t){return!0},i.Cy=function(){},i.wy=function(){throw this.Ho(new Ap(this.DP)),this.RP},i._y=function(){},i.yy=function(){},i.py=function(t,n){var i=this;return _a((function(){return ma(this,(function(t){throw jc(n),i.Ho(new Ap(i.DP)),i.RP}))}))()},i.Ry=function(){},i.gy=function(){return j.resolve()},i.Ny=function(){},i.Dy=function(){return II},i.Py=function(){return[]},i.Sy=function(){},i.Ey=function(t){},i.Iy=function(){},i.Ay=function(){return!1},i.by=function(){},i.Ty=function(){},i.My=function(){},i.Fy=function(){},i.Nf=function(){return j.resolve()},i.bv=function(){return this.qo(),this.CP.bv(),this.NP.bv(),j.resolve()},pe(n,[{key:"sy",get:function(){return this.CP}},{key:"Uy",get:function(){return TI.hP().zN()}},{key:"Hy",get:function(){return new Date(NaN)},set:function(t){}},{key:"Ly",get:function(){}},{key:"pm",get:function(){return 0},set:function(t){}},{key:"Am",get:function(){return 0}},{key:"Xy",get:function(){return this.pP}},{key:"Tm",get:function(){return!0}},{key:"ua",get:function(){return this.RP}},{key:"Sm",get:function(){return this.DP}},{key:"ly",get:function(){}},{key:"Vy",get:function(){return{Wy:0,qy:0,Gy:0,jy:0,Yy:0,Qy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Em",get:function(){return!1},set:function(t){}},{key:"Zy",get:function(){return!0}},{key:"Im",get:function(){return!0}},{key:"Rm",get:function(){return 0},set:function(t){}},{key:"Ky",get:function(){return TI.hP().zN()}},{key:"Jy",get:function(){return wI.hD},set:function(t){}},{key:"Dg",get:function(){return My.im}},{key:"$y",get:function(){return TI.hP().zN()}},{key:"Cm",get:function(){return!1}},{key:"vy",get:function(){return this.NP}},{key:"Nm",get:function(){return 0}},{key:"oy",get:function(){return this.CP}},{key:"Dm",get:function(){return 0}},{key:"Pm",get:function(){return 1},set:function(t){}},{key:"tp",get:function(){return this.JC}},{key:"np",get:function(){return!1},set:function(t){}},{key:"zy",get:function(){return!1}}]),n}(Ay);function DI(t){if(t&&or(t))return ga({},t,{integration:PI(t.integration),fairplay:FI(t.fairplay),widevine:BI(t.widevine),playready:OI(t.playready),clearkey:UI(t.clearkey),aes128:HI(t.aes128),integrationParameters:XI(t.integrationParameters),preferredKeySystems:zI(t.preferredKeySystems)})}function PI(t){if(cr(t))return t}function BI(t){if(t&&or(t))return{persistentState:xI(t.persistentState),distinctiveIdentifier:xI(t.distinctiveIdentifier),audioRobustness:LI(t.audioRobustness),videoRobustness:LI(t.videoRobustness),licenseAcquisitionURL:cr(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:MI(t.licenseType),headers:t.headers,useCredentials:!!hr(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:cr(t.certificate)||Nf(t.certificate)?t.certificate:void 0}}function OI(t){if(t){var n=BI(t);if(n)return ga({},n,{customData:cr(t.customData)?t.customData:void 0})}}function xI(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function LI(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function MI(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function FI(t){if(t){var n=BI(t);if(n)return ga({},n,{certificateURL:cr(t.certificateURL)?t.certificateURL:void 0})}}function UI(t){if(t){var n=BI(t);if(n)return ga({},n,{keys:ur(t.keys)?t.keys.map((function(t){return function(t){if(!t||!or(t))return;var n=t.id,i=t.value;if(!cr(n)||!cr(i))return;return{id:n,value:i}}(t)})).filter(er):void 0})}}function HI(t){if(or(t))return{useCredentials:hr(t.useCredentials)?t.useCredentials:void 0}}function XI(t){if(or(t))return t}function zI(t){return t&&ur(t)?t.map((function(t){return vS(t)})).filter(er):[za,Ua,Ga]}me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),Ae(),me(),zt(),me(),zt();var VI=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return ze(n,t),n}(fh);me(),zt(),me(),zt();var WI,qI,GI=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).PP=[],e.BP=function(t){th((function(){e.Uo(t)}))},e.OP=i?e.BP:e.Uo,e}ze(n,t);var i=n.prototype;return i.xP=function(t){t.Wo(this.OP),this.PP.push(t)},i.LP=function(t){t.Qo(this.OP),Cc(this.PP,t)},i.bv=function(){this.qo();for(var t=0,n=this.PP;t<n.length;t++){n[t].Qo(this.OP)}Pc(this.PP)},n}(py),jI=function(t){function n(){return t.apply(this,arguments)}return ze(n,t),n}(GI);(qI=WI||(WI={})).INLINE="inline",qI.FULLSCREEN="fullscreen",qI.PICTURE_IN_PICTURE="picture-in-picture";var YI,QI,ZI=function(t){function n(n){var i;return(i=t.call(this)||this).MP=!1,i.FP=!1,i.v_=void 0,i.UP=function(){return i.HP()},i.XP=function(){return i.zP()},i.VP=n,i.WP=i.qP=i.GP=i.jP="inline",i.VP.zo(AI.E_,i.UP),i.VP.zo(AI.Ag,i.XP),i.YP(),i}ze(n,t);var i=n.prototype;return i.l_=function(){return t=this,i={get currentMode(){return t.QP()},requestMode:function(n){var i=JI(n);i&&t.ZP(i)},supportsMode:function(n){var i=JI(n);return!!i&&t.KP(i)},addEventListener:function(t,i){n.zo(t,i)},removeEventListener:function(t,i){n.Go(t,i)}},(n=new GI(i,!0)).xP(t),i;var t,n,i},i.ZP=function(t){this.JP(t,t)},i.JP=function(t,n){this.qP!==n&&(this.MP=!0,this.WP=t,this.$P(n,this.qP),"fullscreen"!==t&&(this.GP=t),this.MP=!1,this.YP())},i.QP=function(){return this.FP?"fullscreen":"inline"},i.KP=function(t){switch(t){case"fullscreen":return this.VP.dP;case"inline":return!0}return!1},i.YP=function(){if(!this.MP){var t=this.qP,n=this.QP();this.qP=n,"fullscreen"!==n&&(this.jP=n),t!==n&&this.Ho(new VI(n))}},i.$P=function(t,n){var i="fullscreen"===t;this.FP=i,i!==this.VP.vP&&(i?this.VP.mp():this.VP.pp())},i.HP=function(){if(!this.MP){var t=this.VP.vP;this.FP=t,t?this.JP("fullscreen","fullscreen"):t||"fullscreen"!==this.WP?this.YP():this.JP(this.GP,this.jP)}},i.zP=function(){this.HP(),this.Ho(new Ap(new bw(gw.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},i.bv=function(){this.VP.bv(),this.qo()},pe(n,[{key:"d_",get:function(){return this.v_||(this.v_=this.l_()),this.v_}}]),n}(py),KI={pm:0,Am:NaN,Tm:!1,ua:void 0,Sm:void 0,Em:!1,Im:!0,Rm:1,Dg:My.im,Cm:!1,Nm:0,Dm:0,Pm:1};function JI(t){switch(t){case WI.INLINE:case WI.FULLSCREEN:case WI.PICTURE_IN_PICTURE:return t;default:return}}me(),zt(),Ae(),(QI=YI||(YI={})).DEFAULT="",QI.THEO="theo",QI.GOOGLE_IMA="google-ima",QI.SPOTX="spotx",QI.FREEWHEEL="freewheel",QI.MEDIATAILOR="mediatailor";var $I,tR,nR,iR,eR,rR,uR,sR,oR,aR,cR,hR,fR,vR,dR,lR=function(){function t(){this.tB=[]}var n=t.prototype;return n.nB=function(t){var n=this.iB.filter((function(n){return n.eB(t)}));if(n.length>1)0;else if(0===n.length)throw h("Unknown ad integration: "+t.integration);return n[0]||null},n.rB=function(t){this.tB.push(t)},pe(t,[{key:"iB",get:function(){return this.tB}}]),t}();lR.Ze=new lR,me(),zt(),me(),zt(),me(),zt(),me(),zt(),(tR=$I||($I={})).ym="PLAYING",tR.jm="PAUSED",tR.uB="SEEK",tR.sB="STALLED",tR.oB="FAILED",tR.aB="INITIAL_BUFFERING",tR.cB="NO_ACCESS",(iR=nR||(nR={})).hB="HTTP_REQUEST_STATUS_CODE_1XX",iR.fB="HTTP_REQUEST_STATUS_CODE_2XX",iR.vB="HTTP_REQUEST_STATUS_CODE_3XX",iR.dB="HTTP_REQUEST_STATUS_CODE_4XX",iR.lB="HTTP_REQUEST_STATUS_CODE_5XX",iR.wB="BUFFER_LENGTH",iR._B="BYTES_RECEIVED",iR.gB="SEGMENT_READ_BITRATE",iR.mB="SEGMENT_PROFILE_BITRATE",iR.yB="VIDEO_PROFILE_BITRATE",iR.pB="NUMBER_OF_FRAMES_DROPPED",iR.AB="PLAYBACK_POSITION",iR.kB="NUMBER_OF_FRAMES_DECODED",iR.bB="PLAYBACK_DELTA_TO_ORIGIN",iR.TB="STREAM_DELTA_TO_ORIGIN",iR.SB="ORIGIN_TIMESTAMP",(rR=eR||(eR={})).EB="MANIFEST_URI",rR.IB="ASSET_DURATION",rR.RB="NUMBER_OF_CONTENT_PROFILES",rR.CB="CDN",rR.NB="CONTENT_TITLE",rR.DB="SERVICE_NAME",rR.PB="CONTENT_TYPE",rR.BB="CONTENT_DESCRIPTION",(uR||(uR={})).OB="shutdown_normal_shutdown",(oR=sR||(sR={})).xB="session/",oR.LB="content/",oR.MB="internalError/",oR.FB="drmError/",oR.UB="caError/",oR.HB="networkError/",(cR=aR||(aR={})).XB="userAction",cR.zB="endOfStreamReached",me(),zt(),me(),zt(),(fR=hR||(hR={})).PAUSE="VB",fR.RESUME="WB",me(),zt(),me(),zt(),me(),zt(),me(),zt(),(dR=vR||(vR={})).UNAVAILABLE="unavailable",dR.AVAILABLE="available",dR.CONNECTING="connecting",dR.CONNECTED="connected";var wR,_R,gR,mR,yR,pR,AR,kR,bR,TR,SR,ER,IR="agama";function RR(t){switch(t){case"":return wR.NONE;case"horizontal":return wR.HORIZONTAL;case"vertical":return wR.VERTICAL;default:throw new f}}function CR(t,n){if(n)return gR.PM360;if(null==t)return gR.NONE;switch(t){case"":return gR.NONE;case"360":return gR.PM360;case"180":return gR.PM180;default:throw new f("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}function NR(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!cr(t))return"auto";switch(t){case"always":return"always";case"never":return"never";case"clear-only":return"clear-only";case"same-drm-only":return"same-drm-only";default:return"auto"}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:Qm(null==t?void 0:t.needsTimescaleShifting),desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?Zm(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:Qm(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:Qm(null==t?void 0:t.ignoreAvailabilityWindow),forceHardSwitchWhenSeekingBackwards:Qm(null==t?void 0:t.forceHardSwitchWhenSeekingBackwards)}}function DR(t){if(!t||!cr(t))return"auto";switch(t){case"playlist":return"playlist";case"media":return"media";default:return"auto"}}function PR(t){if(null!==t)return t}function BR(t){var n={};if(!or(t))return n;var i=t;for(var e in i)if(v.prototype.hasOwnProperty.call(i,e)){var r=i[e];cr(r)&&(n[e]=r)}return n}function OR(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:PR(t.streamActivityMonitorID),adTagParameters:or(t.adTagParameters)?t.adTagParameters:{},authToken:PR(t.authToken),omidAccessModeRules:t.omidAccessModeRules?BR(t.omidAccessModeRules):void 0};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var e=t.videoID,r=t.contentSourceID;return e?r?ga({},i,{availabilityType:"vod",videoID:e,contentSourceID:r}):void De.$u("A VOD DAI configuration was provided without valid contentSourceID which is required."):void De.$u("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?ga({},i,{availabilityType:"live",assetKey:u}):void De.$u("A Live DAI configuration was provided without valid assetKey which is required.")}De.$u("A DAI configuration was provided without a valid availabilityType which is required.")}function xR(t){if(!rS(t)||!t.integration)return t;switch(t.integration){case ST:return n=t,i=fS(Pa.zs,n),e=fS(Pa.Xs,n),r=n[Pa.Ws]&&fS(Pa.Ws,n),ga({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}me(),zt(),me(),zt(),(_R=wR||(wR={})).NONE="",_R.HORIZONTAL="horizontal",_R.VERTICAL="vertical",me(),zt(),(mR=gR||(gR={})).NONE="",mR.PM360="360",mR.PM180="180",me(),zt(),me(),zt(),me(),zt(),(pR=yR||(yR={})).fD="auto",pR.qB="always",pR.GB="never",pR.CLEAR_ONLY="clear-only",pR.SAME_DRM_ONLY="same-drm-only",me(),zt(),(kR=AR||(AR={})).fD="auto",kR.jB="playlist",kR.YB="media",(TR=bR||(bR={})).VERIZON_MEDIA="verizon-media",TR.MEDIATAILOR="mediatailor",me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),(ER=SR||(SR={})).ASSET="asset",ER.CHANNEL="channel",ER.EVENT="event",me(),zt();var LR="https://content.uplynk.com";function MR(t){if(!t)return!0;var n,i,e=!(Zy(n=t.sources)||sr(n)&&Zy(n[0]))||Ky(t.sources),r=!t.ads||(!(i=t.ads)||ur(i)&&0===i.length),u=""!==t.poster&&!t.poster;return e&&r&&u}function FR(t){if(t&&t.sources)return UR(t.sources)}function UR(t){return cr(t)?t:Yy(t)?t.src:sr(t)&&t.length>0?UR(t[0]):void 0}function HR(t,n,i){return qy(t)?function(t,n,i){var e=ga({},Jy(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:bR.VERIZON_MEDIA,id:"",prefix:LR,preplayParameters:{},playbackUrlParameters:{},assetType:SR.ASSET,contentProtected:!1,assetInfo:!0});e.id=function(t){if(cr(t))return t;if(sr(t)&&cr(t[0]))return t;if(or(n=t)&&cr(n.userId)&&(sr(n.externalId)||cr(n.externalId)))return t;var n;return""}(t.id),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return SR.CHANNEL;case"event":return SR.EVENT;case"asset":default:return SR.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=Ym(t.contentProtected));t.assetInfo?e.assetInfo=Ym(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=Jm(t.prefix)||LR);return e.ping=function(t,n){var i=!1,e=!1,r=!1;n?(i=!!hr(n.adImpressions)&&n.adImpressions,e=!!hr(n.freeWheelVideoViews)&&n.freeWheelVideoViews,r=hr(n.linearAdData)?n.linearAdData:t!==SR.ASSET):t!==SR.ASSET&&(r=!0);return{adImpressions:i,freeWheelVideoViews:e,linearAdData:r}}(e.assetType,t.ping),e=VR(e=WR(e=zR(e,t),n,i),t,i)}(t,n,i):Gy(t)?function(t,n,i){var e;return ga({},XR(t,n,i),{integration:bR.MEDIATAILOR,adParams:null!=(e=t.adParams)?e:{}})}(t,n,i):XR(t,n,i)}function XR(t,n,i){var e=$y(),r=n&&(n.contentProtection||n.drm);if(cr(t)){if(e.src=t,e.type=Xy(t),r){var u=DI(r);e.contentProtection=xR(u)}}else if(Yy(t)||Wy(t)){e.src=t.src,e.type=t.type||Xy(t.src),e.isAdvertisement=t.isAdvertisement;var s=Qy(t)?t.hesp:void 0;void 0!==s&&(e.hesp=s),Gy(t)&&(e.integration=t.integration);var o=DI(t.contentProtection||t.drm||r);e.contentProtection=xR(o),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return OR(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=zR(e,t)}return e=VR(e=WR(e,n,i),t,i)}function zR(t,n){var i,e;n.useCredentials?t.crossOrigin=Cy.nm:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case Cy.tm:case Cy.nm:return t;default:return Cy.$g}}(n.crossOrigin)),cr(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Ym(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Ym(n.useNativePlayback)),n.dash&&(t.dash=NR(n.dash)),n.hls&&(t.hls={discontinuityAlignment:DR(null==(i=n.hls)?void 0:i.discontinuityAlignment),useLegacy:(e=null==i?void 0:i.useLegacy,er(e)?Boolean(e):void 0)}),n.lcevc&&(t.lcevc=Ym(n.lcevc));var r=Qm(n.experimentalRendering);void 0!==r&&(t.experimentalRendering=r);var u=Qm(n.nativeUiRendering);return void 0!==u&&(t.nativeUiRendering=u),t}function VR(t,n,i){return t.abr=function(t,n){var i;if(er(t)||er(n))return Np(Dp(null==t?void 0:t.preferredAudioCodecs,null==n?void 0:n.preferredAudioCodecs),Dp(null==t?void 0:t.preferredVideoCodecs,null==n?void 0:n.preferredVideoCodecs),null!=(i=null==t?void 0:t.restrictToPlayerSize)?i:null==n?void 0:n.restrictToPlayerSize)}(cr(n)?void 0:Cp(n.abr),null==i?void 0:i.abr),t}function WR(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!er(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!er(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===Cy.$g&&(null==n||null==(e=n.vr)?void 0:e[360])&&(t.crossOrigin=Cy.tm),t.useCredentials=t.crossOrigin===Cy.nm,cr(r)&&!t.timeServer&&(t.timeServer=r),t}function qR(t){var n={src:""};if(t&&t.src){if(n.src=Jm(t.src),"default"in t&&(n.default=Ym(t.default)),n.kind=Xb(t.kind),function(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function GR(t,n){if(ar(t))try{return n.nB(t).QB(t)}catch(t){return}}function jR(t){return cr(t.sources)&&""!==t.sources||or(t.sources)&&cr(t.sources.src)}function YR(t){return t.integration===YI.SPOTX&&!_(t.id)}function QR(t){return"freewheel"===t.integration}function ZR(t,n,i){if(void 0===i&&(i=lR.Ze),MR(t))return{sources:[$y()]};var e=Wm(t);if(e.sources=function(t,n,i){if(Zy(t))return[HR(t,n,i)];if(sr(t)&&Zy(t[0])){for(var e=[],r=0;r<t.length;r++){var u=t[r];e.push(HR(u,n,i))}return e}return[$y()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!sr(t))return[];for(var i=[],e=0;e<t.length;e++){var r=t[e];(r=GR(r,n))&&(jR(r)||YR(r)||QR(r))&&i.push(r)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var u,s,o,a,c=!Ky(e.sources),h=e.ads&&e.ads.length>0;if(c&&!h?delete e.ads:h&&!c&&(e.sources=[]),"textTracks"in e){var f=function(t){if(!sr(t))return[];for(var n=[],i=0;i<t.length;i++){var e=t[i];""!==(e=qR(e)).src&&n.push(e)}return n}(e.textTracks);0===f.length?delete e.textTracks:e.textTracks=f}if("poster"in e&&(e.poster=Jm(e.poster)),"vr"in e&&(e.vr=(u=e.vr,(o=u||{}).stereoMode=function(t){switch(t){case"":case"horizontal":case"vertical":return!0;default:return!1}}(s=o.stereoMode)?s:"",{panoramaMode:CR(o.panoramaMode,Boolean(o[360])),stereoMode:o.stereoMode?RR(o.stereoMode):wR.NONE,nativeVR:Boolean(o.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var v=np(e.analytics),d=n&&n.analytics||[];e.analytics=function(t,n){for(var i=function(i){var r=n[i];!t.some((function(t){return t.integration===r.integration}))&&r.integration!==IR&&e.push(r)},e=Wm(t),r=0;r<n.length;r++)i(r);return e}(v,d)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Pp(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=Zm(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(a=e.blockContentIfAdError)&&"boolean"==typeof a&&Boolean(a),e}me(),zt(),me(),zt(),me(),zt();var KR,JR=((KR=function(t){this.KB=t}).prototype.ZB=function(t){var n,i,e,r,u,s,o,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.KB.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.KB.indexOf(t.charAt(n))<<18|this.KB.indexOf(t.charAt(n+1))<<12|(u=this.KB.indexOf(t.charAt(n+2)))<<6|(s=this.KB.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===s&&(a[n/4]=String.fromCharCode(i,e)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},KR.prototype.JB=function(t,n){var i,e,r,u,s,o,a,c=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.KB.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,u=i>>6&63,s=63&i,c[o/3]=this.KB.charAt(e)+this.KB.charAt(r)+this.KB.charAt(u)+this.KB.charAt(s);return a=(a=c.join("")).slice(0,a.length-h.length),n||(a+=h),a},KR.Bk=new KR(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),KR.$B=new KR(KR.Bk.ZB("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),KR);function $R(t){return"string"==typeof t}function tC(t){return"number"==typeof t}me(),zt(),me(),zt(),me(),zt();var nC={}.toString;var iC,eC=Array.isArray||function(t){return"[object Array]"===nC.call(t)};function rC(t,n){return eC(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(iC||(iC={}));var uC,sC,oC=v.keys(iC).map((function(t){return iC[t]}));function aC(t){return-1!==oC.indexOf(t)}(sC=uC||(uC={})).HESP="hesp",sC.MULTIVIEW="multiview";var cC,hC=v.keys(uC).map((function(t){return uC[t]}));function fC(t){return-1!==hC.indexOf(t)}function vC(t){try{var n=JR.$B.ZB(t),i=JSON.parse(n);if(!function(t,n){var i,e=function(t){return"object"==typeof t&&null!==t}(t),r=$R(t.key),u=$R(t.customer_id),s=tC(t.generation_date),o=tC(t.expiration_date),a=rC(t.domains_page,$R),c=rC(t.domains_source,$R),h=rC(t.sdks,n?aC:$R),f=(v=t.send_impression,"boolean"==typeof v);var v;t.features?i=rC(t.features,n?fC:$R):(i=!0,t.features=[]);if(!(e&&r&&u&&s&&o&&a&&c&&h&&f&&i))return!1;return!0}(i,!1))throw new h("The provided license could not be decoded correctly.");return i}catch(t){throw new h("The provided license could not be decoded correctly.")}}function dC(){return cC||(cC={_l:xo.href,tO:Oo.parent&&Oo.parent!==i,nO:gC()}),cC}var lC,wC,_C=["http:","https:","ftp:","ws:","wss:"];function gC(){try{return Oo.top.location.href}catch(t){return Oo&&Oo.document&&Oo.document.referrer}}(wC=lC||(lC={}))[wC.iO=0]="iO",wC[wC.eO=1]="eO",wC[wC.rO=2]="rO";var mC,yC,pC=function(t,n,i,e,r,u,s,o,a){void 0===r&&(r=[]),void 0===u&&(u=""),void 0===s&&(s=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.uO=t,this.sO=n,this.oO=i,this.aO=e,this.cO=r,this.hO=u,this.fO=s,this.vO=o,this.dO=a};(yC=mC||(mC={})).eO="expired",yC.lO="invaliddomain",yC.wO="invalidsource",yC._O="invalidfeature",yC.Ag="error";var AC=function(){function t(t,n,i){this.gO=t,this.mO=n,this.Nc=i,this.yO=IC(this.Nc)}var n=t.prototype;return n.pO=function(t,n){var i=[];Zy(t.sources)?i=[t.sources]:sr(t.sources)&&(i=t.sources),this.AO(t,i,n),this.kO(i,n)},n.AO=function(t,n,i){var e=this;if(!MR(t)&&0!==i.oO.length&&!TC(i.oO)&&!n.every((function(t){return e.bO(t,i)}))){var r="invalidsource",u=NC.TO(r);throw new bw(kC(r),u)}},n.kO=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];Yy(e)&&Qy(e)&&this.SO([uC.HESP],n)}},n.EO=function(n){return this.IO(n.vO)&&this.RO(n)?t.CO(n.aO)?0:1:2},n.SO=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(!Dc(n.cO,e)){var r="invalidfeature",u=NC.DO(r,e);throw new bw(kC(r),u)}}},n.IO=function(t){var n=this;return 0===t.length||t.some((function(t){return n.PO(t)}))},n.PO=function(t){return"ios"===function(t){switch(t){case iC.ANDROID:return Pe.Un;case iC.ANDROIDTV:case iC.FIRETV:return Pe.Hn;case iC.IOS:return Pe.Xn;case iC.TVOS:return Pe.zn;case iC.CHROMECAST:case iC.CHROMECASTCAF:return Pe.Vn;default:return Pe.Fn}}(t)},n.RO=function(t){return!(this.yO&&0!==t.sO.length&&!TC(t.sO))||!!(this.yO&&this.BO(t.sO)&&this.OO(t.sO))},n.BO=function(t){return SC(this.Nc._l,t)},n.OO=function(t){if(!this.Nc.tO)return!0;if(this.gO)return!0;var n=this.xO();return!!n&&SC(n,t)},n.xO=function(){if(this.Nc.tO){var t=r.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Nc.nO?this.Nc.nO:void 0}},n.bO=function(n,i){return!!t.LO(n,i.oO)},t.CO=function(t){var n=Number(new Date);return!!t&&n<=t},t.LO=function(t,n){return SC(this.MO(t),n)},t.MO=function(t){return cr(t)?t:Yy(t)&&t.src||""},t}();function kC(t){switch(t){case"invaliddomain":return gw.LICENSE_INVALID_DOMAIN;case"invalidsource":return gw.LICENSE_INVALID_SOURCE;case"expired":return gw.LICENSE_EXPIRED;case"invalidfeature":return gw.LICENSE_INVALID_FEATURE;case"error":return gw.LICENSE_ERROR}}function bC(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+r+s+r+s+r+s+"\\)"),a=e.match(o),c=function(t){return"*"===t?"("+u+")":t};if(null!==a&&5===a.length){var h=new RegExp("^"+a[1]+r+c(a[2])+r+c(a[3])+r+c(a[4])+"$");return null!==i.match(h)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function TC(t){return t.some((function(t){return"*"===t}))}function SC(t,n){var i=De.Ss(t);if(!EC(i))return!0;for(var e=0;e<n.length;e++){var r=n[e];if(bC(i.hostname,r))return!0;if(bC(U_(t),r))return!0}return!1}function EC(t){return-1!==_C.indexOf(t.protocol)}function IC(t){var n=De.Ss(t._l);return EC(n)&&!bC(n.hostname,"localhost")&&!function(t){return bC(t.hostname,"theoplayer.doubleclick.net")}(n)}var RC,CC,NC=function(){function t(){}return t.DO=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.TO=function(t){return"invaliddomain"===t?this.FO:"invalidsource"===t?this.UO:"expired"===t?this.HO:"invalidfeature"===t?this.XO:this.zO},t}();function DC(t){var n=[t.aE,t.VO,t.WO];switch(t.VO){case 1:n.push(t.Og);break;case 4:n.push(t.pm),n.push(t.ua);break;case 5:n.push(t.ua)}return n}NC.zO="The license for this player is invalid.",NC.HO="The usage license for this video player has expired.",NC.FO="The current domain is incompatible with the license for this player.",NC.UO="The provided video source is incompatible with the license for this player.",NC.XO="The requested feature is not available with the license for this player.",me(),zt(),Ae(),me(),zt(),(CC=RC||(RC={}))[CC.qO=1]="qO",CC[CC.GO=4]="GO",CC[CC.jO=5]="jO",me(),zt();var PC,BC=new Array(256);for(PC=0;PC<256;PC+=1)BC[PC]=(PC<16?"0":"")+PC.toString(16);function OC(){var t=au(),n=(4294967296*d.random()|0)+t&3029421624,i=(4294967296*d.random()|0)+t&3595553209,e=(4294967296*d.random()|0)+t&1130486254,r=(4294967296*d.random()|0)+t&1284287105;return BC[255&n]+BC[n>>>8&255]+BC[n>>>16&255]+BC[n>>>24&255]+"-"+BC[255&i]+BC[i>>>8&255]+"-"+BC[i>>>16&15|64]+BC[i>>>24&255]+"-"+BC[63&e|128]+BC[e>>>8&255]+"-"+BC[e>>>16&255]+BC[e>>>24&255]+BC[255&r]+BC[r>>>8&255]+BC[r>>>16&255]+BC[r>>>24&255]}function xC(){return De.Ku()}me(),zt(),me(),zt(),me(),zt();var LC,MC="theoplayer-session-id";function FC(){if(!LC){var t=Xw.Sa(MC);t?LC=t:(LC=OC(),Xw.zv(MC,LC))}return LC}me(),zt(),me(),zt();var UC=/[^\x00-\x7E]/g;function HC(t){return"\\u"+oc(t.charCodeAt(0).toString(16),4,"0")}var XC="https://license.theoplayer.com";function zC(t){var n,i,e,r,u,s=(n=function(t){return[t.YO,t.kf,t.uO,t.cT,t.QO,t.ZO,t.KO.map(DC)]}(t),i=[],e=n,r=function(t,n){if(or(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,u).replace(UC,HC));return JR.$B.JB(s)}var VC=function(){function t(t,n,i,e,r,u){void 0===e&&(e=JR.Bk),void 0===r&&(r=0),void 0===u&&(u=1);var s=this;this.Mh=t,this.hI=n,this.JO=i,this.$O=e,this.tx=r,this.nx=u,this.ix=[],this.ux=null,this.sx=0,this.ox="unknown",this.ah=0,this.hx=function(){xC()-s.sx>6e4&&s.J()},this.vx=function(){s.J(!0)},Bo.lx(this.vx),this.wx=a(this.hx,6e4)}var n=t.prototype;return n._x=function(){return Boolean(this.QO)},n.gx=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return[4,n.JO.mx()];case 1:return e.sent().dO?(i={VO:RC.qO,WO:au(),Og:t},[4,n.yx(i)]):[2];case 2:return e.sent(),[2]}}))}))()},n.Ax=function(t,n){var i=this;return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:return e={VO:RC.GO,WO:au(),pm:n,ua:t},[4,i.yx(e)];case 1:return r.sent(),[2]}}))}))()},n.kx=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return i={VO:RC.jO,WO:au(),ua:t},[4,n.yx(i)];case 1:return e.sent(),[2]}}))}))()},n.yx=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return[4,n.JO.mx()];case 1:return i=e.sent(),"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"===n.$O.JB(i.uO)&&t.VO!==RC.jO?[2]:(t.VO===RC.qO?n.bx():n._x()||n.bx(),t.aE=n.ah++,n.ix.push(t),(r=t.VO)!==RC.qO&&r!==RC.jO?[3,3]:[4,n.J()]);case 2:return e.sent(),[3,5];case 3:return n.ix.length>n.tx?[4,n.Tx()]:[3,5];case 4:return e.sent(),[3,5];case 5:return[2]}var r}))}))()},n.J=function(t){void 0===t&&(t=!1);var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return n.ix.length>0?[4,n.Tx(t)]:[3,2];case 1:return i.sent(),[3,0];case 2:return[2]}}))}))()},n.Sx=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return[4,n.JO.mx()];case 1:return i=e.sent(),[2,{YO:au(),kf:FC(),uO:n.$O.JB(i.uO)||"dev",cT:n.Mh,QO:n.ux,ZO:n.ox,KO:t}]}}))}))()},n.Tx=function(t){void 0===t&&(t=!1);var n=this;return _a((function(){var i,e;return ma(this,(function(r){switch(r.label){case 0:return i=n.ix.splice(0,n.nx),[4,n.Sx(i)];case 1:return e=r.sent(),t?n.ql(e):n.Ex(e),n.sx=xC(),[2]}}))}))()},n.Ex=function(t){var n=this;return _a((function(){var i,e;return ma(this,(function(r){switch(r.label){case 0:i=zC(t),e=new D_({_l:XC,jd:i,Vl:!1,fl:jw.dr,hl:{"Content-Type":QS.GR},Ul:4e3,Fl:k_.POST}),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,n.hI.ll(e)];case 2:return[4,r.sent().Wd()];case 3:return r.sent(),[3,5];case 4:return r.sent(),(new Image).src="https://licensing.theoplayer.com/t?"+i,[3,5];case 5:return[2]}}))}))()},n.ql=function(t){var n=zC(t);this.hI.ql({_l:XC,jd:n,Gd:QS.GR})},n.bx=function(){this._x()&&this.J(),this.ux=OC(),this.ah=0},n.bv=function(){Bo.Ix(this.vx),c(this.wx),this.J()},pe(t,[{key:"KO",get:function(){return this.ix}},{key:"QO",get:function(){return this.ux}}]),t}();me(),zt(),Ae(),Oe(),me(),zt(),Oe();var WC=tr.De||tr.fe&&tr.Me<13;function qC(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var GC=function(){function t(t){this.v_=void 0,this.Rx=void 0,this.oD=t}var n=t.prototype;return n.Cx=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];var r;if(!t||!t.drawImage)return!1;var u=this.oD.Ny();return!!u&&((r=t).drawImage.apply(r,[u].concat(Ce(i))),!0)},n.Nx=function(t,n,i,r,u,s){if(!t||!t.texImage2D)return!1;var o=this.oD,a=o.Ny();if(!a)return!1;if(WC){this.Rx||(this.Rx=e.createElement("canvas"));var c=this.Rx,f=c.getContext("2d"),v=o.Dm,d=o.Nm,l=c.width,w=c.height;f.clearRect(0,0,c.width,c.height),l===v&&w===d||(c.width=v,c.height=d),f.drawImage(a,0,0,v,d);var _=!1;v>0&&qC(f,v-1,0)&&(c.width=l,_=!0),d>0&&qC(f,0,d-1)&&(c.height=w,_=!0),_&&f.drawImage(a,0,0,v,d),a=c}try{t.texImage2D(n,i,r,u,s,a)}catch(t){throw new h("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},pe(t,[{key:"d_",get:function(){return this.v_||(this.v_=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];var u;return(u=t).Cx.apply(u,[n].concat(Ce(e)))},texImage2D:function(n,i,e,r,u,s){return t.Nx(n,i,e,r,u,s)}}));var t}}]),t}();me(),zt(),Ae(),me(),zt();var jC=function(t){function n(n,i){var e;return(e=t.call(this,"Dx")||this).Qp=n,e.zT=i,e}return ze(n,t),n.prototype.l_=function(){return new YC(this.Qp,this.zT)},n}(Im),YC=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return ze(n,t),n}(fh);me(),zt(),Ae(),me(),zt();var QC=function(t,n){this.Xy=t,this.Px=n},ZC=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Bx=0,e.Ox=0,e.xx=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.Ox=n.width,e.Bx=n.height,e.Px(e.Ox,e.Bx)}},e.Lx=new Oo.ResizeObserver(e.xx),e.Lx.observe(e.Xy),e}return ze(n,t),n.prototype.bv=function(){this.Lx.disconnect()},pe(n,[{key:"Mx",get:function(){return this.Bx}},{key:"Fx",get:function(){return this.Ox}}]),n}(QC);me(),zt(),Ae(),me(),zt();var KC=0;var JC,$C=o,tN=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,nN=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;tN&&nN||(tN=function(t){var n=xC(),i=d.max(0,16-(n-KC)),e=s((function(){return t(n+i)}),i);return KC=n+i,e},nN=$C),tN=tN.bind(t),nN=nN.bind(t),me(),zt();var iN=["Webkit","Moz","O","ms"],eN=(function(){var t=!1;try{if(void 0!==Oo&&"function"==typeof Oo.addEventListener){var n=v.defineProperty({},"passive",{get:function(){t=!0}});Oo.addEventListener("testPassiveEventSupport",lr,n),Oo.removeEventListener("testPassiveEventSupport",lr,n)}}catch(t){}}(),Aa());function rN(t){return eN.has(t)||eN.set(t,function(t){var n=(JC||(JC=Oo&&Oo.document&&Oo.document.createElement("span")),JC);if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<iN.length;e++){var r=iN[e]+i;if(void 0!==n.style[r])return r}return t}(t)),eN.get(t)}function uN(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function sN(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[rN("transition")]="0s"}var oN=function(t){function n(n,r,u){var o;(o=t.call(this,n,r)||this).Ux=0,o.Ox=NaN,o.Bx=NaN,o.Hx=void 0,o.Nf=function(){o.Xx.style.width="100000px",o.Xx.style.height="100000px",o.zx.scrollLeft=1e5,o.zx.scrollTop=1e5,o.Vx.scrollLeft=1e5,o.Vx.scrollTop=1e5,0===o.Vx.scrollTop&&tN(o.Nf)},o.Wx=function(){var t=o.Fx,n=o.Mx;o.Px(t,n),o.Ox=t,o.Bx=n,o.Nf(),o.Ux=0},o.qx=function(){if(!o.Ux){var t=o.Fx,n=o.Mx;t===o.Ox&&n===o.Bx||(o.Ux=tN(o.Wx))}},o.Gx=function(){o.Hx||(o.Hx=s(o.jx,66))},o.jx=function(){o.Hx=void 0,o.Yx()},o.Yx=function(){o.qx()};var a=function(t,n){return i.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");u||"static"!==a||(n.style.position="relative");var c,h=e.createElement("div");return o.Qx=h,o.zx=e.createElement("div"),o.Xx=e.createElement("div"),o.Vx=e.createElement("div"),o.Zx=e.createElement("div"),uN(o.zx),uN(o.Vx),sN(o.Xx),sN(c=o.Zx),c.style.width="200%",c.style.height="200%",h.appendChild(o.zx),h.appendChild(o.Vx),o.zx.appendChild(o.Xx),o.Vx.appendChild(o.Zx),n.appendChild(h),o.zx.addEventListener("scroll",o.qx),o.Vx.addEventListener("scroll",o.qx),i&&i.addEventListener("resize",o.Gx),o.qx(),o}return ze(n,t),n.prototype.bv=function(){nN(this.Ux),this.Ux=0,this.zx.removeEventListener("scroll",this.qx),this.Vx.removeEventListener("scroll",this.qx),Ho(this.Qx),i&&i.removeEventListener("resize",this.Gx)},pe(n,[{key:"Mx",get:function(){return this.Xy.getBoundingClientRect().height||this.Bx||0}},{key:"Fx",get:function(){return this.Xy.getBoundingClientRect().width||this.Ox||0}}]),n}(QC),aN=function(t){function n(n){var i;return(i=t.call(this)||this).Lx=void 0,i.xx=function(t,n){i.Ho(new jC(t,n))},i.Xy=n,i}ze(n,t);var i=n.prototype;return i.Rf=function(t){this.Lx||("function"==typeof Oo.ResizeObserver?this.Lx=new ZC(this.Xy,this.xx):this.Lx=new oN(this.Xy,this.xx,t))},i.bv=function(){this.qo(),this.Lx&&(this.Lx.bv(),this.Lx=void 0)},pe(n,[{key:"Mx",get:function(){return this.Lx?this.Lx.Mx:0}},{key:"Fx",get:function(){return this.Lx?this.Lx.Fx:0}}]),n}(oh);me(),zt(),Ae(),me(),zt();var cN=function(t){function n(){return t.call(this,AI.E_)}return ze(n,t),n}(fh);me(),zt();var hN=function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{Kx:i[0],Jx:i[1],$x:i[2],tL:i[3],nL:i[4],iL:i[5]}}}();me(),zt();var fN=function(t){function n(){return t.call(this,AI.fP)}return ze(n,t),n}(fh),vN=function(t){function n(i){var r;return(r=t.call(this)||this).vP=!1,r.eL=function(){return r.UP()},r.rL=function(){return r.XP()},r.Xy=i,r.dP=n.uL(i),e.addEventListener(hN.nL,r.eL),r.UP(),r}ze(n,t);var i=n.prototype;return i.mp=function(){var t=this.Xy[hN.Kx]();t&&t.then?t.then(this.eL,this.rL):(e.removeEventListener(hN.iL,this.rL),e.addEventListener(hN.iL,this.rL))},i.pp=function(){var t=e[hN.Jx]();t&&t.then?t.then(this.eL,this.rL):(e.removeEventListener(hN.iL,this.rL),e.addEventListener(hN.iL,this.rL))},i.UP=function(){var t=this.vP,n=this.Xy===e[hN.$x];this.vP=n,t!==n&&this.Ho(new cN)},i.XP=function(){this.Ho(new EI)},i.bv=function(){this.qo(),e.removeEventListener(hN.nL,this.eL),e.removeEventListener(hN.iL,this.rL)},n.uL=function(t){return Boolean(hN&&e[hN.tL]&&hN.Kx in t)},n}(oh),dN=function(t){function n(i){var e;return(e=t.call(this)||this).vP=!1,e.eL=function(){return e.UP()},e.Xy=i,e.dP=n.uL(i),e.Xy.addEventListener("webkitbeginfullscreen",e.eL),e.Xy.addEventListener("webkitendfullscreen",e.eL),e.Xy.addEventListener("webkitpresentationmodechanged",e.eL),e.UP(),e}ze(n,t);var i=n.prototype;return i.mp=function(){var t=this;this.Xy.webkitSupportsPresentationMode&&this.Xy.webkitSupportsPresentationMode("fullscreen")?tr.fe?requestAnimationFrame((function(){return t.Xy.webkitSetPresentationMode("fullscreen")})):this.Xy.webkitSetPresentationMode("fullscreen"):this.Xy.webkitEnterFullscreen()},i.pp=function(){this.Xy.webkitSupportsPresentationMode&&this.Xy.webkitSupportsPresentationMode("inline")?this.Xy.webkitSetPresentationMode("inline"):this.Xy.webkitExitFullscreen()},i.UP=function(){var t,n=this.vP;t=this.Xy.webkitPresentationMode?"fullscreen"===this.Xy.webkitPresentationMode:!!this.Xy.webkitDisplayingFullscreen,this.vP=t,n!==t&&this.Ho(new cN)},i.bv=function(){this.qo(),this.Xy.removeEventListener("webkitbeginfullscreen",this.eL),this.Xy.removeEventListener("webkitendfullscreen",this.eL),this.Xy.removeEventListener("webkitpresentationmodechanged",this.eL)},n.uL=function(t){return tr.fe&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)},n}(oh),lN=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).sL=[],n.oL=void 0,n.FP=!1,n.UP=function(){var t=n.FP,i=n.aL();t!==i&&(n.FP=i,n.Ho(new cN))},n}ze(n,t);var i=n.prototype;return i.mp=function(){this.oL?this.oL.mp():this.Ho(new EI)},i.pp=function(){for(var t=0,n=this.sL;t<n.length;t++){var i=n[t];i.vP&&i.pp()}},i.cL=function(t){this.oL=t},i.hL=function(t){this.sL.push(t),t.zo(AI.E_,this.UP),t.zo(AI.Ag,this.Uo),this.UP()},i.fL=function(t){Cc(this.sL,t),t.Go(AI.E_,this.UP),t.Go(AI.Ag,this.Uo)},i.aL=function(){for(var t=0,n=this.sL;t<n.length;t++){if(n[t].vP)return!0}return!1},i.Nf=function(){this.oL=void 0,this.FP=!1;for(var t=this.sL.slice(),n=0;n<t.length;n++){var i=t[n];this.fL(i),i.bv()}this.UP()},i.bv=function(){this.qo(),this.Nf()},pe(n,[{key:"dP",get:function(){return!!this.oL&&this.oL.dP}},{key:"vP",get:function(){return this.FP}}]),n}(oh),wN=function(t){function n(n,i){var e;return(e=t.call(this)||this).vL=!1,e.dL=function(){return e.gf()},e.UP=function(t){e.vL||e.Ho(t)},e.oD=n,e.lL=i,e.wL=II,e._L(),e.oD.zo(qw.rd,e.dL),e.gf(),e}ze(n,t);var i=n.prototype;return i.mp=function(){this.lL&&this.wL.mp()},i.pp=function(){this.wL.pp()},i._L=function(){this.wL.zo(AI.E_,this.UP),this.wL.zo(AI.Ag,this.Uo)},i.gL=function(){this.wL.Go(AI.E_,this.UP),this.wL.Go(AI.Ag,this.Uo)},i.gf=function(){var t=this.wL,n=this.oD.Dy();if(t!==n){this.vL=!0;var i=this.vP,e=this.dP;i&&this.pp(),this.gL(),this.wL=n,this._L(),i&&!this.vP&&this.dP?this.mp():this.pp(),this.vL=!1,e!==this.dP&&this.Ho(new fN),i!==this.vP&&this.Ho(new cN)}},i.bv=function(){this.qo(),this.gL(),this.oD.Go(qw.rd,this.dL)},pe(n,[{key:"dP",get:function(){return!!this.lL&&this.wL.dP}},{key:"vP",get:function(){return this.wL.vP}}]),n}(oh);function _N(t){var n;return{get url(){return t._l},get method(){return t.Fl},get headers(){return n||(n=t.hl.Md()),n},get body(){return t.jd},get useCredentials(){return t.Vl},get type(){return t.Gs},get subType(){return t.Xl},get mediaType(){return t.zl},get responseType(){return t.fl}}}function gN(t){switch(t.toLowerCase()){case"arraybuffer":return jw.Od;case"json":return jw.xd;case"stream":return jw.Ld;case"text":default:return jw.dr}}function mN(t){switch(t.toUpperCase()){case"POST":return k_.POST;case"PUT":return k_.PUT;case"DELETE":return k_.DELETE;case"HEAD":return k_.HEAD;case"OPTIONS":return k_.OPTIONS;case"GET":default:return k_.GET}}function yN(t){switch(t.toLowerCase()){case"manifest":return T_.bl;case"segment":return T_.Tl;case"preload-hint":return T_.Sl;case"content-protection":return T_.El;default:return T_.Al}}function pN(t){switch(t.toLowerCase()){case"initialization-segment":return E_.Il;case"fairplay-license":return E_.Rl;case"fairplay-certificate":return E_.Cl;case"widevine-license":return E_.Nl;case"widevine-certificate":return E_.Dl;case"playready-license":return E_.Pl;case"clearkey-license":return E_.Bl;case"aes128-key":return E_.Ol;default:return E_.Al}}function AN(t){switch(t.toLowerCase()){case"audio":return R_.xl;case"video":return R_.Ll;case"text":return R_.dr;case"image":return R_.Ml;case"":default:return R_.Al}}me(),zt(),me(),zt(),Ae(),me(),zt(),me(),zt(),Ae();var kN=function(){function t(t,n){this.mL=t,this.yL=n,this.pL=new Mf,this.AL=[],this.v_=void 0,this.kL=!1,this.uw=void 0,this.bL=0}var n=t.prototype;return n.Jb=function(){this.kL=!0,this.pL.Ua(null)},n.TL=function(){this.pL.Ha(new i_(this.AL))},n.SL=function(t){if(!this.EL)throw new f("Cannot respond more than once");if(!or(t))throw new f("Expected valid response");this.uw=this.IL(t),this.Jb()},n.RL=function(){try{var t=this.yL(this.d_);t?this.CL(t):this.NL||this.DL||this.Jb()}catch(t){this.AL.push(t),this.TL()}},n.CL=function(t){if(this.DL)throw new h("Request has been redirected or a response already exists");if(fr(t))this.PL(t);else{if("function"!=typeof t)throw new f("Expected promise or function");var n=new Mf;try{var i=t((function(t){t?n.Ha(t):n.Ua(void 0)}));fr(i)&&n.Oo(i)}catch(t){n.Ha(t)}this.PL(n.Fa)}},n.PL=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),n.bL++,[4,t];case 1:return e.sent(),n.bL--,n.NL||n.DL||(n.AL.length?n.TL():n.Jb()),[3,3];case 2:return i=e.sent(),n.bL--,n.AL.push(i),n.NL||n.DL||n.TL(),[3,3];case 3:return[2]}}))}))()},pe(t,[{key:"BL",get:function(){return this.pL.Fa}},{key:"d_",get:function(){return this.v_||(this.v_=this.OL()),this.v_}},{key:"DL",get:function(){return this.kL}},{key:"EL",get:function(){return!this.kL}},{key:"NL",get:function(){return this.bL>0}},{key:"ow",get:function(){return this.uw}}]),t}(),bN=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).xL=e,r.RL(),r}ze(n,t);var i=n.prototype;return i.OL=function(){return i=_N((t=this).ll),{get closed(){return!t.EL},get request(){return i},get url(){return t._l},get status(){return t.cl},get statusText(){return t.vl},get headers(){return n||(n=t.hl.Md()),n},get body(){return t.jd},respondWith:function(n){return t.SL(n)},waitUntil:function(n){return t.CL(n)}};var t,n,i},i.IL=function(t){return n.LL(t,this.mL,this.xL)},n.LL=function(t,n,i){var e=void 0===t.body?i:t.body;return new N_({jr:e,ll:n.ll,fl:n.ll.fl,hl:t.headers,cl:t.status,vl:t.statusText,wl:t.url,dl:!0},n)},pe(n,[{key:"jd",get:function(){return this.xL}},{key:"hl",get:function(){return this.mL.hl}},{key:"ll",get:function(){return this.mL.ll}},{key:"ow",get:function(){return this.uw}},{key:"cl",get:function(){return this.mL.cl}},{key:"vl",get:function(){return this.mL.vl}},{key:"_l",get:function(){return this.mL.wl}}]),n}(kN);me(),zt(),Ae();var TN=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).ML=void 0,r.FL=e,r.RL(),r}ze(n,t);var i=n.prototype;return i.OL=function(){return t=this,{get url(){return t._l},get method(){return t.Fl},get headers(){return n||(n=t.hl.Md()),n},get body(){return t.jd},get closed(){return!t.EL},get useCredentials(){return t.Vl},get type(){return t.Gs},get subType(){return t.Xl},get mediaType(){return t.zl},get responseType(){return t.fl},redirect:function(n){return t.UL(n)},respondWith:function(n){return t.SL(n)},waitUntil:function(n){return t.CL(n)}};var t,n},i.IL=function(t){var n=this.mL.jd,i=new N_({jr:n,hl:{},ll:this.mL,wl:this.mL._l,fl:this.mL.fl,cl:200,vl:"OK"});return bN.LL(t,i,n)},i.UL=function(t){if(!this.EL)throw new f("Cannot redirect, already redirected or has a response");var n;n=cr(t)?{url:t}:t,this.ML=function(t,n){return new D_({_l:void 0===t.url?n._l:t.url,Fl:void 0!==t.method?mN(t.method):void 0,hl:t.headers,jd:t.body,Vl:t.useCredentials,Gs:void 0!==t.type?yN(t.type):void 0,Xl:void 0!==t.subType?pN(t.subType):void 0,zl:void 0!==t.mediaType?AN(t.mediaType):void 0,fl:void 0!==t.responseType?gN(t.responseType):void 0},n)}(n,this.mL),this.Jb()},pe(n,[{key:"jd",get:function(){return this.mL.jd}},{key:"EL",get:function(){return this.FL&&!this.kL}},{key:"hl",get:function(){return this.mL.hl}},{key:"Fl",get:function(){return this.mL.Fl}},{key:"HL",get:function(){return this.ML}},{key:"ow",get:function(){return this.uw}},{key:"fl",get:function(){return this.mL.fl}},{key:"Ul",get:function(){return this.mL.Ul}},{key:"Hl",get:function(){return this.mL.Hl}},{key:"Lo",get:function(){return this.mL.Lo}},{key:"Gs",get:function(){return this.mL.Gs}},{key:"Xl",get:function(){return this.mL.Xl}},{key:"zl",get:function(){return this.mL.zl}},{key:"_l",get:function(){return this.mL._l}},{key:"Vl",get:function(){return this.mL.Vl}},{key:"Wl",get:function(){return this.mL.Wl}}]),n}(kN);var SN=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new EN(n);return(e=t.call(this,r,i)||this).XL=r,e}ze(n,t);var i=n.prototype;return i.zL=function(t){this.XL.zL(t)},i.VL=function(t){this.XL.VL(t)},i.WL=function(t){this.XL.WL(t)},i.qL=function(t){this.XL.qL(t)},i.GL=function(t){this.XL.GL(t)},n}(B_),EN=function(){function t(t){this.jL=[],this.YL=[],this.Gl=t}var n=t.prototype;return n.ll=function(t){var n=this;return _a((function(){var i,e;return ma(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),[4,n.QL(t,t.Lo)];case 1:return i=r.sent(),[3,5];case 2:return(e=r.sent())instanceof H_?[4,n.ZL(e,t.Lo)]:[3,4];case 3:return[2,r.sent()];case 4:throw e;case 5:return[4,n.KL(i,t.Lo)];case 6:if(A_(i=r.sent()))return[2,i];throw new z_(i)}}))}))()},n.ql=function(t){return this.Gl.ql(t)},n.QL=function(t,n){var i=this;return _a((function(){var e,r,u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:jc(n),e=t,u=0,s=i.jL.slice(),c.label=1;case 1:if(!(u<s.length))return[3,7];if(o=s[u],jc(n),(a=new TN(e,o,!r)).DL)return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.BL];case 3:return c.sent(),[3,5];case 4:return c.sent(),[3,6];case 5:a.HL&&!r?e=a.HL:a.ow&&!r&&(r=a.ow),c.label=6;case 6:return u++,[3,1];case 7:return r?[2,r]:[2,i.Gl.ll(e)]}}))}))()},n.ZL=function(t,n){var i=this;return _a((function(){var e,r;return ma(this,(function(u){switch(u.label){case 0:return e=t instanceof z_?t.ow:new N_({jr:null,ll:t.ll,cl:0,vl:""}),[4,i.KL(e,n)];case 1:if((r=u.sent())===e)throw t;if(A_(r))return[2,r];throw new z_(r)}}))}))()},n.KL=function(t,n){var i=this;return _a((function(){var e,r,u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:e=t,r=0,u=i.YL.slice(),c.label=1;case 1:return r<u.length?(s=u[r],jc(n),[4,j.resolve(e.Oa().jr(n))]):[3,8];case 2:if(o=c.sent(),(a=new bN(e,s,o)).DL)return[3,6];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,a.BL];case 4:return c.sent(),[3,6];case 5:return c.sent(),[3,7];case 6:e=a.ow||e,c.label=7;case 7:return r++,[3,1];case 8:return[2,e]}}))}))()},n.zL=function(t){this.jL.unshift(t)},n.VL=function(t){this.jL.push(t)},n.WL=function(t){Cc(this.jL,t)},n.qL=function(t){this.YL.unshift(t)},n.GL=function(t){Cc(this.YL,t)},n.bv=function(){this.Gl.bv(),Pc(this.jL),Pc(this.YL)},t}();me(),zt(),Ae();var IN,RN,CN=function(){function t(t){this.hI=t}var n=t.prototype;return n.zL=function(t){this.hI.zL(t)},n.WL=function(t){this.hI.WL(t)},n.qL=function(t){this.hI.qL(t)},n.GL=function(t){this.hI.GL(t)},pe(t,[{key:"d_",get:function(){var t;return this.v_||(this.v_=(t=this,{addRequestInterceptor:function(n){t.zL(n)},removeRequestInterceptor:function(n){t.WL(n)},addResponseInterceptor:function(n){t.qL(n)},removeResponseInterceptor:function(n){t.GL(n)}})),this.v_}}]),t}(),NN=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).JL=n,r.hI=i,r.AP=e,r.$L=function(t){r.Ho(t)},r.tM=function(t){r.Ho(t)},r.JL.zo(qw.dd,r.$L),r.JL.zo(qw.vd,r.tM),r}ze(n,t);var i=n.prototype;return i.nM=function(t){this.AP.nM(t)},i.zL=function(t){this.hI.zL(t)},i.WL=function(t){this.hI.WL(t)},i.qL=function(t){this.hI.qL(t)},i.GL=function(t){this.hI.GL(t)},i.bv=function(){this.qo(),this.JL.Go(qw.dd,this.$L),this.JL.Go(qw.vd,this.tM)},pe(n,[{key:"d_",get:function(){var t;return this.v_||(this.v_=(t=this,{get online(){return t.Zy},get estimator(){return n=t.iM,{get bandwidth(){return n.NC},get roundTripTime(){return n.DC}};var n},setEstimator:function(n){t.nM(function(t){if(t)return{get NC(){return Km(t.bandwidth)},get DC(){return Km(t.roundTripTime)},RC:function(n){return function(t){if(t)return{eM:function(n){t.markRequestStart(n)},rM:function(n){t.markResponseStart(n)},uM:function(n,i){t.markResponseData(n,i)},sM:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(_N(n)))}}}(n))},addRequestInterceptor:function(n){t.zL(n)},removeRequestInterceptor:function(n){t.WL(n)},addResponseInterceptor:function(n){t.qL(n)},removeResponseInterceptor:function(n){t.GL(n)},addEventListener:function(n,i){t.zo(n,i)},removeEventListener:function(n,i){t.Go(n,i)}})),this.v_}},{key:"Zy",get:function(){return this.JL.Zy}},{key:"iM",get:function(){return this.AP.iM}}]),n}(oh);me(),zt(),Ae(),me(),zt(),me(),zt(),(RN=IN||(IN={})).PERFORMANCE="performance",RN.QUALITY="quality",RN.BANDWIDTH="bandwidth",me(),zt();function DN(t){return t instanceof h&&"QuotaExceededError"===t.name}me(),zt();var PN={type:IN.BANDWIDTH};function BN(t){var n,i,e,r=Wm(PN);return cr(t)?r.type=ON(t):or(t)&&function(t){switch(t){case IN.PERFORMANCE:case IN.QUALITY:case IN.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=ON(t.type)),or(t)&&or(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=Zm(n.bitrate),_(e)||(i.bitrate=e),i)),r}function ON(t){switch(t){case"bandwidth":return IN.BANDWIDTH;case"performance":return IN.PERFORMANCE;case"quality":return IN.QUALITY}}function xN(t){return{get strategy(){return{metadata:(n=t.oM).metadata,type:n.type};var n},set strategy(n){t.oM=BN(n)},get targetBuffer(){return t.aM},set targetBuffer(n){var i=Zm(n);_(i)||(t.aM=i)},get bufferLookbackWindow(){return t.cM},set bufferLookbackWindow(n){var i=Zm(n);_(i)||(t.cM=i<=0?30:i)},get maxBufferLength(){return t.hM}}}me(),zt();var LN=function(t){function n(n){var i;return(i=t.call(this,"fM")||this).aM=n,i}return ze(n,t),n}(fh);me(),zt();var MN=function(t){function n(n){var i;return(i=t.call(this,"vM")||this).oM=n,i}return ze(n,t),n}(fh);me(),zt();var FN=function(t){function n(n){var i;return(i=t.call(this,"dM")||this).cM=n,i}return ze(n,t),n}(fh),UN=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).v_=xN(mu(n)),n.lM=PN,n.wM=20,n._M=30,n.gM=1/0,n.mM=void 0,n}ze(n,t);var i=n.prototype;return i.yM=function(t){this.pM=t},i.nM=function(t){this.mM=t},i.AM=function(t){var n=d.min(t,.8*this.gM);if(n=d.max(10,n),this.gM===n)return!1;var i=this.kM;this.gM=n;var e=this.kM;return e!==i&&this.Ho(new LN(e)),!0},pe(n,[{key:"bM",get:function(){switch(this.lM.type){case IN.PERFORMANCE:return 0;case IN.QUALITY:return 1/0;case IN.BANDWIDTH:return this.lM.metadata&&void 0!==this.lM.metadata.bitrate?this.lM.metadata.bitrate:8*Ey.Gg();default:return 8*Ey.Gg()}}},{key:"d_",get:function(){return this.v_}},{key:"oM",get:function(){return this.lM},set:function(t){this.lM=t,this.Ho(new MN(t))}},{key:"aM",get:function(){return this.wM},set:function(t){this.wM=t,this.Ho(new LN(t))}},{key:"kM",get:function(){return d.min(this.wM,this.gM)}},{key:"cM",get:function(){return this._M},set:function(t){this._M=t,this.Ho(new FN(t))}},{key:"hM",get:function(){return this.gM}},{key:"iM",get:function(){var t;return null!=(t=this.mM)?t:this.pM.GN}}]),n}(oh);me(),zt(),Ae(),me(),zt();var HN=function(t){function n(){return t.call(this,"I_")}return ze(n,t),n.prototype.l_=function(){return new XN},n}(Im),XN=function(t){function n(){return t.call(this,"change")}return ze(n,t),n}(fh);me(),zt(),me(),zt();var zN=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).TM=function(t){Rm(t)&&th((function(){r.Ho(t.d_)}))},r.SM=n,r.ix=i;for(var u=0,s=r.ix;u<s.length;u++){var o=s[u];r.SM.zo(o,r.TM)}return r}return ze(n,t),n.prototype.bv=function(){this.qo();for(var t=0,n=this.ix;t<n.length;t++){var i=n[t];this.SM.Go(i,this.TM)}},n}(oh),VN=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).TM=function(t){Rm(t)&&th((function(){e.Ho(t.d_)}))},e.SM=n,e.SM.Wo(e.TM),e}return ze(n,t),n.prototype.bv=function(){this.qo(),this.SM.Qo(this.TM)},n}(py);var WN=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Lp=0,n.Mp=1/0,n}ze(n,t);var i=n.prototype;return i.Nf=function(){0===this.Lp&&this.Mp===1/0||(this.Lp=0,this.Mp=1/0,this.Ho(new HN))},i.EM=function(){return new TI([this.kp,this.bp],[!0,!0])},pe(n,[{key:"kp",get:function(){return this.Lp},set:function(t){if(this.bp<=t)throw new h("Start time of a clip should be smaller than the end time.");this.Lp!==t&&(this.Lp=t,this.Ho(new HN))}},{key:"bp",get:function(){return this.Mp},set:function(t){if(t<=this.kp)throw new h("End time of a clip should be larger than the start time.");this.Mp!==t&&(this.Mp=t,this.Ho(new HN))}},{key:"d_",get:function(){var t,n,i;return this.v_||(this.v_=(i={get startTime(){return t.kp},set startTime(n){t.kp=n},get endTime(){return t.bp},set endTime(n){t.bp=n},addEventListener:function(t,i){n.zo(t,i)},removeEventListener:function(t,i){n.Go(t,i)}},n=new VN(t=this,i),i)),this.v_}}]),n}(py);me(),zt(),Ae(),me(),zt(),Ae();var qN=function(t){function n(n){var i;return(i=t.call(this)||this).IM=n,i.RM=function(t){i.CM(t)||i.Ho(t)},i.IM.Wo(i.RM),i}ze(n,t);var i=n.prototype;return i.NM=function(){return this.IM.sy},i.Py=function(){return this.IM.Py()},i.DM=function(){return this.IM.Uy},i.PM=function(){return this.IM.Ly},i.BM=function(){return this.IM.Hy},i.OM=function(t){this.IM.Hy=t},i.xM=function(){return this.IM.pm},i.LM=function(t){this.IM.pm=t},i.MM=function(){return this.IM.Am},i.FM=function(){return this.IM.Xy},i.UM=function(){return this.IM.Tm},i.HM=function(){return this.IM.ua},i.XM=function(){return this.IM.Sm},i.zM=function(){return this.IM.zy},i.VM=function(){return this.IM.Em},i.WM=function(t){this.IM.Em=t},i.qM=function(){return this.IM.Zy},i.GM=function(){return this.IM.Im},i.jM=function(){return this.IM.Rm},i.YM=function(t){this.IM.Rm=t},i.QM=function(){return this.IM.Ky},i.ZM=function(){return this.IM.Jy},i.KM=function(t){this.IM.Jy=t},i.JM=function(){return this.IM.Dg},i.$M=function(){return this.IM.$y},i.tF=function(){return this.IM.Cm},i.yy=function(){return this.IM.yy()},i.py=function(t,n){var i=this;return _a((function(){return ma(this,(function(e){switch(e.label){case 0:return jc(n),[4,i.IM.py(t,n)];case 1:return e.sent(),[2]}}))}))()},i.nF=function(){return this.IM.vy},i.iF=function(){return this.IM.Nm},i.eF=function(){return this.IM.oy},i.rF=function(){return this.IM.Dm},i.uF=function(){return this.IM.Pm},i.sF=function(t){this.IM.Pm=t},i.Dy=function(){return this.IM.Dy()},i.Ny=function(){return this.IM.Ny()},i.Ey=function(t){this.IM.Ey(t)},i.Iy=function(){this.IM.Iy()},i.Cy=function(){this.IM.Cy()},i.Sy=function(){this.IM.Sy()},i._y=function(){this.IM._y()},i.wy=function(){this.IM.wy()},i.Ry=function(){this.IM.Ry()},i.gy=function(){return this.IM.gy()},i.Ay=function(){return this.IM.Ay()},i.by=function(){this.IM.by()},i.Ty=function(){this.IM.Ty()},i.Nf=function(){return this.IM.Nf()},i.bv=function(){return this.IM.bv()},i.My=function(){this.IM.My()},i.Fy=function(){this.IM.Fy()},i.By=function(t){return this.IM.By(t)},i.CM=function(t){return!1},pe(n,[{key:"sy",get:function(){return this.NM()}},{key:"Uy",get:function(){return this.DM()}},{key:"Hy",get:function(){return this.BM()},set:function(t){this.OM(t)}},{key:"Ly",get:function(){return this.PM()}},{key:"pm",get:function(){return this.xM()},set:function(t){this.LM(t)}},{key:"Am",get:function(){return this.MM()}},{key:"Xy",get:function(){return this.FM()}},{key:"Tm",get:function(){return this.UM()}},{key:"ua",get:function(){return this.HM()}},{key:"Sm",get:function(){return this.XM()}},{key:"ly",get:function(){return this.IM.ly}},{key:"zy",get:function(){return this.zM()}},{key:"Vy",get:function(){return this.IM.Vy}},{key:"Em",get:function(){return this.VM()},set:function(t){this.WM(t)}},{key:"Zy",get:function(){return this.qM()}},{key:"Im",get:function(){return this.GM()}},{key:"Rm",get:function(){return this.jM()},set:function(t){this.YM(t)}},{key:"Ky",get:function(){return this.QM()}},{key:"Jy",get:function(){return this.ZM()},set:function(t){this.KM(t)}},{key:"Dg",get:function(){return this.JM()}},{key:"$y",get:function(){return this.$M()}},{key:"Cm",get:function(){return this.tF()}},{key:"vy",get:function(){return this.nF()}},{key:"Nm",get:function(){return this.iF()}},{key:"oy",get:function(){return this.eF()}},{key:"Dm",get:function(){return this.rF()}},{key:"Pm",get:function(){return this.uF()},set:function(t){this.sF(t)}},{key:"tp",get:function(){return this.IM.tp}},{key:"np",get:function(){return this.IM.np},set:function(t){this.IM.np=t}}]),n}(Ay),GN=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).oF=!1,r.aF=void 0,r.cF=!1,r.hF=function(){r.fF(),r.vF()},r.nN=function(){r.dF(),r.vF(),r.lF&&r.pm>=r.wF.bp-n._F&&!r.Tm&&(r.aF=tN(r.nN))},r.gF=function(){r.cF=!0},r.mF=function(){r.cF&&(r.cF=!1,r.vF())},r.wF=e,r.wF.zo("I_",r.hF),r.IM.zo("timeupdate",r.nN),r}ze(n,t);var i=n.prototype;return i.LM=function(n){var i=this.wF.EM().LD(n);t.prototype.LM.call(this,i),this.vF()},i.UM=function(){return t.prototype.UM.call(this)||this.oF},i.$M=function(){return TI.sP(t.prototype.$M.call(this)).UD(this.wF.EM()).zN()},i.wy=function(){this.UM()?this.LM(this.yF.start(0)):this.fF(),t.prototype.wy.call(this),this.vF()},i.py=function(n,i){var e=this;return _a((function(){return ma(this,(function(r){switch(r.label){case 0:return jc(i),e.oF=!1,e.wF.Nf(),[4,t.prototype.py.call(e,n,i)];case 1:return r.sent(),[2]}}))}))()},i.bv=function(){return this.wF.Go("I_",this.hF),this.IM.Go("timeupdate",this.nN),this.dF(),t.prototype.bv.call(this)},i.CM=function(n){switch(n.type){case"seeking":return this.Ho(n),this.gF(),!0;case"seeked":case"emptied":return this.Ho(n),this.mF(),!0;case"ended":if(this.lF)return!0}return t.prototype.CM.call(this,n)},i.dF=function(){this.aF&&(nN(this.aF),this.aF=void 0)},i.vF=function(){var t=this.pm,i=this.lF&&t>=this.wF.bp-n.KA;this.oF&&!i?(this.oF=!1,this.Im&&this.wy()):this.oF||!i||this.Cm||this.cF||(this.oF=!0,this.Ho(new dp(t)),this._y())},i.fF=function(){if(this.Am!==1/0){var t=this.yF,i=TI.sP(t).LD(this.pm);eu(this.pm,i,n.KA)||this.LM(i)}},pe(n,[{key:"yF",get:function(){return this.$M().length?this.$M():this.wF.EM().zN()}},{key:"lF",get:function(){return this.wF.bp<this.Am}}]),n}(qN);GN._F=1,GN.KA=.001,me(),zt(),Ae();var jN=function(){function t(){this.pF=!1}return pe(t,[{key:"AF",get:function(){return this.pF},set:function(t){this.pF=t}}]),t}();me(),zt();var YN=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).kF=!1,e.bF=!1,e.pF=i,e}ze(n,t);var i=n.prototype;return i.UM=function(){return!this.pF.AF&&t.prototype.UM.call(this)},i._y=function(){this.bF=!0,t.prototype._y.call(this)},i.wy=function(){this.bF=!1,t.prototype.wy.call(this)},i.CM=function(n){if(this.pF.AF)switch(n.type){case"ended":return this.pm=0,this.bF||(this.Cm?this.kF=!0:this.wy()),!0;case"seeked":this.kF&&(this.kF=!1,this.wy());break;case"pause":if(this.kF||t.prototype.UM.call(this))return!0}return t.prototype.CM.call(this,n)},n}(qN);me(),zt(),Ae(),me(),zt();var QN=function(){function t(t){var n;this.gD=t,this.v_=(n=this,{get currentBandwidthEstimate(){return n.jy},get corruptedVideoFrames(){return n.qy},get droppedVideoFrames(){return n.Wy},get totalBytesLoaded(){return n.Yy},get bufferedSegments(){return n.Qy}})}return pe(t,[{key:"d_",get:function(){return this.v_}},{key:"qy",get:function(){return this.gD.TF.Vy.qy}},{key:"jy",get:function(){return this.gD.TF.Vy.jy}},{key:"Wy",get:function(){return this.gD.TF.Vy.Wy}},{key:"SF",get:function(){throw new h("Not implemented")}},{key:"EF",get:function(){throw new h("Not implemented")}},{key:"Yy",get:function(){return this.gD.TF.Vy.Yy}},{key:"Gy",get:function(){return this.gD.TF.Vy.Gy}},{key:"Qy",get:function(){return this.gD.TF.Vy.Qy}}]),t}();function ZN(t){if(!t||!Go(t))return{Wy:0,qy:0,Gy:0,jy:0,Yy:0,Qy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{Wy:n.droppedVideoFrames,qy:n.corruptedVideoFrames||0,Gy:n.totalVideoFrames}}return{Wy:t.webkitDroppedFrameCount||0,qy:0,Gy:t.webkitDecodedFrameCount||0}}me(),zt(),Ae(),me(),zt();var KN=function(t){function n(){return t.call(this,"IF")}return ze(n,t),n.prototype.l_=function(){return new JN},n}(Im),JN=function(t){function n(){return t.call(this,"castingchange")}return ze(n,t),n}(fh);me(),zt();var $N=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).RF=[],n.CF=!1,n.v_=void 0,n.NF=function(){var t=n.CF,i=n.DF;t!==i&&(n.CF=i,n.Ho(new KN))},n}ze(n,t);var i=n.prototype;return i.PF=function(t){this.RF.push(t),t.zo("statechange",this.NF)},i.bv=function(){for(var t=0,n=this.RF;t<n.length;t++){n[t].Go("statechange",this.NF)}Pc(this.RF)},pe(n,[{key:"DF",get:function(){return this.RF.some((function(t){return t.DF}))}},{key:"d_",get:function(){var t,n,i;return this.v_||(this.v_=(i={get casting(){return t.DF},addEventListener:function(t,i){n.zo(t,i)},removeEventListener:function(t,i){n.Go(t,i)}},n=new zN(t=this,["IF"],i),i)),this.v_}}]),n}(oh);me(),zt(),me(),zt();var tD=function(){function t(){}return t.BF=function(t,n){return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),i=new D_({_l:t,fl:jw.dr,Fl:k_.GET}),[4,n.ll(i)];case 1:return[4,e.sent().jr()];case 2:return[2,e.sent().trim()];case 3:return Gc(e.sent()),[2,void 0];case 4:return[2]}}))}))()},t.OF=function(t){try{var n=vC(t);return new pC(n.key,n.domains_page,n.domains_source,n.expiration_date,n.features,n.customer_id,n.generation_date,n.sdks,n.send_impression)}catch(t){throw new bw(gw.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.xF=function(t){void 0===t&&(t=JR.Bk),De.$u("The baked-in license is used. Please update the configuration with your license.");var n=t.ZB(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),i=JSON.parse('["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.ZB(n)})),e=JSON.parse('["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.ZB(n)})),r=Number(new Date(Number(t.ZB('COD|aHpHa:p3Ceo3Co""')))),u=JSON.parse("[]").map((function(n){return t.ZB(n)}));return new pC(n,i,e,r,u)},t.convertLicenseToDummyLicense=function(t){return new pC(t.uO,t.sO,t.oO,864e13,t.cO,t.hO,Date.now(),t.vO,t.dO)},t}();me(),zt();var nD=function(){function t(){}return t.Vv=function(){return t.Ze||(t.Ze=iD.Ff()?new iD:new Hw),t.Ze},t.Ra=function(n){t.Vv().Ra(n)},t.Xv=function(){t.Vv().Xv()},t.Sa=function(n){return t.Vv().Sa(n)},t.zv=function(n,i){t.Vv().zv(n,i)},t.LF=function(n){var i=t.Sa(n);if(void 0!==i)return w(i)},t.MF=function(n){return"true"===t.Sa(n)},t}();nD.Ze=void 0;var iD=function(n){function i(){return n.apply(this,arguments)}ze(i,n);var e=i.prototype;return e.Ra=function(n){t.localStorage.removeItem(n)},e.Xv=function(){t.localStorage.clear()},e.Sa=function(n){return t.localStorage[n]},e.zv=function(n,i){t.localStorage[n]=i},i.Ff=function(){var n="foobar";try{return t.localStorage.setItem(n,n),t.localStorage.removeItem(n),!0}catch(t){}return!1},i}(nD),eD="https://validate.theoplayer.com/1/",rD=72e5,uD=d.floor(14399999*d.random()-rD),sD="THEOplayer.license",oD=function(){function t(t,n,i,e,r,u){this.hI=t,this.FF=n,this.UF=i,this.JO=e,this.HF=r,this.Nc=u,this.yO=IC(u)}var n=t.prototype;return n.XF=function(){var t=this;return _a((function(){var n;return ma(this,(function(i){switch(i.label){case 0:return[4,t.zF(t.HF.license,t.HF.licenseUrl)];case 1:return n=i.sent(),t.JO.VF(n),[2]}}))}))()},n.zF=function(t,n){var i=this;return _a((function(){var e,r,u,s,o,a,c,h;return ma(this,(function(f){switch(f.label){case 0:return e=n,t?r=tD.OF(t):e||(r=tD.xF()),e||(e=eD+r.uO),u=i.WF(),r?(s=i.FF.EO(r))!==lC.iO?[3,3]:i.qF(r.aO)&&i.qF(null==u?void 0:u.aO)?[4,i.GF(e)]:[3,2]:[3,3];case 1:if(o=f.sent())return[2,o];f.label=2;case 2:return[2,r];case 3:return u?i.FF.EO(u)!==lC.iO?[3,6]:i.qF(null==u?void 0:u.aO)?[4,i.GF(e)]:[3,5]:[3,7];case 4:if(a=f.sent())return[2,a];f.label=5;case 5:return[2,u];case 6:nD.Ra(sD),f.label=7;case 7:return[4,tD.BF(e,i.hI)];case 8:if(c=f.sent()){if(h=tD.OF(c),i.FF.EO(h)===lC.iO)return nD.zv(sD,c),[2,h];nD.Ra(sD)}else if(!i.yO&&r&&s===lC.eO&&e===eD+r.uO)return[2,tD.convertLicenseToDummyLicense(r)];if(!r&&!h)throw new bw(gw.LICENSE_ERROR,"The given license is invalid!");return i.jF(null!=r?r:h,new bw(gw.LICENSE_ERROR,"The given license is invalid!")),[2]}}))}))()},n.pO=function(t){var n=this;return _a((function(){var i,e,r,u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:return[4,n.JO.mx()];case 1:return i=c.sent(),n.qF(i.aO)?(r=null!=(e=n.HF.licenseUrl)?e:eD+i.uO,[4,n.GF(r)]):[3,3];case 2:(u=c.sent())&&(n.JO.VF(u),i=u),c.label=3;case 3:try{if((s=n.FF.EO(i))===lC.rO)throw o=mC.lO,new bw(kC(o),NC.TO(o));if(s===lC.eO)throw a=mC.eO,new bw(kC(a),NC.TO(a));n.FF.pO(t,i)}catch(t){n.YF(t)}return[2]}}))}))()},n.SO=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return[4,n.JO.mx()];case 1:i=e.sent();try{n.FF.SO(t,i)}catch(t){n.YF(t)}return[2]}}))}))()},n.GF=function(t){var n=this;return _a((function(){var i,e;return ma(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,tD.BF(t,n.hI)];case 1:return void 0===(i=r.sent())?[2,void 0]:(e=tD.OF(i),n.FF.EO(e)===lC.iO?(nD.zv(sD,i),[2,e]):[2,void 0]);case 2:return r.sent(),[2,void 0];case 3:return[2]}}))}))()},n.qF=function(t){return!t||Number(new Date)+2592e5+uD>=t},n.WF=function(){var t=nD.Sa(sD);if(t)return tD.OF(t)},n.jF=function(t,n){this.JO.VF(t),this.YF(n)},n.YF=function(t){throw Sr(t.message),this.UF.kx(t.message),t},t}();me(),zt(),Ae();var aD=function(){function t(){this.QF=new Mf}var n=t.prototype;return n.VF=function(t){this.ZF=t,this.QF.Ua()},n.mx=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return t.ZF?[2,j.resolve(t.ZF)]:[4,t.QF.Fa];case 1:return n.sent(),[2,t.ZF]}}))}))()},pe(t,[{key:"KF",get:function(){return this.ZF}}]),t}();me(),zt(),Ae(),me(),zt();var cD=function(t){function n(){return t.call(this,"I_")}return ze(n,t),n.prototype.l_=function(){return new hD},n}(Im),hD=function(t){function n(){return t.call(this,"change")}return ze(n,t),n}(fh);function fD(t){var n,i={get fontFamily(){return t.JF},set fontFamily(n){t.JF=n},get fontColor(){return t.tU},set fontColor(n){t.tU=n},get fontSize(){return t.nU},set fontSize(n){t.nU=n},get backgroundColor(){return t.iU},set backgroundColor(n){t.iU=n},get windowColor(){return t.eU},set windowColor(n){t.eU=n},get edgeStyle(){return t.rU},set edgeStyle(n){t.rU=n},get marginTop(){return t.uU},set marginTop(n){t.uU=n},get marginBottom(){return t.sU},set marginBottom(n){t.sU=n},get marginLeft(){return t.oU},set marginLeft(n){t.oU=n},get marginRight(){return t.aU},set marginRight(n){t.aU=n},addEventListener:function(t,i){var e=ty(t,Jm);n.zo(e,i)},removeEventListener:function(t,i){var e=ty(t,Jm);n.Go(e,i)}};return n=new ah(i),t.zo(["I_"],(function(t){return n.Ho(t.d_)})),i}me(),zt();var vD={JF:void 0,tU:void 0,nU:void 0,iU:void 0,eU:void 0,rU:void 0,cU:void 0,uU:void 0,sU:void 0,oU:void 0,aU:void 0},dD="THEOplayer.textTrackStyle.",lD=function(t){function n(){var i;return(i=t.call(this)||this).v_=void 0,i.hU=n.fU(),i}return ze(n,t),n.prototype.gf=function(t){this.hU=ga({},this.hU,t),n.vU(this.hU),this.Ho(new cD)},n.fU=function(){var t=ga({},vD);return t.JF=nD.Sa(dD+"fontFamily")||t.JF,t.tU=nD.Sa(dD+"fontColor")||t.tU,t.nU=nD.Sa(dD+"fontSize")||t.nU,t.iU=nD.Sa(dD+"backgroundColor")||t.iU,t.eU=nD.Sa(dD+"windowColor")||t.eU,t.rU=nD.Sa(dD+"edgeStyle")||t.rU,t},n.vU=function(t){nD.zv(dD+"fontFamily",t.JF||""),nD.zv(dD+"fontColor",t.tU||""),nD.zv(dD+"fontSize",t.nU||""),nD.zv(dD+"backgroundColor",t.iU||""),nD.zv(dD+"windowColor",t.eU||""),nD.zv(dD+"edgeStyle",t.rU||"")},pe(n,[{key:"dU",get:function(){return this.hU}},{key:"JF",get:function(){return this.hU.JF},set:function(t){this.gf({JF:t})}},{key:"tU",get:function(){return this.hU.tU},set:function(t){this.gf({tU:t})}},{key:"nU",get:function(){return this.hU.nU},set:function(t){this.gf({nU:t})}},{key:"iU",get:function(){return this.hU.iU},set:function(t){this.gf({iU:t})}},{key:"eU",get:function(){return this.hU.eU},set:function(t){this.gf({eU:t})}},{key:"rU",get:function(){return this.hU.rU},set:function(t){this.gf({rU:t})}},{key:"cU",get:function(){return this.hU.cU}},{key:"uU",get:function(){return this.hU.uU},set:function(t){this.gf({uU:t})}},{key:"sU",get:function(){return this.hU.sU},set:function(t){this.gf({sU:t})}},{key:"aU",get:function(){return this.hU.aU},set:function(t){this.gf({aU:t})}},{key:"oU",get:function(){return this.hU.oU},set:function(t){this.gf({oU:t})}},{key:"d_",get:function(){return this.v_||(this.v_=fD(this)),this.v_}}]),n}(oh);function wD(t,n){var i,e;t.style.marginLeft=(null!=(i=n.oU)?i:0)+"px",t.style.marginRight=(null!=(e=n.aU)?e:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}me(),zt(),Ae(),Oe(),me(),zt(),Ae(),me(),zt(),Ae(),me(),zt();var _D=[qw.wd,qw.ld,up.ym,qw.Cd,qw._d,qw.od,qw.kd,qw.Ad,qw.ed,qw.md,qw.Nd,qw.$v,up.R_,qw.pd,vy.Ag,ch.oa,ch._a,qw.Zv,qw.Qv,qw.Dd],gD={lU:!1};me(),zt(),Ae(),me(),zt(),Ae();var mD,yD=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];(mD||(mD={})).zB="wU";var pD=function(t){function n(n,i,e,r){var u;(u=t.call(this)||this)._U=!1,u.gU=new Mf,u.mU=!1,u.yU=new Nw,u.bf=void 0,u.pU=function(){u.mU=!0},u.AU=function(){u.kU(!0)},u.Jf=n,u._N=i,u.Sv=i.yN,u.bU=e,u.uo=r,u.Sv.addEventListener("loadedmetadata",u.pU);for(var s=0;s<yD.length;s++){var o=yD[s];u.Sv.addEventListener(o,u.AU)}return u}ze(n,t);var i=n.prototype;return i.TU=function(t,n){var i=this;return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:return[4,i.uo.oo(t.js,n)];case 1:return[4,r.sent().Bf()];case 2:return e=r.sent(),[4,i.SU(e)];case 3:return r.sent(),[2,e]}}))}))()},i.EU=function(t){var n=this,i=this.bf;return i?0!==t.EN.length&&t.EN.some((function(t){return t.Tf.js===i.Tf})):0!==this.Jf.EN.length?t.EN.some((function(t){return n.Jf.EN.some((function(n){return t.Tf===n.Tf}))})):0===t.EN.length||!this.mU},i.IU=function(t){return this.bU.IU(t),this.Jf=t,j.resolve()},i.Io=function(){var t=this;return _a((function(){var n,i;return ma(this,(function(e){switch(e.label){case 0:for(t.qo(),t.Sv.removeEventListener("loadedmetadata",t.pU),n=0;n<yD.length;n++)i=yD[n],t.Sv.removeEventListener(i,t.AU);return[4,t.yU.bv()];case 1:return e.sent(),[4,t.RU()];case 2:return e.sent(),[4,t.bU.Nf()];case 3:return e.sent(),[4,t.SU(void 0)];case 4:return e.sent(),[2]}}))}))()},i.kU=function(t){t!==this._U&&(this._U=t,t?this.gU.Ua(void 0):this.gU=new Mf)},i.SU=function(t){var n=this;return this.yU.pv((function(){return n.CU(t)}))},i.CU=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:if(t&&!n.Sv.src)throw new tA(gw.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&n.Sv.src)throw new tA(gw.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return!t||n._U?[3,2]:[4,n.gU.Fa];case 1:e.sent(),e.label=2;case 2:return(i=n.bf)?[4,i.Cf(n.Sv)]:[3,4];case 3:e.sent(),n.bf=void 0,e.label=4;case 4:return t?[4,t.Rf(n.Sv)]:[3,6];case 5:e.sent(),n.bf=t,e.label=6;case 6:return[2]}}))}))()},i.py=function(t){var n=this;return this.yU.pv((function(){return n.NU(t)}))},i.NU=function(t){this.kU(!1);var n=this._N.Rm;this.Sv.src=t,this._N.Rm=n},i.DU=function(t){var n=this;return this.yU.pv((function(){return n.PU(t)}))},i.PU=function(t){this.NU(t),this.Sv.load()},i.RU=function(){var t=this;return this.yU.pv((function(){return t.BU()}))},i.BU=function(){this.kU(!1),jo(this.Sv)},i.OU=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return t.bf?[4,t.bf.Nf()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},pe(n,[{key:"sy",get:function(){throw new h("Not implemented")}},{key:"Sf",get:function(){return this.Jf}},{key:"yN",get:function(){return this.Sv}},{key:"oy",get:function(){throw new h("Not implemented")}}]),n}(oh),AD=function(t){function n(){return t.apply(this,arguments)}ze(n,t);var i=n.prototype;return i.yM=function(){var t=this;return _a((function(){var n;return ma(this,(function(i){switch(i.label){case 0:switch((n=t.Sf).RN){case Cy.tm:case Cy.nm:t.Sv.setAttribute("crossorigin",n.RN);break;case Cy.$g:default:t.Sv.removeAttribute("crossorigin")}return void 0!==n.Jy?t.Sv.preload=n.Jy:t.Sv.preload=wI.IC,void 0!==n.CN?t.Sv.title=n.CN:qo(t.Sv),[4,t.py(n.Og)];case 1:return i.sent(),t.bU.wf(t,n),[2]}}))}))()},i.EU=function(t){return!1},i.IU=function(t){return j.resolve(void 0)},i.Io=function(){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return qo(n.Sv),[4,t.prototype.Io.call(n)];case 1:return i.sent(),[2]}}))}))()},n.xU=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Gd))},pe(n,[{key:"Uy",get:function(){return TI.sP(this.Sv.buffered)}},{key:"Am",get:function(){return this.Sv.duration}},{key:"LU",get:function(){var t=this.Am;if(!isFinite(t))return!1;var n=this.Uy;return 0!==n.V_&&t-n.RD(n.V_-1)<du}},{key:"Jy",get:function(){return this.Sv.preload},set:function(t){this.Sv.preload=t}},{key:"$y",get:function(){return TI.sP(this.Sv.seekable)}},{key:"MU",get:function(){return this.Uy}},{key:"FU",get:function(){if(Go(this.Sv)&&(this.Sv.videoWidth>0||this.Sv.videoHeight>0))return this.Uy}}]),n}(pD);me(),zt();var kD=function(t){function n(n){var i;return(i=t.call(this,qw._d)||this).currentTime=n,i}return ze(n,t),n}(fh);me(),zt();var bD,TD=function(t){function n(){return t.call(this,qw.od)}return ze(n,t),n}(fh);me(),zt(),Ae(),me(),zt(),(bD||(bD={})).UU="HU";var SD,ED,ID,RD=["HU"];(ED=SD||(SD={}))[ED.XU=0]="XU",ED[ED.Ld=1]="Ld",ED[ED.zU=2]="zU",me(),zt(),Ae(),(ID||(ID={})).VU="WU";var CD=function(t){function n(n){var i;return(i=t.call(this,"WU")||this).qU=n,i}return ze(n,t),n}(fh),ND=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).GU=TI.hP(),n}ze(n,t);var i=n.prototype;return i.jU=function(t,n){var i=new TI([t,n]);this.GU=this.GU.qD(i),this.Ho(new CD(i))},i.YU=function(t,n){this.GU=this.GU.jD(new TI([t,n]))},i.Nf=function(){this.GU=TI.hP()},i.bv=function(){this.qo()},pe(n,[{key:"QU",get:function(){return this.GU}}]),n}(oh);me(),zt(),Ae(),me(),zt(),Ae(),me(),zt();var DD=function(){function t(t,n){var i=n.size,e=void 0===i?function(){return 1}:i,r=n.highWaterMark,u=void 0===r?1:r,s=this;this.St=[],this.Et=0,this.QF=void 0,this.ZU=!1,this.KU=void 0,this.JU=function(t){return t.done?(s.$U(),void s.QF.close()):(s.St.push(t.value),s.Et+=s.tH(t.value),s.ZU&&s.$U(),s.nH()?s.ct.read().then(s.JU):void 0)},this.Nw=function(t){s.$U(),s.QF.error(t)},this.ct=t.getReader(),this.tH=e,this.iH=u}var n=t.prototype;return n.start=function(t){this.QF=t,this.nH()&&this.eH()},n.pull=function(){this.St.length>0?this.$U():this.ZU=!0,this.nH()&&this.eH()},n.cancel=function(t){return Pc(this.St),this.Et=0,this.ZU=!1,this.ct.cancel(t)},n.$U=function(){if(0!==this.St.length){var t=this.St;this.St=[],this.Et=0,this.ZU=!1,this.QF.enqueue(t)}},n.nH=function(){return!!this.ZU||this.iH-this.Et>0},n.eH=function(){var t=this;if(!this.KU){var n=this.ct.read().then(this.JU).catch(this.Nw);this.KU=n;var i=function(){t.KU===n&&(t.KU=void 0)};n.then(i,i)}},t}();me(),zt(),me(),zt(),Ae(),me(),zt(),me(),zt();var PD,BD,OD=function(){function t(){this.rH=[],this.Ca=0}var n=t.prototype;return n.uH=function(t){this.rH.push(t),this.Ca+=t.byteLength},n.sH=function(t){if(this.Ca<=t)return this.oH();for(var n=this.rH,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var u=t-i;0,r.push(Ef(n[e],0,u)),i+=u}return{rH:r,Ca:i}},n.aH=function(t){var n=this.sH(t);return 1===n.rH.length?n.rH[0]:Bh(n.rH,n.Ca)},n.oH=function(){return{rH:this.rH,Ca:this.Ca}},n.cH=function(t){if(this.Ca<=t)return this.hH();for(var n=this.rH,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var u=t-i;0,r.push(Ef(n[0],0,u)),n[0]=Ef(n[0],u),i+=u}return this.Ca-=i,{rH:r,Ca:i}},n.fH=function(t){var n=this.cH(t);return 1===n.rH.length?n.rH[0]:Bh(n.rH,n.Ca)},n.hH=function(){var t=this.oH();return this.rH=[],this.Ca=0,t},n.vH=function(){var t=1===this.rH.length?this.rH[0]:Bh(this.rH,this.Ca);return this.rH=[],this.Ca=0,t},t}();(BD=PD||(PD={}))[BD.dH=0]="dH",BD[BD.lH=1]="lH",BD[BD.wH=2]="wH";var xD=function(){function t(){this.St=new OD,this.l=0,this._H=0,this.gH=0,this.mH()}var n=t.prototype;return n.yH=function(t,n){},n.pH=function(){},n.AH=function(t){this.St.uH(t),this.kH(!1)},n.bH=function(){this.kH(!0)},n.TH=function(){return 0!==this.l||0!==this.St.Ca},n.kH=function(t){for(;0!==this.St.Ca;){if(!t&&this._H>this.St.Ca)return;switch(this.l){case 0:this.SH(t);break;case 1:this.EH(t);break;case 2:this.IH(t)}}},n.mH=function(){this.l=0,this._H=8},n.SH=function(t){var n=Rf(this.St.aH(this._H)),i=new xf,e=ab.eT(n,i);if(!e.Jb)return this._H=e.uT,void(t&&this._H>this.St.Ca&&this.RH(this.St.Ca));var r=e.rT.Gs,u=e.rT.Ca;0===u&&(u=1/0),this.yH(r,u),this.CH(r)?this.NH(u):this.RH(u)},n.NH=function(t){this.l=1,this._H=t},n.EH=function(t){var n=Rf(this.St.fH(this._H)),i=new xf,e=ab.$b(n,i,!t);if(!e.Jb)throw new ob(i.Na);this.pH(),this.DH(e.tT),this.mH()},n.RH=function(t){this.l=2,this._H=0,this.gH=t},n.IH=function(t){var n=this.St.cH(this.gH);this.gH-=n.Ca;for(var i=0,e=n.rH;i<e.length;i++){var r=e[i];this.PH(r)}(0===this.gH||t&&this.gH===1/0)&&(this.pH(),this.mH())},t}();function LD(t){return t instanceof Zd}function MD(t){return t instanceof Yd}function FD(t){return t instanceof qd||t instanceof Gd}function UD(t){return t instanceof dd}function HD(t){return t instanceof zv}function XD(t){return t instanceof Fd}function zD(t){return t instanceof Ld}function VD(t){return t instanceof al}function WD(t){return t instanceof il}function qD(t){return t instanceof rl}function GD(t,n){var i=Ec(t.boxes,WD);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var u=r[e];u instanceof rl&&u.flags.dataOffsetPresent&&(u.dataOffset=u.dataOffset+n)}}me(),zt();var jD=function(t){function n(n){var i;return(i=t.call(this)||this).BH=ka(),i.OH=n,i}ze(n,t);var i=n.prototype;return i.start=function(t){this.QF=t},i.transform=function(t){this.AH(t)},i.flush=function(){this.bH()},i.CH=function(t){return t===lk.Ok||t===lk.gb||t===lk.Ib},i.DH=function(t){var n=this.xH(t);this.QF.enqueue(n)},i.PH=function(t){this.QF.enqueue(t)},i.xH=function(t){var n=Cf(t.jr.jr);switch(t.Gs){case"moov":return this.LH(n);case"sidx":return this.MH(n);case"moof":return this.FH(n)}return n},i.UH=function(t){var n=this.BH.get(t);if(void 0===n)throw new h("Expected to have found a media header timescale for track ID "+t+".");return n},i.LH=function(t){for(var n=Rl(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof Xd?n.boxes[i]=this.HH(e):e instanceof zd?n.boxes[i]=this.XH(e):e instanceof Yd&&this.zH(e)}for(var r=0,u=n.boxes;r<u.length;r++){var s=u[r];s instanceof Fd&&this.VH(s)}return n.serialize().join()},i.HH=function(t){this.WH=t.timescale;var n=QD(Jr.fromNumber(t.duration,!0),this.qH,this.OH);return 0!==n.getHighBits()?this.XH(function(t){return new zd({creation:Jr.fromNumber(t.creationTime,!0),modification:Jr.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:Jr.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.OH,t.duration=n.toInt(),t)},i.XH=function(t){return this.WH=t.timescale,t.timescale=this.OH,t.duration=QD(t.duration,this.qH,this.OH),t},i.zH=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof qd?(n=e.trackId,t.boxes[i]=this.GH(e)):e instanceof Gd?(n=e.trackId,t.boxes[i]=this.jH(e)):e instanceof dd?this.YH(e,n):e instanceof id&&this.QH(e)}},i.GH=function(t){var n=QD(Jr.fromNumber(t.duration,!0),this.qH,this.OH);return 0!==n.getHighBits()?this.jH(function(t){return new Gd({creation:Jr.fromNumber(t.creationTime,!0),modification:Jr.fromNumber(t.modificationTime,!0),duration:Jr.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.jH=function(t){return t.duration=QD(t.duration,this.qH,this.OH),t},i.YH=function(t,n){for(var i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof cd?t.boxes[i]=this.ZH(e,n):e instanceof hd&&(t.boxes[i]=this.KH(e,n))}},i.ZH=function(t,n){this.BH.set(n,t.timescale);var i=QD(Jr.fromNumber(t.duration,!0),t.timescale,this.OH);return 0!==i.getHighBits()?this.KH(function(t){return new hd({creation:Jr.fromNumber(t.creationTime,!0),modification:Jr.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:Jr.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.OH,t.duration=i.toInt(),t)},i.KH=function(t,n){return this.BH.set(n,t.timescale),t.timescale=this.OH,t.duration=QD(t.duration,t.timescale,this.OH),t},i.QH=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof $v?this.JH(e):e instanceof td&&this.$H(e)}},i.JH=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=YD(e.mediaTime,this.qH,this.OH),e.segmentDuration=YD(e.segmentDuration,this.qH,this.OH)}},i.$H=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=QD(e.mediaTime,this.qH,this.OH),e.segmentDuration=QD(e.segmentDuration,this.qH,this.OH)}},i.VH=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Ld?this.tX(i):i instanceof Bd?t.boxes[n]=this.nX(i):i instanceof Od&&(t.boxes[n]=this.iX(i))}},i.tX=function(t){var n=this.UH(t.trackId);t.defaultSampleDuration=YD(t.defaultSampleDuration,n,this.OH)},i.nX=function(t){var n=QD(Jr.fromNumber(t.fragmentDuration,!0),this.qH,this.OH);return 0!==n.getHighBits()?this.iX(function(t){return new Od(Jr.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.iX=function(t){return t.fragmentDuration=QD(t.fragmentDuration,this.qH,this.OH),t},i.MH=function(t){var n=Cl(t);return(n=n instanceof ll?this.eX(n):this.rX(n)).serialize().join()},i.eX=function(t){var n=t.timescale,i=QD(Jr.fromNumber(t.earliestPresentationTime,!0),n,this.OH);if(0!==i.getHighBits())return this.rX(function(t){return new wl(t.referenceId,t.timescale,Jr.fromNumber(t.earliestPresentationTime,!0),Jr.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.OH,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var u=r[e];u.subsegmentDuration=YD(u.subsegmentDuration,n,this.OH)}return t},i.rX=function(t){var n=t.timescale;t.timescale=this.OH,t.earliestPresentationTime=QD(t.earliestPresentationTime,n,this.OH);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=YD(r.subsegmentDuration,n,this.OH)}return t},i.FH=function(t){for(var n=Nl(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var u=r[e];u instanceof sl&&this.uX(u)}var s=n.getSize();if(s!==i)for(var o=s-i,a=0,c=n.boxes;a<c.length;a++){var h=c[a];h instanceof sl&&GD(h,o)}return n.serialize().join()},i.uX=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof il?(n=this.UH(e.trackId),this.sX(e,n)):e instanceof $d?t.boxes[i]=this.oX(e,n):e instanceof tl?t.boxes[i]=this.aX(e,n):e instanceof rl&&this.cX(e,n)}},i.sX=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=YD(t.defaultSampleDuration,n,this.OH))},i.oX=function(t,n){var i=QD(Jr.fromNumber(t.baseMediaDecodeTime,!0),n,this.OH);return 0!==i.getHighBits()?this.aX(function(t){return new tl(Jr.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.aX=function(t,n){return t.baseMediaDecodeTime=QD(t.baseMediaDecodeTime,n,this.OH),t},i.cX=function(t,n){for(var i,e,r,u=0,s=0,o=0,a=t.samples;o<a.length;o++){var c=a[o];if(void 0!==c.duration){var h=YD(s+=c.duration,n,this.OH);c.duration=h-u,u=h}void 0!==c.compositionTimeOffset&&(c.compositionTimeOffset=(i=c.compositionTimeOffset,e=n,r=this.OH,Jr.fromInt(i,!1).multiply(r).divide(e).toNumber()))}},pe(n,[{key:"qH",get:function(){if(void 0===this.WH)throw new h("Expected to have found a movie header timescale.");return this.WH}}]),n}(xD);function YD(t,n,i){return Jr.fromInt(t,!0).multiply(i).divide(n).toNumber()}function QD(t,n,i){return ik.PA(t).CA(ik.FA(i,!0)).MA(ik.FA(n,!0)).mA()}var ZD,KD,JD,$D,tP,nP,iP=function(){function t(t){this.hX=new jD(t)}return t.prototype.fX=function(t){return t.pipeThrough(new Ut(this.hX))},t}();function eP(t,n,i){var e=Qh(t,n);if(e!==i)throw new f("Expected descriptor with tag "+i+", but found "+e)}function rP(t,n){eP(t,n,3);var i,e,r,u=uP(t,n),s=n.Na+u,o=nf(t,n),a=Qh(t,n),c=0!=(64&a),h=0!=(32&a),f=31&a;(0!=(128&a)&&(i=nf(t,n)),c)&&(e=af(t,n,Qh(t,n)));h&&(r=af(t,n,2));var v=function(t,n){eP(t,n,4);var i,e=uP(t,n),r=n.Na+e,u=Qh(t,n),s=Qh(t,n),o=s>>2,a=0!=(2&s),c=tf(t,n,3),h=rf(t,n),f=rf(t,n);if(n.Na<r){5===function(t,n){return t.getUint8(n.Na)}(t,n)&&(i=function(t,n){eP(t,n,5);var i=uP(t,n);return{vX:5,dX:Kh(t,n,i)}}(t,n))}return n.Ba(r),{vX:4,lX:u,wX:o,_X:a,gX:c,mX:h,yX:f,pX:i}}(t,n);return n.Ba(s),{vX:3,eg:o,AX:i,_l:e,kX:f,bX:r,TX:v}}function uP(t,n){for(var i=0,e=0;e<4;e++){var r=Qh(t,n);if(i=i<<7|127&r,!(128&r))break}return i}function sP(t,n){for(var i=Qh(t,n),e=Qh(t,n),r=Qh(t,n),u=Qh(t,n),s=3&Qh(t,n),o=31&Qh(t,n),a=[],c=0;c<o;c++){var h=nf(t,n);a.push(Kh(t,n,h))}for(var f=Qh(t,n),v=[],d=0;d<f;d++){var l=nf(t,n);v.push(Kh(t,n,l))}return{SX:i,EX:e,IX:r,RX:u,CX:s,NX:a,DX:v}}function oP(t,n,i){if(!(i&&n.byte>=i)){var e=t.Sa(n.byte);return n.byte+=1,e}}function aP(t,n){return function(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=256*e+oP(t,n);return e}(t,n,2)}me(),zt(),me(),zt(),(KD=ZD||(ZD={}))[KD.PX=3]="PX",KD[KD.BX=4]="BX",KD[KD.OX=5]="OX",($D=JD||(JD={}))[$D.xX=64]="xX",$D[$D.LX=103]="LX",$D[$D.MX=107]="MX",me(),zt(),me(),zt(),(nP=tP||(tP={}))[nP.FX=0]="FX",nP[nP.UX=1]="UX",nP[nP.LX=2]="LX",nP[nP.HX=5]="HX",nP[nP.XX=34]="XX",me(),zt(),me(),zt(),me(),zt(),me(),zt(),Ae();var cP=function(){function t(){this.zX=0,this.VX=[],this.qE={}}var n=t.prototype;return n.WX=function(t){this.VX=this.VX.concat(t.VX),this.zX+=t.V_},n.qX=function(t,n,i){var e=this.zX,r=i-n;r>0&&(this.VX.push({GX:n,jX:i,YX:r,QX:e,ZX:t}),this.zX+=r)},n.Sa=function(t){for(var n=0,i=this.VX;n<i.length;n++){var e=i[n];if(e.QX<=t&&t<e.QX+e.YX)return e.ZX[t+e.GX-e.QX]}},n.KX=function(t,n){for(var i=n,e=0,r=this.VX;e<r.length;e++)for(var u=r[e],s=u.jX,o=u.GX;o<s;o+=1,i+=1)t[i]=u.ZX[o];return i},n.JX=function(){for(var t=new g(this.zX),n=0,i=0,e=this.VX;i<e.length;i++)for(var r=e[i],u=r.jX,s=r.GX;s<u;s+=1,n+=1)t[n]=r.ZX[s];return t},n.Oa=function(n){for(var i=new t,e=0,r=this.VX;e<r.length;e++){var u=r[e];i.qX(u.ZX,u.GX,u.jX)}return i.qE=n||ga({},this.qE),i},pe(t,[{key:"V_",get:function(){return this.zX},set:function(t){var n=this.VX,i=this.zX-t;if(!(t>=this.zX))if(this.zX=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.YX)return r.jX-=i,r.YX-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.YX}else n.length=0}},{key:"jr",get:function(){for(var t=new Array(this.zX),n=0,i=0,e=this.VX;i<e.length;i++)for(var r=e[i],u=r.jX,s=r.GX;s<u;s+=1,n+=1)t[n]=r.ZX[s];return t}}]),t}();me(),zt();var hP,fP,vP=[128,64,32,16,8,4,2,1];function dP(t,n){var i=d.floor(n.bit/8),e=0==(t.Sa(i)&vP[n.bit%8])?0:1;return n.bit+=1,e}function lP(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=2*e+dP(t,n);return e}function wP(t,n){for(var i=0;0===dP(t,n)&&i<32;)i+=1;return lP(t,n,i)+d.pow(2,i)-1}function _P(t,n){var i=wP(t,n);return 1&i?d.floor((i+1)/2):-d.floor(i/2)}function gP(t,n){var i,e=[],r={byte:1};do{e.push(yP(t,n,r)),i=n.Sa(r.byte)}while(void 0!==i&&128!==i);return e}function mP(t,n){var i,e=0;do{e+=i=oP(t,n)}while(255===i);return e}function yP(t,n,i){var e=mP(n,i),r=mP(n,i),u=i.byte,s=u+r;return i.byte=s,{$X:t,tz:e,nz:r,iz:u,ez:s,rz:n}}(fP=hP||(hP={}))[fP.sz=1]="sz",fP[fP.oz=2]="oz",fP[fP.cz=3]="cz",fP[fP.fz=4]="fz",fP[fP.vz=5]="vz",fP[fP.lz=6]="lz",fP[fP.wz=7]="wz",fP[fP._z=8]="_z",fP[fP.gz=9]="gz";var pP=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function AP(t,n,i){for(var e=8,r=8,u=0;u<i;u+=1){if(0!==r)r=(e+_P(t,n)+256)%256;e=0===r?e:r}}var kP=function(){function t(t){this.mz=[],this.yz=0,this.pz=t}var n=t.prototype;return n.Az=function(){for(var t=this.mz,n=d.max(0,this.yz+t.length-2),i=this.pz,e=i.V_,r=0;n<e;n+=1){var u=i.Sa(n);0===u?r+=1:(3===u&&r>=2&&t.push(n),r=0)}this.yz=n-t.length},n.kz=function(t){for(var n=this.mz,i=t,e=0;e<n.length;e++){if(!(n[e]<=i))return i;i+=1}return i},n.Sa=function(t){if(!(t>this.pz.V_))return t>this.yz&&this.Az(),this.pz.Sa(this.kz(t))},t}();function bP(t){var n,i,e,r,u,s,o=new kP(t),a=0,c=0,h=0,f=0,v=o.Sa(1),l={bit:32};if(wP(o,l),100===v||110===v||122===v||144===v){var w=wP(o,l);if(3===w&&(n=dP(o,l)),wP(o,l),wP(o,l),dP(o,l),1===dP(o,l))for(var _=0;_<(3!==w?8:12);_+=1){1===dP(o,l)&&AP(o,l,_<6?16:64)}}var g=wP(o,l),m=wP(o,l);if(0===m)wP(o,l);else if(1===m){dP(o,l),_P(o,l),_P(o,l);for(var y=wP(o,l),p=0;p<y;p+=1)_P(o,l)}wP(o,l),dP(o,l);var A=wP(o,l),k=wP(o,l),b=dP(o,l);if(0===b&&dP(o,l),dP(o,l),1===dP(o,l)&&(a=wP(o,l),c=wP(o,l),h=wP(o,l),f=wP(o,l)),1===dP(o,l)){if(1===dP(o,l)){var T=lP(o,l,8);if(255===T)i=lP(o,l,16),e=lP(o,l,16);else{var S=pP[T];S&&(i=S[0],e=S[1])}}if(1===dP(o,l)&&dP(o,l),1===dP(o,l))lP(o,l,3),dP(o,l),1===dP(o,l)&&(lP(o,l,8),lP(o,l,8),lP(o,l,8));1===dP(o,l)&&(wP(o,l),wP(o,l)),1===(r=dP(o,l))&&(u=lP(o,l,32),s=lP(o,l,32),dP(o,l))}return{width:d.floor(16*(A+1)-2*a-2*c),height:d.floor((2-b)*(k+1)*16-2*h-2*f),JS:i,$S:e,bz:r?s/(2*u):void 0,Tz:n,Sz:g}}function TP(t){var n=sb(db.fT(t),lk.Ok);if(n){for(var i=n.rT.VA,e=[],r=0,u=n.ET;r<u.length;r++){for(var s=u[r],o=s.rT.UT,a=s.xT.rT.VA,c=void 0,h=void 0,f=void 0,v=0,d=s.xT.jT.ZT.JT.tS;v<d.length;v++){var l,w,_,g=SP(d[v]);if(g)c=null!=(l=g.Ez)?l:c,h=null!=(w=g.Iz)?w:h,f=null!=(_=g.Rz)?_:f}e.push({UT:o,VA:a,Ez:c,Iz:h,Rz:f})}return{VA:i,ET:e}}}function SP(t){var n,i,e;if(t.Gs===lk.jk){var r,u=sP(Rf(t.RS.jr),new xf);n=function(t){return"avc1."+EP(t.EX,2)+EP(t.IX,2)+EP(t.RX,2)}(u),e=null==(r=function(t){if(0===t.NX.length)return;var n=t.NX[0],i=new cP;return i.qX(n,0,n.byteLength),bP(i)}(u))?void 0:r.bz}else if(t.Gs===lk.Qk||t.Gs===lk.Zk){var s=function(t,n){for(var i=n.Ma(),e=Fh(t,i,8),r=Fh(t,i,2),u=Fh(t,i,1),s=Fh(t,i,5),o=Fh(t,i,32),a=[],c=0;c<6;c++)a.push(Fh(t,i,8));var h=Fh(t,i,8);i.Da(4);var f=Fh(t,i,12);i.Da(6);var v=Fh(t,i,2);i.Da(6);var d=Fh(t,i,2);i.Da(5);var l=Fh(t,i,3);i.Da(5);for(var w=Fh(t,i,3),_=Fh(t,i,16),g=Fh(t,i,2),m=Fh(t,i,3),y=Fh(t,i,1),p=Fh(t,i,2),A=Fh(t,i,8),k=[],b=0;b<A;b++){var T=Fh(t,i,1);i.Da(1);for(var S=Fh(t,i,6),E=Fh(t,i,16),I=[],R=0;R<E;R++){var C=Fh(t,i,16),N=Kh(t,new xf(i.Na>>3),C);i.Da(8*C),I.push({Cz:C,Nz:N})}k.push({Dz:T,Pz:S,Bz:E,Oz:I})}return{SX:e,xz:r,Lz:u,Mz:s,Fz:a,Uz:h,Xz:f,zz:v,Vz:o,Wz:d,qz:l,Gz:w,jz:_,Yz:m,Qz:y,Zz:g,CX:p,Kz:A,Jz:k}}(Rf(t.PS.jr),new xf);n=function(t,n){var i=t.toString()+".";switch(n.xz){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.Mz.toString()+".",i+=function(t){var n=t;return n=(n=(n=(n=(n=n>>>1&1431655765|(1431655765&n)<<1)>>>2&858993459|(858993459&n)<<2)>>>4&252645135|(252645135&n)<<4)>>>8&16711935|(16711935&n)<<8)>>>16|n<<16}(n.Vz).toString(16)+".",n.Lz){case 0:i+="L";break;case 1:i+="H";break;default:return}i+=n.Uz.toString();for(var e=n.Fz.reduce((function(t,n){return 0===t?n:n+1}),0),r=0;r<e;r++)i+="."+n.Fz[r].toString(16).toUpperCase();return i}(t.Gs,s)}else if(t.Gs===lk.Jk){var o=function(t,n){var i=n.Ma(),e=Fh(t,i,8);i.Da(24);for(var r=Fh(t,i,8),u=Fh(t,i,8),s=Fh(t,i,4),o=Fh(t,i,3),a=Mh(t,i),c=Fh(t,i,8),h=Fh(t,i,8),f=Fh(t,i,8),v=Fh(t,i,16),d=new Array(8),l=0;l<v;l++)d[l]=Fh(t,i,8);return{SX:e,$z:r,tV:u,nV:s,iV:o,eV:a,YS:c,QS:h,ZS:f,rV:v,uV:d}}(Rf(t.xS.jr),new xf);n=function(t,n){var i=t.toString()+".";return i+="0"+n.$z+".",i+=oc(""+n.tV,2,"0")+".",i+=oc(""+n.nV,2,"0")+".",i+=oc(""+n.iV,2,"0")+".",i+=oc(""+n.YS,2,"0")+".",i+=oc(""+n.QS,2,"0")+".",i+=oc(""+n.ZS,2,"0")+".",i+="0"+n.eV}(t.Gs,o)}else if(t.Gs===lk.ib){var a=function(t,n){var i=n.Ma();i.Da(1);var e=Fh(t,i,7),r=Fh(t,i,3),u=Fh(t,i,5),s=Mh(t,i),o=Mh(t,i),a=Mh(t,i),c=Mh(t,i),h=Mh(t,i),f=Mh(t,i),v=Fh(t,i,2);i.Da(3);var d,l=Mh(t,i);return l?d=Fh(t,i,4):i.Da(4),{cT:e,sV:r,oV:u,aV:s,cV:o,hV:a,fV:c,vV:h,dV:f,lV:v,wV:l,_V:d}}(Rf(t.FS.jr),new xf);n=function(t,n,i){var e=t.toString()+".";if(e+=n.sV+".",e+=""+oc(""+n.oV,2,"0"),e+=(0===n.aV?"M":"H")+".",e+=(1===n.hV?12:10)+".",e+=(1===n.sV?0:n.fV)+".",e+=""+n.vV+n.dV+(1===n.vV&&1===n.dV?n.lV:"0"),i&&i.jS===gk.ON_SCREEN_COLOURS){var r=i;e+="."+oc(""+r.YS,2,"0")+"."+oc(""+r.QS,2,"0")+"."+oc(""+r.ZS,2,"0")+"."+(r.KS?1:0)}return e}(t.Gs,a,t.US)}else{if(t.Gs!==lk.ob)return(t.Gs===lk._b||t.Gs===lk.wb)&&t.zS?SP(t.zS):void 0;i=function(t){var n=t.TX;switch(n.lX){case JD.xX:return function(t){var n;if(!(null==(n=t.pX)?void 0:n.dX))return"mp4a.40";return"mp4a.40."+function(t,n){var i=Fh(t,n,5);31===i&&(i=32+Fh(t,n,6));var e,r=Fh(t,n,4);return 15===r&&(e=Fh(t,n,24)),{gV:i,mV:r,yV:e,pV:Fh(t,n,4)}}(Rf(t.pX.dX),new Uh).gV}(n);case JD.LX:return"mp4a.40.2";case JD.MX:return"mp4a.40.34"}}(rP(Rf(t.kS.jr),new xf))}return{Ez:n,Iz:i,Rz:e}}function EP(t,n){return oc(t.toString(16),n,"0")}function IP(t,n){var i=db.fT(Rf(t)),e=function(t,n){for(var i,e=function(t,e){var r,u=e[t],s=null==(r=u.dE)?void 0:r.dE;if(s){var o=u.rT.UT,a=Ec(n.ET,(function(t){return t.UT===o})),c=ak.PA(s,a.VA);i&&!c.rA(i)||(i=c)}},r=0,u=t.ET;r<u.length;r++)e(r,u);return i}(sb(i,lk.gb),n),r=sb(i,lk.Tb);return{kp:e.Kp(),AV:r.jr}}function RP(t,n){return CP.apply(this,arguments)}function CP(){return(CP=_a((function(t,n){var i;return ma(this,(function(e){switch(e.label){case 0:switch(t.Gs){case SD.XU:return[3,1];case SD.Ld:return[3,2];case SD.zU:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,u_(t.jr,n)];case 3:return i=e.sent(),jc(n),[2,{Gs:SD.XU,jr:new g(i)}];case 4:throw new h("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 5:return[2]}}))}))).apply(this,arguments)}me(),zt();var NP=tr.Le,DP=function(t){function n(n,i,e,r,u){var s,o;if((s=t.call(this)||this).wM=20,s._M=30,s.kV=!1,s.bV=!1,s.TV=void 0,s.SV=new Wc,s.EV=!1,s.RV=void 0,s.CV=!1,s.NV=void 0,s.DV=function(){s.kV=!1},s.PV=i,s.BV=n,s.OV=e,s.OV.addEventListener("updateend",s.DV),s.xV=r,s.LV=u,s.CV=PP(r.Gd,u),null==(o=i.Sf)?void 0:o.Uu){var a,c=null!=(a=i.Sf.MV)?a:1e5;s.FV=new iP(c)}return s}ze(n,t);var i=n.prototype;return i.UV=function(t,n,i){var e=this;switch(t.Gs){case SD.XU:case SD.Ld:return this.HV((function(i){return e.XV(t,n,i)}),i);case SD.zU:throw new h("Opaque segments are not supported on web.")}},i.zV=function(t,n){var i=this;switch(t.Gs){case SD.XU:return this.HV((function(n){return i.VV(t,n)}),n);case SD.Ld:throw new h("Streaming initialization segments are not supported on web.");case SD.zU:throw new h("Opaque initialization segments are not supported on web.")}},i.VV=function(t,n){var i=this;return _a((function(){return ma(this,(function(e){switch(e.label){case 0:return i.CV?(i.NV=TP(Rf(t.jr)),[2]):[4,i.WV(t,void 0,n)];case 1:return e.sent(),NP&&(i.EV=!1,i.RV=t),[2]}}))}))()},i.XV=function(t,n,i){var e=this;return _a((function(){var r,u,s;return ma(this,(function(o){switch(o.label){case 0:return NP&&e.EV&&e.RV?[4,e.VV(e.RV,i)]:[3,2];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,,6,7]),jc(i),e.CV&&e.NV?[4,RP(t,i)]:[3,4];case 3:r=o.sent(),u=IP(r.jr,e.NV),t={Gs:SD.XU,jr:u.AV},n=ga({},n,{Rk:u.kp+(null!=(s=n.Rk)?s:0)}),o.label=4;case 4:return[4,e.WV(t,n,i)];case 5:return o.sent(),e.Ho(new fh(bD.UU)),[3,7];case 6:return t.Gs===SD.Ld&&t.jr.cancel(new qc).catch(lr),[7];case 7:return[2]}}))}))()},i.WV=function(t,n,i){var e=this;return _a((function(){var r,u;return ma(this,(function(s){switch(s.label){case 0:return jc(i),n?[4,e.qV(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:switch(t.Gs){case SD.XU:return[3,3];case SD.Ld:return[3,7]}return[3,11];case 3:return e.FV?(r=e.FV.fX(e_(t.jr)),[4,e.GV(r,i)]):[3,5];case 4:return[2,s.sent()];case 5:return[4,e.jV(t.jr)];case 6:return[2,s.sent()];case 7:return e.FV?(u=e.FV.fX(t.jr),[4,e.GV(u,i)]):[3,9];case 8:return[2,s.sent()];case 9:return[4,e.GV(t.jr,i)];case 10:return[2,s.sent()];case 11:return[2]}}))}))()},i.GV=function(t,n){var i=this;return _a((function(){var e,r,u,s,o,a,c,h,f;return ma(this,(function(v){switch(v.label){case 0:e=i.BV.Uy,r=function(t,n){return void 0===n&&(n=new Ft({highWaterMark:1/0})),new Mt(new DD(t,n),{highWaterMark:0})}(t),u=r.getReader(),s=!1,v.label=1;case 1:v.trys.push([1,6,,12]),v.label=2;case 2:return[4,Zc(u.read(),n)];case 3:return(o=v.sent()).done?(s=!1,[3,5]):(jc(n),a=Ph(o.value),s=!0,[4,i.jV(a)]);case 4:return v.sent(),[3,2];case 5:return[3,12];case 6:return c=v.sent(),u.cancel(c).catch(lr),s?[4,i.YV()]:[3,11];case 7:v.sent(),h=i.BV.Uy.UD(e.HD()),f=0,v.label=8;case 8:return f<h.V_?[4,i.QV(h.SD(f),h.RD(f))]:[3,11];case 9:v.sent(),v.label=10;case 10:return f++,[3,8];case 11:throw c;case 12:return[2]}}))}))()},i.ZV=function(t,n){var i=this;return this.HV((function(){return i.KV(t,n)}))},i.KV=function(t,n){var i=this;return _a((function(){return ma(this,(function(e){switch(e.label){case 0:return i.OV.appendWindowStart===t&&i.OV.appendWindowEnd===n?[3,2]:[4,i.YV()];case 1:e.sent(),i.OV.appendWindowStart=0,i.OV.appendWindowEnd=n,i.OV.appendWindowStart=t,e.label=2;case 2:return[2]}}))}))()},i.qV=function(t){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:if(n.OV.timestampOffset===t.Rk)return[2];i.label=1;case 1:return i.trys.push([1,2,,4]),n.OV.timestampOffset=t.Rk,[3,4];case 2:return i.sent(),[4,n.YV()];case 3:return i.sent(),n.OV.timestampOffset=t.Rk,[3,4];case 4:return[2]}}))}))()},i.jV=function(t){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return n.OV.appendBuffer(t),n.bV=!0,[4,n.JV()];case 1:return i.sent(),[2]}}))}))()},i.$V=function(t,n,i){var e=this;return this.HV((function(i){return e.QV(t,n,i)}),i)},i.QV=function(t,n,i){var e=this;return _a((function(){return ma(this,(function(r){switch(r.label){case 0:return jc(i),e.OV.remove(t,n),[4,e.JV()];case 1:return r.sent(),[2]}}))}))()},i.JV=function(){var t=this,n=this.BV.Uy;return new j((function(i,e){var r,u=!1,s=function(){u=!0},o=function(){u=!1,r="error"},a=function(){u=!1,r="aborted"},c=function(){f(),u&&!r?(n.$D(t.BV.Uy)||t.Ho(new fh(bD.UU)),i()):e(new h(r))},f=function(){t.OV.removeEventListener("update",s),t.OV.removeEventListener("error",o),t.OV.removeEventListener("abort",a),t.OV.removeEventListener("updateend",c)};t.OV.addEventListener("update",s),t.OV.addEventListener("error",o),t.OV.addEventListener("abort",a),t.OV.addEventListener("updateend",c)}))},i.tW=function(){var t=this;return this.HV((function(){return t.YV()}))},i.YV=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:if(t.PV.Dg!==GP.$l)return[2];NP&&(t.EV=!0),t.OV.updating&&(t.kV=!0);try{t.OV.abort()}catch(n){0,t.kV=!1}return t.vL?[4,t.JV().catch(lr)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},i.nW=function(){return"function"==typeof this.OV.changeType},i.IU=function(t){var n;(this.iW(),this.PV.Dg!==GP.eW)&&(this.xV=t,this.LV=null!=(n=KP(t.Gd))?n:t.Gd,this.CV=PP(t.Gd,this.LV),this.nW()&&this.OV.changeType(this.LV))},i.rW=function(){this.PV.Dg!==GP.ed||this.TV||this.vL||(this.OV.timestampOffset=this.OV.timestampOffset,this.PV.uW())},i.HV=function(t,n){var i=this;return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:i.iW(),(e=new Wc).Oo(i.SV.Lo),n&&e.Oo(n),r.label=1;case 1:return r.trys.push([1,,5,6]),i.TV=t(e.Lo),[4,i.TV];case 2:return r.sent(),i.PV.uW(),i.vL?[4,i.JV()]:[3,4];case 3:r.sent(),r.label=4;case 4:return[3,6];case 5:return i.TV=void 0,e.Io(),[7];case 6:return[2]}}))}))()},i.iW=function(){if(this.TV)throw new h("Internal error")},i.Io=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return t.qo(),t.SV.Bo(),t.TV?[4,t.TV.catch(lr)]:[3,2];case 1:n.sent(),t.TV=void 0,n.label=2;case 2:return t.OV.removeEventListener("updateend",t.DV),[2]}}))}))()},pe(n,[{key:"aM",get:function(){return this.wM},set:function(t){this.wM=t}},{key:"cM",get:function(){return this._M},set:function(t){this._M=t}},{key:"vL",get:function(){return this.kV||this.OV.updating}}]),n}(oh);function PP(t,n){return ec(t,"audio/mp4")&&ec(n,"audio/mpeg")}me(),zt(),Ae();var BP=function(){function t(t,n){this.sW=void 0,this.oW=n,this.OV=t}var n=t.prototype;return n.LU=function(){return!!this.sW&&this.Uy.OD().XN(this.sW)},n.aW=function(){var t=this.Uy;this.sW=t.V_>0?t.RD(t.V_-1):0,this.oW.cW()},n.rW=function(){this.sW=void 0},pe(t,[{key:"Uy",get:function(){if(this.oW.Dg===GP.eW)return TI.hP();var t=TI.sP(this.OV.buffered).UD(new TI([0,1/0])),n=this.sW;return void 0!==n&&t.V_>0&&t.RD(t.V_-1)===n&&(t=t.qD(TI.aP(n))),t}}]),t}();function OP(t){var n=t.Lf("codecs");return n?n.split(",").map((function(t){return t.trim()})):[]}function xP(t,n){var i=LP(t)||MP(t),e=LP(n)||MP(n);return!i&&!e||t===n}function LP(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function MP(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function FP(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var u=ya(i,3),s=u[1],o=u[2],a=ya(e,3),c=a[1],h=a[2];if(s!==c)return!1;if(Number(o)!==Number(h))return!1}return!0}function UP(t,n,i,e,r,u,s){var o=new BP(r,t),a=new DP(o,t,r,i,u);return new HP(t,n,i,e,o,a,s)}me(),zt();var HP=function(t){function n(n,i,e,r,u,s,o){var a;return(a=t.call(this)||this).hW=Aa(),a.PV=n,a.Jf=e,a.Hf=e.Gd,a.fW=r,a._N=i,a.BV=u,a.vW=s,a.dW=o,a.vW.zo(bD.UU,a.Uo),a}ze(n,t);var i=n.prototype;return i.LU=function(){return this.BV.LU()},i.aW=function(){this.BV.aW()},i.rW=function(){this.BV.rW(),this.vW.rW()},i.lW=function(t,n){this.dW.jU(t,n)},i.wW=function(t,n){this.dW.YU(t,n)},i._W=function(){return this.vW.tW()},i.UV=function(t,n,i){return this.vW.UV(t,n,i)},i.zV=function(t,n,i){return this.vW.zV(t,i)},i.ZV=function(t,n){return tr.Ee&&tr.Ie<3?this.vW.ZV(t,1/0):this.vW.ZV(t,n)},i._f=function(t,n,i){var e=this;return _a((function(){var r,u;return ma(this,(function(s){switch(s.label){case 0:return e.wW(t,n),r=e.Uy,[4,e.vW.$V(t,n,i)];case 1:return s.sent(),u=0!==r.V_&&0===e.Uy.V_,(tr.He||tr.Re)&&u&&e._N.Ba(e._N.pm),[2]}}))}))()},i.EU=function(t){var n=t.Gd;if(this.Hf===n)return!0;var i=this.hW.get(n);if(void 0!==i)return i;var e=this.gW(t);return this.hW.set(n,e),e},i.gW=function(t){var n=KP(t.Gd);if(void 0===n)return!1;var i=$l(this.Hf),e=$l(n),r=OP(i),u=OP(e);if(this.vW.nW()){if(!function(t,n){return zc(t,n,xP)}(r,u))return!1}else{if(i.Gs!==e.Gs)return!1;if(!function(t,n){return zc(t,n,FP)}(r,u))return!1}return!0},i.IU=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){return i=t.Gd,n.Hf!==i&&(n.hW.clear(),n.vW.IU(t),n.Hf=i),n.Jf=t,n.PV.mW(),[2]}))}))()},i.Io=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:t.hW.clear(),t.qo(),t.dW.bv(),n.label=1;case 1:return n.trys.push([1,3,,4]),t.vW.Go(bD.UU,t.Uo),[4,t.vW.Io()];case 2:return n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))()},pe(n,[{key:"Uy",get:function(){return this.BV.Uy}},{key:"Sf",get:function(){return this.Jf}},{key:"Gd",get:function(){return this.Hf}},{key:"yW",get:function(){return this.fW}},{key:"pW",get:function(){return this.dW.QU}},{key:"aM",get:function(){return this.vW.aM},set:function(t){this.vW.aM=t}},{key:"cM",get:function(){return this.vW.cM},set:function(t){this.vW.cM=t}},{key:"vL",get:function(){return this.vW.vL}}]),n}(oh);me(),zt();var XP=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.SD=t,this.RD=n,this.AW=i,this.kW=e,this.bW=xC()}return t.prototype.TW=function(){var t=this.SD,n=this.RD;if(this.AW||this.kW){var i=.001*(xC()-this.bW);this.AW&&(t+=i),this.kW&&(n+=i)}return t>=n?TI.hP():new TI([t,n])},t}();me(),zt(),Ae();var zP=[qw.wd,qw.ld,qw.kd,qw.Ad,qw.ed,qw.md,up.R_,vy.Ag],VP=function(){function t(t,n,i){var e=this;this.BV=t,this._N=n,this.AI=My.im,this.SW=!1,this.EW=[],this.IW=0,this.RW=0,this.NW=0,this.DW=0,this.PW=1,this.BW=function(t){var n=e._N.pm;t.qU.XN(n)&&e.OW(n)},this.xW=_r((function(){e.LW(up.R_)}),100),this.MW=_r((function(){e.LW(qw._d)}),100),this.FW=_r((function(){e.LW(qw.Cd)}),100),this.UW=function(){e.HW()?0===e.DW&&(e._N.zo(qw.Cd,e.FW),e.XW=De.Je((function(){e.zW()}),3500)):e.VW()},this.WW=function(){var t=e.IW,n=e.NW,i=e._N.pm,r=De.Ku(),u=e.BV.Uy;if(t!==i)return e.IW=i,e.NW=r,e.PW=1,void(e.qW=De.t_?2e3:1e3);if(e.HW()&&0!==u.V_&&n>0&&r>n+e.qW){var s,o,a=e.QU.OD().jD(u),c=a.iP(i);if(-1!==c){var h=a.SD(c);if(h-i<1){var f=a.RD(c);0,s=f}}if(!s)(s=null==(o=e.GW)?void 0:o.determineStallJumpTarget())||(s=i+.01*e.PW,u.XN(s)||(s=e.jW(i,u)));0,e.IW=s,e.PW++,e.qW=d.min(2*e.qW,1e4),e._N.Ba(s)}},this._N.zo(up.R_,this.xW),this._N.zo(qw._d,this.MW),this._N.zo(zP,this.UW),this.GW=i,this.qW=De.t_?2e3:1e3}var n=t.prototype;return n.YW=function(t){this.EW.push(t),t.zo(ID.VU,this.BW)},n.bv=function(){var t=this;this.VW(),this.AI=My.im,this._N.Go(up.R_,this.xW),this._N.Go(qw._d,this.MW),this._N.Go(zP,this.UW),this.EW.forEach((function(n){return n.Go(ID.VU,t.BW)})),void 0!==this.QW&&(De.Ke(this.QW),this.QW=void 0),this.SW=!0},n.LW=function(t){if(!this.SW)if(t!==qw.Cd||0!==this.DW){var n=this._N.Dg;if(n<=My.hm){var i=this._N.pm;this.OW(i)||this.WW()}t===up.R_&&(this.AI=n)}else this.zW()},n.OW=function(t){var n=this;if(this._N.Tm)return!1;var i=this.BV.Uy,e=-1,r=i.YD(t);if(-1!==r){if(i.RD(r)<=t+.5&&i.V_>r+1){var u=i.SD(r+1);u<=t+1&&(e=u)}}else{var s=this.QU.OD().jD(this.BV.Uy),o=s.YD(t);-1!==o&&(e=s.RD(o))}if(-1!==e&&(!(d.abs(e-t)<=.001)||De.$w)){if(De.$w){if(void 0!==this.QW)return!1;this.RW=this._N.pm,this.QW=De.Je((function(){n.RW===n._N.pm&&n._N.Ba(e),n.QW=void 0}),250)}else this._N.Ba(e);return!0}return!1},n.ZW=function(){this.XW&&(De.Ke(this.XW),this.XW=void 0),this._N.Go(qw.Cd,this.FW)},n.zW=function(){0===this.DW&&(this.ZW(),this.DW=De.hs(this.WW,250))},n.VW=function(){0!==this.DW&&(De.fs(this.DW),this.DW=0),this.ZW(),this._N.Cm||(this.NW=0)},n.HW=function(){return!this._N.Im&&!this._N.Cm&&0!==this._N.Rm&&!this._N.Tm&&!this._N.ua&&(this.KW()||this._N.Dg>=My.fm)},n.KW=function(){var t=this._N.pm,n=this.BV.Uy,i=n.YD(t);return-1!==i&&n.RD(i)>t+.5},n.jW=function(t,n){var i=n.YD(t);return i>-1?n.RD(i):t},pe(t,[{key:"QU",get:function(){return this.EW.reduce((function(t,n){return t.qD(n.QU)}),TI.hP())}}]),t}();function WP(t){var n=[];if(t.JW&&n.push(t.JW.Uy),t.$W&&n.push(t.$W.Uy),0===n.length)return TI.hP();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.V_>0&&(i=d.max(i,r.RD(r.V_-1)))}for(var u=t.LU,s=new TI([0,i],[!0,u]),o=0;o<n.length;o++){var a=n[o];u&&a.V_>0&&(a=a.qD(new TI([a.RD(a.V_-1),i],[!0,!0]))),s=s.UD(a)}return s}function qP(t,n,i){if(!t.XN(n)){var e=t.YD(n,i);if(e>=0){var r=t.SD(e);if(n<r)return r}}return n}me(),zt();var GP,jP,YP=tr.Ne||tr.De;(jP=GP||(GP={})).eW="closed",jP.$l="open",jP.ed="ended";var QP=function(){function t(){}return t.prototype.tq=function(){return new MediaSource},t}(),ZP=function(t){function n(n,i,e,r,u,s){var o;return void 0===u&&(u=new QP),(o=t.call(this,n,i,e,r)||this).nq=void 0,o.iq=void 0,o.rq=void 0,o.uq=void 0,o.oq=new XP(0,1/0),o.aq=void 0,o.cq=!1,o.hq=function(){o.fq()},o.vq=function(){o._N.vq()},o.dq=u,o.YC=o.dq.tq(),o._N.zo(qw.kd,o.hq),o.lq=new VP(mu(o),o._N,s),o}ze(n,t);var i=n.prototype;return i.wq=function(t){if(_(t)||t<0)throw new h("Invalid duration");this._q()?this.gq(t):this.aq=t},i.gq=function(t){var n=t===1/0,i=n?tu:t;if(n&&this.YC.setLiveSeekableRange){var e=d.pow(2,39);this.YC.setLiveSeekableRange(0,e)}this.YC.duration=i,this.aq=void 0},i.mq=function(t,n,i,e){this.oq=new XP(t,n,!!i,!!e)},i.yM=function(){var t=this;return _a((function(){var n,i,e,r,u,s,o,a,c;return ma(this,(function(h){switch(h.label){case 0:return n=t.Jf,i=Ec(n.yq,(function(t){return ec(t.Gd,"audio")})),e=Ec(n.yq,(function(t){return ec(t.Gd,"video")})),[4,t.pq()];case 1:return h.sent(),i&&(r=new ND,t.lq.YW(r),s=null!=(u=KP(i.Gd))?u:i.Gd,t.iq=t.YC.addSourceBuffer(s),t.nq=UP(t,t._N,i,Tp.xl,t.iq,s,r),t.nq.zo(bD.UU,t.vq)),e&&(o=new ND,t.lq.YW(o),c=null!=(a=KP(e.Gd))?a:e.Gd,t.uq=t.YC.addSourceBuffer(c),t.rq=UP(t,t._N,e,Tp.Ll,t.uq,c,o),t.rq.zo(bD.UU,t.vq)),t.bU.wf(t,n),[2]}}))}))()},i.pq=function(){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return i=URL.createObjectURL(n.YC),[4,t.prototype.DU.call(n,i)];case 1:return e.sent(),"open"===n.Dg?[3,3]:[4,ym(n.YC,"sourceopen")];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))()},i._q=function(){if("open"!==this.Dg)return!1;var t=this.nq&&this.nq.vL,n=this.rq&&this.rq.vL;return!(t||n)},i.aW=function(){this.cq=!0,this.nq&&this.nq.aW(),this.rq&&this.rq.aW(),this.cq=!1,this.fq()},i.rW=function(){this.nq&&this.nq.rW(),this.rq&&this.rq.rW()},i.EU=function(n){var i=Ec(n.yq,(function(t){return ec(t.Gd,"audio")})),e=Ec(n.yq,(function(t){return ec(t.Gd,"video")}));if(this.nq){if(!i)return!1;if(!this.nq.EU(i))return!1}else if(i)return!1;if(this.rq){if(!e)return!1;if(!this.rq.EU(e))return!1}else if(e)return!1;return!!t.prototype.EU.call(this,n)},i.IU=function(n){var i=this;return _a((function(){var e,r,u;return ma(this,(function(s){switch(s.label){case 0:return e=Ec(n.yq,(function(t){return ec(t.Gd,"audio")})),r=Ec(n.yq,(function(t){return ec(t.Gd,"video")})),u=[],i.nq&&u.push(i.nq.IU(e)),i.rq&&u.push(i.rq.IU(r)),[4,j.all(u)];case 1:return s.sent(),[4,t.prototype.IU.call(i,n)];case 2:return s.sent(),[2]}}))}))()},i.Io=function(){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return tr.Re?[4,n.OU()]:[3,2];case 1:i.sent(),i.label=2;case 2:return n.nq?[4,n.nq.Io()]:[3,4];case 3:if(i.sent(),n.nq=void 0,lc()&&(tr.Re||tr.Ee))try{n.YC.removeSourceBuffer(n.iq)}catch(t){}n.iq=void 0,i.label=4;case 4:return n.rq?[4,n.rq.Io()]:[3,6];case 5:if(i.sent(),n.rq=void 0,lc()&&(tr.Re||tr.Ee))try{n.YC.removeSourceBuffer(n.uq)}catch(t){}n.uq=void 0,i.label=6;case 6:return n.Sv.src&&URL.revokeObjectURL(n.Sv.src),n._N.Go(qw.kd,n.hq),n.lq.bv(),tr.Ee?[4,n.OU()]:[3,8];case 7:i.sent(),i.label=8;case 8:return[4,t.prototype.Io.call(n)];case 9:return i.sent(),[2]}}))}))()},i.mW=function(){var t=this,n=this.Jf,i=n.yq.map((function(n){return ec(n.Gd,"audio")&&t.nq?t.nq.Sf:ec(n.Gd,"video")&&t.rq?t.rq.Sf:n}));this.Jf=ga({},n,{yq:i})},i.cW=function(){this.cq||this.fq()},i.fq=function(){this.Aq&&this._q()&&(this.YC.endOfStream(),this.aq=void 0,this.Ho(new fh(mD.zB)),this._N.vq())},i.uW=function(){this._q()&&(this.LU?this.fq():void 0!==this.aq&&this.gq(this.aq))},i.OW=function(t){return this.lq.OW(t)},n.xU=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.yq;n<i.length;n++){if(void 0===KP(i[n].Gd))return!1}return!0},pe(n,[{key:"JW",get:function(){return this.nq}},{key:"$W",get:function(){return this.rq}},{key:"Am",get:function(){if(this.aq)return this.aq;var t=this.YC.duration;return t===tu?1/0:t}},{key:"Uy",get:function(){return YP?WP(this):(t=this,n=TI.sP(this.Sv.buffered),(i=n).V_>0&&t.LU&&(i=i.qD(TI.aP(i.RD(i.V_-1)))),i);var t,n,i}},{key:"MU",get:function(){var t;return null==(t=this.nq)?void 0:t.Uy}},{key:"FU",get:function(){var t;return null==(t=this.rq)?void 0:t.Uy}},{key:"$y",get:function(){return this.oq.TW().UD(new TI([0,this.Am],[!0,!0]))}},{key:"LU",get:function(){return(!this.nq||this.nq.LU())&&(!this.rq||this.rq.LU())}},{key:"Dg",get:function(){return this.YC.readyState}},{key:"Aq",get:function(){if(!this.LU)return!1;var t=this.Uy;return 0!==t.V_&&t.SD(t.V_-1)<=this._N.pm}}]),n}(pD);function KP(t){var n=$l(t),i="audio/mp4"===n.Gs&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(OP(n),["mp4a.40.34"]);if(MediaSource.isTypeSupported(t)&&(!i||!tr.Le))return t;if(i){var e=Ec(['audio/mp4; codecs="mp3"',"audio/mpeg"],(function(t){return MediaSource.isTypeSupported(t)}));return void 0!==e?e:void 0}}me(),zt(),Ae();var JP=[qw.Nd,qw.md,qw.kd,qw.wd,qw.ld],$P=function(t){function n(n,i,e,r,u,s,o,a,c,h){var f;return(f=t.call(this)||this).wP=n,f.Mc=i,f.kq=e,f.gP=r,f.yP=u,f._P=s,f.mP=o,f.Qc=a,f.bq=c,f.Tq=h,f}ze(n,t);var i=n.prototype;return i.Ba=function(t,n){this.wP!==t&&(this.wP=t,this.Tq=n,this.yP=!0,this.Ho(new wp(this.pm)))},i._y=function(){this.gP||(this.gP=!0,this.Ho(new rp(this.pm)))},i.wy=function(){this.gP&&(this.gP=!1,this.Ho(new op(this.pm)))},i.Io=function(){this.qo()},pe(n,[{key:"pm",get:function(){return this.wP}},{key:"Sq",get:function(){return this.Tq}},{key:"Am",get:function(){return this.Mc}},{key:"Tm",get:function(){return this.kq}},{key:"Im",get:function(){return this.gP}},{key:"Dg",get:function(){return this.bq}},{key:"Cm",get:function(){return this.yP}},{key:"Em",get:function(){return this._P},set:function(t){this.Em!==t&&(this._P=t,this.Ho(new gp(this.pm,this.Pm)))}},{key:"Rm",get:function(){return this.mP},set:function(t){this.Rm!==t&&(this.mP=t,this.Ho(new fp(this.pm,this.Rm)))}},{key:"Pm",get:function(){return this.Qc},set:function(t){this.Pm!==t&&(this.Qc=t,this.Ho(new gp(this.pm,this.Pm)))}}]),n}(oh);me(),zt(),me(),zt(),Ae();var tB=function(t){function n(n){var i;return(i=t.call(this)||this).AI=My.im,i.Eq=function(){i.Iq()},i._N=n,i}ze(n,t);var i=n.prototype;return i.Rq=function(t){this.AI!==t&&(this.AI=t,this.Ho(new pp(this._N.pm,t)))},i.Iq=function(){this.Rq(this.JM())},i.Nf=function(){this.Rq(My.im)},i.Io=function(){this.qo()},pe(n,[{key:"Dg",get:function(){return this.JM()}}]),n}(oh);me(),zt();var nB=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],iB=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<nB.length;e++){var r=nB[e];i._N.yN.addEventListener(r,i.Eq)}return i}ze(n,t);var i=n.prototype;return i.JM=function(){var t=this._N.yN.readyState;return t>My.hm&&this._N.Cq?My.hm:(this._N.yN.seeking&&t>My.um&&(t=My.um),t)},i.Io=function(){for(var n=0;n<nB.length;n++){var i=nB[n];this._N.yN.removeEventListener(i,this.Eq)}t.prototype.Io.call(this)},n}(tB);me(),zt();var eB=function(t){function n(n){var i;(i=t.call(this,n)||this)._N.zo(qw.kd,i.Eq);for(var e=0;e<nB.length;e++){var r=nB[e];i._N.yN.addEventListener(r,i.Eq)}return i}ze(n,t);var i=n.prototype;return i.JM=function(){if(this._N.yN.readyState===My.im)return My.im;var t=this.Nq(),n=t?t.RD-t.SD:0;if(!t)return My.um;var i=this._N.Rm;return this.Dq()||n>=3*i?My.vm:n>=3?My.fm:My.hm},i.Nq=function(){var t=this._N.pm,n=this._N.Uy.WD(.04),i=n.YD(t);if(!(i<0))return{SD:t,RD:n.RD(i)}},i.Dq=function(){if(this._N.Tm)return!0;var t=this._N.Am,n=this.Nq();return!!n&&t-n.RD<=.16666666666666666},i.Io=function(){this._N.Go(qw.kd,this.Eq);for(var n=0;n<nB.length;n++){var i=nB[n];this._N.yN.removeEventListener(i,this.Eq)}t.prototype.Io.call(this)},n}(tB);me(),zt(),me(),zt();var rB=[up.R_,qw.wd,qw.ld,qw.kd,qw.Ad,qw.ed,vy.Ag],uB=function(t){function n(n){var i;return(i=t.call(this,n)||this).Pq=!1,i.OI=function(){i.Pq=!0,i.gf()},i.Sv=n.yN,i.Sv.addEventListener(up.ym,i.OI),i}ze(n,t);var i=n.prototype;return i.Bq=function(){return this.Pq&&t.prototype.Bq.call(this)},i.gf=function(){this.Pq&&(this.Sv.paused||this.Sv.ended||this.Sv.error)&&(this.Pq=!1),t.prototype.gf.call(this)},i.Nf=function(){t.prototype.Nf.call(this),this.Pq=!1},i.Io=function(){this.Sv.removeEventListener(up.ym,this.OI),t.prototype.Io.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Oq=!1,i.dL=function(){i.gf()},i.yI=n,i.yI.zo(rB,i.dL),i}ze(n,t);var i=n.prototype;return i.xq=function(){return this.yI.Dg<My.fm},i.Bq=function(){return!this.yI.Cm&&!(this.yI.Im||this.yI.Tm||this.yI.ua||this.xq())},i.gf=function(){var t=this.Oq;this.Oq=this.Bq(),!t&&this.Oq&&this.Ho(new wT(this.yI.pm))},i.Nf=function(){this.Oq=!1},i.Io=function(){this.qo(),this.yI.Go(rB,this.dL)},n}(oh));me(),zt();var sB=function(t){function n(n){var i;return(i=t.call(this,vy.Ag)||this).ua=n,i}return ze(n,t),n}(fh);function oB(t,n){return t.kp<=n&&t.bp>n}function aB(t,n){return function(t,n){return Tc(t.kp,n.kp,UA)}(t,n)||function(t,n){return Tc(t.bp,n.bp,UA)}(t,n)}function cB(t,n){var i=function(t,n,i,e,r,u,s){void 0===r&&(r=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,a=s-1;o<=a;){var c=o+(a-o>>1),h=e(i(t[c]),n);if(h<0)o=c+1;else if(h>0)a=c-1;else{if(!(r&&c>u&&0===e(i(t[c-1]),n)))return c;a=c-1}}return~o}(t,n,wr,aB,!0);if(i<0)return i;for(;i<t.length&&aB(n,t[i])===wc.do;i++)if(t[i].Hp(n))return i;return-(i+1)}function hB(t){var n=t.w_;if(!n)return-1;if(t instanceof XA)return n.Lq(t);var i=n.Pg;if(!i)return-1;var e=cB(i.z_,t);return e>=0?e:-1}function fB(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,u=0,s=0,o=[],a=[];u<e&&s<r;){var c=t[u],h=n[s];c===h?(u++,s++):i(h,c)<=0?(o.push(h),s++):(a.push(c),u++)}for(;u<e;)a.push(t[u]),u++;for(;s<r;)o.push(n[s]),s++;return{Mq:o,Fq:a}}(t,n,aB);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}me(),zt(),Ae(),me(),zt(),me(),zt(),me(),zt(),Ae();var vB=function(){function t(t){this.v_=void 0,this.Uq=t}var n=t.prototype;return n.l_=function(){return function(t){for(var n=[],i=0;i<t.V_;i++)n[i]=t.Sa(i).d_;return n.item=function(n){var i=0|n,e=t.Sa(i);return e&&e.d_||void 0},v.defineProperty(n,"constructor",{value:xA}),n}(this)},n.rp=function(t){for(var n=this.Uq,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.Hp(e))return!0}return!1},n.Sa=function(t){return this.Uq[t]},pe(t,[{key:"z_",get:function(){return this.Uq}},{key:"V_",get:function(){return this.Uq.length}},{key:"d_",get:function(){if(this.v_){var t=this.Uq;this.v_.length=t.length;for(var n=0;n<t.length;n++)this.v_[n]=t[n].d_}else this.v_=this.l_();return this.v_}}]),t}();me(),zt();var dB=function(t){function n(n,i){var e;return(e=t.call(this,Bm.R_)||this).w_=n,e.Dg=i,e}return ze(n,t),n.prototype.l_=function(){return new lB(this.w_.d_,this.Dg)},n}(Cm),lB=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return ze(n,t),n}(Nm);me(),zt();var wB=function(t){function n(n){var i;return(i=t.call(this,Bm.N_)||this).w_=n,i}return ze(n,t),n.prototype.l_=function(){return new _B(this.w_.d_)},n}(Cm),_B=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return ze(n,t),n}(Nm);me(),zt();var gB=function(t){function n(n){var i;return(i=t.call(this,Bm.__)||this).Ap=n,i}return ze(n,t),n.prototype.l_=function(){return new mB(this.Ap.d_)},n}(Cm),mB=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return ze(n,t),n}(Nm);me(),zt();var yB=function(t){function n(n){var i;return(i=t.call(this,Bm.m_)||this).Ap=n,i}return ze(n,t),n.prototype.l_=function(){return new pB(this.Ap.d_)},n}(Cm),pB=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return ze(n,t),n}(Nm),AB=function(t){function n(n,i,e,r,u,s,o,a,c){var h;return(h=t.call(this)||this).ap=cA(),h.Hq=!1,h.WP=hy.Rg,h.bq=yA.NONE,h.Xq=void 0,h.Uq=[],h.zq=[],h.Vq=0,h.Wq=0,h.tf=i||"",h.qq=a||"",h.Gq=n,h.Fc=r||"",h.Hq=Boolean(u),h.jq=Boolean(o),h.Qr=s||AA.DEFAULT,h.cp=e||"",h.Yq=c||[],h.Qq=new vB(h.Uq),h.Zq=new vB(h.zq),h}ze(n,t);var i=n.prototype;return i.Kq=function(t){return Ec(this.Qq.z_,(function(n){return n.eg===t}))},i.l_=function(){return _y(this)},i.JP=function(t){var n=ly(t);n!==this.Sg&&(this.WP=n,n===hy.Rg&&(this.zq.forEach((function(t){t.Xp=!1})),Pc(this.zq),this.Wq=0),this.Ho(new Fm(this)))},i.lI=function(t){if(t&&!t.w_){var n=cB(this.Pg.z_,t);if(!(n>=0)){t.w_=this;var i=-(n+1);this.Uq.splice(i,0,t),this.Jq(i),t.xp=i,i<this.Wq&&(this.Wq=i),this.Ho(new gB(t))}}},i.$E=function(t){if(t&&t.w_===this){var n=this.Lq(t);if(!(n<0)){t.Xp=!1;var i=this.zq,e=cB(i,t);e>=0&&Nc(i,e),Nc(this.Uq,n),this.Jq(n),t.xp=-1,this.Wq>n&&--this.Wq,this.Ho(new yB(t))}}},i.$q=function(t,n){var i=this.zq,e=this.Uq,r=this.Wq,u=!1;n&&(r=0);for(var s=i.length-1;s>=0;s--){oB(i[s],t)||(u=!0,Nc(i,s))}for(;r<e.length&&e[r].kp<=t;){var o=e[r];if(0===t)break;oB(o,t)&&!Dc(i,o)&&(u=!0,i.push(o)),r++}u&&yc(i,aB),this.Wq=r},i.Lq=function(t){return(-1===t.xp||t.xp>=this.Vq)&&this.tG(),t.xp},i.tG=function(){for(var t=this.Uq,n=this.Vq;n<t.length;n++)t[n].xp=n;this.Vq=t.length},i.Jq=function(t){t<this.Vq&&(this.Vq=t)},i.Cg=function(t){this.Ng||(this.Sg=t)},i.bv=function(){this.qo();for(var t=this.Uq.slice(),n=0;n<t.length;n++){t[n].bv()}Pc(this.Uq),Pc(this.zq)},pe(n,[{key:"Bg",get:function(){return this.Zq}},{key:"Pg",get:function(){return this.Qq}},{key:"_I",get:function(){return this.Hq},set:function(t){this.Hq=t}},{key:"Ng",get:function(){return this.jq}},{key:"d_",get:function(){return this.v_||(this.v_=this.l_()),this.v_}},{key:"eg",get:function(){return this.tf}},{key:"rg",get:function(){return this.ap}},{key:"Tg",get:function(){return this.qq},set:function(t){this.qq=t}},{key:"og",get:function(){return this.Gq}},{key:"ag",get:function(){return this.cp},set:function(t){t!==this.cp&&(this.cp=t,this.Ho(new sA(this)))}},{key:"hg",get:function(){return this.Fc}},{key:"cg",get:function(){return this.Yq}},{key:"Sg",get:function(){return this.WP},set:function(t){this.JP(t)}},{key:"Dg",get:function(){return this.bq},set:function(t){this.bq!==t&&(this.bq=t,this.Ho(new dB(this,this.bq)))}},{key:"Og",get:function(){return this.Xq},set:function(t){this.Xq=t}},{key:"Gs",get:function(){return this.Qr},set:function(t){this.Qr!==t&&(this.Qr=t,this.Ho(new wB(this)))}}]),n}(oh);me(),zt(),Ae(),me(),zt(),Ae(),me(),zt();var kB=function(t){function n(n,i){var e;return(e=t.call(this,EA.gp,n)||this).zA=i,e}return ze(n,t),n.prototype.l_=function(){return new bB(this.Ap.d_)},n}(PA),bB=function(t){function n(n){return t.call(this,"enter",n)}return ze(n,t),n}(BA);me(),zt();var TB=function(t){function n(n,i){var e;return(e=t.call(this,EA.yp,n)||this).zA=i,e}return ze(n,t),n.prototype.l_=function(){return new SB(this.Ap.d_)},n}(PA),SB=function(t){function n(n){return t.call(this,"exit",n)}return ze(n,t),n}(BA);me(),zt();var EB=function(t){function n(n){var i;return(i=t.call(this,Bm.p_)||this).Ap=n,i}return ze(n,t),n.prototype.l_=function(){return new IB(this.Ap.d_)},n}(Cm),IB=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return ze(n,t),n}(Nm);me(),zt();var RB=function(t){function n(n){var i;return(i=t.call(this,Bm.k_)||this).Ap=n,i}return ze(n,t),n.prototype.l_=function(){return new CB(this.Ap.d_)},n}(Cm),CB=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return ze(n,t),n}(Nm),NB=function(t){function n(n){var i;return(i=t.call(this)||this).Fp=void 0,i.Bp=void 0,i.v_=void 0,i.Op=!1,i.nG=function(){i.Xp=!0},i.iG=function(){i.Xp=!1},i.ap=lA(),i.eG=n,i.eG.addEventListener("enter",i.nG),i.eG.addEventListener("exit",i.iG),i}ze(n,t);var i=n.prototype;return i.l_=function(){return OA(this)},i.Hp=function(t){return this===t||Gm(this,t)&&HA(this,t)},i.bv=function(){this.qo(),this.eG.removeEventListener("enter",this.nG),this.eG.removeEventListener("exit",this.iG)},pe(n,[{key:"rg",get:function(){return this.ap}},{key:"kp",get:function(){return this.eG.startTime},set:function(t){this.eG.startTime=t}},{key:"bp",get:function(){return this.eG.endTime},set:function(t){this.eG.endTime=t}},{key:"Tp",get:function(){return this.Fp},set:function(t){this.Fp=t}},{key:"zp",get:function(){return!!this.eG.pauseOnExit},set:function(t){this.eG.pauseOnExit=!!t}},{key:"w_",get:function(){return this.Bp},set:function(t){this.Bp=t}},{key:"eg",get:function(){return this.eG.id||""}},{key:"d_",get:function(){return this.v_||(this.v_=this.l_()),this.v_}},{key:"Xp",get:function(){return this.Op},set:function(t){this.Xp!==t&&(this.Op=t,t?(this.Ho(new kB(this,this.kp)),this.Bp&&this.Bp.Ho(new EB(this))):(this.Ho(new TB(this,this.bp)),this.Bp&&this.Bp.Ho(new RB(this))))}}]),n}(py);me(),zt();var DB=function(t){function n(n){var i;return(i=t.call(this,Bm.T_)||this).w_=n,i}return ze(n,t),n.prototype.l_=function(){return new PB(this.w_.d_)},n}(Cm),PB=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return ze(n,t),n}(Nm);function BB(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new OB(t),t.THEOplayerVTTRegion=n),n}}me(),zt(),Ae(),me(),zt(),Ae();var OB=function(){function t(t){this.v_=void 0,this.rG=t}return pe(t,[{key:"uG",get:function(){return this.rG}},{key:"eg",get:function(){return this.rG.id||""}},{key:"Qp",get:function(){return+this.rG.width||0},set:function(t){this.rG.width=t||0}},{key:"Vp",get:function(){return+this.rG.lines||0},set:function(t){this.rG.lines=t||0}},{key:"Wp",get:function(){return+this.rG.regionAnchorX||0},set:function(t){this.rG.regionAnchorX=t||0}},{key:"qp",get:function(){return+this.rG.regionAnchorY||0},set:function(t){this.rG.regionAnchorY=t||0}},{key:"jp",get:function(){return+this.rG.viewportAnchorX||0},set:function(t){this.rG.viewportAnchorX=t||0}},{key:"Yp",get:function(){return+this.rG.viewportAnchorY||0},set:function(t){this.rG.viewportAnchorY=t||0}},{key:"Gp",get:function(){return this.rG.scroll||""}},{key:"d_",get:function(){return this.v_||(this.v_=YA(this)),this.v_}}]),t}();var xB=function(t){function n(n){return t.call(this,n)}return ze(n,t),pe(n,[{key:"Tp",get:function(){return this.eG.text},set:function(t){this.eG.text=t}},{key:"Pp",get:function(){return this.eG.vertical||""},set:function(t){this.eG.vertical=t||""}},{key:"Dp",get:function(){return this.eG.snapToLines},set:function(t){this.eG.snapToLines=t}},{key:"Ep",get:function(){return this.eG.line},set:function(t){this.eG.line=t}},{key:"Ca",get:function(){return+this.eG.size},set:function(t){this.eG.size=iu(t,0,100)}}]),n}(NB),LB=function(t){function n(n){return t.call(this,n)}return ze(n,t),n.prototype.Hp=function(n){return this===n||Gm(this,n)&&t.prototype.Hp.call(this,n)&&zA(this,n)},pe(n,[{key:"Np",get:function(){return BB(this.eG.region)}},{key:"Ip",get:function(){return this.eG.lineAlign||"start"},set:function(t){this.eG.lineAlign=t||"start"}},{key:"Rp",get:function(){return this.eG.position},set:function(t){this.eG.position=t}},{key:"Cp",get:function(){return this.eG.positionAlign||"auto"},set:function(t){this.eG.positionAlign=t||"auto"}},{key:"Sp",get:function(){return this.eG.align||"center"},set:function(t){this.eG.align=t||"center"}},{key:"d_",get:function(){return this.v_||(this.v_=LA(this)),this.v_}}]),n}(xB),MB=function(t){function n(n){return t.call(this,n)}return ze(n,t),n.prototype.Hp=function(n){return this===n||Gm(this,n)&&t.prototype.Hp.call(this,n)&&zA(this,n)},pe(n,[{key:"Np",get:function(){return BB(this.uG)}},{key:"uG",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.eG.track,this.eG.regionId)}},{key:"Ip",get:function(){return"middle"===(t=this.eG.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.eG.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"Rp",get:function(){return this.eG.position},set:function(t){var n,i;this.eG.position=(n=t,i=this.Sp,DA(n,i))}},{key:"Cp",get:function(){return t=this.eG.positionAlign||"middle",CA[t];var t},set:function(t){var n,i;this.eG.positionAlign=(n=t||"center",i=this.Sp,RA[NA(n,i)])}},{key:"Sp",get:function(){return"middle"===(t=this.eG.align||"middle")?"center":t;var t},set:function(t){var n;this.eG.align="center"===(n=t||"center")?"middle":n}},{key:"d_",get:function(){return this.v_||(this.v_=LA(this)),this.v_}}]),n}(xB);function FB(t,n){return t.Tp===n.Tp}function UB(t,n){if(0!==n.length){var i=n.length-1;if(n[i].kp<t.kp)HB(n,i,t.kp);else{var e=n[0];if(e.kp>t.kp)t.bp=e.kp;else{var r=cB(n,t);if(!(r>=0)){var u=-(r+1),s=u-1;if(s>=0)n[s].kp<t.kp&&HB(n,s,t.kp);if(u<n.length){var o=n[u];t.bp=o.kp}}}}}}function HB(t,n,i){for(var e=t[n].kp,r=n;r>=0&&t[r].kp===e;r--)t[r].bp=i}function XB(t){return OA(t)}me(),zt(),me(),zt(),Ae(),me(),zt(),me(),zt();var zB,VB,WB,qB,GB=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).sG=i,e}return ze(n,t),n.prototype.Hp=function(n){return this===n||Gm(this,n)&&t.prototype.Hp.call(this,n)&&FB(this,n)},pe(n,[{key:"Tp",get:function(){return this.sG}},{key:"d_",get:function(){return this.v_||(this.v_=XB(this)),this.v_}}]),n}(NB);function jB(t){switch(t){case 0:case 1:case 2:case 3:return!0}return!1}function YB(t){switch(t){case 0:return hf;case 1:return df;case 2:return lf;case 3:return kf}}function QB(t,n){var i=n.Na,e=t.byteLength,r=Cf(t);return n.Da(e-i),Pf(r,i,e).buffer}function ZB(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function KB(t,n,i){var e=Qh(t,n);if(jB(e)){var r=YB(e);return{id:i,language:af(t,n,3),description:r(t,n),text:r(t,n)}}}function JB(t,n,i){var e=Qh(t,n);if(jB(e)){var r=YB(e);return{id:i,mimeType:hf(t,n),fileName:r(t,n),description:r(t,n),data:QB(t,n)}}}function $B(t,n,i){var e=Qh(t,n);if(jB(e)){for(var r=YB(e),u=[];n.Na<t.byteLength;)u.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:u}}}function tO(t,n,i){var e=Qh(t,n);if(jB(e)){for(var r=YB(e),u=af(t,n,3),s=Qh(t,n),o=Qh(t,n),a=r(t,n),c=!1,h=[];n.Na<t.byteLength;){var f=void 0;if(1===e){var v=vf(t,n);void 0===v?v=c:c=v,f=lf(t,n,v)}else f=r(t,n);if(!f||n.Na+4>t.byteLength)break;h.push({text:f,timestamp:rf(t,n)})}return{id:i,language:u,format:s,contentType:o,description:a,entries:h}}}function nO(t,n,i){return{id:i,ownerIdentifier:hf(t,n),identifier:QB(t,n)}}function iO(t,n,i){var e=Qh(t,n);if(jB(e)){var r=YB(e);return{id:i,language:af(t,n,3),description:r(t,n),text:r(t,n)}}}function eO(t,n,i){var e=Qh(t,n);if(jB(e))return{id:i,text:YB(e)(t,n)}}function rO(t,n,i){return{id:i,url:hf(t,n)}}function uO(t,n,i){var e=Qh(t,n);if(jB(e)){var r=YB(e);return{id:i,description:r(t,n),text:r(t,n)}}}function sO(t,n,i){var e=Qh(t,n);if(jB(e))return{id:i,description:YB(e)(t,n),url:hf(t,n)}}function oO(t,n,i){switch(i){case"COM":return KB(t,n,i);case"GEO":return JB(t,n,i);case"IPL":return $B(t,n,i);case"PIC":return function(t,n,i){var e=Qh(t,n);if(jB(e)){var r,u,s=YB(e),o=af(t,n,3),a=Qh(t,n),c=s(t,n);return"--\x3e"===o?(r=o,u=hf(t,n)):(r="image/"+o.toLowerCase(),u=QB(t,n)),{id:i,mimeType:r,pictureType:a,description:c,data:u}}}(t,n,i);case"SLT":return tO(t,n,i);case"TXX":return uO(t,n,i);case"UFI":return nO(t,n,i);case"ULT":return iO(t,n,i);case"WXX":return sO(t,n,i);default:if("T"===i.charAt(0))return eO(t,n,i);if("W"===i.charAt(0))return rO(t,n,i)}}function aO(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=Qh(t,n);if(jB(e)){var r=YB(e),u=hf(t,n);return{id:i,mimeType:u,pictureType:Qh(t,n),description:r(t,n),data:"--\x3e"===u?hf(t,n):QB(t,n)}}}(t,n,i);case"COMM":return KB(t,n,i);case"COMR":return function(t,n,i){var e=Qh(t,n);if(jB(e)){var r,u,s=YB(e),o=hf(t,n),a=af(t,n,8),c=hf(t,n),h=Qh(t,n),f=s(t,n),v=s(t,n);return n.Na<t.byteLength&&(r=hf(t,n)||"image/",u=QB(t,n)),{id:i,price:o,validUntil:a,contactURL:c,receivedAs:h,nameOfSeller:f,description:v,pictureMimeType:r,sellerLogo:u}}}(t,n,i);case"GEOB":return JB(t,n,i);case"IPLS":return $B(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:hf(t,n),data:QB(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:Qh(t,n),position:rf(t,n)}}(t,n,i);case"SYLT":return tO(t,n,i);case"TXXX":return uO(t,n,i);case"UFID":return nO(t,n,i);case"USER":return function(t,n,i){var e=Qh(t,n);if(jB(e)){var r=YB(e);return{id:i,language:af(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return iO(t,n,i);case"WXXX":return sO(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return eO(t,n,i);default:var e=i.charAt(0);if("T"===e)return eO(t,n,i);if("W"===e)return rO(t,n,i)}}me(),zt(),me(),zt(),(VB=zB||(zB={}))[VB.ISO_8859_1=0]="ISO_8859_1",VB[VB.UTF16_BOM=1]="UTF16_BOM",VB[VB.UTF16=2]="UTF16",VB[VB.UTF8=3]="UTF8",(qB=WB||(WB={}))[qB.V22=2]="V22",qB[qB.V23=3]="V23",qB[qB.V24=4]="V24";function cO(t,n){return(127&Qh(t,n))<<21|(127&Qh(t,n))<<14|(127&Qh(t,n))<<7|127&Qh(t,n)}function hO(t,n){switch(t){case 4:return{oG:Yh(n,0),aG:Yh(n,1),cG:Yh(n,2),hG:Yh(n,3)};case 3:return{oG:Yh(n,0),aG:Yh(n,1),cG:Yh(n,2)};case 2:return{oG:Yh(n,0),fG:Yh(n,1)}}}function fO(t,n,i){switch(i.cT){case 3:i.hT.aG&&function(t,n){var i=n.Na,e=rf(t,n)+4,r=32768&nf(t,n);n.Ba(i+e),r&&rf(t,n)}(t,n);break;case 4:i.hT.aG&&function(t,n){var i=n.Na,e=cO(t,n);n.Ba(i+e)}(t,n)}}function vO(t,n){if(t.byteLength-n.Na<10)return null;if(73!==Qh(t,n)||68!==Qh(t,n)||51!==Qh(t,n))return null;var i=Qh(t,n),e=Qh(t,n);if(!function(t){switch(t){case 2:case 3:case 4:return!0}return!1}(i))return null;var r=Qh(t,n),u=cO(t,n);return{cT:i,vG:e,hT:hO(i,r),dG:u}}function dO(t,n,i){switch(i.cT){case 2:return function(t,n,i){return{eg:af(t,n,3),Ca:tf(t,n,3)}}(t,n);case 3:return function(t,n,i){var e=af(t,n,4),r=rf(t,n);Qh(t,n);var u=Qh(t,n);return{eg:e,Ca:r,hT:{fG:Yh(u,0),lG:Yh(u,1),groupingIdentity:Yh(u,2)}}}(t,n);case 4:return function(t,n,i){var e=af(t,n,4),r=cO(t,n);Qh(t,n);var u=Qh(t,n);return{eg:e,Ca:r,hT:{groupingIdentity:Yh(u,1),fG:Yh(u,4),lG:Yh(u,5),oG:Yh(u,6),wG:Yh(u,7)}}}(t,n)}}function lO(t){for(var n=Cf(t),i=new g(n.byteLength),e=0,r=0;r<n.byteLength;r++){var u=n[r];255===u&&r++,i[e]=u,e++}return Rf(Pf(i,0,e))}function wO(t,n){var i=n||new xf,e=vO(t,i);return e?{rT:e,_G:function(t,n,i){var e=[],r=n.Na,u=If(t,r,r+i.dG),s=new xf;switch(n.Da(i.dG),i.cT){case 2:case 3:i.hT.oG&&(u=lO(u))}fO(t,n,i);for(;s.Na<u.byteLength;)e.push(_O(u,s,i));return e}(t,i,e)}:null}function _O(t,n,i){var e,r,u=dO(t,n,i),s=n.Na,o=If(t,s,s+u.Ca);switch(n.Da(u.Ca),i.cT){case 2:var a=u;e=oO(r=o,new xf,a.eg);break;case 3:var c=u,h=new xf;!function(t,n,i){var e,r,u,s=i.hT;s.fG&&(e=rf(t,n)),s.lG&&(r=Qh(t,n)),s.groupingIdentity&&(u=Qh(t,n))}(o,h,c),e=aO(r=If(o,h.Na,o.byteLength),new xf,c.eg);break;case 4:var f=u,v=new xf;f.hT.oG&&(o=lO(o)),function(t,n,i){var e,r,u,s,o=i.hT;o.groupingIdentity&&(e=Qh(t,n)),o.fG&&(r=rf(t,n)),o.lG&&(u=Qh(t,n)),o.wG&&(s=cO(t,n))}(o,v,f),e=aO(r=If(o,v.Na,o.byteLength),new xf,f.eg)}if(!e){var d=Bf(Cf(r));e=ZB(u.eg,d.buffer)}return e}function gO(t){return function(t,n,i){return eO(t,n,i)}(new DataView(t.data),new xf,t.key)}function mO(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return gO(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return ZB(t.key,t.data)}(t)}me(),zt(),me(),zt();var yO=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).Uq=[],r.zq=[],r.WP=hy.Rg,r.bq=yA.NONE,r.Xq=void 0,r.Qr=AA.DEFAULT,r.gG=!1,r.mG=function(){r.yG(),r.op.removeEventListener("cuechange",r.mG)},r.pG=function(){r.Sg!==hy.Rg&&(r.AG(),r.$q(),r.Uq.length&&r.kG(yA.LOADING))},r.bG=function(){r.kG(yA.LOADED)},r.TG=function(){r.kG(yA.ERROR)},r.op=n,r.SG=e,r.op.addEventListener("cuechange",r.mG),r.op.addEventListener("cuechange",r.pG),r.EG=i,r.EG&&(r.Xq=x_(r.EG.src),r.EG.addEventListener("load",r.bG),r.EG.addEventListener("error",r.TG)),r.ap=cA(),r.cp=n.label||"",r.Qq=new vB(r.Uq),r.Zq=new vB(r.zq),r.Sg=r.IG,th((function(){r.pG(),r.kG(yA.NONE)})),r}ze(n,t);var i=n.prototype;return i.l_=function(){return _y(this)},i.yG=function(){var t=this.Sg;this.CG||t!==hy.Eg?this.IG=t:this.IG=hy.Ig},i.NG=function(){var t=this.Sg,n=this.IG;t!==n&&(this.CG||t!==hy.Eg||n!==hy.Ig)&&("metadata"===this.og&&n===hy.Rg?this.Sg=t:this.gG&&n===hy.Rg&&t===hy.Eg?this.IG=t:this.Sg=n)},i.Iq=function(t){this.bq!==t&&(this.bq=t,this.Ho(new dB(this,t)))},i.kG=function(t){var n=d.max(this.bq,this.DG,t);this.Iq(n)},i.PG=function(t){var i=n.BG(t);if(i)return i;if(sr(i=this.OG(t)))for(var e=0;e<i.length;e++){i[e].w_=this}else i.w_=this;return t.THEOplayerTextTrackCue=i,i},i.OG=function(t){return(n=t)&&"org.id3"===n.type&&n.value?(this.Gs=AA.ID3,function(t){var n;try{n=mO(t.value)}catch(t){n=ZB("")}return new GB(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.Gs=AA.ID3,function(t){var n=[];try{var i=wO(new DataView(t.data));if(i)for(var e=0,r=i._G;e<r.length;e++){var u=r[e];n.push(new GB(t,u))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.Gs=AA.WEBVTT,function(t){return"regionId"in t}(t)?new MB(t):new LB(t)):new NB(t);var n},i.xG=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.PG(t[e]||t.item(e));if(sr(r))for(var u=0;u<r.length;u++){var s=r[u];n.push(s)}else n.push(r)}return n},i.AG=function(){for(var t=this.xG(this.op.cues),n=fB(this.Uq,t),i=0,e=n.Fq;i<e.length;i++){var r=e[i];r.Go(EA.yp,this.pG),r.Go(EA.gp,this.pG),this.Ho(new yB(r))}for(var u=0,s=n.Mq;u<s.length;u++){var o=s[u];o.zo(EA.gp,this.pG),o.zo(EA.yp,this.pG),this.Ho(new gB(o))}},i.$q=function(){for(var t=this.xG(this.op.activeCues),n=fB(this.zq,t),i=0,e=n.Fq;i<e.length;i++){e[i].Xp=!1}for(var r=0,u=n.Mq;r<u.length;r++){u[r].Xp=!0}(n.Mq.length||n.Fq.length)&&this.Ho(new DB(this))},i.Cg=function(t){this.Sg=t},i.bv=function(){this.qo();for(var t=this.Uq.slice(),n=0;n<t.length;n++){t[n].bv()}Pc(this.Uq),Pc(this.zq),this.op.removeEventListener("cuechange",this.mG),this.op.removeEventListener("cuechange",this.pG),this.EG&&(this.EG.removeEventListener("load",this.bG),this.EG.removeEventListener("error",this.TG),Ho(this.EG))},n.BG=function(t){return t&&t.THEOplayerTextTrackCue||void 0},pe(n,[{key:"Bg",get:function(){return this.Zq}},{key:"_I",get:function(){return this.EG?this.EG.default:void 0}},{key:"Pg",get:function(){return this.Qq}},{key:"d_",get:function(){return this.v_||(this.v_=this.l_()),this.v_}},{key:"eg",get:function(){return this.op.id||this.EG&&this.EG.id||""}},{key:"rg",get:function(){return this.ap}},{key:"Tg",get:function(){return this.op.inBandMetadataTrackDispatchType||""}},{key:"og",get:function(){return this.op.kind||Mb.Pb}},{key:"ag",get:function(){return this.cp},set:function(t){t!==this.cp&&(this.cp=t,void 0!==this.EG&&(this.EG.label=t),this.Ho(new sA(this)))}},{key:"hg",get:function(){return this.op.language||""}},{key:"Sg",get:function(){return this.WP},set:function(t){var n=this.Sg;this.WP=ly(t),this.yG();var i=this.Sg;n!==i&&this.Ho(new Fm(this)),i!==hy.Rg&&this.kG(yA.LOADING)}},{key:"IG",get:function(){return ly(this.op.mode)},set:function(t){this.op.mode=t}},{key:"dp",get:function(){return this.op}},{key:"Dg",get:function(){return this.bq}},{key:"DG",get:function(){return this.EG?+this.EG.readyState||yA.NONE:yA.LOADED}},{key:"Og",get:function(){return this.Xq}},{key:"Gs",get:function(){return this.Qr},set:function(t){this.Qr!==t&&(this.Qr=t,this.Ho(new wB(this)))}},{key:"CG",get:function(){return this.SG},set:function(t){var n=this;this.SG=t,t&&(this.gG=!0,s((function(){n.gG=!1}),50)),this.yG()}}]),n}(oh);me(),zt(),me(),zt();function pO(t,n){return bc(t.zA,n.zA)||function(t,n){return t.w_===n.w_?kc(hB(t),hB(n)):tT(t.w_,n.w_)}(t.Ap,n.Ap)||function(t,n){return t===n?wc.do:t===EA.gp?wc.mo:wc._o}(t.type,n.type)}var AO=function(){function t(t,n){var i=this;this.$m=[],this.LG=0,this.MG=0,this.FG=[],this.UG=[],this.HG=!1,this.XG=!1,this.zG=void 0,this.VG=function(){i.LG=0,i.WG(),i.qG()},this.GG=function(){i.WG(),i.qG()},this.jG=function(){i.XG=!0,i.zG=i.gD.pm,i.YG()},this.QG=function(){i.WG(),i.qG()},this.ZG=function(){i.KG(),i.WG(),i.qG()},this.JG=function(t){Dc(i.UG,t.Ap)||i.UG.push(t.Ap),i.$G()},this.tj=function(t){Cc(i.FG,t.Ap),Cc(i.UG,t.Ap),i.$G()},this.nj=n,this.gD=t,t.zo(qw.Cd,this.GG),t.zo(qw.wd,this.GG),t.zo(up.ym,this.GG),t.zo(qw.ld,this.GG),t.zo(qw.kd,this.jG),t.zo(qw.Ad,this.QG),this.$G()}var n=t.prototype;return n.Nf=function(){Pc(this.FG);for(var t=0,n=this.$m.slice();t<n.length;t++){var i=n[t];this.H_(i)}this.YG(),this.LG=0,this.MG=0,this.HG=!1,this.XG=!1,this.zG=void 0},n.U_=function(t){if(!Dc(this.$m,t)){if(this.$m.push(t),t.zo(Bm.__,this.JG),t.zo(Bm.m_,this.tj),t.zo(Bm.E_,this.ZG),t.Pg.V_>0){for(var n=0,i=t.Pg.z_;n<i.length;n++){var e=i[n];this.UG.push(e)}this.$G()}this.KG()}},n.H_=function(t){if(Cc(this.$m,t)){if(t.Go(Bm.__,this.JG),t.Go(Bm.m_,this.tj),t.Go(Bm.E_,this.ZG),t.Pg.V_>0){for(var n=0,i=t.Pg.z_;n<i.length;n++){var e=i[n];Cc(this.FG,e),Cc(this.UG,e)}this.$G()}this.KG()}},n.KG=function(){this.HG=this.$m.some((function(t){return t.Sg!==hy.Rg}))},n.qG=function(){this.gD.Cm||this.gD.Im?this.YG():this.$G()},n.$G=function(){this.HG&&(this.LG||(this.LG=this.nj.nt(this.VG)))},n.YG=function(){this.LG&&(this.nj.ij(this.LG),this.LG=0)},n.WG=function(){if(this.HG&&!this.gD.Cm){var t,n=this.$m,i=this.MG,e=null!=(t=this.zG)?t:this.gD.pm,r=e-i<-.1,u=this.XG||r;u&&e>i&&e-i<.1&&(u=!1),this.XG=!1,this.zG=void 0;for(var s,o=[],a=0;a<n.length;a++){var c=n[a];if(c.Sg!==hy.Rg){c.$q(e,u);for(var h=0,f=c.Bg.z_;h<f.length;h++){var v=f[h];o.push(v)}}}if(u)s=this.FG;else{s=[];for(var l=0;l<n.length;l++){var w=n[l];w.Sg!==hy.Rg&&$b(w,i-du,e,s)}}for(var _=s.length-1;_>=0;_--)Dc(o,s[_])&&Nc(s,_);var g=[];if(!u)for(var m=s.length-1;m>=0;m--){var y=s[m];y.kp>i&&y.bp<=e&&(g.push(y),Nc(s,m))}for(var p=0,A=this.UG;p<A.length;p++){Cc(g,A[p])}Pc(this.UG);for(var k=[],b=[],T=0;T<g.length;T++){var S=g[T];S.Xp||k.push(new kB(S,S.kp)),k.push(new TB(S,d.max(S.kp,S.bp))),S.Xp=!1}for(var E=0;E<s.length;E++){var I=s[E];I.Xp&&(k.push(new TB(I,d.max(I.kp,I.bp))),I.Xp=!1)}for(var R=0;R<o.length;R++){var C=o[R];C.Xp||(k.push(new kB(C,C.kp)),C.Xp=!0)}k.sort(pO);for(var N=0;N<k.length;N++){var D=k[N],P=D.Ap;P.Ho(D);var B=P.w_;B&&(D.type===EA.gp?B.Ho(new EB(P)):B.Ho(new RB(P)),Dc(b,B)||b.push(B))}b.sort(tT);for(var O=0;O<b.length;O++){var x=b[O];x.Ho(new DB(x))}this.MG=e,this.FG=o}},n.bv=function(){this.Nf(),this.gD.Go(qw.Cd,this.GG),this.gD.Go(qw.wd,this.GG),this.gD.Go(up.ym,this.GG),this.gD.Go(qw.ld,this.GG),this.gD.Go(qw.kd,this.jG),this.gD.Go(qw.Ad,this.QG)},t}();me(),zt();var kO=function(){function t(){}var n=t.prototype;return n.nt=function(t){return tN(t)},n.ij=function(t){nN(t)},t}(),bO=new kO,TO=function(t){function n(n,i){return void 0===i&&(i=bO),t.call(this,n,i)}return ze(n,t),n}(AO);me(),zt(),Ae(),me(),zt(),Ae();var SO=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)}return ze(n,t),n.prototype.Hp=function(n){return this===n||Gm(this,n)&&t.prototype.Hp.call(this,n)&&FB(this,n)},pe(n,[{key:"d_",get:function(){return this.v_||(this.v_=XB(this)),this.v_}}]),n}(XA);me(),zt(),me(),zt();var EO=function(t){function n(n,i,e){return void 0===e&&(e=AA.DEFAULT),t.call(this,Mb.Ob,"",i||"","",!1,e,!1,n)}return ze(n,t),n}(AB),IO=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Gs=AA.ID3,e}ze(n,t);var i=n.prototype;return i.lI=function(n){UB(n,this.Uq),t.prototype.lI.call(this,n)},i.l_=function(){return _y(this)},n}(EO);function RO(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=mO(t.value);return t.THEOplayerTextTrackCue=new SO(i,e),t.THEOplayerTextTrackCue}var CO=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).pG=function(){i.Sg!==hy.Rg&&(i.AG(),i.kG(yA.LOADED))},i.op=n,i.op.addEventListener("cuechange",i.pG),i.Sg=i.IG,th((function(){i.pG()})),i}ze(n,t);var i=n.prototype;return i.JP=function(n){t.prototype.JP.call(this,n),this.IG=this.Sg},i.kG=function(t){this.Dg=d.max(this.Dg,t)},i.AG=function(){var t=this.op.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(RO(t[e]||t.item(e)));return yc(i,aB),i}(t),i=fB(this.Pg.z_.slice(),n),e=0,r=i.Fq;e<r.length;e++){var u=r[e];this.$E(u)}for(var s=0,o=i.Mq;s<o.length;s++){var a=o[s];this.lI(a)}}},i.bv=function(){this.op.removeEventListener("cuechange",this.pG),t.prototype.bv.call(this)},pe(n,[{key:"eg",get:function(){return this.op.id||""}},{key:"Tg",get:function(){return this.op.inBandMetadataTrackDispatchType||""}},{key:"hg",get:function(){return this.op.language||""}},{key:"IG",get:function(){return ly(this.op.mode)},set:function(t){this.op.mode=t}},{key:"dp",get:function(){return this.op}}]),n}(IO);me(),zt();var NO=function(t){function n(n,i){var e;(e=t.call(this)||this).cI=n,e.ej=i,e.rj=ka();var r=mu(e);return e.UC=_a((function(t){var n;return ma(this,(function(i){switch(i.label){case 0:return(n=t.w_).Gs?[3,2]:[4,n.Zo(Bm.N_)];case 1:i.sent(),i.label=2;case 2:if(n.Gs!==AA.ID3)return[2];i.label=3;case 3:return 0!==n.Pg.V_?[3,5]:[4,n.Zo(Bm.__)];case 4:return i.sent(),[3,3];case 5:return r.uj(n),[2]}}))})),e.HC=function(t){var n=t.w_;if(n.Gs===AA.ID3&&e.rj.has(n.rg)){var i=e.rj.get(n.rg);e.H_(i),e.cI.wI(i),n.Go(Bm.__,e.sj)}},e.sj=function(t){DO(t.Ap)&&e.aj(t.Ap)},e.cj(),e}ze(n,t);var i=n.prototype;return i.cj=function(){this.ej.zo(Am.a_,this.UC),this.ej.zo(Am.h_,this.HC)},i.hj=function(){this.ej.Go(Am.a_,this.UC),this.ej.Go(Am.h_,this.HC)},i.uj=function(t){var n=t.Pg.z_[0];if(DO(n)){var i=function(t){var n=t.match(PO);if(!n)return;return{w_:n[1],hg:n[2]}}(n.Tp.description),e=i.w_,r=i.hg;if(!this.vj(e,r)){var u=this.cI.vI(Mb.Pb,t.eg,e,r,!1,AA.TTML);this.U_(u),this.rj.set(t.rg,u);for(var s=0,o=t.Pg.z_;s<o.length;s++){var a=o[s];DO(a)&&this.aj(a)}t.zo(Bm.__,this.sj)}}},i.vj=function(t,n){return this.ET.z_.some((function(i){return i.ag===t&&i.hg===n}))},i.aj=function(t){if(t.w_)for(var n=this.rj.get(t.w_.rg),i=Sb(t.Tp.text,n,{Ek:0,Ik:1/0,Rk:t.kp}),e=0;e<i.length;e++){var r=i[e];n.lI(r)}},i.Nf=function(){var n=this;return _a((function(){var i,e,r,u,s;return ma(this,(function(o){switch(o.label){case 0:for(i=0,e=n.ej.z_;i<e.length;i++)e[i].Go(Bm.__,n.sj);for(r=0,u=n.ET.z_;r<u.length;r++)s=u[r],n.cI.wI(s);return n.rj.clear(),[4,t.prototype.Nf.call(n)];case 1:return o.sent(),[2]}}))}))()},i.bv=function(){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return n.hj(),[4,t.prototype.bv.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(eT);function DO(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Tp)&&PO.test(n.description);var n}var PO=/^Track:(.+),Lang:(.+)$/;me(),zt(),Ae(),me(),zt(),Ae();var BO=function(t){function n(n){var i;return(i=t.call(this,qw.Qv)||this).errorObject=n,i}return ze(n,t),pe(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(fh);me(),zt(),Ae(),me(),zt(),me(),zt();var OO=function(t){function n(){return t.call(this,qw.Zv)}return ze(n,t),n}(fh);me(),zt();var xO=function(t){function n(n){var i;return(i=t.call(this,"Pd")||this).dj=n,i}return ze(n,t),n}(fh),LO=new Nw,MO=function(t){function n(n){var i;return(i=t.call(this,"df")||this).session=n,i}return ze(n,t),n}(fh),FO=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).lj=n,r.wj=i,r._j=e,r.gj=!1,r.mj=!1,r.wv=new Wc,r.sf=function(t){if(!r.wv.Lo.po)switch(t.ea){case"license-request":case"license-renewal":r.$I(t.$o,t.ra).catch((function(t){return r.Gf(t)}));break;default:r.Gf(new tA(gw.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.ea))}},r.yj=function(t){r.lj.Af.Ea((function(t,n){switch(t){case"usable":De.Je((function(){r.mj=!0,r.Ho(new OO)}),100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":r.Ho(new xO(n))}}))},r.pj=function(t){r.Gf(new tA(gw.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},n.zo("$o",r.sf),n.zo("Jo",r.yj),n.zo("ua",r.pj),n.yf.then((function(){return r.Aj()})),r}ze(n,t);var i=n.prototype;return i.lf=function(){var t=this;return this.gj=!0,LO.pv((function(n){return t.bj(n)}),this.wv.Lo)},i.bj=function(t){var n=this;return _a((function(){var i,e,r,u;return ma(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),jc(t),[4,n.wj.GI(t)];case 1:return s.sent(),[4,n.wj.jI(n._j.Ys,n._j.ya,t)];case 2:return i=s.sent(),[4,n.lj.lf(n._j.Ys,n._j.ya,i)];case 3:return s.sent(),[3,5];case 4:throw Yc(e=s.sent()),r=e instanceof Xf?e.Va:void 0,u=new tA(gw.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",e,void 0,void 0,void 0,void 0,r),n.Gf(u),u;case 5:return[2]}}))}))()},i.$I=function(t,n){var i=this;return _a((function(){var e,r,u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),function(t){return Nh(t,Ff())}(t)?[4,i.wj.oR(new g(t),i.wv.Lo)]:[3,2];case 1:return e=c.sent(),[3,4];case 2:return[4,i.wj.aR(new g(t),n,i.wv.Lo)];case 3:e=c.sent(),c.label=4;case 4:return[3,6];case 5:if(Gc(r=c.sent()))return[2];throw r;case 6:if(i.wv.Lo.po)return[2];u=i.Tj,s=new Mf,i.Tj=s,c.label=7;case 7:return c.trys.push([7,10,11,14]),[4,i.lj.gf(e)];case 8:return c.sent(),[4,rh(100)];case 9:return c.sent(),[3,14];case 10:throw o=c.sent(),a=o instanceof Xf?o.Va:void 0,new tA(gw.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o,void 0,void 0,void 0,void 0,a);case 11:return void 0===u?[3,13]:[4,u.Fa];case 12:c.sent(),c.label=13;case 13:return s.Ua(),i.Tj===s&&(i.Tj=void 0),[7];case 14:return[2]}}))}))()},i.Gf=function(t){var n=t instanceof tA?t:new tA(gw.CONTENT_PROTECTION_ERROR,t.message,t);this.Ho(new BO(n)),this.df()},i.Aj=function(){this.lj.Go("$o",this.sf),this.lj.Go("Jo",this.yj),this.lj.Go("ua",this.pj),this.mj=!1,this.wv.Bo(),this.Ho(new MO(this))},i.df=function(){var t=this;return _a((function(){var n;return ma(this,(function(i){switch(i.label){case 0:t.qo(),i.label=1;case 1:return void 0===(n=t.Tj)?[3,3]:[4,n.Fa];case 2:i.sent(),i.label=3;case 3:if(t.Tj!==n)return[3,1];i.label=4;case 4:return t.Aj(),[4,t.lj.df().catch(lr)];case 5:return i.sent(),[2]}}))}))()},n}(oh);me(),zt();var UO=[qw.Zv,qw.Qv,qw.Dd],HO=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Sj=[],r.Ej=void 0,r.Ij=[],r.Rj=function(t){t.session.Go(UO,r.Uo),t.session.Go("df",r.Rj),Cc(r.Sj,t.session)},r.if=n,r.bf=i,r.Cj=e,r}ze(n,t);var i=n.prototype;return i.sR=function(){return this.Cj.sR()},i.Nj=function(t){return this.Ej||(this.Ej=this.Dj(t)),this.Ej},i.Dj=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return jc(t),[4,n.Cj.oR(new g(Ff()),t)];case 1:if(i=e.sent(),jc(t),!n.bf)throw new h("Invalid MediaKeys when setting ServerCertificate");return[4,n.bf.If(i.buffer)];case 2:return e.sent(),[2]}}))}))()},i.Pj=function(t){var n=this;return _a((function(){var i,e;return ma(this,(function(r){switch(r.label){case 0:if(!n.bf)throw new h("Invalid MediaKeys when creating KeySession");r.label=1;case 1:return r.trys.push([1,,3,4]),n.Ij.push(t),[4,n.bf.Ef("temporary")];case 2:return i=r.sent(),e=new FO(i,n.Cj,t),n.Sj.push(e),e.zo(UO,n.Uo),e.zo("df",n.Rj),[2,e];case 3:return Cc(n.Ij,t),[7];case 4:return[2]}}))}))()},i.Bj=function(t){if(t.Oj)return!1;for(var n=0,i=this.Sj;n<i.length;n++){if(XO(i[n]._j,t))return!0}for(var e=0,r=this.Ij;e<r.length;e++){if(XO(r[e],t))return!0}return!1},i.bv=function(){var t=this;return _a((function(){var n;return ma(this,(function(i){switch(i.label){case 0:return t.bf=void 0,t.qo(),n=t.Sj.slice(),Pc(t.Sj),[4,j.all(n.map((function(t){return t.df()})))];case 1:return i.sent(),t.Cj.Io(),[2]}}))}))()},pe(n,[{key:"Tf",get:function(){return this.if}}]),n}(oh);function XO(t,n){return!t.Oj&&t.Ys===n.Ys&&Nh(t.ya,n.ya)}var zO=function(t){function n(n){var i;(i=t.call(this)||this).wv=new Wc,i.yU=new Nw,i.Jf=void 0,i.Cj=void 0,i.YC=void 0,i.if=void 0;var e=mu(i);return i.xj=_a((function(t){var n;return ma(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e.Lj(t.Ys,t.ya,e.wv.Lo)];case 1:return i.sent(),[3,3];case 2:return Gc(n=i.sent())||e.Gf(n),[3,3];case 3:return[2]}}))})),i._N=n,i._N.zo(ch.oa,i.xj),i}ze(n,t);var i=n.prototype;return i.wf=function(t,n){this.YC=t,this.IU(n)},i.IU=function(t){this.Jf=t,this.Mj(this.wv.Lo).catch(Qc)},i.Mj=function(t){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return De.Rs.Pu?[4,n.Fj(t)]:[3,2];case 1:if(i.sent())return[2];i.label=2;case 2:return n.Jf&&n.Jf.Uj?[4,n.Hj(t)]:[3,4];case 3:return[2,i.sent()];case 4:return[2]}}))}))()},i.Fj=function(t){var n=this;return _a((function(){var i,e,r,u,s,o,a,c,h,f,v;return ma(this,(function(d){switch(d.label){case 0:if(!(null==(i=n.Jf)?void 0:i.EN))return[2,!1];r=!1,s=0,o=null!=(u=null==(e=n.Jf)?void 0:e.EN)?u:[],d.label=1;case 1:if(!(s<o.length))return[3,9];a=o[s],h=0,f=null!=(c=a.LC)?c:[],d.label=2;case 2:if(!(h<f.length))return[3,7];v=f[h],d.label=3;case 3:return d.trys.push([3,5,,6]),[4,n.Lj(a.Tf.Ys,v,t)];case 4:return d.sent(),r=!0,[3,6];case 5:return Yc(d.sent()),[3,6];case 6:return h++,[3,2];case 7:if(r)return[2,!0];d.label=8;case 8:return s++,[3,1];case 9:return[2,!1]}}))}))()},i.Lj=function(t,n,i){var e=this;return _a((function(){var r,u,s,o,a,c,h,f,v,d;return ma(this,(function(l){switch(l.label){case 0:if(jc(i),!n.byteLength)return[2];if(!e.Jf||!e.Jf.EN.length)throw new tA(gw.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");if(t!==xa&&t!==Ma&&t!==La)return[2];r=dS(t,n),u=e.Jf.EN,o=0,l.label=1;case 1:if(!(o<u.length))return[3,11];if(a=u[o],jc(i),!(c=r[a.Tf.Qs])||a.Tf.Ys!==t)return[3,10];l.label=2;case 2:return l.trys.push([2,9,,10]),[4,e.Xj(a,i)];case 3:return(h=l.sent()).sR()?[4,h.Nj()]:[3,5];case 4:l.sent(),l.label=5;case 5:return f=e._N.zy,v={Ys:a.Tf.Ys,ya:c,Oj:f},e.zj(h,v)?[4,h.Pj(v)]:[3,8];case 6:return[4,l.sent().lf()];case 7:l.sent(),l.label=8;case 8:return[2];case 9:return Yc(d=l.sent()),s=d,[3,10];case 10:return o++,[3,1];case 11:return[4,De.vs()];case 12:throw l.sent()?new tA(gw.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s):new tA(gw.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s)}}))}))()},i.Hj=function(t){var n=this;return _a((function(){var i,e,r,u,s;return ma(this,(function(o){switch(o.label){case 0:if(!(e=null==(i=n.Jf)?void 0:i.EN))return[2];r=0,o.label=1;case 1:if(!(r<e.length))return[3,8];u=e[r],jc(t),o.label=2;case 2:return o.trys.push([2,6,,7]),[4,n.Xj(u,t)];case 3:return(s=o.sent()).sR()?[4,s.Nj()]:[3,5];case 4:o.sent(),o.label=5;case 5:return[2];case 6:return Yc(o.sent()),[3,7];case 7:return r++,[3,1];case 8:return[2]}}))}))()},i.zj=function(t,n){return De.Rs.Du||this._N.Vj.lU||!t.Bj(n)},i.Xj=function(t,n){var i=this;return this.yU.pv((function(n){return i.Wj(t,n)}),n)},i.Wj=function(t,n){var i=this;return _a((function(){var e,r,u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:if(jc(n),!i.Jf||!i.Cj||!i.YC)throw new h("Not initialized");if(i.if){if(i.if.Tf!==t.Tf)throw new h("Internal key system error");return[2,i.if]}return e=i.Cj,u=ga({},t,{HN:t.HN.map((function(n){return ga({},n,{persistentState:null!=(r=n.persistentState)?r:e.PR(t.Tf),Mf:n.Mf||e.Mf(t.Tf)})}))}),[4,i.YC.TU(u.Tf,u.HN)];case 1:return s=c.sent(),o=e.xC(u),(a=new HO(u.Tf,s,o)).zo([qw.Zv,qw.Qv,qw.Dd],i.Uo),i.if=a,[2,a]}}))}))()},i.Gf=function(t){var n=t instanceof tA?t:new tA(gw.CONTENT_PROTECTION_ERROR,t.message,t);this.Ho(new BO(n))},i.Nf=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return t.YC=void 0,t.Jf=void 0,t.wv.Bo(),t.wv=new Wc,[4,t.qj()];case 1:return n.sent(),[2]}}))}))()},i.qj=function(){var t=this;return _a((function(){var n;return ma(this,(function(i){switch(i.label){case 0:return[4,t.yU.Bo()];case 1:return i.sent(),(n=t.if)?(n.Go(qw.Dd,t.Uo),t.if=void 0,[4,n.bv()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.Io=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return t.qo(),t._N.Go(ch.oa,t.xj),[4,t.Nf()];case 1:return n.sent(),[4,t.yU.bv()];case 2:return n.sent(),[2]}}))}))()},pe(n,[{key:"Gj",get:function(){var t;return null==(t=this.if)?void 0:t.Tf}},{key:"kN",get:function(){return this.Cj},set:function(t){this.Cj=t}}]),n}(oh),VO=tr.Ne||tr.De,WO=tr.Qe,qO=tr.Le,GO=tr.Le&&tr.fe,jO=function(t){function n(n,i,e,r){var u;return(u=t.call(this)||this).QC=void 0,u.wD=!0,u.YC=void 0,u.jj=new Nw,u.Yj=void 0,u.Qj=[],u.Zj=void 0,u.Kj=NaN,u.Jj=void 0,u.$j=void 0,u.yP=!1,u.tY=j.resolve(),u.nY=new Wc,u.iY=[],u.eY=TI.hP(),u.rY=void 0,u.uY=1,u.sY=!1,u.oY=!1,u.aY=!1,u.cY=!1,u.hY=!1,u.fY=!1,u.vY=!1,u.dY=!1,u.lY=0,u.wY=!1,u._Y=function(t){var n=t.track,i=u.gY(n);u.mY(n,i)},u.yY=function(t){var n=QO(u.pY,t.track);n&&u.pY.H_(n)},u.AY=function(){for(var t=0;t<u.pY.V_;t++){var n=u.pY.F_(t);n instanceof yO&&n.NG()}},u.kY=function(){var t=u.YC,n=t.JW,i=t.$W;if(n&&i)if(t.LU)u.bY();else if(t.Dg!==GP.eW){var e=n.Uy,r=i.Uy;if(0!==e.V_&&0!==r.V_){var s=u.pm;if(s<e.SD(0)||s<r.SD(0))u.bY();else if(e.XN(s)!==r.XN(s)){if(t.OW(s))return;u.TY()}else{if(u.bY(),!u.lY&&u.SY.Bq())e.GD(r).KD(s,s+.5)&&(u.lY=tN(u.EY))}}else u.bY()}},u.EY=function(){u.lY=0,u.kY()},u.IY=function(){if(!(u.Cm||u.Dg>=My.fm)){0;var t=u.YC,n=t.JW,i=t.$W;if(n&&i){var e=u.pm,r=n.Uy,s=i.Uy;if(r.XN(e)&&s.XN(e))r.GD(s).KD(e-5,e)&&(u.vY?u.bY():u.RY())}}},u.CY=function(){u.Ho(new op(u.pm))},u.NY=function(){u.DY(new qc),u.Ho(new rp(u.pm))},u.PY=function(){u.BY(),u.Ho(new wT(u.pm))},u.OY=function(){u.xY(u.Rm)},u.LY=function(){u.Ho(new hp(u.Am))},u.MY=function(){u.Ho(new kD(u.pm))},u.FY=function(){u.Ho(new TD)},u.UY=function(){var t=u.pm,n=u.Cm,i=u.Dg<My.fm&&!u.Tm,e=void 0!==u.$j,r=e&&u.$j!==t;(n||!e||r&&!i)&&(u.Ho(new vp(u.pm,void 0)),u.$j=t)},u.HY=function(){!u.sY&&u.Tm&&(u.sY=!0,u.Ho(new dp(u.pm)))},u.XY=function(){if(null!==u.Sv.error){var t,n=u.Sv.error;u.tN(new nA(null!=(t=n.code)?t:Jp.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},u.zY=function(){u.oY&&(u.VY(),u.aY=!0)},u.WY=function(){u.Ho(new gp(u.pm,u.Pm))},u.qY=function(){u.Dm>0&&u.Nm>0&&u.Ho(new dT)},u.GY=function(t){u.Ho(new gh(t.initDataType,t.initData||new ArrayBuffer(0)))},u.jY=function(){u.Ho(new mh)},u.YY=function(t){var n=t.initData,i=n?Bf(n).buffer:new ArrayBuffer(0);u.Ho(new gh(xa,i))},u.QY=function(t){if(t.initData){var n=YO(t.initData);if(!n)return;u.Ho(new gh(Ma,n))}else u.Ho(new gh(Ma,new ArrayBuffer(0)))},u.ZY=function(t){var n=t.initData,i=n?Bf(n).buffer:new ArrayBuffer(0);u.Ho(new gh(xa,i))},u.KY=function(){u.BY()},u.JY=function(t){u.DY(t)},u.$Y=function(t){u.Ho(t),t.type===qw.Qv&&u.tN(eA(t.errorObject))},u.Sv=n,u.uo=i,u.tQ=e,u.kP=r,u.nQ=new iB(mu(u)),u.nQ.zo(up.R_,u.Uo),u.SY=new uB(mu(u)),u.SY.zo(up.ym,u.PY),u.bU=new zO(mu(u)),u.bU.zo([qw.Zv,qw.Qv,qw.Dd],u.$Y),u.$m=new Ub,u.pY=new Ub,u.iQ=new iI([u.$m,u.pY]),u.eQ=new NO(mu(u),u.iQ),u.rQ=new iI([u.iQ,u.eQ.ET]),u.uQ=new TO(mu(u)),u.sQ(),u.TN(),u}ze(n,t);var i=n.prototype;return i.oQ=function(){this.yN.ended||this.pm===this.Am||(this.sY=!1)},i.aQ=function(){return void 0!==this.Zj&&this.Am===this.Zj},i.xY=function(t){this.uY!==t&&(this.uY=t,this.Ho(new fp(this.pm,t)))},i.WN=function(){return ZN(this.Sv)},i.wy=function(){this.wY||(this.wY=!0);var t=this.cQ();return this.hQ(),t},i.hQ=function(){this.hY?this.fY&&(this.fY=!1,this.Ho(new op(this.pm))):this.fQ()},i.fQ=function(){if(this.Yj)this.Yj.wy();else{tr.Le&&!tr.fe&&this.Sv.preload===wI.hD&&(this.Sv.preload=wI.Ob);var t=this.Rm,n=this.Sv.play();t!==this.yN.playbackRate&&(this.Rm=t),fr(n)?n.then(this.KY,this.JY):this.SY.Bq()&&this.BY()}},i._y=function(){this.hY?this.fY||(this.fY=!0,this.Ho(new rp(this.pm))):this.vQ()},i.vQ=function(){this.Yj?this.Yj._y():(this.Sv.pause(),this.SY.gf()),this.dQ(new qc)},i.cQ=function(){var t=new Mf;return this.iY.push(t),t.Fa},i.lQ=function(){for(var t=0,n=this.iY;t<n.length;t++){n[t].Ua(void 0)}Pc(this.iY)},i.dQ=function(t){for(var n=0,i=this.iY;n<i.length;n++){i[n].Ha(t)}Pc(this.iY)},i.BY=function(){this.hY||this.Yj||this.lQ()},i.DY=function(t){this.hY||this.Yj||this.dQ(t)},i.Ba=function(t,n){void 0===n&&(n=!1),this.Yj?this.Yj.Ba(t,n):(this.nY.Bo(),this.nY=new Wc,this.tY=this.wQ(t,n,this.tY,this.nY.Lo).catch(lr))},i.VN=function(t){var n=this.qN;if(n&&!_(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Ba(i)}},i.wQ=function(t,n,i,e){var r=this;return _a((function(){var u,s,o,a,c,h,f,v,l,w;return ma(this,(function(_){switch(_.label){case 0:return _.trys.push([0,16,,17]),r.Zj=t,r.Kj=t,r.yP=!0,r.sY&&!r.aQ()&&(r.sY=!1),r.Ho(new wp(t)),[4,i.catch(lr)];case 1:return _.sent(),jc(e),r.cY&&r._Q(),r.Dg!==My.im?[3,3]:[4,r.Zo(up.R_,e)];case 2:_.sent(),_.label=3;case 3:return 0===r.Sv.seekable.length||GO&&!r.wY?[4,j.race([ym(r.Sv,"timeupdate",e),rh(100,e)])]:[3,5];case 4:return _.sent(),jc(e),[3,3];case 5:u=qP(r.Uy,t,.05),s=r.$y,o=!0,a=!1,_.label=6;case 6:return(s=r.$y).V_>0&&!s.XN(u)&&(u=s.LD(u),o=!0),n&&((c=r.Uy).XN(u)||(h=qP(c,u,1))!==u&&(u=h,o=!0)),qO&&void 0!==(f=r.gQ())&&u>f&&(u=f,o=!0),a?[3,9]:void 0!==(v=r.mQ())&&u>v?(a=!0,[4,r.yQ(v,!1,e)]):[3,9];case 7:return _.sent(),[4,ym(r.Sv,"seeked",e)];case 8:_.sent(),jc(e),o=!0,_.label=9;case 9:return o?(o=!1,[4,r.yQ(u,n,e)]):[3,13];case 10:_.sent(),jc(e),l=r.pm,s=r.$y,u=s.LD(u),w=1,_.label=11;case 11:return d.abs(u-l)>=du?(s=r.$y,u=function(t,n,i){void 0===i&&(i=0);if(!n.V_)return 0;var e=n.LD(t),r=.01*i;e===n.SD(0)?e+=r:e===n.RD(n.V_-1)&&(e-=r);return e}(u,s,w),[4,r.yQ(u,n,e)]):[3,13];case 12:return _.sent(),jc(e),l=r.pm,w++,[3,11];case 13:return r.Sv.seeking||r.Dg<My.hm?[4,Jc((function(t){var n;return j.race([ym(r.Sv,"seeked",t),r.Zo([qw._d,qw.$v,up.R_],t),null==(n=r.YC)?void 0:n.Zo(mD.zB,t)].filter(er))}),e)]:[3,15];case 14:return _.sent(),jc(e),[3,6];case 15:return r.pQ(),[3,17];case 16:return Gc(_.sent())?[2]:[3,17];case 17:return[2]}}))}))()},i.yQ=function(t,n,i){var e=this;return _a((function(){var r,u,s;return ma(this,(function(o){switch(o.label){case 0:if(jc(i),r=e.$y,t=r.LD(t),!e.cY)return[3,4];u=!0,o.label=1;case 1:return u||e.Dg<My.fm?((r=e.$y).XN(t)||(t=r.LD(t),u=!0),u?(u=!1,e.Zj=t,e.AQ(e.pm),[3,1]):[4,e.Zo([up.R_,qw.$v],i)]):[3,3];case 2:return o.sent(),[3,1];case 3:jc(i),o.label=4;case 4:return s=ym(e.Sv,"seeking",i),n&&e.Sv.fastSeek?e.Sv.fastSeek(t):e.Sv.currentTime=t,e.Zj=void 0,e.AQ(e.pm),e.Sv.seeking?[4,s]:[3,6];case 5:o.sent(),o.label=6;case 6:return[2]}}))}))()},i.gQ=function(){if(this.YC&&this.YC.LU){var t=this.YC.MU,n=this.YC.FU,i=t&&n?t.UD(n):t||n;if(i&&0!==i.V_){var e=i.SD(i.V_-1),r=i.RD(i.V_-1);return d.max(e,r-.001)}}},i.mQ=function(){if(this.YC&&this.YC.LU){var t=this.YC.FU;if(t&&0!==t.V_){var n=t.SD(t.V_-1),i=t.RD(t.V_-1)-.02;return i-=.001,d.max(n,i)}}},i.AQ=function(t){this.Kj!==t&&(this.Kj=t,this.Ho(new wp(t)))},i.pQ=function(){this.yP=!1,this.Kj=NaN,this.cY&&this.kQ(),this.Ho(new _p(this.pm))},i._Q=function(){this.hY||(this.fY=this.Im,this.hY=!0,this.vQ())},i.kQ=function(){this.hY&&(this.hY=!1,this.fY||this.hQ())},i.xU=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Gs===fT.gI&&AD.xU(i,this.Sv))return i;if(i.Gs===fT.mI&&ZP.xU(i))return i}},i.Cy=function(){this.wD=!1,Go(this.Sv)&&(this.Sv.style.display="none")},i.Ry=function(){this.wD=!0,Go(this.Sv)&&(this.Sv.style.display="block")},i.vI=function(t,n,i,e,r,u,s,o,a){var c=new AB(t,n,i,e,r,u,s,a,o);return this.$m.U_(c),this.uQ.U_(c),c},i.DN=function(){return!0},i.BN=function(t,n,i,r,u){var s=e.createElement("track");s.src=x_(t),s.kind=n,s.label=null!=i?i:"",r&&(s.srclang=r),s.default=!!u,s.id=OC(),this.Sv.appendChild(s);var o=this.Sv.textTracks.getTrackById(s.id),a=new yO(o,s);return this.pY.U_(a),this.Qj.push(a),a},i.wI=function(t){this.$m.H_(t),this.uQ.H_(t)},i.LN=function(){for(var t=0,n=this.$m.z_.slice();t<n.length;t++){n[t].bv()}this.$m.Nf();for(var i=0,e=this.Qj.slice();i<e.length;i++){var r=e[i];this.pY.H_(r),r.bv()}Pc(this.Qj)},i.TN=function(){var t=this.Sv.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this._Y),t.addEventListener("removetrack",this.yY),t.addEventListener("change",this.AY))},i.FN=function(){var t=this.Sv.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this._Y),t.removeEventListener("removetrack",this.yY),t.removeEventListener("change",this.AY))},i.mY=function(t,n){if(tr.Le){if(t.kind===Mb.Ob)return void this.bQ(t);if(t.kind===Mb.QE&&""===t.label&&""===t.language&&!ZO(t))return void this.TQ(t,n)}QO(this.pY,t)||this.pY.U_(new yO(t,n))},i.bQ=function(t){t.mode=hy.Ig;var n=new CO(t);this.pY.U_(n),this.uQ.U_(n)},i.TQ=function(t,n){var i=this,e=function(){ZO(t)&&(t.removeEventListener("cuechange",e),i.pY.U_(new yO(t,n)))};t.addEventListener("cuechange",e),t.mode=hy.Ig},i.gY=function(t){for(var n=this.Sv.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},i.wf=function(t){var n=this;return this.jj.pv(_a((function(i){var e;return ma(this,(function(r){switch(r.label){case 0:if(jc(i),n.YC)throw new h("Already loaded a media source");if(t.Gs===fT.gI)e=new AD(t,n,n.bU,n.uo),n.cY=!1,n.SQ(new iB(n));else{if(t.Gs!==fT.mI)throw new h("Unsupported configuration");e=new ZP(t,n,n.bU,n.uo,void 0,n.GW),n.cY=VO,n.SQ(n.cY?new eB(n):new iB(n)),WO&&(n.zo(qw.Cd,n.kY),n.zo(up.R_,n.IY))}return n.YC=e,[4,e.yM()];case 1:return r.sent(),[2,e]}}))})))},i.TY=function(){if(!this.vY){var t=this.Rm;this.vY=!0,this.Rm=t,this.Sv.playbackRate=0,this.nQ&&this.nQ.Iq()}},i.bY=function(){if(this.vY){var t=this.Rm;this.vY=!1,this.Rm=t,this.RY()}},i.RY=function(){this.Sv.currentTime=this.Sv.currentTime,this.nQ&&this.nQ.Iq()},i.SQ=function(t){var n=this.Dg;this.nQ.Io(),this.nQ=t,this.nQ.zo(up.R_,this.Uo);var i=this.Dg;n!==i&&this.Ho(new pp(this.pm,i))},i.Nf=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return t.yP=!1,t.eY=TI.hP(),t.nY.Bo(),t.Zj=void 0,t.Kj=NaN,t.Jj=void 0,t.cY=!1,t.hY=!1,t.QC=void 0,t.sY=!1,t.$j=void 0,t.oY=!1,t.wY=!1,t.aY&&(t.sQ(),t.aY=!1),t.dQ(new qc),t.SQ(new iB(t)),t.SY.Nf(),t.pY.Nf(),t.bY(),WO&&(nN(t.lY),t.lY=0,t.Go(qw.Cd,t.kY),t.Go(up.R_,t.IY)),[4,t.jj.Bo()];case 1:return n.sent(),[4,t.jj.pv(_a((function(){return ma(this,(function(n){switch(n.label){case 0:return t.YC?[4,t.YC.Io()]:[3,2];case 1:n.sent(),t.YC=void 0,n.label=2;case 2:return[2]}}))})))];case 2:return n.sent(),[2]}}))}))()},i.Io=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return t.aY=!1,t.VY(),t.FN(),[4,t.Nf()];case 1:return n.sent(),[4,t.jj.bv()];case 2:return n.sent(),t.SY.Io(),t.nQ.Io(),[4,t.bU.Io()];case 3:return n.sent(),t.LN(),t.$m.bv(),t.pY.bv(),[4,t.eQ.bv()];case 4:return n.sent(),t.iQ.bv(),t.rQ.bv(),t.qo(),[2]}}))}))()},i.sQ=function(){this.yN.addEventListener("play",this.CY),this.yN.addEventListener("pause",this.NY),this.yN.addEventListener("timeupdate",this.UY),this.yN.addEventListener("progress",this.MY),this.yN.addEventListener("loadstart",this.FY),this.yN.addEventListener("ended",this.HY),this.yN.addEventListener("ratechange",this.OY),this.yN.addEventListener("volumechange",this.WY),this.yN.addEventListener("durationchange",this.LY),this.yN.addEventListener("resize",this.qY),this.yN.addEventListener("loadedmetadata",this.qY),this.yN.addEventListener("error",this.XY),this.yN.addEventListener("emptied",this.zY),dc()?(this.Sv.addEventListener("encrypted",this.GY),this.Sv.addEventListener("waitingforkey",this.jY)):void 0!==Oo.WebKitMediaKeys&&"function"==typeof Oo.WebKitMediaKeys.isTypeSupported?this.Sv.addEventListener("webkitneedkey",this.QY):lc()?this.Sv.addEventListener("webkitneedkey",this.ZY):void 0!==Oo.MSMediaKeys&&"function"==typeof Oo.MSMediaKeys.isTypeSupported&&this.Sv.addEventListener("msneedkey",this.YY)},i.VY=function(){this.yN.removeEventListener("play",this.CY),this.yN.removeEventListener("pause",this.NY),this.yN.removeEventListener("timeupdate",this.UY),this.yN.removeEventListener("progress",this.MY),this.yN.removeEventListener("loadstart",this.FY),this.yN.removeEventListener("ended",this.HY),this.yN.removeEventListener("ratechange",this.OY),this.yN.removeEventListener("volumechange",this.WY),this.yN.removeEventListener("durationchange",this.LY),this.yN.removeEventListener("resize",this.qY),this.yN.removeEventListener("loadedmetadata",this.qY),this.yN.removeEventListener("error",this.XY),this.yN.removeEventListener("encrypted",this.GY),this.yN.removeEventListener("waitingforkey",this.jY),this.yN.removeEventListener("webkitneedkey",this.QY),this.yN.removeEventListener("webkitneedkey",this.ZY),this.yN.removeEventListener("msneedkey",this.YY),this.yN.removeEventListener("emptied",this.zY)},i.EQ=function(){var t;this.Yj||(this.eY=this.Ky,this.Yj=new $P((t=this).pm,t.Am,t.Tm,t.Im,t.Cm,t.Em,t.Rm,t.Pm,t.Dg,!1),this.VY(),this.Yj.zo(JP,this.Uo))},i.IQ=function(){if(this.Yj){var t,n,i=this.Yj;this.Yj=void 0,this.nQ.Iq(),t=this,(n=i).Am===t.Am||_(n.Am)&&_(t.Am)||t.Ho(new hp(t.Am)),t.Em=n.Em,t.Pm=n.Pm,t.Rm=n.Rm,n.Im?t._y():t.wy().catch(lr),n.pm!==t.pm||n.Dg>My.im&&t.Dg===My.im?t.Ba(n.pm,n.Sq):!n.Cm&&t.Cm?t.Ho(new wp(t.pm)):n.Cm&&!t.Cm&&t.Dg>=My.hm&&t.Ho(new _p(t.pm)),!n.Tm&&t.Tm&&t.Ho(new dp(t.pm)),i.Io(),this.sQ()}},i.tN=function(t){this.QC=t,this.dQ(this.QC),this.Ho(new sB(this.QC))},i.RQ=function(){this.CQ||(DL(this.Sv,De.Rs),this.dY=!0)},i.NQ=function(t){t.appendChild(this.Sv)},i.vq=function(){WO&&this.kY(),this.nQ.Iq()},i.My=function(){this.bU.qj().catch(lr),this.pY.Nf()},pe(n,[{key:"Cq",get:function(){return this.vY}},{key:"Uy",get:function(){return this.YC?this.YC.Uy:TI.hP()}},{key:"Hy",get:function(){var t=this.qN;if(t&&!_(t.getTime())){var n=1e3*this.pm;return new Date(t.getTime()+n)}}},{key:"qN",get:function(){if(this.yN.getStartDate)return this.yP&&this.Jj||(this.Jj=this.yN.getStartDate()),this.Jj}},{key:"pm",get:function(){return this.Yj?this.Yj.pm:void 0!==this.Zj?this.Zj:this.Sv.currentTime}},{key:"DQ",get:function(){return this.tQ}},{key:"Am",get:function(){return this.Yj?this.Yj.Am:this.YC?this.YC.Am:this.Sv.duration}},{key:"Tm",get:function(){return this.Cm?this.aQ():this.Yj?this.Yj.Tm:this.Sv.ended||this.sY}},{key:"ua",get:function(){return this.QC}},{key:"yN",get:function(){return this.Sv}},{key:"Im",get:function(){return this.hY?this.fY:this.Yj?this.Yj.Im:this.Sv.paused}},{key:"Ky",get:function(){return this.eY.qD(TI.sP(this.Sv.played))}},{key:"zT",get:function(){return this.Sv.offsetHeight*De.Rs.Cu}},{key:"Qp",get:function(){return this.Sv.offsetWidth*De.Rs.Cu}},{key:"xN",get:function(){return II}},{key:"Dg",get:function(){return this.nQ.Dg}},{key:"$y",get:function(){return this.YC?this.YC.$y:TI.hP()}},{key:"Cm",get:function(){return this.Yj?this.Yj.Cm:this.yP}},{key:"Em",get:function(){return this.Yj?this.Yj.Em:this.Sv.muted},set:function(t){this.Yj?this.Yj.Em=t:this.Sv.muted=t}},{key:"Rm",get:function(){return this.Yj?this.Yj.Rm:void 0!==this.rY?this.rY:this.Sv.playbackRate},set:function(t){this.Yj?this.Yj.Rm=t:this.Im||this.vY?(this.rY=t,this.xY(t)):(this.rY=void 0,this.Sv.playbackRate=t)}},{key:"BQ",get:function(){return this.wD}},{key:"Pm",get:function(){return this.Yj?this.Yj.Pm:this.Sv.volume},set:function(t){this.Yj?this.Yj.Pm=t:this.Sv.volume=t}},{key:"vy",get:function(){return this.rQ}},{key:"OQ",get:function(){return this.kP}},{key:"zy",get:function(){return!!this.Sv.webkitCurrentPlaybackTargetIsWireless}},{key:"CQ",get:function(){return this.dY}},{key:"Vj",get:function(){return ga({},gD)}},{key:"kN",get:function(){return this.bU.kN},set:function(t){this.bU.kN=t}},{key:"xQ",get:function(){return this.GW},set:function(t){this.GW=t}},{key:"Gj",get:function(){return this.bU.Gj}},{key:"np",get:function(){return this.oY},set:function(t){this.oY=t,this.aY&&!this.oY&&(this.aY=!1,this.sQ())}}]),n}(oh);function YO(t){try{var n=Rf(t),i=new xf;return mf(yf(Kh(n,i,rf(n,i,!0)),!0))}catch(t){return}}function QO(t,n){for(var i=0,e=t.z_;i<e.length;i++){var r=e[i];if(r.dp===n)return r}}function ZO(t){return!!t.cues&&t.cues.length>0}me(),zt(),Ae();var KO={JF:void 0,tU:void 0,nU:void 0,iU:void 0,eU:void 0,rU:void 0,cU:void 0,uU:void 0,sU:void 0,oU:void 0,aU:void 0},JO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).v_=void 0,n}return ze(n,t),pe(n,[{key:"d_",get:function(){return this.v_||(this.v_=fD(this)),this.v_}},{key:"JF",get:function(){}},{key:"tU",get:function(){}},{key:"nU",get:function(){}},{key:"iU",get:function(){}},{key:"eU",get:function(){}},{key:"rU",get:function(){}},{key:"cU",get:function(){}},{key:"uU",get:function(){}},{key:"sU",get:function(){}},{key:"oU",get:function(){}},{key:"aU",get:function(){}}]),n}(oh),$O=(new JO,function(t){function n(n,i,e){return t.call(this,n,i,e,new JO)}return ze(n,t),n.prototype.Ny=function(){},pe(n,[{key:"Nm",get:function(){return 0}},{key:"Dm",get:function(){return 0}}]),n}(jO));me(),zt(),Ae(),me(),zt(),Ae();var tx=function(){function t(t){void 0===t&&(t=5);var n=Oo.document.createElement("div");n.className="theoplayer-texttracks",n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.LQ=n,this.Ry()}var n=t.prototype;return n.Cy=function(){this.LQ.style.display="none"},n.Ry=function(){this.LQ.style.display="block"},n.NQ=function(t){t.appendChild(this.LQ)},n.bv=function(){Ho(this.LQ)},pe(t,[{key:"Xy",get:function(){return this.LQ}}]),t}();function nx(t,n){return ga({},n,jm({JF:(i=t).JF,tU:i.tU,nU:i.nU,iU:i.iU,eU:i.eU,rU:i.rU,cU:i.cU,uU:i.uU,sU:i.sU,oU:i.oU,aU:i.aU}));var i}function ix(t){return t.nU&&rc(t.nU,"%")?Number(t.nU.replace("%",""))/100:t.nU&&rc(t.nU,"em")?Number(t.nU.replace("em","")):1}me(),zt(),Ae(),me(),zt(),me(),zt(),Ae(),me(),zt();var ex,rx,ux,sx,ox=function(){function t(t,n,i,e,r){var u=this;this.MQ=ka(),this.FQ=!0,this.UQ=ga({},KO),this.HQ=[],this.XQ=function(t){return u.lI(t.Ap)},this.zQ=function(t){return u.removeCue(t.Ap)},this.VQ=function(){return u.WQ()},this.qQ=function(t){return u.GQ(t.Ap)},this.jQ=function(t){return u.YQ(t.Ap)},this.QQ=function(t){return u.ZQ(t.Ap)},this.KQ=function(t){u.JQ(t.Qp,t.zT)},this.Bp=t,this.$Q=this.tZ=r,this.Sv=this.nZ(i),this.tQ=e,n.appendChild(this.Sv)}var n=t.prototype;return n.iZ=function(t){var n=this.eZ(t);if(!n)return!1;for(var i=0;i<n.length;i++){Ho(n[i])}return this.rZ(t),!0},n.yM=function(){var t=this;this.uZ(),this.Bp.Pg.z_.forEach((function(n){return t.lI(n)})),this.DQ.zo("Dx",this.KQ),this.JQ(this.DQ.Fx,this.DQ.Mx)},n.sZ=function(t){this.UQ=t,this.tZ=nx(this.UQ,this.$Q),this.tZ.JF&&(this.yN.style.fontFamily=this.tZ.JF),this.tZ.cU&&(this.yN.style.visibility=this.tZ.cU),this.JQ(this.DQ.Fx,this.DQ.Mx),this.oZ(!0)},n.aZ=function(){return this.tZ},n.cZ=function(t){return this.MQ.has(t.rg)},n.uZ=function(){this.Bp.zo(Bm.__,this.XQ),this.Bp.zo(Bm.m_,this.zQ),this.Bp.zo(Bm.E_,this.VQ)},n.hZ=function(){this.Bp.Go(Bm.__,this.XQ),this.Bp.Go(Bm.m_,this.zQ),this.Bp.Go(Bm.E_,this.VQ)},n.fZ=function(t){t.zo(EA.gp,this.qQ),t.zo(EA.yp,this.jQ),t.zo(EA.P_,this.QQ)},n.vZ=function(t){t.Go(EA.gp,this.qQ),t.Go(EA.yp,this.jQ),t.Go(EA.P_,this.QQ)},n.lI=function(t){this.fZ(t),t.Xp&&this.GQ(t)},n.removeCue=function(t){this.vZ(t),this.YQ(t)},n.WQ=function(){this.Bp.Sg===hy.Eg?this.dZ():this.lZ()},n.dZ=function(){if(this.FQ){this.FQ=!1;var t=this.DQ.Fx,n=this.DQ.Mx;this.JQ(t,n),this.oZ(!1)}},n.lZ=function(){this.FQ||(this.FQ=!0,this.oZ(!0))},n.GQ=function(t){this.FQ||t.Xp&&!this.cZ(t)&&this.oZ(!1)},n.YQ=function(t){this.cZ(t)&&this.oZ(!0)},n.ZQ=function(t){(t.Xp||this.cZ(t))&&this.oZ(!0)},n.oZ=function(t){var n=this.HQ,i=this.FQ?[]:this.Bp.Bg.z_.slice();this.wZ(i,n,t),this.HQ=i},n.eZ=function(t){var n;return null==(n=this.MQ.get(t.rg))?void 0:n._Z},n.gZ=function(t,n){this.MQ.set(t.rg,{Ap:t,_Z:n})},n.rZ=function(t){this.MQ.delete(t.rg)},n.mZ=function(){return this.HQ.slice()},n.bv=function(){var t=this;Ho(this.yN),this.MQ.clear(),this.hZ(),this.Bp.Pg.z_.forEach((function(n){return t.vZ(n)})),this.DQ.Go("Dx",this.KQ)},pe(t,[{key:"w_",get:function(){return this.Bp}},{key:"yN",get:function(){return this.Sv}},{key:"DQ",get:function(){return this.tQ}},{key:"yZ",get:function(){return this.tZ}},{key:"pZ",get:function(){return this.UQ}}]),t}();function ax(t){return cx[t||"none"]}me(),zt(),(rx=ex||(ex={})).AZ='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',rx.kZ='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',rx.bZ='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',rx.TZ='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif',(sx=ux||(ux={})).BLACK="#000000",sx.WHITE="#FFFFFF",sx.GREEN="#00ff00",sx.BLUE="#0000ff",sx.CYAN="#00ffff",sx.RED="#ff0000",sx.YELLOW="#ffff00",sx.MAGENTA="#ff00ff",sx.TRANSPARENT="transparent";var cx={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},hx=ba({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif"}),fx={tU:ux.WHITE,JF:"Arial, Helvetica, Sans-Serif",nU:"100%",iU:ux.TRANSPARENT,eU:ux.TRANSPARENT,rU:"none",cU:"visible",uU:void 0,sU:void 0,oU:void 0,aU:void 0},vx=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,fx)}ze(n,t);var i=n.prototype;return i.nZ=function(t){var n=e.createElement("div");n.className="theoplayer-ttml-texttrack-"+t;var i=n.style;return i.position="absolute",zo(i,"flex"),i.overflow="hidden",i.pointerEvents="none",i.top="0",i.left="0",i.width="100%",i.height="100%",n},i.JQ=function(t,n){var i=d.min(t,n)/15;this.yN.style.fontSize=i+"px"},i.wZ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Xp||this.iZ(r)}for(var u=0;u<t.length;u++){var s=t[u];this.SZ(s)}},i.SZ=function(t){var n=this.eZ(t);n||(n=this.EZ(t),this.gZ(t,n));for(var i=0;i<n.length;i++){var e=n[i];this.yN.appendChild(e)}},i.EZ=function(t){var n=[],i=t.WE,r=t.Ck,u=t.Tp;if(0===v.keys(r).length){var s=e.createElement("div");kx(s),dx(u,i,t.qE,s,s),s.firstChild&&n.push(s)}else for(var o=0,a=v.keys(r);o<a.length;o++){var c=a[o],h=e.createElement("div");h.id=c,kx(h),_x(h,"region",r[c],i),dx(u,i,t.qE,h,h),h.firstChild&&n.push(h)}return n},i.sZ=function(t){var n,i,e,r;n=this.yN,i=t,n.style.marginTop=(null!=(e=i.uU)?e:0)+"px",n.style.marginBottom=(null!=(r=i.sU)?r:0)+"px",n.style.height="calc(100% - "+n.style.marginTop+" - "+n.style.marginBottom+")",wD(this.yN,t)},n}(ox);function dx(t,n,i,r,u){if(_u(t)&&("SPAN"===(f=t).Tr.toUpperCase()||"P"===f.Tr.toUpperCase()||"BR"===f.Tr.toUpperCase()||"DIV"===f.Tr.toUpperCase()||"BODY"===f.Tr.toUpperCase())){var s=lx(t);if(!s||(null==u?void 0:u.id)===s){var o;if("BODY"===t.Tr.toUpperCase())o=u;else{if(!(o=function(t){var n;switch(t.Tr.toUpperCase()){case"BR":n=e.createElement("br");break;case"SPAN":wx(n=e.createElement("span"),t);break;case"P":(function(t){var n=t.style;n.fontFamily="inherit",n.color="inherit",n.textAlign="inherit",n.padding="0",n.margin="0",n.lineHeight="inherit"})(n=e.createElement("p")),wx(n,t);break;case"DIV":wx(n=e.createElement("div"),t)}return n}(t)))return;r.appendChild(o)}!function(t,n,i,e){var r=n.Ur("style");yx(t,n.Tr,r,i,e),function(t,n,i){for(var e=0,r=n.qr;e<r.length;e++){var u=r[e];px(t,n.Tr,u.Tr,u.Rr,i)}}(t,n,e)}(o,t,n,u),function(t,n,i){var e=null==n?void 0:n.Ur("smpte:backgroundImage");if(e){e=e.replace("#","");var r=i&&gx(i,(function(t){return t.qr.some((function(t){return"id"===t.Tr&&t.Rr===e}))}));r&&mx(t,r,n,!0)}!function(t,n){var i=ya(n.Fr,1)[0];if(!i||"metadata"!==i.Tr.toLowerCase())return;var e=ya(i.Fr,1)[0];mx(t,e,n)}(t,n)}(o,t,i);for(var a=0,c=t.Pr;a<c.length;a++){dx(c[a],n,i,o,u)}}}else if(gu(t)){var h=e.createTextNode(t.jr);r.appendChild(h)}var f}function lx(t){var n=t.Ur("region");if("p"===t.Tr.toLowerCase())return n;for(var i,e=[],r=0,u=t.Fr;r<u.length;r++){var s=u[r];e.push(lx(s))}return function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e),0===e.length?n:1===e.length?null!=(i=e[0])?i:n:void 0}function wx(t,n){var i=n.Hr(gb,"id");i&&(t.id=i)}function _x(t,n,i,e){yx(t,n,i.style,e,t);for(var r=0,u=v.keys(i);r<u.length;r++){var s=u[r];px(t,n,s,i[s],t)}}function gx(t,n){if(n(t))return t;for(var i=0,e=t.Fr;i<e.length;i++){var r=gx(e[i],n);if(r)return r}return null}function mx(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var u=e.createElement("img");u.src=function(t){var n=t&&t.Pr.length>0?t.Pr[0]:null;return n&&gu(n)?"data:image/png;base64,"+n.jr:""}(n),u.id=t.id,u.style.height="100%",u.style.maxWidth="100%",function(t,n){var i=t.style;zo(i,"flex");var e=n.Ur("smpte:backgroundImageVertical");if(e)switch(e.toLowerCase()){case"left":i.alignItems="flex-start";break;case"center":i.alignItems="center";break;case"right":i.alignItems="flex-end";break;case"inherit":i.alignItems="inherit"}else i.alignItems="center";var r=n.Ur("smpte:backgroundImageHorizontal");if(r)switch(r.toLowerCase()){case"left":i.justifyContent="flex-start";break;case"center":i.justifyContent="center";break;case"right":i.justifyContent="flex-end";break;case"inherit":i.justifyContent="inherit"}else i.justifyContent="center"}(t,i),t.appendChild(u)}function yx(t,n,i,e,r){if(i)for(var u=0,s=i.split(" ");u<s.length;u++){var o=s[u];if(e[o])for(var a=0,c=v.keys(e[o]);a<c.length;a++){var h=c[a];"style"===h.toLowerCase()?yx(t,n,e[o][h],e,r):px(t,n,h,e[o][h],r)}}}function px(t,n,i,e,r){var u=t.style;switch(i){case"backgroundColor":u.backgroundColor=e;break;case"color":u.color=e;break;case"direction":u.direction=e;break;case"display":"none"===e&&(u.display="none");break;case"fontFamily":var s=hx.get(e);u.fontFamily=s||e;break;case"fontSize":rc(e,"px")?e=l(e)/24+"em":rc(e,"c")&&(e=e.replace("c","em")),u.fontSize=e;break;case"fontStyle":u.fontStyle=e;break;case"fontWeight":u.fontWeight=e;break;case"lineHeight":u.lineHeight=e;break;case"opacity":u.opacity=e;break;case"overflow":u.overflow=e;break;case"padding":u.padding=e;break;case"textAlign":"right"===e?(u.textAlign="right",u.justifyContent="flex-end"):"start"===e?(u.textAlign="start",u.justifyContent="flex-start"):"center"===e?(u.textAlign="center",u.justifyContent="center"):"end"===e?(u.textAlign="end",u.justifyContent="flex-end"):"left"===e&&(u.textAlign="left",u.justifyContent="flex-start");break;case"textDecoration":var o=e;o=(o=(o=(o=o.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough","none")).replace("noOverline","none"),u.textDecoration=o;break;case"unicodeBidi":u.unicodeBidi=e.replace("bidiOverride","bidi-override");break;case"visibility":u.visibility=e;break;case"zIndex":u.zIndex=e;break;case"displayAlign":var a;if("before"===e.toLowerCase())a="flex-start";else if("center"===e.toLowerCase())a="center";else{if("after"!==e.toLowerCase())return;a="flex-end"}u.alignItems=a;break;case"extent":var c,h,f=Ax(n.toLowerCase())?r:t,v=e.split(" ");v.length>=2?(c=v[0],h=v[1]):c=h="100%",f&&(f.style.height=h,f.style.width=c);break;case"origin":var d=Ax(n.toLowerCase())?r:t,w=ya(e.split(" "),2),_=w[0],g=w[1];d&&(_||g)&&(_&&(d.style.left=_),g&&(d.style.top=g));break;case"showBackground":break;case"wrapOption":u.whiteSpace=e.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap");break;case"writingMode":var m,y,p,A;switch(e){case"lrtb":m="horizontal-tb";break;case"rltb":m="horizontal-tb",y="rtl",A="bidi-override";break;case"tbrl":m="vertical-rl",p="upright";break;case"tblr":m="vertical-lr",p="upright";break;case"lr":m="horizontal-tb";break;case"rl":m="horizontal-tb",y="rtl";break;case"tb":m="vertical-rl",p="upright";break;default:return}u.writingMode=m,u.setProperty("-webkit-writing-mode",m),y&&(u.direction=y),p&&(u.textOrientation=p,u.setProperty("-webkit-text-orientation",p)),A&&(u.unicodeBidi=A);break;case"textOutline":break;case"linePadding":if(rc(e,"c")){var k=e.replace("c","em");u.paddingLeft=u.paddingRight=k}break;case"multiRowAlign":"auto"===e.toLowerCase()?u.textAlign="":u.textAlign=e}}function Ax(t){return"div"===t||"p"===t||"span"===t}function kx(t){var n=t.style;zo(n,"flex"),n.top="auto",n.left="5%",n.width="90%",n.height="100%",n.maxHeight="100%",n.maxWidth="100%",n.alignItems="flex-start",n.overflow="visible",n.position="absolute",n.fontFamily="Arial, Helvetica, Sans-Serif",n.color="white",n.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px",n.textAlign="start",n.writingMode="horizontal-tb",n.setProperty("-webkit-writing-mode","horizontal-tb"),n.padding="0",n.margin="0",n.lineHeight="1.3em"}me(),zt(),Oe(),me(),zt();var bx,Tx,Sx,Ex,Ix=void 0;function Rx(t,n){for(var i,e="Data",r="",u=[],s=t.charAt(n.Na),o="",a={Gs:"starttag",Br:"",IZ:[]};n.Na<t.length+1;){switch(s=n.Na<t.length?t.charAt(n.Na):"EOF",e){case"Data":switch(s){case"&":var c=t.substring(n.Na).match(/&#?[0-9a-zA-Z]+;/);c?(r+=(i=c[0],Ix||(Ix=Oo.document.createElement("textarea")),Ix.innerHTML=i,Ix.value),n.Da(c[0].length-1)):r+="&";break;case"<":if(r)return{Gs:"string",Tp:r};e="Tag";break;case"EOF":return{Gs:"string",Tp:r};default:r+=s}break;case"Tag":switch(s){case"\t":case"\n":case"\f":case" ":e="StartTagAnnotation";break;case".":e="StartTagClass";break;case"/":e="EndTag";break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=s,e="TimestampTag";break;case">":return n.Da(1),a;case"EOF":return a;default:r=s,e="StartTag"}break;case"StartTag":switch(s){case"\t":case"\f":case" ":e="StartTagAnnotation";break;case"\n":o=s,e="StartTagAnnotation";break;case".":e="StartTagClass";break;case">":return n.Da(1),{Gs:"starttag",Br:r,IZ:[]};case"EOF":return{Gs:"starttag",Br:r,IZ:[]};default:r+=s}break;case"StartTagClass":switch(s){case"\t":case"\f":case" ":u.push(o),o="",e="StartTagAnnotation";break;case"\n":u.push(o),o=s,e="StartTagAnnotation";break;case".":u.push(o),o="";break;case">":return n.Da(1),u.push(o),{Gs:"starttag",Br:r,IZ:u};case"EOF":return u.push(o),{Gs:"starttag",Br:r,IZ:u};default:o+=s}break;case"StartTagAnnotation":switch(s){case"&":e="CharRefInAnnotation";break;case">":n.Da(1);var h=o.trim();return{Gs:"starttag",Br:r,IZ:u,RZ:h=h.replace(/\s/," ")};default:o+=s}break;case"CharRefInAnnotation":for(var f="",v=n.Na;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",e="StartTagAnnotation";break;case"EndTag":switch(s){case">":return n.Da(1),{Gs:"endtag",Br:r};case"EOF":return{Gs:"endtag",Br:r};default:r+=s}break;case"TimestampTag":switch(s){case">":return n.Da(1),{Gs:"timestamp",CZ:r};case"EOF":return{Gs:"timestamp",CZ:r};default:r+=s}}n.Da(1)}return a}function Cx(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}(Tx=bx||(bx={})).NZ="Data",Tx.DZ="Tag",Tx.PZ="StartTag",Tx.BZ="StartTagClass",Tx.OZ="StartTagAnnotation",Tx.xZ="CharRefInAnnotation",Tx.LZ="EndTag",Tx.MZ="TimestampTag",(Ex=Sx||(Sx={})).FZ="string",Ex.UZ="starttag",Ex.HZ="endtag",Ex.XZ="timestamp",me(),zt(),me(),zt(),Ae();var Nx,Dx,Px=function(){function t(t,n,i,e){this.zZ=t,this.VZ=n,this.Qp=i,this.zT=e}var n=t.prototype;return n.WZ=function(t){return this.zZ<t.qZ&&this.qZ>t.zZ&&this.VZ<t.GZ&&this.GZ>t.VZ},n.rp=function(t){return this.zZ<=t.zZ&&t.qZ<=this.qZ&&this.VZ<=t.VZ&&t.GZ<=this.GZ},n.Oa=function(){return new t(this.zZ,this.VZ,this.Qp,this.zT)},pe(t,[{key:"qZ",get:function(){return this.zZ+this.Qp},set:function(t){this.zZ=t-this.Qp}},{key:"GZ",get:function(){return this.VZ+this.zT},set:function(t){this.VZ=t-this.zT}}]),t}(),Bx={tU:ux.WHITE,JF:"sans-serif",nU:"100%",iU:"rgba(0,0,0,0.8)",eU:ux.TRANSPARENT,rU:"none",cU:"visible",uU:void 0,sU:void 0,oU:void 0,aU:void 0},Ox="theoplayer-webvtt-region-",xx="theoplayer-webvtt-styling-",Lx="theoplayer-webvtt-default-style",Mx=5.23,Fx=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,Bx)||this).jZ=Aa(),u.YZ=Vx(3),u}ze(n,t);var i=n.prototype;return i.nZ=function(t){var n=e.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,Wo(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.yZ.JF;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(e.getElementById(Lx))return;for(var t=[],n=0;n<$x.length;n++){var i=ya($x[n],2),r=i[0],u=i[1];t.push("."+xx+r+" { color: "+u+" !important; }"),t.push("QZ"+r+" { background-color: "+u+" !important; }"),t.push("video::cue(."+r+") { color: "+u+"; }"),t.push("ZZ"+r+") { background-color: "+u+"; }")}var s=e.createElement("style");s.id=Lx,s.innerHTML=t.join("\n"),e.body.appendChild(s)}(),n},i.yM=function(){this.yN.appendChild(this.YZ),t.prototype.yM.call(this)},i.JQ=function(t,n){var i=this,e=d.min(t/100,n/100),r=ix(this.yZ);this.jZ.forEach((function(t){var n=t.Np,u=t.KZ;i.JZ(u,e,r,n)})),this.JZ(this.YZ,e,r)},i.sZ=function(n){wD(this.yN,n),t.prototype.sZ.call(this,n)},i.wZ=function(t,n,i){for(var e,r=this,u=this.yN,s=this.DQ.Mx/100,o=[],a=0;a<t.length;a++){var c=t[a];void 0!==c.Np&&(Dc(o,c.Np)||o.push(c.Np))}this.jZ.forEach((function(t,n){var e=t.Np,u=t.KZ;!i&&Dc(o,e)||(Ho(u),r.jZ.delete(n))}));for(var h=0;h<n.length;h++){var f=n[h];!i&&f.Xp||this.iZ(f)}var v=[],d=jx(this.YZ.getBoundingClientRect());(e=v).push.apply(e,Ce(this.$Z(d)));for(var l=0;l<o.length;l++){var w=o[l],_=void 0;this.jZ.has(w.eg)?_=this.jZ.get(w.eg).KZ:(_=Wx(w,s),u.appendChild(_),this.jZ.set(w.eg,{Np:w,KZ:_})),v.push(jx(_.getBoundingClientRect()))}for(var g=0;g<t.length;g++){var m=t[g],y=this.SZ(m,v,d);void 0!==y&&v.push(y)}},i.$Z=function(t){var n=[],i=this.yZ;if(void 0!==i.uU){var e=t.Oa();e.zT=i.uU,n.push(e)}if(void 0!==i.sU){var r=t.Oa();r.zT=i.sU,r.GZ=t.GZ,n.push(r)}return n},i.SZ=function(t,n,i){var e,r;t.Np?(r=this.jZ.get(t.Np.eg).KZ,"up"===t.Np.Gp&&r.children.length>=1&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s")):r=this.YZ;var u=null==(e=this.eZ(t))?void 0:e[0];if(u?r.appendChild(u):(u=this.tK(t),r.appendChild(u),t.Np||(t.Dp?function(t,n,i,e){var r=qx(t),u=r?i.zT:i.Qp,s=w(getComputedStyle(n).lineHeight);if(0===s)return;var o=jx(n.getBoundingClientRect()),a=d.round(WA(t));"rl"===t.Pp&&(a=-(a+1));var c=s*a;"rl"===t.Pp&&(c=c-o.Qp+s);a<0&&(c+=u,s=-s);r?o.VZ+=c:o.zZ+=c;var h=o.Oa(),f=!1;for(;!i.rp(o)||Gx(o,e);)if(r)if(s<0&&o.VZ<i.VZ||s>0&&o.GZ>i.GZ){if(o.VZ=h.VZ,f)break;s=-s,f=!0}else o.VZ+=s;else if(s<0&&o.zZ<i.zZ||s>0&&o.qZ>i.qZ){if(o.zZ=h.zZ,f)break;s=-s,f=!0}else o.zZ+=s;r?n.style.top=(o.VZ-i.VZ)/i.zT*100+"%":n.style.left=(o.zZ-i.zZ)/i.Qp*100+"%"}(t,u,i,n):function(t,n,i,e){var r=jx(n.getBoundingClientRect());if(0===r.Qp||0===r.zT)return;qx(t)?"center"===t.Ip?r.VZ-=r.zT/2:"end"===t.Ip&&(r.VZ-=r.zT):"center"===t.Ip?r.zZ-=r.Qp/2:"end"===t.Ip&&(r.zZ-=r.Qp);var u,s=r.Oa(),o=s,a=1,c=!1;u=""===t.Pp?[2,3,0,1]:"lr"===t.Pp?[0,1,2,3]:[1,0,2,3];var h=4,f=w(getComputedStyle(n).lineHeight)/h;if(f>0){for(var v=0;v<u.length&&!c;v++){for(;!Qx(r,i,u[v],.01)&&(!i.rp(r)||Gx(r,e));)Yx(r,u[v],f);if(i.rp(r)){o=r.Oa(),c=!0;break}var d=Zx(r,i);a>d&&(o=r.Oa(),a=d),r=s.Oa()}i.rp(r)||(o=s.Oa())}n.style.left=(o.zZ-i.zZ)/i.Qp*100+"%",n.style.top=(o.VZ-i.VZ)/i.zT*100+"%"}(t,u,i,n)),this.gZ(t,[u])),!t.Np)return jx(u.getBoundingClientRect())},i.tK=function(t){for(var n=new xf,i=t.Tp,r=this.nK(t),u={iK:void 0,Xy:r},s=u,o="",a="",c=[u],h=[],f=[];n.Na<i.length;){var v=Rx(i,n);if(v.Gs===Sx.FZ){var d=e.createElement("span");Cx(d,v.Tp),Ux(d,c),""!==o&&(d.lang=o),this.eK(d,a),s.Xy.appendChild(d)}else if(v.Gs===Sx.UZ){var l=v.Br.toLowerCase();switch(l){case"i":case"b":case"u":case"ruby":var w=e.createElement(l);s.Xy.appendChild(w),s={iK:v,Xy:w},c.push(s);break;case"rt":var _;if("ruby"===(null==(_=s.iK)?void 0:_.Br.toLowerCase())){var g=e.createElement("rt");s.Xy.appendChild(g),s={iK:v,Xy:g},c.push(s)}break;case"c":case"v":s={iK:v,Xy:s.Xy},c.push(s);break;case"font":var m,y=null==(m=v.RZ)?void 0:m.match(/(?:^| )color=["']([^"']+)/i);y&&(a=y[1],f.push(a),s={iK:v,Xy:s.Xy},c.push(s));break;case"lang":var p;o=null!=(p=v.RZ)?p:"",h.push(o)}}else if(v.Gs===Sx.HZ){var A,k=v.Br.toLowerCase(),b=null==(A=s.iK)?void 0:A.Br.toLowerCase();b===k?(c.pop(),s=c[c.length-1],"font"===k&&(f.pop(),a=f.length>0?f[f.length-1]:"")):"rt"===b&&"ruby"===k?(c.pop(),c.pop(),s=c[c.length-1]):"lang"===k&&(h.pop(),o=h.length>0?h[h.length-1]:"")}else if(v.Gs===Sx.XZ){var T=v.CZ,S=new xf;try{Xk(T,S)}catch(t){Sr("ERROR collecting timestamp",t)}}}return r},i.eK=function(t,n){var i=this.yZ,e=this.pZ;i.iU&&(t.style.background=i.iU);var r=e.tU||n||i.tU;r&&(t.style.color=r)},i.JZ=function(t,n,i,e){if(e){var r=Hx(e,n);t.style.height=r*i+"px",t.style.left=Xx(e)+"%",t.style.top=zx(e,n)+"px"}t.style.fontSize=Mx*n*i+"px"},i.nK=function(t){var n=e.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.Sp,function(t,n){"rl"===n.Pp?t.style.writingMode="vertical-rl":"lr"===n.Pp?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=jA(n);qx(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=GA(n),u=qA(n),s=jA(n);if(qx(n)){switch(r){case"line-left":i=u;break;case"center":i=u-s/2;break;case"line-right":i=u-s}e=n.Dp?0:WA(n)}else{switch(r){case"line-left":e=u;break;case"center":e=u-s/2;break;case"line-right":e=u-s}i=n.Dp?0:WA(n)}t.style.left=i+"%",t.style.top=e+"%"}(n,t);var i=this.yZ.eU;i&&(n.style.background=i);var r=this.yZ.tU;return r&&(n.style.color=r),n.style.textShadow=ax(this.yZ.rU),n},n}(ox);function Ux(t,n){for(var i=0;i<n.length;i++){var e=n[i];if(e.iK){for(var r=0,u=e.iK.IZ;r<u.length;r++){var s=u[r];Xo(t,xx+s)}"v"===e.iK.Br.toLowerCase()&&e.iK.RZ&&Xo(t,"theoplayer-webvtt-voice-"+e.iK.RZ)}}}function Hx(t,n){return t.Vp*(Mx*n)*1.14}function Xx(t){return t.jp-t.Wp*t.Qp/100}function zx(t,n){var i=t.Yp,e=t.qp*Hx(t,n)/100;return d.max(0,i-e)}function Vx(t){var n=e.createElement("div");return n.className="theoplayer-webvtt-region-default",Wo(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=Mx*t+"px",n.style.lineHeight="1.14em",n}function Wx(t,n){var i=Vx(n);i.className=Ox+t.eg;var e=t.Qp,r=Hx(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=Xx(t)+"%",i.style.right="",i.style.top=zx(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function qx(t){return""===t.Pp}function Gx(t,n){return n.some((function(n){return t.WZ(n)}))}function jx(t){return new Px(t.left,t.top,t.width,t.height)}function Yx(t,n,i){switch(n){case 0:t.zZ+=i;break;case 1:t.zZ-=i;break;case 2:t.VZ+=i;break;case 3:t.VZ-=i}}function Qx(t,n,i,e){switch(i){case 0:return t.qZ>n.qZ+e;case 1:return t.zZ<n.zZ-e;case 2:return t.GZ>n.GZ+e;case 3:return t.VZ<n.VZ-e}}function Zx(t,n){return d.max(0,d.min(t.qZ,n.qZ)-d.max(t.zZ,n.zZ))*d.max(0,d.min(t.GZ,n.GZ)-d.max(t.VZ,n.VZ))/(t.Qp*t.zT)}(Dx=Nx||(Nx={}))[Dx.POS_X=0]="POS_X",Dx[Dx.NEG_X=1]="NEG_X",Dx[Dx.POS_Y=2]="POS_Y",Dx[Dx.NEG_Y=3]="NEG_Y";var Kx,Jx,$x=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),(Jx=Kx||(Kx={})).FONT_REGULAR="regular",Jx.FONT_UNDERLINE="underline",Jx.FONT_ITALICS="italics",Jx.FONT_UNDERLINE_ITALICS="underline-italics";var tL={tU:ux.WHITE,JF:ex.bZ,nU:"100%",iU:ux.BLACK,eU:"transparent",rU:"none",rK:"regular",cU:"visible",uU:void 0,sU:void 0,oU:void 0,aU:void 0},nL=[{uK:ux.WHITE,rK:"regular",sK:0},{uK:ux.WHITE,rK:"underline",sK:0},{uK:ux.GREEN,rK:"regular",sK:0},{uK:ux.GREEN,rK:"underline",sK:0},{uK:ux.BLUE,rK:"regular",sK:0},{uK:ux.BLUE,rK:"underline",sK:0},{uK:ux.CYAN,rK:"regular",sK:0},{uK:ux.CYAN,rK:"underline",sK:0},{uK:ux.RED,rK:"regular",sK:0},{uK:ux.RED,rK:"underline",sK:0},{uK:ux.YELLOW,rK:"regular",sK:0},{uK:ux.YELLOW,rK:"underline",sK:0},{uK:ux.MAGENTA,rK:"regular",sK:0},{uK:ux.MAGENTA,rK:"underline",sK:0},{uK:ux.WHITE,rK:"italics",sK:0},{uK:ux.WHITE,rK:"underline-italics",sK:0},{uK:ux.WHITE,rK:"regular",sK:0},{uK:ux.WHITE,rK:"underline",sK:0},{uK:ux.WHITE,rK:"regular",sK:4},{uK:ux.WHITE,rK:"underline",sK:4},{uK:ux.WHITE,rK:"regular",sK:8},{uK:ux.WHITE,rK:"underline",sK:8},{uK:ux.WHITE,rK:"regular",sK:12},{uK:ux.WHITE,rK:"underline",sK:12},{uK:ux.WHITE,rK:"regular",sK:16},{uK:ux.WHITE,rK:"underline",sK:16},{uK:ux.WHITE,rK:"regular",sK:20},{uK:ux.WHITE,rK:"underline",sK:20},{uK:ux.WHITE,rK:"regular",sK:24},{uK:ux.WHITE,rK:"underline",sK:24},{uK:ux.WHITE,rK:"regular",sK:28},{uK:ux.WHITE,rK:"underline",sK:28}],iL=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function eL(t,n){return ck(t.oK,n.oK)||kc(t.aE,n.aE)}me(),zt();var rL=32,uL=function(){function t(t,n,i){this.aK=t,this.cK=n,this.tZ=i}var n=t.prototype;return n.hK=function(){return this.fK=this.vK(),this.dK(),this.lK(),this.fK},n.vK=function(){var t=e.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.wK/rL*this.cK._K*100+"%",t.style.height=1.2*this.gK+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.cK.mK?"calc(1em - 1ch)":"";var n=this.tZ.JF;n&&(t.style.fontFamily=n);var i=this.tZ.eU;return i&&(t.style.backgroundColor=i),t},n.dK=function(){if(this.fK){var t=this.pK.yK/15*100,n=this.pK.sK/rL*100,i=(rL-this.AK.sK-1)/rL*100,e=(15-this.AK.yK-1)/15*100;this.cK.kK||(n=i=1,this.fK.style.width="98%"),e<t?this.fK.style.bottom=e*this.cK._K+"%":this.fK.style.top=t*this.cK._K+"%",i<n?this.fK.style.right=i+"%":this.fK.style.left=n+"%"}},n.lK=function(){for(var t=this.aK.bK.sort(sL),n=0;n<t.length;n++)this.TK(t[n-1],t[n]),this.SK(t[n]);this.TK(t[t.length-1],void 0)},n.SK=function(n){var i,e=nx(this.tZ,n.EK),r=t.IK(e);Cx(r,n.RK),null==(i=this.fK)||i.appendChild(r)},n.TK=function(t,n){var i=t?t.CK.yK:this.aK.NK.yK,e=n?n.NK.yK:this.aK.CK.yK,r=t?t.CK.sK:this.aK.NK.sK,u=n?n.NK.sK:this.aK.CK.sK;i<e&&(!n||t&&t.NK.yK!==n.NK.yK?this.DK():this.PK(this.aK.CK.sK-r),r=this.aK.NK.sK),r<u&&(n?this.PK(u-r):this.DK())},n.DK=function(){var t,n=e.createElement("br");null==(t=this.fK)||t.appendChild(n)},n.PK=function(t){var n;if(!(t<=0)){var i=e.createElement("span");i.style.display="inline-block",Cx(i,sc(" ",t)),null==(n=this.fK)||n.appendChild(i)}},t.IK=function(t){var n=e.createElement("span");n.style.display="inline-block",t.rK!==Kx.FONT_ITALICS&&t.rK!==Kx.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.rK!==Kx.FONT_UNDERLINE&&t.rK!==Kx.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.tU;i&&(n.style.color=i);var r=t.iU;return r&&(n.style.backgroundColor=r),n.style.textShadow=ax(t.rU),n.style.height="1.2em",n},pe(t,[{key:"pK",get:function(){return this.aK.NK}},{key:"AK",get:function(){return this.aK.CK}},{key:"wK",get:function(){return this.aK.CK.sK-this.aK.NK.sK+1}},{key:"gK",get:function(){return this.aK.CK.yK-this.aK.NK.yK+1}}]),t}();function sL(t,n){return function(t,n){if(t.yK!==n.yK)return t.yK-n.yK;return t.sK-n.sK}(t.NK,n.NK)}var oL=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,tL)}ze(n,t);var i=n.prototype;return i.nZ=function(t){var n=e.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.yZ.JF&&(n.style.fontFamily=this.yZ.JF),n},i.JQ=function(t,n){this.BK()},i.BK=function(){var t,n=ix(this.yZ);this.xK={_K:(t=100*n)/100,mK:t<=100,kK:t<=150};var i=this.LK/rL;this.MK=i*n,this.yN.style.fontSize=this.MK+"px"},i.wZ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Xp||this.iZ(r)}for(var u=0;u<t.length;u++){var s=t[u];this.SZ(s)}},i.SZ=function(t){this.xK&&this.xK.kK?this.FK(80):this.FK(100),this.BK();var n=this.eZ(t);n||(n=this.EZ(t),this.gZ(t,n));for(var i=0;i<n.length;i++){var e=n[i];this.yN.appendChild(e)}},i.EZ=function(t){var n=this;return t.Tp.map((function(t){return new uL(t,n.xK,n.yZ).hK()}))},i.FK=function(t){var n=(100-t)/2;this.yN.style.left=n+"%",this.yN.style.width=t+"%"},pe(n,[{key:"LK",get:function(){var t=this.yN.offsetWidth;return this.xK&&this.xK.kK||(t*=.8),t}}]),n}(ox),aL=function(){function t(t,n,i,e,r){var u=this;this.UK=[],this.HK=function(t){var n=t.w_;n.zo(Bm.R_,u.XK),n.zo(Bm.N_,u.XK),n instanceof yO&&(n.CG=u.CG),u.zK(n)},this.XK=function(t){var n=t.w_;u.zK(n)},this.VK=function(t){var n=t.w_;n.Go(Bm.R_,u.XK),n.Go(Bm.N_,u.XK),u.WK(n)},this.qK=function(){for(var t=u.CG,n=0,i=u.$m.z_;n<i.length;n++){var e=i[n];e instanceof yO&&(e.CG=t)}},this.GK=function(){for(var t=0,n=u.UK;t<n.length;t++){n[t].sZ(u.kP)}},this.jK=function(){for(var t=0,n=u.UK;t<n.length;t++){var i=n[t];i.sZ(ga({},i.aZ(),{cU:"hidden"}))}},this.YK=function(){for(var t=0,n=u.UK;t<n.length;t++){var i=n[t];i.sZ(ga({},i.aZ(),{cU:"visible"}))}},this.QK=t,this.tQ=n,this.$m=i,this.ZK=r,this.kP=e,this.$m.zo(Am.a_,this.HK),this.$m.zo(Am.h_,this.VK),this.$m.zo(Bm.E_,this.XK),this.ZK.zo(AI.E_,this.qK),this.kP.zo("I_",this.GK),this.qK()}var n=t.prototype;return n.KK=function(t){for(var n=0,i=this.UK;n<i.length;n++){var e=i[n];if(e.w_===t)return e}},n.JK=function(t){switch(t.Gs){case AA.TTML:return new vx(t,this.QK,t.ag,this.tQ);case AA.SRT:case AA.WEBVTT:return new Fx(t,this.QK,t.ag,this.tQ);case AA.CEA608:return new oL(t,this.QK,t.ag,this.tQ)}},n.$K=function(t){var n=this.KK(t);n||(n=this.JK(t))&&(n.yM(),n.sZ(this.kP),this.UK.push(n),t.Sg===hy.Eg&&n.dZ())},n.WK=function(t){for(var n=this.UK,i=n.length-1;i>=0;i-=1){var e=n[i];e.w_===t&&(e.bv(),Nc(n,i))}},n.zK=function(n){var i;(i=n.og)!==Mb.Pb&&i!==Mb.QE||!t.tJ(n)||(n.Dg===yA.ERROR?this.WK(n):this.$K(n))},n.Nf=function(){for(var t=0,n=this.UK;t<n.length;t++){var i=n[t];i.w_.Go(Bm.R_,this.XK),i.w_.Go(Bm.N_,this.XK),i.bv()}Pc(this.UK)},n.bv=function(){this.Nf();for(var t=0,n=this.UK;t<n.length;t++){n[t].bv()}this.$m.Go(Am.a_,this.HK),this.$m.Go(Am.h_,this.VK),this.$m.Go(Bm.E_,this.XK),this.ZK.Go(AI.E_,this.qK),this.kP.Go("I_",this.GK)},t.tJ=function(t){switch(t.Gs){case AA.TTML:case AA.SRT:case AA.WEBVTT:case AA.CEA608:return!0}return!1},pe(t,[{key:"CG",get:function(){return this.ZK.vP}}]),t}();function cL(t){var n=new lN,i=function(t){var n=[];return vN.uL(t)&&n.push(new vN(t)),dN.uL(t)&&n.push(new dN(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.hL(r)}n.cL(i[0])}return n}var hL=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r)||this).nJ=cL(n),u.iJ=new tx,u.eJ=new aL(u.iJ.Xy,u.DQ,u.vy,u.OQ,u.xN),u}ze(n,t);var i=n.prototype;return i.Ny=function(){return this.Sv},i.Io=function(){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return n.nJ.bv(),n.iJ.bv(),n.eJ.bv(),[4,t.prototype.Io.call(n)];case 1:return i.sent(),[2]}}))}))()},i.Cy=function(){t.prototype.Cy.call(this),this.iJ.Cy()},i.Ry=function(){t.prototype.Ry.call(this),this.iJ.Ry()},i.NQ=function(n){t.prototype.NQ.call(this,n),this.iJ.NQ(n)},pe(n,[{key:"yN",get:function(){return this.Sv}},{key:"Nm",get:function(){return this.Sv.videoHeight}},{key:"Dm",get:function(){return this.Sv.videoWidth}},{key:"xN",get:function(){return this.nJ}}]),n}(jO);me(),zt(),Ae(),Oe(),me(),zt();me(),zt(),me(),zt();var fL,vL,dL=!1;(vL=fL||(fL={})).rJ="HELLO",vL.uJ="HI_THERE",vL.sJ="INITIALIZE",vL.oJ="APPEND_INIT",vL.aJ="APPEND_DATA",vL.cJ="ACK",vL.hJ="REMOVE",vL.fJ="DESTROY_SESSION";var lL=function(){function t(){this.yU=new Nw}var n=t.prototype;return n.vJ=function(t){var n=this;return this.yU.pv(_a((function(t){var i,e,r,s,o,a,c;return ma(this,(function(f){switch(f.label){case 0:return jc(t),i=new MessageChannel,e=i.port1,r=i.port2,u.serviceWorker.controller?[3,2]:[4,ym(u.serviceWorker,"install",t)];case 1:f.sent(),f.label=2;case 2:return"activated"===u.serviceWorker.controller.state?[3,4]:[4,ym(u.serviceWorker.controller,"activate",t)];case 3:f.sent(),f.label=4;case 4:s={kind:"HELLO",port:r},u.serviceWorker.controller.postMessage(s,[r]),e.start(),n._u=e,f.label=5;case 5:return f.trys.push([5,7,,8]),[4,ym(e,"message",t)];case 6:if(o=f.sent(),"HI_THERE"!==(a=o.data).kind)throw new h("Could not set up message channel");return n.Ev=a.sessionId,[3,8];case 7:throw Gc(c=f.sent())&&n.dJ(),c;case 8:return[2]}}))})),t)},n.lJ=function(t,n){this._u;var i=this;return this.yU.pv(_a((function(){return ma(this,(function(e){switch(e.label){case 0:if(!i._u)throw new h("MessageSession not set up yet or already closed.");return n||(n=[]),i._u.postMessage(t,n),[4,ym(i._u,"message")];case 1:return[2,e.sent().data]}}))})))},n.wJ=function(){var t=this;return this.yU.pv((function(){return t.dJ()}))},n.dJ=function(){if(u.serviceWorker.controller&&"activated"===u.serviceWorker.controller.state&&this._u){var t={kind:"DESTROY_SESSION"};dL,this._u.postMessage(t),this._u.close(),this._u=void 0}},t}();me(),zt(),Ae();var wL,_L,gL=function(){function t(){this._J=ek.JA}var n=t.prototype;return n.gJ=function(t,n){var i=t.aA(n);this._J=i.Jp(this.mJ)?this._J:i},n.yJ=function(t){this._J=t},pe(t,[{key:"mJ",get:function(){return this._J}}]),t}();me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),(_L=wL||(wL={})).xl="audio",_L.Ll="video",_L.Ob="metadata";var mL=function(t){function n(n,i){var e;return(e=t.call(this)||this).ox=n,e.pJ=i,e.AJ=void 0,e.kJ=void 0,e.yU=new Nw,e.bJ=!1,e.TJ=!1,e}ze(n,t);var i=n.prototype;return i.lW=function(t,n){},i.wW=function(t,n){},i.LU=function(){return this.TJ},i._W=function(){return _a((function(){return ma(this,(function(t){return[2]}))}))()},i.ZV=function(t,n){return _a((function(){return ma(this,(function(t){return[2]}))}))()},i.UV=function(t,n,i){var e=this;return _a((function(){var r,u;return ma(this,(function(s){if(t.Gs!==SD.XU)throw new h("Streaming or opaque segments are not supported yet.");return r=t.jr,u=_a((function(){var t,i,u;return ma(this,(function(s){switch(s.label){case 0:return t=r.buffer,i={kind:fL.aJ,mediaType:yL(e.ox),segment:r,startPts:n.SJ,totalDuration:n.Am},[4,e.pJ.lJ(i,[t])];case 1:return s.sent(),void 0===e.AJ&&(u=n.SJ+n.Rk,e.AJ=u,e.kJ=u),e.kJ=e.kJ+n.Am,e.Ho(new fh(bD.UU)),[2]}}))})),[2,e.yU.pv(_a((function(t){return ma(this,(function(n){switch(n.label){case 0:jc(t),n.label=1;case 1:return n.trys.push([1,,3,4]),e.bJ=!0,[4,u()];case 2:return n.sent(),[3,4];case 3:return e.bJ=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.zV=function(t,n,i){var e=this;return _a((function(){var n,r;return ma(this,(function(u){if(t.Gs!==SD.XU)throw new h("Streaming or opaque initialization segments are not supported yet.");return n=t.jr,r=_a((function(){var t;return ma(this,(function(i){switch(i.label){case 0:return t={kind:fL.oJ,mediaType:yL(e.ox),segment:n},[4,e.pJ.lJ(t,[])];case 1:return i.sent(),[2]}}))})),[2,e.yU.pv(_a((function(t){return ma(this,(function(n){switch(n.label){case 0:jc(t),n.label=1;case 1:return n.trys.push([1,,3,4]),e.bJ=!0,[4,r()];case 2:return n.sent(),[3,4];case 3:return e.bJ=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.aW=function(){this.TJ=!0},i.rW=function(){this.TJ=!1},i._f=function(t,n,i){var e=this;return _a((function(){var t;return ma(this,(function(r){return t=_a((function(){var t;return ma(this,(function(i){switch(i.label){case 0:return t={kind:fL.hJ,mediaType:yL(e.ox),endTime:n},[4,e.pJ.lJ(t)];case 1:return i.sent(),e.AJ=void 0,e.kJ=void 0,e.Ho(new fh(bD.UU)),[2]}}))})),[2,e.yU.pv(_a((function(n){return ma(this,(function(i){switch(i.label){case 0:jc(n),i.label=1;case 1:return i.trys.push([1,,3,4]),e.bJ=!0,[4,t()];case 2:return i.sent(),[3,4];case 3:return e.bJ=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.EU=function(t){return this.ox===t.Gd},i.IU=function(t){return this.ox=t.Gd,j.resolve()},i.Io=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return t.qo(),[4,t.yU.bv()];case 1:return n.sent(),[2]}}))}))()},pe(n,[{key:"Uy",get:function(){return void 0===this.AJ||void 0===this.kJ?TI.hP():new TI([this.AJ,this.kJ])}},{key:"Sf",get:function(){return{Gd:this.ox}}},{key:"yW",get:function(){return Tp.Al}},{key:"ZO",get:function(){return this.ox}},{key:"pW",get:function(){return TI.hP()}},{key:"aM",get:function(){return 30},set:function(t){}},{key:"cM",get:function(){return 30},set:function(t){}},{key:"vL",get:function(){return this.bJ}},{key:"EJ",get:function(){return this.AJ}},{key:"bp",get:function(){return this.kJ}}]),n}(oh);function yL(t){return t.match(/video/)?wL.Ll:wL.xl}var pL=function(){function t(t,n,i,e){this.bf=void 0,this.Jf=t,this.rq=Ec(n,(function(t){return Boolean(t.ZO.match(/video/))})),this.nq=Ec(n,(function(t){return Boolean(t.ZO.match(/audio/))})),this.uo=i,this.Sv=e,this.IJ()}var n=t.prototype;return n.IJ=function(){},n.Io=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return[4,j.all([t.nq,t.rq].filter(er).map((function(t){return t.Io()})))];case 1:return n.sent(),[2]}}))}))()},n.wq=function(t){},n.mq=function(t,n,i,e){},n.aW=function(){var t,n;null==(t=this.nq)||t.aW(),null==(n=this.rq)||n.aW()},n.rW=function(){var t,n;null==(t=this.nq)||t.rW(),null==(n=this.rq)||n.rW()},n.EU=function(t){return!0},n.IU=function(t){return this.Jf=t,j.resolve()},n.TU=function(t,n){var i=this;return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:return[4,i.uo.oo(t.js,n)];case 1:return[4,r.sent().Bf()];case 2:return e=r.sent(),[4,i.SU(e)];case 3:return r.sent(),[2,e]}}))}))()},n.SU=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:if(t&&!n.Sv.src)throw new tA(gw.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&n.Sv.src)throw new tA(gw.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return(i=n.bf)?[4,i.Cf(n.Sv)]:[3,2];case 1:e.sent(),n.bf=void 0,e.label=2;case 2:return t?[4,t.Rf(n.Sv)]:[3,4];case 3:e.sent(),n.bf=t,e.label=4;case 4:return[2]}}))}))()},t.RJ=function(n,i,e,r){for(var u=[],s=0;s<n.yq.length;s++){var o=n.yq[s].Gd;u.push(new mL(o,i))}return new t(n,u,e,r)},pe(t,[{key:"CJ",get:function(){return[this.nq,this.rq].filter(er)}},{key:"JW",get:function(){return this.nq}},{key:"Uy",get:function(){return WP(this)}},{key:"Sf",get:function(){return this.Jf}},{key:"Am",get:function(){return 0}},{key:"LU",get:function(){var t,n,i,e,r=null==(i=null==(t=this.nq)?void 0:t.LU())||i,u=null==(e=null==(n=this.rq)?void 0:n.LU())||e;return r&&u}},{key:"$y",get:function(){return new TI([0,1/0])}},{key:"$W",get:function(){return this.rq}},{key:"oy",get:function(){throw new h("Not implemented")}}]),t}();me(),zt();var AL=ek.DA,kL=new ek(-1/0),bL=ek.JA,TL=function(t){function n(n,i){return t.call(this,n,i)}ze(n,t);var i=n.prototype;return i.$p=function(t,n){return t.rA(n)?wc.mo:t.Hp(n)?wc.do:wc._o},i.ep=function(t,n){return t.ep(n)},i.aA=function(t,n){return t.aA(n)},i.eA=function(t,n){return t.eA(n)},i.MD=function(){return AL},i.FD=function(){return bL},i.zD=function(){return kL},i.xD=function(t,i){return new n(t,i)},i.BD=function(t){return t.ZA},n.sP=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new ek(t.start(e)),new ek(t.end(e)));return new n(i)},n.NJ=function(t){for(var i=[],e=[],r=0;r<t.V_;r++)i.push(new ek(t.SD(r))),i.push(new ek(t.RD(r))),e.push(t.ED(r)),e.push(t.CD(r));return new n(i,e)},n.aP=function(t){return new n([t,t],[!0,!0])},n.cP=function(t,i){return t.iA(i)?new n([t,i]):n.hP()},n.hP=function(){return SL},n}(bI),SL=new TL([]),EL=function(t){function n(n,i){var e;(e=t.call(this)||this).DJ=!0,e.pJ=new lL,e.PJ=new gL,e.BJ=!0,e.OJ=new Mf,e.yP=!1,e.tY=j.resolve(),e.nY=new Wc,e.xJ=!0,e.eY=TI.hP(),e.dY=!1,e.LJ=function(){e.Im||e.MJ.V_<=0||e.Uy.V_<=0||e.PJ.gJ(new ek(e.Uy.RD(e.Uy.V_-1)),e.MJ.RD(e.MJ.V_-1))},e.FJ=function(){e.Ho(new dp(e.pm))},e.UJ=function(){e.Ho(new vp(e.pm,e.Hy))},e.HJ=function(){e.Ho(new fp(e.pm,e.Rm))},e.XJ=function(){e.Ho(new gp(e.pm,e.Pm))},e.zJ=function(){e.Ho(new hp(e.Am))},e.VJ=function(){e.Ho(new wT(e.pm))},e.WJ=function(){e.Ba(e.pm)};var r=mu(e);return e.qJ=_a((function(){return ma(this,(function(t){return r.xJ&&r.Ho(new op(r.pm)),r.BJ=!1,r.xJ=!0,[2]}))})),e.GJ=function(){e.BJ=!0,e.Ho(new rp(e.pm))},e.GY=function(t){var n,i=t.initDataType,r=null!=(n=t.initData)?n:new ArrayBuffer(0);e.Ho(new gh(i,r))},e.jJ=n,e.nQ=new iB(mu(e)),e.jJ.setAttribute("id","player_video"),e.jJ.setAttribute("x-webkit-airplay","deny"),e.jJ.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),e.jJ.playsInline=!0,e.jJ.style.width="100%",e.jJ.style.height="100%",e.YJ(),e.QJ(),e.nJ=cL(e.jJ),e.bU=new zO(mu(e)),e.uo=i,e}ze(n,t);var i=n.prototype;return i.YJ=function(){this.jJ.addEventListener("timeupdate",this.LJ),this.jJ.addEventListener("ended",this.FJ),this.jJ.addEventListener("timeupdate",this.UJ),this.jJ.addEventListener("ratechange",this.HJ),this.jJ.addEventListener("volumechange",this.XJ),this.jJ.addEventListener("durationchange",this.zJ),this.jJ.addEventListener("playing",this.VJ),this.jJ.addEventListener("seeking",this.WJ),this.jJ.addEventListener("play",this.qJ),this.jJ.addEventListener("pause",this.GJ),this.jJ.addEventListener("encrypted",this.GY)},i.ZJ=function(){this.jJ.removeEventListener("timeupdate",this.LJ),this.jJ.removeEventListener("ended",this.FJ),this.jJ.removeEventListener("timeupdate",this.UJ),this.jJ.removeEventListener("ratechange",this.HJ),this.jJ.removeEventListener("volumechange",this.XJ),this.jJ.removeEventListener("durationchange",this.zJ),this.jJ.removeEventListener("playing",this.VJ),this.jJ.removeEventListener("seeking",this.WJ),this.jJ.removeEventListener("play",this.qJ),this.jJ.removeEventListener("pause",this.GJ)},i.QJ=function(){this.nQ.zo(up.R_,this.Uo)},i.KJ=function(){this.nQ.Go(up.R_,this.Uo)},i.Ba=function(t,n){this.nY.Bo(),this.nY=new Wc,this.tY=this.wQ(t,this.tY,this.nY.Lo).catch(lr)},i.wQ=function(t,n,i){var e=this;return _a((function(){var r,u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:return e.eY=e.Ky,(s=null==(u=e.YC)?void 0:u.CJ)?(o=(r=d).max.apply(r,Ce(s.map((function(t){return t.EJ?t.EJ:1/0})))),e.yP=!0,e.Ho(new wp(t)),[4,n.catch(lr)]):[2];case 1:c.sent(),jc(i),c.label=2;case 2:return c.trys.push([2,7,8,9]),e.DJ||e.JJ(),e.jJ.load(),e.BJ?[3,4]:(e.xJ=!1,[4,Zc(e.jJ.play(),i)]);case 3:c.sent(),c.label=4;case 4:return e.Dg<My.hm?[4,e.nQ.Zo(up.R_,i)]:[3,6];case 5:return c.sent(),[3,4];case 6:return e.OJ.Ua(),e.DJ=!1,e.yP=!1,e.Ho(new _p(e.pm)),[3,9];case 7:throw a=c.sent(),e.OJ.Ha(a),a;case 8:return e.$J(),e.PJ.yJ(new ek(o)),[7];case 9:return[2]}}))}))()},i._y=function(){this.BJ=!0,this.jJ.pause()},i.wy=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return t.BJ?(t.jJ.src||t.RQ(),[4,t.OJ.Fa]):[2];case 1:return n.sent(),[4,t.jJ.play()];case 2:return n.sent(),[2]}}))}))()},i.Io=function(){var t=this;return _a((function(){return ma(this,(function(n){return t.pJ&&t.pJ.wJ().catch(lr),t.nY.Bo(),t.ZJ(),t.KJ(),t.nQ.Io(),t.qo(),[2]}))}))()},i.Nf=function(){var t=this;return _a((function(){return ma(this,(function(n){return t.pJ&&t.pJ.wJ().catch(lr),t.nY.Bo(),t.jJ.removeAttribute("src"),t.jJ.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),t.jJ.removeAttribute("x-airplay-deny"),t.jJ.load(),t.nQ.Nf(),t.eY=TI.hP(),[2]}))}))()},i.RQ=function(){this.CQ||(DL(this.jJ,De.Rs),this.dY=!0)},i.JJ=function(){var t,n=this.jJ.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,u=this.jJ.videoWidth/this.jJ.videoHeight,s=t.height;r/s>u?(i=s*u,e=s):(e=r/u,i=r),this.jJ.style.width=i+"px",this.jJ.style.height=e+"px",this.jJ.style.marginLeft=(r-i)/2+"px",this.jJ.style.marginTop=(s-e)/2+"px",this.jJ.style.backgroundColor="black"}},i.$J=function(){this.jJ.style.width="100%",this.jJ.style.height="100%",this.jJ.style.marginLeft="",this.jJ.style.marginTop="",this.jJ.style.backgroundColor=""},i.BN=function(t,n,i,e,r){},i.vI=function(t,n,i,e,r,u,s,o){},i.xU=function(t){},i.WN=function(){return ZN(this.jJ)},i.Ry=function(){this.jJ.style.display="block"},i.Cy=function(){this.jJ.style.display="none"},i.EQ=function(){},i.wf=function(t){var n=this;return _a((function(){var i,e;return ma(this,(function(r){switch(r.label){case 0:if(t.Gs===fT.gI)throw new h("Not yet implemented");return[4,n.pJ.vJ()];case 1:return r.sent(),i=Ec(t.EN,(function(t){return t.Tf.Gs===Pa.Ws})),e={kind:fL.sJ,mediaBufferConfigs:t.yq.map((function(t){return t.Gd})),fairPlaySdkUri:null==i?void 0:i.KR},[4,n.pJ.lJ(e)];case 2:return r.sent(),n.YC=pL.RJ(t,n.pJ,n.uo,n.jJ),n.bU.wf(n.YC,t),n.jJ.preload="none",n.jJ.src="https://theo.proxy/"+n.pJ.Ev+"/master.m3u8",[2,n.YC]}}))}))()},i.IQ=function(){},i.wI=function(t){},i.LN=function(){},i.VN=function(t){},i.DN=function(){return!1},i.NQ=function(t){t.appendChild(this.jJ)},i.Ny=function(){return this.jJ},i.oQ=function(){},i.My=function(){},pe(n,[{key:"yN",get:function(){return this.jJ}},{key:"Cq",get:function(){return!1}},{key:"pm",get:function(){return this.jJ.currentTime+this.PJ.mJ.ZA}},{key:"Im",get:function(){return this.jJ.paused}},{key:"Pm",get:function(){return this.jJ.volume},set:function(t){this.jJ.volume=t}},{key:"Rm",get:function(){return this.jJ.playbackRate},set:function(t){this.jJ.playbackRate=t}},{key:"t$",get:function(){return this.jJ.defaultPlaybackRate}},{key:"Uy",get:function(){var t,n;return null!=(n=null==(t=this.YC)?void 0:t.Uy)?n:TI.hP()}},{key:"MJ",get:function(){return TL.sP(this.jJ.buffered)}},{key:"Ky",get:function(){var t=TI.oP(this.n$);return this.eY.qD(t.Da(this.PJ.mJ.ZA))}},{key:"n$",get:function(){return TL.sP(this.jJ.played)}},{key:"Cm",get:function(){return this.yP}},{key:"Am",get:function(){return this.jJ.duration}},{key:"Em",get:function(){return this.jJ.muted},set:function(t){this.jJ.muted=t}},{key:"EK",get:function(){return this.jJ.style}},{key:"Vj",get:function(){return ga({},gD,{lU:!0})}},{key:"Dg",get:function(){return this.nQ.Dg}},{key:"Nm",get:function(){return this.jJ.videoHeight}},{key:"Dm",get:function(){return this.jJ.videoWidth}},{key:"Tm",get:function(){return this.jJ.ended}},{key:"zT",get:function(){return this.jJ.offsetHeight*De.Rs.Cu}},{key:"Qp",get:function(){return this.jJ.offsetWidth*De.Rs.Cu}},{key:"zy",get:function(){return!1}},{key:"CQ",get:function(){return this.dY}},{key:"Hy",get:function(){}},{key:"DQ",get:function(){}},{key:"ua",get:function(){}},{key:"xN",get:function(){return this.nJ}},{key:"$y",get:function(){return this.YC?this.YC.$y:TI.hP()}},{key:"qN",get:function(){}},{key:"vy",get:function(){}},{key:"OQ",get:function(){}},{key:"np",get:function(){return!1},set:function(t){}},{key:"BQ",get:function(){return"block"===this.jJ.style.display}},{key:"kN",get:function(){return this.bU.kN},set:function(t){this.bU.kN=t}},{key:"xQ",get:function(){},set:function(t){}},{key:"Gj",get:function(){}}]),n}(oh),IL=[Tp.xl,Tp.Ll],RL=function(){function t(t,n,i,e,r){void 0===i&&(i=2),void 0===e&&(e=IL),void 0===r&&(r=Uw()),this.i$=i,this.e$=Ce(e),this.uo=r,this.tQ=t,this.kP=n,this.r$=Aa(),this.u$()}var n=t.prototype;return n.TP=function(t){for(var n=0,i=this.IP;n<i.length;n++){i[n].NQ(t)}},n.gN=function(t){var n=Ec(this.r$.get(t),(function(t){return t.s$}));if(n)return n.s$=!1,n.o$},n.a$=function(t){if(!this.c$)throw new h("Error creating iOS Safari MediaController");return this.c$},n.UN=function(t){var n=this;return _a((function(){var i,e,r;return ma(this,(function(u){switch(u.label){case 0:return i=t.yN,e=i.tagName.toLowerCase(),[4,t.Nf()];case 1:return u.sent(),NL(i),(r=Ec(n.r$.get(e)||[],(function(n){return t===n.o$})))&&(r.s$=!0),[2]}}))}))()},n.EP=function(){for(var t=0,n=this.IP;t<n.length;t++){n[t].RQ()}},n.bv=function(){for(var t=0,n=this.IP;t<n.length;t++){var i=n[t],e=i.yN;i.Io(),NL(e),Ho(e)}this.r$.clear(),this.c$=void 0},n.u$=function(){for(var t=0,n=this.e$;t<n.length;t++){var i=n[t],e=[];this.r$.set(i,e);for(var r=0;r<this.i$;r++){var u=CL(i),s=i===Tp.xl?new $O(u,this.uo,this.tQ):new hL(u,this.uo,this.tQ,this.kP);e.push({o$:s,s$:!0})}}if(tr.Le&&tr.fe){var o,a=null==(o=this.r$.get(Tp.Ll))?void 0:o[0].o$.yN;a&&(this.c$=new EL(a,this.uo))}},pe(t,[{key:"IP",get:function(){for(var t=[],n=0,i=this.e$;n<i.length;n++){var e=i[n],r=this.r$.get(e);if(r){var u,s=r.map((function(t){return t.o$}));(u=t).push.apply(u,Ce(s))}}return this.c$&&t.push(this.c$),t}}]),t}();function CL(t){var n=e.createElement(t);return Go(n)&&function(t){t.addEventListener("contextmenu",(function(t){t.preventDefault()}))}(n),NL(n),n}function NL(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),jo(t),t.pause(),t.playbackRate=1,t.preload=wI.fD,t.controls=!1,t.style.display="none",Go(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function DL(t,n){if(n.Au){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();fr(e)&&nh(e),t.pause()}}me(),zt(),me(),zt();var PL,BL,OL,xL,LL=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).AP=i,e}return ze(n,t),n.prototype.ll=function(t){var n=this;return _a((function(){var i,e,r,u,s;return ma(this,(function(o){switch(o.label){case 0:return i=new D_(t),(e=n.AP.iM.RC(i))?(e.eM(De.Ku()/1e3),[4,n.hI.ll(t)]):[2,n.hI.ll(i)];case 1:return r=o.sent(),e.rM(De.Ku()/1e3),u=r.qd().pipeThrough(new Ut(new ML(e))),s={jr:u,ll:r.ll},[2,new N_(s,r)]}}))}))()},n}(function(){function t(t){this.hI=t}var n=t.prototype;return n.ll=function(t){return this.hI.ll(t)},n.ql=function(t){this.hI.ql(t)},n.bv=function(){this.hI.bv()},t}()),ML=function(){function t(t){this.h$=t}var n=t.prototype;return n.start=function(t){this.QF=t},n.transform=function(t){this.h$.uM(De.Ku()/1e3,t),this.QF.enqueue(t)},n.flush=function(){this.h$.sM(De.Ku()/1e3)},t}(),FL=function(t){function n(n,i){var e;(e=t.call(this)||this).f$=!1,e.Zm=!1,e.v$=!1,e.d$=function(t){if(!e.v$){e.v$=!0;var n=e.l$,i=eA(t);e.TF.Q_=new NI(e.Xy,i,t),nh(n.bv())}},e.w$=function(t){e.Ho(t.d_)},e._$=function(t){t.type!==qw.dd&&t.type!==qw.vd&&e.Ho(t)};var r=Zm(i.uid);_(r)?e.ap=hA++:e.ap=r,e.Sf=i;var u=De.o_,s=new aD;e.g$=new VC("5.7.0",u,s),e.AP=new UN;var o=new LL(u,e.AP);e.o_=new SN(o,i.allowMixedContent),e.FF=new AC(i.isEmbeddable,"5.7.0",dC()),e.m$=new oD(u,e.FF,e.g$,s,i,dC()),e.m$.XF().catch(e.d$),e.y$=new aN(n),e.y$.zo("Dx",e.w$),e.kP=new lD,e.wF=new WN,e.pF=new jN;var a=new CI(n,i,e.o_,e.AP,e.y$,e.kP);e.AP.yM(a);var c=a;return c=new GN(c,e.p$),c=new YN(c,e.AF),e.l$=c,e.TF=new Kp(e.l$),e.TF.Wo(e._$),e.A$=new QN(mu(e)),e.k$=new NN(e.TF,e.o_,e.AP),e.b$=new GC(mu(e)),e.T$=new wN(e.TF,i.allowNativeFullscreen),e.S$=new ZI(e.T$),e.y$.Rf(),e.bP=new Do(e.y$,e.kP,1,[Tp.Ll]),e.E$=new Po(e.bP),e.I$=new $N,e}ze(n,t);var i=n.prototype;return i.WM=function(t){this.TF.Em=t,t||this.Im||this.Sy()},i.sF=function(t){this.TF.Pm=t},i.R$=function(){xp(this,KI,this)},i.wy=function(){this.TF.wy()},i._y=function(){this.TF._y()},i.py=function(t,n){var i=this;return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:return t?(i.m$.pO(t).catch(i.d$),e=function(t){t.sources;var n=t.sources.filter((function(t){return rr(t.integration)}));return t.sources=n,t}(t),[4,i.TF.py(e,n)]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.Sy=function(){if(!this.Zm){this.TF.Sy(),this.E$.Sy();for(var t=this.Xy.getElementsByTagName("video"),n=0;n<t.length;n++){var i=t[n];"Advertisement"===i.title&&DL(i,De.Rs)}this.Zm=!0}},i.vP=function(){return this.S$.QP()===WI.FULLSCREEN},i.Ry=function(){this.TF.Ry()},i.Cy=function(){this.TF.Cy()},i.Ny=function(){return this.TF.Ny()},i.Nf=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return[4,t.TF.gy()];case 1:return n.sent(),[4,t.TF.Nf()];case 2:return n.sent(),[2]}}))}))()},i.bv=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return t.qo(),t.I$.bv(),t.o_.bv(),t.k$.bv(),t.T$.bv(),t.S$.bv(),t.y$.bv(),t.g$.bv(),t.E$.bv(),t.bP.bv(),[4,t.TF.bv()];case 1:return n.sent(),[2]}}))}))()},pe(n,[{key:"C$",get:function(){return this.AP}},{key:"ey",get:function(){return this.f$},set:function(t){this.f$=t,this.TF.ey=t}},{key:"N$",get:function(){return this.E$}},{key:"sy",get:function(){return this.TF.sy}},{key:"D$",get:function(){return this.I$}},{key:"DQ",get:function(){return this.y$}},{key:"ly",get:function(){return this.TF.ly}},{key:"Vy",get:function(){return this.A$}},{key:"P$",get:function(){return this.k$}},{key:"vy",get:function(){return this.TF.vy}},{key:"OQ",get:function(){return this.kP}},{key:"oy",get:function(){return this.TF.oy}},{key:"Uy",get:function(){return this.TF.Uy}},{key:"p$",get:function(){return this.wF}},{key:"AF",get:function(){return this.pF}},{key:"pm",get:function(){return this.TF.pm},set:function(t){this.TF.pm=t}},{key:"Hy",get:function(){return this.TF.Hy},set:function(t){this.TF.Hy=t}},{key:"Ly",get:function(){return this.TF.Ly}},{key:"Am",get:function(){return this.TF.Am}},{key:"Xy",get:function(){return this.TF.Xy}},{key:"Tm",get:function(){return this.TF.Tm}},{key:"ua",get:function(){return this.TF.ua}},{key:"Sm",get:function(){return this.TF.Sm}},{key:"Em",get:function(){return this.TF.Em},set:function(t){var n=Boolean(t);this.WM(n)}},{key:"Im",get:function(){return this.TF.Im}},{key:"Rm",get:function(){return this.TF.Rm},set:function(t){this.TF.Rm=t}},{key:"Ky",get:function(){return this.TF.Ky}},{key:"Jy",get:function(){return this.TF.Jy},set:function(t){this.TF.Jy=mI(t)}},{key:"Dg",get:function(){return this.TF.Dg}},{key:"$y",get:function(){return this.TF.$y}},{key:"Cm",get:function(){return this.TF.Cm}},{key:"rg",get:function(){return this.ap}},{key:"Nm",get:function(){return this.TF.Nm}},{key:"Dm",get:function(){return this.TF.Dm}},{key:"Pm",get:function(){return this.TF.Pm},set:function(t){var n=iu(Number(t),0,1)||0;this.sF(n)}},{key:"tp",get:function(){return this.TF.tp}}]),n}(Ay);me(),zt(),(BL=PL||(PL={}))[BL.B$=0]="B$",BL[BL.O$=1]="O$",(xL=OL||(OL={}))[xL.x$=0]="x$";var UL={};function HL(t,n){(UL[n]||(UL[n]=[])).push(t)}function XL(t,n){var i=t;if(UL[n])for(var e=0,r=UL[n];e<r.length;e++){i=(0,r[e])(i)}return i}var zL=[];function VL(t){zL.push(t)}me(),zt();var WL=t.CustomEvent;var qL=function(){try{var t=new WL("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i};me(),zt(),me(),zt(),Ae();var GL=function(){function t(t,n){var i=this;this.L$=!1,this.M$=function(t){i.F$.Ax(t.error,i.pm)},this.U$=function(){i.F$.gx(i.H$),i.gD.removeEventListener("playing",i.U$),i.L$=!1},this.X$=function(){i.L$||(i.gD.addEventListener("playing",i.U$),i.L$=!0)},this.F$=n,this.gD=t,this.gD.addEventListener("error",this.M$),this.gD.addEventListener("sourcechange",this.X$),this.X$()}return t.prototype.Nf=function(){},pe(t,[{key:"pm",get:function(){var t=this.gD.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"H$",get:function(){return this.gD.src||""}}]),t}();VL((function(t){new GL(t.d_,t.g$)})),me(),zt();var jL="theoplayer-stored-volume",YL="theoplayer-stored-mutedstate";HL((function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=nD.LF(jL);(void 0===r||_(r))&&(r=1);var u=nD.MF(YL)||!1;e.Pm=r,e.Em=u}return e}ze(n,t);var i=n.prototype;return i.WM=function(n){this.Sf.persistVolume&&nD.zv(YL,""+Boolean(n)),t.prototype.WM.call(this,n)},i.sF=function(n){this.Sf.persistVolume&&nD.zv(jL,""+Number(n)),t.prototype.sF.call(this,n)},n}(t)}),PL.O$),me(),zt(),Ae();var QL=new(function(){function t(){this.z$=[],this.v_=void 0}var n=t.prototype;return n.F_=function(t){return this.z$[t]},n.uH=function(t){this.z$.push(t),this.d_.push(t.d_)},n._f=function(t){var n=this.z$.indexOf(t);n<0||(Nc(this.z$,n),this.v_&&Nc(this.v_,n))},n.V$=function(t){for(var n=0,i=this.z$;n<i.length;n++){var e=i[n];if(e.rg===t)return e}},pe(t,[{key:"V_",get:function(){return this.z$.length}},{key:"d_",get:function(){return this.v_||(this.v_=function(t){for(var n=[],i=0;i<t.V_;i++)n[i]=t.F_(i).d_;return n.getPlayerByUID=function(n){var i=t.V$(n);return i&&i.d_},n}(this)),this.v_}}]),t}());me(),zt(),Ae(),me(),zt(),me(),zt();var ZL=function(t){function n(n){var i;return(i=t.call(this,qw.Rd)||this).source=n,i}return ze(n,t),n}(fh);me(),zt(),Ae();var KL=function(t){function n(){var n;return(n=t.call(this)||this).wP=0,n.gP=!0,n.yP=!1,n.mP=1,n}ze(n,t);var i=n.prototype;return i.wy=function(){this.gP&&(this.gP=!1,this.Ho(new op(this.pm)),this.Ho(new lT(this.pm)))},i._y=function(){this.gP||(this.gP=!0,this.Ho(new vp(this.pm,this.Hy)),this.Ho(new rp(this.pm)))},i.Nf=function(){this.wP=0,this.yP=!1,this.mP=1,this._y(),this.Ho(new ep(this.wP))},i.bv=function(){this.qo()},i.Cy=function(){},i.Ry=function(){},pe(n,[{key:"Hy",get:function(){},set:function(t){}},{key:"pm",get:function(){return this.wP},set:function(t){this.yP&&this.wP===t||(this.wP=t,this.yP=!0,this.Ho(new wp(this.pm)))}},{key:"Im",get:function(){return this.gP}},{key:"Rm",get:function(){return this.mP},set:function(t){this.mP!==t&&(this.mP=t,this.Ho(new fp(this.pm,this.Rm)))}},{key:"Dg",get:function(){return My.im}},{key:"Cm",get:function(){return this.yP}}]),n}(py);me(),zt();var JL=function(t){function n(){return t.call(this,qw.Jv)}return ze(n,t),n}(fh);me(),zt(),Ae();var $L,tM={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},nM={visibility:"hidden"},iM={visibility:"visible"},eM=function(){function t(t){var n,i=this;this.W$=!1,this.q$=function(t){var n;i.W$=!1,i.G$=null==(n=t.source)?void 0:n.poster,i.gf()},this.DI=function(){i.W$=!0,i.Cy()},this.gD=t,this.mD(),this.cD=((n=Oo&&Oo.document&&Oo.document.createElement("div")).className="theoplayer-poster",Vo(tM,n),n),t.Xy.appendChild(this.cD)}var n=t.prototype;return n.gf=function(){var t=this.gD.Im,n=this.W$;this._l?this.cD.style.backgroundImage='url("'+(this._l.replace(/[\\"]/g,(function(t){return"\\"+t}))+'")'):this.cD.style.backgroundImage="",t&&this._l&&!n?this.Ry():this.Cy()},n.Ry=function(){Vo(nM,this.gD.Xy),Vo(iM,this.cD)},n.Cy=function(){Vo(nM,this.cD),Vo(iM,this.gD.Xy)},n.mD=function(){this.gD.zo("sourcechange",this.q$),this.gD.zo("play",this.DI)},n.bv=function(){this.gD.Go("sourcechange",this.q$),this.gD.Go("play",this.DI),Ho(this.cD)},pe(t,[{key:"_l",get:function(){return void 0!==this.G$?this.G$:void 0!==this.j$?this.j$:void 0}},{key:"Y$",set:function(t){this.j$=t,this.gf()}}]),t}();function rM(t){return function(n){function i(i,e){var r;return(r=n.call(this,i)||this).lD=void 0,r.QC=void 0,r.RP=void 0,r.Q$=function(t){t.type!==qw.md&&r.Z$.push(t)},r.K$=new t(i,e),r.J$=new KL,r.gD=r.K$,r.t0=new eM(mu(r)),r.yU=new Nw,r.n0=!1,r.Z$=[],r.wD=!0,r.mD(),r}ze(i,n);var e=i.prototype;return e.pv=function(t,n){var i=this;return _a((function(){return ma(this,(function(e){return[2,i.yU.pv(t,n).catch(Qc)]}))}))()},e.i0=function(t,n){var i=this;return _a((function(){return ma(this,(function(e){switch(e.label){case 0:jc(n),i.K$.Wo(i.Q$),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,i.K$.py(t,n)];case 2:return e.sent(),[3,4];case 3:return i.K$.Qo(i.Q$),[7];case 4:return[2]}}))}))()},e.e0=function(){var t=this;return _a((function(){var n,i;return ma(this,(function(e){switch(e.label){case 0:return(n=t.yy())&&!MR(n)&&t.ey&&t.Im?(i=n.mutedAutoplay||t.Sf.mutedAutoplay,[4,t.N$.r0(t.Em)]):[2];case 1:switch(e.sent()){case"all":t.u0();break;case"muted":(t.Em||i===Ep.ALL)&&(t.Em=!0,t.wy())}return[2]}}))}))()},e.py=function(t){var n=this.lD;n&&!MR(n)&&this.Ho(new ep(0,0)),this.Nf(),this.lD=t;var i=this;nh(this.pv(_a((function(n){var e;return ma(this,(function(r){switch(r.label){case 0:jc(n),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,i.i0(t,n)];case 2:return r.sent(),[3,5];case 3:return e=r.sent(),i.lD=void 0,i.tN(function(t,n){return t instanceof bw?t:t instanceof h?new bw(n,t.message,t):new bw(n,String(t))}(e,gw.SOURCE_NOT_SUPPORTED)),[2];case 4:return i.s0(i.K$),[7];case 5:return i.Ho(new ZL(i.yy())),[4,i.e0()];case 6:return r.sent(),[2]}}))}))))},e.LM=function(t){this.gD.pm=t},e.HM=function(){var t;return null!=(t=this.RP)?t:this.K$.ua},e.XM=function(){var t;return null!=(t=this.QC)?t:this.K$.Sm},e.tN=function(t){void 0===this.XM()&&(this.QC=t,this.RP=eA(t),this.Ho(new Ap(t)))},e.wy=function(){this.gD.wy()},e.u0=function(){this.Em||this.Sy(),this.wy()},e.Sy=function(){this.K$.Sy()},e._y=function(){this.gD._y()},e.gy=function(){this.py(void 0)},e.Ry=function(){this.wD=!0,this.gD.Ry()},e.Cy=function(){this.wD=!1,this.gD.Cy()},e.R$=function(){this.K$.R$()},e.sF=function(t){this.K$.sF(t)},e.WM=function(t){this.K$.WM(t)},e.o0=function(t){this.a0=t,t.uH(this)},e.vP=function(){return this.K$.vP()},e.yy=function(){return this.lD},e.Ny=function(){return this.K$.Ny()},e.xM=function(){return this.K$.pm},e.MM=function(){return this.K$.Am},e.DM=function(){return this.K$.Uy},e.QM=function(){return this.K$.Ky},e.$M=function(){return this.K$.$y},e.Nf=function(){this.lD=void 0,this.QC=void 0,this.RP=void 0,Pc(this.Z$),this.J$.Nf(),this.s0(this.J$),this.yU.Bo();var t=this;nh(this.yU.pv(_a((function(n){return ma(this,(function(i){switch(i.label){case 0:return jc(n),[4,t.K$.Nf()];case 1:return i.sent(),[2]}}))}))))},e.bv=function(){this.Ho(new JL),this.t0.bv(),this.yD(),this.Nf();var t=this;nh(this.pv(_a((function(){return ma(this,(function(n){switch(n.label){case 0:return[4,t.K$.bv()];case 1:return n.sent(),t.a0&&(t.a0._f(t),t.a0=void 0),t.yU.bv(),[2]}}))})))),this.qo()},e.s0=function(t){if(this.gD!==t){var n=this.gD.Im,i=this.gD.pm,e=this.gD.Rm,r=this.gD.Cm;this.yD(),t===this.K$?((r||t.pm!==i)&&(t.pm=i),t.Rm!==e&&(t.Rm=e),n?t._y():t.wy()):this.Sf.retainPlaybackRateOnSourceChange?t.Rm=e:1!==e&&this.Ho(new fp(this.xM(),1)),this.gD=t,this.mD();for(var u=0,s=this.Z$;u<s.length;u++){var o=s[u];this.Ho(o)}Pc(this.Z$),this.wD?t.Ry():t.Cy()}},e.mD=function(){this.gD.Wo(this.Uo)},e.yD=function(){this.gD.Qo(this.Uo)},e.l_=function(){return t=this,e=function(n){i=n;var e=ZR(n,t.Sf);t.py(e)},r={get abr(){return t.C$.d_},get audioTracks(){return t.sy.d_},get autoplay(){return t.ey},set autoplay(n){t.ey=Boolean(n)},get buffered(){return t.DM()},get canvas(){return t.b$.d_},get clip(){return t.p$.d_},get currentProgramDateTime(){var n;return null!=(n=t.Hy)?n:null},set currentProgramDateTime(n){t.Hy=null!=n?n:void 0},get currentTime(){return t.xM()},set currentTime(n){t.LM(Number(n))},get duration(){return t.MM()},get element(){return t.Xy},get ended(){return t.Tm},get error(){return t.HM()},get errorObject(){return t.XM()},get loop(){return t.AF.AF},set loop(n){t.AF.AF=Boolean(n)},get metrics(){return t.Vy.d_},get muted(){return t.Em},set muted(n){t.WM(n)},get network(){return t.P$.d_},get paused(){return t.Im},get playbackRate(){return t.Rm},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Rm=i},get played(){return t.QM()},get poster(){return t.c0},set poster(n){t.c0=Jm(n)},get preload(){return t.Jy},set preload(n){t.Jy=n},get presentation(){return t.S$.d_},get readyState(){return t.Dg},get seekable(){return t.$M()},get seeking(){return t.Cm},get source(){return i},set source(t){e(t)},get src(){return FR(t.yy())},set src(t){e({sources:t})},get textTracks(){return t.vy.d_},get textTrackStyle(){return t.OQ.d_},get uid(){return t.rg},get videoHeight(){return t.Nm},get videoTracks(){return t.oy.d_},get videoWidth(){return t.Dm},get volume(){return t.Pm},set volume(n){t.sF(Number(n))},get latency(){return t.tp.d_},destroy:function(){t.bv(),t=null,i=void 0},play:function(){t.u0()},pause:function(){t._y()},stop:function(){i=void 0,t.gy()},prepareWithUserAction:function(){t.Sy()},addEventListener:function(t,i){n.zo(t,i)},removeEventListener:function(t,i){n.Go(t,i)},setSource:function(t){e(t)}},(n=new jI(r,!0)).xP(t),n.zo("destroy",(function(){n.bv()})),r;var t,n,i,e,r},pe(i,[{key:"g$",get:function(){return this.K$.g$}},{key:"b$",get:function(){return this.K$.b$}},{key:"Sf",get:function(){return this.K$.Sf}},{key:"l$",get:function(){return this.K$.l$}},{key:"o_",get:function(){return this.K$.o_}},{key:"xN",get:function(){return this.K$.T$}},{key:"S$",get:function(){return this.K$.S$}},{key:"y$",get:function(){return this.K$.y$}},{key:"TF",get:function(){return this.K$.TF}},{key:"C$",get:function(){return this.K$.C$}},{key:"ey",get:function(){return this.K$.ey},set:function(t){this.K$.ey=t,this.e0()}},{key:"N$",get:function(){return this.K$.N$}},{key:"sy",get:function(){return this.K$.sy}},{key:"D$",get:function(){return this.K$.D$}},{key:"DQ",get:function(){return this.K$.y$}},{key:"d_",get:function(){return this.v_||(this.v_=this.l_()),this.v_}},{key:"ly",get:function(){return this.K$.ly}},{key:"Vy",get:function(){return this.K$.Vy}},{key:"P$",get:function(){return this.K$.P$}},{key:"vy",get:function(){return this.K$.vy}},{key:"OQ",get:function(){return this.K$.OQ}},{key:"oy",get:function(){return this.K$.oy}},{key:"p$",get:function(){return this.K$.p$}},{key:"AF",get:function(){return this.K$.AF}},{key:"Hy",get:function(){return this.gD.Hy},set:function(t){this.gD.Hy=t}},{key:"Ly",get:function(){return this.K$.Ly}},{key:"Xy",get:function(){return this.K$.Xy}},{key:"Tm",get:function(){return this.K$.Tm}},{key:"Em",get:function(){return this.K$.Em},set:function(t){this.K$.Em=t}},{key:"Im",get:function(){return this.gD.Im}},{key:"c0",get:function(){return this.t0._l||""},set:function(t){this.t0.Y$=t}},{key:"Rm",get:function(){return this.K$.Rm},set:function(t){this.gD.Rm=t}},{key:"Jy",get:function(){return this.K$.Jy},set:function(t){this.K$.Jy=mI(t)}},{key:"Dg",get:function(){return this.gD.Dg}},{key:"Cm",get:function(){return this.gD.Cm}},{key:"rg",get:function(){return this.K$.rg}},{key:"Nm",get:function(){return this.K$.Nm}},{key:"Dm",get:function(){return this.K$.Dm}},{key:"Pm",get:function(){return this.K$.Pm},set:function(t){this.K$.Pm=t}},{key:"tp",get:function(){return this.K$.tp}}]),i}(Ay)}function uM(t,n){var i=Bp(n),e=new($L||($L=XL($L=rM(FL),PL.B$),$L=XL($L,PL.O$)),$L)(t,i),r=e.d_;return e.R$(),e.o0(QL),v.defineProperty(r,"constructor",{value:uM}),r=Xm(r),function(t){for(var n=0;n<zL.length;n++)(0,zL[n])(t)}(e),r}th((function(){t.dispatchEvent&&t.dispatchEvent(qL("theoplayerready"))})),me(),zt();var sM={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Ih(t)},n.decode=function(t){return Sh(t)},t}())};me(),zt();var oM=JSON.parse('["hls","airplay"]'),aM="5.7.0",cM="2023.4.0",hM=QL.d_,fM=jT.SR.registerContentProtectionIntegration.bind(jT.SR);me(),zt(),me(),zt(),me(),zt();var vM,dM,lM;function wM(t){return{get bandwidth(){return t.NC},get codecs(){return t.h0},get id(){return t.eg},get uid(){return t.rg},get name(){return t.ag},get averageBandwidth(){return t.f0},get label(){return t.ag},set label(n){t.ag=Jm(n)},get height(){return t.zT},get width(){return t.Qp},get frameRate(){return t.v0},get firstFrame(){return t.d0},get available(){return t.s$},addEventListener:function(n,i){t.zo(n,i)},removeEventListener:function(n,i){t.Go(n,i)}}}function _M(t){return{get bandwidth(){return t.NC},get codecs(){return t.h0},get id(){return t.eg},get uid(){return t.rg},get name(){return t.ag},get averageBandwidth(){return t.f0},get label(){return t.ag},set label(n){if(!cr(n))throw new h("Unexpected - The provided label is not a string");t.ag=n},get audioSamplingRate(){return t.l0},get available(){return t.s$},addEventListener:function(n,i){t.zo(n,i)},removeEventListener:function(n,i){t.Go(n,i)}}}Do=(vM={w0:RL,_0:function(){function t(t){this.bP=t,this.g0=new Nw}var n=t.prototype;return n.r0=function(t){var n=this;return this.g0.pv((function(){return n.m0(t)}))},n.Sy=function(){this.bP.EP()},n.m0=function(n){var i=this;return _a((function(){var e,r,u;return ma(this,(function(s){switch(s.label){case 0:return e=i.bP.gN(Tp.Ll),r=e.yN,[4,t.y0(r,n)];case 1:return u=s.sent(),[4,i.bP.UN(e)];case 2:return s.sent(),[2,u]}}))}))()},n.bv=function(){this.g0.bv()},t.y0=function(n,i){return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:return tr.Re||tr.Ee?[2,"all"]:(n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),[4,t.p0()]);case 1:return r.sent(),(e=!i)?[4,t.A0(n,!1)]:[3,3];case 2:e=r.sent(),r.label=3;case 3:return e?[2,"all"]:[4,t.A0(n,!0)];case 4:return r.sent()?[2,"muted"]:[2,"none"]}}))}))()},t.A0=function(t,n){return _a((function(){var i,e;return ma(this,(function(r){switch(r.label){case 0:t.muted=n,i=t.play(),r.label=1;case 1:return r.trys.push([1,3,4,5]),fr(i)?(e=rh(250),[4,j.race([i,e])]):[2,!tr.ye];case 2:return r.sent(),[2,!0];case 3:return r.sent(),[2,!1];case 4:return t.pause(),t.muted=!0,[7];case 5:return[2]}}))}))()},t.p0=function(){return new j((function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else s(t,0)}))},t}(),k0:{lx:function(t){Oo.addEventListener("beforeunload",t)},Ix:function(t){Oo.removeEventListener("beforeunload",t)}},b0:i}).w0,Po=vM._0,Bo=vM.k0,Oo=vM.b0,xo=Oo&&Oo.location,Lo=Oo&&Oo.navigator,me(),zt(),me(),zt(),Ae(),me(),zt(),Ae(),Oe(),Z(),me(),zt(),(lM=dM||(dM={})).T0="currentbufferingrenditionchange",lM.S0="E0",lM.I0="R0",lM.C0="N0",me(),zt(),Ae(),me(),zt(),me(),zt();var gM=function(t,n){var i,e;this.rg=vA(),this.D0=n,this.Gs=t.Gs,this.P0=t.P0,this.B0=t.B0,this.O0=t.O0,this.Sr=t.Sr,this.hg=t.hg,this.x0=t.x0,this.L0=t.L0,this.M0=void 0===t.F0,this.U0=null!=(e=null==(i=t.U0)?void 0:i.split(","))?e:[]};function mM(t,n){return t.Gs===n.Gs&&(t.Sr===n.Sr||!(!t.P0||!n.P0))}function yM(t,n){return t.D0===n.D0}function pM(t,n){for(var i=0;i<t.length;i++){if(yM(t[i],n))return!0}return!1}me(),zt();var AM,kM,bM,TM,SM=function(t){function n(n,i){var e;return(e=t.call(this,Bm.x_)||this).fg=n||[],e.w_=i,e}return ze(n,t),n.prototype.l_=function(){return new EM(this.fg.map((function(t){return t.d_})))},n}(Im),EM=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return ze(n,t),n}(fh);me(),zt(),(kM=AM||(AM={})).H0="alternative",kM.X0="main",kM.z0="commentary",kM.V0="",kM.ZE="descriptions",kM.W0="main-desc",kM.q0="translation",(TM=bM||(bM={})).H0="alternative",TM.X0="main",TM.z0="commentary",TM.V0="",TM.QE="captions",TM._g="sign",TM.Pb="subtitles",me(),zt();var IM=function(t){function n(n,i,e){var r;return(r=t.call(this,Bm.B_)||this).G0=n,r.j0=i,r.Y0=e,r}return ze(n,t),n.prototype.l_=function(){return new RM(this.G0&&this.G0.d_)},n}(Im),RM=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return ze(n,t),n}(fh);function CM(t){return{NC:t.NC,Gu:t.h0,zT:NM(t)?t.zT:0,Gs:NM(t)?Tp.Ll:Tp.xl,Qp:NM(t)?t.Qp:0}}function NM(t){var n=t;return void 0!==n.zT&&void 0!==n.Qp}me(),zt(),me(),zt();var DM=function(t){function n(){return t.call(this,Bm.NO_QUALITY)}return ze(n,t),n}(fh);me(),zt();var PM,BM,OM=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return ze(n,t),n}(fh),xM=function(t){function n(n,i,e){var r,u;(r=t.call(this)||this).gD=n,r.Q0=i,r.fg=e,r.Z0=void 0,r.K0=void 0,r.J0=function(){return r.Ho(new sA(mu(r)))},r.$0=function(){var t=r.K_;t&&r.K0!==t&&(r.K0=t,r.Ho(new IM(t)))},r.t1=function(){var t=r.J_;r.n1!==t&&(r.n1=t,r.Q0.Ho(new Fm(mu(r))),r.Ho(new Fm(mu(r))))},r.K0=r.K_,r.n1=r.J_;var s,o,a=e.F_(0);r.cp=null!=(s=null==a?void 0:a.i1.Sr)?s:"",r.Fc=null!=(o=null==a?void 0:a.i1.hg)?o:"",r.e1=null==a||null==(u=a.i1)?void 0:u.U0.map(XM).filter(er),r.ap=cA(),r.gD.zo(dM.T0,r.$0),r.gD.zo(dM.S0,r.t1);for(var c=0;c<r.fg.V_;c++){r.fg.F_(c).zo("update",r.J0)}return r}ze(n,t);var i=n.prototype;return i.fp=function(t){this.J_=t},i.bv=function(){this.qo(),this.gD.Go(dM.T0,this.$0),this.gD.Go(dM.S0,this.t1);for(var t=0,n=this.fg.z_;t<n.length;t++){n[t].bv()}this.fg.Nf()},pe(n,[{key:"cg",get:function(){return this.e1}},{key:"J_",get:function(){var t=this.u1();if(!t)return!1;for(var n=0,i=this.fg.z_;n<i.length;n++){if(i[n].i1===t)return!0}return!1},set:function(t){if(t!==this.J_&&t){for(var n=this.fg.F_(0).i1,i=this.gD.s1,e=0,r=this.fg.z_;e<r.length;e++){var u=r[e];if(u.o1===i){n=u.i1;break}}this.a1(n)}}},{key:"K_",get:function(){if(this.J_)for(var t=this.gD.c1,n=0,i=this.fg.z_;n<i.length;n++){var e=i[n];if(pM(t,e.i1))return e}}},{key:"d_",get:function(){return this.v_||(this.v_=oy(this)),this.v_}},{key:"eg",get:function(){return this.ap.toString()}},{key:"rg",get:function(){return this.ap}},{key:"ag",get:function(){return this.cp},set:function(t){t!==this.cp&&(this.cp=t,this.Ho(new sA(this)))}},{key:"hg",get:function(){return this.Fc}},{key:"Sg",get:function(){return this.J_?"enabled":"disabled"}},{key:"vg",get:function(){return this.Z0},set:function(t){var n=this,i=[];t?i=t.filter((function(t){var i=n.K_?CM(n.K_):void 0;return De.Rs.Tu(i,CM(t))})).filter((function(i){return n.fg.rp(t)&&i.s$})):i=this.fg.z_.filter((function(t){return t.s$}));0!==i.length?t!==this.Z0&&(this.Z0&&Bc(this.Z0,i)||(this.Z0=t?i:void 0,this.gD.h1(i.map((function(t){return t.o1}))),1===i.length&&nh(this.gD.f1(i[0].o1,!1)),this.Ho(new SM(i,this)))):this.Ho(new DM)}}]),n}(oh),LM=function(t){function n(){return t.apply(this,arguments)}ze(n,t);var i=n.prototype;return i.u1=function(){return this.gD.v1},i.a1=function(t){nh(this.gD.d1(t))},pe(n,[{key:"og",get:function(){return AM.X0}}]),n}(xM),MM=function(t){function n(){return t.apply(this,arguments)}ze(n,t);var i=n.prototype;return i.u1=function(){return this.gD.l1},i.a1=function(t){nh(this.gD.w1(t))},pe(n,[{key:"og",get:function(){return bM.X0}}]),n}(xM),FM=function(t){function n(n,i){var e;return(e=t.call(this)||this).o1=n,e.i1=i,e.cp="",e.s$=!0,e}ze(n,t);var i=n.prototype;return i.uI=function(){},i.bv=function(){this.qo()},pe(n,[{key:"eg",get:function(){return String(this.o1.eg)}},{key:"rg",get:function(){return this.o1.eg}},{key:"NC",get:function(){return this.o1.NC}},{key:"f0",get:function(){return this.o1.f0}},{key:"ag",get:function(){var t;return null!=(t=this.cp)?t:this.i1.Sr},set:function(t){this.ag!==t&&(this.cp=t,this.Ho(new OM(this.d_)))}},{key:"F0",get:function(){return this.i1.D0._1()}}]),n}(oh),UM=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).v_=void 0,e}return ze(n,t),n.prototype.l_=function(){return _M(this)},pe(n,[{key:"l0",get:function(){return 0}},{key:"h0",get:function(){var t;return(null==(t=this.o1.h0)?void 0:t.g1)||""}},{key:"d_",get:function(){return this.v_||(this.v_=this.l_()),this.v_}}]),n}(FM),HM=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).v_=void 0,e.m1=0,e.A1=void 0,e}return ze(n,t),n.prototype.l_=function(){return wM(this)},pe(n,[{key:"h0",get:function(){var t;return(null==(t=this.o1.h0)?void 0:t.b1)||""}},{key:"d0",get:function(){return this.m1},set:function(t){this.m1!==t&&(this.m1=t,this.Ho(new OM(this.d_)))}},{key:"v0",get:function(){var t,n;return null!=(n=null!=(t=this.A1)?t:this.o1.v0)?n:0},set:function(t){this.v0!==t&&(this.A1=t,this.Ho(new OM(this.d_)))}},{key:"zT",get:function(){var t,n;return null!=(n=null==(t=this.o1.T1)?void 0:t.zT)?n:0}},{key:"Qp",get:function(){var t,n;return null!=(n=null==(t=this.o1.T1)?void 0:t.Qp)?n:0}},{key:"d_",get:function(){return this.v_||(this.v_=this.l_()),this.v_}}]),n}(FM);function XM(t){return"public.accessibility.describes-video"===t?ny.pg:"public.accessibility.transcribes-spoken-dialog"===t?ny.TRANSCRIBES_SPOKEN_DIALOG:"public.accessibility.describes-music-and-sound"===t?ny.DESCRIBES_MUSIC_AND_SOUND:"public.accessibility.easy-to-read"===t?ny.yg:void 0}me(),zt(),me(),zt(),Oe(),(BM=PM||(PM={})).S1="FATAL",BM.Ag="ERROR",BM.E1="WARNING",BM.I1="INFO",BM.R1="DEBUG";var zM=new(function(){function t(){this.J_=function(){return!1}}var n=t.prototype;return n.C1=function(t){if(!this.J_())return!1;var n=[];return!(n.length>0)||n.some((function(n){return n.toLowerCase()===t.toLowerCase()}))},n.N1=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];var r;this.C1(t)&&(r=De).Ju.apply(r,["DEBUG "+t+" -"].concat(Ce(i)))},n.jT=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];var r;this.C1(t)&&(r=De).Ju.apply(r,["INFO "+t+" -"].concat(Ce(i)))},n.D1=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];var r;this.C1(t)&&(r=De).$u.apply(r,["WARNING "+t+" -"].concat(Ce(i)))},n.ua=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];var r;this.C1(t)&&(r=De).rs.apply(r,["ERROR "+t+" -"].concat(Ce(i)))},n.P1=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];var r;this.C1(t)&&(r=De).rs.apply(r,["FATAL "+t+" -"].concat(Ce(i)))},t}()),VM="HLSPlaylistParser",WM="Discontinuity",qM="Buffering",GM=function(){function t(t,n,i){this.gD=t,this.B1=n,this.O1=i}var n=t.prototype;return n.L1=function(){var t,n=null==(t=this.gD.M1)?void 0:t.F1;if(n&&0!==n.length){for(var i,e=null!=(i=Ec(n,(function(t){return 0!==t.U1.length&&0!==t.H1.length})))?i:n[0],r=n.filter((function(t){return t!==e})),u=0,s=e.U1;u<s.length;u++){var o=s[u],a=new uA,c=[];a.ep(new UM(e,o)),c.push(o);for(var h=0;h<r.length;h++)for(var f=r[h],v=0,d=f.U1;v<d.length;v++){var l=d[v];if(mM(l,o)&&!pM(c,l)){a.ep(new UM(f,l)),c.push(l);break}}this.B1.U_(new LM(this.gD,this.B1,a))}for(var w=0,_=e.H1;w<_.length;w++){var g=_[w],m=new uA,y=[];m.ep(new HM(e,g)),y.push(g);for(var p=0;p<r.length;p++)for(var A=r[p],k=0,b=A.H1;k<b.length;k++){var T=b[k];if(mM(T,g)&&!pM(y,T)){m.ep(new HM(A,T)),y.push(T);break}}this.O1.U_(new MM(this.gD,this.O1,m))}}else zM.D1("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.X1=function(){this.z1(this.B1),this.z1(this.O1)},n.z1=function(t){for(var n=[],i=0,e=t.z_;i<e.length;i++){for(var r=e[i],u=[],s=0,o=r.fg.z_;s<o.length;s++){var a=o[s];Dc(a.o1.V1,a.i1)||u.push(a)}for(var c=0;c<u.length;c++){var h=u[c];r.fg._f(h),h.bv()}0===r.fg.V_&&n.push(r)}for(var f=0;f<n.length;f++){var v=n[f];t.H_(v),v.bv()}},n.W1=function(t,n){var i=this.q1(t);void 0!==i&&(i.v0=n)},n.G1=function(t,n){var i=this.q1(t);void 0!==i&&(i.d0=n)},n.q1=function(t){for(var n=0,i=this.O1.z_;n<i.length;n++){var e=Ec(i[n].fg.z_,(function(n){return n.i1===t}));if(void 0!==e)return e}},t}();me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),Ae();var jM=function(){function t(t){this.j1=0,this.Y1=0,this.Q1=d.exp(d.log(.5)/t)}var n=t.prototype;return n.Z1=function(t,n){var i=d.pow(this.Q1,t),e=n*(1-i)+i*this.j1;_(e)||(this.j1=e,this.Y1+=t)},n.IU=function(t){var n=d.exp(d.log(.5)/t);if(n!==this.Q1)if(0!==this.Y1){var i=this.gJ,e=1-d.pow(n,this.Y1);this.j1=i*e,this.Q1=n}else this.Q1=n},pe(t,[{key:"gJ",get:function(){var t=1-d.pow(this.Q1,this.Y1);return this.j1/t}}]),t}(),YM=function(){function t(n,i,e,r){void 0===n&&(n=t.K1),void 0===i&&(i=t.J1),void 0===e&&(e=t.t2),void 0===r&&(r=!1),this.n2=0,this.i2=[],this.e2=void 0,this.u2=6e4,this.s2=10,this.o2=n,this.a2=i,this.c2=e,this.h2=r,this.f2=new jM(n),this.d2=new jM(i)}var n=t.prototype;return n.Z1=function(t){var n=De.Ku(),i=t;this.h2&&void 0!==this.e2&&n-this.e2>=this.u2&&this.Nf(),this.n2+=1,this.f2.Z1(1,i),this.d2.Z1(1,i),this.i2.push(i),this.i2.length>this.s2&&this.i2.shift(),this.e2=n},n.l2=function(){return void 0!==this.e2&&De.Ku()-this.e2<=this.u2},n.Nf=function(){this.f2=new jM(this.o2),this.d2=new jM(this.a2),this.n2=0,this.i2=[],this.e2=void 0},pe(t,[{key:"gJ",get:function(){return this.l2()?d.max(this.f2.gJ,this.d2.gJ):this.c2}}]),t}();YM.K1=2,YM.J1=5,YM.t2=.1,me(),zt();var QM=function(){function t(t){this.w2=t}var n=t.prototype;return n.eM=function(t){for(var n=0,i=this.w2;n<i.length;n++){i[n].eM(t)}},n.rM=function(t){for(var n=0,i=this.w2;n<i.length;n++){i[n].rM(t)}},n.uM=function(t,n){for(var i=0,e=this.w2;i<e.length;i++){e[i].uM(t,n)}},n.sM=function(t){for(var n=0,i=this.w2;n<i.length;n++){i[n].sM(t)}},t}();me(),zt();var ZM=function(){function t(t){this._2=0,this.g2=t}var n=t.prototype;return n.eM=function(t){this._2=t},n.rM=function(t){this.g2.Z1(t-this._2)},n.uM=function(t){},n.sM=function(t){},t}();me(),zt();var KM=function(){function t(t){this.m2=0,this.A2=t}var n=t.prototype;return n.rM=function(t){this.m2=t},n.uM=function(t,n){this.A2.Z1(t-this.m2,n.byteLength),this.m2=t},n.sM=function(t){},n.eM=function(t){},t}();me(),zt();var JM,$M=function(){function t(t,n){void 0===n&&(n=0),this.b2=new tF,this.MG=0,this.T2=0,this.A2=t,this.S2=n}var n=t.prototype;return n.eM=function(t){},n.uM=function(t,n){var i=n.byteLength,e=this.T2;this.T2=i;var r=t-this.MG;this.MG=t,this.b2.AH(n);var u=!this.b2.E2(),s=i>=this.S2;e!==De.Rs.Mu&&u&&s&&this.A2.Z1(r,i)},n.rM=function(t){this.MG=t},n.sM=function(t){},t}(),tF=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).I2=void 0,n.R2=!1,n}ze(n,t);var i=n.prototype;return i.E2=function(){return this.R2},i.AH=function(n){this.R2=!1,t.prototype.AH.call(this,n)},i.yH=function(n,i){this.I2&&this.I2!==lk.Tb||(this.R2=!0),t.prototype.yH.call(this,n,i),this.I2=n},i.CH=function(t){return!1},i.DH=function(t){},i.PH=function(t){},n}(xD);me(),zt(),Ae(),me(),zt(),(JM||(JM={})).C2="sample";var nF=function(t){function n(i,e,r,u){var s;return void 0===i&&(i=n.K1),void 0===e&&(e=n.J1),void 0===r&&(r=n.N2),void 0===u&&(u=n.t2),(s=t.call(this)||this).D2=0,s.P2=r,s.f2=new jM(i),s.d2=new jM(e),s.c2=u,s}ze(n,t);var i=n.prototype;return i.Z1=function(t,n){var i=8*n/t;this.f2.Z1(t,i),this.d2.Z1(t,i),this.D2+=n,this.Wg(),this.Ho(new fh(JM.C2))},i.l2=function(){return this.D2>=this.P2},pe(n,[{key:"gJ",get:function(){return this.l2()?d.min(this.f2.gJ,this.d2.gJ):this.c2}}]),n}(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).B2=0,n}return ze(n,t),n.prototype.Wg=function(){var t=De.Ku();t-this.B2>1e3&&(this.B2=t,Ey.Wg(this.gJ/8))},n}(oh));nF.N2=128e3,nF.t2=5e5,nF.K1=.5,nF.J1=5;var iF=function(){function t(t){var n=t.NC>0?t.NC:nF.t2,i=t.DC>0?t.DC:YM.t2;this.A2=new nF(nF.K1,nF.J1,1,n),this.O2=new YM(YM.K1,YM.J1,i)}var n=t.prototype;return n.RC=function(t){if("segment"===t.Gs||"preload-hint"===t.Gs){var n=[new ZM(this.O2)];return"stream"!==t.fl||!function(t){return"segment"===t.Gs&&"initialization-segment"!==t.Xl}(t)&&"preload-hint"!==t.Gs?n.push(new KM(this.A2)):n.push(new $M(this.A2,1e3)),new QM(n)}},n.L2=function(t){this.A2=new nF(nF.K1,nF.J1,1,t)},pe(t,[{key:"NC",get:function(){return this.A2.gJ}},{key:"DC",get:function(){return this.O2.gJ}}]),t}();me(),zt();var eF=function(t){function n(n){var i;return(i=t.call(this,dM.C0)||this).ua=n,i}return ze(n,t),n}(fh);me(),zt();var rF=function(){function t(t){this.o$=t}return t.prototype.xU=function(t){var n={Gs:fT.mI,EN:[],yq:[{Gd:t}]};return j.resolve(void 0!==this.o$.xU([n]))},t}();me(),zt(),Ae(),me(),zt(),me(),zt();var uF=function(t,n,i,e,r){return t.filter((function(t){return!!Dc(e,t)||1.1*t.NC<=i.NC}))},sF=function(t,n,i,e,r){return t.filter((function(t){if(Dc(e,t))return!0;for(var u=1/0,s=0,o=t.V1;s<o.length;s++){var a,c,h=o[s];u=d.min(u,null!=(c=null!=(a=h.D0.M2)?a:h.D0.F2)?c:1/0)}u===1/0&&(u=1);var f=2*i.DC+t.NC*u/i.NC;return t.NC<=n.NC||r.U2>f}))},oF=function(t,n,i,e,r){return mc(t,(function(t,n){return n.NC-t.NC}))},aF=function(t,n,i,e,r){return t.every((function(t){return t.H2&&!_(t.H2)}))?mc(t,(function(t,n){return n.H2-t.H2})):t},cF=function(t,n,i,e,r){return 0===e.length?t:mc(t,(function(t,n){var i=Dc(e,t)?1:0;return(Dc(e,n)?1:0)-i}))},hF=function(t,n,i,e,r){return t.filter((function(t){if(!t.h0||!n.h0)return!0;if(t.h0.b1){if(!n.h0.b1)return!1;if(t.h0.b1.split(".")[0]!==n.h0.b1.split(".")[0])return!1}if(t.h0.g1){if(!n.h0.g1)return!1;if(t.h0.g1.split(".")[0]!==n.h0.g1.split(".")[0])return!1}return t.h0.X2===n.h0.X2}))},fF=function(t,n,i,e,r){if(De.Rs.Iu)return t;for(var u,s,o=De.Rs.Ru,a=1.05*(null!=(u=null==o?void 0:o.width)?u:r.Qp),c=1.05*(null!=(s=null==o?void 0:o.height)?s:r.zT),h=0;h<t.length;h++){var f=t[h];if(void 0===f.T1)return t;var v=f.T1.zT,d=f.T1.Qp;if(v<=c&&d<=a)return t.slice(h,t.length)}return[]},vF=function(t,n,i,e,r){return function(t,n){var i=n.z2;if(void 0===i&&!De.Rs.ye)return t;if(!1===i)return t;for(var e=0;e<t.length;e++){var r=t[e];if(void 0===r.T1)return t;var u=r.T1.zT,s=r.T1.Qp;if(u===n.zT&&s===n.Qp)return t.slice(e,t.length);if(u<n.zT||s<n.Qp)return t.slice(0===e?e:e-1,t.length)}return[]}(t,r)};var dF,lF,wF,_F,gF,mF,yF,pF,AF="AbrEvaluator",kF=function(){function t(t){this.AP=t,this.V2=[hF,uF,sF,oF,fF,vF,aF,cF]}var n=t.prototype;return n.W2=function(t){this.V2=t},n.q2=function(t,n,i,e){var r=this;return _a((function(){return ma(this,(function(u){switch(u.label){case 0:return[4,r.G2(t,n,i,e)];case 1:return[2,u.sent()[0]]}}))}))()},n.G2=function(t,n,i,e){var r=this;return _a((function(){var u,s,o,a,c,f;return ma(this,(function(v){switch(v.label){case 0:if(0===t.length)throw new h("AbrEvaluator - Unable to select optimal variant stream from an empty list.");zM.N1(AF,"Performing optimal variant stream selection."),u=r.j2,s=t,o=0,a=r.V2,v.label=1;case 1:return o<a.length?(c=a[o],f=c(s,n,u,i,e),Array.isArray(f)?(s=f,[3,4]):[3,2]):[3,5];case 2:return[4,f];case 3:s=v.sent(),v.label=4;case 4:return o++,[3,1];case 5:return 0===s.length?(zM.D1(AF,"No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),[2,[xc(t,(function(t){return t.NC}))]]):[2,s]}}))}))()},pe(t,[{key:"j2",get:function(){return this.AP.iM}}]),t}();function bF(t,n){return[t,void 0!==n?t+n-1:tu]}function TF(t){return Boolean(t.xT)}function SF(t){return Boolean(t.Y2)}function EF(t){return t?t.Q2?t.Rr+"@"+t.Q2.SD+"-"+(null!=(n=t.Q2.V_)?n:""):""+t.Rr:"";var n}function IF(t,n){if(n===t)return!0;if(n.Rr!==t.Rr)return!1;if(!t.Q2)return!0;if(n.Q2){var i=bF(t.Q2.SD,t.Q2.V_),e=bF(n.Q2.SD,n.Q2.V_);if(i[0]<=e[0])return void 0===i[1]||void 0!==e[1]&&i[1]>=e[1]}return!1}function RF(t,n){return t===n||t.Rr===n.Rr&&(t.Q2&&n.Q2?t.Q2.SD===n.Q2.SD&&t.Q2.V_===n.Q2.V_:t.Q2===n.Q2)}function CF(t){var n=!!t.Z2||void 0;return{eg:t.eg,K2:t.K2,qN:t.qN,J2:t.J2,Am:t.Am,t3:t.t3,Z2:n,n3:t.i3,e3:t.r3,u3:t.u3,s3:t.s3}}function NF(t,n,i,e){var r=[],u=Ec(i,(function(t){return t.o3===Oa}));if(void 0!==u){var s=u.Rr?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(u.Rr.toLowerCase()):"cenc";if(void 0!==s){for(var o=0;o<i.length;o++){var a=i[o];if(a.o3!==Oa)for(var c=0,h=tc(a.o3);c<h.length;c++){var f=h[c];r.push({Tf:f,LC:a.a3?[a.a3]:[],KR:void 0})}}if(r.length)return{FI:t,c3:{h3:s,UI:u.UI},f3:r,v3:n===Tp.xl?e.slice():[],d3:n===Tp.Ll?e.slice():[],Uj:!1}}}}function DF(t,n){if(!t)return n;if(!n)return t;var i,e=[],r=Aa();return PF(e,r,t.f3),PF(e,r,n.f3),{FI:t.FI,c3:{h3:t.c3.h3,UI:null!=(i=t.c3.UI)?i:n.c3.UI},f3:e,v3:BF(t.v3,n.v3,Dc),d3:BF(t.d3,n.d3,Dc),Uj:t.Uj||n.Uj||!1}}function PF(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],u=r.Tf.Zs,s=void 0;n.has(u)?(s=n.get(u)).LC=BF(s.LC,r.LC,OF):(s=ga({},r),t.push(s),n.set(u,s))}}function BF(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var u=n[r];i(e,u)||e.push(u)}return e}function OF(t,n){for(var i=0;i<t.length;i++){if(Nh(t[i],n))return!0}return!1}function xF(t,n){var i,e=t.l3;if(e){for(var r=t.ZO,u=[],s=0,o=t.h0;s<o.length;s++){var a=o[s];u.push(r+'; codecs="'+a+'"')}i=NF(n||{},t.Gs,e,u)}for(var c=0,h=t.w3;c<h.length;c++){i=DF(i,LF(h[c],n))}return i}function LF(t,n){return NF(n||{},t.Gs,t.l3||[],[t.Gd])}function MF(t,n){switch(n.Gs){case Pa.zs:return t.widevine;case Pa.Xs:return t.playready;case Pa.Ws:return t.fairplay;case Pa.Vs:return t.clearkey}}function FF(t,n,i){if(0!==t.length)return t.map((function(t){return{contentType:t,encryptionScheme:n,robustness:i}}))}function UF(t,n,i,e,r){return HF.apply(this,arguments)}function HF(){return(HF=_a((function(t,n,i,e,r){var u,s,o,a,c,h,f,v,d,l;return ma(this,(function(w){switch(w.label){case 0:return t?(u=n.filter((function(t){return ic(t,"audio")})),s=n.filter((function(t){return ic(t,"video")})),o=[],a=i.map((function(t){return XF(t,e,r)})),[4,j.all(a)]):[2,[]];case 1:for(c=w.sent().filter(er),h=WF(c,t.preferredKeySystems),f=0;f<h.length;f++)v=h[f],d=MF(t,v.Tf),l="cbcs",o.push({Tf:v.Tf,LC:v.LC,KR:v.KR,HN:[{initDataTypes:[v.Tf.Ys],audioCapabilities:FF(u,l,null==d?void 0:d.audioRobustness),videoCapabilities:FF(s,l,null==d?void 0:d.videoRobustness),persistentState:null==d?void 0:d.persistentState,distinctiveIdentifier:null==d?void 0:d.distinctiveIdentifier}]});return[2,o]}}))}))).apply(this,arguments)}function XF(t,n,i){return zF.apply(this,arguments)}function zF(){return(zF=_a((function(t,n,i){var e,r;return ma(this,(function(u){switch(u.label){case 0:return t.F0&&t._3?t.Fl!==gF.g3?[2]:(e=VF(t._3))?e.Zs!==Ga?[3,1]:[2,{Tf:e,LC:[],KR:t.F0}]:[2]:[2];case 1:return zM.jT("HLSDrmUtils","Fetching key uri "+t.F0+"."),[4,n.ll({_l:t.F0,Vl:i})];case 2:return[4,u.sent().Wd()];case 3:return r=u.sent(),[2,{Tf:e,LC:[r],KR:void 0}];case 4:return[2]}}))}))).apply(this,arguments)}function VF(t){return t===za?Qa:t===Ha?Ya:"com.apple.streamingkeydelivery"===t?Ka:void 0}function WF(t,n){var i=function(t){var i=n.indexOf(t.Tf.Zs);return i>=0?i:n.length};return mc(t,(function(t,n){return i(t)-i(n)}))}function qF(t){if("#"!==t[0])throw new h("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function GF(t){return"#"!==t[0]?t:t.split(":",1)[0]}function jF(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new h("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function YF(t){var n=$F(jF(t));if(void 0===n)throw new h("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function QF(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,e=i.exec(t);null!==e;){var r=e[1],u=void 0;u=void 0!==e[3]?e[3]:e[2],null!==r?n[r]=u:zM.D1(VM,"Ignoring unparsable M3U8 attribute name: "+t+"."),e=i.exec(t)}return n}function ZF(t,n){var i,e,r=QF(t);try{i=r.URI?De.Es(r.URI,n):void 0,e=function(t){switch(t){case"AUDIO":return dF.xl;case"VIDEO":return dF.Ll;case"SUBTITLES":return dF.Pb;case"CLOSED-CAPTIONS":return dF.m3}throw new h("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(r.TYPE)}catch(n){throw new h("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=r["GROUP-ID"],s=r.LANGUAGE,o=r["ASSOC-LANGUAGE"],a=r.NAME,c="YES"===r.DEFAULT,f="YES"===r.AUTOSELECT,v="YES"===r.FORCED,d=r["INSTREAM-ID"],l=r.CHARACTERISTICS,w=r.CHANNELS;if(u||zM.D1(VM,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),s||zM.D1(VM,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),a||zM.D1(VM,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),e===dF.m3?(i&&zM.D1(VM,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),d?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(d)||zM.D1(VM,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):zM.D1(VM,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):d&&zM.D1(VM,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!f&&(f=!0,r.AUTOSELECT&&zM.D1(VM,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),e===dF.Pb&&r.FORCED&&zM.D1(VM,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===a)throw new h("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{y3:o,A3:w,U0:l,x0:u,B0:f,P0:c,O0:v,L0:d,hg:s,Sr:a,Gs:e,F0:i}}function KF(t,n,i){var e,r,u,s=QF(t);try{e=De.Es(i,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),e=Number(n[1]);if(_(i)||_(e))throw new h("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{Qp:i,zT:e}}(s.RESOLUTION),r=function(t){if(!t)return;for(var n,i,e,r=t.split(","),u=0;u<r.length;u++){var s=r[u],o=s.trim();ec(o,"mp4a")?n="mp4a.40.05"===o?"mp4a.40.5":"mp4a.40.02"===o?"mp4a.40.2":o:"ac-3"===o||"ec-3"===o?n=o:ec(o,"avc")||ec(o,"hvc1")||ec(o,"hev1")||ec(o,"dvh")||ec(o,"vp09")||ec(o,"av01")?i=s:e=e?e+","+o:o}return{g1:n,b1:i,X2:e}}(s.CODECS)}catch(n){throw new h("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var o=$F(s.BANDWIDTH),a=$F(s["AVERAGE-BANDWIDTH"]),c=$F(s.SCORE),f=$F(s["FRAME-RATE"]),v=s["HDCP-LEVEL"],d=[];if(void 0!==s["ALLOWED-CPC"]){var l,w=s["ALLOWED-CPC"].split(",");(l=d).push.apply(l,Ce(w.map((function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))))}var g=s["VIDEO-RANGE"],m=s.AUDIO,y=s.VIDEO,p=s.SUBTITLES,A=s["CLOSED-CAPTIONS"];if(void 0===o?zM.D1(VM,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==a&&a>o&&zM.D1(VM,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),r||zM.jT(VM,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),r&&r.b1&&void 0===u&&zM.jT(VM,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===v||Dc(["TYPE-0","TYPE-1","NONE"],v)||zM.D1(VM,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===g||Dc(["SDR","PQ","HLG"],g)||zM.D1(VM,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===o)throw new h("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{b3:d,T3:m,f0:a,NC:o,S3:A,h0:r,v0:f,E3:v,T1:u,H2:c,I3:p,F0:e,R3:y,C3:g}}function JF(t,n){var i=QF(t);if(!i.URI)throw new h("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return KF(t,n,i.URI)}catch(n){throw new h("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function $F(t){var n=Number(t);return _(n)?void 0:n}function tU(t,n){var i,e,r=QF(t);try{i=function(t){switch(t){case"NONE":return gF.hD;case"AES-128":return gF.N3;case"SAMPLE-AES":return gF.g3;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new h("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(r.METHOD),e=r.URI?aU(r.URI,n):void 0}catch(n){throw new h("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var u,s,o,a,c,f=r.KEYFORMAT,v=r.IV,d=r.KEYFORMATVERSIONS;if(i!==gF.hD){if(o=f||"identity","SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(VF(o)!==Qa)throw new h("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");u=gF.g3}else u=i;s=e,a=v?Lf(v):void 0,c=d?d.split("/").map((function(t){return Number(t)})):[1]}else u=gF.hD,(e||f||d||v)&&zM.D1(VM,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{Fl:u,F0:s,D3:a,_3:o,P3:c}}function nU(t){var n=jF(t);if(!n)return[void 0,""];var i=ya(n.split(","),2),e=i[0],r=i[1];return[$F(e),r]}function iU(t,n){var i=t.split("@"),e=$F(i[0]),r=i.length>1?$F(i[1]):n;if(void 0===e||void 0===r)throw new h("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{SD:r,V_:e}}function eU(t){if(void 0!==t)return iU(t,void 0)}function rU(t,n){return iU(jF(t),n)}function uU(t,n){var i=QF(t);try{return{Rr:aU(i.URI,n),Q2:eU(i.BYTERANGE)}}catch(n){throw new h("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function sU(t){var n=jF(t);if(!n)throw new h("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!ou(i))throw new h("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function oU(t){var n,i,e,r=QF(t),u=r["START-DATE"],s=r["END-DATE"],o=$F(r["PLANNED-DURATION"]),a=$F(r.DURATION);void 0!==r["SCTE35-CMD"]&&(n=Lf(r["SCTE35-CMD"]).buffer),r["SCTE35-IN"]&&(i=Lf(r["SCTE35-IN"]).buffer),r["SCTE35-OUT"]&&(e=Lf(r["SCTE35-OUT"]).buffer);var c,f,d="YES"===r["END-ON-NEXT"],l=function(t){for(var n={},i=0,e=v.keys(t);i<e.length;i++){var r=e[i],u=t[r];void 0!==u&&ec(r,"X-")&&(n[r]=u)}return n}(r),w=r.ID,_=r.CLASS;if(void 0===u)zM.D1(VM,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+u+".");else if(c=new Date(u),f=void 0!==s?new Date(s):void 0,ou(c)||zM.D1(VM,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+c+"."),void 0!==a){var g=new Date(c.getTime()+1e3*a);f?f.getTime()!==g.getTime()&&(zM.D1(VM,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),f=g):f=g}else f&&(a=(c.getTime()-f.getTime())/1e3);if(d&&(r.CLASS||zM.D1(VM,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),r.DURATION&&zM.D1(VM,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),f&&zM.D1(VM,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===w&&zM.D1(VM,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===w||void 0===c)throw new h("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{eg:w,K2:_,qN:c,J2:f,Am:a,t3:o,r3:n,s3:i,u3:e,Z2:d,i3:l}}function aU(t,n){if(void 0===t)throw new h("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return De.Es(t,n)}function cU(t,n){var i=QF(t),e=$F(i.DURATION),r=aU(i.URI,n),u=eU(i.BYTERANGE),s="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===e)throw new h("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{Am:e,F0:{Rr:r,Q2:u},B3:s,O3:o}}function hU(t){var n=QF(t);return{x3:"YES"===n["CAN-BLOCK-RELOAD"],L3:$F(n["CAN-SKIP-UNTIL"]),M3:"YES"===n["CAN-SKIP-DATERANGES"],F3:$F(n["HOLD-BACK"]),U3:$F(n["PART-HOLD-BACK"])}}function fU(t,n){var i=QF(t);if(void 0===i.URI)throw new h("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var e=aU(i.URI,n),r=$F(i["LAST-MSN"]),u=$F(i["LAST-PART"]);if(void 0===r)throw new h("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{F0:e,H3:r,X3:u}}function vU(t,n){var i,e=QF(t),r=$F(e["SKIPPED-SEGMENTS"]),u=null==(i=e["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(!r)throw new h("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{z3:r,V3:u,W3:n}}function dU(t){var n=$F(QF(t)["PART-TARGET"]);if(void 0===n)throw new h("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function lU(t){switch(jF(t)){case"VOD":return yF.q3;case"EVENT":return yF.G3;default:return zM.D1(VM,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),yF.Al}}function wU(t,n){var i,e,r=QF(t);try{i=function(t){if(void 0===t)throw new h("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return wF.j3;if("PART"===t)return wF.Y3;throw new h("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(r.TYPE),e=aU(r.URI,n)}catch(n){throw new h("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var u,s=$F(r["BYTERANGE-START"]),o=$F(r["BYTERANGE-LENGTH"]);return void 0===s&&void 0===o||(u={SD:s||0,V_:o}),{Gs:i,F0:{Rr:e,Q2:u}}}me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),me(),zt(),me(),zt(),(lF=dF||(dF={}))[lF.xl=0]="xl",lF[lF.Ll=1]="Ll",lF[lF.Pb=2]="Pb",lF[lF.m3=3]="m3",(_F=wF||(wF={}))[_F.j3=0]="j3",_F[_F.Y3=1]="Y3",(mF=gF||(gF={}))[mF.hD=0]="hD",mF[mF.N3=1]="N3",mF[mF.g3=2]="g3",(pF=yF||(yF={}))[pF.Al=0]="Al",pF[pF.q3=1]="q3",pF[pF.G3=2]="G3",me(),zt(),Oe(),me(),zt(),me(),zt(),me(),zt();var _U=function(){function t(n){this.Q3=0,this.Z3=t.K3(n)}var n=t.prototype;return n.J3=function(){var t=this.Z3[this.Q3];return this.Q3+=1,t},n.t4=function(){return this.Z3[this.Q3]},n.Oa=function(){var n=new t("");return n.Q3=0,n.Z3=this.Z3.slice(this.Q3),n},t.K3=function(t){return t?t.split(/[\r\n]+/).map((function(t){return t.trim()})).filter((function(t){return t})):[]},t}();function gU(t,n,i){var e=t.F0,r=t.cT,u=t.n4,s=t.SD;switch(i){case"#EXT-X-VERSION":r=function(t){var n=YF(t);return _(n)?(zM.D1(VM,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":u=!0;break;case"#EXT-X-START":s=function(t){var n=QF(t),i=$F(n["TIME-OFFSET"]);if(void 0===i)throw new h("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{i4:i,e4:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":zM.D1(VM,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:zM.jT(VM,"Ignoring unrecognized line or comment: "+n+".")}return{F0:e,cT:r,n4:u,SD:s}}function mU(t,n){return t.map((function(t){return t.Fl===gF.hD||t.D3?t:ga({},t,{D3:yU(n)})}))}function yU(t){var n=new DataView(new ArrayBuffer(16)),i=new xf;return i.Da(8),function(t,n,i,e){void 0===e&&(e=!1);var r=i.getHighBitsUnsigned(),u=i.getLowBitsUnsigned(),s=e?r:u;uf(t,n,e?u:r,e),uf(t,n,s,e)}(n,i,Jr.fromNumber(t)),new g(n.buffer)}function pU(t,n,i){zM.jT(VM,"Parsing M3U8 playlist at "+t+".");var e=new _U(i);if("#EXTM3U"!==e.J3())throw new h("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(i)?function(t,n){var i;try{i=De.Es(t)}catch(n){throw zM.D1(VM,"The master playlist has no valid base URI: "+t+"."),new h("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var e={F0:i,n4:void 0,SD:void 0,cT:void 0},r=[],u=[],s=[],o=[];;){var a=n.J3();if(!a)break;try{var c=qF(a);switch(c){case"#EXT-X-MEDIA":var f=ZF(a,i);r.push(f);break;case"#EXT-X-STREAM-INF":var v=KF(a,i,n.J3());u.push(v);break;case"#EXT-X-I-FRAME-STREAM-INF":var d=JF(a,i);s.push(d);break;case"#EXT-X-SESSION-DATA":zM.D1(VM,"Ignoring unsupported #EXT-X-SESSION-DATA: "+a+".");break;case"#EXT-X-SESSION-KEY":var l=tU(a,i);o.push(l);break;default:e=gU(e,a,c)}}catch(t){zM.D1(VM,"Ignoring unparsable line: "+a,t)}}var w,_=e.cT,g=null!=(w=e.n4)&&w,m=e.SD;return void 0===_&&(zM.D1(VM,"The playlist has no #EXT-X-VERSION, assuming version is 2."),_=2),_>=8&&(u.some((function(t){return void 0!==t.H2}))||s.some((function(t){return void 0!==t.H2})))&&(u.some((function(t){return void 0===t.H2}))||s.some((function(t){return void 0===t.H2})))&&zM.D1(VM,"If one master playlist variant stream has a SCORE, all variants should have it."),{F0:i,cT:_,n4:g,SD:m,r4:s,u4:o,xT:r,s4:u}}(t,e):function(t,n,i){var e,r,u,s,o,a,c,f,v,d,l,w,_,g,m,y,p,A,k={F0:t,n4:void 0,SD:void 0,cT:void 0},b=[],T=!1,S=!1,E=[],I=Aa(),R=[],C=[],N=!1,D=!1,P=[],B=[],O=0,x=!1,L=yF.Al,M=!1,F=0;try{A=De.Es(t)}catch(n){throw zM.D1(VM,"The media playlist has no valid base URI: "+t+".",n),new h("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var U=i.Oa();void 0===m||void 0===y;){var H=U.J3();if(!H)break;try{switch(GF(H)){case"#EXT-X-MEDIA-SEQUENCE":m=YF(H);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":y=YF(H)}}catch(t){zM.D1(VM,"Ignoring unparsable line: "+H,t)}}void 0===m&&(zM.jT(VM,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),m=0),void 0===y&&(zM.jT(VM,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),y=0);for(var X=m,z=y;;){var V=i.J3();if(!V)break;var W=!1;try{var q=GF(V);switch(q){case"#EXTINF":var G;W=!0,o=(G=ya(nU(V),2))[0],a=G[1];break;case"#EXT-X-BYTERANGE":W=!0,(c=rU(V,O))&&(O=c.SD+c.V_);break;case"#EXT-X-DISCONTINUITY":W=!0,N=!0,z++;break;case"#EXT-X-KEY":var j;W=!0;var Y,Q=tU(V,A);if(Q.Fl===gF.hD){I.clear(),_=void 0;break}var Z=null!=(Y=null==(j=Q._3)?void 0:j.toString())?Y:"identity";I.set(Z,Q),Q.Fl===gF.N3&&(_=Q);break;case"#EXT-X-MAP":W=!0,v=uU(V,A),d=_;break;case"#EXT-X-PROGRAM-DATE-TIME":W=!0,l=sU(V);break;case"#EXT-X-GAP":W=!0,D=!0;break;case"#EXT-X-BITRATE":W=!0,w=YF(V);break;case"#EXT-X-TARGETDURATION":e=YF(V);break;case"#EXT-X-DATERANGE":var K=oU(V);b.push(K);break;case"#EXT-X-PART":W=!0;var J=cU(V,A);C.push(J);break;case"#EXT-X-PRELOAD-HINT":var $=wU(V,A);P.push($);break;case"#EXT-X-SKIP":E.length>0&&zM.D1(VM,"#EXT-X-SKIP must appear before any #EXTINF tags."),W=!0;var tt=vU(V,X);F=tt.z3,p=tt.V3,X+=tt.z3;break;case"#EXT-X-SERVER-CONTROL":var nt=hU(V);T=nt.x3,r=nt.L3,S=nt.M3,u=nt.F3,s=nt.U3;break;case"#EXT-X-RENDITION-REPORT":var it=fU(V,A);B.push(it);break;case"#EXT-X-PART-INF":g=dU(V);break;case"#EXT-X-MEDIA-SEQUENCE":W&&zM.D1(VM,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":W&&zM.D1(VM,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":x=!0;break;case"#EXT-X-PLAYLIST-TYPE":L=lU(V);break;case"#EXT-X-I-FRAMES-ONLY":M=!0;break;default:if(ec(q,"#"))k=gU(k,V,q);else{f=De.Es(V,A);var et=v?{F0:v,o4:d}:void 0,rt={u4:mU(Ta(I),X),qE:R,a4:C,Am:o,CN:a,c4:N,F0:{Q2:c,Rr:f},h4:et,f4:l,O3:D,v4:w,W3:X,d4:z};E.push(rt),X++,R=[],C=[],o=void 0,a=void 0,N=!1,c=void 0,f=void 0,l=void 0,D=!1,w=void 0}}}catch(t){zM.D1(VM,"Ignoring unparsable line: "+V,t)}}if(C.length){var ut=v?{F0:v,o4:_}:void 0,st={u4:mU(Ta(I),X),qE:R,a4:C,Am:o,CN:a,c4:N,F0:void 0,h4:ut,f4:l,O3:D,v4:w,W3:X,d4:z};E.push(st)}var ot,at=k.cT,ct=null!=(ot=k.n4)&&ot,ht=k.SD;void 0===at&&(zM.D1(VM,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),at=2),void 0===e&&zM.D1(VM,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var ft=E.length,vt=ft>0;vt||zM.D1(VM,"The HLS media playlist contains no segments.");var dt=vt&&E[ft-1].a4.length>0;return dt&&void 0===g&&zM.D1(VM,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===s&&zM.D1(VM,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{x3:T,L3:r,M3:S,l4:b,d4:y,w4:x,n4:ct,F3:u,_4:M,W3:m,z3:F,U3:s,M2:g,g4:L,m4:P,V3:p,y4:B,A4:e,Y2:E,SD:ht,F0:A,b4:n,cT:at}}(t,n,e)}me(),zt(),Ae(),Oe(),me(),zt(),Ae();var AU=function(){function t(t,n,i){var e,r,u,s;this.eg=kU++,this.H2=void 0,this.T1=void 0,this.T4=void 0,this.S4=[],this.D0=n,this.NC=t.NC,this.T4=t.f0,this.H2=t.H2,this.E4=t.h0?bU(t.h0):void 0,this.T1=t.T1,this.v0=t.v0,this.T3=null!=(e=t.T3)?e:"I4"+this.eg,this.R3=null!=(r=t.R3)?r:"R4"+this.eg,this.I3=null!=(u=t.I3)?u:"C4"+this.eg,this.S3=null!=(s=t.S3)?s:"N4"+this.eg,this.S4=i}var n=t.prototype;return n.D4=function(t){for(var n=0,i=this.S4;n<i.length;n++){var e=i[n].D0.D4(t);if(void 0!==e)return e}},n.P4=function(t){for(var n=0,i=this.S4;n<i.length;n++){var e=i[n].D0.P4(t);if(void 0!==e)return e}},n.B4=function(t){Cc(this.S4,t)},pe(t,[{key:"F0",get:function(){return this.D0.F0}},{key:"h0",get:function(){return this.E4},set:function(t){this.E4=t?bU(t):void 0}},{key:"f0",get:function(){return this.T4||this.NC}},{key:"O4",get:function(){if(!this.S4.length)return TI.hP();var t,n,i=null!=(n=Lc(this.S4,(function(n){return null!=(t=n.D0.x4)?t:0})))?n:this.V1[0],e=i.D0.Y2;if(!e.length||e.length<2)return TI.hP();var r,u,s=i.D0.w4?e[0].kp:e[1].kp,o=e[e.length-1].bp-this.V1.reduce((function(t,n){return d.max(null!=(u=null!=(r=n.D0.U3)?r:n.D0.F3)?u:0,t)}),0);return o<s?TI.hP():new TI([s,o])}},{key:"V1",get:function(){return this.S4}},{key:"U1",get:function(){return this.S4.filter((function(t){return t.Gs===dF.xl}))}},{key:"H1",get:function(){return this.S4.filter((function(t){return t.Gs===dF.Ll}))}},{key:"L4",get:function(){return this.S4.filter((function(t){return t.Gs===dF.Pb}))}},{key:"M4",get:function(){return this.S4.filter((function(t){return t.Gs===dF.m3}))}}]),t}(),kU=0;function bU(t){return ga({},t,{b1:t.b1?iw(t.b1):void 0})}me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),Ae();var TU,SU,EU=function(){function t(t,n,i,e,r){this.SJ=void 0,this.F4=t,this.U4=n,this.Lp=i,this.H4=e,this.Am=r.Am,this.F0=r.F0,this.B3=r.B3,this.O3=r.O3}return t.prototype.X4=function(t,n){this.Lp=t,this.H4=n},pe(t,[{key:"kp",get:function(){var t;return this.Lp+(null!=(t=this.z4)?t:0)}},{key:"V4",get:function(){return this.H4}},{key:"u4",get:function(){return this.F4.u4}}]),t}(),IU=function(){function t(t,n,i,e,r){this.SJ=void 0,this.W4=[],this.q4=0,this.Lp=t,this.h4=r.h4,this.G4=i,this.H4=e,this.Mc=r.Am,this.f4=r.f4,this.j4=r.F0,this.O3=r.O3,this.W3=r.W3,this.c4=r.c4,this.d4=n,this.u4=r.u4,this.Y4(r.a4)}var n=t.prototype;return n.Q4=function(t){return this.W4[t]},n.Z4=function(t){for(var n=0;n<this.W4.length;n++){var i=this.W4[n],e=i.kp,r=e+i.Am;if(e<=t&&t<=r)return t===r&&n+1<this.W4.length?this.W4[n+1]:i}},n.K4=function(t){for(var n=this.W4.length-1;n>=0;n--){var i=this.W4[n];if(i.kp<=t)return i}},n.J4=function(t){for(var n=this.K4(t);n&&!n.B3&&n.U4>0;)n=this.Q4(n.U4-1);return n},n.X4=function(t,n,i){var e=t.a4.length!==this.W4.length||i!==this.H4;this.G4=n,this.H4=i,this.Mc=t.Am,null!=this.f4||(this.f4=t.f4),void 0===this.j4&&(this.j4=t.F0),e&&this.Y4(t.a4)},n.Y4=function(t){this.W4.length>t.length&&(this.W4.length=t.length);for(var n=0,i=0;i<t.length;i++){var e=t[i],r=this.H4&&i===t.length-1,u=this.Lp+n;if(i<this.W4.length)this.W4[i].X4(u,r);else{var s=new EU(this,i,u,r,e);this.W4.push(s)}n+=e.Am}this.q4=n},n.t5=function(){Pc(this.W4),this.q4=0},pe(t,[{key:"kp",get:function(){var t;return this.Lp+(null!=(t=this.n5)?t:0)}},{key:"i5",get:function(){return this.Lp}},{key:"Am",get:function(){return this.Mc}},{key:"F0",get:function(){return this.j4}},{key:"e5",get:function(){return this.G4}},{key:"V4",get:function(){return this.H4}},{key:"a4",get:function(){return this.W4}},{key:"r5",get:function(){return this.q4}},{key:"bp",get:function(){var t;return this.kp+(null!=(t=this.Mc)?t:this.q4)}},{key:"z4",get:function(){return this.n5},set:function(t){this.n5=t;for(var n=0,i=this.W4;n<i.length;n++){i[n].z4=t}}}]),t}();me(),zt(),(SU=TU||(TU={})).u5="YES",SU.s5="v2",me(),zt();var RU=function(t){function n(){return t.apply(this,arguments)}return ze(n,t),n}(pu);me(),zt(),me(),zt(),Ae(),me(),zt();var CU=function(t){function n(n,i){var e,r=NU(i,n.Am,n.qN,n.J2);return(e=t.call(this,i,r,void 0,!1,n.eg)||this).o5=n.K2,e.a5=n.qN,e.c5=n.J2,e.Mc=n.Am,e.h5=n.t3,e.f5=Boolean(n.Z2),e.v5=n.n3||{},e.d5=n.e3,e.l5=n.u3,e.w5=n.s3,e._5(),e.g5(),e}ze(n,t);var i=n.prototype;return i.gf=function(t){var n=!1;void 0===this.o5&&void 0!==t.K2&&(n=!0,this.o5=t.K2),void 0===this.c5&&void 0!==t.J2&&(n=!0,this.c5=t.J2),void 0===this.Mc&&void 0!==t.Am&&(n=!0,this.Mc=t.Am),void 0===this.h5&&void 0!==t.t3&&(n=!0,this.h5=t.t3),!this.f5&&t.Z2&&(n=!0,this.f5=t.Z2),n=this.updateCustomAttributes(t,n),void 0===this.d5&&void 0!==t.e3&&(n=!0,this.d5=t.e3),void 0===this.l5&&void 0!==t.u3&&(n=!0,this.l5=t.u3),void 0===this.w5&&void 0!==t.s3&&(n=!0,this.w5=t.s3),this._5(),this.g5(),this.m5(),n&&this.Ho(new MA(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.n3)for(var e=0,r=v.keys(t.n3);e<r.length;e++){var u=r[e];void 0===this.v5[u]&&(i=!0,this.v5[u]=t.n3[u])}return i},i._5=function(){this.Mc&&!this.c5&&(this.c5=new Date(this.a5.getTime()+hu(this.Mc)))},i.g5=function(){this.c5&&!this.Mc&&(this.Mc=cu(this.c5.getTime()-this.a5.getTime()))},i.m5=function(){this.Mp===1/0&&(this.c5||this.Mc)&&(this.Mp=NU(this.Lp,this.Mc,this.a5,this.c5))},pe(n,[{key:"d_",get:function(){var t;return this.v_||(this.v_=Vm(OA(t=this),{get content(){return t.Tp},get class(){return t.K2},get startDate(){return t.qN},get endDate(){return t.J2},get duration(){return t.Am},get plannedDuration(){return t.t3},get endOnNext(){return t.Z2},get scte35Cmd(){return t.e3},get scte35Out(){return t.u3},get scte35In(){return t.s3},get customAttributes(){return t.n3}})),this.v_}},{key:"K2",get:function(){return this.o5}},{key:"qN",get:function(){return this.a5}},{key:"J2",get:function(){return this.c5}},{key:"Am",get:function(){return this.Mc}},{key:"t3",get:function(){return this.h5}},{key:"Z2",get:function(){return this.f5}},{key:"e3",get:function(){return this.d5}},{key:"u3",get:function(){return this.l5}},{key:"s3",get:function(){return this.w5}},{key:"n3",get:function(){return this.v5}}]),n}(XA);function NU(t,n,i,e){return er(n)?t+n:e?t+(cu(e.getTime())-cu(i.getTime())):1/0}var DU=function(t){function n(){return t.call(this,void 0,void 0,AA.DATE_RANGE)}ze(n,t);var i=n.prototype;return i.gf=function(t,n){PU(this,BU(t),n)},i.lI=function(n){var i,e,r;i=this.Pg.z_,e=n,(r=Ic(i,(function(t){return t.K2===e.K2})))&&r.Z2&&r.gf({eg:r.eg,J2:e.qN}),t.prototype.lI.call(this,n)},n}(EO);function PU(t,n,i){for(var e=function(i){var e=r[i],u=Ec(n,(function(t){return t.eg===e.eg}));u?e.gf(u):t.$E(e)},r=t.Pg.z_,u=r.length-1;u>=0;u--)e(u);for(var s=0;s<n.length;s++){var o=n[s],a=o.qN;if(void 0!==a&&!t.Kq(o.eg)){var c=i(a);t.lI(new CU(o,c))}}}function BU(t){for(var n=Aa(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.eg)){var u=n.get(r.eg),s=ga({},u,jm(r),{n3:ga({},u.n3,r.n3)});n.set(r.eg,s)}else n.set(r.eg,r),i.push(r.eg)}return i.map((function(t){return n.get(t)}))}function OU(t,n,i){var e=n.length;if(0===e)return-1;for(var r=0,u=e-1,s=t.y5(n[r]),o=t.p5(n[u]);r<=u&&t.A5(s,i)<=0&&t.A5(i,o)<0;){var a=r+d.floor(t.k5(i,s,o)*(u-r)),c=n[a],h=t.y5(c),f=a+1<e?t.y5(n[a+1]):t.p5(c);if(t.A5(f,i)<=0)r=a+1,s=f;else{if(!(t.A5(i,h)<0))return a;u=a-1,o=h}}return-1}me(),zt();var xU=String.fromCharCode(95),LU=xU+"HLS_msn",MU=xU+"HLS_part",FU=xU+"HLS_skip",UU="HLSMediaPlaylist",HU=function(){function t(t,n){this.b5=void 0,this.T5=void 0,this.S5=void 0,this.E5=void 0,this.I5=void 0,this.R5=void 0,this.C5=void 0,this.N5=[],this.D5=[],this.P5=!1,this.B5=void 0,this.O5=!1,this.x5=yF.Al,this.oq=TI.hP(),this.L5=TI.hP(),this.Mc=void 0,this.M5=-1/0,this.F5=void 0,this.F0=t,this.GE=n}var n=t.prototype;return n._1=function(t){if(!t)return this.F0;var n=De.Ss(this.F0);return void 0!==t.W3&&n.searchParams.append(LU,String(t.W3)),void 0!==t.U5&&n.searchParams.append(MU,String(t.U5)),void 0!==t.jb&&n.searchParams.append(FU,t.jb),n.href},n.H5=function(t){var n=this.N5;if(0!==n.length){var i=t-n[0].W3;if(!(i<0||i>=n.length))return n[i]}},n.X5=function(t){if(0!==this.N5.length){var n=OU(XU.Ze,this.N5,t);if(!(n<0)){var i=this.N5[n];return t===i.bp&&n+1<this.N5.length?this.N5[n+1]:i}var e=this.N5[this.N5.length-1];return t===e.bp?e:void 0}},n.z5=function(t){if(0!==this.N5.length){var n=this.N5[0];if(t<n.bp)return n;var i=this.N5[this.N5.length-1];return t>=i.kp?i:this.X5(t)}},n.D4=function(t){var n=this.V5();if(void 0!==n)return new Date(1e3*t+n)},n.P4=function(t){var n=this.V5();if(void 0!==n)return(t.getTime()-n)/1e3},n.V5=function(){for(var t=this.Y2,n=t.length-1;n>=0;n--){var i=t[n];if(void 0!==i.f4)return i.f4.getTime()-1e3*i.kp}},n.W5=function(t){switch(t){case wF.j3:return this.T5;case wF.Y3:return this.S5;default:return}},n.X4=function(t){var n;void 0===this.E5&&(this.E5=null!=(n=t.A4)?n:this.q5(t));void 0===this.R5&&void 0!==t.F3&&(this.R5=t.F3),void 0===this.I5&&void 0!==t.M2&&(this.I5=t.M2),void 0===this.C5&&void 0!==t.U3&&(this.C5=t.U3),this.P5=t.x3,this.B5=t.L3,this.O5=t.M3,this.x5=t.g4,this.G5(t),this.j5(t);var i=Ec(t.m4,(function(t){return t.Gs===wF.j3})),e=Ec(t.m4,(function(t){return t.Gs===wF.Y3}));this.T5=i?{F0:i.F0,Gs:i.Gs,d4:t.d4}:void 0,this.S5=e?{F0:e.F0,Gs:e.Gs,d4:t.d4}:void 0,this.b5=De.Ku()/1e3,this.L5=this.Y5(),this.oq=this.Q5(this.L5),this.Mc=this.Z5(),null!=this.GE||(this.GE=t.SD)},n.Y5=function(){var t=this.Y2;if(0===t.length)return TI.hP();var n=t[0].kp,i=t[t.length-1].bp;return new TI([n,i])},n.Q5=function(t){if(0===t.V_||this.w4)return t;var n,i,e=t.SD(0),r=t.RD(0)-(null!=(i=null!=(n=this.U3)?n:this.F3)?i:0);return r<e?TI.aP(e):new TI([e,r])},n.Z5=function(){return 0===this.N5.length?0:this.w4?(n=this.N5,i=function(n){return null!=(t=n.Am)?t:n.r5},n.reduce((function(t,n){return t+i(n)}),0)):1/0;var t,n,i},n.q5=function(t){for(var n,i=0,e=t.Y2;i<e.length;i++){var r=e[i];if(void 0!==r.Am){var u=d.max(1,d.round(r.Am));(void 0===n||n<u)&&(n=u)}}if(void 0===n)throw new h("HLSModel - Could not determine required segment target duration.");return n},n.G5=function(t){if(0===t.Y2.length)return Pc(this.N5),void this.K5();var n=this.J5(t);if(n){var i,e,r;n.t6>0&&this.N5.splice(0,n.t6);var u=t.z3;if(u>0){if(u>this.N5.length)throw new RU("New playlist skips over missing segments.");var s=this.N5[u-1];if(void 0===s.Am)throw new RU("New playlist skips over an incomplete segment.");i=s.i5+s.Am,r=s.d4-t.d4,e=u;for(var o=0;o<u;o++)this.N5[o].t5()}else i=n.n6,r=0,e=0;for(var a=0;a<t.Y2.length;a++,e++){var c=t.Y2[a],h=0===a,f=t.w4&&a===t.Y2.length-1,v=c.Am,d=c.d4+r;if(e<this.N5.length){var l=this.N5[e];0,l.X4(c,h,f)}else{var w=c;if(this.N5.length>0&&void 0===w.h4)w=ga({},w,{h4:this.N5[this.N5.length-1].h4});var _=new IU(i,d,h,f,w);_.z4=this.n5,this.N5.push(_)}void 0!==v&&(i+=v)}}},n.J5=function(t){if(0===this.N5.length)return{t6:0,n6:0};var n=this.N5[0].W3,i=this.N5[this.N5.length-1].W3,e=t.Y2[0].W3-t.z3,r=t.Y2[t.Y2.length-1].W3,u=0,s=0;if(e<n)zM.D1(UU,"Ignoring older playlist (first media sequence number is "+e+", but previous playlist already started at "+n+")");else{if(!(r<i)){if(i<e){var o;s=null!=(o=function(t,n){var i=Ic(t,(function(t){return void 0!==t.f4}));if(void 0===i)return;var e=function(t){for(var n=0,i=0;i<t.length;i++){var e,r=t[i];if(r.c4)return;if(r.f4)return[r,n];n+=null!=(e=r.Am)?e:0}return}(n.Y2);if(void 0===e)return;var r=ya(e,2),u=r[0],s=r[1];if(i.d4!==u.d4)return;var o=(u.f4.getTime()-i.f4.getTime())/1e3;return i.i5+o-s}(this.N5,t))?o:(c=this.N5,h=this.E5,v=c[c.length-1],l=null!=(f=v.Am)?f:d.max(h,v.r5),v.i5+l),zM.N1(UU,"New playlist (starting at "+e+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+s+"s"),u=this.N5.length,this.K5()}else{0;var a=Rc(this.N5,(function(t){return t.W3===e}));0,s=this.N5[a].i5,a>0&&(u=a)}var c,h,f,v,l;return{t6:u,n6:s}}zM.D1(UU,"Ignoring older playlist (last media sequence number is "+r+", but previous playlist already ended at "+i+")")}},n.j5=function(t){var n=t.l4.map(CF);if(t.M3&&t.b4.jb===TU.s5&&(n=this.D5.concat(n)),this.D5=BU(n),t.V3)for(var i=this,e=function(t,n){var e=n[t],r=Rc(i.D5,(function(t){return t.eg===e}));r>=0&&Nc(i.D5,r)},r=0,u=t.V3;r<u.length;r++)e(r,u)},n.i6=function(t,n){if(this.n5!==t){this.n5=t;for(var i=0,e=this.N5;i<e.length;i++){e[i].z4=this.n5}}this.F5=n},n.K5=function(){this.n5=void 0,this.F5=void 0},pe(t,[{key:"w4",get:function(){return Boolean(Ec(this.N5,(function(t){return t.V4})))}},{key:"Am",get:function(){return this.Mc}},{key:"$y",get:function(){return this.oq}},{key:"e6",get:function(){return this.L5}},{key:"F2",get:function(){return this.E5}},{key:"M2",get:function(){return this.I5}},{key:"F3",get:function(){return this.w4?0:this.R5?this.R5:this.E5?3*this.E5:void 0}},{key:"U3",get:function(){var t;return null!=(t=this.C5)?t:this.I5?3*this.I5:void 0}},{key:"r6",get:function(){if(!this.w4&&0!==this.N5.length){var t,n,i=this.N5[this.N5.length-1],e=null!=(n=null!=(t=this.U3)?t:this.F3)?n:0;return i.bp-e}}},{key:"x3",get:function(){return this.P5}},{key:"L3",get:function(){return this.B5}},{key:"M3",get:function(){return this.O5}},{key:"g4",get:function(){return this.x5}},{key:"u6",get:function(){return void 0!==this.M2}},{key:"s6",get:function(){if(this.w4)return!0;var t=De.Ku()/1e3,n=this.x4,i=this.o6;return void 0!==n&&t-n<i}},{key:"x4",get:function(){return this.b5}},{key:"z4",get:function(){return this.n5}},{key:"o6",get:function(){var t;return null!=(t=this.E5)?t:void 0===this.b5?5:1}},{key:"Y2",get:function(){return this.N5}},{key:"l4",get:function(){return this.D5}},{key:"a6",get:function(){return this.M5},set:function(t){this.M5=t}},{key:"SD",get:function(){return this.GE}},{key:"c6",get:function(){return this.F5}}]),t}(),XU=function(){function t(){}var n=t.prototype;return n.y5=function(t){return t.kp},n.p5=function(t){return t.bp},n.A5=function(t,n){return bc(t,n)},n.k5=function(t,n,i){return(t-n)/(i-n)},pe(t,null,[{key:"Ze",get:function(){return null!=this.h6||(this.h6=new t),this.h6}}]),t}();function zU(t){return void 0!==t.a4}function VU(t){return zU(t)?t.e5:0===t.U4&&t.F4.e5}function WU(t,n){return zU(t)?zU(n)?t.W3+1===n.W3:0===n.U4&&WU(t,n.F4):t.U4===t.F4.a4.length-1?WU(t.F4,n):!zU(n)&&t.F4===n.F4&&t.U4+1===n.U4}me(),zt(),me(),zt();var qU=function(){function t(){this.f6=[],this.v6=ka()}var n=t.prototype;return n.d6=function(t){var n=this.v6.get(t);return void 0!==n&&GU(n)},n.l6=function(t){return this._6(t).w6.Fa},n.g6=function(t){var n=this.v6.get(t);if(!n||!GU(n))throw new h("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.m6=function(t){return this.g6(t).Rk},n.y6=function(t,n){var i=zU(n)?n:n.F4,e=this.g6(i.d4),r=t.ep(e.Rk);if(e.p6){var u=ak.wk(n.kp).aA(r);if(u.uA().Jp(dk)){var s=d.round(u.Kp()/vk.Kp());r=r.ep(vk.CA(s))}}return r},n.A6=function(t,n){return this.y6(t,n).aA(t)},n.k6=function(t,n,i,e,r){var u=this._6(t);void 0===u.Rk&&(u.b6.some((function(t){return t.T6===n}))||(u.b6.push({T6:n,S6:i,E6:e.WA(i.VA),p6:r}),this.I6(u)))},n.I6=function(t){if(!t.Rk&&this.R6(t)){var n=Mc(t.b6,jU);Pc(t.b6),t.Rk=n.E6.aA(n.S6),t.p6=n.p6,t.w6.Ua()}},n.R6=function(t){return this.f6.length>0&&this.f6.every((function(n){return t.b6.some((function(t){return t.T6===n}))}))},n._6=function(t){if(this.v6.has(t))return this.v6.get(t);var n={Rk:void 0,p6:!1,w6:new Mf,b6:[]};return this.v6.set(t,n),n},n.C6=function(t){var n=this;this.f6=t,this.v6.forEach((function(t){return n.I6(t)}))},n.Io=function(){this.v6.forEach((function(t){return t.w6.Bo()})),this.v6.clear()},t}();function GU(t){return void 0!==t.Rk}function jU(t,n){return t.p6||n.p6?(i=t.S6,e=n.S6,r=i.aA(e),i.hA()||e.hA()||(r.tA(dk)?r=r.aA(vk):r.rA(dk.oA())&&(r=r.ep(vk))),r).$p(ak.DA):t.S6.$p(n.S6);var i,e,r}var YU=function(){function t(t){this.N6=t,this.D6=[],this.P6=[],this.B6=Aa(),this.O6=new qU}var n=t.prototype;return n.X4=function(t,n){if(SF(t))if(0===this.D6.length)this.x6(t);else{if(!n)return void zM.D1("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.D0.X4(t)}else{if(0!==this.D6.length)return void zM.D1("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.L6(t)}},n.x6=function(t){var n=this.M6(t.F0);n.X4(t);var i=this.F6(dF.xl,n),e=this.F6(dF.Ll,n),r=new AU({F0:n.F0,NC:0,f0:0,H2:NaN,h0:void 0,T1:void 0,v0:0,b3:[],E3:void 0,C3:void 0,T3:void 0,R3:void 0,I3:void 0,S3:void 0},n,[i,e]);this.D6.push(r)},n.L6=function(t){var n,i=this,e=function(n,e){var u=e[n],s=r.filter((function(t){return function(t,n){return QU(t.Gs,t.x0,n)&&(!t.M0||t.D0.F0===n.F0)}(t,u)}));i.U6(u,s);var o=new AU(u,i.M6(u.F0,t.SD),s);i.D6.push(o)};(n=this.P6).push.apply(n,Ce(t.u4));for(var r=this.H6(t),u=0,s=t.s4;u<s.length;u++)e(u,s)},n.M6=function(t,n){var i=this.B6.get(t);return void 0===i&&(i=new HU(t,n),this.B6.set(t,i)),i},n.H6=function(t){for(var n=[],i=0,e=t.xT;i<e.length;i++){var r=e[i];if(void 0===r.F0)for(var u=0,s=t.s4;u<s.length;u++){var o=s[u];if(QU(r.Gs,r.x0,o)){var a=new gM(r,this.M6(o.F0));n.push(a)}}else{var c=new gM(r,this.M6(r.F0));n.push(c)}}return n},n.F6=function(t,n){return new gM({Gs:t,F0:void 0,x0:"",hg:void 0,y3:void 0,Sr:"",P0:!0,B0:!1,O0:!1,U0:void 0,L0:void 0,A3:void 0},n)},n.U6=function(t,n){var i=n.filter((function(t){return t.Gs===dF.xl})),e=n.filter((function(t){return t.Gs===dF.Ll})),r=t.h0&&(t.h0.b1||t.h0.g1);if((!r||t.h0.b1)&&0===e.length){var u=this.F6(dF.Ll,this.M6(t.F0));n.push(u)}if((!r||t.h0.g1)&&0===i.length){var s=this.F6(dF.xl,this.M6(t.F0));n.push(s)}t.h0&&t.h0.X2},n.X6=function(t){for(var n=0,i=this.D6;n<i.length;n++)for(var e=0,r=i[n].V1;e<r.length;e++){var u=r[e];if(u===t)return u}},n.z6=function(t){for(var n=0,i=this.D6;n<i.length;n++){var e=i[n];if(e===t)return e}},n.V6=function(t){for(var n=0,i=this.D6;n<i.length;n++){var e=i[n];if(Dc(e.V1,t))return e}},n.Io=function(){Pc(this.D6),Pc(this.P6),this.B6.clear(),this.O6.Io()},pe(t,[{key:"W6",get:function(){return this.P6}},{key:"F1",get:function(){return this.D6}},{key:"HE",get:function(){return this.O6}}]),t}();function QU(t,n,i){switch(t){case dF.xl:return i.T3===n;case dF.Ll:return i.R3===n;case dF.Pb:return i.I3===n;case dF.m3:return i.S3===n}return!1}me(),zt();var ZU=function(t){function n(n){var i;return(i=t.call(this,JU.q6)||this).i1=n,i}return ze(n,t),n}(fh);me(),zt();var KU=function(t){function n(n){var i;return(i=t.call(this,JU.G6)||this).i1=n,i}return ze(n,t),n}(fh);me(),zt();var JU,$U,tH=function(t){function n(){return t.call(this,qw.hd)}return ze(n,t),n}(fh),nH="HlsModelUpdater";($U=JU||(JU={})).q6="j6",$U.G6="Y6";var iH=function(t){function n(n,i,e,r){var u;return(u=t.call(this)||this).hI=n,u.Q6=i,u.Z6=e,u.rootURI=r,u.K6=!1,u.J6=void 0,u.t8=void 0,u.n8=ka(),u.i8=new YU(r),u}ze(n,t);var i=n.prototype;return i.e8=function(t){var n=this;return _a((function(){var i,e;return ma(this,(function(r){switch(r.label){case 0:if(!(i=n.i8.N6))throw new h("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");return n.Ho(new TD),[4,n.r8(i,{},2,t)];case 1:if(!TF(e=r.sent())&&!SF(e))throw new h("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");return TF(e)||zM.jT(nH,"Detected media playlist only HLS stream."),n.u8(e),[4,n.s8(t)];case 2:return r.sent(),n.K6=!0,[2]}}))}))()},i.o8=function(t,n,i,e){var r=this;return _a((function(){var u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:if(!(u=r.i8.X6(t)))throw new h("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");s={W3:n,U5:i,jb:sH(u)},o=hu(d.max(1,3*t.D0.o6)),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,r.a8(u,s,e,o)];case 2:return c.sent(),[3,4];case 3:throw Yc(a=c.sent()),r.c8(u),a;case 4:return[2]}}))}))()},i.h8=function(t,n){var i=this.i8.X6(t);if(!i)throw new h("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var e={W3:void 0,U5:void 0,jb:sH(i)},r=hu(d.max(1,3*t.D0.o6));return this.a8(i,e,n,r)},i.f8=function(t,n){return this.n8.has(t.rg)||this.n8.set(t.rg,new Mf),Zc(this.n8.get(t.rg).Fa,n)},i.c8=function(t){this.Ho(new KU(t))},i.a8=function(t,n,i,e){var r=this;return _a((function(){var u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:u=t.D0._1(n),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,r.r8(u,n,0,i,e)];case 2:return s=c.sent(),[3,4];case 3:throw Yc(o=c.sent()),t.D0.a6=De.Ku(),o;case 4:if(!SF(s))throw new h("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");try{r.u8(s,t)}catch(u){if(u instanceof RU&&void 0!==n.jb)return a=ga({},n,{jb:void 0}),[2,r.a8(t,a,i,e)];throw u}if(!r.J6||t===r.J6||r.J6.D0.s6)return[3,8];c.label=5;case 5:return c.trys.push([5,7,,8]),[4,r.h8(r.J6,i)];case 6:return c.sent(),[3,8];case 7:return Yc(c.sent()),r.J6=t,r.v8(),[3,8];case 8:return r.d8(t),[2]}}))}))()},i.r8=function(t,n,i,e,r){var u=this;return _a((function(){var s,o,a;return ma(this,(function(c){switch(c.label){case 0:zM.jT(nH,"Loading HLS playlist at "+t+"."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,u.Q6.l8([t])];case 2:return s=c.sent(),jc(e),void 0!==s?[2,pU(s.responseURL,{},s.data)]:[3,4];case 3:return Yc(c.sent()),[3,4];case 4:return o={_l:t,fl:jw.dr,Vl:u.Z6,Fl:k_.GET,Gs:T_.bl,Lo:e,Ul:r},[4,kp((function(){return u.w8(o)}),e,i)];case 5:return[2,pU((a=c.sent()).wl,n,a.jr)]}}))}))()},i.w8=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return[4,n.hI.ll(t)];case 1:return[4,(i=e.sent()).zd()];case 2:return[2,{jr:e.sent(),wl:i.wl}]}}))}))()},i.s8=function(t){var n=this;return _a((function(){var i,e,r,u,s,o,a,c;return ma(this,(function(h){switch(h.label){case 0:jc(t),i=[],e=0,r=n.i8.F1,h.label=1;case 1:if(!(e<r.length))return[3,8];u=r[e],s=0,o=u.V1,h.label=2;case 2:if(!(s<o.length))return[3,7];a=o[s],h.label=3;case 3:return h.trys.push([3,5,,6]),[4,n.Q6.l8([a.D0.F0])];case 4:return c=h.sent(),jc(t),void 0===c||a.D0.s6||i.push(n.h8(a,t)),[3,6];case 5:return Yc(h.sent()),[3,6];case 6:return s++,[3,2];case 7:return e++,[3,1];case 8:return[4,j.all(i)];case 9:return h.sent(),[2]}}))}))()},i.v8=function(){for(var t=0,n=this.i8.F1;t<n.length;t++)for(var i=0,e=n[t].V1;i<e.length;i++){var r=e[i];r!==this.J6&&(void 0!==r.D0.z4&&(r.D0.s6?this.d8(r):r.D0.K5()))}},i.d8=function(t){if(0!==t.D0.Y2.length){if(!this.J6)return this.J6=t,void this.J6.D0.i6(0,void 0);if(this._8(this.J6),!this._8(t)&&void 0===t.D0.z4){var n=this.g8(t,this.J6);zM.N1(nH,"Assuming global timeline offset of "+n+"s for rendition "+t.D0.F0+"."),t.D0.i6(n,void 0)}}},i.g8=function(t,n){if(eH(t)){var i=t.D0.Y2[0],e=n.D0.Y2[0];return zM.N1(nH,"Synchronizing by start of VOD: "+e.kp+" vs "+i.kp),e.kp-i.i5}var r=function(t,n){var i=t.length-1,e=n.length-1;for(;i>=0&&e>=0;){var r=t[i],u=n[e];if(r.d4>u.d4)i--;else if(r.d4<u.d4)e--;else if(r.c4){if(u.c4)return{segment:r,referenceSegment:u};e--}else i--}return}(t.D0.Y2,n.D0.Y2);if(void 0!==r){var u=r.segment,s=r.referenceSegment;return zM.N1(nH,"Synchronizing by start of discontinuity #"+s.d4+": "+s.kp+" vs "+u.kp),s.kp-u.i5}var o=uH(t.D0.Y2);if(void 0!==o){var a=uH(n.D0.Y2);if(void 0!==a)return zM.N1(nH,"Synchronizing by PDT:",a.f4.toISOString()+" vs "+o.f4.getTime()),a.kp-o.i5-(a.f4.getTime()-o.f4.getTime())/1e3}var c,h=rH(n),f=rH(t),v=null!=(c=t.D0.z4)?c:0;return zM.N1(nH,"Synchronizing by last segment:",h+" vs "+f),h-f+v},i._8=function(t){var n=this.i8.X6(t);if(!n)return!1;if(eH(n))return!1;var i,e,r=(i=n.D0.Y2,e=this.i8.HE,Ic(i,(function(t){return void 0!==t.SJ&&e.d6(t.d4)})));if(void 0===r)return!1;if(n.D0.c6===r.d4)return!0;var u=this.i8.HE.y6(r.SJ,r).Kp()-r.i5;return zM.N1(nH,"Synchronize by media timestamp: "+u+"s for rendition "+t.D0.F0+"."),n.D0.i6(u,r.d4),(void 0===this.J6||void 0===this.J6.D0.c6||this.J6.D0.c6<r.d4)&&(this.J6=n),!0},i.u8=function(t,n){var i;(this.i8.X4(t,n),SF(t)&&n)&&(this.t8=n,this.Ho(new ZU(n)),null==(i=this.n8.get(n.rg))||i.Ua(),this.n8.delete(n.rg));this.Ho(new tH)},i.m8=function(t,n){for(var i=0,e=this.i8.F1;i<e.length;i++){var r=e[i],u=Ec(r.H1,(function(t){return t.D0===n}));void 0!==u&&void 0===t.b1&&r.B4(u);var s=Ec(r.U1,(function(t){return t.D0===n}));void 0!==s&&void 0===t.g1&&r.B4(s),void 0===u&&void 0===s||(r.h0=(o=r.h0,c=void 0,h=void 0,f=void 0,{g1:null!=(c=(a=t).g1)?c:null==o?void 0:o.g1,b1:null!=(h=a.b1)?h:null==o?void 0:o.b1,X2:null!=(f=a.X2)?f:null==o?void 0:o.X2}))}var o,a,c,h,f},i.Io=function(){this.qo(),this.i8.Io(),this.n8.forEach((function(t){return t.Bo()})),this.n8.clear()},pe(n,[{key:"y8",get:function(){return this.K6}},{key:"M1",get:function(){return this.i8}},{key:"p8",get:function(){return this.t8}}]),n}(oh);function eH(t){return t.D0.w4||t.D0.g4===yF.G3}function rH(t){var n=t.D0.Y2;return n[n.length-1].bp}function uH(t){return Ic(t,(function(t){return void 0!==t.f4}))}function sH(t){if(void 0!==t.D0.L3&&!t.D0.w4&&!(void 0===t.D0.x4||De.Ku()/1e3-t.D0.x4>=t.D0.L3/2))return t.D0.M3?TU.s5:TU.u5}var oH=function(){function t(t,n,i){var e=this;this.A8=function(t){e.k8.hlsDateRange&&e.j5(t.i1)},this.k8=t,this.b8=n,this._N=i,this.T8=new Ub,this.b8.zo(JU.q6,this.A8)}return t.prototype.j5=function(t){if(0!==t.D0.l4.length){var n;this.S8||(this.S8=this._N.vI(Mb.Ob,void 0,void 0,void 0,void 0,AA.DATE_RANGE),this.T8.U_(this.S8));PU(this.S8,t.D0.l4,(function(i){return null!=(n=t.D0.P4(i))?n:NaN}))}},pe(t,[{key:"vy",get:function(){return this.T8}}]),t}();me(),zt();var aH=function(t){function n(){return t.call(this,dM.T0)}return ze(n,t),n}(fh);me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),Ae(),me(),zt();var cH=function(){function t(t){this.E8=t,this.N5=[],this.RV=void 0,this.I8=void 0}var n=t.prototype;return n.C8=function(t){var n;return null==(n=this.N8(t))?void 0:n.i1},n.D8=function(t){this.RV=t,this.P8()},n.B8=function(t,n,i,e,r,u){this.N5.push({i1:t,O8:n,x8:TI.cP(r,u),L8:TI.cP(i,e)}),this.P8()},n.N8=function(t){return Ec(this.N5,(function(n){return n.L8.XN(t)}))},n.H5=function(t){return Ec(this.N5,(function(n){return n.O8===t}))},n.M8=function(t,n){return Ec(this.N5,(function(i){return i.i1===t&&WU(i.O8,n)}))},n.aW=function(){var t=this.Uy;t.V_>0&&(this.I8=t.RD(t.V_-1))},n.P8=function(){var t=this.E8.Uy;this.N5=this.N5.filter((function(n){return 0!==t.UD(n.L8).V_}))},pe(t,[{key:"F8",get:function(){return this.RV}},{key:"Uy",get:function(){return t=this.E8.Uy,n=this.E8.pW,i=n.tP((function(n,i){return t.KD(n,i,!1,!1)})),t.qD(i);var t,n,i}},{key:"Y2",get:function(){return this.N5}},{key:"U8",get:function(){return this.I8}}]),t}(),hH=function(){function t(t,n,i,e,r){var u=this;this.H8=void 0,this.wv=new Wc,this.X8=TI.hP(),this.z8=function(t){u.H8&&(t?DN(t)&&u.V8?u.W8.AM(u.E8.Uy.uP)?u.H8.Ua():u.H8.Ha(t):Gc(t)?u.H8.Ua():u.H8.Ha(t):u.H8.Ua(),u.H8=void 0)},this.Qr=t,this.q8=i,this.E8=n,this.G8=e,this.W8=r}var n=t.prototype;return n.j8=function(){if(this.Y8)throw new h("Cannot perform new operation while BufferAppender is still busy")},n.Q8=function(t){this.E8!==t&&(this.j8(),this.E8=t,this.G8=new cH(t))},n.Z8=function(){return this.H8?this.H8.Fa:j.resolve()},n.K8=function(t){var n,i=this.G8.U8,e=this.G8.Uy;if(void 0===i)return!1;var r,u=d.min(t,i);return null!=(r=null==(n=e.OD().jD(this.J8).rP(u))?void 0:n.XN(i))&&r},n.t7=function(t){return this.G8.C8(t)},n.Bo=function(){this.wv.Bo(),this.wv=new Wc},n.zV=function(t){var n=this;this.j8(),this.H8=new Mf;var i=function(i){n.q8.n7(t),n.z8(i)};this.VV(t,this.wv.Lo).then(i,i)},n.VV=function(t,n){var i=this;return _a((function(){return ma(this,(function(e){switch(e.label){case 0:return zM.N1(qM,"Appending initializer",EF(t.i7.F0)),[4,i.E8.zV(t,n)];case 1:return e.sent(),zM.N1(qM,"Appended initializer",EF(t.i7.F0)),i.G8.D8(t),[2]}}))}))()},n.e7=function(t){var n=this;this.j8(),this.H8=new Mf;var i=function(i){n.q8.n7(t),n.z8(i)};this.r7(t,this.wv.Lo).then(i,i)},n.r7=function(t,n){var i=this;return _a((function(){var e,r,u,s,o,a,c,f,v,d,l,w,_;return ma(this,(function(g){switch(g.label){case 0:if(void 0===(e=t.i1).D0.F2)throw new h("MediaBufferWrapper - Cannot append HLSAsset to "+i.Qr+" MediaBuffer for a HLSRendition with an undefined targetDuration.");return r=i.G8.Uy.ND,u=i.E8.Uy,zM.N1(qM,"Appending",EF(t.i7.F0)),[4,i.E8.UV(t,n)];case 1:return g.sent(),zM.N1(qM,"Appended",EF(t.i7.F0),r,i.G8.Uy.ND),s=t.kp,o=s+t.Am,a=t.i7,c=a.kp,v=a.kp+(null!=(f=a.Am)?f:0),i.G8.B8(e,a,s,o,c,v),d=i.E8.Uy.jD(u),(l=i.G8.M8(e,a))?i.u7(l)?0===d.V_?void 0===i.G8.H5(a)&&(w=i.E8.pW.UD(new TI([s,o])),i.X8=i.X8.qD(w)):(i.X8=i.X8.jD(new TI([d.SD(0),o])),d.SD(0)>s&&(i.X8=i.X8.qD(new TI([s,d.SD(0)])))):i.X8=i.X8.jD(new TI([s,o])):0===d.V_?(_=i.E8.pW.UD(new TI([s,o])),i.X8=i.X8.qD(_)):d.SD(0)>s&&(i.X8=i.X8.qD(new TI([s,d.SD(0)]))),t.i7.V4&&i.G8.aW(),[2]}}))}))()},n.u7=function(t){var n=t.L8,i=n.SD(0),e=n.RD(n.V_-1),r=n.ED(0),u=n.CD(n.V_-1);return this.X8.QD(i,e,r,u)},pe(t,[{key:"Gs",get:function(){return this.Qr}},{key:"V8",get:function(){return this.Qr===Tp.xl||this.Qr===Tp.Ll}},{key:"s7",get:function(){return this.G8}},{key:"J8",get:function(){return this.X8}},{key:"Y8",get:function(){return void 0!==this.H8}}]),t}();me(),zt(),Ae(),me(),zt();var fH=function(){function t(t,n,i){this.o7=t,this.hI=n,this.Z6=i,this.a7=void 0}var n=t.prototype;return n.c7=function(t,n,i,e){var r=this;return _a((function(){var u;return ma(this,(function(s){switch(s.label){case 0:return[4,r.h7(n,e)];case 1:return u=s.sent(),[4,r.o7.c7(t,u,i)];case 2:return[2,s.sent()]}}))}))()},n.h7=function(t,n){var i=this;return _a((function(){var e,r,u;return ma(this,(function(s){switch(s.label){case 0:return(null==(e=i.a7)?void 0:e._l)===t?[3,3]:(zM.N1("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),[4,i.hI.ll({_l:t,fl:jw.Od,Fl:k_.GET,Lo:n,Gs:T_.El,Xl:E_.Ol,Vl:i.Z6})]);case 1:return[4,s.sent().Wd()];case 2:r=s.sent(),u=new g(r),i.a7={_l:t,jr:u},s.label=3;case 3:return[2,i.a7.jr]}}))}))()},t}();me(),zt();var vH=function(){function t(t,n,i,e,r){void 0===r&&(r=2),this.hI=t,this.Q6=n,this.f7=i,this.Z6=e,this.v7=r}var n=t.prototype;return n.ll=function(t,n,i,e,r){var u=this;return _a((function(){var s,o;return ma(this,(function(a){switch(a.label){case 0:return[4,u.d7(t,n,i,jw.Od,e,r)];case 1:return[4,(s=a.sent()).Wd(r)];case 2:return o=a.sent(),[2,{httpStatusCode:s.cl,response:new g(o)}]}}))}))()},n.l7=function(t,n,i,e,r){var u=this;return _a((function(){return ma(this,(function(s){switch(s.label){case 0:return[4,u.d7(t,n,i,jw.Ld,e,r)];case 1:return[2,s.sent().qd(r)]}}))}))()},n.d7=function(t,n,i,e,r,u){var s=this;return _a((function(){var o,a,c,h;return ma(this,(function(f){switch(f.label){case 0:t.Q2&&0===(o=bF(t.Q2.SD,t.Q2.V_))[0]&&o[1]===tu&&(o=void 0),a=o?{Range:"bytes="+o[0]+"-"+o[1]}:void 0,c=new D_({_l:t.Rr,fl:e,hl:a,Vl:s.Z6,Fl:k_.GET,Gs:n,Xl:i,zl:s.f7,Wl:r,Lo:u}),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,s.Q6.w7(t.Rr,o)];case 2:return h=f.sent(),jc(u),void 0!==h?(null==r||r(h.buffer.byteLength,h.buffer.byteLength),[2,new N_({ll:c,jr:h.buffer})]):[3,4];case 3:return Yc(f.sent()),[3,4];case 4:return[4,kp((function(){return Zc(s.hI.ll(c),c.Lo)}),u,s.v7)];case 5:return[2,f.sent()]}}))}))()},t}();me(),zt();var dH,lH,wH=function(){function t(t,n){this._7=void 0,this.g7=new Wc,this.MG=-1/0,this.m7=!1,this.b8=t,this.y7=n,this.p7()}var n=t.prototype;return n.A7=function(){return this.y7.D0.x3},n.k7=function(t,n,i){var e=this;return _a((function(){var r;return ma(this,(function(u){switch(u.label){case 0:if(!e.A7())throw new h("Could not perform blocking playlist update.");u.label=1;case 1:return u.trys.push([1,4,,5]),[4,e.b7()];case 2:return u.sent(),jc(i),[4,e.b8.o8(e.y7,t,n,i)];case 3:return u.sent(),e.MG=De.Ku(),[3,5];case 4:throw Gc(r=u.sent())&&e.p7(),r;case 5:return e.p7(),[2]}}))}))()},n.T7=function(t){return this.b8.f8(this.y7,t)},n.p7=function(){var t=this;if(!this._7&&!this.m7){var n=function(){t._7=void 0};this._7=this.S7(this.g7.Lo).then(n,n)}},n.b7=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return t._7?(t.g7.Bo(),t.g7=new Wc,[4,t._7.catch(lr)]):[3,2];case 1:n.sent(),t._7=void 0,n.label=2;case 2:return[2]}}))}))()},n.S7=function(t){var n=this;return _a((function(){var i,e,r;return ma(this,(function(u){switch(u.label){case 0:return n.y7.D0.w4&&n.y7.D0.s6?[2]:(i=De.Ku()-n.MG,e=1e3*n.y7.D0.o6,i<e?[4,rh(e-i,t)]:[3,2]);case 1:u.sent(),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,n.b8.h8(n.y7,t)];case 3:return u.sent(),[3,5];case 4:throw Yc(r=u.sent()),n.b8.c8(n.y7),r;case 5:return n.MG=De.Ku(),[3,0];case 6:return[2]}}))}))()},n.Io=function(){this.m7=!0,nh(this.b7())},t}();me(),zt(),(lH=dH||(dH={}))[lH.j3=0]="j3",lH[lH.Y3=1]="Y3",lH[lH.Tl=2]="Tl",lH[lH.Sl=3]="Sl",me(),zt(),me(),zt(),Ae();var _H="AssetExtractor",gH=function(){function t(){this.E7=[]}var n=t.prototype;return n.I7=function(t,n,i){for(var e=n,r=0,u=this.E7;r<u.length;r++){var s=u[r];if(e>=t)return!0;if(e<s.SD)return!1;if(e<s.RD){if(i<=s.RD)return!0;e=s.RD}}return e>=t},n.R7=function(t,n){for(var i=[],e=0;e<this.E7.length;e+=1){var r=this.E7[e],u=t-r.SD,s=r.jr.length,o=d.min(s,d.max(u,0)),a=d.max(0,n+u),c=Pf(r.jr,o,a);c.length&&(e=this.C7(e,r,t,o,a),i.push(c))}return i},n.N7=function(t,n){this.E7.push({SD:t,RD:t+n.length,jr:n})},n.C7=function(t,n,i,e,r){var u=t;this.E7.splice(u,1),u-=1,n.SD<i&&(u+=1,this.E7.splice(u,0,{SD:n.SD,RD:i,jr:Pf(n.jr,0,e)}));var s=i+r-e;return s<n.RD&&(u+=1,this.E7.splice(u,0,{SD:s,RD:n.RD,jr:Pf(n.jr,r)})),u},t}(),mH=function(){function t(t,n){this.D7=n,this.ct=t.getReader()}var n=t.prototype;return n.P7=function(){var t=this;return _a((function(){var n;return ma(this,(function(i){switch(i.label){case 0:return[4,t.ct.read()];case 1:if((n=i.sent()).done)throw t.D7=1/0,new h("No more data can be read from the given stream.");return t.D7+=n.value.length,[2,n.value]}}))}))()},n.B7=function(t){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return[4,n.ct.cancel(t)];case 1:return i.sent(),[2]}}))}))()},pe(t,[{key:"O7",get:function(){return this.D7}}]),t}(),yH=function(){function t(t,n,i,e){this.x7=new Mf,this.j4=t,this.ct=n,this.L7=i,this.M7=e,this.F7=new Mf,this.U7=new Mf}var n=t.prototype;return n.H7=function(){this.U7.Ua(),this.U7=new Mf},n.X7=function(t){var n=AH(this.j4.Q2),i=n.z7,e=n.V7,r=this.L7.R7(i,e-i);zM.N1(_H,"Collected "+r.length+" chunks.");for(var u=0;u<r.length;u++){var s=r[u];t.enqueue(s)}},n.readAndSliceOutAssetBytes=function(t){var n=this;return _a((function(){var i,e,r,u,s,o,a,c,h,f,v,l,w;return ma(this,(function(_){switch(_.label){case 0:return[4,n.F7.Fa];case 1:_.sent(),i=AH(n.j4.Q2),e=i.z7,r=i.V7,_.label=2;case 2:_.trys.push([2,11,,12]),_.label=3;case 3:return u=n.ct.O7,[4,n.ct.P7()];case 4:return s=_.sent(),o=s.length,zM.N1(_H,"Read "+o+" at "+u+" for extraction of "+EF(n.j4)),a=d.min(u+o,e),(c=a-u)>0?(h=Pf(s,0,c),f=Pf(s,c),zM.N1(_H,"Of the read "+o+" bytes, the first "+c+" will be stored locally for extraction of "+EF(n.j4)),n.L7.N7(u,h),f.length>0?(zM.N1(_H,"Extracting "+f.length+" bytes for extraction of "+EF(n.j4)),t.enqueue(f),n.H7(),[2,nh(n.readAndSliceOutAssetBytes(t))]):[3,9]):[3,5];case 5:return u+o<=r?(zM.N1(_H,"Extracting the read data range for extraction of "+EF(n.j4)),t.enqueue(s),n.H7(),[2,nh(n.readAndSliceOutAssetBytes(t))]):[3,6];case 6:return l=Pf(s,0,v=r-u),w=Pf(s,v),l.length>0&&(zM.N1(_H,"Extracting "+l.length+" bytes for extraction of "+EF(n.j4)),t.enqueue(l)),zM.N1(_H,"Of the read "+o+" bytes, the last "+w.length+" will be stored locally for extraction of "+EF(n.j4)),n.L7.N7(u+v,w),zM.N1(_H,"Extraction of "+EF(n.j4)+" completed as the entire request has been fulfilled."),n.W7(t),n.M7?(zM.N1(_H,"Aborting stream upstream as no more bytes are needed from "+EF(n.j4)+"."),[4,n.ct.B7("AssetExtraction - AbortOnEnd")]):[3,8];case 7:_.sent(),_.label=8;case 8:return[2];case 9:return[3,3];case 10:return[3,12];case 11:return _.sent(),zM.N1(_H,"Extraction of "+EF(n.j4)+" completed as the entire source stream has been read."),n.W7(t),[3,12];case 12:return[2]}}))}))()},n.W7=function(t){t.close(),this.H7(),this.x7.Ua()},n.start=function(t){zM.N1(_H,"Preparing to push all collected data to controller for extraction of "+EF(this.j4)),this.X7(t),zM.N1(_H,"Collected data pushed to controller for extraction of "+EF(this.j4));var n=AH(this.j4.Q2).V7;this.ct.O7>=n?(zM.N1(_H,"Extraction of "+EF(this.j4)+" completed as the entire request has been fulfilled."),this.W7(t)):(zM.N1(_H,"Continuing read from original stream for extraction of "+EF(this.j4)),nh(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.F7.Ua(),this.F7=new Mf,this.U7.Fa},pe(t,[{key:"q7",get:function(){return this.x7.Fa}}]),t}(),pH=function(){function t(t,n){this.j4=n;var i=AH(this.j4.Q2).z7;this.G7=new mH(t,i),this.L7=new gH}var n=t.prototype;return n.rp=function(t){if(!IF(this.j4,t))return!1;var n=AH(t.Q2),i=n.z7,e=n.V7;return this.L7.I7(this.G7.O7,i,e)},n.j7=function(t,n){void 0===n&&(n=!1);var i=this;return _a((function(){var e,r,u;return ma(this,(function(s){switch(s.label){case 0:return e=i.G7,r=i.L7,zM.jT(_H,"Extracting data from "+EF(t)+" out of "+EF(i.j4)),i.Y7?(zM.N1(_H,"Awaiting previous extraction before extracting "+EF(t)+" out of "+EF(i.j4)),[4,i.Y7]):[3,2];case 1:s.sent(),s.label=2;case 2:if(!i.rp(t))throw new h("The extractor does not contain the data requested");return u=new yH(t,e,r,n),i.Y7=u.q7,[2,new Mt(u)]}}))}))()},t}();function AH(t){if(t){var n=t.SD;return{z7:n,V7:void 0!==t.V_?n+t.V_:tu}}return{z7:0,V7:tu}}var kH=function(){function t(t,n){this.j4=t,this.Q7=n,this.wv=new Wc,this.Z7=this.wf()}var n=t.prototype;return n.wf=function(){var t=this;return _a((function(){var n;return ma(this,(function(i){switch(i.label){case 0:return[4,t.Q7.l7(t.j4,T_.Sl,E_.Al,void 0,t.wv.Lo)];case 1:return n=i.sent(),[2,new pH(n,t.j4)]}}))}))()},n.rp=function(t){return IF(this.j4,t)},n.j7=function(t,n){void 0===n&&(n=!1);var i=this;return _a((function(){return ma(this,(function(e){switch(e.label){case 0:return[4,i.Z7];case 1:return[4,Zc(e.sent().j7(t,n),i.wv.Lo)];case 2:return[2,e.sent()]}}))}))()},n.Bo=function(){this.Z7.catch(lr),this.wv.Bo()},t}();me(),zt();var bH=function(t){function n(n){var i;return(i=t.call(this,EH.K7)||this).zl=n,i}return ze(n,t),n}(fh);me(),zt();var TH=function(t){function n(n,i,e,r,u,s,o){var a;return(a=t.call(this,EH.J7)||this).uri=n,a.t9=i,a.zl=e,a.mediaSequenceNumeber=r,a.mediaTrackId=u,a.n9=s,a.httpStatusCode=o,a}return ze(n,t),n}(fh);function SH(t,n,i){var e=zU(i)?i:i.F4;if(n.d6(e.d4)){if(void 0!==i.SJ)return n.y6(i.SJ,i).Kp();if(i!==e&&void 0!==e.SJ){var r=n.y6(e.SJ,e).Kp();return i.kp+(r-e.kp)}}var u=t.D0.H5(e.W3-1);if(void 0!==u&&n.d6(u.d4)){if(u.a4.length>0){var s=u.Q4(u.a4.length-1);if(void 0!==s.SJ){var o=n.y6(s.SJ,s).Kp();return i.kp+(o-s.kp)}}if(void 0!==u.SJ){var a=n.y6(u.SJ,u).Kp();return i.kp+(a-u.kp)}}var c=t.D0.H5(e.W3+1);if(void 0!==c&&n.d6(c.d4)){if(c.a4.length>0){var h=c.Q4(0);if(void 0!==h.SJ){var f=n.y6(h.SJ,h).Kp();return i.kp+(f-h.kp)}}if(void 0!==c.SJ){var v=n.y6(c.SJ,c).Kp();return i.kp+(v-c.kp)}}return i.kp}me(),zt();var EH,IH,RH="HlsPlaylistDownloader";(IH=EH||(EH={})).K7="segmentdownloadprogress",IH.J7="segmentdownloaded";var CH=function(t){function n(n,i,e,r,u,s,o,a){var c;return(c=t.call(this)||this).i9=void 0,c.e9=void 0,c.r9=void 0,c.u9=0,c.s9=0,c.o9=0,c.a9=new Wc,c.c9=void 0,c.h9=0,c.f9=void 0,c.v9=void 0,c.d9=void 0,c.l9=void 0,c.w9=function(t){c.i9&&(c.y7=c.i9,c.i9=void 0,c.h9=0,c.f9=void 0,c.v9=void 0),c.e9&&(t&&!Gc(t)?c.e9.Ha(t):c.e9.Ua(),c.e9=void 0)},c._9=function(t,n){c.s9=t,t>0&&0===c.u9&&(c.u9=xC()),void 0!==n&&(c.o9=n),c.Ho(new bH(c.Qr))},c.Qr=n,c.b8=e,c.q8=r,c.y7=i,c.g9=new wH(e,i),c.m9=new fH(o,u,a),c.Q7=new vH(u,s,function(t){switch(t){case dF.Ll:return R_.Ll;case dF.xl:return R_.xl;case dF.Pb:case dF.m3:return R_.dr;default:return R_.Al}}(i.Gs),a),c}ze(n,t);var i=n.prototype;return i.y9=function(t){this.g9.Io(),this.g9=new wH(this.b8,t),this.Y8?this.i9=t:(this.y7=t,this.h9=0,this.f9=void 0,this.v9=void 0)},i.Z8=function(){return this.e9?this.e9.Fa:j.resolve()},i.p9=function(){return this.q8.p9()},i.A9=function(t){this.q8.A9(t)},i.Bo=function(){var t,n,i;this.a9.Bo(),this.a9=new Wc,null==(t=this.c9)||t.Bo(),this.c9=void 0,null==(n=this.l9)||n.Bo(),null==(i=this.d9)||i.Bo(),this.l9=void 0,this.d9=void 0,this.h9=0,this.f9=void 0,this.v9=void 0},i.Io=function(){this.g9.Io()},i.k9=function(t){var n=this.y7.D0.X5(t);if(!n)return!1;if(void 0!==this.f9){var i=n.W3===this.f9;return void 0!==this.v9?n.Z4(t)===n.Q4(this.v9)&&i:i}return!1},i.b9=function(t){var n;if(void 0===this.f9||t<this.h9)n=this.T9(t);else if(void 0!==(n=this.S9(this.f9,this.v9))){var i=ya(n,2),e=i[0],r=i[1],u=(null!=r?r:e).kp,s=3*this.y7.D0.F2;d.abs(u-t)>=s&&(n=this.T9(t))}else if(this.y7.D0.w4){if(this.y7.D0.H5(this.f9).V4&&void 0!==(n=this.T9(t))&&n[0].W3===this.f9)return}if(n){this.h9=t;var o=ya(n,2),a=o[0],c=o[1];return 0===(null==c?void 0:c.U4)&&void 0!==a.Am?[a,void 0]:[a,c]}},i.T9=function(t){var n,i,e=this.y7.D0.Y2;if(0!==e.length){var r,u=this.b8.M1.HE,s=ak.wk(t),o=ya(function(t,n,i){var e=t.D0.Y2;if(0===e.length)return[void 0,void 0];var r=t.D0.z5(i.Kp());if(!n.d6(r.d4))return[void 0,void 0];for(var u,s,o,a=r.W3-e[0].W3,c=0,h=a;h>=0;h--){var f=e[h];if(f.d4!==r.d4)break;if(void 0!==f.SJ){u=f,c=h;break}}if(void 0===u){for(var v=a+1;v<e.length;v++){var d=e[v];if(d.d4!==r.d4)break;if(void 0!==d.SJ){u=d,c=v;break}}if(void 0===u)return[void 0,void 0]}if(n.y6(u.SJ,u).iA(i)){s=u;for(var l=c+1;l<e.length;l++){var w=e[l];if(w.d4!==r.d4)break;if(void 0!==w.SJ){if(!n.y6(w.SJ,w).iA(i)){o=w;break}s=w}}}else{o=u;for(var _=c-1;_>=0;_--){var g=e[_];if(g.d4!==r.d4)break;if(void 0!==g.SJ){if(n.y6(g.SJ,g).iA(i)){s=g;break}o=g}}}return[s,o]}(this.y7,u,s),2),a=o[0],c=o[1];if(void 0!==a&&void 0!==c){var h=u.y6(a.SJ,a),f=u.y6(c.SJ,c),v=s.aA(h).Kp()/f.aA(h).Kp()*(c.kp-a.kp);r=a.kp+v}else r=t;var d=e[e.length-1];return d.bp<=r?(n=d,i=d.J4(r)):i=e[0].kp>r?(n=e[0]).Q4(0):null==(n=this.y7.D0.X5(r))?void 0:n.J4(r),n?[n,i]:void 0}},i.S9=function(t,n){var i,e;if((i=this.y7.D0.H5(t))&&void 0!==n){if(0===i.a4.length)return[i,void 0];e=i.Q4(n+1)}return void 0!==i&&void 0!==e||(e=null==(i=this.y7.D0.H5(t+1))?void 0:i.Q4(0)),i?[i,e]:void 0},i.j8=function(){if(this.Y8)throw new h("Cannot perform new operation while PlaylistDownloader is still busy")},i.E9=function(t){this.j8(),this.e9=new Mf,this.I9(t,this.a9.Lo).then(this.w9,this.w9)},i.R9=function(){this.g9.p7()},i.I9=function(t,n){var i=this;return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:return i.y7.D0.w4?[2]:(e=i.b9(t))||!i.g9.A7()||void 0===i.f9?[3,2]:[4,i.g9.k7(void 0===i.v9?i.f9+1:i.f9,void 0!==i.v9?i.v9+1:void 0,n)];case 1:r.sent(),e=i.b9(t),r.label=2;case 2:return e||!i.g9.A7()||void 0===i.f9?[3,4]:[4,i.g9.k7(i.f9+1,0,n)];case 3:r.sent(),e=i.b9(t),r.label=4;case 4:return e?[3,6]:(zM.jT(RH,"No next segment / part available, need to update playlist before continuing."),[4,i.g9.T7(n)]);case 5:return r.sent(),e=i.b9(t),[3,4];case 6:return[2]}}))}))()},i.C9=function(){return this.q8.N9()},i.D9=function(){this.j8();try{var t=this.y7.D0.W5(wF.j3);t&&this.P9(t);var n=this.y7.D0.W5(wF.Y3);n&&this.B9(n)}catch(t){throw Yc(t),this.y7.D0.a6=De.Ku(),this.b8.c8(this.y7),t}},i.P9=function(t){this.d9&&!this.d9.rp(t.F0)&&(this.d9.Bo(),this.d9=void 0),this.d9||(this.d9=new kH(t.F0,this.Q7))},i.B9=function(t){this.l9&&!this.l9.rp(t.F0)&&(this.l9.Bo(),this.l9=void 0),this.l9||(this.l9=new kH(t.F0,this.Q7))},i.O9=function(t,n,i){var e=this;this.j8(),zM.jT(RH,"Starting download of segment "+EF(t.F0)+" and part "+(null==n?void 0:n.U4)),this.e9=new Mf,this.x9(t,n,i,this.a9.Lo).catch((function(t){throw Yc(t),e.y7.D0.a6=De.Ku(),e.b8.c8(e.y7),t})).then(this.w9,this.w9)},i.x9=function(t,n,i,e){var r=this;return _a((function(){var u,s,o,a,c;return ma(this,(function(h){switch(h.label){case 0:return t.h4&&(i&&RF(i.i7.F0,null==(s=t.h4)?void 0:s.F0)&&t.d4===i.d4||(null==(a=r.c9)||a.Bo(),r.c9=new Mf,c=r.L9(t.h4,t,e).then((function(){r.c9=void 0})),r.c9.Oo(c)),u=null==(o=r.c9)?void 0:o.Fa),[4,r.M9(t,n,u,e)];case 1:return h.sent(),[2]}}))}))()},i.L9=function(t,n,i){var e=this;return _a((function(){var r,u;return ma(this,(function(s){switch(s.label){case 0:return[4,e.F9(t,n,i)];case 1:return r=s.sent(),u=r.h4.jr.jr.byteLength,e.q8.U9(r),e.Ho(new TH(r.h4.i7.F0,r.Gs,e.Qr,n.W3,r.i1.rg,u,r.h4.H9)),zM.N1(qM,"Download initializer complete",EF(t.F0)),[2]}}))}))()},i.M9=function(t,n,i,e){var r=this;return _a((function(){var u,s,o;return ma(this,(function(a){switch(a.label){case 0:return[4,r.X9(t,n,e)];case 1:return u=a.sent(),s=u.O8.jr.jr.byteLength,i?[4,Zc(i,e)]:[3,3];case 2:a.sent(),a.label=3;case 3:return r.q8.U9(u),r.Ho(new TH(u.O8.i7.F0,u.Gs,r.Qr,t.W3,u.i1.rg,s,u.O8.H9)),zM.N1(qM,"Download complete",EF(null!=(o=null==n?void 0:n.F0)?o:t.F0)),[2]}}))}))()},i.X9=function(t,n,i){var e=this;return _a((function(){var r,u,s,o;return ma(this,(function(a){switch(a.label){case 0:return n?e.l9?e.l9.rp(n.F0)?[4,e.l9.j7(n.F0)]:[3,4]:[3,5]:[3,8];case 1:return[4,u_(a.sent(),i)];case 2:return u=a.sent(),s=new g(u),[4,e.c7(s,n.u4,i)];case 3:return o=a.sent(),r=PH(n,o,200),[3,5];case 4:e.l9.Bo(),e.l9=void 0,a.label=5;case 5:return r?[3,7]:(zM.N1(qM,"Start download",EF(n.F0)),[4,e.z9(n,i)]);case 6:r=a.sent(),a.label=7;case 7:return[3,10];case 8:return zM.N1(qM,"Start download",EF(t.F0)),[4,e.V9(t,i)];case 9:r=a.sent(),a.label=10;case 10:return e.f9=t.W3,e.v9=null==n?void 0:n.U4,[2,{Gs:"O8",O8:r,i1:e.y7,d4:t.d4}]}}))}))()},i.F9=function(t,n,i){var e=this;return _a((function(){var r,u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:return e.d9?e.d9.rp(t.F0)?[4,Zc(e.d9.j7(t.F0),i)]:[3,4]:[3,5];case 1:return[4,u_(c.sent(),i)];case 2:return s=c.sent(),o=new g(s),[4,e.c7(o,t.o4?[t.o4]:[],i)];case 3:a=c.sent(),r=NH(t,n,a,200),c.label=4;case 4:zM.jT(RH,"MAP is required for segment, downloading MAP data."),null==(u=e.d9)||u.Bo(),e.d9=void 0,c.label=5;case 5:return r?[3,7]:(zM.N1(qM,"Start download",EF(t.F0)),[4,e.W9(t,n,i)]);case 6:r=c.sent(),c.label=7;case 7:return[2,{Gs:"h4",h4:r,i1:e.y7,kp:n.kp,d4:n.d4,u4:n.u4}]}}))}))()},i.W9=function(t,n,i){var e=this;return _a((function(){var r,u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:return[4,e.Q7.ll(t.F0,T_.Tl,E_.Il,void 0,i)];case 1:return r=c.sent(),u=r.response,s=r.httpStatusCode,o=t.o4?[t.o4]:[],[4,e.c7(u,o,i)];case 2:return a=c.sent(),[2,NH(t,n,a,s)]}}))}))()},i.V9=function(t,n){var i=this;return _a((function(){var e,r,u,s;return ma(this,(function(o){switch(o.label){case 0:if(!t.F0)throw new h("Internal error: attempted to download an incomplete segment");o.label=1;case 1:return o.trys.push([1,,3,4]),i.q9(t),[4,i.Q7.ll(t.F0,T_.Tl,E_.Al,i._9,n)];case 2:return u=o.sent(),e=u.response,r=u.httpStatusCode,[3,4];case 3:return i.G9(),[7];case 4:return[4,i.c7(e,t.u4,n)];case 5:return s=o.sent(),[2,DH(t,s,r)]}}))}))()},i.z9=function(t,n){var i=this;return _a((function(){var e,r,u,s;return ma(this,(function(o){switch(o.label){case 0:return o.trys.push([0,,2,3]),i.q9(t),[4,i.Q7.ll(t.F0,T_.Tl,E_.Al,i._9,n)];case 1:return u=o.sent(),e=u.response,r=u.httpStatusCode,[3,3];case 2:return i.G9(),[7];case 3:return[4,i.c7(e,t.u4,n)];case 4:return s=o.sent(),[2,PH(t,s,r)]}}))}))()},i.c7=function(t,n,i){var e=this;return _a((function(){var r;return ma(this,(function(u){switch(u.label){case 0:return(r=Ec(n,(function(t){return t.Fl===gF.N3})))?r.F0&&r.D3?[4,e.m9.c7(t,r.F0,r.D3,i)]:(zM.ua(RH,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),[2,t]):[2,t];case 1:return[2,u.sent()]}}))}))()},i.q9=function(t){var n,i,e;this.r9=t,this.u9=0,this.s9=0,this.o9=null!=(e=null==(n=t.F0)||null==(i=n.Q2)?void 0:i.V_)?e:0},i.G9=function(){this.r9=void 0,this.u9=0,this.s9=0,this.o9=0},i.j9=function(){if(void 0!==this.r9)return{O8:this.r9,Y9:this.s9,Q9:this.o9}},i.Z9=function(t){return void 0!==this.r9&&(0!==this.u9&&(0!==this.o9&&(!(this.s9>=this.o9)&&!(t-this.u9<500))))},pe(n,[{key:"Y8",get:function(){return void 0!==this.e9}},{key:"i1",get:function(){var t;return null!=(t=this.i9)?t:this.y7}},{key:"K9",get:function(){if(!this.y7.D0.w4||void 0===this.f9)return!1;var t=this.y7.D0.H5(this.f9);if(!t.V4)return!1;if(void 0!==this.v9&&!t.Q4(this.v9).V4)return!1;return!0}}]),n}(oh);function NH(t,n,i,e){return{jr:{jr:i,Gs:SD.XU},Gs:dH.j3,H9:e,i7:t,d4:n.d4}}function DH(t,n,i){return{jr:{jr:n,Gs:SD.XU},Gs:dH.Tl,H9:i,i7:t,d4:t.d4}}function PH(t,n,i){return{jr:{jr:n,Gs:SD.XU},H9:i,Gs:dH.Y3,i7:t,d4:t.F4.d4}}me(),zt(),Ae();var BH=function(){function t(t){this.J9=[],this.ttt=Aa(),this.ntt=void 0,this.itt=void 0,this.O6=t}var n=t.prototype;return n.U9=function(t){"h4"===t.Gs&&(this.itt=t.h4),this.J9.push(t),this.ntt&&(this.ntt.Ua(),this.ntt=void 0)},n.p9=function(){return this.J9[0]},n.A9=function(t){Cc(this.J9,t)},n.N9=function(){return null!=this.ntt||(this.ntt=new Mf),this.ntt.Fa},n.ett=function(t){this.utt(t.T6).ett(t)},n.stt=function(t){return this.utt(t).stt()},n.n7=function(t){this.utt(t.T6).n7(t)},n.ott=function(t){var n;null==(n=this.ttt.get(t))||n.Io()},n.att=function(t){return this.utt(t).att()},n.utt=function(t){if(this.ttt.has(t))return this.ttt.get(t);var n=new OH;return this.ttt.set(t,n),n},n.Ra=function(){this.ctt(),this.htt()},n.ctt=function(){this.itt=void 0,Pc(this.J9)},n.htt=function(){this.ttt.forEach((function(t){return t.Ra()}))},n.Io=function(){this.ttt.forEach((function(t){return t.Io()})),this.ttt.clear(),this.Ra(),this.ntt&&(this.ntt.Ha(new qc),this.ntt=void 0)},pe(t,[{key:"F8",get:function(){return this.itt}},{key:"ftt",get:function(){for(var t=[],n=0,i=this.J9;n<i.length;n++){var e=i[n];if("O8"===e.Gs){var r,u=e.O8.i7,s=SH(e.i1,this.O6,u);t.push({O8:u,i1:e.i1,kp:s,bp:s+(null!=(r=u.Am)?r:0)})}}return t}},{key:"dtt",get:function(){var t=[];return this.ttt.forEach((function(n){for(var i=0,e=n.ltt;i<e.length;i++){var r=e[i];"O8"===r.Gs&&t.push({O8:r.i7,i1:r.i1,kp:r.kp,bp:r.kp+r.Am})}})),t}}]),t}(),OH=function(){function t(){this.wtt=[],this._tt=void 0}var n=t.prototype;return n.ett=function(t){this.wtt.push(t),this._tt&&(this._tt.Ua(),this._tt=void 0)},n.stt=function(){return this.wtt[0]},n.n7=function(t){Cc(this.wtt,t)},n.att=function(){return null!=this._tt||(this._tt=new Mf),this._tt.Fa},n.Ra=function(){Pc(this.wtt)},n.Io=function(){this.Ra(),this._tt&&(this._tt.Ha(new qc),this._tt=void 0)},pe(t,[{key:"ltt",get:function(){return this.wtt}}]),t}();me(),zt(),Ae();var xH=function(){function t(t,n){this.gtt=TI.hP(),this.mtt=t,this.O6=n}var n=t.prototype;return n.zV=function(t,n){var i=this;return _a((function(){var e,r,u,s;return ma(this,(function(o){switch(o.label){case 0:return e=t.jr.jr,i.ytt(e),i.mtt.Gs!==AA.TTML?[3,3]:i.O6.d6(t.d4)?[3,2]:[4,Zc(i.O6.l6(t.d4),n)];case 1:o.sent(),o.label=2;case 2:for(r=i.ptt(e,t.d4),u=0;u<r.length;u++)s=r[u],i.mtt.lI(s);o.label=3;case 3:return[2]}}))}))()},n.UV=function(t,n){var i=this;return _a((function(){var e,r;return ma(this,(function(u){switch(u.label){case 0:return void 0===t.jr?[2]:(e=t.kp,r=e+t.Am,i.gtt=i.gtt.qD(new TI([e,r])).WD(1e-6),i.O6.d6(t.d4)?[3,2]:[4,Zc(i.O6.l6(t.d4),n)]);case 1:u.sent(),u.label=2;case 2:return i.XV(t.jr.jr,t.d4,t.i7),[2]}}))}))()},n.XV=function(t,n,i){var e;this.ytt(t),e=this.mtt.Gs===AA.WEBVTT?this.Att(t,i):this.ptt(t,n);for(var r=0;r<e.length;r++){var u=e[r];this.mtt.lI(u)}},n.Att=function(t,n){for(var i,e,r=(void 0===i&&(i=bk),Dk(Sf(Rf(t),new xf),i)),u=r.Pg,s=null!=(e=r.Dk)?e:{Pk:ak.DA,Bk:ak.DA},o=0;o<u.length;o++){var a=u[o],c=ak.wk(a.kp).aA(s.Bk).ep(s.Pk),h=this.O6.y6(c,n).Kp(),f=h+(a.bp-a.kp);a.kp=h,a.bp=f}return u},n.ptt=function(t,n){var i=this.O6.m6(n).Kp();return Tb(t,this.mtt,{Ek:0,Ik:1/0,Rk:i},Yl)},n.ytt=function(t){this.mtt.Gs===AA.DEFAULT&&(this.mtt.Gs=this.ktt(t)?AA.WEBVTT:AA.TTML)},n.ktt=function(t){return zk(Sf(If(Rf(t),0,d.min(t.byteLength,7)),new xf))},n.lW=function(t,n){},n.wW=function(t,n){},pe(t,[{key:"Uy",get:function(){return this.gtt}},{key:"pW",get:function(){return TI.hP()}}]),t}();me(),zt(),me(),zt(),Ae(),me(),zt();var LH=function(t){function n(n,i){var e;return(e=t.call(this,UH.btt)||this).i1=n,e.h0=i,e}return ze(n,t),n}(fh);me(),zt();var MH=function(t){function n(n){var i;return(i=t.call(this,UH.Ttt)||this).i1=n,i}return ze(n,t),n}(fh);me(),zt();var FH=function(t){function n(n,i){var e;return(e=t.call(this,UH.Stt)||this).i1=n,e.v0=i,e}return ze(n,t),n}(fh);me(),zt();var UH,HH,XH=function(t){function n(n,i){var e;return(e=t.call(this,UH.Ett)||this).i1=n,e.Itt=i,e}return ze(n,t),n}(fh);(HH=UH||(UH={})).btt="Rtt",HH.Stt="Ctt",HH.Ett="Ntt",HH.Ttt="Dtt";var zH=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Ptt=void 0,r.wv=new Wc,r.Btt=function(t){r.Ptt&&(t&&!Gc(t)?r.Ptt.Ha(t):(r.Ptt.Ua(),r.Ptt=void 0))},r.q8=n,r.O6=i,r.Ott=e,r}ze(n,t);var i=n.prototype;return i.xtt=function(t){for(var n=0,i=this.Ott;n<i.length;n++){var e=i[n];Dc(t,e)||this.q8.ott(e)}this.Ott=t},i.Z8=function(){var t,n;return null!=(n=null==(t=this.Ptt)?void 0:t.Fa)?n:j.resolve()},i.j8=function(){if(this.Y8)throw new h("Cannot perform new operation while transmuxer is still busy")},i.Ltt=function(t){var n=this;this.j8(),this.Ptt=new Mf;var i=function(i){n.q8.A9(t),n.Btt(i)};this.Mtt(t,this.wv.Lo).then(i,i)},i.Ftt=function(t){var n=this;this.j8(),this.Ptt=new Mf;var i=function(i){n.q8.A9(t),n.Btt(i)};this.Utt(t,this.wv.Lo).then(i,i)},i.Htt=function(t,n){this.Ho(new LH(t,n))},i.Xtt=function(t,n){this.Ho(new FH(t,n))},i.ztt=function(t,n,i){VU(n)&&this.Ho(new XH(t,i))},i.Vtt=function(t){this.Ho(new MH(t))},i.ett=function(t){Dc(this.Ott,t.T6)&&this.q8.ett(t)},i.Wtt=function(t){return this.q8.stt(t)},i.n7=function(t){this.q8.n7(t)},i.qtt=function(t){return this.q8.att(t)},i.Bo=function(){this.wv.Bo(),this.wv=new Wc},pe(n,[{key:"Gtt",get:function(){return this.Ott}},{key:"Y8",get:function(){return void 0!==this.Ptt}}]),n}(oh);function VH(t,n){return VU(t)?0:n}var WH=function(t){function n(n,i,e){return t.call(this,n,i,[e])}ze(n,t);var i=n.prototype;return i.Mtt=function(t,n){jc(n);var i={Gs:"jtt",jr:t.h4.jr,T6:this.Gtt[0],d4:t.d4,Ytt:{h0:"",u4:t.u4},kp:t.kp,i1:t.i1,i7:t.h4.i7};return this.ett(i),j.resolve()},i.Utt=function(t,n){var i=this;return _a((function(){var e,r,u,s;return ma(this,(function(o){switch(o.label){case 0:return jc(n),void 0===(e=t.O8.i7).SJ?[3,3]:i.O6.d6(t.d4)?[3,2]:[4,Zc(i.O6.l6(t.d4),n)];case 1:o.sent(),o.label=2;case 2:return r=i.O6.y6(e.SJ,e).Kp(),[3,4];case 3:r=e.kp,o.label=4;case 4:return s={Gs:"O8",jr:t.O8.jr,T6:i.Gtt[0],Qtt:VH(e,r),kp:r,Am:null!=(u=e.Am)?u:0,Rk:0,d4:t.d4,i1:t.i1,i7:t.O8.i7},i.ett(s),[2]}}))}))()},n}(zH);function qH(t,n){for(var i=function(i){var r=t[i],u=r.kp;if(r.i1.D0.w4&&VU(r.O8))u=0;else{var s=function(t){return r.i1===t.i1&&WU(t.O8,r.O8)},o=Ec(t,s);if(void 0!==o)u=d.min(u,o.bp);else{var a=Ec(n,s);void 0!==a&&(u=d.min(u,a.L8.RD(0)))}}e=e.qD(TI.cP(u,r.bp))},e=TI.hP(),r=0;r<t.length;r++)i(r);return e}me(),zt();var GH=.001,jH=function(){function t(t,n,i,e){this.Ztt=t,this.q8=n,this.Ktt=i,this.AP=e,this.Jtt=[]}var n=t.prototype;return n.y9=function(t){this.Ztt.y9(t)},n.$tt=function(t){for(var n=this,i=function(t){var i=n.Jtt[t];if(!i.V8)throw new h("Invalid state");var r=Rc(e,(function(t){return t.Gs===i.Gs}));r>=0?(i.Q8(e[r]),Nc(e,r)):Nc(n.Jtt,t)},e=t.slice(),r=this.Jtt.length-1;r>=0;r--)i(r);for(var u=0;u<e.length;u++){var s=e[u],o=new cH(s);this.Jtt.push(new hH(s.Gs,s,this.q8,o,this))}e.length>0&&this.q8.Ra();var a=t.map((function(t){return t.Gs}));this.Ktt.xtt(a)},n.AM=function(t){var n,i=(null==(n=this.AP)?void 0:n.AM(t))||!1;return i&&(this.Bo(),this.tnt.Ra()),i},n.nnt=function(t){for(var n=0,i=this.Jtt;n<i.length;n++){var e=i[n];if(e.Gs!==Tp.dr||e.Y8)throw new h("Invalid state")}var r=new cH(t),u=new hH(Tp.dr,t,this.q8,r,this);this.Jtt=[u]},n.int=function(){for(var t=0,n=this.Jtt;t<n.length;t++){n[t].s7.P8()}},n.ent=function(t){var n=this.rnt.rP(t,GH);return n?n.RD(n.V_-1):t},n.k9=function(t){return!!this.rnt.rP(t,GH)||this.Ztt.k9(t)},n.unt=function(t){return this.snt.XN(t,GH)},n.ont=function(t,n,i){for(var e=0,r=this.Jtt;e<r.length;e++){var u=r[e].s7,s=u.U8;if(void 0!==s&&n>=s)return!u.Uy.OD().XN(s)}return n-t<i},n.Bo=function(){this.ant(),this.cnt()},n.ant=function(){this.hnt.Bo()},n.cnt=function(){this.fnt.Bo(),this.vnt.forEach((function(t){return t.Bo()}))},n.Io=function(){this.Bo(),this.hnt.Io()},pe(t,[{key:"vnt",get:function(){return this.Jtt}},{key:"hnt",get:function(){return this.Ztt}},{key:"fnt",get:function(){return this.Ktt}},{key:"tnt",get:function(){return this.q8}},{key:"i1",get:function(){return this.Ztt.i1}},{key:"F8",get:function(){var t=this.q8.F8;if(t)return t;if(this.Jtt.length>0){var n=this.Jtt[0].s7.F8;if(n&&this.Jtt.every((function(t){return t.s7.F8===n})))return n}}},{key:"rnt",get:function(){if(0===this.Jtt.length)return TI.hP();for(var t=qH(this.q8.ftt.concat(this.q8.dtt),Oc(this.Jtt,(function(t){return t.s7.Y2}))).OD(),n=TI.hP(),i=0,e=this.Jtt;i<e.length;i++){var r=e[i];n=n.qD(r.s7.Uy)}for(var u=0,s=this.Jtt;u<s.length;u++){var o=s[u];n=n.jD(o.J8)}return n=n.qD(t)}},{key:"snt",get:function(){if(0===this.Jtt.length)return TI.hP();for(var t=qH(this.q8.dtt,Oc(this.Jtt,(function(t){return t.s7.Y2}))).OD(),n=new TI([0,1/0]),i=0,e=this.Jtt;i<e.length;i++){var r=e[i];n=n.UD(r.s7.Uy)}return n=n.qD(t)}}]),t}();me(),zt();var YH=function(t){function n(){return t.call(this,dM.I0)}return ze(n,t),n}(fh);me(),zt();var QH=function(t){function n(){return t.call(this,dM.S0)}return ze(n,t),n}(fh);me(),zt(),Ae(),me(),zt(),Ae();var ZH="LazyMediaBuffer",KH=function(t){function n(n,i){var e;return(e=t.call(this)||this).Qr=n,e.dnt=i,e.Hf=void 0,e.E8=void 0,e.lnt=new Mf,e.wM=20,e.wnt=!1,e._M=30,e.dW=new ND,e}ze(n,t);var i=n.prototype;return i.LU=function(){return this.E8?this.E8.LU():this.wnt},i.lW=function(t,n){zM.N1(ZH,"Marking gap from "+t+" to "+n+"."),this.dW.jU(t,n),this.E8&&this.E8.lW(t,n)},i.wW=function(t,n){zM.N1(ZH,"Removing gap from "+t+" to "+n+"."),this.dW.YU(t,n),this.E8&&this.E8.wW(t,n)},i._nt=function(t){this.E8=t,this.E8.cM=this._M,this.E8.aM=this.wM;for(var n,i=this.dW.QU,e=0;e<i.V_;e++)this.E8.lW(i.SD(e),i.RD(e));this.wnt&&(zM.N1(ZH,"End of stream"),null==(n=this.E8)||n.aW());this.E8.zo(bD.UU,this.Uo),this.lnt.Ua(t)},i.gnt=function(t){return Zc(this.lnt.Fa,t)},i.UV=function(t,n,i){var e=this;return _a((function(){return ma(this,(function(r){switch(r.label){case 0:return[4,e.gnt(i)];case 1:return[4,r.sent().UV(t,n,i)];case 2:return r.sent(),[2]}}))}))()},i._W=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return[4,t.gnt()];case 1:return[4,n.sent()._W()];case 2:return n.sent(),[2]}}))}))()},i.zV=function(t,n,i){var e=this;return _a((function(){return ma(this,(function(r){switch(r.label){case 0:return[4,e.gnt(i)];case 1:return[4,r.sent().zV(t,n,i)];case 2:return r.sent(),[2]}}))}))()},i._f=function(t,n,i){var e=this;return _a((function(){return ma(this,(function(r){switch(r.label){case 0:return[4,e.gnt(i)];case 1:return[4,r.sent()._f(t,n,i)];case 2:return r.sent(),[2]}}))}))()},i.ZV=function(t,n){var i=this;return _a((function(){return ma(this,(function(e){switch(e.label){case 0:return[4,i.gnt()];case 1:return[4,e.sent().ZV(t,n)];case 2:return e.sent(),[2]}}))}))()},i.aW=function(){this.wnt=!0,this.E8&&this.E8.aW()},i.EU=function(t){return!!this.E8&&this.E8.EU(t)},i.IU=function(t){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return[4,n.gnt()];case 1:return[4,i.sent().IU(t)];case 2:return i.sent(),[2]}}))}))()},i.bv=function(){var t=this;return _a((function(){var n;return ma(this,(function(i){return t.qo(),null==(n=t.E8)||n.Go(bD.UU,t.Uo),[2]}))}))()},pe(n,[{key:"Gd",get:function(){return this.Hf}},{key:"yW",get:function(){return this.Qr}},{key:"Sf",get:function(){if(!this.E8)throw new bw(gw.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.E8.Sf}},{key:"aM",get:function(){return this.wM},set:function(t){this.wM=t,this.E8&&(this.E8.aM=t)}},{key:"Uy",get:function(){return this.E8?this.E8.Uy:TI.hP()}},{key:"pW",get:function(){return this.E8?this.E8.pW:this.dW.QU}},{key:"cM",get:function(){return this._M},set:function(t){this._M=t,this.E8&&(this.E8.cM=t)}}]),n}(oh),JH="LazyMediaSource",$H=function(){function t(t,n,i){this._N=t,this.mnt=void 0,this.ynt=void 0,this.pnt=new Mf,this.YC=void 0,this.Ant=!1,this.Mc=NaN,this.TJ=!1,this.knt=0,this.bnt=1/0,this.Tnt=!1,this.Snt=!1,n&&(zM.N1(JH,"Created lazy media buffer for audio."),this.mnt=new KH(Tp.xl,this)),i&&(zM.N1(JH,"Created lazy media buffer for video."),this.ynt=new KH(Tp.Ll,this))}var n=t.prototype;return n.wq=function(t){this.Mc=t,this.YC&&this.YC.wq(t)},n.aW=function(){this.TJ=!0,this.YC&&this.YC.aW()},n.rW=function(){this.TJ=!1,this.YC&&this.YC.rW()},n.mq=function(t,n,i,e){this.knt=t,this.bnt=n,this.Tnt=Boolean(i),this.Snt=Boolean(e),this.YC&&this.YC.mq(t,n,i,e)},n.EU=function(t){return!this.YC||this.YC.EU(t)},n.IU=function(t){var n=this;return _a((function(){var i,e,r;return ma(this,(function(u){switch(u.label){case 0:if(!n.EU(t))throw new h("LazyMediaSource - Unable to reconfigure MediaSource.");return n.YC?[3,2]:(n._N.EQ(),[4,n._N.wf(t)]);case 1:return r=u.sent(),_(n.Mc)||r.wq(n.Mc),n.TJ&&r.aW(),r.mq(n.knt,n.bnt,n.Tnt,n.Snt),zM.N1(JH,"The MediaSource has been loaded."),n.Ant=!0,n.YC=r,null==(i=n.mnt)||i._nt(n.YC.JW),null==(e=n.ynt)||e._nt(n.YC.$W),n.pnt.Ua(r),n._N.IQ(),[3,4];case 2:return[4,n.YC.IU(t)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))()},n.Io=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return t.YC?[4,t.YC.Io()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},pe(t,[{key:"Sf",get:function(){return{Gs:fT.mI,yq:[],EN:[]}}},{key:"oy",get:function(){throw new h("Not implemented")}},{key:"JW",get:function(){return this.mnt}},{key:"$W",get:function(){return this.ynt}},{key:"Uy",get:function(){return this.YC?this.YC.Uy:TI.hP()}},{key:"Am",get:function(){return this.YC?this.YC.Am:this.Mc}},{key:"LU",get:function(){return!!this.YC&&this.YC.LU}},{key:"$y",get:function(){return this.YC?this.YC.$y:new TI([0,1/0])}}]),t}();function tX(t,n){void 0===n&&(n=!1);return function(i,e){void 0===e&&(e="*");for(var r,u,s,o=iX(i,"tag"),a=iX(null==e?"*":e,"range"),c=[],h=-1;++h<a.length;)if(r=a[h].toLowerCase(),n||"*"!==r){for(u=-1,s=[];++u<o.length;)if(t(o[u].toLowerCase(),r)){if(!n)return o[u];c.push(o[u])}else s.push(o[u]);o=s}return n?c:void 0}}me(),zt();tX((function(t,n){return"*"===n||t===n||ic(t,n+"-")}),!0),tX((function(t,n){var i=t.split("-"),e=n.split("-"),r=0,u=0;if("*"!==e[u]&&i[r]!==e[u])return!1;for(r++,u++;u<e.length;)if("*"!==e[u]){if(!i[r])return!1;if(i[r]!==e[u]){if(1===i[r].length)return!1;r++}else r++,u++}else u++;return!0}),!0);var nX=tX((function(t,n){for(var i,e=n;;){if("*"===e||t===e)return!0;if((i=e.lastIndexOf("-"))<0)return!1;"-"===e.charAt(i-2)&&(i-=2),e=e.slice(0,i)}}));function iX(t,n){var i=t&&"string"==typeof t?[t]:t;if(!i||"object"!=typeof i||!("length"in i))throw new h("Invalid "+n+" `"+i+"`, expected non-empty string");return i}me(),zt();var eX=function(t){function n(){return t.call(this,qw.dd)}return ze(n,t),n}(fh);me(),zt();var rX=function(t){function n(){return t.call(this,qw.vd)}return ze(n,t),n}(fh);me(),zt(),Ae(),me(),zt();var uX,sX,oX=188;function aX(t){return cX(t)?1:null!==vO(Rf(t),new xf)?3:function(t){return function(t){if(t.length<376)return-1;for(var n=t.length<564?2:3,i=d.min(1e3,t.length-n*oX),e=0;e<=i;e++){for(var r=!0,u=0;u<n;u++)if(71!==t[e+u*oX]){r=!1;break}if(r)return e}return-1}(t)>=0}(t)?2:0}function cX(t){var n=Ef(t,0,d.min(t.length,16384));return db.dT(Rf(n))}(sX=uX||(uX={}))[sX.Al=0]="Al",sX[sX.jg=1]="jg",sX[sX.Ent=2]="Ent",sX[sX.Int=3]="Int";var hX=function(){function t(t,n,i,e){this.Qr=t,this.E8=n,this.Rnt=i,this.Cnt=e}var n=t.prototype;return n.Nnt=function(t){return this.E8===t},n.zV=function(t,n){var i=this;return _a((function(){return ma(this,(function(e){switch(e.label){case 0:return[4,i.E8.zV(t.jr,{tV:t.i1.rg},n)];case 1:return e.sent(),i.Qr===Tp.Ll&&cX(t.jr.jr)&&i.Cnt.Dnt(t.jr.jr),[2]}}))}))()},n.UV=function(t,n){var i=this;return _a((function(){var e,r,u;return ma(this,(function(s){switch(s.label){case 0:return jc(n),zM.jT("HlsMediaBuffer","Got media data, appending to "+i.Qr+" MediaBuffer: "+EF(t.i7.F0)),e=t.Qtt,r=t.kp+t.Am,u={SJ:t.kp,Am:t.Am,Rk:t.Rk,tV:t.i1.rg},void 0===t.jr?[3,2]:[4,i.E8.UV(t.jr,u,n)];case 1:s.sent(),i.Pnt(t.jr,t),s.label=2;case 2:return i.Bnt(e,r),[2]}}))}))()},n.Pnt=function(t,n){if(cX(t.jr)){var i=n.kp,e=i+n.Am,r=n.Rk;this.Rnt.B8(t.jr,i,r),this.Qr===Tp.Ll&&this.Cnt.B8(t.jr,i,e,r),function(t,n){if(t.V_>0)for(var i=t.SD(0),e=d.max(0,i-10),r=0;r<n.length;r++)n[r].oI(e)}(this.Uy,[this.Rnt,this.Cnt])}},n.Bnt=function(t,n){for(var i=this.E8.Uy,e=new TI([t,n]).jD(i),r=0;r<e.V_;r++)this.E8.lW(e.SD(r),e.RD(r));for(var u=0;u<i.V_;u++)this.E8.wW(i.SD(u),i.RD(u))},n.lW=function(t,n){this.E8.lW(t,n)},n.wW=function(t,n){this.E8.wW(t,n)},pe(t,[{key:"Gs",get:function(){return this.Qr}},{key:"Uy",get:function(){return this.E8.Uy}},{key:"pW",get:function(){return this.E8.pW}}]),t}();me(),zt();me(),zt(),me(),zt(),Ae(),me(),zt();var fX=function(t){function n(n,i,e,r,u,s){var o;return(o=t.call(this,n,i,s,!1)||this).Ont=e,o.I=r,o.xnt=u,o}return ze(n,t),n.prototype.Hp=function(n){return this===n||Gm(this,n)&&t.prototype.Hp.call(this,n)&&qm(this.Tp,n.Tp)},pe(n,[{key:"AE",get:function(){return this.Ont}},{key:"Rr",get:function(){return this.I}},{key:"Lnt",get:function(){return this.xnt}},{key:"d_",get:function(){var t;return this.v_||(this.v_=Vm(OA(t=this),{get schemeIDURI(){return t.AE},get value(){return t.Rr},get emsgID(){return t.Lnt}})),this.v_}}]),n}(XA);function vX(t,n){return""===n?t:t+" "+n}me(),zt(),me(),zt();var dX,lX,wX,_X,gX,mX,yX=function(t){function n(n){var i;return(i=t.call(this)||this).cI=n,i}ze(n,t);var i=n.prototype;return i.B8=function(t,i,e){var r=db.fT(Rf(t));if(r){var u=function(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];ub(r,n)&&i.push(r)}return i}(r,lk.Eb);if(u.length){var s=n.Mnt(r,i,e);this.Fnt(u,s,e)}}},i.Fnt=function(t,n,i){for(var e=0;e<t.length;e++){var r=t[e],u=void 0,s=(u=1===r.cT?r.kE.toNumber()/r.VA+i:n+r.SE/r.VA)+r.bE/r.VA;"https://aomedia.org/emsg/ID3"===r.AE?this.Unt(r,u):this.Hnt(r,u,s)}},i.Hnt=function(t,n,i){var e=vX(t.AE,t.Rr),r=this.Xnt(e);r||(r=this.znt(e),this.Vnt(r)),r.lI(new fX(n,i,t.AE,t.Rr,t.eg,t.TE))},i.Unt=function(t,n){var i=wO(Rf(t.TE));if(i){var e=vX(t.AE,t.Rr),r=this.Xnt(e);r||(r=this.Wnt(e),this.Vnt(r));for(var u=0,s=i._G;u<s.length;u++){var o=s[u],a=new SO(n,o);UB(a,r.Pg.z_),r.lI(a)}}},i.znt=function(t){var n=this.cI.vI(Mb.Ob,"","","",void 0,AA.EMSG);return n.Tg=t,n.Sg=hy.Ig,n},i.Wnt=function(t){var n=this.cI.vI(Mb.Ob,"","","",void 0,AA.ID3);return n.Tg=t,n.Sg=hy.Ig,n},i.Nf=function(){var n=this;return _a((function(){var i,e,r;return ma(this,(function(u){switch(u.label){case 0:for(i=0,e=n.ET.z_;i<e.length;i++)r=e[i],n.cI.wI(r);return[4,t.prototype.Nf.call(n)];case 1:return u.sent(),[2]}}))}))()},n.Mnt=function(t,n,i){var e=sb(t,lk.Ib);return e?wu(e.ME,e.VA)+i:n},n}(function(t){function n(){return t.call(this)}ze(n,t);var i=n.prototype;return i.Vnt=function(t){return t.Dg=yA.LOADED,this.U_(t),t},i.Xnt=function(t){for(var n=0,i=this.ET.z_;n<i.length;n++){var e=i[n];if(e.Tg===t)return e}},n}(eT));function pX(t,n,i){return i===dX.qnt?i:n!==wX.Gnt&&n!==wX.jnt||i!==dX.Ynt&&i!==dX.Qnt?t?n===wX.Znt?dX.Knt:n===wX.Jnt?dX.$nt:dX.qnt:dX.tit:dX.Qnt}function AX(t,n,i,e){var r={byte:i},u=dX.Ynt,s=[],o=31&oP(n,r,e);r.byte+=1;for(var a=0;a<o;a+=1){var c=oP(n,r,e),h=4&c,f=3&c;u=pX(Boolean(h),f,u);var v=oP(n,r,e),d=oP(n,r,e);s.push({oK:t,aE:-1,nit:!a,iit:Boolean(h),Gs:f,_Z:u,eit:v,rit:d})}return s}function kX(t,n,i){var e=oP(t,n,i);if(!_(e))return String.fromCharCode(e)}function bX(t){var n=t.rz,i={byte:t.iz},e=t.ez,r=oP(n,i,e);if(255===r&&(i.byte+=1),181===r){var u=aP(n,i);if(47===u||49===u){if(49===u)if("GA94"!==function(t,n,i){for(var e="",r=i;r>0;)r-=1,e+=kX(t,n);return e}(n,i,4))return;if(3===oP(n,i,e)){47===u&&(i.byte+=1);var s=t;return s.uit=i.byte,s}}}}function TX(t){return 4===t.tz}function SX(t){for(var n=t.filter(TX).map(bX).filter(er),i=[],e=0;e<n.length;e++){var r,u=n[e];(r=i).push.apply(r,Ce(AX(u.$X,u.rz,u.uit,u.ez)))}return i}me(),zt(),me(),zt(),Oe(),me(),zt(),(lX=dX||(dX={}))[lX.qnt=0]="qnt",lX[lX.Ynt=1]="Ynt",lX[lX.Qnt=2]="Qnt",lX[lX.$nt=3]="$nt",lX[lX.Knt=4]="Knt",lX[lX.tit=5]="tit",(_X=wX||(wX={}))[_X.Gnt=0]="Gnt",_X[_X.jnt=1]="jnt",_X[_X.Znt=2]="Znt",_X[_X.Jnt=3]="Jnt",(mX=gX||(gX={}))[mX.sit=47]="sit",mX[mX.oit=49]="oit",me(),zt();var EX="und";var IX=[{Sr:"Abkhaz",Bk:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{Sr:"Afar",Bk:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{Sr:"Afrikaans",Bk:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{Sr:"Akan",Bk:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{Sr:"Albanian",Bk:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{Sr:"Amharic",Bk:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{Sr:"Arabic",Bk:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{Sr:"Aragonese",Bk:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{Sr:"Armenian",Bk:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{Sr:"Assamese",Bk:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{Sr:"Avaric",Bk:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{Sr:"Avestan",Bk:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{Sr:"Aymara",Bk:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{Sr:"Azerbaijani",Bk:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{Sr:"Bambara",Bk:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{Sr:"Bashkir",Bk:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{Sr:"Basque",Bk:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{Sr:"Belarusian",Bk:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{Sr:"Bengali",Bk:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{Sr:"Bihari",Bk:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{Sr:"Bislama",Bk:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{Sr:"Bosnian",Bk:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{Sr:"Breton",Bk:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{Sr:"Bulgarian",Bk:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{Sr:"Burmese",Bk:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{Sr:"Catalan",Bk:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{Sr:"Chamorro",Bk:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{Sr:"Chechen",Bk:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{Sr:"Chichewa",Bk:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{Sr:"Chinese",Bk:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{Sr:"Chuvash",Bk:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{Sr:"Cornish",Bk:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{Sr:"Corsican",Bk:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{Sr:"Cree",Bk:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{Sr:"Croatian",Bk:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{Sr:"Czech",Bk:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{Sr:"Danish",Bk:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{Sr:"Divehi",Bk:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{Sr:"Dutch",Bk:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{Sr:"Dzongkha",Bk:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{Sr:"English",Bk:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{Sr:"Esperanto",Bk:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{Sr:"Estonian",Bk:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{Sr:"Ewe",Bk:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{Sr:"Faroese",Bk:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{Sr:"Fijian",Bk:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{Sr:"Finnish",Bk:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{Sr:"French",Bk:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{Sr:"Fula",Bk:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{Sr:"Galician",Bk:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{Sr:"Georgian",Bk:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{Sr:"German",Bk:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{Sr:"Greek",Bk:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{Sr:"Guaran\xed",Bk:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{Sr:"Gujarati",Bk:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{Sr:"Haitian",Bk:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{Sr:"Hausa",Bk:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{Sr:"Hebrew",Bk:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{Sr:"Herero",Bk:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{Sr:"Hindi",Bk:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{Sr:"Hiri Motu",Bk:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{Sr:"Hungarian",Bk:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{Sr:"Interlingua",Bk:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{Sr:"Indonesian",Bk:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{Sr:"Interlingue",Bk:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{Sr:"Irish",Bk:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{Sr:"Igbo",Bk:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{Sr:"Inupiaq",Bk:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{Sr:"Ido",Bk:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{Sr:"Icelandic",Bk:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{Sr:"Italian",Bk:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{Sr:"Inuktitut",Bk:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{Sr:"Japanese",Bk:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{Sr:"Javanese",Bk:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{Sr:"Kalaallisut",Bk:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{Sr:"Kannada",Bk:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{Sr:"Kanuri",Bk:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{Sr:"Kashmiri",Bk:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{Sr:"Kazakh",Bk:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{Sr:"Khmer",Bk:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{Sr:"Kikuyu",Bk:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{Sr:"Kinyarwanda",Bk:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{Sr:"Kyrgyz",Bk:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{Sr:"Komi",Bk:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{Sr:"Kongo",Bk:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{Sr:"Korean",Bk:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{Sr:"Kurdish",Bk:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{Sr:"Kwanyama",Bk:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{Sr:"Latin",Bk:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{Sr:"Luxembourgish",Bk:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{Sr:"Ganda",Bk:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{Sr:"Limburgish",Bk:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{Sr:"Lingala",Bk:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{Sr:"Lao",Bk:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{Sr:"Lithuanian",Bk:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{Sr:"Luba-Katanga",Bk:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{Sr:"Latvian",Bk:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{Sr:"Manx",Bk:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{Sr:"Macedonian",Bk:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{Sr:"Malagasy",Bk:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{Sr:"Malay",Bk:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{Sr:"Malayalam",Bk:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{Sr:"Maltese",Bk:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{Sr:"M\u0101ori",Bk:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{Sr:"Marathi",Bk:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{Sr:"Marshallese",Bk:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{Sr:"Mongolian",Bk:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{Sr:"Nauru",Bk:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{Sr:"Navajo",Bk:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{Sr:"Northern Ndebele",Bk:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{Sr:"Nepali",Bk:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{Sr:"Ndonga",Bk:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{Sr:"Norwegian Bokm\xe5l",Bk:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{Sr:"Norwegian Nynorsk",Bk:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{Sr:"Norwegian",Bk:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{Sr:"Nuosu",Bk:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{Sr:"Southern Ndebele",Bk:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{Sr:"Occitan",Bk:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{Sr:"Ojibwe",Bk:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{Sr:"Old Church Slavonic",Bk:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{Sr:"Oromo",Bk:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{Sr:"Oriya",Bk:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{Sr:"Ossetian",Bk:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{Sr:"Panjabi",Bk:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{Sr:"P\u0101li",Bk:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{Sr:"Persian",Bk:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{Sr:"Polish",Bk:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{Sr:"Pashto",Bk:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{Sr:"Portuguese",Bk:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{Sr:"Quechua",Bk:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{Sr:"Romansh",Bk:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{Sr:"Kirundi",Bk:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{Sr:"Romanian",Bk:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{Sr:"Russian",Bk:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{Sr:"Sanskrit",Bk:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{Sr:"Sardinian",Bk:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{Sr:"Sindhi",Bk:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{Sr:"Northern Sami",Bk:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{Sr:"Samoan",Bk:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{Sr:"Sango",Bk:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{Sr:"Serbian",Bk:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{Sr:"Gaelic",Bk:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{Sr:"Shona",Bk:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{Sr:"Sinhala",Bk:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{Sr:"Slovak",Bk:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{Sr:"Slovene",Bk:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{Sr:"Somali",Bk:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{Sr:"Southern Sotho",Bk:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{Sr:"Spanish",Bk:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{Sr:"Sundanese",Bk:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{Sr:"Swahili",Bk:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{Sr:"Swati",Bk:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{Sr:"Swedish",Bk:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{Sr:"Tamil",Bk:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{Sr:"Telugu",Bk:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{Sr:"Tajik",Bk:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{Sr:"Thai",Bk:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{Sr:"Tigrinya",Bk:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{Sr:"Tibetan Standard",Bk:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{Sr:"Turkmen",Bk:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{Sr:"Tagalog",Bk:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{Sr:"Tswana",Bk:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{Sr:"Tonga",Bk:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{Sr:"Turkish",Bk:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{Sr:"Tsonga",Bk:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{Sr:"Tatar",Bk:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{Sr:"Twi",Bk:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{Sr:"Tahitian",Bk:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{Sr:"Uyghur",Bk:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{Sr:"Ukrainian",Bk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{Sr:"Urdu",Bk:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{Sr:"Uzbek",Bk:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{Sr:"Venda",Bk:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{Sr:"Vietnamese",Bk:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{Sr:"Volap\xfck",Bk:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{Sr:"Walloon",Bk:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{Sr:"Welsh",Bk:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{Sr:"Wolof",Bk:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{Sr:"Western Frisian",Bk:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{Sr:"Xhosa",Bk:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{Sr:"Yiddish",Bk:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{Sr:"Yoruba",Bk:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{Sr:"Zhuang",Bk:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{Sr:"Zulu",Bk:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}];me(),zt(),Oe();function RX(t){var n,i=null!=(n=function(t){var n=t.NX,i=new cP;return i.qX(n,0,n.byteLength),bP(i).bz}(t))?n:24;return t.ait/i}function CX(t){return t.Gs===lk.gb}var NX,DX;function PX(t,n,i,e,r){for(var u,s=function(t,n,i,e){var r=i.ait,u=Jr.fromNumber(t.pE||0),s=e.ep(ak.PA(u,r));return{cit:e.Kp(),hit:e,fit:s,vit:e}}(t,0,i,e),o=ak.FA(t.Am||0,i.ait),a=t.hT||0,c=!(65536&a)&&1!==(a>>24&3),h=Rf(r),f=new xf;f.Na<h.byteLength;){var v=rf(h,f);if((31&tf(h,f,1))===hP.lz){var d,l=new cP;l.qX(r,f.Na-1,f.Na+v-1);var w=gP(s.fit,l);(d=u=u||[]).push.apply(d,Ce(SX(w)))}f.Da(v-1)}return ga({},s,{Am:o.Kp(),dit:o,wit:s.fit.Kp(),_it:s.cit,git:c,mit:u,yit:!1,pit:!1})}function BX(t){return t.Gs===lk.Ok}(DX=NX||(NX={}))[DX.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",DX[DX.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",DX[DX.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",DX[DX.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED",me(),zt(),me(),zt(),me(),zt(),Oe(),me(),zt(),me(),zt(),me(),zt();var OX=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)}return ze(n,t),n}(XA);me(),zt(),Ae(),me(),zt(),Ae(),me(),zt();var xX=function(){function t(t,n){this.yK=t,this.sK=n}return t.prototype.Hp=function(t){return this.yK===t.yK&&this.sK===t.sK},t}(),LX=function(){function t(t,n){this.hU=t,this.Ait=n,this.kit=""}var n=t.prototype;return n.Tit=function(t){this.kit+=t},n.Sit=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Tit(i)}},pe(t,[{key:"RK",get:function(){return this.kit}},{key:"bK",get:function(){return[this]}},{key:"EK",get:function(){return this.hU}},{key:"NK",get:function(){return this.Ait}},{key:"CK",get:function(){return new xX(this.NK.yK,this.NK.sK+this.RK.length-1)}}]),t}(),MX=function(){function t(){}var n=t.prototype;return n.Eit=function(t){return t.lk(this)},n.Iit=function(t){var n,i,e=this,r=t.map((function(t,n){return t.lk(e,n)}));return n=r,(i=[]).concat.apply(i,Ce(n))},n.Rit=function(t,n){return new FX(t,n).Cit()},t}(),FX=function(){function t(t,n){this.yK=t,this.Nit=n,this.Dit=[],this.Pit=null}var n=t.prototype;return n.Cit=function(){if(this.Bit)return[];for(var t=0;t<this.yK.length;t++)this.Oit(t);return this.xit(),this.Dit},n.Lit=function(t){this.Pit=new LX(tL,new xX(this.Nit,t))},n.xit=function(){this.Pit&&(this.Dit.push(this.Pit),this.Pit=null)},n.Oit=function(t){var n=this.yK[t];UX(n)?this.Pit&&this.xit():(this.Pit||this.Lit(t),this.Pit.Tit(n))},pe(t,[{key:"Bit",get:function(){return this.yK.every(UX)}}]),t}();function UX(t){return null==t}var HX=function(){function t(){}return t.Mit=function(t,n,i){if(!(n>=i)){var e=Oc(t,(function(t,n){return new FX(t.map((function(t){return t?t.Fit():null})),n).Cit()}));if(0!==e.length)return new OX(n,i,e)}},t}(),XX="black",zX="white";me(),zt(),me(),zt();var VX=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce((function(t,n){return t[n[0]]=n[1],t}),{}),WX=function(){function t(){this.Uit=[],this.Hit=0;for(var t=0;t<rL;t++)this.Uit.push(null);this.Xit=!1}var n=t.prototype;return n.zit=function(t){for(var n=0;n<rL;n++)t&&(this.Uit[n]=t.Uit[n])},n.Hp=function(t){for(var n=0;n<rL;n++)if(this.Uit[n]!==t.Uit[n])return!1;return!0},n.Vit=function(){for(var t=0;t<rL;t++)if(null!==this.Uit[t])return!1;return!0},n.Wit=function(t){this.Hit!==t&&(this.Hit=t),this.Hit<0?this.Hit=0:this.Hit>rL&&(this.Hit=31)},n.qit=function(t){var n=this.Hit+t;this.Wit(n)},n.Git=function(){this.qit(-1),this.Uit[this.Hit]=null},n.Tit=function(t){t>=144&&this.Git();var n,i=VX[n=t]?String.fromCharCode(VX[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Hit>=rL||(32===Number(t)?(this.Uit[this.Hit]=this.Xit?"</i>":"<i>",this.Xit=!this.Xit):this.Uit[this.Hit]=t,this.qit(1))},n.jit=function(t){for(var n=t;n<rL;n++)this.Uit[n]=null},n.Ra=function(){this.jit(0),this.Hit=0},n.Yit=function(){this.jit(this.Hit)},n.Qit=function(t,n){for(var i=this.Uit,e=null,r=0;r<rL;r++){var u=i[r];null===u?e=null:(e||(e={Zit:r,Kit:t,Qp:0,zT:1,Uit:[[]]},n.push(e)),e.Uit[0].push(u),e.Qp++)}},n.lk=function(t,n){return t.Rit(this.Uit,n)},t}();var qX,GX,jX=function(){function t(t,n){this.Jit=new Array(YX+1);for(var i=0;i<=YX;i++)this.Jit[i]=new WX;this.$it=1,this.tet=0,this.net=t,this.iet=n,this.eet=!1,this.ret=!1,this.uet=zX,this.oet=XX,this.Nf()}var n=t.prototype;return n.aet=function(t,n){var i="CC"+(this.net<<1|this.iet+1);if(t>=n)return null;var e=(new MX).Iit(this.Jit.slice(1));return 0===e.length?null:{Ap:new OX(t,n,e),qd:i,cet:this.net<<1|this.iet+1}},n.Nf=function(){this.het(),this.$it=1},n.fet=function(){return this.$it},n.vet=function(t){this.$it=t},n.Wit=function(t){this.Jit[this.$it].Wit(t)},n.qit=function(t){this.Jit[this.$it].qit(t)},n.det=function(){return this.tet},n.let=function(t){this.tet=t},n.Tit=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case 0:i=void 0!==KX[n]?KX[n]:String.fromCharCode(n);break;case 1:i=JX[n];break;case 2:this.wet(),i=$X[n];break;case 3:this.wet(),i=tz[n]}i&&this.Jit[this.$it].addParsedChar(i)}},n.wet=function(){this.Jit[this.$it].Git()},n._et=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.Jit[t+e]=this.Jit[n+e];else for(var r=0;r<i;r++)this.Jit[t+r]=this.Jit[n+r]},n.met=function(t,n){for(var i=0;i<=n;i++)this.Jit[t+i]=new WX},n.het=function(){this.met(0,YX)},n.yet=function(){this.$it=this.tet>0?this.tet:0,this.het()},n.pet=function(t){this.eet=t},n.Aet=function(t){this.ret=t},n.ket=function(t){this.uet=t},n.bet=function(t){this.oet=t},t}(),YX=15;(GX=qX||(qX={}))[GX.Tet=0]="Tet",GX[GX.Eet=1]="Eet",GX[GX.Iet=2]="Iet",GX[GX.Ret=3]="Ret";var QX,ZX,KX={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},JX={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},$X={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},tz={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},nz=function(){function t(t,n){this.Qr=0,this.Cet=new jX(t,n),this.Net=new jX(t,n),this.Det=new jX(t,n),this.Pet=this.Net,this.Bet=0,this.Oet=void 0,this.xet=!1}var n=t.prototype;return n.Nf=function(){this.xet=!0,this.Bet=0,this.Qr=0,this.Pet=this.Net,this.Oet=void 0,this.Net.Nf(),this.Det.Nf(),this.Cet.Nf()},n.Let=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Met=function(t,n){var i=this.Let(t,n),e=(30&n)>>1,r=zX,u=!1;e<7?r=rz[e]:7===e&&(u=!0);var s=1==(1&n);if(4!==this.Qr){var o=this.Pet;if(3===this.Qr&&i!==o.fet()){var a=1+o.fet()-o.det(),c=1+i-o.det();o._et(c,a,o.det()),o.met(0,c-1),o.met(i+1,YX-i)}o.vet(i);var h=iL[t<<1&14|n>>5&1]-1;if(!(h<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{uK:nL[i].uK,rK:nL[i].rK,sK:nL[i].sK,yK:t}}(h,n);o.Wit(f.sK),this.Pet.pet(s),this.Pet.Aet(u),this.Pet.ket(r),this.Pet.bet(XX)}}},n.Fet=function(t,n){this.Pet.pet(!1),this.Pet.Aet(!1),this.Pet.ket(zX);var i=this.Uet(t,qX.Tet," ".charCodeAt(0)),e=zX,r=!1,u=1==(1&n);return"white_italics"===(e=rz[(14&n)>>1])&&(e="white",r=!0),this.Pet.pet(u),this.Pet.Aet(r),this.Pet.ket(e),i},n.Uet=function(t,n,i){if(this.Pet.Tit(n,i),2===this.Qr||3===this.Qr){var e=this.Het(this.Pet,this.Bet,t);return this.Bet=t,e}return null},n.Het=function(t,n,i){return this.xet?null:t.aet(n,i)},n.Xet=function(t,n){var i=XX;0==(7&t)&&(i=ez[(14&n)>>1]),this.Pet.bet(i)},n.zet=function(t){var n=iz,i=t.Vet,e=t.Wet,r=null;switch(i){case n.RCL:this.qet();break;case n.BS:this.Get();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.jet(2,e);break;case n.RU3:r=this.jet(3,e);break;case n.RU4:r=this.jet(4,e);break;case n.FON:r=this.Yet(e);break;case n.RDC:this.Qet(e);break;case n.TR:this.Zet();break;case n.RTD:this.Ket();break;case n.EDM:r=this.Jet(e);break;case n.CR:r=this.$et(e);break;case n.ENM:this.trt();break;case n.EOC:r=this.nrt(e)}return r},n.$et=function(t){var n=this.Pet;if(3!==this.Qr)return null;var i=this.Het(n,this.Bet,t),e=n.fet()-n.det()+1;return n._et(e-1,e,n.det()),n.met(0,e-1),n.met(n.fet(),YX-n.fet()),this.Bet=t,i},n.jet=function(t,n){this.Pet=this.Net;var i=this.Pet,e=null;return 3!==this.Qr&&4!==this.Qr&&(e=this.Het(i,this.Bet,n),this.Net.yet(),this.Det.yet(),this.xet=!1,i.vet(YX)),this.Qr=3,i.let(t),e},n.Yet=function(t){return this.Uet(t,qX.Tet," ".charCodeAt(0))},n.Jet=function(t){var n=this.Net,i=null;return 4!==this.Qr&&(i=this.Het(n,this.Bet,t)),n.het(),this.xet=!1,i},n.Qet=function(t){this.Qr=2,this.Pet=this.Net,this.Pet.let(0),this.Bet=t},n.trt=function(){this.Det.het()},n.nrt=function(t){var n=null;4!==this.Qr&&(n=this.Het(this.Net,this.Bet,t));var i=this.Det;return this.Det=this.Net,this.Net=i,this.qet(),this.Bet=t,n},n.qet=function(){this.Qr=1,this.Pet=this.Det,this.Pet.let(0)},n.Get=function(){this.Pet.wet()},n.Zet=function(){this.Cet.Nf(),this.xet=!1,this.Ket()},n.Ket=function(){this.Pet=this.Cet,this.Qr=4},n.irt=function(t,n,i){return this.Pet.Tit(qX.Tet,n),this.Uet(t,qX.Tet,i)},n.ert=function(t,n,i){var e=1&n?qX.Ret:qX.Iet;return this.Uet(t,e,i)},n.rrt=function(t){var n=t.urt,i=t.Vet,e=t.Wet;if(this.Oet===(n<<8|i))return this.Oet=void 0,null;if(this.Oet=n<<8|i,this.ort(n,i))this.Met(n,i);else{if(this.art(n,i))return this.Fet(e,i);if(this.crt(n,i))this.Xet(n,i);else{if(this.hrt(n,i))return this.Uet(e,qX.Eet,i);if(this.frt(n,i))return this.ert(e,n,i);if(this.vrt(n,i))return this.zet(t);this.isTabOffset(n)&&this.Pet.qit(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.vrt=function(t,n){return 20==(246&t)&&32==(240&n)},n.ort=function(t,n){return 16==(240&t)&&64==(192&n)},n.art=function(t,n){return 17==(247&t)&&32==(240&n)},n.crt=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.hrt=function(t,n){return 17==(247&t)&&48==(240&n)},n.frt=function(t,n){return 18==(246&t)&&32==(224&n)},t.drt=function(t){return 16==(112&t)},t}(),iz={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};(ZX=QX||(QX={}))[ZX.hD=0]="hD",ZX[ZX.lrt=1]="lrt",ZX[ZX.wrt=2]="wrt",ZX[ZX._rt=3]="_rt",ZX[ZX.dr=4]="dr";var ez=["black","green","blue","cyan","red","yellow","magenta","black"],rz=["white","green","blue","cyan","red","yellow","magenta","white_italics"];me(),zt(),me(),zt(),me(),zt();var uz,sz,oz=function(){function t(t,n,i,e,r){this.grt=t,this.eet=n,this.ret=i,this.oet=e,this.uet=r}var n=t.prototype;return n.Fit=function(){return this.grt},n.mrt=function(){return this.eet},n.yrt=function(){return this.ret},n.prt=function(){return this.oet},n.Art=function(){return this.uet},t}(),az=function(){function t(t){this.krt=t,this.wD=!1,this.brt=!1,this.Trt=0,this.Srt=0,this.Ert=0,this.Irt=0,this.Rrt=0,this.Crt=2,this.Nrt=[],this.Lp=0,this.$it=0,this.Drt=0,this.ret=!1,this.eet=!1,this.uet=zX,this.oet=XX,this.Prt()}var n=t.prototype;return n.Brt=function(t,n,i,e,r,u,s){this.wD=t,this.Srt=n,this.Trt=i,this.Ert=e,this.brt=r,this.Irt=u,this.Rrt=s},n.Prt=function(){this.Nrt=[];for(var t=0;t<hz;t++)this.Nrt.push(this.Ort())},n.Ort=function(){for(var t=[],n=0;n<cz;n++)t.push(null);return t},n.xrt=function(t){this.Lrt()&&(this.Nrt[this.$it][this.Drt]=new oz(t,this.eet,this.ret,this.oet,this.uet),this.Drt++)},n.Mrt=function(){this.Lrt()&&(this.Drt<=0&&this.$it<=0||(this.Drt<=0?(this.Drt=this.Rrt-1,this.$it--):this.Drt--,this.Nrt[this.$it][this.Drt]=null))},n.Lrt=function(){var t=this.$it<this.Irt&&this.$it>=0,n=this.Drt<this.Rrt&&this.Drt>=0;return t&&n},n.Frt=function(){return this.wD},n.Urt=function(t){for(var n=0,i=t;i<hz;i++,n++)this.Nrt[n]=this.Nrt[i];for(var e=0;e<t;e++,n++)this.Nrt[n]=this.Ort()},n.Hrt=function(){if(this.$it+1>=this.Irt)return this.Urt(1),void(this.Drt=0);this.$it++,this.Drt=0},n.Xrt=function(){this.Nrt[this.$it]=this.Ort(),this.Drt=0},n.aet=function(t,n){if(this.Lp>=t)return null;var i=HX.Mit(this.Nrt,this.Lp,t);return i?(this.zrt(t),{Ap:i,qd:"svc"+n,cet:n}):null},n.Vrt=function(t,n){this.$it=t,this.Drt=n},n.Wrt=function(t){this.oet=t},n.qrt=function(t){this.uet=t},n.Grt=function(t){this.eet=t},n.jrt=function(t){this.ret=t},n.Yrt=function(){this.$it=0,this.Drt=0,this.eet=!1,this.ret=!1,this.uet=zX,this.oet=XX},n.Qrt=function(t){this.Crt=t},n.Zrt=function(){this.wD=!0},n.Cy=function(){this.wD=!1},n.Krt=function(){this.wD=!this.wD},n.zrt=function(t){this.Lp=t},t}();(sz=uz||(uz={}))[sz.Jrt=0]="Jrt",sz[sz.$rt=1]="$rt",sz[sz.tut=2]="tut",sz[sz.nut=3]="nut";var cz=42,hz=15,fz=function(){function t(t){this.iut=t,this.eut=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.rut=void 0}var n=t.prototype;return n.uut=function(t){var n=t.sut(),i=n.Rr,e=n.Wet;i===_z&&(i=i<<16|t.sut().Rr);return i>=0&&i<=31?this.out(i,e):i>=128&&i<=159?this.aut(t,i,e):(i>=4096&&i<=4127?this.cut(t,255&i):i>=4224&&i<=4255?this.hut(t,255&i):i>=32&&i<=127?this.fut(i):i>=160&&i<=255?this.vut(i):i>=4128&&i<=4223?this.lut(255&i):i>=4256&&i<=4351&&this.wut(255&i),null)},n.fut=function(t){this.rut&&(127!==t?this.rut.xrt(String.fromCharCode(t)):this.rut.xrt("\u266a"))},n.vut=function(t){this.rut&&this.rut.xrt(String.fromCharCode(t))},n.lut=function(t){if(this.rut)if(void 0!==gz[t]){var n=gz[t];this.rut.xrt(n)}else this.rut.xrt("_")},n.wut=function(t){this.rut&&(160===t?this.rut.xrt("[CC]"):this.rut.xrt("_"))},n.out=function(t,n){if(!this.rut)return null;var i=this.rut,e=null;switch(t){case vz:i.Mrt();break;case lz:i.Frt()&&(e=i.aet(n,this.iut)),i.Hrt();break;case wz:i.Frt()&&(e=i.aet(n,this.iut)),i.Xrt();break;case dz:i.Frt()&&(e=i.aet(n,this.iut)),i.Prt(),i.Vrt(0,0)}return e},n.aut=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this._ut(e)}else{if(136===n){var r=t.sut().Rr;return this.gut(r,i)}if(137===n){var u=t.sut().Rr;this.mut(u,i)}else{if(138===n){var s=t.sut().Rr;return this.yut(s,i)}if(139===n){var o=t.sut().Rr;return this.Aut(o,i)}if(140===n){var a=t.sut().Rr;return this.kut(a,i)}if(143===n)return this.Nf(i);if(144===n)this.but(t);else if(145===n)this.Tut(t);else if(146===n)this.Vrt(t);else if(151===n)this.Sut(t);else if(n>=152&&n<=159){var c=(15&n)-8;this.Brt(t,c,i)}}}return null},n.cut=function(t,n){n>=8&&n<=15?t.jb(1):n>=16&&n<=23?t.jb(2):n>=24&&n<=31&&t.jb(3)},n.hut=function(t,n){n>=128&&n<=135?t.jb(4):n>=136&&n<=143&&t.jb(5)},n._ut=function(t){this.eut[t]&&(this.rut=this.eut[t])},n.Eut=function(t){var n;return ma(this,(function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return n<8?1==(1&t)&&this.eut[n]?[4,n]:[3,3]:[3,5];case 2:i.sent(),i.label=3;case 3:t>>=1,i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))},n.gut=function(t,n){for(var i=null,e=0,r=this.Eut(t);e<r.length;e++){var u=r[e],s=this.eut[u];s.Frt()&&(i=s.aet(n,this.iut)),s.Prt()}return i},n.mut=function(t,n){for(var i=0,e=this.Eut(t);i<e.length;i++){var r=e[i],u=this.eut[r];u.Frt()||u.zrt(n),u.Zrt()}},n.yut=function(t,n){for(var i=null,e=0,r=this.Eut(t);e<r.length;e++){var u=r[e],s=this.eut[u];s.Frt()&&(i=s.aet(n,this.iut)),s.Cy()}return i},n.Aut=function(t,n){for(var i=null,e=0,r=this.Eut(t);e<r.length;e++){var u=r[e],s=this.eut[u];s.Frt()?i=s.aet(n,this.iut):s.zrt(n),s.Krt()}return i},n.kut=function(t,n){for(var i=null,e=0,r=this.Eut(t);e<r.length;e++){var u=r[e],s=this.eut[u];s.Frt()&&(i=s.aet(n,this.iut)),this.eut[u]=void 0}return i},n.Nf=function(t){var n=this.kut(255,t);return this.Ra(),n},n.Ra=function(){this.rut=void 0,this.eut=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.but=function(t){t.jb(1);var n=t.sut().Rr;if(this.rut){var i=(128&n)>0,e=(64&n)>0;this.rut.jrt(i),this.rut.Grt(e)}},n.Tut=function(t){var n=t.sut().Rr,i=t.sut().Rr;if(t.jb(1),this.rut){var e=3&n,r=(12&n)>>2,u=(48&n)>>4,s=3&i,o=(12&i)>>2,a=(48&i)>>4,c=this.Iut(u,r,e),h=this.Iut(a,o,s);this.rut.qrt(c),this.rut.Wrt(h)}},n.Vrt=function(t){var n=t.sut().Rr,i=t.sut().Rr;if(this.rut){var e=15&n,r=63&i;this.rut.Vrt(e,r)}},n.Sut=function(t){t.jb(1),t.jb(1);var n=t.sut().Rr;if(t.jb(1),this.rut){var i=3&n;this.rut.Qrt(i)}},n.Brt=function(t,n,i){var e=void 0!==this.eut[n];if(!e){var r=new az(n);r.zrt(i),this.eut[n]=r}var u=t.sut().Rr,s=t.sut().Rr,o=t.sut().Rr,a=t.sut().Rr,c=t.sut().Rr,h=t.sut().Rr,f=(32&u)>0,v=127&s,d=(128&s)>0,l=o,w=1+(15&a),_=(240&a)>>4,g=1+(63&c);e&&0===(7&h)||this.eut[n].Yrt(),this.eut[n].Brt(f,v,l,_,d,w,g),this.rut=this.eut[n]},n.Iut=function(t,n,i){var e={0:0,1:0,2:1,3:1};return mz[e[t]<<2|e[n]<<1|e[i]]},t}(),vz=8,dz=12,lz=13,wz=14,_z=16,gz={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},mz=["black","blue","green","cyan","red","magenta","yellow","white"];me(),zt();var yz=function(){function t(){this.Rut=[],this.Cut=null,this.Nut=0}var n=t.prototype;return n.Dut=function(t){if(t.Gs===wX.Jnt){var n=63&t.Rr;return this.Nut=2*n-1,void(this.Cut=[])}if(this.Cut&&(this.Nut>0&&(this.Cut.push(t),this.Nut--),0===this.Nut)){var i=new pz(this.Cut);this.Rut.push(i),this.Cut=null,this.Nut=0}},n.Put=function(){return this.Rut},n.But=function(){this.Rut=[]},n.Ra=function(){this.Rut=[],this.Cut=[],this.Nut=0},t}(),pz=function(){function t(t){this.Out=0,this.xut=t}var n=t.prototype;return n.Lut=function(){return this.Out<this.xut.length},n.Mut=function(){return this.Out},n.sut=function(){if(!this.Lut())throw new bw(gw.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.xut[this.Out++]},n.jb=function(t){if(this.Out+t>this.xut.length)throw new bw(gw.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Out+=t},t}(),Az=function(){function t(){this.Fut=!1,this.Uut=[],this.Hut=[],this.Xut=new yz,this.zut=0,this.Vut=ba({CC1:new nz(0,0),CC2:new nz(0,1),CC3:new nz(1,0),CC4:new nz(1,1)}),this.Wut=0,this.qut=0,this.Gut=ka(),this.Nf()}var n=t.prototype;return n.Ra=function(){this.zut=0,this.Uut=[],this.Hut=[],this.Xut.Ra(),this.Nf(),this.Gut.forEach((function(t){t.Ra()}))},n.Nf=function(){this.Wut=0,this.qut=0,this.Vut.forEach((function(t){t.Nf()}))},n.j7=function(t,n){if(t.iit){var i=t.eit,e=t.rit,r=t.Gs;r===wX.Gnt||r===wX.jnt?this.Uut.push({Wet:n,Gs:r,urt:i,Vet:e,jut:this.Uut.length}):this.Fut&&(this.Hut.push({Wet:n,Gs:r,Rr:i,jut:this.Hut.length}),this.Hut.push({Wet:n,Gs:wX.Znt,Rr:e,jut:this.Hut.length}))}},n.ZB=function(){var t=[];mc(this.Uut,(function(t,n){return t.Wet-n.Wet||t.jut-n.jut})),mc(this.Hut,(function(t,n){return t.Wet-n.Wet||t.jut-n.jut}));for(var n=0,i=this.Uut;n<i.length;n++){var e=i[n],r=this.Yut(e);r&&t.push(r)}for(var u=0,s=this.Hut;u<s.length;u++){var o=s[u];this.Xut.Dut(o)}for(var a=this.Xut.Put(),c=0;c<a.length;c++){var h,f=a[c],v=this.Qut(f);(h=t).push.apply(h,Ce(v))}return this.Xut.But(),this.Uut=[],this.Hut=[],t},n.Yut=function(t){var n=t.Gs;if(nz.drt(t.urt)){var i=t.urt>>3&1;0===n?this.Wut=i:this.qut=i}var e="CC"+(n<<1|(n?this.qut:this.Wut)+1),r=this.Vut.get(e);return 255===t.urt&&255===t.Vet||!t.urt&&!t.Vet||!this.Zut(t.urt)||!this.Zut(t.Vet)?(++this.zut>=45&&this.Nf(),null):(this.zut=0,t.urt&=127,t.Vet&=127,t.urt||t.Vet?nz.drt(t.urt)?r.rrt(t):r.irt(t.Wet,t.urt,t.Vet):null)},n.Qut=function(t){var n=[];try{for(;t.Lut();){var i=t.sut().Rr,e=(224&i)>>5,r=31&i;if(7===e&&0!==r)e=63&t.sut().Rr;if(0!==e){if(!this.Gut.has(e)){var u=new fz(e);this.Gut.set(e,u)}for(var s=this.Gut.get(e),o=t.Mut();t.Mut()-o<r;){var a=s.uut(t);a&&n.push(a)}}}}catch(t){if(!(t instanceof bw&&t.code===gw.SUBTITLE_PARSE_ERROR))throw t}return n},n.Zut=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}();me(),zt();var kz=function(t){function n(n,i){var e;return(e=t.call(this,"Kut")||this).cet=n,e.Ap=i,e}return ze(n,t),n}(fh),bz=function(t){function n(){return t.apply(this,arguments)}return ze(n,t),n.prototype.Jut=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];this.$ut(e,e.oK.Kp()+n)}this.ZB()},n}(function(t){function n(){var n;return(n=t.call(this)||this).tst=new Az,n}ze(n,t);var i=n.prototype;return i.$ut=function(t,n){this.tst.j7(t,n)},i.ZB=function(){for(var t=this.tst.ZB(),n=0;n<t.length;n++){var i=t[n];this.Ho(new kz(i.cet,i.Ap))}},i.Nf=function(){this.tst.Ra()},i.bv=function(){this.qo(),this.tst.Ra()},n}(oh)),Tz=function(t){function n(n){var i;return(i=t.call(this)||this).nst=void 0,i.ist=NaN,i.rst=NaN,i.ust=function(t){i.sst({ost:t.cet,ast:""}).lI(t.Ap)},i.cI=n,i.cst=ka(),i.hst=new bz,i.hst.zo("Kut",i.ust),i}ze(n,t);var i=n.prototype;return i.fst=function(t){return this.cst.get(t)},i.sst=function(t){var n=this.cst.get(t.ost);return n||(n=this.vst(t),this.cst.set(t.ost,n)),n},i.vst=function(t){var n,i=[ny.dg],e=function(t){if(t!==EX)for(var n=t.toLowerCase(),i=0;i<IX.length;i++){var e=IX[i];if(e[1]===n||e[2]===n||e["2T"]===n||e["2B"]===n||e[3]===n)return e}}(t.ast),r=e?e.Sr:"";t.dst&&(r="easy "+r,i.push(ny.yg)),n=t.ag?"CC "+t.ag:r?"CC "+r:"CC"+t.ost;var u=this.cI.vI(Mb.QE,n,n,t.ast,!1,AA.CEA608,void 0,i);return this.U_(u),u},i.Dnt=function(t){var n=db.fT(Rf(t));this.nst=function(t){for(var n=0,i=t.ET;n<i.length;n++){var e=i[n],r={UT:(h=e).rT.UT,ait:h.xT.rT.VA},u=e.xT.jT.ZT.JT.tS,s=Ec(u,(function(t){return t.Gs===lk.jk}));if(!s){var o=Ec(u.filter((function(t){return t.Gs===lk._b})),(function(t){var n;return(null==(n=t.zS)?void 0:n.Gs)===lk.jk}));o&&(s=o.zS)}if(s){var a=sP(Rf(s.RS.jr),new xf),c=s.NS;return ga({},r,{UT:e.rT.UT,RS:Of(s.RS.jr),Qp:s.Qp,zT:s.zT,$S:c&&c.$S,JS:c&&c.JS,$z:a.EX,lst:a.IX,tV:a.RX,NX:a.NX[0],DX:a.DX[0]})}}var h}(Ec(n,BX))},i.B8=function(t,n,i,e){if(this.nst&&(_(this.ist)||!eu(this.ist,n,1e-5))){_(this.rst)||eu(n,this.rst,1e-5)||this.hst.Nf();var r=function(t){for(var n=[],i=0;i<t.length;i++){var e,r=t[i];r.qE.mit&&(e=n).push.apply(e,Ce(r.qE.mit)),delete r.qE.mit}for(var u=0;u<n.length;u+=1)n[u].aE=u;return n.sort(eL)}(function(t,n,i,e,r){for(var u=function(n){var e=o[n],u=Ec(e.ET,(function(t){return t.rT.UT===i.UT}));if(!u)return"continue";for(var c,h=u.rT.iE||0,f=u.rT.eE||0,v=u.dE?u.dE.dE:Jr.ZERO,d=e.oE+(null!=(c=u.rT.lE)?c:Jr.ZERO).toNumber(),l=0,w=u.vE;l<w.length;l++)for(var _=w[l],g=d+(_.oE||0),m=0,y=_.yE;m<y.length;m++){var p=y[m],A=p.Ca||f,k=new cP;k.qX(t,g,g+A);var b=ak.PA(v,i.ait);k.qE=r(p,e,i,b,Pf(t,g,g+A)),s.push(k),g+=A,v=v.add(p.Am||h||a)}},s=[],o=n.filter(CX),a=e(i),c=0;c<o.length;c++)u(c);return s}(t,db.fT(Rf(t)),this.nst,RX,PX));this.hst.Jut(r,e),this.ist=n,this.rst=i}},i.Nf=function(){var n=this;return this.hst.Nf(),this.cst.forEach((function(t){t.bv(),n.H_(t),n.cI.wI(t)})),this.cst.clear(),this.nst=void 0,this.ist=NaN,this.rst=NaN,t.prototype.Nf.call(this)},i.bv=function(){return this.hst.Go("Kut",this.ust),this.hst.bv(),t.prototype.bv.call(this)},n}(eT);function Sz(t){if(t.Gs===dF.m3&&void 0!==t.L0){var n=t.L0.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.L0.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}me(),zt(),me(),zt();var Ez=function(){function t(t){this.wst=!1,this.Q6=t}var n=t.prototype;return n._st=function(t,n){return this.wst?this.Q6._st(t,n):j.resolve(!1)},n.w7=function(t,n){return this.wst?this.Q6.w7(t,n):j.resolve(void 0)},n.l8=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return[4,n.Q6.l8(t)];case 1:return i=e.sent(),n.wst=void 0!==i,[2,i]}}))}))()},n.WF=function(t){return this.Q6.WF(t)},t}();me(),zt(),me(),zt();var Iz=function(t){function n(n,i,e,r,u,s,o){var a;return(a=t.call(this,qw.Ed,n,i,e,r,u)||this).H9=s,a.Yy=o,a}return ze(n,t),n}(function(t){function n(n,i,e,r,u,s){var o;return(o=t.call(this,n)||this).gst=i,o.mst=e,o.aE=r,o.UT=u,o.zl=s,o}return ze(n,t),n}(fh));me(),zt();var Rz="LLHLSPlayer",Cz=[up.lm,up.wm,up._m,up.R_],Nz=[qw.md,qw.pd,qw.Zv],Dz=function(t){function n(n,i,e,r,u,s,o){var a;(a=t.call(this)||this).AP=e,a.o7=r,a.yst=u,a.pst=ka(),a.Ast=!1,a.aI=new Wc,a.kst=void 0,a.k8=void 0,a.YC=void 0,a.Z7=void 0,a.bst=void 0,a.Tst=new Wc,a.b8=void 0,a.Sst=void 0,a.Est=void 0,a.Ist=void 0,a.Rst=void 0,a.Cst=void 0,a.Nst=void 0,a.Dst=void 0,a.Pst=void 0,a.Bst=[],a.nq=void 0,a.rq=void 0,a.Ost=void 0,a.xst=void 0,a.Lst=void 0,a.Ktt=void 0,a.Mst=new Wc,a.Fst=void 0,a.nY=new Wc,a.tY=void 0,a.Ust=-1,a.Hst=void 0,a.Xst=void 0,a.zst=void 0,a.Vst=void 0,a.Wst=void 0,a.qst=void 0,a.Gst=!0,a.jst=0,a.Yst=!1,a.mN=wI.hD,a.QC=void 0,a.ZC=void 0,a.oq=TI.hP(),a.Qst=[],a.Zst=void 0,a.Kst=!1,a.Jst=!1,a.$st=void 0,a.tot=void 0,a.iot=!1,a.eot=!1,a.rot=void 0,a.uot=void 0,a.JC=new uI,a.oot=0,a.handleContentProtectionErrorEvent=function(t){a.QC=eA(t.errorObject),a.ZC=t.errorObject,a.Uo(t)},a.handleBufferingErrorEvent=function(t){a.tN(new bw(gw.MEDIA_LOAD_ERROR,t.ua.message,t.ua))},a.aot=function(){a.cot();var t=a.Am;t!==a.$st&&(a.$st=t,a.Ho(new hp(a.$st)))},a.hot=function(){a.Tm&&a.Ho(new dp(a.pm))},a.fot=function(){a.Ho(new rp(a.pm))},a.vot=function(){a.Ho(new op(a.pm))},a.rN=function(){void 0!==a.uot&&De.Ke(a.uot),a.Ho(new wT(a.pm))},a.dot=function(){a.Ho(new kD(a.pm))},a.SI=function(){a.Ho(new pp(a.pm,a.Dg))},a.GG=function(){var t=a.c1;Bc(a.Qst,t)||(a.Ho(new aH),a.Qst=t),a.Ho(new vp(a.pm,a.Hy))},a.lot=function(t,n){var i=-1/0;return function(){for(var e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];var s=De.Ku();s-i>=n&&(t.apply(void 0,Ce(r)),i=s)}}((function(t){t.zl===Tp.Ll&&a.wot()&&nh(a._ot())}),200),a.got=function(t){var n;a.oot+=t.n9,"O8"===t.t9&&t.zl===Tp.Ll&&nh(a.mot()),a.Ho(new Iz(function(t){if(t){if(void 0!==t.Q2){var n,i,e=t.Q2.SD+(null!=(i=t.Q2.V_)?i:0);return{_l:t.Rr,yot:[null==(n=t.Q2)?void 0:n.SD,e],Vl:!0}}return{_l:t.Rr.toString()||"",Vl:!0}}return{_l:"",Vl:!0}}(t.uri),(null==(n=a.s1)?void 0:n.NC)||0,t.mediaSequenceNumeber,t.mediaTrackId,t.zl,t.httpStatusCode,t.n9))},a.hq=function(){a.Ho(new wp(a.pm))},a.iN=function(){a.Ho(new _p(a.pm))},a.pot=function(){a.Ho(new gp(a.pm,a.Pm))},a.Aot=function(){a._N.Cm?a.Ho(new lT(a.pm)):(null!=a.uot||(a.uot=De.Je((function(){a.eot&&(a.rot=void 0,nh(a.kot()))}),2500)),a.Ho(new lT(a.pm)))},a.bot=function(){a.eot=!0,a.Ho(new mp(a.pm,a.Dg))},a.Tot=function(t){Gc(t)||qb(t)||Gb(t)||(a.Sot(),nh(a.Eot()),a.Ho(new eF(t)))},a.A8=function(){a.cot()},a.Iot=function(t){nh(a.Rot(t.i1))},a.Cot=_r((function(t,n){var i=[a.Z7,a.Fst,a.tY].filter(er);a.nY=new Wc,a.tY=a.wQ(i,t,n,a.nY.Lo).catch(a.Tot)}),50),a.Not=function(t){if(!Gc(t)){var n=t instanceof bw?t:new bw(gw.MEDIA_DECODE_ERROR,t.message,t);a.tN(n)}},a.onTextTrackChange=function(t){if(a.Rst){var n=t.w_,i=Ec(a.Rst.L4,(function(t){return n===a.pst.get(t.rg)}));i&&(n.Sg===hy.Ig||n.Sg===hy.Eg?(nh(a.Dot(i)),a.pst.forEach((function(t){t!==n&&(t.Sg=hy.Rg)}))):a.Dst&&a.Dst===i&&nh(a.Pot(a.Cst,a.Nst,void 0)))}};var c=mu(a);return a.retryOfflineRenditionsCallback=_a((function(t,n){return ma(this,(function(i){switch(i.label){case 0:return c.Bot!==t&&c.v1!==t&&c.l1!==t?[2]:[4,c.b8.h8(t,n)];case 1:return i.sent(),t.D0.a6=-1/0,[2]}}))})),a.Oot=function(){a.xot()},a.Lot=function(){a.Mot()},a.Fot=function(t){a.b8.m8(t.h0,t.i1.D0),a.Uot.X1();var n=a.Rst;if(n){var i=void 0!==a.Cst&&!Dc(n.U1,a.Cst),e=void 0!==a.Nst&&!Dc(n.H1,a.Nst);(i||e)&&a.Pot(i?void 0:a.Cst,e?void 0:a.Nst,a.Dst).catch(lr)}},a.Hot=function(t){a.Uot.W1(t.i1,t.v0)},a.Xot=function(t){a.Uot.G1(t.i1,t.Itt.Kp())},a.zot=function(t){a.b8._8(t.i1)},a.Q6=new Ez(s),a._N=n,a.hI=i,a.KC=new iF(a.AP.iM),a.Vot=new rF(a._N),a.Wot=new kF(a.AP),a.qot=o.retryConfiguration,a.Km=new rA,a.Jm=new rA,a.Uot=new GM(mu(a),a.Km,a.Jm),a.Got=new Ub,a.SN=new uT(a._N,a.hI),a.Rnt=new yX(a._N),a.Cnt=new Tz(a._N),a.$m=new iI([a.Got,a.SN.ET,a.Rnt.ET,a.Cnt.ET]),a.AN=new tI(a.hI),a._N.kN=a.AN,a.jot=new Bz(mu(a),a._N),a.Yot=new gT(a.jot,!0),a.Qot(),a}ze(n,t);var i=n.prototype;return i.wot=function(){if(void 0===this.xst)return!1;var t=xC();if(!this.xst.hnt.Z9(t))return!1;var n=this.xst.hnt.j9();if(void 0===n||void 0===n.O8.Am)return!1;var i=this.pm,e=this.Rm,r=this.xst.rnt.rP(i);return!((void 0!==r?r.RD(0)-i:0)>=2*n.O8.Am*e)&&8*n.Q9/this.AP.iM.NC>=1.8*n.O8.Am},i._ot=function(){var t=this;return _a((function(){var n,i,e,r,u,s,o;return ma(this,(function(a){switch(a.label){case 0:return[4,t.q2()];case 1:return void 0===(i=a.sent())||void 0===(e=null==(n=t.xst)?void 0:n.hnt.j9())?[2]:(r=t.Rst,u=d.max(0,e.Q9-e.Y9),s=e.Q9*(i.NC/r.NC),u<=s?[2]:(o=i.NC<r.NC,[4,t.f1(i,o)]));case 2:return a.sent(),[2]}}))}))()},i.Zot=function(t){return xc(t,(function(t){return t.NC}))},i.kot=function(){var t=this;return _a((function(){var n,i,e;return ma(this,(function(r){switch(r.label){case 0:return[4,t.Kot()];case 1:return 0===(n=r.sent()).length?[2]:[4,t.Jot(n)];case 2:return(i=r.sent()).length>0&&(n=i),void 0===(e=t.Zot(n))?[3,4]:[4,t.f1(e,!0)];case 3:r.sent(),t.KC.L2(e.NC),r.label=4;case 4:return[2]}}))}))()},i.Ba=function(t,n){void 0===n&&(n=!1),zM.jT(Rz,"Seeking to "+t+" s."),this.Zst=t,this.Kst=n,this.tot=!0,this.Jst=!0,this.Ho(new wp(t)),this.nY.Bo(),this.Ast&&this.Cot(t,n)},i.cot=function(){var t=function(t){for(var n=new TI([0,1/0]),i=0,e=0;e<t.length;e++){var r=t[e].D0.$y;r.V_>0&&(n=n.UD(r),i=d.max(i,r.SD(0)))}if(n.V_>0)return n;return TI.aP(i)}([this.Cst,this.Nst].filter(er));0!==t.V_&&(this.YC&&this.$ot&&this.YC.Am!==1/0&&(t=new TI([t.SD(0),this.YC.Am])),this.oq=t,this.Rnt.oI(t.SD(0)),this.Cnt.oI(t.SD(0)))},i.Ay=function(){return!1},i.Dy=function(){return II},i.Cy=function(){zM.jT(Rz,"Hiding the player."),this._N.Cy()},i._y=function(){zM.jT(Rz,"Pausing the player."),this._N._y()},i.wy=function(){var t=this;return _a((function(){var n;return ma(this,(function(i){switch(i.label){case 0:return n=t._N.wy(),t.Ast?[3,2]:[4,t.wf()];case 1:i.sent(),i.label=2;case 2:return[4,n];case 3:return i.sent(),[2]}}))}))()},i.nat=function(){this.QC=void 0,this.ZC=void 0},i.tN=function(t){this.QC||(nh(this.Nf()),this.QC=eA(t),this.ZC=t,this.Ho(new Ap(t)))},i.Ry=function(){zM.jT(Rz,"Showing the player."),this._N.Ry()},i.by=function(){throw new h("Not implemented")},i.Ty=function(){throw new h("Not implemented")},i.My=function(){},i.Fy=function(){this.Ast&&nh(this.Pot(this.Cst,this.Nst,this.Dst,{Fy:!0}))},i.py=function(t,n,i){var e=this;return _a((function(){return ma(this,(function(r){switch(r.label){case 0:return zM.jT(Rz,"Setting the player source to "+t.src+"."),e.nat(),!e.kst||Ky(e.kst)?[3,2]:[4,e.Nf()];case 1:r.sent(),jc(i),r.label=2;case 2:return!t.src||Ky(t)||(e.AN.OC(t.contentProtection),e.k8=t,e.zo(dM.C0,e.handleBufferingErrorEvent),e.b8=new iH(e.hI,e.Q6,t.useCredentials,De.Es(t.src)),e.b8.zo(JU.q6,e.A8),e.b8.zo(JU.G6,e.Iot),e.b8.zo(qw.od,e.Uo),e.b8.zo(qw.hd,e.Uo),e.iat=new oH(t,e.b8,e._N),e.$m.zC(e.iat.vy),e.Ktt=e.yst.RJ(),n.textTracks&&e.NN(n.textTracks),hT(e.$m),e.eat()),[2]}}))}))()},i.eat=function(){this.Tst.Bo(),this.Tst=new Wc,this.bst=this.rat(this.bst,this.Tst.Lo).catch(this.Not)},i.rat=function(t,n){var i=this;return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:return e=i.mN,t?[4,t]:[3,2];case 1:r.sent(),jc(n),r.label=2;case 2:return e!==wI.hD&&i.b8?e===wI.Ob?(i.uat(n).catch(i.Not),[2]):(i.wf().catch(i.Not),[2]):[2]}}))}))()},i.uat=function(t){var n=this;return _a((function(){var i,e;return ma(this,(function(r){switch(r.label){case 0:if(void 0===n.b8)return[2];if(n.b8.y8)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.b8.e8(t)];case 2:return r.sent(),[3,4];case 3:throw Yc(i=r.sent()),n.Zy=!1,new bw(gw.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+i.message,i);case 4:return[4,n.sat()];case 5:return e=r.sent(),n.oat(e),n.Uot.L1(),[4,n.aat(e,t)];case 6:return r.sent(),n.fat(),[2]}}))}))()},i.sat=function(){var t=this;return _a((function(){var n,i;return ma(this,(function(e){switch(e.label){case 0:if(t.Pst=t.b8.M1.F1,!t.Pst.length)throw new bw(gw.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");return[4,t.vat(t.Pst)];case 1:if(0===(n=e.sent()).length)throw new bw(gw.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");return[4,t.Jot(n)];case 2:return(i=e.sent()).length>0&&(n=i),zM.jT(Rz,"Selecting initial active variant stream."),[2,xz(n,t.k8.abr,t.AP,t.qot.maximumBackoff)]}}))}))()},i.aat=function(t,n){var i=this;return _a((function(){var e,r,u,s;return ma(this,(function(o){switch(o.label){case 0:return(e=Mz(t.U1))&&i.Sst!==e?(zM.jT(Rz,"Detected initial audio rendition."),i.Sst=e,[4,i.dat(e,n)]):[3,2];case 1:o.sent(),o.label=2;case 2:return(r=Oz(t.L4))&&i.Ist!==r?(zM.jT(Rz,"Detected initial subtitle rendition."),i.Ist=r,[4,i.dat(r,n)]):[3,4];case 3:o.sent(),o.label=4;case 4:return r||(u=Oz(t.M4))&&(zM.jT(Rz,"Detected initial closed caption rendition."),i.wat(t,u)),(s=Mz(t.H1))&&i.Est!==s?(zM.jT(Rz,"Detected initial video rendition."),i.Est=s,e&&yM(s,e)?[3,6]:[4,i.dat(s,n)]):[3,6];case 5:o.sent(),o.label=6;case 6:return[2]}}))}))()},i.fat=function(){this.iot||(this.iot=!0,this.jot._at())},i.dat=function(t,n){var i=this;return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),[4,i.b8.h8(t,n)];case 1:return r.sent(),[3,5];case 2:return Yc(e=r.sent()),qb(e)||Gb(e)?[4,i.gat(t,n)]:[3,4];case 3:r.sent(),r.label=4;case 4:return[3,5];case 5:return[2]}}))}))()},i.gat=function(t,n){var i=this;return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:return i.Yst?[2]:t.Gs===dF.Ll?[3,2]:[4,i.mat(t,n)];case 1:return r.sent(),[3,7];case 2:return i.Pst&&i.Pst.length<=1?[4,i.mat(t,n)]:[3,4];case 3:return r.sent(),[3,7];case 4:return[4,i.sat()];case 5:return e=r.sent(),i.oat(e),[4,i.aat(e,n)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))()},i.wf=function(){return this.Z7||(this.Z7=this.Vw(this.aI.Lo).catch(this.Not)),this.Z7},i.Vw=function(t){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return n.iot?[3,2]:[4,n.uat(t)];case 1:i.sent(),i.label=2;case 2:return n.Pot(n.Sst,n.Est,n.Ist).catch(lr),n.Ast=!0,[2]}}))}))()},i.NN=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.SN.fI(i)}},i.wat=function(t,n){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i],r=Sz(e);void 0!==r&&n.push({ost:r,ast:e.hg||"",ag:e.Sr})}return n}(t.M4),e=0;e<i.length;e++){var r=i[e];this.Cnt.sst(r)}if(void 0!==n){var u=Sz(n);this.Cnt.fst(u).Sg=hy.Eg}},i.h1=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.yat(i))throw new h("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.Pst=t},i.yat=function(t){var n=this.M1;return!!n&&Dc(n.F1,t)},i.pat=function(t){if(this.Rst)return Ec(this.Rst.V1,(function(n){return n===t}))},i.oat=function(t){if(zM.jT(Rz,"Setting active variant stream."),this.Rst!==t){var n;if((null==(n=this.Rst)?void 0:n.I3)!==(null==t?void 0:t.I3)){if(this.Rst)for(var i=0,e=this.Rst.L4;i<e.length;i++){var r=e[i];this.wI(r)}if(t)for(var u=0,s=t.L4;u<s.length;u++){var o=s[u];this.Aat(o)}}this.Rst=t,this.Ho(new YH)}},i.Aat=function(t){var n=this._N.vI(Mb.Pb,void 0,t.Sr,t.hg,t.P0,void 0,void 0,t.U0.map(XM).filter(er));this.Got.U_(n),this.pst.set(t.rg,n),n.zo(Bm.E_,this.onTextTrackChange)},i.wI=function(t){var n=this.pst.get(t.rg);n&&(n.Go(Bm.E_,this.onTextTrackChange),this.Got.H_(n),this.pst.delete(t.rg),this._N.wI(n))},i.Kot=function(){var t=this;return _a((function(){var n,i,e,r;return ma(this,(function(u){switch(u.label){case 0:return 0!==(i=null!=(n=t.Pst)?n:t.M1.F1).length||t.Pst?1!==i.length||t.Pst?[4,t.vat(i)]:(zM.jT(Rz,"The HLS stream contains only a single variant stream, skipping ABR selection."),[2,[]]):(zM.jT(Rz,"The HLS stream does not contain any variant streams, skipping ABR selection."),[2,[]]);case 1:return 0===(e=u.sent()).length?(zM.D1(Rz,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),[2,[]]):0!==(r=Fz(e,t.qot.maximumBackoff)).length?[3,3]:t.Yst?[2,[]]:(zM.D1(Rz,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),t.jst++,[4,t.bat(e)]);case 2:return u.sent(),[2,[]];case 3:return[2,r]}}))}))()},i.mot=function(){var t=this;return _a((function(){var n,i;return ma(this,(function(e){switch(e.label){case 0:return[4,t.q2()];case 1:return void 0===(n=e.sent())?[2]:(i=!!t.Rst&&n.NC<t.Rst.NC,[4,t.f1(n,i)]);case 2:return e.sent(),[2]}}))}))()},i.q2=function(){var t=this;return _a((function(){var n,i,e,r,u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:return[4,t.Kot()];case 1:return 0===(e=c.sent()).length?[2,void 0]:(h=t._N,f=h.pm,v=h.Uy.rP(f),r=v?v.RD(0)-f:0,[4,t.Jot(e)]);case 2:return u=c.sent(),s={Qp:t._N.Qp,zT:t._N.zT,U2:r,z2:null==(n=t.k8)||null==(i=n.abr)?void 0:i.restrictToPlayerSize},[4,t.Wot.q2(e,t.Rst,u,s)];case 3:return o=c.sent(),a=!!t.Rst&&o.NC<t.Rst.NC,[2,a||t.Tat(o,e,r)?o:void 0]}var h,f,v}))}))()},i.Tat=function(t,n,i){var e;if(t===this.s1)return!1;if(t===this.Zot(n))return!0;(!this.rot||this.rot.o1.NC>t.NC)&&(this.rot={o1:t,cit:De.Ku()});var r,u=De.Ku()-this.rot.cit,s=null!=(r=null==(e=this.l1)?void 0:e.D0.F2)?r:1/0;return i>=d.max(s-1,5)||u>1e3},i.bat=function(t){var n=this;return _a((function(){var i,e,r,u;return ma(this,(function(s){switch(s.label){case 0:n.Yst=!0,i=!1,e=0,s.label=1;case 1:if(!(e<t.length))return[3,6];r=t[e],s.label=2;case 2:return s.trys.push([2,4,,5]),void 0===(u=n.Nst?Ec(r.H1,(function(t){return mM(t,n.Nst)})):void 0)?[3,5]:[4,n.h8(u)];case 3:return s.sent(),u.D0.a6=-1/0,i=!0,[3,5];case 4:return s.sent(),[3,5];case 5:return e++,[3,1];case 6:return i?(n.jst=0,[4,n.Sat()]):[3,8];case 7:return s.sent(),[3,10];case 8:return n.jst>=n.qot.maxRetries?(n.tN(new bw(gw.MEDIA_LOAD_ERROR,"The provided video renditions could not be loaded.")),[2]):[4,rh(d.min(n.qot.minimumBackoff*d.pow(2,n.jst-1),n.qot.maximumBackoff))];case 9:s.sent(),s.label=10;case 10:return n.Yst=!1,[4,n.mot()];case 11:return s.sent(),[2]}}))}))()},i.vat=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return[4,Fc(t,_a((function(t){var i,e,r;return ma(this,(function(u){switch(u.label){case 0:return t.h0?(e=!t.h0.g1)?[3,2]:[4,n.Vot.xU('audio/mp4; codecs="'+t.h0.g1+'"')]:[2,!0];case 1:e=u.sent(),u.label=2;case 2:return(i=e)?(r=!t.h0.b1)?[3,4]:[4,n.Vot.xU('video/mp4; codecs="'+t.h0.b1+'"')]:[3,5];case 3:r=u.sent(),u.label=4;case 4:i=r,u.label=5;case 5:return[2,i]}}))})))];case 1:return(i=e.sent()).some((function(t){var n;return null==(n=t.h0)?void 0:n.b1}))&&(i=i.filter((function(t){return!t.h0||t.h0.b1||0!==t.H1.length}))),i.some((function(t){var n;return null==(n=t.h0)?void 0:n.g1}))&&(i=i.filter((function(t){return!t.h0||t.h0.g1||0!==t.U1.length}))),[2,i]}}))}))()},i.Jot=function(t){var n=this;return Fc(t,(function(t){return function(t,n){return Xc.apply(this,arguments)}([Mz(t.U1),Mz(t.H1),Oz(t.L4),Oz(t.M4)].filter(er),(function(t){return n.Eat(t)}))}))},i.Eat=function(t){var n=this;return _a((function(){var i,e,r;return ma(this,(function(u){switch(u.label){case 0:if(0===t.D0.Y2.length)return[2,!1];if(!(i=t.D0.Y2[0]).F0)return[2,!1];e=i.F0,r=e.Q2?bF(e.Q2.SD,e.Q2.V_):void 0,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.Q6._st(e.Rr,r)];case 2:return[2,u.sent()];case 3:return u.sent(),[2,!1];case 4:return[2]}}))}))()},i.f1=function(t,n){var i=this;return _a((function(){var e,r,u;return ma(this,(function(s){switch(s.label){case 0:if(!i.Ast)throw new h("LLHLSPlayer - The LLHLSPlayer is not loaded.");if(!t)throw new h("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");if(!i.yat(t))throw new h("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");return t===i.Rst?(zM.jT(Rz,"Trying to set the already active variant stream, ignoring."),[2]):(e=i.Cst?Ec(t.U1,(function(t){return mM(t,i.Cst)})):void 0,r=i.Nst?Ec(t.H1,(function(t){return mM(t,i.Nst)})):void 0,u=i.Dst?Ec(t.L4,(function(t){return mM(t,i.Dst)})):void 0,i.oat(t),i.rot=void 0,[4,i.Pot(e,r,u,{Iat:n})]);case 1:return s.sent(),[2]}}))}))()},i.d1=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:if(!n.Ast)throw new h("LLHLSPlayer - The LLHLSPlayer is not loaded");if(!n.Rst)throw new h("LLHLSPlayer - Cannot set the active audio rendition when there is no active variant stream.");if(!t)throw new h("LLHLSPlayer - Cannot explicitly set the active audio rendition to undefined.");if(!(i=n.pat(t)))throw new h("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");return zM.jT(Rz,"Switching audio rendition"),[4,n.Pot(i,n.Nst,n.Dst,{Rat:!0})];case 1:return e.sent(),[2]}}))}))()},i.w1=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:if(!n.Ast)throw new h("LLHLSPlayer - The LLHLSPlayer is not loaded");if(!n.Rst)throw new h("LLHLSPlayer - Cannot set the active video rendition when there is no active variant stream.");if(!t)throw new h("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");if(!(i=n.pat(t)))throw new h("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");return zM.jT(Rz,"Switching video rendition"),[4,n.Pot(n.Cst,i,n.Dst,{Cat:!0})];case 1:return e.sent(),[2]}}))}))()},i.Dot=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:if(!n.Ast)throw new h("LLHLSPlayer - The LLHLSPlayer is not loaded");if(!n.Rst)throw new h("LLHLSPlayer - Cannot set the active subtitle rendition when there is no active variant stream.");if(!t)throw new h("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");if(!(i=n.pat(t)))throw new h("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");return zM.jT(Rz,"Switching subtitle rendition"),[4,n.Pot(n.Cst,n.Nst,i)];case 1:return e.sent(),[2]}}))}))()},i.Rot=function(t,n){var i=this;return _a((function(){return ma(this,(function(e){switch(e.label){case 0:return i.Yst?[2]:t.Gs===dF.Ll?[3,2]:[4,i.mat(t,n)];case 1:return e.sent(),[3,8];case 2:return i.Pst&&i.Pst.length<=1?i.Nst===t?[3,4]:[4,i.Pot(i.Cst,t,i.Dst)]:[3,6];case 3:e.sent(),e.label=4;case 4:return[4,i.mat(t,n)];case 5:return e.sent(),[3,8];case 6:return[4,i.mot()];case 7:e.sent(),e.label=8;case 8:return[2]}}))}))()},i.h8=function(t,n){var i=this;return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),[4,i.b8.h8(t,n)];case 1:return r.sent(),[3,5];case 2:return Yc(e=r.sent()),qb(e)||Gb(e)?[4,i.Rot(t,n)]:[3,4];case 3:r.sent(),r.label=4;case 4:throw e;case 5:return[2]}}))}))()},i.mat=function(t,n){var i=this;return _a((function(){var e,r;return ma(this,(function(u){switch(u.label){case 0:if(Dc(i.Bst,t))return[2];i.Bst.push(t),u.label=1;case 1:return u.trys.push([1,3,4,7]),e=t.Gs===dF.Pb||t.Gs===dF.m3?1/0:i.qot.maxRetries,[4,kp((function(){return i.retryOfflineRenditionsCallback(t,n)}),n,e,i.qot.minimumBackoff,i.qot.maximumBackoff)];case 2:return u.sent(),[3,7];case 3:return r=u.sent(),i.tN(new bw(gw.MEDIA_LOAD_ERROR,r.message,r)),[3,7];case 4:return Cc(i.Bst,t),t.D0.a6!==-1/0?[3,6]:[4,i.Sat()];case 5:u.sent(),u.label=6;case 6:return[7];case 7:return[2]}}))}))()},i.Pot=function(t,n,i,e){void 0===e&&(e={});var r={Iat:e.Iat||!1,Rat:e.Rat||!1,Cat:e.Cat||!1,Fy:e.Fy||!1};return r.Fy||this.Cst!==t||this.Nst!==n||this.Dst!==i?void 0===t&&void 0===n?j.reject(new h("Trying to buffer no media renditions.")):(this.Cst=t,this.Nst=n,this.Dst=i,this.cot(),this.Ho(new QH),this.nY.Bo(),this.nY=new Wc,this.Mst.Bo(),this.Mst=new Wc,this.Fst=this.Nat([this.Fst,this.tY].filter(er),t,n,i,r,this.Mst.Lo).catch(this.Tot),this.Fst):j.resolve()},i.Nat=function(t,n,i,e,r,u){var s=this;return _a((function(){var o,a,c,h,f,v,d,l,w;return ma(this,(function(_){switch(_.label){case 0:return[4,j.all(t.map((function(t){return t.catch(lr)})))];case 1:return _.sent(),s.Sot(),[4,s.Eot()];case 2:return _.sent(),a=[],r.Rat&&s.YC&&s.YC.JW&&a.push(s.YC.JW._f(0,1/0)),r.Cat&&s.YC&&s.YC.$W&&a.push(s.YC.$W._f(0,1/0)),[4,j.all(a)];case 3:return _.sent(),jc(u),[4,s.Dat(n,i,r.Fy,u)];case 4:c=_.sent(),s.Pat(n,i,r.Iat||c),s.Bat(e,r.Iat),jc(u),h=n&&i&&yM(n,i),f=[i,h?void 0:n,e].filter(er),_.label=5;case 5:return _.trys.push([5,7,,8]),[4,j.all(f.filter((function(t){return!t.D0.s6})).map((function(t){var n;return null==(n=s.b8)?void 0:n.f8(t,u)})))];case 6:return _.sent(),[3,8];case 7:return Yc(_.sent()),[3,8];case 8:return jc(u),s.gq(),s.cot(),void 0!==s.Zst?s.Cot(s.Zst,s.Kst):!s.Jst&&(null==(o=s.Rst)?void 0:o.D0.SD)?(v=s.Rst.D0,d=v.SD,l=d.i4,d.i4<0&&(w=v.e6,l+=w.RD(w.V_-1)),s.Cot(l,!d.e4)):!s.Jst&&f.every((function(t){return!t.D0.w4}))?s.Cot(1/0,!0):s.Oat.length>0&&s.xat(),[2]}}))}))()},i.Dat=function(t,n,i,e){var r=this;return _a((function(){var u,s,o,a,c,h,f,v,d,l;return ma(this,(function(w){switch(w.label){case 0:return o=void 0!==t&&t!==n,a=void 0!==n,[4,r.Lat(t,n,r.Rst)];case 1:return c=w.sent(),jc(e),i||!r.YC||c?(h=void 0!==(null==(u=r.YC)?void 0:u.JW),f=void 0!==(null==(s=r.YC)?void 0:s.$W),v=o!==h||a!==f,!i&&!v&&c&&r.YC&&r.YC.EU(c)?[4,r.Mat(e)]:[3,4]):[2,!1];case 2:return w.sent(),[4,r.YC.IU(c)];case 3:return w.sent(),[2,!0];case 4:for(d=0,l=r.Oat;d<l.length;d++)l[d].vnt.forEach((function(t){return t.Bo()}));r._N.EQ(),w.label=5;case 5:return w.trys.push([5,,9,10]),r.YC?[4,r._N.Nf()]:[3,7];case 6:w.sent(),w.label=7;case 7:return[4,r.Fat(c,o,a)];case 8:return r.YC=w.sent(),[3,10];case 9:return r._N.IQ(),[7];case 10:return[2,!0]}}))}))()},i.Lat=function(t,n,i){var e=this;return _a((function(){var r,u,s,o,a,c,h,f,v,d,l,w;return ma(this,(function(_){switch(_.label){case 0:if(s=i.h0,o=[],s&&s.g1)a='audio/mp4; codecs="'+s.g1+'"',zM.jT(Rz,"Configuring MediaSource for initial audio rendition with codec: "+a+"."),o.push(a);else if(void 0!==t)return[2,void 0];if(s&&s.b1)c='video/mp4; codecs="'+s.b1+'"',zM.jT(Rz,"Configuring MediaSource for initial video rendition with codec: "+c+"."),o.push(c);else if(void 0!==n)return[2,void 0];return 0===o.length?(zM.D1(Rz,"No codecs found on the active variant stream."),[2,void 0]):(f=null!=(h=null==(r=null==n?void 0:n.D0.Y2[0])?void 0:r.u4)?h:[],d=null!=(v=null==(u=null==t?void 0:t.D0.Y2[0])?void 0:u.u4)?v:[],l=e.b8.M1,[4,UF(e.k8.contentProtection,o,l.W6.concat(d).concat(f),e.hI,e.k8.useCredentials)]);case 1:return w=_.sent(),[2,{Gs:fT.mI,yq:o.map((function(t){return{Gd:t}})),EN:w}]}}))}))()},i.Fat=function(t,n,i){var e=this;return _a((function(){var r;return ma(this,(function(u){switch(u.label){case 0:return t?[4,e._N.wf(t)]:[3,2];case 1:return r=u.sent(),[3,3];case 2:r=new $H(e._N,n,i),u.label=3;case 3:return e.YC=r,e.gq(),e.xot(),e.Mot(),[2,r]}}))}))()},i.gq=function(){var t=this.YC;if(t&&_(t.Am)){var n,i,e,r=null!=(e=null==(n=this.Cst)?void 0:n.D0.Am)?e:null==(i=this.Nst)?void 0:i.D0.Am;void 0!==r&&r>0&&t.wq(r)}this.cot()},i.xot=function(){var t=this.YC;t&&(t.$W&&(t.$W.aM=this.AP.kM),t.JW&&(t.JW.aM=this.AP.kM))},i.Mot=function(){var t=this.YC;t&&(t.$W&&(t.$W.cM=this.AP.cM),t.JW&&(t.JW.cM=this.AP.cM))},i.Pat=function(t,n,i){if(!this.YC)throw new h("Invalid state");this.YC.JW?this.nq&&this.nq.Nnt(this.YC.JW)||(this.nq=new hX(Tp.xl,this.YC.JW,this.Rnt,this.Cnt)):this.nq=void 0,this.YC.$W?this.rq&&this.rq.Nnt(this.YC.$W)||(this.rq=new hX(Tp.Ll,this.YC.$W,this.Rnt,this.Cnt)):this.rq=void 0;var e,r,u,s,o,a,c,f,v,d,l,w,_,g,m,y,p=t&&n&&yM(t,n);if(this.rq&&n){var A=p&&this.nq?[this.rq,this.nq]:[this.rq];this.xst?this.xst.i1!==n&&(i&&(this.xst.Bo(),this.xst.tnt.Ra()),this.xst.y9(n)):(this.xst=(e=n,r=A,this._N,u=this.b8,s=this.hI,o=this.Q6,a=this.o7,c=this.Ktt,f=this.AP,v=this.k8.useCredentials,d=u.M1.HE,l=new BH(d),w=new CH(Tp.Ll,e,u,l,s,o,a,v),_=r.map((function(t){return t.Gs})),g=c.Uat(l,u.M1.HE,_),(m=new jH(w,l,g,f)).$tt(r),m),this.xst.hnt.zo(EH.K7,this.lot),this.xst.hnt.zo(EH.J7,this.got),this.xst.fnt.zo(UH.btt,this.Fot),this.xst.fnt.zo(UH.Stt,this.Hot),this.xst.fnt.zo(UH.Ett,this.Xot),this.xst.fnt.zo(UH.Ttt,this.zot)),this.xst.$tt(A)}else{var k;null==(k=this.xst)||k.Io(),this.xst=void 0}this.nq&&t&&!p?(this.Ost?this.Ost.i1!==t&&(i&&(this.Ost.Bo(),this.Ost.tnt.Ra()),this.Ost.y9(t)):(this.Ost=function(t,n,i,e,r,u,s,o,a,c){var h=e.M1.HE,f=new BH(h),v=new CH(Tp.xl,t,e,f,r,u,s,c),d=o.Uat(f,e.M1.HE,[n.Gs]),l=new jH(v,f,d,a);return l.$tt([n]),l}(t,this.nq,this._N,this.b8,this.hI,this.Q6,this.o7,this.Ktt,this.AP,this.k8.useCredentials),this.Ost.hnt.zo(EH.J7,this.got),this.Ost.fnt.zo(UH.btt,this.Fot),this.Ost.fnt.zo(UH.Ttt,this.zot)),this.Ost.$tt([this.nq])):(null==(y=this.Ost)||y.Io(),this.Ost=void 0);this.Hat()},i.Bat=function(t,n){this.Lst&&(this.Lst.hnt.i1===t?n&&(this.Lst.Bo(),this.Lst.tnt.Ra()):(this.Lst.Io(),this.Lst=void 0));if(!this.Lst&&t){var i=this.pst.get(t.rg);i.Sg=hy.Eg,this.Lst=function(t,n,i,e,r,u,s){var o=i.M1.HE,a=new xH(n,o),c=new BH(o),h=new CH(Tp.dr,t,i,c,e,r,u,s),f=new WH(c,o,Tp.dr),v=new jH(h,c,f);return v.nnt(a),v}(t,i,this.b8,this.hI,this.Q6,this.o7,this.k8.useCredentials)}},i.Hat=function(){var t=[this.nq,this.rq].filter(er).map((function(t){return t.Gs}));this.b8.M1.HE.C6(t)},i.wQ=function(t,n,i,e){var r=this;return _a((function(){var u;return ma(this,(function(s){switch(s.label){case 0:return[4,j.all(t.map((function(t){return t.catch(lr)})))];case 1:return s.sent(),jc(e),[4,r.Eot()];case 2:return s.sent(),jc(e),r.Zst=void 0,r.tot=void 0,r.Jst=!0,u=r.Xat.LD(n),r._N.Ba(u,i),r.Ast&&r.Oat.length>0&&(r.zat(r._N.pm),r.xat()),[2]}}))}))()},i.zat=function(t){for(var n=0,i=this.Oat;n<i.length;n++){var e=i[n];e.k9(t)||(e.ant(),e.tnt.ctt()),e.unt(t)||(e.cnt(),e.tnt.htt())}},i.Sot=function(){for(var t=0,n=this.Oat;t<n.length;t++){n[t].Bo()}},i.Eot=function(){return j.all([this.Vat(),this.Wat(),this.qat()])},i.xat=function(){this.Gat(),this.jat(),this.Yat()},i.Sat=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return t.Ast&&t.Oat.length>0?(t.Oat.forEach((function(t){return t.ant()})),[4,t.Vat()]):[3,2];case 1:n.sent(),t.Gat(),t.Oat.forEach((function(t){return t.hnt.R9()})),n.label=2;case 2:return[2]}}))}))()},i.Gat=function(){var t=this;if(!this.Vst){var n=function(){t.Vst=void 0};this.Hst=new Wc,this.Vst=this.Qat(this.Hst.Lo).catch(this.Tot).then(n,n)}},i.Vat=function(){var t=this;return _a((function(){var n,i;return ma(this,(function(e){switch(e.label){case 0:return null==(n=t.Hst)||n.Bo(),i=t.Vst,t.Vst=void 0,i?[4,i]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))()},i.Qat=function(t){var n=this;return _a((function(){var i,e,r,u,s,o,a,c,h,f,v,d;return ma(this,(function(l){switch(l.label){case 0:jc(t),i=n.Oat,l.label=1;case 1:for(e=[],r=n._N.pm,u=0;u<i.length;u++)if(s=i[u],o=s.hnt,a=s.ent(r),o.Y8)e.push(o.Z8());else if(s.ont(r,a,n.AP.kM)){if(void 0===(c=o.b9(a))){if(o.i1.D0.w4)continue;(h=o.i1.D0.Y2).length&&h[0].kp>a&&(n.pm=1/0),o.D9(),o.E9(a)}else f=ya(c,2),v=f[0],d=f[1],o.O9(v,d,s.F8);e.push(o.Z8())}return[4,Jc((function(t){if(0===e.length){i.every((function(t){return t.hnt.K9}))||e.push(n._N.Zo(qw.Cd,t));for(var r=0;r<i.length;r++){var u=i[r];e.push(u.fnt.Zo(UH.Ttt,t))}}return Zc(j.race(e),t)}),t)];case 2:return l.sent(),[3,1];case 3:return[2]}}))}))()},i.jat=function(){var t=this;if(!this.Wst){var n=function(){t.Wst=void 0};this.Xst=new Wc,this.Wst=this.Zat(this.Xst.Lo).catch(this.Tot).then(n,n)}},i.Wat=function(){var t=this;return _a((function(){var n,i;return ma(this,(function(e){switch(e.label){case 0:return null==(n=t.Xst)||n.Bo(),i=t.Wst,t.Wst=void 0,i?[4,i]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))()},i.Zat=function(t){var n=this;return _a((function(){var i,e,r,u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:jc(t),i=n.Oat,c.label=1;case 1:for(e=[],r=0;r<i.length;r++)u=i[r],s=u.hnt,(o=u.fnt).Y8?e.push(o.Z8()):(a=s.p9())?"O8"===a.Gs?(o.Ftt(a),e.push(o.Z8())):"h4"===a.Gs&&(o.Ltt(a),e.push(o.Z8())):e.push(s.C9());return 0!==e.length?[3,2]:[3,5];case 2:return[4,Zc(j.race(e),t)];case 3:c.sent(),c.label=4;case 4:return[3,1];case 5:return[2]}}))}))()},i.Yat=function(){var t=this;if(!this.qst){this.zst=new Wc;var n=function(){t.qst=void 0};this.qst=this.Kat(this.zst.Lo).catch(this.Tot).then(n,n)}},i.qat=function(){var t=this;return _a((function(){var n,i;return ma(this,(function(e){switch(e.label){case 0:return null==(n=t.zst)||n.Bo(),i=t.qst,t.qst=void 0,i?[4,i]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))()},i.Kat=function(t){var n=this;return _a((function(){var i,e,r,u,s,o,a,c,h,f,v,d,l,w,_,g,m,y,p,A,k,b,T;return ma(this,(function(S){switch(S.label){case 0:for((i=n.Oat).forEach((function(t){return t.int()})),e=[],r=[],u=[],s=0;s<i.length;s++)for(o=i[s],a=o.fnt,c=0,h=o.vnt;c<h.length;c++)f=h[c],v=f.V8?e:r,f.Y8?v.push(f.Z8()):f.K8(n._N.pm)||((d=a.Wtt(f.Gs))?"O8"===d.Gs&&d.d4===n.Ust?(f.e7(d),v.push(f.Z8())):"jtt"===d.Gs&&d.d4===n.Ust&&(f.zV(d),v.push(f.Z8())):u.push(a.qtt(f.Gs)));return 0!==e.length?[3,8]:(l=Oc(i,(function(t){return t.vnt.filter((function(t){return t.V8})).map((function(n){return t.fnt.Wtt(n.Gs)}))}))).length>0&&l.every((function(t){return void 0!==t&&"jtt"===t.Gs&&t.d4!==n.Ust}))?(_=Lc(w=l,(function(t){return t.d4})).d4,w.every((function(t){return t.d4===_}))?(g=xc(w,(function(t){return t.kp})).kp,[4,n.Jat(w)]):[3,6]):[3,8];case 1:return m=S.sent(),n.YC.EU(m)?(zM.N1(WM,"Seamless switch from",n.YC.Sf,"to",m),[4,n.YC.IU(m)]):[3,3];case 2:return S.sent(),zM.N1(WM,"Seamless switch complete."),[3,5];case 3:return[4,n.$at(g,m,t)];case 4:S.sent(),S.label=5;case 5:return n.Ust=w[0].d4,[3,7];case 6:for(y=0;y<i.length;y++)for(p=i[y],A=0,k=p.vnt;A<k.length;A++)for(b=k[A],T=p.fnt.Wtt(b.Gs);T&&T.d4!==_;)p.fnt.n7(T),T=p.fnt.Wtt(b.Gs);S.label=7;case 7:return[3,0];case 8:return 0===e.length&&0===r.length&&0===u.length?(i.every((function(t){return t.vnt.length>0&&t.vnt.every((function(t){return t.K8(n._N.pm)}))}))&&n.YC.aW(),[3,10]):[4,Zc(j.race(Ce(e).concat(Ce(r),Ce(u))),t)];case 9:return S.sent(),[3,0];case 10:return[2]}}))}))()},i.Jat=function(t){var n=this;return _a((function(){var i,e,r,u,s;return ma(this,(function(o){switch(o.label){case 0:return e=t.map((function(t){return t.Ytt.h0})),r=e.map((function(t){return{Gd:t}})),u=Oc(t,(function(t){return t.Ytt.u4})),(i=u).push.apply(i,Ce(n.b8.M1.W6)),[4,UF(n.k8.contentProtection,e,u,n.hI,n.k8.useCredentials)];case 1:return 0===(s=o.sent()).length&&n.YC&&n.YC.Sf.EN.length>0&&(s=n.YC.Sf.EN),[2,{Gs:fT.mI,yq:r,EN:s}]}}))}))()},i.$at=function(t,n,i){var e=this;return _a((function(){var r,u,s,o,a,c,h;return ma(this,(function(f){switch(f.label){case 0:if(u=e.YC,s=u.Am,!(o=e.pm<t))return[3,6];f.label=1;case 1:f.trys.push([1,5,,6]),zM.N1(WM,"Marking end of stream and waiting for ended to switch discontinuity."),u.aW(),f.label=2;case 2:return!e._N.Tm&&e._N.pm<t?[4,e._N.Zo([qw.Cd,qw.ed],i)]:[3,4];case 3:return f.sent(),[3,2];case 4:return[3,6];case 5:throw a=f.sent(),u.rW(),u.wq(s),a;case 6:zM.N1(WM,"Perform hard switch from",null==(r=e.YC)?void 0:r.Sf,"to",n),f.label=7;case 7:return f.trys.push([7,,10,11]),e.pm<t&&(e.pm=t),e._N.EQ(),e.rq=void 0,e.nq=void 0,e.Hat(),[4,e._N.Nf()];case 8:return f.sent(),[4,e._N.wf(n)];case 9:return e.YC=f.sent(),e.gq(),e.xot(),e.Mot(),e.YC.$W&&(e.rq=new hX(Tp.Ll,e.YC.$W,e.Rnt,e.Cnt)),e.YC.JW&&(e.nq=new hX(Tp.xl,e.YC.JW,e.Rnt,e.Cnt)),e.Hat(),[3,11];case 10:return o&&nh(e._N.wy()),e._N.IQ(),[7];case 11:return e.xst&&(c=void 0!==e.nq&&void 0===e.Ost,h=c?[e.rq,e.nq]:[e.rq],e.xst.$tt(h)),e.Ost&&e.Ost.$tt([e.nq]),zM.N1(WM,"Hard switch complete."),[2]}}))}))()},i.Mat=function(t){return Zc(ih(Oc(this.Oat,(function(t){return t.vnt.map((function(t){return t.Z8()}))}))),t)},i.bv=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return zM.jT(Rz,"Unloading the player."),t.tct(),t.nat(),[4,t.Nf()];case 1:return n.sent(),t._N.kN=void 0,t.Got.bv(),[4,t.SN.bv()];case 2:return n.sent(),[4,t.Rnt.bv()];case 3:return n.sent(),[4,t.Cnt.bv()];case 4:return n.sent(),t.Km.bv(),t.Jm.bv(),t.$m.bv(),t.Yot.bv(),t.jot.Io(),t.o7.Io(),[2]}}))}))()},i.Nf=function(){var t=this;return _a((function(){var n;return ma(this,(function(i){switch(i.label){case 0:return zM.jT(Rz,"Resetting the player."),t.Go(dM.C0,t.handleBufferingErrorEvent),t.Ust=-1,t.Tst.Bo(),t.Tst=new Wc,t.aI.Bo(),t.aI=new Wc,t.nY.Bo(),t.nY=new Wc,t.Mst.Bo(),t.Mst=new Wc,n=[t.bst,t.Z7,t.tY,t.Fst].filter(er),[4,j.all(n.map((function(t){return t.catch(lr)})))];case 1:return i.sent(),t.bst=void 0,t.Z7=void 0,t.tY=void 0,t.Fst=void 0,t.Cst=void 0,t.Nst=void 0,t.Dst=void 0,t.Pst=void 0,t.Sst=void 0,t.Est=void 0,t.Ist=void 0,t.Bst=[],t.oat(void 0),t.Sot(),[4,t.Eot()];case 2:return i.sent(),t.Ost&&(t.Ost.Io(),t.Ost=void 0),t.xst&&(t.xst.Io(),t.xst=void 0),t.Lst&&(t.Lst.Io(),t.Lst=void 0),t.nq=void 0,t.rq=void 0,t.YC=void 0,t.Ktt&&(t.Ktt.Io(),t.Ktt=void 0),t.b8&&(t.b8.Io(),t.b8=void 0),t.iat&&(t.$m.WC(t.iat.vy),t.iat=void 0),[4,t.SN.Nf()];case 3:return i.sent(),[4,t.Rnt.Nf()];case 4:return i.sent(),[4,t.Cnt.Nf()];case 5:return i.sent(),t._N.LN(),[4,t._N.Nf()];case 6:return i.sent(),t.k8=void 0,t.kst=void 0,t.Ast=!1,t.oq=TI.hP(),t.Zst=void 0,t.$st=void 0,t.tot=void 0,t.Jst=!1,t.iot=!1,t.eot=!1,t.oot=0,t.Yot.Nf(),t.nct(),t.Ho(new ep(t.pm,t.Dg)),[2]}}))}))()},i.nct=function(){for(var t=0,n=this.Km.z_;t<n.length;t++){n[t].bv()}for(var i=0,e=this.Jm.z_;i<e.length;i++){e[i].bv()}for(var r=0,u=this.$m.z_;r<u.length;r++){u[r].bv()}this.Km.Nf(),this.Jm.Nf(),this.$m.Nf(),this.pst.clear()},i.Qot=function(){this.Yot.zo(Cz,this.Uo),this.Yot.zo(up.ym,this.rN),this.Yot.zo(up.gm,this.Aot),this.Yot.zo(up.dm,this.bot),this.AP.zo("fM",this.Oot),this.AP.zo("dM",this.Lot),this._N.zo(Nz,this.Uo),this._N.zo(qw.Qv,this.handleContentProtectionErrorEvent),this._N.zo(qw.$v,this.aot),this._N.zo(qw.ed,this.hot),this._N.zo(qw.ld,this.fot),this._N.zo(qw.wd,this.vot),this._N.zo(qw._d,this.dot),this._N.zo(up.R_,this.SI),this._N.zo(qw.Cd,this.GG),this._N.zo(qw.kd,this.hq),this._N.zo(qw.Ad,this.iN),this._N.zo(qw.Nd,this.pot)},i.tct=function(){this.Yot.Go(Cz,this.Uo),this.Yot.Go(up.ym,this.rN),this.Yot.Go(up.gm,this.Aot),this.Yot.Go(up.dm,this.bot),this.AP.Go("fM",this.Oot),this.AP.Go("dM",this.Lot),this._N.Go(Nz,this.Uo),this._N.Go(qw.Qv,this.handleContentProtectionErrorEvent),this._N.Go(qw.$v,this.aot),this._N.Go(qw.ed,this.hot),this._N.Go(qw.ld,this.fot),this._N.Go(qw.wd,this.vot),this._N.Go(qw._d,this.dot),this._N.Go(up.R_,this.SI),this._N.Go(qw.Cd,this.GG),this._N.Go(qw.kd,this.hq),this._N.Go(qw.Ad,this.iN),this._N.Go(qw.Nd,this.pot)},pe(n,[{key:"$ot",get:function(){for(var t=[this.Cst,this.Nst].filter(er),n=0;n<t.length;n++){var i=t[n];if(!i.D0.w4)return!1;var e=i.D0.Y2,r=e[e.length-1];if(r&&r.d4!==this.Ust)return!1}return!0}},{key:"s1",get:function(){return this.Rst}},{key:"v1",get:function(){return this.Cst}},{key:"l1",get:function(){return this.Nst}},{key:"Bot",get:function(){return this.Dst}},{key:"sy",get:function(){return this.Km}},{key:"Uy",get:function(){return this._N.Uy.zN()}},{key:"c1",get:function(){var t=[];if(this.Rst)for(var n=this._N.pm,i=0,e=this.Oat;i<e.length;i++)for(var r=0,u=e[i].vnt;r<u.length;r++){var s=u[r].t7(n);s&&!Dc(t,s)&&t.push(s)}return t}},{key:"Hy",get:function(){if(this.Rst){var t=this._N.pm;return this.Rst.D4(t)}},set:function(t){if(t&&this.Rst){var n=this.Rst.P4(t);void 0!==n&&(this.pm=n)}}},{key:"pm",get:function(){var t;return null!=(t=this.Zst)?t:this._N.pm},set:function(t){this.Ba(t,t===1/0)}},{key:"Am",get:function(){var t,n,i,e,r,u,s;if(!this.$ot)return null!=(s=null!=(u=null!=(r=null==(t=this.Cst)?void 0:t.D0.Am)?r:null==(n=this.Nst)?void 0:n.D0.Am)?u:null==(i=this.b8)||null==(e=i.p8)?void 0:e.D0.Am)?s:1/0;var o=this._N.Am;if(_(o)){var a,c,h,f=null!=(h=null==(a=this.Est)?void 0:a.D0.Am)?h:null==(c=this.Sst)?void 0:c.D0.Am;if(void 0!==f)return f}return o}},{key:"Tm",get:function(){if(!this.$ot)return!1;if(this.Cm&&this.Ast){var t,n,i=this.pm,e=null==(t=this.Cst)?void 0:t.D0.Am,r=null==(n=this.Nst)?void 0:n.D0.Am;return!(void 0!==e&&i<e)&&!(void 0!==r&&i<r)}return this._N.Tm}},{key:"ua",get:function(){return this.QC}},{key:"Sm",get:function(){return this.ZC}},{key:"ly",get:function(){}},{key:"zy",get:function(){return!1}},{key:"Vy",get:function(){return ga({},{Wy:0,qy:0,Gy:0,jy:0,Yy:0,Qy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this._N.WN(),{Yy:this.oot,jy:this.AP.iM.NC})}},{key:"M1",get:function(){var t;return null==(t=this.b8)?void 0:t.M1}},{key:"Em",get:function(){return this._N.Em},set:function(t){this._N.Em=t}},{key:"Zy",get:function(){return this.Gst},set:function(t){this.Gst!==t&&(this.Gst=t,this.Ho(t?new eX:new rX))}},{key:"Im",get:function(){return this._N.Im}},{key:"Rm",get:function(){return this._N.Rm},set:function(t){zM.jT(Rz,"Setting playback rate to "+t+"."),this._N.Rm=t}},{key:"Ky",get:function(){return this.ict.zN()}},{key:"ict",get:function(){return this._N.Ky}},{key:"Jy",get:function(){return this.mN},set:function(t){this.mN!==t&&(this.mN=t,this.eat())}},{key:"Dg",get:function(){var t=this._N.Dg;return this.iot&&(t=d.max(My.um,t)),t}},{key:"$y",get:function(){return this.Xat.zN()}},{key:"Xat",get:function(){var t=this.oq,n=[this.Cst,this.Nst].filter(er);if(t.V_>0&&n.some((function(t){return!t.D0.w4}))){var i=this.ict,e=t.RD(t.V_-1);if(i.V_>0&&i.RD(i.V_-1)>e){var r=i.RD(i.V_-1),u=n.reduce((function(t,n){return t.UD(n.D0.e6)}),new TI([0,1/0]));u.V_>0&&(r=d.min(r,u.RD(u.V_-1))),t=t.qD(new TI([e,r]))}}return t}},{key:"Cm",get:function(){var t;return null!=(t=this.tot)?t:this._N.Cm}},{key:"qN",get:function(){}},{key:"vy",get:function(){return this.$m}},{key:"oy",get:function(){return this.Jm}},{key:"Nm",get:function(){return this._N.Nm}},{key:"Dm",get:function(){return this._N.Dm}},{key:"Pm",get:function(){return this._N.Pm},set:function(t){zM.jT(Rz,"Setting volume to "+t+"."),this._N.Pm=t}},{key:"tp",get:function(){return this.JC}},{key:"np",get:function(){return!1},set:function(t){}},{key:"GN",get:function(){return this.KC}},{key:"Oat",get:function(){return[this.Ost,this.xst,this.Lst].filter(er)}}]),n}(oh),Pz=function(){function t(){}return t.prototype.YN=function(n,i){return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return Vy(n.type)?n.useNativePlayback?[2,!1]:!(i=n.contentProtection)||nS(i)?[3,2]:rS(i)?[4,t.ect(i)]:[2,!1]:[2,!1];case 1:if(!e.sent())return[2,!1];e.label=2;case 2:return[2,!0]}}))}))()},t.ect=function(t){return _a((function(){var n,i,e;return ma(this,(function(r){switch(r.label){case 0:return t.aes128?[2,!0]:(n=t.playready)?[4,De.gs()]:[3,2];case 1:n=r.sent(),r.label=2;case 2:return n?[2,!0]:(i=t.widevine)?[4,De.ys()]:[3,4];case 3:i=r.sent(),r.label=4;case 4:return i?[2,!0]:(e=t.clearkey)?[4,De.ls()]:[3,6];case 5:e=r.sent(),r.label=6;case 6:return e?[2,!0]:t.fairplay?[2,!1]:[4,De.vs()];case 7:return[2,r.sent()]}}))}))()},t}(),Bz=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).gD=n,e}return ze(n,t),n.prototype._at=function(){this.Ho(new pp(this.pm,this.Dg))},pe(n,[{key:"Dg",get:function(){return this.gD.Dg}}]),n}(mT);function Oz(t){var n=Ec(t,(function(t){return t.P0})),i=t.filter((function(t){return t.B0})),e=De.Bs,r=i.map((function(t){return t.hg})).filter(er),u=nX(r,e);return u?Ec(i,(function(t){return t.hg===u})):n}function xz(t,n,i,e){void 0===e&&(e=Rp.maximumBackoff);var r=Fz(function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,e=n.preferredAudioCodecs;if(void 0!==i){for(var r,u=function(n){var u=i[n],s=t.filter((function(t){return t.h0&&t.h0.b1&&FP(t.h0.b1,u)}));if(0===s.length)return"continue";if(void 0===e)return{v:s};void 0===r&&(r=s);var o=Lz(s,e);return void 0!==o?{v:o}:void 0},s=0;s<i.length;s++){var o=u(s);if("object"===N(o))return o.v}if(void 0!==r)return r}if(void 0!==e){var a=Lz(t,e);if(void 0!==a)return a}return t}(t,n),e);switch(i.oM.type){case IN.BANDWIDTH:var u=i.bM,s=r.filter((function(t){return t.NC<=u}));if(s.length>0)return Lc(s,(function(t){return t.NC}));case IN.PERFORMANCE:return xc(r,(function(t){return t.NC}));case IN.QUALITY:return Lc(r,(function(t){return t.NC}))}}function Lz(t,n){for(var i=function(i){var e=n[i],r=t.filter((function(t){return t.h0&&t.h0.g1&&FP(t.h0.g1,e)}));return 0===r.length?"continue":{v:r}},e=0;e<n.length;e++){var r=i(e);if("object"===N(r))return r.v}}function Mz(t){var n;return null!=(n=Oz(t))?n:t[0]}function Fz(t,n){var i=n+2e3;return t.filter((function(t){return t.H1.some((function(t){return t.D0.a6<De.Ku()-i}))||0===t.H1.length}))}me(),zt(),me(),zt();var Uz=function(){function t(){}var n=t.prototype;return n.c7=function(t,n,i){return _a((function(){var e,r;return ma(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,crypto.subtle.importKey("raw",n,{name:"AES-CBC"},!1,["decrypt"])];case 1:return e=u.sent(),[4,crypto.subtle.decrypt({name:"AES-CBC",iv:i},e,t)];case 2:return r=u.sent(),[2,new g(r)];case 3:throw u.sent(),new bw(gw.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 4:return[2]}}))}))()},n.Io=function(){},t.Ff=function(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}();me(),zt(),me(),zt(),me(),zt(),Ae(),me(),zt();var Hz=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return ze(n,t),n}(fh),Xz=["message","messageerror","error"];me(),zt();var zz=function(t){function n(n){var i;return(i=t.call(this,vy.Ag)||this).error=n,i}return ze(n,t),n}(fh),Vz=function(t){function n(n){var i;return(i=t.call(this)||this).rct=void 0,i.uct=[],i.sct=function(t){if(i.act)t.cct();else{i.rct=t,i.rct.zo(Xz,i.Uo);for(var n=0,e=i.uct;n<e.length;n++){var r=e[n];t.hct(r.$o,r.fct)}Pc(i.uct)}},i.vct=function(t){if(!i.act){var n=t instanceof h?t:new h("Could not create Worker.");i.Ho(new zz(n)),i.cct()}},i.dct=new Wc,n(i.dct.Lo).then(i.sct,i.vct),i}ze(n,t);var i=n.prototype;return i.hct=function(t,n){this.act||(void 0!==this.rct?this.rct.hct(t,n):this.uct.push({$o:t,fct:n}))},i.cct=function(){this.act||(this.dct.Bo(),Pc(this.uct),void 0!==this.rct&&this.rct.cct())},pe(n,[{key:"act",get:function(){return this.dct.Lo.po}}]),n}(oh);function Wz(t){return ar(t)&&"5.7.0"===t.lct}me(),zt(),me(),zt();var qz=function(t){function n(n){var i;return(i=t.call(this)||this).wct=function(t){i.Ho(new Hz("message",t.data))},i._ct=function(t){i.Ho(new Hz("messageerror",t.data))},i.XY=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof h?t.error:new h(t.message);i.Ho(new zz(n)),i.cct()},i.rct=new m(n),i.rct.addEventListener("message",i.wct),i.rct.addEventListener("messageerror",i._ct),i.rct.addEventListener("error",i.XY),i}ze(n,t);var i=n.prototype;return i.hct=function(t,n){n?this.rct.postMessage(t,n):this.rct.postMessage(t)},i.cct=function(){this.qo(),this.rct.removeEventListener("message",this.wct),this.rct.removeEventListener("messageerror",this._ct),this.rct.removeEventListener("error",this.XY),this.rct.terminate()},n}(oh);me(),zt();var Gz=0,jz=function(n){function i(i,r){var u;(u=n.call(this)||this).gct=function(){u.mct.removeEventListener("load",u.gct),u.mct.contentWindow.postMessage({type:"initialize",id:u.tf,script:u.yct},"*")},u.pct=function(t){t.origin===u.Act&&t.data.id===u.tf&&("initialized"===t.data.type||("error"===t.data.type?(u.Ho(new zz(new h(t.data.data.message))),u.cct()):u.Ho(new Hz("message",t.data.data))))},u.tf=Gz++,u.yct=i;var s,o,a=De.Ss("iframe.html",r);return u.mct=(s=a.href,(o=e.createElement("iframe")).width="0",o.height="0",o.style.display="none",o.src=s,e.body.appendChild(o),o),u.Act=a.origin,u.mct.addEventListener("load",u.gct),t.addEventListener("message",u.pct),u}ze(i,n);var r=i.prototype;return r.hct=function(t,n){n?this.mct.contentWindow.postMessage({type:"message",data:t},"*",n):this.mct.contentWindow.postMessage({type:"message",data:t},"*")},r.cct=function(){var n;this.mct.removeEventListener("load",this.gct),t.removeEventListener("message",this.pct),null==(n=this.mct.contentWindow)||n.postMessage({type:"terminate"},"*"),Ho(this.mct)},i}(oh);function Yz(t,n){return t=De.Es(t,n),new Vz((function(i){return function(t,n,i){return tV.apply(this,arguments)}(t,n,i)}))}var Qz,Zz,Kz,Jz,$z=!0;function tV(){return(tV=_a((function(t,n,i){var e,r,u,s,o,a,c;return ma(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,nV(e=new qz(t),i)];case 1:return h.sent(),[2,e];case 2:return r=h.sent(),null==e||e.cct(),Yc(r),[3,3];case 3:if(!$z||!Vw)return[3,13];h.label=4;case 4:return h.trys.push([4,7,,8]),[4,De.o_.ll({_l:t,Fl:k_.GET,fl:jw.dr,Lo:i})];case 5:return[4,h.sent().zd(i)];case 6:return u=h.sent(),[3,8];case 7:return Yc(h.sent()),[3,8];case 8:if(!u)return[3,13];h.label=9;case 9:return h.trys.push([9,11,12,13]),o=Vw([u],{type:"application/javascript"}),s=URL.createObjectURL(o),[4,nV(e=new qz(s),i)];case 10:return h.sent(),[2,e];case 11:return a=h.sent(),null==e||e.cct(),Yc(a),$z=!1,[3,13];case 12:return s&&URL.revokeObjectURL(s),[7];case 13:return h.trys.push([13,15,,16]),[4,nV(e=new jz(t,n),i)];case 14:return h.sent(),[2,e];case 15:throw c=h.sent(),null==e||e.cct(),c;case 16:return[2]}}))}))).apply(this,arguments)}function nV(t,n){return iV.apply(this,arguments)}function iV(){return(iV=_a((function(t,n){var i;return ma(this,(function(e){switch(e.label){case 0:return[4,t.Zo(["message","error"],n)];case 1:if("error"===(i=e.sent()).type)throw eV(i.error);if(!Wz(i.data))throw new bw(gw.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (5.7.0).");return[2,i]}}))}))).apply(this,arguments)}function eV(t){return new bw(gw.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}me(),zt(),(Zz=Qz||(Qz={})).kct="c7",Zz.bct="B7",(Jz=Kz||(Kz={})).Tct="Sct",Jz.Ect="Ict";var rV=function(){function t(t){var n=this;this.rct=void 0,this.Rct=0,this.Cct=Aa(),this.Nct=function(t){var i=t.data,e=i.Dct,r=n.Cct.get(e);r&&(n.Cct.delete(e),i.Pct===Kz.Tct?r.Ua(i.Bct):i.Pct===Kz.Ect&&r.Ha(new bw(gw.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.")))},this.Cw=function(t){var i=new bw(gw.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);n.Io(i)},this.Oct=t;try{this.xct=De.Es("theoplayer.d.js",t)}catch(t){throw new bw(gw.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var n=t.prototype;return n.Lct=function(){var t=Yz(this.xct,this.Oct);return t.zo("message",this.Nct),t.zo("error",this.Cw),t},n.c7=function(t,n,i){var e=""+ ++this.Rct,r={Mct:Qz.kct,Fct:e,Uct:t,Hct:n,Xct:i},u=new Mf;return this.Cct.set(e,u),null!=this.rct||(this.rct=this.Lct()),this.rct.hct(r),u.Fa},n.Io=function(t){void 0===t&&(t=new qc),this.Cct.forEach((function(n){return n.Ha(t)})),this.Cct.clear(),this.rct&&(this.rct.cct(),this.rct=void 0)},t}();function uV(t){var n=Ec(t.boxes,UD);if(n){var i=Ec(n.boxes,HD);if(i)return i.handlerType}}function sV(t){var n,i=new El;return(n=i.boxes).push.apply(n,Ce(t.boxes)),i}function oV(t){var n,i=new Fd;return(n=i.boxes).push.apply(n,Ce(t.boxes)),i}me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),Oe();function aV(t,n){for(var i=function(t){var n,i=new Zd;return(n=i.boxes).push.apply(n,Ce(t.boxes)),i}(t),e=hV(n),r=0;r<i.boxes.length;r++){var u=i.boxes[r];if(u===n)i.boxes[r]=new od(new g(n.getSize()-8));else if(XD(u)){var s=u,o=Rc(s.boxes,(function(t){return t instanceof Ld&&t.trackId===e}));if(o>=0){var a=s.boxes[o],c=oV(s);c.boxes[o]=new od(new g(a.getSize()-8)),i.boxes[r]=c}}}return i}function cV(t,n){for(var i=function(t){var n,i=new al;return(n=i.boxes).push.apply(n,Ce(t.boxes)),i}(t),e=0;e<i.boxes.length;e++){var r=i.boxes[e];if(r instanceof sl){var u=Ec(r.boxes,WD);u&&u.trackId===n&&(i.boxes[e]=new od(new g(r.getSize()-8)))}}return i}function hV(t){return Ec(t.boxes,FD).trackId}function fV(t,n,i,e){for(var r=Ec(t.boxes,WD),u=i.WA(n).mA(),s=Jr.ZERO,o=0,a=t.boxes;o<a.length;o++){var c=a[o];if(c instanceof tl){s=$r(c.baseMediaDecodeTime,u),c.baseMediaDecodeTime=c.baseMediaDecodeTime.subtract(s);break}if(c instanceof $d){s=$r(Jr.fromNumber(c.baseMediaDecodeTime),u),c.baseMediaDecodeTime-=s.toNumber();break}}if(!s.isZero()){var h=Ec(t.boxes,qD);if(void 0!==h&&h.samples.length>0){var f=h.samples;if(!h.flags.sampleDurationPresent){h.flags.sampleDurationPresent=!0;for(var v=null!=e?e:r.defaultSampleDuration,d=0;d<f.length;d++){f[d].duration=v}}f[0].duration+=s.toNumber(),h.samples=f}}}me(),zt();var vV="Mp4Transmuxer";function dV(t,n){var i=sb(db.fT(Rf(t)),lk.gb);if(!i)throw new h("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=function(t,i){var r=i[t];if(!r.dE||0===r.vE.length||0===r.vE[0].yE.length)return"continue";for(var u=r.rT.UT,s=Ec(n.ET,(function(t){return t.UT===u})),o=0,a=1/0,c=0,h=r.rT.iE||0,f=0,v=r.vE;f<v.length;f++)for(var d=0,l=v[f].yE;d<l.length;d++){var w,_=l[d],g=_.pE||0,m=o+g,y=(o+=null!=(w=_.Am)?w:h)+g;m<a&&(a=m),y>c&&(c=y)}var p=ak.PA(r.dE.dE,s.VA);e.push({UT:u,zct:p,EJ:p.ep(ak.FA(a,s.VA)),Vct:p.ep(ak.FA(o,s.VA)),Wct:p.ep(ak.FA(c,s.VA))})},e=[],r=0,u=t.ET;r<u.length;r++)i(r,u);return e}(i,n)}var lV,wV,_V=function(t){function n(n,i,e,r){var u;return(u=t.call(this,i,e,r)||this).qct=void 0,u.Gct=void 0,u.jct=void 0,u.Yct=void 0,u.Qct=0,u.Zct=0,u.Kct=ka(),u.qw=n,u}ze(n,t);var i=n.prototype;return i.Mtt=function(n,i){return t.prototype.Mtt.call(this,n,i)},i.Jct=function(t){var n;return this.Kct.has(t.d4)?n=this.Kct.get(t.d4):(n=aX(t.O8.jr.jr),this.Kct.set(t.d4,n)),n},i.Utt=function(n,i){var e=this;return _a((function(){var r,u,s,o,a,c,h,f,v,d,l,w,_,g,m,y,p,A,k,b,T,S,E,I,R,C,N,D,P;return ma(this,(function(B){switch(B.label){case 0:if(jc(i),r=e.Jct(n),u=n.O8,r!==uX.Ent&&r!==uX.Int)return[2,t.prototype.Utt.call(e,n,i)];if(u.i7.u4.some(mV))throw new bw(gw.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");return s=e.qw.$ct(),r!==uX.Ent?[3,2]:[4,s.tht({data:u.jr.jr,metadata:e.qct})];case 1:return o=B.sent(),[3,4];case 2:return[4,s.nht({data:u.jr.jr,metadata:e.qct})];case 3:o=B.sent(),B.label=4;case 4:if(jc(i),e.Htt(n.i1,{g1:o.metadata.audio_codec,b1:o.metadata.video_codec,X2:void 0}),o.metadata.video_frame_rate&&e.Xtt(n.i1,o.metadata.video_frame_rate),a=yV(o.metadata.first_decode_timestamp),c=yV(o.metadata.first_presentation_timestamp),h=void 0!==o.metadata.first_video_presentation_timestamp?yV(o.metadata.first_video_presentation_timestamp):void 0,u.i7.SJ=c,e.Vtt(n.i1),void 0!==h&&e.ztt(n.i1,u.i7,function(t,n){var i=t.aA(n);return i.rA(ak.DA)&&(i=i.ep(vk)),i}(h,c)),e.O6.d6(n.d4))return[3,6];for(f=ak.wk(u.i7.kp),v=0,d=e.Gtt;v<d.length;v++)l=d[v],e.O6.k6(n.d4,l,a,f,!0);return e.Vtt(n.i1),e.O6.d6(n.d4)?[3,6]:[4,Zc(e.O6.l6(n.d4),i)];case 5:B.sent(),B.label=6;case 6:if(w=e.O6.A6(a,u.i7),e.qct=o.metadata,_=e.O6.y6(c,u.i7).Kp(),m={Qtt:VH(u.i7,_),kp:_,Am:null!=(g=u.i7.Am)?g:0,Rk:w.Kp(),d4:n.d4,i1:n.i1,i7:u.i7},void 0===o.data.audio_media&&void 0===o.data.video_media){for(y=0,p=e.Gtt;y<p.length;y++)A=p[y],k=ga({Gs:"O8",jr:void 0,T6:A},m),e.ett(k);return[2]}return b=[],void 0!==o.data.audio_media&&(!o.data.audio_init||e.Gct&&e.Qct===n.d4&&Dh(e.Gct,o.data.audio_init)||(T=e.O6.y6(u.i7.SJ,u.i7).Kp(),S={Gs:"jtt",jr:{Gs:SD.XU,jr:o.data.audio_init},T6:Tp.xl,d4:n.d4,Ytt:{h0:'audio/mp4; codecs="'+o.metadata.audio_codec+'"',u4:u.i7.u4},kp:T,i1:n.i1,i7:u.i7},e.Gct=o.data.audio_init,e.Qct=n.d4,e.ett(S)),E=ga({Gs:"O8",jr:{Gs:SD.XU,jr:o.data.audio_media},T6:Tp.xl},m),e.ett(E)),void 0!==o.data.video_media&&(!o.data.video_init||e.jct&&e.Zct===n.d4&&Dh(e.jct,o.data.video_init)||(I=e.O6.y6(u.i7.SJ,u.i7).Kp(),R={Gs:"jtt",jr:{Gs:SD.XU,jr:o.data.video_init},T6:Tp.Ll,d4:n.d4,Ytt:{h0:'video/mp4; codecs="'+o.metadata.video_codec+'"',u4:u.i7.u4},kp:I,i1:n.i1,i7:u.i7},e.jct=o.data.video_init,e.Zct=n.d4,e.Yct=TP(Rf(o.data.video_init)),e.ett(R)),C=e.Yct.ET[0],N=dV(o.data.video_media,e.Yct)[0],D=e.iht(o.data.video_media,C,N,void 0,u.i7),e.eht=C,P=ga({Gs:"O8",jr:{Gs:SD.XU,jr:D},T6:Tp.Ll},m),e.ett(P),b.push(N)),e.rht=u.i7,e.uht=b,[2]}}))}))()},i.Bo=function(){this.Gct=void 0,this.jct=void 0,t.prototype.Bo.call(this)},n}(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).NV=void 0,n.sht=void 0,n.rht=void 0,n.uht=void 0,n.eht=void 0,n}ze(n,t);var i=n.prototype;return i.Mtt=function(t,n){jc(n);var i=t.i1,e=TP(Rf(t.h4.jr.jr));if(!e)throw new h("Mp4Transmuxer - Unable to parse "+i.Gs+" MP4 initializer.");this.NV=e;var r=function(t){for(var n,i,e=0,r=t.ET;e<r.length;e++){var u=r[e];n||(n=u.Iz),i||(i=u.Ez)}if(n||i)return{g1:n,b1:i,X2:void 0};return}(e);r&&this.Htt(i,r);var u=function(t){for(var n=0,i=t.ET;n<i.length;n++){var e=i[n];if(void 0!==e.Rz)return e.Rz}return}(e);void 0!==u&&this.Xtt(i,u);var s=function(t){var n,i,e,r,u,s=Pl(t),o=Ec(s.boxes,LD),a=o.boxes.filter(MD),c=Ec(a,(function(t){return uV(t)===gd.AUDIO})),h=Ec(a,(function(t){return uV(t)===gd.VIDEO})),f={g1:{UT:c?hV(c):void 0},b1:{UT:h?hV(h):void 0}},v=null==(n=Ec(o.boxes,XD))?void 0:n.boxes.filter(zD),d=v?{g1:null!=(i=Ec(v,(function(t){return t.trackId===f.g1.UT})))?i:void 0,b1:null!=(e=Ec(v,(function(t){return t.trackId===f.b1.UT})))?e:void 0}:void 0;if(d&&(f.g1.iE=null==(r=d.g1)?void 0:r.defaultSampleDuration,f.b1.iE=null==(u=d.b1)?void 0:u.defaultSampleDuration),!c||!h)return{g1:c?t:void 0,b1:h?t:void 0,qE:f};var l=sV(s),w=sV(s),_=s.boxes.indexOf(o);l.boxes[_]=aV(o,h),w.boxes[_]=aV(o,c);var g=l.serialize().join(),m=w.serialize().join();return{g1:g,b1:m,qE:f}}(t.h4.jr.jr);if(this.sht=s.qE,s.b1){var o=Ec(e.ET,(function(t){return t.UT===s.qE.b1.UT})),a={Gs:"jtt",jr:{Gs:SD.XU,jr:s.b1},T6:Tp.Ll,d4:t.d4,Ytt:{h0:'video/mp4; codecs="'+o.Ez+'"',u4:t.u4},kp:t.kp,i1:t.i1,i7:t.h4.i7};this.ett(a)}if(s.g1){var c=Ec(e.ET,(function(t){return t.UT===s.qE.g1.UT})),f={Gs:"jtt",jr:{Gs:SD.XU,jr:s.g1},T6:Tp.xl,d4:t.d4,Ytt:{h0:'audio/mp4; codecs="'+c.Iz+'"',u4:t.u4},kp:t.kp,i1:t.i1,i7:t.h4.i7};this.ett(f)}return j.resolve()},i.Utt=function(t,n){var i=this;return _a((function(){var e,r,u,s,o,a,c,h,f,v,d,l,w,_,g,m,y,p,A,k,b;return ma(this,(function(T){switch(T.label){case 0:if(jc(n),e=t.O8.i7,zM.jT(vV,"Got media data, transmuxing for "+t.i1.Gs+" track: "+EF(e.F0)),r=t.O8.jr,u=dV(r.jr,i.NV),void 0!==(s=Mc(u.map((function(t){return t.EJ})),ck))&&(e.SJ=s,i.Vtt(t.i1)),i.O6.d6(t.d4))return[3,2];if(o=ak.wk(e.kp),u.length>0){for(a=Mc(u.map((function(t){return t.zct})),ck),c=0,h=i.Gtt;c<h.length;c++)f=h[c],i.O6.k6(t.d4,f,a,o,!1);i.Vtt(t.i1)}return i.O6.d6(t.d4)?[3,2]:[4,Zc(i.O6.l6(t.d4),n)];case 1:T.sent(),T.label=2;case 2:return v=i.O6.m6(t.d4),d=e.SJ?i.O6.y6(e.SJ,e).Kp():e.kp,w={Qtt:VH(e,d),kp:d,Am:null!=(l=e.Am)?l:0,Rk:v.Kp(),d4:t.d4,i1:t.i1,i7:t.O8.i7},(_=function(t,n){if(void 0===n.g1.UT)return{g1:void 0,b1:t};if(void 0===n.b1.UT)return{g1:t,b1:void 0};for(var i=Pl(t),e=sV(i),r=sV(i),u=0;u<i.boxes.length;u++){var s=i.boxes[u];VD(s)&&(e.boxes[u]=cV(s,n.b1.UT),r.boxes[u]=cV(s,n.g1.UT))}var o=e.serialize().join(),a=r.serialize().join();return{g1:o,b1:a}}(r.jr,i.sht)).b1&&(m=i.sht.b1.UT,y=Ec(i.NV.ET,(function(t){return t.UT===m})),p=Ec(u,(function(t){return t.UT===m})),A=i.iht(_.b1,y,p,null==(g=i.sht)?void 0:g.b1.iE,e),i.eht=y,i.ztt(t.i1,e,p.EJ.aA(s)),k=ga({Gs:"O8",jr:{Gs:SD.XU,jr:A},T6:Tp.Ll},w),i.ett(k)),_.g1&&(b=ga({Gs:"O8",jr:{Gs:SD.XU,jr:_.g1},T6:Tp.xl},w),i.ett(b)),i.rht=e,i.uht=u,[2]}}))}))()},i.iht=function(t,n,i,e,r){if(!function(t){return zU(t)?t.c4:0===t.U4&&t.F4.c4}(r))return t;if(!this.rht||!this.eht||!this.uht)return t;var u=this.eht.UT,s=Ec(this.uht,(function(t){return t.UT===u})),o=this.O6.y6(s.Wct,this.rht),a=this.O6.y6(i.EJ,r).aA(o).WA(n.VA);if(a.iA(ak.DA))return t;if(a.Jp(ak.wk(.5)))return t;var c=zU(r)?r:r.F4;return zM.N1(vV,"Stretching first video frame of segment #"+c.W3+" to fill gap of "+a.Kp()+"s"),function(t,n,i,e){var r=Pl(t),u=Ec(r.boxes,VD);if(u){for(var s=u.getSize(),o=0,a=u.boxes;o<a.length;o++){var c=a[o];c instanceof sl&&fV(c,n,i,e)}var h=u.getSize();if(h!==s)for(var f=h-s,v=0,d=u.boxes;v<d.length;v++){var l=d[v];l instanceof sl&&GD(l,f)}}return r.serialize().join()}(t,n.VA,a,e)},n}(zH)),gV=function(){function t(){}return t.prototype.Uat=function(t,n,i){return new _V(this,t,n,i)},t}();function mV(t){return t.Fl===gF.g3}function yV(t){return ak.PA(Jr.fromBits(t.low,t.high),t.base)}me(),zt(),me(),zt(),(wV=lV||(lV={}))[wV.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",wV[wV.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4";var pV=function(){function t(t){var n=this;this.Rct=0,this.Cct=ka(),this.oht=0,this.Nct=function(t){var i=t.data;if(void 0!==i.requestId){var e=n.Cct.get(i.requestId);if(!e)return;n.Cct.delete(i.requestId),i.success?e.Ua(i.output):e.Ha(new bw(i.errorCode,i.error))}else i.success||n.Io(new bw(i.errorCode,i.error))},this.Cw=function(t){var i=new bw(gw.MEDIA_DECODE_ERROR,t.error.message,t.error);n.Io(i)},this.Oct=t,this.aht=function(){if("undefined"==typeof WebAssembly)return!1;var t=tr.ke;return!(t>0&&t<=56)}();var i=this.aht?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.xct=De.Es(i,t)}catch(t){throw new bw(gw.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.rct=this.Lct()}var n=t.prototype;return n.tht=function(t){return this.cht(lV.MPEGTS_TO_FMP4,t)},n.nht=function(t){return this.cht(lV.RAW_AUDIO_TO_FMP4,t)},n.Lct=function(){var t=Yz(this.xct,this.Oct);return t.zo("message",this.Nct),t.zo("error",this.Cw),t},n.cht=function(t,n){var i=++this.Rct;this.oht+=1;var e={type:t,id:i,input:n},r=new Mf;return this.Cct.set(i,r),this.rct.hct(e,[n.data.buffer]),r.Fa},n.Io=function(t){void 0===t&&(t=new qc),this.Cct.forEach((function(n){return n.Ha(t)})),this.Cct.clear(),this.rct.cct()},t}(),AV=function(t){function n(n){var i;return(i=t.call(this)||this).hht=n,i.rct=void 0,i}ze(n,t);var i=n.prototype;return i.$ct=function(){var t;return null!=(t=this.rct)?t:this.rct=new pV(this.hht)},i.Io=function(){this.rct&&(this.rct.Io(),this.rct=void 0)},n}(gV),kV=function(){function t(t){this.hht=t}return t.prototype.RJ=function(){return new AV(this.hht)},t}();me(),zt(),me(),zt();var bV=function(){function t(t){this.BC=t}var n=t.prototype;return n.gN=function(t){return this.BC.gN(t)},n.a$=function(t){return this.BC.a$(t)},n.UN=function(t){return this.BC.UN(t)},t}();me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),Ae();var TV=function(t){function n(n){var i;return(i=t.call(this)||this).YC=void 0,i.fht=new yy,i.vht=function(t){return i.By(t)},i._N=n,i.fht.Q_=n.vy,i._N.zo(_D,i.vht),i}ze(n,t);var i=n.prototype;return i.DM=function(){return this._N.Uy},i.BM=function(){return this._N.Hy},i.xM=function(){return this._N.pm},i.MM=function(){return this._N.Am},i.dht=function(){return this._N.qN},i.wht=function(){return this._N.Tm},i._ht=function(){return this._N.Im},i.QM=function(){return this._N.Ky},i.JM=function(){return this._N.Dg},i.$M=function(){return this._N.$y},i.tF=function(){return this._N.Cm},i.nF=function(){return this.fht},i.aZ=function(){return this._N.OQ},i.ght=function(){return this._N.kN},i.mht=function(t){this._N.kN=t},i.yht=function(t){this._N.xQ=t},i.pht=function(){return this._N.Gj},i.WN=function(){return this._N.WN()},i.wy=function(){return this._N.wy()},i._y=function(){this._N._y()},i.Ba=function(t,n){this._N.Ba(t,n)},i.VN=function(t){this._N.VN(t)},i.Ry=function(){this._N.Ry()},i.Cy=function(){this._N.Cy()},i.vI=function(t,n,i,e,r,u,s,o){return this._N.vI(t,n,i,e,r,u,s,o)},i.DN=function(){return this._N.DN()},i.BN=function(t,n,i,e,r){return this._N.BN(t,n,i,e,r)},i.wI=function(t){this._N.wI(t)},i.LN=function(){this._N.LN()},i.xU=function(t){return this._N.xU(t)},i.wf=function(t){var n=this;return _a((function(){var i,e;return ma(this,(function(r){switch(r.label){case 0:return[4,n._N.wf(t)];case 1:return i=r.sent(),e=t.Gs===fT.gI?n.Aht(i):n.kht(i),n.YC=e,[2,e]}}))}))()},i.Nf=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return t.YC?[4,t.YC.Io()]:[3,2];case 1:n.sent(),t.YC=void 0,n.label=2;case 2:return[4,t._N.Nf()];case 3:return n.sent(),[2]}}))}))()},i.EQ=function(){this._N.EQ()},i.IQ=function(){this._N.IQ()},i.Io=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return t.qo(),t._N.Go(_D,t.vht),t.fht.Q_=void 0,t.fht.bv(),t.YC?[4,t.YC.Io()]:[3,2];case 1:n.sent(),t.YC=void 0,n.label=2;case 2:return[2]}}))}))()},i.RQ=function(){this._N.RQ()},i.bht=function(t){this._N.Go(_D,this.vht),this._N=t,this.fht.Q_=t.vy,this._N.zo(_D,this.vht)},i.By=function(t){this.Ho(t)},pe(n,[{key:"Tht",get:function(){return this._N}},{key:"Uy",get:function(){return this.DM()}},{key:"Hy",get:function(){return this.BM()}},{key:"pm",get:function(){return this.xM()}},{key:"DQ",get:function(){return this._N.DQ}},{key:"Am",get:function(){return this.MM()}},{key:"qN",get:function(){return this.dht()}},{key:"Tm",get:function(){return this.wht()}},{key:"ua",get:function(){return this._N.ua}},{key:"zT",get:function(){return this._N.zT}},{key:"Qp",get:function(){return this._N.Qp}},{key:"xN",get:function(){return this._N.xN}},{key:"Em",get:function(){return this._N.Em},set:function(t){this._N.Em=t}},{key:"Im",get:function(){return this._ht()}},{key:"Rm",get:function(){return this._N.Rm},set:function(t){this._N.Rm=t}},{key:"Ky",get:function(){return this.QM()}},{key:"Dg",get:function(){return this.JM()}},{key:"$y",get:function(){return this.$M()}},{key:"Cm",get:function(){return this.tF()}},{key:"vy",get:function(){return this.nF()}},{key:"OQ",get:function(){return this.aZ()}},{key:"BQ",get:function(){return this._N.BQ}},{key:"Pm",get:function(){return this._N.Pm},set:function(t){this._N.Pm=t}},{key:"CQ",get:function(){return this._N.CQ}},{key:"zy",get:function(){return this._N.zy}},{key:"Vj",get:function(){return this._N.Vj}},{key:"kN",get:function(){return this.ght()},set:function(t){this.mht(t)}},{key:"xQ",get:function(){return this._N.xQ},set:function(t){this.yht(t)}},{key:"Gj",get:function(){return this.pht()}}]),n}(oh),SV=function(t){function n(n){return t.call(this,n)}ze(n,t);var i=n.prototype;return i.NQ=function(t){this._N.NQ(t)},i.oQ=function(){this._N.oQ()},i.My=function(){this._N.My()},pe(n,[{key:"yN",get:function(){return this._N.yN}},{key:"Cq",get:function(){return this._N.Cq}},{key:"np",get:function(){return this._N.np},set:function(t){this._N.np=t}}]),n}(TV);me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),Ae();var EV=function(){function t(t){this.YC=t}var n=t.prototype;return n.Of=function(){return this.YC.Sf},n.$M=function(){return this.YC.$y},n.EU=function(t){return this.YC.EU(t)},n.IU=function(t){return this.YC.IU(t)},n.Io=function(){return j.resolve()},pe(t,[{key:"Sf",get:function(){return this.Of()}},{key:"$y",get:function(){return this.$M()}},{key:"oy",get:function(){return this.YC.oy}}]),t}(),IV=function(t){function n(n){var i;return(i=t.call(this,n)||this).nq=void 0,i.rq=void 0,i.Sht=function(t){return i.Eht(t)},i}ze(n,t);var i=n.prototype;return i.DM=function(){return this.YC.Uy},i.MM=function(){return this.YC.Am},i.Iht=function(){return this.YC.LU},i.wq=function(t){this.YC.wq(t)},i.mq=function(t,n,i,e){this.YC.mq(t,n,i,e)},i.aW=function(){this.YC.aW()},i.rW=function(){this.YC.rW()},i.Io=function(){return this.nq&&(this.nq.Io(),this.nq=void 0),this.rq&&(this.rq.Io(),this.rq=void 0),t.prototype.Io.call(this)},i.Rht=function(t){this.YC=t,this.nq?t.JW?this.nq.Q8(t.JW):(this.nq.Io(),this.nq=void 0):t.JW&&(this.nq=this.Cht(t.JW),this.nq.zo(RD,this.Sht)),this.rq?t.$W?this.rq.Q8(t.$W):(this.rq.Io(),this.rq=void 0):t.$W&&(this.rq=this.Cht(t.$W),this.rq.zo(RD,this.Sht))},i.Eht=function(t){},pe(n,[{key:"JW",get:function(){return this.nq}},{key:"$W",get:function(){return this.rq}},{key:"Uy",get:function(){return this.DM()}},{key:"Am",get:function(){return this.MM()}},{key:"LU",get:function(){return this.Iht()}}]),n}(EV);me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),Ae();var RV=function(t){function n(n){var i;return(i=t.call(this)||this).wM=0,i._M=0,i.Jf=n,i}ze(n,t);var i=n.prototype;return i.UV=function(t,n,i){return j.reject(new h("Invalid media buffer"))},i._W=function(){return j.reject(new h("Invalid media buffer"))},i.zV=function(t,n,i){return j.reject(new h("Invalid media buffer"))},i.LU=function(){return!1},i.aW=function(){},i.lW=function(t,n){},i.wW=function(t,n){},i._f=function(t,n,i){return j.resolve()},i.ZV=function(t,n){return j.reject(new h("Invalid media buffer"))},i.fp=function(t,n){return j.reject(new h("Invalid media buffer"))},i.EU=function(t){return!1},i.IU=function(t){return j.reject(new h("Invalid media buffer"))},i.Io=function(){this.qo()},pe(n,[{key:"cM",get:function(){return this._M},set:function(t){this._M=t}},{key:"Uy",get:function(){return TI.hP()}},{key:"Sf",get:function(){return this.Jf}},{key:"yW",get:function(){return Tp.Al}},{key:"pW",get:function(){return TI.hP()}},{key:"Nht",get:function(){return!1}},{key:"aM",get:function(){return this.wM},set:function(t){this.wM=t}}]),n}(oh),CV=function(t){function n(n){var i;return(i=t.call(this,n)||this)._N=void 0,i}ze(n,t);var i=n.prototype;return i.UV=function(t,n,i){var e=this;return _a((function(){return ma(this,(function(r){switch(r.label){case 0:return jc(i),[4,e.Dht(e._N.pm,null==n?void 0:n.SJ,null==n?void 0:n.Am)];case 1:return r.sent(),jc(i),t.Gs!==SD.Ld?[3,3]:[4,e.Pht(t,n,i)];case 2:return[2,r.sent()];case 3:return[4,e.Bht(t,n,i)];case 4:return[2,r.sent()];case 5:return[2]}}))}))()},i.Pht=function(t,n,i){var e=this;return _a((function(){var r,u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:r=t,c.label=1;case 1:0,u=ya(function(t){var n=new Ut,i=n.readable,e=n.writable;return t.pipeTo(e,{preventCancel:!0}).catch((function(n){var i;i=ur(n)?n[0]===n[1]||Gc(n[0])&&Gc(n[1])?n[0]:new i_(n):n,t.cancel(i).catch(lr)})),i.tee()}(r.jr),2),s=u[0],o=u[1],r={Gs:SD.Ld,jr:s},c.label=2;case 2:return c.trys.push([2,4,,7]),[4,e.Oht(r,n,i)];case 3:return c.sent(),o.cancel(new qc).catch(lr),[2];case 4:return DN(a=c.sent())?[4,e.Dht(e._N.pm,n.SJ,n.Am,i)]:[3,6];case 5:if(c.sent())return r={Gs:SD.Ld,jr:o},[3,1];c.label=6;case 6:throw o.cancel(a).catch(lr),a;case 7:return[3,1];case 8:return[2]}}))}))()},i.Bht=function(t,n,i){var e=this;return _a((function(){var r;return ma(this,(function(u){switch(u.label){case 0:0,u.label=1;case 1:return u.trys.push([1,3,,6]),jc(i),[4,e.Oht(t,n,i)];case 2:return[2,u.sent()];case 3:return DN(r=u.sent())?[4,e.Dht(e._N.pm,n.SJ,n.Am,i)]:[3,5];case 4:if(u.sent())return[3,0];u.label=5;case 5:throw r;case 6:return[3,0];case 7:return[2]}}))}))()},i.Dht=function(t,n,i,e){var r=this;return _a((function(){var u,s,o,a,c;return ma(this,(function(h){switch(h.label){case 0:u=function(t,n,i,e,r,u){var s=[],o=t-d.max(u,1),a=t+r;if(n&&i){var c=iu(i,1,5),h=n-c;o=d.min(o,h);var f=n+i+c;a=d.max(a,f)}return 0!==o&&e.KD(0,o)&&s.push([0,o]),e.KD(a,1/0)&&s.push([a,1/0]),s}(t,n,i,r.Uy,r.aM,r.cM),s=0,h.label=1;case 1:return s<u.length?(o=ya(u[s],2),a=o[0],c=o[1],[4,r.xht(a,c,e)]):[3,4];case 2:h.sent(),h.label=3;case 3:return s++,[3,1];case 4:return[2,u.length>0]}}))}))()},i.Oht=function(n,i,e){return t.prototype.UV.call(this,n,i,e)},i.xht=function(n,i,e){return t.prototype._f.call(this,n,i,e)},pe(n,[{key:"o$",get:function(){return this._N},set:function(t){this._N=t}}]),n}(function(t){function n(n){var i;return(i=t.call(this)||this).Lht=function(t){return i.By(t)},i.E8=n,i.E8.zo(RD,i.Lht),i}ze(n,t);var i=n.prototype;return i.Mht=function(){return this.E8.cM},i.Fht=function(t){this.E8.cM=t},i.DM=function(){return this.E8.Uy},i.Of=function(){return this.E8.Sf},i.Uht=function(){return this.E8.pW},i.Hht=function(){return this.E8.aM},i.Xht=function(t){this.E8.aM=t},i.UV=function(t,n,i){return this.E8.UV(t,n,i)},i._W=function(){return this.E8._W()},i.zV=function(t,n,i){return this.E8.zV(t,n,i)},i.LU=function(){return this.E8.LU()},i.aW=function(){this.E8.aW()},i.lW=function(t,n){this.E8.lW(t,n)},i.wW=function(t,n){this.E8.wW(t,n)},i._f=function(t,n,i){return this.E8._f(t,n,i)},i.ZV=function(t,n){return this.E8.ZV(t,n)},i.EU=function(t){return this.E8.EU(t)},i.IU=function(t){return this.E8.IU(t)},i.By=function(t){this.Ho(t)},i.Io=function(){this.qo(),this.Q8(new RV(this.Sf))},i.Q8=function(t){this.E8.Go(RD,this.Lht),this.E8=t,this.E8.zo(RD,this.Lht)},pe(n,[{key:"cM",get:function(){return this.Mht()},set:function(t){this.Fht(t)}},{key:"Uy",get:function(){return this.DM()}},{key:"Sf",get:function(){return this.Of()}},{key:"yW",get:function(){return this.E8.yW}},{key:"pW",get:function(){return this.Uht()}},{key:"aM",get:function(){return this.Hht()},set:function(t){this.Xht(t)}}]),n}(oh)),NV=function(t){function n(n){var i;return(i=t.call(this,n)||this)._N=void 0,i.Rht(n),i}return ze(n,t),n.prototype.Cht=function(t){var n=new CV(t);return n.o$=this._N,n},pe(n,[{key:"o$",get:function(){return this._N},set:function(t){this._N=t,this.nq&&(this.nq.o$=t),this.rq&&(this.rq.o$=t)}}]),n}(IV);me(),zt(),Ae();var DV=function(t){function n(){return t.apply(this,arguments)}return ze(n,t),pe(n,[{key:"Jy",get:function(){return this.YC.Jy},set:function(t){this.YC.Jy=t}}]),n}(EV);me(),zt(),Ae();var PV=function(t){function n(n){return t.call(this,n)}ze(n,t);var i=n.prototype;return i.NQ=function(t){this._N.NQ(t)},i.oQ=function(){this._N.oQ()},i.My=function(){this._N.My()},i.Ny=function(){return this._N.Ny()},pe(n,[{key:"yN",get:function(){return this._N.yN}},{key:"Cq",get:function(){return this._N.Cq}},{key:"Dm",get:function(){return this._N.Dm}},{key:"Nm",get:function(){return this._N.Nm}},{key:"np",get:function(){return this._N.np},set:function(t){this._N.np=t}}]),n}(TV),BV=function(t){function n(){return t.apply(this,arguments)}ze(n,t);var i=n.prototype;return i.kht=function(t){var n=new NV(t);return n.o$=this,n},i.Aht=function(t){return new DV(t)},pe(n,[{key:"Tht",get:function(){return this._N}}]),n}(SV),OV=function(t){function n(){return t.apply(this,arguments)}ze(n,t);var i=n.prototype;return i.kht=function(t){var n=new NV(t);return n.o$=this,n},i.Aht=function(t){return new DV(t)},pe(n,[{key:"Tht",get:function(){return this._N}}]),n}(PV),xV=function(t){function n(){return t.apply(this,arguments)}ze(n,t);var i=n.prototype;return i.gN=function(n){return n===Tp.Ll?new OV(t.prototype.gN.call(this,n)):n===Tp.xl?new BV(t.prototype.gN.call(this,n)):void 0},i.UN=function(n){var i=this;return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:return[4,(e=n).Io()];case 1:return r.sent(),[4,t.prototype.UN.call(i,e.Tht)];case 2:return r.sent(),[2]}}))}))()},n}(bV);function LV(t){return x_(t)}function MV(t,n){var i=x_(t);return n?""+i+n:""+i}me(),zt(),me(),zt();var FV=function(){function t(t,n,i,e){this.zht=t,this.Vht=n,this.Wht=i,this.qht=e}var n=t.prototype;return n.l8=function(t){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return[4,n.zht.Ght(t.map(LV))];case 1:return[2,i.sent().shift()]}}))}))()},n._st=function(t,n){var i=MV(t,n);return this.Vht.Ta(i)},n.w7=function(t,n){var i=this;return _a((function(){var e,r;return ma(this,(function(u){switch(u.label){case 0:return r=MV(t,n),[4,i.Wht.Sa(r)];case 1:return[2,null==(e=u.sent())?void 0:e.data]}}))}))()},n.WF=function(t){return this.qht.Sa(t)},t}();me(),zt(),Ae(),me(),zt(),me(),zt();var UV=function(){function t(){}var n=t.prototype;return n.jht=function(t){return j.resolve(!1)},n.Yht=function(t){return j.reject(HV)},n.Qht=function(t){return j.reject(HV)},n.Ta=function(t){return j.resolve(!1)},n.Sa=function(t){return j.resolve(void 0)},n.Zht=function(t,n){return j.resolve(void 0)},n.Ght=function(t){return j.resolve([])},n.Kht=function(){return j.resolve([])},n.Jht=function(t){return j.resolve([])},n.$ht=function(t,n){return j.resolve([])},n._f=function(t){return j.reject(HV)},n.tft=function(t){return j.reject(HV)},n.nft=function(){return j.reject(HV)},t}(),HV="Storage disabled",XV=function(){function t(){this.ift=new UV,this.Y2=new UV,this.eft=new UV,this.rft=new UV,this.uft=new UV}return t.prototype.sft=function(t){return j.reject(zV)},t.RJ=function(){return j.resolve(new t)},t}(),zV="Storage disabled";me(),zt(),me(),zt(),Ae(),me(),zt(),Ae();var VV,WV,qV=function(){function t(t){var n=this;this.Po=new Mf,this.oft=void 0,this.Po.Oo(t),this.Po.Fa.then((function(t){n.oft=t}))}var n=t.prototype;return n.jht=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return(i=n.oft)?[3,2]:[4,n.aft];case 1:i=e.sent(),e.label=2;case 2:return[2,i.jht(t)]}}))}))()},n.Yht=function(t,n){var i=this;return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:return(e=i.oft)?[3,2]:[4,i.aft];case 1:e=r.sent(),r.label=2;case 2:return[2,e.Yht(t,n)]}}))}))()},n.Qht=function(t,n){var i=this;return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:return(e=i.oft)?[3,2]:[4,i.aft];case 1:e=r.sent(),r.label=2;case 2:return[2,e.Qht(t,n)]}}))}))()},n.Ta=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return(i=n.oft)?[3,2]:[4,n.aft];case 1:i=e.sent(),e.label=2;case 2:return[2,i.Ta(t)]}}))}))()},n.Sa=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return(i=n.oft)?[3,2]:[4,n.aft];case 1:i=e.sent(),e.label=2;case 2:return[2,i.Sa(t)]}}))}))()},n.Zht=function(t,n){var i=this;return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:return(e=i.oft)?[3,2]:[4,i.aft];case 1:e=r.sent(),r.label=2;case 2:return[2,e.Zht(t,n)]}}))}))()},n.Ght=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return(i=n.oft)?[3,2]:[4,n.aft];case 1:i=e.sent(),e.label=2;case 2:return[2,i.Ght(t)]}}))}))()},n.Kht=function(){var t=this;return _a((function(){var n;return ma(this,(function(i){switch(i.label){case 0:return(n=t.oft)?[3,2]:[4,t.aft];case 1:n=i.sent(),i.label=2;case 2:return[2,n.Kht()]}}))}))()},n.Jht=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return(i=n.oft)?[3,2]:[4,n.aft];case 1:i=e.sent(),e.label=2;case 2:return[2,i.Jht(t)]}}))}))()},n.$ht=function(t,n){var i=this;return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:return(e=i.oft)?[3,2]:[4,i.aft];case 1:e=r.sent(),r.label=2;case 2:return[2,e.$ht(t,n)]}}))}))()},n._f=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return(i=n.oft)?[3,2]:[4,n.aft];case 1:i=e.sent(),e.label=2;case 2:return[2,i._f(t)]}}))}))()},n.tft=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return(i=n.oft)?[3,2]:[4,n.aft];case 1:i=e.sent(),e.label=2;case 2:return[2,i.tft(t)]}}))}))()},n.nft=function(){var t=this;return _a((function(){var n;return ma(this,(function(i){switch(i.label){case 0:return(n=t.oft)?[3,2]:[4,t.aft];case 1:n=i.sent(),i.label=2;case 2:return[2,n.nft()]}}))}))()},pe(t,[{key:"aft",get:function(){return this.Po.Fa}}]),t}(),GV=function(){function t(t){var n=this;this.Po=new Mf,this.cft=void 0,this.Po.Oo(t);var i=this.Po.Fa;i.then((function(t){n.cft=t})),this.Y2=new qV(i.then((function(t){return t.Y2}))),this.ift=new qV(i.then((function(t){return t.ift}))),this.eft=new qV(i.then((function(t){return t.eft}))),this.rft=new qV(i.then((function(t){return t.rft}))),this.uft=new qV(i.then((function(t){return t.uft})))}return t.prototype.sft=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return(i=n.cft)?[3,2]:[4,n.hft];case 1:i=e.sent(),e.label=2;case 2:return[4,i.sft(t)];case 3:return[2,e.sent()]}}))}))()},pe(t,[{key:"hft",get:function(){return this.Po.Fa}}]),t}();function jV(t){return new h("This storage cannot handle persistency type "+t)}me(),zt(),me(),zt(),Oe(),me(),zt(),(WV=VV||(VV={})).fft="readonly",WV.vft="readwrite";var YV=function(){function t(){this.Ac=[]}var n=t.prototype;return n.jht=function(t){return j.resolve("temporary"===t)},n.Yht=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?j.reject(jV(n)):(this.dft(t.key),this.Ac.push(t),j.resolve())},n.Qht=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return j.reject(jV(n));for(var i=0;i<t.length;i++){var e=t[i];this.dft(e.key)}for(var r=0;r<t.length;r++){var u=t[r];this.Ac.push(u)}return j.resolve()},n.Ta=function(t){return j.resolve(Boolean(this.lft(t)))},n.Sa=function(t){return j.resolve(this.lft(t))},n.Zht=function(t,n){return j.resolve(this.wft(t,n))},n.Ght=function(t){var n=this,i=t?t.map((function(t){return n.lft(t)})):this.Ac;return j.resolve(i.filter(er))},n.Kht=function(){return j.resolve(Ce(this.Ac))},n.Jht=function(t){return this.$ht(t,"key")},n.$ht=function(t,n){var i=this.Ac.filter((function(i){return i[n]===t}));return j.resolve(i)},n._f=function(t){return this.dft(t),j.resolve()},n.tft=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.dft(i)}return j.resolve()},n.nft=function(){return Pc(this.Ac),j.resolve()},n.lft=function(t){return this.wft(t,"key")},n.wft=function(t,n){for(var i=0,e=this.Ac;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.dft=function(t){var n=this.lft(t);n&&Cc(this.Ac,n)},t}(),QV=function(){function t(){this.ift=new YV,this.Y2=new YV,this.eft=new YV,this.rft=new YV,this.uft=new YV}return t.prototype.sft=function(t){return t(this)},t.RJ=function(){return j.resolve(new t)},t}();me(),zt(),Ae(),me(),zt(),Oe();var ZV=function(){function t(t){this._ft=t}var n=t.prototype;return n.jht=function(t){var n=this;return _a((function(){var i,e;return ma(this,(function(r){switch(r.label){case 0:i=0,e=n._ft,r.label=1;case 1:return i<e.length?[4,e[i].jht(t)]:[3,4];case 2:if(r.sent())return[2,!0];r.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.Yht=function(t,n){void 0===n&&(n="persistent");var i=this;return _a((function(){var e,r,u;return ma(this,(function(s){switch(s.label){case 0:e=0,r=i._ft,s.label=1;case 1:return e<r.length?[4,(u=r[e]).jht(n)]:[3,4];case 2:if(s.sent())return[2,u.Yht(t)];s.label=3;case 3:return e++,[3,1];case 4:throw jV(n)}}))}))()},n.Qht=function(t,n){void 0===n&&(n="persistent");var i=this;return _a((function(){var e,r,u;return ma(this,(function(s){switch(s.label){case 0:e=0,r=i._ft,s.label=1;case 1:return e<r.length?[4,(u=r[e]).jht(n)]:[3,4];case 2:if(s.sent())return[2,u.Qht(t)];s.label=3;case 3:return e++,[3,1];case 4:throw jV(n)}}))}))()},n.Ta=function(t){var n=this;return _a((function(){var i,e;return ma(this,(function(r){switch(r.label){case 0:i=0,e=n._ft,r.label=1;case 1:return i<e.length?[4,e[i].Ta(t)]:[3,4];case 2:if(r.sent())return[2,!0];r.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.Sa=function(t){var n=this;return _a((function(){var i,e,r;return ma(this,(function(u){switch(u.label){case 0:i=0,e=n._ft,u.label=1;case 1:return i<e.length?[4,e[i].Sa(t)]:[3,4];case 2:if(r=u.sent())return[2,r];u.label=3;case 3:return i++,[3,1];case 4:return[2,void 0]}}))}))()},n.Zht=function(t,n){var i=this;return _a((function(){var e,r,u;return ma(this,(function(s){switch(s.label){case 0:e=0,r=i._ft,s.label=1;case 1:return e<r.length?[4,r[e].Zht(t,n)]:[3,4];case 2:if(u=s.sent())return[2,u];s.label=3;case 3:return e++,[3,1];case 4:return[2,void 0]}}))}))()},n.Ght=function(t){var n=this;return _a((function(){var i,e,r,u,s,o,a,c;return ma(this,(function(h){switch(h.label){case 0:i=[],e=0,r=n._ft,h.label=1;case 1:return e<r.length?(u=r[e],a=(o=(s=i).push).apply,c=[s],[4,u.Ght(t)]):[3,4];case 2:a.apply(o,c.concat([Ce.apply(void 0,[h.sent()])])),h.label=3;case 3:return e++,[3,1];case 4:return[2,i]}}))}))()},n.Kht=function(){var t=this;return _a((function(){var n,i,e,r,u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:n=[],i=0,e=t._ft,c.label=1;case 1:return i<e.length?(r=e[i],o=(s=(u=n).push).apply,a=[u],[4,r.Kht()]):[3,4];case 2:o.apply(s,a.concat([Ce.apply(void 0,[c.sent()])])),c.label=3;case 3:return i++,[3,1];case 4:return[2,n]}}))}))()},n.Jht=function(t){var n=this;return _a((function(){var i,e,r,u,s,o,a,c;return ma(this,(function(h){switch(h.label){case 0:i=[],e=0,r=n._ft,h.label=1;case 1:return e<r.length?(u=r[e],a=(o=(s=i).push).apply,c=[s],[4,u.Jht(t)]):[3,4];case 2:a.apply(o,c.concat([Ce.apply(void 0,[h.sent()])])),h.label=3;case 3:return e++,[3,1];case 4:return[2,i]}}))}))()},n.$ht=function(t,n){var i=this;return _a((function(){var e,r,u,s,o,a,c,h;return ma(this,(function(f){switch(f.label){case 0:e=[],r=0,u=i._ft,f.label=1;case 1:return r<u.length?(s=u[r],c=(a=(o=e).push).apply,h=[o],[4,s.$ht(t,n)]):[3,4];case 2:c.apply(a,h.concat([Ce.apply(void 0,[f.sent()])])),f.label=3;case 3:return r++,[3,1];case 4:return[2,e]}}))}))()},n._f=function(t){var n=this;return _a((function(){var i,e;return ma(this,(function(r){switch(r.label){case 0:i=0,e=n._ft,r.label=1;case 1:return i<e.length?[4,e[i]._f(t)]:[3,4];case 2:r.sent(),r.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.tft=function(t){var n=this;return _a((function(){var i,e;return ma(this,(function(r){switch(r.label){case 0:i=0,e=n._ft,r.label=1;case 1:return i<e.length?[4,e[i].tft(t)]:[3,4];case 2:r.sent(),r.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.nft=function(){var t=this;return _a((function(){var n,i;return ma(this,(function(e){switch(e.label){case 0:n=0,i=t._ft,e.label=1;case 1:return n<i.length?[4,i[n].nft()]:[3,4];case 2:e.sent(),e.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))()},t}();function KV(t){return _a((function(){var n;return ma(this,(function(i){switch(i.label){case 0:return[4,j.all(t.map((function(t){return t()})))];case 1:return n=i.sent(),[2,JV.RJ(n)]}}))}))}var JV=function(){function t(t){this.gft=t,this.mft=new ZV(t.map((function(t){return t.rft}))),this.yft=new ZV(t.map((function(t){return t.uft}))),this.pft=new ZV(t.map((function(t){return t.eft}))),this.Aft=new ZV(t.map((function(t){return t.ift}))),this.kft=new ZV(t.map((function(t){return t.Y2})))}return t.prototype.sft=function(n){var i=this;if(0===this.gft.length)return n(this);var e=[],r=0,u=function(s){return e.push(s),++r<i.gft.length?i.gft[r].sft(u):n(new t(e))};return this.gft[r].sft(u)},t.RJ=function(n){return j.resolve(new t(n))},pe(t,[{key:"rft",get:function(){return this.mft}},{key:"uft",get:function(){return this.yft}},{key:"eft",get:function(){return this.pft}},{key:"ift",get:function(){return this.Aft}},{key:"Y2",get:function(){return this.kft}}]),t}(),$V=function(){function t(t){this.bft=[],this.Tft=!0,this.Sft=t}var n=t.prototype;return n.RJ=function(){return new GV(this.Eft())},n.Eft=function(){var t=this;return _a((function(){var n,i,e;return ma(this,(function(r){switch(r.label){case 0:return t.Tft?[4,j.resolve()]:[3,2];case 1:r.sent(),t.Tft=!1,r.label=2;case 2:n=0,i=t.bft,r.label=3;case 3:if(!(n<i.length))return[3,8];e=i[n],r.label=4;case 4:return r.trys.push([4,6,,7]),[4,KV([QV.RJ,e])()];case 5:return[2,r.sent()];case 6:return r.sent(),[3,7];case 7:return n++,[3,3];case 8:return[4,KV([QV.RJ,t.Sft])()];case 9:return[2,r.sent()]}}))}))()},n.o0=function(t){if(!this.Tft)throw new h("Registration overdue");this.bft.push(t)},t}(),tW=function(){function t(){}return t.o0=function(n){t.BC.o0(n)},pe(t,null,[{key:"Ze",get:function(){return t.h6||(t.h6=t.BC.RJ()),t.h6}}]),t}();tW.BC=new $V(XV.RJ),tW.h6=void 0;var nW=function(t){function n(n,i,e,r,u,s,o){var a,c=new xV(n),h=c.gN(Tp.Ll);return(a=t.call(this,h,i,e,r,u,s,o)||this).wN=c,a}return ze(n,t),n.prototype.bv=function(){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return[4,t.prototype.bv.call(n)];case 1:return i.sent(),[4,n.wN.UN(n._N)];case 2:return i.sent(),[2]}}))}))()},n}(function(t){function n(){return t.apply(this,arguments)}return ze(n,t),n.prototype.Ny=function(){if(void 0!==this._N.Nm)return this._N.Ny()},pe(n,[{key:"np",get:function(){return!1},set:function(t){}}]),n}(Dz));dI(new(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).jN=QE.Qg,n}ze(n,t);var i=n.prototype;return i.gR=function(t,n,i,e,r,u){return new nW(n,i,r,(s=e.libraryLocation,Uz.Ff()?new Uz:new rV(s)),new kV(e.libraryLocation),new FV(tW.Ze.eft,tW.Ze.ift,tW.Ze.Y2,tW.Ze.uft),e);var s},i.YN=function(n,i){var e=this;return _a((function(){var r;return ma(this,(function(u){switch(u.label){case 0:return[4,t.prototype.YN.call(e,n,i)];case 1:if(!u.sent())return[2,!1];if(null==(r=n.hls)?void 0:r.useLegacy){if(!Dc(oM,"hls-legacy"))throw new bw(gw.SOURCE_NOT_SUPPORTED,'The given source requires the "hls-legacy" feature to be enabled.');return[2,!1]}return[2,!0]}}))}))()},i.QN=function(){return!0},n}(function(t){function n(){return t.apply(this,arguments)}return ze(n,t),n.prototype.YN=function(n,e){var r=this;return _a((function(){return ma(this,(function(u){return i.MediaSource?tr.fe||tr.Ge||e.manifestMetadataTrack?[2,!1]:[2,t.prototype.YN.call(r,n,e)]:[2,!1]}))}))()},n}(Pz)))),zM.J_=function(){return!(!i||!i.THEOplayerDebugLogsEnabled)},me(),zt(),me(),zt(),me(),zt(),me(),zt();var iW=function(){function t(){}var n=t.prototype;return n._st=function(t,n){return j.resolve(!1)},n.w7=function(t,n){return j.resolve(void 0)},n.l8=function(t){return j.resolve(void 0)},n.WF=function(t){return j.resolve(void 0)},t}(),eW=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Ift=void 0,r.Rft=void 0,r.Cft=void 0,r.Nft=function(){r.Ho(new tH)},r.kst=n,r.b8=new iH(e,new iW,n.useCredentials,n.src),r.b8.zo(qw.hd,r.Uo),r.gj=!1,r}ze(n,t);var i=n.prototype;return i.Dft=function(){var t;return null==(t=this.Ift)?void 0:t.D0},i.SD=function(t){var n=this;nh(kp((function(){return n.Pft(t)}),t))},i.Pft=function(t){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return[4,n.b8.e8(t)];case 1:return i.sent(),n.Cft&&(n.Bft(n.Cft.Qp,n.Cft.zT),n.Cft=void 0),n.gj=!0,[2]}}))}))()},i.Oft=function(t,n){this.gj?this.Bft(t,n):this.Cft={Qp:t,zT:n}},i.Bft=function(t,n){var i=this.xft(t,n),e=null==i?void 0:i.H1[0];e!==this.Ift&&(this.Lft(),void 0!==e&&(this.Ift=e,this.Rft=new wH(this.b8,e),this.Rft.p7()))},i.Lft=function(){this.Ift=void 0,this.Rft&&(this.Rft.Io(),this.Rft=void 0)},i.xft=function(t,n){var i=Ec(this.b8.M1.F1,(function(i){return void 0!==i.T1&&i.T1.Qp===t&&i.T1.zT===n}));return null!=i?i:this.b8.M1.F1[0]},i.bv=function(){this.qo(),this.Lft(),this.b8.Io()},n}(oh);me(),zt(),Ae();var rW,uW=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).Mft=void 0,r.Fft=!1,r.S8=void 0,r.handleManifestUpdate=function(){var t=r.Mft.Dft();if(t){var n=r.qN;if(n){var i=n.getTime(),e=r.S8;e||(e=new DU,r.S8=e),e.gf(t.l4,(function(t){return(t.getTime()-i)/1e3})),!r.Fft&&e.Pg.V_>0&&(r.vy.U_(e),r.uQ.U_(e),r.Fft=!0)}}},r.Uft=function(){r.Mft&&r.Mft.Oft(r.Dm,r.Nm)},r.Hft=i,r.HF=e,r.uQ=new TO(mu(r)),r.zo(qw.pd,r.Uft),r}ze(n,t);var i=n.prototype;return i.py=function(n,i,e){var r=this;return _a((function(){return ma(this,(function(u){switch(u.label){case 0:return[4,t.prototype.py.call(r,n,i,e)];case 1:return u.sent(),n.hlsDateRange&&r.Xft(n,i,e),[2]}}))}))()},i.Xft=function(t,n,i){this.Mft=new eW(t,n,this.Hft),this.Mft.zo(qw.hd,this.handleManifestUpdate),this.Mft.SD(i)},i.Nf=function(){return this.S8&&(this.vy.H_(this.S8),this.uQ.H_(this.S8),this.S8.bv(),this.S8=void 0,this.Fft=!1),this.Mft&&(this.Mft.bv(),this.Mft=void 0),this.uQ.Nf(),t.prototype.Nf.call(this)},i.bv=function(){return this.Go(qw.pd,this.Uft),this.Mft&&(this.Mft.bv(),this.Mft=void 0),this.uQ.bv(),t.prototype.bv.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).zft=n;for(var e=0;e<yI.length;e++){var r=yI[e];i.zft.zo(r,i.Uo)}return i}ze(n,t);var i=n.prototype;return i.Ay=function(){return this.zft.Ay()},i.Dy=function(){return this.zft.Dy()},i.Ny=function(){return this.zft.Ny()},i.Cy=function(){return this.zft.Cy()},i.My=function(){return this.zft.My()},i.Fy=function(){return this.zft.Fy()},i._y=function(){return this.zft._y()},i.wy=function(){return this.zft.wy()},i.Nf=function(){return this.zft.Nf()},i.py=function(t,n,i){return this.zft.py(t,n,i)},i.Ry=function(){return this.zft.Ry()},i.by=function(){return this.zft.by()},i.Ty=function(){return this.zft.Ty()},i.bv=function(){this.qo();for(var t=0;t<yI.length;t++){var n=yI[t];this.zft.Go(n,this.Uo)}return this.zft.bv()},pe(n,[{key:"sy",get:function(){return this.zft.sy}},{key:"Uy",get:function(){return this.zft.Uy}},{key:"Hy",get:function(){return this.zft.Hy},set:function(t){this.zft.Hy=t}},{key:"pm",get:function(){return this.zft.pm},set:function(t){this.zft.pm=t}},{key:"Am",get:function(){return this.zft.Am}},{key:"Tm",get:function(){return this.zft.Tm}},{key:"Sm",get:function(){return this.zft.Sm}},{key:"ly",get:function(){return this.zft.ly}},{key:"ua",get:function(){return this.zft.ua}},{key:"zy",get:function(){return this.zft.zy}},{key:"Vy",get:function(){return this.zft.Vy}},{key:"Em",get:function(){return this.zft.Em},set:function(t){this.zft.Em=t}},{key:"Zy",get:function(){return this.zft.Zy}},{key:"Im",get:function(){return this.zft.Im}},{key:"Rm",get:function(){return this.zft.Rm},set:function(t){this.zft.Rm=t}},{key:"Ky",get:function(){return this.zft.Ky}},{key:"Jy",get:function(){return this.zft.Jy},set:function(t){this.zft.Jy=t}},{key:"Dg",get:function(){return this.zft.Dg}},{key:"$y",get:function(){return this.zft.$y}},{key:"Cm",get:function(){return this.zft.Cm}},{key:"qN",get:function(){return this.zft.qN}},{key:"vy",get:function(){return this.zft.vy}},{key:"Nm",get:function(){return this.zft.Nm}},{key:"oy",get:function(){return this.zft.oy}},{key:"Dm",get:function(){return this.zft.Dm}},{key:"Pm",get:function(){return this.zft.Pm},set:function(t){this.zft.Pm=t}},{key:"tp",get:function(){return this.zft.tp}},{key:"np",get:function(){return this.zft.np},set:function(t){this.zft.np=t}},{key:"GN",get:function(){return this.zft.GN}}]),n}(py));rW=function(t,n,i){return new uW(t,n,i)},fI.$N().JN(rW),me(),zt(),me(),zt();var sW=function(){};me(),zt();var oW=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}();me(),zt(),me(),zt();var aW=C(xe());function cW(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function hW(t){return JSON.stringify(t,aW.getSerialize(cW))}me(),zt(),me(),zt(),Ae();var fW,vW,dW=C(Ue()),lW=function(){function t(){}return t.prototype.gr=function(t){var n=function(t){r[r.length-1].Lr(t)},i=new dW.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),e=new AW,r=[e];return i.on("text",(function(t){r.length>1&&n(new yW(t))})),i.on("cdata",(function(t){n(new pW(t))})),i.on("opentag",(function(t){for(var i=t.local,e=t.uri,u=t.prefix,s=new gW({Tr:i,Er:""===e?void 0:e,Vft:""===u?void 0:u}),o=t.attributes,a=0,c=v.keys(o);a<c.length;a++){var h=o[c[a]],f=h.prefix,d=h.local,l=h.uri,w=h.value,_=new wW({Tr:d,Rr:w,Er:""===l?void 0:l,Vft:""===f?void 0:f});s.Wft(_)}n(s),r.push(s)})),i.on("closetag",(function(){r.pop()})),i.on("error",(function(t){throw new Au(t)})),i.write(t).close(),e},t}(),wW=function(){function t(t){this.qft=t.Tr,this.I=t.Rr,this.Gft=t.Er,this.jft=t.Vft}var n=t.prototype;return n.pr=function(t){return this===t||!!bW(this,t)&&(this.qft===t.qft&&this.Gft===t.Gft&&this.jft===t.jft&&this.I===t.I)},n.Ar=function(){return new t({Tr:this.Tr,Rr:this.Rr,Er:this.Er,Vft:this.Ir})},pe(t,[{key:"ir",get:function(){return fu.rr}},{key:"Tr",get:function(){return this.qft}},{key:"Sr",get:function(){return void 0===this.jft?this.qft:this.jft+":"+this.qft}},{key:"Er",get:function(){return this.Gft}},{key:"Ir",get:function(){return this.jft}},{key:"Rr",get:function(){return this.I}}]),t}(),_W=function(){function t(){this.Cr=[]}var n=t.prototype;return n.Dr=function(t){return this.Cr.filter((function(n){return kW(n)&&n.Br===t}))},n.Or=function(t,n){return this.Cr.filter((function(i){return kW(i)&&i.Tr===n&&i.Er===t}))},n.Lr=function(t){this.Cr.push(t)},pe(t,[{key:"Pr",get:function(){return this.Cr}},{key:"Fr",get:function(){return this.Cr.filter(kW)}}]),t}(),gW=function(t){function n(n){var i;return(i=t.call(this)||this).Yft=[],i.qft=n.Tr,i.Gft=n.Er,i.jft=n.Vft,i}ze(n,t);var i=n.prototype;return i.Qft=function(t){for(var n=0,i=this.Pr;n<i.length;n++){var e=i[n];kW(e)?e.Qft(t):t.push(e.jr)}},i.Hr=function(t,n){for(var i=0,e=this.Yft;i<e.length;i++){var r=e[i];if(r.Tr===n&&r.Er===t)return r.Rr}},i.Ur=function(t){for(var n=0,i=this.Yft;n<i.length;n++){var e=i[n];if(e.Sr===t)return e.Rr}},i.Wft=function(t){this.Yft.push(t)},i.Xr=function(t){for(var n=0;n<this.Yft.length;n++)if(this.Yft[n].Sr===t)return void this.Yft.splice(n,1)},i.zr=function(t,n){for(var i=0;i<this.Yft.length;i++)if(this.Yft[i].Tr===n&&this.Yft[i].Er===t)return void this.Yft.splice(i,1)},i.Vr=function(t,n){this.Xr(t),this.Wft(new wW({Tr:t,Rr:n}))},i.Wr=function(t,n,i){this.Xr(n);var e=n.split(":");this.Wft(new wW({Tr:e[e.length-1],Rr:i,Er:t,Vft:e.length>1?e[0]:void 0}))},i.Ar=function(t){var i=new n({Tr:this.Tr,Er:this.Er,Vft:this.Ir});return this.qr.forEach((function(t){return i.Wft(t.Ar())})),t&&this.Pr.forEach((function(n){return i.Lr(n.Ar(t))})),i},i.pr=function(t){return this===t||!!bW(this,t)&&(this.qft===t.qft&&this.jft===t.jft&&this.Gft===t.Gft&&(TW(this.qr,t.qr)&&TW(this.Pr,t.Pr)))},pe(n,[{key:"ir",get:function(){return fu.er}},{key:"qr",get:function(){return this.Yft}},{key:"Tr",get:function(){return this.qft}},{key:"Er",get:function(){return this.Gft}},{key:"Ir",get:function(){return this.jft}},{key:"Br",get:function(){return void 0===this.jft?this.qft:this.jft+":"+this.qft}},{key:"Gr",get:function(){var t=[];return this.Qft(t),t.join("")}}]),n}(_W),mW=function(){function t(t){this.j=t}return pe(t,[{key:"jr",get:function(){return this.j}}]),t}(),yW=function(t){function n(n){return t.call(this,n)}ze(n,t);var i=n.prototype;return i.Ar=function(){return new n(this.jr)},i.pr=function(t){return this===t||!!bW(this,t)&&this.jr===t.jr},pe(n,[{key:"ir",get:function(){return fu.dr}}]),n}(mW),pW=function(t){function n(n){return t.call(this,n)}ze(n,t);var i=n.prototype;return i.Ar=function(){return new n(this.jr)},i.pr=function(t){return this===t||!!bW(this,t)&&this.jr===t.jr},pe(n,[{key:"ir",get:function(){return fu.wr}}]),n}(mW),AW=function(t){function n(){return t.apply(this,arguments)}ze(n,t);var i=n.prototype;return i.Ar=function(t){var i=new n;return t&&this.Pr.forEach((function(n){return i.Lr(n.Ar(t))})),i},i.pr=function(t){return this===t||!!bW(this,t)&&TW(this.Pr,t.Pr)},pe(n,[{key:"ir",get:function(){return fu._r}},{key:"Yr",get:function(){return this.Fr[0]}}]),n}(_W);function kW(t){return _u(t)}function bW(t,n){return t.ir===n.ir}function TW(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].pr(n[i]))return!1;return!0}function SW(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:ga({},t,{adBreak:ga({},t.adBreak,{ads:t.adBreak.ads.map((function(t){t.adBreak;return HT(t,["adBreak"])}))})})}function EW(t){return void 0===t.ads?t:ga({},t,{ads:t.ads.map((function(t){t.adBreak;return HT(t,["adBreak"])}))})}function IW(t){return"string"==typeof t.date?new Date(t.date):t.date}function RW(t){var n;return t.cue.track?(n=NW(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=NW(t.cue,""),n}function CW(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&v.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=v.entries(i);return v.fromEntries(e.map((function(i){var e=ya(i,2),r=e[0],u=e[1],s=t(u);return"object"==typeof u&&null!==u&&"[Circular ~]"!==s&&n.pop(u),[r,s]})))}return i}(t)}function NW(t,n){var i={};switch(i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=PW(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new lW).gr(e.firstChild.outerHTML).Yr.qr.forEach((function(t){r[t.Tr]=t.Rr})),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if(OW(o)){var a=DW(o);u[s]={type:"daterange-ca-type_arraybuffer",value:a}}else xW(o)?u[s]={type:"daterange-ca-type_number",value:o}:u[s]={type:"daterange-ca-type_string",value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=DW(t.scte35Cmd),i.scte35Out=DW(t.scte35Out),i.scte35In=DW(t.scte35In),i.customAttributes=u}return i}function DW(t){if(void 0!==t)return Ih(t)}function PW(t){var n=t.children;if(0!==n.length)for(var i=0;i<n.length;i++){var e=n.item(i);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:PW(e)}}function BW(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(NW(r,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(NW(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function OW(t){return"object"==typeof t&&null!==t}function xW(t){return"number"==typeof t}(vW=fW||(fW={})).FZ="daterange-ca-type_string",vW.Zft="daterange-ca-type_number",vW.Kft="daterange-ca-type_arraybuffer";var LW={cue:function(t){var n={};switch(n.date=IW(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=RW(t)}return n},textTrack:function(t){var n={};switch(n.date=IW(t),n.type=t.type,t.type){case"addcue":var i=t.cue;HW().register(i);var e=UW()[XW()].eventListeners;t.cue.addEventListener("enter",(function(t){e.InternalCueHelperEvent(t)})),t.cue.addEventListener("exit",(function(t){e.InternalCueHelperEvent(t)})),t.cue.addEventListener("update",(function(t){e.InternalCueHelperEvent(t)}));case"removecue":case"entercue":case"exitcue":n.cue=RW(t);break;case"cuechange":for(var r=[],u=0;u<t.track.activeCues.length;u++){var s=t.track.activeCues[u];r.push(NW(s,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:BW(t.track),date:IW(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=HW();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach((function(t){return r.remove(t.uid)}))}return i},default:function(t){var n={};switch(n.date=IW(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case qw.Nd:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=ga({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=BW(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=EW(t.ad);break;case"adloaded":case"adimpression":n.ad=SW(t.ad);break;case"adskip":n.ad=SW(t.ad),n.playedPercentage=t.playedPercentage;break;case"aderror":t.Jft&&(n.Jft=t.Jft),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=SW(t.ad)}return CW(n)},minimizeCueHelper:function(t){var n={};return n.date=IW(t),n.type=t.type,n.cue=RW(t),n.track={uid:t.cue.track.uid},n},adReplacer:SW,adBreakReplacer:EW,removeCircularReferences:CW},MW=function(){this.stringify=hW,this.minimize=LW};function FW(){return Oo.self}function UW(){return FW().THEOplayerBridge}function HW(){return FW().THEOCueMirrorMap}function XW(){return FW().THEOplayerGlobalID}function zW(){var t=FW();if(t.THEOplayerBridge){var n=new sW;t.THEOplayerBridge=Vm(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new sW;t.THEOplayerUtils||(t.THEOplayerUtils=new MW),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new oW)}zW(),me(),zt(),me(),zt(),me(),zt(),Ae(),me(),zt(),me(),zt();var VW=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return ze(n,t),n}(fh),WW=function(t){function n(){return t.apply(this,arguments)}ze(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Ho(new VW(t,n))},i.addEventListener=function(t,n){this.zo(t,n)},i.removeEventListener=function(t,n){this.Go(t,n)},n}(Ay);me(),zt(),Ae();var qW=function(t){function n(n,i){var e;return(e=t.call(this)||this).$ft=function(t){e.tvt.lJ("THEOplayerABRSetTargetBuffer",t.aM),e.Ho(t)},e.nvt=function(t){e.tvt.lJ("THEOplayerABRSetStrategy",t.oM),e.Ho(t)},e.tvt=n,e.ivt=i,e.ivt.zo("fM",e.$ft),e.ivt.zo("vM",e.nvt),e}return ze(n,t),n.prototype.AM=function(t){return this.ivt.AM(t)},pe(n,[{key:"bM",get:function(){switch(this.oM.type){case IN.PERFORMANCE:return 1;case IN.QUALITY:return 0;case IN.BANDWIDTH:var t;return(null==(t=this.oM.metadata)?void 0:t.bitrate)&&!_(this.oM.metadata.bitrate)?this.oM.metadata.bitrate:0;default:return 0}}},{key:"d_",get:function(){return this.ivt.d_}},{key:"oM",get:function(){return this.ivt.oM},set:function(t){this.ivt.oM=t}},{key:"aM",get:function(){return this.ivt.aM},set:function(t){this.ivt.aM=t}},{key:"kM",get:function(){return this.ivt.kM}},{key:"cM",get:function(){return this.ivt.cM},set:function(t){this.ivt.cM=t}},{key:"hM",get:function(){return this.ivt.hM}},{key:"iM",get:function(){return this.ivt.iM}}]),n}(oh);me(),zt(),Ae(),me(),zt(),Ae();var GW,jW,YW=function(){function t(t,n,i){this.bf=void 0,this.Jf=t,this.uo=i,this.Sv=n}var n=t.prototype;return n.wI=function(t){throw new h("Not implemented yet.")},n.TU=function(t,n){var i=this;return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:return[4,i.uo.oo(t.js,n)];case 1:return[4,r.sent().Bf()];case 2:return e=r.sent(),[4,i.SU(e)];case 3:return r.sent(),[2,e]}}))}))()},n.EU=function(t){return!1},n.IU=function(t){return j.resolve(void 0)},n.Io=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return[4,t.SU(void 0)];case 1:return n.sent(),[2]}}))}))()},n.SU=function(t){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return[4,n.CU(t)];case 1:return i.sent(),[2]}}))}))()},n.CU=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return(i=n.bf)?[4,i.Cf(n.Sv)]:[3,2];case 1:e.sent(),n.bf=void 0,e.label=2;case 2:return t?[4,t.Rf(n.Sv)]:[3,4];case 3:e.sent(),n.bf=t,e.label=4;case 4:return[2]}}))}))()},n.vI=function(t,n,i){throw new h("Not implemented yet.")},pe(t,[{key:"Sf",get:function(){return this.Jf}},{key:"Jy",get:function(){throw new h("Not implemented yet.")},set:function(t){throw new h("Not implemented yet.")}},{key:"$y",get:function(){return new TI([0,1/0])}},{key:"vy",get:function(){throw new h("Not implemented yet.")}},{key:"evt",get:function(){throw new h("Not implemented yet")}},{key:"oy",get:function(){throw new h("Not implemented yet.")}},{key:"rvt",get:function(){throw new h("Not implemented yet")}},{key:"uvt",get:function(){throw new h("Not implemented yet")}}]),t}();me(),zt(),(jW=GW||(GW={})).svt="webkitneedkey",jW.ovt="webkitkeymessage",jW.avt="webkitkeyerror",jW.cvt="webkitkeyflowdone";var QW=function(t){function n(n,i){var e;return(e=t.call(this,"webkitneedkey")||this).initData=n,e.sessionId=i,e}return ze(n,t),n}(fh),ZW=function(t){function n(n,i){var e;return(e=t.call(this,"webkitkeymessage")||this).message=n,e.destinationURL=i,e}return ze(n,t),n}(fh),KW=function(t){function n(){return t.call(this,"webkitkeyerror")}return ze(n,t),n}(fh),JW=function(t){function n(){return t.call(this,"webkitkeyflowdone")}return ze(n,t),n}(fh);me(),zt(),me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),Ae();var $W=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).Hf=n,s.if=i,s.fvt=e,s.Ev=r,s.tv=u,s.Wf=new Mf,s.ev=void 0,s.Qf=new ph,s.uv=new Mf,s.vvt=function(t){s.ev?(s.ev.Ha(void 0),s.ev=void 0):s.Yf("internal-error"),s.Ho(new _h)},s.dvt=function(t){s.Ho(new wh(mu(s),"license-request",Bf(t.message).buffer,t.destinationURL||void 0))},s.lvt=function(t){s.ev&&(s.ev.Ua(void 0),s.ev=void 0)},s}ze(n,t);var i=n.prototype;return i.lf=function(t,n,i){var e=this;return _a((function(){var t;return ma(this,(function(r){switch(r.label){case 0:if(!(t=i&&i.fairplay&&i.fairplay.ov))throw new f("Expected FairPlay contentId to be defined but was "+t+".");return[4,e.wvt(Df(n),t)];case 1:return r.sent(),e.Yf("usable"),e.uv.Ua(),e.uv=new Mf,[2]}}))}))()},i.wf=function(t){return _a((function(){return ma(this,(function(t){return[2,!0]}))}))()},i.gf=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){if(0===(i=Df(t)).byteLength)throw new f("Cannot call update with an empty response.");return n.ev=new Mf,n.fvt.gf(n.Ev,i),[2,n.ev.Fa]}))}))()},i.df=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return[4,t.uv];case 1:return n.sent(),t.fvt.Go(GW.ovt,t.dvt),t.fvt.Go(GW.avt,t.vvt),t.fvt.Go(GW.cvt,t.lvt),t.uv.Bo(),t.Wf.Ua(void 0),[2,t.Wf.Fa]}}))}))()},i._f=function(){return _a((function(){return ma(this,(function(t){return[2]}))}))()},i.wvt=function(t,n){var i=this;return _a((function(){var e;return ma(this,(function(r){return e=kw(t,n,i.tv),i.fvt.zo(GW.ovt,i.dvt),i.fvt.zo(GW.avt,i.vvt),i.fvt.zo(GW.cvt,i.lvt),i.fvt.Pj(i.Ev,e),[2]}))}))()},i.Yf=function(t){this.Qf.Ra(),this.Qf.Ia(yh,t),this.Ho(new lh(this))},pe(n,[{key:"kf",get:function(){return this.Ev}},{key:"pf",get:function(){return NaN}},{key:"yf",get:function(){return this.Wf.Fa}},{key:"Af",get:function(){return this.Qf}}]),n}(oh),tq=function(){function t(t,n,i){this._vt=void 0,this.Ev=void 0,this.tv=void 0,this.fvt=t,this.if=n,this.Jf=i;var e=uw(i)||"video/mp4";this.Hf=nw(e)}var n=t.prototype;return n.Ef=function(t){var n=this;return _a((function(){var t;return ma(this,(function(i){if(!n.tv)throw new bw(gw.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return t=new $W(n.Hf,n.if,n.fvt,n.Ev,n.tv),n._vt=t,[2,t]}))}))()},n.If=function(t){return this.tv=Df(t),j.resolve(!0)},n.Rf=function(t){var n=this;return _a((function(){return ma(this,(function(i){return t.webkitSetMediaKeys(n),[2]}))}))()},n.Cf=function(t){return _a((function(){return ma(this,(function(n){return t.webkitSetMediaKeys(null),[2]}))}))()},n.createSession=function(){throw new h("Whoops.")},pe(t,[{key:"Tf",get:function(){return this.if}},{key:"Sf",get:function(){return this.Jf}},{key:"sessionId",set:function(t){this.Ev=t}}]),t}(),nq=function(){function t(t,n,i){this.gvt=t,this.if=n,this.Jf=i}var n=t.prototype;return n.Of=function(){return this.Jf},n.Bf=function(){var t=this;return _a((function(){return ma(this,(function(n){return[2,new tq(t.gvt,t.if,t.Jf)]}))}))()},pe(t,[{key:"Tf",get:function(){return this.if}}]),t}(),iq=function(){function t(t){this.gvt=t}return t.prototype.oo=function(t,n){var i=this;return _a((function(){var e,r,u;return ma(this,(function(s){for(e=0;e<n.length;e++)if(r=n[e],u=ew(eq,dh,t,r))return[2,new nq(i.gvt,t,u)];throw new f("Unsupported key system configuration for "+t)}))}))()},t}();function eq(t,n){return t===ja}me(),zt();var rq=function(t){function n(){return t.apply(this,arguments)}return ze(n,t),n.prototype.zj=function(t,n){return!0},n}(zO),uq=function(t){function n(n,i,e){var r;return void 0===e&&(e=new iq(i)),(r=t.call(this)||this).YC=void 0,r.jj=new Nw,r.mvt=!1,r.$f=null,r.yvt={Wy:0,qy:0,Gy:0,jy:0,Yy:0,Qy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.pvt=function(t){"boolean"==typeof t.detail.casting&&(r.mvt=t.detail.casting,r.Ho(new SA(r.mvt)))},r.Avt=function(t){r.Ev=t.sessionId,r.$f&&(r.$f.sessionId=r.Ev);var n=t.initData;if(n){var i=YO(n);if(!i)return;r.Ho(new gh(Ma,i))}else r.Ho(new gh(Ma,new ArrayBuffer(0)))},r.kvt=n,r.gvt=i,r.gvt.zo(GW.svt,r.Avt),r.uo=e,r.bU=new rq(mu(r)),r.bvt(),r}ze(n,t);var i=n.prototype;return i.xU=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Gs===fT.gI)return i}},i.Io=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return[4,t.Nf()];case 1:return n.sent(),t.qo(),t.Tvt(),t.gvt.Go(GW.svt,t.Avt),[4,t.bU.Io()];case 2:return n.sent(),[2]}}))}))()},i.Cy=function(){throw new h("Not implemented yet")},i.vI=function(t,n,i,e,r,u,s,o,a){throw new h("Not implemented yet")},i.DN=function(){return!1},i.BN=function(t,n,i,e,r){throw new h("Not implemented yet")},i.wI=function(t){throw new h("Not implemented yet")},i.LN=function(){throw new h("Not implemented yet")},i.wf=function(t){var n=this;return _a((function(){return ma(this,(function(i){return[2,n.jj.pv(_a((function(i){var e;return ma(this,(function(r){if(t.Gs===fT.gI)return jc(i),e=new YW(t,n,n.uo),n.YC=e,n.bU.wf(e,t),[2,e];throw new h("Could not create non-static media source")}))})))]}))}))()},i._y=function(){throw new h("Not implemented yet")},i.wy=function(){throw new h("Not implemented yet")},i.Nf=function(){this.jj.Bo();var t=this;return this.jj.pv(_a((function(){return ma(this,(function(n){switch(n.label){case 0:return void 0===t.YC?[3,2]:[4,t.YC.Io()];case 1:n.sent(),t.YC=void 0,n.label=2;case 2:return[4,t.bU.Nf()];case 3:return n.sent(),[2]}}))})))},i.Ba=function(t,n){throw new h("Not implemented yet")},i.VN=function(t){throw new h("Not implemented yet")},i.Ry=function(){throw new h("Not implemented yet")},i.WN=function(){return this.yvt},i.bvt=function(){this.kvt.addEventListener("airPlayIsCasting",this.pvt)},i.Tvt=function(){this.kvt.removeEventListener("airPlayIsCasting",this.pvt)},i.webkitSetMediaKeys=function(t){this.$f=t||null,this.$f&&(this.$f.sessionId=this.Ev)},i.RQ=function(){},i.EQ=function(){throw new h("Not implemented yet")},i.IQ=function(){throw new h("Not implemented yet")},pe(n,[{key:"Hy",get:function(){throw new h("Not implemented yet")}},{key:"Uy",get:function(){throw new h("Not implemented yet")}},{key:"pm",get:function(){throw new h("Not implemented yet")}},{key:"DQ",get:function(){throw new h("Not implemented yet")}},{key:"Am",get:function(){throw new h("Not implemented yet")}},{key:"Tm",get:function(){throw new h("Not implemented yet")}},{key:"ua",get:function(){throw new h("Not implemented yet")}},{key:"zT",get:function(){throw new h("Not implemented yet")}},{key:"zy",get:function(){return this.mvt}},{key:"Em",get:function(){throw new h("Not implemented yet")}},{key:"Im",get:function(){throw new h("Not implemented yet")}},{key:"Rm",get:function(){throw new h("Not implemented yet")}},{key:"Ky",get:function(){throw new h("Not implemented yet")}},{key:"Dg",get:function(){throw new h("Not implemented yet")}},{key:"$y",get:function(){throw new h("Not implemented yet")}},{key:"Cm",get:function(){throw new h("Not implemented yet")}},{key:"BQ",get:function(){throw new h("Not implemented yet")}},{key:"Pm",get:function(){throw new h("Not implemented yet")},set:function(t){throw new h("Not implemented yet")}},{key:"Qp",get:function(){throw new h("Not implemented yet")}},{key:"xN",get:function(){throw new h("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.$f}},{key:"Vj",get:function(){return gD}},{key:"vy",get:function(){throw new h("Not implemented yet")}},{key:"OQ",get:function(){throw new h("Not implemented yet")}},{key:"qN",get:function(){throw new h("Not implemented yet")}},{key:"CQ",get:function(){return!0}},{key:"kN",get:function(){return this.bU.kN},set:function(t){this.bU.kN=t}},{key:"xQ",get:function(){},set:function(t){}},{key:"Gj",get:function(){return this.bU.Gj}}]),n}(py);me(),zt();var sq,oq=function(t){function n(n){var i;return(i=t.call(this,qw.Bd)||this).yvt=n,i}return ze(n,t),n}(fh);function aq(t){switch(t.type){case"daterange-ca-type_string":return t.value;case"daterange-ca-type_number":return Zm(t.value);case"daterange-ca-type_arraybuffer":return Sh(t.value);default:return}}function cq(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}me(),zt(),function(t){t.FZ="daterange-ca-type_string",t.Zft="daterange-ca-type_number",t.Kft="daterange-ca-type_arraybuffer"}(sq||(sq={})),me(),zt(),me(),zt(),Ae();var hq=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,r,i,e)||this).oC=n,s.Svt=u,s}return ze(n,t),pe(n,[{key:"name",get:function(){return this.oC}},{key:"timestamp",get:function(){return this.Svt}}]),n}(bw);me(),zt();var fq=function(t){function n(n,i,e,r,u,s,o,a){var c;return(c=t.call(this,n,i,e,r,a)||this).url=u,c.status=s,c.errorComment=o,c}return ze(n,t),n}(hq);me(),zt(),Ae();var vq=function(){function t(t,n){this.$m=new Ub,this.uQ=new AO(t,n)}var n=t.prototype;return n.vI=function(t,n,i,e,r,u,s,o){var a=new AB(t,n,i,e,r,u,s,void 0,o);return this.$m.U_(a),this.uQ.U_(a),a},n.wI=function(t){this.$m.H_(t),this.uQ.H_(t),t.bv()},n.Nf=function(){for(var t=0,n=this.$m.z_.slice();t<n.length;t++){n[t].bv()}this.$m.Nf(),this.uQ.Nf()},n.bv=function(){this.Nf(),this.$m.bv(),this.uQ.bv()},pe(t,[{key:"vy",get:function(){return this.$m}}]),t}(),dq=function(t){function n(n,i,e,r,u){var s;(s=t.call(this)||this).wP=0,s.kq=!1,s.QC=void 0,s.ZC=void 0,s.gP=!0,s.mP=1,s.gtt=TI.hP(),s.oq=TI.hP(),s._P=!1,s.eY=TI.hP(),s.bq=My.im,s.AI=My.im,s.yvt={Wy:0,qy:0,Gy:0,jy:0,Yy:0,Qy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.YC=void 0,s.KC=new $E,s.JC=new uI;var o=mu(s);s.setCurrentTime=_a((function(t){return ma(this,(function(n){switch(n.label){case 0:return o.$y.length?[3,2]:(o.wP=t,[4,o.kvt.Zo("seekablechange")]);case 1:n.sent(),n.label=2;case 2:return o.wP=o.updateCurrentTime(t),o.tvt.lJ("THEOplayerSetCurrentTime",o.wP),o.yP=!0,o.Ho(new wp(o.wP)),[2]}}))})),s.Evt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.gtt=new TI(i),s.Ho(new kD(s.pm))}},s.Ivt=function(t){s.bq=t.detail.readyState,s.Ho(new mp(+t.detail.currentTime,s.Dg)),s.Rvt()},s.Cvt=function(t){s.bq=t.detail.readyState,s.Ho(new yp(+t.detail.currentTime,s.Dg)),s.Rvt()},s.Nvt=function(t){if(t.detail){var n=+t.detail.duration;s.Mc=n,s.Ho(new hp(s.Am))}},s.Dvt=function(t){t.detail&&(s.kq=!0,s.Ho(new dp(+t.detail.currentTime)))},s.$C=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);cq(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.ZC=new fq(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),s.QC=eA(s.ZC),s.Ho(new Ap(s.ZC))):cq(i)&&(s.ZC=new hq(i.name,i.message,void 0,i.code,i.timestamp),s.QC=eA(s.ZC),s.Ho(new Ap(s.ZC)))}},s.Pvt=function(t){s.Ho(new TD)},s.Bvt=function(t){s.bq=t.detail.readyState,s.Ho(new lp(+t.detail.currentTime,s.Dg)),s.Rvt()};var a=mu(s);s.Ovt=_a((function(t){return ma(this,(function(n){switch(n.label){case 0:return a.$y.length?[3,2]:[4,a.kvt.Zo("seekablechange")];case 1:n.sent(),n.label=2;case 2:return a.bq=t.detail.readyState,a.Ho(new cp(+t.detail.currentTime,a.Dg)),a.Rvt(),[2]}}))})),s.xvt=function(t){t.detail&&s.gP&&(s.gP=!1,s.Ho(new op(+t.detail.currentTime)))},s.Lvt=function(t){t.detail&&(s.gP||(s.gP=!0,s.Ho(new rp(+t.detail.currentTime))))},s.Mvt=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.eY=new TI(i)}},s.Fvt=function(t){t.detail&&s.Ho(new wT(+t.detail.currentTime))},s.Uvt=function(t){t.detail&&(s.mP=t.detail.playbackRate,s.Ho(new fp(+t.detail.currentTime,s.mP)))},s.Hvt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}s.oq=new TI(i)}},s.Xvt=function(t){t.detail&&(s.wP=+t.detail.currentTime,s.yP=!1,s.Ho(new vp(s.wP,s.zvt)),s.Ho(new _p(s.wP)))},s.Vvt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.Mc&&(s.kq=!1),s.yP=!0,s.Ho(new wp(n))}},s.Wvt=function(t){t.detail&&(t.detail.currentDate&&(s.zvt=new Date(1e3*t.detail.currentDate)),s.wP=+t.detail.currentTime,s.Ho(new vp(s.wP,s.zvt)))},s.qvt=function(t){s.Gvt=t.detail.height,s.jvt=t.detail.width},s.Yvt=function(t){t.detail&&s.Ho(new lT(+t.detail.currentTime))},s.Qvt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.sy.U_(new _A(n))},s.Zvt=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,u=0;u<s.Km.V_;u++){var o=s.sy.F_(u);o.hg==e&&o.ag==r?i=s.Km.F_(u):1==o.J_&&(n=s.Km.F_(u))}i&&n&&(i.J_=!0,n.J_=!1)},s.Kvt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.oy.U_(new mA(n))},s.HK=function(t){var n,i=t.detail.kind,e=t.detail.type;i===Mb.Ob&&e===AA.ID3?(n=new IO("",t.detail.label)).Sg=hy.Ig:i===Mb.Ob&&e===AA.DATE_RANGE?(n=new DU,s.Jvt=n):n=new AB(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),s.pY.U_(n),s.uQ.U_(n)},s.$vt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,u=void 0;if("PRIV"===r)u={id:r,ownerIdentifier:e.Id3_PRIV_ownerIdentifier,data:e.Id3_PRIV_data};else if("TXXX"===r||"TXX"===r){u={id:r,text:e.Id3FrameText,description:e.Id3FrameDescription}}else{u={id:r,text:e.Id3FrameText}}var o=new SO(Zm(e.startTime),u,e.uid),a=s.tdt();a&&a.lI(o)}},s.ndt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],u=new VA(Zm(r.startTime),Zm(r.endTime),r.content,!1),o=null!=(e=s.idt(Mb.Pb))?e:s.idt(Mb.QE);o&&(o.Gs=AA.WEBVTT,o.lI(u))}},s.$Y=function(t){t.type===qw.Qv&&(s.QC=eA(t.errorObject)),s.Uo(t)},s.edt=function(t){t.detail&&(s.yvt.qy=t.detail.corruptedVideoFrames,s.yvt.Wy=t.detail.droppedVideoFrames,s.Ho(new oq(s.Vy)))},s.rdt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach((function(t){var n={eg:t.id};if(void 0!==t.startDate&&(n.qN=new Date(t.startDate)),void 0!==t.endDate&&(n.J2=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var u=aq(t.customAttributes[r]);void 0!==u&&(e[r]=u)}n.n3=e}void 0!==t.scte35Cmd&&(n.e3=Sh(t.scte35Cmd)),void 0!==t.scte35In&&(n.s3=Sh(t.scte35In)),void 0!==t.scte35Out&&(n.u3=Sh(t.scte35Out)),void 0!==t.startTime&&(n.kp=t.startTime),n.K2=t.class,n.Am=Zm(t.duration),n.t3=Zm(t.plannedDuration),i.push(n)})),i}(t);n.forEach((function(t){var i=null!=t.kp?t.kp:(new Date).getTime(),e=new CU(t,i);s.Jvt.lI(e),s.Jvt.gf(n,i)}))};var c=r.uid;s.tvt=s.getSdkBridge(c),s.kvt=new WW,UW()[c].sdkEventBus=s.kvt,s.Km=new rA,s.Jm=new rA;var h=s.udt(e);return s.cI=new vq(mu(s),new kO),s.uQ=new TO(mu(s)),s.SN=new uT(s.cI,h),s.pY=new Ub,s.eQ=new NO(s.cI,s.pY),s.$m=new iI([s.pY,s.SN.ET,s.eQ.ET]),s.gvt=s.getFairPlayControllerBridge(s.tvt),s._N=new uq(s.kvt,s.gvt),s.AN=new tI(h),s._N.kN=s.AN,s.observeMediaElement(),s.TN(),s.AP=new qW(s.tvt,u),s.AP.zo("fM",(function(){s.tvt.lJ("THEOplayerSetPreferredForwardBufferDuration",s.AP.aM)})),s}ze(n,t);var i=n.prototype;return i.Dy=function(){return II},i.Ry=function(){this.tvt.lJ("THEOplayerShow",{})},i.Cy=function(){this.tvt.lJ("THEOplayerHide",{})},i.sdt=function(){var t=this;this.tvt.lJ("THEOplayerSetInitialPreferredPeakBitRate",this.AP.bM);var n=function(){t.tvt.lJ("THEOplayerSetInitialPreferredPeakBitRate",0),t.Go("playing",n)};this.zo("playing",n)},i.py=function(t,n){var i=this;return _a((function(){var e,r,u;return ma(this,(function(s){switch(s.label){case 0:return i.kst=t,e=ga({},n,{sources:{src:t.src,type:Dy.Qg,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),i.tvt.lJ("THEOplayerSourceChange",e),r={Gs:fT.gI,Og:t.src,Gd:t.type,EN:i.IN(t),RN:t.crossOrigin,CN:n.metadata&&n.metadata.title},i.AN.OC(t.contentProtection),[4,i._N.wf(r)];case 1:return i.YC=s.sent(),n.textTracks&&(u=n.textTracks.filter((function(t){return t.format!==AA.WEBVTT}))).length>0&&i.NN(u),hT(i.vy),i.sdt(),[2]}}))}))()},i.IN=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Tf:Za,HN:[{initDataTypes:[Za.Ys],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.wy=function(){this.gP=!1,this.Ho(new op(this.pm)),this.tvt.lJ("THEOplayerPlay",{})},i._y=function(){this.gP=!0,this.Ho(new rp(this.pm)),this.tvt.lJ("THEOplayerPause",{})},i.Ny=function(){},i.Nf=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return t.wP=0,t.kq=!1,t.QC=void 0,t.ZC=void 0,t.gP=!0,t.mP=1,t.Mc=void 0,t.oq=TI.hP(),t.gtt=TI.hP(),t.Gvt=void 0,t.jvt=void 0,t.bq=My.im,t.AI=My.im,t.Km.Nf(),t.Jm.Nf(),t.pY.Nf(),t.$m.Nf(),[4,t.eQ.Nf()];case 1:return n.sent(),[4,t.SN.Nf()];case 2:return n.sent(),t.cI.Nf(),t.uQ.Nf(),t.kst=void 0,[4,t._N.Nf()];case 3:return n.sent(),[2]}}))}))()},i.by=function(){this.tvt.lJ("THEOplayerShowAirPlayPicker",{})},i.Ty=function(){this.tvt.lJ("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Vy.qy=t.qy,this.Vy.Wy=t.Wy},i.bv=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return[4,t.Nf()];case 1:return n.sent(),t.qo(),t.unobserveMediaElement(),t.FN(),t._N.kN=void 0,[4,t._N.Io()];case 2:return n.sent(),t.Km.bv(),t.Jm.bv(),t.pY.bv(),t.$m.bv(),[4,t.eQ.bv()];case 3:return n.sent(),[4,t.SN.bv()];case 4:return n.sent(),t.cI.bv(),t.uQ.bv(),[2]}}))}))()},i.NN=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.SN.fI(i)}},i.Rvt=function(){var t=this.AI,n=this.bq;t!==n&&(this.AI=n,this.Ho(new pp(this.pm,n)))},i.observeMediaElement=function(){this._N.zo(qw.Wv,this.Uo),this._N.zo([qw.Zv,qw.Qv],this.$Y),this.kvt.addEventListener("play",this.xvt),this.kvt.addEventListener("pause",this.Lvt),this.kvt.addEventListener("seeking",this.Vvt),this.kvt.addEventListener("seeked",this.Xvt),this.kvt.addEventListener("ratechange",this.Uvt),this.kvt.addEventListener("durationchange",this.Nvt),this.kvt.addEventListener("timeupdate",this.Wvt),this.kvt.addEventListener("waiting",this.Yvt),this.kvt.addEventListener("playing",this.Fvt),this.kvt.addEventListener("ended",this.Dvt),this.kvt.addEventListener("loadedmetadata",this.Ovt),this.kvt.addEventListener("loadeddata",this.Bvt),this.kvt.addEventListener("loadstart",this.Pvt),this.kvt.addEventListener("canplay",this.Ivt),this.kvt.addEventListener("canplaythrough",this.Cvt),this.kvt.addEventListener("error",this.$C),this.kvt.addEventListener("seekablechange",this.Hvt),this.kvt.addEventListener("videosizechange",this.qvt),this.kvt.addEventListener("bufferedchange",this.Evt),this.kvt.addEventListener("playedchange",this.Mvt),this.kvt.addEventListener("metricschange",this.edt),this.kvt.addEventListener("addDateRangeCues",this.rdt)},i.unobserveMediaElement=function(){this._N.Go(qw.Wv,this.Uo),this._N.Go([qw.Zv,qw.Qv],this.$Y),this.kvt.removeEventListener("play",this.xvt),this.kvt.removeEventListener("pause",this.Lvt),this.kvt.removeEventListener("seeking",this.Vvt),this.kvt.removeEventListener("seeked",this.Xvt),this.kvt.removeEventListener("ratechange",this.Uvt),this.kvt.removeEventListener("durationchange",this.Nvt),this.kvt.removeEventListener("timeupdate",this.Wvt),this.kvt.removeEventListener("waiting",this.Yvt),this.kvt.removeEventListener("playing",this.Fvt),this.kvt.removeEventListener("ended",this.Dvt),this.kvt.removeEventListener("loadedmetadata",this.Ovt),this.kvt.removeEventListener("loadeddata",this.Bvt),this.kvt.removeEventListener("loadstart",this.Pvt),this.kvt.removeEventListener("canplay",this.Ivt),this.kvt.removeEventListener("canplaythrough",this.Cvt),this.kvt.removeEventListener("error",this.$C),this.kvt.removeEventListener("seekablechange",this.Hvt),this.kvt.removeEventListener("videosizechange",this.qvt),this.kvt.removeEventListener("bufferedchange",this.Evt),this.kvt.removeEventListener("playedchange",this.Mvt),this.kvt.removeEventListener("metricschange",this.edt),this.kvt.removeEventListener("addDateRangeCues",this.rdt)},i.updateCurrentTime=function(t){var n=this.$y.start(0),i=this.$y.end(0);return d.min(d.max(t,n),i)},i.tdt=function(){for(var t=0,n=this.$m.z_;t<n.length;t++){var i=n[t];if(i.og===Mb.Ob&&i.Gs===AA.ID3)return i}},i.idt=function(t){for(var n=0,i=this.$m.z_;n<i.length;n++){var e=i[n],r=e.Sg===hy.Eg,u=e.og===t;if(r&&u)return e}},i.TN=function(){this.kvt.addEventListener("addaudiotrack",this.Qvt),this.kvt.addEventListener("enableaudiotrack",this.Zvt),this.kvt.addEventListener("addvideotrack",this.Kvt),this.kvt.addEventListener("addtexttrack",this.HK),this.kvt.addEventListener("addtexttrackid3cues",this.$vt),this.kvt.addEventListener("addtexttrackcues",this.ndt)},i.FN=function(){this.kvt.removeEventListener("addaudiotrack",this.Qvt),this.kvt.removeEventListener("enableaudiotrack",this.Zvt),this.kvt.removeEventListener("addvideotrack",this.Kvt),this.kvt.removeEventListener("addtexttrack",this.HK),this.kvt.removeEventListener("addtexttrackid3cues",this.$vt),this.kvt.removeEventListener("addtexttrackcues",this.ndt)},i.My=function(){},i.Fy=function(){},pe(n,[{key:"sy",get:function(){return this.Km}},{key:"Uy",get:function(){return this.gtt.zN()}},{key:"Hy",get:function(){return this.zvt?this.zvt:null},set:function(t){this.tvt.lJ("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.zvt=t}},{key:"pm",get:function(){return this.wP},set:function(t){this.setCurrentTime(t)}},{key:"Am",get:function(){return this.Mc}},{key:"Tm",get:function(){return this.kq}},{key:"ua",get:function(){return this.QC}},{key:"Sm",get:function(){return this.ZC}},{key:"ly",get:function(){}},{key:"zy",get:function(){return this._N.zy}},{key:"Vy",get:function(){return this.yvt}},{key:"Em",get:function(){return this._P},set:function(t){this._P!==t&&(this.tvt.lJ("THEOplayerSetMuted",t),this._P=t,this.Ho(new gp(this.pm,t?0:1)))}},{key:"Im",get:function(){return this.gP}},{key:"Rm",get:function(){return this.mP},set:function(t){this.tvt.lJ("THEOplayerSetPlaybackRate",t),this.mP=t}},{key:"Ky",get:function(){return this.eY.zN()}},{key:"Jy",get:function(){return wI.hD},set:function(t){}},{key:"Dg",get:function(){return this.bq}},{key:"$y",get:function(){return this.oq.zN()}},{key:"Cm",get:function(){return this.yP}},{key:"qN",get:function(){}},{key:"vy",get:function(){return this.$m}},{key:"Nm",get:function(){return this.Gvt}},{key:"Dm",get:function(){return this.jvt}},{key:"Pm",get:function(){return 1},set:function(t){}},{key:"tp",get:function(){return this.JC}},{key:"oy",get:function(){return this.Jm}},{key:"GN",get:function(){return this.KC}},{key:"np",get:function(){return!1},set:function(t){}},{key:"Zy",get:function(){return!0}}]),n}(py),lq=function(){function t(){this.jN=QE.SC}var n=t.prototype;return n.YN=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&!i.vr.nativeVR&&(i.vr.panoramaMode===gR.PM360||i.vr.panoramaMode===gR.PM180))return!1;if(zy(n.type))return!1;var e=n.contentProtection;if(e&&!nS(e)){if(!rS(e))return!1;if(!t.ect(e))return!1}return!0},n.QN=function(){return!1},t.ect=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},t}();me(),zt();var wq=function(){function t(){this.odt=i.webkit}return t.prototype.lJ=function(t,n){this.odt.messageHandlers[t]&&this.odt.messageHandlers[t].postMessage(n)},t}();me(),zt();var _q=function(t){function n(n){var i;return(i=t.call(this)||this).adt=function(t){var n=Sh(t.detail.initData),e=t.detail.sessionId;i.Ho(new QW(n,e))},i.cdt=function(t){var n=new g(Oh(t.detail.message)),e=t.detail.destinationURL;i.Ho(new ZW(n,e))},i.hdt=function(t){i.Ho(new KW)},i.forwardKeyFlowDone=function(t){i.Ho(new JW)},i.tvt=n,i.kvt=new WW,UW().fairplayController={sdkEventBus:i.kvt},i.fdt(),i}ze(n,t);var i=n.prototype;return i.fdt=function(){this.kvt.addEventListener(GW.svt,this.adt),this.kvt.addEventListener(GW.ovt,this.cdt),this.kvt.addEventListener(GW.avt,this.hdt),this.kvt.addEventListener(GW.cvt,this.forwardKeyFlowDone)},i.Pj=function(t,n){var i={playerId:XW(),data:xh(n.buffer),sessionId:t};this.tvt.lJ("THEOplayerCreateKeySession",i)},i.gf=function(t,n){var i={playerId:XW(),data:xh(n.buffer),sessionId:t};this.tvt.lJ("THEOplayerUpdateKey",i)},n}(py);me(),zt();var gq=function(t){var n=this;this.vdt=function(){n.ddt.YK()},this.ldt=function(){n.ddt.jK()},this.kvt=new WW,this.ddt=t,this.kvt.addEventListener("showTracks",this.vdt),this.kvt.addEventListener("hideTracks",this.ldt),UW().texttracks={sdkEventBus:this.kvt}},mq=function(t){function n(n,i,e,r,u,s){var o;o=t.call(this,n,i,e,r,u)||this;var a=i.gN(Tp.Ll);return o.iJ=new tx,o.iJ.NQ(n),o.eJ=new aL(o.iJ.Xy,a.DQ,o.vy,s,a.xN),o.wdt=new gq(o.eJ),i.UN(a),Oo.document.querySelector(".vjs-tech")?Oo.document.querySelector(".player-div").classList.add("theo-ios-sdk"):Oo.document.querySelector(".player-div").style.background="transparent",o}ze(n,t);var i=n.prototype;return i.Ry=function(){t.prototype.Ry.call(this),this.iJ.Ry()},i.Cy=function(){t.prototype.Cy.call(this),this.iJ.Cy()},i.Ay=function(){return!0},i.getSdkBridge=function(){return new wq},i.getFairPlayControllerBridge=function(){return yq},i.udt=function(t){return t},i.bv=function(){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return Oo.document.querySelector(".vjs-tech")?Oo.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):Oo.document.querySelector(".player-div").style.background="#000000",[4,t.prototype.bv.call(n)];case 1:return i.sent(),n.eJ.bv(),n.iJ.bv(),[2]}}))}))()},n}(dq);dI(new(function(t){function n(){return t.apply(this,arguments)}ze(n,t);var i=n.prototype;return i.gR=function(t,n,i,e,r,u){return new mq(t,n,i,e,r,u)},i.YN=function(n,i){if(n.type){var e=Qo();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.YN.call(this,n,i)},n}(lq)));var yq=new _q(new wq);me(),zt(),me(),zt(),Ae(),me(),zt(),Ae(),me(),zt();var pq,Aq,kq=function(t){function n(){return t.call(this,"_dt")}return ze(n,t),n.prototype.l_=function(){return new bq},n}(Im),bq=function(t){function n(){return t.call(this,"statechange")}return ze(n,t),n}(fh);me(),zt(),(Aq=pq||(pq={})).IDLE="idle",Aq.LOADING="loading",Aq.DONE="done",Aq.ERROR="error",Aq.EVICTED="evicted",me(),zt(),me(),zt(),Ae();var Tq=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).gdt=new py,n.Uo=function(t){n.Ho(t)},n}ze(n,t);var i=n.prototype;return i.l_=function(){return n=function(t){var n=t.mdt.map((function(t){return t.d_}));return n.item=function(n){n|=0;var i=t.F_(n);return i&&i.d_||void 0},n}(t=this),i=new VN(t,n),n.addEventListener=function(t,n){i.zo(t,n)},n.removeEventListener=function(t,n){i.Go(t,n)},n;var t,n,i},i.zo=function(t,n){this.gdt.zo(t,n)},i.Wo=function(t){this.gdt.Wo(t)},i.qo=function(){this.gdt.qo()},i.Ho=function(t){this.gdt.Ho(t)},i.Go=function(t,n){this.gdt.Go(t,n)},i.Yo=function(t){this.gdt.Yo(t)},i.Qo=function(t){this.gdt.Qo(t)},i.Zo=function(t,n){return this.gdt.Zo(t,n)},n}(function(){function t(){this.Aa=[],this.v_=void 0}var n=t.prototype;return n.F_=function(t){return this.Aa[t]},n.ep=function(t){this.Aa.push(t),this.v_&&this.v_.push(t.d_),this.ydt(t)},n.pdt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.ep(i)}},n.Adt=function(t,n){n>=0&&n<=this.Aa.length&&(this.Aa.splice(n,0,t),this.v_&&this.v_.splice(n,0,t.d_),this.ydt(t))},n.rp=function(t){return Dc(this.Aa,t)},n._f=function(t){this.kdt(this.Aa.indexOf(t))},n.kdt=function(t){if(t>=0&&t<this.Aa.length){var n=this.Aa[t];Nc(this.Aa,t),this.v_&&Nc(this.v_,t),this.bdt(n)}},n.Ra=function(){var t=this.Aa.slice();Pc(this.Aa),this.v_&&Pc(this.v_);for(var n=0;n<t.length;n++){var i=t[n];this.bdt(i)}},pe(t,[{key:"mdt",get:function(){return this.Aa}},{key:"V_",get:function(){return this.Aa.length}},{key:"d_",get:function(){return this.v_||(this.v_=this.l_()),this.v_}}]),t}());me(),zt();var Sq=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return ze(n,t),n}(fh),Eq=function(t){function n(n){var i;return(i=t.call(this,"Sdt")||this).Tdt=n,i}return ze(n,t),n.prototype.l_=function(){return new Sq(this.Tdt.d_)},n}(Im);me(),zt();var Iq,Rq,Cq=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return ze(n,t),n}(fh),Nq=function(t){function n(n){var i;return(i=t.call(this,"Edt")||this).task=n,i}return ze(n,t),n.prototype.l_=function(){return new Cq(this.task.d_)},n}(Im),Dq=function(t){function n(){return t.call(this)}ze(n,t);var i=n.prototype;return i.ydt=function(t){this.Ho(new Eq(t))},i.bdt=function(t){this.Ho(new Nq(t))},n}(Tq);(Rq=Iq||(Iq={})).UNINITIALISED="uninitialised",Rq.INITIALISED="initialised";var Pq=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Idt="uninitialised",r.fv=new Dq,r.Rdt=i,r.Cdt=e,r.Ndt=n,r.Sy(),r}ze(n,t);var i=n.prototype;return i.Sy=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return[4,t.Ddt()];case 1:return n.sent(),t.Pdt("initialised"),[2]}}))}))()},i.Ddt=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.Bdt()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}))()},i.Bdt=function(){var t=this;return _a((function(){var n,i,e,r;return ma(this,(function(u){switch(u.label){case 0:return[4,t.Ndt.Kht()];case 1:n=u.sent(),i=0,u.label=2;case 2:return i<n.length?(e=n[i],r=t.Rdt.Odt(e.id,e.sourceDescription,e.parameters,t.Cdt),t.xdt(r),t.fv.ep(r),[4,r.Ldt]):[3,5];case 3:u.sent(),u.label=4;case 4:return i++,[3,2];case 5:return[2]}}))}))()},i.Pdt=function(t){this.Idt=t,this.Ho(new kq)},i.Odt=function(t,n,i){void 0===i&&(i="persistent");var e=this.Rdt.Mdt(t,n,i);return this.Fdt(e,i),this.fv.ep(e),this.xdt(e),e},i.Fdt=function(t,n){var i=this;return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Udt(t,n)];case 1:return r.sent(),[3,3];case 2:throw e=r.sent(),h("Unable to persist task - "+e);case 3:return[2]}}))}))()},i.Udt=function(t,n){var i=this;return _a((function(){return ma(this,(function(e){switch(e.label){case 0:return[4,i.Ndt.Yht({key:t.eg,id:t.eg,sourceDescription:t.sD,parameters:t.xf},n)];case 1:return e.sent(),[2]}}))}))()},i.xdt=function(t){var n=this;t.zo("_dt",(function(){t.cl===pq.EVICTED&&n.fv._f(t)}))},pe(n,[{key:"cl",get:function(){return this.Idt}},{key:"Hdt",get:function(){return this.fv}}]),n}(oh);function Bq(t,n){return function(t,n){var i=t.Qp&&n.Qp,e=t.zT&&n.zT;return i||e?i&&e?t.Qp*t.zT-n.Qp*n.zT:i?t.Qp-n.Qp:e?t.zT-n.zT:(t.Qp||1)*(t.zT||1)-(n.Qp||1)*(n.zT||1):0}(t,n)||function(t,n){return t.NC-n.NC}(t,n)}me(),zt(),me(),zt(),Ae(),Oe(),me(),zt(),me(),zt(),me(),zt();var Oq=function(t){function n(){return t.call(this,"progress")}return ze(n,t),n}(fh),xq=function(t){function n(){return t.call(this,"Xdt")}return ze(n,t),n.prototype.l_=function(){return new Oq},n}(Im);me(),zt(),Ae();var Lq=function(){function t(t,n,i){if(this.zdt=t,this.ip=n,this.Vdt=i,0===this.ip.size)this.Wdt=TI.hP();else{var e=new TI([-1/0,1/0]);this.ip.forEach((function(t){e=e.UD(t.timeRanges)})),this.Wdt=e}}return t.prototype.Hp=function(t){return!!qm(this.ip,t.ip)&&(!!uu(this.zdt,t.zdt)&&(!!uu(this.uP,t.uP)&&(!!uu(this.qdt,t.qdt)&&this.Gdt.$D(t.Gdt))))},pe(t,[{key:"uP",get:function(){return this.Vdt}},{key:"jdt",get:function(){return this.zdt}},{key:"qdt",get:function(){return this.Gdt.uP}},{key:"Ydt",get:function(){var t=0,n=0;return this.ip.forEach((function(i){t+=i.timeRanges.uP,n+=i.totalQualityDurationToCache})),0===n?0:d.min(1,t/n)}},{key:"Gdt",get:function(){return this.Wdt}}]),t}();Lq.QUALITY_TIME_RANGES_NULL_OBJECT=Aa(),Lq.CACHE_PROGRESSION_NULL_OBJECT=new Lq(0,Lq.QUALITY_TIME_RANGES_NULL_OBJECT,NaN),Lq.Qdt=Lq.CACHE_PROGRESSION_NULL_OBJECT,me(),zt(),me(),zt(),Ae();var Mq,Fq,Uq=function(t){function n(n,i){return t.call(this,n,i)}return ze(n,t),pe(n,[{key:"name",get:function(){return"Zdt"}}]),n}(pu);function Hq(t,n,i){return Xq.apply(this,arguments)}function Xq(){return(Xq=_a((function(t,n,i){var e,r,u,s,o;return ma(this,(function(a){switch(a.label){case 0:for(e=[],r=0,u=t.Kdt;r<u.length;r++)s=u[r],e.push(zq(s,n,i));return[4,j.all(e)];case 1:return o=a.sent(),[2,{Am:t.$dt.Jdt(),tlt:[t.nlt],Kdt:o}]}}))}))).apply(this,arguments)}function zq(t,n,i){return Vq.apply(this,arguments)}function Vq(){return(Vq=_a((function(t,n,i){var e,r,u,s;return ma(this,(function(o){switch(o.label){case 0:for(e=[],r=0,u=t.ilt;r<u.length;r++)s=u[r],e.push(Wq(s,n,i));return[4,j.all(e)];case 1:return[2,{elt:o.sent()}]}}))}))).apply(this,arguments)}function Wq(t,n,i){return qq.apply(this,arguments)}function qq(){return(qq=_a((function(t,n,i){var e,r,u,s;return ma(this,(function(o){switch(o.label){case 0:for(e=[],r=0,u=t.rlt;r<u.length;r++)Gq(s=u[r])||e.push(Zq(s,n,i));return[4,j.all(e)];case 1:return[2,{ET:o.sent(),Gs:t.Gs}]}}))}))).apply(this,arguments)}function Gq(t){return t.w3.every(Qq)}me(),zt(),me(),zt(),me(),zt(),(Fq=Mq||(Mq={}))[Fq.Yg=0]="Yg",Fq[Fq.Qg=1]="Qg";var jq,Yq;function Qq(t){return 1!==t.ult&&Boolean(t.ult)}function Zq(t,n,i){return Kq.apply(this,arguments)}function Kq(){return(Kq=_a((function(t,n,i){var e,r,u,s,o,a,c,h,f;return ma(this,(function(v){switch(v.label){case 0:for(e=[],r=0,u=t.w3;r<u.length;r++)Qq(s=u[r])||e.push($q(s,i));return[4,j.all(e)];case 1:return o=v.sent(),a=t.h0[0],c=t.l3,h=c?Jq(a,c):void 0,f=xF(t,n),[2,{fg:o,hg:t.ast,Gs:t.Gs,EN:h,slt:f}]}}))}))).apply(this,arguments)}function Jq(t,n){for(var i=[],e=function(t){return t?ic(t,"avc")?Ml:ic(t,"hev")||ic(t,"hvc")||ic(t,"hvt")||ic(t,"lhv")||ic(t,"lhe")||ic(t,"lht")?Fl:ic(t,"mp4")?Ul:ic(t,"mpeg2")?Xl:ic(t,"mpeg")?Hl:Vl:Vl}(t),r=0;r<n.length;r++){var u=n[r],s=u.o3.split(":").pop(),o=u.a3;i.push({mimeType:e,uuid:s,data:o})}var a=Mq.Yg;return{type:a,schemeType:"cenc",schemeDatas:i}}function $q(t,n){return tG.apply(this,arguments)}function tG(){return(tG=_a((function(t,n){var i,e,r,u;return ma(this,(function(s){switch(s.label){case 0:return[4,nG(t,n)];case 1:switch(i=s.sent(),e={eg:rG(t),HE:i,NC:t.NC,Gu:t.Gu,zT:t.zT,Gs:t.Gs,Qp:t.Qp},t.Gs){case Tp.dr:break;case Tp.Ll:e.v0=null!=(u=null==(r=t.v0)?void 0:r.Kp())?u:NaN;break;case Tp.xl:e.audioSamplingRate=t.l0;break;default:0}return[2,e]}}))}))).apply(this,arguments)}function nG(t,n){return iG.apply(this,arguments)}function iG(){return(iG=_a((function(t,n){var i,e,r,u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:i=[],e=t.olt,t.clt&&i.push({kp:0,Am:0,hlt:t.clt}),r=e.flt(),u=r,c.label=1;case 1:return u?t.vlt(u)?[4,t.dlt(u,n,(new Wc).Lo)]:[3,3]:[3,5];case 2:for(s=c.sent(),o=0;o<s.V_;o++)i.push(eG(s.llt(o),t));return[3,4];case 3:i.push(eG(u,t)),c.label=4;case 4:return u=e.wlt(u),[3,1];case 5:return a=e._lt(),[2,{Am:a.bp-r.kp,Y2:i}]}}))}))).apply(this,arguments)}function eG(t,n){return{kp:t.kp,Am:t.Am,hlt:n.glt(t)}}function rG(t){return t.ylt.SD+"-"+(""+t.eg)}function uG(t,n){return function(t,n){var i=ka();return t.forEach((function(t,e){var r=Aa();t.forEach((function(t,i){for(var u=[],s=0;s<t.length;s++){var o=sG(t[s],e,n);u.push(o)}r.set(i,u)})),i.set(e,r)})),i}(function(t){var n=function(t){for(var n=Aa(),i=0;i<t.length;i++){var e=t[i],r=n.get(e.x0);r||(r={Gs:e.Gs,xT:[]},n.set(e.x0,r)),r.xT.push(e)}return n}(t),i=ka();return n.forEach((function(t){for(var n=0,e=t.xT;n<e.length;n++){var r=e[n],u=i.get(t.Gs);u||(u=Aa(),i.set(t.Gs,u));var s=u.get(r.Sr);s||(s=[],u.set(r.Sr,s)),s.push(r)}})),i}(t),n)}function sG(t,n,i){for(var e=t.x0,r={i1:t,F1:[]},u=0;u<i.length;u++){var s=i[u];QU(n,e,s)&&r.F1.push(s)}return r}function oG(t,n){return aG.apply(this,arguments)}function aG(){return(aG=_a((function(t,n){var i;return ma(this,(function(e){switch(e.label){case 0:return[4,n.plt([t],{})];case 1:return[2,pU((i=e.sent()).wl,{},i.Alt)]}}))}))).apply(this,arguments)}function cG(t,n){return hG.apply(this,arguments)}function hG(){return(hG=_a((function(t,n){return ma(this,(function(i){return TF(t)?[2,fG(t,n)]:[2,IG(t)]}))}))).apply(this,arguments)}function fG(t,n){return vG.apply(this,arguments)}function vG(){return(vG=_a((function(t,n){var i,e;return ma(this,(function(r){switch(r.label){case 0:return[4,gG(uG(t.xT,t.s4),n)];case 1:return i=r.sent(),[4,lG(t.s4,n)];case 2:return e=r.sent(),i.push(e),[2,{Am:dG(i),tlt:[t.F0],Kdt:[{elt:i}]}]}}))}))).apply(this,arguments)}function dG(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].ET;e<r.length;e++){var u,s=r[e];n=(u=d).max.apply(u,[n].concat(Ce(s.fg.map((function(t){return t.HE.Am})))))}return n}function lG(t,n){return wG.apply(this,arguments)}function wG(){return(wG=_a((function(t,n){var i,e,r,u,s,o,a,c;return ma(this,(function(h){switch(h.label){case 0:i=[],e=0,h.label=1;case 1:return e<t.length?[4,SG((r=t[e]).F0,n)]:[3,4];case 2:(o=h.sent()).NC=r.NC,o.Gu=r.h0?_G(r.h0):"",o.zT=null!=(a=null==(u=r.T1)?void 0:u.zT)?a:0,o.Qp=null!=(c=null==(s=r.T1)?void 0:s.Qp)?c:0,i.push(o),h.label=3;case 3:return e++,[3,1];case 4:return[2,{Gs:Tp.Al,ET:[{hg:EX,Gs:Tp.Al,fg:i}]}]}}))}))).apply(this,arguments)}function _G(t){return[t.g1,t.b1,t.X2].filter(er).join(",")}function gG(t,n){return mG.apply(this,arguments)}function mG(){return(mG=_a((function(t,n){var i,e,r,u,s,o;return ma(this,(function(a){switch(a.label){case 0:i=[],e=t.entries(),r=e.next(),a.label=1;case 1:return r.done?[3,4]:(u=ya(r.value,2),s=u[0],[4,yG(u[1],s,n)]);case 2:o=a.sent(),i.push(o),a.label=3;case 3:return r=e.next(),[3,1];case 4:return[2,i]}}))}))).apply(this,arguments)}function yG(t,n,i){return pG.apply(this,arguments)}function pG(){return(pG=_a((function(t,n,i){var e,r,u,s,o;return ma(this,(function(a){switch(a.label){case 0:e=[],r=t.entries(),u=r.next(),a.label=1;case 1:return u.done?[3,4]:(s=ya(u.value,2),[4,AG(s[1],i)]);case 2:o=a.sent(),e.push(o),a.label=3;case 3:return u=r.next(),[3,1];case 4:return[2,{Gs:bG(n),ET:e}]}}))}))).apply(this,arguments)}function AG(t,n){return kG.apply(this,arguments)}function kG(){return(kG=_a((function(t,n){var i,e,r,u;return ma(this,(function(s){switch(s.label){case 0:i=[],e=t[0].i1,r=0,s.label=1;case 1:return r<t.length?[4,TG(t[r],n)]:[3,4];case 2:u=s.sent(),i.push(u),s.label=3;case 3:return r++,[3,1];case 4:return[2,{hg:e.hg||EX,Gs:bG(e.Gs),fg:i}]}}))}))).apply(this,arguments)}function bG(t){switch(t){case dF.xl:return Tp.xl;case dF.Ll:return Tp.Ll;case dF.Pb:case dF.m3:return Tp.dr;default:return Tp.Al}}function TG(t,n){var i,e,r;return SG((e=(i=t).i1.F0,r=i.F1.map((function(t){return t.F0})),e||(r.length?r[0]:void 0)),n)}function SG(t,n){return EG.apply(this,arguments)}function EG(){return(EG=_a((function(t,n){var i,e;return ma(this,(function(r){switch(r.label){case 0:return i={Am:0,Y2:[]},t?[4,oG(t,n)]:[3,2];case 1:SF(e=r.sent())&&(i=RG(e)),r.label=2;case 2:return[2,{eg:t||"default",klt:t,HE:i,NC:0,Gu:"",zT:0,Gs:Tp.Al,Qp:0}]}}))}))).apply(this,arguments)}function IG(t){var n=RG(t);return{Am:n.Am,tlt:[t.F0],Kdt:[{elt:[{Gs:Tp.Al,ET:[{Gs:Tp.Al,hg:EX,fg:[{eg:t.F0,HE:n,NC:0,Gu:"",zT:0,Gs:Tp.Al,Qp:0}]}]}]}]}}function RG(t){for(var n,i=[],e=0,r=0,u=t.Y2;r<u.length;r++){var s=u[r],o=e;!s.h4||void 0!==n&&RF(s.h4.F0,n)||(i.push(CG(s.h4,o)),n=s.h4.F0),i.push(NG(s,o)),e+=s.Am}return{Am:e,Y2:i}}function CG(t,n){return{kp:n,Am:0,hlt:DG(t.F0)}}function NG(t,n){return{kp:n,Am:t.Am,hlt:DG(t.F0)}}function DG(t){return{_l:t.Rr,yot:t.Q2?[t.Q2.SD,t.Q2.SD+t.Q2.V_]:void 0,Vl:!1}}me(),zt(),Oe(),me(),zt(),me(),zt(),Ae(),me(),zt(),(Yq=jq||(jq={})).gI="static",Yq.mI="dynamic",me(),zt(),me(),zt(),Ae();var PG,BG,OG=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,xG=function(){function t(t){this.blt=t}var n=t.prototype;return n.Jdt=function(){return this.blt},n.Tlt=function(){return 1e3*this.blt},t.fT=function(n){var i=n.match(OG);if(!i)throw new h("The given value could not be parsed as a valid DateTimeInterval");return new t(31536e3*(Number(i[1])||0)+2592e3*(Number(i[2])||0)+86400*(Number(i[3])||0)+3600*(Number(i[4])||0)+60*(Number(i[5])||0)+(Number(i[6])||0))},pe(t,[{key:"cit",get:function(){return ak.wk(this.blt,1e3)}}]),t}();me(),zt(),(BG=PG||(PG={})).Slt="progressive",BG.Elt="interlaced",BG.Al="unknown",me(),zt();var LG=function(){function t(t,n){this.Ilt=t,this.Rlt=n}return t.prototype.Kp=function(){return this.Ilt/this.Rlt},t}(),MG=/^(?:true|false)$/i,FG=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function UG(t){if(void 0!==t)return xG.fT(t)}function HG(t){if(void 0!==t){var n=t.match(FG);if(!n)throw new h("The given value could not be parsed as a valid Date");var i=ya(n,12),e=i[1],r=i[2],u=i[3],s=i[4],o=i[5],a=i[6],c=i[7],f=i[8],v=i[9],l=i[10],w=i[11],g=("-"===e?-1:1)*Number(r),m=Number(u)-1,y=Number(s),p=Number(o),A=Number(a),k=Number(c),b=Number("0."+(f||"")),T=d.round(1e3*b);if(v)A-=("-"===v?-1:1)*(60*Number(l)+Number(w));var S=new Date(Date.UTC(g,m,y,p,A,k,T));if(_(S.getTime()))throw new h("The given value could not be parsed as a valid Date");return S}}function XG(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[VG(n[1]),VG(n[2])]}}function zG(t){if(void 0!==t){if(!_(Number(t)))try{return Jr.fromString(t,!0)}catch(t){}throw new h("The given value could not be parsed as a valid unsigned long")}}function VG(t){if(void 0!==t){var n=Number(t);if(!_(n))return n;throw new h("The given value could not be parsed as a valid Number")}}function WG(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!_(i)&&!_(e))return new LG(i,e);throw new h("The given value could not be parsed as a valid frame rate")}}function qG(t){if(void 0!==t){if(MG.test(t))return"true"===t.toLowerCase();if(!_(l(t)))return Boolean(l(t));throw new h("The given value could not be parsed as a valid Boolean.")}}function GG(t){return{_l:t.Gr,Clt:qG(t.Ur("availabilityTimeComplete")),Nlt:VG(t.Ur("availabilityTimeOffset"))}}function jG(t){return t.map(GG)}function YG(t){var n,i,e,r,u,s,o=uj(t),a=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(u=(n=t).Hr(e,i))&&(u=n.Ur(r+":"+i)),u),c=mb(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==c&&(s=Oh(c.Gr)),!s){var h=mb(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==h&&(s=function(t){var n=Sh(t.Gr),i=new g([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,u=new ArrayBuffer(r),s=new g(u),o=new DataView(u),a=new xf;uf(o,a,r),uf(o,a,1886614376),uf(o,a,0),Jh(o,a,i),uf(o,a,e),Jh(o,a,n),!1;return s.buffer}(h))}return{UI:a,a3:s,o3:o.o3,Rr:o.Rr}}function QG(t){return{Dlt:t.Ur("sourceURL"),yot:XG(t.Ur("range"))}}function ZG(t,n){var i=t.Ur("d"),e=t.Ur("t"),r=VG(t.Ur("r"));n.push({Am:i,kp:e,Plt:r})}function KG(t){return{Blt:t.Ur("index"),Olt:XG(t.Ur("indexRange")),xT:t.Ur("media"),xlt:XG(t.Ur("mediaRange"))}}function JG(t){var n,i;return ga({},nj(t),{Llt:(n=t.Dr("SegmentURL"),(i=n.map(KG)).length>0?i:void 0),Mlt:t.Ur("xlink:href"),Flt:t.Ur("xlink:actuate")})}function $G(t){var n=t.map(JG);return n.length>0?n:void 0}function tj(t){var n=qG(t.Ur("availabilityTimeComplete")),i=VG(t.Ur("availabilityTimeOffset")),e=XG(t.Ur("indexRange")),r=qG(t.Ur("indexRangeExact")),u=t.Dr("Initialization");if(u.length>1)throw new h("The provided MPEG-DASH document's "+t.Br+" element can not have more than one Initialization element.");var s=1===u.length?QG(u[0]):void 0,o=zG(t.Ur("presentationTimeOffset")),a=t.Dr("RepresentationIndex");if(a.length>1)throw new h("The provided MPEG-DASH document's "+t.Br+" element can not have more than one RepresentationIndex element.");return{Clt:n,Nlt:i,Olt:e,Ult:r,Hlt:s,Xlt:o,zlt:1===a.length?QG(a[0]):void 0,Vlt:UG(t.Ur("timeShiftBufferDepth")),VA:VG(t.Ur("timescale"))}}function nj(t){var n=tj(t),i=t.Dr("BitstreamSwitching"),e=i.length>0?QG(i[0]):void 0,r=VG(t.Ur("duration")),u=t.Dr("SegmentTimeline");if(u.length>1)throw new h("The provided MPEG-DASH document's "+t.Br+" element can not have more than one SegmentTimeline element.");return ga({},n,{Wlt:e,Am:r,olt:1===u.length?function(t){for(var n=[],i=t.Dr("S"),e=0;e<i.length;e++)ZG(i[e],n);return n}(u[0]):void 0,qlt:VG(t.Ur("startNumber")),Glt:VG(t.Ur("endNumber"))})}function ij(t){return ga({},nj(t),{jlt:t.Ur("bitstreamSwitching"),Ylt:t.Ur("index"),Qlt:t.Ur("initialization"),Zlt:t.Ur("media")})}function ej(t){return{l0:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(VG)):1===n.length?n.map(VG)[0]:void 0}}(t.Ur("audioSamplingRate")),h0:t.Ur("codecs"),Klt:qG(t.Ur("codingDependency")),l3:function(t){if(0!==t.length)return t.map(YG)}(t.Dr("ContentProtection")),Jlt:t.Dr("EssentialProperty").map(sj),v0:WG(t.Ur("frameRate")),zT:VG(t.Ur("height")),ult:VG(t.Ur("maxPlayoutRate")),$lt:VG(t.Ur("maximumSAPPeriod")),ZO:t.Ur("mimeType"),twt:t.Ur("profiles"),nwt:t.Ur("sar"),iwt:function(t){switch(t){case PG.Slt:case PG.Elt:case PG.Al:return t;default:return}}(t.Ur("scanType")),ewt:t.Ur("segmentProfiles"),rwt:VG(t.Ur("startWithSAP")),Qp:VG(t.Ur("width"))}}function rj(t){var n=ej(t),i=VG(t.Ur("bandwidth")),e=jG(t.Dr("BaseURL")),r=t.Ur("dependencyId"),u=t.Ur("id"),s=t.Ur("mediaStreamStructureId"),o=VG(t.Ur("qualityRanking")),a=t.Dr("SegmentBase");if(a.length>1)throw new h("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var c=1===a.length?tj(a[0]):void 0,f=$G(t.Dr("SegmentList")),v=t.Dr("SegmentTemplate");if(v.length>1)throw new h("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return ga({},n,{NC:i,uwt:e,swt:r,eg:u,owt:s,awt:o,cwt:c,hwt:f,fwt:1===v.length?ij(v[0]):void 0})}function uj(t){return{o3:t.Ur("schemeIdUri"),Rr:t.Ur("value")}}function sj(t){return uj(t)}function oj(t){return uj(t)}function aj(t){return uj(t)}function cj(t){var n,i=ej(t),e=function(t){return t.map(aj)}(t.Dr("Accessibility")),r=jG(t.Dr("BaseURL")),u=qG(t.Ur("bitstreamSwitching")),s=t.Ur("contentType"),o=VG(t.Ur("group")),a=VG(t.Ur("id")),c=(null==(n=t.Dr("Label")[0])?void 0:n.Gr)||"",f=t.Ur("lang"),v=VG(t.Ur("maxBandwidth")),d=WG(t.Ur("maxFrameRate")),l=VG(t.Ur("maxHeight")),w=VG(t.Ur("maxWidth")),_=VG(t.Ur("minBandwidth")),g=WG(t.Ur("minFrameRate")),m=VG(t.Ur("minHeight")),y=VG(t.Ur("minWidth")),p=t.Ur("par"),A=t.Dr("Representation").map(rj);if(0===A.length)throw new h("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k=function(t){return t.map(oj)}(t.Dr("Role")),b=qG(t.Ur("segmentAlignment"))||!1,T=t.Dr("SegmentBase");if(T.length>1)throw new h("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?tj(T[0]):void 0,E=$G(t.Dr("SegmentList")),I=t.Dr("SegmentTemplate");if(I.length>1)throw new h("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var R,C=1===I.length?ij(I[0]):void 0,N=VG(t.Ur("selectionPriority")),D=N||1,P=qG(t.Ur("subsegmentAlignment"))||!1;try{R=VG(t.Ur("subsegmentStartsWithSAP"))}catch(t){}return ga({},i,{vwt:e,uwt:r,Wlt:u,Gd:s,dwt:o,eg:a,ag:c,hg:f,lwt:v,wwt:d,_wt:l,gwt:w,mwt:_,ywt:g,pwt:m,Awt:y,kwt:p,w3:A,bwt:k,Twt:b,cwt:S,hwt:E,fwt:C,jN:D,Swt:P,Ewt:R,Iwt:t.Ur("xlink:actuate")||"onRequest",Rwt:t.Ur("xlink:href")})}function hj(t){var n=zG(t.Ur("presentationTime"))||Jr.ZERO,i=zG(t.Ur("duration")),e=VG(t.Ur("id")),r=function(t){for(var n=t.qr,i={},e=0;e<n.length;e++)i[n[e].Sr]=n[e].Rr;return i}(t),u=t.Gr;return{kE:n,Am:i,eg:e,qr:r,jr:""!==u.trim()?u:t.Ur("messageData")||""}}function fj(t){return{Rwt:t.Ur("xlink:href"),Iwt:t.Ur("xlink:actuate"),o3:t.Ur("schemeIdUri"),Rr:t.Ur("value"),VA:VG(t.Ur("timescale")),Xlt:zG(t.Ur("presentationTimeOffset")),KO:t.Dr("Event").map(hj)}}function vj(t){var n=t.Dr("AssetIdentifier");if(n.length>1)throw new h("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var i=1===n.length?uj(n[0]):void 0,e=t.Dr("AdaptationSet").map(cj),r=jG(t.Dr("BaseURL")),u=qG(t.Ur("bitstreamSwitching")),s=UG(t.Ur("duration")),o=t.Dr("EventStream").map(fj),a=t.Ur("id"),c=t.Dr("SegmentBase");if(c.length>1)throw new h("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var f=1===c.length?tj(c[0]):void 0,v=$G(t.Dr("SegmentBase")),d=t.Dr("SegmentTemplate");if(d.length>1)throw new h("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var l=1===d.length?ij(d[0]):void 0,w=UG(t.Ur("start")),_=(t.Dr("Subset"),t.Ur("xlink:href"));return{rlt:e,Cwt:i,uwt:r,Wlt:u,Am:s,Nwt:o,eg:a,cwt:f,hwt:v,fwt:l,SD:w,Iwt:t.Ur("xlink:actuate"),Rwt:_}}function dj(t){var n=t.Ur("schemeIdUri");if(n)return{o3:n,Rr:t.Ur("value")}}function lj(t,n){var i=HG(t.Ur("availabilityEndTime")),e=HG(t.Ur("availabilityStartTime")),r=jG(t.Dr("BaseURL")),u=t.Ur("id"),s=t.Dr("Location").map((function(t){return""+t.Gr})),o=UG(t.Ur("maxSegmentDuration")),a=UG(t.Ur("maxSubsegmentDuration")),c=UG(t.Ur("mediaPresentationDuration")),f=(t.Dr("Metrics"),UG(t.Ur("minBufferTime")));if(!f)throw new h("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var v=UG(t.Ur("minimumUpdatePeriod")),d=t.Dr("Period").map((function(t){return vj(t)}));if(!d.length)throw new h("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.Ur("profiles");if(!l)throw new h("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{Dwt:i,Pwt:e,uwt:r,eg:u,Bwt:s,Owt:n,xwt:o,Lwt:a,$dt:c,Mwt:f,Fwt:v,Kdt:d,twt:l,Uwt:HG(t.Ur("publishTime")),Hwt:UG(t.Ur("suggestedPresentationDelay")),Vlt:UG(t.Ur("timeShiftBufferDepth")),Gs:function(t){switch(t){case jq.gI:case jq.mI:return t;default:return}}(t.Ur("type")),Xwt:function(t){for(var n=[],i=0;i<t.length;i++){var e=dj(t[i]);e&&n.push(e)}return n}(t.Dr("UTCTiming"))}}var wj=function(){function t(){}return t.prototype.Xft=function(t,n){return function(t,n){if(!t)throw new h("The provided MPEG-DASH document does not contain a valid MPD root element.");return lj(t,n)}(De.gr(t).Yr,n)},t}();me(),zt(),Ae(),me(),zt(),Ae(),Oe(),me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),Ae();var _j=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).eg=n,s.NC=i,s.h0=e,s.F0=u,s.rg=vA(),s.cp=r||"",s.zwt=!0,s}return ze(n,t),n.prototype.uI=function(){this.zwt=!1,this.Ho(new OM(this.d_))},pe(n,[{key:"ag",get:function(){return this.cp},set:function(t){this.cp!==t&&(this.cp=t,this.Ho(new OM(this.d_)))}},{key:"f0",get:function(){}},{key:"s$",get:function(){return this.zwt}}]),n}(oh),gj=function(t){function n(n,i,e,r,u,s,o,a,c){var h;return void 0===c&&(c=0),(h=t.call(this,n,i,e,r,u)||this).v0=s,h.Qp=o,h.zT=a,h.d0=c,h.v_=void 0,h}return ze(n,t),pe(n,[{key:"d_",get:function(){return this.v_||(this.v_=wM(this)),this.v_}}]),n}(_j),mj=function(t){function n(n,i,e,r,u,s){var o;return(o=t.call(this,n,i,e,r,u)||this).l0=s,o.v_=void 0,o}return ze(n,t),pe(n,[{key:"d_",get:function(){return this.v_||(this.v_=_M(this)),this.v_}}]),n}(_j);me(),zt(),me(),zt(),Ae();var yj,pj,Aj=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Vwt=function(t){n.Ho(t)},n}return ze(n,t),pe(n,[{key:"Wwt",get:function(){var t=this.qwt();return null==t?void 0:t.SD}},{key:"Gwt",get:function(){var t=this.qwt();return null==t?void 0:t.RD}}]),n}(oh);function kj(t){return dr(t.jwt)}me(),zt(),me(),zt(),(pj=yj||(yj={})).Ywt="Qwt",pj.Zwt="Kwt";var bj=function(t){function n(n,i){var e;if((e=t.call(this)||this).v_=void 0,e.Jwt=void 0,e.$wt=!1,e.t_t=n,e.i8=i,e.i8.zo(yj.Ywt,e.Vwt),e.Gs===Tp.Ll){var r,u,s=null!=(u=null==(r=e.v0)?void 0:r.Kp())?u:NaN;e.n_t=new gj(e.eg,e.NC,e.Gu,"","",s,e.Qp,e.zT)}else e.Gs===Tp.xl?e.n_t=new mj(e.eg,e.NC,e.Gu,"","",e.l0):e.n_t=void 0;return e}ze(n,t);var i=n.prototype;return i.glt=function(t){var n=kj(t)?this.i8.i_t(t):this.i8.glt(t);return{_l:n._l,yot:n.yot,Vl:this.e_t.Vl}},i.r_t=function(){return this.i8.r_t()},i.qwt=function(){return this.i8.qwt()},i.u_t=function(){return this.i8.u_t()},i.vlt=function(t){return this.i8.vlt(t)},i.dlt=function(t,n,i){return this.i8.dlt(t,this.e_t.Vl,n,i)},i.s_t=function(t){return kj(t)?this.olt.o_t(t,this.i8):this.olt.s_t(t)},i.a_t=function(t){return kj(t)?this.olt.c_t(t,this.i8):this.olt.a_t(t)},i.bv=function(){this.i8.Go(yj.Ywt,this.Vwt)},pe(n,[{key:"h_t",get:function(){return this.t_t}},{key:"l0",get:function(){var t;return null!=(t=this.i8.jr.l0)?t:this.h_t.l0}},{key:"NC",get:function(){return this.i8.jr.NC||0}},{key:"h0",get:function(){var t=this.i8.jr;return t.h0?[t.h0]:this.h_t.h0}},{key:"f_t",get:function(){var t=this.i8.jr;return t.h0?[t.h0]:[]}},{key:"Gu",get:function(){return this.i8.jr.h0||this.h_t.Gu}},{key:"Klt",get:function(){return this.i8.jr.Klt||this.h_t.Klt}},{key:"l3",get:function(){return this.i8.jr.l3||this.h_t.l3}},{key:"Gd",get:function(){return this.ZO+'; codecs="'+this.Gu+'"'}},{key:"Jlt",get:function(){var t=this.i8.jr;return t.Jlt.length?t.Jlt:this.h_t.Jlt}},{key:"d_",get:function(){return this.v_||(this.v_=(t=this,{get id(){return t.eg},get type(){return t.Gs},get bandwidth(){return t.NC},get width(){return t.Qp},get height(){return t.zT},get frameRate(){var n,i;return null!=(i=null==(n=t.v0)?void 0:n.Kp())?i:NaN},get audioSamplingRate(){return t.l0}}));var t}},{key:"v0",get:function(){var t;return null!=(t=this.i8.jr.v0)?t:this.h_t.v0}},{key:"zT",get:function(){return this.i8.jr.zT||this.h_t.zT}},{key:"eg",get:function(){return this.i8.jr.eg||""}},{key:"v_t",get:function(){return this.Jwt},set:function(t){this.Jwt=t}},{key:"clt",get:function(){var t=this.i8.d_t();if(t)return{_l:t._l,yot:t.yot,Vl:this.e_t.Vl}}},{key:"ult",get:function(){return this.i8.jr.ult||this.h_t.ult||1}},{key:"$lt",get:function(){return this.i8.jr.$lt||this.h_t.$lt}},{key:"e_t",get:function(){return this.ylt.e_t}},{key:"ZO",get:function(){return this.i8.jr.ZO||this.h_t.ZO}},{key:"ylt",get:function(){return this.h_t.ylt}},{key:"twt",get:function(){return this.i8.jr.twt||this.h_t.twt}},{key:"G0",get:function(){return this.n_t}},{key:"nwt",get:function(){return this.i8.jr.nwt||this.h_t.nwt}},{key:"iwt",get:function(){return this.i8.jr.iwt||this.h_t.iwt}},{key:"l_t",get:function(){return this.i8.l_t}},{key:"ewt",get:function(){return this.i8.jr.ewt||this.h_t.ewt}},{key:"olt",get:function(){return this.i8.olt}},{key:"rwt",get:function(){return this.i8.jr.rwt||this.h_t.rwt}},{key:"Gs",get:function(){var t=this.ZO.split("/")[0];return"application"===t||"text"===t||Zb(this.ZO,this.h0)?Tp.dr:"video"===t?Tp.Ll:"audio"===t?Tp.xl:"image"===t?Tp.Ml:Tp.Al}},{key:"Qp",get:function(){return this.i8.jr.Qp||this.h_t.Qp}},{key:"w_t",get:function(){return this.$wt},set:function(t){this.$wt=t}}]),n}(Aj),Tj=function(t){function n(n,i){var e;return(e=t.call(this)||this).__t=[],e.g_t=[],e.m_t=n,e.i8=i,e.i8.zo(yj.Ywt,e.Vwt),e}ze(n,t);var i=n.prototype;return i.gf=function(t,n){var i=this;return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:return 0!==i.g_t.length?[3,2]:(i.g_t=[],e=i.i8.w3.map((function(e){return i.y_t(e,t,n)})),[4,j.all(e)]);case 1:i.g_t=r.sent().filter(er),r.label=2;case 2:return i.p_t(),[2]}}))}))()},i.y_t=function(t,n,i){var e=this;return _a((function(){var r,u;return ma(this,(function(s){switch(s.label){case 0:return r=new bj(e,t),[4,n(r)];case 1:return u=s.sent(),jc(i),u?[2,r]:[2,void 0]}}))}))()},i.p_t=function(){if(!this.g_t.length)throw new h("Detected an AdaptationSet without any supported Representations.")},i.qwt=function(){return this.i8.qwt()},i.u_t=function(){return this.i8.u_t()},i.bv=function(){this.i8.Go(yj.Ywt,this.Vwt);for(var t=0,n=this.g_t;t<n.length;t++){n[t].bv()}Pc(this.g_t)},pe(n,[{key:"vwt",get:function(){return this.i8.jr.vwt}},{key:"l0",get:function(){var t;return null!=(t=this.i8.jr.l0)?t:-1}},{key:"h0",get:function(){if(this.i8.jr.h0)return[this.i8.jr.h0];for(var t=[],n=0,i=this.w3;n<i.length;n++){var e=i[n];e.f_t.length&&-1===t.indexOf(e.Gu)&&t.push(e.Gu)}return t}},{key:"Gu",get:function(){return this.h0.join()}},{key:"Klt",get:function(){return this.i8.jr.Klt}},{key:"l3",get:function(){return this.i8.jr.l3}},{key:"Gd",get:function(){return this.ZO+'; codecs="'+this.Gu+'"'}},{key:"Jlt",get:function(){return this.__t}},{key:"v0",get:function(){return this.i8.jr.v0}},{key:"dwt",get:function(){return this.i8.jr.dwt}},{key:"zT",get:function(){return this.i8.jr.zT||0}},{key:"eg",get:function(){return this.i8.jr.eg}},{key:"ag",get:function(){return this.i8.jr.ag||""}},{key:"ult",get:function(){return this.i8.jr.ult}},{key:"$lt",get:function(){return this.i8.jr.$lt}},{key:"e_t",get:function(){return this.ylt.e_t}},{key:"ZO",get:function(){return this.i8.jr.ZO||this.g_t[0].ZO}},{key:"ylt",get:function(){return this.m_t}},{key:"twt",get:function(){return this.i8.jr.twt}},{key:"w3",get:function(){return this.g_t}},{key:"bwt",get:function(){return this.i8.jr.bwt||[]}},{key:"nwt",get:function(){return this.i8.jr.nwt}},{key:"iwt",get:function(){return this.i8.jr.iwt}},{key:"ewt",get:function(){return this.i8.jr.ewt}},{key:"jN",get:function(){return this.i8.jr.jN}},{key:"rwt",get:function(){return this.i8.jr.rwt}},{key:"Gs",get:function(){var t=(this.i8.jr.Gd||this.ZO).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||Zb(this.ZO,this.h0)?Tp.dr:"video"===t?Tp.Ll:"audio"===t?Tp.xl:"image"===t?Tp.Ml:Tp.Al}},{key:"Qp",get:function(){return this.i8.jr.Qp||0}},{key:"ast",get:function(){return this.i8.jr.hg||""}},{key:"A_t",get:function(){return this.Wwt}},{key:"k_t",get:function(){var t=this.A_t,n=this.Gwt;if(void 0!==t&&void 0!==n){var i=d.min(n,this.e_t.b_t);return d.max(t,i)}}}]),n}(Aj);function Sj(t,n){for(var i=[],e=0;e<n.length;e++)for(var r=n[e],u=0;u<t.length;u++){var s=t[u];i.push(De.Ss(s,r))}return i}me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),me(),zt(),Ae();var Ej=function(){function t(t,n){this.m_t=t,this.T_t=n,this.Lc=n.VA,this.S_t=n.Nlt,this.E_t=n.Xlt}var n=t.prototype;return n.I_t=function(t){var n=t-this.m_t.SD;if(!(n<0||n>=this.m_t.Am)){var i=this.R_t();return void 0!==i&&eu(i,n,1e-5)?this.flt():this.C_t(n)}},n.N_t=function(t){var n=t-this.m_t.SD;if(!(n<0))return this.D_t(d.min(n,this.m_t.Am))},n.flt=function(){return this.P_t(0)},n._lt=function(){var t=this.m_t.Am;if(isFinite(t))return this.D_t(t)},n.r_t=function(t){if(this.m_t.B_t.Gs===jq.mI){if(this.O_t){var n=this.flt(),i=this.x_t();if(void 0===n||void 0===i)return;return{L_t:t,M_t:n,F_t:i}}var e=this.U_t(t);if(!e)return;return{L_t:t,M_t:this.H_t(t),F_t:e}}var r=this.flt();if(r)return{L_t:t,M_t:r,F_t:this._lt()}},n.u_t=function(t,n){if(n){var i=this.X_t(n.M_t),e=this.wlt(n.F_t);if(e){var r=this.z_t(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var u=this.flt();if(u){var s=this.z_t(u);if(t.getTime()<s.getTime())return s}var o=this.m_t.B_t.Pwt;return t.getTime()<o.getTime()?o:void 0},n.U_t=function(t){var n=(t.getTime()-this.m_t.B_t.Pwt.getTime())/1e3-this.m_t.SD+this.S_t,i=this.D_t(iu(n,0,this.m_t.Am));if(i&&(i=this.V_t(i,t))){for(var e=this.wlt(i);e&&this.W_t(e,t);)i=e,e=this.wlt(i);return i}},n.H_t=function(t){var n,i=this.T_t.Vlt;if(i){var e=(t.getTime()-this.m_t.B_t.Pwt.getTime())/1e3-this.m_t.SD-i.Jdt();(n=this.D_t(iu(e,0,this.m_t.Am)))||(n=this.flt())}else n=this.flt();if(n&&(n=this.V_t(n,t))){for(var r=this.M8(n);r&&this.W_t(r,t);)n=r,r=this.M8(n);return n}},n.V_t=function(t,n){for(var i=t;i&&this.z_t(i).getTime()>n.getTime();)i=this.M8(i);if(i){var e=this.X_t(i);if(e&&e.getTime()<=n.getTime()){var r=this.M8(i);for(r&&this.W_t(r,n)&&(i=r);i;){if(this.z_t(i).getTime()>n.getTime())return;if(this.W_t(i,n))break;i=this.wlt(i)}if(!i)return}return i}},n.W_t=function(t,n){if(this.O_t)return!0;if(this.z_t(t).getTime()>n.getTime())return!1;var i=this.X_t(t);return!(i&&n.getTime()>=i.getTime())},n.q_t=function(t,n){if(this.O_t)return!0;if(this.G_t(t).getTime()>n.getTime())return!1;var i=this.X_t(t);return!(i&&n.getTime()>=i.getTime())},n.j_t=function(t,n,i){var e=wu(n,this.Lc)+this.m_t.SD;return{Blt:t,Y_t:n,kp:e,Am:i,bp:e+i}},n.G_t=function(t){return this.m_t.B_t.Gs===jq.mI?new Date(this.m_t.B_t.Pwt.getTime()+1e3*(t.kp+t.Am)):this.m_t.B_t.Pwt},n.z_t=function(t){var n=this.G_t(t);return this.m_t.B_t.Gs===jq.mI?new Date(n.getTime()-1e3*this.S_t):n},n.X_t=function(t){var n=1/0;if(this.m_t.B_t.Gs===jq.mI){var i=this.T_t.Vlt;i&&(n=this.G_t(t).getTime()+1e3*t.Am+i.Tlt())}var e=this.m_t.B_t.Dwt;return e&&(n=d.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.Q_t=function(t,n){return t.Blt+n},n.vlt=function(t){return!1},n.dlt=function(t,n,i,e,r){var u=this.Z_t(t);if(!u)return j.reject(new h("Invalid segment"));var s=this.K_t(u.Blt,n);return s?j.resolve(s):Zc(this.J_t(u.Blt,n,i,e),r)},n.K_t=function(t,n){},n.J_t=function(t,n,i,e){return j.reject(new h("Not supported"))},n.M8=function(t){var n=this.Z_t(t);if(n)return this.P_t(n.Blt-1)},n.wlt=function(t){var n=this.Z_t(t);if(n)return this.P_t(n.Blt+1)},n.Z_t=function(t){var n=this.P_t(t.Blt);if(n&&n.kp===t.kp)return n;var i=this.I_t(t.kp);return i&&i.kp===t.kp?i:void 0},n.$_t=function(t,n){var i=this.tgt(t);if(i&&this.vlt(i.Blt)){var e=this.K_t(i.Blt,n);if(e)return e.$_t(t)}},n.tgt=function(t){return this.P_t(t.ngt)},n.s_t=function(t){var n=this.Z_t(t);return!!n&&0===n.Blt},n.o_t=function(t,n){var i=this.$_t(t,n);return!!i&&0===i.jwt},n.a_t=function(t){var n=this.Z_t(t);if(!n)return!1;var i=this._lt();return!!i&&n.Blt===i.Blt},n.c_t=function(t,n){var i=this.$_t(t,n);if(!i)return!1;var e=this._lt();if(!e||i.ngt!==e.Blt)return!1;var r=this.K_t(i.ngt,n);return i.jwt+1===r.V_},n.Io=function(){},pe(t,[{key:"O_t",get:function(){return this.m_t.B_t.igt&&void 0!==this.x_t()}},{key:"Rk",get:function(){return this.m_t.SD-wu(this.E_t,this.Lc)}},{key:"Xlt",get:function(){return wu(this.E_t,this.Lc)}}]),t}(),Ij=function(t){function n(n,i){var e;e=t.call(this,i,n)||this;var r=n.egt,u=n.Am;if(void 0===r||void 0===u)throw new h("MultipleSegmentBase does not have a segment duration specified.");return e.rgt=r,e.ugt=u,e}ze(n,t);var i=n.prototype;return i.P_t=function(t){if(!(t<0)){var n=this.rgt.multiply(t),i=wu(n,this.Lc),e=this.m_t.Am;if(!(i>=e)){var r=this.sgt();if(void 0!==r){if(t>r)return;if(t===r&&isFinite(e))return this.j_t(t,n,e-i)}return isFinite(e)&&i+this.ugt>e?this.j_t(t,n,e-i):this.j_t(t,n,this.ugt)}}},i.R_t=function(){return 0},i.C_t=function(t){var n=d.floor(t/this.ugt),i=this.sgt();return void 0!==i&&n>=i?this.P_t(i):this.P_t(n)},i.D_t=function(t){if(t>=this.m_t.Am){var n=d.ceil(this.m_t.Am/this.ugt)-1,i=this.sgt();return void 0!==i&&n>=i?this.P_t(i):this.P_t(n)}return this.C_t(t)},i.sgt=function(){var t,n=this.T_t.Glt;if(void 0!==n)return n-(null!=(t=this.T_t.qlt)?t:1);var i=this.T_t.ogt;return void 0!==i&&i>0?i-1:void 0},i.x_t=function(){if(isFinite(this.m_t.Am))return this._lt()},i.agt=function(t,n){return this.rgt.multiply(t.Blt+(n-1))},i.gf=function(){},n}(Ej);function Rj(t,n){return OU(Cj.Ze,t,n)}me(),zt(),me(),zt(),Ae();var Cj=function(){function t(){}var n=t.prototype;return n.y5=function(t){return t.kp},n.p5=function(t){return t.bp},n.A5=function(t,n){return t.compare(n)},n.k5=function(t,n,i){return t.subtract(n).toNumber()/i.subtract(n).toNumber()},pe(t,null,[{key:"Ze",get:function(){return null!=this.h6||(this.h6=new t),this.h6}}]),t}(),Nj=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).N5=[],e.cgt=void 0,e.ist=Jr.ZERO,e.gf(),e}ze(n,t);var i=n.prototype;return i.P_t=function(t){if(!(t<0))return t<this.N5.length?this.N5[t].O8:this.hgt(t-this.N5.length)},i.R_t=function(){if(this.N5.length>0)return wu(this.N5[0].kp,this.Lc)},i.C_t=function(t){if(this.cgt&&wu(this.cgt.kp,this.Lc)<=t){var n=wu(this.cgt.kp,this.Lc),i=wu(this.cgt.Am,this.Lc),e=d.floor((t-n)/i);return this.hgt(e)}if(this.N5.length>0&&eu(t,wu(this.N5[0].kp,this.Lc),1e-5))return this.N5[0].O8;var r=Rj(this.N5,Jr.fromNumber(t*this.Lc));return r<0?void 0:this.N5[r].O8},i.D_t=function(t){if(!this.cgt&&this.N5.length>0){var n=this.N5[this.N5.length-1];if(i=t,e=wu(n.bp,this.Lc),Tc(i,e,1e-5)>=0)return n.O8}var i,e,r=this.R_t();return r&&t<r?this.N5[0].O8:this.C_t(t)},i.x_t=function(){return isFinite(this.m_t.Am)?this._lt():this.P_t(this.N5.length-1)},i.agt=function(t){return this.fgt(t)},i.hgt=function(t){if(this.cgt){var n=this.cgt.kp,i=this.cgt.Am,e=n.add(i.multiply(t)),r=wu(e,this.Lc),u=this.m_t.Am;if(!(r>=u)){var s=this.N5.length+t,o=d.min(wu(i,this.Lc),r+u);return this.j_t(s,e,o)}}},i.fgt=function(t){return t.Y_t.add(this.E_t)},i.gf=function(){var t=this.T_t.jr.olt;if(!t)throw new h("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.G5(t)},i.G5=function(t){var n=this.E_t;this.vgt(t,n);var i=this.dgt(t);this.lgt(t,n,i.wgt,i.ngt)},i.vgt=function(t,n){var i=this.N5;if(0===t.length)Pc(i);else{for(var e=t[0],r=e.kp?Jr.fromString(e.kp,!1).subtract(n):Jr.ZERO,u=0;u<i.length&&i[u].kp.lessThan(r);)u++;u>0&&i.splice(0,u)}},i.dgt=function(t){for(var n=this.N5,i=this.ist,e=0,r=0;e<t.length&&r<n.length;){var u=t[e].Plt||0;if(u<0)break;var s=r+u;if(s>=n.length)break;if(n[s].kp.greaterThanOrEqual(i))break;if(n[r].O8.Blt===r)r=s+1;else for(;r<=s;)n[r].O8.Blt=r,r++;0,e++}return{wgt:e,ngt:r}},i.lgt=function(t,n,i,e){for(var r,u=this.N5,s=i,o=e;s<t.length;){var a=t[s],c=Jr.fromString(a.Am,!1),h=a.Plt||0,f=void 0;if(a.kp){if(f=Jr.fromString(a.kp,!1).subtract(n),o>0){var v=u[o-1];v.bp.greaterThan(f)&&(v.Am=f.subtract(v.kp),v.bp=v.kp.add(v.Am))}}else f=o>0?u[o-1].bp:Jr.ZERO;if(h<0){if(s+1===t.length){r={kp:f,Am:c};break}for(var d=Jr.fromString(t[s+1].kp,!1).subtract(n);f.lessThan(d);){var l=f.add(c);this._gt(u,o,f,c,l),f=l,o++}}else for(var w=o+h;o<=w;){var _=f.add(c);this._gt(u,o,f,c,_),f=_,o++}s++}o<u.length&&u.splice(o),u.length>0&&(this.ist=u[u.length-1].kp),this.cgt=r},i._gt=function(t,n,i,e,r){if(n<t.length){var u=t[n];0,u.Am.equals(e)?u.O8.Blt=n:t[n]={kp:i,Am:e,bp:r,O8:this.j_t(n,i,wu(e,this.Lc))}}else t.push({kp:i,Am:e,bp:r,O8:this.j_t(n,i,wu(e,this.Lc))})},n}(Ej);me(),zt(),Ae();var Dj=function(){function t(t,n,i){this.ggt=void 0,this.mgt=void 0,this.ylt=t,this.ygt=n,this.j=i}var n=t.prototype;return n.pgt=function(){if(this.mgt=this.Agt(),this.mgt)return this.mgt;if(this.ygt)return this.ygt.olt;throw new h("Missing media segment information.")},n.d_t=function(t){var n=this.Hlt;if(n)return{_l:(void 0!==n.Dlt?De.Ss(n.Dlt,t.uwt[0]):t.uwt[0]).href,yot:n.yot};var i=this.Olt;return i?{_l:t.uwt[0].href,yot:[0,i[0]-1]}:void 0},n.gf=function(t){this.j=t,this.mgt&&this.mgt.gf()},n.Io=function(){this.mgt&&(this.mgt.Io(),this.mgt=void 0)},pe(t,[{key:"jr",get:function(){return this.j}},{key:"Nlt",get:function(){return this.j&&void 0!==this.j.Nlt?this.j.Nlt:this.ygt?this.ygt.Nlt:0}},{key:"Xlt",get:function(){return this.j&&void 0!==this.j.Xlt?this.j.Xlt:this.ygt?this.ygt.Xlt:Jr.ZERO}},{key:"Vlt",get:function(){return this.j&&void 0!==this.j.Vlt?this.j.Vlt:this.ygt?this.ygt.Vlt:this.ylt.B_t.Vlt}},{key:"VA",get:function(){return this.j&&void 0!==this.j.VA?this.j.VA:this.ygt&&this.ygt.VA?this.ygt.VA:1}},{key:"Olt",get:function(){return this.j&&void 0!==this.j.Olt?this.j.Olt:this.ygt?this.ygt.Olt:void 0}},{key:"Hlt",get:function(){return this.j&&void 0!==this.j.Hlt?this.j.Hlt:this.ygt?this.ygt.Hlt:void 0}},{key:"olt",get:function(){return this.ggt||(this.ggt=this.pgt()),this.ggt}}]),t}(),Pj=function(t){function n(){return t.apply(this,arguments)}return ze(n,t),n.prototype.Agt=function(){return void 0!==this.j.olt?new Nj(this,this.ylt):void 0!==this.j.Am?new Ij(this,this.ylt):void 0},pe(n,[{key:"Am",get:function(){return void 0!==this.j.Am?this.j.Am/this.VA:this.ygt&&Bj(this.ygt)?this.ygt.Am:void 0}},{key:"egt",get:function(){return void 0!==this.j.Am?Jr.fromNumber(this.j.Am):this.ygt&&Bj(this.ygt)?this.ygt.egt:void 0}},{key:"qlt",get:function(){return void 0!==this.j.qlt?this.j.qlt:this.ygt&&Bj(this.ygt)?this.ygt.qlt:void 0}},{key:"Glt",get:function(){return void 0!==this.j.Glt?this.j.Glt:this.ygt&&Bj(this.ygt)?this.ygt.Glt:void 0}}]),n}(Dj);function Bj(t){return t instanceof Pj}me(),zt();var Oj=function(){function t(t){this.kgt=t}return t.prototype.Ua=function(t){return this.kgt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,(function(n,i,e,r){if("$$"===n)return"$";var u=t[i];if(void 0===u)return n;if(void 0===e)return u.toString();var s=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(u,r);return void 0===s?n:s=oc(s,Number(e),"0")}))},t}();var xj=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).bgt=e.Qlt?new Oj(e.Qlt):void 0,r.Tgt=e.Zlt?new Oj(e.Zlt):void 0,r}ze(n,t);var i=n.prototype;return i.d_t=function(n){var i=this.Qlt;if(!i)return t.prototype.d_t.call(this,n);var e=i.Ua({Bandwidth:n.jr.NC,RepresentationID:n.jr.eg});return{_l:De.Es(e,n.uwt[0])}},i.glt=function(t,n){var i,e=null!=(i=n.l_t.qlt)?i:1,r=this.Zlt.Ua({Bandwidth:n.jr.NC,Number:n.olt.Q_t(t,e),RepresentationID:n.jr.eg,Time:n.olt.agt(t,e)});return{_l:De.Es(r,n.uwt[0])}},i.i_t=function(t,n){},pe(n,[{key:"Qlt",get:function(){return this.bgt?this.bgt:this.ygt&&this.ygt instanceof n?this.ygt.Qlt:void 0}},{key:"Zlt",get:function(){return this.Tgt?this.Tgt:this.ygt&&this.ygt instanceof n?this.ygt.Zlt:void 0}},{key:"ogt",get:function(){}}]),n}(Pj);me(),zt(),Ae();var Lj=function(t){function n(){return t.apply(this,arguments)}ze(n,t);var i=n.prototype;return i.glt=function(t,n){var i=this.Llt[t.Blt],e=n.uwt[0];return{_l:(i.xT?De.Ss(i.xT,e):e).href,yot:i.xlt}},i.i_t=function(t,n){},pe(n,[{key:"Llt",get:function(){return void 0!==this.j.Llt?this.j.Llt:this.ygt&&this.ygt instanceof n?this.ygt.Llt:void 0}},{key:"ogt",get:function(){var t;return null==(t=this.Llt)?void 0:t.length}}]),n}(Pj);me(),zt(),Ae(),me(),zt(),me(),zt(),Ae(),me(),zt();var Mj=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).ngt=n,s.VA=i,s.Sgt=e,s.Xlt=r,s.Egt=u,s}ze(n,t);var i=n.prototype;return i.llt=function(t){if(t>=0&&t<this.V_)return this.Igt(this.Egt[t])},i.Rgt=function(t){var n=this.Cgt(t);if(this.Egt.length>0){var i=this.Egt[0];if(n<=wu(i.kp,this.VA))return this.Igt(i)}var e=Rj(this.Egt,Jr.fromNumber(n*this.VA));if(!(e<0))return this.Igt(this.Egt[e])},i.Ngt=function(t){var n=this.Cgt(t);if(this.Egt.length>0){var i=this.Egt[this.Egt.length-1];if(n>=wu(i.bp,this.VA))return this.Igt(i)}return this.Rgt(t)},i.Igt=function(t){var n=wu(t.kp,this.VA)-this.Xlt,i=n+this.Sgt,e=wu(t.Am,this.VA);return{ngt:this.ngt,jwt:t.Blt,kp:i,Y_t:Jr.fromNumber(n*this.VA),Am:e,bp:i+e,Q2:[t.z7,t.V7]}},i.Cgt=function(t){return t-this.Sgt+this.Xlt},pe(n,[{key:"V_",get:function(){return this.Egt.length}}]),n}(function(){function t(){}return t.prototype.$_t=function(t){var n=this.llt(t.jwt);if(n&&n.kp===t.kp)return n;var i=this.Rgt(t.kp);return i&&i.kp===t.kp?i:void 0},t}());me(),zt(),me(),zt(),me(),zt();var Fj=function(){function t(t){this.jr=t,this.Lb=new xf}var n=t.prototype;return n.Lut=function(){return this.Lb.Na<this.jr.byteLength},n.Dgt=function(){var n,i=this.Pgt(),e=this.Bgt(),r=this.Lb.Na,u=this.jr.byteLength,s=r+(n=t.Ogt(e)?u-r:t.xgt(e))<=u?n:u-r,o=Kh(this.jr,this.Lb,s);return new Hj(i,Rf(o))},n.Pgt=function(){var t=this.Bgt();if(t.length>7)throw new RangeError("Invalid EBML ID size");for(var n=0,i=0;i<t.length;i++)n=256*n+t[i];return n},n.Bgt=function(){var t=Qh(this.jr,this.Lb.Oa());if(0===t)throw new RangeError("EBML variable sized integer is invalid");var n=8-d.floor(function(t){return d.log(t)*d.LOG2E}(t));return De.us(n<=8&&n>=1,"Incorrect log2 value"),Kh(this.jr,this.Lb,n)},t.xgt=function(t){if(8===t.length&&224&t[1])throw new f("EMBL variable sized integer is too large");for(var n=0,i=0;i<t.length;i++){var e=t[i];if(0===i)n=e&(1<<8-t.length)-1;else n=256*n+e}return n},t.Ogt=function(t){for(var n=0;n<Uj.length;n++){var i=Uj[n];if(Dh(t,new g(i)))return!0}return!1},t}(),Uj=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]],Hj=function(){function t(t,n){this.id=t,this.Lgt=n}var n=t.prototype;return n.Mgt=function(){return this.Lgt.byteOffset},n.Fgt=function(){return new Fj(this.Lgt)},n.Ugt=function(){var t=this.Lgt.byteLength;if(t>8)throw new RangeError("EMBL integer field size is too large");if(8===t&&224&this.Lgt.getUint8(0))throw new RangeError("EMBL integer field value is too large");for(var n=0,i=0;i<t;i++){n=256*n+this.Lgt.getUint8(i)}return n},n.LF=function(){if(4===this.Lgt.byteLength)return this.Lgt.getFloat32(0);if(8===this.Lgt.byteLength)return this.Lgt.getFloat64(0);throw new RangeError("Invalid size for EMBL floating-point field")},t}();function Xj(t,n){var i=function(t){var n=new Fj(Rf(t));if(n.Dgt().id!==Vj)throw new f("Missing WebM EBML header");var i=n.Dgt();if(i.id!==Wj)throw new f("Missing WebM SegmentElement");var e=i.Mgt(),r=function(t){var n,i=t.Fgt();for(;i.Lut();){var e=i.Dgt();if(e.id===qj){n=e;break}}if(!n)throw new f("Missing WebM InfoElement");return function(t){var n,i=t.Fgt(),e=1e6;for(;i.Lut();){var r=i.Dgt();r.id===Gj?e=r.Ugt():r.id===jj&&(n=r.LF())}if(void 0===n)throw new f("Missing Duration in WebM InfoElement");var u=e/1e9;return{timecodeScale:u,duration:n*u}}(n)}(i);return{segmentOffset:e,timecodeScale:r.timecodeScale,duration:r.duration}}(n),e=new Fj(Rf(t)).Dgt();if(e.id!==Yj)throw new f("Missing WebM CuesElement");var r=function(t,n,i,e){var r,u,s=[],o=t.Fgt();for(;o.Lut();){var a=o.Dgt();if(a.id===Qj){var c=zj(a);if(c){var h=c.unscaledTime,f=n+c.relativeOffset;void 0!==r&&s.push({Blt:s.length,kp:r,Am:h.subtract(r),bp:h,z7:u,V7:f-1}),r=h,u=f}}}if(void 0!==r){0;var v=Jr.fromNumber(e/i);s.push({Blt:s.length,kp:r,Am:v.subtract(r),bp:v,z7:u,V7:void 0})}return s}(e,i.segmentOffset,i.timecodeScale,i.duration);return{VA:d.round(1/i.timecodeScale),Hgt:r}}function zj(t){var n=t.Fgt(),i=n.Dgt();if(i.id!==Zj)throw new f("Missing CueTime in WebM CuePointElement");var e=Jr.fromNumber(i.Ugt()),r=n.Dgt();if(r.id!==Kj)throw new f("Missing CueTrackPositions in WebM CuePointElement");for(var u=r.Fgt(),s=0;u.Lut();){var o=u.Dgt();if(o.id===Jj){s=o.Ugt();break}}return{unscaledTime:e,relativeOffset:s}}var Vj=440786851,Wj=408125543,qj=357149030,Gj=2807729,jj=17545,Yj=475249515,Qj=187,Zj=179,Kj=183,Jj=241,$j=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).Xgt=Aa(),e.zgt=Aa(),e.Vgt=new Wc,e.Wgt=n.Olt,e.qgt=e.j_t(0,Jr.ZERO,e.m_t.Am),e}ze(n,t);var i=n.prototype;return i.P_t=function(t){if(0===t)return this.qgt},i.R_t=function(){return 0},i.C_t=function(t){return this.qgt},i.D_t=function(t){return this.C_t(t)},i.x_t=function(){return this.qgt},i.agt=function(t,n){return Jr.ZERO},i.r_t=function(t){var n=this.Ggt(t);return n&&{L_t:t,M_t:n,F_t:n}},i.Ggt=function(t){var n=this.qgt;return this.W_t(n,t)?n:void 0},i.U_t=function(t){return this.Ggt(t)},i.H_t=function(t){return this.Ggt(t)},i.gf=function(){},i.vlt=function(t){return 0===t&&void 0!==this.Wgt},i.K_t=function(t,n){var i=n.uwt[0].href;return this.Xgt.get(i)},i.J_t=function(t,n,i,e){var r=n.uwt[0].href,u=this.zgt.get(r);if(void 0===u){var s=n.ZO,o=this.Vgt.Lo;if(Zl(s))u=this.jgt(t,r,i,e,o);else{if(!Kl(s))throw new bw(gw.MEDIA_NOT_SUPPORTED,"Unsupported MIME type for segment index: "+s);u=this.Ygt(t,r,n,i,e,o)}this.zgt.set(r,u)}return u},i.jgt=function(t,n,i,e,r){var u=this;return _a((function(){var s,o,a;return ma(this,(function(c){switch(c.label){case 0:return s=u.Wgt,[4,e.Qgt(n,s,i,r)];case 1:return o=c.sent(),a=u.Zgt(t,o),u.Xgt.set(n,a),[2,a]}}))}))()},i.Zgt=function(t,n){var i=this.Wgt,e=ab.nT(new DataView(n),new xf);if(e.Gs!==lk.Ib)throw new h("Invalid segment index");var r=db.AT(e.jr),u=function(t,n){for(var i=[],e=t.ME,r=n+t.FE.toNumber(),u=0,s=0,o=t.HE;s<o.length;s++){var a=o[s],c=a.PE,h=Jr.fromNumber(a.Am),f=e.add(h);0===a.DE&&i.push({Blt:u++,kp:e,Am:h,bp:f,z7:r,V7:r+c-1}),r+=c,e=f}return i}(r,i[1]+1);return new Mj(t,r.VA,this.m_t.SD,wu(this.E_t,this.Lc),u)},i.Ygt=function(t,n,i,e,r,u){var s=this;return _a((function(){var o,a,c,h,f,v,d,l;return ma(this,(function(w){switch(w.label){case 0:return o=i.d_t(),a=s.Wgt,c=r.Qgt(o._l,o.yot,e,u),h=r.Qgt(n,a,e,u),[4,j.all([c,h])];case 1:return f=ya.apply(void 0,[w.sent(),2]),v=f[0],d=f[1],l=s.Kgt(t,d,v),s.Xgt.set(n,l),[2,l]}}))}))()},i.Kgt=function(t,n,i){var e=Xj(new g(n),new g(i));return new Mj(t,e.VA,this.m_t.SD,wu(this.E_t,this.Lc),e.Hgt)},i.Io=function(){t.prototype.Io.call(this),this.Vgt.Bo()},n}(Ej),tY=function(t){function n(){return t.apply(this,arguments)}ze(n,t);var i=n.prototype;return i.glt=function(t,n){return{_l:n.uwt[0].href}},i.i_t=function(t,n){return{_l:n.uwt[0].href,yot:t.Q2}},i.Agt=function(){return new $j(this,this.ylt)},pe(n,[{key:"qlt",get:function(){}}]),n}(Dj);me(),zt();var nY=function(t){function n(){return t.call(this,yj.Ywt)}return ze(n,t),n}(fh);me(),zt();var iY=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).T_t=void 0,r.Jgt=1/0,r.$gt=void 0,r.qw=i,r.tmt(n,e),r}ze(n,t);var i=n.prototype;return i.nmt=function(){var t,n;return null!=(n=this.T_t)?n:null==(t=this.qw)?void 0:t.nmt()},i.imt=function(t){var n=this.ylt,i=this.qw&&this.qw.nmt();this.j.fwt?this.T_t=new xj(n,i,this.j.fwt):this.j.hwt?this.T_t=new Lj(n,i,this.j.hwt[0]):this.j.cwt?this.T_t=new tY(n,i,this.j.cwt):t&&!i&&(this.T_t=new tY(n,i,void 0))},i.tmt=function(t,n){this.j=t,this.emt=t.uwt&&t.uwt.length>0?Sj(t.uwt.map((function(t){return t._l})),n):n.slice(),this.T_t&&(t.fwt?this.T_t.gf(t.fwt):t.hwt?this.T_t.gf(t.hwt[0]):t.cwt&&this.T_t.gf(t.cwt))},i.qwt=function(){var t;return null==(t=this.$gt)?void 0:t.rmt},i.u_t=function(){var t;return null==(t=this.$gt)?void 0:t.umt},i.smt=function(t){var n=this.Jgt,i=this.ylt.Am,e=this.$gt,r=this.omt(t);e&&eu(i,n,1e-5)&&sY(e,r)||(this.Jgt=i,this.$gt=r,this.Ho(new nY))},i.Io=function(){this.qo(),this.T_t&&(this.T_t.Io(),this.T_t=void 0)},pe(n,[{key:"jr",get:function(){return this.j}},{key:"uwt",get:function(){return this.emt}}]),n}(oh);function eY(t){for(var n,i=0;i<t.length;i++){var e=t[i].qwt();if(e){n=e.SD;break}}if(void 0!==n){for(var r,u=t.length-1;u>=0;u--){var s=t[u].qwt();if(s){r=s.RD;break}}if(void 0!==r)return{SD:n,RD:r}}}function rY(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].qwt();if(!r)return;if((n=d.max(n,r.SD))>=(i=d.min(i,r.RD)))return}return{SD:n,RD:i}}}function uY(t){for(var n,i=0;i<t.length;i++){var e=t[i].u_t();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function sY(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.umt,n.umt)&&function(t,n){return t&&n?eu(t.SD,n.SD,1e-5)&&eu(t.RD,n.RD,1e-5):t===n}(t.rmt,n.rmt)}var oY=function(t){function n(n,i,e){var r;(r=t.call(this)||this).m_t=n,r.tf=i,r.amt=e.slice();for(var u=0;u<e.length;u++){e[u].zo(yj.Ywt,r.Vwt)}return r}ze(n,t);var i=n.prototype;return i.qwt=function(){return rY(this.amt)},i.u_t=function(){for(var t,n=0,i=this.amt;n<i.length;n++){var e=i[n].u_t();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.bv=function(){this.qo();for(var t=0,n=this.amt;t<n.length;t++){n[t].Go(yj.Ywt,this.Vwt)}},pe(n,[{key:"rlt",get:function(){return this.amt}},{key:"h0",get:function(){return this.rlt.reduce((function(t,n){for(var i=0,e=n.h0;i<e.length;i++){var r=e[i];Dc(t,r)||t.push(r)}return t}),[])}},{key:"Gu",get:function(){return this.h0.length>0?this.h0[0]:""}},{key:"Gs",get:function(){return this.amt[0].Gs}},{key:"eg",get:function(){return this.tf}},{key:"e_t",get:function(){return this.m_t.e_t}},{key:"ZO",get:function(){return this.amt[0].ZO}},{key:"ylt",get:function(){return this.m_t}},{key:"w3",get:function(){return Oc(this.rlt,(function(t){return t.w3}))}}]),n}(Aj);me(),zt();var aY=function(t){function n(){return t.call(this,yj.Zwt)}return ze(n,t),n}(fh);function cY(t){for(var n=function(n){var e=t[n],r=void 0,u=e.dwt;void 0===u||(r=Ec(i,(function(t){return t.eg===u}))),r||(r={eg:u,rlt:[]},i.push(r)),r.rlt.push(e)},i=[],e=0;e<t.length;e++)n(e);return i}me(),zt();var hY,fY=function(t){function n(n,i){var e;return(e=t.call(this)||this).amt=[],e.cmt=[],e.hmt=!1,e.fmt=n,e.i8=i,e.i8.zo(yj.Ywt,e.Vwt),e}ze(n,t);var i=n.prototype;return i.vmt=function(t,n){if(0!==this.cmt.length){for(var i=t,e=0,r=this.cmt;e<r.length;e++){var u=r[e],s=u.Gs;if(s===Tp.xl||s===Tp.Ll){var o=u.Gwt;if(void 0===o)return;i=n(i,o)}}return i}},i.dmt=function(){this.hmt||(this.hmt=!0,this.Ho(new aY),this.bv())},i.gf=function(t,n){var i=this;return _a((function(){return ma(this,(function(e){switch(e.label){case 0:return 0!==i.amt.length?[3,2]:[4,i.lmt(i.i8.rlt,t,n)];case 1:return e.sent(),i.wmt(i.amt),jc(n),[3,4];case 2:return[4,i._mt(t,n)];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))()},i.lmt=function(t,n,i){var e=this;return _a((function(){var r,u,s;return ma(this,(function(o){switch(o.label){case 0:r=0,o.label=1;case 1:if(!(r<t.length))return[3,6];u=t[r],s=new Tj(e,u),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,s.gf(n,i)];case 3:return o.sent(),e.amt.push(s),[3,5];case 4:return Yc(o.sent()),[3,5];case 5:return r++,[3,1];case 6:return[2]}}))}))()},i.wmt=function(t){for(var n=cY(t),i=0;i<n.length;i++){var e=n[i],r=new oY(this,e.eg,e.rlt);this.cmt.push(r)}},i._mt=function(t,n){var i=this;return _a((function(){var e,r;return ma(this,(function(u){switch(u.label){case 0:e=0,r=i.amt,u.label=1;case 1:return e<r.length?[4,r[e].gf(t,n)]:[3,4];case 2:u.sent(),u.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))()},i.qwt=function(){return this.i8.qwt()},i.u_t=function(){return this.i8.u_t()},i.bv=function(){this.qo(),this.i8.Go(yj.Ywt,this.Vwt);for(var t=0,n=this.cmt;t<n.length;t++){n[t].bv()}for(var i=0,e=this.amt;i<e.length;i++){e[i].bv()}Pc(this.amt),Pc(this.cmt)},pe(n,[{key:"rlt",get:function(){return this.amt}},{key:"ilt",get:function(){return this.cmt}},{key:"Cwt",get:function(){return this.i8.jr.Cwt}},{key:"Am",get:function(){return this.i8.Am}},{key:"RD",get:function(){return this.SD+this.Am}},{key:"Nwt",get:function(){return this.i8.jr.Nwt||[]}},{key:"eg",get:function(){return this.i8.eg}},{key:"Kwt",get:function(){return this.hmt}},{key:"e_t",get:function(){return this.fmt}},{key:"gmt",get:function(){return this.fmt.mmt(this)}},{key:"ylt",get:function(){return this}},{key:"ymt",get:function(){return this.fmt.pmt(this)}},{key:"Amt",get:function(){return this.vmt(1/0,d.min)}},{key:"kmt",get:function(){return this.vmt(0,d.max)}},{key:"SD",get:function(){return this.i8.SD}},{key:"Vl",get:function(){return this.e_t.Vl}}]),n}(Aj);me(),zt(),me(),zt(),(hY||(hY={})).bmt="Tmt";var vY=function(t){function n(){return t.call(this,hY.bmt)}return ze(n,t),n}(fh);me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),Ae(),me(),zt(),Ae();var dY=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.uwt)||this).Smt=void 0,e.t_t=i,e.imt(!0),e}ze(n,t);var i=n.prototype;return i.vlt=function(t){var n=this.ZO;return!(!Zl(n)&&!Kl(n))&&this.olt.vlt(t.Blt)},i.dlt=function(t,n,i,e){return this.olt.dlt(t,this,n,i,e)},i.d_t=function(){return this.l_t.d_t(this)},i.glt=function(t){return this.l_t.glt(t,this)},i.i_t=function(t){return this.l_t.i_t(t,this)},i.r_t=function(){return this.Smt},i.omt=function(t){var n=this.olt,i=n.r_t(t),e=i&&function(t,n){var i,e=t.M_t,r=t.F_t,u=t.L_t,s=e.kp,o=n.G_t(r);if(o.getTime()<=u.getTime())i=r.bp;else{var a=(o.getTime()-u.getTime())/1e3,c=d.max(r.Am-a,0);i=r.kp+c}return{SD:s,RD:i}}(i,n),r=this.olt.u_t(t,i);return this.Smt=i,{L_t:t,rmt:e,umt:r}},i.gf=function(t){this.tmt(t,this.t_t.uwt)},pe(n,[{key:"h_t",get:function(){return this.t_t}},{key:"ylt",get:function(){return this.t_t.ylt}},{key:"B_t",get:function(){return this.t_t.B_t}},{key:"ZO",get:function(){return this.j.ZO||this.t_t.ZO}},{key:"l_t",get:function(){return this.nmt()}},{key:"olt",get:function(){return this.l_t.olt}}]),n}(iY),lY=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.uwt)||this).m_t=i,e.imt(!1),e.g_t=n.w3.map((function(t){return new dY(t,mu(e))})),e}ze(n,t);var i=n.prototype;return i.gf=function(t){this.tmt(t,this.m_t.uwt);var n=t.w3||[];if(this.g_t.length!==n.length)throw new h("Expected "+this.g_t.length+' representations in adaptation set "'+t.eg+'", found '+n.length);for(var i=0;i<n.length;i++)this.g_t[i].gf(n[i])},i.smt=function(n){for(var i=0,e=this.g_t;i<e.length;i++){e[i].smt(n)}t.prototype.smt.call(this,n)},i.omt=function(t){return{L_t:t,rmt:rY(this.g_t),umt:uY(this.g_t)}},i.Io=function(){for(var n=0,i=this.g_t;n<i.length;n++){i[n].Io()}t.prototype.Io.call(this)},pe(n,[{key:"w3",get:function(){return this.g_t}},{key:"ylt",get:function(){return this.m_t}},{key:"B_t",get:function(){return this.m_t.B_t}},{key:"dwt",get:function(){return this.j.dwt}},{key:"ZO",get:function(){var t;return this.j.ZO||(null==(t=this.g_t[0])?void 0:t.jr.ZO)||""}}]),n}(iY),wY=function(t){function n(n,i,e,r){var u;return(u=t.call(this,i,void 0,n.uwt)||this).cmt=[],u.Emt=n,u.GE=e,u.Mc=r,u.imt(!1),u.amt=(i.rlt||[]).map((function(t){return new lY(t,mu(u))})),u.cmt=cY(u.amt),u}ze(n,t);var i=n.prototype;return i.gf=function(t,n){this.tmt(t,this.Emt.uwt),this.Mc=n;var i=t.rlt||[];if(this.amt.length!==i.length)throw new h("Expected "+this.amt.length+' adaptation sets in period "'+t.eg+'", found '+i.length);for(var e=0;e<i.length;e++)this.amt[e].gf(i[e])},i.smt=function(n){for(var i=0,e=this.amt;i<e.length;i++){e[i].smt(n)}t.prototype.smt.call(this,n)},i.omt=function(t){return{L_t:t,rmt:rY(this.amt),umt:uY(this.amt)}},i.Io=function(){for(var n=0,i=this.amt;n<i.length;n++){i[n].Io()}t.prototype.Io.call(this)},pe(n,[{key:"rlt",get:function(){return this.amt}},{key:"ilt",get:function(){return this.cmt}},{key:"ylt",get:function(){return this}},{key:"B_t",get:function(){return this.Emt}},{key:"eg",get:function(){return this.j.eg}},{key:"SD",get:function(){return this.GE}},{key:"Am",get:function(){return this.Mc}}]),n}(iY),_Y=new Date("2000-01-01"),gY=function(t){function n(n,i,e,r,u){var s;if((s=t.call(this)||this).$gt=void 0,s.Imt=void 0,s.Rmt=void 0,s.Cmt=[],s.Nmt=i,s.Dmt=u,s.gf(n,e,r),n.Gs===jq.mI){var o=s.x_t();o&&o.Dwt&&o.Dwt.getTime()<_Y.getTime()&&(s.Rmt=new Date(s.Uwt.getTime()-1e3*(o.O8.kp+o.O8.Am)),s.smt(r))}return s}ze(n,t);var i=n.prototype;return i.qwt=function(){var t;return null==(t=this.$gt)?void 0:t.rmt},i.u_t=function(){var t;return null==(t=this.$gt)?void 0:t.umt},i.gf=function(t,n,i,e){var r,u=void 0!==this.j&&this.j.Gs===jq.mI;this.j=t,this.Pmt=n,this.Bmt=null!=e?e:i,this.MG=i;var s,o=[(s=n,De.Ss(".",s))];this.emt=t.uwt&&t.uwt.length>0?Sj(t.uwt.map((function(t){return t._l})),o):o,this.Omt=t.Bwt&&t.Bwt.length>0?Sj(t.Bwt,this.emt):[];var a=this.Omt.map((function(t){return t.href})),c=n.href;Dc(a,c)||(this.Omt.push(n),a.push(c));var h=this.Nmt.href;Dc(a,h)||(this.Omt.push(this.Nmt),a.push(h)),this.Imt=null==(r=t.$dt)?void 0:r.Jdt();var f=t.Gs===jq.mI,v=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var u=t[r],s=void 0;if(u.SD)s=u.SD.Jdt();else if(r>0&&t[r-1].Am){s=e[r-1]+t[r-1].Am.Jdt()}else{if(0!==r||n)break;s=0}e.push(s)}for(var o=[],a=0;a<e.length-1;a++)o.push({jr:t[a],SD:e[a],Am:e[a+1]-e[a]});if(e.length>0){var c=e.length-1,h=t[c],f=e[c],v=1/0;n||(v=h.Am?h.Am.Jdt():i-f),o.push({jr:h,SD:f,Am:v})}return o}(t.Kdt,f,this.Imt);this.xmt(v,u,f),this.smt(i)},i.xmt=function(t,n,i){var e=this.Cmt;if(0!==t.length){for(var r=t[0].jr.eg,u=0;u<e.length&&e[u].eg!==r;)u++;for(var s=e.splice(0,u),o=0;o<s.length;o++){s[o].Io()}if(n&&!i&&e.length>0&&t.length>0){var a,c,h=null!=(a=mY(e[0].jr))?a:ak.DA,f=null!=(c=mY(t[0].jr))?c:ak.DA;if(f.Jp(h)){var v=f.aA(h);void 0!==this.Imt&&(this.Imt+=v.Kp());for(var d=0;d<t.length;d++){var l=t[d];if(d<e.length){var w=e[d];l.SD=w.SD,bY(l.jr,w.jr)}d===t.length-1&&(l.Am+=v.Kp())}}}for(var _=0;_<t.length;_++){var g=t[_];if(_<e.length){var m=e[_];0,m.gf(g.jr,g.Am)}else e.push(new wY(this,g.jr,g.SD,g.Am))}}else Pc(e)},i.smt=function(t){for(var n=0,i=this.Cmt;n<i.length;n++){i[n].smt(t)}var e=this.$gt,r=this.omt(t);e&&sY(e,r)||(this.$gt=r,this.Ho(new nY))},i.omt=function(t){return{L_t:t,rmt:eY(this.Cmt),umt:uY(this.Cmt)}},i.x_t=function(){if(0!==this.Cmt.length){var t=this.Cmt[this.Cmt.length-1];if(!isFinite(t.Am)&&0!==t.rlt.length){var n=t.rlt[0];if(0!==n.w3.length){var i=n.w3[0].olt,e=i.x_t();if(e)return{O8:e,Dwt:i.X_t(e)}}}}},i.Io=function(){this.qo();for(var t=0,n=this.Cmt;t<n.length;t++){n[t].Io()}},pe(n,[{key:"jr",get:function(){return this.j}},{key:"Gs",get:function(){return this.j.Gs||jq.gI}},{key:"Pwt",get:function(){return this.Rmt||this.j.Pwt||this.Uwt}},{key:"Dwt",get:function(){return this.j.Dwt}},{key:"igt",get:function(){var t,n;return null!=(n=null==(t=this.Dmt)?void 0:t.ignoreAvailabilityWindow)&&n}},{key:"$dt",get:function(){return this.Imt}},{key:"uwt",get:function(){return this.emt}},{key:"Bwt",get:function(){return this.Omt}},{key:"Kdt",get:function(){return this.Cmt}},{key:"Uwt",get:function(){return this.j.Uwt||this.MG}},{key:"Vlt",get:function(){return this.j.Vlt}},{key:"Lmt",get:function(){return this.Bmt}},{key:"Mmt",get:function(){return this.MG}}]),n}(oh);function mY(t){for(var n,i,e=AY(t),r=0,u=null!=(n=t.rlt)?n:[];r<u.length;r++){e=hk(e,yY(u[r]))}for(var s=0,o=null!=(i=t.Nwt)?i:[];s<o.length;s++){e=hk(e,kY(o[s]))}return e}function yY(t){for(var n=AY(t),i=0,e=t.w3;i<e.length;i++){n=hk(n,pY(e[i]))}return n}function pY(t){return AY(t)}function AY(t){var n;if(void 0!==t.fwt&&(n=hk(n,kY(t.fwt))),void 0!==t.cwt&&(n=hk(n,kY(t.cwt))),void 0!==t.hwt)for(var i=0,e=t.hwt;i<e.length;i++){n=hk(n,kY(e[i]))}return n}function kY(t){var n,i;return ak.PA(null!=(n=t.Xlt)?n:Jr.ZERO,null!=(i=t.VA)?i:1)}function bY(t,n){if(SY(t,n),t.SD=n.SD,void 0!==t.rlt&&void 0!==n.rlt&&t.rlt.length===n.rlt.length)for(var i=0;i<t.rlt.length;i++)TY(t.rlt[i],n.rlt[i]);if(void 0!==t.Nwt&&void 0!==n.Nwt&&t.Nwt.length===n.Nwt.length)for(var e=0;e<t.Nwt.length;e++)EY(t.Nwt[e],n.Nwt[e])}function TY(t,n){if(SY(t,n),void 0!==t.w3&&void 0!==n.w3&&t.w3.length===n.w3.length)for(var i=0;i<t.w3.length;i++)e=t.w3[i],r=n.w3[i],SY(e,r);var e,r}function SY(t,n){if(void 0!==t.fwt&&void 0!==n.fwt&&EY(t.fwt,n.fwt),void 0!==t.cwt&&void 0!==n.cwt&&EY(t.cwt,n.cwt),void 0!==t.hwt&&void 0!==n.hwt&&t.hwt.length===n.hwt.length)for(var i=0;i<t.hwt.length;i++)EY(t.hwt[i],n.hwt[i])}function EY(t,n){t.VA=n.VA,t.Xlt=n.Xlt}me(),zt();var IY=function(){function t(t,n,i){this.hI=t,this.Fmt=n,this.Umt=i,this.Hmt=0}var n=t.prototype;return n.yM=function(t){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return[4,n.Xmt(t,n.hI,n.Fmt,n.Umt).catch(Qc)];case 1:return i.sent(),[2]}}))}))()},n.zmt=function(){return new Date(au()+this.Hmt)},n.Xmt=function(t,n,i,e){var r=this;return _a((function(){var u,s,o;return ma(this,(function(a){switch(a.label){case 0:return e?[4,r.Vmt(n,e,i)]:[3,2];case 1:u=a.sent(),a.label=2;case 2:if(void 0!==u)return[3,6];jc(i),s=0,a.label=3;case 3:return s<t.length?(o=t[s],[4,r.Wmt(n,o,i)]):[3,6];case 4:if(void 0!==(u=a.sent()))return[3,6];a.label=5;case 5:return s++,[3,3];case 6:return r.Hmt=void 0===u?0:u-au(),[2]}}))}))()},n.Wmt=function(t,n,i){var e=this;return _a((function(){var r,u,s;return ma(this,(function(o){switch(o.label){case 0:switch(n.o3){case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2012":case"urn:mpeg:dash:utc:http-iso:2014":return[3,1];case"urn:mpeg:dash:utc:direct:2012":case"urn:mpeg:dash:utc:direct:2014":return[3,4]}return[3,5];case 1:return(r=n.Rr)?[4,e.Vmt(t,r,i)]:[3,3];case 2:return[2,o.sent()];case 3:return[3,6];case 4:return(u=n.Rr)&&(s=new Date(u).getTime(),!_(s))?[2,s]:[3,6];case 5:case 6:return[2]}}))}))()},n.Vmt=function(t,n,i){return _a((function(){var e,r;return ma(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,t.ll({_l:n,Fl:k_.GET,fl:jw.dr,Lo:i})];case 1:return[4,u.sent().zd()];case 2:return e=u.sent(),r=new Date(e).getTime(),_(r)?[3,4]:[2,r];case 3:return Yc(u.sent()),[3,4];case 4:return[2]}}))}))()},t}(),RY=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this)||this).i8=void 0,s.Gst=!0,s.Cmt=[],s.qmt=void 0,s.Gmt=n,s.jmt=n.Og,s.Ymt=i,s.hI=e,s.Qmt=r,s.Zmt=new IY(s.hI,s.Qmt,s.Gmt.Kmt),s.Dmt=u,s}ze(n,t);var i=n.prototype;return i.Jmt=function(t){var n=this.Zy;this.Gst=t,n!==this.Zy&&this.Ho(new vY)},i.gf=function(t,n,i){var e=this;return _a((function(){var r,u,s,o,a,c,h,f,v,d,l,w;return ma(this,(function(_){switch(_.label){case 0:return u=[],s=[],o=t.Owt?De.Ss(t.Owt,e.jmt):e.jmt,void 0!==e.i8?[3,2]:[4,e.Zmt.yM(t.Xwt)];case 1:return _.sent(),e.i8=new gY(t,e.jmt,o,e.zmt(),e.Dmt),e.i8.zo(yj.Ywt,e.Uo),[3,3];case 2:e.i8.gf(t,o,e.zmt(),n),_.label=3;case 3:if(0===(a=e.i8.Kdt).length)c=e.Cmt.slice(),Pc(e.Cmt);else{for(h=a[0].eg,f=0;f<e.Cmt.length&&e.Cmt[f].eg!==h;)f++;for(c=e.Cmt.splice(0,f),v=0;v<a.length;v++)d=a[v],v<e.Cmt.length?l=e.Cmt[v]:(l=new fY(e,d),u.push(l)),s.push(l.gf(e.Ymt,i))}return[4,j.all(s)];case 4:for(_.sent(),(r=e.Cmt).push.apply(r,Ce(u)),w=0;w<c.length;w++)c[w].dmt();return e.Ho(new tH),[2]}}))}))()},i.zmt=function(){return this.Zmt.zmt()},i.pmt=function(t){var n=this.Cmt.indexOf(t);if(n>0)return this.Cmt[n-1]},i.mmt=function(t){var n=this.Cmt.indexOf(t);if(n>=0&&n+1<this.Cmt.length)return this.Cmt[n+1]},i.qwt=function(){return this.i8?this.i8.qwt():void 0},i.u_t=function(){return this.i8&&this.i8.u_t()},i.smt=function(t){this.i8&&this.i8.smt(t)},i.bv=function(){this.qo(),this.qmt=void 0,this.Jmt(!1);for(var t=0,n=this.Cmt;t<n.length;t++){n[t].bv()}Pc(this.Cmt),this.i8&&this.i8.Io()},pe(n,[{key:"Dwt",get:function(){return this.i8&&this.i8.Dwt}},{key:"Pwt",get:function(){return this.i8&&this.i8.Pwt}},{key:"igt",get:function(){return this.i8&&this.i8.igt}},{key:"eg",get:function(){return this.i8&&this.i8.jr.eg}},{key:"Lmt",get:function(){var t;return null==(t=this.i8)?void 0:t.Lmt}},{key:"$mt",get:function(){var t;return null==(t=this.i8)?void 0:t.Mmt}},{key:"Bwt",get:function(){return this.i8?this.i8.Bwt.map((function(t){return t.href})):[this.nlt]}},{key:"nlt",get:function(){return this.jmt.href}},{key:"xwt",get:function(){return this.i8&&this.i8.jr.xwt}},{key:"Lwt",get:function(){return this.i8&&this.i8.jr.Lwt}},{key:"$dt",get:function(){return this.i8&&this.i8.jr.$dt}},{key:"Mwt",get:function(){return this.i8&&this.i8.jr.Mwt}},{key:"Fwt",get:function(){var t,n,i=(null==(t=null==(n=this.i8)?void 0:n.jr.Fwt)?void 0:t.Tlt())||0;return d.max(i,NY)}},{key:"Zy",get:function(){return this.Gst}},{key:"Kdt",get:function(){return this.Cmt}},{key:"tyt",get:function(){return this.Gs===jq.mI?this.b_t:this.nyt}},{key:"iyt",get:function(){var t=this.tyt;if(void 0!==t)for(var n=0,i=this.Kdt;n<i.length;n++){var e=i[n];if(e.SD<=t&&e.RD>t)return e}}},{key:"twt",get:function(){return this.i8&&this.i8.jr.twt}},{key:"Uwt",get:function(){return this.i8&&this.i8.Uwt}},{key:"Amt",get:function(){for(var t=this.Cmt.length-1;t>=0;t-=1){var n=this.Cmt[t].Amt;if(n)return n}}},{key:"b_t",get:function(){var t=this.Amt;if(void 0!==t){var n=t-this.eyt;return d.max(n,this.nyt)}}},{key:"nyt",get:function(){for(var t=0,n=this.Cmt;t<n.length;t++){var i=n[t].Wwt;if(void 0!==i)return i}}},{key:"Vl",get:function(){return Boolean(this.Gmt.Vl)}},{key:"eyt",get:function(){var t=this.i8&&this.i8.jr.Hwt;return t?t.Jdt():this.Gs===jq.mI?this.ryt:0}},{key:"ryt",get:function(){return this.Gmt.ryt?this.Gmt.ryt:1.5*this.Mwt.Jdt()}},{key:"Vlt",get:function(){return this.i8&&this.i8.Vlt}},{key:"Gs",get:function(){return this.i8?this.i8.Gs:void 0}}]),n}(oh),CY=function(){function t(t,n,i,e,r){this.fmt=new RY(t,n,i,e,r)}return pe(t,[{key:"e_t",get:function(){return this.fmt}}]),t}(),NY=1e3,DY=d.pow(2,31)-1,PY=function(){function t(t,n,i,e,r){this.uyt=new Wc;var u=this;this.syt=_a((function(t){var n,i,e;return ma(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),n=u.i8.e_t.zmt(),[4,u.oyt(u.i8.e_t.Bwt,t)];case 1:return i=r.sent(),[4,u.i8.e_t.gf(i,n,t)];case 2:return r.sent(),[3,4];case 3:throw qb(e=r.sent())&&u.i8.e_t.Jmt(!1),e;case 4:return[2]}}))})),this.ayt=e,this.i8=new CY(t,n,i,this.uyt.Lo,r)}var n=t.prototype;return n.Vw=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:n.i8.e_t.Ho(new TD),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,n.syt(t)];case 2:return e.sent(),n.i8.e_t.Jmt(!0),[3,4];case 3:throw Yc(i=e.sent()),n.cyt=void 0,n.i8.e_t.Jmt(!1),new h("The provided MPEG-DASH document could not be loaded - "+i.message);case 4:return n.hyt=n.fyt(n.uyt.Lo),[2]}}))}))()},n.fyt=function(t){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:i.trys.push([0,4,,5]),i.label=1;case 1:return n.i8.e_t.Gs!==jq.mI?[3,3]:[4,Zc(n.vyt,t)];case 2:return i.sent(),[3,1];case 3:return[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))()},n.dyt=function(t){var n=this;return _a((function(){var i,e;return ma(this,(function(r){switch(r.label){case 0:return jc(t),(i=n.lyt())>0?[4,rh(d.min(i,DY),t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,4,5,6]),[4,n.syt(t)];case 3:return r.sent(),n.i8.e_t.Jmt(!0),[3,6];case 4:throw e=r.sent(),new h("The provided MPEG-DASH manifest could not be loaded - "+e.message);case 5:return n.wyt=void 0,[7];case 6:return[2]}}))}))()},n.lyt=function(){var t=this.i8.e_t.zmt().getTime()-this.i8.e_t.Lmt.getTime();return this.i8.e_t.Fwt-t},n._yt=function(t){var n=this.i8.e_t.u_t();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.i8.e_t.smt(t);var e=this.i8.e_t.u_t();return e?e.getTime()-t.getTime():NaN},n.gyt=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:n.wyt||(n.wyt=n.dyt(t)),(i=new Wc).Oo(t),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,j.race([n.wyt,n.myt(i.Lo)].filter(er))];case 2:return e.sent(),[3,5];case 3:return Qc(e.sent()),[3,5];case 4:return i.Bo(),[7];case 5:return[2]}}))}))()},n.myt=function(t){var n=this.i8.e_t.zmt(),i=this._yt(n);if(!_(i)&&!this.M1.e_t.igt)return this.yyt(i,t)},n.yyt=function(t,n){var i=this;return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:return[4,rh(t,n)];case 1:return r.sent(),e=i.i8.e_t.zmt(),i.i8.e_t.smt(e),[2]}}))}))()},n.oyt=function(t,n){var i=this;return _a((function(){var e;return ma(this,(function(r){switch(r.label){case 0:return[4,i.ayt.plt(t,{},n)];case 1:return e=r.sent(),[2,(new wj).Xft(e.Alt,e.wl)]}}))}))()},n.bv=function(){return this.uyt.Bo(),this.hyt=void 0,this.cyt=void 0,this.wyt=void 0,this.i8.e_t.bv(),j.resolve()},pe(t,[{key:"M1",get:function(){return this.i8}},{key:"pyt",get:function(){return this.cyt||(this.cyt=this.Vw(this.uyt.Lo),nh(this.cyt)),this.cyt}},{key:"vyt",get:function(){return this.i8.e_t.$mt&&this.i8.e_t.Gs===jq.mI?this.gyt(this.uyt.Lo):this.pyt}}]),t}(),BY=function(){function t(t,n,i){this.ayt=t,this.Ayt=n,this.kyt=i}var n=t.prototype;return n.byt=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:if(!t.src)throw new h("Invalid typed source");return Vy(i=t.type)?[4,n.Tyt(t)]:[3,2];case 1:return[2,e.sent()];case 2:return zy(i)?[4,n.Syt(t)]:[3,4];case 3:return[2,e.sent()];case 4:throw new h("Unexpected source type");case 5:return[2]}}))}))()},n.Tyt=function(t){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,oG(t.src,n.ayt)];case 1:return[4,cG(i.sent(),n.ayt)];case 2:return[2,i.sent()];case 3:throw i.sent(),new h("Unable to fetch HLS manifest");case 4:return[2]}}))}))()},n.Syt=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,(i=new PY({Og:De.Ss(t.src),ryt:t.liveOffset,Kmt:t.timeServer,Vl:t.useCredentials},n.kyt,B_.Kl,n.ayt,t.dash)).pyt];case 1:return e.sent(),[4,Hq(i.M1.e_t,t.contentProtection,n.Ayt)];case 2:return[2,e.sent()];case 3:throw e.sent(),new h("Unable to fetch DASH manifest");case 4:return[2]}}))}))()},t}();me(),zt();var OY=function(){function t(t){this.Eyt=[],this.Iyt=0,this.Ryt=t}var n=t.prototype;return n.Cyt=function(){var t=new Mf;return this.Eyt.push(t),this.Nyt(),t.Fa},n.Dyt=function(t,n){var i=this;return _a((function(){return ma(this,(function(e){switch(e.label){case 0:return e.trys.push([0,,2,3]),[4,t];case 1:return e.sent(),[3,3];case 2:return i.Iyt-=1,i.Nyt(),0===i.Eyt.length&&0===i.Iyt&&n.Ua(!0),[7];case 3:return[2]}}))}))()},n.Nyt=function(){this.Eyt.length>0&&this.Iyt<this.Ryt&&(this.Eyt.shift().Ua(),this.Iyt+=1)},t}();var xY=function(t){function n(n,i,e,r,u,s,o,a){var c;(c=t.call(this)||this).DEFAULT_CACHING_SEGMENT_TIMEOUT=3e4,c.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT=0,c.Pyt=new Mf,c.Byt=Lq.Qdt,c.Oyt=n,c.cft=i,c.ayt=e,c.xyt=r,c.Lyt=u,c.Ayt=s,c.kyt=a,c.Cdt=o,c.Myt=-1;var h=c.Oyt.sD.sources[0];return c.Fyt=h,c.Zm=c.Sy(),c.Uyt=new OY(c.Oyt.xf.parallelTasksThreshold),c}ze(n,t);var i=n.prototype;return i.Sy=function(){var t=this;return _a((function(){var n,i,e,r,u,s,o,a,c,f,v,l,_,g,m,y,p,A,k,b,T,S,E,I,R,C,N,D,P,B,O;return ma(this,(function(x){switch(x.label){case 0:return[4,new BY(t.ayt,t.Ayt,t.kyt).byt(t.Fyt)];case 1:return t.Hyt=x.sent(),n=t.Oyt.xf.amount,i=t.Hyt.Am,e=function(t,n){if(cr(t)){if(ic(t,"%"))return w(t)/100*n;throw new h("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}(n,i),t.Vdt=e,u=LV(t.Hyt.tlt[0]),[4,t.cft.ift.$ht(u,"manifestURL")];case 2:for(s=x.sent().filter((function(n){return Dc(n.references,t.Oyt.eg)})),o=[],a=t.Oyt.xf.bandwidth,c=0,f=t.Hyt.Kdt;c<f.length;c++)for(v=f[c],l=0,_=v.elt;l<_.length;l++)for(g=_[l],m=0,y=FY(g,t.Oyt.xf.preferredTrackSelection);m<y.length;m++)for(p=y[m],A=0,k=HY(p.fg,a);A<k.length;A++)b=k[A],o.push(b);if(t.Myt=d.ceil(o.map((function(t){return t.NC*function(t,n){for(var i=0,e=0,r=t.HE.Y2.map((function(t){return t.Am}));e<r.length;e++)if((i+=r[e])>=n)return i;return i}(t,e)/8})).reduce((function(t,n){return t+n}),0)),T=Aa(),s&&0!==s.length){for(S=s.reduce((function(t,n){return t+n.byteSize}),0),E=0;E<s.length;E++)I=s[E],R=I.qualityId,C=new TI(I.startsAndEnds),T.has(R)?T.get(R).timeRanges=T.get(R).timeRanges.qD(C).WD(5e-4):(N=Ec(o,(function(t){return t.eg===R})),P=d.min(t.Vdt,null!=(D=null==N?void 0:N.HE.Am)?D:1/0),T.set(R,{timeRanges:C,totalQualityDurationToCache:P}));r=new Lq(S,T,t.Vdt)}else{for(B=0;B<o.length;B++)O=o[B],T.set(O.eg,{timeRanges:TI.hP(),totalQualityDurationToCache:d.min(O.HE.Am,t.Vdt)});r=new Lq(0,T,t.Vdt)}return t.Xyt=r,[2]}}))}))()},i.zyt=function(t){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return[4,n.Zm];case 1:return i.sent(),[4,n.Vyt(n.Hyt,t)];case 2:return i.sent(),[2]}}))}))()},i.Vyt=function(t,n){var i=this;return _a((function(){var e,r,u,s;return ma(this,(function(o){switch(o.label){case 0:if(!t.tlt)throw new h("Unexpected - manifest is missing locations");return[4,i.Wyt()];case 1:for(o.sent(),e=[],r=0,u=t.Kdt;r<u.length;r++)s=u[r],e.push(i.qyt(s,t.tlt[0],n));return[2,ih(e)]}}))}))()},i.Wyt=function(){var t=this;return _a((function(){var n,i,e,r,u;return ma(this,(function(s){switch(s.label){case 0:return[4,t.xyt.Kht()];case 1:n=s.sent(),i=0,s.label=2;case 2:return i<n.length?(e=n[i],[4,t.cft.eft.Sa(e.key)]):[3,9];case 3:return(r=s.sent())?[4,LY(r,t.Oyt.eg,t.cft.eft,t.Cdt)]:[3,5];case 4:return s.sent(),[3,8];case 5:return s.trys.push([5,7,,8]),[4,t.cft.eft.Yht(e,t.Cdt)];case 6:return s.sent(),[3,8];case 7:throw u=s.sent(),new Uq("Unable to store manifest with url: "+e.locationURL,u);case 8:return i++,[3,2];case 9:return[4,t.xyt.nft()];case 10:return s.sent(),[2]}}))}))()},i.qyt=function(t,n,i){for(var e=[],r=0,u=t.elt;r<u.length;r++)for(var s=FY(u[r],this.Oyt.xf.preferredTrackSelection),o=0;o<s.length;o++){var a=s[o];e.push(this.Gyt(a,n,i))}return ih(e)},i.Gyt=function(t,n,i){var e=this;return _a((function(){var r,u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:return r=e.Oyt.xf.bandwidth,u=HY(t.fg,r),t.Gs===Tp.Ll&&t.slt&&t.slt.FI.widevine&&"persistent"===t.slt.FI.widevine.licenseType?[4,e.jyt(t.slt)]:[3,2];case 1:c.sent(),jc(i),c.label=2;case 2:for(s=[],o=0;o<u.length;o++)a=u[o],s.push(e.Yyt(a,n,i));return[2,ih(s)]}}))}))()},i.Yyt=function(t,n,i){var e=this;return _a((function(){var r,u,s,o,a,c,h;return ma(this,(function(f){switch(f.label){case 0:jc(i),r=t.HE.Y2[0].kp,u=r+e.Vdt,s=[],o=!1,a=0,c=t.HE.Y2,f.label=1;case 1:return a<c.length?(h=c[a]).kp>=u||e.stopIfFailed(o)?[3,5]:[4,e.Qyt(i)]:[3,5];case 2:return f.sent(),[4,e.Uyt.Cyt()];case 3:f.sent(),s.push(e.Uyt.Dyt(e.Zyt(h,t,n),e.Pyt).catch((function(t){return o=!0,j.reject(t)}))),f.label=4;case 4:return a++,[3,1];case 5:return[2,ih(s)]}}))}))()},i.Qyt=function(t){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return(null==t?void 0:t.po)?[4,n.Pyt.Fa]:[3,2];case 1:throw i.sent(),new qc;case 2:return[2]}}))}))()},i.Kyt=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return[4,nh(t.Zm)];case 1:return n.sent(),[2,t.Hyt]}}))}))()},i.jyt=function(t){return j.resolve()},i.Jyt=function(){return De.$u("License renewal unsupported in this SDK."),j.resolve()},i.Zyt=function(t,n,i){var e=this;return _a((function(){var r,u,s,o,a,c,h,f;return ma(this,(function(v){switch(v.label){case 0:return r=e.cft.ift,u=MV(t.hlt._l,t.hlt.yot),[4,r.Sa(u)];case 1:return(s=v.sent())?[4,LY(s,e.Oyt.eg,r,e.Cdt)]:[3,3];case 2:return v.sent(),e.$yt(s,!1),[3,7];case 3:return v.trys.push([3,6,,7]),[4,e.tpt(t.hlt)];case 4:return o=v.sent(),a=e.npt(t,n,i,o),c=a.segmentMetadataEntry,h=a.segmentEntry,[4,e.cft.sft(_a((function(t){return ma(this,(function(n){switch(n.label){case 0:return[4,t.ift.Yht(c,e.Cdt)];case 1:return n.sent(),[4,t.Y2.Yht(h,e.Cdt)];case 2:return n.sent(),[2]}}))})))];case 5:return v.sent(),e.$yt(c,!0),[3,7];case 6:throw f=v.sent(),new Uq("Unable to store segment with url: "+t.hlt._l,f);case 7:return[2]}}))}))()},i.tpt=function(t){var n=this;return _a((function(){var i;return ma(this,(function(e){switch(e.label){case 0:return[4,n.Lyt.ipt(t,!1,n.DEFAULT_CACHING_SEGMENT_TIMEOUT,n.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT)];case 1:return i=e.sent(),[4,n.ept(i)];case 2:return[2,e.sent()]}}))}))()},i.ept=function(t){return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return[4,t.Wd()];case 1:return[2,{buffer:n.sent()}]}}))}))()},i.npt=function(t,n,i,e){var r=MV(t.hlt._l,t.hlt.yot),u=t.kp,s=t.Am,o=this.rpt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:LV(i),qualityId:n.eg,byteSize:o,startsAndEnds:new TI([u,u+s]).ND,references:[this.Oyt.eg]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:LV(i),data:e,references:[this.Oyt.eg]}}},i.rpt=function(t){return t.buffer.byteLength},i.$yt=function(t,n){var i=t.qualityId,e=this.Byt,r=e.ip;r.get(i).timeRanges=r.get(i).timeRanges.qD(new TI(t.startsAndEnds)).WD(5e-4),this.Xyt=new Lq(n?e.jdt+t.byteSize:e.jdt,r,this.Vdt)},i.stopIfFailed=function(t){return!1},pe(n,[{key:"Ldt",get:function(){return this.Sy()}},{key:"upt",get:function(){return this.Myt}},{key:"Xyt",get:function(){return this.Byt},set:function(t){this.Byt.Hp(t)||(this.Byt=t,t.Hp(Lq.Qdt)||this.Ho(new xq))}}]),n}(oh);function LY(t,n,i,e){return MY.apply(this,arguments)}function MY(){return(MY=_a((function(t,n,i,e){return ma(this,(function(r){switch(r.label){case 0:return Dc(t.references,n)?[3,2]:(t.references.push(n),[4,i.Yht(t,e)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))).apply(this,arguments)}function FY(t,n){switch(t.Gs){case Tp.xl:return UY(t.ET,n.audioTrackSelection);case Tp.dr:return UY(t.ET,n.textTrackSelection);default:return UY(t.ET,[])}}function UY(t,n){if(0===n.length)return t.length?[t[0]]:[];for(var i=[],e=0;e<t.length;e++){var r=t[e];n.indexOf(r.hg)>-1&&i.push(r)}return i}function HY(t,n){if(!t.length)return[];var i=Ce(t).sort(Bq),e=i.filter((function(t){return t.NC<=n}));return e.length>0?[e.pop()]:[i.shift()]}me(),zt(),me(),zt();var XY=function(){function t(t){this.yU=new Nw,this.hI=t}var n=t.prototype;return n.ll=function(t){var n=this,i=new Mf;return this.yU.pv((function(e){return n.spt(i,t,e)}),t.Lo).catch(lr),i.Fa},n.ql=function(t){return this.hI.ql(t)},n.spt=function(t,n,i){var e=this;return _a((function(){var r,u;return ma(this,(function(s){switch(s.label){case 0:return jc(i),r=new D_({_l:n._l,Lo:i},n),u=e.hI.ll(r),t.Oo(u),[4,u];case 1:return[4,s.sent().Jd()];case 2:return s.sent(),[2]}}))}))()},n.bv=function(){this.yU.bv()},t}();me(),zt();var zY=function(){function t(t,n){this.hI=t,this.apt=new XY(t),this.f7=n}var n=t.prototype;return n.ipt=function(t,n,i,e,r){return this.H5(t,n,!0,!1,i,e,r)},n.O9=function(t,n,i,e,r){return this.H5(t,n,!1,!1,i,r,e)},n.cpt=function(t,n,i,e,r){return this.H5(t,n,!1,!0,i,r,e)},n.H5=function(n,i,e,r,u,s,o){var a=this;return _a((function(){var c;return ma(this,(function(h){switch(h.label){case 0:return jc(o),[4,a.V9(n,e,r,u,s,o)];case 1:return c=h.sent(),i?[2,t.hpt(c)]:[2,a.fpt(c)]}}))}))()},n.fpt=function(t){return t},n.V9=function(t,n,i,e,r,u){var s,o=new D_({_l:t._l,fl:jw.Od,hl:t.yot?{Range:"bytes="+t.yot[0]+"-"+(null!=(s=t.yot[1])?s:"")}:void 0,Vl:t.Vl,Fl:k_.GET,Gs:T_.Tl,Xl:i?E_.Il:E_.Al,zl:this.f7,Ul:e,Hl:r,Lo:u});return n?this.apt.ll(o):this.hI.ll(o)},t.hpt=function(t){return t},t}();me(),zt();var VY={maxRetries:3,minimumBackoff:1e3,maximumBackoff:1/0},WY=function(){function t(t,n,i){void 0===i&&(i=VY),this.hI=t,this.Z6=n,this.qot=i}var n=t.prototype;return n.vpt=function(t,n,i){var e=this,r=this.qot.maxRetries===1/0?VY:this.qot;return kp((function(){return e.dpt(t,n,i)}),i,r.maxRetries,r.minimumBackoff,r.maximumBackoff)},n.dpt=function(t,n,i){var e=this;return _a((function(){var r,u,s,o,a,c;return ma(this,(function(h){switch(h.label){case 0:u=0,h.label=1;case 1:if(!(u<t.length))return[3,7];s=t[u],h.label=2;case 2:return h.trys.push([2,5,,6]),o=new D_({_l:s,fl:jw.dr,hl:n,Vl:e.Z6,Fl:k_.GET,Gs:T_.bl,Xl:E_.Al,Lo:i,Ul:3e4,Hl:5e3}),[4,e.hI.ll(o)];case 3:return[4,(a=h.sent()).zd(i)];case 4:return[2,{Alt:h.sent(),lpt:s,wl:a.wl}];case 5:return c=h.sent(),r=c,[3,6];case 6:return u++,[3,1];case 7:throw r}}))}))()},t}();me(),zt();var qY=function(){function t(t){this.wpt=t}return t.prototype.plt=function(t,n,i){var e=this;return _a((function(){var r,u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:u=0,s=e.wpt,c.label=1;case 1:if(!(u<s.length))return[3,6];o=s[u],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.plt(t,n,i)];case 3:return[2,c.sent()];case 4:return Yc(a=c.sent()),r=a,[3,5];case 5:return u++,[3,1];case 6:throw r}}))}))()},t}(),GY=function(){function t(t){this.Q6=t}return t.prototype.plt=function(t,n,i){var e=this;return _a((function(){var n;return ma(this,(function(i){switch(i.label){case 0:return[4,e.Q6.l8(t)];case 1:if(n=i.sent())return[2,{Alt:n.data,lpt:n.locationURL,wl:n.responseURL}];throw new h("Manifest fetch from cache unsuccesful")}}))}))()},t}(),jY=function(){function t(t){this._pt=t}return t.prototype.plt=function(t,n,i){var e=this;return _a((function(){return ma(this,(function(r){switch(r.label){case 0:return[4,e._pt.vpt(t,n,i)];case 1:return[2,r.sent()]}}))}))()},t}();var YY=function(){function t(t,n,i){this.ayt=t,this.Ndt=n,this.Oyt=i}var n=t.prototype;return n.plt=function(t,n,i){var e=this;return _a((function(){var r;return ma(this,(function(u){switch(u.label){case 0:return[4,e.ayt.plt(t,n,i)];case 1:return r=u.sent(),[4,e.gpt(r)];case 2:return u.sent(),[2,r]}}))}))()},n.gpt=function(t){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return[4,n.Ndt.Yht({key:LV(t.lpt),locationURL:x_(t.lpt),responseURL:x_(t.wl),data:t.Alt,references:[n.Oyt.eg]})];case 1:return i.sent(),[2]}}))}))()},t}();me(),zt(),me(),zt();var QY=function(){function t(t){this.hI=t}return t.prototype.Qgt=function(t,n,i,e){var r=this;return _a((function(){var u;return ma(this,(function(s){switch(s.label){case 0:return[4,r.hI.ll({_l:t,fl:jw.Od,hl:n?{Range:"bytes="+n[0]+"-"+(null!=(u=n[1])?u:"")}:void 0,Vl:i,Fl:k_.GET,Gs:T_.Al,Lo:e})];case 1:return[4,s.sent().Wd()];case 2:return[2,s.sent()]}}))}))()},t}();me(),zt(),me(),zt();var ZY=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).O8=n,r}return ze(n,t),n}(pu),KY=function(){function t(t){this.Q6=t}return t.prototype.Qgt=function(t,n,i,e){var r=this;return _a((function(){var i,e;return ma(this,(function(u){switch(u.label){case 0:return[4,r.Q6.w7(t,n)];case 1:return(i=u.sent())?[2,i.buffer]:n?[4,r.Q6.w7(t)]:[3,3];case 2:if(e=u.sent())return[2,Pf(new g(e.buffer),n[0],n[1])];u.label=3;case 3:throw new ZY({_l:t,yot:n,Vl:!1})}}))}))()},t}(),JY={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new TI([0,0]).ND,references:[]},$Y={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},tQ=function(t){function n(n,i,e,r,u){var s;return(s=t.call(this,n)||this).mpt=new QY(i),s.cft=e,s.ypt=r,s.Cdt=u,s}ze(n,t);var i=n.prototype;return i.Qgt=function(n,i,e,r){var u=this;return _a((function(){var s;return ma(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.prototype.Qgt.call(u,n,i,e,r)];case 1:return[2,o.sent()];case 2:return Yc(o.sent()),[3,3];case 3:return[4,u.mpt.Qgt(n,i,e,r)];case 4:return s=o.sent(),[4,u.ppt(n,i,s)];case 5:return o.sent(),[2,s]}}))}))()},i.ppt=function(t,i,e){var r=this;return _a((function(){var u,s,o,a,c,h,f,v;return ma(this,(function(d){switch(d.label){case 0:return void 0===r.ypt?[2]:(u=r.cft.ift,s=MV(t,i),[4,u.Sa(s)]);case 1:return(o=d.sent())?[4,LY(o,r.ypt,u,r.Cdt)]:[3,3];case 2:return d.sent(),[3,6];case 3:return d.trys.push([3,5,,6]),a={buffer:e},c=n.npt(s,a,r.ypt),h=c.segmentMetadataEntry,f=c.segmentEntry,[4,r.cft.sft(_a((function(t){return ma(this,(function(n){switch(n.label){case 0:return[4,t.ift.Yht(h,r.Cdt)];case 1:return n.sent(),[4,t.Y2.Yht(f,r.Cdt)];case 2:return n.sent(),[2]}}))})))];case 4:return d.sent(),[3,6];case 5:throw v=d.sent(),new Uq("Unable to store segment with url: "+t,v);case 6:return[2]}}))}))()},n.npt=function(t,n,i){return{segmentMetadataEntry:ga({},JY,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:ga({},$Y,{key:t,segmentURLsegmentByteRange:t,data:n,references:[i]})}},n}(KY);me(),zt();var nQ=function(t){function n(){return t.apply(this,arguments)}return ze(n,t),n.prototype.Apt=function(t,n,i,e,r,u,s){return new xY(t,n,i,e,r,u,s,(a=tr.Re||tr.Ee,c=void 0!==o&&void 0!==o.preferredAudioCodecs&&o.preferredAudioCodecs.some((function(t){return"ac-3"===t||"ec-3"===t})),h=a&&!c,_a((function(t){var n,i;return ma(this,(function(e){switch(e.label){case 0:return n=t.Gd,MediaSource.isTypeSupported(n)||Kb(t.ZO,t.h0)?(i=t.h0.some((function(t){return"ac-3"===t||"ec-3"===t})),h&&i?[2,!1]:t.l3?[4,Uc(Oc(t.l3,(function(t){return tc(t.o3)})).filter(er),(function(t){return De.As(t,n)}))]:[3,2]):[2,!1];case 1:if(!e.sent())return[2,!1];e.label=2;case 2:return[2,!0]}}))}))));var o,a,c,h},n}(function(){function t(t){this.hI=t}return t.prototype.RJ=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.sD.sources[0].useCredentials),r=new zY(this.hI,R_.Al),u=new WY(this.hI,e),s=new FV(n.eft,n.ift,n.Y2,n.uft),o=function(t,n,i,e,r){return new tQ(n,t,i,e,r)}(this.hI,s,n,t.eg,i),a=new YV,c=new YY(function(t,n){return new qY([new GY(n),new jY(t)])}(u,s),a,t);return this.Apt(t,n,c,a,r,o,i)},t}());function iQ(t){var n,i={get id(){return t.eg},get status(){return t.cl},get source(){return t.sD},get parameters(){return t.xf},get duration(){return t.Am},get cached(){return t.kpt.zN()},get secondsCached(){return t.bpt},get percentageCached(){return t.Tpt},get bytes(){return t.Spt},get bytesCached(){return t.Ept},get license(){return t.mx.d_},start:function(){t.SD()},pause:function(){t._y()},remove:function(){t._f()},addEventListener:function(t,i){n.zo(t,i)},removeEventListener:function(t,i){n.Go(t,i)}};return n=new zN(t,["Xdt","_dt"],i),i}me(),zt(),me(),zt(),Ae(),me(),zt(),me(),zt(),me(),zt(),Oe();var eQ=function(){function t(t,n,i){this.Oyt=t,this.cft=n,this.Hyt=i}var n=t.prototype;return n.Ipt=function(){var t=this;return _a((function(){return ma(this,(function(n){switch(n.label){case 0:return[4,t.cft.sft(_a((function(n){return ma(this,(function(i){switch(i.label){case 0:return[4,t.Rpt(n)];case 1:return i.sent(),[4,t.Cpt(n)];case 2:return i.sent(),[4,t.Npt(n)];case 3:return i.sent(),[4,t.Dpt(n)];case 4:return i.sent(),[2]}}))})))];case 1:return n.sent(),[2]}}))}))()},n.Rpt=function(t){var n=this;return _a((function(){var i,e;return ma(this,(function(r){switch(r.label){case 0:return i=t.rft,e=n.Oyt.eg,[4,i._f(e)];case 1:return r.sent(),[2]}}))}))()},n.Cpt=function(t){var n=this;return _a((function(){var i,e,r,u,s,o,a;return ma(this,(function(c){switch(c.label){case 0:return i=t.ift,e=t.Y2,Yy(r=n.Oyt.sD.sources[0])?(u=LV(r.src),[4,i.$ht(u,"manifestURL")]):[2];case 1:s=c.sent().filter((function(t){return Dc(t.references,n.Oyt.eg)})),o=0,c.label=2;case 2:return o<s.length?(Cc((a=s[o]).references,n.Oyt.eg),0!==a.references.length?[3,5]:[4,i._f(a.key)]):[3,8];case 3:return c.sent(),[4,e._f(a.key)];case 4:return c.sent(),[3,7];case 5:return[4,i.Yht(a)];case 6:c.sent(),c.label=7;case 7:return o++,[3,2];case 8:return[2]}}))}))()},n.Npt=function(t){var n=this;return _a((function(){var i,e,r,u,s;return ma(this,(function(o){switch(o.label){case 0:return i=t.eft,e=n.Ppt(),[4,i.Ght(e)];case 1:r=o.sent().filter((function(t){return Dc(t.references,n.Oyt.eg)})),u=0,o.label=2;case 2:return u<r.length?(Cc((s=r[u]).references,n.Oyt.eg),0!==s.references.length?[3,4]:[4,i._f(s.key)]):[3,7];case 3:return o.sent(),[3,6];case 4:return[4,i.Yht(s)];case 5:o.sent(),o.label=6;case 6:return u++,[3,2];case 7:return[2]}}))}))()},n.Ppt=function(){if(!this.Hyt)return[];var t=this.Oyt.sD.sources[0];if(!Yy(t))return[];var n=LV(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.Kdt;i<e.length;i++)for(var r=0,u=e[i].elt;r<u.length;r++)for(var s=0,o=u[r].ET;s<o.length;s++)for(var a=0,c=o[s].fg;a<c.length;a++){var h=c[a];h.klt&&n.push(h.klt)}return n.reduce((function(t,n){return t.indexOf(n)<0&&t.push(n),t}),[])}(this.Hyt).map((function(t){return{src:t}})).map((function(t){return LV(t.src)}));return[n].concat(Ce(i))},n.Dpt=function(t){var n=this;return _a((function(){var i,e,r,u;return ma(this,(function(s){switch(s.label){case 0:return[4,(i=t.uft).Kht()];case 1:e=s.sent().filter((function(t){return Dc(t.references,n.Oyt.eg)})),r=0,s.label=2;case 2:return r<e.length?(Cc((u=e[r]).references,n.Oyt.eg),0!==u.references.length?[3,4]:[4,i._f(u.key)]):[3,7];case 3:return s.sent(),n.Bpt(u),[3,6];case 4:return[4,i.Yht(u)];case 5:s.sent(),s.label=6;case 6:return r++,[3,2];case 7:return[2]}}))}))()},n.Bpt=function(t){},t}(),rQ=new(function(){function t(){}return t.prototype.RJ=function(t,n,i){return new eQ(t,n,i)},t}());me(),zt(),Ae(),me(),zt();var uQ=function(){function t(t,n){this.qw=t,this.Opt=n}var n=t.prototype;return n.xpt=function(t){this.Lpt(t)},n.Lpt=function(t){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.Opt.Jyt(t)];case 1:return i.sent(),[3,3];case 2:return i.sent(),n.qw.Pdt(pq.ERROR),[3,3];case 3:return[2]}}))}))()},pe(t,[{key:"d_",get:function(){var t;return this.v_||(this.v_=(t=this,{renew:function(n){t.xpt(n)}})),this.v_}}]),t}(),sQ=function(t){function n(n,i,e,r,u,o){var a;(a=t.call(this)||this).Mpt=new Wc,a.evictOnLoading=function(){a.Go("_dt",a.evictOnLoading),a.Fpt()},a.tf=n,a.kst=i,a.Upt=e,a.cft=r,a.Opt=u.RJ(mu(a),a.cft,o),a.Hpt=new uQ(mu(a),a.Opt),a.Idt=1===a.Opt.Xyt.Ydt?pq.DONE:pq.IDLE,a.Opt.zo("Xdt",(function(t){a.Uo(t),1===a.Tpt&&a.Pdt(pq.DONE)}));var c=new Date,h=a.Upt.expirationDate.getTime()-c.getTime();return h<2147483647&&s((function(){return a.Fpt()}),h),a}ze(n,t);var i=n.prototype;return i.Pdt=function(t){this.Idt!==t&&(this.Idt=t,this.Ho(new kq))},i.SD=function(){this.Idt===pq.EVICTED||this.Idt===pq.DONE||this.Xpt()},i.Xpt=function(){var t=this;return _a((function(){var n;return ma(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),t.Pdt(pq.LOADING),n=new Wc,t.Mpt=n,[4,t.Opt.zyt(n.Lo)];case 1:return i.sent(),t.Pdt(pq.DONE),[3,4];case 2:return Gc(i.sent())?t.Pdt(pq.IDLE):t.Pdt(pq.ERROR),[3,4];case 3:return t.Mpt.Io(),[7];case 4:return[2]}}))}))()},i._y=function(){this.Mpt.Bo()},i._f=function(){this.cl===pq.LOADING?(this.zo("_dt",this.evictOnLoading),this._y()):this.Fpt()},i.Fpt=function(){var t=this;return _a((function(){var n;return ma(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,t.Opt.Kyt()];case 1:return n=i.sent(),[4,rQ.RJ(t,t.cft,n).Ipt()];case 2:return i.sent(),t.Opt.Xyt=Lq.Qdt,t.Pdt(pq.EVICTED),[3,4];case 3:return i.sent(),t.Pdt(pq.ERROR),[3,4];case 4:return[2]}}))}))()},pe(n,[{key:"Ldt",get:function(){return this.Opt.Ldt}},{key:"d_",get:function(){return this.v_||(this.v_=iQ(this)),this.v_}},{key:"eg",get:function(){return this.tf}},{key:"mx",get:function(){return this.Hpt}},{key:"cl",get:function(){return this.Idt}},{key:"sD",get:function(){return this.kst}},{key:"xf",get:function(){return this.Upt}},{key:"Am",get:function(){return this.Opt.Xyt.uP}},{key:"kpt",get:function(){return this.Opt.Xyt.Gdt}},{key:"bpt",get:function(){return this.Opt.Xyt.qdt}},{key:"Tpt",get:function(){return this.Opt.Xyt.Ydt}},{key:"Spt",get:function(){return this.Opt.upt}},{key:"Ept",get:function(){return this.Opt.Xyt.jdt}}]),n}(py);var oQ=function(){function t(t,n){this.cft=t,this.zpt=n}var n=t.prototype;return n.Mdt=function(t,n,i){var e=OC();return this.Odt(e,t,n,i)},n.Odt=function(t,n,i,e){return new sQ(t,n,i,this.cft,this.zpt,e)},t}();me(),zt();function aQ(t){if(!t)throw new h("Unexpected - The cache parameters are undefined");var n=function(t){if(cr(t)&&!ic(t,"%"))return l(t);return t}(t.amount);!function(t){if(i=t,cr(i)&&ic(i,"%")){var n=w(t);if(_(n)||n<0||n>100)throw new h("The amount as percentage must be between 0 and 100 percent.")}var i;if(!cr(t)&&_(t))throw new h("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+30),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(vr(n)&&n>new Date)))throw new h("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);!function(t){if(_(t)||t<0)throw new h("The bandwidth must be between zero and infinity.")}(e);return{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return 5;if(_(t))throw new h("The amount must be a number");return t}(t.numberOfParallelTasks),preferredTrackSelection:{audioTrackSelection:[],textTrackSelection:[]}}}me(),zt();var cQ=function(t){function n(n,i){var e;return(e=t.call(this)||this).Vpt=n,e.k$=i,e.Vpt.zo("_dt",e.Uo),e}return ze(n,t),n.prototype.Wpt=function(t,n,i){var e,r;if(void 0===i&&(i="persistent"),!t)throw new h("Unexpected - The source description is undefined");if(e=ZR(t),r=aQ(n),MR(e))throw new h("Invalid source description");return this.Vpt.Odt(e,r).d_},pe(n,[{key:"d_",get:function(){var t,n,i;return this.v_||(this.v_=(i={get status(){return t.cl},get tasks(){return t.Hdt},get network(){return t.P$.d_},createTask:function(n,i){return t.Wpt(n,i)},addEventListener:function(t,i){n.zo(t,i)},removeEventListener:function(t,i){n.Go(t,i)}},n=new VN(t=this,i),i)),this.v_}},{key:"cl",get:function(){return this.Vpt.cl}},{key:"Hdt",get:function(){return this.Vpt.Hdt.d_}},{key:"P$",get:function(){return this.k$}}]),n}(py);var hQ,fQ,vQ,dQ,lQ,wQ;(hQ=new SN(De.o_,!1),fQ=tW.Ze,vQ=new nQ(hQ),dQ=new oQ(fQ,vQ),lQ=new CN(hQ),wQ=new Pq(fQ.rft,dQ,"persistent"),new cQ(wQ,lQ)).d_;me(),zt(),Ae(),me(),zt(),Ae();var _Q=function(t){function n(n,i,e,r){var u;return(u=t.call(this)||this).Mc=0,u.qpt=TI.hP(),u.Gpt=0,u.jpt=0,u.tf=n,u.Idt=pq.IDLE,u.kst=i,u.Upt=e,u.Vpt=r,u}ze(n,t);var i=n.prototype;return i.SD=function(){this.Vpt.startCachingTask(this)},i._f=function(){this.Vpt.removeCachingTask(this)},pe(n,[{key:"d_",get:function(){return this.v_||(this.v_=iQ(this)),this.v_}},{key:"eg",get:function(){return this.tf}},{key:"cl",get:function(){return this.Idt},set:function(t){this.Idt!==t&&(this.Idt=t,this.Ho(new kq))}},{key:"sD",get:function(){return this.kst}},{key:"xf",get:function(){return this.Upt}},{key:"Am",get:function(){return this.Mc},set:function(t){this.Mc=t}},{key:"kpt",get:function(){return this.qpt},set:function(t){this.qpt=t}},{key:"bpt",get:function(){return this.Gpt},set:function(t){this.Gpt=t}},{key:"Tpt",get:function(){return this.jpt},set:function(t){this.jpt=t,this.Ho(new xq)}}]),n}(Ay);me(),zt();function gQ(t){var n,i,e;if(!t)throw new h("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+30),n&&((i=n)&&!(vr(i)&&i>new Date)))throw new h("Invalid expiration date for the cache parameters");return{expirationDate:n,allowsCellularAccess:null==(e=t.allowsCellularAccess)||e}}var mQ=function(t){function n(){var n;return(n=t.call(this)||this).Idt=Iq.UNINITIALISED,n.fv=new Dq,n.Ypt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.cl=pq.EVICTED,i.Tpt=0,i.bpt=0,i.Am=0,i.kpt=TI.hP(),n.fv._f(i))}},n.Qpt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.cl=e);var r=t.detail.percentage;r&&(i.Tpt=r);var u=t.detail.duration;u&&(i.Am=u);var s=t.detail.seconds;s&&(i.bpt=s);var o=t.detail.cached;if(o){for(var a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}i.kpt=new TI(a)}}}},n.Zpt=function(t){if(t.detail){var i=ZR(JSON.parse(t.detail.source));if(!n.Kpt(i)){var e,r={},u=t.detail.expirationDate;u&&(r={expirationDate:new Date(u)}),r=ga({},r,{allowsCellularAccess:null==(e=t.detail.allowsCellularAccess)||e});var s=t.detail.uuid;n.Odt(i,gQ(r),s)}}},n.Jpt=function(t){if(t.detail){var i,e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)}),e=ga({},e,{allowsCellularAccess:null==(i=t.detail.allowsCellularAccess)||i});var u=JSON.parse(t.detail.source),s=t.detail.uuid,o=n.Odt(ZR(u),gQ(e),s);o.cl=t.detail.status,o.Tpt=t.detail.percentage,o.Am=t.detail.duration,o.bpt=t.detail.seconds;for(var a=t.detail.cached,c=[],h=0;h<a.length;h++){var f=a[h];c.push(f.start,f.end)}o.kpt=new TI(c)}},n.$pt=function(t){t.detail&&n.Pdt(t.detail.status)},n.tvt=new wq,n.kvt=new WW,UW().cache={sdkEventBus:n.kvt},n.fdt(),n}ze(n,t);var i=n.prototype;return i.Pdt=function(t){this.Idt!==t&&(this.Idt=t,this.Ho(new kq))},i.Odt=function(t,n,i){void 0===i&&(i=void 0);var e=new _Q(i||OC(),t,n,this);return this.fv.ep(e),i||this.tvt.lJ("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e.eg}),e},i.findTaskWithId=function(t){for(var n=0,i=this.fv.mdt;n<i.length;n++){var e=i[n];if(e.eg===t)return e}},i.Kpt=function(t){for(var n=pQ(t.sources),i=0,e=this.fv.mdt;i<e.length;i++){if(pQ(e[i].sD.sources).src===n.src)return!0}return!1},i.fdt=function(){this.kvt.addEventListener("deleteTask",this.Ypt),this.kvt.addEventListener("updateValues",this.Qpt),this.kvt.addEventListener("newTask",this.Zpt),this.kvt.addEventListener("restoreTask",this.Jpt),this.kvt.addEventListener("setCacheStatus",this.$pt)},i.startCachingTask=function(t){this.tvt.lJ("THEOplayerCacheStartCachingTask",{id:t.eg})},i.removeCachingTask=function(t){this.tvt.lJ("THEOplayerCacheRemoveCachingTask",{id:t.eg})},pe(n,[{key:"cl",get:function(){return this.Idt}},{key:"Hdt",get:function(){return this.fv}}]),n}(oh),yQ=function(t){function n(n){var i;return(i=t.call(this,n)||this).tAt=n,i.tAt.zo("_dt",i.Uo),i}return ze(n,t),n.prototype.Wpt=function(t,n){var i,e;if(!t)throw new h("Unexpected - The source description is undefined");if(i=ZR(t),e=gQ(n),MR(i))throw new h("Invalid source description");if(!pQ(i.sources))throw new h("The provided sources can't be cached");return this.tAt.Odt(i,e).d_},n}(cQ);function pQ(t){for(var n=0;n<t.length;n++){var i=t[n];if(Vy(i.type))return i}}var AQ,kQ,bQ,TQ,SQ,EQ=function(){var t=new mQ;return new yQ(t)}().d_;me(),zt(),Ae(),me(),zt(),(kQ=AQ||(AQ={})).nAt="any",kQ.iAt="natural",kQ.eAt="landscape",kQ.rAt="portrait",kQ.uAt="portrait-primary",kQ.sAt="portrait-secondary",kQ.oAt="landscape-primary",kQ.aAt="landscape-secondary",me(),zt(),(TQ=bQ||(bQ={})).uAt="portrait-primary",TQ.sAt="portrait-secondary",TQ.oAt="landscape-primary",TQ.aAt="landscape-secondary";var IQ,RQ,CQ,NQ,DQ=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).tvt=new wq,n.cAt=AQ.iAt,n.hAt=bQ.uAt,n.fAt=bQ.uAt,n.vAt=bQ.uAt,n}ze(n,t);var e=n.prototype;return e.lock=function(t){var n=this;return new i.Promise((function(i,e){n.cAt=t,n.tvt.lJ("THEOplayerOrientationLock",t),n.dAt(),i()}))},e.unlock=function(){var t=this;return new i.Promise((function(n,i){t.cAt=AQ.iAt,t.tvt.lJ("THEOplayerOrientationUnlock"),t.type=t.fAt,t.dAt(),n()}))},e.dAt=function(){var t=this.vAt,n=this.type;t!==n&&(this.vAt=n,this.Ho(new fh("change")))},e.addEventListener=function(t,n){this.zo(t,n)},e.removeEventListener=function(t,n){this.Go(t,n)},n.lAt=function(t){switch(t){case AQ.uAt:return[bQ.uAt];case AQ.sAt:return[bQ.sAt];case AQ.rAt:return[bQ.uAt,bQ.sAt];case AQ.oAt:return[bQ.oAt];case AQ.aAt:return[bQ.aAt];case AQ.eAt:return[bQ.oAt,bQ.aAt];case AQ.iAt:return[bQ.uAt,bQ.oAt,bQ.aAt];case AQ.nAt:return[bQ.uAt,bQ.sAt,bQ.oAt,bQ.aAt]}},n.wAt=function(t,i){return n.lAt(i).indexOf(t)>=0},pe(n,[{key:"type",get:function(){return this.hAt},set:function(t){this.fAt=t,n.wAt(t,this.cAt)?(this.hAt=t,this.dAt()):(t===bQ.oAt&&this.cAt===AQ.aAt&&(this.hAt=bQ.aAt,this.dAt()),t===bQ.aAt&&this.cAt===AQ.oAt&&(this.hAt=bQ.oAt,this.dAt()))}},{key:"angle",get:function(){switch(this.type){case bQ.oAt:return-90;case bQ.aAt:return 90;case bQ.uAt:return 0;case bQ.sAt:return 180;default:return 0}}}]),n}(Ay);DQ.Ze=new DQ,null!=(SQ=i.screen).orientation||(SQ.orientation=DQ.Ze),me(),zt(),u&&-1===u.userAgent.indexOf("OS 9")&&v.defineProperty(i,"orientation",{get:function(){return i.screen.orientation.angle}}),i.screen.orientation.addEventListener("change",(function(){i.dispatchEvent(new CustomEvent("orientationchange"))})),me(),zt(),me(),zt(),(RQ=IQ||(IQ={}))._At="unavailable",RQ.gAt="available",RQ.mAt="presenting",HL((function(t){return function(t){function n(n,i){return t.call(this,n,i)}return ze(n,t),n.prototype.py=function(n){t.prototype.py.call(this,n);var i=this.d_;if(this.d_.vr&&n&&n.vr){i.vr.addEventListener("statechange",(function(){i.vr.state===IQ.mAt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(AQ.aAt).catch((function(t){console.error("screen.orientation.lock() failed due to",t.message)})):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()}))}},n}(t)}),PL.O$),me(),zt(),me(),zt(),me(),zt(),me(),zt(),(NQ=CQ||(CQ={})).a_="addtrack",NQ.h_="removetrack",NQ.E_="change",NQ.P_="update";var PQ=function(t,n,i){this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i,this.type=CQ.E_};me(),zt();var BQ=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=CQ.a_};me(),zt();var OQ=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=CQ.h_};me(),zt();var xQ=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=CQ.P_},LQ=function(){function t(t,n,i){var e=this;this.yAt=function(t){var n=new PQ(e.type,t.track,e.mediaTracks);e.messageDispatcher.pAt(n)},this.AAt=function(t){var n=new BQ(e.type,t.track);e.messageDispatcher.pAt(n),t.track.addEventListener("update",e.kAt)},this.bAt=function(t){var n=new OQ(e.type,t.track);e.messageDispatcher.pAt(n)},this.kAt=function(t){var n=new xQ(e.type,t.track);e.messageDispatcher.pAt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.fdt()}return t.prototype.fdt=function(){this.mediaTracks.addEventListener("change",this.yAt),this.mediaTracks.addEventListener("addtrack",this.AAt),this.mediaTracks.addEventListener("removetrack",this.bAt)},t}();me(),zt();var MQ=function(){function t(){this.TAt=new wq}return t.prototype.pAt=function(t){this.TAt.lJ(t.type,hW(t))},t}();VL((function(t){if(t.d_.audioTracks){var n=new MQ;new LQ("audio",t.d_.audioTracks,n)}if(t.d_.videoTracks){var i=new MQ;new LQ("video",t.d_.videoTracks,i)}})),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt();var FQ,UQ,HQ="nativePromiseCallback",XQ=function(t){function n(n){var i;return(i=t.call(this,HQ)||this).detail=n,i}return ze(n,t),n}(fh);(UQ=FQ||(FQ={})).RESOLVE="NATIVE_PROMISE_RESOLVE",UQ.REJECT="NATIVE_PROMISE_REJECT";var zQ=function(t){function n(){return t.apply(this,arguments)}ze(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Ho(new XQ(n))},i.addEventListener=function(t,n){this.zo(t,n)},i.removeEventListener=function(t,n){this.Go(t,n)},n}(WW),VQ=C(xe()),WQ=function(){function t(){var t=this;this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new h("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case FQ.RESOLVE:i.Ua(n.detail.data);break;case FQ.REJECT:i.Ha(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new zQ;UW().nativePromise={sdkEventBus:n},n.addEventListener(HQ,this.handleNativePromiseEvent)}return t.prototype.SAt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=ga({},n,{promiseId:e}),u=new Mf;return this.promisesMap[e]=u,null==(i=this.TAt)||i.lJ(n.type,(0,VQ.default)(r)),u.Fa},t}();WQ.messageIdTracker=-1;var qQ=function(t){function n(){var n;return(n=t.call(this)||this).TAt=new wq,n}return ze(n,t),n}(WQ);me(),zt(),me(),zt();var GQ,jQ,YQ=function(){function n(t){this.playerID=t}return n.prototype.lJ=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),QQ=function(t){function n(n){var i;return(i=t.call(this)||this).TAt=new YQ(n),i}return ze(n,t),n}(WQ);me(),zt(),me(),zt(),(jQ=GQ||(GQ={})).a_="TextTrackListAddTrack",jQ.h_="TextTrackListRemoveTrack",jQ.E_="TextTrackListChange";var ZQ=function(t){this.textTrack=t,this.type=GQ.a_};me(),zt();var KQ=function(t){this.textTrack=t,this.type=GQ.h_};me(),zt();var JQ,$Q,tZ=function(t){this.textTrack=t,this.type=GQ.E_};me(),zt(),me(),zt(),me(),zt(),($Q=JQ||(JQ={})).__="TextTrackAddCue",$Q.m_="TextTrackRemoveCue",$Q.p_="TextTrackEnterCue",$Q.k_="TextTrackExitCue",$Q.T_="TextTrackCueChange";var nZ=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=JQ.__};me(),zt();var iZ=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=JQ.m_};me(),zt();var eZ=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=JQ.p_};me(),zt();var rZ=function(t,n){this.textTrackCue=t,this.textTrackUid=n,this.type=JQ.k_};me(),zt();var uZ,sZ,oZ=function(t){this.textTrackUid=t,this.type=JQ.T_};me(),zt(),me(),zt(),me(),zt(),(sZ=uZ||(uZ={})).gp="TextTrackCueEnter",sZ.yp="TextTrackCueExit",sZ.P_="TextTrackCueUpdate";var aZ=function(t){this.textTrackCue=t,this.type=uZ.gp};me(),zt();var cZ=function(t){this.textTrackCue=t,this.type=uZ.yp};me(),zt();var hZ=function(t){this.textTrackCue=t,this.type=uZ.P_},fZ=function(){function t(t){var n=this;this.EAt=function(t){var i=vZ(t.cue),e=new aZ(i);n.messageDispatcher.SAt(e).then()},this.IAt=function(t){var i=vZ(t.cue),e=new cZ(i);n.messageDispatcher.SAt(e).then()},this.RAt=function(t){var i=vZ(t.cue),e=new hZ(i);n.messageDispatcher.SAt(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.fdt=function(t){t.addEventListener("enter",this.EAt),t.addEventListener("exit",this.IAt),t.addEventListener("update",this.RAt)},n.Yo=function(t){t.removeEventListener("enter",this.EAt),t.removeEventListener("exit",this.IAt),t.removeEventListener("update",this.RAt)},t}();function vZ(t){var n=NW(t,t.track.type);return delete n.track,n}var dZ=function(){function t(t,n){var i=this;this.CAt=function(t){var n,e=vZ(t.cue),r=new nZ(e,t.cue.track.uid);i.messageDispatcher.SAt(r).then(),null==(n=i.textTrackCueBridge)||n.fdt(t.cue)},this.NAt=function(t){var n,e=vZ(t.cue),r=new iZ(e,t.cue.track.uid);i.messageDispatcher.SAt(r).then(),null==(n=i.textTrackCueBridge)||n.Yo(t.cue)},this.EAt=function(t){var n=vZ(t.cue),e=new eZ(n,t.cue.track.uid);i.messageDispatcher.SAt(e).then()},this.IAt=function(t){var n=vZ(t.cue),e=new rZ(n,t.cue.track.uid);i.messageDispatcher.SAt(e).then()},this.DAt=function(t){var n=new oZ(t.track.uid);i.messageDispatcher.SAt(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new fZ(e))}var n=t.prototype;return n.fdt=function(t){t.addEventListener("addcue",this.CAt),t.addEventListener("removecue",this.NAt),t.addEventListener("entercue",this.EAt),t.addEventListener("exitcue",this.IAt),t.addEventListener("cuechange",this.DAt)},n.Yo=function(t){t.removeEventListener("addcue",this.CAt),t.removeEventListener("removecue",this.NAt),t.removeEventListener("entercue",this.EAt),t.removeEventListener("exitcue",this.IAt),t.removeEventListener("cuechange",this.DAt)},n.initMessageDispatcher=function(t){return tr.Ge?new qQ:tr.je&&void 0!==t?new QQ(t):void 0},t}(),lZ=function(){function t(t,n,i){var e=this;this.AAt=function(t){var n,i=new ZQ(t.track);e.messageDispatcher.SAt(i).then(),null==(n=e.textTrackBridge)||n.fdt(t.track)},this.bAt=function(t){var n,i=new KQ(t.track);e.messageDispatcher.SAt(i).then(),null==(n=e.textTrackBridge)||n.Yo(t.track)},this.PAt=function(t){var n=new tZ(t.track);e.messageDispatcher.SAt(n).then()},this.BAt=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter((function(t){return t.uid===n}))[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.OAt(i);r&&(this.textTrackBridge=new dZ(r,i)),this.fdt(),this.sdkEventBus=new WW,UW().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.BAt)}var n=t.prototype;return n.fdt=function(){this.textTracks.addEventListener("addtrack",this.AAt),this.textTracks.addEventListener("removetrack",this.bAt),this.textTracks.addEventListener("change",this.PAt)},n.OAt=function(t){return tr.Ge?new qQ:tr.je&&void 0!==t?new QQ(t):void 0},t}();VL((function(t){if(t.d_.textTracks){var n=new qQ;new lZ(t.d_.textTracks,n)}})),me(),zt(),Ae(),me(),zt(),me(),zt();var wZ,_Z,gZ,mZ=function(t){function n(){return t.apply(this,arguments)}return ze(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case"registerContentProtectionIntegration":var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Ho(new yZ(i));break;default:0}},n}(WW),yZ=function(t){function n(n){var i;return(i=t.call(this,"registerContentProtectionIntegration")||this).detail=n,i}return ze(n,t),n}(fh);(wZ||(wZ={})).xAt="registerContentProtectionIntegration",me(),zt(),me(),zt(),(gZ=_Z||(_Z={})).LAt="certifiateRequest",gZ.MAt="certifiateResponse",gZ.FAt="licenseRequest",gZ.UAt="licenseResponse",gZ.HAt="extractFairplayContentId",gZ.XAt="buildContentProtection",gZ.zAt="registerContentProtectionCallback";var pZ,AZ,kZ=function(t,n){this.value=t,this.integrationId=n,this.type=_Z.zAt};me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),me(),zt(),(AZ=pZ||(pZ={})).GALLERY="gallery",AZ.OVERLAY="overlay",AZ.SPOTLIGHT="spotlight",me(),zt();var bZ=function(t,n){this.value=t,this.integrationId=n,this.type=_Z.XAt};me(),zt();var TZ=function(t,n){this.value=t,this.integrationId=n,this.type=_Z.LAt};me(),zt();var SZ=function(t,n){this.value=t,this.integrationId=n,this.type=_Z.MAt};me(),zt();var EZ=function(t,n){this.value=t,this.integrationId=n,this.type=_Z.HAt};me(),zt();var IZ=function(t,n){this.value=t,this.integrationId=n,this.type=_Z.FAt};me(),zt();var RZ=function(t,n){this.value=t,this.integrationId=n,this.type=_Z.UAt},CZ=function(){function t(t,n){this.VAt=t,this.mR=n}var n=t.prototype;return n.onCertificateRequest=function(t){var n=this;return _a((function(){var i,e,r,u,s;return ma(this,(function(o){switch(o.label){case 0:i=n.toCertificateRequestDTO(t),e=new TZ(i,n.mR),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n.VAt.SAt(e)];case 2:if(r=o.sent()){if(u=JSON.parse(r),n.WAt(u))return[2,ga({},u)];if(n.qAt(u))return[2,new g(u)]}throw new tA(gw.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 3:throw s=o.sent(),new tA(gw.CONTENT_PROTECTION_CERTIFICATE_ERROR,s);case 4:return[2]}}))}))()},n.onCertificateResponse=function(t){var n=this;return _a((function(){var i,e,r,u,s;return ma(this,(function(o){switch(o.label){case 0:return i=n.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new SZ(e,n.mR),[4,n.VAt.SAt(r)];case 1:if(u=o.sent())return s=JSON.parse(u),[2,new g(s)];throw new tA(gw.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse")}}))}))()},n.onLicenseRequest=function(t){var n=this;return _a((function(){var i,e,r,u,s,o;return ma(this,(function(a){switch(a.label){case 0:i=n.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new IZ(e,n.mR),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.VAt.SAt(r)];case 2:if(u=a.sent()){if(s=JSON.parse(u),n.WAt(s))return[2,{url:s.url,method:s.method,headers:s.headers,body:s.body?new g(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl}];if(n.qAt(s))return[2,new g(s)]}throw new tA(gw.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 3:throw o=a.sent(),new tA(gw.CONTENT_PROTECTION_CERTIFICATE_ERROR,o);case 4:return[2]}}))}))()},n.onLicenseResponse=function(t){var n=this;return _a((function(){var i,e,r,u,s,o;return ma(this,(function(a){switch(a.label){case 0:return i=n.toCertificateRequestDTO(t.request),e=ga({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},u=new RZ(r,n.mR),[4,n.VAt.SAt(u)];case 1:if(s=a.sent())return o=JSON.parse(s),[2,new g(o)];throw new tA(gw.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse")}}))}))()},n.extractFairplayContentId=function(t){var n=this;return _a((function(){var i,e;return ma(this,(function(r){switch(r.label){case 0:return i=new EZ(t,n.mR),[4,n.VAt.SAt(i)];case 1:return(e=r.sent())?[2,e]:[2,j.reject(new tA(gw.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId"))]}}))}))()},n.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},n.WAt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},n.qAt=function(t){return!!new g(t)},t}(),NZ=function(){function t(t){this.VAt=t}return t.prototype.build=function(t){if(!t.integration)throw new h("integrationId is undefined");var n=new CZ(this.VAt,t.integration),i=new bZ({drmConfiguration:t},t.integration);return this.VAt.SAt(i),n},t}(),DZ=function(t){function n(){var n;return(n=t.call(this)||this).VAt=new qQ,n}return ze(n,t),pe(n,[{key:"messageDispatcher",get:function(){return this.VAt}}]),n}((function(){var t=this;this.GAt=function(n){var i=new NZ(t.messageDispatcher),e=n.detail,r=e.integrationId,u=e.keySystem,s={state:jT.SR.pR(r,u,i)};t.messageDispatcher.SAt(new kZ(s,r))},this.kvt=new mZ,UW().contentProtectionIntegration={sdkEventBus:this.kvt},this.kvt.addEventListener(wZ.xAt,this.GAt)}));VL((function(t){new DZ})),me(),zt(),me(),zt(),me(),zt(),me(),zt(),Ae(),me(),zt();var PZ=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return ze(n,t),n}(fh);me(),zt();var BZ,OZ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).jAt=function(){},e.YAt(),e}ze(n,t);var i=n.prototype;return i.QAt=function(){this.gD&&this.gD.Go(qw.Wv,this.handleAirplayChangedEvent),this.gD=this.JL,this.gD.zo(qw.Wv,this.handleAirplayChangedEvent)},i.ZAt=function(){var t=this;return _a((function(){return ma(this,(function(n){return t.gD?(t.KAt(vR.CONNECTED),[2]):[2]}))}))()},i.JAt=function(){this.KAt(vR.AVAILABLE)},i.by=function(){De.Rs.Nu&&(this.$At.Sy(),this.tkt.Bo(),this.tkt=new Wc,nh(this.nkt(this.tkt.Lo)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).v_=void 0,e.l=vR.UNAVAILABLE,e.tkt=new Wc,e.handleAirplayChangedEvent=function(){e.gD&&e.gD.zy?e.ZAt():e._Z===vR.CONNECTED&&e.JAt()},e.$At=n,e.JL=i,e}ze(n,t);var i=n.prototype;return i.YAt=function(){this.QAt(),this.$At.zo("sourcechange",this.jAt),De.Rs.Nu&&this.KAt(vR.AVAILABLE)},i.preloadPlayer=function(t){if(jc(t),this.gD.Dg<My.um){var n=this.gD.Zo("loadedmetadata",t);return this.gD.Jy=wI.Ob,n}return j.resolve()},i.KAt=function(t){t!==this.l&&(this.l=t,this.Ho(new PZ(this.l)))},i.nkt=function(t){var n=this;return _a((function(){return ma(this,(function(i){switch(i.label){case 0:return[4,n.preloadPlayer(t)];case 1:return i.sent(),n.JL.by(),[2]}}))}))()},i.Ty=function(){De.Rs.Nu&&this.gD.Ty()},i.bv=function(){this.qo(),this.$At.Go("sourcechange",this.jAt),this.tkt.Bo()},pe(n,[{key:"DF",get:function(){return this._Z===vR.CONNECTED}},{key:"_Z",get:function(){return this.l}},{key:"d_",get:function(){var t;return this.v_||(this.v_=(t=this,{get casting(){return t.DF},get state(){return t._Z},start:function(){t.by()},stop:function(){t.Ty()},addEventListener:function(n,i){var e=ty(n,Jm);t.zo(e,i)},removeEventListener:function(n,i){var e=ty(n,Jm);t.Go(e,i)}})),this.v_}}]),n}(oh));me(),zt(),HL((function(t){return function(t){function n(){return t.apply(this,arguments)}return ze(n,t),n.prototype.l_=function(){var n=this.D$.d_;return Vm(t.prototype.l_.call(this),{get cast(){return n}})},n}(t)}),PL.B$),HL((function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).ikt=new OZ(mu(e),e.TF),e.D$.PF(e.ikt),e.zo("currentsourcechange",(function(){e.ikt.QAt()})),e}ze(n,t);var i=n.prototype;return i.l_=function(){var n=this,i=t.prototype.l_.call(this);return Vm(i.cast,{get airplay(){return n.ikt.d_}}),i},i.bv=function(){this.ikt.bv(),t.prototype.bv.call(this)},n}(t)}),PL.B$),me(),zt(),me(),zt(),me(),zt(),me(),zt(),(BZ||(BZ={})).ekt="airplaystatechange";var xZ=function(t){this.state=t,this.type=BZ.ekt},LZ=function(t){function n(n){var i;return(i=t.call(this)||this).rkt=function(t){var n=new xZ(t.state);i.pAt(n)},i.ukt=n,i.fdt(n),i}return ze(n,t),n.prototype.fdt=function(t){t.addEventListener("statechange",this.rkt)},n}(MQ);return VL((function(t){var n;(null==(n=t.d_.cast)?void 0:n.airplay)&&new LZ(t.d_.cast.airplay)})),me(),zt(),n.exports}));